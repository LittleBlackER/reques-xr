const _0x48bded=(function(){let _0x3e4cbb=!![];return function(_0x2b321d,_0x463d32){const _0x15017f=_0x3e4cbb?function(){if(_0x463d32){const _0x1ef85e=_0x463d32['apply'](_0x2b321d,arguments);return _0x463d32=null,_0x1ef85e;}}:function(){};return _0x3e4cbb=![],_0x15017f;};}()),_0x4b7011=_0x48bded(this,function(){return _0x4b7011['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x4b7011)['search']('(((.+)+)+)'+'+$');});_0x4b7011();const _0x44fb10=(function(){let _0xf4b969=!![];return function(_0x20b260,_0x4962d5){const _0x39dbe3=_0xf4b969?function(){if(_0x4962d5){const _0x500e7a=_0x4962d5['apply'](_0x20b260,arguments);return _0x4962d5=null,_0x500e7a;}}:function(){};return _0xf4b969=![],_0x39dbe3;};}());(function(){_0x44fb10(this,function(){const _0x16799d=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x5d9ac5=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x272a72=_0x4e84d9('init');!_0x16799d['test'](_0x272a72+'chain')||!_0x5d9ac5['test'](_0x272a72+'input')?_0x272a72('0'):_0x4e84d9();})();}());const _0x2b8b04=(function(){let _0x1d9fd5=!![];return function(_0x2f657e,_0x3b85dd){const _0x342885=_0x1d9fd5?function(){if(_0x3b85dd){const _0x5f13c3=_0x3b85dd['apply'](_0x2f657e,arguments);return _0x3b85dd=null,_0x5f13c3;}}:function(){};return _0x1d9fd5=![],_0x342885;};}()),_0x549ad3=_0x2b8b04(this,function(){let _0x1433bf;try{const _0x17dda2=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x1433bf=_0x17dda2();}catch(_0x294f34){_0x1433bf=window;}const _0xff36df=_0x1433bf['console']=_0x1433bf['console']||{},_0x594271=['log','warn','info','error','exception','table','trace'];for(let _0x448e86=0x126a+0x7*0x95+-0x3*0x77f;_0x448e86<_0x594271['length'];_0x448e86++){const _0x397268=_0x2b8b04['constructo'+'r']['prototype']['bind'](_0x2b8b04),_0x36b287=_0x594271[_0x448e86],_0x4bc319=_0xff36df[_0x36b287]||_0x397268;_0x397268['__proto__']=_0x2b8b04['bind'](_0x2b8b04),_0x397268['toString']=_0x4bc319['toString']['bind'](_0x4bc319),_0xff36df[_0x36b287]=_0x397268;}});_0x549ad3();var qx=Object['defineProp'+'erty'],Xx=(_0x25684b,_0x31391a,_0x14eec5)=>_0x31391a in _0x25684b?qx(_0x25684b,_0x31391a,{'enumerable':!(0x1d1*-0x6+-0xae3+0x15c9),'configurable':!(-0x2008+-0x2*-0x3d9+-0x5*-0x4de),'writable':!(-0x1ec4+0x2c*0x2+-0x79b*-0x4),'value':_0x14eec5}):_0x25684b[_0x31391a]=_0x14eec5,c=(_0x5a7893,_0x58234c,_0x3b5d3d)=>Xx(_0x5a7893,typeof _0x58234c!='symbol'?_0x58234c+'':_0x58234c,_0x3b5d3d);const jx='RenderFram'+'e',td='RenderFram'+'eTime',jp='RenderPass',Jn='RenderPass'+'Detail',pl='RenderActi'+'on',Yp='RenderTarg'+'etAlloc',Kp='TextureAll'+'oc',Zp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Ss='Element',tS='Textures',ml='GpuTimings',no='$_CURRENT_'+'SDK_VERSIO'+'N',sy='$_CURRENT_'+'SDK_REVISI'+'ON';function vh(_0x50c83f,_0x4aaadf){for(const _0x14279b in _0x4aaadf){const _0x4727cf=_0x4aaadf[_0x14279b];Array['isArray'](_0x4727cf)?_0x50c83f[_0x14279b]=vh([],_0x4727cf):_0x4727cf&&typeof _0x4727cf=='object'?_0x50c83f[_0x14279b]=vh({},_0x4727cf):_0x50c83f[_0x14279b]=_0x4727cf;}return _0x50c83f;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x369e6b=>{const _0x4a946b=Math['random']()*(0x738+0xcc*-0x9+0x1*0x4)|-0x4d+-0xbfc+0xc49;return(_0x369e6b==='x'?_0x4a946b:_0x4a946b&0x22d0+-0x1213+0x10ba*-0x1|0xfa2+-0xa*0x143+-0x2fc)['toString'](0xd*0x1ba+-0x1366+-0x2fc);});}},fe={'delimiter':'/','join'(..._0x5eccb9){let _0x16bea7=_0x5eccb9[0x7*-0x1cf+-0x257c+0xb*0x48f];for(let _0x32ff33=0x85*-0x37+0x2142+-0x4af;_0x32ff33<_0x5eccb9['length']-(-0x16eb+0x1d64+0x9*-0xb8);_0x32ff33++){const _0x174b63=_0x5eccb9[_0x32ff33],_0x49fe02=_0x5eccb9[_0x32ff33+(-0x16ed+0x10bc+0x632)];if(_0x49fe02[-0x24b1+0x1c60+-0x851*-0x1]===fe['delimiter']){_0x16bea7=_0x49fe02;continue;}_0x174b63&&_0x49fe02&&_0x174b63[_0x174b63['length']-(0x11*-0x191+-0x1b*0x5d+-0x1eb*-0x13)]!==fe['delimiter']&&_0x49fe02[0xc7d+-0x7*0x26a+0x1*0x469]!==fe['delimiter']?_0x16bea7+=fe['delimiter']+_0x49fe02:_0x16bea7+=_0x49fe02;}return _0x16bea7;},'normalize'(_0xfc778d){const _0x78e69=_0xfc778d['startsWith'](fe['delimiter']),_0x1aa827=_0xfc778d['endsWith'](fe['delimiter']),_0x1bdfa6=_0xfc778d['split']('/');let _0x308f44='',_0x4e4ab6=[];for(let _0x49c169=0x10*0x28+0x1c14*0x1+-0x2*0xf4a;_0x49c169<_0x1bdfa6['length'];_0x49c169++)if(_0x1bdfa6[_0x49c169]!==''&&_0x1bdfa6[_0x49c169]!=='.'){if(_0x1bdfa6[_0x49c169]==='..'&&_0x4e4ab6['length']>0x89f*0x1+0x251*-0x1+0x10d*-0x6){_0x4e4ab6=_0x4e4ab6['slice'](-0x1b86+0x30f+0x1877,_0x4e4ab6['length']-(-0x119a+-0xb77+0x1d13));continue;}_0x49c169>-0x1*-0x1d62+0x13d6+-0x3138&&_0x4e4ab6['push'](fe['delimiter']),_0x4e4ab6['push'](_0x1bdfa6[_0x49c169]);}return _0x308f44=_0x4e4ab6['join'](''),!_0x78e69&&_0x308f44[0x1*0xc61+0x71*-0x58+-0x1*-0x1a77]===fe['delimiter']&&(_0x308f44=_0x308f44['slice'](0x38*-0x11+0x19*0xa5+0x4*-0x319)),_0x1aa827&&_0x308f44[_0x308f44['length']-(-0x5*0x76b+0x138+-0x1c*-0x148)]!==fe['delimiter']&&(_0x308f44+=fe['delimiter']),_0x308f44;},'split'(_0x12b8b3){const _0x54c92c=_0x12b8b3['lastIndexO'+'f'](fe['delimiter']);return _0x54c92c!==-(-0x233d+0x1ba7+0x797)?[_0x12b8b3['substring'](-0xb7d*0x3+0x2b1+0x1fc6,_0x54c92c),_0x12b8b3['substring'](_0x54c92c+(-0x63c+0x3c7*0x3+-0x2*0x28c))]:['',_0x12b8b3];},'getBasename'(_0xb8159f){return fe['split'](_0xb8159f)[0x2d5*0x5+-0x50+-0x376*0x4];},'getDirectory'(_0x3deca6){return fe['split'](_0x3deca6)[0x25+-0xf*-0xfc+-0x15b*0xb];},'getExtension'(_0x553c16){const _0x23bba8=_0x553c16['split']('?')[-0x2*-0x50d+-0x91*-0x2b+-0x2275]['split']('.')['pop']();return _0x23bba8!==_0x553c16?'.'+_0x23bba8:'';},'isRelativePath'(_0x36e963){return _0x36e963['charAt'](0x56a+-0x189b*-0x1+0x91*-0x35)!=='/'&&_0x36e963['match'](/:\/\//)===null;},'extractPath'(_0xa5a9eb){let _0x46ba21='';const _0x4916b6=_0xa5a9eb['split']('/');let _0x5bc72f=-0x329*-0x1+0x105a+-0x1383;if(_0x4916b6['length']>-0x6*-0x21+-0xe4+0x1f*0x1){if(fe['isRelative'+'Path'](_0xa5a9eb)){if(_0x4916b6[-0x6a0+0x1*-0x305+0x1*0x9a5]==='.'){for(_0x5bc72f=-0x1b2f+0x7*0x2b+0x1a02;_0x5bc72f<_0x4916b6['length']-(0xe7d*0x1+0x23d7+-0x3253);++_0x5bc72f)_0x46ba21+=_0x5bc72f===-0x269d+0x2*-0x1ab+0x29f3?_0x4916b6[_0x5bc72f]:'/'+_0x4916b6[_0x5bc72f];}else{if(_0x4916b6[-0x11bf+0x1*-0x23fe+-0x1*-0x35bd]==='..'){for(_0x5bc72f=-0x279*-0xe+0x118a+-0x3428;_0x5bc72f<_0x4916b6['length']-(0x1415+-0x1*0x1b29+0x715);++_0x5bc72f)_0x46ba21+=_0x5bc72f===-0x1*-0x281+0x1*-0xb83+0x902?_0x4916b6[_0x5bc72f]:'/'+_0x4916b6[_0x5bc72f];}else{for(_0x46ba21='.',_0x5bc72f=0x2b*-0x1f+-0x1*0xb3e+0x1073;_0x5bc72f<_0x4916b6['length']-(-0x1ad3+-0x2061+0x3b35);++_0x5bc72f)_0x46ba21+='/'+_0x4916b6[_0x5bc72f];}}}else{for(_0x5bc72f=-0x1171+0xc75+0x3a*0x16;_0x5bc72f<_0x4916b6['length']-(0x246f+0xc2b+0x57*-0x8f);++_0x5bc72f)_0x46ba21+=_0x5bc72f===-0x109e+-0x327*0x2+0x16ec?_0x4916b6[_0x5bc72f]:'/'+_0x4916b6[_0x5bc72f];}}return _0x46ba21;}},iS=()=>{let _0x286daa=!(0x2*0x895+-0x15*-0x17a+-0x302b);try{const _0x20f839=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x286daa=!(-0x10b1+0x15b*-0x1+0x120c),!(-0x2f6*0x8+0x25f2+-0xe41);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x20f839),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x20f839);}catch{}return _0x286daa;},xi=typeof navigator<'u'?navigator['userAgent']:'',bh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Qp=/android/i['test'](xi)?'android':/ip(?:[ao]d|hone)/i['test'](xi)?'ios':/windows/i['test'](xi)?'windows':/mac os/i['test'](xi)?'osx':/linux/i['test'](xi)?'linux':/cros/i['test'](xi)?'cros':null,rS=bh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](xi)?'chrome':/Safari\//['test'](xi)?'safari':/Firefox\//['test'](xi)?'firefox':'other',nS=bh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x87*-0x48+-0x1744+0x3d3c),aS=iS(),ye={'name':Qp,'browser':bh==='browser','worker':bh==='worker','android':Qp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},iy='abcdefghij'+'klmnopqrst'+'uvwxyz',ry='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=iy+ry,ou=0x6*0x4037+-0x60ad+0x281*-0x1d,ny=-0x22a*0x45+-0x79f8+0x35*0x945,Jp=-0x16a1d+-0x46c8*-0x4+0x12afd,lS=-0xa19c+-0x737d+0x1f518*0x1,hS=-0x3a2c+0x2211+0x3828,em=0x1f19a+0x317b*0x5+-0xf71b,tm=0x9d90*-0x2+-0x4*0x518c+0x7e97*0x9,cS=0x377e3+0x2540c*-0x1+0xd024,dS=-0x3a3a2+-0xd4a2*-0x4+0x24519,uS=0x2709+-0x317+-0x322,fS=0x3e*0x75+-0x8dd*-0x3+-0x15ee*0x1,lu=-0x16007+-0x6*0x2531+0x33d2d,hu=0xc72*0x11+-0x9cfe*-0x1+-0xcb9*0x9;function cu(_0x1131e7,_0xc116c3=0x22b0+0xc1a+-0x1765*0x2){const _0x29dbec=_0x1131e7['length'];if(_0xc116c3<0x3*0x6f7+-0x8a+-0x145b||_0xc116c3>=_0x29dbec)return null;const _0x293d81=_0x1131e7['charCodeAt'](_0xc116c3);if(_0x29dbec>0x6e7+-0x2044+-0x22*-0xbf&&_0x293d81>=ou&&_0x293d81<=ny){const _0x46e93d=_0x1131e7['charCodeAt'](_0xc116c3+(-0x18da+0x217c+0x1*-0x8a1));if(_0x46e93d>=Jp&&_0x46e93d<=lS)return{'code':(_0x293d81-ou)*(-0x4a+-0x46*0x20+0x685*0x2)+_0x46e93d-Jp+(0x8710+0xc149*-0x2+0x1fb82),'long':!(0x22f2+0x2555+-0x4847)};}return{'code':_0x293d81,'long':!(0x565+0x1*0x1cf+-0x733)};}function Xi(_0x1aec76,_0x51444d,_0x3fd412){if(!_0x1aec76)return!(-0x9*0x91+-0x16d3*0x1+-0x1*-0x1bed);const _0x48ff0c=cu(_0x1aec76);if(_0x48ff0c){const _0x346583=_0x48ff0c['code'];return _0x346583>=_0x51444d&&_0x346583<=_0x3fd412;}return!(-0x14cb+0x4e*0x29+0x84e);}function pS(_0x4d0e40,_0x5e4f64){if(_0x5e4f64===_0x4d0e40['length']-(-0xaee+-0x117d+-0x1c6c*-0x1))return 0x16a3+-0x863+-0xe3f;if(Xi(_0x4d0e40[_0x5e4f64],ou,ny)){const _0x16c2aa=_0x4d0e40['substring'](_0x5e4f64,_0x5e4f64+(-0x4b2+-0x14*0x123+0x1b70)),_0x38216c=_0x4d0e40['substring'](_0x5e4f64+(-0xa*-0x10+0x15*0x59+-0x7eb*0x1),_0x5e4f64+(0x1c4d+0x2*0x1113+-0x3e6f));return Xi(_0x38216c,cS,dS)||Xi(_0x16c2aa,em,tm)&&Xi(_0x38216c,em,tm)?-0x112d*0x1+-0x2129+0x325a:Xi(_0x38216c,lu,hu)?-0x4ca*0x7+0xa67*-0x3+0x40be:-0xe05+0x17*0x62+0x539*0x1;}return Xi(_0x4d0e40[_0x5e4f64+(-0x8*0xad+0x1947+-0x13de)],lu,hu)?0x5*-0x305+-0x30*-0x4c+-0x1*-0xdb:-0x2*-0x1152+-0x182c+-0xa77;}const ah={'ASCII_LOWERCASE':iy,'ASCII_UPPERCASE':ry,'ASCII_LETTERS':oS,'format'(_0xdea6f,..._0x5d5c63){for(let _0x42fe9b=-0x717*0x3+0x1*-0x22b4+0x26f*0x17;_0x42fe9b<_0x5d5c63['length'];_0x42fe9b++)_0xdea6f=_0xdea6f['replace']('{'+_0x42fe9b+'}',_0x5d5c63[_0x42fe9b]);return _0xdea6f;},'getCodePoint'(_0x85dc5a,_0x34c0ca){const _0x2405a9=cu(_0x85dc5a,_0x34c0ca);return _0x2405a9&&_0x2405a9['code'];},'getCodePoints'(_0x50621b){if(typeof _0x50621b!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0xb8e2d0=0x21df+-0x1fe9+0x1*-0x1f6;const _0x121280=[];let _0x4881eb;for(;_0x4881eb=cu(_0x50621b,_0xb8e2d0);)_0x121280['push'](_0x4881eb['code']),_0xb8e2d0+=_0x4881eb['long']?-0xe64+-0xc64+0x1aca:-0x2f*0x1b+-0x4a*0x19+0x30c*0x4;return _0x121280;},'getSymbols'(_0x548afa){if(typeof _0x548afa!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0xb23e3e=-0x20a8+0x1*-0x346+0x12*0x1ff;const _0x1fcdc9=_0x548afa['length'],_0xe4b743=[];let _0x5c3b14=-0x39b*-0x4+0xf0a+-0x3*0x9d2,_0x2991ed;for(;_0xb23e3e<_0x1fcdc9;){if(_0x5c3b14+=pS(_0x548afa,_0xb23e3e+_0x5c3b14),_0x2991ed=_0x548afa[_0xb23e3e+_0x5c3b14],Xi(_0x2991ed,uS,fS)&&(_0x2991ed=_0x548afa[_0xb23e3e+_0x5c3b14++]),Xi(_0x2991ed,lu,hu)&&(_0x2991ed=_0x548afa[_0xb23e3e+_0x5c3b14++]),_0x2991ed&&_0x2991ed['charCodeAt'](0x1c49+0x1*-0x1ae+-0x1a9b)===hS){_0x2991ed=_0x548afa[_0xb23e3e+_0x5c3b14++];continue;}const _0x351165=_0x548afa['substring'](_0xb23e3e,_0xb23e3e+_0x5c3b14);_0xe4b743['push'](_0x351165),_0xb23e3e+=_0x5c3b14,_0x5c3b14=-0x19dc+-0x2271*-0x1+-0x895;}return _0xe4b743;},'fromCodePoint'(){const _0x429c56=[];let _0x39fa4c,_0x29a130,_0x55e5a0;for(let _0x4d24cc=0x2*0x185+-0x1ee8+0x1bde;_0x4d24cc<arguments['length'];++_0x4d24cc)_0x39fa4c=Number(arguments[_0x4d24cc]),_0x29a130=_0x39fa4c-(0x1d45b+-0x18d31+0xb8d6),_0x55e5a0=_0x39fa4c>-0x72*-0x473+0xdb91+-0x1d6c8?[(_0x29a130>>0x7f5+0x8c3+-0x10ae)+(-0x1714c*0x1+0x47*0x48b+0x2589*0x7),_0x29a130%(0x9e3+0x139f+-0x1982)+(-0x1b12c+0x1cd5*-0x9+0x390a9)]:[_0x39fa4c],_0x429c56['push'](String['fromCharCo'+'de']['apply'](null,_0x55e5a0));return _0x429c56['join']('');}},zr=class zr{static['set'](_0x5d62a7,_0x22c32b=!(0xaa6+-0x1*0x105+0x1ed*-0x5)){_0x22c32b?zr['_traceChan'+'nels']['add'](_0x5d62a7):zr['_traceChan'+'nels']['delete'](_0x5d62a7);}static['get'](_0x40bbe9){return zr['_traceChan'+'nels']['has'](_0x40bbe9);}};c(zr,'_traceChan'+'nels',new Set()),c(zr,'stack',!(0x2185+-0xf82*0x1+-0x1202));let Xs=zr;const bt=class bt{static['deprecated'](_0x3c69c5){bt['_loggedMes'+'sages']['has'](_0x3c69c5)||(bt['_loggedMes'+'sages']['add'](_0x3c69c5),console['warn']('DEPRECATED'+':\x20'+_0x3c69c5));}static['removed'](_0x5dedda){bt['_loggedMes'+'sages']['has'](_0x5dedda)||(bt['_loggedMes'+'sages']['add'](_0x5dedda),console['error']('REMOVED:\x20'+_0x5dedda));}static['assertDepr'+'ecated'](_0x16b915,_0x56ce11){_0x16b915||bt['deprecated'](_0x56ce11);}static['assert'](_0x2bbcab,..._0x4a37f4){_0x2bbcab||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4a37f4);}static['assertDest'+'royed'](_0x4c7ed3){var _0x22e23c;if(_0x4c7ed3!=null&&_0x4c7ed3['__alreadyD'+'estroyed']){const _0x43a07e='['+((_0x22e23c=_0x4c7ed3['constructo'+'r'])==null?void(-0x3*0x841+0x9c2*-0x3+0x3609):_0x22e23c['name'])+(']\x20with\x20nam'+'e\x20[')+_0x4c7ed3['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');bt['_loggedMes'+'sages']['has'](_0x43a07e)||(bt['_loggedMes'+'sages']['add'](_0x43a07e),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x43a07e,_0x4c7ed3));}}static['call'](_0x4e58a8){_0x4e58a8();}static['log'](..._0x584ce1){console['log'](..._0x584ce1);}static['logOnce'](_0x23470c,..._0xb2c4){bt['_loggedMes'+'sages']['has'](_0x23470c)||(bt['_loggedMes'+'sages']['add'](_0x23470c),console['log'](_0x23470c,..._0xb2c4));}static['warn'](..._0x49b8a9){console['warn'](..._0x49b8a9);}static['warnOnce'](_0x37b1ac,..._0x3af7c8){bt['_loggedMes'+'sages']['has'](_0x37b1ac)||(bt['_loggedMes'+'sages']['add'](_0x37b1ac),console['warn'](_0x37b1ac,..._0x3af7c8));}static['error'](..._0x481fcd){console['error'](..._0x481fcd);}static['errorOnce'](_0xcaec41,..._0x39e45b){bt['_loggedMes'+'sages']['has'](_0xcaec41)||(bt['_loggedMes'+'sages']['add'](_0xcaec41),console['error'](_0xcaec41,..._0x39e45b));}static['trace'](_0x21f3fb,..._0x38f85b){Xs['get'](_0x21f3fb)&&(console['groupColla'+'psed'](_0x21f3fb['padEnd'](0x4bb+-0x6c5*-0x2+0x1*-0x1231,'\x20')+'|',..._0x38f85b),console['groupEnd']());}};c(bt,'_loggedMes'+'sages',new Set());let v=bt;class mn{static['setName'](_0x324e2f,_0x5a616a){_0x324e2f&&(_0x324e2f['name']=_0x5a616a);}static['setLabel'](_0x81f195,_0x4d9ace){_0x81f195&&(_0x81f195['label']=_0x4d9ace);}static['setDestroy'+'ed'](_0x204a9e){_0x204a9e&&(_0x204a9e['__alreadyD'+'estroyed']=!(0x1b3d+-0x2*0x7b4+-0xbd5));}}class mS{constructor(_0x259d79,_0x54b22e,_0x40f510,_0x36e104,_0x11964a=!(-0xd1c+-0x1b4*0xb+0x1*0x1fd9)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0xe*-0x24c+-0x562+-0x7*-0x55d)),(this['handler']=_0x259d79,this['name']=_0x54b22e,this['callback']=_0x40f510,this['scope']=_0x36e104,this['_once']=_0x11964a);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x44892a,_0x19133f,_0x46096c=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x44892a,_0x19133f,_0x46096c,!(0x2*0x251+0x1*-0x3+-0x49e));}['once'](_0x1eb31c,_0x2d173b,_0x55fb9c=this){return v['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x1eb31c,_0x2d173b,_0x55fb9c,!(0x11ba+-0x2*-0x131+-0x141c));}set['removed'](_0x12a8f5){_0x12a8f5&&(this['_removed']=!(0x16db+-0x2a7+-0x1*0x1434));}get['removed'](){return this['_removed'];}}class ce{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x587f20,_0x49ff85,_0x81bd01,_0x5529d3){if((!_0x587f20||typeof _0x587f20!='string'||!_0x49ff85)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x587f20+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x49ff85),this['_callbacks']['has'](_0x587f20)||this['_callbacks']['set'](_0x587f20,[]),this['_callbackA'+'ctive']['has'](_0x587f20)){const _0x50f97d=this['_callbackA'+'ctive']['get'](_0x587f20);_0x50f97d&&_0x50f97d===this['_callbacks']['get'](_0x587f20)&&this['_callbackA'+'ctive']['set'](_0x587f20,_0x50f97d['slice']());}const _0x2e77df=new mS(this,_0x587f20,_0x49ff85,_0x81bd01,_0x5529d3);return this['_callbacks']['get'](_0x587f20)['push'](_0x2e77df),_0x2e77df;}['on'](_0x4ca787,_0x5e4209,_0x3e1206=this){return this['_addCallba'+'ck'](_0x4ca787,_0x5e4209,_0x3e1206,!(-0x26f5*-0x1+0x90c*-0x2+-0x14dc));}['once'](_0x495522,_0x1ab4d9,_0x24ab59=this){return this['_addCallba'+'ck'](_0x495522,_0x1ab4d9,_0x24ab59,!(0x106+-0x15*0x1b+0x5*0x3d));}['off'](_0x331e55,_0x28970e,_0x47ab1a){if(_0x331e55)this['_callbackA'+'ctive']['has'](_0x331e55)&&this['_callbackA'+'ctive']['get'](_0x331e55)===this['_callbacks']['get'](_0x331e55)&&this['_callbackA'+'ctive']['set'](_0x331e55,this['_callbackA'+'ctive']['get'](_0x331e55)['slice']());else{for(const [_0x4def9a,_0x451dcb]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x4def9a)&&this['_callbacks']['get'](_0x4def9a)===_0x451dcb&&this['_callbackA'+'ctive']['set'](_0x4def9a,_0x451dcb['slice']());}if(_0x331e55){if(_0x28970e){const _0x35e95e=this['_callbacks']['get'](_0x331e55);if(!_0x35e95e)return this;for(let _0x521113=-0x1*-0x79f+-0x137+-0x334*0x2;_0x521113<_0x35e95e['length'];_0x521113++)_0x35e95e[_0x521113]['callback']===_0x28970e&&(_0x47ab1a&&_0x35e95e[_0x521113]['scope']!==_0x47ab1a||(_0x35e95e[_0x521113]['removed']=!(0x1*0x1dc3+-0x1*0x1d01+-0xc2),_0x35e95e['splice'](_0x521113,0x1262+0xe13*0x1+-0x2074),_0x521113--));_0x35e95e['length']===-0x15*-0xb3+0x4*-0x472+-0x1*-0x319&&this['_callbacks']['delete'](_0x331e55);}else{const _0x4bc652=this['_callbacks']['get'](_0x331e55);if(_0x4bc652){for(let _0x3a84e6=0x444+-0x313*-0x2+-0x3e*0x2b;_0x3a84e6<_0x4bc652['length'];_0x3a84e6++)_0x4bc652[_0x3a84e6]['removed']=!(-0x1d99+0x2351+-0x2dc*0x2);this['_callbacks']['delete'](_0x331e55);}}}else{for(const _0x5539a4 of this['_callbacks']['values']())for(let _0x5c92d8=0x3e*-0x26+-0x136+0xa6a;_0x5c92d8<_0x5539a4['length'];_0x5c92d8++)_0x5539a4[_0x5c92d8]['removed']=!(0x19d*-0x4+0x1*0x17db+-0x5*0x37b);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x2b59f6){const _0xc1b210=_0x2b59f6['name'];_0x2b59f6['removed']=!(-0xc73+-0xd*-0x301+-0x1a9a),this['_callbackA'+'ctive']['has'](_0xc1b210)&&this['_callbackA'+'ctive']['get'](_0xc1b210)===this['_callbacks']['get'](_0xc1b210)&&this['_callbackA'+'ctive']['set'](_0xc1b210,this['_callbackA'+'ctive']['get'](_0xc1b210)['slice']());const _0x2c1031=this['_callbacks']['get'](_0xc1b210);if(!_0x2c1031)return this;const _0x321bc2=_0x2c1031['indexOf'](_0x2b59f6);return _0x321bc2!==-(0x1*0x1ae3+0x75*-0x6+0x5*-0x4d4)&&(_0x2c1031['splice'](_0x321bc2,-0xbbf*0x3+0x7*0x445+0x55b),_0x2c1031['length']===0x1068+0xeff+0x1f67*-0x1&&this['_callbacks']['delete'](_0xc1b210)),this;}['fire'](_0x3870b8,_0x4141b2,_0x3ff21e,_0x19d58a,_0x1f7fbf,_0xfe32c0,_0x2be4aa,_0x4acc84,_0x494e27){if(!_0x3870b8)return this;const _0x137144=this['_callbacks']['get'](_0x3870b8);if(!_0x137144)return this;let _0x24a007;this['_callbackA'+'ctive']['has'](_0x3870b8)?this['_callbackA'+'ctive']['get'](_0x3870b8)!==_0x137144&&(_0x24a007=_0x137144['slice']()):this['_callbackA'+'ctive']['set'](_0x3870b8,_0x137144);for(let _0x52a1a2=-0x73d+0x1*0x977+0x5*-0x72;(_0x24a007||this['_callbackA'+'ctive']['get'](_0x3870b8))&&_0x52a1a2<(_0x24a007||this['_callbackA'+'ctive']['get'](_0x3870b8))['length'];_0x52a1a2++){const _0x5722cb=(_0x24a007||this['_callbackA'+'ctive']['get'](_0x3870b8))[_0x52a1a2];if(_0x5722cb['callback']&&(_0x5722cb['callback']['call'](_0x5722cb['scope'],_0x4141b2,_0x3ff21e,_0x19d58a,_0x1f7fbf,_0xfe32c0,_0x2be4aa,_0x4acc84,_0x494e27),_0x5722cb['_once'])){const _0x5615d8=this['_callbacks']['get'](_0x3870b8),_0x599020=_0x5615d8?_0x5615d8['indexOf'](_0x5722cb):-(0x1*-0x12ec+-0x1201+-0x1d*-0x146);if(_0x599020!==-(-0x2629+-0x1d9a+-0x1*-0x43c4)){this['_callbackA'+'ctive']['get'](_0x3870b8)===_0x5615d8&&this['_callbackA'+'ctive']['set'](_0x3870b8,this['_callbackA'+'ctive']['get'](_0x3870b8)['slice']());const _0x4d8954=this['_callbacks']['get'](_0x3870b8);if(!_0x4d8954)continue;_0x4d8954[_0x599020]['removed']=!(-0xf*0x47+0x47a+-0x3*0x1b),_0x4d8954['splice'](_0x599020,0x25*-0xb2+0x242c+-0xa71),_0x4d8954['length']===0x939*-0x1+-0x8fe*-0x1+-0x3b*-0x1&&this['_callbacks']['delete'](_0x3870b8);}}}return _0x24a007||this['_callbackA'+'ctive']['delete'](_0x3870b8),this;}['hasEvent'](_0x265288){var _0x8408ac;return!!((_0x8408ac=this['_callbacks']['get'](_0x265288))!=null&&_0x8408ac['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x145dfe,_0x521c41){if(this['_index'][_0x145dfe])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x145dfe);const _0x3e4c7c=this['_list']['push'](_0x521c41)-(0x46d*0x1+-0x2*0x15a+-0x1b8);this['_index'][_0x145dfe]=_0x3e4c7c;}['has'](_0x40001b){return this['_index'][_0x40001b]!==void(-0x2*-0x1169+0xc1*-0xc+-0x2*0xce3);}['get'](_0x1454f6){const _0x2de9bc=this['_index'][_0x1454f6];return _0x2de9bc!==void(0xd24+0x12b1+0x119*-0x1d)?this['_list'][_0x2de9bc]:null;}['remove'](_0x65fc0b){const _0x4815d2=this['_index'][_0x65fc0b];if(_0x4815d2!==void(0xb70*0x1+-0xfec+0x7*0xa4)){this['_list']['splice'](_0x4815d2,-0x1b52+-0x35*-0x9d+0x33*-0x1a),delete this['_index'][_0x65fc0b];for(_0x65fc0b in this['_index']){const _0x5e4f43=this['_index'][_0x65fc0b];_0x5e4f43>_0x4815d2&&(this['_index'][_0x65fc0b]=_0x5e4f43-(0x35b+0x16*-0xf2+0x1172));}return!(0xeac+0x1*-0x8ad+0x133*-0x5);}return!(0x12ea+-0x14a3*0x1+0x1ba);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x5*-0x123+0x833*0x1+-0xde2;for(const _0x473679 in this['_index'])delete this['_index'][_0x473679];}}const gS=_0x1d4489=>{const _0x2b2df4={};let _0x34d4d1=_0x2b2df4;return()=>(_0x34d4d1===_0x2b2df4&&(_0x34d4d1=_0x1d4489()),_0x34d4d1);},Ns=class Ns{static['loadScript'](_0x382cb3,_0x31ab56){const _0x5ec70c=document['createElem'+'ent']('script');_0x5ec70c['setAttribu'+'te']('src',_0x382cb3),_0x5ec70c['onload']=()=>{_0x31ab56(null);},_0x5ec70c['onerror']=()=>{_0x31ab56('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x382cb3+'\x27');},document['body']['appendChil'+'d'](_0x5ec70c);}static['loadWasm'](_0x348214,_0x59f2cb,_0x50a92f){const _0xa03b59=Ns['wasmSuppor'+'ted']()&&_0x59f2cb['glueUrl']&&_0x59f2cb['wasmUrl']?_0x59f2cb['glueUrl']:_0x59f2cb['fallbackUr'+'l'];_0xa03b59?Ns['loadScript'](_0xa03b59,_0x1bed37=>{if(_0x1bed37)_0x50a92f(_0x1bed37,null);else{const _0x2c3895=window[_0x348214];window[_0x348214]=void(0xb3b+-0xd94*-0x2+0x1*-0x2663),_0x2c3895({'locateFile':()=>_0x59f2cb['wasmUrl'],'onAbort':()=>{_0x50a92f('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x3db933=>{_0x50a92f(null,_0x3db933);});}}):_0x50a92f('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x5d840d){return Ns['modules']['hasOwnProp'+'erty'](_0x5d840d)||(Ns['modules'][_0x5d840d]={'config':null,'initializing':!(-0xff*0x1c+-0xd5+0xe5d*0x2),'instance':null,'callbacks':[]}),Ns['modules'][_0x5d840d];}static['initialize'](_0x498dd4,_0x355182){if(_0x355182['initializi'+'ng'])return;const _0x53a3ef=_0x355182['config'];(_0x53a3ef['glueUrl']||_0x53a3ef['wasmUrl']||_0x53a3ef['fallbackUr'+'l'])&&(_0x355182['initializi'+'ng']=!(0x1227*0x1+0x9c9+-0x1bf0),Ns['loadWasm'](_0x498dd4,_0x53a3ef,(_0x23aea7,_0x2ee626)=>{_0x23aea7?_0x53a3ef['errorHandl'+'er']?_0x53a3ef['errorHandl'+'er'](_0x23aea7):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x498dd4+'\x20error='+_0x23aea7):(_0x355182['instance']=_0x2ee626,_0x355182['callbacks']['forEach'](_0x4c16be=>{_0x4c16be(_0x2ee626);}));}));}};c(Ns,'modules',{}),c(Ns,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x4a0d3d=new WebAssembly['Module'](Uint8Array['of'](0x15*0x95+-0x10a2*0x1+0x469*0x1,-0xd82+-0x133a*-0x1+0x1*-0x557,0x2*-0xd2c+0x24ad+-0x9e2,0x4*0xf8+-0x3*0x52d+0xc14,-0x3b*0x85+-0x1d3c*0x1+0x3be4,-0x1*0x565+-0x26*-0xcd+0xdd*-0x1d,-0x4d*-0x6b+-0x11bd+-0x1*0xe72,-0x7a2+-0x22a0+0x2a42));if(_0x4a0d3d instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x4a0d3d)instanceof WebAssembly['Instance'];}}catch{}return!(0x1f59+0x2*-0xe55+-0x2ae);}));let Br=Ns;class ay{static['setConfig'](_0x3b8f70,_0x3914cd){const _0x1f72b2=Br['getModule'](_0x3b8f70);_0x1f72b2['config']=_0x3914cd,_0x1f72b2['callbacks']['length']>-0xdd9*0x2+-0x1186+0x2*0x169c&&Br['initialize'](_0x3b8f70,_0x1f72b2);}static['getConfig'](_0x67fea4){var _0x254a42,_0x34c8c3;return(_0x34c8c3=(_0x254a42=Br['modules'])==null?void(0x194e*-0x1+0x25e4+-0xc96):_0x254a42[_0x67fea4])==null?void(0xff5*0x1+-0x1*0x6af+-0x1*0x946):_0x34c8c3['config'];}static['getInstanc'+'e'](_0x58e947,_0x546200){const _0x368f34=Br['getModule'](_0x58e947);_0x368f34['instance']?_0x546200(_0x368f34['instance']):(_0x368f34['callbacks']['push'](_0x546200),_0x368f34['config']&&Br['initialize'](_0x58e947,_0x368f34));}}class oy{constructor(_0x547b13){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x1*-0x1f0f+-0xf99+-0x2*-0x1754),(this['arraybuffe'+'r']=_0x547b13,this['dataView']=new DataView(_0x547b13));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x11b9a7=-0x21*0x1+0x2455+0x7*-0x52c){this['offset']=_0x11b9a7;}['skip'](_0x2e8f41){this['offset']+=_0x2e8f41;}['align'](_0x291127){this['offset']=this['offset']+_0x291127-(0x1122+0x2*-0x2a1+-0xbdf)&~(_0x291127-(0xb*0xb+-0x13dc+-0x49*-0x44));}['_inc'](_0x93156){return this['offset']+=_0x93156,this['offset']-_0x93156;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x1cb8a5){let _0x5ac3f3='';for(let _0x4fb795=0x2202+0xaf+0x53*-0x6b;_0x4fb795<_0x1cb8a5;++_0x4fb795)_0x5ac3f3+=this['readChar']();return _0x5ac3f3;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x10d*0x25+-0x7*-0xf9+0x2014*0x1),!(0x11de+-0x1fdd*-0x1+-0x31bb));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x95f*0x3+0x6*-0x1ca+-0x115d),!(0x11aa*0x1+-0x17d9+-0x62f*-0x1));}['readU64'](){return this['readU32']()+(0xef6+0x1*-0x8d2+-0x622)**(-0xbe9*-0x2+0x1*-0x1f01+0x74f)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x20cd+-0x9f8+-0x3*-0xe43),!(0xa85+-0x27*0x4a+0xc2));}['readArray'](_0x5579ed){for(let _0x561f05=0x22cc+0x2645+-0x4911;_0x561f05<_0x5579ed['length'];++_0x561f05)_0x5579ed[_0x561f05]=this['readU8']();}['readLine'](){const _0x583f96=this['dataView'];let _0x13bd4c='';for(;!(this['offset']>=_0x583f96['byteLength']);){const _0x595701=String['fromCharCo'+'de'](this['readU8']());if(_0x595701==='\x0a')break;_0x13bd4c+=_0x595701;}return _0x13bd4c;}}class wh{constructor(_0x2cccde){c(this,'items',[]),c(this,'length',-0x5*0x64f+-0x281*0xa+0x3895),c(this,'loopIndex',-(-0x4b+-0x18dc+0x1928)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x2cccde['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x1f72e3){let _0x568fbc=0x11a0+-0x630+0x8*-0x16e,_0x5f5bbb=this['items']['length']-(-0x4f*-0x47+0x25e7+-0x3bcf);const _0x5cd18e=_0x1f72e3[this['_sortBy']];let _0x4fe1ce,_0x475520;for(;_0x568fbc<=_0x5f5bbb;)_0x4fe1ce=Math['floor']((_0x568fbc+_0x5f5bbb)/(-0x25*-0x40+0x24cb+-0x2e09)),_0x475520=this['items'][_0x4fe1ce][this['_sortBy']],_0x475520<=_0x5cd18e?_0x568fbc=_0x4fe1ce+(-0x1d89*-0x1+-0xd*-0xb6+-0x26c6):_0x475520>_0x5cd18e&&(_0x5f5bbb=_0x4fe1ce-(0x247f+0xfa*0x1+-0x4af*0x8));return _0x568fbc;}['_doSort'](_0x538606,_0x2cca74){const _0x4e76ae=this['_sortBy'];return _0x538606[_0x4e76ae]-_0x2cca74[_0x4e76ae];}['insert'](_0x3987de){const _0x42bea7=this['_binarySea'+'rch'](_0x3987de);this['items']['splice'](_0x42bea7,0x19f5+-0x5ba*-0x2+-0x2569,_0x3987de),this['length']++,this['loopIndex']>=_0x42bea7&&this['loopIndex']++;}['append'](_0xebaac7){this['items']['push'](_0xebaac7),this['length']++;}['remove'](_0x35764d){const _0x446ce6=this['items']['indexOf'](_0x35764d);_0x446ce6<0x898+0x2598+-0x2e30||(this['items']['splice'](_0x446ce6,-0x1d10+-0xa9b+0x27ac*0x1),this['length']--,this['loopIndex']>=_0x446ce6&&this['loopIndex']--);}['sort'](){const _0x4bec96=this['loopIndex']>=0x22cf+0x1*0xbb9+-0x2e88?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4bec96!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4bec96));}}class po extends ce{constructor(_0x14b991){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x14b991;}['add'](..._0x3397d2){let _0x5d322c=!(0x8ef*-0x2+-0x26*-0x1+-0xd*-0x15d);const _0x3786fa=this['_processAr'+'guments'](_0x3397d2,!(0x2b*-0x5b+0x249f+-0x1556*0x1));if(!_0x3786fa['length'])return _0x5d322c;for(let _0x272edb=0x243f*0x1+-0x6*-0x3e5+0x13df*-0x3;_0x272edb<_0x3786fa['length'];_0x272edb++)this['_index'][_0x3786fa[_0x272edb]]||(_0x5d322c=!(-0x52*-0x7+-0x2*-0x7a1+-0x380*0x5),this['_index'][_0x3786fa[_0x272edb]]=!(0x5a6+-0x1bb2+0x160c),this['_list']['push'](_0x3786fa[_0x272edb]),this['fire']('add',_0x3786fa[_0x272edb],this['_parent']));return _0x5d322c&&this['fire']('change',this['_parent']),_0x5d322c;}['remove'](..._0x4c8748){let _0x9d654d=!(0x1b*-0xcf+-0xa*0x1b7+0x3e6*0xa);if(!this['_list']['length'])return _0x9d654d;const _0x14eed4=this['_processAr'+'guments'](_0x4c8748,!(0x2191+-0xeb8+-0x12d9));if(!_0x14eed4['length'])return _0x9d654d;for(let _0x470bd4=0x5*-0x455+0x123*0x3+-0x10*-0x124;_0x470bd4<_0x14eed4['length'];_0x470bd4++)this['_index'][_0x14eed4[_0x470bd4]]&&(_0x9d654d=!(0x128d+0xd5f+0x2*-0xff6),delete this['_index'][_0x14eed4[_0x470bd4]],this['_list']['splice'](this['_list']['indexOf'](_0x14eed4[_0x470bd4]),0x110+0x1*0x53+0xb1*-0x2),this['fire']('remove',_0x14eed4[_0x470bd4],this['_parent']));return _0x9d654d&&this['fire']('change',this['_parent']),_0x9d654d;}['clear'](){if(!this['_list']['length'])return;const _0x1c2ab8=this['_list']['slice'](-0xdd+0x1dcc*-0x1+0x1*0x1ea9);this['_list']=[],this['_index']={};for(let _0x43848f=-0x1*-0x2353+-0x2095+-0x2be;_0x43848f<_0x1c2ab8['length'];_0x43848f++)this['fire']('remove',_0x1c2ab8[_0x43848f],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x58092a){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x58092a)):!(-0x1*-0x1f6b+0x2*0x49+-0x2*0xffe);}['_has'](_0x5698c0){if(!this['_list']['length']||!_0x5698c0['length'])return!(-0xccc+0x157a+-0x8ad);for(let _0x54bfc6=-0x1*0x895+-0x2*0x3+-0x89b*-0x1;_0x54bfc6<_0x5698c0['length'];_0x54bfc6++)if(_0x5698c0[_0x54bfc6]['length']===0x65e*0x6+-0xb1a+-0x1b19*0x1){if(this['_index'][_0x5698c0[_0x54bfc6][-0x2b*-0xd9+0x5f8+0x2a6b*-0x1]])return!(-0xe6d+0x10e0+-0x273);}else{let _0x4cddad=!(0x17a2+-0x7da+-0xfc8*0x1);for(let _0x241915=-0x2677*0x1+-0x12c0+0x3937;_0x241915<_0x5698c0[_0x54bfc6]['length'];_0x241915++)if(!this['_index'][_0x5698c0[_0x54bfc6][_0x241915]]){_0x4cddad=!(-0x901+0x6d9+0x229);break;}if(_0x4cddad)return!(0xedf+0x1fb9+0x6*-0x7c4);}return!(0x22ab+-0x7f*0x1a+0x15c4*-0x1);}['list'](){return this['_list']['slice'](0x263b*0x1+-0xbdb*0x2+0x15*-0xb1);}['_processAr'+'guments'](_0x4dff0f,_0x4fa210){const _0x419235=[];let _0x1ae3d8=[];if(!_0x4dff0f||!_0x4dff0f['length'])return _0x419235;for(let _0x53137f=-0x2473*0x1+-0xe8d+0x3300;_0x53137f<_0x4dff0f['length'];_0x53137f++)if(_0x4dff0f[_0x53137f]instanceof Array){_0x4fa210||(_0x1ae3d8=[]);for(let _0x2e32b0=-0x40d+0x902+-0x1b*0x2f;_0x2e32b0<_0x4dff0f[_0x53137f]['length'];_0x2e32b0++)typeof _0x4dff0f[_0x53137f][_0x2e32b0]=='string'&&(_0x4fa210?_0x419235['push'](_0x4dff0f[_0x53137f][_0x2e32b0]):_0x1ae3d8['push'](_0x4dff0f[_0x53137f][_0x2e32b0]));!_0x4fa210&&_0x1ae3d8['length']&&_0x419235['push'](_0x1ae3d8);}else typeof _0x4dff0f[_0x53137f]=='string'&&(_0x4fa210?_0x419235['push'](_0x4dff0f[_0x53137f]):_0x419235['push']([_0x4dff0f[_0x53137f]]));return _0x419235;}get['size'](){return this['_list']['length'];}}c(po,'EVENT_ADD','add'),c(po,'EVENT_REMO'+'VE','remove'),c(po,'EVENT_CHAN'+'GE','change');const ne=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class sd{constructor(_0x532a14){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x48e881=_0x532a14['match'](yS);this['scheme']=_0x48e881[-0x7aa+-0x1e46+0x6*0x653],this['authority']=_0x48e881[0x2*-0x3b7+-0x817*0x1+0x61*0x29],this['path']=_0x48e881[-0x8b*0x1d+-0xafd+-0x2f9*-0x9],this['query']=_0x48e881[-0x12f0+-0x1d42+0x3039],this['fragment']=_0x48e881[0x91*-0x24+0x2*-0x7ed+0xfb*0x25];}['toString'](){let _0xb8d4b3='';return this['scheme']&&(_0xb8d4b3+=this['scheme']+':'),this['authority']&&(_0xb8d4b3+='//'+this['authority']),_0xb8d4b3+=this['path'],this['query']&&(_0xb8d4b3+='?'+this['query']),this['fragment']&&(_0xb8d4b3+='#'+this['fragment']),_0xb8d4b3;}['getQuery'](){const _0x3739c6={};if(this['query']){const _0x44a02b=decodeURIComponent(this['query'])['split']('&');for(const _0x1a3980 of _0x44a02b){const _0x442b35=_0x1a3980['split']('=');_0x3739c6[_0x442b35[-0x1807+0x1e27+0x1*-0x620]]=_0x442b35[-0x1*-0x1b77+0xad4+-0x264a];}}return _0x3739c6;}['setQuery'](_0x44ffbf){let _0x2c55ec='';for(const _0x35d711 in _0x44ffbf)_0x44ffbf['hasOwnProp'+'erty'](_0x35d711)&&(_0x2c55ec!==''&&(_0x2c55ec+='&'),_0x2c55ec+=encodeURIComponent(_0x35d711)+'='+encodeURIComponent(_0x44ffbf[_0x35d711]));this['query']=_0x2c55ec;}}const xS=-0x7c2+-0x1175+0x1937,Df=-0xa3*0xd+0x6ba+0x18e,sm=-0x5*0x4b5+0x359*-0x3+0x2198,SS=0x7b4+-0xc80+0x4d1,N={'DEG_TO_RAD':Math['PI']/(0x1*-0x1012+0x3aa+-0x347*-0x4),'RAD_TO_DEG':(0xfa*0x21+-0x1fbc+-0x36*-0x1)/Math['PI'],'clamp'(_0x16b8c4,_0x4363bd,_0x5a2c11){return _0x16b8c4>=_0x5a2c11?_0x5a2c11:_0x16b8c4<=_0x4363bd?_0x4363bd:_0x16b8c4;},'intToBytes24'(_0x45cd0b){const _0x33484e=_0x45cd0b>>0x1f*0x14+0x89*0x3b+0x77*-0x49&-0x1093*-0x2+0x19*-0x10e+-0x5c9,_0x351382=_0x45cd0b>>-0x558+0x17ae+-0x124e*0x1&-0x1*-0x1fa5+-0x1dc1+-0xe5,_0x2f5006=_0x45cd0b&-0x2258+-0x22bd+0x4614;return[_0x33484e,_0x351382,_0x2f5006];},'intToBytes32'(_0x2800e6){const _0x211ef5=_0x2800e6>>0x1080+-0xaef*-0x2+-0x2646&-0x1238+-0x11c8+0x24ff,_0x1cdf97=_0x2800e6>>0x62*-0x2b+-0x179d*-0x1+-0x717&0x475*0x2+0x1600+-0x1deb,_0x1df7c5=_0x2800e6>>-0x1e24+0x2e9*-0x8+0x3574&-0x15e8+0x4*-0x27a+0x20cf,_0x45222a=_0x2800e6&-0x1cc4+-0x2569*-0x1+0x59*-0x16;return[_0x211ef5,_0x1cdf97,_0x1df7c5,_0x45222a];},'bytesToInt24'(_0x7c50ab,_0x380e4e,_0x212c5e){return _0x7c50ab['length']&&(_0x212c5e=_0x7c50ab[-0x1*0x26c3+-0x39*0x19+0x2c56],_0x380e4e=_0x7c50ab[-0x2312+0x21d0+0x143],_0x7c50ab=_0x7c50ab[-0x1e1d+0x1153+0x665*0x2]),_0x7c50ab<<-0xe10+-0x1a03+0x2823|_0x380e4e<<0x6b2+0x1*0x121a+-0x18c4|_0x212c5e;},'bytesToInt32'(_0x1d6ab0,_0x440901,_0x54c43b,_0x19a690){return _0x1d6ab0['length']&&(_0x19a690=_0x1d6ab0[-0x35f*-0xa+-0xb63*0x2+-0xaed],_0x54c43b=_0x1d6ab0[0x1f32+-0x1*0x206a+0x13a],_0x440901=_0x1d6ab0[-0x23*0x95+0xb*0x274+-0x1*0x69c],_0x1d6ab0=_0x1d6ab0[-0x176+-0x1114+0x128a]),(_0x1d6ab0<<-0xb0d+-0x20b7+0x2bdc|_0x440901<<0x95a+0x2380+0x93*-0x4e|_0x54c43b<<0x3*0x2cf+0x255e+-0x47*0xa5|_0x19a690)>>>-0x1696+0x1*0x8c3+0x1*0xdd3;},'lerp'(_0x51527a,_0xbe1a7a,_0x5a13f4){return _0x51527a+(_0xbe1a7a-_0x51527a)*N['clamp'](_0x5a13f4,-0x1bbc+-0xd32+0x28ee,0x8bb+-0x7de*-0x3+-0x2054);},'lerpAngle'(_0x6e7e14,_0x2e651c,_0x5c9259){return _0x2e651c-_0x6e7e14>-0x2*-0x1048+-0x67f*-0x2+-0x166d*0x2&&(_0x2e651c-=0x27f+-0x1ecc+0x41*0x75),_0x2e651c-_0x6e7e14<-(0xded+-0x9*-0x3b6+-0x23*0x155)&&(_0x2e651c+=-0x25f6+0x20*0x71+0x193e),N['lerp'](_0x6e7e14,_0x2e651c,N['clamp'](_0x5c9259,0xe72+-0x21b9+0x1347,0xb4b+0xea5+0x1*-0x19ef));},'powerOfTwo'(_0x11c05f){return _0x11c05f!==-0x18ff+0x10e7*-0x1+0x29e6&&!(_0x11c05f&_0x11c05f-(0xc73+-0x1*-0x79f+0xb*-0x1d3));},'nextPowerOfTwo'(_0x590700){return _0x590700--,_0x590700|=_0x590700>>0x1b6c+-0x20e5+0x57a,_0x590700|=_0x590700>>0x1090+0x2472+0x35*-0x100,_0x590700|=_0x590700>>-0x1*0x239+0xa93*-0x2+0x1763*0x1,_0x590700|=_0x590700>>0x1894+0xbbc+-0x12*0x204,_0x590700|=_0x590700>>0x2083+0xd80+-0x2df3,_0x590700++,_0x590700;},'nearestPowerOfTwo'(_0x495a5b){return Math['pow'](-0x1596+0x10e1*-0x1+0xc9*0x31,Math['round'](Math['log'](_0x495a5b)/Math['log'](0x636+0x89+-0x4b*0x17)));},'random'(_0x547133,_0x9f54b9){const _0x96fe5f=_0x9f54b9-_0x547133;return Math['random']()*_0x96fe5f+_0x547133;},'smoothstep'(_0x2a21a8,_0x27db0d,_0x3932da){return _0x3932da<=_0x2a21a8?-0x14dd+0x96a+0xb73:_0x3932da>=_0x27db0d?-0x86e+0x13ae+0xb3f*-0x1:(_0x3932da=(_0x3932da-_0x2a21a8)/(_0x27db0d-_0x2a21a8),_0x3932da*_0x3932da*(0x1ba3+0x1*-0x17fb+0x137*-0x3-(0x1f98+0x6f*-0x3d+-0x523)*_0x3932da));},'smootherstep'(_0x3d683b,_0x325f79,_0xba3ed5){return _0xba3ed5<=_0x3d683b?0x24f*0xd+-0x20e1+0x2*0x16f:_0xba3ed5>=_0x325f79?0x2203*0x1+-0x5*0x481+0x1*-0xb7d:(_0xba3ed5=(_0xba3ed5-_0x3d683b)/(_0x325f79-_0x3d683b),_0xba3ed5*_0xba3ed5*_0xba3ed5*(_0xba3ed5*(_0xba3ed5*(0x163c+0x2124+0x82*-0x6d)-(-0x1*-0x957+-0x4e2+-0x466))+(0x1*0x1a09+-0x2*-0x1102+-0x6ab*0x9)));},'roundUp'(_0x521a58,_0x31ba12){return _0x31ba12===0x2f0*-0x5+-0x1d0b+0x5*0x8bf?_0x521a58:Math['ceil'](_0x521a58/_0x31ba12)*_0x31ba12;},'between'(_0x435ef0,_0x11a34c,_0x5de154,_0x4b67c2){const _0x46e66f=Math['min'](_0x11a34c,_0x5de154),_0x21d855=Math['max'](_0x11a34c,_0x5de154);return _0x4b67c2?_0x435ef0>=_0x46e66f&&_0x435ef0<=_0x21d855:_0x435ef0>_0x46e66f&&_0x435ef0<_0x21d855;}},it=class it{constructor(_0x41aa50=-0xa58+0x17fe+-0xda6,_0x1dca5a=-0x17d0+-0x5b9+-0x1d89*-0x1,_0x1d05be=-0x15a9+-0x14fb+0x2aa4,_0x4165b1=-0x953+-0x230b*0x1+0x2c5f){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x1022d7=_0x41aa50['length'];_0x1022d7===-0x1cb3*0x1+-0x2*0x51c+-0x3*-0xcfa||_0x1022d7===0x97*0x39+-0x6b1*0x2+-0x1439?(this['r']=_0x41aa50[0x10c5+-0x6d*-0x24+-0x2019],this['g']=_0x41aa50[0xf8a+-0x173d*-0x1+-0x26c6*0x1],this['b']=_0x41aa50[-0x1*0x12ac+0x1ead+-0x25*0x53],this['a']=_0x41aa50[0x11ed+0x15e5+-0x27cf]??0x172*0x18+0x1f*-0x11b+-0x6a):(this['r']=_0x41aa50,this['g']=_0x1dca5a,this['b']=_0x1d05be,this['a']=_0x4165b1);}['clone'](){const _0xb3657c=this['constructo'+'r'];return new _0xb3657c(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x4b73c3){return this['r']=_0x4b73c3['r'],this['g']=_0x4b73c3['g'],this['b']=_0x4b73c3['b'],this['a']=_0x4b73c3['a'],this;}['equals'](_0x36fe63){return this['r']===_0x36fe63['r']&&this['g']===_0x36fe63['g']&&this['b']===_0x36fe63['b']&&this['a']===_0x36fe63['a'];}['set'](_0x3ebda7,_0x3459ea,_0x5b5ee,_0x2081a4=-0x1471*0x1+0x1*0x1e5+-0x62f*-0x3){return this['r']=_0x3ebda7,this['g']=_0x3459ea,this['b']=_0x5b5ee,this['a']=_0x2081a4,this;}['lerp'](_0x180aa3,_0x463151,_0x465bda){return this['r']=_0x180aa3['r']+_0x465bda*(_0x463151['r']-_0x180aa3['r']),this['g']=_0x180aa3['g']+_0x465bda*(_0x463151['g']-_0x180aa3['g']),this['b']=_0x180aa3['b']+_0x465bda*(_0x463151['b']-_0x180aa3['b']),this['a']=_0x180aa3['a']+_0x465bda*(_0x463151['a']-_0x180aa3['a']),this;}['linear'](_0x21605e=this){return this['r']=Math['pow'](_0x21605e['r'],0x1121+-0x10f5+-0x2*0x15+0.20000000000000018),this['g']=Math['pow'](_0x21605e['g'],0x25dc+0x2627*-0x1+0x4d+0.20000000000000018),this['b']=Math['pow'](_0x21605e['b'],-0x3e8+-0x13a*0x8+0xdba+0.20000000000000018),this['a']=_0x21605e['a'],this;}['gamma'](_0x40fa18=this){return this['r']=Math['pow'](_0x40fa18['r'],(-0x1*-0x2471+0x161*0x15+0x1*-0x4165)/(0xe*-0x95+0xf30+-0x1e*0x3c+0.20000000000000018)),this['g']=Math['pow'](_0x40fa18['g'],(-0x12fa*0x1+0x2*0x45+0x1271)/(0xed*0x17+-0x1e15+0x8cc+0.20000000000000018)),this['b']=Math['pow'](_0x40fa18['b'],(0x2353+0x502+0x4*-0xa15)/(-0x1821+0x5f*0x61+-0xbdc+0.20000000000000018)),this['a']=_0x40fa18['a'],this;}['mulScalar'](_0x10fbd6){return this['r']*=_0x10fbd6,this['g']*=_0x10fbd6,this['b']*=_0x10fbd6,this;}['fromString'](_0x4e8230){const _0x2e0861=parseInt(_0x4e8230['replace']('#','0x'),0xf24+-0x5ea*0x1+-0x92a);let _0x691314;return _0x4e8230['length']>-0x1718+0x1138*-0x2+0x398f?_0x691314=N['intToBytes'+'32'](_0x2e0861):(_0x691314=N['intToBytes'+'24'](_0x2e0861),_0x691314[0x1942+-0x21b9+0x87a]=-0x45+0x1*0x1e57+-0x9*0x33b),this['set'](_0x691314[-0x156e+-0x1d69+0x32d7]/(0x1072*0x1+-0xc48+-0x32b),_0x691314[-0x191+0x73+-0x7*-0x29]/(-0x134+0xf1e+-0xceb),_0x691314[-0xb2d*-0x3+0x245f+0x174c*-0x3]/(-0xe*0x12a+-0x129a+0x1*0x23e5),_0x691314[-0x2664+-0x35*-0x4e+0x1641]/(-0x1eb8+0x4*0x5ea+0x80f*0x1)),this;}['fromArray'](_0x52d7bf,_0x46e069=-0x96c*0x1+0x2*0x1334+0x1cfc*-0x1){return this['r']=_0x52d7bf[_0x46e069]??this['r'],this['g']=_0x52d7bf[_0x46e069+(0x9d0+0x17f8+-0x21c7)]??this['g'],this['b']=_0x52d7bf[_0x46e069+(-0x2*0xa39+-0x11b*-0x19+0x265*-0x3)]??this['b'],this['a']=_0x52d7bf[_0x46e069+(0x61c+0x21d8+-0x27f1)]??this['a'],this;}['toString'](_0x4ab08c,_0x4583cf){const {r:_0x2b8a00,g:_0x4d1ce1,b:_0x294366,a:_0x27b61b}=this;if(_0x4583cf||_0x2b8a00>-0x23e+0x5*0x320+-0xd61||_0x4d1ce1>-0x14ac+-0xdc6+0x2273*0x1||_0x294366>-0x248e*0x1+-0x1299+-0x5*-0xb08)return _0x2b8a00['toFixed'](-0x3c0+-0xc47+-0x805*-0x2)+',\x20'+_0x4d1ce1['toFixed'](-0xcce+0x5c1+0x710)+',\x20'+_0x294366['toFixed'](-0x175b*-0x1+-0x21fc+0xaa4)+',\x20'+_0x27b61b['toFixed'](-0xf27+0x1cc3*-0x1+0x2bed);let _0x33b46a='#'+((0x90*0x41+0xccc+-0x5*0x9df<<-0xc91+0x7*-0x3fb+0x2886)+(Math['round'](_0x2b8a00*(0x1b3a+0x36b+-0x45*0x6e))<<-0x117f+0x2f*-0x93+0x1*0x2c8c)+(Math['round'](_0x4d1ce1*(0x20ec*-0x1+0x1b7c+-0x225*-0x3))<<-0x3*-0x5a7+-0x2319+0x122c)+Math['round'](_0x294366*(0x7*-0x42a+0x69*0x4f+-0x242)))['toString'](0x19a9*-0x1+-0xa9*0x23+-0xfa*-0x32)['slice'](0x1*-0x9cf+0x22*0x4f+-0x57*0x2);if(_0x4ab08c===!(-0x21dd+0x3*-0x735+0x377c)){const _0x3ad6f2=Math['round'](_0x27b61b*(-0x268c+0xbda+-0x11*-0x1a1))['toString'](-0x1*0x624+0x21*0x62+0x66e*-0x1);this['a']<(-0xc5d+0x17+0x2*0x62b)/(0x17bd+-0x3*0x8a5+0x13*0x2b)?_0x33b46a+='0'+_0x3ad6f2:_0x33b46a+=_0x3ad6f2;}return _0x33b46a;}['toArray'](_0x331fe4=[],_0x226e79=0x8*0xc2+-0x6b2*0x5+0x1b6a,_0x4a6dbb=!(0x7*-0x2f5+0x2119+-0xc66)){return _0x331fe4[_0x226e79]=this['r'],_0x331fe4[_0x226e79+(-0x1*-0x4ae+-0x24d2+-0x279*-0xd)]=this['g'],_0x331fe4[_0x226e79+(0x15*-0xcd+-0x33*0x9b+0x2fb4)]=this['b'],_0x4a6dbb&&(_0x331fe4[_0x226e79+(-0x1ef0+0x3*-0x4c3+0x2d3c)]=this['a']),_0x331fe4;}};c(it,'BLACK',Object['freeze'](new it(-0x940+0x1077+-0x737*0x1,-0x131f+0x2355+-0x53*0x32,-0x230e+0x153d+0x3*0x49b,-0x14d*-0x4+0x20ad+-0x25e0))),c(it,'BLUE',Object['freeze'](new it(0x1*0xe5d+-0x545*0x2+-0x3d3,-0xfd8+-0x1876+-0xb*-0x3aa,-0x1ae0+0x454+0x1*0x168d,-0x141b*-0x1+-0x1df0+-0x4eb*-0x2))),c(it,'CYAN',Object['freeze'](new it(-0x49*-0x27+-0xa27*-0x2+-0x1f6d,0xe*0x217+0x1*0x7f7+-0x2538,0x2035+-0x577*-0x1+0x25ab*-0x1,-0x2*0xfd1+0x16ab+0x8f8))),c(it,'GRAY',Object['freeze'](new it(0x1689+-0x373*-0xa+-0x3907*0x1+0.5,0x4*-0x70a+-0xb5*0xa+-0x1*-0x233a+0.5,-0x10b9+-0x2*0xd9f+0x2bf7*0x1+0.5,0x1*0x24d+-0x18e9+0x7*0x33b))),c(it,'GREEN',Object['freeze'](new it(0x1*0x1297+0xbbf+-0x1e56,0x662+-0x1756+0x3*0x5a7,-0x57*0x16+0x1a38*-0x1+-0x21b2*-0x1,0x1e03+0x231d+0x15b5*-0x3))),c(it,'MAGENTA',Object['freeze'](new it(-0xe*0x16a+0xa*-0xcf+-0xb*-0x289,-0x1bec+-0x1*0xce8+0x28d4,-0xc45+-0x2bb*0x3+0x1477,0x3*-0xcd5+0x8*0x325+0x3d*0x38))),c(it,'RED',Object['freeze'](new it(0x2118+0x10fc+0x1*-0x3213,0x8ec*0x2+-0x1*-0x2624+0x1bfe*-0x2,-0x964+0x17*-0xc5+0x1b17,0x26e0+0xb*0x1c6+-0x31*0x131))),c(it,'WHITE',Object['freeze'](new it(0x599+-0x11ff*0x1+-0x19*-0x7f,0x1513*-0x1+0x1d7+-0xc5*-0x19,0x136c+0x4*-0x5e7+0x431,0x1*0x2af+-0x5bc*0x5+0x19fe))),c(it,'YELLOW',Object['freeze'](new it(-0x235*-0x1+0xbbc+-0x1be*0x8,-0x97*0x26+0x1*-0x1412+0x2a7d,0x1e1*-0x9+-0x7e*-0x43+-0x55b*0x3,0x542*0x1+-0x654*0x5+-0x7*-0x3c5)));let Y=it;class ly{constructor(_0x4eb6e3,_0x315cae=0x17*-0x9+-0x605+0x2e*0x26){c(this,'_curve'),c(this,'_left',-(0x8e5+-0xf42+0x146*0x5)/(0x1*-0x247f+-0x8b5*0x3+0x3e9e)),c(this,'_right',(0x7e1+0x1664+-0x2*0xf22)/(-0x21fa+0x5ff+0x1bfb)),c(this,'_recip',-0xeec+0x1*0x12cf+-0x3e3),c(this,'_p0',0x1a0+-0x1*-0x95b+-0xafb),c(this,'_p1',-0x20b1+-0x43c+0x3*0xc4f),c(this,'_m0',0x2*-0x11b7+0x1792+-0x45*-0x2c),c(this,'_m1',0xd*-0x1f1+0x5b*0x2c+-0x1*-0x999),(this['_curve']=_0x4eb6e3,this['_reset'](_0x315cae));}['evaluate'](_0x5c4713,_0x3c39df=!(0x8*-0x2c4+-0x447+-0x104*-0x1a)){(_0x3c39df||_0x5c4713<this['_left']||_0x5c4713>=this['_right'])&&this['_reset'](_0x5c4713);let _0x452e3d;const _0x138886=this['_curve']['type'];if(_0x138886===SS)_0x452e3d=this['_p0'];else{const _0x89046=this['_recip']===0x1d3c+0x1d*-0x3f+-0x1619*0x1?0x2*0x2ba+-0xe44+-0x6*-0x178:(_0x5c4713-this['_left'])*this['_recip'];_0x138886===xS?_0x452e3d=N['lerp'](this['_p0'],this['_p1'],_0x89046):_0x138886===Df?_0x452e3d=N['lerp'](this['_p0'],this['_p1'],_0x89046*_0x89046*(-0x281*0x7+0x1*-0xe59+-0x38b*-0x9-(0x149f*-0x1+0x1d3*-0xd+0x2c58)*_0x89046)):_0x452e3d=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x89046);}return _0x452e3d;}['_reset'](_0x2b140c){const _0x347b97=this['_curve']['keys'],_0x353743=_0x347b97['length'];if(!_0x353743)this['_left']=-(-0x22d1+0x354+0x1f7e)/(-0x43*-0x17+-0x233e+0x1d39),this['_right']=(-0x14d4*0x1+0x22e*0x2+0x1079)/(0x2352+-0x3c1*0x9+-0x189),this['_recip']=-0x24d1+0xae5*-0x3+-0x8b*-0x80,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x1e97*0x1+0xed3+-0x2d6a;else{if(_0x2b140c<_0x347b97[0x52f+0x1ad8+-0x3*0xaad][-0x17d5+0x9*0x1b1+0x89c])this['_left']=-(-0x9b*0x1a+-0x1deb+0x2daa)/(0x297+-0xe37+0xba0),this['_right']=_0x347b97[-0x24e8+0xc1b*-0x3+0x4939*0x1][0x7*0xe8+-0x1*-0x2518+-0x2b7*0x10],this['_recip']=-0x1299*0x1+0x263c+-0x13a3,this['_p0']=this['_p1']=_0x347b97[0x1*-0x1055+0xc5*0x2a+-0xffd][0x2*0x799+-0x234f*0x1+-0x2*-0xa0f],this['_m0']=this['_m1']=0x28d*0x8+-0x2352+0x17*0xa6;else{if(_0x2b140c>=_0x347b97[_0x353743-(0x191f*0x1+-0x8*-0xd2+-0x1fae)][0x120f+-0x303*-0x1+-0x1512])this['_left']=_0x347b97[_0x353743-(-0x8*0x223+0xcb3+0x466)][0xb*0x95+0xe*0x10b+0x1501*-0x1],this['_right']=(0x1*0x633+-0x404+-0x22e)/(-0x177f+-0x21c6+0x1b*0x21f),this['_recip']=-0x183a+0x3*0x577+0x7d5,this['_p0']=this['_p1']=_0x347b97[_0x353743-(-0x1dc+0x1fff*0x1+-0x1e22)][0x219f*-0x1+-0x12*-0x157+0x982],this['_m0']=this['_m1']=0x1aaf+0x188*0x2+-0x1dbf;else{let _0x3338c9=-0x56*-0xa+0x8*-0xca+0x17a*0x2;for(;_0x2b140c>=_0x347b97[_0x3338c9+(0x1*0x2221+-0x2c6+-0x1f5a)][0x3*-0x8d3+-0x13d3+0x2*0x1726];)_0x3338c9++;this['_left']=_0x347b97[_0x3338c9][0x11*-0xda+-0xb95*-0x2+-0x10*0x8b],this['_right']=_0x347b97[_0x3338c9+(0x2483+0xd87*0x1+-0x3209)][0x23a7+0x1*0x1e4c+-0x1*0x41f3];const _0x3a2b63=(-0x244d+-0x1*0x20f1+-0x3*-0x1715)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3a2b63)?_0x3a2b63:0x1*0x7e+-0x7f4+-0x3bb*-0x2,this['_p0']=_0x347b97[_0x3338c9][-0x83*0x1c+-0x59*-0xd+0x1*0x9d0],this['_p1']=_0x347b97[_0x3338c9+(-0x14c3+-0x1*-0xf92+0xe*0x5f)][0x1bd0+0x2*0x12df+0xad*-0x61],this['_curve']['type']===sm&&this['_calcTange'+'nts'](_0x347b97,_0x3338c9);}}}}['_calcTange'+'nts'](_0x51c5c3,_0x55c809){let _0x273175;const _0x1a2d6b=_0x51c5c3[_0x55c809],_0x334a5d=_0x51c5c3[_0x55c809+(0x1f07+-0xedb*0x1+0x1*-0x102b)];let _0x24b303;if(_0x55c809===0x206f+0x1018+-0x3087?_0x273175=[_0x51c5c3[-0xa1b*-0x1+0x744+-0x115f][0x278*0xd+-0x1d*0x119+-0x43]+(_0x51c5c3[0x1*0x1f8a+0x1618+-0x35a2][0x1*0xff0+-0xc0c+0xf9*-0x4]-_0x51c5c3[-0x1a24+0x173d+0x2e8][-0x8*0x218+0x268b+0x31d*-0x7]),_0x51c5c3[0x1*-0x2681+-0x1*0x195b+0xf4*0x43][0x1908+-0x1597*0x1+-0x370]+(_0x51c5c3[0x58f*0x7+0x616*-0x2+0x1abd*-0x1][0x1bc5+0xc0e+-0x1*0x27d2]-_0x51c5c3[0x896*-0x1+-0x1*0x291+-0x2*-0x594][0x1637+-0x1f60+-0x33*-0x2e])]:_0x273175=_0x51c5c3[_0x55c809-(-0x1ff+-0x1d96+0x1f96*0x1)],_0x55c809===_0x51c5c3['length']-(0x409*-0x5+-0x26a6+0x3ad5)?_0x24b303=[_0x51c5c3[_0x55c809+(-0x1efe+-0x18b7+0x37b6)][0x1441+0x1*-0x1705+0xb1*0x4]+(_0x51c5c3[_0x55c809+(0x14a6+0x2487*0x1+0x4*-0xe4b)][0x727+-0x100e+0x2b*0x35]-_0x51c5c3[_0x55c809][-0x3*-0xc11+-0x10a5+-0x138e]),_0x51c5c3[_0x55c809+(0x101+-0x828+0x728)][0x3b*0x1f+0xe6c+0x28*-0x8a]+(_0x51c5c3[_0x55c809+(0x361*-0xb+0xec1+0x166b)][0x425*0x5+-0xc2*-0x33+-0x3b5e]-_0x51c5c3[_0x55c809][-0x141b*-0x1+-0x2584+-0x8b5*-0x2])]:_0x24b303=_0x51c5c3[_0x55c809+(-0x156+0x1aba+-0x1962)],this['_curve']['type']===sm){const _0x3096af=(-0x1fc7*-0x1+-0x1fb3+0x3*-0x6)*(_0x334a5d[-0x1191*-0x1+0x1153+-0x22e4]-_0x1a2d6b[0x4*-0x2b3+-0x1f27+-0x1*-0x29f3])/(_0x334a5d[0x20b*0x3+0x1e15+-0x2436]-_0x273175[0x158f+-0x89*-0x7+-0x194e]),_0x4d9ff7=(0xf87+0xb*0x30a+-0x30f3)*(_0x334a5d[-0x1*0x240d+0xe96+0x1577*0x1]-_0x1a2d6b[0x1c17+-0x1*-0x565+-0x217c])/(_0x24b303[-0x25d9+-0x2155+0x472e]-_0x1a2d6b[-0xe8*0x8+0x12e*-0x18+0x8*0x472]);this['_m0']=this['_curve']['tension']*(isFinite(_0x3096af)?_0x3096af:0x10*0x56+-0xde*0xd+0x2f3*0x2)*(_0x334a5d[-0x1c26+0xaa2+-0xf*-0x12b]-_0x273175[-0xb2*-0x26+-0x246a+-0x1*-0x9ff]),this['_m1']=this['_curve']['tension']*(isFinite(_0x4d9ff7)?_0x4d9ff7:0x5e5+-0x408+0x1dd*-0x1)*(_0x24b303[-0x1f0c+-0x233f+0x2*0x2126]-_0x1a2d6b[-0x222c+-0x5e*-0x27+0x13db]);}else{const _0x17320c=(_0x334a5d[0x384+0x521*-0x1+0x19d]-_0x1a2d6b[0x82f*0x2+0x36*0x7c+-0x1*0x2a86])/(_0x1a2d6b[0x606*-0x1+0x1b22*-0x1+0x2128]-_0x273175[-0x1f63+-0xe24+0x2d87]),_0x1dd047=(_0x334a5d[-0x15c6+-0x95c+-0x1f22*-0x1]-_0x1a2d6b[0xc*0x49+-0x4*-0x766+0x1082*-0x2])/(_0x24b303[0x2*0xc0d+-0x16f7+-0x123]-_0x334a5d[-0x1f*-0x119+0x1824+-0x3a2b]),_0x350540=_0x1a2d6b[0x7ac*0x4+-0xd09+0x9*-0x1f6]+(_0x273175[-0x48b*-0x8+-0x2*-0x28b+0x69*-0x65]-_0x1a2d6b[0x66c+-0x7f2+0x187])*(isFinite(_0x17320c)?_0x17320c:-0x1*0x1423+0xcce+-0x1*-0x755),_0x37f555=_0x334a5d[0x196a+0x172d+-0x3096]+(_0x24b303[-0x9*0x420+-0xef6+0x3417]-_0x334a5d[-0x1+0x7b0+-0x7ae])*(isFinite(_0x1dd047)?_0x1dd047:-0x1092+-0x3*0x2fe+0x198c),_0x4e76e8=this['_curve']['tension'];this['_m0']=_0x4e76e8*(_0x334a5d[0x14d6+0x1b*-0x137+-0x17f*-0x8]-_0x350540),this['_m1']=_0x4e76e8*(_0x37f555-_0x1a2d6b[0x1a6b+-0x3*0x5da+0x3*-0x2f4]);}}['_evaluateH'+'ermite'](_0x5c79b1,_0x4b6733,_0xf507cb,_0x35ebbd,_0x4dba2f){const _0x435e2c=_0x4dba2f*_0x4dba2f,_0x12eb00=_0x4dba2f+_0x4dba2f,_0xc3b2fd=0x242f+-0x1e61+-0x5cd-_0x4dba2f,_0x2bee18=_0xc3b2fd*_0xc3b2fd;return _0x5c79b1*((0x3*0x8b9+0x102d+-0xe1d*0x3+_0x12eb00)*_0x2bee18)+_0xf507cb*(_0x4dba2f*_0x2bee18)+_0x4b6733*(_0x435e2c*(0x2c*-0x29+-0x1d48+0x2457-_0x12eb00))+_0x35ebbd*(_0x435e2c*(_0x4dba2f-(0x2ec+-0x214f+0x1e64)));}}class Cs{constructor(_0x35ba3e){c(this,'keys',[]),c(this,'type',Df),c(this,'tension',0x1379+-0x2*0x962+0x1*-0xb5+0.5),c(this,'_eval',new ly(this));if(_0x35ba3e){for(let _0x338410=0x1f*0x13f+-0xad1+-0x1bd0;_0x338410<_0x35ba3e['length']-(-0x1b6*-0x15+0x1f*-0x7f+0x41c*-0x5);_0x338410+=0x1244+-0x2596+-0x1354*-0x1)this['keys']['push']([_0x35ba3e[_0x338410],_0x35ba3e[_0x338410+(-0xe89*-0x2+-0x3ed*-0x8+-0x89*0x71)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x46d842,_0xbd3214){const _0x13d669=this['keys'],_0x358e31=_0x13d669['length'];let _0x17b0f8=0x46*-0x6f+0x14*-0x1e9+0x448e;for(;_0x17b0f8<_0x358e31&&!(_0x13d669[_0x17b0f8][-0x117f*0x2+0x1*-0x1e7a+0x4178]>_0x46d842);_0x17b0f8++);const _0x20ec4b=[_0x46d842,_0xbd3214];return this['keys']['splice'](_0x17b0f8,-0x3b0+-0x13d5*-0x1+-0x1025,_0x20ec4b),_0x20ec4b;}['get'](_0x371d19){return this['keys'][_0x371d19];}['sort'](){this['keys']['sort']((_0x165b10,_0x339209)=>_0x165b10[-0x429+-0x1*0x2441+0x286a]-_0x339209[0x1fe1+0x230e+-0x42ef]);}['value'](_0x5b61e1){return this['_eval']['evaluate'](_0x5b61e1,!(0x6d5+0x1c56+-0x232b));}['closest'](_0x25f128){const _0x2fb0a8=this['keys'],_0x26cb7c=_0x2fb0a8['length'];let _0x5ecafa=-0x1513+0xa59+0xabc,_0x389a25=null;for(let _0xdf8e34=-0x409*0x2+-0x1071+0xfb*0x19;_0xdf8e34<_0x26cb7c;_0xdf8e34++){const _0x441f3f=Math['abs'](_0x25f128-_0x2fb0a8[_0xdf8e34][0x1dc0+-0x25e2*0x1+0x822]);if(_0x5ecafa>=_0x441f3f)_0x5ecafa=_0x441f3f,_0x389a25=_0x2fb0a8[_0xdf8e34];else break;}return _0x389a25;}['clone'](){const _0x101802=new this['constructo'+'r']();return _0x101802['keys']=this['keys']['map'](_0x5dc9ea=>[..._0x5dc9ea]),_0x101802['type']=this['type'],_0x101802['tension']=this['tension'],_0x101802;}['quantize'](_0x163466){_0x163466=Math['max'](_0x163466,0x6+0x1c86+0xe45*-0x2);const _0x2b5ed5=new Float32Array(_0x163466),_0x50f36b=(0x25c+0x12f3+-0x154e)/(_0x163466-(0x1981+0xc*-0x17f+-0x142*0x6));_0x2b5ed5[0x679+0xf*-0x139+0xbde]=this['_eval']['evaluate'](0x706+0x1440+-0x2*0xda3,!(-0x1082+-0x673+0x16f5));for(let _0x40fbfe=0x1e2e+-0x2533+0x1*0x706;_0x40fbfe<_0x163466;_0x40fbfe++)_0x2b5ed5[_0x40fbfe]=this['_eval']['evaluate'](_0x50f36b*_0x40fbfe);return _0x2b5ed5;}['quantizeCl'+'amped'](_0x3ded3c,_0x16bfb6,_0x29d23d){const _0x30c56b=this['quantize'](_0x3ded3c);for(let _0xb199ed=-0x2227+-0x271+-0x2*-0x124c;_0xb199ed<_0x30c56b['length'];++_0xb199ed)_0x30c56b[_0xb199ed]=Math['min'](_0x29d23d,Math['max'](_0x16bfb6,_0x30c56b[_0xb199ed]));return _0x30c56b;}}class jr{constructor(){c(this,'curves',[]),c(this,'_type',Df);if(arguments['length']>0xd*-0x170+-0x2b*0x97+-0x1*-0x2c0e){for(let _0xf7d88=0x1ce7+0x1f6b+0x7*-0x89e;_0xf7d88<arguments['length'];_0xf7d88++)this['curves']['push'](new Cs(arguments[_0xf7d88]));}else{if(arguments['length']===-0x1f96+0x247e+-0x4e8)this['curves']['push'](new Cs());else{const _0x30e4bb=arguments[0x31a*-0x5+0x16f5+0x1*-0x773];if(typeof _0x30e4bb=='number'){for(let _0x440750=0x47f*-0x3+0xb7e+0x1ff;_0x440750<_0x30e4bb;_0x440750++)this['curves']['push'](new Cs());}else{for(let _0x3f3602=-0x1992+0x1ba5*0x1+0x3b*-0x9;_0x3f3602<_0x30e4bb['length'];_0x3f3602++)this['curves']['push'](new Cs(_0x30e4bb[_0x3f3602]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x3dcb13){this['_type']=_0x3dcb13;for(let _0x5e9625=0x12ce*0x1+-0x1*0xa0d+0x2eb*-0x3;_0x5e9625<this['curves']['length'];_0x5e9625++)this['curves'][_0x5e9625]['type']=_0x3dcb13;}get['type'](){return this['_type'];}['get'](_0x2e8dc5){return this['curves'][_0x2e8dc5];}['value'](_0x404c7b,_0x62dde3=[]){const _0x57755a=this['curves']['length'];_0x62dde3['length']=_0x57755a;for(let _0x180ab4=0xf81+-0x109*0x8+-0x739;_0x180ab4<_0x57755a;_0x180ab4++)_0x62dde3[_0x180ab4]=this['curves'][_0x180ab4]['value'](_0x404c7b);return _0x62dde3;}['clone'](){const _0x48c691=new this['constructo'+'r']();_0x48c691['curves']=[];for(let _0x3b5a24=-0x104+-0x4*0x1ed+0x8b8;_0x3b5a24<this['curves']['length'];_0x3b5a24++)_0x48c691['curves']['push'](this['curves'][_0x3b5a24]['clone']());return _0x48c691['_type']=this['_type'],_0x48c691;}['quantize'](_0x1eb3f8){_0x1eb3f8=Math['max'](_0x1eb3f8,-0x9c7+-0x139a+-0x1d63*-0x1);const _0x6c80ba=this['curves']['length'],_0x1d95fd=new Float32Array(_0x1eb3f8*_0x6c80ba),_0x9c73f9=(0x1*0x89+0x6cb+-0x753)/(_0x1eb3f8-(0x850+0xe*0x1ce+-0x2193));for(let _0x59ea80=0x1f*0xe9+0x8*0x2da+0x3307*-0x1;_0x59ea80<_0x6c80ba;_0x59ea80++){const _0x272ec0=new ly(this['curves'][_0x59ea80]);for(let _0x2b9ecd=-0x460+-0x10*-0x1da+0xca0*-0x2;_0x2b9ecd<_0x1eb3f8;_0x2b9ecd++)_0x1d95fd[_0x2b9ecd*_0x6c80ba+_0x59ea80]=_0x272ec0['evaluate'](_0x9c73f9*_0x2b9ecd);}return _0x1d95fd;}['quantizeCl'+'amped'](_0x5d3ade,_0x13befd,_0x551406){const _0x1b3d90=this['quantize'](_0x5d3ade);for(let _0x317734=0x13*-0x3d+-0x1980+0x1e07;_0x317734<_0x1b3d90['length'];++_0x317734)_0x1b3d90[_0x317734]=Math['min'](_0x551406,Math['max'](_0x13befd,_0x1b3d90[_0x317734]));return _0x1b3d90;}}let im=-0x51f+-0x5a9+0xacd;const id=(0x3e*0x4d+0x15b*0x11+0xa6c*-0x4)/(0x2*0x86b+0x23a7+0x152*-0x27),du=new Float32Array(0x2*-0x3cb+-0x1e*0xa7+0x1*0x1b29),rm=new Int32Array(du['buffer']);class Wt{static['float2Half'](_0x9bd59f){du[-0x101a+-0x1*0x8d7+-0x5*-0x4fd]=_0x9bd59f;const _0x540b2e=rm[-0x514+0xf63+-0xa4f];let _0x2f87d1=_0x540b2e>>-0xd*0x1+-0x673+0x2a*0x28&-0x29f6+0x1b*0x491+0x1*0x2eab,_0x5b0dce=_0x540b2e>>-0x1d4d+-0x1fca+0x3d23&0x5df*0x4+-0x5e8*0x1+0xdf*-0xb;const _0x560378=_0x540b2e>>0x11f+-0x1b39+-0x9*-0x2e9&-0x1*-0x40f+-0x4*-0x766+0x1054*-0x2;return _0x560378<-0xdb0+0xdfa+0x1*0x1d?_0x2f87d1:_0x560378>0xee6*-0x1+-0x6bc+-0x2*-0xb18?(_0x2f87d1|=0x5*0x113f+0x224a+-0x51*-0xb,_0x2f87d1|=(_0x560378===-0x8e*0x21+-0x2*0x63a+-0x1*-0x1fc1?-0x1*0x2006+-0x268d+-0x1*-0x4693:-0x1e1+0x1*0x9b7+-0x1*0x7d5)&&_0x540b2e&0x65a2fd+-0x361e7*-0x25+-0x1*0x62c961,_0x2f87d1):_0x560378<-0x17b8+0x1450+0x3d9?(_0x5b0dce|=-0xab3+0x1a68+0x1*-0x7b5,_0x2f87d1|=(_0x5b0dce>>-0x25*0xd5+-0x1*0x1ce1+0x3c1c-_0x560378)+(_0x5b0dce>>-0x147e+-0x12c9+-0x29*-0xf8-_0x560378&-0xb*0x12b+0x1a95*0x1+-0xdbb),_0x2f87d1):(_0x2f87d1|=_0x560378-(0xc*0x191+0x41a+-0x47e*0x5)<<-0x2216+-0x256a*-0x1+-0x34a|_0x5b0dce>>-0xa26+0x11b6+-0x78f,_0x2f87d1+=_0x5b0dce&-0x22c4+-0xef*0x17+-0x139*-0x2e,_0x2f87d1);}static['float2Byte'+'s'](_0x2e45a1,_0x201cbc,_0x1403e7,_0x50825b){const _0x30401e=(0x1859+-0x1378+-0x3e2)*_0x2e45a1%(0x1*-0x1741+-0x1b5b+-0x15*-0x269);if(_0x201cbc[_0x1403e7+(-0x21a+0x4*-0x15d+0x1*0x78e)]=Math['round']((_0x2e45a1%(0x4*0x551+-0x1*-0x1f3+-0x1736*0x1)-id*_0x30401e)*(0x1*0x1571+0x1*-0xb51+0x29*-0x39)),_0x50825b>-0x226e+0x1*0x1e93+0x3dc){const _0x455e5b=(0x17d98+0x35c*-0x89+0x14ca5)*_0x2e45a1%(0x1dc5*0x1+-0x48b+-0x1939);if(_0x201cbc[_0x1403e7+(0x363+-0x211c+0x1dba)]=Math['round']((_0x30401e-id*_0x455e5b)*(-0x1055*0x1+0x1a99+-0x945)),_0x50825b>-0x1e81+0x7*-0x89+0x2242*0x1){const _0xc1b828=(-0x22b6d*-0x15+-0x146f*0x1141+0x1*0x230023d)*_0x2e45a1%(0x55*-0x3b+0x1b9e+-0x806);_0x201cbc[_0x1403e7+(-0xb35*0x3+0xa*-0x259+0x391b)]=Math['round']((_0x455e5b-id*_0xc1b828)*(-0x1bb5+0x18dd+0x3d7*0x1)),_0x50825b>-0x1f85*0x1+0x9*0x3a9+0x1*-0x169&&(_0x201cbc[_0x1403e7+(-0x3*-0xcd1+0x467+-0x2ad7)]=Math['round'](_0xc1b828*(-0x8e2+0x1b*-0xed+-0x3e*-0x90)));}}}static['float2Byte'+'sRange'](_0x1a1b67,_0x480085,_0x376121,_0x38ed10,_0x82d357,_0x17ddf7){(_0x1a1b67<_0x38ed10||_0x1a1b67>_0x82d357)&&im&&(im--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x1a1b67=N['clamp']((_0x1a1b67-_0x38ed10)/(_0x82d357-_0x38ed10),-0x448+-0x9d3+0xe1b,0x92+-0x2*-0x122+0x1*-0x2d5),Wt['float2Byte'+'s'](_0x1a1b67,_0x480085,_0x376121,_0x17ddf7);}static['float2RGBA'+'8'](_0x2f67dd,_0x4a6fa4){du[-0x2*-0x15d+0x1bc*0x4+-0x9aa]=_0x2f67dd;const _0x56de60=rm[0x12d5*-0x1+-0x2153+0x3428];_0x4a6fa4['r']=(_0x56de60>>-0x1*0x977+-0xf*-0x214+-0x159d&-0x2176+0x49*0x42+-0x1*-0xfa3)/(0x1d07+0x18d9+0x1*-0x34e1),_0x4a6fa4['g']=(_0x56de60>>-0x2606+0x19cc+-0xc4a*-0x1&0x7e6+-0x944+0x25d)/(-0x1da3+-0x223a+0x40dc),_0x4a6fa4['b']=(_0x56de60>>-0xd7b+0x2*-0x3a1+0x14c5&-0x2324+0x16d8+0x29*0x53)/(0x3aa*0x1+0x1*-0x1a+0x291*-0x1),_0x4a6fa4['a']=(_0x56de60&-0x2590+0x66*-0x3+0x27c1)/(0x23e0+0x3*-0x5d1+0x17*-0xc2);}}const rt=class rt{constructor(_0xf2e7a9=0x1e07+0xb0b+-0xe*0x2ef,_0x4f484e=0x1d13+-0xf4a+-0xdc9,_0x1148a4=0x1825+-0x2462*0x1+-0xc3d*-0x1){c(this,'x'),c(this,'y'),c(this,'z'),_0xf2e7a9['length']===-0x1*0x18e5+0x1468+0x480?(this['x']=_0xf2e7a9[-0x8f9*0x1+-0x1050+0x1949*0x1],this['y']=_0xf2e7a9[-0x1569+-0x84b+-0x1fb*-0xf],this['z']=_0xf2e7a9[-0x1ca0+0x24e5+-0x843]):(this['x']=_0xf2e7a9,this['y']=_0x4f484e,this['z']=_0x1148a4);}['add'](_0x1507af){return this['x']+=_0x1507af['x'],this['y']+=_0x1507af['y'],this['z']+=_0x1507af['z'],this;}['add2'](_0x41bbc9,_0x535f07){return this['x']=_0x41bbc9['x']+_0x535f07['x'],this['y']=_0x41bbc9['y']+_0x535f07['y'],this['z']=_0x41bbc9['z']+_0x535f07['z'],this;}['addScalar'](_0x256cdf){return this['x']+=_0x256cdf,this['y']+=_0x256cdf,this['z']+=_0x256cdf,this;}['addScaled'](_0x280715,_0x3c12c5){return this['x']+=_0x280715['x']*_0x3c12c5,this['y']+=_0x280715['y']*_0x3c12c5,this['z']+=_0x280715['z']*_0x3c12c5,this;}['clone'](){const _0x5a85f0=this['constructo'+'r'];return new _0x5a85f0(this['x'],this['y'],this['z']);}['copy'](_0x232a99){return this['x']=_0x232a99['x'],this['y']=_0x232a99['y'],this['z']=_0x232a99['z'],this;}['cross'](_0x25b5e5,_0x157edb){const _0x1d75ac=_0x25b5e5['x'],_0x28e311=_0x25b5e5['y'],_0x5603cb=_0x25b5e5['z'],_0x767700=_0x157edb['x'],_0x15767b=_0x157edb['y'],_0x2760ff=_0x157edb['z'];return this['x']=_0x28e311*_0x2760ff-_0x15767b*_0x5603cb,this['y']=_0x5603cb*_0x767700-_0x2760ff*_0x1d75ac,this['z']=_0x1d75ac*_0x15767b-_0x767700*_0x28e311,this;}['distance'](_0x3fba77){const _0x1fcbeb=this['x']-_0x3fba77['x'],_0x247a00=this['y']-_0x3fba77['y'],_0x4c477e=this['z']-_0x3fba77['z'];return Math['sqrt'](_0x1fcbeb*_0x1fcbeb+_0x247a00*_0x247a00+_0x4c477e*_0x4c477e);}['div'](_0x5b2c62){return this['x']/=_0x5b2c62['x'],this['y']/=_0x5b2c62['y'],this['z']/=_0x5b2c62['z'],this;}['div2'](_0x5c0ba9,_0x2687af){return this['x']=_0x5c0ba9['x']/_0x2687af['x'],this['y']=_0x5c0ba9['y']/_0x2687af['y'],this['z']=_0x5c0ba9['z']/_0x2687af['z'],this;}['divScalar'](_0x1d198f){return this['x']/=_0x1d198f,this['y']/=_0x1d198f,this['z']/=_0x1d198f,this;}['dot'](_0x4b8e02){return this['x']*_0x4b8e02['x']+this['y']*_0x4b8e02['y']+this['z']*_0x4b8e02['z'];}['equals'](_0x429f6f){return this['x']===_0x429f6f['x']&&this['y']===_0x429f6f['y']&&this['z']===_0x429f6f['z'];}['equalsAppr'+'ox'](_0x465416,_0x21c776=0xef+0xa94+0x1a5*-0x7+0.000001){return Math['abs'](this['x']-_0x465416['x'])<_0x21c776&&Math['abs'](this['y']-_0x465416['y'])<_0x21c776&&Math['abs'](this['z']-_0x465416['z'])<_0x21c776;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x4ebbc0,_0x26bf48,_0x4f6b42){return this['x']=_0x4ebbc0['x']+_0x4f6b42*(_0x26bf48['x']-_0x4ebbc0['x']),this['y']=_0x4ebbc0['y']+_0x4f6b42*(_0x26bf48['y']-_0x4ebbc0['y']),this['z']=_0x4ebbc0['z']+_0x4f6b42*(_0x26bf48['z']-_0x4ebbc0['z']),this;}['mul'](_0x1aa320){return this['x']*=_0x1aa320['x'],this['y']*=_0x1aa320['y'],this['z']*=_0x1aa320['z'],this;}['mul2'](_0x555e9b,_0x2fe46b){return this['x']=_0x555e9b['x']*_0x2fe46b['x'],this['y']=_0x555e9b['y']*_0x2fe46b['y'],this['z']=_0x555e9b['z']*_0x2fe46b['z'],this;}['mulScalar'](_0x52710b){return this['x']*=_0x52710b,this['y']*=_0x52710b,this['z']*=_0x52710b,this;}['normalize'](_0x118f39=this){const _0x3624aa=_0x118f39['x']*_0x118f39['x']+_0x118f39['y']*_0x118f39['y']+_0x118f39['z']*_0x118f39['z'];if(_0x3624aa>0xd1e+0x2704+-0x3422){const _0x319e65=(0x1c3b+-0x54*0x25+-0x1016)/Math['sqrt'](_0x3624aa);this['x']=_0x118f39['x']*_0x319e65,this['y']=_0x118f39['y']*_0x319e65,this['z']=_0x118f39['z']*_0x319e65;}return this;}['floor'](_0x1b53a3=this){return this['x']=Math['floor'](_0x1b53a3['x']),this['y']=Math['floor'](_0x1b53a3['y']),this['z']=Math['floor'](_0x1b53a3['z']),this;}['ceil'](_0x59473f=this){return this['x']=Math['ceil'](_0x59473f['x']),this['y']=Math['ceil'](_0x59473f['y']),this['z']=Math['ceil'](_0x59473f['z']),this;}['round'](_0x571185=this){return this['x']=Math['round'](_0x571185['x']),this['y']=Math['round'](_0x571185['y']),this['z']=Math['round'](_0x571185['z']),this;}['min'](_0x1c784f){return _0x1c784f['x']<this['x']&&(this['x']=_0x1c784f['x']),_0x1c784f['y']<this['y']&&(this['y']=_0x1c784f['y']),_0x1c784f['z']<this['z']&&(this['z']=_0x1c784f['z']),this;}['max'](_0x4ad685){return _0x4ad685['x']>this['x']&&(this['x']=_0x4ad685['x']),_0x4ad685['y']>this['y']&&(this['y']=_0x4ad685['y']),_0x4ad685['z']>this['z']&&(this['z']=_0x4ad685['z']),this;}['project'](_0x2ccdbf){const _0x53d12a=this['x']*_0x2ccdbf['x']+this['y']*_0x2ccdbf['y']+this['z']*_0x2ccdbf['z'],_0x237e2a=_0x2ccdbf['x']*_0x2ccdbf['x']+_0x2ccdbf['y']*_0x2ccdbf['y']+_0x2ccdbf['z']*_0x2ccdbf['z'],_0x2e642d=_0x53d12a/_0x237e2a;return this['x']=_0x2ccdbf['x']*_0x2e642d,this['y']=_0x2ccdbf['y']*_0x2e642d,this['z']=_0x2ccdbf['z']*_0x2e642d,this;}['set'](_0x52b950,_0x7f7627,_0x410642){return this['x']=_0x52b950,this['y']=_0x7f7627,this['z']=_0x410642,this;}['sub'](_0x15637a){return this['x']-=_0x15637a['x'],this['y']-=_0x15637a['y'],this['z']-=_0x15637a['z'],this;}['sub2'](_0x2cb67e,_0x376f6e){return this['x']=_0x2cb67e['x']-_0x376f6e['x'],this['y']=_0x2cb67e['y']-_0x376f6e['y'],this['z']=_0x2cb67e['z']-_0x376f6e['z'],this;}['subScalar'](_0x2b4cad){return this['x']-=_0x2b4cad,this['y']-=_0x2b4cad,this['z']-=_0x2b4cad,this;}['fromArray'](_0x56c070,_0x1c52ef=0x17df+-0x75*-0x3b+-0x32d6){return this['x']=_0x56c070[_0x1c52ef]??this['x'],this['y']=_0x56c070[_0x1c52ef+(-0x2709+-0x824+-0xb7*-0x42)]??this['y'],this['z']=_0x56c070[_0x1c52ef+(-0x62c+0x811*0x1+-0x1e3)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x3dd7cc=[],_0x43288d=-0x73*0x35+0xc4c*-0x1+0x3*0xc09){return _0x3dd7cc[_0x43288d]=this['x'],_0x3dd7cc[_0x43288d+(0x1c84+-0x168+-0x1b1b)]=this['y'],_0x3dd7cc[_0x43288d+(-0x102b*-0x1+0x1b8f+-0x8*0x577)]=this['z'],_0x3dd7cc;}};c(rt,'ZERO',Object['freeze'](new rt(0xfd3+-0x11*0x21a+-0x13e7*-0x1,0x1de5+-0x1d70+-0x75,0x1b08+-0x51a*-0x1+0xab6*-0x3))),c(rt,'HALF',Object['freeze'](new rt(0x5*-0x643+0x2146*0x1+-0x1f7*0x1+0.5,0x72d*-0x5+0x1503*0x1+0xede+0.5,-0x1495+0xcc*-0x22+-0x5*-0x989+0.5))),c(rt,'ONE',Object['freeze'](new rt(-0x260+-0x86*-0x9+-0xc7*0x3,-0x1848+-0x1b6*-0x11+-0x4cd,-0x1*-0x2419+-0x25fd+0x1e5))),c(rt,'UP',Object['freeze'](new rt(0x113+0x1e40+-0x1f53,-0x2b*-0x3d+-0x1*-0x3f5+-0xe33*0x1,0xb*0x2c5+-0x21c9+-0x19*-0x22))),c(rt,'DOWN',Object['freeze'](new rt(0x33d*0x1+0x6*-0x599+-0x1c9*-0x11,-(-0x7*0x20b+0x7*0x4a7+-0x1243),0x243f+-0x1*0x18e5+0x1*-0xb5a))),c(rt,'RIGHT',Object['freeze'](new rt(0x20e3+-0x1*0x6ae+-0x102*0x1a,0x48d*-0x5+0xf8f+0x732,-0x3ce*-0x8+-0x5*0x27a+-0x2*0x907))),c(rt,'LEFT',Object['freeze'](new rt(-(-0xb0f+0x1648+-0xb38),0x60f+-0x1aec+0x14dd,-0x1*-0x15d7+-0x1d5c+0x785*0x1))),c(rt,'FORWARD',Object['freeze'](new rt(0x1*0x2482+-0x235b*0x1+-0x127,-0x2c*-0x2+0x12f3+-0x134b*0x1,-(-0x9*-0x3ad+-0x1bb0*0x1+-0x1*0x564)))),c(rt,'BACK',Object['freeze'](new rt(-0x2257*0x1+-0x1321+0x74*0x76,0x5ac+0x72*0xc+0x4*-0x2c1,-0xc5f*0x2+0x255+0xb35*0x2)));let T=rt;const na=class na{constructor(){c(this,'data',new Float32Array(-0xb82+-0xfc7+0xda9*0x2)),this['data'][0xbb7+-0x2*0x505+0x1ad*-0x1]=this['data'][0x3*0xc21+0x1de1+-0x4*0x1090]=this['data'][0x17*0x7b+-0x1cb9+-0x2c*-0x67]=0x110d+0xa45+-0x1b51;}['clone'](){const _0x5aef4c=this['constructo'+'r'];return new _0x5aef4c()['copy'](this);}['copy'](_0x259824){const _0x3d92fc=_0x259824['data'],_0x1fb244=this['data'];return _0x1fb244[-0x19f9+-0x55e+0x1f57]=_0x3d92fc[0x1*0x1423+0x1ada+-0x2efd],_0x1fb244[-0x1*0x1859+0x2295+-0xa3b]=_0x3d92fc[0x254e+0x2*-0x39+0xb9*-0x33],_0x1fb244[0x115*-0xb+-0x4f*0x1+0xb8*0x11]=_0x3d92fc[-0x1*0x685+-0xf4*0x7+0xd33],_0x1fb244[-0x752+0x1df1+-0x169c]=_0x3d92fc[0x1*0x1271+-0xc5*0x16+-0x1*0x180],_0x1fb244[-0x16ab+0x22a6+-0xbf7]=_0x3d92fc[0x5c6+0x3b*0x76+-0x20f4],_0x1fb244[0x1fd+-0x1b8f+0x1997]=_0x3d92fc[-0x1607+-0x7+-0x1*-0x1613],_0x1fb244[0x37*0x86+-0x8d5*-0x1+0x36b*-0xb]=_0x3d92fc[-0x905+-0x64+0x96f],_0x1fb244[0x1445+-0x16f*-0x11+-0x2c9d]=_0x3d92fc[-0x1302+-0x14d5+0x27de],_0x1fb244[0x1628*-0x1+-0x2f6*0x4+0x2208]=_0x3d92fc[0x9be*0x4+0x18b6+-0x3fa6],this;}['set'](_0x5397a0){const _0x557c73=this['data'];return _0x557c73[-0x1073+0x81*-0x3f+0x3032]=_0x5397a0[0x233d+-0xd2e+0x160f*-0x1],_0x557c73[0x51c*-0x1+0xb*-0x9d+0x6*0x1fa]=_0x5397a0[0x1*-0x2185+0x371*-0x7+-0x31*-0x12d],_0x557c73[0x1cbf+-0xd*0x102+0x1*-0xfa3]=_0x5397a0[-0x3*0x305+-0x11*0x9+0x9aa],_0x557c73[0xdb8+-0x713+-0x6a2]=_0x5397a0[0xa1b+0x536+-0x28d*0x6],_0x557c73[0x13e7+-0x2*0xea4+0x25*0x41]=_0x5397a0[0x11a0*0x1+0x4e5+-0x1681],_0x557c73[-0x3*-0x649+-0x1b0e+0x41c*0x2]=_0x5397a0[0xa31+-0x531+0x33*-0x19],_0x557c73[0x1eb*-0xd+0xfaa+-0x319*-0x3]=_0x5397a0[0xe34+-0x13*-0x14c+-0x26d2*0x1],_0x557c73[-0x356*0x9+0x243d*0x1+0x6*-0x108]=_0x5397a0[-0x3*-0x31d+-0x1*0x93+-0x1*0x8bd],_0x557c73[-0x3*-0x164+-0x2153+0x1d2f]=_0x5397a0[0x355+0x10d6+0x1423*-0x1],this;}['getX'](_0x38c9eb=new T()){return _0x38c9eb['set'](this['data'][-0x204e+0xca0*0x2+-0x70e*-0x1],this['data'][-0x1d9+-0x936+0xb10],this['data'][0x2*0x5bc+0xdde+-0x1954]);}['getY'](_0x7abec1=new T()){return _0x7abec1['set'](this['data'][0xbf*-0x13+0x14a7+-0x5*0x14b],this['data'][-0x10f7+0xd85+0x376],this['data'][0x1c76+0x5*-0x4a9+-0x4*0x149]);}['getZ'](_0x7a832a=new T()){return _0x7a832a['set'](this['data'][-0xb2*-0x2e+-0x844+-0x17b2],this['data'][-0x41f+-0x3*0xa8a+0xda*0x2a],this['data'][0x35*0xa1+-0x4*0x2a+0x3d*-0x89]);}['equals'](_0x467762){const _0x307d2c=this['data'],_0x228f99=_0x467762['data'];return _0x307d2c[-0x2*0x1061+0x1120+0xfa2]===_0x228f99[-0x1*0x12b5+-0x30*0x10+0x15b5]&&_0x307d2c[-0x1a56*-0x1+0x1872+-0x32c7]===_0x228f99[0x3e7+0x1e2*0xa+-0xb5d*0x2]&&_0x307d2c[0x1626+0x1c8f+-0x32b3*0x1]===_0x228f99[0x3*0x2c5+-0x83d+0x10*-0x1]&&_0x307d2c[0x2*0x1241+-0x153a+-0xf45]===_0x228f99[-0x3b9*0x1+0x1*0xc23+-0x867]&&_0x307d2c[0x2*0x2c9+0x22d8+-0x2866]===_0x228f99[0x26d0+-0xc60+-0x1a6c]&&_0x307d2c[0x44*-0x4a+-0x1*0x894+-0x96b*-0x3]===_0x228f99[-0x1d5e+-0x1*0x11a7+-0x53a*-0x9]&&_0x307d2c[0x1990+0x1*-0x2632+0xca8]===_0x228f99[-0xb7*0x31+-0x10da+0x135*0x2b]&&_0x307d2c[0x4*0x3b8+-0x160b+0x732]===_0x228f99[0x1*-0x1e6b+-0xded+0x2c5f]&&_0x307d2c[-0x1*0x153f+0xd*-0x1b7+0x2b92]===_0x228f99[-0xa8d+0xb1a+-0x85];}['isIdentity'](){const _0x28d5fc=this['data'];return _0x28d5fc[-0x1*0xe7d+-0xa17*0x1+-0x1894*-0x1]===0x1c26+0x2147+-0x3d6c&&_0x28d5fc[-0x1*0x1f1e+0xb2d+0x13f2]===0x2269+0x672+-0x28db*0x1&&_0x28d5fc[-0x1b*-0x53+-0x923*0x3+0x2*0x955]===0x1869*-0x1+-0xd*0x22f+-0x7c*-0x6d&&_0x28d5fc[-0x255b+-0xee4+0x3442]===0x36d*-0xb+-0x2139+0x46e8&&_0x28d5fc[-0xc97+0x26*-0x86+0x207f]===-0x1*-0x1a4d+0x11f2+-0x2c3e&&_0x28d5fc[-0x3e9*-0x1+0x1*-0x1a1f+0x163b]===0x1*-0x24eb+-0x23fa+-0x48e5*-0x1&&_0x28d5fc[-0x1f6f+0x20c2+-0x6f*0x3]===-0x2*0x3a6+-0x2e1+-0x209*-0x5&&_0x28d5fc[-0x167*0x1b+-0x12b9*-0x1+-0x2bd*-0x7]===0x2221+0x1b06+-0x3d27&&_0x28d5fc[-0x6da+-0x1*-0xf07+0x8b*-0xf]===0x1*-0x259b+0x76*0x44+0x644;}['setIdentit'+'y'](){const _0x5d69ec=this['data'];return _0x5d69ec[-0x50b*0x1+-0x2*-0xf0+-0x1*-0x32b]=-0x1*-0x182+0xa16*0x2+0x1f*-0xb3,_0x5d69ec[0x94*-0x10+0x4a1+0x4a0]=-0x264b+-0x1d8*0x4+0x2dab,_0x5d69ec[0x1*-0x2662+0x1*0x22d9+0x38b]=-0xb1a+0x260b+-0x1af1,_0x5d69ec[-0x26af+-0x47b*0x7+0x460f]=-0x20e2+0x1ef2+0x1f0,_0x5d69ec[-0x235e+0xdb+0x1*0x2287]=-0x32+0x3*0x2d5+0xb1*-0xc,_0x5d69ec[0x1905+0x17*-0x105+-0x18d]=0x163*0xf+0x2*0x6aa+-0x1*0x2221,_0x5d69ec[0x1619*-0x1+-0x2196+0x37b5]=0x1*0x1144+-0x32*-0x7d+-0x29ae,_0x5d69ec[-0x5c*-0x8+0x1*0x15e+-0xd*0x53]=0x1f01+-0x1ca6+0x1*-0x25b,_0x5d69ec[0x1028+-0x1415+0x1*0x3f5]=0x28+0x1*-0xed2+0xeab*0x1,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x300227=this){const _0x222716=_0x300227['data'],_0x182c21=this['data'];if(_0x222716===_0x182c21){let _0x3a4bf8;_0x3a4bf8=_0x222716[0x17d4+-0x4*-0x373+-0x259f],_0x182c21[0x7c*-0x2+-0x1a1d*-0x1+-0x1924]=_0x222716[-0xa*0x185+0x4e9+0xa4c],_0x182c21[0x1*-0xf5f+-0xfc3+-0x43*-0x77]=_0x3a4bf8,_0x3a4bf8=_0x222716[0x566+-0x14aa+-0x187*-0xa],_0x182c21[-0x146+-0x49d*0x5+0x1859]=_0x222716[0x20ff+0x13b8+-0x29*0x149],_0x182c21[0xc63*-0x1+0x1b3d+-0xed4]=_0x3a4bf8,_0x3a4bf8=_0x222716[-0x13a*-0x10+0x7*-0x35+-0x1228],_0x182c21[-0x14e*-0xb+-0x1e42+-0x1*-0xfed]=_0x222716[0x17e*0x1+0x1*0x1bb5+-0x1d2c],_0x182c21[0x22e6*0x1+-0x20f*0x11+0x20]=_0x3a4bf8;}else _0x182c21[-0x238f+0x4*-0xf2+0x2757]=_0x222716[0xbd8*-0x2+0x102*0x16+-0x1*-0x184],_0x182c21[-0x75+-0x876+-0x4*-0x23b]=_0x222716[0xbb*-0x9+0x15ee+-0xf58],_0x182c21[-0xa1f+-0xec3+0x18e4]=_0x222716[0x12e6+0xfcf*-0x1+-0x1*0x311],_0x182c21[0x2582+-0x1276+-0x1309]=_0x222716[-0x3*0x231+-0x1*-0x1b23+-0x148f],_0x182c21[0x1*0x261f+0x5*-0x93+-0x233c]=_0x222716[-0x208b+-0x1a62+0x3af1],_0x182c21[-0x1*-0xd36+0x212d+-0x2e5e]=_0x222716[-0x4a*-0x7d+-0x1c58+-0x7c3],_0x182c21[-0x13f4+-0x1a1*0x2+0x173c]=_0x222716[-0x27*-0x89+0x130a+0x2d*-0xe3],_0x182c21[-0xf1b+-0x193*0xf+0x26bf]=_0x222716[-0x4c6*-0x8+-0x1193+0x293*-0x8],_0x182c21[-0x1165+0x1de7+-0xc7a]=_0x222716[-0x1*0x691+-0x4*0x6f2+-0xd*-0x2a5];return this;}['setFromMat'+'4'](_0x44e3ed){const _0x4598fc=_0x44e3ed['data'],_0x233734=this['data'];return _0x233734[0x1*-0xf65+-0x3*-0x8fa+0xb89*-0x1]=_0x4598fc[0x115*0x15+-0x3*-0x5d5+0x16*-0x1d4],_0x233734[0x166a+0x1*0x20f+-0x828*0x3]=_0x4598fc[0x3e7*0x4+-0x4*-0x97a+-0x3583],_0x233734[0x1*0x12e1+-0x1760+0x481]=_0x4598fc[-0x1*-0xa5b+-0x1238+0x1*0x7df],_0x233734[0x79f*-0x1+0x26ae+0x1*-0x1f0c]=_0x4598fc[-0x7bc*0x4+0xfd5+0xf1f],_0x233734[0x2*-0x11aa+0x9dc+0x197c]=_0x4598fc[-0x1d*-0xc3+-0xd81+-0x891],_0x233734[-0x1e04+-0x1e*0x6d+0x34b*0xd]=_0x4598fc[0x3*0x69+0x5*-0x27f+0xb46*0x1],_0x233734[0x151f+0x2*-0x8de+0x1*-0x35d]=_0x4598fc[0x9*0x455+0x14f6+-0x3beb*0x1],_0x233734[0x77*-0x1d+0xc76+0x10c]=_0x4598fc[0x190f+0x8*0x260+-0x2c06],_0x233734[-0xcef+0x16b*-0xf+0x223c]=_0x4598fc[-0x7*0x3c4+0x14d+0x1*0x1919],this;}['setFromQua'+'t'](_0x26d911){const _0xd45c99=_0x26d911['x'],_0x49b42c=_0x26d911['y'],_0x437f14=_0x26d911['z'],_0x3d8fab=_0x26d911['w'],_0x411de1=_0xd45c99+_0xd45c99,_0x5b6c19=_0x49b42c+_0x49b42c,_0x16fda6=_0x437f14+_0x437f14,_0x57d8dc=_0xd45c99*_0x411de1,_0x1ceda7=_0xd45c99*_0x5b6c19,_0x5b62d9=_0xd45c99*_0x16fda6,_0x429e70=_0x49b42c*_0x5b6c19,_0x208724=_0x49b42c*_0x16fda6,_0x206a61=_0x437f14*_0x16fda6,_0x11f7cc=_0x3d8fab*_0x411de1,_0x408ca0=_0x3d8fab*_0x5b6c19,_0x392636=_0x3d8fab*_0x16fda6,_0x4f6b41=this['data'];return _0x4f6b41[-0x232a+-0x423+0x274d]=-0x205e+-0x10cf+0x9d6*0x5-(_0x429e70+_0x206a61),_0x4f6b41[-0x9*0x365+0xf83+0xf0b]=_0x1ceda7+_0x392636,_0x4f6b41[-0x1ad5+-0x24f9+0x3fd0]=_0x5b62d9-_0x408ca0,_0x4f6b41[0xff4+-0x2*-0x237+0x413*-0x5]=_0x1ceda7-_0x392636,_0x4f6b41[-0x1bfb+0x43*0x2e+0x2b*0x5f]=-0x9e9+0xebd*0x1+-0x41*0x13-(_0x57d8dc+_0x206a61),_0x4f6b41[0x12a1*-0x2+0x8e3+0x1c64]=_0x208724+_0x11f7cc,_0x4f6b41[-0xa6*0x32+0x1*0x433+0x1c3f*0x1]=_0x5b62d9+_0x408ca0,_0x4f6b41[0xfc4+-0x6*-0x2f2+-0x2169]=_0x208724-_0x11f7cc,_0x4f6b41[-0x20fe+0xbb*-0x1d+-0x1*-0x3635]=0x418*-0x1+-0x7a*0x4a+0x275d-(_0x57d8dc+_0x429e70),this;}['invertMat4'](_0x13760e){const _0x20b165=_0x13760e['data'],_0x55f5a4=_0x20b165[0x1e0+-0x105f+0xe7f],_0x577a83=_0x20b165[0x1496+-0x231c+0xe87],_0x1655f0=_0x20b165[-0x196f+-0x14d1*0x1+-0x2*-0x1721],_0xd18e93=_0x20b165[-0x1*0x231a+0xdec+0x1532],_0x3b7f15=_0x20b165[0x3c*-0x2d+-0xba5+0x1636],_0x108618=_0x20b165[0x1582+0x11*0x1f0+0xac*-0x51],_0x4de106=_0x20b165[0x14d7+0x1*-0xc9a+-0x1*0x835],_0x19a594=_0x20b165[-0x12d3+0x413*0x1+0xec9],_0x4729eb=_0x20b165[0x134e+0xad6+-0x2*0xf0d],_0x101ba4=_0x4729eb*_0x3b7f15-_0x108618*_0x19a594,_0x2828ed=-_0x4729eb*_0x577a83+_0x1655f0*_0x19a594,_0x39ad5c=_0x108618*_0x577a83-_0x1655f0*_0x3b7f15,_0x28b027=-_0x4729eb*_0xd18e93+_0x108618*_0x4de106,_0x5e4ac2=_0x4729eb*_0x55f5a4-_0x1655f0*_0x4de106,_0x552d27=-_0x108618*_0x55f5a4+_0x1655f0*_0xd18e93,_0x130cc6=_0x19a594*_0xd18e93-_0x3b7f15*_0x4de106,_0x5669cc=-_0x19a594*_0x55f5a4+_0x577a83*_0x4de106,_0x44206a=_0x3b7f15*_0x55f5a4-_0x577a83*_0xd18e93,_0x1d6bed=_0x55f5a4*_0x101ba4+_0x577a83*_0x28b027+_0x1655f0*_0x130cc6;if(_0x1d6bed===0x41d+0x2253+-0x2670*0x1)this['setIdentit'+'y']();else{const _0x9d251f=(0x206c+0x1f86*-0x1+-0xe5)/_0x1d6bed,_0x4a7b11=this['data'];_0x4a7b11[0x136c*0x2+-0x451+-0x2287]=_0x101ba4*_0x9d251f,_0x4a7b11[0xb24*-0x2+0x38b+0x12be]=_0x2828ed*_0x9d251f,_0x4a7b11[0x1e86*-0x1+0x136f*0x1+-0x3b3*-0x3]=_0x39ad5c*_0x9d251f,_0x4a7b11[-0xbb7*0x3+0x4b8+-0x1e70*-0x1]=_0x28b027*_0x9d251f,_0x4a7b11[0x242f+0x1*-0x8ac+-0x1b7f]=_0x5e4ac2*_0x9d251f,_0x4a7b11[-0xf6c+0x5*-0x6f1+0x3226]=_0x552d27*_0x9d251f,_0x4a7b11[0x1*0x23ad+0x2519+-0x48c0]=_0x130cc6*_0x9d251f,_0x4a7b11[-0x1531+0x19*-0x6d+0x1fdd]=_0x5669cc*_0x9d251f,_0x4a7b11[-0x8dd*0x1+0x22*-0xd2+0xdb*0x2b]=_0x44206a*_0x9d251f;}return this;}['transformV'+'ector'](_0x54e07f,_0x4362ed=new T()){const _0xfaf1c5=this['data'],{x:_0x2bf28b,y:_0x40b03e,z:_0x31d926}=_0x54e07f;return _0x4362ed['x']=_0x2bf28b*_0xfaf1c5[-0xfc4+-0x223b+0x31ff]+_0x40b03e*_0xfaf1c5[0x120b+0x1822+-0x303*0xe]+_0x31d926*_0xfaf1c5[-0x1679+0x2*0xed2+-0x1*0x725],_0x4362ed['y']=_0x2bf28b*_0xfaf1c5[0x130f+0x7*0x26b+-0x3d*0x97]+_0x40b03e*_0xfaf1c5[0x42d+-0xa80+0x657*0x1]+_0x31d926*_0xfaf1c5[0x119e+0x91+-0x1228],_0x4362ed['z']=_0x2bf28b*_0xfaf1c5[0xd25*-0x1+0x2120+-0x13f9]+_0x40b03e*_0xfaf1c5[0x2627+0x148b*0x1+-0x3aad]+_0x31d926*_0xfaf1c5[-0x6b2+0x10b6+0x24*-0x47],_0x4362ed;}};c(na,'IDENTITY',Object['freeze'](new na())),c(na,'ZERO',Object['freeze'](new na()['set']([-0x20f4+0x1ca6+0x44e,-0x10f5+0x3cf*-0x5+-0x2400*-0x1,-0x17*-0x13+0x4*0x1ba+0x89d*-0x1,-0x2139*-0x1+-0x52b+-0x1c0e,0x597+-0x667+0xd0,-0x53*0x6e+0x56f*-0x1+-0x9*-0x491,-0x926+0x12ef*-0x1+0x1c15,0x684+0x1c9c+-0x8*0x464,0x9*0x10d+-0x334*-0x9+-0x1b*0x16b])));let js=na;const wt=class wt{constructor(_0x541251=-0x173*-0x19+0x1c2b+-0x4066,_0x253b19=0x1ae+0x1c43+-0x1df1){c(this,'x'),c(this,'y'),_0x541251['length']===0x2053+0xda*0x21+-0x3c6b*0x1?(this['x']=_0x541251[0x117+0x2b7*0xb+-0x1ef4],this['y']=_0x541251[0x2*-0xc1a+-0x1fbe+0x37f3]):(this['x']=_0x541251,this['y']=_0x253b19);}['add'](_0x150c08){return this['x']+=_0x150c08['x'],this['y']+=_0x150c08['y'],this;}['add2'](_0x42241d,_0x1e06c6){return this['x']=_0x42241d['x']+_0x1e06c6['x'],this['y']=_0x42241d['y']+_0x1e06c6['y'],this;}['addScalar'](_0x1065af){return this['x']+=_0x1065af,this['y']+=_0x1065af,this;}['addScaled'](_0x44ff37,_0x2c5d13){return this['x']+=_0x44ff37['x']*_0x2c5d13,this['y']+=_0x44ff37['y']*_0x2c5d13,this;}['clone'](){const _0x37e862=this['constructo'+'r'];return new _0x37e862(this['x'],this['y']);}['copy'](_0x55c655){return this['x']=_0x55c655['x'],this['y']=_0x55c655['y'],this;}['cross'](_0x1d3a11){return this['x']*_0x1d3a11['y']-this['y']*_0x1d3a11['x'];}['distance'](_0x2c4ab4){const _0x242ef8=this['x']-_0x2c4ab4['x'],_0x46b139=this['y']-_0x2c4ab4['y'];return Math['sqrt'](_0x242ef8*_0x242ef8+_0x46b139*_0x46b139);}['div'](_0x1896ff){return this['x']/=_0x1896ff['x'],this['y']/=_0x1896ff['y'],this;}['div2'](_0x1fc85e,_0x254632){return this['x']=_0x1fc85e['x']/_0x254632['x'],this['y']=_0x1fc85e['y']/_0x254632['y'],this;}['divScalar'](_0x24031d){return this['x']/=_0x24031d,this['y']/=_0x24031d,this;}['dot'](_0x354a87){return this['x']*_0x354a87['x']+this['y']*_0x354a87['y'];}['equals'](_0x47443e){return this['x']===_0x47443e['x']&&this['y']===_0x47443e['y'];}['equalsAppr'+'ox'](_0x379eb3,_0x1e8fe4=-0x434+-0x11d1*-0x2+-0x1f6e+0.000001){return Math['abs'](this['x']-_0x379eb3['x'])<_0x1e8fe4&&Math['abs'](this['y']-_0x379eb3['y'])<_0x1e8fe4;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x3eb482,_0x563e0a,_0x399bf4){return this['x']=_0x3eb482['x']+_0x399bf4*(_0x563e0a['x']-_0x3eb482['x']),this['y']=_0x3eb482['y']+_0x399bf4*(_0x563e0a['y']-_0x3eb482['y']),this;}['mul'](_0x49f1f5){return this['x']*=_0x49f1f5['x'],this['y']*=_0x49f1f5['y'],this;}['mul2'](_0x38dd68,_0x4aa345){return this['x']=_0x38dd68['x']*_0x4aa345['x'],this['y']=_0x38dd68['y']*_0x4aa345['y'],this;}['mulScalar'](_0x51c4d0){return this['x']*=_0x51c4d0,this['y']*=_0x51c4d0,this;}['normalize'](_0x500293=this){const _0x55f7e3=_0x500293['x']*_0x500293['x']+_0x500293['y']*_0x500293['y'];if(_0x55f7e3>-0x6e9*0x1+-0x1*-0x22b+0x4be){const _0x418a4d=(0x1*0x40+-0x928+0x8e9)/Math['sqrt'](_0x55f7e3);this['x']=_0x500293['x']*_0x418a4d,this['y']=_0x500293['y']*_0x418a4d;}return this;}['rotate'](_0x3d3ffa){const _0x997a43=Math['atan2'](this['x'],this['y'])+_0x3d3ffa*N['DEG_TO_RAD'],_0x222cf9=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x997a43)*_0x222cf9,this['y']=Math['cos'](_0x997a43)*_0x222cf9,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*N['RAD_TO_DEG'];}['angleTo'](_0x3378f2){return Math['atan2'](this['x']*_0x3378f2['y']+this['y']*_0x3378f2['x'],this['x']*_0x3378f2['x']+this['y']*_0x3378f2['y'])*N['RAD_TO_DEG'];}['floor'](_0x4f92e0=this){return this['x']=Math['floor'](_0x4f92e0['x']),this['y']=Math['floor'](_0x4f92e0['y']),this;}['ceil'](_0x140e8b=this){return this['x']=Math['ceil'](_0x140e8b['x']),this['y']=Math['ceil'](_0x140e8b['y']),this;}['round'](_0x420e19=this){return this['x']=Math['round'](_0x420e19['x']),this['y']=Math['round'](_0x420e19['y']),this;}['min'](_0x23871c){return _0x23871c['x']<this['x']&&(this['x']=_0x23871c['x']),_0x23871c['y']<this['y']&&(this['y']=_0x23871c['y']),this;}['max'](_0x3b9cc8){return _0x3b9cc8['x']>this['x']&&(this['x']=_0x3b9cc8['x']),_0x3b9cc8['y']>this['y']&&(this['y']=_0x3b9cc8['y']),this;}['set'](_0x21b2a5,_0x49275b){return this['x']=_0x21b2a5,this['y']=_0x49275b,this;}['sub'](_0xfa1c94){return this['x']-=_0xfa1c94['x'],this['y']-=_0xfa1c94['y'],this;}['sub2'](_0x433205,_0x1c3f1e){return this['x']=_0x433205['x']-_0x1c3f1e['x'],this['y']=_0x433205['y']-_0x1c3f1e['y'],this;}['subScalar'](_0x45b4d6){return this['x']-=_0x45b4d6,this['y']-=_0x45b4d6,this;}['fromArray'](_0x3e3978,_0x38963e=-0x1f4d+0x1eee+0x5f*0x1){return this['x']=_0x3e3978[_0x38963e]??this['x'],this['y']=_0x3e3978[_0x38963e+(-0x1*0x25+0x7c9+0x1*-0x7a3)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x25db1c=[],_0x19b071=-0x147*-0x5+-0x1e23+0x17c0){return _0x25db1c[_0x19b071]=this['x'],_0x25db1c[_0x19b071+(-0x13d2+-0x4bd*-0x7+-0xd58)]=this['y'],_0x25db1c;}static['angleRad'](_0x4969dc,_0x273d5e){return Math['atan2'](_0x4969dc['x']*_0x273d5e['y']-_0x4969dc['y']*_0x273d5e['x'],_0x4969dc['x']*_0x273d5e['x']+_0x4969dc['y']*_0x273d5e['y']);}};c(wt,'ZERO',Object['freeze'](new wt(-0x392+0x23c0+-0x202e*0x1,-0xd19+0xd*0x101+0xc))),c(wt,'HALF',Object['freeze'](new wt(-0x2064+0x4*0x1eb+0x38*0x71+0.5,0x11e4+-0x20f3+-0x3*-0x505+0.5))),c(wt,'ONE',Object['freeze'](new wt(-0x1cdf+-0x119a+-0x295*-0x12,-0xa4a*-0x1+-0x1c06+-0x13*-0xef))),c(wt,'UP',Object['freeze'](new wt(-0x47*-0x6c+-0x2cd*-0xd+-0x7*0x97b,0x2592+-0x3*0xf5+-0x1159*0x2))),c(wt,'DOWN',Object['freeze'](new wt(0x2*0x9fa+-0x253*0x3+-0xcfb*0x1,-(0x1b4c+-0x1*0x2687+-0x4*-0x2cf)))),c(wt,'RIGHT',Object['freeze'](new wt(-0x1*0x20a2+0xa7f*0x1+0x1624,0x1*-0x8cd+-0x1fcd*0x1+0x289a))),c(wt,'LEFT',Object['freeze'](new wt(-(0x37*0x4f+-0x237a+0x1282),-0x753+-0x1d3+0x926)));let W=wt;const Yi=class Yi{constructor(_0x16ce8f=-0x221*0x10+-0x1be*0x7+0x2e42,_0x38d48c=-0x1*-0x1934+-0x871+-0x1*0x10c3,_0x5c414a=0x32*-0x5c+0x238b+-0x1193,_0x1f8412=-0x86e+-0x1d32+-0x10*-0x25a){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x16ce8f['length']===-0xab4+0x2004+0xaa6*-0x2?(this['x']=_0x16ce8f[0x9d1+0xb*0x127+-0x167e],this['y']=_0x16ce8f[0x1840+0x361+-0x1ba0],this['z']=_0x16ce8f[-0xc38+-0x1727+0x2361],this['w']=_0x16ce8f[0x2*0x12c7+-0x16c9+-0x761*0x2]):(this['x']=_0x16ce8f,this['y']=_0x38d48c,this['z']=_0x5c414a,this['w']=_0x1f8412);}['add'](_0x44752d){return this['x']+=_0x44752d['x'],this['y']+=_0x44752d['y'],this['z']+=_0x44752d['z'],this['w']+=_0x44752d['w'],this;}['add2'](_0x596092,_0x1fcef2){return this['x']=_0x596092['x']+_0x1fcef2['x'],this['y']=_0x596092['y']+_0x1fcef2['y'],this['z']=_0x596092['z']+_0x1fcef2['z'],this['w']=_0x596092['w']+_0x1fcef2['w'],this;}['addScalar'](_0x5b5c39){return this['x']+=_0x5b5c39,this['y']+=_0x5b5c39,this['z']+=_0x5b5c39,this['w']+=_0x5b5c39,this;}['addScaled'](_0x4ac5a2,_0x5a77e7){return this['x']+=_0x4ac5a2['x']*_0x5a77e7,this['y']+=_0x4ac5a2['y']*_0x5a77e7,this['z']+=_0x4ac5a2['z']*_0x5a77e7,this['w']+=_0x4ac5a2['w']*_0x5a77e7,this;}['clone'](){const _0x3f9413=this['constructo'+'r'];return new _0x3f9413(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x2f139f){return this['x']=_0x2f139f['x'],this['y']=_0x2f139f['y'],this['z']=_0x2f139f['z'],this['w']=_0x2f139f['w'],this;}['div'](_0x1c93c9){return this['x']/=_0x1c93c9['x'],this['y']/=_0x1c93c9['y'],this['z']/=_0x1c93c9['z'],this['w']/=_0x1c93c9['w'],this;}['div2'](_0x240965,_0x68ed43){return this['x']=_0x240965['x']/_0x68ed43['x'],this['y']=_0x240965['y']/_0x68ed43['y'],this['z']=_0x240965['z']/_0x68ed43['z'],this['w']=_0x240965['w']/_0x68ed43['w'],this;}['divScalar'](_0x38c0ff){return this['x']/=_0x38c0ff,this['y']/=_0x38c0ff,this['z']/=_0x38c0ff,this['w']/=_0x38c0ff,this;}['dot'](_0x4c5675){return this['x']*_0x4c5675['x']+this['y']*_0x4c5675['y']+this['z']*_0x4c5675['z']+this['w']*_0x4c5675['w'];}['equals'](_0x218758){return this['x']===_0x218758['x']&&this['y']===_0x218758['y']&&this['z']===_0x218758['z']&&this['w']===_0x218758['w'];}['equalsAppr'+'ox'](_0x2c8fbb,_0x1196c2=-0x88*0x41+0x5c4+0x1cc4+0.000001){return Math['abs'](this['x']-_0x2c8fbb['x'])<_0x1196c2&&Math['abs'](this['y']-_0x2c8fbb['y'])<_0x1196c2&&Math['abs'](this['z']-_0x2c8fbb['z'])<_0x1196c2&&Math['abs'](this['w']-_0x2c8fbb['w'])<_0x1196c2;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x21f26d,_0x1d7afa,_0x3be437){return this['x']=_0x21f26d['x']+_0x3be437*(_0x1d7afa['x']-_0x21f26d['x']),this['y']=_0x21f26d['y']+_0x3be437*(_0x1d7afa['y']-_0x21f26d['y']),this['z']=_0x21f26d['z']+_0x3be437*(_0x1d7afa['z']-_0x21f26d['z']),this['w']=_0x21f26d['w']+_0x3be437*(_0x1d7afa['w']-_0x21f26d['w']),this;}['mul'](_0x46685e){return this['x']*=_0x46685e['x'],this['y']*=_0x46685e['y'],this['z']*=_0x46685e['z'],this['w']*=_0x46685e['w'],this;}['mul2'](_0x38f31a,_0x1ba6b9){return this['x']=_0x38f31a['x']*_0x1ba6b9['x'],this['y']=_0x38f31a['y']*_0x1ba6b9['y'],this['z']=_0x38f31a['z']*_0x1ba6b9['z'],this['w']=_0x38f31a['w']*_0x1ba6b9['w'],this;}['mulScalar'](_0x1f6ac9){return this['x']*=_0x1f6ac9,this['y']*=_0x1f6ac9,this['z']*=_0x1f6ac9,this['w']*=_0x1f6ac9,this;}['normalize'](_0x4a5283=this){const _0x54778a=_0x4a5283['x']*_0x4a5283['x']+_0x4a5283['y']*_0x4a5283['y']+_0x4a5283['z']*_0x4a5283['z']+_0x4a5283['w']*_0x4a5283['w'];if(_0x54778a>0x1206+0x5*-0x18e+-0x2*0x520){const _0x5eadfb=(-0x154c+0x3*0xab5+-0x115*0xa)/Math['sqrt'](_0x54778a);this['x']=_0x4a5283['x']*_0x5eadfb,this['y']=_0x4a5283['y']*_0x5eadfb,this['z']=_0x4a5283['z']*_0x5eadfb,this['w']=_0x4a5283['w']*_0x5eadfb;}return this;}['floor'](_0x562baa=this){return this['x']=Math['floor'](_0x562baa['x']),this['y']=Math['floor'](_0x562baa['y']),this['z']=Math['floor'](_0x562baa['z']),this['w']=Math['floor'](_0x562baa['w']),this;}['ceil'](_0x460c5d=this){return this['x']=Math['ceil'](_0x460c5d['x']),this['y']=Math['ceil'](_0x460c5d['y']),this['z']=Math['ceil'](_0x460c5d['z']),this['w']=Math['ceil'](_0x460c5d['w']),this;}['round'](_0x3a29c6=this){return this['x']=Math['round'](_0x3a29c6['x']),this['y']=Math['round'](_0x3a29c6['y']),this['z']=Math['round'](_0x3a29c6['z']),this['w']=Math['round'](_0x3a29c6['w']),this;}['min'](_0x584701){return _0x584701['x']<this['x']&&(this['x']=_0x584701['x']),_0x584701['y']<this['y']&&(this['y']=_0x584701['y']),_0x584701['z']<this['z']&&(this['z']=_0x584701['z']),_0x584701['w']<this['w']&&(this['w']=_0x584701['w']),this;}['max'](_0x24806d){return _0x24806d['x']>this['x']&&(this['x']=_0x24806d['x']),_0x24806d['y']>this['y']&&(this['y']=_0x24806d['y']),_0x24806d['z']>this['z']&&(this['z']=_0x24806d['z']),_0x24806d['w']>this['w']&&(this['w']=_0x24806d['w']),this;}['set'](_0x200208,_0x3fded2,_0x5ea063,_0x441835){return this['x']=_0x200208,this['y']=_0x3fded2,this['z']=_0x5ea063,this['w']=_0x441835,this;}['sub'](_0x34be8b){return this['x']-=_0x34be8b['x'],this['y']-=_0x34be8b['y'],this['z']-=_0x34be8b['z'],this['w']-=_0x34be8b['w'],this;}['sub2'](_0x3bffb7,_0x96b3b4){return this['x']=_0x3bffb7['x']-_0x96b3b4['x'],this['y']=_0x3bffb7['y']-_0x96b3b4['y'],this['z']=_0x3bffb7['z']-_0x96b3b4['z'],this['w']=_0x3bffb7['w']-_0x96b3b4['w'],this;}['subScalar'](_0x17322f){return this['x']-=_0x17322f,this['y']-=_0x17322f,this['z']-=_0x17322f,this['w']-=_0x17322f,this;}['fromArray'](_0x1f7165,_0x43dfe5=-0xf*0x185+-0x1143+-0xd5a*-0x3){return this['x']=_0x1f7165[_0x43dfe5]??this['x'],this['y']=_0x1f7165[_0x43dfe5+(0x583*0x4+-0xcae*0x3+-0x555*-0x3)]??this['y'],this['z']=_0x1f7165[_0x43dfe5+(0x1*-0x1bb+0x1e24+-0x1c67*0x1)]??this['z'],this['w']=_0x1f7165[_0x43dfe5+(-0x2*0x133d+0xcf*0x13+0x1720)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x5e47d1=[],_0x862d9e=-0x1*-0x201d+0x2446+0x11f*-0x3d){return _0x5e47d1[_0x862d9e]=this['x'],_0x5e47d1[_0x862d9e+(-0x17da+-0x22*-0x9d+0x301)]=this['y'],_0x5e47d1[_0x862d9e+(0x1*0x9e8+0x1fdf+0x25*-0x121)]=this['z'],_0x5e47d1[_0x862d9e+(-0x253e+-0xa65*0x1+0x17d3*0x2)]=this['w'],_0x5e47d1;}};c(Yi,'ZERO',Object['freeze'](new Yi(-0x2513+0x24ff+0x14,0x3f2*-0x5+-0x4*0x75e+0x3132,-0xb3a+-0xfaf+0x53*0x53,-0x1b7*0x13+-0x4*-0x9a4+0x5fb*-0x1))),c(Yi,'HALF',Object['freeze'](new Yi(0x925+0x1c9f+0x12e2*-0x2+0.5,-0x4*-0x699+0x1*-0x1965+-0xff+0.5,-0x1f1c+0x2462+-0x546+0.5,0xe13+-0x1*0x1565+0x752+0.5))),c(Yi,'ONE',Object['freeze'](new Yi(-0x7c*-0xc+0x1fc0+-0x258f,0x109+-0x9*0x16e+-0x3*-0x3f2,-0x6*0x5c1+-0x3de+0x2665,-0xefe+-0x4*-0x78b+-0xf2d)));let Q=Yi;const Ua=new W(),us=new T(),Fs=new T(),Os=new T(),_l=new T(),Ur=class Ur{constructor(){c(this,'data',new Float32Array(0xe4d+-0xd*-0x2af+0x18*-0x20c)),this['data'][-0x1*0x1a3f+-0x2345+-0x1*-0x3d84]=this['data'][-0xd3d*0x1+0x89a+0x4a8]=this['data'][0x1*0x1696+-0x1997+0x30b]=this['data'][-0x3d3+0x5*-0x33f+0x141d]=0xb66+0x1062+-0x1bc7;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x5dbb34,_0x580342,_0x5d1ad8,_0x2d7c82,_0x514313){_0x514313?(_0x5dbb34['x']=_0x2d7c82*Math['tan'](_0x580342*Math['PI']/(0xe51+0x149*0xf+-0x2030)),_0x5dbb34['y']=_0x5dbb34['x']/_0x5d1ad8):(_0x5dbb34['y']=_0x2d7c82*Math['tan'](_0x580342*Math['PI']/(0x125f+-0x399*0xa+0x1303)),_0x5dbb34['x']=_0x5dbb34['y']*_0x5d1ad8);}['add2'](_0x2ad4ab,_0x22085f){const _0x12e5b2=_0x2ad4ab['data'],_0x12230b=_0x22085f['data'],_0x4c99e1=this['data'];return _0x4c99e1[0x156c+0x217e+-0x36ea]=_0x12e5b2[-0x3*0x95f+-0x1a6f+0x368c*0x1]+_0x12230b[-0x5df+0x1*0xa72+-0x493],_0x4c99e1[0x1f66+0x552+0x27*-0xf1]=_0x12e5b2[-0x1*-0x1135+0x19b8+0x4*-0xabb]+_0x12230b[0x2046+-0x1df6*-0x1+-0x3e3b*0x1],_0x4c99e1[0x90d+-0x267f+0x1d74]=_0x12e5b2[-0x2260+0x1*0x1ad+0x20b5]+_0x12230b[0x343*0x4+0x1*-0x16d3+-0x1*-0x9c9],_0x4c99e1[-0x26bf+-0x46*-0x6d+0x8f4]=_0x12e5b2[0x1*-0xbaa+0x9*-0x411+0x1*0x3046]+_0x12230b[-0x2*0x9e0+0x1463+-0xa0],_0x4c99e1[0x13*0x17+-0x19b5*-0x1+-0x1b66]=_0x12e5b2[0x9*-0x3d1+0x180a+0x3*0x371]+_0x12230b[-0x3*0x77+-0x32+0x19b],_0x4c99e1[0x8*-0x1d+-0xc*-0x297+-0x1e27]=_0x12e5b2[-0x1a7+-0x2*0x2bd+0x726]+_0x12230b[0x6ca*-0x5+-0x41d*0x9+-0x1c*-0x289],_0x4c99e1[0x2cb+0x262f+0x147a*-0x2]=_0x12e5b2[0x1a70+-0x2*0x1216+0x9c2]+_0x12230b[-0x7bd+0x1*0x5ce+0x1f5],_0x4c99e1[-0x10e7*0x1+0x7*-0x1f7+0x1eaf]=_0x12e5b2[-0x138a+-0x2*-0x116+0x3d*0x49]+_0x12230b[-0xd40+0x1ca6*0x1+0xf5f*-0x1],_0x4c99e1[-0x5*0x745+0x187b+0xbe6]=_0x12e5b2[0x10b9*0x2+-0x1*-0x1a1+-0x230b]+_0x12230b[-0x1f7c+0x1*-0x136d+0x32f1],_0x4c99e1[-0x9e5*-0x2+-0x542+-0xe7f]=_0x12e5b2[0x522+-0x9d3+0x4ba]+_0x12230b[0x7*0x265+0x226e+-0x3328*0x1],_0x4c99e1[-0x1ac2+-0x747+0x319*0xb]=_0x12e5b2[0x141*0x2+-0xf4d+-0xdb*-0xf]+_0x12230b[-0x267c*0x1+-0x794*-0x5+-0x51*-0x2],_0x4c99e1[0x10*0x1ee+-0x3b*0x47+-0xe78]=_0x12e5b2[0x2*0xafd+0x199*0x15+-0x86*0x6a]+_0x12230b[-0x2317+-0x184+0x24a6],_0x4c99e1[-0xf1d+0x1ff5+-0x10cc]=_0x12e5b2[-0x1d8f*-0x1+0x1bdd+-0x3960]+_0x12230b[0xc49*0x2+0x25dd*-0x1+-0xd57*-0x1],_0x4c99e1[-0x229*0x2+-0x1c33+0x1049*0x2]=_0x12e5b2[-0x1ad5+0xcaa*-0x2+0x3436]+_0x12230b[-0x712+-0x1b0*0x16+0x2c3f],_0x4c99e1[0xd78+0xe04+-0x1b6e]=_0x12e5b2[-0x1ba5+-0x493*0x4+0x2dff]+_0x12230b[-0x1c0c+-0xaf*-0x3+0x1a0d],_0x4c99e1[-0x19a1*0x1+0x1052*-0x1+0x2a02]=_0x12e5b2[0x2075+-0xca*-0x11+-0x2dd0]+_0x12230b[0x18f+0x11a0+-0x60*0x33],this;}['add'](_0x24ec88){return this['add2'](this,_0x24ec88);}['clone'](){const _0x267248=this['constructo'+'r'];return new _0x267248()['copy'](this);}['copy'](_0x4e24aa){const _0x2e6b12=_0x4e24aa['data'],_0x2b5b8f=this['data'];return _0x2b5b8f[-0x2*-0xcb6+-0x9a4*0x1+-0xfc8]=_0x2e6b12[0x2184+0x12f6+0x8bf*-0x6],_0x2b5b8f[-0x23ce+-0x9b7+-0x2d86*-0x1]=_0x2e6b12[-0x3dd+0x3*0xcfb+-0x3*0xbb1],_0x2b5b8f[0x151e+-0x1e34+-0x246*-0x4]=_0x2e6b12[-0x7c1+-0x1270+0x13*0x161],_0x2b5b8f[0x18d7+0x1d9c+-0x3670]=_0x2e6b12[0x241f+0x1*-0x1bce+0x1*-0x84e],_0x2b5b8f[0x7c5*-0x3+-0x2a4*-0x4+0x63*0x21]=_0x2e6b12[-0x1e08+0x117*0x13+-0x1*-0x957],_0x2b5b8f[-0x29*-0x22+0x63*-0x29+0xa6e]=_0x2e6b12[0x179c+-0x1a*-0x55+-0x2039],_0x2b5b8f[-0x21cf+-0xb29*-0x1+0x16ac]=_0x2e6b12[0x935+-0x289+-0x6a6],_0x2b5b8f[-0xe1c+0x16ae+0x3*-0x2d9]=_0x2e6b12[-0xae0+0xa22*0x2+-0x3*0x31f],_0x2b5b8f[0x102*-0x3+-0x10e7*0x2+0x937*0x4]=_0x2e6b12[-0x26b9+-0x1030*0x1+0x36f1],_0x2b5b8f[0xc24+-0x19e5+0xdca]=_0x2e6b12[0x253b+0x1cce+-0x4200],_0x2b5b8f[0x32c+0x2147+-0x2469]=_0x2e6b12[0xf38+-0x38b+-0xba3],_0x2b5b8f[-0x1c9+0x15*0x7+0x6b*0x3]=_0x2e6b12[0x4*-0xd9+-0x31*-0x37+0x1*-0x718],_0x2b5b8f[0x14*-0xe8+0x2*-0xf4f+0x2*0x1865]=_0x2e6b12[-0x11e4+-0x250e+-0x36fe*-0x1],_0x2b5b8f[0x2*-0x727+-0x1968+0x27c3]=_0x2e6b12[-0xd*-0x2ae+-0x9a5*-0x3+-0x3fb8],_0x2b5b8f[-0x17e1*0x1+-0x1c7b*0x1+-0x1*-0x346a]=_0x2e6b12[-0x33+0x928*-0x1+0x969],_0x2b5b8f[0x1cdf+-0x529*-0x3+0x1ed*-0x17]=_0x2e6b12[0x2465+0x1b1b+-0x6d*0x95],this;}['equals'](_0x295935){const _0x206fac=this['data'],_0x5bf90b=_0x295935['data'];return _0x206fac[0x25db+-0xeb3+-0x7b8*0x3]===_0x5bf90b[-0x10*-0x7+0x149a+0x1*-0x150a]&&_0x206fac[-0x2a5*-0x5+-0x1f3+-0xb45]===_0x5bf90b[0x2*-0x409+0x2395*0x1+-0x3ee*0x7]&&_0x206fac[0x1bfd*-0x1+0x14c5+0x73a*0x1]===_0x5bf90b[0x1ae9*-0x1+0x104*0x1+0x19e7]&&_0x206fac[0xeed+-0x1b3b*-0x1+-0x2a25]===_0x5bf90b[-0xf3+-0x12*-0xef+-0xfd8]&&_0x206fac[0xa41+-0x1354+0x917]===_0x5bf90b[-0x609+0x1*-0x24b+-0x4*-0x216]&&_0x206fac[0x7dc+0x1*0xdea+-0x15c1]===_0x5bf90b[-0x13*-0x8f+-0x1c9b+0x1d*0x9f]&&_0x206fac[0x3*-0x279+0x150e+-0xd9d]===_0x5bf90b[0x1*0x2089+-0x1*-0x1159+-0x31dc]&&_0x206fac[-0x6*-0x36a+0x32*0x89+0x99*-0x4f]===_0x5bf90b[-0x1ea3+0x1*0xbb9+0x12f1]&&_0x206fac[-0x1e5*-0xa+-0x3d*0x9d+-0x5*-0x3b3]===_0x5bf90b[0x25d9*-0x1+0x3d*0x11+0x1*0x21d4]&&_0x206fac[0xb*-0x59+-0x1bc4+-0x2e0*-0xb]===_0x5bf90b[-0x12a8+0x70d+0xba4]&&_0x206fac[-0x2b*0xca+0x51*-0x17+0x1*0x293f]===_0x5bf90b[-0x241*0xf+0x1*0x101+0x2*0x106c]&&_0x206fac[-0x2*0xb50+-0x3*0x606+-0x1*-0x28bd]===_0x5bf90b[0x2049+-0x1930+-0x12d*0x6]&&_0x206fac[-0x2465*0x1+0x552*-0x1+0x29c3]===_0x5bf90b[-0x18b1+0x185*-0x16+-0x3a2b*-0x1]&&_0x206fac[-0x187b+0x3*-0x509+0x27a3]===_0x5bf90b[-0x13*0x1f3+0x1f5*0x9+0x1379]&&_0x206fac[0x13c1+-0x1*-0x11ab+-0x2*0x12af]===_0x5bf90b[0x255e+-0x5*0x62f+-0x665]&&_0x206fac[-0x9*-0x35+0xa2b*0x2+-0x6d*0x34]===_0x5bf90b[-0x2*0xa99+-0xd19+0x225a];}['isIdentity'](){const _0x9a5771=this['data'];return _0x9a5771[-0x1*-0x1a+0x17d6*-0x1+0x3e*0x62]===-0x10a4+-0x11d3+0x44f*0x8&&_0x9a5771[-0x47*-0x1f+0x3*0x161+-0xcbb]===0x1*0x1a37+0x18ca+-0x3301&&_0x9a5771[-0x1ffc+-0x6b4+0x26b2]===-0x158*-0x1d+0x261f+-0x4d17&&_0x9a5771[-0x1*0x117b+0x1f7a*-0x1+0x30f8]===0xf*-0xc2+0x91c+0x242*0x1&&_0x9a5771[-0x5d*0x41+0x2*-0x88+0x18b1]===-0x4a9*-0x1+-0x1f*-0x3b+-0x2*0x5e7&&_0x9a5771[-0x21b+-0x124+0x16*0x26]===-0xec5+0x1b25+-0xc5f&&_0x9a5771[0x141e+0x260e+-0x3a26]===0x25e7+0x1229*-0x2+-0x195&&_0x9a5771[-0x494+0x7*0x35f+-0x12fe]===-0x817+-0x6f1*-0x4+-0x13ad&&_0x9a5771[-0x2062+0xef3+-0x1177*-0x1]===0xa9*-0x28+-0x1d69+0x37d1&&_0x9a5771[0x44+0x1c80+0x1cbb*-0x1]===0x71+-0x6af*0x1+0x63e&&_0x9a5771[0x20ce+-0x1baa+-0x51a*0x1]===0x1*-0xab9+-0x74e+-0x241*-0x8&&_0x9a5771[-0xc1*0x7+0x88a+0x2*-0x19c]===-0x24b*-0x4+-0x2520+-0xdfa*-0x2&&_0x9a5771[-0x14c+-0x21c1*-0x1+-0x2069]===-0xb27*0x2+0x5*-0x379+-0x3*-0xd39&&_0x9a5771[-0x14*0x5a+-0x2cd*0x5+0x1516]===-0x4a*0x4f+-0x1*-0x251b+-0x1*0xe45&&_0x9a5771[-0x40e+0x1267+-0xe4b]===-0x1*-0x1dc5+0x23b4+-0x4179&&_0x9a5771[0x22af+0x14de+-0x377e]===0xeb0+-0x1523*0x1+0x7*0xec;}['mul2'](_0x5cb5bf,_0x37351c){const _0xac04f6=_0x5cb5bf['data'],_0x52a69b=_0x37351c['data'],_0x2a6f61=this['data'],_0x3507c8=_0xac04f6[-0x1d69+-0x2688+0x43f1],_0x300a9a=_0xac04f6[-0x1caf+-0x1*0x2329+0x91f*0x7],_0xe56051=_0xac04f6[0x3*-0x89f+-0x32+-0x1a11*-0x1],_0x53dfd1=_0xac04f6[-0x70f*-0x1+0xad*0x1a+-0x2*0xc4f],_0xf7520b=_0xac04f6[0x7*-0x121+0x11*-0x245+0x2e80],_0x5ee730=_0xac04f6[0x1*0x20d2+-0x160a+-0xac3],_0x182342=_0xac04f6[-0x1ff+0x1*-0x1305+0x150a],_0x17d2ba=_0xac04f6[-0xaea+-0x8bd+0x13ae],_0x474c32=_0xac04f6[-0x2561+0x7dc+-0x5e9*-0x5],_0x542357=_0xac04f6[-0x454+0x67*-0x26+0x13a7],_0x416f10=_0xac04f6[0x17f*0x15+-0x2*-0x70a+-0x2d75],_0x310e94=_0xac04f6[-0xed7*0x1+-0x4ff*0x1+-0x1*-0x13e1],_0x20e529=_0xac04f6[-0xd*0x1cf+0x5*0x473+0x150],_0x30f0ac=_0xac04f6[-0x2343+0x1*0x1557+0x49*0x31],_0x4fab8c=_0xac04f6[-0x1b21+-0x24d5+0x4004],_0x3dd65d=_0xac04f6[-0xf19+-0x130c+0x16*0x18e];let _0x3c2a89,_0x2c92a1,_0x2531af,_0x4737e6;return _0x3c2a89=_0x52a69b[-0x829+-0x23a0+0xb*0x3fb],_0x2c92a1=_0x52a69b[-0x10f1+-0x1b2c+0x2c1e],_0x2531af=_0x52a69b[-0x226*0xf+-0x18ac+0x4be*0xc],_0x4737e6=_0x52a69b[-0x1017*0x1+-0xbd4*0x2+0x27c2],_0x2a6f61[0x2098+-0x6*0x40f+0x5*-0x1a6]=_0x3507c8*_0x3c2a89+_0xf7520b*_0x2c92a1+_0x474c32*_0x2531af+_0x20e529*_0x4737e6,_0x2a6f61[0x16f5+-0x1450+-0x4*0xa9]=_0x300a9a*_0x3c2a89+_0x5ee730*_0x2c92a1+_0x542357*_0x2531af+_0x30f0ac*_0x4737e6,_0x2a6f61[0xbdb*-0x1+0x1*0x1197+-0x5ba]=_0xe56051*_0x3c2a89+_0x182342*_0x2c92a1+_0x416f10*_0x2531af+_0x4fab8c*_0x4737e6,_0x2a6f61[0xc1c+-0x1302+-0x1*-0x6e9]=_0x53dfd1*_0x3c2a89+_0x17d2ba*_0x2c92a1+_0x310e94*_0x2531af+_0x3dd65d*_0x4737e6,_0x3c2a89=_0x52a69b[0x1f3*0x11+0x575+-0x2694],_0x2c92a1=_0x52a69b[0x277*0x3+0x201d+-0x1*0x277d],_0x2531af=_0x52a69b[-0xaa*-0x3+-0x2*0xebf+0x1b86],_0x4737e6=_0x52a69b[0x1ed5+0x1*-0x15d7+0xf*-0x99],_0x2a6f61[0xc4c+-0x1*-0x1139+-0x1d81]=_0x3507c8*_0x3c2a89+_0xf7520b*_0x2c92a1+_0x474c32*_0x2531af+_0x20e529*_0x4737e6,_0x2a6f61[-0x3f*-0x7a+-0x1*0x16d9+0x2*-0x394]=_0x300a9a*_0x3c2a89+_0x5ee730*_0x2c92a1+_0x542357*_0x2531af+_0x30f0ac*_0x4737e6,_0x2a6f61[0x2e*-0x4a+-0x14a9+0x21fb]=_0xe56051*_0x3c2a89+_0x182342*_0x2c92a1+_0x416f10*_0x2531af+_0x4fab8c*_0x4737e6,_0x2a6f61[-0x25bd*-0x1+0x2*0x63a+-0x322a]=_0x53dfd1*_0x3c2a89+_0x17d2ba*_0x2c92a1+_0x310e94*_0x2531af+_0x3dd65d*_0x4737e6,_0x3c2a89=_0x52a69b[-0x2423+0x113f*0x1+0xe*0x15a],_0x2c92a1=_0x52a69b[-0x15a0+-0x26ce*0x1+0x3c77*0x1],_0x2531af=_0x52a69b[-0x2268+-0x7*0x269+0x3351],_0x4737e6=_0x52a69b[-0x13*-0x75+0xec9+-0x7cf*0x3],_0x2a6f61[-0x1a16+-0x1add+0x34fb]=_0x3507c8*_0x3c2a89+_0xf7520b*_0x2c92a1+_0x474c32*_0x2531af+_0x20e529*_0x4737e6,_0x2a6f61[0x2119+0x17ef+-0x38ff]=_0x300a9a*_0x3c2a89+_0x5ee730*_0x2c92a1+_0x542357*_0x2531af+_0x30f0ac*_0x4737e6,_0x2a6f61[0xf*0x1+-0x1fd4+0x11*0x1df]=_0xe56051*_0x3c2a89+_0x182342*_0x2c92a1+_0x416f10*_0x2531af+_0x4fab8c*_0x4737e6,_0x2a6f61[-0x1334*-0x2+-0xb0+-0x25ad]=_0x53dfd1*_0x3c2a89+_0x17d2ba*_0x2c92a1+_0x310e94*_0x2531af+_0x3dd65d*_0x4737e6,_0x3c2a89=_0x52a69b[-0x1*0x25a0+0x41b*0x8+-0x19c*-0x3],_0x2c92a1=_0x52a69b[-0xb4d+-0x81d+0x1377],_0x2531af=_0x52a69b[0xd*-0xd7+-0x8*-0x493+-0x199f],_0x4737e6=_0x52a69b[0x80f+-0x2b3*0x8+0xd98],_0x2a6f61[0x735+0x2*0x95f+-0x19e7]=_0x3507c8*_0x3c2a89+_0xf7520b*_0x2c92a1+_0x474c32*_0x2531af+_0x20e529*_0x4737e6,_0x2a6f61[-0x2e1+-0x1d*0x56+-0x1*-0xcac]=_0x300a9a*_0x3c2a89+_0x5ee730*_0x2c92a1+_0x542357*_0x2531af+_0x30f0ac*_0x4737e6,_0x2a6f61[0x1*-0x254b+0x31*-0x3+0x25ec]=_0xe56051*_0x3c2a89+_0x182342*_0x2c92a1+_0x416f10*_0x2531af+_0x4fab8c*_0x4737e6,_0x2a6f61[0x7*-0xd4+-0xce0+-0x2ad*-0x7]=_0x53dfd1*_0x3c2a89+_0x17d2ba*_0x2c92a1+_0x310e94*_0x2531af+_0x3dd65d*_0x4737e6,this;}['mulAffine2'](_0x385ce6,_0x2e8abb){const _0x1bf87b=_0x385ce6['data'],_0x16bdec=_0x2e8abb['data'],_0x405f5d=this['data'],_0x5bb9c1=_0x1bf87b[-0x1360+0x1f3c*0x1+-0x2c*0x45],_0x497da3=_0x1bf87b[0x264+0x71f+-0x982],_0x5f095d=_0x1bf87b[0xd5a*-0x2+0x1*0x2ff+-0x1*-0x17b7],_0x24a8ca=_0x1bf87b[0x1*-0x566+-0x981*-0x1+-0x417],_0x553f2b=_0x1bf87b[0x248f+-0x5*0x3af+-0x121f],_0x55013c=_0x1bf87b[-0x1366+0x24f*-0xb+0xb*0x413],_0x39b92a=_0x1bf87b[-0x167b+-0x99b*-0x1+0xce8],_0xf6765f=_0x1bf87b[-0x2e*-0xd3+0xb*0x73+-0x1b*0x196],_0x38820b=_0x1bf87b[0x10d*-0x4+0x1*-0x4f+-0x48d*-0x1],_0x238eb7=_0x1bf87b[0xcc7+-0x25d8+-0x191d*-0x1],_0x450416=_0x1bf87b[-0x1*0x14cf+0x4*0x2b8+-0x9*-0x11c],_0x1d9672=_0x1bf87b[0x2*0x95e+-0x1c85+0xb*0xe5];let _0x53b16e,_0x10ee3b,_0x5987d4;return _0x53b16e=_0x16bdec[-0x1*0x20ff+0x2270+-0x9*0x29],_0x10ee3b=_0x16bdec[-0x49*-0x7b+-0x15b2+0x6b*-0x20],_0x5987d4=_0x16bdec[0x1b71+-0x9c7+0x71*-0x28],_0x405f5d[-0x24c2+0x1801+0x5*0x28d]=_0x5bb9c1*_0x53b16e+_0x24a8ca*_0x10ee3b+_0x39b92a*_0x5987d4,_0x405f5d[0x3*0x9b9+-0x10de+-0xc4c]=_0x497da3*_0x53b16e+_0x553f2b*_0x10ee3b+_0xf6765f*_0x5987d4,_0x405f5d[-0x1264+0xd2*0x2+0xf*0x11e]=_0x5f095d*_0x53b16e+_0x55013c*_0x10ee3b+_0x38820b*_0x5987d4,_0x405f5d[0x224f+0x1ff1+-0x1f*0x223]=-0x100+-0x46*0x16+0x704,_0x53b16e=_0x16bdec[-0x10f*0x5+-0x1*0x379+-0x2*-0x464],_0x10ee3b=_0x16bdec[-0x9c6+-0x486*-0x5+0x43*-0x31],_0x5987d4=_0x16bdec[-0xa65+-0x3*-0xf5+-0x3c6*-0x2],_0x405f5d[0x1*-0x1ee+-0x11*-0xf1+-0xe0f]=_0x5bb9c1*_0x53b16e+_0x24a8ca*_0x10ee3b+_0x39b92a*_0x5987d4,_0x405f5d[-0x269*0x5+-0xed5+0x47*0x61]=_0x497da3*_0x53b16e+_0x553f2b*_0x10ee3b+_0xf6765f*_0x5987d4,_0x405f5d[-0x1f17+0x5*0x6a6+-0x221]=_0x5f095d*_0x53b16e+_0x55013c*_0x10ee3b+_0x38820b*_0x5987d4,_0x405f5d[-0x532+-0x8a7+0xde0]=0x1b9*0xd+0x7cd+-0x1e32,_0x53b16e=_0x16bdec[-0x9e*-0xf+-0x346+-0x5f4],_0x10ee3b=_0x16bdec[0x12c3+-0x87a+-0xa40],_0x5987d4=_0x16bdec[0x2107*0x1+-0x189c+0x861*-0x1],_0x405f5d[-0x106d*-0x1+0xc4+-0x1129]=_0x5bb9c1*_0x53b16e+_0x24a8ca*_0x10ee3b+_0x39b92a*_0x5987d4,_0x405f5d[-0x1663+0x1f91*0x1+-0x925]=_0x497da3*_0x53b16e+_0x553f2b*_0x10ee3b+_0xf6765f*_0x5987d4,_0x405f5d[0x2570+-0x1fae*0x1+0xb7*-0x8]=_0x5f095d*_0x53b16e+_0x55013c*_0x10ee3b+_0x38820b*_0x5987d4,_0x405f5d[-0x1584+-0x13c0+0x5*0x843]=-0xc5e+-0x1*-0x5e2+-0x2*-0x33e,_0x53b16e=_0x16bdec[-0x1198+-0x206e+0x3212],_0x10ee3b=_0x16bdec[0xef0+-0xa0b*0x3+0xf3e],_0x5987d4=_0x16bdec[-0x128b+-0x1143+0x23dc],_0x405f5d[-0x10*-0x125+-0x25*0x88+-0x2*-0xb2]=_0x5bb9c1*_0x53b16e+_0x24a8ca*_0x10ee3b+_0x39b92a*_0x5987d4+_0x238eb7,_0x405f5d[0x1b6b*-0x1+0x102a+0xb4e*0x1]=_0x497da3*_0x53b16e+_0x553f2b*_0x10ee3b+_0xf6765f*_0x5987d4+_0x450416,_0x405f5d[0x7c9*-0x1+-0xc2e*-0x1+-0x457]=_0x5f095d*_0x53b16e+_0x55013c*_0x10ee3b+_0x38820b*_0x5987d4+_0x1d9672,_0x405f5d[-0x1b46+-0x112e+0x2c83]=-0x5d*-0x4e+0x95*0x12+-0x26cf,this;}['mul'](_0x49cbaa){return this['mul2'](this,_0x49cbaa);}['transformP'+'oint'](_0x565843,_0x28ce91=new T()){const _0x39f57e=this['data'],{x:_0x179dc3,y:_0x25d883,z:_0x1cf136}=_0x565843;return _0x28ce91['x']=_0x179dc3*_0x39f57e[0xe2a+-0x249b+0x1671]+_0x25d883*_0x39f57e[0x812*0x1+0x15d+-0x96b]+_0x1cf136*_0x39f57e[-0x1266+-0x2ee+0x155c]+_0x39f57e[0x1*0x95+-0xb36+-0x38f*-0x3],_0x28ce91['y']=_0x179dc3*_0x39f57e[0x262a+-0x11c*-0x1+-0x1*0x2745]+_0x25d883*_0x39f57e[-0x1a0c+-0x3*-0x7a+-0x11*-0x173]+_0x1cf136*_0x39f57e[0x1d*-0xe3+-0x109+0x1ac9*0x1]+_0x39f57e[0x6*0x236+-0x284+0x1*-0xab3],_0x28ce91['z']=_0x179dc3*_0x39f57e[0x1*-0x25ac+-0x6*-0x664+-0xaa]+_0x25d883*_0x39f57e[-0x2528+-0x1390+-0x9*-0x64e]+_0x1cf136*_0x39f57e[-0x11c1+0x11*0x227+0x644*-0x3]+_0x39f57e[0x2*0xb2a+0x17ae+0x2b4*-0x11],_0x28ce91;}['transformV'+'ector'](_0x970f3c,_0x108770=new T()){const _0x35696f=this['data'],{x:_0x38e55d,y:_0x4438c1,z:_0x28ffbd}=_0x970f3c;return _0x108770['x']=_0x38e55d*_0x35696f[-0xa*-0x1f4+-0x1*0x229d+0xf15]+_0x4438c1*_0x35696f[0x1*-0x2415+0x1*-0xb68+0x2f81*0x1]+_0x28ffbd*_0x35696f[0x2319+0x2*-0xa75+-0xe27],_0x108770['y']=_0x38e55d*_0x35696f[0x17*-0x1a+-0x8c6*-0x3+-0x17fb]+_0x4438c1*_0x35696f[-0x2299+-0x30d+0x25ab]+_0x28ffbd*_0x35696f[0x3*-0x498+-0x372+0x1143],_0x108770['z']=_0x38e55d*_0x35696f[-0x6ee+-0x637*-0x6+-0x309*0xa]+_0x4438c1*_0x35696f[0x1458+0x8ad+-0x23b*0xd]+_0x28ffbd*_0x35696f[0xf4f*0x1+-0x19ee+0xaa9],_0x108770;}['transformV'+'ec4'](_0x4a0286,_0x57a0b0=new Q()){const _0x4f97e6=this['data'],{x:_0x469b0e,y:_0x12f805,z:_0x3c1ced,w:_0x3b27e5}=_0x4a0286;return _0x57a0b0['x']=_0x469b0e*_0x4f97e6[-0x2e*0x44+-0x1d0e+0x2946]+_0x12f805*_0x4f97e6[-0xa8c+-0x5*0x66e+0x2ab6]+_0x3c1ced*_0x4f97e6[-0x67c*-0x5+0x5df*0x5+-0x3dbf]+_0x3b27e5*_0x4f97e6[-0x16c0+-0xa8d+0x2159],_0x57a0b0['y']=_0x469b0e*_0x4f97e6[-0x1*-0x19ca+-0x1c7f+-0x15b*-0x2]+_0x12f805*_0x4f97e6[0xf7c+0xe5d*0x1+0x5c*-0x53]+_0x3c1ced*_0x4f97e6[0x53d*0x7+-0x10dc+-0x13c6]+_0x3b27e5*_0x4f97e6[-0x16d9*-0x1+0x6e3+-0x1daf],_0x57a0b0['z']=_0x469b0e*_0x4f97e6[0x1d21+0x260f+0x2*-0x2197]+_0x12f805*_0x4f97e6[0x1*0x3e3+0x12*0x1e3+0x1a5*-0x17]+_0x3c1ced*_0x4f97e6[0x57*-0x39+0x1599+0x38*-0xa]+_0x3b27e5*_0x4f97e6[0x657+-0x3e*0x74+0x15cf],_0x57a0b0['w']=_0x469b0e*_0x4f97e6[-0xa17*-0x3+0x8fb+0x1*-0x273d]+_0x12f805*_0x4f97e6[0x242b*0x1+-0x157d+-0xea7]+_0x3c1ced*_0x4f97e6[-0x5f*0x1f+0x18*-0x2b+0x1*0xf94]+_0x3b27e5*_0x4f97e6[0x3f9*-0x3+-0x13f8+0x1ff2],_0x57a0b0;}['setLookAt'](_0x1152c4,_0x4b41f2,_0x32292d){Os['sub2'](_0x1152c4,_0x4b41f2)['normalize'](),Fs['copy'](_0x32292d)['normalize'](),us['cross'](Fs,Os)['normalize'](),Fs['cross'](Os,us);const _0x96f598=this['data'];return _0x96f598[-0x14ea+-0x16c4+0x2bae]=us['x'],_0x96f598[0x23a0+0xf34+-0x1*0x32d3]=us['y'],_0x96f598[0x242b+-0x254f*-0x1+-0x4978]=us['z'],_0x96f598[-0x2*-0x123a+-0x6*-0x48d+0x3fbf*-0x1]=0x1de4+-0x1207*0x1+0x1*-0xbdd,_0x96f598[-0x1*0xfe6+-0x124a+0x2234*0x1]=Fs['x'],_0x96f598[-0xbd*0x7+-0x32*-0xa2+-0x1a74]=Fs['y'],_0x96f598[-0x1*-0x375+0x7cf*-0x1+0x460]=Fs['z'],_0x96f598[-0x259e+-0x238d+0x4932]=-0x160e*-0x1+0x23d*0x1+-0x819*0x3,_0x96f598[-0x560+-0x994+0xefc*0x1]=Os['x'],_0x96f598[-0x257*0x4+-0x2332+0x2c97]=Os['y'],_0x96f598[-0x136d+0x1*0x24d9+-0x2*0x8b1]=Os['z'],_0x96f598[0x2*0xb8d+-0x1*-0xb37+-0x52*0x6b]=-0x25a5+0x58a*0x7+0x121*-0x1,_0x96f598[0x1*0x14ed+-0x188e+0x1*0x3ad]=_0x1152c4['x'],_0x96f598[-0x1*0x21ce+0x4*-0x1e3+0x2967*0x1]=_0x1152c4['y'],_0x96f598[0x14f2*0x1+0x15c8+-0x2aac]=_0x1152c4['z'],_0x96f598[0x24cf+0x1beb+-0x40ab]=-0x962+-0x95*0x3b+-0xc1*-0x3a,this;}['setFrustum'](_0xde1759,_0x45bec3,_0x5dc91f,_0x2d6121,_0x3e6bd0,_0x316cbf){const _0x595392=(-0x1*0x25d1+0x7*0x1e2+0x18a5)*_0x3e6bd0,_0x1aa44a=_0x45bec3-_0xde1759,_0x3efc0a=_0x2d6121-_0x5dc91f,_0x3ef4c5=_0x316cbf-_0x3e6bd0,_0x38a37a=this['data'];return _0x38a37a[-0xd7f+-0x1fd2+0x2d51]=_0x595392/_0x1aa44a,_0x38a37a[-0x1885+0x16ba+-0x2e*-0xa]=0xd8e+-0x1*0x1849+0xabb,_0x38a37a[-0x12a*-0xe+-0x1961+0x917]=0x127b*0x1+0x212*-0x6+-0x60f,_0x38a37a[-0x1518+0xf49*0x1+0x5d2]=-0x24cc+-0x2*-0x69d+0x1792,_0x38a37a[-0x2104+0x2*0x748+0x1278]=0x15f1+0x2036+0x1*-0x3627,_0x38a37a[-0xc1+-0x1322+0x13e8]=_0x595392/_0x3efc0a,_0x38a37a[0xf76+-0x2414+0x14a4]=-0x1*0x19ab+0x25cd*-0x1+0x3f78,_0x38a37a[-0x47f*-0x4+-0x4*0x6d+-0x1041]=0x5c*-0x17+-0xdf4+0x4f*0x48,_0x38a37a[-0x20bd+0x1*-0x551+0x1*0x2616]=(_0x45bec3+_0xde1759)/_0x1aa44a,_0x38a37a[-0x26+-0x1179*0x1+-0xa*-0x1c4]=(_0x2d6121+_0x5dc91f)/_0x3efc0a,_0x38a37a[-0xb72+0x5*0x39e+0xd*-0x82]=(-_0x316cbf-_0x3e6bd0)/_0x3ef4c5,_0x38a37a[0x2359+-0x76c+-0x1be2]=-(-0x25ec+-0x1b5b+0x4148),_0x38a37a[0x9b9+-0x13*0x127+0xc38]=0x15c8*-0x1+0x8e0+-0x19d*-0x8,_0x38a37a[0xfe6+0x2172+-0x314b]=-0x11c+0x1*-0x809+0x925*0x1,_0x38a37a[0x1509+-0x1b23*-0x1+-0x301e]=-_0x595392*_0x316cbf/_0x3ef4c5,_0x38a37a[-0xd18+0x1*0x354+-0x1f7*-0x5]=-0x7*-0x1c7+0xb*0x163+-0x58a*0x5,this;}['setPerspec'+'tive'](_0x3d3858,_0x5393f0,_0x5ad179,_0x52579c,_0x26e5f0){return Ur['_getPerspe'+'ctiveHalfS'+'ize'](Ua,_0x3d3858,_0x5393f0,_0x5ad179,_0x26e5f0),this['setFrustum'](-Ua['x'],Ua['x'],-Ua['y'],Ua['y'],_0x5ad179,_0x52579c);}['setOrtho'](_0x31b582,_0x527b66,_0x30be0b,_0x2a8bef,_0x5aa8d6,_0x407ea0){const _0x231fd9=this['data'];return _0x231fd9[0x1508+-0xc84+0x442*-0x2]=(-0x217+0x1*-0x18f+0x68*0x9)/(_0x527b66-_0x31b582),_0x231fd9[0x1*-0xc7e+-0x1856+0x24d5]=-0x48b*0x2+0x18bf+-0x1*0xfa9,_0x231fd9[0x6b3+-0x1b26+-0x1475*-0x1]=0x6e*0x32+0x111d+-0x2699,_0x231fd9[0x725+0x1*0x89c+-0xa*0x193]=-0x9*0x1c9+0x9e2+-0x1*-0x62f,_0x231fd9[0xfc2+-0x265*-0x1+-0x1*0x1223]=0xcb+0x5*-0x67f+0x1a*0x138,_0x231fd9[0x22*0x114+0xab3+-0x2f56]=(-0xd76+0x171e+-0x9a6)/(_0x2a8bef-_0x30be0b),_0x231fd9[-0x7*-0x44f+0x1c87+-0x1d55*0x2]=0xc*-0x4f+0x2f*0xa+-0x1de*-0x1,_0x231fd9[-0x1001*-0x1+-0x52c*-0x1+-0x1526]=0x1440+-0x1a*-0xf4+-0x20c*0x16,_0x231fd9[0x131b*0x1+0xdc3+-0x3a6*0x9]=-0x1b75+0x3b*-0x2e+0x260f,_0x231fd9[0x2081+-0x21eb+0x35*0x7]=-0x14b9+-0x1bff+0x30b8*0x1,_0x231fd9[0x2c5+0xbee+0xea9*-0x1]=-(0x9d8+-0x1228+0x852)/(_0x407ea0-_0x5aa8d6),_0x231fd9[0x1a*0x64+0x19b9*-0x1+0xf9c]=0x18b6+0x1606+0x3e5*-0xc,_0x231fd9[0x2554+-0x20d0+-0x11e*0x4]=-(_0x527b66+_0x31b582)/(_0x527b66-_0x31b582),_0x231fd9[0x1*0x1613+0x20*-0xa1+-0x1e6]=-(_0x2a8bef+_0x30be0b)/(_0x2a8bef-_0x30be0b),_0x231fd9[0x1c3c+0x651*0x3+-0x5f*0x7f]=-(_0x407ea0+_0x5aa8d6)/(_0x407ea0-_0x5aa8d6),_0x231fd9[-0x1a92*0x1+-0x1f83+0xf4*0x3d]=0x6c5+-0x1*-0x2663+-0x2d27,this;}['setFromAxi'+'sAngle'](_0x562f34,_0x17799e){_0x17799e*=N['DEG_TO_RAD'];const {x:_0x796948,y:_0x2279b4,z:_0x3cc8a7}=_0x562f34,_0x1ce493=Math['cos'](_0x17799e),_0x41a111=Math['sin'](_0x17799e),_0x164c82=-0x13*0xec+-0x1cc7*0x1+0x2e4c-_0x1ce493,_0x1a09ba=_0x164c82*_0x796948,_0x47b93c=_0x164c82*_0x2279b4,_0x22ff3e=this['data'];return _0x22ff3e[-0x3a*0x3e+-0xb*0x247+0x2719]=_0x1a09ba*_0x796948+_0x1ce493,_0x22ff3e[0x250d+0x4d*-0x59+-0x1*0xa47]=_0x1a09ba*_0x2279b4+_0x41a111*_0x3cc8a7,_0x22ff3e[0x2*-0x117a+0xf71+0x1385*0x1]=_0x1a09ba*_0x3cc8a7-_0x41a111*_0x2279b4,_0x22ff3e[-0x1f2e+0x229*-0xf+0x14*0x32e]=-0xfd9*-0x1+-0x1209+0x118*0x2,_0x22ff3e[-0x3*-0x1a7+0x1bb*0x5+-0xd98]=_0x1a09ba*_0x2279b4-_0x41a111*_0x3cc8a7,_0x22ff3e[-0x1ae9+-0xc13+0x2701]=_0x47b93c*_0x2279b4+_0x1ce493,_0x22ff3e[0x147+0xc30+-0xd71]=_0x47b93c*_0x3cc8a7+_0x41a111*_0x796948,_0x22ff3e[0x5b6+-0xf08+0x959]=-0x66b*0x3+0x1b73*-0x1+0x2eb4,_0x22ff3e[-0x116f*0x1+0x854+0x923]=_0x1a09ba*_0x3cc8a7+_0x41a111*_0x2279b4,_0x22ff3e[0x653*0x2+-0x18c4+0x3*0x40d]=_0x47b93c*_0x3cc8a7-_0x796948*_0x41a111,_0x22ff3e[0x3f9+0x1b16+-0x1f05]=_0x164c82*_0x3cc8a7*_0x3cc8a7+_0x1ce493,_0x22ff3e[-0x1*0xc2f+0x1139*-0x1+0x1d73]=0x1*0x241c+0xc83+0x3*-0x1035,_0x22ff3e[-0x505*-0x3+-0x2*-0xb74+-0x25eb]=-0x1*-0x2a2+0x17*0xb+-0x39f,_0x22ff3e[-0x913*0x3+-0x3eb+0x5*0x63d]=0x2*-0x3bc+-0x2*-0x267+0x16*0x1f,_0x22ff3e[0x1a04+0x19d4+-0x33ca]=0x237d+0x493+-0x2810,_0x22ff3e[-0x1c*-0x6c+0x2504+-0x30c5]=0x478+-0xd*-0x12b+-0x13a6,this;}['setTransla'+'te'](_0x1e09e6,_0x5364ed,_0x339f42){const _0x4b2f4d=this['data'];return _0x4b2f4d[-0x2191+-0x19de+0xb3*0x55]=-0xf3+0x15d8+-0x17e*0xe,_0x4b2f4d[0x1834*0x1+-0x46f+-0x13c4]=-0x1*-0x103+-0xb5*0xe+0x8e3,_0x4b2f4d[-0x1a30+0x19d6*0x1+0x5c]=-0xdce+-0x2cc*-0x2+0x1*0x836,_0x4b2f4d[0x198e+0x1b4f+0x3*-0x119e]=0x1f28+-0x1043+0xee5*-0x1,_0x4b2f4d[0x5c1*0x2+0xf92+-0x1b10]=-0x5ba+-0x3f*0x3b+0x143f,_0x4b2f4d[0x29f*0xb+-0xc*-0x14e+0x2*-0x163c]=-0x46*-0x71+0x14*0x14+-0x2075,_0x4b2f4d[0x48a*-0x1+0x4d*-0xe+0x8c6]=-0x6aa*-0x3+0x9e7+0x3*-0x9f7,_0x4b2f4d[-0x2bf+0x22*0x37+-0xa*0x74]=0x128f*-0x1+0x59a+0xcf5,_0x4b2f4d[-0x759+0x1*-0x2465+0x2bc6]=0x101a+0x15*0x143+-0x2a99,_0x4b2f4d[0x1df4+-0xccd+-0x88f*0x2]=0x1e*0x141+0x238d+-0x492b*0x1,_0x4b2f4d[0x4*-0x4f+0xf07*-0x2+0x1f54]=-0x1777*-0x1+0x1e47+0x35bd*-0x1,_0x4b2f4d[-0x1aa7+-0x1803+-0x32b5*-0x1]=0xc6f*0x2+-0xc6*0x24+0x2fa,_0x4b2f4d[-0x1e1*-0x4+-0xe33+0x6bb]=_0x1e09e6,_0x4b2f4d[-0x225+0x9*-0x243+0xfb*0x17]=_0x5364ed,_0x4b2f4d[-0xd2e+0x209e*0x1+-0x1362]=_0x339f42,_0x4b2f4d[-0x3a*0x94+0x15cd+0xbca]=-0x4*0x6bb+0x39a+0x1753,this;}['setScale'](_0x3f724d,_0x6216f9,_0x4e1796){const _0x31ea4c=this['data'];return _0x31ea4c[-0x11a4+-0xb*-0xe3+0x7e3]=_0x3f724d,_0x31ea4c[-0x1b*-0x8e+-0xe*-0x22c+-0x2d61]=-0x1*0x9d9+0x198d*-0x1+0x2366,_0x31ea4c[0x2278+-0x1999+-0x8dd]=-0x11*0x8f+-0x411*-0x1+0x56e,_0x31ea4c[-0x4*-0x685+0x2067+-0x3a78]=-0x2f6*0xc+0x26ce+-0x346,_0x31ea4c[-0x1efb+0x20fc+-0x1fd]=-0x23*-0xfc+-0x942+-0x1932*0x1,_0x31ea4c[-0x4f*-0x3d+0x185e+0x4*-0xacb]=_0x6216f9,_0x31ea4c[-0x65*0x23+-0x3d2+0x11a7]=-0x1157+0x611+0xb46,_0x31ea4c[0xaac+0x1563+-0x2008]=0x17*-0x38+0x2b*-0xbf+0x1*0x251d,_0x31ea4c[0x83d+0xc6+-0x8fb]=0xbc9+-0x26c+-0x95d,_0x31ea4c[-0x2313+0x9d*0x1d+0x1153]=-0x1*0x160d+-0x1654+0x2c61,_0x31ea4c[-0xe41*-0x1+0x19*-0xbf+0x470]=_0x4e1796,_0x31ea4c[0xf*-0x21+0x1881+-0x1687]=-0xdab*0x1+-0x1c45+0xb0*0x3d,_0x31ea4c[-0x11bc*0x2+-0x5e*-0x56+0x3f0]=0x1cb6+-0x1d0d+0x1*0x57,_0x31ea4c[-0x1f53+-0x3de+0x233e*0x1]=0x2346+0x133c+-0x3682,_0x31ea4c[0x1b4*0x5+0x11a*-0x5+0x3f*-0xc]=-0x2233+0x208a+-0x11*-0x19,_0x31ea4c[0x103*-0x2+-0x238f*-0x1+-0x217a]=-0x1e7*0x9+-0xa5c+-0x1b7c*-0x1,this;}['setViewpor'+'t'](_0x4d70f8,_0x1ec8bb,_0x591917,_0x5d72a4){const _0x1f2e3d=this['data'];return _0x1f2e3d[0x7*-0xe2+-0x1*0x1e72+0x24a0]=_0x591917*(-0x59*-0x3f+-0x653*0x3+0x7d*-0x6+0.5),_0x1f2e3d[0x109*0x2+-0x1*0x937+-0x726*-0x1]=-0x6d5+0x7c0+-0xeb,_0x1f2e3d[-0x1*-0xecf+0x13e+-0x100b]=-0x51*-0x14+0x1e19+-0x246d,_0x1f2e3d[0x1ab5*0x1+-0x9*0x155+-0xeb5]=0x7b*0x39+0x1f14+-0x3a77,_0x1f2e3d[-0xfa0+0x1e39+-0xe95]=0x110*-0xd+-0xe6+0xeb6,_0x1f2e3d[0x1c3*0x16+-0x2b*0x53+0x633*-0x4]=_0x5d72a4*(-0x1c5c+-0x1cfb+-0x3957*-0x1+0.5),_0x1f2e3d[-0x105*-0x1d+0x1a6e+-0x37f9]=-0x18c2+-0x1913+-0x1*-0x31d5,_0x1f2e3d[0x10b4+-0x25ee+0x1541]=-0x26d3+0x161d+0x10b6,_0x1f2e3d[-0x9d2+0xaf*-0x2d+0x25*0x119]=0x1331+-0x95a+-0x9d7,_0x1f2e3d[0x752+-0x21fb*0x1+0xc9*0x22]=0xea7+-0x15*0x8b+-0xd*0x40,_0x1f2e3d[-0x197f+0xec9*-0x1+0x2852]=0x1af6+-0x1*-0x2399+0xc83*-0x5+0.5,_0x1f2e3d[-0x179*-0x4+0x1*0x1115+0xa*-0x24b]=0x24f5+0x687+-0x2b7c,_0x1f2e3d[-0xc2a+-0x2e3*0x1+0xf19]=_0x4d70f8+_0x591917*(0x11*0xce+-0x2*0x116+0x6*-0x1eb+0.5),_0x1f2e3d[0x41*0x67+-0x2*0x10b9+0x758]=_0x1ec8bb+_0x5d72a4*(0xc*0x1c8+-0x3fb+-0x1165+0.5),_0x1f2e3d[-0x2*-0x1376+0x10b2+-0x3790]=-0x239b+0x37*-0xb+0x25f8+0.5,_0x1f2e3d[0x47e+0x1667+-0x1ad6]=0x277+0x9*-0x13d+0xab*0xd,this;}['setReflect'+'ion'](_0x30f77a,_0x5831c7){const _0x33f375=_0x30f77a['x'],_0x481715=_0x30f77a['y'],_0x35097d=_0x30f77a['z'],_0x46d52a=this['data'];return _0x46d52a[0x84b*0x1+-0x16f1+-0xf*-0xfa]=0x1777+-0x9a2+-0xdd4-(0xdbe+0x1b2c+-0x28e8)*_0x33f375*_0x33f375,_0x46d52a[0x10*0x2c+0x2549+0xb7*-0x38]=-(0x1320+0x164f+0x69*-0x65)*_0x33f375*_0x481715,_0x46d52a[0x13c3*0x1+0x1001*0x1+-0x2e*0xc7]=-(0x1c10+-0x154a+0x6c4*-0x1)*_0x33f375*_0x35097d,_0x46d52a[-0x2587*0x1+0x2*0x3d3+0x1de4*0x1]=0x2517+-0x1f84+0x1*-0x593,_0x46d52a[0x1d5c+-0x1b6d+-0x1*0x1eb]=-(-0xa*-0x1a2+0x1fc3+-0xb*0x45f)*_0x33f375*_0x481715,_0x46d52a[0x1*0x1d3b+-0x95c+0x16*-0xe7]=0x9f5+0x1d29+-0x24d*0x11-(0x1bbc+0xf1+-0x1cab)*_0x481715*_0x481715,_0x46d52a[-0x1*-0x363+-0xa4*-0x1+-0x29*0x19]=-(-0x458+-0x9af+0xe09)*_0x481715*_0x35097d,_0x46d52a[-0x13a+0x311*0xc+-0x238b]=-0xf4d*0x2+0x1770+0x72a,_0x46d52a[0xa78+-0x7bf+-0x2b1*0x1]=-(0x28*0x9d+-0x8*-0xda+-0x1f56)*_0x33f375*_0x35097d,_0x46d52a[-0x8e8+0x230f+0xd0f*-0x2]=-(-0x1*-0x16c1+0x1f2a*0x1+-0x35e9)*_0x481715*_0x35097d,_0x46d52a[0x21da+-0x216e+-0x62]=0x5*0xa7+0x1dd*0x10+-0x2112-(-0xcdb+-0x1029+0xa*0x2e7)*_0x35097d*_0x35097d,_0x46d52a[0x24a8+-0x2*-0x10fd+-0x11*0x427]=0x4*-0x2af+0x35d+-0x1*-0x75f,_0x46d52a[-0x210f+0x7*-0x107+0x284c]=-(-0x5*-0x380+-0x6c5*0x4+0x996)*_0x33f375*_0x5831c7,_0x46d52a[-0x1*0x2197+-0x2b7*-0x7+-0xea3*-0x1]=-(0x2640+-0x1f*-0xb3+-0x3beb*0x1)*_0x481715*_0x5831c7,_0x46d52a[0x100f+-0xdbf+-0x242]=-(0x4*0x269+-0xd00+0x35e*0x1)*_0x35097d*_0x5831c7,_0x46d52a[0xcff+-0x14f7+0x5*0x19b]=-0xdad+0x191a+-0x2db*0x4,this;}['invert'](_0x2b4527=this){const _0x1d1429=_0x2b4527['data'],_0xa6fb59=_0x1d1429[0x1d*-0x11+-0x133d+-0x183*-0xe],_0x5dc094=_0x1d1429[0x1a*-0xf0+-0xb84*-0x2+-0x17*-0xf],_0x3dd8d9=_0x1d1429[-0x20c+0x1341+-0x1133],_0x5962a6=_0x1d1429[0x1d24+0x880+0x2e5*-0xd],_0x44f0f7=_0x1d1429[0x1ed7+0x3d2*0x2+-0x2677],_0x565649=_0x1d1429[-0x7a6*0x2+-0x1465+-0xe*-0x28d],_0x3d6fb0=_0x1d1429[-0x96b*0x1+-0x1d2+-0x1f*-0x5d],_0x12dfcc=_0x1d1429[-0xc75+-0x4*-0x535+-0x59*0x18],_0x3c4b61=_0x1d1429[-0x1065*-0x1+-0x38*0x2b+-0x6f5*0x1],_0xc4d3e5=_0x1d1429[-0xb7*0x18+-0x24bc*-0x1+-0x138b*0x1],_0x37fda2=_0x1d1429[-0x15fd+-0x3*0xb80+0x3887],_0x34622e=_0x1d1429[-0x1*-0x1255+0x1c7d+0x1*-0x2ec7],_0x2dcbd9=_0x1d1429[-0x146*-0x2+0x261c+0x71*-0x5c],_0x3ee1ee=_0x1d1429[-0x3d0+-0xc1d*0x2+-0x9*-0x31f],_0x236c7f=_0x1d1429[0x7*-0x4cb+-0x15d7+0x3772],_0x5ea557=_0x1d1429[-0x2*-0x793+0x22b3+0x1*-0x31ca],_0x555c9a=_0xa6fb59*_0x565649-_0x5dc094*_0x44f0f7,_0x1e074f=_0xa6fb59*_0x3d6fb0-_0x3dd8d9*_0x44f0f7,_0x59b077=_0xa6fb59*_0x12dfcc-_0x5962a6*_0x44f0f7,_0x409249=_0x5dc094*_0x3d6fb0-_0x3dd8d9*_0x565649,_0x309576=_0x5dc094*_0x12dfcc-_0x5962a6*_0x565649,_0x5d3d1f=_0x3dd8d9*_0x12dfcc-_0x5962a6*_0x3d6fb0,_0x22669b=_0x3c4b61*_0x3ee1ee-_0xc4d3e5*_0x2dcbd9,_0x15d9ef=_0x3c4b61*_0x236c7f-_0x37fda2*_0x2dcbd9,_0x512799=_0x3c4b61*_0x5ea557-_0x34622e*_0x2dcbd9,_0x353275=_0xc4d3e5*_0x236c7f-_0x37fda2*_0x3ee1ee,_0x5b9c61=_0xc4d3e5*_0x5ea557-_0x34622e*_0x3ee1ee,_0x493ca1=_0x37fda2*_0x5ea557-_0x34622e*_0x236c7f,_0x3d3017=_0x555c9a*_0x493ca1-_0x1e074f*_0x5b9c61+_0x59b077*_0x353275+_0x409249*_0x512799-_0x309576*_0x15d9ef+_0x5d3d1f*_0x22669b;if(_0x3d3017===0x26*0x107+-0x1a89+0x123*-0xb)this['setIdentit'+'y']();else{const _0x274d2c=(0xa*-0x253+-0x3*0xb45+0x2*0x1c87)/_0x3d3017,_0x4fd9b1=this['data'];_0x4fd9b1[0xb*0x175+0xa9b*0x1+0x1*-0x1aa2]=(_0x565649*_0x493ca1-_0x3d6fb0*_0x5b9c61+_0x12dfcc*_0x353275)*_0x274d2c,_0x4fd9b1[0x13e4+0x8*-0x1c0+-0x5e3]=(-_0x5dc094*_0x493ca1+_0x3dd8d9*_0x5b9c61-_0x5962a6*_0x353275)*_0x274d2c,_0x4fd9b1[0x23a9+0x1e73+0x2*-0x210d]=(_0x3ee1ee*_0x5d3d1f-_0x236c7f*_0x309576+_0x5ea557*_0x409249)*_0x274d2c,_0x4fd9b1[-0x2574+0x3fb+0x217c]=(-_0xc4d3e5*_0x5d3d1f+_0x37fda2*_0x309576-_0x34622e*_0x409249)*_0x274d2c,_0x4fd9b1[-0x185f*0x1+0x1eb5+-0x652*0x1]=(-_0x44f0f7*_0x493ca1+_0x3d6fb0*_0x512799-_0x12dfcc*_0x15d9ef)*_0x274d2c,_0x4fd9b1[-0x7*-0x10f+-0x15*0x1b6+0x1c8a*0x1]=(_0xa6fb59*_0x493ca1-_0x3dd8d9*_0x512799+_0x5962a6*_0x15d9ef)*_0x274d2c,_0x4fd9b1[-0x1cf*-0xc+-0x4*-0x6fd+-0x1*0x31a2]=(-_0x2dcbd9*_0x5d3d1f+_0x236c7f*_0x59b077-_0x5ea557*_0x1e074f)*_0x274d2c,_0x4fd9b1[0x151+-0x21f3+0x20a9]=(_0x3c4b61*_0x5d3d1f-_0x37fda2*_0x59b077+_0x34622e*_0x1e074f)*_0x274d2c,_0x4fd9b1[-0x1fc7*0x1+-0x208f*0x1+-0x202f*-0x2]=(_0x44f0f7*_0x5b9c61-_0x565649*_0x512799+_0x12dfcc*_0x22669b)*_0x274d2c,_0x4fd9b1[-0x19ff+-0x6d8+0x20e0]=(-_0xa6fb59*_0x5b9c61+_0x5dc094*_0x512799-_0x5962a6*_0x22669b)*_0x274d2c,_0x4fd9b1[0x1a8+0x1a87+-0x1*0x1c25]=(_0x2dcbd9*_0x309576-_0x3ee1ee*_0x59b077+_0x5ea557*_0x555c9a)*_0x274d2c,_0x4fd9b1[-0x16db*-0x1+0x6a0+0x75c*-0x4]=(-_0x3c4b61*_0x309576+_0xc4d3e5*_0x59b077-_0x34622e*_0x555c9a)*_0x274d2c,_0x4fd9b1[0x1c45*0x1+-0x128f+-0x9aa]=(-_0x44f0f7*_0x353275+_0x565649*_0x15d9ef-_0x3d6fb0*_0x22669b)*_0x274d2c,_0x4fd9b1[-0x7f2+0x963+-0x164]=(_0xa6fb59*_0x353275-_0x5dc094*_0x15d9ef+_0x3dd8d9*_0x22669b)*_0x274d2c,_0x4fd9b1[0x13c3+0x257d*0x1+-0x1*0x3932]=(-_0x2dcbd9*_0x409249+_0x3ee1ee*_0x1e074f-_0x236c7f*_0x555c9a)*_0x274d2c,_0x4fd9b1[0x163+0x1d2e+-0x1e82]=(_0x3c4b61*_0x409249-_0xc4d3e5*_0x1e074f+_0x37fda2*_0x555c9a)*_0x274d2c;}return this;}['set'](_0x410ef0){const _0x7639d5=this['data'];return _0x7639d5[-0x1371+0x350+0x1021]=_0x410ef0[-0x15b*0x9+-0x209+0x4*0x38f],_0x7639d5[0x2*0x3a9+-0x14d9+0x362*0x4]=_0x410ef0[0x1*0x193b+-0x1928+-0x12],_0x7639d5[0x2320+-0x63*0x1a+0x1*-0x1910]=_0x410ef0[-0x15c3*0x1+0xe48*-0x1+0xb*0x347],_0x7639d5[0x11d2*-0x1+-0x1b9c+0x2d71]=_0x410ef0[-0x389+0x621*0x3+-0xed7],_0x7639d5[0x1*0xe0f+0xd*-0xc7+-0x3f0]=_0x410ef0[-0x213*0x2+-0x1*-0x1281+-0xe57],_0x7639d5[-0xa3*-0x35+-0xb74+0x1*-0x1646]=_0x410ef0[0x1fd0+0x2d4*0xd+0x1*-0x448f],_0x7639d5[-0x22b9+-0x17b6+0x3a75]=_0x410ef0[0x1*0x1d53+-0xd7*0x2+-0x1b9f],_0x7639d5[-0x2076+-0xfd5+0x1829*0x2]=_0x410ef0[0xe42+-0x1d8*0xc+-0x1*-0x7e5],_0x7639d5[0x7*0x4bc+0x11de*-0x1+0xf3e*-0x1]=_0x410ef0[0x2682+0x3*0x1f3+-0x2c53],_0x7639d5[0x13d6+-0x265*0x6+-0x56f]=_0x410ef0[0xe6e+0x53a*-0x4+0x1*0x683],_0x7639d5[-0x45*-0x68+-0x13*0x191+-0x1*-0x1c5]=_0x410ef0[-0xad6+0x1b58+-0x1078],_0x7639d5[-0x1*0x8ad+-0x1fa1+0x3*0xd73]=_0x410ef0[0x1*0x20ab+0x229+-0x22c9],_0x7639d5[-0xf90*-0x1+-0x21a8+0x6*0x306]=_0x410ef0[0x5*-0x765+0x3cd*-0x9+0x473a],_0x7639d5[0x1bdd+-0x2a7*0x1+-0x1929]=_0x410ef0[-0x179a+-0x1*0x21ac+0x3953],_0x7639d5[0x1eec+-0x254b+0x149*0x5]=_0x410ef0[0xb93*0x3+0x2fe+0x1f*-0x137],_0x7639d5[-0x16*0x147+-0x12b1+-0xf9e*-0x3]=_0x410ef0[-0x281*0x7+0x2*0x117c+0x59*-0x32],this;}['setIdentit'+'y'](){const _0x112d38=this['data'];return _0x112d38[-0x307+-0x97a*0x2+0x15fb]=0x1*-0x6f7+-0x22f3+0x3*0xdf9,_0x112d38[-0x1b32*0x1+-0xeac+0x1*0x29df]=0x31e*0x1+0x25f5+-0x2913,_0x112d38[0xe30*0x2+0x3a3+0x3*-0xaab]=-0x204c+0x1c99+-0x3b3*-0x1,_0x112d38[0x1c1*-0x1+0x2205+0x2041*-0x1]=0x19e4+-0x1ab*-0xf+-0x32e9*0x1,_0x112d38[-0xbae+0x1*-0xcdd+0x188f]=0xa6f*0x3+-0x9*0x81+0x8ec*-0x3,_0x112d38[-0x170a+0x23bd+0x21d*-0x6]=0x4*-0x2b6+0x1ff3+0x2*-0xa8d,_0x112d38[-0x25*0x7b+-0x64*0x37+0x1*0x2749]=-0x154d+-0xd5a*-0x1+0x7f3,_0x112d38[-0x14ba+0x252f+-0x106e]=-0x1b13+0x1eb5+-0x3a2,_0x112d38[0x31*-0x1a+0x71b+-0x219]=0x6*-0x419+0x41c*-0x2+0x20ce,_0x112d38[0x1f0c+-0x1196+-0xd6d]=-0xad1+0xceb+0x1*-0x21a,_0x112d38[0x1c85*-0x1+0x10c*0x1+-0x1b83*-0x1]=-0xea6+-0x2*-0x961+-0x41b,_0x112d38[-0x1063+0x1*-0x388+-0x5*-0x3fe]=-0xf7*0xa+-0x2*0x112f+0x2c04,_0x112d38[-0x1e4b+0xce8+0x116f]=0x63e+0x100*0x13+-0x193e,_0x112d38[0x5aa+-0xcfe*0x3+0x215d]=-0xae6+0x67a+0x46c,_0x112d38[-0x1*-0x30e+-0x1565+0x1265*0x1]=-0x9bf+-0x1a7a+0x2439,_0x112d38[-0x5bf*0x5+0x1b+0x1caf]=-0x12a0+-0x35*-0x3b+0x66a*0x1,this;}['setTRS'](_0x170a30,_0x1a54d0,_0x5e622f){const _0x35d7a9=_0x1a54d0['x'],_0xdb4ff2=_0x1a54d0['y'],_0x45abb7=_0x1a54d0['z'],_0x2029ef=_0x1a54d0['w'],_0x147b1b=_0x5e622f['x'],_0x5b3ad3=_0x5e622f['y'],_0x5e1895=_0x5e622f['z'],_0xc36c9e=_0x35d7a9+_0x35d7a9,_0x5d67f4=_0xdb4ff2+_0xdb4ff2,_0x599d5c=_0x45abb7+_0x45abb7,_0x3e3d2e=_0x35d7a9*_0xc36c9e,_0x377729=_0x35d7a9*_0x5d67f4,_0x23503c=_0x35d7a9*_0x599d5c,_0x1a2e34=_0xdb4ff2*_0x5d67f4,_0x44d706=_0xdb4ff2*_0x599d5c,_0x2bd759=_0x45abb7*_0x599d5c,_0x541166=_0x2029ef*_0xc36c9e,_0x189d80=_0x2029ef*_0x5d67f4,_0x279cb4=_0x2029ef*_0x599d5c,_0x3dcb01=this['data'];return _0x3dcb01[0x2a2*-0x1+-0xa8a+-0x6*-0x232]=(-0xc73+0xbed*-0x3+0x303b*0x1-(_0x1a2e34+_0x2bd759))*_0x147b1b,_0x3dcb01[0x5e8+-0x4*0x92+0x135*-0x3]=(_0x377729+_0x279cb4)*_0x147b1b,_0x3dcb01[0xda2+-0x20fc+0x135c]=(_0x23503c-_0x189d80)*_0x147b1b,_0x3dcb01[-0x141+0x1*0x118d+-0x1049]=0xc60+0x55e+-0x11be,_0x3dcb01[0x407*0x1+0x794+-0xb97]=(_0x377729-_0x279cb4)*_0x5b3ad3,_0x3dcb01[0x7*-0x6a+0x1*-0xf25+0x1210]=(-0xd0c+0x313*0x7+0x8*-0x10f-(_0x3e3d2e+_0x2bd759))*_0x5b3ad3,_0x3dcb01[-0x250e+-0x121d*0x1+0x3731]=(_0x44d706+_0x541166)*_0x5b3ad3,_0x3dcb01[0xce*-0x2b+0x213a+0x167]=-0x4a*-0x42+0x19dd*-0x1+0x6c9,_0x3dcb01[-0xacf+-0x1*0x445+-0x1*-0xf1c]=(_0x23503c+_0x189d80)*_0x5e1895,_0x3dcb01[0xb58+-0x1a2c*0x1+0xedd]=(_0x44d706-_0x541166)*_0x5e1895,_0x3dcb01[-0x1be*0x7+0x14b*-0x7+0x1549]=(0x2*-0xb37+0x2e5+0x52*0x3d-(_0x3e3d2e+_0x1a2e34))*_0x5e1895,_0x3dcb01[0x1d18+-0x2ee+-0x1a1f]=-0x1f6f+-0x19d9*-0x1+-0x6e*-0xd,_0x3dcb01[-0xac5+-0x1d81+0x2852]=_0x170a30['x'],_0x3dcb01[0x213e+-0x869*-0x1+0x5*-0x852]=_0x170a30['y'],_0x3dcb01[0x8a6+-0x1526+-0x1*-0xc8e]=_0x170a30['z'],_0x3dcb01[0x9d*-0x1+0x6a*0x24+-0xe3c]=0x1b1e+-0x1669+0x4b4*-0x1,this;}['transpose'](_0x37a734=this){const _0x3ea606=_0x37a734['data'],_0x5588b0=this['data'];if(_0x3ea606===_0x5588b0){let _0x3eb431;_0x3eb431=_0x3ea606[-0x2*0x15c+-0x1e52*0x1+0x210b],_0x5588b0[0x36d*-0x5+0x2e*0x55+-0x77*-0x4]=_0x3ea606[-0xe*-0x97+0xe9*-0xa+0xdc],_0x5588b0[-0x9c9+0x2*-0x7fc+0x19c5]=_0x3eb431,_0x3eb431=_0x3ea606[0x1*-0x1b37+-0x1665*0x1+0x319e],_0x5588b0[-0x95b+-0x2*-0x1d8+-0x5ad*-0x1]=_0x3ea606[0x1*-0x1fc4+-0x151a+0x34e6],_0x5588b0[0x1643+0x3bc*0x1+-0x121*0x17]=_0x3eb431,_0x3eb431=_0x3ea606[0x3ae*0x6+-0x6ee+-0xf23],_0x5588b0[0xd65+0xe35+-0x1*0x1b97]=_0x3ea606[-0x5*0x136+-0x2*0xf9e+0x12*0x213],_0x5588b0[0x39*0x99+-0x9fb*0x1+-0x180a]=_0x3eb431,_0x3eb431=_0x3ea606[0xde*-0x1a+0x1562+0x130],_0x5588b0[-0x1*-0x1f42+-0x3a8*0x9+0x1ac*0x1]=_0x3ea606[0x1da2+-0x18*0x167+0x40f],_0x5588b0[-0xa5*-0x1+0x6e9+0x113*-0x7]=_0x3eb431,_0x3eb431=_0x3ea606[-0x16e*0x1+-0xff9+0x116e],_0x5588b0[-0xdd2+0x1a*-0x80+0x57*0x4f]=_0x3ea606[-0x235e+0x1699+0x1*0xcd2],_0x5588b0[-0x2*0xba8+0x16d7+-0x1*-0x86]=_0x3eb431,_0x3eb431=_0x3ea606[0x191*0x8+-0x1f4d*0x1+0x12d0],_0x5588b0[0x153d*-0x1+0x1bc1+-0x679*0x1]=_0x3ea606[-0x1b34+0x1f06+-0x3c4],_0x5588b0[0x1*-0x18fd+-0x3*0xbf2+0x5*0xc2d]=_0x3eb431;}else _0x5588b0[-0x1687+-0x174d+0x346*0xe]=_0x3ea606[0x1e36*-0x1+-0x22d*-0x1+-0x1*-0x1c09],_0x5588b0[0x8be+0x1*0x17c2+-0x207f]=_0x3ea606[0x2157+-0x1*-0x11c3+-0x3ee*0xd],_0x5588b0[0x13c0+0x2267+-0x1*0x3625]=_0x3ea606[0x1*0x2496+-0x13bd+0x11f*-0xf],_0x5588b0[-0x60e*-0x3+-0x1191+-0x96]=_0x3ea606[0x1103+0x71*-0x23+-0xc2*0x2],_0x5588b0[0xab0+-0x1803+0xd57]=_0x3ea606[0x2c8+-0x1e11+0x7*0x3e6],_0x5588b0[0x1cb5+0x1f74+0x503*-0xc]=_0x3ea606[-0x373+-0x1*-0x20b5+-0x3*0x9bf],_0x5588b0[0x2*-0xf0b+-0x7c0*-0x1+-0x1b*-0xd4]=_0x3ea606[-0x2308+-0x25ba+0xe8f*0x5],_0x5588b0[0x3b*-0xb+-0x3a*-0x8+0xc0]=_0x3ea606[-0x202d+0x2040+-0x6],_0x5588b0[-0x18b9+0x1c*-0x12f+-0x1*-0x39e5]=_0x3ea606[-0x19*-0x9f+-0xec*-0x5+-0x1*0x1421],_0x5588b0[-0x58f*-0x1+0x122+0x6a8*-0x1]=_0x3ea606[0x9*0x2e8+-0xb83+0xc5*-0x13],_0x5588b0[0x1*-0xb23+0x1*-0x472+-0x1f*-0x81]=_0x3ea606[0x1d04+0x1eef*0x1+-0x31*0x139],_0x5588b0[-0x20b0+0x3a5*-0xa+0x452d]=_0x3ea606[-0x1eaf+-0xc9f+0x3*0xe74],_0x5588b0[-0x3*0x1e7+-0x283*-0x5+-0x6ce]=_0x3ea606[0x20a2+-0x3*0x67d+-0xd28],_0x5588b0[-0x1918+-0x245a+0x3d7f]=_0x3ea606[-0xd1f+0xf6f*-0x1+0x1c95],_0x5588b0[0x2137+0xfa4+-0x1f*0x193]=_0x3ea606[0x4*0x5e5+0x1*0x145a+-0x2ed*0xf],_0x5588b0[0x4cc+-0x1c97+-0x56*-0x47]=_0x3ea606[-0xc29+-0x16bd+-0x1*-0x22f5];return this;}['getTransla'+'tion'](_0x59aa9a=new T()){return _0x59aa9a['set'](this['data'][-0x1e5b+-0x1ad8*-0x1+0x38f],this['data'][0x262b+0x1f47+0x5*-0xde1],this['data'][0x1*-0x1c6e+-0x2698+0x6c*0x9f]);}['getX'](_0x5ac31d=new T()){return _0x5ac31d['set'](this['data'][-0x3c+0x3*0xca6+-0x25b6],this['data'][0x1b86+-0x637+-0x154e],this['data'][-0x16a5+-0xba9+0x1e8*0x12]);}['getY'](_0x4fbccc=new T()){return _0x4fbccc['set'](this['data'][-0x1*-0x20e6+-0x1e9f+-0x243*0x1],this['data'][-0x13d8+-0xb9+0x1496],this['data'][0xe*0x17+0x75d+0x1f*-0x47]);}['getZ'](_0x4fd4f8=new T()){return _0x4fd4f8['set'](this['data'][-0xad2*0x1+-0x1*0x84e+-0x4*-0x4ca],this['data'][-0x1f67+-0x1*-0x1843+0x72d],this['data'][-0x1354+0x1201+0x15d*0x1]);}['getScale'](_0x4112ff=new T()){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),_0x4112ff['set'](us['length'](),Fs['length'](),Os['length']()),_0x4112ff;}get['scaleSign'](){return this['getX'](us),this['getY'](Fs),this['getZ'](Os),us['cross'](us,Fs),us['dot'](Os)<0x1c8b*0x1+0x18c7+-0x3*0x11c6?-(-0x1f8e+-0x11*-0x1c4+0x4f*0x5):0x2*-0xcef+-0x9c6+0x7d*0x49;}['setFromEul'+'erAngles'](_0x19534f,_0x1630b3,_0x25c58a){_0x19534f*=N['DEG_TO_RAD'],_0x1630b3*=N['DEG_TO_RAD'],_0x25c58a*=N['DEG_TO_RAD'];const _0x14243c=Math['sin'](-_0x19534f),_0x319e89=Math['cos'](-_0x19534f),_0x351fbb=Math['sin'](-_0x1630b3),_0xffa7dc=Math['cos'](-_0x1630b3),_0x53a7c0=Math['sin'](-_0x25c58a),_0x271f93=Math['cos'](-_0x25c58a),_0x13bd36=this['data'];return _0x13bd36[-0x1018+-0x7*-0xe5+0x1*0x9d5]=_0xffa7dc*_0x271f93,_0x13bd36[-0x1*-0x21d+0x183b+0xb*-0x265]=-_0xffa7dc*_0x53a7c0,_0x13bd36[-0xb5*0x4+-0x6*0x44b+0xa*0x2dc]=_0x351fbb,_0x13bd36[0x1*-0x10d6+-0x9a4*-0x2+-0x26f]=-0x1b1a+0x1*-0x113d+0x2c57,_0x13bd36[-0x5f7*-0x6+0x3f*0x7+-0x257f*0x1]=_0x319e89*_0x53a7c0+_0x271f93*_0x14243c*_0x351fbb,_0x13bd36[0x2392+0x1eba+-0x169*0x2f]=_0x319e89*_0x271f93-_0x14243c*_0x351fbb*_0x53a7c0,_0x13bd36[-0x1*-0x141b+0x1b55*-0x1+0xe8*0x8]=-_0xffa7dc*_0x14243c,_0x13bd36[0x1fad+-0x13d*0x19+-0xb1]=0xca8+0x242*0x10+0x1c*-0x1be,_0x13bd36[0x14b1+-0x16f9+-0x4*-0x94]=_0x14243c*_0x53a7c0-_0x319e89*_0x271f93*_0x351fbb,_0x13bd36[-0x6b*0x28+-0x67d*-0x3+-0x2b6]=_0x271f93*_0x14243c+_0x319e89*_0x351fbb*_0x53a7c0,_0x13bd36[0x4*-0xb9+-0x24af*-0x1+-0x21c1*0x1]=_0x319e89*_0xffa7dc,_0x13bd36[0xd86+0x1c1b+0x2*-0x14cb]=0x12af+0x4*0x337+0x1f8b*-0x1,_0x13bd36[-0x247b+0x1*0x1492+-0xd7*-0x13]=0xc*-0xd4+-0x1*0x845+0x1235,_0x13bd36[0xf*0xb1+0x375+-0xdc7]=-0xe02*-0x1+0x1c1f+-0x2a21,_0x13bd36[0xa3c+0xda2+-0x17d0]=-0xa7b+0x1252+0x9*-0xdf,_0x13bd36[-0x108d*0x2+0x242a+-0x301]=0x1e2f+-0x647+-0xd3*0x1d,this;}['getEulerAn'+'gles'](_0x1fa041=new T()){this['getScale'](_l);const _0x59d68c=_l['x'],_0x413370=_l['y'],_0x57144d=_l['z'];if(_0x59d68c===-0x1b*-0xb5+0x1*0x1cf9+-0x3010||_0x413370===-0x47d*0x4+0xcd7+0xbb*0x7||_0x57144d===-0x1292+0x235c+-0x10ca)return _0x1fa041['set'](0x306*0x3+0xeb5*0x1+0x1*-0x17c7,0x1da+0x805*-0x1+0x1*0x62b,0x355+0xb8e+0x1*-0xee3);const _0x493bd3=this['data'],_0x5f952b=Math['asin'](-_0x493bd3[0x12e4+-0x1*0x1bcc+0x146*0x7]/_0x59d68c),_0x54c4d7=Math['PI']*(-0x114d+-0x1aaa+-0x2bf7*-0x1+0.5);let _0x30f293,_0x57cd0c;return _0x5f952b<_0x54c4d7?_0x5f952b>-_0x54c4d7?(_0x30f293=Math['atan2'](_0x493bd3[0x1659+0x1*0x1e3f+-0x3492*0x1]/_0x413370,_0x493bd3[0x72+-0x6*-0x223+-0xd3a]/_0x57144d),_0x57cd0c=Math['atan2'](_0x493bd3[0x17da+-0x3*-0x9ef+-0x7e*0x6d]/_0x59d68c,_0x493bd3[0x1*-0x1a11+0xb6f+0xea2]/_0x59d68c)):(_0x57cd0c=-0x269b*0x1+-0x24e6+0x4b81,_0x30f293=-Math['atan2'](_0x493bd3[-0x8d1+-0x3e6*0x9+0x2beb*0x1]/_0x413370,_0x493bd3[-0x1*-0x2240+0x1a*0x92+0x295*-0x13]/_0x413370)):(_0x57cd0c=-0x60d*0x5+0x1*-0xf31+0x2d72,_0x30f293=Math['atan2'](_0x493bd3[-0xc+0x18de+0xa*-0x27b]/_0x413370,_0x493bd3[0x409*-0x7+0xf2f+0xd15]/_0x413370)),_0x1fa041['set'](_0x30f293,_0x5f952b,_0x57cd0c)['mulScalar'](N['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Ur,'IDENTITY',Object['freeze'](new Ur())),c(Ur,'ZERO',Object['freeze'](new Ur()['set']([0x9c5+-0x80e+-0x1b7,0x616+0xee3+-0x14f9,0x5*-0xfc+-0x2185+0x2671,-0x4c1*0x5+-0x1bf3+0x33b8,-0x79*-0x23+-0x1e26+-0x3*-0x489,-0x626+0x1*0x12d8+0x1a*-0x7d,-0x3*0xa49+0xf78+-0x3*-0x521,0x128*0xc+-0x26ef*-0x1+0x34cf*-0x1,0x2ec+-0x59b*0x1+0x2af,0xd8d*0x1+-0x6c0+-0x6cd,0x331*0x1+0x2*0x81d+-0x136b,-0x117+-0xbfd+0xd14,0x28e*0x3+0x2*0x9a5+-0x73*0x3c,0x5d2+0x161*-0xa+0x4*0x1fe,0x115a+-0x17c9+0x66f,-0x4d6*-0x3+0x231e+-0x4*0xc68])));let q=Ur;const aa=class aa{constructor(_0x3bdd7e=0x1*-0x982+-0x808+0x118a,_0x19d414=0x1*-0x295+-0x17cb+0xd30*0x2,_0x4e1497=-0x1929+-0x1ee8+0x3811,_0xab675e=-0x1e3+0x15e2+-0x13fe){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x3bdd7e['length']===0xeee+0xaf1+-0x1*0x19db?(this['x']=_0x3bdd7e[-0x268f*0x1+0x25b8+0x1*0xd7],this['y']=_0x3bdd7e[0x12e+-0x8*-0x3f+0x73*-0x7],this['z']=_0x3bdd7e[-0x930+0x633+-0xd*-0x3b],this['w']=_0x3bdd7e[0xc81*-0x2+-0x109f+0x29a4]):(this['x']=_0x3bdd7e,this['y']=_0x19d414,this['z']=_0x4e1497,this['w']=_0xab675e);}['clone'](){const _0x1d40b5=this['constructo'+'r'];return new _0x1d40b5(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x5326d0=this){return this['x']=_0x5326d0['x']*-(-0x3*0xad9+0xc20+0x146c),this['y']=_0x5326d0['y']*-(0x1826+0x1000+-0x1*0x2825),this['z']=_0x5326d0['z']*-(-0x118+-0x147+0x260),this['w']=_0x5326d0['w'],this;}['copy'](_0x41bff7){return this['x']=_0x41bff7['x'],this['y']=_0x41bff7['y'],this['z']=_0x41bff7['z'],this['w']=_0x41bff7['w'],this;}['equals'](_0x5609ce){return this['x']===_0x5609ce['x']&&this['y']===_0x5609ce['y']&&this['z']===_0x5609ce['z']&&this['w']===_0x5609ce['w'];}['equalsAppr'+'ox'](_0x5597c8,_0x313e46=0x14bd*-0x1+0xfb+0x2*0x9e1+0.000001){return Math['abs'](this['x']-_0x5597c8['x'])<_0x313e46&&Math['abs'](this['y']-_0x5597c8['y'])<_0x313e46&&Math['abs'](this['z']-_0x5597c8['z'])<_0x313e46&&Math['abs'](this['w']-_0x5597c8['w'])<_0x313e46;}['getAxisAng'+'le'](_0x36e58c){let _0x41c133=Math['acos'](this['w'])*(-0x53b*-0x1+0x1ad7*0x1+0x36*-0x98);const _0x46e135=Math['sin'](_0x41c133/(-0x1ed6*0x1+-0x14de+0x19db*0x2));return _0x46e135!==-0x1b59+-0x19a*-0x1+-0x1*-0x19bf?(_0x36e58c['x']=this['x']/_0x46e135,_0x36e58c['y']=this['y']/_0x46e135,_0x36e58c['z']=this['z']/_0x46e135,(_0x36e58c['x']<0x5*0xce+0xee3+0x1*-0x12e9||_0x36e58c['y']<-0x813+0x122+-0x6f1*-0x1||_0x36e58c['z']<-0x1aa+0x1947+0x1*-0x179d)&&(_0x36e58c['x']*=-(0x1061+-0x2527+0x14c7),_0x36e58c['y']*=-(-0x88*-0x3b+-0x1*0x2548+-0xa9*-0x9),_0x36e58c['z']*=-(0x1*-0x3be+-0xbed*-0x1+-0x82e),_0x41c133*=-(0x19d1+0x94+-0x1a64))):(_0x36e58c['x']=-0x1305+0x1*-0x1da5+-0x1*-0x30ab,_0x36e58c['y']=0x1d67+0x80f+0x23*-0x112,_0x36e58c['z']=-0x7c9*0x1+-0x3ea+0x257*0x5),_0x41c133*N['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x45292e=new T()){let _0x159182,_0xee36e6,_0x5f36db;const _0x261c9a=this['x'],_0x48ee7a=this['y'],_0x1d8169=this['z'],_0x56eea8=this['w'],_0x402f97=(-0x236*0x4+-0x1f60+0x283a)*(_0x56eea8*_0x48ee7a-_0x261c9a*_0x1d8169);return _0x402f97<=-(-0x1*0x222b+-0x22f5+-0x9e*-0x70+0.99999)?(_0x159182=(-0x20c8+0xfac+0x111e)*Math['atan2'](_0x261c9a,_0x56eea8),_0xee36e6=-Math['PI']/(0x1df8+0x21d*0x5+-0x2887),_0x5f36db=-0x95e*0x2+0x151e+-0x262):_0x402f97>=0x7*0x425+-0xca7+0x4*-0x417+0.99999?(_0x159182=(0xc3d+0x1d1*-0xc+0x991)*Math['atan2'](_0x261c9a,_0x56eea8),_0xee36e6=Math['PI']/(-0x131e+-0x56a+-0x2*-0xc45),_0x5f36db=0x2084*0x1+-0x2*0xa9e+-0xb48):(_0x159182=Math['atan2']((-0x2324+-0x1cc2+0x3fe8)*(_0x56eea8*_0x261c9a+_0x48ee7a*_0x1d8169),-0xbb9+0xb8d+-0xf*-0x3-(-0x67f*0x5+0x1*-0x153d+0x2*0x1add)*(_0x261c9a*_0x261c9a+_0x48ee7a*_0x48ee7a)),_0xee36e6=Math['asin'](_0x402f97),_0x5f36db=Math['atan2']((0xa79+-0x1*-0xb6+-0xb2d)*(_0x56eea8*_0x1d8169+_0x261c9a*_0x48ee7a),0x26eb*-0x1+0x912+0x1*0x1dda-(0x1*0x5df+-0x54d*-0x7+-0x2af8)*(_0x48ee7a*_0x48ee7a+_0x1d8169*_0x1d8169))),_0x45292e['set'](_0x159182,_0xee36e6,_0x5f36db)['mulScalar'](N['RAD_TO_DEG']);}['invert'](_0x65c939=this){return this['conjugate'](_0x65c939)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x4432d7){const _0x4234bb=this['x'],_0x220465=this['y'],_0x3464a0=this['z'],_0x25f769=this['w'],_0x5745b0=_0x4432d7['x'],_0xb95a8f=_0x4432d7['y'],_0x421ada=_0x4432d7['z'],_0x15a386=_0x4432d7['w'];return this['x']=_0x25f769*_0x5745b0+_0x4234bb*_0x15a386+_0x220465*_0x421ada-_0x3464a0*_0xb95a8f,this['y']=_0x25f769*_0xb95a8f+_0x220465*_0x15a386+_0x3464a0*_0x5745b0-_0x4234bb*_0x421ada,this['z']=_0x25f769*_0x421ada+_0x3464a0*_0x15a386+_0x4234bb*_0xb95a8f-_0x220465*_0x5745b0,this['w']=_0x25f769*_0x15a386-_0x4234bb*_0x5745b0-_0x220465*_0xb95a8f-_0x3464a0*_0x421ada,this;}['mulScalar'](_0x2c5887,_0x28519b=this){return this['x']=_0x28519b['x']*_0x2c5887,this['y']=_0x28519b['y']*_0x2c5887,this['z']=_0x28519b['z']*_0x2c5887,this['w']=_0x28519b['w']*_0x2c5887,this;}['mul2'](_0x95097a,_0x5c5655){const _0x21b31e=_0x95097a['x'],_0x54eb99=_0x95097a['y'],_0x296382=_0x95097a['z'],_0x57c64a=_0x95097a['w'],_0x58adb0=_0x5c5655['x'],_0x4d386f=_0x5c5655['y'],_0x50b21c=_0x5c5655['z'],_0x59127e=_0x5c5655['w'];return this['x']=_0x57c64a*_0x58adb0+_0x21b31e*_0x59127e+_0x54eb99*_0x50b21c-_0x296382*_0x4d386f,this['y']=_0x57c64a*_0x4d386f+_0x54eb99*_0x59127e+_0x296382*_0x58adb0-_0x21b31e*_0x50b21c,this['z']=_0x57c64a*_0x50b21c+_0x296382*_0x59127e+_0x21b31e*_0x4d386f-_0x54eb99*_0x58adb0,this['w']=_0x57c64a*_0x59127e-_0x21b31e*_0x58adb0-_0x54eb99*_0x4d386f-_0x296382*_0x50b21c,this;}['normalize'](_0x65d17f=this){let _0x548bfa=_0x65d17f['length']();return _0x548bfa===0xea0+-0x135*0x17+0x13*0xb1?(this['x']=this['y']=this['z']=0x491*0x6+0x10c2+-0x2c28,this['w']=-0x23e+0x2566+-0x1*0x2327):(_0x548bfa=(-0x99e+0x1cbb+-0x131c)/_0x548bfa,this['x']=_0x65d17f['x']*_0x548bfa,this['y']=_0x65d17f['y']*_0x548bfa,this['z']=_0x65d17f['z']*_0x548bfa,this['w']=_0x65d17f['w']*_0x548bfa),this;}['set'](_0x45cdc2,_0x12e926,_0x27f5dc,_0x123bae){return this['x']=_0x45cdc2,this['y']=_0x12e926,this['z']=_0x27f5dc,this['w']=_0x123bae,this;}['setFromAxi'+'sAngle'](_0xe590f3,_0x179713){_0x179713*=(-0x427*-0x3+0x212*-0xb+0xa51+0.5)*N['DEG_TO_RAD'];const _0x48b030=Math['sin'](_0x179713),_0x498dad=Math['cos'](_0x179713);return this['x']=_0x48b030*_0xe590f3['x'],this['y']=_0x48b030*_0xe590f3['y'],this['z']=_0x48b030*_0xe590f3['z'],this['w']=_0x498dad,this;}['setFromEul'+'erAngles'](_0x31ffcc,_0x1fe129,_0x452e0b){if(_0x31ffcc instanceof T){const _0xd0296d=_0x31ffcc;_0x31ffcc=_0xd0296d['x'],_0x1fe129=_0xd0296d['y'],_0x452e0b=_0xd0296d['z'];}const _0x3165e5=(-0x565+0x1*0xbb3+-0x64e+0.5)*N['DEG_TO_RAD'];_0x31ffcc*=_0x3165e5,_0x1fe129*=_0x3165e5,_0x452e0b*=_0x3165e5;const _0x3f1065=Math['sin'](_0x31ffcc),_0x28bd59=Math['cos'](_0x31ffcc),_0x3a7c0b=Math['sin'](_0x1fe129),_0x52fe6e=Math['cos'](_0x1fe129),_0x255638=Math['sin'](_0x452e0b),_0x34a902=Math['cos'](_0x452e0b);return this['x']=_0x3f1065*_0x52fe6e*_0x34a902-_0x28bd59*_0x3a7c0b*_0x255638,this['y']=_0x28bd59*_0x3a7c0b*_0x34a902+_0x3f1065*_0x52fe6e*_0x255638,this['z']=_0x28bd59*_0x52fe6e*_0x255638-_0x3f1065*_0x3a7c0b*_0x34a902,this['w']=_0x28bd59*_0x52fe6e*_0x34a902+_0x3f1065*_0x3a7c0b*_0x255638,this;}['setFromMat'+'4'](_0x32abc0){const _0x1baf80=_0x32abc0['data'];let _0x30fc40=_0x1baf80[-0x91*0x19+-0x1f1b+0x2d44],_0x343e8b=_0x1baf80[-0x71a+-0xeb*0x14+0x1977],_0x3b9dc1=_0x1baf80[0xaac*0x3+0x1cb*0x6+-0x2ac4],_0x40942f=_0x1baf80[-0x20e5+0x19d6+0x713],_0x5b59aa=_0x1baf80[0x1007+-0x75e+0x229*-0x4],_0x55c4e6=_0x1baf80[-0xb1*0x2e+0xa*-0xdd+-0x1*-0x2876],_0x923139=_0x1baf80[-0x1*0x2e5+-0x1d97+-0x2*-0x1042],_0x442fac=_0x1baf80[0x1*-0x12d6+-0x6*-0x207+0x1*0x6b5],_0x2a31dd=_0x1baf80[0xf8e+0x203a+-0x2fbe],_0x43925f;return _0x43925f=_0x30fc40*_0x30fc40+_0x343e8b*_0x343e8b+_0x3b9dc1*_0x3b9dc1,_0x43925f===-0x1*0x2489+-0x2383+-0x3a*-0x13e?this['set'](-0x235+0xac+-0x189*-0x1,-0x185+-0x1*0x3c7+0x153*0x4,0x185c+0x6*-0x5cd+0xa72,-0x1496+-0xa48+-0x1*-0x1edf):(_0x43925f=(0x1*0xbf1+-0x1a11+0xe21*0x1)/Math['sqrt'](_0x43925f),_0x30fc40*=_0x43925f,_0x343e8b*=_0x43925f,_0x3b9dc1*=_0x43925f,_0x43925f=_0x40942f*_0x40942f+_0x5b59aa*_0x5b59aa+_0x55c4e6*_0x55c4e6,_0x43925f===0x19f7+-0xa6*-0x3+0x5*-0x595?this['set'](0x17e+-0x3*-0x277+-0x1c7*0x5,0x68f*0x1+-0x1384*-0x1+-0x1a13,-0x1f42+-0xbea+0xc*0x399,-0x3b*-0x19+0x2*-0xb2+0x56*-0xd):(_0x43925f=(0x78a+0x522+-0x1*0xcab)/Math['sqrt'](_0x43925f),_0x40942f*=_0x43925f,_0x5b59aa*=_0x43925f,_0x55c4e6*=_0x43925f,_0x43925f=_0x923139*_0x923139+_0x442fac*_0x442fac+_0x2a31dd*_0x2a31dd,_0x43925f===-0x20d0+-0xc21+0x2cf1?this['set'](0x150b*-0x1+0x1*0x251d+-0x1012*0x1,-0x5dd+-0x2*-0xf65+-0x18ed,-0x1*0x178d+0x62b+0x1162,-0x3*0x79a+-0x235+0x1904):(_0x43925f=(0x1537*0x1+-0x138b+0x7*-0x3d)/Math['sqrt'](_0x43925f),_0x923139*=_0x43925f,_0x442fac*=_0x43925f,_0x2a31dd*=_0x43925f,_0x2a31dd<-0xb10+-0xe4e+0x195e?_0x30fc40>_0x5b59aa?this['set'](-0x5b4+-0x593*-0x1+0x22+_0x30fc40-_0x5b59aa-_0x2a31dd,_0x343e8b+_0x40942f,_0x923139+_0x3b9dc1,_0x55c4e6-_0x442fac):this['set'](_0x343e8b+_0x40942f,0x1eaf+-0x7c9+-0x1*0x16e5-_0x30fc40+_0x5b59aa-_0x2a31dd,_0x55c4e6+_0x442fac,_0x923139-_0x3b9dc1):_0x30fc40<-_0x5b59aa?this['set'](_0x923139+_0x3b9dc1,_0x55c4e6+_0x442fac,-0x2016+-0x1a2f*-0x1+0x5e8-_0x30fc40-_0x5b59aa+_0x2a31dd,_0x343e8b-_0x40942f):this['set'](_0x55c4e6-_0x442fac,_0x923139-_0x3b9dc1,_0x343e8b-_0x40942f,0x1b3b*-0x1+0x7*0x2ae+0x87a+_0x30fc40+_0x5b59aa+_0x2a31dd),this['mulScalar']((-0x10af+-0x25*0x25+0x1609)/this['length']()))));}['setFromDir'+'ections'](_0x31e5df,_0x1a36fa){const _0x1cbb3f=-0xdc0+0x20ef+-0x132e+_0x31e5df['dot'](_0x1a36fa);return _0x1cbb3f<Number['EPSILON']?Math['abs'](_0x31e5df['x'])>Math['abs'](_0x31e5df['y'])?(this['x']=-_0x31e5df['z'],this['y']=-0x2*-0x617+0x1*-0x250f+0x18e1,this['z']=_0x31e5df['x'],this['w']=0x15ec+0x10d3+-0x26bf):(this['x']=0x24dd+0x7b+-0x2558,this['y']=-_0x31e5df['z'],this['z']=_0x31e5df['y'],this['w']=0x173*-0x10+0x9b8+0xd78):(this['x']=_0x31e5df['y']*_0x1a36fa['z']-_0x31e5df['z']*_0x1a36fa['y'],this['y']=_0x31e5df['z']*_0x1a36fa['x']-_0x31e5df['x']*_0x1a36fa['z'],this['z']=_0x31e5df['x']*_0x1a36fa['y']-_0x31e5df['y']*_0x1a36fa['x'],this['w']=_0x1cbb3f),this['normalize']();}['slerp'](_0x3c1d45,_0x53251c,_0x2d27fd){const _0x384315=_0x3c1d45['x'],_0x73b7de=_0x3c1d45['y'],_0x3ec5c8=_0x3c1d45['z'],_0x39eebc=_0x3c1d45['w'];let _0x569921=_0x53251c['x'],_0x294a7d=_0x53251c['y'],_0x35dcc5=_0x53251c['z'],_0x1b6fd2=_0x53251c['w'],_0x11bad5=_0x39eebc*_0x1b6fd2+_0x384315*_0x569921+_0x73b7de*_0x294a7d+_0x3ec5c8*_0x35dcc5;if(_0x11bad5<0x1a17+0x1565+-0x2f7c&&(_0x1b6fd2=-_0x1b6fd2,_0x569921=-_0x569921,_0x294a7d=-_0x294a7d,_0x35dcc5=-_0x35dcc5,_0x11bad5=-_0x11bad5),Math['abs'](_0x11bad5)>=-0x1*0x25f8+0xa12*-0x2+0x3a1d)return this['w']=_0x39eebc,this['x']=_0x384315,this['y']=_0x73b7de,this['z']=_0x3ec5c8,this;const _0x53a881=Math['acos'](_0x11bad5),_0x28e08f=Math['sqrt'](-0x5*0x51b+0x2221+-0x899-_0x11bad5*_0x11bad5);if(Math['abs'](_0x28e08f)<-0xb57+0x1ef*0x1+0x968+0.001)return this['w']=_0x39eebc*(-0x17f+0x21da+-0x205b+0.5)+_0x1b6fd2*(0xd51+0x346+-0x1*0x1097+0.5),this['x']=_0x384315*(0x998+0x61c+-0xfb4+0.5)+_0x569921*(0x19f2+0x3*-0xb91+0x8c1+0.5),this['y']=_0x73b7de*(-0x2*0x11d5+0x700+0x1caa+0.5)+_0x294a7d*(-0x1*-0x1e2d+-0x131*-0x11+-0x326e+0.5),this['z']=_0x3ec5c8*(0x4cf*-0x7+0x1969+0x840+0.5)+_0x35dcc5*(-0x1*0x10d2+0x1*-0x217+-0x1*-0x12e9+0.5),this;const _0x2f0439=Math['sin']((-0x7f1+-0x994*0x4+-0x1*-0x2e42-_0x2d27fd)*_0x53a881)/_0x28e08f,_0x1ecccb=Math['sin'](_0x2d27fd*_0x53a881)/_0x28e08f;return this['w']=_0x39eebc*_0x2f0439+_0x1b6fd2*_0x1ecccb,this['x']=_0x384315*_0x2f0439+_0x569921*_0x1ecccb,this['y']=_0x73b7de*_0x2f0439+_0x294a7d*_0x1ecccb,this['z']=_0x3ec5c8*_0x2f0439+_0x35dcc5*_0x1ecccb,this;}['transformV'+'ector'](_0x19fb2d,_0x525744=new T()){const _0x1d4f88=_0x19fb2d['x'],_0x179779=_0x19fb2d['y'],_0x16b12b=_0x19fb2d['z'],_0x1b5c91=this['x'],_0x11c7d9=this['y'],_0x325b15=this['z'],_0x315eca=this['w'],_0x429af4=_0x315eca*_0x1d4f88+_0x11c7d9*_0x16b12b-_0x325b15*_0x179779,_0x4e2f42=_0x315eca*_0x179779+_0x325b15*_0x1d4f88-_0x1b5c91*_0x16b12b,_0x5bc2a1=_0x315eca*_0x16b12b+_0x1b5c91*_0x179779-_0x11c7d9*_0x1d4f88,_0x29bd50=-_0x1b5c91*_0x1d4f88-_0x11c7d9*_0x179779-_0x325b15*_0x16b12b;return _0x525744['x']=_0x429af4*_0x315eca+_0x29bd50*-_0x1b5c91+_0x4e2f42*-_0x325b15-_0x5bc2a1*-_0x11c7d9,_0x525744['y']=_0x4e2f42*_0x315eca+_0x29bd50*-_0x11c7d9+_0x5bc2a1*-_0x1b5c91-_0x429af4*-_0x325b15,_0x525744['z']=_0x5bc2a1*_0x315eca+_0x29bd50*-_0x325b15+_0x429af4*-_0x11c7d9-_0x4e2f42*-_0x1b5c91,_0x525744;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(aa,'IDENTITY',Object['freeze'](new aa(-0x1*0x223d+0x88*-0x35+0x3e65*0x1,0x1662+-0x6e9*0x1+-0x11*0xe9,-0x9*-0x239+-0x1*-0x812+-0x1c13,0x841*0x3+0x5*-0x2af+-0xb57))),c(aa,'ZERO',Object['freeze'](new aa(0x12*0x67+0x36b+-0xaa9*0x1,0x701+0x1819+0x1*-0x1f1a,-0x16*0x1c+0x5*0x13c+-0x3c4,-0xb2e+0x1*0x62f+0x4ff*0x1)));let se=aa;const vn=new T(),bn=new T(),nm=new T(),am=new T(),vS=new T();class _e{constructor(_0x3996f4,_0x35904b){c(this,'center',new T()),c(this,'halfExtent'+'s',new T(0x7f7*-0x1+-0x68f*-0x1+-0x3*-0x78+0.5,0xaba+-0x1*-0x1b0e+0x5d*-0x68+0.5,0x2428+0x607*0x3+-0x1*0x363d+0.5)),c(this,'_min',new T()),c(this,'_max',new T()),(_0x3996f4&&this['center']['copy'](_0x3996f4),_0x35904b&&this['halfExtent'+'s']['copy'](_0x35904b));}['add'](_0x1d37b3){const _0x3903e2=this['center'],_0xedc594=_0x3903e2['x'],_0xf1e4cc=_0x3903e2['y'],_0x28c0a8=_0x3903e2['z'],_0x202931=this['halfExtent'+'s'],_0x98f6b6=_0x202931['x'],_0xb3c2b9=_0x202931['y'],_0x46667c=_0x202931['z'];let _0x4be45d=_0xedc594-_0x98f6b6,_0x3728f1=_0xedc594+_0x98f6b6,_0x8ff3b2=_0xf1e4cc-_0xb3c2b9,_0x35053e=_0xf1e4cc+_0xb3c2b9,_0x4e73f3=_0x28c0a8-_0x46667c,_0x57e6fe=_0x28c0a8+_0x46667c;const _0x2bb455=_0x1d37b3['center'],_0x10af5d=_0x2bb455['x'],_0x1b1460=_0x2bb455['y'],_0x2f8bac=_0x2bb455['z'],_0x327855=_0x1d37b3['halfExtent'+'s'],_0x197208=_0x327855['x'],_0x2737e6=_0x327855['y'],_0x2b1973=_0x327855['z'],_0x1748b9=_0x10af5d-_0x197208,_0x1c0f8a=_0x10af5d+_0x197208,_0x4b2361=_0x1b1460-_0x2737e6,_0x58b27d=_0x1b1460+_0x2737e6,_0x56b57d=_0x2f8bac-_0x2b1973,_0x376e53=_0x2f8bac+_0x2b1973;_0x1748b9<_0x4be45d&&(_0x4be45d=_0x1748b9),_0x1c0f8a>_0x3728f1&&(_0x3728f1=_0x1c0f8a),_0x4b2361<_0x8ff3b2&&(_0x8ff3b2=_0x4b2361),_0x58b27d>_0x35053e&&(_0x35053e=_0x58b27d),_0x56b57d<_0x4e73f3&&(_0x4e73f3=_0x56b57d),_0x376e53>_0x57e6fe&&(_0x57e6fe=_0x376e53),_0x3903e2['x']=(_0x4be45d+_0x3728f1)*(0x73d+-0x224*-0xa+-0x1ca5+0.5),_0x3903e2['y']=(_0x8ff3b2+_0x35053e)*(-0x3*0x98f+-0x1*0x266f+0x431c+0.5),_0x3903e2['z']=(_0x4e73f3+_0x57e6fe)*(-0x4ab*0x1+-0x11d+0x5c8*0x1+0.5),_0x202931['x']=(_0x3728f1-_0x4be45d)*(0x1299+-0x1*0x191a+-0x14d*-0x5+0.5),_0x202931['y']=(_0x35053e-_0x8ff3b2)*(0x1218+-0x1a50+0x838+0.5),_0x202931['z']=(_0x57e6fe-_0x4e73f3)*(0x29*0xd2+0x5*-0x199+0xd*-0x1f9+0.5);}['copy'](_0x9d5bbe){this['center']['copy'](_0x9d5bbe['center']),this['halfExtent'+'s']['copy'](_0x9d5bbe['halfExtent'+'s']);}['clone'](){return new _e(this['center'],this['halfExtent'+'s']);}['intersects'](_0x4969ad){const _0x32fbed=this['getMax'](),_0x5039fb=this['getMin'](),_0x310629=_0x4969ad['getMax'](),_0x440fb8=_0x4969ad['getMin']();return _0x5039fb['x']<=_0x310629['x']&&_0x32fbed['x']>=_0x440fb8['x']&&_0x5039fb['y']<=_0x310629['y']&&_0x32fbed['y']>=_0x440fb8['y']&&_0x5039fb['z']<=_0x310629['z']&&_0x32fbed['z']>=_0x440fb8['z'];}['_intersect'+'sRay'](_0x4bb804,_0x1f05a9){const _0x4dfd57=vn['copy'](this['getMin']())['sub'](_0x4bb804['origin']),_0x26adc8=bn['copy'](this['getMax']())['sub'](_0x4bb804['origin']),_0x1ee8d6=_0x4bb804['direction'];_0x1ee8d6['x']===0x2*-0x886+0x2196+0x49*-0x3a?(_0x4dfd57['x']=_0x4dfd57['x']<0x1*0x25dc+0x15ca+-0xbee*0x5?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x26adc8['x']=_0x26adc8['x']<0x2651+0x1273+0xe*-0x40e?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4dfd57['x']/=_0x1ee8d6['x'],_0x26adc8['x']/=_0x1ee8d6['x']),_0x1ee8d6['y']===0x1952+0x267f+-0x20f*0x1f?(_0x4dfd57['y']=_0x4dfd57['y']<0x137c+0xe7*0x15+-0x1*0x266f?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x26adc8['y']=_0x26adc8['y']<-0xd00+0xbe9*-0x3+0x30bb?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4dfd57['y']/=_0x1ee8d6['y'],_0x26adc8['y']/=_0x1ee8d6['y']),_0x1ee8d6['z']===0x1*-0x1c57+0x190f*-0x1+0x3566?(_0x4dfd57['z']=_0x4dfd57['z']<-0x12c9*0x1+-0x163d*-0x1+0x22*-0x1a?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x26adc8['z']=_0x26adc8['z']<0x1*-0x30a+0xcfd+-0x9f3?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x4dfd57['z']/=_0x1ee8d6['z'],_0x26adc8['z']/=_0x1ee8d6['z']);const _0x529040=nm['set'](Math['min'](_0x4dfd57['x'],_0x26adc8['x']),Math['min'](_0x4dfd57['y'],_0x26adc8['y']),Math['min'](_0x4dfd57['z'],_0x26adc8['z'])),_0x5c5250=am['set'](Math['max'](_0x4dfd57['x'],_0x26adc8['x']),Math['max'](_0x4dfd57['y'],_0x26adc8['y']),Math['max'](_0x4dfd57['z'],_0x26adc8['z'])),_0x3fb0f5=Math['min'](Math['min'](_0x5c5250['x'],_0x5c5250['y']),_0x5c5250['z']),_0x28ea92=Math['max'](Math['max'](_0x529040['x'],_0x529040['y']),_0x529040['z']),_0x101c50=_0x3fb0f5>=_0x28ea92&&_0x28ea92>=-0x6bd+-0x2005+0x26c2;return _0x101c50&&_0x1f05a9['copy'](_0x4bb804['direction'])['mulScalar'](_0x28ea92)['add'](_0x4bb804['origin']),_0x101c50;}['_fastInter'+'sectsRay'](_0x49c224){const _0x922740=vn,_0x5147fb=bn,_0x24abab=nm,_0x493161=am,_0x113df0=vS,_0x1ababe=_0x49c224['direction'];return _0x922740['sub2'](_0x49c224['origin'],this['center']),_0x493161['set'](Math['abs'](_0x922740['x']),Math['abs'](_0x922740['y']),Math['abs'](_0x922740['z'])),_0x24abab['mul2'](_0x922740,_0x1ababe),!(_0x493161['x']>this['halfExtent'+'s']['x']&&_0x24abab['x']>=0x60c+-0x2*-0x56f+-0x5*0x362||_0x493161['y']>this['halfExtent'+'s']['y']&&_0x24abab['y']>=0x1*-0x1f79+-0x1b81+0x3afa||_0x493161['z']>this['halfExtent'+'s']['z']&&_0x24abab['z']>=-0x292*-0x5+0x157d+-0x2257||(_0x113df0['set'](Math['abs'](_0x1ababe['x']),Math['abs'](_0x1ababe['y']),Math['abs'](_0x1ababe['z'])),_0x5147fb['cross'](_0x1ababe,_0x922740),_0x5147fb['set'](Math['abs'](_0x5147fb['x']),Math['abs'](_0x5147fb['y']),Math['abs'](_0x5147fb['z'])),_0x5147fb['x']>this['halfExtent'+'s']['y']*_0x113df0['z']+this['halfExtent'+'s']['z']*_0x113df0['y'])||_0x5147fb['y']>this['halfExtent'+'s']['x']*_0x113df0['z']+this['halfExtent'+'s']['z']*_0x113df0['x']||_0x5147fb['z']>this['halfExtent'+'s']['x']*_0x113df0['y']+this['halfExtent'+'s']['y']*_0x113df0['x']);}['intersects'+'Ray'](_0x346b80,_0x46dea8){return _0x46dea8?this['_intersect'+'sRay'](_0x346b80,_0x46dea8):this['_fastInter'+'sectsRay'](_0x346b80);}['setMinMax'](_0x254165,_0x239765){this['center']['add2'](_0x239765,_0x254165)['mulScalar'](0xa85*-0x1+0x1ed3+-0x144e+0.5),this['halfExtent'+'s']['sub2'](_0x239765,_0x254165)['mulScalar'](-0x19a3+-0x10d7+0x153d*0x2+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x5265ee){const _0x3140e2=this['getMin'](),_0x3e5584=this['getMax']();return!(_0x5265ee['x']<_0x3140e2['x']||_0x5265ee['x']>_0x3e5584['x']||_0x5265ee['y']<_0x3140e2['y']||_0x5265ee['y']>_0x3e5584['y']||_0x5265ee['z']<_0x3140e2['z']||_0x5265ee['z']>_0x3e5584['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x217cee,_0x1d6fd5,_0xbb3eec=!(0x1*0xf9e+0x2*-0xc2f+0x8c1)){const _0x536cb8=_0x217cee['center'],_0x2a6229=_0x217cee['halfExtent'+'s'],_0x1aa162=_0x1d6fd5['data'];let _0x1d157e=_0x1aa162[0xe*0xda+-0x1d19+0x112d],_0x52fc1e=_0x1aa162[-0x2021+-0x8c5+0x28ea],_0x4fbc4d=_0x1aa162[0x2b5+-0x16b1+0x16e*0xe],_0xe45a7a=_0x1aa162[0x4cf*0x3+0x6fb*0x3+-0x235d],_0x3ff454=_0x1aa162[-0xba9+0xa6+0xb08],_0x461873=_0x1aa162[0x2686+-0x8cb*0x4+-0x351],_0x24d73e=_0x1aa162[0xb*-0x111+0x8f*0x44+-0x1a3f],_0x5d9515=_0x1aa162[0x26*0xc1+0x1bb1+-0x3851],_0x89e71a=_0x1aa162[0x1*-0x1c3+-0x1*0x454+0x20b*0x3];if(_0xbb3eec){let _0x538f6f=_0x1d157e*_0x1d157e+_0x52fc1e*_0x52fc1e+_0x4fbc4d*_0x4fbc4d;if(_0x538f6f>0x979+0x14d1+-0x1e4a){const _0x29a8ed=(-0x615+-0x1505+0x1b1b)/Math['sqrt'](_0x538f6f);_0x1d157e*=_0x29a8ed,_0x52fc1e*=_0x29a8ed,_0x4fbc4d*=_0x29a8ed;}if(_0x538f6f=_0xe45a7a*_0xe45a7a+_0x3ff454*_0x3ff454+_0x461873*_0x461873,_0x538f6f>-0x111b*-0x1+0x1290*-0x1+0x175){const _0x380437=(0x2a*-0x4f+0x1d21+0x102a*-0x1)/Math['sqrt'](_0x538f6f);_0xe45a7a*=_0x380437,_0x3ff454*=_0x380437,_0x461873*=_0x380437;}if(_0x538f6f=_0x24d73e*_0x24d73e+_0x5d9515*_0x5d9515+_0x89e71a*_0x89e71a,_0x538f6f>-0x8dc*0x2+0xc*-0x335+0x3834){const _0x41f13a=(0x563+-0x2*-0x80f+0x8*-0x2b0)/Math['sqrt'](_0x538f6f);_0x24d73e*=_0x41f13a,_0x5d9515*=_0x41f13a,_0x89e71a*=_0x41f13a;}}this['center']['set'](_0x1aa162[-0x1*-0x18eb+0x25db+-0x3eba]+_0x1d157e*_0x536cb8['x']+_0x52fc1e*_0x536cb8['y']+_0x4fbc4d*_0x536cb8['z'],_0x1aa162[0x37e+-0x1*0x675+0x304]+_0xe45a7a*_0x536cb8['x']+_0x3ff454*_0x536cb8['y']+_0x461873*_0x536cb8['z'],_0x1aa162[0x6*-0x1a4+0xb3a+-0x154]+_0x24d73e*_0x536cb8['x']+_0x5d9515*_0x536cb8['y']+_0x89e71a*_0x536cb8['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x1d157e)*_0x2a6229['x']+Math['abs'](_0x52fc1e)*_0x2a6229['y']+Math['abs'](_0x4fbc4d)*_0x2a6229['z'],Math['abs'](_0xe45a7a)*_0x2a6229['x']+Math['abs'](_0x3ff454)*_0x2a6229['y']+Math['abs'](_0x461873)*_0x2a6229['z'],Math['abs'](_0x24d73e)*_0x2a6229['x']+Math['abs'](_0x5d9515)*_0x2a6229['y']+Math['abs'](_0x89e71a)*_0x2a6229['z']);}static['computeMin'+'Max'](_0x117f78,_0x48955a,_0x16f9f2,_0x500ea2=_0x117f78['length']/(-0x1c8e+-0x4cf+-0x10*-0x216)){if(_0x500ea2>0x24f5+0x1cbd+-0x41b2){let _0x4b1f16=_0x117f78[-0x1b*-0x169+0x1*0x2513+-0x4b26],_0x33e54f=_0x117f78[-0xed5+0x1388+-0x4b2],_0xe97c97=_0x117f78[-0x3c0*-0x1+0x12a0+-0x1*0x165e],_0x2d5317=_0x4b1f16,_0x21217b=_0x33e54f,_0x78675d=_0xe97c97;const _0x2102c3=_0x500ea2*(0x26a6+-0x1*-0x65+-0x2708);for(let _0x4fcf50=0x247f+0x84f+-0x1*0x2ccb;_0x4fcf50<_0x2102c3;_0x4fcf50+=-0x2481+0x81+0x525*0x7){const _0x573c27=_0x117f78[_0x4fcf50],_0x1f1843=_0x117f78[_0x4fcf50+(0x100b+0xc4f+-0x1c59)],_0xfd4da5=_0x117f78[_0x4fcf50+(0x1052+-0x17*0x151+0xdf7)];_0x573c27<_0x4b1f16&&(_0x4b1f16=_0x573c27),_0x1f1843<_0x33e54f&&(_0x33e54f=_0x1f1843),_0xfd4da5<_0xe97c97&&(_0xe97c97=_0xfd4da5),_0x573c27>_0x2d5317&&(_0x2d5317=_0x573c27),_0x1f1843>_0x21217b&&(_0x21217b=_0x1f1843),_0xfd4da5>_0x78675d&&(_0x78675d=_0xfd4da5);}_0x48955a['set'](_0x4b1f16,_0x33e54f,_0xe97c97),_0x16f9f2['set'](_0x2d5317,_0x21217b,_0x78675d);}}['compute'](_0x1bf8ad,_0x573164){_e['computeMin'+'Max'](_0x1bf8ad,vn,bn,_0x573164),this['setMinMax'](vn,bn);}['intersects'+'BoundingSp'+'here'](_0x5c9b55){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x5c9b55)<=_0x5c9b55['radius']*_0x5c9b55['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x58e9f8){const _0x2783df=this['getMin'](),_0x3e62fc=this['getMax']();let _0x266498=-0x1b87+-0x1*0x2652+0x41d9;const _0x5c9635=['x','y','z'];for(let _0x2e5422=-0x143+0xc7e+-0x19*0x73;_0x2e5422<0x3*0x1b+-0x10ba+0x4*0x41b;++_0x2e5422){let _0x4772ce=0x1476+-0xac+-0x1*0x13ca;const _0x5b54d1=_0x58e9f8['center'][_0x5c9635[_0x2e5422]],_0x45b246=_0x2783df[_0x5c9635[_0x2e5422]],_0x342489=_0x3e62fc[_0x5c9635[_0x2e5422]];let _0x5a65eb=0x249b+0x125*-0x7+-0xa*0x2dc;_0x5b54d1<_0x45b246&&(_0x5a65eb=_0x45b246-_0x5b54d1,_0x4772ce+=_0x5a65eb*_0x5a65eb),_0x5b54d1>_0x342489&&(_0x5a65eb=_0x5b54d1-_0x342489,_0x4772ce+=_0x5a65eb*_0x5a65eb),_0x266498+=_0x4772ce;}return _0x266498;}['_expand'](_0x32084b,_0xa24e8){vn['add2'](this['getMin'](),_0x32084b),bn['add2'](this['getMax'](),_0xa24e8),this['setMinMax'](vn,bn);}}const gl=new T(),bS=new T();class Lf{constructor(_0x528cb1=new T(),_0x281e29=0x1*-0x1947+-0x1050+-0xd*-0x333+0.5){c(this,'center'),c(this,'radius'),(v['assert'](!Object['isFrozen'](_0x528cb1),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x528cb1,this['radius']=_0x281e29);}['containsPo'+'int'](_0x40001){const _0x23937a=gl['sub2'](_0x40001,this['center'])['lengthSq'](),_0x3f39f4=this['radius'];return _0x23937a<_0x3f39f4*_0x3f39f4;}['intersects'+'Ray'](_0x17bccf,_0x4defea){const _0x2ce7b1=gl['copy'](_0x17bccf['origin'])['sub'](this['center']),_0x1ee33f=_0x2ce7b1['dot'](bS['copy'](_0x17bccf['direction'])['normalize']()),_0x2e1904=_0x2ce7b1['dot'](_0x2ce7b1)-this['radius']*this['radius'];if(_0x2e1904>-0x1371+-0x26a3+0x3a14&&_0x1ee33f>-0xad6+-0x2555+0x289*0x13)return!(0x135f+0x20f4+-0x4a*0xb5);const _0x47ef1f=_0x1ee33f*_0x1ee33f-_0x2e1904;if(_0x47ef1f<-0xb*-0x155+0xddb+-0x1c82)return!(-0x20a+-0xbcf*-0x3+-0x2*0x10b1);const _0x23314c=Math['abs'](-_0x1ee33f-Math['sqrt'](_0x47ef1f));return _0x4defea&&_0x4defea['copy'](_0x17bccf['direction'])['mulScalar'](_0x23314c)['add'](_0x17bccf['origin']),!(-0x11*0x63+-0x94f*0x3+-0x40*-0x8a);}['intersects'+'BoundingSp'+'here'](_0x277b51){gl['sub2'](_0x277b51['center'],this['center']);const _0x30d2d7=_0x277b51['radius']+this['radius'];return gl['lengthSq']()<=_0x30d2d7*_0x30d2d7;}}class hy{constructor(_0x2bfd39=T['UP'],_0x72d44e=-0x126e+0x26cb*0x1+-0xd*0x191){c(this,'normal',new T()),c(this,'distance'),(this['normal']['copy'](_0x2bfd39),this['distance']=_0x72d44e);}['clone'](){const _0x32e18e=this['constructo'+'r'];return new _0x32e18e()['copy'](this);}['copy'](_0x322914){return this['normal']['copy'](_0x322914['normal']),this['distance']=_0x322914['distance'],this;}['intersects'+'Line'](_0x291b1a,_0x38bdb2,_0x2fea30){const _0x187010=this['distance'],_0x306ecb=this['normal']['dot'](_0x291b1a)+_0x187010,_0x3e0606=this['normal']['dot'](_0x38bdb2)+_0x187010,_0xc0e2df=_0x306ecb/(_0x306ecb-_0x3e0606),_0x4f8e77=_0xc0e2df>=0x1c58+-0x3f4+-0x1864&&_0xc0e2df<=-0x37e*0x2+0x83*0x29+-0xdfe;return _0x4f8e77&&_0x2fea30&&_0x2fea30['lerp'](_0x291b1a,_0x38bdb2,_0xc0e2df),_0x4f8e77;}['intersects'+'Ray'](_0xec724,_0x147dfa){const _0xd1c24d=this['normal']['dot'](_0xec724['direction']);if(_0xd1c24d===0x1*-0x14e0+-0x1d50+0x3230)return!(-0x38d*0x3+0x6ac+0x3fc);const _0x1ac94e=-(this['normal']['dot'](_0xec724['origin'])+this['distance'])/_0xd1c24d;return _0x1ac94e>=0x2*0x105b+-0x86f*-0x1+-0xdb7*0x3&&_0x147dfa&&_0x147dfa['copy'](_0xec724['direction'])['mulScalar'](_0x1ac94e)['add'](_0xec724['origin']),_0x1ac94e>=0x1*0x1286+-0x1e93*-0x1+0x1*-0x3119;}['normalize'](){const _0x1d1208=(0x2573+-0xc*-0xd0+0x7*-0x6be)/this['normal']['length']();return this['normal']['mulScalar'](_0x1d1208),this['distance']*=_0x1d1208,this;}['set'](_0x4112e0,_0x22b48a,_0x1423fb,_0x135c82){return this['normal']['set'](_0x4112e0,_0x22b48a,_0x1423fb),this['distance']=_0x135c82,this;}['setFromPoi'+'ntNormal'](_0x290b9a,_0x4a101d){return this['normal']['copy'](_0x4a101d),this['distance']=-this['normal']['dot'](_0x290b9a),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x38f0ff=-0x2632+0x306+-0x8cb*-0x4;_0x38f0ff<0x2234+-0x7c*0x9+0x2b6*-0xb;_0x38f0ff++)this['planes'][_0x38f0ff]=new hy();}['clone'](){const _0xdec620=this['constructo'+'r'];return new _0xdec620()['copy'](this);}['copy'](_0x2cf284){for(let _0x3d4ff3=0x211+0x715+-0x1*0x926;_0x3d4ff3<0x119f+0x5*-0x5d5+-0x25*-0x50;_0x3d4ff3++)this['planes'][_0x3d4ff3]['copy'](_0x2cf284['planes'][_0x3d4ff3]);return this;}['setFromMat'+'4'](_0x279312){const [_0x2a3337,_0x200ef1,_0x162e26,_0x1c8e7c,_0x1f8b06,_0x37e83c,_0x4048ea,_0x559b72,_0x39b9e3,_0x54bd4c,_0x7a023c,_0x2d2e61,_0x116a13,_0x5319d4,_0x464379,_0x1bf879]=_0x279312['data'],_0x147658=this['planes'];_0x147658[-0x1374+0x1483+-0x10f*0x1]['set'](_0x1c8e7c-_0x2a3337,_0x559b72-_0x1f8b06,_0x2d2e61-_0x39b9e3,_0x1bf879-_0x116a13)['normalize'](),_0x147658[0x1ebc+0x5*-0x524+-0x507]['set'](_0x1c8e7c+_0x2a3337,_0x559b72+_0x1f8b06,_0x2d2e61+_0x39b9e3,_0x1bf879+_0x116a13)['normalize'](),_0x147658[-0x1291*0x1+0xe28+0x27*0x1d]['set'](_0x1c8e7c+_0x200ef1,_0x559b72+_0x37e83c,_0x2d2e61+_0x54bd4c,_0x1bf879+_0x5319d4)['normalize'](),_0x147658[0xdd+-0x2*-0x3c7+0x2*-0x434]['set'](_0x1c8e7c-_0x200ef1,_0x559b72-_0x37e83c,_0x2d2e61-_0x54bd4c,_0x1bf879-_0x5319d4)['normalize'](),_0x147658[0x6a1*-0x4+-0xca7*0x1+0x272f]['set'](_0x1c8e7c-_0x162e26,_0x559b72-_0x4048ea,_0x2d2e61-_0x7a023c,_0x1bf879-_0x464379)['normalize'](),_0x147658[0x15f3+-0x1*-0xde5+0x23d3*-0x1]['set'](_0x1c8e7c+_0x162e26,_0x559b72+_0x4048ea,_0x2d2e61+_0x7a023c,_0x1bf879+_0x464379)['normalize']();}['containsPo'+'int'](_0x59d777){for(let _0x34ad05=0x419*-0x7+0xc28*0x2+0x45f;_0x34ad05<0x88*-0x7+0x35*-0x5f+0x1cd*0xd;_0x34ad05++){const {normal:_0x1f78cb,distance:_0x417d57}=this['planes'][_0x34ad05];if(_0x1f78cb['dot'](_0x59d777)+_0x417d57<=-0x1*0x1fdd+-0x146e+0xb*0x4c1)return!(0x1*0x2405+-0x1*-0x1a67+-0x3e6b);}return!(-0x1*0x120a+-0x60b+0x1815);}['containsSp'+'here'](_0x250570){const {center:_0xb9a892,radius:_0x3a6db}=_0x250570;let _0x4d383d=0x1afc+0x250f+-0x400b;for(let _0x9b935c=-0xa8c+-0x959+0xb*0x1cf;_0x9b935c<0x960*0x3+-0x2*0xfb8+-0x7a*-0x7;_0x9b935c++){const {normal:_0x112f36,distance:_0x5b3b8c}=this['planes'][_0x9b935c],_0x4ac491=_0x112f36['dot'](_0xb9a892)+_0x5b3b8c;if(_0x4ac491<=-_0x3a6db)return-0x1ae1*-0x1+-0x131b+-0x3e3*0x2;_0x4ac491>_0x3a6db&&_0x4d383d++;}return _0x4d383d===-0x1a7a+-0x9*-0x100+0x1180?-0x26*0x103+0x18c3+0xdb1:-0xe06+-0x1*0xcaa+0x1ab1;}}class uu{constructor(_0x23d17a,_0xfebec8){c(this,'origin',new T()),c(this,'direction',T['FORWARD']['clone']()),(_0x23d17a&&this['origin']['copy'](_0x23d17a),_0xfebec8&&this['direction']['copy'](_0xfebec8));}['set'](_0x216281,_0x38fc38){return this['origin']['copy'](_0x216281),this['direction']['copy'](_0x38fc38),this;}['copy'](_0x1e9276){return this['set'](_0x1e9276['origin'],_0x1e9276['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const cc='linear',Ff='inverse',cy='exponentia'+'l',tt=0x4e1+-0x26a1+0x21c0,ae=0x135d+0x1ae3+0x2e3f*-0x1,Of=-0x2*0x10af+0x19f*-0x1+-0x22ff*-0x1,kf=0x1ba6+0x1*-0x1591+0x9*-0xad,at=-0x31c+0x445*0x6+-0x1681,TS=0x1d64+-0x1d*0x137+0x1*0x5d9,dy=-0x24d6+0x348+-0x10c9*-0x2,AS=-0x17c9+-0x506+0x1cd4,dc=0x11f*0x6+0x2b*-0x1d+-0x1d5,uc=-0x1430+0x150f*0x1+-0xd7,Lt=-0x1e68+-0xa9*-0x7+0x11f*0x17,ES=0x24ea+0x5b5+-0x2a9d,CS=0x1240+-0x4a*-0x4d+-0x287f,MS=0x807*0x1+-0x8ef*-0x1+-0x10f2,jt=-0x3d*0x83+-0x1b*0x8f+0x1*0x2e4c,Th=-0x241c*0x1+-0x2f*-0x3d+-0x3*-0x84e,uy=0xe1a+-0x4f1+-0x1*0x927,PS=0x276+0x1feb+-0x35*0xa6,Co=-0x24f6+-0x5*-0x50b+0xbc0,Mo=0x8b6+0x4f0*0x3+-0x1ae*0xe,Ah=0x7a4*-0x5+0x231d+0x31b,mt=0x26c8+0x1607*0x1+-0x3ccf,rn=0x1701+0xd*0x133+-0x25*0x10b,mo=0x21cd+0x1061+0x152*-0x26,RS=0x29d*-0xd+-0x1b7f*-0x1+-0x97*-0xb,de=0x1*-0x258d+0xf4b+-0xe*-0x197,st=-0xd19*-0x1+0x691*-0x3+-0x13*-0x59,fc=0x1cfa+0x16ac+-0x33a4,pc=-0x263+0xdc0+0x5ad*-0x2,mc=-0x5*0x50c+0x4c7+0x6d3*0x3,nn=0x2a1+-0x3b8*0x5+0xffc,IS=0x1c1b*0x1+0x21b0*0x1+-0x3dcb,Eh=0x18c4*0x1+0x240f+-0x3cd2,Ch=0x1ce4+-0x1ec2+0x10*0x1e,fu=0x2216+0x1e4+0x3*-0xbfd,DS=0x5*-0x346+-0xfb*0xa+-0x10*-0x1a3,LS=-0x742*-0x4+-0x2612+0x90f,FS=0x235c+0x2196+-0x44ec,Ai=-0x5*-0x14f+-0x35*0x5+-0x57b,pu=0xfc7+-0x1*0x2254+0x128d*0x1,Pi=0x32c+0xf6e+0x633*-0x3,nr=0x5d4+0xe77+-0x1449,fy=0xa34+-0x221f+0x1d7*0xd,py=0x19*-0x121+-0x9fa+0x2634,Bf=0x4*0x93b+-0x1*0x160f+-0xedb,_c=0x1807+0x8b*-0x3b+0x1*0x805,Nf=0x26a0+-0x2*0x6a1+-0x195a,gc=0x1cef+0x56f+-0x2259,dr=0x1765+-0x16e8+-0x11*0x7,Se=0x1de8+-0x16f5+-0x1bb*0x4,yc=0x117f*0x1+0x1*0x3bb+-0x1532,zf=0x319+0x1e9*-0xd+0x15c5*0x1,$o=0xc*0x1f4+0x550+0xe5b*-0x2,xc=-0x1ce4*-0x1+0x7f9+0xc46*-0x3,Je=-0x8*-0x38a+-0xc*0x18+0x243*-0xc,Sc=-0x1447+-0x6bd*-0x2+0x6da,Ke=0x2*-0x855+0x2621+-0x1569,Ii=0x148e+0x213*-0x7+0x5*-0x132,Ci=-0x101e*0x2+0x601+-0x1*-0x1a4b,vc=0x1e78+0x586+0x1*-0x23ed,_a=-0x242c+0x20a1+0x39d,Uf=0x67*-0xf+-0x26d2+0x2cee,rs=-0x25e*0x2+-0x8f*0x1e+0x1592,bc=0x1e3d+-0x47*-0x2+-0x1eb6,Vf=0x1c5a+0x4dc*0x1+0xa0*-0x35,Gf=0x2151+0x94a+0x6*-0x716,qo=-0x15a7+-0x148f+-0x11d*-0x26,Xo=-0xe*0xfc+0x43*-0x67+0x28d6,wc=-0x2384+0x2551*-0x1+0x48ef*0x1,Tc=-0x14fb+-0x157e+0x2a94,my=0x2*0xd6d+-0x1432+0x1*-0x68c,_y=0x40f*0x3+-0x1548+0x938,gy=0x1d5d+-0x1*0x41e+0x1921*-0x1,yy=0x488+0x10c*-0x21+0x1e23,Hf=0xe58+0x14*-0xf1+0x49c,xy=0x2451+-0x1220+0x110*-0x11,Wf=0x1*-0xb7b+0x2*0xc5c+-0x1*0xd1b,$f=-0x3*0x4ff+0xd1f+0x201,qf=0x128a+-0x1c49*0x1+0x1*0x9e3,an=-0x1b*-0x5a+0x219e+-0x2af7,Xf=-0x1*0x61b+0x1b*0x49+-0x172,Sy=0x16a*-0xa+0x219d*-0x1+0x2fe8,jf=0x161+0x1*-0x16c3+0x158a,Yf=-0x901*0x4+-0x124c*-0x2+0x1*-0x6b,Kf=0xd*0x231+0x7*0x1af+-0x44*0x97,Zf=-0x19e*-0x2+-0x249b+-0x3ba*-0x9,Qf=-0x5a2+-0x1*-0x475+0x159,vy=0x67*0x7+-0x1125+0x4f*0x2f,Jf=0x2*-0xe64+-0x180+0x7*0x45a,Ac=0x5f*0x52+-0x1*0x1e51+-0x2*-0x9,ep=-0x6*-0x5dd+0xe31+-0x312f,ut=0x9a7*0x2+-0xbc8+-0x755,Ec=-0xbf1+-0x1b59+0x277c,tp=-0x91+0x2247+-0x2183,sp=0xdf*-0x8+-0x16a*-0x12+-0x48*0x41,ip=-0x1*-0xeff+0x1534+-0x23fe,mu=0x1924+0x148c+-0x2d7a,_u=-0xe0*-0x25+-0x8*0x4a3+0x4ef,gu=-0xd51+-0x1c9d*0x1+0x2a26,yu=0x1*-0x736+0x29*-0xe1+0x2b7c,xu=0x176a+0x671+-0x1d9d,Su=0x72f+-0x213f*0x1+-0xf*-0x1c1,by=-0x14c2+0x13*-0x1a3+0x341b,wy=-0x1*0x541+0x3f*-0x8+0x77a,Ty=0x1238+-0x1aef+-0x8f9*-0x1,Ay=-0x4*-0x227+-0x13d5*0x1+0xb7c,vu=0x6e5+0x2*0x63d+0x1*-0x131b,la=-0x38a*0x9+-0x4a9*0x1+0x24c8,xt=new Map([[fy,{'name':'A8','size':0x1,'ldr':!(-0x690+0xc78+-0x5e8)}],[sp,{'name':'R8','size':0x1,'ldr':!(0x121a*0x1+-0x9*0x33d+0xb0b)}],[py,{'name':'L8','size':0x1,'ldr':!(0x25bf*-0x1+0x247*0x1+0x2378)}],[Bf,{'name':'LA8','size':0x2,'ldr':!(-0x293*0xd+-0x17aa+-0x130b*-0x3)}],[ip,{'name':'RG8','size':0x2,'ldr':!(0xb*0x37f+0x6*0x620+-0x4b35)}],[_c,{'name':'RGB565','size':0x2,'ldr':!(-0x2*0x83+-0x591+0x697)}],[Nf,{'name':'RGBA5551','size':0x2,'ldr':!(0x1*-0xfa3+0xb*0x177+-0x7a)}],[gc,{'name':'RGBA4','size':0x2,'ldr':!(-0x13bd*-0x1+0x26c*-0x8+-0x5d)}],[dr,{'name':'RGB8','size':0x4,'ldr':!(-0x9+0xca5+-0xc9c)}],[Se,{'name':'RGBA8','size':0x4,'ldr':!(0x1*0x18eb+-0x1411+-0x4da),'srgbFormat':rs}],[Ec,{'name':'R16F','size':0x2}],[tp,{'name':'RG16F','size':0x4}],[xc,{'name':'RGB16F','size':0x8}],[Je,{'name':'RGBA16F','size':0x8}],[Sc,{'name':'RGB32F','size':0x10}],[Ke,{'name':'RGBA32F','size':0x10}],[Ii,{'name':'R32F','size':0x4}],[Ci,{'name':'DEPTH','size':0x4}],[la,{'name':'DEPTH16','size':0x2}],[vc,{'name':'DEPTHSTENC'+'IL','size':0x4}],[_a,{'name':'111110F','size':0x4}],[Uf,{'name':'SRGB8','size':0x4,'ldr':!(0x1ede+-0x1806+-0x6d8*0x1),'srgb':!(0x1*-0x24d+-0x328*-0x8+0xeb*-0x19)}],[rs,{'name':'SRGBA8','size':0x4,'ldr':!(0x1b*0x8e+-0x845+0x65*-0x11),'srgb':!(-0x2a2+-0x6d*0xc+0x7be)}],[yy,{'name':'BGRA8','size':0x4,'ldr':!(0x1710+-0x8*0x1d6+0x10c*-0x8)}],[by,{'name':'SBGRA8','size':0x4,'ldr':!(0x1*-0x1fc7+-0xd22+-0x2ce9*-0x1),'srgb':!(-0x1ce3+0x23b*0x11+-0x908)}],[yc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x1*0x622+0x2200+-0x2822),'srgbFormat':mu}],[zf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x21c*-0xb+-0x26e+0x19a2),'srgbFormat':_u}],[$o,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x7dc+0x118*-0x22+0x4*0xb43),'srgbFormat':gu}],[bc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x2517+-0xa94+0x2fab)}],[Vf,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x1258+0x5d9*0x1+-0x233*0xb),'srgbFormat':yu}],[Gf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0x43+0x1790+-0x17d3),'srgbFormat':xu}],[qo,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x4*-0x688+-0x1240*-0x1+0x7e*0x10),'blockSize':0x8}],[Xo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0x18ba+0x90f*-0x1+0x9*0x3c1),'blockSize':0x8}],[wc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(-0x3*-0xcfb+0xf8*-0x17+-0x355*0x5),'blockSize':0x8}],[Tc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x1*-0x1ca2+-0x236b*-0x1+-0x1*0x400d),'blockSize':0x8}],[my,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0xbb*-0x23+-0x3*0x3bf+-0xe54),'srgbFormat':Su}],[_y,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x195c+-0x9*0x102+0x226e)}],[gy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x323*0x1+0x5*-0x2c0+0xb*0xf7)}],[wy,{'name':'BC6H_RGBF','blockSize':0x10}],[Ty,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ay,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x241c+0x9dd+0x1a3f),'srgbFormat':vu}],[mu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0xe59+0x3d1*0x9+-0x30b2*0x1),'srgb':!(-0x1*0x2309+0xae1+0x1828)}],[_u,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0xa0+0x2*-0x108f+0x21be),'srgb':!(-0x3*-0xcf1+0x13*0x85+-0x30b2)}],[gu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0xb*-0x2e9+0x2f5*0x1+0x1*0x1d0e),'srgb':!(0x342+-0x1d2c+-0x2*-0xcf5)}],[yu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x2*0x595+-0x26b5+0x11*0x2ef),'srgb':!(-0x12a4+-0xca9+0x1f4d)}],[xu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(-0x1821+-0x977*-0x1+0x2*0x755),'srgb':!(-0xefd+0x2d4*0x7+-0x4cf*0x1)}],[Su,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x7bd+-0x1*0x160f+0x3*0x4c6),'srgb':!(0x1f*-0x7+0x2031+-0x1f58)}],[vu,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0xb48*-0x3+-0x1109+0x32e1),'srgb':!(-0x115f*0x2+-0x1a66+0x3d24)}],[Hf,{'name':'R8I','size':0x1,'isInt':!(-0x26ce+0x764+-0x1f6a*-0x1)}],[xy,{'name':'R8U','size':0x1,'isInt':!(-0x14ce+0x90d+-0x33*-0x3b)}],[Wf,{'name':'R16I','size':0x2,'isInt':!(0xba8+-0x7*-0x4fb+-0x2e85*0x1)}],[$f,{'name':'R16U','size':0x2,'isInt':!(0x19f3+0xf6+-0x1ae9)}],[qf,{'name':'R32I','size':0x4,'isInt':!(0x21b8*0x1+0x5ca+-0x2782)}],[an,{'name':'R32U','size':0x4,'isInt':!(0x1fac+0x1*-0x1e29+-0x183)}],[Xf,{'name':'RG8I','size':0x2,'isInt':!(-0x10f9+-0x3*-0x280+0x5*0x1e5)}],[Sy,{'name':'RG8U','size':0x2,'isInt':!(-0x2*-0xc13+0x1720+-0x2f46)}],[jf,{'name':'RG16I','size':0x4,'isInt':!(-0x1e83+0xe27+0x105c*0x1)}],[Yf,{'name':'RG16U','size':0x4,'isInt':!(0x1040+-0x1ad8+-0x2a6*-0x4)}],[Kf,{'name':'RG32I','size':0x8,'isInt':!(-0x6*0x2a2+-0x8dc+0x18a8)}],[Zf,{'name':'RG32U','size':0x8,'isInt':!(-0x37*-0x35+0x6*0x50+0x23*-0x61)}],[Qf,{'name':'RGBA8I','size':0x4,'isInt':!(0x20a2+-0x31*0xb9+-0x1*-0x2c7)}],[vy,{'name':'RGBA8U','size':0x4,'isInt':!(0x4c*-0x3+0x1afc+-0x1a18)}],[Jf,{'name':'RGBA16I','size':0x8,'isInt':!(0x130b+0x11c1+-0x24cc)}],[Ac,{'name':'RGBA16U','size':0x8,'isInt':!(-0xcd6+-0x2030+0x71*0x66)}],[ep,{'name':'RGBA32I','size':0x10,'isInt':!(0x7a0+0x3a6+-0xb46)}],[ut,{'name':'RGBA32U','size':0x10,'isInt':!(-0xc75*-0x2+-0x567+-0x1383)}]]),OS=_0x1db557=>{var _0x3df72b;return((_0x3df72b=xt['get'](_0x1db557))==null?void(-0x171e+-0x4f*-0x29+-0x37d*-0x3):_0x3df72b['blockSize'])!==void(-0xda*-0x29+-0x4d9*0x1+-0x1e11);},Mh=_0x4d39e3=>{var _0x3b4c31;return((_0x3b4c31=xt['get'](_0x4d39e3))==null?void(-0xa1d*-0x2+0x265*0x3+-0x1b69):_0x3b4c31['srgb'])===!(-0x13ba+0xb1*0x1b+0x10f);},ea=_0x28e2d1=>{var _0x4bb89b;return((_0x4bb89b=xt['get'](_0x28e2d1))==null?void(0x19*0x164+-0x3f9+0x1ecb*-0x1):_0x4bb89b['isInt'])===!(0x169d+-0x11ce*0x1+-0x4cf);},Cc=_0x1d8d89=>{var _0x148fda;return((_0x148fda=xt['get'](_0x1d8d89))==null?void(-0x1e3d+0x2*0xa5e+0x32b*0x3):_0x148fda['srgbFormat'])||_0x1d8d89;},kS=_0x22a75f=>{for(const [_0xb97114,_0x3fa1a2]of xt)if(_0x3fa1a2['srgbFormat']===_0x22a75f)return _0xb97114;return _0x22a75f;},Ey=_0x257292=>{const _0x3a043a=xt['get'](_0x257292);return!!(_0x3a043a!=null&&_0x3a043a['ldr']&&!(_0x3a043a!=null&&_0x3a043a['srgb']));},Cy=_0x5c0fb5=>{switch(_0x5c0fb5){case Ii:case Sc:case Ke:return Float32Array;case qf:case Kf:case ep:return Int32Array;case an:case Zf:case ut:return Uint32Array;case Wf:case jf:case Jf:return Int16Array;case ip:case $f:case Yf:case Ac:case _c:case Nf:case gc:case Ec:case tp:case xc:case Je:return Uint16Array;case Hf:case Xf:case Qf:return Int8Array;default:return Uint8Array;}},Mc=-0x374*-0x8+0x1376+-0x6*0x7d9,Pc=0xcf3*0x3+0x507+-0x2bdf*0x1,My=-0xc77*-0x2+0x1*0x20d5+-0xb8d*0x5,Py=-0x9f9+-0x1239+-0x3*-0x967,Ms=0xd78+0x2a8+-0x101c,ar=-0x199*0x3+-0x1dd6+0x377*0xa,Yr=0x51*0x33+-0x19ea*0x1+-0x9cd*-0x1,He='POSITION',Yt='NORMAL',Zs='TANGENT',Ys='BLENDWEIGH'+'T',qt='BLENDINDIC'+'ES',At='COLOR',om='TEXCOORD',ns='TEXCOORD0',_n='TEXCOORD1',jo='TEXCOORD2',Yo='TEXCOORD3',Ko='TEXCOORD4',Zo='TEXCOORD5',Qo='TEXCOORD6',Jo='TEXCOORD7',bu='ATTR0',wu='ATTR1',Ry='ATTR2',Iy='ATTR3',Dy='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Po='ATTR8',Ro='ATTR9',US='ATTR10',VS='ATTR11',rp='ATTR12',ga='ATTR13',np='ATTR14',ya='ATTR15',Ly=-0xe5b+0x9*-0xf0+0x16cc,ha=-0x1312+-0x66*0x1b+0x4*0x775,GS=-0x2*0x377+-0x7*-0x4a9+-0x19af,HS=-0x227d+0x1a21+-0x1*-0x85f,WS=0x2*0x313+0x418+-0xa39,yl=-0x1e51+-0xc26+-0x2a77*-0x1,Fy=-0x16f1+-0x1c5d+0x163*0x25,rd=0x26d3+0x146a+-0x3b3b,Di='default',on='rgbm',ap='rgbe',Io='rgbp',op='swizzleGGG'+'R',Tu=-0x1c50+-0x1efa+0x2b*0x161,ur=-0x274*-0x8+0xf*-0x1da+0x828,Oy=0x3dd*-0x8+-0x1fc+-0x20e7*-0x1,Us='2d',$S='2d-array',qS='cube',XS='3d',oh=-0x1*-0x9c7+0x1fc1+-0x2988,nd=0xabe+0x4ff*0x6+-0x28b7,jS=-0xfb*0xf+-0x918+0x17cf,YS=-0x3e4+-0xc0b*0x1+0xd*0x13a,KS=-0x36a+0x21ed+-0xd3*0x25,ZS='none',Au='cube',lm='equirect',QS='octahedral',ky='glsl',Ph='wgsl',Rc=-0x3a*0x7e+0x3*-0x281+-0x240f*-0x1,Kr=-0xa85*-0x3+-0x1f6c+-0x22,Ic=-0x9f*-0x3e+0x1746*-0x1+-0x79d*0x2,el=-0x1f0a+-0x246f+0x437c,By=-0x263*-0x1+-0xdfa+0xb9b,Do=0x1*-0x1528+-0x9cb*0x1+0x1ef8,Ee=0x1*-0x119c+0x1ef9+0x5*-0x2ab,ca=0x25e2+0x10*0x1+-0x25f2,ln=0x2e3*-0x2+-0x1dcf+-0x11cb*-0x2,$s=-0x8*-0xf3+0x63b*0x5+0x26bd*-0x1,or=0x1a4d+-0x2245*0x1+0x7fb,$t=0x1e77+0x1199+-0x1ec*0x19,xa=0x1254+-0x24cd+-0x20e*-0x9,Zr=0xbbf+0x51c*0x1+-0x10d5,Qr=-0x163+0x2b9+0x1*-0x14f,Jr=0xc93+0x1*0x13f3+-0x103f*0x2,Lo=0xe*-0x202+-0xf1d+-0x7*-0x62e,Fo=0x15ef+0x2*-0x346+-0x1*0xf59,Oo=0x1101+-0x1*0x869+0x88d*-0x1,Rh=0x4*-0x87e+0x23*0x35+0x1ac5,ko=0x3*-0xaa1+0x25*-0x57+0x2c83,Sa=-0xebe+0x13f2+-0x526,JS=-0x1c65+0xc45*-0x2+0x34fe,ev=-0x15ec+0xb25+0xad7,Dc=-0xdc*0x24+0xeb7+-0x1e*-0x8b,tv=0x2*-0xf07+-0x24e*0x2+0x22bc,sv=-0x1*0x15b5+-0xf93+0x255b,iv=-0x491*-0x5+0x1*-0x1ced+0x62c,Lc=-0x21a7+-0x10c6+0x3282,Fc=0x13*-0x53+-0x16c9+0x1d08,lp=0x1*-0x187f+-0x1efb+0x3791,Ny=0x1f30+0xcf+-0x1fe7,rv=-0x12a+0x505*-0x5+0x1*0x1a5c,va=0x1233+-0xf*-0x283+0x79*-0x76,ba=0x2*0x7e3+0x2*-0xc5e+-0xd3*-0xb,wa=-0x42f+0x6e*-0x4e+0x25cf,Ta=-0x15e7+0x19ba+-0x3b6,Aa=-0x251*0x1+-0x1d0*-0xb+0x1181*-0x1,Oc=-0x893*0x1+0x1f1a+-0x1668,kc=-0x9*0x2de+0x1*0x75a+0x1294,Ea=-0x5fb*0x2+0x23f5*0x1+-0x5e*0x41,Bc=-0x19*-0xb0+0x1af3*-0x1+-0x1*-0x9e5,Nc=0x134*0x9+-0x883*-0x3+0x121d*-0x2,Ca=-0x670*0x1+-0x6b0*-0x4+0x142c*-0x1,zc=-0x27*0xe9+-0x1134+0x13*0x2c8,Uc=0xf*-0x91+-0x6*0xd6+0x10d*0xd,Ih=0x1a2b+-0x7a*0x25+-0x862,hp=-0x6e2+0x18d+0x57d,cp=0x63c+0x23fa+-0x5*0x869,nv=0x12f9+0x30+-0x1*0x12ff,av=0x218c+-0x91*0xf+-0x1a*0xf5,ov=-0x26b*0x2+-0x15*0x12b+0x1d89,lv=0x1*-0x86a+-0x234c+0x2be3,hv=0x2021+0xe*-0x2c5+-0x1*-0x6d3,cv=-0x505*-0x6+0x673*-0x3+-0x1*0xa96,dv=0x20db+-0x2b*-0x16+-0x245d,uv=-0x1*0xd57+0x7*0x346+-0x962,dp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0xa91f30,_0xa53db7)=>{_0xa91f30['forEach'](_0x31e6fb=>pv['set'](_0x31e6fb,_0xa53db7));});const mv='webgl2',up=0xe3*-0xd+0xe1b+-0x293,li=0x1d39*0x1+0x7*-0x12b+0x2*-0xa85,_v=0x1450+0x58d*0x5+-0x300d*0x1,gv='ldr',zy=-0x2b6+-0x16e*-0xb+-0x1*0xd03,Uy=0xc7*0x2c+0x2114+0xda*-0x4f,Vy=0x1*0x16f7+0x1364+-0xe1d*0x3,Gy=0x93b*0x2+0x3*0x503+-0x2177,Hy=-0x9bc+0x29f+0x72d,Wy=-0x2e4+0xc25+-0x921,$y=0x10*-0x1af+-0xf97+-0x2f*-0xe9,qy=0xd91+0x1*-0x14b3+0x7a2,yv=-0x226a+-0x2450+0x2b*0x1ab,Dh=0x1*0xfd2+0x4*-0x68c+0x52f*0x2,Xy=0xa*-0x290+-0x3*-0xe3+0x16f8,Eu=-0x413+-0x1f7c+0x2391,xv=['view','mesh','mesh_ub'],fp='default',da=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],_o=[0xc69+-0xe52+0x1ea,0x1033*0x2+0xb7*-0xf+-0x15ac,0x2430+0x1*0xcf2+0x20*-0x189,0x1*0x209+-0x11e+-0xe9*0x1,0x137*0xb+0x18*-0x7f+-0x171*0x1,0x1607+0x1*0x114d+-0x11*0x250,0x9f7*-0x2+-0x566*0x3+0x2424,0x27*0xb4+0x21af+0x1*-0x3d19],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Lh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0xd86+-0x1*-0x46d+0x91a,-0x1370+0x1b*0xba+0x16*-0x2,0x26d6+0x286+-0xd8*0x31],ve={};ve[He]=0x15*0x29+-0xbde+0x881,ve[Yt]=-0x26d0*0x1+-0x1*-0x1ec7+-0x2*-0x405,ve[Ys]=0x8e*0x23+-0x59*-0x5b+-0x330b,ve[qt]=0x2359+-0x1389+-0xfcd,ve[At]=0x124+-0xf24*-0x2+-0x1f68,ve[ns]=0x23f7+-0xef5+-0x14fd,ve[_n]=-0x6*0x2ea+-0x2e0*0xb+-0x26*-0x14b,ve[jo]=-0x2*0xbce+0x66a*-0x4+-0x314b*-0x1,ve[Yo]=-0x1*0x1521+-0x2f1*0x3+0x4*0x77f,ve[Ko]=0xc8+-0x1*0x2125+0x2066,ve[Zo]=0x1058+0x1c2b*-0x1+-0x1*-0xbdd,ve[Qo]=-0x3b2+-0x1db9+-0x10bb*-0x2,ve[Jo]=0xbbe+-0x16*-0x11a+0xe*-0x291,ve[Zs]=0x6*-0x527+-0x1bac+0x3aa3,ve[bu]=-0xb01+-0x269a+-0x583*-0x9,ve[wu]=-0x4f*0x77+0x3b*0xa9+-0x239,ve[Ry]=-0xfe6+0x18ce+-0x8e6,ve[Iy]=-0x47f*0x1+0x2668+-0x21e6,ve[Dy]=0x2192+0x1775+-0x3cd*0xf,ve[BS]=0x2c8+0x123*-0x4+0x1c9*0x1,ve[NS]=-0x1528+0x13c7+-0x167*-0x1,ve[zS]=-0x1*0x145d+-0x7f*0x49+0x1*0x389b,ve[Po]=-0x5*0x263+0x413+0xa*0xca,ve[Ro]=-0x1*0x12db+0x1b41*0x1+-0x85d,ve[US]=-0x1756+-0xbed*-0x1+0x3d1*0x3,ve[VS]=-0x1246+-0x4a3*0x3+0x203a,ve[rp]=0x452+-0x1d01+0x18bb,ve[ga]=0x24d3+-0x1d3e+0x3c4*-0x2,ve[np]=-0x4*-0x2ed+-0x268+-0xa9*0xe,ve[ya]=-0x116e+-0x3*-0xaa5+-0xe72;const Ui='1.51',wi='1.55',_r='1.56',St='1.57',ad='1.60',me='1.62',hi='1.65',hm='1.70',cm='2.1',bv='2.3',wn='2.5',Ki=class Ki{static['clearGpuMa'+'rkers'](){Ki['markers']['length']=-0xaee*-0x1+-0x55b+-0x593;}static['pushGpuMar'+'ker'](_0x316142,_0x219cbc){Ki['markers']['push'](_0x219cbc),_0x316142['pushMarker'](_0x219cbc);}static['popGpuMark'+'er'](_0x338e8e){Ki['markers']['length']&&Ki['markers']['pop'](),_0x338e8e['popMarker']();}static['toString'](){return Ki['markers']['join']('\x20|\x20');}};c(Ki,'markers',[]);let G=Ki,wv=0x35d*0x1+0xe75*-0x2+-0x1f*-0xd3;const Tv={[Us]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class Vc{constructor(_0x5ad565,_0x549b32){c(this,'slot',-(-0x146f*-0x1+-0xbee+0x1*-0x880)),c(this,'scopeId',null),(this['name']=_0x5ad565,this['visibility']=_0x549b32);}}class pp extends Vc{}class Av extends Vc{constructor(_0x2504f8,_0x562992,_0x32b991=!(0x1934+-0x1864+0xcf*-0x1)){super(_0x2504f8,_0x562992),c(this,'format',''),(this['readOnly']=_0x32b991,v['assert'](_0x32b991||!(_0x562992&up),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class fi extends Vc{constructor(_0x5b72d9,_0x6dffe1,_0x1df8a7=Us,_0x12b312=oh,_0x4b001a=!(-0x1ac8+0x2a5+0x1823),_0xeb789e=null){super(_0x5b72d9,_0x6dffe1),this['textureDim'+'ension']=_0x1df8a7,this['sampleType']=_0x12b312,this['hasSampler']=_0x4b001a,this['samplerNam'+'e']=_0xeb789e??_0x5b72d9+'_sampler';}}class Ev extends Vc{constructor(_0x4b6902,_0x2c856a=Se,_0x507b6b=Us,_0x3712f0=!(-0x15bd+-0x11b5+0x2772),_0x5b9d4d=!(0x4*-0x114+0x40*-0xf+0x811)){super(_0x4b6902,_v),this['format']=_0x2c856a,this['textureDim'+'ension']=_0x507b6b,this['write']=_0x3712f0,this['read']=_0x5b9d4d;}}class jy{constructor(_0x1af751,_0x49dd63){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,mn['setName'](this,'BindGroupF'+'ormat_'+this['id']),v['assert'](_0x49dd63));let _0x32a663=0x597*0x1+0x4e3+-0x1bf*0x6;_0x49dd63['forEach'](_0x3e81b0=>{_0x3e81b0['slot']=_0x32a663++,_0x3e81b0 instanceof fi&&_0x3e81b0['hasSampler']&&_0x32a663++,_0x3e81b0 instanceof pp?this['uniformBuf'+'ferFormats']['push'](_0x3e81b0):_0x3e81b0 instanceof fi?this['textureFor'+'mats']['push'](_0x3e81b0):_0x3e81b0 instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x3e81b0):_0x3e81b0 instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x3e81b0):v['assert']('Invalid\x20bi'+'nd\x20format',_0x3e81b0);}),this['device']=_0x1af751;const _0x409a00=_0x1af751['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x3849d4,_0x2a3b1f)=>this['bufferForm'+'atsMap']['set'](_0x3849d4['name'],_0x2a3b1f)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x43492b,_0x282124)=>{this['textureFor'+'matsMap']['set'](_0x43492b['name'],_0x282124),_0x43492b['scopeId']=_0x409a00['resolve'](_0x43492b['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x301c39,_0x3aaad8)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x301c39['name'],_0x3aaad8),_0x301c39['scopeId']=_0x409a00['resolve'](_0x301c39['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x1d70bc,_0x140488)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x1d70bc['name'],_0x140488),_0x1d70bc['scopeId']=_0x409a00['resolve'](_0x1d70bc['name']);}),this['impl']=_0x1af751['createBind'+'GroupForma'+'tImpl'](this),v['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x5b8238){const _0x1851d9=this['textureFor'+'matsMap']['get'](_0x5b8238);return _0x1851d9!==void(-0x17+-0xe*0x25f+-0x1*-0x2149)?this['textureFor'+'mats'][_0x1851d9]:null;}['getStorage'+'Texture'](_0x5be697){const _0x4b600a=this['storageTex'+'tureFormat'+'sMap']['get'](_0x5be697);return _0x4b600a!==void(-0xc*-0xf0+-0x89*-0x3c+0x32*-0xde)?this['storageTex'+'tureFormat'+'s'][_0x4b600a]:null;}['getShaderD'+'eclaration'+'Textures'](_0x1bbb34){let _0x414075='';return this['textureFor'+'mats']['forEach'](_0x48fb88=>{let _0x75e090=Tv[_0x48fb88['textureDim'+'ension']];v['assert'](_0x75e090,'Unsupporte'+'d\x20texture\x20'+'type',_0x48fb88['textureDim'+'ension']);const _0x1971b2=_0x75e090==='texture2DA'+'rray',_0x21f6a6=_0x48fb88['sampleType']===KS?'u':_0x48fb88['sampleType']===YS?'i':'';_0x75e090=''+_0x21f6a6+_0x75e090;let _0x204518='',_0x313a2b='';_0x1971b2&&(_0x204518='_texture',_0x313a2b='#define\x20'+_0x48fb88['name']+'\x20'+_0x21f6a6+('sampler2DA'+'rray(')+_0x48fb88['name']+_0x204518+',\x20'+_0x48fb88['name']+'_sampler)\x0a'),_0x414075+='layout(set'+'\x20=\x20'+_0x1bbb34+(',\x20binding\x20'+'=\x20')+_0x48fb88['slot']+')\x20uniform\x20'+_0x75e090+'\x20'+_0x48fb88['name']+_0x204518+';\x0a',_0x48fb88['hasSampler']&&(_0x414075+='layout(set'+'\x20=\x20'+_0x1bbb34+(',\x20binding\x20'+'=\x20')+(_0x48fb88['slot']+(-0x150d+0x1dd+0x1331))+(')\x20uniform\x20'+'sampler\x20')+_0x48fb88['name']+'_sampler;\x0a'),_0x414075+=_0x313a2b;}),_0x414075;}['loseContex'+'t'](){}}class Ot{constructor(){c(this,'_cache',new Map());}['get'](_0x14ca3a,_0x1b6dd0){return this['_cache']['has'](_0x14ca3a)||(this['_cache']['set'](_0x14ca3a,_0x1b6dd0()),_0x14ca3a['on']('destroy',()=>{this['remove'](_0x14ca3a);}),_0x14ca3a['on']('devicelost',()=>{var _0x42b0f0,_0x273e60;(_0x273e60=(_0x42b0f0=this['_cache']['get'](_0x14ca3a))==null?void(0x2*0x33a+-0x4*0x525+0xe20):_0x42b0f0['loseContex'+'t'])==null||_0x273e60['call'](_0x42b0f0,_0x14ca3a);})),this['_cache']['get'](_0x14ca3a);}['remove'](_0x367ef9){var _0x748c1e,_0x3b1636;(_0x3b1636=(_0x748c1e=this['_cache']['get'](_0x367ef9))==null?void(0x967+-0xc1a+0x2b3):_0x748c1e['destroy'])==null||_0x3b1636['call'](_0x748c1e,_0x367ef9),this['_cache']['delete'](_0x367ef9);}}class Mi{static['calcLevelD'+'imension'](_0x2677e4,_0x4b127a){return Math['max'](_0x2677e4>>_0x4b127a,-0x11ef+-0x457+-0x3*-0x76d);}static['calcMipLev'+'elsCount'](_0x955fd7,_0x2f68ef,_0x1c5a8a=-0x20e5+0x2b6*-0x3+0x1a*0x194){return-0x22e+0xd7e+-0x3*0x3c5+Math['floor'](Math['log2'](Math['max'](_0x955fd7,_0x2f68ef,_0x1c5a8a)));}static['calcLevelG'+'puSize'](_0x695396,_0x1d883d,_0x31fa8d,_0x37e07d){var _0x4b8ad2;const _0x4760c1=xt['get'](_0x37e07d);v['assert'](_0x4760c1!==void(-0x1cb3+0xef*0x2+0x1*0x1ad5),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x37e07d);const _0x5cc4e3=((_0x4b8ad2=xt['get'](_0x37e07d))==null?void(0x44+-0x1*-0x1864+-0x20e*0xc):_0x4b8ad2['size'])??0x26b9+-0x11*0x10a+-0x150f;if(_0x5cc4e3>-0x9*-0x220+-0x21a9*-0x1+-0x34c9)return _0x695396*_0x1d883d*_0x31fa8d*_0x5cc4e3;const _0x3e4816=_0x4760c1['blockSize']??-0x1f93+0x6*0x459+-0x119*-0x5;let _0x2c45d3=Math['floor']((_0x695396+(0x1c02+0x1*-0x236+-0x11f*0x17))/(0x21d0+-0x29*-0xed+-0x9*0x7f9));const _0x10e5bd=Math['floor']((_0x1d883d+(0x1ea*0x10+0x1d20+-0x3bbd))/(0xb*0x14a+-0x16ec+-0x2*-0x461)),_0x152815=Math['floor']((_0x31fa8d+(-0x1591*-0x1+0x1*0x105d+-0x25eb))/(0xc9d*0x3+0xd0b+0x11*-0x2fe));return(_0x37e07d===qo||_0x37e07d===Xo)&&(_0x2c45d3=Math['max'](Math['floor'](_0x2c45d3/(0x80a+-0x25cf+-0x63*-0x4d)),-0x8*-0x7f+0x6*-0x584+0x1d21)),_0x2c45d3*_0x10e5bd*_0x152815*_0x3e4816;}static['calcGpuSiz'+'e'](_0x14f967,_0x424b2e,_0x161771,_0x3c7e77,_0x49c2da,_0x4056d4){let _0xc6b5b7=0x1dcc+-0x2172+0x1*0x3a6;for(;_0xc6b5b7+=Mi['calcLevelG'+'puSize'](_0x14f967,_0x424b2e,_0x161771,_0x3c7e77),!(!_0x49c2da||_0x14f967===0x98a*-0x2+0x12da*0x2+-0x129f&&_0x424b2e===0x6cc+0x196a+-0x11*0x1e5&&_0x161771===0x1f9e+0x3*-0x9f3+-0x1c4*0x1);)_0x14f967=Math['max'](_0x14f967>>-0x4a*-0x23+-0x1003*-0x1+-0x1a20,0x1d45+0x111e+0xf76*-0x3),_0x424b2e=Math['max'](_0x424b2e>>-0x15*0x182+-0xa70+0xe09*0x3,-0x2491+0x23*0x10d+0x35*-0x1),_0x161771=Math['max'](_0x161771>>-0x1*-0xfe9+0x3*0x963+-0x1*0x2c11,0x3f1+0x1fa7+-0x2397);return _0xc6b5b7*(_0x4056d4?-0x2523*-0x1+-0x45*-0x26+-0x2f5b:0x719+0x1e4c+-0x2564);}}let Cv=-0x61*-0x3+0x12f4+0x25*-0x8b;class he{constructor(_0x203b28,_0x21f5dc={}){c(this,'name'),c(this,'_gpuSize',-0x1a47+-0x1*0x226d+0x2a*0x172),c(this,'id',Cv++),c(this,'_invalid',!(0x196*0x13+0x34a+-0x216b)),c(this,'_lockedLev'+'el',-(-0xa7f+0xf*0xd+0x9bd)),c(this,'_lockedMod'+'e',yl),c(this,'renderVers'+'ionDirty',-0x1*0x2604+-0x745+0x2d49*0x1),c(this,'_storage',!(-0x67*-0x53+-0x1acb+-0x699)),c(this,'_numLevels',0x2f*0x87+-0x22b1+0x9e8),c(this,'_numLevels'+'Requested');var _0x569e81;this['device']=_0x203b28,v['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),v['assert'](!_0x21f5dc['width']||Number['isInteger'](_0x21f5dc['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x21f5dc),v['assert'](!_0x21f5dc['height']||Number['isInteger'](_0x21f5dc['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x21f5dc),v['assert'](!_0x21f5dc['depth']||Number['isInteger'](_0x21f5dc['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x21f5dc),this['name']=_0x21f5dc['name']??'',this['_width']=Math['floor'](_0x21f5dc['width']??-0x1c48+-0x2651*0x1+0x429d),this['_height']=Math['floor'](_0x21f5dc['height']??-0xa92*-0x2+0x5b*0x10+-0x8f0*0x3),this['_format']=_0x21f5dc['format']??Se,this['_compresse'+'d']=OS(this['_format']),this['_integerFo'+'rmat']=ea(this['_format']),this['_integerFo'+'rmat']&&(_0x21f5dc['minFilter']=de,_0x21f5dc['magFilter']=de),this['_volume']=_0x21f5dc['volume']??!(0x1*0x1272+0x4ff*-0x1+-0xd72),this['_depth']=Math['floor'](_0x21f5dc['depth']??-0x26a6+-0x323+0x29ca),this['_arrayLeng'+'th']=Math['floor'](_0x21f5dc['arrayLengt'+'h']??0x7e+-0xa06*0x1+0x988),this['_storage']=_0x21f5dc['storage']??!(0x13*0xb5+-0x7d3*-0x4+0x165d*-0x2),this['_cubemap']=_0x21f5dc['cubemap']??!(0x137*0x3+-0x573+0x1cf),this['_flipY']=_0x21f5dc['flipY']??!(-0xcb4+-0x12c1*-0x1+0x60c*-0x1),this['_premultip'+'lyAlpha']=_0x21f5dc['premultipl'+'yAlpha']??!(-0x2*0xe5d+0x145a+0x861),this['_mipmaps']=_0x21f5dc['mipmaps']??!(-0xee*-0x28+0x11*-0xb+0x1*-0x2475),this['_numLevels'+'Requested']=_0x21f5dc['numLevels'],_0x21f5dc['numLevels']!==void(0x184a*-0x1+0x2094+-0x84a)&&(this['_numLevels']=_0x21f5dc['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x21f5dc['minFilter']??nn,this['_magFilter']=_0x21f5dc['magFilter']??st,this['_anisotrop'+'y']=_0x21f5dc['anisotropy']??-0x1a4b+0x1c21+-0x1d5,this['_addressU']=_0x21f5dc['addressU']??tt,this['_addressV']=_0x21f5dc['addressV']??tt,this['_addressW']=_0x21f5dc['addressW']??tt,this['_compareOn'+'Read']=_0x21f5dc['compareOnR'+'ead']??!(-0x2559+0x124a+0x50*0x3d),this['_compareFu'+'nc']=_0x21f5dc['compareFun'+'c']??Eh,this['type']=_0x21f5dc['hasOwnProp'+'erty']('type')?_0x21f5dc['type']:Di,v['assert'](!_0x21f5dc['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),v['assert'](!_0x21f5dc['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Au:_0x21f5dc['projection']&&_0x21f5dc['projection']!==Au&&(this['projection']=_0x21f5dc['projection']),this['profilerHi'+'nt']=_0x21f5dc['profilerHi'+'nt']??-0xdbe*-0x2+-0x6*0x617+0x90e,this['_levels']=_0x21f5dc['levels'];const _0x283f03=!!_0x21f5dc['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x283f03),_0x203b28['textures']['push'](this),v['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x569e81=xt['get'](this['format']))==null?void(-0x2f9*0x1+0x1*-0x10d+0x406):_0x569e81['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){v['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2b7888=this['device'];if(_0x2b7888){const _0x23d1d5=_0x2b7888['textures']['indexOf'](this);_0x23d1d5!==-(0x7c3*0x2+0x1*0x25af+-0x3534)&&_0x2b7888['textures']['splice'](_0x23d1d5,0xc5b*0x2+-0x9*0xd3+-0x1*0x114a),_0x2b7888['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x2b7888),this['adjustVram'+'SizeTracki'+'ng'](_0x2b7888['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x3739ab=!(0xa*0x3cb+-0xd80+-0x186e*0x1)){var _0x4677d3;const {device:_0x3c8e24}=this;(_0x4677d3=this['impl'])==null||_0x4677d3['destroy'](_0x3c8e24),this['impl']=null,this['impl']=_0x3c8e24['createText'+'ureImpl'](this),this['dirtyAll'](),_0x3739ab&&this['upload']();}['resize'](_0x3bb7e9,_0x12c02c,_0x34602a=-0xa23+0x59a+0x48a){const _0x1d79be=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x1d79be['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x1d79be),this['_width']=Math['floor'](_0x3bb7e9),this['_height']=Math['floor'](_0x12c02c),this['_depth']=Math['floor'](_0x34602a),this['_updateNum'+'Level'](),this['impl']=_0x1d79be['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x4d8720,_0x11042a){v['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x11042a+('\x20vram.text'+'ure:\x20')+_0x4d8720['tex']+'\x20=>\x20'+(_0x4d8720['tex']+_0x11042a)),_0x4d8720['tex']+=_0x11042a,this['profilerHi'+'nt']===Tu?_0x4d8720['texShadow']+=_0x11042a:this['profilerHi'+'nt']===ur?_0x4d8720['texAsset']+=_0x11042a:this['profilerHi'+'nt']===Oy&&(_0x4d8720['texLightma'+'p']+=_0x11042a);}['propertyCh'+'anged'](_0x37cdbe){this['impl']['propertyCh'+'anged'](_0x37cdbe),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x2d149b=this['mipmaps']?Mi['calcMipLev'+'elsCount'](this['width'],this['height']):0x9*0x395+0x1*-0x609+-0x1a33,_0x2cf6c5=this['_numLevels'+'Requested'];_0x2cf6c5!==void(-0x43d*-0x9+-0x1376+-0x12af)&&_0x2cf6c5>_0x2d149b&&v['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x2d149b,this),this['_numLevels']=Math['min'](_0x2cf6c5??_0x2d149b,_0x2d149b),this['_mipmaps']=this['_numLevels']>0x239+0x2*0xcb4+0x88*-0x34;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x282614){this['_minFilter']!==_0x282614&&(ea(this['_format'])?v['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x282614,this['propertyCh'+'anged'](zy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x1dd77c){this['_magFilter']!==_0x1dd77c&&(ea(this['_format'])?v['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x1dd77c,this['propertyCh'+'anged'](Uy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x5c6e76){this['_addressU']!==_0x5c6e76&&(this['_addressU']=_0x5c6e76,this['propertyCh'+'anged'](Vy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x4862c2){this['_addressV']!==_0x4862c2&&(this['_addressV']=_0x4862c2,this['propertyCh'+'anged'](Gy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x169a19){if(!this['_volume']){v['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x169a19!==this['_addressW']&&(this['_addressW']=_0x169a19,this['propertyCh'+'anged'](Hy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x3513eb){this['_compareOn'+'Read']!==_0x3513eb&&(this['_compareOn'+'Read']=_0x3513eb,this['propertyCh'+'anged'](Wy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x403a2f){this['_compareFu'+'nc']!==_0x403a2f&&(this['_compareFu'+'nc']=_0x403a2f,this['propertyCh'+'anged']($y));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x3939ee){this['_anisotrop'+'y']!==_0x3939ee&&(this['_anisotrop'+'y']=_0x3939ee,this['propertyCh'+'anged'](qy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x10d637){this['_mipmaps']!==_0x10d637&&(this['device']['isWebGPU']?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):ea(this['_format'])?v['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x10d637,_0x10d637&&(this['_needsMipm'+'apsUpload']=!(0x2360+-0x359*-0x2+-0x2a12)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x53a4d0=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x1*0x2629+0x203*-0x11+0x485d);return Mi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x53a4d0,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x8*-0x43f+0xc3*0x1f+0xa5b;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x2b93e3){var _0x12ea78,_0x4f7b93,_0xafe394,_0x50383c;const _0x289868=Mh(this['format']);if(_0x2b93e3!==_0x289868){if(_0x2b93e3){const _0x39ebed=Cc(this['format']);this['_format']!==_0x39ebed&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x12ea78=xt['get'](this['format']))==null?void(0x81b*-0x2+0x730+0x906*0x1):_0x12ea78['name'])+'\x20->\x20'+((_0x4f7b93=xt['get'](_0x39ebed))==null?void(-0x154c+-0x280+0x4*0x5f3):_0x4f7b93['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x39ebed,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x161*0x19+-0x1f3*-0x14+0x5*-0xeb1));}else{const _0x410087=kS(this['format']);this['_format']!==_0x410087&&(v['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0xafe394=xt['get'](this['format']))==null?void(-0xac6+-0x1167+0x1c2d):_0xafe394['name'])+'\x20->\x20'+((_0x50383c=xt['get'](_0x410087))==null?void(0x4a9+-0x430+0x79*-0x1):_0x50383c['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x410087,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0xc3a+0x3*0xb7b+-0x205*0xb));}}}get['srgb'](){return Mh(this['format']);}set['flipY'](_0x35c2c9){this['_flipY']!==_0x35c2c9&&(this['_flipY']=_0x35c2c9,this['_needsUplo'+'ad']=!(0x1a76+-0x1f51+-0x71*-0xb));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0xabbba9){this['_premultip'+'lyAlpha']!==_0xabbba9&&(this['_premultip'+'lyAlpha']=_0xabbba9,this['_needsUplo'+'ad']=!(0x1aa7*-0x1+0x4*-0x53e+0xa7*0x49));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return N['powerOfTwo'](this['_width'])&&N['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case on:return'rgbm';case ap:return'rgbe';case Io:return'rgbp';}return Ey(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x48*-0x1+-0xc2*-0x2f+-0x397*0xa),!(0x21*0x1d+0x1699+0x1*-0x1a56),!(0x22a*0x8+0x1dc2+0x2f12*-0x1),!(0x84b+0xc77*-0x3+-0x32*-0x95),!(0x13e4+-0x21fb+0xe17),!(0xcd1*0x1+-0x3*0xc25+0xbcf*0x2)]]:[!(-0x36*0xb+-0xe1c*-0x1+-0xbca*0x1)],this['_needsUplo'+'ad']=!(-0x3*-0x5d6+-0x19d*-0xb+-0x2341),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x103d*-0x2+0xc24+0x29*0x7f),this['propertyCh'+'anged'](yv);}['lock'](_0x38317c={}){_0x38317c['level']??(_0x38317c['level']=0x1498+0xdea+0x277*-0xe),_0x38317c['face']??(_0x38317c['face']=-0x15*0xd5+-0x21ea+0x3363),_0x38317c['mode']??(_0x38317c['mode']=rd),v['assert'](this['_lockedMod'+'e']===yl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),v['assert'](_0x38317c['mode']===Fy||_0x38317c['mode']===rd,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x38317c['mode'],this['_lockedLev'+'el']=_0x38317c['level'];const _0x2416b8=this['cubemap']?this['_levels'][_0x38317c['face']]:this['_levels'];if(_0x2416b8[_0x38317c['level']]===null){const _0x21c7b0=Math['max'](-0x5*-0x1cf+0x1e16+-0x4*0x9c8,this['_width']>>_0x38317c['level']),_0x2a5c3b=Math['max'](0x174*-0x3+0xfe5+-0xc*0xf6,this['_height']>>_0x38317c['level']),_0xb78cc9=Math['max'](0x11e3*0x1+-0x82*-0x46+-0x356e,this['_depth']>>_0x38317c['level']),_0x44a977=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0x21c7b0,_0x2a5c3b,_0xb78cc9,this['_format']));_0x2416b8[_0x38317c['level']]=new(Cy(this['_format']))(_0x44a977);}return _0x2416b8[_0x38317c['level']];}['setSource'](_0x1f130f,_0x56fb90=-0x12c8+-0xfe3+-0x7d*-0x47){let _0x21f6d5=!(-0x2545+0x1111*0x2+-0x4*-0xc9),_0x3834e0,_0x50bfe1;if(this['_cubemap']){if(_0x1f130f[0x17e8+-0x1*-0x22e1+-0x3ac9]){_0x3834e0=_0x1f130f[-0x35e+-0x1bbe+0x1f1c]['width']||0x119f+-0x45d+0xd42*-0x1,_0x50bfe1=_0x1f130f[-0x2*-0x28c+0x122*-0x14+-0x1190*-0x1]['height']||-0x317*-0x1+0x671+-0x262*0x4;for(let _0x2db0da=-0x17f2+0x7a*-0x39+0x4*0xcc7;_0x2db0da<-0x4b*0x17+0xc3e+0x17*-0x3d;_0x2db0da++){const _0x5568c9=_0x1f130f[_0x2db0da];if(!_0x5568c9||_0x5568c9['width']!==_0x3834e0||_0x5568c9['height']!==_0x50bfe1||!this['device']['_isBrowser'+'Interface'](_0x5568c9)){_0x21f6d5=!(0x2*-0xf5b+0xea7+0x100f);break;}}}else _0x21f6d5=!(0x1*0x8ef+-0x191*0x11+0x11b2);if(!_0x21f6d5){for(let _0x4e3a31=0x266b+-0x1517+-0x1*0x1154;_0x4e3a31<-0x4c1*-0x3+-0xcea+0x3*-0x71;_0x4e3a31++)this['_levels'][_0x56fb90][_0x4e3a31]!==_0x1f130f[_0x4e3a31]&&(this['_levelsUpd'+'ated'][_0x56fb90][_0x4e3a31]=!(0x4af+-0x167b+-0x86*-0x22));}}else this['device']['_isBrowser'+'Interface'](_0x1f130f)||(_0x21f6d5=!(-0x1*0xd62+0x169*0x13+-0xd69)),_0x21f6d5||(_0x1f130f!==this['_levels'][_0x56fb90]&&(this['_levelsUpd'+'ated'][_0x56fb90]=!(-0xd*-0x21b+-0x4*0x17f+-0x1563)),_0x1f130f instanceof HTMLVideoElement?(_0x3834e0=_0x1f130f['videoWidth'],_0x50bfe1=_0x1f130f['videoHeigh'+'t']):(_0x3834e0=_0x1f130f['width'],_0x50bfe1=_0x1f130f['height']));if(_0x21f6d5){if(this['_width']=0x1*0x1d8b+0x1820*-0x1+-0x567,this['_height']=-0x1199+-0xd92+0x1f2f,this['_cubemap']){for(let _0x397eff=-0xc2*-0x2f+0x2401+-0x1*0x479f;_0x397eff<0x1ec9*0x1+-0x2508+0xf*0x6b;_0x397eff++)this['_levels'][_0x56fb90][_0x397eff]=null,this['_levelsUpd'+'ated'][_0x56fb90][_0x397eff]=!(-0x3*0x2a5+-0x12b*-0x9+0xdc*-0x3);}else this['_levels'][_0x56fb90]=null,this['_levelsUpd'+'ated'][_0x56fb90]=!(-0x7f6+0x504*0x7+0x2b7*-0xa);}else _0x56fb90===-0x113c+0x296+0xa*0x177&&(this['_width']=_0x3834e0,this['_height']=_0x50bfe1),this['_levels'][_0x56fb90]=_0x1f130f;(this['_invalid']!==_0x21f6d5||!_0x21f6d5)&&(this['_invalid']=_0x21f6d5,this['upload']());}['getSource'](_0x4aa585=-0x238e+0x1*-0xfe9+0x3377){return this['_levels'][_0x4aa585];}['unlock'](){this['_lockedMod'+'e']===yl&&v['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===rd&&this['upload'](),this['_lockedLev'+'el']=-(0x16*0x6d+0x19f8+-0xf*0x25b),this['_lockedMod'+'e']=yl;}['upload'](){var _0x645666,_0x2b2920;this['_needsUplo'+'ad']=!(0x2*-0x11fc+-0x1*-0x1265+0xb*0x199),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x2b2920=(_0x645666=this['impl'])['uploadImme'+'diate'])==null||_0x2b2920['call'](_0x645666,this['device'],this);}['read'](_0x5a1ed8,_0x39f4ac,_0x523945,_0x21c8f3,_0x18813e={}){var _0x554767,_0x1578ac;return(_0x1578ac=(_0x554767=this['impl'])['read'])==null?void(0xace+0x2258+0x1*-0x2d26):_0x1578ac['call'](_0x554767,_0x5a1ed8,_0x39f4ac,_0x523945,_0x21c8f3,_0x18813e);}}const Mv={'white':[-0x23dd+0x4c*0x67+-0x18*-0x43,0x714+-0x109b+0xa86,0x1da5+0x41+0x97*-0x31,-0x1c5*0x1+-0x1e89+0x214d],'gray':[-0x1c1*-0xc+-0xc7b+-0x811,0x1a44+0x5*-0x4b6+-0x236,0xb7*-0x35+0xa1a+0xd*0x22d,0x21b1+-0x57f+-0x1b33],'black':[-0x1*-0x1fc1+0x3fe*0x1+-0x1*0x23bf,0x1cd*-0x4+-0x1abf+0x3*0xb51,0x4c*-0x63+0x1659*0x1+0x70b,0x254b+-0x23e6+-0x22*0x3],'normal':[-0x146b+0x1c44+0x63*-0x13,-0x820*-0x3+0xa7*-0xb+0x10b3*-0x1,0x2d7*0x1+0x1e2a+-0x2002,0x6ab+-0x826+-0x1*-0x27a],'pink':[-0x1ab1*-0x1+0x1*0x1bbb+-0x356d,0x8cb*0x4+-0x1c2c+-0x680,0xb37+-0x1*0x78c+-0x2ac,0x131b*0x1+0x2242+-0x345e]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x3344c0=>{_0x3344c0['destroy']();});}}const Rv=new Ot(),en=(_0x1aae9c,_0x31b040)=>{const _0x560eab=Rv['get'](_0x1aae9c,()=>new Pv());if(!_0x560eab['map']['has'](_0x31b040)){const _0x5838ee=new he(_0x1aae9c,{'name':'built-in-t'+'exture-'+_0x31b040,'width':0x1,'height':0x1,'format':Se}),_0x569f45=_0x5838ee['lock'](),_0x2fc303=Mv[_0x31b040];v['assert'](_0x2fc303,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x31b040+('\x27\x20not\x20foun'+'d')),_0x569f45['set'](_0x2fc303),_0x5838ee['unlock'](),_0x560eab['map']['set'](_0x31b040,_0x5838ee);}return _0x560eab['map']['get'](_0x31b040);};let Iv=0x595+0x1*-0x2506+-0x1f71*-0x1;class Yy{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class mp{constructor(_0x4382d1,_0xe1e723,_0x146809){c(this,'renderVers'+'ionUpdated',-(-0x19d6+-0x771+-0x14*-0x1aa)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x4382d1,this['format']=_0xe1e723,this['dirty']=!(0x2443+-0x1658+-0xdeb),this['impl']=_0x4382d1['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x146809,_0x146809&&this['setUniform'+'Buffer'](fp,_0x146809),v['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0xe1e723));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x3e4e94,_0x2e5668){const _0x4b54b8=this['format']['bufferForm'+'atsMap']['get'](_0x3e4e94);v['assert'](_0x4b54b8!==void(0x409+-0x12bf*0x1+-0x7*-0x21a),'Setting\x20a\x20'+'uniform\x20['+_0x3e4e94+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x4b54b8]!==_0x2e5668&&(this['uniformBuf'+'fers'][_0x4b54b8]=_0x2e5668,this['dirty']=!(-0x210+-0x544+0x754));}['setStorage'+'Buffer'](_0x10da34,_0x402ec3){const _0x265cc3=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x10da34);v['assert'](_0x265cc3!==void(0xbe4+-0x28d*-0x1+0x1*-0xe71),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x10da34+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x265cc3]!==_0x402ec3&&(this['storageBuf'+'fers'][_0x265cc3]=_0x402ec3,this['dirty']=!(0x1d39+-0x1*-0x878+-0x25b1));}['setTexture'](_0x587235,_0x366604){const _0x432322=this['format']['textureFor'+'matsMap']['get'](_0x587235);v['assert'](_0x432322!==void(0x1b*0x2b+0x9e*-0x2b+0x1601),'Setting\x20a\x20'+'texture\x20['+_0x587235+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x432322]!==_0x366604?(this['textures'][_0x432322]=_0x366604,this['dirty']=!(-0x20b*0x2+-0x165f+-0x1*-0x1a75)):this['renderVers'+'ionUpdated']<_0x366604['renderVers'+'ionDirty']&&(this['dirty']=!(0x5*-0x685+-0x1*-0x190a+0x78f));}['setStorage'+'Texture'](_0x3c6cc0,_0x48dc4a){const _0x4b929c=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x3c6cc0);v['assert'](_0x4b929c!==void(-0x2*0xd5a+-0x1371+0x2e25),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x3c6cc0+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x4b929c]!==_0x48dc4a?(this['storageTex'+'tures'][_0x4b929c]=_0x48dc4a,this['dirty']=!(0x41*0x53+0x126d+-0x2780)):this['renderVers'+'ionUpdated']<_0x48dc4a['renderVers'+'ionDirty']&&(this['dirty']=!(-0x201+0x110c+-0xf0b));}['updateUnif'+'ormBuffers'](){for(let _0x3d03a2=-0x16*0x50+-0x8b5*0x4+0x29b4;_0x3d03a2<this['uniformBuf'+'fers']['length'];_0x3d03a2++)this['uniformBuf'+'fers'][_0x3d03a2]['update']();}['update'](){const {textureFormats:_0x4b1650,storageTextureFormats:_0x549cab,storageBufferFormats:_0x4a7a73}=this['format'];for(let _0x56316c=-0x83e+0x1*-0x150d+0x1d4b;_0x56316c<_0x4b1650['length'];_0x56316c++){const _0x344e2b=_0x4b1650[_0x56316c];let _0x443bfa=_0x344e2b['scopeId']['value'];_0x443bfa||(_0x344e2b['name']==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x443bfa=en(this['device'],'white')),_0x344e2b['name']==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x443bfa=en(this['device'],'pink')),_0x443bfa||(v['errorOnce']('Texture\x20'+_0x344e2b['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x443bfa=en(this['device'],'pink'))),this['setTexture'](_0x344e2b['name'],_0x443bfa);}for(let _0x13cd95=-0xe3e*-0x1+0x394+0x8e9*-0x2;_0x13cd95<_0x549cab['length'];_0x13cd95++){const _0x240b71=_0x549cab[_0x13cd95],_0x17cbde=_0x240b71['scopeId']['value'];v['assert'](_0x17cbde,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x240b71['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x240b71['name'],_0x17cbde);}for(let _0x49ae5d=0x532+0xde3+0x1315*-0x1;_0x49ae5d<_0x4a7a73['length'];_0x49ae5d++){const _0xf943c1=_0x4a7a73[_0x49ae5d],_0x5292ea=_0xf943c1['scopeId']['value'];v['assert'](_0x5292ea,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0xf943c1['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0xf943c1['name'],_0x5292ea);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x1ac8b4=0x2*-0xcd+-0x1dcd+0x1*0x1f67;_0x1ac8b4<this['uniformBuf'+'fers']['length'];_0x1ac8b4++){const _0x449120=this['uniformBuf'+'fers'][_0x1ac8b4];this['uniformBuf'+'ferOffsets'][_0x1ac8b4]=_0x449120['offset'],this['renderVers'+'ionUpdated']<_0x449120['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1*0x1d48+0x3fe+0x194a));}this['dirty']&&(this['dirty']=!(-0x260*-0xc+-0x1*0x160b+0xe*-0x76),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Oe={'set'(_0x57033a,_0x1a8cd0,_0x498ebf,_0x3c85bb=-0x165*-0x1b+0x9df+-0xf*0x32b){return _0x57033a&~(_0x3c85bb<<_0x498ebf)|_0x1a8cd0<<_0x498ebf;},'get'(_0x11b2d5,_0x6df0a,_0x4113bc=0x2*0xb72+0x2294+-0x3977){return _0x11b2d5>>_0x6df0a&_0x4113bc;},'all'(_0x5d0877,_0x446998,_0x249c53=-0xcee+-0x1bd6+0x28c5){const _0x10b0c5=_0x249c53<<_0x446998;return(_0x5d0877&_0x10b0c5)===_0x10b0c5;},'any'(_0x512284,_0x17307c,_0x161fa6=-0x1*0x1b61+0x1467+-0x1*-0x6fb){return(_0x512284&_0x161fa6<<_0x17307c)!==0x10e7+-0x1*0x1ba6+0xabf;}},xl=0x204a+-0x21d*0xb+-0x1*0x904,Vi=0x1*0x102b+0x1*0xc91+-0x1*0x1cad,dm=0x1528+-0x409*0x5+-0xfb,um=-0x2*0xebd+-0x197*0x11+0x3884,fm=0xbb3+-0x109*-0x1d+-0x29b1,pm=0x37*-0x35+-0x3*0x40d+-0x1*-0x1795,mm=-0x220e+0x251d+-0x301*0x1,_m=-0x99*-0x12+-0x2418+0x1968,Cu=-0x1197+-0x1862+0x25*0x123,gm=0x142f+-0x141*-0x5+-0x1a5d,ym=-0x95*-0xb+-0x1*0x25d9+-0x1*-0x1f8a,xm=-0x736*-0x1+-0x241a+0x1*0x1cfd,Sm=-0x167f+-0x1*-0x1e12+-0x1*0x779,Dv=-0x143+0x6bd+-0x56b,Lv=Cu,zs=class zs{constructor(_0x3e22f6=!(-0xf01+0x22ef+-0x13ed),_0x13daf0=Lt,_0x552b41=at,_0x475535=kf,_0x44cbc5,_0x60b33,_0x4bca62,_0x2d1fe2=!(-0x4*0x4d4+-0x1e8f*0x1+0x31df*0x1),_0x3dceb8=!(-0xfd9*0x1+0x1*0x1269+-0x290),_0x5660ae=!(-0x725+-0x5*-0x1d9+-0x218),_0x13e30f=!(0x20ee+0x64*0x12+-0x1*0x27f6)){c(this,'target0',-0x1023+0x1a39+-0xa16),(this['setColorBl'+'end'](_0x13daf0,_0x552b41,_0x475535),this['setAlphaBl'+'end'](_0x44cbc5??_0x13daf0,_0x60b33??_0x552b41,_0x4bca62??_0x475535),this['setColorWr'+'ite'](_0x2d1fe2,_0x3dceb8,_0x5660ae,_0x13e30f),this['blend']=_0x3e22f6);}set['blend'](_0x199b30){this['target0']=Oe['set'](this['target0'],_0x199b30?-0x1*0x104b+0x5fb*-0x1+0x1*0x1647:0x26*-0x8f+-0x1221+0x275b,Sm);}get['blend'](){return Oe['all'](this['target0'],Sm);}['setColorBl'+'end'](_0x2619c0,_0x3cf50b,_0x5e4e46){this['target0']=Oe['set'](this['target0'],_0x2619c0,dm,xl),this['target0']=Oe['set'](this['target0'],_0x3cf50b,um,Vi),this['target0']=Oe['set'](this['target0'],_0x5e4e46,fm,Vi);}['setAlphaBl'+'end'](_0x5ae91d,_0x398c72,_0x32bd42){this['target0']=Oe['set'](this['target0'],_0x5ae91d,pm,xl),this['target0']=Oe['set'](this['target0'],_0x398c72,mm,Vi),this['target0']=Oe['set'](this['target0'],_0x32bd42,_m,Vi);}['setColorWr'+'ite'](_0x35d203,_0x82ccd7,_0x10e3d8,_0x22940f){this['redWrite']=_0x35d203,this['greenWrite']=_0x82ccd7,this['blueWrite']=_0x10e3d8,this['alphaWrite']=_0x22940f;}get['colorOp'](){return Oe['get'](this['target0'],dm,xl);}get['colorSrcFa'+'ctor'](){return Oe['get'](this['target0'],um,Vi);}get['colorDstFa'+'ctor'](){return Oe['get'](this['target0'],fm,Vi);}get['alphaOp'](){return Oe['get'](this['target0'],pm,xl);}get['alphaSrcFa'+'ctor'](){return Oe['get'](this['target0'],mm,Vi);}get['alphaDstFa'+'ctor'](){return Oe['get'](this['target0'],_m,Vi);}set['redWrite'](_0x2a1b57){this['target0']=Oe['set'](this['target0'],_0x2a1b57?0x1963+0x1612+-0x2f74:0x1*-0x69d+0x6f*0x11+-0xc2,Cu);}get['redWrite'](){return Oe['all'](this['target0'],Cu);}set['greenWrite'](_0x4d4a05){this['target0']=Oe['set'](this['target0'],_0x4d4a05?-0x12b+-0x24e9+0x2615:-0x1df8+0x227a+-0x482*0x1,gm);}get['greenWrite'](){return Oe['all'](this['target0'],gm);}set['blueWrite'](_0x419535){this['target0']=Oe['set'](this['target0'],_0x419535?-0x5f4+-0x364+-0x959*-0x1:0x26*-0x1d+0x1ec*-0xc+-0x71*-0x3e,ym);}get['blueWrite'](){return Oe['all'](this['target0'],ym);}set['alphaWrite'](_0x1a8b5e){this['target0']=Oe['set'](this['target0'],_0x1a8b5e?-0x1db*-0x5+0x1*0x1cd9+-0x3*0xcb5:-0x124a+-0x188c+0x2ad6,xm);}get['alphaWrite'](){return Oe['all'](this['target0'],xm);}get['allWrite'](){return Oe['get'](this['target0'],Lv,Dv);}['copy'](_0x322a54){return this['target0']=_0x322a54['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x5df79c){return this['target0']===_0x5df79c['target0'];}};c(zs,'NOBLEND',Object['freeze'](new zs())),c(zs,'NOWRITE',Object['freeze'](new zs(void(-0x1*-0xfc4+0x100b+-0x1fcf),void(-0x6b*0x3e+0x2f1+0x16f9),void(-0x21ab+-0x8*0x77+0x233*0x11),void(-0x122b+0x15c1*0x1+-0x396),void(0x1db4+0x1*-0x106f+-0xd45),void(0x21*0x3b+0x1497+-0x1c32),void(0x1fee+0x211*-0x1+-0x1ddd),!(0x1ede+-0x235d*0x1+0x480),!(-0x776+-0x10ed+-0xdf*-0x1c),!(0xfef*0x2+0x1d0*-0x9+-0x1*0xf8d),!(0xbce+0x142d+-0x1ffa)))),c(zs,'ALPHABLEND',Object['freeze'](new zs(!(0xb78+0x1*0x1b21+0x1*-0x2699),Lt,dc,uc))),c(zs,'ADDBLEND',Object['freeze'](new zs(!(-0x695+-0x22*0x1f+0x53*0x21),Lt,at,at)));let _t=zs;class _p{constructor(){c(this,'map',new Map()),c(this,'id',-0x2d8+-0x5ce*-0x1+-0x2f6);}['get'](_0x510377){let _0x581e6b=this['map']['get'](_0x510377);return _0x581e6b===void(0x1*-0x67a+0x222c*0x1+-0x1bb2)&&(_0x581e6b=this['id']++,this['map']['set'](_0x510377,_0x581e6b)),_0x581e6b;}}const Fv=new _p(),vm=-0xa*0x33b+-0x1acd+0x3b22,bm=-0xe1d+0xbf*-0x1f+-0x253e*-0x1,wm=-0x4c*0x7d+0xb*0x1a5+0x1308,Zi=class Zi{constructor(_0x43a084=fu,_0x59c640=!(0x1f*-0x13f+0x223*0xf+0x694)){c(this,'data',-0x8e5+0x61*0x41+-0x26*0x6a),c(this,'_depthBias',-0xc79+0x1*-0xdff+0x2c*0x9a),c(this,'_depthBias'+'Slope',0x842+-0x61*-0x3b+-0x1e9d),c(this,'key',0x14eb+0x25a5+-0x3a90),(this['func']=_0x43a084,this['write']=_0x59c640);}set['test'](_0x17601d){this['func']=_0x17601d?fu:Ai,this['updateKey']();}get['test'](){return this['func']!==Ai;}set['write'](_0x1a998f){this['data']=Oe['set'](this['data'],_0x1a998f?0x419*-0x5+0x2412+-0xf94:0x70*-0x56+-0x1*0x258f+-0x4b2f*-0x1,wm),this['updateKey']();}get['write'](){return Oe['all'](this['data'],wm);}set['func'](_0x593a84){this['data']=Oe['set'](this['data'],_0x593a84,bm,vm),this['updateKey']();}get['func'](){return Oe['get'](this['data'],bm,vm);}set['depthBias'](_0x29f26a){this['_depthBias']=_0x29f26a,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x245b34){this['_depthBias'+'Slope']=_0x245b34,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x342f97){return this['data']=_0x342f97['data'],this['_depthBias']=_0x342f97['_depthBias'],this['_depthBias'+'Slope']=_0x342f97['_depthBias'+'Slope'],this['key']=_0x342f97['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x2419cd,_depthBias:_0x5b6e41,_depthBiasSlope:_0x14dc12}=this,_0x28c1b0=_0x2419cd+'-'+_0x5b6e41+'-'+_0x14dc12;this['key']=Fv['get'](_0x28c1b0);}['equals'](_0x4d659e){return this['key']===_0x4d659e['key'];}};c(Zi,'DEFAULT',Object['freeze'](new Zi())),c(Zi,'NODEPTH',Object['freeze'](new Zi(Ai,!(0x1*-0x511+0x11fb*-0x1+-0x170d*-0x1)))),c(Zi,'WRITEDEPTH',Object['freeze'](new Zi(Ai,!(-0x1*0x616+0x10c3+0x38f*-0x3))));let as=Zi;class Ky{constructor(){c(this,'globalId',-0x267+-0x1789+0x10*0x19f),c(this,'revision',0xed2*-0x1+0x369+0xb69);}['equals'](_0x5cad87){return this['globalId']===_0x5cad87['globalId']&&this['revision']===_0x5cad87['revision'];}['copy'](_0x1f6d64){this['globalId']=_0x1f6d64['globalId'],this['revision']=_0x1f6d64['revision'];}['reset'](){this['globalId']=0x2*-0xd29+0xa76+0xfdc,this['revision']=-0x3f0+-0x21bc+0x25ac;}}let Tm=-0x117*0x11+0x4d7*-0x7+-0x2*-0x1a34;class Ov{constructor(){Tm++,this['version']=new Ky(),this['version']['globalId']=Tm;}['increment'](){this['version']['revision']++;}}class kv{constructor(_0x496f1c){this['name']=_0x496f1c,this['value']=null,this['versionObj'+'ect']=new Ov();}['toJSON'](_0x262f0d){}['setValue'](_0x3a125b){this['value']=_0x3a125b,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x1f3aaf){this['name']=_0x1f3aaf,this['variables']=new Map();}['resolve'](_0x1b82f6){return this['variables']['has'](_0x1b82f6)||this['variables']['set'](_0x1b82f6,new kv(_0x1b82f6)),this['variables']['get'](_0x1b82f6);}['removeValu'+'e'](_0x2dd991){for(const _0x38151f in this['variables']){const _0x42fe7e=this['variables'][_0x38151f];_0x42fe7e['value']===_0x2dd991&&(_0x42fe7e['value']=null);}}}let Nv=0x21a2+0x2*-0xfb7+-0x234;class os{constructor(_0x5e81a1,_0x1177a6,_0x56925b,_0x246f70){c(this,'usage',jt),(v['assert'](arguments['length']<=-0x223*-0x1+-0x653*-0x5+-0x21be&&(!_0x246f70||typeof _0x246f70=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x246f70==null?void(0x3fd+-0x14*0x1b2+0x3*0x9f9):_0x246f70['usage'])??jt,this['device']=_0x5e81a1,this['format']=_0x1177a6,this['numVertice'+'s']=_0x56925b,this['id']=Nv++,this['impl']=_0x5e81a1['createVert'+'exBufferIm'+'pl'](this,_0x1177a6,_0x246f70),this['numBytes']=_0x1177a6['verticesBy'+'teSize']?_0x1177a6['verticesBy'+'teSize']:_0x1177a6['size']*_0x56925b,this['adjustVram'+'SizeTracki'+'ng'](_0x5e81a1['_vram'],this['numBytes']));const _0x395994=_0x246f70==null?void(0xccf*0x3+0xa14+0x3*-0x102b):_0x246f70['data'];_0x395994?this['setData'](_0x395994):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x108b06=this['device'],_0x416c88=_0x108b06['buffers']['indexOf'](this);_0x416c88!==-(0x1c3c+-0x1*0xb2d+-0x110e)&&_0x108b06['buffers']['splice'](_0x416c88,0x11*-0x4d+0x10a6*-0x1+0x15c4),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x108b06),this['adjustVram'+'SizeTracki'+'ng'](_0x108b06['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x2de0c1,_0x5c1512){v['trace'](Zx,this['id']+'\x20size:\x20'+_0x5c1512+'\x20vram.vb:\x20'+_0x2de0c1['vb']+'\x20=>\x20'+(_0x2de0c1['vb']+_0x5c1512)),_0x2de0c1['vb']+=_0x5c1512;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x3cefd2){return _0x3cefd2['byteLength']!==this['numBytes']?(v['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x3cefd2['byteLength']),!(0x1bd2+0x11c3+-0x2d94*0x1)):(this['storage']=_0x3cefd2,this['unlock'](),!(-0x1df9+-0x13bb+0x2*0x18da));}}function hn(_0x85f3af){if(_0x85f3af==null)return 0xdfe+-0x2*0x659+-0x14c;let _0x29d07f=-0x18e*0x8+-0xf05+0x1b75;for(let _0x127689=-0x2*0x845+-0xd38+0x1dc2,_0x4b2dc3=_0x85f3af['length'];_0x127689<_0x4b2dc3;_0x127689++)_0x29d07f=(_0x29d07f<<0x1*0xf33+0xc5*-0x3+-0x293*0x5)-_0x29d07f+_0x85f3af['charCodeAt'](_0x127689),_0x29d07f|=0x34a+0x1cc4+-0x200e;return _0x29d07f;}function Zy(_0x779fca){let _0x17ac0c=-0x5d6*-0x8b45d+0x1*0x89696fc7+-0x3b1968c0;for(let _0x5c8585=-0x110c+0x1664+-0x558;_0x5c8585<_0x779fca['length'];_0x5c8585++)_0x17ac0c^=_0x779fca[_0x5c8585],_0x17ac0c*=-0x2e9ab*0x61+-0xa823d1+0x2c2af2f;return _0x17ac0c>>>0x1*0x2503+-0x725+-0x1dde;}const zv=new _p(),Uv=[0xb23+-0x9*0x77+-0x379*0x2,0x1*-0x14d7+-0x22*-0x56+-0x5*-0x1e3,0x1*0xd69+0x275+0x7eb*-0x2,0x2491+-0x4e6+-0x1f9f,-0x257*-0x3+-0x3*0x671+-0x62f*-0x2],Vv=new Ot();class Et{constructor(_0x36b6b5,_0x3613eb,_0x58c9a5){this['device']=_0x36b6b5,this['_elements']=[],this['hasUv0']=!(-0x44*-0x5b+0x1*-0xbe1+-0xf2*0xd),this['hasUv1']=!(-0xd*-0xe9+-0x7dc+-0x3f8),this['hasColor']=!(-0x25b*-0x1+-0x4*-0x884+-0x1235*0x2),this['hasTangent'+'s']=!(-0x3*-0xba5+-0x744+-0x1baa*0x1),this['verticesBy'+'teSize']=-0x51*-0x23+0x7*-0x454+0x1339,this['vertexCoun'+'t']=_0x58c9a5,this['interleave'+'d']=_0x58c9a5===void(0xc11+-0x1*-0x1a01+-0x2612),this['instancing']=!(-0x1*-0x1b40+0x1ef5*-0x1+-0xa*-0x5f),this['size']=_0x3613eb['reduce']((_0x289c25,_0x594325)=>_0x289c25+Math['ceil'](_0x594325['components']*_o[_0x594325['type']]/(0x5*0x493+-0x137c+-0x35f*0x1))*(-0x13*0x11f+-0x2*-0x5cb+0x9bb),0x131d+0x11*-0xcb+-0x5a2);let _0x5cda24=0x1680+-0xc*0x158+-0x660,_0x513ad2;for(let _0x379442=0x101*-0x9+-0x3ec*-0x3+0x2bb*-0x1,_0x1e8b43=_0x3613eb['length'];_0x379442<_0x1e8b43;_0x379442++){const _0x24c5d1=_0x3613eb[_0x379442];_0x513ad2=_0x24c5d1['components']*_o[_0x24c5d1['type']],v['assert'](Et['isElementV'+'alid'](_0x36b6b5,_0x24c5d1),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x24c5d1['semantic']+'\x20:\x20'+Sv[_0x24c5d1['type']]+'\x20x\x20'+_0x24c5d1['components']),_0x58c9a5&&(_0x5cda24=N['roundUp'](_0x5cda24,_0x513ad2),v['assert'](_0x513ad2%(-0x1205+-0xd*-0x190+0x1*-0x247)===0x10bd+0x1*0x221+-0x12de,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x513ad2));const _0x453cf7=_0x24c5d1['asInt']??!(-0x5*0x772+0x58f*0x2+0x1a1d),_0x1aed86=_0x453cf7?!(-0x1d11+-0x4*0x2da+0x13a*0x21):_0x24c5d1['normalize']??!(0x26e2+-0x171e+-0x541*0x3),_0xaf8b96={'name':_0x24c5d1['semantic'],'offset':_0x58c9a5?_0x5cda24:_0x24c5d1['hasOwnProp'+'erty']('offset')?_0x24c5d1['offset']:_0x5cda24,'stride':_0x58c9a5?_0x513ad2:_0x24c5d1['hasOwnProp'+'erty']('stride')?_0x24c5d1['stride']:this['size'],'dataType':_0x24c5d1['type'],'numComponents':_0x24c5d1['components'],'normalize':_0x1aed86,'size':_0x513ad2,'asInt':_0x453cf7};this['_elements']['push'](_0xaf8b96),_0x58c9a5?_0x5cda24+=_0x513ad2*_0x58c9a5:_0x5cda24+=Math['ceil'](_0x513ad2/(0x3*0x4b9+0x1*0x1159+-0x3f0*0x8))*(0x46*0x4d+-0x112*0x2+-0x12e6),_0x24c5d1['semantic']===ns?this['hasUv0']=!(-0x4ff*0x6+-0x1ab3+-0x1*-0x38ad):_0x24c5d1['semantic']===_n?this['hasUv1']=!(-0xeaa+-0x17f*-0x11+-0xac5*0x1):_0x24c5d1['semantic']===At?this['hasColor']=!(0x19ec+0x271+-0x1c5d):_0x24c5d1['semantic']===Zs&&(this['hasTangent'+'s']=!(-0x503+0xfaa+0x65*-0x1b));}_0x58c9a5&&(this['verticesBy'+'teSize']=_0x5cda24),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x141e63){return Vv['get'](_0x141e63,()=>new Et(_0x141e63,[{'semantic':rp,'components':0x4,'type':Ee},{'semantic':ga,'components':0x4,'type':Ee},{'semantic':np,'components':0x4,'type':Ee},{'semantic':ya,'components':0x4,'type':Ee}]));}static['isElementV'+'alid'](_0x3e6256,_0x2ed837){const _0x19c39c=_0x2ed837['components']*_o[_0x2ed837['type']];return!(_0x3e6256['isWebGPU']&&!Uv['includes'](_0x19c39c));}['update'](){v['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x26711b=[],_0x5db7dd=[],_0x4cf85c=this['_elements']['length'];for(let _0x18c4b4=0x19ed+-0x7*0x37b+-0x19*0x10;_0x18c4b4<_0x4cf85c;_0x18c4b4++){const {name:_0x30a319,dataType:_0x128c16,numComponents:_0x7b67ea,normalize:_0x51d1d8,offset:_0x3f542e,stride:_0x111fd6,size:_0x33252e,asInt:_0x1c1acc}=this['_elements'][_0x18c4b4],_0x5de66b=_0x30a319+_0x128c16+_0x7b67ea+_0x51d1d8+_0x1c1acc;_0x26711b['push'](_0x5de66b);const _0x1adc33=_0x5de66b+_0x3f542e+_0x111fd6+_0x33252e;_0x5db7dd['push'](_0x1adc33);}_0x26711b['sort']();const _0x234b48=_0x26711b['join']();this['batchingHa'+'sh']=hn(_0x234b48),this['shaderProc'+'essingHash'+'String']=_0x234b48,this['renderingH'+'ashString']=_0x5db7dd['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new _p(),rc=class rc{constructor(_0x4587f5={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(-0x6*-0x251+0x1e5*-0x6+0x24*-0x12)),c(this,'_key'),(this['_func']=_0x4587f5['func']??Ai,this['_ref']=_0x4587f5['ref']??-0x55b+0x2ab*-0x3+0xd5c,this['_readMask']=_0x4587f5['readMask']??0x1*-0x17d3+-0x1484+-0x16ab*-0x2,this['_writeMask']=_0x4587f5['writeMask']??0x13ce+0x24e3+0x37b2*-0x1,this['_fail']=_0x4587f5['fail']??ha,this['_zfail']=_0x4587f5['zfail']??ha,this['_zpass']=_0x4587f5['zpass']??ha,this['_evalKey']());}set['func'](_0x48db20){this['_func']=_0x48db20,this['_dirty']=!(0x55a*0x2+-0x1*-0xe81+0x1*-0x1935);}get['func'](){return this['_func'];}set['ref'](_0x526d76){this['_ref']=_0x526d76,this['_dirty']=!(0x1*0x1836+-0x13b0+0x243*-0x2);}get['ref'](){return this['_ref'];}set['fail'](_0x470e7f){this['_fail']=_0x470e7f,this['_dirty']=!(-0xc63*-0x1+0x2*-0xc56+0xc49*0x1);}get['fail'](){return this['_fail'];}set['zfail'](_0x2c50b4){this['_zfail']=_0x2c50b4,this['_dirty']=!(0x24b8+0x81*0x2b+-0x3a63);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x559067){this['_zpass']=_0x559067,this['_dirty']=!(-0x2e*-0xb3+0x1156+-0x3180);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x39233c){this['_readMask']=_0x39233c,this['_dirty']=!(-0x42e+0x13*0x1c3+-0x1d4b);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x406808){this['_writeMask']=_0x406808,this['_dirty']=!(-0x568+0x1a3a+-0x14d2);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x54def4,_ref:_0x56f30b,_fail:_0x50189e,_zfail:_0x19d7ab,_zpass:_0x14886f,_readMask:_0x18815d,_writeMask:_0x53fee2}=this,_0x1d3c79=_0x54def4+','+_0x56f30b+','+_0x50189e+','+_0x19d7ab+','+_0x14886f+','+_0x18815d+','+_0x53fee2;this['_key']=Gv['get'](_0x1d3c79),this['_dirty']=!(0x4*0x6ab+-0x5*0x47b+-0x444);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x36b6b6){return this['_func']=_0x36b6b6['_func'],this['_ref']=_0x36b6b6['_ref'],this['_readMask']=_0x36b6b6['_readMask'],this['_writeMask']=_0x36b6b6['_writeMask'],this['_fail']=_0x36b6b6['_fail'],this['_zfail']=_0x36b6b6['_zfail'],this['_zpass']=_0x36b6b6['_zpass'],this['_dirty']=_0x36b6b6['_dirty'],this['_key']=_0x36b6b6['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(rc,'DEFAULT',Object['freeze'](new rc()));let qs=rc;const nc=class nc extends ce{constructor(_0x2e0725,_0x588e0e){var _0x459f69,_0x57725b,_0x1d8771,_0x219ea8,_0x53fb4a,_0xaf0e7d;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(-0x4f9+-0xd1b+-0x3*-0x607)),c(this,'isWebGPU',!(-0x1*-0x1db7+0x2*-0x10eb+0x420)),c(this,'isWebGL2',!(-0x709*0x2+0x3*0xbd5+-0x156c)),c(this,'isHdr',!(-0x6e3*0x1+-0x27a+0x95e)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0x40*-0x13+0x2b*0x59+-0x6*0x1b3),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0x25*0xcb+0x8d4+0x3d1*-0xa),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0x1073*-0x1+0x9e6+-0x68e*-0x1)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x4a5*0x3+-0x1b97+0x1*0x2987)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0xee5+0x1c*-0x2b+0x1399),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x1*-0x611+-0xff5+-0x1*-0x1607)),c(this,'supportsUn'+'iformBuffe'+'rs',!(-0x3*-0x52f+-0x1dee+0x107*0xe)),c(this,'supportsCl'+'ipDistance'+'s',!(0x7*-0x538+-0x160*0x10+0x3a89)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0x361*0x1+-0x25*0x59+0x103f)),c(this,'textureFlo'+'atFilterab'+'le',!(0x1f1b+0x45c+-0x2376)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new _t()),c(this,'depthState',new as()),c(this,'stencilEna'+'bled',!(-0x450+-0x2f9+0x137*0x6)),c(this,'stencilFro'+'nt',new qs()),c(this,'stencilBac'+'k',new qs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x1bd*-0x3+0x2*0xa3+0x3f1,-0x3*0x456+-0x244+-0xaa*-0x17,-0xb26+-0x123*0x6+0x11f8,-0x43f*-0x8+0xd8b+-0x3*0xfd6],'depth':0x1,'stencil':0x0,'flags':Co|Mo}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0x16e7+-0x1*0x19a9+0x3091)),(this['canvas']=_0x2e0725,this['initOption'+'s']={..._0x588e0e},(_0x459f69=this['initOption'+'s'])['alpha']??(_0x459f69['alpha']=!(-0x16b5*-0x1+0x713+-0x1dc8)),(_0x57725b=this['initOption'+'s'])['depth']??(_0x57725b['depth']=!(0x16*-0x195+0x19b6+0x18*0x61)),(_0x1d8771=this['initOption'+'s'])['stencil']??(_0x1d8771['stencil']=!(0x23c*-0x5+-0x9*0x304+0x2650)),(_0x219ea8=this['initOption'+'s'])['antialias']??(_0x219ea8['antialias']=!(0x1df9+-0x13*-0x19f+-0x3cc6)),(_0x53fb4a=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x53fb4a['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0xaf0e7d=this['initOption'+'s'])['displayFor'+'mat']??(_0xaf0e7d['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=ye['browser']?Math['min'](0x3a*-0x6b+-0x1318+0x2b57,window['devicePixe'+'lRatio']):0xac8+-0x34*-0x1f+0x3*-0x5b1,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x5*0x385+0x1*0xf5a+-0x20f3,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x1fb2+-0xc54+-0x17*-0x1ea,this['_primsPerF'+'rame']=[]);for(let _0x433966=Mc;_0x433966<=Yr;_0x433966++)this['_primsPerF'+'rame'][_0x433966]=0x1dad+-0x5*-0x97+-0x20a0;this['_renderTar'+'getCreatio'+'nTime']=0x19c8+-0x16f1+0x2d7*-0x1,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x22a+-0x2cd+0x4f7);}['postInit'](){const _0x32761b=new Et(this,[{'semantic':He,'components':0x2,'type':Ee}]),_0x38482f=new Float32Array([-(-0x1*-0x1ddb+-0x7*0x27e+0x634*-0x2),-(0x1*0x923+-0x397*0xa+0x6b1*0x4),-0x1e0e+-0x6ba+-0x2b*-0xdb,-(0x5*0x611+-0x1e65*-0x1+-0x3cb9),-(-0x4*-0x3a4+0x165b*-0x1+0x7cc),0x1e79+-0x2446+0x2e7*0x2,0x1e0e+0x1227+0x14*-0x269,-0x26aa+-0xb88+0x3233]);this['quadVertex'+'Buffer']=new os(this,_0x32761b,-0x5a1+0x1*0x15cb+-0x1026,{'data':_0x38482f});}['destroy'](){var _0x40ac48,_0x27d727,_0x59900e;this['fire']('destroy'),(_0x40ac48=this['quadVertex'+'Buffer'])==null||_0x40ac48['destroy'](),this['quadVertex'+'Buffer']=null,(_0x27d727=this['dynamicBuf'+'fers'])==null||_0x27d727['destroy'](),this['dynamicBuf'+'fers']=null,(_0x59900e=this['gpuProfile'+'r'])==null||_0x59900e['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x5d3910){this['fire']('destroy:sh'+'ader',_0x5d3910);const _0x2a5639=this['shaders']['indexOf'](_0x5d3910);_0x2a5639!==-(0x1ca1+-0xc6b+-0x1035)&&this['shaders']['splice'](_0x2a5639,0xdd5*-0x2+-0x4f1+0x209c);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x27b80c;this['contextLos'+'t']=!(0x23fe+0x7a9+-0x2ba7),this['backBuffer'+'Size']['set'](-(-0x5*0x595+-0xe79*-0x1+-0x5d*-0x25),-(0x481+0x1*0x9eb+-0xe6b));for(const _0x208575 of this['textures'])_0x208575['loseContex'+'t']();for(const _0x1dfcb8 of this['buffers'])_0x1dfcb8['loseContex'+'t']();for(const _0x4011a0 of this['targets'])_0x4011a0['loseContex'+'t']();(_0x27b80c=this['gpuProfile'+'r'])==null||_0x27b80c['loseContex'+'t']();}['restoreCon'+'text'](){var _0x2bc3ec,_0x23f3a8;this['contextLos'+'t']=!(-0x1b88+-0x6bc*0x1+-0x11b*-0x1f),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x488188 of this['buffers'])_0x488188['unlock']();(_0x23f3a8=(_0x2bc3ec=this['gpuProfile'+'r'])==null?void(0x1c95+-0x1ff8+-0x1*-0x363):_0x2bc3ec['restoreCon'+'text'])==null||_0x23f3a8['call'](_0x2bc3ec);}['toJSON'](_0x182843){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x266c+-0xf6b*0x1+-0x1*-0x35d7),this['shaderAsyn'+'cCompile']=!(0x186+0x89b+-0xa20),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new _t(),this['depthState']=new as(),this['cullMode']=rn,this['vx']=this['vy']=this['vw']=this['vh']=-0x25ea+0x6+-0x2*-0x12f2,this['sx']=this['sy']=this['sw']=this['sh']=0x1935+-0x5cb+-0x136a,this['blendColor']=new Y(-0x557*-0x7+0x15e5+-0x3b46,-0x23fb+-0x8d*-0x11+0x1a9e*0x1,-0x221a+-0x217*-0x1+0x2003*0x1,0xede+-0x163b+0x91*0xd);}['setStencil'+'State'](_0x59e9ec,_0x2a4b1c){v['assert'](!(-0xcfe+-0x2*-0x11b5+-0x166b));}['setBlendSt'+'ate'](_0x502a15){v['assert'](!(-0x12cd+-0x8*-0x2a2+0x121*-0x2));}['setBlendCo'+'lor'](_0x111ddf,_0x437332,_0x3b2fbf,_0x466db2){v['assert'](!(-0x1d28*0x1+-0x25ea+-0x7*-0x995));}['setDepthSt'+'ate'](_0x549050){v['assert'](!(-0x1dca*-0x1+-0x66f*0x3+0x4*-0x29f));}['setCullMod'+'e'](_0x54f1a1){v['assert'](!(-0x18ad+0x1*0x11c3+0x6eb));}['setRenderT'+'arget'](_0x218b98){this['renderTarg'+'et']=_0x218b98;}['setIndexBu'+'ffer'](_0x4fa8d0){this['indexBuffe'+'r']=_0x4fa8d0;}['setVertexB'+'uffer'](_0x2f5d07){_0x2f5d07&&this['vertexBuff'+'ers']['push'](_0x2f5d07);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1931+-0x23*0x11c+0xda3;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x26ff9d){if(_0x26ff9d['initialize'+'d'])return;const _0x5d970c=ne();this['fire']('fbo:create',{'timestamp':_0x5d970c,'target':this}),_0x26ff9d['init'](),this['targets']['add'](_0x26ff9d),this['_renderTar'+'getCreatio'+'nTime']+=ne()-_0x5d970c;}['_isBrowser'+'Interface'](_0x2a00bd){return this['_isImageBr'+'owserInter'+'face'](_0x2a00bd)||this['_isImageCa'+'nvasInterf'+'ace'](_0x2a00bd)||this['_isImageVi'+'deoInterfa'+'ce'](_0x2a00bd);}['_isImageBr'+'owserInter'+'face'](_0x237cd1){return typeof ImageBitmap<'u'&&_0x237cd1 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x237cd1 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x10cbae){return typeof HTMLCanvasElement<'u'&&_0x10cbae instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x9e8a16){return typeof HTMLVideoElement<'u'&&_0x9e8a16 instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x50f54a,_0x290c53){const _0x22859a=Math['min'](this['_maxPixelR'+'atio'],ye['browser']?window['devicePixe'+'lRatio']:-0x1fac+-0x12b3+0x3260),_0x3d1fca=Math['floor'](_0x50f54a*_0x22859a),_0x3fd62c=Math['floor'](_0x290c53*_0x22859a);(_0x3d1fca!==this['canvas']['width']||_0x3fd62c!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x3d1fca,_0x3fd62c);}['setResolut'+'ion'](_0x486eaf,_0xb8bfaf){this['canvas']['width']=_0x486eaf,this['canvas']['height']=_0xb8bfaf,this['fire'](nc['EVENT_RESI'+'ZE'],_0x486eaf,_0xb8bfaf);}['updateClie'+'ntRect'](){if(ye['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x18adc8=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x18adc8['width'],this['clientRect']['height']=_0x18adc8['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x18c2ba){v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return v['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x1*0x1f8a+-0x9b0+-0x15d9);}set['maxPixelRa'+'tio'](_0x24187e){this['_maxPixelR'+'atio']=_0x24187e;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x102cd8){}['endRenderP'+'ass'](_0x28ce1e){}['startCompu'+'tePass'](_0x4a0154){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=-0x1*-0x1edc+0x23a1+-0x427d*0x1,this['renderVers'+'ion']++,v['call'](()=>{if(Xs['get'](tS)){const _0x287d79=this['textures']['slice']();_0x287d79['sort']((_0x11feb2,_0x3514d3)=>_0x3514d3['gpuSize']-_0x11feb2['gpuSize']),v['log']('Textures:\x20'+_0x287d79['length']);let _0x486dab=0x98c+-0x4c5*0x7+0x17d7;_0x287d79['forEach']((_0x4d423d,_0x5cc559)=>{const _0x37705c=_0x4d423d['gpuSize'];_0x486dab+=_0x37705c,v['log'](_0x5cc559+'.\x20'+_0x4d423d['name']+'\x20'+_0x4d423d['width']+'x'+_0x4d423d['height']+'\x20VRAM:\x20'+(_0x37705c/(0xa*-0xb5+-0x7*-0xaa+0x2*0x336)/(0x1178+0xef5+0x1c6d*-0x1))['toFixed'](0x29*-0xb+0xebd+0x8*-0x19f)+'\x20MB');}),v['log']('Total:\x20'+(_0x486dab/(0x704*-0x2+-0x1*0x2ab+0x14b3)/(-0x22df+0x267c+0x9*0xb))['toFixed'](0x8*-0x16c+-0x886*0x3+-0x93d*-0x4)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x3d7314,_0x4d2d3c='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x44df99=[_a,Je,Ke],_0xb1e0e9=!(-0x943*0x1+0x946+-0x3*0x1),_0x3fe7fd=-0x1*-0xcf2+0x1e29+-0x2b1a){for(let _0x34b508=0x24b0*0x1+-0x6d5+-0x1ddb;_0x34b508<_0x44df99['length'];_0x34b508++){const _0x64a597=_0x44df99[_0x34b508];switch(_0x64a597){case _a:{if(this['textureRG1'+'1B10Render'+'able'])return _0x64a597;break;}case Je:if(this['textureHal'+'fFloatRend'+'erable'])return _0x64a597;break;case Ke:if(this['isWebGPU']&&_0x3fe7fd>-0x3e*-0x25+0x37b*-0xb+0x1*0x1d54)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0xb1e0e9||this['textureFlo'+'atFilterab'+'le']))return _0x64a597;break;}}}};c(nc,'EVENT_RESI'+'ZE','resizecanv'+'as');let Fh=nc,Hv=0x4*0x9a9+0x2*0x677+-0x3af*0xe;class pt{constructor(_0x4456fd={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x297e1b,_0x5b0321,_0x5260ed,_0x7b1543,_0x4abfc9,_0x4bd1f7;v['assert'](!(_0x4456fd instanceof Fh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x1c06c7=((_0x297e1b=_0x4456fd['colorBuffe'+'r'])==null?void(-0x193b*-0x1+-0x1788+-0xf*0x1d):_0x297e1b['device'])??((_0x5b0321=_0x4456fd['colorBuffe'+'rs'])==null?void(0x510*0x6+-0x790+-0x248*0xa):_0x5b0321[0xba1+0x2213+0x14*-0x249]['device'])??((_0x5260ed=_0x4456fd['depthBuffe'+'r'])==null?void(-0x1748+0x1*-0x157f+0x2cc7*0x1):_0x5260ed['device'])??_0x4456fd['graphicsDe'+'vice'];v['assert'](_0x1c06c7,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x1c06c7;const {maxSamples:_0x59310b}=this['_device'];if(this['_samples']=Math['min'](_0x4456fd['samples']??-0x152f+-0x141*-0x1a+-0x1*0xb6a,_0x59310b),_0x1c06c7['isWebGPU']&&(this['_samples']=this['_samples']>-0x1525*0x1+0x128*0x1+0x3*0x6aa?_0x59310b:0x29*0xef+-0x29*-0x97+-0x3e75),this['_colorBuff'+'er']=_0x4456fd['colorBuffe'+'r'],_0x4456fd['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x4456fd['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x4456fd['depthBuffe'+'r'],this['_face']=_0x4456fd['face']??0x2689+0x1e38+0x44c1*-0x1,this['_depthBuff'+'er']){const _0x533307=this['_depthBuff'+'er']['_format'];_0x533307===Ci||_0x533307===la?(this['_depth']=!(-0x1f68+0x22fb+-0x393),this['_stencil']=!(0xeaf+0x18ae+0x394*-0xb)):_0x533307===vc?(this['_depth']=!(0x1f1e+0xa07*0x2+-0x1*0x332c),this['_stencil']=!(-0xc84+0x10c+0xb78)):_0x533307===Ii&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0xf53*0x1+-0x67*0x17+0x611*-0x1?(this['_depth']=!(-0x1*0x7b1+0x2*0x27a+0x2bd),this['_stencil']=!(0x1df4+-0x23d5+0x2f1*0x2)):(v['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x1508+-0xe78+0x3d*0x95),this['_stencil']=!(0x575*-0x3+0x201c+-0xfbc));}else this['_depth']=_0x4456fd['depth']??!(-0x26c7+-0x13*0x17+0x287c),this['_stencil']=_0x4456fd['stencil']??!(-0x1a9b*-0x1+-0x1fb6+0x51c);_0x4456fd['colorBuffe'+'rs']&&(v['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x4456fd['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x4456fd['colorBuffe'+'rs'][-0x6*0x3e2+-0x11b*0x14+-0x4*-0xb5a])),this['autoResolv'+'e']=_0x4456fd['autoResolv'+'e']??!(0x295*-0x2+0x1*-0x1027+-0x1551*-0x1),this['name']=_0x4456fd['name'],this['name']||(this['name']=(_0x7b1543=this['_colorBuff'+'er'])==null?void(-0xb*-0x118+0x42d*-0x9+-0x198d*-0x1):_0x7b1543['name']),this['name']||(this['name']=(_0x4abfc9=this['_depthBuff'+'er'])==null?void(-0x7*-0x3d6+-0x84d*0x4+0x65a):_0x4abfc9['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x4456fd['flipY']??!(0x835*-0x1+0x83*-0x13+0x1*0x11ef),this['_mipLevel']=_0x4456fd['mipLevel']??0x1157*-0x1+-0x10*-0x5d+0xb87,this['_mipLevel']>0x16e5+0x1f6f+-0x3654&&this['_depth']&&(v['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x4456fd}),this['_mipLevel']=-0x4c*0x3c+-0x177e+-0x22*-0x137),this['_mipmaps']=_0x4456fd['mipLevel']===void(0x122d+-0x1*-0x157f+-0x9eb*0x4),this['validateMr'+'t'](),this['impl']=_0x1c06c7['createRend'+'erTargetIm'+'pl'](this),v['trace'](Yp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4bd1f7=this['_colorBuff'+'ers'])!=null&&_0x4bd1f7['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){v['trace'](Yp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2a83bf=this['_device'];_0x2a83bf&&(_0x2a83bf['targets']['delete'](this),_0x2a83bf['renderTarg'+'et']===this&&_0x2a83bf['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x28b503=this['_device'];_0x28b503&&this['impl']['destroy'](_0x28b503);}['destroyTex'+'tureBuffer'+'s'](){var _0x3272dc,_0x5adf94;(_0x3272dc=this['_depthBuff'+'er'])==null||_0x3272dc['destroy'](),this['_depthBuff'+'er']=null,(_0x5adf94=this['_colorBuff'+'ers'])==null||_0x5adf94['forEach'](_0x563f1a=>{_0x563f1a['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x553c87,_0x121a2f){var _0x4feb68,_0x2e536b;if(this['width']!==_0x553c87||this['height']!==_0x121a2f){if(this['mipLevel']>0x212b+-0xe4f+-0x12dc){v['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x23cc27=this['_device'];this['destroyFra'+'meBuffers'](),_0x23cc27['renderTarg'+'et']===this&&_0x23cc27['setRenderT'+'arget'](null),(_0x4feb68=this['_depthBuff'+'er'])==null||_0x4feb68['resize'](_0x553c87,_0x121a2f),(_0x2e536b=this['_colorBuff'+'ers'])==null||_0x2e536b['forEach'](_0x52146c=>{_0x52146c['resize'](_0x553c87,_0x121a2f);}),this['validateMr'+'t'](),this['impl']=_0x23cc27['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){v['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x2a0838,height:_0x4318dc,cubemap:_0x3a1a38,volume:_0x4c5fcd}=this['_colorBuff'+'ers'][0x26a0+-0x484*0x2+-0x2*0xecc];for(let _0x28e88b=-0x21c+-0x849+0xa66;_0x28e88b<this['_colorBuff'+'ers']['length'];_0x28e88b++){const _0x1aec87=this['_colorBuff'+'ers'][_0x28e88b];v['assert'](_0x1aec87['width']===_0x2a0838,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),v['assert'](_0x1aec87['height']===_0x4318dc,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),v['assert'](_0x1aec87['cubemap']===_0x3a1a38,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),v['assert'](_0x1aec87['volume']===_0x4c5fcd,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x4b9f86=!(0x9b3+-0x1b*0x8b+0x4f6),_0x581f74=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x97*-0x39+0x1*-0x45+0x2159*-0x1&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x4b9f86?'[color]':'')+':'+(_0x581f74?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x4b9f86,_0x581f74),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x1156fc,_0x449452,_0x103cf9){if(!this['_device']){if(_0x1156fc['_device'])this['_device']=_0x1156fc['_device'];else return v['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x3be*0x8+-0x2327+-0x208c*-0x2);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x1156fc['name']+'->'+this['name']);const _0x4e0b0f=this['_device']['copyRender'+'Target'](_0x1156fc,this,_0x449452,_0x103cf9);return G['popGpuMark'+'er'](this['_device']),_0x4e0b0f;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x211ac6){var _0x1907af;return(_0x1907af=this['_colorBuff'+'ers'])==null?void(-0x2029+0x470*-0x7+-0xd*-0x4dd):_0x1907af[_0x211ac6];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x4baf93,_0x550d3e;let _0x4162de=((_0x4baf93=this['_colorBuff'+'er'])==null?void(-0x2467+0x26ee+0x287*-0x1):_0x4baf93['width'])||((_0x550d3e=this['_depthBuff'+'er'])==null?void(0x25a3+-0xd*0x20f+-0x57*0x20):_0x550d3e['width'])||this['_device']['width'];return this['_mipLevel']>0x6cb*0x4+0x2ce*0x3+0xa*-0x38f&&(_0x4162de=Mi['calcLevelD'+'imension'](_0x4162de,this['_mipLevel'])),_0x4162de;}get['height'](){var _0xd6bdc0,_0x369b4c;let _0x91689c=((_0xd6bdc0=this['_colorBuff'+'er'])==null?void(0x1*-0x1e55+0x1*0x2579+0x392*-0x2):_0xd6bdc0['height'])||((_0x369b4c=this['_depthBuff'+'er'])==null?void(0x747+0x19c*-0xf+0x10dd):_0x369b4c['height'])||this['_device']['height'];return this['_mipLevel']>-0x1*-0x10e8+0x1d89+-0x2e71&&(_0x91689c=Mi['calcLevelD'+'imension'](_0x91689c,this['_mipLevel'])),_0x91689c;}['isColorBuf'+'ferSrgb'](_0x48c7e4=-0x1400+-0x2190+0x6b2*0x8){if(this['device']['backBuffer']===this)return Mh(this['device']['backBuffer'+'Format']);const _0xa2dbbf=this['getColorBu'+'ffer'](_0x48c7e4);return _0xa2dbbf?Mh(_0xa2dbbf['format']):!(0x120e*0x1+-0x1b4*0x1+-0x1059);}}const Wv={'equals'(_0x24e116,_0x40a14d){if(_0x24e116['length']!==_0x40a14d['length'])return!(0x4ee*0x1+-0x16a2*0x1+0x11b5);for(let _0x5c9e56=0x231d+0x5*-0x241+-0x17d8;_0x5c9e56<_0x24e116['length'];_0x5c9e56++)if(_0x24e116[_0x5c9e56]!==_0x40a14d[_0x5c9e56])return!(0x7*0xf7+-0x68b+0x35*-0x1);return!(0x1810+-0x12f*0xe+0xe*-0x89);}};class Gc{constructor(){c(this,'_refCount',0x253d*-0x1+0x1eea+0x653);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends Gc{constructor(_0x55b42d){super(),c(this,'object'),(this['object']=_0x55b42d,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x58076f=>{var _0x453de1;(_0x453de1=_0x58076f['object'])==null||_0x453de1['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x1492f8){const _0x5732ce=this['cache']['get'](_0x1492f8);return _0x5732ce?(_0x5732ce['incRefCoun'+'t'](),_0x5732ce['object']):null;}['set'](_0x1c39b2,_0x51aa5f){v['assert'](!this['cache']['has'](_0x1c39b2),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x1c39b2,'object':_0x51aa5f}),this['cache']['set'](_0x1c39b2,new $v(_0x51aa5f));}['release'](_0x3bcd57){var _0x1d2e43;const _0x591c06=this['cache']['get'](_0x3bcd57);_0x591c06?(_0x591c06['decRefCoun'+'t'](),_0x591c06['refCount']===0x49*0x17+-0x215b*0x1+0x1acc&&(this['cache']['delete'](_0x3bcd57),(_0x1d2e43=_0x591c06['object'])==null||_0x1d2e43['destroy']())):v['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x3bcd57});}}class Xv extends qv{['loseContex'+'t'](_0x371db3){this['clear']();}}const jv=new Ot(),od=_0x499cb8=>jv['get'](_0x499cb8,()=>new Xv()),ot=[];ot[$s]=-0x4*0x79d+-0x15a+-0x11*-0x1df,ot[or]=0x4bd*0x3+-0x14*-0xa9+-0x1b69,ot[$t]=0x10b3*-0x1+0x2d0+0x3*0x4a2,ot[xa]=-0x221b+0x41f+-0x1e*-0x100,ot[ln]=-0x1*-0x43+-0x775*-0x3+-0x3*0x78b,ot[Zr]=0x49c*-0x2+0x25d9*-0x1+0x2f13,ot[Qr]=-0x1*-0x121+0x3*0x42d+-0x1*0xda5,ot[Jr]=0x31d*-0x9+0x1cf*-0x13+0x3e66,ot[ca]=0x67b*0x1+0x859+-0xed3*0x1,ot[Lo]=-0x21a9+0x2a6+0x1f05,ot[Fo]=-0x4ff+-0x27c+0x77e,ot[Oo]=0xed1+-0x152+-0xd7b,ot[Rh]=0x1c9b+-0xb4e*0x2+0x5f7*-0x1,ot[ko]=-0x12e5+0x59*-0x2e+0x22ef,ot[Sa]=0x713+-0x1d1d*0x1+0x2e*0x7b,ot[va]=-0x6a9+-0x2218+0x1*0x28c2,ot[ba]=0x783*0x2+-0x2ba*-0x5+-0x1ca6,ot[wa]=-0x4*0x214+0x5b3*0x1+0x8*0x54,ot[Ta]=-0x3*0x73+0xdd2+0x1*-0xc75;class gt{constructor(_0x116d27,_0x5effef,_0xf9ebc7=-0x1*0xe37+0x2d3+0xb64*0x1){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x116d27,this['name']=_0xf9ebc7?_0x116d27+'[0]':_0x116d27,this['type']=_0x5effef,this['numCompone'+'nts']=ot[_0x5effef],v['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x5effef+'\x20used\x20for\x20'+_0x116d27),this['updateType']=_0x5effef,_0xf9ebc7>-0xc7c+-0x481*0x2+-0x157e*-0x1)switch(_0x5effef){case $s:this['updateType']=Dc;break;case ln:this['updateType']=Aa;break;case va:this['updateType']=Oc;break;case ca:this['updateType']=kc;break;case or:this['updateType']=Lc;break;case Zr:this['updateType']=Ea;break;case ba:this['updateType']=Bc;break;case Lo:this['updateType']=Nc;break;case $t:this['updateType']=Fc;break;case Qr:this['updateType']=Ca;break;case wa:this['updateType']=zc;break;case Fo:this['updateType']=Uc;break;case xa:this['updateType']=lp;break;case Jr:this['updateType']=Ih;break;case Ta:this['updateType']=hp;break;case Oo:this['updateType']=cp;break;case Sa:this['updateType']=Ny;break;default:v['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+dp[_0x5effef]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x116d27+'\x27.'),v['call'](()=>{this['invalid']=!(-0xb72+-0x1d70+0x2*0x1471);});break;}this['count']=_0xf9ebc7,v['assert'](!isNaN(_0xf9ebc7),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x116d27+'['+_0xf9ebc7+']'),v['call'](()=>{isNaN(_0xf9ebc7)&&(this['invalid']=!(0x1*0x1069+0x71c+-0x9*0x29d));});let _0x29de35=this['numCompone'+'nts'];_0xf9ebc7&&(_0x29de35=N['roundUp'](_0x29de35,0x918+0x267a+-0x2f8e)),this['byteSize']=_0x29de35*(0x1*-0xb1f+0x1a48+-0xf25),_0xf9ebc7&&(this['byteSize']*=_0xf9ebc7),v['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x5effef+'\x20used\x20for\x20'+_0x116d27);}get['isArrayTyp'+'e'](){return this['count']>0x4a0+-0x1f0e+0x11*0x18e;}['calculateO'+'ffset'](_0x2a471d){let _0x1cde8f=this['byteSize']<=0x176d+-0xbaf*0x2+-0x7?this['byteSize']:-0x26a6+0x132f+0x1387;this['count']&&(_0x1cde8f=0x8f5*-0x2+-0x1063+0x13*0x1cf),_0x2a471d=N['roundUp'](_0x2a471d,_0x1cde8f),this['offset']=_0x2a471d/(-0x1eaa+-0x6c2+0x95c*0x4);}}class Qy{constructor(_0x59604b,_0x4ba8c5){c(this,'byteSize',-0x1097+-0x1c3a+0x2cd1),c(this,'map',new Map()),(this['scope']=_0x59604b['scope'],this['uniforms']=_0x4ba8c5);let _0x3024d1=0x1e9*-0x9+0xf9c+-0x9*-0x2d;for(let _0x149884=0xbd*-0xf+0x8*-0x4+-0x1*-0xb33;_0x149884<_0x4ba8c5['length'];_0x149884++){const _0x388dfb=_0x4ba8c5[_0x149884];_0x388dfb['calculateO'+'ffset'](_0x3024d1),_0x3024d1=_0x388dfb['offset']*(-0x131a+0x1560+-0x1*0x242)+_0x388dfb['byteSize'],_0x388dfb['scopeId']=this['scope']['resolve'](_0x388dfb['name']),this['map']['set'](_0x388dfb['name'],_0x388dfb);}this['byteSize']=N['roundUp'](_0x3024d1,-0x18f+-0x2*-0x1007+-0x1e6f);}['get'](_0x5b04c0){return this['map']['get'](_0x5b04c0);}['getShaderD'+'eclaration'](_0x4e493e,_0x41964e){const _0x2c60e6=xv[_0x4e493e];let _0x4ffafd='layout(set'+'\x20=\x20'+_0x4e493e+(',\x20binding\x20'+'=\x20')+_0x41964e+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x2c60e6+'\x20{\x0a';return this['uniforms']['forEach'](_0xc983a3=>{const _0x41e72d=dp[_0xc983a3['type']];v['assert'](_0x41e72d['length']>0xe6f+0xd5*0x9+-0x15ec,'Uniform\x20ty'+'pe\x20'+_0xc983a3['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x4ffafd+='\x20\x20\x20\x20'+_0x41e72d+'\x20'+_0xc983a3['shortName']+(_0xc983a3['count']?'['+_0xc983a3['count']+']':'')+';\x0a';}),_0x4ffafd+'};\x0a';}}const gr='Preprocess'+'or',fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ld=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Am=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,hd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,cd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,dd=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Em=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,ud=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,vs=class vs{static['run'](_0x30eea1,_0x4121fe=new Map(),_0x27a942={}){vs['sourceName']=_0x27a942['sourceName'],_0x30eea1=this['stripComme'+'nts'](_0x30eea1),_0x30eea1=_0x30eea1['split'](/\r?\n/)['map'](_0x1cc7a9=>_0x1cc7a9['trimEnd']())['join']('\x0a');const _0x362180=new Map();if(_0x27a942['stripUnuse'+'dColorAtta'+'chments']){const _0x2c68d9=new Map(),_0x2fc6d4=/(pcFragColor[1-8])\b/g,_0x2ade98=_0x30eea1['match'](_0x2fc6d4);_0x2ade98==null||_0x2ade98['forEach'](_0x16081a=>{const _0x1b75c4=parseInt(_0x16081a['charAt'](_0x16081a['length']-(0x3f*-0x52+-0x10f7*0x1+-0xa*-0x3b7)),-0x5*-0x5+0x353*0x7+-0x1*0x1754);_0x2c68d9['set'](_0x1b75c4,(_0x2c68d9['get'](_0x1b75c4)??0x1fb1+-0x1988+-0x629)+(-0x1263+0x1804+-0x5a0));}),_0x2c68d9['forEach']((_0x145530,_0x1d2a88)=>{_0x145530===0x1de3+0x5a*0x12+-0x1*0x2436&&_0x362180['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x1d2a88,'');});}_0x30eea1=this['_preproces'+'s'](_0x30eea1,_0x362180,_0x4121fe,_0x27a942['stripDefin'+'es']);const _0x844175=new Map();_0x362180['forEach']((_0x126690,_0x2c3076)=>{Number['isInteger'](parseFloat(_0x126690))&&!_0x126690['includes']('.')&&_0x844175['set'](_0x2c3076,_0x126690);});const _0x10bf20=new Map();return _0x362180['forEach']((_0x36fa7f,_0x391479)=>{_0x391479['startsWith']('__INJECT_')&&_0x10bf20['set'](_0x391479,_0x36fa7f);}),_0x30eea1=this['stripComme'+'nts'](_0x30eea1),_0x30eea1=this['RemoveEmpt'+'yLines'](_0x30eea1),_0x30eea1=this['processArr'+'aySize'](_0x30eea1,_0x844175),_0x30eea1=this['injectDefi'+'nes'](_0x30eea1,_0x10bf20),_0x30eea1;}static['stripComme'+'nts'](_0xe1993c){return _0xe1993c['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x113d84,_0xbe1b81){return _0x113d84!==null&&_0xbe1b81['forEach']((_0x2d8345,_0xf2a855)=>{_0x113d84=_0x113d84['replace'](new RegExp('\x5c['+_0xf2a855+'\x5c]','g'),'['+_0x2d8345+']');}),_0x113d84;}static['injectDefi'+'nes'](_0x502970,_0x2394d9){if(_0x502970!==null&&_0x2394d9['size']>-0xedb+-0x189c+0x1*0x2777){const _0x1efc5c=_0x502970['split']('\x0a');_0x2394d9['forEach']((_0x27427a,_0x244e2e)=>{const _0x170ba4=new RegExp('\x5cb'+_0x244e2e+'\x5cb','g');for(let _0x3b81ec=0x8*-0x107+0xc*-0x15d+0x11e*0x16;_0x3b81ec<_0x1efc5c['length'];_0x3b81ec++)_0x1efc5c[_0x3b81ec]['includes']('#')||(_0x1efc5c[_0x3b81ec]=_0x1efc5c[_0x3b81ec]['replace'](_0x170ba4,_0x27427a));}),_0x502970=_0x1efc5c['join']('\x0a');}return _0x502970;}static['RemoveEmpt'+'yLines'](_0x5bc7df){return _0x5bc7df!==null&&(_0x5bc7df=_0x5bc7df['split'](/\r?\n/)['map'](_0x2e4e66=>_0x2e4e66['trim']()===''?'':_0x2e4e66)['join']('\x0a'),_0x5bc7df=_0x5bc7df['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x5bc7df;}static['_preproces'+'s'](_0x4ecefd,_0x3d63fa=new Map(),_0x23e288,_0xe2a025){const _0x53287e=_0x4ecefd,_0x37d7f8=[];let _0x335c24=!(-0x1*0x1609+0x2463+-0xe59),_0x370f5d;for(;(_0x370f5d=fs['exec'](_0x4ecefd))!==null;){const _0x351edf=_0x370f5d[0x55*0x11+-0x10b+0x499*-0x1];switch(_0x351edf){case'define':{ld['lastIndex']=_0x370f5d['index'];const _0x4d5406=ld['exec'](_0x4ecefd);v['assert'](_0x4d5406,'Invalid\x20['+_0x351edf+']:\x20'+_0x4ecefd['substring'](_0x370f5d['index'],_0x370f5d['index']+(-0xd71+0x6c7+-0x7*-0x102))+'...'),_0x335c24||(_0x335c24=_0x4d5406===null);const _0xc27abc=_0x4d5406[0x11*-0xb6+0x1cd0+0x3*-0x593];Em['lastIndex']=_0x4d5406['index'];const _0x55b044=Em['exec'](_0xc27abc)[0x1*-0xd3a+0x1830+-0xaf5*0x1];let _0x50ca6c=_0xc27abc['substring'](_0x55b044['length'])['trim']();_0x50ca6c===''&&(_0x50ca6c='true');const _0x2a542b=vs['_keep'](_0x37d7f8);_0x2a542b&&(_0x3d63fa['set'](_0x55b044,_0x50ca6c),_0xe2a025&&(_0x4ecefd=_0x4ecefd['substring'](-0x11a*0x6+0x1*0xdb3+-0x79*0xf,_0x4d5406['index']-(0x889*-0x1+0x1a*0x94+0x33f*-0x2))+_0x4ecefd['substring'](ld['lastIndex']),fs['lastIndex']=_0x4d5406['index']-(0x2653+0x92f+-0x1*0x2f81))),v['trace'](gr,_0x351edf+':\x20['+_0x55b044+']\x20'+_0x50ca6c+'\x20'+(_0x2a542b?'':'IGNORED')),_0xe2a025||(fs['lastIndex']=_0x4d5406['index']+_0x4d5406[0x33d*-0x5+-0x716*-0x3+-0x511]['length']);break;}case'undef':{hd['lastIndex']=_0x370f5d['index'];const _0x1d834f=hd['exec'](_0x4ecefd),_0x49295a=_0x1d834f[0x2119+-0x1f0+-0x1f28]['trim'](),_0x3911ca=vs['_keep'](_0x37d7f8);_0x3911ca&&(_0x3d63fa['delete'](_0x49295a),_0xe2a025&&(_0x4ecefd=_0x4ecefd['substring'](-0x6b7*0x2+-0x1292+0x2000,_0x1d834f['index']-(-0x4b0+-0xd51*-0x1+0x114*-0x8))+_0x4ecefd['substring'](hd['lastIndex']),fs['lastIndex']=_0x1d834f['index']-(0x172+0x2648+-0x27b9))),v['trace'](gr,_0x351edf+':\x20['+_0x49295a+']\x20'+(_0x3911ca?'':'IGNORED')),_0xe2a025||(fs['lastIndex']=_0x1d834f['index']+_0x1d834f[0x1*0x11d7+-0x12fe+0x3b*0x5]['length']);break;}case'extension':{Am['lastIndex']=_0x370f5d['index'];const _0x1dfade=Am['exec'](_0x4ecefd);if(v['assert'](_0x1dfade,'Invalid\x20['+_0x351edf+']:\x20'+_0x4ecefd['substring'](_0x370f5d['index'],_0x370f5d['index']+(0x1a26+-0x6*-0x56f+-0x3a5c))+'...'),_0x335c24||(_0x335c24=_0x1dfade===null),_0x1dfade){const _0x28b2a6=_0x1dfade[0x711*-0x5+0x1449+0xf0d],_0x409675=vs['_keep'](_0x37d7f8);_0x409675&&_0x3d63fa['set'](_0x28b2a6,'true'),v['trace'](gr,_0x351edf+':\x20['+_0x28b2a6+']\x20'+(_0x409675?'':'IGNORED'));}fs['lastIndex']=_0x1dfade['index']+_0x1dfade[-0x14a5+-0xe49+0x22ee]['length'];break;}case'ifdef':case'ifndef':case'if':{cd['lastIndex']=_0x370f5d['index'];const _0x34e8d0=cd['exec'](_0x4ecefd),_0x2e1558=_0x34e8d0[-0x1aee+0x14bc*-0x1+0x2fac],_0x1e2e40=vs['evaluate'](_0x2e1558,_0x3d63fa);_0x335c24||(_0x335c24=_0x1e2e40['error']);let _0x3327ee=_0x1e2e40['result'];_0x351edf==='ifndef'&&(_0x3327ee=!_0x3327ee),_0x37d7f8['push']({'anyKeep':_0x3327ee,'keep':_0x3327ee,'start':_0x370f5d['index'],'end':cd['lastIndex']}),v['trace'](gr,_0x351edf+':\x20['+_0x2e1558+']\x20=>\x20'+_0x3327ee),fs['lastIndex']=_0x34e8d0['index']+_0x34e8d0[-0x1795+0x729*-0x5+0x3b62]['length'];break;}case'endif':case'else':case'elif':{dd['lastIndex']=_0x370f5d['index'];const _0x13fefa=dd['exec'](_0x4ecefd),_0xfae886=_0x37d7f8['pop'](),_0x5aac53=_0xfae886['keep']?_0x4ecefd['substring'](_0xfae886['end'],_0x370f5d['index']):'';v['trace'](gr,_0x351edf+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x5aac53!=='')),_0x4ecefd=_0x4ecefd['substring'](0x7*0x55d+-0x60*0x4a+-0x6d*0x17,_0xfae886['start'])+_0x5aac53+_0x4ecefd['substring'](dd['lastIndex']),fs['lastIndex']=_0xfae886['start']+_0x5aac53['length'];const _0x3366c4=_0x13fefa[0x189b*-0x1+-0x6f7*0x4+0x3478];if(_0x3366c4==='else'||_0x3366c4==='elif'){let _0x4f082c=!(0x3c1*0x2+-0x1b7*-0x7+-0x1382);if(!_0xfae886['anyKeep']){if(_0x3366c4==='else')_0x4f082c=!_0xfae886['keep'];else{const _0x5cce3c=vs['evaluate'](_0x13fefa[-0x84c+-0x9e4+0x919*0x2],_0x3d63fa);_0x4f082c=_0x5cce3c['result'],_0x335c24||(_0x335c24=_0x5cce3c['error']);}}_0x37d7f8['push']({'anyKeep':_0xfae886['anyKeep']||_0x4f082c,'keep':_0x4f082c,'start':fs['lastIndex'],'end':fs['lastIndex']}),v['trace'](gr,_0x351edf+':\x20['+_0x13fefa[-0x1403+0x8bf*-0x1+0x1cc4]+']\x20=>\x20'+_0x4f082c);}break;}case'include':{ud['lastIndex']=_0x370f5d['index'];const _0x2cc7f1=ud['exec'](_0x4ecefd);_0x335c24||(_0x335c24=_0x2cc7f1===null),v['assert'](_0x2cc7f1,'Invalid\x20['+_0x351edf+']:\x20'+_0x4ecefd['substring'](_0x370f5d['index'],_0x370f5d['index']+(0x2215+0xa43+0x1*-0x2bf4))+'...');const _0x2e480e=_0x2cc7f1[-0x1ac2+-0x1*0x1dd9+-0x4*-0xe27]['trim'](),_0x1757be=vs['_keep'](_0x37d7f8);if(_0x1757be){const _0x46b789=_0x23e288==null?void(-0x3*-0x32b+0x26be+-0x303f):_0x23e288['get'](_0x2e480e);_0x46b789!==void(-0x27*0xe5+0x22b*-0x11+-0x3*-0x17ea)?(_0x4ecefd=_0x4ecefd['substring'](-0x25b9+-0xeb1+-0x1*-0x346a,_0x2cc7f1['index']-(-0x7*0x1c7+0x2*0x327+-0x106*-0x6))+_0x46b789+_0x4ecefd['substring'](ud['lastIndex']),fs['lastIndex']=_0x2cc7f1['index']-(-0x905*-0x1+0x1*-0x259f+0x1c9b*0x1)):(console['error']('Include\x20\x22'+_0x2e480e+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+vs['sourceName'],{'source':_0x53287e}),_0x335c24=!(0x2048+0x1856+-0x389e));}v['trace'](gr,_0x351edf+':\x20['+_0x2e480e+']\x20'+(_0x1757be?'':'IGNORED'));break;}}}return _0x335c24?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x53287e}),_0x53287e):_0x4ecefd;}static['_keep'](_0x27cfbc){for(let _0x19027c=-0x947+0x21ec+0x9*-0x2bd;_0x19027c<_0x27cfbc['length'];_0x19027c++)if(!_0x27cfbc[_0x19027c]['keep'])return!(0x735*-0x3+0x1d7c+-0x7dc);return!(0x1239+0x1*-0x143+0x1a*-0xa7);}static['evaluate'](_0x5d85c1,_0x6f217d){const _0x5c8a45=Zv['exec'](_0x5d85c1)===null;v['assert'](_0x5c8a45,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x5d85c1);let _0x4091b2=!(-0x3*-0xb25+0x171d+-0x388b);const _0x1898da=Yv['exec'](_0x5d85c1);_0x1898da&&(_0x4091b2=_0x1898da[0x1a70+-0xb06+-0xf69]==='!',_0x5d85c1=_0x1898da[0x9f*0x3a+-0x3*0x95f+-0x7e7]);const _0x30fdd1=Kv['exec'](_0x5d85c1);if(_0x30fdd1){const _0x5a750c=_0x6f217d['get'](_0x30fdd1[-0x75d+0x19ef+-0x61*0x31])??_0x30fdd1[-0x105*-0x9+-0x5d+-0x37*0x29],_0xc04e46=_0x6f217d['get'](_0x30fdd1[0x8*0x202+0x2691+-0x1b4f*0x2])??_0x30fdd1[0x4*0x9b9+-0x1fd8+-0x709],_0x45d995=_0x30fdd1[0x1fb+0x25e+0xb*-0x65];let _0x400299=!(0x208e+0x5*0x297+-0x2d80);switch(_0x45d995){case'==':_0x400299=_0x5a750c===_0xc04e46;break;case'!=':_0x400299=_0x5a750c!==_0xc04e46;break;case'<':_0x400299=_0x5a750c<_0xc04e46;break;case'<=':_0x400299=_0x5a750c<=_0xc04e46;break;case'>':_0x400299=_0x5a750c>_0xc04e46;break;case'>=':_0x400299=_0x5a750c>=_0xc04e46;break;}return{'result':_0x400299,'error':!_0x5c8a45};}_0x5d85c1=_0x5d85c1['trim']();let _0x1c37c0=_0x6f217d['has'](_0x5d85c1);return _0x4091b2&&(_0x1c37c0=!_0x1c37c0),{'result':_0x1c37c0,'error':!_0x5c8a45};}};c(vs,'sourceName');let Oh=vs;const Jy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),e0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',t0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Cm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':He,'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_texCoord2':jo,'vertex_texCoord3':Yo,'vertex_texCoord4':Ko,'vertex_texCoord5':Zo,'vertex_texCoord6':Qo,'vertex_texCoord7':Jo,'vertex_color':At,'vertex_boneIndices':qt,'vertex_boneWeights':Ys};class Mt{static['createDefi'+'nition'](_0x16affc,_0x45fec4){v['assert'](_0x45fec4),v['assert'](!_0x45fec4['vertexDefi'+'nes']||_0x45fec4['vertexDefi'+'nes']instanceof Map),v['assert'](!_0x45fec4['vertexIncl'+'udes']||_0x45fec4['vertexIncl'+'udes']instanceof Map),v['assert'](!_0x45fec4['fragmentDe'+'fines']||_0x45fec4['fragmentDe'+'fines']instanceof Map),v['assert'](!_0x45fec4['fragmentIn'+'cludes']||_0x45fec4['fragmentIn'+'cludes']instanceof Map);const _0x48bcc8=(_0x53da61,_0x2f2ac4,_0x227926,_0x45cbe8)=>{const _0x4beda6=_0x16affc['isWebGPU']?_0x53da61:_0x2f2ac4;let _0x128146='';if(!_0x227926){let _0x182d08=_0x45cbe8['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x182d08)||(_0x182d08=[_0x182d08]);for(let _0x4f73df=-0x496*0x2+0xc42+0x316*-0x1;_0x4f73df<_0x16affc['maxColorAt'+'tachments'];_0x4f73df++){_0x128146+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x4f73df+'\x0a';const _0x4e8dd9=_0x182d08[_0x4f73df]??'vec4';_0x128146+='#define\x20ou'+'tType_'+_0x4f73df+'\x20'+_0x4e8dd9+'\x0a';}}return _0x128146+_0x4beda6;},_0x2da7bf=_0x45fec4['name']??'Untitled';let _0x1d3a5f,_0x280c49;return _0x45fec4['shaderLang'+'uage']===Ph?(_0x1d3a5f=_0x45fec4['vertexCode'],_0x280c49=_0x45fec4['fragmentCo'+'de']):(_0x1d3a5f=Mt['versionCod'+'e'](_0x16affc)+_0x48bcc8(s0,e0,!(-0x4e1*0x2+0x1*0xe5b+-0x499),_0x45fec4)+Mt['getDefines'+'Code'](_0x45fec4['vertexDefi'+'nes'])+Mt['precisionC'+'ode'](_0x16affc)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2da7bf)+_0x45fec4['vertexCode'],_0x280c49=(_0x45fec4['fragmentPr'+'eamble']||'')+Mt['versionCod'+'e'](_0x16affc)+_0x48bcc8(t0,Jy,!(-0x1f3c+0x140*-0x19+-0x3ad*-0x11),_0x45fec4)+Mt['getDefines'+'Code'](_0x45fec4['fragmentDe'+'fines'])+Mt['precisionC'+'ode'](_0x16affc)+'\x0a'+Cm+Mt['getShaderN'+'ameCode'](_0x2da7bf)+(_0x45fec4['fragmentCo'+'de']||Mt['dummyFragm'+'entCode']())),{'name':_0x2da7bf,'shaderLanguage':_0x45fec4['shaderLang'+'uage']??ky,'attributes':_0x45fec4['attributes'],'vshader':_0x1d3a5f,'vincludes':_0x45fec4['vertexIncl'+'udes'],'fincludes':_0x45fec4['fragmentIn'+'cludes'],'fshader':_0x280c49,'useTransformFeedback':_0x45fec4['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x45fec4['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x45fec4['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x5e4aec){let _0x30be92='';return _0x5e4aec==null||_0x5e4aec['forEach']((_0x16a0d2,_0x7ffaff)=>{_0x30be92+='#define\x20'+_0x7ffaff+'\x20'+_0x16a0d2+'\x0a';}),_0x30be92;}static['getShaderN'+'ameCode'](_0x53de45){return'#define\x20SH'+'ADER_NAME\x20'+_0x53de45+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x3d6e60){return _0x3d6e60['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x15dc06,_0x2ee176){_0x2ee176&&_0x2ee176!=='highp'&&_0x2ee176!=='mediump'&&_0x2ee176!=='lowp'&&(_0x2ee176=null),_0x2ee176&&(_0x2ee176==='highp'&&_0x15dc06['maxPrecisi'+'on']!=='highp'&&(_0x2ee176='mediump'),_0x2ee176==='mediump'&&_0x15dc06['maxPrecisi'+'on']==='lowp'&&(_0x2ee176='lowp'));const _0x234280=_0x2ee176||_0x15dc06['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x234280+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x234280+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x234280+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x234280+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x234280+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x234280+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x234280+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x595278){const _0x843d15={};let _0x59c9bd=-0x5*0xcb+0x32*-0xa7+0x2495,_0x331d7c=_0x595278['indexOf']('attribute');for(;_0x331d7c>=-0x1*0x448+0x5*0x67d+-0x321*0x9&&!(_0x331d7c>-0x2f*0x35+-0x980+-0x3*-0x669&&_0x595278[_0x331d7c-(-0x1*0x11e1+0x1262+-0x2*0x40)]==='/');){let _0x20c9cf=!(-0x1*0x2023+-0x867+-0x61*-0x6b);if(_0x331d7c>-0xe23+-0x14ab+0x22ce){let _0x3533c6=_0x595278['lastIndexO'+'f']('\x0a',_0x331d7c);_0x3533c6=_0x3533c6!==-(0x1ddf+-0x58f+-0x184f)?_0x3533c6+(0x1ca1+0x22*0xfa+-0x3dd4):0x1e4*-0x9+-0x186+0x2*0x945,_0x595278['substring'](_0x3533c6,_0x331d7c)['includes']('#')&&(_0x20c9cf=!(0x10*0x4a+-0x1*0x22e1+-0x5*-0x60d));}if(!_0x20c9cf){const _0x5b1ec3=_0x595278['indexOf'](';',_0x331d7c),_0x490485=_0x595278['lastIndexO'+'f']('\x20',_0x5b1ec3),_0x2f0ce9=_0x595278['substring'](_0x490485+(0x11ad+0x264f+-0x11*0x34b),_0x5b1ec3);if(_0x843d15[_0x2f0ce9])v['warn']('Attribute\x20'+'['+_0x2f0ce9+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x595278});else{const _0x68601a=Qv[_0x2f0ce9];_0x68601a!==void(0x25f*0x10+-0x1503+0x26b*-0x7)?_0x843d15[_0x2f0ce9]=_0x68601a:(_0x843d15[_0x2f0ce9]='ATTR'+_0x59c9bd,_0x59c9bd++);}}_0x331d7c=_0x595278['indexOf']('attribute',_0x331d7c+(0x1fa0+0x1788+-0x3727));}return _0x843d15;}}let Jv=0x1100+-0x549+-0x1*0xbb7;class i0{constructor(_0x382392,_0x3b3928){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x382392,this['definition']=_0x3b3928,this['name']=_0x3b3928['name']||'Untitled',this['init'](),_0x3b3928['cshader'])v['assert'](_0x382392['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),v['assert'](!_0x3b3928['vshader']&&!_0x3b3928['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{v['assert'](_0x3b3928['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),v['assert'](_0x3b3928['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x3b3928['vshader']=Oh['run'](_0x3b3928['vshader'],_0x3b3928['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x3b3928['shaderLang'+'uage']===ky&&(_0x3b3928['attributes']??(_0x3b3928['attributes']=Mt['collectAtt'+'ributes'](_0x3b3928['vshader'])));const _0x560b90=_0x382392['isWebGL2']&&(ye['name']==='osx'||ye['name']==='ios');_0x3b3928['fshader']=Oh['run'](_0x3b3928['fshader'],_0x3b3928['fincludes'],{'stripUnusedColorAttachments':_0x560b90,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x382392['createShad'+'erImpl'](this),v['trace'](Zp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x225e+-0x1*-0x2f+-0x228c),this['failed']=!(-0x7*-0x67+-0x1117+0xe47);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){v['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Te=[];Te[$s]=function(_0x412c34,_0x5ee102,_0x59db7d){const _0x161729=_0x412c34['storageFlo'+'at32'];_0x161729[_0x59db7d]=_0x5ee102;},Te[or]=(_0xf7cc0d,_0x886403,_0x299a10)=>{const _0x31e85e=_0xf7cc0d['storageFlo'+'at32'];_0x31e85e[_0x299a10]=_0x886403[-0x470*0x4+0x2ba*-0x5+-0x67*-0x4e],_0x31e85e[_0x299a10+(0x1*-0x3ca+0x1511+-0x1146)]=_0x886403[-0x3*0x49+0xd*0x251+-0x1d41];},Te[$t]=(_0x1df3f5,_0x30cdd2,_0x114a42)=>{const _0x134ea3=_0x1df3f5['storageFlo'+'at32'];_0x134ea3[_0x114a42]=_0x30cdd2[0xa*-0x15b+0x351*-0x2+-0x1*-0x1430],_0x134ea3[_0x114a42+(0x1ce1+0x2686*-0x1+0x9a6)]=_0x30cdd2[-0x1696+-0x138+0x35*0x73],_0x134ea3[_0x114a42+(0x1*-0x617+0xc1d*-0x3+0x2a70)]=_0x30cdd2[-0x18d*-0x3+0x22ec+-0x1*0x2791];},Te[xa]=(_0x800caf,_0x5d6f51,_0x45d440)=>{const _0x48539f=_0x800caf['storageFlo'+'at32'];_0x48539f[_0x45d440]=_0x5d6f51[-0x1*-0x1e92+-0x12b7+0xbdb*-0x1],_0x48539f[_0x45d440+(-0x203d+0x1e11+-0x22d*-0x1)]=_0x5d6f51[-0x11*0x123+0x1c35+-0x8e1],_0x48539f[_0x45d440+(-0x2a*0x42+0x4*-0x7cf+0x2a12)]=_0x5d6f51[0x101+-0x2*0xbca+-0x3*-0x787],_0x48539f[_0x45d440+(-0x5*-0x399+-0x1*0x18c5+0x6cb)]=_0x5d6f51[-0x1dc6+-0x8*0x8b+0x2221];},Te[ln]=function(_0x392290,_0x47a394,_0xf1e3f4){const _0x274e7e=_0x392290['storageInt'+'32'];_0x274e7e[_0xf1e3f4]=_0x47a394;},Te[Zr]=function(_0x37b8db,_0x11c6c7,_0x22558b){const _0xb1e636=_0x37b8db['storageInt'+'32'];_0xb1e636[_0x22558b]=_0x11c6c7[0x53*-0x71+0x6*-0x376+0x1*0x3967],_0xb1e636[_0x22558b+(-0xdb+-0x13a+0x216)]=_0x11c6c7[0x1*-0x18d2+0x2*-0x74c+0x276b];},Te[Qr]=function(_0x34258c,_0x2433e7,_0x55703a){const _0x15113e=_0x34258c['storageInt'+'32'];_0x15113e[_0x55703a]=_0x2433e7[-0x1*-0x2450+0x118e+-0x35de],_0x15113e[_0x55703a+(0x1c*-0x139+0x1087+-0x8db*-0x2)]=_0x2433e7[-0x16cb+0xaa+0x1622],_0x15113e[_0x55703a+(-0x151+-0x99e*0x2+0x1*0x148f)]=_0x2433e7[0x1*0x5cf+0xa13*0x1+-0xfe0];},Te[Jr]=function(_0x4d0a04,_0x444d19,_0x4e20fa){const _0x4bc57c=_0x4d0a04['storageInt'+'32'];_0x4bc57c[_0x4e20fa]=_0x444d19[-0xe77+-0x7ee+0x1665],_0x4bc57c[_0x4e20fa+(0x5*0x14b+-0x1ae8+-0x1472*-0x1)]=_0x444d19[0x1918+-0x1*-0x9ad+-0x22c4],_0x4bc57c[_0x4e20fa+(-0x2413+0x115*0xa+-0x1943*-0x1)]=_0x444d19[0x4a*-0x35+-0x1*-0x229+0xd2b],_0x4bc57c[_0x4e20fa+(-0x108e+0x1625+-0x594)]=_0x444d19[0x8f5+0x1*0x22f+-0xb21];},Te[Rh]=(_0x29a2d8,_0x5215e5,_0x44983e)=>{const _0xc346a2=_0x29a2d8['storageFlo'+'at32'];_0xc346a2[_0x44983e]=_0x5215e5[0x19de+-0x8b*0x14+0x2*-0x781],_0xc346a2[_0x44983e+(-0x1524+-0xa57+0x1f*0x104)]=_0x5215e5[-0x103f*0x1+0x6a*-0x3e+-0xa7b*-0x4],_0xc346a2[_0x44983e+(0x1910+-0x3b*0x4b+-0x7c3*0x1)]=_0x5215e5[-0x1974+-0xb*0x253+0x3307],_0xc346a2[_0x44983e+(0x16f8+0x72e*-0x1+-0xfc5)]=_0x5215e5[-0x139a+0x2af+-0x10ee*-0x1],_0xc346a2[_0x44983e+(-0x851+-0x299*0xd+0xe0a*0x3)]=_0x5215e5[-0x2*-0x79b+0x21b*0x5+-0x19b9],_0xc346a2[_0x44983e+(-0xfd8+0x1*0x18f5+-0x914)]=_0x5215e5[-0xe1d*0x2+-0x7fe*0x4+0x3c37];},Te[ko]=(_0x30bb8b,_0x40f671,_0x5d6fa4)=>{const _0x4ac0c3=_0x30bb8b['storageFlo'+'at32'];_0x4ac0c3[_0x5d6fa4]=_0x40f671[0x13b0+-0x543*0x3+-0x3*0x14d],_0x4ac0c3[_0x5d6fa4+(0x1*0x1f3e+-0x2*-0x1049+-0x3fcf)]=_0x40f671[0x1*-0x10e1+-0x33a+0x21*0x9c],_0x4ac0c3[_0x5d6fa4+(-0xbca*0x2+-0x1d81+0x1*0x3517)]=_0x40f671[0x22f0+-0x1f6a*0x1+0xb4*-0x5],_0x4ac0c3[_0x5d6fa4+(0x1*0x1597+-0x1275+0x13*-0x2a)]=_0x40f671[0x1ffb+-0xdfa+0x2f*-0x62],_0x4ac0c3[_0x5d6fa4+(0xa7*-0x25+-0x2c*-0x32+0xf90)]=_0x40f671[-0x2386+0xb10+0x187a],_0x4ac0c3[_0x5d6fa4+(0x104a+-0x12c1*0x1+0x27d)]=_0x40f671[-0x1e39*0x1+0xa8d+0x13b1],_0x4ac0c3[_0x5d6fa4+(-0x1*0x883+-0x15*0x1c+0xb9*0xf)]=_0x40f671[0x193*-0x17+0xc15*-0x1+0x3050],_0x4ac0c3[_0x5d6fa4+(-0x2f*-0x31+0x22d*-0xd+0x1353)]=_0x40f671[0x79*-0x1+-0x1*0x1f84+0x2004],_0x4ac0c3[_0x5d6fa4+(-0x1*-0x1a78+0x570+-0x2*0xfef)]=_0x40f671[0x137f*-0x1+-0x1b06+0x2e8d];},Te[Dc]=function(_0x53e9c4,_0x353efd,_0xb8c00a,_0x4070d1){const _0x34ba25=_0x53e9c4['storageFlo'+'at32'];for(let _0x175e89=0x10e3*0x2+0x1f3*0x12+-0x153*0x34;_0x175e89<_0x4070d1;_0x175e89++)_0x34ba25[_0xb8c00a+_0x175e89*(-0x76+-0x1*-0x55+-0x1*-0x25)]=_0x353efd[_0x175e89];},Te[Lc]=(_0x1144ed,_0x345811,_0x5f0277,_0x5be2cb)=>{const _0x568f26=_0x1144ed['storageFlo'+'at32'];for(let _0x1abe16=-0x2476+0x1069+0x140d;_0x1abe16<_0x5be2cb;_0x1abe16++)_0x568f26[_0x5f0277+_0x1abe16*(-0xf8+0x198d+-0x1891)]=_0x345811[_0x1abe16*(-0x1*-0x4fb+-0x1*0x1bc7+0x16ce)],_0x568f26[_0x5f0277+_0x1abe16*(-0xd63*-0x2+-0x1bcc+0x10a)+(0xa2c+-0x1*-0xe67+-0x4ea*0x5)]=_0x345811[_0x1abe16*(-0x1*-0x117b+-0x615*-0x3+-0x23b8)+(0x25f9+0xaa*-0x1f+0x19*-0xb2)];},Te[Fc]=(_0x189b32,_0x59e0b7,_0x32abdb,_0x1aa781)=>{const _0x15f384=_0x189b32['storageFlo'+'at32'];for(let _0x28d0de=-0x61*0x7+0x50*-0x35+0x1337;_0x28d0de<_0x1aa781;_0x28d0de++)_0x15f384[_0x32abdb+_0x28d0de*(0x51a*0x5+-0x1ae2+0x1*0x164)]=_0x59e0b7[_0x28d0de*(-0x36*0x3e+-0x3de*-0x1+0x939)],_0x15f384[_0x32abdb+_0x28d0de*(-0x1e2a+0xd1d+0x11*0x101)+(0x10be+0xc32+-0x9a5*0x3)]=_0x59e0b7[_0x28d0de*(-0x6fd*0x4+0x1f2c+-0x1*0x335)+(0x930+-0x189*-0x5+-0x10dc)],_0x15f384[_0x32abdb+_0x28d0de*(0xbde+-0x1b99+0x1d*0x8b)+(-0x1680+0xd1*0x28+0x362*-0x3)]=_0x59e0b7[_0x28d0de*(0xd79*-0x1+0x1*-0x1a52+0x27ce)+(0x29*0x36+0xd33*0x1+-0x15d7)];},Te[va]=(_0x22a463,_0x253803,_0x4259fe,_0x42305d)=>{const _0xaece0d=_0x22a463['storageUin'+'t32'];_0xaece0d[_0x4259fe]=_0x253803;},Te[ba]=(_0x5e28f3,_0x24314b,_0x4181dd,_0xee3a16)=>{const _0x5773c6=_0x5e28f3['storageUin'+'t32'];_0x5773c6[_0x4181dd]=_0x24314b[0x15d6+0x72*-0x40+-0x355*-0x2],_0x5773c6[_0x4181dd+(0x131a+0x1977+-0x2c90)]=_0x24314b[-0x4e4+0x6b*-0x35+0x1b0c];},Te[wa]=(_0x4c48ca,_0x5b3f3b,_0xc1169,_0x48001e)=>{const _0x266e39=_0x4c48ca['storageUin'+'t32'];_0x266e39[_0xc1169]=_0x5b3f3b[0x1644+0x4*0x56b+-0x98*0x4a],_0x266e39[_0xc1169+(0x1052+0x2489+0xa5*-0x52)]=_0x5b3f3b[-0x5*0x793+-0xafa+-0x1a*-0x1e1],_0x266e39[_0xc1169+(0x21c2*-0x1+-0xf4b+0x1*0x310f)]=_0x5b3f3b[0x1d89*-0x1+-0x34*-0x49+0x1*0xeb7];},Te[Ta]=(_0x547b99,_0x2b4bee,_0x4cbf28,_0x83b3db)=>{const _0x34adf0=_0x547b99['storageUin'+'t32'];_0x34adf0[_0x4cbf28]=_0x2b4bee[0x11df+-0x19*0x167+0x1130],_0x34adf0[_0x4cbf28+(0x167*-0x1b+-0xdf*0x18+0x3ac6)]=_0x2b4bee[-0x6f1+-0x3*-0xc1f+0x1*-0x1d6b],_0x34adf0[_0x4cbf28+(0x2b*-0xa3+-0x7c3*-0x1+0x13a0)]=_0x2b4bee[0x262c*-0x1+-0x3*-0x35d+0x1c17],_0x34adf0[_0x4cbf28+(0x267b+-0x91f*0x3+-0xb1b)]=_0x2b4bee[0x2*0x108a+0x1fea+-0x40fb*0x1];},Te[Aa]=function(_0x4b6959,_0x174353,_0x12a8f7,_0x462e29){const _0x3af13f=_0x4b6959['storageInt'+'32'];for(let _0x5057ad=0x1327+0x2594+-0x38bb;_0x5057ad<_0x462e29;_0x5057ad++)_0x3af13f[_0x12a8f7+_0x5057ad*(0xd9+-0x26b+0x196)]=_0x174353[_0x5057ad];},Te[kc]=Te[Aa],Te[Oc]=function(_0x312eb3,_0x4cb5ed,_0xf6d66d,_0x1f00cc){const _0x21d358=_0x312eb3['storageUin'+'t32'];for(let _0x3e94e1=-0x3f*0x71+-0x5*0xbd+-0x150*-0x18;_0x3e94e1<_0x1f00cc;_0x3e94e1++)_0x21d358[_0xf6d66d+_0x3e94e1*(0x1*0x3df+0x4*0x115+-0x5*0x1a3)]=_0x4cb5ed[_0x3e94e1];},Te[Ea]=(_0x13ca93,_0x5820ac,_0x895cb4,_0x59b59d)=>{const _0x3b8fe1=_0x13ca93['storageInt'+'32'];for(let _0x2af4b0=-0x174+0x360*-0x6+-0x1*-0x15b4;_0x2af4b0<_0x59b59d;_0x2af4b0++)_0x3b8fe1[_0x895cb4+_0x2af4b0*(0x1adb+0x2*-0x1240+0x9a9*0x1)]=_0x5820ac[_0x2af4b0*(0x24ef*0x1+0x2052+-0x453f)],_0x3b8fe1[_0x895cb4+_0x2af4b0*(-0x2436+-0x1eba+0x10bd*0x4)+(0x2328+0x1117+-0x9*0x5ce)]=_0x5820ac[_0x2af4b0*(0x1f03+0x14c8+-0x33c9)+(-0x174f*0x1+-0x817*-0x1+0xf39)];},Te[Nc]=Te[Ea],Te[Bc]=(_0x318fca,_0x1def04,_0x59fa73,_0x591db0)=>{const _0x48659b=_0x318fca['storageUin'+'t32'];for(let _0x2e571c=-0x1f2e+-0xffa+0x2f28;_0x2e571c<_0x591db0;_0x2e571c++)_0x48659b[_0x59fa73+_0x2e571c*(-0x1189+0x1*-0x2263+0x2*0x19f8)]=_0x1def04[_0x2e571c*(-0xd13*-0x1+-0x80*0x5+0x5*-0x21d)],_0x48659b[_0x59fa73+_0x2e571c*(0x9ac+0x227+-0xbcf)+(-0x70+0x3d5*0x9+-0x220c*0x1)]=_0x1def04[_0x2e571c*(-0x9c5*0x1+0x133a*0x1+-0x973)+(-0x67c+0x32b*0x9+-0x1606)];},Te[Ca]=(_0x3476d9,_0x120ae1,_0xedeced,_0x442c0d)=>{const _0x2250f3=_0x3476d9['storageInt'+'32'];for(let _0x32e5c1=0x1*-0x1e89+0x1*0x1349+-0x6*-0x1e0;_0x32e5c1<_0x442c0d;_0x32e5c1++)_0x2250f3[_0xedeced+_0x32e5c1*(0xc*0xe5+0x26f2+-0x31aa)]=_0x120ae1[_0x32e5c1*(0xcce+0x7*-0x3e1+0xe5c)],_0x2250f3[_0xedeced+_0x32e5c1*(-0x14dc+0xca3+0x83d)+(0xfcf+0x759+-0x1727)]=_0x120ae1[_0x32e5c1*(-0x2494+-0x69d*-0x1+0x1dfa)+(-0x1ff4+-0x58b*-0x5+0x3*0x16a)],_0x2250f3[_0xedeced+_0x32e5c1*(-0x2621+0x1c57+0x9ce)+(0x64b+0x1*-0xc19+0x2e8*0x2)]=_0x120ae1[_0x32e5c1*(0x11cc+0x1418+0x1*-0x25e1)+(-0xc63+-0x4c0+0x1125)];},Te[Uc]=Te[Ca],Te[zc]=(_0x4a6d43,_0x37ae44,_0x2005f3,_0x246148)=>{const _0x35ac94=_0x4a6d43['storageUin'+'t32'];for(let _0x532f17=-0x1e1a*-0x1+-0x1*0xd89+-0x1091;_0x532f17<_0x246148;_0x532f17++)_0x35ac94[_0x2005f3+_0x532f17*(0x9b*0x19+-0x4c*0x3d+0x2fd)]=_0x37ae44[_0x532f17*(0x419*0x3+0x247f+-0x30c7)],_0x35ac94[_0x2005f3+_0x532f17*(0x2673+-0x1*-0xbe6+0x5*-0xa11)+(-0x821+-0x1c04+0x2426)]=_0x37ae44[_0x532f17*(-0x2f*0x4c+-0x20cf+0x1763*0x2)+(-0x7*0x545+-0xb*0x2ff+-0x1*-0x45d9)],_0x35ac94[_0x2005f3+_0x532f17*(0x130f+0x82f+-0x1b3a)+(-0x1bef+-0x997*0x4+0x424d)]=_0x37ae44[_0x532f17*(-0x1*-0x1963+0x2438+0x3d98*-0x1)+(0x19a2+0x13*0x184+-0x366c)];};class gp{constructor(_0x1dfc50,_0x29e8f6,_0x4c405d=!(0x146*0xd+-0xa2*0x22+-0x1*-0x4f6)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0x24e+0x14c2+0x52*-0x48);if(this['device']=_0x1dfc50,this['format']=_0x29e8f6,this['persistent']=_0x4c405d,v['assert'](_0x29e8f6),_0x4c405d){this['impl']=_0x1dfc50['createUnif'+'ormBufferI'+'mpl'](this);const _0x5a6df3=new ArrayBuffer(_0x29e8f6['byteSize']);this['assignStor'+'age'](new Int32Array(_0x5a6df3)),_0x1dfc50['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x11d642=this['device'];this['impl']['destroy'](_0x11d642),_0x11d642['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x6a3*0x3+-0x17b6+0x35b*0xd:this['allocation']['offset'];}['assignStor'+'age'](_0x228c05){this['storageInt'+'32']=_0x228c05,this['storageUin'+'t32']=new Uint32Array(_0x228c05['buffer'],_0x228c05['byteOffset'],_0x228c05['byteLength']/(0x1*-0xb42+-0x28*0xdf+0x2e1e)),this['storageFlo'+'at32']=new Float32Array(_0x228c05['buffer'],_0x228c05['byteOffset'],_0x228c05['byteLength']/(0x89*0x6+-0x3*-0x527+0x12a7*-0x1));}['loseContex'+'t'](){var _0x3061da;(_0x3061da=this['impl'])==null||_0x3061da['loseContex'+'t']();}['setUniform'](_0x3b4502,_0x2e8037){v['assert'](_0x3b4502);const _0x397b58=_0x3b4502['offset'];if(_0x2e8037!=null){const _0x43835a=Te[_0x3b4502['updateType']];_0x43835a?_0x43835a(this,_0x2e8037,_0x397b58,_0x3b4502['count']):this['storageFlo'+'at32']['set'](_0x2e8037,_0x397b58);}else v['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x3b4502['name']+('],\x20expecte'+'d\x20type\x20')+dp[_0x3b4502['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x229776,_0x3b6658){const _0x302271=this['format']['map']['get'](_0x229776);v['assert'](_0x302271,'Uniform\x20na'+'me\x20['+_0x229776+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x302271&&this['setUniform'](_0x302271,_0x3b6658);}['startUpdat'+'e'](_0xb4e266){if(!this['persistent']){const _0x1df93a=this['allocation'],_0x5ebbd7=_0x1df93a['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x1df93a,this['format']['byteSize']),this['assignStor'+'age'](_0x1df93a['storage']),_0xb4e266&&(_0xb4e266['bindGroup']=_0x1df93a['gpuBuffer']['getBindGro'+'up'](this),_0xb4e266['offsets'][-0x1*-0x1bda+-0x63+-0x4f*0x59]=_0x1df93a['offset']),_0x5ebbd7!==_0x1df93a['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x39c236){this['startUpdat'+'e'](_0x39c236);const _0x250a82=this['format']['uniforms'];for(let _0x4230e2=0x1d*0x123+0x1*0x2f6+-0x23ed*0x1;_0x4230e2<_0x250a82['length'];_0x4230e2++){const _0x31a8ba=_0x250a82[_0x4230e2]['scopeId']['value'];this['setUniform'](_0x250a82[_0x4230e2],_0x31a8ba);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(0x1c13+0x1c95+0x38a7*-0x1)),c(this,'_enableReq'+'uest',!(0x1*0x1de7+0x46f+0x205*-0x11)),c(this,'_frameTime',0x13d9+0x2289+-0x3662);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x4eddd3){this['_enableReq'+'uest']=_0x4eddd3;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x1357*-0x1+-0x1*0x225d+0x7ac*0x7));}['request'](_0x1b8af2){this['pastFrameA'+'llocations']['set'](_0x1b8af2,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0xca190f,_0x1875f5){if(_0x1875f5){const _0x5834f1=this['pastFrameA'+'llocations']['get'](_0xca190f);if(v['assert'](_0x5834f1['length']===_0x1875f5['length']),_0x1875f5['length']>0x1203+-0x592*0x4+0x445&&(this['_frameTime']=_0x1875f5[-0xf4a+0x2540+-0x15f6]),Xs['get'](ml)){v['trace'](ml,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0xca190f+'\x20--');let _0x546ff8=-0xa*-0x35f+-0x1753*0x1+-0xa63;for(let _0x21314a=-0x980+-0xe55*-0x1+-0x4d5;_0x21314a<_0x5834f1['length'];++_0x21314a){const _0xd339f1=_0x5834f1[_0x21314a];_0x546ff8+=_0x1875f5[_0x21314a],v['trace'](ml,_0x1875f5[_0x21314a]['toFixed'](0x789+-0x207b+-0x18f4*-0x1)+'\x20ms\x20'+_0xd339f1);}v['trace'](ml,_0x546ff8['toFixed'](-0x1f9e+-0x260a+-0x22d5*-0x2)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0xca190f);}['getSlot'](_0x4be356){const _0x5061af=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x4be356),_0x5061af;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class r0{constructor(){c(this,'bufferId',null);}['destroy'](_0x34f5a8){this['bufferId']&&(_0x34f5a8['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x2e173e,_0x54acb,_0x29d548,_0x2e1783){const _0x5bef2=_0x2e173e['gl'];if(this['bufferId'])_0x5bef2['bindBuffer'](_0x29d548,this['bufferId']),_0x5bef2['bufferSubD'+'ata'](_0x29d548,-0xc80+-0xd7a+0x19fa,_0x2e1783);else{let _0x57fb64;switch(_0x54acb){case jt:_0x57fb64=_0x5bef2['STATIC_DRA'+'W'];break;case Th:_0x57fb64=_0x5bef2['DYNAMIC_DR'+'AW'];break;case uy:_0x57fb64=_0x5bef2['STREAM_DRA'+'W'];break;case PS:_0x57fb64=_0x5bef2['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x5bef2['createBuff'+'er'](),_0x5bef2['bindBuffer'](_0x29d548,this['bufferId']),_0x5bef2['bufferData'](_0x29d548,_0x2e1783,_0x57fb64);}}}class sb extends r0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x128fd4){super['destroy'](_0x128fd4),_0x128fd4['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x568b14){const _0x27e1f9=_0x568b14['device'];super['unlock'](_0x27e1f9,_0x568b14['usage'],_0x27e1f9['gl']['ARRAY_BUFF'+'ER'],_0x568b14['storage']);}}class ib extends r0{constructor(_0x457be8){super();const _0x564be2=_0x457be8['device']['gl'],_0x2ef4a8=_0x457be8['format'];_0x2ef4a8===pu?this['glFormat']=_0x564be2['UNSIGNED_B'+'YTE']:_0x2ef4a8===Pi?this['glFormat']=_0x564be2['UNSIGNED_S'+'HORT']:_0x2ef4a8===nr&&(this['glFormat']=_0x564be2['UNSIGNED_I'+'NT']);}['unlock'](_0x1f6d12){const _0x358a9c=_0x1f6d12['device'];super['unlock'](_0x358a9c,_0x1f6d12['usage'],_0x358a9c['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x1f6d12['storage']);}}class Mm{constructor(_0x29e8b9,_0x77a44d,_0x2b9b5d,_0x3e881a){if(this['locationId']=_0x3e881a,this['scopeId']=_0x29e8b9['scope']['resolve'](_0x77a44d),this['version']=new Ky(),_0x77a44d['substring'](_0x77a44d['length']-(0x234b+-0x10b1+-0x1*0x1297))==='[0]')switch(_0x2b9b5d){case $s:_0x2b9b5d=Dc;break;case ln:_0x2b9b5d=Aa;break;case va:_0x2b9b5d=Oc;break;case ca:_0x2b9b5d=kc;break;case or:_0x2b9b5d=Lc;break;case Zr:_0x2b9b5d=Ea;break;case ba:_0x2b9b5d=Bc;break;case Lo:_0x2b9b5d=Nc;break;case $t:_0x2b9b5d=Fc;break;case Qr:_0x2b9b5d=Ca;break;case wa:_0x2b9b5d=zc;break;case Fo:_0x2b9b5d=Uc;break;case xa:_0x2b9b5d=lp;break;case Jr:_0x2b9b5d=Ih;break;case Ta:_0x2b9b5d=hp;break;case Oo:_0x2b9b5d=cp;break;}this['dataType']=_0x2b9b5d,this['value']=[null,null,null,null],this['array']=[];}}let Pm=-0x6ee*-0x2+0xa6*-0x1f+0x63e*0x1;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x22fe00){this['map']['forEach'](_0x413a94=>{_0x22fe00['gl']['deleteShad'+'er'](_0x413a94);});}['loseContex'+'t'](_0x1b7fa5){this['map']['clear']();}}const ab=new Ot(),ob=new Ot();class lb{constructor(_0x5aa07b){c(this,'compileDur'+'ation',0x20a3+0x99a+-0x2a3d),(this['init'](),this['compile'](_0x5aa07b['device'],_0x5aa07b),this['link'](_0x5aa07b['device'],_0x5aa07b),_0x5aa07b['device']['shaders']['push'](_0x5aa07b));}['destroy'](_0x2ff290){this['glProgram']&&(_0x2ff290['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x12eef2,_0xd8aeb){this['compile'](_0x12eef2,_0xd8aeb),this['link'](_0x12eef2,_0xd8aeb);}['compile'](_0x1f30ab,_0x31e6fc){const _0x5f54ee=_0x31e6fc['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x1f30ab,_0x5f54ee['vshader'],!(-0x6c5*0x3+0x19d4+0x1*-0x585)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x1f30ab,_0x5f54ee['fshader'],!(-0x50f+-0x553+-0xa63*-0x1));}['link'](_0x1ac712,_0x58e2e3){if(this['glProgram'])return;const _0x3836cc=_0x1ac712['gl'];if(_0x3836cc['isContextL'+'ost']())return;let _0x28a3a7=0x3bc+0x123*0x1+-0x4df;v['call'](()=>{this['compileDur'+'ation']=0xcb3+0xc2*0xc+-0x15cb,_0x28a3a7=ne();});const _0x3efdf0=_0x3836cc['createProg'+'ram']();this['glProgram']=_0x3efdf0,_0x3836cc['attachShad'+'er'](_0x3efdf0,this['glVertexSh'+'ader']),_0x3836cc['attachShad'+'er'](_0x3efdf0,this['glFragment'+'Shader']);const _0x44ed1f=_0x58e2e3['definition'],_0x184a7b=_0x44ed1f['attributes'];if(_0x44ed1f['useTransfo'+'rmFeedback']){const _0x13be0e=[];for(const _0x3fd23c in _0x184a7b)_0x184a7b['hasOwnProp'+'erty'](_0x3fd23c)&&_0x13be0e['push']('out_'+_0x3fd23c);_0x3836cc['transformF'+'eedbackVar'+'yings'](_0x3efdf0,_0x13be0e,_0x3836cc['INTERLEAVE'+'D_ATTRIBS']);}const _0x464f27={};for(const _0x2508f9 in _0x184a7b)if(_0x184a7b['hasOwnProp'+'erty'](_0x2508f9)){const _0x12ca6e=_0x184a7b[_0x2508f9],_0x5f0c97=ve[_0x12ca6e];v['assert'](!_0x464f27['hasOwnProp'+'erty'](_0x5f0c97),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x464f27[_0x5f0c97]+'\x20and\x20'+_0x2508f9),_0x464f27[_0x5f0c97]=_0x2508f9,_0x3836cc['bindAttrib'+'Location'](_0x3efdf0,_0x5f0c97,_0x2508f9);}_0x3836cc['linkProgra'+'m'](_0x3efdf0),v['call'](()=>{this['compileDur'+'ation']=ne()-_0x28a3a7;}),_0x1ac712['_shaderSta'+'ts']['linked']++,_0x44ed1f['tag']===Ly&&_0x1ac712['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x45c2c9,_0x373fa4,_0x2aa39f){const _0x31e5ce=_0x45c2c9['gl'];if(_0x31e5ce['isContextL'+'ost']())return null;const _0x21df4c=(_0x2aa39f?ab:ob)['get'](_0x45c2c9,()=>new nb());let _0x2169c8=_0x21df4c['map']['get'](_0x373fa4);if(!_0x2169c8){const _0x401ce3=ne();_0x45c2c9['fire']('shader:com'+'pile:start',{'timestamp':_0x401ce3,'target':_0x45c2c9}),_0x2169c8=_0x31e5ce['createShad'+'er'](_0x2aa39f?_0x31e5ce['VERTEX_SHA'+'DER']:_0x31e5ce['FRAGMENT_S'+'HADER']),_0x31e5ce['shaderSour'+'ce'](_0x2169c8,_0x373fa4),_0x31e5ce['compileSha'+'der'](_0x2169c8),_0x21df4c['map']['set'](_0x373fa4,_0x2169c8);const _0x13d241=ne();_0x45c2c9['fire']('shader:com'+'pile:end',{'timestamp':_0x13d241,'target':_0x45c2c9}),_0x45c2c9['_shaderSta'+'ts']['compileTim'+'e']+=_0x13d241-_0x401ce3,_0x2aa39f?_0x45c2c9['_shaderSta'+'ts']['vsCompiled']++:_0x45c2c9['_shaderSta'+'ts']['fsCompiled']++;}return _0x2169c8;}['finalize'](_0x21ad82,_0x4afe1b){var _0x1ed8ca,_0xdd1b84;const _0x3cd0be=_0x21ad82['gl'];if(_0x3cd0be['isContextL'+'ost']())return!(-0x42c*0x9+0xf6*0x9+-0xe73*-0x2);const _0x27c866=this['glProgram'],_0x3f199c=_0x4afe1b['definition'],_0x44a312=ne();_0x21ad82['fire']('shader:lin'+'k:start',{'timestamp':_0x44a312,'target':_0x21ad82});let _0x1c1100=0xae1+0x1003*-0x1+0x522*0x1;if(v['call'](()=>{_0x1c1100=ne();}),!_0x3cd0be['getProgram'+'Parameter'](_0x27c866,_0x3cd0be['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x21ad82,_0x4afe1b,this['glVertexSh'+'ader'],_0x3f199c['vshader'],'vertex')||!this['_isCompile'+'d'](_0x21ad82,_0x4afe1b,this['glFragment'+'Shader'],_0x3f199c['fshader'],'fragment'))return!(0x25d2*-0x1+0x1a1b+0x7d*0x18);const _0x4c4eba='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x3cd0be['getProgram'+'InfoLog'](_0x27c866);return _0x3f199c['translated'+'Frag']=(_0x1ed8ca=_0x3cd0be['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x208b+0x1af2+0x3b7d*-0x1):_0x1ed8ca['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x3f199c['translated'+'Vert']=(_0xdd1b84=_0x3cd0be['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x2413+0x990+0x1a83*0x1):_0xdd1b84['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x4c4eba,_0x3f199c),console['error'](_0x4c4eba),!(-0x6a8+-0x183*0x19+0x2c74);}const _0x3da0fd=_0x3cd0be['getProgram'+'Parameter'](_0x27c866,_0x3cd0be['ACTIVE_ATT'+'RIBUTES']);for(let _0x2ac0b5=-0x16f*-0x3+-0x23c1+-0x16e*-0x16;_0x2ac0b5<_0x3da0fd;_0x2ac0b5++){const _0x317595=_0x3cd0be['getActiveA'+'ttrib'](_0x27c866,_0x2ac0b5),_0x3325f5=_0x3cd0be['getAttribL'+'ocation'](_0x27c866,_0x317595['name']);if(!rb['has'](_0x317595['name'])){if(_0x3f199c['attributes'][_0x317595['name']]===void(-0x1aa7+0x2313+-0x1c*0x4d))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x317595['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x4afe1b['label']+']',_0x4afe1b),_0x4afe1b['failed']=!(0x1fcd+-0x3d4+-0x1bf9);else{const _0x281cdd=new Mm(_0x21ad82,_0x3f199c['attributes'][_0x317595['name']],_0x21ad82['pcUniformT'+'ype'][_0x317595['type']],_0x3325f5);this['attributes']['push'](_0x281cdd);}}}const _0x24cc41=_0x21ad82['_samplerTy'+'pes'],_0x3e073d=_0x3cd0be['getProgram'+'Parameter'](_0x27c866,_0x3cd0be['ACTIVE_UNI'+'FORMS']);for(let _0x5ed936=0x3cc+0x1d33+-0x20ff;_0x5ed936<_0x3e073d;_0x5ed936++){const _0x49d802=_0x3cd0be['getActiveU'+'niform'](_0x27c866,_0x5ed936),_0x303110=_0x3cd0be['getUniform'+'Location'](_0x27c866,_0x49d802['name']),_0x3c4d72=new Mm(_0x21ad82,_0x49d802['name'],_0x21ad82['pcUniformT'+'ype'][_0x49d802['type']],_0x303110);_0x24cc41['has'](_0x49d802['type'])?this['samplers']['push'](_0x3c4d72):this['uniforms']['push'](_0x3c4d72);}_0x4afe1b['ready']=!(-0x12c1+0x104f+0x272);const _0xc45d24=ne();return _0x21ad82['fire']('shader:lin'+'k:end',{'timestamp':_0xc45d24,'target':_0x21ad82}),_0x21ad82['_shaderSta'+'ts']['compileTim'+'e']+=_0xc45d24-_0x44a312,v['call'](()=>{const _0x41c564=ne()-_0x1c1100;this['compileDur'+'ation']+=_0x41c564,Pm+=this['compileDur'+'ation'],v['trace'](Yx,'[id:\x20'+_0x4afe1b['id']+']\x20'+_0x4afe1b['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0x1d42+0x286+0x5*0x559)+('ms,\x20TOTAL:'+'\x20')+Pm['toFixed'](0x2289*0x1+0x1*-0x239f+-0x117*-0x1)+'ms');}),!(-0x1ce4+0x1758*-0x1+0x1*0x343c);}['_isCompile'+'d'](_0x41c8f7,_0x3437f7,_0x114c77,_0x249618,_0x44e3ee){const _0x575c9a=_0x41c8f7['gl'];if(!_0x575c9a['getShaderP'+'arameter'](_0x114c77,_0x575c9a['COMPILE_ST'+'ATUS'])){const _0x19822e=_0x575c9a['getShaderI'+'nfoLog'](_0x114c77),[_0x4360a7,_0x20e7bf]=this['_processEr'+'ror'](_0x249618,_0x19822e),_0x4faea4='Failed\x20to\x20'+'compile\x20'+_0x44e3ee+'\x20shader:\x0a\x0a'+_0x19822e+'\x0a'+_0x4360a7+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x20e7bf['shader']=_0x3437f7,console['error'](_0x4faea4,_0x20e7bf),console['error'](_0x4faea4),!(-0x1a6a+0xf00+-0xb6b*-0x1);}return!(-0x1976+0x79f+0x1*0x11d7);}['isLinked'](_0x382af1){const {extParallelShaderCompile:_0x52fb42}=_0x382af1;return _0x52fb42?_0x382af1['gl']['getProgram'+'Parameter'](this['glProgram'],_0x52fb42['COMPLETION'+'_STATUS_KH'+'R']):!(-0x4e4+0x2f4+0x1f0);}['_processEr'+'ror'](_0x5a427e,_0x3339fd){const _0x51056b={};let _0x4ee9c2='';if(_0x5a427e){const _0x1c4a29=_0x5a427e['split']('\x0a');let _0x531ec0=-0x5c*-0xe+0x1ce1*-0x1+0x17d9,_0x2e8326=_0x1c4a29['length'];if(_0x3339fd&&_0x3339fd['startsWith']('ERROR:')){const _0x2feec9=_0x3339fd['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x2feec9&&(_0x51056b['message']=_0x2feec9[0x13f1+0x2191+0xab3*-0x5],_0x51056b['line']=parseInt(_0x2feec9[-0x239c+0x5be*-0x3+0x34d8],0x67b*-0x4+0x1c1c+-0x226),_0x531ec0=Math['max'](-0x1*-0xbfb+-0x1774+-0x3d3*-0x3,_0x51056b['line']-(0xbee+0x73b+0x1323*-0x1)),_0x2e8326=Math['min'](_0x1c4a29['length'],_0x51056b['line']+(-0x750+0x522+0x233)));}for(let _0x21e3ab=_0x531ec0;_0x21e3ab<_0x2e8326;_0x21e3ab++)_0x4ee9c2+=_0x21e3ab+(0x214f*-0x1+0x13*0x2f+0x1dd3)+':\x09'+_0x1c4a29[_0x21e3ab]+'\x0a';_0x51056b['source']=_0x5a427e;}return[_0x4ee9c2,_0x51056b];}}function Rm(_0xc812c7,_0x57fc7b){const _0x3e0919=_0xc812c7['width'],_0x279967=_0xc812c7['height'];if(_0x3e0919>_0x57fc7b||_0x279967>_0x57fc7b){const _0x4a154e=_0x57fc7b/Math['max'](_0x3e0919,_0x279967),_0x43cafb=Math['floor'](_0x3e0919*_0x4a154e),_0x674e0b=Math['floor'](_0x279967*_0x4a154e);v['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x57fc7b+('.\x20Resizing'+'\x20from\x20')+_0x3e0919+',\x20'+_0x279967+'\x20to\x20'+_0x43cafb+',\x20'+_0x674e0b+'.');const _0x30dd5e=document['createElem'+'ent']('canvas');return _0x30dd5e['width']=_0x43cafb,_0x30dd5e['height']=_0x674e0b,_0x30dd5e['getContext']('2d')['drawImage'](_0xc812c7,-0x2692*-0x1+-0x11f9*0x1+-0x1499*0x1,0x1eab+-0x1377+-0xb34,_0x3e0919,_0x279967,0x569+0xa9e+-0x1007,0xa06+0x14c2+0x7b2*-0x4,_0x43cafb,_0x674e0b),_0x30dd5e;}return _0xc812c7;}class hb{constructor(_0x39c666){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',0x47f*0x3+0x1c0+-0xf3d),this['texture']=_0x39c666;}['destroy'](_0x66427a){if(this['_glTexture']){for(let _0x1d64ca=-0x8e4*-0x3+-0x4df*-0x1+-0x11*0x1db;_0x1d64ca<_0x66427a['textureUni'+'ts']['length'];_0x1d64ca++){const _0x1c94f9=_0x66427a['textureUni'+'ts'][_0x1d64ca];for(let _0x254817=0xb67+0xfd*0x19+-0x241c;_0x254817<_0x1c94f9['length'];_0x254817++)_0x1c94f9[_0x254817]===this['_glTexture']&&(_0x1c94f9[_0x254817]=null);}_0x66427a['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x57aa41){this['dirtyParam'+'eterFlags']|=_0x57aa41;}['initialize'](_0x2a90cb,_0x275b80){const _0x5b6b0b=_0x2a90cb['gl'];switch(this['_glTexture']=_0x5b6b0b['createText'+'ure'](),this['_glTarget']=_0x275b80['_cubemap']?_0x5b6b0b['TEXTURE_CU'+'BE_MAP']:_0x275b80['_volume']?_0x5b6b0b['TEXTURE_3D']:_0x275b80['array']?_0x5b6b0b['TEXTURE_2D'+'_ARRAY']:_0x5b6b0b['TEXTURE_2D'],_0x275b80['_format']){case fy:this['_glFormat']=_0x5b6b0b['ALPHA'],this['_glInterna'+'lFormat']=_0x5b6b0b['ALPHA'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case py:this['_glFormat']=_0x5b6b0b['LUMINANCE'],this['_glInterna'+'lFormat']=_0x5b6b0b['LUMINANCE'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case Bf:this['_glFormat']=_0x5b6b0b['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x5b6b0b['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case sp:this['_glFormat']=_0x5b6b0b['RED'],this['_glInterna'+'lFormat']=_0x5b6b0b['R8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x5b6b0b['RG'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case _c:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGB'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT_5_6_5'];break;case Nf:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case gc:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case dr:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGB8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case Se:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case yy:case by:v['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case yc:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case zf:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case $o:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case bc:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case qo:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Xo:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case wc:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Tc:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case Vf:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case Gf:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case my:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case _y:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case gy:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case wy:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ty:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ay:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case mu:this['_glFormat']=_0x5b6b0b['SRGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case _u:this['_glFormat']=_0x5b6b0b['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case gu:this['_glFormat']=_0x5b6b0b['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case yu:this['_glFormat']=_0x5b6b0b['SRGB'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case xu:this['_glFormat']=_0x5b6b0b['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Su:this['_glFormat']=_0x5b6b0b['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x2a90cb['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case vu:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x2a90cb['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case Ec:this['_glFormat']=_0x5b6b0b['RED'],this['_glInterna'+'lFormat']=_0x5b6b0b['R16F'],this['_glPixelTy'+'pe']=_0x5b6b0b['HALF_FLOAT'];break;case tp:this['_glFormat']=_0x5b6b0b['RG'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG16F'],this['_glPixelTy'+'pe']=_0x5b6b0b['HALF_FLOAT'];break;case xc:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGB16F'],this['_glPixelTy'+'pe']=_0x5b6b0b['HALF_FLOAT'];break;case Je:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA16F'],this['_glPixelTy'+'pe']=_0x5b6b0b['HALF_FLOAT'];break;case Sc:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGB32F'],this['_glPixelTy'+'pe']=_0x5b6b0b['FLOAT'];break;case Ke:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA32F'],this['_glPixelTy'+'pe']=_0x5b6b0b['FLOAT'];break;case Ii:this['_glFormat']=_0x5b6b0b['RED'],this['_glInterna'+'lFormat']=_0x5b6b0b['R32F'],this['_glPixelTy'+'pe']=_0x5b6b0b['FLOAT'];break;case Ci:this['_glFormat']=_0x5b6b0b['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x5b6b0b['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x5b6b0b['FLOAT'];break;case la:this['_glFormat']=_0x5b6b0b['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x5b6b0b['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT'];break;case vc:this['_glFormat']=_0x5b6b0b['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x5b6b0b['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_I'+'NT_24_8'];break;case _a:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x5b6b0b['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Uf:this['_glFormat']=_0x5b6b0b['RGB'],this['_glInterna'+'lFormat']=_0x5b6b0b['SRGB8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case rs:this['_glFormat']=_0x5b6b0b['RGBA'],this['_glInterna'+'lFormat']=_0x5b6b0b['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case Hf:this['_glFormat']=_0x5b6b0b['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5b6b0b['R8I'],this['_glPixelTy'+'pe']=_0x5b6b0b['BYTE'];break;case xy:this['_glFormat']=_0x5b6b0b['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5b6b0b['R8UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case Wf:this['_glFormat']=_0x5b6b0b['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5b6b0b['R16I'],this['_glPixelTy'+'pe']=_0x5b6b0b['SHORT'];break;case $f:this['_glFormat']=_0x5b6b0b['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5b6b0b['R16UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT'];break;case qf:this['_glFormat']=_0x5b6b0b['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5b6b0b['R32I'],this['_glPixelTy'+'pe']=_0x5b6b0b['INT'];break;case an:this['_glFormat']=_0x5b6b0b['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5b6b0b['R32UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_I'+'NT'];break;case Xf:this['_glFormat']=_0x5b6b0b['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG8I'],this['_glPixelTy'+'pe']=_0x5b6b0b['BYTE'];break;case Sy:this['_glFormat']=_0x5b6b0b['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG8UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x5b6b0b['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG16I'],this['_glPixelTy'+'pe']=_0x5b6b0b['SHORT'];break;case Yf:this['_glFormat']=_0x5b6b0b['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG16UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x5b6b0b['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG32I'],this['_glPixelTy'+'pe']=_0x5b6b0b['INT'];break;case Zf:this['_glFormat']=_0x5b6b0b['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RG32UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_I'+'NT'];break;case Qf:this['_glFormat']=_0x5b6b0b['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA8I'],this['_glPixelTy'+'pe']=_0x5b6b0b['BYTE'];break;case vy:this['_glFormat']=_0x5b6b0b['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA8UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_B'+'YTE'];break;case Jf:this['_glFormat']=_0x5b6b0b['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA16I'],this['_glPixelTy'+'pe']=_0x5b6b0b['SHORT'];break;case Ac:this['_glFormat']=_0x5b6b0b['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA16UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x5b6b0b['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA32I'],this['_glPixelTy'+'pe']=_0x5b6b0b['INT'];break;case ut:this['_glFormat']=_0x5b6b0b['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5b6b0b['RGBA32UI'],this['_glPixelTy'+'pe']=_0x5b6b0b['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x11fe+-0x7cf*0x1+-0x2*0x517);}['upload'](_0x1f82e3,_0x11bf57){v['assert'](_0x11bf57['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x11bf57);const _0x2d8612=_0x1f82e3['gl'];if(!_0x11bf57['_needsUplo'+'ad']&&(_0x11bf57['_needsMipm'+'apsUpload']&&_0x11bf57['_mipmapsUp'+'loaded']||!_0x11bf57['pot']))return;let _0x293acb=0x2363+-0x5*0x622+-0x4b9,_0x2c9e07,_0x56da77;const _0xbbee5b=_0x11bf57['numLevels'];for(_0x11bf57['array']&&_0x2d8612['texStorage'+'3D'](_0x2d8612['TEXTURE_2D'+'_ARRAY'],_0xbbee5b,this['_glInterna'+'lFormat'],_0x11bf57['_width'],_0x11bf57['_height'],_0x11bf57['_arrayLeng'+'th']);_0x11bf57['_levels'][_0x293acb]||_0x293acb===0x243f+0x1da*-0x11+-0x4c5;){if(!_0x11bf57['_needsUplo'+'ad']&&_0x293acb===0x1668*0x1+0x2a1+-0x1909){_0x293acb++;continue;}else{if(_0x293acb&&(!_0x11bf57['_needsMipm'+'apsUpload']||!_0x11bf57['_mipmaps']))break;}if(_0x2c9e07=_0x11bf57['_levels'][_0x293acb],_0x56da77=(-0x583+0x795*-0x3+0x1*0x1c43)/Math['pow'](0x1*0x23f1+-0x40a+0x47*-0x73,_0x293acb),_0x293acb===0xac9*0x2+0x1807+-0x2d98&&!_0x11bf57['_compresse'+'d']&&!_0x11bf57['_integerFo'+'rmat']&&_0x11bf57['_levels']['length']<_0xbbee5b&&(_0x2d8612['generateMi'+'pmap'](this['_glTarget']),_0x11bf57['_mipmapsUp'+'loaded']=!(0x218*0x1+-0x184c+0x1634)),_0x11bf57['_cubemap']){let _0x36530a;if(_0x1f82e3['_isBrowser'+'Interface'](_0x2c9e07[-0x11af*0x2+0xe35*-0x1+0x157*0x25]))for(_0x36530a=-0x1750+-0x6b0+0x10*0x1e0;_0x36530a<-0x1961+0xd83+-0x5f2*-0x2;_0x36530a++){if(!_0x11bf57['_levelsUpd'+'ated'][-0x12d4+0x26ca+-0x1ff*0xa][_0x36530a])continue;let _0x1cb9f4=_0x2c9e07[_0x36530a];_0x1f82e3['_isImageBr'+'owserInter'+'face'](_0x1cb9f4)&&(_0x1cb9f4['width']>_0x1f82e3['maxCubeMap'+'Size']||_0x1cb9f4['height']>_0x1f82e3['maxCubeMap'+'Size'])&&(_0x1cb9f4=Rm(_0x1cb9f4,_0x1f82e3['maxCubeMap'+'Size']),_0x293acb===-0x26d7+-0x1*0xb33+0x320a&&(_0x11bf57['_width']=_0x1cb9f4['width'],_0x11bf57['_height']=_0x1cb9f4['height'])),_0x1f82e3['setUnpackF'+'lipY'](!(0x1*-0x1e09+-0xa33+0x283d)),_0x1f82e3['setUnpackP'+'remultiply'+'Alpha'](_0x11bf57['_premultip'+'lyAlpha']),this['_glCreated']?_0x2d8612['texSubImag'+'e2D'](_0x2d8612['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36530a,_0x293acb,0x4bd*0x1+0x31d+0x7da*-0x1,0x383+0x191d*-0x1+-0x2*-0xacd,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1cb9f4):_0x2d8612['texImage2D'](_0x2d8612['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36530a,_0x293acb,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1cb9f4);}else for(_0x56da77=(-0x154+0xa77+-0x922*0x1)/Math['pow'](-0x4b0+0x1bfc+-0x1*0x174a,_0x293acb),_0x36530a=0x24f*0x2+0x2210+0x26ae*-0x1;_0x36530a<0x24d4*-0x1+0xb7b*-0x2+0x3bd0;_0x36530a++){if(!_0x11bf57['_levelsUpd'+'ated'][0x3*-0x745+0x41+0x158e][_0x36530a])continue;const _0x5ca0b4=_0x2c9e07[_0x36530a];_0x11bf57['_compresse'+'d']?this['_glCreated']&&_0x5ca0b4?_0x2d8612['compressed'+'TexSubImag'+'e2D'](_0x2d8612['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36530a,_0x293acb,0x22b9+0xbde+-0x2e97,-0x4d*-0x43+-0x5fb*0x1+-0x38b*0x4,Math['max'](_0x11bf57['_width']*_0x56da77,0x432*-0x6+0x1*-0x57d+0x1eaa),Math['max'](_0x11bf57['_height']*_0x56da77,0x267+-0x1*0x77b+-0x515*-0x1),this['_glInterna'+'lFormat'],_0x5ca0b4):_0x2d8612['compressed'+'TexImage2D'](_0x2d8612['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36530a,_0x293acb,this['_glInterna'+'lFormat'],Math['max'](_0x11bf57['_width']*_0x56da77,0x85d+-0x1*0x1d9b+0x103*0x15),Math['max'](_0x11bf57['_height']*_0x56da77,-0x1154*0x1+0x5*0x35f+0x7a*0x1),0x1*0x23a7+-0x1161+-0x1246,_0x5ca0b4):(_0x1f82e3['setUnpackF'+'lipY'](!(-0x20bd+-0x4*-0x42+0x6*0x549)),_0x1f82e3['setUnpackP'+'remultiply'+'Alpha'](_0x11bf57['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5ca0b4?_0x2d8612['texSubImag'+'e2D'](_0x2d8612['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36530a,_0x293acb,0x199*0x7+0x1791+-0x22c0,-0x260*-0x2+0x1f25+-0x23e5,Math['max'](_0x11bf57['_width']*_0x56da77,-0x55*0x29+0x32a+-0x1*-0xa74),Math['max'](_0x11bf57['_height']*_0x56da77,0x20*-0x13+-0x33+-0x1e*-0x16),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ca0b4):_0x2d8612['texImage2D'](_0x2d8612['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x36530a,_0x293acb,this['_glInterna'+'lFormat'],Math['max'](_0x11bf57['_width']*_0x56da77,-0x2*0xaaf+-0xd5*-0x13+0x590),Math['max'](_0x11bf57['_height']*_0x56da77,-0x4*-0xba+-0x8c5*-0x1+-0xbac),-0x374*0x5+0x18cb*-0x1+0x2a0f,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ca0b4));}}else{if(_0x11bf57['_volume'])_0x11bf57['_compresse'+'d']?_0x2d8612['compressed'+'TexImage3D'](_0x2d8612['TEXTURE_3D'],_0x293acb,this['_glInterna'+'lFormat'],Math['max'](_0x11bf57['_width']*_0x56da77,-0x628+-0x106c*-0x1+-0xa43*0x1),Math['max'](_0x11bf57['_height']*_0x56da77,0x362*0x7+-0x111+0x5a7*-0x4),Math['max'](_0x11bf57['_depth']*_0x56da77,0x17ae+-0x1*-0x203e+-0x37eb),-0x1*-0x10d+-0x253d*0x1+-0x2*-0x1218,_0x2c9e07):(_0x1f82e3['setUnpackF'+'lipY'](!(0x443+-0x1abe+0xb3e*0x2)),_0x1f82e3['setUnpackP'+'remultiply'+'Alpha'](_0x11bf57['_premultip'+'lyAlpha']),_0x2d8612['texImage3D'](_0x2d8612['TEXTURE_3D'],_0x293acb,this['_glInterna'+'lFormat'],Math['max'](_0x11bf57['_width']*_0x56da77,0x4fa+-0x19a1+-0x2*-0xa54),Math['max'](_0x11bf57['_height']*_0x56da77,-0x2*0xeee+-0xba9+0x5*0x84e),Math['max'](_0x11bf57['_depth']*_0x56da77,-0x505+0x16cf+-0x11c9),-0x1*0x129b+-0x81d*0x2+0x1*0x22d5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c9e07));else{if(_0x11bf57['array']&&typeof _0x2c9e07=='object'){if(_0x11bf57['_arrayLeng'+'th']===_0x2c9e07['length']){if(_0x11bf57['_compresse'+'d']){for(let _0x470b76=0x867+-0xa33+0x1cc;_0x470b76<_0x11bf57['_arrayLeng'+'th'];_0x470b76++)_0x2d8612['compressed'+'TexSubImag'+'e3D'](_0x2d8612['TEXTURE_2D'+'_ARRAY'],_0x293acb,-0xabd*-0x3+0x1*-0xb17+-0x1520,-0xee9*-0x2+0x1353+-0x1*0x3125,_0x470b76,Math['max'](Math['floor'](_0x11bf57['_width']*_0x56da77),0xa*-0x274+-0x1*-0x1610+0x279),Math['max'](Math['floor'](_0x11bf57['_height']*_0x56da77),-0xcf3*0x1+-0x5*0x469+-0x1*-0x2301),-0x65*-0x4f+0x20d6+0x8*-0x800,this['_glInterna'+'lFormat'],_0x2c9e07[_0x470b76]);}else{for(let _0x46cc56=0x1*-0x1a25+0x21c8+-0x7a3*0x1;_0x46cc56<_0x11bf57['_arrayLeng'+'th'];_0x46cc56++)_0x2d8612['texSubImag'+'e3D'](_0x2d8612['TEXTURE_2D'+'_ARRAY'],_0x293acb,-0x26*-0x67+0x853+0x27*-0x9b,-0x1808+0x12b*-0x16+0x31ba,_0x46cc56,Math['max'](Math['floor'](_0x11bf57['_width']*_0x56da77),0xbf*0x2e+0x1bda+-0x3e2b),Math['max'](Math['floor'](_0x11bf57['_height']*_0x56da77),0xb35*-0x1+0x1*0x100f+-0x4d9),0x22f2+0x17d1+-0x3ac2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c9e07[_0x46cc56]);}}}else{if(_0x1f82e3['_isBrowser'+'Interface'](_0x2c9e07)){_0x1f82e3['_isImageBr'+'owserInter'+'face'](_0x2c9e07)&&(_0x2c9e07['width']>_0x1f82e3['maxTexture'+'Size']||_0x2c9e07['height']>_0x1f82e3['maxTexture'+'Size'])&&(_0x2c9e07=Rm(_0x2c9e07,_0x1f82e3['maxTexture'+'Size']),_0x293acb===0x591+0x39*-0x5+-0x6*0xbe&&(_0x11bf57['_width']=_0x2c9e07['width'],_0x11bf57['_height']=_0x2c9e07['height']));const _0x10c91b=_0x2c9e07['width']||_0x2c9e07['videoWidth'],_0x421157=_0x2c9e07['height']||_0x2c9e07['videoHeigh'+'t'];_0x1f82e3['setUnpackF'+'lipY'](_0x11bf57['_flipY']),_0x1f82e3['setUnpackP'+'remultiply'+'Alpha'](_0x11bf57['_premultip'+'lyAlpha']),this['_glCreated']&&_0x11bf57['_width']===_0x10c91b&&_0x11bf57['_height']===_0x421157&&!_0x1f82e3['_isImageVi'+'deoInterfa'+'ce'](_0x2c9e07)?_0x2d8612['texSubImag'+'e2D'](_0x2d8612['TEXTURE_2D'],_0x293acb,0x109+-0x1ba2+-0x1a99*-0x1,-0x667+0x569*0x5+-0x14a6,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c9e07):(_0x2d8612['texImage2D'](_0x2d8612['TEXTURE_2D'],_0x293acb,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c9e07),_0x293acb===0x128f*-0x2+0x200b+-0x513*-0x1&&(_0x11bf57['_width']=_0x10c91b,_0x11bf57['_height']=_0x421157));}else _0x56da77=(-0xcef+0xfc6+-0x2d6)/Math['pow'](0x5*0x3a1+-0x1f94*0x1+0xd71,_0x293acb),_0x11bf57['_compresse'+'d']?this['_glCreated']&&_0x2c9e07?_0x2d8612['compressed'+'TexSubImag'+'e2D'](_0x2d8612['TEXTURE_2D'],_0x293acb,0xd35*0x1+0x31*-0x5a+-0x31*-0x15,-0x1181*-0x2+-0x4b*-0x4b+-0x38fb,Math['max'](Math['floor'](_0x11bf57['_width']*_0x56da77),-0x24*-0xe5+0x464*0x6+-0x1*0x3a8b),Math['max'](Math['floor'](_0x11bf57['_height']*_0x56da77),0x6cc+0x38b*0x8+-0x2323),this['_glInterna'+'lFormat'],_0x2c9e07):_0x2d8612['compressed'+'TexImage2D'](_0x2d8612['TEXTURE_2D'],_0x293acb,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x11bf57['_width']*_0x56da77),-0xf95+0xed5+0xc1),Math['max'](Math['floor'](_0x11bf57['_height']*_0x56da77),0x14*0x16f+-0x1a0f+0x2*-0x14e),-0x5e7+-0xc42+0x1*0x1229,_0x2c9e07):(_0x1f82e3['setUnpackF'+'lipY'](!(0x10a6*0x2+0x1e2f*0x1+-0x82*0x7d)),_0x1f82e3['setUnpackP'+'remultiply'+'Alpha'](_0x11bf57['_premultip'+'lyAlpha']),this['_glCreated']&&_0x2c9e07?_0x2d8612['texSubImag'+'e2D'](_0x2d8612['TEXTURE_2D'],_0x293acb,-0xb4f+0xe71+0x191*-0x2,0x28f*-0x5+0x880+-0x9d*-0x7,Math['max'](_0x11bf57['_width']*_0x56da77,0x25cf*0x1+-0x86d+-0x6d*0x45),Math['max'](_0x11bf57['_height']*_0x56da77,0xbcc+-0x2152+0x1587),this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c9e07):_0x2d8612['texImage2D'](_0x2d8612['TEXTURE_2D'],_0x293acb,this['_glInterna'+'lFormat'],Math['max'](_0x11bf57['_width']*_0x56da77,-0x10f7+-0x214b+0x3243*0x1),Math['max'](_0x11bf57['_height']*_0x56da77,0x2*-0xe2+0xc57+-0xb*0xf6),-0x3a3*-0x4+-0x1*0x1793+-0x1*-0x907,this['_glFormat'],this['_glPixelTy'+'pe'],_0x2c9e07));_0x293acb===0xcf7*0x1+0x1fd2+0x1*-0x2cc9?_0x11bf57['_mipmapsUp'+'loaded']=!(0x1f29+0x1bc4+0x3aec*-0x1):_0x11bf57['_mipmapsUp'+'loaded']=!(-0x24bc+0x21c5+0x2f7);}}}_0x293acb++;}if(_0x11bf57['_needsUplo'+'ad']){if(_0x11bf57['_cubemap']){for(let _0x4094f5=-0x2*-0xc88+0x11a3+-0x1*0x2ab3;_0x4094f5<0x1249+0x12e2+-0x2525;_0x4094f5++)_0x11bf57['_levelsUpd'+'ated'][0x6*-0xb3+0x7e0+-0x3ae][_0x4094f5]=!(0x133f+-0x1bd1+0x893);}else _0x11bf57['_levelsUpd'+'ated'][0x3*0x8c7+0xa3c+-0x2491]=!(-0x323*-0x5+-0xc5+-0xee9);}!_0x11bf57['_compresse'+'d']&&!_0x11bf57['_integerFo'+'rmat']&&_0x11bf57['_mipmaps']&&_0x11bf57['_needsMipm'+'apsUpload']&&_0x11bf57['_levels']['length']===0x389*-0xb+0xed5+0x1*0x180f&&(_0x2d8612['generateMi'+'pmap'](this['_glTarget']),_0x11bf57['_mipmapsUp'+'loaded']=!(-0x1*0x1cf3+-0x1f*-0x6a+0x101d)),_0x11bf57['_gpuSize']&&_0x11bf57['adjustVram'+'SizeTracki'+'ng'](_0x1f82e3['_vram'],-_0x11bf57['_gpuSize']),_0x11bf57['_gpuSize']=_0x11bf57['gpuSize'],_0x11bf57['adjustVram'+'SizeTracki'+'ng'](_0x1f82e3['_vram'],_0x11bf57['_gpuSize']),this['_glCreated']=!(-0x2312+0x1099+0x1279);}['read'](_0x448915,_0x4b59d0,_0x25d2ee,_0xe09a88,_0x343340){const _0x2d3fe7=this['texture'];return _0x2d3fe7['device']['readTextur'+'eAsync'](_0x2d3fe7,_0x448915,_0x4b59d0,_0x25d2ee,_0xe09a88,_0x343340);}}class cb{constructor(_0x5cbb6e,_0x54d9b4){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x5cbb6e,this['resolveFB']=_0x54d9b4);}['destroy'](_0x537fb2){this['msaaFB']&&(_0x537fb2['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x537fb2['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(0x1*0x3fe+0x3*-0x909+0x21a*0xb));}['destroy'](_0xea25a3){var _0x508150;const _0x6552d4=_0xea25a3['gl'];this['_isInitial'+'ized']=!(-0x341+-0x1425+0x1767),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x6552d4['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x6552d4['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x6552d4['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0xb742c6=>{_0x6552d4['deleteRend'+'erbuffer'](_0xb742c6);}),this['_glMsaaCol'+'orBuffers']['length']=0xcb9*-0x2+-0x1e52*-0x1+-0x4e0,(_0x508150=this['colorMrtFr'+'amebuffers'])==null||_0x508150['forEach'](_0x594f69=>{_0x594f69['destroy'](_0x6552d4);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&od(_0xea25a3)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x143+0x1*0x1a6a+-0x1bad);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x148601,_0x23c401){var _0x58a211,_0x4f7a4e;const _0x4ab6c4=_0x148601['gl'];v['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x6a*-0xb+-0x1e5e+-0x10*-0x19d);const _0x34ac84=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x255a*0x1+-0x1ca*-0xf+-0x2*-0x542))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{v['call'](()=>{(_0x23c401['width']<=-0xd*-0x266+-0x8a4+-0xb45*0x2||_0x23c401['height']<=-0x1*-0x83d+-0x3b0*-0x8+-0x25bd)&&v['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x23c401['width']+'\x20x\x20'+_0x23c401['height'],_0x23c401);}),this['_glFrameBu'+'ffer']=_0x4ab6c4['createFram'+'ebuffer'](),_0x148601['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x281e2f=((_0x58a211=_0x23c401['_colorBuff'+'ers'])==null?void(0x146*0x15+-0x3*0x2+-0x1ab8):_0x58a211['length'])??-0x21fa*-0x1+-0x220a+0x4*0x4,_0x1b7463=_0x4ab6c4['COLOR_ATTA'+'CHMENT0'];for(let _0x460a04=-0x24e2+0x16d9+-0xe09*-0x1;_0x460a04<_0x281e2f;++_0x460a04){const _0x12e3ee=_0x23c401['getColorBu'+'ffer'](_0x460a04);_0x12e3ee&&(_0x12e3ee['impl']['_glTexture']||(_0x12e3ee['_width']=Math['min'](_0x12e3ee['width'],_0x148601['maxRenderB'+'ufferSize']),_0x12e3ee['_height']=Math['min'](_0x12e3ee['height'],_0x148601['maxRenderB'+'ufferSize']),_0x148601['setTexture'](_0x12e3ee,0x15cf+-0x1607+0x8*0x7)),_0x4ab6c4['framebuffe'+'rTexture2D'](_0x4ab6c4['FRAMEBUFFE'+'R'],_0x1b7463+_0x460a04,_0x12e3ee['_cubemap']?_0x4ab6c4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23c401['_face']:_0x4ab6c4['TEXTURE_2D'],_0x12e3ee['impl']['_glTexture'],_0x23c401['mipLevel']),_0x34ac84['push'](_0x1b7463+_0x460a04));}_0x4ab6c4['drawBuffer'+'s'](_0x34ac84);const _0x1f2fab=_0x23c401['_depthBuff'+'er'];if(_0x1f2fab||_0x23c401['_depth']){const _0x359272=_0x23c401['_stencil']?_0x4ab6c4['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4ab6c4['DEPTH_ATTA'+'CHMENT'];if(_0x1f2fab)_0x1f2fab['impl']['_glTexture']||(_0x1f2fab['_width']=Math['min'](_0x1f2fab['width'],_0x148601['maxRenderB'+'ufferSize']),_0x1f2fab['_height']=Math['min'](_0x1f2fab['height'],_0x148601['maxRenderB'+'ufferSize']),_0x148601['setTexture'](_0x1f2fab,-0x166b+-0xb*-0x2d7+-0x1*0x8d2)),_0x4ab6c4['framebuffe'+'rTexture2D'](_0x4ab6c4['FRAMEBUFFE'+'R'],_0x359272,_0x1f2fab['_cubemap']?_0x4ab6c4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x23c401['_face']:_0x4ab6c4['TEXTURE_2D'],_0x23c401['_depthBuff'+'er']['impl']['_glTexture'],_0x23c401['mipLevel']);else{if(!(_0x23c401['_samples']>0x1b69*-0x1+-0x1*-0x2023+0xd*-0x5d)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x4ab6c4['createRend'+'erbuffer']());const _0x742e15=_0x23c401['_stencil']?_0x4ab6c4['DEPTH24_ST'+'ENCIL8']:_0x4ab6c4['DEPTH_COMP'+'ONENT32F'];_0x4ab6c4['bindRender'+'buffer'](_0x4ab6c4['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4ab6c4['renderbuff'+'erStorage'](_0x4ab6c4['RENDERBUFF'+'ER'],_0x742e15,_0x23c401['width'],_0x23c401['height']),_0x4ab6c4['framebuffe'+'rRenderbuf'+'fer'](_0x4ab6c4['FRAMEBUFFE'+'R'],_0x359272,_0x4ab6c4['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x4ab6c4['bindRender'+'buffer'](_0x4ab6c4['RENDERBUFF'+'ER'],null);}}}v['call'](()=>this['_checkFbo'](_0x148601,_0x23c401));}if(_0x23c401['_samples']>0x1bb6*0x1+-0x26ed+0xb38){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x4ab6c4['createFram'+'ebuffer'](),_0x148601['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x320dda=((_0x4f7a4e=_0x23c401['_colorBuff'+'ers'])==null?void(-0x1720+0x981+-0x1*-0xd9f):_0x4f7a4e['length'])??-0x14c8+-0x4*0x6a2+-0x5ea*-0x8;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x197*0x16+0x1d73+-0x406d*0x1)){const _0x342ea1=_0x4ab6c4['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x342ea1);const _0x173c3d=_0x148601['backBuffer'+'Format']===Se?_0x4ab6c4['RGBA8']:_0x4ab6c4['RGB8'];_0x4ab6c4['bindRender'+'buffer'](_0x4ab6c4['RENDERBUFF'+'ER'],_0x342ea1),_0x4ab6c4['renderbuff'+'erStorageM'+'ultisample'](_0x4ab6c4['RENDERBUFF'+'ER'],_0x23c401['_samples'],_0x173c3d,_0x23c401['width'],_0x23c401['height']),_0x4ab6c4['framebuffe'+'rRenderbuf'+'fer'](_0x4ab6c4['FRAMEBUFFE'+'R'],_0x4ab6c4['COLOR_ATTA'+'CHMENT0'],_0x4ab6c4['RENDERBUFF'+'ER'],_0x342ea1);}else for(let _0x39746b=0x1f3c+0xdb4+-0x2cf0;_0x39746b<_0x320dda;++_0x39746b){const _0x13e8b3=_0x23c401['getColorBu'+'ffer'](_0x39746b);if(_0x13e8b3){const _0x28c7ce=_0x4ab6c4['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x28c7ce),_0x4ab6c4['bindRender'+'buffer'](_0x4ab6c4['RENDERBUFF'+'ER'],_0x28c7ce),_0x4ab6c4['renderbuff'+'erStorageM'+'ultisample'](_0x4ab6c4['RENDERBUFF'+'ER'],_0x23c401['_samples'],_0x13e8b3['impl']['_glInterna'+'lFormat'],_0x23c401['width'],_0x23c401['height']),_0x4ab6c4['framebuffe'+'rRenderbuf'+'fer'](_0x4ab6c4['FRAMEBUFFE'+'R'],_0x4ab6c4['COLOR_ATTA'+'CHMENT0']+_0x39746b,_0x4ab6c4['RENDERBUFF'+'ER'],_0x28c7ce);}}if(_0x23c401['_depth']){v['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x317e83=_0x23c401['_stencil']?_0x4ab6c4['DEPTH24_ST'+'ENCIL8']:_0x4ab6c4['DEPTH_COMP'+'ONENT32F'],_0x50732a=_0x23c401['_stencil']?_0x4ab6c4['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x4ab6c4['DEPTH_ATTA'+'CHMENT'];let _0x211d9c;const _0x2e916d=_0x23c401['_depthBuff'+'er'];_0x2e916d&&(_0x211d9c=_0x2e916d['id']+':'+_0x23c401['width']+':'+_0x23c401['height']+':'+_0x23c401['_samples']+':'+_0x317e83+':'+_0x50732a,this['_glMsaaDep'+'thBuffer']=od(_0x148601)['get'](_0x211d9c)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x4ab6c4['createRend'+'erbuffer'](),_0x4ab6c4['bindRender'+'buffer'](_0x4ab6c4['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x4ab6c4['renderbuff'+'erStorageM'+'ultisample'](_0x4ab6c4['RENDERBUFF'+'ER'],_0x23c401['_samples'],_0x317e83,_0x23c401['width'],_0x23c401['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x4ab6c4['deleteRend'+'erbuffer'](this);},_0x2e916d&&od(_0x148601)['set'](_0x211d9c,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x211d9c,_0x4ab6c4['framebuffe'+'rRenderbuf'+'fer'](_0x4ab6c4['FRAMEBUFFE'+'R'],_0x50732a,_0x4ab6c4['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}v['call'](()=>this['_checkFbo'](_0x148601,_0x23c401,'MSAA')),_0x320dda>0x1fec+0x7*0x15b+-0x2968&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x148601,_0x23c401,_0x320dda),_0x148601['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x4ab6c4['drawBuffer'+'s'](_0x34ac84));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x7ea6aa,_0x303430,_0x471a63){const _0x5a9046=_0x7ea6aa['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x4e8f4a=0x1*-0xcaa+-0x1*-0x1b16+-0xe6c;_0x4e8f4a<_0x471a63;++_0x4e8f4a){const _0x57614b=_0x303430['getColorBu'+'ffer'](_0x4e8f4a),_0x2da880=_0x5a9046['createFram'+'ebuffer']();_0x7ea6aa['setFramebu'+'ffer'](_0x2da880);const _0x1a5fa7=this['_glMsaaCol'+'orBuffers'][_0x4e8f4a];_0x5a9046['bindRender'+'buffer'](_0x5a9046['RENDERBUFF'+'ER'],_0x1a5fa7),_0x5a9046['renderbuff'+'erStorageM'+'ultisample'](_0x5a9046['RENDERBUFF'+'ER'],_0x303430['_samples'],_0x57614b['impl']['_glInterna'+'lFormat'],_0x303430['width'],_0x303430['height']),_0x5a9046['framebuffe'+'rRenderbuf'+'fer'](_0x5a9046['FRAMEBUFFE'+'R'],_0x5a9046['COLOR_ATTA'+'CHMENT0'],_0x5a9046['RENDERBUFF'+'ER'],_0x1a5fa7),_0x5a9046['drawBuffer'+'s']([_0x5a9046['COLOR_ATTA'+'CHMENT0']]),v['call'](()=>this['_checkFbo'](_0x7ea6aa,_0x303430,'MSAA-MRT-s'+'rc'+_0x4e8f4a));const _0x4d1f20=_0x5a9046['createFram'+'ebuffer']();_0x7ea6aa['setFramebu'+'ffer'](_0x4d1f20),_0x5a9046['framebuffe'+'rTexture2D'](_0x5a9046['FRAMEBUFFE'+'R'],_0x5a9046['COLOR_ATTA'+'CHMENT0'],_0x57614b['_cubemap']?_0x5a9046['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x303430['_face']:_0x5a9046['TEXTURE_2D'],_0x57614b['impl']['_glTexture'],-0x10*-0x191+-0xb*-0xaf+0x2095*-0x1),this['colorMrtFr'+'amebuffers'][_0x4e8f4a]=new cb(_0x2da880,_0x4d1f20),v['call'](()=>this['_checkFbo'](_0x7ea6aa,_0x303430,'MSAA-MRT-d'+'st'+_0x4e8f4a));}}['_checkFbo'](_0x2f4f57,_0x1442ff,_0xfce3bb=''){const _0xf883fe=_0x2f4f57['gl'],_0x49c88d=_0xf883fe['checkFrame'+'bufferStat'+'us'](_0xf883fe['FRAMEBUFFE'+'R']);let _0x3dd8f7;switch(_0x49c88d){case _0xf883fe['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x3dd8f7='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0xf883fe['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x3dd8f7='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0xf883fe['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x3dd8f7='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0xf883fe['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x3dd8f7='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}v['assert'](!_0x3dd8f7,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x3dd8f7+(',\x20render\x20t'+'arget:\x20')+_0x1442ff['name']+'\x20'+_0xfce3bb,_0x1442ff);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x201f+-0x25e7*-0x1+-0x28*0x25,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0xbf1+-0x2*0x124e+0x308d),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x7b4+0x4*0x7a9+-0x2658),this['_isInitial'+'ized']=!(0xf71+-0x12*-0x185+-0x2aca);}['internalRe'+'solve'](_0x5976ed,_0x58a898,_0x298278,_0x2a2b0e,_0x94c3af){v['assert'](_0x58a898!==_0x298278,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5976ed['setScissor'](-0xc0e*0x1+0xa*0x184+-0x31a,0x13*-0x16f+0x1006+0xb37,_0x2a2b0e['width'],_0x2a2b0e['height']);const _0x355f7c=_0x5976ed['gl'];_0x355f7c['bindFrameb'+'uffer'](_0x355f7c['READ_FRAME'+'BUFFER'],_0x58a898),_0x355f7c['bindFrameb'+'uffer'](_0x355f7c['DRAW_FRAME'+'BUFFER'],_0x298278),_0x355f7c['blitFrameb'+'uffer'](-0xd*0x15d+0x221*-0x7+0x20a0,-0x1280+0x1*0xc7d+0x603,_0x2a2b0e['width'],_0x2a2b0e['height'],0x335+-0x2*0xb10+0x12eb,0x1d35+0x1f1f+-0x2*0x1e2a,_0x2a2b0e['width'],_0x2a2b0e['height'],_0x94c3af,_0x355f7c['NEAREST']);}['resolve'](_0x1c7352,_0x9e9fb1,_0x5435b6,_0x1ce5c6){const _0x1ee835=_0x1c7352['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x5435b6)for(let _0x164cd8=-0x9*-0x17d+0x18d2+0x2637*-0x1;_0x164cd8<this['colorMrtFr'+'amebuffers']['length'];_0x164cd8++){const _0x4b8310=this['colorMrtFr'+'amebuffers'][_0x164cd8];G['pushGpuMar'+'ker'](_0x1c7352,'RESOLVE-MR'+'T'+_0x164cd8),this['internalRe'+'solve'](_0x1c7352,_0x4b8310['msaaFB'],_0x4b8310['resolveFB'],_0x9e9fb1,_0x1ee835['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x1c7352);}_0x1ce5c6&&(G['pushGpuMar'+'ker'](_0x1c7352,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x1c7352,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x9e9fb1,_0x1ee835['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x1c7352));}else G['pushGpuMar'+'ker'](_0x1c7352,'RESOLVE'),this['internalRe'+'solve'](_0x1c7352,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x9e9fb1,(_0x5435b6?_0x1ee835['COLOR_BUFF'+'ER_BIT']:0x7*-0x2ff+-0x2331+0x382a)|(_0x1ce5c6?_0x1ee835['DEPTH_BUFF'+'ER_BIT']:0x26c0+-0x1*0x250c+-0x1b4)),G['popGpuMark'+'er'](_0x1c7352);_0x1ee835['bindFrameb'+'uffer'](_0x1ee835['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x3a1f3c){this['queries']['forEach'](_0xbb2162=>_0x3a1f3c['deleteQuer'+'y'](_0xbb2162)),this['queries']=null;}}class fb extends tb{constructor(_0xf751a8){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0xf751a8,this['ext']=_0xf751a8['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x1c05dc=>this['device']['gl']['deleteQuer'+'y'](_0x1c05dc)),this['frameQueri'+'es']['forEach'](_0x486e83=>this['device']['gl']['deleteQuer'+'y'](_0x486e83)),this['previousFr'+'ameQueries']['forEach'](_0x114b38=>_0x114b38['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x44e527){if(this['ext']){const _0x38d305=this['getSlot'](_0x44e527),_0x4ee5ce=this['getQuery']();return this['frameQueri'+'es'][_0x38d305]=_0x4ee5ce,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x4ee5ce),_0x38d305;}}['end'](_0x1807fb){_0x1807fb!==void(0x1329+-0x191*-0x4+0x196d*-0x1)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x2c9d6f=this['ext'],_0x480ac0=this['device']['gl'],_0x5a3b9c=this['device']['renderVers'+'ion'],_0x5b95bc=this['frameQueri'+'es'];if(_0x5b95bc['length']>-0x17a2+0x1c02+-0x460){this['frameQueri'+'es']=[];const _0x4a3116=new ub();_0x4a3116['queries']=_0x5b95bc,_0x4a3116['renderVers'+'ion']=_0x5a3b9c,this['previousFr'+'ameQueries']['push'](_0x4a3116);}if(this['previousFr'+'ameQueries']['length']>0xa0d+-0x1a94+-0x1*-0x1087){const _0x324b1b=this['previousFr'+'ameQueries'][0xb*0x299+-0x228a*-0x1+-0x3f1d],_0x40ab45=_0x324b1b['queries'],_0x234aa6=_0x40ab45[_0x40ab45['length']-(-0x4ae+0x1cac+-0x17fd)],_0x2633bc=_0x480ac0['getQueryPa'+'rameter'](_0x234aa6,_0x480ac0['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x12df8a=_0x480ac0['getParamet'+'er'](_0x2c9d6f['GPU_DISJOI'+'NT_EXT']);if(_0x2633bc&&!_0x12df8a){this['previousFr'+'ameQueries']['shift']();const _0x523f9f=this['timings'];_0x523f9f['length']=-0x2*-0xaff+0x3*0xcc8+-0x3c56;for(let _0x5130fd=0x9*-0x1b0+-0xa68+0x9c*0x2a;_0x5130fd<_0x40ab45['length'];_0x5130fd++){const _0x4880f0=_0x40ab45[_0x5130fd],_0x57f1f5=_0x480ac0['getQueryPa'+'rameter'](_0x4880f0,_0x480ac0['QUERY_RESU'+'LT']);_0x523f9f[_0x5130fd]=_0x57f1f5*(-0x4a*0x4+-0x12+0x9d*0x2+0.000001),this['freeQuerie'+'s']['push'](_0x4880f0);}this['report'](_0x324b1b['renderVers'+'ion'],_0x523f9f);}_0x12df8a&&(this['previousFr'+'ameQueries']['forEach'](_0x4d7ed5=>{this['report'](_0x4d7ed5['renderVers'+'ion'],null),_0x4d7ed5['destroy'](_0x480ac0);}),this['previousFr'+'ameQueries']['length']=0x1*0x8a9+-0x107f+-0x22*-0x3b);}super['request'](_0x5a3b9c);}}}const Tn=[];class pb extends Fh{constructor(_0x1bda67,_0x197857={}){super(_0x1bda67,_0x197857),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0xee6*-0x1+0x9*-0x377+0x2b6*0x11)),(_0x197857=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x3*0x543+-0xd1e+-0x16*0x1f),this['_contextLo'+'stHandler']=_0x1c1d7e=>{_0x1c1d7e['preventDef'+'ault'](),this['loseContex'+'t'](),v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{v['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x442edf=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x442edf&&_0x442edf['includes']('AppleWebKi'+'t')&&(_0x442edf['includes']('15.4')||_0x442edf['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x197857['antialias']=!(-0x3ad*0x1+-0x1447+-0x17f5*-0x1),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),ye['browserNam'+'e']==='firefox'){const _0x57701f=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x5e531d=_0x57701f?_0x57701f[0x2*0x7a2+-0x20b*0xe+-0xd57*-0x1]:null;if(_0x5e531d){const _0x3277f6=parseFloat(_0x5e531d);(ye['name']==='windows'&&(_0x3277f6>=-0x990+-0x10*0x157+-0x26*-0xd4||_0x3277f6===-0x2322+0xe1a+0x157b)||ye['name']==='android'&&_0x3277f6>=-0x1*-0x1903+0x8c4+0x28f*-0xd)&&(_0x197857['antialias']=!(-0x266c*0x1+-0x33b*0x3+0x301e),v['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+ye['name']+('\x20platform\x20'+'version\x20')+_0x5e531d));}}this['backBuffer'+'Antialias']=_0x197857['antialias']??!(0x1a5e+-0x163*-0x9+-0x2c*0xe2),_0x197857['antialias']=!(-0x595*0x2+0x2*-0xce2+-0x763*-0x5);const _0x5bad35=_0x197857['gl']??_0x1bda67['getContext']('webgl2',_0x197857);if(!_0x5bad35)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x5bad35,this['isWebGL2']=!(0x2a*-0x27+-0x1*-0x325+0x341),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x23c821=ye['browserNam'+'e']==='chrome',_0x1b554c=ye['browserNam'+'e']==='safari',_0x1174c9=ye['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x1079*-0x1+0xcc3+0x3b7);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x1b554c,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x1174c9&&_0x23c821&&!_0x197857['alpha'],_0x1bda67['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x607*0x1+0xac2+-0x10c8)),_0x1bda67['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x8b3+0x377*0x2+-0x1c6*-0x1)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x1b554c&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x5bad35['SAMPLER_2D'],_0x5bad35['SAMPLER_CU'+'BE'],_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x5bad35['INT_SAMPLE'+'R_2D'],_0x5bad35['SAMPLER_2D'+'_SHADOW'],_0x5bad35['SAMPLER_CU'+'BE_SHADOW'],_0x5bad35['SAMPLER_3D'],_0x5bad35['INT_SAMPLE'+'R_3D'],_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x5bad35['SAMPLER_2D'+'_ARRAY'],_0x5bad35['INT_SAMPLE'+'R_2D_ARRAY'],_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x5bad35['REPEAT'],_0x5bad35['CLAMP_TO_E'+'DGE'],_0x5bad35['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x5bad35['FUNC_ADD'],_0x5bad35['FUNC_SUBTR'+'ACT'],_0x5bad35['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x5bad35['MIN'],_0x5bad35['MAX']],this['glBlendFun'+'ctionColor']=[_0x5bad35['ZERO'],_0x5bad35['ONE'],_0x5bad35['SRC_COLOR'],_0x5bad35['ONE_MINUS_'+'SRC_COLOR'],_0x5bad35['DST_COLOR'],_0x5bad35['ONE_MINUS_'+'DST_COLOR'],_0x5bad35['SRC_ALPHA'],_0x5bad35['SRC_ALPHA_'+'SATURATE'],_0x5bad35['ONE_MINUS_'+'SRC_ALPHA'],_0x5bad35['DST_ALPHA'],_0x5bad35['ONE_MINUS_'+'DST_ALPHA'],_0x5bad35['CONSTANT_C'+'OLOR'],_0x5bad35['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x5bad35['ZERO'],_0x5bad35['ONE'],_0x5bad35['SRC_COLOR'],_0x5bad35['ONE_MINUS_'+'SRC_COLOR'],_0x5bad35['DST_COLOR'],_0x5bad35['ONE_MINUS_'+'DST_COLOR'],_0x5bad35['SRC_ALPHA'],_0x5bad35['SRC_ALPHA_'+'SATURATE'],_0x5bad35['ONE_MINUS_'+'SRC_ALPHA'],_0x5bad35['DST_ALPHA'],_0x5bad35['ONE_MINUS_'+'DST_ALPHA'],_0x5bad35['CONSTANT_A'+'LPHA'],_0x5bad35['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x5bad35['NEVER'],_0x5bad35['LESS'],_0x5bad35['EQUAL'],_0x5bad35['LEQUAL'],_0x5bad35['GREATER'],_0x5bad35['NOTEQUAL'],_0x5bad35['GEQUAL'],_0x5bad35['ALWAYS']],this['glStencilO'+'p']=[_0x5bad35['KEEP'],_0x5bad35['ZERO'],_0x5bad35['REPLACE'],_0x5bad35['INCR'],_0x5bad35['INCR_WRAP'],_0x5bad35['DECR'],_0x5bad35['DECR_WRAP'],_0x5bad35['INVERT']],this['glClearFla'+'g']=[-0x1*-0xf77+-0x2184+-0x1*-0x120d,_0x5bad35['COLOR_BUFF'+'ER_BIT'],_0x5bad35['DEPTH_BUFF'+'ER_BIT'],_0x5bad35['COLOR_BUFF'+'ER_BIT']|_0x5bad35['DEPTH_BUFF'+'ER_BIT'],_0x5bad35['STENCIL_BU'+'FFER_BIT'],_0x5bad35['STENCIL_BU'+'FFER_BIT']|_0x5bad35['COLOR_BUFF'+'ER_BIT'],_0x5bad35['STENCIL_BU'+'FFER_BIT']|_0x5bad35['DEPTH_BUFF'+'ER_BIT'],_0x5bad35['STENCIL_BU'+'FFER_BIT']|_0x5bad35['COLOR_BUFF'+'ER_BIT']|_0x5bad35['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x8b7+0xc97*-0x2+0x57d*0x3,_0x5bad35['BACK'],_0x5bad35['FRONT'],_0x5bad35['FRONT_AND_'+'BACK']],this['glFilter']=[_0x5bad35['NEAREST'],_0x5bad35['LINEAR'],_0x5bad35['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x5bad35['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x5bad35['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x5bad35['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x5bad35['POINTS'],_0x5bad35['LINES'],_0x5bad35['LINE_LOOP'],_0x5bad35['LINE_STRIP'],_0x5bad35['TRIANGLES'],_0x5bad35['TRIANGLE_S'+'TRIP'],_0x5bad35['TRIANGLE_F'+'AN']],this['glType']=[_0x5bad35['BYTE'],_0x5bad35['UNSIGNED_B'+'YTE'],_0x5bad35['SHORT'],_0x5bad35['UNSIGNED_S'+'HORT'],_0x5bad35['INT'],_0x5bad35['UNSIGNED_I'+'NT'],_0x5bad35['FLOAT'],_0x5bad35['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x5bad35['BOOL']]=ca,this['pcUniformT'+'ype'][_0x5bad35['INT']]=ln,this['pcUniformT'+'ype'][_0x5bad35['FLOAT']]=$s,this['pcUniformT'+'ype'][_0x5bad35['FLOAT_VEC2']]=or,this['pcUniformT'+'ype'][_0x5bad35['FLOAT_VEC3']]=$t,this['pcUniformT'+'ype'][_0x5bad35['FLOAT_VEC4']]=xa,this['pcUniformT'+'ype'][_0x5bad35['INT_VEC2']]=Zr,this['pcUniformT'+'ype'][_0x5bad35['INT_VEC3']]=Qr,this['pcUniformT'+'ype'][_0x5bad35['INT_VEC4']]=Jr,this['pcUniformT'+'ype'][_0x5bad35['BOOL_VEC2']]=Lo,this['pcUniformT'+'ype'][_0x5bad35['BOOL_VEC3']]=Fo,this['pcUniformT'+'ype'][_0x5bad35['BOOL_VEC4']]=Oo,this['pcUniformT'+'ype'][_0x5bad35['FLOAT_MAT2']]=Rh,this['pcUniformT'+'ype'][_0x5bad35['FLOAT_MAT3']]=ko,this['pcUniformT'+'ype'][_0x5bad35['FLOAT_MAT4']]=Sa,this['pcUniformT'+'ype'][_0x5bad35['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x5bad35['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT']]=va,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_VEC2']]=ba,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_VEC3']]=wa,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_VEC4']]=Ta,this['pcUniformT'+'ype'][_0x5bad35['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x5bad35['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x5bad35['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x5bad35['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x5bad35['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x5bad35['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x5bad35['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x5bad35['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x5bad35['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x5bad35['TEXTURE_2D']]=0x11b5+-0x18a*0x17+-0x1*-0x11b1,this['targetToSl'+'ot'][_0x5bad35['TEXTURE_CU'+'BE_MAP']]=0x676+-0x233*-0x6+0x13a7*-0x1,this['targetToSl'+'ot'][_0x5bad35['TEXTURE_3D']]=0x1*0x238f+-0x37*0x78+-0x9c5;let _0x58a2cd,_0x518783,_0x79a28f,_0x5b646a,_0x4fa4b8;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ca]=function(_0x47eea2,_0xf93888){_0x47eea2['value']!==_0xf93888&&(_0x5bad35['uniform1i'](_0x47eea2['locationId'],_0xf93888),_0x47eea2['value']=_0xf93888);},this['commitFunc'+'tion'][ln]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][$s]=function(_0x3669b0,_0x50a3e4){_0x3669b0['value']!==_0x50a3e4&&(_0x5bad35['uniform1f'](_0x3669b0['locationId'],_0x50a3e4),_0x3669b0['value']=_0x50a3e4);},this['commitFunc'+'tion'][or]=function(_0x77809,_0x39334b){_0x4fa4b8=_0x77809['value'],_0x58a2cd=_0x39334b[-0x160f*-0x1+0x1d3f+0xb*-0x4aa],_0x518783=_0x39334b[0x10f0+0x1679+-0x184*0x1a],(_0x4fa4b8[0x13b2+-0x25dd+-0x1*-0x122b]!==_0x58a2cd||_0x4fa4b8[-0xe49*-0x1+-0x3ad*-0x2+-0x15a2*0x1]!==_0x518783)&&(_0x5bad35['uniform2fv'](_0x77809['locationId'],_0x39334b),_0x4fa4b8[-0x1*-0x25a5+-0x2470+-0x135]=_0x58a2cd,_0x4fa4b8[-0x1*-0x165b+0x230+-0x82e*0x3]=_0x518783);},this['commitFunc'+'tion'][$t]=function(_0x4f61c2,_0x19a381){_0x4fa4b8=_0x4f61c2['value'],_0x58a2cd=_0x19a381[-0x13fe+-0x241d+0x381b],_0x518783=_0x19a381[0x11c*0x1+-0x19a6+0x188b],_0x79a28f=_0x19a381[0x169f+0x20f1+-0x378e],(_0x4fa4b8[-0x4*-0x6df+0x37*-0x3d+0x4cb*-0x3]!==_0x58a2cd||_0x4fa4b8[0x1d3*0x7+-0x65c*0x1+-0x668]!==_0x518783||_0x4fa4b8[0x17*-0x97+0x754+-0x1*-0x63f]!==_0x79a28f)&&(_0x5bad35['uniform3fv'](_0x4f61c2['locationId'],_0x19a381),_0x4fa4b8[0x1ee2+-0x16e+-0x2*0xeba]=_0x58a2cd,_0x4fa4b8[0x1ccc*0x1+0xd7*-0x26+0x31f]=_0x518783,_0x4fa4b8[-0x1*-0x1116+0xb04+-0x1c18]=_0x79a28f);},this['commitFunc'+'tion'][xa]=function(_0x3b497f,_0x14839b){_0x4fa4b8=_0x3b497f['value'],_0x58a2cd=_0x14839b[-0x85f+-0x2198+0x29f7],_0x518783=_0x14839b[0x184a+0x1bd3+-0x341c],_0x79a28f=_0x14839b[0x234*-0xa+0x1a8f+0x1*-0x485],_0x5b646a=_0x14839b[0x25*0x86+-0xb6d+0x91*-0xe],(_0x4fa4b8[-0x1d*-0xbc+0x19dd+-0x1*0x2f29]!==_0x58a2cd||_0x4fa4b8[0x3*-0xdb+-0xfa6+0x4*0x48e]!==_0x518783||_0x4fa4b8[-0x4c1+-0xbb*0x2b+-0x1216*-0x2]!==_0x79a28f||_0x4fa4b8[-0x1*0x9c8+-0x1d73+0x273e]!==_0x5b646a)&&(_0x5bad35['uniform4fv'](_0x3b497f['locationId'],_0x14839b),_0x4fa4b8[-0x71e*0x2+-0x1199+0x1fd5]=_0x58a2cd,_0x4fa4b8[0x5*-0x2bf+-0x9*-0x2b1+-0xa7d]=_0x518783,_0x4fa4b8[-0x17*0x89+-0x270a+0x335b]=_0x79a28f,_0x4fa4b8[-0xd2e+-0x1c91+0x29c2]=_0x5b646a);},this['commitFunc'+'tion'][Zr]=function(_0x66cfe6,_0x1ffe0d){_0x4fa4b8=_0x66cfe6['value'],_0x58a2cd=_0x1ffe0d[0x571*0x6+0x1*-0x1f1f+-0x11*0x17],_0x518783=_0x1ffe0d[0x17b4+-0x918+0x1*-0xe9b],(_0x4fa4b8[0x1*-0x54f+0x132b+-0x2*0x6ee]!==_0x58a2cd||_0x4fa4b8[-0xa5f+-0x22ea+-0x2d4a*-0x1]!==_0x518783)&&(_0x5bad35['uniform2iv'](_0x66cfe6['locationId'],_0x1ffe0d),_0x4fa4b8[0x1*0x1772+-0x1*-0x1a49+-0x31bb]=_0x58a2cd,_0x4fa4b8[-0x1ac3+-0xf5*0x2+-0x1cae*-0x1]=_0x518783);},this['commitFunc'+'tion'][Lo]=this['commitFunc'+'tion'][Zr],this['commitFunc'+'tion'][Qr]=function(_0x3706c9,_0x457b1c){_0x4fa4b8=_0x3706c9['value'],_0x58a2cd=_0x457b1c[-0x182c+0x1*0x24f2+-0xcc6],_0x518783=_0x457b1c[-0x13b+0x7*0x42+-0x2*0x49],_0x79a28f=_0x457b1c[0x4*0x481+0x1*0xe81+-0x2083],(_0x4fa4b8[-0x211d+-0x6c+0x2189]!==_0x58a2cd||_0x4fa4b8[0x1*0x1b2c+-0x971+-0x2*0x8dd]!==_0x518783||_0x4fa4b8[0xa22+0x533+-0xf53]!==_0x79a28f)&&(_0x5bad35['uniform3iv'](_0x3706c9['locationId'],_0x457b1c),_0x4fa4b8[-0xed*0x19+-0x455+-0x1b7a*-0x1]=_0x58a2cd,_0x4fa4b8[-0x1f0*0x1+-0x4*0x4e5+-0x7*-0x313]=_0x518783,_0x4fa4b8[0x71*0x20+0x1eeb+-0x2d09]=_0x79a28f);},this['commitFunc'+'tion'][Fo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x4aff31,_0x2d3722){_0x4fa4b8=_0x4aff31['value'],_0x58a2cd=_0x2d3722[0x1*0x887+0x21c1+-0x58*0x7b],_0x518783=_0x2d3722[-0x1810+0x1d*0x97+0x6f6],_0x79a28f=_0x2d3722[-0x1b2e*-0x1+0x18c7+-0x193*0x21],_0x5b646a=_0x2d3722[-0x89c+-0x75+0x914],(_0x4fa4b8[-0x1ce8+-0x503*-0x2+0x1*0x12e2]!==_0x58a2cd||_0x4fa4b8[0x9d9*0x2+0x2691+-0x3a42]!==_0x518783||_0x4fa4b8[0x2d8+0xb*-0x1a+-0x37*0x8]!==_0x79a28f||_0x4fa4b8[0x862+-0x1*-0x1a51+-0x22b0]!==_0x5b646a)&&(_0x5bad35['uniform4iv'](_0x4aff31['locationId'],_0x2d3722),_0x4fa4b8[-0x3eb*0x8+-0xc4e+0x15d3*0x2]=_0x58a2cd,_0x4fa4b8[0xb53+0x266d+-0x31bf]=_0x518783,_0x4fa4b8[0x1*0x7ff+-0x9da+0x35*0x9]=_0x79a28f,_0x4fa4b8[-0x11*0x20c+0xb2c+0x17a3]=_0x5b646a);},this['commitFunc'+'tion'][Oo]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][Rh]=function(_0x5d2c91,_0x1e0bf8){_0x5bad35['uniformMat'+'rix2fv'](_0x5d2c91['locationId'],!(0x68b+-0xce1+-0x657*-0x1),_0x1e0bf8);},this['commitFunc'+'tion'][ko]=function(_0x274492,_0x2b4a1e){_0x5bad35['uniformMat'+'rix3fv'](_0x274492['locationId'],!(0x8*0xe0+-0x2f*0x67+0x262*0x5),_0x2b4a1e);},this['commitFunc'+'tion'][Sa]=function(_0x3917de,_0x41c8a2){_0x5bad35['uniformMat'+'rix4fv'](_0x3917de['locationId'],!(0x1*0x1c26+0x1e21+-0x3a46),_0x41c8a2);},this['commitFunc'+'tion'][Dc]=function(_0x3ab299,_0x48ab1e){_0x5bad35['uniform1fv'](_0x3ab299['locationId'],_0x48ab1e);},this['commitFunc'+'tion'][Lc]=function(_0x44e728,_0x407bca){_0x5bad35['uniform2fv'](_0x44e728['locationId'],_0x407bca);},this['commitFunc'+'tion'][Fc]=function(_0x831dc1,_0x43b4dd){_0x5bad35['uniform3fv'](_0x831dc1['locationId'],_0x43b4dd);},this['commitFunc'+'tion'][lp]=function(_0xffebfc,_0x3c04fa){_0x5bad35['uniform4fv'](_0xffebfc['locationId'],_0x3c04fa);},this['commitFunc'+'tion'][va]=function(_0x2c25a3,_0x363fdb){_0x2c25a3['value']!==_0x363fdb&&(_0x5bad35['uniform1ui'](_0x2c25a3['locationId'],_0x363fdb),_0x2c25a3['value']=_0x363fdb);},this['commitFunc'+'tion'][ba]=function(_0x112f9a,_0x45bc2a){_0x4fa4b8=_0x112f9a['value'],_0x58a2cd=_0x45bc2a[0x1266+-0x3a*-0x43+0x4cc*-0x7],_0x518783=_0x45bc2a[-0x1a0+-0x508+-0x9b*-0xb],(_0x4fa4b8[-0x1*0x151b+-0x1ed7+0x33f2]!==_0x58a2cd||_0x4fa4b8[-0x79c*-0x4+-0x3a1+-0x2f*0x92]!==_0x518783)&&(_0x5bad35['uniform2ui'+'v'](_0x112f9a['locationId'],_0x45bc2a),_0x4fa4b8[-0x437+0xf0f+-0xad8*0x1]=_0x58a2cd,_0x4fa4b8[-0x22da+-0x1731+-0x5*-0xb9c]=_0x518783);},this['commitFunc'+'tion'][wa]=function(_0x587145,_0x2422ed){_0x4fa4b8=_0x587145['value'],_0x58a2cd=_0x2422ed[0x210e+-0x9*0x45+-0x1ea1],_0x518783=_0x2422ed[0x42b*-0x2+-0x1*0x23f2+0x2c49*0x1],_0x79a28f=_0x2422ed[0x1*0x18d9+0x2c*-0x8d+-0x9b],(_0x4fa4b8[0x123*0x17+-0x15dd+-0x448]!==_0x58a2cd||_0x4fa4b8[0xfb*0x1a+0x13*-0xeb+-0xa*0xce]!==_0x518783||_0x4fa4b8[0x2013+-0x11f*0x1+-0x22*0xe9]!==_0x79a28f)&&(_0x5bad35['uniform3ui'+'v'](_0x587145['locationId'],_0x2422ed),_0x4fa4b8[-0x5*0x71+-0x26e9+0x291e]=_0x58a2cd,_0x4fa4b8[0x567*0x1+0x1d10+-0x2276]=_0x518783,_0x4fa4b8[0x7bc+-0x2*0x1ed+-0x4*0xf8]=_0x79a28f);},this['commitFunc'+'tion'][Ta]=function(_0x1adaf8,_0x3cca2f){_0x4fa4b8=_0x1adaf8['value'],_0x58a2cd=_0x3cca2f[-0xc8+-0x242d+-0x1*-0x24f5],_0x518783=_0x3cca2f[-0xef*0x2+0xf00+-0xd21],_0x79a28f=_0x3cca2f[-0x6bb*-0x1+0x2*0x116c+-0x2991],_0x5b646a=_0x3cca2f[-0x79*-0x1a+0x2*-0x12f9+0x1*0x19ab],(_0x4fa4b8[-0x1734+-0xcc2+-0x11fb*-0x2]!==_0x58a2cd||_0x4fa4b8[-0x185d+-0x54f*0x7+0x3d87]!==_0x518783||_0x4fa4b8[-0xb*-0x24d+0x174b+-0x3098]!==_0x79a28f||_0x4fa4b8[0x196e+0x1751+0x2*-0x185e]!==_0x5b646a)&&(_0x5bad35['uniform4ui'+'v'](_0x1adaf8['locationId'],_0x3cca2f),_0x4fa4b8[0x1*-0x11ed+-0x869+0x2*0xd2b]=_0x58a2cd,_0x4fa4b8[-0xe28+-0x279+-0x1*-0x10a2]=_0x518783,_0x4fa4b8[0x11df*-0x1+-0x5cf+0x17b0]=_0x79a28f,_0x4fa4b8[0x108c+-0xf11+-0x178]=_0x5b646a);},this['commitFunc'+'tion'][Aa]=function(_0x4a2bed,_0x5670f6){_0x5bad35['uniform1iv'](_0x4a2bed['locationId'],_0x5670f6);},this['commitFunc'+'tion'][Oc]=function(_0x29fe67,_0x3c55b6){_0x5bad35['uniform1ui'+'v'](_0x29fe67['locationId'],_0x3c55b6);},this['commitFunc'+'tion'][kc]=this['commitFunc'+'tion'][Aa],this['commitFunc'+'tion'][Ea]=function(_0x558518,_0x4b7b7f){_0x5bad35['uniform2iv'](_0x558518['locationId'],_0x4b7b7f);},this['commitFunc'+'tion'][Bc]=function(_0x177b0b,_0x41552a){_0x5bad35['uniform2ui'+'v'](_0x177b0b['locationId'],_0x41552a);},this['commitFunc'+'tion'][Nc]=this['commitFunc'+'tion'][Ea],this['commitFunc'+'tion'][Ca]=function(_0x21c3ab,_0x29b294){_0x5bad35['uniform3iv'](_0x21c3ab['locationId'],_0x29b294);},this['commitFunc'+'tion'][zc]=function(_0x3135d9,_0x3fd4f7){_0x5bad35['uniform3ui'+'v'](_0x3135d9['locationId'],_0x3fd4f7);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ca],this['commitFunc'+'tion'][Ih]=function(_0x2f4713,_0x5d0650){_0x5bad35['uniform4iv'](_0x2f4713['locationId'],_0x5d0650);},this['commitFunc'+'tion'][hp]=function(_0x556395,_0x37874d){_0x5bad35['uniform4ui'+'v'](_0x556395['locationId'],_0x37874d);},this['commitFunc'+'tion'][cp]=this['commitFunc'+'tion'][Ih],this['commitFunc'+'tion'][Ny]=function(_0x2cb580,_0x5a7cd2){_0x5bad35['uniformMat'+'rix4fv'](_0x2cb580['locationId'],!(-0x1*0x45+0x243+-0x1fd),_0x5a7cd2);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x32babd=this['gl'];this['feedback']&&_0x32babd['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1854+0x19*0x169+-0xaec)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x179a+-0x3*-0x491+-0x1*0x254c)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x40c7b1){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new pt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x40c7b1;}['updateBack'+'bufferForm'+'at'](_0x2ca309){const _0x5c6056=this['gl'];_0x5c6056['bindFrameb'+'uffer'](_0x5c6056['FRAMEBUFFE'+'R'],_0x2ca309);const _0x6ee10c=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x6ee10c?Se:dr;}['updateBack'+'buffer'](){const _0x3054ca=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x3054ca)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0xab8+0x1deb+-0xe*0x2e7),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x3c626c,_0x2be345){return new sb();}['createInde'+'xBufferImp'+'l'](_0x514853){return new ib(_0x514853);}['createShad'+'erImpl'](_0x15ff6a){return new lb(_0x15ff6a);}['createText'+'ureImpl'](_0x39d48e){return new hb(_0x39d48e);}['createRend'+'erTargetIm'+'pl'](_0x3bb575){return new db();}['pushMarker'](_0x1913df){if(ye['browser']&&window['spector']){const _0x3c6f99=G['toString']();window['spector']['setMarker'](_0x3c6f99+'\x20#');}}['popMarker'](){if(ye['browser']&&window['spector']){const _0x946356=G['toString']();_0x946356['length']?window['spector']['setMarker'](_0x946356+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x177b76=this['gl'];let _0x47c1ec='highp';if(_0x177b76['getShaderP'+'recisionFo'+'rmat']){const _0xdc1bd1=_0x177b76['getShaderP'+'recisionFo'+'rmat'](_0x177b76['VERTEX_SHA'+'DER'],_0x177b76['HIGH_FLOAT']),_0x5f50cd=_0x177b76['getShaderP'+'recisionFo'+'rmat'](_0x177b76['VERTEX_SHA'+'DER'],_0x177b76['MEDIUM_FLO'+'AT']),_0x14ae10=_0x177b76['getShaderP'+'recisionFo'+'rmat'](_0x177b76['FRAGMENT_S'+'HADER'],_0x177b76['HIGH_FLOAT']),_0xcbe582=_0x177b76['getShaderP'+'recisionFo'+'rmat'](_0x177b76['FRAGMENT_S'+'HADER'],_0x177b76['MEDIUM_FLO'+'AT']);if(_0xdc1bd1&&_0x5f50cd&&_0x14ae10&&_0xcbe582){const _0x4ec12f=_0xdc1bd1['precision']>-0x24ca+0x1182+0x1348&&_0x14ae10['precision']>-0x18bb+0x22bc+0x1*-0xa01,_0x4d48b6=_0x5f50cd['precision']>-0x16e7+-0x153b+-0x64e*-0x7&&_0xcbe582['precision']>0x27f*-0xc+-0x74*-0x27+0x6*0x20c;_0x4ec12f||(_0x4d48b6?(_0x47c1ec='mediump',v['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x47c1ec='lowp',v['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x47c1ec;}['getExtensi'+'on'](){for(let _0x4bc30f=0x9*-0x17e+0x3b9*0x3+-0x243*-0x1;_0x4bc30f<arguments['length'];_0x4bc30f++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x4bc30f])!==-(-0x1*-0x17fd+0x11e+-0x191a))return this['gl']['getExtensi'+'on'](arguments[_0x4bc30f]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x2d4c33=this['gl'];this['supportedE'+'xtensions']=_0x2d4c33['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x3c*-0x5+0x1*0x29+-0x155*0x1),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x155d97=this['gl'];let _0x755a6f;const _0xe78073=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x9d84db=_0x155d97['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x9d84db==null?void(-0x542+0x11*0x1d3+-0x19c1):_0x9d84db['antialias'])??!(0x2*-0x724+0x1089+-0x8*0x48),this['supportsSt'+'encil']=(_0x9d84db==null?void(-0x262a+0x1*-0xfcb+-0x13*-0x2d7):_0x9d84db['stencil'])??!(0x566+0x151*-0x4+-0x21),this['maxTexture'+'Size']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x155d97['getParamet'+'er'](_0x155d97['MAX_3D_TEX'+'TURE_SIZE']),_0x755a6f=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x755a6f?_0x155d97['getParamet'+'er'](_0x755a6f['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x755a6f?_0x155d97['getParamet'+'er'](_0x755a6f['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x3007f8=/\bMali-G52+/,_0x12321a=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0xe78073['match'](_0x12321a))&&!this['unmaskedRe'+'nderer']['match'](_0x3007f8),_0x755a6f=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x755a6f?_0x155d97['getParamet'+'er'](_0x755a6f['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x18*0xce+-0x1*0x1163+0x2*-0xf6;const _0x150b78=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x150b78?_0x155d97['getParamet'+'er'](_0x155d97['MAX_SAMPLE'+'S']):0x1*0x151+0xd17*-0x2+0x18de,this['maxSamples']=Math['min'](this['maxSamples'],0x3*-0x346+0x1*-0x139f+0x1*0x1d75),this['samples']=_0x150b78&&this['backBuffer'+'Antialias']?this['maxSamples']:0x8*0x24a+-0x9f1*0x2+0x193,this['supportsAr'+'eaLights']=!ye['android'],this['maxTexture'+'s']<=0x24c0+0x19f*0x4+-0x2b34&&(this['supportsAr'+'eaLights']=!(-0x4d8+0x1e52+-0x1*0x1979));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x3818d2=this['gl'];_0x3818d2['disable'](_0x3818d2['BLEND']),_0x3818d2['blendFunc'](_0x3818d2['ONE'],_0x3818d2['ZERO']),_0x3818d2['blendEquat'+'ion'](_0x3818d2['FUNC_ADD']),_0x3818d2['colorMask'](!(0x18f3+-0x124+-0x17cf),!(-0x21b5*0x1+-0x10c+0x22c1),!(-0x1*-0x11f4+-0x1ec2+0x12a*0xb),!(-0x656+0x71*-0x56+0x2c4c)),_0x3818d2['blendColor'](0x3*0x4cd+-0x9bc+-0x4ab*0x1,0xf6f+0x22d1+0xc90*-0x4,0x13b9+0x3*0x329+-0x42c*0x7,-0x17fa+-0x1a9*-0x1+0x1651),_0x3818d2['enable'](_0x3818d2['CULL_FACE']),this['cullFace']=_0x3818d2['BACK'],_0x3818d2['cullFace'](_0x3818d2['BACK']),_0x3818d2['enable'](_0x3818d2['DEPTH_TEST']),_0x3818d2['depthFunc'](_0x3818d2['LEQUAL']),_0x3818d2['depthMask'](!(-0x589+0x2349*-0x1+0xbe*0x37)),this['stencil']=!(0x1*0x11af+-0x12db*0x1+0x12d),_0x3818d2['disable'](_0x3818d2['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ai,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x19df+0x2fc+0x16e3,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x2*-0x11fc+0x66*0x47+0x8ad*0x1,_0x3818d2['stencilFun'+'c'](_0x3818d2['ALWAYS'],-0x1*-0x82f+-0x2186+-0xd*-0x1f3,-0x9*-0xa8+-0x115*0x13+0xfa6),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=ha,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=ha,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=ha,this['stencilWri'+'teMaskFron'+'t']=0x7*-0x6d+-0x18*-0x10f+0x2*-0xab7,this['stencilWri'+'teMaskBack']=-0x69d+-0x6af*-0x1+0x1*0xed,_0x3818d2['stencilOp'](_0x3818d2['KEEP'],_0x3818d2['KEEP'],_0x3818d2['KEEP']),_0x3818d2['stencilMas'+'k'](0x2c6*0x7+0x1267+0x24d2*-0x1),this['alphaToCov'+'erage']=!(-0x1bad+0x2671+-0xac3),this['raster']=!(-0x1c50+0x1693+0x1*0x5bd),_0x3818d2['disable'](_0x3818d2['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x3818d2['disable'](_0x3818d2['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x3f8+0x1*0xe6b+0xa72*-0x1),_0x3818d2['disable'](_0x3818d2['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0xfea+-0x3*-0x187+0x7a*-0x2b,_0x3818d2['clearDepth'](0x47*-0x79+-0x5fd+0x195*0x19),this['clearColor']=new Y(0x13d8+0x3d*-0x26+-0xaca,0x43*-0x8f+-0x221c+0x4789,0xf2a+0x1*-0x1c33+0xd09*0x1,-0x204e*0x1+-0x27d+0x3*0xb99),_0x3818d2['clearColor'](0x21e+0x1*0x11d3+0x13f1*-0x1,0x23ba+-0x44e*-0x8+-0x462a,-0x18e*-0x12+0x923*-0x3+0x7*-0x15,-0x3*0x66e+0x2*-0x1250+0x1a5*0x22),this['clearStenc'+'il']=0x39d+0x16*0x5e+-0x1*0xbb1,_0x3818d2['clearStenc'+'il'](-0x2050+0xb*-0xdf+0x29e5),_0x3818d2['hint'](_0x3818d2['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x3818d2['NICEST']),_0x3818d2['enable'](_0x3818d2['SCISSOR_TE'+'ST']),_0x3818d2['pixelStore'+'i'](_0x3818d2['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x3818d2['NONE']),this['unpackFlip'+'Y']=!(0x1067+0x1dce+-0x1*0x2e34),_0x3818d2['pixelStore'+'i'](_0x3818d2['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x1*0x737+-0x61c*-0x2+0x100*-0x5)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x536*0x1+-0x6f1*-0x2+-0x1317),_0x3818d2['pixelStore'+'i'](_0x3818d2['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x157a+-0xce*-0x17+-0x2f9*-0x1)),_0x3818d2['pixelStore'+'i'](_0x3818d2['UNPACK_ALI'+'GNMENT'],0x1329+0x1d0b+-0x3033);}['initTextur'+'eUnits'](_0x235dac=0x1*-0x301+0xe*-0x1+0x31f){this['textureUni'+'ts']=[];for(let _0x4ca59a=-0x41*0x87+-0x1975+0x1*0x3bbc;_0x4ca59a<_0x235dac;_0x4ca59a++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x20d8+0x43+-0x211b,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x40960c of this['shaders'])_0x40960c['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x3b06d7 of this['shaders'])_0x3b06d7['restoreCon'+'text']();}['setViewpor'+'t'](_0x1097f0,_0x222d0a,_0x302c7e,_0x369c3b){(this['vx']!==_0x1097f0||this['vy']!==_0x222d0a||this['vw']!==_0x302c7e||this['vh']!==_0x369c3b)&&(this['gl']['viewport'](_0x1097f0,_0x222d0a,_0x302c7e,_0x369c3b),this['vx']=_0x1097f0,this['vy']=_0x222d0a,this['vw']=_0x302c7e,this['vh']=_0x369c3b);}['setScissor'](_0xb27563,_0x401fcb,_0x437920,_0x569b8b){(this['sx']!==_0xb27563||this['sy']!==_0x401fcb||this['sw']!==_0x437920||this['sh']!==_0x569b8b)&&(this['gl']['scissor'](_0xb27563,_0x401fcb,_0x437920,_0x569b8b),this['sx']=_0xb27563,this['sy']=_0x401fcb,this['sw']=_0x437920,this['sh']=_0x569b8b);}['setFramebu'+'ffer'](_0x4d3b3d){if(this['activeFram'+'ebuffer']!==_0x4d3b3d){const _0x4d097e=this['gl'];_0x4d097e['bindFrameb'+'uffer'](_0x4d097e['FRAMEBUFFE'+'R'],_0x4d3b3d),this['activeFram'+'ebuffer']=_0x4d3b3d;}}['copyRender'+'Target'](_0xe3950a,_0x383c41,_0x20c42a,_0x1dfac8){var _0x4d47e9,_0x4286f5;const _0x4aedbf=this['gl'];if(_0xe3950a===this['backBuffer']&&(_0xe3950a=null),_0x20c42a){if(_0x383c41){if(_0xe3950a){if(!_0xe3950a['_colorBuff'+'er']||!_0x383c41['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x103f+-0x1*-0x19b9+0x3*-0xdfd);if(_0xe3950a['_colorBuff'+'er']['_format']!==_0x383c41['_colorBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1*-0x216d+-0x161*-0x5+-0x2851);}}else{if(!_0xe3950a['_colorBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x5*-0xb7+-0x34f+-0x6e3*-0x1);}}if(_0x1dfac8&&_0xe3950a&&!_0xe3950a['_depth']){if(!_0xe3950a['_depthBuff'+'er']||!_0x383c41['_depthBuff'+'er'])return v['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1*-0x22f+-0x8d2*0x4+0x2578);if(_0xe3950a['_depthBuff'+'er']['_format']!==_0x383c41['_depthBuff'+'er']['_format'])return v['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x1*0x25a5+0x84*-0x22+0x2*0x1b97);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0xe7286b=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x383c41,this['updateBegi'+'n']();const _0x165c65=_0xe3950a?_0xe3950a['impl']['_glFrameBu'+'ffer']:(_0x4d47e9=this['backBuffer'])==null?void(0x4be*0x1+-0x1dc2+0x641*0x4):_0x4d47e9['impl']['_glFrameBu'+'ffer'],_0x255941=_0x383c41?_0x383c41['impl']['_glFrameBu'+'ffer']:(_0x4286f5=this['backBuffer'])==null?void(-0x105c+0x1702+-0x6a6):_0x4286f5['impl']['_glFrameBu'+'ffer'];v['assert'](_0x165c65!==_0x255941,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x4aedbf['bindFrameb'+'uffer'](_0x4aedbf['READ_FRAME'+'BUFFER'],_0x165c65),_0x4aedbf['bindFrameb'+'uffer'](_0x4aedbf['DRAW_FRAME'+'BUFFER'],_0x255941);const _0x10a4cf=_0xe3950a?_0xe3950a['width']:_0x383c41?_0x383c41['width']:this['width'],_0x43094a=_0xe3950a?_0xe3950a['height']:_0x383c41?_0x383c41['height']:this['height'];return _0x4aedbf['blitFrameb'+'uffer'](0x3*-0x3b9+0x6e1*0x3+-0x978,0x438*0x9+0x2154+-0x1fb*0x24,_0x10a4cf,_0x43094a,0x1032+0x121d+0x1*-0x224f,-0xe99+0x1*-0xd00+-0x1*-0x1b99,_0x10a4cf,_0x43094a,(_0x20c42a?_0x4aedbf['COLOR_BUFF'+'ER_BIT']:-0xbc8+0x1d97+-0x11cf)|(_0x1dfac8?_0x4aedbf['DEPTH_BUFF'+'ER_BIT']:-0x2251+0x200+0x2051),_0x4aedbf['NEAREST']),this['renderTarg'+'et']=_0xe7286b,_0x4aedbf['bindFrameb'+'uffer'](_0x4aedbf['FRAMEBUFFE'+'R'],_0xe7286b?_0xe7286b['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(-0x1619+0x2*-0x5bf+0x2197);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x530bf5){const _0x277f24=_0x530bf5['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x277f24,v['assert'](_0x277f24),G['pushGpuMar'+'ker'](this,'Pass:'+_0x530bf5['name']+'\x20RT:'+_0x277f24['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x58a854,height:_0x4d925e}=_0x277f24;this['setViewpor'+'t'](-0xd3*0x1a+-0x47f*0x5+0x2be9,-0x2618+-0x574+0x2b8c,_0x58a854,_0x4d925e),this['setScissor'](0xa7b*0x3+0xe*0x17b+0x5*-0xa6f,-0x17db+0x1*0xc15+0x1*0xbc6,_0x58a854,_0x4d925e);const _0x1bd7fd=_0x530bf5['colorOps'],_0x6b6903=_0x530bf5['depthStenc'+'ilOps'];if(_0x1bd7fd!=null&&_0x1bd7fd['clear']||_0x6b6903['clearDepth']||_0x6b6903['clearStenc'+'il']){let _0x440ec0=-0x21d3+0x1510+0xcc3;const _0x421d81={};_0x1bd7fd!=null&&_0x1bd7fd['clear']&&(_0x440ec0|=Co,_0x421d81['color']=[_0x1bd7fd['clearValue']['r'],_0x1bd7fd['clearValue']['g'],_0x1bd7fd['clearValue']['b'],_0x1bd7fd['clearValue']['a']]),_0x6b6903['clearDepth']&&(_0x440ec0|=Mo,_0x421d81['depth']=_0x6b6903['clearDepth'+'Value']),_0x6b6903['clearStenc'+'il']&&(_0x440ec0|=Ah,_0x421d81['stencil']=_0x6b6903['clearStenc'+'ilValue']),_0x421d81['flags']=_0x440ec0,this['clear'](_0x421d81);}v['call'](()=>{this['insideRend'+'erPass']&&v['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x1*0x2417+0xd7+-0x24ee),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x238688){var _0x48ed5a;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0xd57e36=this['renderTarg'+'et'],_0x3631f3=_0x238688['colorArray'+'Ops']['length'];if(_0xd57e36){Tn['length']=0x1517*-0x1+0x238+0x12df*0x1;const _0xada2e5=this['gl'];for(let _0x151728=-0x113b+-0x2b1+0x13ec;_0x151728<_0x3631f3;_0x151728++){const _0x101c56=_0x238688['colorArray'+'Ops'][_0x151728];_0x101c56['store']||_0x101c56['resolve']||Tn['push'](_0xada2e5['COLOR_ATTA'+'CHMENT0']+_0x151728);}_0xd57e36!==this['backBuffer']&&(_0x238688['depthStenc'+'ilOps']['storeDepth']||Tn['push'](_0xada2e5['DEPTH_ATTA'+'CHMENT']),_0x238688['depthStenc'+'ilOps']['storeStenc'+'il']||Tn['push'](_0xada2e5['STENCIL_AT'+'TACHMENT'])),Tn['length']>-0x8c5+0x1*0xa7f+0x11*-0x1a&&_0x238688['fullSizeCl'+'earRect']&&_0xada2e5['invalidate'+'Framebuffe'+'r'](_0xada2e5['DRAW_FRAME'+'BUFFER'],Tn),_0x3631f3&&((_0x48ed5a=_0x238688['colorOps'])!=null&&_0x48ed5a['resolve'])&&_0x238688['samples']>-0x1*-0x19de+-0xd*0x125+-0xafc&&_0xd57e36['autoResolv'+'e']&&_0xd57e36['resolve'](!(-0x5a7+-0x239e+0x841*0x5),!(-0x1e36+0x1*-0xed2+0xbd*0x3d)),_0xd57e36['depthBuffe'+'r']&&_0x238688['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x238688['samples']>0x10f1+-0x21*0x12e+0x15fe&&_0xd57e36['autoResolv'+'e']&&_0xd57e36['resolve'](!(0x220*-0x8+-0xeda*0x2+0x2eb5),!(-0x1*-0x140b+0x204*-0x3+0x1*-0xdff));for(let _0x191f9a=0x256d+0x24e1+0x1*-0x4a4e;_0x191f9a<_0x3631f3;_0x191f9a++)if(_0x238688['colorArray'+'Ops'][_0x191f9a]['genMipmaps']){const _0x52e521=_0xd57e36['_colorBuff'+'ers'][_0x191f9a];_0x52e521&&_0x52e521['impl']['_glTexture']&&_0x52e521['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x191f9a),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x13ab+0x7*-0x1d3+0x97*0x37)),this['bindTextur'+'e'](_0x52e521),this['gl']['generateMi'+'pmap'](_0x52e521['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x8*-0x1cf+-0x17d3+0x95c),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x3a245f){this['_defaultFr'+'amebuffer']!==_0x3a245f&&(this['_defaultFr'+'amebuffer']=_0x3a245f,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1d12+0x95f+0x13b3));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x4caeb2=-0x72a*-0x1+-0x190f+0x11e5;_0x4caeb2<this['textureUni'+'ts']['length'];++_0x4caeb2)for(let _0x15cc60=-0x1f9a+0x1bcb*0x1+-0x3cf*-0x1;_0x15cc60<-0xf2+0xdb4+0xd*-0xfb;++_0x15cc60)this['textureUni'+'ts'][_0x4caeb2][_0x15cc60]=null;}const _0x6f2781=this['renderTarg'+'et']??this['backBuffer'];v['assert'](_0x6f2781);const _0x4ba2cd=_0x6f2781['impl'];_0x4ba2cd['initialize'+'d']||this['initRender'+'Target'](_0x6f2781),this['setFramebu'+'ffer'](_0x4ba2cd['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x1e1a4e=this['renderTarg'+'et'];if(_0x1e1a4e&&_0x1e1a4e!==this['backBuffer']){_0x1e1a4e['_samples']>0x43*0x35+-0x3a1+-0xa3d*0x1&&_0x1e1a4e['autoResolv'+'e']&&_0x1e1a4e['resolve']();const _0x37d6d4=_0x1e1a4e['_colorBuff'+'er'];_0x37d6d4&&_0x37d6d4['impl']['_glTexture']&&_0x37d6d4['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x32b*-0x9+-0x1*0x853+0x24d7*0x1)),this['bindTextur'+'e'](_0x37d6d4),this['gl']['generateMi'+'pmap'](_0x37d6d4['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x3edf49){if(this['unpackFlip'+'Y']!==_0x3edf49){this['unpackFlip'+'Y']=_0x3edf49;const _0x56b4e9=this['gl'];_0x56b4e9['pixelStore'+'i'](_0x56b4e9['UNPACK_FLI'+'P_Y_WEBGL'],_0x3edf49);}}['setUnpackP'+'remultiply'+'Alpha'](_0x53f065){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x53f065){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x53f065;const _0x35b102=this['gl'];_0x35b102['pixelStore'+'i'](_0x35b102['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x53f065);}}['activeText'+'ure'](_0xf5a386){this['textureUni'+'t']!==_0xf5a386&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0xf5a386),this['textureUni'+'t']=_0xf5a386);}['bindTextur'+'e'](_0x4fb3c0){const _0x151eac=_0x4fb3c0['impl'],_0x559f13=_0x151eac['_glTarget'],_0x43430a=_0x151eac['_glTexture'],_0x3b96c0=this['textureUni'+'t'],_0x2904f2=this['targetToSl'+'ot'][_0x559f13];this['textureUni'+'ts'][_0x3b96c0][_0x2904f2]!==_0x43430a&&(this['gl']['bindTextur'+'e'](_0x559f13,_0x43430a),this['textureUni'+'ts'][_0x3b96c0][_0x2904f2]=_0x43430a);}['bindTextur'+'eOnUnit'](_0x39768f,_0x44448c){const _0x5cd609=_0x39768f['impl'],_0x557ad3=_0x5cd609['_glTarget'],_0x3502ad=_0x5cd609['_glTexture'],_0x24dd65=this['targetToSl'+'ot'][_0x557ad3];this['textureUni'+'ts'][_0x44448c][_0x24dd65]!==_0x3502ad&&(this['activeText'+'ure'](_0x44448c),this['gl']['bindTextur'+'e'](_0x557ad3,_0x3502ad),this['textureUni'+'ts'][_0x44448c][_0x24dd65]=_0x3502ad);}['setTexture'+'Parameters'](_0x4c57d8){const _0x4b1093=this['gl'],_0x512bfc=_0x4c57d8['impl']['dirtyParam'+'eterFlags'],_0x2310fe=_0x4c57d8['impl']['_glTarget'];if(_0x512bfc&zy){let _0x297cb7=_0x4c57d8['_minFilter'];(!_0x4c57d8['_mipmaps']||_0x4c57d8['_compresse'+'d']&&_0x4c57d8['_levels']['length']===-0x1*0x22f4+0x1114*0x1+0x11e1)&&(_0x297cb7===fc||_0x297cb7===pc?_0x297cb7=de:(_0x297cb7===mc||_0x297cb7===nn)&&(_0x297cb7=st)),_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x297cb7]);}if(_0x512bfc&Uy&&_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x4c57d8['_magFilter']]),_0x512bfc&Vy&&_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x4c57d8['_addressU']]),_0x512bfc&Gy&&_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x4c57d8['_addressV']]),_0x512bfc&Hy&&_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x4c57d8['_addressW']]),_0x512bfc&Wy&&_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_CO'+'MPARE_MODE'],_0x4c57d8['_compareOn'+'Read']?_0x4b1093['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x4b1093['NONE']),_0x512bfc&$y&&_0x4b1093['texParamet'+'eri'](_0x2310fe,_0x4b1093['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x4c57d8['_compareFu'+'nc']]),_0x512bfc&qy){const _0x3e00ba=this['extTexture'+'FilterAnis'+'otropic'];_0x3e00ba&&_0x4b1093['texParamet'+'erf'](_0x2310fe,_0x3e00ba['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],N['clamp'](Math['round'](_0x4c57d8['_anisotrop'+'y']),0x2*-0xf3a+-0x3e*0x19+0x2483,this['maxAnisotr'+'opy']));}}['setTexture'](_0x291cdf,_0x451c5f){const _0x2a508a=_0x291cdf['impl'];_0x2a508a['_glTexture']||_0x2a508a['initialize'](this,_0x291cdf),_0x2a508a['dirtyParam'+'eterFlags']>-0x1b48+0x833*0x1+-0x1315*-0x1||_0x291cdf['_needsUplo'+'ad']||_0x291cdf['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x451c5f),this['bindTextur'+'e'](_0x291cdf),_0x2a508a['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x291cdf),_0x2a508a['dirtyParam'+'eterFlags']=-0x2080*0x1+-0x5e7*-0x1+0x26b*0xb),(_0x291cdf['_needsUplo'+'ad']||_0x291cdf['_needsMipm'+'apsUpload'])&&(_0x2a508a['upload'](this,_0x291cdf),_0x291cdf['_needsUplo'+'ad']=!(-0x1c92+0x63+0x386*0x8),_0x291cdf['_needsMipm'+'apsUpload']=!(0x2*-0x677+0x268+0xa87))):this['bindTextur'+'eOnUnit'](_0x291cdf,_0x451c5f);}['createVert'+'exArray'](_0x42de72){let _0x377ee7,_0x1deb54;const _0x4fd9f4=_0x42de72['length']>-0xbb0+0x2d*-0x3e+0x1697;if(_0x4fd9f4){_0x377ee7='';for(let _0x4719d9=0x22fd+-0x23bc+-0x1*-0xbf;_0x4719d9<_0x42de72['length'];_0x4719d9++){const _0x32db14=_0x42de72[_0x4719d9];_0x377ee7+=_0x32db14['id']+_0x32db14['format']['renderingH'+'ash'];}_0x1deb54=this['_vaoMap']['get'](_0x377ee7);}if(!_0x1deb54){const _0x2a6f43=this['gl'];_0x1deb54=_0x2a6f43['createVert'+'exArray'](),_0x2a6f43['bindVertex'+'Array'](_0x1deb54),_0x2a6f43['bindBuffer'](_0x2a6f43['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x43a0af=!(-0x4e*-0x49+0xf1*0x15+0x26*-0x11b);for(let _0x50dc08=-0x1fee+0x8*0x28b+-0x2*-0x5cb;_0x50dc08<_0x42de72['length'];_0x50dc08++){const _0x1b9c62=_0x42de72[_0x50dc08];_0x2a6f43['bindBuffer'](_0x2a6f43['ARRAY_BUFF'+'ER'],_0x1b9c62['impl']['bufferId']);const _0x1cd1cf=_0x1b9c62['format']['elements'];for(let _0x40c794=0x1f5e+0x1*-0x1997+-0x5c7;_0x40c794<_0x1cd1cf['length'];_0x40c794++){const _0x47f6b4=_0x1cd1cf[_0x40c794],_0x4cfd67=ve[_0x47f6b4['name']];_0x4cfd67===-0x194f+0x962*-0x2+0x1*0x2c13&&(_0x43a0af=!(-0x75f+-0x95*-0x2b+0x28*-0x71)),_0x47f6b4['asInt']?_0x2a6f43['vertexAttr'+'ibIPointer'](_0x4cfd67,_0x47f6b4['numCompone'+'nts'],this['glType'][_0x47f6b4['dataType']],_0x47f6b4['stride'],_0x47f6b4['offset']):_0x2a6f43['vertexAttr'+'ibPointer'](_0x4cfd67,_0x47f6b4['numCompone'+'nts'],this['glType'][_0x47f6b4['dataType']],_0x47f6b4['normalize'],_0x47f6b4['stride'],_0x47f6b4['offset']),_0x2a6f43['enableVert'+'exAttribAr'+'ray'](_0x4cfd67),_0x1b9c62['format']['instancing']&&_0x2a6f43['vertexAttr'+'ibDivisor'](_0x4cfd67,-0x2*-0x755+0x273*-0xa+0x3*0x347);}}_0x2a6f43['bindVertex'+'Array'](null),_0x2a6f43['bindBuffer'](_0x2a6f43['ARRAY_BUFF'+'ER'],null),_0x4fd9f4&&this['_vaoMap']['set'](_0x377ee7,_0x1deb54),_0x43a0af||v['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x1deb54;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x3e0353=this['gl'];let _0x5e32a5;if(this['vertexBuff'+'ers']['length']===-0x11be+-0x258c+0x5*0xb0f){const _0x3db350=this['vertexBuff'+'ers'][-0xcd6+-0x241*0x4+0x15da];v['assert'](_0x3db350['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x3db350['impl']['vao']||(_0x3db350['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x5e32a5=_0x3db350['impl']['vao'];}else _0x5e32a5=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x5e32a5&&(this['boundVao']=_0x5e32a5,_0x3e0353['bindVertex'+'Array'](_0x5e32a5)),this['clearVerte'+'xBuffer']();const _0x3463c7=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x3e0353['bindBuffer'](_0x3e0353['ELEMENT_AR'+'RAY_BUFFER'],_0x3463c7);}['draw'](_0x52944e,_0x3e338d,_0x4397b3){const _0x49a56b=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x303daa,_0x1dcf58,_0x2d2d13,_0x551de7,_0x577e5f,_0x355ec4,_0x12af7b,_0x29d7f3;const _0x53d82e=this['shader'];if(!_0x53d82e)return;const _0x125a6b=_0x53d82e['impl']['samplers'],_0xd3439b=_0x53d82e['impl']['uniforms'];_0x4397b3||this['setBuffers']();let _0x1f3f1d=-0x1297+0x2*-0x75+0x1*0x1381;for(let _0x1f4eac=-0x1c6a+-0x1c45+-0x15*-0x2b3,_0x25fb4c=_0x125a6b['length'];_0x1f4eac<_0x25fb4c;_0x1f4eac++){if(_0x303daa=_0x125a6b[_0x1f4eac],_0x1dcf58=_0x303daa['scopeId']['value'],!_0x1dcf58){const _0x4e3ac3=_0x303daa['scopeId']['name'];v['assert'](_0x4e3ac3!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),v['assert'](_0x4e3ac3!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x4e3ac3==='uSceneDept'+'hMap'&&(v['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x1dcf58=en(this,'white')),_0x4e3ac3==='uSceneColo'+'rMap'&&(v['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x1dcf58=en(this,'pink')),_0x1dcf58||(v['errorOnce']('Shader\x20'+_0x53d82e['name']+'\x20requires\x20'+_0x4e3ac3+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x1dcf58=en(this,'pink'));}if(_0x1dcf58 instanceof he)_0x2d2d13=_0x1dcf58,this['setTexture'](_0x2d2d13,_0x1f3f1d),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x1bb6+-0x15fc+-0x5b8&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x2d2d13?v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x2d2d13}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x2d2d13&&v['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x2d2d13})),_0x303daa['slot']!==_0x1f3f1d&&(_0x49a56b['uniform1i'](_0x303daa['locationId'],_0x1f3f1d),_0x303daa['slot']=_0x1f3f1d),_0x1f3f1d++;else{_0x303daa['array']['length']=0x221*-0x4+0x1f7b+-0x16f7,_0x551de7=_0x1dcf58['length'];for(let _0x2fd1b3=0xc*-0x219+-0x1*0xbe9+0x2515*0x1;_0x2fd1b3<_0x551de7;_0x2fd1b3++)_0x2d2d13=_0x1dcf58[_0x2fd1b3],this['setTexture'](_0x2d2d13,_0x1f3f1d),_0x303daa['array'][_0x2fd1b3]=_0x1f3f1d,_0x1f3f1d++;_0x49a56b['uniform1iv'](_0x303daa['locationId'],_0x303daa['array']);}}for(let _0xc62859=-0x26*0x7c+-0x214c+0x33b4,_0x496ddf=_0xd3439b['length'];_0xc62859<_0x496ddf;_0xc62859++)_0x577e5f=_0xd3439b[_0xc62859],_0x355ec4=_0x577e5f['scopeId'],_0x12af7b=_0x577e5f['version'],_0x29d7f3=_0x355ec4['versionObj'+'ect']['version'],(_0x12af7b['globalId']!==_0x29d7f3['globalId']||_0x12af7b['revision']!==_0x29d7f3['revision'])&&(_0x12af7b['globalId']=_0x29d7f3['globalId'],_0x12af7b['revision']=_0x29d7f3['revision'],_0x355ec4['value']!==null&&this['commitFunc'+'tion'][_0x577e5f['dataType']](_0x577e5f,_0x355ec4['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x49a56b['bindBuffer'+'Base'](_0x49a56b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x2*-0x50b+-0x1*-0xedb+-0x18f1,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x49a56b['beginTrans'+'formFeedba'+'ck'](_0x49a56b['POINTS']));const _0x55bd50=this['glPrimitiv'+'e'][_0x52944e['type']],_0x30eadb=_0x52944e['count'];if(_0x52944e['indexed']){const _0x4406c0=this['indexBuffe'+'r'];v['assert'](_0x4406c0['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x265c27=_0x4406c0['impl']['glFormat'],_0x5d4619=_0x52944e['base']*_0x4406c0['bytesPerIn'+'dex'];_0x3e338d>0x7d7+-0x1*0x1247+0xa70?_0x49a56b['drawElemen'+'tsInstance'+'d'](_0x55bd50,_0x30eadb,_0x265c27,_0x5d4619,_0x3e338d):_0x49a56b['drawElemen'+'ts'](_0x55bd50,_0x30eadb,_0x265c27,_0x5d4619);}else{const _0x1c203c=_0x52944e['base'];_0x3e338d>0x19f3+0x511+-0x1f04?_0x49a56b['drawArrays'+'Instanced'](_0x55bd50,_0x1c203c,_0x30eadb,_0x3e338d):_0x49a56b['drawArrays'](_0x55bd50,_0x1c203c,_0x30eadb);}this['transformF'+'eedbackBuf'+'fer']&&(_0x49a56b['endTransfo'+'rmFeedback'](),_0x49a56b['bindBuffer'+'Base'](_0x49a56b['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x2*-0xa1d+0x10c1+0x379,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x52944e['type']]+=_0x52944e['count']*(_0x3e338d>0x12e6*-0x1+0x2c*-0x5d+-0x3*-0xba1?_0x3e338d:0x1e65+0x1*0x10d7+0x6b*-0x71);}['clear'](_0xbdccd0){const _0x385a55=this['defaultCle'+'arOptions'];_0xbdccd0=_0xbdccd0||_0x385a55;const _0x1bc466=_0xbdccd0['flags']??_0x385a55['flags'];if(_0x1bc466!==-0x1b6*0x13+0x1fea+0x98){const _0x440958=this['gl'];if(_0x1bc466&Co){const _0x20a168=_0xbdccd0['color']??_0x385a55['color'],_0x3fcf8f=_0x20a168[0x13e2+-0x50b*0x2+0x42*-0x26],_0x53cfa8=_0x20a168[0x515*-0x2+-0x6*-0x193+0x25*0x5],_0x1ca26d=_0x20a168[-0x93e+-0x2ca*-0x1+0x676],_0x1b23cb=_0x20a168[0xff3+0x1*0x2615+0x1*-0x3605],_0x1aab40=this['clearColor'];(_0x3fcf8f!==_0x1aab40['r']||_0x53cfa8!==_0x1aab40['g']||_0x1ca26d!==_0x1aab40['b']||_0x1b23cb!==_0x1aab40['a'])&&(this['gl']['clearColor'](_0x3fcf8f,_0x53cfa8,_0x1ca26d,_0x1b23cb),this['clearColor']['set'](_0x3fcf8f,_0x53cfa8,_0x1ca26d,_0x1b23cb)),this['setBlendSt'+'ate'](_t['NOBLEND']);}if(_0x1bc466&Mo){const _0x1eb5cc=_0xbdccd0['depth']??_0x385a55['depth'];_0x1eb5cc!==this['clearDepth']&&(this['gl']['clearDepth'](_0x1eb5cc),this['clearDepth']=_0x1eb5cc),this['setDepthSt'+'ate'](as['WRITEDEPTH']);}if(_0x1bc466&Ah){const _0x264191=_0xbdccd0['stencil']??_0x385a55['stencil'];_0x264191!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x264191),this['clearStenc'+'il']=_0x264191),_0x440958['stencilMas'+'k'](-0xcf0+-0x106a+0x1e59),this['stencilWri'+'teMaskFron'+'t']=-0xe*-0xb2+0x1c21+-0x24de,this['stencilWri'+'teMaskBack']=-0x6e3*-0x1+0x1e67+-0x244b;}_0x440958['clear'](this['glClearFla'+'g'][_0x1bc466]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x25c94d,_0x464682,_0x3782d,_0x48adb5,_0x3cd0d5){const _0x129c65=this['gl'];_0x129c65['readPixels'](_0x25c94d,_0x464682,_0x3782d,_0x48adb5,_0x129c65['RGBA'],_0x129c65['UNSIGNED_B'+'YTE'],_0x3cd0d5);}async['readPixels'+'Async'](_0x4155a5,_0x154c9f,_0x39bc16,_0x5ec20d,_0x170b64){var _0x31564d;const _0x24baf6=this['gl'],_0xb0e889=(_0x1b32f4,_0x6871fc)=>{const _0x1abeaf=_0x24baf6['fenceSync'](_0x24baf6['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0xd*0x10c+-0x23a6+0x160a);return this['submit'](),new Promise((_0x301ffb,_0x5abc9f)=>{function _0xde162c(){const _0x5a3331=_0x24baf6['clientWait'+'Sync'](_0x1abeaf,_0x1b32f4,-0x3f2+-0x196a+0x1d5c*0x1);_0x5a3331===_0x24baf6['WAIT_FAILE'+'D']?(_0x24baf6['deleteSync'](_0x1abeaf),_0x5abc9f(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x5a3331===_0x24baf6['TIMEOUT_EX'+'PIRED']?setTimeout(_0xde162c,_0x6871fc):(_0x24baf6['deleteSync'](_0x1abeaf),_0x301ffb());}_0xde162c();});},_0x4b8a3b=(_0x31564d=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0xd96+-0x1e82+-0xa6*-0x44):_0x31564d['impl'],_0x364284=(_0x4b8a3b==null?void(0x103+-0x4*-0x593+-0x174f):_0x4b8a3b['_glFormat'])??_0x24baf6['RGBA'],_0x20db93=(_0x4b8a3b==null?void(0xab*-0x2c+0x266d+-0x9*0x101):_0x4b8a3b['_glPixelTy'+'pe'])??_0x24baf6['UNSIGNED_B'+'YTE'],_0x55f2cd=_0x24baf6['createBuff'+'er']();return _0x24baf6['bindBuffer'](_0x24baf6['PIXEL_PACK'+'_BUFFER'],_0x55f2cd),_0x24baf6['bufferData'](_0x24baf6['PIXEL_PACK'+'_BUFFER'],_0x170b64['byteLength'],_0x24baf6['STREAM_REA'+'D']),_0x24baf6['readPixels'](_0x4155a5,_0x154c9f,_0x39bc16,_0x5ec20d,_0x364284,_0x20db93,0xc13+0xe59*0x1+-0x1a6c),_0x24baf6['bindBuffer'](_0x24baf6['PIXEL_PACK'+'_BUFFER'],null),await _0xb0e889(-0x3d+-0x1*0x940+0x1*0x97d,-0x1d3f*0x1+0xb55*-0x1+0x1454*0x2),_0x24baf6['bindBuffer'](_0x24baf6['PIXEL_PACK'+'_BUFFER'],_0x55f2cd),_0x24baf6['getBufferS'+'ubData'](_0x24baf6['PIXEL_PACK'+'_BUFFER'],-0x2f*-0xa7+-0xdd5*-0x1+-0x2c7e,_0x170b64),_0x24baf6['bindBuffer'](_0x24baf6['PIXEL_PACK'+'_BUFFER'],null),_0x24baf6['deleteBuff'+'er'](_0x55f2cd),_0x170b64;}['readTextur'+'eAsync'](_0x34cd43,_0x36745f,_0x531622,_0xe3596e,_0x55ce77,_0x18b33f){const _0x3a3204=_0x18b33f['face']??0x10f*0x5+0x49c+-0x9e7,_0x786279=_0x18b33f['renderTarg'+'et']??new pt({'colorBuffer':_0x34cd43,'depth':!(0x1*-0x461+-0x17b*0xb+-0x197*-0xd),'face':_0x3a3204});v['assert'](_0x786279['colorBuffe'+'r']===_0x34cd43);const _0x370fd5=new ArrayBuffer(Mi['calcLevelG'+'puSize'](_0xe3596e,_0x55ce77,-0x2210+0x5d3+0x1c3e,_0x34cd43['_format'])),_0x4a09e8=_0x18b33f['data']??new(Cy(_0x34cd43['_format']))(_0x370fd5);return this['setRenderT'+'arget'](_0x786279),this['initRender'+'Target'](_0x786279),new Promise((_0xd60931,_0x4cc953)=>{this['readPixels'+'Async'](_0x36745f,_0x531622,_0xe3596e,_0x55ce77,_0x4a09e8)['then'](_0x169ad0=>{_0x18b33f['renderTarg'+'et']||_0x786279['destroy'](),_0xd60931(_0x169ad0);})['catch'](_0x4cc953);});}['setAlphaTo'+'Coverage'](_0x552849){this['alphaToCov'+'erage']!==_0x552849&&(this['alphaToCov'+'erage']=_0x552849,_0x552849?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x3dd4f5){if(this['transformF'+'eedbackBuf'+'fer']!==_0x3dd4f5){this['transformF'+'eedbackBuf'+'fer']=_0x3dd4f5;const _0x5d9b6a=this['gl'];_0x3dd4f5?(this['feedback']||(this['feedback']=_0x5d9b6a['createTran'+'sformFeedb'+'ack']()),_0x5d9b6a['bindTransf'+'ormFeedbac'+'k'](_0x5d9b6a['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x5d9b6a['bindTransf'+'ormFeedbac'+'k'](_0x5d9b6a['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x238830){this['raster']!==_0x238830&&(this['raster']=_0x238830,_0x238830?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x158fc7){if(this['stencil']!==_0x158fc7){const _0x114c87=this['gl'];_0x158fc7?_0x114c87['enable'](_0x114c87['STENCIL_TE'+'ST']):_0x114c87['disable'](_0x114c87['STENCIL_TE'+'ST']),this['stencil']=_0x158fc7;}}['setStencil'+'Func'](_0x384cda,_0x180f58,_0x107447){(this['stencilFun'+'cFront']!==_0x384cda||this['stencilRef'+'Front']!==_0x180f58||this['stencilMas'+'kFront']!==_0x107447||this['stencilFun'+'cBack']!==_0x384cda||this['stencilRef'+'Back']!==_0x180f58||this['stencilMas'+'kBack']!==_0x107447)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x384cda],_0x180f58,_0x107447),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x384cda,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x180f58,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x107447);}['setStencil'+'FuncFront'](_0x48e866,_0x18c278,_0x6e3722){if(this['stencilFun'+'cFront']!==_0x48e866||this['stencilRef'+'Front']!==_0x18c278||this['stencilMas'+'kFront']!==_0x6e3722){const _0x539348=this['gl'];_0x539348['stencilFun'+'cSeparate'](_0x539348['FRONT'],this['glComparis'+'on'][_0x48e866],_0x18c278,_0x6e3722),this['stencilFun'+'cFront']=_0x48e866,this['stencilRef'+'Front']=_0x18c278,this['stencilMas'+'kFront']=_0x6e3722;}}['setStencil'+'FuncBack'](_0x7e2860,_0x1a58b4,_0x233513){if(this['stencilFun'+'cBack']!==_0x7e2860||this['stencilRef'+'Back']!==_0x1a58b4||this['stencilMas'+'kBack']!==_0x233513){const _0xb4f7c0=this['gl'];_0xb4f7c0['stencilFun'+'cSeparate'](_0xb4f7c0['BACK'],this['glComparis'+'on'][_0x7e2860],_0x1a58b4,_0x233513),this['stencilFun'+'cBack']=_0x7e2860,this['stencilRef'+'Back']=_0x1a58b4,this['stencilMas'+'kBack']=_0x233513;}}['setStencil'+'Operation'](_0x1eddaf,_0x51c4d9,_0x4d2d97,_0x4b32f5){(this['stencilFai'+'lFront']!==_0x1eddaf||this['stencilZfa'+'ilFront']!==_0x51c4d9||this['stencilZpa'+'ssFront']!==_0x4d2d97||this['stencilFai'+'lBack']!==_0x1eddaf||this['stencilZfa'+'ilBack']!==_0x51c4d9||this['stencilZpa'+'ssBack']!==_0x4d2d97)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x1eddaf],this['glStencilO'+'p'][_0x51c4d9],this['glStencilO'+'p'][_0x4d2d97]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x1eddaf,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x51c4d9,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x4d2d97),(this['stencilWri'+'teMaskFron'+'t']!==_0x4b32f5||this['stencilWri'+'teMaskBack']!==_0x4b32f5)&&(this['gl']['stencilMas'+'k'](_0x4b32f5),this['stencilWri'+'teMaskFron'+'t']=_0x4b32f5,this['stencilWri'+'teMaskBack']=_0x4b32f5);}['setStencil'+'OperationF'+'ront'](_0x40709d,_0x472999,_0x39af4c,_0x2d3134){(this['stencilFai'+'lFront']!==_0x40709d||this['stencilZfa'+'ilFront']!==_0x472999||this['stencilZpa'+'ssFront']!==_0x39af4c)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x40709d],this['glStencilO'+'p'][_0x472999],this['glStencilO'+'p'][_0x39af4c]),this['stencilFai'+'lFront']=_0x40709d,this['stencilZfa'+'ilFront']=_0x472999,this['stencilZpa'+'ssFront']=_0x39af4c),this['stencilWri'+'teMaskFron'+'t']!==_0x2d3134&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x2d3134),this['stencilWri'+'teMaskFron'+'t']=_0x2d3134);}['setStencil'+'OperationB'+'ack'](_0x1743bd,_0x4aeaa9,_0x481a90,_0x20095f){(this['stencilFai'+'lBack']!==_0x1743bd||this['stencilZfa'+'ilBack']!==_0x4aeaa9||this['stencilZpa'+'ssBack']!==_0x481a90)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1743bd],this['glStencilO'+'p'][_0x4aeaa9],this['glStencilO'+'p'][_0x481a90]),this['stencilFai'+'lBack']=_0x1743bd,this['stencilZfa'+'ilBack']=_0x4aeaa9,this['stencilZpa'+'ssBack']=_0x481a90),this['stencilWri'+'teMaskBack']!==_0x20095f&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x20095f),this['stencilWri'+'teMaskBack']=_0x20095f);}['setBlendSt'+'ate'](_0x5cd830){const _0x197bc9=this['blendState'];if(!_0x197bc9['equals'](_0x5cd830)){const _0x450174=this['gl'],{blend:_0x1917a2,colorOp:_0x2cac09,alphaOp:_0x192e28,colorSrcFactor:_0x43c8d2,colorDstFactor:_0x4ae9bf,alphaSrcFactor:_0x596090,alphaDstFactor:_0x370a63}=_0x5cd830;if(_0x197bc9['blend']!==_0x1917a2&&(_0x1917a2?_0x450174['enable'](_0x450174['BLEND']):_0x450174['disable'](_0x450174['BLEND'])),_0x197bc9['colorOp']!==_0x2cac09||_0x197bc9['alphaOp']!==_0x192e28){const _0x215117=this['glBlendEqu'+'ation'];_0x450174['blendEquat'+'ionSeparat'+'e'](_0x215117[_0x2cac09],_0x215117[_0x192e28]);}(_0x197bc9['colorSrcFa'+'ctor']!==_0x43c8d2||_0x197bc9['colorDstFa'+'ctor']!==_0x4ae9bf||_0x197bc9['alphaSrcFa'+'ctor']!==_0x596090||_0x197bc9['alphaDstFa'+'ctor']!==_0x370a63)&&_0x450174['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x43c8d2],this['glBlendFun'+'ctionColor'][_0x4ae9bf],this['glBlendFun'+'ctionAlpha'][_0x596090],this['glBlendFun'+'ctionAlpha'][_0x370a63]),_0x197bc9['allWrite']!==_0x5cd830['allWrite']&&this['gl']['colorMask'](_0x5cd830['redWrite'],_0x5cd830['greenWrite'],_0x5cd830['blueWrite'],_0x5cd830['alphaWrite']),_0x197bc9['copy'](_0x5cd830);}}['setBlendCo'+'lor'](_0x6aa0a5,_0x374f51,_0x39538b,_0x3ff02d){const _0x21bb42=this['blendColor'];(_0x6aa0a5!==_0x21bb42['r']||_0x374f51!==_0x21bb42['g']||_0x39538b!==_0x21bb42['b']||_0x3ff02d!==_0x21bb42['a'])&&(this['gl']['blendColor'](_0x6aa0a5,_0x374f51,_0x39538b,_0x3ff02d),_0x21bb42['set'](_0x6aa0a5,_0x374f51,_0x39538b,_0x3ff02d));}['setStencil'+'State'](_0x5e3749,_0x52d8df){_0x5e3749||_0x52d8df?(this['setStencil'+'Test'](!(0x1*-0x1ab5+-0x124e+0x2d03*0x1)),_0x5e3749===_0x52d8df?(this['setStencil'+'Func'](_0x5e3749['func'],_0x5e3749['ref'],_0x5e3749['readMask']),this['setStencil'+'Operation'](_0x5e3749['fail'],_0x5e3749['zfail'],_0x5e3749['zpass'],_0x5e3749['writeMask'])):(_0x5e3749??(_0x5e3749=qs['DEFAULT']),this['setStencil'+'FuncFront'](_0x5e3749['func'],_0x5e3749['ref'],_0x5e3749['readMask']),this['setStencil'+'OperationF'+'ront'](_0x5e3749['fail'],_0x5e3749['zfail'],_0x5e3749['zpass'],_0x5e3749['writeMask']),_0x52d8df??(_0x52d8df=qs['DEFAULT']),this['setStencil'+'FuncBack'](_0x52d8df['func'],_0x52d8df['ref'],_0x52d8df['readMask']),this['setStencil'+'OperationB'+'ack'](_0x52d8df['fail'],_0x52d8df['zfail'],_0x52d8df['zpass'],_0x52d8df['writeMask']))):this['setStencil'+'Test'](!(0x2f5*0x1+-0x17fc+-0x8*-0x2a1));}['setDepthSt'+'ate'](_0x480d0b){const _0x406184=this['depthState'];if(!_0x406184['equals'](_0x480d0b)){const _0x472ca4=this['gl'],_0x284bef=_0x480d0b['write'];_0x406184['write']!==_0x284bef&&_0x472ca4['depthMask'](_0x284bef);let {func:_0x20e214,test:_0x379b05}=_0x480d0b;!_0x379b05&&_0x284bef&&(_0x379b05=!(0x1*0xe27+0x106f+0x91*-0x36),_0x20e214=Ai),_0x406184['func']!==_0x20e214&&_0x472ca4['depthFunc'](this['glComparis'+'on'][_0x20e214]),_0x406184['test']!==_0x379b05&&(_0x379b05?_0x472ca4['enable'](_0x472ca4['DEPTH_TEST']):_0x472ca4['disable'](_0x472ca4['DEPTH_TEST']));const {depthBias:_0x8cadf8,depthBiasSlope:_0x1702b9}=_0x480d0b;_0x8cadf8||_0x1702b9?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x25f*-0x5+0x20ef+-0x4*0x545),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x472ca4['polygonOff'+'set'](_0x1702b9,_0x8cadf8)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x8ab+-0x12d0*-0x1+0x2c*-0x3b),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x406184['copy'](_0x480d0b);}}['setCullMod'+'e'](_0x300102){if(this['cullMode']!==_0x300102){if(_0x300102===mt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===mt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x12748e=this['glCull'][_0x300102];this['cullFace']!==_0x12748e&&(this['gl']['cullFace'](_0x12748e),this['cullFace']=_0x12748e);}this['cullMode']=_0x300102;}}['setShader'](_0x57dbf0,_0x1fb00a=!(0x13*-0x1b1+-0x61e+0x76*0x53)){_0x57dbf0!==this['shader']&&(this['shader']=_0x57dbf0,this['shaderAsyn'+'cCompile']=_0x1fb00a,this['shaderVali'+'d']=void(0x46*-0x50+-0x179e+0x2d7e),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0xb3331a){const {shader:_0xb926c5}=this,{impl:_0x5e9353}=_0xb926c5;this['shaderVali'+'d']===void(0x5*0x5af+-0x9ff*-0x1+-0x266a)&&(_0xb926c5['failed']?this['shaderVali'+'d']=!(0x36d*0x5+-0x3*0x4c4+-0x2d4):_0xb926c5['ready']||(this['shaderAsyn'+'cCompile']?_0x5e9353['isLinked'](_0xb3331a)?_0x5e9353['finalize'](this,_0xb926c5)||(_0xb926c5['failed']=!(-0x31c*-0x4+0x20e6+-0x2d56),this['shaderVali'+'d']=!(-0x1d7*-0x9+-0x1*-0x1d4b+0x1*-0x2dd9)):this['shaderVali'+'d']=!(-0x1*-0x2241+0x1*0x851+-0x2a91):_0x5e9353['finalize'](this,_0xb926c5)||(_0xb926c5['failed']=!(-0xf94+-0xb4a+-0x26*-0xb5),this['shaderVali'+'d']=!(0xd9*-0x17+-0x1b9d+0x2f1d*0x1)))),this['shaderVali'+'d']===void(-0x92*0xb+-0x1936+-0x7df*-0x4)&&(this['gl']['useProgram'](_0x5e9353['glProgram']),this['shaderVali'+'d']=!(-0x1c09+0x261d+0xc*-0xd7));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x93a99d=this['gl'];this['_vaoMap']['forEach']((_0x19e1f0,_0x40d080,_0x559ef3)=>{_0x93a99d['deleteVert'+'exArray'](_0x19e1f0);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x48c785){_0x48c785?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x271531=-0x1517+-0x4b*0x4f+-0xa8*-0x44){const _0x515670=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x515670['loseContex'+'t'](),setTimeout(()=>_0x515670['restoreCon'+'text'](),_0x271531);}}let mb=0x1*0x2122+0x1e8d+-0x3faf*0x1;class lr{constructor(_0x48af9c,_0x21bc6b,_0x890b78,_0x2d1b4f=jt,_0x4f1fe9,_0x14da2e){this['device']=_0x48af9c,this['format']=_0x21bc6b,this['numIndices']=_0x890b78,this['usage']=_0x2d1b4f,this['id']=mb++,this['impl']=_0x48af9c['createInde'+'xBufferImp'+'l'](this,_0x14da2e);const _0x3e0fdf=vv[_0x21bc6b];this['bytesPerIn'+'dex']=_0x3e0fdf,this['numBytes']=this['numIndices']*_0x3e0fdf,_0x4f1fe9?this['setData'](_0x4f1fe9):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x48af9c['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x2cd64e=this['device'],_0x13fed2=_0x2cd64e['buffers']['indexOf'](this);_0x13fed2!==-(-0x273+0x377*0x4+0x248*-0x5)&&_0x2cd64e['buffers']['splice'](_0x13fed2,-0xf84+-0x43*0x81+0x3148),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x2cd64e),this['adjustVram'+'SizeTracki'+'ng'](_0x2cd64e['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x10ba11,_0x480651){v['trace'](Qx,this['id']+'\x20size:\x20'+_0x480651+'\x20vram.ib:\x20'+_0x10ba11['ib']+'\x20=>\x20'+(_0x10ba11['ib']+_0x480651)),_0x10ba11['ib']+=_0x480651;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x280b4f){return _0x280b4f['byteLength']!==this['numBytes']?(v['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x280b4f['byteLength']),!(-0x9d1+-0x1d9*0xe+0x10*0x23b)):(this['storage']=_0x280b4f,this['unlock'](),!(-0x1a69+-0x12f*-0x5+0x147e));}['_lockTyped'+'Array'](){const _0x5b3438=this['lock']();return this['format']===nr?new Uint32Array(_0x5b3438):this['format']===Pi?new Uint16Array(_0x5b3438):new Uint8Array(_0x5b3438);}['writeData'](_0x241de2,_0x4f6094){const _0x1ebf90=this['_lockTyped'+'Array']();if(_0x241de2['length']>_0x4f6094){if(ArrayBuffer['isView'](_0x241de2))_0x241de2=_0x241de2['subarray'](0x1*-0x1789+-0x1b0c+0x3295,_0x4f6094),_0x1ebf90['set'](_0x241de2);else{for(let _0x34ff83=0x17f*0x4+0x1352+-0x194e;_0x34ff83<_0x4f6094;_0x34ff83++)_0x1ebf90[_0x34ff83]=_0x241de2[_0x34ff83];}}else _0x1ebf90['set'](_0x241de2);this['unlock']();}['readData'](_0x335304){const _0x3fd94c=this['_lockTyped'+'Array'](),_0x37af15=this['numIndices'];if(ArrayBuffer['isView'](_0x335304))_0x335304['set'](_0x3fd94c);else{_0x335304['length']=-0x1*0x1882+-0x7*-0x469+-0x3*0x21f;for(let _0x2a032e=0x1*-0x1c62+-0x113d*0x1+0x2d9f;_0x2a032e<_0x37af15;_0x2a032e++)_0x335304[_0x2a032e]=_0x3fd94c[_0x2a032e];}return _0x37af15;}}class _b{constructor(){c(this,'clearValue',new Y(-0x24dd+0x2513*-0x1+0x49f0,0x117e+-0x219a+0x101c*0x1,0x206f+0x1*-0x1a11+-0x65e,0xacc+-0x735+0x33*-0x12)),c(this,'clearValue'+'Linear',new Y(-0x1987+-0x7*-0x33d+0x2dc,0xdde+-0x1*-0x1391+-0x216f,0x2*-0xb92+-0x7f4+0x1f18,0x343*0x7+-0x1c*-0x146+-0x3a7c)),c(this,'clear',!(0xcf0+-0x162f*-0x1+-0x231e)),c(this,'store',!(0x6*-0x17c+0xd92+-0x4a9)),c(this,'resolve',!(-0x21*0xa4+0x2*0x439+-0x145*-0xa)),c(this,'genMipmaps',!(-0x5*0x4ea+-0x1147*-0x1+0x3a6*0x2));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x20a2*-0x1+0x36e+-0x240f),c(this,'clearStenc'+'ilValue',-0x5*0x3fd+-0x5dc+0x19cd),c(this,'clearDepth',!(-0x2*-0xe3e+0x301+0x34*-0x9b)),c(this,'clearStenc'+'il',!(-0x17d4+0x15b7+-0x21e*-0x1)),c(this,'storeDepth',!(-0x2*0x68+-0x1ac4+0x17*0x133)),c(this,'resolveDep'+'th',!(0x1*0x79b+0x112c+-0xe*0x1c5)),c(this,'storeStenc'+'il',!(0xc4*0x11+0x2*0x10b9+0x1*-0x2e75));}}class ds{constructor(_0x50303f){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x3e5*-0xa+-0x3f5*0x2+-0x1f08)),c(this,'_skipStart',!(-0x2*0x362+-0x15f+0x824*0x1)),c(this,'_skipEnd',!(-0x8df*-0x2+0xb*-0xdf+-0x9*0xe8)),c(this,'executeEna'+'bled',!(-0x38b*-0x3+0x1861+0x2302*-0x1)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x37*0x41+0x11*0x221+0x2*-0xb1d),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0xe3f+0x212*0x2+-0x1263)),c(this,'fullSizeCl'+'earRect',!(-0x1*0x1bdc+0x3*0x6e7+0x727)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(v['assert'](_0x50303f),this['device']=_0x50303f);}get['colorOps'](){return this['colorArray'+'Ops'][-0x1b*-0x36+-0x28*-0xa5+-0x1f7a];}set['name'](_0x5ab611){this['_name']=_0x5ab611;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x331eb5){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x331eb5;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0xc9da2d){v['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0xc9da2d;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x52b8ba){this['_options']=_0x52b8ba,_0x52b8ba&&(this['scaleX']=this['scaleX']??0xd6c*0x1+0x1*0x2320+0x1*-0x308b,this['scaleY']=this['scaleY']??-0xb97+0x22cb+0x1*-0x1733);}get['options'](){return this['_options'];}['init'](_0x54f02e=null,_0x1b4995){this['options']=_0x1b4995,this['renderTarg'+'et']=_0x54f02e,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x2*0xbb7+0x27*0x3b+0xe72),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x791b66,_0x4df0e6,_0x18bde7,_0xd4a711;const _0x3f47d8=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x3f47d8!=null&&_0x3f47d8['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(0x1*-0x4ef+-0x181+-0x10*-0x67));const _0x59150a=_0x3f47d8?((_0x791b66=_0x3f47d8['_colorBuff'+'ers'])==null?void(0x7ae*-0x1+-0x5e*-0x3+0x694):_0x791b66['length'])??0x72b+-0x208c*0x1+-0x1961*-0x1:0xb3*-0xc+0x1*-0xba7+0x140c;this['colorArray'+'Ops']['length']=0x58b+0x3ad*0x8+-0x22f3;for(let _0x4e6f8d=0x3a3*-0x7+0x1877+0xfe;_0x4e6f8d<_0x59150a;_0x4e6f8d++){const _0x2d662e=new _b();this['colorArray'+'Ops'][_0x4e6f8d]=_0x2d662e,this['samples']===0xe6a+-0xcb5+-0x1b4&&(_0x2d662e['store']=!(0x9ad+0x9d*-0x31+-0x1460*-0x1),_0x2d662e['resolve']=!(-0x1561+0x14eb+0x77));const _0x52dec0=(_0x18bde7=(_0x4df0e6=this['renderTarg'+'et'])==null?void(-0x241a+-0x3*-0x824+0xbae):_0x4df0e6['_colorBuff'+'ers'])==null?void(0x1*-0xe4b+0xe*0x48+0xa5b):_0x18bde7[_0x4e6f8d];if((_0xd4a711=this['renderTarg'+'et'])!=null&&_0xd4a711['mipmaps']&&(_0x52dec0!=null&&_0x52dec0['mipmaps'])){const _0x481b18=ea(_0x52dec0['_format']);_0x2d662e['genMipmaps']=!_0x481b18;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x3cbe22=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x2676b1=Math['floor'](_0x3cbe22['width']*this['scaleX']),_0x2a6391=Math['floor'](_0x3cbe22['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x2676b1,_0x2a6391);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x12af22){this['_enabled']!==_0x12af22&&(this['_enabled']=_0x12af22,_0x12af22?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x121bc5){const _0x2dc5f4=this['colorArray'+'Ops']['length'];for(let _0x52f6ab=-0x19de+0x17*0xf9+0x37f;_0x52f6ab<_0x2dc5f4;_0x52f6ab++){const _0x512e13=this['colorArray'+'Ops'][_0x52f6ab];_0x121bc5&&(_0x512e13['clearValue']['copy'](_0x121bc5),_0x512e13['clearValue'+'Linear']['linear'](_0x121bc5)),_0x512e13['clear']=!!_0x121bc5;}}['setClearDe'+'pth'](_0x5dd060){_0x5dd060&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x5dd060),this['depthStenc'+'ilOps']['clearDepth']=_0x5dd060!==void(-0x150b+-0x14e0+-0x1ff*-0x15);}['setClearSt'+'encil'](_0x4a367b){_0x4a367b&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x4a367b),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x4a367b!==void(-0x8db+0x185c+-0x93*0x1b);}['render'](){if(this['enabled']){const _0x4be076=this['device'],_0x232ccb=this['renderTarg'+'et']!==void(0x2499+-0x3ee+-0x20ab);v['call'](()=>{this['log'](_0x4be076,_0x4be076['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x232ccb&&!this['_skipStart']&&_0x4be076['startRende'+'rPass'](this),this['execute'](),_0x232ccb&&!this['_skipEnd']&&_0x4be076['endRenderP'+'ass'](this)),this['after'](),_0x4be076['renderPass'+'Index']++;}}['log'](_0x55289e,_0x20c605=0x1df*0xa+0x22c2+-0x1*0x3578){var _0x3f8e61,_0x112ecd,_0x309c94;if(Xs['get'](jp)||Xs['get'](Jn)){const _0x2e31b4=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x55289e['backBuffer']:null),_0xd83a47=!!(_0x2e31b4!=null&&_0x2e31b4['impl']['assignedCo'+'lorTexture'])||(_0x2e31b4==null?void(0xfe*-0x10+0x118d+0x1*-0x1ad):_0x2e31b4['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x1ab2+0x188a+0x1*0x228),_0x57f56e=((_0x3f8e61=_0x2e31b4==null?void(-0xadb*0x1+-0x10e0+0x1bbb*0x1):_0x2e31b4['_colorBuff'+'ers'])==null?void(0xb2e+0x43*0x57+-0x3*0xb51):_0x3f8e61['length'])??(_0xd83a47?0xf1b*-0x1+-0x6b4+-0x8*-0x2ba:-0x4c6+0xfd6+0x588*-0x2),_0x1c85ec=_0x2e31b4==null?void(-0xec0+-0x676*0x1+-0x1e*-0xb5):_0x2e31b4['depth'],_0x578cd1=_0x2e31b4==null?void(0x1*0x26f5+0x1cae*0x1+-0x43a3):_0x2e31b4['stencil'],_0x214f5c=_0x2e31b4==null?void(-0x11c8+0x86c*-0x1+0x1a34):_0x2e31b4['mipLevel'],_0x388bac=_0x2e31b4?'\x20RT:\x20'+(_0x2e31b4?_0x2e31b4['name']:'NULL')+'\x20'+(_0x57f56e>-0x1efb+-0x263f+0x453a*0x1?'[Color'+(_0x57f56e>-0xf55+-0xb0f+0x1a65?'\x20x\x20'+_0x57f56e:'')+']':'')+(_0x1c85ec?'[Depth]':'')+(_0x578cd1?'[Stencil]':'')+'\x20'+_0x2e31b4['width']+'\x20x\x20'+_0x2e31b4['height']+(this['samples']>0x1*0x1c03+0x6*0x3bc+-0x326b?'\x20samples:\x20'+this['samples']:'')+(_0x214f5c>-0xc62+0x2167*0x1+0x1505*-0x1?'\x20mipLevel:'+'\x20'+_0x214f5c:''):'',_0x57e1cf=this['_skipStart']?'++':_0x20c605['toString']()['padEnd'](0x1*-0x10f1+-0x5*0x682+0x317d,'\x20');v['trace'](jp,_0x57e1cf+':\x20'+this['name']['padEnd'](0x7c*-0x28+0x1186+0xf7*0x2,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x388bac['padEnd'](-0x254d+0x27*-0x64+-0x3*-0x118d));for(let _0x582658=0x47*-0x16+-0x10c8+-0x1d*-0xca;_0x582658<_0x57f56e;_0x582658++){const _0x5e22f6=this['colorArray'+'Ops'][_0x582658],_0x3463c2=(_0x112ecd=xt['get'](_0xd83a47?_0x55289e['backBuffer'+'Format']:_0x2e31b4['getColorBu'+'ffer'](_0x582658)['format']))==null?void(0x5*-0x563+-0x704*-0x1+-0x13eb*-0x1):_0x112ecd['name'];v['trace'](Jn,'\x20\x20\x20\x20color['+_0x582658+']:\x20'+(_0x5e22f6['clear']?'clear':'load')+'->'+(_0x5e22f6['store']?'store':'discard')+'\x20'+(_0x5e22f6['resolve']?'resolve\x20':'')+(_0x5e22f6['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x3463c2+']\x20'+(_0x5e22f6['clear']?'[clear:\x20'+_0x5e22f6['clearValue']['toString'](!(0x8*0xc7+0x9b2*0x2+-0x254*0xb),!(0x1*0xc50+-0x18a7+-0x27*-0x51))+']':''));}if(this['depthStenc'+'ilOps']){const _0x3a743a=''+(_0x2e31b4['depthBuffe'+'r']?'\x20[format:\x20'+((_0x309c94=xt['get'](_0x2e31b4['depthBuffe'+'r']['format']))==null?void(0x383*-0x1+-0xe1a+0x3*0x5df):_0x309c94['name'])+']':'');_0x1c85ec&&v['trace'](Jn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x3a743a+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x578cd1&&v['trace'](Jn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x3a743a+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x569b76){this['array'][this['index']]=_0x569b76;}function xb(_0x577b9d,_0xfd9cf3){this['array'][this['index']]=_0x577b9d,this['array'][this['index']+(-0x1b77+-0xf9d+-0x29*-0x10d)]=_0xfd9cf3;}function Sb(_0x24b51f,_0x2fe753,_0x2c6453){this['array'][this['index']]=_0x24b51f,this['array'][this['index']+(0x179c*0x1+-0xdb2+-0x9e9)]=_0x2fe753,this['array'][this['index']+(-0x35*-0x48+0x1f32+0x76*-0x64)]=_0x2c6453;}function vb(_0x39f315,_0x4bb3ec,_0x54c77a,_0x2b60e0){this['array'][this['index']]=_0x39f315,this['array'][this['index']+(0x466*0x4+0x1625+-0x27bc)]=_0x4bb3ec,this['array'][this['index']+(-0x1*0x677+0xb81+0x508*-0x1)]=_0x54c77a,this['array'][this['index']+(-0x3*-0x707+-0xbdc+-0x936)]=_0x2b60e0;}function bb(_0x41d1fe,_0x455c18,_0x51d3e3){this['array'][_0x41d1fe]=_0x455c18[_0x51d3e3];}function wb(_0x18b3ef,_0x4ddb92,_0x28a60a){this['array'][_0x18b3ef]=_0x4ddb92[_0x28a60a],this['array'][_0x18b3ef+(0x2e3*-0x9+0x10c3*-0x1+0x2abf)]=_0x4ddb92[_0x28a60a+(0x1f31+0x4d7+-0x2407)];}function Tb(_0x1b3593,_0x39a817,_0x22660d){this['array'][_0x1b3593]=_0x39a817[_0x22660d],this['array'][_0x1b3593+(-0x1*-0x68+-0xac*0x39+-0x59*-0x6d)]=_0x39a817[_0x22660d+(-0x1483+-0xfe*-0xc+-0x74*-0x13)],this['array'][_0x1b3593+(0x59*0x2f+0xae9+0x1*-0x1b3e)]=_0x39a817[_0x22660d+(0x1e7*-0x8+0x22c*-0x4+0x2*0xbf5)];}function Ab(_0x51bb9d,_0x2b1dcb,_0x2d71b3){this['array'][_0x51bb9d]=_0x2b1dcb[_0x2d71b3],this['array'][_0x51bb9d+(-0x14d2+-0x1*0x12f1+-0x13e2*-0x2)]=_0x2b1dcb[_0x2d71b3+(-0x1*0xdd9+-0x938*-0x1+0x2*0x251)],this['array'][_0x51bb9d+(-0xad3+-0x1db1*-0x1+-0x22*0x8e)]=_0x2b1dcb[_0x2d71b3+(0xc0e+-0x5*-0x41b+-0x2093)],this['array'][_0x51bb9d+(0x1179+-0x2cd*-0x9+-0x2aab)]=_0x2b1dcb[_0x2d71b3+(-0x161*-0xa+-0x17f*-0xd+-0x213a)];}function Eb(_0x482b4b,_0x2dec3a,_0xdb4cb0){_0x2dec3a[_0xdb4cb0]=this['array'][_0x482b4b];}function Cb(_0x19aa55,_0x371418,_0x25fcd2){_0x371418[_0x25fcd2]=this['array'][_0x19aa55],_0x371418[_0x25fcd2+(0x1054+-0x1aff+0xaac)]=this['array'][_0x19aa55+(0xf3f+0x15f4+0x17*-0x19e)];}function Mb(_0x4cf7dc,_0x4cdbef,_0x4085ca){_0x4cdbef[_0x4085ca]=this['array'][_0x4cf7dc],_0x4cdbef[_0x4085ca+(0xb50+-0x2154+0x757*0x3)]=this['array'][_0x4cf7dc+(0x293*-0xa+0x33*0x17+-0x3*-0x70e)],_0x4cdbef[_0x4085ca+(-0x53c+0x1dfe+0xc*-0x210)]=this['array'][_0x4cf7dc+(0x13a1+0x2201+0x23c*-0x18)];}function Pb(_0x347408,_0x2f34eb,_0x3add0b){_0x2f34eb[_0x3add0b]=this['array'][_0x347408],_0x2f34eb[_0x3add0b+(0x1*0xf0b+0x17f6*0x1+0x30*-0xd0)]=this['array'][_0x347408+(-0x48a+0x1a5b+0x8*-0x2ba)],_0x2f34eb[_0x3add0b+(-0x200d+0x736+0x1*0x18d9)]=this['array'][_0x347408+(-0x2*0x3de+0xb2+-0x2c*-0x29)],_0x2f34eb[_0x3add0b+(-0x1f*-0xc7+-0x101*-0x23+-0x3b39)]=this['array'][_0x347408+(0xee5+-0xe2*0x1f+0xc7c)];}class Rb{constructor(_0x333f5f,_0x3fd41a,_0x19e3dc){switch(this['index']=0x1909+-0x5*-0x10f+-0x1e54,this['numCompone'+'nts']=_0x3fd41a['numCompone'+'nts'],_0x19e3dc['interleave'+'d']?this['array']=new da[_0x3fd41a['dataType']](_0x333f5f,_0x3fd41a['offset']):this['array']=new da[_0x3fd41a['dataType']](_0x333f5f,_0x3fd41a['offset'],_0x19e3dc['vertexCoun'+'t']*_0x3fd41a['numCompone'+'nts']),this['stride']=_0x3fd41a['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x3fd41a['numCompone'+'nts']){case-0x6c8*-0x3+-0x190d+0x4b6:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0xb5b+0x1*0x172c+-0x1*0xbcf:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case 0x13e6+0x1*0x1363+0x16*-0x1c9:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0x91b+-0x1*0xbbf+-0x88*-0x5:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x4a1030){return this['array'][this['index']+_0x4a1030];}['set'](_0x32f60a,_0x586e07,_0x283523,_0x482ee0){}['getToArray'](_0x2cd30a,_0x18d7d4,_0x52ddad){}['setFromArr'+'ay'](_0x4ca72e,_0x231b3f,_0x5d09ee){}}class go{constructor(_0x5a0f94){this['vertexBuff'+'er']=_0x5a0f94,this['vertexForm'+'atSize']=_0x5a0f94['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x1f1657=this['vertexBuff'+'er']['getFormat']();for(let _0x162388=0x226c+-0xc8*-0x8+-0x28ac;_0x162388<_0x1f1657['elements']['length'];_0x162388++){const _0x486c37=_0x1f1657['elements'][_0x162388];this['accessors'][_0x162388]=new Rb(this['buffer'],_0x486c37,_0x1f1657),this['element'][_0x486c37['name']]=this['accessors'][_0x162388];}}['next'](_0x377103=-0x1db6*-0x1+0x242c+-0x41e1){let _0x53ec98=0x1a82*0x1+-0x5a*-0x1+-0x1adc;const _0x705252=this['accessors'],_0x44140e=this['accessors']['length'];for(;_0x53ec98<_0x44140e;){const _0xf767fc=_0x705252[_0x53ec98++];_0xf767fc['index']+=_0x377103*_0xf767fc['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x1b21bd,_0x5b40b6,_0x40fdb2){const _0x3baea3=this['element'][_0x1b21bd];if(_0x3baea3){_0x40fdb2>this['vertexBuff'+'er']['numVertice'+'s']&&(v['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x40fdb2+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x40fdb2=this['vertexBuff'+'er']['numVertice'+'s']);const _0x307702=_0x3baea3['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x5e2bce=-0x3b*0x29+-0x9*-0x10f+-0x2*0xa;for(let _0x31a9ae=-0x258b+0x32+0x2559*0x1;_0x31a9ae<_0x40fdb2;_0x31a9ae++)_0x3baea3['setFromArr'+'ay'](_0x5e2bce,_0x5b40b6,_0x31a9ae*_0x307702),_0x5e2bce+=_0x3baea3['stride'];}else{if(_0x5b40b6['length']>_0x40fdb2*_0x307702){const _0x540385=_0x40fdb2*_0x307702;if(ArrayBuffer['isView'](_0x5b40b6))_0x5b40b6=_0x5b40b6['subarray'](-0x78b*-0x1+-0x411*-0x9+0xa*-0x46a,_0x540385),_0x3baea3['array']['set'](_0x5b40b6);else{for(let _0x149ad4=0x1*0xa78+0xa23+-0xd3*0x19;_0x149ad4<_0x540385;_0x149ad4++)_0x3baea3['array'][_0x149ad4]=_0x5b40b6[_0x149ad4];}}else _0x3baea3['array']['set'](_0x5b40b6);}}}['readData'](_0x1b5335,_0x1386b6){const _0x359d9a=this['element'][_0x1b5335];let _0x28dfe9=0x966+0xd2*-0x5+-0x54c;if(_0x359d9a){_0x28dfe9=this['vertexBuff'+'er']['numVertice'+'s'];let _0x594eff;const _0x36bf5f=_0x359d9a['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x1386b6)&&(_0x1386b6['length']=-0x30*0xab+-0xac*0x35+0x21d6*0x2),_0x359d9a['index']=0x1*0x295+0x2*-0x853+0x1*0xe11;let _0x55f9e9=-0x1b7d*-0x1+0x1f4b+-0x3ac8;for(_0x594eff=-0x1115*0x2+-0x2199+0x43c3*0x1;_0x594eff<_0x28dfe9;_0x594eff++)_0x359d9a['getToArray'](_0x55f9e9,_0x1386b6,_0x594eff*_0x36bf5f),_0x55f9e9+=_0x359d9a['stride'];}else{if(ArrayBuffer['isView'](_0x1386b6))_0x1386b6['set'](_0x359d9a['array']);else{_0x1386b6['length']=0x2134+0x139*0x10+-0x34c4;const _0x1934e8=_0x28dfe9*_0x36bf5f;for(_0x594eff=-0x384+0x3*-0x8dd+0x1e1b;_0x594eff<_0x1934e8;_0x594eff++)_0x1386b6[_0x594eff]=_0x359d9a['array'][_0x594eff];}}}return _0x28dfe9;}}const Im='mousedown',Dm='mousemove',Lm='mouseup',Mu='mousewheel',Ib=-(0x1bd0+0x26dd+-0x2156*0x2);class Db{constructor(_0x5c8cd9,_0x2aa378){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x2aa378&&(this['key']=_0x2aa378['keyCode'],this['element']=_0x2aa378['target'],this['event']=_0x2aa378);}}const Sl=new Db();function fd(_0x5ec3eb){return Sl['key']=_0x5ec3eb['keyCode'],Sl['element']=_0x5ec3eb['target'],Sl['event']=_0x5ec3eb,Sl;}function vl(_0x12f0f7){return typeof _0x12f0f7=='string'?_0x12f0f7['toUpperCas'+'e']()['charCodeAt'](-0x2*0xb89+0xa75*0x1+0x1*0xc9d):_0x12f0f7;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class Fm extends ce{constructor(_0x4e6178,_0x14ab5e={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x4e6178&&this['attach'](_0x4e6178),this['preventDef'+'ault']=_0x14ab5e['preventDef'+'ault']||!(0x2*-0x12fd+0x1940+-0x1*-0xcbb),this['stopPropag'+'ation']=_0x14ab5e['stopPropag'+'ation']||!(0x113e+-0x4*-0x5c5+0x2851*-0x1));}['attach'](_0x51ecd1){this['_element']&&this['detach'](),this['_element']=_0x51ecd1,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0xf*-0x19a+-0x9f+0x18a6)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x1a*-0xb6+-0x2a+0x12a7)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0xb*-0xd8+-0x1*-0xced+-0x1634)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xba*-0x1f+0x327*-0x5+-0x6c2)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x3*0x66+-0x4b*-0x75+0x1d*-0x124));}['detach'](){if(!this['_element']){v['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x7e2+-0x1e91+-0x3c8*-0x6)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x195d+0x3cc+0x74a*-0x4));}['toKeyIdent'+'ifier'](_0x3404d6){_0x3404d6=vl(_0x3404d6);const _0x2c5d57=Lb[_0x3404d6['toString']()];if(_0x2c5d57)return _0x2c5d57;let _0x508789=_0x3404d6['toString'](0x94f*0x2+0x5cb+-0x1859)['toUpperCas'+'e']();const _0x40f51f=_0x508789['length'];for(let _0x2a399e=0x2*-0x124c+-0x166e+0x1d83*0x2;_0x2a399e<-0x1ce8+0x917+0x13d5-_0x40f51f;_0x2a399e++)_0x508789='0'+_0x508789;return'U+'+_0x508789;}['_handleKey'+'Down'](_0xda05a5){const _0x3f8028=_0xda05a5['keyCode']||_0xda05a5['charCode'];if(_0x3f8028===void(0x5be+0x392+-0x950))return;const _0x51696b=this['toKeyIdent'+'ifier'](_0x3f8028);this['_keymap'][_0x51696b]=!(-0x2398*-0x1+-0x229a+-0xfe),this['fire']('keydown',fd(_0xda05a5)),this['preventDef'+'ault']&&_0xda05a5['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0xda05a5['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x3dccd9){const _0x14f436=_0x3dccd9['keyCode']||_0x3dccd9['charCode'];if(_0x14f436===void(0x236f*0x1+-0x6*0x52+-0x17*0x175))return;const _0xd3f668=this['toKeyIdent'+'ifier'](_0x14f436);delete this['_keymap'][_0xd3f668],this['fire']('keyup',fd(_0x3dccd9)),this['preventDef'+'ault']&&_0x3dccd9['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3dccd9['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x1df7de){this['fire']('keypress',fd(_0x1df7de)),this['preventDef'+'ault']&&_0x1df7de['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x1df7de['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x6c11af in this['_lastmap'])delete this['_lastmap'][_0x6c11af];for(const _0x823dd8 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x823dd8)&&(this['_lastmap'][_0x823dd8]=this['_keymap'][_0x823dd8]);}['isPressed'](_0x4c06c3){const _0x2aa16f=vl(_0x4c06c3),_0x14209e=this['toKeyIdent'+'ifier'](_0x2aa16f);return!!this['_keymap'][_0x14209e];}['wasPressed'](_0x2cf27b){const _0x42ca3b=vl(_0x2cf27b),_0x50f652=this['toKeyIdent'+'ifier'](_0x42ca3b);return!!this['_keymap'][_0x50f652]&&!this['_lastmap'][_0x50f652];}['wasRelease'+'d'](_0x244c03){const _0x462e7a=vl(_0x244c03),_0x334f15=this['toKeyIdent'+'ifier'](_0x462e7a);return!this['_keymap'][_0x334f15]&&!!this['_lastmap'][_0x334f15];}}c(Fm,'EVENT_KEYD'+'OWN','keydown'),c(Fm,'EVENT_KEYU'+'P','keyup');function Pu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x22d26d,_0x45a582){c(this,'x',0xdb3+0x152*-0xd+0x377),c(this,'y',-0x3f7+-0x2a+0x1*0x421),c(this,'dx',0xdb5+0x7a*-0x3c+0xee3),c(this,'dy',-0x653*0x5+-0x2*0x137a+-0x7*-0xa15),c(this,'button',Ib),c(this,'wheelDelta',0x23c+-0x7a3+0x567),c(this,'element'),c(this,'ctrlKey',!(0x50*-0x69+-0x1*0x5bf+-0x269*-0x10)),c(this,'altKey',!(-0x39d+0x879+-0xb*0x71)),c(this,'shiftKey',!(-0x6b6*0x1+0x12be*-0x2+0x2c33)),c(this,'metaKey',!(0x1*0x105b+-0x1ef1+-0x53*-0x2d)),c(this,'event');let _0x1287f3={'x':0x0,'y':0x0};if(_0x45a582){if(_0x45a582 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x1287f3=_0x22d26d['_getTarget'+'Coords'](_0x45a582);}else _0x45a582={};if(_0x1287f3)this['x']=_0x1287f3['x'],this['y']=_0x1287f3['y'];else{if(Pu())this['x']=0x21d1+0xd5e+-0x2f2f,this['y']=0x3*-0x125+-0x4b6+-0x3*-0x2b7;else return;}_0x45a582['type']==='wheel'&&(_0x45a582['deltaY']>0x25a7+0x6*0x5ad+-0x47b5?this['wheelDelta']=0x12*-0x21a+0x1889*0x1+0x17*0x94:_0x45a582['deltaY']<-0x36*-0x3+0x8*0x2ab+0x2*-0xafd&&(this['wheelDelta']=-(0x82c*-0x4+0x2257+-0x1*0x1a6))),Pu()?(this['dx']=_0x45a582['movementX']||_0x45a582['webkitMove'+'mentX']||_0x45a582['mozMovemen'+'tX']||0x18e5+0x21e7+0x3acc*-0x1,this['dy']=_0x45a582['movementY']||_0x45a582['webkitMove'+'mentY']||_0x45a582['mozMovemen'+'tY']||0x1*0x248c+-0x246a*-0x1+-0x48f6):(this['dx']=this['x']-_0x22d26d['_lastX'],this['dy']=this['y']-_0x22d26d['_lastY']),(_0x45a582['type']==='mousedown'||_0x45a582['type']==='mouseup')&&(this['button']=_0x45a582['button']),this['buttons']=_0x22d26d['_buttons']['slice'](-0xbf6*-0x2+0xc39+-0x2425),this['element']=_0x45a582['target'],this['ctrlKey']=_0x45a582['ctrlKey']??!(-0xb23*0x3+-0x1aa4+0x3c0e),this['altKey']=_0x45a582['altKey']??!(0x1127*0x2+-0x8cb+0x51a*-0x5),this['shiftKey']=_0x45a582['shiftKey']??!(0x9*0x256+-0x5ed+-0xf18),this['metaKey']=_0x45a582['metaKey']??!(0x236c+-0x1*-0xe37+-0x31a2*0x1),this['event']=_0x45a582;}}class bl extends ce{constructor(_0xe1e84b){super(),c(this,'_lastX',-0x1*0x2263+-0xb15+0x2*0x16bc),c(this,'_lastY',-0xe0b+-0x1*-0x24c5+-0x16ba),c(this,'_buttons',[!(0x3a8+-0x9a9+-0x301*-0x2),!(0xb96+-0x58f*-0x1+0x449*-0x4),!(0x17*-0xfb+0x44f+0x123f)]),c(this,'_lastbutto'+'ns',[!(0x122c+-0xafb+-0x730),!(-0x521+0x5b2+0x6*-0x18),!(0x1d4c+0x1*0x23db+-0x4126)]),c(this,'_target',null),c(this,'_attached',!(0x1cd6+-0x18d7+-0x3fe)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x5011e5=>{_0x5011e5['preventDef'+'ault']();},this['attach'](_0xe1e84b));}static['isPointerL'+'ocked'](){return Pu();}['attach'](_0xfca86){if(this['_target']=_0xfca86,this['_attached'])return;this['_attached']=!(-0xb*-0xf1+-0x1*0xb1d+0x61*0x2);const _0x38ab23={'passive':!(0x1696+-0x1d*0x14b+0xeea)},_0x3b21d3=ye['passiveEve'+'nts']?_0x38ab23:!(-0x119*-0x4+-0xe06+-0x9a3*-0x1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x3b21d3),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x3b21d3),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x3b21d3),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x3b21d3);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1781+0x358+0x142a),this['_target']=null;const _0x5b353c={'passive':!(0x1*-0x1a4d+0x1af*-0xb+0x2cd3)},_0x4456a8=ye['passiveEve'+'nts']?_0x5b353c:!(-0x1379+0x6*0x2e1+0x234);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x4456a8),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x4456a8),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x4456a8),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x4456a8);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x4f4f89,_0x263a37){if(!document['body']['requestPoi'+'nterLock']){_0x263a37&&_0x263a37();return;}const _0x3cc9bf=()=>{_0x4f4f89(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3cc9bf);},_0x38013e=()=>{_0x263a37(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x38013e);};_0x4f4f89&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3cc9bf,!(-0x443*-0x1+0xad4+-0x78b*0x2)),_0x263a37&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x38013e,!(0x2464+-0x1e81+-0x5e2*0x1)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x34c41c){if(!document['exitPointe'+'rLock'])return;const _0x58cbd4=()=>{_0x34c41c(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x58cbd4);};_0x34c41c&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x58cbd4,!(-0x126+-0x777*-0x1+-0x650)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x171*-0x3+0x1645+0x11f2*-0x1]=this['_buttons'][-0x19d1+-0x19db+0x33ac],this['_lastbutto'+'ns'][0x2*0x1e3+0x371*0x5+0x2*-0xa7d]=this['_buttons'][0xc*0x1a5+-0x24c4+0x1109],this['_lastbutto'+'ns'][0x1e6f+-0xc19+0x1254*-0x1]=this['_buttons'][0xcce+-0xb84+-0x148];}['isPressed'](_0x1b91f7){return this['_buttons'][_0x1b91f7];}['wasPressed'](_0x194461){return this['_buttons'][_0x194461]&&!this['_lastbutto'+'ns'][_0x194461];}['wasRelease'+'d'](_0x5a9768){return!this['_buttons'][_0x5a9768]&&this['_lastbutto'+'ns'][_0x5a9768];}['_handleUp'](_0x18428d){this['_buttons'][_0x18428d['button']]=!(0xe8f+0x2*-0x971+0x454);const _0x53efc9=new ta(this,_0x18428d);_0x53efc9['event']&&this['fire'](Lm,_0x53efc9);}['_handleDow'+'n'](_0x59d7ac){this['_buttons'][_0x59d7ac['button']]=!(0xe54+-0x159c+-0x4*-0x1d2);const _0x439e54=new ta(this,_0x59d7ac);_0x439e54['event']&&this['fire'](Im,_0x439e54);}['_handleMov'+'e'](_0x32499a){const _0x291876=new ta(this,_0x32499a);_0x291876['event']&&(this['fire'](Dm,_0x291876),this['_lastX']=_0x291876['x'],this['_lastY']=_0x291876['y']);}['_handleWhe'+'el'](_0x3c1cc2){const _0xec855=new ta(this,_0x3c1cc2);_0xec855['event']&&this['fire'](Mu,_0xec855);}['_getTarget'+'Coords'](_0x1944d3){const _0xbbaa21=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x26a52b=Math['floor'](_0xbbaa21['left']),_0x2dce3a=Math['floor'](_0xbbaa21['top']);return _0x1944d3['clientX']<_0x26a52b||_0x1944d3['clientX']>=_0x26a52b+this['_target']['clientWidt'+'h']||_0x1944d3['clientY']<_0x2dce3a||_0x1944d3['clientY']>=_0x2dce3a+this['_target']['clientHeig'+'ht']?null:{'x':_0x1944d3['clientX']-_0x26a52b,'y':_0x1944d3['clientY']-_0x2dce3a};}}c(bl,'EVENT_MOUS'+'EMOVE',Dm),c(bl,'EVENT_MOUS'+'EDOWN',Im),c(bl,'EVENT_MOUS'+'EUP',Lm),c(bl,'EVENT_MOUS'+'EWHEEL',Mu);const be=class be{['get'](_0x4e6ee2,_0x2a55f1,_0xbfd6b9){return typeof _0x2a55f1=='function'&&(_0xbfd6b9=_0x2a55f1,_0x2a55f1={}),this['request']('GET',_0x4e6ee2,_0x2a55f1,_0xbfd6b9);}['post'](_0x37bb8e,_0x4a7845,_0x4bd1e9,_0x250c5f){return typeof _0x4bd1e9=='function'&&(_0x250c5f=_0x4bd1e9,_0x4bd1e9={}),_0x4bd1e9['postdata']=_0x4a7845,this['request']('POST',_0x37bb8e,_0x4bd1e9,_0x250c5f);}['put'](_0x3676ea,_0x144e59,_0x29681d,_0x2dbef8){return typeof _0x29681d=='function'&&(_0x2dbef8=_0x29681d,_0x29681d={}),_0x29681d['postdata']=_0x144e59,this['request']('PUT',_0x3676ea,_0x29681d,_0x2dbef8);}['del'](_0x2886cc,_0x583f78,_0x3f4bed){return typeof _0x583f78=='function'&&(_0x3f4bed=_0x583f78,_0x583f78={}),this['request']('DELETE',_0x2886cc,_0x583f78,_0x3f4bed);}['request'](_0x4725b8,_0xb8a3fd,_0x26e4c7,_0x35ea97){let _0x22d428,_0x38b31b,_0x50d38a,_0x362b4f=!(0x1b*-0xdf+0x1d14+-0x58e);if(typeof _0x26e4c7=='function'&&(_0x35ea97=_0x26e4c7,_0x26e4c7={}),_0x26e4c7['retry']&&(_0x26e4c7=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x26e4c7)),_0x26e4c7['callback']=_0x35ea97,_0x26e4c7['async']==null&&(_0x26e4c7['async']=!(0x1*0x4c6+-0x1fa5+0x1adf)),_0x26e4c7['headers']==null&&(_0x26e4c7['headers']={}),_0x26e4c7['postdata']!=null){if(_0x26e4c7['postdata']instanceof Document)_0x50d38a=_0x26e4c7['postdata'];else{if(_0x26e4c7['postdata']instanceof FormData)_0x50d38a=_0x26e4c7['postdata'];else{if(_0x26e4c7['postdata']instanceof Object){let _0x275fbc=_0x26e4c7['headers']['Content-Ty'+'pe'];switch(_0x275fbc===void(-0x18*0x4d+-0x2398+-0x8*-0x55a)&&(_0x26e4c7['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x275fbc=_0x26e4c7['headers']['Content-Ty'+'pe']),_0x275fbc){case be['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x50d38a='';let _0xf0a78=!(0x4e*-0x3b+-0x1bb6+0x22*0x158);for(const _0x474e21 in _0x26e4c7['postdata'])if(_0x26e4c7['postdata']['hasOwnProp'+'erty'](_0x474e21)){_0xf0a78?_0xf0a78=!(0xf*0x75+0x3b+-0x715):_0x50d38a+='&';const _0x5d8987=encodeURIComponent(_0x474e21),_0x2cfe54=encodeURIComponent(_0x26e4c7['postdata'][_0x474e21]);_0x50d38a+=_0x5d8987+'='+_0x2cfe54;}break;}default:case be['ContentTyp'+'e']['JSON']:_0x275fbc==null&&(_0x26e4c7['headers']['Content-Ty'+'pe']=be['ContentTyp'+'e']['JSON']),_0x50d38a=JSON['stringify'](_0x26e4c7['postdata']);break;}}else _0x50d38a=_0x26e4c7['postdata'];}}}if(_0x26e4c7['cache']===!(-0x3f5*-0x5+-0x1*0x13c5+-0x3*0x1)){const _0x55c324=ne();_0x22d428=new sd(_0xb8a3fd),_0x22d428['query']?_0x22d428['query']=_0x22d428['query']+'&ts='+_0x55c324:_0x22d428['query']='ts='+_0x55c324,_0xb8a3fd=_0x22d428['toString']();}_0x26e4c7['query']&&(_0x22d428=new sd(_0xb8a3fd),_0x38b31b=vh(_0x22d428['getQuery'](),_0x26e4c7['query']),_0x22d428['setQuery'](_0x38b31b),_0xb8a3fd=_0x22d428['toString']());const _0x541902=new XMLHttpRequest();_0x541902['open'](_0x4725b8,_0xb8a3fd,_0x26e4c7['async']),_0x541902['withCreden'+'tials']=_0x26e4c7['withCreden'+'tials']!==void(-0x69*0x35+-0x3b9*-0x3+0xa92)?_0x26e4c7['withCreden'+'tials']:!(0xf43+-0x7cc+-0x776),_0x541902['responseTy'+'pe']=_0x26e4c7['responseTy'+'pe']||this['_guessResp'+'onseType'](_0xb8a3fd);for(const _0x1f4b0c in _0x26e4c7['headers'])_0x26e4c7['headers']['hasOwnProp'+'erty'](_0x1f4b0c)&&_0x541902['setRequest'+'Header'](_0x1f4b0c,_0x26e4c7['headers'][_0x1f4b0c]);_0x541902['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x4725b8,_0xb8a3fd,_0x26e4c7,_0x541902);},_0x541902['onerror']=()=>{this['_onError'](_0x4725b8,_0xb8a3fd,_0x26e4c7,_0x541902),_0x362b4f=!(0xe38*0x2+-0xffb*-0x2+-0x3c66);};try{_0x541902['send'](_0x50d38a);}catch(_0x1c2bf8){_0x362b4f||_0x26e4c7['error'](_0x541902['status'],_0x541902,_0x1c2bf8);}return _0x541902;}['_guessResp'+'onseType'](_0x25576e){const _0x1a1304=new sd(_0x25576e),_0x724213=fe['getExtensi'+'on'](_0x1a1304['path'])['toLowerCas'+'e']();return be['binaryExte'+'nsions']['indexOf'](_0x724213)>=-0x1be0+0x13eb*0x1+0x7f5?be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x724213==='.json'?be['ResponseTy'+'pe']['JSON']:_0x724213==='.xml'?be['ResponseTy'+'pe']['DOCUMENT']:be['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x1f63c1){return[be['ContentTyp'+'e']['BASIS'],be['ContentTyp'+'e']['BIN'],be['ContentTyp'+'e']['DDS'],be['ContentTyp'+'e']['GLB'],be['ContentTyp'+'e']['MP3'],be['ContentTyp'+'e']['MP4'],be['ContentTyp'+'e']['OGG'],be['ContentTyp'+'e']['OPUS'],be['ContentTyp'+'e']['WAV']]['indexOf'](_0x1f63c1)>=-0x1e27+0x12e7+-0x9*-0x140;}['_isBinaryR'+'esponseTyp'+'e'](_0x14cdd7){return _0x14cdd7===be['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x14cdd7===be['ResponseTy'+'pe']['BLOB']||_0x14cdd7===be['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x4f5edb,_0xa155f,_0x4c3db3,_0x5568b4){if(_0x5568b4['readyState']===-0x1*0x225d+-0xe79+0x1*0x30da)switch(_0x5568b4['status']){case 0x1cb4+-0x1c*0x5f+0x24a*-0x8:{_0x5568b4['responseUR'+'L']&&_0x5568b4['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x4f5edb,_0xa155f,_0x4c3db3,_0x5568b4):this['_onError'](_0x4f5edb,_0xa155f,_0x4c3db3,_0x5568b4);break;}case-0x4*-0x71+-0x1abf+0x5*0x527:case-0x151f*0x1+0x3*0x1bb+-0x185*-0xb:case 0x223+-0x101c+0xec7:case-0x63f+0xfe5+-0x876:{this['_onSuccess'](_0x4f5edb,_0xa155f,_0x4c3db3,_0x5568b4);break;}default:{this['_onError'](_0x4f5edb,_0xa155f,_0x4c3db3,_0x5568b4);break;}}}['_onSuccess'](_0x17221f,_0x303255,_0x305b73,_0x20b560){let _0x53bad0,_0x44bfb8;const _0x172479=_0x20b560['getRespons'+'eHeader']('Content-Ty'+'pe');_0x172479&&(_0x44bfb8=_0x172479['split'](';')[0x84f*0x4+-0xc1*-0x27+-0x42d*0xf]['trim']());try{this['_isBinaryC'+'ontentType'](_0x44bfb8)||this['_isBinaryR'+'esponseTyp'+'e'](_0x20b560['responseTy'+'pe'])?_0x53bad0=_0x20b560['response']:_0x44bfb8===be['ContentTyp'+'e']['JSON']||_0x303255['split']('?')[-0x22a3+0xc26+0x167d]['endsWith']('.json')?_0x53bad0=JSON['parse'](_0x20b560['responseTe'+'xt']):_0x20b560['responseTy'+'pe']===be['ResponseTy'+'pe']['DOCUMENT']||_0x44bfb8===be['ContentTyp'+'e']['XML']?_0x53bad0=_0x20b560['responseXM'+'L']:_0x53bad0=_0x20b560['responseTe'+'xt'],_0x305b73['callback'](null,_0x53bad0);}catch(_0x2c6339){_0x305b73['callback'](_0x2c6339);}}['_onError'](_0x2c8175,_0x3813c5,_0x290a7f,_0x1decbc){if(!_0x290a7f['retrying']){if(_0x290a7f['retry']&&_0x290a7f['retries']<_0x290a7f['maxRetries']){_0x290a7f['retries']++,_0x290a7f['retrying']=!(-0x707+-0x7*0xb1+0x1f*0x62);const _0x4cf746=N['clamp'](Math['pow'](-0x1*0xd67+-0x766*0x2+0x1c35,_0x290a7f['retries'])*be['retryDelay'],0x28*-0x39+-0x15*0x147+0xbe9*0x3,_0x290a7f['maxRetryDe'+'lay']||0xace+-0xd31+0x1*0x15eb);console['log'](_0x2c8175+':\x20'+_0x3813c5+'\x20-\x20Error\x20'+_0x1decbc['status']+('.\x20Retrying'+'\x20in\x20')+_0x4cf746+'\x20ms'),setTimeout(()=>{_0x290a7f['retrying']=!(-0x23b8+0x1*0x2273+0x146),this['request'](_0x2c8175,_0x3813c5,_0x290a7f,_0x290a7f['callback']);},_0x4cf746);}else _0x290a7f['callback'](_0x1decbc['status']===-0x4*-0x89c+-0x6a3+-0xb*0x287?'Network\x20er'+'ror':_0x1decbc['status'],null);}}};c(be,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(be,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(be,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(be,'retryDelay',0x20ff+0x3*-0x581+0x14*-0xce);let ls=be;const $e=new ls();function Li(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class kh{constructor(_0x9bd38b,_0x371e72,_0x3e70d1={}){if(this['volume']=_0x3e70d1['volume']??0x7*0x373+-0xbf*0x9+-0x116d,this['loop']=_0x3e70d1['loop']??!(-0x1*-0x237b+0x23e*0x11+-0x3*0x1888),this['pitch']=_0x3e70d1['pitch']??-0x3*-0x43e+0x1*0xd0d+-0x19c6*0x1,this['sound']=_0x371e72,this['paused']=!(-0x16f5+0x535+0x11c1),this['suspended']=!(-0xa1*-0x1d+-0x95*-0x25+-0x27c5),this['manager']=_0x9bd38b,this['source']=null,Li()){this['startTime']=0x3db*-0x6+-0x2af*0x3+0x1f2f*0x1,this['startOffse'+'t']=0x464+-0x112f+-0x19*-0x83;const _0x562463=_0x9bd38b['context'];this['gain']=_0x562463['createGain']();}else _0x371e72['audio']&&(this['source']=_0x371e72['audio']['cloneNode'](!(0x3b*-0x11+-0xcd2*0x1+-0x10be*-0x1)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x152775){this['loop']=_0x152775,this['source']&&(this['source']['loop']=_0x152775);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(0xc9a+-0x3*0x3a7+-0x1a5),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0xe*-0x1d5+-0x15f4+-0x3b1),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x40*0x34+-0x258*0x1+-0xf8*0xb,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(0x1*0xdcd+-0xaed*-0x1+-0x18ba),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x1143+0x1*0x2349+-0x348c),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x23d4*-0x1+-0xe34+0x1*0x3208,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(0x2125*0x1+0x1dc6*-0x1+0x2*-0x1af));}['stop'](){this['source']&&(this['source']['stop'](0x19b0+0x1*0xb4e+-0x24fe),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x24fc29){_0x24fc29=N['clamp'](_0x24fc29,0x675+0x369*0x6+-0x1aeb,0x11*-0xb3+-0x377*-0x1+-0x1*-0x86d),this['volume']=_0x24fc29,this['gain']&&(this['gain']['gain']['value']=_0x24fc29*this['manager']['volume']);}['setPitch'](_0x133841){this['pitch']=_0x133841,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x133841);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x25d2+0x1fe3+0x5ef;}['_createSou'+'rce'](){const _0x2f3fd2=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x2f3fd2['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x2f3fd2['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Li()||Object['assign'](kh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0x9*0x30e+0x24*-0xd4+0x253),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x1ba7+-0x2609+0x41b0),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0x6d3*0x1+0x23c0+-0x2a92),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x4f29c1){_0x4f29c1=N['clamp'](_0x4f29c1,-0xa96*-0x1+-0x16*0x43+-0x1*0x4d4,0x13b0+0x17af+-0x2b5e),this['volume']=_0x4f29c1,this['source']&&(this['source']['volume']=_0x4f29c1*this['manager']['volume']);},'setPitch':function(_0x3439a1){this['pitch']=_0x3439a1,this['source']&&(this['source']['playbackRa'+'te']=_0x3439a1);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x2619+-0x2cd+0x28e6;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x36a*-0x12+0x19d2*-0x2+0x8*0x1305;class Ru extends kh{constructor(_0x22ecfd,_0x46b910,_0x37b64e){super(_0x22ecfd,_0x46b910,_0x37b64e),this['position']=new T(),this['velocity']=new T(),Li()?this['panner']=_0x22ecfd['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=0x3d*0x1a+0x2*-0x335+0x3*0x13,this['rollOffFac'+'tor']=-0x20d6+0x1d4d+0x12e*0x3,this['distanceMo'+'del']=Ff);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x2369f0){this['position']['copy'](_0x2369f0);const _0x2030dd=this['panner'];'positionX'in _0x2030dd?(_0x2030dd['positionX']['value']=_0x2369f0['x'],_0x2030dd['positionY']['value']=_0x2369f0['y'],_0x2030dd['positionZ']['value']=_0x2369f0['z']):_0x2030dd['setPositio'+'n']&&_0x2030dd['setPositio'+'n'](_0x2369f0['x'],_0x2369f0['y'],_0x2369f0['z']);}['getVelocit'+'y'](){return v['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x242451){v['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x242451);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x58df57){this['panner']['maxDistanc'+'e']=_0x58df57;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x516d00){this['panner']['refDistanc'+'e']=_0x516d00;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x54150c){this['panner']['rolloffFac'+'tor']=_0x54150c;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0xa32878){this['panner']['distanceMo'+'del']=_0xa32878;}['_createSou'+'rce'](){const _0x3c762d=this['manager']['context'];this['source']=_0x3c762d['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x3c762d['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Li()){let l=new T();const t=function(_0x58467d,_0x46daca,_0x1c10c2,_0x2a92e4,_0x34730e,_0x3cd7a9){l=l['sub2'](_0x58467d,_0x46daca);const _0xbf5995=l['length']();if(_0xbf5995<_0x1c10c2)return 0x2*-0xae7+-0x1*0x107+0x2*0xb6b;if(_0xbf5995>_0x2a92e4)return-0x1*-0x783+-0x7*-0x567+-0x4*0xb55;let _0x5081ac=0x16cb+0x1*0x124b+0x1*-0x2916;return _0x3cd7a9===cc?_0x5081ac=0x3*0x4e2+0xbf8*0x1+-0x1a9d-_0x34730e*(_0xbf5995-_0x1c10c2)/(_0x2a92e4-_0x1c10c2):_0x3cd7a9===Ff?_0x5081ac=_0x1c10c2/(_0x1c10c2+_0x34730e*(_0xbf5995-_0x1c10c2)):_0x3cd7a9===cy&&(_0x5081ac=Math['pow'](_0xbf5995/_0x1c10c2,-_0x34730e)),N['clamp'](_0x5081ac,-0x1b76+0x8*-0x107+0x11d7*0x2,0x1*0xd2d+0x5a6+0x16*-0xdb);};Object['assign'](Ru['prototype'],{'setPosition':function(_0x4c33ca){if(this['position']['copy'](_0x4c33ca),this['source']){const _0x5a11a7=this['manager']['listener']['getPositio'+'n'](),_0x5ea014=t(_0x5a11a7,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x338505=this['getVolume']();this['source']['volume']=_0x338505*_0x5ea014;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x54d785){this['maxDistanc'+'e']=_0x54d785;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0xe68a97){this['minDistanc'+'e']=_0xe68a97;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x2bba21){this['rollOffFac'+'tor']=_0x2bba21;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x262f51){this['distanceMo'+'del']=_0x262f51;}});}class Ob{constructor(_0x4e27be){c(this,'_manager'),c(this,'position',new T()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x4e27be;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x3b0669){this['position']['copy'](_0x3b0669);const _0x5ea69b=this['listener'];_0x5ea69b&&('positionX'in _0x5ea69b?(_0x5ea69b['positionX']['value']=_0x3b0669['x'],_0x5ea69b['positionY']['value']=_0x3b0669['y'],_0x5ea69b['positionZ']['value']=_0x3b0669['z']):_0x5ea69b['setPositio'+'n']&&_0x5ea69b['setPositio'+'n'](_0x3b0669['x'],_0x3b0669['y'],_0x3b0669['z']));}['setOrienta'+'tion'](_0x23918a){this['orientatio'+'n']['copy'](_0x23918a);const _0x18e528=this['listener'];if(_0x18e528){const _0x2b4838=_0x23918a['data'];'forwardX'in _0x18e528?(_0x18e528['forwardX']['value']=-_0x2b4838[-0x1b8b+-0x1*-0x22c8+-0x735],_0x18e528['forwardY']['value']=-_0x2b4838[0x29*-0xce+0x120+0x1fe7],_0x18e528['forwardZ']['value']=-_0x2b4838[-0xb08+-0xc2a+0x173c],_0x18e528['upX']['value']=_0x2b4838[0x338+-0x982+-0x64e*-0x1],_0x18e528['upY']['value']=_0x2b4838[0x527*-0x2+0x17ea*0x1+-0x47*0x31],_0x18e528['upZ']['value']=_0x2b4838[-0x4a*-0x2+-0x1*-0x824+-0x8b2]):_0x18e528['setOrienta'+'tion']&&_0x18e528['setOrienta'+'tion'](-_0x2b4838[0x20*-0x52+0x23d0+-0x1988],-_0x2b4838[-0x3*-0x2f0+0x1*0x1705+0xa*-0x32e],-_0x2b4838[-0x597+0x2071+-0x58*0x4e],_0x2b4838[-0x80b+-0x96b+0x117a],_0x2b4838[0x265*0xc+0x2470+-0x4127],_0x2b4838[0x25*-0x7+-0x2345*-0x1+-0x223c]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x4ee567=this['_manager']['context'];return _0x4ee567?_0x4ee567['listener']:null;}}const wl='running',Om=['click','touchstart','mousedown'];class kb extends ce{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||v['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x24b8+-0x294*0x4+-0x1a67*0x1),this['listener']=new Ob(this),this['_volume']=0x55*0x29+-0x127+-0x3*0x427;}set['volume'](_0x1ca9cd){_0x1ca9cd=N['clamp'](_0x1ca9cd,-0x35*0x5a+0x1d85+-0xae3,-0x9d1+-0x3*0x565+0x1a01),this['_volume']=_0x1ca9cd,this['fire']('volumechan'+'ge',_0x1ca9cd);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==wl&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0xa3*-0x22+0x2251+-0x1*0x37f7),this['_context']&&this['_context']['state']===wl&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(-0x16aa+0x1*0xd77+0x7c*0x13),this['_context']&&this['_context']['state']!==wl&&this['_resume']());}['destroy'](){var _0x55b5f0;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x55b5f0=this['_context'])==null||_0x55b5f0['close'](),this['_context']=null);}['playSound'](_0x8646db,_0x2b99ec={}){let _0x164e83=null;return kh&&(_0x164e83=new kh(this,_0x8646db,_0x2b99ec),_0x164e83['play']()),_0x164e83;}['playSound3'+'d'](_0x1d4936,_0x4d9340,_0x16e961={}){let _0x356e21=null;return Ru&&(_0x356e21=new Ru(this,_0x1d4936,_0x16e961),_0x356e21['setPositio'+'n'](_0x4d9340),_0x16e961['volume']&&_0x356e21['setVolume'](_0x16e961['volume']),_0x16e961['loop']&&_0x356e21['setLoop'](_0x16e961['loop']),_0x16e961['maxDistanc'+'e']&&_0x356e21['setMaxDist'+'ance'](_0x16e961['maxDistanc'+'e']),_0x16e961['minDistanc'+'e']&&_0x356e21['setMinDist'+'ance'](_0x16e961['minDistanc'+'e']),_0x16e961['rollOffFac'+'tor']&&_0x356e21['setRollOff'+'Factor'](_0x16e961['rollOffFac'+'tor']),_0x16e961['distanceMo'+'del']&&_0x356e21['setDistanc'+'eModel'](_0x16e961['distanceMo'+'del']),_0x356e21['play']()),_0x356e21;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0xcece4b=this['_context']['createBuff'+'erSource']();_0xcece4b['buffer']=this['_context']['createBuff'+'er'](0x128f*-0x1+-0x36*0x6f+-0x18e*-0x1b,-0x15a6+-0x8e2+-0x1*-0x1e89,this['_context']['sampleRate']),_0xcece4b['connect'](this['_context']['destinatio'+'n']),_0xcece4b['start'](-0x115f*0x1+0x26*-0x9f+-0x28f9*-0x1),_0xcece4b['onended']=_0x2f49de=>{_0xcece4b['disconnect'](-0x9*0x355+-0x6*-0x583+-0x315),this['fire']('resume');};},_0x188016=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x188016);})['catch'](_0x1d2990=>{v['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x1d2990);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x29ed14=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x29ed14);})['catch'](_0x235aa6=>{v['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x235aa6);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==wl&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x361509=>{window['addEventLi'+'stener'](_0x361509,this['_unlockHan'+'dlerFunc'],!(0x1b57*0x1+-0x217d+0x627));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x13be62=>{window['removeEven'+'tListener'](_0x13be62,this['_unlockHan'+'dlerFunc'],!(0x2275*-0x1+-0x23c4+0x463a));});}}class Bb{constructor(_0x33deb3){c(this,'audio'),c(this,'buffer'),_0x33deb3 instanceof Audio?this['audio']=_0x33deb3:this['buffer']=_0x33deb3;}get['duration'](){let _0x1cf2ba=-0x2*-0xf51+0x26c4+-0x8d*0x7e;return this['buffer']?_0x1cf2ba=this['buffer']['duration']:this['audio']&&(_0x1cf2ba=this['audio']['duration']),_0x1cf2ba||-0x2f*0xaf+0x6c3*0x1+0x195e;}}const Pt=-0x1c0b*-0x1+-0xf8a+0x1*-0xc81,sa=-0x1007+0x676*0x1+0x19*0x62,ws=0x1*0xcfb+-0x152f+-0x2*-0x41b;function Rt(_0x48983f,_0x162c3c){return _0x48983f%_0x162c3c||0x1199+-0xf+-0x118a;}class ss extends ce{constructor(_0x229bd2,_0x115571,_0x4dc44b){super(),c(this,'source',null),(this['_manager']=_0x229bd2,this['_volume']=_0x4dc44b['volume']!==void(0x1cfd*-0x1+-0xe5d+0x3e*0xb3)?N['clamp'](Number(_0x4dc44b['volume'])||0x14ec+0x13*0x71+-0x7b*0x3d,-0x3a3*0xa+0x4*0x11f+-0x48e*-0x7,0xeb4+-0x371*0x4+-0xef):0x16d2+-0x1237+0x26*-0x1f,this['_pitch']=_0x4dc44b['pitch']!==void(0x25*0x67+-0x12f0+-0x1*-0x40d)?Math['max'](0x1d07*0x1+0xec3+-0x2bca+0.01,Number(_0x4dc44b['pitch'])||-0x1a26+-0xbc7+0x25ed):0xb54+-0x347*-0x8+0x1*-0x258b,this['_loop']=!!(_0x4dc44b['loop']!==void(0xcf*0x7+-0x1e89+0x18e0)&&_0x4dc44b['loop']),this['_sound']=_0x115571,this['_state']=ws,this['_suspended']=!(-0x6b3+-0x2059+0x270d),this['_suspendEn'+'dEvent']=0x10de*-0x1+-0x2b*0x4d+0x1dcd,this['_suspendIn'+'stanceEven'+'ts']=!(0x2329+0x1*-0x763+-0x1bc5),this['_playWhenL'+'oaded']=!(0x7*-0x47f+0x1920+0x659),this['_startTime']=Math['max'](0x1f7+0x1*0x1566+-0x175d,Number(_0x4dc44b['startTime'])||0x1*-0x4f3+-0x1eb*0x13+-0x2*-0x14b2),this['_duration']=Math['max'](0x4*-0x3ab+0xf0+0x36f*0x4,Number(_0x4dc44b['duration'])||-0x18c0+0x6bd*0x2+0x2*0x5a3),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x4dc44b['onPlay'],this['_onPauseCa'+'llback']=_0x4dc44b['onPause'],this['_onResumeC'+'allback']=_0x4dc44b['onResume'],this['_onStopCal'+'lback']=_0x4dc44b['onStop'],this['_onEndCall'+'back']=_0x4dc44b['onEnd'],Li()?(this['_startedAt']=0x35*-0x1a+0x2*-0x29c+0xa9a,this['_currentTi'+'me']=0x1d44*-0x1+0x1*-0x325+0x2069,this['_currentOf'+'fset']=0x128d+0x2520+-0x37ad,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x355+0x1b23+-0x1e77),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x158b+0x733*0x4+-0x3256),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x49c150){if(!(_0x49c150<-0x44a*-0x3+-0x2ab+-0xa33)){if(this['_state']===Pt){const _0x44b57b=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x4eb+0xd3*-0x3+0x2*-0x139),this['stop'](),this['_startOffs'+'et']=_0x49c150,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x44b57b;}else this['_startOffs'+'et']=_0x49c150,this['_currentTi'+'me']=_0x49c150;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===sa?this['_currentTi'+'me']:this['_state']===ws||!this['source']?-0x2*0x1203+0x739+0x1ccd:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x4f14dc){this['_duration']=Math['max'](0x1a75+0x7fc+-0x2271*0x1,Number(_0x4f14dc)||0x7b1+-0x5f*0x46+0x1249);const _0x159415=this['_state']===Pt;this['stop'](),_0x159415&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Rt(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x1a33+0x945+0x16*0xc5;}get['isPaused'](){return this['_state']===sa;}get['isPlaying'](){return this['_state']===Pt;}get['isStopped'](){return this['_state']===ws;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x3ac6a8){this['_loop']=!!_0x3ac6a8,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x2439ab){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x2439ab)||-0x1b3+0x10be+-0xf0b,0x1*-0xc1b+0x2008+-0x1*0x13ed+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x226641){this['_sound']=_0x226641,this['_state']!==ws?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x2a578a){this['_startTime']=Math['max'](0x14d2+0x267d*-0x1+0x11ab,Number(_0x2a578a)||-0x377*-0x1+-0x15*-0x175+-0x2210);const _0x4da24b=this['_state']===Pt;this['stop'](),_0x4da24b&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x44880c){_0x44880c=N['clamp'](_0x44880c,0x1105*-0x2+-0x8*0x432+0x439a,0x23da+0x596+0x1*-0x296f),this['_volume']=_0x44880c,this['gain']&&(this['gain']['gain']['value']=_0x44880c*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0xa88+-0x1*0x25e7+0x306f){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Pt&&!this['_suspended']&&(this['_suspended']=!(0x1faf*0x1+-0x181d*0x1+0x72*-0x11),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0x2c*-0x52+-0x1d64+0x1*0xf4d),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==ws&&this['stop'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0xf9b+-0xc*0xd1+0x1968),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x3b7*0x7+-0xc3e+0x2640):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*-0xec8+-0x2504+0x163c),!(-0x1114+-0x2*0x87e+0x143*0x1b)):(this['_playAudio'+'Immediate'](),!(-0x1*0x21cf+0x1*0x1aed+-0x6e2*-0x1));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x22*0x21+-0x9a2+0x541),this['_state']!==Pt)return;this['source']||this['_createSou'+'rce']();let _0x4c906e=Rt(this['_startOffs'+'et'],this['duration']);_0x4c906e=Rt(this['_startTime']+_0x4c906e,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x18*0x113+-0x11e4+0x7e4*-0x1,_0x4c906e,this['_duration']):this['source']['start'](-0x26fb+-0x97*0x4+0x13*0x22d,_0x4c906e),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x9b5+0x2348+0xeff*-0x3,this['_currentOf'+'fset']=_0x4c906e,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x1c42*0x1+0x1f28+0x1*-0x3b69),this['_state']!==Pt?!(0xbf*0x1+0x2539*0x1+-0x25f7):(this['_state']=sa,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x255d*0x1+0x2065+-0x45c2),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x1995+-0x17a0+0xdd*0x39));}['resume'](){if(this['_state']!==sa)return!(0x13*-0x65+-0x706+0xe86);let _0x2703e0=this['currentTim'+'e'];return this['_state']=Pt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x2703e0=Rt(this['_startOffs'+'et'],this['duration']),_0x2703e0=Rt(this['_startTime']+_0x2703e0,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x1*-0x4a+0x5df+0x595*-0x1,_0x2703e0,this['_duration']):this['source']['start'](0xbb7*0x3+0x663+-0x2988,_0x2703e0),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x2703e0,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x1009*-0x1+-0x247*0x1+-0xdc1),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0xe8f+0x133b+-0x4ac);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x2*0xb92+-0xd7*0x25+0x7f0),this['_state']===ws)return!(0xa71+0x8c7+-0x1337);const _0x75bcaa=this['_state']===Pt;return this['_state']=ws,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0xe21+0x3*-0x78e+0x1*0x24cb,this['_currentTi'+'me']=0x224d+0x275*-0x7+-0x111a,this['_currentOf'+'fset']=-0x1a3c+-0x16cf*-0x1+0x36d,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x75bcaa&&this['source']&&this['source']['stop'](-0x877+-0x2296+0x2b0d),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0xd1+0x1019+0x362*-0x5);}['setExterna'+'lNodes'](_0x5b3d14,_0x464a2c){if(!_0x5b3d14){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x464a2c||(_0x464a2c=_0x5b3d14);const _0x54df39=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x5b3d14&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x54df39),this['_firstNode']=_0x5b3d14,this['_connector'+'Node']['connect'](_0x5b3d14)),this['_lastNode']!==_0x464a2c&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x54df39),this['_lastNode']=_0x464a2c,this['_lastNode']['connect'](_0x54df39));}['clearExter'+'nalNodes'](){const _0x1862d0=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x1862d0),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x1862d0);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x5680a8=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x5680a8['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Rt(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Rt(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Rt((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Pt&&(this['source']['stop'](-0x436+-0x1a1*-0x13+-0x1abd),this['source']=null);}}c(ss,'EVENT_PLAY','play'),c(ss,'EVENT_PAUS'+'E','pause'),c(ss,'EVENT_RESU'+'ME','resume'),c(ss,'EVENT_STOP','stop'),c(ss,'EVENT_END','end'),Li()||(Object['assign'](ss['prototype'],{'play':function(){return this['_state']!==ws&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x1764+-0xdd5+-0x98e):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Pt,this['_playWhenL'+'oaded']=!(0x280+-0xa89+0x80a),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x1eb4+-0x3*0x1c9+0x39f*-0x7));},'pause':function(){return!this['source']||this['_state']!==Pt?!(-0x15dc+0x1b25+-0x548):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x1ad8+-0x99e*0x1+-0x1139),this['_state']=sa,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x327*-0x5+-0x1*0xe81+-0x142));},'resume':function(){return!this['source']||this['_state']!==sa?!(0x152*-0x1c+-0x7e4+0x2cdd):(this['_state']=Pt,this['_playWhenL'+'oaded']=!(-0x878+0x2317+-0x1a9e),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1a96+0x11b6*-0x2+0x1*0x3e02));},'stop':function(){return!this['source']||this['_state']===ws?!(-0x935*-0x3+-0x2524+0x986):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0xc76+-0x5ca*0x2+-0x4b*0x3),this['_state']=ws,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x11cc+0x1ba*-0xc+0x22*0x122));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x470+0x1af0+0x1f60*-0x1);let _0x77251b=Rt(this['_startOffs'+'et'],this['duration']);_0x77251b=Rt(this['_startTime']+_0x77251b,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x77251b;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x23b4+-0x17e4+0x3b99),this['source']=this['_sound']['audio']['cloneNode'](!(-0x23f0+0xbcf+0x1821)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Rt(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Rt(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ss['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x298ec3){_0x298ec3=N['clamp'](_0x298ec3,0x17e2+-0xf38+0x2*-0x455,-0x797+0x1005+-0x86d),this['_volume']=_0x298ec3,this['source']&&(this['source']['volume']=_0x298ec3*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ss['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x5f6e99){this['_pitch']=Math['max'](Number(_0x5f6e99)||-0x245c+0xac8+0x1994,-0x570+0x1*0x1f7d+-0x27*0xab+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ss['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x4add65){this['stop'](),this['_sound']=_0x4add65;}}),Object['defineProp'+'erty'](ss['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ws||!this['source']?-0xb58+0xfd*-0xa+-0x153a*-0x1:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x15315b){_0x15315b<-0xe8e+0x610+0x87e||(this['_startOffs'+'et']=_0x15315b,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Rt(this['_startTime']+Rt(_0x15315b,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x563*-0xe+-0x1ddd+0x301d*0x3;class jn extends ss{constructor(_0x8511b6,_0x7e7c35,_0x1d8579={}){super(_0x8511b6,_0x7e7c35,_0x1d8579),c(this,'_position',new T()),c(this,'_velocity',new T()),(_0x1d8579['position']&&(this['position']=_0x1d8579['position']),this['maxDistanc'+'e']=_0x1d8579['maxDistanc'+'e']!==void(-0x121*-0x11+0x1b*-0x71+-0x746)?Number(_0x1d8579['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x1d8579['refDistanc'+'e']!==void(-0x17*-0x161+0x9e3+-0x6*0x6ef)?Number(_0x1d8579['refDistanc'+'e']):0x1e04+0x7*-0x50c+0x551,this['rollOffFac'+'tor']=_0x1d8579['rollOffFac'+'tor']!==void(0xd19+0xa8f+0x5ea*-0x4)?Number(_0x1d8579['rollOffFac'+'tor']):0x1*0x815+0x1c26+0x243a*-0x1,this['distanceMo'+'del']=_0x1d8579['distanceMo'+'del']!==void(-0x11af*0x1+0x1db*0x1+0xfd4)?_0x1d8579['distanceMo'+'del']:cc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x5b4c5a){this['_position']['copy'](_0x5b4c5a);const _0x57d437=this['panner'];'positionX'in _0x57d437?(_0x57d437['positionX']['value']=_0x5b4c5a['x'],_0x57d437['positionY']['value']=_0x5b4c5a['y'],_0x57d437['positionZ']['value']=_0x5b4c5a['z']):_0x57d437['setPositio'+'n']&&_0x57d437['setPositio'+'n'](_0x5b4c5a['x'],_0x5b4c5a['y'],_0x5b4c5a['z']);}get['position'](){return this['_position'];}set['velocity'](_0x464990){v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x464990);}get['velocity'](){return v['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x2fb9f5){this['panner']['maxDistanc'+'e']=_0x2fb9f5;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x5b0d2a){this['panner']['refDistanc'+'e']=_0x5b0d2a;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x19e152){this['panner']['rolloffFac'+'tor']=_0x19e152;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x5d7a0d){this['panner']['distanceMo'+'del']=_0x5d7a0d;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Li()){let l=new T();const t=function(_0x2a7da6,_0x26e584,_0x20b233,_0x22e64e,_0x29a9fd,_0x37ce77){l=l['sub2'](_0x2a7da6,_0x26e584);const _0x9aa958=l['length']();if(_0x9aa958<_0x20b233)return-0x90+-0x1fc5+0x2056;if(_0x9aa958>_0x22e64e)return-0xbe*0x22+-0x11*-0x241+-0xd15;let _0x49bcc5=0x1e8a+-0xd00+-0x118a;return _0x37ce77===cc?_0x49bcc5=-0x1641+-0x3*0xcc0+0x3c82-_0x29a9fd*(_0x9aa958-_0x20b233)/(_0x22e64e-_0x20b233):_0x37ce77===Ff?_0x49bcc5=_0x20b233/(_0x20b233+_0x29a9fd*(_0x9aa958-_0x20b233)):_0x37ce77===cy&&(_0x49bcc5=Math['pow'](_0x9aa958/_0x20b233,-_0x29a9fd)),N['clamp'](_0x49bcc5,0xab*-0x2a+0x1*0x805+0xdf*0x17,-0x12a0*-0x2+0x2*-0xe91+0x43*-0x1f);};Object['defineProp'+'erty'](jn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x710c29){if(this['_position']['copy'](_0x710c29),this['source']){const _0x3c48a2=this['_manager']['listener']['getPositio'+'n'](),_0x47269c=t(_0x3c48a2,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x268120=this['volume'];this['source']['volume']=_0x268120*_0x47269c*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](jn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x2fdf68){this['_maxDistan'+'ce']=_0x2fdf68;}}),Object['defineProp'+'erty'](jn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x12fa12){this['_refDistan'+'ce']=_0x12fa12;}}),Object['defineProp'+'erty'](jn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x3fdce0){this['_rollOffFa'+'ctor']=_0x3fdce0;}}),Object['defineProp'+'erty'](jn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x1e76fe){this['_distanceM'+'odel']=_0x1e76fe;}});}const n0=-0x3*-0x169+-0x2091+0x972*0x3,yp=0x1a4+0x26b*-0x1+0xc8,Kt=0x15df+0x1a*0x142+0x3d*-0xe5,is=-0x1a42+-0xd3b*-0x1+-0xd0a*-0x1,hr=0x3*0x5ea+0x4e1*0x4+-0x253e,xp=-0x2*-0x112+-0x1187+-0x44*-0x3a,Hc=0x23de+0x9ae+-0x2d86,a0=-0x173f+-0xc87*-0x1+0xabf,o0=-0x4a*0x43+0xe9*-0xd+0x1f3b*0x1,l0=0x2d2+-0x7b6+0xd*0x61,h0=0x1dfd+0x53*0x64+-0x7*0x8e9,Fa='none',zb='linear',Sp=-0x1eb3*-0x1+-0x2*0x112d+-0x3a9*-0x1,Ub=-0x77*-0x35+-0x3d*0x17+0x4*-0x4ca,Vb=-0x15*0x5+0x16c3+0xa*-0x23c,c0=-0xe0f*0x1+-0x4f7+0x1315,Fi=-0x29a*0xa+-0x1c92+-0x3*-0x1232,Xt=0x6a1+0xf7c+-0x11b*0x14,vp=-0x1*-0x2077+0x1b0f+-0x3b84,bp=0x10be+0x202c+-0x30e7,tl=0xbda+0x1a19+-0x25ef,oe=0x103f*0x1+-0xe2d*0x1+-0x109*0x2,Pe=0x1e9*0x5+0x3*0x9a3+0x37f*-0xb,Re=-0x1*0x13f7+0x235f+0x12*-0xdb,yt=-0x25e+0x97*0x3d+-0x1*0x219d,Gb=0x2619+0xf*-0x17f+-0xfa7,Hb=0x1a48+-0x8eb*-0x1+-0x2331,Wb=-0x14b8+-0x25fa*-0x1+-0x5*0x373,wp=0x41*0x17+-0x1aaf*0x1+0xe8*0x17,$b=0x1d57+0x58*0x34+0x2*-0x179b,Dt=-0x129f*0x1+-0x1f2f+0x31ce,Hr=0x1ab8+-0x1c32+0x17c,Wr=0x1*-0x1223+0x518+0xd0e,lh=0x1*0x1529+0x1ace+-0x2ff3,Bh=-0x7b5+-0x787+0xf41,Ts=0x1*0x755+0x36d*0x8+-0x22b7*0x1,Nh=0x230b+-0x3*0xa01+-0x1*0x501,zh=-0x1*0x141d+0xcd3+0x2*0x3a9,Iu=-0x15c5+-0x4*0x398+0x242e,ir=new Map([[Bh,{'name':'PCF1_32F','format':Ci,'pcf':!(-0x248f+-0x2256+0x46e5)}],[Dt,{'name':'PCF3_32F','format':Ci,'pcf':!(-0x3f4*0x4+-0x355*0x1+0x1*0x1325)}],[lh,{'name':'PCF5_32F','format':Ci,'pcf':!(0xff+0x110a*0x2+0xdb*-0x29)}],[Nh,{'name':'PCF1_16F','format':la,'pcf':!(-0xbf4+-0x5*-0xfb+0x70d)}],[zh,{'name':'PCF3_16F','format':la,'pcf':!(0x15cb+-0x156*0x1+-0x1475)}],[Iu,{'name':'PCF5_16F','format':la,'pcf':!(0x14d1+0x5*0x22c+-0x35*0x99)}],[Hr,{'name':'VSM_16F','format':Je,'vsm':!(0x1*0x208d+-0x786+0x2b*-0x95)}],[Wr,{'name':'VSM_32F','format':Ke,'vsm':!(0x1d41+-0x1b87+-0x1ba)}],[Ts,{'name':'PCSS_32F','format':Ii,'pcss':!(-0x47*0x79+-0x493*0x7+0x4194)}]]),Tp=-0xedc+-0x515*-0x2+0x4b3,Du=0x1*-0x916+0x1*-0x6bb+0xfd1*0x1,d0=0x9c*0x25+-0x917*0x3+0x4b9,Vs=-0x2403*-0x1+-0x2504+0x101,qb=0xb34+0x1acc+-0x25ff,Uh=-0xc3e+0x15a*0xc+-0x1fd*0x2,Xb=0x35*0x28+-0x1*0x1d59+0x706*0x3,Gs=0x2636*-0x1+0x2ab*0x7+0x1389,ua=0x1939+-0x2d*0x1d+0x11*-0x12f,yo=-0x1*0x1a69+0x2137+0xd*-0x86,Dr=0x621+0x1*-0x16cf+0x10af,Tl=-0x2182+-0x1913+-0x11b*-0x35,u0=0xc7*-0x21+-0xc8b+0x2632,jb=-0xf91+0x18aa+-0x184*0x6,km='mul',sl=-0xb61*-0x3+0x1b8c+0x3daf*-0x1,hh=0xe5e+0x2449+-0x3*0x10e2,Yb={[sl]:'NONE',[hh]:'SRGB'},Ap=0xd*-0x2fb+0x1057+0x1668,aF=-0x3*-0xb65+0x29f*0x7+-0x3487,oF=0x1*-0x19d3+0x252f*0x1+-0x2*0x5ad,lF=0x1d54+-0x1070*0x2+-0x1*-0x38f,hF=-0x1856+-0x1f46*0x1+-0x4*-0xde8,cF=-0x26fe+-0x133*-0xf+0x1506,f0=-0xddf+-0x1ef5+0x2cda,p0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0xf1*0x25+-0x9*0x297+0x3a24,Bo=0x1*0x225b+-0x2325+0xcb,Lu=0x1372+-0x2079+0xd09,Ep=-0x1cb6+-0x2396+0x404d,Wc=0x2*0x3fb+-0x874+0x80*0x1,m0=-0x149d*-0x1+0x1247*0x1+-0x4*0x9b8,_0=-0x3d*0x97+-0x20ff+0x4502,g0=0xb0c+-0xc93+0x197,$c=0x1641+0x138*-0x2+-0x47*0x47,Fu=-0x19e*0x11+0xe5*0x16+0x810,y0=0x7*0x38b+-0x1b97+-0x1a5*-0x2,Cp=0x24d0+0x343+-0x2713,Mp=0x425+0x7a5+0x7*-0x166,qc=0x13*0x7c+-0x2*0x10ea+0x1ca0,Xc=-0x22a1+-0x1d8b+0x482c,x0=0x1*-0x2581+0x1e13+0x176e,jc=-0x1*0x2add+0x12*0x199+0x2e1b,Ou=0x7eea+0x1*-0x1acf+0x9*-0x403,Ps=-0x1b47+0x1*-0x12+0x1b59,cn=-0x1*0x178f+-0x1*-0x64d+0x1143,Pp=0xfb*-0x1+0x1bde+-0x1ae1,Ei=0x969+-0x1253+0x8ea,ku=0x4d*-0x61+-0x10b4+0x2de2,hs=-0x1a21+-0x898+0x22ba,cr=0x13a7+0x7*0x32a+-0x29cb*0x1,rr=0xbd9*-0x1+-0x226d+0x4a1*0xa,gn=0x7b7+-0xc56+-0x7*-0xa9,il=0x1335+-0x244c+-0x1118*-0x1,rl=0x20bc+0x11a1*-0x1+-0xf19,Oa=-0x20b*-0xd+-0x226d+0x1*0x7e1,Rp=-0x1a90+-0x76*0x2b+0x2e66,Ti=0x93*-0x2d+-0x1f79+0xe54*0x4,nt=-0x1613+-0x144a+0x2a5e,Qe=0xb*-0x2e+0x65*-0x1f+0xe37*0x1,ch=-0x11eb+0x1*0x15eb+-0x5d*0xb,Al=0x2*0x436+-0x34a+0xdb*-0x6,dh=-0xdea+0x3a0+-0x3*-0x36e,Zb=0x1443+-0x3a*0x2a+-0x16*0x7d,Qb=0x8b3*-0x1+-0x2145+0x29fa*0x1,Bm=0x1aa0+0x2*-0x683+0x1*-0xd97,Jb=0x269f*0x1+-0x20e+-0x248d,ew=-0x2*0xe7f+0xe9*0x16+0xd*0xb1,Ip=-0x1cb5+0x1332+0x5*0x1e7,Bu=-0x2e*-0x17+-0x17cd+-0x4eb*-0x4,pe=0x230e+0x7*0x116+-0xc*0x38e,ke=-0x7e6*0x3+0x1*-0x1e4f+-0x1*-0x3602,xo='infinite',tw='box',sw='dome',Rs='none',Nm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Yc{constructor(_0x20b65b,_0x247ae9,_0x1df219){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Dh]=_0x20b65b,this['bindGroupF'+'ormats'][Dh]=_0x247ae9,this['vertexForm'+'at']=_0x1df219);}['hasUniform'](_0x7243a2){for(let _0x468c2b=0x1cd1+-0x62*-0x48+-0x3861*0x1;_0x468c2b<this['uniformFor'+'mats']['length'];_0x468c2b++){const _0x2d3b3b=this['uniformFor'+'mats'][_0x468c2b];if(_0x2d3b3b!=null&&_0x2d3b3b['get'](_0x7243a2))return!(0x1fbd+-0x406+-0x1bb7);}return!(-0x3*0xb99+0x2307+0x1*-0x3b);}['hasTexture'](_0x2c6c8f){for(let _0x5d3484=0xd91+-0x26b2+0x1921;_0x5d3484<this['bindGroupF'+'ormats']['length'];_0x5d3484++){const _0x1230b5=this['bindGroupF'+'ormats'][_0x5d3484];if(_0x1230b5!=null&&_0x1230b5['getTexture'](_0x2c6c8f))return!(-0x2298+-0x1*-0x173+-0x6a1*-0x5);}return!(0x1a22+-0x181b+-0x206);}['getVertexE'+'lement'](_0x1b2bc5){var _0x7789e1;return(_0x7789e1=this['vertexForm'+'at'])==null?void(-0x253*0x7+-0x1ce0+0x2d25):_0x7789e1['elements']['find'](_0x402c77=>_0x402c77['name']===_0x1b2bc5);}['generateKe'+'y'](_0x110b25){var _0x43a2c2;let _0x12584c=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x110b25['isWebGPU']&&(_0x12584c+=(_0x43a2c2=this['vertexForm'+'at'])==null?void(-0x1b41*-0x1+0xb81+0x1361*-0x2):_0x43a2c2['shaderProc'+'essingHash'+'String']),_0x12584c;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',Ow='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),kw='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',S0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',v0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atSHVS\x22\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22gspl'+'atSourceVS'+'\x22\x0a#include'+'\x20\x22gsplatCe'+'nterVS\x22\x0a#i'+'nclude\x20\x22gs'+'platCorner'+'VS\x22\x0a#inclu'+'de\x20\x22gsplat'+'OutputVS\x22\x0a'+'\x0a//\x20modify'+'\x20the\x20gauss'+'ian\x20corner'+'\x20so\x20it\x20exc'+'ludes\x20gaus'+'sian\x20regio'+'ns\x20with\x20al'+'pha\x0a//\x20les'+'s\x20than\x201/2'+'55\x0avoid\x20cl'+'ipCorner(i'+'nout\x20Splat'+'Corner\x20cor'+'ner,\x20float'+'\x20alpha)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'clip\x20=\x20min'+'(1.0,\x20sqrt'+'(-log(1.0\x20'+'/\x20255.0\x20/\x20'+'alpha))\x20/\x20'+'2.0);\x0a\x20\x20\x20\x20'+'corner.off'+'set\x20*=\x20cli'+'p;\x0a\x20\x20\x20\x20cor'+'ner.uv\x20*=\x20'+'clip;\x0a}\x0a\x0a/'+'/\x20spherica'+'l\x20Harmonic'+'s\x0a\x0a#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x0a#define\x20S'+'H_C1\x200.488'+'6025119029'+'199f\x0a\x0a#if\x20'+'SH_BANDS\x20>'+'\x201\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_0\x201.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_1\x20-1.0925'+'4843059207'+'92f\x0a\x20\x20\x20\x20#d'+'efine\x20SH_C'+'2_2\x200.3153'+'9156525252'+'005f\x0a\x20\x20\x20\x20#'+'define\x20SH_'+'C2_3\x20-1.09'+'2548430592'+'0792f\x0a\x20\x20\x20\x20'+'#define\x20SH'+'_C2_4\x200.54'+'6274215296'+'0396f\x0a#end'+'if\x0a\x0a#if\x20SH'+'_BANDS\x20>\x202'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_0'+'\x20-0.590043'+'5899266435'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'1\x202.890611'+'442640554f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C3_2'+'\x20-0.457045'+'7994644658'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_')+('3\x200.373176'+'3325901154'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'4\x20-0.45704'+'5799464465'+'8f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C3'+'_5\x201.44530'+'5721320277'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C3_'+'6\x20-0.59004'+'3589926643'+'5f\x0a#endif\x0a'+'\x0a//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+'ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'vec3\x20evalS'+'H(in\x20Splat'+'Source\x20sou'+'rce,\x20in\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'[SH_COEFFS'+'];\x0a\x20\x20\x20\x20flo'+'at\x20scale;\x0a'+'\x20\x20\x20\x20readSH'+'Data(sourc'+'e,\x20sh,\x20sca'+'le);\x0a\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'dir.x;\x0a\x20\x20\x20'+'\x20float\x20y\x20='+'\x20dir.y;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20//\x201st'+'\x20degree\x0a\x20\x20'+'\x20\x20vec3\x20res'+'ult\x20=\x20SH_C'+'1\x20*\x20(-sh[0'+']\x20*\x20y\x20+\x20sh'+'[1]\x20*\x20z\x20-\x20'+'sh[2]\x20*\x20x)'+';\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20//\x202nd'+'\x20degree\x0a\x20\x20'+'\x20\x20float\x20xx'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20floa'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20fl'+'oat\x20xy\x20=\x20x'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20yz\x20='+'\x20y\x20*\x20z;\x0a\x20\x20'+'\x20\x20float\x20xz'+'\x20=\x20x\x20*\x20z;\x0a'+'\x0a\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[3]\x20*'+'\x20(SH_C2_0\x20'+'*\x20xy)\x20*\x20\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[4]\x20*\x20(SH'+'_C2_1\x20*\x20yz'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[5]\x20*\x20'+'(SH_C2_2\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[6]\x20*'+'\x20(SH_C2_3\x20'+'*\x20xz)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[7'+']\x20*\x20(SH_C2'+'_4\x20*\x20(xx\x20-'+'\x20yy));\x0a#en'+'dif\x0a\x0a#if\x20S'+'H_BANDS\x20>\x20'+'2\x0a\x20\x20\x20\x20//\x203'+'rd\x20degree\x0a'+'\x20\x20\x20\x20result'+'\x20+=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20\x20*'+'\x20(SH_C3_0\x20')+('*\x20y\x20*\x20(3.0'+'\x20*\x20xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[9]\x20\x20'+'*\x20(SH_C3_1'+'\x20*\x20xy\x20*\x20z)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[10]\x20*\x20'+'(SH_C3_2\x20*'+'\x20y\x20*\x20(4.0\x20'+'*\x20zz\x20-\x20xx\x20'+'-\x20yy))\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'11]\x20*\x20(SH_'+'C3_3\x20*\x20z\x20*'+'\x20(2.0\x20*\x20zz'+'\x20-\x203.0\x20*\x20x'+'x\x20-\x203.0\x20*\x20'+'yy))\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[12'+']\x20*\x20(SH_C3'+'_4\x20*\x20x\x20*\x20('+'4.0\x20*\x20zz\x20-'+'\x20xx\x20-\x20yy))'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[13]\x20*\x20'+'(SH_C3_5\x20*'+'\x20z\x20*\x20(xx\x20-'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20*\x20(SH_C'+'3_6\x20*\x20x\x20*\x20'+'(xx\x20-\x203.0\x20'+'*\x20yy));\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20res'+'ult\x20*\x20scal'+'e;\x0a}\x0a#endi'+'f\x0a'),hT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),cT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),dT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),uT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),fT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',pT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20A\x20=\x20dot('+'gaussianUV'+',\x20gaussian'+'UV);\x0a\x20\x20\x20\x20i'+'f\x20(A\x20>\x201.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20alpha\x0a'+'\x20\x20\x20\x20medium'+'p\x20float\x20al'+'pha\x20=\x20exp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+'Color.a;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20PICK_PASS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(alpha\x20<'+'\x200.3)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20uColor;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(alpha\x20<\x20'+'1.0\x20/\x20255.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dis'+'card;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20opa'+'cityDither'+'(alpha,\x20id'+'\x20*\x200.013);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(gauss'+'ianColor.x'+'yz\x20*\x20alpha'+',\x20alpha);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',mT='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),_T='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',gT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x0a\x20\x20\x20'+'\x20if(margin'+'al\x20>\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.w\x20*=\x20m'+'arginal;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20spherica'+'l\x20harmonic'+'s\x0a\x20\x20\x20\x20#if\x20'+'SH_BANDS\x20>'+'\x200\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20the\x20mo'+'del-space\x20'+'view\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'ize(center'+'.view\x20*\x20ma'+'t3(center.'+'modelView)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.xyz\x20+'+'=\x20evalSH(s'+'ource,\x20dir'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20c'+'lipCorner('+'corner,\x20cl'+'r.w);\x0a\x0a\x20\x20\x20'+'\x20//\x20pointC'+'loudMode\x0a\x20'+'\x20\x20\x20if\x20(poi'+'ntCloudMod'+'eEnabled\x20='+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20write\x20ou'+'tput\x0a\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20center.'+'proj\x20+\x20vec'+'4(corner.o'+'ffset,\x200,\x20'+'0);\x0a\x20\x20\x20\x20ga'+'ussianUV\x20='+'\x20corner.uv'+';\x0a\x20\x20\x20\x20gaus'+'sianColor\x20'+'=\x20vec4(pre'+'pareOutput'+'FromGamma('+'max(clr.xy'+'z,\x200.0)),\x20'+'clr.w);\x0a\x20\x20'+'\x20\x20gaussian'+'Color\x20=\x20cl'+'amp(gaussi'+'anColor,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20id\x20=\x20fl'+'oat(source'+'.id);\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a'),yT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),xT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',ST='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',vT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',bT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',wT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',TT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),ET='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',CT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',MT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),PT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',RT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',IT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',DT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),FT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),kT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',BT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',NT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',zT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),UT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',GT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',WT='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',$T='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',qT='\x0a',XT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',jT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',YT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',KT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',ZT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',QT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',eA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',tA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),sA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',nA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',aA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),oA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',lA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),hA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',cA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',dA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',uA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',fA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',pA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',mA='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',_A='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),gA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',yA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',xA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',vA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),bA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',wA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',TA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',AA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',EA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',CA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),MA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',PA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',RA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',IA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',DA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',LA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',FA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',kA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',BA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',NA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',zA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',UA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',VA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',HA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',WA='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',$A='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),XA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',jA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',YA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',KA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),ZA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+S0+'\x0a'+v0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),QA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),JA='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),eE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),tE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),iE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20Φ\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),rE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),nE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),aE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),oE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),lE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),hE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',cE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),dE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),uE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),fE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',pE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',mE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',_E='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',gE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',xE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',SE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',vE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',bE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',wE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',TE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',AE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',EE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',CE='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',ME='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',RE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',FE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),kE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',NE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',zE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',UE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',VE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',GE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',HE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',X={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':Ow,'cubeMapProjectBoxPS':kw,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':S0,'emissivePS':Ww,'encodePS':v0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':Jy,'gles3VS':e0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':dT,'gsplatColorVS':oT,'gsplatCommonVS':lT,'gsplatCompressedDataVS':hT,'gsplatCompressedSHVS':cT,'gsplatDataVS':uT,'gsplatOutputVS':fT,'gsplatPS':pT,'gsplatSHVS':mT,'gsplatSourceVS':_T,'gsplatVS':gT,'iridescenceDiffractionPS':yT,'iridescencePS':xT,'iridescenceThicknessPS':ST,'iorPS':vT,'lightDiffuseLambertPS':bT,'lightDirPointPS':wT,'lightmapAddPS':TT,'lightmapDirAddPS':AT,'lightmapDirPS':ET,'lightmapSinglePS':CT,'lightSpecularAnisoGGXPS':MT,'lightSpecularBlinnPS':PT,'lightSheenPS':RT,'linearizeDepthPS':IT,'litShaderArgsPS':DT,'ltcPS':LT,'metalnessPS':FT,'metalnessModulatePS':kT,'msdfPS':OT,'msdfVS':BT,'normalVS':NT,'normalCoreVS':zT,'normalDetailMapPS':UT,'normalMapPS':VT,'normalXYPS':GT,'normalXYZPS':HT,'opacityPS':WT,'opacityDitherPS':$T,'outputPS':qT,'outputAlphaPS':XT,'outputAlphaOpaquePS':jT,'outputAlphaPremulPS':YT,'outputTex2DPS':KT,'sheenPS':ZT,'sheenGlossPS':QT,'parallaxPS':JT,'particlePS':eA,'particleVS':tA,'particleAnimFrameClampVS':sA,'particleAnimFrameLoopVS':iA,'particleAnimTexVS':rA,'particleInputFloatPS':nA,'particleInputRgba8PS':aA,'particleOutputFloatPS':oA,'particleOutputRgba8PS':lA,'particleUpdaterAABBPS':hA,'particleUpdaterEndPS':cA,'particleUpdaterInitPS':dA,'particleUpdaterNoRespawnPS':uA,'particleUpdaterOnStopPS':fA,'particleUpdaterRespawnPS':pA,'particleUpdaterSpherePS':mA,'particleUpdaterStartPS':_A,'particle_billboardVS':gA,'particle_blendAddPS':yA,'particle_blendMultiplyPS':xA,'particle_blendNormalPS':SA,'particle_cpuVS':vA,'particle_cpu_endVS':bA,'particle_customFaceVS':wA,'particle_endPS':TA,'particle_endVS':AA,'particle_halflambertPS':EA,'particle_initVS':CA,'particle_lambertPS':MA,'particle_lightingPS':PA,'particle_localShiftVS':RA,'particle_meshVS':IA,'particle_normalVS':DA,'particle_normalMapPS':LA,'particle_pointAlongVS':FA,'particle_softPS':OA,'particle_softVS':kA,'particle_stretchVS':BA,'particle_TBNVS':NA,'particle_wrapVS':zA,'pickPS':UA,'reflDirPS':VA,'reflDirAnisoPS':GA,'reflectionCCPS':HA,'reflectionCubePS':WA,'reflectionEnvHQPS':$A,'reflectionEnvPS':qA,'reflectionSpherePS':XA,'reflectionSheenPS':jA,'refractionCubePS':YA,'refractionDynamicPS':KA,'reprojectPS':ZA,'sampleCatmullRomPS':QA,'screenDepthPS':JA,'shadowCascadesPS':eE,'shadowEVSMPS':tE,'shadowEVSMnPS':sE,'shadowPCSSPS':iE,'shadowSampleCoordPS':rE,'shadowSoftPS':nE,'shadowStandardPS':aE,'shadowStandardGL2PS':oE,'shadowVSM_commonPS':lE,'skinBatchVS':hE,'skinVS':cE,'skyboxPS':dE,'skyboxVS':uE,'specularPS':fE,'sphericalPS':pE,'specularityFactorPS':mE,'spotPS':_E,'startPS':gE,'startVS':yE,'startNineSlicedPS':xE,'startNineSlicedTiledPS':SE,'storeEVSMPS':vE,'tangentBinormalVS':bE,'TBNPS':wE,'TBNderivativePS':TE,'TBNObjectSpacePS':AE,'thicknessPS':EE,'tonemappingPS':CE,'tonemappingAcesPS':ME,'tonemappingAces2PS':PE,'tonemappingFilmicPS':RE,'tonemappingHejlPS':IE,'tonemappingLinearPS':DE,'tonemappingNeutralPS':LE,'tonemappingNonePS':FE,'transformVS':OE,'transformCoreVS':kE,'transformInstancingVS':BE,'transmissionPS':NE,'twoSidedLightingPS':zE,'uv0VS':UE,'uv1VS':VE,'viewDirPS':GE,'viewNormalVS':HE,'webgpuPS':t0,'webgpuVS':s0},b0=new Ot();function ka(_0x495610){const _0x56c8ac=b0['get'](_0x495610);return v['assert'](_0x56c8ac),_0x56c8ac;}function WE(_0x1ff391,_0x44dbb4){v['assert'](_0x44dbb4),b0['get'](_0x1ff391,()=>_0x44dbb4);}class It{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x33f556){const _0x7632b3=Array['from'](_0x33f556)['sort']((_0x8b80a8,_0x163f12)=>_0x8b80a8[-0x31*0x8c+0xaf3+0xfd9*0x1]>_0x163f12[0x100b*0x2+-0x6c0+-0x1956]?0x1722+0x226+-0x1947:-(0x1*-0x1933+-0x1*-0x1de3+0x4af*-0x1));return hn(JSON['stringify'](_0x7632b3));}}const $E=new Ot();class qE{constructor(_0xd79442,_0x2cb9f3,_0x1ad81d={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(v['assert'](/^[a-z]\w*$/i['test'](_0xd79442),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0xd79442),this['name']=_0xd79442,this['index']=_0x2cb9f3,Object['assign'](this,_0x1ad81d),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x3a921b;this['isShadow']?_0x3a921b='SHADOW':this['isForward']?_0x3a921b='FORWARD':this['index']===rl?_0x3a921b='DEPTH':this['index']===Oa&&(_0x3a921b='PICK'),this['defines']['set'](_0x3a921b+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Ks{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',-0x1*-0x233d+-0x3b*0x4f+-0x5*0x368);const _0x3c3dc8=(_0x65da08,_0x1fdffb,_0x5d98c1)=>{const _0x2aa269=this['allocate'](_0x65da08,_0x5d98c1);v['assert'](_0x2aa269['index']===_0x1fdffb);};_0x3c3dc8('forward',gn,{'isForward':!(-0x2*0x125f+-0x12b3*0x1+-0x3*-0x127b)}),_0x3c3dc8('prepass',il),_0x3c3dc8('depth',rl),_0x3c3dc8('pick',Oa),_0x3c3dc8('shadow',Rp);}static['get'](_0x22fc37){return v['assert'](_0x22fc37),$E['get'](_0x22fc37,()=>new Ks());}['allocate'](_0x30fa72,_0x51984b){let _0x9eb085=this['passesName'+'d']['get'](_0x30fa72);return _0x9eb085===void(-0x1*-0x26f5+0xd7d+0x112*-0x31)&&(_0x9eb085=new qE(_0x30fa72,this['nextIndex'],_0x51984b),this['passesName'+'d']['set'](_0x9eb085['name'],_0x9eb085),this['passesInde'+'xed'][_0x9eb085['index']]=_0x9eb085,this['nextIndex']++),_0x9eb085;}['getByIndex'](_0x28d8b4){const _0xc3b2ce=this['passesInde'+'xed'][_0x28d8b4];return v['assert'](_0xc3b2ce),_0xc3b2ce;}['getByName'](_0x2d4697){return this['passesName'+'d']['get'](_0x2d4697);}}function Is(_0x4e0ade,_0x5f5a6c,_0x2b2a88,_0x47a04,_0x3e2460,_0x1e6ab5=!(0x3*-0x62f+-0x248c+0x371a),_0x3bbe52={}){v['assert'](!(-0x1*0x1bc3+0x2066+-0x4a3*0x1)),typeof _0x1e6ab5=='boolean'?_0x3bbe52['useTransfo'+'rmFeedback']=_0x1e6ab5:typeof _0x1e6ab5=='object'&&(_0x3bbe52={..._0x3bbe52,..._0x1e6ab5});const _0x2e1235=ka(_0x4e0ade);let _0x280062=_0x2e1235['getCachedS'+'hader'](_0x47a04);return _0x280062||(_0x280062=new i0(_0x4e0ade,Mt['createDefi'+'nition'](_0x4e0ade,{..._0x3bbe52,'name':_0x47a04,'vertexCode':_0x5f5a6c,'fragmentCode':_0x2b2a88,'attributes':_0x3e2460})),_0x2e1235['setCachedS'+'hader'](_0x47a04,_0x280062)),_0x280062;}class XE extends It{constructor(_0x2babe8,_0x2df12d){super(),this['key']=_0x2babe8,this['shaderDefi'+'nition']=_0x2df12d;}['generateKe'+'y'](_0x2d3679){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x1bf33d,_0x1132cc){return this['shaderDefi'+'nition'];}}function jE(_0x59f776,_0x5d22c2){v['assert'](_0x59f776);const _0x20357b=_0x59f776['definition'],_0x260865=(_0x20357b['name']??'shader')+'-id-'+_0x59f776['id'],_0x57f0cd=new XE(_0x260865,_0x20357b),_0x40871b='shader',_0xe576ec=ka(_0x59f776['device']);v['assert'](!_0xe576ec['isRegister'+'ed'](_0x40871b)),_0xe576ec['register'](_0x40871b,_0x57f0cd);const _0xfe8ae8=_0xe576ec['getProgram'](_0x40871b,{},_0x5d22c2);return _0x59f776['definition']['shaderLang'+'uage']===Ph&&(_0xfe8ae8['meshUnifor'+'mBufferFor'+'mat']=_0x20357b['meshUnifor'+'mBufferFor'+'mat'],_0xfe8ae8['meshBindGr'+'oupFormat']=_0x20357b['meshBindGr'+'oupFormat']),_0xe576ec['unregister'](_0x40871b),_0xfe8ae8;}const Dp=(_0x1831a0,_0x5ec762)=>{const _0x18edf6=new Map(_0x1831a0['defines']);return _0x5ec762['cameraShad'+'erParams']['defines']['forEach']((_0x282768,_0x27c680)=>_0x18edf6['set'](_0x27c680,_0x282768)),Ks['get'](_0x5ec762['device'])['getByIndex'](_0x5ec762['pass'])['defines']['forEach']((_0x210e8d,_0x3bf1cd)=>_0x18edf6['set'](_0x3bf1cd,_0x210e8d)),_0x18edf6;},YE={'type':ar,'base':0x0,'count':0x4,'indexed':!(-0x7b*-0x29+0x1057+0xcd*-0x2d)},Va=new Q(),Ga=new Q(),pd=new Yy();class Nu{constructor(_0x439cb3){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x3e0a50=_0x439cb3['device'];if(this['shader']=_0x439cb3,v['assert'](_0x439cb3),_0x3e0a50['supportsUn'+'iformBuffe'+'rs']){const _0x21af77=new Yc();this['shader']=jE(_0x439cb3,_0x21af77);const _0x5e23e0=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x5e23e0&&(this['uniformBuf'+'fer']=new gp(_0x3e0a50,_0x5e23e0,!(0x5e1*-0x4+0x5e*0x59+-0x929)));const _0x1096b2=this['shader']['meshBindGr'+'oupFormat'];v['assert'](_0x1096b2),this['bindGroup']=new mp(_0x3e0a50,_0x1096b2),mn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x540e45,_0x2acd64;(_0x540e45=this['uniformBuf'+'fer'])==null||_0x540e45['destroy'](),this['uniformBuf'+'fer']=null,(_0x2acd64=this['bindGroup'])==null||_0x2acd64['destroy'](),this['bindGroup']=null;}['render'](_0x4fd7f6,_0x166993){const _0x239a0b=this['shader']['device'];G['pushGpuMar'+'ker'](_0x239a0b,'QuadRender'),_0x4fd7f6&&(Va['set'](_0x239a0b['vx'],_0x239a0b['vy'],_0x239a0b['vw'],_0x239a0b['vh']),Ga['set'](_0x239a0b['sx'],_0x239a0b['sy'],_0x239a0b['sw'],_0x239a0b['sh']),_0x166993=_0x166993??_0x4fd7f6,_0x239a0b['setViewpor'+'t'](_0x4fd7f6['x'],_0x4fd7f6['y'],_0x4fd7f6['z'],_0x4fd7f6['w']),_0x239a0b['setScissor'](_0x166993['x'],_0x166993['y'],_0x166993['z'],_0x166993['w'])),_0x239a0b['setVertexB'+'uffer'](_0x239a0b['quadVertex'+'Buffer'],-0x149e+0x19ef*-0x1+0x11*0x2bd);const _0x3e8346=this['shader'];if(_0x239a0b['setShader'](_0x3e8346),_0x239a0b['supportsUn'+'iformBuffe'+'rs']){_0x239a0b['setBindGro'+'up'](Dh,_0x239a0b['emptyBindG'+'roup']);const _0x4fee70=this['bindGroup'];_0x4fee70['update'](),_0x239a0b['setBindGro'+'up'](Xy,_0x4fee70);const _0x28e5fb=this['uniformBuf'+'fer'];_0x28e5fb?(_0x28e5fb['update'](pd),_0x239a0b['setBindGro'+'up'](Eu,pd['bindGroup'],pd['offsets'])):_0x239a0b['setBindGro'+'up'](Eu,_0x239a0b['emptyBindG'+'roup']);}_0x239a0b['draw'](YE),_0x4fd7f6&&(_0x239a0b['setViewpor'+'t'](Va['x'],Va['y'],Va['z'],Va['w']),_0x239a0b['setScissor'](Ga['x'],Ga['y'],Ga['z'],Ga['w'])),G['popGpuMark'+'er'](_0x239a0b);}}class KE extends ds{constructor(_0x35de54,_0x433782,_0xa59ad9,_0x40c34b){super(_0x35de54),this['quad']=_0x433782,this['rect']=_0xa59ad9,this['scissorRec'+'t']=_0x40c34b;}['execute'](){const {device:_0x328187}=this;G['pushGpuMar'+'ker'](_0x328187,this['name']+':'+this['quad']['shader']['name']),_0x328187['setCullMod'+'e'](mt),_0x328187['setDepthSt'+'ate'](as['NODEPTH']),_0x328187['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x328187);}}const ZE=new Q();function dn(_0x2f3b70,_0x1620b0,_0x1ccdee,_0x5ca7e9,_0xf75dc2){v['assert'](_0x1620b0!==void(-0xd2e+-0x8*-0x55+0xa86));const _0x39aa43=arguments[0x5df+0x2111+0x9*-0x453];v['call'](()=>{_0x39aa43!==void(0xb3b+0x211c+-0x2c57)&&v['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x3aa27d=new Nu(_0x1ccdee);_0x5ca7e9||(_0x5ca7e9=ZE,_0x5ca7e9['x']=-0xeb*0x25+0xb*-0x1a+0x503*0x7,_0x5ca7e9['y']=0xe*0x179+-0x1f*0x45+-0x49*0x2b,_0x5ca7e9['z']=_0x1620b0?_0x1620b0['width']:_0x2f3b70['width'],_0x5ca7e9['w']=_0x1620b0?_0x1620b0['height']:_0x2f3b70['height']);const _0x2bdaf6=new KE(_0x2f3b70,_0x3aa27d,_0x5ca7e9,_0xf75dc2);_0x2bdaf6['init'](_0x1620b0),_0x2bdaf6['colorOps']['clear']=!(-0x309+0x20ab+-0x1da1),_0x2bdaf6['depthStenc'+'ilOps']['clearDepth']=!(-0x16e1+-0x74f+0x3b*0x83),_0x2f3b70['isWebGPU']&&_0x1620b0===null&&_0x2f3b70['samples']>0x157*0x5+0x1*-0x756+0x2*0x52&&(_0x2bdaf6['colorOps']['store']=!(-0x437+0xa9*-0x4+-0x2d*-0x27)),_0x2bdaf6['render'](),_0x3aa27d['destroy']();}class zm{constructor(_0x1798fb,_0xa0f29e,_0x3a63db){c(this,'_aabb',new _e()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x1798fb,this['dynamic']=_0xa0f29e,this['batchGroup'+'Id']=_0x3a63db);}['destroy'](_0x412d23,_0x383f6f){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x412d23,_0x383f6f),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0xf11af4,_0x1b3bd6){for(let _0x579660=0xc*-0x14+0x23e8+-0x22f8;_0x579660<_0x1b3bd6['length'];_0x579660++){const _0x2d511d=_0xf11af4['layers']['getLayerBy'+'Id'](_0x1b3bd6[_0x579660]);_0x2d511d&&_0x2d511d['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x3bc514,_0x528128){for(let _0x5e0c43=-0x830*0x4+0x34e+-0x2*-0xeb9;_0x5e0c43<_0x528128['length'];_0x5e0c43++){const _0x30f121=_0x3bc514['layers']['getLayerBy'+'Id'](_0x528128[_0x5e0c43]);_0x30f121&&_0x30f121['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x1*-0x16eb+-0x6aa+-0x1041]['aabb']);for(let _0x18cd0a=-0xc*-0x204+0x334+-0x1b63;_0x18cd0a<this['origMeshIn'+'stances']['length'];_0x18cd0a++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x18cd0a]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x1302+0x772+0x2*-0xd3a;}get['model'](){v['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class et{constructor(_0x4df67a,_0x27faa7,_0x314b03,_0x47d6da,_0x54d01c=[Fi]){c(this,'_ui',!(-0x21d3+0xfe3+0x11f1)),c(this,'_sprite',!(0xb5*0x13+-0x2*0xec6+-0x80f*-0x2)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x4df67a,this['name']=_0x27faa7,this['dynamic']=_0x314b03,this['maxAabbSiz'+'e']=_0x47d6da,this['layers']=_0x54d01c);}}c(et,'MODEL','model'),c(et,'ELEMENT','element'),c(et,'SPRITE','sprite'),c(et,'RENDER','render');const Um=new q();class nl{constructor(_0x2da5d5){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x780+0x1a59+0x19*-0xc1),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x238d*-0x1+-0x7c8+0x2b56),this['_updateBef'+'oreCull']=!(-0x1*0x579+0xb4e+-0x5d5),_0x2da5d5&&this['initSkin'](_0x2da5d5));}set['rootBone'](_0x36e34b){this['_rootBone']=_0x36e34b;}get['rootBone'](){return this['_rootBone'];}['init'](_0x5b6987,_0x2666a0){const _0x3166c4=_0x2666a0*(0x1349+-0x20f0+0xdaa);let _0x1c6f6=Math['ceil'](Math['sqrt'](_0x3166c4));_0x1c6f6=N['roundUp'](_0x1c6f6,0x1d0c+-0xc18+-0x10f1);const _0x3e9777=Math['ceil'](_0x3166c4/_0x1c6f6);this['boneTextur'+'e']=new he(_0x5b6987,{'width':_0x1c6f6,'height':_0x3e9777,'format':Ke,'mipmaps':!(0xfb*0xb+-0x1c0*-0x7+-0x1708),'minFilter':de,'magFilter':de,'name':'skin'}),this['boneTextur'+'eSize']=[_0x1c6f6,_0x3e9777,(-0x14*-0x163+0x49*-0x1b+-0x1408)/_0x1c6f6,(0x520*0x3+0x4b4+-0x1413)/_0x3e9777],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':Fy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x3b9b45,_0x2cecab){this['rootBone']=_0x3b9b45;const _0x4d1296=this['skin'],_0x1e307d=[];for(let _0x2b3488=-0x1142+0x1dcd*-0x1+0x2f0f;_0x2b3488<_0x4d1296['boneNames']['length'];_0x2b3488++){const _0x418d59=_0x4d1296['boneNames'][_0x2b3488];let _0x468a35=_0x3b9b45['findByName'](_0x418d59);_0x468a35||(v['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x418d59+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x2cecab['name']+(',\x20rootBone'+':\x20')+_0x3b9b45['name']),_0x468a35=_0x2cecab),_0x1e307d['push'](_0x468a35);}this['bones']=_0x1e307d;}['initSkin'](_0x5d8c43){this['skin']=_0x5d8c43,this['bones']=[];const _0x4abe5c=_0x5d8c43['inverseBin'+'dPose']['length'];this['init'](_0x5d8c43['device'],_0x4abe5c),this['matrices']=[];for(let _0x5ace79=0x1*0x201b+-0x2333+0x318;_0x5ace79<_0x4abe5c;_0x5ace79++)this['matrices'][_0x5ace79]=new q();}['uploadBone'+'s'](_0xa10eba){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x454d63,_0x59a150){if(this['_skinUpdat'+'eIndex']!==_0x59a150){this['_skinUpdat'+'eIndex']=_0x59a150,Um['copy'](_0x454d63['getWorldTr'+'ansform']())['invert']();for(let _0x147887=this['bones']['length']-(0x242e+-0x1b6b*0x1+0x3b*-0x26);_0x147887>=0x1*0x1327+-0x1a5a+0x733;_0x147887--)this['matrices'][_0x147887]['mulAffine2'](Um,this['bones'][_0x147887]['getWorldTr'+'ansform']()),this['matrices'][_0x147887]['mulAffine2'](this['matrices'][_0x147887],this['skin']['inverseBin'+'dPose'][_0x147887]);}}['updateMatr'+'ices'](_0x277170,_0x382948){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x277170,_0x382948);}['updateMatr'+'ixPalette'](_0x1006a4,_0x11a81b){this['_updateMat'+'rices'](_0x1006a4,_0x11a81b);const _0x263ec4=this['matrixPale'+'tte'],_0x3a5d12=this['bones']['length'];for(let _0x55426b=-0x3b*0x80+0x17b3+0x5cd;_0x55426b<_0x3a5d12;_0x55426b++){const _0x5e6c3c=this['matrices'][_0x55426b]['data'],_0x1ad64c=_0x55426b*(-0x563+0x140+-0x15*-0x33);_0x263ec4[_0x1ad64c]=_0x5e6c3c[0x127a+-0x96+-0x5*0x394],_0x263ec4[_0x1ad64c+(0xd*0x17+-0xaff+0x9d5)]=_0x5e6c3c[0x189*-0x12+0x113f+0xa67],_0x263ec4[_0x1ad64c+(-0x2*-0xeef+-0x1acf+-0x30d)]=_0x5e6c3c[-0x13*-0x3b+0x11c*-0x8+-0x13*-0x3d],_0x263ec4[_0x1ad64c+(0x24da+0x22a1+-0x4778)]=_0x5e6c3c[-0x1*0xee5+-0xd10+-0x6b*-0x43],_0x263ec4[_0x1ad64c+(0x1*-0x2593+0x110b+0x148c)]=_0x5e6c3c[0x1eaa*-0x1+-0x1d3*-0x14+-0x1*0x5d1],_0x263ec4[_0x1ad64c+(-0x25bd*0x1+-0xb82*-0x2+0xebe)]=_0x5e6c3c[-0x422*0x1+-0x82f*0x1+0x2*0x62b],_0x263ec4[_0x1ad64c+(-0x237e+0x18*0x4a+-0x1f*-0xec)]=_0x5e6c3c[-0x3*-0xb5d+0x348+-0x2556],_0x263ec4[_0x1ad64c+(0x1e17+-0x23a4+0x594)]=_0x5e6c3c[-0x1*0xf02+-0x735+0x1644],_0x263ec4[_0x1ad64c+(0xf56+0x187e+0x11b*-0x24)]=_0x5e6c3c[-0x47*0x1+0x1db9+-0x1d70],_0x263ec4[_0x1ad64c+(-0x2128*-0x1+-0x11*0x1f5+0x2*0x13)]=_0x5e6c3c[0x1690+-0x394*0x1+0x97b*-0x2],_0x263ec4[_0x1ad64c+(0x490+0x2*0x62f+0x5e*-0x2e)]=_0x5e6c3c[0x1e18+0x777*0x2+-0x2cfc],_0x263ec4[_0x1ad64c+(-0x1999+0x22f7*-0x1+-0x1d*-0x217)]=_0x5e6c3c[-0xa9*-0x13+-0x2*0x1085+0x148d*0x1];}this['uploadBone'+'s'](this['skin']['device']);}}class Vm extends nl{constructor(_0x5935aa,_0x3c1e50,_0x43a7ae){super();const _0x51b972=_0x3c1e50['length'];this['init'](_0x5935aa,_0x51b972),this['device']=_0x5935aa,this['rootNode']=_0x43a7ae,this['bones']=_0x3c1e50;}['updateMatr'+'ices'](_0x181fa5,_0x47efe5){}['updateMatr'+'ixPalette'](_0x3082f5,_0x49826f){const _0x50fac1=this['matrixPale'+'tte'],_0x26af50=this['bones']['length'];for(let _0x3086a5=0x653+-0x695+-0xb*-0x6;_0x3086a5<_0x26af50;_0x3086a5++){const _0x50cd14=this['bones'][_0x3086a5]['getWorldTr'+'ansform']()['data'],_0x2c5281=_0x3086a5*(-0x5*0x82+-0x2306+0x259c);_0x50fac1[_0x2c5281]=_0x50cd14[0x26d8+0x220e+-0xe*0x535],_0x50fac1[_0x2c5281+(0x381+-0x24d9*-0x1+-0x2859)]=_0x50cd14[0x1*-0x944+0x7e0+0x168],_0x50fac1[_0x2c5281+(-0x12d9+-0x115+0x13f0)]=_0x50cd14[-0xc95+-0x16*0x154+0x29d5],_0x50fac1[_0x2c5281+(0x1d*-0x77+-0x20c3+0xf6b*0x3)]=_0x50cd14[0x1fbc+-0xdaf+0x1a3*-0xb],_0x50fac1[_0x2c5281+(0xa4*-0x26+-0xa80+0x5c*0x61)]=_0x50cd14[-0xc46+0x269c+0x7*-0x3c3],_0x50fac1[_0x2c5281+(-0x57e*-0x4+-0x1c65*-0x1+-0x2cc*0x12)]=_0x50cd14[0xb*-0x23b+0x23e0+-0xb52],_0x50fac1[_0x2c5281+(0x115*0x13+0xdb7*0x1+0x89*-0x40)]=_0x50cd14[-0x45*0x5+0x124a*-0x1+0x13ac],_0x50fac1[_0x2c5281+(-0x6c+0xa*-0x1a2+-0x5*-0x35b)]=_0x50cd14[0x2*-0x1189+0x1259+0x10c6],_0x50fac1[_0x2c5281+(-0xfa7*-0x2+-0xfd6*-0x1+-0x2f1c)]=_0x50cd14[-0xa3*-0x1f+-0x1273*-0x2+-0x38a1],_0x50fac1[_0x2c5281+(0x1f31*0x1+-0x21e+-0x1d0a)]=_0x50cd14[-0x799+0x207+0x598],_0x50fac1[_0x2c5281+(-0x636*0x2+0x9dd+-0x299*-0x1)]=_0x50cd14[-0x3*0xabd+-0x2*0x428+0x2891],_0x50fac1[_0x2c5281+(-0x1434+0x2285+-0xae*0x15)]=_0x50cd14[0x1*0x1b69+0x12c5+0xf60*-0x3];}this['uploadBone'+'s'](this['device']);}}let QE=-0xd6*-0xf+-0x3*-0xba9+0x2f85*-0x1;class Hs{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x662*-0x4+-0x261e+0x3fa7),this['verticesUs'+'age']=jt,this['indicesUsa'+'ge']=jt,this['maxVertice'+'s']=-0x15bf+0xce5*-0x1+0x4*0x8a9,this['maxIndices']=0xfbb*-0x1+0x631+0x98a,this['vertexCoun'+'t']=-0x19ed*-0x1+-0x11d8+0x815*-0x1,this['indexCount']=0x1*0x146b+-0xa8+-0x13c3*0x1,this['vertexStre'+'amsUpdated']=!(-0xb*-0x11+0x1c66+0xe90*-0x2),this['indexStrea'+'mUpdated']=!(0x17cb+-0x251f+0xd55),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0xda6a55,_0x120741){this['vertexCoun'+'t']?v['assert'](this['vertexCoun'+'t']===_0xda6a55,'Vertex\x20str'+'eam\x20'+_0x120741+'\x20has\x20'+_0xda6a55+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0xda6a55;}}c(Hs,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x2665+-0x1eba*-0x1+0x1*0x7ae),c(Hs,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x310*-0x2+-0x24b0+0xa31*0x3),c(Hs,'DEFAULT_CO'+'MPONENTS_U'+'V',0x3*-0xc7d+-0x259c+0x4b15),c(Hs,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x24f5*0x1+0x154*0x8+-0x9*0x549);class JE{constructor(_0x1536f0,_0xfee63a,_0x422404,_0x2d1608,_0x11cf8b){this['data']=_0x1536f0,this['componentC'+'ount']=_0xfee63a,this['dataType']=_0x422404,this['dataTypeNo'+'rmalize']=_0x2d1608,this['asInt']=_0x11cf8b;}}class Ie extends Gc{constructor(_0x46b3b4,_0x2a1ea){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x26e3+0xac*0x5+0x2387),c(this,'_aabb',new _e()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x1dc*0xc+0x40d+0x1*-0x1a5c)),c(this,'_storageVe'+'rtex',!(-0x1f*0xac+-0xd2+0x15a7)),(this['id']=QE++,v['assert'](_0x46b3b4,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x46b3b4,this['_storageIn'+'dex']=(_0x2a1ea==null?void(-0x5*-0x5e7+-0x1ed2+0x14f):_0x2a1ea['storageInd'+'ex'])||!(0xcc3*-0x1+0x1326*0x2+0xcc4*-0x2),this['_storageVe'+'rtex']=(_0x2a1ea==null?void(-0x177e+-0x1*-0x171d+0x61):_0x2a1ea['storageVer'+'tex'])||!(-0x12d9+0x3*-0x1a0+0xbdd*0x2));}static['fromGeomet'+'ry'](_0xcb5d1b,_0xe9a7c0,_0x3bf540={}){const _0x588548=new Ie(_0xcb5d1b,_0x3bf540),{positions:_0x338873,normals:_0x34e85c,tangents:_0x47db7c,colors:_0x1bfc14,uvs:_0x500b53,uvs1:_0x45fa19,blendIndices:_0x2cd71f,blendWeights:_0x238efa,indices:_0x2396a1}=_0xe9a7c0;return _0x338873&&_0x588548['setPositio'+'ns'](_0x338873),_0x34e85c&&_0x588548['setNormals'](_0x34e85c),_0x47db7c&&_0x588548['setVertexS'+'tream'](Zs,_0x47db7c,0xfaf+-0x44*-0xf+-0x1*0x13a7),_0x1bfc14&&_0x588548['setColors3'+'2'](_0x1bfc14),_0x500b53&&_0x588548['setUvs'](0x21fd+-0x45d+0xc*-0x278,_0x500b53),_0x45fa19&&_0x588548['setUvs'](0x1*-0x1cd+-0x376*0x3+0x4e*0x28,_0x45fa19),_0x2cd71f&&_0x588548['setVertexS'+'tream'](qt,_0x2cd71f,0x220*-0x7+0x10d5+-0x1*0x1f1,_0x2cd71f['length']/(0x611*-0x5+0x1f8c+-0x1*0x133),Kr),_0x238efa&&_0x588548['setVertexS'+'tream'](Ys,_0x238efa,-0x1*-0x2642+0x1*0x217b+-0x47b9),_0x2396a1&&_0x588548['setIndices'](_0x2396a1),_0x588548['update'](),_0x588548;}set['morph'](_0x4d6c27){_0x4d6c27!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x4d6c27,_0x4d6c27&&_0x4d6c27['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x4b6af1){this['_aabb']=_0x4b6af1,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x29961b=this['morph'];_0x29961b&&(this['morph']=null,_0x29961b['refCount']<-0x210d+-0x4*0x493+0x6*0x88f&&_0x29961b['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x412795=0x1af9+0x1086+-0x2b7f;_0x412795<this['indexBuffe'+'r']['length'];_0x412795++)this['_destroyIn'+'dexBuffer'](_0x412795);this['indexBuffe'+'r']['length']=-0x1*0x1409+0x3*0x996+-0x8b9,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x3c5836){this['indexBuffe'+'r'][_0x3c5836]&&(this['indexBuffe'+'r'][_0x3c5836]['destroy'](),this['indexBuffe'+'r'][_0x3c5836]=null);}['_initBoneA'+'abbs'](_0xd5bacc){this['boneAabb']=[],this['boneUsed']=[];let _0x31a99d,_0x4a8dc8,_0x33ed98,_0x22ef7e,_0x52c856;const _0x47cbd0=[],_0x4f80bd=[],_0x3e2e6b=this['boneUsed'],_0x28a8d3=this['skin']['boneNames']['length'];let _0x24ad9f,_0x308887,_0x52cd65;for(let _0x5eae3b=0x2362+-0x1085+0x1b7*-0xb;_0x5eae3b<_0x28a8d3;_0x5eae3b++)_0x47cbd0[_0x5eae3b]=new T(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x4f80bd[_0x5eae3b]=new T(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x3fbdcb=new go(this['vertexBuff'+'er']),_0x37ee44=_0x3fbdcb['element'][He],_0x4cbc76=_0x3fbdcb['element'][Ys],_0x36b028=_0x3fbdcb['element'][qt],_0x1884d7=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x2d8f74=-0xdd6*0x1+0x1c0a+-0x12f*0xc;_0x2d8f74<_0x1884d7;_0x2d8f74++){for(let _0x59375e=0xf11+0x4*-0x9a9+-0x47*-0x55;_0x59375e<-0x1*-0x172e+-0x6a5+-0x1085*0x1;_0x59375e++)if(_0x4cbc76['array'][_0x4cbc76['index']+_0x59375e]>0x164b+0xf94+-0x25df){const _0x2a0903=_0x36b028['array'][_0x36b028['index']+_0x59375e];if(_0x3e2e6b[_0x2a0903]=!(-0x5*0x197+0xb*-0x2f9+0x28a6),_0x31a99d=_0x37ee44['array'][_0x37ee44['index']],_0x4a8dc8=_0x37ee44['array'][_0x37ee44['index']+(0x295*-0x8+0x1*-0x1fe5+0x348e)],_0x33ed98=_0x37ee44['array'][_0x37ee44['index']+(-0x1ef0+0xde3+0x110f)],_0x22ef7e=_0x4f80bd[_0x2a0903],_0x52c856=_0x47cbd0[_0x2a0903],_0x52c856['x']>_0x31a99d&&(_0x52c856['x']=_0x31a99d),_0x52c856['y']>_0x4a8dc8&&(_0x52c856['y']=_0x4a8dc8),_0x52c856['z']>_0x33ed98&&(_0x52c856['z']=_0x33ed98),_0x22ef7e['x']<_0x31a99d&&(_0x22ef7e['x']=_0x31a99d),_0x22ef7e['y']<_0x4a8dc8&&(_0x22ef7e['y']=_0x4a8dc8),_0x22ef7e['z']<_0x33ed98&&(_0x22ef7e['z']=_0x33ed98),_0xd5bacc){let _0x57aeef=_0x24ad9f=_0x31a99d,_0x12df9a=_0x308887=_0x4a8dc8,_0x17cffd=_0x52cd65=_0x33ed98;for(let _0x147d3d=0x21a9+-0xe37*0x1+-0x1372;_0x147d3d<_0xd5bacc['length'];_0x147d3d++){const _0x334ce7=_0xd5bacc[_0x147d3d],_0x1c4814=_0x334ce7['deltaPosit'+'ions'][_0x2d8f74*(-0x1f1f+-0x8f*0x35+-0x3cbd*-0x1)],_0x5872d8=_0x334ce7['deltaPosit'+'ions'][_0x2d8f74*(-0x23f7+0x9e2+0x1a18)+(0x217a+0x1*0x37f+0x49f*-0x8)],_0x5cea64=_0x334ce7['deltaPosit'+'ions'][_0x2d8f74*(0x8a4+-0x2*0x6c6+-0x1*-0x4eb)+(0x2020+0x1cb6+-0x3cd4)];_0x1c4814<-0x26b+0x1554+-0x12e9?_0x57aeef+=_0x1c4814:_0x24ad9f+=_0x1c4814,_0x5872d8<-0x63*0x49+-0xbea+-0x1*-0x2825?_0x12df9a+=_0x5872d8:_0x308887+=_0x5872d8,_0x5cea64<-0x943+-0x1d4d+-0x269*-0x10?_0x17cffd+=_0x5cea64:_0x52cd65+=_0x5cea64;}_0x52c856['x']>_0x57aeef&&(_0x52c856['x']=_0x57aeef),_0x52c856['y']>_0x12df9a&&(_0x52c856['y']=_0x12df9a),_0x52c856['z']>_0x17cffd&&(_0x52c856['z']=_0x17cffd),_0x22ef7e['x']<_0x24ad9f&&(_0x22ef7e['x']=_0x24ad9f),_0x22ef7e['y']<_0x308887&&(_0x22ef7e['y']=_0x308887),_0x22ef7e['z']<_0x52cd65&&(_0x22ef7e['z']=_0x52cd65);}}_0x3fbdcb['next']();}const _0x4658a5=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x2898f2=>_0x2898f2['name']===He);if(_0x4658a5&&_0x4658a5['normalize']){const _0xcaaa08=((()=>{switch(_0x4658a5['dataType']){case Rc:return _0x4cf087=>Math['max'](_0x4cf087/(-0xa*-0x293+0x10d*0xf+-0x2*0x1481),-(-0x469+0x500+-0x96));case Kr:return _0x1cb503=>_0x1cb503/(-0x19c5*-0x1+-0xb1c*0x1+-0xdaa);case Ic:return _0x21ca44=>Math['max'](_0x21ca44/(0x7fb5+-0xabbe+0xac08),-(-0x2e1+-0x27a+0xc4*0x7));case el:return _0x5a5b31=>_0x5a5b31/(0x1f5a6+0x1*0x1720+-0x10cc7*0x1);default:return _0x2ec128=>_0x2ec128;}})());for(let _0x69d09a=0x24*-0x53+-0x13*-0xa1+-0x47;_0x69d09a<_0x28a8d3;_0x69d09a++)if(_0x3e2e6b[_0x69d09a]){const _0x5d683b=_0x47cbd0[_0x69d09a],_0xf6bf35=_0x4f80bd[_0x69d09a];_0x5d683b['set'](_0xcaaa08(_0x5d683b['x']),_0xcaaa08(_0x5d683b['y']),_0xcaaa08(_0x5d683b['z'])),_0xf6bf35['set'](_0xcaaa08(_0xf6bf35['x']),_0xcaaa08(_0xf6bf35['y']),_0xcaaa08(_0xf6bf35['z']));}}for(let _0x4fbed1=0x1*0x35e+-0xc8b+0x92d*0x1;_0x4fbed1<_0x28a8d3;_0x4fbed1++){const _0xb3eb1c=new _e();_0xb3eb1c['setMinMax'](_0x47cbd0[_0x4fbed1],_0x4f80bd[_0x4fbed1]),this['boneAabb']['push'](_0xb3eb1c);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new Hs(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x74f+-0x17f6+0x1f45&&this['indexBuffe'+'r'][0xfb5+-0x466*0x4+0x1e3]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x1ca*0xa+-0xb07+0x1*-0x6dd]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x2579*-0x1+-0xd*-0x14+0x2475]['numIndices']));}['clear'](_0x3c2af0,_0x5136b6,_0x51c41b=-0xfa9*-0x1+-0x2001+0x1058,_0x6abbb=0x375*0x9+-0x252a+0x60d*0x1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x79*0x1a+0x14bd*0x1+-0x873),this['_geometryD'+'ata']['maxVertice'+'s']=_0x51c41b,this['_geometryD'+'ata']['maxIndices']=_0x6abbb,this['_geometryD'+'ata']['verticesUs'+'age']=_0x3c2af0?jt:Th,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x5136b6?jt:Th;}['setVertexS'+'tream'](_0x408610,_0x5afdaa,_0x7fb599,_0x14aae2,_0x4d3292=Ee,_0x24903b=!(-0x122d+0x67*-0x56+-0x8*-0x699),_0x5baadc=!(0xc9*0x1b+0xb*0x368+-0x3aaa)){this['_initGeome'+'tryData']();const _0x1aaca5=_0x14aae2||_0x5afdaa['length']/_0x7fb599;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x1aaca5,_0x408610),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0xe9*0x22+0xf20+0xfd2),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x408610]=new JE(_0x5afdaa,_0x7fb599,_0x4d3292,_0x24903b,_0x5baadc);}['getVertexS'+'tream'](_0x57337a,_0x4d4189){let _0x16e2df=-0x24*-0xb+0x84d*-0x1+0x85*0xd,_0x38a6a6=!(-0x6*0x248+-0x1638+0x23e9);if(this['_geometryD'+'ata']){const _0x238d76=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x57337a];_0x238d76&&(_0x38a6a6=!(-0x1*-0x9d5+-0x17e2+-0x3*-0x4af),_0x16e2df=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x4d4189)?_0x4d4189['set'](_0x238d76['data']):(_0x4d4189['length']=-0x16f*0xf+-0x217*-0x5+0xb0e,_0x4d4189['push'](_0x238d76['data'])));}return _0x38a6a6||this['vertexBuff'+'er']&&(_0x16e2df=new go(this['vertexBuff'+'er'])['readData'](_0x57337a,_0x4d4189)),_0x16e2df;}['setPositio'+'ns'](_0x9d5c3d,_0x3c61ea=Hs['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x316bfd){this['setVertexS'+'tream'](He,_0x9d5c3d,_0x3c61ea,_0x316bfd,Ee,!(-0x2*-0x117b+-0x18d7+-0x172*0x7));}['setNormals'](_0x393934,_0x3642fc=Hs['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x466b68){this['setVertexS'+'tream'](Yt,_0x393934,_0x3642fc,_0x466b68,Ee,!(-0x1*-0x48f+0x44f*-0x2+-0x8*-0x82));}['setUvs'](_0x45a76a,_0x51b3e0,_0x4beca1=Hs['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x186b8b){this['setVertexS'+'tream'](om+_0x45a76a,_0x51b3e0,_0x4beca1,_0x186b8b,Ee,!(-0xe81+-0xc*-0x28a+-0xff6));}['setColors'](_0x16410c,_0x56e008=Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2c784d){this['setVertexS'+'tream'](At,_0x16410c,_0x56e008,_0x2c784d,Ee,!(0xce*-0x30+-0x119a+0x383b));}['setColors3'+'2'](_0x2f0f2a,_0x2bf188){this['setVertexS'+'tream'](At,_0x2f0f2a,Hs['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2bf188,Kr,!(0x76c+-0x8c9*0x3+0x12ef));}['setIndices'](_0x439fdc,_0x1c7d97){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x1*-0xd23+0x5fc+0x3d3*-0x5),this['_geometryD'+'ata']['indices']=_0x439fdc,this['_geometryD'+'ata']['indexCount']=_0x1c7d97||_0x439fdc['length'];}['getPositio'+'ns'](_0x1c112d){return this['getVertexS'+'tream'](He,_0x1c112d);}['getNormals'](_0x1736d3){return this['getVertexS'+'tream'](Yt,_0x1736d3);}['getUvs'](_0x35cc61,_0x32c1ab){return this['getVertexS'+'tream'](om+_0x35cc61,_0x32c1ab);}['getColors'](_0x47f2c5){return this['getVertexS'+'tream'](At,_0x47f2c5);}['getIndices'](_0x26b05e){let _0x3969e2=-0x218*-0x2+0x3e*-0x92+0xe4*0x23;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x5acd0d=this['_geometryD'+'ata']['indices'];if(_0x3969e2=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x26b05e))_0x26b05e['set'](_0x5acd0d);else{_0x26b05e['length']=-0x19f4+0x20c3+-0x15*0x53;for(let _0x381d43=0x619*-0x1+0x254d+-0x1f34,_0x3e8e52=_0x5acd0d['length'];_0x381d43<_0x3e8e52;_0x381d43++)_0x26b05e['push'](_0x5acd0d[_0x381d43]);}}else this['indexBuffe'+'r']['length']>-0xc38+-0x1a*0x33+-0x106*-0x11&&this['indexBuffe'+'r'][0x19ff+0xca6*-0x2+-0xb3]&&(_0x3969e2=this['indexBuffe'+'r'][0x197b*-0x1+0x34b*0x4+-0x1*-0xc4f]['readData'](_0x26b05e));return _0x3969e2;}['update'](_0x3b59c0=Ms,_0x493cb6=!(0x26a0+0x8b*0x5+0x13*-0x22d)){if(this['_geometryD'+'ata']){if(_0x493cb6){const _0xa0d524=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][He];_0xa0d524&&_0xa0d524['componentC'+'ount']===0x794*-0x1+-0x12eb+0x2*0xd41&&(this['_aabb']['compute'](_0xa0d524['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x589720=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x589720=!(-0x2122+0x882+0x18a0),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x589720&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0xb78677=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0xb78677=!(-0x8a*-0x16+0x8f1+-0x14cd),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0xb78677&&this['indexBuffe'+'r']['length']>0x7ad+-0x2612+0x1e65&&this['indexBuffe'+'r'][0x260f*0x1+0x1*-0x441+-0x21ce]&&(this['indexBuffe'+'r'][-0x13*0x1f7+0x7*0x3d6+0xa7b]['destroy'](),this['indexBuffe'+'r'][0x25e+-0x20bd+0x19*0x137]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x14e0+-0x1*-0xf45+-0x2425]['type']=_0x3b59c0,this['indexBuffe'+'r']['length']>-0x1*0x1e43+-0x1acc+0x390f&&this['indexBuffe'+'r'][-0x2*0x124+0xe53+-0xc0b]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x1*-0x1239+-0xe97+-0x5d*0xa]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0xbf9*0x2+-0x10d2+0x98*-0xc]['indexed']=!(-0xbe0+0x20a4+0x6ec*-0x3)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0xea1+-0x80e+-0x693]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x2*0x864+0x1717+-0x27df]['indexed']=!(-0x32d*-0x7+0x1*0x13e6+-0x20*0x151)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x2468+0x1*-0x169f+0x3b07,this['_geometryD'+'ata']['indexCount']=-0x1*0x4d+-0x232b+-0x46f*-0x8,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0xaf*0x9+0x11af+-0xb87*0x1),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x2078+0x264b+-0x46c2),this['_geometryD'+'ata']['recreate']=!(0x1739+-0x109e*0x1+-0xa*0xa9),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x4cea1e){const _0x1cc2bb=[];for(const _0x3ee2bd in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x133554=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x3ee2bd];_0x1cc2bb['push']({'semantic':_0x3ee2bd,'components':_0x133554['componentC'+'ount'],'type':_0x133554['dataType'],'normalize':_0x133554['dataTypeNo'+'rmalize'],'asInt':_0x133554['asInt']});}return new Et(this['device'],_0x1cc2bb,_0x4cea1e);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0xdc3057=this['_geometryD'+'ata']['maxVertice'+'s'],_0x15252a=this['_buildVert'+'exFormat'](_0xdc3057);this['vertexBuff'+'er']=new os(this['device'],_0x15252a,_0xdc3057,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x20738c=new go(this['vertexBuff'+'er']),_0x1b679a=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x570355 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x3ac0f8=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x570355];_0x20738c['writeData'](_0x570355,_0x3ac0f8['data'],_0x1b679a),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x570355];}_0x20738c['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x2588+0x1a93+0x1*-0x401b||!this['indexBuffe'+'r'][-0x22cb+0x97*0x1f+0x841*0x2]){const _0x4fd410=this['_geometryD'+'ata']['maxVertice'+'s'],_0x113e92=_0x4fd410>0x6*-0x139f+0xafb0+-0x3*-0x4203||_0x4fd410===0x1df9*-0x1+0x1*0x697+0x2*0xbb1?nr:Pi,_0x5ee24f=this['_storageIn'+'dex']?{'storage':!(-0x1*0x1ff9+-0x3*0x2a2+0x27df)}:void(0x16c3+-0x4*-0x404+-0x26d3);this['indexBuffe'+'r'][-0x7*0x1a3+0x5*-0xd6+0xfa3]=new lr(this['device'],_0x113e92,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x137*-0xb+-0x27+0x14*0xad),_0x5ee24f);}const _0x26b35d=this['_geometryD'+'ata']['indices'];_0x26b35d&&(this['indexBuffe'+'r'][0x1b59+0x6*0x313+0x13*-0x269]['writeData'](_0x26b35d,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x526838){_0x526838===Dr?this['generateWi'+'reframe']():_0x526838===Tl&&(this['primitive'][Tl]={'type':Mc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x8*-0x2fc+-0x778+-0x1068,'indexed':!(0x1*-0x746+-0x1ca+0x911*0x1)});}['updateRend'+'erStates'](){this['primitive'][Tl]&&this['prepareRen'+'derState'](Tl),this['primitive'][Dr]&&this['prepareRen'+'derState'](Dr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Dr);const _0x12949c=this['vertexBuff'+'er']['numVertice'+'s'],_0x20a6cc=[];let _0x34c942;if(this['indexBuffe'+'r']['length']>-0x187c+-0x2*-0x12c7+-0x689*0x2&&this['indexBuffe'+'r'][0x1628+-0x882+-0xda6]){const _0x22a143=[[-0x2005+-0x15ba+0x35bf*0x1,0x6*-0xbf+-0x11+0x48c],[0x1888+-0xbc7*-0x1+-0x244e,-0x8cc+-0x7b2+0x1080],[0xd2d*0x2+0x35*-0xb5+0xb21,0x6cb+0xf74*0x1+-0x163f]],_0x1d18ea=this['primitive'][yo]['base'],_0x4b4ecd=this['primitive'][yo]['count'],_0x143830=this['indexBuffe'+'r'][yo],_0x2a271a=new Lh[_0x143830['format']](_0x143830['storage']),_0x4456dd=new Set();for(let _0x409587=_0x1d18ea;_0x409587<_0x1d18ea+_0x4b4ecd;_0x409587+=-0x2*0x8e7+-0xf*0x139+0x2428)for(let _0x11ce50=-0x26d7+0x2e5+0x23f2*0x1;_0x11ce50<0x1*-0x12b2+-0xc91+0x1f46;_0x11ce50++){const _0x45e472=_0x2a271a[_0x409587+_0x22a143[_0x11ce50][-0x9de*-0x3+-0x1862*0x1+-0x8*0xa7]],_0x162b1e=_0x2a271a[_0x409587+_0x22a143[_0x11ce50][0x1805+-0x75*-0x47+0x3877*-0x1]],_0x384157=_0x45e472>_0x162b1e?_0x162b1e*_0x12949c+_0x45e472:_0x45e472*_0x12949c+_0x162b1e;_0x4456dd['has'](_0x384157)||(_0x4456dd['add'](_0x384157),_0x20a6cc['push'](_0x45e472,_0x162b1e));}_0x34c942=_0x143830['format'];}else{for(let _0x1136cc=-0x105d+0x2183*0x1+-0x1126*0x1;_0x1136cc<_0x12949c;_0x1136cc+=-0xc67*0x2+0x1b63+-0x292)_0x20a6cc['push'](_0x1136cc,_0x1136cc+(-0x1979+0xfd6+0x9a4),_0x1136cc+(-0x509+0x102d+-0xb23),_0x1136cc+(0x6*-0x432+-0x92+-0x1*-0x19c0),_0x1136cc+(0x2540+-0x1c52+0x23b*-0x4),_0x1136cc);_0x34c942=_0x20a6cc['length']>0x16512+-0x3995*-0x7+0xaba*-0x2f?nr:Pi;}const _0x41c0bd=new lr(this['vertexBuff'+'er']['device'],_0x34c942,_0x20a6cc['length']);new Lh[_0x41c0bd['format']](_0x41c0bd['storage'])['set'](_0x20a6cc),_0x41c0bd['unlock'](),this['primitive'][Dr]={'type':Pc,'base':0x0,'count':_0x20a6cc['length'],'indexed':!(0x9f*0x2+0x46*0x4+0xd*-0x2e)},this['indexBuffe'+'r'][Dr]=_0x41c0bd;}}const Gm=new q(),md=new T(),Hm=new se(),_d=new se(),Wm=new T(),$m=new T(),eC=new q(),tC=new se(),kt=new T(),Ha=new q(),Bt=new se(),An=new se(),qm=new q(),gd=new T(),El=new T();function Xm(_0x22dde9,_0x519f22){return _0x22dde9 instanceof Function?_0x22dde9:_0x42c693=>{let _0x53bb98=_0x42c693[_0x22dde9];return _0x53bb98 instanceof Function&&(_0x53bb98=_0x53bb98()),_0x53bb98===_0x519f22;};}function w0(_0x1bb2cb,_0x2b7cc7){if(_0x2b7cc7(_0x1bb2cb))return _0x1bb2cb;const _0x28e470=_0x1bb2cb['_children'],_0x5f38bd=_0x28e470['length'];for(let _0x50831f=-0x268d*0x1+0x2685+0x1*0x8;_0x50831f<_0x5f38bd;++_0x50831f){const _0x20571e=w0(_0x28e470[_0x50831f],_0x2b7cc7);if(_0x20571e)return _0x20571e;}return null;}class De extends ce{constructor(_0x4f0776='Untitled'){super(),c(this,'name'),c(this,'tags',new po(this)),c(this,'localPosit'+'ion',new T()),c(this,'localRotat'+'ion',new se()),c(this,'localScale',new T(-0x26b7+-0x47a*0x4+0x1*0x38a0,-0x7*-0x263+0x1*0xe2f+-0x1*0x1ee3,-0x1d*-0x67+-0x863*0x4+0x15e2)),c(this,'localEuler'+'Angles',new T()),c(this,'position',new T()),c(this,'rotation',new se()),c(this,'eulerAngle'+'s',new T()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(0x845*-0x1+0x1672+-0xe2c)),c(this,'_aabbVer',0xf96+0x18d+0x6b*-0x29),c(this,'_frozen',!(-0xed+-0xa1*0x6+0x1c*0x2b)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(-0x14d6+-0xfa7*-0x2+-0xa77)),c(this,'_worldScal'+'eSign',-0x2678+0x25*0x6+0x12cd*0x2),c(this,'_normalMat'+'rix',new js()),c(this,'_dirtyNorm'+'al',!(0x5*-0x133+-0x1*-0x11e3+0x2*-0x5f2)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',0xa7+-0x1aab+0x1a04),c(this,'_enabled',!(0x1*0xfa6+0x1410+-0x23b6)),c(this,'_enabledIn'+'Hierarchy',!(0xc*-0x305+0x6fb+0x1d42)),c(this,'scaleCompe'+'nsation',!(0x1601*-0x1+0x59a+-0xaf*-0x18)),this['name']=_0x4f0776;}get['right'](){return this['_right']||(this['_right']=new T()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new T()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new T()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x5b*0x2a+0x13d*-0x1a+-0x13*-0x27b));}get['normalMatr'+'ix'](){const _0x3c97be=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x3c97be['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0x11*0x1f3+-0x32b*0x6+0x8b1*0x6)),_0x3c97be;}set['enabled'](_0x42a42d){var _0x38e841;this['_enabled']!==_0x42a42d&&(this['_enabled']=_0x42a42d,(_0x42a42d&&((_0x38e841=this['_parent'])!=null&&_0x38e841['enabled'])||!_0x42a42d)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x42a42d));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x4cf246=this['_parent'];if(!_0x4cf246)return'';let _0x435d3f=this['name'];for(;_0x4cf246&&_0x4cf246['_parent'];)_0x435d3f=_0x4cf246['name']+'/'+_0x435d3f,_0x4cf246=_0x4cf246['_parent'];return _0x435d3f;}get['root'](){let _0x5830e0=this;for(;_0x5830e0['_parent'];)_0x5830e0=_0x5830e0['_parent'];return _0x5830e0;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x275323,_0x56fff1){_0x275323['_onHierarc'+'hyStateCha'+'nged'](_0x56fff1);const _0x371497=_0x275323['_children'];for(let _0x42d6a5=-0x23a2+0xf0b+-0x1*-0x1497,_0x38dec2=_0x371497['length'];_0x42d6a5<_0x38dec2;_0x42d6a5++)_0x371497[_0x42d6a5]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x371497[_0x42d6a5],_0x56fff1);}['_onHierarc'+'hyStateCha'+'nged'](_0x434136){this['_enabledIn'+'Hierarchy']=_0x434136,_0x434136&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0xd875c1){_0xd875c1['name']=this['name'];const _0x4fcb69=this['tags']['_list'];_0xd875c1['tags']['clear']();for(let _0x5e8459=0x1c27+0x1bab+-0x37d2;_0x5e8459<_0x4fcb69['length'];_0x5e8459++)_0xd875c1['tags']['add'](_0x4fcb69[_0x5e8459]);_0xd875c1['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0xd875c1['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0xd875c1['localScale']['copy'](this['localScale']),_0xd875c1['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0xd875c1['position']['copy'](this['position']),_0xd875c1['rotation']['copy'](this['rotation']),_0xd875c1['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0xd875c1['localTrans'+'form']['copy'](this['localTrans'+'form']),_0xd875c1['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0xd875c1['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0xd875c1['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0xd875c1['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0xd875c1['_aabbVer']=this['_aabbVer']+(-0x1b85+-0x494*0x7+0x3b92),_0xd875c1['_enabled']=this['_enabled'],_0xd875c1['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0xd875c1['_enabledIn'+'Hierarchy']=!(0xc69*0x3+0x2349+-0x4883*0x1);}['clone'](){const _0x1b0da5=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x1b0da5),_0x1b0da5;}['copy'](_0x91f20a){return _0x91f20a['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x1091fe=this['_children'];for(;_0x1091fe['length'];){const _0x4d8a26=_0x1091fe['pop']();_0x4d8a26['_parent']=null,_0x4d8a26['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x692f9a,_0x2820ce){const _0x5d86f0=[],_0x42e744=Xm(_0x692f9a,_0x2820ce);return this['forEach'](_0x4c6878=>{_0x42e744(_0x4c6878)&&_0x5d86f0['push'](_0x4c6878);}),_0x5d86f0;}['findOne'](_0x3ce87d,_0x4ef514){const _0x149e9c=Xm(_0x3ce87d,_0x4ef514);return w0(this,_0x149e9c);}['findByTag'](){const _0x19cb5d=arguments,_0x21bf51=[],_0x161f1c=(_0x3df258,_0x37eb50)=>{_0x37eb50&&_0x3df258['tags']['has'](..._0x19cb5d)&&_0x21bf51['push'](_0x3df258);for(let _0x17e069=-0x1286*-0x1+-0x52a*0x5+0x1d3*0x4;_0x17e069<_0x3df258['_children']['length'];_0x17e069++)_0x161f1c(_0x3df258['_children'][_0x17e069],!(0x11bc+-0x1c1f+0xa63));};return _0x161f1c(this,!(-0x7c8+0x2320+-0x1b57)),_0x21bf51;}['findByName'](_0xbc5aa5){return this['findOne']('name',_0xbc5aa5);}['findByPath'](_0x3e8a3b){const _0x5b7091=Array['isArray'](_0x3e8a3b)?_0x3e8a3b:_0x3e8a3b['split']('/');let _0x18a236=this;for(let _0x5c1c44=-0xe5+-0xa*0x201+-0x1*-0x14ef,_0x133892=_0x5b7091['length'];_0x5c1c44<_0x133892;++_0x5c1c44)if(_0x18a236=_0x18a236['children']['find'](_0x4f0d07=>_0x4f0d07['name']===_0x5b7091[_0x5c1c44]),!_0x18a236)return null;return _0x18a236;}['forEach'](_0x5bf90d,_0x3cee60){_0x5bf90d['call'](_0x3cee60,this);const _0x2d3358=this['_children'],_0xd39aa2=_0x2d3358['length'];for(let _0x29af66=-0xc7b+-0x245d+-0x2*-0x186c;_0x29af66<_0xd39aa2;++_0x29af66)_0x2d3358[_0x29af66]['forEach'](_0x5bf90d,_0x3cee60);}['isDescenda'+'ntOf'](_0x5c7d8a){let _0x353073=this['_parent'];for(;_0x353073;){if(_0x353073===_0x5c7d8a)return!(0x20*0x8+0x1a54+-0x1b54);_0x353073=_0x353073['_parent'];}return!(-0x240a+-0x1eaa+0x42b5);}['isAncestor'+'Of'](_0x1206ae){return _0x1206ae['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x4b6+0x11b5+-0xcfe*0x1)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new T()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x3*0x7c9+0x12*-0x1ed+-0x1357*-0x3&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x5b3593;(_0x5b3593=this['_parent'])==null||_0x5b3593['removeChil'+'d'](this);}['reparent'](_0xc97220,_0x221c45){this['remove'](),_0xc97220&&(_0x221c45>=0x4eb*0x5+0x888+-0x1*0x211f?_0xc97220['insertChil'+'d'](this,_0x221c45):_0xc97220['addChild'](this));}['setLocalEu'+'lerAngles'](_0x588625,_0x38e542,_0x2fd262){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x588625,_0x38e542,_0x2fd262),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x340916,_0x1309ae,_0x17323e){_0x340916 instanceof T?this['localPosit'+'ion']['copy'](_0x340916):this['localPosit'+'ion']['set'](_0x340916,_0x1309ae,_0x17323e),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x1be021,_0x1cb12e,_0x10a412,_0x217cb0){_0x1be021 instanceof se?this['localRotat'+'ion']['copy'](_0x1be021):this['localRotat'+'ion']['set'](_0x1be021,_0x1cb12e,_0x10a412,_0x217cb0),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x889ee7,_0x15135d,_0x4b951c){_0x889ee7 instanceof T?this['localScale']['copy'](_0x889ee7):this['localScale']['set'](_0x889ee7,_0x15135d,_0x4b951c),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x11*-0x187+-0x9*0x2a6+-0x6d*0x5),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x22d6b7=this['_parent'];for(;_0x22d6b7;)_0x22d6b7['_frozen']=!(-0x10+0x2152+-0x2141),_0x22d6b7=_0x22d6b7['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x1940+0x17a6+-0x30e5),this['_dirtyWorl'+'d']=!(0x1*0x2138+0x1*0x1604+-0x373c);for(let _0x4fc0e7=-0x3e3*-0x2+-0x445*-0x4+-0x18da;_0x4fc0e7<this['_children']['length'];_0x4fc0e7++)this['_children'][_0x4fc0e7]['_dirtyWorl'+'d']||this['_children'][_0x4fc0e7]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(-0x1218+-0x2425+0x363d),this['_worldScal'+'eSign']=-0xd4e*-0x1+0x20*-0x6d+-0x29*-0x2,this['_aabbVer']++;}['setPositio'+'n'](_0x347015,_0x183fe9,_0x3b5bb5){_0x347015 instanceof T?kt['copy'](_0x347015):kt['set'](_0x347015,_0x183fe9,_0x3b5bb5),this['_parent']===null?this['localPosit'+'ion']['copy'](kt):(Ha['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Ha['transformP'+'oint'](kt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x4b3de0,_0x58b070,_0x4884d6,_0x19c43f){if(_0x4b3de0 instanceof se?Bt['copy'](_0x4b3de0):Bt['set'](_0x4b3de0,_0x58b070,_0x4884d6,_0x19c43f),this['_parent']===null)this['localRotat'+'ion']['copy'](Bt);else{const _0x3d3944=this['_parent']['getRotatio'+'n']();An['copy'](_0x3d3944)['invert'](),this['localRotat'+'ion']['copy'](An)['mul'](Bt);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x5abc1e,_0x484995){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x5abc1e),this['localRotat'+'ion']['copy'](_0x484995);else{const _0x442cc4=this['_parent']['getWorldTr'+'ansform']();Ha['copy'](_0x442cc4)['invert'](),Ha['transformP'+'oint'](_0x5abc1e,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Ha)['mul'](_0x484995);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x1bb0e7,_0x1a89ef,_0x3235d3){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x1bb0e7,_0x1a89ef,_0x3235d3),this['_parent']!==null){const _0x120107=this['_parent']['getRotatio'+'n']();An['copy'](_0x120107)['invert'](),this['localRotat'+'ion']['mul2'](An,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x30512a){this['_prepareIn'+'sertChild'](_0x30512a),this['_children']['push'](_0x30512a),this['_onInsertC'+'hild'](_0x30512a);}['addChildAn'+'dSaveTrans'+'form'](_0x1c098e){const _0x8a99e1=_0x1c098e['getPositio'+'n'](),_0x548f84=_0x1c098e['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x1c098e),_0x1c098e['setPositio'+'n'](eC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x8a99e1)),_0x1c098e['setRotatio'+'n'](tC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x548f84)),this['_children']['push'](_0x1c098e),this['_onInsertC'+'hild'](_0x1c098e);}['insertChil'+'d'](_0x545b68,_0x2679e1){this['_prepareIn'+'sertChild'](_0x545b68),this['_children']['splice'](_0x2679e1,-0x172*0x15+0xeb*-0x28+0x55*0xca,_0x545b68),this['_onInsertC'+'hild'](_0x545b68);}['_prepareIn'+'sertChild'](_0x527142){_0x527142['remove'](),v['assert'](_0x527142!==this,'GraphNode\x20'+(_0x527142==null?void(0x206d+0x1*0xf3a+-0xb*0x455):_0x527142['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),v['assert'](!this['isDescenda'+'ntOf'](_0x527142),'GraphNode\x20'+(_0x527142==null?void(0xe5*0x28+-0x2a*0x89+-0x2*0x6a7):_0x527142['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x374534,_0x155cd1,_0x3e4d0a){this['fire'](_0x374534,_0x3e4d0a);for(let _0x294a28=-0x1*0x103d+0x24ac+-0x146f;_0x294a28<this['_children']['length'];_0x294a28++)this['_children'][_0x294a28]['_fireOnHie'+'rarchy'](_0x155cd1,_0x155cd1,_0x3e4d0a);}['_onInsertC'+'hild'](_0x4f98c9){_0x4f98c9['_parent']=this;const _0x42a2fe=_0x4f98c9['_enabled']&&this['enabled'];_0x4f98c9['_enabledIn'+'Hierarchy']!==_0x42a2fe&&(_0x4f98c9['_enabledIn'+'Hierarchy']=_0x42a2fe,_0x4f98c9['_notifyHie'+'rarchyStat'+'eChanged'](_0x4f98c9,_0x42a2fe)),_0x4f98c9['_updateGra'+'phDepth'](),_0x4f98c9['_dirtifyWo'+'rld'](),this['_frozen']&&_0x4f98c9['_unfreezeP'+'arentToRoo'+'t'](),_0x4f98c9['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x4f98c9);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x4ad+-0x1c99+0x17ed):-0x2696+-0x138a+-0x18*-0x26c;for(let _0x54ebb0=0x1fb0+-0x42*0x49+-0xcde,_0x2f7e63=this['_children']['length'];_0x54ebb0<_0x2f7e63;_0x54ebb0++)this['_children'][_0x54ebb0]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x2456ef){const _0x56678d=this['_children']['indexOf'](_0x2456ef);_0x56678d!==-(-0x3*-0x18d+0x2169+-0x260f)&&(this['_children']['splice'](_0x56678d,-0xbd4+0x7*0x495+-0x143e),_0x2456ef['_parent']=null,_0x2456ef['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x2456ef));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0xb26*0x1+-0x580*0x2+0x1627*0x1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x885fc;const _0xfdd96b=this['_parent'];let _0x2c3e23=this['localScale'],_0x505d6b=_0xfdd96b;if(_0x505d6b){for(;_0x505d6b&&_0x505d6b['scaleCompe'+'nsation'];)_0x505d6b=_0x505d6b['_parent'];_0x505d6b&&(_0x505d6b=_0x505d6b['_parent'],_0x505d6b&&(_0x885fc=_0x505d6b['worldTrans'+'form']['getScale'](),Wm['mul2'](_0x885fc,this['localScale']),_0x2c3e23=Wm));}_d['setFromMat'+'4'](_0xfdd96b['worldTrans'+'form']),Hm['mul2'](_d,this['localRotat'+'ion']);let _0x15b21c=_0xfdd96b['worldTrans'+'form'];_0xfdd96b['scaleCompe'+'nsation']&&($m['mul2'](_0x885fc,_0xfdd96b['getLocalSc'+'ale']()),Gm['setTRS'](_0xfdd96b['worldTrans'+'form']['getTransla'+'tion'](md),_d,$m),_0x15b21c=Gm),_0x15b21c['transformP'+'oint'](this['localPosit'+'ion'],md),this['worldTrans'+'form']['setTRS'](md,Hm,_0x2c3e23);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x1c2e*-0x1+-0x2157*-0x1+-0x528);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x199e+0x36a*-0x2+0x2072),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x3a1461=this['_children'];for(let _0x5bbd09=-0x6*0x2e3+-0x1d*-0x112+-0xdb8,_0x42f401=_0x3a1461['length'];_0x5bbd09<_0x42f401;_0x5bbd09++)_0x3a1461[_0x5bbd09]['syncHierar'+'chy']();}['lookAt'](_0x477535,_0x54cddd,_0x4cfc78,_0x471250=0x22a9+0x6b9*-0x3+-0x173*0xa,_0x430d23=-0xa71+-0x2*-0xe04+-0x1196,_0x8bfcc6=0x1*0x527+-0x5f+-0x4c8){if(_0x477535 instanceof T)gd['copy'](_0x477535),_0x54cddd instanceof T?El['copy'](_0x54cddd):El['copy'](T['UP']);else{if(_0x4cfc78===void(0x1*-0x1fb9+-0x617*-0x2+0x1*0x138b))return;gd['set'](_0x477535,_0x54cddd,_0x4cfc78),El['set'](_0x471250,_0x430d23,_0x8bfcc6);}qm['setLookAt'](this['getPositio'+'n'](),gd,El),Bt['setFromMat'+'4'](qm),this['setRotatio'+'n'](Bt);}['translate'](_0x3127cd,_0x26e65f,_0x3ebedd){_0x3127cd instanceof T?kt['copy'](_0x3127cd):kt['set'](_0x3127cd,_0x26e65f,_0x3ebedd),kt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](kt);}['translateL'+'ocal'](_0x16e6e8,_0x2a030e,_0xdcbb4c){_0x16e6e8 instanceof T?kt['copy'](_0x16e6e8):kt['set'](_0x16e6e8,_0x2a030e,_0xdcbb4c),this['localRotat'+'ion']['transformV'+'ector'](kt,kt),this['localPosit'+'ion']['add'](kt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x4c3504,_0x50346b,_0x140918){if(Bt['setFromEul'+'erAngles'](_0x4c3504,_0x50346b,_0x140918),this['_parent']===null)this['localRotat'+'ion']['mul2'](Bt,this['localRotat'+'ion']);else{const _0x26febf=this['getRotatio'+'n'](),_0x3a8e45=this['_parent']['getRotatio'+'n']();An['copy'](_0x3a8e45)['invert'](),Bt['mul2'](An,Bt),this['localRotat'+'ion']['mul2'](Bt,_0x26febf);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x1072cb,_0x4f5091,_0x1f98f5){Bt['setFromEul'+'erAngles'](_0x1072cb,_0x4f5091,_0x1f98f5),this['localRotat'+'ion']['mul'](Bt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const T0=new Ot();function al(_0x804240){const _0x368a43=T0['get'](_0x804240);return v['assert'](_0x368a43),_0x368a43;}function sC(_0x1de577,_0x4ed9cf){v['assert'](_0x4ed9cf),T0['get'](_0x1de577,()=>_0x4ed9cf);}class iC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x252144,_0x44b628)=>{_0x44b628['destroy']();}),this['cache']['clear']();}['incRef'](_0x45d1e2){const _0x78b5df=(this['cache']['get'](_0x45d1e2)||0x1*0x1633+-0x1ea7+0x874)+(0x1bb4+-0x1*0xb92+-0x1021);this['cache']['set'](_0x45d1e2,_0x78b5df);}['decRef'](_0x268cbe){if(_0x268cbe){let _0x133e02=this['cache']['get'](_0x268cbe);_0x133e02&&(_0x133e02--,_0x133e02===0x106d+-0x1381*-0x1+-0xbfa*0x3?(this['cache']['delete'](_0x268cbe),_0x268cbe['destroy']()):this['cache']['set'](_0x268cbe,_0x133e02));}}}class Si{static['incRef'](_0x79ebb7){this['cache']['incRef'](_0x79ebb7);}static['decRef'](_0x450d60){this['cache']['decRef'](_0x450d60);}static['destroy'](){this['cache']['destroy']();}}c(Si,'cache',new iC());let rC=0x1*0x17e0+0x2c*0xda+-0x3d58;const nC=new _e(),Cl=new _e(),yd=new Lf(),xd=new Set(),yr=new Uint32Array(0x213b+0xd4b+0x2*-0x1741);class aC{constructor(_0x1efc52){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0xad*-0x5+0xc89*-0x2+-0xc*-0x25f)),this['count']=_0x1efc52;}['destroy'](){var _0x5086c1;this['_destroyVe'+'rtexBuffer']&&((_0x5086c1=this['vertexBuff'+'er'])==null||_0x5086c1['destroy']()),this['vertexBuff'+'er']=null;}}class oC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x55ec7c){if(!this['bindGroup']){const _0x14285d=this['shader'];v['assert'](_0x14285d);const _0x45f57b=_0x14285d['meshBindGr'+'oupFormat'];v['assert'](_0x45f57b),this['bindGroup']=new mp(_0x55ec7c,_0x45f57b),mn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x418745){if(!this['uniformBuf'+'fer']){const _0x1e04f2=this['shader'];v['assert'](_0x1e04f2);const _0x4349fc=_0x1e04f2['meshUnifor'+'mBufferFor'+'mat'];v['assert'](_0x4349fc),this['uniformBuf'+'fer']=new gp(_0x418745,_0x4349fc,!(0x15b9+0x2f5*0x5+-0xf*0x26f));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x4949d4,_0x3423d0;(_0x4949d4=this['bindGroup'])==null||_0x4949d4['destroy'](),this['bindGroup']=null,(_0x3423d0=this['uniformBuf'+'fer'])==null||_0x3423d0['destroy'](),this['uniformBuf'+'fer']=null;}}const Vr=class Vr{constructor(_0x51662a,_0x318384,_0x49913f=null){c(this,'castShadow',!(0x2640+0xbbf*-0x1+0x1*-0x1a80)),c(this,'cull',!(0xd*-0x8b+0x1f*-0xf9+0x2*0x129b)),c(this,'drawOrder',0x73*0x3b+0x13ed*0x1+-0x2e6e),c(this,'node'),c(this,'visible',!(0x1adb+0x6ef+-0x21ca)),c(this,'visibleThi'+'sFrame',!(-0xdbd+-0x1*-0x1504+-0x746)),c(this,'flipFacesF'+'actor',0xeea+-0x1847+0x6d*0x16),c(this,'gsplatInst'+'ance',null),c(this,'id',rC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x10a4+-0xb6f*-0x3+0x21*-0x89)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x1*-0x240b+0x21d1*-0x1+0xf5*0x49)),c(this,'_aabb',new _e()),c(this,'_aabbVer',-(-0xe8d*-0x1+0x1426+0x2*-0x1159)),c(this,'_aabbMeshV'+'er',-(-0x19c3+-0xb8c+0x2550)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x4*-0x65f+-0x6d*0x1a+0x248e)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x2603+-0x1017+-0x15ec,0x259+-0x7*0x322+0x1395*0x1]),c(this,'_layer',c0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0x1ca9+0x33b*0x3+-0x265a)),c(this,'_renderSty'+'le',yo),c(this,'_screenSpa'+'ce',!(0x21d+-0x1898+-0x2*-0xb3e)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',hs<<0x1*-0x24cb+-0xc35+0x3110),c(this,'_calculate'+'SortDistan'+'ce',null);if(v['assert'](!(_0x51662a instanceof De),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x49913f,this['_mesh']=_0x51662a,_0x51662a['incRefCoun'+'t'](),this['material']=_0x318384,_0x51662a['vertexBuff'+'er']){const _0xf843db=_0x51662a['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0xf843db['hasUv0']?m0:-0x3*0x68e+-0x2fd*-0xc+0x566*-0x3,this['_shaderDef'+'s']|=_0xf843db['hasUv1']?_0:-0x92a+0x1667+-0xd3d,this['_shaderDef'+'s']|=_0xf843db['hasColor']?g0:-0x89f*-0x3+0x1332+-0x2d0f,this['_shaderDef'+'s']|=_0xf843db['hasTangent'+'s']?Mp:0x1fd3+0xb33*-0x2+-0x7f*0x13;}this['updateKey']();}set['renderStyl'+'e'](_0x539bb9){this['_renderSty'+'le']=_0x539bb9,this['mesh']['prepareRen'+'derState'](_0x539bb9);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x144bb3){_0x144bb3!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x144bb3,_0x144bb3&&_0x144bb3['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x3ac2be){this['_aabb']=_0x3ac2be;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x2a87d0=this['_customAab'+'b'],_0x291e16=!!_0x2a87d0;if(!_0x2a87d0){if(_0x2a87d0=nC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x1a0e2e=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x1a0e2e);}const _0x556f74=this['mesh']['boneUsed'];let _0x4f977e=!(-0x1*0x135a+-0x1a*-0xf1+0x1*-0x520);for(let _0x1a292a=0x7b5*0x3+-0x1282+-0x49d;_0x1a292a<this['mesh']['boneAabb']['length'];_0x1a292a++)_0x556f74[_0x1a292a]&&(Cl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x1a292a],this['skinInstan'+'ce']['matrices'][_0x1a292a]),_0x4f977e?(_0x4f977e=!(0x1145*0x1+0x4c4+-0x1608),_0x2a87d0['center']['copy'](Cl['center']),_0x2a87d0['halfExtent'+'s']['copy'](Cl['halfExtent'+'s'])):_0x2a87d0['add'](Cl));_0x291e16=!(0x133*-0xd+0x2*0xff3+0x5*-0x343);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x2a87d0['center']['copy'](this['mesh']['aabb']['center']),_0x2a87d0['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x2a87d0['center']['set'](0x1d*0x125+0x6*0x57c+-0x4219,0xc60+0x351*-0x6+0x12*0x6b,-0xa78+0x621*-0x1+0x1099),_0x2a87d0['halfExtent'+'s']['set'](-0x1*0x17a5+-0x3b+-0x4*-0x5f8,0x9e7+0x83*0x13+0x4*-0x4e8,0x80*0x40+0x1*0x1f8d+-0x3f8d)),this['mesh']&&this['mesh']['morph']){const _0x4b48bf=this['mesh']['morph']['aabb'];_0x2a87d0['_expand'](_0x4b48bf['getMin'](),_0x4b48bf['getMax']());}_0x291e16=!(-0x97*-0x29+-0x3*0x513+-0x8f6),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x291e16&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x2a87d0,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x1608c7=>{_0x1608c7['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x568998,_0x59ef40,_0x1e8aaf,_0x541bc0,_0x6f1d5f,_0x169028,_0x202779){var _0x208ec0;const _0x5be876=this['_shaderDef'+'s'];yr[-0x3b*-0x41+0x1af5+0x29f*-0x10]=_0x568998,yr[0x231+-0x96e+0x26a*0x3]=_0x59ef40,yr[0x12a6+-0x1a1e+0x21*0x3a]=_0x5be876,yr[-0x1317+0x1c6*-0x6+0x1dbe]=_0x541bc0['hash'];const _0x4662b1=Zy(yr);let _0x5ab864=this['_shaderCac'+'he']['get'](_0x4662b1);if(!_0x5ab864){const _0x2e6723=this['_material'];if(_0x5ab864=new oC(),_0x5ab864['shader']=_0x2e6723['variants']['get'](_0x4662b1),_0x5ab864['hashes']=new Uint32Array(yr),!_0x5ab864['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x1db3ed=_0x2e6723['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x1e8aaf,'objDefs':_0x5be876,'cameraShaderParams':_0x541bc0,'pass':_0x568998,'sortedLights':_0x202779,'viewUniformFormat':_0x6f1d5f,'viewBindGroupFormat':_0x169028,'vertexFormat':(_0x208ec0=this['mesh']['vertexBuff'+'er'])==null?void(0xb2a+-0x495+0x5*-0x151):_0x208ec0['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x2e6723['variants']['set'](_0x4662b1,_0x1db3ed),_0x5ab864['shader']=_0x1db3ed;}this['_shaderCac'+'he']['set'](_0x4662b1,_0x5ab864);}return v['call'](()=>{Wv['equals'](_0x5ab864['hashes'],yr)||v['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x5ab864;}set['material'](_0x50a633){this['clearShade'+'rs']();const _0x97db35=this['_material'];_0x97db35&&_0x97db35['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x50a633,_0x50a633&&(_0x50a633['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x50a633['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x144078){this['_layer']=_0x144078,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x546a11){_0x546a11!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x546a11,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x7481ce){this['_calculate'+'SortDistan'+'ce']=_0x7481ce;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x7cf6d6){this['_receiveSh'+'adow']!==_0x7cf6d6&&(this['_receiveSh'+'adow']=_0x7cf6d6,this['_updateSha'+'derDefs'](_0x7cf6d6?this['_shaderDef'+'s']&-(-0x760+0x2607+-0x1ea5):this['_shaderDef'+'s']|Ep));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x4b41c3){this['_updateSha'+'derDefs'](_0x4b41c3?this['_shaderDef'+'s']|Ou:this['_shaderDef'+'s']&-(0x15c5*0x1+0x5099+0x57b*-0x7));}get['batching'](){return(this['_shaderDef'+'s']&Ou)!==-0x5db*0x1+-0xf44+-0x1*-0x151f;}set['skinInstan'+'ce'](_0x514857){this['_skinInsta'+'nce']=_0x514857,this['_updateSha'+'derDefs'](_0x514857?this['_shaderDef'+'s']|Wc:this['_shaderDef'+'s']&-(0x17*-0xa+0x4f*-0x61+-0x18*-0x149)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x5a95eb){var _0x242d24;(_0x242d24=this['_morphInst'+'ance'])==null||_0x242d24['destroy'](),this['_morphInst'+'ance']=_0x5a95eb;let _0x582688=this['_shaderDef'+'s'];_0x582688=_0x5a95eb&&_0x5a95eb['morph']['morphPosit'+'ions']?_0x582688|qc:_0x582688&-(0x131c+-0x6*-0x4f+-0x10f5),_0x582688=_0x5a95eb&&_0x5a95eb['morph']['morphNorma'+'ls']?_0x582688|Xc:_0x582688&-(-0x1d*0x78+-0x2576+0x3b0f),_0x582688=_0x5a95eb&&_0x5a95eb['morph']['intRenderF'+'ormat']?_0x582688|jc:_0x582688&-(-0x1*-0x3e09+0x35cd*0x1+-0x53d5),this['_updateSha'+'derDefs'](_0x582688);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x4c4d64){this['_screenSpa'+'ce']!==_0x4c4d64&&(this['_screenSpa'+'ce']=_0x4c4d64,this['_updateSha'+'derDefs'](_0x4c4d64?this['_shaderDef'+'s']|Cp:this['_shaderDef'+'s']&-(0x1*-0x1c67+0x1f*0xb9+-0xb*-0xa3)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x406550){this['_key'][Ei]=_0x406550;}get['key'](){return this['_key'][Ei];}set['mask'](_0x266c17){const _0x51e573=this['_shaderDef'+'s']&0xf5e0+0x1b3de+-0x1a9bf;this['_updateSha'+'derDefs'](_0x51e573|_0x266c17<<-0x105+0x1*0x162d+-0x5*0x438);}get['mask'](){return this['_shaderDef'+'s']>>-0x232d+0x2*0x1322+-0x1*0x307;}set['instancing'+'Count'](_0x2b5bef){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x2b5bef);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0x23c7+0x2ce+-0x2695;}['destroy'](){var _0x863327,_0x4f5444,_0x15731f;const _0x3667ec=this['mesh'];_0x3667ec&&(this['mesh']=null,_0x3667ec['refCount']<-0x7f*0x25+-0x4ae*-0x1+0xdae&&_0x3667ec['destroy']()),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x4*-0x801+0x760*0x5+-0x44e4],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x33e+-0x22ac+0x25eb],null),(_0x863327=this['_skinInsta'+'nce'])==null||_0x863327['destroy'](),this['_skinInsta'+'nce']=null,(_0x4f5444=this['morphInsta'+'nce'])==null||_0x4f5444['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x15731f=this['instancing'+'Data'])==null||_0x15731f['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x17245d,_0x4811af){if(_0x17245d){for(let _0x229f10=0x25*-0x87+-0x4e2+-0x1*-0x1865;_0x229f10<_0x17245d['length'];_0x229f10++){_0x17245d[_0x229f10]['_renderSty'+'le']=_0x4811af;const _0x267ca8=_0x17245d[_0x229f10]['mesh'];xd['has'](_0x267ca8)||(xd['add'](_0x267ca8),_0x267ca8['prepareRen'+'derState'](_0x4811af));}xd['clear']();}}['_isVisible'](_0x18fb63){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x18fb63):(yd['center']=this['aabb']['center'],yd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x18fb63['frustum']['containsSp'+'here'](yd)>0x47*-0x2b+0x179b+0x1*-0xbae):!(0xbf5*-0x3+0x20cb+0x315);}['updateKey'](){const _0x86aa51=this['material'],_0x35a7ec=_0x86aa51['alphaToCov'+'erage']||_0x86aa51['alphaTest']?Kt:_0x86aa51['blendType'];this['_key'][Ei]=(this['layer']&-0x1e8f*-0x1+0x1*-0x164f+-0x831)<<-0x1*-0x536+0x112c+-0x1647|(_0x35a7ec===is?-0x261f+-0x944+0x2f64:0x1146+0x1*-0x1e77+-0x1*-0xd31)<<-0x21fe+-0xa*-0x1d+0x20f6|(_0x86aa51['id']&-0x3*-0x10f99ea+-0x67d386+-0xc6fa39)<<-0x1a*0x1d+-0x37*-0x7+0x3*0x7b;}['setInstanc'+'ing'](_0x518696,_0x4ba402=!(0x1*0x14a7+0x1a55+-0xfa9*0x3)){_0x518696?(this['instancing'+'Data']=new aC(_0x518696['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x518696,_0x518696['format']['instancing']=!(0x1f5*0x8+-0x5*0x4fd+0x949),this['cull']=_0x4ba402):(this['instancing'+'Data']=null,this['cull']=!(0x18e*-0x14+-0x191d+0x3835)),this['_updateSha'+'derDefs'](_0x518696?this['_shaderDef'+'s']|$c:this['_shaderDef'+'s']&-(0x5*-0x199+-0xed5*-0x2+-0x158c));}['ensureMate'+'rial'](_0x4bb5ed){this['material']||(v['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=al(_0x4bb5ed));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x5b99fb){return this['parameters'][_0x5b99fb];}['setParamet'+'er'](_0x26f426,_0x29ca90,_0x61adb0=0x13d89d927+-0x1c7a156f7+0x18a177dcf){const _0x45e08f=this['parameters'][_0x26f426];_0x45e08f?(_0x45e08f['data']=_0x29ca90,_0x45e08f['passFlags']=_0x61adb0):this['parameters'][_0x26f426]={'scopeId':null,'data':_0x29ca90,'passFlags':_0x61adb0};}['setRealtim'+'eLightmap'](_0x5838e7,_0x710eb5){const _0x27b73e=this['getParamet'+'er'](_0x5838e7);_0x27b73e!==_0x710eb5&&(_0x27b73e&&Si['decRef'](_0x27b73e['data']),_0x710eb5?(Si['incRef'](_0x710eb5),this['setParamet'+'er'](_0x5838e7,_0x710eb5)):this['deletePara'+'meter'](_0x5838e7));}['deletePara'+'meter'](_0x494c3f){this['parameters'][_0x494c3f]&&delete this['parameters'][_0x494c3f];}['setParamet'+'ers'](_0xff2672,_0x57139d){const _0x3f6317=this['parameters'];for(const _0x14fed5 in _0x3f6317){const _0x4c9682=_0x3f6317[_0x14fed5];_0x4c9682['passFlags']&_0x57139d&&(_0x4c9682['scopeId']||(_0x4c9682['scopeId']=_0xff2672['scope']['resolve'](_0x14fed5)),_0x4c9682['scopeId']['setValue'](_0x4c9682['data']));}}['setLightma'+'pped'](_0x5b07d1){_0x5b07d1?this['mask']=(this['mask']|cr)&-(-0x2*-0x8a+-0x108d+0xf7f):(this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1e43+0x1*-0x427+0x226a*0x1],null),this['setRealtim'+'eLightmap'](Vr['lightmapPa'+'ramNames'][-0x1166+0x11*-0xa3+-0xe1d*-0x2],null),this['_shaderDef'+'s']&=-(0x97d*-0x2+-0x1a6+0x2561*0x1),this['mask']=(this['mask']|hs)&-(-0x1*0xa13+-0xa81+0xd3*0x19));}['setCustomA'+'abb'](_0x2227af){_0x2227af?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x2227af):this['_customAab'+'b']=_0x2227af['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x2*0x10e7+-0x11*0x1c6+0x3ff5)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Vr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Le=Vr;const lC=[-0x79*0x21+0x1*0xa1f+0x2bd*0x2,0x1684+0x57a+-0x5*0x599,0x2b*-0x4d+-0x415+0x1107,-0x22+-0x385*-0x5+0x1175*-0x1,-0xb50+-0x24a0*0x1+-0x19*-0x1eb,0x1a59*-0x1+-0x1*0x7e3+0x1*0x223d],hC=[0x118a+0x3*0xb45+-0x3359,-0x2b4+0x2*0x96e+0x1027*-0x1,0x23b2+0x1ed*-0xd+-0xaa6,0x1*-0x1bca+0x1999+-0x3*-0xbb,0xe*-0x21b+-0x2087+-0x54*-0xbd,-0xe36+0x9d1+0x467],jm=new js();function Ym(_0x17ae21,_0x45040b){if(_0x17ae21&&!_0x45040b||!_0x17ae21&&_0x45040b)return!(-0x1f1f+-0x1d8*-0x14+0x2*-0x2e0);if(_0x17ae21=_0x17ae21['data'],_0x45040b=_0x45040b['data'],_0x17ae21===_0x45040b)return!(0x13fc+-0x13f2+0x1*-0xa);if(_0x17ae21 instanceof Float32Array&&_0x45040b instanceof Float32Array){if(_0x17ae21['length']!==_0x45040b['length'])return!(0x832*0x2+-0x1426*0x1+-0x1*-0x3c3);for(let _0x761d0f=-0x2b7+-0x3*-0x2b3+-0x2*0x2b1;_0x761d0f<_0x17ae21['length'];_0x761d0f++)if(_0x17ae21[_0x761d0f]!==_0x45040b[_0x761d0f])return!(-0x2492+-0x123f+0x923*0x6);return!(0x204b*0x1+-0x17a0+-0x8ab);}return!(-0x41b*0x1+0x7*-0x31c+-0xcf*-0x20);}function cC(_0x100e0d,_0x212882){for(const _0xe3a06c in _0x100e0d)if(_0x100e0d['hasOwnProp'+'erty'](_0xe3a06c)&&!Ym(_0x100e0d[_0xe3a06c],_0x212882[_0xe3a06c]))return!(0x780*-0x4+-0x49d*-0x7+0x24a*-0x1);for(const _0x4b255d in _0x212882)if(_0x212882['hasOwnProp'+'erty'](_0x4b255d)&&!Ym(_0x212882[_0x4b255d],_0x100e0d[_0x4b255d]))return!(0x1*-0x26c5+0x243f+0x287);return!(0x561*0x3+-0x12db*0x2+0x1593*0x1);}function Sd(_0x3524b2){return _0x3524b2['node']['worldTrans'+'form']['scaleSign'];}class dC{constructor(_0x14aa35,_0x24557a,_0x3e1636){this['device']=_0x14aa35,this['rootNode']=_0x24557a,this['scene']=_0x3e1636,this['_init']=!(-0xfd3+-0x247e+0x4a*0xb5),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x1*0xdce+0x7*-0x1c8+-0x156,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0xf660a8,_0x25201f,_0x1ad793,_0x17be52,_0x1967ef){if(_0x17be52===void(0x7*0x564+-0xcc4*-0x2+-0x3f44)&&(_0x17be52=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x17be52]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x17be52+('\x20already\x20e'+'xists.'));return;}const _0x2c3666=new et(_0x17be52,_0xf660a8,_0x25201f,_0x1ad793,_0x1967ef);return this['_batchGrou'+'ps'][_0x17be52]=_0x2c3666,_0x2c3666;}['removeGrou'+'p'](_0x2e0536){if(!this['_batchGrou'+'ps'][_0x2e0536]){v['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x2e0536+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x2f549d=[];for(let _0x5d8bb4=-0x176*0x11+-0x15eb*0x1+0x2ec1;_0x5d8bb4<this['_batchList']['length'];_0x5d8bb4++)this['_batchList'][_0x5d8bb4]['batchGroup'+'Id']===_0x2e0536?this['destroyBat'+'ch'](this['_batchList'][_0x5d8bb4]):_0x2f549d['push'](this['_batchList'][_0x5d8bb4]);this['_batchList']=_0x2f549d,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x2e0536),delete this['_batchGrou'+'ps'][_0x2e0536];}['markGroupD'+'irty'](_0x43b398){this['_dirtyGrou'+'ps']['indexOf'](_0x43b398)<0x73d+0x1aaf+-0x21ec&&this['_dirtyGrou'+'ps']['push'](_0x43b398);}['getGroupBy'+'Name'](_0x361ffb){const _0x1bdab4=this['_batchGrou'+'ps'];for(const _0x9dd32 in _0x1bdab4)if(_0x1bdab4['hasOwnProp'+'erty'](_0x9dd32)&&_0x1bdab4[_0x9dd32]['name']===_0x361ffb)return _0x1bdab4[_0x9dd32];return null;}['getBatches'](_0x2514bb){const _0x38229c=[],_0x2193ef=this['_batchList']['length'];for(let _0x487893=-0x62*-0x7+-0xc82+0x9d4;_0x487893<_0x2193ef;_0x487893++){const _0x5354b=this['_batchList'][_0x487893];_0x5354b['batchGroup'+'Id']===_0x2514bb&&_0x38229c['push'](_0x5354b);}return _0x38229c;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3a5ff5,_0x292f5e){if(_0x3a5ff5['enabled']){_0x3a5ff5['model']&&_0x3a5ff5['model']['batchGroup'+'Id']===_0x292f5e&&(_0x3a5ff5['model']['batchGroup'+'Id']=-(-0x92a+0x1fc6+-0x169b)),_0x3a5ff5['render']&&_0x3a5ff5['render']['batchGroup'+'Id']===_0x292f5e&&(_0x3a5ff5['render']['batchGroup'+'Id']=-(-0x2ed*-0x1+0x412+-0x6fe)),_0x3a5ff5['element']&&_0x3a5ff5['element']['batchGroup'+'Id']===_0x292f5e&&(_0x3a5ff5['element']['batchGroup'+'Id']=-(0x1bc+-0x1*0x2c5+-0x2*-0x85)),_0x3a5ff5['sprite']&&_0x3a5ff5['sprite']['batchGroup'+'Id']===_0x292f5e&&(_0x3a5ff5['sprite']['batchGroup'+'Id']=-(-0x1*0x1e7+0x20e*-0x11+-0x24d6*-0x1));for(let _0x2db3af=-0x1*0x1e17+-0x1d59+0x3b70;_0x2db3af<_0x3a5ff5['_children']['length'];_0x2db3af++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3a5ff5['_children'][_0x2db3af],_0x292f5e);}}['insert'](_0x49ac7e,_0x38f4d1,_0x6bb9a8){const _0x507897=this['_batchGrou'+'ps'][_0x38f4d1];v['assert'](_0x507897,'Invalid\x20ba'+'tch\x20'+_0x38f4d1+'\x20insertion'),_0x507897&&_0x507897['_obj'][_0x49ac7e]['indexOf'](_0x6bb9a8)<-0x190*-0x15+-0x2*0x9c3+-0x6a5*0x2&&(_0x507897['_obj'][_0x49ac7e]['push'](_0x6bb9a8),this['markGroupD'+'irty'](_0x38f4d1));}['remove'](_0x31cadf,_0x3ff650,_0x3830a5){const _0x3b1718=this['_batchGrou'+'ps'][_0x3ff650];if(v['assert'](_0x3b1718,'Invalid\x20ba'+'tch\x20'+_0x3ff650+'\x20insertion'),_0x3b1718){const _0xbc3e61=_0x3b1718['_obj'][_0x31cadf]['indexOf'](_0x3830a5);_0xbc3e61>=-0x1*-0x13d9+-0x1*-0x647+-0x688*0x4&&(_0x3b1718['_obj'][_0x31cadf]['splice'](_0xbc3e61,0x19*0x4d+0xbcb*-0x2+-0x79*-0x22),this['markGroupD'+'irty'](_0x3ff650));}}['_extractRe'+'nder'](_0x27c653,_0x3a8def,_0x512e9,_0x31a186){return _0x27c653['render']&&(_0x3a8def=_0x31a186[_0x27c653['render']['batchGroup'+'Id']]=_0x3a8def['concat'](_0x27c653['render']['meshInstan'+'ces']),_0x27c653['render']['removeFrom'+'Layers']()),_0x3a8def;}['_extractMo'+'del'](_0x44d647,_0xfd97ba,_0x2b23c3,_0x580e69){return _0x44d647['model']&&_0x44d647['model']['model']&&(_0xfd97ba=_0x580e69[_0x44d647['model']['batchGroup'+'Id']]=_0xfd97ba['concat'](_0x44d647['model']['meshInstan'+'ces']),_0x44d647['model']['removeMode'+'lFromLayer'+'s'](),_0x44d647['model']['_batchGrou'+'p']=_0x2b23c3),_0xfd97ba;}['_extractEl'+'ement'](_0x296ba3,_0x8807b7,_0x570edb){if(!_0x296ba3['element'])return;let _0x23407b=!(-0x1307+-0x8b6*-0x1+-0x1*-0xa52);_0x296ba3['element']['_text']&&_0x296ba3['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x5*-0x35b+0x1e09+0x2*-0x1768?(_0x8807b7['push'](_0x296ba3['element']['_text']['_model']['meshInstan'+'ces'][-0x1532*-0x1+-0x122d+-0x305]),_0x296ba3['element']['removeMode'+'lFromLayer'+'s'](_0x296ba3['element']['_text']['_model']),_0x23407b=!(0x2564*0x1+0x1703+-0x149*0x2f)):_0x296ba3['element']['_image']&&(_0x8807b7['push'](_0x296ba3['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x296ba3['element']['removeMode'+'lFromLayer'+'s'](_0x296ba3['element']['_image']['_renderabl'+'e']['model']),_0x296ba3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x8807b7['push'](_0x296ba3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x296ba3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x296ba3['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x296ba3['element']['_dirtifyMa'+'sk'](),_0x296ba3['element']['_onPrerend'+'er']())),_0x23407b=!(-0x4*-0x953+0x114e+-0x369a)),_0x23407b&&(_0x570edb['_ui']=!(0x2c1*0xd+-0xa*-0x18a+-0x3331),_0x296ba3['element']['_batchGrou'+'p']=_0x570edb);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x3a1c8a,_0x32d92e){for(let _0x209104=-0x2fe+0x12f7+0x8d*-0x1d;_0x209104<_0x32d92e['length'];_0x209104++){const _0xb481f4=_0x32d92e[_0x209104],_0x28004e=this['_batchGrou'+'ps'][_0xb481f4];if(!_0x28004e)continue;let _0x123a5a=_0x3a1c8a[_0xb481f4];_0x123a5a||(_0x123a5a=_0x3a1c8a[_0xb481f4]=[]);for(let _0x5277fa=-0x1871*0x1+0x1ead*0x1+-0x63c;_0x5277fa<_0x28004e['_obj']['model']['length'];_0x5277fa++)_0x123a5a=this['_extractMo'+'del'](_0x28004e['_obj']['model'][_0x5277fa],_0x123a5a,_0x28004e,_0x3a1c8a);for(let _0xdcb834=0x100b+0x2dd*-0xc+0x1251;_0xdcb834<_0x28004e['_obj']['render']['length'];_0xdcb834++)_0x123a5a=this['_extractRe'+'nder'](_0x28004e['_obj']['render'][_0xdcb834],_0x123a5a,_0x28004e,_0x3a1c8a);for(let _0x215538=-0x611*0x2+-0x11db+0x9ff*0x3;_0x215538<_0x28004e['_obj']['element']['length'];_0x215538++)this['_extractEl'+'ement'](_0x28004e['_obj']['element'][_0x215538],_0x123a5a,_0x28004e);for(let _0x151836=0x50e+0x35*0x32+-0xf68;_0x151836<_0x28004e['_obj']['sprite']['length'];_0x151836++){const _0x52971f=_0x28004e['_obj']['sprite'][_0x151836];_0x52971f['sprite']&&_0x52971f['sprite']['_meshInsta'+'nce']&&(_0x28004e['dynamic']||_0x52971f['sprite']['sprite']['_renderMod'+'e']===Ti)&&(_0x123a5a['push'](_0x52971f['sprite']['_meshInsta'+'nce']),_0x52971f['sprite']['removeMode'+'lFromLayer'+'s'](),_0x28004e['_sprite']=!(-0x6*-0x484+-0x2644+-0xdc*-0xd),_0x52971f['sprite']['_batchGrou'+'p']=_0x28004e);}}}['generate'](_0x238834){const _0x2c7530={};_0x238834||(_0x238834=Object['keys'](this['_batchGrou'+'ps']));const _0x5bfc05=[];for(let _0x2b035f=-0x416+-0x6e5+0xafb;_0x2b035f<this['_batchList']['length'];_0x2b035f++){if(_0x238834['indexOf'](this['_batchList'][_0x2b035f]['batchGroup'+'Id'])<-0x96e+-0x1*-0xe3f+-0x19b*0x3){_0x5bfc05['push'](this['_batchList'][_0x2b035f]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x2b035f]);}if(this['_batchList']=_0x5bfc05,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x2c7530,_0x238834),_0x238834===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x863*-0x1+0x29e*-0x8+0xc8d;else{const _0x549203=[];for(let _0x31a609=0xc70+-0xa*0x246+-0x2*-0x526;_0x31a609<this['_dirtyGrou'+'ps']['length'];_0x31a609++)_0x238834['indexOf'](this['_dirtyGrou'+'ps'][_0x31a609])<0x26a7+0xdf*-0x29+-0x2f0&&_0x549203['push'](this['_dirtyGrou'+'ps'][_0x31a609]);this['_dirtyGrou'+'ps']=_0x549203;}let _0x411990,_0x2c3f3b,_0x578bcd,_0x2ad30e;for(const _0x229b5e in _0x2c7530)if(_0x2c7530['hasOwnProp'+'erty'](_0x229b5e)){if(_0x411990=_0x2c7530[_0x229b5e],_0x578bcd=this['_batchGrou'+'ps'][_0x229b5e],!_0x578bcd){v['error']('batch\x20grou'+'p\x20'+_0x229b5e+'\x20not\x20found');continue;}_0x2c3f3b=this['prepare'](_0x411990,_0x578bcd['dynamic'],_0x578bcd['maxAabbSiz'+'e'],_0x578bcd['_ui']||_0x578bcd['_sprite']);for(let _0x197f30=-0x1*-0x142d+0x51d+0x194a*-0x1;_0x197f30<_0x2c3f3b['length'];_0x197f30++)_0x2ad30e=this['create'](_0x2c3f3b[_0x197f30],_0x578bcd['dynamic'],parseInt(_0x229b5e,-0x529+-0x9*0x3ec+0x287f)),_0x2ad30e&&_0x2ad30e['addToLayer'+'s'](this['scene'],_0x578bcd['layers']);}}['prepare'](_0x1824cf,_0x248110,_0x4c2e8d=Number['POSITIVE_I'+'NFINITY'],_0x24c937){if(_0x1824cf['length']===-0x2168*0x1+0x929+-0x3*-0x815)return[];const _0x5209ad=_0x4c2e8d*(-0x2705+-0x1226+0x392b+0.5),_0x145743=0x116f+-0x97b+-0x3f4*0x1,_0x16ef7a=0xdae1cafb+0xe9d4e36b+-0xc4b6ae67,_0xd79d51=new _e(),_0x4a3ca7=new _e();let _0x673892=null,_0xc9ce5f;const _0x9b947e=[];let _0x1b0a5b=0xfcb+-0xab3+-0x518;_0x24c937&&_0x1824cf['sort']((_0x4f1242,_0x1d3352)=>_0x4f1242['drawOrder']-_0x1d3352['drawOrder']);let _0x9ea794=_0x1824cf,_0x433d22;const _0x232642=_0x24c937?function(_0x3e23ac){_0x673892?_0x673892['add'](_0x3e23ac['aabb']):_0x673892=_0x3e23ac['aabb']['clone'](),_0x433d22['push'](_0x3e23ac);}:function(_0x151f2e){_0x433d22['push'](_0x151f2e);};for(;_0x9ea794['length']>-0x21db*0x1+-0x14fc*0x1+-0x65*-0x8b;){_0x9b947e[_0x1b0a5b]=[_0x9ea794[-0x48+0x2*0x2d+0x1*-0x12]],_0x433d22=[];const _0x17b72a=_0x9ea794[0x473*0x3+-0x5*-0x1c9+-0x1646]['material'],_0x4215a8=_0x9ea794[-0xc0d+0x16fe+-0x1*0xaf1]['layer'],_0x412df7=_0x9ea794[-0x6*-0x664+-0x5bf+-0x2099]['_shaderDef'+'s'],_0x166603=_0x9ea794[-0x5*0x19+0x2143+-0x5*0x68e]['parameters'],_0x1f3302=_0x9ea794[0x3*-0x3ed+-0x1c8f+-0x6*-0x6b9]['stencilFro'+'nt'];let _0x5b27e2=_0x9ea794[0x799+-0x91*-0x3b+-0xd2*0x32]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x79b8f6=_0x9ea794[-0x8c6+-0x1c97*0x1+0x779*0x5]['drawOrder'];_0xd79d51['copy'](_0x9ea794[0x1171+0x211a+-0xe3*0x39]['aabb']);const _0x5e65d9=Sd(_0x9ea794[-0x1ca+0x2a0*0x4+-0x8b6]),_0x36e437=_0x9ea794[0x2bd*0x7+0x18bd+-0x5*0x8c8]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x55fd81=_0x9ea794[-0xfe9+0x20b3+-0x1*0x10ca]['mesh']['primitive'][-0xef1+0x11*-0xc1+0x1bc2]['indexed'];_0x673892=null;for(let _0x423fcd=-0x491+0x1615+-0x1183;_0x423fcd<_0x9ea794['length'];_0x423fcd++){const _0x5ce100=_0x9ea794[_0x423fcd];if(_0x248110&&_0x9b947e[_0x1b0a5b]['length']>=_0x145743){_0x433d22=_0x433d22['concat'](_0x9ea794['slice'](_0x423fcd));break;}if(_0x17b72a!==_0x5ce100['material']||_0x4215a8!==_0x5ce100['layer']||_0x36e437!==_0x5ce100['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x55fd81!==_0x5ce100['mesh']['primitive'][-0xc7*0x1+-0x1907+0x3*0x89a]['indexed']||_0x412df7!==_0x5ce100['_shaderDef'+'s']||_0x5b27e2+_0x5ce100['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x16ef7a){_0x232642(_0x5ce100);continue;}if(_0x4a3ca7['copy'](_0xd79d51),_0x4a3ca7['add'](_0x5ce100['aabb']),_0x4a3ca7['halfExtent'+'s']['x']>_0x5209ad||_0x4a3ca7['halfExtent'+'s']['y']>_0x5209ad||_0x4a3ca7['halfExtent'+'s']['z']>_0x5209ad){_0x232642(_0x5ce100);continue;}if(_0x1f3302&&(!(_0xc9ce5f=_0x5ce100['stencilFro'+'nt'])||_0x1f3302['func']!==_0xc9ce5f['func']||_0x1f3302['zpass']!==_0xc9ce5f['zpass'])){_0x232642(_0x5ce100);continue;}if(_0x5e65d9!==Sd(_0x5ce100)){_0x232642(_0x5ce100);continue;}if(!cC(_0x166603,_0x5ce100['parameters'])){_0x232642(_0x5ce100);continue;}if(_0x24c937&&_0x673892&&_0x673892['intersects'](_0x5ce100['aabb'])&&_0x5ce100['drawOrder']!==_0x79b8f6){_0x232642(_0x5ce100);continue;}_0xd79d51['add'](_0x5ce100['aabb']),_0x5b27e2+=_0x5ce100['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x9b947e[_0x1b0a5b]['push'](_0x5ce100);}_0x1b0a5b++,_0x9ea794=_0x433d22;}return _0x9b947e;}['collectBat'+'chedMeshDa'+'ta'](_0x2454c7,_0x1614d2){let _0x2068ca=null,_0x219d83=0x192a*0x1+-0x25*0x4f+-0xdbf,_0x42c0b8=-0x2568+0x1fff+0x569*0x1,_0x472386=null;for(let _0x1a1e76=0x2512*-0x1+0xac7*0x1+0x7f*0x35;_0x1a1e76<_0x2454c7['length'];_0x1a1e76++)if(_0x2454c7[_0x1a1e76]['visible']){const _0x5b1042=_0x2454c7[_0x1a1e76]['mesh'],_0xe4e8a9=_0x5b1042['vertexBuff'+'er']['numVertice'+'s'];if(_0x219d83+=_0xe4e8a9,_0x5b1042['primitive'][-0x12b5+0xaa2+0x813]['indexed'])_0x42c0b8+=_0x5b1042['primitive'][0x1d*-0x7d+-0x1a2e+0x1*0x2857]['count'];else{const _0x254756=_0x5b1042['primitive'][0x1da2+0x1d01+-0x3aa3*0x1]['type'];(_0x254756===Yr||_0x254756===ar)&&_0x5b1042['primitive'][0x86+0x1859+0x18df*-0x1]['count']===-0x61*0x2+-0xe09*-0x1+-0xd43&&(_0x42c0b8+=0x1*-0x113c+-0x16f+0x12b1);}if(!_0x2068ca){_0x472386=_0x2454c7[_0x1a1e76]['material'],_0x2068ca={};const _0x4b2be3=_0x5b1042['vertexBuff'+'er']['format']['elements'];for(let _0x275ef9=-0x1dfa+-0x1*-0xa04+0x13f6;_0x275ef9<_0x4b2be3['length'];_0x275ef9++){const _0x2cd1bf=_0x4b2be3[_0x275ef9]['name'];_0x2068ca[_0x2cd1bf]={'numComponents':_0x4b2be3[_0x275ef9]['numCompone'+'nts'],'dataType':_0x4b2be3[_0x275ef9]['dataType'],'normalize':_0x4b2be3[_0x275ef9]['normalize'],'count':0x0};}_0x1614d2&&(_0x2068ca[qt]={'numComponents':0x1,'dataType':Ee,'normalize':!(-0x5f1+0x23fe+0x4*-0x783),'count':0x0});}}return{'streams':_0x2068ca,'batchNumVerts':_0x219d83,'batchNumIndices':_0x42c0b8,'material':_0x472386};}['create'](_0x53227f,_0x2c8391,_0x4b757b){const _0x3e99c5=ne();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0xba6+-0x8*-0x7f+-0xf9e));let _0x258c3a=null,_0x3a7018,_0x293910,_0x241bd6,_0x38e737=null;const _0x2e066d=this['collectBat'+'chedMeshDa'+'ta'](_0x53227f,_0x2c8391);if(_0x2e066d['streams']){const _0x56c609=_0x2e066d['streams'];let _0x4ce69b=_0x2e066d['material'];const _0x36c2c7=_0x2e066d['batchNumVe'+'rts'],_0x43123e=_0x2e066d['batchNumIn'+'dices'];_0x38e737=new zm(_0x53227f,_0x2c8391,_0x4b757b),this['_batchList']['push'](_0x38e737);let _0x2c479a,_0x32b46f,_0x126646,_0x138573=0x871*0x1+0x7*-0x431+0x6b*0x32,_0x6c9ab2=-0x1085+-0x97*0xe+0x1*0x18c7,_0x16df6e;const _0x3deecb=_0x36c2c7<=0x143b*-0x16+0xb*0x13d5+0x1e2ea*0x1?Uint16Array:Uint32Array,_0x5e2627=new _0x3deecb(_0x43123e);for(_0x3a7018 in _0x56c609)_0x258c3a=_0x56c609[_0x3a7018],_0x258c3a['typeArrayT'+'ype']=da[_0x258c3a['dataType']],_0x258c3a['elementByt'+'eSize']=_o[_0x258c3a['dataType']],_0x258c3a['buffer']=new _0x258c3a['typeArrayT'+'ype'](_0x36c2c7*_0x258c3a['numCompone'+'nts']);for(let _0x160bff=-0x7+-0x87c+0x883;_0x160bff<_0x53227f['length'];_0x160bff++)if(_0x53227f[_0x160bff]['visible']){_0x293910=_0x53227f[_0x160bff]['mesh'],_0x241bd6=_0x293910['vertexBuff'+'er']['numVertice'+'s'],_0x2c8391||(_0x16df6e=_0x53227f[_0x160bff]['node']['getWorldTr'+'ansform']());for(_0x3a7018 in _0x56c609)if(_0x3a7018!==qt){_0x258c3a=_0x56c609[_0x3a7018];const _0x17c9c4=new _0x258c3a['typeArrayT'+'ype'](_0x258c3a['buffer']['buffer'],_0x258c3a['elementByt'+'eSize']*_0x258c3a['count']),_0x491db8=_0x293910['getVertexS'+'tream'](_0x3a7018,_0x17c9c4)*_0x258c3a['numCompone'+'nts'];if(_0x258c3a['count']+=_0x491db8,!_0x2c8391&&_0x258c3a['numCompone'+'nts']>=0x97*0x13+0x3fd*0x2+-0x3*0x664){if(_0x3a7018===He){const _0x370c06=_0x16df6e['data'],_0x5264ef=_0x370c06[-0x1*0x53+-0x1e*-0xc+0x1*-0x115],_0x413bd4=_0x370c06[-0x20d6+-0x53a+0x2611*0x1],_0x1cbab2=_0x370c06[0x1a3f+-0x109b+-0x9a2],_0xfd23a3=_0x370c06[0x16e6+-0x7*0x149+-0xde3],_0xc4242c=_0x370c06[0x8*-0x72+-0x17e6+0x929*0x3],_0x3b581c=_0x370c06[-0x1a7d*-0x1+-0x1035*-0x1+-0x1556*0x2],_0x5326be=_0x370c06[-0x1*-0x711+-0x1b4d+0x1444],_0x34c2a3=_0x370c06[0xf82+-0xf88+0xf],_0x296919=_0x370c06[-0x19d+0x1b78+0x89b*-0x3],_0x461fbe=_0x370c06[0xe7+0x5*-0x377+-0x22*-0x7c],_0x684a6f=_0x370c06[-0x2549+-0xf*-0x83+-0x1da9*-0x1],_0x29f6dc=_0x370c06[-0x2422+0x18bf+0xb71];let _0x3af290,_0x2a20be,_0x4aaeed;for(let _0x1bfffe=0x21a1+0x12e+0x13*-0x1d5;_0x1bfffe<_0x491db8;_0x1bfffe+=_0x258c3a['numCompone'+'nts'])_0x3af290=_0x17c9c4[_0x1bfffe],_0x2a20be=_0x17c9c4[_0x1bfffe+(0xd*0x18d+-0x1*-0x249b+-0x38c3)],_0x4aaeed=_0x17c9c4[_0x1bfffe+(0x29*-0xa3+-0x2015+-0x9b3*-0x6)],_0x17c9c4[_0x1bfffe]=_0x3af290*_0x5264ef+_0x2a20be*_0xfd23a3+_0x4aaeed*_0x5326be+_0x461fbe,_0x17c9c4[_0x1bfffe+(-0x21e*-0x12+-0x75a*0x2+0x1*-0x1767)]=_0x3af290*_0x413bd4+_0x2a20be*_0xc4242c+_0x4aaeed*_0x34c2a3+_0x684a6f,_0x17c9c4[_0x1bfffe+(0x2ce*0x2+-0x1*0x95b+0x3c1)]=_0x3af290*_0x1cbab2+_0x2a20be*_0x3b581c+_0x4aaeed*_0x296919+_0x29f6dc;}else{if(_0x3a7018===Yt||_0x3a7018===Zs){jm['invertMat4'](_0x16df6e)['transpose']();const [_0x5359e0,_0x53d1ca,_0x5d5d3f,_0x3a65f7,_0x59efcf,_0x4a51fa,_0x496f7a,_0xea72f9,_0x1f0000]=jm['data'];let _0x2629f0,_0x49500a,_0x1e5437;for(let _0x1303fa=0x162+-0x4*0x15a+0x1*0x406;_0x1303fa<_0x491db8;_0x1303fa+=_0x258c3a['numCompone'+'nts'])_0x2629f0=_0x17c9c4[_0x1303fa],_0x49500a=_0x17c9c4[_0x1303fa+(0x1*0x8e0+0xfe9+0x1*-0x18c8)],_0x1e5437=_0x17c9c4[_0x1303fa+(0x1cfa*0x1+0x8b*-0x4+0x8c*-0x31)],_0x17c9c4[_0x1303fa]=_0x2629f0*_0x5359e0+_0x49500a*_0x3a65f7+_0x1e5437*_0x496f7a,_0x17c9c4[_0x1303fa+(0x2358+0x2569+0x1230*-0x4)]=_0x2629f0*_0x53d1ca+_0x49500a*_0x59efcf+_0x1e5437*_0xea72f9,_0x17c9c4[_0x1303fa+(-0x83f*0x3+-0x1f67+0x3826)]=_0x2629f0*_0x5d5d3f+_0x49500a*_0x4a51fa+_0x1e5437*_0x1f0000;}}}}if(_0x2c8391){_0x258c3a=_0x56c609[qt];for(let _0x3d9d6f=0x1997*-0x1+-0x12a0+0x2c37;_0x3d9d6f<_0x241bd6;_0x3d9d6f++)_0x258c3a['buffer'][_0x258c3a['count']++]=_0x160bff;}if(_0x293910['primitive'][0x39*-0x7b+0x139*0x5+-0x1*-0x1546]['indexed']){_0x2c479a=_0x293910['primitive'][0x6ff+-0x1b3d*-0x1+-0x223c]['base'],_0x32b46f=_0x293910['primitive'][0x1*-0x267b+0x17f2+0xe89]['count'];const _0xba865b=_0x293910['indexBuffe'+'r'][-0x1*-0x12ee+-0x1447+0x3*0x73]['getFormat']();_0x126646=new Lh[_0xba865b](_0x293910['indexBuffe'+'r'][-0x85f+-0x673+0x10f*0xe]['storage']);}else{const _0x24ae5c=_0x293910['primitive'][-0x3b*-0xb+0xaa7+-0xd30]['type'];if(_0x24ae5c===Yr||_0x24ae5c===ar){if(_0x293910['primitive'][-0x59*-0x3d+0x77d*-0x4+0x8bf]['count']===-0xd3a*0x1+-0xe*-0x22e+0x86*-0x21)_0x2c479a=-0x295+-0x1f88+0x221d,_0x32b46f=0x26be+-0x90a+-0x1d*0x106,_0x126646=_0x24ae5c===Yr?lC:hC;else{_0x32b46f=0x1c95+0x1*-0xb93+-0x1102;continue;}}}for(let _0x4205e4=0x149*0x11+0x14c8+-0x2aa1;_0x4205e4<_0x32b46f;_0x4205e4++)_0x5e2627[_0x4205e4+_0x6c9ab2]=_0x126646[_0x2c479a+_0x4205e4]+_0x138573;_0x6c9ab2+=_0x32b46f,_0x138573+=_0x241bd6;}_0x293910=new Ie(this['device']);for(_0x3a7018 in _0x56c609)_0x258c3a=_0x56c609[_0x3a7018],_0x293910['setVertexS'+'tream'](_0x3a7018,_0x258c3a['buffer'],_0x258c3a['numCompone'+'nts'],void(-0x269f+-0x3*-0xbc3+0x356),_0x258c3a['dataType'],_0x258c3a['normalize']);_0x5e2627['length']>0xcf5+-0x464+-0x891&&_0x293910['setIndices'](_0x5e2627),_0x293910['update'](Ms,!(-0x1ad4+0x189b*-0x1+-0xcdc*-0x4)),_0x2c8391&&(_0x4ce69b=_0x4ce69b['clone'](),_0x4ce69b['update']());const _0x56cc49=new Le(_0x293910,_0x4ce69b,this['rootNode']);_0x56cc49['castShadow']=_0x38e737['origMeshIn'+'stances'][0x285+0xa8*-0x8+-0xe9*-0x3]['castShadow'],_0x56cc49['parameters']=_0x38e737['origMeshIn'+'stances'][0x269*0x10+-0x163*-0x6+-0x2*0x1771]['parameters'],_0x56cc49['layer']=_0x38e737['origMeshIn'+'stances'][-0x2279+-0x5ea+0x7*0x5c5]['layer'],_0x56cc49['_shaderDef'+'s']=_0x38e737['origMeshIn'+'stances'][0x4*-0x25+-0x1*-0x195d+-0x18c9]['_shaderDef'+'s'],_0x56cc49['batching']=!(-0x183f*0x1+0x3*-0x7f6+0x3021),_0x56cc49['cull']=_0x38e737['origMeshIn'+'stances'][-0x1*-0x139+-0x1d6e+0x1c35]['cull'];const _0x3a679a=this['_batchGrou'+'ps'][_0x4b757b];if(_0x3a679a&&_0x3a679a['_ui']&&(_0x56cc49['cull']=!(0x1222+0x749+-0x196a)),_0x2c8391){const _0x1fe52a=[];for(let _0x186795=-0x10fb+-0x2411+-0xe*-0x3ca;_0x186795<_0x38e737['origMeshIn'+'stances']['length'];_0x186795++)_0x1fe52a['push'](_0x38e737['origMeshIn'+'stances'][_0x186795]['node']);_0x56cc49['skinInstan'+'ce']=new Vm(this['device'],_0x1fe52a,this['rootNode']);}_0x56cc49['_updateAab'+'b']=!(-0x16c*0x16+-0x96e+-0x7*-0x5d1),_0x56cc49['drawOrder']=_0x38e737['origMeshIn'+'stances'][-0x1f53+0xde*-0x2+-0x1*-0x210f]['drawOrder'],_0x56cc49['stencilFro'+'nt']=_0x38e737['origMeshIn'+'stances'][0x2*0xa2a+-0x2265+0xe11]['stencilFro'+'nt'],_0x56cc49['stencilBac'+'k']=_0x38e737['origMeshIn'+'stances'][-0x3d*0x49+0x1340+0x1db*-0x1]['stencilBac'+'k'],_0x56cc49['flipFacesF'+'actor']=Sd(_0x38e737['origMeshIn'+'stances'][-0x259d+-0xd*0x15d+-0x939*-0x6]),_0x56cc49['castShadow']=_0x38e737['origMeshIn'+'stances'][-0x11db+0x514+0xcc7]['castShadow'],_0x38e737['meshInstan'+'ce']=_0x56cc49,_0x38e737['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ne()-_0x3e99c5,_0x38e737;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0xc66+0x29*-0x9f+0x25dd&&this['generate'](this['_dirtyGrou'+'ps']);const _0x32cadd=ne();for(let _0x4e757d=-0x21*0xd3+0xef1+0x621*0x2;_0x4e757d<this['_batchList']['length'];_0x4e757d++)this['_batchList'][_0x4e757d]['dynamic']&&this['_batchList'][_0x4e757d]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ne()-_0x32cadd;}['clone'](_0x5e6feb,_0x2a2472){const _0x12d949=new zm(_0x2a2472,_0x5e6feb['dynamic'],_0x5e6feb['batchGroup'+'Id']);this['_batchList']['push'](_0x12d949);const _0x370b6d=[];for(let _0x1b8acd=0x7b2*0x1+-0xbf+-0x6f3;_0x1b8acd<_0x2a2472['length'];_0x1b8acd++)_0x370b6d['push'](_0x2a2472[_0x1b8acd]['node']);return _0x12d949['meshInstan'+'ce']=new Le(_0x5e6feb['meshInstan'+'ce']['mesh'],_0x5e6feb['meshInstan'+'ce']['material'],_0x5e6feb['meshInstan'+'ce']['node']),_0x12d949['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1*0x113b+0x2011+-0xed5),_0x12d949['meshInstan'+'ce']['parameters']=_0x2a2472[-0x109d+-0x63b+0x16d8]['parameters'],_0x12d949['meshInstan'+'ce']['cull']=_0x2a2472[-0x1628+-0x1*-0x1c67+-0x63f]['cull'],_0x12d949['meshInstan'+'ce']['layer']=_0x2a2472[0xb90*0x3+-0x4*-0x503+-0x36bc]['layer'],_0x5e6feb['dynamic']&&(_0x12d949['meshInstan'+'ce']['skinInstan'+'ce']=new Vm(this['device'],_0x370b6d,this['rootNode'])),_0x12d949['meshInstan'+'ce']['castShadow']=_0x5e6feb['meshInstan'+'ce']['castShadow'],_0x12d949;}['destroyBat'+'ch'](_0x3c76da){_0x3c76da['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x3c76da['batchGroup'+'Id']]['layers']);}}const Km='uSceneColo'+'rMap';class uC extends ds{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x5a1696,_0x5189a1,_0x43ebfc){if((_0x5a1696==null?void(-0xe5b+0x1a06+-0xbab):_0x5a1696['colorBuffe'+'r']['format'])!==_0x43ebfc)return!(-0xd98+0x4*0x97e+-0x1860);const _0x1f9157=(_0x5189a1==null?void(0xdfe+0x6*-0x3f7+0x9cc):_0x5189a1['width'])||this['device']['width'],_0x30a9bf=(_0x5189a1==null?void(0x444*-0x1+0x31*-0x95+0x4af*0x7):_0x5189a1['height'])||this['device']['height'];return!_0x5a1696||_0x1f9157!==_0x5a1696['width']||_0x30a9bf!==_0x5a1696['height'];}['allocateRe'+'nderTarget'](_0x3ea550,_0x50f616,_0x5c1b4f,_0x7188c3){const _0x4583dc=new he(_0x5c1b4f,{'name':Km,'format':_0x7188c3,'width':_0x50f616?_0x50f616['colorBuffe'+'r']['width']:_0x5c1b4f['width'],'height':_0x50f616?_0x50f616['colorBuffe'+'r']['height']:_0x5c1b4f['height'],'mipmaps':!(-0x2113*-0x1+0x18b3+-0x39c6),'minFilter':nn,'magFilter':st,'addressU':ae,'addressV':ae});return _0x3ea550?(_0x3ea550['destroyFra'+'meBuffers'](),_0x3ea550['_colorBuff'+'er']=_0x4583dc,_0x3ea550['_colorBuff'+'ers']=[_0x4583dc]):_0x3ea550=new pt({'name':'ColorGrabR'+'T','colorBuffer':_0x4583dc,'depth':!(0x26d4+0x50e+-0xef*0x2f),'stencil':!(-0x10fd+0x2*0x26+0x10b2),'autoResolve':!(0x2575*-0x1+0x1063+0x1513)}),_0x3ea550;}['releaseRen'+'derTarget'](_0x3d5c80){_0x3d5c80&&(_0x3d5c80['destroyTex'+'tureBuffer'+'s'](),_0x3d5c80['destroy']());}['frameUpdat'+'e'](){const _0xe30940=this['device'],_0x270678=this['source'],_0x491565=(_0x270678==null?void(0x6bf*-0x1+0x3e7*-0x3+0x1274):_0x270678['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x270678==null?void(-0x17f7+-0xba4+-0x5*-0x71f):_0x270678['colorBuffe'+'r'],_0x491565)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x270678,_0xe30940,_0x491565));const _0x4159ec=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0xe30940['scope']['resolve'](Km)['setValue'](_0x4159ec);}['execute'](){const _0x1958b2=this['device'];G['pushGpuMar'+'ker'](_0x1958b2,'GRAB-COLOR');const _0x3b0eb9=this['source'],_0x5b5cc1=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x1958b2['isWebGPU']?(_0x1958b2['copyRender'+'Target'](_0x3b0eb9,this['colorRende'+'rTarget'],!(0x29*0x8b+-0x1*-0x191f+0x17b1*-0x2),!(-0x15cb+0xa03*0x1+0xbc9)),_0x1958b2['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x1958b2['copyRender'+'Target'](_0x3b0eb9,this['colorRende'+'rTarget'],!(0x611*-0x1+-0x1*0xb55+0x1166),!(-0xd05*-0x3+0x42e+-0xacf*0x4)),_0x1958b2['activeText'+'ure'](_0x1958b2['maxCombine'+'dTextures']-(0x1c01*-0x1+0xb37+0x10cb)),_0x1958b2['bindTextur'+'e'](_0x5b5cc1),_0x1958b2['gl']['generateMi'+'pmap'](_0x5b5cc1['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x1958b2);}}const Zm='uSceneDept'+'hMap';class fC extends ds{constructor(_0x48ba5a,_0x345db7){super(_0x48ba5a),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x345db7;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x27b6e1,_0x5696c9){const _0x24df3e=(_0x5696c9==null?void(-0x10d7+0x25ea+-0x1513):_0x5696c9['width'])||this['device']['width'],_0x1fbaaa=(_0x5696c9==null?void(-0x18ec+-0x10d8+0x4a4*0x9):_0x5696c9['height'])||this['device']['height'];return!_0x27b6e1||_0x24df3e!==_0x27b6e1['width']||_0x1fbaaa!==_0x27b6e1['height'];}['allocateRe'+'nderTarget'](_0x21d4ec,_0x15767a,_0x4580b5,_0x1e7f41,_0x4e2daf){const _0x4b7fa6=new he(_0x4580b5,{'name':Zm,'format':_0x1e7f41,'width':_0x15767a?_0x15767a['colorBuffe'+'r']['width']:_0x4580b5['width'],'height':_0x15767a?_0x15767a['colorBuffe'+'r']['height']:_0x4580b5['height'],'mipmaps':!(-0x2149+-0x1*-0x10bd+0x108d),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});return _0x21d4ec?(_0x21d4ec['destroyFra'+'meBuffers'](),_0x4e2daf?_0x21d4ec['_depthBuff'+'er']=_0x4b7fa6:(_0x21d4ec['_colorBuff'+'er']=_0x4b7fa6,_0x21d4ec['_colorBuff'+'ers']=[_0x4b7fa6])):_0x21d4ec=new pt({'name':'DepthGrabR'+'T','colorBuffer':_0x4e2daf?null:_0x4b7fa6,'depthBuffer':_0x4e2daf?_0x4b7fa6:null,'depth':!_0x4e2daf,'stencil':_0x4580b5['supportsSt'+'encil'],'autoResolve':!(-0x8d5+0x29*-0xb3+0x2581)}),_0x21d4ec;}['releaseRen'+'derTarget'](_0x5a350c){_0x5a350c&&(_0x5a350c['destroyTex'+'tureBuffer'+'s'](),_0x5a350c['destroy']());}['before'](){var _0x2d58dd,_0x183693;const _0x5c9a4a=this['camera'],_0x248c7b=this['device'],_0x10beb5=(_0x5c9a4a==null?void(-0x1b07+0x1f00+-0x3f9):_0x5c9a4a['renderTarg'+'et'])??_0x248c7b['backBuffer'];let _0x5b4878=!(-0x1725+0x144d+0x1*0x2d8),_0x512962=_0x10beb5['stencil']?vc:Ci;_0x248c7b['isWebGPU']&&_0x10beb5['samples']>0x107+-0xc23*0x2+0x1740&&(_0x512962=Ii,_0x5b4878=!(-0x101c+0x20a0+-0x3*0x581));const _0x32573b=((_0x2d58dd=_0x5c9a4a['renderTarg'+'et'])==null?void(-0x2*-0x3d4+-0x28a+-0x51e):_0x2d58dd['depthBuffe'+'r'])??((_0x183693=_0x5c9a4a['renderTarg'+'et'])==null?void(0x45*-0x4f+-0xca3*0x3+-0x9de*-0x6):_0x183693['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x32573b)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x5c9a4a['renderTarg'+'et'],_0x248c7b,_0x512962,_0x5b4878));const _0x3d8f0a=_0x5b4878?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x248c7b['scope']['resolve'](Zm)['setValue'](_0x3d8f0a);}['execute'](){const _0x251914=this['device'];if(G['pushGpuMar'+'ker'](_0x251914,'GRAB-DEPTH'),_0x251914['isWebGL2']&&_0x251914['renderTarg'+'et']['samples']>-0xb11*0x2+0xcd5+-0x31a*-0x3){const _0x4e783b=_0x251914['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x249626=this['depthRende'+'rTarget'];_0x251914['renderTarg'+'et']=_0x249626,_0x251914['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x251914,_0x4e783b,_0x249626['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x251914['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x251914['copyRender'+'Target'](_0x251914['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x2705+0xd4*-0x25+0x430*-0x2),!(0x9b*0x13+0x21d*-0x3+-0x52a));G['popGpuMark'+'er'](_0x251914);}}class A0{constructor(){c(this,'_gammaCorr'+'ection',hh),c(this,'_toneMappi'+'ng',Ap),c(this,'_srgbRende'+'rTarget',!(0x1b30+-0x1314+0x19*-0x53)),c(this,'_ssaoEnabl'+'ed',!(0x12b7*0x1+-0x84d+-0xcd*0xd)),c(this,'_fog',Fa),c(this,'_sceneDept'+'hMapLinear',!(0x132d+0x86e+0x1*-0x1b9a)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0x2c4+-0x3*0xbf6+0x26a6));}get['hash'](){if(this['_hash']===void(-0x133*-0x9+0x2fd+-0xdc8)){const _0x24c643=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hn(_0x24c643);}return this['_hash'];}get['defines'](){const _0x5407e0=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x35*0x9a+-0x141*0x1d+0x47c),_0x5407e0['clear'](),this['_sceneDept'+'hMapLinear']&&_0x5407e0['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0x2486+0x1912+0xb74)),_0x5407e0['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x5407e0['set']('TONEMAP',p0[this['_toneMappi'+'ng']]),_0x5407e0['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x5407e0;}['markDirty'](){this['_hash']=void(0x1f20+-0x14*-0x1f+-0x218c),this['_definesDi'+'rty']=!(0x1*0x18a5+-0x10c7*0x1+0x2*-0x3ef);}set['fog'](_0x585b82){this['_fog']!==_0x585b82&&(this['_fog']=_0x585b82,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x197d3c){this['_ssaoEnabl'+'ed']!==_0x197d3c&&(this['_ssaoEnabl'+'ed']=_0x197d3c,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x43a08d){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1387*0x2+-0xb9d*0x2+0x3e48),this['_gammaCorr'+'ection']!==_0x43a08d&&(this['_gammaCorr'+'ection']=_0x43a08d,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x222951){this['_toneMappi'+'ng']!==_0x222951&&(this['_toneMappi'+'ng']=_0x222951,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0xf6b29c){this['_srgbRende'+'rTarget']!==_0xf6b29c&&(this['_srgbRende'+'rTarget']=_0xf6b29c,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x53820d){this['_sceneDept'+'hMapLinear']!==_0x53820d&&(this['_sceneDept'+'hMapLinear']=_0x53820d,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===hh&&!this['_srgbRende'+'rTarget']?hh:sl;}}const En=new T(),Wa=new T(),Qm=new T(),Jm=new q(),pC=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()];class ol{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new A0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x783+-0x1*0x223+-0x5f*-0x1a),(this['_aspectRat'+'io']=(0x6e*0xb+-0x259*-0xd+-0x232f)/(-0x1*0x2487+0x11*-0x1b2+0x4162*0x1),this['_aspectRat'+'ioMode']=Ip,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x6d*0x26+0x1*0xf5b+-0xd3*-0x1+0.75,-0x14d0+-0x1*0x1e49+0x3319+0.75,-0x25c4+-0x86e+0x2e32+0.75,-0x13ca+-0x1fb4+-0x1*-0x337f),this['_clearColo'+'rBuffer']=!(0x1dcf+-0x1c91+0x1*-0x13e),this['_clearDept'+'h']=0x3*-0x19+-0x20ab+-0x57*-0x61,this['_clearDept'+'hBuffer']=!(-0x2289+0x2*-0x53c+0x1*0x2d01),this['_clearSten'+'cil']=-0x14*-0x13+-0x1*-0xd8a+-0x2*0x783,this['_clearSten'+'cilBuffer']=!(0x59*-0x3+0x1f1f+-0x1e14),this['_cullFaces']=!(-0xaaa+-0x1809+0x22b3),this['_farClip']=0x724+-0x9d*0x1d+0xe8d,this['_flipFaces']=!(-0x1*-0x1bde+0x1b9f+-0x377c),this['_fov']=-0x3*-0xcbd+0x131+-0x391*0xb,this['_frustumCu'+'lling']=!(0x203e+-0xded*-0x1+0x2e2b*-0x1),this['_horizonta'+'lFov']=!(-0x120b+0x26ba+0x1*-0x14ae),this['_layers']=[Fi,Xt,vp,tl,bp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x8be+-0x263d+-0x3*-0x9d5+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x575+-0x520+-0x4b,this['_projectio'+'n']=Gs,this['_rect']=new Q(0x4a*0x5+0x1*-0x14d3+0x1361,-0x1*-0x87d+-0x4df+-0x39e,-0x1*0x1fe6+-0x215*0xe+-0x3d0d*-0x1,0x179c+-0xf6+-0x16a5),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new Q(0xf5+0x2*0x8f6+-0x12e1,0x14c6+0x1313+0x65*-0x65,0x5*0x212+-0x83*-0x23+-0x2*0xe21,-0x160c+0xbbb*-0x3+-0x11*-0x35e),this['_scissorRe'+'ctClear']=!(0xefb*-0x1+0x745+0x7b7),this['_aperture']=0x79+0x2045+0x2*-0x1057,this['_shutter']=(-0x1742+-0xd*-0x236+-0x17*0x3d)/(0x218*0x2+-0x122*0x18+-0x3d8*-0x7),this['_sensitivi'+'ty']=0xd*-0x147+-0x241e+0x7*0x817,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0x3b*0x51+-0x5dd*0x1+0x1888),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0x24e4+-0x6d0+0x1*0x2bb4),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x1*-0x49b+0x162d+-0x1ac8),this['_shaderMat'+'ricesVersi'+'on']=-0x7*0x10+0x1af4+-0x1a84,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[-0x14eb+-0x22d9*-0x1+-0xdee,-0xb75+-0x26ab+0x644*0x8,0x1*-0x583+-0x6c2*-0x2+0x801*-0x1,-0xe8*-0x1c+-0x171c+0x1d*-0x14],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x134078,_0x41c3ea;(_0x134078=this['renderPass'+'ColorGrab'])==null||_0x134078['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x41c3ea=this['renderPass'+'DepthGrab'])==null||_0x41c3ea['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x1de6+-0x1afc+-0x2ea;}['_storeShad'+'erMatrices'](_0x58667,_0x6d0bc7,_0x26563a,_0x475107){this['_shaderMat'+'ricesVersi'+'on']!==_0x475107&&(this['_shaderMat'+'ricesVersi'+'on']=_0x475107,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x58667),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x58667),this['_viewProjI'+'nverse']['invert'](_0x58667),this['_jitters'][-0x856+0x1d1b+0x5*-0x427]=this['_jitters'][0xfec+0x1c50+-0x2c3c],this['_jitters'][0x1*0x1c0c+-0xf0a*0x1+-0xcff]=this['_jitters'][0x49b*-0x2+-0x10*0x1a3+0x2367],this['_jitters'][-0x3d0+-0x4e*0x6d+-0x1283*-0x2]=_0x6d0bc7,this['_jitters'][0x1dd5+-0x1bca+-0x20a]=_0x26563a);}get['fullSizeCl'+'earRect'](){const _0x493a16=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x493a16['x']===0x1724+0xd47+0x246b*-0x1&&_0x493a16['y']===0xe57+-0xe7d+0x26&&_0x493a16['z']===-0xb*0x18e+0x35+0x2d1*0x6&&_0x493a16['w']===0x5*0x8+0x19*0x9+-0x108;}set['aspectRati'+'o'](_0x44e199){this['_aspectRat'+'io']!==_0x44e199&&(this['_aspectRat'+'io']=_0x44e199,this['_projMatDi'+'rty']=!(0x18e*-0x19+0x1c3a+0xaa4));}get['aspectRati'+'o'](){var _0x468d7a;return(_0x468d7a=this['xr'])!=null&&_0x468d7a['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x4f1136){this['_aspectRat'+'ioMode']!==_0x4f1136&&(this['_aspectRat'+'ioMode']=_0x4f1136,this['_projMatDi'+'rty']=!(-0x1*-0x1ff0+-0x2*-0x191+-0x2312));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x1e6c92){this['_calculate'+'Projection']=_0x1e6c92,this['_projMatDi'+'rty']=!(0x12b5+-0x63+-0x1252);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x54c0d2){this['_calculate'+'Transform']=_0x54c0d2;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x523a8a){this['_clearColo'+'r']['copy'](_0x523a8a);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x5b711d){this['_clearColo'+'rBuffer']=_0x5b711d;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x57a64c){this['_clearDept'+'h']=_0x57a64c;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x208e70){this['_clearDept'+'hBuffer']=_0x208e70;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x10546f){this['_clearSten'+'cil']=_0x10546f;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0xb742b9){this['_clearSten'+'cilBuffer']=_0xb742b9;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0xdd6ece){this['_cullFaces']=_0xdd6ece;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x1a3f81){this['_farClip']!==_0x1a3f81&&(this['_farClip']=_0x1a3f81,this['_projMatDi'+'rty']=!(-0x3d*-0x19+-0x2*-0x25c+-0xaad));}get['farClip'](){var _0x3c9d06;return(_0x3c9d06=this['xr'])!=null&&_0x3c9d06['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x6746e9){this['_flipFaces']=_0x6746e9;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0xcace9f){this['_fov']!==_0xcace9f&&(this['_fov']=_0xcace9f,this['_projMatDi'+'rty']=!(-0x1b11+0xb18+0x2f*0x57));}get['fov'](){var _0x4c8e2b;return(_0x4c8e2b=this['xr'])!=null&&_0x4c8e2b['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x5a96aa){this['_frustumCu'+'lling']=_0x5a96aa;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x1483f1){this['_horizonta'+'lFov']!==_0x1483f1&&(this['_horizonta'+'lFov']=_0x1483f1,this['_projMatDi'+'rty']=!(-0x8*-0x1f2+0x31*-0xb+-0xd75));}get['horizontal'+'Fov'](){var _0x14caa9;return(_0x14caa9=this['xr'])!=null&&_0x14caa9['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x698ce6){this['_layers']=_0x698ce6['slice'](-0x1*0x1cd6+-0x1934+0x2*0x1b05),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x265530){this['_nearClip']!==_0x265530&&(this['_nearClip']=_0x265530,this['_projMatDi'+'rty']=!(0x1683+0x5ad*-0x3+-0x9*0x9c));}get['nearClip'](){var _0x1acc34;return(_0x1acc34=this['xr'])!=null&&_0x1acc34['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x3b4017){this['_node']=_0x3b4017;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x551e02){this['_orthoHeig'+'ht']!==_0x551e02&&(this['_orthoHeig'+'ht']=_0x551e02,this['_projMatDi'+'rty']=!(0x64b*0x4+0x1*0xa3+0x1*-0x19cf));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x4ccc5d){this['_projectio'+'n']!==_0x4ccc5d&&(this['_projectio'+'n']=_0x4ccc5d,this['_projMatDi'+'rty']=!(0x60a+0xc*0x1b1+-0x1a56));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x1603d0){this['_rect']['copy'](_0x1603d0);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x487413){this['_renderTar'+'get']=_0x487413;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x320bb0){this['_scissorRe'+'ct']['copy'](_0x320bb0);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x1a9296=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x1a9296)['invert'](),this['_viewMatDi'+'rty']=!(-0x1*0x154f+0x1*0x967+0x1*0xbe9);}return this['_viewMat'];}set['aperture'](_0x1cfcc4){this['_aperture']=_0x1cfcc4;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x3a7544){this['_sensitivi'+'ty']=_0x3a7544;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x28f72c){this['_shutter']=_0x28f72c;}get['shutter'](){return this['_shutter'];}set['xr'](_0x104f5a){this['_xr']!==_0x104f5a&&(this['_xr']=_0x104f5a,this['_projMatDi'+'rty']=!(0x11*-0x153+0x1*-0xdcd+0xe*0x298));}get['xr'](){return this['_xr'];}['clone'](){return new ol()['copy'](this);}['copy'](_0x3fc22a){return this['_aspectRat'+'io']=_0x3fc22a['_aspectRat'+'io'],this['_farClip']=_0x3fc22a['_farClip'],this['_fov']=_0x3fc22a['_fov'],this['_horizonta'+'lFov']=_0x3fc22a['_horizonta'+'lFov'],this['_nearClip']=_0x3fc22a['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x3fc22a['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x3fc22a['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x3fc22a['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x3fc22a['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x3fc22a['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x3fc22a['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x3fc22a['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x3fc22a['calculateT'+'ransform'],this['clearColor']=_0x3fc22a['clearColor'],this['clearColor'+'Buffer']=_0x3fc22a['clearColor'+'Buffer'],this['clearDepth']=_0x3fc22a['clearDepth'],this['clearDepth'+'Buffer']=_0x3fc22a['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x3fc22a['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x3fc22a['clearStenc'+'ilBuffer'],this['cullFaces']=_0x3fc22a['cullFaces'],this['flipFaces']=_0x3fc22a['flipFaces'],this['frustumCul'+'ling']=_0x3fc22a['frustumCul'+'ling'],this['layers']=_0x3fc22a['layers'],this['orthoHeigh'+'t']=_0x3fc22a['orthoHeigh'+'t'],this['projection']=_0x3fc22a['projection'],this['rect']=_0x3fc22a['rect'],this['renderTarg'+'et']=_0x3fc22a['renderTarg'+'et'],this['scissorRec'+'t']=_0x3fc22a['scissorRec'+'t'],this['aperture']=_0x3fc22a['aperture'],this['shutter']=_0x3fc22a['shutter'],this['sensitivit'+'y']=_0x3fc22a['sensitivit'+'y'],this['shaderPass'+'Info']=_0x3fc22a['shaderPass'+'Info'],this['jitter']=_0x3fc22a['jitter'],this['_projMatDi'+'rty']=!(-0x1*-0x92b+0x209f*0x1+-0x29ca),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x821568,_0x5b2baf){var _0x41d449;_0x5b2baf?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new uC(_0x821568)):((_0x41d449=this['renderPass'+'ColorGrab'])==null||_0x41d449['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x342833,_0x1606b0,_0x2f7f00){var _0x30409c;_0x2f7f00?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new fC(_0x342833,this)):((_0x30409c=this['renderPass'+'DepthGrab'])==null||_0x30409c['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x360+0x82*0x1d+-0xb59));}['worldToScr'+'een'](_0x1e2965,_0x3e99d1,_0x4a9ac7,_0xc0950=new T()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x1e2965,_0xc0950);const _0x45aa7f=this['_viewProjM'+'at']['data'],_0x2c2b61=_0x1e2965['x']*_0x45aa7f[-0x5ba*0x2+-0x4*-0x4ee+0x1*-0x841]+_0x1e2965['y']*_0x45aa7f[0x10*0x250+-0x777+0x2*-0xec1]+_0x1e2965['z']*_0x45aa7f[-0x269*-0x10+-0x3bc*-0x3+-0x31b9]+(0x1*-0xc93+-0x2025+0x2cb9)*_0x45aa7f[-0x12a9*0x2+0x775*-0x1+0x2cd6];return _0xc0950['x']=(_0xc0950['x']/_0x2c2b61+(0x1cef+0x33*-0xbc+0x886))*(-0x18c7+-0x1b43+-0x2*-0x1a05+0.5)*_0x3e99d1,_0xc0950['y']=(-0x35*0x1+-0x1d8b*0x1+-0x3*-0x9eb-_0xc0950['y']/_0x2c2b61)*(-0xd4b+-0x557+0x12a2+0.5)*_0x4a9ac7,_0xc0950;}['screenToWo'+'rld'](_0x45c4e0,_0x2bdc36,_0x449ff6,_0x18055d,_0x975d21,_0x4f33f2=new T()){const _0x107258=this['farClip']-this['nearClip'];if(En['set'](_0x45c4e0/_0x18055d,(_0x975d21-_0x2bdc36)/_0x975d21,_0x449ff6/_0x107258),En['mulScalar'](0x2*0x5a0+0x5b7*0x5+-0x27d1),En['sub'](T['ONE']),this['_projectio'+'n']===Gs){q['_getPerspe'+'ctiveHalfS'+'ize'](Wa,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),Wa['x']*=En['x'],Wa['y']*=En['y'];const _0x6e6fdf=this['_node']['getWorldTr'+'ansform']();Wa['z']=-this['nearClip'],_0x6e6fdf['transformP'+'oint'](Wa,Qm);const _0x567277=this['_node']['getPositio'+'n']();_0x4f33f2['sub2'](Qm,_0x567277),_0x4f33f2['normalize'](),_0x4f33f2['mulScalar'](_0x449ff6),_0x4f33f2['add'](_0x567277);}else this['_updateVie'+'wProjMat'](),Jm['copy'](this['_viewProjM'+'at'])['invert'](),Jm['transformP'+'oint'](En,_0x4f33f2);return _0x4f33f2;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Gs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x1af2fe=this['_orthoHeig'+'ht'],_0x8ab4f0=_0x1af2fe*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x8ab4f0,_0x8ab4f0,-_0x1af2fe,_0x1af2fe,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x1*0x7b5+0xe3*0x17+-0xcaf);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x36e34f=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x24bd+0x1515+0x100c)/this['_sensitivi'+'ty']);return(0xa2+-0x101b+-0x7bd*-0x2)/(Math['pow'](-0x9*0x40f+0x1a04+0xa85,_0x36e34f)*(-0x210f+-0x1aaf+0x3bbf+0.19999999999999996));}['getScreenS'+'ize'](_0x2e8c48){if(this['_projectio'+'n']===Gs){const _0x1b0ed3=this['_node']['getPositio'+'n']()['distance'](_0x2e8c48['center']);if(_0x1b0ed3<_0x2e8c48['radius'])return-0x4*0x463+0x1709+0xea*-0x6;const _0x233566=Math['asin'](_0x2e8c48['radius']/_0x1b0ed3),_0x1af41f=Math['tan'](_0x233566),_0x57addd=Math['tan'](this['fov']/(-0x3*0x8a3+-0x5*0x661+0x39d0)*N['DEG_TO_RAD']);return Math['min'](_0x1af41f/_0x57addd,0x2621*0x1+0x64*0x1a+-0x3048);}return N['clamp'](_0x2e8c48['radius']/this['_orthoHeig'+'ht'],0x132*-0x11+0x634+0x1a*0x8b,-0x4*0x4f4+0xb2b*0x1+0x8a6);}['getFrustum'+'Corners'](_0x507c51=this['nearClip'],_0x3e2022=this['farClip']){const _0x22a8dd=this['fov']*Math['PI']/(-0x2*-0xba5+-0x1faf+0x919);let _0x523b06,_0xd4c9df;this['projection']===Gs?this['horizontal'+'Fov']?(_0x523b06=_0x507c51*Math['tan'](_0x22a8dd/(0x1f6b+-0x1*0x8cd+-0x169c)),_0xd4c9df=_0x523b06/this['aspectRati'+'o']):(_0xd4c9df=_0x507c51*Math['tan'](_0x22a8dd/(-0xba7*0x1+-0x161b+0x2*0x10e2)),_0x523b06=_0xd4c9df*this['aspectRati'+'o']):(_0xd4c9df=this['_orthoHeig'+'ht'],_0x523b06=_0xd4c9df*this['aspectRati'+'o']);const _0x25fd2d=pC;return _0x25fd2d[0x61*-0x11+0x338+0x339]['x']=_0x523b06,_0x25fd2d[0x20c*0x11+-0x923*0x1+-0x19a9]['y']=-_0xd4c9df,_0x25fd2d[-0x1172+-0x2367+0x1*0x34d9]['z']=-_0x507c51,_0x25fd2d[-0x2c*0x63+0x8c5+0x840]['x']=_0x523b06,_0x25fd2d[-0x1535+-0x1bf2+-0x1*-0x3128]['y']=_0xd4c9df,_0x25fd2d[-0x14*-0x1c4+-0x80*-0x15+-0x517*0x9]['z']=-_0x507c51,_0x25fd2d[-0x15b3+0x1*0x180b+-0x256]['x']=-_0x523b06,_0x25fd2d[0x125e+0x65*-0x2b+-0x165]['y']=_0xd4c9df,_0x25fd2d[-0x154+0x8f1*0x3+-0x87f*0x3]['z']=-_0x507c51,_0x25fd2d[0x14b*-0x8+-0x1*-0x49e+0x1*0x5bd]['x']=-_0x523b06,_0x25fd2d[-0xd*-0x1f9+-0x2e7*-0x1+-0x1c89]['y']=-_0xd4c9df,_0x25fd2d[-0x2299*-0x1+0xd03*-0x3+-0x11*-0x43]['z']=-_0x507c51,this['_projectio'+'n']===Gs&&(this['horizontal'+'Fov']?(_0x523b06=_0x3e2022*Math['tan'](_0x22a8dd/(-0x137d+0x1787+-0x408*0x1)),_0xd4c9df=_0x523b06/this['aspectRati'+'o']):(_0xd4c9df=_0x3e2022*Math['tan'](_0x22a8dd/(0x21fc+0xdf*0x15+0x1*-0x3445)),_0x523b06=_0xd4c9df*this['aspectRati'+'o'])),_0x25fd2d[0xc71+-0x2*-0xd50+-0x270d]['x']=_0x523b06,_0x25fd2d[-0xd75*-0x2+-0x365*0x3+-0x10b7]['y']=-_0xd4c9df,_0x25fd2d[0x706*-0x4+0x23b0+0xc2*-0xa]['z']=-_0x3e2022,_0x25fd2d[-0x5*-0x1bb+-0x407*-0x8+0x245*-0x12]['x']=_0x523b06,_0x25fd2d[0x11d7*0x2+-0x1*0x1d25+-0x684]['y']=_0xd4c9df,_0x25fd2d[0x795+0x1e97+-0x2627]['z']=-_0x3e2022,_0x25fd2d[0x4e1*0x5+0x21b6*0x1+-0x3a15]['x']=-_0x523b06,_0x25fd2d[-0x28d*0xf+-0x1*-0x26e+0x89*0x43]['y']=_0xd4c9df,_0x25fd2d[0xb1+0x1a93+-0x1b3e]['z']=-_0x3e2022,_0x25fd2d[0x7*-0xc1+-0x1869+0x1db7]['x']=-_0x523b06,_0x25fd2d[0x12e8+-0x1774+0x493]['y']=-_0xd4c9df,_0x25fd2d[0x103b+-0x8*0x10+-0xfb4]['z']=-_0x3e2022,_0x25fd2d;}['setXrPrope'+'rties'](_0x277e74){Object['assign'](this['_xrPropert'+'ies'],_0x277e74),this['_projMatDi'+'rty']=!(-0x1869+-0x655*-0x1+-0x59*-0x34);}}const e_=new q(),t_=new q(),s_=new q(),Qi=class Qi{static['create'](_0x26d27f,_0x474c85,_0x1f02ba){const _0x31727a=new ol();switch(_0x31727a['node']=new De(_0x26d27f),_0x31727a['aspectRati'+'o']=0x206f+-0xe1b*0x1+0x1253*-0x1,_0x31727a['aspectRati'+'oMode']=Bu,_0x31727a['_scissorRe'+'ctClear']=!(0x1017+-0x19d6+0x1*0x9bf),_0x474c85){case Pe:_0x31727a['node']['setRotatio'+'n'](Qi['pointLight'+'Rotations'][_0x1f02ba]),_0x31727a['fov']=0x21d+-0x1d77+0xc5*0x24,_0x31727a['projection']=Gs;break;case Re:_0x31727a['projection']=Gs;break;case oe:_0x31727a['projection']=ua;break;}return _0x31727a;}static['evalSpotCo'+'okieMatrix'](_0x5662a0){let _0x419a13=Qi['_spotCooki'+'eCamera'];_0x419a13||(_0x419a13=Qi['create']('SpotCookie'+'Camera',Re),Qi['_spotCooki'+'eCamera']=_0x419a13),_0x419a13['fov']=_0x5662a0['_outerCone'+'Angle']*(-0x72b*0x1+0x1c49*-0x1+-0x66*-0x59);const _0x524af=_0x419a13['_node'];_0x524af['setPositio'+'n'](_0x5662a0['_node']['getPositio'+'n']()),_0x524af['setRotatio'+'n'](_0x5662a0['_node']['getRotatio'+'n']()),_0x524af['rotateLoca'+'l'](-(-0x76d*0x1+0x41*0x20+0x59*-0x1),0xd*0x53+0x1*-0x1fed+-0x2*-0xddb,0x47*-0x1f+0x1e94+-0x15fb),e_['setTRS'](_0x524af['getPositio'+'n'](),_0x524af['getRotatio'+'n'](),T['ONE'])['invert'](),t_['mul2'](_0x419a13['projection'+'Matrix'],e_);const _0x361be9=_0x5662a0['cookieMatr'+'ix'],_0x30b318=_0x5662a0['atlasViewp'+'ort'];return s_['setViewpor'+'t'](_0x30b318['x'],_0x30b318['y'],_0x30b318['z'],_0x30b318['w']),_0x361be9['mul2'](s_,t_),_0x361be9;}};c(Qi,'pointLight'+'Rotations',[new se()['setFromEul'+'erAngles'](-0x9c9+-0x154*-0xd+-0x77b*0x1,0x840+-0x12a1*-0x1+-0x1a87,-0x1ece+-0x6*0x59+-0x866*-0x4),new se()['setFromEul'+'erAngles'](0x6*0x382+0x45*-0x79+0x15*0x8d,-(0x176e*0x1+-0x1456+-0x1a*0x1b),-0x3dd+0x1338+-0xea7),new se()['setFromEul'+'erAngles'](-0x1083+-0x1*0x21fc+0x10f3*0x3,0x11ea+0xfed+0x21d7*-0x1,0x1*-0x196f+0x20c0+0x1*-0x751),new se()['setFromEul'+'erAngles'](-(0xbf*0x28+-0x10*-0x1bb+-0x392e),-0x2411*-0x1+-0x5fd*0x4+0x1bb*-0x7,0x194b+0x167*0x5+-0x204e),new se()['setFromEul'+'erAngles'](0x1*-0x382+0xb*0x7+0x1*0x335,-0x1abf+0x1e3d+-0x2ca,-0x19*0xf1+-0x9*0x18f+0x2644),new se()['setFromEul'+'erAngles'](-0x1*-0x1485+0x1272+0x39*-0xaf,-0x5a1*-0x1+0x5b*0x17+0x5d*-0x26,0xd2b+-0x7*-0x511+-0x7fd*0x6)]),c(Qi,'_spotCooki'+'eCamera',null);let Ma=Qi;const i_=0x16*0x59+-0x15a7*0x1+0xef*0xf+0.000001,Zt=new T(),xr=new Float32Array(-0x18df*0x1+0x1*0x252e+0x55*-0x25),mC=new T(-(-0x1a6*0x6+-0x1*-0x16aa+-0x3*0x442+0.5),-0x698+-0x2*-0x88c+0x6*-0x1c0,-0x1*-0x12e9+-0x208b+0xda2),_C=new T(0xe5b*0x1+0x1c96+-0x2af1,-0x11*-0x1e4+0x21d9+-0x755*0x9,-0x267b*-0x1+0xcb3+-0x332e+0.5),Sr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},lt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let vd;class E0{constructor(_0x12773c){c(this,'areaLights'+'Enabled',!(0x1ddd+-0x2*0x83f+-0xd5e*0x1)),(this['device']=_0x12773c,this['cookiesEna'+'bled']=!(0x11b5*-0x2+-0x1460+0x1*0x37cb),this['shadowsEna'+'bled']=!(0x1*-0xc2+-0x23ad+0x2470),this['areaLights'+'Enabled']=!(-0x30a+0x227*0xf+-0x1d3e),this['maxLights']=0x63c+-0x1*-0x237f+-0x28bc);const _0xde7608=Sr['COUNT'];this['lights8']=new Uint8ClampedArray((0x1568+-0x22ca+0xd66)*_0xde7608*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0xde7608,this['maxLights'],Se,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x2bfc8f=lt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1ab*0x13+-0x316+-0x22cb*-0x1)*_0x2bfc8f*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x2bfc8f,this['maxLights'],Ke,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x2056+-0x1*0x1091+-0xfc5,this['invMaxAtte'+'nuation']=0x238c+0x8b*-0x41+0xd*-0x5,this['boundsMin']=new T(),this['boundsDelt'+'a']=new T();}static['getShaderD'+'efines'](){const _0x1ac1a6=(_0x4f7bb6,_0x6578bd)=>Object['keys'](_0x4f7bb6)['map'](_0x299fbd=>'#define\x20'+_0x6578bd+_0x299fbd+'\x20'+_0x4f7bb6[_0x299fbd])['join']('\x0a');return vd||(vd='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x1ac1a6(Sr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x1ac1a6(lt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),vd;}['destroy'](){var _0x39bc42,_0x552e8f;(_0x39bc42=this['lightsText'+'ure8'])==null||_0x39bc42['destroy'](),this['lightsText'+'ure8']=null,(_0x552e8f=this['lightsText'+'ureFloat'])==null||_0x552e8f['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x8fe44b,_0x44a10a,_0x2a6e29,_0x497199,_0x2e6c4e){return new he(_0x8fe44b,{'name':_0x2e6c4e,'width':_0x44a10a,'height':_0x2a6e29,'mipmaps':!(-0x256b+-0x25*0xf6+-0x2*-0x247d),'format':_0x497199,'addressU':ae,'addressV':ae,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x44ef8e,_0x375ebf){this['invMaxColo'+'rValue']=(-0xd12+-0x1460+0x2173)/_0x375ebf,this['invMaxAtte'+'nuation']=(0x3d*-0x7f+0x3c2+0x1a82)/_0x44ef8e;}['setBounds'](_0x2349fd,_0x111abb){this['boundsMin']['copy'](_0x2349fd),this['boundsDelt'+'a']['copy'](_0x111abb);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x41d1d0,_0x376b5a){_0x376b5a['_node']['getWorldTr'+'ansform']()['getY'](_0x41d1d0)['mulScalar'](-(0x5a*-0x52+0x75+-0x38c*-0x8)),_0x41d1d0['normalize']();}['getLightAr'+'eaSizes'](_0x1461a4){const _0x18a06d=_0x1461a4['_node']['getWorldTr'+'ansform']();return _0x18a06d['transformV'+'ector'](mC,Zt),xr[0xbb*0x2f+-0x16d+-0x1d4*0x12]=Zt['x'],xr[-0x7*-0x40d+-0x5*0x67e+-0x4*-0x107]=Zt['y'],xr[-0xd*0x35+0x68b*-0x5+-0x6*-0x5e7]=Zt['z'],_0x18a06d['transformV'+'ector'](_C,Zt),xr[0xc6e+0xf*0x271+-0x310a]=Zt['x'],xr[-0x23d5+0x6*-0x542+0x4365]=Zt['y'],xr[-0x23b9*0x1+-0x1*-0xb83+0x183b]=Zt['z'],xr;}['addLightDa'+'taFlags'](_0x34a91a,_0x73333,_0x5d2fd9,_0x56148c,_0x9e5ef4,_0x32eaa4){_0x34a91a[_0x73333+(0x583+-0x25a7+0x2024)]=_0x56148c?0x1*-0x5cb+-0x791*0x1+0xe5b:-0x1a1+-0xcd7*-0x2+-0x180d,_0x34a91a[_0x73333+(0x1a53*0x1+-0xba7+-0xeab)]=this['areaLights'+'Enabled']?_0x5d2fd9['_shape']*(-0x1878+-0xb87*0x3+0x37d*0x11):-0x24*-0xd3+-0x866+-0x1546,_0x34a91a[_0x73333+(0xf2*0x10+0x2131*0x1+0x304f*-0x1)]=_0x5d2fd9['_falloffMo'+'de']*(0x67*0x59+0x14c6+-0x1bcb*0x2),_0x34a91a[_0x73333+(0x1fa5+0x194f+-0x38f1)]=_0x9e5ef4?_0x32eaa4*(0x1b6c+0x1400+-0x2e6d):-0x89*-0x41+0x434*-0x9+0x13*0x29;}['addLightDa'+'taColor'](_0x41fbc2,_0x3e2074,_0x57a252,_0x15459e){const _0x4121b4=this['invMaxColo'+'rValue'],_0x38c088=_0x57a252['_colorLine'+'ar'];Wt['float2Byte'+'s'](_0x38c088[-0x6a7+-0x19ba+0x2061]*_0x4121b4,_0x41fbc2,_0x3e2074+(0x141*-0x11+-0x86*-0x42+0x1*-0xd3b),-0x3b3*0x2+0x1*0x1bfb+-0x1493),Wt['float2Byte'+'s'](_0x38c088[-0x143a*-0x1+0xd27+-0x2160]*_0x4121b4,_0x41fbc2,_0x3e2074+(-0x2513*0x1+-0x72*0x5+0x274f),-0x4f*-0x7d+0x26c6+-0x4d57),Wt['float2Byte'+'s'](_0x38c088[-0x26ee+0x16a5+0x104b]*_0x4121b4,_0x41fbc2,_0x3e2074+(0x8*0x2f1+0x24b5+-0x23b*0x1b),0x142+-0xe18+-0x66c*-0x2),_0x41fbc2[_0x3e2074+(0x1*-0x1e2e+-0xf94+0x2dc8)]=_0x15459e?0x6aa+-0x989+0x9*0x6e:-0x957+-0x13e6+0x1d3d;const _0x566bf8=!!(_0x57a252['mask']&hs),_0x22ffd7=!!(_0x57a252['mask']&cr);_0x41fbc2[_0x3e2074+(-0x1e*0x6+-0x649+0x704)]=_0x566bf8&&_0x22ffd7?-0x1*0x16d6+0x4dd*-0x5+0xfe2*0x3:_0x22ffd7?0x224b+0xc1*-0x7+-0x1c05:-0x1ca0+-0x709*0x2+-0x1559*-0x2;}['addLightDa'+'taSpotAngl'+'es'](_0x15b48c,_0x40d5bd,_0x676687){Wt['float2Byte'+'s'](_0x676687['_innerCone'+'AngleCos']*(-0x1d68+-0x4e3*0x1+-0x1*-0x224b+0.5-i_)+(0x210b+0xe43+-0x2f4e+0.5),_0x15b48c,_0x40d5bd+(-0xeb*-0x23+-0x622*-0x1+-0x2643),0x13d5+0x902*0x1+-0x1cd5),Wt['float2Byte'+'s'](_0x676687['_outerCone'+'AngleCos']*(-0x4*0x335+0x21ad+-0x3*0x6f3+0.5-i_)+(0x1b6f+-0x8ec*0x1+-0x1283*0x1+0.5),_0x15b48c,_0x40d5bd+(0x216c*-0x1+-0x3*-0x285+0x19df),-0x2549+0xe*-0x105+0x3391*0x1);}['addLightDa'+'taShadowBi'+'as'](_0x405924,_0x12a787,_0xe745f7){const _0x4a040b=_0xe745f7['getRenderD'+'ata'](null,0x1472*-0x1+0x23df+0x167*-0xb),_0x364247=_0xe745f7['_getUnifor'+'mBiasValue'+'s'](_0x4a040b);Wt['float2Byte'+'sRange'](_0x364247['bias'],_0x405924,_0x12a787,-(-0x1a5+-0x5a0+-0x26*-0x31),-0x10de+0xbff+0x4f3,-0x1fd9*0x1+-0x1*-0xe49+0x1192),Wt['float2Byte'+'s'](_0x364247['normalBias'],_0x405924,_0x12a787+(0x1*-0xa39+-0xf71*0x1+0x19ac),-0x1*-0x2623+-0x1e27+-0x7fa);}['addLightDa'+'taCookies'](_0x5e8e24,_0x4e55ec,_0x329285){const _0x362329=_0x329285['_cookieCha'+'nnel']==='rgb';if(_0x5e8e24[_0x4e55ec+(-0x14*-0x92+0x3d*-0x91+0x3*0x7b7)]=Math['floor'](_0x329285['cookieInte'+'nsity']*(-0x17ec+0x5*-0x32f+0x28d6)),_0x5e8e24[_0x4e55ec+(0x103*-0x1+0xd21*-0x1+0xe25)]=_0x362329?0x523+0x7ea+-0xc0e:-0x1*-0x866+0x1*0x3aa+-0xc10,!_0x362329){const _0x5b3440=_0x329285['_cookieCha'+'nnel'];_0x5e8e24[_0x4e55ec+(-0x17e2+0x3b*0x25+0xf5f)]=_0x5b3440==='rrr'?0x1ffb+0x1724+0x6c4*-0x8:0x17*-0x161+0xc97+0x1320,_0x5e8e24[_0x4e55ec+(-0x1eb2+0x7*0x3e6+-0x36d*-0x1)]=_0x5b3440==='ggg'?0x560+0x1295+-0x1*0x16f6:-0x24a5+-0x1399+0x383e,_0x5e8e24[_0x4e55ec+(-0xab1+0x189d+-0xde6)]=_0x5b3440==='bbb'?-0x1*0x51b+-0xe*0x296+-0x70d*-0x6:-0x4*0x512+0x1*0x1866+-0x2*0x20f,_0x5e8e24[_0x4e55ec+(0xfd*-0x17+-0x121b+0x28dd)]=_0x5b3440==='aaa'?0x1*-0x1525+-0x2*0xbb+0x179a:0x10f3*-0x1+0x128b*0x2+0x5*-0x407;}}['addLightDa'+'ta'](_0x3ad5dd,_0x230b20){const _0x4e54a9=_0x3ad5dd['_type']===Re,_0x5bd8e7=_0x3ad5dd['atlasViewp'+'ortAllocat'+'ed'],_0x1299f2=this['cookiesEna'+'bled']&&!!_0x3ad5dd['_cookie']&&_0x5bd8e7,_0x11d9e8=this['areaLights'+'Enabled']&&_0x3ad5dd['shape']!==yt,_0x23cf4f=this['shadowsEna'+'bled']&&_0x3ad5dd['castShadow'+'s']&&_0x5bd8e7,_0x595441=_0x3ad5dd['_node']['getPositio'+'n']();let _0x44bfc4=null,_0x504330=null;_0x4e54a9?_0x23cf4f?_0x44bfc4=_0x3ad5dd['getRenderD'+'ata'](null,0xd2+-0x1*-0x257+-0x329)['shadowMatr'+'ix']:_0x1299f2&&(_0x44bfc4=Ma['evalSpotCo'+'okieMatrix'](_0x3ad5dd)):(_0x23cf4f||_0x1299f2)&&(_0x504330=_0x3ad5dd['atlasViewp'+'ort']);const _0x31fd0f=this['lights8'],_0x21f2e5=_0x230b20*this['lightsText'+'ure8']['width']*(-0x84b+-0xa9*0x38+0x2d47);this['addLightDa'+'taFlags'](_0x31fd0f,_0x21f2e5+(-0x1714+0x14e9*-0x1+0x2c01)*Sr['FLAGS'],_0x3ad5dd,_0x4e54a9,_0x23cf4f,_0x3ad5dd['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x31fd0f,_0x21f2e5+(0x1605*-0x1+0x94*0x7+0x11fd)*Sr['COLOR_A'],_0x3ad5dd,_0x1299f2),_0x4e54a9&&this['addLightDa'+'taSpotAngl'+'es'](_0x31fd0f,_0x21f2e5+(-0x445+-0x17c+0x7*0xd3)*Sr['SPOT_ANGLE'+'S'],_0x3ad5dd),_0x3ad5dd['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x31fd0f,_0x21f2e5+(-0x84*-0x9+0x6a8+0x1*-0xb48)*Sr['SHADOW_BIA'+'S'],_0x3ad5dd),_0x1299f2&&this['addLightDa'+'taCookies'](_0x31fd0f,_0x21f2e5+(-0xa7c*0x2+-0x1c5*0x7+-0x1*-0x215f)*Sr['COOKIE_A'],_0x3ad5dd);const _0x18f425=this['lightsFloa'+'t'],_0x2169cf=_0x230b20*this['lightsText'+'ureFloat']['width']*(0xddc+0xe3*0x27+-0x306d);if(_0x18f425[_0x2169cf+(0x165c+0x2614+-0x3c6c)*lt['POSITION_R'+'ANGE']+(0x265e+0xf83*0x1+-0x35e1)]=_0x595441['x'],_0x18f425[_0x2169cf+(-0x281*0xd+-0x22bd+0x434e)*lt['POSITION_R'+'ANGE']+(0x12d*0x7+-0x1d1e+-0xe*-0x17e)]=_0x595441['y'],_0x18f425[_0x2169cf+(-0x2420+-0x4a2+-0x22*-0x133)*lt['POSITION_R'+'ANGE']+(0x1851+-0x1*0x1796+-0xb9)]=_0x595441['z'],_0x18f425[_0x2169cf+(0x1c6b+0x21a*-0x1+-0x1*0x1a4d)*lt['POSITION_R'+'ANGE']+(0x19a1+-0xe8+-0x18b6*0x1)]=_0x3ad5dd['attenuatio'+'nEnd'],_0x4e54a9&&(this['getSpotDir'+'ection'](Zt,_0x3ad5dd),_0x18f425[_0x2169cf+(0x90*-0x9+-0x4a7+0x9bb)*lt['SPOT_DIREC'+'TION']+(0x132+-0xaaa+-0x194*-0x6)]=Zt['x'],_0x18f425[_0x2169cf+(-0x195*0x17+0xc1f+0x1848)*lt['SPOT_DIREC'+'TION']+(0x2*-0xcec+0x6*-0x96+0x1d5d)]=Zt['y'],_0x18f425[_0x2169cf+(0x2dd*-0xb+-0xd0f+0x475*0xa)*lt['SPOT_DIREC'+'TION']+(0x1*0x176f+-0x1dfd+0x69*0x10)]=Zt['z']),_0x44bfc4){const _0x2e02de=_0x44bfc4['data'];for(let _0x4ad2d4=0xb*0xa1+-0x14c*0xa+0x60d*0x1;_0x4ad2d4<-0xab0+0xe1c+-0x35c;_0x4ad2d4++)_0x18f425[_0x2169cf+(0x1478+0x433+0x1*-0x18a7)*lt['PROJ_MAT_0']+_0x4ad2d4]=_0x2e02de[_0x4ad2d4];}if(_0x504330&&(_0x18f425[_0x2169cf+(0xd82+-0x801+-0x57d)*lt['ATLAS_VIEW'+'PORT']+(0x5*-0x5d5+0x42a+0x3*0x855)]=_0x504330['x'],_0x18f425[_0x2169cf+(-0x15*-0x161+0xb4*-0x1e+0x1*-0x7d9)*lt['ATLAS_VIEW'+'PORT']+(-0x562+0x2*0x77+0x475)]=_0x504330['y'],_0x18f425[_0x2169cf+(0xaa+-0x13*-0x1bf+0x21d3*-0x1)*lt['ATLAS_VIEW'+'PORT']+(-0x1e3e+-0x1*0x1c2e+0x137a*0x3)]=_0x504330['z']/(-0x1f3c*0x1+0xad*0x2d+-0x6b*-0x2)),_0x11d9e8){const _0x4c4946=this['getLightAr'+'eaSizes'](_0x3ad5dd);_0x18f425[_0x2169cf+(-0x336+-0x1ff0+0x232a)*lt['AREA_DATA_'+'WIDTH']+(0xbde+0xcd5+-0x18b3)]=_0x4c4946[0x43*0x8f+0x1cdf+0x2*-0x2126],_0x18f425[_0x2169cf+(0x7cb+0x14cf+-0x1c96)*lt['AREA_DATA_'+'WIDTH']+(0x1*-0x67+-0x11dd+0x1245)]=_0x4c4946[0x405+0x160b+0x1*-0x1a0f],_0x18f425[_0x2169cf+(-0xdcc+-0x2*0xcb9+0x2742)*lt['AREA_DATA_'+'WIDTH']+(0x1*-0xa81+-0x7f2+0x1275)]=_0x4c4946[0x246b*0x1+0x1d2b+-0x4194],_0x18f425[_0x2169cf+(0x24e1*-0x1+0x26a5+-0x8*0x38)*lt['AREA_DATA_'+'HEIGHT']+(0x1ecf*0x1+0x3c0+0x3*-0xb85)]=_0x4c4946[-0xd*-0x122+0x9dc*-0x3+0xedd],_0x18f425[_0x2169cf+(-0x17eb+-0x5d*0x32+0x2a19)*lt['AREA_DATA_'+'HEIGHT']+(-0xc*-0x15f+0x8a8*0x1+0x1*-0x191b)]=_0x4c4946[0x24d*0xb+-0x3*-0xd9+0x1*-0x1bd6],_0x18f425[_0x2169cf+(0x6*-0x647+0x32*0x82+-0x79*-0x1a)*lt['AREA_DATA_'+'HEIGHT']+(-0xe33*-0x1+-0x1d0a+0xed9)]=_0x4c4946[-0x7*0x3a5+-0x1121+-0xa3*-0x43];}}}const Ml=new T(),Pl=new T(),Rl=new T(),bd=new _e(),r_=-0x1*-0x1c81+0x5*0x115+-0x5a7*0x6+0.000001,n_=0x1457+0x1c5f+-0x20b6;class a_{constructor(){this['light']=null,this['min']=new T(),this['max']=new T();}}class zu{constructor(_0x1d4a3a){c(this,'clusterTex'+'ture'),(this['device']=_0x1d4a3a,this['name']='Untitled',this['reportCoun'+'t']=0x85f*0x1+-0x37*-0xb3+-0x2ed4,this['boundsMin']=new T(),this['boundsMax']=new T(),this['boundsDelt'+'a']=new T(),this['_cells']=new T(-0x1a2e+-0x271*-0x5+0x2*0x6fd,-0x2693+-0x2235+-0x1843*-0x3,0x13*-0x107+0x692+-0x33d*-0x4),this['_cellsLimi'+'t']=new T(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x16*0x6f+0x1b32+-0x24b8,this['_maxAttenu'+'ation']=-0x4a7+-0x41e+-0x8c5*-0x1,this['_maxColorV'+'alue']=0x1d66+0x1b08+-0x386e,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new a_()),this['lightsBuff'+'er']=new E0(_0x1d4a3a),this['registerUn'+'iforms'](_0x1d4a3a));}set['maxCellLig'+'htCount'](_0x5511d8){_0x5511d8!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x5511d8,this['_cellsDirt'+'y']=!(0x113*-0x3+0x2365+0x80b*-0x4));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x521fed){Ml['copy'](_0x521fed)['floor'](),this['_cells']['equals'](Ml)||(this['_cells']['copy'](Ml),this['_cellsLimi'+'t']['copy'](Ml)['sub'](T['ONE']),this['_cellsDirt'+'y']=!(0xf56+-0x2104+0x11ae));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x37eccb){this['_clusterSk'+'ipId']=_0x37eccb['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x37eccb['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x37eccb['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x37eccb['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x1*-0x1c19+0x1*0x419+-0x202f),this['_clusterBo'+'undsMinId']=_0x37eccb['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x994*-0x1+-0x1*0x1493+0x1e2a),this['_clusterBo'+'undsDeltaI'+'d']=_0x37eccb['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x6a5+-0x100a+0x245*0xa),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x37eccb['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1*-0x329+-0x4*0x623+0x4*0x6ee),this['_clusterCe'+'llsDotId']=_0x37eccb['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(-0x1fa6*-0x1+0x5b3+-0x2*0x12ab),this['_clusterCe'+'llsMaxId']=_0x37eccb['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x5*-0x2fc+-0x15*-0x53+-0x15b8),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x37eccb['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x2423*0x1+-0x1ff4+0x16b3*0x3);}['updatePara'+'ms'](_0xe15741){_0xe15741&&(this['cells']=_0xe15741['cells'],this['maxCellLig'+'htCount']=_0xe15741['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0xe15741['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0xe15741['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0xe15741['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x59*0x2b+-0x12cb+-0x35*-0xa3);const _0x125d3c=this['_cells']['x'],_0x51bec6=this['_cells']['y'],_0x32131e=this['_cells']['z'],_0x1c25a2=_0x125d3c*_0x51bec6*_0x32131e,_0x36e18e=this['maxCellLig'+'htCount']*_0x1c25a2;let _0x3a018e=Math['ceil'](Math['sqrt'](_0x36e18e));_0x3a018e=N['roundUp'](_0x3a018e,this['maxCellLig'+'htCount']);const _0x42bf39=Math['ceil'](_0x36e18e/_0x3a018e);v['assert'](_0x3a018e<=n_&&_0x42bf39<=n_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x1979+-0x4d4+0x1e4d]=_0x125d3c,this['_clusterCe'+'llsMaxData'][-0xaf*-0xb+-0x139e+0xc1a]=_0x51bec6,this['_clusterCe'+'llsMaxData'][0x2394+0x6ad*0x5+0x13*-0x3a1]=_0x32131e,this['_clusterCe'+'llsDotData'][0x2*0x5f7+-0x1178+-0x2c5*-0x2]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x21ab+0x66c+-0x2816]=_0x125d3c*_0x32131e*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0xc2f*-0x1+-0x1*-0x7d2+-0x13ff]=_0x125d3c*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x36e18e),this['counts']=new Int32Array(_0x1c25a2),this['_clusterTe'+'xtureSizeD'+'ata'][-0x277*0x1+-0x15*0x1c9+0x27f4]=_0x3a018e,this['_clusterTe'+'xtureSizeD'+'ata'][0x1eef+0x139+0x2027*-0x1]=(0xe4e*0x2+-0x284*-0x7+-0x1*0x2e37)/_0x3a018e,this['_clusterTe'+'xtureSizeD'+'ata'][0x2327*-0x1+-0x1cf*0x1+0x24f8]=(0x842+0x1137*-0x2+-0x1a2d*-0x1)/_0x42bf39,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x3a018e,_0x42bf39,sp,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x33*-0xb5+0x3*-0x59+0x2303*-0x1?0xbce+-0x1bf1+0x11*0xf3:0x5*-0x599+-0xb*-0x20e+-0x1*-0x564),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x29040c=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x180d+0x1557+-0x2d64]=this['_cells']['x']/_0x29040c['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x952+-0x7*0x454+0x93*0x45]=this['_cells']['y']/_0x29040c['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x18*-0x86+0xb78+0x11a]=this['_cells']['z']/_0x29040c['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x2ba+0x853*-0x4+0x7*0x45e]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0xa4*-0x31+-0xeab+0x2e10]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x55c+0x2*0x10e7+0x10*-0x1c7]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1693+0x355*-0x4+0x107*-0x9]=_0x29040c['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0x7*0x18d+-0x1bae+0x10d4]=_0x29040c['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x8bb*-0x1+0x15d*-0x9+-0xe3*-0x4]=_0x29040c['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x1249+-0x2088+0xe3f]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x983+0x56d*-0x3+0x19cb]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x9f89,_0x499660,_0x592f26){_0x499660['copy'](_0x9f89['min']),_0x499660['sub'](this['boundsMin']),_0x499660['div'](this['boundsDelt'+'a']),_0x499660['mul2'](_0x499660,this['cells']),_0x499660['floor'](),_0x592f26['copy'](_0x9f89['max']),_0x592f26['sub'](this['boundsMin']),_0x592f26['div'](this['boundsDelt'+'a']),_0x592f26['mul2'](_0x592f26,this['cells']),_0x592f26['ceil'](),_0x499660['max'](T['ZERO']),_0x592f26['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x519345){const _0x46b701=this['lightsBuff'+'er']['maxLights'],_0x34a36d=this['_usedLight'+'s'];let _0x2016bb=0x961*-0x3+-0x501+0x2125;_0x519345['forEach'](_0x49a0b1=>{const _0x16a391=!!(_0x49a0b1['mask']&(hs|cr)),_0x50fd0b=_0x49a0b1['type']===Re&&_0x49a0b1['_outerCone'+'Angle']===0x43*-0x71+-0xd1f*-0x2+0x355;if(_0x49a0b1['enabled']&&_0x49a0b1['type']!==oe&&_0x49a0b1['visibleThi'+'sFrame']&&_0x49a0b1['intensity']>-0x25*-0x83+0x10f*-0x2+-0x10d1&&_0x16a391&&!_0x50fd0b){if(_0x2016bb<_0x46b701){let _0x287131;_0x2016bb<_0x34a36d['length']?_0x287131=_0x34a36d[_0x2016bb]:(_0x287131=new a_(),_0x34a36d['push'](_0x287131)),_0x287131['light']=_0x49a0b1,_0x49a0b1['getBoundin'+'gBox'](bd),_0x287131['min']['copy'](bd['getMin']()),_0x287131['max']['copy'](bd['getMax']()),_0x2016bb++;}else v['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x46b701-(0x2b1*-0x1+0xe1d*-0x1+0x10cf))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x34a36d['length']=_0x2016bb;}['evaluateBo'+'unds'](){const _0xfa08ba=this['_usedLight'+'s'],_0x4ad055=this['boundsMin'],_0x1f6180=this['boundsMax'];if(_0xfa08ba['length']>-0x1c9b+-0x9*-0xb+0x1c39){_0x4ad055['copy'](_0xfa08ba[-0x1d42+0x1d90+-0x4d]['min']),_0x1f6180['copy'](_0xfa08ba[-0x2357*-0x1+-0x7d2+-0x24b*0xc]['max']);for(let _0x5d38e8=-0x3e*0x3b+0x2*0xb9a+-0x17c*0x6;_0x5d38e8<_0xfa08ba['length'];_0x5d38e8++)_0x4ad055['min'](_0xfa08ba[_0x5d38e8]['min']),_0x1f6180['max'](_0xfa08ba[_0x5d38e8]['max']);}else _0x4ad055['set'](-0x8d8*0x4+-0x1071+0x33d1,0x1b97+0x21*-0xf4+0x17*0x2b,0x1*-0x1a15+-0x66*-0x1f+-0x2bf*-0x5),_0x1f6180['set'](-0xdad+-0xbf1+0x199f,0x15c*-0x19+-0xcd0+0x2ecd*0x1,0x1e73+0x2648+-0x44ba);this['boundsDelt'+'a']['sub2'](_0x1f6180,_0x4ad055),this['lightsBuff'+'er']['setBounds'](_0x4ad055,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0xda87e4=-0x130e+0x1f78+-0xc6a,_0x4056ed=-0x193*0x15+0xd49+0x2*0x9e3;const _0xafb4c8=this['_usedLight'+'s'];for(let _0x45d1d4=0x1583+-0xda2+-0x7e0;_0x45d1d4<_0xafb4c8['length'];_0x45d1d4++){const _0x473ba5=_0xafb4c8[_0x45d1d4]['light'];_0xda87e4=Math['max'](_0x473ba5['attenuatio'+'nEnd'],_0xda87e4);const _0x220259=_0x473ba5['_colorLine'+'ar'];_0x4056ed=Math['max'](_0x220259[-0xe2a+0x9*0x298+-0x92e],_0x4056ed),_0x4056ed=Math['max'](_0x220259[-0x2649*0x1+0x1a*-0xdd+-0x1e5e*-0x2],_0x4056ed),_0x4056ed=Math['max'](_0x220259[-0x22d2+0xad5*-0x3+0x4353],_0x4056ed);}this['_maxAttenu'+'ation']=_0xda87e4+r_,this['_maxColorV'+'alue']=_0x4056ed+r_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x573a5f){this['counts']['fill'](0x1249+-0x1006+-0x3*0xc1),this['clusters']['fill'](0x626*0x1+0x48*0x49+0x1*-0x1aae),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x573a5f?_0x573a5f['areaLights'+'Enabled']:!(0x60*0x4a+0xecc+-0x2a8b);const _0x19bacc=this['_cells']['x'],_0x3fd3c5=this['_cells']['z'],_0x13ca63=this['counts'],_0x3e3235=this['_maxCellLi'+'ghtCount'],_0x58e2fa=this['clusters'],_0x29ffc3=this['maxCellLig'+'htCount'];let _0x42391f=!(-0x43b+-0x62*0x1+0x3*0x18a);const _0x5141b8=this['_usedLight'+'s'];for(let _0x2c9a5e=-0x5b*-0x55+0x23f8+-0x422e;_0x2c9a5e<_0x5141b8['length'];_0x2c9a5e++){const _0x4ab830=_0x5141b8[_0x2c9a5e],_0x5e4e60=_0x4ab830['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x5e4e60,_0x2c9a5e),this['evalLightC'+'ellMinMax'](_0x4ab830,Pl,Rl);const _0x16b8ef=Pl['x'],_0x718fd8=Rl['x'],_0x2fa469=Pl['y'],_0x920722=Rl['y'],_0x5117b1=Pl['z'],_0x379732=Rl['z'];for(let _0x1957e9=_0x16b8ef;_0x1957e9<=_0x718fd8;_0x1957e9++)for(let _0x4e306f=_0x5117b1;_0x4e306f<=_0x379732;_0x4e306f++)for(let _0x2a5420=_0x2fa469;_0x2a5420<=_0x920722;_0x2a5420++){const _0x437997=_0x1957e9+_0x19bacc*(_0x4e306f+_0x2a5420*_0x3fd3c5),_0x334d8d=_0x13ca63[_0x437997];_0x334d8d<_0x3e3235?(_0x58e2fa[_0x29ffc3*_0x437997+_0x334d8d]=_0x2c9a5e,_0x13ca63[_0x437997]=_0x334d8d+(0x1fcf+0xd1*0x1+0x7*-0x4a9)):_0x42391f=!(0x18bf+0x23cc+0x581*-0xb);}}_0x42391f&&this['reportCoun'+'t']<-0x71f*-0x3+0xffa*0x1+0x119*-0x22&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x25f1+-0xab3+0x1b3a*-0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0xbfa3f9,_0x4eb241=null){this['updatePara'+'ms'](_0x4eb241),this['updateCell'+'s'](),this['collectLig'+'hts'](_0xbfa3f9),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x4eb241),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const o_=-0x15ab+0x19e1+-0x434+0.39996322972865306,ll={'circlePoint'(_0x682031){const _0x56c904=Math['sqrt'](Math['random']()),_0x8565e7=Math['random']()*(-0xf6f+0x1539+-0x5c8)*Math['PI'];_0x682031['x']=_0x56c904*Math['cos'](_0x8565e7),_0x682031['y']=_0x56c904*Math['sin'](_0x8565e7);},'circlePointDeterministic'(_0x3885ca,_0x135658,_0x17a4c1){const _0x4fa776=_0x135658*o_,_0x4e5867=Math['sqrt'](_0x135658)/Math['sqrt'](_0x17a4c1);_0x3885ca['x']=_0x4e5867*Math['cos'](_0x4fa776),_0x3885ca['y']=_0x4e5867*Math['sin'](_0x4fa776);},'spherePointDeterministic'(_0x46aa45,_0x698882,_0x3c80f5,_0x19a9c3=-0x1*0x152e+-0x24fb*0x1+-0x3*-0x1363,_0x3e4fb5=-0x1*-0x330+-0x1778+0x1449){_0x19a9c3=-0x1891*0x1+0x61*0x51+0x1*-0x61f-(0x2267+-0x1125+-0x170*0xc)*_0x19a9c3,_0x3e4fb5=0x1406+0x53*-0x25+0x4f*-0x1a-(-0x39c*0x1+-0x2383+0x2721)*_0x3e4fb5;const _0x44a10b=N['lerp'](_0x19a9c3,_0x3e4fb5,_0x698882/_0x3c80f5),_0x5031fe=Math['sqrt'](0x780+0x1*-0x5cf+-0x24*0xc-_0x44a10b*_0x44a10b),_0x59c015=o_*_0x698882;_0x46aa45['x']=Math['cos'](_0x59c015)*_0x5031fe,_0x46aa45['y']=_0x44a10b,_0x46aa45['z']=Math['sin'](_0x59c015)*_0x5031fe;},'radicalInverse'(_0x757e7d){let _0x95d709=(_0x757e7d<<0x1083*0x2+0xdba*-0x2+-0x582|_0x757e7d>>>0xd13*-0x2+-0x394+-0x1f*-0xf6)>>>0x1*0x23ae+0x22d0+-0x467e;return _0x95d709=((_0x95d709&-0xdb*0x4c586b+-0x1*0x8263238b+-0x119081c69*-0x1)<<0x8*-0x71+0x527+-0x19e|(_0x95d709&-0x1bd71*0x1ca3+0x5f6bad7d*-0x1+0x13bea531a)>>>0x23c9+-0x1101+-0x12c7)>>>0x157f+-0x71*-0x3+-0x2e*0x7f,_0x95d709=((_0x95d709&-0x5b1ddf06+-0x3c409f26+0x1*0xca91b15f)<<0x16*0x11+0x349*-0x4+0xbb0|(_0x95d709&0x601693a3*-0x1+-0x17fcd9619+0x2acb0f688)>>>0x1295+-0x13c7*-0x1+-0x265a*0x1)>>>-0x8*-0x3fb+-0x1*-0x729+-0x2701,_0x95d709=((_0x95d709&-0x21b359*-0x19+-0x2ff24d+0xbf47dab)<<-0x1ddf+0x603+0x17e0|(_0x95d709&0x1daf81ca1+0x1*0x16332b96c+-0x24d39e51d)>>>-0x10b7*-0x1+-0x5*0x429+0x41a)>>>-0x89+-0x283*-0xf+-0x4*0x949,_0x95d709=((_0x95d709&0x13*0x705e8+-0x1*0x4fd943+0xc96a0a)<<0x49d+-0x1*0x868+0xb*0x59|(_0x95d709&-0x51c4*0x4b88c+-0x83e6c8eb*0x1+0x5e8967*0x82d)>>>0x180+0x1*-0x2681+0x2509)>>>-0x5*0x125+-0x20be+0x2677*0x1,_0x95d709*(-0x188b+0xe83+0xa08+2.3283064365386963e-10);}},gC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},yC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Es{static['decodeFunc'](_0x2ca69f){return gC[_0x2ca69f]||'decodeGamm'+'a';}static['encodeFunc'](_0x5dbcfe){return yC[_0x5dbcfe]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x121975,_0x298ff2){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x298ff2['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x121975['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+X['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const l_=_0x14c921=>{switch(_0x14c921){case Au:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Il=(_0x2f1ad2,_0x52339f,_0x4d2766)=>{if(_0x2f1ad2<=0x8b*-0x17+-0x43*-0x8+0x1*0xa65)_0x52339f[_0x4d2766+(0x445*0x9+-0x20a1+0x2*-0x2e6)]=0x69c+0x8ef*0x1+0x1*-0xf8b,_0x52339f[_0x4d2766+(0x1f93+-0x1855*-0x1+0x515*-0xb)]=-0x221f+0x133*-0x17+0x3db4,_0x52339f[_0x4d2766+(-0x2052+0xab6+-0x2*-0xacf)]=-0xe93+-0x2c4+0x1157,_0x52339f[_0x4d2766+(-0x5e*0x1+0xcb6+0x29*-0x4d)]=-0x2*-0x14f+-0x1f99*0x1+0x1cfb;else{if(_0x2f1ad2>=-0x1*-0x21c6+0xe50+-0x3015)_0x52339f[_0x4d2766+(0xc1*0x25+-0x117f+-0xa66)]=0x1990+-0xaa4+0xded*-0x1,_0x52339f[_0x4d2766+(0x2559+-0x1c80+0x4*-0x236)]=-0x43*0x89+-0x1de0+0xed*0x47,_0x52339f[_0x4d2766+(0x1bc5*0x1+0x1c46+-0x3809)]=-0x10f*0x9+0x3*-0x419+0x15d2,_0x52339f[_0x4d2766+(-0x41*-0x5+0x746+0x9c*-0xe)]=-0x205*0x9+0x6cd+0xb60;else{let _0x182459=(0x6c+0x14ac+-0x1*0x1517)*_0x2f1ad2%(0xcf7*0x1+-0x669*0x6+0x1980),_0x2f55cc=(-0x44*-0x65+0x1ac1+-0x35*0xfe)*_0x2f1ad2%(0x70b+0x1285+0x9*-0x2d7),_0xcc46e1=(-0xa33a+0x71*0x20e+0xb90d)*_0x2f1ad2%(-0x2336+0x68d+0x1caa);const _0x51561a=(0x13be9*0x191+-0x16d2a22+0x97*0xd118)*_0x2f1ad2%(0x79f+0x188c+-0x202a);_0x182459-=_0x2f55cc/(0x23ea+-0x4*-0x2f+-0x23a7),_0x2f55cc-=_0xcc46e1/(0x120+-0x1448+0x1427),_0xcc46e1-=_0x51561a/(0x20df+0x1*0x222+-0x1101*0x2),_0x52339f[_0x4d2766+(-0x545*0x1+-0xf*0x18a+0x1c5b)]=Math['min'](0x24f8+0x2*0xac+-0x2551,Math['floor'](_0x182459*(-0x12ee+-0x512*-0x5+0x2*-0x2b6))),_0x52339f[_0x4d2766+(0x2*0x613+-0x6*0x46a+0xe57)]=Math['min'](0x104c+0x2f*-0xcf+0x5ad*0x4,Math['floor'](_0x2f55cc*(-0x611+0x2*0x136c+-0x1fc7))),_0x52339f[_0x4d2766+(-0x16*0x1c6+-0x1c51+0x1*0x4357)]=Math['min'](0x1*-0xdbd+0x1e4e+-0x7c9*0x2,Math['floor'](_0xcc46e1*(0x2630+-0x29*0x95+-0xd53))),_0x52339f[_0x4d2766+(-0x1d5+0xed*0x9+0x67d*-0x1)]=Math['min'](0x1*0x120e+0x1cf2+-0x2e01,Math['floor'](_0x51561a*(-0x543+-0x49*-0x54+-0x11b1)));}}},xC=_0x2f9c23=>{const _0x4b6eae=_0x2f9c23['length'],_0x56738b=Math['min'](_0x4b6eae,-0x1*0xb2d+-0x13b4+0x20e1),_0x4688c1=Math['ceil'](_0x4b6eae/_0x56738b),_0x2d0615=new Uint8Array(_0x56738b*_0x4688c1*(-0x17e0*0x1+-0x2*0x7ea+0x27b8));let _0x71ce91=0x5ef+0x834+0x2f*-0x4d;for(let _0x3a3682=-0xbf2*0x2+0xb03*-0x2+-0x7a7*-0x6;_0x3a3682<_0x4b6eae;_0x3a3682+=-0x2*-0x10d2+-0x178c+0xa14*-0x1)Il(_0x2f9c23[_0x3a3682+(-0x99*-0x24+0x21a1+0x1*-0x3725)]*(0x1490+-0x1031+-0x45f+0.5)+(0x29e+0x436+-0x4c*0x17+0.5),_0x2d0615,_0x71ce91+(-0x1084+0x1e1e+-0xd9a*0x1)),Il(_0x2f9c23[_0x3a3682+(0x18*0xc4+-0x1*0xc81+-0x5de)]*(-0x1fa9*-0x1+-0x1*0x1346+-0xc63+0.5)+(-0x1f88+0x1b66+0x422+0.5),_0x2d0615,_0x71ce91+(0x1ec3+0x468+-0x2327*0x1)),Il(_0x2f9c23[_0x3a3682+(0x22ec+-0x296+-0x2054)]*(-0x1c45*0x1+-0x3e1*0x5+0x2faa+0.5)+(0x15ad+-0x1f6a+0x33f*0x3+0.5),_0x2d0615,_0x71ce91+(-0x232*-0x2+0x1d08+-0x2164)),Il(_0x2f9c23[_0x3a3682+(-0x137a+0xaab+0x469*0x2)]/(-0x1*0x1b67+0x989*0x3+0x14*-0xf),_0x2d0615,_0x71ce91+(-0x2d5*-0x2+0x7*0x1e7+-0x1*0x12ef)),_0x71ce91+=0x2182+0x2541+-0x7db*0x9;return{'width':_0x56738b,'height':_0x4688c1,'data':_0x2d0615};},SC=(_0x5a1773,_0x378dcf,_0x178771,_0xcc8ca4)=>{const _0x36f2a2=_0x178771*(-0xe12+0x10bd+-0x1*0x2a9)*Math['PI'],_0x5bcae8=Math['pow'](-0x2*-0xd92+-0x12a+-0x19f9-_0x378dcf,(0x6c3+-0x134+0xed*-0x6)/(_0xcc8ca4+(-0x19b1+-0x1*0x99e+0x1*0x2350))),_0xcfdfe5=Math['sqrt'](0x89e+0x1*0x773+-0x1010*0x1-_0x5bcae8*_0x5bcae8);_0x5a1773['set'](Math['cos'](_0x36f2a2)*_0xcfdfe5,Math['sin'](_0x36f2a2)*_0xcfdfe5,_0x5bcae8)['normalize']();},vC=(_0x18224e,_0x5edae9,_0x2a2c6b)=>{const _0x45018c=_0x2a2c6b*(-0x1358+0x6fe+-0x62e*-0x2)*Math['PI'],_0x4a6286=Math['sqrt'](-0x1b3e+0x1da5+-0x266-_0x5edae9),_0x21c70a=Math['sqrt'](_0x5edae9);_0x18224e['set'](Math['cos'](_0x45018c)*_0x21c70a,Math['sin'](_0x45018c)*_0x21c70a,_0x4a6286)['normalize']();},bC=(_0x5dc5c9,_0x5352f7,_0x1f1892,_0x443af1)=>{const _0x58ece2=_0x1f1892*(-0x8*-0x362+-0x71*-0xe+-0x4*0x84f)*Math['PI'],_0x2597a2=Math['sqrt']((0x69d+-0x135*0x14+0x1188-_0x5352f7)/(-0xc99+-0xe*-0x62+-0x9*-0xce+(_0x443af1*_0x443af1-(-0x943*0x1+0xb45+-0x201))*_0x5352f7)),_0x5eb7dc=Math['sqrt'](0x151b*-0x1+-0x1157+0x243*0x11-_0x2597a2*_0x2597a2);_0x5dc5c9['set'](Math['cos'](_0x58ece2)*_0x5eb7dc,Math['sin'](_0x58ece2)*_0x5eb7dc,_0x2597a2)['normalize']();},wC=(_0x322fbe,_0x4e57cb)=>{const _0x168aed=_0x322fbe*_0x4e57cb,_0x1ef3ed=_0x4e57cb/(-0x4dd+-0x1e2a+-0x76*-0x4c-_0x322fbe*_0x322fbe+_0x168aed*_0x168aed);return _0x1ef3ed*_0x1ef3ed*((0xdb1+0x65f+0xd*-0x18b)/Math['PI']);},TC=(_0xca0220,_0x2440a9)=>{const _0x5a77b3=new T(),_0x38c17c=[];for(let _0x4adab1=0xd59+-0x16f7+0x99e*0x1;_0x4adab1<_0xca0220;++_0x4adab1)SC(_0x5a77b3,_0x4adab1/_0xca0220,ll['radicalInv'+'erse'](_0x4adab1),_0x2440a9),_0x38c17c['push'](_0x5a77b3['x'],_0x5a77b3['y'],_0x5a77b3['z'],-0x84+-0xf11*-0x1+-0xe8d);return _0x38c17c;},AC=(_0x389820,_0x53a035)=>{const _0x5167f3=_0x53a035/_0x389820,_0x5a51b3=new T(),_0x16a103=[];for(let _0x589d26=-0x2483+0x1*0x30b+0x2178;_0x589d26<_0x389820;++_0x589d26){vC(_0x5a51b3,_0x589d26/_0x389820,ll['radicalInv'+'erse'](_0x589d26));const _0x1ddae3=_0x5a51b3['z']/Math['PI'],_0x2e9daf=(-0x893+0x123+0x770+0.5)*Math['log2'](_0x5167f3/_0x1ddae3);_0x16a103['push'](_0x5a51b3['x'],_0x5a51b3['y'],_0x5a51b3['z'],_0x2e9daf);}return _0x16a103;},EC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},CC=(_0x40f4c3,_0x24be9b)=>{const _0x20b316=EC[_0x40f4c3];return _0x20b316&&_0x20b316[_0x24be9b]||_0x40f4c3;},MC=(_0x44ba62,_0x2132be,_0x58c91a)=>{const _0x15ff80=_0x58c91a/_0x44ba62,_0x245379=-0x19*-0x166+0x1529*-0x1+-0xdcc-Math['log2'](_0x2132be)/(0x11fb+-0x11a6+-0x4a),_0x2951f7=_0x245379*_0x245379,_0x12ae8d=new T(),_0x36d14d=new T(),_0x1c680f=new T(0x5dc+-0x1b4f+0x1573,-0x5e*-0x1f+0x172b+-0x228d,-0x206f+0xd3*-0x23+0x1d*0x21d),_0x172b63=[],_0x347d37=CC(_0x44ba62,_0x2132be);for(let _0x15aaa2=-0x32e+-0x226a*0x1+0x2598;_0x15aaa2<_0x347d37;++_0x15aaa2){bC(_0x12ae8d,_0x15aaa2/_0x347d37,ll['radicalInv'+'erse'](_0x15aaa2),_0x2951f7);const _0x4db23a=_0x12ae8d['z'];if(_0x36d14d['set'](_0x12ae8d['x'],_0x12ae8d['y'],_0x12ae8d['z'])['mulScalar']((0xf9*-0x13+-0x1c0b+0x2e88)*_0x4db23a)['sub'](_0x1c680f),_0x36d14d['z']>0x214a*0x1+-0x153*-0x1b+-0x450b){const _0x1fa3d5=wC(Math['min'](-0x112+-0x2151+0x2264,_0x4db23a),_0x2951f7)/(0x2701+0x3*-0x5df+0x9*-0x260)+(0x29f*-0x1+-0x2459*0x1+0x26f8+0.001),_0x20596f=(0x1eb*0x9+-0x2*0xf53+0x1*0xd63+0.5)*Math['log2'](_0x15ff80/_0x1fa3d5);_0x172b63['push'](_0x36d14d['x'],_0x36d14d['y'],_0x36d14d['z'],_0x20596f);}}for(;_0x172b63['length']<_0x44ba62*(0x12af+0x1951+-0x2bfc);)_0x172b63['push'](0x8*-0x166+0x83*0x43+-0x1*0x1719,-0x9*-0x39d+-0xbd5*-0x3+-0x16ac*0x3,-0x5*0x6f5+-0xa2*0x3a+0x477d,0x1cef+-0x1dd9+-0x1*-0xea);return _0x172b63;},PC=(_0x5ecb7a,_0x327093,_0x43053d)=>{const _0x42cfa3=xC(_0x43053d);return new he(_0x5ecb7a,{'name':_0x327093,'width':_0x42cfa3['width'],'height':_0x42cfa3['height'],'mipmaps':!(0x2b0+-0x47*0x1+-0x268),'minFilter':de,'magFilter':de,'levels':[_0x42cfa3['data']]});};class C0{constructor(_0x2d9338=!(-0x2587+-0x1a3f+0x9*0x716)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x2d9338;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x3aa35e,_0x1f938c)=>{_0x3aa35e['destroy']();});}['get'](_0x4ba825,_0x454273){if(!this['map']['has'](_0x4ba825)){const _0x21293a=_0x454273();return this['map']['set'](_0x4ba825,_0x21293a),_0x21293a;}return this['map']['get'](_0x4ba825);}}const RC=new C0(!(-0x1*-0x189b+0x1d3*0x15+-0x3ee9*0x1)),IC=new Ot(),Lp=(_0xd6bc23,_0x2c8028,_0x15cdf4)=>IC['get'](_0xd6bc23,()=>new C0())['get'](_0x2c8028,()=>PC(_0xd6bc23,_0x2c8028,RC['get'](_0x2c8028,_0x15cdf4))),DC=(_0x2f6cd7,_0x3b2e28,_0x5793d2)=>{const _0xd2d0b='lambert-sa'+'mples-'+_0x3b2e28+'-'+_0x5793d2;return Lp(_0x2f6cd7,_0xd2d0b,()=>AC(_0x3b2e28,_0x5793d2));},LC=(_0x5772e2,_0x4f83ff,_0xdadea4)=>{const _0x10f6c8='phong-samp'+'les-'+_0x4f83ff+'-'+_0xdadea4;return Lp(_0x5772e2,_0x10f6c8,()=>TC(_0x4f83ff,_0xdadea4));},FC=(_0x38d75a,_0x38d0bc,_0xbb2cd9,_0x1b29cd)=>{const _0x42a1da='ggx-sample'+'s-'+_0x38d0bc+'-'+_0xbb2cd9+'-'+_0x1b29cd;return Lp(_0x38d75a,_0x42a1da,()=>MC(_0x38d0bc,_0xbb2cd9,_0x1b29cd));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function Qs(_0x43d165,_0x37041e,_0xc6098b={}){var _0x562a4c,_0xff8e16;v['assert'](_0x43d165 instanceof he&&_0x37041e instanceof he,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x10747d=_0xc6098b['seamPixels']??-0x21*-0x76+0xcc7*-0x1+-0x26f,_0x4aa35e=(((_0x562a4c=_0xc6098b['rect'])==null?void(-0x7*0x2c2+-0x264a+0x3998):_0x562a4c['z'])??_0x37041e['width'])-_0x10747d*(-0x1a17+-0x134+-0x1*-0x1b4d),_0x2b0453=(((_0xff8e16=_0xc6098b['rect'])==null?void(0x11e+0xe4c+-0xf6a):_0xff8e16['w'])??_0x37041e['height'])-_0x10747d*(-0x135a*0x2+0x1145+0x1571);if(_0x4aa35e<0x58d*-0x7+0x803+0x1ed9||_0x2b0453<0x1f54+0x25a0+0x3a1*-0x13)return!(-0x1*-0xb32+-0x163*0x2+-0x86b*0x1);const _0x14c2db={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x3a19b3=_0xc6098b['hasOwnProp'+'erty']('specularPo'+'wer')?_0xc6098b['specularPo'+'wer']:-0x1*0x268d+0x2586+0x108,_0x5ed2f2=_0xc6098b['hasOwnProp'+'erty']('face')?_0xc6098b['face']:null,_0x11e5ed=_0xc6098b['hasOwnProp'+'erty']('distributi'+'on')?_0xc6098b['distributi'+'on']:_0x3a19b3===0x156c+-0x27*-0x23+0x20*-0xd6?'none':'phong',_0x372ef0=_0x14c2db[_0x11e5ed]||'reproject',_0x494097=_0x372ef0['startsWith']('prefilterS'+'amples'),_0x3f6646=Es['decodeFunc'](_0x43d165['encoding']),_0xafd1c0=Es['encodeFunc'](_0x37041e['encoding']),_0x16e970='sample'+l_(_0x43d165['projection']),_0x27aa31='getDirecti'+'on'+l_(_0x37041e['projection']),_0xa92490=_0xc6098b['hasOwnProp'+'erty']('numSamples')?_0xc6098b['numSamples']:-0x6e*-0x32+0x6f*-0x5a+-0x6*-0x397,_0x140b40=_0x372ef0+'_'+_0x3f6646+'_'+_0xafd1c0+'_'+_0x16e970+'_'+_0x27aa31+'_'+_0xa92490,_0x2e29ab=_0x43d165['device'];let _0x3015e8=ka(_0x2e29ab)['getCachedS'+'hader'](_0x140b40);if(!_0x3015e8){const _0x12172e='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x372ef0+'\x0a'+(_0x494097?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x43d165['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x3f6646+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0xafd1c0+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x16e970+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x27aa31+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0xa92490+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0xa92490))['toFixed'](-0x211e+-0x1548+-0x13*-0x2dd)+'\x0a';_0x3015e8=Is(_0x2e29ab,OC,_0x12172e+'\x0a'+X['reprojectP'+'S'],_0x140b40);}G['pushGpuMar'+'ker'](_0x2e29ab,'ReprojectT'+'exture'),_0x2e29ab['setBlendSt'+'ate'](_t['NOBLEND']);const _0x1a8689=_0x2e29ab['scope']['resolve'](_0x43d165['cubemap']?'sourceCube':'sourceTex');v['assert'](_0x1a8689),_0x1a8689['setValue'](_0x43d165);const _0x12f494=_0x2e29ab['scope']['resolve']('params'),_0x1a0683=_0x2e29ab['scope']['resolve']('uvMod');_0x10747d>-0x54a+-0x1aba+0x2004?_0x1a0683['setValue']([(_0x4aa35e+_0x10747d*(-0x2011*-0x1+0x1*-0x14b3+0x2d7*-0x4))/_0x4aa35e,(_0x2b0453+_0x10747d*(0x143*0x1+-0x1c45*-0x1+0x1*-0x1d86))/_0x2b0453,-_0x10747d/_0x4aa35e,-_0x10747d/_0x2b0453]):_0x1a0683['setValue']([0x10ae+0x1f33+-0x2fe0,0xc7*0x2b+-0x1b46+-0x2*0x313,0x685*0x1+0x7*0x257+-0xb73*0x2,0x8*0xed+0x287*0x9+-0x1e27]);const _0x176675=[0x1118+-0x3*-0xc63+0x331*-0x11,_0x37041e['width']*_0x37041e['height']*(_0x37041e['cubemap']?-0x1*-0x1f8a+0x1fb0+-0x3f34:0x201d*-0x1+-0x1dfa+0x3e18),_0x43d165['width']*_0x43d165['height']*(_0x43d165['cubemap']?0x132+-0x7*0x35e+-0xb33*-0x2:0x22c2+0x1*0x262d+-0x48ee)];if(_0x494097){const _0xb12884=_0x43d165['width']*_0x43d165['height']*(_0x43d165['cubemap']?-0xbf*0x29+0x2f+0x13*0x19a:0x626+0x1c14+-0x1*0x2239),_0x29c08f=_0x11e5ed==='ggx'?FC(_0x2e29ab,_0xa92490,_0x3a19b3,_0xb12884):_0x11e5ed==='lambert'?DC(_0x2e29ab,_0xa92490,_0xb12884):LC(_0x2e29ab,_0xa92490,_0x3a19b3);_0x2e29ab['scope']['resolve']('samplesTex')['setValue'](_0x29c08f),_0x2e29ab['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0xba4+0x230a+-0x2ead)/_0x29c08f['width'],(0x1c14+-0x1*-0x1bf7+-0x380a)/_0x29c08f['height']]);}for(let _0x8d6ab3=-0x699+-0xe42*-0x1+-0x7a9;_0x8d6ab3<(_0x37041e['cubemap']?-0x3*0xbe5+-0x2*0x61c+-0x2fed*-0x1:-0x8af+-0x218c+0x6a*0x66);_0x8d6ab3++)if(_0x5ed2f2===null||_0x8d6ab3===_0x5ed2f2){const _0x1a7c29=new pt({'colorBuffer':_0x37041e,'face':_0x8d6ab3,'depth':!(0x1091*0x1+0xe*-0x185+0x4b6),'flipY':_0x2e29ab['isWebGPU']});_0x176675[-0x2291*0x1+0x40+0x2251]=_0x8d6ab3,_0x12f494['setValue'](_0x176675),dn(_0x2e29ab,_0x1a7c29,_0x3015e8,_0xc6098b==null?void(0x2516+-0x574+-0x1fa2):_0xc6098b['rect']),_0x1a7c29['destroy']();}return G['popGpuMark'+'er'](_0x2e29ab),!(-0x1d3a+-0xfdc*0x1+0x2d16);}const wd=(_0x2a62a2,_0x536b73=0x9f8+-0x7d0*0x2+0x5a8)=>-0x16a1+0x1*-0x101f+-0x26c1*-0x1+Math['floor'](Math['log2'](Math['max'](_0x2a62a2,_0x536b73))),kC=_0x87a32c=>_0x87a32c['textureHal'+'fFloatRend'+'erable'],BC=_0x45081e=>_0x45081e['textureFlo'+'atRenderab'+'le'],NC=_0xd16d43=>kC(_0xd16d43)?Je:BC(_0xd16d43)?Ke:Se,zC=_0x2d679a=>Se,UC=(_0x5a722e,_0x55b006,_0x3d656a,_0x55f328)=>new he(_0x5a722e,{'name':'lighting-'+_0x55b006,'cubemap':!(-0x25b2+-0x6d4+0x2*0x1643),'width':_0x55b006,'height':_0x55b006,'format':_0x3d656a,'type':Io,'addressU':ae,'addressV':ae,'mipmaps':!(-0xdd0+0x191b+-0xb4a)});class M0{static['generateSk'+'yboxCubema'+'p'](_0x3c07b0,_0x13941d){const _0x409904=_0x3c07b0['device'];G['pushGpuMar'+'ker'](_0x409904,'genSkyboxC'+'ubemap');const _0x4d0a69=UC(_0x409904,_0x13941d||(_0x3c07b0['cubemap']?_0x3c07b0['width']:_0x3c07b0['width']/(-0x2235+-0x166d*-0x1+0xbcc)),Se);return Qs(_0x3c07b0,_0x4d0a69,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x409904),_0x4d0a69;}static['generateLi'+'ghtingSour'+'ce'](_0x5bb618,_0x1e6ee7){const _0x440dba=_0x5bb618['device'];G['pushGpuMar'+'ker'](_0x440dba,'genLightin'+'gSource');const _0xea8b4f=NC(_0x440dba),_0x4104b0=(_0x1e6ee7==null?void(0x1766+-0x1c1*0x6+0x670*-0x2):_0x1e6ee7['target'])||new he(_0x440dba,{'name':'lighting-s'+'ource','cubemap':!(0x1*-0x185+0x1*0x3c3+-0x23e),'width':(_0x1e6ee7==null?void(-0x2*0x18b+-0x3e*-0x74+-0x6*0x42b):_0x1e6ee7['size'])||-0x407*-0x9+0x159e+-0x395d*0x1,'height':(_0x1e6ee7==null?void(-0x5*0xdf+-0x1*-0x1d59+-0x2*0xc7f):_0x1e6ee7['size'])||0x879+0x1ea7+-0x19c*0x18,'format':_0xea8b4f,'type':_0xea8b4f===Se?Io:Di,'addressU':ae,'addressV':ae,'mipmaps':!(-0x1b3f+0xeee+0xc51*0x1)});return Qs(_0x5bb618,_0x4104b0,{'numSamples':_0x5bb618['mipmaps']?0x30c+-0x10cf+0xdc4:0x62*0x3+0x14e1+-0x5*0x39b}),G['popGpuMark'+'er'](_0x440dba),_0x4104b0;}static['generateAt'+'las'](_0x416cce,_0x624ae){const _0x54511c=_0x416cce['device'],_0x336e33=zC();G['pushGpuMar'+'ker'](_0x54511c,'genAtlas');const _0xbeca8b=(_0x624ae==null?void(-0xcfa*0x1+0x1bd4+-0x1*0xeda):_0x624ae['target'])||new he(_0x54511c,{'name':'envAtlas','width':(_0x624ae==null?void(-0x5*-0x5e9+-0x39*-0x42+0x2c3f*-0x1):_0x624ae['size'])||0x113d+-0x2636+0x1*0x16f9,'height':(_0x624ae==null?void(-0x3*0xb99+-0x2f0+-0x1*-0x25bb):_0x624ae['size'])||-0x25a1+0xb3*-0x11+0x9d*0x54,'format':_0x336e33,'type':Io,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(0x6*-0xb8+0x1562+-0x1111)});G['pushGpuMar'+'ker'](_0x54511c,'mipmaps');const _0x4ccb8d=_0xbeca8b['width']/(0xd96+-0x59b+-0x5fb),_0x12ab66=new Q(0x218e+-0x84*0x45+0x103*0x2,-0x1154*-0x2+0x8*-0x95+-0x1e00,(0x2*0x6ee+0x1*-0x4fd+-0x6df)*_0x4ccb8d,(0x1c1d+0x1abb+-0x4*0xd76)*_0x4ccb8d),_0x1453c8=wd(0x26*-0x4f+-0xe28+0x1ae2)-wd(-0x1*0x2009+-0x76f+0x277c);for(let _0x177ed6=-0x13b1*0x1+0x1*-0x22e1+-0x3692*-0x1;_0x177ed6<_0x1453c8;++_0x177ed6)Qs(_0x416cce,_0xbeca8b,{'numSamples':0x1,'rect':_0x12ab66,'seamPixels':_0x4ccb8d}),_0x12ab66['x']+=_0x12ab66['w'],_0x12ab66['y']+=_0x12ab66['w'],_0x12ab66['z']=Math['max'](0xd*0x2ff+0xd7c+-0x346e,Math['floor'](_0x12ab66['z']*(-0x1ec+0x700+0x19*-0x34+0.5))),_0x12ab66['w']=Math['max'](0x11bb+0x1b5b+0x2d15*-0x1,Math['floor'](_0x12ab66['w']*(0xe4e*-0x2+0x903*-0x1+-0x1*-0x259f+0.5)));G['popGpuMark'+'er'](_0x54511c),G['pushGpuMar'+'ker'](_0x54511c,'reflection'+'s'),_0x12ab66['set'](0x4*-0x320+-0xf78+0x1bf8,(-0x1167+0x17*0x12d+-0x8a4)*_0x4ccb8d,(0x4*-0x7ea+0x1789+-0x1d3*-0x5)*_0x4ccb8d,(0x2142+0x1*-0x2433+0x371)*_0x4ccb8d);for(let _0x4d8ebd=0x5*0x677+0x1*0x1e2c+0x3e7e*-0x1;_0x4d8ebd<-0x23f5+0x394+-0x44*-0x7a;++_0x4d8ebd)Qs(_0x416cce,_0xbeca8b,{'numSamples':(_0x624ae==null?void(-0x898+-0x1a78+0x2310):_0x624ae['numReflect'+'ionSamples'])||-0x2*0x81a+-0x10e1*0x2+0x1*0x35f6,'distribution':(_0x624ae==null?void(-0x24+0x2265+0x4f*-0x6f):_0x624ae['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x7*0x114+-0x76d*-0x2+-0x7*0x10b,0x1ea0+0x3*0xb41+-0x3863>>_0x4d8ebd*(-0x1*0x96b+0x15b7+0x625*-0x2)),'rect':_0x12ab66,'seamPixels':_0x4ccb8d}),_0x12ab66['y']+=_0x12ab66['w'],_0x12ab66['z']=Math['max'](-0xf23+0x235c+-0x2*0xa1c,Math['floor'](_0x12ab66['z']*(0x80+0xc7c*0x1+-0xcfc+0.5))),_0x12ab66['w']=Math['max'](-0xcd4+-0x1863+0x4*0x94e,Math['floor'](_0x12ab66['w']*(0x2549+-0x11d5+-0x1374+0.5)));return G['popGpuMark'+'er'](_0x54511c),G['pushGpuMar'+'ker'](_0x54511c,'ambient'),_0x12ab66['set']((-0x11be*-0x2+0x5*0x206+-0x2d1a)*_0x4ccb8d,(-0x2*-0x37c+0x115d+-0x16d5)*_0x4ccb8d,(-0x1165*0x1+0xb7*-0x13+-0x1*-0x1f3a)*_0x4ccb8d,(0xb37+0x22b8+-0x2dcf)*_0x4ccb8d),Qs(_0x416cce,_0xbeca8b,{'numSamples':(_0x624ae==null?void(-0x741*0x5+-0x185*0xc+-0x122b*-0x3):_0x624ae['numAmbient'+'Samples'])||-0x1*-0x4d0+-0x538+0x868*0x1,'distribution':'lambert','rect':_0x12ab66,'seamPixels':_0x4ccb8d}),G['popGpuMark'+'er'](_0x54511c),G['popGpuMark'+'er'](_0x54511c),_0xbeca8b;}static['generatePr'+'efilteredA'+'tlas'](_0x57528b,_0x409229){const _0x449296=_0x57528b[-0xfd*0x1+-0x7bd+0x2*0x45d]['device'],_0x409131=_0x57528b[-0x18f8+-0x1a3*0x17+0x3e9d]['format'],_0x47c944=_0x57528b[0x247d*0x1+-0x1*-0x1971+-0x3dee]['type'];G['pushGpuMar'+'ker'](_0x449296,'genPrefilt'+'eredAtlas');const _0x2d1dc9=(_0x409229==null?void(-0x1*-0x2061+0x1025+-0x3086*0x1):_0x409229['target'])||new he(_0x449296,{'name':'envPrefilt'+'eredAtlas','width':(_0x409229==null?void(0x1dc9+-0xe7f+-0xf4a):_0x409229['size'])||-0x60b*0x2+-0x614+0x142a,'height':(_0x409229==null?void(-0x2b2+0x23*0xff+-0x202b):_0x409229['size'])||0x13*-0x7+0x1*-0xa84+0xd09,'format':_0x409131,'type':_0x47c944,'projection':lm,'addressU':ae,'addressV':ae,'mipmaps':!(-0x282*-0x1+0x3b1+-0x1*0x632)});G['pushGpuMar'+'ker'](_0x449296,'mipmaps');const _0x30d751=_0x2d1dc9['width']/(-0xd*-0x1d5+-0x1b68+0x35*0x1b),_0x4e4178=new Q(0x1ed8+-0x3*0x563+-0xeaf,0x1*-0x322+0x5*-0x1de+0xc78,(-0x2ef*-0x6+0x244a+-0x33e4)*_0x30d751,(0x2fe+0x1316+-0x1514)*_0x30d751),_0x18007e=wd(-0x1412+0xc07*0x1+0xa0b);for(let _0x24af31=-0x8b*-0x17+-0x146b+0x7ee;_0x24af31<_0x18007e;++_0x24af31)Qs(_0x57528b[0x85*0xc+-0xa63+0x427],_0x2d1dc9,{'numSamples':0x1,'rect':_0x4e4178,'seamPixels':_0x30d751}),_0x4e4178['x']+=_0x4e4178['w'],_0x4e4178['y']+=_0x4e4178['w'],_0x4e4178['z']=Math['max'](-0x21d4+-0x3b*-0x2b+0x17ec,Math['floor'](_0x4e4178['z']*(-0x11ef+-0xd1f+0x1f0e+0.5))),_0x4e4178['w']=Math['max'](0x115*0xf+0x24f*-0x10+0x14b6,Math['floor'](_0x4e4178['w']*(0x1fa3+-0x1cf4+-0x2af+0.5)));G['popGpuMark'+'er'](_0x449296),G['pushGpuMar'+'ker'](_0x449296,'reflection'+'s'),_0x4e4178['set'](-0x20*-0x61+0x1f5a+-0x3*0xe7e,(-0x313*-0xb+-0x1*0x2159+0x88)*_0x30d751,(-0x25*0x59+0x15c3+-0x7e6)*_0x30d751,(0x251b+0x2db+-0x2*0x13bb)*_0x30d751);for(let _0x36be26=-0x2040+0x13d2+0xc6f;_0x36be26<_0x57528b['length'];++_0x36be26)Qs(_0x57528b[_0x36be26],_0x2d1dc9,{'numSamples':0x1,'rect':_0x4e4178,'seamPixels':_0x30d751}),_0x4e4178['y']+=_0x4e4178['w'],_0x4e4178['z']=Math['max'](0xad*0x33+0x88d+0x625*-0x7,Math['floor'](_0x4e4178['z']*(-0x35*0x6a+0x98f+-0xc63*-0x1+0.5))),_0x4e4178['w']=Math['max'](-0xe0d*-0x1+0x22*0x29+0x9bf*-0x2,Math['floor'](_0x4e4178['w']*(-0x49*0x3d+-0x1fb9*-0x1+0x7*-0x20c+0.5)));return G['popGpuMark'+'er'](_0x449296),G['pushGpuMar'+'ker'](_0x449296,'ambient'),_0x4e4178['set']((0x1df6+0x2323+-0x2cf*0x17)*_0x30d751,(0x1acf+-0x1f5*-0xd+-0x32c0)*_0x30d751,(0xd*-0xe2+0x237b*0x1+-0x17c1*0x1)*_0x30d751,(-0x576+0x28a+-0x4e*-0xa)*_0x30d751),_0x409229!=null&&_0x409229['legacyAmbi'+'ent']?Qs(_0x57528b[0x4*-0x5d5+-0x24d4+-0xf*-0x403],_0x2d1dc9,{'numSamples':0x1,'rect':_0x4e4178,'seamPixels':_0x30d751}):Qs(_0x57528b[0x846+-0x1e2b*-0x1+-0x2671],_0x2d1dc9,{'numSamples':(_0x409229==null?void(0x160b+-0x1f25+-0x5*-0x1d2):_0x409229['numSamples'])||0x752+0x1f*-0x6d+0xde1,'distribution':'lambert','rect':_0x4e4178,'seamPixels':_0x30d751}),G['popGpuMark'+'er'](_0x449296),G['popGpuMark'+'er'](_0x449296),_0x2d1dc9;}}const VC={'aoPS':St,'clearCoatPS':St,'clearCoatGlossPS':ad,'clearCoatNormalPS':St,'diffusePS':St,'diffuseDetailMapPS':St,'emissivePS':St,'glossPS':ad,'lightmapDirPS':wi,'lightmapSinglePS':wi,'metalnessPS':St,'normalMapPS':St,'normalDetailMapPS':St,'opacityPS':St,'parallaxPS':St,'sheenPS':St,'sheenGlossPS':ad,'specularPS':St,'specularityFactorPS':St,'thicknessPS':St,'transmissionPS':St,'normalVertexPS':wi,'startPS':wi,'ambientConstantPS':me,'ambientEnvPS':me,'ambientSHPS':me,'aoDiffuseOccPS':me,'aoSpecOccPS':me,'aoSpecOccConstPS':me,'aoSpecOccConstSimplePS':me,'aoSpecOccSimplePS':me,'clusteredLightPS':me,'clusteredLightShadowPS':me,'combinePS':me,'falloffInvSquaredPS':me,'falloffLinearPS':me,'lightDiffuseLambertPS':me,'lightSheenPS':me,'lightSpecularAnisoGGXPS':me,'lightSpecularBlinnPS':me,'ltcPS':me,'reflDirPS':me,'reflDirAnisoPS':me,'reflectionCCPS':me,'reflectionCubePS':me,'reflectionEnvPS':me,'reflectionEnvHQPS':me,'reflectionSheenPS':me,'reflectionSpherePS':me,'shadowCommonPS':me,'shadowCoordPS':me,'shadowCoordPerspZBufferPS':me,'shadowEVSMPS':me,'shadowEVSMnPS':me,'shadowStandardPS':me,'shadowStandardGL2PS':me,'spotPS':me,'TBNPS':me,'TBNObjectSpacePS':me,'TBNderivativePS':me,'endPS':hi,'metalnessModulatePS':hi,'outputAlphaPS':hi,'outputAlphaPremulPS':hi,'fresnelSchlickPS':hi,'iridescenceDiffractionPS':hi,'lightmapAddPS':hi,'lightmapDirAddPS':hi,'refractionCubePS':hm,'refractionDynamicPS':hm},GC={'ambientPrefilteredCubePS':Ui,'ambientPrefilteredCubeLodPS':Ui,'dpAtlasQuadPS':Ui,'genParaboloidPS':Ui,'prefilterCubemapPS':Ui,'reflectionDpAtlasPS':Ui,'reflectionPrefilteredCubePS':Ui,'reflectionPrefilteredCubeLodPS':Ui,'refractionPS':_r,'combineClearCoatPS':_r,'combineDiffusePS':_r,'combineDiffuseSpecularPS':_r,'combineDiffuseSpecularNoReflPS':_r,'combineDiffuseSpecularNoReflSeparateAmbientPS':_r,'combineDiffuseSpecularOldPS':_r,'lightmapSingleVertPS':wi,'normalMapFastPS':wi,'specularAaNonePS':wi,'specularAaToksvigPS':wi,'specularAaToksvigFastPS':wi,'skyboxEnvPS':cm,'skyboxHDRPS':cm,'shadowVSM8PS':bv,'fogExpPS':wn,'fogExp2PS':wn,'fogLinearPS':wn,'fogNonePS':wn,'gamma1_0PS':wn,'gamma2_2PS':wn},HC=(_0x1f564e,_0xaa1a0f)=>{const _0x82be47=_0x1f564e['split']('.')['map'](_0xcb976a=>parseInt(_0xcb976a,0x2651+0x10a3+-0x21*0x1aa)),_0x413cb5=_0xaa1a0f['split']('.')['map'](_0x1a2903=>parseInt(_0x1a2903,-0x24a*-0x5+-0x2505+-0x199d*-0x1));return _0x82be47[0x2*-0x6b6+-0x4*0x579+0x2350]<_0x413cb5[-0x2*-0x1118+-0x25*-0xf1+-0x4505]||_0x82be47[0x1734+0x90*-0x10+0x2*-0x71a]===_0x413cb5[-0x1b2e+0xa9f*0x1+-0x3*-0x585]&&_0x82be47[0x1*0xa1a+-0xad7+0xbe]<_0x413cb5[0x1643+0x2183+-0x37c5];},WC=_0x46bccd=>{const _0x4ccb5c=_0x46bccd['APIVersion'];for(const _0x1eb7a6 in _0x46bccd)if(_0x1eb7a6!=='APIVersion'){if(X['hasOwnProp'+'erty'](_0x1eb7a6)){const _0x55da53=VC[_0x1eb7a6];_0x55da53&&(!_0x4ccb5c||HC(_0x4ccb5c,_0x55da53))&&v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1eb7a6+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x55da53+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x4ccb5c||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x416d60=GC[_0x1eb7a6];_0x416d60?v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1eb7a6+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x416d60+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):v['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1eb7a6+('\x27\x20is\x20not\x20s'+'upported.'));}}};class sr{constructor(){c(this,'code','');}['append'](..._0x162dc2){_0x162dc2['forEach'](_0x5e31dd=>{_0x5e31dd['endsWith']('\x0a')?this['code']+=_0x5e31dd:this['code']+=_0x5e31dd+'\x0a';});}['prepend'](..._0x1e6250){_0x1e6250['forEach'](_0x48cf21=>{_0x48cf21['endsWith']('\x0a')?this['code']=_0x48cf21+this['code']:this['code']=_0x48cf21+'\x0a'+this['code'];});}}const Td={'vertex_normal':Yt,'vertex_tangent':Zs,'vertex_texCoord0':ns,'vertex_texCoord1':_n,'vertex_color':At,'vertex_boneWeights':Ys,'vertex_boneIndices':qt},h_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class $C{constructor(_0x54770c,_0x57c8a1){if(this['device']=_0x54770c,this['options']=_0x57c8a1,this['attributes']={'vertex_position':He},_0x57c8a1['userAttrib'+'utes']){for(const [_0x89af8c,_0x2d6e35]of Object['entries'](_0x57c8a1['userAttrib'+'utes']))this['attributes'][_0x2d6e35]=_0x89af8c;}if(_0x57c8a1['chunks']){const _0x1347aa=_0x57c8a1['chunks'];WC(_0x1347aa),this['chunks']=Object['create'](X);for(const _0x3b0748 in X)if(_0x1347aa['hasOwnProp'+'erty'](_0x3b0748)){const _0x463885=_0x1347aa[_0x3b0748];for(const _0x3b163e in Td)Td['hasOwnProp'+'erty'](_0x3b163e)&&_0x463885['indexOf'](_0x3b163e)>=0x15b1+-0xf3+-0x14be&&(this['attributes'][_0x3b163e]=Td[_0x3b163e]);this['chunks'][_0x3b0748]=_0x463885;}}else this['chunks']=X;this['shaderPass'+'Info']=Ks['get'](this['device'])['getByIndex'](_0x57c8a1['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x57c8a1['lights']['length']>0x997+-0x1c26+-0x1*-0x128f||_0x57c8a1['dirLightMa'+'pEnabled']||_0x57c8a1['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x57c8a1['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x57c8a1['useSpecula'+'r']||_0x57c8a1['ambientSH']||_0x57c8a1['useHeights']||_0x57c8a1['enableGGXS'+'pecular']||_0x57c8a1['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x57c8a1['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x57c8a1['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x57c8a1['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x57c8a1['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x3d09e4,_0x1fa895,_0x376735){return _0x3d09e4+=_0x1fa895['baseVS'],(_0x376735['nineSliced'+'Mode']===nt||_0x376735['nineSliced'+'Mode']===Qe)&&(_0x3d09e4+=_0x1fa895['baseNineSl'+'icedVS']),_0x3d09e4;}['_setMapTra'+'nsform'](_0x23ad9d,_0x4be21d,_0x67f4b4,_0x492ef2){const _0x266336=_0x67f4b4+_0x492ef2*(0xa15+-0x817*-0x2+-0x1*0x19df);if(!_0x23ad9d[0xa7*-0x35+0x1*0x26b9+-0x423][_0x266336]){const _0x5a590c='texture_'+_0x4be21d+('MapTransfo'+'rm');_0x23ad9d[-0x56*0x53+0x8d8+0x130a]+='uniform\x20ve'+'c3\x20'+_0x5a590c+'0;\x0a',_0x23ad9d[-0x5b7*0x3+0x1*-0x1feb+0x3110]+='uniform\x20ve'+'c3\x20'+_0x5a590c+'1;\x0a',_0x23ad9d[0x29*-0x3e+-0x1bc7+0x12db*0x2]+='varying\x20ve'+'c2\x20vUV'+_0x492ef2+'_'+_0x67f4b4+';\x0a',_0x23ad9d[0x15e5+-0x244d+0xe6a]+='\x20\x20\x20vUV'+_0x492ef2+'_'+_0x67f4b4+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x492ef2+',\x201),\x20'+_0x5a590c+('0),\x20dot(ve'+'c3(uv')+_0x492ef2+',\x201),\x20'+_0x5a590c+'1));\x0a',_0x23ad9d[-0x1747*-0x1+-0x1db1*-0x1+0x11a7*-0x3][_0x266336]=!(-0x371+0x22*-0x14+0x619*0x1);}return _0x23ad9d;}['_fsGetBase'+'Code'](){const _0x19f684=this['options'],_0x160f51=this['chunks'];let _0x191745=this['chunks']['basePS'];return _0x19f684['nineSliced'+'Mode']===nt?_0x191745+=_0x160f51['baseNineSl'+'icedPS']:_0x19f684['nineSliced'+'Mode']===Qe&&(_0x191745+=_0x160f51['baseNineSl'+'icedTiledP'+'S']),_0x191745;}['_fsGetStar'+'tCode'](_0x16771b,_0x408fb5,_0x436da0,_0x56888e){let _0x2963e6=_0x436da0['startPS'];return _0x56888e['nineSliced'+'Mode']===nt?_0x2963e6+=_0x436da0['startNineS'+'licedPS']:_0x56888e['nineSliced'+'Mode']===Qe&&(_0x2963e6+=_0x436da0['startNineS'+'licedTiled'+'PS']),_0x2963e6;}['_getLightS'+'ourceShape'+'String'](_0xdbc23e){switch(_0xdbc23e){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x107c39,_0x44aa53,_0x139abe){const _0xa4af09=this['device'],_0x3e1a34=this['options'],_0x38ae49=this['chunks'];let _0x2606a2='',_0x47d9e6='',_0x206931='';_0x2606a2=this['_vsAddBase'+'Code'](_0x2606a2,_0x38ae49,_0x3e1a34),_0x47d9e6+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x206931+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x47d9e6+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===X['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=rp,this['attributes']['instance_l'+'ine2']=ga,this['attributes']['instance_l'+'ine3']=np,this['attributes']['instance_l'+'ine4']=ya),_0x2606a2+=_0x38ae49['transformV'+'S'],this['needsNorma'+'l']&&(_0x2606a2+=_0x38ae49['normalCore'+'VS'],_0x2606a2+=_0x38ae49['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=Yt,_0x47d9e6+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x3e1a34['reflection'+'Source']==='sphereMap'&&_0xa4af09['fragmentUn'+'iformsCoun'+'t']<=0x162c+-0x1b69*0x1+0x54d&&(_0x2606a2+=_0x38ae49['viewNormal'+'VS'],_0x47d9e6+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x3e1a34['hasTangent'+'s']&&(_0x3e1a34['useHeights']||_0x3e1a34['useNormals']||_0x3e1a34['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=Zs,_0x2606a2+=_0x38ae49['tangentBin'+'ormalVS'],_0x47d9e6+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x47d9e6+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x3e1a34['enableGGXS'+'pecular']&&(_0x47d9e6+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x42a7a1=-0x477+0x2161+-0x25*0xc8;for(let _0x4c8b30=-0x2c*0x51+-0x1*-0x1cf7+-0xf0b;_0x4c8b30<_0x42a7a1;_0x4c8b30++)_0x107c39[_0x4c8b30]&&(this['attributes']['vertex_tex'+'Coord'+_0x4c8b30]='TEXCOORD'+_0x4c8b30,_0x2606a2+=_0x38ae49['uv'+_0x4c8b30+'VS'],_0x47d9e6+='\x20\x20\x20vec2\x20uv'+_0x4c8b30+'\x20=\x20getUv'+_0x4c8b30+'();\x0a'),_0x44aa53[_0x4c8b30]&&(_0x47d9e6+='\x20\x20\x20vUv'+_0x4c8b30+'\x20=\x20uv'+_0x4c8b30+';\x0a');const _0x111681=[_0x2606a2,this['varyings'],_0x47d9e6,[]];_0x139abe['forEach'](_0x8be1cb=>{this['_setMapTra'+'nsform'](_0x111681,_0x8be1cb['name'],_0x8be1cb['id'],_0x8be1cb['uv']);}),_0x2606a2=_0x111681[0x1*-0xe9b+0x1*0x16a1+-0x9e*0xd],this['varyings']=_0x111681[-0x256b+0x3*0xbea+0x1ae],_0x47d9e6=_0x111681[0x21*-0x9f+0x214c+-0x83*0x19],_0x3e1a34['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=At,_0x47d9e6+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x3e1a34['useMsdf']&&_0x3e1a34['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Po,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Ro,_0x47d9e6+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x2606a2+=_0x38ae49['msdfVS']),(_0x3e1a34['useMorphPo'+'sition']||_0x3e1a34['useMorphNo'+'rmal'])&&(_0x206931+='#define\x20MO'+'RPHING\x0a',_0x3e1a34['useMorphTe'+'xtureBased'+'Int']&&(_0x206931+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x3e1a34['useMorphPo'+'sition']&&(_0x206931+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x3e1a34['useMorphNo'+'rmal']&&(_0x206931+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=ya),_0x3e1a34['skin']?(this['attributes']['vertex_bon'+'eIndices']=qt,_0x3e1a34['batch']?_0x206931+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=Ys,_0x206931+='#define\x20SK'+'IN\x0a')):_0x3e1a34['useInstanc'+'ing']&&(_0x206931+='#define\x20IN'+'STANCING\x0a'),_0x3e1a34['screenSpac'+'e']&&(_0x206931+='#define\x20SC'+'REENSPACE\x0a'),_0x3e1a34['pixelSnap']&&(_0x206931+='#define\x20PI'+'XELSNAP\x0a'),_0x2606a2+='\x0a',_0x2606a2+=_0x38ae49['startVS'],_0x2606a2+=_0x47d9e6,_0x2606a2+=_0x38ae49['endVS'],_0x2606a2+='}',Object['keys'](h_)['forEach'](_0x524932=>{_0x2606a2['indexOf'](_0x524932)>=-0x1e87+0xf18+0xf6f&&(this['varyings']+='varying\x20'+h_[_0x524932]+'\x20'+_0x524932+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x524932['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x206931+this['varyings']+_0x2606a2;}['_fsGetBegi'+'nCode'](){let _0x13a192='';for(let _0x31546b=0x1*0x373+-0xcf5+0x982;_0x31546b<this['defines']['length'];_0x31546b++)_0x13a192+='#define\x20'+this['defines'][_0x31546b]+'\x0a';return _0x13a192;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x508ec2=this['_fsGetBegi'+'nCode']();return _0x508ec2+=this['varyings'],_0x508ec2+=this['varyingDef'+'ines'],_0x508ec2+=this['frontendDe'+'cl'],_0x508ec2+=this['frontendCo'+'de'],_0x508ec2+=It['begin'](),_0x508ec2+=this['frontendFu'+'nc'],_0x508ec2+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x508ec2+=It['end'](),_0x508ec2;}['_fsGetPreP'+'assCode'](){let _0x3b0462=this['_fsGetBegi'+'nCode']();return _0x3b0462+=this['varyings'],_0x3b0462+=this['varyingDef'+'ines'],_0x3b0462+=this['chunks']['floatAsUin'+'tPS'],_0x3b0462+=this['frontendDe'+'cl'],_0x3b0462+=this['frontendCo'+'de'],_0x3b0462+=It['begin'](),_0x3b0462+=this['frontendFu'+'nc'],_0x3b0462+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x3b0462+=It['end'](),_0x3b0462;}['_fsGetShad'+'owPassCode'](){const _0x31c501=this['options'],_0x26d01c=this['chunks'],_0x3f5f19=this['varyings'],_0x16ba01=this['shaderPass'+'Info']['lightType'];let _0x56661e=this['shaderPass'+'Info']['shadowType'];_0x16ba01!==oe&&_0x31c501['clusteredL'+'ightingEna'+'bled']&&(_0x56661e===Hr||_0x56661e===Wr||_0x56661e===Ts)&&(_0x56661e=Dt);const _0x2879b9=ir['get'](_0x56661e);v['assert'](_0x2879b9);const _0x3dd89f=(_0x2879b9==null?void(-0x20f*0x1+-0x267*0x5+0xe12):_0x2879b9['vsm'])??!(-0x15*-0x76+-0x773+-0x23a),_0x29cc64=(_0x2879b9==null?void(0x1*-0x26f5+-0x2*0x184+0x29fd):_0x2879b9['pcss'])??!(-0xf*-0x161+-0x184f+-0x1*-0x3a1);let _0x385f4a=this['_fsGetBegi'+'nCode']();_0x56661e===Wr?_0x385f4a+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x56661e===Hr&&(_0x385f4a+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x16ba01!==oe&&(_0x385f4a+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x385f4a+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x385f4a+=_0x3f5f19,_0x385f4a+=this['varyingDef'+'ines'],_0x385f4a+=this['frontendDe'+'cl'],_0x385f4a+=this['frontendCo'+'de'],_0x56661e===Ts&&(_0x385f4a+=X['linearizeD'+'epthPS']),_0x385f4a+=It['begin'](),_0x385f4a+=this['frontendFu'+'nc'];const _0x406434=_0x16ba01===oe||!_0x3dd89f&&_0x16ba01===Re;let _0x30b87c=!(-0x1f4d+0x2542+-0x5f4);return _0x406434?(_0x385f4a+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x29cc64&&_0x16ba01!==oe&&(_0x385f4a+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x385f4a+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x30b87c=!(-0x2a3+-0x1004*-0x1+0x1*-0xd61)),_0x3dd89f?_0x385f4a+=_0x26d01c['storeEVSMP'+'S']:_0x29cc64?_0x385f4a+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x30b87c&&(_0x385f4a+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x385f4a+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x385f4a+=It['end'](),_0x385f4a;}['_fsGetLitP'+'assCode'](){var _0x4f989e;const _0x55d584=this['device'],_0x20d210=this['options'],_0x1afc93=this['chunks'],_0x259cf3=new sr(),_0x5c5ac0=new sr(),_0x3da6a0=new sr(),_0x1eccd9=new sr();_0x20d210['opacityFad'+'esSpecular']===!(-0x56*-0x3d+-0x2*-0xdf3+-0x3063)&&_0x259cf3['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x20d210['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x20d210['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x20d210['fresnelMod'+'el']>-0x19+-0xf8a+0x1*0xfa3&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x20d210['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x20d210['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x413282=[];let _0x11219c=0x14ab+-0x16e5+0x23a,_0x3460ca=!(-0x1*0x25b5+-0x1*-0xdf9+0x67*0x3b),_0x533c0d=!(-0x12a4+-0xd48+-0x1*-0x1fed),_0x1391f0=!(-0x4eb*-0x6+-0x156b*-0x1+-0x32ec),_0x59b121=_0x20d210['lights']['some'](_0x5bbcd3=>_0x5bbcd3['_shape']&&_0x5bbcd3['_shape']!==yt);_0x20d210['clusteredL'+'ightingEna'+'bled']&&_0x20d210['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x59b121=!(-0x140b*-0x1+0x1*0x962+0x1b*-0x117)),(_0x59b121||_0x20d210['clusteredL'+'ightingEna'+'bled'])&&(_0x259cf3['append']('#define\x20AR'+'EA_LIGHTS'),_0x259cf3['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x259cf3['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x1b8bd1=0xe5a+-0xda5*-0x2+-0x29a4;_0x1b8bd1<_0x20d210['lights']['length'];_0x1b8bd1++){const _0x1c0feb=_0x20d210['lights'][_0x1b8bd1],_0x514097=_0x1c0feb['_type'];if(_0x20d210['clusteredL'+'ightingEna'+'bled']&&_0x514097!==oe)continue;const _0x54fb54=_0x59b121&&_0x1c0feb['_shape']?_0x1c0feb['_shape']:yt;_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+'_color;'),_0x1c0feb['_shadowTyp'+'e']===Ts&&_0x1c0feb['castShadow'+'s']&&!_0x20d210['noShadow']&&(_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_shadowSea'+'rchArea;')),_0x259cf3['append']('uniform\x20ve'+'c4\x20light'+_0x1b8bd1+('_cameraPar'+'ams;')),_0x514097===oe&&_0x259cf3['append']('uniform\x20ve'+'c4\x20light'+_0x1b8bd1+('_softShado'+'wParams;'))),_0x514097===oe?_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+('_direction'+';')):(_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+'_position;'),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+'_radius;'),_0x514097===Re&&(_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+('_direction'+';')),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_innerCone'+'Angle;')),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_outerCone'+'Angle;')))),_0x54fb54!==yt&&(_0x514097===oe&&_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+'_position;'),_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+('_halfWidth'+';')),_0x259cf3['append']('uniform\x20ve'+'c3\x20light'+_0x1b8bd1+('_halfHeigh'+'t;'))),_0x1c0feb['castShadow'+'s']&&!_0x20d210['noShadow']&&(_0x259cf3['append']('uniform\x20ma'+'t4\x20light'+_0x1b8bd1+('_shadowMat'+'rix;')),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_shadowInt'+'ensity;')),_0x514097===oe&&(_0x259cf3['append']('uniform\x20ma'+'t4\x20light'+_0x1b8bd1+('_shadowMat'+'rixPalette'+'[4];')),_0x259cf3['append']('uniform\x20ve'+'c4\x20light'+_0x1b8bd1+('_shadowCas'+'cadeDistan'+'ces;')),_0x259cf3['append']('uniform\x20in'+'t\x20light'+_0x1b8bd1+('_shadowCas'+'cadeCount;')),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_shadowCas'+'cadeBlend;'))),_0x259cf3['append']('uniform\x20ve'+'c4\x20light'+_0x1b8bd1+('_shadowPar'+'ams;')),_0x514097===oe&&(_0x3460ca=!(-0x1*0x11d7+0x50f+-0x2*-0x664)),_0x514097===Pe?_0x259cf3['append']('uniform\x20'+(_0x1c0feb['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x1b8bd1+('_shadowMap'+';')):_0x259cf3['append']('uniform\x20'+(_0x1c0feb['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x1b8bd1+('_shadowMap'+';')),_0x11219c++,_0x413282[_0x1c0feb['_shadowTyp'+'e']]=!(-0x6fb+0x2443*0x1+-0x1d48),_0x1c0feb['_isVsm']&&(_0x533c0d=!(0x809+0xd0b+-0x1514)),_0x1c0feb['_shadowTyp'+'e']===Ts&&(_0x1391f0=!(-0xfeb+0x14a6+-0x7*0xad))),_0x1c0feb['_cookie']&&(_0x1c0feb['_cookie']['_cubemap']?_0x514097===Pe&&(_0x259cf3['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x1b8bd1+'_cookie;'),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_cookieInt'+'ensity;')),(!_0x1c0feb['castShadow'+'s']||_0x20d210['noShadow'])&&_0x259cf3['append']('uniform\x20ma'+'t4\x20light'+_0x1b8bd1+('_shadowMat'+'rix;'))):_0x514097===Re&&(_0x259cf3['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x1b8bd1+'_cookie;'),_0x259cf3['append']('uniform\x20fl'+'oat\x20light'+_0x1b8bd1+('_cookieInt'+'ensity;')),(!_0x1c0feb['castShadow'+'s']||_0x20d210['noShadow'])&&_0x259cf3['append']('uniform\x20ma'+'t4\x20light'+_0x1b8bd1+('_shadowMat'+'rix;')),_0x1c0feb['_cookieTra'+'nsform']&&(_0x259cf3['append']('uniform\x20ve'+'c4\x20light'+_0x1b8bd1+('_cookieMat'+'rix;')),_0x259cf3['append']('uniform\x20ve'+'c2\x20light'+_0x1b8bd1+('_cookieOff'+'set;')))));}const _0x14d72e=this['needsNorma'+'l']&&(_0x20d210['useNormals']||_0x20d210['useClearCo'+'atNormals']||_0x20d210['enableGGXS'+'pecular']&&!_0x20d210['useHeights']);if(_0x14d72e&&(_0x20d210['hasTangent'+'s']?_0x5c5ac0['append'](_0x1afc93['TBNPS']):_0x20d210['useNormals']||_0x20d210['useClearCo'+'atNormals']?_0x5c5ac0['append'](_0x1afc93['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x5c5ac0['append'](_0x1afc93['TBNObjectS'+'pacePS']),_0x20d210['twoSidedLi'+'ghting']&&_0x5c5ac0['append'](_0x1afc93['twoSidedLi'+'ghtingPS'])),_0x5c5ac0['append'](_0x1afc93['sphericalP'+'S']),_0x5c5ac0['append'](_0x1afc93['decodePS']),_0x5c5ac0['append'](_0x1afc93['gammaPS']),_0x5c5ac0['append'](_0x1afc93['tonemappin'+'gPS']),_0x5c5ac0['append'](_0x1afc93['fogPS']),_0x5c5ac0['append'](this['frontendCo'+'de']),_0x20d210['useCubeMap'+'Rotation']&&_0x259cf3['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x5c5ac0['append'](_0x1afc93['cubeMapRot'+'atePS']),_0x5c5ac0['append'](_0x20d210['cubeMapPro'+'jection']>-0xf5*-0x1a+0xc79+0x255b*-0x1?_0x1afc93['cubeMapPro'+'jectBoxPS']:_0x1afc93['cubeMapPro'+'jectNonePS']),_0x5c5ac0['append'](_0x20d210['skyboxInte'+'nsity']?_0x1afc93['envMultipl'+'yPS']:_0x1afc93['envConstPS'])),(this['lighting']&&_0x20d210['useSpecula'+'r']||this['reflection'+'s'])&&(_0x20d210['useMetalne'+'ss']&&_0x5c5ac0['append'](_0x1afc93['metalnessM'+'odulatePS']),_0x20d210['fresnelMod'+'el']===Sp&&_0x5c5ac0['append'](_0x1afc93['fresnelSch'+'lickPS']),_0x20d210['useIridesc'+'ence']&&_0x5c5ac0['append'](_0x1afc93['iridescenc'+'eDiffracti'+'onPS'])),_0x20d210['useAo'])switch(_0x5c5ac0['append'](_0x1afc93['aoDiffuseO'+'ccPS']),_0x20d210['occludeSpe'+'cular']){case Bo:_0x5c5ac0['append'](_0x20d210['occludeSpe'+'cularFloat']?_0x1afc93['aoSpecOccS'+'implePS']:_0x1afc93['aoSpecOccC'+'onstSimple'+'PS']);break;case Lu:_0x5c5ac0['append'](_0x20d210['occludeSpe'+'cularFloat']?_0x1afc93['aoSpecOccP'+'S']:_0x1afc93['aoSpecOccC'+'onstPS']);break;}_0x20d210['reflection'+'Source']==='envAtlasHQ'?(_0x5c5ac0['append'](_0x1afc93['envAtlasPS']),_0x5c5ac0['append'](_0x1afc93['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Es['decodeFunc'](_0x20d210['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Es['decodeFunc'](_0x20d210['reflection'+'Encoding'])))):_0x20d210['reflection'+'Source']==='envAtlas'?(_0x5c5ac0['append'](_0x1afc93['envAtlasPS']),_0x5c5ac0['append'](_0x1afc93['reflection'+'EnvPS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x20d210['reflection'+'Encoding'])))):_0x20d210['reflection'+'Source']==='cubeMap'?_0x5c5ac0['append'](_0x1afc93['reflection'+'CubePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x20d210['reflection'+'Encoding']))):_0x20d210['reflection'+'Source']==='sphereMap'&&_0x5c5ac0['append'](_0x1afc93['reflection'+'SpherePS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x20d210['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x20d210['useClearCo'+'at']&&_0x5c5ac0['append'](_0x1afc93['reflection'+'CCPS']),_0x20d210['useSheen']&&_0x5c5ac0['append'](_0x1afc93['reflection'+'SheenPS'])),_0x20d210['useRefract'+'ion']&&(_0x20d210['useDynamic'+'Refraction']?(_0x20d210['dispersion']&&(_0x259cf3['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x259cf3['append']('#define\x20DI'+'SPERSION\x0a')),_0x5c5ac0['append'](_0x1afc93['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x5c5ac0['append'](_0x1afc93['refraction'+'CubePS'])),_0x20d210['useSheen']&&_0x5c5ac0['append'](_0x1afc93['lightSheen'+'PS']),_0x20d210['clusteredL'+'ightingEna'+'bled']&&(_0x5c5ac0['append'](_0x1afc93['clusteredL'+'ightUtilsP'+'S']),_0x20d210['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x5c5ac0['append'](_0x1afc93['clusteredL'+'ightCookie'+'sPS']),_0x20d210['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x20d210['noShadow']&&(_0x413282[Dt]=!(0x26e+0xc6c+-0x76d*0x2),_0x413282[lh]=!(0x1c5e+-0x2*-0xa53+0x4*-0xc41),_0x413282[Ts]=!(0x11dd+0x20ed*-0x1+-0x3c4*-0x4))),(_0x11219c>0x241b+0x531+-0x2*0x14a6||_0x20d210['clusteredL'+'ightingEna'+'bled'])&&(_0x3460ca&&_0x5c5ac0['append'](_0x1afc93['shadowCasc'+'adesPS']),(_0x413282[Bh]||_0x413282[Dt]||_0x413282[Nh]||_0x413282[zh])&&_0x5c5ac0['append'](_0x1afc93['shadowStan'+'dardPS']),(_0x413282[lh]||_0x413282[Iu])&&_0x5c5ac0['append'](_0x1afc93['shadowStan'+'dardGL2PS']),_0x533c0d&&(_0x5c5ac0['append'](_0x1afc93['shadowVSM_'+'commonPS']),_0x413282[Hr]&&_0x5c5ac0['append'](_0x1afc93['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x413282[Wr]&&_0x5c5ac0['append'](_0x55d584['extTexture'+'FloatLinea'+'r']?_0x1afc93['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x1afc93['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0x1391f0&&(_0x5c5ac0['append'](_0x1afc93['linearizeD'+'epthPS']),_0x5c5ac0['append'](_0x1afc93['shadowPCSS'+'PS']),_0x5c5ac0['append'](_0x1afc93['shadowSoft'+'PS']))),_0x20d210['enableGGXS'+'pecular']&&_0x5c5ac0['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x5c5ac0['append'](_0x1afc93['lightDiffu'+'seLambertP'+'S']),(_0x59b121||_0x20d210['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x5c5ac0['append'](_0x1afc93['ltcPS']));let _0x4a1ada=!(-0x875*0x3+-0x1eb0+0x3810);_0x20d210['useSpecula'+'r']&&(this['lighting']&&_0x5c5ac0['append'](_0x20d210['enableGGXS'+'pecular']?_0x1afc93['lightSpecu'+'larAnisoGG'+'XPS']:_0x1afc93['lightSpecu'+'larBlinnPS']),!_0x20d210['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x20d210['diffuseMap'+'Enabled']&&(_0x259cf3['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x259cf3['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x4a1ada=!(-0xa*0x13d+0xf31+0x1*-0x2cf))),_0x5c5ac0['append'](_0x1afc93['combinePS']),_0x20d210['lightMapEn'+'abled']&&_0x5c5ac0['append'](_0x20d210['useSpecula'+'r']&&_0x20d210['dirLightMa'+'pEnabled']?_0x1afc93['lightmapDi'+'rAddPS']:_0x1afc93['lightmapAd'+'dPS']);const _0x4499f5=!_0x20d210['lightMapEn'+'abled']||_0x20d210['lightMapWi'+'thoutAmbie'+'nt'];_0x4499f5&&(_0x20d210['ambientSou'+'rce']==='ambientSH'?_0x5c5ac0['append'](_0x1afc93['ambientSHP'+'S']):_0x20d210['ambientSou'+'rce']==='envAtlas'?(_0x20d210['reflection'+'Source']!=='envAtlas'&&_0x20d210['reflection'+'Source']!=='envAtlasHQ'&&_0x5c5ac0['append'](_0x1afc93['envAtlasPS']),_0x5c5ac0['append'](_0x1afc93['ambientEnv'+'PS']['replace'](/\$DECODE/g,Es['decodeFunc'](_0x20d210['ambientEnc'+'oding'])))):_0x5c5ac0['append'](_0x1afc93['ambientCon'+'stantPS'])),_0x4a1ada||_0x259cf3['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x20d210['useMsdf']&&(_0x20d210['msdfTextAt'+'tribute']||_0x259cf3['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x5c5ac0['append'](_0x1afc93['msdfPS'])),this['needsNorma'+'l']&&(_0x5c5ac0['append'](_0x1afc93['viewDirPS']),_0x20d210['useSpecula'+'r']&&_0x5c5ac0['append'](_0x20d210['enableGGXS'+'pecular']?_0x1afc93['reflDirAni'+'soPS']:_0x1afc93['reflDirPS']));let _0x558cfc=!(-0x16c5+-0x9d1+-0x67*-0x51),_0x1f8d9c=!(0xb9f*0x2+-0x3*0x368+-0xd05*0x1),_0x5dccaf=!(-0x1c44+-0x2ad+0x1ef2),_0x2ddce4=!(0xad*-0x23+0xcc7*-0x1+0x246f),_0x2f00cc=!(0x1379+-0x6d*0x4c+0x21*0x64),_0x5db5f4;if(_0x20d210['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x2ddce4=!(0x11e1+-0x2*-0x116d+0x34bb*-0x1),_0x558cfc=!(-0xa26*-0x1+0x236b+-0x2d91),_0x1f8d9c=!(-0x168b+0x13f9+0x292),_0x2f00cc=!(-0x422+-0x9db+0xdfd*0x1),_0x5c5ac0['append'](_0x1afc93['floatUnpac'+'kingPS']),_0x20d210['lightMaskD'+'ynamic']&&_0x259cf3['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x20d210['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x259cf3['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x20d210['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x20d210['noShadow']){const _0x306871=(_0x4f989e=ir['get'](_0x20d210['clusteredL'+'ightingSha'+'dowType']))==null?void(-0xd*0x22+0xb*-0x65+0x611):_0x4f989e['name'];v['assert'](_0x306871);const _0x3eddaa=_0x306871['substring'](-0x1*-0x1d6e+-0x1e2e+0x8*0x18,0x496+0x10f*0x9+-0xe19);_0x259cf3['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x259cf3['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x3eddaa);}_0x20d210['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x259cf3['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x259cf3['append'](E0['getShaderD'+'efines']()),_0x20d210['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x20d210['noShadow']&&_0x5c5ac0['append'](_0x1afc93['clusteredL'+'ightShadow'+'sPS']),_0x5c5ac0['append'](_0x1afc93['clusteredL'+'ightPS']);}if(_0x1eccd9['append'](this['_fsGetStar'+'tCode'](_0x1eccd9,_0x55d584,_0x1afc93,_0x20d210)),this['needsNorma'+'l']&&(_0x1eccd9['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x20d210['useHeights']||_0x20d210['useNormals'])&&_0x20d210['hasTangent'+'s']&&(_0x1eccd9['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x1eccd9['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x1eccd9['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x14d72e&&(_0x1eccd9['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x20d210['twoSidedLi'+'ghting']&&_0x1eccd9['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x1eccd9['append'](this['frontendFu'+'nc']),_0x20d210['ssao']&&(_0x5c5ac0['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x3da6a0['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x20d210['useClearCo'+'at']&&_0x3da6a0['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x20d210['useSpecula'+'r']||this['reflection'+'s'])&&(_0x20d210['useMetalne'+'ss']&&(_0x3da6a0['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x3da6a0['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x3da6a0['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x20d210['useIridesc'+'ence']&&_0x3da6a0['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x4499f5&&(_0x3da6a0['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x20d210['separateAm'+'bient']&&_0x3da6a0['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x4a1ada||_0x3da6a0['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x20d210['useAo']&&!_0x20d210['occludeDir'+'ect']&&_0x3da6a0['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x20d210['lightMapEn'+'abled']&&_0x3da6a0['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x20d210['useClearCo'+'at']&&(_0x3da6a0['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x20d210['fresnelMod'+'el']>0x18a9*-0x1+-0x36*0x4f+0x2953?(_0x3da6a0['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x3da6a0['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x3da6a0['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x20d210['useSpecula'+'rityFactor']&&_0x3da6a0['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x20d210['useSheen']&&_0x3da6a0['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x3da6a0['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x20d210['fresnelMod'+'el']>-0x1a31+0xab5*0x3+-0x5ee?_0x3da6a0['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x3da6a0['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x20d210['useSpecula'+'rityFactor']&&_0x3da6a0['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x59b121&&(_0x3da6a0['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x209b19=-0x1*-0x129a+-0x1098+-0x202*0x1;_0x209b19<_0x20d210['lights']['length'];_0x209b19++){const _0x4fdb14=_0x20d210['lights'][_0x209b19],_0x3941cd=_0x4fdb14['_type'];if(_0x20d210['clusteredL'+'ightingEna'+'bled']&&_0x3941cd!==oe)continue;_0x5db5f4=!(0x113b+0x2216+-0x2*0x19a8);const _0x13f842=_0x59b121&&_0x4fdb14['_shape']?_0x4fdb14['shape']:yt,_0x206f15=_0x59b121&&_0x4fdb14['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x13f842):'';if(_0x13f842!==yt&&_0x3da6a0['append']('\x20\x20\x20\x20calc'+_0x206f15+('LightValue'+'s(light')+_0x209b19+('_position,'+'\x20light')+_0x209b19+('_halfWidth'+',\x20light')+_0x209b19+('_halfHeigh'+'t);')),_0x3941cd===oe?(_0x3da6a0['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x209b19+('_direction'+';')),_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x4fdb14['_cookie']&&(_0x3941cd===Re&&!_0x4fdb14['_cookie']['_cubemap']||_0x3941cd===Pe&&_0x4fdb14['_cookie']['_cubemap'])&&(_0x2f00cc=!(-0x5f6+-0x1a83+0x2079),_0x5db5f4=!(-0x1*-0x13bb+-0x12ce+-0xed)),_0x3da6a0['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x209b19+('_position)'+';')),_0x558cfc=!(0x712+-0x66*0x45+0x146c),_0x5db5f4&&(_0x3941cd===Re?_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x4fdb14['_cookieFal'+'loff']?'':'Clip')+(_0x4fdb14['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x209b19+('_cookie,\x20l'+'ight')+_0x209b19+('_shadowMat'+'rix,\x20light')+_0x209b19+('_cookieInt'+'ensity')+(_0x4fdb14['_cookieTra'+'nsform']?',\x20light'+_0x209b19+('_cookieMat'+'rix,\x20light')+_0x209b19+('_cookieOff'+'set'):'')+').'+_0x4fdb14['_cookieCha'+'nnel']+';'):_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x209b19+('_cookie,\x20l'+'ight')+_0x209b19+('_shadowMat'+'rix,\x20light')+_0x209b19+('_cookieInt'+'ensity).')+_0x4fdb14['_cookieCha'+'nnel']+';')),_0x13f842===yt?_0x4fdb14['_falloffMo'+'de']===wp?(_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x209b19+('_radius,\x20d'+'LightDirW)'+';')),_0x1f8d9c=!(-0x59e+0x1be5*-0x1+-0x2183*-0x1)):(_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x209b19+('_radius,\x20d'+'LightDirW)'+';')),_0x5dccaf=!(-0x206d+0xe81*-0x1+-0x2*-0x1777)):(_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x209b19+('_radius,\x20d'+'LightDirW)'+';')),_0x5dccaf=!(0x16f4+-0x9*0x1b4+-0x7a0)),_0x3da6a0['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x3941cd===Re&&(_0x5db5f4&&!_0x4fdb14['_cookieFal'+'loff']||(_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x209b19+('_direction'+',\x20light')+_0x209b19+('_innerCone'+'Angle,\x20lig'+'ht')+_0x209b19+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x2ddce4=!(-0x1d*-0x2a+0x172a+-0x4*0x6fb)))),_0x13f842!==yt?_0x3941cd===oe?_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x206f15+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x4fdb14['castShadow'+'s']&&!_0x20d210['noShadow']){const _0x15d345=ir['get'](_0x4fdb14['_shadowTyp'+'e']);v['assert'](_0x15d345);const _0x3e1a08=_0x4fdb14['_shadowTyp'+'e']===Ts,_0x3c2484=_0x15d345==null?void(0x1*0x13b2+0x8f5*0x2+0x53*-0x74):_0x15d345['vsm'],_0x199835=_0x15d345==null?void(0x1719+0x3e6*0x4+0x23*-0x11b):_0x15d345['pcf'];let _0x253b91=null,_0xab6459;switch(_0x4fdb14['_shadowTyp'+'e']){case Hr:_0x253b91='VSM16',_0xab6459='5.54';break;case Wr:_0x253b91='VSM32',_0xab6459='15.0';break;case Bh:case Nh:_0x253b91='PCF1x1';break;case lh:case Iu:_0x253b91='PCF5x5';break;case Ts:_0x253b91='PCSS';break;case Dt:case zh:default:_0x253b91='PCF3x3';break;}if(_0x253b91!==null){_0x4fdb14['_normalOff'+'setBias']&&!_0x4fdb14['_isVsm']&&_0x5c5ac0['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x3941cd===oe&&_0x5c5ac0['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x199835||_0x3e1a08||_0x55d584['isWebGPU'])&&_0x5c5ac0['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x3941cd===Pe&&_0x5c5ac0['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x41f6c3=_0x1afc93['shadowSamp'+'leCoordPS'];_0x5c5ac0['append'](_0x41f6c3['replace']('$LIGHT',_0x209b19)),_0x5c5ac0['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x5c5ac0['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x5c5ac0['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x5c5ac0['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x235197='light'+_0x209b19+('_shadowMat'+'rix');_0x3941cd===oe&&_0x4fdb14['numCascade'+'s']>-0x1*0x5d5+-0xb5e+0x89a*0x2&&(_0x3da6a0['append']('int\x20cascad'+'eIndex'+_0x209b19+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x209b19+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x209b19+('_shadowCas'+'cadeCount)'+';')),_0x4fdb14['cascadeBle'+'nd']>0x6e5*0x1+-0x1168*0x1+0xa83&&_0x3da6a0['append']('cascadeInd'+'ex'+_0x209b19+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x209b19+',\x20light'+_0x209b19+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x209b19+('_shadowCas'+'cadeCount,'+'\x20light')+_0x209b19+('_shadowCas'+'cadeBlend)'+';')),_0x3da6a0['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x209b19+'\x20=\x20light'+_0x209b19+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x209b19+'];'),_0x235197='cascadeSha'+'dowMat'+_0x209b19),_0x3da6a0['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x209b19+'('+_0x235197+',\x20light'+_0x209b19+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x3941cd===oe&&_0x3da6a0['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x209b19+('_shadowCas'+'cadeDistan'+'ces);'));let _0x4f9691='SHADOWMAP_'+'PASS(light'+_0x209b19+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x209b19+('_shadowPar'+'ams');if(_0x3c2484)_0x4f9691=_0x4f9691+',\x20'+_0xab6459+(',\x20dLightDi'+'rW');else{if(_0x3e1a08){let _0x314640=_0x3941cd===oe?'light'+_0x209b19+('_softShado'+'wParams'):'vec2(light'+_0x209b19+('_shadowSea'+'rchArea)');_0x13f842!==yt&&(_0x314640='vec2(lengt'+'h(light'+_0x209b19+('_halfWidth'+'),\x20length('+'light')+_0x209b19+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x209b19+('_shadowSea'+'rchArea')),_0x4f9691=_0x4f9691+',\x20light'+_0x209b19+('_cameraPar'+'ams,\x20')+_0x314640+(',\x20dLightDi'+'rW');}}_0x3941cd===Pe?(_0x253b91='Point'+_0x253b91,_0x3e1a08||(_0x4f9691=_0x4f9691+(',\x20dLightDi'+'rW'))):_0x3941cd===Re&&(_0x253b91='Spot'+_0x253b91),_0x3da6a0['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x209b19+('\x20=\x20getShad'+'ow')+_0x253b91+'('+_0x4f9691+');'),_0x3da6a0['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x209b19+',\x20light'+_0x209b19+('_shadowInt'+'ensity);'));}}if(_0x13f842!==yt?_0x20d210['useSpecula'+'r']?_0x3da6a0['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x3da6a0['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+';'):_0x59b121&&_0x20d210['useSpecula'+'r']?_0x3da6a0['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x3da6a0['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+';'),_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x4fdb14['affectSpec'+'ularity']){if(_0x13f842!==yt)_0x20d210['useClearCo'+'at']&&_0x3da6a0['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x206f15+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+';'),_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x206f15+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+';');else{let _0x147049=!(-0x1f35+0x11cd+0xd69);_0x3941cd===oe&&_0x20d210['fresnelMod'+'el']>-0x2183*-0x1+-0x1af3+-0x690&&(_0x147049=!(0x8ed+0x26ed+-0x6d6*0x7)),_0x20d210['useClearCo'+'at']&&_0x3da6a0['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+(_0x147049?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x20d210['useSheen']&&_0x3da6a0['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3'+';':';')),_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x209b19+'_color'+(_0x5db5f4?'\x20*\x20dAtten3':'')+(_0x147049?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x3941cd!==oe&&_0x3da6a0['append']('\x20\x20\x20\x20}');}_0x20d210['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x1f8d9c=!(0x1070+-0x221f+0x11af),_0x5dccaf=!(-0x1307*-0x2+-0xaf+0x427*-0x9),_0x558cfc=!(-0x10*0x124+-0x22*-0xe2+-0xbc4),_0x3da6a0['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x59b121&&(_0x20d210['useClearCo'+'at']&&_0x3da6a0['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x20d210['useSpecula'+'r']&&_0x3da6a0['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x20d210['useRefract'+'ion']&&_0x3da6a0['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x20d210['useAo']&&(_0x20d210['occludeDir'+'ect']&&_0x3da6a0['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x20d210['occludeSpe'+'cular']===Bo||_0x20d210['occludeSpe'+'cular']===Lu)&&_0x3da6a0['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x20d210['useSpecula'+'rityFactor']&&_0x3da6a0['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x20d210['opacityFad'+'esSpecular']===!(-0x13ca+-0x2*0x509+0x1ddd)&&((_0x20d210['blendType']===Kt||_0x20d210['blendType']===hr)&&(_0x3da6a0['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x3da6a0['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x3da6a0['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x3da6a0['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x3da6a0['append'](_0x1afc93['endPS']),_0x20d210['blendType']===Kt||_0x20d210['blendType']===Hc||_0x20d210['alphaToCov'+'erage']?_0x3da6a0['append'](_0x1afc93['outputAlph'+'aPS']):_0x20d210['blendType']===hr?_0x3da6a0['append'](_0x1afc93['outputAlph'+'aPremulPS']):_0x3da6a0['append'](_0x1afc93['outputAlph'+'aOpaquePS']),_0x20d210['useMsdf']&&_0x3da6a0['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x3da6a0['append'](_0x1afc93['outputPS']),_0x3da6a0['append'](_0x1afc93['debugOutpu'+'tPS']),_0x558cfc&&_0x5c5ac0['prepend'](_0x1afc93['lightDirPo'+'intPS']),_0x1f8d9c&&_0x5c5ac0['prepend'](_0x1afc93['falloffLin'+'earPS']),_0x5dccaf&&_0x5c5ac0['prepend'](_0x1afc93['falloffInv'+'SquaredPS']),_0x2ddce4&&_0x5c5ac0['prepend'](_0x1afc93['spotPS']),_0x2f00cc&&!_0x20d210['clusteredL'+'ightingEna'+'bled']&&_0x5c5ac0['prepend'](_0x1afc93['cookiePS']);let _0x4ea341='';const _0x589cd3='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x3da6a0['code']+'\x0a}';_0x5c5ac0['append'](_0x589cd3),_0x1eccd9['append'](_0x1afc93['debugProce'+'ssFrontend'+'PS']),_0x1eccd9['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x1eccd9['append'](It['end']());const _0x372bcc=_0x259cf3['code']+_0x5c5ac0['code']+_0x1eccd9['code'];return _0x372bcc['includes']('dTBN')&&(_0x4ea341+='mat3\x20dTBN;'+'\x0a'),_0x372bcc['includes']('dVertexNor'+'malW')&&(_0x4ea341+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x372bcc['includes']('dTangentW')&&(_0x4ea341+='vec3\x20dTang'+'entW;\x0a'),_0x372bcc['includes']('dBinormalW')&&(_0x4ea341+='vec3\x20dBino'+'rmalW;\x0a'),_0x372bcc['includes']('dViewDirW')&&(_0x4ea341+='vec3\x20dView'+'DirW;\x0a'),_0x372bcc['includes']('dReflDirW')&&(_0x4ea341+='vec3\x20dRefl'+'DirW;\x0a'),_0x372bcc['includes']('dHalfDirW')&&(_0x4ea341+='vec3\x20dHalf'+'DirW;\x0a'),_0x372bcc['includes']('ccReflDirW')&&(_0x4ea341+='vec3\x20ccRef'+'lDirW;\x0a'),_0x372bcc['includes']('dLightDirN'+'ormW')&&(_0x4ea341+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x372bcc['includes']('dLightDirW')&&(_0x4ea341+='vec3\x20dLigh'+'tDirW;\x0a'),_0x372bcc['includes']('dLightPosW')&&(_0x4ea341+='vec3\x20dLigh'+'tPosW;\x0a'),_0x372bcc['includes']('dShadowCoo'+'rd')&&(_0x4ea341+='vec3\x20dShad'+'owCoord;\x0a'),_0x372bcc['includes']('dReflectio'+'n')&&(_0x4ea341+='vec4\x20dRefl'+'ection;\x0a'),_0x372bcc['includes']('dDiffuseLi'+'ght')&&(_0x4ea341+='vec3\x20dDiff'+'useLight;\x0a'),_0x372bcc['includes']('dSpecularL'+'ight')&&(_0x4ea341+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x372bcc['includes']('dAtten')&&(_0x4ea341+='float\x20dAtt'+'en;\x0a'),_0x372bcc['includes']('dAttenD')&&(_0x4ea341+='float\x20dAtt'+'enD;\x0a'),_0x372bcc['includes']('dAtten3')&&(_0x4ea341+='vec3\x20dAtte'+'n3;\x0a'),_0x372bcc['includes']('dMsdf')&&(_0x4ea341+='vec4\x20dMsdf'+';\x0a'),_0x372bcc['includes']('ccFresnel')&&(_0x4ea341+='float\x20ccFr'+'esnel;\x0a'),_0x372bcc['includes']('ccReflecti'+'on')&&(_0x4ea341+='vec3\x20ccRef'+'lection;\x0a'),_0x372bcc['includes']('ccSpecular'+'Light')&&(_0x4ea341+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x372bcc['includes']('ccSpecular'+'ityNoFres')&&(_0x4ea341+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x372bcc['includes']('sSpecularL'+'ight')&&(_0x4ea341+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x372bcc['includes']('sReflectio'+'n')&&(_0x4ea341+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x4ea341+this['frontendDe'+'cl']+_0x372bcc;}['generateFr'+'agmentShad'+'er'](_0x2b62a3,_0x210b53,_0x3fbb29,_0xb42bf){const _0x5bd8f4=this['options'];this['frontendDe'+'cl']=_0x2b62a3,this['frontendCo'+'de']=_0x210b53,this['frontendFu'+'nc']=_0x3fbb29,this['lightingUv']=_0xb42bf,_0x5bd8f4['pass']===Oa?this['fshader']=this['_fsGetPick'+'PassCode']():_0x5bd8f4['pass']===rl?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x5bd8f4['pass']===il?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x5bd8f4['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x5bd8f4['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),v['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class qC{constructor(){c(this,'hasTangent'+'s',!(0x1bba+-0x187c+0x33d*-0x1)),c(this,'chunks',{}),c(this,'pass',0xfe4+-0x1*-0xd85+0x1d69*-0x1),c(this,'alphaTest',!(0x1*0x44a+0x1488*-0x1+0x103f)),c(this,'blendType',is),c(this,'separateAm'+'bient',!(0x11be+-0x3*-0x2de+0xb*-0x265)),c(this,'screenSpac'+'e',!(0x1*0x1f67+0x7*-0x406+0xcf*-0x4)),c(this,'skin',!(0x2306+0x30+0x2335*-0x1)),c(this,'batch',!(-0x2*-0xff7+0x120a+-0x31f7)),c(this,'useInstanc'+'ing',!(-0x56*-0x4a+0x4*-0x7a2+0x1*0x5ad)),c(this,'useMorphPo'+'sition',!(0x62*0x4f+-0x797+0xd*-0x1be)),c(this,'useMorphNo'+'rmal',!(-0x234*0x7+-0xbfb+0x1b68)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0x16*-0xf7+0x692+0x1bcb*-0x1)),c(this,'nineSliced'+'Mode',-0x1685+0x1bd6+-0x551),c(this,'clusteredL'+'ightingEna'+'bled',!(-0x1650+-0x101+0x1751*0x1)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x105d*0x1+0x10d0+-0xb*0x304)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x1132+0xc00+-0x79*-0xb)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x1b04+-0x1d05+-0x1*-0x3809),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x13*0x73+-0x6ee+-0x19a)),c(this,'vertexColo'+'rs',!(-0x12*-0xdd+-0xe*-0x148+-0x2179)),c(this,'lightMapEn'+'abled',!(-0xe74+-0x2325+0x1*0x319a)),c(this,'dirLightMa'+'pEnabled',!(-0x33d*-0x1+0x1af+-0x4eb)),c(this,'useHeights',!(0x4e1*-0x5+-0xc35+-0x1*-0x249b)),c(this,'useNormals',!(0x207b+0x2396+-0x4410)),c(this,'useClearCo'+'atNormals',!(0x1*-0x869+-0x1*-0x1a56+-0x25*0x7c)),c(this,'useAo',!(0x395+0x1d1b+-0x20af)),c(this,'diffuseMap'+'Enabled',!(0x23ac*-0x1+0x52*0x1+0x235b)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x11*-0x16c+0x1a93*-0x1+-0x1*-0x268)),c(this,'ambientSH',!(-0x315*-0xa+-0x554+-0x197d)),c(this,'ssao',!(-0x69*-0x59+-0x28f*-0x3+-0x2c2d)),c(this,'twoSidedLi'+'ghting',!(-0x1823*-0x1+0x248+-0x1a6a)),c(this,'occludeDir'+'ect',!(-0x2281+-0x1ff2+-0x213a*-0x2)),c(this,'occludeSpe'+'cular',-0x1ed7*-0x1+0x1*-0xbf5+-0x12e2),c(this,'occludeSpe'+'cularFloat',!(0xd*0x133+-0x490*-0x1+-0x1426)),c(this,'useMsdf',!(0x2531+0x4*0xed+-0x28e4)),c(this,'msdfTextAt'+'tribute',!(-0x18f5*-0x1+-0x407+-0x14ed*0x1)),c(this,'alphaToCov'+'erage',!(0x1613+0x17a2*-0x1+0x190)),c(this,'opacityFad'+'esSpecular',!(-0x1b23+0xa07*-0x3+0x3939)),c(this,'opacityDit'+'her',Rs),c(this,'opacitySha'+'dowDither',Rs),c(this,'cubeMapPro'+'jection',-0xc20+-0xfe1+0x1c01),c(this,'useSpecula'+'r',!(0xcb0+-0xcbd*-0x1+-0x196c*0x1)),c(this,'useSpecula'+'rityFactor',!(0x9d0+0x2e*-0x3d+0x5*0x3b)),c(this,'enableGGXS'+'pecular',!(0x2344+-0x2*-0xd27+-0x3d91)),c(this,'fresnelMod'+'el',0x4b5+-0x26d6+0x2221),c(this,'useRefract'+'ion',!(0x1feb+0xc74+-0x2c5e)),c(this,'useClearCo'+'at',!(-0x40d+0x1a7e+-0x8*0x2ce)),c(this,'useSheen',!(-0x1*-0x159b+0x16*0x1c1+-0x3c30)),c(this,'useIridesc'+'ence',!(0x3d8+0x9e*-0x20+-0x1*-0xfe9)),c(this,'useMetalne'+'ss',!(-0x542+-0x20c2+0x1*0x2605)),c(this,'useDynamic'+'Refraction',!(-0xa1a+-0xe2c+0x1847)),c(this,'dispersion',!(0x5*0x79b+-0xa93+0x1b73*-0x1)),c(this,'fog',Fa),c(this,'gamma',sl),c(this,'toneMap',-(-0x1*-0xf0b+0x129e+-0x21a8)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',0x18ed+0x2e8+-0x1bd4),c(this,'useCubeMap'+'Rotation',!(-0x2*0xebf+-0xf49+0x2cc8)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x137*0x3+-0x1*-0x493+-0x837)),c(this,'lights',[]),c(this,'noShadow',!(0x3*0x2c9+-0x1d16*0x1+0x14bc)),c(this,'lightMaskD'+'ynamic',0x5fa+-0x2*-0xb51+-0x1c9c),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0x1651+0x1ffd+-0x9ab));}}class Vh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0x11*0x12+0x141c+-0x154d)),c(this,'specularTi'+'nt',!(0x21e*0x10+0xddc+0xfe9*-0x3)),c(this,'metalnessT'+'int',!(-0x281*-0xb+0x1173*0x1+0x1*-0x2cfd)),c(this,'glossTint',!(-0x3f*-0x6+-0x162*0x10+0x14a7)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(0x17+-0x2*0xfec+0x1fc2)),c(this,'glossInver'+'t',!(-0x1*-0x4cb+-0x1*0x23c3+0x1ef9)),c(this,'sheenGloss'+'Invert',!(0x14e8+0x101*-0x1a+0xb*0x79)),c(this,'clearCoatG'+'lossInvert',!(0x303+0xa73+0xd*-0x109)),c(this,'useAO',!(-0x8*0x25a+-0x2087+0x1*0x3358)),c(this,'litOptions',new qC());}get['pass'](){return this['litOptions']['pass'];}}const Uu={'generateKey'(_0x560f23){return'lit'+Object['keys'](_0x560f23)['sort']()['map'](_0x399c71=>_0x399c71==='chunks'?Uu['generateCh'+'unksKey'](_0x560f23):_0x399c71==='lights'?Uu['generateLi'+'ghtsKey'](_0x560f23):_0x399c71+_0x560f23[_0x399c71])['join']('\x0a');},'generateLightsKey'(_0x491b83){return'lights:'+_0x491b83['lights']['map'](_0x2476a4=>!_0x491b83['clusteredL'+'ightingEna'+'bled']||_0x2476a4['_type']===oe?_0x2476a4['key']+',':'')['join']('');},'generateChunksKey'(_0x24fa52){return'chunks:\x0a'+Object['keys'](_0x24fa52['chunks']??{})['sort']()['map'](_0x9ffb0c=>_0x9ffb0c+_0x24fa52['chunks'][_0x9ffb0c])['join']('');}},fa=[],Ad=_0xe63ad8=>Object['keys'](_0xe63ad8)['filter'](_0x2f7859=>_0x2f7859!=='litOptions')['sort']();class XC extends It{constructor(){super(...arguments),c(this,'optionsCon'+'text',new Vh()),c(this,'optionsCon'+'textMin',new Vh());}['generateKe'+'y'](_0x40451f){let _0x4230bb;return _0x40451f===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Ad(_0x40451f)),_0x4230bb=this['propsMin']):_0x40451f===this['optionsCon'+'text']?(this['props']||(this['props']=Ad(_0x40451f)),_0x4230bb=this['props']):_0x4230bb=Ad(_0x40451f),'standard:\x0a'+It['definesHas'+'h'](_0x40451f['defines'])+'\x0a'+_0x4230bb['map'](_0x3d1ae9=>_0x3d1ae9+_0x40451f[_0x3d1ae9])['join']('\x0a')+Uu['generateKe'+'y'](_0x40451f['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x338a61,_0x4c4494,_0x2c5603){const _0x517a71=_0x2c5603[_0x338a61],_0x442846=_0x2c5603[_0x4c4494],_0x1e8c9e=_0x2c5603['litOptions']['pass']===gn;let _0xed5c5d;return _0x1e8c9e&&_0x2c5603['litOptions']['nineSliced'+'Mode']===nt||_0x1e8c9e&&_0x2c5603['litOptions']['nineSliced'+'Mode']===Qe?_0xed5c5d='nineSliced'+'Uv':(_0x517a71===-0x57*-0x23+0x335*-0x3+0x1*-0x246?_0xed5c5d='vUv'+_0x442846:_0xed5c5d='vUV'+_0x442846+'_'+_0x517a71,_0x2c5603['heightMap']&&_0x338a61!=='heightMapT'+'ransform'&&(_0xed5c5d+='\x20+\x20dUvOffs'+'et')),_0xed5c5d;}['_addMapDef'](_0x2e4410,_0x34171f){return _0x34171f?'#define\x20'+_0x2e4410+'\x0a':'#undef\x20'+_0x2e4410+'\x0a';}['_addMapDef'+'s'](_0x2433fa,_0x5d44fd,_0x499dd2,_0x59b881,_0x1d534b){return this['_addMapDef']('MAPFLOAT',_0x2433fa)+this['_addMapDef']('MAPCOLOR',_0x5d44fd)+this['_addMapDef']('MAPVERTEX',_0x499dd2)+this['_addMapDef']('MAPTEXTURE',_0x59b881)+this['_addMapDef']('MAPINVERT',_0x1d534b);}['_addMap'](_0x3ffecd,_0x21f622,_0x340bb5,_0x170e84,_0x462286,_0x286c6f=null){const _0x13c059=_0x3ffecd+'Map',_0x230f1a=_0x13c059+'Uv',_0x28b173=_0x13c059+'Identifier',_0x2523f0=_0x13c059+'Transform',_0x4a1382=_0x13c059+'Channel',_0x482d3f=_0x3ffecd+('VertexColo'+'rChannel'),_0x2bb513=_0x3ffecd+'Tint',_0x19bddf=_0x3ffecd+('VertexColo'+'r'),_0x3c86a9=_0x3ffecd+'Mode',_0x4f3536=_0x3ffecd+'Invert',_0x2678c0=_0x340bb5[_0x2bb513],_0x3e4e1b=_0x340bb5[_0x19bddf],_0x2e7f53=_0x340bb5[_0x13c059],_0x245a43=_0x340bb5[_0x28b173],_0x52c0ac=_0x340bb5[_0x3c86a9];let _0x4e4afc=_0x170e84[_0x21f622];if(_0x2e7f53){const _0x130a01=this['_getUvSour'+'ceExpressi'+'on'](_0x2523f0,_0x230f1a,_0x340bb5);if(_0x4e4afc=_0x4e4afc['replace'](/\$UV/g,_0x130a01)['replace'](/\$CH/g,_0x340bb5[_0x4a1382]),_0x462286&&_0x4e4afc['search'](/\$SAMPLER/g)!==-(0x252b+0x1*-0x4d4+0x2056*-0x1)){let _0x538017='texture_'+_0x13c059;const _0x2e9652=_0x462286[_0x245a43];_0x2e9652?_0x538017=_0x2e9652:_0x462286[_0x245a43]=_0x538017,_0x4e4afc=_0x4e4afc['replace'](/\$SAMPLER/g,_0x538017);}if(_0x286c6f&&(_0x340bb5[_0x4a1382]==='aaa'?_0x4e4afc=_0x4e4afc['replace'](/\$DECODE/g,'passThroug'+'h'):_0x4e4afc=_0x4e4afc['replace'](/\$DECODE/g,Es['decodeFunc'](_0x286c6f)),_0x4e4afc['indexOf']('$texture2D'+'SAMPLE'))){const _0x3c27b8={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x4e4afc=_0x4e4afc['replace'](/\$texture2DSAMPLE/g,_0x3c27b8[_0x286c6f]||'texture2D');}}_0x3e4e1b&&(_0x4e4afc=_0x4e4afc['replace'](/\$VC/g,_0x340bb5[_0x482d3f])),_0x52c0ac&&(_0x4e4afc=_0x4e4afc['replace'](/\$DETAILMODE/g,_0x52c0ac));const _0x28e045=!!(_0x2678c0&0xf*0x124+0x17f0+-0x290b),_0x4a684e=!!(_0x2678c0&0x3*0x8ad+0x9f2*0x1+0x3ff*-0x9),_0x44282f=!!_0x340bb5[_0x4f3536];return _0x4e4afc=this['_addMapDef'+'s'](_0x28e045,_0x4a684e,_0x3e4e1b,_0x2e7f53,_0x44282f)+_0x4e4afc,_0x4e4afc['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x175908,_0x6494dd,_0x920dcb){if(_0x920dcb[_0x175908]>-0x293+0x139f+0x4*-0x443){if(_0x920dcb[_0x175908]<_0x6494dd['length'])return _0x6494dd['substring'](-0x2002+0xfc7+0x103b,_0x920dcb[_0x175908]);if(_0x920dcb[_0x175908]>_0x6494dd['length']){let _0x33aabb=_0x6494dd;const _0x21d8a5=_0x33aabb['charAt'](_0x33aabb['length']-(-0x1dda+-0x17dc+0x35b7)),_0x4160b8=_0x920dcb[_0x175908]-_0x33aabb['length'];for(let _0x352143=-0x1ecb+-0x1*-0x305+0x2*0xde3;_0x352143<_0x4160b8;_0x352143++)_0x33aabb+=_0x21d8a5;return _0x33aabb;}return _0x6494dd;}}['createShad'+'erDefiniti'+'on'](_0x547f55,_0x44e6ff){const _0xa4ac28=Ks['get'](_0x547f55)['getByIndex'](_0x44e6ff['litOptions']['pass'])['isForward'],_0x208bb6=new $C(_0x547f55,_0x44e6ff['litOptions']),_0x24a9c0=[],_0xadc2d8=[],_0x2596de=[],_0x10f55d=-0x66a*0x6+0x2*-0x8b1+0x37e0,_0x347207={};for(const _0x16fbf1 in fa){const _0x3d501b=_0x16fbf1+'Map';if(_0x44e6ff[_0x16fbf1+('VertexColo'+'r')]){const _0x13097a=_0x16fbf1+('VertexColo'+'rChannel');_0x44e6ff[_0x13097a]=this['_correctCh'+'annel'](_0x16fbf1,_0x44e6ff[_0x13097a],fa);}if(_0x44e6ff[_0x3d501b]){const _0x282fa2=_0x3d501b+'Channel',_0x42b42a=_0x3d501b+'Transform',_0x525653=_0x3d501b+'Uv';_0x44e6ff[_0x525653]=Math['min'](_0x44e6ff[_0x525653],_0x10f55d-(0x3d*0x6d+-0x1*0x18c2+0x2*-0x9b)),_0x44e6ff[_0x282fa2]=this['_correctCh'+'annel'](_0x16fbf1,_0x44e6ff[_0x282fa2],fa);const _0x32b312=_0x44e6ff[_0x525653];_0x24a9c0[_0x32b312]=!(-0x1f0b+0x1*0x1c9+-0x23*-0xd6),_0xadc2d8[_0x32b312]=_0xadc2d8[_0x32b312]||_0x44e6ff[_0x3d501b]&&!_0x44e6ff[_0x42b42a],_0x44e6ff[_0x42b42a]&&_0x2596de['push']({'name':_0x16fbf1,'id':_0x44e6ff[_0x42b42a],'uv':_0x44e6ff[_0x525653]});}}_0x44e6ff['forceUv1']&&(_0x24a9c0[-0x1*-0x11d1+0x17e5+0x3*-0xde7]=!(0xa73*0x2+-0x2*-0x89+-0x15f8),_0xadc2d8[0xccc+0x1d53+-0x2a1e*0x1]=_0xadc2d8[-0x3b*-0x1f+0x3*0x1ff+-0xd21]!==void(-0x1fc5+0x104a+0x529*0x3)?_0xadc2d8[0x134a+-0x1*-0x5d+0x9d3*-0x2]:!(-0x1*-0x890+0x1b46+-0x23d6)),_0x208bb6['generateVe'+'rtexShader'](_0x24a9c0,_0xadc2d8,_0x2596de),_0x44e6ff['litOptions']['fresnelMod'+'el']=_0x44e6ff['litOptions']['fresnelMod'+'el']===0x7*-0xe9+-0x8a5*-0x1+-0x246*0x1?Sp:_0x44e6ff['litOptions']['fresnelMod'+'el'];const _0xbd30c8=new sr(),_0x567cae=new sr(),_0x38abc5=new sr(),_0x2da26b=new sr();let _0x1b8194='';if(_0x44e6ff['litOptions']['nineSliced'+'Mode']===Qe?_0xbd30c8['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0xbd30c8['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0xa4ac28){if(_0x44e6ff['heightMap']&&(_0xbd30c8['append']('vec2\x20dUvOf'+'fset;'),_0x567cae['append'](this['_addMap']('height','parallaxPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getParalla'+'x();')),_0x44e6ff['litOptions']['blendType']!==is||_0x44e6ff['litOptions']['alphaTest']||_0x44e6ff['litOptions']['alphaToCov'+'erage']||_0x44e6ff['litOptions']['opacityDit'+'her']!==Rs){_0xbd30c8['append']('float\x20dAlp'+'ha;'),_0x567cae['append'](this['_addMap']('opacity','opacityPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getOpacity'+'();'),_0x2da26b['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x44e6ff['litOptions']['alphaTest']&&(_0x567cae['append'](_0x208bb6['chunks']['alphaTestP'+'S']),_0x38abc5['append']('alphaTest('+'dAlpha);'));const _0x37edc8=_0x44e6ff['litOptions']['opacityDit'+'her'];_0x37edc8!==Rs&&(_0x37edc8===Nm&&_0xbd30c8['append'](_0x208bb6['chunks']['bayerPS']),_0xbd30c8['append']('#define\x20DI'+'THER_'+_0x37edc8['toUpperCas'+'e']()+'\x0a'),_0xbd30c8['append'](_0x208bb6['chunks']['opacityDit'+'herPS']),_0x38abc5['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0xbd30c8['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x208bb6['needsNorma'+'l']){if((_0x44e6ff['normalMap']||_0x44e6ff['clearCoatN'+'ormalMap'])&&(_0x567cae['append'](_0x44e6ff['packedNorm'+'al']?_0x208bb6['chunks']['normalXYPS']:_0x208bb6['chunks']['normalXYZP'+'S']),!_0x44e6ff['litOptions']['hasTangent'+'s'])){const _0x14a3c4=_0x44e6ff['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x1b8194=this['_getUvSour'+'ceExpressi'+'on'](_0x14a3c4+'Transform',_0x14a3c4+'Uv',_0x44e6ff);}_0xbd30c8['append']('vec3\x20dNorm'+'alW;'),_0x567cae['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x567cae['append'](this['_addMap']('normal','normalMapP'+'S',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getNormal('+');'),_0x2da26b['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x208bb6['needsScene'+'Color']&&_0xbd30c8['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x208bb6['needsScree'+'nSize']&&_0xbd30c8['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x208bb6['needsTrans'+'forms']&&(_0xbd30c8['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0xbd30c8['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x44e6ff['diffuseDet'+'ail']||_0x44e6ff['aoDetail'])&&_0x567cae['append'](_0x208bb6['chunks']['detailMode'+'sPS']),_0xbd30c8['append']('vec3\x20dAlbe'+'do;'),_0x44e6ff['diffuseDet'+'ail']&&_0x567cae['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207,_0x44e6ff['diffuseDet'+'ailEncodin'+'g'])),_0x567cae['append'](this['_addMap']('diffuse','diffusePS',_0x44e6ff,_0x208bb6['chunks'],_0x347207,_0x44e6ff['diffuseEnc'+'oding'])),_0x38abc5['append']('getAlbedo('+');'),_0x2da26b['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x44e6ff['litOptions']['useRefract'+'ion']&&(_0xbd30c8['append']('float\x20dTra'+'nsmission;'),_0x567cae['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getRefract'+'ion();'),_0x2da26b['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0xbd30c8['append']('float\x20dThi'+'ckness;'),_0x567cae['append'](this['_addMap']('thickness','thicknessP'+'S',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getThickne'+'ss();'),_0x2da26b['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x44e6ff['litOptions']['dispersion']&&_0x2da26b['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x44e6ff['litOptions']['useIridesc'+'ence']&&(_0xbd30c8['append']('float\x20dIri'+'descence;'),_0x567cae['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getIridesc'+'ence();'),_0x2da26b['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0xbd30c8['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x567cae['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getIridesc'+'enceThickn'+'ess();'),_0x2da26b['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x208bb6['lighting']&&_0x44e6ff['litOptions']['useSpecula'+'r']||_0x208bb6['reflection'+'s']?(_0xbd30c8['append']('vec3\x20dSpec'+'ularity;'),_0xbd30c8['append']('float\x20dGlo'+'ssiness;'),_0x44e6ff['litOptions']['useSheen']&&(_0xbd30c8['append']('vec3\x20sSpec'+'ularity;'),_0x567cae['append'](this['_addMap']('sheen','sheenPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207,_0x44e6ff['sheenEncod'+'ing'])),_0x38abc5['append']('getSheen()'+';'),_0x2da26b['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0xbd30c8['append']('float\x20sGlo'+'ssiness;'),_0x567cae['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getSheenGl'+'ossiness()'+';'),_0x2da26b['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x44e6ff['litOptions']['useMetalne'+'ss']&&(_0xbd30c8['append']('float\x20dMet'+'alness;'),_0x567cae['append'](this['_addMap']('metalness','metalnessP'+'S',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getMetalne'+'ss();'),_0x2da26b['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0xbd30c8['append']('float\x20dIor'+';'),_0x567cae['append'](this['_addMap']('ior','iorPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getIor();'),_0x2da26b['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x44e6ff['litOptions']['useSpecula'+'rityFactor']&&(_0xbd30c8['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x567cae['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getSpecula'+'rityFactor'+'();'),_0x2da26b['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x44e6ff['useSpecula'+'rColor']?_0x567cae['append'](this['_addMap']('specular','specularPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207,_0x44e6ff['specularEn'+'coding'])):_0x567cae['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x567cae['append'](this['_addMap']('gloss','glossPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getGlossin'+'ess();'),_0x38abc5['append']('getSpecula'+'rity();'),_0x2da26b['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x2da26b['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0xbd30c8['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0xbd30c8['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x44e6ff['aoDetail']&&_0x567cae['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),(_0x44e6ff['aoMap']||_0x44e6ff['aoVertexCo'+'lor']||_0x44e6ff['useAO'])&&(_0xbd30c8['append']('float\x20dAo;'),_0x567cae['append'](this['_addMap']('ao','aoPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getAO();'),_0x2da26b['append']('litArgs_ao'+'\x20=\x20dAo;')),_0xbd30c8['append']('vec3\x20dEmis'+'sion;'),_0x567cae['append'](this['_addMap']('emissive','emissivePS',_0x44e6ff,_0x208bb6['chunks'],_0x347207,_0x44e6ff['emissiveEn'+'coding'])),_0x38abc5['append']('getEmissio'+'n();'),_0x2da26b['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x44e6ff['litOptions']['useClearCo'+'at']&&(_0xbd30c8['append']('float\x20ccSp'+'ecularity;'),_0xbd30c8['append']('float\x20ccGl'+'ossiness;'),_0xbd30c8['append']('vec3\x20ccNor'+'malW;'),_0x567cae['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x567cae['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x567cae['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getClearCo'+'at();'),_0x38abc5['append']('getClearCo'+'atGlossine'+'ss();'),_0x38abc5['append']('getClearCo'+'atNormal()'+';'),_0x2da26b['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x2da26b['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x2da26b['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x44e6ff['lightMap']||_0x44e6ff['lightVerte'+'xColor']){const _0x203270=_0x44e6ff['dirLightMa'+'p']&&_0x44e6ff['litOptions']['useSpecula'+'r'],_0x349a7d=_0x203270?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0xbd30c8['append']('vec3\x20dLigh'+'tmap;'),_0x203270&&_0xbd30c8['append']('vec3\x20dLigh'+'tmapDir;'),_0x567cae['append'](this['_addMap']('light',_0x349a7d,_0x44e6ff,_0x208bb6['chunks'],_0x347207,_0x44e6ff['lightMapEn'+'coding'])),_0x38abc5['append']('getLightMa'+'p();'),_0x2da26b['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x203270&&_0x2da26b['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}v['assert'](_0x567cae['code']['indexOf']('texture2DS'+'RGB')===-(0x1*0x21b9+-0x586*-0x2+-0x2cc4)&&_0x567cae['code']['indexOf']('texture2DR'+'GBM')===-(-0x156d+0x8d0+0xc9e)&&_0x567cae['code']['indexOf']('texture2DR'+'GBE')===-(-0x1b3+-0xa9*0x3+0x1*0x3af),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x5cb098=_0x44e6ff['litOptions']['opacitySha'+'dowDither'];(_0x44e6ff['litOptions']['alphaTest']||_0x5cb098)&&(_0xbd30c8['append']('float\x20dAlp'+'ha;'),_0x567cae['append'](this['_addMap']('opacity','opacityPS',_0x44e6ff,_0x208bb6['chunks'],_0x347207)),_0x38abc5['append']('getOpacity'+'();'),_0x2da26b['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x44e6ff['litOptions']['alphaTest']&&(_0x567cae['append'](_0x208bb6['chunks']['alphaTestP'+'S']),_0x38abc5['append']('alphaTest('+'dAlpha);')),_0x5cb098!==Rs&&(_0x5cb098===Nm&&_0xbd30c8['append'](_0x208bb6['chunks']['bayerPS']),_0xbd30c8['append']('#define\x20DI'+'THER_'+_0x5cb098['toUpperCas'+'e']()+'\x0a'),_0xbd30c8['append'](_0x208bb6['chunks']['opacityDit'+'herPS']),_0x38abc5['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0xbd30c8['append'](_0x208bb6['chunks']['litShaderA'+'rgsPS']),_0x567cae['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x38abc5['code']+'\x0a'+_0x2da26b['code']+'\x0a\x20}\x0a'),_0x38abc5['code']='evaluateFr'+'ontend();';for(const _0x18db88 in _0x347207)_0xbd30c8['append']('uniform\x20sa'+'mpler2D\x20'+_0x347207[_0x18db88]+';');_0x38abc5['code']='\x0a'+_0x38abc5['code']['split']('\x0a')['map'](_0x16af7f=>'\x20\x20\x20\x20'+_0x16af7f)['join']('\x0a')+'\x0a\x0a',_0x208bb6['generateFr'+'agmentShad'+'er'](_0xbd30c8['code'],_0x567cae['code'],_0x38abc5['code'],_0x1b8194);const _0x2d860a=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x208bb6['chunks']),..._0x208bb6['chunks'],..._0x44e6ff['litOptions']['chunks']})),_0x50a382=new Map(_0x44e6ff['defines']),_0x1a2173=Mt['createDefi'+'nition'](_0x547f55,{'name':'StandardSh'+'ader','attributes':_0x208bb6['attributes'],'vertexCode':_0x208bb6['vshader'],'fragmentCode':_0x208bb6['fshader'],'vertexIncludes':_0x2d860a,'fragmentIncludes':_0x2d860a,'fragmentDefines':_0x50a382,'vertexDefines':_0x50a382});return _0x208bb6['shaderPass'+'Info']['isForward']&&(_0x1a2173['tag']=Ly),_0x1a2173;}}const Ed=new XC(),Ft=[];Ft[n0]={'src':at,'dst':at,'op':ES},Ft[is]={'src':at,'dst':kf,'op':Lt},Ft[Kt]={'src':dc,'dst':uc,'op':Lt,'alphaSrc':at},Ft[hr]={'src':at,'dst':uc,'op':Lt},Ft[yp]={'src':at,'dst':at,'op':Lt},Ft[Hc]={'src':dc,'dst':at,'op':Lt},Ft[a0]={'src':dy,'dst':TS,'op':Lt},Ft[o0]={'src':AS,'dst':at,'op':Lt},Ft[xp]={'src':dy,'dst':kf,'op':Lt},Ft[l0]={'src':at,'dst':at,'op':CS},Ft[h0]={'src':at,'dst':at,'op':MS};let jC=-0x87d*-0x3+0x223e*0x1+-0x3bb5;class yn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',jC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(-0x7*0x2c+0xd58+0x1*-0xc23)),c(this,'parameters',{}),c(this,'alphaTest',0x3a8+0x11*0x42+0x405*-0x2),c(this,'alphaToCov'+'erage',!(-0x11*-0x18e+0x515+0x4a*-0x6d)),c(this,'_blendStat'+'e',new _t()),c(this,'_depthStat'+'e',new as()),c(this,'cull',rn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x102d+0x7b*-0x33+0x854)),c(this,'_shaderVer'+'sion',-0x601+0xd88+-0x787),c(this,'_scene',null),c(this,'dirty',!(-0x105*-0x9+0x13ec+-0xd*0x23d)),new.target===yn&&v['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x1068f2){this['_dirtyShad'+'er']=!(-0x1a6b+0x1775*0x1+0x2f6),this['_chunks']=_0x1068f2;}get['chunks'](){return this['_dirtyShad'+'er']=!(-0x1caa+-0x16*0x59+-0x245*-0x10),this['_chunks'];}set['depthBias'](_0x3c9106){this['_depthStat'+'e']['depthBias']=_0x3c9106;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x39164f){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x39164f;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x339708){this['_blendStat'+'e']['redWrite']=_0x339708;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x4c76aa){this['_blendStat'+'e']['greenWrite']=_0x4c76aa;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x253655){this['_blendStat'+'e']['blueWrite']=_0x253655;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x3ce9ad){this['_blendStat'+'e']['alphaWrite']=_0x3ce9ad;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x248daa=this['transparen'+'t'],_0xb79bc2=this['meshInstan'+'ces'];for(let _0x106142=-0x6*0x1cb+0x12a*-0x21+0x312c;_0x106142<_0xb79bc2['length'];_0x106142++)_0xb79bc2[_0x106142]['transparen'+'t']=_0x248daa;}set['blendState'](_0x2db317){this['_blendStat'+'e']['copy'](_0x2db317),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x3f42e2){const _0x357e9a=Ft[_0x3f42e2];v['assert'](_0x357e9a,'Unknown\x20bl'+'end\x20mode\x20'+_0x3f42e2),this['_blendStat'+'e']['setColorBl'+'end'](_0x357e9a['op'],_0x357e9a['src'],_0x357e9a['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x357e9a['alphaOp']??_0x357e9a['op'],_0x357e9a['alphaSrc']??_0x357e9a['src'],_0x357e9a['alphaDst']??_0x357e9a['dst']);const _0x3dd50a=_0x3f42e2!==is;this['_blendStat'+'e']['blend']!==_0x3dd50a&&(this['_blendStat'+'e']['blend']=_0x3dd50a,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return is;const {colorOp:_0x184bbe,colorSrcFactor:_0xa2e1cf,colorDstFactor:_0x12c45c,alphaOp:_0x3e9cbf,alphaSrcFactor:_0x1f3c5e,alphaDstFactor:_0x754a04}=this['_blendStat'+'e'];for(let _0x274b2e=0x1*0xfd1+0x1*-0x17e+0x1*-0xe53;_0x274b2e<Ft['length'];_0x274b2e++){const _0x588a33=Ft[_0x274b2e];if(_0x588a33['src']===_0xa2e1cf&&_0x588a33['dst']===_0x12c45c&&_0x588a33['op']===_0x184bbe&&_0x588a33['src']===_0x1f3c5e&&_0x588a33['dst']===_0x754a04&&_0x588a33['op']===_0x3e9cbf)return _0x274b2e;}return Kt;}set['depthState'](_0x4a8d4f){this['_depthStat'+'e']['copy'](_0x4a8d4f);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x316fd3){this['_depthStat'+'e']['test']=_0x316fd3;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x429b0c){this['_depthStat'+'e']['func']=_0x429b0c;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x1e140f){this['_depthStat'+'e']['write']=_0x1e140f;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x5c471){var _0x3de608;this['name']=_0x5c471['name'],this['alphaTest']=_0x5c471['alphaTest'],this['alphaToCov'+'erage']=_0x5c471['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x5c471['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x5c471['_depthStat'+'e']),this['cull']=_0x5c471['cull'],this['stencilFro'+'nt']=(_0x3de608=_0x5c471['stencilFro'+'nt'])==null?void(-0x8bb+0xe5c*-0x1+0x17*0x101):_0x3de608['clone'](),_0x5c471['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x5c471['stencilFro'+'nt']===_0x5c471['stencilBac'+'k']?this['stencilFro'+'nt']:_0x5c471['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x349d3b in _0x5c471['parameters'])_0x5c471['parameters']['hasOwnProp'+'erty'](_0x349d3b)&&this['_setParame'+'terSimple'](_0x349d3b,_0x5c471['parameters'][_0x349d3b]['data']);this['defines']['clear'](),_0x5c471['defines']['forEach']((_0x53531b,_0x357d8c)=>this['defines']['set'](_0x357d8c,_0x53531b));const _0x32845f=_0x5c471['_chunks'];for(const _0x1c4377 in _0x32845f)_0x32845f['hasOwnProp'+'erty'](_0x1c4377)&&(this['_chunks'][_0x1c4377]=_0x32845f[_0x1c4377]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x5a9a00=this['meshInstan'+'ces'];for(let _0x4856a9=0x81e*0x1+0x1704+-0x1f22;_0x4856a9<_0x5a9a00['length'];_0x4856a9++)_0x5a9a00[_0x4856a9]['updateKey']();}['updateUnif'+'orms'](_0x4675f6,_0x3a4317){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x19ee71){v['assert'](!(-0xe6f+-0x1465+0x25*0xf1),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x1*0x2273+-0x19*0x13d+0x1*-0x37d),this['clearVaria'+'nts']()),this['dirty']=!(-0x2691+-0x1358+0x251*0x19);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x56c48f=this['meshInstan'+'ces'],_0x512790=_0x56c48f['length'];for(let _0x3ad5a0=-0x1f7*0x8+-0x1*0x2bf+0x1d*0xa3;_0x3ad5a0<_0x512790;_0x3ad5a0++)_0x56c48f[_0x3ad5a0]['clearShade'+'rs']();}['getParamet'+'er'](_0x2de2dd){return this['parameters'][_0x2de2dd];}['_setParame'+'terSimple'](_0x58795b,_0xfe0eec){v['call'](()=>{_0xfe0eec===void(-0x9d5+-0x1*-0xf16+-0x5*0x10d)&&v['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x58795b+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x2b11b6=this['parameters'][_0x58795b];_0x2b11b6?_0x2b11b6['data']=_0xfe0eec:this['parameters'][_0x58795b]={'scopeId':null,'data':_0xfe0eec};}['setParamet'+'er'](_0x486358,_0x4cb49a){if(_0x4cb49a===void(0x170e+-0x2498*-0x1+-0x3ba6)&&typeof _0x486358=='object'){const _0x117184=_0x486358;if(_0x117184['length']){for(let _0x1caf2a=-0x607+-0x387*0x1+-0x2*-0x4c7;_0x1caf2a<_0x117184['length'];_0x1caf2a++)this['setParamet'+'er'](_0x117184[_0x1caf2a]);return;}_0x486358=_0x117184['name'],_0x4cb49a=_0x117184['value'];}this['_setParame'+'terSimple'](_0x486358,_0x4cb49a);}['deletePara'+'meter'](_0x43a9d1){this['parameters'][_0x43a9d1]&&delete this['parameters'][_0x43a9d1];}['setParamet'+'ers'](_0x242392,_0x48006e){const _0x249fb6=this['parameters'];_0x48006e===void(-0x19bb+0x2db*0xc+-0x1*0x889)&&(_0x48006e=_0x249fb6);for(const _0x156579 in _0x48006e){const _0x2f03a5=_0x249fb6[_0x156579];_0x2f03a5&&(_0x2f03a5['scopeId']||(_0x2f03a5['scopeId']=_0x242392['scope']['resolve'](_0x156579)),_0x2f03a5['scopeId']['setValue'](_0x2f03a5['data']));}}['setDefine'](_0x594942,_0x5d55a6){let _0x17bed5=!(-0x1*0x2513+-0x1d16+0x422a);const {defines:_0x5be865}=this;_0x5d55a6!==void(0x28*-0x49+0x1873*0x1+0xd0b*-0x1)&&_0x5d55a6!==!(0x72c+-0x1a15*-0x1+-0x2140)?(_0x17bed5=!_0x5be865['has'](_0x594942)||_0x5be865['get'](_0x594942)!==_0x5d55a6,_0x5be865['set'](_0x594942,_0x5d55a6)):(_0x17bed5=_0x5be865['has'](_0x594942),_0x5be865['delete'](_0x594942)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x17bed5);}['getDefine'](_0x1154d7){return this['defines']['has'](_0x1154d7);}['destroy'](){this['variants']['clear']();for(let _0x5804ac=0xbca*-0x3+-0x1a*0xc9+0x37c8;_0x5804ac<this['meshInstan'+'ces']['length'];_0x5804ac++){const _0x335d3f=this['meshInstan'+'ces'][_0x5804ac];if(_0x335d3f['clearShade'+'rs'](),_0x335d3f['_material']=null,_0x335d3f['mesh']){const _0x271e03=al(_0x335d3f['mesh']['device']);this!==_0x271e03&&(_0x335d3f['material']=_0x271e03);}else v['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x94b+0x1*-0xaf7+0x4*0x6b;}['addMeshIns'+'tanceRef'](_0x2df953){this['meshInstan'+'ces']['push'](_0x2df953);}['removeMesh'+'InstanceRe'+'f'](_0xd125fd){const _0xe1bb15=this['meshInstan'+'ces'],_0x347439=_0xe1bb15['indexOf'](_0xd125fd);_0x347439!==-(0x19ec+-0x416*0x7+-0x1*-0x2af)&&_0xe1bb15['splice'](_0x347439,-0xc7*-0x2+0x1*-0x87a+0x6ed);}}class As{static['update'](_0x431420,_0x22ccb9,_0x4624bf,_0x2963d5,_0x4c2f06,_0x3277e1,_0x5a534f){As['updateShar'+'edOptions'](_0x431420,_0x22ccb9,_0x4624bf,_0x4c2f06,_0x3277e1),As['updateMate'+'rialOption'+'s'](_0x431420,_0x22ccb9),As['updateEnvO'+'ptions'](_0x431420,_0x22ccb9,_0x4624bf,_0x2963d5),As['updateLigh'+'tingOption'+'s'](_0x431420,_0x22ccb9,_0x4c2f06,_0x5a534f);}static['updateShar'+'edOptions'](_0x11562a,_0x5e396f,_0x477383,_0x46077f,_0x7179cf){_0x11562a['chunks']=_0x5e396f['chunks'],_0x11562a['pass']=_0x7179cf,_0x11562a['alphaTest']=_0x5e396f['alphaTest']>-0x4d*0x32+0x106*0x1+0xe04,_0x11562a['blendType']=_0x5e396f['blendType'],_0x11562a['screenSpac'+'e']=_0x46077f&&(_0x46077f&Cp)!==0x1b7b+-0xc07+-0xf74,_0x11562a['skin']=_0x46077f&&(_0x46077f&Wc)!==-0x8f1+-0x1015+0x1906,_0x11562a['useInstanc'+'ing']=_0x46077f&&(_0x46077f&$c)!==-0x1aae*-0x1+-0x409+-0x1*0x16a5,_0x11562a['useMorphPo'+'sition']=_0x46077f&&(_0x46077f&qc)!==-0x19d5+0x753+0x17*0xce,_0x11562a['useMorphNo'+'rmal']=_0x46077f&&(_0x46077f&Xc)!==0x1c39+-0x1381*0x1+-0x8b8,_0x11562a['useMorphTe'+'xtureBased'+'Int']=_0x46077f&&(_0x46077f&jc)!==0x7*0x331+-0x10*0x229+-0x413*-0x3,_0x11562a['hasTangent'+'s']=_0x46077f&&(_0x46077f&Mp)!==-0xd9b+0x1*-0x749+0x14e4,_0x11562a['nineSliced'+'Mode']=_0x5e396f['nineSliced'+'Mode']||Ti,_0x5e396f['useLightin'+'g']&&_0x477383['clusteredL'+'ightingEna'+'bled']?(_0x11562a['clusteredL'+'ightingEna'+'bled']=!(0x2461*-0x1+-0x20e*-0xd+-0x3*-0x339),_0x11562a['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x477383['lighting']['cookiesEna'+'bled'],_0x11562a['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x477383['lighting']['shadowsEna'+'bled'],_0x11562a['clusteredL'+'ightingSha'+'dowType']=_0x477383['lighting']['shadowType'],_0x11562a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x477383['lighting']['areaLights'+'Enabled']):(_0x11562a['clusteredL'+'ightingEna'+'bled']=!(-0x19e8+0x197*-0xb+0x1*0x2b66),_0x11562a['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1*0x1949+0x242e+-0xae4),_0x11562a['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1ec1+0x7fb*0x1+0x16c7),_0x11562a['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1844+0x21f0+-0x3a33));}static['updateMate'+'rialOption'+'s'](_0xd9e26a,_0x18c226){_0xd9e26a['separateAm'+'bient']=!(-0x2204+0x892*0x3+0x84f),_0xd9e26a['customFrag'+'mentShader']=null,_0xd9e26a['pixelSnap']=_0x18c226['pixelSnap'],_0xd9e26a['ambientSH']=_0x18c226['ambientSH'],_0xd9e26a['twoSidedLi'+'ghting']=_0x18c226['twoSidedLi'+'ghting'],_0xd9e26a['occludeDir'+'ect']=_0x18c226['occludeDir'+'ect'],_0xd9e26a['occludeSpe'+'cular']=_0x18c226['occludeSpe'+'cular'],_0xd9e26a['occludeSpe'+'cularFloat']=_0x18c226['occludeSpe'+'cularInten'+'sity']!==0x1*0x172d+-0x98e+-0xa6*0x15,_0xd9e26a['useMsdf']=!(-0x1f57*0x1+0xbd2+0x1386),_0xd9e26a['msdfTextAt'+'tribute']=!(0x1620+0x910*0x2+-0x283f),_0xd9e26a['alphaToCov'+'erage']=_0x18c226['alphaToCov'+'erage'],_0xd9e26a['opacityFad'+'esSpecular']=_0x18c226['opacityFad'+'esSpecular'],_0xd9e26a['opacityDit'+'her']=_0x18c226['opacityDit'+'her'],_0xd9e26a['cubeMapPro'+'jection']=u0,_0xd9e26a['useSpecula'+'r']=_0x18c226['hasSpecula'+'r'],_0xd9e26a['useSpecula'+'rityFactor']=_0x18c226['hasSpecula'+'rityFactor'],_0xd9e26a['enableGGXS'+'pecular']=_0x18c226['ggxSpecula'+'r'],_0xd9e26a['fresnelMod'+'el']=_0x18c226['fresnelMod'+'el'],_0xd9e26a['useRefract'+'ion']=_0x18c226['hasRefract'+'ion'],_0xd9e26a['useClearCo'+'at']=_0x18c226['hasClearCo'+'at'],_0xd9e26a['useSheen']=_0x18c226['hasSheen'],_0xd9e26a['useIridesc'+'ence']=_0x18c226['hasIrrides'+'cence'],_0xd9e26a['useMetalne'+'ss']=_0x18c226['hasMetalne'+'ss'],_0xd9e26a['useDynamic'+'Refraction']=_0x18c226['dynamicRef'+'raction'],_0xd9e26a['dispersion']=_0x18c226['dispersion']>0x13c*0x13+-0x11*-0x152+0x19*-0x1d6,_0xd9e26a['vertexColo'+'rs']=!(0x2436+-0x2*-0x328+-0x2a85*0x1),_0xd9e26a['lightMapEn'+'abled']=_0x18c226['hasLightin'+'g'],_0xd9e26a['dirLightMa'+'pEnabled']=_0x18c226['dirLightMa'+'p'],_0xd9e26a['useHeights']=_0x18c226['hasHeights'],_0xd9e26a['useNormals']=_0x18c226['hasNormals'],_0xd9e26a['useClearCo'+'atNormals']=_0x18c226['hasClearCo'+'atNormals'],_0xd9e26a['useAo']=_0x18c226['hasAo'],_0xd9e26a['diffuseMap'+'Enabled']=_0x18c226['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x174a0f,_0x752899,_0x1a517a,_0x2ac489){_0x174a0f['fog']=_0x752899['useFog']?_0x2ac489['fog']:Fa,_0x174a0f['gamma']=_0x2ac489['shaderOutp'+'utGamma'],_0x174a0f['toneMap']=_0x752899['useTonemap']?_0x2ac489['toneMappin'+'g']:f0,_0x752899['useSkybox']&&_0x1a517a['envAtlas']&&_0x1a517a['skybox']?(_0x174a0f['reflection'+'Source']='envAtlasHQ',_0x174a0f['reflection'+'Encoding']=_0x1a517a['envAtlas']['encoding'],_0x174a0f['reflection'+'CubemapEnc'+'oding']=_0x1a517a['skybox']['encoding']):_0x752899['useSkybox']&&_0x1a517a['envAtlas']?(_0x174a0f['reflection'+'Source']='envAtlas',_0x174a0f['reflection'+'Encoding']=_0x1a517a['envAtlas']['encoding']):_0x752899['useSkybox']&&_0x1a517a['skybox']?(_0x174a0f['reflection'+'Source']='cubeMap',_0x174a0f['reflection'+'Encoding']=_0x1a517a['skybox']['encoding']):(_0x174a0f['reflection'+'Source']=null,_0x174a0f['reflection'+'Encoding']=null),_0x752899['ambientSH']?(_0x174a0f['ambientSou'+'rce']='ambientSH',_0x174a0f['ambientEnc'+'oding']=null):_0x174a0f['reflection'+'Source']&&_0x1a517a['envAtlas']?(_0x174a0f['ambientSou'+'rce']='envAtlas',_0x174a0f['ambientEnc'+'oding']=_0x1a517a['envAtlas']['encoding']):(_0x174a0f['ambientSou'+'rce']='constant',_0x174a0f['ambientEnc'+'oding']=null);const _0x34e073=!!_0x174a0f['reflection'+'Source'];_0x174a0f['skyboxInte'+'nsity']=_0x34e073,_0x174a0f['useCubeMap'+'Rotation']=_0x34e073&&_0x1a517a['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x4d377e,_0x978b83,_0x9da44e,_0x518793){if(_0x4d377e['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*0x1406+0x14e*-0x12+0x2b83),_0x978b83['useLightin'+'g']){const _0x4b9952=[],_0x173c7c=_0x9da44e?_0x9da44e>>-0x14e6+-0xb8*0x1e+0x2a86:hs;_0x4d377e['lightMaskD'+'ynamic']=!!(_0x173c7c&hs),_0x4d377e['lightMapWi'+'thoutAmbie'+'nt']=!(0x6ac+-0x659+-0x52),_0x518793&&(As['collectLig'+'hts'](oe,_0x518793[oe],_0x4b9952,_0x173c7c),As['collectLig'+'hts'](Pe,_0x518793[Pe],_0x4b9952,_0x173c7c),As['collectLig'+'hts'](Re,_0x518793[Re],_0x4b9952,_0x173c7c)),_0x4d377e['lights']=_0x4b9952;}else _0x4d377e['lights']=[];(_0x4d377e['lights']['length']===0x2368+0x4bd*-0x8+-0x2*-0x140||(_0x9da44e&Ep)!==-0xba*0x1f+-0x342+-0xc8*-0x21)&&(_0x4d377e['noShadow']=!(0x176*-0x10+-0xd30+0x2490));}static['collectLig'+'hts'](_0x1e2e9c,_0x3c6ee7,_0x520c1d,_0x4ebb3a){for(let _0x44753d=0x1db8+0x161*0x8+-0x28c0;_0x44753d<_0x3c6ee7['length'];_0x44753d++){const _0x420d9d=_0x3c6ee7[_0x44753d];_0x420d9d['enabled']&&_0x420d9d['mask']&_0x4ebb3a&&_0x520c1d['push'](_0x420d9d);}}}const c_=(_0x107a65,_0x23bca3)=>{if(_0x107a65['length']!==_0x23bca3['length'])return!(0x230b*-0x1+0x4a*0x15+0x1cfa);for(let _0x2429c2=0x557*-0x4+-0x187c+0x2dd8;_0x2429c2<_0x107a65['length'];++_0x2429c2)if(_0x107a65[_0x2429c2]!==_0x23bca3[_0x2429c2])return!(0x1a76*0x1+0x8c*0x3a+-0x3a2d);return!(0x2288+-0x5*0x565+-0x78f);},YC=_0x35b473=>_0x35b473['r']!==-0x103b*0x1+0x3*-0x737+0x25e1*0x1||_0x35b473['g']!==-0x1*0x1987+0x1e51+-0xaf*0x7||_0x35b473['b']!==-0xa59*-0x1+-0x2*0xcc1+-0x6*-0x287,KC=_0x2450aa=>_0x2450aa['r']!==-0x1d7+-0x6d*0x45+0x1f38||_0x2450aa['g']!==-0x2b*0x1+0x25a5+-0xf6*0x27||_0x2450aa['b']!==0x1c85+-0xbc*-0xe+-0x26cd;class ZC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x5bfa38,_0xf37568,_0x180e45,_0x24c550,_0x2ae96e,_0x140bdd){this['_updateSha'+'redOptions'](_0x5bfa38,_0xf37568,_0x180e45,_0x24c550,_0x2ae96e),this['_updateMin'+'Options'](_0x5bfa38,_0x180e45,_0x2ae96e),this['_updateUVO'+'ptions'](_0x5bfa38,_0x180e45,_0x24c550,!(0xbaa+-0x7*-0x15d+-0x1535));}['updateRef'](_0xa5fa32,_0x5ce863,_0x95529b,_0x1f605d,_0xe0627d,_0x1951c0,_0x3011a6){this['_updateSha'+'redOptions'](_0xa5fa32,_0x5ce863,_0x1f605d,_0xe0627d,_0x1951c0),this['_updateEnv'+'Options'](_0xa5fa32,_0x1f605d,_0x5ce863,_0x95529b),this['_updateMat'+'erialOptio'+'ns'](_0xa5fa32,_0x1f605d),_0xa5fa32['litOptions']['hasTangent'+'s']=_0xe0627d&&(_0xe0627d&Mp)!==-0x16bd+0x1b1b+-0x45e,this['_updateLig'+'htOptions'](_0xa5fa32,_0x5ce863,_0x1f605d,_0xe0627d,_0x3011a6),this['_updateUVO'+'ptions'](_0xa5fa32,_0x1f605d,_0xe0627d,!(0x1271+-0x21ff*0x1+-0x239*-0x7),_0x95529b);}['_updateSha'+'redOptions'](_0x14eda3,_0x4bb966,_0x401466,_0x1a92a3,_0x38d80b){_0x14eda3['forceUv1']=_0x401466['forceUv1'],_0x401466['userAttrib'+'utes']&&(_0x14eda3['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x401466['userAttrib'+'utes']['entries']())),_0x14eda3['litOptions']['chunks']=_0x401466['chunks']||{},_0x14eda3['litOptions']['pass']=_0x38d80b,_0x14eda3['litOptions']['alphaTest']=_0x401466['alphaTest']>-0xe98+0x85+0xe13,_0x14eda3['litOptions']['blendType']=_0x401466['blendType'],_0x14eda3['litOptions']['screenSpac'+'e']=_0x1a92a3&&(_0x1a92a3&Cp)!==0x1c6f+-0x22a6+0x637,_0x14eda3['litOptions']['skin']=_0x1a92a3&&(_0x1a92a3&Wc)!==0x42*0x4a+-0xfbb+0x1*-0x359,_0x14eda3['litOptions']['batch']=_0x1a92a3&&(_0x1a92a3&Ou)!==0x3cd+0xcab+-0x1078,_0x14eda3['litOptions']['useInstanc'+'ing']=_0x1a92a3&&(_0x1a92a3&$c)!==-0x1*-0x24a3+-0x2*-0x91b+-0x36d9,_0x14eda3['litOptions']['useMorphPo'+'sition']=_0x1a92a3&&(_0x1a92a3&qc)!==-0x1f8a+-0x2*0xb89+0x6*0x91a,_0x14eda3['litOptions']['useMorphNo'+'rmal']=_0x1a92a3&&(_0x1a92a3&Xc)!==0x6*-0x176+0x22c5+-0x1a01,_0x14eda3['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x1a92a3&&(_0x1a92a3&jc)!==-0x166f+0x1bb0+-0x541,_0x14eda3['litOptions']['nineSliced'+'Mode']=_0x401466['nineSliced'+'Mode']||-0xd*-0x15+-0xf2c+0xe1b,_0x4bb966['clusteredL'+'ightingEna'+'bled']&&_0x401466['useLightin'+'g']?(_0x14eda3['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x22b2+0x1e*0x58+0x1862),_0x14eda3['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x4bb966['lighting']['cookiesEna'+'bled'],_0x14eda3['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x4bb966['lighting']['shadowsEna'+'bled'],_0x14eda3['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x4bb966['lighting']['shadowType'],_0x14eda3['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x4bb966['lighting']['areaLights'+'Enabled']):(_0x14eda3['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x1*-0x1435+-0x752*0x4+-0x1c*-0x53),_0x14eda3['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(0x9f*0x1+0x2*0x63d+-0xd18),_0x14eda3['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0xe91+0x180a+-0x269a),_0x14eda3['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1975+-0x1fa0+0x62c));}['_updateUVO'+'ptions'](_0x391f0b,_0x1c8d5b,_0x558b8d,_0x18d0e4,_0x1cefe7){let _0x1a0860=!(-0x1*0xb0c+-0x39*0x39+0x3f5*0x6),_0x2de31c=!(-0xbc5+0x2*0xd2c+-0xe92),_0x57f2e2=!(0x260f+-0xe72+-0x179c);_0x558b8d&&(_0x1a0860=(_0x558b8d&m0)!==0x1684+-0x1d44*0x1+0x6c0,_0x2de31c=(_0x558b8d&_0)!==0x1*0x1b0f+0x1ecb+-0x39da,_0x57f2e2=(_0x558b8d&g0)!==-0x1*-0x809+0xfea+0x17f3*-0x1),_0x391f0b['litOptions']['vertexColo'+'rs']=!(-0x1f8c+-0xa*-0x2e5+-0x29b*-0x1),this['_mapXForms']=[];const _0x2ec7e9={};for(const _0x3b577d in fa)this['_updateTex'+'Options'](_0x391f0b,_0x1c8d5b,_0x3b577d,_0x1a0860,_0x2de31c,_0x57f2e2,_0x18d0e4,_0x2ec7e9);this['_mapXForms']=null,_0x391f0b['litOptions']['ssao']=_0x1cefe7==null?void(0x1d84+0xf20+0x1*-0x2ca4):_0x1cefe7['ssaoEnable'+'d'],_0x391f0b['useAO']=_0x391f0b['litOptions']['ssao'],_0x391f0b['litOptions']['lightMapEn'+'abled']=_0x391f0b['lightMap'],_0x391f0b['litOptions']['dirLightMa'+'pEnabled']=_0x391f0b['dirLightMa'+'p'],_0x391f0b['litOptions']['useHeights']=_0x391f0b['heightMap'],_0x391f0b['litOptions']['useNormals']=_0x391f0b['normalMap'],_0x391f0b['litOptions']['useClearCo'+'atNormals']=_0x391f0b['clearCoatN'+'ormalMap'],_0x391f0b['litOptions']['useAo']=_0x391f0b['aoMap']||_0x391f0b['aoVertexCo'+'lor']||_0x391f0b['litOptions']['ssao'],_0x391f0b['litOptions']['diffuseMap'+'Enabled']=_0x391f0b['diffuseMap'];}['_updateTex'+'Options'](_0x3d4884,_0x3d77b3,_0x3f1606,_0x1f30ef,_0x5392b7,_0x1b1310,_0x14776a,_0xfe0050){const _0x35dad4=_0x3f1606==='opacity';if(!_0x14776a||_0x35dad4){const _0x27a3c2=_0x3f1606+'Map',_0x285b85=_0x3f1606+('VertexColo'+'r'),_0x4a934a=_0x3f1606+('VertexColo'+'rChannel'),_0x24df54=_0x27a3c2+'Channel',_0x31202b=_0x27a3c2+'Transform',_0x2f779e=_0x27a3c2+'Uv',_0x12e239=_0x27a3c2+'Identifier';if(_0x3f1606!=='light'&&(_0x3d4884[_0x27a3c2]=!(0x222f+-0x7dc*0x1+-0x1a52),_0x3d4884[_0x12e239]=void(-0x268f+0x24a4+0x1eb),_0x3d4884[_0x24df54]='',_0x3d4884[_0x31202b]=0x1910+-0x1c0f+0x2ff,_0x3d4884[_0x2f779e]=0x65*-0xb+-0xdaf+0x1206),_0x3d4884[_0x285b85]=!(0x1187+0x190b+-0x2a91),_0x3d4884[_0x4a934a]='',_0x35dad4&&_0x3d77b3['blendType']===is&&_0x3d77b3['alphaTest']===0xf25+-0x1e83*-0x1+0x1e7*-0x18&&!_0x3d77b3['alphaToCov'+'erage']&&_0x3d77b3['opacityDit'+'her']===Rs)return;if(_0x3f1606!=='height'&&_0x3d77b3[_0x285b85]&&_0x1b1310&&(_0x3d4884[_0x285b85]=_0x3d77b3[_0x285b85],_0x3d4884[_0x4a934a]=_0x3d77b3[_0x4a934a],_0x3d4884['litOptions']['vertexColo'+'rs']=!(0xb9f*-0x1+0xead*-0x2+-0x1*-0x28f9)),_0x3d77b3[_0x27a3c2]){let _0x1eb6eb=!(0x4e3+0x210b+-0x2*0x12f7);if(_0x3d77b3[_0x2f779e]===0x10*-0x1e7+-0x2*-0xa27+0xa22&&!_0x1f30ef&&(_0x1eb6eb=!(-0x303*-0x9+-0x329*0x3+-0x119f*0x1)),_0x3d77b3[_0x2f779e]===-0x7ef+-0x4*0x717+0x244c&&!_0x5392b7&&(_0x1eb6eb=!(-0x1*0x501+-0xe5*0x25+-0x1*-0x261b)),_0x1eb6eb){const _0x26a155=_0x3d77b3[_0x27a3c2]['id'];let _0x3dd83e=_0xfe0050[_0x26a155];_0x3dd83e===void(0x1*0x24f5+0x1ab+-0x1350*0x2)&&(_0xfe0050[_0x26a155]=_0x3f1606,_0x3dd83e=_0x3f1606),_0x3d4884[_0x27a3c2]=!!_0x3d77b3[_0x27a3c2],_0x3d4884[_0x12e239]=_0x3dd83e,_0x3d4884[_0x31202b]=this['_getMapTra'+'nsformID'](_0x3d77b3['getUniform'](_0x31202b),_0x3d77b3[_0x2f779e]),_0x3d4884[_0x24df54]=_0x3d77b3[_0x24df54],_0x3d4884[_0x2f779e]=_0x3d77b3[_0x2f779e];}}}}['_updateMin'+'Options'](_0x4ec2c2,_0x379cf6,_0x139261){const _0x32c082=_0x139261===il;_0x4ec2c2['litOptions']['opacitySha'+'dowDither']=_0x32c082?_0x379cf6['opacityDit'+'her']:_0x379cf6['opacitySha'+'dowDither'],_0x4ec2c2['litOptions']['linearDept'+'h']=_0x32c082,_0x4ec2c2['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x4d3859,_0x3bf6ce){var _0x34b470,_0x4dbfb3,_0x5331da,_0x150e9a;const _0x4f27f0=!!(_0x3bf6ce['useMetalne'+'ss']||_0x3bf6ce['specularMa'+'p']||_0x3bf6ce['sphereMap']||_0x3bf6ce['cubeMap']||KC(_0x3bf6ce['specular'])||_0x3bf6ce['specularit'+'yFactor']>0x2*0x8b+0x11a2+0x95c*-0x2&&_0x3bf6ce['useMetalne'+'ss']||_0x3bf6ce['enableGGXS'+'pecular']||_0x3bf6ce['clearCoat']>-0x2a2+0x1*-0x1145+-0x3fb*-0x5),_0x1b4651=!_0x3bf6ce['useMetalne'+'ss']||_0x3bf6ce['useMetalne'+'ssSpecular'+'Color'],_0x2fc7e7=_0x4f27f0&&(_0x3bf6ce['specularTi'+'nt']||!_0x3bf6ce['specularMa'+'p']&&!_0x3bf6ce['specularVe'+'rtexColor'])&&YC(_0x3bf6ce['specular']),_0x1c026a=_0x4f27f0&&_0x3bf6ce['useMetalne'+'ssSpecular'+'Color']&&(_0x3bf6ce['specularit'+'yFactorTin'+'t']||_0x3bf6ce['specularit'+'yFactor']<-0x2cb+-0x14b8+0x1784&&!_0x3bf6ce['specularit'+'yFactorMap']),_0x40f9a7=_0x3bf6ce['normalMap']?_0x3bf6ce['normalMap']['format']===$o||_0x3bf6ce['normalMap']['type']===op:!(-0x2f+0x28a*-0xd+0x1099*0x2),_0xe09d2c=(_0x4c0934,_0x48858c)=>Math['abs'](_0x4c0934-_0x48858c)<-0x10e6+0x2282*-0x1+-0xa*-0x524+0.0001;_0x4d3859['specularTi'+'nt']=_0x2fc7e7?0xe*-0xc5+-0x62*0x57+-0x156*-0x21:-0x362*-0x7+0x25ca+-0x3d78,_0x4d3859['specularit'+'yFactorTin'+'t']=_0x1c026a?0x564+-0x1a55+0x1*0x14f2:0x1734+-0x1bdb+0x4a7,_0x4d3859['metalnessT'+'int']=_0x3bf6ce['useMetalne'+'ss']&&_0x3bf6ce['metalness']<0x2ed+0x180d*0x1+-0x1af9?0xe3*0x7+-0xb3d+-0x1*-0x509:-0x7d6*0x4+-0x8e+0x1fe6,_0x4d3859['glossTint']=0x5a4*-0x1+0xd7*0xc+-0x46f,_0x4d3859['diffuseEnc'+'oding']=(_0x34b470=_0x3bf6ce['diffuseMap'])==null?void(0x1719+0x2400+-0x3b19):_0x34b470['encoding'],_0x4d3859['diffuseDet'+'ailEncodin'+'g']=(_0x4dbfb3=_0x3bf6ce['diffuseDet'+'ailMap'])==null?void(0x2601+0x11a8+0x1*-0x37a9):_0x4dbfb3['encoding'],_0x4d3859['emissiveEn'+'coding']=(_0x5331da=_0x3bf6ce['emissiveMa'+'p'])==null?void(0x164b+-0x397*-0x1+0x19e2*-0x1):_0x5331da['encoding'],_0x4d3859['lightMapEn'+'coding']=(_0x150e9a=_0x3bf6ce['lightMap'])==null?void(0x19c2+0x4*-0x93f+-0x6*-0x1df):_0x150e9a['encoding'],_0x4d3859['packedNorm'+'al']=_0x40f9a7,_0x4d3859['refraction'+'Tint']=_0xe09d2c(_0x3bf6ce['refraction'],0x1929+-0x170+-0x3f4*0x6)?0x1a58+0x5*0x33b+-0x2a7f:0x29*0x57+0x1*-0x1cae+0xec0,_0x4d3859['refraction'+'IndexTint']=_0xe09d2c(_0x3bf6ce['refraction'+'Index'],(-0x620+-0x1ce6+0x2307)/(-0x1620+-0x2*0x279+-0x1d*-0xef+0.5))?-0x2*-0xf3f+0x15cb+-0xa75*0x5:0xa9*0x15+-0x1e10+0x1034,_0x4d3859['thicknessT'+'int']=_0x3bf6ce['useDynamic'+'Refraction']&&_0x3bf6ce['thickness']!==0x177c+-0x233e+0xbc3?0x22cf*0x1+-0xd*-0xa7+-0x62f*0x7:0x844+0x32+-0x43b*0x2,_0x4d3859['specularEn'+'coding']=_0x3bf6ce['specularEn'+'coding']||'linear',_0x4d3859['sheenEncod'+'ing']=_0x3bf6ce['sheenEncod'+'ing']||'linear',_0x4d3859['aoMapUv']=_0x3bf6ce['aoUvSet'],_0x4d3859['aoDetail']=!!_0x3bf6ce['aoMap'],_0x4d3859['diffuseDet'+'ail']=!!_0x3bf6ce['diffuseMap'],_0x4d3859['normalDeta'+'il']=!!_0x3bf6ce['normalMap'],_0x4d3859['diffuseDet'+'ailMode']=_0x3bf6ce['diffuseDet'+'ailMode'],_0x4d3859['aoDetailMo'+'de']=_0x3bf6ce['aoDetailMo'+'de'],_0x4d3859['clearCoatT'+'int']=_0xe09d2c(_0x3bf6ce['clearCoat'],-0x7*0x1cd+-0x1*0x13a9+-0x2ef*-0xb)?-0xc48+-0xf91+-0x1bd9*-0x1:0x191*-0x11+0x2056*0x1+-0x5b4,_0x4d3859['clearCoatG'+'loss']=!!_0x3bf6ce['clearCoatG'+'loss'],_0x4d3859['clearCoatG'+'lossTint']=_0x3bf6ce['clearCoatG'+'loss']!==-0x14bf+0x1*0x12cf+0x1f1?0x1*0x1295+0x4f4+-0x1788:0x25*-0x15+-0x3*-0x949+0xc69*-0x2,_0x4d3859['iorTint']=_0xe09d2c(_0x3bf6ce['refraction'+'Index'],(-0xc03+-0x1d99+0x3*0xddf)/(0x25d8+0x2703+-0x4cda+0.5))?-0x26*-0x53+0x1955+-0x25a7:0x59*-0x23+0x12f4+0xe*-0x7c,_0x4d3859['iridescenc'+'eTint']=_0x3bf6ce['iridescenc'+'e']!==-0x1883+0x136*0x1e+-0x150*0x9?-0x4*-0x38b+0x16e*-0x14+0xe6d:0x1*0xe5c+-0x49*-0xc+-0x239*0x8,_0x4d3859['glossInver'+'t']=_0x3bf6ce['glossInver'+'t'],_0x4d3859['sheenGloss'+'Invert']=_0x3bf6ce['sheenGloss'+'Invert'],_0x4d3859['clearCoatG'+'lossInvert']=_0x3bf6ce['clearCoatG'+'lossInvert'],_0x4d3859['useSpecula'+'rColor']=_0x1b4651,_0x4d3859['litOptions']['separateAm'+'bient']=!(-0x71e+0x255*-0x2+0xbc9),_0x4d3859['litOptions']['customFrag'+'mentShader']=_0x3bf6ce['customFrag'+'mentShader'],_0x4d3859['litOptions']['pixelSnap']=_0x3bf6ce['pixelSnap'],_0x4d3859['litOptions']['ambientSH']=!!_0x3bf6ce['ambientSH'],_0x4d3859['litOptions']['twoSidedLi'+'ghting']=_0x3bf6ce['twoSidedLi'+'ghting'],_0x4d3859['litOptions']['occludeSpe'+'cular']=_0x3bf6ce['occludeSpe'+'cular'],_0x4d3859['litOptions']['occludeSpe'+'cularFloat']=_0x3bf6ce['occludeSpe'+'cularInten'+'sity']!==-0x11b*0x11+0x313*-0x1+0x15df,_0x4d3859['litOptions']['useMsdf']=!!_0x3bf6ce['msdfMap'],_0x4d3859['litOptions']['msdfTextAt'+'tribute']=!!_0x3bf6ce['msdfTextAt'+'tribute'],_0x4d3859['litOptions']['alphaToCov'+'erage']=_0x3bf6ce['alphaToCov'+'erage'],_0x4d3859['litOptions']['opacityFad'+'esSpecular']=_0x3bf6ce['opacityFad'+'esSpecular'],_0x4d3859['litOptions']['opacityDit'+'her']=_0x3bf6ce['opacityDit'+'her'],_0x4d3859['litOptions']['cubeMapPro'+'jection']=_0x3bf6ce['cubeMapPro'+'jection'],_0x4d3859['litOptions']['occludeDir'+'ect']=_0x3bf6ce['occludeDir'+'ect'],_0x4d3859['litOptions']['useSpecula'+'r']=_0x4f27f0,_0x4d3859['litOptions']['useSpecula'+'rityFactor']=(_0x1c026a||!!_0x3bf6ce['specularit'+'yFactorMap'])&&_0x3bf6ce['useMetalne'+'ssSpecular'+'Color'],_0x4d3859['litOptions']['enableGGXS'+'pecular']=_0x3bf6ce['enableGGXS'+'pecular'],_0x4d3859['litOptions']['fresnelMod'+'el']=_0x3bf6ce['fresnelMod'+'el'],_0x4d3859['litOptions']['useRefract'+'ion']=(_0x3bf6ce['refraction']||!!_0x3bf6ce['refraction'+'Map'])&&(_0x3bf6ce['useDynamic'+'Refraction']||!!_0x4d3859['litOptions']['reflection'+'Source']),_0x4d3859['litOptions']['useClearCo'+'at']=!!_0x3bf6ce['clearCoat'],_0x4d3859['litOptions']['useSheen']=_0x3bf6ce['useSheen'],_0x4d3859['litOptions']['useIridesc'+'ence']=_0x3bf6ce['useIridesc'+'ence']&&_0x3bf6ce['iridescenc'+'e']!==-0x11ec+-0x2552+-0x3*-0x126a,_0x4d3859['litOptions']['useMetalne'+'ss']=_0x3bf6ce['useMetalne'+'ss'],_0x4d3859['litOptions']['useDynamic'+'Refraction']=_0x3bf6ce['useDynamic'+'Refraction'],_0x4d3859['litOptions']['dispersion']=_0x3bf6ce['dispersion']>0x137f+-0x8e*0xd+-0xc49;}['_updateEnv'+'Options'](_0x3a13ea,_0x24e1bf,_0x382fc8,_0x3f5cb2){_0x3a13ea['litOptions']['fog']=_0x24e1bf['useFog']?_0x3f5cb2['fog']:Fa,_0x3a13ea['litOptions']['gamma']=_0x3f5cb2['shaderOutp'+'utGamma'],_0x3a13ea['litOptions']['toneMap']=_0x24e1bf['useTonemap']?_0x3f5cb2['toneMappin'+'g']:f0;let _0x3d9fee=!(0x1437+0x11ce+0x656*-0x6);if(_0x24e1bf['envAtlas']&&_0x24e1bf['cubeMap']?(_0x3a13ea['litOptions']['reflection'+'Source']='envAtlasHQ',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x24e1bf['envAtlas']['encoding'],_0x3a13ea['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x24e1bf['cubeMap']['encoding']):_0x24e1bf['envAtlas']?(_0x3a13ea['litOptions']['reflection'+'Source']='envAtlas',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x24e1bf['envAtlas']['encoding']):_0x24e1bf['cubeMap']?(_0x3a13ea['litOptions']['reflection'+'Source']='cubeMap',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x24e1bf['cubeMap']['encoding']):_0x24e1bf['sphereMap']?(_0x3a13ea['litOptions']['reflection'+'Source']='sphereMap',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x24e1bf['sphereMap']['encoding']):_0x24e1bf['useSkybox']&&_0x382fc8['envAtlas']&&_0x382fc8['skybox']?(_0x3a13ea['litOptions']['reflection'+'Source']='envAtlasHQ',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x382fc8['envAtlas']['encoding'],_0x3a13ea['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x382fc8['skybox']['encoding'],_0x3d9fee=!(0x1*0xdaf+0x763*-0x3+0x9b*0xe)):_0x24e1bf['useSkybox']&&_0x382fc8['envAtlas']?(_0x3a13ea['litOptions']['reflection'+'Source']='envAtlas',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x382fc8['envAtlas']['encoding'],_0x3d9fee=!(-0x1ea1+-0x9*0x41b+0x2b4*0x19)):_0x24e1bf['useSkybox']&&_0x382fc8['skybox']?(_0x3a13ea['litOptions']['reflection'+'Source']='cubeMap',_0x3a13ea['litOptions']['reflection'+'Encoding']=_0x382fc8['skybox']['encoding'],_0x3d9fee=!(0x24bb+-0x1905+-0x2*0x5db)):(_0x3a13ea['litOptions']['reflection'+'Source']=null,_0x3a13ea['litOptions']['reflection'+'Encoding']=null),_0x24e1bf['ambientSH'])_0x3a13ea['litOptions']['ambientSou'+'rce']='ambientSH',_0x3a13ea['litOptions']['ambientEnc'+'oding']=null;else{const _0x2803ea=_0x24e1bf['envAtlas']||(_0x24e1bf['useSkybox']&&_0x382fc8['envAtlas']?_0x382fc8['envAtlas']:null);_0x2803ea&&!_0x24e1bf['sphereMap']?(_0x3a13ea['litOptions']['ambientSou'+'rce']='envAtlas',_0x3a13ea['litOptions']['ambientEnc'+'oding']=_0x2803ea['encoding']):(_0x3a13ea['litOptions']['ambientSou'+'rce']='constant',_0x3a13ea['litOptions']['ambientEnc'+'oding']=null);}_0x3a13ea['litOptions']['skyboxInte'+'nsity']=_0x3d9fee,_0x3a13ea['litOptions']['useCubeMap'+'Rotation']=_0x3d9fee&&_0x382fc8['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x58583c,_0x1f5a2d,_0x125097,_0x60c77b,_0x3e6535){if(_0x58583c['lightMap']=!(-0x2376+0x1*-0xdcd+0x3144),_0x58583c['lightMapCh'+'annel']='',_0x58583c['lightMapUv']=-0xab+-0x4f*0xe+0x4fd,_0x58583c['lightMapTr'+'ansform']=0x13*0x3e+0x1cfd+0x2197*-0x1,_0x58583c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0xd54+0x1*-0x65+0xdba*0x1),_0x58583c['dirLightMa'+'p']=!(0x83+0x2*-0x683+0xc84),_0x60c77b&&(_0x58583c['litOptions']['noShadow']=(_0x60c77b&Ep)!==0x83*-0xa+-0x182b+-0x93*-0x33,(_0x60c77b&Fu)!==0x1045*-0x1+0x4*0x2ab+0x1*0x599&&(_0x58583c['lightMapEn'+'coding']=_0x1f5a2d['lightmapPi'+'xelFormat']===Se?'rgbm':'linear',_0x58583c['lightMap']=!(-0x3*-0x909+-0x1dac+0x291),_0x58583c['lightMapCh'+'annel']='rgb',_0x58583c['lightMapUv']=0x9f*-0x7+0xe*0x1+-0xdc*-0x5,_0x58583c['lightMapTr'+'ansform']=0x20a0+-0x1096+0x1*-0x100a,_0x58583c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x125097['lightMap'],(_0x60c77b&y0)!==0x190b+-0x2561+0xc56&&(_0x58583c['dirLightMa'+'p']=!(0x13*0x1b1+-0x24f0+0x4cd)),(_0x60c77b&x0)!==-0xd4a+0x1*-0x1d5e+0x2aa8&&(_0x58583c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x10cd+0x27*0x3c+-0x12*-0x6d)))),_0x125097['useLightin'+'g']){const _0x38bce0=[],_0xc5e7d0=_0x60c77b?_0x60c77b>>-0xb*0x2a2+0xa*-0x1de+0x2fb2:hs;_0x58583c['litOptions']['lightMaskD'+'ynamic']=!!(_0xc5e7d0&hs),_0x3e6535&&(As['collectLig'+'hts'](oe,_0x3e6535[oe],_0x38bce0,_0xc5e7d0),As['collectLig'+'hts'](Pe,_0x3e6535[Pe],_0x38bce0,_0xc5e7d0),As['collectLig'+'hts'](Re,_0x3e6535[Re],_0x38bce0,_0xc5e7d0)),_0x58583c['litOptions']['lights']=_0x38bce0;}else _0x58583c['litOptions']['lights']=[];_0x58583c['litOptions']['lights']['length']===0x508+-0x18*-0x148+-0x479*0x8&&(_0x58583c['litOptions']['noShadow']=!(-0x1*-0x1d2f+-0x2bd+-0x1a72));}['_getMapTra'+'nsformID'](_0x6739b8,_0x22db5e){if(!_0x6739b8)return 0x15ad+-0x454+-0x1159;let _0x42954d=this['_mapXForms'][_0x22db5e];_0x42954d||(_0x42954d=[],this['_mapXForms'][_0x22db5e]=_0x42954d);for(let _0x28973b=0x4c9+-0x174e+0x1285;_0x28973b<_0x42954d['length'];_0x28973b++)if(c_(_0x42954d[_0x28973b][-0x2*-0x991+0xf17*0x2+-0x3150]['value'],_0x6739b8[-0x1f8a+-0x212c+0x205b*0x2]['value'])&&c_(_0x42954d[_0x28973b][-0x1381*-0x1+0x323+0x5f*-0x3d]['value'],_0x6739b8[0x5e7+-0xc97+0x1*0x6b1]['value']))return _0x28973b+(0x11ef*-0x1+-0x2473+0x3663);return _0x42954d['push'](_0x6739b8);}}function qe(_0x5ec389,_0x3fc780=!(0x1207+0x157d+-0x2784),_0x5a144e=!(0x173*0x9+-0x2259+-0xaa7*-0x2)){const _0x554fea={};return _0x554fea[_0x5ec389+'Map']='texture',_0x554fea[_0x5ec389+'MapTiling']='vec2',_0x554fea[_0x5ec389+'MapOffset']='vec2',_0x554fea[_0x5ec389+('MapRotatio'+'n')]='number',_0x554fea[_0x5ec389+'MapUv']='number',_0x3fc780&&(_0x554fea[_0x5ec389+'MapChannel']='string',_0x5a144e&&(_0x554fea[_0x5ec389+('VertexColo'+'r')]='boolean',_0x554fea[_0x5ec389+('VertexColo'+'rChannel')]='string')),_0x554fea;}const Pa={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...qe('ao'),...qe('aoDetail',!(0x214+0xc3e+0x729*-0x2),!(0x354+-0x1825+0x29*0x82)),'aoDetailMode':'string','diffuse':'rgb',...qe('diffuse'),...qe('diffuseDet'+'ail',!(0x1df+0x1*0x18e5+-0x1ac4),!(-0xd3b*0x2+0x1c1a*-0x1+0x3691)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...qe('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...qe('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...qe('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...qe('gloss'),'clearCoat':'number',...qe('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...qe('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...qe('clearCoatN'+'ormal',!(0x18d4+0x1441+-0x2d14)),'useSheen':'boolean','sheen':'rgb',...qe('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...qe('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...qe('emissive'),'emissiveIntensity':'number',...qe('normal',!(0x6f7+-0x760+-0x1*-0x6a)),'bumpiness':'number',...qe('normalDeta'+'il',!(-0x180*0x15+-0x1*-0x1906+0x229*0x3)),'normalDetailMapBumpiness':'number',...qe('height',!(0x1aff+0x22ed+-0x3dec),!(0x2069*0x1+0x40d+0x33*-0xb7)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...qe('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...qe('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...qe('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...qe('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...qe('iridescenc'+'eThickness'),...qe('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},Kc=[];for(const l in Pa)Pa[l]==='texture'&&Kc['push'](l);const Fp=[];for(const l in Pa)Pa[l]==='cubemap'&&Fp['push'](l);const QC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},uh={},P0={};let $a=new Set();const Dl=new Y();class cs extends yn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new ZC(),this['reset']());}['reset'](){Object['keys'](uh)['forEach'](_0x10db77=>{this['_'+_0x10db77]=uh[_0x10db77]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x4fa287){return super['copy'](_0x4fa287),Object['keys'](uh)['forEach'](_0x48f424=>{this[_0x48f424]=_0x4fa287[_0x48f424];}),this['userAttrib'+'utes']=new Map(_0x4fa287['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x5a0cb3,_0x41176c){this['userAttrib'+'utes']['set'](_0x41176c,_0x5a0cb3);}['_setParame'+'ter'](_0x115bb2,_0xc2df81){$a['add'](_0x115bb2),this['setParamet'+'er'](_0x115bb2,_0xc2df81);}['_setParame'+'ters'](_0x1877d2){_0x1877d2['forEach'](_0x1b8b20=>{this['_setParame'+'ter'](_0x1b8b20['name'],_0x1b8b20['value']);});}['_processPa'+'rameters'](_0x34bd46){const _0xc6ac33=this[_0x34bd46];_0xc6ac33['forEach'](_0x3f94b2=>{$a['has'](_0x3f94b2)||delete this['parameters'][_0x3f94b2];}),this[_0x34bd46]=$a,$a=_0xc6ac33,$a['clear']();}['_updateMap'](_0x4b7b01){const _0x517069=_0x4b7b01+'Map',_0x205e5f=this[_0x517069];if(_0x205e5f){this['_setParame'+'ter']('texture_'+_0x517069,_0x205e5f);const _0x1c18fb=_0x517069+'Transform',_0x205205=this['getUniform'](_0x1c18fb);_0x205205&&this['_setParame'+'ters'](_0x205205);}}['_allocUnif'+'orm'](_0x48aefd,_0x22a8d0){let _0x18f195=this['_uniformCa'+'che'][_0x48aefd];return _0x18f195||(_0x18f195=_0x22a8d0(),this['_uniformCa'+'che'][_0x48aefd]=_0x18f195),_0x18f195;}['getUniform'](_0x5bc7d3,_0x2427a8,_0x4321b8){return P0[_0x5bc7d3](this,_0x2427a8,_0x4321b8);}['updateUnif'+'orms'](_0x577992,_0x4cc992){const _0x49e8f3=_0x448b4a=>this['getUniform'](_0x448b4a,_0x577992,_0x4cc992);this['_setParame'+'ter']('material_a'+'mbient',_0x49e8f3('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x49e8f3('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x2*0x4dc+-0x8d5+0xa*0x1db)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x49e8f3('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x49e8f3('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x49e8f3('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>0x3f1+-0x25d+-0x194&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),v['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===-0x8d5+0x1*-0x4e1+0xdb6&&this['emissive']['g']===-0xd*0x23c+0x60f+0x1*0x16fd&&this['emissive']['b']===-0x11b6+-0xe48*0x1+-0x1a*-0x13b&&v['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x49e8f3('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x1b2*-0x12+0x2*-0x829+-0xe32&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x1ba0+-0x1a75+0x3615&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x49e8f3('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x8e6+-0x351+-0x595*0x1?-0xf1*-0x7+-0x2195+0x1afe:(0x1b85*-0x1+-0x1d0a+0x3890)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x223a+0x2*0xfa5+-0x1f*0x21d)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x49e8f3('cubeMapPro'+'jectionBox'));for(const _0x247bcb in fa)this['_updateMap'](_0x247bcb);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x49e8f3('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x577992,_0x4cc992);}['updateEnvU'+'niforms'](_0x34e7f8,_0x535971){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x535971['envAtlas']&&_0x535971['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x535971['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x535971['skybox'])):_0x535971['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x535971['envAtlas']):_0x535971['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x535971['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x54e0ce){const {device:_0x3ca232,scene:_0x43ab18,pass:_0x586782,objDefs:_0x296531,sortedLights:_0x1e2286,cameraShaderParams:_0xe01505}=_0x54e0ce;this['updateEnvU'+'niforms'](_0x3ca232,_0x43ab18);const _0x43b790=Ks['get'](_0x3ca232)['getByIndex'](_0x586782),_0x50b4aa=_0x586782===rl||_0x586782===Oa||_0x586782===il||_0x43b790['isShadow'];let _0x10cf9e=_0x50b4aa?Ed['optionsCon'+'textMin']:Ed['optionsCon'+'text'];_0x10cf9e['defines']=Dp(this,_0x54e0ce),_0x50b4aa?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x10cf9e,_0x43ab18,this,_0x296531,_0x586782,_0x1e2286):this['shaderOptB'+'uilder']['updateRef'](_0x10cf9e,_0x43ab18,_0xe01505,this,_0x296531,_0x586782,_0x1e2286),_0x10cf9e['defines']['set']('TONEMAP',p0[_0x10cf9e['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x10cf9e=this['onUpdateSh'+'ader'](_0x10cf9e));const _0x3e680f=new Yc(_0x54e0ce['viewUnifor'+'mFormat'],_0x54e0ce['viewBindGr'+'oupFormat'],_0x54e0ce['vertexForm'+'at']),_0x149a19=ka(_0x3ca232);_0x149a19['register']('standard',Ed);const _0x49f7cb=_0x149a19['getProgram']('standard',_0x10cf9e,_0x3e680f,this['userId']);return this['_dirtyShad'+'er']=!(-0x522+-0x1f85*-0x1+-0x1a62),_0x49f7cb;}['destroy'](){for(const _0x30143d in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x30143d]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(cs,'TEXTURE_PA'+'RAMETERS',Kc),c(cs,'CUBEMAP_PA'+'RAMETERS',Fp);const Zc=(_0x54b29e,_0x2feaf2)=>{P0[_0x54b29e]=_0x2feaf2;},Op=(_0x2b4bea,_0x147e0f,_0x4d7a18,_0x2381cb)=>{Object['defineProp'+'erty'](cs['prototype'],_0x2b4bea,{'get':_0x2381cb||function(){return this['_'+_0x2b4bea];},'set':_0x4d7a18}),uh[_0x2b4bea]={'value':_0x147e0f};},JC=_0x1743d0=>{const _0x2520cc='_'+_0x1743d0['name'],_0x1980b1=_0x1743d0['dirtyShade'+'rFunc']||(()=>!(0x2c*0xc1+0x8e3+-0x25*0x123)),_0xb8e574=function(_0xd50e08){const _0x102d55=this[_0x2520cc];_0x102d55!==_0xd50e08&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x1980b1(_0x102d55,_0xd50e08),this[_0x2520cc]=_0xd50e08);};Op(_0x1743d0['name'],()=>_0x1743d0['defaultVal'+'ue'],_0xb8e574,_0x1743d0['getterFunc']);},eM=_0x5f2e06=>{const _0x2711bf='_'+_0x5f2e06['name'],_0x5de739=_0x5f2e06['dirtyShade'+'rFunc']||(()=>!(0x2f5+0x2*0xde+-0x4b1)),_0x47ac96=function(_0x1843ed){const _0x2e42ec=this[_0x2711bf];_0x2e42ec['equals'](_0x1843ed)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x5de739(_0x2e42ec,_0x1843ed),this[_0x2711bf]=_0x2e42ec['copy'](_0x1843ed));};Op(_0x5f2e06['name'],()=>_0x5f2e06['defaultVal'+'ue']['clone'](),_0x47ac96,_0x5f2e06['getterFunc']);},ts=_0x3b0cf7=>_0x3b0cf7['defaultVal'+'ue']&&_0x3b0cf7['defaultVal'+'ue']['clone']?eM(_0x3b0cf7):JC(_0x3b0cf7);function Ge(_0x209e91,_0x5e5b71='rgb',_0x115290=!(0x1e66+0x1442*0x1+-0x32a8),_0x13ceac=-0x3b*-0x5+-0xa6*0xa+-0xd*-0x69){fa[_0x209e91]=_0x5e5b71['length']||-(0x2fc*0x6+-0x1*0x1693+0x4ac),ts({'name':_0x209e91+'Map','defaultValue':null,'dirtyShaderFunc':(_0x1cc9d0,_0x2d34e8)=>!!_0x1cc9d0!=!!_0x2d34e8||_0x1cc9d0&&(_0x1cc9d0['type']!==_0x2d34e8['type']||_0x1cc9d0['format']!==_0x2d34e8['format'])}),ts({'name':_0x209e91+'MapTiling','defaultValue':new W(0x1*0x328+-0x1221*0x1+0xefa,-0x1*-0xea2+-0x7d9+-0x6c8)}),ts({'name':_0x209e91+'MapOffset','defaultValue':new W(-0x3ee*0x9+-0x1c3a+-0x65c*-0xa,-0x2048+-0x2*-0x305+-0x1*-0x1a3e)}),ts({'name':_0x209e91+('MapRotatio'+'n'),'defaultValue':0x0}),ts({'name':_0x209e91+'MapUv','defaultValue':_0x13ceac}),_0x5e5b71&&(ts({'name':_0x209e91+'MapChannel','defaultValue':_0x5e5b71}),_0x115290&&(ts({'name':_0x209e91+('VertexColo'+'r'),'defaultValue':!(-0x132d*0x1+-0x4*-0x755+-0xa26)}),ts({'name':_0x209e91+('VertexColo'+'rChannel'),'defaultValue':_0x5e5b71})));const _0x87b576=_0x209e91+'MapTiling',_0x1c7ed8=_0x209e91+'MapOffset',_0x31e90c=_0x209e91+('MapRotatio'+'n'),_0x1391ac=_0x209e91+('MapTransfo'+'rm');Zc(_0x1391ac,(_0xe4c4b6,_0x2d8a59,_0x1c17c5)=>{const _0x108f97=_0xe4c4b6[_0x87b576],_0x49efc4=_0xe4c4b6[_0x1c7ed8],_0x519417=_0xe4c4b6[_0x31e90c];if(_0x108f97['x']===-0x1348+-0x2578+0x57*0xa7&&_0x108f97['y']===-0x1009+0x133*0x6+0x8d8&&_0x49efc4['x']===0x4*0x5e7+-0xd16+0xa86*-0x1&&_0x49efc4['y']===0x1c69+0x1*-0x232f+-0x2*-0x363&&_0x519417===-0x13ea+-0x21*-0x7a+-0x430*-0x1)return null;const _0x512af9=_0xe4c4b6['_allocUnif'+'orm'](_0x1391ac,()=>[{'name':'texture_'+_0x1391ac+'0','value':new Float32Array(-0x84a+0x239a+0x1*-0x1b4d)},{'name':'texture_'+_0x1391ac+'1','value':new Float32Array(-0xc2*-0x11+-0x445*-0x6+-0x267d*0x1)}]),_0x22ec22=Math['cos'](_0x519417*N['DEG_TO_RAD']),_0xe1b0f5=Math['sin'](_0x519417*N['DEG_TO_RAD']),_0x29833f=_0x512af9[-0x39*0x69+0x1ff9+0x32*-0x2c]['value'];_0x29833f[-0xc50+0x82f+0x421]=_0x22ec22*_0x108f97['x'],_0x29833f[-0xa01+-0x1*-0x1c45+-0x1243]=-_0xe1b0f5*_0x108f97['y'],_0x29833f[-0x252f+0x8a6+0x1c8b]=_0x49efc4['x'];const _0x2b0fbc=_0x512af9[-0x301*-0x1+0x41b*-0x3+0x951*0x1]['value'];return _0x2b0fbc[-0xd61+0x1da5+-0x1044]=_0xe1b0f5*_0x108f97['x'],_0x2b0fbc[0x19c3+0x18bd+-0x327f]=_0x22ec22*_0x108f97['y'],_0x2b0fbc[-0x11e*-0x3+0x1*0x4be+-0x816]=-0x15d8+0x17d6+-0x1fd-_0x108f97['y']-_0x49efc4['y'],_0x512af9;});}function Cn(_0x4d12fe,_0x3ac8a2){ts({'name':_0x4d12fe,'defaultValue':_0x3ac8a2,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x24ac+-0x187d+0x1*-0xc2f),this['_'+_0x4d12fe];}}),Zc(_0x4d12fe,(_0x4f2fba,_0x5cca46,_0x204334)=>{const _0xe2064b=_0x4f2fba['_allocUnif'+'orm'](_0x4d12fe,()=>new Float32Array(0x2152+0x137*0x6+-0x2899)),_0x41dd90=_0x4f2fba[_0x4d12fe];return Dl['linear'](_0x41dd90),_0xe2064b[0x4a*0x2b+-0xb5a+-0x2*0x8a]=Dl['r'],_0xe2064b[0x1faa+0x3*-0x72b+0xa*-0x104]=Dl['g'],_0xe2064b[-0xaac+0x3d*-0x5a+-0x10*-0x202]=Dl['b'],_0xe2064b;});}function Ce(_0xeaf551,_0x35a082,_0x8be23e){ts({'name':_0xeaf551,'defaultValue':_0x35a082,'dirtyShaderFunc':(_0x6b58dc,_0x5aea1a)=>(_0x6b58dc===-0x2b3*0xd+0x1c94+0x683||_0x6b58dc===0x2640+0x1*-0x782+0x81*-0x3d)!=(_0x5aea1a===-0x3b*-0x31+-0x1dec+0x12a1||_0x5aea1a===0x444+0x921+-0xd64)}),Zc(_0xeaf551,_0x8be23e);}function qa(_0x2c64a3,_0x159e51){ts({'name':_0x2c64a3,'defaultValue':null,'dirtyShaderFunc':(_0x20bd2e,_0x279285)=>!!_0x20bd2e==!!_0x279285}),Zc(_0x2c64a3,_0x159e51);}function we(_0x463feb,_0x5e0bad){ts({'name':_0x463feb,'defaultValue':_0x5e0bad});}function tM(){Cn('ambient',new Y(-0x183d+-0x1d69+0xabb*0x5,0x805*-0x1+0x3*0xa61+0x171d*-0x1,-0x26cf+0x4d+0x2683)),Cn('diffuse',new Y(0x64d*0x1+0x1*-0x2272+0x1c26,-0x2+-0x2b*-0xe3+-0x261e,-0x1*0x216e+0x1960+0x80f)),Cn('specular',new Y(-0x60d+0xba1+-0x594,0x1a*0x149+-0x1e3a+-0x330,0x1*0x8eb+0x33*0x83+-0x53*0x6c)),Cn('emissive',new Y(-0x5*0x6d+0x2*0x11cb+0x23b*-0xf,-0xa33+-0x522+0xf55,-0x1c*0xb2+0xe74+0x504)),Cn('sheen',new Y(-0x23da+0x5b*-0x29+0x50b*0xa,0x1ec4+0xdfb+0x2*-0x165f,-0x1024+-0x158e*0x1+0x25b3)),Cn('attenuatio'+'n',new Y(0x266b+0x1a9d+-0x4107,0x1880+0x6bc+-0x1f3b,0x1ae2+-0x233b+0x85a)),Ce('emissiveIn'+'tensity',-0xca*-0x15+-0x106a+0x27*-0x1),Ce('specularit'+'yFactor',0xbc6+0xd6b*-0x1+-0x1*-0x1a6),Ce('sheenGloss',-0x1*0xa7c+0xd*-0xe9+0x1651*0x1),Ce('gloss',-0x2502+-0x1973+-0x1*-0x3e75+0.25),Ce('aoIntensit'+'y',-0x1*-0x1cf+0xf*-0x10c+-0x3*-0x4a2),Ce('heightMapF'+'actor',-0x10e7+0x1f83+-0xe9b,(_0x2c0772,_0x471fcd,_0x325969)=>_0x2c0772['heightMapF'+'actor']*(-0x593+-0x1*-0x173b+-0x11a8+0.025)),Ce('opacity',-0x2*-0xe3+0x1*-0xec6+-0x1*-0xd01),Ce('alphaFade',-0x628+-0x1*0xa9+-0x6*-0x123),Ce('alphaTest',-0x34*-0x1+0x12ff+-0x1333),Ce('bumpiness',-0x886*0x3+0x15*0xe4+0x6df),Ce('normalDeta'+'ilMapBumpi'+'ness',-0x9*-0x17b+0x8*0x120+-0x1652),Ce('reflectivi'+'ty',0xeda+-0x122e+-0x1*-0x355),Ce('occludeSpe'+'cularInten'+'sity',0x3*-0x8d3+0x2ef*0x1+0x178b),Ce('refraction',0x2de*0xa+-0x6*-0x5c0+-0xfcb*0x4),Ce('refraction'+'Index',(-0x2*0x752+0x2603+-0x175e)/(0x3*0x225+-0x213f+0x1ad1+0.5)),Ce('dispersion',0xd5c+0x210d+-0x1*0x2e69),Ce('thickness',0x1537+0x350*0x4+-0x2277),Ce('attenuatio'+'nDistance',0x3*0x413+-0x1cb5+-0x41f*-0x4),Ce('metalness',0x169*0x1+0xc8f*0x1+-0xdf7),Ce('anisotropy',-0xb1a+0x3*-0xbad+0x2e21),Ce('clearCoat',-0x24e5+0x266d+-0x8*0x31),Ce('clearCoatG'+'loss',0x27*-0x2d+-0x49*0x79+0x295d),Ce('clearCoatB'+'umpiness',-0x5b5*0x3+0x38*-0x5f+-0x1*-0x25e8),Ce('aoUvSet',0x83*0x2b+-0xc*0xb1+-0xdb5,null),Ce('iridescenc'+'e',-0xb78+-0x23a4+0x2f1c),Ce('iridescenc'+'eRefractio'+'nIndex',(0x72*0x38+-0x135a+0x1*-0x595)/(0x9f*0x27+0x17*-0x23+0x1*-0x1513+0.5)),Ce('iridescenc'+'eThickness'+'Min',-0x8*0x101+0x185e+-0x1056),Ce('iridescenc'+'eThickness'+'Max',-0x2621+-0x863+-0xe5*-0x34),qa('ambientSH'),qa('cubeMapPro'+'jectionBox',(_0x209575,_0x5a7170,_0x1e9aa9)=>{const _0x32709a=_0x209575['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1367*-0x1+-0x12*-0x35+0xfb0)},{'name':'envBoxMax','value':new Float32Array(0xa0f+-0x23d1+0x9*0x2dd)}]),_0x1b70b3=_0x209575['cubeMapPro'+'jectionBox']['getMin'](),_0x2dab17=_0x32709a[0x2*-0xcdc+0xb17+0x5*0x2ed]['value'];_0x2dab17[-0x1*0xf1c+0xcf*0x29+-0x120b]=_0x1b70b3['x'],_0x2dab17[0x1904+0x17ea+-0x30ed]=_0x1b70b3['y'],_0x2dab17[-0xbee+0x71a+-0x1*-0x4d6]=_0x1b70b3['z'];const _0x743fe3=_0x209575['cubeMapPro'+'jectionBox']['getMax'](),_0x189699=_0x32709a[-0x1a95*0x1+-0x66*-0x8+0x1766]['value'];return _0x189699[-0x1c8a+-0x3*0x98c+0x392e]=_0x743fe3['x'],_0x189699[0x1808*0x1+0x2*-0xb39+-0x195]=_0x743fe3['y'],_0x189699[0x834*0x3+0x5d2*-0x5+0x2*0x240]=_0x743fe3['z'],_0x32709a;}),we('specularTi'+'nt',!(-0x92b*-0x1+0x2*0x1ae+-0xc86)),we('specularit'+'yFactorTin'+'t',!(-0x13c3+0x38c+0x1038)),we('useMetalne'+'ss',!(0x59*0x1+-0x4c7+0xe3*0x5)),we('useMetalne'+'ssSpecular'+'Color',!(0x17d7+-0x13da+0x55*-0xc)),we('useSheen',!(0x1*0x1d3c+0x68*-0x3+0x47*-0x65)),we('enableGGXS'+'pecular',!(-0x167*0x4+-0x7*-0x443+-0x1838)),we('occludeDir'+'ect',!(-0x1316+-0x998+0x1caf)),we('opacityFad'+'esSpecular',!(0x6*-0x43f+-0x1*-0x1742+0x238)),we('occludeSpe'+'cular',Bo),we('fresnelMod'+'el',Sp),we('useDynamic'+'Refraction',!(-0x2682+-0x9b1+0x3034*0x1)),we('cubeMapPro'+'jection',u0),we('customFrag'+'mentShader',null),we('useFog',!(-0x1*0x1f1a+0x1*0x137b+0xb9f)),we('useLightin'+'g',!(-0x178a+-0x231d*0x1+0x181*0x27)),we('useTonemap',!(0x10aa+0x66*0x11+-0x1770)),we('useSkybox',!(-0x1010+-0xcff+0x1d0f*0x1)),we('forceUv1',!(0x1371+0x479*0x2+-0x1c62)),we('pixelSnap',!(-0x4c*0x3c+0x911*0x3+-0x962)),we('twoSidedLi'+'ghting',!(-0x11c5+0x1adf+0x11*-0x89)),we('nineSliced'+'Mode',void(0x17*0x97+0xf98+-0x1d29)),we('msdfTextAt'+'tribute',!(-0xfd9+-0x192+-0x8b6*-0x2)),we('useIridesc'+'ence',!(-0x1691*-0x1+-0xbc9+0x1f*-0x59)),we('glossInver'+'t',!(0x1c43+-0x19e1+-0x1d*0x15)),we('sheenGloss'+'Invert',!(0x2f*-0x33+-0x4e*0x78+0x16f7*0x2)),we('clearCoatG'+'lossInvert',!(-0x21*0x12+0x2d6+0x1*-0x83)),we('opacityDit'+'her',Rs),we('opacitySha'+'dowDither',Rs),Ge('diffuse'),Ge('specular'),Ge('emissive'),Ge('thickness','g'),Ge('specularit'+'yFactor','g'),Ge('normal',''),Ge('metalness','g'),Ge('gloss','g'),Ge('opacity','a'),Ge('refraction','g'),Ge('height','g',!(0x3b*-0x57+0x1*-0x12db+0x26e9)),Ge('ao','g'),Ge('light','rgb',!(-0x22d+-0x2*0xe05+0x77*0x41),-0x18e*0xe+-0x1d88+0x334d),Ge('msdf',''),Ge('diffuseDet'+'ail','rgb',!(-0xeed+0x7*-0x246+0xa48*0x3)),Ge('normalDeta'+'il',''),Ge('aoDetail','g',!(0x24*0x2+-0xa*0x199+-0x1*-0xfb3)),Ge('clearCoat','g'),Ge('clearCoatG'+'loss','g'),Ge('clearCoatN'+'ormal',''),Ge('sheen','rgb'),Ge('sheenGloss','g'),Ge('iridescenc'+'e','g'),Ge('iridescenc'+'eThickness','g'),we('diffuseDet'+'ailMode',km),we('aoDetailMo'+'de',km),qa('cubeMap'),qa('sphereMap'),qa('envAtlas');const _0x5e9abf=function(){return this['_prefilter'+'edCubemaps'];},_0x58b340=function(_0x5f3f4b){const _0x168d38=this['_prefilter'+'edCubemaps'];_0x5f3f4b=_0x5f3f4b||[];let _0x56cb1a=!(0x2*0x567+-0x16d*0x19+0x636*0x4),_0x121415=!(-0x749+0x1f9d+-0x81c*0x3);for(let _0x589b79=0x5f*-0x11+-0x12a2+0x18f1;_0x589b79<0x1*-0x439+-0x1c1*-0x11+-0xcc9*0x2;++_0x589b79){const _0x592bfb=_0x5f3f4b[_0x589b79]||null;_0x168d38[_0x589b79]!==_0x592bfb&&(_0x168d38[_0x589b79]=_0x592bfb,_0x56cb1a=!(-0x263+-0x63a+-0x3*-0x2df)),_0x121415=_0x121415&&!!_0x168d38[_0x589b79];}_0x56cb1a&&(_0x121415?this['envAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x168d38,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x33c*0x2+-0x1f*-0x3d+0xddb*-0x1));},_0x28bfa5=[null,null,null,null,null,null];Op('prefiltere'+'dCubemaps',()=>_0x28bfa5['slice'](),_0x58b340,_0x5e9abf);}tM();const dt=class dt{static['render'](_0xeea33f,_0x1844a4){const _0x38550c=_0x1844a4['device'],_0x39a560=_0xeea33f['cells'],_0x1d7ada=_0xeea33f['lightsBuff'+'er'],_0x534050=_0x1d7ada['boundsMin'],_0x1fe294=_0x1d7ada['boundsDelt'+'a'],_0x20cf59=_0x534050['clone']()['add'](_0x1fe294),_0x55cf9a=_0x1d7ada['boundsDelt'+'a']['clone']()['div'](_0x39a560),_0x568c2f=dt['gridPositi'+'ons'],_0x548a05=dt['gridColors'],_0x5d66af=new Y(-0x25a6+-0x74b*-0x4+0x87a+0.3,-0x1*0x18ca+0x182d+0x9d+0.3,-0x292*-0x2+0x182e+-0x1d52+0.3),_0x55a271=(_0x344a18,_0x2f80ba,_0x50a0a6,_0x178a53,_0x506d53,_0x5f1ae6,_0x1a9b1b,_0x35dc69,_0xd97a53)=>{for(let _0x1d595a=0x959*-0x3+0x2*-0x135d+0x42c5;_0x1d595a<=_0x344a18;_0x1d595a++)for(let _0x1f7e9b=-0x25*-0x4+-0x2*-0xc37+0xc2*-0x21;_0x1f7e9b<=_0x2f80ba;_0x1f7e9b++){const _0x5a1287=_0x50a0a6+_0x1d595a*_0x178a53,_0x35d4ef=_0x506d53+_0x1f7e9b*_0x5f1ae6;_0xd97a53===0x5ff*0x3+-0x12c1+0xc4?_0x568c2f['push'](_0x5a1287,_0x1a9b1b,_0x35d4ef,_0x5a1287,_0x35dc69,_0x35d4ef):_0xd97a53===0x1*0x12c3+-0x46*-0x77+-0x2*0x19a6?_0x568c2f['push'](_0x5a1287,_0x35d4ef,_0x1a9b1b,_0x5a1287,_0x35d4ef,_0x35dc69):_0xd97a53===-0x1a92+0x537+0x1*0x155d&&_0x568c2f['push'](_0x1a9b1b,_0x5a1287,_0x35d4ef,_0x35dc69,_0x5a1287,_0x35d4ef);}};if(_0x55a271(_0x39a560['x'],_0x39a560['z'],_0x534050['x'],_0x55cf9a['x'],_0x534050['z'],_0x55cf9a['z'],_0x534050['y'],_0x20cf59['y'],-0x2*-0xb1b+0x211*0x11+-0x3957),_0x55a271(_0x39a560['x'],_0x39a560['y'],_0x534050['x'],_0x55cf9a['x'],_0x534050['y'],_0x55cf9a['y'],_0x534050['z'],_0x20cf59['z'],-0x2011+0x1a*0x174+-0x5b6),_0x55a271(_0x39a560['y'],_0x39a560['z'],_0x534050['y'],_0x55cf9a['y'],_0x534050['z'],_0x55cf9a['z'],_0x534050['x'],_0x20cf59['x'],-0x1149+0xbc5+0x586),_0x568c2f['length']){const _0x125666=_0x568c2f['length']/(0x1615+-0x4d5*0x1+-0x113d*0x1);if(_0x125666!==_0x548a05['length']/(-0xaca+0x4*0x8e4+0xc61*-0x2)){_0x548a05['length']=0x71*-0x4e+0xf*-0x171+0x380d;for(let _0x5e8766=-0x2592*0x1+-0x19fe+0x3f90;_0x5e8766<_0x125666;_0x5e8766++)_0x548a05['push'](_0x5d66af['r'],_0x5d66af['g'],_0x5d66af['b'],_0x5d66af['a']);}_0x1844a4['drawLineAr'+'rays'](_0x568c2f,_0x548a05),_0x568c2f['length']=-0x1bde+-0x820*-0x1+-0xe*-0x169;}let _0x355b68=dt['mesh'];_0x355b68||(_0x355b68=new Ie(_0x38550c),_0x355b68['clear'](!(0x4*-0x1f3+0xa51+-0x285),!(0x1*0x22ed+0x1a98+0x1*-0x3d85)),dt['mesh']=_0x355b68);const _0x510095=[],_0x53de8c=[],_0x5a7d00=[],_0x5f13c4=_0xeea33f['_cells']['x'],_0x75673b=_0xeea33f['_cells']['z'],_0x4be909=_0xeea33f['counts'],_0x5ef644=_0xeea33f['_maxCellLi'+'ghtCount'],_0x47123e=new T(),_0x1d33db=new T(),_0x3cd8e5=new T(),_0x24ce49=_0x1fe294['clone']()['div'](_0x39a560);let _0x5c0be9=-0x106c+0x59*-0x6d+0x3651;for(let _0x4730b3=-0x1ab7*0x1+-0xa2*-0x1+0x1a15;_0x4730b3<_0x39a560['x'];_0x4730b3++)for(let _0x4866b9=0x10e1+0x1*-0xc15+-0x4cc;_0x4866b9<_0x39a560['z'];_0x4866b9++)for(let _0x3397e4=0x2579+-0x22fc+-0x27d;_0x3397e4<_0x39a560['y'];_0x3397e4++){const _0x324acf=_0x4730b3+_0x5f13c4*(_0x4866b9+_0x3397e4*_0x75673b),_0x11f17e=_0x4be909[_0x324acf];if(_0x11f17e>0x7*-0x10+0x1b63+-0x1*0x1af3){_0x47123e['x']=_0x534050['x']+_0x24ce49['x']*_0x4730b3,_0x47123e['y']=_0x534050['y']+_0x24ce49['y']*_0x3397e4,_0x47123e['z']=_0x534050['z']+_0x24ce49['z']*_0x4866b9,_0x1d33db['add2'](_0x47123e,_0x24ce49),_0x510095['push'](_0x47123e['x'],_0x47123e['y'],_0x1d33db['z']),_0x510095['push'](_0x1d33db['x'],_0x47123e['y'],_0x1d33db['z']),_0x510095['push'](_0x1d33db['x'],_0x1d33db['y'],_0x1d33db['z']),_0x510095['push'](_0x47123e['x'],_0x1d33db['y'],_0x1d33db['z']),_0x510095['push'](_0x1d33db['x'],_0x47123e['y'],_0x47123e['z']),_0x510095['push'](_0x47123e['x'],_0x47123e['y'],_0x47123e['z']),_0x510095['push'](_0x47123e['x'],_0x1d33db['y'],_0x47123e['z']),_0x510095['push'](_0x1d33db['x'],_0x1d33db['y'],_0x47123e['z']),_0x3cd8e5['lerp'](dt['colorLow'],dt['colorHigh'],_0x11f17e/_0x5ef644)['round']();for(let _0x49de36=-0x2264+0xa3f*0x1+-0x1825*-0x1;_0x49de36<0x1*0x4ff+-0x43*-0x4e+-0x1961;_0x49de36++)_0x53de8c['push'](_0x3cd8e5['x'],_0x3cd8e5['y'],_0x3cd8e5['z'],-0x13e7+0x1fa2+-0xbba);_0x5a7d00['push'](_0x5c0be9*(0x841+0x1*0x1f99+-0x1*0x27d2)+(-0x1336+0x18d2+-0x59c*0x1),_0x5c0be9*(0xcf8+-0x218d+0x6df*0x3)+(0x1250+0x1*-0x742+-0xb0d*0x1),_0x5c0be9*(-0x194f+-0xb*-0x101+0xe4c)+(-0x998+-0x1*0x118b+0x116*0x19)),_0x5a7d00['push'](_0x5c0be9*(0x1d04+-0x258e+-0x449*-0x2)+(-0x1cc3+0x146+-0xdc0*-0x2),_0x5c0be9*(0x83*0x34+0xc4b+-0x26df)+(-0x82d+-0x1779+-0x49*-0x6f),_0x5c0be9*(-0x1808+0x1751+0x1*0xbf)+(0x930+-0x1e56+-0xa94*-0x2)),_0x5a7d00['push'](_0x5c0be9*(-0x8f6+0x2*-0x7cf+0x189c)+(-0x1dde+-0x1*-0x219e+-0xef*0x4),_0x5c0be9*(-0xd0c+0x13dd+-0x6c9)+(0x5b0+-0x1349*-0x1+-0x1*0x18f4),_0x5c0be9*(-0xd4e+-0x10ee+0x1e44)+(0x8*-0x224+0x1b91+0x1f*-0x56)),_0x5a7d00['push'](_0x5c0be9*(-0xb5*-0x18+-0x1db0+-0x2*-0x660)+(-0x14f0+-0x10*-0x1b7+-0x1*0x679),_0x5c0be9*(0x1*0x6f4+0x1e0c+-0x24f8)+(-0x639+0x3*0x68c+-0x7*0x1ea),_0x5c0be9*(-0x1080+-0xfa*-0xe+0x2dc)+(0x4d*0x5+-0x43f+0x2c4)),_0x5a7d00['push'](_0x5c0be9*(-0x14e5+-0xcf1*0x1+0x21de)+(-0xf33*0x1+0x1159*-0x2+0x31e8),_0x5c0be9*(-0xa0c*0x3+-0x1644+0x3470)+(-0x7ac+-0x86c+0x101a),_0x5c0be9*(-0xe0e+0x20b2+-0x18d*0xc)+(0x15b*-0x13+-0x1c32+0x35f9)),_0x5a7d00['push'](_0x5c0be9*(-0xa62+0x199*0x6+-0x6a*-0x2)+(-0x365*0x2+0x128d+0x3eb*-0x3),_0x5c0be9*(0x201d+0x5*0x84+-0x22a9*0x1)+(-0x1*-0x2033+-0x8e5*0x1+0x1*-0x1747),_0x5c0be9*(-0x2*-0x90a+0x1*0x2382+0x55b*-0xa)+(-0x26f1+0x199*0x17+0x238)),_0x5a7d00['push'](_0x5c0be9*(-0x5*-0x375+0x1cdb+-0x1a*0x1c6)+(-0xe26+0x4*-0x6c8+0x2947),_0x5c0be9*(0x43c*-0x3+0x1fb9*-0x1+0x13*0x257)+(-0x194*0x4+0x1ef9+-0x18a9),_0x5c0be9*(-0xd*-0x1b6+-0x206+-0x1430)+(0x11f6+-0xb*0xd3+-0x1*0x8e1)),_0x5a7d00['push'](_0x5c0be9*(0x24a+0x51a+-0x6*0x13a)+(-0xaa6*0x1+0x59*0x8+0x2*0x3ef),_0x5c0be9*(0x7*-0xf5+-0x2bb*0xc+-0x277f*-0x1)+(-0x1799+-0xa1f+0x1*0x21bd),_0x5c0be9*(-0x5*0x241+0xa3d+0x110)+(0xaae+0x5d9*0x2+-0x165c)),_0x5a7d00['push'](_0x5c0be9*(0x349+0x1*0x1d95+-0xaf2*0x3)+(0xae0+0x1162+-0x1c41),_0x5c0be9*(0xf45+0x1*-0xf1a+0x5*-0x7)+(-0x826*0x1+-0xcf8+0x1522),_0x5c0be9*(-0x1307+0xd56+0x5b9)+(0x2519+0x1a68+-0x3f7f*0x1)),_0x5a7d00['push'](_0x5c0be9*(0x1*-0x183a+0x18c8+-0x1*0x86)+(-0x5*-0x3d6+0x2*-0xfbd+0xc50),_0x5c0be9*(0x31*-0xa7+-0x2444+0x4443)+(-0x1*0x26b3+-0x742+0x9*0x51c),_0x5c0be9*(-0x2*-0x2c8+0xdfc*0x1+0x1*-0x1384)+(-0x1feb+-0xcc7*-0x3+0x668*-0x1)),_0x5a7d00['push'](_0x5c0be9*(-0x1af0+-0x1d85+0x387d*0x1)+(-0x67*0xe+0x1c1*0xd+-0x1126),_0x5c0be9*(0x1c54+0x9*-0x3c3+-0x1*-0x58f)+(0x4ac+0x4*0x7c6+-0x8f1*0x4),_0x5c0be9*(-0xf64+-0x1d*-0xd3+-0x87b)+(-0xf38*-0x1+-0x854+0x36f*-0x2)),_0x5a7d00['push'](_0x5c0be9*(0x227f+-0xf39+-0x133e*0x1)+(-0x1*-0x24f1+-0x1948+-0xba9),_0x5c0be9*(-0x107*-0x5+-0x1e27+-0x1c*-0xe5)+(-0x2019+-0x1*0x1017+0x1011*0x3),_0x5c0be9*(-0x1*-0x533+0x1e68+-0x515*0x7)+(-0xed0+0x1b23+-0xc4d)),_0x5c0be9++;}}if(_0x5c0be9){if(_0x355b68['setPositio'+'ns'](_0x510095),_0x355b68['setColors3'+'2'](_0x53de8c),_0x355b68['setIndices'](_0x5a7d00),_0x355b68['update'](Ms,!(0x1996+-0x293+-0x1702)),!dt['meshInstan'+'ce']){const _0x3b3c4c=new cs();_0x3b3c4c['useLightin'+'g']=!(-0xd0a*-0x2+-0xb2c+0x1*-0xee7),_0x3b3c4c['emissive']=new Y(0x424*-0x7+-0x10dc+0x2dd9,-0x1cc1*0x1+0x245*-0x5+0x281b,0x8*0x433+-0x183+-0x2014),_0x3b3c4c['emissiveVe'+'rtexColor']=!(-0x464*-0x7+-0x19*0x130+-0x1*0x10c),_0x3b3c4c['blendType']=Hc,_0x3b3c4c['depthWrite']=!(-0x68f+0x2200+-0x1b70),_0x3b3c4c['update']();const _0x3cbc3d=new De('WorldClust'+'ersDebug');_0x3cbc3d['worldTrans'+'form']=q['IDENTITY'],_0x3cbc3d['_dirtyWorl'+'d']=_0x3cbc3d['_dirtyNorm'+'al']=!(-0x25*-0xe+0x10d6+-0x12db),dt['meshInstan'+'ce']=new Le(_0x355b68,_0x3b3c4c,_0x3cbc3d),dt['meshInstan'+'ce']['cull']=!(0x2133+0x1*0x1f5b+0x1*-0x408d);}const _0x299bc8=dt['meshInstan'+'ce'];_0x1844a4['immediate']['drawMesh'](_0x299bc8['material'],_0x299bc8['node']['worldTrans'+'form'],null,_0x299bc8,_0x1844a4['defaultDra'+'wLayer']);}}};c(dt,'gridPositi'+'ons',[]),c(dt,'gridColors',[]),c(dt,'mesh',null),c(dt,'meshInstan'+'ce',null),c(dt,'colorLow',new T(0x17d5+0xbe+-0x1892,0x1111+0x6*0x617+-0x359a,0x8*0x285+0x2181+-0x8*0x6b5)),c(dt,'colorHigh',new T(0x4c*0x80+0x4c2+-0x2a9a,0x1*-0x11b+0x17f8+0x3*-0x79f,0x2100+0x1a93*-0x1+-0x1*0x66d));let Vu=dt;const sM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let vi=null;const R0=()=>{if(!vi){const _0x27db70=atob(sM);vi=Uint8Array['from'](_0x27db70,_0x365a04=>_0x365a04['charCodeAt'](0x1995+0x1ac0+0x1*-0x3455));}},iM=()=>(R0(),vi);class rM{constructor(_0x174d0c=-0x20f0+-0x2*0x8a6+0x323c){c(this,'seed',0x22e9+-0xf*-0xdd+-0x2fdc),(this['seed']=_0x174d0c*(-0x2e2*0x1+-0x1875+0x1b5b),R0());}['_next'](){this['seed']=(this['seed']+(-0x2269+0x2f*0x12+-0x1*-0x1f1f))%vi['length'];}['value'](){return this['_next'](),vi[this['seed']]/(-0x168+-0x1*0x30d+0x574);}['vec4'](_0x7c8176=new Q()){return this['_next'](),_0x7c8176['set'](vi[this['seed']],vi[this['seed']+(0xf*-0x47+0x71*0x1f+-0x985*0x1)],vi[this['seed']+(0x207d*-0x1+-0x1d06+0x3d85)],vi[this['seed']+(0x58d+0x3c1*-0x1+-0x1c9*0x1)])['mulScalar']((0x415+-0xc0a*-0x1+-0x80f*0x2)/(0x249a*-0x1+-0x25c6+0x4b5f));}}const nM=[new T(-(-0x11a*0x23+-0xa9c+-0x133*-0x29),-0x623+-0x24fb*0x1+0x2b1e,0x36c*-0x8+-0x43a*-0x9+0xb6*-0xf),new T(0xcc*-0x1a+-0xece+0x55*0x6b,-0x13e5+-0xc*0x2cd+0x3581,0x2352+-0x353*-0xb+-0x1*0x47e3),new T(-0x1b38+0x13b1+0x787,-(0x1cc7*-0x1+0x1153*0x2+0x5de*-0x1),0x2252+-0x2a4+-0x1fae),new T(-0x7*-0x303+-0x1daf+-0x2*-0x44d,-0xf51*0x1+-0x1f24+-0x139*-0x26,-0xd31*-0x2+0x1*0x90b+-0x236d),new T(0xc74*-0x1+0x179a+-0xb26,-0x407+-0x1da1+0x86a*0x4,-(0x2*0x78d+0x11*-0x89+0x80*-0xc)),new T(-0x3c*0x57+-0x1e69+0x363*0xf,-0x9d9*-0x3+0x2078+-0x3e03,-0x11*0x1ee+-0x1921+-0x19c*-0x24)];class aM{constructor(){c(this,'colors',new Float32Array((0xe3*-0x9+-0x1245+0x1a46)*(0x106d+-0x587*-0x6+-0x3194)));}['update'](_0x2e6ecb,_0x208a2d){const _0xe1d018=this['colors'],{r:_0x2e74f6,g:_0x30dcdf,b:_0x247781}=_0x2e6ecb;for(let _0x1eaef4=0x592+-0xdc2+0x830;_0x1eaef4<0x995*0x1+0x89a+-0x1229;_0x1eaef4++)_0xe1d018[_0x1eaef4*(0x1*0x709+-0xa30+0x2d*0x12)]=_0x2e74f6,_0xe1d018[_0x1eaef4*(0xbcc+0x8d9+-0x14a2)+(-0x1*0x12f6+0x20c1+0xdca*-0x1)]=_0x30dcdf,_0xe1d018[_0x1eaef4*(-0x104f+0x1*-0x25f7+0x3649*0x1)+(-0x5d7*0x5+0x229d+-0xad*0x8)]=_0x247781;for(let _0x2d2442=-0x11f0*0x2+0x6f*0x1c+0x17bc;_0x2d2442<_0x208a2d['length'];_0x2d2442++){const _0x5bc03e=_0x208a2d[_0x2d2442];if(_0x5bc03e['_type']===oe)for(let _0x40e461=0x254b+-0x240b*0x1+-0x140;_0x40e461<0x9c3+0x1*0x1ee5+-0x1451*0x2;_0x40e461++){const _0x4b07c3=Math['max'](nM[_0x40e461]['dot'](_0x5bc03e['_direction']),0x479*-0x1+-0x1*0x1877+0x73c*0x4)*_0x5bc03e['_intensity'],_0x4aab1b=_0x5bc03e['_color'];_0xe1d018[_0x40e461*(0x1937+-0x1ff2+-0x2*-0x35f)]+=_0x4aab1b['r']*_0x4b07c3,_0xe1d018[_0x40e461*(0xa33+-0x77*-0x4a+-0x2c96)+(0x1798+-0x7c7+0x1fa*-0x8)]+=_0x4aab1b['g']*_0x4b07c3,_0xe1d018[_0x40e461*(0x58d+-0x1*0x1c97+0x170d)+(-0x235d+0x4f5+-0x11*-0x1ca)]+=_0x4aab1b['b']*_0x4b07c3;}}}}const oM=(_0x41e731,_0x37f45a,_0x275c40,_0x33ca0b)=>{const _0x21df01=new he(_0x41e731,{'name':''+_0x37f45a+_0x275c40,'width':_0x275c40,'height':_0x275c40,'format':Se,'addressU':tt,'addressV':tt,'type':Di,'magFilter':de,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x2194+-0x81*-0x33+-0x3b46)});return _0x21df01['lock']()['set'](_0x33ca0b),_0x21df01['unlock'](),_0x21df01;},lM=new Ot(),hM=_0x59c099=>lM['get'](_0x59c099,()=>{const _0x32c802=iM(),_0x47d19c=Math['sqrt'](_0x32c802['length']/(-0x13*-0x1be+0x187e+-0x3994));return oM(_0x59c099,'BlueNoise',_0x47d19c,_0x32c802);});class un{constructor(_0x4435cb,_0x98e5f4){this['texture']=_0x4435cb,this['cached']=!(-0x2*-0x8a+0xea7*0x1+-0xfba),this['renderTarg'+'ets']=_0x98e5f4;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x106991=this['renderTarg'+'ets'];for(let _0x32375a=-0x252b+0x6*-0x679+0x4c01;_0x32375a<_0x106991['length'];_0x32375a++)_0x106991[_0x32375a]['destroy']();this['renderTarg'+'ets']['length']=-0x1633+0x1953+0x5*-0xa0;}static['getShadowF'+'iltering'](_0xcb9646,_0x5e70ab){return _0x5e70ab===Wr?_0xcb9646['extTexture'+'FloatLinea'+'r']?st:de:st;}static['create'](_0x31ebec,_0x453901){let _0x65b5d3=null;return _0x453901['_type']===Pe?_0x65b5d3=this['createCube'+'map'](_0x31ebec,_0x453901['_shadowRes'+'olution'],_0x453901['_shadowTyp'+'e']):_0x65b5d3=this['create2dMa'+'p'](_0x31ebec,_0x453901['_shadowRes'+'olution'],_0x453901['_shadowTyp'+'e']),_0x65b5d3;}static['createAtla'+'s'](_0x4e224c,_0x386cf3,_0x3d7b03){const _0x4c655e=this['create2dMa'+'p'](_0x4e224c,_0x386cf3,_0x3d7b03),_0x29c22f=_0x4c655e['renderTarg'+'ets'],_0x5a490f=_0x29c22f[0x78b+-0xa68+-0x1*-0x2dd];for(let _0x46f5b4=-0x1b*-0x59+0x14eb+-0x1e4e;_0x46f5b4<-0x951+-0x9ef+0x1345;_0x46f5b4++)_0x29c22f['push'](_0x5a490f);return _0x4c655e;}static['create2dMa'+'p'](_0x42bef3,_0x4e19e9,_0xe637d5){var _0x5ad57b;const _0x505a17=ir['get'](_0xe637d5);v['assert'](_0x505a17);let _0x3db3f4=_0x505a17['format'];_0x3db3f4===Ii&&!_0x42bef3['textureFlo'+'atRenderab'+'le']&&_0x42bef3['textureHal'+'fFloatRend'+'erable']&&(_0x3db3f4=Ec);const _0x51a09e=(_0x5ad57b=xt['get'](_0x3db3f4))==null?void(0x790+0x1f0d+-0x293*0xf):_0x5ad57b['name'],_0xe07024=this['getShadowF'+'iltering'](_0x42bef3,_0xe637d5),_0x219f49=new he(_0x42bef3,{'profilerHint':Tu,'format':_0x3db3f4,'width':_0x4e19e9,'height':_0x4e19e9,'mipmaps':!(0x2212+-0x1*0x1c32+-0x5df),'minFilter':_0xe07024,'magFilter':_0xe07024,'addressU':ae,'addressV':ae,'name':'ShadowMap2'+'D_'+_0x51a09e});let _0x41bc9d=null;return _0x505a17!=null&&_0x505a17['pcf']?(_0x219f49['compareOnR'+'ead']=!(0x6e7+-0xb4+0x17*-0x45),_0x219f49['compareFun'+'c']=Eh,_0x41bc9d=new pt({'depthBuffer':_0x219f49})):_0x41bc9d=new pt({'colorBuffer':_0x219f49,'depth':!(-0x1405+0x623+0xde2)}),_0x42bef3['isWebGPU']&&(_0x41bc9d['flipY']=!(0x2593+-0x1*-0x1c37+-0x41ca)),new un(_0x219f49,[_0x41bc9d]);}static['createCube'+'map'](_0x36886e,_0x393deb,_0x53fe79){var _0x418bc0;const _0x6d6d0d=ir['get'](_0x53fe79);v['assert'](_0x6d6d0d);const _0x34abc0=(_0x418bc0=xt['get'](_0x6d6d0d['format']))==null?void(-0x95b+-0xba9+0x5*0x434):_0x418bc0['name'],_0x41b45d=_0x53fe79===Ts,_0x4ab7bd=_0x41b45d?de:st,_0x426f10=new he(_0x36886e,{'profilerHint':Tu,'format':_0x6d6d0d==null?void(0x6fd+-0xa38+0x33b):_0x6d6d0d['format'],'width':_0x393deb,'height':_0x393deb,'cubemap':!(0x1230+0x11bc+-0x2*0x11f6),'mipmaps':!(-0x71b+0x769*0x1+-0x4d),'minFilter':_0x4ab7bd,'magFilter':_0x4ab7bd,'addressU':ae,'addressV':ae,'name':'ShadowMapC'+'ube_'+_0x34abc0});_0x41b45d||(_0x426f10['compareOnR'+'ead']=!(-0x18c2+0xd7*-0x3+0x1b47),_0x426f10['compareFun'+'c']=Eh);const _0x4839eb=[];for(let _0xaf28ae=0xb4d*0x3+-0xe5*0xb+-0x1810;_0xaf28ae<0x230b+-0x3*-0x717+0x106*-0x37;_0xaf28ae++)_0x41b45d?_0x4839eb['push'](new pt({'colorBuffer':_0x426f10,'face':_0xaf28ae,'depth':!(-0xca+0x52d*0x6+0x95*-0x34)})):_0x4839eb['push'](new pt({'depthBuffer':_0x426f10,'face':_0xaf28ae}));return new un(_0x426f10,_0x4839eb);}}const cM=[],dM=[],Js=new Q(),Cd=new Q();class Md{constructor(_0x1977c7){this['size']=Math['floor'](_0x1977c7['w']*(-0x858+-0x8f5*0x1+0x154d)),this['used']=!(-0x3*-0x1e8+0x885+-0x1*0xe3c),this['lightId']=-(0x9ff+0xda4+0x5*-0x4ba),this['rect']=_0x1977c7;}}class uM{constructor(_0x4aceb9){this['device']=_0x4aceb9,this['version']=-0x5c+-0x24e1+0x253e,this['shadowAtla'+'sResolutio'+'n']=-0xb*-0x1f+0x1ff3+-0x1948,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0xbd*0x32+0x35*0x8b+0x826,this['cookieAtla'+'sResolutio'+'n']=-0x25dd+-0xb*-0x1af+0x135c,this['cookieAtla'+'s']=new he(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':rs,'cubemap':!(0x10ad+-0x3*-0x25+-0x111b),'mipmaps':!(0x1aab+-0x242d+0x983),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae}),this['cookieRend'+'erTarget']=new pt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x905*-0x2+0x347*0x1+-0x6*-0x276),'flipY':!(0x1545+-0x149+-0x9fe*0x2)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x110+0x19f8+-0x2*0xc74,0xd4*-0x2+-0x1157+0x3*0x655),new W(-0x1921+-0x14*-0x104+-0x1*-0x4d1,-0xb*0x287+0x9c2+0x120c),new W(-0x246d+0x8*-0x38c+-0x1da*-0x23,0xbb+0x1cd4+-0x1d8f),new W(-0x12f+0x7*0x251+-0xf07,-0x1e*-0x59+-0x7f5+-0x2*0x13c),new W(-0x21fb*-0x1+-0x25b7+-0x2*-0x1df,-0x2*-0xf2e+0xe21+-0x2c7d*0x1),new W(-0xd*0x39+-0x1e1*-0x2+0x1*-0xdb,-0x2182*0x1+-0x2*0x7d3+0x9d5*0x5)],this['scissorVec']=new Q(),this['allocateSh'+'adowAtlas'](0x1d*0x142+0x35*-0x6f+-0xd7e),this['allocateCo'+'okieAtlas'](0xe3*-0x1f+0x149+0x1a35*0x1),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x2b7d20;(_0x2b7d20=this['shadowAtla'+'s'])==null||_0x2b7d20['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x1f2bfc,_0x5e3c0c;(_0x1f2bfc=this['cookieAtla'+'s'])==null||_0x1f2bfc['destroy'](),this['cookieAtla'+'s']=null,(_0x5e3c0c=this['cookieRend'+'erTarget'])==null||_0x5e3c0c['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x3418c5,_0x274c3b=Dt){var _0x430ca2;const _0x3a27ad=(_0x430ca2=this['shadowAtla'+'s'])==null?void(0x2540+0x176+-0x7be*0x5):_0x430ca2['texture']['format'],_0x785847=ir['get'](_0x274c3b)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x3418c5||_0x3a27ad!==_0x785847){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=un['createAtla'+'s'](this['device'],_0x3418c5,_0x274c3b),this['shadowAtla'+'s']['cached']=!(-0x1*0x801+0x1c93+-0x1492);const _0x57a84c=(-0xed+-0xfdb+0xa*0x1ae)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x57a84c,_0x57a84c,-(-0x1496+0x77*-0x36+0x1*0x2db2)*_0x57a84c,-(-0x9*-0x3c6+0x22fe+-0x2279*0x2)*_0x57a84c);}}['allocateCo'+'okieAtlas'](_0x5d230a){this['cookieAtla'+'s']['width']!==_0x5d230a&&(this['cookieRend'+'erTarget']['resize'](_0x5d230a,_0x5d230a),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1378+0xa*-0x193+0x2338),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x2f26e3=this['shadowAtla'+'s']['renderTarg'+'ets'][0x1bcc+0x1dcf+-0x399b]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x2f26e3),this['_shadowAtl'+'asParams'][0x9a3+0x1*0xae9+-0x148c]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x15d2+-0x17d5+-0x6*-0x56]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x4e49f4,_0x53d694){let _0x44adfc=_0x53d694['atlasSplit'];if(!_0x44adfc){const _0x502b04=Math['ceil'](Math['sqrt'](_0x4e49f4));_0x44adfc=dM,_0x44adfc[-0x59*-0x6b+0xdd5*0x2+-0x40dd]=_0x502b04,_0x44adfc['length']=-0xbe*0x13+-0x2*-0x187+0xb0d;}if(!((_0x201c54,_0x4775c9)=>_0x201c54['length']===_0x4775c9['length']&&_0x201c54['every']((_0x4183a2,_0x211d44)=>_0x4183a2===_0x4775c9[_0x211d44]))(_0x44adfc,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x2*0x58d+-0x6c3+-0x10d*-0x11,this['atlasSplit']['length']=0x3e+-0xc*0x2a3+0xfb3*0x2,this['atlasSplit']['push'](..._0x44adfc);const _0x37d31f=this['atlasSplit'][-0xaf6+-0xb9e+0x1694];if(_0x37d31f>-0xd96*-0x2+0x14a8+0x1*-0x2fd3){const _0xa6d6a0=(0x17cd+0x115*0x3+-0x1b0b)/_0x37d31f;for(let _0x3f8c17=-0xa5b*0x1+0xecb+-0x470;_0x3f8c17<_0x37d31f;_0x3f8c17++)for(let _0x2eb073=0x12d2+-0x173d+0x46b;_0x2eb073<_0x37d31f;_0x2eb073++){const _0x282a85=new Q(_0x3f8c17*_0xa6d6a0,_0x2eb073*_0xa6d6a0,_0xa6d6a0,_0xa6d6a0),_0x5d8192=this['atlasSplit'][-0x49*-0x1f+0xcf6+0x4*-0x573+_0x3f8c17*_0x37d31f+_0x2eb073];if(_0x5d8192>-0x13ff+0x12a9+0x1*0x157){for(let _0xaa3df3=0x18bb+0x27*-0x96+-0x1e1;_0xaa3df3<_0x5d8192;_0xaa3df3++)for(let _0x549bec=-0x1c46*-0x1+-0x1279+-0x9cd;_0x549bec<_0x5d8192;_0x549bec++){const _0x10d13b=_0xa6d6a0/_0x5d8192,_0x5860dc=new Q(_0x282a85['x']+_0xaa3df3*_0x10d13b,_0x282a85['y']+_0x549bec*_0x10d13b,_0x10d13b,_0x10d13b);this['slots']['push'](new Md(_0x5860dc));}}else this['slots']['push'](new Md(_0x282a85));}}else this['slots']['push'](new Md(new Q(-0x2a9+-0x1*-0x18eb+-0xe*0x197,-0x1*0x120b+0x24f8+-0x12ed,-0x1a38+-0x1*0x134a+-0xbf*-0x3d,0x1*-0xabf+-0x2074+0x2b34)));this['slots']['sort']((_0x547210,_0x1a5500)=>_0x1a5500['size']-_0x547210['size']);}}['collectLig'+'hts'](_0x255404,_0x4dc704){const _0x5e48d3=_0x4dc704['cookiesEna'+'bled'],_0x7a1bd0=_0x4dc704['shadowsEna'+'bled'];let _0x4fcac2=!(0x3b*0x3f+0x4c*0x5+-0x1000),_0x473315=!(0x1bca+-0x2*0x8eb+-0x9f3);const _0x2068e9=cM;return _0x2068e9['length']=-0x47*-0x5+0x1017+-0x117a,(_0x5e48d3||_0x7a1bd0)&&(_0x50f803=>{for(let _0x10cecd=0xb*0x1cb+-0x1*0x1843+0x48a;_0x10cecd<_0x50f803['length'];_0x10cecd++){const _0x38cf39=_0x50f803[_0x10cecd];if(_0x38cf39['visibleThi'+'sFrame']){const _0x5e7352=_0x7a1bd0&&_0x38cf39['castShadow'+'s'],_0x318a3d=_0x5e48d3&&!!_0x38cf39['cookie'];_0x4fcac2||(_0x4fcac2=_0x5e7352),_0x473315||(_0x473315=_0x318a3d),(_0x5e7352||_0x318a3d)&&_0x2068e9['push'](_0x38cf39);}}})(_0x255404),_0x2068e9['sort']((_0x2b79b2,_0x27381b)=>_0x27381b['maxScreenS'+'ize']-_0x2b79b2['maxScreenS'+'ize']),_0x4fcac2&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x4dc704['shadowType']),_0x473315&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x4fcac2||_0x473315)&&this['subdivide'](_0x2068e9['length'],_0x4dc704),_0x2068e9;}['setupSlot'](_0x2d72bd,_0x303b2e){_0x2d72bd['atlasViewp'+'ort']['copy'](_0x303b2e);const _0x51588d=_0x2d72bd['numShadowF'+'aces'];for(let _0x2d2204=0x1*0x464+0x1*-0x155b+-0x10f7*-0x1;_0x2d2204<_0x51588d;_0x2d2204++)if(_0x2d72bd['castShadow'+'s']||_0x2d72bd['_cookie']){if(Js['copy'](_0x303b2e),Cd['copy'](_0x303b2e),_0x2d72bd['_type']===Re&&Js['add'](this['scissorVec']),_0x2d72bd['_type']===Pe){const _0x3abd5e=Js['z']/(-0x1b4b+-0x2121+0x6b7*0x9),_0x3e515a=this['cubeSlotsO'+'ffsets'][_0x2d2204];Js['x']+=_0x3abd5e*_0x3e515a['x'],Js['y']+=_0x3abd5e*_0x3e515a['y'],Js['z']=_0x3abd5e,Js['w']=_0x3abd5e,Cd['copy'](Js);}if(_0x2d72bd['castShadow'+'s']){const _0x599460=_0x2d72bd['getRenderD'+'ata'](null,_0x2d2204);_0x599460['shadowView'+'port']['copy'](Js),_0x599460['shadowScis'+'sor']['copy'](Cd);}}}['assignSlot'](_0x4432df,_0x2251b8,_0x26ab79){_0x4432df['atlasViewp'+'ortAllocat'+'ed']=!(-0x1e4a+0x7b2+-0x2*-0xb4c);const _0x1b18d6=this['slots'][_0x2251b8];_0x1b18d6['lightId']=_0x4432df['id'],_0x1b18d6['used']=!(-0x4*-0x3e5+0x118d*0x1+-0x1*0x2121),_0x26ab79&&(_0x4432df['atlasSlotU'+'pdated']=!(0x4a5+-0x146*-0x1+-0x5eb),_0x4432df['atlasVersi'+'on']=this['version'],_0x4432df['atlasSlotI'+'ndex']=_0x2251b8);}['update'](_0x544deb,_0x3bbb3d){this['shadowAtla'+'sResolutio'+'n']=_0x3bbb3d['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x3bbb3d['cookieAtla'+'sResolutio'+'n'];const _0x4faf44=this['collectLig'+'hts'](_0x544deb,_0x3bbb3d);if(_0x4faf44['length']>0x26*0x8f+-0x244f+0xf15){const _0x33e4d9=this['slots'];for(let _0x10b4d4=0x1e82+0x100a+-0x52c*0x9;_0x10b4d4<_0x33e4d9['length'];_0x10b4d4++)_0x33e4d9[_0x10b4d4]['used']=!(0xd73+0x22e4+0x17*-0x21a);const _0x1045f5=Math['min'](_0x4faf44['length'],_0x33e4d9['length']);for(let _0x2712fd=-0x1774+0x1*-0x5f2+0x35*0x8e;_0x2712fd<_0x1045f5;_0x2712fd++){const _0x561eff=_0x4faf44[_0x2712fd];_0x561eff['castShadow'+'s']&&(_0x561eff['_shadowMap']=this['shadowAtla'+'s']);const _0x1bd71f=_0x33e4d9[_0x561eff['atlasSlotI'+'ndex']];if(_0x561eff['atlasVersi'+'on']===this['version']&&_0x561eff['id']===(_0x1bd71f==null?void(0x138e+0x792*0x5+-0x3968):_0x1bd71f['lightId'])){const _0x4b1940=_0x33e4d9[_0x561eff['atlasSlotI'+'ndex']];_0x4b1940['size']===_0x33e4d9[_0x2712fd]['size']&&!_0x4b1940['used']&&this['assignSlot'](_0x561eff,_0x561eff['atlasSlotI'+'ndex'],!(0x1c63+-0x8de*-0x1+-0x2540));}}let _0x143318=0x118a*-0x1+-0x463*-0x5+-0x465;for(let _0x1f7fbe=0x1b68+0x4b*-0x35+-0xbe1;_0x1f7fbe<_0x1045f5;_0x1f7fbe++){for(;_0x143318<_0x33e4d9['length']&&_0x33e4d9[_0x143318]['used'];)_0x143318++;const _0x3eb89b=_0x4faf44[_0x1f7fbe];_0x3eb89b['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x3eb89b,_0x143318,!(0x13ee+0x2*0x25d+-0x18a8));const _0x38b912=_0x33e4d9[_0x3eb89b['atlasSlotI'+'ndex']];this['setupSlot'](_0x3eb89b,_0x38b912['rect']);}}this['updateUnif'+'orms']();}}class fM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x11d9aa=>{_0x11d9aa['forEach'](_0x37502d=>{_0x37502d['destroy']();});}),this['cache']['clear']();}['getKey'](_0x90c351){const _0x318838=_0x90c351['_type']===Pe,_0x33bd74=_0x90c351['_shadowTyp'+'e'],_0x5f53c7=_0x90c351['_shadowRes'+'olution'];return _0x318838+'-'+_0x33bd74+'-'+_0x5f53c7;}['get'](_0x5b22c0,_0x239196){const _0x44395e=this['getKey'](_0x239196),_0x3c88c4=this['cache']['get'](_0x44395e);if(_0x3c88c4&&_0x3c88c4['length'])return _0x3c88c4['pop']();const _0x51ff5e=un['create'](_0x5b22c0,_0x239196);return _0x51ff5e['cached']=!(0x6*0x4d5+-0x2*0x10fe+0x27f*0x2),_0x51ff5e;}['add'](_0x115438,_0x4b2cbf){const _0x24a44d=this['getKey'](_0x115438),_0x56a4ab=this['cache']['get'](_0x24a44d);_0x56a4ab?_0x56a4ab['push'](_0x4b2cbf):this['cache']['set'](_0x24a44d,[_0x4b2cbf]);}}class pM extends ds{constructor(_0x20539a,_0x590d05,_0xac985e,_0x4af400,_0x149fa2){super(_0x20539a),mn['setName'](this,this['name']+'-'+_0xac985e['_node']['name']),this['requiresCu'+'bemaps']=!(0x72d*-0x5+-0x2*0x10e7+0x45b0),this['shadowRend'+'erer']=_0x590d05,this['light']=_0xac985e,this['face']=_0x4af400,this['applyVsm']=_0x149fa2,this['shadowCame'+'ra']=_0x590d05['prepareFac'+'e'](_0xac985e,null,_0x4af400),_0x590d05['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x3d6+-0x1f9a+0x2370));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x5*0x4ce+-0x2395+0xb90));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class mM{constructor(_0x48501d,_0xe83820){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x48501d,this['shadowRend'+'erer']=_0xe83820,this['device']=_0x48501d['device']);}['cull'](_0x2424f9,_0x127df6,_0x252bc6=null){const _0x5ca529=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x2424f9['visibleThi'+'sFrame']=!(-0xc*0x2f1+0x34e+0x1ffe),_0x5ca529||_0x2424f9['_shadowMap']||(_0x2424f9['_shadowMap']=un['create'](this['device'],_0x2424f9));const _0x4b4307=_0x2424f9['_type'],_0x2ebb68=_0x4b4307===Re?0x581+0x3*0x909+-0x209b:-0x3b9*-0x1+0x1ab7+-0x1e6a;for(let _0xb72644=0x21d*-0x7+-0x2*-0x24a+0xa37;_0xb72644<_0x2ebb68;_0xb72644++){const _0x5a7991=_0x2424f9['getRenderD'+'ata'](null,_0xb72644),_0x6d42c=_0x5a7991['shadowCame'+'ra'];_0x6d42c['nearClip']=_0x2424f9['attenuatio'+'nEnd']/(0x14ef*0x1+0x3*0x503+0x6*-0x558),_0x6d42c['farClip']=_0x2424f9['attenuatio'+'nEnd'];const _0x50cf64=_0x6d42c['_node'],_0x402a19=_0x2424f9['_node'];if(_0x50cf64['setPositio'+'n'](_0x402a19['getPositio'+'n']()),_0x4b4307===Re)_0x6d42c['fov']=_0x2424f9['_outerCone'+'Angle']*(0x16*-0x5+0x5*-0x324+-0x409*-0x4),_0x50cf64['setRotatio'+'n'](_0x402a19['getRotatio'+'n']()),_0x50cf64['rotateLoca'+'l'](-(0xa32+0x33*-0x83+-0x1*-0x1041),-0x1159+-0xc6+0x121f,-0x1d03+0x1d38+-0x1*0x35);else{if(_0x4b4307===Pe){if(_0x5ca529){const _0x72ec77=(-0x11d0+0x16d5+-0x503*0x1)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x2424f9['atlasViewp'+'ort']['z']/(0x2c9*0xb+0x7e9+-0x2689))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x6d42c['fov']=Math['atan'](-0x26ec*0x1+-0x1*0x22aa+-0x4997*-0x1+_0x72ec77)*N['RAD_TO_DEG']*(0x19b3+0x193f*-0x1+0x2*-0x39);}else _0x6d42c['fov']=0x5*0x671+-0x737+0x14c*-0x13;}}this['renderer']['updateCame'+'raFrustum'](_0x6d42c),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x127df6,_0x2424f9,_0x5a7991['visibleCas'+'ters'],_0x6d42c,_0x252bc6);}}['prepareLig'+'hts'](_0x5074ec,_0x3bcc64){let _0x4d81ab;for(let _0x4516ce=0x12ac+-0x5*0x391+0x5*-0x2b;_0x4516ce<_0x3bcc64['length'];_0x4516ce++){const _0x1f0892=_0x3bcc64[_0x4516ce];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1f0892)&&_0x1f0892['atlasViewp'+'ortAllocat'+'ed']){_0x5074ec['push'](_0x1f0892);for(let _0x3c8dbc=0xc9+0x4db*-0x4+0x12a3;_0x3c8dbc<_0x1f0892['numShadowF'+'aces'];_0x3c8dbc++)_0x4d81ab=this['shadowRend'+'erer']['prepareFac'+'e'](_0x1f0892,null,_0x3c8dbc);}}return _0x4d81ab;}['buildNonCl'+'usteredRen'+'derPasses'](_0x53a723,_0xbd5c78){for(let _0x505a9b=0xdf*-0x3+-0xe03+0x10a0;_0x505a9b<_0xbd5c78['length'];_0x505a9b++){const _0x2c50a7=_0xbd5c78[_0x505a9b];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2c50a7)){const _0x521f81=_0x2c50a7['_type']===Re,_0x3fff03=_0x2c50a7['numShadowF'+'aces'];for(let _0x4b5d8a=0x695+0x22ae*0x1+-0x2943;_0x4b5d8a<_0x3fff03;_0x4b5d8a++){const _0x156b48=new pM(this['device'],this['shadowRend'+'erer'],_0x2c50a7,_0x4b5d8a,_0x521f81);_0x53a723['addRenderP'+'ass'](_0x156b48);}}}}}class _M extends ds{constructor(_0x1d316e,_0x36bc8a,_0x2ce456,_0x5707ac,_0x4368da){super(_0x1d316e),mn['setName'](this,this['name']+'-'+_0x2ce456['_node']['name']),this['shadowRend'+'erer']=_0x36bc8a,this['light']=_0x2ce456,this['camera']=_0x5707ac,this['allCascade'+'sRendering']=_0x4368da;}['execute'](){const {light:_0x12fca3,camera:_0x43c775,shadowRenderer:_0x2a910a,allCascadesRendering:_0x4f96cf}=this,_0x4317cc=_0x12fca3['numShadowF'+'aces'],_0x45e08a=_0x12fca3['shadowUpda'+'teOverride'+'s'];for(let _0x34cc5e=-0x72a+0x1903+0x1*-0x11d9;_0x34cc5e<_0x4317cc;_0x34cc5e++)(_0x45e08a==null?void(-0x1e3+0xd79+-0xb96):_0x45e08a[_0x34cc5e])!==Ps&&_0x2a910a['renderFace'](_0x12fca3,_0x43c775,_0x34cc5e,!_0x4f96cf),(_0x45e08a==null?void(-0x2679+-0xf2c+-0x1*-0x35a5):_0x45e08a[_0x34cc5e])===cn&&(_0x45e08a[_0x34cc5e]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Ll=new _e(),ei=new T(),d_=new q(),Fe=[new T(),new T(),new T(),new T(),new T(),new T(),new T(),new T()],Pd={'min':0x0,'max':0x0};function gM(_0x4c514b,_0x5e792e,_0x211d4b){Fe[0x319+0x1*-0x1724+0x140b]['x']=Fe[0x1d2e+0x1de+-0x1f0b]['x']=Fe[0x3*0x5ac+-0x4a3*0x1+-0xc5f]['x']=Fe[-0x3b1*-0x7+0x2*0x7bb+-0x12e*0x23]['x']=_0x5e792e['x'],Fe[-0x10d*-0x1a+0x113a+0x9*-0x4f3]['y']=Fe[0x25cb+-0x1887+-0xd41]['y']=Fe[-0x16f*-0x17+0x1c7a+-0x3d6c]['y']=Fe[-0x1*-0xb27+-0x47*-0x47+-0x25f*0xd]['y']=_0x5e792e['y'],Fe[-0x11*0x103+-0x1898+0x29cd]['z']=Fe[-0x6bb*-0x1+0xb15*-0x1+0x45d]['z']=Fe[-0x16c*0xd+0x12ca+-0x18*0x3]['z']=Fe[-0x1d35+-0x13f2+-0x4eb*-0xa]['z']=_0x5e792e['z'],Fe[0xda1+-0x80*0x8+-0x99d]['x']=Fe[-0x125a+0x29*-0x43+0x19*0x12a]['x']=Fe[0x1be0+-0x1ca5+0x1d*0x7]['x']=Fe[-0x91c+0x7*-0x525+0x1693*0x2]['x']=_0x211d4b['x'],Fe[0x5cb*-0x1+-0x202d+-0x24*-0x10e]['y']=Fe[-0x1*-0xb5c+0xf25+-0x15*0x143]['y']=Fe[0x1*-0x113e+0x2*-0x1e1+0x1504]['y']=Fe[-0x11b*0x11+0xf3*0x1+-0x1*-0x11de]['y']=_0x211d4b['y'],Fe[-0x3*0xa65+-0x13f*0x13+-0x2*-0x1b6e]['z']=Fe[0x1a07+0x13dc+0x347*-0xe]['z']=Fe[0x26dd+-0xed*0xc+-0x3*0x93f]['z']=Fe[0x7e3*-0x3+0x3*-0x5d5+0x292d]['z']=_0x211d4b['z'];let _0x2f20e6=-0x3a736efda+0x10ac01de*-0x3+0x62d46d973,_0xd0618b=-(0x62fac1d5+-0x2c642d339+0x4b753f563*0x1);for(let _0x445352=-0x1*0x103f+-0x1*0xee7+0x2*0xf93;_0x445352<-0xfc6*0x1+0x1*-0xa+0x4*0x3f6;++_0x445352){_0x4c514b['transformP'+'oint'](Fe[_0x445352],Fe[_0x445352]);const _0x148988=Fe[_0x445352]['z'];_0x148988<_0x2f20e6&&(_0x2f20e6=_0x148988),_0x148988>_0xd0618b&&(_0xd0618b=_0x148988);}return Pd['min']=_0x2f20e6,Pd['max']=_0xd0618b,Pd;}class yM{constructor(_0x185902,_0x41417c){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x185902,this['shadowRend'+'erer']=_0x41417c,this['device']=_0x185902['device']);}['cull'](_0x38a88e,_0x3906d9,_0x4d2714,_0x57dfd8=null){_0x38a88e['visibleThi'+'sFrame']=!(-0x364+0x2*0x11b+0x12e),_0x38a88e['_shadowMap']||(_0x38a88e['_shadowMap']=un['create'](this['device'],_0x38a88e));const _0x331769=_0x4d2714['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x38a88e,_0x331769,Math['min'](_0x4d2714['_farClip'],_0x38a88e['shadowDist'+'ance']));const _0x363faf=_0x38a88e['shadowUpda'+'teOverride'+'s'];for(let _0x156a30=-0x1*-0x1849+0x2483+-0x3ccc;_0x156a30<_0x38a88e['numCascade'+'s']&&(_0x363faf==null?void(-0x1747+0xef*-0x6+0x1*0x1ce1):_0x363faf[_0x156a30])!==Ps;_0x156a30++){const _0x3e4380=_0x38a88e['getRenderD'+'ata'](_0x4d2714,_0x156a30),_0xd90489=_0x3e4380['shadowCame'+'ra'];_0xd90489['renderTarg'+'et']=_0x38a88e['_shadowMap']['renderTarg'+'ets'][-0x1cda+0x305*0x5+0xdc1],_0x3e4380['shadowView'+'port']['copy'](_0x38a88e['cascades'][_0x156a30]),_0x3e4380['shadowScis'+'sor']['copy'](_0x38a88e['cascades'][_0x156a30]);const _0x2fa1e5=_0xd90489['_node'],_0x5bded3=_0x38a88e['_node'];_0x2fa1e5['setPositio'+'n'](_0x5bded3['getPositio'+'n']()),_0x2fa1e5['setRotatio'+'n'](_0x5bded3['getRotatio'+'n']()),_0x2fa1e5['rotateLoca'+'l'](-(-0x9ce+0x1*-0xe09+0x1831),0x1a7f+0x496*-0x7+0x59b,-0x234*-0x6+-0xbaa+0xc7*-0x2);const _0x16f519=_0x156a30===0x63*0x3f+-0x2ce*0x8+-0x1ed?_0x331769:_0x38a88e['_shadowCas'+'cadeDistan'+'ces'][_0x156a30-(0xe60+0x1523+0x12f*-0x1e)],_0x2becde=_0x38a88e['_shadowCas'+'cadeDistan'+'ces'][_0x156a30],_0x471fad=_0x4d2714['getFrustum'+'Corners'](_0x16f519,_0x2becde);ei['set'](-0x6a1+-0x1134*0x2+0xb*0x3bb,-0xce8+0x1eee+0x301*-0x6,-0x41*-0xa+-0xdfa*-0x1+-0x1084);const _0x3ebcd8=_0x4d2714['node']['getWorldTr'+'ansform']();for(let _0x4edb4d=-0x26*-0xbf+-0x6b6+-0x115*0x14;_0x4edb4d<0x251b+-0x1c7c+0x897*-0x1;_0x4edb4d++)_0x3ebcd8['transformP'+'oint'](_0x471fad[_0x4edb4d],_0x471fad[_0x4edb4d]),ei['add'](_0x471fad[_0x4edb4d]);ei['mulScalar']((0xf16*-0x1+-0xa81+0xd*0x1f8)/(-0x2*0x4f+0xe48+-0xda2));let _0x3c7d3b=0x89*0x2c+0x107*-0xe+-0x17*0x66;for(let _0x36d4a7=-0x2b8+0x1aa0+-0xaa*0x24;_0x36d4a7<0xa*-0x145+0x146f+-0x7b5*0x1;_0x36d4a7++){const _0x117518=_0x471fad[_0x36d4a7]['sub'](ei)['length']();_0x117518>_0x3c7d3b&&(_0x3c7d3b=_0x117518);}const _0xa0e25a=_0x2fa1e5['right'],_0x494b31=_0x2fa1e5['up'],_0x25dbe1=_0x2fa1e5['forward'],_0x2b1d47=(0x1c5c+0x1a31+-0x13*0x2df+0.25)*_0x38a88e['_shadowRes'+'olution']/_0x3c7d3b,_0x182201=Math['ceil'](ei['dot'](_0x494b31)*_0x2b1d47)/_0x2b1d47,_0xf34099=Math['ceil'](ei['dot'](_0xa0e25a)*_0x2b1d47)/_0x2b1d47,_0x3addba=_0x494b31['mulScalar'](_0x182201),_0x290fdc=_0xa0e25a['mulScalar'](_0xf34099),_0x14dd0e=ei['dot'](_0x25dbe1),_0x2ef0ea=_0x25dbe1['mulScalar'](_0x14dd0e);ei['add2'](_0x3addba,_0x290fdc)['add'](_0x2ef0ea),_0x2fa1e5['setPositio'+'n'](ei),_0x2fa1e5['translateL'+'ocal'](-0xf3a+0xf*-0x222+0x2f38,-0x8c7*-0x2+-0x13*0x199+0xccd,-0x9a937+-0x127e8b*0x1+0x2b6a02),_0xd90489['nearClip']=0x90a+-0x405+-0x505+0.01,_0xd90489['farClip']=0x57c8*-0x8a+0xa4c0e+0x438a42,_0xd90489['orthoHeigh'+'t']=_0x3c7d3b,this['renderer']['updateCame'+'raFrustum'](_0xd90489),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x3906d9,_0x38a88e,_0x3e4380['visibleCas'+'ters'],_0xd90489,_0x57dfd8);let _0xe82e62=!(0x14b6+0x167b+-0x2b31*0x1);const _0x3ef996=_0x3e4380['visibleCas'+'ters'];for(let _0x52ca93=0x82b*0x1+-0x1583+0xd58;_0x52ca93<_0x3ef996['length'];_0x52ca93++){const _0x13302b=_0x3ef996[_0x52ca93];_0xe82e62?(_0xe82e62=!(-0x3*-0x502+-0x1*-0x1d48+-0x2c4d),Ll['copy'](_0x13302b['aabb'])):Ll['add'](_0x13302b['aabb']);}d_['copy'](_0x2fa1e5['getWorldTr'+'ansform']())['invert']();const _0x2c4984=gM(d_,Ll['getMin'](),Ll['getMax']());_0x2fa1e5['translateL'+'ocal'](0x1ca*-0x4+-0x1843+-0x1*-0x1f6b,0x1b72+0x844+0x2*-0x11db,_0x2c4984['max']+(0x1e3+-0x8*-0x4d9+-0x28ab+0.1)),_0xd90489['farClip']=_0x2c4984['max']-_0x2c4984['min']+(0x1*0x1662+-0x26e*0xf+0xe10+0.2),_0x3e4380['projection'+'Compensati'+'on']=_0x3c7d3b;}}['generateSp'+'litDistanc'+'es'](_0x4174bc,_0x5e9c94,_0x184668){_0x4174bc['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x184668);for(let _0x1eebe=0x1208+0x71e+-0x1925;_0x1eebe<_0x4174bc['numCascade'+'s'];_0x1eebe++){const _0x3109f6=_0x1eebe/_0x4174bc['numCascade'+'s'],_0x14cda1=_0x5e9c94+(_0x184668-_0x5e9c94)*_0x3109f6,_0x6edd11=_0x5e9c94*(_0x184668/_0x5e9c94)**_0x3109f6,_0x7571f3=N['lerp'](_0x14cda1,_0x6edd11,_0x4174bc['cascadeDis'+'tribution']);_0x4174bc['_shadowCas'+'cadeDistan'+'ces'][_0x1eebe-(0x1*0xec1+-0xf02+0x42)]=_0x7571f3;}}['getLightRe'+'nderPass'](_0x607415,_0x18bf83){v['assert'](_0x607415&&_0x607415['_type']===oe);let _0x2d6b10=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x607415)){const _0x551691=_0x607415['numShadowF'+'aces'],_0x1352cc=_0x607415['shadowUpda'+'teOverride'+'s'];let _0x1cdfe8=!(0x5*0x53+-0xb8*0x32+0x6dd*0x5),_0x3093d4;for(let _0x260ace=0xd*0x1a0+-0x16f3+0x1d3;_0x260ace<_0x551691;_0x260ace++)(_0x1352cc==null?void(0x1*-0xdac+0x21d*-0xa+0x22ce):_0x1352cc[_0x260ace])===Ps&&(_0x1cdfe8=!(0x108d+0xbe2+-0x1c6e)),_0x3093d4=this['shadowRend'+'erer']['prepareFac'+'e'](_0x607415,_0x18bf83,_0x260ace);_0x2d6b10=new _M(this['device'],this['shadowRend'+'erer'],_0x607415,_0x18bf83,_0x1cdfe8),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x2d6b10,_0x3093d4,_0x1cdfe8);}return _0x2d6b10;}}const Rd=new Set(),u_=new q(),f_=new q(),vr=new Float32Array(-0x1410+0x4a8+0xf6a*0x1),Xa=new Q(0x765*0x2+-0x1f99+-0x2*-0x868,-0x57b+-0xfc+0x678,-0xe*0x104+0x930+0x4*0x142,0x221a+-0x2*-0xe5b+-0x3ed0),p_=new q();function xM(_0x582f51,_0xf10ddf){return Math['exp'](-(_0x582f51*_0x582f51)/((0x20d3+-0xbaf+-0x1522)*_0xf10ddf*_0xf10ddf));}function SM(_0xd2812e){const _0x2c343c=(_0xd2812e-(0x1*-0xc1+-0x367*0x1+0x5*0xd5))/(0xfe3+-0x24b+-0x3*0x486),_0x18bc77=(_0xd2812e-(0x1c84+0x241+-0x1ec4))*(0x1edf+0x2342+-0x4221+0.5),_0x442751=new Array(_0xd2812e);let _0x2ee94a=-0x109+-0x11ff*-0x1+0x1*-0x10f6;for(let _0xe9e4c3=0x14e+-0x213f+0x1ff1;_0xe9e4c3<_0xd2812e;++_0xe9e4c3)_0x442751[_0xe9e4c3]=xM(_0xe9e4c3-_0x18bc77,_0x2c343c),_0x2ee94a+=_0x442751[_0xe9e4c3];for(let _0x1ce639=0x1385*0x1+0x1*0x23d5+-0x375a;_0x1ce639<_0xd2812e;++_0x1ce639)_0x442751[_0x1ce639]/=_0x2ee94a;return _0x442751;}class I0{constructor(_0x1f60e2,_0x5807af){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x1f60e2['device'],this['renderer']=_0x1f60e2,this['lightTextu'+'reAtlas']=_0x5807af);const _0x540302=this['device']['scope'];this['sourceId']=_0x540302['resolve']('source'),this['pixelOffse'+'tId']=_0x540302['resolve']('pixelOffse'+'t'),this['weightId']=_0x540302['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[X['blurVSMPS'],'#define\x20GA'+'USS\x0a'+X['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x540302['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new _t(),this['blendState'+'NoWrite']=new _t(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x801+-0x60+-0x7a0),!(0x261*-0x5+0x1*0x877+0x36f),!(0x3bf+-0x248a+0x20cc),!(0x2c0+-0x8*0x48f+0x21b9));}static['createShad'+'owCamera'](_0x648b3,_0x5b3893,_0x9f8c48){const _0xd859e0=Ma['create']('ShadowCame'+'ra',_0x5b3893,_0x9f8c48),_0x15cf83=ir['get'](_0x648b3);v['assert'](_0x15cf83);const _0x908841=(_0x15cf83==null?void(0x47*-0x2d+0x6c9+0xa2*0x9):_0x15cf83['vsm'])??!(0x2f9*0x5+0x975+-0x1851),_0x1ee0f0=(_0x15cf83==null?void(0x1aab+-0xb4b+-0xf60):_0x15cf83['pcf'])??!(-0x1*-0xf1+0x2008+-0x20f8);return _0x908841?_0xd859e0['clearColor']=new Y(0x1*0x14c+-0x1*0x476+-0xf*-0x36,0x1f98+-0x100*0x1b+-0x18*0x31,0x2598+-0x3f8+-0x2*0x10d0,0x12fc+-0x3*-0xae0+0x6*-0x89a):_0xd859e0['clearColor']=new Y(0x2e3*0x7+0x14fd+-0xf*0x2bf,-0x4c7*-0x3+0x15dd+-0x2431,-0x10a5+-0x354*0x3+0x1aa2,0x2425*0x1+0xbeb+0x1*-0x300f),_0xd859e0['clearDepth'+'Buffer']=!(-0x4*-0x3fb+-0x1*0x8ef+-0x6fd),_0xd859e0['clearStenc'+'ilBuffer']=!(-0x2b2+0x25f2+-0x233f),_0xd859e0['clearColor'+'Buffer']=!_0x1ee0f0,_0xd859e0;}['_cullShado'+'wCastersIn'+'ternal'](_0x57141c,_0x5547bb,_0x544143){const _0x1bc2e1=_0x57141c['length'];for(let _0x3f441b=-0x26aa+-0x24d7+-0x33*-0x17b;_0x3f441b<_0x1bc2e1;_0x3f441b++){const _0x5c56cf=_0x57141c[_0x3f441b];_0x5c56cf['castShadow']&&(!_0x5c56cf['cull']||_0x5c56cf['_isVisible'](_0x544143))&&(_0x5c56cf['visibleThi'+'sFrame']=!(-0x2603+0xaec*-0x1+0x1*0x30ef),_0x5547bb['push'](_0x5c56cf));}}['cullShadow'+'Casters'](_0x9a2df1,_0x5f2c45,_0x10d833,_0x312a62,_0x2b218d){if(_0x10d833['length']=-0x2c*0x85+-0x50*-0x35+0x64c,_0x2b218d)this['_cullShado'+'wCastersIn'+'ternal'](_0x2b218d,_0x10d833,_0x312a62);else{const _0x2b18fa=_0x9a2df1['layerList'],_0x63ed19=_0x2b18fa['length'];for(let _0x26ef4d=0x4b*0x45+0x22c5+0x92a*-0x6;_0x26ef4d<_0x63ed19;_0x26ef4d++){const _0x3697c6=_0x2b18fa[_0x26ef4d];_0x3697c6['_lightsSet']['has'](_0x5f2c45)&&(Rd['has'](_0x3697c6)||(Rd['add'](_0x3697c6),this['_cullShado'+'wCastersIn'+'ternal'](_0x3697c6['shadowCast'+'ers'],_0x10d833,_0x312a62)));}Rd['clear']();}_0x10d833['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x17903a,_0x4aa972){const _0x48fd5a=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x4aa972['_isPcf']:_0x4aa972['_isPcf']&&_0x4aa972['_type']!==Pe;_0x17903a['setBlendSt'+'ate'](_0x48fd5a?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x17903a['setDepthSt'+'ate'](_0x4aa972['shadowDept'+'hState']),_0x17903a['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x15f346,_0x2499cc,_0x249289,_0x5b5772){const _0x5a7087=_0x2499cc['_node'];_0x15f346['_type']!==oe&&(this['renderer']['dispatchVi'+'ewPos'](_0x5a7087['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x15f346['attenuatio'+'nEnd'])),u_['setTRS'](_0x5a7087['getPositio'+'n'](),_0x5a7087['getRotatio'+'n'](),T['ONE'])['invert'](),f_['mul2'](_0x2499cc['projection'+'Matrix'],u_);const _0x584805=_0x249289['shadowView'+'port'];_0x2499cc['rect']=_0x584805,_0x2499cc['scissorRec'+'t']=_0x249289['shadowScis'+'sor'],p_['setViewpor'+'t'](_0x584805['x'],_0x584805['y'],_0x584805['z'],_0x584805['w']),_0x249289['shadowMatr'+'ix']['mul2'](p_,f_),_0x15f346['_type']===oe&&_0x15f346['_shadowMat'+'rixPalette']['set'](_0x249289['shadowMatr'+'ix']['data'],_0x5b5772*(-0x2*0xbf+-0x14c+0x2da));}['getShadowP'+'ass'](_0x2d9b4b){var _0x4b7c1e;const _0x557d4f=_0x2d9b4b['_type'],_0x2ed3c1=_0x2d9b4b['_shadowTyp'+'e'];let _0x308234=(_0x4b7c1e=this['shadowPass'+'Cache'][_0x557d4f])==null?void(0x1415+-0x2*-0xe45+-0x309f):_0x4b7c1e[_0x2ed3c1];if(!_0x308234){const _0x2387d4='ShadowPass'+'_'+_0x557d4f+'_'+_0x2ed3c1;_0x308234=Ks['get'](this['device'])['allocate'](_0x2387d4,{'isShadow':!(0x1*0x2142+0x14e*0x5+-0x27c8),'lightType':_0x557d4f,'shadowType':_0x2ed3c1}),this['shadowPass'+'Cache'][_0x557d4f]||(this['shadowPass'+'Cache'][_0x557d4f]=[]),this['shadowPass'+'Cache'][_0x557d4f][_0x2ed3c1]=_0x308234;}return _0x308234['index'];}['submitCast'+'ers'](_0x31203c,_0x55263a,_0x279cbd){const _0x15e5a8=this['device'],_0x1712ab=this['renderer'],_0x8d5bab=_0x1712ab['scene'],_0x4926db=0x1*-0x1e57+0xe09+0x343*0x5<<Rp,_0x240e69=this['getShadowP'+'ass'](_0x55263a),_0x7fcc25=_0x279cbd['shaderPara'+'ms'],_0x56ee74=_0x279cbd['renderTarg'+'et']['flipY']?-(-0x11*-0x1c2+-0x143a+-0x161*0x7):0x1*0x4c5+0x1*0x2395+-0x139*0x21,_0x5acbf6=_0x31203c['length'];for(let _0x114000=-0x2210+-0x11e7*-0x1+0x15*0xc5;_0x114000<_0x5acbf6;_0x114000++){const _0x350403=_0x31203c[_0x114000],_0x1d06b9=_0x350403['mesh'];_0x350403['ensureMate'+'rial'](_0x15e5a8);const _0x4ae5b7=_0x350403['material'];G['pushGpuMar'+'ker'](_0x15e5a8,'Node:\x20'+_0x350403['node']['name']+(',\x20Material'+':\x20')+_0x4ae5b7['name']),_0x1712ab['setBaseCon'+'stants'](_0x15e5a8,_0x4ae5b7),_0x1712ab['setSkinnin'+'g'](_0x15e5a8,_0x350403),_0x4ae5b7['dirty']&&(_0x4ae5b7['updateUnif'+'orms'](_0x15e5a8,_0x8d5bab),_0x4ae5b7['dirty']=!(-0x3d6*0x1+0x1*-0x1655+0x1a2c)),_0x1712ab['setupCullM'+'ode'](!(0x14c9+-0x15*0x121+0x4*0xbb),_0x56ee74,_0x350403),_0x4ae5b7['setParamet'+'ers'](_0x15e5a8),_0x350403['setParamet'+'ers'](_0x15e5a8,_0x4926db);const _0x2bc741=_0x350403['getShaderI'+'nstance'](_0x240e69,0x84f*0x1+0x1*-0x1219+0x9ca,_0x8d5bab,_0x7fcc25,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x1666a7=_0x2bc741['shader'];v['assert'](_0x1666a7,'no\x20shader\x20'+'for\x20pass\x20'+_0x240e69,_0x4ae5b7),_0x350403['_key'][ku]=_0x1666a7['id'],_0x15e5a8['setShader'](_0x1666a7),_0x1712ab['setVertexB'+'uffers'](_0x15e5a8,_0x1d06b9),_0x1712ab['setMorphin'+'g'](_0x15e5a8,_0x350403['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x2bc741,_0x350403);const _0x3d8d63=_0x350403['renderStyl'+'e'];_0x15e5a8['setIndexBu'+'ffer'](_0x1d06b9['indexBuffe'+'r'][_0x3d8d63]),_0x1712ab['drawInstan'+'ce'](_0x15e5a8,_0x350403,_0x1d06b9,_0x3d8d63),_0x1712ab['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x15e5a8);}}['needsShado'+'wRendering'](_0x4521bd){const _0x3403ec=_0x4521bd['enabled']&&_0x4521bd['castShadow'+'s']&&_0x4521bd['shadowUpda'+'teMode']!==Ps&&_0x4521bd['visibleThi'+'sFrame'];return _0x4521bd['shadowUpda'+'teMode']===cn&&(_0x4521bd['shadowUpda'+'teMode']=Ps),_0x3403ec&&(this['renderer']['_shadowMap'+'Updates']+=_0x4521bd['numShadowF'+'aces']),_0x3403ec;}['getLightRe'+'nderData'](_0xda4b6e,_0x245a5f,_0x3dee18){return _0xda4b6e['getRenderD'+'ata'](_0xda4b6e['_type']===oe?_0x245a5f:null,_0x3dee18);}['setupRende'+'rPass'](_0x47dfe0,_0x3a86d1,_0x39622a){const _0x597c99=_0x3a86d1['renderTarg'+'et'];_0x47dfe0['init'](_0x597c99),_0x47dfe0['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x1925*0x1+0x225+0x3*0x7ab,_0x47dfe0['depthStenc'+'ilOps']['clearDepth']=_0x39622a,_0x597c99['depthBuffe'+'r']?_0x47dfe0['depthStenc'+'ilOps']['storeDepth']=!(-0x11ed+0x1*-0x196a+0x2b57):(_0x47dfe0['colorOps']['clearValue']['copy'](_0x3a86d1['clearColor']),_0x47dfe0['colorOps']['clear']=_0x39622a,_0x47dfe0['depthStenc'+'ilOps']['storeDepth']=!(0x4e*0x59+0xb71+0x7*-0x582)),_0x47dfe0['requiresCu'+'bemaps']=!(0x1*-0x229+0x24d6+0x22ac*-0x1);}['prepareFac'+'e'](_0xb67c2f,_0x5ed254,_0x3172b2){const _0x280e4b=_0xb67c2f['_type'],_0x4a21c8=this['getLightRe'+'nderData'](_0xb67c2f,_0x5ed254,_0x3172b2)['shadowCame'+'ra'],_0x2736c9=_0x280e4b===oe?0x16ce+-0xb2b+0x1*-0xba3:_0x3172b2;return _0x4a21c8['renderTarg'+'et']=_0xb67c2f['_shadowMap']['renderTarg'+'ets'][_0x2736c9],_0x4a21c8;}['renderFace'](_0x3981e3,_0xbb0e05,_0x3dbd10,_0x406c1a,_0x4420e0=!(0x964*-0x1+-0xc3a+0x159e)){const _0x4560f5=this['device'],_0x4fb8b9=ne();G['pushGpuMar'+'ker'](_0x4560f5,'SHADOW\x20'+_0x3981e3['_node']['name']+'\x20FACE\x20'+_0x3dbd10);const _0x29598c=this['getLightRe'+'nderData'](_0x3981e3,_0xbb0e05,_0x3dbd10),_0x45a42e=_0x29598c['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x3981e3,_0x45a42e,_0x29598c,_0x3dbd10);const _0x342f34=_0x45a42e['renderTarg'+'et'],_0x4aed13=this['renderer'];_0x4aed13['setCameraU'+'niforms'](_0x45a42e,_0x342f34),_0x4560f5['supportsUn'+'iformBuffe'+'rs']&&_0x4aed13['setupViewU'+'niformBuff'+'ers'](_0x29598c['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0x221a+0x456*-0x2+-0x196d),_0x4420e0?(_0x4aed13['setupViewp'+'ort'](_0x45a42e,_0x342f34),_0x406c1a&&_0x4aed13['clear'](_0x45a42e)):_0x4aed13['clearView'](_0x45a42e,_0x342f34,!(-0x281+-0x1f2+0x473),!(0x1899+-0x2da*0xa+0x3ec)),this['setupRende'+'rState'](_0x4560f5,_0x3981e3),this['submitCast'+'ers'](_0x29598c['visibleCas'+'ters'],_0x3981e3,_0x45a42e),G['popGpuMark'+'er'](_0x4560f5),_0x4aed13['_shadowMap'+'Time']+=ne()-_0x4fb8b9;}['render'](_0xb406ad,_0x122f78,_0x5a5f6e=!(-0xe9b+0x20a9+0x907*-0x2)){if(this['needsShado'+'wRendering'](_0xb406ad)){const _0x1b8463=_0xb406ad['numShadowF'+'aces'];for(let _0x36ef2a=-0x138d+-0x156d+0x1*0x28fa;_0x36ef2a<_0x1b8463;_0x36ef2a++)this['prepareFac'+'e'](_0xb406ad,_0x122f78,_0x36ef2a),this['renderFace'](_0xb406ad,_0x122f78,_0x36ef2a,!(0x1106+-0x16*0x1c2+0x15a6),_0x5a5f6e);this['renderVsm'](_0xb406ad,_0x122f78);}}['renderVsm'](_0x168288,_0x534236){_0x168288['_isVsm']&&_0x168288['_vsmBlurSi'+'ze']>-0x7db+-0x23f*0x8+0x19d4&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x168288['_type']===oe)&&this['applyVsmBl'+'ur'](_0x168288,_0x534236);}['getVsmBlur'+'Shader'](_0x2700b0,_0xd1e305){const _0x4f3b99=this['blurVsmSha'+'der'];let _0x3e9c8b=_0x4f3b99[_0x2700b0][_0xd1e305];if(!_0x3e9c8b){this['blurVsmWei'+'ghts'][_0xd1e305]=SM(_0xd1e305);const _0x450b1f=X['fullscreen'+'QuadVS'];let _0x3afa12='#define\x20SA'+'MPLES\x20'+_0xd1e305+'\x0a';_0x3afa12+=this['blurVsmSha'+'derCode'][_0x2700b0];const _0x2037a1='blurVsm'+_0x2700b0+_0xd1e305;_0x3e9c8b=Is(this['device'],_0x450b1f,_0x3afa12,_0x2037a1),_0x4f3b99[_0x2700b0][_0xd1e305]=_0x3e9c8b;}return _0x3e9c8b;}['applyVsmBl'+'ur'](_0x4725d8,_0x4118a4){const _0x41a2f3=this['device'];G['pushGpuMar'+'ker'](_0x41a2f3,'VSM\x20'+_0x4725d8['_node']['name']),_0x41a2f3['setBlendSt'+'ate'](_t['NOBLEND']);const _0x27f16f=_0x4725d8['getRenderD'+'ata'](_0x4725d8['_type']===oe?_0x4118a4:null,-0xb64*-0x2+0x1*0x255a+-0x3c22)['shadowCame'+'ra']['renderTarg'+'et'],_0x31cf95=this['renderer']['shadowMapC'+'ache']['get'](_0x41a2f3,_0x4725d8),_0x204460=_0x31cf95['renderTarg'+'ets'][-0x3*0x4c4+0x1d0c+-0x1*0xec0],_0x57035d=_0x4725d8['vsmBlurMod'+'e'],_0x41ee0f=_0x4725d8['_vsmBlurSi'+'ze'],_0x281b1f=this['getVsmBlur'+'Shader'](_0x57035d,_0x41ee0f);Xa['z']=_0x4725d8['_shadowRes'+'olution']-(0x35b+0x1*-0x1e7d+0xc*0x243),Xa['w']=Xa['z'],this['sourceId']['setValue'](_0x27f16f['colorBuffe'+'r']),vr[-0xdb*-0x9+-0x1*0xc92+0x4df]=(-0x1*0x6bf+-0x97b+-0x33f*-0x5)/_0x4725d8['_shadowRes'+'olution'],vr[0xc*0xbc+0x77d+-0x104c]=0x6d*-0x3b+0x13*-0x2a+0x1c3d,this['pixelOffse'+'tId']['setValue'](vr),_0x57035d===Tp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x41ee0f]),dn(_0x41a2f3,_0x204460,_0x281b1f,null,Xa),this['sourceId']['setValue'](_0x204460['colorBuffe'+'r']),vr[-0x92*-0x2b+0x11*0x31+-0x1bc6]=vr[0x97*-0x2f+-0x5*-0x644+0x39b*-0x1],vr[-0x11b0+-0x58+0x1208]=-0xa75*-0x1+0x9f9+-0x146e,this['pixelOffse'+'tId']['setValue'](vr),dn(_0x41a2f3,_0x27f16f,_0x281b1f,null,Xa),this['renderer']['shadowMapC'+'ache']['add'](_0x4725d8,_0x31cf95),G['popGpuMark'+'er'](_0x41a2f3);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Qy(this['device'],[new gt('matrix_vie'+'wProjectio'+'n',Sa)]),this['viewBindGr'+'oupFormat']=new jy(this['device'],[new pp(fp,up|li)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const Fl=[];class vM{constructor(_0x51f103){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x51f103;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x42f223=>{_0x42f223['destroy']();}),this['_allocated']['length']=0x21b6+-0x2693+0x4dd;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x27f078=new zu(this['device']);_0x27f078['name']='ClusterEmp'+'ty',_0x27f078['update']([]),this['_empty']=_0x27f078;}return this['_empty'];}['assign'](_0x537b65){const _0x284a61=this['empty'];Fl['push'](...this['_allocated']),this['_allocated']['length']=-0xf61+-0x581*-0x4+-0x6a3*0x1,this['_clusters']['clear']();const _0x4b83a2=_0x537b65['length'];for(let _0x484883=0x1fe3+0x531*0x1+-0x2514;_0x484883<_0x4b83a2;_0x484883++){const _0x11d064=_0x537b65[_0x484883]['renderActi'+'ons'];if(_0x11d064){const _0xc726dd=_0x11d064['length'];for(let _0x1de724=0x3*-0xa16+0x1ee9+0x1*-0xa7;_0x1de724<_0xc726dd;_0x1de724++){const _0x119735=_0x11d064[_0x1de724];_0x119735['lightClust'+'ers']=null;const _0x4df93b=_0x119735['layer'];if(_0x4df93b['hasCluster'+'edLights']&&_0x4df93b['meshInstan'+'ces']['length']){const _0x55ef18=_0x4df93b['getLightId'+'Hash'](),_0x538c55=this['_clusters']['get'](_0x55ef18);let _0x2a7968=_0x538c55==null?void(-0xe1b+-0xf09+0x1d24):_0x538c55['lightClust'+'ers'];_0x2a7968||(_0x2a7968=Fl['pop']()??new zu(this['device']),mn['setName'](_0x2a7968,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2a7968),this['_clusters']['set'](_0x55ef18,_0x119735)),_0x119735['lightClust'+'ers']=_0x2a7968;}_0x119735['lightClust'+'ers']||(_0x119735['lightClust'+'ers']=_0x284a61);}}}Fl['forEach'](_0x1b3875=>_0x1b3875['destroy']()),Fl['length']=-0x7b4+0x185d+-0x1*0x10a9;}['update'](_0x5a60e3,_0x179433){this['assign'](_0x5a60e3),this['_clusters']['forEach'](_0x49f771=>{const _0x298e5a=_0x49f771['layer'];_0x49f771['lightClust'+'ers']['update'](_0x298e5a['clusteredL'+'ightsSet'],_0x179433);});}}const m_='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',bM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Gi=new Q(),Id=[];class kp extends ds{constructor(_0xc5f481,_0x1d4e63){super(_0xc5f481),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x1d4e63,this['requiresCu'+'bemaps']=!(0xfe7+-0x2b*0x1b+-0xb5d),this['blitTextur'+'eId']=_0xc5f481['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0xc5f481['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x396ff2,_0x174aae;(_0x396ff2=this['_quadRende'+'rer2D'])==null||_0x396ff2['destroy'](),this['_quadRende'+'rer2D']=null,(_0x174aae=this['_quadRende'+'rerCube'])==null||_0x174aae['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x3a8502,_0x136ea3){v['assert'](_0x3a8502);const _0x365797=new kp(_0x3a8502['device'],_0x136ea3);return _0x365797['init'](_0x3a8502),_0x365797['colorOps']['clear']=!(-0x1b61+0x1093+0xacf),_0x365797['depthStenc'+'ilOps']['clearDepth']=!(-0x36*0x5f+0xb1b+-0x11e*-0x8),_0x365797;}['update'](_0x3b131b){const _0x5bf646=this['_filteredL'+'ights'];this['filter'](_0x3b131b,_0x5bf646),this['executeEna'+'bled']=_0x5bf646['length']>-0x89*0x24+-0x5*0x607+0x3167;}['filter'](_0x275c49,_0x4031e5){for(let _0x456d3d=-0xe36+0x22a6+-0x147*0x10;_0x456d3d<_0x275c49['length'];_0x456d3d++){const _0xc35c2d=_0x275c49[_0x456d3d];_0xc35c2d['_type']!==oe&&_0xc35c2d['atlasViewp'+'ortAllocat'+'ed']&&_0xc35c2d['atlasSlotU'+'pdated']&&_0xc35c2d['enabled']&&_0xc35c2d['cookie']&&_0xc35c2d['visibleThi'+'sFrame']&&_0x4031e5['push'](_0xc35c2d);}}['initInvVie'+'wProjMatri'+'ces'](){if(!Id['length'])for(let _0x2acdc5=-0x142f+-0xed*0x17+-0x2*-0x14bd;_0x2acdc5<-0xea4+0x1a6d+-0xbc3;_0x2acdc5++){const _0x3ec99d=Ma['create'](null,Pe,_0x2acdc5),_0x469d7f=_0x3ec99d['projection'+'Matrix'],_0x10c4f2=_0x3ec99d['node']['getLocalTr'+'ansform']()['clone']()['invert']();Id[_0x2acdc5]=new q()['mul2'](_0x469d7f,_0x10c4f2)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x472a53=Is(this['device'],m_,bM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Nu(_0x472a53);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x42aaf9=Is(this['device'],m_,wM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Nu(_0x42aaf9);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x366101=this['device'];_0x366101['setBlendSt'+'ate'](_t['NOBLEND']),_0x366101['setCullMod'+'e'](mt),_0x366101['setDepthSt'+'ate'](as['NODEPTH']),_0x366101['setStencil'+'State']();const _0x9a7c36=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x398a88=this['_cubeSlots'+'Offsets'],_0x5dedb9=this['_filteredL'+'ights'];for(let _0x4c7390=0x680*0x1+0x908+-0xf88;_0x4c7390<_0x5dedb9['length'];_0x4c7390++){const _0x340c3f=_0x5dedb9[_0x4c7390];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x340c3f['_node']['name']);const _0x2fef60=_0x340c3f['numShadowF'+'aces'],_0x552425=_0x2fef60>-0x1421+-0x2569+0x398b?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x2fef60>-0x537+0x2167+-0x25*0xc3&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x340c3f['cookie']);for(let _0x4141fe=-0x3*-0xa7b+-0x207d+0x2*0x86;_0x4141fe<_0x2fef60;_0x4141fe++){if(Gi['copy'](_0x340c3f['atlasViewp'+'ort']),_0x2fef60>0x206f+-0x57c+0x2*-0xd79){const _0x3293c4=Gi['z']/(0x1a5a+-0x9ce+-0x1089),_0x5a4126=_0x398a88[_0x4141fe];Gi['x']+=_0x3293c4*_0x5a4126['x'],Gi['y']+=_0x3293c4*_0x5a4126['y'],Gi['z']=_0x3293c4,Gi['w']=_0x3293c4,this['invViewPro'+'jId']['setValue'](Id[_0x4141fe]['data']);}Gi['mulScalar'](_0x9a7c36),_0x552425['render'](Gi);}G['popGpuMark'+'er'](_0x366101);}_0x5dedb9['length']=0x1112+0xd*-0x2a7+-0x1169*-0x1;}}class TM extends ds{constructor(_0x172dc1,_0x1d4647,_0x38e75a){super(_0x172dc1),this['requiresCu'+'bemaps']=!(0x1f52+0xf5+-0x1cb*0x12),this['shadowRend'+'erer']=_0x1d4647,this['shadowRend'+'ererLocal']=_0x38e75a;}['update'](_0x548b9e){const _0x136213=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x10450a=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x136213,_0x548b9e),_0x3909b9=_0x136213['length'];this['enabled']=_0x3909b9>-0x1*0xa32+-0x14fb+-0x15b*-0x17,_0x3909b9&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x10450a,!(-0x9*-0x425+-0x2*0xef+-0x236e));}['execute'](){const _0x11ef04=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x19302a=_0x11ef04['length'];for(let _0x207914=-0x18a1*0x1+0x4e8*0x4+0x501;_0x207914<_0x19302a;_0x207914++){const _0x193bb5=_0x11ef04[_0x207914];for(let _0x1c57c8=-0x1*-0xf6b+0x1154+-0x20bf;_0x1c57c8<_0x193bb5['numShadowF'+'aces'];_0x1c57c8++)this['shadowRend'+'erer']['renderFace'](_0x193bb5,null,_0x1c57c8,!(-0x1302+-0x1*-0x1f7f+-0xc7d));}_0x11ef04['length']=0x6d7+0x111c+0x1*-0x17f3;}}class AM extends ds{constructor(_0x1b5a21,_0x1bbe08,_0x5a07d8,_0x3e2c99,_0x3e99b1){super(_0x1b5a21),this['renderer']=_0x1bbe08,this['frameGraph']=null,this['cookiesRen'+'derPass']=kp['create'](_0x3e99b1['cookieRend'+'erTarget'],_0x3e99b1['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new TM(_0x1b5a21,_0x5a07d8,_0x3e2c99),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x403117,_0x1e2276,_0x17ffe5,_0x350270,_0x3cfac7){this['frameGraph']=_0x403117,this['cookiesRen'+'derPass']['enabled']=_0x17ffe5,_0x17ffe5&&this['cookiesRen'+'derPass']['update'](_0x350270),this['shadowRend'+'erPass']['enabled']=_0x1e2276,_0x1e2276&&this['shadowRend'+'erPass']['update'](_0x3cfac7);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x493560=ne(),{renderer:_0x325448}=this,{scene:_0x3f4b95}=_0x325448;_0x325448['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x3f4b95['lighting']),_0x325448['_lightClus'+'tersTime']+=ne()-_0x493560,_0x325448['_lightClus'+'ters']=_0x325448['worldClust'+'ersAllocat'+'or']['count'];}}let Dd=0x2fc+-0x11df+-0x1*-0xee3;const Hi=new q(),Wi=new q(),Mn=new q(),__=new js(),Ld=new Lf(),g_=new q()['setScale'](0x8c5+0x291*-0x2+-0x3a2,-(-0xb21+0xa65+0x7*0x1b),0x1*-0xe17+0x63f*-0x1+0x29*0x7f),Fd=new Set(),Od=new Set(),kd=new Yy(),y_=new q()['set']([-0x2424+0x2*0x8bd+0x12ab,0xd86+0x1*-0x21cc+0x1446,0x8c3+-0xd33+0x470,-0x21c8+0x98c+0x183c,-0x89f*0x1+0x23ff+-0x1b60,-0x3b0*-0x4+-0xb5*-0xd+-0x5fc*0x4,-0x6bc+0x433+-0x3b*-0xb,0x737*0x3+-0x1d5f+0x7ba,-0x6ef*0x4+0x17d5+0x3e7,-0x73e*-0x4+-0x40*-0x29+-0x2738*0x1,0x31f*0x1+0x18bc+-0x1bdb+0.5,-0x1*0x1777+0x2*0x7c+-0x167f*-0x1,0x1896+-0x1b9+-0x1*0x16dd,0x1*0x25+0x1a2d*0x1+-0x1*0x1a52,-0x8f6+-0x127f+-0xd5*-0x21+0.5,0x3*-0x17b+0x1138+0xda*-0xf]),x_=[new W(-0x1f*-0xed+-0xd*-0x23+0xf3d*-0x2+0.5,0x25b2+-0x17+-0x259b+0.333333),new W(-0x1d92+-0x1f84+0x3d16+0.25,0x1*0x1d45+0xf3c+-0x2c81+0.666667),new W(0x50b*0x7+0x174e+-0x3a9b+0.75,-0x536+0x1d0*-0x1+0x706+0.111111),new W(0x1*0x20ef+-0x1eae+-0x1*0x241+0.125,0x126d+0x12d5+-0x2542+0.444444),new W(0x7*-0x159+0x179b+-0xe2c+0.625,0xb81+0x2630+-0x31b1+0.777778),new W(-0x620+0x20*0x20+-0x88*-0x4+0.375,-0x1977+0x58f+0x8*0x27d+0.222222),new W(0x2012+-0x1*0x191e+-0x6f4+0.875,-0x47*0xf+0x3*0x731+-0x2e7*0x6+0.555556),new W(0x180b+0x7c9*-0x5+0x4f6*0x3+0.0625,0x1efa+0x2398+-0x4292+0.888889),new W(0x759+-0x1*-0x19fd+0x11*-0x1f6+0.5625,0x155a+-0x1a*0xd+-0x1408+0.037037),new W(-0x5*-0x3e1+0x1*0x1a65+-0x2dca*0x1+0.3125,-0x11*-0x107+0x164e*0x1+-0x27c5+0.37037),new W(0x3*-0xbb4+-0x9d*0x29+0x3c41+0.8125,0x6*0x289+-0x1b25+-0x41*-0x2f+0.703704),new W(-0x7ec+-0x1c63+0x34d*0xb+0.1875,0x1787+-0x1*-0x10f7+-0x287e+0.148148),new W(-0x1cca+-0x11c0+-0xe*-0x353+0.6875,-0x291+0x949+0xac*-0xa+0.481481),new W(0x37c+-0x1*-0xec9+-0x1*0x1245+0.4375,-0x9e0+0x25a1*0x1+-0x1d*0xf5+0.814815),new W(-0x7*0x44e+-0x14e*-0xb+0xfc8+0.9375,-0x1bb0+0x17*0x25+0x185d+0.259259),new W(0x1e*0x105+0x43*-0x2e+-0x2*0x946+0.03125,-0x1d6e*-0x1+-0x1729+0x6b*-0xf+0.592593)],EM=new q(),CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),Pn=new Set(),Bd=[],Nd=[];class DM{constructor(_0x52f01b){c(this,'clustersDe'+'bugRendere'+'d',!(0x684+0x1*0x719+0x86*-0x1a)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new rM(-0x139+0xaf4+-0x940)),(this['device']=_0x52f01b,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new vM(_0x52f01b),this['lightTextu'+'reAtlas']=new uM(_0x52f01b),this['shadowMapC'+'ache']=new fM(),this['shadowRend'+'erer']=new I0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new mM(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new yM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new AM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0xf43+-0x1456*0x1+-0x1*-0x2399,this['_morphTime']=-0xa9*-0x29+-0x8*-0x15b+-0x25e9,this['_cullTime']=-0xaff*-0x2+0x364*0x5+-0x26f2*0x1,this['_shadowMap'+'Time']=-0x113a+0x254+-0xee6*-0x1,this['_lightClus'+'tersTime']=-0x3*-0x8e7+0x9*-0xb5+-0x364*0x6,this['_layerComp'+'ositionUpd'+'ateTime']=-0x1a59+0xbfb*-0x2+0x324f,this['_shadowDra'+'wCalls']=0x87c+0x1dc*0x2+-0xb*0x11c,this['_skinDrawC'+'alls']=0x1371+0x890+-0x1c01,this['_instanced'+'DrawCalls']=0x1cf1+0x1*0x414+-0x1*0x2105,this['_shadowMap'+'Updates']=0x84e+0x1897+-0x20e5*0x1,this['_numDrawCa'+'llsCulled']=0x3b*-0x8b+-0x24e5+0x44ee,this['_camerasRe'+'ndered']=-0xbfc*0x2+-0x1f*0x13c+0x3e3c,this['_lightClus'+'ters']=0x3*-0xdd+-0x2116+0x1*0x23ad);const _0x21c48b=_0x52f01b['scope'];this['boneTextur'+'eId']=_0x21c48b['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x21c48b['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x21c48b['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x21c48b['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x21c48b['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x5*0x73d+0x2*0x5de+0x1878),this['viewPosId']=_0x21c48b['resolve']('view_posit'+'ion'),this['projId']=_0x21c48b['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x21c48b['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x21c48b['resolve']('matrix_vie'+'w'),this['viewId3']=_0x21c48b['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x21c48b['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x21c48b['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x21c48b['resolve']('tbnBasis'),this['nearClipId']=_0x21c48b['resolve']('camera_nea'+'r'),this['farClipId']=_0x21c48b['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x2*-0xf1e+-0x1*-0x6e1+-0x2519),this['cameraPara'+'msId']=_0x21c48b['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x21c48b['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x8c+0x2*-0xa03+0x1492,this['blueNoiseJ'+'itterVec']=new Q(),this['blueNoiseJ'+'itterData']=new Float32Array(0x1ff1*-0x1+0x2*-0xaf3+0x35db),this['blueNoiseJ'+'itterId']=_0x21c48b['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x21c48b['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x21c48b['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x21c48b['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x21c48b['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x21c48b['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](-0x4c4*-0x3+-0x2553+0x1707),this['morphPosit'+'ionTex']=_0x21c48b['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x21c48b['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x21c48b['resolve']('morph_tex_'+'params'),this['lightCube']=new aM(),this['constantLi'+'ghtCube']=_0x21c48b['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x9a7bc9,_0x3bfe22){if(_0x9a7bc9['layer']===_0x3bfe22['layer']){if(_0x9a7bc9['drawOrder']&&_0x3bfe22['drawOrder'])return _0x9a7bc9['drawOrder']-_0x3bfe22['drawOrder'];if(_0x9a7bc9['zdist']&&_0x3bfe22['zdist'])return _0x3bfe22['zdist']-_0x9a7bc9['zdist'];if(_0x9a7bc9['zdist2']&&_0x3bfe22['zdist2'])return _0x9a7bc9['zdist2']-_0x3bfe22['zdist2'];}return _0x3bfe22['_key'][Ei]-_0x9a7bc9['_key'][Ei];}['sortCompar'+'eMesh'](_0x5814d9,_0x248ea8){if(_0x5814d9['layer']===_0x248ea8['layer']){if(_0x5814d9['drawOrder']&&_0x248ea8['drawOrder'])return _0x5814d9['drawOrder']-_0x248ea8['drawOrder'];if(_0x5814d9['zdist']&&_0x248ea8['zdist'])return _0x248ea8['zdist']-_0x5814d9['zdist'];}const _0x339099=_0x5814d9['_key'][Ei],_0x34c92c=_0x248ea8['_key'][Ei];return _0x339099===_0x34c92c&&_0x5814d9['mesh']&&_0x248ea8['mesh']?_0x248ea8['mesh']['id']-_0x5814d9['mesh']['id']:_0x34c92c-_0x339099;}['sortCompar'+'eDepth'](_0x451c71,_0x3c5715){const _0x1a0adc=_0x451c71['_key'][ku],_0x38100b=_0x3c5715['_key'][ku];return _0x1a0adc===_0x38100b&&_0x451c71['mesh']&&_0x3c5715['mesh']?_0x3c5715['mesh']['id']-_0x451c71['mesh']['id']:_0x38100b-_0x1a0adc;}['setupViewp'+'ort'](_0x57e390,_0x11d76c){const _0x5a4067=this['device'],_0x2a0664=_0x11d76c?_0x11d76c['width']:_0x5a4067['width'],_0xc29d7d=_0x11d76c?_0x11d76c['height']:_0x5a4067['height'],_0x114e56=_0x57e390['rect'];let _0x5521bc=Math['floor'](_0x114e56['x']*_0x2a0664),_0x38859d=Math['floor'](_0x114e56['y']*_0xc29d7d),_0x5cfde9=Math['floor'](_0x114e56['z']*_0x2a0664),_0x1b0919=Math['floor'](_0x114e56['w']*_0xc29d7d);if(_0x5a4067['setViewpor'+'t'](_0x5521bc,_0x38859d,_0x5cfde9,_0x1b0919),_0x57e390['_scissorRe'+'ctClear']){const _0xecb5dc=_0x57e390['scissorRec'+'t'];_0x5521bc=Math['floor'](_0xecb5dc['x']*_0x2a0664),_0x38859d=Math['floor'](_0xecb5dc['y']*_0xc29d7d),_0x5cfde9=Math['floor'](_0xecb5dc['z']*_0x2a0664),_0x1b0919=Math['floor'](_0xecb5dc['w']*_0xc29d7d);}_0x5a4067['setScissor'](_0x5521bc,_0x38859d,_0x5cfde9,_0x1b0919);}['setCameraU'+'niforms'](_0x2b6171,_0x2a2c39){var _0x54ce2d,_0x4c5b8d;const _0x432206=_0x2a2c39==null?void(-0x2*-0x3a3+0x6d7*-0x3+0xd3f*0x1):_0x2a2c39['flipY'];let _0x455c1c=-0xf5+-0x45c+0x552;if(_0x2b6171['xr']&&_0x2b6171['xr']['session']){const _0x34a193=((_0x4c5b8d=(_0x54ce2d=_0x2b6171['_node'])==null?void(-0x2*0x1011+0x2541+-0x51f):_0x54ce2d['parent'])==null?void(-0x11*-0x182+-0x7ef+-0x11b3):_0x4c5b8d['getWorldTr'+'ansform']())||null,_0x4c7655=_0x2b6171['xr']['views'];_0x455c1c=_0x4c7655['list']['length'];for(let _0x4bfcff=0x114f+0xa36*-0x2+0x31d*0x1;_0x4bfcff<_0x455c1c;_0x4bfcff++){const _0x3f39c3=_0x4c7655['list'][_0x4bfcff];_0x3f39c3['updateTran'+'sforms'](_0x34a193),_0x2b6171['frustum']['setFromMat'+'4'](_0x3f39c3['projViewOf'+'fMat']);}}else{let _0x11050d=_0x2b6171['projection'+'Matrix'];_0x2b6171['calculateP'+'rojection']&&_0x2b6171['calculateP'+'rojection'](_0x11050d,Al);let _0x1c9b37=_0x2b6171['getProject'+'ionMatrixS'+'kybox']();_0x432206&&(_0x11050d=EM['mul2'](g_,_0x11050d),_0x1c9b37=CM['mul2'](g_,_0x1c9b37)),this['device']['isWebGPU']&&(_0x11050d=MM['mul2'](y_,_0x11050d),_0x1c9b37=PM['mul2'](y_,_0x1c9b37));const {jitter:_0x560057}=_0x2b6171;let _0x1418e6=0x3*0xb1b+0x1*-0xc7+-0x208a,_0x143c92=-0xb*0x366+0x1*-0x166f+0x3bd1;if(_0x560057>0x877+0x2*0xb7b+0x1*-0x1f6d){const _0x33c3cb=_0x2a2c39?_0x2a2c39['width']:this['device']['width'],_0x2b1965=_0x2a2c39?_0x2a2c39['height']:this['device']['height'],_0x1cfb00=x_[this['device']['renderVers'+'ion']%x_['length']];_0x1418e6=_0x560057*(_0x1cfb00['x']*(-0x5bb+-0x2b*-0xe8+-0x1*0x213b)-(-0x1dcc+-0x1d11+0xa*0x5e3))/_0x33c3cb,_0x143c92=_0x560057*(_0x1cfb00['y']*(-0x106*0x25+0x6a0+-0x7d0*-0x4)-(-0x235a*-0x1+0x3c6+0x7d3*-0x5))/_0x2b1965,_0x11050d=RM['copy'](_0x11050d),_0x11050d['data'][-0x1*-0x1ae3+-0x13d*0x16+0x63*0x1]=_0x1418e6,_0x11050d['data'][-0x1036+0x110c+-0xcd]=_0x143c92,_0x1c9b37=IM['copy'](_0x1c9b37),_0x1c9b37['data'][0x997+-0x1ef6+0x1567]=_0x1418e6,_0x1c9b37['data'][0x2295+0x1*0x1b57+-0x3de3]=_0x143c92,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x2cb438=_0x560057>0x2089+-0x5*0x7b+-0x1e22?this['blueNoiseJ'+'itterVec']:Q['ZERO'];if(this['blueNoiseJ'+'itterData'][-0x6f3+-0x5*0x407+0x1*0x1b16]=_0x2cb438['x'],this['blueNoiseJ'+'itterData'][-0x10fd*-0x1+-0x53*-0x47+-0xd1*0x31]=_0x2cb438['y'],this['blueNoiseJ'+'itterData'][0x1c1*0x3+-0x7d*0x45+-0x8c*-0x34]=_0x2cb438['z'],this['blueNoiseJ'+'itterData'][-0x2040+-0x1f49+0x3f8c]=_0x2cb438['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x11050d['data']),this['projSkybox'+'Id']['setValue'](_0x1c9b37['data']),_0x2b6171['calculateT'+'ransform'])_0x2b6171['calculateT'+'ransform'](Wi,Al);else{const _0x316f3d=_0x2b6171['_node']['getPositio'+'n'](),_0x3036f8=_0x2b6171['_node']['getRotatio'+'n']();Wi['setTRS'](_0x316f3d,_0x3036f8,T['ONE']);}this['viewInvId']['setValue'](Wi['data']),Mn['copy'](Wi)['invert'](),this['viewId']['setValue'](Mn['data']),__['setFromMat'+'4'](Mn),this['viewId3']['setValue'](__['data']),Hi['mul2'](_0x11050d,Mn),this['viewProjId']['setValue'](Hi['data']),_0x2b6171['_storeShad'+'erMatrices'](Hi,_0x1418e6,_0x143c92,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x432206?-(-0x126d+0xf1e+0x350):-0x5dc*0x6+-0x4*0x327+0x2fc5),this['dispatchVi'+'ewPos'](_0x2b6171['_node']['getPositio'+'n']()),_0x2b6171['frustum']['setFromMat'+'4'](Hi);}this['tbnBasis']['setValue'](_0x432206?-(0x9f*0x7+-0x25f1+0xb33*0x3):-0x16*-0x1b1+0x1b05+-0x403a);const _0x4d07e1=_0x2b6171['_nearClip'],_0xd2da0c=_0x2b6171['_farClip'];return this['nearClipId']['setValue'](_0x4d07e1),this['farClipId']['setValue'](_0xd2da0c),this['cameraPara'+'ms'][0xfdc+-0xebf+-0x11d]=(0x1565*-0x1+0x26a5+0x373*-0x5)/_0xd2da0c,this['cameraPara'+'ms'][0x24c*-0xd+-0x147a+-0x107*-0x31]=_0xd2da0c,this['cameraPara'+'ms'][0x1*-0x1c8+0x25cd+-0x2403]=_0x4d07e1,this['cameraPara'+'ms'][0x15*0x166+-0x1710+0x1*-0x64b]=_0x2b6171['projection']===ua?-0x509+0x17ee+-0x12e4:0x2*0xe29+-0x65b*-0x6+-0x4274,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x2b6171['getExposur'+'e']():this['scene']['exposure']),_0x455c1c;}['clear'](_0x220f1e,_0x485988,_0x3598d5,_0x67a345){const _0x38685c=(_0x485988??_0x220f1e['_clearColo'+'rBuffer']?Co:-0x4a1+0x445*0x6+-0x3*0x6ff)|(_0x3598d5??_0x220f1e['_clearDept'+'hBuffer']?Mo:0xe36*0x1+0x12c0+0x2*-0x107b)|(_0x67a345??_0x220f1e['_clearSten'+'cilBuffer']?Ah:0xca3*0x1+0x1*-0x26c5+0x45b*0x6);if(_0x38685c){const _0x35c730=this['device'];G['pushGpuMar'+'ker'](_0x35c730,'CLEAR'),_0x35c730['clear']({'color':[_0x220f1e['_clearColo'+'r']['r'],_0x220f1e['_clearColo'+'r']['g'],_0x220f1e['_clearColo'+'r']['b'],_0x220f1e['_clearColo'+'r']['a']],'depth':_0x220f1e['_clearDept'+'h'],'stencil':_0x220f1e['_clearSten'+'cil'],'flags':_0x38685c}),G['popGpuMark'+'er'](_0x35c730);}}['setCamera'](_0x645d3a,_0x5c555f,_0x49cf50,_0x25e0d4=null){this['setCameraU'+'niforms'](_0x645d3a,_0x5c555f),this['clearView'](_0x645d3a,_0x5c555f,_0x49cf50,!(-0xdde+-0x48e*0x5+0x24a5));}['clearView'](_0x451cad,_0x238d95,_0x518308,_0x3ed085){const _0x1e5cdb=this['device'];if(G['pushGpuMar'+'ker'](_0x1e5cdb,'CLEAR-VIEW'),_0x1e5cdb['setRenderT'+'arget'](_0x238d95),_0x1e5cdb['updateBegi'+'n'](),_0x3ed085&&(_0x1e5cdb['setColorWr'+'ite'](!(-0xb1b*0x1+-0x4b5*0x7+-0x1*-0x2c0e),!(-0x199+0x135f+-0x82*0x23),!(-0x52a*0x5+0x1bfe*0x1+0x2*-0x116),!(0x10f*-0x1d+0x1*-0xd8b+0x2c3e)),_0x1e5cdb['setDepthWr'+'ite'](!(0x350+0x1*-0x177b+0x142b))),this['setupViewp'+'ort'](_0x451cad,_0x238d95),_0x518308){const _0x12733f=_0x451cad['_clearOpti'+'ons'];_0x1e5cdb['clear'](_0x12733f||{'color':[_0x451cad['_clearColo'+'r']['r'],_0x451cad['_clearColo'+'r']['g'],_0x451cad['_clearColo'+'r']['b'],_0x451cad['_clearColo'+'r']['a']],'depth':_0x451cad['_clearDept'+'h'],'flags':(_0x451cad['_clearColo'+'rBuffer']?Co:-0x14ab+-0x18*-0xe3+-0x9d*0x1)|(_0x451cad['_clearDept'+'hBuffer']?Mo:0x165d+-0x155+-0x1508)|(_0x451cad['_clearSten'+'cilBuffer']?Ah:0x11*0x207+-0x1*-0x1479+-0x36f0),'stencil':_0x451cad['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x1e5cdb);}['setupCullM'+'ode'](_0x2e96db,_0xd59b6e,_0x42e442){const _0x546b27=_0x42e442['material'];let _0x1a35b1=mt;if(_0x2e96db){let _0x56405d=-0x16cf*0x1+0x1*-0x42+0x1712;(_0x546b27['cull']===mo||_0x546b27['cull']===rn)&&(_0x56405d=_0xd59b6e*_0x42e442['flipFacesF'+'actor']*_0x42e442['node']['worldScale'+'Sign']),_0x56405d<-0x28*-0xbd+0xb65+0x1*-0x28ed?_0x1a35b1=_0x546b27['cull']===mo?rn:mo:_0x1a35b1=_0x546b27['cull'];}this['device']['setCullMod'+'e'](_0x1a35b1),_0x1a35b1===mt&&_0x546b27['cull']===mt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x42e442['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x2dc563){if(_0x2dc563['xr']&&_0x2dc563['xr']['views']['list']['length']){const _0x3ba08c=_0x2dc563['xr']['views']['list'][-0x1d78+0x8c4+-0x5*-0x424];Hi['mul2'](_0x3ba08c['projMat'],_0x3ba08c['viewOffMat']),_0x2dc563['frustum']['setFromMat'+'4'](Hi);return;}const _0x18f234=_0x2dc563['projection'+'Matrix'];if(_0x2dc563['calculateP'+'rojection']&&_0x2dc563['calculateP'+'rojection'](_0x18f234,Al),_0x2dc563['calculateT'+'ransform'])_0x2dc563['calculateT'+'ransform'](Wi,Al);else{const _0x44907e=_0x2dc563['_node']['getPositio'+'n'](),_0x375027=_0x2dc563['_node']['getRotatio'+'n']();Wi['setTRS'](_0x44907e,_0x375027,T['ONE']),this['viewInvId']['setValue'](Wi['data']);}Mn['copy'](Wi)['invert'](),Hi['mul2'](_0x18f234,Mn),_0x2dc563['frustum']['setFromMat'+'4'](Hi);}['setBaseCon'+'stants'](_0x5c6cd2,_0x37e338){_0x5c6cd2['setCullMod'+'e'](_0x37e338['cull']),_0x37e338['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x37e338['opacityMap']),(_0x37e338['opacityMap']||_0x37e338['alphaTest']>-0x1ea1*-0x1+0x1*0x18a3+-0x3*0x126c)&&this['alphaTestI'+'d']['setValue'](_0x37e338['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x230d0d){Dd++;const _0x2d38af=_0x230d0d['length'];if(_0x2d38af===-0x1c4*0x8+0x5*-0x578+0x2978)return;const _0x41e9c6=ne();for(let _0x2af439=-0x2*0x98f+0x1e9f+0x13*-0x9b;_0x2af439<_0x2d38af;_0x2af439++){const _0x4a28b0=_0x230d0d[_0x2af439]['skinInstan'+'ce'];_0x4a28b0&&(_0x4a28b0['updateMatr'+'ices'](_0x230d0d[_0x2af439]['node'],Dd),_0x4a28b0['_dirty']=!(0x1606*-0x1+-0xaec*-0x1+0xe*0xcb));}this['_skinTime']+=ne()-_0x41e9c6;}['updateGpuS'+'kinMatrice'+'s'](_0x20be51){const _0x43363e=ne();for(const _0xb3769f of _0x20be51){const _0xc3781e=_0xb3769f['skinInstan'+'ce'];_0xc3781e&&_0xc3781e['_dirty']&&(_0xc3781e['updateMatr'+'ixPalette'](_0xb3769f['node'],Dd),_0xc3781e['_dirty']=!(0x626+0x195d+-0x1f82));}this['_skinTime']+=ne()-_0x43363e;}['updateMorp'+'hing'](_0x531bd2){const _0x94f843=ne();for(const _0x579b21 of _0x531bd2){const _0x5ef432=_0x579b21['morphInsta'+'nce'];_0x5ef432&&_0x5ef432['_dirty']&&_0x5ef432['update']();}this['_morphTime']+=ne()-_0x94f843;}['updateGSpl'+'ats'](_0x5e7989){var _0x18aacd;for(const _0xffdd9b of _0x5e7989)(_0x18aacd=_0xffdd9b['gsplatInst'+'ance'])==null||_0x18aacd['update']();}['gpuUpdate'](_0x196e04){this['updateGpuS'+'kinMatrice'+'s'](_0x196e04),this['updateMorp'+'hing'](_0x196e04),this['updateGSpl'+'ats'](_0x196e04);}['setVertexB'+'uffers'](_0x27787b,_0x191383){_0x27787b['setVertexB'+'uffer'](_0x191383['vertexBuff'+'er']);}['setMorphin'+'g'](_0x17528f,_0x3e731c){_0x3e731c&&(_0x3e731c['prepareRen'+'dering'](_0x17528f),_0x17528f['setVertexB'+'uffer'](_0x3e731c['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x3e731c['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x3e731c['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x3e731c['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x30e81f,_0x1cf6b1){const _0x263edc=_0x1cf6b1['skinInstan'+'ce'];if(_0x263edc){this['_skinDrawC'+'alls']++;const _0x457641=_0x263edc['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x457641),this['boneTextur'+'eSizeId']['setValue'](_0x263edc['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x9b7f20){const _0x10fd15=this['viewPos'];_0x10fd15[-0x183b+-0xe*0x206+-0x5d7*-0x9]=_0x9b7f20['x'],_0x10fd15[-0x3d8+0x6ab+-0x26*0x13]=_0x9b7f20['y'],_0x10fd15[-0x1a6f+0x1823+0x24e]=_0x9b7f20['z'],this['viewPosId']['setValue'](_0x10fd15);}['initViewBi'+'ndGroupFor'+'mat'](_0x1a48a1){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x4ee890=[new gt('matrix_vie'+'wProjectio'+'n',Sa),new gt('cubeMapRot'+'ationMatri'+'x',ko),new gt('view_posit'+'ion',$t),new gt('skyboxInte'+'nsity',$s),new gt('exposure',$s),new gt('textureBia'+'s',$s)];_0x1a48a1&&_0x4ee890['push'](new gt('clusterCel'+'lsCountByB'+'oundsSize',$t),new gt('clusterTex'+'tureSize',$t),new gt('clusterBou'+'ndsMin',$t),new gt('clusterBou'+'ndsDelta',$t),new gt('clusterCel'+'lsDot',$t),new gt('clusterCel'+'lsMax',$t),new gt('clusterCom'+'pressionLi'+'mit0',or),new gt('shadowAtla'+'sParams',or),new gt('clusterMax'+'Cells',ln),new gt('clusterSki'+'p',$s)),this['viewUnifor'+'mFormat']=new Qy(this['device'],_0x4ee890);const _0x180074=[new pp(fp,up|li),new fi('lightsText'+'ureFloat',li,Us,nd),new fi('lightsText'+'ure8',li,Us,nd),new fi('shadowAtla'+'sTexture',li,Us,jS),new fi('cookieAtla'+'sTexture',li,Us,oh),new fi('areaLights'+'LutTex1',li,Us,oh),new fi('areaLights'+'LutTex2',li,Us,oh)];_0x1a48a1&&_0x180074['push'](new fi('clusterWor'+'ldTexture',li,Us,nd)),this['viewBindGr'+'oupFormat']=new jy(this['device'],_0x180074);}}['setupViewU'+'niformBuff'+'ers'](_0x12f238,_0x14036f,_0x526aef,_0x1007ed){v['assert'](Array['isArray'](_0x12f238),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x5ae11a=this['device'];for(v['assert'](_0x1007ed===-0x1fbe*-0x1+-0x1d5c+0x261*-0x1,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x12f238['length']<_0x1007ed;){const _0x4df3c2=new gp(_0x5ae11a,_0x14036f,!(0x1668+-0x2345+-0x3*-0x44a)),_0x12a64c=new mp(_0x5ae11a,_0x526aef,_0x4df3c2);mn['setName'](_0x12a64c,'ViewBindGr'+'oup_'+_0x12a64c['id']),_0x12f238['push'](_0x12a64c);}const _0x494da6=_0x12f238[0x1481*0x1+0x2369*-0x1+-0x1dd*-0x8];_0x494da6['defaultUni'+'formBuffer']['update'](),_0x494da6['update'](),_0x5ae11a['setBindGro'+'up'](Dh,_0x494da6);}['setupMeshU'+'niformBuff'+'ers'](_0x24ad57,_0x529785){const _0x3688be=this['device'];if(_0x3688be['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x529785['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x529785['node']['normalMatr'+'ix']['data']);const _0x5903f1=_0x24ad57['getBindGro'+'up'](_0x3688be);_0x5903f1['update'](),_0x3688be['setBindGro'+'up'](Xy,_0x5903f1),_0x24ad57['getUniform'+'Buffer'](_0x3688be)['update'](kd),_0x3688be['setBindGro'+'up'](Eu,kd['bindGroup'],kd['offsets']);}}['drawInstan'+'ce'](_0x5ccaba,_0x192262,_0x1b820f,_0x4fb015,_0x4bf7d4){const _0x5d2bae=_0x192262['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x5d2bae['data']),_0x4bf7d4&&this['normalMatr'+'ixId']['setValue'](_0x192262['node']['normalMatr'+'ix']['data']);const _0x20943f=_0x192262['instancing'+'Data'];_0x20943f?_0x20943f['count']>0x1ab7*0x1+0x1527+-0x2fde*0x1?(this['_instanced'+'DrawCalls']++,_0x5ccaba['setVertexB'+'uffer'](_0x20943f['vertexBuff'+'er']),_0x5ccaba['draw'](_0x1b820f['primitive'][_0x4fb015],_0x20943f['count'])):_0x5ccaba['clearVerte'+'xBuffer']():_0x5ccaba['draw'](_0x1b820f['primitive'][_0x4fb015]);}['drawInstan'+'ce2'](_0x3c533d,_0x1087e6,_0x223742,_0x27b870){const _0x48600f=_0x1087e6['instancing'+'Data'];_0x48600f?_0x48600f['count']>-0x41*-0x3b+-0x1ad+-0xd4e?(this['_instanced'+'DrawCalls']++,_0x3c533d['draw'](_0x223742['primitive'][_0x27b870],_0x48600f['count'],!(-0x2*0xb3+-0xbb*0x31+-0x2531*-0x1))):_0x3c533d['clearVerte'+'xBuffer']():_0x3c533d['draw'](_0x223742['primitive'][_0x27b870],void(-0x8*-0x1a1+-0x1b5f*0x1+0x1*0xe57),!(0x1*-0x88c+-0x1c57+0x24e3));}['cull'](_0x2a62d4,_0xf7359a,_0x502358){const _0x2ec0a7=ne(),_0x1dd67a=_0x502358['opaque'];_0x1dd67a['length']=0xaf0+-0x1d3b+-0x15*-0xdf;const _0x3600eb=_0x502358['transparen'+'t'];_0x3600eb['length']=0x7*-0x521+-0x5*0x4d5+-0x3e*-0xf8;const _0x1b82e4=_0x2a62d4['frustumCul'+'ling'],_0x5cb87d=_0xf7359a['length'];for(let _0x352e75=0x8e5+-0x2a0*-0x1+-0xb85;_0x352e75<_0x5cb87d;_0x352e75++){const _0xfdb5a6=_0xf7359a[_0x352e75];_0xfdb5a6['visible']&&(!_0x1b82e4||!_0xfdb5a6['cull']||_0xfdb5a6['_isVisible'](_0x2a62d4))&&(_0xfdb5a6['visibleThi'+'sFrame']=!(0x3*-0x2bd+-0x32*-0xc8+-0x1ed9),(_0xfdb5a6['transparen'+'t']?_0x3600eb:_0x1dd67a)['push'](_0xfdb5a6),(_0xfdb5a6['skinInstan'+'ce']||_0xfdb5a6['morphInsta'+'nce']||_0xfdb5a6['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0xfdb5a6),_0xfdb5a6['gsplatInst'+'ance']&&_0xfdb5a6['gsplatInst'+'ance']['cameras']['push'](_0x2a62d4)));}this['_cullTime']+=ne()-_0x2ec0a7,this['_numDrawCa'+'llsCulled']+=_0x1b82e4?_0x5cb87d:-0x22a6+0xe59*0x2+-0x6*-0xfe;}['collectLig'+'hts'](_0x56ac19){this['lights']['length']=0x1905+-0x26bd+0xdb8,this['localLight'+'s']['length']=0x23c6+-0x1c4b*-0x1+-0x4011;const _0x361089=this['scene']['_stats'];_0x361089['dynamicLig'+'hts']=0x1*0x1a5c+-0x3b*-0x6a+-0x32ca,_0x361089['bakedLight'+'s']=0xad9+-0x5*-0x68f+-0x85*0x54;const _0x3256ff=_0x56ac19['layerList']['length'];for(let _0x4068ff=-0x1bc0+-0x14ce+0x1*0x308e;_0x4068ff<_0x3256ff;_0x4068ff++){const _0xfa3c65=_0x56ac19['layerList'][_0x4068ff];if(!Od['has'](_0xfa3c65)){Od['add'](_0xfa3c65);const _0x3b49ef=_0xfa3c65['_lights'];for(let _0x79360c=-0x43f*-0x1+-0x123f*-0x2+-0x28bd*0x1;_0x79360c<_0x3b49ef['length'];_0x79360c++){const _0x28fcac=_0x3b49ef[_0x79360c];Fd['has'](_0x28fcac)||(Fd['add'](_0x28fcac),this['lights']['push'](_0x28fcac),_0x28fcac['_type']!==oe&&this['localLight'+'s']['push'](_0x28fcac),(_0x28fcac['mask']&hs||_0x28fcac['mask']&cr)&&_0x361089['dynamicLig'+'hts']++,_0x28fcac['mask']&rr&&_0x361089['bakedLight'+'s']++);}}}_0x361089['lights']=this['lights']['length'],Fd['clear'](),Od['clear']();}['cullLights'](_0x5cd936,_0x506c5c){const _0xe75e2c=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x23c49b=this['scene']['physicalUn'+'its'];for(let _0x27647e=0x1*-0x129e+-0x2*-0x1261+0xc*-0x183;_0x27647e<_0x506c5c['length'];_0x27647e++){const _0x5f1977=_0x506c5c[_0x27647e];if(_0x5f1977['enabled']){if(_0x5f1977['_type']!==oe){if(_0x5f1977['getBoundin'+'gSphere'](Ld),_0x5cd936['frustum']['containsSp'+'here'](Ld)){_0x5f1977['visibleThi'+'sFrame']=!(0x11cb*-0x2+0x1a84*-0x1+0x1f0d*0x2),_0x5f1977['usePhysica'+'lUnits']=_0x23c49b;const _0x3f2b80=_0x5cd936['getScreenS'+'ize'](Ld);_0x5f1977['maxScreenS'+'ize']=Math['max'](_0x5f1977['maxScreenS'+'ize'],_0x3f2b80);}else _0xe75e2c||_0x5f1977['castShadow'+'s']&&!_0x5f1977['shadowMap']&&(_0x5f1977['visibleThi'+'sFrame']=!(0x1ffa+-0x46c*0x1+-0x1b8e*0x1));}else _0x5f1977['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x74d957){const _0xb25cd9=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x18ba98=-0x86a+-0x1*-0x6f3+0x177;_0x18ba98<this['localLight'+'s']['length'];_0x18ba98++){const _0x235a0e=this['localLight'+'s'][_0x18ba98];_0x235a0e['_type']!==oe&&(_0xb25cd9?_0x235a0e['atlasSlotU'+'pdated']&&_0x235a0e['shadowUpda'+'teMode']===Ps&&(_0x235a0e['shadowUpda'+'teMode']=cn):_0x235a0e['shadowUpda'+'teMode']===Ps&&_0x235a0e['castShadow'+'s']&&(_0x235a0e['getRenderD'+'ata'](null,-0x445*0x1+-0xef*-0xe+0x1*-0x8cd)['shadowCame'+'ra']['renderTarg'+'et']||(_0x235a0e['shadowUpda'+'teMode']=cn)),_0x235a0e['visibleThi'+'sFrame']&&_0x235a0e['castShadow'+'s']&&_0x235a0e['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x235a0e,_0x74d957));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x1c11a7=_0x74d957['cameras'];for(let _0x2a4a34=-0x7*0x428+0x535*-0x1+-0x3*-0xb6f;_0x2a4a34<_0x1c11a7['length'];_0x2a4a34++){const _0x3f9dd9=_0x1c11a7[_0x2a4a34];if(_0x3f9dd9['enabled']){const _0x16a865=_0x3f9dd9['camera'];let _0x4b6010;const _0x2d4945=_0x16a865['layers'];for(let _0x51f16b=-0x246b+0x80+-0x265*-0xf;_0x51f16b<_0x2d4945['length'];_0x51f16b++){const _0x2d4715=_0x74d957['getLayerBy'+'Id'](_0x2d4945[_0x51f16b]);if(_0x2d4715){const _0x5d8d3c=_0x2d4715['splitLight'+'s'][oe];for(let _0x1a9d55=-0x7d*0x13+-0x1005+-0x4*-0x653;_0x1a9d55<_0x5d8d3c['length'];_0x1a9d55++){const _0x19feba=_0x5d8d3c[_0x1a9d55];_0x19feba['castShadow'+'s']&&!Pn['has'](_0x19feba)&&(Pn['add'](_0x19feba),_0x4b6010=_0x4b6010??[],_0x4b6010['push'](_0x19feba),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x19feba,_0x74d957,_0x16a865));}}}_0x4b6010&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x16a865,_0x4b6010),Pn['clear']();}}}['cullCompos'+'ition'](_0x21ea86){const _0x18325f=ne(),{scene:_0x2bf23f}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x1e1567=_0x21ea86['cameras']['length'];this['_camerasRe'+'ndered']+=_0x1e1567;for(let _0x2eb10c=0x2e7*-0xa+0x1d5f+-0x59;_0x2eb10c<_0x1e1567;_0x2eb10c++){const _0x45c939=_0x21ea86['cameras'][_0x2eb10c];_0x2bf23f==null||_0x2bf23f['fire'](ow,_0x45c939);const _0x18eca0=_0x45c939['renderTarg'+'et'];_0x45c939['frameUpdat'+'e'](_0x18eca0),this['updateCame'+'raFrustum'](_0x45c939['camera']);const _0x24e328=_0x45c939['layers'];for(let _0xd91bea=-0x11b2+-0x66c+-0x7*-0x372;_0xd91bea<_0x24e328['length'];_0xd91bea++){const _0x342505=_0x21ea86['getLayerBy'+'Id'](_0x24e328[_0xd91bea]);if(_0x342505&&_0x342505['enabled']){this['cullLights'](_0x45c939['camera'],_0x342505['_lights']);const _0x505fde=_0x342505['getCulledI'+'nstances'](_0x45c939['camera']);this['cull'](_0x45c939['camera'],_0x342505['meshInstan'+'ces'],_0x505fde);}}_0x2bf23f==null||_0x2bf23f['fire'](lw,_0x45c939);}_0x2bf23f['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x21ea86),this['_cullTime']+=ne()-_0x18325f;}['updateShad'+'ers'](_0x16fc22,_0x3b97a4){const _0x124d60=_0x16fc22['length'];for(let _0x152d4a=-0x10cb+0x198c+-0x8c1;_0x152d4a<_0x124d60;_0x152d4a++){const _0x4f0a29=_0x16fc22[_0x152d4a]['material'];if(_0x4f0a29&&!Pn['has'](_0x4f0a29)&&(Pn['add'](_0x4f0a29),_0x4f0a29['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant'])){if(_0x3b97a4&&(!_0x4f0a29['useLightin'+'g']||_0x4f0a29['emitter']&&!_0x4f0a29['emitter']['lighting']))continue;_0x4f0a29['clearVaria'+'nts']();}}Pn['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](hM(this['device']));}['beginFrame'](_0x5c080a){const _0x2909a3=this['scene'],_0x3c9901=_0x2909a3['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x264c7a=0x189*-0xb+0x1*-0x1d63+0x2*0x1723;const _0xc5b165=_0x5c080a['layerList'],_0x305578=_0xc5b165['length'];for(let _0x5084f9=-0x33*0x25+-0x2467+0x2bc6;_0x5084f9<_0x305578;_0x5084f9++){const _0x268184=_0xc5b165[_0x5084f9]['meshInstan'+'ces'],_0x3559b4=_0x268184['length'];_0x264c7a+=_0x3559b4;for(let _0x3e8bc8=0x12*-0x129+0x19d+0x1345;_0x3e8bc8<_0x3559b4;_0x3e8bc8++){const _0x4859ac=_0x268184[_0x3e8bc8];_0x4859ac['visibleThi'+'sFrame']=!(0x431*-0x8+-0x1bda+-0x8c5*-0x7),_0x3c9901&&Bd['push'](_0x4859ac),_0x4859ac['skinInstan'+'ce']&&Nd['push'](_0x4859ac);}}if(_0x2909a3['_stats']['meshInstan'+'ces']=_0x264c7a,_0x3c9901){const _0x33bf02=!_0x2909a3['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Bd,_0x33bf02),_0x2909a3['updateShad'+'ers']=!(-0x1*0xd03+0x82d+0x4d7),this['device']['_shadersDi'+'rty']=!(-0x191+-0x11*-0x7f+-0x6dd),_0x2909a3['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Nd),Bd['length']=0xb6f+0x1a42+-0x1*0x25b1,Nd['length']=-0x89*-0x22+0x4a7*-0x3+-0x43d;const _0x1316b6=this['lights'],_0xbbeabc=_0x1316b6['length'];for(let _0x428939=0x2a2+0x149f+-0x1741;_0x428939<_0xbbeabc;_0x428939++)_0x1316b6[_0x428939]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x1dc81b){const _0x3794e4=ne(),_0x53fc8f=_0x1dc81b['layerList']['length'],_0x1ec3d0=this['scene']['_shaderVer'+'sion'];for(let _0x3631a0=-0x6a3+-0x1081*-0x2+-0x1a5f;_0x3631a0<_0x53fc8f;_0x3631a0++){const _0x5afe82=_0x1dc81b['layerList'][_0x3631a0];_0x5afe82['_shaderVer'+'sion']=_0x1ec3d0,_0x5afe82['_skipRende'+'rCounter']=0x739*0x1+-0x1028+-0x1*-0x8ef,_0x5afe82['_forwardDr'+'awCalls']=0x1*0x22b6+0x1*-0x202f+-0x287,_0x5afe82['_shadowDra'+'wCalls']=0x1*-0x1c33+0xd3c+0xef7,_0x5afe82['_renderTim'+'e']=-0x22fe+-0x2*0x1285+0x39a*0x14;}_0x1dc81b['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ne()-_0x3794e4;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x732+0x6*-0x373+0x1be5),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class D0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x151*0xb+-0xa08+0x1884),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x49*0x67+0x24c8+-0x768*0x1),this['clearDepth']=!(-0x1*-0x1413+-0x12b9*-0x2+-0xc*0x4cb),this['clearStenc'+'il']=!(0x1500+-0x70d+-0xdf2),this['triggerPos'+'tprocess']=!(0x1e5a*-0x1+-0x2568+0xb*0x629),this['firstCamer'+'aUse']=!(-0x4f1*-0x5+0x422*-0x1+-0x1492),this['lastCamera'+'Use']=!(-0x42*0x66+-0x3*0x1f6+0x7*0x499),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x95*-0x1+0x7*-0x30d+0x14c7));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x6f99f5=>{_0x6f99f5['defaultUni'+'formBuffer']['destroy'](),_0x6f99f5['destroy']();}),this['viewBindGr'+'oups']['length']=0x1b1*-0x2+-0x13d*0x11+-0x825*-0x3;}['setupClear'+'s'](_0x54481a,_0x131b4f){this['clearColor']=(_0x54481a==null?void(-0x1aa1+-0x7bf*0x1+0x2260):_0x54481a['clearColor'+'Buffer'])||_0x131b4f['clearColor'+'Buffer'],this['clearDepth']=(_0x54481a==null?void(0x18d8+-0x135*0x17+0x53*0x9):_0x54481a['clearDepth'+'Buffer'])||_0x131b4f['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x54481a==null?void(-0x1414+-0x18af+0x2cc3):_0x54481a['clearStenc'+'ilBuffer'])||_0x131b4f['clearStenc'+'ilBuffer'];}}class LM extends ds{constructor(_0x256eaa,_0xd596e2,_0x47f61c,_0x108d6a){super(_0x256eaa),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(-0x1*-0x6b6+0xb04+-0x11b9)),(this['layerCompo'+'sition']=_0xd596e2,this['scene']=_0x47f61c,this['renderer']=_0x108d6a);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x85b+-0x1ce8+0x1*0x148d;}['addRenderA'+'ction'](_0x2dad91){this['renderActi'+'ons']['push'](_0x2dad91);}['addLayer'](_0x340666,_0x1fa054,_0x94f8f8,_0x1ca96c=!(-0x15cd+-0x1*-0x1d71+-0x146*0x6)){v['assert'](_0x340666),v['assert'](this['renderTarg'+'et']!==void(-0xf*0x1de+-0xa7*0x2d+0x395d),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),v['assert'](_0x340666['camera']['layersSet']['has'](_0x1fa054['id']),'Camera\x20'+_0x340666['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x1fa054['name']+'.');const _0x34efcf=new D0();if(_0x34efcf['renderTarg'+'et']=this['renderTarg'+'et'],_0x34efcf['camera']=_0x340666,_0x34efcf['layer']=_0x1fa054,_0x34efcf['transparen'+'t']=_0x94f8f8,_0x1ca96c){const _0x559ef1=this['renderActi'+'ons']['length']===0xb*-0x1e2+-0x23b*0xf+0x362b*0x1;_0x34efcf['setupClear'+'s'](_0x559ef1?_0x340666:void(-0x6*-0x41b+0x22a2+-0x3b44*0x1),_0x1fa054);}this['addRenderA'+'ction'](_0x34efcf);}['addLayers'](_0x31262e,_0x6741fe,_0x5f3b68,_0x1d08fe,_0x212600,_0x4810b5=!(0x17f8+0x4*0x96d+0x1ed6*-0x2)){const {layerList:_0x3c1e83,subLayerList:_0x2dbd55}=_0x31262e;let _0x1e1498=_0x1d08fe,_0x13333e=_0x5f3b68;for(;_0x13333e<_0x3c1e83['length'];){const _0x5498a2=_0x3c1e83[_0x13333e],_0x19eadd=_0x2dbd55[_0x13333e];if(_0x6741fe['camera']['layersSet']['has'](_0x5498a2['id'])&&(this['addLayer'](_0x6741fe,_0x5498a2,_0x19eadd,_0x1e1498),_0x1e1498=!(0xdb9*-0x2+0x1a34+0xb*0x1d)),_0x13333e++,_0x5498a2['id']===_0x212600&&_0x19eadd===_0x4810b5)break;}return _0x13333e;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x5ed7da,renderActions:_0x1dc8e0}=this;for(let _0x2c60f8=0x2*-0xb3a+0xffe+0x2*0x33b;_0x2c60f8<_0x1dc8e0['length'];_0x2c60f8++){const _0x3f3de2=_0x1dc8e0[_0x2c60f8]['camera']['camera'],_0x5d703f=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x3f3de2);if(_0x5d703f)for(let _0x1d08a6=0x2157+0xba7+0x1*-0x2cfe;_0x1d08a6<_0x5d703f['length'];_0x1d08a6++){const _0x79edb6=_0x5d703f[_0x1d08a6];if(_0x5ed7da['dirLightSh'+'adows']['get'](_0x79edb6)!==_0x3f3de2){_0x5ed7da['dirLightSh'+'adows']['set'](_0x79edb6,_0x3f3de2);const _0x495214=_0x5ed7da['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x79edb6,_0x3f3de2);_0x495214&&this['beforePass'+'es']['push'](_0x495214);}}}}['updateClea'+'rs'](){const _0x4f4475=this['renderActi'+'ons'][0x2511+0x6c2+0x1*-0x2bd3];if(_0x4f4475){const _0x323c99=_0x4f4475['camera']['camera'],_0x489cd5=_0x323c99['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x489cd5&&_0x4f4475['clearColor']?_0x323c99['clearColor']:void(0x28*0xd5+-0x19d5+-0x773)),this['setClearDe'+'pth'](_0x489cd5&&_0x4f4475['clearDepth']&&!this['noDepthCle'+'ar']?_0x323c99['clearDepth']:void(0x19a0*-0x1+-0x57a*-0x4+0x1*0x3b8)),this['setClearSt'+'encil'](_0x489cd5&&_0x4f4475['clearStenc'+'il']?_0x323c99['clearStenc'+'il']:void(0x1*-0x2336+-0x1*0xb80+-0x3*-0xf92));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x129628}=this;for(let _0x4868a6=0x1ad2+0x5*-0x5df+0x1*0x289;_0x4868a6<_0x129628['length'];_0x4868a6++){const _0x1494cb=_0x129628[_0x4868a6];_0x1494cb['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x1494cb['camera']);}}['execute'](){const {layerComposition:_0x3eef29,renderActions:_0x36f5f5}=this;for(let _0x1fcedb=-0x17a3+-0xf5e+-0x2701*-0x1;_0x1fcedb<_0x36f5f5['length'];_0x1fcedb++){const _0x5c7949=_0x36f5f5[_0x1fcedb],_0x1273ce=_0x5c7949['layer'];v['call'](()=>{_0x3eef29['getLayerBy'+'Name'](_0x1273ce['name'])||v['warnOnce']('Layer\x20'+_0x1273ce['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x3eef29['isEnabled'](_0x1273ce,_0x5c7949['transparen'+'t'])&&this['renderRend'+'erAction'](_0x5c7949,_0x1fcedb===0x469*-0x7+0x19d8+0x507);}}['after'](){for(let _0x168150=-0x2*0x6d3+-0x6be+0x105*0x14;_0x168150<this['renderActi'+'ons']['length'];_0x168150++){const _0x3eb0ec=this['renderActi'+'ons'][_0x168150];_0x3eb0ec['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x3eb0ec['camera']);}this['beforePass'+'es']['length']=-0x2374+-0x3*0x853+-0x1f*-0x1f3;}['renderRend'+'erAction'](_0x3b6755,_0x4d3311){var _0x3a0f1d;const {renderer:_0x62844c,scene:_0x2fd56d}=this,_0x7bfa60=_0x62844c['device'],{layer:_0x27d357,transparent:_0xbed648,camera:_0x53d91c}=_0x3b6755;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x53d91c?_0x53d91c['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x27d357['name']+'('+(_0xbed648?'TRANSP':'OPAQUE')+')');const _0x3a64f0=ne();if(_0x53d91c){const _0x475d2f=_0x53d91c['gammaCorre'+'ction'],_0x524c66=_0x53d91c['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x1c38+0x22c4+-0x2*0x346)&&(_0x53d91c['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0x204e+-0x240a+-0x4*-0xef)&&(_0x53d91c['toneMappin'+'g']=this['toneMappin'+'g']),_0x2fd56d['fire'](nw,_0x53d91c,_0x27d357,_0xbed648);const _0x3e10f4={'lightClusters':_0x3b6755['lightClust'+'ers']},_0x22f568=((_0x3a0f1d=_0x53d91c['camera']['shaderPass'+'Info'])==null?void(0x2db*0x7+0x316*-0xb+0xdf5*0x1):_0x3a0f1d['index'])??gn;(!_0x4d3311||!_0x53d91c['camera']['fullSizeCl'+'earRect'])&&(_0x3e10f4['clearColor']=_0x3b6755['clearColor'],_0x3e10f4['clearDepth']=_0x3b6755['clearDepth'],_0x3e10f4['clearStenc'+'il']=_0x3b6755['clearStenc'+'il']);const _0x40a933=_0x3b6755['renderTarg'+'et']??_0x7bfa60['backBuffer'];_0x62844c['renderForw'+'ardLayer'](_0x53d91c['camera'],_0x40a933,_0x27d357,_0xbed648,_0x22f568,_0x3b6755['viewBindGr'+'oups'],_0x3e10f4),_0x7bfa60['setBlendSt'+'ate'](_t['NOBLEND']),_0x7bfa60['setStencil'+'State'](null,null),_0x7bfa60['setAlphaTo'+'Coverage'](!(-0x589*-0x6+-0xec8+-0x126d)),_0x2fd56d['fire'](aw,_0x53d91c,_0x27d357,_0xbed648),this['gammaCorre'+'ction']!==void(-0xd*0x296+-0x1*0x99f+0x2b3d*0x1)&&(_0x53d91c['gammaCorre'+'ction']=_0x475d2f),this['toneMappin'+'g']!==void(0x1*-0x1b6b+-0x650+0x21bb)&&(_0x53d91c['toneMappin'+'g']=_0x524c66);}G['popGpuMark'+'er'](this['device']),_0x27d357['_renderTim'+'e']+=ne()-_0x3a64f0;}['log'](_0x18709f,_0x39d45d){if(super['log'](_0x18709f,_0x39d45d),Xs['get'](Jn)){const {layerComposition:_0x471f3c}=this;this['renderActi'+'ons']['forEach']((_0x2eb306,_0x355101)=>{const _0x24c1d7=_0x2eb306['layer'],_0x517937=_0x24c1d7['enabled']&&_0x471f3c['isEnabled'](_0x24c1d7,_0x2eb306['transparen'+'t']),_0x651ffc=_0x2eb306['camera'];v['trace'](Jn,'\x20\x20\x20\x20'+_0x355101+':'+('\x20Cam:\x20'+(_0x651ffc?_0x651ffc['entity']['name']:'-'))['padEnd'](0x3*0x70a+0xfce+-0x24d6,'\x20')+('\x20Lay:\x20'+_0x24c1d7['name'])['padEnd'](0x2*-0x22d+0x106b+0xbfb*-0x1,'\x20')+(_0x2eb306['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x517937?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x24c1d7['meshInstan'+'ces']['length'])['padEnd'](-0x265d+0x2*-0xcfe+0x405e,'\x20'));});}}}class FM extends ds{constructor(_0x371060,_0x40e274,_0x591229){super(_0x371060),this['renderer']=_0x40e274,this['renderActi'+'on']=_0x591229,this['requiresCu'+'bemaps']=!(-0x4f0+-0x6f7+-0x5f4*-0x2);}['execute'](){const _0x207b52=this['renderActi'+'on'],_0x450bf5=_0x207b52['camera'];v['assert'](_0x207b52['triggerPos'+'tprocess']&&_0x450bf5['onPostproc'+'essing']),_0x450bf5['onPostproc'+'essing']();}}const OM=[[],[],[]],$i=new Y(),br={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x236c+-0xf0b+-0x1461,this['shaderInst'+'ances']['length']=-0x1170+0xc7c*0x1+0x27a*0x2,this['isNewMater'+'ial']['length']=0x168c+0x23c4+0x18*-0x26e,this['lightMaskC'+'hanged']['length']=0x6*-0x31d+0x1*0x1faf+0x1*-0xd01;}};function kM(_0x42a489){const _0x34c25d=[];for(let _0xa8c027=-0x21d5+-0x8*0x74+-0x2b*-0xdf;_0xa8c027<_0x42a489;++_0xa8c027){const _0x3aeb3e=Math['sqrt'](_0xa8c027+(0x1*0x55b+-0x7*-0x4a2+-0x25c9+0.5))/Math['sqrt'](_0x42a489);_0x34c25d['push'](_0x3aeb3e);}return _0x34c25d;}function BM(_0x1c682d){const _0x20746d=[];for(let _0x30a959=-0x3*0x8e1+-0x1d*0x148+0x3fcb;_0x30a959<_0x1c682d;_0x30a959++){const _0xec21af=_0x30a959/_0x1c682d,_0x224599=Math['sqrt'](_0xec21af*_0xec21af);_0x20746d['push'](_0x224599);}return _0x20746d;}const _i=class _i extends DM{constructor(_0x59473a){super(_0x59473a);const _0x558b84=this['device'];this['_forwardDr'+'awCalls']=-0x2b1*-0xb+0x20e*0xb+0x5*-0xa71,this['_materialS'+'witches']=0x3*-0x237+0x2319+0xc*-0x25f,this['_depthMapT'+'ime']=-0x20c1+0x17*0xbb+0x1*0xff4,this['_forwardTi'+'me']=0x1d4+-0xe2+-0xf2,this['_sortTime']=-0x4b*0x3f+-0x7d5+0x1a4a;const _0x1b3c09=_0x558b84['scope'];this['fogColorId']=_0x1b3c09['resolve']('fog_color'),this['fogStartId']=_0x1b3c09['resolve']('fog_start'),this['fogEndId']=_0x1b3c09['resolve']('fog_end'),this['fogDensity'+'Id']=_0x1b3c09['resolve']('fog_densit'+'y'),this['ambientId']=_0x1b3c09['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x1b3c09['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x1b3c09['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x1b3c09['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x1b3c09['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x1b3c09['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x1e9b*0x1+-0x2*0x9d6+-0xaeb),this['fogColor']=new Float32Array(-0x19c4+-0x11fc+-0x11*-0x293),this['ambientCol'+'or']=new Float32Array(-0x237f+-0x6d3+0x2a55),this['pcssDiskSa'+'mples']=kM(-0x266f*0x1+0x26f9+0x3d*-0x2),this['pcssSphere'+'Samples']=BM(0x1c*0x107+-0x2ff+0x1*-0x19b5);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x3243b6){const _0x5697c1=this['ambientCol'+'or'];if($i['linear'](_0x3243b6['ambientLig'+'ht']),_0x5697c1[0xbbd+0x1631+-0x21ee]=$i['r'],_0x5697c1[0xb6+0xb32+-0xbe7]=$i['g'],_0x5697c1[-0x541+-0x17b5+-0x24*-0xce]=$i['b'],_0x3243b6['physicalUn'+'its']){for(let _0x32aa06=-0x259f*-0x1+0x3*0xb35+-0x473e;_0x32aa06<0x1b5c+-0x135e+-0x7fb;_0x32aa06++)_0x5697c1[_0x32aa06]*=_0x3243b6['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x5697c1),this['skyboxInte'+'nsityId']['setValue'](_0x3243b6['physicalUn'+'its']?_0x3243b6['skyboxLumi'+'nance']:_0x3243b6['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x3243b6['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x461b07,_0x5f34a9){const _0x2fcbea='light'+_0x5f34a9;this['lightColor'+'Id'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_color'),this['lightDir'][_0x5f34a9]=new Float32Array(-0x1*0x7fb+-0xb42+0x8*0x268),this['lightDirId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_direction'),this['lightShado'+'wMapId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_radius'),this['lightPos'][_0x5f34a9]=new Float32Array(-0x2483+-0x1eff+0x4385),this['lightPosId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_position'),this['lightWidth'][_0x5f34a9]=new Float32Array(0x18b+0x1*0x1291+-0x69*0x31),this['lightWidth'+'Id'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_halfWidth'),this['lightHeigh'+'t'][_0x5f34a9]=new Float32Array(-0x2455+0x1*0x1977+-0x5*-0x22d),this['lightHeigh'+'tId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+'_cookie'),this['lightCooki'+'eIntId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x5f34a9]=_0x461b07['resolve'](_0x2fcbea+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x4d043e,_0x1f6bf1,_0x53b80b,_0x1ec902,_0x129efe){this['lightPos'][_0x1f6bf1][-0x1*-0x271+0x1c*-0x83+0xbe3]=_0x1ec902['x']-_0x53b80b['x']*_0x129efe,this['lightPos'][_0x1f6bf1][-0x166f+0x22ed+-0xc7d]=_0x1ec902['y']-_0x53b80b['y']*_0x129efe,this['lightPos'][_0x1f6bf1][-0x18c6+0xac3+0xe05]=_0x1ec902['z']-_0x53b80b['z']*_0x129efe,this['lightPosId'][_0x1f6bf1]['setValue'](this['lightPos'][_0x1f6bf1]);const _0x6efba9=_0x4d043e['transformV'+'ector'](new T(-(-0x1fed+0x168d+0x4b0*0x2+0.5),0x1b0d+-0x1*-0x9eb+-0x93e*0x4,-0xb71+0x4a*-0x76+0x2d8d));this['lightWidth'][_0x1f6bf1][0x1d7c+0x186f+-0x35eb]=_0x6efba9['x']*_0x129efe,this['lightWidth'][_0x1f6bf1][-0x218c*-0x1+0x1*0xe49+-0x2fd4]=_0x6efba9['y']*_0x129efe,this['lightWidth'][_0x1f6bf1][-0x846+-0x21a6+0x6*0x6fd]=_0x6efba9['z']*_0x129efe,this['lightWidth'+'Id'][_0x1f6bf1]['setValue'](this['lightWidth'][_0x1f6bf1]);const _0x4cce4f=_0x4d043e['transformV'+'ector'](new T(0x9eb+0x184*-0x2+0x1*-0x6e3,0xa2*-0x37+-0x1*-0x218c+0x142,-0x17d*-0x10+0xaf7+-0x133*0x1d+0.5));this['lightHeigh'+'t'][_0x1f6bf1][0x1*0x2a5+0xa96+-0x469*0x3]=_0x4cce4f['x']*_0x129efe,this['lightHeigh'+'t'][_0x1f6bf1][0xcc4*0x2+0x11dc+-0x1*0x2b63]=_0x4cce4f['y']*_0x129efe,this['lightHeigh'+'t'][_0x1f6bf1][-0x72e*0x5+-0x2586+-0x6*-0xc3d]=_0x4cce4f['z']*_0x129efe,this['lightHeigh'+'tId'][_0x1f6bf1]['setValue'](this['lightHeigh'+'t'][_0x1f6bf1]);}['dispatchDi'+'rectLights'](_0x2c2e24,_0x521d4b,_0x5aba54){let _0x4d648c=0x1b*-0xa6+0x7*0x9b+-0x1*-0xd45;const _0x5c84aa=this['device']['scope'];for(let _0x5cb655=-0x1a71*-0x1+0x4*-0x95+0x1*-0x181d;_0x5cb655<_0x2c2e24['length'];_0x5cb655++){if(!(_0x2c2e24[_0x5cb655]['mask']&_0x521d4b))continue;const _0x54635d=_0x2c2e24[_0x5cb655],_0x5e607c=_0x54635d['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4d648c]||this['_resolveLi'+'ght'](_0x5c84aa,_0x4d648c),this['lightColor'+'Id'][_0x4d648c]['setValue'](_0x54635d['_colorLine'+'ar']),_0x5e607c['getY'](_0x54635d['_direction'])['mulScalar'](-(-0x2e9+-0x1be*0xa+0x89*0x26)),_0x54635d['_direction']['normalize'](),this['lightDir'][_0x4d648c][-0x10ea+0xbf*-0x19+0x2391]=_0x54635d['_direction']['x'],this['lightDir'][_0x4d648c][-0xe*0x260+0x541*-0x1+-0x3*-0xcd6]=_0x54635d['_direction']['y'],this['lightDir'][_0x4d648c][-0x59*0x4d+-0x1*0x789+0x2250]=_0x54635d['_direction']['z'],this['lightDirId'][_0x4d648c]['setValue'](this['lightDir'][_0x4d648c]),_0x54635d['shape']!==yt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x5e607c,_0x4d648c,_0x54635d['_direction'],_0x5aba54['_node']['getPositio'+'n'](),_0x5aba54['farClip']),_0x54635d['castShadow'+'s']){const _0x3f892c=_0x54635d['getRenderD'+'ata'](_0x5aba54,0xe8e+-0x11*0x195+-0xc57*-0x1),_0x45d8f2=_0x54635d['_getUnifor'+'mBiasValue'+'s'](_0x3f892c);this['lightShado'+'wMapId'][_0x4d648c]['setValue'](_0x3f892c['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4d648c]['setValue'](_0x3f892c['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x4d648c]['setValue'](_0x54635d['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x4d648c]['setValue'](_0x54635d['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x4d648c]['setValue'](_0x54635d['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x4d648c]['setValue'](-0xa45*-0x2+0x22*0xfd+0x1*-0x3623-_0x54635d['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x4d648c]['setValue'](_0x54635d['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x4d648c]['setValue'](_0x54635d['_softShado'+'wParams']),_0x3f892c['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x4d648c]['setValue'](_0x54635d['penumbraSi'+'ze']/_0x3f892c['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x3f892c['projection'+'Compensati'+'on']);const _0x2acc15=_0x54635d['_shadowCam'+'eraParams'];_0x2acc15['length']=-0x75a+-0x1*-0xb89+0x61*-0xb,_0x2acc15[-0x16a8+0x15be+-0x12*-0xd]=0x2d8+-0x16de+0x1406,_0x2acc15[-0x5*-0x515+0x2367+0x1445*-0x3]=_0x3f892c['shadowCame'+'ra']['_farClip'],_0x2acc15[-0x103f*0x1+0x2305*0x1+-0x4b1*0x4]=_0x3f892c['shadowCame'+'ra']['_nearClip'],_0x2acc15[0x5dc+0x26+-0x5ff]=-0x1640+0x3*-0xcf0+-0xc1*-0x51,this['lightCamer'+'aParamsId'][_0x4d648c]['setValue'](_0x2acc15);const _0x38174d=_0x54635d['_shadowRen'+'derParams'];_0x38174d['length']=0x2ce*-0xa+0xe1e+-0x6f9*-0x2,_0x38174d[0x33*-0x26+-0x1*-0x1cc9+-0x1537]=_0x54635d['_shadowRes'+'olution'],_0x38174d[-0x212d+-0x1d2*0x2+0x24d2]=_0x45d8f2['normalBias'],_0x38174d[0x2334+0x2309+0x1*-0x463b]=_0x45d8f2['bias'],_0x38174d[0x1*-0x483+0x9*0x391+0x1b93*-0x1]=-0xdd*-0x29+0xe18+-0x135*0x29,this['lightShado'+'wParamsId'][_0x4d648c]['setValue'](_0x38174d);}_0x4d648c++;}return _0x4d648c;}['setLTCPosi'+'tionalLigh'+'t'](_0x119960,_0x1c2034){const _0x1e9f38=_0x119960['transformV'+'ector'](new T(-(0x14f3*0x1+-0x1826+-0xd*-0x3f+0.5),0x161a*-0x1+0x1746*0x1+-0x12c,0x26a6*0x1+0x1ddb*-0x1+-0x8cb));this['lightWidth'][_0x1c2034][0x31*0x3b+0x18e1*0x1+-0x5*0x73c]=_0x1e9f38['x'],this['lightWidth'][_0x1c2034][-0x3bb+0x45d*-0x6+-0xef5*-0x2]=_0x1e9f38['y'],this['lightWidth'][_0x1c2034][-0x2b*0xcb+-0x15d*-0x13+0x15e*0x6]=_0x1e9f38['z'],this['lightWidth'+'Id'][_0x1c2034]['setValue'](this['lightWidth'][_0x1c2034]);const _0x471214=_0x119960['transformV'+'ector'](new T(0xdf8+0x15b7+-0x23af,0x6f1+0xa75*-0x1+0x12c*0x3,0x5*-0x4c1+0x4*-0x6c0+0x32c5*0x1+0.5));this['lightHeigh'+'t'][_0x1c2034][-0x121d+0xda2*0x1+-0x1*-0x47b]=_0x471214['x'],this['lightHeigh'+'t'][_0x1c2034][0x185*0x1+-0x3*-0x513+-0x5*0x359]=_0x471214['y'],this['lightHeigh'+'t'][_0x1c2034][0x8*0x1e3+-0x24d2+0x15bc]=_0x471214['z'],this['lightHeigh'+'tId'][_0x1c2034]['setValue'](this['lightHeigh'+'t'][_0x1c2034]);}['dispatchOm'+'niLight'](_0x25f4a1,_0x1f0fc3,_0x1a60fd){const _0x50dfaf=_0x1f0fc3['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x1a60fd]||this['_resolveLi'+'ght'](_0x25f4a1,_0x1a60fd),this['lightRadiu'+'sId'][_0x1a60fd]['setValue'](_0x1f0fc3['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x1a60fd]['setValue'](_0x1f0fc3['_colorLine'+'ar']),_0x50dfaf['getTransla'+'tion'](_0x1f0fc3['_position']),this['lightPos'][_0x1a60fd][0x899+0x618+0xeb1*-0x1]=_0x1f0fc3['_position']['x'],this['lightPos'][_0x1a60fd][-0x89f+0x25b4+-0x1d14]=_0x1f0fc3['_position']['y'],this['lightPos'][_0x1a60fd][-0x25*0x74+0x231c+-0x1256]=_0x1f0fc3['_position']['z'],this['lightPosId'][_0x1a60fd]['setValue'](this['lightPos'][_0x1a60fd]),_0x1f0fc3['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x50dfaf,_0x1a60fd),_0x1f0fc3['castShadow'+'s']){const _0x37c67b=_0x1f0fc3['getRenderD'+'ata'](null,0x92d*0x3+-0x1bd7+0x50);this['lightShado'+'wMapId'][_0x1a60fd]['setValue'](_0x37c67b['shadowBuff'+'er']);const _0x453632=_0x1f0fc3['_getUnifor'+'mBiasValue'+'s'](_0x37c67b),_0x461f38=_0x1f0fc3['_shadowRen'+'derParams'];_0x461f38['length']=-0x135*0x11+0x6f0+-0x3b*-0x3b,_0x461f38[-0x20*0x91+-0x22e0+0x3500]=_0x1f0fc3['_shadowRes'+'olution'],_0x461f38[0x8*0x29+0x2*0xdf6+-0x1d33]=_0x453632['normalBias'],_0x461f38[-0x22f7+0xcd+-0x12*-0x1e6]=_0x453632['bias'],_0x461f38[0x89b+0xa9*0x1b+-0x1*0x1a6b]=(0x1*0x321+0xa1f+-0xd3f)/_0x1f0fc3['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x1a60fd]['setValue'](_0x461f38),this['lightShado'+'wIntensity'][_0x1a60fd]['setValue'](_0x1f0fc3['shadowInte'+'nsity']);const _0x47cf36=_0x1f0fc3['penumbraSi'+'ze']/_0x37c67b['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x1a60fd]['setValue'](_0x47cf36);const _0x10b683=_0x1f0fc3['_shadowCam'+'eraParams'];_0x10b683['length']=0x1*0x266+0xc*-0x198+0x10be,_0x10b683[0x1*-0x1709+-0xba0+0x1*0x22a9]=-0x142*0x13+-0x2376+0x3b5c,_0x10b683[0x4c7*0x6+-0x26*-0x75+-0x2e07]=_0x37c67b['shadowCame'+'ra']['_farClip'],_0x10b683[0xdd9+-0x71*0xc+-0x88b]=_0x37c67b['shadowCame'+'ra']['_nearClip'],_0x10b683[0x33*0x15+0x70c*0x5+0x13b4*-0x2]=0x1838+0x1f*-0x12d+0xc3b,this['lightCamer'+'aParamsId'][_0x1a60fd]['setValue'](_0x10b683);}_0x1f0fc3['_cookie']&&(this['lightCooki'+'eId'][_0x1a60fd]['setValue'](_0x1f0fc3['_cookie']),this['lightShado'+'wMatrixId'][_0x1a60fd]['setValue'](_0x50dfaf['data']),this['lightCooki'+'eIntId'][_0x1a60fd]['setValue'](_0x1f0fc3['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x4a2271,_0x282237,_0x3f0719){const _0x940ee9=_0x282237['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x3f0719]||this['_resolveLi'+'ght'](_0x4a2271,_0x3f0719),this['lightInAng'+'leId'][_0x3f0719]['setValue'](_0x282237['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x3f0719]['setValue'](_0x282237['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x3f0719]['setValue'](_0x282237['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x3f0719]['setValue'](_0x282237['_colorLine'+'ar']),_0x940ee9['getTransla'+'tion'](_0x282237['_position']),this['lightPos'][_0x3f0719][-0x23*0x9+0x20db+-0x1fa0]=_0x282237['_position']['x'],this['lightPos'][_0x3f0719][-0x1a4f+-0x179*-0x8+0xe88]=_0x282237['_position']['y'],this['lightPos'][_0x3f0719][0xc19*0x3+-0x205*-0x11+-0x2*0x234f]=_0x282237['_position']['z'],this['lightPosId'][_0x3f0719]['setValue'](this['lightPos'][_0x3f0719]),_0x282237['shape']!==yt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x940ee9,_0x3f0719),_0x940ee9['getY'](_0x282237['_direction'])['mulScalar'](-(0x1*0x1139+0x2*-0xd7+-0xf8a)),_0x282237['_direction']['normalize'](),this['lightDir'][_0x3f0719][0x709*0x1+0x1428+-0x1b31]=_0x282237['_direction']['x'],this['lightDir'][_0x3f0719][-0xf5e*-0x1+-0xc6c+-0x2f1*0x1]=_0x282237['_direction']['y'],this['lightDir'][_0x3f0719][0x42d+0x3e1*0x1+-0xa*0xce]=_0x282237['_direction']['z'],this['lightDirId'][_0x3f0719]['setValue'](this['lightDir'][_0x3f0719]),_0x282237['castShadow'+'s']){const _0x43529f=_0x282237['getRenderD'+'ata'](null,-0x1545+-0x1*0x10de+0x2623);this['lightShado'+'wMapId'][_0x3f0719]['setValue'](_0x43529f['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x3f0719]['setValue'](_0x43529f['shadowMatr'+'ix']['data']);const _0x37a829=_0x282237['_getUnifor'+'mBiasValue'+'s'](_0x43529f),_0x4b540a=_0x282237['_shadowRen'+'derParams'];_0x4b540a['length']=-0x1*-0x601+-0x1909+0x130c,_0x4b540a[0x218+-0x49*-0x4d+-0x180d]=_0x282237['_shadowRes'+'olution'],_0x4b540a[-0x2039+0x351*0x8+0x12*0x51]=_0x37a829['normalBias'],_0x4b540a[0x81+0x1690+-0x170f]=_0x37a829['bias'],_0x4b540a[0x26e5+0x11*-0xd9+0x1*-0x1879]=(0x692+0x2*-0x382+0x73)/_0x282237['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x3f0719]['setValue'](_0x4b540a),this['lightShado'+'wIntensity'][_0x3f0719]['setValue'](_0x282237['shadowInte'+'nsity']);const _0x23f6c5=_0x282237['penumbraSi'+'ze']/_0x43529f['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x80acaf=_0x43529f['shadowCame'+'ra']['_fov']*Math['PI']/(0x9b5+-0x3b8*-0x5+-0x1b99),_0x5a2d44=(0x11*-0x49+-0x277*0xf+0x29d3)/Math['tan'](_0x80acaf/(0x1005+-0xd8b*0x2+-0x13b*-0x9));this['lightShado'+'wSearchAre'+'aId'][_0x3f0719]['setValue'](_0x23f6c5*_0x5a2d44);const _0x4e71a2=_0x282237['_shadowCam'+'eraParams'];_0x4e71a2['length']=0x5*-0xb5+-0x471+-0x1*-0x7fe,_0x4e71a2[0x642+-0x169+-0x4d9*0x1]=0x6*0x354+-0x1fd9+0xbe1,_0x4e71a2[-0x1b9d+0xd6c+0xe32]=_0x43529f['shadowCame'+'ra']['_farClip'],_0x4e71a2[0x1147*0x1+-0x15f2+-0x3*-0x18f]=_0x43529f['shadowCame'+'ra']['_nearClip'],_0x4e71a2[0x5af+0x258+0x4*-0x201]=0x3*0xaaa+-0x6*0xfc+-0x1a16,this['lightCamer'+'aParamsId'][_0x3f0719]['setValue'](_0x4e71a2);}if(_0x282237['_cookie']){if(!_0x282237['castShadow'+'s']){const _0x412d52=Ma['evalSpotCo'+'okieMatrix'](_0x282237);this['lightShado'+'wMatrixId'][_0x3f0719]['setValue'](_0x412d52['data']);}this['lightCooki'+'eId'][_0x3f0719]['setValue'](_0x282237['_cookie']),this['lightCooki'+'eIntId'][_0x3f0719]['setValue'](_0x282237['cookieInte'+'nsity']),_0x282237['_cookieTra'+'nsform']&&(_0x282237['_cookieTra'+'nsformUnif'+'orm'][0x7*0x3ec+-0x5d8+-0x567*0x4]=_0x282237['_cookieTra'+'nsform']['x'],_0x282237['_cookieTra'+'nsformUnif'+'orm'][0x2476+0xe67*-0x1+-0x160e]=_0x282237['_cookieTra'+'nsform']['y'],_0x282237['_cookieTra'+'nsformUnif'+'orm'][-0x1066*-0x2+-0x3a9*-0x5+-0x3317]=_0x282237['_cookieTra'+'nsform']['z'],_0x282237['_cookieTra'+'nsformUnif'+'orm'][-0x9c6+-0x4*0x129+0x4cf*0x3]=_0x282237['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x3f0719]['setValue'](_0x282237['_cookieTra'+'nsformUnif'+'orm']),_0x282237['_cookieOff'+'setUniform'][0x21ea*-0x1+-0x20ff+0x42e9]=_0x282237['_cookieOff'+'set']['x'],_0x282237['_cookieOff'+'setUniform'][0x88a*0x1+-0x6*-0x4+-0x8a1]=_0x282237['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x3f0719]['setValue'](_0x282237['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x289d2b,_0x1e9ef0,_0x456973){let _0x59f336=_0x456973;const _0x31a676=this['device']['scope'],_0x27be97=_0x289d2b[Pe],_0x23e623=_0x27be97['length'];for(let _0x3e101f=0x70*0x34+-0x26cb+0x100b;_0x3e101f<_0x23e623;_0x3e101f++){const _0x5342a4=_0x27be97[_0x3e101f];_0x5342a4['mask']&_0x1e9ef0&&(this['dispatchOm'+'niLight'](_0x31a676,_0x5342a4,_0x59f336),_0x59f336++);}const _0x128152=_0x289d2b[Re],_0x24b852=_0x128152['length'];for(let _0x68bd3b=0x2*0x7bb+-0x7a6*-0x2+-0x1ec2;_0x68bd3b<_0x24b852;_0x68bd3b++){const _0x3f61e7=_0x128152[_0x68bd3b];_0x3f61e7['mask']&_0x1e9ef0&&(this['dispatchSp'+'otLight'](_0x31a676,_0x3f61e7,_0x59f336),_0x59f336++);}}['renderForw'+'ardPrepare'+'Materials'](_0x36bca8,_0x5d6a6a,_0x3205ac,_0x39039d,_0x26637e,_0xec10b4){const _0x2defe3=_0x36bca8['fog']??this['scene']['fog'],_0x53d49d=_0x36bca8['shaderPara'+'ms'];_0x53d49d['fog']=_0x2defe3['type'],_0x53d49d['srgbRender'+'Target']=(_0x5d6a6a==null?void(0x2614+0xdd5+-0x33e9):_0x5d6a6a['isColorBuf'+'ferSrgb'](0x17f+0x1d*-0x17+-0x47*-0x4))??!(0x1d96+0x3*0xcb5+-0x9ac*0x7);const _0x11a768=(_0x8d2458,_0x5080f0,_0xe0aa58,_0x3545dc)=>{br['drawCalls']['push'](_0x8d2458),br['shaderInst'+'ances']['push'](_0x5080f0),br['isNewMater'+'ial']['push'](_0xe0aa58),br['lightMaskC'+'hanged']['push'](_0x3545dc);};br['clear']();const _0x596873=this['device'],_0xef9a85=this['scene'],_0x23da07=_0xef9a85['clusteredL'+'ightingEna'+'bled'],_0xae7871=(_0x26637e==null?void(-0x6*0x1b6+0xc68*-0x2+0x2314):_0x26637e['getLightHa'+'sh'](_0x23da07))??0xafb+-0x1*0x155f+0x13*0x8c;let _0x1fab45=null,_0x16e9c4,_0xd35f3b;const _0x262543=_0x3205ac['length'];for(let _0xad9bec=-0x1*0x1bfc+0x1*0x1d0f+-0x19*0xb;_0xad9bec<_0x262543;_0xad9bec++){const _0xeeb517=_0x3205ac[_0xad9bec];if(_0x36bca8===_i['skipRender'+'Camera']){if(_i['_skipRende'+'rCounter']>=_i['skipRender'+'After'])continue;_i['_skipRende'+'rCounter']++;}if(_0x26637e){if(_0x26637e['_skipRende'+'rCounter']>=_0x26637e['skipRender'+'After'])continue;_0x26637e['_skipRende'+'rCounter']++;}_0xeeb517['ensureMate'+'rial'](_0x596873);const _0x15681a=_0xeeb517['material'],_0x1656ea=_0xeeb517['_shaderDef'+'s'],_0x55ee5f=_0xeeb517['mask'];_0x15681a&&_0x15681a===_0x1fab45&&_0x1656ea!==_0x16e9c4&&(_0x1fab45=null),_0x15681a!==_0x1fab45&&(this['_materialS'+'witches']++,_0x15681a['_scene']=_0xef9a85,_0x15681a['dirty']&&(G['pushGpuMar'+'ker'](_0x596873,'Node:\x20'+_0xeeb517['node']['name']+(',\x20Material'+':\x20')+_0x15681a['name']),_0x15681a['updateUnif'+'orms'](_0x596873,_0xef9a85),_0x15681a['dirty']=!(-0x18b+0x133e+-0x11b2),G['popGpuMark'+'er'](_0x596873)));const _0x585185=_0xeeb517['getShaderI'+'nstance'](_0xec10b4,_0xae7871,_0xef9a85,_0x53d49d,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x39039d);_0x11a768(_0xeeb517,_0x585185,_0x15681a!==_0x1fab45,!_0x1fab45||_0x55ee5f!==_0xd35f3b),_0x1fab45=_0x15681a,_0x16e9c4=_0x1656ea,_0xd35f3b=_0x55ee5f;}return br;}['renderForw'+'ardInterna'+'l'](_0x85cdf1,_0x5c393f,_0x5ab7bc,_0x30d0c2,_0x46766d,_0xc69b03){const _0x10e0bd=this['device'],_0x10d3b6=this['scene'],_0x593e16=0x759*-0x4+0x2*0xc95+0x1*0x43b<<_0x30d0c2,_0x550076=_0xc69b03?-(-0x930+-0x2452+0x2d83*0x1):-0x19e3+0x33*0xc1+-0xc8f,_0x4142ef=_0x10d3b6['clusteredL'+'ightingEna'+'bled'],_0x5abeb1=_0x5c393f['drawCalls']['length'];for(let _0xb3a5f1=-0x14f4+0x1*-0xfb5+-0x755*-0x5;_0xb3a5f1<_0x5abeb1;_0xb3a5f1++){const _0x3b5289=_0x5c393f['drawCalls'][_0xb3a5f1],_0x52a546=_0x5c393f['isNewMater'+'ial'][_0xb3a5f1],_0x1a185c=_0x5c393f['lightMaskC'+'hanged'][_0xb3a5f1],_0x5aab58=_0x5c393f['shaderInst'+'ances'][_0xb3a5f1],_0x54abb7=_0x3b5289['material'],_0x568da5=_0x3b5289['mask'];if(_0x52a546){if(_0x10e0bd['setShader'](_0x5aab58['shader'],!(0x2b*-0x3+0x1ccf+-0x1c4d)),_0x54abb7['setParamet'+'ers'](_0x10e0bd),_0x1a185c){const _0x237162=this['dispatchDi'+'rectLights'](_0x5ab7bc[oe],_0x568da5,_0x85cdf1);_0x4142ef||this['dispatchLo'+'calLights'](_0x5ab7bc,_0x568da5,_0x237162);}this['alphaTestI'+'d']['setValue'](_0x54abb7['alphaTest']),_0x10e0bd['setBlendSt'+'ate'](_0x54abb7['blendState']),_0x10e0bd['setDepthSt'+'ate'](_0x54abb7['depthState']),_0x10e0bd['setAlphaTo'+'Coverage'](_0x54abb7['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x10e0bd,'Node:\x20'+_0x3b5289['node']['name']+(',\x20Material'+':\x20')+_0x54abb7['name']),this['setupCullM'+'ode'](_0x85cdf1['_cullFaces'],_0x550076,_0x3b5289);const _0x154a88=_0x3b5289['stencilFro'+'nt']??_0x54abb7['stencilFro'+'nt'],_0x163416=_0x3b5289['stencilBac'+'k']??_0x54abb7['stencilBac'+'k'];_0x10e0bd['setStencil'+'State'](_0x154a88,_0x163416),_0x3b5289['setParamet'+'ers'](_0x10e0bd,_0x593e16),_0x10e0bd['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x3b5289['id']);const _0x29da06=_0x3b5289['mesh'];this['setVertexB'+'uffers'](_0x10e0bd,_0x29da06),this['setMorphin'+'g'](_0x10e0bd,_0x3b5289['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x10e0bd,_0x3b5289),this['setupMeshU'+'niformBuff'+'ers'](_0x5aab58,_0x3b5289);const _0x22a639=_0x3b5289['renderStyl'+'e'];if(_0x10e0bd['setIndexBu'+'ffer'](_0x29da06['indexBuffe'+'r'][_0x22a639]),_0x46766d==null||_0x46766d(_0x3b5289,_0xb3a5f1),_0x85cdf1['xr']&&_0x85cdf1['xr']['session']&&_0x85cdf1['xr']['views']['list']['length']){const _0x21a964=_0x85cdf1['xr']['views'];for(let _0x4a0355=-0x3*-0x9e5+0x241+0x2*-0xff8;_0x4a0355<_0x21a964['list']['length'];_0x4a0355++){const _0x37b8f4=_0x21a964['list'][_0x4a0355];_0x10e0bd['setViewpor'+'t'](_0x37b8f4['viewport']['x'],_0x37b8f4['viewport']['y'],_0x37b8f4['viewport']['z'],_0x37b8f4['viewport']['w']),this['projId']['setValue'](_0x37b8f4['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x37b8f4['projMat']['data']),this['viewId']['setValue'](_0x37b8f4['viewOffMat']['data']),this['viewInvId']['setValue'](_0x37b8f4['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x37b8f4['viewMat3']['data']),this['viewProjId']['setValue'](_0x37b8f4['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x37b8f4['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x4a0355),_0x4a0355===-0x1434+0x1337*0x1+0xfd?this['drawInstan'+'ce'](_0x10e0bd,_0x3b5289,_0x29da06,_0x22a639,!(0x161+0x25bb+-0x271c)):this['drawInstan'+'ce2'](_0x10e0bd,_0x3b5289,_0x29da06,_0x22a639),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x10e0bd,_0x3b5289,_0x29da06,_0x22a639,!(-0xbbe+-0x144d*0x1+0x277*0xd)),this['_forwardDr'+'awCalls']++;_0xb3a5f1<_0x5abeb1-(0x16b5+0xd0f+-0x23c3)&&!_0x5c393f['isNewMater'+'ial'][_0xb3a5f1+(-0x2*-0x6a3+0x823*-0x3+0xb24)]&&_0x54abb7['setParamet'+'ers'](_0x10e0bd,_0x3b5289['parameters']),G['popGpuMark'+'er'](_0x10e0bd);}}['renderForw'+'ard'](_0x55d05d,_0x19bbbb,_0xad5843,_0x4475e2,_0x7045ba,_0x471887,_0x25aa48,_0x386008){const _0xc875e7=ne(),_0x196bef=this['renderForw'+'ardPrepare'+'Materials'](_0x55d05d,_0x19bbbb,_0xad5843,_0x4475e2,_0x25aa48,_0x7045ba);this['renderForw'+'ardInterna'+'l'](_0x55d05d,_0x196bef,_0x4475e2,_0x7045ba,_0x471887,_0x386008),br['clear'](),this['_forwardTi'+'me']+=ne()-_0xc875e7;}['renderForw'+'ardLayer'](_0x58681d,_0x7b9406,_0x5e7747,_0x1f4b64,_0x605c60,_0x40dfb7,_0x4895a5={}){const {scene:_0x503a8e,device:_0x23f41d}=this,_0x1ba1fd=_0x503a8e['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x58681d,_0x7b9406);let _0x3ee123,_0x2e08a1;if(_0x5e7747){const _0x39db6e=ne();_0x5e7747['sortVisibl'+'e'](_0x58681d,_0x1f4b64),this['_sortTime']+=ne()-_0x39db6e;const _0x4f3394=_0x5e7747['getCulledI'+'nstances'](_0x58681d);_0x3ee123=_0x1f4b64?_0x4f3394['transparen'+'t']:_0x4f3394['opaque'],_0x503a8e['immediate']['onPreRende'+'rLayer'](_0x5e7747,_0x3ee123,_0x1f4b64),_0x5e7747['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x503a8e['ambientLig'+'ht'],_0x5e7747['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x2e08a1=_0x5e7747['splitLight'+'s'];}else _0x3ee123=_0x4895a5['meshInstan'+'ces'],_0x2e08a1=_0x4895a5['splitLight'+'s']??OM;if(v['assert'](_0x3ee123,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x1ba1fd){const _0x55dbfb=_0x4895a5['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x55dbfb['activate'](),_0x5e7747&&!this['clustersDe'+'bugRendere'+'d']&&_0x503a8e['lighting']['debugLayer']===_0x5e7747['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x233+-0xab2+-0x1*-0xce5),Vu['render'](_0x55dbfb,this['scene']));}_0x503a8e['_activeCam'+'era']=_0x58681d;const _0xb0c019=_0x58681d['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0xb0c019);const _0x287d30=this['setCameraU'+'niforms'](_0x58681d,_0x7b9406);_0x23f41d['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x40dfb7,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x287d30);const _0x5bdf45=_0x4895a5['clearColor']??!(0x216b+0x2385*-0x1+0x21b),_0x38ca00=_0x4895a5['clearDepth']??!(-0x1d1b+0x203e+-0x322),_0xeb75d0=_0x4895a5['clearStenc'+'il']??!(-0x19*0x6d+-0x8*-0x6a+0x756);(_0x5bdf45||_0x38ca00||_0xeb75d0)&&this['clear'](_0x58681d,_0x5bdf45,_0x38ca00,_0xeb75d0);const _0x49d916=!!(_0x58681d['_flipFaces']^(_0x7b9406==null?void(-0x117e+-0x25b*0x4+0x1aea):_0x7b9406['flipY'])),_0x269817=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x58681d,_0x7b9406,_0x3ee123,_0x2e08a1,_0x605c60,null,_0x5e7747,_0x49d916),_0x5e7747&&(_0x5e7747['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x269817);}['setFogCons'+'tants'](_0x5eb389){if(_0x5eb389['type']!==Fa){$i['linear'](_0x5eb389['color']);const _0x4e7040=this['fogColor'];_0x4e7040[0xf9*-0x27+0x19*0x109+0x1*0xc0e]=$i['r'],_0x4e7040[-0x3*-0x64+0x73*0x1+-0x19e]=$i['g'],_0x4e7040[-0x25d7+0x159c+0x103d]=$i['b'],this['fogColorId']['setValue'](_0x4e7040),_0x5eb389['type']===zb?(this['fogStartId']['setValue'](_0x5eb389['start']),this['fogEndId']['setValue'](_0x5eb389['end'])):this['fogDensity'+'Id']['setValue'](_0x5eb389['density']);}}['setSceneCo'+'nstants'](){const _0x2548ad=this['scene'];this['dispatchGl'+'obalLights'](_0x2548ad);const _0x28bc78=this['device'];this['_screenSiz'+'e'][-0x119*-0x8+0x1*0x1771+-0x2039]=_0x28bc78['width'],this['_screenSiz'+'e'][-0x1901+-0x66a+-0xfb6*-0x2]=_0x28bc78['height'],this['_screenSiz'+'e'][0x7a8*0x1+0x949+0x121*-0xf]=(0x39*-0x7d+0x68d+0x1549*0x1)/_0x28bc78['width'],this['_screenSiz'+'e'][-0x126c+0xa1f+0x850]=(-0x1*0x150b+0x152a+-0x1e)/_0x28bc78['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x1515de,_0x3efa1f){const _0x4c0356=this['scene'];if(_0x1515de['reset'](),_0x4c0356['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x54057c,cookiesEnabled:_0x2f9024}=_0x4c0356['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x1515de,_0x54057c,_0x2f9024,this['lights'],this['localLight'+'s']),_0x1515de['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x1515de,this['localLight'+'s']);let _0x4b8deb=0x1b07*0x1+0xd*0x12e+0x879*-0x5,_0x10a52b=!(0x34e+0xda6*-0x2+0x17fe),_0x973227=null;const _0x15f19d=_0x3efa1f['_renderAct'+'ions'];for(let _0x329f31=_0x4b8deb;_0x329f31<_0x15f19d['length'];_0x329f31++){const _0x187def=_0x15f19d[_0x329f31],{layer:_0x22b5a9,camera:_0x5c19b2}=_0x187def;if(_0x187def['useCameraP'+'asses'])v['call'](()=>{_0x5c19b2['postEffect'+'s']['effects']['length']>0x630+0x1*-0x1f2+-0x43e&&v['warnOnce']('Camera\x20\x27'+_0x5c19b2['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x5c19b2['camera']['renderPass'+'es']['forEach'](_0x2f544f=>{_0x1515de['addRenderP'+'ass'](_0x2f544f);});else{const _0x3e0005=_0x22b5a9['id']===Xt,_0x20b2bd=_0x3e0005&&(_0x5c19b2['renderScen'+'eColorMap']||_0x5c19b2['renderScen'+'eDepthMap']);_0x10a52b&&(_0x10a52b=!(-0x14db+0x1*-0x6a7+0x1*0x1b83),_0x4b8deb=_0x329f31,_0x973227=_0x187def['renderTarg'+'et']);const _0x121c7d=_0x15f19d[_0x329f31+(-0x1de0+-0x23a8+0x4189)],_0x2a0362=(_0x121c7d?!_0x121c7d['useCameraP'+'asses']&&_0x121c7d['layer']['id']===Xt:!(-0x2417+0x2d6+0x2142))&&(_0x5c19b2['renderScen'+'eColorMap']||_0x5c19b2['renderScen'+'eDepthMap']),_0x485f95=_0x121c7d?_0x121c7d['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x121c7d['camera']['camera']):!(-0x2*0x1155+0x24d7+-0x22c);if(!_0x121c7d||_0x121c7d['renderTarg'+'et']!==_0x973227||_0x485f95||_0x2a0362||_0x20b2bd){if(_0x3e0005&&_0x4b8deb===_0x329f31||this['addMainRen'+'derPass'](_0x1515de,_0x3efa1f,_0x973227,_0x4b8deb,_0x329f31),_0x3e0005){if(_0x5c19b2['renderScen'+'eColorMap']){const _0x13e1bb=_0x5c19b2['camera']['renderPass'+'ColorGrab'];_0x13e1bb['source']=_0x5c19b2['renderTarg'+'et'],_0x1515de['addRenderP'+'ass'](_0x13e1bb);}_0x5c19b2['renderScen'+'eDepthMap']&&_0x1515de['addRenderP'+'ass'](_0x5c19b2['camera']['renderPass'+'DepthGrab']);}if(_0x187def['triggerPos'+'tprocess']&&(_0x5c19b2!=null&&_0x5c19b2['onPostproc'+'essing'])){const _0x3bb591=new FM(this['device'],this,_0x187def);_0x1515de['addRenderP'+'ass'](_0x3bb591);}_0x10a52b=!(-0xc4a+-0x6e2*0x5+0x2eb4*0x1);}}}}['addMainRen'+'derPass'](_0x1cd63e,_0x118d0a,_0x29e12b,_0x1d4c3a,_0x1c30f0){const _0x495277=new LM(this['device'],_0x118d0a,this['scene'],this);_0x495277['init'](_0x29e12b);const _0x3cd06a=_0x118d0a['_renderAct'+'ions'];for(let _0x6efe54=_0x1d4c3a;_0x6efe54<=_0x1c30f0;_0x6efe54++)_0x495277['addRenderA'+'ction'](_0x3cd06a[_0x6efe54]);_0x1cd63e['addRenderP'+'ass'](_0x495277);}['update'](_0x60d543){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x60d543),this['collectLig'+'hts'](_0x60d543),this['beginFrame'](_0x60d543),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x60d543),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(_i,'skipRender'+'Camera',null),c(_i,'_skipRende'+'rCounter',0x1*0x1990+-0x24d7+0xb47*0x1),c(_i,'skipRender'+'After',-0xe*-0x12+0x9b*0xa+0x6a*-0x11);let Gh=_i,zd=0xe*-0x233+-0x5*-0x608+0xa2;const ja=[],Ol=new Set();function NM(_0xfc97cf,_0x19b4fd){return _0xfc97cf['drawOrder']-_0x19b4fd['drawOrder'];}function zM(_0x515f97,_0x354584){const _0x48de18=_0x515f97['_key'][Ei],_0x488eaa=_0x354584['_key'][Ei];return _0x48de18===_0x488eaa&&_0x515f97['mesh']&&_0x354584['mesh']?_0x354584['mesh']['id']-_0x515f97['mesh']['id']:_0x488eaa-_0x48de18;}function UM(_0x4a9566,_0x118a6d){return _0x118a6d['zdist']-_0x4a9566['zdist'];}function VM(_0x25730b,_0x179840){return _0x25730b['zdist']-_0x179840['zdist'];}const GM=[null,NM,zM,UM,VM];class HM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Lr{constructor(_0x6e85bf={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x7c8+0x2*-0xebf+0x15b6)),c(this,'requiresLi'+'ghtCube',!(-0x3*0x655+-0x18a2+-0x2ba2*-0x1)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x10e0+0x43*0x85+-0x11ee*0x1)),(_0x6e85bf['id']!==void(-0xf9f*-0x1+0x1f11+0x2eb0*-0x1)?(this['id']=_0x6e85bf['id'],zd=Math['max'](this['id']+(-0x2*0x1161+0x1660+0xc63),zd)):this['id']=zd++,this['name']=_0x6e85bf['name'],this['_enabled']=_0x6e85bf['enabled']??!(0x19bc+0xdaa*-0x1+-0x26a*0x5),this['_refCounte'+'r']=this['_enabled']?0xf4f+-0x2249+-0x1*-0x12fb:-0x1*0x5b7+0x1bc*-0xd+0x1*0x1c43,this['opaqueSort'+'Mode']=_0x6e85bf['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x6e85bf['transparen'+'tSortMode']??Bm,_0x6e85bf['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x6e85bf['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x6e85bf['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x6e85bf['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x6e85bf['clearStenc'+'ilBuffer'],this['onEnable']=_0x6e85bf['onEnable'],this['onDisable']=_0x6e85bf['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0xc68*0x1+-0x44e+0xba*0x17,this['_lightHash'+'Dirty']=!(-0x1bf6*0x1+-0x1*-0xd3f+-0x4e8*-0x3),this['_lightIdHa'+'sh']=0x5*0xf8+-0x1379+-0xea1*-0x1,this['_lightIdHa'+'shDirty']=!(-0x2c6*-0x7+0xad2+-0x1e3b*0x1),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x221a+-0x4*-0x571+-0x1bef*0x2,this['_renderTim'+'e']=0x1*0x1a21+0x1*0x89+-0x1aaa,this['_forwardDr'+'awCalls']=0x774+0x97c+-0x878*0x2,this['_shadowDra'+'wCalls']=0x6d4+0x829+-0x3*0x4ff,this['_shaderVer'+'sion']=-(-0xe4*0x21+0x85f*0x4+-0x3*0x15d));}set['enabled'](_0x5bfe27){_0x5bfe27!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0xf*0x6e+0x147f+0x39*-0x79),this['_enabled']=_0x5bfe27,_0x5bfe27?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x2f1a52){this['_clearColo'+'rBuffer']=_0x2f1a52,this['_dirtyComp'+'osition']=!(0x1*0x166b+0xc*0x2ae+-0x3*0x1231);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x2b2f51){this['_clearDept'+'hBuffer']=_0x2b2f51,this['_dirtyComp'+'osition']=!(0x174*0x14+0x134a+-0x305a);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x585540){this['_clearSten'+'cilBuffer']=_0x585540,this['_dirtyComp'+'osition']=!(0x2237+-0xbe*-0xa+-0x29a3);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x9b8+-0x22fa+-0x773*-0x6;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x3e0+-0x25*-0x13+0x71*-0xf&&(this['_enabled']=!(0x1*-0x1977+0xff+0x1878),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1a8*-0x4+0x17*0x191+-0x2*0xeb3)this['_enabled']=!(0x10fa*-0x1+-0xddc+-0x1ed7*-0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0xe17*0x1+0x2050+-0x1*0x1239){v['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0xdeef56,_0x198435){const _0x4a5f2b=this['meshInstan'+'ces'],_0x4b594b=this['meshInstan'+'cesSet'];for(let _0x482bf3=-0x1258+0x767*0x1+-0xaf1*-0x1;_0x482bf3<_0xdeef56['length'];_0x482bf3++){const _0x3b8f4c=_0xdeef56[_0x482bf3];_0x4b594b['has'](_0x3b8f4c)||(_0x4a5f2b['push'](_0x3b8f4c),_0x4b594b['add'](_0x3b8f4c),Ol['add'](_0x3b8f4c['material']));}if(_0x198435||this['addShadowC'+'asters'](_0xdeef56),Ol['size']>-0x25b2*-0x1+-0x1*-0x1594+-0x3b46){const _0x3120bf=this['_shaderVer'+'sion'];Ol['forEach'](_0x5d0353=>{_0x3120bf>=-0x21*-0x8+0xac7+0xbcf*-0x1&&_0x5d0353['_shaderVer'+'sion']!==_0x3120bf&&(_0x5d0353['getShaderV'+'ariant']!==yn['prototype']['getShaderV'+'ariant']&&_0x5d0353['clearVaria'+'nts'](),_0x5d0353['_shaderVer'+'sion']=_0x3120bf);}),Ol['clear']();}}['removeMesh'+'Instances'](_0x242667,_0x18cc4c){const _0x1490dd=this['meshInstan'+'ces'],_0x560397=this['meshInstan'+'cesSet'];for(let _0x265d6c=-0x34e*-0x7+-0x21f3+0xad1;_0x265d6c<_0x242667['length'];_0x265d6c++){const _0x255cce=_0x242667[_0x265d6c];if(_0x560397['has'](_0x255cce)){_0x560397['delete'](_0x255cce);const _0x25c998=_0x1490dd['indexOf'](_0x255cce);_0x25c998>=0x7ce+-0x12*-0x15+-0x4*0x252&&_0x1490dd['splice'](_0x25c998,-0xb3a*0x1+0x223e+-0x1703);}}_0x18cc4c||this['removeShad'+'owCasters'](_0x242667);}['addShadowC'+'asters'](_0x1b9a68){const _0x4b7ce4=this['shadowCast'+'ers'],_0x1333a0=this['shadowCast'+'ersSet'];for(let _0x301f51=0x5d9*0x1+-0x1*0x38b+0x24e*-0x1;_0x301f51<_0x1b9a68['length'];_0x301f51++){const _0x14a69f=_0x1b9a68[_0x301f51];_0x14a69f['castShadow']&&!_0x1333a0['has'](_0x14a69f)&&(_0x1333a0['add'](_0x14a69f),_0x4b7ce4['push'](_0x14a69f));}}['removeShad'+'owCasters'](_0x5e421c){const _0x517aac=this['shadowCast'+'ers'],_0xe1fa4d=this['shadowCast'+'ersSet'];for(let _0x2a81f=-0x1619+0x4bb*0x7+-0x2c1*0x4;_0x2a81f<_0x5e421c['length'];_0x2a81f++){const _0x2fb0d6=_0x5e421c[_0x2a81f];if(_0xe1fa4d['has'](_0x2fb0d6)){_0xe1fa4d['delete'](_0x2fb0d6);const _0x34eb14=_0x517aac['indexOf'](_0x2fb0d6);_0x34eb14>=-0x213f+0x1d2a+0x415&&_0x517aac['splice'](_0x34eb14,0x1b6a+-0x7f*-0x16+-0x2653);}}}['clearMeshI'+'nstances'](_0x5bdac2=!(0x1a69+-0x1b30+0x2*0x64)){this['meshInstan'+'ces']['length']=0xe4b*-0x2+0x1cba+-0x4*0x9,this['meshInstan'+'cesSet']['clear'](),_0x5bdac2||(this['shadowCast'+'ers']['length']=-0xa3f+0xba4*0x2+-0xd09,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0xadf*-0x1+-0x1079+0x3*0x1de),this['_lightIdHa'+'shDirty']=!(0x16e5*0x1+0x1*0x689+-0x1d6e),this['_splitLigh'+'tsDirty']=!(0x943*-0x3+0x1abf+0x10a);}['hasLight'](_0x12833b){return this['_lightsSet']['has'](_0x12833b);}['addLight'](_0x3d873e){const _0x5e3878=_0x3d873e['light'];this['_lightsSet']['has'](_0x5e3878)||(this['_lightsSet']['add'](_0x5e3878),this['_lights']['push'](_0x5e3878),this['markLights'+'Dirty']()),_0x5e3878['type']!==oe&&this['_clustered'+'LightsSet']['add'](_0x5e3878);}['removeLigh'+'t'](_0x15fe7b){const _0x3bd94d=_0x15fe7b['light'];this['_lightsSet']['has'](_0x3bd94d)&&(this['_lightsSet']['delete'](_0x3bd94d),this['_lights']['splice'](this['_lights']['indexOf'](_0x3bd94d),0x1644+0x5aa+0x1*-0x1bed),this['markLights'+'Dirty']()),_0x3bd94d['type']!==oe&&this['_clustered'+'LightsSet']['delete'](_0x3bd94d);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x51557b=>_0x51557b['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x1757+-0x6c4+-0x3*-0xa09,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0xf90+0xe83+-0x1e12);const _0xc18ea4=this['_splitLigh'+'ts'];for(let _0x2661c9=0x4*-0x111+0x661*-0x1+0xaa5;_0x2661c9<_0xc18ea4['length'];_0x2661c9++)_0xc18ea4[_0x2661c9]['length']=-0x11*-0x8b+0x76*0x47+-0x29f5;const _0x552312=this['_lights'];for(let _0x1bc96c=0x1edb*-0x1+0x223d+0x362*-0x1;_0x1bc96c<_0x552312['length'];_0x1bc96c++){const _0x25e7e7=_0x552312[_0x1bc96c];_0x25e7e7['enabled']&&_0xc18ea4[_0x25e7e7['_type']]['push'](_0x25e7e7);}for(let _0x63432f=0x1039+-0x1*0x1e42+-0x1*-0xe09;_0x63432f<_0xc18ea4['length'];_0x63432f++)_0xc18ea4[_0x63432f]['sort']((_0x258961,_0x3f3dcf)=>_0x258961['key']-_0x3f3dcf['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x18d0ed,_0xfafe6a,_0x245552){let _0x406010=0x2095+0x1*0xfc4+-0x1*0x3059;const _0x1c475f=this['_lights'];for(let _0xdb2656=0xfbb+0x1645+0x8*-0x4c0;_0xdb2656<_0x1c475f['length'];_0xdb2656++){const _0x2a973c=_0x1c475f[_0xdb2656]['type']!==oe;(_0x18d0ed&&_0x2a973c||_0xfafe6a&&!_0x2a973c)&&ja['push'](_0x245552?_0x1c475f[_0xdb2656]['id']:_0x1c475f[_0xdb2656]['key']);}return ja['length']>0x699*-0x1+0x4c7+0x1d2&&(ja['sort'](),_0x406010=Zy(ja),ja['length']=0x24f5*-0x1+-0x22a6+0x479b),_0x406010;}['getLightHa'+'sh'](_0x105368){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0xf59*-0x2+0x64b*0x5+0x2*-0x62),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x105368,!(-0x1*0x13ee+-0x1*-0xb59+0x895),!(0x15b*0x10+-0x1*0x1429+-0x186))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0xe8*0x1+0x34b*0x5+-0xf8e),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x1a6d+0x635+-0x1*0x20a2),!(0x13*0x199+-0x2205+0x3ab),!(0x3*0x981+-0x2*-0xf7f+0x3b81*-0x1))),this['_lightIdHa'+'sh'];}['addCamera'](_0x4b321b){this['camerasSet']['has'](_0x4b321b['camera'])||(this['camerasSet']['add'](_0x4b321b['camera']),this['cameras']['push'](_0x4b321b),this['_dirtyComp'+'osition']=!(0x2b0+0x5*0x3d3+0x1*-0x15cf));}['removeCame'+'ra'](_0x5bf903){if(this['camerasSet']['has'](_0x5bf903['camera'])){this['camerasSet']['delete'](_0x5bf903['camera']);const _0x92c62f=this['cameras']['indexOf'](_0x5bf903);this['cameras']['splice'](_0x92c62f,-0x141a+-0x1*0x1f03+-0x6*-0x885),this['_dirtyComp'+'osition']=!(0xdc6+0x61f*-0x5+-0x8b*-0x1f);}}['clearCamer'+'as'](){this['cameras']['length']=0x2*-0x2f0+0x1d*0x47+-0x3*0xb9,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x1*0x2251+-0x815+0xd1e*-0x2);}['_calculate'+'SortDistan'+'ces'](_0x44dddd,_0x1118cb,_0x77cf92,_0x19220c){for(let _0x43b2c1=0x5*-0x28+-0x1*0x1442+-0x2*-0xa85;_0x43b2c1<_0x1118cb;_0x43b2c1++){const _0x30465b=_0x44dddd[_0x43b2c1];if(_0x30465b['layer']<=Vb)continue;if(_0x30465b['calculateS'+'ortDistanc'+'e']){_0x30465b['zdist']=_0x30465b['calculateS'+'ortDistanc'+'e'](_0x30465b,_0x77cf92,_0x19220c);continue;}const _0x34e84a=_0x30465b['aabb']['center'],_0x401a46=_0x34e84a['x']-_0x77cf92['x'],_0x15a8ed=_0x34e84a['y']-_0x77cf92['y'],_0x13391e=_0x34e84a['z']-_0x77cf92['z'];_0x30465b['zdist']=_0x401a46*_0x19220c['x']+_0x15a8ed*_0x19220c['y']+_0x13391e*_0x19220c['z'];}}['getCulledI'+'nstances'](_0x10b4ac){let _0x42c8f9=this['_visibleIn'+'stances']['get'](_0x10b4ac);return _0x42c8f9||(_0x42c8f9=new HM(),this['_visibleIn'+'stances']['set'](_0x10b4ac,_0x42c8f9)),_0x42c8f9;}['sortVisibl'+'e'](_0x204037,_0x4cbc34){const _0x16b801=_0x4cbc34?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x16b801===dh)return;const _0xf3dfbf=this['getCulledI'+'nstances'](_0x204037),_0x32ce04=_0x4cbc34?_0xf3dfbf['transparen'+'t']:_0xf3dfbf['opaque'],_0x212cfe=_0x204037['node'];if(_0x16b801===ew){const _0x1fde34=_0x212cfe['getPositio'+'n'](),_0x23a381=_0x212cfe['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x32ce04,_0x32ce04['length'],_0x1fde34,_0x23a381),this['customSort'+'Callback']&&_0x32ce04['sort'](this['customSort'+'Callback']);}else{if(_0x16b801===Bm||_0x16b801===Jb){const _0x4d8327=_0x212cfe['getPositio'+'n'](),_0x25de52=_0x212cfe['forward'];this['_calculate'+'SortDistan'+'ces'](_0x32ce04,_0x32ce04['length'],_0x4d8327,_0x25de52);}_0x32ce04['sort'](GM[_0x16b801]);}}}const WM=(_0x1b9f5d,_0x295b37)=>_0x1b9f5d['priority']-_0x295b37['priority'],No=_0x392996=>_0x392996['sort'](WM);class S_ extends ce{constructor(_0x33038a='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(-0x1dc0+-0xa5c+-0x9*-0x475)),(this['name']=_0x33038a,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x57dad3=>_0x57dad3['destroy']()),this['_renderAct'+'ions']['length']=0xc42+0x1cc6+0x1484*-0x2;}['_update'](){const _0x32674c=this['layerList']['length'];if(!this['_dirty']){for(let _0x2b91bc=-0xf44+-0x1*0xfbb+0x5*0x633;_0x2b91bc<_0x32674c;_0x2b91bc++)if(this['layerList'][_0x2b91bc]['_dirtyComp'+'osition']){this['_dirty']=!(-0x8e*-0x1f+0x2*0x5da+-0x1ce6);break;}}if(this['_dirty']){this['_dirty']=!(-0x22f7+-0x7*-0x435+0x585),this['cameras']['length']=0x1*0xee+0x95a+-0x1*0xa48;for(let _0x2f0aca=0xf25+-0x1*-0x14f3+0x14*-0x1ce;_0x2f0aca<_0x32674c;_0x2f0aca++){const _0x2cf479=this['layerList'][_0x2f0aca];_0x2cf479['_dirtyComp'+'osition']=!(0x1af5+-0x24ca+-0x9d6*-0x1);for(let _0x2993c6=-0x8fd*-0x1+-0x1ada+0x11dd;_0x2993c6<_0x2cf479['cameras']['length'];_0x2993c6++){const _0x4a39ff=_0x2cf479['cameras'][_0x2993c6];this['cameras']['indexOf'](_0x4a39ff)<0x55b+0x148d+-0x19e8&&this['cameras']['push'](_0x4a39ff);}}this['cameras']['length']>-0x4a*0x82+-0x11a5+0x373a&&No(this['cameras']);let _0x2014a4=-0xb96*-0x2+-0x1*-0x16d0+-0x2dfc;this['destroyRen'+'derActions']();for(let _0x1f1056=0x23b2+0xb*0x1bf+-0x36e7;_0x1f1056<this['cameras']['length'];_0x1f1056++){const _0x5db8a7=this['cameras'][_0x1f1056];if(_0x5db8a7['camera']['renderPass'+'es']['length']>-0x71c+0xf4e+-0x832){this['addDummyRe'+'nderAction'](_0x2014a4,_0x5db8a7),_0x2014a4++;continue;}let _0x4cd7b3=!(0x180*0x16+-0x2*0xe31+-0x49e);const _0x2f6afd=_0x2014a4;let _0x118dfb=null,_0x299ca2=!(-0x1ca*0x1+-0x8a5*0x2+0x1315);for(let _0x12c162=-0xb57*-0x1+-0x17e0+-0xc89*-0x1;_0x12c162<_0x32674c;_0x12c162++){const _0x464d3=this['layerList'][_0x12c162];if(_0x464d3['enabled']&&this['subLayerEn'+'abled'][_0x12c162]&&_0x464d3['cameras']['length']>-0x12f*0x12+0x1*-0x236f+0x38bd&&_0x5db8a7['layers']['indexOf'](_0x464d3['id'])>=0x4b*0x14+-0x15a+-0x482){!_0x299ca2&&_0x464d3['id']===_0x5db8a7['disablePos'+'tEffectsLa'+'yer']&&(_0x299ca2=!(-0x331+0x42*0x19+-0x341),_0x118dfb&&(_0x118dfb['triggerPos'+'tprocess']=!(-0x1*0x7c1+-0x37d*-0x5+-0x9b0)));const _0x8fb293=this['subLayerLi'+'st'][_0x12c162];_0x118dfb=this['addRenderA'+'ction'](_0x2014a4,_0x464d3,_0x8fb293,_0x5db8a7,_0x4cd7b3,_0x299ca2),_0x2014a4++,_0x4cd7b3=!(-0x1d*0xdf+0x11*0x20b+-0x977);}}_0x2f6afd<_0x2014a4&&(_0x118dfb['lastCamera'+'Use']=!(-0x98b+-0x6*0x5c2+-0x2c17*-0x1)),!_0x299ca2&&_0x118dfb&&(_0x118dfb['triggerPos'+'tprocess']=!(0xda0+0x83*-0x21+0x343)),_0x5db8a7['renderTarg'+'et']&&_0x5db8a7['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x2f6afd-(0xb*0x387+0xaca+0xb*-0x482),_0x5db8a7);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x52cf0b){v['assert'](this['_renderAct'+'ions']['length']===_0x52cf0b);const _0xebd61=new D0();return this['_renderAct'+'ions']['push'](_0xebd61),_0xebd61;}['addDummyRe'+'nderAction'](_0x1efa04,_0x287bca){const _0x15f53d=this['getNextRen'+'derAction'](_0x1efa04);_0x15f53d['camera']=_0x287bca,_0x15f53d['useCameraP'+'asses']=!(0x400*0x3+-0xb05+-0xfb);}['addRenderA'+'ction'](_0x5c510f,_0x1cc1d4,_0x1c9a03,_0x1dc9f2,_0x5f1db7,_0x2e6fa8){let _0x5a205e=_0x1cc1d4['id']!==Xt?_0x1dc9f2['renderTarg'+'et']:null,_0x1cf530=!(0x320+-0x214f+0x1e30);const _0x4adc72=this['_renderAct'+'ions'];for(let _0x183379=_0x5c510f-(-0x232f+-0x19b9*0x1+0x3ce9);_0x183379>=0xe34*-0x1+0x2*-0x4f2+0x1818;_0x183379--)if(_0x4adc72[_0x183379]['camera']===_0x1dc9f2&&_0x4adc72[_0x183379]['renderTarg'+'et']===_0x5a205e){_0x1cf530=!(-0x3*0x2ef+0x214e+-0x1881);break;}_0x2e6fa8&&_0x1dc9f2['postEffect'+'sEnabled']&&(_0x5a205e=null);const _0x5456ec=this['getNextRen'+'derAction'](_0x5c510f);_0x5456ec['triggerPos'+'tprocess']=!(0x1138+-0xb6a*0x1+-0x5cd),_0x5456ec['layer']=_0x1cc1d4,_0x5456ec['transparen'+'t']=_0x1c9a03,_0x5456ec['camera']=_0x1dc9f2,_0x5456ec['renderTarg'+'et']=_0x5a205e,_0x5456ec['firstCamer'+'aUse']=_0x5f1db7,_0x5456ec['lastCamera'+'Use']=!(0x13ce+-0x206*-0xe+-0x3021);const _0x4f3731=_0x5f1db7||!_0x1cf530,_0x239f72=_0x1cc1d4['clearColor'+'Buffer']||_0x1cc1d4['clearDepth'+'Buffer']||_0x1cc1d4['clearStenc'+'ilBuffer'];return(_0x4f3731||_0x239f72)&&_0x5456ec['setupClear'+'s'](_0x4f3731?_0x1dc9f2:void(-0x2ab+0x1ba0*0x1+-0x18f5*0x1),_0x1cc1d4),_0x5456ec;}['propagateR'+'enderTarge'+'t'](_0x5edad8,_0x26daa9){for(let _0x7c4a06=_0x5edad8;_0x7c4a06>=0x1b65*-0x1+-0x101c*0x1+0x2b81;_0x7c4a06--){const _0x3b5574=this['_renderAct'+'ions'][_0x7c4a06],_0xc9bfb0=_0x3b5574['layer'];if(_0x3b5574['renderTarg'+'et']&&_0xc9bfb0['id']!==Xt)break;if(_0xc9bfb0['id']===Xt)continue;if(_0x3b5574['useCameraP'+'asses'])break;const _0x810579=_0x3b5574==null?void(0x3*0x4f0+-0xd0e*0x2+0xb4c):_0x3b5574['camera']['camera'];if(_0x810579&&(!_0x26daa9['camera']['rect']['equals'](_0x810579['rect'])||!_0x26daa9['camera']['scissorRec'+'t']['equals'](_0x810579['scissorRec'+'t'])))break;_0x3b5574['renderTarg'+'et']=_0x26daa9['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Xs['get'](pl)){v['trace'](pl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x39ebc6=-0x4d*0x67+-0x241c+0x165d*0x3;_0x39ebc6<this['_renderAct'+'ions']['length'];_0x39ebc6++){const _0x1e97c1=this['_renderAct'+'ions'][_0x39ebc6],_0x503e3d=_0x1e97c1['camera'];if(_0x1e97c1['useCameraP'+'asses'])v['trace'](pl,_0x39ebc6+('CustomPass'+'es\x20Cam:\x20')+(_0x503e3d?_0x503e3d['entity']['name']:'-'));else{const _0x49adc8=_0x1e97c1['layer'],_0x3afbfe=_0x49adc8['enabled']&&this['isEnabled'](_0x49adc8,_0x1e97c1['transparen'+'t']),_0x12083e=(_0x1e97c1['clearColor']?'Color\x20':'.....\x20')+(_0x1e97c1['clearDepth']?'Depth\x20':'.....\x20')+(_0x1e97c1['clearStenc'+'il']?'Stencil':'.......');v['trace'](pl,_0x39ebc6+('\x20Cam:\x20'+(_0x503e3d?_0x503e3d['entity']['name']:'-'))['padEnd'](-0x94d*0x2+-0xe12*-0x1+-0x3*-0x18a,'\x20')+('\x20Lay:\x20'+_0x49adc8['name'])['padEnd'](-0x267*-0xa+-0xf9f+0x851*-0x1,'\x20')+(_0x1e97c1['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x3afbfe?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x1e97c1['renderTarg'+'et']?_0x1e97c1['renderTarg'+'et']['name']:'-'))['padEnd'](0x1c7a+-0x1f8f+-0x75*-0x7,'\x20')+'\x20Clear:\x20'+_0x12083e+(_0x1e97c1['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x1e97c1['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x1e97c1['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x84fe7d){const _0x4913e1=this['layerIdMap']['get'](_0x84fe7d['id'])===_0x84fe7d;return v['assert'](!_0x4913e1,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x84fe7d['name']),_0x4913e1;}['_isSublaye'+'rAdded'](_0x29afc9,_0x13485e){return(_0x13485e?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x29afc9)!==void(-0x18a+-0x24a7+0x2631)?(v['error']('Sublayer\x20'+_0x29afc9['name']+(',\x20transpar'+'ent:\x20')+_0x13485e+('\x20is\x20alread'+'y\x20added.')),!(-0x1*-0x15a3+-0x14f*0x1+-0x1454)):!(-0x1cc8+0x797+0x1532);}['push'](_0x42200e){this['_isLayerAd'+'ded'](_0x42200e)||(this['layerList']['push'](_0x42200e),this['layerList']['push'](_0x42200e),this['_opaqueOrd'+'er'][_0x42200e['id']]=this['subLayerLi'+'st']['push'](!(0x1748*-0x1+-0x7be*-0x4+-0x7af))-(-0xe6f+-0x19*0x19+-0x10e1*-0x1),this['_transpare'+'ntOrder'][_0x42200e['id']]=this['subLayerLi'+'st']['push'](!(-0x19c9+-0x1a7+0x1b70))-(0x2d*0x13+0x1*-0x4af+0x73*0x3),this['subLayerEn'+'abled']['push'](!(-0xd*0x25f+0x14e5+0x3e*0x29)),this['subLayerEn'+'abled']['push'](!(-0x83*-0x2b+0x25bf+0x10*-0x3bc)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x11*-0xf+0x2*0x18b+-0x415),this['fire']('add',_0x42200e));}['insert'](_0x58f426,_0x392602){if(this['_isLayerAd'+'ded'](_0x58f426))return;this['layerList']['splice'](_0x392602,-0x26e2+-0x1858+-0x1f9d*-0x2,_0x58f426,_0x58f426),this['subLayerLi'+'st']['splice'](_0x392602,-0x1*-0x1509+-0x1*-0x23f0+-0x1*0x38f9,!(-0x3*-0x126+-0x1553+0x3*0x5f6),!(-0x18b9+0x424+-0x1df*-0xb));const _0x11759a=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x392602,_0x11759a-(0x1a6*-0xf+-0x11a+0x19d5)),this['_updateTra'+'nsparentOr'+'der'](_0x392602,_0x11759a-(-0x1139+-0x1521*0x1+0x265b)),this['subLayerEn'+'abled']['splice'](_0x392602,-0x1*0x1b27+-0x45*-0x23+0x11b8,!(0x211*-0x2+-0x76f*0x3+-0x65*-0x43),!(0x247+-0x756+-0x5*-0x103)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x319*-0x9+-0x1d*0x4f+-0x12ee),this['fire']('add',_0x58f426);}['remove'](_0x35b3d1){let _0x393094=this['layerList']['indexOf'](_0x35b3d1);for(delete this['_opaqueOrd'+'er'][_0x393094],delete this['_transpare'+'ntOrder'][_0x393094];_0x393094>=-0x5f7+-0x1eea+-0xc4b*-0x3;)this['layerList']['splice'](_0x393094,0x1*0x23a7+-0x235e+0x24*-0x2),this['subLayerLi'+'st']['splice'](_0x393094,-0x2108+0x1044+0x10c5),this['subLayerEn'+'abled']['splice'](_0x393094,0xa9e+-0xc3e*0x2+0xddf),_0x393094=this['layerList']['indexOf'](_0x35b3d1),this['_dirty']=!(0x1836+-0x1*-0x201e+0xb44*-0x5),this['fire']('remove',_0x35b3d1);const _0x4379d2=this['layerList']['length'];this['_updateOpa'+'queOrder'](-0x1*0x6f1+0x153a+-0xe49,_0x4379d2-(0xd*-0x1e1+-0x2025+0x3893)),this['_updateTra'+'nsparentOr'+'der'](-0x3c+0x156d*-0x1+0x5*0x455,_0x4379d2-(-0x1c53+0x19b+0x1ab9)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x33c36c){this['_isSublaye'+'rAdded'](_0x33c36c,!(-0x1835+-0x1d52+0x6b1*0x8))||(this['layerList']['push'](_0x33c36c),this['_opaqueOrd'+'er'][_0x33c36c['id']]=this['subLayerLi'+'st']['push'](!(-0x2*-0xd47+-0x22*0x13+-0x1*0x1807))-(-0x1a62+0x972*0x4+-0xb65),this['subLayerEn'+'abled']['push'](!(0x35b+-0x1ab4+0x1759)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x30*-0x62+0x2640+-0x25c*0x18),this['fire']('add',_0x33c36c));}['insertOpaq'+'ue'](_0x1e1dd7,_0x11ffdd){if(this['_isSublaye'+'rAdded'](_0x1e1dd7,!(-0x5*0x52e+0x2*-0x547+0x2475)))return;this['layerList']['splice'](_0x11ffdd,0x26a0+-0x19d8*0x1+0x332*-0x4,_0x1e1dd7),this['subLayerLi'+'st']['splice'](_0x11ffdd,0x1*0x1c9b+-0x10f*0x1+-0x4*0x6e3,!(0x8aa+-0x1f6b+-0x16c2*-0x1));const _0x172360=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x11ffdd,_0x172360-(0xd88*0x2+-0xacb+-0x1044)),this['subLayerEn'+'abled']['splice'](_0x11ffdd,0xfc2+0xb65*0x1+0x14b*-0x15,!(0x151f*0x1+-0x2ed+-0x89*0x22)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2602+0x1c6*0x1+-0x8*0x4f9),this['fire']('add',_0x1e1dd7);}['removeOpaq'+'ue'](_0x8a4b94){for(let _0x23356f=0x21d9*-0x1+0x17ca+0xa0f,_0x45bb59=this['layerList']['length'];_0x23356f<_0x45bb59;_0x23356f++)if(this['layerList'][_0x23356f]===_0x8a4b94&&!this['subLayerLi'+'st'][_0x23356f]){this['layerList']['splice'](_0x23356f,0x76*-0x15+0x6b9+0x2f6),this['subLayerLi'+'st']['splice'](_0x23356f,-0x1*-0x1195+-0x250f+0x137b),_0x45bb59--,this['_updateOpa'+'queOrder'](_0x23356f,_0x45bb59-(-0x192b+-0x640+-0xfb6*-0x2)),this['subLayerEn'+'abled']['splice'](_0x23356f,-0x1cb8+-0x747+0x900*0x4),this['_dirty']=!(-0x96e*0x1+-0x530*0x1+0x74f*0x2),this['layerList']['indexOf'](_0x8a4b94)<0x543+0x1*0x985+-0xec8&&this['fire']('remove',_0x8a4b94);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x56c7a9){this['_isSublaye'+'rAdded'](_0x56c7a9,!(-0x43f*0x3+-0x1*0x24ee+0x31ab))||(this['layerList']['push'](_0x56c7a9),this['_transpare'+'ntOrder'][_0x56c7a9['id']]=this['subLayerLi'+'st']['push'](!(0x1c06+0x11b*0x11+-0xeb*0x33))-(-0x5*-0x65d+-0x7*0x20c+-0x175*0xc),this['subLayerEn'+'abled']['push'](!(-0x10f*-0x16+-0x18f*-0x13+-0x34e7)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x4*0x8da+-0x2540+-0x32*-0x174),this['fire']('add',_0x56c7a9));}['insertTran'+'sparent'](_0x57c4b0,_0x59a6c0){if(this['_isSublaye'+'rAdded'](_0x57c4b0,!(-0x1002+0x2e*0x2e+0x1*0x7be)))return;this['layerList']['splice'](_0x59a6c0,0x1*-0xf6b+-0x2452+0x33bd,_0x57c4b0),this['subLayerLi'+'st']['splice'](_0x59a6c0,-0x5*-0x6e1+-0x1*-0x2201+0xdae*-0x5,!(-0xac*0x1+-0x332*-0x4+-0xc1c));const _0x28759b=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x59a6c0,_0x28759b-(0x4c9+-0x89+-0x1*0x43f)),this['subLayerEn'+'abled']['splice'](_0x59a6c0,0x1d*0x1+0x2*0x34a+-0x6b1*0x1,!(-0x7*0x1e5+0x7*-0x1e3+0x1a78)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x22fe+0x1*0x1341+0x3*-0x1215),this['fire']('add',_0x57c4b0);}['removeTran'+'sparent'](_0x370053){for(let _0x63ba99=-0x1*-0xfb+0x7*0x583+0x34c*-0xc,_0x522072=this['layerList']['length'];_0x63ba99<_0x522072;_0x63ba99++)if(this['layerList'][_0x63ba99]===_0x370053&&this['subLayerLi'+'st'][_0x63ba99]){this['layerList']['splice'](_0x63ba99,-0x1857*-0x1+-0x95f+-0x1*0xef7),this['subLayerLi'+'st']['splice'](_0x63ba99,-0x1576+0x1*0x1808+0x291*-0x1),_0x522072--,this['_updateTra'+'nsparentOr'+'der'](_0x63ba99,_0x522072-(0x1*-0x2692+0x22af*-0x1+0x4942)),this['subLayerEn'+'abled']['splice'](_0x63ba99,-0x342*-0x8+-0x246a+0xa5b),this['_dirty']=!(0x13a*-0x1f+-0x2*0x8cb+0x379c),this['layerList']['indexOf'](_0x370053)<0x1364+0x1263+-0x25c7&&this['fire']('remove',_0x370053);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x182f99){return this['layerOpaqu'+'eIndexMap']['get'](_0x182f99)??-(0x1*0xed7+-0x9a*0x34+0x34a*0x5);}['getTranspa'+'rentIndex'](_0x14ce3f){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x14ce3f)??-(0x1c6b+-0x51c*0x6+0x23e);}['isEnabled'](_0x9b3447,_0x3676ca){if(_0x9b3447['enabled']){const _0x1541ec=_0x3676ca?this['getTranspa'+'rentIndex'](_0x9b3447):this['getOpaqueI'+'ndex'](_0x9b3447);if(_0x1541ec>=-0x577*-0x1+-0x1*-0xc22+-0x35*0x55)return this['subLayerEn'+'abled'][_0x1541ec];}return!(0x1e04*-0x1+-0xbf0*0x2+0x35e5);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x7e7f97=0xd6e*0x1+0x1*0xfa1+-0x1d0f;_0x7e7f97<this['layerList']['length'];_0x7e7f97++){const _0x563429=this['layerList'][_0x7e7f97];this['layerIdMap']['set'](_0x563429['id'],_0x563429),this['layerNameM'+'ap']['set'](_0x563429['name'],_0x563429),(this['subLayerLi'+'st'][_0x7e7f97]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x563429,_0x7e7f97);}}['getLayerBy'+'Id'](_0x5d532b){return this['layerIdMap']['get'](_0x5d532b)??null;}['getLayerBy'+'Name'](_0x338c44){return this['layerNameM'+'ap']['get'](_0x338c44)??null;}['_updateOpa'+'queOrder'](_0x1544ba,_0x2acd33){for(let _0x900377=_0x1544ba;_0x900377<=_0x2acd33;_0x900377++)this['subLayerLi'+'st'][_0x900377]===!(0x23ec+0xb15*0x3+0x3*-0x170e)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x900377]['id']]=_0x900377);}['_updateTra'+'nsparentOr'+'der'](_0x58b895,_0x55a88d){for(let _0x3486c0=_0x58b895;_0x3486c0<=_0x55a88d;_0x3486c0++)this['subLayerLi'+'st'][_0x3486c0]===!(0x191b+-0x2ec+-0x1*0x162f)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x3486c0]['id']]=_0x3486c0);}['_sortLayer'+'sDescendin'+'g'](_0x5cba67,_0x2d5b31,_0x18e1cf){let _0x55d3f3=-(-0x5*0xb6+-0x4*0x841+0x2493),_0x517934=-(-0x1*0x28d+0x1*-0x2590+-0x1a*-0x18b);for(let _0x407aa0=0xc2*-0x32+-0x124d+0x3831,_0x2a9c6e=_0x5cba67['length'];_0x407aa0<_0x2a9c6e;_0x407aa0++){const _0x1a3ccf=_0x5cba67[_0x407aa0];_0x18e1cf['hasOwnProp'+'erty'](_0x1a3ccf)&&(_0x55d3f3=Math['max'](_0x55d3f3,_0x18e1cf[_0x1a3ccf]));}for(let _0x1d76e2=-0x1778+-0xa3*-0x1+0x16d5,_0x243bac=_0x2d5b31['length'];_0x1d76e2<_0x243bac;_0x1d76e2++){const _0x4d731e=_0x2d5b31[_0x1d76e2];_0x18e1cf['hasOwnProp'+'erty'](_0x4d731e)&&(_0x517934=Math['max'](_0x517934,_0x18e1cf[_0x4d731e]));}return _0x55d3f3===-(0x1919+-0x1*0x947+-0xfd1)&&_0x517934!==-(0x18*-0x17+-0x217d*0x1+0x75*0x4e)?-0x1302+0x1d2c+-0xa29:_0x517934===-(0x1ebe+-0x1052*-0x1+-0x2f0f)&&_0x55d3f3!==-(-0x1d*-0x6b+0x205a+-0x2c78*0x1)?-(-0x8*-0x182+0x1*-0xed1+-0x1*-0x2c2):_0x517934-_0x55d3f3;}['sortTransp'+'arentLayer'+'s'](_0x4dab54,_0x11193a){return this['_sortLayer'+'sDescendin'+'g'](_0x4dab54,_0x11193a,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x2a9079,_0x456d06){return this['_sortLayer'+'sDescendin'+'g'](_0x2a9079,_0x456d06,this['_opaqueOrd'+'er']);}}const kl=new T(),ti={'bias':0x0,'normalBias':0x0},Ya=new Y(),Ud={'r':0x0,'g':0x1,'b':0x2,'a':0x3},Gu={'directional':oe,'omni':Pe,'point':Pe,'spot':Re},$M=[[new Q(0x19e7+-0xfef+0x3a*-0x2c,0x269*0x8+-0x129d+-0xab,0x2c*-0x29+-0x59b+0xca8,-0x2e7*-0xd+0x2346+-0x4900)],[new Q(0x802+0x1117+-0x1919,-0x2163+-0x206c+-0x11*-0x3df,0x770+-0xfe1+0x871+0.5,-0x235e+-0x2dd+0x263b+0.5),new Q(0x12bd+-0x1b25*-0x1+-0x2de2,0x49*0x9+-0x2317+0x1*0x2086+0.5,0x147b+-0x298*-0x3+-0x1c43*0x1+0.5,-0x79*0xf+-0x1a59+0x2170+0.5)],[new Q(0x2d0+-0x53*-0x57+0xa57*-0x3,-0x1*-0x1ace+0x236*0x2+-0xf9d*0x2,0x2*-0x109d+0x16d*-0x5+0x285b+0.5,0xd83*-0x1+-0x47*0x11+0x123a+0.5),new Q(0x2197+0x7a+0x3c9*-0x9,0x187e+-0x1*0x12f7+-0x587+0.5,-0x1d*0x10f+-0x350+0x2203+0.5,0x2af*-0xa+0x845+-0x31*-0x61+0.5),new Q(0x233*0x5+0xb*0xbb+-0x1308+0.5,0x15*0x59+-0xab3+0xae*0x5,0x1a7*-0x7+-0x577*-0x1+0x61a+0.5,0xedb+0x8cd+-0x17a8+0.5)],[new Q(0x18c7*-0x1+0xee6+-0x9e1*-0x1,-0x226b+-0x293*0x7+0x1a38*0x2,-0xfe4+-0x14fb+0x24df*0x1+0.5,0xf7e+0x1db5+-0x1d*0x18f+0.5),new Q(0x1*-0xeed+0x24bb*0x1+-0x15ce,0x173a+0xf31+-0x266b+0.5,0x1751+0x26ef+-0x3e40+0.5,-0x13e9+-0x605+-0x2*-0xcf7+0.5),new Q(0x210f+0x1*-0x907+-0x8*0x301+0.5,-0x1*-0x45f+-0xdc1+-0x962*-0x1,-0x4*-0x453+0x26f*0x1+-0x13bb+0.5,0x2*-0xe48+0x13*0x89+-0x11*-0x115+0.5),new Q(0x11d*0x14+-0x57b+0x1*-0x10c9+0.5,0x2*0xd6+-0x141e+0x313*0x6+0.5,-0xe5*-0x2+0xa99*0x1+-0xc63+0.5,-0x4c1+-0x1d3d+0x21fe+0.5)]];let qM=-0x902+-0x9*0x3ea+0x2c3c;class XM{constructor(_0x2c6c8b,_0x446359,_0x52976a){this['light']=_0x52976a,this['camera']=_0x2c6c8b,this['shadowCame'+'ra']=I0['createShad'+'owCamera'](_0x52976a['_shadowTyp'+'e'],_0x52976a['_type'],_0x446359),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new Q(-0x1a9f*-0x1+0x5*0x2b4+-0x2823,0x1*0x15ff+-0x1bc2+0x127*0x5,0x1b69+-0x2448+0x1*0x8e0,-0x1c7e+0x21e6+-0x567),this['shadowScis'+'sor']=new Q(0x1160+-0x1*-0x797+-0x18f7,-0x109c+-0x287+0x1323,-0x851+-0x3bc+0xc0e,0x20c6*0x1+0x44d+-0x2512),this['projection'+'Compensati'+'on']=-0x1*0x1ec1+-0x53+0x1f14,this['face']=_0x446359,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x973ae7=>{_0x973ae7['defaultUni'+'formBuffer']['destroy'](),_0x973ae7['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1d53*0x1+-0x25+0x1d78;}get['shadowBuff'+'er'](){const _0x43ff6e=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x43ff6e?this['light']['_isPcf']?_0x43ff6e['depthBuffe'+'r']:_0x43ff6e['colorBuffe'+'r']:null;}}class zo{constructor(_0x5eb294,_0x438fdc){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',as['DEFAULT']['clone']()),(this['device']=_0x5eb294,this['clusteredL'+'ighting']=_0x438fdc,this['id']=qM++,this['_type']=oe,this['_color']=new Y(-0x810+0x5*-0x595+0x23f9+0.8,-0xb*0x223+-0x1be1+0x3362+0.8,0x1131+0x26c8+-0x37f9+0.8),this['_intensity']=0x13*0xe5+0x326+0x1*-0x1424,this['_affectSpe'+'cularity']=!(0x7e4+-0x111*-0x3+0xa7*-0x11),this['_luminance']=0x25e+0x15*0x165+-0x1fa7,this['_castShado'+'ws']=!(-0x3*-0xcf7+-0x3*-0x632+-0xe*0x41b),this['_enabled']=!(-0x6d*-0x9+-0xa6*-0x1+-0x47a),this['_mask']=hs,this['isStatic']=!(0x3d*0x19+0x8*0x123+0x1ac*-0x9),this['key']=-0x2f6+-0x10cc+0x13c2,this['bakeDir']=!(-0x23c5+0xe*0x265+0x23f*0x1),this['bakeNumSam'+'ples']=-0x1ba*-0x16+-0x21fa+-0x401*0x1,this['bakeArea']=0xe1c+-0x1bec+0xdd0,this['attenuatio'+'nStart']=0x70c+-0xc0*-0x20+-0x1f02,this['attenuatio'+'nEnd']=-0x1*0x150a+-0x15eb+0x2aff,this['_falloffMo'+'de']=wp,this['_shadowTyp'+'e']=Dt,this['_vsmBlurSi'+'ze']=-0x3a*0x59+0x1fbc+-0x1*0xb87,this['vsmBlurMod'+'e']=Tp,this['vsmBias']=(0xdab+0x1a0+-0xf4b+0.01)*(-0x1697+-0xbb*-0x1f+-0xe+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x24f9+0x6cd*0x3+0x1*0x1093,this['_cookieFal'+'loff']=!(-0x1503*-0x1+-0x13*-0x53+-0x1b2c),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0xb30+0x10a5+-0x571),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x29*0xc9+0x15c6+0xa6d),this['_cookieTra'+'nsformSet']=!(0x2116+0x3*0x624+0x112b*-0x3),this['_cookieOff'+'setSet']=!(-0x8*-0x30e+-0x2f*0x3b+0x2*-0x6cd),this['_innerCone'+'Angle']=-0x261a+0x1582+0x86*0x20,this['_outerCone'+'Angle']=-0x19f8+-0x1a90+-0x1*-0x34b5,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x19f7+-0x1a7e+0x3476,this['_cascadeBl'+'end']=-0x1a69+-0x22af+0x3d18,this['cascadeDis'+'tribution']=0x4*0xa0+0x362*0x1+0x5e2*-0x1+0.5,this['_shape']=yt,this['_colorLine'+'ar']=new Float32Array(-0x1782+-0x19f1*0x1+0x3176),this['_updateLin'+'earColor'](),this['_position']=new T(0x1*0x9ad+0x15dd+-0x1f8a,0x847+-0x242a+-0x1*-0x1be3,-0xbbc*0x1+-0x1565+0x2121),this['_direction']=new T(0xd*0x1e5+-0x35*0x6f+-0x1a6,-0x4e4*0x2+0x5c*0x57+-0x157c,-0x1*0x2138+0x98+0x20a0),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x83f+0x1*0x1615+-0x9e*0x30)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0xecb+-0x917+0x16d*-0x4),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x2023+-0x19ab+0xca*-0x8,this['_shadowRes'+'olution']=-0x767+0x8bf+0x2a8,this['_shadowBia'+'s']=-(0x1f1*0x1+0xf0c+-0x10fd+0.0005),this['shadowInte'+'nsity']=0x5d3+0x2032+-0x2604,this['_normalOff'+'setBias']=0x1ac3+-0x1273+0x70*-0x13,this['shadowUpda'+'teMode']=Pp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x13ef*0x1+-0xc73*0x1+-0x77b),this['_isPcf']=!(-0x1973+-0x12c+-0x1*-0x1a9f),this['_softShado'+'wParams']=new Float32Array(0x1ca3*-0x1+0x1*-0x8fa+0x25a1),this['shadowSamp'+'les']=0x1c55+0xd9*0x9+-0x23e6,this['shadowBloc'+'kerSamples']=-0x1*-0x258b+-0x1*-0x26ef+-0x4c6a,this['penumbraSi'+'ze']=-0x166*-0x13+0x14fd+-0x2f8e*0x1,this['penumbraFa'+'lloff']=-0xec1*-0x1+0x1*0x3ce+-0x128e,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1f97*0x1+-0x2084+0xee),this['atlasVersi'+'on']=-0x2*-0x16+0xc02+-0xc2e,this['atlasSlotI'+'ndex']=-0x6fa+-0x2b*-0x86+-0xf88,this['atlasSlotU'+'pdated']=!(-0xfd8+0xa1*-0xd+0x1806),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(0xa17+0x5b3+-0xfc9),this['maxScreenS'+'ize']=0x1a86+0xf1*-0x11+-0xa85,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x2f58fe=-0x4*0x79c+0xe*0x81+-0xbb1*-0x2;_0x2f58fe<this['_renderDat'+'a']['length'];_0x2f58fe++)this['_renderDat'+'a'][_0x2f58fe]['destroy']();this['_renderDat'+'a']['length']=0x1*0x151a+-0xa7*-0x16+-0x2374*0x1;}}['addLayer'](_0x3df331){this['layers']['add'](_0x3df331);}['removeLaye'+'r'](_0x1f9bc7){this['layers']['delete'](_0x1f9bc7);}set['shadowSamp'+'les'](_0x3f5820){this['_softShado'+'wParams'][-0xd99*0x1+0xc1a+0x17f*0x1]=_0x3f5820;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x786*0x5+0x19ec+-0x2*0x1fc5];}set['shadowBloc'+'kerSamples'](_0x12fba6){this['_softShado'+'wParams'][0x24f8+-0x7e*0x2b+-0x5*0x329]=_0x12fba6;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x6d2+-0x59*0x20+-0x5*-0x397];}set['shadowBias'](_0x38f6f8){this['_shadowBia'+'s']!==_0x38f6f8&&(this['_shadowBia'+'s']=_0x38f6f8,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x5a7b66){(!this['cascades']||this['numCascade'+'s']!==_0x5a7b66)&&(this['cascades']=$M[_0x5a7b66-(0x1faa+-0x26*0xec+0x35f*0x1)],this['_shadowMat'+'rixPalette']=new Float32Array((-0x9*0x305+-0x245*-0x2+-0x16a7*-0x1)*(-0x14c0+0x1d4e+-0x1*0x87e)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0xf75+0x2091+0x2*-0x88c),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x3f52a2){this['_cascadeBl'+'end']!==_0x3f52a2&&(this['_cascadeBl'+'end']=_0x3f52a2,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x1ff6e0){this['_shadowMap']!==_0x1ff6e0&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x1ff6e0);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x35873c){this['_mask']!==_0x35873c&&(this['_mask']=_0x35873c,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x37fe8a=this['_type'];return _0x37fe8a===oe?this['numCascade'+'s']:_0x37fe8a===Pe?0xecf+-0x65*-0x45+-0x2a02:0x108b*0x1+0x263b*0x1+-0x36c5;}set['type'](_0x29fa5a){if(this['_type']===_0x29fa5a)return;this['_type']=_0x29fa5a,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x4970e4=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x4970e4;}get['type'](){return this['_type'];}set['shape'](_0x579060){if(this['_shape']===_0x579060)return;this['_shape']=_0x579060,this['_destroySh'+'adowMap'](),this['updateKey']();const _0xa65837=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0xa65837;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x267028){this['_usePhysic'+'alUnits']!==_0x267028&&(this['_usePhysic'+'alUnits']=_0x267028,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x1a8734){if(this['_shadowTyp'+'e']===_0x1a8734)return;const _0x132189=this['device'];_0x1a8734===Ts&&!_0x132189['textureFlo'+'atRenderab'+'le']&&!_0x132189['textureHal'+'fFloatRend'+'erable']&&(_0x1a8734=Dt),this['_type']===Pe&&_0x1a8734!==Bh&&_0x1a8734!==Dt&&_0x1a8734!==Nh&&_0x1a8734!==zh&&_0x1a8734!==Ts&&(_0x1a8734=Dt),_0x1a8734===Wr&&(!_0x132189['textureFlo'+'atRenderab'+'le']||!_0x132189['textureFlo'+'atFilterab'+'le'])&&(_0x1a8734=Hr),_0x1a8734===Hr&&!_0x132189['textureHal'+'fFloatRend'+'erable']&&(_0x1a8734=Dt);const _0x5eb004=ir['get'](_0x1a8734);this['_isVsm']=(_0x5eb004==null?void(0xcb9+0x4e3*0x7+-0x2eee):_0x5eb004['vsm'])??!(0x19e0+0x15*-0x58+-0x5*0x3bb),this['_isPcf']=(_0x5eb004==null?void(0x1bc1+-0x13*0x201+0xa52):_0x5eb004['pcf'])??!(-0x12*0x8b+-0x3*-0x409+0x1*-0x254),this['_shadowTyp'+'e']=_0x1a8734,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x3e497b){this['_enabled']!==_0x3e497b&&(this['_enabled']=_0x3e497b,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x2119e0){this['_castShado'+'ws']!==_0x2119e0&&(this['_castShado'+'ws']=_0x2119e0,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==rr&&this['_mask']!==0x233a+0x1149+-0x3483;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===rr;}set['shadowReso'+'lution'](_0x316d24){this['_shadowRes'+'olution']!==_0x316d24&&(this['_type']===Pe?_0x316d24=Math['min'](_0x316d24,this['device']['maxCubeMap'+'Size']):_0x316d24=Math['min'](_0x316d24,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x316d24,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0xc7529a){this['_vsmBlurSi'+'ze']!==_0xc7529a&&(_0xc7529a%(0x1880+-0x2e8+-0x1596)===0x1b*0x59+-0x132d*0x1+-0x2*-0x4e5&&_0xc7529a++,this['_vsmBlurSi'+'ze']=_0xc7529a);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x1ab960){if(this['_normalOff'+'setBias']!==_0x1ab960){const _0x539632=!this['_normalOff'+'setBias']&&_0x1ab960||this['_normalOff'+'setBias']&&!_0x1ab960;this['_normalOff'+'setBias']=_0x1ab960,_0x539632&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x5d9dd1){this['_falloffMo'+'de']!==_0x5d9dd1&&(this['_falloffMo'+'de']=_0x5d9dd1,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x2844e3){this['_innerCone'+'Angle']!==_0x2844e3&&(this['_innerCone'+'Angle']=_0x2844e3,this['_innerCone'+'AngleCos']=Math['cos'](_0x2844e3*Math['PI']/(-0x23e2+-0x267a+0x4b10)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x156c10){this['_outerCone'+'Angle']!==_0x156c10&&(this['_outerCone'+'Angle']=_0x156c10,this['_updateOut'+'erAngle'](_0x156c10),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x1b2e96){this['_penumbraS'+'ize']=_0x1b2e96,this['_softShado'+'wParams'][0x25a+-0x1*0x19d+-0xb*0x11]=_0x1b2e96;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0xc1ad09){this['_softShado'+'wParams'][-0x106+-0x1f45+0x204e]=_0xc1ad09;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x6ca+0x2*0x46c+-0xf9f];}['_updateOut'+'erAngle'](_0xd54367){const _0x45f4ab=_0xd54367*Math['PI']/(0x5*-0x47c+-0x693*0x1+0x1db3*0x1);this['_outerCone'+'AngleCos']=Math['cos'](_0x45f4ab),this['_outerCone'+'AngleSin']=Math['sin'](_0x45f4ab);}set['intensity'](_0x48741e){this['_intensity']!==_0x48741e&&(this['_intensity']=_0x48741e,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x2c9cbe){this['_type']===oe&&(this['_affectSpe'+'cularity']=_0x2c9cbe,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x964236){this['_luminance']!==_0x964236&&(this['_luminance']=_0x964236,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new Q(0x30d*-0x3+-0x13*-0x99+-0x4*0x8d,0x1*0x20c+-0x1*0xe47+-0x65*-0x1f,-0xa10*0x2+-0x41*0x97+0x3a78,-0x2503+-0x13*-0x167+0xa5f)),this['_atlasView'+'port'];}set['cookie'](_0xad907e){this['_cookie']!==_0xad907e&&(this['_cookie']=_0xad907e,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x13e0a9){this['_cookieFal'+'loff']!==_0x13e0a9&&(this['_cookieFal'+'loff']=_0x13e0a9,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x1fcbcc){if(this['_cookieCha'+'nnel']!==_0x1fcbcc){if(_0x1fcbcc['length']<0x3*0x1f9+-0x1e4*0x13+0x1*0x1e04){const _0x457d3a=_0x1fcbcc['charAt'](_0x1fcbcc['length']-(0x4*-0x56c+-0x1*-0x14bc+0xf5)),_0x5ace7b=0x24aa+-0x1179+0x5*-0x3d6-_0x1fcbcc['length'];for(let _0x2dd131=-0x542*-0x5+0x865*-0x3+-0x11b;_0x2dd131<_0x5ace7b;_0x2dd131++)_0x1fcbcc+=_0x457d3a;}this['_cookieCha'+'nnel']=_0x1fcbcc,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x37a685){this['_cookieTra'+'nsform']!==_0x37a685&&(this['_cookieTra'+'nsform']=_0x37a685,this['_cookieTra'+'nsformSet']=!!_0x37a685,_0x37a685&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(-0x2*-0xc38+-0x2*-0x8fb+-0x2a65)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x838677){if(this['_cookieOff'+'set']===_0x838677)return;!!(this['_cookieTra'+'nsformSet']||_0x838677)&&!_0x838677&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x1810+0x2689+-0xe79,0x5e9*0x2+0xe7d+0x3*-0x8c5):this['_cookieOff'+'set']=_0x838677,this['_cookieOff'+'setSet']=!!_0x838677,_0x838677&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new Q(0x139b+-0xeb9*-0x1+0x1d*-0x12f,0x1842+-0x7*0x4f3+0xa64,-0xd67*0x1+-0x5*-0x5b+0x174*0x8,-0x1367+0x18eb+-0x2c2*0x2),this['_cookieTra'+'nsformSet']=!(0x18d*0xf+-0x1e4d+-0x259*-0x3)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===oe&&this['_enabled'],this['maxScreenS'+'ize']=-0x1508+-0x106*0x22+-0x634*-0x9,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x216a+0x7e9+-0x28d*-0xa),this['atlasSlotU'+'pdated']=!(-0x98d+-0xc*-0x223+0x1*-0x1016);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=cn),this['shadowUpda'+'teOverride'+'s']){for(let _0x507775=0x6b0+0x150b+-0x1bbb;_0x507775<this['shadowUpda'+'teOverride'+'s']['length'];_0x507775++)this['shadowUpda'+'teOverride'+'s'][_0x507775]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x507775]=cn);}}['getRenderD'+'ata'](_0x475ff9,_0x3dd32e){for(let _0x451f4f=-0xc0d*0x1+0xdc*0x6+0x6e5;_0x451f4f<this['_renderDat'+'a']['length'];_0x451f4f++){const _0x4644df=this['_renderDat'+'a'][_0x451f4f];if(_0x4644df['camera']===_0x475ff9&&_0x4644df['face']===_0x3dd32e)return _0x4644df;}const _0x59eb46=new XM(_0x475ff9,_0x3dd32e,this);return this['_renderDat'+'a']['push'](_0x59eb46),_0x59eb46;}['clone'](){const _0x5a308b=new zo(this['device'],this['clusteredL'+'ighting']);return _0x5a308b['type']=this['_type'],_0x5a308b['setColor'](this['_color']),_0x5a308b['intensity']=this['_intensity'],_0x5a308b['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x5a308b['luminance']=this['_luminance'],_0x5a308b['castShadow'+'s']=this['castShadow'+'s'],_0x5a308b['_enabled']=this['_enabled'],_0x5a308b['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x5a308b['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x5a308b['falloffMod'+'e']=this['_falloffMo'+'de'],_0x5a308b['shadowType']=this['_shadowTyp'+'e'],_0x5a308b['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x5a308b['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x5a308b['vsmBias']=this['vsmBias'],_0x5a308b['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5a308b['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x5a308b['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x5a308b['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x5a308b['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x5a308b['numCascade'+'s']=this['numCascade'+'s'],_0x5a308b['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x5a308b['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x5a308b['shape']=this['_shape'],_0x5a308b['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x5a308b['shadowBias']=this['shadowBias'],_0x5a308b['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x5a308b['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x5a308b['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x5a308b['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x5a308b['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x5a308b['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x5a308b['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x5a308b['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x5a308b;}static['getLightUn'+'itConversi'+'on'](_0xb2a649,_0x41b317=Math['PI']/(-0x931+0x1b9b+-0x1266),_0x227284=0x2*-0x24c+-0xaff*-0x1+0x1*-0x667){switch(_0xb2a649){case Re:{const _0x8d7d53=Math['cos'](_0x41b317),_0x50f1a5=Math['cos'](_0x227284);return(0x25af+0x65*-0x2b+-0x14b6)*Math['PI']*(0xaf7+0x1456+0x1*-0x1f4c-_0x50f1a5+(_0x50f1a5-_0x8d7d53)/(0x2695+-0x6d6+-0x145*0x19));}case Pe:return(-0x2212+-0x2*0x863+0x32dc)*Math['PI'];case oe:return 0x1*0xf79+-0x1*0x21f+-0x3*0x473;}}['_getUnifor'+'mBiasValue'+'s'](_0x542149){const _0xdaf965=_0x542149['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Pe:ti['bias']=this['shadowBias'],ti['normalBias']=this['_normalOff'+'setBias'];break;case Re:this['_isVsm']?ti['bias']=-(0x2dc*-0xb+0x4*-0x580+0x16*0x26e+0.00001)*(0x233d+0x428*-0x2+-0x1ad9):ti['bias']=this['shadowBias']*(0x2ea*0x6+-0x10cc+-0x34*0x3),ti['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x22d1+0x2*-0xe99+0x400a)):this['_normalOff'+'setBias'];break;case oe:this['_isVsm']?ti['bias']=-(0x2*0xa61+0x1*0x2266+-0x3728+0.00001)*(0x1acb+-0xb63+-0xf54):ti['bias']=this['shadowBias']/_0xdaf965*(0x24c2+-0x2073*0x1+-0x3eb),ti['normalBias']=this['_isVsm']?this['vsmBias']/(_0xdaf965/(0x72e*0x1+0xba7+0x1d*-0xa6)):this['_normalOff'+'setBias'];break;}return ti;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x3c67c5){if(this['_type']===Re){const _0x59b913=this['attenuatio'+'nEnd'],_0x17cabe=this['_outerCone'+'Angle'],_0x35fa8b=this['_outerCone'+'AngleCos'],_0x48dff3=this['_node'];kl['copy'](_0x48dff3['up']),_0x17cabe>-0x1aee+-0x4fe+0x2eb*0xb?(_0x3c67c5['radius']=_0x59b913*this['_outerCone'+'AngleSin'],kl['mulScalar'](-_0x59b913*_0x35fa8b)):(_0x3c67c5['radius']=_0x59b913/((-0x1f9*0xc+0x22ed+-0xb3f)*_0x35fa8b),kl['mulScalar'](-_0x3c67c5['radius'])),_0x3c67c5['center']['add2'](_0x48dff3['getPositio'+'n'](),kl);}else this['_type']===Pe&&(_0x3c67c5['center']=this['_node']['getPositio'+'n'](),_0x3c67c5['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x265cb0){if(this['_type']===Re){const _0x329563=this['attenuatio'+'nEnd'],_0x15480e=this['_outerCone'+'Angle'],_0x9d933b=this['_node'],_0x1857ea=Math['abs'](Math['sin'](_0x15480e*N['DEG_TO_RAD'])*_0x329563);_0x265cb0['center']['set'](-0x1327*-0x1+-0x4f4*0x2+-0x9*0x107,-_0x329563*(-0x1d6e+-0x218d+0x17*0x2bd+0.5),0x1695+-0xd*-0xab+-0x1f44),_0x265cb0['halfExtent'+'s']['set'](_0x1857ea,_0x329563*(-0x72*0x20+-0x1812+-0x1e*-0x147+0.5),_0x1857ea),_0x265cb0['setFromTra'+'nsformedAa'+'bb'](_0x265cb0,_0x9d933b['getWorldTr'+'ansform'](),!(-0x1687+-0x1*-0xb3a+0xb4d));}else this['_type']===Pe&&(_0x265cb0['center']['copy'](this['_node']['getPositio'+'n']()),_0x265cb0['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Pe&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x1*-0x1168+0xf04+-0x64*0x53,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x816+0x3*-0x85f+0x2133;else{const _0x2772b7=this['shadowBias']*-(0x1413+0x2037*-0x1+-0x4*-0x403);this['shadowDept'+'hState']['depthBias']=_0x2772b7,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x2772b7;}}['_updateLin'+'earColor'](){let _0x4016bf=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x4016bf=this['_luminance']/zo['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*N['DEG_TO_RAD'],this['_innerCone'+'Angle']*N['DEG_TO_RAD']));const _0x578c39=this['_color'],_0x198a82=this['_colorLine'+'ar'];_0x4016bf>=-0xf6*-0x21+-0x6b*-0x59+-0xf*0x498?Ya['linear'](_0x578c39)['mulScalar'](_0x4016bf):Ya['copy'](_0x578c39)['mulScalar'](_0x4016bf)['linear'](),_0x198a82[-0x8d*0x39+0x222a*-0x1+0x418f]=Ya['r'],_0x198a82[-0xc5a+0x1*0x185+-0x26*-0x49]=Ya['g'],_0x198a82[0xa18+-0x22c6+0x18b0]=Ya['b'];}['setColor'](){arguments['length']===-0x24f+0x1d1*0x7+-0xa67?this['_color']['set'](arguments[0x17*0x17a+-0xf78+-0x127e]['r'],arguments[0xc14+-0x2ef*-0x9+0x1*-0x267b]['g'],arguments[-0xf18+0x586+-0x15e*-0x7]['b']):arguments['length']===-0x22dd+-0x1*0x7bb+0x2a9b&&this['_color']['set'](arguments[-0x19e5+-0x110c+0x2af1*0x1],arguments[0x2*-0x4e1+-0x3*-0x727+-0xbb2],arguments[-0x1*-0x89f+0x2*0x6c7+-0x162b]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x354211=>{_0x354211['hasLight'](this)&&_0x354211['markLights'+'Dirty']();});}['updateKey'](){let _0xae07fb=this['_type']<<-0xb*0x95+-0xec4+-0x38c*-0x6|this['_shadowTyp'+'e']<<0x87b+0xb0d+-0x136f|this['_falloffMo'+'de']<<0x1*-0x2243+0x6*0x3d6+0xb56|(this['_normalOff'+'setBias']!==-0x2505+-0x5*-0x118+0xc5*0x29?-0x1494+-0x1*0x1607+0x2a9c:0x1*-0x2275+0x16ab+0xbca)<<-0x194+0x53*0x12+-0x42c|(this['_cookie']?0x749*-0x3+0xd55*0x2+-0x7b*0xa:0xbb8+0x13*-0x7+-0xb33*0x1)<<0x1bfe+0x252d+-0x4116|(this['_cookieFal'+'loff']?0x65f*0x2+-0x6*0x2b+-0xd*0xe7:0x1b2f+0x617+0x2*-0x10a3)<<0xbe9*0x1+-0x1f4b+-0x9bb*-0x2|Ud[this['_cookieCha'+'nnel']['charAt'](-0x1a5c+-0x16f6*0x1+-0x3152*-0x1)]<<-0x1*0x13fc+0x1100+0x30e*0x1|(this['_cookieTra'+'nsform']?-0x46f*0x2+0xf0b*0x2+0x1*-0x1537:0x1*0x16f6+0x1ef7+0xb*-0x4e7)<<0x328+0x1015+-0x1331|this['_shape']<<-0xa76+0x1da4+-0x1324|(this['numCascade'+'s']>0x1*-0x200+-0x190c*0x1+-0x4*-0x6c3?-0x104b*-0x2+0x1*0x85a+0x3*-0xda5:0x1*-0xf6f+0x22d*0xb+-0x80*0x11)<<-0x1314+0x19b5*0x1+-0x698*0x1|(this['_cascadeBl'+'end']>0x81*-0xd+0x92c*-0x1+0xfb9?-0xf3b+0xb5a+0x8e*0x7:-0x3e*-0x6d+0xcfc+0x2*-0x13b1)<<0x1484+0x576+-0x19f2|(this['affectSpec'+'ularity']?-0x3c1+0x963+-0x5a1:-0x2e7*-0xb+-0x1ad2+0x1*-0x51b)<<-0x1f35+-0x1cb3+0x1*0x3bef|this['mask']<<-0x7*0x395+-0x9e1+0x22fa|(this['_castShado'+'ws']?-0x1a9a+0x3f*-0x5d+0x317e:-0xffa+0x2076+-0x107c)<<-0x264f+0x25b5+0x9d*0x1;this['_cookieCha'+'nnel']['length']===0x1c93*0x1+-0x10b*0x7+0x1*-0x1543&&(_0xae07fb|=Ud[this['_cookieCha'+'nnel']['charAt'](0xceb*-0x3+0x13b5+0x1*0x130d)]<<0x1694+-0x1f61+0x8dd,_0xae07fb|=Ud[this['_cookieCha'+'nnel']['charAt'](-0x1ba7+-0x13*-0x1dd+0x3df*-0x2)]<<-0xcc*0x18+-0x1e*-0x46+0xafa),_0xae07fb!==this['key']&&this['layersDirt'+'y'](),this['key']=_0xae07fb;}}class L0{constructor(_0x4e9441,_0x54cdcd,_0x2f00fa){c(this,'_areaLight'+'sEnabled',!(-0x1d09+0x17d+0x1b8d)),c(this,'_cells',new T(0xa67+0x5f6+-0x571*0x3,-0x1*-0x1349+-0x6e7+0xc5f*-0x1,0x32*0x1d+-0x1*-0x1795+-0x1d35*0x1)),c(this,'_maxLights'+'PerCell',0x2f4+-0xa7*0x2a+0x1971),c(this,'_shadowsEn'+'abled',!(0xe7*0x17+-0x115*-0x1+-0x15d6)),c(this,'_shadowTyp'+'e',Dt),c(this,'_shadowAtl'+'asResoluti'+'on',0x3*0x155+0x1e3+-0x10f*-0x2),c(this,'_cookiesEn'+'abled',!(-0x969*-0x4+-0x17a*-0x6+0x2e7f*-0x1)),c(this,'_cookieAtl'+'asResoluti'+'on',0x14e9*0x1+-0x242c+0x3*0x7c1),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x4e9441,this['_maxTextur'+'eSize']=_0x54cdcd,this['_dirtyLigh'+'tsFnc']=_0x2f00fa);}['applySetti'+'ngs'](_0x297463){this['shadowsEna'+'bled']=_0x297463['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x297463['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x297463['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x297463['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x297463['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x297463['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x297463['lightingSh'+'adowType']??this['shadowType'],_0x297463['lightingCe'+'lls']&&(this['cell']=new T(_0x297463['lightingCe'+'lls']));}set['cells'](_0x2b66a2){this['_cells']['copy'](_0x2b66a2);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x15aa09){this['_maxLights'+'PerCell']=N['clamp'](_0x15aa09,-0x11b5+0x1d29+-0xb73,0x1eb*0x3+-0x1a1d+0x155b);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x4025b8){this['_cookieAtl'+'asResoluti'+'on']=N['clamp'](_0x4025b8,0x33*-0x9d+-0x35*0x5f+0x883*0x6,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x458452){this['_shadowAtl'+'asResoluti'+'on']=N['clamp'](_0x458452,-0xff7*0x2+0x2093+0x1*-0x85,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x1746bc){this['_shadowTyp'+'e']!==_0x1746bc&&(this['_shadowTyp'+'e']=_0x1746bc,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x35e323){this['_cookiesEn'+'abled']!==_0x35e323&&(this['_cookiesEn'+'abled']=_0x35e323,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x5e215f){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x5e215f&&(this['_areaLight'+'sEnabled']=_0x5e215f,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x29fe09){this['_shadowsEn'+'abled']!==_0x29fe09&&(this['_shadowsEn'+'abled']=_0x29fe09,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const jM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',YM=new _t(!(0x178*0xe+0x1f75*0x1+-0x243*0x17),Lt,at,at);class fn{constructor(_0x2df3b4){c(this,'shaderCach'+'e',[]),(this['morph']=_0x2df3b4,_0x2df3b4['incRefCoun'+'t'](),this['device']=_0x2df3b4['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x392e58=-0x24ec+0x7*0x3b1+0xb15*0x1;_0x392e58<_0x2df3b4['_targets']['length'];_0x392e58++){const _0x23ab88=_0x2df3b4['_targets'][_0x392e58];_0x23ab88['name']&&this['_weightMap']['set'](_0x23ab88['name'],_0x392e58),this['setWeight'](_0x392e58,_0x23ab88['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x53a83d=(_0x394e3f,_0x3ebe16)=>(this[_0x3ebe16]=_0x2df3b4['_createTex'+'ture'](_0x394e3f,_0x2df3b4['_renderTex'+'tureFormat']),new pt({'colorBuffer':this[_0x3ebe16],'depth':!(-0x1*0x171d+-0xffa*0x1+0x2718)}));_0x2df3b4['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x53a83d('MorphRTPos','texturePos'+'itions')),_0x2df3b4['morphNorma'+'ls']&&(this['rtNormals']=_0x53a83d('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x2df3b4['morphTextu'+'reWidth'],_0x2df3b4['morphTextu'+'reHeight']]);const _0x50e7a8=_0x2df3b4['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x50e7a8['x']*(0x19*0x119+-0x1298+0x77*-0x13),_0x50e7a8['y']*(0x1853+-0x21fc+0x9ad),_0x50e7a8['z']*(-0xfd*0x1f+0x3*-0x50f+0x1a3*0x1c)]);const _0x5ef7b9=_0x2df3b4['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x5ef7b9['x']*(-0x1796*-0x1+0x6*-0xb4+-0x135c),_0x5ef7b9['y']*(0xd*0x53+0x725+0x1*-0xb5a),_0x5ef7b9['z']*(0x97*0x1f+-0x1*0xc0c+-0x63b*0x1)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x1f8+-0x2226*0x1+0x2420,0x1a26+0x2b5+-0x5*0x5c5,-0x1764+0x32*0x12+-0x5*-0x3fa]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x15*-0x1c+0x25*0xb1+-0x1748),-(0x9f3+-0x2083*-0x1+-0x1*0x2a75),-(0xa55+0x4da*-0x3+0x43a)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x2a487e=-0x15d1+-0x23ea+0x1*0x39bb;_0x2a487e<this['maxSubmitC'+'ount'];_0x2a487e++)this['morphBlend'+'Tex'+_0x2a487e]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x2a487e);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x905+0x246f+-0x2d73);}['destroy'](){this['shader']=null;const _0x1776aa=this['morph'];_0x1776aa&&(this['morph']=null,_0x1776aa['decRefCoun'+'t'](),_0x1776aa['refCount']<0x22ad+0x24fa+0x7f6*-0x9&&_0x1776aa['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new fn(this['morph']);}['_getWeight'+'Index'](_0x37f4b3){if(typeof _0x37f4b3=='string'){const _0x1adf5c=this['_weightMap']['get'](_0x37f4b3);return _0x1adf5c===void(0x9*-0x3e5+-0x3*-0xc2d+-0x17a)&&v['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x37f4b3+'.'),_0x1adf5c;}return _0x37f4b3;}['getWeight'](_0x1c07b4){const _0x59dce0=this['_getWeight'+'Index'](_0x1c07b4);return this['_weights'][_0x59dce0];}['setWeight'](_0x4fd99c,_0x7b84d){const _0xc36f21=this['_getWeight'+'Index'](_0x4fd99c);v['assert'](_0xc36f21>=0x7ad+-0x1*0x146f+-0x661*-0x2&&_0xc36f21<this['morph']['_targets']['length']),this['_weights'][_0xc36f21]=_0x7b84d,this['_dirty']=!(-0x513*0x6+0x75b+0x17*0x101);}['_getFragme'+'ntShader'](_0x191975){let _0x26ce71='',_0x211a5b='';for(let _0xf6a720=0x13fb+0x262c+0x3a27*-0x1;_0xf6a720<_0x191975;_0xf6a720++)_0x26ce71+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0xf6a720+';',_0x211a5b+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0xf6a720+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0xf6a720+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x191975>0x1*-0xcaa+-0x2518+-0x42*-0xc1?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x191975+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x26ce71+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x211a5b+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x4f0a8c){let _0x1a52be=this['shaderCach'+'e'][_0x4f0a8c];if(!_0x1a52be){const _0x47050a=this['_getFragme'+'ntShader'](_0x4f0a8c),_0x5b9ee1=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x1a52be=Is(this['device'],jM,_0x47050a,'textureMor'+'ph'+_0x4f0a8c,void(0x24ec+-0x174d*-0x1+-0x6b1*0x9),{'fragmentOutputTypes':[_0x5b9ee1]}),this['shaderCach'+'e'][_0x4f0a8c]=_0x1a52be;}return _0x1a52be;}['_updateTex'+'tureRender'+'Target'](_0x105c8a,_0x3d4cee,_0x52dcda){const _0x2e8784=this['device'],_0x2fa713=(_0x4f91d4,_0x3466bf)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x2e8784['setBlendSt'+'ate'](_0x3466bf?YM:_t['NOBLEND']);const _0x3e08ad=this['_getShader'](_0x4f91d4);dn(_0x2e8784,_0x105c8a,_0x3e08ad);};this['setAabbUni'+'forms'](_0x52dcda);let _0x5d54c9=0x22c7+-0x337+0x10*-0x1f9,_0x14c69f=!(-0x16ef+-0xc5e+0x234e);const _0x20987f=this['_activeTar'+'gets']['length'];for(let _0x2c6688=0x1*-0x1e6a+-0xdd4+0x2c3e;_0x2c6688<_0x20987f;_0x2c6688++){const _0x502649=this['_activeTar'+'gets'][_0x2c6688],_0x1cee22=_0x502649['target'][_0x3d4cee];_0x1cee22&&(this['morphBlend'+'Tex'+_0x5d54c9]['setValue'](_0x1cee22),this['_shaderMor'+'phWeights'][_0x5d54c9]=_0x502649['weight'],_0x5d54c9++,_0x5d54c9>=this['maxSubmitC'+'ount']&&(_0x2fa713(_0x5d54c9,_0x14c69f),_0x5d54c9=-0xbb5+-0xea8+0x1a5d,_0x14c69f=!(-0x4*0x722+0x1d*0x119+-0x34d)));}(_0x5d54c9>0x12*-0x6d+-0x3d2+0xb7c||_0x20987f===0x8a4+0x3b*0x53+-0x1bc5*0x1&&!this['zeroTextur'+'es'])&&_0x2fa713(_0x5d54c9,_0x14c69f);}['_updateTex'+'tureMorph'](){const _0x3b5324=this['device'];G['pushGpuMar'+'ker'](_0x3b5324,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x1*-0x92a+0x1*-0x911+-0x123b*-0x1||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x9b*0x33+-0x2393+-0x1*-0x4b2)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0xd58+0x88a+0x4cf*0x1)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0x9e3+-0x2d*0x9f+-0x25d6*-0x1),G['popGpuMark'+'er'](_0x3b5324);}['setAabbUni'+'forms'](_0x2f4aa0=!(-0x2043*-0x1+0x23d4+-0x1*0x4417)){this['aabbSizeId']['setValue'](_0x2f4aa0?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x2f4aa0?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x1314d2){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0xdf7+-0x19f1+0x27e9);const _0x19d870=this['morph']['_targets'];let _0x111da5=0x26f1+-0xd3f+0x19b2*-0x1;const _0x51796f=-0xf4*-0x19+0x9*0x1db+-0x2887+0.00001;for(let _0x2531b1=0x978+0x2183+0x1*-0x2afb;_0x2531b1<_0x19d870['length'];_0x2531b1++){const _0x1a208d=Math['abs'](this['getWeight'](_0x2531b1));if(_0x1a208d>_0x51796f){this['_activeTar'+'gets']['length']<=_0x111da5&&(this['_activeTar'+'gets'][_0x111da5]={});const _0x37892f=this['_activeTar'+'gets'][_0x111da5++];_0x37892f['absWeight']=_0x1a208d,_0x37892f['weight']=this['getWeight'](_0x2531b1),_0x37892f['target']=_0x19d870[_0x2531b1];}}this['_activeTar'+'gets']['length']=_0x111da5,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x140700,_0x4c082f)=>_0x140700['absWeight']<_0x4c082f['absWeight']?0x3*0x48c+0x43d+0x1*-0x11e0:_0x4c082f['absWeight']<_0x140700['absWeight']?-(-0x185d+-0x20f*0x11+0x3b5d):-0x38d+0x1238*-0x1+0x1*0x15c5),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Oi{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x7dd+-0x45e+-0x37f,this['_immutable']=!(-0xea5*0x1+-0x6d4+0x157a));}['getGraph'](){return this['graph'];}['setGraph'](_0x5af95f){this['graph']=_0x5af95f;}['getCameras'](){return this['cameras'];}['setCameras'](_0x39d6f9){this['cameras']=_0x39d6f9;}['getLights'](){return this['lights'];}['setLights'](_0x3194d7){this['lights']=_0x3194d7;}['getMateria'+'ls'](){const _0x284c0a=[];for(let _0x3db93a=-0x1*0x129a+-0x8d1+0x1b6b;_0x3db93a<this['meshInstan'+'ces']['length'];_0x3db93a++){const _0x424354=this['meshInstan'+'ces'][_0x3db93a];_0x284c0a['indexOf'](_0x424354['material'])===-(-0x1*0x2473+-0x3e9*0x1+0x285d)&&_0x284c0a['push'](_0x424354['material']);}return _0x284c0a;}['clone'](){const _0x20a441=[],_0x5cad99=[],_0x361a2e=function(_0x3c729f){const _0x570cd5=_0x3c729f['clone']();_0x20a441['push'](_0x3c729f),_0x5cad99['push'](_0x570cd5);for(let _0x41b98a=-0x454+0x24ab+-0x2057;_0x41b98a<_0x3c729f['_children']['length'];_0x41b98a++)_0x570cd5['addChild'](_0x361a2e(_0x3c729f['_children'][_0x41b98a]));return _0x570cd5;},_0x1eeaa4=_0x361a2e(this['graph']),_0xa1abf4=[],_0x577cfd=[],_0x4d1bc2=[];for(let _0x12f96b=0x1794+0x876+-0x3*0xaae;_0x12f96b<this['skinInstan'+'ces']['length'];_0x12f96b++){const _0x3ba9d8=this['skinInstan'+'ces'][_0x12f96b]['skin'],_0x230302=new nl(_0x3ba9d8),_0x561206=[];for(let _0x8dcb03=0x1*0x1e7+-0x17b*0xb+0x20e*0x7;_0x8dcb03<_0x3ba9d8['boneNames']['length'];_0x8dcb03++){const _0x4fc0db=_0x3ba9d8['boneNames'][_0x8dcb03],_0x41fdff=_0x1eeaa4['findByName'](_0x4fc0db);_0x561206['push'](_0x41fdff);}_0x230302['bones']=_0x561206,_0x577cfd['push'](_0x230302);}for(let _0x1dd8e9=0x1bb3+-0x1d58+-0x1*-0x1a5;_0x1dd8e9<this['morphInsta'+'nces']['length'];_0x1dd8e9++){const _0x29513f=this['morphInsta'+'nces'][_0x1dd8e9]['morph'],_0x1a4e0c=new fn(_0x29513f);_0x4d1bc2['push'](_0x1a4e0c);}for(let _0x4d8106=0x1c1c+-0x1*-0x1d41+-0x395d;_0x4d8106<this['meshInstan'+'ces']['length'];_0x4d8106++){const _0x58bc0f=this['meshInstan'+'ces'][_0x4d8106],_0x4e1865=_0x20a441['indexOf'](_0x58bc0f['node']),_0x43b96e=new Le(_0x58bc0f['mesh'],_0x58bc0f['material'],_0x5cad99[_0x4e1865]);if(_0x58bc0f['skinInstan'+'ce']){const _0x3e3326=this['skinInstan'+'ces']['indexOf'](_0x58bc0f['skinInstan'+'ce']);_0x43b96e['skinInstan'+'ce']=_0x577cfd[_0x3e3326];}if(_0x58bc0f['morphInsta'+'nce']){const _0x37c4c9=this['morphInsta'+'nces']['indexOf'](_0x58bc0f['morphInsta'+'nce']);_0x43b96e['morphInsta'+'nce']=_0x4d1bc2[_0x37c4c9];}_0xa1abf4['push'](_0x43b96e);}const _0x219be1=new Oi();return _0x219be1['graph']=_0x1eeaa4,_0x219be1['meshInstan'+'ces']=_0xa1abf4,_0x219be1['skinInstan'+'ces']=_0x577cfd,_0x219be1['morphInsta'+'nces']=_0x4d1bc2,_0x219be1['getGraph']()['syncHierar'+'chy'](),_0x219be1;}['destroy'](){const _0x4bd5a0=this['meshInstan'+'ces'];for(let _0x553a27=0x139f*0x1+-0x70*0x1f+-0x60f;_0x553a27<_0x4bd5a0['length'];_0x553a27++)_0x4bd5a0[_0x553a27]['destroy']();this['meshInstan'+'ces']['length']=0x6dd+0x21fe+-0x28db;}['generateWi'+'reframe'](){Le['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Dr);}}class F0 extends Gc{constructor(_0x5d3fe6,_0x2668fd,{preferHighPrecision:_0x1de8e7=!(0x349+-0x18b*0x13+-0x5*-0x535)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(v['assert'](_0x2668fd,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x2668fd,this['preferHigh'+'Precision']=_0x1de8e7,v['assert'](_0x5d3fe6['every'](_0x529643=>!_0x529643['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x5d3fe6['slice']());const _0x5e477d=this['device'],_0x1f9b65=_0x5e477d['textureHal'+'fFloatRend'+'erable']?Je:void(-0x89+0x11dd+-0x1154),_0x2e433f=_0x5e477d['textureFlo'+'atRenderab'+'le']?Ke:void(-0x1894+0x3fb*-0x1+-0x1c8f*-0x1);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x2e433f??_0x1f9b65:_0x1f9b65??_0x2e433f,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Ac,this['intRenderF'+'ormat']=ea(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Sc:Je,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x38b94c=new T(),_0x147a15=new T();for(let _0xc92fe5=-0x1c9a+0x192+0x1b08;_0xc92fe5<this['_targets']['length'];_0xc92fe5++){const _0x560047=this['_targets'][_0xc92fe5]['aabb'];_0x38b94c['min'](_0x560047['getMin']()),_0x147a15['max'](_0x560047['getMax']());}this['_aabb']=new _e(),this['_aabb']['setMinMax'](_0x38b94c,_0x147a15);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x416520=-0x10d*0x9+0x5*0x4b5+-0x4*0x385;_0x416520<this['_targets']['length'];_0x416520++)this['_targets'][_0x416520]['_postInit']();}['_findSpars'+'eSet'](_0x4ecc0f,_0x311af0,_0x2f0b36){let _0x152fd6=0x2*-0xede+0x112b*0x2+-0x499*0x1;const _0x1c286f=_0x4ecc0f[0x13*-0x151+-0x5c3*0x5+-0x2*-0x1ae9]['length'];for(let _0x4a7dfc=-0x1646+0x4f3*0x7+-0xc5f;_0x4a7dfc<_0x1c286f;_0x4a7dfc+=-0x125a+-0x2*-0x362+-0xb99*-0x1){let _0x2aea0e=!(-0x2*0x347+0x2*0x319+0x1f*0x3);for(let _0x17d25b=-0x141*-0xf+0x94d+-0x1c1c;_0x17d25b<_0x4ecc0f['length'];_0x17d25b++){const _0x17585e=_0x4ecc0f[_0x17d25b];if(_0x17585e[_0x4a7dfc]!==0x26*0xf9+-0x1*0x1951+-0xb*0x10f||_0x17585e[_0x4a7dfc+(-0x12f2+-0x1360+0x2653)]!==-0x2500+0x5*-0x621+0x43a5||_0x17585e[_0x4a7dfc+(0x25a9+0x3a5*0xa+-0x4a19)]!==0xda9+-0x44d*0x1+-0x2*0x4ae){_0x2aea0e=!(0x6b*0x59+-0x6*-0x3f2+0x3cdf*-0x1);break;}}_0x2aea0e?(_0x311af0['push'](_0x152fd6),_0x2f0b36['push'](_0x4a7dfc/(0x1*0x17fa+0x9c4+-0x21bb)),_0x152fd6++):_0x311af0['push'](0xba3*0x2+-0xc63*0x3+0xde3);}return _0x152fd6;}['_initTextu'+'reBased'](){const _0x2a5d6b=[],_0x57a492=[];for(let _0x1260e1=-0x185b+0x1ba9+-0x2f*0x12;_0x1260e1<this['_targets']['length'];_0x1260e1++){const _0x5e2871=this['_targets'][_0x1260e1];_0x5e2871['options']['deltaPosit'+'ions']&&(_0x2a5d6b['push'](_0x5e2871['options']['deltaPosit'+'ions']),_0x57a492['push']({'target':_0x5e2871,'name':'texturePos'+'itions'})),_0x5e2871['options']['deltaNorma'+'ls']&&(_0x2a5d6b['push'](_0x5e2871['options']['deltaNorma'+'ls']),_0x57a492['push']({'target':_0x5e2871,'name':'textureNor'+'mals'}));}const _0x2cf331=[],_0x1861e1=[],_0x5d906c=this['_findSpars'+'eSet'](_0x2a5d6b,_0x2cf331,_0x1861e1),_0x1f276d=this['device']['maxTexture'+'Size'];let _0x20caee=Math['ceil'](Math['sqrt'](_0x5d906c));_0x20caee=Math['min'](_0x20caee,_0x1f276d);const _0x26bd52=Math['ceil'](_0x5d906c/_0x20caee);if(_0x26bd52>_0x1f276d)return!(-0x1*-0x31d+0x1*0x114+-0x430);this['morphTextu'+'reWidth']=_0x20caee,this['morphTextu'+'reHeight']=_0x26bd52;let _0x183b83=!(0x58f+-0x52*-0xb+-0x53*0x1c),_0x349927=-0x10ec+-0x3*0x9b5+-0x2d*-0x106;const _0x4a0e6d=Wt['float2Half'];this['_textureFo'+'rmat']===Je&&(_0x183b83=!(-0x259c+-0x976*0x4+0x4b74),_0x349927=-0x276+-0x9d*0x2e+0x1eb*0x10);const _0x2838cc=[];for(let _0x183aa7=0x43a+-0x4*0x4c7+0x5*0x2fa;_0x183aa7<_0x2a5d6b['length'];_0x183aa7++)_0x2838cc['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x19dfc6=-0x353+0x6b7+-0x7c*0x7;_0x19dfc6<_0x2a5d6b['length'];_0x19dfc6++){const _0x1506c4=_0x2a5d6b[_0x19dfc6],_0x2f7bdd=_0x2838cc[_0x19dfc6],_0x4a6a11=_0x2f7bdd['lock']();if(_0x183b83)for(let _0x52d214=-0x1*0x128b+-0x15ba*-0x1+-0x32f;_0x52d214<_0x1861e1['length'];_0x52d214++){const _0x26d681=_0x1861e1[_0x52d214]*(-0x122a*0x1+-0x1db9+-0x2fe6*-0x1),_0x181a87=_0x52d214*_0x349927+_0x349927;_0x4a6a11[_0x181a87]=_0x4a0e6d(_0x1506c4[_0x26d681]),_0x4a6a11[_0x181a87+(0x91c+0x1ff1*0x1+-0x4*0xa43)]=_0x4a0e6d(_0x1506c4[_0x26d681+(-0x2301+-0xafc*0x1+0xcb*0x3a)]),_0x4a6a11[_0x181a87+(0x1*-0xec6+0x9b*-0x29+0x279b)]=_0x4a0e6d(_0x1506c4[_0x26d681+(0x74*-0x13+-0x4*-0x4a9+0xa06*-0x1)]);}else for(let _0x54ce96=0x2*0x2d1+0x4fa*-0x3+0x94c;_0x54ce96<_0x1861e1['length'];_0x54ce96++){const _0x2c20ae=_0x1861e1[_0x54ce96]*(0x2548+0x2*-0x11a7+-0x1f7),_0x431fa2=_0x54ce96*_0x349927+_0x349927;_0x4a6a11[_0x431fa2]=_0x1506c4[_0x2c20ae],_0x4a6a11[_0x431fa2+(-0x1a97+-0x2383*-0x1+-0x8eb)]=_0x1506c4[_0x2c20ae+(0x2369+0x3e1+-0x2749)],_0x4a6a11[_0x431fa2+(0x1b28+-0x1*-0x15d3+-0x30f9)]=_0x1506c4[_0x2c20ae+(0x1*-0x8f+0x1*0x78b+-0x6fa)];}_0x2f7bdd['unlock'](),_0x57a492[_0x19dfc6]['target']['_setTextur'+'e'](_0x57a492[_0x19dfc6]['name'],_0x2f7bdd);}const _0x5b0308=[{'semantic':ya,'components':0x1,'type':Do,'asInt':!(0x2672+0xb23*-0x1+-0x1b4f)}];return this['vertexBuff'+'erIds']=new os(this['device'],new Et(this['device'],_0x5b0308,_0x2cf331['length']),_0x2cf331['length'],{'data':new Uint32Array(_0x2cf331)}),!(0x2*0x4ec+-0x51a+-0x25f*0x2);}['destroy'](){var _0x5193da;(_0x5193da=this['vertexBuff'+'erIds'])==null||_0x5193da['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x41065b=0xc7*-0x1+-0x2094+0x215b;_0x41065b<this['_targets']['length'];_0x41065b++)this['_targets'][_0x41065b]['destroy']();this['_targets']['length']=0x3*-0x63b+0x318+-0xb*-0x16b;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0x1c26+-0x124b+-0x9da),this['_morphNorm'+'als']=!(0xd*-0x7f+-0xd7*0x14+0x1740);for(let _0x58dd30=-0x71*0x2a+-0x1*-0xd61+0x529;_0x58dd30<this['_targets']['length'];_0x58dd30++){const _0x3ca560=this['_targets'][_0x58dd30];_0x3ca560['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x39d+-0x303*-0xb+0x761*-0x4)),_0x3ca560['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x2523+-0x1*-0x1549+-0x3a6c));}}['_createTex'+'ture'](_0x4a8fed,_0x2720cc){return new he(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x2720cc,'cubemap':!(0x7*-0x4e4+0x208b+0x1b2),'mipmaps':!(0x1a8f*0x1+0x1a12+-0x34a0),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0x4a8fed});}}class Qc{constructor(_0x1f9f51){c(this,'used',!(-0x11cd+-0x2*0x3f1+-0x30*-0x89)),(v['assert'](arguments['length']===0x227c+-0x717+0xdb2*-0x2),this['options']=_0x1f9f51,this['_name']=_0x1f9f51['name'],this['_defaultWe'+'ight']=_0x1f9f51['defaultWei'+'ght']||0x1*0xc31+0x1*0x1faf+-0x2be0,this['_aabb']=_0x1f9f51['aabb'],this['deltaPosit'+'ions']=_0x1f9f51['deltaPosit'+'ions']);}['destroy'](){var _0x27fbfa,_0x424e3a;(_0x27fbfa=this['texturePos'+'itions'])==null||_0x27fbfa['destroy'](),this['texturePos'+'itions']=null,(_0x424e3a=this['textureNor'+'mals'])==null||_0x424e3a['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new _e(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return v['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Qc(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x734+0x19cd+-0x1299);}['_setTextur'+'e'](_0x139ce8,_0xc41421){this[_0x139ce8]=_0xc41421;}}let si,v_=-0x2*-0x71d+0x44*0x2+-0xec1;const ie=-0x26b*0x5+0xf9*0x22+-0x14f7,Vd=new q(),Gd=new q(),ks=new T(),ze=new T(),ps=new T(),Rn=new T(),Nt=new T(),Ze=new T(),In=new T(),Dn=new T(),Ka=new T(),b_=new T(),vt=new T(),Bl=new T(),wr=new T();function ia(_0x5e2a85){return _0x5e2a85-Math['floor'](_0x5e2a85);}function KM(_0x321d8a){return Math['max'](Math['min'](_0x321d8a,-0x35*0x7f+0x19ed*-0x1+0x3439),-0xd6d+0x1296+0x1*-0x529);}function Hd(_0x1a7984,_0xc33ca0){return _0x1a7984-_0xc33ca0*Math['floor'](_0x1a7984/_0xc33ca0);}function ZM(_0x45e942){let _0x16f1ba=ia(_0x45e942),_0x45c266=ia((-0x23e*-0x3+-0x1f76+-0x1*-0x19bb)*_0x45e942),_0xea1396=ia((0xeaa3+0x4ad2+-0x111*0x34)*_0x45e942),_0x8f0336=ia((0xe9fd80f+-0x11208e*0xba+0x1d90587*0x4)*_0x45e942);return _0x16f1ba-=_0x45c266/(-0x20c1+-0x2616+-0x2*-0x23eb),_0x45c266-=_0xea1396/(0x1b*0x135+-0x13a*-0xc+-0x2e50),_0xea1396-=_0x8f0336/(0xbd8*0x2+-0x284+-0x142d),_0x8f0336-=_0x8f0336/(0x16e1+-0x1*-0x1e6d+-0x344f),[_0x16f1ba,_0x45c266,_0xea1396,_0x8f0336];}function Nl(_0x5ce158){let _0x2dab99=ia(_0x5ce158),_0x589e26=ia((-0x14d6+0x19db*0x1+-0x406)*_0x5ce158);return _0x2dab99-=_0x589e26/(-0x1e59+0x90c*0x4+-0x4d8),_0x589e26-=_0x589e26/(0x1fdf+-0x1398+-0xb48),[_0x2dab99,_0x589e26];}class QM{constructor(_0x4e46cc){this['_emitter']=_0x4e46cc;}['calcSpawnP'+'osition'](_0x4976c6,_0x76e12b,_0xc80462,_0x320dbf,_0x40c3ab){const _0x178eab=this['_emitter'],_0x72e562=Math['random'](),_0xc24028=Math['random'](),_0x49f400=Math['random'](),_0x1cf1b9=Math['random']();if(_0x178eab['useCpu']&&(_0x4976c6[_0x40c3ab*ie+(0x227a+0x142+-0x23bc)+_0x178eab['numParticl'+'esPot']*(-0x23d*0x7+0x23c5+-0x506*0x4)*ie]=_0x72e562,_0x4976c6[_0x40c3ab*ie+(-0x25a9+-0xe*0x2ab+0x2582*0x2)+_0x178eab['numParticl'+'esPot']*(-0x1e70+-0x1e12+0x3c84)*ie]=_0xc24028,_0x4976c6[_0x40c3ab*ie+(-0x1fdf*0x1+0x19e7+0x2*0x2fd)+_0x178eab['numParticl'+'esPot']*(-0x2439+-0x20b9*-0x1+0x382)*ie]=_0x49f400),ze['x']=_0x72e562-(-0x1f22+0x2239+-0x7*0x71+0.5),ze['y']=_0xc24028-(0x980+0x1a4d*0x1+-0xc3*0x2f+0.5),ze['z']=_0x49f400-(-0x25df*-0x1+-0x2375+-0x1*0x26a+0.5),_0x178eab['emitterSha'+'pe']===Vs){const _0x3f0738=Math['max'](Math['abs'](ze['x']),Math['max'](Math['abs'](ze['y']),Math['abs'](ze['z']))),_0x483a4d=_0x3f0738+(-0x1c*0xb3+-0x2450+0x37e4+0.5-_0x3f0738)*_0xc80462[0x1a*0x89+0x50c+-0x97b*0x2],_0x5d1cbe=_0x3f0738+(0x110*0x23+0x86+-0x25b6+0.5-_0x3f0738)*_0xc80462[0xd54*0x2+-0x2*-0x1269+-0x3f79],_0x1db373=_0x3f0738+(0x3*0x541+-0x18ec+-0x14f*-0x7+0.5-_0x3f0738)*_0xc80462[0x22d+-0x5e3+0x3b8];ze['x']=_0x483a4d*(_0x3f0738===Math['abs'](ze['x'])?Math['sign'](ze['x']):(0xa54+0x9*0x3c+-0xc6e)*ze['x']),ze['y']=_0x5d1cbe*(_0x3f0738===Math['abs'](ze['y'])?Math['sign'](ze['y']):(0x2132+-0x693+-0x1*0x1a9d)*ze['y']),ze['z']=_0x1db373*(_0x3f0738===Math['abs'](ze['z'])?Math['sign'](ze['z']):(-0x2498*-0x1+-0x1c08+-0x2*0x447)*ze['z']),_0x178eab['localSpace']?ks['copy'](_0x76e12b['transformP'+'oint'](ze)):ks['copy'](_0x320dbf)['add'](_0x76e12b['transformP'+'oint'](ze));}else{ze['normalize']();const _0x5cf8ee=_0x178eab['emitterRad'+'ius']===-0xcf9+0x10c9*-0x2+0x1*0x2e8b?0x148d*0x1+-0x21c9+0x9a*0x16:_0x178eab['emitterRad'+'iusInner']/_0x178eab['emitterRad'+'ius'],_0x163655=_0x1cf1b9*(0x1c*0x154+0x1836+-0x3*0x1477-_0x5cf8ee)+_0x5cf8ee;_0x178eab['localSpace']?ks['copy'](ze['mulScalar'](_0x163655*_0x178eab['emitterRad'+'ius'])):ks['copy'](_0x320dbf)['add'](ze['mulScalar'](_0x163655*_0x178eab['emitterRad'+'ius']));}let _0x1bd731=-N['lerp'](_0x178eab['rate'],_0x178eab['rate2'],_0x72e562)*_0x40c3ab;if(_0x178eab['pack8']){const _0x27103c=(ks['x']-_0x178eab['worldBound'+'s']['center']['x'])/_0x178eab['worldBound'+'sSize']['x']+(-0x26f*0x5+0x225e+-0x1633*0x1+0.5),_0x3a9b81=(ks['y']-_0x178eab['worldBound'+'s']['center']['y'])/_0x178eab['worldBound'+'sSize']['y']+(0x2cb+-0xf5d*0x2+0x1bef+0.5),_0x41d71a=(ks['z']-_0x178eab['worldBound'+'s']['center']['z'])/_0x178eab['worldBound'+'sSize']['z']+(-0x1652+0xe76+0x7dc+0.5);let _0x243a38=N['lerp'](_0x178eab['startAngle']*N['DEG_TO_RAD'],_0x178eab['startAngle'+'2']*N['DEG_TO_RAD'],_0x72e562);_0x243a38=_0x243a38%(Math['PI']*(0x2d7+0x770*0x2+0x1*-0x11b5))/(Math['PI']*(0x1*0x239a+0xb6a+-0x2f02));const _0x2e065c=Nl(_0x27103c);_0x4976c6[_0x40c3ab*ie]=_0x2e065c[-0x5e0+0x3e6*0x6+-0x1184],_0x4976c6[_0x40c3ab*ie+(-0x1420+0x609+0xe18)]=_0x2e065c[-0x57*-0x4+0x2*0x4c7+-0xae9];const _0x1e62d3=Nl(_0x3a9b81);_0x4976c6[_0x40c3ab*ie+(0x7*0x7+-0xd51+0xd22)]=_0x1e62d3[0x1*-0x8f9+0x71*-0x2b+0x4*0x6fd],_0x4976c6[_0x40c3ab*ie+(-0x355+0x559+-0x201*0x1)]=_0x1e62d3[0x1*-0x1075+-0xb9c+0x1c12];const _0x279a70=Nl(_0x41d71a);_0x4976c6[_0x40c3ab*ie+(-0x111e+-0x23e*-0xd+0xdc*-0xe)+_0x178eab['numParticl'+'esPot']*ie]=_0x279a70[0x26da+-0x1*-0x2701+0x4ddb*-0x1],_0x4976c6[_0x40c3ab*ie+(0x4*-0x27b+0x1634+0x1*-0xc47)+_0x178eab['numParticl'+'esPot']*ie]=_0x279a70[-0x51c+0x9d*-0x3b+0x6*0x6e2];const _0x2a04b4=Nl(_0x243a38);_0x4976c6[_0x40c3ab*ie+(-0x3*0xc59+0x2430+0xdd)+_0x178eab['numParticl'+'esPot']*ie]=_0x2a04b4[0x3*-0x33e+-0x31*0x89+0x1*0x23f3],_0x4976c6[_0x40c3ab*ie+(-0xf59*0x1+0x1c60+0x4*-0x341)+_0x178eab['numParticl'+'esPot']*ie]=_0x2a04b4[0x3*0x92b+-0x52+-0x7*0x3e2];const _0x356a9b=0x1*-0x411+-0x99+0x4ab;_0x4976c6[_0x40c3ab*ie+(0xaed+-0xf59+0x46f)+_0x178eab['numParticl'+'esPot']*ie*(-0x1*-0x7f1+0x22b8+-0x2aa7)]=_0x356a9b;const _0x4133cf=Math['max'](_0x178eab['lifetime'],(_0x178eab['numParticl'+'es']-(0x1007*-0x1+-0x1915*-0x1+-0x7*0x14b))*Math['max'](_0x178eab['rate'],_0x178eab['rate2'])),_0x54bfc3=_0x178eab['lifetime']+(-0x1f1*0xa+0x292+0x10d9);_0x1bd731=(_0x1bd731+_0x4133cf)/(_0x4133cf+_0x54bfc3);const _0x4cd3d5=ZM(_0x1bd731);_0x4976c6[_0x40c3ab*ie+(-0x6b8+0x2*-0xe31+0x1*0x231a)+_0x178eab['numParticl'+'esPot']*ie*(-0x1*0x23d1+0xa5e*-0x3+0x42ee)]=_0x4cd3d5[-0x1a87+0xdab+0xcdc],_0x4976c6[_0x40c3ab*ie+(0x1f79+0x7a*-0xd+-0x50e*0x5)+_0x178eab['numParticl'+'esPot']*ie*(0x13*-0x101+-0x95*0x10+0x1c66)]=_0x4cd3d5[0x412+-0x17ff+0x13ee],_0x4976c6[_0x40c3ab*ie+(-0x4*0x4f5+0x194c+-0x576)+_0x178eab['numParticl'+'esPot']*ie*(-0x1*-0x1f8f+0x17ae+-0x1b9d*0x2)]=_0x4cd3d5[-0x2636+0x2*0x831+0x2b*0x82],_0x4976c6[_0x40c3ab*ie+(-0x175f+0x781+0xfe1)+_0x178eab['numParticl'+'esPot']*ie*(0x14b7+0x108b*-0x1+-0x429)]=_0x4cd3d5[0x19d3+-0xd53+-0xc7d];}else _0x4976c6[_0x40c3ab*ie]=ks['x'],_0x4976c6[_0x40c3ab*ie+(-0xe55+0x2689+-0x1833)]=ks['y'],_0x4976c6[_0x40c3ab*ie+(-0x2c5*0x8+-0x4*-0x161+0x10a6)]=ks['z'],_0x4976c6[_0x40c3ab*ie+(0x82d+0xf1*-0x19+0xf5f)]=N['lerp'](_0x178eab['startAngle']*N['DEG_TO_RAD'],_0x178eab['startAngle'+'2']*N['DEG_TO_RAD'],_0x72e562),_0x4976c6[_0x40c3ab*ie+(-0x22*0x29+0x1e26+-0x18b1)+_0x178eab['numParticl'+'esPot']*ie]=_0x1bd731;}['update'](_0x46924c,_0x27169f,_0x4ec730,_0x36185b,_0x3a8345,_0x1d0abf,_0x750bc5,_0x2195ea){let _0x126050,_0x47fa4a,_0x161627;const _0x5189c7=this['_emitter'];if(_0x5189c7['meshInstan'+'ce']['node']){const _0x29517d=_0x5189c7['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x2766b9=-0x2*0x751+-0x31a+0x1c6*0xa;_0x2766b9<-0x14bf+-0x12cd+-0x1*-0x2798;_0x2766b9++)Vd['data'][_0x2766b9]=_0x29517d['data'][_0x2766b9];Gd['copy'](Vd),Gd['invert'](),si=_0x5189c7['meshInstan'+'ce']['node']['localScale'],v_=Math['max'](Math['max'](si['x'],si['y']),si['z']);}_0x1d0abf=_0x5189c7['meshInstan'+'ce']['node']===null||_0x5189c7['localSpace']?T['ZERO']:_0x5189c7['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x34d701=_0x5189c7['camera']?_0x5189c7['camera']['_node']['getPositio'+'n']():T['ZERO'],_0x2902ee=_0x5189c7['useMesh']?0x3b8+-0x6b1*-0x3+0x2*-0xbdd:0x68e+0x1*0xb9f+-0x90f*0x2;let _0x1e2aca,_0x590483,_0x3d757f,_0x3103fc,_0x40355f,_0x178e8e,_0x113424,_0x3b0751,_0xafe412;const _0x3cb941=_0x5189c7['precision']-(-0x191e+0xa6*-0x2f+0x14b*0x2b);for(let _0x3c7c45=0x11e7+0x28d+-0x1474;_0x3c7c45<_0x5189c7['numParticl'+'es'];_0x3c7c45++){const _0x208d12=Math['floor'](_0x5189c7['vbCPU'][_0x3c7c45*_0x5189c7['numParticl'+'eVerts']*(_0x5189c7['useMesh']?0x25b9+0x1*-0x1d53+-0x860:-0xc0b+0xbb*-0x1d+0x213e)+(0x1041+0x2*-0xfc4+-0x67*-0x26)]),_0x44671a=_0x4ec730[_0x208d12*ie+(-0x846*-0x3+0xb2*0x1a+0x13*-0x242)+_0x5189c7['numParticl'+'esPot']*(-0xc*-0x127+0x22b0+-0x3082)*ie];ps['x']=_0x44671a,ps['y']=_0x4ec730[_0x208d12*ie+(0x1ac2+-0x12c4*-0x1+0x10f*-0x2b)+_0x5189c7['numParticl'+'esPot']*(0x1574+-0x26f4+0x1182)*ie],ps['z']=_0x4ec730[_0x208d12*ie+(0xf37+-0x1*-0x196f+-0x28a4)+_0x5189c7['numParticl'+'esPot']*(-0x3e5*-0x2+0x1ad6+-0x229e)*ie];const _0xa31875=_0x5189c7['rate']+(_0x5189c7['rate2']-_0x5189c7['rate'])*_0x44671a,_0x2633bb=_0x5189c7['lifetime'];let _0x4245fe=_0x4ec730[_0x208d12*ie+(-0xde2+-0x145c+0x2241)+_0x5189c7['numParticl'+'esPot']*ie]+_0x750bc5;const _0x217696=KM(_0x4245fe/_0x2633bb);let _0x49ec2f=-0x13a9+0x1*-0x1b1a+0x2ec3,_0x41fc44=0x1*0xfc9+0x22fc*-0x1+0x1333;const _0x52abe4=0xab9+-0x328+0x1*-0x791;(_0x4245fe-_0x750bc5<=0x1*0x16d6+-0x1753+0x7d||_0x4245fe>=_0x2633bb)&&this['calcSpawnP'+'osition'](_0x4ec730,_0x36185b,_0x3a8345,_0x1d0abf,_0x208d12);let _0xf678bc=_0x4245fe>0x23*-0xe2+-0x90c+0x27f2&&_0x4245fe<_0x2633bb;_0xf678bc&&(_0x161627=_0x217696*_0x3cb941,_0x1e2aca=Math['floor'](_0x161627),_0x590483=Math['ceil'](_0x161627),_0x161627%=0x79d*-0x2+-0x5b1*0x6+-0x3161*-0x1,_0x126050=_0x5189c7['qRotSpeed'][_0x1e2aca],_0x47fa4a=_0x5189c7['qRotSpeed'][_0x590483],_0x3d757f=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qRotSpeed2'][_0x1e2aca],_0x47fa4a=_0x5189c7['qRotSpeed2'][_0x590483],_0x3103fc=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qScale'][_0x1e2aca],_0x47fa4a=_0x5189c7['qScale'][_0x590483],_0x49ec2f=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qScale2'][_0x1e2aca],_0x47fa4a=_0x5189c7['qScale2'][_0x590483],_0x40355f=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qAlpha'][_0x1e2aca],_0x47fa4a=_0x5189c7['qAlpha'][_0x590483],_0x178e8e=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qAlpha2'][_0x1e2aca],_0x47fa4a=_0x5189c7['qAlpha2'][_0x590483],_0x113424=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qRadialSpe'+'ed'][_0x1e2aca],_0x47fa4a=_0x5189c7['qRadialSpe'+'ed'][_0x590483],_0x3b0751=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qRadialSpe'+'ed2'][_0x1e2aca],_0x47fa4a=_0x5189c7['qRadialSpe'+'ed2'][_0x590483],_0xafe412=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x3b0751+=(_0xafe412-_0x3b0751)*(_0x44671a*(0x56f+-0x1b58*0x1+0x3*0x76f)%(-0x1106+0x1*0x2645+0x153e*-0x1)),Rn['x']=_0x4ec730[_0x208d12*ie],Rn['y']=_0x4ec730[_0x208d12*ie+(-0x140*0x12+0xd12+0x96f)],Rn['z']=_0x4ec730[_0x208d12*ie+(0x1ed4+-0xeb4+-0x2*0x80f)],_0x5189c7['localSpace']?Ka['copy'](Rn):Ka['copy'](Rn)['sub'](_0x1d0abf),Ka['normalize']()['mulScalar'](_0x3b0751),_0x1e2aca*=-0x1b9d+0xd66+0xe3a,_0x590483*=0x1add+0x20f*-0x1+-0xb*0x241,_0x126050=_0x5189c7['qLocalVelo'+'city'][_0x1e2aca],_0x47fa4a=_0x5189c7['qLocalVelo'+'city'][_0x590483],Ze['x']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qLocalVelo'+'city'][_0x1e2aca+(-0x2034+-0x1*-0x1605+-0x2*-0x518)],_0x47fa4a=_0x5189c7['qLocalVelo'+'city'][_0x590483+(-0x227e+0x32f*-0x1+0x25ae)],Ze['y']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qLocalVelo'+'city'][_0x1e2aca+(0x1821+-0x1703+0x8e*-0x2)],_0x47fa4a=_0x5189c7['qLocalVelo'+'city'][_0x590483+(0x25ac*-0x1+0x1d*-0xfb+-0x5*-0xd39)],Ze['z']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qLocalVelo'+'city2'][_0x1e2aca],_0x47fa4a=_0x5189c7['qLocalVelo'+'city2'][_0x590483],Dn['x']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qLocalVelo'+'city2'][_0x1e2aca+(-0x7*0xe9+0x37a*-0x1+-0x4ed*-0x2)],_0x47fa4a=_0x5189c7['qLocalVelo'+'city2'][_0x590483+(0x195e+-0x1b9c+0x23f)],Dn['y']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qLocalVelo'+'city2'][_0x1e2aca+(-0x158f*0x1+0x20ab+-0xb1a)],_0x47fa4a=_0x5189c7['qLocalVelo'+'city2'][_0x590483+(0x21*0x4a+-0x1115+-0x78d*-0x1)],Dn['z']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qVelocity'][_0x1e2aca],_0x47fa4a=_0x5189c7['qVelocity'][_0x590483],Nt['x']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qVelocity'][_0x1e2aca+(-0x123b*-0x2+-0x846+-0x1c2f)],_0x47fa4a=_0x5189c7['qVelocity'][_0x590483+(-0x2314+0x1*-0x177a+0x107*0x39)],Nt['y']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qVelocity'][_0x1e2aca+(0x2*0x1157+-0x23b7+0x10b)],_0x47fa4a=_0x5189c7['qVelocity'][_0x590483+(-0x5b*-0x4d+-0xed4+-0x1*0xc89)],Nt['z']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qVelocity2'][_0x1e2aca],_0x47fa4a=_0x5189c7['qVelocity2'][_0x590483],In['x']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qVelocity2'][_0x1e2aca+(-0x2*-0xf0d+-0x67f+-0xbcd*0x2)],_0x47fa4a=_0x5189c7['qVelocity2'][_0x590483+(0x5e*0x15+0x1811+-0x1fc6)],In['y']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,_0x126050=_0x5189c7['qVelocity2'][_0x1e2aca+(-0xd5d+-0x2302+0x5*0x9ad)],_0x47fa4a=_0x5189c7['qVelocity2'][_0x590483+(-0x2081+-0x259d+-0x21*-0x220)],In['z']=_0x126050+(_0x47fa4a-_0x126050)*_0x161627,Ze['x']+=(Dn['x']-Ze['x'])*ps['x'],Ze['y']+=(Dn['y']-Ze['y'])*ps['y'],Ze['z']+=(Dn['z']-Ze['z'])*ps['z'],_0x5189c7['initialVel'+'ocity']>0x232f*-0x1+0x1*-0x8cb+-0x2*-0x15fd&&(_0x5189c7['emitterSha'+'pe']===qb?(ze['copy'](ps)['mulScalar'](-0x186b+-0x1d3+-0x1c0*-0xf)['sub'](T['ONE'])['normalize'](),Ze['add'](ze['mulScalar'](_0x5189c7['initialVel'+'ocity']))):Ze['add'](T['FORWARD']['mulScalar'](_0x5189c7['initialVel'+'ocity']))),Nt['x']+=(In['x']-Nt['x'])*ps['x'],Nt['y']+=(In['y']-Nt['y'])*ps['y'],Nt['z']+=(In['z']-Nt['z'])*ps['z'],_0x3d757f+=(_0x3103fc-_0x3d757f)*ps['y'],_0x49ec2f=(_0x49ec2f+(_0x40355f-_0x49ec2f)*(_0x44671a*(-0x1528+-0x3cae+0x78e6)%(-0x7c3+0x1bf7*-0x1+0x23bb)))*v_,_0x41fc44=(_0x113424-_0x178e8e)*(_0x44671a*(-0xa62*0x2+-0xe49+0x1*0x26f5)%(0x9d3*0x1+0x100d+-0x19df)),_0x5189c7['meshInstan'+'ce']['node']&&(_0x5189c7['localSpace']?(Ze['x']/=si['x'],Ze['y']/=si['y'],Ze['z']/=si['z']):Vd['transformP'+'oint'](Ze,Ze)),_0x5189c7['localSpace']?(Gd['transformP'+'oint'](Nt,Nt),Ze['add'](Nt)['add'](Ka)):(Ze['add'](Nt['mul'](si)),Ze['add'](Ka['mul'](si))),Bl['copy'](Ze),b_['copy'](Rn)['add'](Ze['mulScalar'](_0x750bc5)),vt['copy'](b_),_0x4ec730[_0x208d12*ie]=vt['x'],_0x4ec730[_0x208d12*ie+(0x252d+-0x10f*-0x1e+-0xad*0x66)]=vt['y'],_0x4ec730[_0x208d12*ie+(-0x3e*-0x30+-0x17ec+0x15*0x96)]=vt['z'],_0x4ec730[_0x208d12*ie+(-0x64a+-0xe4e+0x149b)]+=_0x3d757f*_0x750bc5,_0x5189c7['wrap']&&_0x5189c7['wrapBounds']&&(_0x5189c7['localSpace']||vt['sub'](_0x1d0abf),vt['x']=Hd(vt['x'],_0x5189c7['wrapBounds']['x'])-_0x5189c7['wrapBounds']['x']*(0x3da*-0xa+0x166f+0x1015+0.5),vt['y']=Hd(vt['y'],_0x5189c7['wrapBounds']['y'])-_0x5189c7['wrapBounds']['y']*(0x49*-0x31+0x457+-0x4d1*-0x2+0.5),vt['z']=Hd(vt['z'],_0x5189c7['wrapBounds']['z'])-_0x5189c7['wrapBounds']['z']*(-0x89*0xf+0x13eb*0x1+-0xbe4+0.5),_0x5189c7['localSpace']||vt['add'](_0x1d0abf)),_0x5189c7['sort']>0x1b7f+-0xb8d+-0xff2&&(_0x5189c7['sort']===0x181c+0x15ff+0x15*-0x232?(wr['copy'](vt)['sub'](_0x34d701),_0x5189c7['particleDi'+'stance'][_0x208d12]=-(wr['x']*wr['x']+wr['y']*wr['y']+wr['z']*wr['z'])):_0x5189c7['sort']===0x1*-0x1575+0x1*0x1bf1+0x1*-0x67a?_0x5189c7['particleDi'+'stance'][_0x208d12]=_0x4245fe:_0x5189c7['sort']===-0x17ed+0x6*0x37+-0xb53*-0x2&&(_0x5189c7['particleDi'+'stance'][_0x208d12]=-_0x4245fe))),_0x2195ea?_0x4245fe<-0x19e6+-0x7*-0x34b+0x9*0x51&&(_0x4ec730[_0x208d12*ie+(0x1172+0xef3+-0x2*0x1031)+_0x5189c7['numParticl'+'esPot']*(0x1a7b+-0x4*-0x5b5+-0x7*0x70b)*ie]=-(0xa6f+-0x1e8*-0x8+-0x19ae)):(_0x4245fe>=_0x2633bb&&(_0x4245fe-=Math['max'](_0x2633bb,(_0x5189c7['numParticl'+'es']-(-0x9ba+0xead+-0x4f2*0x1))*_0xa31875),_0x4ec730[_0x208d12*ie+(0x47*-0x3d+-0x138d+-0x3*-0xc29)+_0x5189c7['numParticl'+'esPot']*(0x4*-0x895+0x1abf+-0x43*-0x1d)*ie]=_0x5189c7['loop']?0x97*0x21+-0x1*-0x14a1+-0x3*0xd5d:-(-0x12b5+-0x11*-0x107+0xb*0x1d)),_0x4245fe<-0x2*0x9dc+0x704*0x1+0xcb4&&_0x5189c7['loop']&&(_0x4ec730[_0x208d12*ie+(-0x14f6*0x1+0x152+0x13a7)+_0x5189c7['numParticl'+'esPot']*(-0x789+0x24b*-0x7+0x4b8*0x5)*ie]=-0x268c+0x1eb0+-0x1*-0x7dd)),_0x4ec730[_0x208d12*ie+(-0x1669+-0x1ee+0x185a)+_0x5189c7['numParticl'+'esPot']*(-0x5*0x2e3+-0x3*-0x25e+0x757)*ie]<-0x6ac+-0x24ed+0x2b99&&(_0xf678bc=!(-0x2472+0x400+0x2073)),_0x4ec730[_0x208d12*ie+(0x14e7+0x4*-0xa1+-0x4*0x498)+_0x5189c7['numParticl'+'esPot']*ie]=_0x4245fe;for(let _0x22a680=-0x1*0xc83+-0x8ad*0x1+0x1530;_0x22a680<_0x5189c7['numParticl'+'eVerts'];_0x22a680++){const _0x5e6e50=(_0x3c7c45*_0x5189c7['numParticl'+'eVerts']+_0x22a680)*(_0x5189c7['useMesh']?0x1a57+-0x32d*-0x2+0x1*-0x20ab:-0x1b9d+-0x1919+-0x34ba*-0x1);let _0xa31d45=_0x5189c7['vbCPU'][_0x5e6e50],_0x39b844=_0x5189c7['vbCPU'][_0x5e6e50+(0x15a3+0x1ba1+-0x3143)],_0x2407e3=_0x5189c7['vbCPU'][_0x5e6e50+(-0x332*-0x9+-0x2343+0x683)];_0xf678bc||(_0xa31d45=_0x39b844=_0x2407e3=0x247*0x6+0x15d4+-0x237e);const _0x143046=_0x3c7c45*_0x5189c7['numParticl'+'eVerts']*_0x2902ee+_0x22a680*_0x2902ee;_0x46924c[_0x143046]=vt['x'],_0x46924c[_0x143046+(-0x8fe+-0x2b3+0xbb2)]=vt['y'],_0x46924c[_0x143046+(0x2709+-0x1d3*0x10+-0x9d7)]=vt['z'],_0x46924c[_0x143046+(-0xc91*-0x2+-0x8f9+-0x1026)]=_0x217696,_0x46924c[_0x143046+(0xa*0x219+0x1cf6+-0x31ec)]=_0x5189c7['alignToMot'+'ion']?_0x52abe4:_0x4ec730[_0x208d12*ie+(0x803+-0x7b1+-0x1*0x4f)],_0x46924c[_0x143046+(-0x11*-0x59+-0x754+0x170)]=_0x49ec2f,_0x46924c[_0x143046+(0x235d+-0x1*-0x12fd+-0x3654)]=_0x41fc44,_0x46924c[_0x143046+(0x12c3+0x1*-0x641+-0x5*0x27f)]=Bl['x'],_0x46924c[_0x143046+(0x1b37*0x1+0x3d1+-0x1f00)]=_0xa31d45,_0x46924c[_0x143046+(0x2bc+0xc22*-0x1+0x96f)]=_0x39b844,_0x46924c[_0x143046+(0xce3+-0x236+0xaa3*-0x1)]=_0x2407e3,_0x46924c[_0x143046+(0x52*0xd+0x220+0x63f*-0x1)]=Bl['y'],_0x46924c[_0x143046+(-0xdb3+-0x6*0x3f9+0x1*0x2595)]=_0x208d12,_0x46924c[_0x143046+(0x46c+-0x210+-0x24f)]=Bl['z'],_0x46924c[_0x143046+(0xd0f+0x26ad+-0x33ae)]=_0x5189c7['vbCPU'][_0x5e6e50+(-0x1277+-0xc44+0x1ebe)],_0x5189c7['useMesh']&&(_0x46924c[_0x143046+(0x55f*-0x5+0x23a3+-0x8b9)]=_0x5189c7['vbCPU'][_0x5e6e50+(0x15ad+0xafe+-0xd*0x283)],_0x46924c[_0x143046+(-0x48*-0x39+0x612+-0x160a)]=_0x5189c7['vbCPU'][_0x5e6e50+(0x13f2+0x245b+-0x3848)]);}}if(_0x5189c7['sort']>Du&&_0x5189c7['camera']){const _0x4a0df7=_0x5189c7['useMesh']?0x104+-0x1b3b+0x1a3d:0x10c9+-0x2*0x101f+0xf79,_0x232dc6=_0x5189c7['particleDi'+'stance'];for(let _0x77fa47=0x1cea+0x1*0x2+-0x1cec;_0x77fa47<_0x5189c7['numParticl'+'es'];_0x77fa47++)_0x27169f[_0x77fa47][-0x1347*-0x2+-0xa88+-0x1c06]=_0x77fa47,_0x27169f[_0x77fa47][-0x1*-0x55a+-0xb25+0x5cc]=_0x232dc6[Math['floor'](_0x5189c7['vbCPU'][_0x77fa47*_0x5189c7['numParticl'+'eVerts']*_0x4a0df7+(0x2*0x577+-0x1*-0x1f0f+-0xdfe*0x3)])];_0x5189c7['vbOld']['set'](_0x5189c7['vbCPU']),_0x27169f['sort']((_0x105c17,_0x4130e2)=>_0x105c17[-0x517+-0x1ad7+0x663*0x5]-_0x4130e2[-0x1e1a+0xd*0x1b1+0x81e]);for(let _0x508ff7=0xb2f*0x3+0x2*-0x14e+-0x1*0x1ef1;_0x508ff7<_0x5189c7['numParticl'+'es'];_0x508ff7++){const _0x1148f8=_0x27169f[_0x508ff7][0x1fd*0x10+0x6b3*0x1+-0x1*0x2683]*_0x5189c7['numParticl'+'eVerts']*_0x4a0df7,_0x5144d8=_0x508ff7*_0x5189c7['numParticl'+'eVerts']*_0x4a0df7;for(let _0x557de7=-0x1e65+-0x119*0x1f+0x406c;_0x557de7<_0x5189c7['numParticl'+'eVerts']*_0x4a0df7;_0x557de7++)_0x5189c7['vbCPU'][_0x5144d8+_0x557de7]=_0x5189c7['vbOld'][_0x1148f8+_0x557de7];}}}}const w_=new js(),T_=new js(),A_=new js();class JM{constructor(_0xeab0d2,_0x2712bf){this['_emitter']=_0xeab0d2,this['frameRando'+'mUniform']=new Float32Array(-0x1*-0x24a9+-0x17c4+-0xce2),this['emitterPos'+'Uniform']=new Float32Array(0x2244*0x1+0x1aad+-0x16*0x2c5),this['emitterSca'+'leUniform']=new Float32Array([0xdb8+-0x29*-0xbe+-0x2c25,-0xaa7+0x1c9a+-0x11f2,0x37*0x2b+-0xa98+-0xc*-0x1d]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x1cbe+0x1510+-0x31cb),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x256f+0x1727*-0x1+0x3c99),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x51b*-0x7+0x1f*0x86+0x4c*-0xaf),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(0xe2a+0x146*0xe+-0x1ffb),this['constantPa'+'rticleTexI'+'N']=_0x2712bf['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x2712bf['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x2712bf['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x2712bf['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x2712bf['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x2712bf['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x2712bf['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x2712bf['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x2712bf['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x2712bf['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x2712bf['scope']['resolve']('delta'),this['constantRa'+'te']=_0x2712bf['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x2712bf['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x2712bf['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x2712bf['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x2712bf['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x2712bf['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x2712bf['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x2712bf['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x2712bf['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x2712bf['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x2712bf['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x2712bf['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x2712bf['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x2712bf['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x2712bf['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x2712bf['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x2712bf['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x2712bf['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x2712bf['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x2712bf['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x2712bf['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x2712bf['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x2712bf['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x2712bf['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x2712bf['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x2712bf['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x1e33+0x39*0x2+0x20b*-0xf]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1*-0x1aee+-0xeb6+0x1*0x29a5]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x187d+0xc53+-0x24ce]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x36d*0x2+0xddd*0x1+-0x167*0x5]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x71*0x32+0x9d*-0x5+-0x1924*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1*-0x9d9+0xdc7+-0xbcf*0x2]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0xc3b+0x2628+-0x19ed]=Math['random'](),this['frameRando'+'mUniform'][0x3e5*0x7+0x5d*0x49+-0x35c7]=Math['random'](),this['frameRando'+'mUniform'][-0x1e71*-0x1+-0x29*0xed+-0x282*-0x3]=Math['random']();}['update'](_0x5d5f68,_0x14cce5,_0x6961e7,_0x88701d,_0x1d3962){G['pushGpuMar'+'ker'](_0x5d5f68,'ParticleGP'+'U');const _0x1ee1a1=this['_emitter'];_0x5d5f68['setBlendSt'+'ate'](_t['NOBLEND']),_0x5d5f68['setDepthSt'+'ate'](as['NODEPTH']),_0x5d5f68['setCullMod'+'e'](mt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x5*0x28+0x26dd+-0x4*0x9e9)/_0x1ee1a1['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x1ee1a1['precision']),this['constantNu'+'mParticles']['setValue'](_0x1ee1a1['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x1ee1a1['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x1ee1a1['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x1ee1a1['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x1ee1a1['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x1ee1a1['internalTe'+'x3']);const _0x3d220b=_0x1ee1a1['meshInstan'+'ce']['node'],_0x56972d=_0x3d220b===null?T['ONE']:_0x3d220b['localScale'];if(_0x1ee1a1['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x14ba+0x1a66+-0x16b*0x4]=_0x1ee1a1['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x2061+-0x1b25*0x1+-0x53b]=_0x1ee1a1['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x5*-0x4f5+0x2*0x962+-0x607*-0x1]=_0x1ee1a1['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][0x1*0x1273+0x1290+-0x2503]=_0x1ee1a1['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x7*-0x2e3+-0x4a4+-0xf90]=_0x1ee1a1['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x1de9+0xc1*0x2+-0xb*0x2db]=_0x1ee1a1['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x13ec5e=_0x1ee1a1['maxVel']*Math['max'](Math['max'](_0x56972d['x'],_0x56972d['y']),_0x56972d['z']);_0x13ec5e=Math['max'](_0x13ec5e,0xf2e+-0x7ae+0x1*-0x77f),this['constantMa'+'xVel']['setValue'](_0x13ec5e);}const _0xb84976=_0x3d220b===null||_0x1ee1a1['localSpace']?T['ZERO']:_0x3d220b['getPositio'+'n'](),_0x4d1676=_0x3d220b===null?q['IDENTITY']:_0x3d220b['getWorldTr'+'ansform']();_0x1ee1a1['emitterSha'+'pe']===Vs?(w_['setFromMat'+'4'](_0x14cce5),this['constantSp'+'awnBounds']['setValue'](w_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x6961e7)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x1ee1a1['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x1ee1a1['emitterRad'+'ius']===-0x8*-0x26f+0x1b6*-0xe+0x1*0x47c?-0xd6d+-0x1*-0xf8e+-0x221:_0x1ee1a1['emitterRad'+'iusInner']/_0x1ee1a1['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x1ee1a1['initialVel'+'ocity']),T_['setFromMat'+'4'](_0x4d1676),A_['invertMat4'](_0x4d1676),this['emitterPos'+'Uniform'][-0x1*0x377+-0x1af8+0x35*0x93]=_0xb84976['x'],this['emitterPos'+'Uniform'][0xb85*0x2+0x27*-0x31+0x7c9*-0x2]=_0xb84976['y'],this['emitterPos'+'Uniform'][0x157e+0x11a3+-0x271f*0x1]=_0xb84976['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x88701d),this['constantRa'+'te']['setValue'](_0x1ee1a1['rate']),this['constantRa'+'teDiv']['setValue'](_0x1ee1a1['rate2']-_0x1ee1a1['rate']),this['constantSt'+'artAngle']['setValue'](_0x1ee1a1['startAngle']*N['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x1ee1a1['startAngle'+'2']*N['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x1ee1a1['seed']),this['constantLi'+'fetime']['setValue'](_0x1ee1a1['lifetime']),this['emitterSca'+'leUniform'][0x1*0xa91+0x1e4a+-0x1*0x28db]=_0x56972d['x'],this['emitterSca'+'leUniform'][-0x24b*-0x4+0x115a*0x1+-0x1a85]=_0x56972d['y'],this['emitterSca'+'leUniform'][-0x719+0x3*-0x47a+0x1489]=_0x56972d['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](T_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](A_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x1ee1a1['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x1ee1a1['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x1ee1a1['rotSpeedUM'+'ax'][0x1*-0x24b+0x1478+-0x122d]);let _0x62ab3d=_0x1ee1a1['swapTex']?_0x1ee1a1['particleTe'+'xOUT']:_0x1ee1a1['particleTe'+'xIN'];_0x62ab3d=_0x1ee1a1['beenReset']?_0x1ee1a1['particleTe'+'xStart']:_0x62ab3d;const _0x432e98=_0x1ee1a1['swapTex']?_0x1ee1a1['particleTe'+'xIN']:_0x1ee1a1['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x62ab3d),dn(_0x5d5f68,_0x1ee1a1['swapTex']?_0x1ee1a1['rtParticle'+'TexIN']:_0x1ee1a1['rtParticle'+'TexOUT'],_0x1d3962?_0x1ee1a1['shaderPart'+'icleUpdate'+'OnStop']:_0x1ee1a1['loop']?_0x1ee1a1['shaderPart'+'icleUpdate'+'Respawn']:_0x1ee1a1['shaderPart'+'icleUpdate'+'NoRespawn']),_0x1ee1a1['material']['setParamet'+'er']('particleTe'+'xOUT',_0x62ab3d),_0x1ee1a1['material']['setParamet'+'er']('particleTe'+'xIN',_0x432e98),_0x1ee1a1['beenReset']=!(-0xa55+0xe5*-0xb+0x142d),_0x1ee1a1['swapTex']=!_0x1ee1a1['swapTex'],_0x1ee1a1['prevWorldB'+'oundsSize']['copy'](_0x1ee1a1['worldBound'+'sSize']),_0x1ee1a1['prevWorldB'+'oundsCente'+'r']['copy'](_0x1ee1a1['worldBound'+'s']['center']),_0x1ee1a1['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x5d5f68);}}class e1 extends It{['generateKe'+'y'](_0x854a59){let _0x16a9a7='particle_'+It['definesHas'+'h'](_0x854a59['defines'])+'_';for(const _0x5dc308 in _0x854a59)_0x854a59['hasOwnProp'+'erty'](_0x5dc308)&&(_0x16a9a7+=_0x854a59[_0x5dc308]);return _0x16a9a7;}['_animTex'](_0x17b56e){let _0x390d53='';return _0x390d53+=_0x17b56e['animTexLoo'+'p']?X['particleAn'+'imFrameLoo'+'pVS']:X['particleAn'+'imFrameCla'+'mpVS'],_0x390d53+=X['particleAn'+'imTexVS'],_0x390d53;}['createShad'+'erDefiniti'+'on'](_0x4a23e1,_0x2d9feb){const _0x42a091='#define\x20PA'+'RTICLE_'+(_0x2d9feb['useCpu']?'CPU':'GPU')+'\x0a';let _0x42ba9c='#define\x20PA'+'RTICLE\x0a'+_0x42a091,_0x123bcb='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x42a091;_0x2d9feb['mesh']&&(_0x123bcb+='#define\x20US'+'E_MESH\x0a'),_0x2d9feb['localSpace']&&(_0x123bcb+='#define\x20LO'+'CAL_SPACE\x0a'),_0x2d9feb['screenSpac'+'e']&&(_0x123bcb+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x2d9feb['animTex']&&(_0x123bcb+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x2d9feb['animTex']&&(_0x123bcb+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x2d9feb['animTex']&&(_0x123bcb+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x2d9feb['normal']===-0x1bd1+-0xaf*-0x24+-0x1*-0x337&&(_0x123bcb+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x2d9feb['normal']===0x13a7+-0x6d*0x25+-0x3e5&&(_0x123bcb+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x2d9feb['soft']&&(_0x123bcb+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x52b104=_0x2d9feb['customFace']?X['particle_c'+'ustomFaceV'+'S']:X['particle_b'+'illboardVS'];_0x2d9feb['useCpu']?(_0x2d9feb['soft']>0x136c+-0x1663+0xfd*0x3&&(_0x123bcb+=X['screenDept'+'hPS']),_0x123bcb+=X['particle_c'+'puVS'],_0x2d9feb['localSpace']&&(_0x123bcb+=X['particle_l'+'ocalShiftV'+'S']),_0x2d9feb['animTex']&&(_0x123bcb+=this['_animTex'](_0x2d9feb)),_0x2d9feb['alignToMot'+'ion']&&(_0x123bcb+=X['particle_p'+'ointAlongV'+'S']),_0x123bcb+=_0x2d9feb['mesh']?X['particle_m'+'eshVS']:_0x52b104,_0x2d9feb['normal']===0x972+0x128b+0x9*-0x31c&&(_0x123bcb+=X['particle_n'+'ormalVS']),_0x2d9feb['normal']===0x2626+-0x3e*-0xe+-0x3*0xdd8&&(_0x123bcb+=X['particle_T'+'BNVS']),_0x2d9feb['stretch']>-0x348+0x1937+-0x15ef&&(_0x123bcb+=X['particle_s'+'tretchVS']),_0x123bcb+=X['particle_c'+'pu_endVS'],_0x2d9feb['soft']>-0x14b*0x15+-0x1bfb+0x3722&&(_0x123bcb+=X['particle_s'+'oftVS'])):(_0x123bcb+=X['particle_i'+'nitVS'],_0x123bcb+=_0x2d9feb['pack8']?X['particleIn'+'putRgba8PS']:X['particleIn'+'putFloatPS'],_0x2d9feb['soft']>-0x135*0x2+-0x18f6+-0x490*-0x6&&(_0x123bcb+=X['screenDept'+'hPS']),_0x123bcb+=X['particleVS'],_0x2d9feb['localSpace']&&(_0x123bcb+=X['particle_l'+'ocalShiftV'+'S']),_0x2d9feb['animTex']&&(_0x123bcb+=this['_animTex'](_0x2d9feb)),_0x2d9feb['wrap']&&(_0x123bcb+=X['particle_w'+'rapVS']),_0x2d9feb['alignToMot'+'ion']&&(_0x123bcb+=X['particle_p'+'ointAlongV'+'S']),_0x123bcb+=_0x2d9feb['mesh']?X['particle_m'+'eshVS']:_0x52b104,_0x2d9feb['normal']===-0x9d*-0x1d+-0x3bf*0x5+0x1b*0x9&&(_0x123bcb+=X['particle_n'+'ormalVS']),_0x2d9feb['normal']===-0x1948+-0x385*0xb+0x4001&&(_0x123bcb+=X['particle_T'+'BNVS']),_0x2d9feb['stretch']>-0x9b6*0x1+0x23bc+-0x1a06*0x1&&(_0x123bcb+=X['particle_s'+'tretchVS']),_0x123bcb+=X['particle_e'+'ndVS'],_0x2d9feb['soft']>-0x5bb+0x1bfb*-0x1+0x21b6&&(_0x123bcb+=X['particle_s'+'oftVS'])),_0x123bcb+='}\x0a',_0x2d9feb['normal']>-0xf80+0xd16+0x26a&&(_0x2d9feb['normal']===-0x6*-0x3f1+-0x1d9c+0x5f7?_0x42ba9c+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x2d9feb['normal']===0x7*-0x303+-0x23*-0x9b+0x1*-0x1a&&(_0x42ba9c+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x42ba9c+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x2d9feb['soft']&&(_0x42ba9c+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x42ba9c+=X['decodePS'],_0x42ba9c+='#include\x20\x22'+'gammaPS\x22\x0a',_0x42ba9c+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x42ba9c+='#include\x20\x22'+'fogPS\x22\x0a',_0x2d9feb['normal']===0x21f*-0x6+0x157*-0x11+0x2383&&(_0x42ba9c+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x2d9feb['soft']>-0x1ea2+0x1*-0x1d32+0x2*0x1dea&&(_0x42ba9c+=X['screenDept'+'hPS']),_0x42ba9c+=X['particlePS'],_0x2d9feb['soft']>-0x2164+-0x10b5+0x5*0xa05&&(_0x42ba9c+=X['particle_s'+'oftPS']),_0x2d9feb['normal']===-0x1c6a*0x1+0x9d5*-0x1+0x2640&&(_0x42ba9c+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x2d9feb['normal']===0x1b*-0xe5+0x8*0x474+0xb77*-0x1&&(_0x42ba9c+=X['particle_n'+'ormalMapPS']),_0x2d9feb['normal']>-0xe49+-0x2710+0x1*0x3559&&(_0x42ba9c+=_0x2d9feb['halflamber'+'t']?X['particle_h'+'alflambert'+'PS']:X['particle_l'+'ambertPS']),_0x2d9feb['normal']>-0x3b*-0x7f+-0x224+-0x1b21&&(_0x42ba9c+=X['particle_l'+'ightingPS']),_0x2d9feb['blend']===Kt?_0x42ba9c+=X['particle_b'+'lendNormal'+'PS']:_0x2d9feb['blend']===yp?_0x42ba9c+=X['particle_b'+'lendAddPS']:_0x2d9feb['blend']===xp&&(_0x42ba9c+=X['particle_b'+'lendMultip'+'lyPS']),_0x42ba9c+=X['particle_e'+'ndPS'];const _0x3de8c9=new Map(Object['entries']({...X,..._0x2d9feb['chunks']}));return Mt['createDefi'+'nition'](_0x4a23e1,{'name':'ParticleSh'+'ader','vertexCode':_0x123bcb,'fragmentCode':_0x42ba9c,'fragmentDefines':_0x2d9feb['defines'],'fragmentIncludes':_0x3de8c9,'vertexDefines':_0x2d9feb['defines']});}}const t1=new e1();class s1 extends yn{constructor(_0x1a5dc9){super(),c(this,'emitter',null),(this['emitter']=_0x1a5dc9,v['assert'](_0x1a5dc9));}['getShaderV'+'ariant'](_0x2730fd){const {device:_0x4dd744,scene:_0x25d534,cameraShaderParams:_0xc2fbe6}=_0x2730fd,{emitter:_0x314817}=this,_0x368ba5={'defines':Dp(this,_0x2730fd),'pass':gn,'useCpu':this['emitter']['useCpu'],'normal':_0x314817['lighting']?_0x314817['normalMap']!==null?0x1237*-0x1+-0x1075*-0x1+0x1*0x1c4:0x1d1b*-0x1+-0x187+0x1ea3:-0x1*-0x531+-0x1*-0x1b5c+-0x208d,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0xc2fbe6==null?void(-0x4*0x148+0x2d5*0xd+-0x85*0x3d):_0xc2fbe6['shaderOutp'+'utGamma'])??sl,'toneMap':(_0xc2fbe6==null?void(-0x1755+0x1835*0x1+-0xe0):_0xc2fbe6['toneMappin'+'g'])??Ap,'fog':_0x25d534&&!this['emitter']['noFog']?_0x25d534['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x314817['inTools']?!(-0x1*-0x12b5+0x1c76+0x2*-0x1795):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==Uh},_0xba8a8b=new Yc(_0x2730fd['viewUnifor'+'mFormat'],_0x2730fd['viewBindGr'+'oupFormat'],_0x2730fd['vertexForm'+'at']),_0x174a73=ka(_0x4dd744);return _0x174a73['register']('particle',t1),_0x174a73['getProgram']('particle',_0x368ba5,_0xba8a8b,this['userId']);}}const E_=[[-(0x42c*0x7+0x253c+-0x1*0x426f),-(-0x378*0xb+-0x1ef7+0x4520)],[-0x2*0xe73+-0x1ea8+-0x1*-0x3b8f,-(0x9c+0x8ca+-0x965)],[0xd23+0x67*0x4+-0xebe,0x2*0x781+-0x1488+0x587],[-(0x11*-0x3+0x1*-0x727+0x7*0x10d),-0x19e7+0x6d3*-0x2+-0x278e*-0x1]];function Qt(_0x319edd,_0x15a70c,_0x2ae126,_0x482752,_0x215ad4=Ke,_0x5f2203,_0x5963d7){let _0x546fa4=de;_0x5963d7&&(_0x215ad4===Se||_0x215ad4===rs)&&(_0x546fa4=st);const _0x2015e3=new he(_0x319edd,{'width':_0x15a70c,'height':_0x2ae126,'format':_0x215ad4,'cubemap':!(-0x1*-0x4dd+-0x23b5*-0x1+0x14f*-0x1f),'mipmaps':!(0x157f*0x1+-0x1c3d*-0x1+-0x31bb*0x1),'minFilter':_0x546fa4,'magFilter':_0x546fa4,'addressU':ae,'addressV':ae,'name':'ParticleSy'+'stemTextur'+'e'}),_0x2d943f=_0x2015e3['lock']();if(_0x215ad4===Se||_0x215ad4===rs){const _0x49b08d=new Uint8Array(_0x482752['length']);for(let _0x2726c8=0xade+-0x1963+0xe85;_0x2726c8<_0x482752['length'];_0x2726c8++)_0x49b08d[_0x2726c8]=_0x482752[_0x2726c8]*_0x5f2203*(-0x1*0x24cb+-0x97c+0xfc2*0x3);_0x482752=_0x49b08d;}return _0x2d943f['set'](_0x482752),_0x2015e3['unlock'](),_0x2015e3;}function C_(_0x7d057e){return Math['max'](Math['min'](_0x7d057e,-0x137b*-0x1+-0xd02+0x2e*-0x24),-0x12c9+-0x240a+0x7d5*0x7);}const M_=new Cs([0x1bd0+-0x1b59*0x1+-0x7*0x11,-0x1*-0x2f5+0x7*0x1d+0x20*-0x1e,-0x229+-0xec*-0x1f+-0x93*0x2e,-0x25ba+0x1f84*-0x1+-0x229f*-0x2]),P_=new Cs([0x2122*-0x1+-0x19d8+-0x3afa*-0x1,-0x4*-0x3d6+-0x4*-0x69d+0xd*-0x337,-0x12dd+0x1*-0x25c+0x153a,-0x1*0x10f3+0x23a7+-0x12b3*0x1]),R_=new jr([0x2*0x78b+0x1ca8+-0x2bbe,0x20dd*0x1+-0x1c17+-0x4c6,-0x172e+-0x1967+-0x1032*-0x3,-0x25*-0xbf+-0x7*-0x389+-0x1a2d*0x2],[0x2438+0x20a7*-0x1+-0x391,0x16c2+0x1a71+0x1*-0x3133,0x17*-0x6f+0xb1*0x2d+0x1523*-0x1,-0xb5c+0xf88+-0x42c],[0x1b1*-0x17+0x1ea8+0x83f,0x6*-0x190+0x2*0x2f9+0x2*0x1b7,0xf71+0x1af6+0x9*-0x4b6,-0x1*-0x26cf+-0x1d18*0x1+-0x9b7]),i1=new jr([0x1c8b+0xa0+0x39*-0x83,0xfd5+0x4*0x617+-0x2830,0x9*-0x3a1+-0xaaa+0x2b54,-0x1439+-0x99+0x14d3],[0xab3*0x3+-0x12*-0x12a+-0x1f7*0x1b,0xb37+0x2*0x16f+-0xe14,0x99d+0xa3*0x2+-0xae2,-0x1967+-0x977+0x22df],[-0x57*0x19+0x5a+-0x2b7*-0x3,0x553*0x1+-0x1099*-0x1+-0x15eb,0x126a+-0x7*0x36f+-0xf0*-0x6,-0x2*0x1081+-0x105*0x23+0x44b2*0x1]);let ii=0x15e8*-0x1+-0x1c9c+0x3286;const zl=-0x8a2+0x383*0xb+-0x1dfb,ri=new Float32Array(0x32*-0x6d+0x147a*-0x1+0x29c7),Tr=new q(),I_=new T(),Ul=new T(),Vl=new T();let Hu,fh;function re(_0x5f4d2c,_0x38028e){fh[_0x5f4d2c]!==void(0x77e+-0x1a91+-0x13*-0x101)&&fh[_0x5f4d2c]!==null?Hu[_0x5f4d2c]=fh[_0x5f4d2c]:Hu[_0x5f4d2c]=_0x38028e;}function O0(_0x5abe20,_0x1ff20e,_0x53a98){return(_0x5abe20*(-0x1d*0xad+-0x31f*-0x7+-0x141)<<-0x1e07+-0x125e+0x3075|_0x1ff20e*(-0x2258+-0x9da+0x2d31)<<0x114c+-0x41*-0x21+-0x19a5|_0x53a98*(-0x1*0x66d+0x222f+0xd*-0x20f))/(0x1*0x10eb+0x13*-0xe+-0xfe0<<-0x21*-0x35+-0x1*0xff2+0x935*0x1);}function D_(_0x4226dd,_0x697287){const _0x73071b=_0x4226dd['length']/(-0x1cdf*-0x1+0x1ce2*-0x1+0x6),_0x5ac2e7=new Array(_0x73071b*(0x71*-0x17+-0x175*-0x1a+-0x1bb7));for(let _0x11a8eb=-0x1*0x80f+-0x1a6e+0x227d*0x1;_0x11a8eb<_0x73071b;_0x11a8eb++)_0x5ac2e7[_0x11a8eb*(-0xc76+-0x155b+0x21d5)]=_0x4226dd[_0x11a8eb*(-0x216+0x14f0+0x7*-0x2b1)],_0x5ac2e7[_0x11a8eb*(0x1b0b+-0xbe5+-0xf22)+(0xaba*-0x1+-0xcd7+0x1*0x1792)]=_0x4226dd[_0x11a8eb*(-0x1a5+-0xb05+0xcad)+(0x20*-0x130+0xe5b+0x17a6)],_0x5ac2e7[_0x11a8eb*(-0x64d*-0x1+-0xdee*-0x2+-0x2225)+(-0x1*-0x13c9+-0x1*-0x21c1+0x8*-0x6b1)]=_0x4226dd[_0x11a8eb*(0x3ad*-0x1+0x2471+0x285*-0xd)+(0x2253*-0x1+0x3*0xa8d+0x2ae)],_0x5ac2e7[_0x11a8eb*(0x1132+0x1*-0x1ccd+0xb9f)+(0x229e+0x8*0xb6+-0x284b)]=O0(_0x697287[_0x11a8eb*(0xf32+0x1304*-0x1+0x3d5)],_0x697287[_0x11a8eb*(-0x51e+-0x861+0xd82)+(-0x1ecc+-0x2*0x611+-0x17b*-0x1d)],_0x697287[_0x11a8eb*(0x797*0x1+-0x92a+-0xcb*-0x2)+(-0xaee+-0x7f*-0xc+0x4fc)]);return _0x5ac2e7;}function r1(_0x426a10,_0x157369){const _0x8b1d16=new Array(_0x157369['length']*(0x2*0x65a+0xe49+-0x1af9));for(let _0x30746f=-0x31*0xa1+-0x1f32+0x3e03;_0x30746f<_0x157369['length'];_0x30746f++)_0x8b1d16[_0x30746f*(0x1c95+0xd13+0x14d2*-0x2)]=_0x426a10[_0x30746f*(-0x2*-0x5a8+-0xd*-0x126+-0x1a3b)],_0x8b1d16[_0x30746f*(-0x1245+-0x1770+-0x29b9*-0x1)+(-0x2552*0x1+0x2434+-0x11f*-0x1)]=_0x426a10[_0x30746f*(0x518*0x4+0x5*-0x485+0x23c)+(0xc34+0x1168+-0x1d9b*0x1)],_0x8b1d16[_0x30746f*(0x15f8+-0xc8+-0x1*0x152c)+(-0x317*-0xb+0x2018+-0x1*0x4213)]=_0x426a10[_0x30746f*(-0x83*-0x23+-0x1*0x12da+0xf4*0x1)+(0xf1+-0x2*-0x646+-0xd7b)],_0x8b1d16[_0x30746f*(0x1*-0x87e+-0x12ae+0x1b30)+(0x1*-0x225a+0x61*0x5b+-0x6*0x5)]=_0x157369[_0x30746f];return _0x8b1d16;}function n1(_0x280158,_0x5ee22b,_0x3d030a,_0x1eb5ac,_0x2efbaa){const _0x4aed8f=new Array(_0x280158['length']*(-0x1896+0x11e5*-0x1+0x2b*0xfd));for(let _0x18a485=0x1*0x215f+-0x1*0xe3b+-0x1324;_0x18a485<_0x280158['length'];_0x18a485++)_0x4aed8f[_0x18a485*(-0x2*-0x115d+-0x1c1*0x3+-0x1*0x1d73)]=_0x280158[_0x18a485],_0x4aed8f[_0x18a485*(-0x1f9a+-0x1240+0x31de)+(-0x2*0xb1b+0x6ce+0xf69)]=_0x5ee22b[_0x18a485],_0x4aed8f[_0x18a485*(0x17b2+0x502*-0x2+0x42*-0x35)+(-0x18bc+-0x1e5*0xb+-0x7*-0x683)]=0x168*-0x18+0x4*0x987+-0x45c*0x1,_0x4aed8f[_0x18a485*(0x24*-0x94+-0xb31+0x2005)+(0x8*-0x3b3+0x17f9+0x5a2)]=O0(_0x3d030a[_0x18a485],_0x1eb5ac[_0x18a485],_0x2efbaa[_0x18a485]);return _0x4aed8f;}function a1(_0x250083,_0x50f075){const _0xf48134=new Array(_0x250083['length']*(0x59*0x20+-0x1*0x70f+-0x40d));for(let _0x21f319=-0x405+0x7cd*0x1+0x1*-0x3c8;_0x21f319<_0x250083['length'];_0x21f319++)_0xf48134[_0x21f319*(-0xa*-0x1de+-0x2095+0xded)]=_0x250083[_0x21f319],_0xf48134[_0x21f319*(-0x1fe2+0x15cc+0xa1a)+(-0x4a1*0x5+0x849+0xedd*0x1)]=_0x50f075[_0x21f319],_0xf48134[_0x21f319*(0x479+-0xa*0x314+0x1a53)+(0x2cc*-0x4+-0x73*-0x25+0x56d*-0x1)]=-0x1ac0+-0x8bb+0x237b,_0xf48134[_0x21f319*(0x1*0xd13+0x20a0+-0x1*0x2daf)+(0xa9e+0x1b7*0x10+-0x260b)]=-0x1*0x231e+-0x1e64+0x4182;return _0xf48134;}function o1(_0x2255e2){const _0x1b5906=Math['max'](_0x2255e2['rate'],_0x2255e2['rate2'])*_0x2255e2['numParticl'+'es']+_0x2255e2['lifetime'];return Date['now']()+_0x1b5906*(-0x53*-0x1+0x227c+-0x125*0x1b);}function l1(_0x33ebe2,_0xa1aade){const _0x255ba4=new Float32Array(_0x33ebe2['length']);for(let _0x2759f8=-0x1*0x162f+0x78c*0x5+-0xf8d;_0x2759f8<_0x33ebe2['length'];_0x2759f8++)_0x255ba4[_0x2759f8]=_0x33ebe2[_0x2759f8]-_0xa1aade[_0x2759f8];return _0x255ba4;}function Fr(_0x254b95,_0x190dff){const _0x4fb9be=_0x190dff['length'],_0x5937d6=_0x254b95['length']/_0x4fb9be;for(let _0x2725a6=-0x3a9+0x2362+-0x1*0x1fb9;_0x2725a6<_0x5937d6;_0x2725a6++)for(let _0x25478e=-0x166*-0x19+0x1696+-0x398c;_0x25478e<_0x4fb9be;_0x25478e++){const _0xe7a100=Math['abs'](_0x254b95[_0x2725a6*_0x4fb9be+_0x25478e]);_0x190dff[_0x25478e]=Math['max'](_0x190dff[_0x25478e],_0xe7a100);}}function h1(_0x2b55c5,_0x360684){const _0x2249fa=_0x360684['length'],_0x21be3a=_0x2b55c5['length']/_0x2249fa;for(let _0xd5272c=0x96*0x6+0x1be4+-0x1*0x1f68;_0xd5272c<_0x21be3a;_0xd5272c++)for(let _0x69a47e=-0x18*0x160+0x1c3*-0x2+-0x55*-0x6e;_0x69a47e<_0x2249fa;_0x69a47e++)_0x2b55c5[_0xd5272c*_0x2249fa+_0x69a47e]/=_0x360684[_0x69a47e]===-0x175*0x1+-0x1*0x19ab+-0x3e*-0x70?0x1*-0x145b+0x248c+-0x1030:_0x360684[_0x69a47e],_0x2b55c5[_0xd5272c*_0x2249fa+_0x69a47e]*=-0x258b+0x4c3*0x8+0x8d*-0x1+0.5,_0x2b55c5[_0xd5272c*_0x2249fa+_0x69a47e]+=0x25d1+0x20b*-0x2+-0x1*0x21bb+0.5;}function Ar(_0x32bd7c,_0x3c25a1,_0x15a45a){const _0x50f0dc=l1(_0x3c25a1,_0x32bd7c);return Fr(_0x50f0dc,_0x15a45a),h1(_0x50f0dc,_0x15a45a),_0x50f0dc;}const c1=new Ot();class d1{constructor(_0x3974e0,_0x418f25){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x3974e0;const _0x1ce0b8=_0x3974e0,_0x156452=0x1dc*0x1+-0x1747*-0x1+-0x1*0x1903;this['precision']=_0x156452,this['_addTimeTi'+'me']=-0x3*-0x5f7+0x13b*-0x1+-0x10aa,Hu=this,fh=_0x418f25,re('numParticl'+'es',0xde9*-0x2+-0xc95+-0xa1a*-0x4),this['numParticl'+'es']>_0x3974e0['maxTexture'+'Size']&&(v['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x3974e0['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x3974e0['maxTexture'+'Size']),re('rate',0x2b6*0xc+0x877*-0x3+-0x53*0x16),re('rate2',this['rate']),re('lifetime',0x1cdd+0x7*0xef+0x119a*-0x2),re('emitterExt'+'ents',new T(0x2a8*-0x5+0x227c+0x4*-0x54d,-0x1d2+-0x2256+0x2428,-0x958+0x57e+-0x3da*-0x1)),re('emitterExt'+'entsInner',new T(0x2082+0x603+-0x2685*0x1,0xc1d+-0x51*-0x39+-0x1e26,-0x1e40+0xa*-0x2ed+0x3b82)),re('emitterRad'+'ius',0x1f62+-0x2626*0x1+0x6c4),re('emitterRad'+'iusInner',-0x1*0x1c55+-0x1*-0x1c1+0x1a94),re('emitterSha'+'pe',Vs),re('initialVel'+'ocity',0x1834*0x1+0x103*0x1f+0x10*-0x379),re('wrap',!(0x6a1+-0x2126+0x1a86)),re('localSpace',!(-0x1*-0x22ea+0x4bd*-0x1+0x1*-0x1e2c)),re('screenSpac'+'e',!(-0x611+-0x19b5*0x1+0x1fc7*0x1)),re('wrapBounds',null),re('colorMap',this['defaultPar'+'amTexture']),re('normalMap',null),re('loop',!(0x3*0x6+-0x350+0x33e)),re('preWarm',!(0x13d8+0x21dd*-0x1+0xe06)),re('sort',Du),re('mode',d0),re('scene',null),re('lighting',!(-0x2295+0x1*-0x1824+-0x2*-0x1d5d)),re('halfLamber'+'t',!(0x936+-0x598*0x2+0x1fb)),re('intensity',0x1441+-0x719*0x1+0x7*-0x1e1),re('stretch',-0x1356+0x1d83+-0xa2d),re('alignToMot'+'ion',!(-0x1347+0x178*-0x14+0x2*0x1854)),re('depthSofte'+'ning',0x439+0x2*0x75b+-0x12ef),re('mesh',null),re('particleNo'+'rmal',new T(-0x139*0x13+0x1c96*0x1+-0x55b,0x64d*0x1+-0x5c5*0x1+-0x87,-0x1*-0x1f81+-0x10f3*0x2+0x265)),re('orientatio'+'n',Uh),re('depthWrite',!(0x11*-0x135+0x39d*-0x5+0x2697)),re('noFog',!(-0xeba+0x15b1*0x1+-0x6f6)),re('blendType',Kt),re('node',null),re('startAngle',0xb4e*-0x2+-0x3*-0x23e+0x1*0xfe2),re('startAngle'+'2',this['startAngle']),re('animTilesX',0x1*0x192b+-0x739*0x1+-0x11f1),re('animTilesY',-0x2219+0x13bd+-0xe5d*-0x1),re('animStartF'+'rame',0x97+0x23fd*-0x1+0x2366),re('animNumFra'+'mes',0x2*0x469+-0x6f1*-0x2+-0x16b3),re('animNumAni'+'mations',-0x17*0x35+-0x4df+0x9a3),re('animIndex',-0x828+0x198c+-0x1164),re('randomizeA'+'nimIndex',!(0x2c5+-0x80*0x27+-0x12*-0xee)),re('animSpeed',0x1*-0x15fb+-0xb4+0x16b0),re('animLoop',!(-0x1ad8+0x209a+-0x5c2)),this['_gpuUpdate'+'r']=new JM(this,_0x1ce0b8),this['_cpuUpdate'+'r']=new QM(this),this['emitterPos'+'Uniform']=new Float32Array(0x1a74+-0x1d50+0x2df),this['wrapBounds'+'Uniform']=new Float32Array(-0x2ce+0x1481+-0x8d8*0x2),this['emitterSca'+'leUniform']=new Float32Array([0x79d+0x16d*0x5+-0xebd,0x264b+-0x10ea+0x98*-0x24,0x872*0x2+-0x6*-0x4b3+-0x2d15]),re('colorGraph',i1),re('colorGraph'+'2',this['colorGraph']),re('scaleGraph',P_),re('scaleGraph'+'2',this['scaleGraph']),re('alphaGraph',P_),re('alphaGraph'+'2',this['alphaGraph']),re('localVeloc'+'ityGraph',R_),re('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),re('velocityGr'+'aph',R_),re('velocityGr'+'aph2',this['velocityGr'+'aph']),re('rotationSp'+'eedGraph',M_),re('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),re('radialSpee'+'dGraph',M_),re('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x191*0x11+-0x5a*0x5b+0x55f),this['animParams']=new Float32Array(0x113c+0x13d*-0x1d+0xf*0x13f),this['animIndexP'+'arams']=new Float32Array(0x2168+0x52+-0x2*0x10dc),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x46c*0x1+-0x94d*0x3+0x2054*0x1),this['useMesh']=!(0x28*0x3e+-0x1*-0xe24+0xf4*-0x19),this['useCpu']=!_0x3974e0['supportsGp'+'uParticles'],this['pack8']=!(0x1*0x603+0x159d+-0x1ba0),this['localBound'+'s']=new _e(),this['worldBound'+'sNoTrail']=new _e(),this['worldBound'+'sTrail']=[new _e(),new _e()],this['worldBound'+'s']=new _e(),this['worldBound'+'sSize']=new T(),this['prevWorldB'+'oundsSize']=new T(),this['prevWorldB'+'oundsCente'+'r']=new T(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new T(),this['worldBound'+'sAdd']=new T(),this['timeToSwit'+'chBounds']=-0x1*0x7e1+-0x79f+0xf80,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1e28+-0x10f+-0x1d19,this['numParticl'+'eIndices']=-0xf83*0x1+-0x5f2+0x3*0x727,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x1799+-0x2447*-0x1+-0x3be0,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x23ba+0xc17+0x5e9*0x4)/(0x2f*0x1+-0x274*-0xf+-0x17*0x199),this['maxSubStep'+'s']=-0x15f1+-0x3*0x55d+-0x16*-0x1bb,this['simTime']=-0xc61*0x1+0xf18+-0x2b7,this['simTimeTot'+'al']=-0x53*0x6d+0x7ee*0x4+-0x9*-0x67,this['beenReset']=!(0x1*0xde7+0x2408*-0x1+0x1622),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return v['assert'](this['graphicsDe'+'vice']),c1['get'](this['graphicsDe'+'vice'],()=>{const _0x564ced=new Float32Array(-0x13*-0xb1+0xd*0x2c3+-0x2d0a);for(let _0x3b0ebd=0xf74+0x6b3+-0x1*0x1627;_0x3b0ebd<0x1a71+0x5*0x50b+0x1fc*-0x1a;_0x3b0ebd++)for(let _0x209612=-0x929+-0x106*-0x14+0x3*-0x3c5;_0x209612<-0x1035+0x8*-0xb6+0x15f5;_0x209612++){const _0x295478=_0x209612+(0x118e+-0x1*-0x17a3+0x10*-0x293)-(0xce4*0x2+-0x3ce*-0xa+-0x3fcc+0.5),_0x110fec=_0x3b0ebd+(0x1b5f+-0xebc+-0xca2)-(0x2*0x10dd+-0x7*-0x47b+-0x410f+0.5),_0x5dcc9f=C_(-0x779+-0xb*0x262+0x31*0xb0-C_(Math['sqrt'](_0x295478*_0x295478+_0x110fec*_0x110fec)/(-0x514+0xa5d*0x3+-0x19f3))-(0xe99*-0x1+0x1*0x23ad+-0x1514+0.5)),_0x3e65c4=_0x3b0ebd*(-0x8bc+-0x4e0+0xdac)+_0x209612;_0x564ced[_0x3e65c4*(-0x5c*-0x1a+-0x1*-0x1cb1+-0x2605)]=0x1*-0xadf+0xd*0x151+0x1*-0x63d,_0x564ced[_0x3e65c4*(0x2*-0x3a4+-0x24c1+-0x3f*-0xb3)+(-0x1bc0+-0x16ba+0x327b)]=0x3*-0x169+0x113b+-0xcff,_0x564ced[_0x3e65c4*(-0x11e9+0x269f*0x1+-0x2*0xa59)+(-0xd3*-0x17+0x74f+0x2*-0xd21)]=-0x6*-0x529+-0xe7d+-0x1078,_0x564ced[_0x3e65c4*(0x9*0x16b+-0x23e5+-0x1726*-0x1)+(-0x1132*0x1+-0x1b76+0x2cab)]=_0x5dcc9f;}const _0x34fd79=Qt(this['graphicsDe'+'vice'],0x233f*-0x1+-0x25c9+-0x2*-0x248c,0x1*-0x159b+-0x20fc+0x36a7,_0x564ced,rs,0x11b5+0x447+0x15fb*-0x1,!(-0x210a+0x2083+0x87));return _0x34fd79['minFilter']=st,_0x34fd79['magFilter']=st,_0x34fd79;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x1*0x22f9+0x1*0xe5d+0x149d)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(-0x1acb+0xa03+0x1*0x10c9)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x412+-0x8*-0x169+-0x735)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x2ed*-0xd+0x242d+0x79*-0x9d)),this['worldBound'+'sAdd']['x']+=0x1*-0x15cf+0x9f6+0xbd9+0.5,this['worldBound'+'sAdd']['y']+=-0x35f*0x3+0x6ae+0x1*0x36f+0.5,this['worldBound'+'sAdd']['z']+=-0xd01*0x3+0x1f63+-0x20*-0x3d+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x1e641e=!(0x1b17+-0x19e7+-0x3*0x65);this['emitterSha'+'pe']===Vs?_0x1e641e=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x1e641e=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x1e641e&&this['calculateL'+'ocalBounds']();}const _0x236b78=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x236b78),this['worldBound'+'sTrail'][0xe3f+-0xec2*0x1+0x83]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x20b2+0x771*0x1+0x1942]['add'](this['worldBound'+'sNoTrail']);const _0x3426c7=this['simTimeTot'+'al'];_0x3426c7>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x36*0xd+-0x11*0xc5+-0x1*-0xfd3]['copy'](this['worldBound'+'sTrail'][-0x1*-0x1a29+0x15f7+0x1*-0x301f]),this['worldBound'+'sTrail'][0xe5e+0x1*-0x1aa7+0xc4a]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x3426c7+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1ab9*0x1+0x1*0x205f+-0x5a6]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0xba5+0x2263*-0x1+0x2e0a),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x236b78),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x236b78)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x174c+0x44*-0x3+0x1f*0xc7-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x1*0x1b31+-0x16d5*0x1+-0x45c*0x1]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0xed+0x180+-0x92]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x208b+0x241e+-0xb7*0x5]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x419*-0x3+0x176f*0x1+-0xb22),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x12*0xa5+0x7f*-0x40+0x1426*0x1,this['timeToSwit'+'chBounds']=-0x1*-0x18e5+0xfd4+0x1a1*-0x19);}['calculateL'+'ocalBounds'](){let _0x256098=Number['MAX_VALUE'],_0x23d3bf=Number['MAX_VALUE'],_0x32c5d0=Number['MAX_VALUE'],_0x33d353=-Number['MAX_VALUE'],_0x309f08=-Number['MAX_VALUE'],_0x3924d9=-Number['MAX_VALUE'],_0x2c0083=0x4f*-0x3+-0xa93+0x40*0x2e,_0x1f99c7=-0x3*-0xbaa+0x2439+-0x4737*0x1;const _0x57e21b=this['lifetime']/this['precision'],_0x101c2e=[this['qVelocity'],this['qVelocity2']],_0x30f59a=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x4bb642=[0x105b+-0x142f+0x3d4,-0x1223+-0x10*0x146+0x2683],_0x1fd276=[-0x103*-0x1d+0x7ed*0x1+-0x2544,0xcee*-0x1+-0x25f*-0xe+0x2*-0xa22],_0x2ccdec=[0x209d*-0x1+-0x5e0*0x5+0x3dfd,0x3a*-0x1a+-0xe*0x1fd+-0x1*-0x21ba],_0x203919=[0x1239*-0x1+-0x249f+-0x34*-0x10e,0x96c+-0x1c33+0x1*0x12c7],_0x3655b5=[0x577+-0x24b8+0x1f41,-0x315+0x687+0xe*-0x3f];let _0x48d5d4,_0x5e9393,_0x5d95eb;for(let _0x273d54=0xed+-0x1c0a+0x1b1d;_0x273d54<this['precision']+(-0x236e+-0xe82+0x31f1);_0x273d54++){const _0x424c25=Math['min'](_0x273d54,this['precision']-(-0xded+0x5*-0x784+-0x13*-0x2b6));for(let _0x2395b9=0xfcb+0x2f8+-0x12c3;_0x2395b9<-0x2*-0x1163+-0x4be*0x5+-0xb0e;_0x2395b9++)_0x48d5d4=_0x30f59a[_0x2395b9][_0x424c25*(0x23da+0x1c02+0x91f*-0x7)+(0x1bdf+-0x7ca+-0x1415)]*_0x57e21b+_0x4bb642[_0x2395b9],_0x5e9393=_0x30f59a[_0x2395b9][_0x424c25*(-0x7a2*-0x1+-0x111f+0x980)+(0x266a+0x1e6b+-0x14*0x371)]*_0x57e21b+_0x1fd276[_0x2395b9],_0x5d95eb=_0x30f59a[_0x2395b9][_0x424c25*(-0xc8+-0x102f+-0x87d*-0x2)+(-0x5*0x21e+-0x1d71*0x1+0x2809)]*_0x57e21b+_0x2ccdec[_0x2395b9],_0x256098=Math['min'](_0x48d5d4,_0x256098),_0x23d3bf=Math['min'](_0x5e9393,_0x23d3bf),_0x32c5d0=Math['min'](_0x5d95eb,_0x32c5d0),_0x33d353=Math['max'](_0x48d5d4,_0x33d353),_0x309f08=Math['max'](_0x5e9393,_0x309f08),_0x3924d9=Math['max'](_0x5d95eb,_0x3924d9),_0x4bb642[_0x2395b9]=_0x48d5d4,_0x1fd276[_0x2395b9]=_0x5e9393,_0x2ccdec[_0x2395b9]=_0x5d95eb;for(let _0x3f4fa8=0x941+0x86*0x3e+-0x3*0xde7;_0x3f4fa8<0x14bf+0x14f1+-0x1*0x29ae;_0x3f4fa8++)_0x3655b5[_0x3f4fa8]+=_0x57e21b*Math['sqrt'](_0x101c2e[_0x3f4fa8][_0x424c25*(-0x165b*-0x1+0xa63+-0x20bb)+(-0x189e+-0x4b7*0x5+0xa9*0x49)]*_0x101c2e[_0x3f4fa8][_0x424c25*(0x1*-0x1c27+0xf28+-0x6f*-0x1e)+(0x4b*0x35+0xbb6*-0x1+0x1*-0x3d1)]+_0x101c2e[_0x3f4fa8][_0x424c25*(0x3*-0x7c2+0x37*-0x6d+0x2eb4)+(0x1*0x71f+0x2*-0x12fa+0x1ed6*0x1)]*_0x101c2e[_0x3f4fa8][_0x424c25*(0x2d2+0x1*0x1493+-0x1762)+(0x18d1+0x935*-0x2+-0x9*0xb6)]+_0x101c2e[_0x3f4fa8][_0x424c25*(-0x1*-0x10ec+0x298+0x1*-0x1381)+(-0xa*0x2f9+0x879+-0x1543*-0x1)]*_0x101c2e[_0x3f4fa8][_0x424c25*(-0x7*-0x92+0x1cfc+0x61*-0x57)+(0x530+0x2510+-0x2a3e)]);_0x203919[-0x1fd0+0xd5d+0x1273]+=this['qRadialSpe'+'ed'][_0x424c25]*_0x57e21b,_0x203919[-0x23bc+-0x1248+0x3605]+=this['qRadialSpe'+'ed2'][_0x424c25]*_0x57e21b,_0x2c0083=Math['max'](_0x2c0083,Math['max'](Math['abs'](_0x203919[-0x25aa+-0x125c+0x3806]),Math['abs'](_0x203919[-0x83*0x3+-0x1*-0xff7+-0xe6d]))),_0x1f99c7=Math['max'](_0x1f99c7,this['qScale'][_0x424c25]);}this['emitterSha'+'pe']===Vs?(_0x48d5d4=this['emitterExt'+'ents']['x']*(-0x24*-0x4b+0x3*-0x8c8+0x2*0x7e6+0.5),_0x5e9393=this['emitterExt'+'ents']['y']*(0x1d3f+0x1*-0x1334+0xa0b*-0x1+0.5),_0x5d95eb=this['emitterExt'+'ents']['z']*(0x15ba+0x13*0x137+-0x2ccf+0.5)):(_0x48d5d4=this['emitterRad'+'ius'],_0x5e9393=this['emitterRad'+'ius'],_0x5d95eb=this['emitterRad'+'ius']);const _0x1454b7=Math['max'](_0x3655b5[-0x8*0x24b+-0x386+0x3a5*0x6],_0x3655b5[-0x1*-0x1b8d+-0x12a3+-0x8e9]);Ul['x']=_0x256098-_0x1f99c7-_0x48d5d4-_0x2c0083-_0x1454b7,Ul['y']=_0x23d3bf-_0x1f99c7-_0x5e9393-_0x2c0083-_0x1454b7,Ul['z']=_0x32c5d0-_0x1f99c7-_0x5d95eb-_0x2c0083-_0x1454b7,Vl['x']=_0x33d353+_0x1f99c7+_0x48d5d4+_0x2c0083+_0x1454b7,Vl['y']=_0x309f08+_0x1f99c7+_0x5e9393+_0x2c0083+_0x1454b7,Vl['z']=_0x3924d9+_0x1f99c7+_0x5d95eb+_0x2c0083+_0x1454b7,this['localBound'+'s']['setMinMax'](Ul,Vl);}['rebuild'](){const _0x1321ad=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===Vs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Du||_0x1321ad['maxVertexT'+'extures']<=-0xb*-0x4a+-0x4e+-0x23*0x15||_0x1321ad['fragmentUn'+'iformsCoun'+'t']<0xb9b+0x1243*-0x1+0x6e8||_0x1321ad['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x1321ad['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],ii=this['useCpu']||this['pack8']?0xe*-0x19e+-0x20*-0x9+-0x562*-0x4:-0x22*0x8d+0xeab+-0x15b*-0x3,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=N['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x45*-0x77+0x47*0x60+-0x3ab3]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x1ba8+-0x9a2+0x1205*-0x1]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x115*-0xe+-0x3*0x97c+0xd50),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x8b4a90=-0x11*0x25+-0xe*-0x215+-0x1ab1;_0x8b4a90<this['numParticl'+'es'];_0x8b4a90++)this['vbToSort'][_0x8b4a90]=[0x1671+-0x16c7+-0x2b*-0x2,-0x16ad+0xf56+0x757];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*ii*zl);const _0x204cc5=this['node']===null||this['localSpace']?T['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===Vs&&(this['node']===null||this['localSpace']?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['spawnBound'+'s']):Tr['setTRS'](T['ZERO'],this['node']['getRotatio'+'n'](),I_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),ri[-0x1ba8+0x2490+-0x8e8]=this['emitterExt'+'ents']['x']!==-0xb1e+-0x1bc*0x16+0x3146?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1*0x896+-0x2c*-0xa6+-0x251e,ri[-0x1fd8+-0xb*-0x67+-0xc3*-0x24]=this['emitterExt'+'ents']['y']!==0x1*-0x1c55+0x5*0x18a+0x6e1*0x3?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x588+0xa91+-0x1*0x509,ri[0x132a+-0x21a2+0xda*0x11]=this['emitterExt'+'ents']['z']!==-0x2063*0x1+-0x12ab*0x1+0x330e?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x3*-0x429+-0x101c+0x3a1);for(let _0x4b7798=-0x1a*-0xd+-0x24*0x61+0xc52;_0x4b7798<this['numParticl'+'es'];_0x4b7798++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Tr,ri,_0x204cc5,_0x4b7798),this['useCpu']&&(this['particleTe'+'x'][_0x4b7798*zl+(-0x10d*-0x15+0x68*0x10+-0x1c8e)+this['numParticl'+'esPot']*(0x1*-0x67f+0xe39+-0x13*0x68)*zl]=0x14c2+-0x1*0x21f+-0x12a2);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*ii*zl);for(let _0x80400e=-0x1850+0x3*0x2dd+0x23*0x73;_0x80400e<this['particleTe'+'xStart']['length'];_0x80400e++)this['particleTe'+'xStart'][_0x80400e]=this['particleTe'+'x'][_0x80400e];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=Qt(_0x1321ad,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,-0x1*0x18f5+0x139d+0x1*0x559,!(-0x1854+0x1249+0x60c*0x1)),this['particleTe'+'xOUT']=Qt(_0x1321ad,this['numParticl'+'esPot'],ii,this['particleTe'+'x'],Se,0x1293+-0x1*-0x1abf+-0xf1b*0x3,!(0xc07+-0x1eb6+0x12b0)),this['particleTe'+'xStart']=Qt(_0x1321ad,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'],Se,-0x25b8+0x2197+0x422,!(-0x203b+0x8c1+-0x1*-0x177b))):(this['particleTe'+'xIN']=Qt(_0x1321ad,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xOUT']=Qt(_0x1321ad,this['numParticl'+'esPot'],ii,this['particleTe'+'x']),this['particleTe'+'xStart']=Qt(_0x1321ad,this['numParticl'+'esPot'],ii,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new pt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x397*0x5+0x493*0x5+-0x4eb*0x1)}),this['rtParticle'+'TexOUT']=new pt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0xd*0x277+0x451+0x1bbb*0x1)}),this['swapTex']=!(-0x1fe8+-0x2110+-0x1*-0x40f9));const _0x3b80bd=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+X['particleUp'+'daterInitP'+'S']+(this['pack8']?X['particleIn'+'putRgba8PS']+X['particleOu'+'tputRgba8P'+'S']:X['particleIn'+'putFloatPS']+X['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===Vs?X['particleUp'+'daterAABBP'+'S']:X['particleUp'+'daterSpher'+'ePS'])+X['particleUp'+'daterStart'+'PS'],_0x55555c=_0x3b80bd+X['particleUp'+'daterRespa'+'wnPS']+X['particleUp'+'daterEndPS'],_0x43ab3b=_0x3b80bd+X['particleUp'+'daterNoRes'+'pawnPS']+X['particleUp'+'daterEndPS'],_0x588de8=_0x3b80bd+X['particleUp'+'daterOnSto'+'pPS']+X['particleUp'+'daterEndPS'],_0x5c9fd2='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Is(_0x1321ad,X['fullscreen'+'QuadVS'],_0x55555c,'ParticleUp'+'dateRespaw'+'n-'+_0x5c9fd2),this['shaderPart'+'icleUpdate'+'NoRespawn']=Is(_0x1321ad,X['fullscreen'+'QuadVS'],_0x43ab3b,'ParticleUp'+'dateNoResp'+'awn-'+_0x5c9fd2),this['shaderPart'+'icleUpdate'+'OnStop']=Is(_0x1321ad,X['fullscreen'+'QuadVS'],_0x588de8,'ParticleUp'+'dateStop-'+_0x5c9fd2),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x506+-0x1907+0x1e11*0x1,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x24aa+-0x1aa2*0x1+0x3f4c]['numIndices']:0x1168+0x19fc+0xe*-0x319,this['_allocate'](this['numParticl'+'es']);const _0x1ddb13=new Ie(_0x1321ad);_0x1ddb13['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x1ddb13['indexBuffe'+'r'][0xb*0x353+-0x16*0x1+-0x247b*0x1]=this['indexBuffe'+'r'],_0x1ddb13['primitive'][-0x34c*-0x1+0x79a+0x6*-0x1d1]['type']=Ms,_0x1ddb13['primitive'][-0x68a*0x5+0x14b*-0x17+-0x5ad*-0xb]['base']=-0xb4f+-0xb35+0x16*0x106,_0x1ddb13['primitive'][-0xd*0x151+-0x3*0x1d9+-0x1*-0x16a8]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x1ddb13['primitive'][-0x7*0x292+0x14*0x78+-0x2*-0x44f]['indexed']=!(0x1*-0x102+-0x2d8*-0x4+-0xa5e),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x205764=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0xf13*0x1+0x23e1+-0x10fc*0x3);this['meshInstan'+'ce']=new Le(_0x1ddb13,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0xbda*-0x1+0x1*0x168b+0x12*-0x98),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x2327*0x1+-0x185*0x6+-0x1a09),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x15*-0x25+0x1ce1*-0x1+-0x1fd*-0xd),this['meshInstan'+'ce']['visible']=_0x205764,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x1*0x1cc1+0x1*0x421+0x18a0,!(-0x5b0+-0x1*-0x254+0x35d)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x1283+-0x193f+0x6bd&&(this['animTilesX']>-0x1a46+-0x170+0x1bb7||this['animTilesY']>-0x1*-0x3d1+0x97*0x3+-0x595)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x3e58df=this['precision'],_0x44a586=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x3e58df),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x3e58df),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x3e58df,-0x1*0x15e5+0x2*-0x137b+0x3cdb*0x1,-0x1d76+0x1a*-0x52+0x285*0xf),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x3e58df),this['qScale']=this['scaleGraph']['quantize'](_0x3e58df),this['qAlpha']=this['alphaGraph']['quantize'](_0x3e58df),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x3e58df),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x3e58df),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x3e58df),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x3e58df,0x29a+0xed4+-0x116e,0x2*-0x1f4+-0x979*-0x3+-0x1882),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x3e58df),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x3e58df),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x3e58df),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x3e58df);for(let _0x16407a=-0x704*0x4+0x545*0x2+0x2*0x8c3;_0x16407a<_0x3e58df;_0x16407a++)this['qRotSpeed'][_0x16407a]*=N['DEG_TO_RAD'],this['qRotSpeed2'][_0x16407a]*=N['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(0x8b6+-0x2*0xa94+0xc75),this['velocityUM'+'ax']=new Float32Array(0x2681*-0x1+-0x88*-0x49+-0x44),this['colorUMax']=new Float32Array(0xbd5*0x1+-0x8e*0x23+0x798),this['rotSpeedUM'+'ax']=[0xaee*-0x1+0x2e*-0xc7+0x2eb0],this['scaleUMax']=[-0x1178+0x2d*0x3+-0x10f1*-0x1],this['alphaUMax']=[-0xd3c+0x1564+-0x828],this['radialSpee'+'dUMax']=[-0x401+-0x7c1+0x2*0x5e1],this['qLocalVelo'+'cityDiv']=Ar(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Ar(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Ar(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Ar(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Ar(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Ar(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Ar(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x51ba15=[0x1*0x17d7+-0x10c1*-0x1+-0x2898,0x43a+0xe33*0x1+-0x1*0x126d,0x1*-0x2501+-0x1967+0x3e68];Fr(this['qVelocity'],_0x51ba15);const _0x47d05d=[-0x6*-0x5e9+-0x5f2*-0x2+-0x27e*0x13,-0x763+0x2519*-0x1+0x2c7c,0x1ca4*-0x1+0x5df+0x16c5];Fr(this['qVelocity2'],_0x47d05d);const _0x217960=[-0x9dd*-0x1+-0xe2d*-0x1+0xb5*-0x22,0x365+0x1*0x15e8+0x86f*-0x3,0x2*-0x4b8+0x26f6+-0x1d86];Fr(this['qLocalVelo'+'city'],_0x217960);const _0x1f2dc1=[0xbf*-0x11+-0xd*-0x2ce+-0x17c7,0x1*-0x979+0x56+0x923,0x37+-0x1e67+-0x38*-0x8a];Fr(this['qLocalVelo'+'city2'],_0x1f2dc1);const _0x392008=[-0x1*-0x2126+-0x1987*-0x1+-0x3aad];Fr(this['qRadialSpe'+'ed'],_0x392008);const _0x2a0e48=[0x3fe*-0x7+0x1*-0x1478+0x306a];Fr(this['qRadialSpe'+'ed2'],_0x2a0e48);let _0x22dde0=Math['max'](_0x51ba15[0x81d*-0x4+0xd3e+0x1336],_0x47d05d[-0x1ff8+-0x2*0xccf+0x999*0x6]);_0x22dde0=Math['max'](_0x22dde0,_0x51ba15[-0xe84*0x2+0x5f*-0x3f+0x346a]),_0x22dde0=Math['max'](_0x22dde0,_0x47d05d[0x67c+-0x244b+0x1dd0]),_0x22dde0=Math['max'](_0x22dde0,_0x51ba15[-0x4*0x3bc+0x12*-0x175+0x1496*0x2]),_0x22dde0=Math['max'](_0x22dde0,_0x47d05d[-0x1036+-0x1e61*0x1+0x2e99]);let _0x5458d8=Math['max'](_0x217960[0x119b+-0x1283+0x8*0x1d],_0x1f2dc1[0xa21*-0x2+-0x13fb+0x1*0x283d]);_0x5458d8=Math['max'](_0x5458d8,_0x217960[-0x1f65+0xcd9+0x128d]),_0x5458d8=Math['max'](_0x5458d8,_0x1f2dc1[-0x7e8+0x115c+-0x973]),_0x5458d8=Math['max'](_0x5458d8,_0x217960[0x1*0x23d+0x1861+-0xd*0x20c]),_0x5458d8=Math['max'](_0x5458d8,_0x1f2dc1[0x1*0x272+0x1f74+-0x21e4]);const _0x213361=Math['max'](_0x392008[0x184f+-0x1fd8+0x789],_0x2a0e48[0x104e+-0x1*-0x111e+-0x216c]);this['maxVel']=_0x22dde0+_0x5458d8+_0x213361;}this['useCpu']||(this['internalTe'+'x0']=Qt(_0x44a586,_0x3e58df,0x2233+0x2376+0x18*-0x2e7,D_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=Qt(_0x44a586,_0x3e58df,0x7*0x4cf+0x2253+-0x43fb,D_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=Qt(_0x44a586,_0x3e58df,0x9eb*-0x2+0x7*0x305+0x2*-0xa6,n1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=Qt(_0x44a586,_0x3e58df,-0x3*0x303+0x1a*0x143+0x2*-0xbe2,a1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=Qt(_0x44a586,_0x3e58df,-0x15d0+-0x136d*-0x1+0x99*0x4,r1(this['qColor'],this['qAlpha']),rs,0x7*0x55d+-0x3b*0x1+-0x254f,!(0x2a2*0x2+-0x24e8+-0xa2*-0x32));}['_setMateri'+'alTextures'](){this['colorMap']&&(v['call'](()=>{Ey(this['colorMap']['format'])&&v['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x6324f3=new s1(this);return _0x6324f3['name']='EmitterMat'+'erial:'+this['node']['name'],_0x6324f3['cull']=mt,_0x6324f3['alphaWrite']=!(-0x1b59+-0x1*-0x1b13+0x47*0x1),_0x6324f3['blendType']=this['blendType'],_0x6324f3['depthWrite']=this['depthWrite'],_0x6324f3;}['resetMater'+'ial'](){const _0x5b32b4=this['material'];_0x5b32b4['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x5b32b4['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x5b32b4['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x5b32b4['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x5b32b4['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x5b32b4['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x5b32b4['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x5b32b4['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x5b32b4['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x5b32b4['setParamet'+'er']('colorParam',this['colorParam']),_0x5b32b4['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x5b32b4['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x5b32b4['setParamet'+'er']('lifetime',this['lifetime']),_0x5b32b4['setParamet'+'er']('rate',this['rate']),_0x5b32b4['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x5b32b4['setParamet'+'er']('seed',this['seed']),_0x5b32b4['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x83*0x4+-0x71*0x1d+-0xb5*-0x15]),_0x5b32b4['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x1*0x1a98+0x349+-0x1de1]),_0x5b32b4['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0xf41+-0x7c+0xfbd]),_0x5b32b4['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x5b32b4['setParamet'+'er']('graphSampl'+'eSize',(0x51*0x4+-0x231*-0x9+-0x14fc)/this['precision']),_0x5b32b4['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x1f01*-0x1+0x1c0e+-0x3b0e,0x1*0x1039+0x11df+-0x2217,0xa84*-0x1+-0x48e+0xf13])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x5b32b4['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x5b32b4['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x5b32b4['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][-0x532+-0x3fe+-0x2a*-0x38]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x8b*-0x41+0x1a10+-0x1*0x3d5a]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x31*-0xa3+-0xe33+-0x10fe]=this['wrapBounds']['z'],_0x5b32b4['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x5c*-0x43+0x2308+0x2*-0x57a&&_0x5b32b4['setParamet'+'er']('softening',(-0x13ae+-0x176+0x1525)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x1bb2+-0x169d+-0x4b1))),this['stretch']>-0x158e+-0x314+0x18a2&&(_0x5b32b4['cull']=mt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x4f5835,_0x1dc1e6;if(this['orientatio'+'n']===Uh)_0x4f5835=new Float32Array([0xf0b*-0x1+0x248e+-0x1582,-0x1883*0x1+0x175b*0x1+0x128,0x20d3*-0x1+0xe80+0x1253]),_0x1dc1e6=new Float32Array([0x709+-0x17dd+0x10d4,0xf30+0x2*-0x489+0x9*-0xae,-0x72*-0x41+0x56*0x20+-0x9*0x469]);else{let _0x2e4ebd;this['orientatio'+'n']===Xb?_0x2e4ebd=this['particleNo'+'rmal']['normalize']():_0x2e4ebd=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x4dff52=new T(0x215+-0x3*0x999+0x1ab7,-0x27*0x35+-0x1*0x1bf+-0x9d2*-0x1,0x1758+0x1366+-0x2abe);Math['abs'](_0x4dff52['dot'](_0x2e4ebd))===0x2412+0x6fd*0x1+-0xe5a*0x3&&_0x4dff52['set'](-0x5*0x2ab+0x9*0x38f+0xb8*-0x1a,-0x1c1*0xd+0x1f04+0x1*-0x837,0xf5c*0x1+-0x2461+0x12b*0x12);const _0x3fa51a=new T()['cross'](_0x2e4ebd,_0x4dff52)['normalize']();_0x4dff52['cross'](_0x3fa51a,_0x2e4ebd)['normalize'](),_0x4f5835=new Float32Array([_0x4dff52['x'],_0x4dff52['y'],_0x4dff52['z']]),_0x1dc1e6=new Float32Array([_0x3fa51a['x'],_0x3fa51a['y'],_0x3fa51a['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x4f5835),this['material']['setParamet'+'er']('faceBinorm',_0x1dc1e6);}['_allocate'](_0x468e9c){const _0x37851a=_0x468e9c*this['numParticl'+'eVerts'],_0x4fc043=_0x468e9c*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x7*0x1f1+-0x19d*0x7+-0x24c)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x37851a){const _0x59bc1f=[];this['useCpu']?_0x59bc1f['push']({'semantic':bu,'components':0x4,'type':Ee},{'semantic':wu,'components':0x4,'type':Ee},{'semantic':Ry,'components':0x4,'type':Ee},{'semantic':Iy,'components':0x1,'type':Ee},{'semantic':Dy,'components':this['useMesh']?0x458+-0x15d7*0x1+-0x1*-0x1183:0x114*0x10+-0x2248+0x110a,'type':Ee}):(_0x59bc1f['push']({'semantic':bu,'components':0x4,'type':Ee}),this['useMesh']&&_0x59bc1f['push']({'semantic':wu,'components':0x2,'type':Ee}));const _0x576067=new Et(this['graphicsDe'+'vice'],_0x59bc1f);this['vertexBuff'+'er']=new os(this['graphicsDe'+'vice'],_0x576067,_0x37851a,{'usage':Th}),this['indexBuffe'+'r']=new lr(this['graphicsDe'+'vice'],nr,_0x4fc043);const _0x3ce8cc=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x126c65,_0x7b18,_0x3017dd;if(this['useMesh']){_0x126c65=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x7b18=_0x126c65['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x4b9d1f=0x1*-0x1573+-0x218d*-0x1+-0x1*0xc1a;_0x4b9d1f<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x4b9d1f++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x4b9d1f]['name']===ns){_0x3017dd=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x4b9d1f]['offset']/(0x17f5+0x4a3*0x3+0x39*-0xaa);break;}}for(let _0x358af9=0x4*-0x15a+0x167f+-0x5*0x36b;_0x358af9<_0x37851a;_0x358af9++){const _0x51c36a=Math['floor'](_0x358af9/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x4fd489=_0x358af9%this['numParticl'+'eVerts'];_0x3ce8cc[_0x358af9*(-0x1*-0x16b+0x1312+-0x1477)]=_0x126c65[_0x4fd489*_0x7b18],_0x3ce8cc[_0x358af9*(0x2*-0xbd3+-0x2*0x2f9+0x1*0x1d9e)+(0x1317+-0x83*0x49+0x1245)]=_0x126c65[_0x4fd489*_0x7b18+(0x1c2e+0x1*-0x21d7+0x5aa)],_0x3ce8cc[_0x358af9*(-0x148f+-0xc9c+0x2131)+(-0x1*-0x1865+-0x1ec5+0x13*0x56)]=_0x126c65[_0x4fd489*_0x7b18+(-0x3*-0x17+0xe9d+-0xee0)],_0x3ce8cc[_0x358af9*(0x883+0x355*0x4+-0x15d1)+(-0x1e8f+-0x36*0x10+0xb*0x316)]=_0x51c36a,_0x3ce8cc[_0x358af9*(-0x8fa*-0x3+0x185a+0x1*-0x3342)+(-0x16e9+-0x12e1+0x29ce)]=_0x126c65[_0x4fd489*_0x7b18+_0x3017dd+(0xfa*-0x1+-0xde0+0xeda)],_0x3ce8cc[_0x358af9*(0x4*0x43c+0x125a+0xf4*-0x25)+(0x1*-0x1a04+0xcf6+0xd13)]=0xaf7*0x1+-0x1*0x1fc7+-0x14d1*-0x1-_0x126c65[_0x4fd489*_0x7b18+_0x3017dd+(-0x2523*0x1+-0x9c5*0x3+0x4273*0x1)];}else{const _0x148589=_0x358af9%(-0xdc+0x2272+-0x2192);_0x3ce8cc[_0x358af9*(0x15d2+0x17ef*-0x1+0x221)]=E_[_0x148589][-0x686+-0x1c85+0x230b*0x1],_0x3ce8cc[_0x358af9*(-0x4b6+0x9ec+0x10a*-0x5)+(-0x3*-0xccb+-0x2a*-0x52+-0xd6*0x3e)]=E_[_0x148589][-0x22*0xbf+-0x5*-0x653+-0x640],_0x3ce8cc[_0x358af9*(-0x3*0xcb+-0x4fe+0x3d*0x1f)+(0xabe+-0x1d5e*-0x1+-0x281a)]=0x1a35+-0xb*0x323+-0x6*-0x162,_0x3ce8cc[_0x358af9*(-0x975+-0xb3*0x31+0x2bbc)+(-0x2f*0x4+0x15*-0xd+0x1d0)]=_0x51c36a;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x3ce8cc),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x3fdc20=0xa88+0x366+-0xdee;const _0x1b5ad3=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x5ec6ce=this['mesh']['indexBuffe'+'r'][0x18*0x2+-0x1*-0x1ec5+-0x1ef5];_0x126c65=new Lh[_0x5ec6ce['format']](_0x5ec6ce['lock']());}for(let _0x49def5=-0x2d9+0x165*0x14+-0x3*0x859;_0x49def5<_0x468e9c;_0x49def5++)if(this['useMesh']){for(let _0x5a577e=-0x20a9+-0x900+0x4a1*0x9;_0x5a577e<this['numParticl'+'eIndices'];_0x5a577e++)_0x1b5ad3[_0x49def5*this['numParticl'+'eIndices']+_0x5a577e]=_0x126c65[_0x5a577e]+_0x49def5*this['numParticl'+'eVerts'];}else{const _0x3b2b7f=_0x49def5*(-0x16a6+0x714+0xf96);_0x1b5ad3[_0x3fdc20++]=_0x3b2b7f,_0x1b5ad3[_0x3fdc20++]=_0x3b2b7f+(0x784+0x2608+-0x2d8b),_0x1b5ad3[_0x3fdc20++]=_0x3b2b7f+(0x125d+0x4ea+-0x1745),_0x1b5ad3[_0x3fdc20++]=_0x3b2b7f,_0x1b5ad3[_0x3fdc20++]=_0x3b2b7f+(0x1*0x160f+-0x2453+0xe46),_0x1b5ad3[_0x3fdc20++]=_0x3b2b7f+(-0x2cc*0xd+0x1b0e+0x951);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x15f7+0x7c*-0x29+0x29d3]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x1b7+-0x198*-0x1+0x1f),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x4abc33=-0x187a+-0x15d5+0x2e4f*0x1;_0x4abc33<this['particleTe'+'xStart']['length'];_0x4abc33++)this['particleTe'+'x'][_0x4abc33]=this['particleTe'+'xStart'][_0x4abc33];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x1d4c32=this['loop'];this['loop']=!(-0x2421+-0x1eee+-0x430f*-0x1),this['addTime'](0x3*-0xbe4+-0x1494+0x3840,!(0xc57+-0x1492+0x83c)),this['loop']=_0x1d4c32,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0xac85cf){const _0x1af049=_0xac85cf/this['lifetime'],_0x5ad9fe=Math['min'](Math['floor'](_0x1af049*this['precision']),this['precision']),_0x234486=_0xac85cf/_0x5ad9fe;for(let _0x3316fd=0xb8*-0x27+-0xf*0x1a1+0x3477;_0x3316fd<_0x5ad9fe;_0x3316fd++)this['addTime'](_0x234486,!(-0x1125+-0x613+0x1739));}['resetTime'](){this['endTime']=o1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x20c21e,_0xc6abbf){const _0x3aaa2f=this['graphicsDe'+'vice'],_0x1b3e7a=ne();if(this['simTimeTot'+'al']+=_0x20c21e,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x34ab9b=this['animTilesP'+'arams'];_0x34ab9b[-0x1d7c+-0x28*0xb5+0x39c4]=(-0x1d8d*0x1+-0x20c9+0x3e57*0x1)/this['animTilesX'],_0x34ab9b[0x1021*0x2+-0x40*0x53+-0xb81]=(-0x21d8+0x1*-0x745+0x291e)/this['animTilesY'];const _0x4fea70=this['animParams'];_0x4fea70[-0x5bb+-0x1*0x23ce+0x2989]=this['animStartF'+'rame'],_0x4fea70[0x762+-0x1*-0xb51+0x959*-0x2]=this['animNumFra'+'mes']*this['animSpeed'],_0x4fea70[-0x16a9+0x26*0x54+0xa33]=this['animNumFra'+'mes']-(-0x315+0xf*-0xed+0x10f9),_0x4fea70[-0x15d6+0x2642+-0x1069]=this['animNumAni'+'mations']-(-0x1*-0x1af2+0x8e5+-0x23d6);const _0x18b790=this['animIndexP'+'arams'];_0x18b790[0x59*-0x53+0xbd*-0x1+-0x766*-0x4]=this['animIndex'],_0x18b790[0xf93+-0x1*0x443+0x1*-0xb4f]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===Vs&&(ri[-0xc3e+-0x1f*0xf1+0x3*0xdcf]=this['emitterExt'+'ents']['x']!==0x13*0x1fa+0x17*0x153+-0x4403?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x10e7+-0xaf5+-0x5f2,ri[-0x876+-0x818+0x108f]=this['emitterExt'+'ents']['y']!==0x1f28+0x4*0x819+-0x3f8c?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x1de*-0xe+0xfc7*-0x1+0x29eb,ri[-0xaa*-0x32+-0x2562+-0x8*-0x86]=this['emitterExt'+'ents']['z']!==0x1f2f+0x7ad+-0xcf4*0x3?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x79f+0x1*-0x2359+-0x1*-0x1bba,this['meshInstan'+'ce']['node']===null?Tr['setTRS'](T['ZERO'],se['IDENTITY'],this['emitterExt'+'ents']):Tr['setTRS'](T['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),I_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x4552b6;const _0x218fb2=this['meshInstan'+'ce']['node']===null?T['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x135e+0x1e66+0x2*-0x584]=_0x218fb2['x'],this['emitterSca'+'leUniform'][-0xc43+0xe*0xc7+-0x3*-0x76]=_0x218fb2['y'],this['emitterSca'+'leUniform'][-0x233f*-0x1+0xb94+0xf*-0x31f]=_0x218fb2['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x4552b6=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x7a2+-0x1b38+0x22da]=_0x4552b6['x'],this['emitterPos'+'Uniform'][0x20f2*0x1+-0x25b7+-0x263*-0x2]=_0x4552b6['y'],this['emitterPos'+'Uniform'][0x12c8+0x89*0x21+-0x246f]=_0x4552b6['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x3aaa2f,Tr,ri,_0x20c21e,_0xc6abbf);else{const _0x34164b=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x34164b,this['vbToSort'],this['particleTe'+'x'],Tr,ri,_0x4552b6,_0x20c21e,_0xc6abbf);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x1*-0x92b+-0x176e*-0x1+-0xa*0x16d)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ne()-_0x1b3e7a;}['_destroyRe'+'sources'](){var _0x510ed6,_0x78d1fd,_0x9c2a4a,_0x5f5a88,_0x4e9833,_0xce5b7d,_0x512c82,_0x82ef85,_0x2140af,_0x26035a,_0x40ffef,_0x1a5132;(_0x510ed6=this['particleTe'+'xIN'])==null||_0x510ed6['destroy'](),this['particleTe'+'xIN']=null,(_0x78d1fd=this['particleTe'+'xOUT'])==null||_0x78d1fd['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x9c2a4a=this['rtParticle'+'TexIN'])==null||_0x9c2a4a['destroy'](),this['rtParticle'+'TexIN']=null,(_0x5f5a88=this['rtParticle'+'TexOUT'])==null||_0x5f5a88['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x4e9833=this['internalTe'+'x0'])==null||_0x4e9833['destroy'](),this['internalTe'+'x0']=null,(_0xce5b7d=this['internalTe'+'x1'])==null||_0xce5b7d['destroy'](),this['internalTe'+'x1']=null,(_0x512c82=this['internalTe'+'x2'])==null||_0x512c82['destroy'](),this['internalTe'+'x2']=null,(_0x82ef85=this['internalTe'+'x3'])==null||_0x82ef85['destroy'](),this['internalTe'+'x3']=null,(_0x2140af=this['colorParam'])==null||_0x2140af['destroy'](),this['colorParam']=null,(_0x26035a=this['vertexBuff'+'er'])==null||_0x26035a['destroy'](),this['vertexBuff'+'er']=void(0x61*-0x43+0x1f+-0x62*-0x42),(_0x40ffef=this['indexBuffe'+'r'])==null||_0x40ffef['destroy'](),this['indexBuffe'+'r']=void(-0x2211+0x1d32*0x1+0x4df*0x1),(_0x1a5132=this['material'])==null||_0x1a5132['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class u1 extends It{['generateKe'+'y'](_0x1e184f){const _0x57ad84=_0x1e184f['shaderDesc'],_0x12643a=_0x57ad84['vertexCode']?hn(_0x57ad84['vertexCode']):-0x9*0x7a+0x18fd+-0x14b3,_0x1c4042=_0x57ad84['fragmentCo'+'de']?hn(_0x57ad84['fragmentCo'+'de']):-0x1*0x1e49+0x2dd*-0x7+0x3254,_0x8c20eb=It['definesHas'+'h'](_0x1e184f['defines']);let _0x586bb1=_0x57ad84['uniqueName']+'_'+_0x12643a+'_'+_0x1c4042+'_'+_0x8c20eb;return _0x1e184f['skin']&&(_0x586bb1+='_skin'),_0x1e184f['useInstanc'+'ing']&&(_0x586bb1+='_inst'),_0x1e184f['useMorphPo'+'sition']&&(_0x586bb1+='_morphp'),_0x1e184f['useMorphNo'+'rmal']&&(_0x586bb1+='_morphn'),_0x1e184f['useMorphTe'+'xtureBased'+'Int']&&(_0x586bb1+='_morphi'),_0x586bb1;}['createAttr'+'ibutesDefi'+'nition'](_0x5919b0,_0x4a60b4){const _0x5de72e=_0x4a60b4['shaderDesc']['attributes'],_0x2a24cf=_0x5de72e?{..._0x5de72e}:void(0x335*-0xc+-0x2*-0xa27+0xb3*0x1a);_0x4a60b4['skin']&&(_0x2a24cf['vertex_bon'+'eWeights']=Ys,_0x2a24cf['vertex_bon'+'eIndices']=qt),(_0x4a60b4['useMorphPo'+'sition']||_0x4a60b4['useMorphNo'+'rmal'])&&(_0x2a24cf['morph_vert'+'ex_id']=ya),_0x5919b0['attributes']=_0x2a24cf;}['createVert'+'exDefiniti'+'on'](_0x5d90ac,_0x25b460,_0x3942f5){const _0x23e9e6=_0x25b460['shaderDesc'];if(_0x5d90ac['shaderLang'+'uage']===Ph)_0x5d90ac['vertexCode']=_0x23e9e6['vertexCode'];else{const _0xac7ae3=new Map(_0x3942f5),_0x8f3db8=new Map(_0x25b460['defines']);_0xac7ae3['set']('transformI'+'nstancingV'+'S',''),_0x25b460['skin']&&_0x8f3db8['set']('SKIN',!(0x881*0x1+-0x1e18+0x1597)),_0x25b460['useInstanc'+'ing']&&_0x8f3db8['set']('INSTANCING',!(0x5*-0x1b7+-0x16ff+-0x1f92*-0x1)),(_0x25b460['useMorphPo'+'sition']||_0x25b460['useMorphNo'+'rmal'])&&(_0x8f3db8['set']('MORPHING',!(-0x1928+0x1e48+-0x8*0xa4)),_0x25b460['useMorphTe'+'xtureBased'+'Int']&&_0x8f3db8['set']('MORPHING_I'+'NT',!(0xe5*-0x19+-0x20da+0x101*0x37)),_0x25b460['useMorphPo'+'sition']&&_0x8f3db8['set']('MORPHING_P'+'OSITION',!(-0x4*0x3f6+0x24cf+0x3*-0x6fd)),_0x25b460['useMorphNo'+'rmal']&&_0x8f3db8['set']('MORPHING_N'+'ORMAL',!(-0x164*-0x4+0x153+0x29*-0x2b))),_0x5d90ac['vertexCode']=_0x23e9e6['vertexCode'],_0x5d90ac['vertexIncl'+'udes']=_0xac7ae3,_0x5d90ac['vertexDefi'+'nes']=_0x8f3db8;}}['createFrag'+'mentDefini'+'tion'](_0x4d54bf,_0x256f3a,_0x3f5066){const _0x5b692f=_0x256f3a['shaderDesc'];if(_0x4d54bf['shaderLang'+'uage']===Ph)_0x4d54bf['fragmentCo'+'de']=_0x5b692f['fragmentCo'+'de'];else{const _0x178670=new Map(_0x3f5066),_0x1218e6=new Map(_0x256f3a['defines']);_0x4d54bf['fragmentCo'+'de']=_0x5b692f['fragmentCo'+'de'],_0x4d54bf['fragmentIn'+'cludes']=_0x178670,_0x4d54bf['fragmentDe'+'fines']=_0x1218e6;}}['createShad'+'erDefiniti'+'on'](_0x36bb54,_0x16def6){const _0x343fd5=_0x16def6['shaderDesc'],_0xea0d40={'name':'ShaderMate'+'rial-'+_0x343fd5['uniqueName'],'shaderLanguage':_0x343fd5['shaderLang'+'uage'],'fragmentOutputTypes':_0x343fd5['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x343fd5['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x343fd5['meshBindGr'+'oupFormat']},_0x52c2a4=new Map(Object['entries']({...X,..._0x16def6['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0xea0d40,_0x16def6),this['createVert'+'exDefiniti'+'on'](_0xea0d40,_0x16def6,_0x52c2a4),this['createFrag'+'mentDefini'+'tion'](_0xea0d40,_0x16def6,_0x52c2a4),Mt['createDefi'+'nition'](_0x36bb54,_0xea0d40);}}const f1=new u1();class Ra extends yn{constructor(_0xd84d45){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0xd84d45;}set['shaderDesc'](_0x599f09){_0x599f09&&(v['assert'](_0x599f09['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),v['assert'](_0x599f09['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x599f09?{..._0x599f09}:void(0x1cbb+-0x9*-0x34b+-0x3a5e),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x8bd769){return super['copy'](_0x8bd769),this['shaderDesc']=_0x8bd769['shaderDesc'],this;}['getShaderV'+'ariant'](_0x584dac){const {objDefs:_0x4e255e}=_0x584dac,_0x41d08d={'defines':Dp(this,_0x584dac),'skin':(_0x4e255e&Wc)!==-0xb20+-0xfb*0x1a+-0x249e*-0x1,'useInstancing':(_0x4e255e&$c)!==-0x23e3+0x1bed+0x7f6,'useMorphPosition':(_0x4e255e&qc)!==0x1*-0x26ae+-0xf03+0xabd*0x5,'useMorphNormal':(_0x4e255e&Xc)!==-0x1d1e+0x12e*0x21+-0x13a*0x8,'useMorphTextureBasedInt':(_0x4e255e&jc)!==0x2*-0x746+0x2635+0x9*-0x2a1,'pass':_0x584dac['pass'],'gamma':_0x584dac['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x584dac['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x584dac['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x8d4915=new Yc(_0x584dac['viewUnifor'+'mFormat'],_0x584dac['viewBindGr'+'oupFormat'],_0x584dac['vertexForm'+'at']),_0x3dbfaf=ka(_0x584dac['device']);return _0x3dbfaf['register']('shader-mat'+'erial',f1),_0x3dbfaf['getProgram']('shader-mat'+'erial',_0x41d08d,_0x8d4915,this['userId']);}}const k0=(_0x4c307d,_0x4448b8)=>{const _0x3d99cc=_0x4448b8['length']/(-0x3f6*0x9+-0x1168*-0x1+0x1241),_0x403081=_0x4c307d['length']/(-0x1d9f*0x1+-0x1880+-0x42a*-0xd),_0x19f387=new T(),_0x48bca2=new T(),_0x1dbc18=new T(),_0x2bd5bd=new T(),_0x408aa9=new T(),_0x20bf31=new T(),_0x35d89a=[];for(let _0x741d45=0x14bb+0xd3b+-0x21f6;_0x741d45<_0x4c307d['length'];_0x741d45++)_0x35d89a[_0x741d45]=0x3d2+-0x122f+0xe5d;for(let _0x2bdc5a=0x11a2+0xc2d*0x1+-0x1dcf;_0x2bdc5a<_0x3d99cc;_0x2bdc5a++){const _0xb86fdb=_0x4448b8[_0x2bdc5a*(0x1*0x16c3+0x2db*-0x1+-0x13e5)],_0x43617e=_0x4448b8[_0x2bdc5a*(0x11*-0x186+0x248a+-0xaa1)+(0x1b66+0xb38+0xf*-0x293)],_0x2e7d2a=_0x4448b8[_0x2bdc5a*(-0x22ec+0x1021*0x1+0x1d*0xa6)+(0x1cb3+0x1*-0x11e7+-0xaca)];_0x19f387['set'](_0x4c307d[_0xb86fdb*(-0x1015*-0x1+0x871+0x4e7*-0x5)],_0x4c307d[_0xb86fdb*(-0x2*0x149+-0x11a4+-0x1439*-0x1)+(-0x115b+0x4*0x961+-0x4*0x50a)],_0x4c307d[_0xb86fdb*(0x14e6+0x26db+-0x13ea*0x3)+(-0xb2d*0x1+-0x171+0xca0)]),_0x48bca2['set'](_0x4c307d[_0x43617e*(-0x1ab4+-0x265+-0x3*-0x9b4)],_0x4c307d[_0x43617e*(-0xe6e*-0x2+0x1*0x20f6+-0x3dcf*0x1)+(0x20bf+-0x8e4+-0x17da*0x1)],_0x4c307d[_0x43617e*(0x3*-0x2ce+-0x26d9*-0x1+-0x1e6c)+(-0x1075*0x1+0x1e4d+-0xdd6)]),_0x1dbc18['set'](_0x4c307d[_0x2e7d2a*(-0x1955+-0x1792+0x30ea)],_0x4c307d[_0x2e7d2a*(0x2*0x59e+-0x1*0x2271+0x1738)+(0x12*0x1eb+0x1f29+0xe*-0x4b1)],_0x4c307d[_0x2e7d2a*(-0x1be9+0x104f+0xb9d*0x1)+(0x23ef*0x1+-0x2435+0x48)]),_0x2bd5bd['sub2'](_0x48bca2,_0x19f387),_0x408aa9['sub2'](_0x1dbc18,_0x19f387),_0x20bf31['cross'](_0x2bd5bd,_0x408aa9)['normalize'](),_0x35d89a[_0xb86fdb*(0x1ded+0x66d*-0x1+-0x177d)]+=_0x20bf31['x'],_0x35d89a[_0xb86fdb*(0x22*-0x86+-0xb*0x326+0x5*0xa7d)+(-0x1*0x1855+0xbfd+0x1*0xc59)]+=_0x20bf31['y'],_0x35d89a[_0xb86fdb*(-0x4fa+-0x938+0xe35)+(-0x1bbc+0x3a*0x1+0x1b84)]+=_0x20bf31['z'],_0x35d89a[_0x43617e*(-0x1*0xf7e+-0x81*-0x17+-0x14e*-0x3)]+=_0x20bf31['x'],_0x35d89a[_0x43617e*(0x672+-0x10*0x119+0x1*0xb21)+(0x1*0x188f+-0x21a*0xf+0x6f8)]+=_0x20bf31['y'],_0x35d89a[_0x43617e*(0x5a*-0x59+-0x3*-0xb73+-0x30c)+(-0x1946+0x29c*0x6+0x9a0)]+=_0x20bf31['z'],_0x35d89a[_0x2e7d2a*(0x11d7+-0x1b9c+0x9c8)]+=_0x20bf31['x'],_0x35d89a[_0x2e7d2a*(0x1*0x1dd6+-0x267e+0x13d*0x7)+(-0xf1f+0x151b+-0x5fb)]+=_0x20bf31['y'],_0x35d89a[_0x2e7d2a*(-0x2*-0x472+0x15*-0x16e+0x1525*0x1)+(0x9*-0x213+0xce*-0x8+-0x1*-0x191d)]+=_0x20bf31['z'];}for(let _0x5f070e=-0x1539+0x541+0xff8;_0x5f070e<_0x403081;_0x5f070e++){const _0x4500b8=_0x35d89a[_0x5f070e*(-0x1f1d+0x1eb6+0x6a)],_0x4ba769=_0x35d89a[_0x5f070e*(-0x36+0x13e9+-0x13b0)+(0x2*0x60d+-0x2*0xf62+0x12ab)],_0x37214c=_0x35d89a[_0x5f070e*(0xfed*-0x1+-0x12a*0x16+-0x2*-0x14c6)+(-0x11b*0x1+-0x2f*0xb9+0x2314)],_0x4e8b5a=(0x4a7*-0x1+0x1*-0x535+0x9dd)/Math['sqrt'](_0x4500b8*_0x4500b8+_0x4ba769*_0x4ba769+_0x37214c*_0x37214c);_0x35d89a[_0x5f070e*(-0xb51+-0x1842+0x2396)]*=_0x4e8b5a,_0x35d89a[_0x5f070e*(0x51e+-0x4*-0x25a+0xe83*-0x1)+(-0x1b61*-0x1+0x42b*0x3+0x3*-0xd4b)]*=_0x4e8b5a,_0x35d89a[_0x5f070e*(-0x1*0x1246+0xf*-0x9+-0x70*-0x2b)+(0xb*-0x19e+0x50*0x75+-0x1*0x12c4)]*=_0x4e8b5a;}return _0x35d89a;},fr=(_0x3975fc,_0x5a90a1,_0x453ddd,_0x2b3f88)=>{const _0x40480b=_0x2b3f88['length']/(0x2535+0x135b+-0x388d*0x1),_0x589946=_0x3975fc['length']/(-0x39+0xfcd+-0xf91),_0x44f7c1=new T(),_0xd8279b=new T(),_0x153732=new T(),_0x51bbf7=new W(),_0x26d5aa=new W(),_0x5d4a3b=new W(),_0xd5a132=new T(),_0x11bc92=new T(),_0x6f0601=new Float32Array(_0x589946*(0x17b*0x2+0x342*-0xa+0x1da1)),_0x53584b=new Float32Array(_0x589946*(-0x1*-0x1d2f+-0x12cd+-0xa5f)),_0x45f6fe=[];for(let _0x2a43e2=0x427*0x6+-0x96e+-0xf7c;_0x2a43e2<_0x40480b;_0x2a43e2++){const _0x428453=_0x2b3f88[_0x2a43e2*(0xaa7*-0x2+0x3*0x2ab+0xd50)],_0x107039=_0x2b3f88[_0x2a43e2*(-0x181f+-0xace+0x22f0)+(0x2115+-0x89*-0x45+0x1*-0x4601)],_0x7e3ced=_0x2b3f88[_0x2a43e2*(0x1ade*-0x1+-0x11fd+0x2*0x166f)+(-0x1*0x21d0+0x1280+0x1*0xf52)];_0x44f7c1['set'](_0x3975fc[_0x428453*(0x4d*0x59+0x7e6+-0x8*0x455)],_0x3975fc[_0x428453*(-0x1eb*-0x2+0x1490*0x1+-0x1863)+(0x1f1c+-0x4c*-0x57+0x37*-0x109)],_0x3975fc[_0x428453*(-0x5*0x1f9+0x189*-0x1+0xb69)+(0x9*-0x14c+-0x1*0x2312+0x2ec0)]),_0xd8279b['set'](_0x3975fc[_0x107039*(-0x5*0x25e+-0x22*-0x38+0x469)],_0x3975fc[_0x107039*(-0x633+-0x2*0x58d+0x1150)+(-0x1601+0x1*0x1f6+-0x140c*-0x1)],_0x3975fc[_0x107039*(-0x53e+0x1*0x1463+-0xf22)+(-0xe99*0x1+-0x1*0x279+0x1114*0x1)]),_0x153732['set'](_0x3975fc[_0x7e3ced*(-0x20cc+-0x4*0x39e+0x2f47)],_0x3975fc[_0x7e3ced*(0x21fd+0x1*-0x1df0+0xb*-0x5e)+(-0x1*0x69d+-0x7c4+0xe62)],_0x3975fc[_0x7e3ced*(0x33*-0x13+-0x4*0xda+-0x4*-0x1cd)+(0x74a+-0x1c65+0x5*0x439)]),_0x51bbf7['set'](_0x453ddd[_0x428453*(-0x23bf+0x883+0x2*0xd9f)],_0x453ddd[_0x428453*(0x1379+0x1*0x61+0x7f*-0x28)+(0x4*-0x642+-0x2110+0x3a19)]),_0x26d5aa['set'](_0x453ddd[_0x107039*(-0xb5*-0x24+-0xe17*0x1+-0xb5b)],_0x453ddd[_0x107039*(0x1*0x8a9+0x51c+0xdc3*-0x1)+(-0x149*0x3+0x1f7d+-0x1ba1*0x1)]),_0x5d4a3b['set'](_0x453ddd[_0x7e3ced*(0x1232+0xf09+0x3b1*-0x9)],_0x453ddd[_0x7e3ced*(0x23dd+0x542+0x1*-0x291d)+(-0x2*-0xd6f+0x1d*-0xa+-0x19bb)]);const _0x1b4d41=_0xd8279b['x']-_0x44f7c1['x'],_0x237629=_0x153732['x']-_0x44f7c1['x'],_0x57de85=_0xd8279b['y']-_0x44f7c1['y'],_0x152431=_0x153732['y']-_0x44f7c1['y'],_0xd56e67=_0xd8279b['z']-_0x44f7c1['z'],_0xa575b4=_0x153732['z']-_0x44f7c1['z'],_0x1dce35=_0x26d5aa['x']-_0x51bbf7['x'],_0x2fd4c6=_0x5d4a3b['x']-_0x51bbf7['x'],_0x25a9c8=_0x26d5aa['y']-_0x51bbf7['y'],_0x4a7918=_0x5d4a3b['y']-_0x51bbf7['y'],_0x3d42af=_0x1dce35*_0x4a7918-_0x2fd4c6*_0x25a9c8;if(_0x3d42af===-0x1*0xc89+-0x206b+0x2cf4)_0xd5a132['set'](-0xa40+0xccf+-0x28f*0x1,0x3*-0xcdc+0x13c4+-0x1*-0x12d1,0xef3+0x41*-0x94+-0x78b*-0x3),_0x11bc92['set'](-0x1b79+-0x1fcb+0x3b45,0x17*0x6b+0x1854+-0x21f1*0x1,0x26a2+0xa40+-0x30e2*0x1);else{const _0x4f41c3=(-0x12cb*-0x1+-0x4*-0x65+0x2*-0xa2f)/_0x3d42af;_0xd5a132['set']((_0x4a7918*_0x1b4d41-_0x25a9c8*_0x237629)*_0x4f41c3,(_0x4a7918*_0x57de85-_0x25a9c8*_0x152431)*_0x4f41c3,(_0x4a7918*_0xd56e67-_0x25a9c8*_0xa575b4)*_0x4f41c3),_0x11bc92['set']((_0x1dce35*_0x237629-_0x2fd4c6*_0x1b4d41)*_0x4f41c3,(_0x1dce35*_0x152431-_0x2fd4c6*_0x57de85)*_0x4f41c3,(_0x1dce35*_0xa575b4-_0x2fd4c6*_0xd56e67)*_0x4f41c3);}_0x6f0601[_0x428453*(-0x65*0x43+0x9b*0x2b+0x69)+(0x1*0x1f62+0x1d*0x72+-0x2c4c)]+=_0xd5a132['x'],_0x6f0601[_0x428453*(0x1b50+-0x5*0x5a6+0xf1)+(-0x26f3+0x107*-0x3+0x2a09)]+=_0xd5a132['y'],_0x6f0601[_0x428453*(0x3+-0x2581*-0x1+-0x2581)+(-0x17ce+-0xa23+0x3*0xb51)]+=_0xd5a132['z'],_0x6f0601[_0x107039*(-0x17e5*-0x1+0x6b8*0x4+-0x32c2)+(0xdb4*0x2+0xa57*0x3+-0x1*0x3a6d)]+=_0xd5a132['x'],_0x6f0601[_0x107039*(-0xbff*0x1+-0xf7+0xcf9)+(-0x75*0x3b+0x1c83+-0x18b)]+=_0xd5a132['y'],_0x6f0601[_0x107039*(-0x1f59+0x3*-0xab3+-0x3f75*-0x1)+(-0x1343+-0x426+0x176b)]+=_0xd5a132['z'],_0x6f0601[_0x7e3ced*(-0x1096+-0x1a4e+0x2ae7)+(0x509*-0x1+0xa*-0x182+0x141d)]+=_0xd5a132['x'],_0x6f0601[_0x7e3ced*(-0x106e*0x2+-0x2*-0x9bb+0xd69)+(0x2311*-0x1+0x166d+0xca5)]+=_0xd5a132['y'],_0x6f0601[_0x7e3ced*(0x13c4+0x1f4+-0x15b5)+(-0x3b*-0x9c+-0x47d*-0x1+-0x286f)]+=_0xd5a132['z'],_0x53584b[_0x428453*(-0xd*0x2b9+-0x7b1+0x2b19)+(-0x32*-0xad+-0x114+0x1*-0x20b6)]+=_0x11bc92['x'],_0x53584b[_0x428453*(0xb25+-0x1d71+0x124f)+(0xaaa+0x7e4*0x1+-0x128d)]+=_0x11bc92['y'],_0x53584b[_0x428453*(0x84a+-0x26c3+0x4*0x79f)+(0x4*0x86a+-0x941+-0x1865)]+=_0x11bc92['z'],_0x53584b[_0x107039*(0x1fa6+-0x15bf+-0x9e4)+(-0x25*-0x89+0x1*0x1fae+0x23d*-0x17)]+=_0x11bc92['x'],_0x53584b[_0x107039*(-0x1*0x25a6+0x1*-0x1de+-0x2787*-0x1)+(-0x1*0x1765+-0xef8+0x265e)]+=_0x11bc92['y'],_0x53584b[_0x107039*(-0x679+0xa79+-0x3fd)+(0x20d5+0x235c+-0x1*0x442f)]+=_0x11bc92['z'],_0x53584b[_0x7e3ced*(0xfe4+-0x49*-0xb+0x982*-0x2)+(0x53+0xda5+-0xdf8)]+=_0x11bc92['x'],_0x53584b[_0x7e3ced*(-0xcc*0x1e+-0x455*-0x9+-0x2*0x789)+(0x4e*0x61+-0x1873+-0x1*0x51a)]+=_0x11bc92['y'],_0x53584b[_0x7e3ced*(0x5*-0x74b+0x204b+0x42f)+(-0x2*-0x1179+0x25*0xca+-0x4022*0x1)]+=_0x11bc92['z'];}const _0x325c24=new T(),_0x414489=new T(),_0x160d5a=new T(),_0x21b1e3=new T();for(let _0x541b29=0xd*-0xc2+-0x1625*-0x1+0x419*-0x3;_0x541b29<_0x589946;_0x541b29++){_0x160d5a['set'](_0x5a90a1[_0x541b29*(0x1*-0x784+-0x1ad8+-0xb75*-0x3)],_0x5a90a1[_0x541b29*(0xeb0+-0x527*-0x1+-0x13d4)+(-0xef*-0xb+0x15b*0x9+-0x77d*0x3)],_0x5a90a1[_0x541b29*(-0x6b8+-0x132*0x1b+-0x7cd*-0x5)+(-0x1f49*0x1+-0x35*0x95+-0x3e24*-0x1)]),_0x325c24['set'](_0x6f0601[_0x541b29*(0x7a6*0x1+0x13dd*0x1+-0x1b80)],_0x6f0601[_0x541b29*(0x48b*0x1+-0x9bb*0x1+-0xb*-0x79)+(0x1*-0x1499+-0x4a6+0x1940)],_0x6f0601[_0x541b29*(0x4c7+-0xe*-0x29c+-0x294c)+(0x7*-0x73+0x9bb*0x2+-0x104f)]),_0x414489['set'](_0x53584b[_0x541b29*(-0x677+0xcdd*-0x1+0x1357)],_0x53584b[_0x541b29*(-0x1d*0x61+0xb*-0x2ed+0x2b2f)+(0x7*0x157+0x132+0x2*-0x549)],_0x53584b[_0x541b29*(0x2696+0x80b+-0x1*0x2e9e)+(0x63a*-0x4+0x4*-0x50e+-0x6d*-0x6a)]);const _0x3edfb6=_0x160d5a['dot'](_0x325c24);_0x21b1e3['copy'](_0x160d5a)['mulScalar'](_0x3edfb6),_0x21b1e3['sub2'](_0x325c24,_0x21b1e3)['normalize'](),_0x45f6fe[_0x541b29*(0x1a29+0x1ee2+-0x3907)]=_0x21b1e3['x'],_0x45f6fe[_0x541b29*(0x1f91+0x17*-0x2a+-0x1bc7)+(0x17fb+-0x5*0x3fb+0x7*-0x95)]=_0x21b1e3['y'],_0x45f6fe[_0x541b29*(0x1f03+0x2f3*0x5+-0x493*0xa)+(-0x2b*-0xb+0x1b4a+0x1d21*-0x1)]=_0x21b1e3['z'],_0x21b1e3['cross'](_0x160d5a,_0x325c24),_0x45f6fe[_0x541b29*(0x2*0x4da+0x1564+-0x1f14)+(-0x1fc*0x11+0x2025+-0xcd*-0x2)]=_0x21b1e3['dot'](_0x414489)<-0x1881+-0x20c5+-0x1ca3*-0x2?-(0x1408+-0xa*0x161+-0x63d):-0x1213+-0x92*-0x32+-0xa70;}return _0x45f6fe;};class pn{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=k0(this['positions'],this['indices']);}['calculateT'+'angents'](){v['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),v['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),v['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),v['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const Wu=(-0x2525+0x1*-0x1699+0x3bc2)/(0xb85+-0xb30+-0x15),L_=-0xb17+0x18cd+-0xdb5-Wu*(0x1057+-0x5*-0x2e8+-0x1edd);class $u extends pn{constructor(_0x19feca={}){super();const _0x136fd6=_0x19feca['halfExtent'+'s']??new T(0x1*0x13f9+0xa*0x2b4+-0x2f01+0.5,0x18c9*0x1+0xc88+-0xe9*0x29+0.5,-0x994*-0x1+0x154c+-0x1ee0+0.5),_0x259246=_0x19feca['widthSegme'+'nts']??-0x2*0x116+-0x987*-0x1+-0x75a,_0xdf9e04=_0x19feca['lengthSegm'+'ents']??-0x219d+0x24e3+-0x345,_0x1da60f=_0x19feca['heightSegm'+'ents']??0x1*0xb89+0xc7*-0x2b+0x15e5,_0x30c463=_0x19feca['yOffset']??0x258d+-0x4f*0x1e+-0x1c4b,_0x2952ec=-_0x136fd6['y']+_0x30c463,_0x1d4798=_0x136fd6['y']+_0x30c463,_0x342061=[new T(-_0x136fd6['x'],_0x2952ec,_0x136fd6['z']),new T(_0x136fd6['x'],_0x2952ec,_0x136fd6['z']),new T(_0x136fd6['x'],_0x1d4798,_0x136fd6['z']),new T(-_0x136fd6['x'],_0x1d4798,_0x136fd6['z']),new T(_0x136fd6['x'],_0x2952ec,-_0x136fd6['z']),new T(-_0x136fd6['x'],_0x2952ec,-_0x136fd6['z']),new T(-_0x136fd6['x'],_0x1d4798,-_0x136fd6['z']),new T(_0x136fd6['x'],_0x1d4798,-_0x136fd6['z'])],_0x36974a=[[0x108e+0xf3e+-0x1fcc,-0x24d4+0xdda+0x7a9*0x3,-0x11c*0x1a+0x50+0x1c8b*0x1],[0x1*-0x13e3+0xd66+0x9*0xb9,-0x9*0x322+0x1a56+0x25*0xd,-0xa9b*-0x1+0x200+-0xc94],[0xebf*0x1+-0x1959+0xa9d,-0x149*0x8+-0x158+0xba2,-0xdab+-0x1d*0x17+-0x4*-0x413],[0x40*0x81+0x2052+0x1*-0x4091,0x1*0x16a2+-0x132c+-0x376,-0x24cd+-0x15ff+0x3ad0],[-0x2554+0xb99*-0x2+0x1*0x3c87,-0x215b*0x1+-0x7*-0x2f0+0x445*0x3,-0x1d4+-0x1*0xe87+0x105d],[0xa91*-0x1+-0x1758+0x56*0x65,0x1*0x1f99+0x2517+-0x2*0x2258,0x21f6+-0xd94+0x1*-0x145c]],_0x46acfb=[[0xaea+-0x22db+-0xe3*-0x1b,0x28*-0x1+0x3d8*-0x1+0x400,0x1aca+0xf33+-0x29fc],[0x5*-0x3d6+0x5*-0x1e4+0x1ca2,-0x206e+-0x20cd+0x413b,-(-0x8b5+0xf*-0xcc+0x14aa)],[0x81d*0x4+0xaed*0x2+0x3e1*-0xe,0x16ae+0xb3*0x3+-0x18c6,0x8a8+-0x20*0xdf+0x1338],[0x17d0+-0x8ef*-0x1+-0x20bf,-(0xd1*0x3+-0xe19+0x1*0xba7),-0x206b*-0x1+0x221e+-0x4289],[0x84f+0x393+-0xbe1*0x1,-0x55b*0x1+-0x629+-0x2c*-0x43,-0x2*-0x3af+-0x3d3*-0x1+-0xb31],[-(0x262c+-0x4f1*0x6+-0x3*0x2d7),-0x3*0x146+-0x72*-0x3b+0x4*-0x59d,-0x1*-0x1e4a+-0x12ad*0x1+-0x3*0x3df]],_0x888bbc={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x5997a3=[],_0x444e62=[],_0x2c56e9=[],_0x3c773e=[];let _0x467281=-0xb*0x71+0x52f+-0x54;const _0x12b7d7=(_0x744d1,_0x5002c5,_0x1649d1)=>{const _0x498179=new T(),_0x2d2b2f=new T(),_0x4962e4=new T(),_0x49407e=new T();for(let _0x14019a=-0x1cd6+-0x151*-0x17+-0x171;_0x14019a<=_0x5002c5;_0x14019a++)for(let _0x1292d6=0x1dd6+-0x17*-0x4a+0x123e*-0x2;_0x1292d6<=_0x1649d1;_0x1292d6++){_0x498179['lerp'](_0x342061[_0x36974a[_0x744d1][-0x1dd7*-0x1+-0x1b86+-0x251]],_0x342061[_0x36974a[_0x744d1][0x1*0x601+0x141f+-0x1a1f]],_0x14019a/_0x5002c5),_0x2d2b2f['lerp'](_0x342061[_0x36974a[_0x744d1][-0x11*0x11f+-0x1a*0x123+0x309d]],_0x342061[_0x36974a[_0x744d1][0x827+0x96a+0x5*-0x383]],_0x1292d6/_0x1649d1),_0x4962e4['sub2'](_0x2d2b2f,_0x342061[_0x36974a[_0x744d1][0x155f+0x7dc+0x7*-0x42d]]),_0x49407e['add2'](_0x498179,_0x4962e4);let _0x81544=_0x14019a/_0x5002c5,_0x22e7e=_0x1292d6/_0x1649d1;_0x5997a3['push'](_0x49407e['x'],_0x49407e['y'],_0x49407e['z']),_0x444e62['push'](_0x46acfb[_0x744d1][0xd*-0x1d1+-0x1156+0x28f3],_0x46acfb[_0x744d1][-0x1b*-0x46+0x59*0x6b+-0x2c94],_0x46acfb[_0x744d1][-0x5*0x40+-0x24e9+0x1*0x262b]),_0x2c56e9['push'](_0x81544,0x1f*-0xad+-0x1*-0x2351+-0xe5d-_0x22e7e),_0x81544=_0x81544*L_+Wu,_0x22e7e=_0x22e7e*L_+Wu,_0x81544/=0x1357+0x1*0xf33+0x2287*-0x1,_0x22e7e/=0x2*-0x83b+-0x35b*0x4+0x1de5,_0x81544+=_0x744d1%(0x319+0x3c1*-0x4+0xbee)/(-0x1003+-0x8f3+-0x3*-0x853),_0x22e7e+=Math['floor'](_0x744d1/(-0x2dd*0x1+-0x1*-0x1920+0xb2*-0x20))/(-0x159b+-0x47f+0x1a1d),_0x14019a<_0x5002c5&&_0x1292d6<_0x1649d1&&(_0x3c773e['push'](_0x467281+_0x1649d1+(-0xfa5+0xca6+0x300),_0x467281+(-0x1e8f+-0x1c9*-0x4+0xbb6*0x2),_0x467281),_0x3c773e['push'](_0x467281+_0x1649d1+(-0x1fa5+0x10a+0x1e9c),_0x467281+_0x1649d1+(0x1876+0x2b2*0x4+-0xa*0x386),_0x467281+(0x1e*0x119+0x131+0x16*-0x18d))),_0x467281++;}};_0x12b7d7(_0x888bbc['FRONT'],_0x259246,_0x1da60f),_0x12b7d7(_0x888bbc['BACK'],_0x259246,_0x1da60f),_0x12b7d7(_0x888bbc['TOP'],_0x259246,_0xdf9e04),_0x12b7d7(_0x888bbc['BOTTOM'],_0x259246,_0xdf9e04),_0x12b7d7(_0x888bbc['RIGHT'],_0xdf9e04,_0x1da60f),_0x12b7d7(_0x888bbc['LEFT'],_0xdf9e04,_0x1da60f),this['positions']=_0x5997a3,this['normals']=_0x444e62,this['uvs']=_0x2c56e9,this['uvs1']=_0x2c56e9,this['indices']=_0x3c773e,_0x19feca['calculateT'+'angents']&&(this['tangents']=fr(_0x5997a3,_0x444e62,_0x2c56e9,_0x3c773e));}}class B0 extends pn{constructor(_0x1b891c={}){super();const _0x1d8557=_0x1b891c['radius']??0x20f8+0x2197+-0x428f+0.5,_0x5606ba=_0x1b891c['latitudeBa'+'nds']??0x1380+0x1502+-0x2872,_0x4016a0=_0x1b891c['longitudeB'+'ands']??-0x4*-0x5a+-0x17ae+0x1656,_0x1dcc84=[],_0x2c11b4=[],_0x210513=[],_0xf2800e=[];for(let _0x4493cc=-0x6*-0x1fd+-0x1118+0x52a;_0x4493cc<=_0x5606ba;_0x4493cc++){const _0x3d4334=_0x4493cc*Math['PI']/_0x5606ba,_0x241168=Math['sin'](_0x3d4334),_0x4b5add=Math['cos'](_0x3d4334);for(let _0xca4585=-0x36e+0x23b*0x6+0xb6*-0xe;_0xca4585<=_0x4016a0;_0xca4585++){const _0x129c59=_0xca4585*(-0x1fe6+-0xd9d+0x2d85)*Math['PI']/_0x4016a0-Math['PI']/(-0x207f+-0x97*-0x1f+-0x5b*-0x28),_0x450ff0=Math['sin'](_0x129c59),_0x50ac89=Math['cos'](_0x129c59)*_0x241168,_0x5c497d=_0x4b5add,_0x896b4e=_0x450ff0*_0x241168,_0x21db5b=-0x2c*0x3+0xd8b*-0x1+0xe10-_0xca4585/_0x4016a0,_0x52ce5a=-0x207f+-0x11d6+0x1*0x3256-_0x4493cc/_0x5606ba;_0x1dcc84['push'](_0x50ac89*_0x1d8557,_0x5c497d*_0x1d8557,_0x896b4e*_0x1d8557),_0x2c11b4['push'](_0x50ac89,_0x5c497d,_0x896b4e),_0x210513['push'](_0x21db5b,-0x1b08+0x61*0x5+0x4*0x649-_0x52ce5a);}}for(let _0x3ae30b=-0x13a9+0x64e+0xd5b;_0x3ae30b<_0x5606ba;++_0x3ae30b)for(let _0xd5b475=-0x208a+-0x3*-0x74b+0xaa9*0x1;_0xd5b475<_0x4016a0;++_0xd5b475){const _0x2140c9=_0x3ae30b*(_0x4016a0+(-0x1704+0x3be*-0x1+0x1f*0xdd))+_0xd5b475,_0xa464d0=_0x2140c9+_0x4016a0+(-0x1cda+0x5da+0x1701);_0xf2800e['push'](_0x2140c9+(0x67*-0x29+-0x1379+0x23f9*0x1),_0xa464d0,_0x2140c9),_0xf2800e['push'](_0x2140c9+(-0x294*-0x9+-0x1*-0xa+-0x173d),_0xa464d0+(-0x11+0x8*-0x327+0x194a),_0xa464d0);}this['positions']=_0x1dcc84,this['normals']=_0x2c11b4,this['uvs']=_0x210513,this['uvs1']=_0x210513,this['indices']=_0xf2800e,_0x1b891c['calculateT'+'angents']&&(this['tangents']=fr(_0x1dcc84,_0x2c11b4,_0x210513,_0xf2800e));}}class p1 extends B0{constructor(_0x282885={}){const _0x1a5dc3=_0x282885['latitudeBa'+'nds']??0x227c+0x2*-0x942+-0xfe8,_0x1d51f7=_0x282885['longitudeB'+'ands']??-0x1cb6+-0xa6*0x15+0x2a64;super({'radius':0.5,'latitudeBands':_0x1a5dc3,'longitudeBands':_0x1d51f7});const _0x30607d=-0x20db+-0x160*-0x2+0x1e1b+0.1,_0x54c543=-0x921+-0x1*0x2e3+0xc04+0.95,_0x1c0e48=_0x54c543*_0x54c543,_0x255f0c=this['positions'];for(let _0x452e8e=0x1ea*-0x3+0x43c+0x1*0x182;_0x452e8e<_0x255f0c['length'];_0x452e8e+=-0x1dd8+-0x6*0x619+0xe9*0x49){const _0x33105f=_0x255f0c[_0x452e8e]/(0x1315+-0x1*-0x1fcb+-0x32e0+0.5);let _0x57f5e1=_0x255f0c[_0x452e8e+(0x1e1f+0x59e+0x1*-0x23bc)]/(-0x2*-0xf83+0x27*-0xb+-0x1d59+0.5);const _0x795dc4=_0x255f0c[_0x452e8e+(0x1*-0x2293+0x32*-0x32+0x2c59)]/(0x1*-0x17f+-0x761+-0x20*-0x47+0.5);_0x57f5e1<0x1522*-0x1+-0xa21*0x2+0xdcc*0x3&&(_0x57f5e1*=-0x1dd2+0x9a3*0x1+0x142f+0.3,_0x33105f*_0x33105f+_0x795dc4*_0x795dc4<_0x1c0e48&&(_0x57f5e1=-(0x17a4+0x19*-0x10d+0x2a1+0.1))),_0x57f5e1+=_0x30607d,_0x57f5e1*=0x208f+-0x189+-0x1f06+0.5,_0x255f0c[_0x452e8e+(0x491*-0x5+0x5da+0x10fc)]=_0x57f5e1;}}}class So{static['create'](_0x4adc57,_0xd7db39){switch(_0xd7db39){case tw:return So['box'](_0x4adc57);case sw:return So['dome'](_0x4adc57);}return v['assert'](_0xd7db39===xo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0xd7db39),So['infinite'](_0x4adc57);}static['infinite'](_0x5e86b7){return Ie['fromGeomet'+'ry'](_0x5e86b7,new $u(_0x5e86b7));}static['box'](_0x3266d1){return Ie['fromGeomet'+'ry'](_0x3266d1,new $u({'yOffset':0.5}));}static['dome'](_0x1fd330){const _0x26cb8c=new p1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x26cb8c['normals']=void(-0x1d5e+-0xc85*-0x3+-0x831),_0x26cb8c['uvs']=void(-0xdd6+-0x5d1+0x13a7),Ie['fromGeomet'+'ry'](_0x1fd330,_0x26cb8c);}}class m1{constructor(_0x46578b,_0x5b75fb,_0xd47823,_0x395566,_0x106174){c(this,'meshInstan'+'ce',null);const _0x4b67de=new Ra({'uniqueName':'SkyMateria'+'l','vertexCode':X['skyboxVS'],'fragmentCode':X['skyboxPS'],'attributes':{'aPosition':He}});_0x4b67de['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Es['decodeFunc'](_0x395566['encoding'])),_0x106174!==xo&&_0x4b67de['setDefine']('SKYMESH',''),_0x395566['cubemap']&&_0x4b67de['setDefine']('SKY_CUBEMA'+'P',''),_0x4b67de['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x5b75fb['skyboxHigh'+'lightMulti'+'plier']),_0x395566['cubemap']?_0x4b67de['setParamet'+'er']('texture_cu'+'beMap',_0x395566):(_0x4b67de['setParamet'+'er']('texture_en'+'vAtlas',_0x395566),_0x4b67de['setParamet'+'er']('mipLevel',_0x5b75fb['skyboxMip'])),_0x4b67de['cull']=mo,_0x4b67de['depthWrite']=!(0x239a+0xbd5+-0x2f6e);const _0x5db181=_0x5b75fb['layers']['getLayerBy'+'Id'](vp);if(_0x5db181){const _0x55cbca=So['create'](_0x46578b,_0x106174),_0x1de834=new Le(_0x55cbca,_0x4b67de,_0xd47823);this['meshInstan'+'ce']=_0x1de834,_0x1de834['cull']=!(-0x1b*-0x103+0x21bc*0x1+-0x3d0c),_0x1de834['pick']=!(-0x1199+-0x1*-0x1c32+-0xa98),_0x5db181['addMeshIns'+'tances']([_0x1de834]),this['skyLayer']=_0x5db181;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class _1{constructor(_0x1d7e8d){c(this,'_type',xo),c(this,'_center',new T(0x8c7+-0x195d*-0x1+-0x4*0x889,0x1f02+0xdb6+-0x2cb7,0x7*0x1b9+-0x107e+-0x1*-0x46f)),c(this,'skyMesh',null),c(this,'node',new De('SkyMeshNod'+'e')),(this['device']=_0x1d7e8d['device'],this['scene']=_0x1d7e8d,this['center']=new T(0x170a+-0x51*0x2f+0x7b*-0x11,-0xe34+0x420+-0x1*-0xa15,-0x49*-0x3c+0xc68+0x2*-0xec2),this['centerArra'+'y']=new Float32Array(-0x3*0xb36+0x8*-0x28+0x22e5),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x10c89d){this['type']=_0x10c89d['skyType']??xo,this['node']['setLocalPo'+'sition'](new T(_0x10c89d['skyMeshPos'+'ition']??[0x22c*0x10+0x4df*0x2+0x22*-0x14f,0x7*-0x449+-0x1647+0x3446,-0x1674+-0x44+-0x5ae*-0x4])),this['node']['setLocalEu'+'lerAngles'](new T(_0x10c89d['skyMeshRot'+'ation']??[-0x150b+-0x1*-0x132a+0x25*0xd,0x1c49+0x1*0xdc6+-0x25*0x123,0x155+0xfd7*0x1+-0x7*0x274])),this['node']['setLocalSc'+'ale'](new T(_0x10c89d['skyMeshSca'+'le']??[0xf6b+0x4*0x446+-0x13*0x1b6,-0x54c+0x62*-0x13+0xc93,0x1*-0x101f+-0x1b50+0x50*0x8b])),_0x10c89d['skyCenter']&&(this['_center']=new T(_0x10c89d['skyCenter']));}set['type'](_0x11d025){this['_type']!==_0x11d025&&(this['_type']=_0x11d025,this['scene']['updateShad'+'ers']=!(0x2cd*0xc+-0x2*-0xe12+0x1ee*-0x20),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x5ac4f6){this['_center']['copy'](_0x5ac4f6);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x2b04e4=this['scene']['_getSkybox'+'Tex']();_0x2b04e4&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new m1(this['device'],this['scene'],this['node'],_0x2b04e4,this['type']),this['scene']['fire']('set:skybox',_0x2b04e4));}['resetSkyMe'+'sh'](){var _0x1925b5;(_0x1925b5=this['skyMesh'])==null||_0x1925b5['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==xo){const {center:_0x311697,centerArray:_0x3c0d45}=this,_0x1f0e3e=new T();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x311697,_0x1f0e3e),_0x3c0d45[0xb*0x2b1+0x84*-0x8+-0x197b*0x1]=_0x1f0e3e['x'],_0x3c0d45[-0x1*-0x211+-0x308*0xc+0x8*0x44a]=_0x1f0e3e['y'],_0x3c0d45[0x1067*0x1+-0xb*-0x9e+-0x172f*0x1]=_0x1f0e3e['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x3c0d45);}}}const Hh=new De();Hh['worldTrans'+'form']=q['IDENTITY'],Hh['_dirtyWorl'+'d']=Hh['_dirtyNorm'+'al']=!(-0x4f*-0x7a+-0x1*-0x565+-0x2b0a);class g1{constructor(_0x48b8f5,_0x5c8b34,_0x3d848b){this['material']=_0x5c8b34,this['layer']=_0x3d848b,this['positions']=[],this['colors']=[],this['mesh']=new Ie(_0x48b8f5),this['meshInstan'+'ce']=null;}['addLines'](_0x5836ad,_0x560731){const _0x4079c7=this['positions'],_0x4fb1ad=_0x5836ad['length'];for(let _0xeca703=0x168e+0x6a0*-0x3+-0x2ae;_0xeca703<_0x4fb1ad;_0xeca703++){const _0x282848=_0x5836ad[_0xeca703];_0x4079c7['push'](_0x282848['x'],_0x282848['y'],_0x282848['z']);}const _0x1d150a=this['colors'];if(_0x560731['length'])for(let _0x5c12b7=0x14fe+-0x210e+0xc10*0x1;_0x5c12b7<_0x4fb1ad;_0x5c12b7++){const _0x330f60=_0x560731[_0x5c12b7];_0x1d150a['push'](_0x330f60['r'],_0x330f60['g'],_0x330f60['b'],_0x330f60['a']);}else{for(let _0x5ef43b=-0x9e9+-0x9c3+-0x4eb*-0x4;_0x5ef43b<_0x4fb1ad;_0x5ef43b++)_0x1d150a['push'](_0x560731['r'],_0x560731['g'],_0x560731['b'],_0x560731['a']);}}['addLinesAr'+'rays'](_0x1d87a0,_0x2335e9){const _0x1092f4=this['positions'];for(let _0x12a173=0x89a+-0x3*0x26c+0x156*-0x1;_0x12a173<_0x1d87a0['length'];_0x12a173+=0x1edb*-0x1+-0x244+0x1*0x2122)_0x1092f4['push'](_0x1d87a0[_0x12a173],_0x1d87a0[_0x12a173+(0x12d4+0x720*0x2+-0x2113)],_0x1d87a0[_0x12a173+(-0x40*0x17+0xa04*0x2+-0xe46)]);const _0x518cd7=this['colors'];if(_0x2335e9['length']){for(let _0x497b4f=0x11bd+-0x18e4+0x727;_0x497b4f<_0x2335e9['length'];_0x497b4f+=0x1*-0x1fe1+0x229*0x1+0x1dbc*0x1)_0x518cd7['push'](_0x2335e9[_0x497b4f],_0x2335e9[_0x497b4f+(-0x1*0x2267+-0xe36+-0x2*-0x184f)],_0x2335e9[_0x497b4f+(0x5c*0x30+-0x1cfe*0x1+-0x5e*-0x20)],_0x2335e9[_0x497b4f+(0x1e70+-0x2*-0x17b+-0x2163)]);}else{const _0x3b82db=_0x1d87a0['length']/(0x9*-0x1c1+-0x285*-0xe+-0x22a*0x9);for(let _0x2c5ce5=0x85*0x47+-0x18c5+-0xc1e;_0x2c5ce5<_0x3b82db;_0x2c5ce5++)_0x518cd7['push'](_0x2335e9['r'],_0x2335e9['g'],_0x2335e9['b'],_0x2335e9['a']);}}['onPreRende'+'r'](_0x126dd5,_0x1f560e){this['positions']['length']>-0x1*-0x217a+-0x289*0x1+0x59*-0x59&&this['material']['transparen'+'t']===_0x1f560e&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Pc,!(-0x262a+0x1315+0x1316)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Le(this['mesh'],this['material'],Hh)),_0x126dd5['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0xca*0x20+-0x29*0x47+0x249f,this['colors']['length']=-0x76c+-0x181+0x8ed;}}class y1{constructor(_0xbce9f4){this['device']=_0xbce9f4,this['map']=new Map();}['getBatch'](_0x3898d5,_0x3ebc22){let _0x41c1a3=this['map']['get'](_0x3898d5);return _0x41c1a3||(_0x41c1a3=new g1(this['device'],_0x3898d5,_0x3ebc22),this['map']['set'](_0x3898d5,_0x41c1a3)),_0x41c1a3;}['onPreRende'+'r'](_0x57f215,_0x17303d){this['map']['forEach'](_0x1b4329=>{_0x1b4329['onPreRende'+'r'](_0x57f215,_0x17303d);});}['clear'](){this['map']['forEach'](_0x2c96b1=>_0x2c96b1['clear']());}}const Jt=[],Ln=new T(),x1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':He,'vertex_color':At}};class S1{constructor(_0x27dd7b){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x27dd7b,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x4c3ca0){const _0x550418=new Ra(x1);return _0x550418['blendType']=Kt,_0x550418['depthTest']=_0x4c3ca0,_0x550418['update'](),_0x550418;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x23f*-0x1+0x63d*-0x2+-0xeb9*-0x1))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x1*0x9dc+0xd*0x1a5+-0xb84))),this['_materialN'+'oDepth'];}['getBatch'](_0x190e3e,_0x23d886){let _0x2ecfe4=this['batchesMap']['get'](_0x190e3e);_0x2ecfe4||(_0x2ecfe4=new y1(this['device']),this['batchesMap']['set'](_0x190e3e,_0x2ecfe4)),this['allBatches']['add'](_0x2ecfe4);const _0x424c2a=_0x23d886?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x2ecfe4['getBatch'](_0x424c2a,_0x190e3e);}['getShaderD'+'esc'](_0x19e336,_0x516ab7){return this['shaderDesc'+'s']['has'](_0x19e336)||this['shaderDesc'+'s']['set'](_0x19e336,{'uniqueName':'DebugShade'+'r:'+_0x19e336,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x516ab7,'attributes':{'vertex_position':He}}),this['shaderDesc'+'s']['get'](_0x19e336);}['getTexture'+'ShaderDesc'](_0x1d26f4){const _0x39878a=Es['decodeFunc'](_0x1d26f4);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x1d26f4,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x39878a+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+X['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ie(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x1377+-0x4*-0xf8+-0x1757+0.5),-(-0x1577+-0x2121+0x8*0x6d3+0.5),-0x20f7+0x97b+-0x3*-0x7d4,0x113d*-0x1+0x4*0x300+0x95*0x9+0.5,-(-0x242a+0x4ba*-0x7+0x4540+0.5),0x21fc+0x1ccc+-0x47c*0xe,-(0x203d+-0x2331+0x7*0x6c+0.5),0x1*-0x4b7+-0x986+-0x87*-0x1b+0.5,-0x2af*-0x5+-0x1a8c+0xd21,-0x1*0xac3+0x975+0x14e+0.5,0x3*-0x6d3+0x25c9*-0x1+0x2*0x1d21+0.5,0xb85*0x3+-0x56*-0x55+-0x3f1d]),this['quadMesh']['update'](ar)),this['quadMesh'];}['drawMesh'](_0x9a4a99,_0x2720bf,_0x577edf,_0x16330e,_0x482357){if(!_0x16330e){const _0x69a41f=this['getGraphNo'+'de'](_0x2720bf);_0x16330e=new Le(_0x577edf,_0x9a4a99,_0x69a41f);}let _0xe6858c=this['layerMeshI'+'nstances']['get'](_0x482357);_0xe6858c||(_0xe6858c=[],this['layerMeshI'+'nstances']['set'](_0x482357,_0xe6858c)),_0xe6858c['push'](_0x16330e);}['drawWireAl'+'ignedBox'](_0x576c6e,_0x21bda2,_0x1b7c2a,_0x1e763f,_0x31dd35,_0xdf7a34){if(_0xdf7a34){const _0x3e86=(_0x380947,_0x414800,_0x118db4)=>{Ln['set'](_0x380947,_0x414800,_0x118db4),_0xdf7a34['transformP'+'oint'](Ln,Ln),Jt['push'](Ln['x'],Ln['y'],Ln['z']);};_0x3e86(_0x576c6e['x'],_0x576c6e['y'],_0x576c6e['z']),_0x3e86(_0x576c6e['x'],_0x21bda2['y'],_0x576c6e['z']),_0x3e86(_0x576c6e['x'],_0x21bda2['y'],_0x576c6e['z']),_0x3e86(_0x21bda2['x'],_0x21bda2['y'],_0x576c6e['z']),_0x3e86(_0x21bda2['x'],_0x21bda2['y'],_0x576c6e['z']),_0x3e86(_0x21bda2['x'],_0x576c6e['y'],_0x576c6e['z']),_0x3e86(_0x21bda2['x'],_0x576c6e['y'],_0x576c6e['z']),_0x3e86(_0x576c6e['x'],_0x576c6e['y'],_0x576c6e['z']),_0x3e86(_0x576c6e['x'],_0x576c6e['y'],_0x21bda2['z']),_0x3e86(_0x576c6e['x'],_0x21bda2['y'],_0x21bda2['z']),_0x3e86(_0x576c6e['x'],_0x21bda2['y'],_0x21bda2['z']),_0x3e86(_0x21bda2['x'],_0x21bda2['y'],_0x21bda2['z']),_0x3e86(_0x21bda2['x'],_0x21bda2['y'],_0x21bda2['z']),_0x3e86(_0x21bda2['x'],_0x576c6e['y'],_0x21bda2['z']),_0x3e86(_0x21bda2['x'],_0x576c6e['y'],_0x21bda2['z']),_0x3e86(_0x576c6e['x'],_0x576c6e['y'],_0x21bda2['z']),_0x3e86(_0x576c6e['x'],_0x576c6e['y'],_0x576c6e['z']),_0x3e86(_0x576c6e['x'],_0x576c6e['y'],_0x21bda2['z']),_0x3e86(_0x576c6e['x'],_0x21bda2['y'],_0x576c6e['z']),_0x3e86(_0x576c6e['x'],_0x21bda2['y'],_0x21bda2['z']),_0x3e86(_0x21bda2['x'],_0x21bda2['y'],_0x576c6e['z']),_0x3e86(_0x21bda2['x'],_0x21bda2['y'],_0x21bda2['z']),_0x3e86(_0x21bda2['x'],_0x576c6e['y'],_0x576c6e['z']),_0x3e86(_0x21bda2['x'],_0x576c6e['y'],_0x21bda2['z']);}else Jt['push'](_0x576c6e['x'],_0x576c6e['y'],_0x576c6e['z'],_0x576c6e['x'],_0x21bda2['y'],_0x576c6e['z'],_0x576c6e['x'],_0x21bda2['y'],_0x576c6e['z'],_0x21bda2['x'],_0x21bda2['y'],_0x576c6e['z'],_0x21bda2['x'],_0x21bda2['y'],_0x576c6e['z'],_0x21bda2['x'],_0x576c6e['y'],_0x576c6e['z'],_0x21bda2['x'],_0x576c6e['y'],_0x576c6e['z'],_0x576c6e['x'],_0x576c6e['y'],_0x576c6e['z'],_0x576c6e['x'],_0x576c6e['y'],_0x21bda2['z'],_0x576c6e['x'],_0x21bda2['y'],_0x21bda2['z'],_0x576c6e['x'],_0x21bda2['y'],_0x21bda2['z'],_0x21bda2['x'],_0x21bda2['y'],_0x21bda2['z'],_0x21bda2['x'],_0x21bda2['y'],_0x21bda2['z'],_0x21bda2['x'],_0x576c6e['y'],_0x21bda2['z'],_0x21bda2['x'],_0x576c6e['y'],_0x21bda2['z'],_0x576c6e['x'],_0x576c6e['y'],_0x21bda2['z'],_0x576c6e['x'],_0x576c6e['y'],_0x576c6e['z'],_0x576c6e['x'],_0x576c6e['y'],_0x21bda2['z'],_0x576c6e['x'],_0x21bda2['y'],_0x576c6e['z'],_0x576c6e['x'],_0x21bda2['y'],_0x21bda2['z'],_0x21bda2['x'],_0x21bda2['y'],_0x576c6e['z'],_0x21bda2['x'],_0x21bda2['y'],_0x21bda2['z'],_0x21bda2['x'],_0x576c6e['y'],_0x576c6e['z'],_0x21bda2['x'],_0x576c6e['y'],_0x21bda2['z']);this['getBatch'](_0x31dd35,_0x1e763f)['addLinesAr'+'rays'](Jt,_0x1b7c2a),Jt['length']=0x1888+0x1cc4+-0x354c;}['drawWireSp'+'here'](_0x14757b,_0x3f9f3d,_0x7378cb,_0x42bc61,_0x4de73c,_0x3aff65){const _0x4d1d9f=(-0x1a7+-0x270c+0x28b5)*Math['PI']/_0x42bc61;let _0x3d0bf6=0x25f*-0x4+0x1*0x11a1+-0x825;for(let _0x2c9cd7=0xc*-0x29+-0x37*-0x92+0x2*-0xeb9;_0x2c9cd7<_0x42bc61;_0x2c9cd7++){const _0x502c2e=Math['sin'](_0x3d0bf6),_0x31eb5d=Math['cos'](_0x3d0bf6);_0x3d0bf6+=_0x4d1d9f;const _0x52322b=Math['sin'](_0x3d0bf6),_0x5afba7=Math['cos'](_0x3d0bf6);Jt['push'](_0x14757b['x']+_0x3f9f3d*_0x502c2e,_0x14757b['y'],_0x14757b['z']+_0x3f9f3d*_0x31eb5d),Jt['push'](_0x14757b['x']+_0x3f9f3d*_0x52322b,_0x14757b['y'],_0x14757b['z']+_0x3f9f3d*_0x5afba7),Jt['push'](_0x14757b['x']+_0x3f9f3d*_0x502c2e,_0x14757b['y']+_0x3f9f3d*_0x31eb5d,_0x14757b['z']),Jt['push'](_0x14757b['x']+_0x3f9f3d*_0x52322b,_0x14757b['y']+_0x3f9f3d*_0x5afba7,_0x14757b['z']),Jt['push'](_0x14757b['x'],_0x14757b['y']+_0x3f9f3d*_0x502c2e,_0x14757b['z']+_0x3f9f3d*_0x31eb5d),Jt['push'](_0x14757b['x'],_0x14757b['y']+_0x3f9f3d*_0x52322b,_0x14757b['z']+_0x3f9f3d*_0x5afba7);}this['getBatch'](_0x3aff65,_0x4de73c)['addLinesAr'+'rays'](Jt,_0x7378cb),Jt['length']=-0xf6*0x11+-0x2486+-0x44*-0xc7;}['getGraphNo'+'de'](_0x2c6c1c){const _0x508e69=new De('ImmediateD'+'ebug');return _0x508e69['worldTrans'+'form']=_0x2c6c1c,_0x508e69['_dirtyWorl'+'d']=_0x508e69['_dirtyNorm'+'al']=!(-0xc43*-0x2+0x288*-0x8+-0x445),_0x508e69;}['onPreRende'+'rLayer'](_0x2935ac,_0xa45d5,_0x5c9bf8){if(this['batchesMap']['forEach']((_0x340dd8,_0x26002f)=>{_0x26002f===_0x2935ac&&_0x340dd8['onPreRende'+'r'](_0xa45d5,_0x5c9bf8);}),!this['updatedLay'+'ers']['has'](_0x2935ac)){this['updatedLay'+'ers']['add'](_0x2935ac);const _0x172ae3=this['layerMeshI'+'nstances']['get'](_0x2935ac);if(_0x172ae3){for(let _0x4e0ad3=0x38*-0x65+0x208*0x6+0x9e8;_0x4e0ad3<_0x172ae3['length'];_0x4e0ad3++)_0xa45d5['push'](_0x172ae3[_0x4e0ad3]);_0x172ae3['length']=0x177b*-0x1+-0x1f4f+0x36ca;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x272e38=>_0x272e38['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class v1{constructor(){c(this,'type',Fa),c(this,'color',new Y(-0x1ec4+-0x77*-0x4f+-0x5f5,-0x17d6+0x757+0x107f,-0x9*0x394+0x111+0x3*0xa61)),c(this,'density',0x1*0xdb7+0x2072+-0x521*0x9),c(this,'start',-0x1*0x4c1+-0xe4*-0x3+-0x1*-0x216),c(this,'end',-0x1*0x2204+-0x6*-0x83+0x22da);}}class ci extends ce{constructor(_0x54ae28){super(),c(this,'ambientBak'+'e',!(-0x1*-0x25f9+0x40d+-0x2a05)),c(this,'ambientBak'+'eOcclusion'+'Brightness',0x4*-0x40+-0x1810+0x1910),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x1*-0xeb+-0x57f+-0x66a*-0x1),c(this,'ambientLig'+'ht',new Y(-0x1361+-0x176*-0x18+-0xfaf,-0x7f9+0xcc9+0x38*-0x16,0x1*-0x163f+-0x43*0x1e+0x1e19*0x1)),c(this,'ambientLum'+'inance',-0xe5*0x26+0x9+0x21f5*0x1),c(this,'exposure',-0x15d+0x1c93*0x1+-0x1b35),c(this,'lightmapSi'+'zeMultipli'+'er',-0x1d80+0x1360+-0xa21*-0x1),c(this,'lightmapMa'+'xResolutio'+'n',0x12e9+0x2241+-0x2d2a),c(this,'lightmapMo'+'de',ch),c(this,'lightmapFi'+'lterEnable'+'d',!(0x26b*-0x5+-0x1e9a+-0x2*-0x1559)),c(this,'lightmapHD'+'R',!(-0x1e83+0xe*0x1fa+-0x1c*-0x1a)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x19d7+-0x1*0x1c67+-0x291*-0x1)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new v1()),(v['assert'](_0x54ae28,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x54ae28,this['_gravity']=new T(-0x88e+-0x167*0x14+0x249a,-(-0x1a66+0x37d*-0x3+-0x1*-0x24e6+0.8000000000000007),0x4*0x436+-0x1b5e+-0x2*-0x543),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x2518+-0x62e+-0x1ee9,this['_skyboxLum'+'inance']=0x1*-0x87b+0x7a5+0xd6,this['_skyboxMip']=-0x2077+-0x1655*-0x1+-0x1*-0xa22,this['_skyboxHig'+'hlightMult'+'iplier']=0xe5*-0x1d+0x253d+-0xb4b,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x1e12+0x1b07+0x48*-0xcb),this['_skyboxRot'+'ation']=new se(),this['_skyboxRot'+'ationMat3']=new js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x1ce8+0x2176+-0x48d,this['_ambientBa'+'keSpherePa'+'rt']=-0x7b9+0x167f+-0xec6+0.4,this['_lightmapF'+'ilterRange']=-0x1058*-0x2+-0x1b82+0x2f*-0x1c,this['_lightmapF'+'ilterSmoot'+'hness']=-0x2483+-0xfc7+0x344a+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x7*0x2f5+0x152b+0x18*-0x5),this['_lightingP'+'arams']=new L0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x1ee9+-0xa0f+0x11*-0x13a);}),this['_sky']=new _1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0xc5*-0x13+0x18d*-0xc+0x3fd*0x1),this['_shaderVer'+'sion']=0x1f17+0x48+-0x1*0x1f5f,this['immediate']=new S1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](bp);}set['ambientBak'+'eNumSample'+'s'](_0x32b245){this['_ambientBa'+'keNumSampl'+'es']=N['clamp'](Math['floor'](_0x32b245),-0x1915*-0x1+0x5a*0x21+-0x24ae,0x2692+0x2557+-0x4aea);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x29fee8){this['_ambientBa'+'keSpherePa'+'rt']=N['clamp'](_0x29fee8,0x1*-0x15e6+-0x5cc+0x1bb2+0.001,-0xbe1+0x133c+0x2*-0x3ad);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x45b483){if(this['device']['isWebGPU']&&!_0x45b483){v['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x45b483){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x45b483;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x3eea9f){_0x3eea9f!==this['_envAtlas']&&(this['_envAtlas']=_0x3eea9f,_0x3eea9f&&(_0x3eea9f['addressU']=ae,_0x3eea9f['addressV']=ae,_0x3eea9f['minFilter']=st,_0x3eea9f['magFilter']=st,_0x3eea9f['mipmaps']=!(0x326+-0x10c1*-0x1+0x12*-0x11b)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x3c993e){const _0x18d24f=this['_layers'];this['_layers']=_0x3c993e,this['fire']('set:layers',_0x18d24f,_0x3c993e);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x4a71da){this['_lightmapF'+'ilterRange']=Math['max'](_0x4a71da,-0x1d0*-0x12+0xa*0x26+-0x94*0x3b+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0xfbd38f){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0xfbd38f,0x1469+-0x243+-0x1226+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x3e28da){_0x3e28da=_0x3e28da||[];const _0x345535=this['_prefilter'+'edCubemaps'];(_0x345535['length']!==_0x3e28da['length']||_0x345535['some']((_0x4f6568,_0x4cab42)=>_0x4f6568!==_0x3e28da[_0x4cab42]))&&(_0x3e28da['length']===-0x6*0x1ba+-0xa*0x3d1+0x308c&&_0x3e28da['every'](_0x46df15=>!!_0x46df15)?(this['_internalE'+'nvAtlas']=M0['generatePr'+'efilteredA'+'tlas'](_0x3e28da,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x3e28da['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x333300){_0x333300!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x333300,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x153dfe){_0x153dfe!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x153dfe,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x2bebd9){_0x2bebd9!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x2bebd9,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x3fb940){_0x3fb940!==this['_skyboxMip']&&(this['_skyboxMip']=_0x3fb940,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x55bc49){_0x55bc49!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x55bc49,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x24185d){if(!this['_skyboxRot'+'ation']['equals'](_0x24185d)){const _0x530f64=_0x24185d['equals'](se['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x24185d),_0x530f64?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](T['ZERO'],_0x24185d,T['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x530f64&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x1c58*-0x1+0xe3*-0xc+0x26fc),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x23d44,_0x34e22f,_0x3f5e9f=Y['WHITE'],_0x56b706=!(0x230c+0x9d*-0x33+0x1*-0x3c5),_0x1025cf=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x1025cf,_0x56b706)['addLines']([_0x23d44,_0x34e22f],[_0x3f5e9f,_0x3f5e9f]);}['drawLines'](_0xdc6c3a,_0x50630d,_0x12cbae=!(-0x98*-0x2e+-0x1086+-0xaca),_0x86314b=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x86314b,_0x12cbae)['addLines'](_0xdc6c3a,_0x50630d);}['drawLineAr'+'rays'](_0x2a4251,_0x2c18b5,_0x4396f1=!(0xe12+0x1055*-0x2+0x1298),_0x4aef41=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4aef41,_0x4396f1)['addLinesAr'+'rays'](_0x2a4251,_0x2c18b5);}['applySetti'+'ngs'](_0x5e4a6d){const _0x17aa27=_0x5e4a6d['physics'],_0x52a7e8=_0x5e4a6d['render'];this['_gravity']['set'](_0x17aa27['gravity'][-0x47*0x9+-0x2344+-0x565*-0x7],_0x17aa27['gravity'][-0x2*-0x8db+-0x4cf+-0x673*0x2],_0x17aa27['gravity'][-0x76d+0x1c37+-0x14c8]),this['ambientLig'+'ht']['set'](_0x52a7e8['global_amb'+'ient'][-0x125d+0x1*0x2169+-0xf0c],_0x52a7e8['global_amb'+'ient'][-0x111c+-0x1be8+0x19*0x1cd],_0x52a7e8['global_amb'+'ient'][-0x13fc+-0x28b+0x1689]),this['ambientLum'+'inance']=_0x52a7e8['ambientLum'+'inance'],this['fog']['type']=_0x52a7e8['fog'],this['fog']['color']['set'](_0x52a7e8['fog_color'][0x23a2*0x1+0x13d8+-0x377a],_0x52a7e8['fog_color'][0x2495+-0x1e1+-0x3*0xb91],_0x52a7e8['fog_color'][-0x1725+-0x1*0x916+-0x83*-0x3f]),this['fog']['start']=_0x52a7e8['fog_start'],this['fog']['end']=_0x52a7e8['fog_end'],this['fog']['density']=_0x52a7e8['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x52a7e8['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x52a7e8['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x52a7e8['lightmapMo'+'de'],this['exposure']=_0x52a7e8['exposure'],this['_skyboxInt'+'ensity']=_0x52a7e8['skyboxInte'+'nsity']??0x1*-0x1565+-0xafd+0x2063,this['_skyboxLum'+'inance']=_0x52a7e8['skyboxLumi'+'nance']??0x1*-0x40d3+0x2d50+0x61a3,this['_skyboxMip']=_0x52a7e8['skyboxMip']??-0xf45*-0x1+-0x22c5+0x9c*0x20,_0x52a7e8['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new se()['setFromEul'+'erAngles'](_0x52a7e8['skyboxRota'+'tion'][0x1dc1+0x53*-0x19+0x1*-0x15a6],_0x52a7e8['skyboxRota'+'tion'][0x430*-0x1+-0x49*-0x54+-0x13c3],_0x52a7e8['skyboxRota'+'tion'][-0xb53*-0x3+-0xe78+-0x137f])),this['sky']['applySetti'+'ngs'](_0x52a7e8),this['clusteredL'+'ightingEna'+'bled']=_0x52a7e8['clusteredL'+'ightingEna'+'bled']??!(0x20ca+-0x1*-0x15bd+0x2*-0x1b43),this['lighting']['applySetti'+'ngs'](_0x52a7e8),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x38b2ad=>{_0x52a7e8['hasOwnProp'+'erty'](_0x38b2ad)&&(this[_0x38b2ad]=_0x52a7e8[_0x38b2ad]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x519095=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x519095[[-0x1623*0x1+0x2*-0x829+0x2675,0x231b+0xb*0x1fe+-0x3904,-0x13*0x43+-0x8d2+0x49a*0x3,0x1163+0x23*-0xfb+-0x879*-0x2,-0x21e5+0x1d*-0x12e+0x4420,-0x1ace+-0x1d*-0x2f+-0x1*-0x1581][this['_skyboxMip']]]||this['_envAtlas']||_0x519095[0xde7*-0x1+0x10*0x1aa+-0xcb9]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x519095[-0x6a1*-0x1+-0x83*0x37+0x6c*0x33]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(0x29*0xb8+0x6c2+-0x243a);}['setSkybox'](_0x454a81){_0x454a81?(this['skybox']=_0x454a81[0xa50+0x2333+-0x2d83]||null,_0x454a81[-0x1ac+0xc7*0x17+-0x1034]&&!_0x454a81[-0xc8f+-0x736+0x13c6]['cubemap']?this['envAtlas']=_0x454a81[0x25cf+0x3d9+-0x29a7]:this['prefiltere'+'dCubemaps']=_0x454a81['slice'](0xa*-0xb9+-0xcf*0x7+0x16*0x96)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Se;}}c(ci,'EVENT_SETL'+'AYERS','set:layers'),c(ci,'EVENT_SETS'+'KYBOX','set:skybox'),c(ci,'EVENT_PRER'+'ENDER','prerender'),c(ci,'EVENT_POST'+'RENDER','postrender'),c(ci,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(ci,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(ci,'EVENT_PREC'+'ULL','precull'),c(ci,'EVENT_POST'+'CULL','postcull');class N0{constructor(_0x327838,_0x46eac9,_0x1044df){this['device']=_0x327838,this['inverseBin'+'dPose']=_0x46eac9,this['boneNames']=_0x1044df;}}const b1=[0xd*-0x224+-0x3c*-0x1+0x1b98,-0x2160+-0x217a+0x42da,-0x2593+0x1*0x15b1+0xfe3,0x1*0x15d4+-0x2319+0xd45*0x1,0xb*0x44+-0x1f51*-0x1+-0x223d,0xd*-0xf2+-0x433+0x107e,0x1eb*0xc+-0x5*-0x33d+-0x1*0x2735,-0x79f*-0x4+0x85c+-0x26d8,-0x2*-0x185+-0x1ebb+-0x58a*-0x5,0x1646+0x1*0x1d3b+-0x5b9*0x9,-0x1*-0x134b+0x97d+0x4cc*-0x6,-0x1103+-0xf5+-0x11f9*-0x1],w1=[0x1bcc+-0x9*-0x6+-0x1c02,-0x1c1a+-0x9dc+0x25f7,-0x100*0x2+0x1*-0x2031+-0x111a*-0x2,-0x2045+-0x16c4+-0x1ab*-0x21,0x23fc+0x1*-0x3f8+-0x2001,0xa0d+0x9*-0x3e5+0x1901];class T1 extends ce{constructor(_0x4958fd,_0x227e84){super(),this['_device']=_0x4958fd,this['_pixelsPer'+'Unit']=_0x227e84&&_0x227e84['pixelsPerU'+'nit']!==void(0x18e2*-0x1+0xfa6+0x93c)?_0x227e84['pixelsPerU'+'nit']:-0x1031+-0x3e7+0x1419,this['_renderMod'+'e']=_0x227e84&&_0x227e84['renderMode']!==void(0x1*0x545+0x24*-0xe5+0x1aef)?_0x227e84['renderMode']:Ti,this['_atlas']=_0x227e84&&_0x227e84['atlas']!==void(-0x1*0xb15+0x189c+-0xd87)?_0x227e84['atlas']:null,this['_frameKeys']=_0x227e84&&_0x227e84['frameKeys']!==void(-0x530+-0x1f04+-0x121a*-0x2)?_0x227e84['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0x23f5+-0x1*-0x8da+-0x1b1c*-0x1),this['_meshesDir'+'ty']=!(0x20cd+-0xd3b+0x1*-0x1391),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x4018e8){this['_frameKeys']=_0x4018e8,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x154+0x1cb0+0x11*-0x19c):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x4018e8);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x28d68a){_0x28d68a!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x28d68a,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x11*-0x1a8+0x2*0x1135+-0x3e92):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x28d68a));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x581e15){this['_pixelsPer'+'Unit']!==_0x581e15&&(this['_pixelsPer'+'Unit']=_0x581e15,this['fire']('set:pixels'+'PerUnit',_0x581e15),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Ti&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x37*-0x7b+-0x17cd+-0x2a0):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x1255d5){if(this['_renderMod'+'e']===_0x1255d5)return;const _0x343b4c=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x1255d5,this['fire']('set:render'+'Mode',_0x1255d5),(_0x343b4c===Ti||_0x1255d5===Ti)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0x1c3+-0x445*-0x4+-0x12d7):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x2c4f22=this['_meshes']['length'];for(let _0x48c65b=-0x1148+-0x149b*0x1+0xb7*0x35;_0x48c65b<_0x2c4f22;_0x48c65b++){const _0x235931=this['_meshes'][_0x48c65b];_0x235931&&_0x235931['destroy']();}const _0x1fa4b4=this['_frameKeys']['length'];this['_meshes']=new Array(_0x1fa4b4);const _0x4a86a5=this['renderMode']===nt||this['_renderMod'+'e']===Qe?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x705088=-0x142c+-0x13b8*0x1+0x27e4;_0x705088<_0x1fa4b4;_0x705088++){const _0x1ca48e=this['_atlas']['frames'][this['_frameKeys'][_0x705088]];this['_meshes'][_0x705088]=_0x1ca48e?_0x4a86a5['call'](this,_0x1ca48e):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x20d313){const _0x3768cb=_0x20d313['rect'],_0x518b01=this['_atlas']['texture']['width'],_0x2da1a6=this['_atlas']['texture']['height'],_0x4f1bef=_0x3768cb['z']/this['_pixelsPer'+'Unit'],_0x3f1c89=_0x3768cb['w']/this['_pixelsPer'+'Unit'],_0xd08a5c=_0x20d313['pivot']['x'],_0x1f8fba=_0x20d313['pivot']['y'],_0x463795=[-_0xd08a5c*_0x4f1bef,-_0x1f8fba*_0x3f1c89,-0x1392+0xfb*-0x13+0x2633,(-0x1*-0x1aa3+-0x19*0xdf+0x1*-0x4db-_0xd08a5c)*_0x4f1bef,-_0x1f8fba*_0x3f1c89,0x1f98+-0x17*-0x9a+-0x1*0x2d6e,(-0x7d0*-0x5+0x1eae+-0x1*0x45bd-_0xd08a5c)*_0x4f1bef,(0x1027*-0x2+0x4*-0x484+0x325f-_0x1f8fba)*_0x3f1c89,0x464*0x5+0xfac*0x1+0x4b4*-0x8,-_0xd08a5c*_0x4f1bef,(0x2651+-0x1287+-0x13c9*0x1-_0x1f8fba)*_0x3f1c89,0xfb9+-0x58*-0x35+0x21f1*-0x1],_0x12dfef=_0x3768cb['x']/_0x518b01,_0x1ba4f3=-0xe95*0x1+0xd38+-0x5*-0x46-_0x3768cb['y']/_0x2da1a6,_0x294556=(_0x3768cb['x']+_0x3768cb['z'])/_0x518b01,_0x2d25fa=0x26a5+0x14de+-0x3b82-(_0x3768cb['y']+_0x3768cb['w'])/_0x2da1a6,_0x502dda=[_0x12dfef,_0x1ba4f3,_0x294556,_0x1ba4f3,_0x294556,_0x2d25fa,_0x12dfef,_0x2d25fa],_0x131d47=new pn();return _0x131d47['positions']=_0x463795,_0x131d47['normals']=b1,_0x131d47['uvs']=_0x502dda,_0x131d47['indices']=w1,Ie['fromGeomet'+'ry'](this['_device'],_0x131d47);}['_create9Sl'+'iceMesh'](){const _0x324194=W['ONE'],_0x394c94=0x1a92+0x2530+-0x3fbf,_0xd1e85b=0x18c7*-0x1+-0x16*0x9b+0x1*0x261c,_0xc32292=[],_0x55ac41=[],_0x313a07=[],_0xc2d28c=[];let _0x213b6a=-0x1d41+0x4f*-0x3+-0x1e2e*-0x1;for(let _0x2a1775=0x1d4+-0xa4b+0x877;_0x2a1775<=_0x394c94;_0x2a1775++){const _0x1894a1=_0x2a1775===-0x39d*-0x5+0x45*-0x82+0x10f9||_0x2a1775===_0x394c94?0x1d4b+0x1*-0x1026+-0xd25:-0x5d9+0x6fb+-0x121;for(let _0x5b1739=0x723*0x1+-0x102f+-0x304*-0x3;_0x5b1739<=_0xd1e85b;_0x5b1739++){const _0x333b71=-_0x324194['x']+(0x1626+0x7*0x458+-0x348c*0x1)*_0x324194['x']*(_0x2a1775<=0x25*0xa1+0x851+-0x1f95?0x1b0e+0x3*0x6b9+-0x2f39:-0x1d5e+-0x1d61*0x1+0x3ac2)/_0x394c94,_0x1577cf=-0x5*-0x5e7+0x1*-0x6a2+-0x1*0x16e1,_0x4db72d=-(-_0x324194['y']+(-0x1de8+-0x45*0x6a+-0x4c*-0xc5)*_0x324194['y']*(_0x5b1739<=0x3ed+-0x1b1f+0x1733?-0x24a1+0x2d*-0xd6+0x53*0xe5:-0x7*-0x355+0xc*0x335+-0x3dcc)/_0xd1e85b),_0x447e9d=_0x5b1739===-0x156d+-0x1*-0x262b+-0x2*0x85f||_0x5b1739===_0xd1e85b?-0x9d3*0x3+-0x126c+0x2fe5:-0x18c2+0x1609*-0x1+0x14*0x257;_0xc32292['push'](-_0x333b71,_0x1577cf,_0x4db72d),_0x55ac41['push'](0xe2*0x17+-0x26ff+-0x1b3*-0xb,-0x7a*-0x19+0xc*-0x320+0x1997,0xc*0x80+0x4*0x885+0xd5c*-0x3),_0x313a07['push'](_0x1894a1,_0x447e9d),_0x2a1775<_0x394c94&&_0x5b1739<_0xd1e85b&&(_0xc2d28c['push'](_0x213b6a+_0xd1e85b+(-0x80f+-0x1*0xd13+0x1523),_0x213b6a+(0x341*-0x7+0x10ce+-0x132*-0x5),_0x213b6a),_0xc2d28c['push'](_0x213b6a+_0xd1e85b+(0x13d7*0x1+-0x1628+0x252),_0x213b6a+_0xd1e85b+(0x1*0x2335+0x1055*0x2+-0x43dd),_0x213b6a+(-0x1e93+-0x21e*-0x5+0x1*0x13fe))),_0x213b6a++;}}const _0x2138c3=new pn();return _0x2138c3['positions']=_0xc32292,_0x2138c3['normals']=_0x55ac41,_0x2138c3['uvs']=_0x313a07,_0x2138c3['indices']=_0xc2d28c,Ie['fromGeomet'+'ry'](this['_device'],_0x2138c3);}['_onSetFram'+'es'](_0x1831af){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x772*0x3+0x5ae*-0x3+-0x3*0x1c4):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x35c1c3,_0x16a854){const _0x1bda20=this['_frameKeys']['indexOf'](_0x35c1c3);_0x1bda20<0xf*-0xe3+-0x2109*0x1+-0x172b*-0x2||(_0x16a854?this['renderMode']===Ti&&(this['_meshes'][_0x1bda20]=this['_createSim'+'pleMesh'](_0x16a854)):this['_meshes'][_0x1bda20]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x28dcbf){const _0x24e003=this['_frameKeys']['indexOf'](_0x28dcbf);_0x24e003<-0x22f7*-0x1+-0xbd5+0x3db*-0x6||(this['_meshes'][_0x24e003]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x2e*0x10+-0x1e*0x3b+0x40a),this['_meshesDir'+'ty']=!(-0x1cf+0x1*-0x1e3d+0x200d*0x1);}['endUpdate'](){this['_updatingP'+'roperties']=!(0x9*-0x1b7+-0x7a1+0x1711*0x1),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(-0x207*-0x13+-0x2e7*0xd+-0xc9);}['destroy'](){for(const _0x3c4d08 of this['_meshes'])_0x3c4d08&&_0x3c4d08['destroy']();this['_meshes']['length']=-0x1*-0x1245+0x1f18+-0x315d*0x1;}}class A1 extends ce{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x26568e){this['_texture']=_0x26568e,this['fire']('set:textur'+'e',_0x26568e);}get['texture'](){return this['_texture'];}set['frames'](_0x1dfc46){this['_frames']=_0x1dfc46,this['fire']('set:frames',_0x1dfc46);}get['frames'](){return this['_frames'];}['setFrame'](_0x4ebd01,_0x412efa){let _0x2ac018=this['_frames'][_0x4ebd01];_0x2ac018?(_0x2ac018['rect']['copy'](_0x412efa['rect']),_0x2ac018['pivot']['copy'](_0x412efa['pivot']),_0x2ac018['border']['copy'](_0x412efa['border'])):(_0x2ac018={'rect':_0x412efa['rect']['clone'](),'pivot':_0x412efa['pivot']['clone'](),'border':_0x412efa['border']['clone']()},this['_frames'][_0x4ebd01]=_0x2ac018),this['fire']('set:frame',_0x4ebd01['toString'](),_0x2ac018);}['removeFram'+'e'](_0x209e80){const _0x246daa=this['_frames'][_0x209e80];_0x246daa&&(delete this['_frames'][_0x209e80],this['fire']('remove:fra'+'me',_0x209e80['toString'](),_0x246daa));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class F_{constructor(_0x1ac133,_0xbaa921,_0x1b3141,_0x355e18){this['time']=_0x1ac133,this['position']=_0xbaa921,this['rotation']=_0x1b3141,this['scale']=_0x355e18;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class k_{constructor(){c(this,'name',''),c(this,'duration',-0x20ac+-0x42*-0x4a+0xd98),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x4f2edf){return this['_nodeDict'][_0x4f2edf];}['addNode'](_0xedd3d4){this['_nodes']['push'](_0xedd3d4),this['_nodeDict'][_0xedd3d4['_name']]=_0xedd3d4;}get['nodes'](){return this['_nodes'];}}class E1{constructor(){this['_written']=!(0x33+0x684+-0x35b*0x2),this['_name']='',this['_keyFrames']=[],this['_quat']=new se(),this['_pos']=new T(),this['_scale']=new T(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x331f46){this['_targetNod'+'e']=_0x331f46;}}class Wd{constructor(_0x5cd3c0){c(this,'looping',!(-0x1*-0x1a1+0xecf*0x1+-0x2*0x838)),(this['_animation']=null,this['_time']=0x5d+0x2f8+-0x355,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x4417e7=_0xc658cf=>{const _0x59213d=new E1();_0x59213d['_name']=_0xc658cf['name'],this['_interpola'+'tedKeys']['push'](_0x59213d),this['_interpola'+'tedKeyDict'][_0xc658cf['name']]=_0x59213d,this['_currKeyIn'+'dices'][_0xc658cf['name']]=0x1*0xda3+0x10cb*-0x2+0x13f3;for(let _0x13bb8e=-0x1ad2+-0x122+0x6fd*0x4;_0x13bb8e<_0xc658cf['_children']['length'];_0x13bb8e++)_0x4417e7(_0xc658cf['_children'][_0x13bb8e]);};_0x4417e7(_0x5cd3c0);}set['animation'](_0x2024da){this['_animation']=_0x2024da,this['currentTim'+'e']=0xc89*0x1+0x6e7*0x1+0x4dc*-0x4;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x2dfd0c){this['_time']=_0x2dfd0c;const _0x2d2031=this['_interpola'+'tedKeys']['length'];for(let _0x1ffc3d=0x25f*-0x4+0xfd+0x19*0x57;_0x1ffc3d<_0x2d2031;_0x1ffc3d++){const _0x1f7670=this['_interpola'+'tedKeys'][_0x1ffc3d]['_name'];this['_currKeyIn'+'dices'][_0x1f7670]=-0xab*0x16+-0x126+0x2*0x7ec;}this['addTime'](0x3*-0x54b+0x1f79+-0xf98),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x1aa05b){if(this['_animation']!==null){const _0x1dc2fd=this['_animation']['_nodes'],_0x14e420=this['_animation']['duration'];if(this['_time']===_0x14e420&&!this['looping'])return;if(this['_time']+=_0x1aa05b,this['_time']>_0x14e420){this['_time']=this['looping']?0x1ce9+-0x611*0x2+-0x1*0x10c7:_0x14e420;for(let _0x1d0076=0x1442+-0x1735+0x2f3;_0x1d0076<_0x1dc2fd['length'];_0x1d0076++){const _0x33d846=_0x1dc2fd[_0x1d0076]['_name'];this['_currKeyIn'+'dices'][_0x33d846]=0x18b6+-0x1780+-0x136;}}else{if(this['_time']<-0x2084*-0x1+0x1*-0x1f99+-0x1*0xeb){this['_time']=this['looping']?_0x14e420:-0x11d1*0x1+-0x2c4+0x1495;for(let _0x4e7835=0x8da+0xeaf+0x1*-0x1789;_0x4e7835<_0x1dc2fd['length'];_0x4e7835++){const _0x5e2858=_0x1dc2fd[_0x4e7835],_0x360d35=_0x5e2858['_name'];this['_currKeyIn'+'dices'][_0x360d35]=_0x5e2858['_keys']['length']-(0xee6+-0x25b+-0xc89);}}}const _0x141691=_0x1aa05b>=-0x7*-0x265+-0x2*0x6ed+0x5*-0x95?0xc1*0x29+-0x1*0x419+-0x1acf:-(0x119f+0x1645+-0x27e3);for(let _0x230839=-0xb*-0x272+0x104*0x26+0x1*-0x417e;_0x230839<_0x1dc2fd['length'];_0x230839++){const _0x4651c6=_0x1dc2fd[_0x230839],_0x4bd1d1=_0x4651c6['_name'],_0x2748e8=_0x4651c6['_keys'],_0x54bc84=this['_interpola'+'tedKeyDict'][_0x4bd1d1];if(_0x54bc84===void(0x5*0x1d+0x20c1+-0x6aa*0x5)){v['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x4bd1d1);continue;}let _0x43a96e=!(-0x1*0x99f+-0x581*0x7+-0x3027*-0x1);if(_0x2748e8['length']!==-0x112a+0x7dd+-0x1*-0x94e)for(let _0x4119a1=this['_currKeyIn'+'dices'][_0x4bd1d1];_0x4119a1<_0x2748e8['length']-(-0xc82*-0x3+-0xdf0+-0x1795)&&_0x4119a1>=-0x10a3*0x1+0x3ad*0x5+-0x1be;_0x4119a1+=_0x141691){const _0x5e7d05=_0x2748e8[_0x4119a1],_0x2a831b=_0x2748e8[_0x4119a1+(0x2567+-0x750+0x2*-0xf0b)];if(_0x5e7d05['time']<=this['_time']&&_0x2a831b['time']>=this['_time']){const _0x262cde=(this['_time']-_0x5e7d05['time'])/(_0x2a831b['time']-_0x5e7d05['time']);_0x54bc84['_pos']['lerp'](_0x5e7d05['position'],_0x2a831b['position'],_0x262cde),_0x54bc84['_quat']['slerp'](_0x5e7d05['rotation'],_0x2a831b['rotation'],_0x262cde),_0x54bc84['_scale']['lerp'](_0x5e7d05['scale'],_0x2a831b['scale'],_0x262cde),_0x54bc84['_written']=!(0x5bd*0x6+0x26ae+-0x491c),this['_currKeyIn'+'dices'][_0x4bd1d1]=_0x4119a1,_0x43a96e=!(-0x2703*0x1+0x42b+0xa*0x37c);break;}}(_0x2748e8['length']===-0xf6a+0x2*0x70d+0x151||!_0x43a96e&&this['_time']===0x13d5*0x1+0x85+-0x145a&&this['looping'])&&(_0x54bc84['_pos']['copy'](_0x2748e8[-0xe59+0x1*0x158e+-0x735]['position']),_0x54bc84['_quat']['copy'](_0x2748e8[-0x264b+0x9c1*-0x2+0x39cd]['rotation']),_0x54bc84['_scale']['copy'](_0x2748e8[-0xf78+-0x858+0x17d0]['scale']),_0x54bc84['_written']=!(0x2287*-0x1+-0x1*0x4c3+0x5e*0x6b));}}}['blend'](_0x2780a4,_0x496e68,_0x5d4cbe){const _0x286cbc=this['_interpola'+'tedKeys']['length'];for(let _0x488730=0x5f8+0x4a+-0x216*0x3;_0x488730<_0x286cbc;_0x488730++){const _0x297981=_0x2780a4['_interpola'+'tedKeys'][_0x488730],_0x280d37=_0x496e68['_interpola'+'tedKeys'][_0x488730],_0x477e54=this['_interpola'+'tedKeys'][_0x488730];_0x297981['_written']&&_0x280d37['_written']?(_0x477e54['_quat']['slerp'](_0x297981['_quat'],_0x496e68['_interpola'+'tedKeys'][_0x488730]['_quat'],_0x5d4cbe),_0x477e54['_pos']['lerp'](_0x297981['_pos'],_0x496e68['_interpola'+'tedKeys'][_0x488730]['_pos'],_0x5d4cbe),_0x477e54['_scale']['lerp'](_0x297981['_scale'],_0x280d37['_scale'],_0x5d4cbe),_0x477e54['_written']=!(0xb61+-0x80f+-0x352)):_0x297981['_written']?(_0x477e54['_quat']['copy'](_0x297981['_quat']),_0x477e54['_pos']['copy'](_0x297981['_pos']),_0x477e54['_scale']['copy'](_0x297981['_scale']),_0x477e54['_written']=!(0x17d2*0x1+-0x693*-0x4+0x190f*-0x2)):_0x280d37['_written']&&(_0x477e54['_quat']['copy'](_0x280d37['_quat']),_0x477e54['_pos']['copy'](_0x280d37['_pos']),_0x477e54['_scale']['copy'](_0x280d37['_scale']),_0x477e54['_written']=!(0x10ca+0x17b5+-0x7*0x5c9));}}['setGraph'](_0x4c394b){if(this['graph']=_0x4c394b,_0x4c394b)for(let _0x1e7b47=0x20fd*0x1+-0x2531+0x434;_0x1e7b47<this['_interpola'+'tedKeys']['length'];_0x1e7b47++){const _0xe08616=this['_interpola'+'tedKeys'][_0x1e7b47],_0x22b5a4=_0x4c394b['findByName'](_0xe08616['_name']);this['_interpola'+'tedKeys'][_0x1e7b47]['setTarget'](_0x22b5a4);}else{for(let _0x14d4df=-0x1c2*0xa+0x2b7*0x1+0xedd;_0x14d4df<this['_interpola'+'tedKeys']['length'];_0x14d4df++)this['_interpola'+'tedKeys'][_0x14d4df]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x39628f=0x1117+-0x1294+-0x17d*-0x1;_0x39628f<this['_interpola'+'tedKeys']['length'];_0x39628f++){const _0x59a359=this['_interpola'+'tedKeys'][_0x39628f];if(_0x59a359['_written']){const _0x31dcca=_0x59a359['getTarget']();_0x31dcca['localPosit'+'ion']['copy'](_0x59a359['_pos']),_0x31dcca['localRotat'+'ion']['copy'](_0x59a359['_quat']),_0x31dcca['localScale']['copy'](_0x59a359['_scale']),_0x31dcca['_dirtyLoca'+'l']||_0x31dcca['_dirtifyLo'+'cal'](),_0x59a359['_written']=!(0x2*0x584+0x1402+-0x5*0x635);}}}}const ys=(0x1116+0xf8f*-0x1+-0x183)/(0x1028+0x9cb+-0x81*0x33),Bs=0x4d*-0x3c+0x1cf3+-0xae6-ys*(0x26ba+0xe6f+-0x3527);class Bp extends pn{constructor(_0x4e3f62,_0x214bef,_0x43490d,_0x50fd97,_0x119aac,_0x532fcf){super();const _0x1e867e=new T(),_0x354c12=new T(),_0x4efb1d=new T(),_0x39fe43=new T(),_0x22a1dc=new T(),_0x14ca59=new T(),_0x22c2c5=[],_0x5e4ba9=[],_0x50a289=[],_0x2f70ef=[],_0x54aac4=[];let _0x3d1ca6;if(_0x43490d>0x20e*-0x5+-0x11*-0x13c+0x55b*-0x2){for(let _0x173951=-0x251d+-0x91e*0x1+0x9*0x523;_0x173951<=_0x50fd97;_0x173951++)for(let _0x4c3ded=0x15c7+0x919+-0x1ee0;_0x4c3ded<=_0x119aac;_0x4c3ded++){const _0x2d24e3=_0x4c3ded/_0x119aac*(-0x139f+0x1625+-0x284)*Math['PI']-Math['PI'],_0x29af20=Math['sin'](_0x2d24e3),_0x227ca2=Math['cos'](_0x2d24e3);_0x22a1dc['set'](_0x29af20*_0x4e3f62,-_0x43490d/(0x16c5+0x2*0x4d0+-0x1*0x2063),_0x227ca2*_0x4e3f62),_0x39fe43['set'](_0x29af20*_0x214bef,_0x43490d/(0x117+-0x329*-0x7+-0x1734),_0x227ca2*_0x214bef),_0x1e867e['lerp'](_0x22a1dc,_0x39fe43,_0x173951/_0x50fd97),_0x354c12['sub2'](_0x39fe43,_0x22a1dc)['normalize'](),_0x14ca59['set'](_0x227ca2,0x2f5*0x1+0x217e+0xd9*-0x2b,-_0x29af20),_0x4efb1d['cross'](_0x14ca59,_0x354c12)['normalize'](),_0x22c2c5['push'](_0x1e867e['x'],_0x1e867e['y'],_0x1e867e['z']),_0x5e4ba9['push'](_0x4efb1d['x'],_0x4efb1d['y'],_0x4efb1d['z']);let _0x5dc138=_0x4c3ded/_0x119aac,_0x21797d=_0x173951/_0x50fd97;_0x50a289['push'](_0x5dc138,0x1cbc+-0x1*-0x2223+0x1*-0x3ede-_0x21797d);const _0x265b90=_0x21797d;if(_0x21797d=_0x5dc138,_0x5dc138=_0x265b90,_0x5dc138=_0x5dc138*Bs+ys,_0x21797d=_0x21797d*Bs+ys,_0x5dc138/=-0xeff+-0x2f*-0xa7+-0xfa7,_0x2f70ef['push'](_0x5dc138,-0x33*-0xe+0x17*-0x55+-0x19e*-0x3-_0x21797d),_0x173951<_0x50fd97&&_0x4c3ded<_0x119aac){const _0x5a99cf=_0x173951*(_0x119aac+(-0x1bdd+-0x1a8a+0x3668))+_0x4c3ded,_0xa61648=_0x173951*(_0x119aac+(0x4*0x6b6+-0x2652+0xb7b))+(_0x4c3ded+(0x1fdb+0x1ecb+0x3ea5*-0x1)),_0x1ebd23=(_0x173951+(0x13d+-0x17e8+0x5ab*0x4))*(_0x119aac+(0x17bd+-0x45a+-0x1362))+_0x4c3ded,_0x557393=(_0x173951+(-0x6e0+0x2539+-0x796*0x4))*(_0x119aac+(-0x1*0x1f75+-0x865+0x27db))+(_0x4c3ded+(-0x86b*0x2+-0x36*0x4+0x11af));_0x54aac4['push'](_0x5a99cf,_0xa61648,_0x1ebd23),_0x54aac4['push'](_0xa61648,_0x557393,_0x1ebd23);}}}if(_0x532fcf){const _0x5cedf8=Math['floor'](_0x119aac/(-0x210d+-0x4e7*0x1+-0x12fb*-0x2)),_0x47266e=_0x119aac,_0x3aa144=_0x43490d/(-0x1834+0x163d*0x1+0x1f9);for(let _0x55a7b7=-0x273+-0x6b5+0x928;_0x55a7b7<=_0x5cedf8;_0x55a7b7++){const _0x3107ba=_0x55a7b7*Math['PI']*(0x2305+-0x10c4+-0x1241+0.5)/_0x5cedf8,_0xe4691d=Math['sin'](_0x3107ba),_0x3f4dde=Math['cos'](_0x3107ba);for(let _0x34b1cf=0x707*-0x1+-0x2159+0x2860;_0x34b1cf<=_0x47266e;_0x34b1cf++){const _0x413386=_0x34b1cf*(0x1*-0x1a21+-0xb93+-0xc92*-0x3)*Math['PI']/_0x47266e-Math['PI']/(-0x1b+-0x222a+0x2247),_0x570c08=Math['sin'](_0x413386),_0x2b1a12=Math['cos'](_0x413386)*_0xe4691d,_0x204b93=_0x3f4dde,_0x1b2ae1=_0x570c08*_0xe4691d;let _0x4f1600=-0x20*-0x34+0x5f*-0x3+0x562*-0x1-_0x34b1cf/_0x47266e,_0x2ad508=0x1*0x913+0x5a+-0x96c-_0x55a7b7/_0x5cedf8;_0x22c2c5['push'](_0x2b1a12*_0x214bef,_0x204b93*_0x214bef+_0x3aa144,_0x1b2ae1*_0x214bef),_0x5e4ba9['push'](_0x2b1a12,_0x204b93,_0x1b2ae1),_0x50a289['push'](_0x4f1600,-0x6*-0x184+0x711+-0x1028*0x1-_0x2ad508),_0x4f1600=_0x4f1600*Bs+ys,_0x2ad508=_0x2ad508*Bs+ys,_0x4f1600/=-0x12f*0x1f+-0x1dc6+0x427a,_0x2ad508/=0x2a4+-0xb65+0x2*0x462,_0x4f1600+=(0x1*-0xaa3+-0x249a+0x1*0x2f3e)/(0x12c3*-0x1+0x1263+0x63),_0x2f70ef['push'](_0x4f1600,-0x19b6+0x1*0xc83+-0x104*-0xd-_0x2ad508);}}_0x3d1ca6=(_0x50fd97+(-0xe62+-0x1*-0x29b+0x2*0x5e4))*(_0x119aac+(-0x1c*0x33+0x8*-0x469+0x28dd*0x1));for(let _0x29043f=-0x1459+-0x1*0x326+0x4b3*0x5;_0x29043f<_0x5cedf8;++_0x29043f)for(let _0xd4babe=0x24e5+0x8b2+-0x2d97*0x1;_0xd4babe<_0x47266e;++_0xd4babe){const _0xccb3ea=_0x29043f*(_0x47266e+(-0x24eb*-0x1+0x2*-0xb56+-0xe3e))+_0xd4babe,_0x2247ac=_0xccb3ea+_0x47266e+(-0x231d+-0x9c7+0x4fd*0x9);_0x54aac4['push'](_0x3d1ca6+_0xccb3ea+(0x95d+-0x1*-0x14b1+-0x1e0d),_0x3d1ca6+_0x2247ac,_0x3d1ca6+_0xccb3ea),_0x54aac4['push'](_0x3d1ca6+_0xccb3ea+(0x2f5*0x2+-0x2e*0xb3+0x1a41),_0x3d1ca6+_0x2247ac+(-0xe8*-0x1b+-0x34e+0x1529*-0x1),_0x3d1ca6+_0x2247ac);}for(let _0x12ff05=-0x9ab+-0x1*0x1945+-0x34*-0xac;_0x12ff05<=_0x5cedf8;_0x12ff05++){const _0x6c26aa=Math['PI']*(-0x1c*-0x115+-0x49*-0x1b+-0x25ff+0.5)+_0x12ff05*Math['PI']*(0x4e5*0x7+-0x3*0xb7b+-0x1*-0x2e+0.5)/_0x5cedf8,_0x41fec0=Math['sin'](_0x6c26aa),_0x571246=Math['cos'](_0x6c26aa);for(let _0x325dc5=-0x145+-0x2132+0x2277;_0x325dc5<=_0x47266e;_0x325dc5++){const _0x4d1a9c=_0x325dc5*(-0x1b1a+-0x2cc*-0xc+-0x1c*0x3b)*Math['PI']/_0x47266e-Math['PI']/(0xb5*-0x36+-0x41*0x4e+0x39fe),_0x4ee8ed=Math['sin'](_0x4d1a9c),_0x5abf87=Math['cos'](_0x4d1a9c)*_0x41fec0,_0x2dd04e=_0x571246,_0x3033b2=_0x4ee8ed*_0x41fec0;let _0x482e5b=-0x4*-0x3dc+-0x36d*0x1+-0xc02-_0x325dc5/_0x47266e,_0x500903=-0x16*0x1c1+0x21c+-0x351*-0xb-_0x12ff05/_0x5cedf8;_0x22c2c5['push'](_0x5abf87*_0x214bef,_0x2dd04e*_0x214bef-_0x3aa144,_0x3033b2*_0x214bef),_0x5e4ba9['push'](_0x5abf87,_0x2dd04e,_0x3033b2),_0x50a289['push'](_0x482e5b,-0x1*0x1fdf+0x1085*0x1+0xf5b-_0x500903),_0x482e5b=_0x482e5b*Bs+ys,_0x500903=_0x500903*Bs+ys,_0x482e5b/=0x109a+-0x1f30+0xe99*0x1,_0x500903/=-0x9*-0x1de+0x382*-0x1+0x13*-0xb3,_0x482e5b+=(-0x7*0x29+-0xed1*0x1+0xd*0x13a)/(0x1*0x2216+0x1*-0xf43+0x56*-0x38),_0x2f70ef['push'](_0x482e5b,0xf*-0x1bd+0x20c5*0x1+0x1*-0x6b1-_0x500903);}}_0x3d1ca6=(_0x50fd97+(0x1*0x2417+-0x1807+-0x93*0x15))*(_0x119aac+(0x2361+-0x664+-0x1cfc))+(_0x47266e+(-0x18cb+0x1*-0x8eb+0x3bf*0x9))*(_0x5cedf8+(-0x95f+0x2664+-0x1d04));for(let _0x52cc2b=-0x33*-0xa8+-0x1863+0x9b*-0xf;_0x52cc2b<_0x5cedf8;++_0x52cc2b)for(let _0x5b0bae=0x5e3*0x4+0x4*0x3ff+-0x2788;_0x5b0bae<_0x47266e;++_0x5b0bae){const _0x364655=_0x52cc2b*(_0x47266e+(0x1*-0x17d1+0x152b+0x1*0x2a7))+_0x5b0bae,_0x30be68=_0x364655+_0x47266e+(-0xa16+-0x2361+0x2d78);_0x54aac4['push'](_0x3d1ca6+_0x364655+(-0x1923+-0x677+0x1f9b),_0x3d1ca6+_0x30be68,_0x3d1ca6+_0x364655),_0x54aac4['push'](_0x3d1ca6+_0x364655+(-0x1865+0x21e0+-0x97a),_0x3d1ca6+_0x30be68+(0x3d*-0x8f+-0x72b+-0x293f*-0x1),_0x3d1ca6+_0x30be68);}}else{if(_0x3d1ca6=(_0x50fd97+(0x1021+0x1ee6+-0xd*0x39e))*(_0x119aac+(0x12a2+0xf89+-0x222a)),_0x4e3f62>-0x20f5*-0x1+0x51*-0x65+-0x4*0x40)for(let _0x4b5744=0x32*0x6d+0x14ca+-0x2a14;_0x4b5744<_0x119aac;_0x4b5744++){const _0x4ca37e=_0x4b5744/_0x119aac*(0x1*-0x99a+-0x2043+-0x1b*-0x18d)*Math['PI'],_0x2a848d=Math['sin'](_0x4ca37e),_0x35446b=-_0x43490d/(-0x2*-0xc1+-0x12cc+0x114c),_0x37f11e=Math['cos'](_0x4ca37e);let _0x51216f=-0x1ef+0x1751+-0x1561-(_0x2a848d+(-0x6bc*-0x2+-0x1af8+0xd81))/(0x358+-0x2c*-0x49+-0xfe2),_0x3b3ae3=(_0x37f11e+(-0x6*0x5f4+-0x1*0x24d4+0x488d))/(0x2*-0x961+0xdf9+0x4cb*0x1);_0x22c2c5['push'](_0x2a848d*_0x4e3f62,_0x35446b,_0x37f11e*_0x4e3f62),_0x5e4ba9['push'](0x16ba+0xc22*-0x1+-0x388*0x3,-(-0x2263*-0x1+-0x1bed*0x1+-0x13*0x57),-0x35*0x75+0x4*-0x557+-0x1*-0x2d95),_0x50a289['push'](_0x51216f,-0x96*-0x21+-0x331*-0x1+0x5d*-0x3e-_0x3b3ae3),_0x51216f=_0x51216f*Bs+ys,_0x3b3ae3=_0x3b3ae3*Bs+ys,_0x51216f/=0xaba+0x10b7*0x1+-0xdb7*0x2,_0x3b3ae3/=-0x11b*0x3+0x268f+-0x233b,_0x51216f+=(0xaf8+0x6c1*0x1+-0x11b8)/(0x6b7+0x10e7*0x1+0x1*-0x179b),_0x2f70ef['push'](_0x51216f,-0x1553+0x439+0x1*0x111b-_0x3b3ae3),_0x4b5744>0x19ae+-0x12e2+0x6cb*-0x1&&_0x54aac4['push'](_0x3d1ca6,_0x3d1ca6+_0x4b5744,_0x3d1ca6+_0x4b5744-(-0x1*-0xf5b+-0x9d0+0x2*-0x2c5));}if(_0x3d1ca6+=_0x119aac,_0x214bef>0x1825+-0x1*0x2162+0x93d)for(let _0x4c8b09=0x6b2+0xbfb*0x2+-0x368*0x9;_0x4c8b09<_0x119aac;_0x4c8b09++){const _0xbc1001=_0x4c8b09/_0x119aac*(-0x17*0x17b+-0x1c46+0x3e55)*Math['PI'],_0x2c05ae=Math['sin'](_0xbc1001),_0x1e0ee0=_0x43490d/(0x703*-0x4+0x1a7b+0x193),_0x552306=Math['cos'](_0xbc1001);let _0x134674=0x270f+0x1665+0x1*-0x3d73-(_0x2c05ae+(0x1*-0x5c5+0x1*-0x2509+0x2acf))/(0x26e1+0xd*-0x67+-0x21a4),_0x35c8fd=(_0x552306+(-0x1ee*-0x11+0xa*-0x12+-0x391*0x9))/(0xc*-0x102+-0x144b+0x2065*0x1);_0x22c2c5['push'](_0x2c05ae*_0x214bef,_0x1e0ee0,_0x552306*_0x214bef),_0x5e4ba9['push'](0x81*0x19+-0x3*-0x16f+0xe*-0x135,-0x626*0x1+-0x136a+-0x5*-0x51d,-0x10f8+0x3*-0x70+0x1248),_0x50a289['push'](_0x134674,0xc74+-0x1978+0xd05-_0x35c8fd),_0x134674=_0x134674*Bs+ys,_0x35c8fd=_0x35c8fd*Bs+ys,_0x134674/=0xe*-0x2b3+-0x2591+0x4b5e,_0x35c8fd/=0x1*0xf7a+0x1e95+-0x4*0xb83,_0x134674+=(-0x223+-0x6*-0x191+-0x741)/(-0x1da7+-0x2217+0x3fc1),_0x2f70ef['push'](_0x134674,0x55*-0x61+0x1*-0x1479+0x34af-_0x35c8fd),_0x4c8b09>0xeec+-0x6*0x1f9+-0x107*0x3&&_0x54aac4['push'](_0x3d1ca6,_0x3d1ca6+_0x4c8b09-(0x49*0x1b+0x71e*0x5+-0xad2*0x4),_0x3d1ca6+_0x4c8b09);}}this['positions']=_0x22c2c5,this['normals']=_0x5e4ba9,this['uvs']=_0x50a289,this['uvs1']=_0x2f70ef,this['indices']=_0x54aac4;}}class C1 extends Bp{constructor(_0x1b17c9={}){const _0x25c367=_0x1b17c9['radius']??0x1ea7+0x16c*-0x2+-0x1bcf+0.3,_0x5c21f9=_0x1b17c9['height']??-0xc2b+-0x11d6+0x1e02,_0x2575d3=_0x1b17c9['heightSegm'+'ents']??-0x1*0x81e+-0x3bd*0x2+-0xb*-0x16b,_0x4d7309=_0x1b17c9['sides']??-0xc48+0x2*-0x103f+-0x1*-0x2cda;super(_0x25c367,_0x25c367,_0x5c21f9-(-0x133d+0x16be+-0x37f)*_0x25c367,_0x2575d3,_0x4d7309,!(-0x2493+-0xb23+0x2fb6)),_0x1b17c9['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class M1 extends Bp{constructor(_0x477c4b={}){const _0x44f88c=_0x477c4b['baseRadius']??0x3*0xb9b+-0x37*-0x14+0x1f*-0x143+0.5,_0x4b86a7=_0x477c4b['peakRadius']??-0x1ab7+-0x1ac+-0xd*-0x22f,_0x5d1c7a=_0x477c4b['height']??-0x479+-0x1*0xd75+-0x1*-0x11ef,_0x1a3239=_0x477c4b['heightSegm'+'ents']??0xe85+0x1d*-0x13b+0x152f,_0x264fec=_0x477c4b['capSegment'+'s']??-0x1d7a+0x19ae*0x1+0x3de;super(_0x44f88c,_0x4b86a7,_0x5d1c7a,_0x1a3239,_0x264fec,!(0x97e+-0x195*0x1+-0x7e8)),_0x477c4b['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Bp{constructor(_0xd4af2c={}){const _0x3da79c=_0xd4af2c['radius']??0xccb*0x1+0x1eb0+-0x2b7b+0.5,_0x52f3af=_0xd4af2c['height']??-0xb42*-0x2+0x1f51*-0x1+0x8ce,_0x3db448=_0xd4af2c['heightSegm'+'ents']??0xb*-0x11+-0x1*0x35+0xf5,_0x52c903=_0xd4af2c['capSegment'+'s']??-0x55*0x4b+0x5*0x122+0xd7*0x17;super(_0x3da79c,_0x3da79c,_0x52f3af,_0x3db448,_0x52c903,!(0x12ab+0x2032+-0x32dc)),_0xd4af2c['calculateT'+'angents']&&(this['tangents']=fr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends pn{constructor(_0x4ec254={}){super();const _0x1e0452=_0x4ec254['halfExtent'+'s']??new W(0x166f*0x1+-0x113e+-0x531+0.5,-0x1483*0x1+0x140a*-0x1+0x1*0x288d+0.5),_0x2c0f81=_0x4ec254['widthSegme'+'nts']??-0xe*-0xe3+-0x1033+0x3ce,_0x525184=_0x4ec254['lengthSegm'+'ents']??-0x554+0x22af+-0x1d56*0x1,_0x260287=[],_0x1d5dab=[],_0x1a983c=[],_0xa5cae8=[];let _0x481a62=0x73d*0x1+0x12de+-0x1a1b;for(let _0x13a87d=-0x1*-0x1633+-0x2159*0x1+0xb26;_0x13a87d<=_0x2c0f81;_0x13a87d++)for(let _0x32ee99=0x4*0x7d1+0x938+-0x287c;_0x32ee99<=_0x525184;_0x32ee99++){const _0x1d49fa=-_0x1e0452['x']+(-0xb96+-0x285*-0xb+0x101f*-0x1)*_0x1e0452['x']*_0x13a87d/_0x2c0f81,_0x7d8dcd=-0x1*0xd81+0x2011+-0x1290,_0x20e255=-(-_0x1e0452['y']+(0x64*0x47+0x1f4d+-0x3b07)*_0x1e0452['y']*_0x32ee99/_0x525184),_0xc4b6b3=_0x13a87d/_0x2c0f81,_0x18f074=_0x32ee99/_0x525184;_0x260287['push'](_0x1d49fa,_0x7d8dcd,_0x20e255),_0x1d5dab['push'](0x1d*0x81+0x874+-0x1711,0xc*-0x198+-0xa25*0x1+0x1d46,-0xc9*-0x18+0x3df*0x4+0x112a*-0x2),_0x1a983c['push'](_0xc4b6b3,0x2d3*0x2+-0x2638+0x2093-_0x18f074),_0x13a87d<_0x2c0f81&&_0x32ee99<_0x525184&&(_0xa5cae8['push'](_0x481a62+_0x525184+(0x5f1*-0x1+-0x17fb+0x1*0x1ded),_0x481a62+(-0x1981+-0x5c*0x61+0x1*0x3c5e),_0x481a62),_0xa5cae8['push'](_0x481a62+_0x525184+(0x49d*-0x3+0x1ed*-0x2+0x1e*0x97),_0x481a62+_0x525184+(0x1b09+0x2472+-0x3f79),_0x481a62+(-0xf1a*-0x2+-0x23*0x7f+-0x35*0x3e))),_0x481a62++;}this['positions']=_0x260287,this['normals']=_0x1d5dab,this['uvs']=_0x1a983c,this['uvs1']=_0x1a983c,this['indices']=_0xa5cae8,_0x4ec254['calculateT'+'angents']&&(this['tangents']=fr(_0x260287,_0x1d5dab,_0x1a983c,_0xa5cae8));}}class I1 extends pn{constructor(_0x1cf2b7={}){super();const _0x49caaf=_0x1cf2b7['tubeRadius']??0x1*-0xe24+0x8*0x61+0x9*0x13c+0.2,_0x34e8c2=_0x1cf2b7['ringRadius']??-0x22c6+-0x241*-0x4+0x19c2+0.3,_0x16ec90=(_0x1cf2b7['sectorAngl'+'e']??-0x1924+0x2*-0x9f7+-0xf7e*-0x3)*N['DEG_TO_RAD'],_0x116fa9=_0x1cf2b7['segments']??-0x1825+-0x1628+0x2e6b,_0x2a3b75=_0x1cf2b7['sides']??-0xb5*0x7+-0xea*0x9+0xd41,_0x1682a4=[],_0x18cc49=[],_0x516b77=[],_0x35e860=[];for(let _0x5b6111=-0x15*-0x53+-0x140e+0xd3f;_0x5b6111<=_0x2a3b75;_0x5b6111++)for(let _0x458731=0x2*-0x2eb+0x1b1a+0x2*-0xaa2;_0x458731<=_0x116fa9;_0x458731++){const _0x24e9ed=Math['cos'](_0x16ec90*_0x458731/_0x116fa9)*(_0x34e8c2+_0x49caaf*Math['cos']((0x10b3+-0x24fa+0x1449)*Math['PI']*_0x5b6111/_0x2a3b75)),_0x5dc614=Math['sin']((0x58e+-0x2+0x58a*-0x1)*Math['PI']*_0x5b6111/_0x2a3b75)*_0x49caaf,_0x222c00=Math['sin'](_0x16ec90*_0x458731/_0x116fa9)*(_0x34e8c2+_0x49caaf*Math['cos']((0x1*0x2569+0x7fa+0x2d61*-0x1)*Math['PI']*_0x5b6111/_0x2a3b75)),_0x449cb0=Math['cos'](_0x16ec90*_0x458731/_0x116fa9)*Math['cos']((-0x28*0xbf+-0x6a*-0x3b+0x15b*0x4)*Math['PI']*_0x5b6111/_0x2a3b75),_0x77431b=Math['sin']((0x1998+0x5*-0x584+0x1fe)*Math['PI']*_0x5b6111/_0x2a3b75),_0x376dc1=Math['sin'](_0x16ec90*_0x458731/_0x116fa9)*Math['cos']((-0x427*0x4+0xc7c+-0x211*-0x2)*Math['PI']*_0x5b6111/_0x2a3b75),_0x487175=_0x5b6111/_0x2a3b75,_0x140218=0x1*0x19e4+-0x4*-0x1b1+-0xd*0x283-_0x458731/_0x116fa9;if(_0x1682a4['push'](_0x24e9ed,_0x5dc614,_0x222c00),_0x18cc49['push'](_0x449cb0,_0x77431b,_0x376dc1),_0x516b77['push'](_0x487175,0x2699*-0x1+-0x1*-0x2102+0x1*0x598-_0x140218),_0x5b6111<_0x2a3b75&&_0x458731<_0x116fa9){const _0x2d64ca=_0x5b6111*(_0x116fa9+(0x1535*-0x1+-0x1f*0xc6+-0xc*-0x3c4))+_0x458731,_0x2e6265=(_0x5b6111+(0xd2c+-0x1f3d+-0x101*-0x12))*(_0x116fa9+(0xc46*0x3+-0x16cf+-0x16*0xa3))+_0x458731,_0x4c0b67=_0x5b6111*(_0x116fa9+(0x1e*-0x21+0x22d0+0x1*-0x1ef1))+(_0x458731+(0x72f*0x4+-0x1e3*0xc+-0x617)),_0x267aa4=(_0x5b6111+(0x19ab+-0x251e+0xb74))*(_0x116fa9+(0x8a5+-0xb96+0x1d*0x1a))+(_0x458731+(-0x53c+0x1*-0x1cf+0x2c*0x29));_0x35e860['push'](_0x2d64ca,_0x2e6265,_0x4c0b67),_0x35e860['push'](_0x2e6265,_0x267aa4,_0x4c0b67);}}this['positions']=_0x1682a4,this['normals']=_0x18cc49,this['uvs']=_0x516b77,this['uvs1']=_0x516b77,this['indices']=_0x35e860,_0x1cf2b7['calculateT'+'angents']&&(this['tangents']=fr(_0x1682a4,_0x18cc49,_0x516b77,_0x35e860));}}class D1{constructor(_0x52e0e9,_0x5910b6){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x52e0e9,this['_isClearin'+'gCache']=!(-0x1293+-0x9*-0x152+-0x359*-0x2),this['_precached']=!(-0x1181+0x1*-0x1bc5+0x2d47),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new Vh(),this['_defaultSt'+'dMatOption'+'Min']=new Vh());const _0x16ccd5=new A0();_0x5910b6['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x16ccd5,_0x5910b6,null,[],gn,null),_0x5910b6['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x5910b6,null,Rp,null),_0x52e0e9['on']('destroy:sh'+'ader',_0x41aa38=>{this['removeFrom'+'Cache'](_0x41aa38);});}['destroy'](){this['clearCache']();}['register'](_0x20dd72,_0x4b3681){this['_generator'+'s']['has'](_0x20dd72)||this['_generator'+'s']['set'](_0x20dd72,_0x4b3681);}['unregister'](_0x423a63){this['_generator'+'s']['has'](_0x423a63)&&this['_generator'+'s']['delete'](_0x423a63);}['isRegister'+'ed'](_0x4922ff){return this['_generator'+'s']['has'](_0x4922ff);}['generateSh'+'aderDefini'+'tion'](_0x4a1ff7,_0x27ae21,_0x3aafd7,_0x55ea2d){var _0x2e25eb,_0x732e48;let _0x4e3301=this['definition'+'sCache']['get'](_0x3aafd7);if(!_0x4e3301){let _0x3f397e;(_0x2e25eb=_0x55ea2d['litOptions'])!=null&&_0x2e25eb['lights']&&(_0x3f397e=_0x55ea2d['litOptions']['lights'],_0x55ea2d['litOptions']['lights']=_0x3f397e['map'](_0x46f8e0=>{const _0x12f493=_0x46f8e0['clone']?_0x46f8e0['clone']():_0x46f8e0;return _0x12f493['key']=_0x46f8e0['key'],_0x12f493;})),this['storeNewPr'+'ogram'](_0x27ae21,_0x55ea2d),(_0x732e48=_0x55ea2d['litOptions'])!=null&&_0x732e48['lights']&&(_0x55ea2d['litOptions']['lights']=_0x3f397e),this['_precached']&&v['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x27ae21+'\x20key\x20'+_0x3aafd7+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x903d70=this['_device'];_0x4e3301=_0x4a1ff7['createShad'+'erDefiniti'+'on'](_0x903d70,_0x55ea2d),_0x4e3301['name']=_0x4e3301['name']??(_0x55ea2d['pass']?_0x27ae21+'-pass:'+_0x55ea2d['pass']:_0x27ae21),this['definition'+'sCache']['set'](_0x3aafd7,_0x4e3301);}return _0x4e3301;}['getCachedS'+'hader'](_0x6554da){return this['processedC'+'ache']['get'](_0x6554da);}['setCachedS'+'hader'](_0x13bed4,_0x1b688c){this['processedC'+'ache']['set'](_0x13bed4,_0x1b688c);}['getProgram'](_0x4d0f54,_0x376743,_0x21f0d1,_0x75b078){const _0xa82c50=this['_generator'+'s']['get'](_0x4d0f54);if(!_0xa82c50)return v['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x4d0f54),null;const _0xe0e236=_0xa82c50['generateKe'+'y'](_0x376743),_0x3de537=hn(_0xe0e236),_0x3d8199=_0x21f0d1['generateKe'+'y'](this['_device']),_0x5ca1be=hn(_0x3d8199),_0x2c43c5=_0x3de537+'#'+_0x5ca1be;let _0x2d6e5c=this['getCachedS'+'hader'](_0x2c43c5);if(!_0x2d6e5c){const _0x5ab0bd=this['generateSh'+'aderDefini'+'tion'](_0xa82c50,_0x4d0f54,_0x3de537,_0x376743);v['assert'](_0x5ab0bd);let _0x2a6c32='',_0xcca3ab;_0x376743['pass']!==void(-0x1ca*0x5+0x30f*-0x3+0x121f)&&(_0xcca3ab=Ks['get'](this['_device'])['getByIndex'](_0x376743['pass']),_0x2a6c32='-'+_0xcca3ab['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x75b078,'shaderPassInfo':_0xcca3ab,'definition':_0x5ab0bd});const _0x2e323c={'name':''+_0x5ab0bd['name']+_0x2a6c32+'-proc','attributes':_0x5ab0bd['attributes'],'vshader':_0x5ab0bd['vshader'],'vincludes':_0x5ab0bd['vincludes'],'fincludes':_0x5ab0bd['fincludes'],'fshader':_0x5ab0bd['fshader'],'processingOptions':_0x21f0d1,'shaderLanguage':_0x5ab0bd['shaderLang'+'uage'],'meshUniformBufferFormat':_0x5ab0bd['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x5ab0bd['meshBindGr'+'oupFormat']};_0x2d6e5c=new i0(this['_device'],_0x2e323c),v['call'](()=>{_0x2d6e5c['_generatio'+'nKey']=_0xe0e236,_0x2d6e5c['_processin'+'gKey']=_0x3d8199;}),this['setCachedS'+'hader'](_0x2c43c5,_0x2d6e5c);}return _0x2d6e5c;}['storeNewPr'+'ogram'](_0xe9f2be,_0x298152){let _0x394f3e={};if(_0xe9f2be==='standard'){const _0x1e2384=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x298152['pass']);for(const _0x3b01f2 in _0x298152)(_0x298152['hasOwnProp'+'erty'](_0x3b01f2)&&_0x1e2384[_0x3b01f2]!==_0x298152[_0x3b01f2]||_0x3b01f2==='pass')&&(_0x394f3e[_0x3b01f2]=_0x298152[_0x3b01f2]);for(const _0x35003e in _0x298152['litOptions'])_0x394f3e[_0x35003e]=_0x298152['litOptions'][_0x35003e];}else _0x394f3e=_0x298152;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0xe9f2be,'options':_0x394f3e}));}['dumpProgra'+'ms'](){let _0x3eb5b7='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x3eb5b7+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x156e+0x2*0x131b+0x2c*-0x15b]&&(_0x3eb5b7+='\x0a\x09'+this['_programsC'+'ollection'][0x1*-0x1b3b+0x2*-0x127e+0x4037]);for(let _0x1f1246=-0x26e9*-0x1+0x26fa+0x1*-0x4de2;_0x1f1246<this['_programsC'+'ollection']['length'];++_0x1f1246)_0x3eb5b7+=',\x0a\x09'+this['_programsC'+'ollection'][_0x1f1246];_0x3eb5b7+='\x0a];\x0a',_0x3eb5b7+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x3eb5b7+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+no+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+sy+'\x22)\x0a',_0x3eb5b7+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x5eed61=document['createElem'+'ent']('a');_0x5eed61['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x3eb5b7)),_0x5eed61['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x5eed61['style']['display']='none',document['body']['appendChil'+'d'](_0x5eed61),_0x5eed61['click'](),document['body']['removeChil'+'d'](_0x5eed61);}['clearCache'](){this['_isClearin'+'gCache']=!(0x1*-0x8b+0x1*-0x119d+0x1228),this['processedC'+'ache']['forEach'](_0x1783c9=>{_0x1783c9['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x772+0xaa4+-0x331);}['removeFrom'+'Cache'](_0x46cb4f){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x53c14e,_0x529c45)=>{_0x46cb4f===_0x53c14e&&this['processedC'+'ache']['delete'](_0x529c45);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x488622){const _0x1bb56f=Ks['get'](this['_device'])['getByIndex'](_0x488622);return _0x488622===rl||_0x488622===Oa||_0x488622===il||_0x1bb56f['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x73596d){if(_0x73596d){const _0x376346=new Array(_0x73596d['length']);for(let _0x189d34=-0x12e7+0x348+0x5d*0x2b;_0x189d34<_0x73596d['length'];_0x189d34++){if(_0x73596d[_0x189d34]['name']==='standard'){const _0x203f83=_0x73596d[_0x189d34]['options'],_0xfc4d33=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x203f83['pass']);for(const _0x5567d7 in _0xfc4d33)_0xfc4d33['hasOwnProp'+'erty'](_0x5567d7)&&_0x203f83[_0x5567d7]===void(-0x1*-0x1abd+-0x971*0x1+-0x114c)&&(_0x203f83[_0x5567d7]=_0xfc4d33[_0x5567d7]);}_0x376346[_0x189d34]=this['getProgram'](_0x73596d[_0x189d34]['name'],_0x73596d[_0x189d34]['options']);}}this['_precached']=!(-0x1791+0x101a+-0x93*-0xd);}}const L1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',F1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',k1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),vo={'bakeDirLmEndPS':L1,'bakeLmEndPS':F1,'dilatePS':O1,'bilateralDeNoisePS':k1},Fn=new q(),B_=new se(),$d=new _e(),N_=new _e(),B1=new Y(-0xb*0x2ed+-0x1b3e+-0x3b6e*-0x1,0xaf2+0x1ac3*-0x1+0x87*0x1e,0x1389+-0x4*0x3fb+0x19*-0x25,-0xf33*-0x2+0x135d+-0x31c3+0.4),qd=-0x1129+0x1708+-0x5df+0.28209479177387814;class N1{constructor(_0x34684e,_0x37a41a,_0xfc6bcb,_0x402640,_0x18fdcd,_0x327ec7){const _0xae7625=_0x34684e['getProp']('x'),_0x322ff6=_0x34684e['getProp']('y'),_0x10dd10=_0x34684e['getProp']('z'),_0x40e474=_0x34684e['getProp']('rot_1'),_0x1f9722=_0x34684e['getProp']('rot_2'),_0x4e69b2=_0x34684e['getProp']('rot_3'),_0x6c492c=_0x34684e['getProp']('rot_0'),_0x5b5c46=_0x34684e['getProp']('motion_0'),_0x17e3f6=_0x34684e['getProp']('motion_1'),_0x325705=_0x34684e['getProp']('motion_2'),_0x558a0b=_0x34684e['getProp']('scale_0'),_0x1a5119=_0x34684e['getProp']('scale_1'),_0x2dc254=_0x34684e['getProp']('scale_2'),_0x4a503f=_0x34684e['getProp']('f_dc_0'),_0x441bd1=_0x34684e['getProp']('f_dc_1'),_0x3b9234=_0x34684e['getProp']('f_dc_2'),_0x2b17c1=_0x34684e['getProp']('opacity'),_0x1e8cdf=_0x26600f=>{if(_0x26600f>0x19b5+-0x124*0x16+-0x9d)return(-0x246b+-0x387+0x1*0x27f3)/(-0x1cb+-0xd5f+0xf2b+Math['exp'](-_0x26600f));const _0x5d380c=Math['exp'](_0x26600f);return _0x5d380c/(0x1539+-0x20fc*-0x1+-0x3634+_0x5d380c);};this['read']=_0x75630e=>{_0x37a41a&&(_0x37a41a['x']=_0xae7625[_0x75630e],_0x37a41a['y']=_0x322ff6[_0x75630e],_0x37a41a['z']=_0x10dd10[_0x75630e]),_0xfc6bcb&&_0xfc6bcb['set'](_0x40e474[_0x75630e],_0x1f9722[_0x75630e],_0x4e69b2[_0x75630e],_0x6c492c[_0x75630e]),_0x402640&&_0x402640['set'](Math['exp'](_0x558a0b[_0x75630e]),Math['exp'](_0x1a5119[_0x75630e]),Math['exp'](_0x2dc254[_0x75630e])),_0x327ec7&&_0x5b5c46&&_0x327ec7['set'](_0x5b5c46[_0x75630e],_0x17e3f6[_0x75630e],_0x325705[_0x75630e]),_0x18fdcd&&_0x18fdcd['set'](-0x1*-0x1516+-0x785+0x97*-0x17+0.5+_0x4a503f[_0x75630e]*qd,0xc71+-0x1548+-0x49*-0x1f+0.5+_0x441bd1[_0x75630e]*qd,-0x254a+-0x20c6+-0x10*-0x461+0.5+_0x3b9234[_0x75630e]*qd,_0x1e8cdf(_0x2b17c1[_0x75630e]));};}}const z_=(_0x1f93c9,_0x30daa1,_0x3639c3)=>{B_['set'](_0x3639c3['x'],_0x3639c3['y'],_0x3639c3['z'],_0x3639c3['w'])['normalize'](),_0x1f93c9['setTRS'](_0x30daa1,B_,T['ONE']);};(function(){const _0x232cfc=function(){let _0xd953c8;try{_0xd953c8=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x1a1044){_0xd953c8=window;}return _0xd953c8;},_0x38f67e=_0x232cfc();_0x38f67e['setInterva'+'l'](_0x4e84d9,0x1c*0x10d+0x1f0+0x89*-0x2c);}());class Ia{constructor(_0x341a2a){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x380784,_0x5dae29,_0x3a328b;this['elements']=_0x341a2a,this['numSplats']=(_0x380784=this['getElement']('vertex'))==null?void(-0x1475*-0x1+-0x15f7*0x1+0x182*0x1):_0x380784['count'],this['is4D']=!!((_0x3a328b=(_0x5dae29=this['getElement']('vertex'))==null?void(0x1*0x1957+0x9*0x20b+-0x2bba):_0x5dae29['properties']['find'](_0x2a7f1b=>_0x2a7f1b['name']==='t'))!=null&&_0x3a328b['storage']);}['appendGSpl'+'atData'](_0x67deed,_0x262686,_0x457b51){const _0x1e2b29=this['getElement']('vertex')['properties'];_0x1e2b29['find'](_0x38866f=>_0x38866f['name']==='time_index')||_0x1e2b29['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x67deed['numSplats'];for(let _0x16cb83=-0x99d*-0x3+-0x2162+0x48b;_0x16cb83<_0x1e2b29['length'];_0x16cb83++){const _0x116487=_0x1e2b29[_0x16cb83],_0xda9d51=_0x67deed['getElement']('vertex')['properties']['find'](_0x413d06=>_0x413d06['name']===_0x116487['name']);if(_0x116487['name']==='time_index'){const _0x52ca1b=new Float32Array(this['numSplats']);_0x52ca1b['fill'](_0x262686),_0x52ca1b['set'](_0x116487['storage'],0x428+0x187f*-0x1+0x1457),_0x116487['storage']=_0x52ca1b;}else{if(_0xda9d51&&_0x116487['name']==='t'){const _0x5f1b08=new Float32Array(this['numSplats']);if(_0x5f1b08['set'](_0x116487['storage'],0x1a7*-0x9+0x5*0x3d3+-0x440),_0x457b51){for(let _0x3c3e48=_0x116487['storage']['length'];_0x3c3e48<this['numSplats'];_0x3c3e48++)_0x5f1b08[_0x3c3e48]=_0xda9d51['storage'][_0x3c3e48-_0x116487['storage']['length']]+_0x457b51[(0x4f*0x1+0x79*0x21+0x7f3*-0x2)*_0x262686];}else _0x5f1b08['set'](_0xda9d51['storage'],_0x116487['storage']['length']);_0x116487['storage']=_0x5f1b08;}else{if(_0xda9d51){const _0x4d46fb=new Float32Array(this['numSplats']);_0x4d46fb['set'](_0x116487['storage'],0xc67+-0x30e+-0x959),_0x4d46fb['set'](_0xda9d51['storage'],_0x116487['storage']['length']),_0x116487['storage']=_0x4d46fb;}}}}}static['calcSplatA'+'abb'](_0x366c03,_0x5d9865,_0x5bf43e,_0x3094e6){z_(Fn,_0x5d9865,_0x5bf43e),$d['center']['set'](-0x21e*-0x7+0x446*-0x1+0xa8c*-0x1,0x16ef+0x1c74+-0x5*0xa47,-0x1b84+0x1*-0x1706+0x328a*0x1),$d['halfExtent'+'s']['set'](_0x3094e6['x']*(-0xd*0x12d+0x12ac+-0x5*0xad),_0x3094e6['y']*(-0x571+-0x14c0+-0x1*-0x1a33),_0x3094e6['z']*(0x1af0+-0x629+0x199*-0xd)),_0x366c03['setFromTra'+'nsformedAa'+'bb']($d,Fn);}['getProp'](_0x57189c,_0xdadfe8='vertex'){var _0x3b55f3,_0x19e8c6;return(_0x19e8c6=(_0x3b55f3=this['getElement'](_0xdadfe8))==null?void(0x54f+0xae4+-0x13f*0xd):_0x3b55f3['properties']['find'](_0x192f42=>_0x192f42['name']===_0x57189c))==null?void(-0xea4+-0x1737+-0x1*-0x25db):_0x19e8c6['storage'];}['getElement'](_0x438ed7){return this['elements']['find'](_0x497028=>_0x497028['name']===_0x438ed7);}['addProp'](_0x4350f8,_0x402375){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x4350f8,'storage':_0x402375,'byteSize':0x4});}['createIter'](_0x25ceed,_0x25682a,_0x53c774,_0xe887d9,_0x22b918){return new N1(this,_0x25ceed,_0x25682a,_0x53c774,_0xe887d9,_0x22b918);}['calcAabb'](_0x31d406,_0x5d635c){let _0x5d3a44,_0x3eec53,_0x11fd4a,_0x86fbc4,_0x35238b,_0x36d4e3,_0x3a6e24=!(0x1692+0x1035+-0x26c7*0x1);const _0x3ac1c8=this['getProp']('x'),_0x3815d9=this['getProp']('y'),_0x500137=this['getProp']('z'),_0x4a434e=this['getProp']('scale_0'),_0x19b708=this['getProp']('scale_1'),_0xe83f16=this['getProp']('scale_2');for(let _0x437c87=0x1f23+0x1049*-0x1+-0xeda;_0x437c87<this['numSplats'];++_0x437c87){if(_0x5d635c&&!_0x5d635c(_0x437c87))continue;const _0x19738a=(0x2*-0x955+0x2224+-0x3*0x528)*Math['exp'](Math['max'](_0x4a434e[_0x437c87],_0x19b708[_0x437c87],_0xe83f16[_0x437c87])),_0x508158=_0x3ac1c8[_0x437c87],_0x1dba4d=_0x3815d9[_0x437c87],_0x320679=_0x500137[_0x437c87];_0x3a6e24?(_0x3a6e24=!(-0x1c46+0xe5*0x25+-0x2*0x269),_0x5d3a44=_0x508158-_0x19738a,_0x3eec53=_0x1dba4d-_0x19738a,_0x11fd4a=_0x320679-_0x19738a,_0x86fbc4=_0x508158+_0x19738a,_0x35238b=_0x1dba4d+_0x19738a,_0x36d4e3=_0x320679+_0x19738a):(_0x5d3a44=Math['min'](_0x5d3a44,_0x508158-_0x19738a),_0x3eec53=Math['min'](_0x3eec53,_0x1dba4d-_0x19738a),_0x11fd4a=Math['min'](_0x11fd4a,_0x320679-_0x19738a),_0x86fbc4=Math['max'](_0x86fbc4,_0x508158+_0x19738a),_0x35238b=Math['max'](_0x35238b,_0x1dba4d+_0x19738a),_0x36d4e3=Math['max'](_0x36d4e3,_0x320679+_0x19738a));}return _0x3a6e24||(_0x31d406['center']['set']((_0x5d3a44+_0x86fbc4)*(-0xe21*0x2+-0x112+-0x1d54*-0x1+0.5),(_0x3eec53+_0x35238b)*(-0x10f1+-0x197b*0x1+0x2a6c+0.5),(_0x11fd4a+_0x36d4e3)*(-0x2411+-0x3*-0x188+-0x1*-0x1f79+0.5)),_0x31d406['halfExtent'+'s']['set']((_0x86fbc4-_0x5d3a44)*(0xb5d*-0x1+0x1a17+-0xeba+0.5),(_0x35238b-_0x3eec53)*(-0x5c5+0x5*-0x7b5+0x2c4e+0.5),(_0x36d4e3-_0x11fd4a)*(0x2079*0x1+-0x1c6*-0x7+0x2ce3*-0x1+0.5))),!_0x3a6e24;}['calcAabbEx'+'act'](_0x3406f0,_0x43e48b){const _0x494495=new T(),_0x382075=new se(),_0x164fe8=new T(),_0x5c6a0e=this['createIter'](_0x494495,_0x382075,_0x164fe8);let _0x68a76c=!(-0x1*-0x2153+-0x1bb2+-0x5a1);for(let _0x101a08=-0x19e9+0x1cd5*-0x1+-0x2*-0x1b5f;_0x101a08<this['numSplats'];++_0x101a08)_0x43e48b&&!_0x43e48b(_0x101a08)||(_0x5c6a0e['read'](_0x101a08),_0x68a76c?(_0x68a76c=!(0x2*0x51d+-0x159c+0x5*0x247),Ia['calcSplatA'+'abb'](_0x3406f0,_0x494495,_0x382075,_0x164fe8)):(Ia['calcSplatA'+'abb'](N_,_0x494495,_0x382075,_0x164fe8),_0x3406f0['add'](N_)));return!_0x68a76c;}['getCenters'](_0x48fa83){const _0x5f4d90=this['getProp']('x'),_0x3ccb6e=this['getProp']('y'),_0x41aa1a=this['getProp']('z');for(let _0x46eb6b=0xbb*0x34+-0x3fa*-0x9+-0x8e*0x85;_0x46eb6b<this['numSplats'];++_0x46eb6b)_0x48fa83[_0x46eb6b*(0x3*-0x71+0x214e+-0x1ff8)+(-0x9*0x431+0x4f*0x2b+-0x2*-0xc3a)]=_0x5f4d90[_0x46eb6b],_0x48fa83[_0x46eb6b*(-0x1523+-0x1b*-0x10f+-0xad*0xb)+(-0x220a+-0x2302+0x450d)]=_0x3ccb6e[_0x46eb6b],_0x48fa83[_0x46eb6b*(0x1d23+-0x65*-0x61+0x1677*-0x3)+(-0x7e0+-0x2*0x4f9+0x11d4)]=_0x41aa1a[_0x46eb6b];}['getMuT'](){const _0x2f905e=this['getProp']('t');if(!_0x2f905e)return;const _0x105c7f=new Float32Array(this['numSplats']);for(let _0x384af1=-0x217a+0x2661+-0x5*0xfb;_0x384af1<this['numSplats'];++_0x384af1)_0x105c7f[_0x384af1]=_0x2f905e[_0x384af1];return _0x105c7f;}['getTScale'](){const _0x942ea9=this['getProp']('t_scale');if(!_0x942ea9)return;const _0x418bb1=new Float32Array(this['numSplats']);for(let _0x21d8b8=-0x438+0xa95+-0x65d;_0x21d8b8<this['numSplats'];++_0x21d8b8)_0x418bb1[_0x21d8b8]=Math['exp'](_0x942ea9[_0x21d8b8]);return _0x418bb1;}['getMotion'](_0x2079ea){const _0x282bea=this['getProp']('motion_0'),_0x500115=this['getProp']('motion_1'),_0x15d3be=this['getProp']('motion_2');if(!(!_0x282bea||!_0x500115||!_0x15d3be)){for(let _0x5a054f=-0x16df+0xda*-0xa+0x1f63;_0x5a054f<this['numSplats'];++_0x5a054f)_0x2079ea[_0x5a054f*(-0x15*0xee+0x626+0x1*0xd63)+(0x56*-0x6a+0x1*-0x5db+0x2977)]=_0x282bea[_0x5a054f],_0x2079ea[_0x5a054f*(-0xe*-0x2c5+0x11*-0x1f9+0x3*-0x1be)+(0x2206+-0x3*0x14b+0x4*-0x789)]=_0x500115[_0x5a054f],_0x2079ea[_0x5a054f*(-0x7b*0x3e+0x177d+0x650)+(-0x148c+-0x2214+0xde*0x3f)]=_0x15d3be[_0x5a054f];}}['getTimeInd'+'ex'](_0x44bdf1){const _0x67652e=this['getProp']('time_index');_0x67652e&&_0x44bdf1['set'](_0x67652e,0x5d*0x5f+-0x40e+-0x1e75);}['calcFocalP'+'oint'](_0x47ba42,_0x4585aa){const _0x3457ee=this['getProp']('x'),_0x18969c=this['getProp']('y'),_0x67edd2=this['getProp']('z'),_0x31c976=this['getProp']('scale_0'),_0x44b5a5=this['getProp']('scale_1'),_0x1dd781=this['getProp']('scale_2');_0x47ba42['x']=0x1c+-0x10f*0xe+0xeb6,_0x47ba42['y']=0x19f4+-0xbd*0x2d+-0x1*-0x745,_0x47ba42['z']=-0x6*0x1c9+-0x24c5+-0x97f*-0x5;let _0x3ff616=0x1087+-0xef*-0xf+-0x1e88;for(let _0x548129=0x1*-0x1043+0x3*0x10f+0xd16;_0x548129<this['numSplats'];++_0x548129){if(_0x4585aa&&!_0x4585aa(_0x548129))continue;const _0x3eb0d0=(0x9e7+-0x420+-0x5c6)/(-0xf75*-0x1+-0x774+-0x800+Math['exp'](Math['max'](_0x31c976[_0x548129],_0x44b5a5[_0x548129],_0x1dd781[_0x548129])));_0x47ba42['x']+=_0x3457ee[_0x548129]*_0x3eb0d0,_0x47ba42['y']+=_0x18969c[_0x548129]*_0x3eb0d0,_0x47ba42['z']+=_0x67edd2[_0x548129]*_0x3eb0d0,_0x3ff616+=_0x3eb0d0;}_0x47ba42['mulScalar']((-0x110b+0x1*-0x23a+0x9a3*0x2)/_0x3ff616);}['renderWire'+'frameBound'+'s'](_0x5c56d9,_0x463087){const _0x2b852f=new T(),_0x587199=new se(),_0x557c00=new T(),_0xb6d6d1=new T(),_0x5b0696=new T(),_0x3a153a=this['createIter'](_0x2b852f,_0x587199,_0x557c00);for(let _0x5ed7b3=0x1964+0x149*-0x11+-0x38b;_0x5ed7b3<this['numSplats'];++_0x5ed7b3)_0x3a153a['read'](_0x5ed7b3),z_(Fn,_0x2b852f,_0x587199),Fn['mul2'](_0x463087,Fn),_0xb6d6d1['set'](_0x557c00['x']*-(0x1013+-0x2600+0x15ef),_0x557c00['y']*-(0x47*0x71+-0x1607*0x1+-0x94e),_0x557c00['z']*-(-0x1*-0x391+-0x153*-0x3+-0x1*0x788)),_0x5b0696['set'](_0x557c00['x']*(0x9c5*0x2+-0xc58+-0x730),_0x557c00['y']*(0x1f*0x52+0x38+-0xa24),_0x557c00['z']*(-0x810*-0x1+-0x1686+0xe78)),_0x5c56d9['immediate']['drawWireAl'+'ignedBox'](_0xb6d6d1,_0x5b0696,B1,!(0xa6+-0xc1e+0xb78),_0x5c56d9['defaultDra'+'wLayer'],Fn);}get['isCompress'+'ed'](){return!(0x50f+-0x2043*0x1+0x1b35);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3dff76=-0x688+0x770+-0x8*0x1d;_0x3dff76<-0xffe+-0xad1*-0x1+0x2ad*0x2;++_0x3dff76)if(!this['getProp']('f_rest_'+_0x3dff76))return _0x3dff76;return-0xf31*0x1+0x1*-0x1e08+0x4e*0x95;})())]??-0x71f*-0x1+0x9bb+-0x10da;}['calcMorton'+'Order'](){const _0x45feab=_0x3118d9=>{let _0x56978d=_0x3118d9[-0xc69*-0x3+0x1921*-0x1+-0xc1a],_0x4728f9=_0x3118d9[-0x26b+-0x321*0xb+-0x75e*-0x5];for(let _0x30f24b=-0xd*0x275+-0x9*-0x8d+0x1afd;_0x30f24b<_0x3118d9['length'];_0x30f24b++)_0x3118d9[_0x30f24b]<_0x56978d&&(_0x56978d=_0x3118d9[_0x30f24b]),_0x3118d9[_0x30f24b]>_0x4728f9&&(_0x4728f9=_0x3118d9[_0x30f24b]);return{'min':_0x56978d,'max':_0x4728f9};},_0x40936f=(_0x1aca47,_0x28ba6b,_0xfe86d9)=>{const _0x5a5ebf=_0x595270=>(_0x595270&=0x1dde+-0xf1*-0x20+-0x37ff,_0x595270=(_0x595270^_0x595270<<0x215+-0x21a5+0x2*0xfd0)&-0xc2c95bd*-0x1d+-0xb*-0x1ce2854e+0x2*-0xcfe457e2,_0x595270=(_0x595270^_0x595270<<0xc6f+0xca+-0xd31)&0x5b75*0x44+-0x1*0x292cccf+0x57b71ca,_0x595270=(_0x595270^_0x595270<<0x22b6+0x2350+-0x4602)&0x612c509+0x2034cf5+-0x509e13b*0x1,_0x595270=(_0x595270^_0x595270<<-0x151e+0x25f6+-0x10d6)&0x7f90d5d+0x1ff7f*0xf7+-0xc1fe9d,_0x595270);return(_0x5a5ebf(_0xfe86d9)<<0x814+0x1c3a+-0x244c)+(_0x5a5ebf(_0x28ba6b)<<-0x5*0xa9+0x141*0x4+0x3*-0x92)+_0x5a5ebf(_0x1aca47);},_0x46c6b8=this['getProp']('x'),_0x24dc55=this['getProp']('y'),_0x4281cf=this['getProp']('z'),{min:_0x36f0e4,max:_0x267146}=_0x45feab(_0x46c6b8),{min:_0x262396,max:_0x3d42a3}=_0x45feab(_0x24dc55),{min:_0x3d6eea,max:_0x4c2bb3}=_0x45feab(_0x4281cf),_0x507760=_0x36f0e4===_0x267146?0x1c12*0x1+-0x3*-0x1f3+-0x1c9*0x13:(-0x9*-0x3e5+-0x26*0x88+-0xadd)/(_0x267146-_0x36f0e4),_0x3aacdc=_0x262396===_0x3d42a3?0x132c+0x1ac3+-0x2def:(0x2332+-0x6*0x2ba+-0xed6)/(_0x3d42a3-_0x262396),_0x123158=_0x3d6eea===_0x4c2bb3?-0xf4*0x2+-0x1*0x16b5+0x189d:(-0x25f*0x7+-0x2e4+0x177d)/(_0x4c2bb3-_0x3d6eea),_0x5518c9=new Map();for(let _0x4bd9cf=-0x26*0xcd+0x45*-0x4f+-0x33b9*-0x1;_0x4bd9cf<this['numSplats'];_0x4bd9cf++){const _0x2e0871=Math['floor']((_0x46c6b8[_0x4bd9cf]-_0x36f0e4)*_0x507760),_0x24c4a8=Math['floor']((_0x24dc55[_0x4bd9cf]-_0x262396)*_0x3aacdc),_0xbcdf48=Math['floor']((_0x4281cf[_0x4bd9cf]-_0x3d6eea)*_0x123158),_0x232d3b=_0x40936f(_0x2e0871,_0x24c4a8,_0xbcdf48),_0x3a54e6=_0x5518c9['get'](_0x232d3b);_0x3a54e6?_0x3a54e6['push'](_0x4bd9cf):_0x5518c9['set'](_0x232d3b,[_0x4bd9cf]);}const _0x3ab33c=Array['from'](_0x5518c9['keys']())['sort']((_0x34395e,_0x37affe)=>_0x34395e-_0x37affe),_0x9f597d=new Uint32Array(this['numSplats']);let _0x6c3875=0x496*-0x4+-0x1c1*0x12+-0x2*-0x18f5;for(let _0x2b9744=0x1202+0x88*-0x8+-0xdc2;_0x2b9744<_0x3ab33c['length'];++_0x2b9744){const _0x20988c=_0x5518c9['get'](_0x3ab33c[_0x2b9744]);for(let _0x3c4757=0x1f2d+0xb7*0x7+-0x242e;_0x3c4757<_0x20988c['length'];++_0x3c4757)_0x9f597d[_0x6c3875++]=_0x20988c[_0x3c4757];}return _0x9f597d;}['reorder'](_0x593f90){const _0x63608e=new Map(),_0x2a9c11=_0x47ab99=>{if(_0x63608e['has'](_0x47ab99)){const _0x53972d=_0x63608e['get'](_0x47ab99);return _0x63608e['delete'](_0x47ab99),_0x53972d;}return new ArrayBuffer(_0x47ab99);},_0x51e0c3=_0x54c5e3=>{_0x63608e['set'](_0x54c5e3['byteLength'],_0x54c5e3);},_0xe16db1=_0x45e16d=>{const _0x194c65=new _0x45e16d['constructo'+'r'](_0x2a9c11(_0x45e16d['byteLength']));for(let _0x457c75=0x2ea*-0xb+0xf*0x127+0xec5;_0x457c75<_0x593f90['length'];_0x457c75++)_0x194c65[_0x457c75]=_0x45e16d[_0x593f90[_0x457c75]];return _0x51e0c3(_0x45e16d['buffer']),_0x194c65;};this['elements']['forEach'](_0x5d04ff=>{_0x5d04ff['properties']['forEach'](_0x172ea7=>{_0x172ea7['storage']&&(_0x172ea7['storage']=_0xe16db1(_0x172ea7['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const z0=(_0x280e98={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x3e01e1=_0x280e98['dither']??Rs,_0x5969cd=_0x3e01e1!==Rs,_0x3a4684=new Ra({'uniqueName':'SplatMater'+'ial','vertexCode':_0x280e98['vertex']??X['gsplatVS'],'fragmentCode':_0x280e98['fragment']??X['gsplatPS'],'attributes':{'vertex_position':He,'vertex_id_attrib':ga}});return _0x3a4684['setDefine']('DITHER_'+_0x3e01e1['toUpperCas'+'e'](),''),_0x3a4684['cull']=mt,_0x3a4684['blendType']=_0x5969cd?is:hr,_0x3a4684['depthWrite']=_0x5969cd,_0x3a4684['update'](),_0x3a4684;};async function z1(){self['onmessage']=async _0x4c5987=>{const {data:_0x525b78}=_0x4c5987;switch(_0x525b78['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x2daa66(_0x525b78['numSplats'],_0x525b78['shBands'],_0x525b78['SHData']);break;}};const _0x2daa66=(_0x598ecf,_0x50bbd3,_0x2728e2)=>{const _0xc85920=new Uint32Array(_0x598ecf*(-0x262+0x18ad+0x1*-0x1647)),_0x3be3e1=new Uint32Array(_0x598ecf*(-0x20d*0x13+0x2376+-0x35*-0x11)),_0x420bbd=new Uint32Array(_0x598ecf*(-0x9*-0x337+-0x1ebb+0x1d0)),_0x13f8f5=new Uint32Array(_0x598ecf*(-0xc85+-0x5f7*0x6+0x59*0x8b)),_0x4efd2c={0x1:0x3,0x2:0x8,0x3:0xf}[_0x50bbd3],_0x158512=_0x2728e2,_0x262af5=-0x219a+0x5ad*0x4+0x7*0x2b3,_0x3a5053=0x600+0x689*-0x5+-0x1eac*-0x1,_0x3872a2=new Float32Array(-0xeac*-0x2+0x1bfc+0x3953*-0x1),_0x61b639=new Uint32Array(_0x3872a2['buffer']),_0x120de3=new Array(_0x4efd2c*(-0xbe9*0x1+-0x2*-0x10f1+-0x15f6))['fill'](0x4c*0x26+0x410*0x6+-0x23a8);for(let _0x2b2f42=-0x1fe3+-0x9a3*0x1+0x2986;_0x2b2f42<_0x598ecf;++_0x2b2f42){for(let _0x2ba36c=-0x49*0x75+-0x19*-0x160+-0x103;_0x2ba36c<_0x4efd2c;++_0x2ba36c)_0x120de3[_0x2ba36c*(-0x125*0x22+0x2545+0x8*0x35)]=_0x158512[_0x2ba36c][_0x2b2f42],_0x120de3[_0x2ba36c*(-0x1*0x1807+-0x1*-0xb9a+0xc70)+(0x1*-0x143d+0x4d*0x1+0x13f1)]=_0x158512[_0x2ba36c+_0x4efd2c][_0x2b2f42],_0x120de3[_0x2ba36c*(-0x11c2+-0x39*0x9f+0x352c)+(0x787+-0x2647+0x1f*0xfe)]=_0x158512[_0x2ba36c+_0x4efd2c*(-0xcac*0x3+0x1*-0x26ca+-0x99a*-0x8)][_0x2b2f42];let _0x2ee5f6=_0x120de3[-0x1df4+-0x5b1+0x23a5];for(let _0x2a867f=-0x48d*-0x8+0x8*0x220+-0x3567;_0x2a867f<_0x4efd2c*(-0x1*-0x1e9e+0x14bf+-0x335a);++_0x2a867f)_0x2ee5f6=Math['max'](_0x2ee5f6,Math['abs'](_0x120de3[_0x2a867f]));if(_0x2ee5f6!==-0x1218+0xab1+0x767*0x1){for(let _0x38379d=0x2359+0x11e8+0x1*-0x3541;_0x38379d<_0x4efd2c;++_0x38379d)_0x120de3[_0x38379d*(-0x2*-0x615+0x77c*0x2+-0x1b1f)+(-0x77a*-0x4+0x1111*-0x2+-0x43a*-0x1)]=Math['max'](-0x64*0x49+-0x141c+0x30a0,Math['min'](_0x262af5,Math['floor']((_0x120de3[_0x38379d*(0xf83*-0x1+0xc10+0x376)+(0x10*-0xdd+-0x1d13*-0x1+-0xf43)]/_0x2ee5f6*(0x22*0x4+0x11d3+0x25*-0x7f+0.5)+(-0x1117+0x1121*-0x1+0x2238+0.5))*_0x262af5+(-0x2e5*-0xc+-0x1*-0xb48+-0x26*0x136+0.5)))),_0x120de3[_0x38379d*(-0x1*0x1d1+-0x707+-0x8db*-0x1)+(0x1c94+0xb7f*0x3+0x3f1*-0x10)]=Math['max'](-0x2015+0x1*0x23eb+-0x3d6,Math['min'](_0x3a5053,Math['floor']((_0x120de3[_0x38379d*(-0x19a4+-0x9a3+0x1*0x234a)+(0x1100*0x1+0x3*-0x7d2+0x5*0x14b)]/_0x2ee5f6*(0x1*0xdf1+-0x1b42*-0x1+-0x2933+0.5)+(0x238a+0x2627*0x1+0x21b*-0x23+0.5))*_0x3a5053+(-0xbf*0x29+0x1f1a+-0x83*0x1+0.5)))),_0x120de3[_0x38379d*(-0x1*-0xa6f+0x1e95*-0x1+0xd*0x18d)+(-0x1ede+-0x2039*0x1+-0x1d*-0x22d)]=Math['max'](0x94f*-0x2+-0x3c4+0x1662,Math['min'](_0x262af5,Math['floor']((_0x120de3[_0x38379d*(-0x1*-0x1cc5+-0x142a+-0x19*0x58)+(-0x78*0x51+-0x41*-0x38+0x17c2)]/_0x2ee5f6*(0x31*0x64+0x43*-0x4+-0x1218+0.5)+(-0x2a3+-0x24bd+0x2760+0.5))*_0x262af5+(-0x16*-0x2a+-0xfd*0x4+0x58+0.5))));_0x3872a2[0x26a2+-0x150c+-0x1196]=_0x2ee5f6,_0xc85920[_0x2b2f42*(0x1*-0x24a7+-0x8d*0x6+0x27f9)+(-0x1*-0x1835+0x41f+-0xe2a*0x2)]=_0x61b639[-0x3*0x783+0x25*-0x3e+0x1f7f],_0xc85920[_0x2b2f42*(0x665*0x1+-0x403*0x8+0x19b7*0x1)+(0x1c23+-0x1cf1+-0x45*-0x3)]=_0x120de3[-0x1a1b+-0x252d*-0x1+0x1*-0xb12]<<-0x21*-0x62+-0x1*0x823+-0x46a|_0x120de3[-0x145+-0x236f+0x24b5]<<-0x1*-0x270e+-0x1376+-0x138d|_0x120de3[-0x13a3+0x2669+-0x12c4],_0xc85920[_0x2b2f42*(0x21f1*-0x1+0x1*-0xcf2+-0x2ee7*-0x1)+(0x8ee+0x169+-0xa55)]=_0x120de3[0x33*0x97+0x623*0x2+0x21e*-0x14]<<0x22a4+0x102f*0x1+-0x32be|_0x120de3[-0xe6c+0xe43+0x2d]<<0x29*0x77+0x1c95+-0x2f99|_0x120de3[0x1e5f+-0x233*0x1+-0x1*0x1c27],_0xc85920[_0x2b2f42*(-0x70f*0x1+0xcb*-0x31+0x16f7*0x2)+(0x154c+0x4f1+-0x1a3a)]=_0x120de3[0x157*0x13+-0xd8b+-0xbe4]<<0xbdd+-0x1450+0x888|_0x120de3[0x9*0xc5+-0x255f+0x1e79]<<-0x1127*-0x2+-0x5ab*-0x4+-0x38ef|_0x120de3[0x2449*-0x1+-0x142b+0x3c*0xf1],_0x50bbd3>0xd11*0x1+-0x5e6+-0x72a&&(_0x3be3e1[_0x2b2f42*(0x4e1*-0x2+-0x4*0x5f9+0x21aa)+(-0x1ab3+0x6*-0x359+-0x1d*-0x19d)]=_0x120de3[-0x2308+0x6*0x4d8+0x35*0x1d]<<-0xee8+0x166c+-0x76f|_0x120de3[-0x1fe0+0x110f*0x1+-0x1*-0xedb]<<0x5e*-0x3b+-0x2231+0x37e6|_0x120de3[0x63d*-0x2+-0x17fd+-0x1241*-0x2],_0x3be3e1[_0x2b2f42*(-0x165+0x2*0x3ad+0x9*-0xa9)+(0xe*0xf9+0x1e3+0x1f0*-0x8)]=_0x120de3[-0x3*-0x2c+0xcab*0x1+-0xd23]<<-0xd20+-0x398+-0x11*-0xfd|_0x120de3[-0xe09*-0x1+-0x8b1+-0x54b]<<-0x1*-0x1ae7+-0xf*-0x1d+-0x1c8f|_0x120de3[-0x419+-0x1*0x1a85+-0x34*-0x97],_0x3be3e1[_0x2b2f42*(-0x8b*0x13+-0xac1+-0x1516*-0x1)+(0x1743+0xea5*0x1+-0x25e6)]=_0x120de3[-0x1*0xd9b+0x1cad+-0xf03]<<0x24*-0x5c+-0xc73*-0x1+-0x2*-0x49|_0x120de3[-0x91a*0x1+0x9*0x2f9+-0x1197]<<0x10*0x61+0xbd5+0x1*-0x11da|_0x120de3[-0x1b6f+-0x1b*0xbf+0x2fa5],_0x3be3e1[_0x2b2f42*(-0x1d23*-0x1+-0x1*0x923+-0x9fe*0x2)+(0x19f+0x20a1+-0x6d9*0x5)]=_0x120de3[0x248e+-0x24b4+0xe*0x4]<<0x13f*0xb+-0x6e4+-0x6bc|_0x120de3[-0x1c41+-0xb*-0xdf+0x12bf]<<0x15e3+-0x218f+0x1*0xbb7|_0x120de3[-0x21b5+0xe1d+0x4eb*0x4],_0x50bbd3>0x183+0x25bd+-0x2*0x139f?(_0x420bbd[_0x2b2f42*(0x12e0+0xb57+0x9*-0x35b)+(0x1*0x1f1b+0xbcb+-0x2ae6)]=_0x120de3[-0x5e4*0x3+-0x1*-0xc3e+-0x1*-0x583]<<0x1edd+0x25d5+-0x449d|_0x120de3[-0xba5+-0x14*-0x1f1+-0x1b19]<<0x1504+0x222a+0x3ad*-0xf|_0x120de3[0xbe6+0x26*0xeb+0x1*-0x2eb1],_0x420bbd[_0x2b2f42*(0x1d09+0x15a2+-0x32a7)+(-0x20e9+-0x1ba9+0x3c93)]=_0x120de3[0xa94+-0x5*0x3f1+0x939]<<0x744+-0x22eb*0x1+0x1bbc|_0x120de3[0x9c*0x1+-0xbc2+-0x1*-0xb3f]<<0x960+-0x6a0*-0x1+-0xff5|_0x120de3[0x1358+-0x1*-0x1cf8+-0x3036],_0x420bbd[_0x2b2f42*(-0x66*0x21+0x8b*-0x41+0x3075)+(0x2299+-0x2*0xea0+0x557*-0x1)]=_0x120de3[-0x4*0x526+-0x256a+-0x39*-0x105]<<0x78c+0x188f*0x1+0x2006*-0x1|_0x120de3[-0x1*0x1561+-0x12da+0x2857]<<-0x1a51+-0x18a1+0x32fd|_0x120de3[0x26ec+0x89b*-0x3+-0xcfe],_0x420bbd[_0x2b2f42*(0x1*-0x1dae+0x2*0x33f+-0x9*-0x294)+(0x5*0x6a1+0x1680+-0x37a2)]=_0x120de3[-0x47*-0x72+-0x26c0+0x20*0x3a]<<0x1*-0x135d+-0x14*0x10d+0x2876|_0x120de3[0x37*0x10+0x184d*-0x1+0x14fc]<<-0x2b*0x9f+0x1260+0x860|_0x120de3[0x1*-0x472+0x2*0xd87+-0x167c],_0x13f8f5[_0x2b2f42*(0x236a+0x121f+-0x3585)+(-0x3*-0xabd+-0x11*-0x15d+-0x3764)]=_0x120de3[0x1192*-0x1+-0x1b7*-0xe+-0x5f*0x11]<<0x22e9+0x1072+-0x1*0x3346|_0x120de3[0x2401+-0xa52*-0x1+-0x2e31]<<-0x2*0x8c9+0xc03+0x3*0x1de|_0x120de3[-0x6ee*0x4+-0x11a9+-0x6*-0x796],_0x13f8f5[_0x2b2f42*(-0x48*0x6+-0x2280+0x14b*0x1c)+(0x17*0x12b+0x8a9*0x1+0x15*-0x1b1)]=_0x120de3[-0x2*-0x75a+-0x1262+0x3d2]<<0x13*-0xac+0x4fd*-0x3+0x5*0x590|_0x120de3[0x14d1*0x1+0x1b19+0x7*-0x6d3]<<0xf5*-0xf+-0xc0d+0x1a73|_0x120de3[0x5*-0x185+0x7b*0x28+0xb*-0x10b],_0x13f8f5[_0x2b2f42*(-0x1*0x88a+-0x53*-0x11+0x30b)+(0x1cf3*-0x1+-0x29*0xb2+0x3977*0x1)]=_0x120de3[-0x1b95+0x1ad7*-0x1+-0x3693*-0x1]<<0xec*-0x17+-0x2573+0x864*0x7|_0x120de3[0x321+0x4*-0x853+0x1e53]<<0x166*-0xd+-0x1ff9*-0x1+-0xdc0|_0x120de3[-0x7fc+0xad1*0x1+0x26*-0x12],_0x13f8f5[_0x2b2f42*(-0x1cab+-0x2*0x101b+0x3ce5)+(-0x26d5*-0x1+0x23e1+-0x1*0x4ab3)]=_0x120de3[-0x6c5+-0x1*0x9af+0x109e]<<-0x26a7+0xc91+0x1a2b|_0x120de3[-0xa*-0x109+-0x3*0x577+0x636]<<-0x478+-0x16f3+0x1b76|_0x120de3[-0x10f1*-0x1+-0x5*0x5cf+0xc46]):_0x420bbd[_0x2b2f42]=_0x120de3[-0xe65+0x21*-0x123+0x33fd]<<0x8*0x79+-0x711*0x1+-0x35e*-0x1|_0x120de3[-0x2584+-0x1096+0x3630]<<-0x46+-0xaa1+0x2*0x579|_0x120de3[0x4*-0x96b+-0x146+0x3*0xd03]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0xc85920,'sh4to7Data':_0x3be3e1,'sh8to11Data':_0x420bbd,'sh12to15Data':_0x13f8f5},[_0xc85920['buffer'],_0x3be3e1['buffer'],_0x420bbd['buffer'],_0x13f8f5['buffer']]);};}class U1 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+z1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x284aa1=>{if(!this['worker'])return;const {data:_0x5a93e0}=_0x284aa1;switch(_0x5a93e0['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x5a93e0['sh1to3Data'],_0x5a93e0['sh4to7Data'],_0x5a93e0['sh8to11Dat'+'a'],_0x5a93e0['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x11a54c,_0x23656b,_0x41afb1){var _0x262cbd;(_0x262cbd=this['worker'])==null||_0x262cbd['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x11a54c,'shBands':_0x23656b,'SHData':_0x41afb1});}['destroy'](){var _0x25efeb;this['worker']&&((_0x25efeb=this['worker'])==null||_0x25efeb['terminate'](),this['worker']=null);}}const U_=(_0x35f8ce,_0x22a7c2)=>{const _0x290ce3=[];for(let _0x314b6a=-0x1a*-0x1a+-0x72e+-0x53*-0xe;_0x314b6a<_0x22a7c2;++_0x314b6a)_0x290ce3['push'](_0x35f8ce['getProp']('f_rest_'+_0x314b6a));return _0x290ce3;};class V1{constructor(_0x385f62,_0x27e09a){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x2ba697=_0x27e09a['numSplats'];this['device']=_0x385f62,this['numSplats']=_0x2ba697,this['numSplatsV'+'isible']=_0x2ba697,this['updateData'+'Worker']=new U1(),this['centers']=new Float32Array(_0x27e09a['numSplats']*(0x7d*0x3d+-0x179f*0x1+0x2d*-0x23)),this['motion']=new Float32Array(_0x27e09a['numSplats']*(-0x8c5+0x1ac*-0x2+0xc2*0x10)),this['timeIndex']=new Float32Array(_0x27e09a['numSplats']),_0x27e09a['getCenters'](this['centers']),_0x27e09a['getMotion'](this['motion']),_0x27e09a['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x27e09a['getMuT'](this['timeOption']),this['tScale']=_0x27e09a['getTScale'](),this['is4D']=_0x27e09a['is4D'],this['aabb']=new _e(),_0x27e09a['calcAabb'](this['aabb']);const _0x2b9a3b=this['evalTextur'+'eSize'](_0x2ba697);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x2b9a3b),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x2b9a3b),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x2b9a3b),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x2b9a3b),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x2b9a3b),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x2b9a3b)),this['updateColo'+'rData'](_0x27e09a),this['updateTran'+'sformData'](_0x27e09a),this['shBands']=_0x27e09a['shBands'],this['shBands']>0x1*0x1b1b+-0xd0b+-0xe10&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x2b9a3b),this['shBands']>-0xdc3+-0x10d8+0x3*0xa34&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x2b9a3b),this['shBands']>0x1e50+-0xfeb*-0x1+0x1*-0x2e39?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x2b9a3b),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x2b9a3b)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x2b9a3b)),this['updateSHDa'+'ta'](_0x27e09a));}['updateData'](_0x4b37b5){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x295311=_0x4b37b5['numSplats'];this['numSplats']=_0x295311,this['numSplatsV'+'isible']=_0x295311,this['centers']=new Float32Array(_0x4b37b5['numSplats']*(0x218b*0x1+-0xb73+-0x1615)),this['motion']=new Float32Array(_0x4b37b5['numSplats']*(0xa3f+0x24b3+-0x2eef)),this['timeIndex']=new Float32Array(_0x4b37b5['numSplats']),_0x4b37b5['getCenters'](this['centers']),_0x4b37b5['getMotion'](this['motion']),_0x4b37b5['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x4b37b5['getMuT'](this['timeOption']),this['tScale']=_0x4b37b5['getTScale'](),this['is4D']=_0x4b37b5['is4D'],this['aabb']=new _e(),_0x4b37b5['calcAabb'](this['aabb']);const _0x35b425=this['evalTextur'+'eSize'](_0x295311);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',Je,_0x35b425),this['transformA'+'Texture']=this['createText'+'ure']('transformA',ut,_0x35b425),this['transformB'+'Texture']=this['createText'+'ure']('transformB',Je,_0x35b425),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ke,_0x35b425),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',Ke,_0x35b425),this['transformT'+'Texture']=this['createText'+'ure']('transformT',Ke,_0x35b425)),this['updateColo'+'rData'](_0x4b37b5),this['updateTran'+'sformData'](_0x4b37b5),this['shBands']=_0x4b37b5['shBands'],this['shBands']>-0x3*-0x5ad+-0xdab+-0x35c&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',ut,_0x35b425),this['shBands']>0x3e6*-0x2+0x254e+0x437*-0x7&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',ut,_0x35b425),this['shBands']>-0x1793+0x2*-0x137+0x1*0x1a03?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',ut,_0x35b425),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',ut,_0x35b425)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',an,_0x35b425)),this['updateSHDa'+'ta'](_0x4b37b5));}['destroy'](){var _0x26ea36,_0x225d52,_0x1731ae,_0x559243,_0x8af040,_0x170b06,_0x49eddc,_0x474122,_0x9d752b,_0x39a8db;(_0x26ea36=this['colorTextu'+'re'])==null||_0x26ea36['destroy'](),(_0x225d52=this['transformA'+'Texture'])==null||_0x225d52['destroy'](),(_0x1731ae=this['transformB'+'Texture'])==null||_0x1731ae['destroy'](),(_0x559243=this['transformR'+'Texture'])==null||_0x559243['destroy'](),(_0x8af040=this['transformT'+'SpeedTextu'+'re'])==null||_0x8af040['destroy'](),(_0x170b06=this['transformT'+'Texture'])==null||_0x170b06['destroy'](),(_0x49eddc=this['sh1to3Text'+'ure'])==null||_0x49eddc['destroy'](),(_0x474122=this['sh4to7Text'+'ure'])==null||_0x474122['destroy'](),(_0x9d752b=this['sh8to11Tex'+'ture'])==null||_0x9d752b['destroy'](),(_0x39a8db=this['sh12to15Te'+'xture'])==null||_0x39a8db['destroy']();}['createMate'+'rial'](_0x2cdc95){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0xca2af3=z0(_0x2cdc95);return _0xca2af3['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0xca2af3['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0xca2af3['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0xca2af3['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0xca2af3['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0xca2af3['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0xca2af3['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0xca2af3['setDefine']('SH_BANDS',this['shBands']),_0xca2af3['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0xca2af3['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0xca2af3['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0xca2af3['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0xca2af3['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0xca2af3;}['evalTextur'+'eSize'](_0x4e9e6c){const _0x13640e=Math['ceil'](Math['sqrt'](_0x4e9e6c)),_0x2de165=Math['ceil'](_0x4e9e6c/_0x13640e);return new W(_0x13640e,_0x2de165);}['createText'+'ure'](_0x5d3006,_0x13e170,_0x254159){return new he(this['device'],{'name':_0x5d3006,'width':_0x254159['x'],'height':_0x254159['y'],'format':_0x13e170,'cubemap':!(-0x51*0x5c+0xd4+-0x1*-0x1c49),'mipmaps':!(-0x100*-0xa+0x5*-0x4fa+0xee3),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['updateColo'+'rData'](_0x3215f3){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x37d33f=this['colorTextu'+'re'];if(!_0x37d33f)return;const _0x43618e=Wt['float2Half'],_0x198aa7=_0x37d33f['lock'](),_0x575df3=_0x3215f3['getProp']('f_dc_0'),_0x2390d0=_0x3215f3['getProp']('f_dc_1'),_0x45b5bb=_0x3215f3['getProp']('f_dc_2'),_0x57c56d=_0x3215f3['getProp']('opacity'),_0x765c8d=0x6*0x150+-0x184c+0x106c*0x1+0.28209479177387814;for(let _0x2af3e3=-0x148e+0x2a6+0x11e8;_0x2af3e3<this['numSplats'];++_0x2af3e3){const _0x4f2e37=_0x575df3[_0x2af3e3]*_0x765c8d+(0x15b2+-0xbca+-0x27a*0x4+0.5),_0x1774a1=_0x2390d0[_0x2af3e3]*_0x765c8d+(0x1016+0x2665+-0x367b+0.5),_0x59959a=_0x45b5bb[_0x2af3e3]*_0x765c8d+(0x1c39+0x2ee*-0x4+-0x5*0x34d+0.5),_0xe211c3=(-0xe59*-0x1+0x14*0x10b+-0x2334)/(0x26c1*-0x1+-0x2*0xb3e+0x3d3e+Math['exp'](-_0x57c56d[_0x2af3e3]));_0x198aa7[_0x2af3e3*(-0x704*0x2+0x162c+-0x820)+(-0x1256+-0x98*0x31+0x2f6e)]=_0x43618e(_0x4f2e37),_0x198aa7[_0x2af3e3*(0x1360+0x1ba*-0x5+-0xaba)+(0x993+-0x1b45+-0x17*-0xc5)]=_0x43618e(_0x1774a1),_0x198aa7[_0x2af3e3*(-0xb93+0xebd+-0x326)+(-0x1b34*0x1+-0x1*-0x1cd6+-0x2*0xd0)]=_0x43618e(_0x59959a),_0x198aa7[_0x2af3e3*(0x1*-0x16b9+-0x26a+0x1927)+(0x2611+0xe*-0xc2+-0x1b72)]=_0x43618e(_0xe211c3);}_0x37d33f['unlock']();}['updateTran'+'sformData'](_0x3d08be){var _0x591034,_0x1a0d72,_0x2faaf2,_0x4a4a13;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x116078=Wt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x2dd6b0=this['transformA'+'Texture']['lock'](),_0x5597ef=new Float32Array(_0x2dd6b0['buffer']),_0x5a687a=this['transformR'+'Texture']['lock'](),_0x35e01e=new Float32Array(_0x5a687a['buffer']),_0x59ab9d=this['transformB'+'Texture']['lock'](),_0x3f714c=(_0x591034=this['transformT'+'SpeedTextu'+'re'])==null?void(0x60d*0x4+-0x2394+-0xe*-0xd0):_0x591034['lock']();let _0x358012;_0x3f714c&&(_0x358012=new Float32Array(_0x3f714c['buffer']));const _0x42c0d9=(_0x1a0d72=this['transformT'+'Texture'])==null?void(0x1*-0xe09+0x320*-0x5+0x3*0x9e3):_0x1a0d72['lock']();let _0x344df5;_0x42c0d9&&(_0x344df5=new Float32Array(_0x42c0d9['buffer']));const _0x2b696c=new T(),_0x4b73d3=new se(),_0x4acb55=new T(),_0x2e6e68=new T(),_0x329fa3=_0x3d08be['createIter'](_0x2b696c,_0x4b73d3,_0x4acb55,null,_0x2e6e68),_0x59e72c=_0x3d08be['getProp']('t'),_0x1e9a48=_0x3d08be['getProp']('t_scale');for(let _0x273cfc=-0x1fb1+-0x1d7e+-0x1465*-0x3;_0x273cfc<this['numSplats'];_0x273cfc++)_0x329fa3['read'](_0x273cfc),_0x4b73d3['normalize'](),_0x4b73d3['w']<0x6*-0x623+-0x6*0x25+0x10*0x25b&&_0x4b73d3['mulScalar'](-(0xf23+0xe60+-0x9d6*0x3)),_0x5597ef[_0x273cfc*(0x373*0x1+-0x6ed+0x37e*0x1)+(-0x1*-0x1c52+0x2507*-0x1+0x8b5)]=_0x2b696c['x'],_0x5597ef[_0x273cfc*(0x332+0x1a5b+0x1*-0x1d89)+(-0x1c98+-0x1e58*0x1+-0x4f*-0xbf)]=_0x2b696c['y'],_0x5597ef[_0x273cfc*(-0x133d+0x15d4+-0x293)+(0x1d1e*-0x1+-0x1c8a*0x1+-0x3d*-0xf2)]=_0x2b696c['z'],_0x59ab9d[_0x273cfc*(0xa*0x22d+0x79e+-0x1d5c)+(0x1910*-0x1+-0x2137+-0x3*-0x136d)]=_0x116078(_0x4acb55['x']),_0x59ab9d[_0x273cfc*(0x4c0+-0x1*0xfbf+0x1*0xb03)+(0x245d+-0x5*-0x55a+-0x3f1e)]=_0x116078(_0x4acb55['y']),_0x59ab9d[_0x273cfc*(0x1507+0xf9*-0x21+0xb16)+(-0x1*-0x22b4+0x308*-0x4+-0x1692)]=_0x116078(_0x4acb55['z']),_0x35e01e[_0x273cfc*(-0x4*-0x17e+-0x93f*-0x1+0x511*-0x3)+(-0x3ae+0x123*0x1d+-0x93*0x33)]=_0x4b73d3['x'],_0x35e01e[_0x273cfc*(0x204c+0x1af0+-0x3b38)+(0x33*-0x9e+0xd4a+0x1231)]=_0x4b73d3['y'],_0x35e01e[_0x273cfc*(-0x196e+-0x1*-0x1266+0x70c)+(-0x6e7+-0x1*-0xc2b+-0x542)]=_0x4b73d3['z'],this['is4D']&&_0x358012&&_0x344df5&&(_0x358012[_0x273cfc*(0x8e2+-0x2*-0x901+-0x1ae0)+(0x1be9+-0x1*-0x949+-0x2*0x1299)]=_0x2e6e68['x'],_0x358012[_0x273cfc*(0x1*0x1b03+0x10c*0xa+-0x2577)+(0x1e48+-0xa62+-0x13e5)]=_0x2e6e68['y'],_0x358012[_0x273cfc*(-0x634*-0x2+-0x83*-0x39+0x1*-0x298f)+(0x19*0x151+-0x69e+0x3*-0x8c3)]=_0x2e6e68['z'],_0x344df5[_0x273cfc*(0x10be+-0x96f+-0x74b)+(0xa*-0x3ce+-0xc*-0x31f+0x4*0x26)]=_0x59e72c?_0x59e72c[_0x273cfc]:0x3dc+-0x1ebf+0x1ae3,_0x344df5[_0x273cfc*(0x1*0x62+0x1f23*0x1+-0x1f81)+(0x1e57+-0x46+-0x1e10)]=_0x1e9a48?Math['exp'](_0x1e9a48[_0x273cfc]):0x637+0xb3b+-0x1172);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x2faaf2=this['transformT'+'SpeedTextu'+'re'])==null||_0x2faaf2['unlock'](),(_0x4a4a13=this['transformT'+'Texture'])==null||_0x4a4a13['unlock']();}['updateSHDa'+'ta'](_0x298277){var _0x514506,_0x1c7a02,_0x1e0244,_0x114f92,_0x25d80d,_0x17a534,_0x35c5fe;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x32135d=(_0x514506=this['sh1to3Text'+'ure'])==null?void(-0x1a3b+0x1c41+-0x206):_0x514506['lock'](),_0x349af2=(_0x1c7a02=this['sh4to7Text'+'ure'])==null?void(-0x1*-0x1139+-0x2f*0x89+0x7ee):_0x1c7a02['lock'](),_0x55ba2c=(_0x1e0244=this['sh8to11Tex'+'ture'])==null?void(0x279+-0x12a7+-0x2*-0x817):_0x1e0244['lock'](),_0x56a566=(_0x114f92=this['sh12to15Te'+'xture'])==null?void(-0xcce+-0x1cd0+0x299e):_0x114f92['lock'](),_0x5e9dad={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x5d0949=U_(_0x298277,_0x5e9dad*(-0xd91*0x1+-0x18bd+0x2651)),_0x4cbb50=0x21*0x52+-0x163c+0x13a9*0x1,_0x50a66f=0x74c+0x1d1e*-0x1+0x19d1,_0x5072a8=new Float32Array(-0x6d4+0x147a*0x1+-0xda5),_0x3062a4=new Uint32Array(_0x5072a8['buffer']),_0x4585c8=new Array(_0x5e9dad*(-0x2029+0x1545+0x1*0xae7))['fill'](0x1*0x134a+0x84f+-0x1b99);for(let _0x5cdfad=0x26b3+-0x114*0x5+-0x214f;_0x5cdfad<_0x298277['numSplats'];++_0x5cdfad){for(let _0x4278cd=-0xb*-0x175+-0x126d+0x266;_0x4278cd<_0x5e9dad;++_0x4278cd)_0x4585c8[_0x4278cd*(-0x13*-0x3c+0xbda*0x3+-0x27ff)]=_0x5d0949[_0x4278cd][_0x5cdfad],_0x4585c8[_0x4278cd*(-0x146e+0x5e6*0x2+0x8a5)+(-0x1220+0x487+-0x2*-0x6cd)]=_0x5d0949[_0x4278cd+_0x5e9dad][_0x5cdfad],_0x4585c8[_0x4278cd*(-0x887+-0x1047+0x18d1)+(-0xe68*-0x2+-0x20b1*0x1+0x3e3)]=_0x5d0949[_0x4278cd+_0x5e9dad*(-0x1bc3+-0x103e+0x13*0x251)][_0x5cdfad];let _0x27f671=_0x4585c8[-0x1318+-0x5*-0xef+0xe6d];for(let _0xeff903=0x3*-0xf+0x8*-0x487+0x2466;_0xeff903<_0x5e9dad*(-0xc6e+-0x61*-0x32+-0x25*0x2d);++_0xeff903)_0x27f671=Math['max'](_0x27f671,Math['abs'](_0x4585c8[_0xeff903]));if(_0x27f671!==-0x375+-0x689*-0x2+-0x99d){for(let _0x365aeb=-0x1bdb+0x1*0x1d93+-0x1b8;_0x365aeb<_0x5e9dad;++_0x365aeb)_0x4585c8[_0x365aeb*(-0x1e*-0x25+-0x2d9*0x9+0xca*0x1b)+(-0x1853+0xc8c*0x2+0x1*-0xc5)]=Math['max'](-0xffe+0x39e+-0xb*-0x120,Math['min'](_0x4cbb50,Math['floor']((_0x4585c8[_0x365aeb*(0x2*-0xa6d+-0x878*0x4+0x207*0x1b)+(0x1f51+0xfd4+0x9*-0x53d)]/_0x27f671*(-0x22*-0xa6+-0xb7e*-0x1+-0x218a+0.5)+(-0x6af+-0x1*0x16bc+0x1d6b+0.5))*_0x4cbb50+(0xb*-0x176+0x1327+-0x107*0x3+0.5)))),_0x4585c8[_0x365aeb*(-0x3e7+-0xb63+0xf4d*0x1)+(0xbab+0xffe+0x375*-0x8)]=Math['max'](-0x11bb+-0xb50+0x1*0x1d0b,Math['min'](_0x50a66f,Math['floor']((_0x4585c8[_0x365aeb*(-0x1a61*-0x1+-0x1d9b+0x1*0x33d)+(0x4*-0x6b6+0x1*0x746+0x1393)]/_0x27f671*(0x945+0x2206+0x1*-0x2b4b+0.5)+(0xfbc+-0x18e2+0x926+0.5))*_0x50a66f+(-0x1b0c+0xe08+0x7*0x1dc+0.5)))),_0x4585c8[_0x365aeb*(0x1ddb*-0x1+0x1*0xeeb+0xef3)+(-0x28d+-0x7c*0x10+-0xcb*-0xd)]=Math['max'](0x8*-0x449+-0x1153+0x339b,Math['min'](_0x4cbb50,Math['floor']((_0x4585c8[_0x365aeb*(0x1499+-0x1fe+-0x1298)+(0xa13+0x32b*0x2+-0x1067)]/_0x27f671*(-0x4*0x483+0x5*-0x650+0x319c+0.5)+(0x2195*0x1+-0xb*-0xf1+-0x2bf0+0.5))*_0x4cbb50+(0xaea+-0x1a93*-0x1+-0x1c9*0x15+0.5))));_0x5072a8[0x1c12+0x5ad+-0x21bf]=_0x27f671,_0x32135d[_0x5cdfad*(0x2ea+-0x1*0x10+-0x2d6)+(-0x255d+0x2*-0x983+0x3863)]=_0x3062a4[-0x4*-0x650+0x1*0xbbf+-0x24ff],_0x32135d[_0x5cdfad*(0x219a+-0x1*0x1582+0x305*-0x4)+(0xcdd*-0x1+-0x4*-0xad+0xa2a)]=_0x4585c8[-0x13ce+-0x151d+0x28eb]<<0x1c60+-0x16f7+-0x554|_0x4585c8[0x4ad+-0x4cd*0x7+0x1cef]<<-0xd*-0x2dd+0x67a+-0x2ba8|_0x4585c8[0x1a63+-0x854*-0x1+-0x22b5],_0x32135d[_0x5cdfad*(0xa12*0x3+-0x9af+-0x59*0x3b)+(-0x1*-0xd25+-0x13dd+-0x52*-0x15)]=_0x4585c8[0x1dcb+0x1526+-0x32ee]<<-0x8*-0x289+-0x1e9f+0xa6c|_0x4585c8[0x59*0x3b+-0x875+-0xc0a]<<0x2f*0x8b+0x3*0x9d5+-0x36f9|_0x4585c8[0x1e01*-0x1+0x5*0x337+0xdf3],_0x32135d[_0x5cdfad*(-0x806*-0x1+0x272*-0x7+0x91c)+(0x11*-0x1af+0x319+0x1989)]=_0x4585c8[0x2288+0x14fd*-0x1+0x1*-0xd85]<<0xe9d+0x1a9e+-0x2926|_0x4585c8[0x2*-0x52f+0x1283+-0x81e*0x1]<<0x1897+0x1b0b+-0x3397|_0x4585c8[-0x1fa5*-0x1+0x23b0+-0x3*0x166f],this['shBands']>-0x16a1+0x643+-0x17d*-0xb&&(_0x349af2[_0x5cdfad*(0x1*0x228a+0x1*0x565+-0xb*0x3a1)+(0x260+0x1ef2*0x1+-0x2152)]=_0x4585c8[0x3*-0x3+0x288+-0x276]<<0x9*-0x56+-0x16*0x2e+0x1*0x70f|_0x4585c8[-0x2706+0x17*-0x53+0x2e85]<<-0x195d*0x1+0x268*0xf+0xe4*-0xc|_0x4585c8[0x2250+0x239d+-0x45e2],_0x349af2[_0x5cdfad*(-0x833+0x1c89+-0x1452)+(-0x74c+0x2491+-0x751*0x4)]=_0x4585c8[0x8*-0x132+-0x28d*0x3+0x1143]<<-0x2f*-0x46+-0x592+-0x1*0x733|_0x4585c8[-0x26*-0xcd+-0x21a8+0x347]<<-0x2001+-0x13ac+0x33b8|_0x4585c8[0xd68+0x1e5c+-0x2bb6],_0x349af2[_0x5cdfad*(0x2e1*0x2+-0x19ef+0x1431*0x1)+(-0x8b6*-0x3+-0x1f*-0x88+-0x5e*0x74)]=_0x4585c8[-0x49*-0x32+0x1*0x151f+0xbc6*-0x3]<<-0x2218+0x195f*-0x1+0x3b8c|_0x4585c8[0xd*-0x2ad+0x1*-0x7af+0x2a88]<<0x173a+-0x6dd+-0x1052|_0x4585c8[-0x68e+-0x48a+0x1*0xb29],_0x349af2[_0x5cdfad*(-0x1*0x1722+-0x25d6+-0x3*-0x1454)+(0x5e9*0x4+-0x247e+-0x59*-0x25)]=_0x4585c8[-0x12bc+0x3ff*0x7+0x1*-0x92b]<<-0x236d+-0x19cf+0x1*0x3d51|_0x4585c8[0xced*-0x1+-0x1dcc*-0x1+-0x1*0x10cc]<<-0x1*0x7c3+-0x244f+-0x1eb*-0x17|_0x4585c8[-0x119a+-0x105d*-0x2+-0xf0c],this['shBands']>0x13a3+0x10f1+-0x2492?(_0x55ba2c[_0x5cdfad*(0x1*-0x17a5+0xa09*-0x1+0x2*0x10d9)+(-0x1*-0x1583+0x56b*0x7+-0x4*0xedc)]=_0x4585c8[-0x195*-0x3+0x2095*0x1+-0x253f]<<-0xa43*-0x3+-0x20a9+0xa7*0x3|_0x4585c8[0x204c+-0xbb8+-0x147e]<<-0x277*0x1+0x2c*-0xdd+0x287e|_0x4585c8[0x1*0x2643+-0x7*0x281+-0x421*0x5],_0x55ba2c[_0x5cdfad*(0x2*-0x94d+0x1d*-0x7f+0x2101)+(0x1d3e+-0x4bc+-0x1881)]=_0x4585c8[-0x38*-0x29+-0xa1e+0x13e]<<0x53*-0x5+0x1f7*-0xa+-0x3*-0x71e|_0x4585c8[0xfa9*0x1+0x2*-0xb7a+0x764]<<-0xfe8+-0x380*0x4+-0x29*-0xbb|_0x4585c8[-0xe14+-0x91*0x1b+-0x9d3*-0x3],_0x55ba2c[_0x5cdfad*(-0x390+-0x1af*-0x6+-0x686)+(0x1f5c+0x225*-0x6+-0xe*0x152)]=_0x4585c8[0x2445+0x2de*0x4+-0x43*0xb6]<<-0x760+0xc59+-0x4e4|_0x4585c8[0x7*0x39+-0x1edf*-0x1+-0x2052]<<-0x61f+0x39b*0x8+-0x16ae|_0x4585c8[0x17d6+0x6d*-0x2+-0x5*0x493],_0x55ba2c[_0x5cdfad*(-0x20*0x10c+-0x1*-0x1277+0xf0d)+(0x7d*-0x4e+0x2401+0x43*0x8)]=_0x4585c8[0x1e46+-0x3ed+0x55*-0x4f]<<-0xe*-0xd+0x201c+-0x121*0x1d|_0x4585c8[-0x24f7+0x207b+0x9*0x83]<<-0x1abf+0x1242*0x1+0x888|_0x4585c8[0x1*0x473+-0xd5a+0x907],_0x56a566[_0x5cdfad*(0x3*0x823+-0x47a+-0x13eb)+(-0x25d3+0xbb+-0x946*-0x4)]=_0x4585c8[0x24a0+-0x1abf+0x8*-0x138]<<0xef*-0x5+0x1*-0x168b+-0x1*-0x1b4b|_0x4585c8[-0x727+-0x21*0xf8+-0x305*-0xd]<<0x1d5*-0x13+0x1c41*0x1+0x699|_0x4585c8[0x649+-0x14*0x81+0x3ee],_0x56a566[_0x5cdfad*(0x20b*-0x13+-0x490+0x1*0x2b65)+(0x8fe+-0xbd+-0x840)]=_0x4585c8[0x5*-0x287+0x18fb*0x1+-0xc34*0x1]<<-0x246*-0x4+0x74d+-0x1050|_0x4585c8[-0x1783+0x2399*0x1+-0xbf1]<<0x15d7+-0xd*-0xc1+-0x1f99|_0x4585c8[0xfb9+-0x665*0x2+0x2c9*-0x1],_0x56a566[_0x5cdfad*(0x159a+0x14b6+-0x2a4c)+(-0x9c1+-0x22e+-0x1*-0xbf1)]=_0x4585c8[0x1*0xb15+0x1bb5+0x585*-0x7]<<0x6*0x12e+-0x208b+0x198c|_0x4585c8[-0x13ff*0x1+0x1*0x1b9f+-0x778]<<-0x2306+0x1*-0x18e1+-0x1*-0x3bf2|_0x4585c8[0x11e*0xd+-0x3b*0x8e+-0x1*-0x125d],_0x56a566[_0x5cdfad*(-0x2*-0x1388+0x4*0x32+-0x27d4)+(-0x1*-0xaae+0xdfa*-0x1+-0x4d*-0xb)]=_0x4585c8[-0x5*0x469+-0x186b+0x2ea2]<<-0x2*-0xabb+-0x1*0x253d+0xfdc|_0x4585c8[-0x1ff1+-0x1*-0x2e4+0x37*0x88]<<0x20a8+0x1f4d*0x1+0x65*-0xa2|_0x4585c8[-0x1d83+-0x47*-0x34+0xf43]):_0x55ba2c[_0x5cdfad]=_0x4585c8[-0x1734+-0x1d1f+0xc*0x45e]<<-0x2*0x8f9+0x8*0xb+0x11af|_0x4585c8[0xa6d*0x3+-0xb*-0x16+-0x1*0x2023]<<-0x1cc0+0xa45+-0x1286*-0x1|_0x4585c8[-0x56*0x5c+0x1ff7+-0xf8]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x25d80d=this['sh4to7Text'+'ure'])==null||_0x25d80d['unlock'](),(_0x17a534=this['sh8to11Tex'+'ture'])==null||_0x17a534['unlock'](),(_0x35c5fe=this['sh12to15Te'+'xture'])==null||_0x35c5fe['unlock']();}['updateSHDa'+'taByWorker'](_0x3e099b){const _0xf6fc17={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x18a43b=U_(_0x3e099b,_0xf6fc17*(0x6*0x33a+0xc42*-0x1+-0x717));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x3e099b['numSplats'],this['shBands'],_0x18a43b),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x3b6f9f,_0x35c4ef,_0x2965bb,_0xa3c108)=>{var _0x2233af,_0x2f626d,_0x3def44,_0x4caefe,_0x19785b,_0x2d739f,_0x14109f,_0x3d74f9,_0x394868,_0x12a81d;const _0x3d5f36=(_0x2233af=this['sh1to3Text'+'ure'])==null?void(-0x1e95+-0xc03+-0xbc*-0x3a):_0x2233af['lock']();if(new Uint32Array(_0x3d5f36['buffer'])['set'](_0x3b6f9f),(_0x2f626d=this['sh1to3Text'+'ure'])==null||_0x2f626d['unlock'](),this['shBands']>0xabe+-0x17a7+0xcea){const _0x37c7ad=(_0x3def44=this['sh4to7Text'+'ure'])==null?void(0x588+-0x1*-0x2f+-0x5b7):_0x3def44['lock']();if(new Uint32Array(_0x37c7ad['buffer'])['set'](_0x35c4ef),(_0x4caefe=this['sh4to7Text'+'ure'])==null||_0x4caefe['unlock'](),this['shBands']>0xab9+-0x7*-0x2e7+-0x1f08){const _0x1bf75f=(_0x19785b=this['sh8to11Tex'+'ture'])==null?void(0x29*0xcd+0x2*-0x12b3+0x1*0x491):_0x19785b['lock']();new Uint32Array(_0x1bf75f['buffer'])['set'](_0x2965bb),(_0x2d739f=this['sh8to11Tex'+'ture'])==null||_0x2d739f['unlock']();const _0x4711ae=(_0x14109f=this['sh12to15Te'+'xture'])==null?void(0x1*-0x193b+0x8c2+-0x1*-0x1079):_0x14109f['lock']();new Uint32Array(_0x4711ae['buffer'])['set'](_0xa3c108),(_0x3d74f9=this['sh12to15Te'+'xture'])==null||_0x3d74f9['unlock']();}else{const _0x381b6f=(_0x394868=this['sh8to11Tex'+'ture'])==null?void(-0xd30*-0x1+0xd74+-0x1aa4):_0x394868['lock']();new Uint32Array(_0x381b6f['buffer'])['set'](_0x2965bb),(_0x12a81d=this['sh8to11Tex'+'ture'])==null||_0x12a81d['unlock']();}}});}}async function G1(){let _0x4446de=null,_0x52bb95=null,_0x762644=null,_0x3c6c2c=null,_0x2d6609=null,_0x389b69=null,_0x2228d5=null,_0x1fc960=null,_0x494b1d=null,_0x2ccfd9=null,_0xf3e11b=null,_0x511368=null,_0x52558b=null,_0x130b39=null,_0xd9d031=null,_0x248528=null,_0x5ed45b=null,_0x3e28b1=null,_0x41f5c6=null,_0x3f8c11=null,_0x1efd6a=null,_0x199a84=null,_0x4e8a2a=null,_0x4c6e70=null,_0x101235=null,_0x4bb64d=Float32Array['BYTES_PER_'+'ELEMENT'],_0x4d4d9c=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x374a76=-0x2223+-0x195*-0xb+0x10bc,_0x1c574f=!(-0x1bf7+-0x3d8+0x1fcf),_0x46e8ae,_0x5ebf77,_0x533519={'x':0x0,'y':0x0,'z':0x0},_0x5925ec={'x':0x0,'y':0x0,'z':0x0},_0xf3bc2a=!(-0x6b1+0x21af+0x1*-0x1afe),_0x5c0ff6=!(-0x1829+0xdb1+-0xa79*-0x1),_0x4cfafa=!(-0xc9d*0x3+-0x1*0x1472+0x3a4a),_0x35691e=-0x1062+0x19da+-0x978,_0x1c8a47=0x1207+0x1*0x2701+-0x3908,_0x1629d6=!(-0x5c5+-0x2119+0x26df),_0x51f114=null;self['onmessage']=async _0x230cdf=>{const {data:_0x354100}=_0x230cdf;switch(_0x354100['type']){case'initWorker':_0x374a76=_0x354100['numSplats'],_0x5ae928(),_0x1c574f=_0x354100['is4d'],await _0xb291e6(_0x354100['sortWasmUr'+'l']),_0x218ae8(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x354100['dataReady']){if(_0x389b69&&_0x354100['centers']&&_0x389b69['length']===_0x354100['centers']['length']){const _0x450c15=new Float32Array(_0x354100['centers']);_0x389b69['set'](_0x450c15);}if(_0x494b1d&&_0x354100['timeIndex']&&_0x494b1d['length']===_0x354100['timeIndex']['length']){const _0x814b0d=new Uint32Array(_0x354100['timeIndex']);_0x494b1d['set'](_0x814b0d);}if(_0x511368&&_0x354100['motion']&&_0x511368['length']===_0x354100['motion']['length']){const _0x42b9e9=new Float32Array(_0x354100['motion']);_0x511368['set'](_0x42b9e9);}if(_0x1c574f&&_0x2ccfd9&&_0xf3e11b&&_0x354100['muT']&&_0x354100['tScale']&&_0x2ccfd9['length']===_0x354100['muT']['length']&&_0xf3e11b['length']===_0x354100['tScale']['length']&&(_0x2ccfd9['set'](_0x354100['muT']),_0xf3e11b['set'](_0x354100['tScale'])),_0x2228d5){for(let _0x60ec0e=-0x4d*0x74+-0x1005+-0x1*-0x32e9;_0x60ec0e<_0x2228d5['length'];++_0x60ec0e)_0x2228d5[_0x60ec0e]=_0x60ec0e;}_0x2d6609&&_0x354100['timeOption']&&_0x2d6609['set'](_0x354100['timeOption']),setTimeout(()=>{_0x29e318();},-0x129+-0x131f+0x1448);}break;case'setTime':_0x46e8ae=_0x354100['time'],_0x2e7cb9();break;case'setUseTemp'+'oralSort':_0xf3bc2a=_0x354100['useTempora'+'lSort'];break;case'sort':if(!_0x762644)return;_0x762644[0x1*0x529+-0x3cb*-0x7+0x2*-0xfdb]=_0x354100['cameraPosi'+'tion']['x'],_0x762644[0x403*-0x7+0x67*-0x3e+0x3508]=_0x354100['cameraPosi'+'tion']['y'],_0x762644[0x1353*0x1+0x50f*-0x6+0x19*0x71]=_0x354100['cameraPosi'+'tion']['z'],_0x3c6c2c[-0x1824+0x37*0x14+0x13d8]=_0x354100['cameraDire'+'ction']['x'],_0x3c6c2c[0x1*0x103a+0x1*0x26b3+-0x14*0x2bf]=_0x354100['cameraDire'+'ction']['y'],_0x3c6c2c[-0x1619*-0x1+-0x249b+0xe84]=_0x354100['cameraDire'+'ction']['z'],_0x2e7cb9();break;}};const _0x2e7cb9=()=>{_0x51f114&&clearTimeout(_0x51f114),_0x51f114=setTimeout(()=>{_0x51f114=null,_0x420930();},0x3de+0xa3b+-0xe19);},_0x5ae928=()=>{_0x1c8a47=Math['max'](-0x24cb*0x1+0x27*0xf7+-0xcc,Math['min'](-0xff5+-0x1*-0x76d+0x89c,Math['round'](Math['log2'](_0x374a76/(0xa*-0x293+0x2018+-0x656))))),_0x35691e=(-0x904+0x1778+0x2*-0x739)**_0x1c8a47+(-0xee*-0x2a+0x2*-0xc83+0x1*-0xe05);},_0x218ae8=()=>(_0x52558b=-0x57b*-0x1+-0x2360+-0x9f7*-0x3,_0x130b39=_0x52558b+_0x374a76*_0x4bb64d*(0x1917*-0x1+-0x253f+0x3e59),_0x41f5c6=_0x130b39+(0x73c+-0x9cc+-0x3*-0xfc)*_0x4bb64d*(-0x17c7+0x3e6*-0x1+0x1baf),_0x3f8c11=_0x41f5c6+_0x374a76*_0x4d4d9c,_0x1efd6a=_0x3f8c11+(0x1fab+-0x8eb+-0x16bd)*_0x4bb64d,_0x199a84=_0x1efd6a+(-0x2*0x3e3+-0x2563+0x2d2c)*_0x4bb64d,_0x4e8a2a=_0x199a84+(-0x1130+-0x71*-0x2e+-0x31b)*_0x4bb64d,_0x4c6e70=_0x4e8a2a+(-0x1*0x107f+0x9e8*0x2+0x9*-0x5e)*_0x4bb64d,_0x101235=_0x4c6e70+_0x374a76*_0x4d4d9c,_0x389b69=new Float32Array(_0x52bb95,_0x52558b,_0x374a76*(0x2294+-0x16bd*0x1+-0xbd4)),_0x2d6609=new Float32Array(_0x52bb95,_0x130b39,(0x17e9+-0x239b+0xc16)*(-0x1*-0x1e6d+0x2551+-0x43bc)),_0x2228d5=new Uint32Array(_0x52bb95,_0x41f5c6,_0x374a76),_0x1fc960=new Uint32Array(_0x2228d5),_0x762644=new Float32Array(_0x52bb95,_0x3f8c11,0x1*0xef6+-0x426*0x3+-0x281),_0x3c6c2c=new Float32Array(_0x52bb95,_0x1efd6a,0x1*0x9d9+-0xb9a+-0xe2*-0x2),_0x1c574f&&(_0x5ed45b=_0x101235+_0x35691e*_0x4d4d9c,_0x3e28b1=_0x5ed45b+_0x374a76*_0x4bb64d,_0x248528=_0x3e28b1+_0x374a76*_0x4bb64d,_0xd9d031=_0x248528+_0x374a76*(-0x1*-0xbeb+0x19f4+-0x25dc)*_0x4bb64d,_0x2ccfd9=new Float32Array(_0x52bb95,_0x5ed45b,_0x374a76),_0xf3e11b=new Float32Array(_0x52bb95,_0x3e28b1,_0x374a76),_0x511368=new Float32Array(_0x52bb95,_0x248528,_0x374a76*(-0x107+-0x34c*0x6+0x14d2)),_0x494b1d=new Uint32Array(_0x52bb95,_0xd9d031,_0x374a76)),{'sharedMemory':_0x52bb95,'layout':{'timeOptionPtr':_0x130b39,'timeIndexPtr':_0xd9d031,'centersPtr':_0x52558b,'motionPtr':_0x248528,'muTPtr':_0x5ed45b,'tScalePtr':_0x3e28b1,'orderPtr':_0x41f5c6,'cameraPositionPtr':_0x3f8c11,'cameraDirectionPtr':_0x1efd6a,'boundMinPtr':_0x199a84,'boundMaxPtr':_0x4e8a2a,'distancesPtr':_0x4c6e70,'countBufferPtr':_0x101235}}),_0xb291e6=async _0x409e1a=>{let _0x50a98c=_0x374a76*_0x4bb64d*(0x24ab*-0x1+-0x3ef*0x4+-0x1a35*-0x2);_0x50a98c+=_0x374a76*_0x4d4d9c,_0x50a98c+=(0x7da+0xa10+-0x11e7)*_0x4bb64d,_0x50a98c+=(0x1*-0x304+-0xa45+0xd4c)*_0x4bb64d,_0x50a98c+=(0xa13+0xe3c*0x1+-0x4*0x613)*_0x4bb64d,_0x50a98c+=(0xdbb+0x12e4+0x209c*-0x1)*_0x4bb64d,_0x50a98c+=_0x374a76*_0x4bb64d,_0x50a98c+=_0x35691e*_0x4d4d9c,_0x50a98c+=(-0x2*-0x128c+-0x1c5a+0x2*-0x42d)*_0x4bb64d*(-0x1960+0x89*-0x1+0x19eb),_0x50a98c+=_0x374a76*_0x4d4d9c,_0x1c574f&&(_0x50a98c+=_0x374a76*_0x4bb64d,_0x50a98c+=_0x374a76*_0x4bb64d,_0x50a98c+=_0x374a76*_0x4bb64d*(0xe1f+0x1bcc+-0x29e8));const _0xdbfebc=(0x2*-0x79f+-0x185*-0x11+0xa57*-0x1)*(-0xa*-0x1a6+0xed*0x23+-0x1*0x2ce3),_0xeedf2f=Math['ceil'](_0x50a98c/_0xdbfebc),_0x3e46ac={'env':{'memory':new WebAssembly['Memory']({'initial':_0xeedf2f,'maximum':_0xeedf2f,'shared':!(-0x2136+-0x2526+0x465c)}),'pthread_self':function(){return-0x2*-0x44d+0x1480+-0x5*0x5d2;},'emscripten_builtin_memalign':function(){return 0x203+-0xa11+0x80e;},'loggerVec3':(_0x132ac,_0x433814,_0x543c14,_0x5946d3)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x132ac+']\x200:'+_0x433814+'\x201:'+_0x543c14+'\x202:'+_0x5946d3);},'loggerFloat':(_0x3a49d7,_0x3d082e)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x3a49d7+']\x20a:'+_0x3d082e);},'loggerValue':(_0x4a8270,_0x5f0d82,_0x5a46cd,_0x201758,_0x544b53)=>{console['log']('C++\x20logger'+'Value\x20['+_0x4a8270+']\x20minDist:'+_0x5f0d82+'\x20maxDist:'+_0x5a46cd+'\x20range:'+_0x201758+'\x20divider:'+_0x544b53);},'loggerCamera':(_0x365e36,_0x39374d,_0xd8283f,_0x59884c,_0x2d8714,_0x5543ac,_0x4e8765)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x365e36+']\x20x:'+_0x39374d+'\x20y:'+_0xd8283f+'\x20z:'+_0x59884c+'\x20dx:'+_0x2d8714+'\x20dy:'+_0x5543ac+'\x20dz:'+_0x4e8765);},'loggerBound':(_0x3f0aed,_0x57f541,_0x1806ad,_0x1663c3,_0x217321,_0x48d830)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x3f0aed+'\x20minY:'+_0x57f541+'\x20minZ:'+_0x1806ad+'\x20maxX:'+_0x1663c3+'\x20maxY:'+_0x217321+'\x20maxZ:'+_0x48d830);},'loggerDebug':_0x1a425a=>{console['log']('C++\x20logger'+'Debug\x20['+_0x1a425a+']');}}};try{const _0x3c84ec=await(await fetch(_0x409e1a))['arrayBuffe'+'r']();return _0x4446de=(await WebAssembly['instantiat'+'e'](_0x3c84ec,_0x3e46ac))['instance'],_0x52bb95=_0x3e46ac['env']['memory']['buffer'],_0x4446de;}catch(_0x338000){throw console['error']('加载WASM模块失败'+':',_0x338000),_0x338000;}},_0x29e318=()=>{if(!_0x4446de)return;const {calcAABB:_0x2886da}=_0x4446de['exports'];_0x2886da(_0x52558b,_0x199a84,_0x4e8a2a,_0x374a76);},_0x420930=()=>{if(!_0x4446de||_0x41f5c6===null||_0x52558b===null||_0x3f8c11===null||_0x1efd6a===null||_0x199a84===null||_0x4e8a2a===null)return;const _0x45a5c5=_0x762644[-0x2033+0x1bd1+0x462],_0x484cf2=_0x762644[-0x263f+-0x115c+-0x2*-0x1bce],_0x51f874=_0x762644[-0x1625*0x1+0x725*-0x1+0x1d4c],_0x5ebfa6=_0x3c6c2c[0x813+-0x47*-0x73+-0x27f8],_0xf79219=_0x3c6c2c[0x23b4+-0x1*0x2221+-0x192],_0x3e9eee=_0x3c6c2c[-0x1*-0x26de+0x26a6+-0x4d82],_0x2f13af=0x13cb+-0x20ef+0xd24+0.001;if(!_0x5c0ff6&&Math['abs'](_0x45a5c5-_0x533519['x'])<_0x2f13af&&Math['abs'](_0x484cf2-_0x533519['y'])<_0x2f13af&&Math['abs'](_0x51f874-_0x533519['z'])<_0x2f13af&&Math['abs'](_0x5ebfa6-_0x5925ec['x'])<_0x2f13af&&Math['abs'](_0xf79219-_0x5925ec['y'])<_0x2f13af&&Math['abs'](_0x3e9eee-_0x5925ec['z'])<_0x2f13af&&Math['abs'](_0x46e8ae-_0x5ebf77)<-0x11da+0x1e59*-0x1+0x3033+0.01)return;if(_0x4cfafa){_0x1629d6=!(-0x1a95+0x1627+-0x15*-0x36);return;}_0x4cfafa=!(-0x24c+-0xd01+0xf4d),_0x5c0ff6=!(0x67*0x4f+-0x13f5+-0x3f1*0x3),_0x5ebf77=_0x46e8ae,_0x533519['x']=_0x45a5c5,_0x533519['y']=_0x484cf2,_0x533519['z']=_0x51f874,_0x5925ec['x']=_0x5ebfa6,_0x5925ec['y']=_0xf79219,_0x5925ec['z']=_0x3e9eee,_0x1629d6=!(0x1169*0x1+0x47e+-0xaf3*0x2);const {sortIndexes:_0x2a4ac2}=_0x4446de['exports'];try{const _0x3d65d2=_0x2a4ac2(_0x41f5c6,_0x52558b,_0x248528,_0x5ed45b,_0x3e28b1,_0x3f8c11,_0x1efd6a,_0x199a84,_0x4e8a2a,_0x4c6e70,_0x101235,_0x46e8ae,_0xf3bc2a,_0x1c574f,_0x374a76,_0x35691e,_0x1c8a47,_0x130b39,_0xd9d031);_0x1fc960['set'](_0x2228d5),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x3d65d2,'order':_0x1fc960});}catch(_0x9a416a){console['error']('排序操作失败:',_0x9a416a),self['postMessag'+'e']({'type':'error','error':_0x9a416a['message']});}_0x4cfafa=!(0x1c96+0x587*-0x4+-0x679),_0x1629d6&&_0x2e7cb9();};}class H1 extends ce{constructor(_0xd89ab2,_0x16f12e=!(0x610+-0x4a*0x4c+0xfe8)){super(),c(this,'worker',null),c(this,'numSplats',0x74e+-0x2219+0x1acb),c(this,'is4d',!(0x6b*0x1+0x16cb*0x1+-0x1736)),c(this,'sortStartT'+'ime',0x1c97+-0x1f*-0x10f+-0x3d68),c(this,'orderTextu'+'re'),(this['numSplats']=_0xd89ab2,this['is4d']=_0x16f12e,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+G1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3a9500=>{if(!this['worker'])return;const {data:_0x3222a4}=_0x3a9500;switch(_0x3222a4['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x3222a4['order']){const _0x3d2ca3=this['orderTextu'+'re']['lock']();new Uint32Array(_0x3d2ca3['buffer'])['set'](_0x3222a4['order']),this['orderTextu'+'re']['unlock']();}let _0xef3c06=0x2f*0x38+0x11*-0x21a+0x1972;this['sortStartT'+'ime']!==-0x97a+-0x1162+0x1adc&&(_0xef3c06=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x3a9500['data']['count'],_0xef3c06),this['sortStartT'+'ime']=0x1113+0xb5d*0x3+0x2*-0x1995;break;case'error':console['error']('Worker错误:',_0x3222a4['error']),this['fire']('error',_0x3222a4['error']);break;}};const _0x348887=('https://4dv-frontend.oss-cn-hangzhou.aliyuncs.com/dist/viewer/1748318561813/sorter.wasm');this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':_0x348887,'numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x26e170,_0x408b58,_0x5ad095,_0xc53664,_0x4d51fd,_0x4330d6,_0x22ca4a){var _0x5509bc;(!_0x22ca4a||_0x22ca4a['length']===0x1*0xa65+0x1*-0x7ed+0x4*-0x9e)&&(_0x22ca4a=[-0x3*-0x250+0x1*-0x289+-0x467,0xa*-0x62+0xd0d+0x49a*-0x2]),this['orderTextu'+'re']=_0x26e170,(_0x5509bc=this['worker'])==null||_0x5509bc['postMessag'+'e']({'type':'initData','centers':_0x408b58,'muT':_0x5ad095,'tScale':_0xc53664,'motion':_0x4d51fd,'timeIndex':_0x4330d6,'timeOption':_0x22ca4a,'dataReady':!(-0x4ad*-0x1+0x3b6+-0x13*0x71)});}['resize'](_0x4beae9){this['destroy'](),this['numSplats']=_0x4beae9,this['_initWorke'+'r']();}['setCamera'](_0x276621,_0x56efa3){this['worker']&&(this['sortStartT'+'ime']===-0x2*0xa29+-0x216f+0x35c1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x276621['x'],'y':_0x276621['y'],'z':_0x276621['z']},'cameraDirection':{'x':_0x56efa3['x'],'y':_0x56efa3['y'],'z':_0x56efa3['z']}}));}['setCurrent'+'Time'](_0x11570c){this['worker']&&(this['sortStartT'+'ime']===-0x1*0x7b8+-0x9*0x2b4+0x4*0x803&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x11570c}));}['setUseTemp'+'oralSort'](_0x56677d){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x56677d});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const W1=new q(),On=new T(),kn=new T(),Gl=[-0xe43+-0x1643*-0x1+-0x800,0xddf*-0x1+0x15*-0xd3+0xf97*0x2];class Np{constructor(_0x405a0c,_0x4b77b7){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0xdde*-0x1+-0x3f3*-0x3+-0x19b7),c(this,'lastCamera'+'Position',new T()),c(this,'lastCamera'+'Direction',new T()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x405a0c['numSplats']),this['splat']=_0x405a0c,this['options']=Object['assign'](this['options'],_0x4b77b7));const _0x35ee61=_0x405a0c['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x325ba5=-0x1725+-0x1c65+0x340a,_0x145f21=Math['ceil'](_0x405a0c['numSplats']/_0x325ba5)*_0x325ba5/_0x325ba5,_0x4af4cd=new Uint32Array(_0x145f21);for(let _0x19facb=-0x1*-0x20e1+0x1*0x4f6+-0x25d7;_0x19facb<_0x145f21;++_0x19facb)_0x4af4cd[_0x19facb]=_0x19facb*_0x325ba5;const _0x206301=new Et(_0x35ee61,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x818+0xe16*-0x1+-0x14e*-0x11)}]),_0x3e5ceb=new os(_0x35ee61,_0x206301,_0x145f21,{'usage':jt,'data':_0x4af4cd['buffer']}),_0x4d9557=new Float32Array((0x1449*0x1+0x2498+-0x38d5)*_0x325ba5),_0x59e67d=new Uint32Array((-0x1143+-0x5*0x2ff+-0x2*-0x1022)*_0x325ba5);for(let _0x54d5a2=0x2627+-0x13e4+-0x1243;_0x54d5a2<_0x325ba5;++_0x54d5a2){_0x4d9557['set']([-(0x56*-0x73+-0x1*0x1b41+-0x2*-0x20f2),-(-0xc2f+-0x1433*0x1+0x2063*0x1),_0x54d5a2,0x885+-0x3a3+-0x4e1,-(-0x1f6e+-0x5*-0x3ee+-0x1af*-0x7),_0x54d5a2,0x136e+0x24f+-0x15bc,0x2*0x2ef+0xa28+-0x1005,_0x54d5a2,-(0x3*-0x606+0x26da+-0x9*0x24f),-0x8a4*0x4+0x5*-0x4c+-0x1*-0x240d,_0x54d5a2],_0x54d5a2*(-0x6cd+0xd9*0x2c+-0x1e73));const _0x2b7c55=_0x54d5a2*(0x267+-0x101d+0x1f6*0x7);_0x59e67d['set']([0x2182+0x1836+-0x8*0x737+_0x2b7c55,0x1112+0x80b+-0x4*0x647+_0x2b7c55,0x54a*0x1+-0x11d5+-0x9*-0x165+_0x2b7c55,0x1047*0x2+0xd*-0xa7+-0x1813+_0x2b7c55,0x55*-0x22+0x2706+0xd*-0x222+_0x2b7c55,-0x57f*-0x3+-0x2*-0xd87+0x7*-0x638+_0x2b7c55],_0x54d5a2*(-0x14f7+-0x501+0x19fe*0x1));}const _0x59095d=new Ie(_0x35ee61);_0x59095d['setPositio'+'ns'](_0x4d9557,0x2*-0x538+0x25eb+-0x1b78),_0x59095d['setIndices'](_0x59e67d),_0x59095d['update'](),this['mesh']=_0x59095d,this['mesh']['aabb']['copy'](_0x405a0c['aabb']),this['meshInstan'+'ce']=new Le(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x3e5ceb,!(0x2*0xb7f+0x1*-0x11ab+0x1*-0x553)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0xd1f*-0x1+0x2b8*0x1+-0xfd7,(!_0x4b77b7['dither']||_0x4b77b7['dither']===Rs)&&(this['sorter']=new H1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x121ed5;(_0x121ed5=this['sorter'])==null||_0x121ed5['initData'](this['orderTextu'+'re'],_0x405a0c['centers'],_0x405a0c['muT'],_0x405a0c['tScale'],_0x405a0c['motion'],_0x405a0c['timeIndex'],_0x405a0c['timeOption']);}),this['sorter']['on']('updated',_0x231839=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x231839/_0x325ba5),this['material']['setParamet'+'er']('numSplats',_0x231839);}));}['updateData'](_0x4a225e){var _0x8f34ab;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x4a225e['numSplats']),this['splat']=_0x4a225e;const _0x21801e=_0x4a225e['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',an,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0xdb7a12=0x1*0x112f+0x24d8+-0xc1*0x47,_0x2578ce=Math['ceil'](_0x4a225e['numSplats']/_0xdb7a12)*_0xdb7a12/_0xdb7a12,_0x1ce331=new Uint32Array(_0x2578ce);for(let _0x524ba6=-0x2666+0x2246+0x60*0xb;_0x524ba6<_0x2578ce;++_0x524ba6)_0x1ce331[_0x524ba6]=_0x524ba6*_0xdb7a12;const _0x5da8b7=new Et(_0x21801e,[{'semantic':ga,'components':0x1,'type':Do,'asInt':!(-0x5*0x4ff+0x3e5+0x1516)}]),_0xa24439=new os(_0x21801e,_0x5da8b7,_0x2578ce,{'usage':jt,'data':_0x1ce331['buffer']});this['mesh']['aabb']['copy'](_0x4a225e['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0xa24439,!(-0x1*0x1386+0x7*0xde+-0xa4*-0x15)),this['meshInstan'+'ce']['instancing'+'Count']=-0xc*0x21e+0x9cf+0xf99,(_0x8f34ab=this['sorter'])==null||_0x8f34ab['resize'](_0x4a225e['numSplats']);}['releaseSeq'](_0x2cfac3){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x2cfac3);}['destroy'](){var _0xe139d9,_0x25292e,_0x1993a7;(_0xe139d9=this['material'])==null||_0xe139d9['destroy'](),(_0x25292e=this['meshInstan'+'ce'])==null||_0x25292e['destroy'](),(_0x1993a7=this['sorter'])==null||_0x1993a7['destroy']();}['clone'](){return new Np(this['splat'],this['options']);}['createMate'+'rial'](_0x1949cc){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x1949cc),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x568107=this['splat']['device'];if(Gl[-0x179*0x11+-0x5e3+-0x4*-0x7bb]=_0x568107['width'],Gl[-0x223d+-0x3b*0x63+0x390f]=_0x568107['height'],this['cameras']['length']>0x1*-0x26ed+0x1a8e+0xc5f){const _0x14f66e=this['cameras'][0x44e+0x12*-0x1b2+0x1a36]['xr'];_0x14f66e&&_0x14f66e['active']&&_0x14f66e['views']['list']['length']===0x1*-0xafb+-0x1*-0x2049+0x74*-0x2f&&(Gl[0x2c9*-0x9+-0x18a2+0x31b3]/=-0x228f+0xef1+0x13a0);}this['material']['setParamet'+'er']('viewport',Gl);}['sort'](_0x316d87){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0xb40252=_0x316d87['getWorldTr'+'ansform']();_0xb40252['getTransla'+'tion'](On),_0xb40252['getZ'](kn);const _0x44616b=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x5a6686=W1['invert'](_0x44616b);_0x5a6686['transformP'+'oint'](On,On),_0x5a6686['transformV'+'ector'](kn,kn),(!On['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!kn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](On),this['lastCamera'+'Direction']['copy'](kn),this['sorter']['setCamera'](On,kn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0x1eb*0xd+0xe77+-0x2766){const _0x323bdd=this['cameras'][-0x1*-0x7c1+-0x13d3+0xc12];this['sort'](_0x323bdd['_node']),this['cameras']['length']=-0xd*-0x1de+-0x6*-0x289+-0x277c;}}['updateTime'](_0x47675f){this['time']=_0x47675f;}}const $1='FILL_WINDO'+'W',V_='KEEP_ASPEC'+'T',G_='AUTO',q1='FIXED';let U0;function tn(){return U0;}function qu(_0x1386c5){U0=_0x1386c5;}class X1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x2d12b7){v['assert'](_0x2d12b7),_0x2d12b7['frameUpdat'+'e']();const _0x3c274c=_0x2d12b7['beforePass'+'es'];for(let _0x4f7eef=0x7d3*0x3+-0x3*-0x6fd+-0x2c70;_0x4f7eef<_0x3c274c['length'];_0x4f7eef++){const _0x4697fe=_0x3c274c[_0x4f7eef];_0x4697fe['enabled']&&this['addRenderP'+'ass'](_0x4697fe);}_0x2d12b7['enabled']&&this['renderPass'+'es']['push'](_0x2d12b7);const _0x17a8f7=_0x2d12b7['afterPasse'+'s'];for(let _0x5aeb81=0x21a9+0xfcc+0xb*-0x47f;_0x5aeb81<_0x17a8f7['length'];_0x5aeb81++){const _0x2fbef5=_0x17a8f7[_0x5aeb81];_0x2fbef5['enabled']&&this['addRenderP'+'ass'](_0x2fbef5);}}['reset'](){this['renderPass'+'es']['length']=0x21ec+-0x1*-0x1911+0x3afd*-0x1;}['compile'](){const _0x24c2af=this['renderTarg'+'etMap'],_0x437211=this['renderPass'+'es'];for(let _0x5d0c88=0x57*-0x20+-0x25b7*0x1+0x3097;_0x5d0c88<_0x437211['length'];_0x5d0c88++){const _0x91a23d=_0x437211[_0x5d0c88],_0x4dabab=_0x91a23d['renderTarg'+'et'];if(_0x4dabab!==void(-0x18*-0xb9+-0x1fb5+0x1*0xe5d)){const _0xb56cc2=_0x24c2af['get'](_0x4dabab);if(_0xb56cc2){const _0x4a47de=_0x91a23d['colorArray'+'Ops']['length'];for(let _0x2f6f4b=0x1c5b+0x1113+-0x2d6e;_0x2f6f4b<_0x4a47de;_0x2f6f4b++)_0x91a23d['colorArray'+'Ops'][_0x2f6f4b]['clear']||(_0xb56cc2['colorArray'+'Ops'][_0x2f6f4b]['store']=!(-0x215e+0x10b5+0x10a9));_0x91a23d['depthStenc'+'ilOps']['clearDepth']||(_0xb56cc2['depthStenc'+'ilOps']['storeDepth']=!(-0x1d96+-0xcd3*0x2+-0x4*-0xdcf)),_0x91a23d['depthStenc'+'ilOps']['clearStenc'+'il']||(_0xb56cc2['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0xc5*-0x14+0x1cb8+0x6*-0x75a));}_0x24c2af['set'](_0x4dabab,_0x91a23d);}}for(let _0x3e7940=0x545*0x3+-0x1892*-0x1+-0x2861;_0x3e7940<_0x437211['length']-(0xb*0x22e+-0xb55+0x1*-0xca4);_0x3e7940++){const _0x5c55ae=_0x437211[_0x3e7940],_0x2ef7b3=_0x5c55ae['renderTarg'+'et'],_0x4cae79=_0x437211[_0x3e7940+(-0x16a3+0x16c4+-0x10*0x2)],_0x4dd5a6=_0x4cae79['renderTarg'+'et'];_0x2ef7b3!==_0x4dd5a6||_0x2ef7b3===void(-0x20d3*-0x1+0x26ea+-0x47bd)||_0x4cae79['depthStenc'+'ilOps']['clearDepth']||_0x4cae79['depthStenc'+'ilOps']['clearStenc'+'il']||_0x4cae79['colorArray'+'Ops']['some'](_0x498db8=>_0x498db8['clear'])||_0x5c55ae['afterPasse'+'s']['length']>0x1c91+-0xdd8+-0xeb9||_0x4cae79['beforePass'+'es']['length']>0x1cfe+0x1*0x15e5+-0x7*0x745||(_0x5c55ae['_skipEnd']=!(0x12b1+-0xc*0x11f+-0x53d),_0x4cae79['_skipStart']=!(0x1796+0x9*0x151+-0x1*0x236f));}let _0x4342a8=null,_0x3ccea4=null;for(let _0x5d391f=-0x3*-0x1df+-0xc17*-0x2+0x1d*-0x107;_0x5d391f<_0x437211['length'];_0x5d391f++){const _0x27374d=_0x437211[_0x5d391f],_0x1e7b38=_0x27374d['renderTarg'+'et'],_0x1889e4=_0x1e7b38==null?void(0x7a*0x51+-0x1b*0x2e+-0x21c0):_0x1e7b38['colorBuffe'+'r'];if(_0x1889e4!=null&&_0x1889e4['cubemap']){if(_0x4342a8===_0x1889e4){const _0x47b902=_0x3ccea4['colorArray'+'Ops']['length'];for(let _0x51fa22=0xb5*0x31+-0x14fa+0xdab*-0x1;_0x51fa22<_0x47b902;_0x51fa22++)_0x3ccea4['colorArray'+'Ops'][_0x51fa22]['mipmaps']=!(0x2210+0x9*-0x1e7+-0x10*0x10f);}_0x4342a8=_0x1e7b38['colorBuffe'+'r'],_0x3ccea4=_0x27374d;}else _0x27374d['requiresCu'+'bemaps']&&(_0x4342a8=null,_0x3ccea4=null);}_0x24c2af['clear']();}['render'](_0xd6376b){this['compile']();const _0x5b929a=this['renderPass'+'es'];for(let _0x24447a=0x1*0xa42+-0x1d*0x5d+-0x1*-0x47;_0x24447a<_0x5b929a['length'];_0x24447a++)_0x5b929a[_0x24447a]['render']();}}class j1{constructor(_0x21cf96,_0x54f254){this['texture0']=_0x21cf96,this['texture1']=_0x54f254;}['destroy'](){var _0x40a009,_0x3e9b0c;(_0x40a009=this['texture0'])==null||_0x40a009['destroy'](),(_0x3e9b0c=this['texture1'])==null||_0x3e9b0c['destroy']();}}const H_=new Ot();class $r{static['createText'+'ure'](_0x374970,_0x2dc5bd,_0x5f4a93,_0x978ae3=''){return new he(_0x374970,{'name':'AreaLightL'+'UT'+_0x978ae3,'width':_0x5f4a93,'height':_0x5f4a93,'format':_0x2dc5bd,'addressU':ae,'addressV':ae,'type':Di,'magFilter':st,'minFilter':de,'anisotropy':0x1,'mipmaps':!(0x1575+0x5*0x59d+-0x3185)});}static['applyTextu'+'res'](_0x30ab26,_0x470ad9,_0x299e7c){H_['remove'](_0x30ab26),H_['get'](_0x30ab26,()=>new j1(_0x470ad9,_0x470ad9===_0x299e7c?null:_0x299e7c)),_0x30ab26['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x470ad9),_0x30ab26['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x299e7c);}static['createPlac'+'eholder'](_0x7eeffa){const _0x410e4a=$r['createText'+'ure'](_0x7eeffa,Je,0x23a3+0x7dd*0x2+0x1*-0x335b,'placeholde'+'r');_0x410e4a['lock']()['fill'](0x1d87*0x1+-0x14e5*0x1+-0x8a2),_0x410e4a['unlock'](),$r['applyTextu'+'res'](_0x7eeffa,_0x410e4a,_0x410e4a);}static['set'](_0x42e47b,_0x9d4710,_0x1506b0){function _0x1527e4(_0x3721fc,_0x47a862,_0x3743f2){const _0x12d16c=$r['createText'+'ure'](_0x3721fc,_0x3743f2,-0x53b+-0x3df*0x8+0x2b*0xd9);return _0x12d16c['lock']()['set'](_0x47a862),_0x12d16c['unlock'](),_0x12d16c;}function _0x4d9295(_0x546abf){const _0x2bdc82=_0x546abf['length'],_0x3c59d1=new Uint16Array(_0x2bdc82),_0x287ecc=Wt['float2Half'];for(let _0x86c29d=0x1*-0xfd5+-0x1d0c+0x2ce1;_0x86c29d<_0x2bdc82;_0x86c29d++)_0x3c59d1[_0x86c29d]=_0x287ecc(_0x546abf[_0x86c29d]);return _0x3c59d1;}const _0x29be74=_0x9d4710,_0x51f28c=_0x1506b0,_0x38c60c=_0x4d9295(_0x29be74),_0x40fdf9=_0x4d9295(_0x51f28c),_0x41243f=_0x1527e4(_0x42e47b,_0x38c60c,Je),_0x3e5cef=_0x1527e4(_0x42e47b,_0x40fdf9,Je);$r['applyTextu'+'res'](_0x42e47b,_0x41243f,_0x3e5cef);}}const Wh='en-US',$h={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},zp={};function pr(_0x36c27d,_0x1c655e){for(let _0x552bb1=-0x2303+-0x3d*-0x3b+0x37e*0x6,_0x1f0d78=_0x36c27d['length'];_0x552bb1<_0x1f0d78;_0x552bb1++)zp[_0x36c27d[_0x552bb1]]=_0x1c655e;}function pi(_0x8a1bf5){const _0x5306c2=_0x8a1bf5['indexOf']('-');return _0x5306c2!==-(0xa93+-0x1e98*-0x1+-0x292a)?_0x8a1bf5['substring'](0x25f3*-0x1+-0x2080+0x4673,_0x5306c2):_0x8a1bf5;}function Y1(_0x2ca334,_0x1ca063){const _0x2d040d=_0x2ca334['indexOf']('-');return _0x2d040d!==-(-0x1cf*0xd+-0xbd4*-0x3+-0xbf8)?_0x1ca063+_0x2ca334['substring'](_0x2d040d):_0x1ca063;}function V0(_0x57ab91,_0x17b02b){if(_0x17b02b[_0x57ab91])return _0x57ab91;let _0x482e8a=$h[_0x57ab91];if(_0x482e8a&&_0x17b02b[_0x482e8a])return _0x482e8a;const _0x26bb38=pi(_0x57ab91);return _0x482e8a=$h[_0x26bb38],_0x17b02b[_0x482e8a]?_0x482e8a:_0x17b02b[_0x26bb38]?_0x26bb38:Wh;}pr(['ja','ko','th','vi','zh','id'],_0x26bef2=>0x1a10+-0x20f3+0x6e3),pr(['fa','hi'],_0x32c4de=>_0x32c4de>=0x3*0x197+0x1aed+-0x1fb2&&_0x32c4de<=-0x1*-0x649+0x1*0x1d7b+-0x727*0x5?0x1*0x115d+-0x20d4+-0x1*-0xf77:-0x54*-0x69+-0xc9e+-0x15d5),pr(['fr','pt'],_0x23ce5c=>_0x23ce5c>=0x27*0x9d+-0x14b8+-0x333&&_0x23ce5c<0x32*0xa+0x1*0x1d63+-0x1f55?-0x1*-0x2659+-0x3*0x57a+-0x15eb:0x16*0x185+0xe3e+-0x2fab*0x1),pr(['da'],_0x24d238=>_0x24d238===-0xb78+0x2*0xf9e+-0x13c3||!Number['isInteger'](_0x24d238)&&_0x24d238>=-0xb5a+0x3a1*-0x2+0x129c&&_0x24d238<=-0x1cfa+0x8e7*-0x1+-0x2ea*-0xd?-0x26fb*0x1+-0x78b*0x2+0x1*0x3611:-0x4*-0x9b6+-0x23f6+-0x1*0x2e1),pr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x4f9b06=>_0x4f9b06===0x268f*-0x1+-0x901+-0x549*-0x9?-0x560+-0x173*-0xa+-0x48f*0x2:0xe6b*-0x1+-0x1787+0x25f3),pr(['ru','uk'],_0x48b16d=>{if(Number['isInteger'](_0x48b16d)){const _0x37383b=_0x48b16d%(-0x3de+0x45d*-0x7+-0x1*-0x2273),_0x3aea85=_0x48b16d%(0x268f+-0x19f6+-0xc35);if(_0x37383b===-0x1d79+0x619*-0x1+0x2393&&_0x3aea85!==-0x17f9*-0x1+-0x5c2+-0x1*0x122c)return-0x21e8+-0x3cd*0x9+0x441d;if(_0x37383b>=-0x9c2+-0x25a9+0x2f6d&&_0x37383b<=0x408+0xaec+-0xef0&&(_0x3aea85<-0xa17+0x1c09+-0x4f*0x3a||_0x3aea85>0x28f*-0xd+-0x19e8+0x3b39))return 0xe61+0x9f6+-0xb2*0x23;if(_0x37383b===-0x2b2+0x579*-0x1+0x7b*0x11||_0x37383b>=-0x1251*0x1+0x9d9+0x87d&&_0x37383b<=-0x1*-0x9d9+-0x6d1+-0x3b*0xd||_0x3aea85>=-0x16c+-0x4*-0x5dc+-0x15f9&&_0x3aea85<=-0x12d*0xd+-0x6f4+0x1b7*0xd)return-0x1c2f+0x130+0x1b01*0x1;}return-0x207d+0x157f+-0x3*-0x3ab;}),pr(['pl'],_0x445ea8=>{if(Number['isInteger'](_0x445ea8)){if(_0x445ea8===-0x1d67+-0x72d+0x2495)return-0xdd*0x1b+0x209b+-0x94c;const _0xa8ad26=_0x445ea8%(-0x73e+-0xbb2+0x7*0x2b6),_0x538734=_0x445ea8%(-0x4eb*0x1+0x59a+-0x4b);if(_0xa8ad26>=-0x2*-0x8b5+0x4f3+0x61*-0x3b&&_0xa8ad26<=0x2*0x1187+-0x1d7d*0x1+-0x58d&&(_0x538734<0x1a32+0x21d7*0x1+0x3*-0x13ff||_0x538734>-0x3*0x2d7+0x1*0x1e39+-0x146*0x11))return 0x70a*-0x2+-0x1f47+0x2d5c;if(_0xa8ad26>=-0xbf*0x13+0x364*0x3+0x401&&_0xa8ad26<=0x129+-0xd50+0x1*0xc28||_0xa8ad26>=0x1352+0x2709*0x1+-0x3a56&&_0xa8ad26<=0x25*0x107+0x1a86+-0x4080||_0x538734>=0x1f4e+0x1f2a+-0xeb*0x44&&_0x538734<=0x1263+0x2578+-0x37cd)return 0x16ef+-0xd56+0x1*-0x997;}return-0x12e4+0x11e2+0x105;}),pr(['ar'],_0x33d8c5=>{if(_0x33d8c5===-0x1*0x1657+0x212c+-0x3b*0x2f)return 0x3*-0xb45+0x400+0x1dcf;if(_0x33d8c5===-0x13e2+-0x1699+0x4*0xa9f)return-0x8e4+0x840*-0x4+-0x4b*-0x8f;if(_0x33d8c5===0x66a+-0xb*-0x24b+-0x1fa1)return 0x2161+-0x1430+0x9*-0x177;if(Number['isInteger'](_0x33d8c5)){const _0xdc4544=_0x33d8c5%(-0xff0+-0x1*-0x1622+0x5ce*-0x1);if(_0xdc4544>=-0x223c+-0x651+0x2890&&_0xdc4544<=-0x303*0x3+0x3bf*-0xa+0xb*0x43b)return-0x336*-0xa+0x21ea+-0x4203;if(_0xdc4544>=0x31b*-0x8+0x1*0x1b77+-0x294&&_0xdc4544<=-0x12*-0x229+0x23*0xb3+-0x3ef8)return-0xf*-0x213+0x12d4+-0x31ed;}return 0x24fc+-0x3*0xa06+-0x6e5;});const K1=zp[pi(Wh)];function Xd(_0x39905e){return zp[_0x39905e]||K1;}const Da=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Z1{constructor(_0x354aaa='',_0x41173e='',_0x5720b6=null,_0x2bdb0c=null,_0x5decaa=null,_0x445c34=null){this['url']=_0x354aaa,this['filename']=_0x41173e,this['hash']=_0x5720b6,this['size']=_0x2bdb0c,this['opt']=_0x5decaa,this['contents']=_0x445c34;}['equals'](_0x43f81c){return this['url']===_0x43f81c['url']&&this['filename']===_0x43f81c['filename']&&this['hash']===_0x43f81c['hash']&&this['size']===_0x43f81c['size']&&this['opt']===_0x43f81c['opt']&&this['contents']===_0x43f81c['contents'];}}let Q1=-(-0x1102*0x2+-0x1616+0x381b);const J1={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},W_=['pvr','dxt','etc2','etc1','basis'];class le extends ce{constructor(_0x1a93ee,_0x2c4a82,_0xfd00fd,_0x5b076b,_0x3a5b7b){super(),this['_id']=Q1--,this['_name']=_0x1a93ee||'',this['type']=_0x2c4a82,this['tags']=new po(this),this['_preload']=!(0x145e+0x2113+-0x3570),this['_file']=null,this['_data']=_0x5b076b||{},this['options']=_0x3a5b7b||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x3*-0xa88+-0xe5*-0x11+0xa*-0x4ae),this['loading']=!(0x1de6+0x1eb6+-0x1d*0x217),this['registry']=null,_0xfd00fd&&(this['file']=_0xfd00fd);}set['id'](_0x16c5f4){this['_id']=_0x16c5f4;}get['id'](){return this['_id'];}set['name'](_0x74d09a){if(this['_name']===_0x74d09a)return;const _0xf2fb63=this['_name'];this['_name']=_0x74d09a,this['fire']('name',this,this['_name'],_0xf2fb63);}get['name'](){return this['_name'];}set['file'](_0x480208){var _0x172699,_0x167bf1;if(_0x480208&&_0x480208['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x1f45*-0x1+0x1*-0x207a+0x136)){const _0x4a4084=((_0x167bf1=(_0x172699=this['registry'])==null?void(-0x211c+-0x1*0x1fc1+-0x1*-0x40dd):_0x172699['_loader'])==null?void(0x1413+-0x2*-0x86f+-0x547*0x7):_0x167bf1['_app'])||tn(),_0x16937b=_0x4a4084==null?void(-0xd88+0x1159*-0x2+-0x1*-0x303a):_0x4a4084['graphicsDe'+'vice'];if(_0x16937b)for(let _0xfd3de9=0x5*0x70f+0x1*-0x9b8+-0x1993,_0x585f8f=W_['length'];_0xfd3de9<_0x585f8f;_0xfd3de9++){const _0x1259a2=W_[_0xfd3de9];if(_0x480208['variants'][_0x1259a2]&&_0x16937b[J1[_0x1259a2]]){_0x480208=_0x480208['variants'][_0x1259a2];break;}if(_0x4a4084['enableBund'+'les']){const _0xd052df=_0x4a4084['bundles']['listBundle'+'sForAsset'](this);if(_0xd052df&&_0xd052df['find'](_0x1e6676=>{var _0x4f6a13;return(_0x4f6a13=_0x1e6676==null?void(0x30+0x1*-0x10af+-0x29*-0x67):_0x1e6676['file'])==null?void(-0x5f*0x3f+0x1*-0x1981+-0x30e2*-0x1):_0x4f6a13['variants'][_0x1259a2];}))break;}}}const _0x1d6738=this['_file'],_0x26bf1f=_0x480208?new Z1(_0x480208['url'],_0x480208['filename'],_0x480208['hash'],_0x480208['size'],_0x480208['opt'],_0x480208['contents']):null;(!!_0x26bf1f!=!!_0x1d6738||_0x26bf1f&&!_0x26bf1f['equals'](_0x1d6738))&&(this['_file']=_0x26bf1f,this['fire']('change',this,'file',_0x26bf1f,_0x1d6738),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x50f3d2){const _0x589c64=this['_data'];this['_data']=_0x50f3d2,_0x50f3d2!==_0x589c64&&(this['fire']('change',this,'data',_0x50f3d2,_0x589c64),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x5df3ba){const _0x109957=this['_resources'][0x2547+0x2*0xd35+-0x3*0x153b];this['_resources'][-0xa0*-0xc+0xb*-0x1e4+0x4a*0x2e]=_0x5df3ba,this['fire']('change',this,'resource',_0x5df3ba,_0x109957);}get['resource'](){return this['_resources'][0x1bd*0xf+0xa*0x1c4+-0x2bbb];}set['resources'](_0x42b3d0){const _0x65e52=this['_resources'];this['_resources']=_0x42b3d0,this['fire']('change',this,'resources',_0x42b3d0,_0x65e52);}get['resources'](){return this['_resources'];}set['preload'](_0x16877a){_0x16877a=!!_0x16877a,this['_preload']!==_0x16877a&&(this['_preload']=_0x16877a,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x3f4673){_0x3f4673=!!_0x3f4673,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x3f4673!==this['_loadFaces'])&&(this['_loadFaces']=_0x3f4673,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x443873=this['file'];if(!_0x443873||!_0x443873['url'])return null;let _0x40af89=_0x443873['url'];if(this['registry']&&this['registry']['prefix']&&!Da['test'](_0x40af89)&&(_0x40af89=this['registry']['prefix']+_0x40af89),this['type']!=='script'&&_0x443873['hash']){const _0x26708f=_0x40af89['indexOf']('?')!==-(0x1343*0x1+-0x1383+-0x1*-0x41)?'&':'?';_0x40af89+=_0x26708f+'t='+_0x443873['hash'];}return _0x40af89;}['getAbsolut'+'eUrl'](_0x102151){if(_0x102151['startsWith']('blob:')||_0x102151['startsWith']('data:'))return _0x102151;const _0x815332=fe['getDirecto'+'ry'](this['file']['url']);return fe['join'](_0x815332,_0x102151);}['getLocaliz'+'edAssetId'](_0x174368){return _0x174368=V0(_0x174368,this['_i18n']),this['_i18n'][_0x174368]||null;}['addLocaliz'+'edAssetId'](_0x2a3084,_0xf2b8a5){this['_i18n'][_0x2a3084]=_0xf2b8a5,this['fire']('add:locali'+'zed',_0x2a3084,_0xf2b8a5);}['removeLoca'+'lizedAsset'+'Id'](_0x395079){const _0x3aa66f=this['_i18n'][_0x395079];_0x3aa66f&&(delete this['_i18n'][_0x395079],this['fire']('remove:loc'+'alized',_0x395079,_0x3aa66f));}['ready'](_0x5e2e8a,_0x124c5e){_0x124c5e=_0x124c5e||this,this['loaded']?_0x5e2e8a['call'](_0x124c5e,this):this['once']('load',_0x186e4e=>{_0x5e2e8a['call'](_0x124c5e,_0x186e4e);});}['reload'](){this['loaded']&&(this['loaded']=!(0xd19*-0x1+-0xb5*-0x19+0x1*-0x493),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0xacd+0x1*0x1cc1+0x5fc*-0x3)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x128d93=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0xf85+-0x1*-0xfcb+-0xe5*0x23),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x1e15a1=-0x1f96+0x4*0x472+0x6e7*0x2;_0x1e15a1<_0x128d93['length'];++_0x1e15a1){const _0xf1cee1=_0x128d93[_0x1e15a1];_0xf1cee1&&_0xf1cee1['destroy']&&_0xf1cee1['destroy']();}}static['fetchArray'+'Buffer'](_0x5395cf,_0xd92a18,_0xcd9be2,_0x359a73=0x8e*-0x40+-0xf4c+0x32cc){var _0x118aaa;(_0x118aaa=_0xcd9be2==null?void(-0x1fc8+0x16cd+0x13*0x79):_0xcd9be2['file'])!=null&&_0x118aaa['contents']?setTimeout(()=>{_0xd92a18(null,_0xcd9be2['file']['contents']);}):$e['get'](_0x5395cf,{'cache':!(-0x17f9+0x1*0x1468+0x391*0x1),'responseType':'arraybuffe'+'r','retry':_0x359a73>0x1f84*0x1+-0x10*-0x1c9+-0x2*0x1e0a,'maxRetries':_0x359a73},_0xd92a18);}}c(le,'EVENT_LOAD','load'),c(le,'EVENT_UNLO'+'AD','unload'),c(le,'EVENT_REMO'+'VE','remove'),c(le,'EVENT_ERRO'+'R','error'),c(le,'EVENT_CHAN'+'GE','change'),c(le,'EVENT_PROG'+'RESS','progress'),c(le,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(le,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class eP{constructor(_0x3a187f=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x3a187f;}['addItem'](_0x343638){const _0x435fa7=_0x343638['tags']['_list'];for(const _0x32baba of _0x435fa7)this['add'](_0x32baba,_0x343638);}['removeItem'](_0xb0ecdc){const _0x5843ec=_0xb0ecdc['tags']['_list'];for(const _0x5ddb5c of _0x5843ec)this['remove'](_0x5ddb5c,_0xb0ecdc);}['add'](_0x34e2d5,_0x473c29){this['_index'][_0x34e2d5]&&this['_index'][_0x34e2d5]['list']['indexOf'](_0x473c29)!==-(0x2e*0x2f+0x8b*0x1e+-0x18bb)||(this['_index'][_0x34e2d5]||(this['_index'][_0x34e2d5]={'list':[]},this['_key']&&(this['_index'][_0x34e2d5]['keys']={})),this['_index'][_0x34e2d5]['list']['push'](_0x473c29),this['_key']&&(this['_index'][_0x34e2d5]['keys'][_0x473c29[this['_key']]]=_0x473c29));}['remove'](_0x4df7fb,_0x382121){if(!this['_index'][_0x4df7fb]||this['_key']&&!this['_index'][_0x4df7fb]['keys'][_0x382121[this['_key']]])return;const _0x29c7e4=this['_index'][_0x4df7fb]['list']['indexOf'](_0x382121);_0x29c7e4!==-(-0x885*-0x1+-0x26ab+0x1e27)&&(this['_index'][_0x4df7fb]['list']['splice'](_0x29c7e4,0x9f1+-0x19*-0x47+-0x10df),this['_key']&&delete this['_index'][_0x4df7fb]['keys'][_0x382121[this['_key']]],this['_index'][_0x4df7fb]['list']['length']===-0xb*0x116+0x1c4a+0x2*-0x82c&&delete this['_index'][_0x4df7fb]);}['find'](_0x1142de){const _0x11ead3={},_0xeb6f27=[];let _0x3d7788,_0x297a21,_0x5da24e,_0x49bbed,_0x49186d;const _0x32cc03=(_0x4a35ef,_0xfcf7a9)=>this['_index'][_0x4a35ef]['list']['length']-this['_index'][_0xfcf7a9]['list']['length'];for(let _0x59e1ba=0x42*-0xb+0x2031+-0x1d5b;_0x59e1ba<_0x1142de['length'];_0x59e1ba++){if(_0x297a21=_0x1142de[_0x59e1ba],_0x297a21 instanceof Array){if(_0x297a21['length']===-0x1*-0x269b+0x2*0x568+-0x3*0x1079)continue;if(_0x297a21['length']===-0x1a1f+-0x8*-0x3f4+-0x580)_0x297a21=_0x297a21[-0x688*-0x5+-0x2605+0x55d];else{_0x49186d=!(0x124+-0x1*0xd85+-0x2*-0x631);for(let _0x13213d=-0x1bf8+0x1e3c+-0x244;_0x13213d<_0x297a21['length'];_0x13213d++)if(!this['_index'][_0x297a21[_0x13213d]]){_0x49186d=!(-0x1*-0x1f2d+0x22a8+-0x41d5);break;}if(_0x49186d)continue;_0x5da24e=_0x297a21['slice'](0x79f*-0x1+-0x1*-0x2631+-0x1e92)['sort'](_0x32cc03),_0x49bbed=_0x5da24e['slice'](-0x15d1+-0x1*-0x1ba3+-0x5d1),_0x49bbed['length']===-0x1c79+-0x909+0x2583&&(_0x49bbed=_0x49bbed[-0xa81*0x3+0xed1+0x10b2]);for(let _0x359371=0x1*0x95b+0x12a+-0xa85;_0x359371<this['_index'][_0x5da24e[0xe86+-0x952*-0x3+0xa9f*-0x4]]['list']['length'];_0x359371++)_0x3d7788=this['_index'][_0x5da24e[-0x1*-0x2614+-0x1a9*-0xa+-0x36ae*0x1]]['list'][_0x359371],(this['_key']?!_0x11ead3[_0x3d7788[this['_key']]]:_0xeb6f27['indexOf'](_0x3d7788)===-(0x1*-0xbfe+0x1e*0x17+0x94d))&&_0x3d7788['tags']['has'](_0x49bbed)&&(this['_key']&&(_0x11ead3[_0x3d7788[this['_key']]]=!(-0x57*-0x6b+-0x20f5+-0x368)),_0xeb6f27['push'](_0x3d7788));continue;}}if(_0x297a21&&typeof _0x297a21=='string'&&this['_index'][_0x297a21]){for(let _0x4cf6e2=0x2330+-0x1929+-0x11*0x97;_0x4cf6e2<this['_index'][_0x297a21]['list']['length'];_0x4cf6e2++)_0x3d7788=this['_index'][_0x297a21]['list'][_0x4cf6e2],this['_key']?_0x11ead3[_0x3d7788[this['_key']]]||(_0x11ead3[_0x3d7788[this['_key']]]=!(0x1288+0x1394+-0x261c),_0xeb6f27['push'](_0x3d7788)):_0xeb6f27['indexOf'](_0x3d7788)===-(0x3d2*0x5+-0x5*0x3e5+-0x8*-0xc)&&_0xeb6f27['push'](_0x3d7788);}}return _0xeb6f27;}}class ao extends ce{constructor(_0x4c22c1){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new eP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x4c22c1;}['list'](_0x99762d={}){const _0x472f7f=Array['from'](this['_assets']);return _0x99762d['preload']!==void(0x8*0x1cf+-0x16a7+-0x5*-0x1a3)?_0x472f7f['filter'](_0x1e97b3=>_0x1e97b3['preload']===_0x99762d['preload']):_0x472f7f;}['add'](_0x2f5a23){var _0x584e75,_0x5267f8;this['_assets']['has'](_0x2f5a23)||(this['_assets']['add'](_0x2f5a23),this['_idToAsset']['set'](_0x2f5a23['id'],_0x2f5a23),(_0x584e75=_0x2f5a23['file'])!=null&&_0x584e75['url']&&this['_urlToAsse'+'t']['set'](_0x2f5a23['file']['url'],_0x2f5a23),this['_nameToAss'+'et']['has'](_0x2f5a23['name'])||this['_nameToAss'+'et']['set'](_0x2f5a23['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2f5a23['name'])['add'](_0x2f5a23),_0x2f5a23['on']('name',this['_onNameCha'+'nge'],this),_0x2f5a23['registry']=this,this['_tags']['addItem'](_0x2f5a23),_0x2f5a23['tags']['on']('add',this['_onTagAdd'],this),_0x2f5a23['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x2f5a23),this['fire']('add:'+_0x2f5a23['id'],_0x2f5a23),(_0x5267f8=_0x2f5a23['file'])!=null&&_0x5267f8['url']&&this['fire']('add:url:'+_0x2f5a23['file']['url'],_0x2f5a23),_0x2f5a23['preload']&&this['load'](_0x2f5a23));}['remove'](_0x2519dc){var _0x32a30d,_0x1c7b44;if(!this['_assets']['has'](_0x2519dc))return!(0x1*-0x1e70+0x3e1*-0x1+0x2252*0x1);if(this['_assets']['delete'](_0x2519dc),this['_idToAsset']['delete'](_0x2519dc['id']),(_0x32a30d=_0x2519dc['file'])!=null&&_0x32a30d['url']&&this['_urlToAsse'+'t']['delete'](_0x2519dc['file']['url']),_0x2519dc['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x2519dc['name'])){const _0x3910d8=this['_nameToAss'+'et']['get'](_0x2519dc['name']);_0x3910d8['delete'](_0x2519dc),_0x3910d8['size']===0x10*-0x54+0x73a+-0xb*0x2e&&this['_nameToAss'+'et']['delete'](_0x2519dc['name']);}return this['_tags']['removeItem'](_0x2519dc),_0x2519dc['tags']['off']('add',this['_onTagAdd'],this),_0x2519dc['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x2519dc['fire']('remove',_0x2519dc),this['fire']('remove',_0x2519dc),this['fire']('remove:'+_0x2519dc['id'],_0x2519dc),(_0x1c7b44=_0x2519dc['file'])!=null&&_0x1c7b44['url']&&this['fire']('remove:url'+':'+_0x2519dc['file']['url'],_0x2519dc),!(-0x1171+0x9a7+0x7ca);}['get'](_0x5b2efa){return this['_idToAsset']['get'](Number(_0x5b2efa));}['getByUrl'](_0x15f894){return this['_urlToAsse'+'t']['get'](_0x15f894);}['load'](_0x413e44,_0x4462e5){if((_0x413e44['loading']||_0x413e44['loaded'])&&!(_0x4462e5!=null&&_0x4462e5['force']))return;const _0x2e9a0c=_0x413e44['file'],_0x48ca21=()=>{this['fire']('load',_0x413e44),this['fire']('load:'+_0x413e44['id'],_0x413e44),_0x2e9a0c&&_0x2e9a0c['url']&&this['fire']('load:url:'+_0x2e9a0c['url'],_0x413e44),_0x413e44['fire']('load',_0x413e44);},_0x4cebfe=_0x2b87e8=>{if(_0x2b87e8 instanceof Array?_0x413e44['resources']=_0x2b87e8:_0x413e44['resource']=_0x2b87e8,this['_loader']['patch'](_0x413e44,this),_0x413e44['type']==='bundle'){const _0x5b161b=_0x413e44['data']['assets'];for(let _0x1388fa=-0x170+0x69*0xd+-0x3e5;_0x1388fa<_0x5b161b['length'];_0x1388fa++){const _0x7d884b=this['_idToAsset']['get'](_0x5b161b[_0x1388fa]);_0x7d884b&&!_0x7d884b['loaded']&&this['load'](_0x7d884b,{'force':!(-0xc*-0x7a+-0x229c+0x4*0x739)});}_0x413e44['resource']['loaded']?_0x48ca21():(this['fire']('load:start',_0x413e44),this['fire']('load:start'+':'+_0x413e44['id'],_0x413e44),_0x2e9a0c&&_0x2e9a0c['url']&&this['fire']('load:start'+':url:'+_0x2e9a0c['url'],_0x413e44),_0x413e44['fire']('load:start',_0x413e44),_0x413e44['resource']['on']('load',_0x48ca21));}else _0x48ca21();},_0x2b40dc=(_0x15f03f,_0x1b85da,_0x2ec89b)=>{if(_0x413e44['loaded']=!(-0xc*0x301+-0x1*0x16fe+0x3b0a),_0x413e44['loading']=!(0x151b+-0x217c+0xc62),_0x15f03f)this['fire']('error',_0x15f03f,_0x413e44),this['fire']('error:'+_0x413e44['id'],_0x15f03f,_0x413e44),_0x413e44['fire']('error',_0x15f03f,_0x413e44);else{if(_0x413e44['type']==='script'){const _0x1c4d12=this['_loader']['getHandler']('script');_0x1c4d12['_cache'][_0x413e44['id']]&&_0x1c4d12['_cache'][_0x413e44['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x1c4d12['_cache'][_0x413e44['id']]),_0x1c4d12['_cache'][_0x413e44['id']]=_0x2ec89b;}_0x4cebfe(_0x1b85da);}};if(_0x2e9a0c||_0x413e44['type']==='cubemap'){this['fire']('load:start',_0x413e44),this['fire']('load:'+_0x413e44['id']+':start',_0x413e44),_0x413e44['loading']=!(-0x1f78*0x1+-0x8b*-0x47+0x31*-0x25);const _0x231f02=_0x413e44['getFileUrl']();if(_0x413e44['type']==='bundle'){const _0x2d0345=_0x413e44['data']['assets'];for(let _0x584096=0x161*-0x13+0x1879+-0xd*-0x22;_0x584096<_0x2d0345['length'];_0x584096++){const _0x8bc82c=this['_idToAsset']['get'](_0x2d0345[_0x584096]);_0x8bc82c&&(_0x8bc82c['loaded']||_0x8bc82c['resource']||_0x8bc82c['loading']||(_0x8bc82c['loading']=!(0x67*-0x4+0x1f7f+0x7*-0x445)));}}this['_loader']['load'](_0x231f02,_0x413e44['type'],_0x2b40dc,_0x413e44,_0x4462e5);}else{const _0x5d6910=this['_loader']['open'](_0x413e44['type'],_0x413e44['data']);_0x413e44['loaded']=!(-0x31b*0x2+-0xd*-0x8+0x5ce),_0x4cebfe(_0x5d6910);}}['loadFromUr'+'l'](_0x5f06be,_0x4d2771,_0x129021){this['loadFromUr'+'lAndFilena'+'me'](_0x5f06be,null,_0x4d2771,_0x129021);}['loadFromUr'+'lAndFilena'+'me'](_0x1f9be5,_0x380fd6,_0x1fc66e,_0x1fc7ea){const _0x1dd607=fe['getBasenam'+'e'](_0x380fd6||_0x1f9be5),_0x18bb9e={'filename':_0x380fd6||_0x1dd607,'url':_0x1f9be5};let _0x140a7b=this['getByUrl'](_0x1f9be5);if(!_0x140a7b)_0x140a7b=new le(_0x1dd607,_0x1fc66e,_0x18bb9e),this['add'](_0x140a7b);else{if(_0x140a7b['loaded']){_0x1fc7ea(_0x140a7b['loadFromUr'+'lError']||null,_0x140a7b);return;}}const _0x509c20=_0xa934cc=>{_0xa934cc['once']('load',_0x160b48=>{_0x1fc66e==='material'?this['_loadTextu'+'res'](_0x160b48,(_0x22ccdb,_0x28016f)=>{_0x1fc7ea(_0x22ccdb,_0x160b48);}):_0x1fc7ea(null,_0x160b48);}),_0xa934cc['once']('error',_0x58e630=>{_0x58e630&&(this['loadFromUr'+'lError']=_0x58e630),_0x1fc7ea(_0x58e630,_0xa934cc);}),this['load'](_0xa934cc);};_0x140a7b['resource']?_0x1fc7ea(null,_0x140a7b):_0x1fc66e==='model'?this['_loadModel'](_0x140a7b,_0x509c20):_0x509c20(_0x140a7b);}['_loadModel'](_0x47a868,_0x4ae466){const _0x1cf791=_0x47a868['getFileUrl'](),_0x3b4908=fe['getExtensi'+'on'](_0x1cf791);if(_0x3b4908==='.json'||_0x3b4908==='.glb'){const _0x30e189=fe['getDirecto'+'ry'](_0x1cf791),_0x71a3c1=fe['getBasenam'+'e'](_0x1cf791),_0x4893e6=fe['join'](_0x30e189,_0x71a3c1['replace'](_0x3b4908,'.mapping.j'+'son'));this['_loader']['load'](_0x4893e6,'json',(_0x589203,_0x4c3891)=>{_0x589203?(_0x47a868['data']={'mapping':[]},_0x4ae466(_0x47a868)):this['_loadMater'+'ials'](_0x47a868,_0x4c3891,(_0x44fe79,_0x4a0324)=>{_0x47a868['data']=_0x4c3891,_0x4ae466(_0x47a868);});});}else _0x4ae466(_0x47a868);}['_loadMater'+'ials'](_0x5215cc,_0x16a5f9,_0x1f7076){const _0x28d978=[];let _0x2b4efe=-0xf0c+0x1688+-0x77c;const _0x50879d=(_0x1f1cf0,_0x456114)=>{this['_loadTextu'+'res'](_0x456114,(_0x5b12de,_0x20d44d)=>{_0x28d978['push'](_0x456114),_0x28d978['length']===_0x2b4efe&&_0x1f7076(null,_0x28d978);});};for(let _0x1c3248=-0x1c*-0x14d+0x985*0x1+-0x26b*0x13;_0x1c3248<_0x16a5f9['mapping']['length'];_0x1c3248++){const _0x350451=_0x16a5f9['mapping'][_0x1c3248]['path'];if(_0x350451){_0x2b4efe++;const _0x9daa73=_0x5215cc['getAbsolut'+'eUrl'](_0x350451);this['loadFromUr'+'l'](_0x9daa73,'material',_0x50879d);}}_0x2b4efe===-0x116+0x385+-0x59*0x7&&_0x1f7076(null,_0x28d978);}['_loadTextu'+'res'](_0x5e725f,_0xc146e6){const _0x376791=[];let _0x44bfd7=0x29e+0xdb*-0x5+0x11*0x19;const _0x2c68d6=_0x5e725f['data'];if(_0x2c68d6['mappingFor'+'mat']!=='path'){v['warn']('Skipping:\x20'+_0x5e725f['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0xc146e6(null,_0x376791);return;}const _0x3a9703=(_0x3e3a36,_0x46f3d2)=>{_0x3e3a36&&console['error'](_0x3e3a36),_0x376791['push'](_0x46f3d2),_0x376791['length']===_0x44bfd7&&_0xc146e6(null,_0x376791);},_0x2d26f5=Kc;for(let _0x3c1d21=-0x42*0x4d+0x123*-0x14+0x8a*0x4f;_0x3c1d21<_0x2d26f5['length'];_0x3c1d21++){const _0x5eb56d=_0x2c68d6[_0x2d26f5[_0x3c1d21]];if(_0x5eb56d&&typeof _0x5eb56d=='string'){_0x44bfd7++;const _0x447110=_0x5e725f['getAbsolut'+'eUrl'](_0x5eb56d);this['loadFromUr'+'l'](_0x447110,'texture',_0x3a9703);}}_0x44bfd7===-0x61c+0xf6*0x21+0xccd*-0x2&&_0xc146e6(null,_0x376791);}['_onTagAdd'](_0x18aa25,_0x451292){this['_tags']['add'](_0x18aa25,_0x451292);}['_onTagRemo'+'ve'](_0x4ed865,_0x43aa19){this['_tags']['remove'](_0x4ed865,_0x43aa19);}['_onNameCha'+'nge'](_0xaadfd0,_0x2d520f,_0x574412){if(this['_nameToAss'+'et']['has'](_0x574412)){const _0x506fc6=this['_nameToAss'+'et']['get'](_0x574412);_0x506fc6['delete'](_0xaadfd0),_0x506fc6['size']===-0x7fe+0x7b9*0x4+-0x16e6&&this['_nameToAss'+'et']['delete'](_0x574412);}this['_nameToAss'+'et']['has'](_0xaadfd0['name'])||this['_nameToAss'+'et']['set'](_0xaadfd0['name'],new Set()),this['_nameToAss'+'et']['get'](_0xaadfd0['name'])['add'](_0xaadfd0);}['findByTag'](..._0x538aaa){return this['_tags']['find'](_0x538aaa);}['filter'](_0x1f5072){return Array['from'](this['_assets'])['filter'](_0x1f18fa=>_0x1f5072(_0x1f18fa));}['find'](_0x478810,_0x453335){const _0x3b65c2=this['_nameToAss'+'et']['get'](_0x478810);if(!_0x3b65c2)return null;for(const _0x2254c7 of _0x3b65c2)if(!_0x453335||_0x2254c7['type']===_0x453335)return _0x2254c7;return null;}['findAll'](_0x143c3a,_0x2a0c80){const _0x208a0a=this['_nameToAss'+'et']['get'](_0x143c3a);if(!_0x208a0a)return[];const _0x2b64c5=Array['from'](_0x208a0a);return _0x2a0c80?_0x2b64c5['filter'](_0x17ffb9=>_0x17ffb9['type']===_0x2a0c80):_0x2b64c5;}}c(ao,'EVENT_LOAD','load'),c(ao,'EVENT_ADD','add'),c(ao,'EVENT_REMO'+'VE','remove'),c(ao,'EVENT_ERRO'+'R','error');class tP{constructor(_0x5b6d5a){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x5b6d5a,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x269d2c){if(_0x269d2c['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x269d2c['id'],_0x269d2c),this['_assets']['on']('load:start'+':'+_0x269d2c['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x269d2c['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x269d2c['id'],this['_onBundleE'+'rror'],this);const _0x452649=_0x269d2c['data']['assets'];for(let _0x5c09db=0x1fac+0x1159*-0x1+-0xe53;_0x5c09db<_0x452649['length'];_0x5c09db++)this['_indexAsse'+'tInBundle'](_0x452649[_0x5c09db],_0x269d2c);}else this['_assetToBu'+'ndles']['has'](_0x269d2c['id'])&&this['_indexAsse'+'tFileUrls'](_0x269d2c);}['_unbindAss'+'etEvents'](_0x2d41e5){this['_assets']['off']('load:start'+':'+_0x2d41e5,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x2d41e5,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x2d41e5,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x2cabb2,_0x2bc1ff){let _0x3e62e2=this['_assetToBu'+'ndles']['get'](_0x2cabb2);_0x3e62e2||(_0x3e62e2=new Set(),this['_assetToBu'+'ndles']['set'](_0x2cabb2,_0x3e62e2)),_0x3e62e2['add'](_0x2bc1ff);const _0x36af90=this['_assets']['get'](_0x2cabb2);_0x36af90&&this['_indexAsse'+'tFileUrls'](_0x36af90);}['_indexAsse'+'tFileUrls'](_0x59fe46){const _0x1c166a=this['_getAssetF'+'ileUrls'](_0x59fe46);if(_0x1c166a)for(let _0x173816=-0x2*-0x1061+-0x1*-0x629+-0x171*0x1b;_0x173816<_0x1c166a['length'];_0x173816++){const _0xf88922=this['_assetToBu'+'ndles']['get'](_0x59fe46['id']);_0xf88922&&this['_urlsToBun'+'dles']['set'](_0x1c166a[_0x173816],_0xf88922);}}['_getAssetF'+'ileUrls'](_0x57e7b8){let _0x409539=_0x57e7b8['getFileUrl']();if(!_0x409539)return null;_0x409539=_0x409539['split']('?')[-0xa7b+0x1*-0x1ead+-0xdb8*-0x3];const _0x225886=[_0x409539];if(_0x57e7b8['type']==='font'){const _0xe7ab31=_0x57e7b8['data']['info']['maps']['length'];for(let _0x382c88=-0x1*-0x1a53+-0xd*-0x187+-0x1*0x2e2d;_0x382c88<_0xe7ab31;_0x382c88++)_0x225886['push'](_0x409539['replace']('.png',_0x382c88+'.png'));}return _0x225886;}['_onAssetRe'+'move'](_0x3f9580){if(_0x3f9580['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x3f9580['id']),this['_unbindAss'+'etEvents'](_0x3f9580['id']);const _0x543f52=_0x3f9580['data']['assets'];for(let _0x14897c=-0x1*0x431+-0x1*0x66f+0xaa0;_0x14897c<_0x543f52['length'];_0x14897c++){const _0x6661f8=this['_assetToBu'+'ndles']['get'](_0x543f52[_0x14897c]);if(_0x6661f8&&(_0x6661f8['delete'](_0x3f9580),_0x6661f8['size']===0xd69*0x1+-0x2386+-0x75f*-0x3)){this['_assetToBu'+'ndles']['delete'](_0x543f52[_0x14897c]);for(const [_0x678311,_0x294a62]of this['_urlsToBun'+'dles'])_0x294a62===_0x6661f8&&this['_urlsToBun'+'dles']['delete'](_0x678311);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x3f9580['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x3f9580['id']))return;this['_assetToBu'+'ndles']['delete'](_0x3f9580['id']);const _0x51e91a=this['_getAssetF'+'ileUrls'](_0x3f9580);if(!_0x51e91a)return;for(let _0x2e9bc6=-0x141a+0x10d0*-0x2+0x35ba;_0x2e9bc6<_0x51e91a['length'];_0x2e9bc6++)this['_urlsToBun'+'dles']['delete'](_0x51e91a[_0x2e9bc6]);}}['_onBundleL'+'oadStart'](_0x300620){_0x300620['resource']['on']('add',(_0x538ab5,_0x5c168a)=>{const _0x128c55=this['_fileReque'+'sts']['get'](_0x538ab5);if(_0x128c55){for(let _0x42af83=0x874*-0x3+-0x1349*-0x2+-0xd36;_0x42af83<_0x128c55['length'];_0x42af83++)_0x128c55[_0x42af83](null,_0x5c168a);this['_fileReque'+'sts']['delete'](_0x538ab5);}});}['_onBundleL'+'oad'](_0x51496d){if(!_0x51496d['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x51496d['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x25bed2,_0x22554d]of this['_fileReque'+'sts']){const _0x37757e=this['_urlsToBun'+'dles']['get'](_0x25bed2);if(!_0x37757e||!_0x37757e['has'](_0x51496d))continue;const _0x2238ee=decodeURIComponent(_0x25bed2);let _0x50f7fe,_0x41c66a;if(_0x51496d['resource']['has'](_0x2238ee))_0x41c66a=_0x51496d['resource']['get'](_0x2238ee);else{if(_0x51496d['resource']['loaded'])_0x50f7fe='Bundle\x20'+_0x51496d['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x25bed2;else continue;}for(let _0x307b8a=0x2*-0x7ec+-0xd5+0x10ad*0x1;_0x307b8a<_0x22554d['length'];_0x307b8a++)_0x22554d[_0x307b8a](_0x50f7fe,_0x50f7fe||_0x41c66a);this['_fileReque'+'sts']['delete'](_0x25bed2);}}['_onBundleE'+'rror'](_0x2e52fa){for(const [_0x190e7e,_0x2507be]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x190e7e)){for(let _0x53581a=0x318+0x197c+-0x1c94;_0x53581a<_0x2507be['length'];_0x53581a++)_0x2507be[_0x53581a](_0x2e52fa);this['_fileReque'+'sts']['delete'](_0x190e7e);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4794c3){const _0xfd66ea=this['_urlsToBun'+'dles']['get'](_0x4794c3);if(!_0xfd66ea)return null;let _0x5b9fa1=null;for(const _0x2cab43 of _0xfd66ea){if(_0x2cab43['loaded']&&_0x2cab43['resource'])return _0x2cab43;_0x2cab43['loading']&&(_0x5b9fa1=_0x2cab43);}return _0x5b9fa1;}['listBundle'+'sForAsset'](_0x441114){const _0x99b978=this['_assetToBu'+'ndles']['get'](_0x441114['id']);return _0x99b978?Array['from'](_0x99b978):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x472db2){return this['_urlsToBun'+'dles']['has'](_0x472db2);}['urlIsLoade'+'dOrLoading'](_0x12919c){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x12919c);}['loadUrl'](_0x41b584,_0x56a433){const _0x104337=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x41b584);if(!_0x104337){_0x56a433('URL\x20'+_0x41b584+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x104337['loaded']){const _0x59e991=decodeURIComponent(_0x41b584);if(_0x104337['resource']['has'](_0x59e991)){_0x56a433(null,_0x104337['resource']['get'](_0x59e991));return;}else{if(_0x104337['resource']['loaded']){_0x56a433('Bundle\x20'+_0x104337['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x41b584);return;}}}let _0xa6b9ac=this['_fileReque'+'sts']['get'](_0x41b584);_0xa6b9ac||(_0xa6b9ac=[],this['_fileReque'+'sts']['set'](_0x41b584,_0xa6b9ac)),_0xa6b9ac['push'](_0x56a433);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x1d1898 of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x1d1898);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class sP extends ce{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x3af79c){const _0x291476=_0x3af79c['id'];if(this[_0x291476])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x291476+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x291476]=_0x3af79c,this['list']['push'](_0x3af79c);}['remove'](_0x3727c2){const _0x3d4145=_0x3727c2['id'];if(!this[_0x3d4145])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x3d4145+('\x27\x20register'+'ed'));delete this[_0x3d4145];const _0x137e5e=this['list']['indexOf'](this[_0x3d4145]);_0x137e5e!==-(-0x1*0xe57+0x23*-0x43+-0x223*-0xb)&&this['list']['splice'](_0x137e5e,0x65b+0x23cb+-0x1*0x2a25);}['destroy'](){this['off']();for(let _0x530a08=-0x21b7+-0x8eb*-0x2+0x1*0xfe1;_0x530a08<this['list']['length'];_0x530a08++)this['list'][_0x530a08]['destroy']();}}class Xu extends ce{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x2303*0x1+-0x9a*-0x3b+0x178*-0x30));}['addFile'](_0xa3ebb1,_0x577147){this['_index']['has'](_0xa3ebb1)||(this['_index']['set'](_0xa3ebb1,_0x577147),this['fire']('add',_0xa3ebb1,_0x577147));}['has'](_0x1537b8){return this['_index']['has'](_0x1537b8);}['get'](_0x34327e){return this['_index']['get'](_0x34327e)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x11736f){!_0x11736f||this['_loaded']||(this['_loaded']=!(0x156b+0x11dd+-0x4e9*0x8),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Xu,'EVENT_ADD','add'),c(Xu,'EVENT_LOAD','load');class iP extends ce{constructor(_0x60e053,_0x61942c=''){super(),c(this,'headerSize',-0xab*-0x2a+0xa0f+-0x1*0x241d),c(this,'paddingSiz'+'e',0x760*-0x3+0x353*0xb+-0x1*0xc71),c(this,'bytesRead',0x6a7*0x3+-0x6*0x5c6+0xeaf),c(this,'bytesRecei'+'ved',0x193a+0x22bc+-0x3bf6),c(this,'headerRead',!(0x2159+0x2336+-0x448e)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x1*-0x20a1+0x3e*-0x1c+0x19d9*-0x1)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0xc1*-0x31+0x4a9*0x1+0x2048),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x61942c||'',this['reader']=_0x60e053['body']['getReader'](),this['reader']['read']()['then'](_0x550416=>{this['pump'](_0x550416['done'],_0x550416['value']);})['catch'](_0x199128=>{this['fire']('error',_0x199128);}));}['pump'](_0x672047,_0x252cc5){if(_0x672047)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x252cc5['byteLength'];const _0x48f8fd=new Uint8Array(this['data']['length']+_0x252cc5['length']);for(_0x48f8fd['set'](this['data']),_0x48f8fd['set'](_0x252cc5,this['data']['length']),this['data']=_0x48f8fd;this['readFile'](););return this['reader']['read']()['then'](_0x430812=>{this['pump'](_0x430812['done'],_0x430812['value']);})['catch'](_0x2f260a=>{this['fire']('error',_0x2f260a);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x4*0x1f7+0x2b7*-0x1+-0x525);const _0x3a6270=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0xdee271=this['decoder']['decode'](_0x3a6270);if(this['fileName']=_0xdee271['substring'](0x179*0x16+-0xbab+-0x14bb,0x19ea+-0x3c5+0x15c1*-0x1)['replace'](/\0/g,''),this['fileSize']=parseInt(_0xdee271['substring'](0x1*-0x16e5+-0x227*0x1+0x662*0x4,0x24d4+-0x1*0x1b81+-0x8cb),0x19dd*-0x1+0x23b2+-0x9cd),this['fileType']=_0xdee271['substring'](0x17f*0x5+-0x22dc+0x1bfd,-0x247*0x3+-0x3e6*-0x5+-0x202*0x6),this['ustarForma'+'t']=_0xdee271['substring'](0xe4c+-0x1969+0xc1e,-0x1540+-0x2117+0x375e),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0xa9c+-0x22d*-0x11+-0x1a60)){const _0x267d0d=_0xdee271['substring'](-0x1c77+-0x1530+0x3300,0x18cb+-0x232e+0x9*0x15f)['replace'](/\0/g,'');_0x267d0d['length']>-0x846+0x168+0x6de&&(this['fileName']=_0x267d0d['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x381+0x1b8b+0xb6*-0x1f;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(-0xfb3*0x1+-0x25c9+0x357d);if(this['fileType']===''||this['fileType']==='0'){const _0x294103=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x59b91e={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x294103};this['fire']('file',_0x59b91e);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x4f*0x32+-0x121e*-0x1+0x2af*-0x1);const _0x347595=this['bytesRead']%this['paddingSiz'+'e'];return _0x347595!==-0xa*-0x18e+0x640*0x6+-0x350c&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x347595),!(-0x1254*-0x1+0x95*0x33+0x3003*-0x1);}return!(-0x19bd+0x2d*-0x72+0x2dc8);}}class Ne{constructor(_0x5e18b1,_0x7311e2){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',-0x1ec0+-0x2da*0x3+0x274e),(this['_app']=_0x5e18b1,this['handlerTyp'+'e']=_0x7311e2);}set['maxRetries'](_0x1935f3){this['_maxRetrie'+'s']=_0x1935f3;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x459cbb,_0x44157b,_0x4a035b){}['open'](_0x2214ce,_0x127096,_0x15501a){return _0x127096;}['patch'](_0x3ffe17,_0x4739fa){}}class rP extends Ne{constructor(_0x2ed86e){super(_0x2ed86e,'bundle'),this['_assets']=_0x2ed86e['assets'];}['_fetchRetr'+'ies'](_0x201e7f,_0x6d25ab,_0x4bcb9e=0x230a+0x5b3*-0x4+-0xc3e){return new Promise((_0xa7bec5,_0x1c3ca8)=>{const _0x24357c=()=>{fetch(_0x201e7f,_0x6d25ab)['then'](_0xa7bec5)['catch'](_0x41ee7a=>{_0x4bcb9e++,_0x4bcb9e<this['maxRetries']?(v['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x4bcb9e),_0x24357c()):_0x1c3ca8(_0x41ee7a);});};_0x24357c();});}['load'](_0x291a60,_0x30938f){typeof _0x291a60=='string'&&(_0x291a60={'load':_0x291a60,'original':_0x291a60}),this['_fetchRetr'+'ies'](_0x291a60['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x1ba3b4=>{const _0x3d1f79=new Xu();_0x30938f(null,_0x3d1f79);const _0x5154fb=new iP(_0x1ba3b4,this['_assets']['prefix']);_0x5154fb['on']('file',_0x155d4b=>{_0x3d1f79['addFile'](_0x155d4b['name'],_0x155d4b['data']);}),_0x5154fb['on']('done',()=>{_0x3d1f79['loaded']=!(0x17d5*0x1+0x1*0x1b22+0x10fd*-0x3);}),_0x5154fb['on']('error',_0x68f18f=>{v['error'](_0x68f18f),_0x30938f(_0x68f18f);});})['catch'](_0xf6edb3=>{v['error'](_0xf6edb3),_0x30938f(_0xf6edb3);});}['open'](_0x2bf37e,_0x571d10){return _0x571d10;}}class pa{constructor(_0x322838){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x322838;}['addHandler'](_0x2931ca,_0x5120fa){this['_handlers'][_0x2931ca]=_0x5120fa,_0x5120fa['_loader']=this;}['removeHand'+'ler'](_0x12b329){delete this['_handlers'][_0x12b329];}['getHandler'](_0x47b94a){return this['_handlers'][_0x47b94a];}static['makeKey'](_0x35eae0,_0x167a73){return _0x35eae0+'-'+_0x167a73;}['load'](_0xb966c5,_0x14cf22,_0x1756d0,_0x47744b,_0x4f6f8f){var _0x3c19f4;const _0x5cdb1f=this['_handlers'][_0x14cf22];if(!_0x5cdb1f){const _0x23e943='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x14cf22+('\x27\x20when\x20loa'+'ding\x20[')+_0xb966c5+']';v['errorOnce'](_0x23e943),_0x1756d0(_0x23e943);return;}if(!_0xb966c5){this['_loadNull'](_0x5cdb1f,_0x1756d0,_0x47744b);return;}const _0x2ecc66=pa['makeKey'](_0xb966c5,_0x14cf22);if(this['_cache'][_0x2ecc66]!==void(-0x518*0x4+0x946+-0x58d*-0x2))_0x1756d0(null,this['_cache'][_0x2ecc66]);else{if(this['_requests'][_0x2ecc66])this['_requests'][_0x2ecc66]['push'](_0x1756d0);else{this['_requests'][_0x2ecc66]=[_0x1756d0];const _0x5a5b91=this,_0x468137=function(_0xcc5145,_0x30c033){if(_0xcc5145){_0x5a5b91['_onFailure'](_0x2ecc66,_0xcc5145);return;}if(_0x30c033['load']instanceof DataView){if(_0x5cdb1f['openBinary']){if(!_0x5a5b91['_requests'][_0x2ecc66])return;try{const _0x14b2f1=_0x5cdb1f['openBinary'](_0x30c033['load']);_0x5a5b91['_onSuccess'](_0x2ecc66,_0x14b2f1);}catch(_0x5a698a){_0x5a5b91['_onFailure'](_0x2ecc66,_0x5a698a);}return;}_0x30c033['load']=URL['createObje'+'ctURL'](new Blob([_0x30c033['load']])),_0x47744b&&(_0x47744b['urlObject']&&URL['revokeObje'+'ctURL'](_0x47744b['urlObject']),_0x47744b['urlObject']=_0x30c033['load']);}_0x5cdb1f['load'](_0x30c033,(_0x4ba05c,_0x26eec2,_0x3f1560)=>{if(_0x5a5b91['_requests'][_0x2ecc66]){if(_0x4ba05c){_0x5a5b91['_onFailure'](_0x2ecc66,_0x4ba05c);return;}try{_0x5a5b91['_onSuccess'](_0x2ecc66,_0x5cdb1f['open'](_0x30c033['original'],_0x26eec2,_0x47744b),_0x3f1560);}catch(_0x45e8d0){_0x5a5b91['_onFailure'](_0x2ecc66,_0x45e8d0);}}},_0x47744b);},_0x30f5ef=_0xb966c5['split']('?')[0x1*0xa10+-0x12a6+0x1*0x896];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x30f5ef)&&!(_0x4f6f8f&&_0x4f6f8f['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x30f5ef)){const _0x44d664=this['_app']['bundles']['listBundle'+'sForAsset'](_0x47744b);let _0x4ac8d3;_0x4f6f8f&&_0x4f6f8f['bundlesFil'+'ter']&&(_0x4ac8d3=_0x4f6f8f['bundlesFil'+'ter'](_0x44d664)),_0x4ac8d3||(_0x44d664==null||_0x44d664['sort']((_0x1b7af2,_0x3bc330)=>_0x1b7af2['file']['size']-_0x3bc330['file']['size']),_0x4ac8d3=_0x44d664==null?void(0x276+0x26*-0xe0+0x1*0x1eca):_0x44d664[0x293+-0xe05+-0x125*-0xa]),_0x4ac8d3&&((_0x3c19f4=this['_app']['assets'])==null||_0x3c19f4['load'](_0x4ac8d3));}this['_app']['bundles']['loadUrl'](_0x30f5ef,(_0x327a6f,_0x3b5732)=>{_0x468137(_0x327a6f,{'load':_0x3b5732,'original':_0x30f5ef});});}else _0x468137(null,{'load':_0xb966c5,'original':_0x47744b&&_0x47744b['file']['filename']||_0xb966c5});}}}['_loadNull'](_0x267ce3,_0x4fd421,_0x9e9b64){const _0x553938=function(_0x48c162,_0x554239,_0x2e9404){if(_0x48c162)_0x4fd421(_0x48c162);else try{_0x4fd421(null,_0x267ce3['open'](null,_0x554239,_0x9e9b64),_0x2e9404);}catch(_0x52054c){_0x4fd421(_0x52054c);}};_0x267ce3['load'](null,_0x553938,_0x9e9b64);}['_onSuccess'](_0x26f776,_0x429f1c,_0x134257){_0x429f1c!==null?this['_cache'][_0x26f776]=_0x429f1c:delete this['_cache'][_0x26f776];for(let _0x24e7a9=0x2620+0x19a0+-0x3fc0;_0x24e7a9<this['_requests'][_0x26f776]['length'];_0x24e7a9++)this['_requests'][_0x26f776][_0x24e7a9](null,_0x429f1c,_0x134257);delete this['_requests'][_0x26f776];}['_onFailure'](_0x4cf7c9,_0x10f69b){if(console['error'](_0x10f69b),this['_requests'][_0x4cf7c9]){for(let _0x587a53=0x609+-0xd0+0x1*-0x539;_0x587a53<this['_requests'][_0x4cf7c9]['length'];_0x587a53++)this['_requests'][_0x4cf7c9][_0x587a53](_0x10f69b);delete this['_requests'][_0x4cf7c9];}}['open'](_0x1ac765,_0x329297){const _0x241c0a=this['_handlers'][_0x1ac765];return _0x241c0a?_0x241c0a['open'](null,_0x329297):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x1ac765),_0x329297);}['patch'](_0x428557,_0x3a8845){const _0x1ba38a=this['_handlers'][_0x428557['type']];if(!_0x1ba38a){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x428557['type']);return;}_0x1ba38a['patch']&&_0x1ba38a['patch'](_0x428557,_0x3a8845);}['clearCache'](_0x4867c6,_0x56eedc){const _0x311092=pa['makeKey'](_0x4867c6,_0x56eedc);delete this['_cache'][_0x311092];}['getFromCac'+'he'](_0x3d2bb2,_0x37b30d){const _0x57c39f=pa['makeKey'](_0x3d2bb2,_0x37b30d);if(this['_cache'][_0x57c39f])return this['_cache'][_0x57c39f];}['enableRetr'+'y'](_0x101951=-0x1827*0x1+0x1166+0x6c6){_0x101951=Math['max'](0x979+0x1de*-0x13+-0x1*-0x1a01,_0x101951)||0x6ab+0x1ed*-0x2+-0x2d1;for(const _0x10a835 in this['_handlers'])this['_handlers'][_0x10a835]['maxRetries']=_0x101951;}['disableRet'+'ry'](){for(const _0x872582 in this['_handlers'])this['_handlers'][_0x872582]['maxRetries']=0x1650*-0x1+0xb3a+0xb16;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class nP{['_validate'](_0x1061fc){if(!_0x1061fc['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x1061fc['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1061fc['header']['version']!==0x1*0x2485+-0x1b10+-0x974)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1061fc['data']){if(!Array['isArray'](_0x1061fc['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x50f1ab=-0x2*-0xf58+-0x1212+0xaa*-0x13,_0x373a22=_0x1061fc['data']['length'];_0x50f1ab<_0x373a22;_0x50f1ab++){const _0xc94359=_0x1061fc['data'][_0x50f1ab];if(!_0xc94359['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x50f1ab+('].info\x22\x20fi'+'eld'));if(!_0xc94359['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x50f1ab+('].info.loc'+'ale\x22\x20field'));if(typeof _0xc94359['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x50f1ab+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0xc94359['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x50f1ab+('].messages'+'\x22\x20field'));}}['parse'](_0x4f169a){return this['_validate'](_0x4f169a),_0x4f169a['data'];}}class aP extends ce{constructor(_0x2423a2){super(),this['locale']=Wh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x2423a2,this['_assets']=[],this['_parser']=new nP();}set['assets'](_0x3e5b15){const _0x47ec09={};for(let _0x5f1a34=0x1428+-0x1ac2+-0x82*-0xd,_0x1a9f3a=_0x3e5b15['length'];_0x5f1a34<_0x1a9f3a;_0x5f1a34++){const _0xf04a0d=_0x3e5b15[_0x5f1a34]instanceof le?_0x3e5b15[_0x5f1a34]['id']:_0x3e5b15[_0x5f1a34];_0x47ec09[_0xf04a0d]=!(-0x1*-0x130d+-0x1d3d+0xa30);}let _0x40c174=this['_assets']['length'];for(;_0x40c174--;){const _0x4b9ceb=this['_assets'][_0x40c174];if(!_0x47ec09[_0x4b9ceb]){this['_app']['assets']['off']('add:'+_0x4b9ceb,this['_onAssetAd'+'d'],this);const _0x1571ed=this['_app']['assets']['get'](_0x4b9ceb);_0x1571ed&&this['_onAssetRe'+'move'](_0x1571ed),this['_assets']['splice'](_0x40c174,-0x2*0xbf2+0x19b9+-0x1d4);}}for(const _0x4912dc in _0x47ec09){const _0x5a852a=parseInt(_0x4912dc,-0x17*0x187+-0x2225*-0x1+-0x1*-0x106);if(this['_assets']['indexOf'](_0x5a852a)!==-(0x6*-0x628+0x2021+0x4d0))continue;this['_assets']['push'](_0x5a852a);const _0x583539=this['_app']['assets']['get'](_0x5a852a);_0x583539?this['_onAssetAd'+'d'](_0x583539):this['_app']['assets']['once']('add:'+_0x5a852a,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x5e239b){if(this['_locale']===_0x5e239b)return;let _0x47b3aa=pi(_0x5e239b);if(_0x47b3aa==='in'&&(_0x47b3aa='id',_0x5e239b=Y1(_0x5e239b,_0x47b3aa),this['_locale']===_0x5e239b))return;const _0x18d48e=this['_locale'];this['_locale']=_0x5e239b,this['_lang']=_0x47b3aa,this['_pluralFn']=Xd(this['_lang']),this['fire']('set:locale',_0x5e239b,_0x18d48e);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x4a04f8,_0x6f4735){return V0(_0x4a04f8,_0x6f4735);}['findAvaila'+'bleLocale'](_0x170d61){if(this['_translati'+'ons'][_0x170d61])return _0x170d61;const _0x43af88=pi(_0x170d61);return this['_findFallb'+'ackLocale'](_0x170d61,_0x43af88);}['getText'](_0x1c6361,_0x16eb70){let _0x41b461=_0x1c6361,_0x5ca934;_0x16eb70||(_0x16eb70=this['_locale'],_0x5ca934=this['_lang']);let _0x5129cf=this['_translati'+'ons'][_0x16eb70];return _0x5129cf||(_0x5ca934||(_0x5ca934=pi(_0x16eb70)),_0x16eb70=this['_findFallb'+'ackLocale'](_0x16eb70,_0x5ca934),_0x5129cf=this['_translati'+'ons'][_0x16eb70]),_0x5129cf&&_0x5129cf['hasOwnProp'+'erty'](_0x1c6361)&&(_0x41b461=_0x5129cf[_0x1c6361],Array['isArray'](_0x41b461)&&(_0x41b461=_0x41b461[-0x12f8+0x644*0x1+0xcb4]),_0x41b461==null&&(_0x41b461=_0x1c6361)),_0x41b461;}['getPluralT'+'ext'](_0x2210ca,_0x5c4518,_0xf528a4){let _0x4bfe62=_0x2210ca,_0x4a670a,_0x4dedd7;_0xf528a4?(_0x4a670a=pi(_0xf528a4),_0x4dedd7=Xd(_0x4a670a)):(_0xf528a4=this['_locale'],_0x4a670a=this['_lang'],_0x4dedd7=this['_pluralFn']);let _0x51583d=this['_translati'+'ons'][_0xf528a4];if(_0x51583d||(_0xf528a4=this['_findFallb'+'ackLocale'](_0xf528a4,_0x4a670a),_0x4a670a=pi(_0xf528a4),_0x4dedd7=Xd(_0x4a670a),_0x51583d=this['_translati'+'ons'][_0xf528a4]),_0x51583d&&_0x51583d[_0x2210ca]&&_0x4dedd7){const _0x35ddae=_0x4dedd7(_0x5c4518);_0x4bfe62=_0x51583d[_0x2210ca][_0x35ddae],_0x4bfe62==null&&(_0x4bfe62=_0x2210ca);}return _0x4bfe62;}['addData'](_0x45b64a){let _0x29c8d4;try{_0x29c8d4=this['_parser']['parse'](_0x45b64a);}catch(_0x295545){console['error'](_0x295545);return;}for(let _0x3c3374=0x7a+0x24d5+-0x254f*0x1,_0xa6dc13=_0x29c8d4['length'];_0x3c3374<_0xa6dc13;_0x3c3374++){const _0x140742=_0x29c8d4[_0x3c3374],_0x2c3696=_0x140742['info']['locale'],_0x5e78ea=_0x140742['messages'];if(!this['_translati'+'ons'][_0x2c3696]){this['_translati'+'ons'][_0x2c3696]={};const _0x68626d=pi(_0x2c3696);this['_available'+'Langs'][_0x68626d]||(this['_available'+'Langs'][_0x68626d]=_0x2c3696);}Object['assign'](this['_translati'+'ons'][_0x2c3696],_0x5e78ea),this['fire']('data:add',_0x2c3696,_0x5e78ea);}}['removeData'](_0x5d3af9){let _0x2e3d21;try{_0x2e3d21=this['_parser']['parse'](_0x5d3af9);}catch(_0x5bfdb2){console['error'](_0x5bfdb2);return;}for(let _0x43b01b=-0x31*-0xbf+-0x7ba+-0x1cd5,_0x2b7071=_0x2e3d21['length'];_0x43b01b<_0x2b7071;_0x43b01b++){const _0x493d2d=_0x2e3d21[_0x43b01b],_0x15f991=_0x493d2d['info']['locale'],_0x4a3440=this['_translati'+'ons'][_0x15f991];if(!_0x4a3440)continue;const _0x132399=_0x493d2d['messages'];for(const _0x4d3bf0 in _0x132399)delete _0x4a3440[_0x4d3bf0];Object['keys'](_0x4a3440)['length']===-0x90+-0x1*0x3bf+0x44f&&(delete this['_translati'+'ons'][_0x15f991],delete this['_available'+'Langs'][pi(_0x15f991)]),this['fire']('data:remov'+'e',_0x15f991,_0x132399);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x50b6c3,_0x164a1a){let _0x3f794c=$h[_0x50b6c3];return _0x3f794c&&this['_translati'+'ons'][_0x3f794c]||(_0x3f794c=$h[_0x164a1a],_0x3f794c&&this['_translati'+'ons'][_0x3f794c])||(_0x3f794c=this['_available'+'Langs'][_0x164a1a],_0x3f794c&&this['_translati'+'ons'][_0x3f794c])?_0x3f794c:Wh;}['_onAssetAd'+'d'](_0x302f12){_0x302f12['on']('load',this['_onAssetLo'+'ad'],this),_0x302f12['on']('change',this['_onAssetCh'+'ange'],this),_0x302f12['on']('remove',this['_onAssetRe'+'move'],this),_0x302f12['on']('unload',this['_onAssetUn'+'load'],this),_0x302f12['resource']&&this['_onAssetLo'+'ad'](_0x302f12);}['_onAssetLo'+'ad'](_0x9ac5b){this['addData'](_0x9ac5b['resource']);}['_onAssetCh'+'ange'](_0x6a835f){_0x6a835f['resource']&&this['addData'](_0x6a835f['resource']);}['_onAssetRe'+'move'](_0xee2372){_0xee2372['off']('load',this['_onAssetLo'+'ad'],this),_0xee2372['off']('change',this['_onAssetCh'+'ange'],this),_0xee2372['off']('remove',this['_onAssetRe'+'move'],this),_0xee2372['off']('unload',this['_onAssetUn'+'load'],this),_0xee2372['resource']&&this['removeData'](_0xee2372['resource']),this['_app']['assets']['once']('add:'+_0xee2372['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x25af3b){_0x25af3b['resource']&&this['removeData'](_0x25af3b['resource']);}}class oP extends ce{constructor(_0x56a76b){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x56a76b;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x22aca4,_0x7959cf){_0x7959cf&&this['_scriptSch'+'emas']['set'](_0x22aca4,_0x7959cf);}['getSchema'](_0x598088){return this['_scriptSch'+'emas']['get'](_0x598088);}['add'](_0x75a509){const _0x9ab207=_0x75a509['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x9ab207)?(setTimeout(()=>{if(_0x75a509['prototype']['swap']){const _0x4ef1e8=this['_scripts'][_0x9ab207],_0x2248b1=this['_list']['indexOf'](_0x4ef1e8);this['_list'][_0x2248b1]=_0x75a509,this['_scripts'][_0x9ab207]=_0x75a509,this['fire']('swap',_0x9ab207,_0x75a509),this['fire']('swap:'+_0x9ab207,_0x75a509);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x9ab207+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x2ab*0xc+-0x110f+0x3114)):(this['_scripts'][_0x9ab207]=_0x75a509,this['_list']['push'](_0x75a509),this['fire']('add',_0x9ab207,_0x75a509),this['fire']('add:'+_0x9ab207,_0x75a509),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x9ab207)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4bdfc1=this['app']['systems']['script']['_component'+'s'];let _0x38e7ce;const _0x5b7776=[],_0x4c1b62=[];for(_0x4bdfc1['loopIndex']=0x2*0x3c4+0xf9*-0x11+0x901;_0x4bdfc1['loopIndex']<_0x4bdfc1['length'];_0x4bdfc1['loopIndex']++){const _0xc91c5d=_0x4bdfc1['items'][_0x4bdfc1['loopIndex']];if(_0xc91c5d['_scriptsIn'+'dex'][_0x9ab207]&&_0xc91c5d['_scriptsIn'+'dex'][_0x9ab207]['awaiting']){_0xc91c5d['_scriptsDa'+'ta']&&_0xc91c5d['_scriptsDa'+'ta'][_0x9ab207]&&(_0x38e7ce=_0xc91c5d['_scriptsDa'+'ta'][_0x9ab207]['attributes']);const _0x2ddcca=_0xc91c5d['create'](_0x9ab207,{'preloading':!(0x3df*0x4+-0x1c0+-0xdbc*0x1),'ind':_0xc91c5d['_scriptsIn'+'dex'][_0x9ab207]['ind'],'attributes':_0x38e7ce});_0x2ddcca&&_0x5b7776['push'](_0x2ddcca);for(const _0x219e78 of _0xc91c5d['scripts'])_0xc91c5d['initialize'+'Attributes'](_0x219e78);}}for(let _0xeb704b=0x61d*0x2+0x3*-0x12c+-0x2*0x45b;_0xeb704b<_0x5b7776['length'];_0xeb704b++)_0x5b7776[_0xeb704b]['enabled']&&(_0x5b7776[_0xeb704b]['_initializ'+'ed']=!(-0x517*-0x4+0x104f+-0x24ab),_0x4c1b62['push'](_0x5b7776[_0xeb704b]),_0x5b7776[_0xeb704b]['initialize']&&_0x5b7776[_0xeb704b]['initialize']());for(let _0x4ebc34=-0x15e9+0xc9b+0x31a*0x3;_0x4ebc34<_0x4c1b62['length'];_0x4ebc34++)!_0x4c1b62[_0x4ebc34]['enabled']||_0x4c1b62[_0x4ebc34]['_postIniti'+'alized']||(_0x4c1b62[_0x4ebc34]['_postIniti'+'alized']=!(0x2ce*-0x7+0x2337+-0xf95),_0x4c1b62[_0x4ebc34]['postInitia'+'lize']&&_0x4c1b62[_0x4ebc34]['postInitia'+'lize']());}),!(-0x1956+-0x266c+0x3fc2*0x1));}['remove'](_0x70f99d){let _0x543c3e=_0x70f99d,_0x5a3913=_0x70f99d;if(typeof _0x5a3913!='string'?_0x5a3913=_0x543c3e['__name']:_0x543c3e=this['get'](_0x5a3913),this['get'](_0x5a3913)!==_0x543c3e)return!(0x32f+0x128c+-0x36*0x67);delete this['_scripts'][_0x5a3913];const _0x345465=this['_list']['indexOf'](_0x543c3e);return this['_list']['splice'](_0x345465,0x1a41+0x1*0x20a9+-0x3*0x13a3),this['fire']('remove',_0x5a3913,_0x543c3e),this['fire']('remove:'+_0x5a3913,_0x543c3e),!(-0x10e7*0x2+0x11de+0xff0);}['get'](_0x28702a){return this['_scripts'][_0x28702a]||null;}['has'](_0x3b6dde){if(typeof _0x3b6dde=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x3b6dde);if(!_0x3b6dde)return!(0x3ad*0x8+-0xf0d+-0xe5a);const _0x5b9258=_0x3b6dde['__name'];return this['_scripts'][_0x5b9258]===_0x3b6dde;}['list'](){return this['_list'];}}const lP=(_0x4fb291,_0x250ff7)=>_0x4fb291['constructo'+'r']['order']-_0x250ff7['constructo'+'r']['order'],hP=_0x2182c7=>_0x2182c7['sort'](lP),Za=[],G0=[],cP=()=>G0['pop']()??[],$_=_0x518466=>{_0x518466['length']=-0x16f5+-0x651*-0x4+0x24f*-0x1,G0['push'](_0x518466);},ac=class ac extends De{constructor(_0x392779,_0x294e49=tn()){super(_0x392779),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0x2dc+0x166*0x6+-0xb3f)),c(this,'_guid',null),c(this,'_template',!(-0x161b+0x96*-0x8+0x4*0x6b3)),(v['assert'](_0x294e49,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x294e49);}['addCompone'+'nt'](_0x334c2e,_0x1e9b20){const _0x35819a=this['_app']['systems'][_0x334c2e];return _0x35819a?this['c'][_0x334c2e]?(v['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x334c2e+('\x27\x20componen'+'t')),null):_0x35819a['addCompone'+'nt'](this,_0x1e9b20):(v['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x334c2e+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x24b850){const _0x5b26fb=this['_app']['systems'][_0x24b850];if(!_0x5b26fb){v['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x24b850+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x24b850]){v['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x24b850+('\x27\x20componen'+'t'));return;}_0x5b26fb['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x35f919){const _0x26a975=this['findOne'](_0x5458b9=>{var _0x331800;return(_0x331800=_0x5458b9['c'])==null?void(0x17*-0x13+-0x1*-0x1ac5+-0x1910):_0x331800[_0x35f919];});return _0x26a975&&_0x26a975['c'][_0x35f919];}['findCompon'+'ents'](_0x33e9ba){return this['find'](_0x4b9c02=>{var _0x52baeb;return(_0x52baeb=_0x4b9c02['c'])==null?void(0x3*-0xcad+-0x21ad*-0x1+0x22d*0x2):_0x52baeb[_0x33e9ba];})['map'](_0x16ccc0=>_0x16ccc0['c'][_0x33e9ba]);}['findScript'](_0x24c611){const _0x4edce9=this['findOne'](_0x37eb5a=>{var _0x369263,_0x1f284d;return(_0x1f284d=(_0x369263=_0x37eb5a['c'])==null?void(-0x975+-0x149*-0x12+-0xdad):_0x369263['script'])==null?void(0xef3+-0xdfc*0x1+0x13*-0xd):_0x1f284d['has'](_0x24c611);});return _0x4edce9==null?void(-0x141*-0x12+0x22*-0x115+-0x2d8*-0x5):_0x4edce9['c']['script']['get'](_0x24c611);}['findScript'+'s'](_0x584d29){return this['find'](_0x3868fd=>{var _0x29d8b3,_0x2fb66a;return(_0x2fb66a=(_0x29d8b3=_0x3868fd['c'])==null?void(0x1*0x3ee+0x1297+-0x481*0x5):_0x29d8b3['script'])==null?void(-0x4*-0x5ad+-0xf1*0x7+-0x101d):_0x2fb66a['has'](_0x584d29);})['map'](_0x2a71b3=>_0x2a71b3['c']['script']['get'](_0x584d29));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x8e4f86){const _0x1d00b6=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x1d00b6[this['_guid']],this['_guid']=_0x8e4f86,_0x1d00b6[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x32015a,_0x16ffcb){let _0x1a05fa=!(-0x62+-0x23e5*0x1+0x2448);_0x32015a===this&&Za['length']===0x17b0+0x1*0x161f+-0x2dcf&&(_0x1a05fa=!(-0x14bf+-0x184c+0x2d0b)),_0x32015a['_beingEnab'+'led']=!(-0x8f9*0x2+0x6*-0x24e+-0x1*-0x1fc6),_0x32015a['_onHierarc'+'hyStateCha'+'nged'](_0x16ffcb),_0x32015a['_onHierarc'+'hyStatePos'+'tChanged']&&Za['push'](_0x32015a);const _0x24bdd7=_0x32015a['_children'];for(let _0x371571=-0x117c+-0x634*0x3+0x181*0x18,_0x10ce05=_0x24bdd7['length'];_0x371571<_0x10ce05;_0x371571++)_0x24bdd7[_0x371571]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x24bdd7[_0x371571],_0x16ffcb);if(_0x32015a['_beingEnab'+'led']=!(0xccf*0x1+-0x1827*-0x1+-0x1*0x24f5),_0x1a05fa){for(let _0x474e72=-0x170b+-0x110f+-0xd5e*-0x3;_0x474e72<Za['length'];_0x474e72++)Za[_0x474e72]['_onHierarc'+'hyStatePos'+'tChanged']();Za['length']=-0x123*0x3+-0x2*0xf2e+0x1c7*0x13;}}['_onHierarc'+'hyStateCha'+'nged'](_0x314418){super['_onHierarc'+'hyStateCha'+'nged'](_0x314418);const _0x4a79a2=this['_getSorted'+'Components']();for(let _0x4a4bd3=-0x1eb*-0xb+-0x536*-0x4+0x4a9*-0x9;_0x4a4bd3<_0x4a79a2['length'];_0x4a4bd3++){const _0xc2e2b8=_0x4a79a2[_0x4a4bd3];_0xc2e2b8['enabled']&&(_0x314418?_0xc2e2b8['onEnable']():_0xc2e2b8['onDisable']());}$_(_0x4a79a2);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x41d995=this['_getSorted'+'Components']();for(let _0x149498=-0x13b1*-0x1+0x1936+-0x2ce7;_0x149498<_0x41d995['length'];_0x149498++)_0x41d995[_0x149498]['onPostStat'+'eChange']();$_(_0x41d995);}['findByGuid'](_0x118828){if(this['_guid']===_0x118828)return this;const _0x495bc2=this['_app']['_entityInd'+'ex'][_0x118828];return _0x495bc2&&(_0x495bc2===this||_0x495bc2['isDescenda'+'ntOf'](this))?_0x495bc2:null;}['destroy'](){this['_destroyin'+'g']=!(0x1b2a+-0x1b*0x25+-0x1743);for(const _0x8b10d8 in this['c'])this['c'][_0x8b10d8]['enabled']=!(-0x1*-0xb69+-0x198f+0xe27);for(const _0xf02277 in this['c'])this['c'][_0xf02277]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x1de9+0x1f*0xc6+-0x8fb*0x6);}['clone'](){const _0x2a1b89={},_0x5a8ab4=this['_cloneRecu'+'rsively'](_0x2a1b89);return _0x2a1b89[this['getGuid']()]=_0x5a8ab4,H0(this,this,_0x5a8ab4,_0x2a1b89),_0x5a8ab4;}['_getSorted'+'Components'](){const _0x516a41=this['c'],_0x51a36d=cP();let _0x100c69=0x1750+0x1*0x64a+-0x1d9a;for(const _0x4fdf6f in _0x516a41)if(_0x516a41['hasOwnProp'+'erty'](_0x4fdf6f)){const _0x180383=_0x516a41[_0x4fdf6f];_0x100c69|=_0x180383['constructo'+'r']['order']!==0x11e2+0x6*-0x5d1+0x1104,_0x51a36d['push'](_0x180383);}return _0x100c69&&_0x51a36d['length']>-0x1a*-0x124+0xe9*0x13+-0x1779*0x2&&hP(_0x51a36d),_0x51a36d;}['_cloneRecu'+'rsively'](_0xbbe1d1){const _0x259136=new this['constructo'+'r'](void(0x197*0x7+0x10b+-0xc2c),this['_app']);super['_cloneInte'+'rnal'](_0x259136);for(const _0x29bcdf in this['c'])this['c'][_0x29bcdf]['system']['cloneCompo'+'nent'](this,_0x259136);for(let _0x3ea05f=0x1e30+-0xade+-0x1352;_0x3ea05f<this['_children']['length'];_0x3ea05f++){const _0x5ab465=this['_children'][_0x3ea05f];if(_0x5ab465 instanceof ac){const _0x2efed7=_0x5ab465['_cloneRecu'+'rsively'](_0xbbe1d1);_0x259136['addChild'](_0x2efed7),_0xbbe1d1[_0x5ab465['getGuid']()]=_0x2efed7;}}return _0x259136;}};c(ac,'EVENT_DEST'+'ROY','destroy');let We=ac;function H0(_0x13865f,_0x3a9e81,_0x2a30df,_0x3be2aa){if(_0x3a9e81 instanceof We){const _0x1fa92c=_0x3a9e81['c'];for(const _0x18963d in _0x1fa92c){const _0x9d5ebf=_0x1fa92c[_0x18963d],_0x4f8c01=_0x9d5ebf['system']['getPropert'+'iesOfType']('entity');for(let _0x4916ec=-0xe80+0xd11+0x1*0x16f,_0x55b2f9=_0x4f8c01['length'];_0x4916ec<_0x55b2f9;_0x4916ec++){const _0x3d422e=_0x4f8c01[_0x4916ec]['name'],_0x24a161=_0x9d5ebf[_0x3d422e];if(!!_0x13865f['findByGuid'](_0x24a161)){const _0x598b69=_0x3be2aa[_0x24a161]['getGuid']();_0x598b69?_0x2a30df['c'][_0x18963d][_0x3d422e]=_0x598b69:v['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x1fa92c['script']&&_0x2a30df['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1fa92c['script'],_0x3be2aa),_0x1fa92c['render']&&_0x2a30df['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1fa92c['render'],_0x3be2aa),_0x1fa92c['button']&&_0x2a30df['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1fa92c['button'],_0x3be2aa),_0x1fa92c['scrollview']&&_0x2a30df['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1fa92c['scrollview'],_0x3be2aa),_0x1fa92c['scrollbar']&&_0x2a30df['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1fa92c['scrollbar'],_0x3be2aa),_0x1fa92c['anim']&&_0x2a30df['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1fa92c['anim'],_0x3be2aa);const _0x2316be=_0x3a9e81['children']['filter'](_0x521462=>_0x521462 instanceof We),_0x1d88fc=_0x2a30df['children']['filter'](_0x342f23=>_0x342f23 instanceof We);for(let _0x5ab1fd=-0x1d6d+-0xe08+-0x1*-0x2b75,_0x41f04c=_0x2316be['length'];_0x5ab1fd<_0x41f04c;_0x5ab1fd++)H0(_0x13865f,_0x2316be[_0x5ab1fd],_0x1d88fc[_0x5ab1fd],_0x3be2aa);}}class q_{constructor(_0x367499,_0x5b92e3){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x26fc+-0x1f7b+-0x50*0x18)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x367499,this['url']=_0x5b92e3);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class dP{constructor(_0x60c7e9){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x60c7e9;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x42d919,_0x23b398){if(this['_index']['hasOwnProp'+'erty'](_0x42d919))return v['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x42d919),!(-0x155*0x1+-0x241c+-0x2572*-0x1);const _0x23763f=new q_(_0x42d919,_0x23b398),_0x332bd6=this['_list']['push'](_0x23763f);return this['_index'][_0x23763f['name']]=_0x332bd6-(-0x2dd+0xad0+-0x7f2),this['_urlIndex'][_0x23763f['url']]=_0x332bd6-(0x1d6e+0x29*0xd9+-0x402e),!(0x1*0x2349+-0x11ee+-0x1*0x115b);}['find'](_0x3f5341){return this['_index']['hasOwnProp'+'erty'](_0x3f5341)?this['_list'][this['_index'][_0x3f5341]]:null;}['findByUrl'](_0xbc5570){return this['_urlIndex']['hasOwnProp'+'erty'](_0xbc5570)?this['_list'][this['_urlIndex'][_0xbc5570]]:null;}['remove'](_0x39fdf5){if(this['_index']['hasOwnProp'+'erty'](_0x39fdf5)){const _0x369deb=this['_index'][_0x39fdf5];let _0x5ea6c3=this['_list'][_0x369deb];delete this['_urlIndex'][_0x5ea6c3['url']],delete this['_index'][_0x39fdf5],this['_list']['splice'](_0x369deb,-0x409+-0x23d0+0x27da);for(let _0x45f5cd=-0x1b*-0x120+-0x587*-0x2+-0x296e;_0x45f5cd<this['_list']['length'];_0x45f5cd++)_0x5ea6c3=this['_list'][_0x45f5cd],this['_index'][_0x5ea6c3['name']]=_0x45f5cd,this['_urlIndex'][_0x5ea6c3['url']]=_0x45f5cd;}}['_loadScene'+'Data'](_0x3c4289,_0xba77be,_0x1adbd5){const _0x3bd7c8=this['_app'];let _0x3a7424=_0x3c4289;if(typeof _0x3c4289=='string'&&(_0x3c4289=this['findByUrl'](_0x3a7424)||this['find'](_0x3a7424)||new q_('Untitled',_0x3a7424)),_0x3a7424=_0x3c4289['url'],!_0x3a7424){_0x1adbd5('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x3c4289['loaded']){_0x1adbd5(null,_0x3c4289);return;}_0x3bd7c8['assets']&&_0x3bd7c8['assets']['prefix']&&!Da['test'](_0x3a7424)&&(_0x3a7424=fe['join'](_0x3bd7c8['assets']['prefix'],_0x3a7424)),_0x3c4289['_onLoadedC'+'allbacks']['push'](_0x1adbd5),_0x3c4289['_loading']||_0x3bd7c8['loader']['getHandler']('hierarchy')['load'](_0x3a7424,(_0x562163,_0x2ce5f5)=>{_0x3c4289['data']=_0x2ce5f5,_0x3c4289['_loading']=!(-0x1ae0+-0x2b*-0xb5+-0x386);for(let _0x590a93=-0x1*0x1a0d+-0x1fd3*0x1+0x39e0;_0x590a93<_0x3c4289['_onLoadedC'+'allbacks']['length'];_0x590a93++)_0x3c4289['_onLoadedC'+'allbacks'][_0x590a93](_0x562163,_0x3c4289);_0xba77be||(_0x3c4289['data']=null),_0x3c4289['_onLoadedC'+'allbacks']['length']=-0xcdc+-0x1ac0+0x279c;}),_0x3c4289['_loading']=!(0x9c1+-0x10*-0xb9+-0x1551);}['loadSceneD'+'ata'](_0x1f82b2,_0x50a780){this['_loadScene'+'Data'](_0x1f82b2,!(-0xb46+0x3*0xc0b+-0x3*0x849),_0x50a780);}['unloadScen'+'eData'](_0x17d2aa){typeof _0x17d2aa=='string'&&(_0x17d2aa=this['findByUrl'](_0x17d2aa)),_0x17d2aa&&(_0x17d2aa['data']=null);}['_loadScene'+'Hierarchy'](_0x187e78,_0x32e70d,_0x388c12){this['_loadScene'+'Data'](_0x187e78,!(0x1147*0x1+-0x1f22+0xddc),(_0x11aad4,_0x1a1958)=>{if(_0x11aad4){_0x388c12&&_0x388c12(_0x11aad4);return;}_0x32e70d&&_0x32e70d(_0x1a1958);const _0x14f8dc=this['_app'],_0x31e54b=()=>{const _0x47416e=_0x14f8dc['loader']['getHandler']('hierarchy');_0x14f8dc['systems']['script']['preloading']=!(-0x9*-0x7+0x4*-0x83+0x1cd*0x1);const _0x775343=_0x47416e['open'](_0x1a1958['url'],_0x1a1958['data']);_0x14f8dc['systems']['script']['preloading']=!(-0x1333+0xf75+-0x1*-0x3bf),_0x14f8dc['loader']['clearCache'](_0x1a1958['url'],'hierarchy'),_0x14f8dc['root']['addChild'](_0x775343),_0x14f8dc['systems']['fire']('initialize',_0x775343),_0x14f8dc['systems']['fire']('postInitia'+'lize',_0x775343),_0x14f8dc['systems']['fire']('postPostIn'+'itialize',_0x775343),_0x388c12&&_0x388c12(null,_0x775343);};_0x14f8dc['_preloadSc'+'ripts'](_0x1a1958['data'],_0x31e54b);});}['loadSceneH'+'ierarchy'](_0x2aeaee,_0x48054e){this['_loadScene'+'Hierarchy'](_0x2aeaee,null,_0x48054e);}['loadSceneS'+'ettings'](_0x58ab0b,_0x5b4cd4){this['_loadScene'+'Data'](_0x58ab0b,!(-0x5*0x395+-0x13*0x1a4+0xce*0x3d),(_0x1416af,_0xe87fb)=>{_0x1416af?_0x5b4cd4&&_0x5b4cd4(_0x1416af):(this['_app']['applyScene'+'Settings'](_0xe87fb['data']['settings']),_0x5b4cd4&&_0x5b4cd4(null));});}['changeScen'+'e'](_0x51b2f2,_0x16c1a3){const _0x853ceb=this['_app'],_0x29f0f2=_0x4e2ef3=>{const {children:_0x374093}=_0x853ceb['root'];for(;_0x374093['length'];)_0x374093[0x25*0xff+-0x1927+-0x2*0x5da]['destroy']();_0x853ceb['applyScene'+'Settings'](_0x4e2ef3['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x51b2f2,_0x29f0f2,_0x16c1a3);}['loadScene'](_0x21e6ed,_0x271e22){const _0xcaa9=this['_app'],_0x1d8f16=_0xcaa9['loader']['getHandler']('scene');_0xcaa9['assets']&&_0xcaa9['assets']['prefix']&&!Da['test'](_0x21e6ed)&&(_0x21e6ed=fe['join'](_0xcaa9['assets']['prefix'],_0x21e6ed)),_0x1d8f16['load'](_0x21e6ed,(_0x503684,_0x115365)=>{if(_0x503684)_0x271e22&&_0x271e22(_0x503684);else{const _0x149bbc=()=>{_0xcaa9['systems']['script']['preloading']=!(-0xcfa+0x1928+0x2*-0x617);const _0x2cf381=_0x1d8f16['open'](_0x21e6ed,_0x115365),_0xc8b952=this['findByUrl'](_0x21e6ed);_0xc8b952&&!_0xc8b952['loaded']&&(_0xc8b952['data']=_0x115365),_0xcaa9['systems']['script']['preloading']=!(0x16d1+0x5c2*0x1+-0x13e*0x17),_0xcaa9['loader']['clearCache'](_0x21e6ed,'scene'),_0xcaa9['loader']['patch']({'resource':_0x2cf381,'type':'scene'},_0xcaa9['assets']),_0xcaa9['root']['addChild'](_0x2cf381['root']),_0xcaa9['systems']['rigidbody']&&typeof Ammo<'u'&&_0xcaa9['systems']['rigidbody']['gravity']['set'](_0x2cf381['_gravity']['x'],_0x2cf381['_gravity']['y'],_0x2cf381['_gravity']['z']),_0x271e22&&_0x271e22(null,_0x2cf381);};_0xcaa9['_preloadSc'+'ripts'](_0x115365,_0x149bbc);}});}}class uP{constructor(_0x2be9ad){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x2be9ad['_shaderSta'+'ts'],this['vram']=_0x2be9ad['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return tn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x4bd010;return(_0x4bd010=tn()['lightmappe'+'r'])==null?void(-0x22*0xaf+-0x6d*0x22+0x25b8):_0x4bd010['stats'];}get['batcher'](){const _0x35f2a1=tn()['_batcher'];return _0x35f2a1?_0x35f2a1['_stats']:null;}}const Gr=class Gr extends ce{constructor(_0x48dfcc){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(0x4d8+-0x15e+0x1*-0x379)),c(this,'_inFrameUp'+'date',!(-0x58*0x3b+-0x5*-0xe1+0xfe4)),c(this,'_libraries'+'Loaded',!(0x8c3*0x3+0x1*-0x226b+-0x1*-0x823)),c(this,'_fillMode',V_),c(this,'_resolutio'+'nMode',q1),c(this,'_allowResi'+'ze',!(0x1f*-0x137+-0x1*0x1a92+-0x15*-0x30f)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x1*0x1acb+-0x133b+-0x1*-0x2e07)),c(this,'_scriptPre'+'fix',''),c(this,'_time',-0x15e4+-0x1*-0x2622+-0x103e),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x19cf+0x1a48+-0x78),c(this,'maxDeltaTi'+'me',-0x1d8c+-0x1b59*0x1+0x38e5+0.1),c(this,'frame',-0x2529+-0x339+0x1431*0x2),c(this,'frameGraph',new X1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(0x1c87+0x110e+0x2d95*-0x1)),c(this,'renderNext'+'Frame',!(-0x2*0xbf5+0x1*-0x2429+0x1*0x3c14)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new pa(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new dP(this)),c(this,'scripts',new oP(this)),c(this,'systems',new sP()),c(this,'i18n',new aP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((no==null?void(0x23c7+0xf1f+-0x32e6):no['indexOf']('$'))<0x2f+-0x126c+0x123d&&v['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+no+'\x20'+sy),Gr['_applicati'+'ons'][_0x48dfcc['id']]=this,qu(this),this['root']=new We(),this['root']['_enabledIn'+'Hierarchy']=!(-0x1d26*0x1+0x2129*-0x1+-0x199*-0x27));}['init'](_0x21ac20){const {assetPrefix:_0x3175bd,batchManager:_0x2ddc03,componentSystems:_0xa99145,elementInput:_0x3c7a65,gamepads:_0x55a0b8,graphicsDevice:_0x1fe71a,keyboard:_0x32a0a6,lightmapper:_0x3d5a84,mouse:_0x8e5821,resourceHandlers:_0x1cfa65,scriptsOrder:_0x5db118,scriptPrefix:_0x3aa6b8,soundManager:_0x247435,touch:_0x30cde8,xr:_0x365fc0}=_0x21ac20;v['assert'](_0x1fe71a,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x1fe71a,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new uP(_0x1fe71a),this['_soundMana'+'ger']=_0x247435,this['scene']=new ci(_0x1fe71a),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new ao(this['loader']),_0x3175bd&&(this['assets']['prefix']=_0x3175bd),this['bundles']=new tP(this['assets']),this['scriptsOrd'+'er']=_0x5db118||[],this['defaultLay'+'erWorld']=new Lr({'name':'World','id':Fi}),this['defaultLay'+'erDepth']=new Lr({'name':'Depth','id':Xt,'enabled':!(0x316+-0x1364*-0x2+-0x29dd),'opaqueSortMode':dh}),this['defaultLay'+'erSkybox']=new Lr({'name':'Skybox','id':vp,'opaqueSortMode':dh}),this['defaultLay'+'erUi']=new Lr({'name':'UI','id':tl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Lr({'name':'Immediate','id':bp,'opaqueSortMode':dh});const _0x180ee8=new S_('default');_0x180ee8['pushOpaque'](this['defaultLay'+'erWorld']),_0x180ee8['pushOpaque'](this['defaultLay'+'erDepth']),_0x180ee8['pushOpaque'](this['defaultLay'+'erSkybox']),_0x180ee8['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x180ee8['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x180ee8['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x180ee8['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x180ee8,$r['createPlac'+'eholder'](_0x1fe71a),this['renderer']=new Gh(_0x1fe71a),this['renderer']['scene']=this['scene'],_0x3d5a84&&(this['lightmappe'+'r']=new _0x3d5a84(_0x1fe71a,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x2ddc03&&(this['_batcher']=new _0x2ddc03(_0x1fe71a,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x32a0a6||null,this['mouse']=_0x8e5821||null,this['touch']=_0x30cde8||null,this['gamepads']=_0x55a0b8||null,_0x3c7a65&&(this['elementInp'+'ut']=_0x3c7a65,this['elementInp'+'ut']['app']=this),this['xr']=_0x365fc0?new _0x365fc0(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x3aa6b8||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new rP(this)),_0x1cfa65['forEach'](_0x7c128a=>{const _0x20c21a=new _0x7c128a(this);this['loader']['addHandler'](_0x20c21a['handlerTyp'+'e'],_0x20c21a);}),_0xa99145['forEach'](_0x22410e=>{this['systems']['add'](new _0x22410e(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0xc32+-0x53d+-0x1*-0x116f)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x294+-0xbed+0x95a))):document['mozHidden']!==void(0xb6e+0x747+0x12b5*-0x1)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x2*-0x5aa+0x2b*0x4f+0x1f0*-0x1))):document['msHidden']!==void(0x1*0x1aad+0x3*-0x20a+-0x148f)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x4*0x118+0x5*-0x351+-0x209*-0x6))):document['webkitHidd'+'en']!==void(0x1a00+-0x41*0x65+-0x5b)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x4*0x677+-0x4*-0x329+0xd39)))),this['tick']=fP(this);}static['getApplica'+'tion'](_0x36cbc4){return _0x36cbc4?Gr['_applicati'+'ons'][_0x36cbc4]:tn();}['_initDefau'+'ltMaterial'](){const _0x37904f=new cs();_0x37904f['name']='Default\x20Ma'+'terial',sC(this['graphicsDe'+'vice'],_0x37904f);}['_initProgr'+'amLibrary'](){const _0x105307=new D1(this['graphicsDe'+'vice'],new cs());WE(this['graphicsDe'+'vice'],_0x105307);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return v['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x8d6784,_0xeeb749){$e['get'](_0x8d6784,(_0x27055d,_0x2eafda)=>{if(_0x27055d){_0xeeb749(_0x27055d);return;}const _0xce9448=_0x2eafda['applicatio'+'n_properti'+'es'],_0x57eb04=_0x2eafda['scenes'],_0x1d9e16=_0x2eafda['assets'];this['_parseAppl'+'icationPro'+'perties'](_0xce9448,_0x496fe3=>{this['_parseScen'+'es'](_0x57eb04),this['_parseAsse'+'ts'](_0x1d9e16),_0xeeb749(_0x496fe3||null);});});}['preload'](_0x4416f){this['fire']('preload:st'+'art');const _0x5c173e=this['assets']['list']({'preload':!(-0x1*-0x2b+-0x132d*0x2+0x187*0x19)});if(_0x5c173e['length']===-0x112+0x1b63+0x1a51*-0x1){this['fire']('preload:en'+'d'),_0x4416f();return;}let _0x456441=-0x1cd1+0x25e6+-0x915;const _0x5b77b5=()=>{_0x456441++,this['fire']('preload:pr'+'ogress',_0x456441/_0x5c173e['length']),_0x456441===_0x5c173e['length']&&(this['fire']('preload:en'+'d'),_0x4416f());};_0x5c173e['forEach'](_0x4decdd=>{_0x4decdd['loaded']?_0x5b77b5():(_0x4decdd['once']('load',_0x5b77b5),_0x4decdd['once']('error',_0x5b77b5),this['assets']['load'](_0x4decdd));});}['_preloadSc'+'ripts'](_0x1c02a5,_0x3e313a){_0x3e313a();}['_parseAppl'+'icationPro'+'perties'](_0x632ae9,_0x2b5568){if(typeof _0x632ae9['maxAssetRe'+'tries']=='number'&&_0x632ae9['maxAssetRe'+'tries']>-0x56*-0x68+-0x145b+-0xe95&&this['loader']['enableRetr'+'y'](_0x632ae9['maxAssetRe'+'tries']),_0x632ae9['useDeviceP'+'ixelRatio']||(_0x632ae9['useDeviceP'+'ixelRatio']=_0x632ae9['use_device'+'_pixel_rat'+'io']),_0x632ae9['resolution'+'Mode']||(_0x632ae9['resolution'+'Mode']=_0x632ae9['resolution'+'_mode']),_0x632ae9['fillMode']||(_0x632ae9['fillMode']=_0x632ae9['fill_mode']),this['_width']=_0x632ae9['width'],this['_height']=_0x632ae9['height'],_0x632ae9['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x632ae9['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x632ae9['fillMode'],this['_width'],this['_height']),_0x632ae9['layers']&&_0x632ae9['layerOrder']){const _0x45f8c9=new S_('applicatio'+'n'),_0x283af9={};for(const _0x7e6bf in _0x632ae9['layers']){const _0x765fd3=_0x632ae9['layers'][_0x7e6bf];_0x765fd3['id']=parseInt(_0x7e6bf,-0x97a*0x1+-0x1df3+-0x2777*-0x1),_0x765fd3['enabled']=_0x765fd3['id']!==Xt,_0x283af9[_0x7e6bf]=new Lr(_0x765fd3);}for(let _0x688c54=0x9e*-0x16+0xe7*-0x15+0x2087,_0x5b0412=_0x632ae9['layerOrder']['length'];_0x688c54<_0x5b0412;_0x688c54++){const _0x178382=_0x632ae9['layerOrder'][_0x688c54],_0x44cf13=_0x283af9[_0x178382['layer']];_0x44cf13&&(_0x178382['transparen'+'t']?_0x45f8c9['pushTransp'+'arent'](_0x44cf13):_0x45f8c9['pushOpaque'](_0x44cf13),_0x45f8c9['subLayerEn'+'abled'][_0x688c54]=_0x178382['enabled']);}this['scene']['layers']=_0x45f8c9;}if(_0x632ae9['batchGroup'+'s']){const _0x313956=this['batcher'];if(_0x313956)for(let _0x21c2be=0x1fd*-0x6+0x1737+-0x3*0x3c3,_0x467f93=_0x632ae9['batchGroup'+'s']['length'];_0x21c2be<_0x467f93;_0x21c2be++){const _0x4ab927=_0x632ae9['batchGroup'+'s'][_0x21c2be];_0x313956['addGroup'](_0x4ab927['name'],_0x4ab927['dynamic'],_0x4ab927['maxAabbSiz'+'e'],_0x4ab927['id'],_0x4ab927['layers']);}}_0x632ae9['i18nAssets']&&(this['i18n']['assets']=_0x632ae9['i18nAssets']),this['_loadLibra'+'ries'](_0x632ae9['libraries'],_0x2b5568);}['_loadLibra'+'ries'](_0x4dda05,_0x4ef49c){const _0x3c01a6=_0x4dda05['length'];let _0x5378ce=_0x3c01a6;const _0x1e1b75=/^https?:\/\//;if(_0x3c01a6){const _0x4e3682=(_0x73a6e0,_0x467995)=>{_0x5378ce--,_0x73a6e0?_0x4ef49c(_0x73a6e0):_0x5378ce===0x1450+0x1c*0x3+0x529*-0x4&&(this['onLibrarie'+'sLoaded'](),_0x4ef49c(null));};for(let _0x2a5f84=-0x55c*0x4+0xc*-0x5e+0x19d8;_0x2a5f84<_0x3c01a6;++_0x2a5f84){let _0x5a4f3a=_0x4dda05[_0x2a5f84];!_0x1e1b75['test'](_0x5a4f3a['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x5a4f3a=fe['join'](this['_scriptPre'+'fix'],_0x5a4f3a)),this['loader']['load'](_0x5a4f3a,'script',_0x4e3682);}}else this['onLibrarie'+'sLoaded'](),_0x4ef49c(null);}['_parseScen'+'es'](_0x1b0163){if(_0x1b0163){for(let _0xe5b0cf=0x182*0x3+-0x1547+0x10c1;_0xe5b0cf<_0x1b0163['length'];_0xe5b0cf++)this['scenes']['add'](_0x1b0163[_0xe5b0cf]['name'],_0x1b0163[_0xe5b0cf]['url']);}}['_parseAsse'+'ts'](_0x24ca75){const _0x4e3142=[],_0x5a0ec2={},_0xc9c5ab={};for(let _0x27de00=0xd62+0x2092+-0x2df4;_0x27de00<this['scriptsOrd'+'er']['length'];_0x27de00++){const _0x16be24=this['scriptsOrd'+'er'][_0x27de00];_0x24ca75[_0x16be24]&&(_0x5a0ec2[_0x16be24]=!(-0x1203+-0xe20+0x2023),_0x4e3142['push'](_0x24ca75[_0x16be24]));}if(this['enableBund'+'les']){for(const _0x4be3b0 in _0x24ca75)_0x24ca75[_0x4be3b0]['type']==='bundle'&&(_0xc9c5ab[_0x4be3b0]=!(-0x1dec+0xc8b*-0x3+0x438d),_0x4e3142['push'](_0x24ca75[_0x4be3b0]));}for(const _0x4fe5f9 in _0x24ca75)_0x5a0ec2[_0x4fe5f9]||_0xc9c5ab[_0x4fe5f9]||_0x4e3142['push'](_0x24ca75[_0x4fe5f9]);for(let _0x149bf6=0x2*0x577+0x1*0x1b5+-0xca3;_0x149bf6<_0x4e3142['length'];_0x149bf6++){const _0x30be6a=_0x4e3142[_0x149bf6],_0x3f2c70=new le(_0x30be6a['name'],_0x30be6a['type'],_0x30be6a['file'],_0x30be6a['data']);if(_0x3f2c70['id']=parseInt(_0x30be6a['id'],-0x1*-0x1866+-0x1bef+0x393),_0x3f2c70['preload']=_0x30be6a['preload']?_0x30be6a['preload']:!(-0xa6*-0x2a+-0x16df+0x4*-0x117),_0x3f2c70['loaded']=_0x30be6a['type']==='script'&&_0x30be6a['data']&&_0x30be6a['data']['loadingTyp'+'e']>-0x63*0x2a+0x1f3b+-0xefd*0x1,_0x3f2c70['tags']['add'](_0x30be6a['tags']),_0x30be6a['i18n']){for(const _0x2cefb4 in _0x30be6a['i18n'])_0x3f2c70['addLocaliz'+'edAssetId'](_0x2cefb4,_0x30be6a['i18n'][_0x2cefb4]);}this['assets']['add'](_0x3f2c70);}}['start'](){v['call'](()=>{v['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x1*-0x439+0x3c*0x57+0x189d*-0x1);}),this['frame']=0xa2+0x2100+-0x21a2,this['fire']('start',{'timestamp':ne(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x226c6e){this['controller']&&this['controller']['update'](_0x226c6e),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x593eed){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ne(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x593eed),this['systems']['fire']('animationU'+'pdate',_0x593eed),this['systems']['fire']('postUpdate',_0x593eed),this['fire']('update',_0x593eed),this['inputUpdat'+'e'](_0x593eed),this['stats']['frame']['updateTime']=ne()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ne(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Gh['_skipRende'+'rCounter']=0x3cc+0x233b+0x1*-0x2707,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ne()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x53c692){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x53c692),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x53c692),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x5780cc,_0x265b1e,_0x4503e4){const _0x4c9928=this['stats']['frame'];_0x4c9928['dt']=_0x265b1e,_0x4c9928['ms']=_0x4503e4,_0x5780cc>_0x4c9928['_timeToCou'+'ntFrames']?(_0x4c9928['fps']=_0x4c9928['_fpsAccum'],_0x4c9928['_fpsAccum']=0x14f0+0x7a*0x49+0x7f6*-0x7,_0x4c9928['_timeToCou'+'ntFrames']=_0x5780cc+(-0xed*0xc+0x15d9+-0x6d5)):_0x4c9928['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x14c6+-0xbc0+-0x906;}['_fillFrame'+'Stats'](){let _0x29d78e=this['stats']['frame'];_0x29d78e['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x29d78e['materials']=this['renderer']['_materialS'+'witches'],_0x29d78e['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x29d78e['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x29d78e['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x29d78e['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x29d78e['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x23d568=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x29d78e['triangles']=_0x23d568[Ms]/(0x2544*-0x1+-0xc32+-0x95*-0x55)+Math['max'](_0x23d568[ar]-(0x1*-0x22db+-0x23f8+0x46d5*0x1),-0xa22*-0x1+-0xb9*0xb+0x2b*-0xd)+Math['max'](_0x23d568[Yr]-(0x3b*0x71+0x1*0xdae+0x3*-0xd3d),0xd1a+0x7*-0x1a5+0xb*-0x25),_0x29d78e['cullTime']=this['renderer']['_cullTime'],_0x29d78e['sortTime']=this['renderer']['_sortTime'],_0x29d78e['skinTime']=this['renderer']['_skinTime'],_0x29d78e['morphTime']=this['renderer']['_morphTime'],_0x29d78e['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x29d78e['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x29d78e['otherPrimi'+'tives']=-0xa3d*0x2+0x1*-0x498+0x1912;for(let _0x2b84d1=0x7*0x3ce+0x5a9*0x5+-0x36ef;_0x2b84d1<_0x23d568['length'];_0x2b84d1++)_0x2b84d1<Ms&&(_0x29d78e['otherPrimi'+'tives']+=_0x23d568[_0x2b84d1]),_0x23d568[_0x2b84d1]=-0xec3+0x1da4+-0x125*0xd;this['renderer']['_camerasRe'+'ndered']=-0x180d+0x2166+-0x959,this['renderer']['_materialS'+'witches']=0x74b*0x1+0x10*-0x200+0x18b5,this['renderer']['_shadowMap'+'Updates']=0x199b+0x1258+-0x2bf3,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1eb2+0x53*0x12+-0x2488,this['renderer']['_cullTime']=0x5b*-0x1b+-0x1ab*-0xb+-0x8c0,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x76c+-0xb*-0x3d+0x4cd,this['renderer']['_lightClus'+'tersTime']=-0x12f*-0x4+0x49f+0x1df*-0x5,this['renderer']['_sortTime']=-0x3bb+-0x211*-0x7+-0xabc,this['renderer']['_skinTime']=0x566+-0x310+-0x256,this['renderer']['_morphTime']=-0x3*0x66c+-0x1*0xa6f+-0x1db3*-0x1,this['renderer']['_shadowMap'+'Time']=-0x24b5*-0x1+-0x7*0x57a+0x1a1,this['renderer']['_depthMapT'+'ime']=0xf53+0x436+-0x1389*0x1,this['renderer']['_forwardTi'+'me']=-0xf44+-0x8b2+0x17f6,_0x29d78e=this['stats']['drawCalls'],_0x29d78e['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x29d78e['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x29d78e['depth']=-0xf4*-0x5+0x228f+-0x2753,_0x29d78e['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x29d78e['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x29d78e['immediate']=0x1*0x192f+-0x249b+0xb6c,_0x29d78e['instanced']=0x1172+0x123d+-0x23af,_0x29d78e['removedByI'+'nstancing']=0x1*0x1363+0x2467+-0x37ca,_0x29d78e['misc']=_0x29d78e['total']-(_0x29d78e['forward']+_0x29d78e['shadow']),this['renderer']['_depthDraw'+'Calls']=0x787*-0x4+0x584+0x2*0xc4c,this['renderer']['_shadowDra'+'wCalls']=0x13*-0x204+0xf*-0x2+0x266a,this['renderer']['_forwardDr'+'awCalls']=0x2613+-0x1e31+-0x7e2,this['renderer']['_numDrawCa'+'llsCulled']=0xf79+0x67*-0x1+-0xf12,this['renderer']['_skinDrawC'+'alls']=-0xc*0x13d+0x2084+-0x11a8,this['renderer']['_immediate'+'Rendered']=-0x1a50+-0x14b*0x13+0x1*0x32e1,this['renderer']['_instanced'+'DrawCalls']=0x2c*-0x3+-0x42*-0x8b+-0x21*0x112,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x29d78e=this['stats']['particles'],_0x29d78e['updatesPer'+'Frame']=_0x29d78e['_updatesPe'+'rFrame'],_0x29d78e['frameTime']=_0x29d78e['_frameTime'],_0x29d78e['_updatesPe'+'rFrame']=0x1143*0x2+-0x1cdf+-0x5a7,_0x29d78e['_frameTime']=-0x1*0x853+-0x1aac+-0x1*-0x22ff;}['setCanvasF'+'illMode'](_0x3145af,_0xd719d7,_0x3bcdfd){this['_fillMode']=_0x3145af,this['resizeCanv'+'as'](_0xd719d7,_0x3bcdfd);}['setCanvasR'+'esolution'](_0x5869b9,_0x3ea2eb,_0x28c763){this['_resolutio'+'nMode']=_0x5869b9,_0x5869b9===G_&&_0x3ea2eb===void(-0x160b+-0x1e36+0x3441)&&(_0x3ea2eb=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x28c763=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x3ea2eb,_0x28c763);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x3dc3cf,_0x38aaee){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x5b8627=window['innerWidth'],_0x536789=window['innerHeigh'+'t'];if(this['_fillMode']===V_){const _0x5ced6b=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x2aaab=_0x5b8627/_0x536789;_0x5ced6b>_0x2aaab?(_0x3dc3cf=_0x5b8627,_0x38aaee=_0x3dc3cf/_0x5ced6b):(_0x38aaee=_0x536789,_0x3dc3cf=_0x38aaee*_0x5ced6b);}else this['_fillMode']===$1&&(_0x3dc3cf=_0x5b8627,_0x38aaee=_0x536789);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x3dc3cf+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x38aaee+'px',this['updateCanv'+'asSize'](),{'width':_0x3dc3cf,'height':_0x38aaee};}['updateCanv'+'asSize'](){var _0x5c5401;if(!(!this['_allowResi'+'ze']||(_0x5c5401=this['xr'])!=null&&_0x5c5401['active'])&&this['_resolutio'+'nMode']===G_){const _0x53a8b9=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x53a8b9['clientWidt'+'h'],_0x53a8b9['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x23ed*-0x1+-0x3*-0x6b6+0xfcb),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x17ba7c){let _0x27f550;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x2dd044,_0x3ceffb,_0xe775d1]=_0x17ba7c['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x2dd044,_0x3ceffb,_0xe775d1);}this['scene']['applySetti'+'ngs'](_0x17ba7c),_0x17ba7c['render']['hasOwnProp'+'erty']('skybox')&&(_0x17ba7c['render']['skybox']?(_0x27f550=this['assets']['get'](_0x17ba7c['render']['skybox']),_0x27f550?this['setSkybox'](_0x27f550):this['assets']['once']('add:'+_0x17ba7c['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x478867,_0x575358){_0x478867&&_0x575358?$r['set'](this['graphicsDe'+'vice'],_0x478867,_0x575358):v['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x1362fd){if(_0x1362fd!==this['_skyboxAss'+'et']){const _0x351892=()=>{this['setSkybox'](null);},_0x2a09c0=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x2a09c0,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x351892,this),this['_skyboxAss'+'et']['off']('change',_0x2a09c0,this)),this['_skyboxAss'+'et']=_0x1362fd,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x2a09c0,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x351892,this),this['_skyboxAss'+'et']['on']('change',_0x2a09c0,this),this['scene']['skyboxMip']===-0x1*-0x9c8+-0x23cf*0x1+0x1a07&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x5*-0x3e0+-0x3*0xc77+0x38c5)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x2a09c0();}}['_firstBake'](){var _0x55ea36;(_0x55ea36=this['lightmappe'+'r'])==null||_0x55ea36['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x3ff591;(_0x3ff591=this['batcher'])==null||_0x3ff591['generate']();}['_processTi'+'mestamp'](_0x45224c){return _0x45224c;}['drawLine'](_0x338eed,_0x457952,_0x482346,_0x34cddd,_0x25e71e){this['scene']['drawLine'](_0x338eed,_0x457952,_0x482346,_0x34cddd,_0x25e71e);}['drawLines'](_0x282c91,_0x2725bd,_0x45bc94=!(0xfd1+-0x17fd+0x1*0x82c),_0x1f09a6=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x282c91,_0x2725bd,_0x45bc94,_0x1f09a6);}['drawLineAr'+'rays'](_0x211113,_0x11512e,_0x20d232=!(0x1a2e+-0x20c*-0x4+-0x225e),_0x4ca3f0=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x211113,_0x11512e,_0x20d232,_0x4ca3f0);}['drawWireSp'+'here'](_0x345d75,_0x4bad23,_0x511170=Y['WHITE'],_0x3098ed=-0x2299+0x4*0x22e+0x8a7*0x3,_0x295c24=!(-0x4f8*-0x7+0xd38+-0x3000),_0x38e7a1=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x345d75,_0x4bad23,_0x511170,_0x3098ed,_0x295c24,_0x38e7a1);}['drawWireAl'+'ignedBox'](_0x81cb3b,_0x4cdf11,_0x1acef6=Y['WHITE'],_0x20edea=!(-0x1413+0x7ee+0xc25),_0x2d05a9=this['scene']['defaultDra'+'wLayer'],_0x4215a5){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x81cb3b,_0x4cdf11,_0x1acef6,_0x20edea,_0x2d05a9,_0x4215a5);}['drawMeshIn'+'stance'](_0x47dc10,_0x162b73=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x47dc10,_0x162b73);}['drawMesh'](_0x1c98e8,_0x5a9ba6,_0x2e1a54,_0x8a1f66=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x5a9ba6,_0x2e1a54,_0x1c98e8,null,_0x8a1f66);}['drawQuad'](_0x3e455e,_0x134b72,_0x2159e0=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x134b72,_0x3e455e,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x2159e0);}['drawTextur'+'e'](_0xb5ed69,_0x27b6b5,_0x3c1229,_0x60260a,_0x3a52b5,_0x452bed,_0x5c12a8=this['scene']['defaultDra'+'wLayer'],_0x357b2a=!(-0xff9+-0x28d*-0xd+-0x1130)){if(_0x357b2a===!(0x79*0x23+-0x261+-0xe29)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x3c8c36=new q();_0x3c8c36['setTRS'](new T(_0xb5ed69,_0x27b6b5,0x3*0x119+-0x1042+-0x1*-0xcf7),se['IDENTITY'],new T(_0x3c1229,-_0x60260a,0x1*-0x161b+-0x485+0x1aa0)),_0x452bed||(_0x452bed=new Ra(),_0x452bed['cull']=mt,_0x452bed['setParamet'+'er']('colorMap',_0x3a52b5),_0x452bed['shaderDesc']=_0x357b2a?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x3a52b5['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x452bed['update']()),this['drawQuad'](_0x3c8c36,_0x452bed,_0x5c12a8);}['drawDepthT'+'exture'](_0x119b29,_0xb9adff,_0x5768c6,_0x5b9b8b,_0x134b3f=this['scene']['defaultDra'+'wLayer']){const _0x3d9fa6=new Ra();_0x3d9fa6['cull']=mt,_0x3d9fa6['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x3d9fa6['update'](),this['drawTextur'+'e'](_0x119b29,_0xb9adff,_0x5768c6,_0x5b9b8b,null,_0x3d9fa6,_0x134b3f);}['destroy'](){var _0xdfa780,_0x7530d,_0x49089b,_0x55476a;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x1*-0x1726+0x1*-0x12ee+-0x150a*-0x2);return;}const _0x115e88=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x89*0x34+-0xb29*-0x1+-0x2*-0x856)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2079+0x1732+-0x8*-0x129)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0xdf*0xd+-0x1d06+-0x19c*-0xb)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x1bfc+-0x39f+-0x4*0x617))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x59184e=this['assets']['list']();for(let _0x87d425=0x9dc*-0x1+-0x1*0x2276+-0x6*-0x763;_0x87d425<_0x59184e['length'];_0x87d425++)_0x59184e[_0x87d425]['unload'](),_0x59184e[_0x87d425]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x5d2e90=this['loader']['getHandler']('script');_0x5d2e90==null||_0x5d2e90['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0xdfa780=this['lightmappe'+'r'])==null||_0xdfa780['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x7530d=this['xr'])==null||_0x7530d['end'](),(_0x49089b=this['xr'])==null||_0x49089b['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x55476a=this['_soundMana'+'ger'])==null||_0x55476a['destroy'](),this['_soundMana'+'ger']=null,Gr['_applicati'+'ons'][_0x115e88]=null,tn()===this&&qu(null),Gr['cancelTick'](this);}static['cancelTick'](_0x21a665){_0x21a665['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x21a665['frameReque'+'stId']),_0x21a665['frameReque'+'stId']=void(-0xda7+0x1051*0x1+-0x16*0x1f));}['getEntityF'+'romIndex'](_0x458acb){return this['_entityInd'+'ex'][_0x458acb];}['_registerS'+'ceneImmedi'+'ate'](_0x1ab83e){this['on']('postrender',_0x1ab83e['immediate']['onPostRend'+'er'],_0x1ab83e['immediate']);}};c(Gr,'_applicati'+'ons',{});let qh=Gr;const jd={},fP=function(_0x34ac53){const _0x357577=_0x34ac53;return function(_0x1caacd,_0x2d9eb4){var _0x3268ac,_0x378d53,_0x50da1d,_0x36f2fe;if(!_0x357577['graphicsDe'+'vice'])return;_0x357577['frameReque'+'stId']&&((_0x378d53=(_0x3268ac=_0x357577['xr'])==null?void(0x9f4+0x4*-0x7f5+0x15e0):_0x3268ac['session'])==null||_0x378d53['cancelAnim'+'ationFrame'](_0x357577['frameReque'+'stId']),cancelAnimationFrame(_0x357577['frameReque'+'stId']),_0x357577['frameReque'+'stId']=null),_0x357577['_inFrameUp'+'date']=!(-0x17b4*-0x1+-0x1dfe+0xa*0xa1),qu(_0x357577);const _0x4bad69=_0x357577['_processTi'+'mestamp'](_0x1caacd)||ne(),_0x29e96c=_0x4bad69-(_0x357577['_time']||_0x4bad69);let _0x3c4462=_0x29e96c/(0x3*-0x18d+-0x14b5+0x1d44);if(_0x3c4462=N['clamp'](_0x3c4462,0x1*0xf3a+-0x2*0xf15+-0x8*-0x1de,_0x357577['maxDeltaTi'+'me']),_0x3c4462*=_0x357577['timeScale'],_0x357577['_time']=_0x4bad69,(_0x50da1d=_0x357577['xr'])!=null&&_0x50da1d['session']?_0x357577['frameReque'+'stId']=_0x357577['xr']['session']['requestAni'+'mationFram'+'e'](_0x357577['tick']):_0x357577['frameReque'+'stId']=ye['browser']||ye['worker']?requestAnimationFrame(_0x357577['tick']):null,_0x357577['graphicsDe'+'vice']['contextLos'+'t'])return;_0x357577['_fillFrame'+'StatsBasic'](_0x4bad69,_0x3c4462,_0x29e96c),_0x357577['_fillFrame'+'Stats'](),_0x357577['fire']('frameupdat'+'e',_0x29e96c);let _0x5cc5f6=!(0x1431*-0x1+0x20e5+0x10f*-0xc);_0x2d9eb4?(_0x5cc5f6=(_0x36f2fe=_0x357577['xr'])==null?void(-0x3*0xa7f+-0xfb8+0x2f35):_0x36f2fe['update'](_0x2d9eb4),_0x357577['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x2d9eb4['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x357577['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x5cc5f6&&(v['trace'](jx,'----\x20Frame'+'\x20'+_0x357577['frame']),v['trace'](td,'--\x20UpdateS'+'tart\x20'+ne()['toFixed'](0xb2*-0x2f+-0x11*0x76+0x1*0x2886)+'ms'),_0x357577['update'](_0x3c4462),_0x357577['fire']('framerende'+'r'),(_0x357577['autoRender']||_0x357577['renderNext'+'Frame'])&&(v['trace'](td,'--\x20RenderS'+'tart\x20'+ne()['toFixed'](0x1627+-0x1a5b+0x436)+'ms'),_0x357577['updateCanv'+'asSize'](),_0x357577['frameStart'](),_0x357577['render'](),_0x357577['frameEnd'](),_0x357577['renderNext'+'Frame']=!(-0x15d9*-0x1+-0x5ed*0x1+-0xfeb),v['trace'](td,'--\x20RenderE'+'nd\x20'+ne()['toFixed'](0x550+-0x1083+0xb35)+'ms')),jd['timestamp']=ne(),jd['target']=_0x357577,_0x357577['fire']('frameend',jd)),_0x357577['_inFrameUp'+'date']=!(0x1*-0x1fb4+0x2c*0x38+-0x1*-0x1615),_0x357577['_destroyRe'+'quested']&&_0x357577['destroy']();};};class pP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const Qa=new Lf();class W0{constructor(_0x4fd75a,_0x4bfdc0,_0x3bbfe4){this['scene']=_0x4fd75a,this['light']=_0x4bfdc0,this['store'](),_0x4bfdc0['numCascade'+'s']=-0x99a+-0x213c+0x2ad7,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x4bfdc0['castShadow'+'s']=_0x4bfdc0['bakeShadow'+'s']&&_0x3bbfe4['shadowsEna'+'bled']),_0x4bfdc0['type']!==oe&&(_0x4bfdc0['_node']['getWorldTr'+'ansform'](),_0x4bfdc0['getBoundin'+'gSphere'](Qa),this['lightBound'+'s']=new _e(),this['lightBound'+'s']['center']['copy'](Qa['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](Qa['radius'],Qa['radius'],Qa['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x5b4fba=this['light'];_0x5b4fba['mask']=this['mask'],_0x5b4fba['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5b4fba['enabled']=this['enabled'],_0x5b4fba['intensity']=this['intensity'],_0x5b4fba['_node']['setLocalRo'+'tation'](this['rotation']),_0x5b4fba['numCascade'+'s']=this['numCascade'+'s'],_0x5b4fba['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1416+0x128e+0x26a4*-0x1),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x260d91){const _0xd2dfd1=this['light'];_0xd2dfd1['enabled']=!(0xba+0x1a9*-0x1+0xc*0x14),_0xd2dfd1['shadowMap']&&(_0xd2dfd1['shadowMap']['cached']&&_0x260d91['add'](_0xd2dfd1,_0xd2dfd1['shadowMap']),_0xd2dfd1['shadowMap']=null);}}const Hl=new W();class mP extends W0{constructor(_0x38e097,_0x104d60){super(_0x38e097['scene'],_0x104d60,_0x38e097['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===oe?this['light']['bakeNumSam'+'ples']:-0x1*0x1271+0x84b*0x3+0x66f*-0x1;}['prepareVir'+'tualLight'](_0x1cff91,_0x451d7f){const _0x1e3b56=this['light'];if(_0x1e3b56['_node']['setLocalRo'+'tation'](this['rotation']),_0x1cff91>-0x4*-0x824+0x2660+-0x46f0){const _0x561c8d=_0x1e3b56['bakeArea'];ll['circlePoin'+'tDetermini'+'stic'](Hl,_0x1cff91,_0x451d7f),Hl['mulScalar'](_0x561c8d*(0xba7*-0x3+-0x2e2*-0x4+0x176d+0.5)),_0x1e3b56['_node']['rotateLoca'+'l'](Hl['x'],0x3*0x21+-0x5*-0x3cd+0x44*-0x49,Hl['y']);}_0x1e3b56['_node']['getWorldTr'+'ansform']();const _0x13222a=-0x91*0x13+0x21b1+-0x16ec+0.20000000000000018,_0x15cda8=Math['pow'](this['intensity'],_0x13222a);_0x1e3b56['intensity']=Math['pow'](_0x15cda8/_0x451d7f,(0x76e*-0x1+0x31*0x63+-0xb84)/_0x13222a);}}const X_=new T();class j_ extends W0{constructor(_0x4a20ee){const _0x2154d1=_0x4a20ee['scene'],_0x1cedf8=new We('AmbientLig'+'ht');_0x1cedf8['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1*0x240b+0x290*-0x8+0x17*-0xad),'affectLightmapped':!(-0x1*0x56c+0x13bb*0x1+-0xe4e),'bake':!(0x103d*0x1+0x629+0x7a*-0x2f),'bakeNumSamples':_0x2154d1['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x4df*0x3+-0x37a+0x1217*0x1),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':Dt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(0x1285*0x1+-0x2594+0x1310)}),super(_0x2154d1,_0x1cedf8['light']['light'],_0x4a20ee['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x1fa99a,_0x3daabf){ll['spherePoin'+'tDetermini'+'stic'](X_,_0x1fa99a,_0x3daabf,-0x1f*-0xbc+-0x6ee+-0xfd6,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](X_['mulScalar'](-(-0x901+0x3*0x472+-0x454))),this['light']['_node']['rotateLoca'+'l'](-0x763*-0x1+-0x4*-0x166+-0xca1*0x1,-0x18a8+0x56f+0x25*0x85,0xe70+-0x1*-0x2635+-0x34a5);const _0x43069f=-0x1eff+-0x1820+0x3721+0.20000000000000018,_0x443063=(0x1*0x7ae+0x2*0x120d+-0x1a*0x1af)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x44f061=Math['pow'](_0x443063,_0x43069f);this['light']['intensity']=Math['pow'](_0x44f061/_0x3daabf,(-0x122c+0xa1c*0x1+-0x23*-0x3b)/_0x43069f);}}class Wl{constructor(_0x5eb1b2,_0x144123=null){this['node']=_0x5eb1b2,this['component']=_0x5eb1b2['render']||_0x5eb1b2['model'],_0x144123=_0x144123||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x144123,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const Y_=-0x16de+-0x3*-0x59f+-0x4*-0x184;class _P{constructor(_0xd84501){this['device']=_0xd84501,this['shaderDila'+'te']=Is(_0xd84501,X['fullscreen'+'QuadVS'],vo['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0xd84501['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0xd84501['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x49*0x6f+-0x1185+0x312e),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x5d43c7){this['constantTe'+'xSource']['setValue'](_0x5d43c7);}['prepare'](_0x35d278,_0x4fc8e5){this['pixelOffse'+'t'][0x195e+0x421+-0x1d7f]=(-0x1a*0x152+0x15*0x116+0xb87)/_0x35d278,this['pixelOffse'+'t'][-0x1055+-0xe57*-0x1+0x1ff]=(0x1*0x18af+-0x12d6+-0x5d8)/_0x4fc8e5,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x2610a0,_0x28a052,_0x160df6){const _0x23716a=_0x160df6?0x363+-0xc0f+0x8ac:-0x16b5+-0x72d*0x3+0x2c3d;if(!this['shaderDeno'+'ise'][_0x23716a]){const _0x539324='lmBilatera'+'lDeNoise-'+(_0x160df6?'hdr':'rgbm'),_0x57d151=_0x160df6?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x23716a]=Is(this['device'],X['fullscreen'+'QuadVS'],_0x57d151+vo['bilateralD'+'eNoisePS'],_0x539324),this['sigmas']=new Float32Array(-0x2393*-0x1+0x262c+-0x49bd*0x1),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0xd*-0x2dd+0x2382+0x1*-0x48bb]=_0x2610a0,this['sigmas'][0x1c3f+-0x655*-0x5+-0x3be7]=_0x28a052,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x2610a0,_0x28a052);}['getDenoise'](_0x2fc6bb){const _0x593651=_0x2fc6bb?-0x6df*0x3+-0x13eb*0x1+0x2888:-0x33f+0x1*-0x3b2+0x6f2;return this['shaderDeno'+'ise'][_0x593651];}['getDilate'](_0x6c6510,_0x3a590e){const _0x374e4b=_0x3a590e?-0x2*-0x1279+-0x148f+0x1*-0x1063:0x45e*-0x1+-0x80e*0x1+0xc6d*0x1;if(!this['shaderDila'+'te'][_0x374e4b]){const _0x4bbf32='lmDilate-'+(_0x3a590e?'hdr':'rgbm'),_0x4d1c13=_0x3a590e?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x374e4b]=Is(_0x6c6510,X['fullscreen'+'QuadVS'],_0x4d1c13+vo['dilatePS'],_0x4bbf32);}return this['shaderDila'+'te'][_0x374e4b];}['evaluateDe'+'noiseUnifo'+'rms'](_0x55bc0c,_0x3a5a16){function _0x55d913(_0x1d9307,_0x117ff6){return(0xb41+-0x147a+0x939+0.39894)*Math['exp'](-(-0x1963+0xc30+0xd33+0.5)*_0x1d9307*_0x1d9307/(_0x117ff6*_0x117ff6))/_0x117ff6;}this['kernel']=this['kernel']||new Float32Array(Y_);const _0x59b832=this['kernel'],_0x84b478=Math['floor']((Y_-(-0x1555+0x186+0x13d0))/(-0x752+0x1159*0x1+0x357*-0x3));for(let _0x3cffa0=-0x1347+-0xf+0x1356;_0x3cffa0<=_0x84b478;++_0x3cffa0){const _0x59b270=_0x55d913(_0x3cffa0,_0x55bc0c);_0x59b832[_0x84b478+_0x3cffa0]=_0x59b270,_0x59b832[_0x84b478-_0x3cffa0]=_0x59b270;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x2b71d1=(0x1*0x1731+-0x2*0x72a+-0x8dc)/_0x55d913(0x2*-0x345+-0x722+0x14*0xaf,_0x3a5a16);this['bZnorm']['setValue'](_0x2b71d1);}}class gP extends ds{constructor(_0x1ba966,_0x5772ce,_0xa258a5,_0x3763ad,_0x41f44f,_0x17c4ca){super(_0x1ba966),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x5772ce,this['camera']=_0xa258a5,this['worldClust'+'ers']=_0x3763ad,this['receivers']=_0x41f44f,this['lightArray']=_0x17c4ca);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5b72cb=>{_0x5b72cb['defaultUni'+'formBuffer']['destroy'](),_0x5b72cb['destroy']();}),this['viewBindGr'+'oups']['length']=-0x5*0x169+0x1664+-0xf57*0x1;}['execute'](){const _0x161fd9=this['device'];G['pushGpuMar'+'ker'](_0x161fd9,'Lightmappe'+'r');const {renderer:_0x481dab,camera:_0x294a78,receivers:_0x2228b0,renderTarget:_0x10b608,worldClusters:_0x6ecfab,lightArray:_0x397adf}=this;_0x481dab['renderForw'+'ardLayer'](_0x294a78,_0x10b608,null,void(0x3*0x89c+0x97+-0x1a6b),gn,this['viewBindGr'+'oups'],{'meshInstances':_0x2228b0,'splitLights':_0x397adf,'lightClusters':_0x6ecfab}),G['popGpuMark'+'er'](_0x161fd9);}}const yP=0x52*0x66+0x12b*-0x7+-0x107f,xP=0x6f8+0x179a+0x22f*-0xe,SP=0x3*0x1df+0x248e+0x2a*-0x101,$l=new T();class vP{constructor(_0x22f73c,_0x1d643d,_0x51efaa,_0x3ab68a,_0x279887){this['device']=_0x22f73c,this['root']=_0x1d643d,this['scene']=_0x51efaa,this['renderer']=_0x3ab68a,this['assets']=_0x279887,this['shadowMapC'+'ache']=_0x3ab68a['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0x23b7+0x2239+-0x45ef*0x1),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x31c6f4;Si['decRef'](this['blackTex']),this['blackTex']=null,Si['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x31c6f4=this['camera'])==null||_0x31c6f4['destroy'](),this['camera']=null;}['initBake'](_0x1a552d){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Se,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0x6f9+0x97+0x662),this['lightmapFi'+'lters']=new _P(_0x1a552d),this['constantBa'+'keDir']=_0x1a552d['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new he(this['device'],{'width':0x4,'height':0x4,'format':Se,'type':on,'name':'lightmapBl'+'ack'}),Si['incRef'](this['blackTex']);const _0x49431a=new ol();_0x49431a['clearColor']['set'](-0x104a+-0x25c6+0x3610,-0x655+0x2*-0x7e3+0x161b*0x1,-0x890+0x491*0x7+0x1767*-0x1,-0x1df*-0xa+0x1*0x25b1+0x3867*-0x1),_0x49431a['clearColor'+'Buffer']=!(0xd*0x21f+0x1f77+-0x3b0a),_0x49431a['clearDepth'+'Buffer']=!(-0x26f+0x20d+0x63),_0x49431a['clearStenc'+'ilBuffer']=!(-0x22d3*0x1+0x20bd+0x217),_0x49431a['frustumCul'+'ling']=!(0x1*0x44d+-0x1*0x17db+0x138f),_0x49431a['projection']=ua,_0x49431a['aspectRati'+'o']=-0x2ed+0x1366+-0x88*0x1f,_0x49431a['node']=new De(),this['camera']=_0x49431a,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=sl,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Ap;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0xe0b5fb=new L0(_0x1a552d['supportsAr'+'eaLights'],_0x1a552d['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0xe0b5fb;const _0x10e3e7=this['scene']['lighting'];_0xe0b5fb['shadowsEna'+'bled']=_0x10e3e7['shadowsEna'+'bled'],_0xe0b5fb['shadowAtla'+'sResolutio'+'n']=_0x10e3e7['shadowAtla'+'sResolutio'+'n'],_0xe0b5fb['cookiesEna'+'bled']=_0x10e3e7['cookiesEna'+'bled'],_0xe0b5fb['cookieAtla'+'sResolutio'+'n']=_0x10e3e7['cookieAtla'+'sResolutio'+'n'],_0xe0b5fb['areaLights'+'Enabled']=_0x10e3e7['areaLights'+'Enabled'],_0xe0b5fb['cells']=new T(0xa20+-0x2375+-0x32b*-0x8,-0x1a96+0x23fd+0x1*-0x964,-0x1*-0xd7b+-0x3*0xb61+0x14ab),_0xe0b5fb['maxLightsP'+'erCell']=0x221*0x11+-0x1*0x1ecd+-0x8*0xac,this['worldClust'+'ers']=new zu(_0x1a552d),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0xf2855e){this['materials']=[];function _0x368029(_0xf6da8f){Si['decRef'](_0xf6da8f['colorBuffe'+'r']),_0xf6da8f['destroy']();}this['renderTarg'+'ets']['forEach'](_0x2c0ce8=>{_0x368029(_0x2c0ce8);}),this['renderTarg'+'ets']['clear'](),_0xf2855e['forEach'](_0x3ac055=>{_0x3ac055['renderTarg'+'ets']['forEach'](_0xae8e9=>{_0x368029(_0xae8e9);}),_0x3ac055['renderTarg'+'ets']['length']=0x11*-0xbf+0x47*0x79+-0x14e0;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x5b089e,_0x4b0a20,_0x5f2ca5,_0x2626a7){const _0x1ab5f9=new cs();_0x1ab5f9['name']='lmMaterial'+'-pass:'+_0x5f2ca5+'-ambient:'+_0x2626a7,_0x1ab5f9['chunks']['APIVersion']=hi;const _0xc39045='#define\x20UV'+'1LAYOUT\x0a';if(_0x1ab5f9['chunks']['transformV'+'S']=_0xc39045+X['transformV'+'S'],_0x5f2ca5===xP){let _0x54957e=vo['bakeLmEndP'+'S'];_0x2626a7?_0x54957e='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x4b0a20['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x7*-0x6a+0xba5+0x2*-0x45f)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x4b0a20['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x457*-0x1+0x11c5*0x1+0x1eb*-0x7)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x54957e:_0x1ab5f9['ambient']=new Y(0x1d*0xf5+-0x218b*-0x1+-0x3d4c,-0xc*0x1de+0x102f*0x1+0x3*0x213,-0x80e+-0x2*-0xbb6+-0xf5e),_0x1ab5f9['chunks']['basePS']=X['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x1ab5f9['chunks']['endPS']=_0x54957e,_0x1ab5f9['lightMap']=this['blackTex'];}else _0x1ab5f9['chunks']['basePS']=X['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x1ab5f9['chunks']['endPS']=vo['bakeDirLmE'+'ndPS'];return _0x1ab5f9['chunks']['outputAlph'+'aPS']='\x0a',_0x1ab5f9['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x1ab5f9['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x1ab5f9['cull']=mt,_0x1ab5f9['forceUv1']=!(0x149b+0x207d+-0x3518),_0x1ab5f9['update'](),_0x1ab5f9;}['createMate'+'rials'](_0x2f1dd3,_0x32b955,_0x575112){for(let _0x5902ee=-0xabb+-0x1435+0x1ef0;_0x5902ee<_0x575112;_0x5902ee++)this['passMateri'+'als'][_0x5902ee]||(this['passMateri'+'als'][_0x5902ee]=this['createMate'+'rialForPas'+'s'](_0x2f1dd3,_0x32b955,_0x5902ee,!(0x26aa+-0x116c*0x1+-0x153d)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2f1dd3,_0x32b955,0x192*0xf+-0x1*-0x1cd6+-0x3464,!(0x88*0x12+-0x2e3*0x2+-0x3ca)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x22ec9e){return _0x22ec9e['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x565*0x1+0x4e5+-0xa4a),_0x22ec9e['litOptions']['separateAm'+'bient']=!(-0x1*0x634+-0x3*-0x5c5+-0xb1b*0x1),_0x22ec9e;});}['createText'+'ure'](_0x251fd9,_0xb51b6f){return new he(this['device'],{'profilerHint':Oy,'width':_0x251fd9,'height':_0x251fd9,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x69c+0x2048+-0x37*0xb5),'type':this['bakeHDR']?Di:on,'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':_0xb51b6f});}['collectMod'+'els'](_0x13b89a,_0x1726d8,_0x454588){var _0x55007c,_0x58c2e5,_0x53f9f7;if(!_0x13b89a['enabled'])return;let _0x25b99e;if((_0x55007c=_0x13b89a['model'])!=null&&_0x55007c['model']&&((_0x58c2e5=_0x13b89a['model'])!=null&&_0x58c2e5['enabled'])&&(_0x454588&&_0x454588['push'](new Wl(_0x13b89a)),_0x13b89a['model']['lightmappe'+'d']&&_0x1726d8&&(_0x25b99e=_0x13b89a['model']['model']['meshInstan'+'ces'])),(_0x53f9f7=_0x13b89a['render'])!=null&&_0x53f9f7['enabled']&&(_0x454588&&_0x454588['push'](new Wl(_0x13b89a)),_0x13b89a['render']['lightmappe'+'d']&&_0x1726d8&&(_0x25b99e=_0x13b89a['render']['meshInstan'+'ces'])),_0x25b99e){let _0x3809ba=!(0xf54+0x1a7*-0x16+0x1506);for(let _0xc68752=-0x1d53+-0x1184+-0x3*-0xf9d;_0xc68752<_0x25b99e['length'];_0xc68752++)if(!_0x25b99e[_0xc68752]['mesh']['vertexBuff'+'er']['format']['hasUv1']){v['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x13b89a['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x3809ba=!(0x2526+-0xa3*0x3+-0xb*0x334);break;}if(_0x3809ba){const _0x1430f5=[];for(let _0x40452a=-0x1f09+-0x41*0x29+0x2972;_0x40452a<_0x25b99e['length'];_0x40452a++){const _0x279f63=_0x25b99e[_0x40452a]['mesh'];this['_tempSet']['has'](_0x279f63)?_0x1726d8['push'](new Wl(_0x13b89a,[_0x25b99e[_0x40452a]])):_0x1430f5['push'](_0x25b99e[_0x40452a]),this['_tempSet']['add'](_0x279f63);}this['_tempSet']['clear'](),_0x1430f5['length']>-0x24ad+-0x4ee*-0x3+0x1af*0xd&&_0x1726d8['push'](new Wl(_0x13b89a,_0x1430f5));}}for(let _0xc93f45=-0x1*-0x1474+-0x14*-0xd6+-0x252c;_0xc93f45<_0x13b89a['_children']['length'];_0xc93f45++)this['collectMod'+'els'](_0x13b89a['_children'][_0xc93f45],_0x1726d8,_0x454588);}['prepareSha'+'dowCasters'](_0x195a2d){const _0x11d210=[];for(let _0x27da90=-0x1*-0x2f7+0x1ce2*0x1+0x1fd9*-0x1;_0x27da90<_0x195a2d['length'];_0x27da90++){const _0x3db456=_0x195a2d[_0x27da90]['component'];if(_0x3db456['castShadow'+'s']=_0x3db456['castShadow'+'sLightmap'],_0x3db456['castShadow'+'sLightmap']){const _0x4beed8=_0x195a2d[_0x27da90]['meshInstan'+'ces'];for(let _0x19e193=0x2199+-0x542*0x5+0x1*-0x74f;_0x19e193<_0x4beed8['length'];_0x19e193++)_0x4beed8[_0x19e193]['visibleThi'+'sFrame']=!(-0x4c0+-0x1eec+0x23ac),_0x11d210['push'](_0x4beed8[_0x19e193]);}}return _0x11d210;}['updateTran'+'sforms'](_0x17fa09){for(let _0x3386a3=0x21ea+0x101+0x1*-0x22eb;_0x3386a3<_0x17fa09['length'];_0x3386a3++){const _0x167457=_0x17fa09[_0x3386a3]['meshInstan'+'ces'];for(let _0x1058f7=0x1*-0x8f5+-0x1390+-0x1*-0x1c85;_0x1058f7<_0x167457['length'];_0x1058f7++)_0x167457[_0x1058f7]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x41d236){let _0x56e823;const _0x1f3307=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x19f7+-0x7*0x38b+-0x8d*0x2,_0x485a17=$l;let _0x1d4cfe,_0x273ec4;_0x41d236['model']?(_0x273ec4=_0x41d236['model']['lightmapSi'+'zeMultipli'+'er'],_0x41d236['model']['asset']?(_0x56e823=this['assets']['get'](_0x41d236['model']['asset'])['data'],_0x56e823['area']&&(_0x1d4cfe=_0x56e823['area'])):_0x41d236['model']['_area']&&(_0x56e823=_0x41d236['model'],_0x56e823['_area']&&(_0x1d4cfe=_0x56e823['_area']))):_0x41d236['render']&&(_0x273ec4=_0x41d236['render']['lightmapSi'+'zeMultipli'+'er'],_0x41d236['render']['type']!=='asset'&&_0x41d236['render']['_area']&&(_0x56e823=_0x41d236['render'],_0x56e823['_area']&&(_0x1d4cfe=_0x56e823['_area'])));const _0x370b9c={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x1d4cfe&&(_0x370b9c['x']=_0x1d4cfe['x'],_0x370b9c['y']=_0x1d4cfe['y'],_0x370b9c['z']=_0x1d4cfe['z'],_0x370b9c['uv']=_0x1d4cfe['uv']);const _0x18b443=_0x273ec4||-0xa42+0x20ac+0x1*-0x1669;_0x370b9c['x']*=_0x18b443,_0x370b9c['y']*=_0x18b443,_0x370b9c['z']*=_0x18b443;const _0x1261b2=_0x41d236['render']||_0x41d236['model'],_0x2e1e7f=this['computeNod'+'eBounds'](_0x1261b2['meshInstan'+'ces']);_0x485a17['copy'](_0x2e1e7f['halfExtent'+'s']);let _0x55ee4c=_0x370b9c['x']*_0x485a17['y']*_0x485a17['z']+_0x370b9c['y']*_0x485a17['x']*_0x485a17['z']+_0x370b9c['z']*_0x485a17['x']*_0x485a17['y'];return _0x55ee4c/=_0x370b9c['uv'],_0x55ee4c=Math['sqrt'](_0x55ee4c),Math['min'](N['nextPowerO'+'fTwo'](_0x55ee4c*_0x1f3307),this['scene']['lightmapMa'+'xResolutio'+'n']||yP);}['setLightma'+'pping'](_0x4ad6a3,_0x5c568a,_0x1f2e01,_0x18235b){for(let _0x53275c=0x17f9+0x1f03+-0x36fc;_0x53275c<_0x4ad6a3['length'];_0x53275c++){const _0x374ce1=_0x4ad6a3[_0x53275c],_0x134abb=_0x374ce1['meshInstan'+'ces'];for(let _0x527001=-0x8*0xf7+0x1dfa+-0x1642;_0x527001<_0x134abb['length'];_0x527001++){const _0x2cff98=_0x134abb[_0x527001];if(_0x2cff98['setLightma'+'pped'](_0x5c568a),_0x5c568a){_0x18235b&&(_0x2cff98['_shaderDef'+'s']|=_0x18235b),_0x2cff98['mask']=cr;for(let _0x3b91ba=-0x3*0x3e5+-0x209b*0x1+-0x1625*-0x2;_0x3b91ba<_0x1f2e01;_0x3b91ba++){const _0x1309b3=_0x374ce1['renderTarg'+'ets'][_0x3b91ba]['colorBuffe'+'r'];_0x1309b3['minFilter']=st,_0x1309b3['magFilter']=st,_0x2cff98['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x3b91ba],_0x1309b3);}}}}}['bake'](_0x45ac4c,_0x24bb34=ch){const _0x586b74=this['device'],_0x448328=ne();this['scene']['_updateSky'+'Mesh'](),_0x586b74['fire']('lightmappe'+'r:start',{'timestamp':_0x448328,'target':this}),this['stats']['renderPass'+'es']=0x1*-0xd22+0x1c4d+-0xf2b,this['stats']['shadowMapT'+'ime']=0x2a*0x68+-0xd63+-0x3ad,this['stats']['forwardTim'+'e']=-0x2*-0xa67+0x8b9+0x1d87*-0x1;const _0x20b553=_0x586b74['_shaderSta'+'ts']['linked'],_0x5c9228=_0x586b74['_renderTar'+'getCreatio'+'nTime'],_0x46ace4=_0x586b74['_shaderSta'+'ts']['compileTim'+'e'],_0x2a87f8=[],_0x282dfe=[];if(_0x45ac4c){for(let _0x3568d5=-0x1269+-0x18e4+0x2b4d;_0x3568d5<_0x45ac4c['length'];_0x3568d5++)this['collectMod'+'els'](_0x45ac4c[_0x3568d5],_0x2a87f8,null);this['collectMod'+'els'](this['root'],null,_0x282dfe);}else this['collectMod'+'els'](this['root'],_0x2a87f8,_0x282dfe);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x2a87f8['length']>0x21*-0x5f+0x1a5c+-0xe1d*0x1){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0xc7bf07=_0x24bb34===ch?-0x1*-0x1c2d+-0x8d7+-0x2*0x9aa:-0x4*-0x908+-0x337+0x2be*-0xc;this['setLightma'+'pping'](_0x2a87f8,!(0x1f95+-0xa7*0x24+-0x818),_0xc7bf07),this['initBake'](_0x586b74),this['bakeIntern'+'al'](_0xc7bf07,_0x2a87f8,_0x282dfe);let _0x30650b=Fu;_0x24bb34===ch&&(_0x30650b|=y0),this['scene']['ambientBak'+'e']&&(_0x30650b|=x0),this['setLightma'+'pping'](_0x2a87f8,!(0x1e34+0xd16+0x3*-0xe6e),_0xc7bf07,_0x30650b),this['finishBake'](_0x2a87f8);}G['popGpuMark'+'er'](this['device']);const _0x2fb2ee=ne();this['stats']['totalRende'+'rTime']=_0x2fb2ee-_0x448328,this['stats']['shadersLin'+'ked']=_0x586b74['_shaderSta'+'ts']['linked']-_0x20b553,this['stats']['compileTim'+'e']=_0x586b74['_shaderSta'+'ts']['compileTim'+'e']-_0x46ace4,this['stats']['fboTime']=_0x586b74['_renderTar'+'getCreatio'+'nTime']-_0x5c9228,this['stats']['lightmapCo'+'unt']=_0x2a87f8['length'],_0x586b74['fire']('lightmappe'+'r:end',{'timestamp':_0x2fb2ee,'target':this});}['allocateTe'+'xtures'](_0x3928d1,_0x79a31f){for(let _0x12d29a=0x26b1+-0x6a*0x1+-0x2647;_0x12d29a<_0x3928d1['length'];_0x12d29a++){const _0x413f36=_0x3928d1[_0x12d29a],_0xe5ea5f=this['calculateL'+'ightmapSiz'+'e'](_0x413f36['node']);for(let _0x4c7f6d=-0x696+-0x190+-0xe*-0x95;_0x4c7f6d<_0x79a31f;_0x4c7f6d++){const _0x27cd2e=this['createText'+'ure'](_0xe5ea5f,'lightmappe'+'r_lightmap'+'_'+_0x12d29a);Si['incRef'](_0x27cd2e),_0x413f36['renderTarg'+'ets'][_0x4c7f6d]=new pt({'colorBuffer':_0x27cd2e,'depth':!(-0x3*-0x61c+0x157+-0x13aa)});}if(!this['renderTarg'+'ets']['has'](_0xe5ea5f)){const _0x33dd0a=this['createText'+'ure'](_0xe5ea5f,'lightmappe'+'r_temp_lig'+'htmap_'+_0xe5ea5f);Si['incRef'](_0x33dd0a),this['renderTarg'+'ets']['set'](_0xe5ea5f,new pt({'colorBuffer':_0x33dd0a,'depth':!(-0x10*0xad+0x13bd+-0x476*0x2)}));}}}['prepareLig'+'htsToBake'](_0x4c8953,_0x2b0126){if(this['scene']['ambientBak'+'e']){const _0x1af676=new j_(this);_0x2b0126['push'](_0x1af676);}const _0x1cac1f=this['renderer']['lights'];for(let _0x55b08b=0x2517+-0x54*0x56+-0x3*0x2f5;_0x55b08b<_0x1cac1f['length'];_0x55b08b++){const _0x217a46=_0x1cac1f[_0x55b08b],_0x22fbec=new mP(this,_0x217a46);_0x4c8953['push'](_0x22fbec),_0x217a46['enabled']&&(_0x217a46['mask']&rr)!==0x29*0x49+0x17c9+-0x237a&&(_0x217a46['mask']=rr|cr|hs,_0x217a46['shadowUpda'+'teMode']=_0x217a46['type']===oe?Pp:cn,_0x2b0126['push'](_0x22fbec));}_0x2b0126['sort']();}['restoreLig'+'hts'](_0x2c357d){for(let _0x133b8b=-0x1ead+-0x7c*0x41+0x3e29;_0x133b8b<_0x2c357d['length'];_0x133b8b++)_0x2c357d[_0x133b8b]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x13d2+-0x2476+-0x2*-0x1c24,-0xc14+0x1d75*0x1+-0x1161,0x22e6+0x1fa5*-0x1+-0x341),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0xe1b49e){const _0x3f54d6=new _e();if(_0xe1b49e['length']>0x185a+-0xadd+-0xd7d){_0x3f54d6['copy'](_0xe1b49e[0x2e6+0x163d+-0xf*0x1ad]['aabb']);for(let _0x709915=0x3*-0xce6+-0x1*-0x7ef+-0x166*-0x16;_0x709915<_0xe1b49e['length'];_0x709915++)_0x3f54d6['add'](_0xe1b49e[_0x709915]['aabb']);}return _0x3f54d6;}['computeNod'+'esBounds'](_0x560689){for(let _0x3ea68c=0x5*0x6f5+-0x16b*-0xb+-0x2*0x1931;_0x3ea68c<_0x560689['length'];_0x3ea68c++){const _0x467d32=_0x560689[_0x3ea68c]['meshInstan'+'ces'];_0x560689[_0x3ea68c]['bounds']=this['computeNod'+'eBounds'](_0x467d32);}}['computeBou'+'nds'](_0x34474d){const _0x493164=new _e();for(let _0xac8e10=-0x23+-0x335*0x1+-0x1*-0x358;_0xac8e10<_0x34474d['length'];_0xac8e10++){_0x493164['copy'](_0x34474d[-0x138+-0x5*0x185+0x3d*0x25]['aabb']);for(let _0x2a00cc=-0x89*0x5+0x2*0x86d+0x1*-0xe2c;_0x2a00cc<_0x34474d['length'];_0x2a00cc++)_0x493164['add'](_0x34474d[_0x2a00cc]['aabb']);}return _0x493164;}['backupMate'+'rials'](_0x19b1a9){for(let _0x4ce311=-0xc00+0x53*-0x5+0xd9f;_0x4ce311<_0x19b1a9['length'];_0x4ce311++)this['materials'][_0x4ce311]=_0x19b1a9[_0x4ce311]['material'];}['restoreMat'+'erials'](_0x4c2354){for(let _0x25ac1b=0x27a+-0xa*-0x2db+-0x1f08;_0x25ac1b<_0x4c2354['length'];_0x25ac1b++)_0x4c2354[_0x25ac1b]['material']=this['materials'][_0x25ac1b];}['lightCamer'+'aPrepare'](_0x1d0682,_0x39752e){const _0x49474d=_0x39752e['light'];let _0x2c4063;return _0x49474d['type']===Re&&(_0x2c4063=_0x49474d['getRenderD'+'ata'](null,-0x13ec+-0xeb9*-0x2+-0x1*0x986)['shadowCame'+'ra'],_0x2c4063['_node']['setPositio'+'n'](_0x49474d['_node']['getPositio'+'n']()),_0x2c4063['_node']['setRotatio'+'n'](_0x49474d['_node']['getRotatio'+'n']()),_0x2c4063['_node']['rotateLoca'+'l'](-(0xda*-0xf+-0x19a7*-0x1+-0xc87),-0x1037+-0x656*-0x1+0x119*0x9,0x1c8e+-0x1*0x265+-0x1a29),_0x2c4063['projection']=Gs,_0x2c4063['nearClip']=_0x49474d['attenuatio'+'nEnd']/(0x1195+0x81*-0x49+0x171c),_0x2c4063['farClip']=_0x49474d['attenuatio'+'nEnd'],_0x2c4063['aspectRati'+'o']=0x4*-0x108+-0x9fe*-0x3+-0x19d9,_0x2c4063['fov']=_0x49474d['_outerCone'+'Angle']*(0x21b3*-0x1+0x2131+0x84),this['renderer']['updateCame'+'raFrustum'](_0x2c4063)),_0x2c4063;}['lightCamer'+'aPrepareAn'+'dCull'](_0x48c261,_0xef2679,_0x178b30,_0x2c2776){const _0x40183d=_0x48c261['light'];let _0x12c040=!(0x10bd*-0x1+-0x1ce8+0x2da5);if(_0x40183d['type']===oe){$l['copy'](_0x2c2776['center']),$l['y']+=_0x2c2776['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n']($l),this['camera']['node']['setEulerAn'+'gles'](-(-0x123+0x1a03*0x1+-0x1886),-0x154c*-0x1+0x3*-0x6de+0x59*-0x2,0x17ad+-0x2215+0xa68),this['camera']['nearClip']=-0x1051*0x1+0x23f6+-0x13a5,this['camera']['farClip']=_0x2c2776['halfExtent'+'s']['y']*(0x1d*0x112+-0x6*0x61f+-0x51*-0x12);const _0x32f6ec=Math['max'](_0x2c2776['halfExtent'+'s']['x'],_0x2c2776['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x32f6ec;}else _0x48c261['lightBound'+'s']['intersects'](_0xef2679['bounds'])||(_0x12c040=!(-0x1c19*0x1+-0x1c5d+-0xf5*-0x3b));if(_0x40183d['type']===Re){let _0x1f8693=!(0x21d7*-0x1+0x5*0x3a1+-0xfb3*-0x1);const _0x59e680=_0xef2679['meshInstan'+'ces'];for(let _0x532b3e=0x2*0xb47+-0x209c+0x75*0x16;_0x532b3e<_0x59e680['length'];_0x532b3e++)if(_0x59e680[_0x532b3e]['_isVisible'](_0x178b30)){_0x1f8693=!(0x12cd*-0x1+-0x1d79+0x3046);break;}_0x1f8693||(_0x12c040=!(-0xcb3*0x1+-0x7e5+-0x1499*-0x1));}return _0x12c040;}['setupLight'+'Array'](_0x51534f,_0x5df4a6){_0x51534f[oe]['length']=-0x1d6a+-0x1bf9+0x3963,_0x51534f[Pe]['length']=0xbf1*0x1+-0x739*0x1+-0x4b8,_0x51534f[Re]['length']=-0x391*0x3+0x1*-0x5db+0x108e,_0x51534f[_0x5df4a6['type']][0x19e8+-0x1*-0x35b+-0x1d43]=_0x5df4a6,_0x5df4a6['visibleThi'+'sFrame']=!(-0x84d*0x1+0x2600+-0x1db3);}['renderShad'+'owMap'](_0x27dd21,_0x3a1f6b,_0x2b517e,_0x2f295a){const _0x4c246e=_0x2f295a['light'],_0x544dac=this['scene']['clusteredL'+'ightingEna'+'bled'],_0xc7b9aa=_0x4c246e['castShadow'+'s']&&(!_0x544dac||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x3a1f6b&&_0xc7b9aa){if(!_0x4c246e['shadowMap']&&!_0x544dac&&(_0x4c246e['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x4c246e)),_0x4c246e['type']===oe){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4c246e,_0x27dd21,this['camera'],_0x2b517e);const _0x5545ad=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4c246e,this['camera']);_0x5545ad==null||_0x5545ad['render']();}else{if(this['device']['isWebGPU'])return v['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x1c4+-0x3*-0x78e+-0x14e6);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x4c246e,_0x27dd21,_0x2b517e),this['renderer']['shadowRend'+'erer']['render'](_0x4c246e,this['camera'],!(0x2435+0x1a8e+0x1f61*-0x2));}}return!(0x5*0x4d+0x21c3+-0x25*0xf4);}['postproces'+'sTextures'](_0x45cbf6,_0x36e7e0,_0x3115a3){const _0x50ae80=this['lightmapFi'+'lters']['getDilate'](_0x45cbf6,this['bakeHDR']);let _0x495d11;const _0x42d424=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x42d424&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x495d11=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x45cbf6['setBlendSt'+'ate'](_t['NOBLEND']),_0x45cbf6['setDepthSt'+'ate'](as['NODEPTH']),_0x45cbf6['setStencil'+'State'](null,null);for(let _0x31bea9=0x5*0x269+-0x2*0x451+-0x19*0x23;_0x31bea9<_0x36e7e0['length'];_0x31bea9++){const _0x315585=_0x36e7e0[_0x31bea9];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x31bea9);for(let _0x33c7d5=0x1f58+-0x101*-0x1+0xd*-0x27d;_0x33c7d5<_0x3115a3;_0x33c7d5++){const _0x466a95=_0x315585['renderTarg'+'ets'][_0x33c7d5],_0x550776=_0x466a95['colorBuffe'+'r'],_0x1633d1=this['renderTarg'+'ets']['get'](_0x550776['width']),_0x19cf26=_0x1633d1['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x550776['width'],_0x550776['height']);for(let _0x1be4b0=-0x20e8+0x2084+0x64;_0x1be4b0<-0x487+0x18bc+-0x1434;_0x1be4b0++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x550776),dn(_0x45cbf6,_0x1633d1,_0x42d424&&_0x33c7d5===-0x88f+0x1*0x1ec5+-0x1636*0x1&&_0x1be4b0===0x1*-0x1cb5+-0x1e2*0x2+0x2079?_0x495d11:_0x50ae80),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x19cf26),dn(_0x45cbf6,_0x466a95,_0x50ae80);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x1826b6,_0x3120e7,_0x583af0){const _0x5f0f56=this['scene'],_0x8f33fa=_0x5f0f56['layers'],_0x3ee7a9=this['device'],_0x36cc96=_0x5f0f56['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x3ee7a9,_0x5f0f56,_0x1826b6),this['setupScene'](),_0x8f33fa['_update'](),this['computeNod'+'esBounds'](_0x3120e7),this['allocateTe'+'xtures'](_0x3120e7,_0x1826b6),this['renderer']['collectLig'+'hts'](_0x8f33fa);const _0x204a23=[],_0x1ce9f2=[];this['prepareLig'+'htsToBake'](_0x204a23,_0x1ce9f2),this['updateTran'+'sforms'](_0x583af0);const _0x4a2d1a=this['prepareSha'+'dowCasters'](_0x583af0);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x4a2d1a),this['renderer']['gpuUpdate'](_0x4a2d1a);const _0x39a109=this['computeBou'+'nds'](_0x4a2d1a);let _0x29a692,_0x2bf5af,_0x3f61d0,_0xb20806;for(_0x29a692=0xf02+-0x18ed*0x1+0x9eb;_0x29a692<_0x3120e7['length'];_0x29a692++)for(_0x3f61d0=_0x3120e7[_0x29a692]['meshInstan'+'ces'],_0x2bf5af=-0xf7d+-0x2394+-0x3311*-0x1;_0x2bf5af<_0x3f61d0['length'];_0x2bf5af++)_0xb20806=_0x3f61d0[_0x2bf5af],_0xb20806['setLightma'+'pped'](!(0x81*0x13+0xb1c+-0xa57*0x2)),_0xb20806['mask']=rr,_0xb20806['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][-0x236d*-0x1+-0x1d89+-0x5e4],this['blackTex']),_0xb20806['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][0x13b3+0x2b*-0xae+0x988],this['blackTex']);for(_0x2bf5af=-0x746+0xc0*-0x2b+-0x1*-0x2786;_0x2bf5af<_0x1ce9f2['length'];_0x2bf5af++)_0x1ce9f2[_0x2bf5af]['light']['enabled']=!(0x1*-0x224d+-0x11*-0x1+0x223d);const _0x5c8327=[[],[],[]];let _0x1705ee,_0x26a77f,_0x4ef070=!(-0x232b+-0x3*0x12b+0x26ad);for(_0x29a692=0x20a*0x13+-0x13*0x176+-0x26*0x4a;_0x29a692<_0x1ce9f2['length'];_0x29a692++){const _0x2b6317=_0x1ce9f2[_0x29a692],_0x9f50d0=_0x2b6317 instanceof j_,_0x58bc12=_0x2b6317['light']['type']===oe;let _0x2220e2=_0x2b6317['numVirtual'+'Lights'];_0x1826b6>0x150c+0x8ea+0x1*-0x1df5&&_0x2220e2>-0x1409+-0x2674+0x3a7e&&_0x2b6317['light']['bakeDir']&&(_0x2220e2=0x8f3*-0x1+-0x1aa8+0x239c,v['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x40561c=0x1b30+0x1bcc*-0x1+0x4e*0x2;_0x40561c<_0x2220e2;_0x40561c++){G['pushGpuMar'+'ker'](_0x3ee7a9,'Light:'+_0x2b6317['light']['_node']['name']+':'+_0x40561c),_0x2220e2>0x1f7e+0x10a1+-0x301e&&_0x2b6317['prepareVir'+'tualLight'](_0x40561c,_0x2220e2),_0x2b6317['startBake']();let _0x297809=!(0xf5c*-0x2+-0x1785+0x363e);const _0x1c8404=this['lightCamer'+'aPrepare'](_0x3ee7a9,_0x2b6317);for(_0x26a77f=-0x1323*0x1+-0x1*-0xff2+-0x13*-0x2b;_0x26a77f<_0x3120e7['length'];_0x26a77f++){const _0x156c2e=_0x3120e7[_0x26a77f];if(_0x3f61d0=_0x156c2e['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x2b6317,_0x156c2e,_0x1c8404,_0x39a109))continue;this['setupLight'+'Array'](_0x5c8327,_0x2b6317['light']);const _0x526b7a=_0x58bc12?[]:[_0x2b6317['light']];for(_0x36cc96&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x526b7a,this['lightingPa'+'rams']),_0x297809=this['renderShad'+'owMap'](_0x8f33fa,_0x297809,_0x4a2d1a,_0x2b6317),_0x36cc96&&this['worldClust'+'ers']['update'](_0x526b7a,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x3f61d0),_0x1705ee=-0x8*-0x383+0x1*-0x9da+-0x123e;_0x1705ee<_0x1826b6&&!(_0x1705ee>-0xb4+-0x1012*0x2+-0x20d8*-0x1&&_0x40561c>-0x2*-0x111f+-0x4*0xeb+-0x12d*0x1a||_0x9f50d0&&_0x1705ee>0xb51*0x1+-0x7a*-0x20+0x8db*-0x3);_0x1705ee++){G['pushGpuMar'+'ker'](_0x3ee7a9,'LMPass:'+_0x1705ee);const _0xad9c4e=_0x156c2e['renderTarg'+'ets'][_0x1705ee],_0x2af273=_0x156c2e['renderTarg'+'ets'][_0x1705ee]['colorBuffe'+'r']['width'],_0x23f0e4=this['renderTarg'+'ets']['get'](_0x2af273),_0x5ee8df=_0x23f0e4['colorBuffe'+'r'];_0x1705ee===0x1637+-0x16a*0x6+0x2bf*-0x5?_0x4ef070=_0x5f0f56['updateShad'+'ers']:_0x4ef070&&(_0x5f0f56['updateShad'+'ers']=!(0xfa6+0x2*-0xd4b+0xaf0));let _0x2169d0=this['passMateri'+'als'][_0x1705ee];for(_0x9f50d0&&_0x40561c+(-0x6d*-0x25+0x9ff*-0x3+0xe3d)===_0x2220e2&&_0x1705ee===0x57*-0x3e+0x397*0x7+-0x40f&&(_0x2169d0=this['ambientAOM'+'aterial']),_0x2bf5af=0x3*-0x945+0x72d+0x14a2;_0x2bf5af<_0x3f61d0['length'];_0x2bf5af++)_0x3f61d0[_0x2bf5af]['material']=_0x2169d0;if(this['renderer']['updateShad'+'ers'](_0x3f61d0),_0x1705ee===SP&&this['constantBa'+'keDir']['setValue'](_0x2b6317['light']['bakeDir']?0x1*-0x65d+0x3*-0x29+-0x1*-0x6d9:-0x9*0xb2+0x1e43+-0x1801),_0x3ee7a9['isWebGPU']){const _0x45bb8e=new gP(_0x3ee7a9,this['renderer'],this['camera'],_0x36cc96?this['worldClust'+'ers']:null,_0x3f61d0,_0x5c8327);_0x45bb8e['init'](_0x23f0e4),_0x45bb8e['render'](),_0x45bb8e['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x23f0e4,!(-0x2b7*-0xd+0x1*-0x1621+0xd2a*-0x1)),_0x36cc96&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x1601+0x2406+-0xe05,this['renderer']['_shadowMap'+'Time']=-0x91*0x8+-0x94*-0xe+-0x390,this['renderer']['renderForw'+'ard'](this['camera'],_0x23f0e4,_0x3f61d0,_0x5c8327,gn),_0x3ee7a9['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x156c2e['renderTarg'+'ets'][_0x1705ee]=_0x23f0e4,this['renderTarg'+'ets']['set'](_0x2af273,_0xad9c4e),_0x2bf5af=0x18cb+0x97d*-0x1+-0x51a*0x3;_0x2bf5af<_0x3f61d0['length'];_0x2bf5af++)_0xb20806=_0x3f61d0[_0x2bf5af],_0xb20806['setRealtim'+'eLightmap'](Le['lightmapPa'+'ramNames'][_0x1705ee],_0x5ee8df),_0xb20806['_shaderDef'+'s']|=Fu;G['popGpuMark'+'er'](_0x3ee7a9);}this['restoreMat'+'erials'](_0x3f61d0);}_0x2b6317['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x3ee7a9);}}for(this['postproces'+'sTextures'](_0x3ee7a9,_0x3120e7,_0x1826b6),_0x26a77f=-0x2*-0x922+0x1f01+0x3145*-0x1;_0x26a77f<_0x583af0['length'];_0x26a77f++)_0x583af0[_0x26a77f]['restore']();this['restoreLig'+'hts'](_0x204a23),this['restoreSce'+'ne'](),_0x36cc96||this['shadowMapC'+'ache']['clear']();}}const oc=class oc extends ce{constructor(_0x5e5832,_0x5762f8){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x5e5832,this['entity']=_0x5762f8,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x222f7b,_0xde12a2,_0x3152c7){this['fire']('set_'+_0x222f7b,_0x222f7b,_0xde12a2,_0x3152c7);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x492d74,_0x1e5fc9){_0x1e5fc9['forEach'](_0x11319d=>{const _0x28fe38=typeof _0x11319d=='object'?_0x11319d['name']:_0x11319d;Object['defineProp'+'erty'](_0x492d74,_0x28fe38,{'get':function(){return this['data'][_0x28fe38];},'set':function(_0x847a3e){const _0x11bc97=this['data'],_0x1b13fb=_0x11bc97[_0x28fe38];_0x11bc97[_0x28fe38]=_0x847a3e,this['fire']('set',_0x28fe38,_0x1b13fb,_0x847a3e);},'configurable':!(0x49*0x2e+-0x89d+-0x481)});}),_0x492d74['_accessors'+'Built']=!(0x2b*-0x5d+-0x444+0x6a1*0x3);}['buildAcces'+'sors'](_0x33fe5b){oc['_buildAcce'+'ssors'](this,_0x33fe5b);}['onSetEnabl'+'ed'](_0x450a2a,_0x141dad,_0x30d4c0){_0x141dad!==_0x30d4c0&&this['entity']['enabled']&&(_0x30d4c0?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x3f275b=this['system']['store'][this['entity']['getGuid']()];return _0x3f275b?_0x3f275b['data']:null;}set['enabled'](_0xc6b72c){}get['enabled'](){return!(0xaca+0xb47+-0x1611);}};c(oc,'order',-0x5*0x11a+0xb3*-0x1c+0x1916);let ue=oc;class Xe extends ce{constructor(_0x1089d6){super(),this['app']=_0x1089d6,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x36cd6c,_0x207ec8={}){const _0x1ad149=new this['ComponentT'+'ype'](this,_0x36cd6c),_0x274d1e=new this['DataType']();return this['store'][_0x36cd6c['getGuid']()]={'entity':_0x36cd6c,'data':_0x274d1e},_0x36cd6c[this['id']]=_0x1ad149,_0x36cd6c['c'][this['id']]=_0x1ad149,this['initialize'+'ComponentD'+'ata'](_0x1ad149,_0x207ec8,[]),this['fire']('add',_0x36cd6c,_0x1ad149),_0x1ad149;}['removeComp'+'onent'](_0x515046){const _0x282328=this['id'],_0x2cbdb8=this['store'][_0x515046['getGuid']()],_0x792624=_0x515046['c'][_0x282328];_0x792624['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x515046,_0x792624),delete this['store'][_0x515046['getGuid']()],_0x515046[_0x282328]=void(0x37e+0x26*-0xb3+-0x1*-0x1714),delete _0x515046['c'][_0x282328],this['fire']('remove',_0x515046,_0x2cbdb8['data']);}['cloneCompo'+'nent'](_0x3a69fe,_0x528ec0){const _0x5d1b25=this['store'][_0x3a69fe['getGuid']()];return this['addCompone'+'nt'](_0x528ec0,_0x5d1b25['data']);}['initialize'+'ComponentD'+'ata'](_0x1dae9c,_0x109e0c={},_0x48b419){for(let _0x124b65=0x953+0x14e1+-0x1e34,_0x28f448=_0x48b419['length'];_0x124b65<_0x28f448;_0x124b65++){const _0x4b316e=_0x48b419[_0x124b65];let _0x2aa7ae,_0x2db82e;typeof _0x4b316e=='object'?(_0x2aa7ae=_0x4b316e['name'],_0x2db82e=_0x4b316e['type']):(_0x2aa7ae=_0x4b316e,_0x2db82e=void(-0x1e8c+0x1657+0x835));let _0x35e778=_0x109e0c[_0x2aa7ae];_0x35e778!==void(-0x452+-0x11e4+0x1636)?(_0x2db82e!==void(0x23f0+-0x142b+-0xfc5)&&(_0x35e778=bP(_0x35e778,_0x2db82e)),_0x1dae9c[_0x2aa7ae]=_0x35e778):_0x1dae9c[_0x2aa7ae]=_0x1dae9c['data'][_0x2aa7ae];}_0x1dae9c['enabled']&&_0x1dae9c['entity']['enabled']&&_0x1dae9c['onEnable']();}['getPropert'+'iesOfType'](_0xb9d770){const _0x1829d0=[];return(this['schema']||[])['forEach'](_0x1cf680=>{_0x1cf680&&typeof _0x1cf680=='object'&&_0x1cf680['type']===_0xb9d770&&_0x1829d0['push'](_0x1cf680);}),_0x1829d0;}['destroy'](){this['off']();}}function bP(_0x2bb862,_0x578e85){if(!_0x2bb862)return _0x2bb862;switch(_0x578e85){case'rgb':return _0x2bb862 instanceof Y?_0x2bb862['clone']():new Y(_0x2bb862[0x461*0x5+-0x34*-0x88+0x1*-0x3185],_0x2bb862[-0xa*0x7f+-0x2410+0x2907],_0x2bb862[0x7ef+0x17fa+-0x1*0x1fe7]);case'rgba':return _0x2bb862 instanceof Y?_0x2bb862['clone']():new Y(_0x2bb862[-0x1984+-0x163a+0x2fbe],_0x2bb862[0x1b51+-0x25ae+0xa5e],_0x2bb862[0xece+0xf52+-0x101*0x1e],_0x2bb862[-0x12b8+-0xb69+0x6*0x506]);case'vec2':return _0x2bb862 instanceof W?_0x2bb862['clone']():new W(_0x2bb862[-0x646*-0x3+-0x13*-0xf7+0x2527*-0x1],_0x2bb862[0xa95+0x173a+-0x21ce]);case'vec3':return _0x2bb862 instanceof T?_0x2bb862['clone']():new T(_0x2bb862[0x9ae*-0x3+0x21e1+0x19d*-0x3],_0x2bb862[0x210f+-0xc*0x314+0x3e2],_0x2bb862[0x140d+-0x61*-0x2+-0x14cd]);case'vec4':return _0x2bb862 instanceof Q?_0x2bb862['clone']():new Q(_0x2bb862[0x4*0x390+-0x1*0x172d+-0x5*-0x1c9],_0x2bb862[-0x5*0x5d5+0x11e0+0xa*0x121],_0x2bb862[-0x679*-0x6+-0x4d3+0x1*-0x2201],_0x2bb862[0x1*-0x439+-0xd25+0x3*0x5cb]);case'boolean':case'number':case'string':return _0x2bb862;case'entity':return _0x2bb862;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x578e85);}}const $0=0x1b3+0x26fb+-0x28ae,ju=0x4e*0x4c+-0xbf6+-0xb31,Yu=-0x2*-0x943+-0x1ed5+0xc51;class wP{constructor(){this['_left']=(0x110*0x11+-0x851+-0x4df*0x2)/(0x49*-0x4a+0x27f+0x129b),this['_right']=-(0x89*0x7+-0x20*-0x64+0x6*-0x2b5)/(-0x2*-0x202+0x24a6+-0x6c7*0x6),this['_len']=-0xcea+0x1ad5+0xdeb*-0x1,this['_recip']=-0x540+0x1b90+-0x1650,this['_p0']=-0x2096+-0x1f12+-0x1538*-0x3,this['_p1']=0x1*-0x1a73+0xfd2+0xaa1,this['_t']=0x1d49+-0x1fa3+0x56*0x7,this['_hermite']={'valid':!(0x1dc6+0x197*-0xd+-0x91a),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0xa727a6,_0x57117f){if(_0xa727a6<this['_left']||_0xa727a6>=this['_right']){const _0x2933cc=_0x57117f['length'];if(!_0x2933cc)this['_left']=-(-0x1051*0x2+0x1*-0x8ad+0x295*0x10)/(0x254+0xcea+-0xf3e),this['_right']=(-0x4*-0x998+0x235+-0x2894)/(0x3b3+-0x47*0x4+0x11*-0x27),this['_len']=-0x1*0xe3+-0xa22*-0x1+-0x93f,this['_recip']=-0x1*-0x1ae6+0x2*-0x985+-0x7dc,this['_p0']=this['_p1']=-0x20e*0x7+0x7ec+-0x1*-0x676;else{if(_0xa727a6<_0x57117f[0xa47+0x1a35+-0x247c])this['_left']=-(-0xd*0x62+0xa*-0x2d7+0x2161)/(0x26a5+-0x15e6+-0x10bf),this['_right']=_0x57117f[0x15cb*-0x1+-0x5*-0x17d+0x1*0xe5a],this['_len']=-0x3*0x78b+-0x21c8+-0x3869*-0x1,this['_recip']=0x1ab3+0xd05+0x2*-0x13dc,this['_p0']=this['_p1']=0x1b04*-0x1+0x1da2+0x29e*-0x1;else{if(_0xa727a6>=_0x57117f[_0x2933cc-(0x1f*-0x13e+-0x84a+0x2ecd)])this['_left']=_0x57117f[_0x2933cc-(-0x58*-0x3b+0x24*-0x2a+-0xe5f)],this['_right']=(-0x6b3+-0x6*0xd0+0xb94)/(0x23d1+-0x2a8+-0x1*0x2129),this['_len']=0x1126*-0x1+-0x76b+-0x13*-0x14b,this['_recip']=0x2532+0x14ca+-0x39fc,this['_p0']=this['_p1']=_0x2933cc-(0x137b+0xd0b+-0x2085);else{const _0x1e6dbb=this['_findKey'](_0xa727a6,_0x57117f);this['_left']=_0x57117f[_0x1e6dbb],this['_right']=_0x57117f[_0x1e6dbb+(-0x5*-0x257+-0x202a+0x1478)],this['_len']=this['_right']-this['_left'];const _0x153fa7=(0x1872+-0x182b+-0x46)/this['_len'];this['_recip']=isFinite(_0x153fa7)?_0x153fa7:-0x26d8+0x13ed*-0x1+0x11*0x375,this['_p0']=_0x1e6dbb,this['_p1']=_0x1e6dbb+(0x2424+-0x1109+-0x131a);}}}}this['_t']=this['_recip']===-0x1*0x71+-0xe51+-0x761*-0x2?0x2257*-0x1+-0x12e4+0x353b:(_0xa727a6-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x2*0x1a3+-0xa57+0x2*0x6cf);}['_findKey'](_0xdd4233,_0x2f9327){let _0x36f27c=-0xd1*-0x8+-0x10b*0x1d+0x17b7;for(;_0xdd4233>=_0x2f9327[_0x36f27c+(-0xb*0x29e+0x2335*0x1+0x66a*-0x1)];)_0x36f27c++;return _0x36f27c;}['eval'](_0x24de11,_0xc5d16e,_0x2584bf){const _0x14ac47=_0x2584bf['_data'],_0x36e7a3=_0x2584bf['_component'+'s'],_0x1a5554=this['_p0']*_0x36e7a3;if(_0xc5d16e===$0){for(let _0x2602ea=-0xd4+0xce5+-0xc11;_0x2602ea<_0x36e7a3;++_0x2602ea)_0x24de11[_0x2602ea]=_0x14ac47[_0x1a5554+_0x2602ea];}else{const _0x399eba=this['_t'],_0x50f0c1=this['_p1']*_0x36e7a3;switch(_0xc5d16e){case ju:for(let _0x37ef26=-0x4*-0x505+0xe58+-0x1*0x226c;_0x37ef26<_0x36e7a3;++_0x37ef26)_0x24de11[_0x37ef26]=N['lerp'](_0x14ac47[_0x1a5554+_0x37ef26],_0x14ac47[_0x50f0c1+_0x37ef26],_0x399eba);break;case Yu:{const _0x468508=this['_hermite'];if(!_0x468508['valid']){const _0x44b488=_0x399eba*_0x399eba,_0x2974aa=_0x399eba+_0x399eba,_0x18bf58=-0x2409+-0x1858+-0x2*-0x1e31-_0x399eba,_0x38977e=_0x18bf58*_0x18bf58;_0x468508['valid']=!(-0xa1a+-0x1045+-0x1a5f*-0x1),_0x468508['p0']=(-0x1*0x69d+-0x15*-0x101+0x1*-0xe77+_0x2974aa)*_0x38977e,_0x468508['m0']=_0x399eba*_0x38977e,_0x468508['p1']=_0x44b488*(0x14*-0x8e+0x367*0x5+-0x5e8-_0x2974aa),_0x468508['m1']=_0x44b488*(_0x399eba-(0x1efa+-0xf2b+-0xfce));}const _0x1609f2=(this['_p0']*(0x26fb+0x1*-0x1f94+0x3b2*-0x2)+(-0x191e*-0x1+0xaed*0x1+-0x240a))*_0x36e7a3,_0xb394de=(this['_p0']*(0x2*-0x548+0x1*0x5dd+0x4b6)+(0x1f49+-0x19ad+0x2cd*-0x2))*_0x36e7a3,_0x1b2546=(this['_p1']*(0x1af0+-0x1277+-0x876)+(-0xa5*-0xa+-0x209d+0x10c*0x19))*_0x36e7a3,_0x15f845=(this['_p1']*(0x4*0x305+0x147*0x1e+-0x3263*0x1)+(-0x1790+-0x2*0x92+0x18b4))*_0x36e7a3;for(let _0x88fef1=-0x67a*0x1+-0x43f*0x7+0x2433;_0x88fef1<_0x36e7a3;++_0x88fef1)_0x24de11[_0x88fef1]=_0x468508['p0']*_0x14ac47[_0x1609f2+_0x88fef1]+_0x468508['m0']*_0x14ac47[_0xb394de+_0x88fef1]*this['_len']+_0x468508['p1']*_0x14ac47[_0x1b2546+_0x88fef1]+_0x468508['m1']*_0x14ac47[_0x15f845+_0x88fef1]*this['_len'];break;}}}}}class K_{constructor(_0xcdcdc7){this['_name']=_0xcdcdc7['name']+'Snapshot',this['_time']=-(0x7b1*0x2+-0xbbf+0x1e*-0x1f),this['_cache']=[],this['_results']=[];for(let _0x2fa4f1=-0x2*-0xcd+-0xada+0x1*0x940;_0x2fa4f1<_0xcdcdc7['_inputs']['length'];++_0x2fa4f1)this['_cache'][_0x2fa4f1]=new wP();const _0x5c061d=_0xcdcdc7['_curves'],_0x31db31=_0xcdcdc7['_outputs'];for(let _0x5cd658=0xb2b+0x2049+-0x12*0x26a;_0x5cd658<_0x5c061d['length'];++_0x5cd658){const _0x28d718=_0x5c061d[_0x5cd658],_0xca2e5f=_0x31db31[_0x28d718['_output']],_0x5d88c9=[];for(let _0x41bc49=-0x1d60+0x2094*-0x1+-0x7a*-0x82;_0x41bc49<_0xca2e5f['_component'+'s'];++_0x41bc49)_0x5d88c9[_0x41bc49]=-0xf*0x9a+-0xc6f+0x1575;this['_results'][_0x5cd658]=_0x5d88c9;}}}const Eo=class Eo{constructor(_0x345f4c,_0x5a1268,_0x385523,_0x15b505,_0x5f4bee,_0x418787){this['_name']=_0x345f4c['name'],this['_track']=_0x345f4c,this['_snapshot']=new K_(_0x345f4c),this['_playing']=_0x15b505,this['_time']=_0x5a1268,this['_speed']=_0x385523,this['_loop']=_0x5f4bee,this['_blendWeig'+'ht']=-0x157a+-0x1e84+0x33ff,this['_blendOrde'+'r']=0x5*-0x2a1+0x2*-0xaf3+0x230b,this['_eventHand'+'ler']=_0x418787,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x3f3cb){this['_name']=_0x3f3cb;}get['name'](){return this['_name'];}set['track'](_0x2e3237){this['_track']=_0x2e3237,this['_snapshot']=new K_(_0x2e3237);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x258076){this['_time']=_0x258076,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0xa022e2){const _0x382ead=Math['sign'](_0xa022e2)!==Math['sign'](this['_speed']);this['_speed']=_0xa022e2,_0x382ead&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x167117){this['_loop']=_0x167117;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x1b4ebe){this['_blendWeig'+'ht']=_0x1b4ebe;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x212d71){this['_blendOrde'+'r']=_0x212d71;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x49aa9f){this['_eventCurs'+'or']=_0x49aa9f;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?0x2011+-0x18b*0x7+-0x1*0x1544:this['_track']['events']['length']-(-0xed2+-0x4*0x69b+0x1*0x293f);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0xc03+-0x9e3*-0x1+-0x15e6;}['nextEventA'+'headOfTime'](_0x460607){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x460607:this['nextEvent']['time']>=_0x460607:!(-0xb4f+0x2b6+-0x6*-0x16f);}['nextEventB'+'ehindTime'](_0x34e94e){return this['nextEvent']?_0x34e94e===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x34e94e:this['nextEvent']['time']<=_0x34e94e:this['isReverse']?this['nextEvent']['time']>_0x34e94e:this['nextEvent']['time']<_0x34e94e:!(0x1012+-0xeda+-0x137);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(0x1d1+0x1370+0x1*-0x1540):0x690+-0x104f+0x9bf*0x1;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x1fab+-0x2*-0xaad+-0xa52*-0x1):0x176a+-0x23ed*0x1+-0x164*-0x9,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0xfd5*0x2+-0x20e8*0x1+0xcea*0x5:this['_eventCurs'+'or']<0x2037+-0x9*0x2dd+-0x672&&(this['_eventCurs'+'or']=this['track']['events']['length']-(0x10f6+0x1c*0xff+-0x2cd9));}['clipFrameT'+'ime'](_0xf4c481){const _0x18e9b2=Eo['eventFrame'];_0x18e9b2['start']=0x5a*0x63+-0x1e1b+0x4b3*-0x1,_0x18e9b2['end']=_0xf4c481,_0x18e9b2['residual']=-0x1d2a*0x1+0x85*-0x7+0x20cd,this['isReverse']?_0xf4c481<-0x22f5+0x1fcc+-0x1*-0x329&&(_0x18e9b2['start']=this['track']['duration'],_0x18e9b2['end']=0x49e+-0x16*-0x8d+0x6*-0x2ca,_0x18e9b2['residual']=_0xf4c481+this['track']['duration']):_0xf4c481>this['track']['duration']&&(_0x18e9b2['start']=-0x1*-0x20ab+0x22d2*0x1+-0x437d,_0x18e9b2['end']=this['track']['duration'],_0x18e9b2['residual']=_0xf4c481-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x2323b4,_0x1f5160){return this['nextEventA'+'headOfTime'](_0x2323b4)&&this['nextEventB'+'ehindTime'](_0x1f5160)?(this['fireNextEv'+'ent'](),!(-0x772*0x4+-0x65*-0x53+-0x2f7)):!(-0x1291+0x39a*-0x1+0x21*0xac);}['activeEven'+'tsForFrame'](_0x41da59,_0x43be43){const _0x2982e4=Eo['eventFrame'];this['clipFrameT'+'ime'](_0x43be43);const _0x3e06cf=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x41da59,_0x2982e4['end'])&&_0x3e06cf!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x2982e4['residual'])>-0x1730*0x1+0x14d2+0x25e&&this['activeEven'+'tsForFrame'](_0x2982e4['start'],_0x2982e4['residual']);}['progressFo'+'rTime'](_0x3bd9bb){return _0x3bd9bb*this['_speed']/this['_track']['duration'];}['_update'](_0x4ff40b){if(this['_playing']){let _0x4d219f=this['_time'];const _0x3daa88=this['_track']['duration'],_0x35f466=this['_speed'],_0x317ae6=this['_loop'];this['_track']['events']['length']>0xe5e+-0x1*-0x16d0+0x1*-0x252e&&_0x3daa88>-0x5*0x3c3+-0x1d2e+-0x23*-0x15f&&this['activeEven'+'tsForFrame'](_0x4d219f,_0x4d219f+_0x35f466*_0x4ff40b),_0x4d219f+=_0x35f466*_0x4ff40b,_0x35f466>=-0x35f*-0x3+-0x1fb+0x822*-0x1?_0x4d219f>_0x3daa88&&(_0x317ae6?_0x4d219f=_0x4d219f%_0x3daa88||0xc89+-0x1966+0xcdd:(_0x4d219f=this['_track']['duration'],this['pause']())):_0x4d219f<0x1*-0x2405+-0x42d*0x2+0x25*0x133&&(_0x317ae6?_0x4d219f=_0x3daa88+(_0x4d219f%_0x3daa88||-0x1cca+-0xd*-0x62+0x17d0):(_0x4d219f=0x530+0x133d*-0x1+0xe0d,this['pause']())),this['_time']=_0x4d219f;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x23d3+-0x684+0x2a57),this['_time']=-0x2b*-0x7f+0x750+-0x1ca5;}['stop'](){this['_playing']=!(-0x22d4+-0x34+-0x2309*-0x1),this['_time']=-0x1367*0x1+0x233*0x2+-0xf01*-0x1;}['pause'](){this['_playing']=!(0x815*0x1+-0x223*-0xc+-0x21b8);}['resume'](){this['_playing']=!(-0x1*-0x2515+0x2*0x763+-0x33db);}['reset'](){this['_time']=0x201a+-0x1b29+-0x37*0x17;}};c(Eo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Xh=Eo;const q0='NONE',TP='PREV_STATE',AP='NEXT_STATE',EP='PREV_STATE'+'_NEXT_STAT'+'E',CP='NEXT_STATE'+'_PREV_STAT'+'E',MP='GREATER_TH'+'AN',PP='LESS_THAN',RP='GREATER_TH'+'AN_EQUAL_T'+'O',IP='LESS_THAN_'+'EQUAL_TO',DP='EQUAL_TO',LP='NOT_EQUAL_'+'TO',Z_='INTEGER',Q_='FLOAT',J_='BOOLEAN',ph='TRIGGER',FP='1D',OP='2D_DIRECTI'+'ONAL',kP='2D_CARTESI'+'AN',BP='DIRECT',oo='START',Ku='END',Or='ANY',jh=[oo,Ku,Or],X0='OVERWRITE',NP='ADDITIVE';class Tt{static['dot'](_0x1a611e,_0x22563d){const _0x391e8c=_0x1a611e['length'];let _0x3858f2=0x15*-0xa7+-0x211*0x1+0xfc4;for(let _0xcc4d11=-0x39*-0x10+0x136c+-0x16fc;_0xcc4d11<_0x391e8c;++_0xcc4d11)_0x3858f2+=_0x1a611e[_0xcc4d11]*_0x22563d[_0xcc4d11];return _0x3858f2;}static['normalize'](_0x252f70){let _0x2bf9cb=Tt['dot'](_0x252f70,_0x252f70);if(_0x2bf9cb>-0x1e68+0x17e1+0x687*0x1){_0x2bf9cb=(0x23f+0x149c+-0x16da)/Math['sqrt'](_0x2bf9cb);const _0x137a66=_0x252f70['length'];for(let _0x3b5793=0x6ad+-0x1ae5+0x4*0x50e;_0x3b5793<_0x137a66;++_0x3b5793)_0x252f70[_0x3b5793]*=_0x2bf9cb;}}static['set'](_0x32781a,_0x552104,_0x4abbc8){const _0x5cd5cc=_0x32781a['length'];if(_0x4abbc8==='quaternion'){let _0x445c8b=Tt['dot'](_0x552104,_0x552104);_0x445c8b>-0x9c+0x2d7+0x1*-0x23b&&(_0x445c8b=(0x1d0+0x1349*-0x1+0x117a)/Math['sqrt'](_0x445c8b));for(let _0x2fa300=0x622+-0x6d*0x18+0x416;_0x2fa300<_0x5cd5cc;++_0x2fa300)_0x32781a[_0x2fa300]=_0x552104[_0x2fa300]*_0x445c8b;}else{for(let _0x42ec3a=0x1*0x1db3+-0x105d+-0xd56;_0x42ec3a<_0x5cd5cc;++_0x42ec3a)_0x32781a[_0x42ec3a]=_0x552104[_0x42ec3a];}}static['blendVec'](_0x5764bb,_0x5aebf4,_0x3c920d,_0x3745c0){const _0x25b95b=_0x3745c0?0xb*0x389+-0x265*0xe+-0x1c*0x31:-0xb*0x355+-0x1cc5+0x416d-_0x3c920d,_0x5f038b=_0x5764bb['length'];for(let _0x250ce4=-0x2b*0x76+0x21e+0x11b4;_0x250ce4<_0x5f038b;++_0x250ce4)_0x5764bb[_0x250ce4]=_0x5764bb[_0x250ce4]*_0x25b95b+_0x5aebf4[_0x250ce4]*_0x3c920d;}static['blendQuat'](_0x2715b9,_0x79f4aa,_0x550b02,_0x2733ef){const _0xc35585=_0x2715b9['length'],_0x4a8809=_0x2733ef?-0xc4e+0xc7*-0x29+-0x1e*-0x179:0x13ae+0x25b5*-0x1+0x1208-_0x550b02;Tt['dot'](_0x2715b9,_0x79f4aa)<-0x171f+-0x2121+0x3840&&(_0x550b02=-_0x550b02);for(let _0x18ae7f=-0x358+-0x1*0x7ee+-0x6f*-0x1a;_0x18ae7f<_0xc35585;++_0x18ae7f)_0x2715b9[_0x18ae7f]=_0x2715b9[_0x18ae7f]*_0x4a8809+_0x79f4aa[_0x18ae7f]*_0x550b02;_0x2733ef||Tt['normalize'](_0x2715b9);}static['blend'](_0x6455b7,_0xb3b008,_0x571b39,_0x124f4a,_0x21d8eb){_0x124f4a==='quaternion'?Tt['blendQuat'](_0x6455b7,_0xb3b008,_0x571b39,_0x21d8eb):Tt['blendVec'](_0x6455b7,_0xb3b008,_0x571b39,_0x21d8eb);}static['stableSort'](_0x426a86,_0x194f54){const _0x583c42=_0x426a86['length'];for(let _0x44b6fd=0x5b1*0x1+0x1bd5+0x265*-0xe;_0x44b6fd<_0x583c42-(-0x15ab+-0x2307+0x38b3);++_0x44b6fd)for(let _0x5e0d3e=_0x44b6fd+(0x2*0x6a3+0x26b6+-0x7*0x76d);_0x5e0d3e<_0x583c42;++_0x5e0d3e)if(_0x194f54(_0x426a86[_0x5e0d3e],_0x426a86[_0x44b6fd])){const _0x442ded=_0x426a86[_0x44b6fd];_0x426a86[_0x44b6fd]=_0x426a86[_0x5e0d3e],_0x426a86[_0x5e0d3e]=_0x442ded;}}}const Ue=class Ue{constructor(_0x149dff,_0x1d62ae){this['_component']=_0x149dff,this['mask']=new Int8Array(_0x149dff['layers']['length']),this['weights']=new Float32Array(_0x149dff['layers']['length']),this['totalWeigh'+'t']=-0xd9*-0x13+0x725+0xc*-0x1f0,this['counter']=-0x2544+0xea4+0x16a*0x10,this['layerCount'+'er']=-0x1*-0x9c5+-0x3*-0xb9b+-0x2c96,this['valueType']=_0x1d62ae,this['dirty']=!(-0x1120+0x7*-0x141+0x19e7),this['value']=_0x1d62ae===Ue['TYPE_QUAT']?[-0x256d+0x2a2*-0x5+-0x1*-0x3297,0x1*0xe3b+-0x1606*-0x1+-0x2441,-0x18d9+-0xdf*-0x2c+0x1ed*-0x7,0xb66*0x1+-0x32*0x5f+0x3*0x263]:[-0x1*0x6e5+0x53*-0x6f+-0xb*-0x3e6,-0x1a08+0x1f14+-0x50c,0x1b77+-0x4*0x629+-0x2d3],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x2b0473){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x1*0x2627+0xee3*-0x2+0x37*-0x27||!this['mask'][_0x2b0473]?0x1126*0x1+-0x1fe4+0x6*0x275:this['_normalize'+'Weights']?this['weights'][_0x2b0473]/this['totalWeigh'+'t']:N['clamp'](this['weights'][_0x2b0473],-0x3bc+0x270e+-0x21*0x112,0x10eb+0x2*-0x5f6+-0x4fe);}['_layerBlen'+'dType'](_0x434104){return this['_component']['layers'][_0x434104]['blendType'];}['setMask'](_0x29b5c5,_0x44ebcc){this['mask'][_0x29b5c5]=_0x44ebcc,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x29b5c5]['blendType']===X0&&(this['mask']=this['mask']['fill'](0x2*0x343+-0x1d91+0x1*0x170b,0x1*0x5e6+-0x133*-0x14+-0x1de2,_0x29b5c5)),this['dirty']=!(0x35e*0x6+0x4*0x962+-0x5c6*0xa));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x1a7b+-0x4a6+-0xd*-0x265;for(let _0x1f385a=0x2232+0x1b3d+-0x3d6f;_0x1f385a<this['weights']['length'];_0x1f385a++)this['weights'][_0x1f385a]=this['_component']['layers'][_0x1f385a]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x1f385a]*this['weights'][_0x1f385a];this['dirty']=!(-0x1d83+0x262*-0x2+-0x2248*-0x1);}['updateValu'+'e'](_0x3ecd46,_0x5d8368){if(this['counter']===-0x667*0x2+-0x38*-0x76+-0xb9*0x12&&(Tt['set'](this['value'],Ue['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Tt['blend'](this['value'],this['baseValue'],-0x9fa+-0x267+0xc62*0x1,this['valueType'])),!(!this['mask'][_0x3ecd46]||this['getWeight'](_0x3ecd46)===-0x505*-0x5+0x1*0xc28+-0x2541*0x1)){if(this['_layerBlen'+'dType'](_0x3ecd46)===NP&&!this['_normalize'+'Weights']){if(this['valueType']===Ue['TYPE_QUAT']){const _0x4b0c8d=Ue['q1']['set'](this['value'][0x2335+-0x1a6e+-0x8c7],this['value'][0x74d+0x1d72*0x1+-0x24be],this['value'][-0x1b4*0x2+0x136e+-0x19a*0xa],this['value'][-0x141+-0x2*0xb69+0x2*0xc0b]),_0x1a581c=Ue['q2']['set'](this['baseValue'][0x2*0xc80+0x608+0xc*-0x296],this['baseValue'][0x1501+-0xe39+-0x5*0x15b],this['baseValue'][0x1c2f+0x1c2*0x12+0x3bd1*-0x1],this['baseValue'][0xb*0x152+0x6*-0x4cc+0xe45]),_0x141379=Ue['q3']['set'](_0x5d8368[-0x1*0x3bf+-0x2433*0x1+-0x27f2*-0x1],_0x5d8368[0x177a+-0x1042+-0x737],_0x5d8368[0x10cb*-0x2+0x3bb*0x7+0x77b],_0x5d8368[-0x53*-0x17+0x7b9+-0xf2b]),_0x8ddc41=_0x1a581c['invert']()['mul'](_0x141379);_0x8ddc41['slerp'](se['IDENTITY'],_0x8ddc41,this['getWeight'](_0x3ecd46)),_0x4b0c8d['mul'](_0x8ddc41),Ue['quatArr'][0x2b8*-0x3+-0x1132*-0x2+-0x1a3c]=_0x4b0c8d['x'],Ue['quatArr'][-0x1*-0x1857+0x116c+-0x29c2]=_0x4b0c8d['y'],Ue['quatArr'][-0x1453+-0x601+0xd2b*0x2]=_0x4b0c8d['z'],Ue['quatArr'][0x1b0e+0x3*0xaa1+-0x3aee]=_0x4b0c8d['w'],Tt['set'](this['value'],Ue['quatArr'],this['valueType']);}else Ue['vecArr'][-0x110a+0x5e9+0xb21]=_0x5d8368[0x179*-0x10+0xa8+0x16e8]-this['baseValue'][0x4b5+-0x11b1+0xcfc],Ue['vecArr'][-0x26c+0x1*-0x1e4a+-0x1*-0x20b7]=_0x5d8368[-0x6*-0x4d7+0x198b+-0xda5*0x4]-this['baseValue'][0x1697+-0x9*0xf3+-0xe0b*0x1],Ue['vecArr'][0x23d0+-0x12d7+-0x1*0x10f7]=_0x5d8368[-0xd2*0x18+0x1*0x6b9+0xcf9]-this['baseValue'][0x276+0x3*0x8f5+-0x1d53],Tt['blend'](this['value'],Ue['vecArr'],this['getWeight'](_0x3ecd46),this['valueType'],!(-0x256b+-0x24ea+0x4a55));}else Tt['blend'](this['value'],_0x5d8368,this['getWeight'](_0x3ecd46),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(Ue,'TYPE_QUAT','quaternion'),c(Ue,'TYPE_VEC3','vector3'),c(Ue,'q1',new se()),c(Ue,'q2',new se()),c(Ue,'q3',new se()),c(Ue,'quatArr',[-0x42b*0x2+0x1dd8+0x2*-0xac1,0x26f5+-0x473*-0x5+-0x3d34,0x1*-0x1783+-0x1178+0x327*0xd,0x43f*-0x7+0x4e2+0x18d8]),c(Ue,'vecArr',[-0x139*-0x1b+0xce+-0x21d1,0x3*-0x7d3+-0x1a8+-0x1921*-0x1,-0x16c0+0x114c+0x574]),c(Ue,'IDENTITY_Q'+'UAT_ARR',[0x1f1+0x4*-0x744+0x1b1f,-0x7*0xfb+0x67*0x24+-0x1*0x79f,-0x1793+-0x11*0x1+0x17a4,-0x1f24*-0x1+-0xb*-0x35f+0x8*-0x887]);let bo=Ue;class j0{constructor(_0x105b66){this['_binder']=_0x105b66,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x1308b9){const _0x323ed8=this['_targets'],_0x109b24=this['_binder'],_0xc6c3df=_0x1308b9['track']['curves'],_0x4fe292=_0x1308b9['snapshot'],_0x4bf8da=[],_0x680a84=[];for(let _0x3e4ec1=0x1c*0xbc+-0x1*0x2584+0x10f4;_0x3e4ec1<_0xc6c3df['length'];++_0x3e4ec1){const _0x25148f=_0xc6c3df[_0x3e4ec1]['paths'];for(let _0x5549d3=-0x1*-0x3ce+-0x1124+-0x6ab*-0x2;_0x5549d3<_0x25148f['length'];++_0x5549d3){const _0x8f69f6=_0x25148f[_0x5549d3],_0xca8574=_0x109b24['resolve'](_0x8f69f6);let _0x5f165e=_0x323ed8[_0xca8574&&_0xca8574['targetPath']||null];if(!_0x5f165e&&_0xca8574){_0x5f165e={'target':_0xca8574,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x542e07=0x340*-0x8+0xc1*-0xf+0x254f;_0x542e07<_0x5f165e['target']['components'];++_0x542e07)_0x5f165e['value']['push'](-0x172*-0x1b+0x8d2+-0x4*0xbf6);if(_0x323ed8[_0xca8574['targetPath']]=_0x5f165e,_0x109b24['animCompon'+'ent']){if(!_0x109b24['animCompon'+'ent']['targets'][_0xca8574['targetPath']]){let _0x395531;_0xca8574['targetPath']['substring'](_0xca8574['targetPath']['length']-(-0x54d*-0x6+-0xc1*-0x18+-0x31d9))==='localRotat'+'ion'?_0x395531=bo['TYPE_QUAT']:_0x395531=bo['TYPE_VEC3'],_0x109b24['animCompon'+'ent']['targets'][_0xca8574['targetPath']]=new bo(_0x109b24['animCompon'+'ent'],_0x395531);}_0x109b24['animCompon'+'ent']['targets'][_0xca8574['targetPath']]['layerCount'+'er']++,_0x109b24['animCompon'+'ent']['targets'][_0xca8574['targetPath']]['setMask'](_0x109b24['layerIndex'],-0x121d*-0x1+0x1169*0x1+-0x2385);}}_0x5f165e&&(_0x5f165e['curves']++,_0x4bf8da['push'](_0x4fe292['_results'][_0x3e4ec1]),_0x680a84['push'](_0x5f165e));}}this['_clips']['push'](_0x1308b9),this['_inputs']['push'](_0x4bf8da),this['_outputs']['push'](_0x680a84);}['removeClip'](_0x5e837d){const _0x49d097=this['_targets'],_0x22754b=this['_binder'],_0xf1f166=this['_clips'],_0xfc689d=_0xf1f166[_0x5e837d]['track']['curves'];for(let _0x5670c1=0x21e6*0x1+0xde*0x22+-0x1fb1*0x2;_0x5670c1<_0xfc689d['length'];++_0x5670c1){const _0xe02b6b=_0xfc689d[_0x5670c1]['paths'];for(let _0x23700c=0x1224+0x96d+-0x1b91;_0x23700c<_0xe02b6b['length'];++_0x23700c){const _0x4574f3=_0xe02b6b[_0x23700c],_0x3a6171=this['_binder']['resolve'](_0x4574f3);_0x3a6171&&(_0x3a6171['curves']--,_0x3a6171['curves']===-0x3*-0xcd3+0xe47+-0x34c0&&(_0x22754b['unresolve'](_0x4574f3),delete _0x49d097[_0x3a6171['targetPath']],_0x22754b['animCompon'+'ent']&&_0x22754b['animCompon'+'ent']['targets'][_0x3a6171['targetPath']]['layerCount'+'er']--));}}_0xf1f166['splice'](_0x5e837d,0x3b7*-0x2+0x135b+-0xbec),this['_inputs']['splice'](_0x5e837d,-0x49*0x43+0x1*-0x2671+0x398d),this['_outputs']['splice'](_0x5e837d,-0x236d+0x244d+-0xdf);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x23e4+-0x1*0x3fd+0x3*0xd4b;)this['removeClip'](-0x2435+-0x1c1+0x1*0x25f6);}['updateClip'+'Track'](_0x49e502,_0x1caa6a){this['_clips']['forEach'](_0x2c2ca5=>{_0x2c2ca5['name']['includes'](_0x49e502)&&(_0x2c2ca5['track']=_0x1caa6a);}),this['rebind']();}['findClip'](_0x3422c6){const _0x22ae3d=this['_clips'];for(let _0x2d88d2=0x1*-0xf71+0xf62+0x1*0xf;_0x2d88d2<_0x22ae3d['length'];++_0x2d88d2){const _0x412eef=_0x22ae3d[_0x2d88d2];if(_0x412eef['name']===_0x3422c6)return _0x412eef;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0xf624ae=[...this['clips']];this['removeClip'+'s'](),_0xf624ae['forEach'](_0x41e933=>{this['addClip'](_0x41e933);});}['assignMask'](_0x2b55aa){return this['_binder']['assignMask'](_0x2b55aa);}['update'](_0x51ce29,_0x1fa665=!(0x233*-0x2+0x119f+0x2a5*-0x5)){const _0x1d007e=this['_clips'],_0x35a037=_0x1d007e['map']((_0x124734,_0x683aa7)=>_0x683aa7);Tt['stableSort'](_0x35a037,(_0x127388,_0x1e0d23)=>_0x1d007e[_0x127388]['blendOrder']<_0x1d007e[_0x1e0d23]['blendOrder']);for(let _0x157fa2=0x2059+-0x23af+0x356;_0x157fa2<_0x35a037['length'];++_0x157fa2){const _0x22ae9e=_0x35a037[_0x157fa2],_0x1d616a=_0x1d007e[_0x22ae9e],_0xa5956a=this['_inputs'][_0x22ae9e],_0x3a270f=this['_outputs'][_0x22ae9e],_0x1211e4=_0x1d616a['blendWeigh'+'t'];if(_0x1211e4>0x146+0x1c7+0x30d*-0x1&&_0x1d616a['_update'](_0x51ce29),!_0x1fa665)break;let _0x128842,_0x403707,_0x2e0ae3;if(_0x1211e4>=-0x270c+-0x224d+0x24ad*0x2){for(let _0x450e2b=0x1d62+-0xe01+-0xf61*0x1;_0x450e2b<_0xa5956a['length'];++_0x450e2b)_0x128842=_0xa5956a[_0x450e2b],_0x403707=_0x3a270f[_0x450e2b],_0x2e0ae3=_0x403707['value'],Tt['set'](_0x2e0ae3,_0x128842,_0x403707['target']['type']),_0x403707['blendCount'+'er']++;}else{if(_0x1211e4>0x2fa*-0x9+-0x3b*-0x62+0x434){for(let _0x28e845=-0x9ad*-0x1+-0x1056+0x6a9;_0x28e845<_0xa5956a['length'];++_0x28e845)_0x128842=_0xa5956a[_0x28e845],_0x403707=_0x3a270f[_0x28e845],_0x2e0ae3=_0x403707['value'],_0x403707['blendCount'+'er']===0x1*-0x1363+0x53+0x5*0x3d0?Tt['set'](_0x2e0ae3,_0x128842,_0x403707['target']['type']):Tt['blend'](_0x2e0ae3,_0x128842,_0x1211e4,_0x403707['target']['type']),_0x403707['blendCount'+'er']++;}}}const _0x319945=this['_targets'],_0x1cd74b=this['_binder'];for(const _0x561fb1 in _0x319945)if(_0x319945['hasOwnProp'+'erty'](_0x561fb1)){const _0x1de829=_0x319945[_0x561fb1];if(_0x1cd74b['animCompon'+'ent']&&_0x1de829['target']['isTransfor'+'m']){const _0x251c5f=_0x1cd74b['animCompon'+'ent']['targets'][_0x561fb1];_0x251c5f['counter']===_0x251c5f['layerCount'+'er']&&(_0x251c5f['counter']=-0x249b+-0x2541+0x49dc),_0x251c5f['path']||(_0x251c5f['path']=_0x561fb1,_0x251c5f['baseValue']=_0x1de829['target']['get'](),_0x251c5f['setter']=_0x1de829['target']['set']),_0x251c5f['updateValu'+'e'](_0x1cd74b['layerIndex'],_0x1de829['value']),_0x251c5f['counter']++;}else _0x1de829['target']['set'](_0x1de829['value']);_0x1de829['blendCount'+'er']=-0x1*0x6fb+-0x1a8a+-0x2185*-0x1;}this['_binder']['update'](_0x51ce29);}}class Y0{constructor(_0x2e2bc0){this['_events']=[..._0x2e2bc0],this['_events']['sort']((_0xc5da93,_0x44db72)=>_0xc5da93['time']-_0x44db72['time']);}get['events'](){return this['_events'];}}const lc=class lc{constructor(_0x13ede7,_0x913216,_0x3a0eb3,_0x52c98a,_0x576901,_0x4c7f0d=new Y0([])){this['_name']=_0x13ede7,this['_duration']=_0x913216,this['_inputs']=_0x3a0eb3,this['_outputs']=_0x52c98a,this['_curves']=_0x576901,this['_animEvent'+'s']=_0x4c7f0d;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x5945d8){this['_animEvent'+'s']=_0x5945d8;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x23d6fd,_0x33074d){_0x33074d['_time']=_0x23d6fd;const _0x19179f=this['_inputs'],_0x47ccc9=this['_outputs'],_0x272663=this['_curves'],_0x150b4b=_0x33074d['_cache'],_0x1bff57=_0x33074d['_results'];for(let _0x1f93fe=0x128c+-0x1f4a+0xcbe;_0x1f93fe<_0x19179f['length'];++_0x1f93fe)_0x150b4b[_0x1f93fe]['update'](_0x23d6fd,_0x19179f[_0x1f93fe]['_data']);for(let _0x245ec0=-0x1d*0x29+0x1de+0x9*0x4f;_0x245ec0<_0x272663['length'];++_0x245ec0){const _0x583fae=_0x272663[_0x245ec0],_0x16e00c=_0x47ccc9[_0x583fae['_output']],_0x2a11bf=_0x1bff57[_0x245ec0];_0x150b4b[_0x583fae['_input']]['eval'](_0x2a11bf,_0x583fae['_interpola'+'tion'],_0x16e00c);}}};c(lc,'EMPTY',Object['freeze'](new lc('empty',Number['MAX_VALUE'],[],[],[])));let Ri=lc;class qr{static['joinPath'](_0x208a82,_0x349081){_0x349081=_0x349081||'.';const _0x482dd4=function(_0x2d8009){return _0x2d8009['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x349081,'g'),'\x5c'+_0x349081);};return _0x208a82['map'](_0x482dd4)['join'](_0x349081);}static['splitPath'](_0x3a5f6a,_0x3e96f3){_0x3e96f3=_0x3e96f3||'.';const _0x272191=[];let _0x851849='',_0x5de7d8=-0x1a95+0xa8b*-0x1+0x2520;for(;_0x5de7d8<_0x3a5f6a['length'];){let _0x42166a=_0x3a5f6a[_0x5de7d8++];_0x42166a==='\x5c'&&_0x5de7d8<_0x3a5f6a['length']?(_0x42166a=_0x3a5f6a[_0x5de7d8++],_0x42166a==='\x5c'||_0x42166a===_0x3e96f3?_0x851849+=_0x42166a:_0x851849+='\x5c'+_0x42166a):_0x42166a===_0x3e96f3?(_0x272191['push'](_0x851849),_0x851849=''):_0x851849+=_0x42166a;}return _0x851849['length']>-0xfa3+-0xbcf*-0x3+-0x13ca&&_0x272191['push'](_0x851849),_0x272191;}static['encode'](_0x262dc1,_0x492e0c,_0x5c6dc4){return(Array['isArray'](_0x262dc1)?_0x262dc1['join']('/'):_0x262dc1)+'/'+_0x492e0c+'/'+(Array['isArray'](_0x5c6dc4)?_0x5c6dc4['join']('/'):_0x5c6dc4);}['resolve'](_0x5438dc){return null;}['unresolve'](_0x14d84a){}['update'](_0x6ef45f){}}class Zu{constructor(_0x1e3977,_0x5bdc6d,_0x7e5c43,_0x266065){_0x1e3977['set']?(this['_set']=_0x1e3977['set'],this['_get']=_0x1e3977['get']):this['_set']=_0x1e3977,this['_type']=_0x5bdc6d,this['_component'+'s']=_0x7e5c43,this['_targetPat'+'h']=_0x266065,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1ff6+0x22e1+-0x2*0x16f))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1aab*0x1+0x38c+0x172c))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x7*0x30d+-0x241e+0x1*0xecd))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Ji{constructor(_0x20e94e){c(this,'_isPathInM'+'ask',(_0x1d1eec,_0x5be93f)=>{const _0xec7d6d=this['_mask'][_0x1d1eec];if(_0xec7d6d){if(_0xec7d6d['children']||_0x5be93f&&_0xec7d6d['value']!==!(-0xac7+0xafc+-0x34))return!(-0x1c77+-0xc42+-0x825*-0x5);}else return!(-0x1ac2+0x1*-0x1820+-0x32e3*-0x1);return!(0x10b6*-0x1+-0x233f+0x6*0x8a9);});if(this['graph']=_0x20e94e,!_0x20e94e)return;this['_mask']=null;const _0x207efb={},_0x36549e=function(_0x3e507b){_0x207efb[_0x3e507b['name']]=_0x3e507b;for(let _0x1fe906=0x1a53+-0x6d*0x29+-0xe3*0xa;_0x1fe906<_0x3e507b['children']['length'];++_0x1fe906)_0x36549e(_0x3e507b['children'][_0x1fe906]);};_0x36549e(_0x20e94e),this['nodes']=_0x207efb,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0xfc7d6c=function(_0x49bb09){let _0x4542a1=_0x49bb09;for(;_0x4542a1&&!(_0x4542a1 instanceof We);)_0x4542a1=_0x4542a1['parent'];let _0x5d21b1;return _0x4542a1&&(_0x4542a1['render']?_0x5d21b1=_0x4542a1['render']['meshInstan'+'ces']:_0x4542a1['model']&&(_0x5d21b1=_0x4542a1['model']['meshInstan'+'ces'])),_0x5d21b1;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x283e58){const _0x3291d8=_0x283e58['localPosit'+'ion'],_0x21fac7=function(_0x33f493){_0x3291d8['set'](..._0x33f493);};return Ji['createAnim'+'Target'](_0x21fac7,'vector',0x241d+-0x400*0x6+0x2*-0x60d,_0x283e58,'localPosit'+'ion');},'localRotation':function(_0x1fceb5){const _0xeb7a14=_0x1fceb5['localRotat'+'ion'],_0x2d9ae5=function(_0x19069d){_0xeb7a14['set'](..._0x19069d);};return Ji['createAnim'+'Target'](_0x2d9ae5,'quaternion',0x5*0x236+-0x9*-0x39a+-0x4*0xadd,_0x1fceb5,'localRotat'+'ion');},'localScale':function(_0x5ba9cc){const _0x4784ba=_0x5ba9cc['localScale'],_0x3b9457=function(_0x5ea806){_0x4784ba['set'](..._0x5ea806);};return Ji['createAnim'+'Target'](_0x3b9457,'vector',0x6*0x399+0x31*0x2f+-0x1e92,_0x5ba9cc,'localScale');},'weight':function(_0x53d527,_0x4b7909){_0x4b7909['indexOf']('name.')===-0x25cc+-0x141d+0xb95*0x5?_0x4b7909=_0x4b7909['replace']('name.',''):_0x4b7909=Number(_0x4b7909);const _0x20a0dd=_0xfc7d6c(_0x53d527);let _0x2df80c;if(_0x20a0dd){for(let _0x1c3b47=0x7a+-0x362+0x2e8;_0x1c3b47<_0x20a0dd['length'];++_0x1c3b47)if(_0x20a0dd[_0x1c3b47]['node']['name']===_0x53d527['name']&&_0x20a0dd[_0x1c3b47]['morphInsta'+'nce']){const _0x2fc085=_0x20a0dd[_0x1c3b47]['morphInsta'+'nce'],_0x28ed66=_0x59405b=>{_0x2fc085['setWeight'](_0x4b7909,_0x59405b[-0x47+-0x1*-0x283+-0x23c]);};_0x2df80c||(_0x2df80c=[]),_0x2df80c['push'](_0x28ed66);}}if(_0x2df80c){const _0x7b5048=_0x2e027f=>{for(let _0x3d0c47=-0xc4a+0xe99+-0xc5*0x3;_0x3d0c47<_0x2df80c['length'];++_0x3d0c47)_0x2df80c[_0x3d0c47](_0x2e027f);};return Ji['createAnim'+'Target'](_0x7b5048,'number',0xbc5+0xbf7+-0x2a3*0x9,_0x53d527,'weight.'+_0x4b7909);}return null;},'materialTexture':(_0xf4bba0,_0x14ef0c)=>{const _0x56168a=_0xfc7d6c(_0xf4bba0);if(_0x56168a){let _0x506461;for(let _0x9fc3dd=-0x959+0x48a*-0x2+0x35*0x59;_0x9fc3dd<_0x56168a['length'];++_0x9fc3dd)if(_0x56168a[_0x9fc3dd]['node']['name']===_0xf4bba0['name']){_0x506461=_0x56168a[_0x9fc3dd];break;}if(_0x506461){const _0x1eb424=_0x3540af=>{const _0x5976df=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3540af[0x304+0xf29*0x2+-0x2156]);_0x5976df&&_0x5976df['resource']&&_0x5976df['type']==='texture'&&(_0x506461['material'][_0x14ef0c]=_0x5976df['resource'],_0x506461['material']['update']());};return Ji['createAnim'+'Target'](_0x1eb424,'vector',-0x2*-0xfb+-0x24e0+0x22eb,_0xf4bba0,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x536fba){if(!this['_mask'])return!(0x107f+-0x7*0x22f+-0x136);const _0x19d2a6=[_0x536fba['entityPath'][0x10b3+0x6df*0x3+-0x2*0x12a8],this['graph']['name']];for(let _0x13ba5d=-0x12b2*-0x2+-0xe5a+0x3d7*-0x6;_0x13ba5d<_0x19d2a6['length'];++_0x13ba5d){let _0x13b799=_0x19d2a6[_0x13ba5d];if(this['_isPathInM'+'ask'](_0x13b799,_0x536fba['entityPath']['length']===-0xbe*0x12+0x58d+0x7d0))return!(-0x1daa+0x1e16*0x1+-0xc*0x9);for(let _0x30b5d6=0x2*-0x1279+-0x11a7+0x369a;_0x30b5d6<_0x536fba['entityPath']['length'];_0x30b5d6++)if(_0x13b799+='/'+_0x536fba['entityPath'][_0x30b5d6],this['_isPathInM'+'ask'](_0x13b799,_0x30b5d6===_0x536fba['entityPath']['length']-(0xfdf+-0xa98+-0x3*0x1c2)))return!(0x153*0x17+0x1b1+0x1*-0x2026);}return!(-0x194e+0x7*0x3d3+0x176*-0x1);}['findNode'](_0x35e5d5){if(!this['_isPathAct'+'ive'](_0x35e5d5))return null;let _0x4f19ba;if(this['graph']&&(_0x4f19ba=this['graph']['findByPath'](_0x35e5d5['entityPath']),_0x4f19ba||(_0x4f19ba=this['graph']['findByPath'](_0x35e5d5['entityPath']['slice'](-0x1f7f+-0x155*-0x1+-0x1e2b*-0x1)))),!_0x4f19ba){_0x4f19ba=this['nodes'][_0x35e5d5['entityPath'][_0x35e5d5['entityPath']['length']-(0xe0c+0x425+-0x10*0x123)]||''];const _0x256685=qr['encode'](_0x35e5d5['entityPath'][_0x35e5d5['entityPath']['length']-(0x76*-0x4+-0x1683+0x185c)]||'','graph',_0x35e5d5['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x256685]===-0x2b*-0x2+0x6ba*0x1+-0x70f&&v['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x256685+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x256685])?this['visitedFal'+'lbackGraph'+'Paths'][_0x256685]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x256685]=-0x20b9+-0x1f7*-0x2+0x1ccb;}return _0x4f19ba;}static['createAnim'+'Target'](_0x2cf75c,_0x529b13,_0x16748c,_0x4d7920,_0x196d51,_0x20396b){const _0x527805=qr['encode'](_0x4d7920['path'],_0x20396b||'entity',_0x196d51);return new Zu(_0x2cf75c,_0x529b13,_0x16748c,_0x527805);}['resolve'](_0x4efc6b){const _0x5d5f78=qr['encode'](_0x4efc6b['entityPath'],_0x4efc6b['component'],_0x4efc6b['propertyPa'+'th']);let _0x2a0426=this['targetCach'+'e'][_0x5d5f78];if(_0x2a0426)return _0x2a0426;const _0x542546=this['findNode'](_0x4efc6b);if(!_0x542546)return null;const _0x47769d=this['handlers'][_0x4efc6b['propertyPa'+'th']];return!_0x47769d||(_0x2a0426=_0x47769d(_0x542546),!_0x2a0426)?null:(this['targetCach'+'e'][_0x5d5f78]=_0x2a0426,this['nodeCounts'][_0x542546['path']]?this['nodeCounts'][_0x542546['path']]++:(this['activeNode'+'s']['push'](_0x542546),this['nodeCounts'][_0x542546['path']]=-0x217b+-0xb87+0xf01*0x3),_0x2a0426);}['unresolve'](_0x361c7f){if(_0x361c7f['component']!=='graph')return;const _0x202b59=this['nodes'][_0x361c7f['entityPath'][_0x361c7f['entityPath']['length']-(0x19c0+-0x107e+-0x67*0x17)]||''];if(this['nodeCounts'][_0x202b59['path']]--,this['nodeCounts'][_0x202b59['path']]===0x3dd*0x2+0x15*-0x34+-0x376){const _0x21a034=this['activeNode'+'s'],_0x1c8c22=_0x21a034['indexOf'](_0x202b59['node']),_0x2362de=_0x21a034['length'];_0x1c8c22<_0x2362de-(-0x1*0x14d5+-0x1*-0x76d+-0x1*-0xd69)&&(_0x21a034[_0x1c8c22]=_0x21a034[_0x2362de-(0x52+0x1d4+-0x225)]),_0x21a034['pop']();}}['update'](_0x1669ac){const _0x258739=this['activeNode'+'s'];for(let _0x4630b9=0x3de+0x12d4+0xa*-0x245;_0x4630b9<_0x258739['length'];++_0x4630b9)_0x258739[_0x4630b9]['_dirtifyLo'+'cal']();}['assignMask'](_0x322f73){return _0x322f73!==this['_mask']?(this['_mask']=_0x322f73,!(-0x7cf*-0x4+0x1*-0x206d+-0x5*-0x3d)):!(0x1*-0x967+-0x2004+0x3c4*0xb);}}class K0 extends ue{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(0x26f1+0x2*0x26e+-0x2bcd)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',0x1c55+-0x1e7*-0x4+-0x23f1),c(this,'blending',!(0xf*0x154+0x1e85*-0x1+0xa9a)),c(this,'blendSpeed',0x1*0x5a9+0x713*-0x2+0x35*0x29),c(this,'activate',!(-0x313*0x5+-0x2238+0x3197)),c(this,'speed',-0x1d09*0x1+-0x86*0x20+0x16e5*0x2);}set['animations'](_0x2553d1){this['_animation'+'s']=_0x2553d1,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x1c1829){const _0xb8910c=this['_assets'];if(_0xb8910c&&_0xb8910c['length']){for(let _0x70a142=0x1666+-0xe57*-0x1+-0x24bd;_0x70a142<_0xb8910c['length'];_0x70a142++)if(_0xb8910c[_0x70a142]){const _0x22f1a0=this['system']['app']['assets']['get'](_0xb8910c[_0x70a142]);if(_0x22f1a0){_0x22f1a0['off']('change',this['onAssetCha'+'nged'],this),_0x22f1a0['off']('remove',this['onAssetRem'+'oved'],this);const _0x1c2ebe=this['animations'+'Index'][_0x22f1a0['id']];this['currAnim']===_0x1c2ebe&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x1c2ebe],delete this['animations'+'Index'][_0x22f1a0['id']];}}}this['_assets']=_0x1c1829;const _0x3e139e=_0x1c1829['map'](_0x3c58a9=>_0x3c58a9 instanceof le?_0x3c58a9['id']:_0x3c58a9);this['loadAnimat'+'ionAssets'](_0x3e139e);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x43ddcb){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x43ddcb,this['skeleton']['addTime'](-0x205*-0x7+-0x1*0x281+-0xba2),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x4ca799=this['animEvalua'+'tor']['clips'];for(let _0x3e7318=0xd9*-0x16+-0x2687*0x1+0x392d;_0x3e7318<_0x4ca799['length'];++_0x3e7318)_0x4ca799[_0x3e7318]['time']=_0x43ddcb;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x5b4367=this['animEvalua'+'tor']['clips'];if(_0x5b4367['length']>0x2323+-0x1a*-0x28+0x29d*-0xf)return _0x5b4367[_0x5b4367['length']-(0xe77*0x1+-0x18b1+-0xa3b*-0x1)]['time'];}return 0xb8d+0x1*0xf1c+0x4b*-0x5b;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(v['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x1817+0xb85+-0xd4*0x2b);}set['loop'](_0x2a6fa8){if(this['_loop']=_0x2a6fa8,this['skeleton']&&(this['skeleton']['looping']=_0x2a6fa8),this['animEvalua'+'tor']){for(let _0x4d8d79=0x23ed+0x533+-0x149*0x20;_0x4d8d79<this['animEvalua'+'tor']['clips']['length'];++_0x4d8d79)this['animEvalua'+'tor']['clips'][_0x4d8d79]['loop']=_0x2a6fa8;}}get['loop'](){return this['_loop'];}['play'](_0x14c624,_0x2c77dc=-0x92a+-0x1891+0x21bb){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x14c624]){v['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x14c624+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x14c624,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x32a172=this['animations'][this['prevAnim']],_0x16be58=this['animations'][this['currAnim']];if(this['blending']=_0x2c77dc>-0x21a5+0x1*-0x13f9+0x359e&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x16d3+-0x2193+0x2*0x1c33,this['blendSpeed']=(-0x1*-0x17e1+0x1*0x171f+-0x2eff)/_0x2c77dc),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x32a172,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x16be58):this['skeleton']['animation']=_0x16be58),this['animEvalua'+'tor']){const _0x62e2a=this['animEvalua'+'tor'];if(this['blending']){for(;_0x62e2a['clips']['length']>0x9bb+-0x1598+0xe*0xd9;)_0x62e2a['removeClip'](0x2*0x7bb+0xf2c+-0x1ea2*0x1);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x2bec4c=new Xh(this['animations'][this['currAnim']],-0x21b0+-0xc9*-0x9+0x1a9f,0x3e*0x6b+0x270b+-0x40f4,!(0x2*-0x43+-0x25*-0x2+-0x14*-0x3),this['loop']);_0x2bec4c['name']=this['currAnim'],_0x2bec4c['blendWeigh'+'t']=this['blending']?-0x229c+0x266c+0x7a*-0x8:0xa2+0x1*0x215+-0x2b6,_0x2bec4c['reset'](),this['animEvalua'+'tor']['addClip'](_0x2bec4c);}}this['playing']=!(0x385*0x7+-0x3*0x3e2+-0xcfd);}}['getAnimati'+'on'](_0x251cf9){return this['animations'][_0x251cf9];}['setModel'](_0x5f37f3){_0x5f37f3!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x5f37f3,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x32c8e1=this['entity']['model'];if(_0x32c8e1){const _0x44b5b8=_0x32c8e1['model'];_0x44b5b8&&_0x44b5b8!==this['model']&&this['setModel'](_0x44b5b8);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x5d5fe6=Object['keys'](this['_animation'+'s']);_0x5d5fe6['length']>-0x7ae+0x1*0x6c1+0x4f*0x3&&this['play'](_0x5d5fe6[-0x124c+0x1*0xcb3+0x599]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x2cb6d7=this['model'],_0xb537d7=this['animations'];let _0x3fcb9d=!(-0xed1*0x2+0x58c+0x1817),_0x3d21f5=!(-0x1925+0x70f+0x1217*0x1);for(const _0x826e27 in _0xb537d7)_0xb537d7['hasOwnProp'+'erty'](_0x826e27)&&(_0xb537d7[_0x826e27]['constructo'+'r']===Ri?_0x3d21f5=!(0x191f+-0x1bd4+0x2b5):_0x3fcb9d=!(-0x21da+-0x1fbb*-0x1+0x21f));const _0x38aaf2=_0x2cb6d7['getGraph']();_0x3fcb9d?(this['fromSkel']=new Wd(_0x38aaf2),this['toSkel']=new Wd(_0x38aaf2),this['skeleton']=new Wd(_0x38aaf2),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x38aaf2)):_0x3d21f5&&(this['animEvalua'+'tor']=new j0(new Ji(this['entity'])));}['loadAnimat'+'ionAssets'](_0x2c02d4){if(!_0x2c02d4||!_0x2c02d4['length'])return;const _0x28fab3=this['system']['app']['assets'],_0x34d115=_0x39369a=>{if(_0x39369a['resources']['length']>-0xb38+-0x1463+0x242*0xe){for(let _0x339977=0x13ba+0x1*0x1d62+-0x311c;_0x339977<_0x39369a['resources']['length'];_0x339977++)this['animations'][_0x39369a['resources'][_0x339977]['name']]=_0x39369a['resources'][_0x339977],this['animations'+'Index'][_0x39369a['id']]=_0x39369a['resources'][_0x339977]['name'];}else this['animations'][_0x39369a['name']]=_0x39369a['resource'],this['animations'+'Index'][_0x39369a['id']]=_0x39369a['name'];this['animations']=this['animations'];},_0x5cf994=_0x220451=>{_0x220451['off']('change',this['onAssetCha'+'nged'],this),_0x220451['on']('change',this['onAssetCha'+'nged'],this),_0x220451['off']('remove',this['onAssetRem'+'oved'],this),_0x220451['on']('remove',this['onAssetRem'+'oved'],this),_0x220451['resource']?_0x34d115(_0x220451):(_0x220451['once']('load',_0x34d115,this),this['enabled']&&this['entity']['enabled']&&_0x28fab3['load'](_0x220451));};for(let _0x4fb977=-0x1768+-0x26a7+-0x1*-0x3e0f,_0x37e53a=_0x2c02d4['length'];_0x4fb977<_0x37e53a;_0x4fb977++){const _0x14a753=_0x28fab3['get'](_0x2c02d4[_0x4fb977]);_0x14a753?_0x5cf994(_0x14a753):_0x28fab3['on']('add:'+_0x2c02d4[_0x4fb977],_0x5cf994);}}['onAssetCha'+'nged'](_0x414847,_0x4caffe,_0x4490a7,_0x231691){if(_0x4caffe==='resource'||_0x4caffe==='resources'){if(_0x4caffe==='resources'&&_0x4490a7&&_0x4490a7['length']===0x1119*-0x2+-0x1344+-0x3576*-0x1&&(_0x4490a7=null),_0x4490a7){let _0x4e4e56=!(-0xcdc+-0x7f7+0x1*0x14d4);if(_0x4490a7['length']>0x9e4+0x1022+-0x1a05){if(_0x231691&&_0x231691['length']>0x305*-0x1+0x8c0*0x4+-0x1ffa){for(let _0x560f09=0x1c65+-0x1b8d+0x18*-0x9;_0x560f09<_0x231691['length'];_0x560f09++)delete this['animations'][_0x231691[_0x560f09]['name']];}else delete this['animations'][_0x414847['name']];_0x4e4e56=!(0x4*0x5d1+0x20*0x1+-0x1763);for(let _0x3230d5=-0x1*0x2091+-0x39b*-0x6+-0x3a5*-0x3;_0x3230d5<_0x4490a7['length'];_0x3230d5++)this['animations'][_0x4490a7[_0x3230d5]['name']]=_0x4490a7[_0x3230d5],!_0x4e4e56&&this['currAnim']===_0x4490a7[_0x3230d5]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4e4e56=!(0xfa0+-0x4be+-0xae2),this['play'](_0x4490a7[_0x3230d5]['name']));_0x4e4e56||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x231691&&_0x231691['length']>0x2d5+-0x200b+0x1d37){for(let _0x124223=-0x636+0x1*-0x2027+0x265d;_0x124223<_0x231691['length'];_0x124223++)delete this['animations'][_0x231691[_0x124223]['name']];}this['animations'][_0x414847['name']]=_0x4490a7[0xf56*-0x1+0x739+-0x1*-0x81d]||_0x4490a7,_0x4e4e56=!(-0x1*-0x1762+-0x531+-0x1230),this['currAnim']===_0x414847['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x4e4e56=!(-0x2068+0x147*-0xe+0x13a*0x29),this['play'](_0x414847['name'])),_0x4e4e56||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x414847['id']]=_0x414847['name'];}else{if(_0x231691['length']>0x1ec3+0x1*-0x2425+0x563){for(let _0x1bb6ba=-0x14*0x1e4+-0xbea+-0x14f*-0x26;_0x1bb6ba<_0x231691['length'];_0x1bb6ba++)delete this['animations'][_0x231691[_0x1bb6ba]['name']],this['currAnim']===_0x231691[_0x1bb6ba]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x414847['name']],this['currAnim']===_0x414847['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x414847['id']];}}}['onAssetRem'+'oved'](_0x50d326){if(_0x50d326['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x50d326['resources']['length']>0x1bf2+-0x1a24+-0x1cd){for(let _0x5b9541=0x10bf+0x5*-0x1e4+-0x74b;_0x5b9541<_0x50d326['resources']['length'];_0x5b9541++)delete this['animations'][_0x50d326['resources'][_0x5b9541]['name']],this['currAnim']===_0x50d326['resources'][_0x5b9541]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x50d326['name']],this['currAnim']===_0x50d326['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x50d326['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x6cd+-0x2151+0x1*0x281f),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0xf*-0xde+-0x628*0x4+-0x12d1*-0x2,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x1f393f=-0x2*-0x485+0x2*-0x85f+0x3a*0x22;_0x1f393f<this['animEvalua'+'tor']['clips']['length'];++_0x1f393f)this['animEvalua'+'tor']['clips'][_0x1f393f]['stop']();this['animEvalua'+'tor']['update'](-0x1*0x168d+-0x4*0x181+-0x67*-0x47),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x4d3ad8=this['assets'],_0x18d26f=this['system']['app']['assets'];if(_0x4d3ad8)for(let _0x5c0e0e=-0x9e3*0x1+-0x149e+-0x89*-0x39,_0x35eabc=_0x4d3ad8['length'];_0x5c0e0e<_0x35eabc;_0x5c0e0e++){let _0x1214b2=_0x4d3ad8[_0x5c0e0e];_0x1214b2 instanceof le||(_0x1214b2=_0x18d26f['get'](_0x1214b2)),_0x1214b2&&!_0x1214b2['resource']&&_0x18d26f['load'](_0x1214b2);}if(this['activate']&&!this['currAnim']){const _0x4730d2=Object['keys'](this['animations']);_0x4730d2['length']>-0x12cd+-0xd3*0x22+0x1*0x2ed3&&this['play'](_0x4730d2[0x4e2*0x7+-0x222f+0x1]);}}['onBeforeRe'+'move'](){for(let _0xa0cb8c=0x236a*-0x1+-0x9a9+0x2d13;_0xa0cb8c<this['assets']['length'];_0xa0cb8c++){let _0x22b514=this['assets'][_0xa0cb8c];typeof _0x22b514=='number'&&(_0x22b514=this['system']['app']['assets']['get'](_0x22b514)),_0x22b514&&(_0x22b514['off']('change',this['onAssetCha'+'nged'],this),_0x22b514['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x267be2){if(this['blending']&&(this['blend']+=_0x267be2*this['blendSpeed'],this['blend']>=0x1db4+-0xe9c+-0xf17&&(this['blend']=-0x1506+0x4*0x747+-0x815)),this['playing']){const _0x42ed89=this['skeleton'];if(_0x42ed89!==null&&this['model']!==null){if(this['blending'])_0x42ed89['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x5356f9=_0x267be2*this['speed'];_0x42ed89['addTime'](_0x5356f9),this['speed']>0x3fb+-0x611*-0x1+-0xa0c&&_0x42ed89['_time']===_0x42ed89['animation']['duration']&&!this['loop']?this['playing']=!(-0xb76*-0x3+-0x12d9+-0xf88):this['speed']<-0x2530+-0xb5*-0xf+0x1a95&&_0x42ed89['_time']===-0xc28+-0x472+0x109a&&!this['loop']&&(this['playing']=!(-0x1*0xe19+-0xf7c+0x1d96));}this['blending']&&this['blend']===-0x13ab+-0x17*0x24+0x16e8&&(_0x42ed89['animation']=this['toSkel']['animation']),_0x42ed89['updateGrap'+'h']();}}const _0x68805a=this['animEvalua'+'tor'];if(_0x68805a){for(let _0x4352eb=-0x9e3+-0x33a+0xd1d;_0x4352eb<_0x68805a['clips']['length'];++_0x4352eb){const _0x5dfa7b=_0x68805a['clips'][_0x4352eb];_0x5dfa7b['speed']=this['speed'],this['playing']?_0x5dfa7b['resume']():_0x5dfa7b['pause']();}this['blending']&&_0x68805a['clips']['length']>-0xc7f+-0x202f+0x2caf&&(_0x68805a['clips'][-0xc3*-0x13+0x1*-0x8db+-0x1*0x59d]['blendWeigh'+'t']=this['blend']),_0x68805a['update'](_0x267be2);}this['blending']&&this['blend']===-0x13*0x5+-0x10b+0xb*0x21&&(this['blending']=!(0x26ab+-0x19b5+-0xcf5));}}class zP{constructor(){this['enabled']=!(0x912+-0x1cbe+0x13ac);}}const Qu=['enabled'];class UP extends Xe{constructor(_0x9fa63f){super(_0x9fa63f),this['id']='animation',this['ComponentT'+'ype']=K0,this['DataType']=zP,this['schema']=Qu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xf698e4,_0x4cfeac,_0x2e10db){_0x2e10db=['activate','enabled','loop','speed','assets'];for(const _0x246c81 of _0x2e10db)_0x4cfeac['hasOwnProp'+'erty'](_0x246c81)&&(_0xf698e4[_0x246c81]=_0x4cfeac[_0x246c81]);super['initialize'+'ComponentD'+'ata'](_0xf698e4,_0x4cfeac,Qu);}['cloneCompo'+'nent'](_0x7a6271,_0x8d8e8f){this['addCompone'+'nt'](_0x8d8e8f,{}),_0x8d8e8f['animation']['assets']=_0x7a6271['animation']['assets']['slice'](),_0x8d8e8f['animation']['speed']=_0x7a6271['animation']['speed'],_0x8d8e8f['animation']['loop']=_0x7a6271['animation']['loop'],_0x8d8e8f['animation']['activate']=_0x7a6271['animation']['activate'],_0x8d8e8f['animation']['enabled']=_0x7a6271['animation']['enabled'];const _0x2ecc0e={},_0x5da13b=_0x7a6271['animation']['animations'];for(const _0x44206b in _0x5da13b)_0x5da13b['hasOwnProp'+'erty'](_0x44206b)&&(_0x2ecc0e[_0x44206b]=_0x5da13b[_0x44206b]);_0x8d8e8f['animation']['animations']=_0x2ecc0e;const _0x45cc9c={},_0x3949ed=_0x7a6271['animation']['animations'+'Index'];for(const _0x5eefda in _0x3949ed)_0x3949ed['hasOwnProp'+'erty'](_0x5eefda)&&(_0x45cc9c[_0x5eefda]=_0x3949ed[_0x5eefda]);return _0x8d8e8f['animation']['animations'+'Index']=_0x45cc9c,_0x8d8e8f['animation'];}['onBeforeRe'+'move'](_0x4e2a8d,_0x58f275){_0x58f275['onBeforeRe'+'move']();}['onUpdate'](_0xe41483){const _0x59d953=this['store'];for(const _0x559db0 in _0x59d953)if(_0x59d953['hasOwnProp'+'erty'](_0x559db0)){const _0x5a735d=_0x59d953[_0x559db0];_0x5a735d['data']['enabled']&&_0x5a735d['entity']['enabled']&&_0x5a735d['entity']['animation']['update'](_0xe41483);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](K0['prototype'],Qu);class Uo{constructor(_0x5812fc,_0x55a1b2,_0x175ddd,_0x171a1b,_0x5f181e=-0x18a4+-0x18*-0x77+0xd7d){this['_state']=_0x5812fc,this['_parent']=_0x55a1b2,this['_name']=_0x175ddd,Array['isArray'](_0x171a1b)?(this['_point']=new W(_0x171a1b[0xf45+0x13b1+-0xb3*0x32],_0x171a1b[0x12*0xe7+-0x127f+0x242]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x171a1b,this['_pointLeng'+'th']=_0x171a1b),this['_speed']=_0x5f181e,this['_weightedS'+'peed']=0x560*-0x7+0x90b*0x2+-0x1*-0x138b,this['_weight']=-0x1*-0x4be+-0x11fc*0x1+-0xd3f*-0x1,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x334e32){this['_weight']=_0x334e32;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x4fd434=this['_state']['totalWeigh'+'t'];return _0x4fd434===-0x2*0xdf1+0x2293+-0x6b1?-0x1f71+0x37b*-0x8+0x3b49:this['weight']/_0x4fd434;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x430460){this['_weightedS'+'peed']=_0x430460;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x40192c){this['_animTrack']=_0x40192c;}get['animTrack'](){return this['_animTrack'];}}class Ba extends Uo{constructor(_0x1e5fb9,_0x32f0c6,_0xb4c4c9,_0x4b6340,_0x47aab2,_0x1be71b,_0x6495e6,_0x23c414,_0x826d90){super(_0x1e5fb9,_0x32f0c6,_0xb4c4c9,_0x4b6340),this['_parameter'+'s']=_0x47aab2,this['_parameter'+'Values']=new Array(_0x47aab2['length']),this['_children']=[],this['_findParam'+'eter']=_0x826d90,this['_syncAnima'+'tions']=_0x6495e6!==!(-0x1c66+-0xbaa*0x1+0x2811),this['_pointCach'+'e']={};for(let _0x1bd3d4=0x45*-0x4d+-0x15ae+-0x11*-0x27f;_0x1bd3d4<_0x1be71b['length'];_0x1bd3d4++){const _0x1086bc=_0x1be71b[_0x1bd3d4];_0x1086bc['children']?this['_children']['push'](_0x23c414(_0x1086bc['type'],_0x1e5fb9,this,_0x1086bc['name'],0x214a*0x1+-0x177d+-0x3*0x344,_0x1086bc['parameter']?[_0x1086bc['parameter']]:_0x1086bc['parameters'],_0x1086bc['children'],_0x1086bc['syncAnimat'+'ions'],_0x23c414,_0x826d90)):this['_children']['push'](new Uo(_0x1e5fb9,this,_0x1086bc['name'],_0x1086bc['point'],_0x1086bc['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x35d7ae){for(let _0x19d0fb=-0x1837+-0x2089+-0xe3*-0x40;_0x19d0fb<this['_children']['length'];_0x19d0fb++)if(this['_children'][_0x19d0fb]['name']===_0x35d7ae)return this['_children'][_0x19d0fb];return null;}['updatePara'+'meterValue'+'s'](){let _0x1b817d=!(-0xd*-0xc3+-0x1593+0xbac);for(let _0x1ef620=0xa7e+-0xaad*0x2+-0x5*-0x22c;_0x1ef620<this['_parameter'+'Values']['length'];_0x1ef620++){const _0x185d13=this['_findParam'+'eter'](this['_parameter'+'s'][_0x1ef620])['value'];this['_parameter'+'Values'][_0x1ef620]!==_0x185d13&&(this['_parameter'+'Values'][_0x1ef620]=_0x185d13,_0x1b817d=!(-0x21df+0x1941+0x89f));}return _0x1b817d;}['getNodeWei'+'ghtedDurat'+'ion'](_0x269fc0){return this['_children'][_0x269fc0]['animTrack']['duration']/this['_children'][_0x269fc0]['speedMulti'+'plier']*this['_children'][_0x269fc0]['weight'];}['getNodeCou'+'nt'](){let _0x1266a5=0x1*-0x5ac+0x8f*-0x1f+0x16fd;for(let _0xab3c58=0x152d+-0x1112+-0x41b;_0xab3c58<this['_children']['length'];_0xab3c58++)this['_children'][_0xab3c58]['constructo'+'r']===Ba?_0x1266a5+=this['_children'][_0xab3c58]['getNodeCou'+'nt']():_0x1266a5++;return _0x1266a5;}}class VP extends Ba{constructor(_0x5214cd,_0x14d0a3,_0x1f6da7,_0x3212ef,_0x28243d,_0x58130c,_0x3cd6f2,_0x9b6858,_0x7c844){_0x58130c['sort']((_0x3833e0,_0x132d21)=>_0x3833e0['point']-_0x132d21['point']),super(_0x5214cd,_0x14d0a3,_0x1f6da7,_0x3212ef,_0x28243d,_0x58130c,_0x3cd6f2,_0x9b6858,_0x7c844);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5ec280=-0xbb6+-0xde2*0x1+-0xc*-0x222;this['_children'][-0xd2e*-0x1+0x84*0x47+-0x2*0x18e5]['weight']=0x1737+0x3*-0x29d+-0x520*0x3;for(let _0x4924c7=-0xb3c+0xc0*-0xb+0x137c;_0x4924c7<this['_children']['length'];_0x4924c7++){const _0x32f241=this['_children'][_0x4924c7];if(_0x4924c7!==this['_children']['length']-(0x1b52+-0x3d7*0x2+0x1c9*-0xb)){const _0x2df31b=this['_children'][_0x4924c7+(-0x15d4+-0x18e8+0x2ebd)];if(_0x32f241['point']===_0x2df31b['point'])_0x32f241['weight']=0x1*0x2fb+-0x1806+-0x1*-0x150b+0.5,_0x2df31b['weight']=0xd24+0x30*0x54+0x4*-0x739+0.5;else{if(N['between'](this['_parameter'+'Values'][-0x8ea+-0x184+-0x216*-0x5],_0x32f241['point'],_0x2df31b['point'],!(-0x11cc+-0x8f*-0x9+0xcc5))){const _0x1ba9ec=Math['abs'](_0x32f241['point']-_0x2df31b['point']),_0x333a6f=Math['abs'](_0x32f241['point']-this['_parameter'+'Values'][0x1e5*0xd+-0x2*-0x427+-0x1*0x20ef]),_0x376653=(_0x1ba9ec-_0x333a6f)/_0x1ba9ec;_0x32f241['weight']=_0x376653,_0x2df31b['weight']=-0x1f5e+0x1*-0x24bb+0x2e*0x17b-_0x376653;}else _0x2df31b['weight']=0x3c7*0x5+-0xe*-0x121+-0x22b1;}}this['_syncAnima'+'tions']&&(_0x5ec280+=_0x32f241['animTrack']['duration']/_0x32f241['absoluteSp'+'eed']*_0x32f241['weight']);}if(this['_syncAnima'+'tions'])for(let _0x36d53f=0x2532+0x1*0x12e1+-0x3813;_0x36d53f<this['_children']['length'];_0x36d53f++){const _0x2a4f9c=this['_children'][_0x36d53f];_0x2a4f9c['weightedSp'+'eed']=_0x2a4f9c['animTrack']['duration']/_0x2a4f9c['absoluteSp'+'eed']/_0x5ec280;}}}const gi=class gi extends Ba{['pointDista'+'nceCache'](_0x4f13e2,_0x2fe9f3){const _0x3e9ea6=''+_0x4f13e2+_0x2fe9f3;return this['_pointCach'+'e'][_0x3e9ea6]||(this['_pointCach'+'e'][_0x3e9ea6]=this['_children'][_0x2fe9f3]['point']['clone']()['sub'](this['_children'][_0x4f13e2]['point'])),this['_pointCach'+'e'][_0x3e9ea6];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x482f30,_0x4b5869;gi['_p']['set'](...this['_parameter'+'Values']),_0x482f30=0x42d*-0x1+0x2f*-0x5+0x518,_0x4b5869=-0xc52+0x11*-0x53+-0x53*-0x37;for(let _0x447fda=-0xe*-0x173+0x5*-0x713+0xb*0x15f;_0x447fda<this['_children']['length'];_0x447fda++){const _0x1f3ca5=this['_children'][_0x447fda],_0x2974b4=_0x1f3ca5['point'];gi['_pip']['set'](gi['_p']['x'],gi['_p']['y'])['sub'](_0x2974b4);let _0x214ee2=Number['MAX_VALUE'];for(let _0x3570a6=-0x16c6+0x21dd*0x1+-0xb17;_0x3570a6<this['_children']['length'];_0x3570a6++){if(_0x447fda===_0x3570a6)continue;const _0x357a86=this['pointDista'+'nceCache'](_0x447fda,_0x3570a6),_0x387743=N['clamp'](0x11*0x18d+-0x9*-0xa7+0x25*-0xdf-gi['_pip']['dot'](_0x357a86)/_0x357a86['lengthSq'](),-0x6ab*-0x2+-0x235+-0xb21,0xcad*-0x1+0x1946+-0xc98);_0x387743<_0x214ee2&&(_0x214ee2=_0x387743);}_0x1f3ca5['weight']=_0x214ee2,_0x482f30+=_0x214ee2,this['_syncAnima'+'tions']&&(_0x4b5869+=_0x1f3ca5['animTrack']['duration']/_0x1f3ca5['absoluteSp'+'eed']*_0x1f3ca5['weight']);}for(let _0x592b71=0x21f3+-0xed4+-0x131f;_0x592b71<this['_children']['length'];_0x592b71++){const _0x3f9a55=this['_children'][_0x592b71];_0x3f9a55['weight']=_0x3f9a55['_weight']/_0x482f30,this['_syncAnima'+'tions']&&(_0x3f9a55['weightedSp'+'eed']=_0x3f9a55['animTrack']['duration']/_0x3f9a55['absoluteSp'+'eed']/_0x4b5869);}}};c(gi,'_p',new W()),c(gi,'_pip',new W());let Ju=gi;const yi=class yi extends Ba{['pointCache'](_0x2bc533,_0x118d60){const _0xc47118=''+_0x2bc533+_0x118d60;return this['_pointCach'+'e'][_0xc47118]||(this['_pointCach'+'e'][_0xc47118]=new W((this['_children'][_0x118d60]['pointLengt'+'h']-this['_children'][_0x2bc533]['pointLengt'+'h'])/((this['_children'][_0x118d60]['pointLengt'+'h']+this['_children'][_0x2bc533]['pointLengt'+'h'])/(-0x1a1*0x1+-0x1734+0x18d7)),W['angleRad'](this['_children'][_0x2bc533]['point'],this['_children'][_0x118d60]['point'])*(0x79d*-0x2+-0x4cd+0x1409))),this['_pointCach'+'e'][_0xc47118];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3233cf,_0x564b47;yi['_p']['set'](...this['_parameter'+'Values']);const _0x99dd66=yi['_p']['length']();_0x3233cf=0x116*-0x1+0x14bc+-0x1*0x13a6,_0x564b47=0x1*-0x77+0x12e*0x5+-0x56f;for(let _0x4d1181=-0x2*0xcb1+0x484*0x3+0xbd6;_0x4d1181<this['_children']['length'];_0x4d1181++){const _0x32a7d6=this['_children'][_0x4d1181],_0x4483e6=_0x32a7d6['point'],_0x1faaa1=_0x32a7d6['pointLengt'+'h'];let _0x398be1=Number['MAX_VALUE'];for(let _0x179a51=-0xf*-0x1f3+-0x694+0x16a9*-0x1;_0x179a51<this['_children']['length'];_0x179a51++){if(_0x4d1181===_0x179a51)continue;const _0x307273=this['pointCache'](_0x4d1181,_0x179a51),_0x576ec0=this['_children'][_0x179a51]['pointLengt'+'h'];yi['_pip']['set']((_0x99dd66-_0x1faaa1)/((_0x576ec0+_0x1faaa1)/(-0xc70*-0x1+0xd*0x15f+0x60d*-0x5)),W['angleRad'](_0x4483e6,yi['_p'])*(0x230d+-0x1*0x18cd+-0xa3e));const _0x3fa9ca=N['clamp'](0x1af3+0x1*-0xf88+-0x6*0x1e7-Math['abs'](yi['_pip']['dot'](_0x307273)/_0x307273['lengthSq']()),-0x61+-0x1027*-0x1+-0x2*0x7e3,-0x2456+-0x24a7+0x48fe);_0x3fa9ca<_0x398be1&&(_0x398be1=_0x3fa9ca);}_0x32a7d6['weight']=_0x398be1,_0x3233cf+=_0x398be1,this['_syncAnima'+'tions']&&(_0x564b47+=_0x32a7d6['animTrack']['duration']/_0x32a7d6['absoluteSp'+'eed']*_0x32a7d6['weight']);}for(let _0x181115=0x86e+-0x539*-0x2+0x1*-0x12e0;_0x181115<this['_children']['length'];_0x181115++){const _0x22c0ef=this['_children'][_0x181115];if(_0x22c0ef['weight']=_0x22c0ef['_weight']/_0x3233cf,this['_syncAnima'+'tions']){const _0x1d8dab=_0x22c0ef['animTrack']['duration']/_0x564b47*_0x3233cf;_0x22c0ef['weightedSp'+'eed']=_0x22c0ef['absoluteSp'+'eed']*_0x1d8dab;}}}};c(yi,'_p',new W()),c(yi,'_pip',new W());let ef=yi;class GP extends Ba{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x324525=-0x6*-0x9d+-0x1c8e+0x18e0,_0x39d3db=-0x8ce+0xba9+-0x2db;for(let _0x902b84=0x8*-0x56+0xed*-0xd+0xeb9;_0x902b84<this['_children']['length'];_0x902b84++)if(_0x324525+=Math['max'](this['_parameter'+'Values'][_0x902b84],-0x3aa+0x1f53+-0x1ba9),this['_syncAnima'+'tions']){const _0x7e2bb=this['_children'][_0x902b84];_0x39d3db+=_0x7e2bb['animTrack']['duration']/_0x7e2bb['absoluteSp'+'eed']*_0x7e2bb['weight'];}for(let _0x2dee23=0x45*0x59+-0x1*0x21bd+0x9c0;_0x2dee23<this['_children']['length'];_0x2dee23++){const _0x192fe4=this['_children'][_0x2dee23],_0x2d0fe1=Math['max'](this['_parameter'+'Values'][_0x2dee23],0x1a3+0xa43+-0xbe6);_0x324525?(_0x192fe4['weight']=_0x2d0fe1/_0x324525,this['_syncAnima'+'tions']&&(_0x192fe4['weightedSp'+'eed']=_0x192fe4['animTrack']['duration']/_0x192fe4['absoluteSp'+'eed']/_0x39d3db)):(_0x192fe4['weight']=0x1*0x8c3+0x1651+-0xdd*0x24,this['_syncAnima'+'tions']&&(_0x192fe4['weightedSp'+'eed']=-0xbd+0x2f*0xcf+-0x2544));}}}class eg{constructor(_0x1b46be,_0xbd30c3,_0x5aa9a9=-0x4b5+-0xe23*0x1+0x12d9,_0x554091=!(0x2210+-0x1175+-0x109b),_0x1d998a){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x1b46be,this['_name']=_0xbd30c3,this['_speed']=_0x5aa9a9,this['_loop']=_0x554091,this['_hasAnimat'+'ions']=!(0x2f2*0x3+0x2*-0x562+0x1ef*0x1),_0x1d998a?this['_blendTree']=this['_createTre'+'e'](_0x1d998a['type'],this,null,_0xbd30c3,-0x226d+0x1*0xfb3+0x23*0x89,_0x1d998a['parameter']?[_0x1d998a['parameter']]:_0x1d998a['parameters'],_0x1d998a['children'],_0x1d998a['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Uo(this,null,_0xbd30c3,0x5*0x10a+0x128b+0x1f*-0xc4,_0x5aa9a9));}['_createTre'+'e'](_0x4cc426,_0x413301,_0x49c44b,_0x477b64,_0x1c729f,_0xf36ab0,_0x4c9fd4,_0x4fdfd6,_0x21be34,_0x5ebfa1){switch(_0x4cc426){case FP:return new VP(_0x413301,_0x49c44b,_0x477b64,_0x1c729f,_0xf36ab0,_0x4c9fd4,_0x4fdfd6,_0x21be34,_0x5ebfa1);case kP:return new Ju(_0x413301,_0x49c44b,_0x477b64,_0x1c729f,_0xf36ab0,_0x4c9fd4,_0x4fdfd6,_0x21be34,_0x5ebfa1);case OP:return new ef(_0x413301,_0x49c44b,_0x477b64,_0x1c729f,_0xf36ab0,_0x4c9fd4,_0x4fdfd6,_0x21be34,_0x5ebfa1);case BP:return new GP(_0x413301,_0x49c44b,_0x477b64,_0x1c729f,_0xf36ab0,_0x4c9fd4,_0x4fdfd6,_0x21be34,_0x5ebfa1);}v['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x4cc426);}['_getNodeFr'+'omPath'](_0x4be559){let _0xe38af5=this['_blendTree'];for(let _0x32d1fb=-0x2d*0x37+0x501+0x4ab;_0x32d1fb<_0x4be559['length'];_0x32d1fb++)_0xe38af5=_0xe38af5['getChild'](_0x4be559[_0x32d1fb]);return _0xe38af5;}['addAnimati'+'on'](_0x2f0a98,_0x1afcba){const _0x5bac07=_0x2f0a98['join']('.'),_0x1f7bc6=this['_animation'+'List']['findIndex'](_0x239608=>_0x239608['path']===_0x5bac07);if(_0x1f7bc6>=0x1fb*0xd+-0x24cd*-0x1+-0x3e8c)this['_animation'+'List'][_0x1f7bc6]['animTrack']=_0x1afcba;else{const _0xc0b207=this['_getNodeFr'+'omPath'](_0x2f0a98);_0xc0b207['animTrack']=_0x1afcba,this['_animation'+'List']['push'](_0xc0b207);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x2601+-0x43*0x7a+-0x613&&this['_animation'+'List']['every'](_0x9d0fe8=>_0x9d0fe8['animTrack']&&_0x9d0fe8['animTrack']!==Ri['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x330c99){this['_animation'+'List']=_0x330c99,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x3776d0){this['_speed']=_0x3776d0;}get['speed'](){return this['_speed'];}set['loop'](_0x16d221){this['_loop']=_0x16d221;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Uo?0x2219*0x1+0x1a*0x3e+0x2864*-0x1:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return jh['indexOf'](this['name'])!==-(-0xc*0x89+-0x1bb9+0x2226)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x121a+0x209a+-0x127*0x2c){const _0x4f4d09=this['name']+'.'+this['animations'][-0x367+-0x1d8c+0x697*0x5]['animTrack']['name'],_0x3d374b=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x4f4d09);if(_0x3d374b)return _0x3d374b['loop'];}return!(0x10*-0x25+0x761*-0x4+0x119*0x1d);}get['totalWeigh'+'t'](){let _0x4f1ac2=-0xb2*0x4+0x7f4*0x2+0x230*-0x6;for(let _0x48033d=-0x2136+-0x1f3b+-0x15f*-0x2f;_0x48033d<this['animations']['length'];_0x48033d++)_0x4f1ac2+=this['animations'][_0x48033d]['weight'];return _0x4f1ac2;}get['timelineDu'+'ration'](){let _0x266573=0x58f*0x1+-0xab7*0x1+0x528*0x1;for(let _0x165dab=0x1*0x1552+0xd*0x16d+-0x27db;_0x165dab<this['animations']['length'];_0x165dab++){const _0x25e80e=this['animations'][_0x165dab];_0x25e80e['animTrack']['duration']>_0x266573&&(_0x266573=_0x25e80e['animTrack']['duration']);}return _0x266573;}}class Yh{constructor({from:_0x1687f7,to:_0x2b38e1,time:_0x5764b5=0x1545+-0x20a2+0xb5d,priority:_0xc0d4e7=-0x1049+0x1153+-0x10a,conditions:_0x422c92=[],exitTime:_0x40efa5=null,transitionOffset:_0x38f01e=null,interruptionSource:_0x94a710=q0}){this['_from']=_0x1687f7,this['_to']=_0x2b38e1,this['_time']=_0x5764b5,this['_priority']=_0xc0d4e7,this['_condition'+'s']=_0x422c92,this['_exitTime']=_0x40efa5,this['_transitio'+'nOffset']=_0x38f01e,this['_interrupt'+'ionSource']=_0x94a710;}get['from'](){return this['_from'];}set['to'](_0x39ec90){this['_to']=_0x39ec90;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class HP{constructor(_0x20a9db,_0x1b2cef,_0x4524e3,_0x4faa78,_0x13bc30,_0x235497,_0x11885a){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',oo),c(this,'_activeSta'+'teDuration',-0x1c9*0x11+-0x1*0x2245+0x409e),c(this,'_activeSta'+'teDuration'+'Dirty',!(-0x3a9*0x1+0x397+-0x1*-0x12)),c(this,'_playing',!(-0x9*-0x43a+-0x282+-0x2387)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',-0x15e7+0x1f2c+-0x1*0x944),c(this,'_totalTran'+'sitionTime',-0x2629+0x12ee+0x133c),c(this,'_isTransit'+'ioning',!(-0x1e9f+-0xc55*-0x2+0x5f6)),c(this,'_transitio'+'nInterrupt'+'ionSource',q0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x1*0x79f+0xd*-0x221+-0x97*-0x22),c(this,'_timeInSta'+'teBefore',-0x1196+0x4*0x472+-0x32),c(this,'findParame'+'ter',_0x43beaa=>this['_findParam'+'eter'](_0x43beaa)),(this['_animEvalu'+'ator']=_0x20a9db,this['_eventHand'+'ler']=_0x13bc30,this['_findParam'+'eter']=_0x235497,this['_consumeTr'+'igger']=_0x11885a);for(let _0x3be354=0x16*0x44+0x197e+0xbf*-0x2a;_0x3be354<_0x1b2cef['length'];_0x3be354++)this['_states'][_0x1b2cef[_0x3be354]['name']]=new eg(this,_0x1b2cef[_0x3be354]['name'],_0x1b2cef[_0x3be354]['speed'],_0x1b2cef[_0x3be354]['loop'],_0x1b2cef[_0x3be354]['blendTree']),this['_stateName'+'s']['push'](_0x1b2cef[_0x3be354]['name']);this['_transitio'+'ns']=_0x4524e3['map'](_0xb564b3=>new Yh({..._0xb564b3})),this['_activate']=_0x4faa78;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x30913e){this['_activeSta'+'teName']=_0x30913e;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x194e4a){this['_previousS'+'tateName']=_0x194e4a;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x4b2e3d=!(-0x35*-0x1d+0x3*0x4fe+-0x14fb);for(let _0x4ad36c=-0x5c2+0x5e*0x40+-0x11be;_0x4ad36c<this['_stateName'+'s']['length'];_0x4ad36c++)this['_states'][this['_stateName'+'s'][_0x4ad36c]]['playable']||(_0x4b2e3d=!(0x22c+0xd0a+-0xf35));return _0x4b2e3d;}set['playing'](_0x2cdd32){this['_playing']=_0x2cdd32;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x27ab4b=0x2553+-0x96c*-0x2+0x1*-0x382b;for(let _0x52ccf6=0x43c+-0x1d99+0x195d;_0x52ccf6<this['activeStat'+'eAnimation'+'s']['length'];_0x52ccf6++){const _0x54e3be=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x52ccf6]['name']);_0x54e3be&&(_0x27ab4b=Math['max'](_0x27ab4b,_0x54e3be['track']['duration']));}this['_activeSta'+'teDuration']=_0x27ab4b,this['_activeSta'+'teDuration'+'Dirty']=!(-0x1c6b+0xb*0x78+-0x2*-0xba2);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x2c955c){this['_timeInSta'+'teBefore']=_0x2c955c,this['_timeInSta'+'te']=_0x2c955c;for(let _0x2b7074=0x26e4+0x50e*0x1+-0x5*0x8ca;_0x2b7074<this['activeStat'+'eAnimation'+'s']['length'];_0x2b7074++){const _0x9239e=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x2b7074]['name']);_0x9239e&&(_0x9239e['time']=_0x2c955c);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x5ed67b){return this['_animEvalu'+'ator']['assignMask'](_0x5ed67b);}['_findState'](_0xc51783){return this['_states'][_0xc51783];}['_getActive'+'StateProgr'+'essForTime'](_0x4fb225){if(this['activeStat'+'eName']===oo||this['activeStat'+'eName']===Ku||this['activeStat'+'eName']===Or)return 0x1966+-0x6dd*0x3+-0x4ce;const _0x1cb8fa=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x7d*-0x31+-0x1093+-0x75a]['name']);return _0x1cb8fa?_0x1cb8fa['progressFo'+'rTime'](_0x4fb225):null;}['_findTrans'+'itionsFrom'+'State'](_0x13f107){let _0x3ee0e0=this['_findTrans'+'itionsFrom'+'StateCache'][_0x13f107];return _0x3ee0e0||(_0x3ee0e0=this['_transitio'+'ns']['filter'](_0x359799=>_0x359799['from']===_0x13f107),No(_0x3ee0e0),this['_findTrans'+'itionsFrom'+'StateCache'][_0x13f107]=_0x3ee0e0),_0x3ee0e0;}['_findTrans'+'itionsBetw'+'eenStates'](_0x30361f,_0x3c9e0a){let _0x7d6ca3=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x30361f+'->'+_0x3c9e0a];return _0x7d6ca3||(_0x7d6ca3=this['_transitio'+'ns']['filter'](_0x4f808a=>_0x4f808a['from']===_0x30361f&&_0x4f808a['to']===_0x3c9e0a),No(_0x7d6ca3),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x30361f+'->'+_0x3c9e0a]=_0x7d6ca3),_0x7d6ca3;}['_transitio'+'nHasCondit'+'ionsMet'](_0x1a1425){const _0x353f12=_0x1a1425['conditions'];for(let _0x29baa8=0x1866+-0x1a7d+-0x217*-0x1;_0x29baa8<_0x353f12['length'];_0x29baa8++){const _0x6e33d8=_0x353f12[_0x29baa8],_0x536aaf=this['_findParam'+'eter'](_0x6e33d8['parameterN'+'ame']);switch(_0x6e33d8['predicate']){case MP:if(!(_0x536aaf['value']>_0x6e33d8['value']))return!(-0x107*-0x1a+0x225*-0x9+0x278*-0x3);break;case PP:if(!(_0x536aaf['value']<_0x6e33d8['value']))return!(-0x11b*0x1+-0x1*0x1a91+0x1bad);break;case RP:if(!(_0x536aaf['value']>=_0x6e33d8['value']))return!(0xca1+-0x7*0x3b3+0xd45);break;case IP:if(!(_0x536aaf['value']<=_0x6e33d8['value']))return!(0x2509+0x6e*-0x19+-0xd25*0x2);break;case DP:if(_0x536aaf['value']!==_0x6e33d8['value'])return!(0x5*-0x45b+0xca*0x18+0x2d8);break;case LP:if(_0x536aaf['value']===_0x6e33d8['value'])return!(-0xe*-0x161+-0xa*-0x1f6+-0x58f*0x7);break;}}return!(0x647*-0x5+-0x10ad+0x3010);}['_findTrans'+'ition'](_0x1fee08,_0x1af475){let _0xb8e906=[];if(_0x1fee08&&_0x1af475)_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x1fee08,_0x1af475));else{if(!this['_isTransit'+'ioning'])_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case TP:_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case AP:_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0xb8e906=_0xb8e906['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0xb8e906=_0xb8e906['filter'](_0x4ed826=>{if(_0x4ed826['to']===this['activeStat'+'eName'])return!(-0x18d+-0x8e*-0xf+0x2*-0x362);if(_0x4ed826['hasExitTim'+'e']){let _0x1e9245=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x13c11a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x4ed826['exitTime']<0x2*-0x8b3+0xe4d+0x31a&&this['activeStat'+'e']['loop']&&(_0x1e9245-=Math['floor'](_0x1e9245),_0x13c11a-=Math['floor'](_0x13c11a)),_0x13c11a===_0x1e9245){if(_0x13c11a!==_0x4ed826['exitTime'])return null;}else{if(!(_0x4ed826['exitTime']>_0x1e9245&&_0x4ed826['exitTime']<=_0x13c11a))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x4ed826);}),_0xb8e906['length']>0x20da+0x24e9+-0x45c3){const _0x378564=_0xb8e906[0x24ae+-0x9b3+-0x1afb];if(_0x378564['to']===Ku){const _0x3f8604=this['_findTrans'+'itionsFrom'+'State'](oo)[0x90*-0x31+-0xdae+-0x149f*-0x2];_0x378564['to']=_0x3f8604['to'];}return _0x378564;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x50692c){let _0x3f0d25,_0x3d7041,_0x2da858;this['previousSt'+'ate']=_0x50692c['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x50692c['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x19d3+-0xcca*0x2+0x15*-0x3);for(let _0x3c4a3a=-0xab*-0x16+-0x5*0x7c7+0x1831*0x1;_0x3c4a3a<_0x50692c['conditions']['length'];_0x3c4a3a++){const _0x16ac0d=_0x50692c['conditions'][_0x3c4a3a];this['_findParam'+'eter'](_0x16ac0d['parameterN'+'ame'])['type']===ph&&this['_consumeTr'+'igger'](_0x16ac0d['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x5592d6=Math['min'](this['_totalTran'+'sitionTime']!==-0x1208+0x21fa*-0x1+0x3402?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x30*-0x40+0x1*0x118d+-0x58c,-0x46f*0x5+-0x11a6+0x27d2);for(let _0x53a6bf=-0x1c1*0x1+0x2*-0x120a+-0x2e9*-0xd;_0x53a6bf<this['_transitio'+'nPreviousS'+'tates']['length'];_0x53a6bf++){this['_isTransit'+'ioning']?_0x53a6bf!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x2143+-0x1a4b+-0x6f7)?this['_transitio'+'nPreviousS'+'tates'][_0x53a6bf]['weight']*=-0xe80+-0x7*-0x40+-0x28d*-0x5-_0x5592d6:this['_transitio'+'nPreviousS'+'tates'][_0x53a6bf]['weight']=_0x5592d6:this['_transitio'+'nPreviousS'+'tates'][_0x53a6bf]['weight']=0x2446+0x1000+-0x3445,_0x3f0d25=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x53a6bf]['name']);for(let _0x3d4916=-0x17b+0xf7d+0x146*-0xb;_0x3d4916<_0x3f0d25['animations']['length'];_0x3d4916++)_0x3d7041=_0x3f0d25['animations'][_0x3d4916],_0x2da858=this['_animEvalu'+'ator']['findClip'](_0x3d7041['name']+'.previous.'+_0x53a6bf),_0x2da858||(_0x2da858=this['_animEvalu'+'ator']['findClip'](_0x3d7041['name']),_0x2da858['name']=_0x3d7041['name']+'.previous.'+_0x53a6bf),_0x53a6bf!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0xdfa+0x1b76+-0xd7b)&&_0x2da858['pause']();}}this['_isTransit'+'ioning']=!(-0x46*0x23+0x20f8+-0x2*0xbb3),this['_totalTran'+'sitionTime']=_0x50692c['time'],this['_currTrans'+'itionTime']=0x9*-0x385+0x7*0xc7+0x124*0x17,this['_transitio'+'nInterrupt'+'ionSource']=_0x50692c['interrupti'+'onSource'];const _0x11d897=this['activeStat'+'e'],_0x2e59d1=_0x50692c['transition'+'Offset']&&_0x50692c['transition'+'Offset']>0x197f+0x138d+-0x2d0c&&_0x50692c['transition'+'Offset']<-0x1503*0x1+0x1*-0x1051+0x2555;let _0x4a3247=0x20*0x5+-0x5b8+0x518,_0x373912=-0x10c*0xa+0x1e55+-0x13dd;if(_0x2e59d1){const _0x1f0431=_0x11d897['timelineDu'+'ration']*_0x50692c['transition'+'Offset'];_0x4a3247=_0x1f0431,_0x373912=_0x1f0431;}this['_timeInSta'+'te']=_0x4a3247,this['_timeInSta'+'teBefore']=_0x373912;for(let _0x166021=0x118f+-0x939+0x1*-0x856;_0x166021<_0x11d897['animations']['length'];_0x166021++){if(_0x2da858=this['_animEvalu'+'ator']['findClip'](_0x11d897['animations'][_0x166021]['name']),_0x2da858)_0x2da858['reset']();else{const _0x51e53d=Number['isFinite'](_0x11d897['animations'][_0x166021]['speed'])?_0x11d897['animations'][_0x166021]['speed']:_0x11d897['speed'];_0x2da858=new Xh(_0x11d897['animations'][_0x166021]['animTrack'],this['_timeInSta'+'te'],_0x51e53d,!(0x37e*-0x4+0x1c48+-0xe50),_0x11d897['loop'],this['_eventHand'+'ler']),_0x2da858['name']=_0x11d897['animations'][_0x166021]['name'],this['_animEvalu'+'ator']['addClip'](_0x2da858);}if(_0x50692c['time']>-0x199b+0x1512+0x489?_0x2da858['blendWeigh'+'t']=0x1bc*0xd+0x135f+-0x29eb:_0x2da858['blendWeigh'+'t']=_0x11d897['animations'][_0x166021]['normalized'+'Weight'],_0x2da858['play'](),_0x2e59d1)_0x2da858['time']=_0x11d897['timelineDu'+'ration']*_0x50692c['transition'+'Offset'];else{const _0x7e5435=_0x11d897['speed']>=0xf*0x5a+-0xd3d+0x7f7?0x208d+-0x227e+0x1f1:this['activeStat'+'eDuration'];_0x2da858['time']=_0x7e5435;}}}['_transitio'+'nToState'](_0x3d4f15){if(!this['_findState'](_0x3d4f15))return;let _0x132c97=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x3d4f15);_0x132c97||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x132c97=new Yh({'from':null,'to':_0x3d4f15})),this['updateStat'+'eFromTrans'+'ition'](_0x132c97);}['assignAnim'+'ation'](_0x322d30,_0x3b9a38,_0x212478,_0x37b16c){const _0xb0f4cf=_0x322d30['split']('.');let _0x5e579a=this['_findState'](_0xb0f4cf[-0xdd2+0x1ee*0xa+-0x57a]);_0x5e579a||(_0x5e579a=new eg(this,_0xb0f4cf[-0x9b5+0x1*-0x2081+0x2a36],_0x212478),this['_states'][_0xb0f4cf[-0x13*-0x1de+-0x801+-0x1b79*0x1]]=_0x5e579a,this['_stateName'+'s']['push'](_0xb0f4cf[0x25*0x43+-0x1*-0x460+-0x3d*0x3b])),_0x5e579a['addAnimati'+'on'](_0xb0f4cf,_0x3b9a38),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x5e579a['name'],_0x3b9a38),_0x212478!==void(0x5f3*-0x3+0x9d*0x2b+0x886*-0x1)&&(_0x5e579a['speed']=_0x212478),_0x37b16c!==void(-0x1*0x25bb+0x806+0x1db5)&&(_0x5e579a['loop']=_0x37b16c),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0xbc9+-0x49*-0x7a+0x2e93*-0x1);}['removeNode'+'Animations'](_0x1623e6){if(jh['indexOf'](_0x1623e6)!==-(0xe1a+-0x20cd+-0x12*-0x10a))return!(-0x1*0x55+0x2152+-0x20fc);const _0x4d7d2a=this['_findState'](_0x1623e6);return _0x4d7d2a?(_0x4d7d2a['animations']=[],!(0x2*-0xb57+-0x8fe+0x1fac*0x1)):(v['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x1623e6),!(0x1a*-0xc2+0x1df3+0x17*-0x72));}['play'](_0x5e8b1c){_0x5e8b1c&&this['_transitio'+'nToState'](_0x5e8b1c),this['_playing']=!(-0x471+-0x3ef*-0x9+-0x529*0x6);}['pause'](){this['_playing']=!(-0x7ae+0x21bf+-0x1a10);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=oo,this['_playing']=!(-0x1f49+0x76f+-0x1*-0x17db),this['_currTrans'+'itionTime']=-0x115*-0x23+0x1b5e+-0x5*0xd0c,this['_totalTran'+'sitionTime']=0x39f*0x9+-0x12a+-0x1f6c,this['_isTransit'+'ioning']=!(-0xa65+-0x97b+-0x1*-0x13e1),this['_timeInSta'+'te']=0x17*0x4f+0xc0d+0x993*-0x2,this['_timeInSta'+'teBefore']=-0x705+0xff+0x606,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x1e7080){if(!this['_playing'])return;let _0x4d963e,_0xa8642,_0x418a1a;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x1e7080*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x1e7080=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x135e27=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x135e27&&this['updateStat'+'eFromTrans'+'ition'](_0x135e27),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x1e7080,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x5e7e49=this['_totalTran'+'sitionTime']!==-0x23e1+0x13b7*0x1+-0x815*-0x2?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x2*0x36f+-0x2fb*-0x5+-0x808;for(let _0x50e839=-0x8d*0x1f+-0xb86+-0x1c99*-0x1;_0x50e839<this['_transitio'+'nPreviousS'+'tates']['length'];_0x50e839++){_0x4d963e=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x50e839]['name']);const _0x2dcd77=this['_transitio'+'nPreviousS'+'tates'][_0x50e839]['weight'];for(let _0x42a8e0=-0x1*-0xf91+-0x1*-0x1cd+-0x115e;_0x42a8e0<_0x4d963e['animations']['length'];_0x42a8e0++)_0xa8642=_0x4d963e['animations'][_0x42a8e0],_0x418a1a=this['_animEvalu'+'ator']['findClip'](_0xa8642['name']+'.previous.'+_0x50e839),_0x418a1a&&(_0x418a1a['blendWeigh'+'t']=(0x40*-0x71+0x397*0x1+0x18aa-_0x5e7e49)*_0xa8642['normalized'+'Weight']*_0x2dcd77);}_0x4d963e=this['activeStat'+'e'];for(let _0x5f0704=-0x42f+-0xc14*0x1+-0x1043*-0x1;_0x5f0704<_0x4d963e['animations']['length'];_0x5f0704++)_0xa8642=_0x4d963e['animations'][_0x5f0704],this['_animEvalu'+'ator']['findClip'](_0xa8642['name'])['blendWeigh'+'t']=_0x5e7e49*_0xa8642['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x2396*0x1+-0x4f3*0x3+0x3270*0x1);const _0x2e1712=this['activeStat'+'eAnimation'+'s']['length'],_0x5d292e=this['_animEvalu'+'ator']['clips']['length'];for(let _0x14b2a8=-0x124c*-0x1+0x3*0x726+0x27be*-0x1;_0x14b2a8<_0x5d292e-_0x2e1712;_0x14b2a8++)this['_animEvalu'+'ator']['removeClip'](-0x7d4+-0x367+0xb3b);this['_transitio'+'nPreviousS'+'tates']=[],_0x4d963e=this['activeStat'+'e'];for(let _0x5dddb2=-0x1b95+0x1463*-0x1+0x2ff8;_0x5dddb2<_0x4d963e['animations']['length'];_0x5dddb2++)_0xa8642=_0x4d963e['animations'][_0x5dddb2],_0x418a1a=this['_animEvalu'+'ator']['findClip'](_0xa8642['name']),_0x418a1a&&(_0x418a1a['blendWeigh'+'t']=_0xa8642['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Uo){_0x4d963e=this['activeStat'+'e'];for(let _0x1aa546=0x26a1+-0x1861+-0x10*0xe4;_0x1aa546<_0x4d963e['animations']['length'];_0x1aa546++)_0xa8642=_0x4d963e['animations'][_0x1aa546],_0x418a1a=this['_animEvalu'+'ator']['findClip'](_0xa8642['name']),_0x418a1a&&(_0x418a1a['blendWeigh'+'t']=_0xa8642['normalized'+'Weight'],_0xa8642['parent']['syncAnimat'+'ions']&&(_0x418a1a['speed']=_0xa8642['speed']));}}this['_animEvalu'+'ator']['update'](_0x1e7080,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Yd=new W(),ql=new T(),Ja=new Q(),eo=new Y(),to=new se();class mi extends Ji{constructor(_0x3ec133,_0xdb6301,_0x3292a4,_0x20ba5b,_0x51a84c){super(_0xdb6301),this['animCompon'+'ent']=_0x3ec133,this['_mask']=_0x20ba5b,this['layerName']=_0x3292a4,this['layerIndex']=_0x51a84c;}static['_packFloat'](_0x5363f7){return _0x5363f7[0x88+-0xee7*0x1+0xe5f];}static['_packBoole'+'an'](_0xac0cc1){return!!_0xac0cc1[-0x8*-0x1a8+0x212e+-0x2e6e];}static['_packVec2'](_0x1fddfd){return Yd['x']=_0x1fddfd[0x1e60+-0x110f+-0xd51],Yd['y']=_0x1fddfd[-0x1a8f*0x1+0x1*-0x19ed+0x5d5*0x9],Yd;}static['_packVec3'](_0x467bc3){return ql['x']=_0x467bc3[-0x77*-0x7+-0x22f+-0x112],ql['y']=_0x467bc3[-0x1af2*0x1+0x1d3f*-0x1+0x2*0x1c19],ql['z']=_0x467bc3[-0x2*-0x2a+0x18f1+0x1d*-0xdf],ql;}static['_packVec4'](_0xf686cc){return Ja['x']=_0xf686cc[0x23da+-0x21ef+-0x1eb*0x1],Ja['y']=_0xf686cc[-0x352*-0xb+-0x141*-0x6+-0x2c0b],Ja['z']=_0xf686cc[-0x4e0+-0xc43*0x1+-0x85*-0x21],Ja['w']=_0xf686cc[-0x2404+-0x131f+0x4e*0xb5],Ja;}static['_packColor'](_0x90f4ed){return eo['r']=_0x90f4ed[-0x119a+0x459*0x3+0x48f],eo['g']=_0x90f4ed[-0x1bff+0x17f9+-0x407*-0x1],eo['b']=_0x90f4ed[-0x17e1*-0x1+-0x102b*0x2+0x877*0x1],eo['a']=_0x90f4ed[0x42d+-0x1*-0x97b+-0xda5],eo;}static['_packQuat'](_0x6d8db4){return to['x']=_0x6d8db4[0x4*0x28b+0x3*0x422+-0x6*0x3c3],to['y']=_0x6d8db4[-0x1e8+-0x1dbf*-0x1+-0x1bd6],to['z']=_0x6d8db4[0xb9d+0x4ad+-0x1048],to['w']=_0x6d8db4[-0x26ba+-0x4*-0x27a+0x1cd5],to;}['resolve'](_0x542f18){const _0x32c5ac=qr['encode'](_0x542f18['entityPath'],_0x542f18['component'],_0x542f18['propertyPa'+'th']);let _0x1e33f9=this['targetCach'+'e'][_0x32c5ac];if(_0x1e33f9)return _0x1e33f9;let _0x3fe2c5,_0x327450,_0xe9bae0;switch(_0x542f18['component']){case'entity':_0x3fe2c5=this['_getEntity'+'FromHierar'+'chy'](_0x542f18['entityPath']),_0xe9bae0=qr['encode'](_0x3fe2c5['path'],'entity',_0x542f18['propertyPa'+'th']),_0x327450=_0x3fe2c5;break;case'graph':if(_0x327450=this['findNode'](_0x542f18),!_0x327450)return null;_0xe9bae0=qr['encode'](_0x327450['path'],'graph',_0x542f18['propertyPa'+'th']);break;default:if(_0x3fe2c5=this['_getEntity'+'FromHierar'+'chy'](_0x542f18['entityPath']),_0x327450=_0x3fe2c5['findCompon'+'ent'](_0x542f18['component']),!_0x327450)return null;_0xe9bae0=qr['encode'](_0x3fe2c5['path'],_0x542f18['component'],_0x542f18['propertyPa'+'th']);break;}return _0x1e33f9=this['_createAni'+'mTargetFor'+'Property'](_0x327450,_0x542f18['propertyPa'+'th'],_0xe9bae0),this['targetCach'+'e'][_0x32c5ac]=_0x1e33f9,_0x1e33f9;}['update'](_0x28f10c){const _0x3e9572=this['activeNode'+'s'];if(_0x3e9572){for(let _0x4a770d=0x4*0x11+-0x2*-0x4e3+-0xa0a;_0x4a770d<_0x3e9572['length'];_0x4a770d++)_0x3e9572[_0x4a770d]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0xf6d9a1){if(!this['animCompon'+'ent']['entity']['name']===_0xf6d9a1[0x14c2*-0x1+-0x2395*0x1+0x3857])return null;const _0x250857=this['animCompon'+'ent']['entity'];return _0xf6d9a1['length']===-0x6*-0x2b+-0x1816*0x1+0x1715?_0x250857:_0x250857['_parent']['findByPath'](_0xf6d9a1);}['_resolvePa'+'th'](_0x2769a3,_0x57ee48,_0x3f6cc8){const _0x80eaab=_0x57ee48['length']-(_0x3f6cc8?-0x2*0x3ac+0x170a+-0xfb2:0xa64+-0x51c+-0x1*0x547);for(let _0x3b4318=-0xe*-0x24e+0xbf*-0x18+-0xe5c;_0x3b4318<_0x80eaab;_0x3b4318++)_0x2769a3=_0x2769a3[_0x57ee48[_0x3b4318]];return _0x2769a3;}['_setter'](_0x3a5466,_0x33d20b,_0x1baa66){const _0x525cd8=this['_resolvePa'+'th'](_0x3a5466,_0x33d20b),_0x477069=_0x33d20b[_0x33d20b['length']-(-0x14*0x5e+0x3*-0x139+-0xf*-0xbc)],_0x3eb631='set'+_0x477069['substring'](0x1be8+0x1496+-0x307e*0x1,-0xe31+-0x846*-0x1+-0x17b*-0x4)['toUpperCas'+'e']()+_0x477069['substring'](-0x26e9+0x5e9+0x47*0x77);if(_0x525cd8[_0x3eb631]){let _0x2c10d5=_0x525cd8['get'+_0x477069['substring'](-0xe0+-0xbb*-0x12+0x1*-0xc46,0x100*-0x4+-0x5*-0x46d+0x4*-0x488)['toUpperCas'+'e']()+_0x477069['substring'](0x679+-0x1096*0x1+0xa1e)]['bind'](_0x525cd8)();_0x2c10d5=[_0x2c10d5['x'],_0x2c10d5['y'],_0x2c10d5['z'],_0x2c10d5['w']];const _0x2c9370=_0x525cd8[_0x3eb631]['bind'](_0x525cd8);return{'set':_0x1ac213=>{_0x2c9370(_0x1baa66(_0x1ac213));},'get':()=>_0x2c10d5};}const _0x3430e6=_0x525cd8[_0x477069];if(typeof _0x3430e6=='object'&&_0x3430e6['hasOwnProp'+'erty']('copy'))return function(_0x1cce38){_0x3430e6['copy'](_0x1baa66(_0x1cce38));};if([W,T,Q,Y,se]['indexOf'](_0x525cd8['constructo'+'r'])!==-(-0x1*0xead+-0x2582+0x3430)&&_0x33d20b['length']>-0x17a5+-0x6*0x410+0x3006){const _0x47e6c8=_0x33d20b['length']>-0x1*-0x1ddc+0x1146+-0x1a*0x1d0?this['_resolvePa'+'th'](_0x3a5466,_0x33d20b['slice'](-0x141f+0x240d+-0x7f7*0x2,-(-0x9c7+-0x392+0x6ad*0x2))):_0x3a5466,_0x339b8f=_0x33d20b[_0x33d20b['length']-(0x8*0x1e2+-0x4*0x14d+-0x1*0x9da)];return function(_0x2ab2d0){_0x525cd8[_0x477069]=_0x1baa66(_0x2ab2d0),_0x47e6c8[_0x339b8f]=_0x525cd8;};}return function(_0x47b679){_0x525cd8[_0x477069]=_0x1baa66(_0x47b679);};}['_createAni'+'mTargetFor'+'Property'](_0x2d1cc5,_0x23cc99,_0x1732bb){if(this['handlers']&&_0x23cc99[0x9e1*0x1+-0xde+-0x903]['startsWith']('weight.'))return this['handlers']['weight'](_0x2d1cc5,_0x23cc99[0x3*-0xabb+0x115c+0xed5]['replace']('weight.',''));if(this['handlers']&&_0x23cc99[-0x16d1+0xb*-0x4e+0x1a2b]==='material'&&_0x23cc99['length']===0x3*0x2d3+-0x2*0xf6d+-0x1*-0x1663){const _0x208d61=_0x23cc99[-0x897+0x494*0x3+-0x524];if(_0x208d61['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x2d1cc5,_0x208d61);}const _0x49f628=this['_resolvePa'+'th'](_0x2d1cc5,_0x23cc99,!(-0x54e+0x3*-0x6c0+0x198e));if(typeof _0x49f628>'u')return null;let _0x3eea0a,_0x217bce,_0xda00e;if(typeof _0x49f628=='number')_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packFloat']),_0x217bce='vector',_0xda00e=0x27*0xd+0x177c+-0x1976;else{if(typeof _0x49f628=='boolean')_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packBoole'+'an']),_0x217bce='vector',_0xda00e=0xded+0x1b1*-0x16+0x174a;else{if(typeof _0x49f628=='object')switch(_0x49f628['constructo'+'r']){case W:_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packVec2']),_0x217bce='vector',_0xda00e=-0x1ce7*-0x1+-0x7*0x3b9+-0x2d6;break;case T:_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packVec3']),_0x217bce='vector',_0xda00e=-0x1b11+0x7*0x126+-0x1*-0x130a;break;case Q:_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packVec4']),_0x217bce='vector',_0xda00e=-0xfd*0x5+0xf*0x93+-0x34*0x12;break;case Y:_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packColor']),_0x217bce='vector',_0xda00e=-0xe3*0x1+-0x120d+-0x1*-0x12f4;break;case se:_0x3eea0a=this['_setter'](_0x2d1cc5,_0x23cc99,mi['_packQuat']),_0x217bce='quaternion',_0xda00e=0xe23+-0xa1*-0x2f+0x15d7*-0x2;break;default:return null;}}}return _0x23cc99['indexOf']('material')!==-(-0x3*-0x3ab+-0x1392+-0x892*-0x1)?new Zu(_0x60cb6=>{_0x3eea0a(_0x60cb6),_0x2d1cc5['material']['update']();},_0x217bce,_0xda00e,_0x1732bb):new Zu(_0x3eea0a,_0x217bce,_0xda00e,_0x1732bb);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x14acb3={},_0x1aedf0=function(_0x2e6235){_0x14acb3[_0x2e6235['name']]=_0x2e6235;for(let _0x557cc6=0xf0a+0x25b9+-0x34c3;_0x557cc6<_0x2e6235['children']['length'];++_0x557cc6)_0x1aedf0(_0x2e6235['children'][_0x557cc6]);};_0x1aedf0(this['graph']),this['nodes']=_0x14acb3;}}class WP{constructor(_0x448905,_0x2af82f,_0x54f8da,_0x1253cb=0x20ef+0x685*-0x3+-0x7*0x1e9,_0x1de4b2=X0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',-0x2129*-0x1+-0xb26+-0x7*0x325),c(this,'_blendTime'+'Elapsed',0x1ccc+0x1146+-0x2e12),c(this,'_startingW'+'eight',-0x63*0x65+-0x269b*0x1+-0x2*-0x26d5),c(this,'_targetWei'+'ght',-0xf3b+-0xe8*-0x2+-0x479*-0x3),(this['_name']=_0x448905,this['_controlle'+'r']=_0x2af82f,this['_component']=_0x54f8da,this['_weight']=_0x1253cb,this['_blendType']=_0x1de4b2);}get['name'](){return this['_name'];}set['playing'](_0x4256d3){this['_controlle'+'r']['playing']=_0x4256d3;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x15d238){const _0xe8f8a0=this['_controlle'+'r'],_0xc182c0=_0xe8f8a0['playing'];_0xe8f8a0['playing']=!(0x1fe5+-0x12f1+0x67a*-0x2),_0xe8f8a0['activeStat'+'eCurrentTi'+'me']=_0x15d238,_0xc182c0||_0xe8f8a0['update'](0x1643*-0x1+-0x7c*0xf+-0x1*-0x1d87),_0xe8f8a0['playing']=_0xc182c0;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x58041a){this['_weight']=_0x58041a,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x56d971){_0x56d971!==this['_blendType']&&(this['_blendType']=_0x56d971,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x24dfa8){this['_controlle'+'r']['assignMask'](_0x24dfa8)&&this['_component']['rebind'](),this['_mask']=_0x24dfa8;}get['mask'](){return this['_mask'];}['play'](_0x16c205){this['_controlle'+'r']['play'](_0x16c205);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x39bf66){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=N['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x39bf66):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x2*0xa4d+0xb*-0xec+0xa76*-0x1,this['_blendTime'+'Elapsed']=0x5*0x32f+0x9f5+-0x450*0x6,this['_startingW'+'eight']=0xfce+-0x8e5+-0x6e9,this['_targetWei'+'ght']=0xaa6+0x2c5+-0x5*0x2af)),this['_controlle'+'r']['update'](_0x39bf66);}['blendToWei'+'ght'](_0x4beeda,_0xd801a5){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x4beeda,this['_blendTime']=Math['max'](0x60b*-0x3+-0x355*-0x3+-0x6*-0x15b,_0xd801a5),this['_blendTime'+'Elapsed']=-0x9d*0x23+-0x16e9+0xb18*0x4;}['assignAnim'+'ation'](_0x797782,_0x6cb743,_0x285354,_0x125e28){if(!(_0x6cb743 instanceof Ri)){v['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x797782,_0x6cb743,_0x285354,_0x125e28),this['_controlle'+'r']['_transitio'+'ns']['length']===0x344+0xdf*-0x27+0x1eb5&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Yh({'from':'START','to':_0x797782})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0xd76*-0x1+0xaf3+-0x1*-0x283));}['removeNode'+'Animations'](_0x4ba643){this['_controlle'+'r']['removeNode'+'Animations'](_0x4ba643)&&(this['_component']['playing']=!(0xd*0x147+0x119*0x1d+-0x306f));}['getAnimati'+'onAsset'](_0xcf4272){return this['_component']['animationA'+'ssets'][this['name']+':'+_0xcf4272];}['transition'](_0x3c3258,_0x588288=-0x913*0x2+0x2*0x5cf+0x688,_0x1d4d88=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Yh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x3c3258,'time':_0x588288,'transitionOffset':_0x1d4d88}));}}class mh{constructor(_0x5e64b0){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x5e64b0['layers']))this['_layers']=_0x5e64b0['layers'];else for(const _0x5d700b in _0x5e64b0['layers']){const _0x550f88=_0x5e64b0['layers'][_0x5d700b],_0x186a0b={'name':_0x550f88['name'],'blendType':_0x550f88['blendType'],'weight':_0x550f88['weight'],'states':[],'transitions':[]};for(let _0x3a266b=-0x652*0x3+-0x12b6+0x25ac;_0x3a266b<_0x550f88['states']['length'];_0x3a266b++)_0x186a0b['states']['push'](_0x5e64b0['states'][_0x550f88['states'][_0x3a266b]]);for(let _0x3905a8=-0x12*0x20b+-0x1433*-0x1+0x1093;_0x3905a8<_0x550f88['transition'+'s']['length'];_0x3905a8++){const _0x422769=_0x5e64b0['transition'+'s'][_0x550f88['transition'+'s'][_0x3905a8]];if(_0x422769['conditions']&&!Array['isArray'](_0x422769['conditions'])){const _0xfdd5d=Object['keys'](_0x422769['conditions']),_0x58a157=[];for(let _0x186706=0xa3a+-0x1ba8+-0x17*-0xc2;_0x186706<_0xfdd5d['length'];_0x186706++){const _0x39a4a9=_0x422769['conditions'][_0xfdd5d[_0x186706]];_0x39a4a9['parameterN'+'ame']&&_0x58a157['push'](_0x39a4a9);}_0x422769['conditions']=_0x58a157;}Number['isInteger'](_0x422769['from'])&&(_0x422769['from']=_0x5e64b0['states'][_0x422769['from']]['name']),Number['isInteger'](_0x422769['to'])&&(_0x422769['to']=_0x5e64b0['states'][_0x422769['to']]['name']),_0x186a0b['transition'+'s']['push'](_0x422769);}this['_layers']['push'](_0x186a0b);}for(const _0x28b0c3 in _0x5e64b0['parameters']){const _0x468645=_0x5e64b0['parameters'][_0x28b0c3];this['_parameter'+'s'][_0x468645['name']]={'type':_0x468645['type'],'value':_0x468645['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Z0 extends ue{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x1*0x1f8f+0x1*0xd3f+0x1251),c(this,'_activate',!(0x2b*-0xb5+-0x48b*0x5+-0xd*-0x416)),c(this,'_playing',!(-0x18*0x13d+-0x250d*-0x1+-0x754)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0xe70+-0x69d+0x9a*0x23)),c(this,'findParame'+'ter',_0x16828a=>this['_parameter'+'s'][_0x16828a]),c(this,'consumeTri'+'gger',_0x41a29c=>{this['_consumedT'+'riggers']['add'](_0x41a29c);});}set['stateGraph'+'Asset'](_0x261590){if(_0x261590===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x97b5a0,_0x528256;_0x261590 instanceof le?(_0x97b5a0=_0x261590['id'],_0x528256=this['system']['app']['assets']['get'](_0x97b5a0),_0x528256||(this['system']['app']['assets']['add'](_0x261590),_0x528256=this['system']['app']['assets']['get'](_0x97b5a0))):(_0x97b5a0=_0x261590,_0x528256=this['system']['app']['assets']['get'](_0x97b5a0)),!(!_0x528256||this['_stateGrap'+'hAsset']===_0x97b5a0)&&(_0x528256['resource']?(this['_stateGrap'+'h']=_0x528256['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x528256['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x528256['once']('load',_0x282789=>{this['_stateGrap'+'h']=_0x282789['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x528256['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x528256)),this['_stateGrap'+'hAsset']=_0x97b5a0);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x3b931e){this['_normalize'+'Weights']=_0x3b931e,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x250a46){this['_animation'+'Assets']=_0x250a46,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x1c94f0){this['_speed']=_0x1c94f0;}get['speed'](){return this['_speed'];}set['activate'](_0x5de696){this['_activate']=_0x5de696;}get['activate'](){return this['_activate'];}set['playing'](_0x4dc105){this['_playing']=_0x4dc105;}get['playing'](){return this['_playing'];}set['rootBone'](_0x3f9839){if(typeof _0x3f9839=='string'){const _0x241a77=this['entity']['root']['findByGuid'](_0x3f9839);v['assert'](_0x241a77,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x3f9839+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x241a77;}else _0x3f9839 instanceof We?this['_rootBone']=_0x3f9839:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x41ba2f){this['_stateGrap'+'h']=_0x41ba2f;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x1175a0){this['_layerIndi'+'ces']=_0x1175a0;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x50d7ca){this['_parameter'+'s']=_0x50d7ca;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0xa32915){this['_targets']=_0xa32915;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x1e9631=0x917+-0x187*-0x12+-0x2495;_0x1e9631<this['_layers']['length'];_0x1e9631++)if(!this['_layers'][_0x1e9631]['playable'])return!(0x10c4+0x4*0x595+-0x2717);return!(-0x99a+0xc1*-0x20+-0x21ba*-0x1);}get['baseLayer'](){return this['_layers']['length']>0x45b+0x19c8+-0x1e23?this['_layers'][-0x2441*0x1+-0x1f46+0x1*0x4387]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x5445b6){const _0x29bd29=this['animationA'+'ssets'],_0x24848b=this['layers']['map'](_0x4bc526=>_0x4bc526['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new mh(_0x5445b6['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x29bd29,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x199d63,_0x407db4)=>{_0x199d63['mask']=_0x24848b[_0x407db4];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x2ab2dc=Object['values'](this['_targets']);for(let _0x3b3ae0=-0x948+-0x20*0xe+0xb08;_0x3b3ae0<_0x2ab2dc['length'];_0x3b3ae0++)_0x2ab2dc[_0x3b3ae0]['dirty']=!(-0x2*0x12fd+-0x114a+-0x36*-0x106);}['_addLayer']({name:_0x27c667,states:_0x535e04,transitions:_0x3ac8de,weight:_0x136e73,mask:_0x168ea6,blendType:_0x223f4d}){let _0x30e6d9;this['rootBone']?_0x30e6d9=this['rootBone']:_0x30e6d9=this['entity'];const _0x1f2ae9=this['_layers']['length'],_0x42f941=new mi(this,_0x30e6d9,_0x27c667,_0x168ea6,_0x1f2ae9),_0x421ac1=new j0(_0x42f941),_0x35e0be=new HP(_0x421ac1,_0x535e04,_0x3ac8de,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new WP(_0x27c667,_0x35e0be,this,_0x136e73,_0x223f4d)),this['_layerIndi'+'ces'][_0x27c667]=_0x1f2ae9,this['_layers'][_0x1f2ae9];}['addLayer'](_0x43c183,_0x210a73,_0x4567eb,_0x304045){const _0x15f1ae=this['findAnimat'+'ionLayer'](_0x43c183);if(_0x15f1ae)return _0x15f1ae;const _0x2ba19b=[{'name':'START','speed':0x1}],_0x168f42=[];return this['_addLayer']({'name':_0x43c183,'states':_0x2ba19b,'transitions':_0x168f42,'weight':_0x210a73,'mask':_0x4567eb,'blendType':_0x304045});}['_assignPar'+'ameters'](_0x43f4b8){this['_parameter'+'s']={};const _0x19cc35=Object['keys'](_0x43f4b8['parameters']);for(let _0x2d9bc5=0x1f0b+0x1*-0x904+-0x1607;_0x2d9bc5<_0x19cc35['length'];_0x2d9bc5++){const _0x3d0b6d=_0x19cc35[_0x2d9bc5];this['_parameter'+'s'][_0x3d0b6d]={'type':_0x43f4b8['parameters'][_0x3d0b6d]['type'],'value':_0x43f4b8['parameters'][_0x3d0b6d]['value']};}}['loadStateG'+'raph'](_0x48b88d){this['_stateGrap'+'h']=_0x48b88d,this['_assignPar'+'ameters'](_0x48b88d),this['_layers']=[];let _0xd9cced=!(-0x11*-0xc5+0x25f3+-0x1*0x3307);for(let _0x904605=0x313*-0x9+-0x33*-0x90+-0x105;_0x904605<_0x48b88d['layers']['length'];_0x904605++){const _0x141d3c=_0x48b88d['layers'][_0x904605];this['_addLayer']({..._0x141d3c}),_0x141d3c['states']['some'](_0xdf9fc5=>_0xdf9fc5['blendTree'])&&(_0xd9cced=!(-0x1b89+0x1bad+-0x2*0x12));}_0xd9cced||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x3953e9=0x7*-0x4cf+-0x1331+0x34da;_0x3953e9<this['_layers']['length'];_0x3953e9++){const _0x4d8255=this['_layers'][_0x3953e9],_0x28fa81=_0x4d8255['name'];for(let _0x2d2d90=0x13e*0x16+-0x2*-0x91f+-0x1*0x2d92;_0x2d2d90<_0x4d8255['states']['length'];_0x2d2d90++){const _0x2c6295=_0x4d8255['states'][_0x2d2d90];if(jh['indexOf'](_0x2c6295)===-(0x23cb+0x2*-0x81a+-0x1396)){const _0x37357c=_0x28fa81+':'+_0x2c6295;this['_animation'+'Assets'][_0x37357c]||(this['_animation'+'Assets'][_0x37357c]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x1ed007=0x134e+-0x8b*-0x3e+-0x5*0xa98;_0x1ed007<this['_layers']['length'];_0x1ed007++){const _0x2844b8=this['_layers'][_0x1ed007];for(let _0x2b6c33=0x1*-0x1b6d+0xcb*0x7+0x15e0;_0x2b6c33<_0x2844b8['states']['length'];_0x2b6c33++){const _0x297e10=_0x2844b8['states'][_0x2b6c33];if(jh['indexOf'](_0x297e10)!==-(-0x7*-0x169+-0x2*0x5e7+0xf8*0x2))continue;const _0x2e16b4=this['_animation'+'Assets'][_0x2844b8['name']+':'+_0x297e10];if(!_0x2e16b4||!_0x2e16b4['asset']){this['findAnimat'+'ionLayer'](_0x2844b8['name'])['assignAnim'+'ation'](_0x297e10,Ri['EMPTY']);continue;}const _0x476914=_0x2e16b4['asset'],_0x52ee97=this['system']['app']['assets']['get'](_0x476914);_0x52ee97&&(_0x52ee97['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x2844b8['name'],_0x297e10,_0x52ee97):(_0x52ee97['once']('load',function(_0x261f67,_0x439641){return function(_0x12b646){this['onAnimatio'+'nAssetLoad'+'ed'](_0x261f67,_0x439641,_0x12b646);}['bind'](this);}['bind'](this)(_0x2844b8['name'],_0x297e10)),this['system']['app']['assets']['load'](_0x52ee97)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x399eeb,_0x44f680,_0x121a85){this['findAnimat'+'ionLayer'](_0x399eeb)['assignAnim'+'ation'](_0x44f680,_0x121a85['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x16f1+0x4*-0x20a+0x1f1a),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x5367f0=0x18df+0xe1*0x3+0x2*-0xdc1;_0x5367f0<this['_layers']['length'];_0x5367f0++){const _0x33c528=this['_layers'][_0x5367f0]['playing'];this['_layers'][_0x5367f0]['reset'](),this['_layers'][_0x5367f0]['playing']=_0x33c528;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x2c1c66=>{this['_targets'][_0x2c1c66]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x3bd6c4=-0x4d*-0x3b+-0x1fd*0x3+-0xbc8;_0x3bd6c4<this['_layers']['length'];_0x3bd6c4++)this['_layers'][_0x3bd6c4]['rebind']();}['findAnimat'+'ionLayer'](_0x1b16e4){const _0x41ddc5=this['_layerIndi'+'ces'][_0x1b16e4];return this['_layers'][_0x41ddc5]||null;}['addAnimati'+'onState'](_0x35915a,_0x25e992,_0x2dd706=-0x1*0x15b5+0x49*0x51+-0x47*0x5,_0x2b026f=!(-0x80f*-0x2+-0x220f+-0x5fb*-0x3),_0x496769='Base'){var _0x4c0366;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new mh({'layers':[{'name':_0x496769,'states':[{'name':'START','speed':0x1},{'name':_0x35915a,'speed':_0x2dd706,'loop':_0x2b026f,'defaultState':!(-0x363*-0x5+0x16e1*0x1+-0xe*0x2d8)}],'transitions':[{'from':'START','to':_0x35915a}]}],'parameters':{}}));const _0x219f8e=this['findAnimat'+'ionLayer'](_0x496769);_0x219f8e?_0x219f8e['assignAnim'+'ation'](_0x35915a,_0x25e992,_0x2dd706,_0x2b026f):(_0x4c0366=this['addLayer'](_0x496769))==null||_0x4c0366['assignAnim'+'ation'](_0x35915a,_0x25e992,_0x2dd706,_0x2b026f);}['assignAnim'+'ation'](_0x1945d2,_0x582fdd,_0x2ea410,_0x1c7e7f=0x1*-0x2216+-0x4*0x1c1+0x291b,_0x2e1742=!(-0x1256*-0x2+0x4*-0x9a0+0x1d4)){if(!this['_stateGrap'+'h']&&_0x1945d2['indexOf']('.')===-(0x88e+-0x1*-0x2050+-0x28dd)){this['loadStateG'+'raph'](new mh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x1945d2,'speed':_0x1c7e7f,'loop':_0x2e1742,'defaultState':!(-0x191a+0x26ed+-0xdd3)}],'transitions':[{'from':'START','to':_0x1945d2}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x1945d2,_0x582fdd);return;}const _0x2088a0=_0x2ea410?this['findAnimat'+'ionLayer'](_0x2ea410):this['baseLayer'];if(!_0x2088a0){v['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x2088a0['assignAnim'+'ation'](_0x1945d2,_0x582fdd,_0x1c7e7f,_0x2e1742);}['removeNode'+'Animations'](_0x5ef968,_0x342ed7){const _0x1da3f2=_0x342ed7?this['findAnimat'+'ionLayer'](_0x342ed7):this['baseLayer'];if(!_0x1da3f2){v['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x1da3f2['removeNode'+'Animations'](_0x5ef968);}['getParamet'+'erValue'](_0x5996d5,_0x19102b){const _0x29f025=this['_parameter'+'s'][_0x5996d5];if(_0x29f025&&_0x29f025['type']===_0x19102b)return _0x29f025['value'];v['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5996d5+('\x22\x20of\x20type\x20'+'\x22')+_0x19102b+'\x22');}['setParamet'+'erValue'](_0x2ed573,_0x4d3ea2,_0x24d0cc){const _0x47a943=this['_parameter'+'s'][_0x2ed573];if(_0x47a943&&_0x47a943['type']===_0x4d3ea2){_0x47a943['value']=_0x24d0cc;return;}v['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x2ed573+('\x22\x20of\x20type\x20'+'\x22')+_0x4d3ea2+'\x22');}['getFloat'](_0x55eaa4){return this['getParamet'+'erValue'](_0x55eaa4,Q_);}['setFloat'](_0x456479,_0x202f7d){this['setParamet'+'erValue'](_0x456479,Q_,_0x202f7d);}['getInteger'](_0x4de808){return this['getParamet'+'erValue'](_0x4de808,Z_);}['setInteger'](_0x1dbae1,_0x211c8a){typeof _0x211c8a=='number'&&_0x211c8a%(0x1a41+0xac9+-0x2509)===-0x7c0+-0x695*-0x4+-0x1294?this['setParamet'+'erValue'](_0x1dbae1,Z_,_0x211c8a):v['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x1dbae1,_0x211c8a);}['getBoolean'](_0x41e3d4){return this['getParamet'+'erValue'](_0x41e3d4,J_);}['setBoolean'](_0x3911b5,_0x1f277e){this['setParamet'+'erValue'](_0x3911b5,J_,!!_0x1f277e);}['getTrigger'](_0x213855){return this['getParamet'+'erValue'](_0x213855,ph);}['setTrigger'](_0x6f7f2b,_0x5b59a0=!(-0x125*0x1d+0x1188+-0x1*-0xfaa)){this['setParamet'+'erValue'](_0x6f7f2b,ph,!(-0x1c2a*-0x1+-0xbef+0x103b*-0x1)),_0x5b59a0&&this['_consumedT'+'riggers']['add'](_0x6f7f2b);}['resetTrigg'+'er'](_0x427dd3){this['setParamet'+'erValue'](_0x427dd3,ph,!(0x1d*-0x10b+0xc9b*0x3+-0x1*0x791));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x4b6b0d){for(let _0x2c032b=0x1a20+-0x19*0xe5+0x3c3*-0x1;_0x2c032b<this['layers']['length'];_0x2c032b++)this['layers'][_0x2c032b]['update'](_0x4b6b0d*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x39a9f5=>{this['parameters'][_0x39a9f5]['value']=!(0x2*0x1034+0x319*-0xb+0x6b*0x4);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x44ead8,_0x20a002){_0x44ead8['rootBone']&&_0x20a002[_0x44ead8['rootBone']['getGuid']()]?this['rootBone']=_0x20a002[_0x44ead8['rootBone']['getGuid']()]:this['rebind']();}}class $P{constructor(){this['enabled']=!(-0x18ab+-0x17e*0x3+-0x33d*-0x9);}}const tf=['enabled'];class qP extends Xe{constructor(_0x2e4514){super(_0x2e4514),this['id']='anim',this['ComponentT'+'ype']=Z0,this['DataType']=$P,this['schema']=tf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x49cf9f,_0x39e1f7,_0x5bb890){super['initialize'+'ComponentD'+'ata'](_0x49cf9f,_0x39e1f7,tf);const _0xef3925=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x39e1f7)['forEach'](_0xc3c554=>{_0xef3925['includes'](_0xc3c554)||(_0x49cf9f[_0xc3c554]=_0x39e1f7[_0xc3c554]);}),_0x39e1f7['stateGraph']&&(_0x49cf9f['stateGraph']=_0x39e1f7['stateGraph'],_0x49cf9f['loadStateG'+'raph'](_0x49cf9f['stateGraph'])),_0x39e1f7['layers']&&_0x39e1f7['layers']['forEach']((_0x57b6ee,_0x5aa222)=>{_0x57b6ee['_controlle'+'r']['states']['forEach'](_0x1d0a47=>{_0x57b6ee['_controlle'+'r']['_states'][_0x1d0a47]['_animation'+'List']['forEach'](_0x467937=>{if(!_0x467937['animTrack']||_0x467937['animTrack']===Ri['EMPTY']){const _0x1b585c=this['app']['assets']['get'](_0x57b6ee['_component']['_animation'+'Assets'][_0x57b6ee['name']+':'+_0x467937['name']]['asset']);_0x1b585c&&!_0x1b585c['loaded']&&_0x1b585c['once']('load',()=>{_0x49cf9f['layers'][_0x5aa222]['assignAnim'+'ation'](_0x467937['name'],_0x1b585c['resource']);});}else _0x49cf9f['layers'][_0x5aa222]['assignAnim'+'ation'](_0x467937['name'],_0x467937['animTrack']);});});}),_0x39e1f7['animationA'+'ssets']&&(_0x49cf9f['animationA'+'ssets']=Object['assign'](_0x49cf9f['animationA'+'ssets'],_0x39e1f7['animationA'+'ssets'])),_0x39e1f7['masks']&&Object['keys'](_0x39e1f7['masks'])['forEach'](_0x10a777=>{if(_0x49cf9f['layers'][_0x10a777]){const _0xd7b7af=_0x39e1f7['masks'][_0x10a777]['mask'],_0x194203={};Object['keys'](_0xd7b7af)['forEach'](_0x1781c3=>{_0x194203[decodeURI(_0x1781c3)]=_0xd7b7af[_0x1781c3];}),_0x49cf9f['layers'][_0x10a777]['mask']=_0x194203;}});}['onAnimatio'+'nUpdate'](_0x2d822a){const _0x402748=this['store'];for(const _0x3c927f in _0x402748)if(_0x402748['hasOwnProp'+'erty'](_0x3c927f)){const _0x2c989d=_0x402748[_0x3c927f]['entity']['anim'];_0x2c989d['data']['enabled']&&_0x2c989d['entity']['enabled']&&_0x2c989d['playing']&&_0x2c989d['update'](_0x2d822a);}}['cloneCompo'+'nent'](_0x20a342,_0x580c58){let _0x134379;(!_0x20a342['anim']['rootBone']||_0x20a342['anim']['rootBone']===_0x20a342)&&(_0x134379={},_0x20a342['anim']['layers']['forEach']((_0x362850,_0x33ed87)=>{if(_0x362850['mask']){const _0x3b5755={};Object['keys'](_0x362850['mask'])['forEach'](_0x492052=>{const _0x5d6ccc=_0x492052['split']('/');_0x5d6ccc['shift']();const _0x1826f4=[_0x580c58['name'],..._0x5d6ccc]['join']('/');_0x3b5755[_0x1826f4]=_0x362850['mask'][_0x492052];}),_0x134379[_0x33ed87]={'mask':_0x3b5755};}}));const _0x6e9779={'enabled':_0x20a342['anim']['enabled'],'stateGraphAsset':_0x20a342['anim']['stateGraph'+'Asset'],'animationAssets':_0x20a342['anim']['animationA'+'ssets'],'speed':_0x20a342['anim']['speed'],'activate':_0x20a342['anim']['activate'],'playing':_0x20a342['anim']['playing'],'rootBone':_0x20a342['anim']['rootBone'],'stateGraph':_0x20a342['anim']['stateGraph'],'layers':_0x20a342['anim']['layers'],'layerIndices':_0x20a342['anim']['layerIndic'+'es'],'parameters':_0x20a342['anim']['parameters'],'normalizeWeights':_0x20a342['anim']['normalizeW'+'eights'],'masks':_0x134379};return this['addCompone'+'nt'](_0x580c58,_0x6e9779);}['onBeforeRe'+'move'](_0x252b3e,_0x3a1b7c){_0x3a1b7c['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}ue['_buildAcce'+'ssors'](Z0['prototype'],tf);class Q0 extends ue{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x5f25d5=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x5f25d5);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class XP{constructor(){this['enabled']=!(-0x4*0x7eb+0x5*0x106+0x1a8e);}}const J0=['enabled'];class jP extends Xe{constructor(_0x2da780){super(_0x2da780),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Q0,this['DataType']=XP,this['schema']=J0,this['manager']=_0x2da780['soundManag'+'er'],v['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2d0142,_0x52d8c5,_0x58b365){_0x58b365=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x2d0142,_0x52d8c5,_0x58b365);}['onUpdate'](_0x758687){if(this['current']){const _0x559555=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x559555);const _0xa7c3d1=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0xa7c3d1);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Q0['prototype'],J0);const sf=-0x133*-0x7+-0x2*0x629+0x14f*0x3,tg=0x130d+-0x1*0x226d+0xf61,_h='group',rf='image',ex='text',gh='stretch',YP='contain',KP='cover',Ye={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},hl={};hl[Ye['DEFAULT']]='_defaultTi'+'nt',hl[Ye['HOVER']]='hoverTint',hl[Ye['PRESSED']]='pressedTin'+'t',hl[Ye['INACTIVE']]='inactiveTi'+'nt';const cl={};cl[Ye['DEFAULT']]='_defaultSp'+'riteAsset',cl[Ye['HOVER']]='hoverSprit'+'eAsset',cl[Ye['PRESSED']]='pressedSpr'+'iteAsset',cl[Ye['INACTIVE']]='inactiveSp'+'riteAsset';const dl={};dl[Ye['DEFAULT']]='_defaultSp'+'riteFrame',dl[Ye['HOVER']]='hoverSprit'+'eFrame',dl[Ye['PRESSED']]='pressedSpr'+'iteFrame',dl[Ye['INACTIVE']]='inactiveSp'+'riteFrame';class ct extends ue{constructor(_0x5542db,_0x26bc1b){super(_0x5542db,_0x26bc1b),c(this,'_visualSta'+'te',Ye['DEFAULT']),c(this,'_isHoverin'+'g',!(-0x192c+-0x3d0+0x1cfd)),c(this,'_hoveringC'+'ounter',-0x1*0xcf7+0xd69*-0x2+-0x69*-0x61),c(this,'_isPressed',!(0x12ab+-0x98a+0x8*-0x124)),c(this,'_defaultTi'+'nt',new Y(-0x1e2c+0x2618+-0x7eb,0x1*-0x1336+-0x22cb+-0x1be*-0x1f,-0xbd6*0x2+-0x139*-0x16+-0x339,0x1*0x641+0x76a+-0x42*0x35)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0xb84*-0x1+0x15d6+0xa52*-0x1),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Ye['DEFAULT'],this['_isHoverin'+'g']=!(-0x56c+0x50b+-0x62*-0x1),this['_hoveringC'+'ounter']=-0x11*-0x12d+0x18b+-0x1588,this['_isPressed']=!(-0xdaa+0x1c78+0x9*-0x1a5),this['_defaultTi'+'nt']=new Y(0x1220+-0x5*-0xe9+-0x16ac,0x194*0x11+-0x2108+0x635,0x1156+0x3ed+-0x1542,-0x186b+0x4e1+-0x1*-0x138b),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x841+0x7*0x161+-0x11e8,this['_toggleLif'+'ecycleList'+'eners']('on',_0x5542db));}get['data'](){const _0x1cdf1e=this['system']['store'][this['entity']['getGuid']()];return _0x1cdf1e?_0x1cdf1e['data']:null;}set['enabled'](_0x108b61){this['_setValue']('enabled',_0x108b61);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x284ab7){this['_setValue']('active',_0x284ab7);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x53af4f){if(this['_imageEnti'+'ty']!==_0x53af4f){const _0x1d3522=typeof _0x53af4f=='string';if(this['_imageEnti'+'ty']&&_0x1d3522&&this['_imageEnti'+'ty']['getGuid']()===_0x53af4f)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x53af4f instanceof De?this['_imageEnti'+'ty']=_0x53af4f:_0x1d3522?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x53af4f)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x1d3522&&_0x53af4f&&(this['data']['imageEntit'+'y']=_0x53af4f);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x54c901){this['_setValue']('hitPadding',_0x54c901);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x4b6241){this['_setValue']('transition'+'Mode',_0x4b6241);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x10f92f){this['_setValue']('hoverTint',_0x10f92f);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x2261ac){this['_setValue']('pressedTin'+'t',_0x2261ac);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x2ea6a7){this['_setValue']('inactiveTi'+'nt',_0x2ea6a7);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x42933a){this['_setValue']('fadeDurati'+'on',_0x42933a);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x4d0967){this['_setValue']('hoverSprit'+'eAsset',_0x4d0967);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x13a881){this['_setValue']('hoverSprit'+'eFrame',_0x13a881);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x52effa){this['_setValue']('pressedSpr'+'iteAsset',_0x52effa);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0xffb7ea){this['_setValue']('pressedSpr'+'iteFrame',_0xffb7ea);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x28be07){this['_setValue']('inactiveSp'+'riteAsset',_0x28be07);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x1a685b){this['_setValue']('inactiveSp'+'riteFrame',_0x1a685b);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x2df4e4,_0x113df4){const _0x102448=this['data'],_0x25fb33=_0x102448[_0x2df4e4];_0x102448[_0x2df4e4]=_0x113df4,this['fire']('set',_0x2df4e4,_0x25fb33,_0x113df4);}['_toggleLif'+'ecycleList'+'eners'](_0x50f94f,_0x18ba9d){var _0x26bf1b;this[_0x50f94f]('set_active',this['_onSetActi'+'ve'],this),this[_0x50f94f]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x50f94f]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x50f94f]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x50f94f==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x26bf1b=this['_evtElemen'+'tAdd'])==null||_0x26bf1b['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x484f9a,_0xd31631,_0x4eb38d){_0xd31631!==_0x4eb38d&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0xff1549,_0x2ae406,_0x58ae84){_0x2ae406!==_0x58ae84&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2ae406),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x48f1fd,_0x5efb65,_0x3389df){_0x5efb65!==_0x3389df&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x2fdfe8,_0x4264b8;(_0x2fdfe8=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x2fdfe8['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x4264b8=this['_imageEnti'+'ty'])!=null&&_0x4264b8['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x5cb544=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x5cb544['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x5cb544['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x5cb544['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x5cb544['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x5cb544['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x18e5f8,_0x59b556,_0x16018f,_0x394b74,_0x188d96;(_0x18e5f8=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x18e5f8['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x59b556=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x59b556['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x16018f=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x16018f['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x394b74=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x394b74['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x188d96=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x188d96['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x1f2fd4){if(this['entity']['element']){const _0x191250=_0x1f2fd4==='on';if(_0x191250&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x1f2fd4]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x1f2fd4]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x1f2fd4]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x1f2fd4]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x1f2fd4]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x1f2fd4]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x1f2fd4]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x1f2fd4]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x1f2fd4]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x1f2fd4]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x1f2fd4]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x1f2fd4]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x1f2fd4]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x1f2fd4]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x191250;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x1fa427;const _0xc604b7=(_0x1fa427=this['_imageEnti'+'ty'])==null?void(0xf1*-0x5+0x187d+-0x13c8):_0x1fa427['element'];!_0xc604b7||_0xc604b7['type']===_h||(this['_storeDefa'+'ultColor'](_0xc604b7['color']),this['_storeDefa'+'ultOpacity'](_0xc604b7['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0xc604b7['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0xc604b7['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0xe60bc8){this['_defaultTi'+'nt']['r']=_0xe60bc8['r'],this['_defaultTi'+'nt']['g']=_0xe60bc8['g'],this['_defaultTi'+'nt']['b']=_0xe60bc8['b'];}['_storeDefa'+'ultOpacity'](_0x93b634){this['_defaultTi'+'nt']['a']=_0x93b634;}['_storeDefa'+'ultSpriteA'+'sset'](_0x4c4e34){this['_defaultSp'+'riteAsset']=_0x4c4e34;}['_storeDefa'+'ultSpriteF'+'rame'](_0x21ca81){this['_defaultSp'+'riteFrame']=_0x21ca81;}['_onSetColo'+'r'](_0x29b288){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x29b288),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x1bf274){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x1bf274),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x44900e){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x44900e),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x20b434){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x20b434),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x56ad8a){this['_isHoverin'+'g']=!(0x486*-0x1+0x1*0x145a+-0xfd4),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x56ad8a);}['_onMouseLe'+'ave'](_0x26c7e1){this['_isHoverin'+'g']=!(-0x9f7*-0x1+0x1987+-0x73*0x4f),this['_isPressed']=!(-0xde6*0x1+-0x1*0x2dd+0x2*0x862),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x26c7e1);}['_onMouseDo'+'wn'](_0x3b4e50){this['_isPressed']=!(0x984+0x1*-0x15cd+0xc49),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x3b4e50);}['_onMouseUp'](_0x5d312e){this['_isPressed']=!(0x26c4*0x1+-0xbdb+-0x1ae8),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x5d312e);}['_onTouchSt'+'art'](_0x3eaaae){this['_isPressed']=!(0x2f*-0x7f+0x121f*0x1+0x532),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x3eaaae);}['_onTouchEn'+'d'](_0x58e032){_0x58e032['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x1bcb*0x1+0x1c9*-0x15+0x1b*0x26b),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x58e032);}['_onTouchLe'+'ave'](_0x1c2d05){this['_isPressed']=!(0x1ff8+0x118f+-0x841*0x6),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x1c2d05);}['_onTouchCa'+'ncel'](_0x230a6c){this['_isPressed']=!(-0x7ab*0x4+0x24a8*-0x1+-0x61f*-0xb),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x230a6c);}['_onSelectS'+'tart'](_0x35b806){this['_isPressed']=!(0x5a3*0x4+0x1*0x21c4+-0x3850),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x35b806);}['_onSelectE'+'nd'](_0xa71b55){this['_isPressed']=!(0x52*0x56+0x2*-0x6fe+0x59*-0x27),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0xa71b55);}['_onSelectE'+'nter'](_0x563c5e){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x1a27*0x1+-0x2644+0xc1e&&(this['_isHoverin'+'g']=!(-0x257e+0x20f5+0x489),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x563c5e);}['_onSelectL'+'eave'](_0x3ae589){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x2a*0x71+-0x2595+0x12b5*0x3&&(this['_isHoverin'+'g']=!(-0xa8a+0x1*0x1169+-0x6de),this['_isPressed']=!(0xeb*-0x1+0x10*0x1c1+-0x1b24),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x3ae589);}['_onClick'](_0x5ed925){this['_fireIfAct'+'ive']('click',_0x5ed925);}['_fireIfAct'+'ive'](_0x3d145b,_0x29e631){this['data']['active']&&this['fire'](_0x3d145b,_0x29e631);}['_updateVis'+'ualState'](_0x2c888c){const _0x202ede=this['_visualSta'+'te'],_0x20f3d3=this['_determine'+'VisualStat'+'e']();if((_0x202ede!==_0x20f3d3||_0x2c888c)&&this['enabled'])switch(this['_visualSta'+'te']=_0x20f3d3,_0x202ede===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x202ede===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x20f3d3===Ye['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x20f3d3===Ye['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case sf:{const _0x1be791=hl[this['_visualSta'+'te']],_0x5d013=this[_0x1be791];this['_applyTint'](_0x5d013);break;}case tg:{const _0x224455=cl[this['_visualSta'+'te']],_0x4bd78b=dl[this['_visualSta'+'te']],_0x53b595=this[_0x224455],_0x4399db=this[_0x4bd78b];this['_applySpri'+'te'](_0x53b595,_0x4399db);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x1062+0x2487+-0x1425));}['_resetToDe'+'faultVisua'+'lState'](_0x1d57c5){var _0x5b286a;if((_0x5b286a=this['_imageEnti'+'ty'])!=null&&_0x5b286a['element'])switch(_0x1d57c5){case sf:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case tg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Ye['PRESSED'];if(this['_isHoverin'+'g'])return Ye['HOVER'];}else return Ye['INACTIVE'];return Ye['DEFAULT'];}['_applySpri'+'te'](_0x40b65b,_0x2fff06){var _0x2d684f;const _0x5c04ae=(_0x2d684f=this['_imageEnti'+'ty'])==null?void(0x1f6a+-0x25*-0x4f+-0x2ad5):_0x2d684f['element'];_0x5c04ae&&(_0x2fff06=_0x2fff06||0x31*-0x5f+-0x5*-0x713+-0x1130,this['_isApplyin'+'gSprite']=!(0x55*0x39+0x1d6b+-0xb6*0x44),_0x5c04ae['spriteAsse'+'t']!==_0x40b65b&&(_0x5c04ae['spriteAsse'+'t']=_0x40b65b),_0x5c04ae['spriteFram'+'e']!==_0x2fff06&&(_0x5c04ae['spriteFram'+'e']=_0x2fff06),this['_isApplyin'+'gSprite']=!(0x1cf*0x1+0x21b0+-0xb*0x33a));}['_applyTint'](_0x25ddd7){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x4cb+0x1860+0x83*-0x39?this['_applyTint'+'Immediatel'+'y'](_0x25ddd7):this['_applyTint'+'WithTween'](_0x25ddd7);}['_applyTint'+'Immediatel'+'y'](_0x191a09){var _0x45a303;const _0x30787b=(_0x45a303=this['_imageEnti'+'ty'])==null?void(-0x7f+0xee*0x20+-0x1*0x1d41):_0x45a303['element'];if(!_0x191a09||!_0x30787b||_0x30787b['type']===_h)return;const _0x22829d=sg(_0x191a09);this['_isApplyin'+'gTint']=!(-0x1a8a+-0xcfe*-0x2+0x8e),_0x22829d['equals'](_0x30787b['color'])||(_0x30787b['color']=_0x22829d),_0x30787b['opacity']!==_0x191a09['a']&&(_0x30787b['opacity']=_0x191a09['a']),this['_isApplyin'+'gTint']=!(-0x2122+-0x1*0x2635+0xc*0x5f2);}['_applyTint'+'WithTween'](_0x4c1f8b){var _0x51f4fe;const _0x3bac98=(_0x51f4fe=this['_imageEnti'+'ty'])==null?void(-0x68b*0x5+0x3*-0x7f3+-0x50*-0xb5):_0x51f4fe['element'];if(!_0x4c1f8b||!_0x3bac98||_0x3bac98['type']===_h)return;const _0x34aa17=sg(_0x4c1f8b),_0x11f2cd=_0x3bac98['color'],_0x304d39=_0x3bac98['opacity'];_0x34aa17['equals'](_0x11f2cd)&&_0x4c1f8b['a']===_0x304d39||(this['_tweenInfo']={'startTime':ne(),'from':new Y(_0x11f2cd['r'],_0x11f2cd['g'],_0x11f2cd['b'],_0x304d39),'to':_0x4c1f8b['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x2bcc72=ne()-this['_tweenInfo']['startTime'];let _0x1d55d2=this['fadeDurati'+'on']===-0xb58+0x13a1+-0x849?-0x1*-0x305+0x2*0x317+-0x6b*0x16:_0x2bcc72/this['fadeDurati'+'on'];if(_0x1d55d2=N['clamp'](_0x1d55d2,-0x1231*0x1+0x253b+0x1*-0x130a,0xcf7*-0x1+0x1*0x7df+0x5*0x105),Math['abs'](_0x1d55d2-(-0x1b*-0xc7+0x879+-0x1d75))>-0x8*-0xf2+-0x4d9*0x6+0xbe*0x1d+0.00001){const _0x2159a2=this['_tweenInfo']['lerpColor'];_0x2159a2['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x1d55d2),this['_applyTint'+'Immediatel'+'y'](new Y(_0x2159a2['r'],_0x2159a2['g'],_0x2159a2['b'],_0x2159a2['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x1d1c+-0x147e+-0x89d),this['_hoveringC'+'ounter']=0x1306+0x1*-0xc88+-0x67e,this['_isPressed']=!(-0x13e1+0x1709+-0x327),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x41f968,_0x531bcb){_0x41f968['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x531bcb[_0x41f968['imageEntit'+'y']['getGuid']()]);}}c(ct,'EVENT_MOUS'+'EDOWN','mousedown'),c(ct,'EVENT_MOUS'+'EUP','mouseup'),c(ct,'EVENT_MOUS'+'EENTER','mouseenter'),c(ct,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(ct,'EVENT_CLIC'+'K','click'),c(ct,'EVENT_TOUC'+'HSTART','touchstart'),c(ct,'EVENT_TOUC'+'HEND','touchend'),c(ct,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(ct,'EVENT_TOUC'+'HLEAVE','touchleave'),c(ct,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ct,'EVENT_SELE'+'CTEND','selectend'),c(ct,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(ct,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(ct,'EVENT_HOVE'+'RSTART','hoverstart'),c(ct,'EVENT_HOVE'+'REND','hoverend'),c(ct,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(ct,'EVENT_PRES'+'SEDEND','pressedend');function sg(_0x24c9e8){return new Y(_0x24c9e8['r'],_0x24c9e8['g'],_0x24c9e8['b']);}class ZP{constructor(){this['enabled']=!(0x17d9+-0x3*0x870+-0x19*-0xf),this['active']=!(0x3*0x16+-0x1*-0x1f3d+-0x1f7f),this['imageEntit'+'y']=null,this['hitPadding']=new Q(),this['transition'+'Mode']=sf,this['hoverTint']=new Y(0x156c+-0x169e+0x132+0.75,-0xd86+0x1*-0x1cc6+-0x1*-0x2a4c+0.75,0xbe7+-0x69d+-0x2*0x2a5+0.75),this['pressedTin'+'t']=new Y(-0x48*0x52+0x1e3f+-0x72f+0.5,-0x7*-0x472+-0x76*0x1e+-0x1*0x114a+0.5,-0x40f*0x5+-0x202e+0x3479+0.5),this['inactiveTi'+'nt']=new Y(0x52*0x50+-0x1565+-0x1*0x43b+0.25,-0x14*0x13+0x23b5+-0x2239+0.25,0x7*-0x4bd+-0x2047+0x20b9*0x2+0.25),this['fadeDurati'+'on']=-0x15e0+0x1*-0x1ad5+-0x30b5*-0x1,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x25fd+-0x1864+0x1*0x3e61,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x13bd+0x1831+0x26*-0x1e,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x1ff6*0x1+-0x1*0x2225+0x421b;}}const ig=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class QP extends Xe{constructor(_0x3079a2){super(_0x3079a2),this['id']='button',this['ComponentT'+'ype']=ct,this['DataType']=ZP,this['schema']=ig,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x5bcd8d,_0x229b1c,_0x1cbefa){_0x5bcd8d['imageEntit'+'y']=_0x229b1c['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x5bcd8d,_0x229b1c,ig);}['onUpdate'](_0x39c8c1){const _0x3196be=this['store'];for(const _0x104e2e in _0x3196be){const _0x2f854b=_0x3196be[_0x104e2e]['entity'],_0xa14dc8=_0x2f854b['button'];_0xa14dc8['enabled']&&_0x2f854b['enabled']&&_0xa14dc8['onUpdate']();}}['_onRemoveC'+'omponent'](_0x586ab9,_0x5d4b04){_0x5d4b04['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const rg=new T(),ng=new se();class Yn extends ue{constructor(_0x19ee6c,_0x39d5bf){super(_0x19ee6c,_0x39d5bf),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0xfa1*-0x2+0x1*-0xb5f+-0x2*0x9f1)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0xa0f03=this['system']['store'][this['entity']['getGuid']()];return _0xa0f03?_0xa0f03['data']:null;}set['enabled'](_0x12c935){this['_setValue']('enabled',_0x12c935);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x46d151){this['_setValue']('type',_0x46d151);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x294ba1){this['_setValue']('halfExtent'+'s',_0x294ba1);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x3ddf90){this['_setValue']('linearOffs'+'et',_0x3ddf90);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x5a42b0){this['_setValue']('angularOff'+'set',_0x5a42b0);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x2fa072){this['_setValue']('radius',_0x2fa072);}get['radius'](){return this['data']['radius'];}set['axis'](_0x325c10){this['_setValue']('axis',_0x325c10);}get['axis'](){return this['data']['axis'];}set['height'](_0x5c9ec2){this['_setValue']('height',_0x5c9ec2);}get['height'](){return this['data']['height'];}set['asset'](_0x1a9fa4){this['_setValue']('asset',_0x1a9fa4);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x35e748){this['_setValue']('renderAsse'+'t',_0x35e748);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0xe5a88a){this['_setValue']('convexHull',_0xe5a88a);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x2c6e80){this['_setValue']('shape',_0x2c6e80);}get['shape'](){return this['data']['shape'];}set['model'](_0x41c634){this['_setValue']('model',_0x41c634);}get['model'](){return this['data']['model'];}set['render'](_0x420eea){this['_setValue']('render',_0x420eea);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x36029f){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x36029f);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x55761a,_0x3e7d57){const _0x277616=this['data'],_0x163620=_0x277616[_0x55761a];_0x277616[_0x55761a]=_0x3e7d57,this['fire']('set',_0x55761a,_0x163620,_0x3e7d57);}['onSetType'](_0x209492,_0x2c471e,_0x2e9673){_0x2c471e!==_0x2e9673&&this['system']['changeType'](this,_0x2c471e,_0x2e9673);}['onSetHalfE'+'xtents'](_0x36fa57,_0x183493,_0x2cf4b9){const _0x491759=this['data']['type'];this['data']['initialize'+'d']&&_0x491759==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x5f1ece,_0x346418,_0x59c1c8){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](T['ZERO'])||!this['data']['angularOff'+'set']['equals'](se['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x576d9f,_0x1a1d5f,_0x429e9d){const _0xefc29=this['data']['type'];this['data']['initialize'+'d']&&(_0xefc29==='sphere'||_0xefc29==='capsule'||_0xefc29==='cylinder'||_0xefc29==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x141566,_0x107819,_0x3e8124){const _0x483d15=this['data']['type'];this['data']['initialize'+'d']&&(_0x483d15==='capsule'||_0x483d15==='cylinder'||_0x483d15==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4109a2,_0xd2eec9,_0x4f21aa){const _0xdac1cb=this['data']['type'];this['data']['initialize'+'d']&&(_0xdac1cb==='capsule'||_0xdac1cb==='cylinder'||_0xdac1cb==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x427009,_0x52e683,_0x4d63aa){const _0x1b4bc9=this['system']['app']['assets'];if(_0x52e683){const _0x57e937=_0x1b4bc9['get'](_0x52e683);_0x57e937&&_0x57e937['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x4d63aa){_0x4d63aa instanceof le&&(this['data']['asset']=_0x4d63aa['id']);const _0x5467a2=_0x1b4bc9['get'](this['data']['asset']);_0x5467a2&&(_0x5467a2['off']('remove',this['onAssetRem'+'oved'],this),_0x5467a2['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4d63aa||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0xac90c8,_0x28f677,_0x265576){const _0xc2bad9=this['system']['app']['assets'];if(_0x28f677){const _0x2cf164=_0xc2bad9['get'](_0x28f677);_0x2cf164&&_0x2cf164['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x265576){_0x265576 instanceof le&&(this['data']['renderAsse'+'t']=_0x265576['id']);const _0x407662=_0xc2bad9['get'](this['data']['renderAsse'+'t']);_0x407662&&(_0x407662['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x407662['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x265576||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x5cba66,_0x17af3d,_0x2e34e6){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x1aec2a,_0x34e0f5,_0xf4382){this['onSetModel'](_0x1aec2a,_0x34e0f5,_0xf4382);}['onAssetRem'+'oved'](_0x16e896){_0x16e896['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x16e896['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x32b485){_0x32b485['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x32b485['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x5560c0){const _0x2638d1=this['data']['shape'],_0x3b7a01=_0x2638d1['getNumChil'+'dShapes']();for(let _0x4df723=-0x5ba+0xedc+-0x922;_0x4df723<_0x3b7a01;_0x4df723++){const _0x10caa2=_0x2638d1['getChildSh'+'ape'](_0x4df723);if(Ammo['getPointer'](_0x10caa2)===Ammo['getPointer'](_0x5560c0))return _0x4df723;}return null;}['_onInsert'](_0x4d4667){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x128456=this['entity']['parent'];for(;_0x128456;){if(_0x128456['collision']&&_0x128456['collision']['type']==='compound'){_0x128456['collision']['shape']['getNumChil'+'dShapes']()===0x300*0x7+-0x1d9f*-0x1+-0x329f?this['system']['recreatePh'+'ysicalShap'+'es'](_0x128456['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x128456=_0x128456['parent'];}}}}}['_updateCom'+'pound'](){const _0x12d36a=this['entity'];if(_0x12d36a['_dirtyWorl'+'d']){let _0x531017=_0x12d36a['_dirtyLoca'+'l'],_0x4eb23e=_0x12d36a;for(;_0x4eb23e&&!_0x531017&&!(_0x4eb23e['collision']&&_0x4eb23e['collision']===this['_compoundP'+'arent']);)_0x4eb23e['_dirtyLoca'+'l']&&(_0x531017=!(-0x623*0x2+0x2*-0x298+-0x1e*-0x95)),_0x4eb23e=_0x4eb23e['parent'];if(_0x531017){_0x12d36a['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x12d36a);const _0x208a78=this['_compoundP'+'arent']['entity']['rigidbody'];_0x208a78&&_0x208a78['activate']();}}}['getShapePo'+'sition'](){const _0x5ebda4=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x3de3e3=this['entity']['getRotatio'+'n'](),_0x1fffa6=this['data']['linearOffs'+'et'];return ng['copy'](_0x3de3e3)['transformV'+'ector'](_0x1fffa6,rg),rg['add'](_0x5ebda4);}return _0x5ebda4;}['getShapeRo'+'tation'](){const _0x54cc61=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ng['copy'](_0x54cc61)['mul'](this['data']['angularOff'+'set']):_0x54cc61;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x5610ae=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x5610ae&&(!_0x5610ae['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x5d1*0x5+0x59*-0x6e+0x929)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x43cf08=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x43cf08,this['data']['shape']),Ammo['destroy'](_0x43cf08),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Yn,'EVENT_CONT'+'ACT','contact'),c(Yn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Yn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Yn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Yn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class JP{constructor(){this['enabled']=!(0x4*-0x48c+-0x16a3+0x28d3),this['type']='box',this['halfExtent'+'s']=new T(-0x3e*0x27+0x1810+-0x2*0x74f+0.5,0x13fd+0x10c+-0x1509+0.5,0xa5e+0x1634+-0x2*0x1049+0.5),this['linearOffs'+'et']=new T(),this['angularOff'+'set']=new se(),this['radius']=-0x6a1*-0x4+0x610*0x1+-0x2094+0.5,this['axis']=0x1dba+-0x1f1e+0x3*0x77,this['height']=0x1ec2+0x6+-0x1a*0x12f,this['convexHull']=!(0x2184+0x95d+-0xe*0x310),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x401+-0x1*-0x1d5c+-0x215d),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0xeb6+0x87a+-0x172f);}}const so='static',ms='dynamic',Bn='kinematic',eR=-0x8*-0x24e+0x32*-0x13+-0xeb8,lo=0x3*-0xb65+-0x237b+0x45ae,nf=0x159b+-0x1c85+0x6eb,ag=-0x1dc6+-0x1*-0xaa9+-0x3b*-0x53,tx=-0x2*-0xd48+-0x202+-0x1*0x1889,tR=0x1*-0x1906+0xee2+0xa25,og=0xcae*0x3+-0x1+-0x3b*0xa5,sR=-0x173+0x1c09+-0x1a92,lg=-0x3*-0x4f4+0xe44+0x6*-0x4d8,hg=-0x1*0x196d3+0x2*0xec95+-0x242*-0x54,af=0xa957+0x96f8*0x1+-0x2*0x2029;let _s,Er,Nn;class sx{constructor(_0x26b8af,_0x81a04a,_0x537a7b){this['entity']=_0x81a04a['entity'],this['component']=_0x81a04a,this['app']=_0x26b8af,typeof Ammo<'u'&&!_s&&(_s=new Ammo['btVector3'](),Er=new Ammo['btQuaterni'+'on'](),Nn=new Ammo['btTransfor'+'m']()),this['initialize'](_0x537a7b);}['initialize'](_0x319d5f){const _0x3aeca5=this['entity'],_0x319601=_0x319d5f['shape'];if(_0x319601&&typeof Ammo<'u'){_0x3aeca5['trigger']&&_0x3aeca5['trigger']['destroy']();const _0x285b47=0x836+0x2*-0x48e+0xe7,_0x28abc8=this['component'];if(_0x28abc8){const _0x22ed87=_0x28abc8['getShapePo'+'sition'](),_0x338e57=_0x28abc8['getShapeRo'+'tation']();_s['setValue'](_0x22ed87['x'],_0x22ed87['y'],_0x22ed87['z']),Er['setValue'](_0x338e57['x'],_0x338e57['y'],_0x338e57['z'],_0x338e57['w']);}else{const _0x37d808=_0x3aeca5['getPositio'+'n'](),_0x5b3e58=_0x3aeca5['getRotatio'+'n']();_s['setValue'](_0x37d808['x'],_0x37d808['y'],_0x37d808['z']),Er['setValue'](_0x5b3e58['x'],_0x5b3e58['y'],_0x5b3e58['z'],_0x5b3e58['w']);}Nn['setOrigin'](_s),Nn['setRotatio'+'n'](Er);const _0xa3a80d=this['app']['systems']['rigidbody']['createBody'](_0x285b47,_0x319601,Nn);_0xa3a80d['setRestitu'+'tion'](0x13*0x53+-0x2*0xfc7+0x1965),_0xa3a80d['setFrictio'+'n'](-0x3d6*-0x9+0x26b*0x1+-0x24f1),_0xa3a80d['setDamping'](-0x2*0x962+-0x2d3+0x1597,0x26dd+-0x1a28+-0xcb5),_s['setValue'](0x3*-0x277+0x1*0xeda+-0x775,-0x17c8+-0x1560+0x2d28,0xb32+-0xf7f*0x1+0x44d),_0xa3a80d['setLinearF'+'actor'](_s),_0xa3a80d['setAngular'+'Factor'](_s),_0xa3a80d['setCollisi'+'onFlags'](_0xa3a80d['getCollisi'+'onFlags']()|lo),_0xa3a80d['entity']=_0x3aeca5,this['body']=_0xa3a80d,this['component']['enabled']&&_0x3aeca5['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x4c8acb){const _0x39a834=this['component'];if(_0x39a834){const _0x453f8c=_0x39a834['getShapePo'+'sition'](),_0x3d769d=_0x39a834['getShapeRo'+'tation']();_s['setValue'](_0x453f8c['x'],_0x453f8c['y'],_0x453f8c['z']),Er['setValue'](_0x3d769d['x'],_0x3d769d['y'],_0x3d769d['z'],_0x3d769d['w']);}else{const _0x2ad939=this['entity']['getPositio'+'n'](),_0x39b568=this['entity']['getRotatio'+'n']();_s['setValue'](_0x2ad939['x'],_0x2ad939['y'],_0x2ad939['z']),Er['setValue'](_0x39b568['x'],_0x39b568['y'],_0x39b568['z'],_0x39b568['w']);}_0x4c8acb['setOrigin'](_s),_0x4c8acb['setRotatio'+'n'](Er);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Nn);const _0x54477e=this['body'];_0x54477e['setWorldTr'+'ansform'](Nn),_0x54477e['activate']();}['enable'](){const _0x1154cd=this['body'];if(!_0x1154cd)return;const _0x1fdac6=this['app']['systems']['rigidbody'];_0x1fdac6['_triggers']['indexOf'](this)<-0x1*-0x10c7+-0x9b1*0x1+0x2*-0x38b&&(_0x1fdac6['addBody'](_0x1154cd,lg,af^lg),_0x1fdac6['_triggers']['push'](this)),_0x1154cd['forceActiv'+'ationState'](nf),this['updateTran'+'sform']();}['disable'](){const _0xf8009f=this['body'];if(!_0xf8009f)return;const _0x2e9006=this['app']['systems']['rigidbody'],_0x122280=_0x2e9006['_triggers']['indexOf'](this);_0x122280>-(-0x61e+-0xe9*0x17+0x1b0e)&&(_0x2e9006['removeBody'](_0xf8009f),_0x2e9006['_triggers']['splice'](_0x122280,0xd*-0x2b3+-0x241a+0x4732)),_0xf8009f['forceActiv'+'ationState'](tx);}}const Xl=new q(),iR=new T(),rR=new T(),Cr=new se(),cg=new De(),nR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class xn{constructor(_0x48fd04){this['system']=_0x48fd04;}['beforeInit'+'ialize'](_0x437b73,_0x3d2a64){_0x3d2a64['shape']=null,_0x3d2a64['model']=new Oi(),_0x3d2a64['model']['graph']=new De();}['afterIniti'+'alize'](_0x163f34,_0x58b4b0){this['recreatePh'+'ysicalShap'+'es'](_0x163f34),_0x163f34['data']['initialize'+'d']=!(0x20dd+0x12cf+-0x33ac);}['reset'](_0x5ede74,_0x13469c){this['beforeInit'+'ialize'](_0x5ede74,_0x13469c),this['afterIniti'+'alize'](_0x5ede74,_0x13469c);}['recreatePh'+'ysicalShap'+'es'](_0x51e3e0){const _0x3d86a8=_0x51e3e0['entity'],_0x2d56a1=_0x51e3e0['data'];if(typeof Ammo<'u'){_0x3d86a8['trigger']&&(_0x3d86a8['trigger']['destroy'](),delete _0x3d86a8['trigger']),_0x2d56a1['shape']&&(_0x51e3e0['_compoundP'+'arent']&&(_0x51e3e0!==_0x51e3e0['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x51e3e0['_compoundP'+'arent'],_0x2d56a1['shape']),_0x51e3e0['_compoundP'+'arent']['entity']['rigidbody']&&_0x51e3e0['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x2d56a1)),_0x2d56a1['shape']=this['createPhys'+'icalShape'](_0x51e3e0['entity'],_0x2d56a1);const _0x41a33c=!_0x51e3e0['_compoundP'+'arent'];if(_0x2d56a1['type']==='compound'&&(!_0x51e3e0['_compoundP'+'arent']||_0x51e3e0===_0x51e3e0['_compoundP'+'arent']))_0x51e3e0['_compoundP'+'arent']=_0x51e3e0,_0x3d86a8['forEach'](this['_addEachDe'+'scendant'],_0x51e3e0);else{if(_0x2d56a1['type']!=='compound'&&!_0x51e3e0['rigidbody']){_0x51e3e0['_compoundP'+'arent']=null;let _0x52f61b=_0x3d86a8['parent'];for(;_0x52f61b;){if(_0x52f61b['collision']&&_0x52f61b['collision']['type']==='compound'){_0x51e3e0['_compoundP'+'arent']=_0x52f61b['collision'];break;}_0x52f61b=_0x52f61b['parent'];}}}_0x51e3e0['_compoundP'+'arent']&&_0x51e3e0!==_0x51e3e0['_compoundP'+'arent']&&(_0x41a33c&&_0x51e3e0['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x126*0x5+0x3*-0x2fe+-0x33c*-0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x51e3e0['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x3d86a8,!(-0x76b+0xcc6*0x2+0x297*-0x7)),_0x51e3e0['_compoundP'+'arent']['entity']['rigidbody']&&_0x51e3e0['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x3d86a8['rigidbody']?(_0x3d86a8['rigidbody']['disableSim'+'ulation'](),_0x3d86a8['rigidbody']['createBody'](),_0x3d86a8['enabled']&&_0x3d86a8['rigidbody']['enabled']&&_0x3d86a8['rigidbody']['enableSimu'+'lation']()):_0x51e3e0['_compoundP'+'arent']||(_0x3d86a8['trigger']?_0x3d86a8['trigger']['initialize'](_0x2d56a1):_0x3d86a8['trigger']=new sx(this['system']['app'],_0x51e3e0,_0x2d56a1));}}['createPhys'+'icalShape'](_0xc34259,_0x2f549c){}['updateTran'+'sform'](_0x144766,_0xe931ae,_0x110337,_0x233e76){_0x144766['entity']['trigger']&&_0x144766['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x3e93bb){_0x3e93bb['shape']&&(Ammo['destroy'](_0x3e93bb['shape']),_0x3e93bb['shape']=null);}['beforeRemo'+'ve'](_0x582026,_0x411f66){_0x411f66['data']['shape']&&(_0x411f66['_compoundP'+'arent']&&!_0x411f66['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x411f66['_compoundP'+'arent'],_0x411f66['data']['shape']),_0x411f66['_compoundP'+'arent']['entity']['rigidbody']&&_0x411f66['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x411f66['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x411f66['data']));}['remove'](_0x22fa73,_0x18b8a1){_0x22fa73['rigidbody']&&_0x22fa73['rigidbody']['body']&&_0x22fa73['rigidbody']['disableSim'+'ulation'](),_0x22fa73['trigger']&&(_0x22fa73['trigger']['destroy'](),delete _0x22fa73['trigger']);}['clone'](_0x45fe1f,_0x4d1cfb){const _0x1a8e96=this['system']['store'][_0x45fe1f['getGuid']()],_0x151cf5={'enabled':_0x1a8e96['data']['enabled'],'type':_0x1a8e96['data']['type'],'halfExtents':[_0x1a8e96['data']['halfExtent'+'s']['x'],_0x1a8e96['data']['halfExtent'+'s']['y'],_0x1a8e96['data']['halfExtent'+'s']['z']],'linearOffset':[_0x1a8e96['data']['linearOffs'+'et']['x'],_0x1a8e96['data']['linearOffs'+'et']['y'],_0x1a8e96['data']['linearOffs'+'et']['z']],'angularOffset':[_0x1a8e96['data']['angularOff'+'set']['x'],_0x1a8e96['data']['angularOff'+'set']['y'],_0x1a8e96['data']['angularOff'+'set']['z'],_0x1a8e96['data']['angularOff'+'set']['w']],'radius':_0x1a8e96['data']['radius'],'axis':_0x1a8e96['data']['axis'],'height':_0x1a8e96['data']['height'],'convexHull':_0x1a8e96['data']['convexHull'],'asset':_0x1a8e96['data']['asset'],'renderAsset':_0x1a8e96['data']['renderAsse'+'t'],'model':_0x1a8e96['data']['model'],'render':_0x1a8e96['data']['render'],'checkVertexDuplicates':_0x1a8e96['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x4d1cfb,_0x151cf5);}}class aR extends xn{['createPhys'+'icalShape'](_0x334add,_0x47068d){if(typeof Ammo<'u'){const _0x1b4b5c=_0x47068d['halfExtent'+'s'],_0x43189d=new Ammo['btVector3'](_0x1b4b5c?_0x1b4b5c['x']:-0xb1f*-0x3+-0x9*-0x3ad+-0x69*0xa2+0.5,_0x1b4b5c?_0x1b4b5c['y']:0x179*-0x16+-0x9*-0x1f9+0xea5+0.5,_0x1b4b5c?_0x1b4b5c['z']:0x1400+-0x1e01+-0xd*-0xc5+0.5),_0x4306d4=new Ammo['btBoxShape'](_0x43189d);return Ammo['destroy'](_0x43189d),_0x4306d4;}}}class oR extends xn{['createPhys'+'icalShape'](_0x5a882b,_0x2d5415){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x2d5415['radius']);}}class lR extends xn{['createPhys'+'icalShape'](_0x332f29,_0x3611a9){const _0x3937f1=_0x3611a9['axis']??-0x1*0x1931+-0x1f50+0x3882,_0x559343=_0x3611a9['radius']??-0x229*0xa+-0x1*-0xcf9+0x8a1*0x1+0.5,_0x3bc2ab=Math['max']((_0x3611a9['height']??-0x1*0x883+0x40+0x1*0x845)-(-0x2072+0x1*0xfb3+-0x10c1*-0x1)*_0x559343,0x1052*0x1+0x2319+-0x336b);let _0x4558f4=null;if(typeof Ammo<'u')switch(_0x3937f1){case 0x9*0x3a5+0x1*-0x1a91+-0x10a*0x6:_0x4558f4=new Ammo['btCapsuleS'+'hapeX'](_0x559343,_0x3bc2ab);break;case-0x2de*-0x6+0x1d2a+-0x8f*0x53:_0x4558f4=new Ammo['btCapsuleS'+'hape'](_0x559343,_0x3bc2ab);break;case-0x6b3*0x1+-0xdd*-0x1d+-0x45*0x44:_0x4558f4=new Ammo['btCapsuleS'+'hapeZ'](_0x559343,_0x3bc2ab);break;}return _0x4558f4;}}class hR extends xn{['createPhys'+'icalShape'](_0x16ecc9,_0x339b0e){const _0x2e520e=_0x339b0e['axis']??0x11d1*-0x1+-0x12ee*-0x1+0x4*-0x47,_0x47798d=_0x339b0e['radius']??0x269*-0x2+0x36f*0x6+0x3f2*-0x4+0.5,_0x520c4f=_0x339b0e['height']??0x81a+0x462+0x429*-0x3;let _0x44a93f=null,_0x39ae92=null;if(typeof Ammo<'u')switch(_0x2e520e){case 0xc94+-0x1e4c+0x11b8:_0x44a93f=new Ammo['btVector3'](_0x520c4f*(-0x1613*-0x1+-0x8b*-0x27+-0x2b40+0.5),_0x47798d,_0x47798d),_0x39ae92=new Ammo['btCylinder'+'ShapeX'](_0x44a93f);break;case 0x2367+0x22e8+0x464e*-0x1:_0x44a93f=new Ammo['btVector3'](_0x47798d,_0x520c4f*(0x1ddc+0x2*-0xaf9+0x1*-0x7ea+0.5),_0x47798d),_0x39ae92=new Ammo['btCylinder'+'Shape'](_0x44a93f);break;case-0xff5+0x6*-0x2af+-0x1*-0x2011:_0x44a93f=new Ammo['btVector3'](_0x47798d,_0x47798d,_0x520c4f*(-0x2047+-0x10a7+0x30ee+0.5)),_0x39ae92=new Ammo['btCylinder'+'ShapeZ'](_0x44a93f);break;}return _0x44a93f&&Ammo['destroy'](_0x44a93f),_0x39ae92;}}class cR extends xn{['createPhys'+'icalShape'](_0x2f12aa,_0xa3ea64){const _0xf0d862=_0xa3ea64['axis']??-0x1*-0x1c48+0x1*0xe8f+-0x2ad6*0x1,_0x2e31e9=_0xa3ea64['radius']??0x19f6+-0x142a+0x6a*-0xe+0.5,_0xda59ab=_0xa3ea64['height']??-0x1c60*0x1+0x26f4+-0x1*0xa93;let _0x6913de=null;if(typeof Ammo<'u')switch(_0xf0d862){case 0x210b+-0x13b9+-0xd52:_0x6913de=new Ammo['btConeShap'+'eX'](_0x2e31e9,_0xda59ab);break;case-0x3*-0x32b+-0x2645+0x1cc5:_0x6913de=new Ammo['btConeShap'+'e'](_0x2e31e9,_0xda59ab);break;case-0x88a+-0x1*-0xbb0+-0x6*0x86:_0x6913de=new Ammo['btConeShap'+'eZ'](_0x2e31e9,_0xda59ab);break;}return _0x6913de;}}class dR extends xn{['beforeInit'+'ialize'](_0x423514,_0x35f7aa){}['createAmmo'+'Hull'](_0x918451,_0x2f2fd4,_0x12a463,_0x1868d5){const _0x11a31e=new Ammo['btConvexHu'+'llShape'](),_0x544e7f=new Ammo['btVector3'](),_0x59409d=[];_0x918451['getPositio'+'ns'](_0x59409d);for(let _0x1fae2b=-0x3*0x34a+0x66b*0x3+0x321*-0x3;_0x1fae2b<_0x59409d['length'];_0x1fae2b+=0x113f+-0x2401+0x12c5)_0x544e7f['setValue'](_0x59409d[_0x1fae2b]*_0x1868d5['x'],_0x59409d[_0x1fae2b+(0x5d*-0x1a+0x282+-0x6f1*-0x1)]*_0x1868d5['y'],_0x59409d[_0x1fae2b+(0x1d0e+-0xd9+-0x1c33)]*_0x1868d5['z']),_0x11a31e['addPoint'](_0x544e7f,!(-0xe39+0xb52+0x2e8));Ammo['destroy'](_0x544e7f),_0x11a31e['recalcLoca'+'lAabb'](),_0x11a31e['setMargin'](-0x17*0x97+-0x3cb*-0x1+0x9c6+0.01);const _0x2866d1=this['system']['_getNodeTr'+'ansform'](_0x2f2fd4);_0x12a463['addChildSh'+'ape'](_0x2866d1,_0x11a31e),Ammo['destroy'](_0x2866d1);}['createAmmo'+'Mesh'](_0x22cc65,_0x540298,_0x22ae31,_0x177704,_0x1a2879=!(-0x104d+0x1288+-0x23b)){const _0x13889d=this['system'];let _0x16aa01;if(_0x13889d['_triMeshCa'+'che'][_0x22cc65['id']])_0x16aa01=_0x13889d['_triMeshCa'+'che'][_0x22cc65['id']];else{const _0x1da304=_0x22cc65['vertexBuff'+'er'],_0x3fbf6e=_0x1da304['getFormat']();let _0x5c43aa,_0x533efe;for(let _0x200861=-0x8*0x51+-0xfc3*-0x2+-0x1cfe;_0x200861<_0x3fbf6e['elements']['length'];_0x200861++){const _0x5d979e=_0x3fbf6e['elements'][_0x200861];if(_0x5d979e['name']===He){_0x533efe=new Float32Array(_0x1da304['lock'](),_0x5d979e['offset']),_0x5c43aa=_0x5d979e['stride']/(-0x990+0x17*-0xbf+-0x25*-0xb9);break;}}const _0x122b96=[];_0x22cc65['getIndices'](_0x122b96);const _0x22d32b=_0x22cc65['primitive'][0x14d*-0x1a+-0x1270+0x1*0x3442]['count']/(0x244*-0xd+-0xb35*0x2+0x33e1),_0x198076=new Ammo['btVector3']();let _0x13c733,_0x43e6bc,_0x3bd53b;const _0x404d99=_0x22cc65['primitive'][0xc7d*0x1+0xeee+-0x1b6b]['base'];_0x16aa01=new Ammo['btTriangle'+'Mesh'](),_0x13889d['_triMeshCa'+'che'][_0x22cc65['id']]=_0x16aa01;const _0x3d9309=new Map();v['assert'](typeof _0x16aa01['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x47195e=_0x16aa01['getIndexed'+'MeshArray']();_0x47195e['at'](-0x1a83*-0x1+-0x321+0x1*-0x1762)['m_numTrian'+'gles']=_0x22d32b;const _0x7fb247=_0x177704?_0x177704['x']:-0x2*-0x961+-0x17c*-0x7+-0x1d25,_0x46a072=_0x177704?_0x177704['y']:0x55d+-0x42d*0x1+0x12f*-0x1,_0x3dff67=_0x177704?_0x177704['z']:0x1*0x2242+-0x4c5+-0x1d7c,_0x22eb19=_0x770837=>{const _0x1076ca=_0x533efe[_0x770837*_0x5c43aa]*_0x7fb247,_0x2c84c4=_0x533efe[_0x770837*_0x5c43aa+(0x13*0x9e+0x6*0x472+0x2665*-0x1)]*_0x46a072,_0x4bf9f6=_0x533efe[_0x770837*_0x5c43aa+(-0x1*-0x1ddd+0x976+-0x2751)]*_0x3dff67;let _0xe7fc45;if(_0x1a2879){const _0x4a78ce=_0x1076ca+':'+_0x2c84c4+':'+_0x4bf9f6;if(_0xe7fc45=_0x3d9309['get'](_0x4a78ce),_0xe7fc45!==void(-0x2b4*-0x1+0x5*0x2c7+0x1*-0x1097))return _0xe7fc45;_0x198076['setValue'](_0x1076ca,_0x2c84c4,_0x4bf9f6),_0xe7fc45=_0x16aa01['findOrAddV'+'ertex'](_0x198076,!(0x538+-0x150b+0xfd4)),_0x3d9309['set'](_0x4a78ce,_0xe7fc45);}else _0x198076['setValue'](_0x1076ca,_0x2c84c4,_0x4bf9f6),_0xe7fc45=_0x16aa01['findOrAddV'+'ertex'](_0x198076,!(0x82c+-0x15c2+0xd97));return _0xe7fc45;};for(let _0x51f14c=-0x503*-0x2+0xbe5+-0x15eb;_0x51f14c<_0x22d32b;_0x51f14c++)_0x13c733=_0x22eb19(_0x122b96[_0x404d99+_0x51f14c*(-0xa2a+-0x11a7+0x1bd4)]),_0x43e6bc=_0x22eb19(_0x122b96[_0x404d99+_0x51f14c*(-0xd01*0x3+0x6ef+0x2017)+(0x2517+0x15cf*0x1+-0x3ae5)]),_0x3bd53b=_0x22eb19(_0x122b96[_0x404d99+_0x51f14c*(0xcd0+0x5*0x2b9+-0x1a6a)+(0x1ac1+-0x5ae+-0x1511*0x1)]),_0x16aa01['addIndex'](_0x13c733),_0x16aa01['addIndex'](_0x43e6bc),_0x16aa01['addIndex'](_0x3bd53b);Ammo['destroy'](_0x198076);}const _0x24e936=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x16aa01,!(0x155b+-0x1552*0x1+-0x1*0x9));if(!_0x177704){const _0x3264c8=_0x13889d['_getNodeSc'+'aling'](_0x540298);_0x24e936['setLocalSc'+'aling'](_0x3264c8),Ammo['destroy'](_0x3264c8);}const _0x24346b=_0x13889d['_getNodeTr'+'ansform'](_0x540298);_0x22ae31['addChildSh'+'ape'](_0x24346b,_0x24e936),Ammo['destroy'](_0x24346b);}['createPhys'+'icalShape'](_0x26d3df,_0x376d28){if(!(typeof Ammo>'u')&&(_0x376d28['model']||_0x376d28['render'])){const _0x224cac=new Ammo['btCompound'+'Shape'](),_0x2b8980=_0x26d3df['getWorldTr'+'ansform']()['getScale']();if(_0x376d28['render']){const _0x5bdb98=_0x376d28['render']['meshes'];for(let _0x2a863a=-0x1*-0xc4f+0x10d9+0x3a5*-0x8;_0x2a863a<_0x5bdb98['length'];_0x2a863a++)_0x376d28['convexHull']?this['createAmmo'+'Hull'](_0x5bdb98[_0x2a863a],cg,_0x224cac,_0x2b8980):this['createAmmo'+'Mesh'](_0x5bdb98[_0x2a863a],cg,_0x224cac,_0x2b8980,_0x376d28['checkVerte'+'xDuplicate'+'s']);}else{if(_0x376d28['model']){const _0x5c3069=_0x376d28['model']['meshInstan'+'ces'];for(let _0x52ef18=-0x21b3+0x11ca+-0x1*-0xfe9;_0x52ef18<_0x5c3069['length'];_0x52ef18++)this['createAmmo'+'Mesh'](_0x5c3069[_0x52ef18]['mesh'],_0x5c3069[_0x52ef18]['node'],_0x224cac,null,_0x376d28['checkVerte'+'xDuplicate'+'s']);const _0x57db0a=new Ammo['btVector3'](_0x2b8980['x'],_0x2b8980['y'],_0x2b8980['z']);_0x224cac['setLocalSc'+'aling'](_0x57db0a),Ammo['destroy'](_0x57db0a);}}return _0x224cac;}}['recreatePh'+'ysicalShap'+'es'](_0x3b4ea4){const _0x5cc86f=_0x3b4ea4['data'];if((_0x5cc86f['renderAsse'+'t']||_0x5cc86f['asset'])&&_0x3b4ea4['enabled']&&_0x3b4ea4['entity']['enabled']){this['loadAsset'](_0x3b4ea4,_0x5cc86f['renderAsse'+'t']||_0x5cc86f['asset'],_0x5cc86f['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3b4ea4);}['loadAsset'](_0xdbf53b,_0xe7293a,_0x141cf3){const _0x2bca88=_0xdbf53b['data'],_0x53f90c=this['system']['app']['assets'],_0x305d7c=_0x2bca88[_0x141cf3],_0x11a100=_0x844823=>{_0x2bca88[_0x141cf3]===_0x305d7c&&(_0x2bca88[_0x141cf3]=_0x844823['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0xdbf53b));},_0x10f076=_0x49df7e=>{_0x49df7e['ready'](_0x5b03a6=>{if(_0x5b03a6['data']['containerA'+'sset']){const _0x2c5e49=_0x53f90c['get'](_0x5b03a6['data']['containerA'+'sset']);_0x2c5e49['loaded']?_0x11a100(_0x5b03a6):(_0x2c5e49['ready'](()=>{_0x11a100(_0x5b03a6);}),_0x53f90c['load'](_0x2c5e49));}else _0x11a100(_0x5b03a6);}),_0x53f90c['load'](_0x49df7e);},_0x1f7ec9=_0x53f90c['get'](_0xe7293a);_0x1f7ec9?_0x10f076(_0x1f7ec9):_0x53f90c['once']('add:'+_0xe7293a,_0x10f076);}['doRecreate'+'PhysicalSh'+'ape'](_0x4cd9a6){const _0x43a5e1=_0x4cd9a6['entity'],_0x398b31=_0x4cd9a6['data'];_0x398b31['model']||_0x398b31['render']?(this['destroySha'+'pe'](_0x398b31),_0x398b31['shape']=this['createPhys'+'icalShape'](_0x43a5e1,_0x398b31),_0x43a5e1['rigidbody']?(_0x43a5e1['rigidbody']['disableSim'+'ulation'](),_0x43a5e1['rigidbody']['createBody'](),_0x43a5e1['enabled']&&_0x43a5e1['rigidbody']['enabled']&&_0x43a5e1['rigidbody']['enableSimu'+'lation']()):_0x43a5e1['trigger']?_0x43a5e1['trigger']['initialize'](_0x398b31):_0x43a5e1['trigger']=new sx(this['system']['app'],_0x4cd9a6,_0x398b31)):(this['beforeRemo'+'ve'](_0x43a5e1,_0x4cd9a6),this['remove'](_0x43a5e1,_0x398b31));}['updateTran'+'sform'](_0x2fd0b4,_0x14ea33,_0x4950ca,_0x41f93e){if(_0x2fd0b4['shape']){const _0x145d89=_0x2fd0b4['entity']['getWorldTr'+'ansform']()['getScale'](),_0x4a4793=_0x2fd0b4['shape']['getLocalSc'+'aling']();(_0x145d89['x']!==_0x4a4793['x']()||_0x145d89['y']!==_0x4a4793['y']()||_0x145d89['z']!==_0x4a4793['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x2fd0b4);}super['updateTran'+'sform'](_0x2fd0b4,_0x14ea33,_0x4950ca,_0x41f93e);}['destroySha'+'pe'](_0x1fd3f1){if(!_0x1fd3f1['shape'])return;const _0x3e0e53=_0x1fd3f1['shape']['getNumChil'+'dShapes']();for(let _0x33d1ae=0x1838+0x2133+-0x396b;_0x33d1ae<_0x3e0e53;_0x33d1ae++){const _0x18f333=_0x1fd3f1['shape']['getChildSh'+'ape'](_0x33d1ae);Ammo['destroy'](_0x18f333);}Ammo['destroy'](_0x1fd3f1['shape']),_0x1fd3f1['shape']=null;}}class uR extends xn{['createPhys'+'icalShape'](_0x4d7196,_0x596d9c){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x219973){!_0x219973['collision']||_0x219973['rigidbody']||(_0x219973['collision']['_compoundP'+'arent']=this,_0x219973!==this['entity']&&_0x219973['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x219973['collision']));}['_updateEac'+'hDescendan'+'t'](_0x1dda47){_0x1dda47['collision']&&_0x1dda47['collision']['_compoundP'+'arent']===this&&(_0x1dda47['collision']['_compoundP'+'arent']=null,_0x1dda47!==this['entity']&&!_0x1dda47['rigidbody']&&_0x1dda47['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1dda47['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x3279f8){!_0x3279f8['collision']||_0x3279f8['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x3279f8,!(-0x1*0x1843+-0x1da6+0x35ea));}}class fR extends Xe{constructor(_0x5682b6){super(_0x5682b6),this['id']='collision',this['ComponentT'+'ype']=Yn,this['DataType']=JP,this['schema']=nR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1d87c8,_0x26fce1,_0x2cad67){_0x2cad67=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x6d7b8e={};for(let _0x1e4a91=-0xf1*0x7+0x2174+-0x1add,_0x10316f=_0x2cad67['length'];_0x1e4a91<_0x10316f;_0x1e4a91++){const _0x152ea5=_0x2cad67[_0x1e4a91];_0x6d7b8e[_0x152ea5]=_0x26fce1[_0x152ea5];}let _0x23d47b;if(_0x26fce1['hasOwnProp'+'erty']('asset')?(_0x23d47b=_0x2cad67['indexOf']('model'),_0x23d47b!==-(0x2033*-0x1+0x8*-0x257+0x32ec)&&_0x2cad67['splice'](_0x23d47b,-0x1ce0+-0xd03*0x2+0x36e7),_0x23d47b=_0x2cad67['indexOf']('render'),_0x23d47b!==-(0x4af+-0x1*-0x63f+0xaed*-0x1)&&_0x2cad67['splice'](_0x23d47b,-0x246d+-0x1225+0x3*0x1231)):_0x26fce1['hasOwnProp'+'erty']('model')&&(_0x23d47b=_0x2cad67['indexOf']('asset'),_0x23d47b!==-(-0x289*0x3+0xbb8+-0x20e*0x2)&&_0x2cad67['splice'](_0x23d47b,0x475*-0x1+0xd8b+-0x1*0x915)),_0x6d7b8e['type']||(_0x6d7b8e['type']=_0x1d87c8['data']['type']),_0x1d87c8['data']['type']=_0x6d7b8e['type'],Array['isArray'](_0x6d7b8e['halfExtent'+'s'])&&(_0x6d7b8e['halfExtent'+'s']=new T(_0x6d7b8e['halfExtent'+'s'])),Array['isArray'](_0x6d7b8e['linearOffs'+'et'])&&(_0x6d7b8e['linearOffs'+'et']=new T(_0x6d7b8e['linearOffs'+'et'])),Array['isArray'](_0x6d7b8e['angularOff'+'set'])){const _0x352bdd=_0x6d7b8e['angularOff'+'set'];_0x352bdd['length']===0x2636*-0x1+-0x1ac1+-0x1*-0x40fa?_0x6d7b8e['angularOff'+'set']=new se()['setFromEul'+'erAngles'](_0x352bdd[0x1*0x18d7+-0x174*0x16+0x721],_0x352bdd[-0x155*-0x17+0x9f9+-0x289b],_0x352bdd[-0x13d9+-0x1c57+0x1819*0x2]):_0x6d7b8e['angularOff'+'set']=new se(_0x6d7b8e['angularOff'+'set']);}const _0x391913=this['_createImp'+'lementatio'+'n'](_0x6d7b8e['type']);_0x391913['beforeInit'+'ialize'](_0x1d87c8,_0x6d7b8e),super['initialize'+'ComponentD'+'ata'](_0x1d87c8,_0x6d7b8e,_0x2cad67),_0x391913['afterIniti'+'alize'](_0x1d87c8,_0x6d7b8e);}['_createImp'+'lementatio'+'n'](_0x3bd2b4){if(this['implementa'+'tions'][_0x3bd2b4]===void(0x1750*0x1+0x2*0xfe5+-0x3*0x125e)){let _0x4643b8;switch(_0x3bd2b4){case'box':_0x4643b8=new aR(this);break;case'sphere':_0x4643b8=new oR(this);break;case'capsule':_0x4643b8=new lR(this);break;case'cylinder':_0x4643b8=new hR(this);break;case'cone':_0x4643b8=new cR(this);break;case'mesh':_0x4643b8=new dR(this);break;case'compound':_0x4643b8=new uR(this);break;default:v['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x3bd2b4);}this['implementa'+'tions'][_0x3bd2b4]=_0x4643b8;}return this['implementa'+'tions'][_0x3bd2b4];}['_getImplem'+'entation'](_0xfb0d84){return this['implementa'+'tions'][_0xfb0d84['collision']['data']['type']];}['cloneCompo'+'nent'](_0x58d170,_0x22fb4e){return this['_getImplem'+'entation'](_0x58d170)['clone'](_0x58d170,_0x22fb4e);}['onBeforeRe'+'move'](_0x1a3485,_0x401995){this['implementa'+'tions'][_0x401995['data']['type']]['beforeRemo'+'ve'](_0x1a3485,_0x401995),_0x401995['onBeforeRe'+'move']();}['onRemove'](_0x4f6daa,_0xf3ed6a){this['implementa'+'tions'][_0xf3ed6a['type']]['remove'](_0x4f6daa,_0xf3ed6a);}['updateComp'+'oundChildT'+'ransform'](_0xf77f8b,_0x110abf){const _0x38b44a=_0xf77f8b['collision']['_compoundP'+'arent'];if(_0x38b44a!==_0xf77f8b['collision']&&_0xf77f8b['enabled']&&_0xf77f8b['collision']['enabled']&&(_0xf77f8b['_dirtyLoca'+'l']||_0x110abf)){const _0x40a312=this['_getNodeTr'+'ansform'](_0xf77f8b,_0x38b44a['entity']),_0x34dab0=_0x38b44a['getCompoun'+'dChildShap'+'eIndex'](_0xf77f8b['collision']['shape']);_0x34dab0===null?_0x38b44a['shape']['addChildSh'+'ape'](_0x40a312,_0xf77f8b['collision']['data']['shape']):_0x38b44a['shape']['updateChil'+'dTransform'](_0x34dab0,_0x40a312,!(-0x30b*-0xa+-0x23c9*-0x1+-0x17*0x2e1)),Ammo['destroy'](_0x40a312);}}['_removeCom'+'poundChild'](_0x24589c,_0x443962){if(_0x24589c['shape']['getNumChil'+'dShapes']()!==0x17b2+-0x514+-0x129e){if(_0x24589c['shape']['removeChil'+'dShape'])_0x24589c['shape']['removeChil'+'dShape'](_0x443962);else{const _0x4295a5=_0x24589c['getCompoun'+'dChildShap'+'eIndex'](_0x443962);_0x4295a5!==null&&_0x24589c['shape']['removeChil'+'dShapeByIn'+'dex'](_0x4295a5);}}}['onTransfor'+'mChanged'](_0x410452,_0x4a0a6e,_0x15dd03,_0xb8a110){this['implementa'+'tions'][_0x410452['data']['type']]['updateTran'+'sform'](_0x410452,_0x4a0a6e,_0x15dd03,_0xb8a110);}['changeType'](_0x50158e,_0x264575,_0x112785){this['implementa'+'tions'][_0x264575]['beforeRemo'+'ve'](_0x50158e['entity'],_0x50158e),this['implementa'+'tions'][_0x264575]['remove'](_0x50158e['entity'],_0x50158e['data']),this['_createImp'+'lementatio'+'n'](_0x112785)['reset'](_0x50158e,_0x50158e['data']);}['recreatePh'+'ysicalShap'+'es'](_0x4b079c){this['implementa'+'tions'][_0x4b079c['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x4b079c);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x297ebd,_0x522528){if(_0x297ebd===_0x522528){const _0xdd6371=_0x297ebd['getWorldTr'+'ansform']()['getScale']();Xl['setScale'](_0xdd6371['x'],_0xdd6371['y'],_0xdd6371['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x297ebd['parent'],_0x522528),Xl['mul'](_0x297ebd['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x2d5a09){const _0x26c107=_0x2d5a09['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x26c107['x'],_0x26c107['y'],_0x26c107['z']);}['_getNodeTr'+'ansform'](_0x579f91,_0x397e7e){let _0x8f623e,_0x35551f;_0x397e7e?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x579f91,_0x397e7e),_0x8f623e=iR,_0x35551f=Cr,Xl['getTransla'+'tion'](_0x8f623e),_0x35551f['setFromMat'+'4'](Xl)):(_0x8f623e=_0x579f91['getPositio'+'n'](),_0x35551f=_0x579f91['getRotatio'+'n']());const _0x587e85=new Ammo['btQuaterni'+'on'](),_0x27f800=new Ammo['btTransfor'+'m']();_0x27f800['setIdentit'+'y']();const _0x39059d=_0x27f800['getOrigin'](),_0x1ba4d6=_0x579f91['collision'];if(_0x1ba4d6&&_0x1ba4d6['_hasOffset']){const _0x2a49cd=_0x1ba4d6['data']['linearOffs'+'et'],_0x59c0b7=_0x1ba4d6['data']['angularOff'+'set'],_0x27c14b=rR;Cr['copy'](_0x35551f)['transformV'+'ector'](_0x2a49cd,_0x27c14b),_0x27c14b['add'](_0x8f623e),Cr['copy'](_0x35551f)['mul'](_0x59c0b7),_0x39059d['setValue'](_0x27c14b['x'],_0x27c14b['y'],_0x27c14b['z']),_0x587e85['setValue'](Cr['x'],Cr['y'],Cr['z'],Cr['w']);}else _0x39059d['setValue'](_0x8f623e['x'],_0x8f623e['y'],_0x8f623e['z']),_0x587e85['setValue'](_0x35551f['x'],_0x35551f['y'],_0x35551f['z'],_0x35551f['w']);return _0x27f800['setRotatio'+'n'](_0x587e85),Ammo['destroy'](_0x587e85),_0x27f800;}['destroy'](){for(const _0x94c806 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x94c806]);this['_triMeshCa'+'che']=null,super['destroy']();}}const jl=new Y(),pR=new Ot();class mR{constructor(_0x29e66d,_0x4ebcf8,_0x89c98b){this['_entity']=_0x29e66d,this['_element']=_0x29e66d['element'],this['model']=new Oi(),this['node']=new De(),this['model']['graph']=this['node'],this['mesh']=_0x4ebcf8,this['meshInstan'+'ce']=new Le(this['mesh'],_0x89c98b,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x29e66d['name'],this['meshInstan'+'ce']['castShadow']=!(-0x4e7+-0x5*-0x529+0x3*-0x6f7),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x2*0x96d+0x17fa+-0x51f),this['_meshDirty']=!(0x6ec*0x4+0x29*0xa9+-0x36c0),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x3739e9,_0x4d6275;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x3739e9=this['meshInstan'+'ce'])==null||_0x3739e9['destroy'](),this['meshInstan'+'ce']=null,(_0x4d6275=this['unmaskMesh'+'Instance'])==null||_0x4d6275['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x205b48){this['meshInstan'+'ce']&&(this['mesh']=_0x205b48,this['meshInstan'+'ce']['mesh']=_0x205b48,this['meshInstan'+'ce']['visible']=!!_0x205b48,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x205b48),this['forceUpdat'+'eAabb']());}['setMask'](_0x3c35f5){var _0x278e27;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x3c35f5){this['unmaskMesh'+'Instance']=new Le(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x889+-0x14f5*-0x1+-0xc6b),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x1a95*0x1+0x4f2+-0x1f86),this['unmaskMesh'+'Instance']['pick']=!(-0x103+0x2*-0x48+0x2*0xca),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x171bf3 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x171bf3,this['meshInstan'+'ce']['parameters'][_0x171bf3]['data']);}else{const _0x14c845=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x14c845>=-0x41*0x64+0x2159*0x1+-0x7f5&&this['model']['meshInstan'+'ces']['splice'](_0x14c845,0x258d+-0x94d*-0x4+-0x4ac0);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x3c35f5||((_0x278e27=this['unmaskMesh'+'Instance'])==null||_0x278e27['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x305ba9){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x305ba9,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x305ba9));}['setParamet'+'er'](_0x4846a1,_0x2cb73a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x4846a1,_0x2cb73a),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x4846a1,_0x2cb73a));}['deletePara'+'meter'](_0x3ba6b9){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x3ba6b9),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x3ba6b9));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x3dbf23=function(_0x11666a){let _0x3c9ed2;const _0x543a27=_0x11666a['children'],_0x3e2f69=_0x543a27['length'];if(_0x3e2f69){for(let _0x1afa2e=0xca1+-0x1*0x432+-0x11*0x7f;_0x1afa2e<_0x3e2f69;_0x1afa2e++)_0x543a27[_0x1afa2e]['element']&&(_0x3c9ed2=_0x543a27[_0x1afa2e]);if(!_0x3c9ed2)return null;const _0x357e06=_0x3dbf23(_0x3c9ed2);return _0x357e06||_0x3c9ed2;}return null;};if(this['unmaskMesh'+'Instance']){const _0x3ffd0d=_0x3dbf23(this['_entity']);_0x3ffd0d&&_0x3ffd0d['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x3ffd0d['element']['drawOrder']+_0x3ffd0d['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),v['trace'](Ss,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x9a8338){this['meshInstan'+'ce']&&(v['trace'](Ss,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x9a8338),this['meshInstan'+'ce']['drawOrder']=_0x9a8338);}['setCull'](_0x48f0c3){if(!this['meshInstan'+'ce'])return;const _0xb64906=this['_element'];let _0x477f59=null;_0x48f0c3&&_0xb64906['_isScreenS'+'pace']()&&(_0x477f59=function(_0x367a58){return _0xb64906['isVisibleF'+'orCamera'](_0x367a58);}),this['meshInstan'+'ce']['cull']=_0x48f0c3,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x477f59,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x48f0c3,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x477f59);}['setScreenS'+'pace'](_0x3e01b9){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x3e01b9,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x3e01b9));}['setLayer'](_0x45c6c8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x45c6c8,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x45c6c8));}['forceUpdat'+'eAabb'](_0x110730){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x19b6+0x1d03+0x2*-0x1b5c),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x1257+0x1e2f+0x1*-0xbd7)));}['setAabbFun'+'c'](_0x4e8a4a){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x4e8a4a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x4e8a4a));}}class _R{constructor(_0x947c4b){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x947c4b,this['_entity']=_0x947c4b['entity'],this['_system']=_0x947c4b['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=-0x19*-0x71+0x1352+0x199*-0x13,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0xdcc*-0x1+-0x15*-0x132+-0xb*0x107),this['_rect']=new Q(-0x6c6+0x23f5+-0x1d2f,-0x18cf+0x2da+0x15f5,-0x532+0x839*0x2+-0xb3f,-0x1e2*0x6+0x1*0x21d3+-0x1686),this['_mask']=!(-0x3*0xdf+-0x99*-0x6+-0xf8),this['_maskRef']=-0xd05+-0x508*-0x4+0x1*-0x71b,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0x1ec4+-0x2420+0x2*0x2af),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(-0xe17+-0x871+0x168c),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(-0xe5e+0x1*0x4b1+0x9b1),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new mR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0xc*-0xe8+-0xf29+0x1a0a,0x36*0x14+-0xde1+0x4d5*0x2,-0x82c+0x3*-0x485+0xade*0x2,0x12da+-0x10bf*0x1+0x21a*-0x1),this['_colorUnif'+'orm']=new Float32Array([-0x210f*-0x1+-0x1*-0x1be6+0x14c*-0x2f,0x2c+-0x26ad*0x1+0x1*0x2682,0x94a+0x1d8a+-0x26d3*0x1]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x1*-0x329+-0xcb*-0x25+-0x207f),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x2400ed){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x165e0e){this['_updateMat'+'erial'](_0x165e0e);}['_onScreenC'+'hange'](_0x3cfe7d,_0x4fdd75){_0x3cfe7d?this['_updateMat'+'erial'](_0x3cfe7d['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1baf+-0x17a+0x1d2a));}['_onDrawOrd'+'erChange'](_0x1cf4d4){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x1cf4d4),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0x115c+-0x25ca+0x3727);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe);}['_updateMat'+'erial'](_0x3662e8){const _0x5adbeb=!!this['_mask'],_0x239909=!!(this['sprite']&&this['sprite']['renderMode']===nt),_0x1b828f=!!(this['sprite']&&this['sprite']['renderMode']===Qe);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x3662e8,_0x5adbeb,_0x239909,_0x1b828f)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x3662e8),this['_renderabl'+'e']['setLayer'](_0x3662e8?Ub:c0));}['_createMes'+'h'](){const _0x37e123=this['_element'],_0x37c2a4=_0x37e123['calculated'+'Width'],_0x422efc=_0x37e123['calculated'+'Height'],_0x36cf15=this['_rect'],_0x182499=this['_system']['app']['graphicsDe'+'vice'],_0x5922e3=new Float32Array([_0x37c2a4,-0x1bd3+-0x1336+-0x2f09*-0x1,-0x941+-0x1866+0x21a7,-0x12*-0x137+0x1*-0x56f+0x259*-0x7,0x265f+0xd*0x15a+-0x37f1,-0x1*0x1bf6+-0x13d*0x17+0x11*0x352,_0x36cf15['x']+_0x36cf15['z'],0x172a+-0x1d1d*0x1+0x5f4-_0x36cf15['y'],_0x37c2a4,_0x422efc,-0xd12+-0x19*0xe0+0x12*0x1f1,-0x116e+-0xae0+0x1c4e,0xb6b*-0x1+0x3*-0xa85+0x2*0x157d,0xa0*-0x8+0x235f*0x1+-0x1e5e,_0x36cf15['x']+_0x36cf15['z'],0x3*-0x824+-0x1138+0x29a5-(_0x36cf15['y']+_0x36cf15['w']),-0x1*0x2353+-0x4cb*-0x8+-0x305,-0x12ba+-0x156e+0x2828,-0x19af+0x1f35*0x1+-0xca*0x7,-0xcf4+-0xe8b*0x2+0x2*0x1505,-0x4*-0x433+-0x4*-0x56f+-0x2688,0x1588+0x2f*-0x4f+-0x706,_0x36cf15['x'],0x202a+-0x7bc+-0x186d-_0x36cf15['y'],0x185d+-0x466*0x8+0xad3,_0x422efc,0x49f+-0x2*-0xc56+0x1*-0x1d4b,-0x1377+-0xb1d*0x3+0x34ce,-0x20d*0xd+0x5*0x4a5+0x370,0xabd+0x1466+-0x1f22,_0x36cf15['x'],0x2*0xc77+0x3*0x9aa+-0x1*0x35eb-(_0x36cf15['y']+_0x36cf15['w'])]),_0x463515=pR['get'](_0x182499,()=>new Et(_0x182499,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':Yt,'components':0x3,'type':Ee},{'semantic':ns,'components':0x2,'type':Ee}])),_0x144745=new os(_0x182499,_0x463515,0x1976*-0x1+-0x15*0x189+0x39b7,{'data':_0x5922e3['buffer']}),_0x387c0c=new Ie(_0x182499);return _0x387c0c['vertexBuff'+'er']=_0x144745,_0x387c0c['primitive'][0x18a4*-0x1+-0x2443*-0x1+0x77*-0x19]['type']=ar,_0x387c0c['primitive'][-0x1310+-0x1*-0x254f+-0x9*0x207]['base']=-0x1*0x1c91+-0x185d+0x10f*0x32,_0x387c0c['primitive'][-0x1e5*-0x11+0x4*0x6cd+0x1*-0x3b69]['count']=-0x24fb+-0x1949+0x3e48*0x1,_0x387c0c['primitive'][-0x51f+-0xaf*-0x2e+-0x17*0x125]['indexed']=!(0x1*-0x1e1d+-0x1*0xfc6+0x42c*0xb),_0x387c0c['aabb']['setMinMax'](T['ZERO'],new T(_0x37c2a4,_0x422efc,0x1*-0x377+-0x62*-0x27+-0xb77)),this['_updateMes'+'h'](_0x387c0c),_0x387c0c;}['_updateMes'+'h'](_0x480c76){const _0x2b493a=this['_element'];let _0x3bda79=_0x2b493a['calculated'+'Width'],_0x3c3940=_0x2b493a['calculated'+'Height'];if(_0x2b493a['fitMode']!==gh&&this['_targetAsp'+'ectRatio']>0x165*-0x13+-0x242a+0x3ea9){const _0x591bb6=_0x2b493a['calculated'+'Width']/_0x2b493a['calculated'+'Height'];_0x2b493a['fitMode']===YP&&_0x591bb6>this['_targetAsp'+'ectRatio']||_0x2b493a['fitMode']===KP&&_0x591bb6<this['_targetAsp'+'ectRatio']?_0x3bda79=_0x2b493a['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x3c3940=_0x2b493a['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x59209b=_0x2b493a['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x59209b),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){const _0xc99a58=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x43e15=(-0x2*-0x1178+-0xd13*-0x1+0x3001*-0x1)/_0xc99a58['rect']['z'],_0x2a4efe=(0xc*0xab+-0x1215+0xa13)/_0xc99a58['rect']['w'];this['_innerOffs'+'et']['set'](_0xc99a58['border']['x']*_0x43e15,_0xc99a58['border']['y']*_0x2a4efe,_0xc99a58['border']['z']*_0x43e15,_0xc99a58['border']['w']*_0x2a4efe);const _0x48b020=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0xc99a58['rect']['x']/_0x48b020['width'],_0xc99a58['rect']['y']/_0x48b020['height'],_0xc99a58['rect']['z']/_0x48b020['width'],_0xc99a58['rect']['w']/_0x48b020['height']);const _0x475d72=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x45e030=_0xc99a58['rect']['z']/_0x475d72,_0x1ad778=_0xc99a58['rect']['w']/_0x475d72;this['_outerScal'+'e']['set'](Math['max'](_0x3bda79,this['_innerOffs'+'et']['x']*_0x45e030),Math['max'](_0x3c3940,this['_innerOffs'+'et']['y']*_0x1ad778));let _0x97aac=_0x45e030,_0x2dd4e1=_0x1ad778;this['_outerScal'+'e']['x']/=_0x45e030,this['_outerScal'+'e']['y']/=_0x1ad778,_0x97aac*=N['clamp'](_0x3bda79/(this['_innerOffs'+'et']['x']*_0x45e030),0x128f+0x613*-0x5+0xbd0+0.0001,-0x130e+0x24c+0x1*0x10c3),_0x2dd4e1*=N['clamp'](_0x3c3940/(this['_innerOffs'+'et']['y']*_0x1ad778),0x122a+0x267e+0x128*-0x31+0.0001,-0x2d*-0xa7+-0xe0c+-0x6*0x28d),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x153d+0x1*0xdf6+0x1*0x747]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x6*0x1a3+0x1cd4+-0xd*0x2f9]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x2247+-0x1*0xdf3+-0x80a*-0x6]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1a2a+0x3*-0x95+-0x47*0x58]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x9b3*-0x4+0x2204+-0x18*-0x33]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x61*0x29+-0x1954+0x9cc]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0xce2+0x70f+0x3*-0x6a5]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1f05+0x53*-0x39+-0x19*-0x1fb]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0xca1+0x2b1+-0x6a*0x25]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x4d*0x34+0x26c7+-0x1b35*0x2]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x97aac,_0x2dd4e1,0x4f*-0x7+0x1*0x15d+-0xcd*-0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x16*0x56+-0xc4d+0x13b1+0.5-_0x2b493a['pivot']['x'])*_0x3bda79,(0xa3b*-0x1+-0x2188+0x2bc3+0.5-_0x2b493a['pivot']['y'])*_0x3c3940,-0x236f+-0x287*0x5+0x3012));}else{const _0x336a2b=_0x480c76['vertexBuff'+'er'],_0x50c221=new Float32Array(_0x336a2b['lock']()),_0x1ad31e=_0x2b493a['pivot']['x'],_0x218b7d=_0x2b493a['pivot']['y'];_0x50c221[0x95d*-0x2+-0x614*0x2+0x1ee2]=_0x3bda79-_0x1ad31e*_0x3bda79,_0x50c221[-0x79b*0x4+-0x14*0x124+0x353d]=0x2*0x12f5+-0x1554+-0x1096-_0x218b7d*_0x3c3940,_0x50c221[-0x11*0xb+-0x6df*-0x3+-0x4d*0x42]=_0x3bda79-_0x1ad31e*_0x3bda79,_0x50c221[-0x1c*-0x4d+-0x960+-0xb*-0x17]=_0x3c3940-_0x218b7d*_0x3c3940,_0x50c221[0x1547+-0x307+-0x1230]=-0xbcb*-0x3+0x1121*-0x1+-0x1240-_0x1ad31e*_0x3bda79,_0x50c221[-0x1*-0x1f51+0x15e*0xf+-0x35*0xfa]=-0xfb7+-0x10*-0x21+0xda7-_0x218b7d*_0x3c3940,_0x50c221[-0xffe+-0x1*0xb25+0x1b3b]=-0x20*-0x133+-0x1*0x1274+-0x13ec-_0x1ad31e*_0x3bda79,_0x50c221[-0x171d+0x11fe+0x538]=_0x3c3940-_0x218b7d*_0x3c3940;let _0x49b7cf=-0xb0f+0x16*0xf1+-0x9a6,_0x2cb867=0x17+0x1f64+-0x1f7a,_0xe14185=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x39e90d=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x39e90d&&(_0xe14185=_0x39e90d['rect'],_0x49b7cf=this['_sprite']['atlas']['texture']['width'],_0x2cb867=this['_sprite']['atlas']['texture']['height']);}_0x50c221[0x6ba+0x235+-0x8e9*0x1]=(_0xe14185['x']+_0xe14185['z'])/_0x49b7cf,_0x50c221[-0x1249+-0xb*0x27d+0x2daf]=0x1*0x96d+-0xf83+0x617-_0xe14185['y']/_0x2cb867,_0x50c221[-0x2*-0x89+-0x1034+0x18*0xa2]=(_0xe14185['x']+_0xe14185['z'])/_0x49b7cf,_0x50c221[0x3*0x79d+-0x6e3*0x1+-0x1*0xfe5]=-0x2*-0x1277+-0x514+-0x1fd9-(_0xe14185['y']+_0xe14185['w'])/_0x2cb867,_0x50c221[0xb8e+-0x2*-0x79+-0x635*0x2]=_0xe14185['x']/_0x49b7cf,_0x50c221[0xc64+0x8ac+0x19d*-0xd]=0x5ea+-0x42d*-0x3+-0x3b*0x50-_0xe14185['y']/_0x2cb867,_0x50c221[0xecb+0x119+0x7e3*-0x2]=_0xe14185['x']/_0x49b7cf,_0x50c221[-0x481+0x100d*-0x1+-0x1*-0x14ad]=-0x9a1+-0x2*-0x10f8+-0x33*0x7a-(_0xe14185['y']+_0xe14185['w'])/_0x2cb867,_0x336a2b['unlock']();const _0x40f781=new T(0x1*0x190d+0x25*0xd+-0x1aee-_0x1ad31e*_0x3bda79,0x9*-0x3bf+0x1eb1+0x306-_0x218b7d*_0x3c3940,-0x1*-0x1e11+0x19ea+-0x37fb),_0x50d6ff=new T(_0x3bda79-_0x1ad31e*_0x3bda79,_0x3c3940-_0x218b7d*_0x3c3940,0x55e*-0x1+0x89*0x13+-0x4cd*0x1);_0x480c76['aabb']['setMinMax'](_0x40f781,_0x50d6ff),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x1*-0x216f+-0x1ead+0x2c1*-0x1,0x1f17+-0x1*-0x7e2+-0x26f8,0x1*0x5d1+-0x122c+0xc5c*0x1),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0xf8a+-0x29*-0x9c+-0xba*0xd,-0x1350+0x26a1*-0x1+-0x847*-0x7,-0x28+0x22b+-0x203),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x1*0x3e6+0xd3+-0x25c*0x2);}['_updateSpr'+'ite'](){let _0x15d293=!(0x1*0x13d4+0x4e+-0x1*0x1421),_0x2c2f4c=null;if(this['_targetAsp'+'ectRatio']=-(0x3d5+0x2633+-0x173*0x1d),this['_sprite']&&this['_sprite']['atlas']){_0x2c2f4c=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x15d293=this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe;const _0x591ea9=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x591ea9==null?void(-0x1fad+-0x204b*-0x1+-0x9e):_0x591ea9['rect']['w'])>-0x2f2+0xce9+-0x9f7&&(this['_targetAsp'+'ectRatio']=_0x591ea9['rect']['z']/_0x591ea9['rect']['w']);}this['mesh']=_0x15d293?_0x2c2f4c:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0xa29+0x21c8+-0x1*0x2bf1):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x3881ad){return _0x3881ad['center']['set'](0xcb2+-0x35*0x6d+0x13*0x85,-0x569*-0x5+-0x1f*0x139+0xada,0x20*0xec+-0x4d6+-0x18aa),_0x3881ad['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x1*-0x409+0x2621+0x707*-0x6+0.5),this['_outerScal'+'e']['y']*(0xa66+0xce8+0x174e*-0x1+0.5),0x2c0*0x9+-0x1f01+0x641+0.001),_0x3881ad['setFromTra'+'nsformedAa'+'bb'](_0x3881ad,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x3881ad;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x3b57e5=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3b57e5),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x1015cd){this['material']=_0x1015cd['resource'];}['_onMateria'+'lAdded'](_0x17dc87){this['_system']['app']['assets']['off']('add:'+_0x17dc87['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x17dc87['id']&&this['_bindMater'+'ialAsset'](_0x17dc87);}['_bindMater'+'ialAsset'](_0x110f09){this['_entity']['enabled']&&(_0x110f09['on']('load',this['_onMateria'+'lLoad'],this),_0x110f09['on']('change',this['_onMateria'+'lChange'],this),_0x110f09['on']('remove',this['_onMateria'+'lRemove'],this),_0x110f09['resource']?this['_onMateria'+'lLoad'](_0x110f09):this['_system']['app']['assets']['load'](_0x110f09));}['_unbindMat'+'erialAsset'](_0x2728ff){_0x2728ff['off']('load',this['_onMateria'+'lLoad'],this),_0x2728ff['off']('change',this['_onMateria'+'lChange'],this),_0x2728ff['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x74d338){this['_system']['app']['assets']['off']('add:'+_0x74d338['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x74d338['id']&&this['_bindTextu'+'reAsset'](_0x74d338);}['_bindTextu'+'reAsset'](_0xdad82f){this['_entity']['enabled']&&(_0xdad82f['on']('load',this['_onTexture'+'Load'],this),_0xdad82f['on']('change',this['_onTexture'+'Change'],this),_0xdad82f['on']('remove',this['_onTexture'+'Remove'],this),_0xdad82f['resource']?this['_onTexture'+'Load'](_0xdad82f):this['_system']['app']['assets']['load'](_0xdad82f));}['_unbindTex'+'tureAsset'](_0x30713d){_0x30713d['off']('load',this['_onTexture'+'Load'],this),_0x30713d['off']('change',this['_onTexture'+'Change'],this),_0x30713d['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x2f2b42){this['texture']=_0x2f2b42['resource'];}['_onTexture'+'Change'](_0x4f1c4a){}['_onTexture'+'Remove'](_0x1d4f5c){}['_onSpriteA'+'ssetAdded'](_0xbd63b1){this['_system']['app']['assets']['off']('add:'+_0xbd63b1['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0xbd63b1['id']&&this['_bindSprit'+'eAsset'](_0xbd63b1);}['_bindSprit'+'eAsset'](_0x2be027){this['_entity']['enabled']&&(_0x2be027['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2be027['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x2be027['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2be027['resource']?this['_onSpriteA'+'ssetLoad'](_0x2be027):this['_system']['app']['assets']['load'](_0x2be027));}['_unbindSpr'+'iteAsset'](_0x58045b){_0x58045b['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x58045b['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x58045b['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x58045b['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x58045b['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x325537){if(!_0x325537||!_0x325537['resource'])this['sprite']=null;else{if(_0x325537['resource']['atlas'])this['sprite']=_0x325537['resource'];else{const _0x3efb62=_0x325537['data']['textureAtl'+'asAsset'];if(_0x3efb62){const _0x33879b=this['_system']['app']['assets'];_0x33879b['off']('load:'+_0x3efb62,this['_onTexture'+'AtlasLoad'],this),_0x33879b['once']('load:'+_0x3efb62,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x13e49e){this['_onSpriteA'+'ssetLoad'](_0x13e49e);}['_onSpriteA'+'ssetRemove'](_0x181517){}['_bindSprit'+'e'](_0x24b766){this['_evtSetMes'+'hes']=_0x24b766['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x24b766['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x24b766['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x24b766['atlas']&&_0x24b766['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x4c808f){var _0x4ef192;(_0x4ef192=this['_evtSetMes'+'hes'])==null||_0x4ef192['off'](),this['_evtSetMes'+'hes']=null,_0x4c808f['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x4c808f['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x4c808f['atlas']&&_0x4c808f['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],-0x49*0x7+0x2*0xf86+-0x1d0d,this['_sprite']['frameKeys']['length']-(-0x19a3+0x1c31+0x28d*-0x1))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Ti&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x53da9d){const _0xff012a=this['_spriteAss'+'et'];_0xff012a instanceof le?this['_onSpriteA'+'ssetLoad'](_0xff012a):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0xff012a));}['onEnable'](){if(this['_materialA'+'sset']){const _0x18d8e8=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x18d8e8&&_0x18d8e8['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x18d8e8);}if(this['_textureAs'+'set']){const _0x2433d9=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x2433d9&&_0x2433d9['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x2433d9);}if(this['_spriteAss'+'et']){const _0x2a681f=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x2a681f&&_0x2a681f['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x2a681f);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x3b540c){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x3b540c,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x3b540c;let _0x2a89ed=0x23c9+0x2*-0x5d5+-0xd*0x1db;if(this['_element']['maskedBy']&&(_0x2a89ed=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x4f5b99=new qs({'ref':_0x2a89ed+(0x19a2+-0x22b2+0x911),'func':Ch,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x4f5b99,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x4f5b99;}}['_updateRen'+'derableEmi'+'ssive'](){jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0x2375*-0x1+-0x7*0x3e4+-0x1a5*0x5]=jl['r'],this['_colorUnif'+'orm'][0x5a8+0x1f1b+-0x24c2]=jl['g'],this['_colorUnif'+'orm'][-0x1dc6+0x88d+-0x43f*-0x5]=jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x331f57){this['_color']===_0x331f57&&v['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x51a340,g:_0x4ad6bd,b:_0x234de9}=_0x331f57;(this['_color']['r']!==_0x51a340||this['_color']['g']!==_0x4ad6bd||this['_color']['b']!==_0x234de9)&&(this['_color']['r']=_0x51a340,this['_color']['g']=_0x4ad6bd,this['_color']['b']=_0x234de9,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0xe0c199){_0xe0c199!==this['_color']['a']&&(this['_color']['a']=_0xe0c199,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0xe0c199)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0xe0c199);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4254b9){this['_rect']===_0x4254b9&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x465aa4,_0x5aca51,_0x3b4d90,_0x4d3936;_0x4254b9 instanceof Q?(_0x465aa4=_0x4254b9['x'],_0x5aca51=_0x4254b9['y'],_0x3b4d90=_0x4254b9['z'],_0x4d3936=_0x4254b9['w']):(_0x465aa4=_0x4254b9[-0x939+-0x1ef3+-0xa0b*-0x4],_0x5aca51=_0x4254b9[0x1*-0x536+0xef8+-0x9c1],_0x3b4d90=_0x4254b9[0x212a+0x5*0x26b+0x8f*-0x51],_0x4d3936=_0x4254b9[-0x1*-0x148f+0x1b9*0xf+-0x947*0x5]),!(_0x465aa4===this['_rect']['x']&&_0x5aca51===this['_rect']['y']&&_0x3b4d90===this['_rect']['z']&&_0x4d3936===this['_rect']['w'])&&(this['_rect']['set'](_0x465aa4,_0x5aca51,_0x3b4d90,_0x4d3936),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0xf58+-0x3eb+-0xb6d):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x1f4886=this['_system']['app']['assets'];_0x1f4886['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x311aaf=_0x1f4886['get'](this['_materialA'+'sset']);_0x311aaf&&(_0x311aaf['off']('load',this['_onMateria'+'lLoad'],this),_0x311aaf['off']('change',this['_onMateria'+'lChange'],this),_0x311aaf['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x19bd9b){if(this['_material']!==_0x19bd9b){if(!_0x19bd9b){const _0x1b778e=this['_element']['_isScreenS'+'pace']();this['mask']?_0x19bd9b=_0x1b778e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x19bd9b=_0x1b778e?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x19bd9b,this['_materialA'+'sset']){const _0x291488=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x291488||_0x291488['resource']!==_0x19bd9b)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x19bd9b&&(this['_renderabl'+'e']['setMateria'+'l'](_0x19bd9b),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x3f2950){const _0x11a4fc=this['_system']['app']['assets'];let _0x5f3dd9=_0x3f2950;if(_0x3f2950 instanceof le&&(_0x5f3dd9=_0x3f2950['id']),this['_materialA'+'sset']!==_0x5f3dd9){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x5f3dd9,this['_materialA'+'sset']){const _0x1d9fca=_0x11a4fc['get'](this['_materialA'+'sset']);_0x1d9fca?this['_bindMater'+'ialAsset'](_0x1d9fca):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x5f3dd9,_0x11a4fc['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x5f3dd9;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x4f90b3){if(this['_texture']!==_0x4f90b3){if(this['_textureAs'+'set']){const _0x58eb51=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x58eb51&&_0x58eb51['resource']!==_0x4f90b3&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x4f90b3,_0x4f90b3){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x15d444=this['_texture']['width']/this['_texture']['height'];_0x15d444!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x15d444,this['_element']['fitMode']!==gh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x15d+0x1272+-0x27*0x82),this['_element']['fitMode']!==gh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x161857){const _0x2b1c3d=this['_system']['app']['assets'];let _0x3de223=_0x161857;if(_0x161857 instanceof le&&(_0x3de223=_0x161857['id']),this['_textureAs'+'set']!==_0x3de223){if(this['_textureAs'+'set']){_0x2b1c3d['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x12ceea=_0x2b1c3d['get'](this['_textureAs'+'set']);_0x12ceea&&(_0x12ceea['off']('load',this['_onTexture'+'Load'],this),_0x12ceea['off']('change',this['_onTexture'+'Change'],this),_0x12ceea['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x3de223,this['_textureAs'+'set']){const _0x567d29=_0x2b1c3d['get'](this['_textureAs'+'set']);_0x567d29?this['_bindTextu'+'reAsset'](_0x567d29):(this['texture']=null,_0x2b1c3d['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x1b0a01){const _0x2be38b=this['_system']['app']['assets'];let _0x817a88=_0x1b0a01;if(_0x1b0a01 instanceof le&&(_0x817a88=_0x1b0a01['id']),this['_spriteAss'+'et']!==_0x817a88){if(this['_spriteAss'+'et']){_0x2be38b['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x247f1a=_0x2be38b['get'](this['_spriteAss'+'et']);_0x247f1a&&this['_unbindSpr'+'iteAsset'](_0x247f1a);}if(this['_spriteAss'+'et']=_0x817a88,this['_spriteAss'+'et']){const _0x2d058c=_0x2be38b['get'](this['_spriteAss'+'et']);_0x2d058c?this['_bindSprit'+'eAsset'](_0x2d058c):(this['sprite']=null,_0x2be38b['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x817a88);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x2bff87){if(this['_sprite']!==_0x2bff87){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x57b643=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x57b643&&_0x57b643['resource']!==_0x2bff87&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x2bff87,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=N['clamp'](this['_spriteFra'+'me'],0x6*0x2b+-0x3*-0x5d5+-0x1281,this['_sprite']['frameKeys']['length']-(-0x2*0x233+-0xd1e*-0x1+-0x17*0x61))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x9b9742){const _0x2a4a86=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=N['clamp'](_0x9b9742,0x6*-0x5ad+0x25c6+-0x88*0x7,this['_sprite']['frameKeys']['length']-(0x2*0xde7+0x9f*0x35+0x8*-0x797)):this['_spriteFra'+'me']=_0x9b9742,this['_spriteFra'+'me']!==_0x2a4a86&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x9b9742);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x5abc10){this['_renderabl'+'e']['setMesh'](_0x5abc10),this['_defaultMe'+'sh']===_0x5abc10?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x9401f1){this['_mask']!==_0x9401f1&&(this['_mask']=_0x9401f1,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x37b155){this['_pixelsPer'+'Unit']!==_0x37b155&&(this['_pixelsPer'+'Unit']=_0x37b155,this['_sprite']&&(this['_sprite']['renderMode']===nt||this['_sprite']['renderMode']===Qe)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class gR extends ce{constructor(_0x520a12){super(),this['_app']=_0x520a12,_0x520a12['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1ad5+-0x1*0x2452+0x3f28),this['_disableLo'+'calization']=!(0x3d*0x7d+-0x2090+0x2c8),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x5f1718){const _0x2f5150=_0x5f1718 instanceof le?_0x5f1718['id']:_0x5f1718;this['_defaultAs'+'set']!==_0x2f5150&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x2f5150,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x29c5bd){const _0x3e164d=_0x29c5bd instanceof le?_0x29c5bd['id']:_0x29c5bd;this['_localized'+'Asset']!==_0x3e164d&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x3e164d,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x321ea8){this['_autoLoad']!==_0x321ea8&&(this['_autoLoad']=_0x321ea8,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0xd8a76f){this['_disableLo'+'calization']!==_0xd8a76f&&(this['_disableLo'+'calization']=_0xd8a76f,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x17a068=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x17a068?this['_onDefault'+'AssetAdd'](_0x17a068):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x289ec2=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x289ec2&&(_0x289ec2['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x289ec2['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x289ec2['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x290c21){this['_defaultAs'+'set']===_0x290c21['id']&&(_0x290c21['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x290c21['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x290c21['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x37a902){this['_defaultAs'+'set']===_0x37a902['id']&&(_0x37a902['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x37a902['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x59135f=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x59135f&&(_0x59135f['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x59135f['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x59135f['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x59135f['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x59135f):this['_app']['assets']['load'](_0x59135f));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x500c1b=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x500c1b&&(_0x500c1b['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x500c1b['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x500c1b['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x50f425){this['_localized'+'Asset']===_0x50f425['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x5945fc){this['fire']('load',_0x5945fc);}['_onLocaliz'+'edAssetCha'+'nge'](_0x2aa5c9,_0x30916c,_0x3e2d5b,_0x9aedbe){this['fire']('change',_0x2aa5c9,_0x30916c,_0x3e2d5b,_0x9aedbe);}['_onLocaliz'+'edAssetRem'+'ove'](_0x4dd97e){this['_localized'+'Asset']===_0x4dd97e['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x4dd97e);}['_onLocaleA'+'dd'](_0x539871,_0x379fcd){this['_app']['i18n']['locale']===_0x539871&&this['_onSetLoca'+'le'](_0x539871);}['_onLocaleR'+'emove'](_0x3f46dd,_0x19737d){this['_app']['i18n']['locale']===_0x3f46dd&&this['_onSetLoca'+'le'](_0x3f46dd);}['_onSetLoca'+'le'](_0x27aef2){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x1dfe68=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x1dfe68||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x547838=_0x1dfe68['getLocaliz'+'edAssetId'](_0x27aef2);if(!_0x547838){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x547838;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const Kh='msdf',yR='bitmap',ho=-0x1*-0x2645+0x269*-0x4+-0x15*0x15d,Kn=-0x11ff+-0x1*0xf9+-0x3*-0x653,of=0x1950+0x2*-0x113e+0x5e*0x19,ix=-0x216a+-0x3ca*-0x2+0x19d9,lf=-0x17*0x17a+0x1*0x11e1+0x1019,hf=0x102b+0xb76+-0x4c*0x5d,cf=0xb1f+0x1bcf+0x9ba*-0x4,df=0xad2*0x1+-0x188b+0x16*0xa0,dg=-0xa7d+0x15dc+-0xb57*0x1,xR='\x20\x09\x0a\x0d\x0b\x0c',SR=/[\w|/]/;class vR{constructor(_0x4cd1a8){this['_symbols']=_0x4cd1a8,this['_index']=-0xfe9+-0x1*-0x7bb+-0x82e*-0x1,this['_last']=0x6f5*-0x5+-0x7*0x1a5+-0x1726*-0x2,this['_cur']=this['_symbols']['length']>0x2385+0x1acc+0x7*-0x8e7?this['_symbols'][-0xd03+-0xc58+0x195b*0x1]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x3ef860=this['_read']();for(;_0x3ef860===dg;)_0x3ef860=this['_read']();return _0x3ef860!==ho&&_0x3ef860!==Kn&&(this['_last']=this['_index']),_0x3ef860;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x296634=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x506d62=this['read'](),_0x3c81f3='';for(;_0x3c81f3+=(_0x3c81f3['length']>-0x7*-0x33+0x5ee+-0x753?'\x0a':'')+_0x296634[_0x506d62]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x506d62===ho||_0x506d62===Kn);)_0x506d62=this['read']();return _0x3c81f3;}['_read'](){return this['_buf']=[],this['_eof']()?ho:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x109a+-0x2*0x1cf+0xa1c*0x2?of:ho;case'[':return this['_mode']='tag',this['_buf']['length']>-0x24ce+-0x2004+0x44d2*0x1?of:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Kn;case'[':return this['_store'](),ix;case']':return this['_store'](),this['_mode']='text',lf;case'=':return this['_store'](),hf;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Kn);}}['_whitespac'+'e'](){for(this['_store']();xR['indexOf'](this['_cur'])!==-(-0x820+-0x418*-0x1+-0x1*-0x409);)this['_store']();return dg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Kn;case'\x22':return this['_next'](),cf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return df;}['_isIdentif'+'ierSymbol'](_0x2e75f1){return _0x2e75f1['length']===-0x151d+-0x5d*0x2b+0x21*0x11d&&_0x2e75f1['match'](SR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x253bae){this['_buf']['push'](_0x253bae);}}class bR{constructor(_0x337137){this['_scanner']=new vR(_0x337137),this['_error']=null;}['parse'](_0x25983f,_0x39acec){for(;;)switch(this['_scanner']['read']()){case ho:return!(0x183*0xb+-0x1423+0x1*0x382);case Kn:return!(-0xbce+0x29*0x9f+-0xda8);case of:Array['prototype']['push']['apply'](_0x25983f,this['_scanner']['buf']());break;case ix:if(!this['_parseTag'](_0x25983f,_0x39acec))return!(0x15ab+0x1*-0x221e+0xc74);break;default:return!(-0x1d27*-0x1+-0x1d51+0x1*0x2b);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x480ed5,_0x2a8100){let _0x49f7ce=this['_scanner']['read']();if(_0x49f7ce!==df)return this['_error']='expected\x20i'+'dentifier',!(-0x1828+-0x1*-0x24a1+0x63c*-0x2);const _0x261fe2=this['_scanner']['buf']()['join']('');if(_0x261fe2[0xe82+0xe2*0x3+-0x1128]==='/'){for(let _0x1e94b9=_0x2a8100['length']-(-0x7*0x42a+-0x115f+0x2e86);_0x1e94b9>=0x1588+-0xc*0x74+-0x5*0x338;--_0x1e94b9)if(_0x261fe2==='/'+_0x2a8100[_0x1e94b9]['name']&&_0x2a8100[_0x1e94b9]['end']===null)return _0x2a8100[_0x1e94b9]['end']=_0x480ed5['length'],_0x49f7ce=this['_scanner']['read'](),_0x49f7ce!==lf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x1788+-0x23c1+0xc3a)):!(-0x1e1*0xd+-0x164+0x19d1);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x248b*0x1+-0x212b+0x1*-0x35f);}const _0x176ce9={'name':_0x261fe2,'value':null,'attributes':{},'start':_0x480ed5['length'],'end':null};if(_0x49f7ce=this['_scanner']['read'](),_0x49f7ce===hf){if(_0x49f7ce=this['_scanner']['read'](),_0x49f7ce!==cf)return this['_error']='expected\x20s'+'tring',!(0xf61*0x1+-0x52d+-0xa33);_0x176ce9['value']=this['_scanner']['buf']()['join'](''),_0x49f7ce=this['_scanner']['read']();}for(;;){switch(_0x49f7ce){case lf:return _0x2a8100['push'](_0x176ce9),!(-0x142d+0x1e25+-0x9f8);case df:{const _0x288562=this['_scanner']['buf']()['join']('');if(_0x49f7ce=this['_scanner']['read'](),_0x49f7ce!==hf)return this['_error']='expected\x20e'+'quals',!(0x7a7+0x1*-0x1ee3+0x173d);if(_0x49f7ce=this['_scanner']['read'](),_0x49f7ce!==cf)return this['_error']='expected\x20s'+'tring',!(0x7*0x4a3+-0xe49+-0x122b);const _0x39fd74=this['_scanner']['buf']()['join']('');_0x176ce9['attributes'][_0x288562]=_0x39fd74;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(0x2448+-0x2bd*-0xe+0x3*-0x18df);}_0x49f7ce=this['_scanner']['read']();}}}function rx(_0x4c0a1f,_0x59a562){for(const _0x536b6f in _0x59a562){if(!_0x59a562['hasOwnProp'+'erty'](_0x536b6f))continue;const _0x2d31b2=_0x59a562[_0x536b6f];_0x2d31b2 instanceof Object?(_0x4c0a1f['hasOwnProp'+'erty'](_0x536b6f)||(_0x4c0a1f[_0x536b6f]={}),rx(_0x4c0a1f[_0x536b6f],_0x59a562[_0x536b6f])):_0x4c0a1f[_0x536b6f]=_0x2d31b2;}}function wR(_0x25c495){if(_0x25c495['length']===0x223*0xd+0x151e+-0x1*0x30e5)return null;const _0x207261={};for(let _0x3555cf=0xd*-0x238+-0x1c*0x112+0x75a*0x8;_0x3555cf<_0x25c495['length'];++_0x3555cf){const _0x2d246d=_0x25c495[_0x3555cf],_0x3991a4={};_0x3991a4[_0x2d246d['name']]={'value':_0x2d246d['value'],'attributes':_0x2d246d['attributes']},rx(_0x207261,_0x3991a4);}return _0x207261;}function TR(_0x363433,_0x5aa68b){if(_0x363433['length']===-0xb*0x1c+0x1f23+-0x1def*0x1)return null;const _0x2546bd={};for(let _0x24c2e5=0x518+-0x137d+0xe65;_0x24c2e5<_0x363433['length'];++_0x24c2e5){const _0x21e769=_0x363433[_0x24c2e5];_0x2546bd['hasOwnProp'+'erty'](_0x21e769['start'])?_0x2546bd[_0x21e769['start']]['open']===null?_0x2546bd[_0x21e769['start']]['open']=[_0x21e769]:_0x2546bd[_0x21e769['start']]['open']['push'](_0x21e769):_0x2546bd[_0x21e769['start']]={'open':[_0x21e769],'close':null},_0x2546bd['hasOwnProp'+'erty'](_0x21e769['end'])?_0x2546bd[_0x21e769['end']]['close']===null?_0x2546bd[_0x21e769['end']]['close']=[_0x21e769]:_0x2546bd[_0x21e769['end']]['close']['push'](_0x21e769):_0x2546bd[_0x21e769['end']]={'open':null,'close':[_0x21e769]};}let _0x15410d=[];function _0x5e56cc(_0x11f93d){_0x15410d=_0x15410d['filter'](_0x8d21d9=>_0x11f93d['find'](_0xe67967=>_0xe67967===_0x8d21d9)===void(-0x1c30+0x1b*0x8b+0xd87));}function _0x18d8f0(_0x34fd8d){for(let _0x25360c=0x19*0x163+-0x1ba+-0xafb*0x3;_0x25360c<_0x34fd8d['length'];++_0x25360c)_0x15410d['push'](_0x34fd8d[_0x25360c]);}const _0x3fb438=Object['keys'](_0x2546bd)['sort']((_0x34d8ed,_0x6bf61c)=>_0x34d8ed-_0x6bf61c),_0x2e492d=[];for(let _0x5689c1=0xc9b+-0x53+0x83*-0x18;_0x5689c1<_0x3fb438['length'];++_0x5689c1){const _0x2d27f1=_0x2546bd[_0x3fb438[_0x5689c1]];_0x2d27f1['close']!==null&&_0x5e56cc(_0x2d27f1['close']),_0x2d27f1['open']!==null&&_0x18d8f0(_0x2d27f1['open']),_0x2e492d['push']({'start':_0x3fb438[_0x5689c1],'tags':wR(_0x15410d)});}const _0xe27536=[];let _0x29cf8e=null;for(let _0x108489=-0x2705+0x230e+0x3f7;_0x108489<_0x2e492d['length'];++_0x108489){const _0x3053eb=_0x2e492d[_0x108489];for(;_0xe27536['length']<_0x3053eb['start'];)_0xe27536['push'](_0x29cf8e?_0x29cf8e['tags']:null);_0x29cf8e=_0x3053eb;}for(;_0xe27536['length']<_0x5aa68b;)_0xe27536['push'](null);return _0xe27536;}function AR(_0x52418d){const _0x56d782=new bR(_0x52418d),_0x767bd4=[],_0x3dccef=[];if(!_0x56d782['parse'](_0x767bd4,_0x3dccef))return console['warn'](_0x56d782['error']()),{'symbols':_0x52418d,'tags':null};const _0x5d3cf5=_0x3dccef['find'](_0x506c76=>_0x506c76['end']===null);if(_0x5d3cf5)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x5d3cf5['name']+'\x27'),{'symbols':_0x52418d,'tags':null};const _0x14ff7d=TR(_0x3dccef,_0x767bd4['length']);return{'symbols':_0x767bd4,'tags':_0x14ff7d};}class ER{static['evaluate'](_0x438530){return AR(_0x438530);}}class CR{constructor(){this['count']=-0x215e+0x5cb*0x2+0x15c8,this['quad']=-0x1*-0x23db+0x2*-0x163+0x3*-0xb07,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function MR(_0x1594ed,_0x3f0baf){const _0x3d2962=new Ie(_0x1594ed);return _0x3d2962['setPositio'+'ns'](_0x3f0baf['positions']),_0x3d2962['setNormals'](_0x3f0baf['normals']),_0x3d2962['setColors3'+'2'](_0x3f0baf['colors']),_0x3d2962['setUvs'](-0x3*-0x4+0x20bb+-0xaed*0x3,_0x3f0baf['uvs']),_0x3d2962['setIndices'](_0x3f0baf['indices']),_0x3d2962['setVertexS'+'tream'](Po,_0x3f0baf['outlines'],0x943+-0x93b*-0x3+-0x24f1,void(-0x5*-0x6f0+0x1*0x1647+-0x38f7),Ee,!(-0xb60+0x1dd0+0x1*-0x126f)),_0x3d2962['setVertexS'+'tream'](Ro,_0x3f0baf['shadows'],-0x150b*0x1+-0x27d*0x1+-0x35d*-0x7,void(-0x1745+-0x135*0x2+0x19af),Ee,!(0x1*0x72a+0x694+-0xdbd)),_0x3d2962['update'](),_0x3d2962;}const ug=/^[\r\n]$/,PR=/^[ \t]$/,fg=/^[ \t\-]|\u200b$/,RR=/^[a-z0-9]$/i,pg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,IR=/^[〕〉》」』】〙〗〟ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻]$/,DR=['​','؜','‎','‏','‪','‫','‬','‭','‮','⁦','⁧','⁨','⁩'],LR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},mg=new Y(),FR=new W(),Me=new Y();class OR{constructor(_0x754495){this['_element']=_0x754495,this['_system']=_0x754495['system'],this['_entity']=_0x754495['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new gR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x1*0x821+-0x1bb0+0x138f*0x1),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(0x2559+0x2533+-0x4a8b,-0x233d+-0x20f*-0x9+0x10b7,-0x2*-0x167+0xf0e+-0x11db*0x1,-0x1ad5+-0x192*-0x3+0x2c4*0x8),this['_colorUnif'+'orm']=new Float32Array(0x6f4+-0xd76+0x1*0x685),this['_spacing']=0x7cc+-0x43*-0x93+-0x2e44,this['_fontSize']=0x22d7*-0x1+-0x1c42*-0x1+0x6b5,this['_fontMinY']=-0x6*-0x1c6+0x4*-0xfd+-0x6b0,this['_fontMaxY']=0x27d*-0x3+0x1*-0x2069+-0xb*-0x3a0,this['_originalF'+'ontSize']=-0x10ad+-0xfd9+0x20a6,this['_maxFontSi'+'ze']=-0xac*-0x1d+-0x15d8+0x2*0x13e,this['_minFontSi'+'ze']=-0x5dd*-0x1+0xa*0xf9+-0xf8f*0x1,this['_autoFitWi'+'dth']=!(0x1072+-0x238b+0x131a),this['_autoFitHe'+'ight']=!(-0x146c+-0xba1+0x200e),this['_maxLines']=-(0x1e6d*-0x1+-0x6*0xef+0x2408),this['_lineHeigh'+'t']=-0x1ab*0x5+-0x20b0+-0x5e1*-0x7,this['_scaledLin'+'eHeight']=0xaf*0x1d+-0x185b+-0x2*-0x254,this['_wrapLines']=!(-0x11d4+-0x26be+-0x3893*-0x1),this['_drawOrder']=0x141+-0x2*-0xd67+-0x1c0f,this['_alignment']=new W(-0x15a1+0x2b*0x83+-0x60+0.5,0x1347+0x3*0xb0a+-0x1*0x3465+0.5),this['_autoWidth']=!(-0x398*0x6+0x13c1+0x1cf),this['_autoHeigh'+'t']=!(-0x2db*-0x2+0x1*0x3df+0x1*-0x995),this['width']=-0x1f16+-0x37a+0x4f*0x70,this['height']=0x10ea+0x1*-0x99a+-0x750,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x1*0x1fe6+-0x26c0+0x6da),this['_aabb']=new _e(),this['_noResize']=!(-0xfd1+-0x384*0x9+0x2f76),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x32d+-0x5*-0x224+0x20*-0x6f),this['_unicodeCo'+'nverter']=!(-0x140d+-0x1286+0x2694),this['_rtl']=!(0x125*-0x19+-0x4*0x36e+0x2a56),this['_outlineCo'+'lor']=new Y(-0x18d1+-0x2f*-0x5d+0x7be,0xa31*-0x1+-0x130+0xb61,0x19ab*0x1+-0x16f8+-0x2b3,-0x29d*0x9+-0x19f0+0x3176),this['_outlineCo'+'lorUniform']=new Float32Array(0x211e+0x66*0x3b+0x389c*-0x1),this['_outlineTh'+'icknessSca'+'le']=0xeef*-0x1+0x1312+-0x423+0.2,this['_outlineTh'+'ickness']=-0xbb1*-0x2+0x1c9b+-0x33fd,this['_shadowCol'+'or']=new Y(-0x95b*0x4+-0x142d+0x3999,-0x79c+-0x14a1*-0x1+-0xd05,-0x2659+0x1*-0xaa9+0x3102,0x1d95*-0x1+0xc36*0x3+-0x70c),this['_shadowCol'+'orUniform']=new Float32Array(0xc03+0x23cd+0x13*-0x284),this['_shadowOff'+'setScale']=0x102b+0xbe8+-0x1c13+0.005,this['_shadowOff'+'set']=new W(-0x1b37+-0x18*-0xf7+0x40f,-0x2097+0x1*0x1bd9+0x4be),this['_shadowOff'+'setUniform']=new Float32Array(0x1ed9+0xf6*0x8+-0x2687),this['_enableMar'+'kup']=!(-0x17a5+-0x3*0x1fd+-0x7*-0x43b),this['_onScreenC'+'hange'](this['_element']['screen']),_0x754495['on']('resize',this['_onParentR'+'esize'],this),_0x754495['on']('set:screen',this['_onScreenC'+'hange'],this),_0x754495['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x754495['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x754495['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x1a1b+-0xb2c+0x2547,this['_rangeEnd']=0x1391+-0x1*-0x19eb+-0x2d7c;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x184d1d,_0x32d802){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x29f81c){_0x29f81c?this['_updateMat'+'erial'](_0x29f81c['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x1dbe+0x273+0x1b4c));}['_onScreenS'+'paceChange'](_0x37fd65){this['_updateMat'+'erial'](_0x37fd65);}['_onDrawOrd'+'erChange'](_0x408b5d){if(this['_drawOrder']=_0x408b5d,this['_model']){for(let _0x22ef50=-0x831+0x119*-0x18+-0x1a5*-0x15,_0x48177e=this['_model']['meshInstan'+'ces']['length'];_0x22ef50<_0x48177e;_0x22ef50++)this['_model']['meshInstan'+'ces'][_0x22ef50]['drawOrder']=_0x408b5d;}}['_onPivotCh'+'ange'](_0x2bb4bc){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x3f5086){if(this['_i18nKey']){if(this['fontAsset']){const _0x36f977=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x36f977||!_0x36f977['resource']||_0x36f977['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x3591b9,_0x2fcfee){this['_i18nKey']&&_0x2fcfee[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x8e6db9){if(this['unicodeCon'+'verter']){const _0x24bd7a=this['_system']['getUnicode'+'Converter']();_0x24bd7a?_0x8e6db9=_0x24bd7a(_0x8e6db9):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x8e6db9&&(this['_font']&&this['_updateTex'+'t'](_0x8e6db9),this['_text']=_0x8e6db9);}['_updateTex'+'t'](_0x21c34a){let _0x11b2f1;if(_0x21c34a===void(0x1c1*0xd+-0x7+-0x16c6)&&(_0x21c34a=this['_text']),this['_symbols']=ah['getSymbols'](_0x21c34a['normalize']?_0x21c34a['normalize']('NFC'):_0x21c34a),this['_symbols']['length']===0x19c9+-0x95f+0x106a*-0x1&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x39cc6d=ER['evaluate'](this['_symbols']);this['_symbols']=_0x39cc6d['symbols'],_0x11b2f1=_0x39cc6d['tags']||[];}if(this['_rtlReorde'+'r']){const _0x40efda=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x40efda){const _0x2465e1=_0x40efda(this['_symbols']);this['_rtl']=_0x2465e1['rtl'],this['_symbols']=_0x2465e1['mapping']['map'](function(_0x414975){return this['_symbols'][_0x414975];},this),_0x11b2f1&&(_0x11b2f1=_0x2465e1['mapping']['map'](_0x23a5ea=>_0x11b2f1[_0x23a5ea]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0xd9c+0x136b+-0x5ce);const _0x373ee8=(_0x6729a6,_0x5cf853)=>_0x6729a6['toString'](!(0x882+-0x10*-0xc9+0x3a*-0x5d))['toLowerCas'+'e']()+':'+_0x5cf853['toFixed'](-0x2ed*0x5+0xc65+-0x52*-0x7),_0x13dea0=(_0x2e6b5f,_0x3b51af)=>_0x2e6b5f['toString'](!(0x1*-0x25f9+-0x3*0xa39+0x44a4))['toLowerCas'+'e']()+':'+_0x3b51af['x']['toFixed'](0xe*-0x197+0xbf0+0xa54)+':'+_0x3b51af['y']['toFixed'](-0x1*-0x13f3+0x7e3+-0x1bd4);if(_0x11b2f1){const _0x50900b={},_0x4a0d81={},_0x36eb09={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x1*0x54e+-0x47*0xf+-0x1*0x26)),Math['round'](this['_color']['g']*(0x3e0+-0x1414+0x1133)),Math['round'](this['_color']['b']*(0x1a9b+0x24f+0x3fd*-0x7))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x1cb0+0x1ba7+-0x16*0x284)),Math['round'](this['_outlineCo'+'lor']['g']*(-0xf93+-0x1ac5+0x2b57)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x13eb+-0xa83+0x1*0x1f6d)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x1*0x18a3+0x1*0xb8d+0xe15)),Math['round'](this['_outlineTh'+'ickness']*(0x1*-0x9d9+-0x9f*0xd+0x12eb))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0xa7*0xa+0x141*-0x3+-0x4*-0x2d2)),Math['round'](this['_shadowCol'+'or']['g']*(0x917+0x2520+0x2*-0x169c)),Math['round'](this['_shadowCol'+'or']['b']*(0x1749+0x14cd+-0x2b17)),Math['round'](this['_shadowCol'+'or']['a']*(-0x1b*0x1+0x1078+-0x232*0x7)),Math['round'](this['_shadowOff'+'set']['x']*(0x16*-0x128+-0xba9*-0x1+0xe46)),Math['round'](this['_shadowOff'+'set']['y']*(0x662+-0x13f*-0x1d+-0x2a06))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x50900b[this['_color']['toString'](!(-0x12f5+0x4*0x1cd+0xbc2))['toLowerCas'+'e']()]=-0x4af*-0x1+0x13*-0x11f+0x109e,_0x4a0d81[_0x373ee8(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x1e02+0xd*0x257+-0x3c6d,_0x36eb09[_0x13dea0(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x193a*-0x1+-0xdaa*-0x2+-0x21a;for(let _0x1ec1b5=-0x1*0x551+0x1e46+-0x18f5,_0x3153da=this['_symbols']['length'];_0x1ec1b5<_0x3153da;++_0x1ec1b5){const _0x49b64a=_0x11b2f1[_0x1ec1b5];let _0x5ec9ad=0x289*0xd+-0x26d6+0x5e1;if(_0x49b64a&&_0x49b64a['color']&&_0x49b64a['color']['value']){const _0x4f0d38=_0x49b64a['color']['value'];if(_0x4f0d38['length']===0x2cf*0xb+0x41*0x85+0x1*-0x40a3&&_0x4f0d38[0x3*0x6eb+0x100*0x4+-0x18c1]==='#'){const _0x1aba5a=_0x4f0d38['substring'](-0xf4*-0x6+0x3*-0xb34+-0x25*-0xc1)['toLowerCas'+'e']();_0x50900b['hasOwnProp'+'erty'](_0x1aba5a)?_0x5ec9ad=_0x50900b[_0x1aba5a]:/^[0-9a-f]{6}$/['test'](_0x1aba5a)&&(_0x5ec9ad=this['_colorPale'+'tte']['length']/(-0xa19+0x1284+-0x21a*0x4),_0x50900b[_0x1aba5a]=_0x5ec9ad,this['_colorPale'+'tte']['push'](parseInt(_0x1aba5a['substring'](-0xe2d*-0x2+0x22b3+-0x3f0d,-0x15a4+-0x1e9d+0x3443),0x1*-0x1446+-0x16aa+-0xac0*-0x4)),this['_colorPale'+'tte']['push'](parseInt(_0x1aba5a['substring'](0x1669+-0x1df0+0x789,-0xde4+0x750+0x698),0x1daf+0x26d2+-0x4471)),this['_colorPale'+'tte']['push'](parseInt(_0x1aba5a['substring'](-0xcfd+0x4bd*0x4+-0x5f3,0x20f0+0x1*0x102f+0x1*-0x3119),0xf8+-0x455*0x9+0x2615)));}}this['_symbolCol'+'ors']['push'](_0x5ec9ad);let _0x2a63d7=-0xb83*0x1+-0xe05+0x8*0x331;if(_0x49b64a&&_0x49b64a['outline']&&(_0x49b64a['outline']['attributes']['color']||_0x49b64a['outline']['attributes']['thickness'])){let _0x525e3e=_0x49b64a['outline']['attributes']['color']?mg['fromString'](_0x49b64a['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x16a244=Number(_0x49b64a['outline']['attributes']['thickness']);(Number['isNaN'](_0x525e3e['r'])||Number['isNaN'](_0x525e3e['g'])||Number['isNaN'](_0x525e3e['b'])||Number['isNaN'](_0x525e3e['a']))&&(_0x525e3e=this['_outlineCo'+'lor']),Number['isNaN'](_0x16a244)&&(_0x16a244=this['_outlineTh'+'ickness']);const _0x3e4f43=_0x373ee8(_0x525e3e,_0x16a244);_0x4a0d81['hasOwnProp'+'erty'](_0x3e4f43)?_0x2a63d7=_0x4a0d81[_0x3e4f43]:(_0x2a63d7=this['_outlinePa'+'lette']['length']/(-0x10*-0x34+0x1059+0x1394*-0x1),_0x4a0d81[_0x3e4f43]=_0x2a63d7,this['_outlinePa'+'lette']['push'](Math['round'](_0x525e3e['r']*(0x8ae+0x431+0x4*-0x2f8)),Math['round'](_0x525e3e['g']*(-0x1196+0x121b+0x7a)),Math['round'](_0x525e3e['b']*(-0xf83+0x522+0x5b*0x20)),Math['round'](_0x525e3e['a']*(-0x23bb+0x2*-0x187+0x2*0x13e4)),Math['round'](_0x16a244*(0x1077+-0x246*0x11+0x8a*0x2b))));}this['_symbolOut'+'lineParams']['push'](_0x2a63d7);let _0x4ed5ad=0x905+-0x5*-0x6e1+0x15b5*-0x2;if(_0x49b64a&&_0x49b64a['shadow']&&(_0x49b64a['shadow']['attributes']['color']||_0x49b64a['shadow']['attributes']['offset']||_0x49b64a['shadow']['attributes']['offsetX']||_0x49b64a['shadow']['attributes']['offsetY'])){let _0x10cab7=_0x49b64a['shadow']['attributes']['color']?mg['fromString'](_0x49b64a['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x23f907=Number(_0x49b64a['shadow']['attributes']['offset']),_0x534d90=Number(_0x49b64a['shadow']['attributes']['offsetX']),_0x97b598=Number(_0x49b64a['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x10cab7['r'])||Number['isNaN'](_0x10cab7['g'])||Number['isNaN'](_0x10cab7['b'])||Number['isNaN'](_0x10cab7['a']))&&(_0x10cab7=this['_shadowCol'+'or']);const _0x47e63a=FR['set'](Number['isNaN'](_0x534d90)?Number['isNaN'](_0x23f907)?this['_shadowOff'+'set']['x']:_0x23f907:_0x534d90,Number['isNaN'](_0x97b598)?Number['isNaN'](_0x23f907)?this['_shadowOff'+'set']['y']:_0x23f907:_0x97b598),_0x48e477=_0x13dea0(_0x10cab7,_0x47e63a);_0x36eb09['hasOwnProp'+'erty'](_0x48e477)?_0x4ed5ad=_0x36eb09[_0x48e477]:(_0x4ed5ad=this['_shadowPal'+'ette']['length']/(0x15f3*0x1+-0x5*0x265+0xd*-0xc4),_0x36eb09[_0x48e477]=_0x4ed5ad,this['_shadowPal'+'ette']['push'](Math['round'](_0x10cab7['r']*(-0x93f+-0x1106+0x1b44)),Math['round'](_0x10cab7['g']*(-0x3*-0x1b4+-0x8fd+0x4e0)),Math['round'](_0x10cab7['b']*(0xf*0xa9+-0x1d0e+0x1426)),Math['round'](_0x10cab7['a']*(0x25bd*-0x1+-0x218*-0xa+0x11cc)),Math['round'](_0x47e63a['x']*(-0x342+0x4b5+-0xf4)),Math['round'](_0x47e63a['y']*(-0x8ba+-0x1899+0x21d2))));}this['_symbolSha'+'dowParams']['push'](_0x4ed5ad);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x1add69=this['_calculate'+'CharsPerTe'+'xture']();let _0x3ab3e9=!(-0x2348+-0x3*-0x153+0x1f50);const _0x11688a=this['_element'],_0x1c7e89=_0x11688a['_isScreenS'+'pace'](),_0x178c8d=_0x11688a['_isScreenC'+'ulled'](),_0x2552d6=function(_0x56d3cf){return _0x11688a['isVisibleF'+'orCamera'](_0x56d3cf);};for(let _0x3ccfba=-0x1*-0x381+-0xb*-0x2c5+0x1*-0x21f8,_0x1b649b=this['_meshInfo']['length'];_0x3ccfba<_0x1b649b;_0x3ccfba++){const _0x43587c=_0x1add69[_0x3ccfba]||-0x1ec5*0x1+-0x1*0x1c8b+-0x68*-0x92,_0x39ced3=this['_meshInfo'][_0x3ccfba];if(_0x39ced3['count']!==_0x43587c){if(_0x3ab3e9||(_0x11688a['removeMode'+'lFromLayer'+'s'](this['_model']),_0x3ab3e9=!(0x6e*0x4+-0xef*-0x1d+-0x1ccb)),_0x39ced3['count']=_0x43587c,_0x39ced3['positions']['length']=_0x39ced3['normals']['length']=_0x43587c*(-0x60*-0x22+-0x68f+-0x62e)*(-0x19a4+-0xd*0x24a+0x376a),_0x39ced3['indices']['length']=_0x43587c*(-0xca1*0x1+0x5*0x513+-0xcbb)*(-0xceb*-0x3+0x130*-0xf+0x14ef*-0x1),_0x39ced3['uvs']['length']=_0x43587c*(-0x1b96+0x1bdf+0x1*-0x47)*(0x492*0x6+-0x9*-0x3fc+-0x2*0x1fa2),_0x39ced3['colors']['length']=_0x43587c*(0x22c*-0x4+0x258e+-0x1cda)*(-0x7*0x2f9+0x138b+0x148),_0x39ced3['outlines']['length']=_0x43587c*(0x1007*0x1+0x4*0x73c+-0x2cf3*0x1)*(-0x5da+-0x252e*0x1+0x2b0b),_0x39ced3['shadows']['length']=_0x43587c*(0x1*-0x1357+0x1137+-0x224*-0x1)*(0x1088+-0x20c9+0x6*0x2b6),_0x39ced3['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x39ced3['meshInstan'+'ce']),_0x43587c===0x1*0x611+-0x56d+-0xa4){_0x39ced3['meshInstan'+'ce']=null;continue;}for(let _0x420537=0x1*-0x1c41+0x15a8+-0x233*-0x3;_0x420537<_0x43587c;_0x420537++)_0x39ced3['indices'][_0x420537*(-0x55e*-0x6+-0x6*-0x3de+0xa3*-0x57)*(-0x16d8+0x798+0xf42)+(0x3+-0x3d*0x25+0x8ce)]=_0x420537*(0x1c3f+0x9d7+-0x2*0x1309),_0x39ced3['indices'][_0x420537*(-0x150e+-0x1ec6+0x33d7*0x1)*(0x16c9*0x1+-0xcce+0x45*-0x25)+(0x166+-0xeb7*-0x2+-0x1ed3)]=_0x420537*(0x2a2+0xe49+-0x10e7)+(-0x1*-0x2168+-0x165d+0x6*-0x1d7),_0x39ced3['indices'][_0x420537*(0x55*-0x5f+0x1994+0x1e*0x33)*(0x993*-0x2+-0x1d88+0x1*0x30b0)+(-0x2479+-0x6af*0x2+0x31d9)]=_0x420537*(0x3*-0x1cf+0xa10+-0x49f)+(-0xd23+-0x3c2+0x10e8),_0x39ced3['indices'][_0x420537*(0x10f3*0x1+-0x1c3*0x14+0x124c)*(-0xb22+-0x96+0x9e*0x13)+(-0x762+-0x1db3*0x1+0x2518)]=_0x420537*(0x22cd*-0x1+0x2704+-0x433)+(0x84e+-0x2bc+0x164*-0x4),_0x39ced3['indices'][_0x420537*(-0x2*-0x1247+0xf8d*0x1+-0x2*0x1a0c)*(-0x246d*-0x1+0xae6+0x1*-0x2f51)+(-0x1c5*0xd+0x1*0x2593+0x6*-0x26d)]=_0x420537*(0x1927*-0x1+-0xe*-0x29f+-0xe3*0xd)+(0xae2+0x16e3+-0x21c2),_0x39ced3['indices'][_0x420537*(-0xd6*0x29+-0x1*0x6e2+0x292b)*(-0x1456+-0x85*0x3+0x15e7)+(0x183+-0x12e6+0x22d*0x8)]=_0x420537*(-0x1*-0x871+-0x1*0x217c+-0x5*-0x503)+(-0x253f+-0x18c*0xf+-0x1*-0x3c74),_0x39ced3['normals'][_0x420537*(-0x5*-0x13d+0x1*0x95+-0x6c2*0x1)*(0x2*0x9e5+0x1*0x1057+-0x241e)+(-0x1*0x24bc+0x13*0x57+0x17*0x151)]=-0xdf7+-0x1a28+0x281f,_0x39ced3['normals'][_0x420537*(-0x46a+0x25a0+-0x2132)*(-0x801+-0xccc+0x14d0)+(0x142a+-0xbb9+0x2d0*-0x3)]=0x121f*0x1+-0x1*0xf79+-0x153*0x2,_0x39ced3['normals'][_0x420537*(-0xd5d+0x51*-0x65+0x2d56)*(-0x1f7c+-0x59*0x52+0x3c01)+(0x60b+-0x54+0x3*-0x1e7)]=-(0x4bc+-0x1246+0x1*0xd8b),_0x39ced3['normals'][_0x420537*(-0x149a+-0x242b+0x1*0x38c9)*(-0x2*0x355+-0x1ef3+-0xac*-0x38)+(-0xaa*0x7+-0x49d*0x5+0x1bba)]=-0x4*-0xac+-0x1d86+0x479*0x6,_0x39ced3['normals'][_0x420537*(0x53*0x9+0x9db*0x3+-0x8*0x40f)*(-0xbb*0x19+0x935+0x1*0x911)+(-0x1030+-0x265d*0x1+0x1*0x3691)]=-0x1*0x1fe3+0x31a*0x3+0x1695,_0x39ced3['normals'][_0x420537*(0x13*0x12b+-0x3d4+0x1ab*-0xb)*(-0x986+0x1962+-0xfd9)+(0xe8*-0x17+0x2455+-0xf78)]=-(0x1592+-0x4*-0xbf+-0x188d),_0x39ced3['normals'][_0x420537*(-0x205e+0x3b*-0xa9+0x9*0x7ed)*(-0x86b+-0x35*-0x2+0x804)+(0x90b*-0x1+0x1*-0x1e52+-0x2763*-0x1)]=0x13a9+0x80f+-0x1bb8,_0x39ced3['normals'][_0x420537*(0x83*0x1d+-0x71*0x10+-0x7c3*0x1)*(0x361*-0x3+0x18c0+-0x216*0x7)+(0x34c*-0x7+0xf04+0x1*0x817)]=-0x20f2+-0x2*-0x13+-0x1*-0x20cc,_0x39ced3['normals'][_0x420537*(0x61*-0x11+-0x1*0x1fba+0x262f)*(0x13ab+-0xd1c+-0x68c)+(0xa6e+0x10d9+-0x1b3f)]=-(-0x2665+-0x1f16+0x457c),_0x39ced3['normals'][_0x420537*(0x758+-0x1*0x68b+-0x43*0x3)*(0x19ee+0x2*-0x3df+-0x122d)+(0x91*0x2d+-0x1a93*0x1+0x11f*0x1)]=-0xc97+-0x715*0x2+0x1ac1,_0x39ced3['normals'][_0x420537*(0x1*0xaa+0x160d+0x3*-0x791)*(0x3*-0x98f+-0x1de8+0x14*0x2ee)+(-0x1e89+0x1e9f+-0xc)]=-0xc2f*0x1+0x16a9+-0x9*0x12a,_0x39ced3['normals'][_0x420537*(0x1*0x713+-0x228b+-0x4*-0x6df)*(0x20bb+0xdc3+-0x2e7b)+(0x118d*-0x1+-0x222*-0x10+-0x422*0x4)]=-(-0xf4a+-0x1*-0x7f+0xecc);const _0x4e2da5=MR(this['_system']['app']['graphicsDe'+'vice'],_0x39ced3),_0x16e44c=new Le(_0x4e2da5,this['_material'],this['_node']);if(_0x16e44c['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x16e44c['castShadow']=!(-0x26ef+-0xf52+0x3642),_0x16e44c['receiveSha'+'dow']=!(0x8f3*-0x4+0x110a+0x12c3),_0x16e44c['cull']=!_0x1c7e89,_0x16e44c['screenSpac'+'e']=_0x1c7e89,_0x16e44c['drawOrder']=this['_drawOrder'],_0x178c8d&&(_0x16e44c['cull']=!(-0x8a9+0x187d*-0x1+-0x2126*-0x1),_0x16e44c['isVisibleF'+'unc']=_0x2552d6),this['_setTextur'+'eParams'](_0x16e44c,this['_font']['textures'][_0x3ccfba]),_0x16e44c['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x16e44c['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x16e44c['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x16e44c['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x16e44c['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x3ccfba]['width']),_0x16e44c['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x16e44c['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x16e44c['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x1625*0x1+-0x17ea*0x1+0x2e0f]=0x37*-0x37+0x1*0x21+0xbb0,this['_shadowOff'+'setUniform'][-0x1051*0x1+-0x45*0x56+-0x4f0*-0x8]=0x1*0x199d+-0x1*0x2027+0x9*0xba;else{const _0x1b77be=-this['_font']['data']['info']['maps'][_0x3ccfba]['width']/this['_font']['data']['info']['maps'][_0x3ccfba]['height'];this['_shadowOff'+'setUniform'][-0x1*0xf47+-0x3ad+0x12f4]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1169*0x1+0x1*0x150a+0x1d*-0x20]=_0x1b77be*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x16e44c['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x39ced3['meshInstan'+'ce']=_0x16e44c,this['_model']['meshInstan'+'ces']['push'](_0x16e44c);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x3ab3e9&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x2b*0x4f+0x122+0xc23*0x1,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x4a3c27){_0x4a3c27['destroy']();const _0x225872=this['_model']['meshInstan'+'ces']['indexOf'](_0x4a3c27);_0x225872!==-(0xaab+-0x2613+0x1b69)&&this['_model']['meshInstan'+'ces']['splice'](_0x225872,0x1a65+0x16*0xd3+0x1643*-0x2);}['_setMateri'+'al'](_0x1832d2){if(this['_material']=_0x1832d2,this['_model'])for(let _0x45b9a9=-0x1d0f+-0x7e*0x1a+0x29db,_0x3621d8=this['_model']['meshInstan'+'ces']['length'];_0x45b9a9<_0x3621d8;_0x45b9a9++){const _0x220361=this['_model']['meshInstan'+'ces'][_0x45b9a9];_0x220361['material']=_0x1832d2;}}['_updateMat'+'erial'](_0x3167ee){const _0x37fff2=this['_element'],_0x271dbf=_0x37fff2['_isScreenC'+'ulled'](),_0x5f5c2c=function(_0x311e17){return _0x37fff2['isVisibleF'+'orCamera'](_0x311e17);},_0x970c7d=this['_font']&&this['_font']['type']===Kh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x3167ee,_0x970c7d,this['_enableMar'+'kup']),this['_model'])for(let _0x29fc50=-0x4c9+0xc3f+-0x776,_0x2a5fae=this['_model']['meshInstan'+'ces']['length'];_0x29fc50<_0x2a5fae;_0x29fc50++){const _0x32574d=this['_model']['meshInstan'+'ces'][_0x29fc50];_0x32574d['cull']=!_0x3167ee,_0x32574d['material']=this['_material'],_0x32574d['screenSpac'+'e']=_0x3167ee,_0x271dbf?(_0x32574d['cull']=!(-0x17cb+-0x1*0x50+0xb*0x231),_0x32574d['isVisibleF'+'unc']=_0x5f5c2c):_0x32574d['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0xe3+0x13da+0x14bd*-0x1]=-0x54c*-0x6+-0xc6b+0x3*-0x674,this['_colorUnif'+'orm'][-0x2*-0x7fd+0x2*-0x78e+-0xdd]=-0x1aef+0xa*0x37e+0xe*-0x92,this['_colorUnif'+'orm'][-0x2342*0x1+0xcc7+-0x3*-0x77f]=-0x1*0x220a+-0x1924+0x3b2f):(Me['linear'](this['_color']),this['_colorUnif'+'orm'][0x687+0x233d+-0x29c4]=Me['r'],this['_colorUnif'+'orm'][0x73c*-0x3+0xe32+0x783]=Me['g'],this['_colorUnif'+'orm'][-0x142f+0xa6b+0x9c6]=Me['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x2*0x8df+0x575*0x3+-0x15f*-0x1]=0x1015*-0x1+0x2165+-0x1150,this['_outlineCo'+'lorUniform'][-0x1*-0x1d1d+0x1*0x9d+0x7*-0x43f]=-0x1945*0x1+-0xa1*-0x32+0x33*-0x1f,this['_outlineCo'+'lorUniform'][-0x1eed+-0xbbd+-0x2aac*-0x1]=0x117+-0x2*-0x2e8+-0x1f*0x39,this['_outlineCo'+'lorUniform'][0x1545+-0x133*-0x1d+-0x3809]=-0x249c+-0x1a3d+0x3eda):(Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x372+0x45*-0x25+0x3*0x22d]=Me['r'],this['_outlineCo'+'lorUniform'][-0x17c*-0x6+-0x4c9+-0x2*0x20f]=Me['g'],this['_outlineCo'+'lorUniform'][0x1*-0x1237+-0x577*0x4+-0x1*-0x2815]=Me['b'],this['_outlineCo'+'lorUniform'][0xbf*-0x28+0x2*0x815+0xdb1]=Me['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1*0x1628+-0x21f4+0xbcc]=-0x10*-0xc1+-0x1b17+0xf07*0x1,this['_shadowCol'+'orUniform'][0x18f+-0x13a1+0x1213]=-0x5*-0x704+0x20e1+-0x43f5,this['_shadowCol'+'orUniform'][0x1*-0xf75+-0xa33+0x1b6*0xf]=-0x5c9*-0x3+0x1*0x1319+-0x91d*0x4,this['_shadowCol'+'orUniform'][0x3*0x5e7+0xef*0x3+-0x147f]=0xecb+-0x656*-0x3+-0x21cd*0x1):(Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x21a2+-0x1*-0x2285+-0x4427*0x1]=Me['r'],this['_shadowCol'+'orUniform'][-0x2299*-0x1+-0x103+-0x2195*0x1]=Me['g'],this['_shadowCol'+'orUniform'][0xa08+0x19*-0x89+0x35b*0x1]=Me['b'],this['_shadowCol'+'orUniform'][0x10c+-0xf0b+0xe02]=Me['a']);}['_isWordBou'+'ndary'](_0x2f08c2){return fg['test'](_0x2f08c2);}['_isValidNe'+'xtChar'](_0x3efc68){return _0x3efc68!==null&&!IR['test'](_0x3efc68);}['_isNextCJK'+'Boundary'](_0x534086,_0x185869){return pg['test'](_0x534086)&&(fg['test'](_0x185869)||RR['test'](_0x185869));}['_isNextCJK'+'WholeWord'](_0x197adb){return pg['test'](_0x197adb);}['_updateMes'+'hes'](){const _0x233ce7=this['_font']['data'],_0x430cba=this,_0x1ecbe1=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x1fe334=this['_maxFontSi'+'ze'],_0x6ee59d=this['_shouldAut'+'oFit']();_0x6ee59d&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x28a5c1=-0x29*-0xd+0x48*-0x3d+0xf33,_0x37eaf3=this['_symbols']['length'];let _0x791f12=-0x931+-0x7c6+0x10f7*0x1,_0x59007b=0x317*0x7+-0x7*-0x54f+-0x3aca,_0x27c40e=0x14b6+-0x1e9d+0x9e7,_0x5f023e=-0x1695+-0x1*-0x16af+-0x1a,_0x29a5d8=0xd3*0x17+-0x1875+0x581,_0x3a7527=-0x19c7+-0x1cf3+0x36ba,_0x2f8756=0x1*-0x18ae+0x14e3*-0x1+-0x5*-0x91d,_0x26662d=-0x10*-0x1f2+-0x1*0x1b47+-0x3d9*0x1,_0x445105=0x20e7+0x455+0x2*-0x129e,_0x39fde9=0xcae+0x859*-0x3+0x5*0x279,_0xb23249=-0x13fe+0xf30+0x4ce;const _0x10e1c1=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x1bb3+0x3*-0x6b+0x1cf4+0.0001;let _0xf236cb=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x10e1c1||!this['_wrapLines'])&&(_0xf236cb=Number['POSITIVE_I'+'NFINITY']);let _0x1c440b=-0xda*-0x1a+0x1783*0x1+-0x193*0x1d,_0x1b65a8=-0x1c42+-0x883*-0x4+-0x5ca,_0x308dbf,_0x59865d,_0x5298d3,_0x18f5ee;function _0x500554(_0x306d0b,_0x3932e8,_0x45e586){_0x430cba['_lineWidth'+'s']['push'](Math['abs'](_0x45e586));const _0x283751=_0x26662d>_0x3932e8?_0x3932e8+(-0x8d4+-0x1*-0x25ff+-0x1*0x1d2a):_0x26662d,_0x537a54=_0x26662d>_0x3932e8?_0x26662d+(-0xc*-0x263+-0x5a7+-0x1*0x16fc):_0x3932e8,_0x452cb1=_0x306d0b['slice'](_0x283751,_0x537a54);if(_0xb23249){let _0x3546d8=_0x452cb1['length'];for(;_0x3546d8--&&_0xb23249>0x47*-0x5+-0x131e*0x2+0x17*0x1b9;)ug['test'](_0x452cb1[_0x3546d8])&&(_0x452cb1['splice'](_0x3546d8,0x2098+-0x1*0x7e1+-0x18b6),_0xb23249--);}_0x430cba['_lineConte'+'nts']['push'](_0x452cb1['join']('')),_0x791f12=0x171a+-0x7c4+-0xf56,_0x59007b-=_0x430cba['_scaledLin'+'eHeight'],_0x29a5d8++,_0x445105=-0x92f+-0x14f*-0x3+-0x1*-0x542,_0x39fde9=-0xe7*0x1e+0xc39+0xed9,_0xb23249=0x47*-0x82+0x195d+0xab1,_0x3a7527=0xa6*-0x1b+0x839*0x3+-0x729,_0x26662d=_0x3932e8;}let _0x1f5dda=!(0x6b5*-0x5+0x25c8+-0x43f);for(;_0x1f5dda;){_0x1f5dda=!(0xd63+-0x7ed+-0x575),_0x6ee59d?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x153c+-0x861+0x1d9d*0x1+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0xcd3+-0x21bc+0x14e9,this['height']=0x157b+-0xa*0x14f+-0x865,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x791f12=-0x3ed+0x59*-0x5+0x2d5*0x2,_0x59007b=0x236a+0x14ef+-0x19*0x241,_0x27c40e=0x2361+0x69e+-0x29ff,_0x5f023e=-0x1*0x18de+-0x389*0x1+0x1c67,_0x29a5d8=0xdfd*-0x2+-0x127b+-0x272*-0x13,_0x3a7527=-0x1*0x2055+0xffd+0x1058,_0x2f8756=0xdb*0x9+0x1605+0x1*-0x1db8,_0x26662d=0x1*-0x12f9+0x2d3+-0x562*-0x3,_0x445105=-0x778*-0x4+-0x1*0x1c4+-0x1c1c,_0x39fde9=0x7c4+-0xe4b*-0x1+-0x1*0x160f,_0xb23249=-0x1dd*-0x3+-0x1b*-0xde+-0x1d01;const _0x19ffdb=this['_fontSize']/_0x28a5c1;_0x1c440b=this['_fontMinY']*_0x19ffdb,_0x1b65a8=this['_fontMaxY']*_0x19ffdb;for(let _0x38f9d6=-0x2*-0x67+-0x12bb+0x11ed;_0x38f9d6<this['_meshInfo']['length'];_0x38f9d6++)this['_meshInfo'][_0x38f9d6]['quad']=-0x7b*0x3c+0x1*-0x70b+-0xbf5*-0x3,this['_meshInfo'][_0x38f9d6]['lines']={};let _0x14105b=0xb50+0x127d*0x1+-0x1cce,_0x36f28d=0x1e0b*0x1+0x1a9+-0x1*0x1eb5,_0x183d38=-0x2556+0x1f2e+0x1*0x727,_0x2f87df=-0x6d+-0x14*-0x89+-0x1*0x948+(0x1*0x1a2d+-0xc2*-0x1+-0x19f0)*(-0x162d+-0x1*0x1737+-0x1*-0x2e64),_0x1c2055=0x259*0x9+0x2468+-0x1*0x388a+(-0x1861+-0x3*0x935+0x34ff)*(-0xc12+0xd*0x1fd+0xcc7*-0x1),_0x511637=-0x211*0x9+0x3a6*-0x2+-0x7*-0x3b3,_0x6477d6=0xf59*-0x1+-0x2e*0x8b+0x2952+(0x2*-0x1d2+0xe6c+0x9c9*-0x1)*(-0x1481+-0x1508+0x2a89),_0x2a27d5=-0xd*-0x176+0x63f+-0x183e+(0xe*0x171+0x151f+-0x284e)*(-0x175c*0x1+-0x13ca*-0x1+0xf*0x4e),_0x4bd578=0x251a+0x2*-0xb06+-0x1*0xe8f+(-0x1aef+-0x1431+0x2f9f)*(-0x1986+-0x101*-0x9+0x117d);for(let _0x3ab2ee=-0x1f8a+0x1ca0+0x2ea;_0x3ab2ee<_0x37eaf3;_0x3ab2ee++){if(_0x308dbf=this['_symbols'][_0x3ab2ee],_0x18f5ee=_0x3ab2ee+(-0x10c2+0x16c3+-0x600)>=_0x37eaf3?null:this['_symbols'][_0x3ab2ee+(0x456*0x2+0x2d*0x4f+0x1*-0x168e)],ug['test'](_0x308dbf)){_0xb23249++,(!this['_wrapLines']||this['_maxLines']<-0xad1+-0x6*0x316+0x1d55||_0x29a5d8<this['_maxLines'])&&(_0x500554(this['_symbols'],_0x3ab2ee,_0x5f023e),_0x2f8756=_0x3ab2ee+(0x1da1+-0x255c*-0x1+0x10bf*-0x4),_0x26662d=_0x3ab2ee+(-0x19a3*-0x1+0x1*0x8cb+-0x226d));continue;}let _0x18c92f=-0x246b+0x21e0+0x28b,_0x334457=0x1930+-0xc61*-0x3+-0x3e53,_0x100b70=-0xa1*0x6+0x1f2*-0xb+0x192c,_0x1facba=-0x163c+0x9ca+0xc73,_0x156ae7,_0x3e4d76;if(_0x59865d=_0x233ce7['chars'][_0x308dbf],!_0x59865d){if(DR['indexOf'](_0x308dbf)!==-(-0x2098+0x1884+0x815))_0x59865d=LR;else{if(_0x233ce7['chars']['\x20'])_0x59865d=_0x233ce7['chars']['\x20'];else for(const _0xac2548 in _0x233ce7['chars']){_0x59865d=_0x233ce7['chars'][_0xac2548];break;}_0x233ce7['missingCha'+'rs']||(_0x233ce7['missingCha'+'rs']=new Set()),_0x233ce7['missingCha'+'rs']['has'](_0x308dbf)||(console['warn']('Character\x20'+'\x27'+_0x308dbf+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x233ce7['info']['face']),_0x233ce7['missingCha'+'rs']['add'](_0x308dbf));}}if(_0x59865d){let _0x2ed4f6=0x20d*-0xe+0x6ca+0x15ec;if(_0x39fde9>0x14c6*0x1+0x78c+-0x1c52){const _0x58e125=this['_font']['data']['kerning'];if(_0x58e125){const _0xa31c48=_0x58e125[ah['getCodePoi'+'nt'](this['_symbols'][_0x3ab2ee-(0x112*-0x5+-0x2*0x485+0xe65)])||-0xdf2+-0x1ac3*0x1+0x1*0x28b5];_0xa31c48&&(_0x2ed4f6=_0xa31c48[ah['getCodePoi'+'nt'](this['_symbols'][_0x3ab2ee])||-0x13f3*0x1+-0x3d*0x1b+0x1a62]||-0x3*-0x3b7+0x7c*0x25+-0x7*0x427);}}_0x156ae7=_0x59865d['scale']||-0x701+0x1*-0x72d+-0xe2f*-0x1,_0x3e4d76=(_0x59865d['width']+_0x59865d['height'])/(0x2f0*-0x9+-0x9*-0x175+0xd55),_0x1facba=_0x19ffdb*_0x3e4d76/_0x156ae7,_0x100b70=(_0x59865d['xadvance']+_0x2ed4f6)*_0x19ffdb,_0x18c92f=(_0x59865d['xoffset']-_0x2ed4f6)*_0x19ffdb,_0x334457=_0x59865d['yoffset']*_0x19ffdb;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x308dbf+'\x27');const _0x32af87=PR['test'](_0x308dbf),_0x1115aa=_0x59865d&&_0x59865d['map']||0x1a93+0x3b8+-0x1e4b,_0x513e64=-this['_font']['data']['info']['maps'][_0x1115aa]['width']/this['_font']['data']['info']['maps'][_0x1115aa]['height'],_0x5d82e3=this['_meshInfo'][_0x1115aa],_0x280b06=_0x791f12+this['_spacing']*_0x100b70;if(_0x280b06>_0xf236cb&&_0x39fde9>0x25cb+-0x23a0+-0x22b&&!_0x32af87&&(this['_maxLines']<-0xf47*-0x1+0x1e1e+-0x2d65||_0x29a5d8<this['_maxLines'])){if(_0x445105===0xc*0x64+-0x1bde+0x172e)_0x2f8756=_0x3ab2ee,_0x500554(this['_symbols'],_0x3ab2ee,_0x5f023e);else{const _0x5c4e78=Math['max'](_0x3ab2ee-_0x2f8756,0xb*-0x27a+-0x2306+0x3e44);if(this['_meshInfo']['length']<=-0x1bd2+0x64+-0x1b6f*-0x1)_0x5d82e3['lines'][_0x29a5d8-(0x1*0xa1b+0x209d+-0x2ab7)]-=_0x5c4e78,_0x5d82e3['quad']-=_0x5c4e78;else{const _0x299ae5=_0x2f8756,_0x29710b=_0x3ab2ee;for(let _0x2ad7d2=_0x299ae5;_0x2ad7d2<_0x29710b;_0x2ad7d2++){const _0x31cec4=this['_symbols'][_0x2ad7d2],_0x40e412=_0x233ce7['chars'][_0x31cec4],_0x122381=this['_meshInfo'][_0x40e412&&_0x40e412['map']||0x187d*-0x1+0xa92+0xdeb];_0x122381['lines'][_0x29a5d8-(-0x1*-0x283+0xb*0x295+-0x1ee9)]-=-0x56*-0x67+0xc0c+-0x2ea5,_0x122381['quad']-=-0x4*-0x5dc+-0x11*-0x182+-0x3111;}}_0x3ab2ee-=_0x5c4e78+(0x10cc+0x661+0x1*-0x172c),_0x500554(this['_symbols'],_0x2f8756,_0x3a7527);continue;}}_0x5298d3=_0x5d82e3['quad'],_0x5d82e3['lines'][_0x29a5d8-(0x2023*0x1+0x4e1*0x7+-0x4249)]=_0x5298d3;let _0x3da4cd=_0x791f12-_0x18c92f,_0x5d91f0=_0x3da4cd+_0x1facba;const _0x3a2b99=_0x59007b-_0x334457,_0x550f5d=_0x3a2b99+_0x1facba;if(this['_rtl']){const _0x3e473e=_0x1facba-_0x18c92f-this['_spacing']*_0x100b70-_0x18c92f;_0x3da4cd-=_0x3e473e,_0x5d91f0-=_0x3e473e;}_0x5d82e3['positions'][_0x5298d3*(-0x9fd*-0x1+0x1e3+-0x17*0x84)*(0x2345+0x2019+-0x435b)+(0xe65+0x1c52+0x87*-0x51)]=_0x3da4cd,_0x5d82e3['positions'][_0x5298d3*(0x562+-0x44*-0x5c+-0x1dce)*(0x26bd+-0x2c5*0xb+-0x843)+(-0x22df+-0x1612+0xc5*0x4a)]=_0x3a2b99,_0x5d82e3['positions'][_0x5298d3*(-0x6cc+0x69d*-0x4+0x2144)*(-0x437+-0x18fd*0x1+0x1d37)+(0x34*0x98+0x1c67+-0x3b45)]=_0x27c40e,_0x5d82e3['positions'][_0x5298d3*(-0x3fa*-0x6+-0x1*0x1896+0xbe)*(-0x2392+0xac1*-0x3+0x43d8)+(0x1454*0x1+0x967*-0x1+-0xaea)]=_0x5d91f0,_0x5d82e3['positions'][_0x5298d3*(-0x15a+0x11*0x11f+-0x11b1)*(-0x9e+-0x227+0x2c8)+(0xb77+0x29*-0xda+0x1777)]=_0x3a2b99,_0x5d82e3['positions'][_0x5298d3*(0x279*-0x3+-0x9e+0x80d)*(-0x949*0x1+0x1f7f+-0x1*0x1633)+(-0x47b+0x4*0x2bf+-0x67c)]=_0x27c40e,_0x5d82e3['positions'][_0x5298d3*(0x157e*0x1+0x14*-0x1c5+0xdea)*(0x36e*0x5+0x59*-0x3b+0xc*0x48)+(-0xc2*0x2d+-0x25c1+0x47e1)]=_0x5d91f0,_0x5d82e3['positions'][_0x5298d3*(-0x1e2d+-0x1*-0x3fa+0x1a37)*(-0x23bb+0xb59+0x1865)+(0x123b+-0x713+-0x4d*0x25)]=_0x550f5d,_0x5d82e3['positions'][_0x5298d3*(-0x3d7*0xa+-0x2671+0x313*0x19)*(-0x15e4+-0x43a*0x2+0x1e5b)+(0x196f*0x1+-0x1281*0x1+-0x6e6)]=_0x27c40e,_0x5d82e3['positions'][_0x5298d3*(0x26f9+0x20a0+-0x5*0xe51)*(0x1806+-0x2503+0x1a*0x80)+(0xd*-0x1e9+0x1073+0x86b)]=_0x3da4cd,_0x5d82e3['positions'][_0x5298d3*(-0x1*-0x3a1+-0x2*0xffd+0x1c5d)*(-0x5*-0x5fa+-0x557*-0x2+-0x288d)+(-0x8*-0x3b1+-0x2b*-0xae+-0x8*0x757)]=_0x550f5d,_0x5d82e3['positions'][_0x5298d3*(-0x116d+0x1b4+-0x33*-0x4f)*(-0x166+0x29e*-0xb+0x1e33)+(0x14b8+-0x6b8+-0xdf5)]=_0x27c40e,this['width']=Math['max'](this['width'],_0x280b06);let _0x5b8a06;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x5b8a06=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0x2*0x1127+-0x5d0*-0x1+-0x4f*0x82+0.0001)),_0x5b8a06=N['clamp'](_0x5b8a06,_0x1ecbe1,_0x1fe334),_0x5b8a06!==this['_element']['fontSize'])){this['_fontSize']=_0x5b8a06,_0x1f5dda=!(0x1*-0xa54+0x22c*0x2+-0x2*-0x2fe);break;}if(this['height']=Math['max'](this['height'],_0x1b65a8-(_0x59007b+_0x1c440b)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x5b8a06=N['clamp'](this['_fontSize']-(-0x1*-0x1f57+0x1f66+-0x3ebc),_0x1ecbe1,_0x1fe334),_0x5b8a06!==this['_element']['fontSize'])){this['_fontSize']=_0x5b8a06,_0x1f5dda=!(-0xe99+-0x1*0x2065+0x191*0x1e);break;}_0x791f12+=this['_spacing']*_0x100b70,_0x32af87||(_0x5f023e=_0x791f12),(this['_isWordBou'+'ndary'](_0x308dbf)||this['_isValidNe'+'xtChar'](_0x18f5ee)&&(this['_isNextCJK'+'Boundary'](_0x308dbf,_0x18f5ee)||this['_isNextCJK'+'WholeWord'](_0x18f5ee)))&&(_0x445105++,_0x3a7527=_0x5f023e,_0x2f8756=_0x3ab2ee+(-0xd0c+0x388*-0x3+-0x17a5*-0x1)),_0x39fde9++;const _0x475d9d=this['_getUv'](_0x308dbf);if(_0x5d82e3['uvs'][_0x5298d3*(0x1*0x100d+-0x15b*-0x8+-0x3d7*0x7)*(0xd59+0x1fbe+-0x2d15)+(0x10c9+-0x15de+0x515)]=_0x475d9d[0x15fe+-0x503*0x6+0x814],_0x5d82e3['uvs'][_0x5298d3*(-0x3b*-0x97+0x1ccf+-0x3f98)*(-0x3d6*0x1+-0x1430+0x1808)+(0x4*-0x929+-0x1c59+0x40fe)]=0xa90+0x5*0x57b+0x2b*-0xe2-_0x475d9d[-0x91f*0x1+0x1*-0x1ebf+0x27df],_0x5d82e3['uvs'][_0x5298d3*(0x1*-0x306+0x43*0xb+0x29)*(0x1a18+0x1*-0x16a1+-0x375)+(-0xa27*-0x2+0x6*-0x4ac+-0x14a*-0x6)]=_0x475d9d[-0xf2a+0xc*-0x1f+0x7*0x260],_0x5d82e3['uvs'][_0x5298d3*(0x1db7+-0x107d+-0x26*0x59)*(-0xc*-0x251+0x1*0x13d9+0x2d*-0x10f)+(0x714+-0x1*-0xb65+-0x1276)]=0x1*-0x22fb+0x1f0+0x210c-_0x475d9d[0x1*-0x9ad+-0xb28+0x14d6],_0x5d82e3['uvs'][_0x5298d3*(0xaa3+-0x229*-0x6+-0x1795*0x1)*(0x10ea+0x1*0x1ff3+-0x30db)+(0x3a1*0x6+-0x83b+-0xd87)]=_0x475d9d[0xd3*-0xe+-0x1249+-0x7*-0x443],_0x5d82e3['uvs'][_0x5298d3*(-0x1*-0x38a+-0x7d2+0x44c*0x1)*(-0x20a2+0x2671+-0x5cd)+(0x7*0x4d+-0x1d42+-0x4*-0x6cb)]=-0x1145+-0x174d+-0x1*-0x2893-_0x475d9d[0x19*0x71+-0x12fa+0x7f4],_0x5d82e3['uvs'][_0x5298d3*(0x1347+0xf3a+-0x227d)*(-0x4*-0x443+-0x5*-0x6da+0xc4*-0x43)+(0x1997+-0x311+0x48*-0x50)]=_0x475d9d[-0x26a9*-0x1+0xd39*-0x2+-0xc37],_0x5d82e3['uvs'][_0x5298d3*(0x17a+0x121*-0x22+0x24ec)*(-0x139*0x1d+0x25b+-0x146*-0x1a)+(-0x19b3+0x85f+0x115b)]=-0x177b+0x26*0x55+0x1a*0x6b-_0x475d9d[-0x1*0x35e+-0x2181+0x24e2],this['_symbolCol'+'ors']){const _0x16ce6b=this['_symbolCol'+'ors'][_0x3ab2ee]*(-0x71e*-0x2+-0x1ca3*0x1+0x171*0xa);_0x14105b=this['_colorPale'+'tte'][_0x16ce6b],_0x36f28d=this['_colorPale'+'tte'][_0x16ce6b+(0x15e0+-0x6d3*0x1+-0x12*0xd6)],_0x183d38=this['_colorPale'+'tte'][_0x16ce6b+(-0xec5*-0x2+-0x23ea+0x662)];}if(_0x5d82e3['colors'][_0x5298d3*(0x1511*-0x1+0x1712+-0x1fd)*(0x5*0x752+0x2587+-0x4a1d)+(0x3*0x73d+-0x2579*-0x1+-0x3b30)]=_0x14105b,_0x5d82e3['colors'][_0x5298d3*(0x8ae+-0xd1d*-0x1+-0x15c7)*(-0xf67*-0x2+-0x1*-0x583+-0x244d)+(0xea*-0xa+0x5*0x7d+0x6b4)]=_0x36f28d,_0x5d82e3['colors'][_0x5298d3*(0x1d*0x148+-0x1db3+0x3*-0x27b)*(0x1944+0x1c*0x24+-0x1d30)+(-0x2ac+-0x26b4+0x2962)]=_0x183d38,_0x5d82e3['colors'][_0x5298d3*(-0x1bc8+0x347*0x9+-0x5*0x57)*(-0x1*-0x8a9+-0x1*0x97d+0xd8)+(-0xee0*-0x1+-0x1f33+-0xf6*-0x11)]=0x1b7d+0x19*-0x153+0x69d*0x1,_0x5d82e3['colors'][_0x5298d3*(0x2*-0x566+0x66b+0x465)*(0x1*-0x574+0x14*0x191+0x4*-0x677)+(-0x46c+0xcc4+-0x2*0x42a)]=_0x14105b,_0x5d82e3['colors'][_0x5298d3*(0x4*-0x488+0x5f*-0x29+-0x215b*-0x1)*(0xd*-0x1f+-0x2*0xe92+0x1ebb)+(0x13d3+-0x89*0x1+-0x1*0x1345)]=_0x36f28d,_0x5d82e3['colors'][_0x5298d3*(-0xfe3*0x1+0x293*0xd+-0x1190)*(0x2120+0x1b4*0x11+-0x3e10)+(0x10e2+-0x22b0+-0x28c*-0x7)]=_0x183d38,_0x5d82e3['colors'][_0x5298d3*(0x38*0x32+-0x1e6d+-0x1381*-0x1)*(0x20a7+0x16b7+0xda*-0x41)+(-0x1efe*-0x1+-0x2203+0x30c)]=-0x1a78+0x1*-0x2275+0x3dec,_0x5d82e3['colors'][_0x5298d3*(0x7ae*-0x1+0x16f8+-0xf46*0x1)*(0x7f2+0xf09+-0x16f7)+(-0x20c9+0x506*-0x2+-0x2add*-0x1)]=_0x14105b,_0x5d82e3['colors'][_0x5298d3*(0xed1*0x1+0x1960*0x1+-0x55*0x79)*(0x1*0x1ec0+-0x1bdf+-0x2dd)+(0x1*0x15c+0x1*0x11d1+-0x1324)]=_0x36f28d,_0x5d82e3['colors'][_0x5298d3*(0xc53+-0x221*-0xa+0x2f*-0xb7)*(0x1*-0x1e21+-0x23e6+-0x420b*-0x1)+(0x479+-0x208c+0x3*0x95f)]=_0x183d38,_0x5d82e3['colors'][_0x5298d3*(-0x66d*-0x1+0x113*-0x19+0x1472)*(0x2154*-0x1+0x1d58+0x400)+(-0x195b+-0xe4b+0x27b1)]=0x4fd*-0x6+0x20c6+-0x1d9*0x1,_0x5d82e3['colors'][_0x5298d3*(0x11c*0x10+0x1*-0x2235+-0x1079*-0x1)*(0x11d0+0x629*0x4+0x184*-0x1c)+(0x2417+-0x1*-0x1c6a+0x1d*-0x239)]=_0x14105b,_0x5d82e3['colors'][_0x5298d3*(0x1*-0x957+0x18cd+-0xf72*0x1)*(-0xdd1+-0x17e7+-0xd2*-0x2e)+(-0xcdc*0x2+-0x10ee*0x1+-0x1*-0x2ab3)]=_0x36f28d,_0x5d82e3['colors'][_0x5298d3*(-0x7*0x2f9+0x1947+-0x474)*(0x130e*-0x2+-0x3*-0xb19+0x4d5)+(-0x1*-0x1837+0xd*0x298+-0x543*0xb)]=_0x183d38,_0x5d82e3['colors'][_0x5298d3*(-0xf8a+0x117*0x11+-0x2f9)*(-0x254d*0x1+-0x5d*-0x2f+0x143e)+(0x713*-0x1+-0x1*-0x25cf+-0x1ead*0x1)]=-0x963*-0x3+0x577+-0x1*0x20a1,this['_symbolOut'+'lineParams']){const _0x18c95d=this['_symbolOut'+'lineParams'][_0x3ab2ee]*(0x621+0x1*0x169a+0x4c9*-0x6);_0x2f87df=this['_outlinePa'+'lette'][_0x18c95d]+this['_outlinePa'+'lette'][_0x18c95d+(0x2*0x8e7+0x318*0x4+0x135*-0x19)]*(0x2196+0x2659+-0x46ef),_0x1c2055=this['_outlinePa'+'lette'][_0x18c95d+(0x7a*0x13+-0x64e*-0x5+-0x2892)]+this['_outlinePa'+'lette'][_0x18c95d+(-0x1f*-0x125+-0xa8b+-0x18ed)]*(0x37*-0x69+0x383*0xa+-0xb8f),_0x511637=this['_outlinePa'+'lette'][_0x18c95d+(0x2449*0x1+-0x1d52+0x1*-0x6f3)];}if(_0x5d82e3['outlines'][_0x5298d3*(0x43a*-0x5+-0x180*0xe+0x2a26)*(0x243+0x231+-0x471)+(0x234c+0x1471+-0x37bd)]=_0x2f87df,_0x5d82e3['outlines'][_0x5298d3*(-0x23e2*0x1+-0x2e3+-0x1*-0x26c9)*(0x1285+0xaa5+-0x11*0x1b7)+(-0xfc8+0xdd8+0x1f1)]=_0x1c2055,_0x5d82e3['outlines'][_0x5298d3*(0xefe+0xb7a+-0x2*0xd3a)*(0x1*0x12b5+0x9*0x161+-0x1f1b)+(-0xda8+-0x2e3*-0x1+0xac7)]=_0x511637,_0x5d82e3['outlines'][_0x5298d3*(-0xd69*0x2+-0xfdb+0x3*0xe3b)*(-0x22da*-0x1+0xc8d+-0x2f64)+(0x1ee7+0x225e+-0x1*0x4142)]=_0x2f87df,_0x5d82e3['outlines'][_0x5298d3*(0x123*-0x19+-0x2043+0x392*0x11)*(-0x18fd+-0x86c+0x216c)+(0x965+0x1572+-0x1ed3)]=_0x1c2055,_0x5d82e3['outlines'][_0x5298d3*(-0x23fb+0x1ff3+0x25*0x1c)*(-0x15d*0x16+0x2013+0x5*-0x6a)+(-0xcaf*0x2+0xf44+0xa1f)]=_0x511637,_0x5d82e3['outlines'][_0x5298d3*(-0x7*0x16f+0x5*0x78b+-0x1baa)*(0x2408+-0x4be*0x3+-0x31d*0x7)+(-0x1*-0xc41+-0xd8e+-0x1*-0x153)]=_0x2f87df,_0x5d82e3['outlines'][_0x5298d3*(0x176d+0xed*0x20+-0x3509)*(0x18bd+0x1*-0x218b+0x8d1)+(-0x7*0x16b+0x925+0xcf)]=_0x1c2055,_0x5d82e3['outlines'][_0x5298d3*(-0x157a*0x1+-0x1*0x1060+0x25de)*(-0x1c77+-0x18a1+0x351b)+(0x13ce+0x1df9+-0x31bf)]=_0x511637,_0x5d82e3['outlines'][_0x5298d3*(-0x67a*-0x3+0x15d7+-0x2941)*(-0x1c07+0x3*0xc23+-0x85f)+(-0x242c+-0x9df+0x2e14)]=_0x2f87df,_0x5d82e3['outlines'][_0x5298d3*(-0x2292+0x256e+-0x2d8)*(-0x2002+0x78d*0x2+-0x10eb*-0x1)+(0xc6a+-0x181d+0xbbd)]=_0x1c2055,_0x5d82e3['outlines'][_0x5298d3*(-0x6*0xc+0x1cb7*-0x1+-0x425*-0x7)*(-0x2027+0xcf1*0x1+-0x103*-0x13)+(0x19*0x87+-0x6cb+0x7d*-0xd)]=_0x511637,this['_symbolSha'+'dowParams']){const _0x46cf20=this['_symbolSha'+'dowParams'][_0x3ab2ee]*(0x1020+0x21*-0x17+-0xd23*0x1);_0x6477d6=this['_shadowPal'+'ette'][_0x46cf20]+this['_shadowPal'+'ette'][_0x46cf20+(0x1d9b+-0x1c0f+0x5*-0x4f)]*(-0xe86+0x27a*0xe+0x1*-0x1326),_0x2a27d5=this['_shadowPal'+'ette'][_0x46cf20+(0x1*-0x5c9+0x1*-0x201d+0x25e8)]+this['_shadowPal'+'ette'][_0x46cf20+(-0x1*0x1aeb+-0x1b*-0x72+0xee8)]*(-0x1a8+0x95c+-0x6b4),_0x4bd578=this['_shadowPal'+'ette'][_0x46cf20+(0x124e+0x3a9*-0x4+-0x3a6)]+(-0xbf*-0x19+-0x22ca+0x10a2)+Math['round'](_0x513e64*this['_shadowPal'+'ette'][_0x46cf20+(-0x2384+-0x1653+-0x422*-0xe)]+(0x17fc+-0x9dd*0x2+-0x3c3))*(0x399+-0x2*0xc89+-0x20b*-0xb);}_0x5d82e3['shadows'][_0x5298d3*(-0x1ce8+0x8cf*0x1+-0x13*-0x10f)*(0x164a+-0x1*0x1bc5+0x57e)+(-0x1467+-0x91*-0x1d+-0x2*-0x1fd)]=_0x6477d6,_0x5d82e3['shadows'][_0x5298d3*(-0xe68+0x13e6+-0x57a)*(0x48b*0x1+0x651*0x6+-0x2a6e)+(0x1274+-0xc61+-0x3*0x206)]=_0x2a27d5,_0x5d82e3['shadows'][_0x5298d3*(0x255*0xd+-0x605*0x5+-0x34)*(0x220a+-0xdc3*-0x1+0x1*-0x2fca)+(-0x1*-0x289+-0x2*-0x1094+0xcb*-0x2d)]=_0x4bd578,_0x5d82e3['shadows'][_0x5298d3*(0x2f9*-0x1+-0x1f*-0xe6+-0x5f*0x43)*(0xf76+-0x42*-0x11+-0x13d5)+(-0x5*-0x8+0x2*0xe8a+-0x1d39)]=_0x6477d6,_0x5d82e3['shadows'][_0x5298d3*(0x2553+0x2*0x920+-0x21*0x1af)*(-0x5*0x1bb+-0x1*-0xc7f+-0x1*0x3d5)+(-0x23ce*0x1+0x208c+0x346*0x1)]=_0x2a27d5,_0x5d82e3['shadows'][_0x5298d3*(0x5bb+0xb51+-0x221*0x8)*(-0x1923+-0x1*-0x1647+0xf*0x31)+(-0x1431+-0x1aaf+0x2ee5)]=_0x4bd578,_0x5d82e3['shadows'][_0x5298d3*(0x2422+-0x130f+0xb*-0x18d)*(-0x3df*-0x3+-0x272*0x3+0x4e*-0xe)+(-0x1090+0x30*0x2b+0x886)]=_0x6477d6,_0x5d82e3['shadows'][_0x5298d3*(-0x42*-0x6+0x123d+-0x7*0x2d3)*(0x3e5+0x1206+-0x15e8)+(-0x85*0x23+-0x16*-0x3a+0xd3a)]=_0x2a27d5,_0x5d82e3['shadows'][_0x5298d3*(-0x1722+0x2*0xfe1+0x2*-0x44e)*(0xca9+0x2*0xc04+0xa*-0x3ab)+(0x269*-0x6+0x12ea+0x46c*-0x1)]=_0x4bd578,_0x5d82e3['shadows'][_0x5298d3*(0x1*-0x14e7+0x2*0x130d+-0x112f*0x1)*(0xd0+0x90*-0x3f+0x22a3)+(0xa1d*0x2+-0x18f5+0x131*0x4)]=_0x6477d6,_0x5d82e3['shadows'][_0x5298d3*(0x233c+0x7*0x2b3+-0x361d)*(-0x1*-0xb45+-0x7*-0x53b+-0x2fdf)+(0x3*0x211+0x5*-0x550+0x1467*0x1)]=_0x2a27d5,_0x5d82e3['shadows'][_0x5298d3*(-0x13e5*-0x1+-0xecc*-0x1+-0x22ad)*(0x1259+0x2437+-0x368d)+(0x1d1f+0x985*-0x3+0x85*-0x1)]=_0x4bd578,_0x5d82e3['quad']++;}_0x1f5dda||_0x26662d<_0x37eaf3&&_0x500554(this['_symbols'],_0x37eaf3,_0x791f12);}this['_noResize']=!(0x2e5*0x8+-0xc1f+-0xb09),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x1*-0xa43+-0x3f*0x75+-0x12f*-0x21);const _0x5cccb5=this['_element']['pivot']['x'],_0x24c79a=this['_element']['pivot']['y'],_0xde8557=this['_alignment']['x'],_0x31958f=this['_alignment']['y'];for(let _0x212454=-0x257+-0x411+-0x4*-0x19a;_0x212454<this['_meshInfo']['length'];_0x212454++){if(this['_meshInfo'][_0x212454]['count']===0xf75+0x1*-0x1039+-0x1c*-0x7)continue;let _0x569185=-0x1*-0x199+0x718+-0x8b1;for(const _0x5a4ad8 in this['_meshInfo'][_0x212454]['lines']){const _0x1bce6d=this['_meshInfo'][_0x212454]['lines'][_0x5a4ad8],_0x59a4a0=this['_lineWidth'+'s'][parseInt(_0x5a4ad8,0x2*0x62e+0x4d9+0x36f*-0x5)],_0x482a48=-_0x5cccb5*this['_element']['calculated'+'Width']+_0xde8557*(this['_element']['calculated'+'Width']-_0x59a4a0)*(this['_rtl']?-(-0xc1*-0x2c+-0xf*-0x11+-0x2*0x1115):0x6d2+-0x4*-0x394+-0x1521),_0x1f742d=(-0x4*0x539+0x24b6+0x1*-0xfd1-_0x24c79a)*this['_element']['calculated'+'Height']-_0x1b65a8-(0x1db5+-0xd9f+0x1015*-0x1-_0x31958f)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x42acbf=_0x569185;_0x42acbf<=_0x1bce6d;_0x42acbf++)this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(0x4*0x5a7+-0x323+0x1*-0x1375)*(0x2*0x932+0x11*-0xcd+-0x4c4)]+=_0x482a48,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(-0x2*0x692+0x1f17+-0x11ef)*(-0x7*0x57d+0x1f43+0x72b)+(0xd12+-0x332*0x6+0x61d)]+=_0x482a48,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(0x3d*0x9b+0xb2c+-0x3017)*(0x6b2+-0x2*0x11c2+0x1cd5)+(-0xb*-0x34c+0x6*0x29d+-0x33ec)]+=_0x482a48,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(0x987+0x25e4+0x1*-0x2f67)*(0x349*0x5+0x1*0xc84+0x2*-0xe77)+(0x10d8+-0xf*0x6a+-0xa99)]+=_0x482a48,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(-0xaab*-0x1+-0x16df+-0xc38*-0x1)*(-0x97*0xd+0x2411+-0x1c63)+(0xa*0x128+-0x5*-0x335+-0x1b98)]+=_0x1f742d,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(-0x1*0xb8a+-0x694+0x1*0x1222)*(0x131b+0x231e+-0x3636)+(-0x592+-0x86a+-0x8*-0x1c0)]+=_0x1f742d,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(-0x2*-0x9e3+0x18cc+-0x2c8e)*(0x19*0xf1+-0x2572+-0x42*-0x36)+(-0x82*-0x13+0xb6c+-0x150b)]+=_0x1f742d,this['_meshInfo'][_0x212454]['positions'][_0x42acbf*(-0x9e6+0x543+0x4a7*0x1)*(-0x87b+0x48*0x1b+-0xa*-0x17)+(0xb31+0x1*0x1027+-0x1b4e)]+=_0x1f742d;if(this['_rtl'])for(let _0x389402=_0x569185;_0x389402<=_0x1bce6d;_0x389402++){const _0xd242be=_0x389402*(0x1e1a+0x1311+0x3127*-0x1)*(-0x1fde*-0x1+-0x14d3+-0xb08);for(let _0xf9e4fd=-0x19d*0x1+-0x189*0x18+-0x7b1*-0x5;_0xf9e4fd<-0x20b*0x8+-0x11a3+-0xb55*-0x3;++_0xf9e4fd)this['_meshInfo'][_0x212454]['positions'][_0xd242be+_0xf9e4fd*(0x11f*-0x1+0x7bf*0x3+-0x161b)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x212454]['positions'][_0xd242be+_0xf9e4fd*(-0x1f*0xdf+0x2*0xda9+0x27*-0x2)]+_0x482a48*(0xd9*0xb+-0x68c+-0x2c5*0x1);const _0x1e23cc=this['_meshInfo'][_0x212454]['positions'][_0xd242be+(-0xb1*0x2f+0x2308+-0x13*0x22)],_0x374d3f=this['_meshInfo'][_0x212454]['positions'][_0xd242be+(0xc7*0x3+-0x1*0x643+0x3f4)];this['_meshInfo'][_0x212454]['positions'][_0xd242be+(0xc3+-0x3*-0x509+-0xfdb)]=this['_meshInfo'][_0x212454]['positions'][_0xd242be+(-0x516+-0x7ba+0x4*0x334)],this['_meshInfo'][_0x212454]['positions'][_0xd242be+(-0x11fb+-0x1e10+-0x73*-0x6b)]=this['_meshInfo'][_0x212454]['positions'][_0xd242be+(-0x23bc+0x1f52+0x11*0x43)],this['_meshInfo'][_0x212454]['positions'][_0xd242be+(0x72f+-0x1*-0x23f9+0x4*-0xaca)]=_0x1e23cc,this['_meshInfo'][_0x212454]['positions'][_0xd242be+(-0x9*0x27c+-0x25eb+0xa*0x608)]=_0x374d3f;}_0x569185=_0x1bce6d+(-0x1*0x157+0x4*0x405+-0xebc);}const _0x483a5d=this['_meshInfo'][_0x212454]['count']*(0x15ea+-0x1b96+0x5b*0x10),_0x47aa52=this['_meshInfo'][_0x212454]['quad']*(-0xd2d+0x3*0x110+0xa01),_0xbd3193=new go(this['_meshInfo'][_0x212454]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x9a654c=-0x2e*-0x95+0x2*-0xef8+0x2d*0x12;_0x9a654c<_0x483a5d;_0x9a654c++)_0x9a654c>=_0x47aa52?(_0xbd3193['element'][He]['set'](-0x43*-0x5c+-0xb*-0x97+0x1*-0x1e91,0x4b3+-0x15f6+-0x9*-0x1eb,0x2*-0x1dc+0x1bd5+-0x181d),_0xbd3193['element'][ns]['set'](0x12*-0x1e0+-0x1ea7+-0x1*-0x4067,0x1f91+0x1e12+-0x3da3),_0xbd3193['element'][At]['set'](0x1*0x1d2f+0xd73*0x2+-0x1*0x3815,0xb4c*-0x1+-0xf9e+0x109*0x1a,-0x19f+-0x12ce+0x1*0x146d,-0x20bb+0x1182+0xf39),_0xbd3193['element'][Po]['set'](-0x1b*-0x9c+0x1cf*0x1+0x5*-0x3a7,-0x5d7+0x20ab+-0x11*0x194,0x1445+-0x22b7+0xe72,-0x11d9+-0x116e+0xb*0x335),_0xbd3193['element'][Ro]['set'](-0xad6+0x9d6+0x2*0x80,-0x24c+0x5*0x63a+-0x1cd6,-0x10*0x151+-0x827+0x1d37,0xa62+0x1125*-0x1+-0x241*-0x3)):(_0xbd3193['element'][He]['set'](this['_meshInfo'][_0x212454]['positions'][_0x9a654c*(-0x24ae+0xe51+0x1660)+(0xa33+0x1db+-0xc0e)],this['_meshInfo'][_0x212454]['positions'][_0x9a654c*(0x4dd+0x3b6+-0x890)+(0x1be9+-0x1*-0x262c+-0x4214)],this['_meshInfo'][_0x212454]['positions'][_0x9a654c*(-0x12e8+0x2675+-0x138a)+(-0x105f+0x106f+0xe*-0x1)]),_0xbd3193['element'][ns]['set'](this['_meshInfo'][_0x212454]['uvs'][_0x9a654c*(-0x195d+0x9c7*0x1+0x4*0x3e6)+(-0x3f+-0xc7a+0xcb9)],this['_meshInfo'][_0x212454]['uvs'][_0x9a654c*(-0x153*0x1b+0x19*-0x11d+0x3f98)+(0x203*0x5+0x198b+-0x2399*0x1)]),_0xbd3193['element'][At]['set'](this['_meshInfo'][_0x212454]['colors'][_0x9a654c*(0x2218+-0x4b5+-0x1d5f)+(-0x1f46+0x1*0x14cf+0x2f*0x39)],this['_meshInfo'][_0x212454]['colors'][_0x9a654c*(0x4*0x142+0x14cd+-0x19d1)+(0x344+-0x20*-0x9f+-0x1723)],this['_meshInfo'][_0x212454]['colors'][_0x9a654c*(-0x13a0+0x7*0x454+-0xaa8)+(-0xf23+-0x1bd8+0x2afd*0x1)],this['_meshInfo'][_0x212454]['colors'][_0x9a654c*(0x3*-0x801+0x244f+-0x2*0x624)+(0x1d9e*-0x1+-0x1767+0x3508)]),_0xbd3193['element'][Po]['set'](this['_meshInfo'][_0x212454]['outlines'][_0x9a654c*(-0x1070+-0x1404+0x2477)+(-0x3fa*-0x7+-0x1*0x19ea+-0x1ec)],this['_meshInfo'][_0x212454]['outlines'][_0x9a654c*(-0xba6+-0xf31+0x1*0x1ada)+(0x395*-0x1+-0x9d8+-0x12*-0xbf)],this['_meshInfo'][_0x212454]['outlines'][_0x9a654c*(-0x1*0x15a9+-0x495*0x4+0x1400*0x2)+(-0x939*0x2+0x2254+-0x1fc*0x8)]),_0xbd3193['element'][Ro]['set'](this['_meshInfo'][_0x212454]['shadows'][_0x9a654c*(0x1fb4+0x24*-0xe2+-0x1*-0x17)+(-0x23c5+-0x3*0x2bc+0x2bf9)],this['_meshInfo'][_0x212454]['shadows'][_0x9a654c*(0x12e9*0x2+-0x903*0x3+-0xac6)+(0x2501+0x2151+0x17f*-0x2f)],this['_meshInfo'][_0x212454]['shadows'][_0x9a654c*(0x7*0x536+0x3*-0xaa5+-0x488)+(-0x2452+0x81*0x1f+0x14b5*0x1)])),_0xbd3193['next']();_0xbd3193['end'](),this['_meshInfo'][_0x212454]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x212454]['positions']),this['_meshInfo'][_0x212454]['meshInstan'+'ce']['_aabbVer']=-(0x56*-0x43+-0x12f7+0x297a);}this['_aabbDirty']=!(0x395*-0x8+0x113a+0x26*0x4d);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x163add){this['font']!==_0x163add['resource']&&(this['font']=_0x163add['resource']);}['_onFontCha'+'nge'](_0x1df252,_0x894a89,_0x3a6964,_0x2fc61e){if(_0x894a89==='data'){this['_font']['data']=_0x3a6964;const _0x252cc6=this['_font']['data']['info']['maps']['length'];for(let _0x146996=-0x77b*-0x5+-0x223d+-0x32a;_0x146996<_0x252cc6;_0x146996++){if(!this['_meshInfo'][_0x146996])continue;const _0x466260=this['_meshInfo'][_0x146996]['meshInstan'+'ce'];_0x466260&&(_0x466260['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x466260['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x466260['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x146996]['width']));}}}['_onFontRem'+'ove'](_0x10a1c4){}['_setTextur'+'eParams'](_0x204ef3,_0x185744){this['_font']&&(this['_font']['type']===Kh?(_0x204ef3['deletePara'+'meter']('texture_em'+'issiveMap'),_0x204ef3['deletePara'+'meter']('texture_op'+'acityMap'),_0x204ef3['setParamet'+'er']('texture_ms'+'dfMap',_0x185744)):this['_font']['type']===yR&&(_0x204ef3['deletePara'+'meter']('texture_ms'+'dfMap'),_0x204ef3['setParamet'+'er']('texture_em'+'issiveMap',_0x185744),_0x204ef3['setParamet'+'er']('texture_op'+'acityMap',_0x185744)));}['_getPxRang'+'e'](_0x66dd8){const _0x4c0ec5=Object['keys'](this['_font']['data']['chars']);for(let _0x238363=0x8*0x31b+-0x11c1+-0x717;_0x238363<_0x4c0ec5['length'];_0x238363++){const _0x45d7c0=this['_font']['data']['chars'][_0x4c0ec5[_0x238363]];if(_0x45d7c0['range'])return(_0x45d7c0['scale']||-0xf9e+0x1*-0x170d+0x26ac)*_0x45d7c0['range'];}return-0x7ea+-0x1287+-0x8d1*-0x3;}['_getUv'](_0x510ae5){const _0x413b7d=this['_font']['data'];if(!_0x413b7d['chars'][_0x510ae5]){const _0x554e04='\x20';return _0x413b7d['chars'][_0x554e04]?this['_getUv'](_0x554e04):[0x709+-0x7f3+0xea,-0x292+0x46+0x24c,-0xd*0x20+-0x29*0x8f+0x1887,-0x10dd+0x1*0x156d+-0x490];}const _0x155f12=_0x413b7d['chars'][_0x510ae5]['map'],_0x241b9d=_0x413b7d['info']['maps'][_0x155f12]['width'],_0x435df3=_0x413b7d['info']['maps'][_0x155f12]['height'],_0x29182f=_0x413b7d['chars'][_0x510ae5]['x'],_0x148029=_0x413b7d['chars'][_0x510ae5]['y'],_0x221bc6=_0x29182f,_0x369880=_0x148029,_0x4950ad=_0x29182f+_0x413b7d['chars'][_0x510ae5]['width'],_0x21563c=_0x148029-_0x413b7d['chars'][_0x510ae5]['height'],_0x63cdc4=-0xf4f+0x1a04+0x1*-0xab4-_0x413b7d['chars'][_0x510ae5]['height']/_0x435df3;return[_0x221bc6/_0x241b9d,_0x63cdc4-_0x369880/_0x435df3,_0x4950ad/_0x241b9d,_0x63cdc4-_0x21563c/_0x435df3];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x711+-0x58f*-0x3+0x7ea*-0x3),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x112*-0x20+-0x26f6*0x1+0x4937),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x903101){if(this['_model']){const _0x460ea7=this['_model']['meshInstan'+'ces'];for(let _0x43a665=0x191*-0x13+-0x1b42+-0x1*-0x3905;_0x43a665<_0x460ea7['length'];_0x43a665++)_0x460ea7[_0x43a665]['stencilFro'+'nt']=_0x903101,_0x460ea7[_0x43a665]['stencilBac'+'k']=_0x903101;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x4675c9){const _0x5b6e65={};_0x4675c9===void(0x7*-0x4ea+-0x1*0x6ab+-0x2911*-0x1)&&(_0x4675c9=this['_symbols']['length']);for(let _0x5d4eb9=-0x19d7+0x3b3*0x7+0x7*-0x2,_0x2f0a07=_0x4675c9;_0x5d4eb9<_0x2f0a07;_0x5d4eb9++){const _0x5f3b5b=this['_symbols'][_0x5d4eb9];let _0x418302=this['_font']['data']['chars'][_0x5f3b5b];_0x418302||(_0x418302=this['_font']['data']['chars']['\x20'],_0x418302||(_0x418302=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0x1de8+0x1*0x9c5+0x1423]]));const _0x2c2083=_0x418302['map'];_0x5b6e65[_0x2c2083]?_0x5b6e65[_0x2c2083]++:_0x5b6e65[_0x2c2083]=-0x1*0xe6+-0x2579+0x2660;}return _0x5b6e65;}['_updateRen'+'derRange'](){const _0x3f8d0d=this['_rangeStar'+'t']===0x2c+0x1e79+0xf*-0x20b?0xfe0+-0x829+-0x4f*0x19:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x2c1eee=this['_rangeEnd']===-0x21a8+-0x1508+0xa*0x578?0x20e3+0x1940+-0x3a23*0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x5ecfce=0x15fe+0x51b+-0x7*0x3df,_0x7ab87d=this['_meshInfo']['length'];_0x5ecfce<_0x7ab87d;_0x5ecfce++){const _0x5b1786=_0x3f8d0d[_0x5ecfce]||0x15b5*-0x1+-0xec5*0x2+0x333f,_0x3ff0fd=_0x2c1eee[_0x5ecfce]||0x8b6+0xc4a+-0xa80*0x2,_0x555822=this['_meshInfo'][_0x5ecfce]['meshInstan'+'ce'];if(_0x555822){const _0x28d6a7=_0x555822['mesh'];_0x28d6a7&&(_0x28d6a7['primitive'][-0xa*0x334+0x1739+0x8cf*0x1]['base']=_0x5b1786*(0x13*-0x85+-0x1*0x136e+0x1d50)*(-0x1920+0xa9d+0xe85),_0x28d6a7['primitive'][-0xa81*0x1+0x11ea+0x769*-0x1]['count']=(_0x3ff0fd-_0x5b1786)*(0x93b+-0x1f3e+-0x1606*-0x1)*(-0x281*0x1+0x117c*0x1+-0x1*0xef9));}}}set['text'](_0x127e4a){this['_i18nKey']=null;const _0x113226=_0x127e4a!=null&&_0x127e4a['toString']()||'';this['_setText'](_0x113226);}get['text'](){return this['_text'];}set['key'](_0x3cc9b8){const _0x187b85=_0x3cc9b8!==null?_0x3cc9b8['toString']():null;this['_i18nKey']!==_0x187b85&&(this['_i18nKey']=_0x187b85,_0x187b85?(this['_fontAsset']['disableLoc'+'alization']=!(0xbc*-0x1+0x1026+-0x5*0x315),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0xb4a+-0x1119+0xa9*0x2b));}get['key'](){return this['_i18nKey'];}set['color'](_0x32dbb2){const _0x612f0c=_0x32dbb2['r'],_0x2d18a6=_0x32dbb2['g'],_0x52534e=_0x32dbb2['b'];if(this['_color']===_0x32dbb2&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x612f0c&&this['_color']['g']===_0x2d18a6&&this['_color']['b']===_0x52534e)&&(this['_color']['r']=_0x612f0c,this['_color']['g']=_0x2d18a6,this['_color']['b']=_0x52534e,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1*-0x1801+-0x5fb*-0x3+-0x29f2]=Me['r'],this['_colorUnif'+'orm'][-0x42*-0x43+-0x99*-0x40+-0x3785]=Me['g'],this['_colorUnif'+'orm'][-0x16*-0xb0+-0xb60+-0x3be]=Me['b'];for(let _0x520add=0x24a*-0xb+-0xd8f+0x26bd,_0x379e58=this['_model']['meshInstan'+'ces']['length'];_0x520add<_0x379e58;_0x520add++)this['_model']['meshInstan'+'ces'][_0x520add]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x2e5000){if(this['_color']['a']!==_0x2e5000&&(this['_color']['a']=_0x2e5000,this['_model'])){for(let _0x1eed82=-0xba*0xc+0x2*-0x51+0x95a,_0x2974d7=this['_model']['meshInstan'+'ces']['length'];_0x1eed82<_0x2974d7;_0x1eed82++)this['_model']['meshInstan'+'ces'][_0x1eed82]['setParamet'+'er']('material_o'+'pacity',_0x2e5000);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x2e5000);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0xab0456){const _0x38c393=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0xab0456,this['_scaledLin'+'eHeight']=_0xab0456,_0x38c393!==_0xab0456&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x33db57){const _0x12e94c=this['_wrapLines'];this['_wrapLines']=_0x33db57,_0x12e94c!==_0x33db57&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x138822){const _0xedab3=this['_spacing'];this['_spacing']=_0x138822,_0xedab3!==_0x138822&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x19b862){const _0x2c7267=this['_fontSize'];this['_fontSize']=_0x19b862,this['_originalF'+'ontSize']=_0x19b862,_0x2c7267!==_0x19b862&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x57233a){this['_fontAsset']['defaultAss'+'et']=_0x57233a;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x1b15c9){let _0x15548;if(this['_font']&&(_0x15548=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x1b15c9,this['_fontMinY']=-0xf3*-0x1+0x69b+-0x78e,this['_fontMaxY']=0x1980+0x1055+-0x29d5,!_0x1b15c9)return;const _0x166739=this['_font']['data'];for(const _0x3d4666 in _0x166739['chars']){const _0x2be226=_0x166739['chars'][_0x3d4666];_0x2be226['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x2be226['bounds'][-0x18c5+0x1*-0x2fe+0xde2*0x2]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x2be226['bounds'][0x1*0x853+-0x23da+-0x1d6*-0xf]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x1b15c9['type']!==_0x15548){const _0x5459d9=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x5459d9);}for(let _0x41cfd6=0x4a9+0x4b8+-0x961,_0xd40672=this['_font']['textures']['length'];_0x41cfd6<_0xd40672;_0x41cfd6++)if(!this['_meshInfo'][_0x41cfd6])this['_meshInfo'][_0x41cfd6]=new CR();else{const _0x1b2647=this['_meshInfo'][_0x41cfd6]['meshInstan'+'ce'];_0x1b2647&&(_0x1b2647['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x1b2647['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x1b2647['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x41cfd6]['width']),this['_setTextur'+'eParams'](_0x1b2647,this['_font']['textures'][_0x41cfd6]));}let _0x192b01=!(-0x1*0x1be5+0xf*-0xaf+-0x1*-0x2627);for(let _0x2b4142=this['_font']['textures']['length'];_0x2b4142<this['_meshInfo']['length'];_0x2b4142++)this['_meshInfo'][_0x2b4142]['meshInstan'+'ce']&&(_0x192b01||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x192b01=!(0x2*-0x952+-0xc55+0x1ef9)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x2b4142]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x2a0fa7){_0x2a0fa7 instanceof W?this['_alignment']['set'](_0x2a0fa7['x'],_0x2a0fa7['y']):this['_alignment']['set'](_0x2a0fa7[0x3*-0x101+-0x15c9+0x18cc],_0x2a0fa7[-0x3*-0x695+0x1757+-0x2b15]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x17e17d){const _0x1e81d3=this['_autoWidth'];if(this['_autoWidth']=_0x17e17d,_0x17e17d&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0x1ef4+0x2050+-0xae*0x2+0.0001&&(this['_element']['width']=this['width']),_0x1e81d3!==_0x17e17d){const _0x13c8a5=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x13c8a5!==this['_fontSize']&&(this['_fontSize']=_0x13c8a5,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x12f29a){const _0x429f1d=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x12f29a,_0x12f29a&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0xb77+0x1206+-0x1d7d+0.0001&&(this['_element']['height']=this['height']),_0x429f1d!==_0x12f29a){const _0x3cd275=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x3cd275!==this['_fontSize']&&(this['_fontSize']=_0x3cd275,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x15442c){this['_rtlReorde'+'r']!==_0x15442c&&(this['_rtlReorde'+'r']=_0x15442c,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x99070a){this['_unicodeCo'+'nverter']!==_0x99070a&&(this['_unicodeCo'+'nverter']=_0x99070a,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0xbfec21=!(0x54c+-0xd*0x1e3+0x133c);for(let _0x118b26=0xfe9*0x2+0xa78+-0x2a4a*0x1;_0x118b26<this['_meshInfo']['length'];_0x118b26++)this['_meshInfo'][_0x118b26]['meshInstan'+'ce']&&(_0xbfec21?this['_aabb']['add'](this['_meshInfo'][_0x118b26]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x118b26]['meshInstan'+'ce']['aabb']),_0xbfec21=!(0x1*-0x1fcd+-0x209*0x1+0x21d6)));this['_aabbDirty']=!(0x1*0x59f+0x1934+-0x1ed2);}return this['_aabb'];}set['outlineCol'+'or'](_0x54f06e){const _0x410353=_0x54f06e instanceof Y?_0x54f06e['r']:_0x54f06e[-0x7*-0x38f+-0x1998+0x1*0xaf],_0x40853e=_0x54f06e instanceof Y?_0x54f06e['g']:_0x54f06e[-0x3d*0x8e+-0x1*0x148d+0x3664],_0x5c02fd=_0x54f06e instanceof Y?_0x54f06e['b']:_0x54f06e[0x4f*0xf+0xdd*0x12+-0x1429],_0xe7eb7c=_0x54f06e instanceof Y?_0x54f06e['a']:_0x54f06e[0x7b9*0x2+0x1d*-0x22+-0xb95];if(this['_outlineCo'+'lor']===_0x54f06e&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x410353&&this['_outlineCo'+'lor']['g']===_0x40853e&&this['_outlineCo'+'lor']['b']===_0x5c02fd&&this['_outlineCo'+'lor']['a']===_0xe7eb7c)&&(this['_outlineCo'+'lor']['r']=_0x410353,this['_outlineCo'+'lor']['g']=_0x40853e,this['_outlineCo'+'lor']['b']=_0x5c02fd,this['_outlineCo'+'lor']['a']=_0xe7eb7c,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x4ab+-0x2bd*0x6+0x1519]=Me['r'],this['_outlineCo'+'lorUniform'][0x708+0x18ba+-0x1fc1]=Me['g'],this['_outlineCo'+'lorUniform'][0x1*0xf47+0x1*-0x5b3+0x4c9*-0x2]=Me['b'],this['_outlineCo'+'lorUniform'][-0x51e+-0x12e1+0xe*0x1b7]=Me['a'];for(let _0x48b285=-0x6d*-0x3b+-0x2007+0x6e8,_0x428eff=this['_model']['meshInstan'+'ces']['length'];_0x48b285<_0x428eff;_0x48b285++)this['_model']['meshInstan'+'ces'][_0x48b285]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x1ac931){const _0x234b47=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x1ac931,_0x234b47!==_0x1ac931&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x334015=0x11*0x22c+0x2517+0x1*-0x4a03,_0x3b2a24=this['_model']['meshInstan'+'ces']['length'];_0x334015<_0x3b2a24;_0x334015++)this['_model']['meshInstan'+'ces'][_0x334015]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x42a66a){const _0x5da5f8=_0x42a66a instanceof Y?_0x42a66a['r']:_0x42a66a[0x1962+0x27*-0x5+0x3*-0x835],_0x1c8735=_0x42a66a instanceof Y?_0x42a66a['g']:_0x42a66a[-0x1*0x21d5+0xac6*-0x1+0x2c9c],_0x15680b=_0x42a66a instanceof Y?_0x42a66a['b']:_0x42a66a[-0x194b+-0x2112+0x1*0x3a5f],_0x1dc783=_0x42a66a instanceof Y?_0x42a66a['a']:_0x42a66a[-0x5e*0x31+-0x2*-0x12b5+-0x1369];if(this['_shadowCol'+'or']===_0x42a66a&&v['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x5da5f8&&this['_shadowCol'+'or']['g']===_0x1c8735&&this['_shadowCol'+'or']['b']===_0x15680b&&this['_shadowCol'+'or']['a']===_0x1dc783)&&(this['_shadowCol'+'or']['r']=_0x5da5f8,this['_shadowCol'+'or']['g']=_0x1c8735,this['_shadowCol'+'or']['b']=_0x15680b,this['_shadowCol'+'or']['a']=_0x1dc783,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{Me['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1*0x1d75+0x3*0xc1a+-0x6d9]=Me['r'],this['_shadowCol'+'orUniform'][0x1129+0x26bc+0x37e4*-0x1]=Me['g'],this['_shadowCol'+'orUniform'][-0x241c+0x1*0x46f+0x1faf]=Me['b'],this['_shadowCol'+'orUniform'][0x1*0x674+0x16fc+0x117*-0x1b]=Me['a'];for(let _0x5f52c1=-0xf6a*0x1+-0x2*0xd0e+-0x5*-0x84e,_0x3b1292=this['_model']['meshInstan'+'ces']['length'];_0x5f52c1<_0x3b1292;_0x5f52c1++)this['_model']['meshInstan'+'ces'][_0x5f52c1]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x256014){const _0x1c9ec8=_0x256014 instanceof W?_0x256014['x']:_0x256014[-0x71a+-0x2*-0xa1e+-0xd22],_0x1ab8b7=_0x256014 instanceof W?_0x256014['y']:_0x256014[0x5bd*-0x6+0x8ea*0x1+0x8b*0x2f];if(!(this['_shadowOff'+'set']['x']===_0x1c9ec8&&this['_shadowOff'+'set']['y']===_0x1ab8b7)&&(this['_shadowOff'+'set']['set'](_0x1c9ec8,_0x1ab8b7),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xe87048=-0x26b2+-0x19*0x160+-0x18e*-0x2f,_0x2a7f0c=this['_model']['meshInstan'+'ces']['length'];_0xe87048<_0x2a7f0c;_0xe87048++){const _0x1b8195=-this['_font']['data']['info']['maps'][_0xe87048]['width']/this['_font']['data']['info']['maps'][_0xe87048]['height'];this['_shadowOff'+'setUniform'][0x1964+-0xd91*-0x1+-0x26f5]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1*0xed5+0x4e*-0x1+0x44*0x39]=_0x1b8195*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xe87048]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x396b4b){this['_minFontSi'+'ze']!==_0x396b4b&&(this['_minFontSi'+'ze']=_0x396b4b,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x527c50){this['_maxFontSi'+'ze']!==_0x527c50&&(this['_maxFontSi'+'ze']=_0x527c50,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x3c9d4c){this['_autoFitWi'+'dth']!==_0x3c9d4c&&(this['_autoFitWi'+'dth']=_0x3c9d4c,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x3cc0fb){this['_autoFitHe'+'ight']!==_0x3cc0fb&&(this['_autoFitHe'+'ight']=_0x3cc0fb,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0xe0e9d7){this['_maxLines']!==_0xe0e9d7&&(_0xe0e9d7===null&&this['_maxLines']===-(0x22fc+-0x349*-0x3+0x3*-0xef2)||(this['_maxLines']=_0xe0e9d7===null?-(-0x9*0x107+0x1419+-0xad9):_0xe0e9d7,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x3bf88a){if(_0x3bf88a=!!_0x3bf88a,this['_enableMar'+'kup']===_0x3bf88a)return;this['_enableMar'+'kup']=_0x3bf88a,this['font']&&this['_updateTex'+'t']();const _0x436400=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x436400);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x3b547e){return this['_colorPale'+'tte']['slice'](_0x3b547e*(-0x10*-0x58+0x89+-0x606),_0x3b547e*(-0x2598+0x206f+-0x52c*-0x1)+(0x339+0x737*0x4+-0x2012));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x4eb9c5){return this['_outlinePa'+'lette']['slice'](_0x4eb9c5*(-0xb93+0x21*0xc1+-0xd49),_0x4eb9c5*(-0x61f+0xa7+-0x1*-0x57d)+(-0x186*0x7+0x1*0x2b3+0x7fc));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x50d097){return this['_shadowPal'+'ette']['slice'](_0x50d097*(-0x1*0xa2d+0x1559+-0xb26),_0x50d097*(0x2*0xa1+-0x7*0x481+-0x205*-0xf)+(0x20*-0xdd+-0x11b*0x1f+0x3deb));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x3b0d45){_0x3b0d45=Math['max'](-0x108*-0xa+-0x1e82+0x1432,Math['min'](_0x3b0d45,this['_symbols']['length'])),_0x3b0d45!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x3b0d45,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x2b3daa){_0x2b3daa=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x2b3daa,this['_symbols']['length'])),_0x2b3daa!==this['_rangeEnd']&&(this['_rangeEnd']=_0x2b3daa,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Kd=new T(),_g=new q(),ni=new T(),kR=new T(),es=new q(),Yl=new q(),Kl=new q(),zn=new q();class Gt extends ue{constructor(_0x4ab6b4,_0x325da4){super(_0x4ab6b4,_0x325da4),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x349*0x8+0x17c1+-0x3208*0x1),this['_anchor']=new Q(),this['_localAnch'+'or']=new Q(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x1*0x1a18+0x445*-0x5+0x2f91,this['_height']=this['_calculate'+'dHeight']=0x1612+-0x12f4*0x1+-0x1*0x2fe,this['_margin']=new Q(-0x1c2e+-0x5*0x56e+0x3754,-0x1*-0x203f+-0x7*0x3da+-0x549,-(-0x33b+-0x16ba+0x1a15),-(0x2de+0x2446+-0x16*0x1c6)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(0x1*0x525+-0xb*-0x2ff+0x2*-0x130d),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new T(),new T(),new T(),new T()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new T(),new T(),new T(),new T()],this['_cornersDi'+'rty']=!(-0x1*-0x1ab9+-0x2b*-0x11+-0x2*0xeca),this['_canvasCor'+'nersDirty']=!(-0x151b*-0x1+0x17c7*-0x1+0xab*0x4),this['_worldCorn'+'ersDirty']=!(0x7c*-0x1d+-0x1925*-0x1+0x1*-0xb19),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=_h,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x2134+-0x7a7+0x28db,this['_fitMode']=gh,this['_useInput']=!(0x6f9+0x239c+-0x2a94),this['_layers']=[tl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x1*0x1327+-0x2707+0x7*0x2d7),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x5*0x3a1+0x226+-0x144b,this['_maskOffse'+'t']=0x2532+-0xa8f+-0x1aa3+0.5,this['_maskedBy']=null);}get['data'](){const _0x285dad=this['system']['store'][this['entity']['getGuid']()];return _0x285dad?_0x285dad['data']:null;}set['enabled'](_0x214a29){const _0x43452c=this['data'],_0x343536=_0x43452c['enabled'];_0x43452c['enabled']=_0x214a29,this['fire']('set','enabled',_0x343536,_0x214a29);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x3b5+0x2e9+-0x66*-0x2+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x1*-0x29+0x2132+-0xb03*0x3+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x4af921){_0x4af921 instanceof Q?this['_anchor']['copy'](_0x4af921):this['_anchor']['set'](..._0x4af921),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x1a96+-0x2153*0x1+0x3be9),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x485647){var _0x3d99ce,_0x29b177;this['_batchGrou'+'pId']!==_0x485647&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1d*0xe3+-0x1369*-0x1+-0x2d20&&((_0x3d99ce=this['system']['app']['batcher'])==null||_0x3d99ce['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x485647>=-0x277*-0x1+-0x265*0x8+-0x1*-0x10b1&&((_0x29b177=this['system']['app']['batcher'])==null||_0x29b177['insert'](et['ELEMENT'],_0x485647,this['entity'])),_0x485647<0x22b6+-0x126f+-0x56d*0x3&&this['_batchGrou'+'pId']>=-0x76*-0x1f+-0x1*0x2325+0x14db&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x485647);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x22fb29){this['_margin']['y']=_0x22fb29;const _0x49695f=this['entity']['getLocalPo'+'sition'](),_0x348799=this['_absTop'],_0x1d26a4=this['_localAnch'+'or']['y']+_0x22fb29;this['_setHeight'](_0x348799-_0x1d26a4),_0x49695f['y']=_0x22fb29+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x49695f);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x512b80){this['_setCalcul'+'atedWidth'](_0x512b80,!(0x66*-0x15+0xf2f+-0x6d1));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x4eaed8){this['_setCalcul'+'atedHeight'](_0x4eaed8,!(0x1102+-0xa9b+0xb*-0x95));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x19a5fb=this['system']['app']['graphicsDe'+'vice'],_0x133fe5=this['screenCorn'+'ers'],_0x41a656=_0x19a5fb['canvas']['clientWidt'+'h']/_0x19a5fb['width'],_0x2438e8=_0x19a5fb['canvas']['clientHeig'+'ht']/_0x19a5fb['height'];for(let _0x2f0d84=-0x6*-0x1ff+-0x1e18+0x121e*0x1;_0x2f0d84<-0xb2b+0x133*0xb+-0x1*0x202;_0x2f0d84++)this['_canvasCor'+'ners'][_0x2f0d84]['set'](_0x133fe5[_0x2f0d84]['x']*_0x41a656,(_0x19a5fb['height']-_0x133fe5[_0x2f0d84]['y'])*_0x2438e8);return this['_canvasCor'+'nersDirty']=!(0x1e58+0x1321+-0x3178),this['_canvasCor'+'ners'];}set['drawOrder'](_0x4295d7){let _0x16528d=-0xb54+0xdd0+0x2*-0x13e;this['screen']&&(_0x16528d=this['screen']['screen']['priority']),_0x4295d7>0x16bf1fa+-0x15edfba+0xf2edbf&&(v['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x4295d7=-0x2bf5aa*0x7+0x1d25ae+0x21691f7),this['_drawOrder']=(_0x16528d<<0x120c+0x1ed6+-0x30ca)+_0x4295d7,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x342cf2){this['_height']=_0x342cf2,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x342cf2,!(-0x1*0x2077+-0x4a*-0x79+0x283*-0x1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x986c50){if(this['_addedMode'+'ls']['length'])for(let _0x240704=-0xd5e+0x2*0x8a8+-0x3f2;_0x240704<this['_layers']['length'];_0x240704++){const _0x5d59b8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x240704]);if(_0x5d59b8){for(let _0x1d5524=-0x594+-0x3b5*-0x5+-0xcf5;_0x1d5524<this['_addedMode'+'ls']['length'];_0x1d5524++)_0x5d59b8['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x1d5524]['meshInstan'+'ces']);}}if(this['_layers']=_0x986c50,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x508ebe=-0x141b+0x14f7+-0xdc;_0x508ebe<this['_layers']['length'];_0x508ebe++){const _0x268ba7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x508ebe]);if(_0x268ba7){for(let _0x552c07=-0x1475+-0x1*0x2537+0x39ac;_0x552c07<this['_addedMode'+'ls']['length'];_0x552c07++)_0x268ba7['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x552c07]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x17c2b9){this['_margin']['x']=_0x17c2b9;const _0x5957cf=this['entity']['getLocalPo'+'sition'](),_0x433b49=this['_absRight'],_0xeb88d3=this['_localAnch'+'or']['x']+_0x17c2b9;this['_setWidth'](_0x433b49-_0xeb88d3),_0x5957cf['x']=_0x17c2b9+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x5957cf);}get['left'](){return this['_margin']['x'];}set['margin'](_0x41745a){this['_margin']['copy'](_0x41745a),this['_calculate'+'Size'](!(0x2114+-0x12ab+0x1f*-0x77),!(0x1*-0x1b46+-0xeb1+0x29f7)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x114e72){const {pivot:_0x1844d1,margin:_0x4e49bf}=this,_0x2076f3=_0x1844d1['x'],_0x272d83=_0x1844d1['y'];_0x114e72 instanceof W?_0x1844d1['copy'](_0x114e72):_0x1844d1['set'](..._0x114e72);const _0xaa4230=_0x4e49bf['x']+_0x4e49bf['z'],_0x25b992=_0x1844d1['x']-_0x2076f3;_0x4e49bf['x']+=_0xaa4230*_0x25b992,_0x4e49bf['z']-=_0xaa4230*_0x25b992;const _0x73dc0b=_0x4e49bf['y']+_0x4e49bf['w'],_0x4db517=_0x1844d1['y']-_0x272d83;_0x4e49bf['y']+=_0x73dc0b*_0x4db517,_0x4e49bf['w']-=_0x73dc0b*_0x4db517,this['_anchorDir'+'ty']=!(-0x1dcd+0x12e+-0x1*-0x1c9f),this['_cornersDi'+'rty']=!(-0x8d6*0x3+0xac1*0x1+0xfc1),this['_worldCorn'+'ersDirty']=!(0x43*0x51+-0xc06+-0x92d),this['_calculate'+'Size'](!(0x1b48+0x19b5+-0x34fc),!(-0x4e9*-0x3+-0x19bd+-0xb03*-0x1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x1844d1);}get['pivot'](){return this['_pivot'];}set['right'](_0x41b9c4){this['_margin']['z']=_0x41b9c4;const _0x4da453=this['entity']['getLocalPo'+'sition'](),_0x2d3b7e=this['_absLeft'],_0x332353=this['_localAnch'+'or']['z']-_0x41b9c4;this['_setWidth'](_0x332353-_0x2d3b7e),_0x4da453['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x41b9c4-this['_calculate'+'dWidth']*(-0x182d+-0x2390*-0x1+-0xb62*0x1-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x4da453);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x27435a=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x29*0x15+-0x6d9*-0x2+-0x110f];this['_screenCor'+'ners'][-0x81*0x2+-0x2650*0x1+0x1*0x2752]['set'](this['_absLeft'],this['_absBottom'],-0x424+0x1b7a+0x1756*-0x1),this['_screenCor'+'ners'][0xdd6+0xe59+-0x1*0x1c2e]['set'](this['_absRight'],this['_absBottom'],0x790+-0x17b5+-0x1025*-0x1),this['_screenCor'+'ners'][-0x176a+-0x13bb*0x1+0x2b27*0x1]['set'](this['_absRight'],this['_absTop'],-0x1*0x1a5f+-0xa8f+0x24ee),this['_screenCor'+'ners'][-0x3*-0x2ef+-0x10*-0x215+-0x150d*0x2]['set'](this['_absLeft'],this['_absTop'],0xbf9+-0x257*-0xd+-0x2a64);const _0x38f75a=this['screen']['screen']['screenSpac'+'e'];for(let _0x40227c=0x66a+-0x3f3*0x9+0x1d21;_0x40227c<-0xd2e*0x2+0x11*-0x206+-0x1*-0x3cc6;_0x40227c++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x40227c],this['_screenCor'+'ners'][_0x40227c]),_0x38f75a&&this['_screenCor'+'ners'][_0x40227c]['mulScalar'](this['screen']['screen']['scale']),_0x27435a&&this['_screenCor'+'ners'][_0x40227c]['add'](_0x27435a);return this['_cornersDi'+'rty']=!(-0x1c52+-0x127e+0x2ed1),this['_canvasCor'+'nersDirty']=!(0x731*0x3+-0xbbd+-0x9d6),this['_worldCorn'+'ersDirty']=!(0x1659+-0x1a47+0x3ee),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0x6d*0x2f+0x2642+0x3a45*-0x1;}get['textHeight'](){return this['_text']?this['_text']['height']:0x2*-0x1b1+-0x17*0xa1+-0x5f3*-0x3;}set['top'](_0x2de13d){this['_margin']['w']=_0x2de13d;const _0x18f649=this['entity']['getLocalPo'+'sition'](),_0x2d7640=this['_absBottom'],_0x1751f7=this['_localAnch'+'or']['w']-_0x2de13d;this['_setHeight'](_0x1751f7-_0x2d7640),_0x18f649['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x2de13d-this['_calculate'+'dHeight']*(-0x66a*-0x5+0x253b+-0x454c-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x18f649);}get['top'](){return this['_margin']['w'];}set['type'](_0xb467a5){_0xb467a5!==this['_type']&&(this['_type']=_0xb467a5,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0xb467a5===rf?this['_image']=new _R(this):_0xb467a5===ex&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x46398a){this['_useInput']!==_0x46398a&&(this['_useInput']=_0x46398a,this['system']['app']['elementInp'+'ut']?_0x46398a?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0xa10+0x33d*0xa+0x1*-0x1652)&&v['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x46398a));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x435b46){this['_fitMode']=_0x435b46,this['_calculate'+'Size'](!(0x13e2+-0x623*0x6+0x10f0),!(-0xc1*-0x2+0x7*-0x325+0x1481)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x30f61a){this['_width']=_0x30f61a,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x30f61a,!(0x1*0x18d7+0x1a9f+-0x3376)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x2444e7=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){es['copy'](this['screen']['screen']['_screenMat'+'rix']),es['data'][0x1f14+-0x21e6+0x23*0x15]=-es['data'][-0x162f+-0xa2f*-0x3+-0x851],es['mul2'](this['screen']['getWorldTr'+'ansform'](),es);for(let _0x756ce0=0x2c*-0xc1+0x1c*0xbe+0xc64;_0x756ce0<-0x1*0x17be+0xbe*0xa+0x1056;_0x756ce0++)es['transformP'+'oint'](_0x2444e7[_0x756ce0],this['_worldCorn'+'ers'][_0x756ce0]);}}else{const _0x4c2d3b=this['entity']['getLocalPo'+'sition']();es['setTransla'+'te'](-_0x4c2d3b['x'],-_0x4c2d3b['y'],-_0x4c2d3b['z']),Yl['setTRS'](T['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x4c2d3b['x'],_0x4c2d3b['y'],_0x4c2d3b['z']);const _0x750872=this['entity']['parent']?this['entity']['parent']:this['entity'];zn['copy'](_0x750872['getWorldTr'+'ansform']()),zn['mul'](Kl)['mul'](Yl)['mul'](es),ni['set'](_0x4c2d3b['x']-this['pivot']['x']*this['calculated'+'Width'],_0x4c2d3b['y']-this['pivot']['y']*this['calculated'+'Height'],_0x4c2d3b['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x1*0xa55+-0x1d52+-0x1*-0x12fd]),ni['set'](_0x4c2d3b['x']+(0x1334+-0x11*-0xc7+-0x206a-this['pivot']['x'])*this['calculated'+'Width'],_0x4c2d3b['y']-this['pivot']['y']*this['calculated'+'Height'],_0x4c2d3b['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x20e9+0x1*-0x22e1+0x59*0xc3]),ni['set'](_0x4c2d3b['x']+(0x1be4+0x1*-0x2294+0x6b1-this['pivot']['x'])*this['calculated'+'Width'],_0x4c2d3b['y']+(-0x224f+0x1aea+0x766-this['pivot']['y'])*this['calculated'+'Height'],_0x4c2d3b['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][-0x59*0x35+0x83*-0x1a+0x1fbd]),ni['set'](_0x4c2d3b['x']-this['pivot']['x']*this['calculated'+'Width'],_0x4c2d3b['y']+(-0x13*-0x27+-0x1*0x1881+0x159d-this['pivot']['y'])*this['calculated'+'Height'],_0x4c2d3b['z']),zn['transformP'+'oint'](ni,this['_worldCorn'+'ers'][0x946*0x2+-0x97c+-0x90d]);}return this['_worldCorn'+'ersDirty']=!(0x6b*0x17+0x5d1+-0xf6d),this['_worldCorn'+'ers'];}set['fontSize'](_0x2f56d4){this['_setValue']('fontSize',_0x2f56d4);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x3ee3af){this['_setValue']('minFontSiz'+'e',_0x3ee3af);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x49425e){this['_setValue']('maxFontSiz'+'e',_0x49425e);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0xe25ed3){this['_setValue']('maxLines',_0xe25ed3);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x1584ba){this['_setValue']('autoFitWid'+'th',_0x1584ba);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x55efea){this['_setValue']('autoFitHei'+'ght',_0x55efea);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x799e3f){this['_setValue']('color',_0x799e3f);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x2b9642){this['_setValue']('font',_0x2b9642);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x2d9a53){this['_setValue']('fontAsset',_0x2d9a53);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x803110){this['_setValue']('spacing',_0x803110);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x2e194f){this['_setValue']('lineHeight',_0x2e194f);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x3e64d0){this['_setValue']('wrapLines',_0x3e64d0);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x707fca){this['_setValue']('lines',_0x707fca);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x66ee9e){this['_setValue']('alignment',_0x66ee9e);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x55720b){this['_setValue']('autoWidth',_0x55720b);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x100099){this['_setValue']('autoHeight',_0x100099);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x277240){this['_setValue']('rtlReorder',_0x277240);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x19c75c){this['_setValue']('unicodeCon'+'verter',_0x19c75c);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x2d3b14){this['_setValue']('text',_0x2d3b14);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x3f562f){this['_setValue']('key',_0x3f562f);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x34c9b2){this['_setValue']('texture',_0x34c9b2);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x1c0dfd){this['_setValue']('textureAss'+'et',_0x1c0dfd);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x1f4ab8){this['_setValue']('material',_0x1f4ab8);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x476e48){this['_setValue']('materialAs'+'set',_0x476e48);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x11dec6){this['_setValue']('sprite',_0x11dec6);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x4e9aaa){this['_setValue']('spriteAsse'+'t',_0x4e9aaa);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x5c3de4){this['_setValue']('spriteFram'+'e',_0x5c3de4);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x4ef487){this['_setValue']('pixelsPerU'+'nit',_0x4ef487);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x58146d){this['_setValue']('opacity',_0x58146d);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x123120){this['_setValue']('rect',_0x123120);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x508b90){this['_setValue']('mask',_0x508b90);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x3298b2){this['_setValue']('outlineCol'+'or',_0x3298b2);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x55cfdd){this['_setValue']('outlineThi'+'ckness',_0x55cfdd);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x1e9f3a){this['_setValue']('shadowColo'+'r',_0x1e9f3a);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x33ddaa){this['_setValue']('shadowOffs'+'et',_0x33ddaa);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x2f7d96){this['_setValue']('enableMark'+'up',_0x2f7d96);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x3c4e86){this['_setValue']('rangeStart',_0x3c4e86);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x134004){this['_setValue']('rangeEnd',_0x134004);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x5d75de,_0x2c65c5){this['_text']?(this['_text'][_0x5d75de]!==_0x2c65c5&&this['_dirtyBatc'+'h'](),this['_text'][_0x5d75de]=_0x2c65c5):this['_image']&&(this['_image'][_0x5d75de]!==_0x2c65c5&&this['_dirtyBatc'+'h'](),this['_image'][_0x5d75de]=_0x2c65c5);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=We['prototype']['_sync'],this['entity']['setPositio'+'n']=We['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=We['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x223d54,_0x54568c,_0x570cdc){if(!this['element']['screen']){We['prototype']['setPositio'+'n']['call'](this,_0x223d54,_0x54568c,_0x570cdc);return;}_0x223d54 instanceof T?Kd['copy'](_0x223d54):Kd['set'](_0x223d54,_0x54568c,_0x570cdc),this['getWorldTr'+'ansform'](),_g['copy'](this['element']['_screenToW'+'orld'])['invert'](),_g['transformP'+'oint'](Kd,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x4fcc25,_0x385e5a,_0x1c88a8){_0x4fcc25 instanceof T?this['localPosit'+'ion']['copy'](_0x4fcc25):this['localPosit'+'ion']['set'](_0x4fcc25,_0x385e5a,_0x1c88a8);const _0x5483c7=this['element'],_0x15eb80=this['localPosit'+'ion'],_0x1ae808=_0x5483c7['_pivot'];_0x5483c7['_margin']['x']=_0x15eb80['x']-_0x5483c7['_calculate'+'dWidth']*_0x1ae808['x'],_0x5483c7['_margin']['z']=_0x5483c7['_localAnch'+'or']['z']-_0x5483c7['_localAnch'+'or']['x']-_0x5483c7['_calculate'+'dWidth']-_0x5483c7['_margin']['x'],_0x5483c7['_margin']['y']=_0x15eb80['y']-_0x5483c7['_calculate'+'dHeight']*_0x1ae808['y'],_0x5483c7['_margin']['w']=_0x5483c7['_localAnch'+'or']['w']-_0x5483c7['_localAnch'+'or']['y']-_0x5483c7['_calculate'+'dHeight']-_0x5483c7['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x390430=this['element'],_0x3c8923=_0x390430['screen'];if(_0x3c8923){if(_0x390430['_anchorDir'+'ty']){let _0x4963c6=0x24c0+0x209a+-0x455a,_0x39036d=0x1*0x1dd4+-0x170+-0x1c64,_0x15bf20=-0x3a3+-0x55*-0x1a+0x4ff*-0x1,_0x35096c=-0x41*-0x95+-0x1b4d+-0xa87;if(this['_parent']&&this['_parent']['element'])_0x4963c6=this['_parent']['element']['calculated'+'Width'],_0x39036d=this['_parent']['element']['calculated'+'Height'],_0x15bf20=this['_parent']['element']['pivot']['x'],_0x35096c=this['_parent']['element']['pivot']['y'];else{const _0x28dbd0=_0x3c8923['screen']['resolution'];_0x4963c6=_0x28dbd0['x']/_0x3c8923['screen']['scale'],_0x39036d=_0x28dbd0['y']/_0x3c8923['screen']['scale'];}_0x390430['_anchorTra'+'nsform']['setTransla'+'te'](_0x4963c6*(_0x390430['anchor']['x']-_0x15bf20),-(_0x39036d*(_0x35096c-_0x390430['anchor']['y'])),-0x1430+-0x99*-0x25+-0x11*0x1d),_0x390430['_anchorDir'+'ty']=!(-0x4*0x99a+0x3*0x618+0x1421),_0x390430['_calculate'+'LocalAncho'+'rs']();}_0x390430['_sizeDirty']&&_0x390430['_calculate'+'Size'](!(0xe01+-0x78e*-0x2+0x36*-0x8a),!(0x18a*-0x2+-0x307+0x5c*0x11));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x14e1f5=this['localPosit'+'ion'],_0x3554d4=_0x390430['_pivot'];_0x390430['_margin']['x']=_0x14e1f5['x']-_0x390430['_calculate'+'dWidth']*_0x3554d4['x'],_0x390430['_margin']['z']=_0x390430['_localAnch'+'or']['z']-_0x390430['_localAnch'+'or']['x']-_0x390430['_calculate'+'dWidth']-_0x390430['_margin']['x'],_0x390430['_margin']['y']=_0x14e1f5['y']-_0x390430['_calculate'+'dHeight']*_0x3554d4['y'],_0x390430['_margin']['w']=_0x390430['_localAnch'+'or']['w']-_0x390430['_localAnch'+'or']['y']-_0x390430['_calculate'+'dHeight']-_0x390430['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x14c9*0x1+0x5f2+0xed8);}if(!_0x3c8923){this['_dirtyWorl'+'d']&&(_0x390430['_cornersDi'+'rty']=!(-0x16d*-0xb+-0x46d*0x4+-0x1*-0x205),_0x390430['_canvasCor'+'nersDirty']=!(-0x2*0xaf6+-0x3*-0x685+0x25d),_0x390430['_worldCorn'+'ersDirty']=!(-0x107a+0xfe6+-0x25*-0x4)),We['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x390430['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x390430['_anchorTra'+'nsform']):_0x390430['_screenToW'+'orld']['copy'](_0x390430['_anchorTra'+'nsform']),_0x390430['_modelTran'+'sform']['mul2'](_0x390430['_screenToW'+'orld'],this['localTrans'+'form']),_0x3c8923){_0x390430['_screenToW'+'orld']['mul2'](_0x3c8923['screen']['_screenMat'+'rix'],_0x390430['_screenToW'+'orld']),_0x3c8923['screen']['screenSpac'+'e']||_0x390430['_screenToW'+'orld']['mul2'](_0x3c8923['worldTrans'+'form'],_0x390430['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x390430['_screenToW'+'orld'],this['localTrans'+'form']);const _0x34f97b=_0x390430['_parentWor'+'ldTransfor'+'m'];_0x34f97b['setIdentit'+'y']();const _0x44cdf2=this['_parent'];_0x44cdf2&&_0x44cdf2['element']&&_0x44cdf2!==_0x3c8923&&(es['setTRS'](T['ZERO'],_0x44cdf2['getLocalRo'+'tation'](),_0x44cdf2['getLocalSc'+'ale']()),_0x34f97b['mul2'](_0x44cdf2['element']['_parentWor'+'ldTransfor'+'m'],es));const _0x58859d=ni;_0x58859d['set'](-0x2652+0xc*-0x17f+0x157*0x2a,0x472*-0x1+-0x78f+0xc01,this['localPosit'+'ion']['z']);const _0x3fd30f=kR;_0x3fd30f['set'](_0x390430['_absLeft']+_0x390430['_pivot']['x']*_0x390430['calculated'+'Width'],_0x390430['_absBottom']+_0x390430['_pivot']['y']*_0x390430['calculated'+'Height'],-0x19d2+-0x1391+0x2d63),es['setTransla'+'te'](-_0x3fd30f['x'],-_0x3fd30f['y'],-_0x3fd30f['z']),Yl['setTRS'](_0x58859d,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Kl['setTransla'+'te'](_0x3fd30f['x'],_0x3fd30f['y'],_0x3fd30f['z']),_0x390430['_screenTra'+'nsform']['mul2'](_0x390430['_parentWor'+'ldTransfor'+'m'],Kl)['mul'](Yl)['mul'](es),_0x390430['_cornersDi'+'rty']=!(0x8dc+-0x27*0xd6+0x17be),_0x390430['_canvasCor'+'nersDirty']=!(0x1351+0x1885+-0x2bd6),_0x390430['_worldCorn'+'ersDirty']=!(0xc0+-0x910+-0x4c*-0x1c);}else this['worldTrans'+'form']['copy'](_0x390430['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0xb43+-0x213f+0x1b1*0xd);}}['_onInsert'](_0x5b1eb6){const _0x34655c=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x34655c['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x298cd4=this['entity'];for(;_0x298cd4;){const _0x366928=_0x298cd4['parent'];if((_0x366928===null||_0x366928['screen'])&&_0x298cd4['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),v['trace'](Ss,'register\x20p'+'rerender'));const _0x1986ae=this['system']['_prerender']['indexOf'](this['entity']);_0x1986ae>=-0x315*-0x5+-0x967+-0x602&&this['system']['_prerender']['splice'](_0x1986ae,-0x13*0x205+0x2*0xa55+0x2*0x8db),this['system']['_prerender']['indexOf'](_0x298cd4)<0x1a*-0xcd+0xe40+-0x349*-0x2&&this['system']['_prerender']['push'](_0x298cd4),v['trace'](Ss,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x298cd4['name']);}_0x298cd4=_0x366928;}}['_onPrerend'+'er'](){for(let _0x3e8306=-0x377*0x2+0x5*-0x78a+0x2ca0*0x1;_0x3e8306<this['system']['_prerender']['length'];_0x3e8306++){const _0x1c93f5=this['system']['_prerender'][_0x3e8306];v['trace'](Ss,'prerender\x20'+'from:\x20'+_0x1c93f5['name']),_0x1c93f5['element']&&_0x1c93f5['element']['syncMask'](0x13ef+0xb3f+-0x15b*0x17);}this['system']['_prerender']['length']=0x1*-0xdb+-0x1141+0xf4*0x13;}['_bindScree'+'n'](_0x5510a1){_0x5510a1['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x4b8d31){_0x4b8d31['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x2bfead){this['screen']&&this['screen']!==_0x2bfead&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x1ff8bc=this['screen'];this['screen']=_0x2bfead,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x1ff8bc),this['_anchorDir'+'ty']=!(-0x237+0x23c5+0x2*-0x10c7);const _0x332589=this['entity']['children'];for(let _0x51a685=0x3a*0x13+0x1fc2+0x8*-0x482,_0x54be09=_0x332589['length'];_0x51a685<_0x54be09;_0x51a685++)_0x332589[_0x51a685]['element']&&_0x332589[_0x51a685]['element']['_updateScr'+'een'](_0x2bfead);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x2317ff){const _0x1a3f22=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x1a3f22['mask'],_0x2317ff);}['_setMasked'+'By'](_0x4fa6a0){const _0x54430c=this['_image']||this['_text'];if(_0x4fa6a0){const _0x109df6=_0x4fa6a0['element']['_image']['_maskRef'];v['trace'](Ss,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x109df6),_0x54430c==null||_0x54430c['_setStenci'+'l'](new qs({'ref':_0x109df6,'func':Ch})),this['_maskedBy']=_0x4fa6a0;}else v['trace'](Ss,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x54430c==null||_0x54430c['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x5a89ad,_0x25dc38){var _0x3a514f,_0x37e5b9;if(_0x5a89ad){if(this['_setMasked'+'By'](_0x5a89ad),this['mask']){const _0x162bd5=_0x5a89ad['element']['_image']['_maskRef'],_0x373831=new qs({'ref':_0x162bd5,'func':Ch,'zpass':HS});this['_image']['_setStenci'+'l'](_0x373831),this['_image']['_maskRef']=_0x25dc38,_0x25dc38++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x373831['ref']+(-0x1b83*-0x1+0x258c+-0x5ea*0xb))),v['trace'](Ss,'depth++\x20to'+':\x20',_0x25dc38),_0x5a89ad=this['entity'];}const _0xdc7b21=this['entity']['children'];for(let _0x2f1f80=0x1*-0x1e49+-0x1de5+0x3c2e,_0x456f38=_0xdc7b21['length'];_0x2f1f80<_0x456f38;_0x2f1f80++)(_0x3a514f=_0xdc7b21[_0x2f1f80]['element'])==null||_0x3a514f['_updateMas'+'k'](_0x5a89ad,_0x25dc38);this['mask']&&_0x25dc38--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x5e42e6=new qs({'ref':_0x25dc38,'func':Ai,'zpass':GS});this['_image']['_setStenci'+'l'](_0x5e42e6),this['_image']['_maskRef']=_0x25dc38,_0x25dc38++,v['trace'](Ss,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x5e42e6['ref']),v['trace'](Ss,'depth++\x20to'+':\x20',_0x25dc38),_0x5a89ad=this['entity'];}const _0x2ef96d=this['entity']['children'];for(let _0x8078b2=0x1*0x9b1+0x2*0x1c1+-0xd33,_0x32945d=_0x2ef96d['length'];_0x8078b2<_0x32945d;_0x8078b2++)(_0x37e5b9=_0x2ef96d[_0x8078b2]['element'])==null||_0x37e5b9['_updateMas'+'k'](_0x5a89ad,_0x25dc38);this['mask']&&_0x25dc38--;}}['_parseUpTo'+'Screen'](){const _0x135b93={'screen':null,'mask':null};let _0x130f53=this['entity']['_parent'];for(;_0x130f53&&!_0x130f53['screen'];)_0x130f53['element']&&_0x130f53['element']['mask']&&(_0x135b93['mask']||(_0x135b93['mask']=_0x130f53)),_0x130f53=_0x130f53['parent'];return _0x130f53&&_0x130f53['screen']&&(_0x135b93['screen']=_0x130f53),_0x135b93;}['_onScreenR'+'esize'](_0x306f5a){this['_anchorDir'+'ty']=!(-0x52*0x6d+0x4fe+0x1dec),this['_cornersDi'+'rty']=!(-0x8e*0x2f+0x13*0x1df+-0x3*0x329),this['_worldCorn'+'ersDirty']=!(0x1fd2+-0x1*-0x2307+-0x42d9*0x1),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x306f5a);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x3b27d3=-0x1*0xb7+0x1e92+-0x19f3,_0xf1f803=0x1be3+0x1aa1+-0x4f*0xa4;const _0x3ee46a=this['entity']['_parent'];if(_0x3ee46a&&_0x3ee46a['element'])_0x3b27d3=_0x3ee46a['element']['calculated'+'Width'],_0xf1f803=_0x3ee46a['element']['calculated'+'Height'];else{if(this['screen']){const _0x75af13=this['screen']['screen']['resolution'],_0x34fb30=this['screen']['screen']['scale'];_0x3b27d3=_0x75af13['x']/_0x34fb30,_0xf1f803=_0x75af13['y']/_0x34fb30;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x3b27d3,this['_anchor']['y']*_0xf1f803,this['_anchor']['z']*_0x3b27d3,this['_anchor']['w']*_0xf1f803);}['getOffsetP'+'osition'](_0x1079e6,_0x36c9c7){const _0x5e29f3=this['entity']['getLocalPo'+'sition']()['clone']();return _0x5e29f3['x']+=_0x1079e6,_0x5e29f3['y']+=_0x36c9c7,this['_screenToW'+'orld']['transformP'+'oint'](_0x5e29f3,_0x5e29f3),_0x5e29f3;}['onLayersCh'+'anged'](_0x7c469,_0x135635){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x7c469['off']('add',this['onLayerAdd'+'ed'],this),_0x7c469['off']('remove',this['onLayerRem'+'oved'],this),_0x135635['on']('add',this['onLayerAdd'+'ed'],this),_0x135635['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2d7c45){this['layers']['indexOf'](_0x2d7c45['id'])<0x110+0x1442+-0x2*0xaa9||(this['_image']?_0x2d7c45['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x2d7c45['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x28e0c7){this['layers']['indexOf'](_0x28e0c7['id'])<-0x1bd0+-0x1555+0x3125||(this['_image']?_0x28e0c7['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x28e0c7['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x4d5d87;const _0x582aa5=this['system']['app']['scene'],_0x41ae72=_0x582aa5['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x582aa5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x41ae72&&(this['_evtLayerA'+'dded']=_0x41ae72['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x41ae72['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=-0xa*-0x109+-0x1*0x466+-0xc*0x7f&&((_0x4d5d87=this['system']['app']['batcher'])==null||_0x4d5d87['insert'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x33cab5,_0x15e48f,_0x556bca,_0x4f196e;const _0x256804=this['system']['app']['scene']['layers'];(_0x33cab5=this['_evtLayers'+'Changed'])==null||_0x33cab5['off'](),this['_evtLayers'+'Changed']=null,_0x256804&&((_0x15e48f=this['_evtLayerA'+'dded'])==null||_0x15e48f['off'](),this['_evtLayerA'+'dded']=null,(_0x556bca=this['_evtLayerR'+'emoved'])==null||_0x556bca['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x9cf+-0x2659+0x3028&&((_0x4f196e=this['system']['app']['batcher'])==null||_0x4f196e['remove'](et['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x53f939,_0x250f4f){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x11a5bb=this['_absRight']-this['_absLeft'],_0x1e2d34=this['_absTop']-this['_absBottom'];_0x53f939?this['_setWidth'](_0x11a5bb):this['_setCalcul'+'atedWidth'](_0x11a5bb,!(0x1*-0x18b0+-0xa4c+0x22fd)),_0x250f4f?this['_setHeight'](_0x1e2d34):this['_setCalcul'+'atedHeight'](_0x1e2d34,!(-0xcd0+0x73c*-0x4+0x29c1));const _0x167d1d=this['entity']['getLocalPo'+'sition']();_0x167d1d['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x167d1d['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x167d1d),this['_sizeDirty']=!(0x1d*-0xd3+-0xb02*-0x1+0xce6);}['_setWidth'](_0x1b11ea){this['_width']=_0x1b11ea,this['_setCalcul'+'atedWidth'](_0x1b11ea,!(0x218b+-0xe8f+0x71*-0x2b)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x9a0c44){this['_height']=_0x9a0c44,this['_setCalcul'+'atedHeight'](_0x9a0c44,!(0x16*-0x81+-0x8e8*-0x2+-0x6b9)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0xe9c60,_0x195165){if(!(Math['abs'](_0xe9c60-this['_calculate'+'dWidth'])<=0xe14+0x1c57+-0x2a6b+0.0001)){if(this['_calculate'+'dWidth']=_0xe9c60,this['entity']['_dirtifyLo'+'cal'](),_0x195165){const _0x363180=this['entity']['getLocalPo'+'sition'](),_0x1e9805=this['_pivot'];this['_margin']['x']=_0x363180['x']-this['_calculate'+'dWidth']*_0x1e9805['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x5f2492,_0x46610d){if(!(Math['abs'](_0x5f2492-this['_calculate'+'dHeight'])<=-0x1*0x323+-0x515+0x838+0.0001)){if(this['_calculate'+'dHeight']=_0x5f2492,this['entity']['_dirtifyLo'+'cal'](),_0x46610d){const _0x5ed2dd=this['entity']['getLocalPo'+'sition'](),_0x18b3e8=this['_pivot'];this['_margin']['y']=_0x5ed2dd['y']-this['_calculate'+'dHeight']*_0x18b3e8['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x4976a9=this['entity']['_children'];for(let _0x8ed578=0x100b+-0x258a+-0x157f*-0x1,_0xa59688=_0x4976a9['length'];_0x8ed578<_0xa59688;_0x8ed578++)_0x4976a9[_0x8ed578]['element']&&(_0x4976a9[_0x8ed578]['element']['_anchorDir'+'ty']=!(-0xa*-0x349+-0xee2+-0x14*0xe6),_0x4976a9[_0x8ed578]['element']['_sizeDirty']=!(-0x1*-0xe3c+0x7*-0x2e3+0x5f9*0x1));}['addModelTo'+'Layers'](_0x6a72e4){this['_addedMode'+'ls']['push'](_0x6a72e4);for(let _0x1dba90=-0x2366+0x39*-0x2f+0x2ddd;_0x1dba90<this['layers']['length'];_0x1dba90++){const _0x17b9f8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1dba90]);_0x17b9f8&&_0x17b9f8['addMeshIns'+'tances'](_0x6a72e4['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x50f251){const _0x5d4a8b=this['_addedMode'+'ls']['indexOf'](_0x50f251);_0x5d4a8b>=0x1f8d+-0x2*0x807+0x1*-0xf7f&&this['_addedMode'+'ls']['splice'](_0x5d4a8b,-0x683+0x1*-0xde7+0x146b);for(let _0x58fc35=0x1246+-0x38b+-0xebb;_0x58fc35<this['layers']['length'];_0x58fc35++){const _0x24c5ea=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x58fc35]);_0x24c5ea&&_0x24c5ea['removeMesh'+'Instances'](_0x50f251['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x27ea81=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x27ea81&&(this['_maskOffse'+'t']=0x1be7*-0x1+0x4eb*0x6+-0x19b*0x1+0.5,this['_offsetRea'+'dAt']=_0x27ea81);const _0x16cc31=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0x140b*-0x1+0xf*0x158+-0x1d+0.001,_0x16cc31;}['isVisibleF'+'orCamera'](_0x5bb3ee){let _0x3b0495,_0x4353d4,_0x568212,_0x4f6307;if(this['maskedBy']){const _0x5f4c47=this['maskedBy']['element']['screenCorn'+'ers'];_0x3b0495=Math['min'](Math['min'](_0x5f4c47[-0x1cc2+0xfb9*-0x1+0x3b*0xc1]['x'],_0x5f4c47[-0x2*-0x521+-0x25*-0xa7+-0x2264]['x']),Math['min'](_0x5f4c47[-0x3*0xbd5+-0x1007*0x1+0x3388]['x'],_0x5f4c47[-0x124d+-0x1fb1*0x1+0x3201]['x'])),_0x4353d4=Math['max'](Math['max'](_0x5f4c47[0x1*0x87e+-0x3*-0x1+-0x881]['x'],_0x5f4c47[0x1eb0+-0x10e4+-0x21*0x6b]['x']),Math['max'](_0x5f4c47[0x247c+0x262+-0x9b7*0x4]['x'],_0x5f4c47[0x66b*0x4+0x2058+-0x3a01*0x1]['x'])),_0x4f6307=Math['min'](Math['min'](_0x5f4c47[-0x1cff+0xf*-0x281+0x428e]['y'],_0x5f4c47[-0x1*-0x88b+-0x18c2+0x1038]['y']),Math['min'](_0x5f4c47[-0x17*-0xd1+0xd5f+-0x16*0x176]['y'],_0x5f4c47[-0xdb0+0x1014+-0x261]['y'])),_0x568212=Math['max'](Math['max'](_0x5f4c47[-0x2371+0x26e*0x5+0x174b]['y'],_0x5f4c47[-0x6*0x4b9+-0x1*0x11da+0x2e31]['y']),Math['max'](_0x5f4c47[0x101*0x6+-0x619+0x15]['y'],_0x5f4c47[-0xa5+0x22*-0x71+0xfaa*0x1]['y']));}else{const _0x5c014=this['system']['app']['graphicsDe'+'vice']['width'],_0x46fda6=this['system']['app']['graphicsDe'+'vice']['height'],_0x1ba7bc=_0x5bb3ee['_rect']['z']*_0x5c014,_0x347a16=_0x5bb3ee['_rect']['w']*_0x46fda6;_0x3b0495=_0x5bb3ee['_rect']['x']*_0x5c014,_0x4353d4=_0x3b0495+_0x1ba7bc,_0x568212=(0x4b2+0x977*-0x1+0x2f*0x1a-_0x5bb3ee['_rect']['y'])*_0x46fda6,_0x4f6307=_0x568212-_0x347a16;}const _0x31e47a=this['screenCorn'+'ers'],_0x1c972b=Math['min'](Math['min'](_0x31e47a[-0x86e+0x2f*-0x65+0x1af9]['x'],_0x31e47a[0x2463+-0x2*0x6cc+0x1*-0x16ca]['x']),Math['min'](_0x31e47a[0xe8b+-0x983*0x1+-0x506]['x'],_0x31e47a[0xfb+0x1c6c+-0x1d64]['x'])),_0x58a5c8=Math['max'](Math['max'](_0x31e47a[-0x150f+-0x91*0x19+0x2338]['x'],_0x31e47a[-0x3*0x15+-0xf88+-0x1*-0xfc8]['x']),Math['max'](_0x31e47a[-0x85f+0x855+0xc]['x'],_0x31e47a[0x5*0x3d3+-0xe9+-0x1233]['x'])),_0x1dc684=Math['min'](Math['min'](_0x31e47a[0x14d5+0x199*0xf+-0x2ccc]['y'],_0x31e47a[-0x1*-0x1e01+0x6*-0x402+-0x5f4]['y']),Math['min'](_0x31e47a[-0x2261+0x251c+-0x2b9]['y'],_0x31e47a[-0x1*0x2265+-0x1*-0x2662+0x2*-0x1fd]['y'])),_0x4659aa=Math['max'](Math['max'](_0x31e47a[-0x13d*-0x17+-0xc34+-0x1047]['y'],_0x31e47a[-0xeee+0x1a88+-0xb99]['y']),Math['max'](_0x31e47a[-0x204c+0x212c+-0xde]['y'],_0x31e47a[0x1fa*0xe+0x213*0x11+-0x2*0x1f76]['y']));return!(_0x58a5c8<_0x3b0495||_0x1c972b>_0x4353d4||_0x1dc684>_0x568212||_0x4659aa<_0x4f6307);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x3*0x2f0+-0x11*-0x1a5+0x4*-0x4c9);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x1c0c+-0x1391+-0x87a);}['_dirtyBatc'+'h'](){var _0x2738fe;this['batchGroup'+'Id']!==-(0x823*0x1+-0x523+-0x2ff)&&((_0x2738fe=this['system']['app']['batcher'])==null||_0x2738fe['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Gt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Gt,'EVENT_MOUS'+'EUP','mouseup'),c(Gt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Gt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Gt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Gt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Gt,'EVENT_CLIC'+'K','click'),c(Gt,'EVENT_TOUC'+'HSTART','touchstart'),c(Gt,'EVENT_TOUC'+'HEND','touchend'),c(Gt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Gt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class BR{constructor(){this['enabled']=!(0x5d5*0x5+0x1695+-0x2*0x19df);}}const NR=['enabled'];class zR extends Xe{constructor(_0x532ee3){super(_0x532ee3),this['id']='element',this['ComponentT'+'ype']=Gt,this['DataType']=BR,this['schema']=NR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new he(_0x532ee3['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':rs,'name':'element-sy'+'stem'});const _0x102f1d=this['_defaultTe'+'xture']['lock'](),_0x26d7cd=new Uint8Array(0xf2e+0xef*0x1b+-0x9f*0x41);_0x26d7cd[0x1d96+0x2181*0x1+-0x1*0x3f17]=-0x13de+0x1531+-0x54,_0x26d7cd[-0xc*-0x26e+0x2005+-0x3d2c]=-0x84*-0x9+-0x2*-0x97a+-0xd*0x1bd,_0x26d7cd[0xd*-0x14+0xf18+0xe12*-0x1]=0x10db+0x5ab+-0x1587,_0x26d7cd[0x71d*-0x5+-0xe00*0x1+0x4*0xc65]=-0x1a35+-0x1755+-0x3289*-0x1,_0x102f1d['set'](_0x26d7cd),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x2516d7,_0x403628,_0x469cb1){_0x2516d7['_beingInit'+'ialized']=!(0x39+-0x2642+0x2609),_0x403628['anchor']!==void(-0x3*0xa7b+0x1eda+0x1*0x97)&&(_0x403628['anchor']instanceof Q?_0x2516d7['anchor']['copy'](_0x403628['anchor']):_0x2516d7['anchor']['set'](_0x403628['anchor'][-0xc8d+0x14df+-0xd5*0xa],_0x403628['anchor'][-0x1f1b+-0x4b*0x7+0x2129],_0x403628['anchor'][-0x1755*0x1+0x14e3+-0x2*-0x13a],_0x403628['anchor'][0x16d*-0x19+-0x2c2*-0x7+-0x17*-0xb6])),_0x403628['pivot']!==void(-0x1053+0x293*-0x6+-0x1*-0x1fc5)&&(_0x403628['pivot']instanceof W?_0x2516d7['pivot']['copy'](_0x403628['pivot']):_0x2516d7['pivot']['set'](_0x403628['pivot'][-0x1879*-0x1+-0x361*-0xa+-0x3a43],_0x403628['pivot'][0x16d*-0x1+0x4*-0x926+0x2606]));const _0x25efd8=Math['abs'](_0x2516d7['anchor']['x']-_0x2516d7['anchor']['z'])>0x77b*-0x5+-0x1d63+0x67*0xa6+0.001,_0x2c9172=Math['abs'](_0x2516d7['anchor']['y']-_0x2516d7['anchor']['w'])>-0x146b*-0x1+0x18c4+0x10d*-0x2b+0.001;let _0x5412a4=!(0x10*-0xdc+-0x1237*-0x1+0x476*-0x1),_0x2a0c59;_0x403628['margin']!==void(0x2*0x3e8+-0x1078+0x8a8)&&(_0x403628['margin']instanceof Q?_0x2516d7['margin']['copy'](_0x403628['margin']):_0x2516d7['_margin']['set'](_0x403628['margin'][-0x436*-0x1+0xa4e*-0x3+0x1ab4],_0x403628['margin'][0x1006+0x91e+-0x249*0xb],_0x403628['margin'][0x231+0x1*0x1e7e+-0x20ad],_0x403628['margin'][0x2f*0x7f+-0x9e0+0x9*-0x17e]),_0x5412a4=!(0x17df+-0x3*0x8f5+0x300)),_0x403628['left']!==void(0x5*-0x6e0+0x3cd*0x2+0x1ac6)&&(_0x2516d7['_margin']['x']=_0x403628['left'],_0x5412a4=!(0x1a9b*0x1+-0x185e*0x1+-0x23d)),_0x403628['bottom']!==void(-0x2e0+-0x1*0x985+0xc65)&&(_0x2516d7['_margin']['y']=_0x403628['bottom'],_0x5412a4=!(0x409*-0x3+-0x1b65+0x9e*0x40)),_0x403628['right']!==void(0x26*0xbb+0x2*-0x3a6+-0x1476)&&(_0x2516d7['_margin']['z']=_0x403628['right'],_0x5412a4=!(-0x3*-0xb8+-0x1365+0x113d)),_0x403628['top']!==void(0x1733+0xbb7+-0x22ea)&&(_0x2516d7['_margin']['w']=_0x403628['top'],_0x5412a4=!(-0xf63+0x2022+-0x10bf)),_0x5412a4&&(_0x2516d7['margin']=_0x2516d7['_margin']);let _0x31a388=!(-0x2*0xb90+0xfc2+0x75f);_0x403628['width']!==void(0x1479+0x31*0x25+-0x1b8e)&&!_0x25efd8?_0x2516d7['width']=_0x403628['width']:_0x25efd8&&(_0x31a388=!(-0x16e+-0x16ef+0x1b*0xe7)),_0x403628['height']!==void(0x40*0x43+0x4d9*-0x3+-0x235)&&!_0x2c9172?_0x2516d7['height']=_0x403628['height']:_0x2c9172&&(_0x31a388=!(-0x191e+0xc2*0xe+0x2*0x741)),_0x31a388&&(_0x2516d7['anchor']=_0x2516d7['anchor']),_0x403628['enabled']!==void(0xa9*0xa+-0x16*0x7b+-0x1*-0x3f8)&&(_0x2516d7['enabled']=_0x403628['enabled']),_0x403628['useInput']!==void(-0x2689+0xa5+-0x2*-0x12f2)&&(_0x2516d7['useInput']=_0x403628['useInput']),_0x403628['fitMode']!==void(0x3bc+-0x1f0d+0x1b51)&&(_0x2516d7['fitMode']=_0x403628['fitMode']),_0x2516d7['batchGroup'+'Id']=_0x403628['batchGroup'+'Id']===void(0x1*-0x119b+0x2*-0x12df+-0x3759*-0x1)||_0x403628['batchGroup'+'Id']===null?-(-0x2f*-0x89+0xbcf*-0x1+-0xd57):_0x403628['batchGroup'+'Id'],_0x403628['layers']&&Array['isArray'](_0x403628['layers'])&&(_0x2516d7['layers']=_0x403628['layers']['slice'](0x1*0x1d17+-0x14f7+0x8*-0x104)),_0x403628['type']!==void(-0x241f+0x1122+0x12fd*0x1)&&(_0x2516d7['type']=_0x403628['type']),_0x2516d7['type']===rf?(_0x403628['rect']!==void(-0x5a2+0x2696+0x39*-0x94)&&(_0x2516d7['rect']=_0x403628['rect']),_0x403628['color']!==void(0x1e46+0x1f7*-0xd+-0x4bb)&&(_0x2a0c59=_0x403628['color'],_0x2a0c59 instanceof Y||(_0x2a0c59=new Y(_0x403628['color'][0xda*-0x15+0x1*0x15ac+-0x3ca],_0x403628['color'][0x3*0x3ca+0x5d*-0x5d+0x166c],_0x403628['color'][0x1b50+-0xb97+0x1*-0xfb7])),_0x2516d7['color']=_0x2a0c59),_0x403628['opacity']!==void(0xd44*0x2+0xadd+-0x1*0x2565)&&(_0x2516d7['opacity']=_0x403628['opacity']),_0x403628['textureAss'+'et']!==void(0x13*-0x141+-0x4d*-0x3a+0x661)&&(_0x2516d7['textureAss'+'et']=_0x403628['textureAss'+'et']),_0x403628['texture']&&(_0x2516d7['texture']=_0x403628['texture']),_0x403628['spriteAsse'+'t']!==void(0x15b8+0x131*0x17+0x311f*-0x1)&&(_0x2516d7['spriteAsse'+'t']=_0x403628['spriteAsse'+'t']),_0x403628['sprite']&&(_0x2516d7['sprite']=_0x403628['sprite']),_0x403628['spriteFram'+'e']!==void(0x27b+-0x22dc+0x2061)&&(_0x2516d7['spriteFram'+'e']=_0x403628['spriteFram'+'e']),_0x403628['pixelsPerU'+'nit']!==void(-0x1934+-0x3ba+0x1cee)&&_0x403628['pixelsPerU'+'nit']!==null&&(_0x2516d7['pixelsPerU'+'nit']=_0x403628['pixelsPerU'+'nit']),_0x403628['materialAs'+'set']!==void(-0xd4*0x19+-0xb6c+0x2020)&&(_0x2516d7['materialAs'+'set']=_0x403628['materialAs'+'set']),_0x403628['material']&&(_0x2516d7['material']=_0x403628['material']),_0x403628['mask']!==void(0xa97*-0x3+0x2*-0x661+-0x1*-0x2c87)&&(_0x2516d7['mask']=_0x403628['mask'])):_0x2516d7['type']===ex&&(_0x403628['autoWidth']!==void(0x1eaf+0x1ad7*0x1+-0x3986)&&(_0x2516d7['autoWidth']=_0x403628['autoWidth']),_0x403628['autoHeight']!==void(0x23b5+0x405+-0x1*0x27ba)&&(_0x2516d7['autoHeight']=_0x403628['autoHeight']),_0x403628['rtlReorder']!==void(0x49*-0xd+-0x1*0x1678+-0x1*-0x1a2d)&&(_0x2516d7['rtlReorder']=_0x403628['rtlReorder']),_0x403628['unicodeCon'+'verter']!==void(-0x2*-0xa17+-0x2*0xb55+0x27c)&&(_0x2516d7['unicodeCon'+'verter']=_0x403628['unicodeCon'+'verter']),_0x403628['text']!==null&&_0x403628['text']!==void(-0x1efd+-0x7cb+0x22*0x124)?_0x2516d7['text']=_0x403628['text']:_0x403628['key']!==null&&_0x403628['key']!==void(-0xe47+0x16cd+-0x1*0x886)&&(_0x2516d7['key']=_0x403628['key']),_0x403628['color']!==void(0x1*-0x2239+0x6b*-0x57+-0xd*-0x56e)&&(_0x2a0c59=_0x403628['color'],_0x2a0c59 instanceof Y||(_0x2a0c59=new Y(_0x2a0c59[-0x1b2e+-0x1cf9*-0x1+0x1*-0x1cb],_0x2a0c59[-0x3*0xbd9+0x1*-0x599+0x2925],_0x2a0c59[0x2b*0x53+0x20ed*-0x1+-0xb*-0x1ba])),_0x2516d7['color']=_0x2a0c59),_0x403628['opacity']!==void(-0xeb2+-0x891+0x1743)&&(_0x2516d7['opacity']=_0x403628['opacity']),_0x403628['spacing']!==void(0xd69+-0x1769+0xa00)&&(_0x2516d7['spacing']=_0x403628['spacing']),_0x403628['fontSize']!==void(0x2232*-0x1+-0x1fb2+0x41e4)&&(_0x2516d7['fontSize']=_0x403628['fontSize'],_0x403628['lineHeight']||(_0x2516d7['lineHeight']=_0x403628['fontSize'])),_0x403628['lineHeight']!==void(0xf2a*0x2+0x7*0x301+0x335b*-0x1)&&(_0x2516d7['lineHeight']=_0x403628['lineHeight']),_0x403628['maxLines']!==void(-0x199*0x7+-0x6*-0x2bd+-0x53f)&&(_0x2516d7['maxLines']=_0x403628['maxLines']),_0x403628['wrapLines']!==void(0x156e+0x6af+-0x1c1d)&&(_0x2516d7['wrapLines']=_0x403628['wrapLines']),_0x403628['minFontSiz'+'e']!==void(-0xb52+-0x24c+0xd9e)&&(_0x2516d7['minFontSiz'+'e']=_0x403628['minFontSiz'+'e']),_0x403628['maxFontSiz'+'e']!==void(-0xdf*-0x1e+0x1*0x377+0x1d99*-0x1)&&(_0x2516d7['maxFontSiz'+'e']=_0x403628['maxFontSiz'+'e']),_0x403628['autoFitWid'+'th']&&(_0x2516d7['autoFitWid'+'th']=_0x403628['autoFitWid'+'th']),_0x403628['autoFitHei'+'ght']&&(_0x2516d7['autoFitHei'+'ght']=_0x403628['autoFitHei'+'ght']),_0x403628['fontAsset']!==void(-0xf3*0x6+0x3c*0x80+-0x184e)&&(_0x2516d7['fontAsset']=_0x403628['fontAsset']),_0x403628['font']!==void(-0x3*-0x92+0xbf*0x2f+-0x10d*0x23)&&(_0x2516d7['font']=_0x403628['font']),_0x403628['alignment']!==void(-0x8*-0x10+-0x1660+0x15e0)&&(_0x2516d7['alignment']=_0x403628['alignment']),_0x403628['outlineCol'+'or']!==void(0x2*0x132e+0xfe1+-0x363d)&&(_0x2516d7['outlineCol'+'or']=_0x403628['outlineCol'+'or']),_0x403628['outlineThi'+'ckness']!==void(0x3*-0x6ef+0x21cf+-0xd02)&&(_0x2516d7['outlineThi'+'ckness']=_0x403628['outlineThi'+'ckness']),_0x403628['shadowColo'+'r']!==void(0x1f85*-0x1+-0x1334+-0x5*-0xa25)&&(_0x2516d7['shadowColo'+'r']=_0x403628['shadowColo'+'r']),_0x403628['shadowOffs'+'et']!==void(0xb6b+0xfeb+-0xdab*0x2)&&(_0x2516d7['shadowOffs'+'et']=_0x403628['shadowOffs'+'et']),_0x403628['enableMark'+'up']!==void(0x143*0x6+-0x23ed*0x1+-0x11*-0x1ab)&&(_0x2516d7['enableMark'+'up']=_0x403628['enableMark'+'up']));const _0x4eb92d=_0x2516d7['_parseUpTo'+'Screen']();_0x4eb92d['screen']&&_0x2516d7['_updateScr'+'een'](_0x4eb92d['screen']),super['initialize'+'ComponentD'+'ata'](_0x2516d7,_0x403628,_0x469cb1),_0x2516d7['_beingInit'+'ialized']=!(-0x71*-0xa+-0x1*0xf43+0xada),_0x2516d7['type']===rf&&_0x2516d7['_image']['_meshDirty']&&_0x2516d7['_image']['_updateMes'+'h'](_0x2516d7['_image']['mesh']);}['onAddCompo'+'nent'](_0x5a6f12,_0x1bae8f){_0x5a6f12['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x2498b0,_0x29556c){_0x29556c['onRemove']();}['cloneCompo'+'nent'](_0x2ab0b1,_0x12bcf5){const _0x32bf27=_0x2ab0b1['element'],_0x32524b={'enabled':_0x32bf27['enabled'],'width':_0x32bf27['width'],'height':_0x32bf27['height'],'anchor':_0x32bf27['anchor']['clone'](),'pivot':_0x32bf27['pivot']['clone'](),'margin':_0x32bf27['margin']['clone'](),'alignment':_0x32bf27['alignment']&&_0x32bf27['alignment']['clone']()||_0x32bf27['alignment'],'autoWidth':_0x32bf27['autoWidth'],'autoHeight':_0x32bf27['autoHeight'],'type':_0x32bf27['type'],'rect':_0x32bf27['rect']&&_0x32bf27['rect']['clone']()||_0x32bf27['rect'],'rtlReorder':_0x32bf27['rtlReorder'],'unicodeConverter':_0x32bf27['unicodeCon'+'verter'],'materialAsset':_0x32bf27['materialAs'+'set'],'material':_0x32bf27['material'],'color':_0x32bf27['color']&&_0x32bf27['color']['clone']()||_0x32bf27['color'],'opacity':_0x32bf27['opacity'],'textureAsset':_0x32bf27['textureAss'+'et'],'texture':_0x32bf27['texture'],'spriteAsset':_0x32bf27['spriteAsse'+'t'],'sprite':_0x32bf27['sprite'],'spriteFrame':_0x32bf27['spriteFram'+'e'],'pixelsPerUnit':_0x32bf27['pixelsPerU'+'nit'],'spacing':_0x32bf27['spacing'],'lineHeight':_0x32bf27['lineHeight'],'wrapLines':_0x32bf27['wrapLines'],'layers':_0x32bf27['layers'],'fontSize':_0x32bf27['fontSize'],'minFontSize':_0x32bf27['minFontSiz'+'e'],'maxFontSize':_0x32bf27['maxFontSiz'+'e'],'autoFitWidth':_0x32bf27['autoFitWid'+'th'],'autoFitHeight':_0x32bf27['autoFitHei'+'ght'],'maxLines':_0x32bf27['maxLines'],'fontAsset':_0x32bf27['fontAsset'],'font':_0x32bf27['font'],'useInput':_0x32bf27['useInput'],'fitMode':_0x32bf27['fitMode'],'batchGroupId':_0x32bf27['batchGroup'+'Id'],'mask':_0x32bf27['mask'],'outlineColor':_0x32bf27['outlineCol'+'or']&&_0x32bf27['outlineCol'+'or']['clone']()||_0x32bf27['outlineCol'+'or'],'outlineThickness':_0x32bf27['outlineThi'+'ckness'],'shadowColor':_0x32bf27['shadowColo'+'r']&&_0x32bf27['shadowColo'+'r']['clone']()||_0x32bf27['shadowColo'+'r'],'shadowOffset':_0x32bf27['shadowOffs'+'et']&&_0x32bf27['shadowOffs'+'et']['clone']()||_0x32bf27['shadowOffs'+'et'],'enableMarkup':_0x32bf27['enableMark'+'up']};return _0x32bf27['key']!==void(0x34e*0x8+-0x1*-0x2131+-0x3ba1)&&_0x32bf27['key']!==null?_0x32524b['key']=_0x32bf27['key']:_0x32524b['text']=_0x32bf27['text'],this['addCompone'+'nt'](_0x12bcf5,_0x32524b);}['getTextEle'+'mentMateri'+'al'](_0x47436c,_0x96b82f,_0x2ce857){const _0x2220c1=(_0x47436c&&-0x14f1+0x1*-0x1ac9+0x2fbb)|(_0x96b82f&&0x1e2f*-0x1+0xe8f*-0x2+0x3b4f)|(_0x2ce857&&0x1bee+-0x20d4+-0x275*-0x2);let _0xdbdb64=this['_defaultTe'+'xtMaterial'+'s'][_0x2220c1];if(_0xdbdb64)return _0xdbdb64;let _0x370451='TextMateri'+'al';return _0xdbdb64=new cs(),_0x96b82f?(_0xdbdb64['msdfMap']=this['_defaultTe'+'xture'],_0xdbdb64['msdfTextAt'+'tribute']=_0x2ce857,_0xdbdb64['emissive']['set'](0x6f0+-0x12fd+0xc0e*0x1,-0x1ff5+0x13ca+0x4c*0x29,0x97c+0x1c36+-0x25b1)):(_0x370451='Bitmap'+_0x370451,_0xdbdb64['emissive']['set'](-0x1*-0x1f+-0xf3f*-0x2+-0x51a*0x6,0x303*-0x1+0x3ea*-0x8+0x2254,-0x1e6d+0x1654+-0x1*-0x81a),_0xdbdb64['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0xdbdb64['opacityMap']=this['_defaultTe'+'xture'],_0xdbdb64['opacityMap'+'Channel']='a'),_0x47436c&&(_0x370451='ScreenSpac'+'e'+_0x370451,_0xdbdb64['depthTest']=!(0x2587+0x109*0x1a+-0x1*0x4070)),_0xdbdb64['name']='default'+_0x370451,_0xdbdb64['useLightin'+'g']=!(-0x22f9*-0x1+-0x94e+-0x19aa),_0xdbdb64['useTonemap']=!(0x207c+0x7a2+-0x281d),_0xdbdb64['useFog']=!(0x1250+0x1*0x2dd+-0x152c),_0xdbdb64['useSkybox']=!(-0x1*-0x11dd+0x1*0xb2d+-0x1d09),_0xdbdb64['diffuse']['set'](0x53f*0x3+-0x3*-0x556+-0x1fbf,-0x63*0x2b+-0x2191+0x3232,-0x2516+0x2*-0x1131+-0x8ef*-0x8),_0xdbdb64['opacity']=0xce3+0x1bb6+-0x2899+0.5,_0xdbdb64['blendType']=hr,_0xdbdb64['depthWrite']=!(0x1*0x1d39+0xbf*0x11+-0x29e7),_0xdbdb64['emissiveVe'+'rtexColor']=!(0x2285+-0x51b*-0x2+-0x2cbb),_0xdbdb64['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x2220c1]=_0xdbdb64,_0xdbdb64;}['_createBas'+'eImageMate'+'rial'](){const _0x265213=new cs();return _0x265213['diffuse']['set'](0x1*-0xf23+0xb84+0x3*0x135,0x6*0x676+-0xa*0x2c0+-0x19c*0x7,0x1*0x9d+0xbb*-0x22+0x1839),_0x265213['emissive']['set'](0x34*-0x28+0xfa7+0x12*-0x6b,-0xf07*0x1+0x1ae*-0x13+0x1*0x2ef2,-0xcb9*-0x1+-0x12d*0x1f+0x17bb),_0x265213['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x265213['opacityMap']=this['_defaultTe'+'xture'],_0x265213['opacityMap'+'Channel']='a',_0x265213['useLightin'+'g']=!(0x1*0x7c9+0x2710+0x2*-0x176c),_0x265213['useTonemap']=!(-0x1abe+-0x2099+0x3b58),_0x265213['useFog']=!(0x1d*0xe+0x13*-0x1cd+0x20a2),_0x265213['useSkybox']=!(0xb5*-0xe+0x2b4+0x13*0x61),_0x265213['blendType']=hr,_0x265213['depthWrite']=!(-0x312+0x1ef3+-0x1be0),_0x265213;}['getImageEl'+'ementMater'+'ial'](_0xb47ac4,_0x34c020,_0x21379b,_0x26937f){return _0xb47ac4?_0x34c020?_0x21379b?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1*0xfbc+0x19c9*-0x1+-0x427*-0xa),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x2127+-0x3*0x4d5+-0x12a7,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x1efa+0x1b5e+0x1*0x39d),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x129a+-0x232+0x14cd),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0xcbc+0x1*0x1295+-0x5d8),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x32b+0x2*-0x9d1+0x16ce),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x26937f?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1*-0x1272+-0x1b4e+-0x2dc1*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0xae7+-0x3*0x6cd+0x1f4f,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x3d*0xb+0x21ce+-0x246c),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x3*-0x329+0x85b+-0x11d5),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x23a7*-0x1+0x1f78*0x1+0x30d*-0x16),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x12ea+0x183c+-0x8a1*0x5),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x200a+0x33+0x1fd8),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x1*-0x18fb+0xd49+0xcc1*-0x3,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0x22*-0x7d+-0x192a+0x1*0x891),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x1*-0xd57+-0x2*-0x11b6+0x9d*-0x24),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0xf97+0x1d61+-0x1*0xdc9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x1a08+-0x1*-0x16af+-0x30b6),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x21379b?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=nt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x1*0x30b+0x13c2+-0x10b6),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x26937f?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Qe,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x11c+0x1b78+-0x1a5b),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x18c1+-0x194e+0x3210),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x34c020?_0x21379b?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=-0x1*-0x2098+-0x1*0x12dc+0x5f*-0x25,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0xe68*0x1+0x1*0x19ef+-0xb86),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x1553+0x659+0xefb),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x17a9+0x1a96+-0x44*0xb),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0xf2f*0x1+-0x698+0x15c8),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x26937f?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0x922+0x17*-0x59+0x3*0x5b6,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0xfc8+0x1*-0x1f88+-0x1*-0x2f51),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x194*0x10+-0x1*0xe13+-0x2754*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x2514+-0x57*0x61+-0x41c),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x1eaf+0x235a+0x2*-0x255),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1450+-0xdfc+0x653*-0x1,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0x31a+0x2551+-0x1435*0x2),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x62a*-0x4+-0x26fd+-0x2*-0x1fd3),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x161a+0x6e2+0xf39),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x172+0x1*0x21eb+-0x1*0x235c),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x21379b?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=nt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x26937f?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Qe,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x5906bf){this['_unicodeCo'+'nverter']=_0x5906bf;}['registerRt'+'lReorder'](_0x5a8313){this['_rtlReorde'+'r']=_0x5a8313;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Un='free',Vn='limited',Gn='locked',UR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Up extends ue{constructor(_0x3c8467,_0x2b552f){super(_0x3c8467,_0x2b552f),v['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x1c*0x12a+-0x4b4+0x254c),this['_linearMot'+'ionX']=Gn,this['_linearLim'+'itsX']=new W(-0x15da+0x22fd+0x461*-0x3,0x1b*-0xad+0x1*-0x2222+-0x247*-0x17),this['_linearSpr'+'ingX']=!(0xfa5+0xd3d*0x1+-0x1ce1),this['_linearSti'+'ffnessX']=-0xa6c+0x1f3*-0xe+0x25b6,this['_linearDam'+'pingX']=0x67*0xb+-0x1bb5+0x1749,this['_linearEqu'+'ilibriumX']=-0x33d*-0x1+-0x105+-0x11c*0x2,this['_linearMot'+'ionY']=Gn,this['_linearLim'+'itsY']=new W(-0x1c79+-0x1d70+-0x1*-0x39e9,0xbd4*-0x2+-0xd*-0x23d+-0x571),this['_linearSpr'+'ingY']=!(-0x95a+0xf*-0x17f+0x1fcc),this['_linearSti'+'ffnessY']=0x622+0x23b2+0x14ea*-0x2,this['_linearDam'+'pingY']=-0x167*0x3+0x126*0x7+0x8c*-0x7,this['_linearEqu'+'ilibriumY']=-0xb*0x2d7+0x21c9*-0x1+0x4106*0x1,this['_linearMot'+'ionZ']=Gn,this['_linearLim'+'itsZ']=new W(-0xf4e+-0x2404+0x3352,0xec5+-0x249+-0xc7c),this['_linearSpr'+'ingZ']=!(-0x15b+0x2*-0xca6+0x4*0x6aa),this['_linearSti'+'ffnessZ']=0x7cc+-0xceb*0x2+0x120a,this['_linearDam'+'pingZ']=-0x8e*-0x7+0x64*-0x3+0x63*-0x7,this['_linearEqu'+'ilibriumZ']=0x7*0x50b+0xf2*0x6+-0x28f9,this['_angularMo'+'tionX']=Gn,this['_angularLi'+'mitsX']=new W(0x7*0x4ff+-0x9a*0x6+-0x1f5d,0x1*-0xf8e+-0x2*0x33d+-0x1e*-0xbc),this['_angularSp'+'ringX']=!(-0xa38+0x1f*0x90+-0x737),this['_angularSt'+'iffnessX']=0xe*-0x2bf+-0x4*0x82e+-0x1*-0x472a,this['_angularDa'+'mpingX']=-0x1222+-0x393+-0xe*-0x18d,this['_angularEq'+'uilibriumX']=0xead*-0x1+0x1973+-0xc5*0xe,this['_angularMo'+'tionY']=Gn,this['_angularLi'+'mitsY']=new W(0xb9*-0x1+-0xc41+0xcfa,0x12*-0x175+0x79d*-0x1+0x21d7),this['_angularSp'+'ringY']=!(-0x1a17*-0x1+0x3b*-0x9+0x2ab*-0x9),this['_angularSt'+'iffnessY']=0x454+-0x1*-0xc61+-0x10b5,this['_angularDa'+'mpingY']=0x86f+0x2525+-0xf31*0x3,this['_angularEq'+'uilibriumY']=0x80f*-0x1+0x1*-0x19d6+0x21e5,this['_angularMo'+'tionZ']=Gn,this['_angularLi'+'mitsZ']=new W(-0x49*-0x1d+-0x1046+0x2ab*0x3,-0x4*0x2b0+0x1262+-0x7a2),this['_angularSp'+'ringZ']=!(0x63*-0x59+-0x86b+0x1*0x2ad7),this['_angularEq'+'uilibriumZ']=-0x1990+-0x44*-0x89+0xc*-0xe7,this['_angularDa'+'mpingZ']=0xd*-0x1f7+-0x814*0x1+-0x10d*-0x20,this['_angularSt'+'iffnessZ']=-0x141b+0xd7d+0x34f*0x2,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x3cacaf){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x3cacaf,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x5ea4f8){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x5ea4f8,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x2dc047){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x2dc047&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x2dc047),this['_breakForc'+'e']=_0x2dc047);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x32932e){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x32932e,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x2f28fb){this['_angularLi'+'mitsX']['equals'](_0x2f28fb)||(this['_angularLi'+'mitsX']['copy'](_0x2f28fb),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x53490b){this['_angularMo'+'tionX']!==_0x53490b&&(this['_angularMo'+'tionX']=_0x53490b,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x301ae5){this['_angularLi'+'mitsY']['equals'](_0x301ae5)||(this['_angularLi'+'mitsY']['copy'](_0x301ae5),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x12ba08){this['_angularMo'+'tionY']!==_0x12ba08&&(this['_angularMo'+'tionY']=_0x12ba08,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0xafe922){this['_angularLi'+'mitsZ']['equals'](_0xafe922)||(this['_angularLi'+'mitsZ']['copy'](_0xafe922),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x21ae96){this['_angularMo'+'tionZ']!==_0x21ae96&&(this['_angularMo'+'tionZ']=_0x21ae96,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x35cd03){this['_linearLim'+'itsX']['equals'](_0x35cd03)||(this['_linearLim'+'itsX']['copy'](_0x35cd03),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x2e9a72){this['_linearMot'+'ionX']!==_0x2e9a72&&(this['_linearMot'+'ionX']=_0x2e9a72,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x57ead7){this['_linearLim'+'itsY']['equals'](_0x57ead7)||(this['_linearLim'+'itsY']['copy'](_0x57ead7),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x312c52){this['_linearMot'+'ionY']!==_0x312c52&&(this['_linearMot'+'ionY']=_0x312c52,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x1b6dac){this['_linearLim'+'itsZ']['equals'](_0x1b6dac)||(this['_linearLim'+'itsZ']['copy'](_0x1b6dac),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x1cac34){this['_linearMot'+'ionZ']!==_0x1cac34&&(this['_linearMot'+'ionZ']=_0x1cac34,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x51271e,_0x12b81e){const _0x157391=_0x51271e['getTransla'+'tion'](),_0x248e7e=new se();_0x248e7e['setFromMat'+'4'](_0x51271e);const _0x12ace6=new Ammo['btVector3'](_0x157391['x'],_0x157391['y'],_0x157391['z']),_0x1225f4=new Ammo['btQuaterni'+'on'](_0x248e7e['x'],_0x248e7e['y'],_0x248e7e['z'],_0x248e7e['w']);_0x12b81e['setOrigin'](_0x12ace6),_0x12b81e['setRotatio'+'n'](_0x1225f4),Ammo['destroy'](_0x12ace6),Ammo['destroy'](_0x1225f4);}['_updateAng'+'ularLimits'](){const _0x3600c4=this['_constrain'+'t'];if(_0x3600c4){let _0xfdf906,_0x16d17c,_0x315fda,_0x216b75,_0x1346a7,_0x2d4abe;this['_angularMo'+'tionX']===Vn?(_0xfdf906=this['_angularLi'+'mitsX']['x']*N['DEG_TO_RAD'],_0x216b75=this['_angularLi'+'mitsX']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionX']===Un?(_0xfdf906=-0xc*0xa8+-0xc02+0x13e3*0x1,_0x216b75=0x92c*0x2+0xf1+-0x1*0x1349):_0xfdf906=_0x216b75=-0x9b1*0x2+0x356*0x9+-0xe3*0xc,this['_angularMo'+'tionY']===Vn?(_0x16d17c=this['_angularLi'+'mitsY']['x']*N['DEG_TO_RAD'],_0x1346a7=this['_angularLi'+'mitsY']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionY']===Un?(_0x16d17c=0x885+0x25fd+0x1*-0x2e81,_0x1346a7=-0x6*0x52f+0x193+0x1*0x1d87):_0x16d17c=_0x1346a7=-0x1672+-0x1b44+-0x12*-0x2c3,this['_angularMo'+'tionZ']===Vn?(_0x315fda=this['_angularLi'+'mitsZ']['x']*N['DEG_TO_RAD'],_0x2d4abe=this['_angularLi'+'mitsZ']['y']*N['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Un?(_0x315fda=-0x11dd+-0x1614+-0x2*-0x13f9,_0x2d4abe=0x7ea+-0x1*0x791+-0x59*0x1):_0x315fda=_0x2d4abe=-0x1*-0x12b6+0x6*0x5ad+-0x34c4;const _0x5b6f5=new Ammo['btVector3'](_0xfdf906,_0x16d17c,_0x315fda);_0x3600c4['setAngular'+'LowerLimit'](_0x5b6f5),_0x5b6f5['setValue'](_0x216b75,_0x1346a7,_0x2d4abe),_0x3600c4['setAngular'+'UpperLimit'](_0x5b6f5),Ammo['destroy'](_0x5b6f5);}}['_updateLin'+'earLimits'](){const _0x53ece4=this['_constrain'+'t'];if(_0x53ece4){let _0x5d04b8,_0xa0ed05,_0x1e4dea,_0x55d752,_0x3f78e0,_0x1083d9;this['_linearMot'+'ionX']===Vn?(_0x5d04b8=this['_linearLim'+'itsX']['x'],_0x55d752=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Un?(_0x5d04b8=0x15b4+-0x24b2+-0x1*-0xeff,_0x55d752=-0x16*0xf1+0xe58+0x65e):_0x5d04b8=_0x55d752=-0x2271*-0x1+0x11*0x86+0x13d*-0x23,this['_linearMot'+'ionY']===Vn?(_0xa0ed05=this['_linearLim'+'itsY']['x'],_0x3f78e0=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Un?(_0xa0ed05=0x1525+-0x13*0x155+0x42b,_0x3f78e0=0x17*0x10d+-0x1460+0x1*-0x3cb):_0xa0ed05=_0x3f78e0=0x2*0xd9a+0x12e6+-0x2e1a,this['_linearMot'+'ionZ']===Vn?(_0x1e4dea=this['_linearLim'+'itsZ']['x'],_0x1083d9=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Un?(_0x1e4dea=-0x15a3*0x1+0x1652+0x57*-0x2,_0x1083d9=-0xb5*-0x21+-0x1347*-0x1+-0x4bc*0x9):_0x1e4dea=_0x1083d9=0x35*0x6d+-0x1*0xd9b+-0x2*0x47b;const _0x3aab78=new Ammo['btVector3'](_0x5d04b8,_0xa0ed05,_0x1e4dea);_0x53ece4['setLinearL'+'owerLimit'](_0x3aab78),_0x3aab78['setValue'](_0x55d752,_0x3f78e0,_0x1083d9),_0x53ece4['setLinearU'+'pperLimit'](_0x3aab78),Ammo['destroy'](_0x3aab78);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x3fcd67=new q(),_0x34ea8a=this['_entityA']['rigidbody']['body'];_0x34ea8a['activate']();const _0x21cd4e=this['entity']['getWorldTr'+'ansform'](),_0x587726=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x3fcd67['mul2'](_0x587726,_0x21cd4e);const _0x4f07f0=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x3fcd67,_0x4f07f0),this['_entityB']&&this['_entityB']['rigidbody']){const _0x530f7d=this['_entityB']['rigidbody']['body'];_0x530f7d['activate']();const _0x51dde8=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x3fcd67['mul2'](_0x51dde8,_0x21cd4e);const _0x2a9d8e=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x3fcd67,_0x2a9d8e),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x34ea8a,_0x530f7d,_0x4f07f0,_0x2a9d8e,!this['_enableCol'+'lision']),Ammo['destroy'](_0x2a9d8e);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x34ea8a,_0x4f07f0,!this['_enableCol'+'lision']);Ammo['destroy'](_0x4f07f0);const _0x4fd69f=['X','Y','Z','X','Y','Z'];for(let _0x4b084d=-0x1e8b+-0x15e3+0x346e;_0x4b084d<-0x198+0x509*0x5+0xa3*-0x25;_0x4b084d++){const _0x37e154=_0x4b084d<-0x1032*0x1+0x1e9b+-0xe66?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x4b084d,this[_0x37e154+'Spring'+_0x4fd69f[_0x4b084d]]),this['_constrain'+'t']['setDamping'](_0x4b084d,this[_0x37e154+'Damping'+_0x4fd69f[_0x4b084d]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x4b084d,this[_0x37e154+('Equilibriu'+'m')+_0x4fd69f[_0x4b084d]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x4b084d,this[_0x37e154+'Stiffness'+_0x4fd69f[_0x4b084d]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x3561a2){for(const _0x3fcaa5 of UR)_0x3561a2['hasOwnProp'+'erty'](_0x3fcaa5)&&(_0x3561a2[_0x3fcaa5]instanceof W?this['_'+_0x3fcaa5]['copy'](_0x3561a2[_0x3fcaa5]):this['_'+_0x3fcaa5]=_0x3561a2[_0x3fcaa5]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x1448a7,_0x431eee,_0x606abc){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const VR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x41ca3=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x24fad7=>{['X','Y','Z']['forEach'](_0x436012=>{const _0x160a28=_0x41ca3+_0x24fad7+_0x436012,_0x5cbcc2='_'+_0x160a28;let _0x1efffa=_0x41ca3==='linear'?0x3b9*0x3+0x1*0x1ea9+-0x29d4:0x1*-0x2537+-0x3*-0x7c2+0x6fa*0x2;_0x436012==='Y'&&(_0x1efffa+=-0x761*-0x3+-0x97*0xe+-0x30*0x4a),_0x436012==='Z'&&(_0x1efffa+=0x216f+0x67+-0x21d4),Object['defineProp'+'erty'](Up['prototype'],_0x160a28,{'get':function(){return this[_0x5cbcc2];},'set':function(_0x53b85a){this[_0x5cbcc2]!==_0x53b85a&&(this[_0x5cbcc2]=_0x53b85a,this['_constrain'+'t'][VR[_0x24fad7]](_0x1efffa,_0x53b85a));}});});});});class GR{constructor(){this['enabled']=!(-0xf0e+0x56*-0x8+0x5ea*0x3);}}const uf=['enabled'];class HR extends Xe{constructor(_0x31dc21){super(_0x31dc21),this['id']='joint',this['app']=_0x31dc21,this['ComponentT'+'ype']=Up,this['DataType']=GR,this['schema']=uf;}['initialize'+'ComponentD'+'ata'](_0x38b0e8,_0x327583,_0x315c01){_0x38b0e8['initFromDa'+'ta'](_0x327583),super['initialize'+'ComponentD'+'ata'](_0x38b0e8,_0x327583,uf);}}ue['_buildAcce'+'ssors'](Up['prototype'],uf);class nx extends ue{constructor(){super(...arguments),c(this,'_minWidth',-0x53d+0x3*-0x676+-0x1*-0x189f),c(this,'_minHeight',0x230f+-0x2020+-0x2ef*0x1),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',-0x5dd*0x1+0x9e2+-0x405),c(this,'_fitHeight'+'Proportion',0x3a0+-0x7a5*-0x4+0x31c*-0xb),c(this,'_excludeFr'+'omLayout',!(-0x4*-0x3d7+-0x12f2+0x397));}set['minWidth'](_0x19d5aa){_0x19d5aa!==this['_minWidth']&&(this['_minWidth']=_0x19d5aa,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x15783b){_0x15783b!==this['_minHeight']&&(this['_minHeight']=_0x15783b,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x373ce6){_0x373ce6!==this['_maxWidth']&&(this['_maxWidth']=_0x373ce6,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x166d59){_0x166d59!==this['_maxHeight']&&(this['_maxHeight']=_0x166d59,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x344496){_0x344496!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x344496,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x41e8e6){_0x41e8e6!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x41e8e6,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x2e271e){_0x2e271e!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x2e271e,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class WR{constructor(){this['enabled']=!(0x26*0x86+0x1*-0x88f+0x3*-0x3c7);}}const ax=['enabled'];class $R extends Xe{constructor(_0x4fda74){super(_0x4fda74),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=nx,this['DataType']=WR,this['schema']=ax;}['initialize'+'ComponentD'+'ata'](_0x3a1eb0,_0x5e7182,_0x1593fb){_0x5e7182['enabled']!==void(0x9ef+0x923+0x1312*-0x1)&&(_0x3a1eb0['enabled']=_0x5e7182['enabled']),_0x5e7182['minWidth']!==void(-0x6b9+-0x5*-0xf7+0x36*0x9)&&(_0x3a1eb0['minWidth']=_0x5e7182['minWidth']),_0x5e7182['minHeight']!==void(0x8*-0x472+-0x21b+0x25ab)&&(_0x3a1eb0['minHeight']=_0x5e7182['minHeight']),_0x5e7182['maxWidth']!==void(-0x12d6+-0x1*-0xaaf+0x827*0x1)&&(_0x3a1eb0['maxWidth']=_0x5e7182['maxWidth']),_0x5e7182['maxHeight']!==void(0x5*0x2c6+-0x2691+0x1*0x18b3)&&(_0x3a1eb0['maxHeight']=_0x5e7182['maxHeight']),_0x5e7182['fitWidthPr'+'oportion']!==void(0x2413+0x14d2+-0x38e5)&&(_0x3a1eb0['fitWidthPr'+'oportion']=_0x5e7182['fitWidthPr'+'oportion']),_0x5e7182['fitHeightP'+'roportion']!==void(-0x11d7*-0x1+0x1*-0x1379+-0x13*-0x16)&&(_0x3a1eb0['fitHeightP'+'roportion']=_0x5e7182['fitHeightP'+'roportion']),_0x5e7182['excludeFro'+'mLayout']!==void(-0xff*0x8+-0x3db*0x1+0x3f1*0x3)&&(_0x3a1eb0['excludeFro'+'mLayout']=_0x5e7182['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x3a1eb0,_0x5e7182,_0x1593fb);}['cloneCompo'+'nent'](_0x4515d6,_0x573d8a){const _0x297b12=_0x4515d6['layoutchil'+'d'];return this['addCompone'+'nt'](_0x573d8a,{'enabled':_0x297b12['enabled'],'minWidth':_0x297b12['minWidth'],'minHeight':_0x297b12['minHeight'],'maxWidth':_0x297b12['maxWidth'],'maxHeight':_0x297b12['maxHeight'],'fitWidthProportion':_0x297b12['fitWidthPr'+'oportion'],'fitHeightProportion':_0x297b12['fitHeightP'+'roportion'],'excludeFromLayout':_0x297b12['excludeFro'+'mLayout']});}}ue['_buildAcce'+'ssors'](nx['prototype'],ax);const ff=0x7*0x2a5+-0xac3+-0x7c0*0x1,qR=0x1f13+-0x1575+0x1*-0x99d,gg=0x2583+-0x1e6f+-0x389*0x2,XR=0x745*0x3+0x12c9+0x1*-0x2895,Zh={};Zh[pe]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Zh[ke]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const Vp={};Vp[pe]=ke,Vp[ke]=pe;const jR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},zt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},Ut=new W();function ox(_0x4ad3a6){let _0x58babc;const _0x74b3be=Zh[_0x4ad3a6],_0x4ee153=Zh[Vp[_0x4ad3a6]];function _0x3551bc(_0x31cc37,_0x13132b){return-_0x13132b[_0x74b3be['size']]*_0x31cc37['pivot'][_0x74b3be['axis']];}function _0x41ad94(_0x27dec6,_0x1a4cca){return-_0x1a4cca[_0x4ee153['size']]*_0x27dec6['pivot'][_0x4ee153['axis']];}function _0x3b55d6(_0x17bf28,_0x11060b){return _0x11060b[_0x74b3be['size']]*(0x1b*-0x1b+0xfb6+-0xcdc-_0x17bf28['pivot'][_0x74b3be['axis']]);}function _0x4ad592(_0x2e57d7,_0x5c16d2){_0x2e57d7=_0x2e57d7['filter'](_0x4d6d81),_0x58babc=_0x5c16d2,Ut['x']=_0x58babc['containerS'+'ize']['x']-_0x58babc['padding']['x']-_0x58babc['padding']['z'],Ut['y']=_0x58babc['containerS'+'ize']['y']-_0x58babc['padding']['y']-_0x58babc['padding']['w'],_0x9cce18(_0x2e57d7);const _0x916cb2=_0x15ff3e(_0x5ab752(_0x2e57d7)),_0x3445ce=_0xee48eb(_0x916cb2,_0x180932(_0x916cb2)),_0x47bb34=_0x3738c9(_0x916cb2,_0x3445ce);return _0x3bb9bc(_0x916cb2,_0x3445ce,_0x47bb34),_0x3e5e3e(_0x916cb2,_0x3445ce,_0x47bb34),_0x56e41d(_0x916cb2);}function _0x4d6d81(_0x2a41ff){const _0x44be14=_0x2a41ff['entity']['layoutchil'+'d'];return!_0x44be14||!_0x44be14['enabled']||!_0x44be14['excludeFro'+'mLayout'];}function _0x9cce18(_0x44eb8a){for(let _0x5eb12b=0x34a*-0x5+-0x1ec4+0x2*0x179b;_0x5eb12b<_0x44eb8a['length'];++_0x5eb12b){const _0x495e62=_0x44eb8a[_0x5eb12b],_0x318bc1=_0x495e62['anchor'];(_0x318bc1['x']!==0x7*-0x292+0x2*0xf79+-0x4*0x33d||_0x318bc1['y']!==-0x748+-0x33+0x1*0x77b||_0x318bc1['z']!==-0x1*-0xc2d+-0xf93+-0x91*-0x6||_0x318bc1['w']!==0x2*0x557+-0x17*-0x142+-0x279c)&&(_0x495e62['anchor']=Q['ZERO']);}}function _0x5ab752(_0x344bb0){if(!_0x58babc['wrap'])return[_0x344bb0];const _0x39c2f7=[[]],_0x3b8215=_0x218bde(_0x344bb0);let _0x4cff41=-0x2583+-0x5*0x1ff+0x2f7e;const _0x29df0f=_0x58babc[_0x74b3be['fitting']]===gg;for(let _0x186c30=0x9*0x16f+0x1*-0x4fd+-0x7ea;_0x186c30<_0x344bb0['length'];++_0x186c30){_0x39c2f7[_0x39c2f7['length']-(-0x1c78+-0x189c+-0x1*-0x3515)]['length']>0x209a+-0x7*-0x3e9+-0x3bf9&&(_0x4cff41+=_0x58babc['spacing'][_0x74b3be['axis']]);const _0x457eb7=_0x3b8215[_0x186c30][_0x74b3be['size']];_0x4cff41+=_0x457eb7,!_0x29df0f&&_0x4cff41>Ut[_0x74b3be['axis']]&&_0x39c2f7[_0x39c2f7['length']-(0x1d3b+0x354+-0x208e)]['length']!==0x1d42+0xe3f+-0x637*0x7&&(_0x4cff41=_0x457eb7,_0x39c2f7['push']([])),_0x39c2f7[_0x39c2f7['length']-(0x2337+0x60c+0x14a1*-0x2)]['push'](_0x344bb0[_0x186c30]),_0x29df0f&&_0x4cff41>Ut[_0x74b3be['axis']]&&_0x186c30!==_0x344bb0['length']-(-0x161*0x17+-0x9c7*-0x1+0x15f1)&&(_0x4cff41=-0x4dc*-0x2+0x1629+0x1fe1*-0x1,_0x39c2f7['push']([]));}return _0x39c2f7;}function _0x15ff3e(_0xeedc27){const _0x63a0e1=_0x58babc['orientatio'+'n']===pe&&_0x58babc['reverseX']||_0x58babc['orientatio'+'n']===ke&&_0x58babc['reverseY'],_0x2ed2ec=_0x58babc['orientatio'+'n']===pe&&_0x58babc['reverseY']||_0x58babc['orientatio'+'n']===ke&&_0x58babc['reverseX'];if(_0x63a0e1){for(let _0x27b402=0x1e6c+-0x10f8+0x23e*-0x6;_0x27b402<_0xeedc27['length'];++_0x27b402)_0x63a0e1&&_0xeedc27[_0x27b402]['reverse']();}return _0x2ed2ec&&_0xeedc27['reverse'](),_0xeedc27;}function _0x180932(_0x5630df){const _0x2740a1=[];for(let _0x4e264b=0x18cc+-0x59c*0x1+-0x998*0x2;_0x4e264b<_0x5630df['length'];++_0x4e264b){const _0x33913a=_0x5630df[_0x4e264b],_0x28be79=_0x218bde(_0x33913a),_0x2999d7=_0x57d225(_0x28be79,_0x74b3be),_0x1fe83e=_0x16c43a(_0x58babc[_0x74b3be['fitting']],_0x2999d7,Ut[_0x74b3be['axis']]);_0x1fe83e===zt['APPLY_STRE'+'TCHING']?_0x1b22de(_0x28be79,_0x2999d7,_0x74b3be):_0x1fe83e===zt['APPLY_SHRI'+'NKING']&&_0x2a12d6(_0x28be79,_0x2999d7,_0x74b3be),_0x2740a1['push'](_0x28be79);}return _0x2740a1;}function _0xee48eb(_0x215bf4,_0x12ea4a){const _0x4450ab=[],_0x1635d3=[];for(let _0x40cb7e=-0x129a*0x1+0x2*-0x22+0x15*0xe6;_0x40cb7e<_0x215bf4['length'];++_0x40cb7e){const _0x5408c5=_0x215bf4[_0x40cb7e];_0x5408c5['largestEle'+'ment']=null,_0x5408c5['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x497bca=-0x1c49+0x413*-0x3+0x81a*0x5;_0x497bca<_0x5408c5['length'];++_0x497bca){const _0x5021a2=_0x12ea4a[_0x40cb7e][_0x497bca];_0x5021a2[_0x4ee153['size']]>_0x5408c5['largestSiz'+'e'][_0x4ee153['size']]&&(_0x5408c5['largestEle'+'ment']=_0x5408c5[_0x497bca],_0x5408c5['largestSiz'+'e']=_0x5021a2);}_0x4450ab['push'](_0x5408c5['largestEle'+'ment']),_0x1635d3['push'](_0x5408c5['largestSiz'+'e']);}const _0x2dd1ee=_0x57d225(_0x1635d3,_0x4ee153),_0x4273ce=_0x16c43a(_0x58babc[_0x4ee153['fitting']],_0x2dd1ee,Ut[_0x4ee153['axis']]);_0x4273ce===zt['APPLY_STRE'+'TCHING']?_0x1b22de(_0x1635d3,_0x2dd1ee,_0x4ee153):_0x4273ce===zt['APPLY_SHRI'+'NKING']&&_0x2a12d6(_0x1635d3,_0x2dd1ee,_0x4ee153);for(let _0x3152d1=-0x2*-0xb3c+0x5d5*0x3+-0x27f7;_0x3152d1<_0x215bf4['length'];++_0x3152d1){const _0x4edfa4=_0x215bf4[_0x3152d1];for(let _0x674160=0x24a4+0x1a*-0x121+0x1*-0x74a;_0x674160<_0x4edfa4['length'];++_0x674160){const _0x599f28=_0x12ea4a[_0x3152d1][_0x674160],_0x177d4c=_0x599f28[_0x4ee153['size']],_0x24e6df=_0x215bf4['length']===0x393*-0x8+0x2432+-0x799?Ut[_0x4ee153['axis']]:_0x4edfa4['largestSiz'+'e'][_0x4ee153['size']],_0x3b6e62=_0x16c43a(_0x58babc[_0x4ee153['fitting']],_0x177d4c,_0x24e6df);_0x3b6e62===zt['APPLY_STRE'+'TCHING']?_0x599f28[_0x4ee153['size']]=Math['min'](_0x24e6df,_0x599f28[_0x4ee153['maxSize']]):_0x3b6e62===zt['APPLY_SHRI'+'NKING']&&(_0x599f28[_0x4ee153['size']]=Math['max'](_0x24e6df,_0x599f28[_0x4ee153['minSize']]));}}return _0x12ea4a;}function _0x16c43a(_0x431461,_0x2e55a8,_0x3dd972){switch(_0x431461){case ff:return zt['NONE'];case qR:return _0x2e55a8<_0x3dd972?zt['APPLY_STRE'+'TCHING']:zt['NONE'];case gg:return _0x2e55a8>=_0x3dd972?zt['APPLY_SHRI'+'NKING']:zt['NONE'];case XR:return _0x2e55a8<_0x3dd972?zt['APPLY_STRE'+'TCHING']:zt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x431461);}}function _0x57d225(_0x5b0cd5,_0x90bfcf){const _0xd3a3d4=_0x23652e(_0x5b0cd5,_0x90bfcf['size']),_0x20fbac=(_0x5b0cd5['length']-(0x2*0x3dc+0x6f1*0x1+-0xea8))*_0x58babc['spacing'][_0x90bfcf['axis']];return _0xd3a3d4+_0x20fbac;}function _0x1b22de(_0xa318e5,_0x4ba1e6,_0xd13070){const _0x270fa4=_0x22151c(_0xa318e5,_0xd13070['maxSize']),_0x4a4598=_0x29ad4b(_0xa318e5,_0xd13070['fittingPro'+'portion']),_0x1b21ed=_0x1cad88(_0x4a4598,_0x270fa4);let _0x39f3b4=Ut[_0xd13070['axis']]-_0x4ba1e6;for(let _0x3e7322=-0x1ae+0x1b09+0x1*-0x195b;_0x3e7322<_0xa318e5['length'];++_0x3e7322){const _0x23afad=_0x270fa4[_0x3e7322],_0x565cdb=_0x32654e(_0x23afad,_0x39f3b4,_0x4a4598,_0x1b21ed),_0x12fea8=_0xa318e5[_0x23afad][_0xd13070['size']]+_0x565cdb,_0xb7c8c=_0xa318e5[_0x23afad][_0xd13070['maxSize']],_0x4d0232=Math['min'](_0x12fea8,_0xb7c8c);_0xa318e5[_0x23afad][_0xd13070['size']]=_0x4d0232;const _0x1738a2=Math['max'](_0x12fea8-_0x4d0232,-0x93a+0x1*-0xef9+-0x7*-0x375),_0x142adb=_0x565cdb-_0x1738a2;_0x39f3b4-=_0x142adb;}}function _0x2a12d6(_0x5a8c6b,_0x201989,_0x5dfb8f){const _0x4e3841=_0x22151c(_0x5a8c6b,_0x5dfb8f['minSize'],!(0x1bd2+0x1*-0x1b7d+0x55*-0x1)),_0x28588e=_0x29ad4b(_0x5a8c6b,_0x5dfb8f['fittingPro'+'portion']),_0x38abeb=_0x4e4e6c(_0x28588e),_0x51959a=_0x1cad88(_0x38abeb,_0x4e3841);let _0x23f351=_0x201989-Ut[_0x5dfb8f['axis']];for(let _0x2632de=-0x24ae+0x2f9*0x2+0x1ebc;_0x2632de<_0x5a8c6b['length'];++_0x2632de){const _0x348388=_0x4e3841[_0x2632de],_0x2cc633=_0x32654e(_0x348388,_0x23f351,_0x38abeb,_0x51959a),_0x22fea7=_0x5a8c6b[_0x348388][_0x5dfb8f['size']]-_0x2cc633,_0x29e179=_0x5a8c6b[_0x348388][_0x5dfb8f['minSize']],_0x31219a=Math['max'](_0x22fea7,_0x29e179);_0x5a8c6b[_0x348388][_0x5dfb8f['size']]=_0x31219a;const _0x17bbff=Math['max'](_0x31219a-_0x22fea7,0x1e2d+0x245f*0x1+0x2*-0x2146),_0x33bc01=_0x2cc633-_0x17bbff;_0x23f351-=_0x33bc01;}}function _0x32654e(_0x221ea5,_0x82ec8a,_0x5e5e55,_0x32d5b2){const _0x513f85=_0x5e5e55[_0x221ea5],_0x1eab6a=_0x32d5b2[_0x221ea5];return Math['abs'](_0x513f85)<-0x7*0x43+-0x7f8+-0xd*-0xc1+0.00001&&Math['abs'](_0x1eab6a)<0x5*-0x2ed+-0xfb5+0x1e56+0.00001?_0x82ec8a:_0x82ec8a*_0x513f85/_0x1eab6a;}function _0x3738c9(_0x131356,_0xabac27){const _0x522e64={};_0x522e64[_0x74b3be['axis']]=0x2706+0x2596+0x2*-0x264e,_0x522e64[_0x4ee153['axis']]=-0x61*-0x7+0xd2f+-0xfd6,_0x131356[_0x74b3be['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x2d46c4=[];for(let _0x29ac19=-0xaff*0x1+0x209f+-0x15a0;_0x29ac19<_0x131356['length'];++_0x29ac19){const _0x53513f=_0x131356[_0x29ac19];if(_0x53513f['length']===-0xfaf+0x1*0x5fb+0x9b4){_0x2d46c4['push']([]);continue;}const _0x771a7f=[],_0x3f08da=_0xabac27[_0x29ac19];for(let _0x5ee75d=-0xd5e*-0x1+-0xab*-0xf+0x1763*-0x1;_0x5ee75d<_0x53513f['length'];++_0x5ee75d){const _0x2c611d=_0x53513f[_0x5ee75d],_0x13332f=_0x3f08da[_0x5ee75d];_0x522e64[_0x4ee153['axis']]-=_0x41ad94(_0x2c611d,_0x13332f),_0x522e64[_0x74b3be['axis']]-=_0x3551bc(_0x2c611d,_0x13332f),_0x771a7f[_0x5ee75d]={},_0x771a7f[_0x5ee75d][_0x74b3be['axis']]=_0x522e64[_0x74b3be['axis']],_0x771a7f[_0x5ee75d][_0x4ee153['axis']]=_0x522e64[_0x4ee153['axis']],_0x522e64[_0x4ee153['axis']]+=_0x41ad94(_0x2c611d,_0x13332f),_0x522e64[_0x74b3be['axis']]+=_0x3b55d6(_0x2c611d,_0x13332f)+_0x58babc['spacing'][_0x74b3be['axis']];}_0x53513f[_0x74b3be['size']]=_0x522e64[_0x74b3be['axis']]-_0x58babc['spacing'][_0x74b3be['axis']],_0x53513f[_0x4ee153['size']]=_0x53513f['largestSiz'+'e'][_0x4ee153['size']],_0x131356[_0x74b3be['size']]=Math['max'](_0x131356[_0x74b3be['size']],_0x53513f[_0x74b3be['size']]),_0x522e64[_0x74b3be['axis']]=-0x2595+-0x23a+-0xed*-0x2b,_0x522e64[_0x4ee153['axis']]+=_0x53513f[_0x4ee153['size']]+_0x58babc['spacing'][_0x4ee153['axis']],_0x2d46c4['push'](_0x771a7f);}return _0x131356[_0x4ee153['size']]=_0x522e64[_0x4ee153['axis']]-_0x58babc['spacing'][_0x4ee153['axis']],_0x2d46c4;}function _0x3bb9bc(_0x4fea69,_0x3f6472,_0x29a58c){const _0x2a0742=_0x58babc['alignment'][_0x74b3be['axis']],_0x67f0f9=_0x58babc['alignment'][_0x4ee153['axis']],_0x2ac0fd=_0x58babc['padding'][_0x74b3be['axis']],_0x259ce2=_0x58babc['padding'][_0x4ee153['axis']];for(let _0x23bfc9=-0x12f4+-0x1ee3+0x3*0x109d;_0x23bfc9<_0x4fea69['length'];++_0x23bfc9){const _0x2959c9=_0x4fea69[_0x23bfc9],_0x4095ad=_0x3f6472[_0x23bfc9],_0x68870a=_0x29a58c[_0x23bfc9],_0xc57b22=(Ut[_0x74b3be['axis']]-_0x2959c9[_0x74b3be['size']])*_0x2a0742+_0x2ac0fd,_0x1f3642=(Ut[_0x4ee153['axis']]-_0x4fea69[_0x4ee153['size']])*_0x67f0f9+_0x259ce2;for(let _0x295943=0x2*0x5d5+0x24*0x6e+0x17*-0x12e;_0x295943<_0x2959c9['length'];++_0x295943){const _0x5323b7=(_0x2959c9[_0x4ee153['size']]-_0x4095ad[_0x295943][_0x4ee153['size']])*_0x58babc['alignment'][_0x4ee153['axis']];_0x68870a[_0x295943][_0x74b3be['axis']]+=_0xc57b22,_0x68870a[_0x295943][_0x4ee153['axis']]+=_0x1f3642+_0x5323b7;}}}function _0x3e5e3e(_0x23b905,_0x132b96,_0x4cb670){for(let _0x5b7235=-0x3d5*-0x1+0x6bb+-0xa90;_0x5b7235<_0x23b905['length'];++_0x5b7235){const _0x373f41=_0x23b905[_0x5b7235],_0x459203=_0x132b96[_0x5b7235],_0x16dc2d=_0x4cb670[_0x5b7235];for(let _0x266ecb=0x18f*-0x9+-0x19c4+-0x27cb*-0x1;_0x266ecb<_0x373f41['length'];++_0x266ecb){const _0x10e103=_0x373f41[_0x266ecb];_0x10e103[_0x74b3be['calculated'+'Size']]=_0x459203[_0x266ecb][_0x74b3be['size']],_0x10e103[_0x4ee153['calculated'+'Size']]=_0x459203[_0x266ecb][_0x4ee153['size']],_0x58babc['orientatio'+'n']===pe?_0x10e103['entity']['setLocalPo'+'sition'](_0x16dc2d[_0x266ecb][_0x74b3be['axis']],_0x16dc2d[_0x266ecb][_0x4ee153['axis']],_0x10e103['entity']['getLocalPo'+'sition']()['z']):_0x10e103['entity']['setLocalPo'+'sition'](_0x16dc2d[_0x266ecb][_0x4ee153['axis']],_0x16dc2d[_0x266ecb][_0x74b3be['axis']],_0x10e103['entity']['getLocalPo'+'sition']()['z']);}}}function _0x56e41d(_0x5b51b2){const _0x437340=_0x5b51b2['width'],_0x3508a0=_0x5b51b2['height'],_0xbf668a=(Ut['x']-_0x437340)*_0x58babc['alignment']['x']+_0x58babc['padding']['x'],_0x15bbbe=(Ut['y']-_0x3508a0)*_0x58babc['alignment']['y']+_0x58babc['padding']['y'];return{'bounds':new Q(_0xbf668a,_0x15bbbe,_0x437340,_0x3508a0)};}function _0x218bde(_0x1477cc){const _0xd420d7=[];for(let _0x47c149=0x2*0xaff+-0x1182+-0x47c;_0x47c149<_0x1477cc['length'];++_0x47c149){const _0x2ea99e=_0x1477cc[_0x47c149],_0x2a9979=Math['max'](_0x2151a2(_0x2ea99e,'minWidth'),-0x55b+-0x1fe2*-0x1+-0x1a87),_0x2d0507=Math['max'](_0x2151a2(_0x2ea99e,'minHeight'),-0x2a*-0x12+0x2693+-0x2987*0x1),_0x220a45=Math['max'](_0x2151a2(_0x2ea99e,'maxWidth'),_0x2a9979),_0xb0dcc0=Math['max'](_0x2151a2(_0x2ea99e,'maxHeight'),_0x2d0507),_0x1e43d2=_0x1f02e3(_0x2151a2(_0x2ea99e,'width'),_0x2a9979,_0x220a45),_0x5623c4=_0x1f02e3(_0x2151a2(_0x2ea99e,'height'),_0x2d0507,_0xb0dcc0),_0x4d2804=_0x2151a2(_0x2ea99e,'fitWidthPr'+'oportion'),_0x55bd5a=_0x2151a2(_0x2ea99e,'fitHeightP'+'roportion');_0xd420d7['push']({'minWidth':_0x2a9979,'minHeight':_0x2d0507,'maxWidth':_0x220a45,'maxHeight':_0xb0dcc0,'width':_0x1e43d2,'height':_0x5623c4,'fitWidthProportion':_0x4d2804,'fitHeightProportion':_0x55bd5a});}return _0xd420d7;}function _0x2151a2(_0x5b5b0a,_0x42fa67){const _0x43229d=_0x5b5b0a['entity']['layoutchil'+'d'];return _0x43229d&&_0x43229d['enabled']&&_0x43229d[_0x42fa67]!==void(-0x1*0x1012+-0xe6b+0x1e7d)&&_0x43229d[_0x42fa67]!==null?_0x43229d[_0x42fa67]:_0x5b5b0a[_0x42fa67]!==void(-0x7*-0x2c2+0x70a*-0x2+0x29d*-0x2)?_0x5b5b0a[_0x42fa67]:jR[_0x42fa67];}function _0x1f02e3(_0x5ef9e9,_0x527a40,_0xa7139a){return Math['min'](Math['max'](_0x5ef9e9,_0x527a40),_0xa7139a);}function _0x23652e(_0x1a9e01,_0x21d0fe){return _0x1a9e01['reduce']((_0x188e7d,_0xf76465)=>_0x188e7d+_0xf76465[_0x21d0fe],-0xe89+0x1f27+-0x109e);}function _0x29ad4b(_0x2ea400,_0x178917){const _0x44996a=_0x23652e(_0x2ea400,_0x178917),_0x4a75d8=[],_0x581426=_0x2ea400['length'];if(_0x44996a===0x1ad2+-0x3a3+0x4a3*-0x5){for(let _0x28b37a=-0x45b*0x1+-0x899*-0x1+0x43e*-0x1;_0x28b37a<_0x581426;++_0x28b37a)_0x4a75d8['push']((0x2d*-0x76+-0x1*0x1d85+0x1922*0x2)/_0x581426);}else{for(let _0x110cef=-0x2023+0x1d0a+0x1*0x319;_0x110cef<_0x581426;++_0x110cef)_0x4a75d8['push'](_0x2ea400[_0x110cef][_0x178917]/_0x44996a);}return _0x4a75d8;}function _0x4e4e6c(_0x58c0b2){if(_0x58c0b2['length']===-0x1*-0x17d1+-0x1d07*-0x1+0x1*-0x34d7)return[0x5a*0x61+0x1b27*-0x1+-0x6f2];const _0x58667a=[],_0x27424c=_0x58c0b2['length'];for(let _0x46018f=-0x11*0x21a+-0x18e1+0x3c9b;_0x46018f<_0x27424c;++_0x46018f)_0x58667a['push']((0x2*-0x790+0x5*0x527+0x1*-0xaa2-_0x58c0b2[_0x46018f])/(_0x27424c-(-0x1223+0x41+0x11e3)));return _0x58667a;}function _0x22151c(_0x162052,_0x49942a,_0x2f1020){return _0x162052['forEach'](_0x9fca02),_0x162052['slice']()['sort']((_0x4431c6,_0x540de6)=>_0x2f1020?_0x540de6[_0x49942a]-_0x4431c6[_0x49942a]:_0x4431c6[_0x49942a]-_0x540de6[_0x49942a])['map'](_0x1d40d6);}function _0x9fca02(_0x1b62ae,_0x237c42){_0x1b62ae['index']=_0x237c42;}function _0x1d40d6(_0x32ebf5){return _0x32ebf5['index'];}function _0x1cad88(_0x54fb3e,_0x2a6277){const _0x5caad1=[];_0x5caad1[_0x2a6277[_0x54fb3e['length']-(0xa*-0x27a+-0x1fdc+0x38a1)]]=_0x54fb3e[_0x2a6277[_0x54fb3e['length']-(-0x2502+-0x3a+-0x253d*-0x1)]];for(let _0x4e892b=_0x54fb3e['length']-(-0x8*-0x496+0x1d87*-0x1+-0x727);_0x4e892b>=0xb03*0x1+-0x1e50+0x134d;--_0x4e892b)_0x5caad1[_0x2a6277[_0x4e892b]]=_0x5caad1[_0x2a6277[_0x4e892b+(-0x2*0x517+-0xa55+0x65*0x34)]]+_0x54fb3e[_0x2a6277[_0x4e892b]];return _0x5caad1;}return _0x4ad592;}const Gp={};Gp[pe]=ox(pe),Gp[ke]=ox(ke);class YR{['calculateL'+'ayout'](_0xde0db1,_0x5b6c11){const _0x202973=Gp[_0x5b6c11['orientatio'+'n']];if(_0x202973)return _0x202973(_0xde0db1,_0x5b6c11);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x5b6c11['orientatio'+'n']);}}function yg(_0x227ed5){return _0x227ed5['element'];}function KR(_0x4bac41){return _0x4bac41['enabled']&&_0x4bac41['element']&&_0x4bac41['element']['enabled'];}class lx extends ue{constructor(_0x44a52c,_0x1843d2){super(_0x44a52c,_0x1843d2),c(this,'_orientati'+'on',pe),c(this,'_reverseX',!(0x3*-0x379+-0x538*-0x6+0x1*-0x14e4)),c(this,'_reverseY',!(-0x1498+-0xd1b+-0x1*-0x21b3)),c(this,'_alignment',new W(-0x7d2+-0x1634+0x1e06,-0xab7*0x2+-0x3fe+0x196d)),c(this,'_padding',new Q()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',ff),c(this,'_heightFit'+'ting',ff),c(this,'_wrap',!(-0x129e+0x14bd*-0x1+0x4*0x9d7)),c(this,'_layoutCal'+'culator',new YR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x2ab2cb=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2ab2cb,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),v['assert'](_0x44a52c['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x44a52c['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x44a52c['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),v['assert'](_0x44a52c['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x44a52c['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x44a52c['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x2f81ff){_0x2f81ff!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x2f81ff,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x1f549d){_0x1f549d!==this['_reverseX']&&(this['_reverseX']=_0x1f549d,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x17abf0){_0x17abf0!==this['_reverseY']&&(this['_reverseY']=_0x17abf0,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x5549c0){_0x5549c0['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x5549c0),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x4f0f11){_0x4f0f11['equals'](this['_padding'])||(this['_padding']['copy'](_0x4f0f11),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x1d43bc){_0x1d43bc['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x1d43bc),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x1df3c5){_0x1df3c5!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x1df3c5,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x5c5c4c){_0x5c5c4c!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x5c5c4c,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x51535a){_0x51535a!==this['_wrap']&&(this['_wrap']=_0x51535a,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x98617f){return _0x98617f===this['entity']||this['entity']['children']['indexOf'](_0x98617f)!==-(0xd01*-0x1+0x1806+-0x1*0xb04);}['_listenFor'+'ReflowEven'+'ts'](_0x51607d,_0x10c39f){_0x51607d['element']&&(_0x51607d['element'][_0x10c39f]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x51607d['element'][_0x10c39f]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x51607d['element'][_0x10c39f]('resize',this['_scheduleR'+'eflow'],this),_0x51607d['element'][_0x10c39f]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x51607d['layoutchil'+'d']&&(_0x51607d['layoutchil'+'d'][_0x10c39f]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x51607d['layoutchil'+'d'][_0x10c39f]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x5b923a){this['_isSelfOrC'+'hild'](_0x5b923a)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5b923a,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x41bbee){this['_isSelfOrC'+'hild'](_0x41bbee)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x41bbee,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x395309){this['_listenFor'+'ReflowEven'+'ts'](_0x395309,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x28ba3a){this['_listenFor'+'ReflowEven'+'ts'](_0x28ba3a,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3a9899=yg(this['entity']),_0x10fdb1=this['entity']['children']['filter'](KR)['map'](yg);if(!_0x3a9899||_0x10fdb1['length']===0x6af*0x4+-0x11aa+0x2*-0x489)return;const _0xf68c19=Math['max'](_0x3a9899['calculated'+'Width'],-0x9a2+-0x35e*-0x7+-0xdf0),_0x49d6f0=Math['max'](_0x3a9899['calculated'+'Height'],0x1b6+0x15d3+-0x1789),_0x5e1dc1={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0xf68c19,_0x49d6f0)};this['_isPerform'+'ingReflow']=!(0x3b7*0x5+0x4b+0x45*-0x46);const _0x141fb4=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x10fdb1,_0x5e1dc1);this['_isPerform'+'ingReflow']=!(0x1a78+-0xe94+-0xbe3),this['fire']('reflow',_0x141fb4);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x1be25d=>{this['_listenFor'+'ReflowEven'+'ts'](_0x1be25d,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class ZR{constructor(){this['enabled']=!(0x6dd+0x1d86+0x2d*-0xcf);}}const hx=['enabled'],QR=0x103d*-0x1+-0x160a+0x26ab*0x1;class JR extends Xe{constructor(_0x1de027){super(_0x1de027),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=lx,this['DataType']=ZR,this['schema']=hx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x376a5f,_0x5552c9,_0x3c50b5){_0x5552c9['enabled']!==void(-0x25dd+-0x1*0x2304+-0x48e1*-0x1)&&(_0x376a5f['enabled']=_0x5552c9['enabled']),_0x5552c9['orientatio'+'n']!==void(0xcbc+-0x12c6+0x60a)&&(_0x376a5f['orientatio'+'n']=_0x5552c9['orientatio'+'n']),_0x5552c9['reverseX']!==void(0x581*0x4+-0x1*-0x2474+-0x2*0x1d3c)&&(_0x376a5f['reverseX']=_0x5552c9['reverseX']),_0x5552c9['reverseY']!==void(-0x16ef+0x3*0x469+-0x1b*-0x5c)&&(_0x376a5f['reverseY']=_0x5552c9['reverseY']),_0x5552c9['alignment']!==void(0x1*0x17b9+-0x1c62+0x1*0x4a9)&&(_0x376a5f['alignment']=Array['isArray'](_0x5552c9['alignment'])?new W(_0x5552c9['alignment']):_0x5552c9['alignment']),_0x5552c9['padding']!==void(0xd*0x199+0x232+-0x1*0x16f7)&&(_0x376a5f['padding']=Array['isArray'](_0x5552c9['padding'])?new Q(_0x5552c9['padding']):_0x5552c9['padding']),_0x5552c9['spacing']!==void(0x25a+0x3*-0xb47+0x1f7b)&&(_0x376a5f['spacing']=Array['isArray'](_0x5552c9['spacing'])?new W(_0x5552c9['spacing']):_0x5552c9['spacing']),_0x5552c9['widthFitti'+'ng']!==void(0xb*-0x1e5+-0x3*-0x2b+-0x112*-0x13)&&(_0x376a5f['widthFitti'+'ng']=_0x5552c9['widthFitti'+'ng']),_0x5552c9['heightFitt'+'ing']!==void(-0x22dd+0x449*0x9+-0x3b4)&&(_0x376a5f['heightFitt'+'ing']=_0x5552c9['heightFitt'+'ing']),_0x5552c9['wrap']!==void(0x72c+0x249d+-0x1*0x2bc9)&&(_0x376a5f['wrap']=_0x5552c9['wrap']),super['initialize'+'ComponentD'+'ata'](_0x376a5f,_0x5552c9,_0x3c50b5);}['cloneCompo'+'nent'](_0x3703a1,_0x334fde){const _0x37683e=_0x3703a1['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x334fde,{'enabled':_0x37683e['enabled'],'orientation':_0x37683e['orientatio'+'n'],'reverseX':_0x37683e['reverseX'],'reverseY':_0x37683e['reverseY'],'alignment':_0x37683e['alignment'],'padding':_0x37683e['padding'],'spacing':_0x37683e['spacing'],'widthFitting':_0x37683e['widthFitti'+'ng'],'heightFitting':_0x37683e['heightFitt'+'ing'],'wrap':_0x37683e['wrap']});}['scheduleRe'+'flow'](_0x43a40d){this['_reflowQue'+'ue']['indexOf'](_0x43a40d)===-(0x1*0x191+-0x9fc+0x86c)&&this['_reflowQue'+'ue']['push'](_0x43a40d);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x40c*0x5+-0x6a7+-0xd95)return;let _0x184a2a=0x4*0x8+0x21d9+0x1*-0x21f9;for(;this['_reflowQue'+'ue']['length']>0x5*-0x4f3+0xbb6*0x3+-0x1*0xa63;){const _0x23ab44=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x9ba+-0x2*-0xc8c+0x232*-0x7,_0x23ab44['sort']((_0x237790,_0x8de7b4)=>_0x237790['entity']['graphDepth']-_0x8de7b4['entity']['graphDepth']);for(let _0x242a67=-0x7fc+-0x1654*0x1+0x1e50;_0x242a67<_0x23ab44['length'];++_0x242a67)_0x23ab44[_0x242a67]['reflow']();if(++_0x184a2a>=QR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x1d3a2d,_0x597ede){_0x597ede['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}ue['_buildAcce'+'ssors'](lx['prototype'],hx);class eI{constructor(){c(this,'map',new Map());}['destroy'](_0x32e2f2){this['map']['forEach'](_0x491a04=>_0x491a04['mesh']['destroy']());}}const tI=new Ot(),cx=(_0x1bb677,_0x6feb6d)=>{const _0x1c9d45=tI['get'](_0x1bb677,()=>new eI());let _0x250b8f=_0x1c9d45['map']['get'](_0x6feb6d);if(!_0x250b8f){let _0x214743,_0x305f82;switch(_0x6feb6d){case'box':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new $u()),_0x305f82={'x':0x2,'y':0x2,'z':0x2,'uv':(0x20e1+0x1ecc+-0x1539*0x3)/(0x23f8+0x94a+-0x15f*0x21)};break;case'capsule':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new C1({'radius':0.5,'height':0x2})),_0x305f82={'x':Math['PI']*(-0x588+-0x115a+0x16e4),'y':Math['PI'],'z':Math['PI']*(0x972*-0x3+0x1bc7+0x91),'uv':(-0x1*0x1d3e+-0xf67+-0x1*-0x2ca6)/(-0x2320+0x2047+0x3d*0xc)+(-0x25bd*0x1+-0x24e*-0x2+0x2122)/(0x1f9e+0x1064+-0x2fff)/(0x1e23+0xe70+0x2c9*-0x10)*(0x1f7e+-0x9c4+-0x15b8)};break;case'cone':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new M1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x305f82={'x':2.54,'y':2.54,'z':2.54,'uv':(0x1*-0x65+0x85*-0x31+0x19db*0x1)/(-0x3*-0xc04+0x1b*0x13d+0xe4*-0x4e)+(-0x19b+0x2a5+-0x109)/(-0x1*-0xb57+0x88+-0xbdc)/(0x1*0x13d6+0x1*-0x2af+-0x1124)};break;case'cylinder':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new P1({'radius':0.5,'height':0x1})),_0x305f82={'x':Math['PI'],'y':(0x1aff+0x1e02+-0x3901*0x1+0.79)*(-0xac*-0x2+-0xd32+-0x4*-0x2f7),'z':Math['PI'],'uv':(-0x738+0x2b*-0x16+0xaeb)/(-0x75*0x27+-0x4bc*-0x2+0x85e)+(0xa*0x26b+0x2f*0xb7+-0x39c6)/(-0x91+0x26db+0x1*-0x2647)/(0x1*0x2173+-0xf1*-0x5+0x573*-0x7)*(-0x5*-0x7c5+0x174a*-0x1+-0xf8d)};break;case'plane':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new R1({'halfExtents':new W(-0x25b8+-0xa*-0x1b1+0x14ce+0.5,-0x5*-0x47f+-0x8f*0xb+-0x1056+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x305f82={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new B0({'radius':0.5})),_0x305f82={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x214743=Ie['fromGeomet'+'ry'](_0x1bb677,new I1({'tubeRadius':0.2,'ringRadius':0.3})),_0x305f82={'x':Math['PI']*(-0x58b*0x1+0x8a0+-0x3*0x107+0.5)*(0xddd*0x1+0x1737+0x1*-0x2514+0.5)-Math['PI']*(-0xb6b+0x1f48+-0x13dd+0.1)*(-0x1*0x1449+-0x126d+0x26b6+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x6feb6d);}_0x214743['incRefCoun'+'t'](),_0x250b8f={'mesh':_0x214743,'area':_0x305f82},_0x1c9d45['map']['set'](_0x6feb6d,_0x250b8f);}return _0x250b8f;};class dx extends ue{constructor(_0x51a600,_0x3cfd2f){super(_0x51a600,_0x3cfd2f),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(0x111d*0x1+0x1399+-0x125b*0x2)),c(this,'_receiveSh'+'adows',!(-0x2c*-0x2c+-0xb*0x93+-0x1d*0xb)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x2*0xd4c+0x19*0x11+0x96b*-0x3)),c(this,'_lightmapp'+'ed',!(-0x569*0x1+-0x43*0x22+-0x394*-0x4)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x16a7+-0x1*0x35b+-0x134b),c(this,'isStatic',!(-0x1bc7+-0x449*-0x1+-0x191*-0xf)),c(this,'_layers',[Fi]),c(this,'_batchGrou'+'pId',-(0xe7d*0x1+-0x2*-0x1ff+0x5*-0x3b2)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x1c22*0x1+-0x2*0xedd+0x39dd)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x51a600['defaultMat'+'erial'],_0x3cfd2f['on']('remove',this['onRemoveCh'+'ild'],this),_0x3cfd2f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x3cfd2f['on']('insert',this['onInsertCh'+'ild'],this),_0x3cfd2f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x29b796){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x29b796);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x27d22a){if(this['_customAab'+'b']=_0x27d22a,this['_model']){const _0x1fef9e=this['_model']['meshInstan'+'ces'];if(_0x1fef9e){for(let _0x4748d1=-0x26*0x8e+-0x64f+0x1b63;_0x4748d1<_0x1fef9e['length'];_0x4748d1++)_0x1fef9e[_0x4748d1]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0xdd06b2){if(this['_type']!==_0xdd06b2){if(this['_area']=null,this['_type']=_0xdd06b2,_0xdd06b2==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x4d3d35=cx(this['system']['app']['graphicsDe'+'vice'],_0xdd06b2);this['_area']=_0x4d3d35['area'];const _0x3f4370=_0x4d3d35['mesh'],_0x144194=new De(),_0x3c9e12=new Oi();_0x3c9e12['graph']=_0x144194,_0x3c9e12['meshInstan'+'ces']=[new Le(_0x3f4370,this['_material'],_0x144194)],this['model']=_0x3c9e12,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x492c1d){const _0x275e0c=this['system']['app']['assets'];let _0x827958=_0x492c1d;if(_0x492c1d instanceof le&&(_0x827958=_0x492c1d['id']),this['_asset']!==_0x827958){if(this['_asset']){_0x275e0c['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x3da1d9=_0x275e0c['get'](this['_asset']);_0x3da1d9&&this['_unbindMod'+'elAsset'](_0x3da1d9);}if(this['_asset']=_0x827958,this['_asset']){const _0xc75c28=_0x275e0c['get'](this['_asset']);_0xc75c28?this['_bindModel'+'Asset'](_0xc75c28):(this['model']=null,_0x275e0c['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x3fac89){if(this['_model']!==_0x3fac89){if(_0x3fac89&&_0x3fac89['_immutable']){v['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(-0xc84+-0x122c*0x2+0x30dd),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x188f*0x1+0xed1*0x1+-0x275f*0x1))),this['_model']=_0x3fac89,this['_model']){this['_model']['_immutable']=!(-0x1*0x4c6+-0x445*-0x3+-0x809);const _0x8a3d02=this['_model']['meshInstan'+'ces'];for(let _0x1efcc7=-0x1df5+0x21*0x70+0xf85;_0x1efcc7<_0x8a3d02['length'];_0x1efcc7++)_0x8a3d02[_0x1efcc7]['castShadow']=this['_castShado'+'ws'],_0x8a3d02[_0x1efcc7]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x8a3d02[_0x1efcc7]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x137916){if(_0x137916!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x137916,this['_model'])){const _0x52cf72=this['_model']['meshInstan'+'ces'];for(let _0x5d3580=0x1244+0x1126+-0x236a;_0x5d3580<_0x52cf72['length'];_0x5d3580++)_0x52cf72[_0x5d3580]['setLightma'+'pped'](_0x137916);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x1a48f3){if(this['_castShado'+'ws']===_0x1a48f3)return;const _0x33db75=this['_model'];if(_0x33db75){const _0xdcdc28=this['layers'],_0x4c45f1=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x1a48f3)for(let _0x340495=-0x1182*0x1+0x1*-0x1709+0x288b;_0x340495<_0xdcdc28['length'];_0x340495++){const _0x26a5c4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x340495]);_0x26a5c4&&_0x26a5c4['removeShad'+'owCasters'](_0x33db75['meshInstan'+'ces']);}const _0x3280f3=_0x33db75['meshInstan'+'ces'];for(let _0x456992=-0x2f*-0x1+-0x257*-0xf+-0x8*0x469;_0x456992<_0x3280f3['length'];_0x456992++)_0x3280f3[_0x456992]['castShadow']=_0x1a48f3;if(!this['_castShado'+'ws']&&_0x1a48f3)for(let _0x57feb9=0x1d*0x13f+-0x26b*0x4+0x1*-0x1a77;_0x57feb9<_0xdcdc28['length'];_0x57feb9++){const _0x45dcb4=_0x4c45f1['layers']['getLayerBy'+'Id'](_0xdcdc28[_0x57feb9]);_0x45dcb4&&_0x45dcb4['addShadowC'+'asters'](_0x33db75['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x1a48f3;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2248ee){if(this['_receiveSh'+'adows']!==_0x2248ee&&(this['_receiveSh'+'adows']=_0x2248ee,this['_model'])){const _0x2a9cbd=this['_model']['meshInstan'+'ces'];for(let _0x197eda=-0x17bb+-0x1c4f*0x1+0x340a,_0x5ba5e4=_0x2a9cbd['length'];_0x197eda<_0x5ba5e4;_0x197eda++)_0x2a9cbd[_0x197eda]['receiveSha'+'dow']=_0x2248ee;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1538c1){this['_castShado'+'wsLightmap']=_0x1538c1;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x4b5924){this['_lightmapS'+'izeMultipl'+'ier']=_0x4b5924;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x5a7677){const _0x226d6c=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x34b703=-0x2*-0x10bb+0x1b1f+-0x3c95;_0x34b703<this['_layers']['length'];_0x34b703++){const _0x10f864=_0x226d6c['getLayerBy'+'Id'](this['_layers'][_0x34b703]);_0x10f864&&_0x10f864['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=-0x14f+-0x2e0+0x42f;for(let _0x57d67c=-0x14*0x32+0x1*0x17dd+-0x13f5;_0x57d67c<_0x5a7677['length'];_0x57d67c++)this['_layers'][_0x57d67c]=_0x5a7677[_0x57d67c];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0xa27e3=-0x163*-0x13+0x2282+0x3cdb*-0x1;_0xa27e3<this['_layers']['length'];_0xa27e3++){const _0x1624ef=_0x226d6c['getLayerBy'+'Id'](this['_layers'][_0xa27e3]);_0x1624ef&&_0x1624ef['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x3ac493){var _0x3e95f3,_0xf6c27b;this['_batchGrou'+'pId']!==_0x3ac493&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0xe1b+0x1cf9*-0x1+0xede&&((_0x3e95f3=this['system']['app']['batcher'])==null||_0x3e95f3['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x3ac493>=0x4d1+0x21be+-0x268f&&((_0xf6c27b=this['system']['app']['batcher'])==null||_0xf6c27b['insert'](et['MODEL'],_0x3ac493,this['entity'])),_0x3ac493<0x2d*-0x31+-0x3a*0x8d+0x288f&&this['_batchGrou'+'pId']>=-0xf86*-0x2+0x98*0x18+-0x34*0xdf&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x3ac493);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x1feb79){let _0xa9b766=_0x1feb79;_0x1feb79 instanceof le&&(_0xa9b766=_0x1feb79['id']);const _0x310503=this['system']['app']['assets'];if(_0xa9b766!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x310503['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x4ea550=_0x310503['get'](this['_materialA'+'sset']);_0x4ea550&&this['_unbindMat'+'erialAsset'](_0x4ea550);}if(this['_materialA'+'sset']=_0xa9b766,this['_materialA'+'sset']){const _0x127424=_0x310503['get'](this['_materialA'+'sset']);_0x127424?this['_bindMater'+'ialAsset'](_0x127424):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x310503['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x486d55){this['_material']!==_0x486d55&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x486d55));}get['material'](){return this['_material'];}set['mapping'](_0x131f67){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x131f67||(_0x131f67={}),this['_mapping']=_0x131f67,!this['_model']))return;const _0x28e383=this['_model']['meshInstan'+'ces'],_0x320cbe=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x4bd758=_0x320cbe?_0x320cbe['data']['mapping']:null;let _0x2b5c47=null;for(let _0x79c650=0x1*0x2666+-0x1215+-0x1451*0x1,_0x58927f=_0x28e383['length'];_0x79c650<_0x58927f;_0x79c650++)if(_0x131f67[_0x79c650]!==void(0x2a7*0x6+0x1*0x1f51+-0x2f3b))_0x131f67[_0x79c650]?(_0x2b5c47=this['system']['app']['assets']['get'](_0x131f67[_0x79c650]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2b5c47,_0x28e383[_0x79c650],_0x79c650)):_0x28e383[_0x79c650]['material']=this['system']['defaultMat'+'erial'];else{if(_0x4bd758){if(_0x4bd758[_0x79c650]&&(_0x4bd758[_0x79c650]['material']||_0x4bd758[_0x79c650]['path'])){if(_0x4bd758[_0x79c650]['material']!==void(0x81a+0x1801+-0x201b))_0x2b5c47=this['system']['app']['assets']['get'](_0x4bd758[_0x79c650]['material']);else{if(_0x4bd758[_0x79c650]['path']!==void(0x2f*-0x6b+-0x1a99+0x2e3e)){const _0x26552f=this['_getMateri'+'alAssetUrl'](_0x4bd758[_0x79c650]['path']);_0x26552f&&(_0x2b5c47=this['system']['app']['assets']['getByUrl'](_0x26552f));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x2b5c47,_0x28e383[_0x79c650],_0x79c650);}else _0x28e383[_0x79c650]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x19865d=this['system']['app']['scene']['layers'];for(let _0x2ebe74=0xdb5*0x1+-0x1*0x1079+0x2c4;_0x2ebe74<this['_layers']['length'];_0x2ebe74++){const _0x476208=_0x19865d['getLayerBy'+'Id'](this['_layers'][_0x2ebe74]);_0x476208&&_0x476208['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x33ce34=this['system']['app']['scene']['layers'];for(let _0x1267d3=0x1083*0x2+-0x1be2+-0xe*0x5e;_0x1267d3<this['_layers']['length'];_0x1267d3++){const _0x258c14=_0x33ce34['getLayerBy'+'Id'](this['_layers'][_0x1267d3]);_0x258c14&&_0x258c14['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x15035c,_0x4fb989){this['addModelTo'+'Layers'](),_0x15035c['off']('add',this['onLayerAdd'+'ed'],this),_0x15035c['off']('remove',this['onLayerRem'+'oved'],this),_0x4fb989['on']('add',this['onLayerAdd'+'ed'],this),_0x4fb989['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5e9aeb){this['layers']['indexOf'](_0x5e9aeb['id'])<-0xac1+-0xe2f*0x2+0x7d3*0x5||_0x5e9aeb['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x22d4ac){this['layers']['indexOf'](_0x22d4ac['id'])<-0x153*-0x1a+0xa8d+-0x2cfb||_0x22d4ac['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x163913,_0x5507ea,_0x12944c,_0x442f5f){const _0x549f82=_0x5507ea+':'+_0x12944c;this['system']['app']['assets']['on'](_0x549f82,_0x442f5f,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x163913]||(this['_materialE'+'vents'][_0x163913]={}),this['_materialE'+'vents'][_0x163913][_0x549f82]={'id':_0x12944c,'handler':_0x442f5f};}['_unsetMate'+'rialEvents'](){const _0x5d634f=this['system']['app']['assets'],_0x1b62bf=this['_materialE'+'vents'];if(_0x1b62bf){for(let _0x1165e8=-0x15fa+0x1a62+-0x468,_0x53727c=_0x1b62bf['length'];_0x1165e8<_0x53727c;_0x1165e8++){if(!_0x1b62bf[_0x1165e8])continue;const _0x14b12f=_0x1b62bf[_0x1165e8];for(const _0x545b81 in _0x14b12f)_0x5d634f['off'](_0x545b81,_0x14b12f[_0x545b81]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x38c2c7){let _0x501298=null;if(!isNaN(parseInt(_0x38c2c7,0x2*-0x67c+0x3*0xba5+-0x15ed)))_0x501298=this['system']['app']['assets']['get'](_0x38c2c7);else{if(this['asset']){const _0x1c73d2=this['_getMateri'+'alAssetUrl'](_0x38c2c7);_0x1c73d2&&(_0x501298=this['system']['app']['assets']['getByUrl'](_0x1c73d2));}}return _0x501298;}['_getMateri'+'alAssetUrl'](_0xfa78d3){if(!this['asset'])return null;const _0x1dac67=this['system']['app']['assets']['get'](this['asset']);return _0x1dac67?_0x1dac67['getAbsolut'+'eUrl'](_0xfa78d3):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0xd70b49,_0xd0bb19,_0x514a66){const _0x288cce=this['system']['app']['assets'];_0xd70b49&&(_0xd70b49['resource']?(_0xd0bb19['material']=_0xd70b49['resource'],this['_setMateri'+'alEvent'](_0x514a66,'remove',_0xd70b49['id'],function(){_0xd0bb19['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x514a66,'load',_0xd70b49['id'],function(_0x309947){_0xd0bb19['material']=_0x309947['resource'],this['_setMateri'+'alEvent'](_0x514a66,'remove',_0xd70b49['id'],function(){_0xd0bb19['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x288cce['load'](_0xd70b49)));}['onEnable'](){var _0x462ad3;const _0x2d666c=this['system']['app'],_0xe708d4=_0x2d666c['scene'],_0x52d6d7=_0xe708d4==null?void(-0x1122+0xa2f+0x6f3):_0xe708d4['layers'];this['_evtLayers'+'Changed']=_0xe708d4['on']('set:layers',this['onLayersCh'+'anged'],this),_0x52d6d7&&(this['_evtLayerA'+'dded']=_0x52d6d7['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x52d6d7['on']('remove',this['onLayerRem'+'oved'],this));const _0x2b7860=this['_type']==='asset';let _0x55864a;if(this['_model']?this['addModelTo'+'Layers']():_0x2b7860&&this['_asset']&&(_0x55864a=_0x2d666c['assets']['get'](this['_asset']),_0x55864a&&_0x55864a['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x55864a)),this['_materialA'+'sset']&&(_0x55864a=_0x2d666c['assets']['get'](this['_materialA'+'sset']),_0x55864a&&_0x55864a['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x55864a)),_0x2b7860&&this['_mapping']){for(const _0x325903 in this['_mapping'])this['_mapping'][_0x325903]&&(_0x55864a=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x325903]),_0x55864a&&!_0x55864a['resource']&&_0x2d666c['assets']['load'](_0x55864a));}this['_batchGrou'+'pId']>=0x44*0xd+-0x973+0x5ff&&((_0x462ad3=_0x2d666c['batcher'])==null||_0x462ad3['insert'](et['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0xdaafe9,_0x16c7b2,_0x57ea19,_0x190a20;const _0x4c6ed0=this['system']['app'],_0xf64b95=_0x4c6ed0['scene']['layers'];(_0xdaafe9=this['_evtLayers'+'Changed'])==null||_0xdaafe9['off'](),this['_evtLayers'+'Changed']=null,_0xf64b95&&((_0x16c7b2=this['_evtLayerA'+'dded'])==null||_0x16c7b2['off'](),this['_evtLayerA'+'dded']=null,(_0x57ea19=this['_evtLayerR'+'emoved'])==null||_0x57ea19['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x2*-0xf29+-0xf7c+0x16e7*0x2&&((_0x190a20=_0x4c6ed0['batcher'])==null||_0x190a20['remove'](et['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x16355e=this['_model']['meshInstan'+'ces'];for(let _0x70ba7f=-0x71*0xd+-0x1824+0x1de1*0x1,_0x243cb5=_0x16355e['length'];_0x70ba7f<_0x243cb5;_0x70ba7f++)_0x16355e[_0x70ba7f]['visible']=!(-0xbcb*0x3+0x23fa+0x98*-0x1);}}['show'](){if(this['_model']){const _0x35f084=this['_model']['meshInstan'+'ces'];for(let _0xa4e320=-0x43*-0x6b+0x1485+-0x3086,_0x56fcd7=_0x35f084['length'];_0xa4e320<_0x56fcd7;_0xa4e320++)_0x35f084[_0xa4e320]['visible']=!(-0x5f7+0x11*0x10a+-0xbb3);}}['_bindMater'+'ialAsset'](_0x294911){if(_0x294911['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x294911['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x294911['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x294911['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x294911['resource'])this['_onMateria'+'lAssetLoad'](_0x294911);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x294911);}}['_unbindMat'+'erialAsset'](_0x312861){_0x312861['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x312861['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x312861['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x312861['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x34b929){this['system']['app']['assets']['off']('add:'+_0x34b929['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x34b929['id']&&this['_bindMater'+'ialAsset'](_0x34b929);}['_onMateria'+'lAssetLoad'](_0xe85e05){this['_setMateri'+'al'](_0xe85e05['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x25223c){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x12f73f){this['_onMateria'+'lAssetUnlo'+'ad'](_0x12f73f);}['_onMateria'+'lAssetChan'+'ge'](_0x4b12c2){}['_bindModel'+'Asset'](_0x156446){if(this['_unbindMod'+'elAsset'](_0x156446),_0x156446['on']('load',this['_onModelAs'+'setLoad'],this),_0x156446['on']('unload',this['_onModelAs'+'setUnload'],this),_0x156446['on']('change',this['_onModelAs'+'setChange'],this),_0x156446['on']('remove',this['_onModelAs'+'setRemove'],this),_0x156446['resource'])this['_onModelAs'+'setLoad'](_0x156446);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x156446);}}['_unbindMod'+'elAsset'](_0x2c556d){_0x2c556d['off']('load',this['_onModelAs'+'setLoad'],this),_0x2c556d['off']('unload',this['_onModelAs'+'setUnload'],this),_0x2c556d['off']('change',this['_onModelAs'+'setChange'],this),_0x2c556d['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x23ef5a){this['system']['app']['assets']['off']('add:'+_0x23ef5a['id'],this['_onModelAs'+'setAdded'],this),_0x23ef5a['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x23ef5a);}['_onModelAs'+'setLoad'](_0x2d5c70){this['model']=_0x2d5c70['resource']['clone'](),this['_clonedMod'+'el']=!(-0x1f*0x63+-0x2707+0x3304);}['_onModelAs'+'setUnload'](_0x1a2d4f){this['model']=null;}['_onModelAs'+'setChange'](_0x33b043,_0x522edd,_0x2f5cb0,_0x5c1cdc){_0x522edd==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x22137d){this['model']=null;}['_setMateri'+'al'](_0x5440bf){if(this['_material']===_0x5440bf)return;this['_material']=_0x5440bf;const _0x1ff432=this['_model'];if(_0x1ff432&&this['_type']!=='asset'){const _0x52f12b=_0x1ff432['meshInstan'+'ces'];for(let _0x2025fe=-0x2652+0x43b+0x2217,_0x3919b7=_0x52f12b['length'];_0x2025fe<_0x3919b7;_0x2025fe++)_0x52f12b[_0x2025fe]['material']=_0x5440bf;}}}class sI{constructor(){this['enabled']=!(-0x13*0xd3+0x1*0xfd6+-0x2d);}}const ux=['enabled'];class iI extends Xe{constructor(_0x2f8772){super(_0x2f8772),this['id']='model',this['ComponentT'+'ype']=dx,this['DataType']=sI,this['schema']=ux,this['defaultMat'+'erial']=al(_0x2f8772['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5f2c5b,_0x154133,_0x37486f){_0x37486f=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x154133['batchGroup'+'Id']===null||_0x154133['batchGroup'+'Id']===void(0x22e9+-0x9f0+0x853*-0x3))&&(_0x154133['batchGroup'+'Id']=-(0x474+-0x1*-0x1526+-0x1999*0x1)),_0x154133['layers']&&_0x154133['layers']['length']&&(_0x154133['layers']=_0x154133['layers']['slice'](0x2243*0x1+0x442*0x1+-0x2685));for(let _0x450989=-0xc4a+0x1*0x10de+-0x494;_0x450989<_0x37486f['length'];_0x450989++)_0x154133['hasOwnProp'+'erty'](_0x37486f[_0x450989])&&(_0x5f2c5b[_0x37486f[_0x450989]]=_0x154133[_0x37486f[_0x450989]]);_0x154133['aabbCenter']&&_0x154133['aabbHalfEx'+'tents']&&(_0x5f2c5b['customAabb']=new _e(new T(_0x154133['aabbCenter']),new T(_0x154133['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5f2c5b,_0x154133,['enabled']);}['cloneCompo'+'nent'](_0x22bc7a,_0x161c84){const _0x539e93={'type':_0x22bc7a['model']['type'],'asset':_0x22bc7a['model']['asset'],'castShadows':_0x22bc7a['model']['castShadow'+'s'],'receiveShadows':_0x22bc7a['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x22bc7a['model']['castShadow'+'sLightmap'],'lightmapped':_0x22bc7a['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x22bc7a['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x22bc7a['model']['isStatic'],'enabled':_0x22bc7a['model']['enabled'],'layers':_0x22bc7a['model']['layers'],'batchGroupId':_0x22bc7a['model']['batchGroup'+'Id'],'mapping':vh({},_0x22bc7a['model']['mapping'])};let _0x3746b6=_0x22bc7a['model']['materialAs'+'set'];!(_0x3746b6 instanceof le)&&_0x3746b6!=null&&(_0x3746b6=this['app']['assets']['get'](_0x3746b6));const _0x4a4a3d=_0x22bc7a['model']['material'];(!_0x4a4a3d||_0x4a4a3d===this['defaultMat'+'erial']||!_0x3746b6||_0x4a4a3d===_0x3746b6['resource'])&&(_0x539e93['materialAs'+'set']=_0x3746b6);const _0x584b02=this['addCompone'+'nt'](_0x161c84,_0x539e93);if(_0x22bc7a['model']['model']&&_0x22bc7a['model']['type']==='asset'&&!_0x22bc7a['model']['asset']&&(_0x584b02['model']=_0x22bc7a['model']['model']['clone'](),_0x584b02['_clonedMod'+'el']=!(-0x19b8+-0x105b*-0x1+0x95d)),_0x539e93['materialAs'+'set']||(_0x584b02['material']=_0x4a4a3d),_0x22bc7a['model']['model']){const _0x40f3f2=_0x22bc7a['model']['model']['meshInstan'+'ces'],_0xc581fe=_0x584b02['model']['meshInstan'+'ces'];for(let _0x565718=-0x232a+-0xa9f+0x2dc9;_0x565718<_0x40f3f2['length'];_0x565718++)_0xc581fe[_0x565718]['mask']=_0x40f3f2[_0x565718]['mask'],_0xc581fe[_0x565718]['material']=_0x40f3f2[_0x565718]['material'],_0xc581fe[_0x565718]['layer']=_0x40f3f2[_0x565718]['layer'],_0xc581fe[_0x565718]['receiveSha'+'dow']=_0x40f3f2[_0x565718]['receiveSha'+'dow'];}return _0x22bc7a['model']['customAabb']&&(_0x584b02['customAabb']=_0x22bc7a['model']['customAabb']['clone']()),_0x584b02;}['onRemove'](_0x47b702,_0x4cab5a){_0x4cab5a['onRemove']();}}ue['_buildAcce'+'ssors'](dx['prototype'],ux);const rI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],nI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],aI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Zl=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Hn;class oI extends ue{constructor(_0xe73c64,_0x2e76d6){super(_0xe73c64,_0x2e76d6),c(this,'_requested'+'Depth',!(-0xb*0x139+-0x871*-0x1+-0x1*-0x503)),c(this,'_drawOrder',-0x8*0xda+0x2*0x471+-0x212),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),rI['forEach'](_0xc90d08=>{this['on']('set_'+_0xc90d08,this['onSetSimpl'+'eProperty'],this);}),nI['forEach'](_0x48528b=>{this['on']('set_'+_0x48528b,this['onSetCompl'+'exProperty'],this);}),aI['forEach'](_0x283835=>{this['on']('set_'+_0x283835,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x254b2f=this['system']['store'][this['entity']['getGuid']()];return _0x254b2f?_0x254b2f['data']:null;}set['enabled'](_0x4a49c4){this['_setValue']('enabled',_0x4a49c4);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x21827e){this['_setValue']('autoPlay',_0x21827e);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x15bddd){this['_setValue']('numParticl'+'es',_0x15bddd);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x5118b9){this['_setValue']('lifetime',_0x5118b9);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x36adc8){this['_setValue']('rate',_0x36adc8);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x3ca3a8){this['_setValue']('rate2',_0x3ca3a8);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x13d2d8){this['_setValue']('startAngle',_0x13d2d8);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0xe390c9){this['_setValue']('startAngle'+'2',_0xe390c9);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x458d56){this['_setValue']('loop',_0x458d56);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x3c2b6c){this['_setValue']('preWarm',_0x3c2b6c);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x1b7bb9){this['_setValue']('lighting',_0x1b7bb9);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x54a859){this['_setValue']('halfLamber'+'t',_0x54a859);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x1657ba){this['_setValue']('intensity',_0x1657ba);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x24b771){this['_setValue']('depthWrite',_0x24b771);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x4d4b1b){this['_setValue']('noFog',_0x4d4b1b);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x798b12){this['_setValue']('depthSofte'+'ning',_0x798b12);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x28d44f){this['_setValue']('sort',_0x28d44f);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x555aea){this['_setValue']('blendType',_0x555aea);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x3fad81){this['_setValue']('stretch',_0x3fad81);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x1a3d38){this['_setValue']('alignToMot'+'ion',_0x1a3d38);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0xc26cc2){this['_setValue']('emitterSha'+'pe',_0xc26cc2);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x370674){this['_setValue']('emitterExt'+'ents',_0x370674);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x520be9){this['_setValue']('emitterExt'+'entsInner',_0x520be9);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x4f0341){this['_setValue']('emitterRad'+'ius',_0x4f0341);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x16aa51){this['_setValue']('emitterRad'+'iusInner',_0x16aa51);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x44f7a3){this['_setValue']('initialVel'+'ocity',_0x44f7a3);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x54d8b3){this['_setValue']('wrap',_0x54d8b3);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x448f51){this['_setValue']('wrapBounds',_0x448f51);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x50b483){this['_setValue']('localSpace',_0x50b483);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x51da21){this['_setValue']('screenSpac'+'e',_0x51da21);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x47f43d){this['_setValue']('colorMapAs'+'set',_0x47f43d);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x482d7e){this['_setValue']('normalMapA'+'sset',_0x482d7e);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x40a33a){this['_setValue']('mesh',_0x40a33a);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x1e4c47){this['_setValue']('meshAsset',_0x1e4c47);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x68bc37){this['_setValue']('renderAsse'+'t',_0x68bc37);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x4b8afe){this['_setValue']('orientatio'+'n',_0x4b8afe);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x3f630b){this['_setValue']('particleNo'+'rmal',_0x3f630b);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x575781){this['_setValue']('localVeloc'+'ityGraph',_0x575781);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x100da1){this['_setValue']('localVeloc'+'ityGraph2',_0x100da1);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x10808b){this['_setValue']('velocityGr'+'aph',_0x10808b);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x2e71bc){this['_setValue']('velocityGr'+'aph2',_0x2e71bc);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x2dbcb9){this['_setValue']('rotationSp'+'eedGraph',_0x2dbcb9);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x1bbc19){this['_setValue']('rotationSp'+'eedGraph2',_0x1bbc19);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x38f0ed){this['_setValue']('radialSpee'+'dGraph',_0x38f0ed);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x3277c5){this['_setValue']('radialSpee'+'dGraph2',_0x3277c5);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x48be91){this['_setValue']('scaleGraph',_0x48be91);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x568e9e){this['_setValue']('scaleGraph'+'2',_0x568e9e);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x488727){this['_setValue']('colorGraph',_0x488727);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x4e4f83){this['_setValue']('colorGraph'+'2',_0x4e4f83);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x5651f7){this['_setValue']('alphaGraph',_0x5651f7);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x15babb){this['_setValue']('alphaGraph'+'2',_0x15babb);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x5eebeb){this['_setValue']('colorMap',_0x5eebeb);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x48bd12){this['_setValue']('normalMap',_0x48bd12);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x491f17){this['_setValue']('animTilesX',_0x491f17);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x3a8ba8){this['_setValue']('animTilesY',_0x3a8ba8);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x1d61a9){this['_setValue']('animStartF'+'rame',_0x1d61a9);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x147fd6){this['_setValue']('animNumFra'+'mes',_0x147fd6);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4bea16){this['_setValue']('animNumAni'+'mations',_0x4bea16);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x9ff3f0){this['_setValue']('animIndex',_0x9ff3f0);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x20149b){this['_setValue']('randomizeA'+'nimIndex',_0x20149b);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x4b6cb9){this['_setValue']('animSpeed',_0x4b6cb9);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x455afc){this['_setValue']('animLoop',_0x455afc);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x2c3b08){this['_setValue']('layers',_0x2c3b08);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x5c2f19){this['_drawOrder']=_0x5c2f19,this['emitter']&&(this['emitter']['drawOrder']=_0x5c2f19);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2a7453,_0x275059){const _0x4067b7=this['data'],_0x2bc9b4=_0x4067b7[_0x2a7453];_0x4067b7[_0x2a7453]=_0x275059,this['fire']('set',_0x2a7453,_0x2bc9b4,_0x275059);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x30f3d9=0x1a5d+-0x2d4+0x1789*-0x1;_0x30f3d9<this['layers']['length'];_0x30f3d9++){const _0xe755cb=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x30f3d9]);_0xe755cb&&(_0xe755cb['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0xe755cb);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x296f28=-0x1261*-0x2+-0x22d6+0xa4*-0x3;_0x296f28<this['layers']['length'];_0x296f28++){const _0x3da1a4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x296f28]);_0x3da1a4&&_0x3da1a4['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x292c0c,_0x2146ef,_0x43a2d7){if(this['emitter']){for(let _0x6411ce=0x1e2*0x1+-0x1*0x7ab+0x1*0x5c9;_0x6411ce<_0x2146ef['length'];_0x6411ce++){const _0x5186f2=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2146ef[_0x6411ce]);_0x5186f2&&_0x5186f2['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x5ccc76=-0x10e8*-0x1+0x1324+-0x240c;_0x5ccc76<_0x43a2d7['length'];_0x5ccc76++){const _0x5b3d5c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x43a2d7[_0x5ccc76]);_0x5b3d5c&&_0x5b3d5c['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0xf0666f,_0x3fe959){this['addMeshIns'+'tanceToLay'+'ers'](),_0xf0666f['off']('add',this['onLayerAdd'+'ed'],this),_0xf0666f['off']('remove',this['onLayerRem'+'oved'],this),_0x3fe959['on']('add',this['onLayerAdd'+'ed'],this),_0x3fe959['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x40234b){!this['emitter']||this['layers']['indexOf'](_0x40234b['id'])<-0x17f8+0xb1b*0x2+0xe1*0x2||_0x40234b['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x2b5eed){!this['emitter']||this['layers']['indexOf'](_0x2b5eed['id'])<0x1*-0x2137+-0x2428+0x455f||_0x2b5eed['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x5e8314){if(_0x5e8314['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x5e8314['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x5e8314['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x5e8314['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x5e8314['resource'])this['_onColorMa'+'pAssetLoad'](_0x5e8314);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x5e8314);}}['_unbindCol'+'orMapAsset'](_0xd48460){_0xd48460['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0xd48460['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xd48460['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xd48460['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x4e963f){this['colorMap']=_0x4e963f['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x3edcfb){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x3ab395){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x3ab395);}['_onColorMa'+'pAssetChan'+'ge'](_0x48d99e){}['onSetColor'+'MapAsset'](_0x1879e5,_0x46d870,_0x4a5b44){const _0x3e2867=this['system']['app']['assets'];if(_0x46d870){const _0x3ef197=_0x3e2867['get'](_0x46d870);_0x3ef197&&this['_unbindCol'+'orMapAsset'](_0x3ef197);}if(_0x4a5b44){_0x4a5b44 instanceof le&&(this['data']['colorMapAs'+'set']=_0x4a5b44['id'],_0x4a5b44=_0x4a5b44['id']);const _0x219061=_0x3e2867['get'](_0x4a5b44);_0x219061?this['_bindColor'+'MapAsset'](_0x219061):_0x3e2867['once']('add:'+_0x4a5b44,_0xe19ece=>{this['_bindColor'+'MapAsset'](_0xe19ece);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x510c4c){if(_0x510c4c['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x510c4c['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x510c4c['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x510c4c['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x510c4c['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x510c4c);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x510c4c);}}['_unbindNor'+'malMapAsse'+'t'](_0x18f189){_0x18f189['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x18f189['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x18f189['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x18f189['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x1162f4){this['normalMap']=_0x1162f4['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x4dc4cc){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x3aeded){this['_onNormalM'+'apAssetUnl'+'oad'](_0x3aeded);}['_onNormalM'+'apAssetCha'+'nge'](_0x394f27){}['onSetNorma'+'lMapAsset'](_0x590f71,_0x902a7,_0x166042){const _0x4aaa4e=this['system']['app']['assets'];if(_0x902a7){const _0x2bad9b=_0x4aaa4e['get'](_0x902a7);_0x2bad9b&&this['_unbindNor'+'malMapAsse'+'t'](_0x2bad9b);}if(_0x166042){_0x166042 instanceof le&&(this['data']['normalMapA'+'sset']=_0x166042['id'],_0x166042=_0x166042['id']);const _0x417b55=_0x4aaa4e['get'](_0x166042);_0x417b55?this['_bindNorma'+'lMapAsset'](_0x417b55):_0x4aaa4e['once']('add:'+_0x166042,_0x303a1f=>{this['_bindNorma'+'lMapAsset'](_0x303a1f);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x15135a){if(_0x15135a['on']('load',this['_onMeshAss'+'etLoad'],this),_0x15135a['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x15135a['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x15135a['on']('change',this['_onMeshAss'+'etChange'],this),_0x15135a['resource'])this['_onMeshAss'+'etLoad'](_0x15135a);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x15135a);}}['_unbindMes'+'hAsset'](_0x53f58a){_0x53f58a['off']('load',this['_onMeshAss'+'etLoad'],this),_0x53f58a['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x53f58a['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x53f58a['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x1cf48e){this['_onMeshCha'+'nged'](_0x1cf48e['resource']);}['_onMeshAss'+'etUnload'](_0x37fabf){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x152d8f){this['_onMeshAss'+'etUnload'](_0x152d8f);}['_onMeshAss'+'etChange'](_0xd36146){}['onSetMeshA'+'sset'](_0x94f132,_0x2f5bae,_0x5803c1){const _0x58ca17=this['system']['app']['assets'];if(_0x2f5bae){const _0x33a5ae=_0x58ca17['get'](_0x2f5bae);_0x33a5ae&&this['_unbindMes'+'hAsset'](_0x33a5ae);}if(_0x5803c1){_0x5803c1 instanceof le&&(this['data']['meshAsset']=_0x5803c1['id'],_0x5803c1=_0x5803c1['id']);const _0x5dd20e=_0x58ca17['get'](_0x5803c1);_0x5dd20e&&this['_bindMeshA'+'sset'](_0x5dd20e);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x3f2f7f,_0xee7a06,_0x45d58c){!_0x45d58c||_0x45d58c instanceof le||typeof _0x45d58c=='number'?this['meshAsset']=_0x45d58c:this['_onMeshCha'+'nged'](_0x45d58c);}['_onMeshCha'+'nged'](_0xd3faed){_0xd3faed&&!(_0xd3faed instanceof Ie)&&(_0xd3faed['meshInstan'+'ces'][-0x593*0x5+-0x250c+-0x40eb*-0x1]?_0xd3faed=_0xd3faed['meshInstan'+'ces'][-0x2386+-0x1*0x1b29+-0x14e5*-0x3]['mesh']:_0xd3faed=null),this['data']['mesh']=_0xd3faed,this['emitter']&&(this['emitter']['mesh']=_0xd3faed,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x59f7de,_0x57fb5e,_0x12d19b){const _0x3ffd7c=this['system']['app']['assets'];if(_0x57fb5e){const _0x1bf4c4=_0x3ffd7c['get'](_0x57fb5e);_0x1bf4c4&&this['_unbindRen'+'derAsset'](_0x1bf4c4);}if(_0x12d19b){_0x12d19b instanceof le&&(this['data']['renderAsse'+'t']=_0x12d19b['id'],_0x12d19b=_0x12d19b['id']);const _0x305fa0=_0x3ffd7c['get'](_0x12d19b);_0x305fa0&&this['_bindRende'+'rAsset'](_0x305fa0);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x42816e){if(_0x42816e['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x42816e['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x42816e['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x42816e['resource'])this['_onRenderA'+'ssetLoad'](_0x42816e);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x42816e);}}['_unbindRen'+'derAsset'](_0x20def7){var _0x5db189;_0x20def7['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x20def7['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x20def7['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x5db189=this['_evtSetMes'+'hes'])==null||_0x5db189['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x47d75a){this['_onRenderC'+'hanged'](_0x47d75a['resource']);}['_onRenderA'+'ssetUnload'](_0x1f876a){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x52ab72){this['_onRenderA'+'ssetUnload'](_0x52ab72);}['_onRenderC'+'hanged'](_0x72233c){var _0x204d7e;if(!_0x72233c){this['_onMeshCha'+'nged'](null);return;}(_0x204d7e=this['_evtSetMes'+'hes'])==null||_0x204d7e['off'](),this['_evtSetMes'+'hes']=_0x72233c['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x72233c['meshes']&&this['_onRenderS'+'etMeshes'](_0x72233c['meshes']);}['_onRenderS'+'etMeshes'](_0x1bb438){this['_onMeshCha'+'nged'](_0x1bb438&&_0x1bb438[0x107*0x25+-0x560+-0x20a3]);}['onSetLoop'](_0x244b24,_0x522054,_0x3fb7d0){this['emitter']&&(this['emitter'][_0x244b24]=_0x3fb7d0,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0xd91c39,_0x58a728,_0x10c6f9){this['emitter']&&(this['emitter'][_0xd91c39]=_0x10c6f9,this['emitter']['material']['blendType']=_0x10c6f9,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Hn||(Hn=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt)),Hn&&(Hn['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x2*0x8e2+0x10cc+0xf8)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Hn&&(Hn['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x8*0x233+0x36f+0xe2a));}['onSetDepth'+'Softening'](_0x71932c,_0x50100b,_0x132975){_0x50100b!==_0x132975&&(_0x132975?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x71932c]=_0x132975)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x71932c]=_0x132975)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x13e9cf,_0x511dcb,_0x2ad2b3){this['emitter']&&(this['emitter'][_0x13e9cf]=_0x2ad2b3,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x58b19c,_0x22713a,_0x7230df){this['emitter']&&(this['emitter'][_0x58b19c]=_0x7230df,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x8251cd,_0x5244df,_0x242617){this['emitter']&&(this['emitter'][_0x8251cd]=_0x242617,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x451efd=this['system']['app']['scene'],_0x4fdb6c=_0x451efd['layers'],_0x2fa8c2=this['data'];for(let _0x4048ad=0x769*0x1+0x49+-0x5*0x18a,_0x19eeb8=Zl['length'];_0x4048ad<_0x19eeb8;_0x4048ad++){let _0x43142d=_0x2fa8c2[Zl[_0x4048ad]];if(_0x43142d){if(!(_0x43142d instanceof le)){if(parseInt(_0x43142d,-0x12d*0x1+0x3a1*0x5+-0x1*0x10ee)>=0x25c9+-0x124*0x1+-0x24a5)_0x43142d=this['system']['app']['assets']['get'](_0x43142d);else continue;}_0x43142d&&!_0x43142d['resource']&&this['system']['app']['assets']['load'](_0x43142d);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x54a464=_0x2fa8c2['mesh'];_0x54a464 instanceof Ie||(_0x54a464=null),this['emitter']=new d1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x2fa8c2['numParticl'+'es'],'emitterExtents':_0x2fa8c2['emitterExt'+'ents'],'emitterExtentsInner':_0x2fa8c2['emitterExt'+'entsInner'],'emitterRadius':_0x2fa8c2['emitterRad'+'ius'],'emitterRadiusInner':_0x2fa8c2['emitterRad'+'iusInner'],'emitterShape':_0x2fa8c2['emitterSha'+'pe'],'initialVelocity':_0x2fa8c2['initialVel'+'ocity'],'wrap':_0x2fa8c2['wrap'],'localSpace':_0x2fa8c2['localSpace'],'screenSpace':_0x2fa8c2['screenSpac'+'e'],'wrapBounds':_0x2fa8c2['wrapBounds'],'lifetime':_0x2fa8c2['lifetime'],'rate':_0x2fa8c2['rate'],'rate2':_0x2fa8c2['rate2'],'orientation':_0x2fa8c2['orientatio'+'n'],'particleNormal':_0x2fa8c2['particleNo'+'rmal'],'animTilesX':_0x2fa8c2['animTilesX'],'animTilesY':_0x2fa8c2['animTilesY'],'animStartFrame':_0x2fa8c2['animStartF'+'rame'],'animNumFrames':_0x2fa8c2['animNumFra'+'mes'],'animNumAnimations':_0x2fa8c2['animNumAni'+'mations'],'animIndex':_0x2fa8c2['animIndex'],'randomizeAnimIndex':_0x2fa8c2['randomizeA'+'nimIndex'],'animSpeed':_0x2fa8c2['animSpeed'],'animLoop':_0x2fa8c2['animLoop'],'startAngle':_0x2fa8c2['startAngle'],'startAngle2':_0x2fa8c2['startAngle'+'2'],'scaleGraph':_0x2fa8c2['scaleGraph'],'scaleGraph2':_0x2fa8c2['scaleGraph'+'2'],'colorGraph':_0x2fa8c2['colorGraph'],'colorGraph2':_0x2fa8c2['colorGraph'+'2'],'alphaGraph':_0x2fa8c2['alphaGraph'],'alphaGraph2':_0x2fa8c2['alphaGraph'+'2'],'localVelocityGraph':_0x2fa8c2['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x2fa8c2['localVeloc'+'ityGraph2'],'velocityGraph':_0x2fa8c2['velocityGr'+'aph'],'velocityGraph2':_0x2fa8c2['velocityGr'+'aph2'],'rotationSpeedGraph':_0x2fa8c2['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x2fa8c2['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x2fa8c2['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x2fa8c2['radialSpee'+'dGraph2'],'colorMap':_0x2fa8c2['colorMap'],'normalMap':_0x2fa8c2['normalMap'],'loop':_0x2fa8c2['loop'],'preWarm':_0x2fa8c2['preWarm'],'sort':_0x2fa8c2['sort'],'stretch':_0x2fa8c2['stretch'],'alignToMotion':_0x2fa8c2['alignToMot'+'ion'],'lighting':_0x2fa8c2['lighting'],'halfLambert':_0x2fa8c2['halfLamber'+'t'],'intensity':_0x2fa8c2['intensity'],'depthSoftening':_0x2fa8c2['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x54a464,'depthWrite':_0x2fa8c2['depthWrite'],'noFog':_0x2fa8c2['noFog'],'node':this['entity'],'blendType':_0x2fa8c2['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x2fa8c2['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x342*-0x1+-0x947+0x606));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x451efd['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4fdb6c&&(this['_evtLayerA'+'dded']=_0x4fdb6c['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4fdb6c['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x2fa8c2['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x457177,_0x595018,_0x3eb74c;const _0x40c1fc=this['system']['app']['scene']['layers'];(_0x457177=this['_evtLayers'+'Changed'])==null||_0x457177['off'](),this['_evtLayers'+'Changed']=null,_0x40c1fc&&((_0x595018=this['_evtLayerA'+'dded'])==null||_0x595018['off'](),this['_evtLayerA'+'dded']=null,(_0x3eb74c=this['_evtLayerR'+'emoved'])==null||_0x3eb74c['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x1d1d+-0x26bf+0x43dd)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x3c9cad=-0x33*0x1f+-0x20b*0xd+-0x2*-0x105e;_0x3c9cad<Zl['length'];_0x3c9cad++){const _0xf251e4=Zl[_0x3c9cad];this['data'][_0xf251e4]&&(this[_0xf251e4]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0xf07+-0x6*0x179+0x17de),this['emitter']['resetTime'](),this['emitter']['addTime'](-0xa*0x2f9+0x132c+0xa8e,!(0x1e7e+0x2f*-0x74+-0x932)));}['pause'](){this['data']['paused']=!(-0x1*0x1b3b+0xb5*0x12+0xe81);}['unpause'](){this['data']['paused']=!(-0x1ee4+0x6*-0x457+0x1*0x38ef);}['play'](){this['data']['paused']=!(-0x1fbf+0x12c8+0x298*0x5),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x296*-0xf+0x2*0xd28+0x63d*0x2),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x17*-0xfe+0x11*-0x8+-0x1649):this['emitter']&&this['emitter']['loop']?!(-0x23*0x10f+-0x39c+0x28a9):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x18329c}=this;_0x18329c&&!_0x18329c['inTools']&&(_0x18329c['inTools']=!(0x1*0x353+-0x2361+-0x1007*-0x2),this['rebuild']());}['rebuild'](){const _0xdddf31=this['enabled'];this['enabled']=!(0x3*0x83b+0x262+0x2*-0xd89),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0xdddf31;}}class lI{constructor(){this['numParticl'+'es']=-0x6c3*-0x2+-0x1cb0+0xf2b,this['rate']=-0x37e*0x1+-0x1*0x189d+0x1c1c,this['rate2']=null,this['startAngle']=-0x268e+0xc26+0x1a68,this['startAngle'+'2']=null,this['lifetime']=0x209+0x91b+-0xaf2,this['emitterExt'+'ents']=new T(),this['emitterExt'+'entsInner']=new T(),this['emitterRad'+'ius']=0x21d6*-0x1+0x9e5+0x17f1,this['emitterRad'+'iusInner']=0x248+-0x1d6a+0x1b22,this['emitterSha'+'pe']=Vs,this['initialVel'+'ocity']=-0x1dd5+0x2b9+-0x5*-0x56c,this['wrap']=!(-0x7ed*-0x2+-0x20f1+0x1*0x1118),this['wrapBounds']=new T(),this['localSpace']=!(0xedf+0x13*0x53+0x7*-0x301),this['screenSpac'+'e']=!(-0x4a6*0x7+0x1307+0x5*0x2b4),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x19cc*0x1+-0x2652+0x401e),this['preWarm']=!(0x1*-0x1778+0x1db1*0x1+0x18e*-0x4),this['sort']=0x2aa+-0x1*0x4fb+0x251,this['mode']=d0,this['scene']=null,this['lighting']=!(0xfd0+-0x24b2+0x1*0x14e3),this['halfLamber'+'t']=!(0x125*-0x8+0x2109+0x5f8*-0x4),this['intensity']=-0x2208+0x1ea4+-0x1*-0x365,this['stretch']=-0x27*-0x7e+-0xd2d+-0x605,this['alignToMot'+'ion']=!(0xe8d+-0x1*0x379+-0xb13),this['depthSofte'+'ning']=-0x690+-0x190c+0x7*0x484,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x6*0x2a3+0x1959+-0x986),this['noFog']=!(0x1*0x152e+-0x1f79+0xa4c),this['orientatio'+'n']=Uh,this['particleNo'+'rmal']=new T(-0x3*-0xab+0x245*0x7+-0x14*0xe5,-0x23f8+0x24f9+-0x100,0x18b1+-0x4d9*0x7+-0x5b*-0x1a),this['animTilesX']=0x142d+0x1968+0xb65*-0x4,this['animTilesY']=-0x1387+-0x1493+0x281b,this['animStartF'+'rame']=0x18*0x99+-0x11*-0x7+-0xecf,this['animNumFra'+'mes']=-0xd*-0x2f+0x3*-0xb25+-0x1f0d*-0x1,this['animNumAni'+'mations']=-0xeb0+0x610+0x8a1,this['animIndex']=-0x1*0x1a23+-0x1b41*0x1+0xc*0x473,this['randomizeA'+'nimIndex']=!(0x274*0x9+0x12b4+-0x8f*0x49),this['animSpeed']=0x89*0x3b+-0x15e8+-0x9aa,this['animLoop']=!(-0x11f6+0x148c+0x14b*-0x2),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Kt,this['enabled']=!(-0x2b+-0x10d1+0x10fc),this['paused']=!(0x102a+0x1d09+0x59*-0x82),this['autoPlay']=!(0xb3f*0x2+-0x245b*-0x1+-0x3ad9),this['layers']=[Fi];}}const hI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class cI extends Xe{constructor(_0x42a4e0){super(_0x42a4e0),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=oI,this['DataType']=lI,this['schema']=hI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x411806,_0x159f82,_0x454f31){const _0xe72d0d={};_0x454f31=[];const _0x45152e=this['propertyTy'+'pes'];(_0x159f82['mesh']instanceof le||typeof _0x159f82['mesh']=='number')&&(_0x159f82['meshAsset']=_0x159f82['mesh'],delete _0x159f82['mesh']);for(const _0x1cf735 in _0x159f82){if(_0x159f82['hasOwnProp'+'erty'](_0x1cf735)&&(_0x454f31['push'](_0x1cf735),_0xe72d0d[_0x1cf735]=_0x159f82[_0x1cf735]),_0x45152e[_0x1cf735]==='vec3')Array['isArray'](_0xe72d0d[_0x1cf735])&&(_0xe72d0d[_0x1cf735]=new T(_0xe72d0d[_0x1cf735][0x1*-0x18ee+0x5e*-0x4c+0x1a6b*0x2],_0xe72d0d[_0x1cf735][-0x2*-0x466+-0x2ef+-0x5dc],_0xe72d0d[_0x1cf735][0x13*0x1e9+0x18*-0x97+-0x1621]));else{if(_0x45152e[_0x1cf735]==='curve'){if(!(_0xe72d0d[_0x1cf735]instanceof Cs)){const _0x34c53d=_0xe72d0d[_0x1cf735]['type'];_0xe72d0d[_0x1cf735]=new Cs(_0xe72d0d[_0x1cf735]['keys']),_0xe72d0d[_0x1cf735]['type']=_0x34c53d;}}else{if(_0x45152e[_0x1cf735]==='curveset'&&!(_0xe72d0d[_0x1cf735]instanceof jr)){const _0x617c5=_0xe72d0d[_0x1cf735]['type'];_0xe72d0d[_0x1cf735]=new jr(_0xe72d0d[_0x1cf735]['keys']),_0xe72d0d[_0x1cf735]['type']=_0x617c5;}}}_0xe72d0d['layers']&&Array['isArray'](_0xe72d0d['layers'])&&(_0xe72d0d['layers']=_0xe72d0d['layers']['slice'](-0x96*0x3a+-0x1ac2*0x1+-0x26e*-0x19));}super['initialize'+'ComponentD'+'ata'](_0x411806,_0xe72d0d,_0x454f31);}['cloneCompo'+'nent'](_0x2b723b,_0x27d606){const _0x468ddb=_0x2b723b['particlesy'+'stem']['data'],_0x587b49=this['schema'],_0x4ab322={};for(let _0x4e6ca5=-0x580*-0x1+0x1*-0xc9d+0x71d,_0x4eb6e5=_0x587b49['length'];_0x4e6ca5<_0x4eb6e5;_0x4e6ca5++){const _0x32f798=_0x587b49[_0x4e6ca5];let _0x33a2f1=_0x468ddb[_0x32f798];_0x33a2f1 instanceof T||_0x33a2f1 instanceof Cs||_0x33a2f1 instanceof jr?(_0x33a2f1=_0x33a2f1['clone'](),_0x4ab322[_0x32f798]=_0x33a2f1):_0x32f798==='layers'?_0x4ab322['layers']=_0x468ddb['layers']['slice'](-0xc06*0x2+0x1d2a+-0x51e):_0x33a2f1!=null&&(_0x4ab322[_0x32f798]=_0x33a2f1);}return this['addCompone'+'nt'](_0x27d606,_0x4ab322);}['onUpdate'](_0x47e124){const _0x520f3b=this['store'];let _0x4966f5;const _0x18aacf=this['app']['stats']['particles'],_0x2d964e=this['app']['scene']['layers'];for(let _0x158153=-0x8b7*-0x2+0x1ff0+-0x18af*0x2;_0x158153<_0x2d964e['layerList']['length'];_0x158153++)_0x2d964e['layerList'][_0x158153]['requiresLi'+'ghtCube']=!(0x25e2*0x1+0x853*0x4+0x7*-0xa2b);for(const _0x22684a in _0x520f3b)if(_0x520f3b['hasOwnProp'+'erty'](_0x22684a)){const _0x2d2b99=_0x520f3b[_0x22684a],_0x3ecc9c=_0x2d2b99['entity'],_0x20dc9e=_0x2d2b99['data'];if(_0x20dc9e['enabled']&&_0x3ecc9c['enabled']){const _0x5c461a=_0x3ecc9c['particlesy'+'stem']['emitter'];if(!(_0x5c461a!=null&&_0x5c461a['meshInstan'+'ce']['visible']))continue;if(_0x5c461a['lighting']){const _0x37b05c=_0x20dc9e['layers'];for(let _0x13710b=0x162d+-0x4*0x7d1+0xb3*0xd;_0x13710b<_0x37b05c['length'];_0x13710b++){const _0x427223=_0x2d964e['getLayerBy'+'Id'](_0x37b05c[_0x13710b]);_0x427223&&(_0x427223['requiresLi'+'ghtCube']=!(0x462+0x7a*0x8+-0x832));}}if(!_0x20dc9e['paused']){if(_0x5c461a['simTime']+=_0x47e124,_0x5c461a['simTime']>_0x5c461a['fixedTimeS'+'tep']&&(_0x4966f5=Math['floor'](_0x5c461a['simTime']/_0x5c461a['fixedTimeS'+'tep']),_0x5c461a['simTime']-=_0x4966f5*_0x5c461a['fixedTimeS'+'tep']),_0x4966f5){_0x4966f5=Math['min'](_0x4966f5,_0x5c461a['maxSubStep'+'s']);for(let _0x5e26ba=0xd3f+-0xf*-0x101+-0x1c4e;_0x5e26ba<_0x4966f5;_0x5e26ba++)_0x5c461a['addTime'](_0x5c461a['fixedTimeS'+'tep'],!(-0x38*-0x46+0x1c33*-0x1+0x339*0x4));_0x18aacf['_updatesPe'+'rFrame']+=_0x4966f5,_0x18aacf['_frameTime']+=_0x5c461a['_addTimeTi'+'me'],_0x5c461a['_addTimeTi'+'me']=-0x11*-0x12b+0xad*0x3+-0x2*0xaf1;}_0x5c461a['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x39a07d,_0x382866){_0x382866['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class dI extends Gc{constructor(_0x2d07d4,_0x426121){super(),this['skin']=_0x2d07d4,this['skinInstan'+'ce']=_0x426121;}}const bs=class bs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),bs['_skinInsta'+'nceCache']['forEach']((_0x5dd7fb,_0x476337)=>{console['log'](_0x476337['name']+':\x20Array('+_0x5dd7fb['length']+')');for(let _0xcfc645=0x1290+0xe9b*0x1+-0x4bd*0x7;_0xcfc645<_0x5dd7fb['length'];_0xcfc645++)console['log']('\x20\x20'+_0xcfc645+(':\x20RefCount'+'\x20')+_0x5dd7fb[_0xcfc645]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x3d3a1c,_0x43ff5d,_0x4f1911){let _0xd241b6=bs['getCachedS'+'kinInstanc'+'e'](_0x3d3a1c,_0x43ff5d);return _0xd241b6||(_0xd241b6=new nl(_0x3d3a1c),_0xd241b6['resolve'](_0x43ff5d,_0x4f1911),bs['addCachedS'+'kinInstanc'+'e'](_0x3d3a1c,_0x43ff5d,_0xd241b6)),_0xd241b6;}static['getCachedS'+'kinInstanc'+'e'](_0x2553d5,_0x10dac9){let _0x144226=null;const _0x12224a=bs['_skinInsta'+'nceCache']['get'](_0x10dac9);if(_0x12224a){const _0x1ebf99=_0x12224a['find'](_0x1d45d7=>_0x1d45d7['skin']===_0x2553d5);_0x1ebf99&&(_0x1ebf99['incRefCoun'+'t'](),_0x144226=_0x1ebf99['skinInstan'+'ce']);}return _0x144226;}static['addCachedS'+'kinInstanc'+'e'](_0x448fe5,_0x46e0ae,_0x44ceac){let _0x3aef9a=bs['_skinInsta'+'nceCache']['get'](_0x46e0ae);_0x3aef9a||(_0x3aef9a=[],bs['_skinInsta'+'nceCache']['set'](_0x46e0ae,_0x3aef9a));let _0x21b86b=_0x3aef9a['find'](_0x95888a=>_0x95888a['skin']===_0x448fe5);_0x21b86b||(_0x21b86b=new dI(_0x448fe5,_0x44ceac),_0x3aef9a['push'](_0x21b86b)),_0x21b86b['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x3c9838){if(_0x3c9838){const _0x50d45c=_0x3c9838['rootBone'];if(_0x50d45c){const _0x1854fd=bs['_skinInsta'+'nceCache']['get'](_0x50d45c);if(_0x1854fd){const _0x2678b0=_0x1854fd['findIndex'](_0x220457=>_0x220457['skinInstan'+'ce']===_0x3c9838);if(_0x2678b0>=-0x71*0x43+-0x152a*0x1+0x32bd*0x1){const _0xbf91fc=_0x1854fd[_0x2678b0];_0xbf91fc['decRefCoun'+'t'](),_0xbf91fc['refCount']===0x6d1+0x1f22+-0x1*0x25f3&&(_0x1854fd['splice'](_0x2678b0,0xa6*0x35+0x1b3a+-0x3d97),_0x1854fd['length']||bs['_skinInsta'+'nceCache']['delete'](_0x50d45c),_0x3c9838&&(_0x3c9838['destroy'](),_0xbf91fc['skinInstan'+'ce']=null));}}}}}};c(bs,'_skinInsta'+'nceCache',new Map());let Vo=bs;class Go{constructor(_0x51058f,_0x4877fa,_0x55482d,_0x1d89c3,_0x416983){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x51058f,this['parent']=_0x4877fa,this['_scope']=_0x416983,this['_registry']=_0x55482d,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1d89c3['load'],this['_onAssetAd'+'d']=_0x1d89c3['add'],this['_onAssetRe'+'move']=_0x1d89c3['remove'],this['_onAssetUn'+'load']=_0x1d89c3['unload']);}set['id'](_0x28ada9){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x28ada9,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x54b1a3){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x54b1a3,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x65f4cf,_0x37ed41,_0x10f7de,_0x54948f,_0x4f5de9,_0x23366f,_0x438859;this['id']&&((_0x65f4cf=this['_evtLoadBy'+'Id'])==null||_0x65f4cf['off'](),this['_evtLoadBy'+'Id']=null,(_0x37ed41=this['_evtAddByI'+'d'])==null||_0x37ed41['off'](),this['_evtAddByI'+'d']=null,(_0x10f7de=this['_evtRemove'+'ById'])==null||_0x10f7de['off'](),this['_evtRemove'+'ById']=null,(_0x54948f=this['_evtUnload'+'ById'])==null||_0x54948f['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x4f5de9=this['_evtLoadBy'+'Url'])==null||_0x4f5de9['off'](),this['_evtLoadBy'+'Url']=null,(_0x23366f=this['_evtAddByU'+'rl'])==null||_0x23366f['off'](),this['_evtAddByU'+'rl']=null,(_0x438859=this['_evtRemove'+'ByUrl'])==null||_0x438859['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x17f5c3){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x17f5c3);}['_onAdd'](_0x26f1b1){this['asset']=_0x26f1b1,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x26f1b1);}['_onRemove'](_0x3a35d1){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3a35d1),this['asset']=null;}['_onUnload'](_0x5cfd8f){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5cfd8f);}}class fx extends ue{constructor(_0x518b80,_0xd39c56){super(_0x518b80,_0xd39c56),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x6d4+-0x1261+0x1935)),c(this,'_receiveSh'+'adows',!(0x103f+-0x137*-0xc+-0xd*0x25f)),c(this,'_castShado'+'wsLightmap',!(-0x904+0x194c+-0x1048)),c(this,'_lightmapp'+'ed',!(0x2*0x599+0x2*0x7c7+-0x1abf)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x290+0x1f8e+-0x221d),c(this,'isStatic',!(-0xfbd+0x1c1f+0x1*-0xc61)),c(this,'_batchGrou'+'pId',-(-0xe4+-0x123e*-0x2+0xbdd*-0x3)),c(this,'_layers',[Fi]),c(this,'_renderSty'+'le',yo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x518b80['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x518b80['defaultMat'+'erial'],_0xd39c56['on']('remove',this['onRemoveCh'+'ild'],this),_0xd39c56['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xd39c56['on']('insert',this['onInsertCh'+'ild'],this),_0xd39c56['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x19493f){this['_renderSty'+'le']!==_0x19493f&&(this['_renderSty'+'le']=_0x19493f,Le['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x19493f));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x2ad567){this['_customAab'+'b']=_0x2ad567;const _0x2b59ac=this['_meshInsta'+'nces'];if(_0x2b59ac){for(let _0x3c5169=0x25ff+-0x268a+0x8b;_0x3c5169<_0x2b59ac['length'];_0x3c5169++)_0x2b59ac[_0x3c5169]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2ec586){if(this['_type']!==_0x2ec586&&(this['_area']=null,this['_type']=_0x2ec586,this['destroyMes'+'hInstances'](),_0x2ec586!=='asset')){let _0x457efb=this['_material'];(!_0x457efb||_0x457efb===this['system']['defaultMat'+'erial'])&&(_0x457efb=this['_materialR'+'eferences'][0x258+0x1*0x16c2+0x2ca*-0x9]&&this['_materialR'+'eferences'][0x1*-0x1ab+0x87f+-0x6d4]['asset']&&this['_materialR'+'eferences'][-0x161b+-0xe06+0x2421]['asset']['resource']);const _0x1f4c27=cx(this['system']['app']['graphicsDe'+'vice'],_0x2ec586);this['_area']=_0x1f4c27['area'],this['meshInstan'+'ces']=[new Le(_0x1f4c27['mesh'],_0x457efb||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0xa0f1d0){if(v['assert'](Array['isArray'](_0xa0f1d0),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0xa0f1d0,this['_meshInsta'+'nces']){const _0x458eb5=this['_meshInsta'+'nces'];for(let _0x43a382=-0x1*-0x1c81+0x1*0x18f5+-0x2*0x1abb;_0x43a382<_0x458eb5['length'];_0x43a382++)_0x458eb5[_0x43a382]['node']||(_0x458eb5[_0x43a382]['node']=this['entity']),_0x458eb5[_0x43a382]['castShadow']=this['_castShado'+'ws'],_0x458eb5[_0x43a382]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x458eb5[_0x43a382]['renderStyl'+'e']=this['_renderSty'+'le'],_0x458eb5[_0x43a382]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x458eb5[_0x43a382]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x451566){if(_0x451566!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x451566;const _0x31d723=this['_meshInsta'+'nces'];if(_0x31d723){for(let _0x52215c=0x10f4*0x1+-0x49*0x75+0x1*0x1069;_0x52215c<_0x31d723['length'];_0x52215c++)_0x31d723[_0x52215c]['setLightma'+'pped'](_0x451566);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x226219){if(this['_castShado'+'ws']!==_0x226219){const _0x34a185=this['_meshInsta'+'nces'];if(_0x34a185){const _0x555a33=this['layers'],_0x2dfb5c=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x226219)for(let _0x417f39=0x69d*0x2+0x66e*-0x4+-0x2*-0x63f;_0x417f39<_0x555a33['length'];_0x417f39++){const _0x218e69=_0x2dfb5c['layers']['getLayerBy'+'Id'](this['layers'][_0x417f39]);_0x218e69&&_0x218e69['removeShad'+'owCasters'](_0x34a185);}for(let _0x36a6d5=0x287*0x2+0x3*0xc31+-0x29a1;_0x36a6d5<_0x34a185['length'];_0x36a6d5++)_0x34a185[_0x36a6d5]['castShadow']=_0x226219;if(!this['_castShado'+'ws']&&_0x226219)for(let _0x2e8655=0x1*-0x1553+-0x916*-0x2+0x327;_0x2e8655<_0x555a33['length'];_0x2e8655++){const _0x41a5da=_0x2dfb5c['layers']['getLayerBy'+'Id'](_0x555a33[_0x2e8655]);_0x41a5da&&_0x41a5da['addShadowC'+'asters'](_0x34a185);}}this['_castShado'+'ws']=_0x226219;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x3e219e){if(this['_receiveSh'+'adows']!==_0x3e219e){this['_receiveSh'+'adows']=_0x3e219e;const _0x5977eb=this['_meshInsta'+'nces'];if(_0x5977eb){for(let _0x5e1081=-0xc08+-0x279*0xf+0x1*0x311f;_0x5e1081<_0x5977eb['length'];_0x5e1081++)_0x5977eb[_0x5e1081]['receiveSha'+'dow']=_0x3e219e;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x5b022f){this['_castShado'+'wsLightmap']=_0x5b022f;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x1b6ffd){this['_lightmapS'+'izeMultipl'+'ier']=_0x1b6ffd;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x1ada1d){const _0x637199=this['system']['app']['scene']['layers'];let _0x21e8a4;if(this['_meshInsta'+'nces']){for(let _0x32ab5c=-0x1427+0x1*-0xe5+-0x4*-0x543;_0x32ab5c<this['_layers']['length'];_0x32ab5c++)_0x21e8a4=_0x637199['getLayerBy'+'Id'](this['_layers'][_0x32ab5c]),_0x21e8a4&&_0x21e8a4['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0xd61+-0xfd4*-0x1+-0x273;for(let _0x35f887=-0x2d7*-0x2+-0x230b+-0x1*-0x1d5d;_0x35f887<_0x1ada1d['length'];_0x35f887++)this['_layers'][_0x35f887]=_0x1ada1d[_0x35f887];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x27817f=0x1749+-0x111*-0xc+-0x1*0x2415;_0x27817f<this['_layers']['length'];_0x27817f++)_0x21e8a4=_0x637199['getLayerBy'+'Id'](this['_layers'][_0x27817f]),_0x21e8a4&&_0x21e8a4['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x5b2df5){var _0x43bbbf,_0x1027d7;this['_batchGrou'+'pId']!==_0x5b2df5&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x3e*0x2a+-0xe44+0x1*0x1870&&((_0x43bbbf=this['system']['app']['batcher'])==null||_0x43bbbf['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x5b2df5>=0x680+0xb*0x10+-0x730&&((_0x1027d7=this['system']['app']['batcher'])==null||_0x1027d7['insert'](et['RENDER'],_0x5b2df5,this['entity'])),_0x5b2df5<-0x1*0x2329+-0x174*-0x11+0xa75&&this['_batchGrou'+'pId']>=-0x716*-0x5+0x1aae+-0x3e1c&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x5b2df5);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x1d7770){if(this['_material']!==_0x1d7770&&(this['_material']=_0x1d7770,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x5d45eb=-0x1*-0x2051+-0x4dc*0x2+-0x59*0x41;_0x5d45eb<this['_meshInsta'+'nces']['length'];_0x5d45eb++)this['_meshInsta'+'nces'][_0x5d45eb]['material']=_0x1d7770;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x12e474=[]){if(this['_materialR'+'eferences']['length']>_0x12e474['length']){for(let _0x17b856=_0x12e474['length'];_0x17b856<this['_materialR'+'eferences']['length'];_0x17b856++)this['_materialR'+'eferences'][_0x17b856]['id']=null;this['_materialR'+'eferences']['length']=_0x12e474['length'];}for(let _0x406e49=0x1ff2+0xa7*-0x18+-0x104a;_0x406e49<_0x12e474['length'];_0x406e49++)if(this['_materialR'+'eferences'][_0x406e49]||this['_materialR'+'eferences']['push'](new Go(_0x406e49,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x12e474[_0x406e49]){const _0x3c1163=_0x12e474[_0x406e49]instanceof le?_0x12e474[_0x406e49]['id']:_0x12e474[_0x406e49];this['_materialR'+'eferences'][_0x406e49]['id']!==_0x3c1163&&(this['_materialR'+'eferences'][_0x406e49]['id']=_0x3c1163),this['_materialR'+'eferences'][_0x406e49]['asset']&&this['_onMateria'+'lAdded'](_0x406e49,this,this['_materialR'+'eferences'][_0x406e49]['asset']);}else this['_materialR'+'eferences'][_0x406e49]['id']=null,this['_meshInsta'+'nces'][_0x406e49]&&(this['_meshInsta'+'nces'][_0x406e49]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x2131ea=>_0x2131ea['id']);}set['asset'](_0x3e32cf){const _0x50d3c2=_0x3e32cf instanceof le?_0x3e32cf['id']:_0x3e32cf;this['_assetRefe'+'rence']['id']!==_0x50d3c2&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x50d3c2,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x53350f){const _0x2c2d81=_0x53350f instanceof le?_0x53350f['id']:_0x53350f;this['_assetRefe'+'rence']['id']=_0x2c2d81;}set['rootBone'](_0x439b8e){if(this['_rootBone']!==_0x439b8e){const _0x4d72f8=typeof _0x439b8e=='string';if(this['_rootBone']&&_0x4d72f8&&this['_rootBone']['getGuid']()===_0x439b8e)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x439b8e instanceof De?this['_rootBone']=_0x439b8e:_0x4d72f8?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x439b8e)||null,this['_rootBone']||v['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x16732d=this['_meshInsta'+'nces'];if(_0x16732d){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x2dce88=0xb82*-0x3+-0x8eb+0xe7b*0x3;_0x2dce88<_0x16732d['length'];_0x2dce88++)_0x16732d[_0x2dce88]['destroy']();this['_meshInsta'+'nces']['length']=0xd23+-0x14*0x59+-0x62f*0x1;}}['addToLayer'+'s'](){const _0x306fd0=this['system']['app']['scene']['layers'];for(let _0x223c13=0x237a+0x4*0x5e+-0x2*0x1279;_0x223c13<this['_layers']['length'];_0x223c13++){const _0x17708c=_0x306fd0['getLayerBy'+'Id'](this['_layers'][_0x223c13]);_0x17708c&&_0x17708c['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x1859aa=this['system']['app']['scene']['layers'];for(let _0x521cac=-0x12ec+-0x25fd*0x1+0x38e9;_0x521cac<this['_layers']['length'];_0x521cac++){const _0x75f3dd=_0x1859aa['getLayerBy'+'Id'](this['_layers'][_0x521cac]);_0x75f3dd&&_0x75f3dd['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x4463be=0x1*-0x8d5+0x1811*0x1+-0x9c*0x19;_0x4463be<this['_materialR'+'eferences']['length'];_0x4463be++)this['_materialR'+'eferences'][_0x4463be]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x53eecc,_0x373e5f){this['addToLayer'+'s'](),_0x53eecc['off']('add',this['onLayerAdd'+'ed'],this),_0x53eecc['off']('remove',this['onLayerRem'+'oved'],this),_0x373e5f['on']('add',this['onLayerAdd'+'ed'],this),_0x373e5f['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2b6125){this['layers']['indexOf'](_0x2b6125['id'])<0x1*0x34c+-0x57f*-0x2+0xe4a*-0x1||_0x2b6125['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x2a1906){this['layers']['indexOf'](_0x2a1906['id'])<0xdb*-0x5+0x259*-0x5+-0x19*-0xa4||_0x2a1906['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x4463d0;const _0x3cf6f9=this['system']['app'],_0x3caccf=_0x3cf6f9['scene'],_0x5c86d5=_0x3caccf['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x3caccf['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5c86d5&&(this['_evtLayerA'+'dded']=_0x5c86d5['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5c86d5['on']('remove',this['onLayerRem'+'oved'],this));const _0x5109c8=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x5109c8&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x42440a=-0xbfb*-0x1+0x1724+-0x231f;_0x42440a<this['_materialR'+'eferences']['length'];_0x42440a++)this['_materialR'+'eferences'][_0x42440a]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x42440a]['asset']);this['_batchGrou'+'pId']>=0x11b*0x6+-0xc7e+0x96*0xa&&((_0x4463d0=_0x3cf6f9['batcher'])==null||_0x4463d0['insert'](et['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x2a3b23,_0x42e39e,_0x79756a,_0x132a4b;const _0x41963f=this['system']['app'],_0x24d58=_0x41963f['scene']['layers'];(_0x2a3b23=this['_evtLayers'+'Changed'])==null||_0x2a3b23['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x24d58&&((_0x42e39e=this['_evtLayerA'+'dded'])==null||_0x42e39e['off'](),this['_evtLayerA'+'dded']=null,(_0x79756a=this['_evtLayerR'+'emoved'])==null||_0x79756a['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x2087+-0x1*-0x1576+-0x1*-0xb11&&((_0x132a4b=_0x41963f['batcher'])==null||_0x132a4b['remove'](et['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x55d817=-0x1*0xacf+0x225d+-0x178e;_0x55d817<this['_meshInsta'+'nces']['length'];_0x55d817++)this['_meshInsta'+'nces'][_0x55d817]['visible']=!(0x751+-0x8d1+0x181);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x13046a=-0x96c+0x1*0x45a+-0x3b*-0x16;_0x13046a<this['_meshInsta'+'nces']['length'];_0x13046a++)this['_meshInsta'+'nces'][_0x13046a]['visible']=!(-0x3*-0x5c1+0x19a2+-0x2ae5);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x208799;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x15c6f0=this['_assetRefe'+'rence']['asset']['resource'];(_0x208799=this['_evtSetMes'+'hes'])==null||_0x208799['off'](),this['_evtSetMes'+'hes']=_0x15c6f0['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x15c6f0['meshes']&&this['_onSetMesh'+'es'](_0x15c6f0['meshes']);}}['_onSetMesh'+'es'](_0x2097db){this['_cloneMesh'+'es'](_0x2097db);}['_clearSkin'+'Instances'](){for(let _0x53efe1=-0x1b*0x6d+-0x708+-0x3*-0x62d;_0x53efe1<this['_meshInsta'+'nces']['length'];_0x53efe1++){const _0x6519=this['_meshInsta'+'nces'][_0x53efe1];Vo['removeCach'+'edSkinInst'+'ance'](_0x6519['skinInstan'+'ce']),_0x6519['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof De)for(let _0x42fb14=-0x1d35+0x224+0x1b11;_0x42fb14<this['_meshInsta'+'nces']['length'];_0x42fb14++){const _0x46fb1e=this['_meshInsta'+'nces'][_0x42fb14],_0x2b1107=_0x46fb1e['mesh'];_0x2b1107['skin']&&!_0x46fb1e['skinInstan'+'ce']&&(_0x46fb1e['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x2b1107['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x2cf55a){if(_0x2cf55a&&_0x2cf55a['length']){const _0x13f134=[];for(let _0x3f43ed=-0x5f*-0x1b+-0x4c*0x2b+0x2bf;_0x3f43ed<_0x2cf55a['length'];_0x3f43ed++){const _0x3d6ad9=_0x2cf55a[_0x3f43ed],_0x4d7d26=this['_materialR'+'eferences'][_0x3f43ed]&&this['_materialR'+'eferences'][_0x3f43ed]['asset']&&this['_materialR'+'eferences'][_0x3f43ed]['asset']['resource'],_0x1605d2=new Le(_0x3d6ad9,_0x4d7d26||this['system']['defaultMat'+'erial'],this['entity']);_0x13f134['push'](_0x1605d2),_0x3d6ad9['morph']&&(_0x1605d2['morphInsta'+'nce']=new fn(_0x3d6ad9['morph']));}this['meshInstan'+'ces']=_0x13f134,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x2d6dad;(_0x2d6dad=this['_evtSetMes'+'hes'])==null||_0x2d6dad['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x3cc1a2,_0x38f398,_0x9fb9fe){_0x9fb9fe['resource']?this['_onMateria'+'lLoad'](_0x3cc1a2,_0x38f398,_0x9fb9fe):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x9fb9fe);}['_updateMai'+'nMaterial'](_0x5e319f,_0x3ddb44){_0x5e319f===-0x11f7+-0x1*-0x186d+-0x676&&(this['material']=_0x3ddb44);}['_onMateria'+'lLoad'](_0x159d8a,_0x2fad7b,_0x57dda3){this['_meshInsta'+'nces'][_0x159d8a]&&(this['_meshInsta'+'nces'][_0x159d8a]['material']=_0x57dda3['resource']),this['_updateMai'+'nMaterial'](_0x159d8a,_0x57dda3['resource']);}['_onMateria'+'lRemove'](_0x5adcbe,_0x524840,_0x197a15){this['_meshInsta'+'nces'][_0x5adcbe]&&(this['_meshInsta'+'nces'][_0x5adcbe]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5adcbe,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x59759f,_0x4da060,_0x4830cf){this['_meshInsta'+'nces'][_0x59759f]&&(this['_meshInsta'+'nces'][_0x59759f]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x59759f,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2e7623,_0x2721f3){_0x2e7623['rootBone']&&(this['rootBone']=_0x2721f3[_0x2e7623['rootBone']['getGuid']()]);}}class uI{constructor(){this['enabled']=!(-0x26d2+0x2051+0x3*0x22b);}}const pf=['enabled'],Mr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class fI extends Xe{constructor(_0x45c522){super(_0x45c522),this['id']='render',this['ComponentT'+'ype']=fx,this['DataType']=uI,this['schema']=pf,this['defaultMat'+'erial']=al(_0x45c522['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xa006b0,_0x25d85a,_0x4f99c1){(_0x25d85a['batchGroup'+'Id']===null||_0x25d85a['batchGroup'+'Id']===void(-0xbfc+0x1*0x14f3+-0x8f7))&&(_0x25d85a['batchGroup'+'Id']=-(-0x1*0x1a3f+-0x21e6+0x3c26)),_0x25d85a['layers']&&_0x25d85a['layers']['length']&&(_0x25d85a['layers']=_0x25d85a['layers']['slice'](-0xb42+-0x1ef6+-0x182*-0x1c));for(let _0x496a40=-0x1*0x260b+-0x25f8+0x4c03;_0x496a40<Mr['length'];_0x496a40++)_0x25d85a['hasOwnProp'+'erty'](Mr[_0x496a40])&&(_0xa006b0[Mr[_0x496a40]]=_0x25d85a[Mr[_0x496a40]]);_0x25d85a['aabbCenter']&&_0x25d85a['aabbHalfEx'+'tents']&&(_0xa006b0['customAabb']=new _e(new T(_0x25d85a['aabbCenter']),new T(_0x25d85a['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xa006b0,_0x25d85a,pf);}['cloneCompo'+'nent'](_0x3bc193,_0x214815){const _0x313447={};for(let _0x489765=0xf*-0x159+0x901*-0x2+0x2639;_0x489765<Mr['length'];_0x489765++)_0x313447[Mr[_0x489765]]=_0x3bc193['render'][Mr[_0x489765]];_0x313447['enabled']=_0x3bc193['render']['enabled'],delete _0x313447['meshInstan'+'ces'];const _0x183ab1=this['addCompone'+'nt'](_0x214815,_0x313447),_0x42b3ba=_0x3bc193['render']['meshInstan'+'ces'],_0x29bafe=_0x42b3ba['map'](_0x3a8e06=>_0x3a8e06['mesh']);_0x183ab1['_onSetMesh'+'es'](_0x29bafe);for(let _0x291f18=-0x23*-0x11b+-0xbcb*0x2+-0xf1b;_0x291f18<_0x42b3ba['length'];_0x291f18++)_0x183ab1['meshInstan'+'ces'][_0x291f18]['material']=_0x42b3ba[_0x291f18]['material'];return _0x3bc193['render']['customAabb']&&(_0x183ab1['customAabb']=_0x3bc193['render']['customAabb']['clone']()),_0x183ab1;}['onRemove'](_0x3ffd99,_0x4e7086){_0x4e7086['onRemove']();}}ue['_buildAcce'+'ssors'](fx['prototype'],pf);class Zd{constructor(_0x36082c,_0x37c369){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x1d*0x6b+0xd11+-0xf2),(this['_construct'+'or']=_0x36082c,this['_resize'](_0x37c369));}['_resize'](_0x7e9eef){if(_0x7e9eef>this['_pool']['length']){for(let _0x3cca0f=this['_pool']['length'];_0x3cca0f<_0x7e9eef;_0x3cca0f++)this['_pool'][_0x3cca0f]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x51e+-0x8*0x337+0x527*0x4)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x1bb1*-0x1+0x1*-0x1ba2+0x3753;}}let Vt,xe,gs,Wn;const pI=new se(),mI=new se(),Ql=new T();class Ws extends ue{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x21*-0x9+0x1eeb*-0x1+0x2014),c(this,'_angularFa'+'ctor',new T(0x1*0x61f+-0x11f6+0xbd8,-0x2617+0x307+0x2311,-0x4*-0x48+-0xa3*0x8+0x3f9)),c(this,'_angularVe'+'locity',new T()),c(this,'_body',null),c(this,'_friction',-0x4e1+-0x25c5+0x2aa6+0.5),c(this,'_group',og),c(this,'_linearDam'+'ping',0x8c7+0x20b+-0xad2),c(this,'_linearFac'+'tor',new T(0x158a+-0x100b+-0x57e,0x77*0x4+0xb8c+-0x49*0x2f,0x2438+0x961+-0x1*0x2d98)),c(this,'_linearVel'+'ocity',new T()),c(this,'_mask',af),c(this,'_mass',-0x1bf8+0xab2+0x1147*0x1),c(this,'_restituti'+'on',-0x1*-0x1759+0x2339+0x1386*-0x3),c(this,'_rollingFr'+'iction',-0xe*0x22a+-0x5*-0x62c+0x30*-0x3),c(this,'_simulatio'+'nEnabled',!(0x23e5*-0x1+0x13e0+0x1006)),c(this,'_type',so);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Vt=new Ammo['btTransfor'+'m'](),xe=new Ammo['btVector3'](),gs=new Ammo['btVector3'](),Wn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Vt),Ammo['destroy'](xe),Ammo['destroy'](gs),Ammo['destroy'](Wn),Vt=null,xe=null,gs=null,Wn=null;}set['angularDam'+'ping'](_0x1528a0){this['_angularDa'+'mping']!==_0x1528a0&&(this['_angularDa'+'mping']=_0x1528a0,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x1528a0));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x56ea07){this['_angularFa'+'ctor']['equals'](_0x56ea07)||(this['_angularFa'+'ctor']['copy'](_0x56ea07),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x56ea07['x'],_0x56ea07['y'],_0x56ea07['z']),this['_body']['setAngular'+'Factor'](xe)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x2ae229){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x2ae229['x'],_0x2ae229['y'],_0x2ae229['z']),this['_body']['setAngular'+'Velocity'](xe),this['_angularVe'+'locity']['copy'](_0x2ae229));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ms){const _0x1e91b1=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x1e91b1['x'](),_0x1e91b1['y'](),_0x1e91b1['z']());}return this['_angularVe'+'locity'];}set['body'](_0x11dc47){this['_body']!==_0x11dc47&&(this['_body']=_0x11dc47,_0x11dc47&&this['_simulatio'+'nEnabled']&&_0x11dc47['activate']());}get['body'](){return this['_body'];}set['friction'](_0x5bd58a){this['_friction']!==_0x5bd58a&&(this['_friction']=_0x5bd58a,this['_body']&&this['_body']['setFrictio'+'n'](_0x5bd58a));}get['friction'](){return this['_friction'];}set['group'](_0x3051e7){this['_group']!==_0x3051e7&&(this['_group']=_0x3051e7,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x549c73){this['_linearDam'+'ping']!==_0x549c73&&(this['_linearDam'+'ping']=_0x549c73,this['_body']&&this['_body']['setDamping'](_0x549c73,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x3371ff){this['_linearFac'+'tor']['equals'](_0x3371ff)||(this['_linearFac'+'tor']['copy'](_0x3371ff),this['_body']&&this['_type']===ms&&(xe['setValue'](_0x3371ff['x'],_0x3371ff['y'],_0x3371ff['z']),this['_body']['setLinearF'+'actor'](xe)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x2e7e01){this['_body']&&this['_type']===ms&&(this['_body']['activate'](),xe['setValue'](_0x2e7e01['x'],_0x2e7e01['y'],_0x2e7e01['z']),this['_body']['setLinearV'+'elocity'](xe),this['_linearVel'+'ocity']['copy'](_0x2e7e01));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ms){const _0xc847d7=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0xc847d7['x'](),_0xc847d7['y'](),_0xc847d7['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x93739e){this['_mask']!==_0x93739e&&(this['_mask']=_0x93739e,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x52db42){if(this['_mass']!==_0x52db42&&(this['_mass']=_0x52db42,this['_body']&&this['_type']===ms)){const _0x410c6f=this['enabled']&&this['entity']['enabled'];_0x410c6f&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x52db42,xe),this['_body']['setMassPro'+'ps'](_0x52db42,xe),this['_body']['updateIner'+'tiaTensor'](),_0x410c6f&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x1245ec){this['_restituti'+'on']!==_0x1245ec&&(this['_restituti'+'on']=_0x1245ec,this['_body']&&this['_body']['setRestitu'+'tion'](_0x1245ec));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x37736f){this['_rollingFr'+'iction']!==_0x37736f&&(this['_rollingFr'+'iction']=_0x37736f,this['_body']&&this['_body']['setRolling'+'Friction'](_0x37736f));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x580644){if(this['_type']!==_0x580644){switch(this['_type']=_0x580644,this['disableSim'+'ulation'](),_0x580644){case ms:this['_group']=tR,this['_mask']=hg;break;case Bn:this['_group']=sR,this['_mask']=hg;break;case so:default:this['_group']=og,this['_mask']=af;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x119e8c=this['entity'];let _0x55791f;if(_0x119e8c['collision']&&(_0x55791f=_0x119e8c['collision']['shape'],_0x119e8c['trigger']&&(_0x119e8c['trigger']['destroy'](),delete _0x119e8c['trigger'])),_0x55791f){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x2bc789=this['_type']===ms?this['_mass']:-0x23*0x84+-0x2cb*0x1+-0x5*-0x42b;this['_getEntity'+'Transform'](Vt);const _0x38fe03=this['system']['createBody'](_0x2bc789,_0x55791f,Vt);if(_0x38fe03['setRestitu'+'tion'](this['_restituti'+'on']),_0x38fe03['setFrictio'+'n'](this['_friction']),_0x38fe03['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x38fe03['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ms){const _0x951556=this['_linearFac'+'tor'];xe['setValue'](_0x951556['x'],_0x951556['y'],_0x951556['z']),_0x38fe03['setLinearF'+'actor'](xe);const _0x4e9949=this['_angularFa'+'ctor'];xe['setValue'](_0x4e9949['x'],_0x4e9949['y'],_0x4e9949['z']),_0x38fe03['setAngular'+'Factor'](xe);}else this['_type']===Bn&&(_0x38fe03['setCollisi'+'onFlags'](_0x38fe03['getCollisi'+'onFlags']()|eR),_0x38fe03['setActivat'+'ionState'](ag));_0x38fe03['entity']=_0x119e8c,this['body']=_0x38fe03,this['enabled']&&_0x119e8c['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x3*-0x977+0xb47+-0xf*0x2a5);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xdfde92=this['entity'];if(_0xdfde92['collision']&&_0xdfde92['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x3a6da3=this['_body'];if(_0x3a6da3){switch(this['system']['addBody'](_0x3a6da3,this['_group'],this['_mask']),this['_type']){case ms:this['system']['_dynamic']['push'](this),_0x3a6da3['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;case Bn:this['system']['_kinematic']['push'](this),_0x3a6da3['forceActiv'+'ationState'](ag);break;case so:_0x3a6da3['forceActiv'+'ationState'](nf),this['syncEntity'+'ToBody']();break;}_0xdfde92['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xdfde92['collision']),_0x3a6da3['activate'](),this['_simulatio'+'nEnabled']=!(0x1*-0x26b3+0x2141+-0x1*-0x572);}}}['disableSim'+'ulation'](){const _0x575bdd=this['_body'];if(_0x575bdd&&this['_simulatio'+'nEnabled']){const _0x4eaca6=this['system'];let _0x57eeea=_0x4eaca6['_compounds']['indexOf'](this['entity']['collision']);_0x57eeea>-(-0x2267+0x458+0x1e10)&&_0x4eaca6['_compounds']['splice'](_0x57eeea,-0x2699+0x1dd4+-0x1*-0x8c6),_0x57eeea=_0x4eaca6['_dynamic']['indexOf'](this),_0x57eeea>-(0x223b+0x15e1*0x1+-0x381b)&&_0x4eaca6['_dynamic']['splice'](_0x57eeea,0x16a9+0x1*-0x389+-0x3d3*0x5),_0x57eeea=_0x4eaca6['_kinematic']['indexOf'](this),_0x57eeea>-(0x55d*-0x5+0x1508+0x5ca)&&_0x4eaca6['_kinematic']['splice'](_0x57eeea,-0x1*-0x7cf+-0xa0c+-0x11f*-0x2),_0x4eaca6['removeBody'](_0x575bdd),_0x575bdd['forceActiv'+'ationState'](tx),this['_simulatio'+'nEnabled']=!(-0x1*0x1fde+-0xce+0x689*0x5);}}['applyForce'](_0x2b2684,_0x28799d,_0x1e25e0,_0x275aaf,_0x3d717a,_0x23a7fd){const _0x366ca1=this['_body'];_0x366ca1&&(_0x366ca1['activate'](),_0x2b2684 instanceof T?xe['setValue'](_0x2b2684['x'],_0x2b2684['y'],_0x2b2684['z']):xe['setValue'](_0x2b2684,_0x28799d,_0x1e25e0),_0x28799d instanceof T?gs['setValue'](_0x28799d['x'],_0x28799d['y'],_0x28799d['z']):_0x275aaf!==void(-0x22c0+0x2*-0x623+-0x39e*-0xd)?gs['setValue'](_0x275aaf,_0x3d717a,_0x23a7fd):gs['setValue'](-0x198*-0x11+-0x197b+0x1*-0x19d,0x230b*0x1+-0xe20+-0x55*0x3f,0x13eb+0x2*0x7a4+-0x2333),_0x366ca1['applyForce'](xe,gs));}['applyTorqu'+'e'](_0x42f22d,_0xc83ee1,_0x3c219f){const _0x4b4f1f=this['_body'];_0x4b4f1f&&(_0x4b4f1f['activate'](),_0x42f22d instanceof T?xe['setValue'](_0x42f22d['x'],_0x42f22d['y'],_0x42f22d['z']):xe['setValue'](_0x42f22d,_0xc83ee1,_0x3c219f),_0x4b4f1f['applyTorqu'+'e'](xe));}['applyImpul'+'se'](_0x33ef18,_0x2a50ce,_0x5b4a3f,_0x502615,_0x512798,_0x9f75bc){const _0x59cd59=this['_body'];_0x59cd59&&(_0x59cd59['activate'](),_0x33ef18 instanceof T?xe['setValue'](_0x33ef18['x'],_0x33ef18['y'],_0x33ef18['z']):xe['setValue'](_0x33ef18,_0x2a50ce,_0x5b4a3f),_0x2a50ce instanceof T?gs['setValue'](_0x2a50ce['x'],_0x2a50ce['y'],_0x2a50ce['z']):_0x502615!==void(-0x3*-0x57b+0x1e2e+-0x2e9f)?gs['setValue'](_0x502615,_0x512798,_0x9f75bc):gs['setValue'](-0xb*0x265+0x1*-0x187d+0x32d4,0x777+0x1cad+-0x2424,-0x143b+-0x1*0x1b1a+0x1*0x2f55),_0x59cd59['applyImpul'+'se'](xe,gs));}['applyTorqu'+'eImpulse'](_0x160d43,_0x51ac42,_0x19c1f0){const _0x5efd45=this['_body'];_0x5efd45&&(_0x5efd45['activate'](),_0x160d43 instanceof T?xe['setValue'](_0x160d43['x'],_0x160d43['y'],_0x160d43['z']):xe['setValue'](_0x160d43,_0x51ac42,_0x19c1f0),_0x5efd45['applyTorqu'+'eImpulse'](xe));}['isStatic'](){return this['_type']===so;}['isStaticOr'+'Kinematic'](){return this['_type']===so||this['_type']===Bn;}['isKinemati'+'c'](){return this['_type']===Bn;}['_getEntity'+'Transform'](_0x2ca4aa){const _0x168652=this['entity'],_0x5eb336=_0x168652['collision'];if(_0x5eb336){const _0x25cb75=_0x5eb336['getShapePo'+'sition'](),_0xc45b2c=_0x5eb336['getShapeRo'+'tation']();xe['setValue'](_0x25cb75['x'],_0x25cb75['y'],_0x25cb75['z']),Wn['setValue'](_0xc45b2c['x'],_0xc45b2c['y'],_0xc45b2c['z'],_0xc45b2c['w']);}else{const _0x55fa28=_0x168652['getPositio'+'n'](),_0xe3558e=_0x168652['getRotatio'+'n']();xe['setValue'](_0x55fa28['x'],_0x55fa28['y'],_0x55fa28['z']),Wn['setValue'](_0xe3558e['x'],_0xe3558e['y'],_0xe3558e['z'],_0xe3558e['w']);}_0x2ca4aa['setOrigin'](xe),_0x2ca4aa['setRotatio'+'n'](Wn);}['syncEntity'+'ToBody'](){const _0x306161=this['_body'];if(_0x306161){if(this['_getEntity'+'Transform'](Vt),_0x306161['setWorldTr'+'ansform'](Vt),this['_type']===Bn){const _0x4f2258=_0x306161['getMotionS'+'tate']();_0x4f2258&&_0x4f2258['setWorldTr'+'ansform'](Vt);}_0x306161['activate']();}}['_updateDyn'+'amic'](){const _0x3e311e=this['_body'];if(_0x3e311e['isActive']()){const _0x4c7f00=_0x3e311e['getMotionS'+'tate']();if(_0x4c7f00){const _0x436759=this['entity'];_0x4c7f00['getWorldTr'+'ansform'](Vt);const _0x7576b4=Vt['getOrigin'](),_0x49be57=Vt['getRotatio'+'n'](),_0x22e7c1=_0x436759['collision'];if(_0x22e7c1&&_0x22e7c1['_hasOffset']){const _0x33811e=_0x22e7c1['data']['linearOffs'+'et'],_0x52597f=_0x22e7c1['data']['angularOff'+'set'],_0x35d552=mI['copy'](_0x52597f)['invert'](),_0x22895b=pI['set'](_0x49be57['x'](),_0x49be57['y'](),_0x49be57['z'](),_0x49be57['w']())['mul'](_0x35d552);_0x22895b['transformV'+'ector'](_0x33811e,Ql),_0x436759['setPositio'+'n'](_0x7576b4['x']()-Ql['x'],_0x7576b4['y']()-Ql['y'],_0x7576b4['z']()-Ql['z']),_0x436759['setRotatio'+'n'](_0x22895b);}else _0x436759['setPositio'+'n'](_0x7576b4['x'](),_0x7576b4['y'](),_0x7576b4['z']()),_0x436759['setRotatio'+'n'](_0x49be57['x'](),_0x49be57['y'](),_0x49be57['z'](),_0x49be57['w']());}}}['_updateKin'+'ematic'](){const _0x5e7b64=this['_body']['getMotionS'+'tate']();_0x5e7b64&&(this['_getEntity'+'Transform'](Vt),_0x5e7b64['setWorldTr'+'ansform'](Vt));}['teleport'](_0x44e568,_0x25dd1c,_0x1275f7,_0x427f73,_0x489959,_0x2cc6f6){_0x44e568 instanceof T?this['entity']['setPositio'+'n'](_0x44e568):this['entity']['setPositio'+'n'](_0x44e568,_0x25dd1c,_0x1275f7),_0x25dd1c instanceof se?this['entity']['setRotatio'+'n'](_0x25dd1c):_0x25dd1c instanceof T?this['entity']['setEulerAn'+'gles'](_0x25dd1c):_0x427f73!==void(0x4*-0x58+0x9eb+-0x88b)&&this['entity']['setEulerAn'+'gles'](_0x427f73,_0x489959,_0x2cc6f6),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ws,'EVENT_CONT'+'ACT','contact'),c(Ws,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ws,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ws,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ws,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ws,'order',-(-0x39e+-0x11f5+0x1594*0x1));class _I{constructor(){this['enabled']=!(0xf0e+0x1*-0xdaf+-0x15f);}}let ai,oi;class xg{constructor(_0x47732d,_0x4bdb31,_0x4dec77,_0x189cfb){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x47732d,this['point']=_0x4bdb31,this['normal']=_0x4dec77,this['hitFractio'+'n']=_0x189cfb);}}class gI{constructor(_0x361969,_0x4a0476,_0xd64345){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0xe52+0x8d8+0x57a?(this['a']=_0x361969,this['b']=_0x4a0476,this['impulse']=_0xd64345['impulse'],this['localPoint'+'A']=_0xd64345['localPoint'],this['localPoint'+'B']=_0xd64345['localPoint'+'Other'],this['pointA']=_0xd64345['point'],this['pointB']=_0xd64345['pointOther'],this['normal']=_0xd64345['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x36e*-0x3+0x935+-0x137f,this['localPoint'+'A']=new T(),this['localPoint'+'B']=new T(),this['pointA']=new T(),this['pointB']=new T(),this['normal']=new T());}}class yI{constructor(_0x2af063=new T(),_0x25cb13=new T(),_0x3323b2=new T(),_0x72141b=new T(),_0x3c923b=new T(),_0x1f113b=0x1056+-0x53*0x43+0x1*0x563){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x2af063,this['localPoint'+'Other']=_0x25cb13,this['point']=_0x3323b2,this['pointOther']=_0x72141b,this['normal']=_0x3c923b,this['impulse']=_0x1f113b);}}class xI{constructor(_0x436ea6,_0x5b812f){c(this,'other'),c(this,'contacts'),(this['other']=_0x436ea6,this['contacts']=_0x5b812f);}}const px=['enabled'];class mx extends Xe{constructor(_0x5dbce9){super(_0x5dbce9),c(this,'maxSubStep'+'s',0x1623*-0x1+0x2278+-0xc4b),c(this,'fixedTimeS'+'tep',(-0x1ff*0x2+0x168b+-0x128c)/(0xc4d*-0x1+-0x2ac+0xf35)),c(this,'gravity',new T(-0x1d27+0x1672+-0x11*-0x65,-(-0x85*0x3+0x1e36+0x14d*-0x16+0.8100000000000005),-0xc68+-0x264b+0x32b3)),c(this,'_gravityFl'+'oat32',new Float32Array(-0x1a52*0x1+-0x38*0xc+-0x15*-0x161)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x5dbce9['stats']['frame'],this['ComponentT'+'ype']=Ws,this['DataType']=_I,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=px,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x3e4645=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x3e4645);}else v['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');ai=new Ammo['btVector3'](),oi=new Ammo['btVector3'](),Ws['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new Zd(yI,0x6*0x4cf+-0x31*0x2b+-0x149e),this['contactRes'+'ultPool']=new Zd(xI,0x7*0x25c+0x267b*-0x1+0x15f8),this['singleCont'+'actResultP'+'ool']=new Zd(gI,-0x75a+-0x1614+0x1d6f),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x588223,_0x2c6b94,_0x1241b0){const _0x5c427d=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x43f7dc of _0x5c427d)if(_0x2c6b94['hasOwnProp'+'erty'](_0x43f7dc)){const _0x504881=_0x2c6b94[_0x43f7dc];Array['isArray'](_0x504881)?_0x588223[_0x43f7dc]=new T(_0x504881[0x16*-0xd3+0x49*0x1f+0x94b],_0x504881[0x1c63+-0x13d*0x7+0x13b7*-0x1],_0x504881[-0x8*-0xa+-0x12ab+0x1*0x125d]):_0x588223[_0x43f7dc]=_0x504881;}super['initialize'+'ComponentD'+'ata'](_0x588223,_0x2c6b94,['enabled']);}['cloneCompo'+'nent'](_0x3cd57a,_0x5bced1){const _0x2e54d9=_0x3cd57a['rigidbody'],_0x1a8092={'enabled':_0x2e54d9['enabled'],'mass':_0x2e54d9['mass'],'linearDamping':_0x2e54d9['linearDamp'+'ing'],'angularDamping':_0x2e54d9['angularDam'+'ping'],'linearFactor':[_0x2e54d9['linearFact'+'or']['x'],_0x2e54d9['linearFact'+'or']['y'],_0x2e54d9['linearFact'+'or']['z']],'angularFactor':[_0x2e54d9['angularFac'+'tor']['x'],_0x2e54d9['angularFac'+'tor']['y'],_0x2e54d9['angularFac'+'tor']['z']],'friction':_0x2e54d9['friction'],'rollingFriction':_0x2e54d9['rollingFri'+'ction'],'restitution':_0x2e54d9['restitutio'+'n'],'type':_0x2e54d9['type'],'group':_0x2e54d9['group'],'mask':_0x2e54d9['mask']};return this['addCompone'+'nt'](_0x5bced1,_0x1a8092);}['onBeforeRe'+'move'](_0x2cc301,_0x364f6b){_0x364f6b['enabled']&&(_0x364f6b['enabled']=!(-0x1*0x2353+-0x1610+-0x1cb2*-0x2)),_0x364f6b['body']&&(this['destroyBod'+'y'](_0x364f6b['body']),_0x364f6b['body']=null);}['addBody'](_0x1b158a,_0x5665c6,_0x3857c7){_0x5665c6!==void(-0x545*-0x1+0x1fda+-0x251f)&&_0x3857c7!==void(-0x1*-0x5c7+0x2*0x5bc+-0x113f)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1b158a,_0x5665c6,_0x3857c7):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1b158a);}['removeBody'](_0x289a0b){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x289a0b);}['createBody'](_0x593b82,_0x221fef,_0x5cdbfe){const _0x3f2b1b=new Ammo['btVector3'](0x1c21+-0x3*-0x291+-0x23d4,-0x2345*0x1+-0x16fb+0x3a40,-0x264f+-0x1bd1*-0x1+-0x22*-0x4f);_0x593b82!==0x135b+0xc5*0x23+-0x2e4a&&_0x221fef['calculateL'+'ocalInerti'+'a'](_0x593b82,_0x3f2b1b);const _0x59392b=new Ammo['btDefaultM'+'otionState'](_0x5cdbfe),_0x120e24=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x593b82,_0x59392b,_0x221fef,_0x3f2b1b),_0x21ef9c=new Ammo['btRigidBod'+'y'](_0x120e24);return Ammo['destroy'](_0x120e24),Ammo['destroy'](_0x3f2b1b),_0x21ef9c;}['destroyBod'+'y'](_0x1a422e){const _0x5ca60e=_0x1a422e['getMotionS'+'tate']();_0x5ca60e&&Ammo['destroy'](_0x5ca60e),Ammo['destroy'](_0x1a422e);}['raycastFir'+'st'](_0x5e3736,_0x2952d1,_0x24cb70={}){if(_0x24cb70['filterTags']||_0x24cb70['filterCall'+'back'])return _0x24cb70['sort']=!(-0xab0+0x11a8*-0x2+0x40*0xb8),this['raycastAll'](_0x5e3736,_0x2952d1,_0x24cb70)[0x891+0x36f*0x3+-0x46*0x45]||null;let _0x84da55=null;ai['setValue'](_0x5e3736['x'],_0x5e3736['y'],_0x5e3736['z']),oi['setValue'](_0x2952d1['x'],_0x2952d1['y'],_0x2952d1['z']);const _0x15c75c=new Ammo['ClosestRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x24cb70['filterColl'+'isionGroup']=='number'&&_0x15c75c['set_m_coll'+'isionFilte'+'rGroup'](_0x24cb70['filterColl'+'isionGroup']),typeof _0x24cb70['filterColl'+'isionMask']=='number'&&_0x15c75c['set_m_coll'+'isionFilte'+'rMask'](_0x24cb70['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x15c75c),_0x15c75c['hasHit']()){const _0x339af6=_0x15c75c['get_m_coll'+'isionObjec'+'t'](),_0x4bf040=Ammo['castObject'](_0x339af6,Ammo['btRigidBod'+'y']);if(_0x4bf040){const _0x3b5f0d=_0x15c75c['get_m_hitP'+'ointWorld'](),_0x5706c9=_0x15c75c['get_m_hitN'+'ormalWorld']();_0x84da55=new xg(_0x4bf040['entity'],new T(_0x3b5f0d['x'](),_0x3b5f0d['y'](),_0x3b5f0d['z']()),new T(_0x5706c9['x'](),_0x5706c9['y'](),_0x5706c9['z']()),_0x15c75c['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x15c75c),_0x84da55;}['raycastAll'](_0x335143,_0x24aab9,_0x2147f8={}){v['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x417cbe=[];ai['setValue'](_0x335143['x'],_0x335143['y'],_0x335143['z']),oi['setValue'](_0x24aab9['x'],_0x24aab9['y'],_0x24aab9['z']);const _0x3f4d8c=new Ammo['AllHitsRay'+'ResultCall'+'back'](ai,oi);if(typeof _0x2147f8['filterColl'+'isionGroup']=='number'&&_0x3f4d8c['set_m_coll'+'isionFilte'+'rGroup'](_0x2147f8['filterColl'+'isionGroup']),typeof _0x2147f8['filterColl'+'isionMask']=='number'&&_0x3f4d8c['set_m_coll'+'isionFilte'+'rMask'](_0x2147f8['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](ai,oi,_0x3f4d8c),_0x3f4d8c['hasHit']()){const _0x33618a=_0x3f4d8c['get_m_coll'+'isionObjec'+'ts'](),_0xd64b4a=_0x3f4d8c['get_m_hitP'+'ointWorld'](),_0x111f1b=_0x3f4d8c['get_m_hitN'+'ormalWorld'](),_0x33d2e6=_0x3f4d8c['get_m_hitF'+'ractions'](),_0x364c5f=_0x33618a['size']();for(let _0x2d1a18=0x25e1+0x6*-0xae+0x11*-0x1fd;_0x2d1a18<_0x364c5f;_0x2d1a18++){const _0x4d1a24=Ammo['castObject'](_0x33618a['at'](_0x2d1a18),Ammo['btRigidBod'+'y']);if(_0x4d1a24&&_0x4d1a24['entity']){if(_0x2147f8['filterTags']&&!_0x4d1a24['entity']['tags']['has'](..._0x2147f8['filterTags'])||_0x2147f8['filterCall'+'back']&&!_0x2147f8['filterCall'+'back'](_0x4d1a24['entity']))continue;const _0x4a8e86=_0xd64b4a['at'](_0x2d1a18),_0x4c462e=_0x111f1b['at'](_0x2d1a18),_0x57b042=new xg(_0x4d1a24['entity'],new T(_0x4a8e86['x'](),_0x4a8e86['y'](),_0x4a8e86['z']()),new T(_0x4c462e['x'](),_0x4c462e['y'](),_0x4c462e['z']()),_0x33d2e6['at'](_0x2d1a18));_0x417cbe['push'](_0x57b042);}}_0x2147f8['sort']&&_0x417cbe['sort']((_0x74b74f,_0x309c43)=>_0x74b74f['hitFractio'+'n']-_0x309c43['hitFractio'+'n']);}return Ammo['destroy'](_0x3f4d8c),_0x417cbe;}['_storeColl'+'ision'](_0x2148e0,_0x132a6f){let _0x12ce0d=!(0x2102+-0x139c+-0xd65*0x1);const _0x570824=_0x2148e0['getGuid']();return this['collisions'][_0x570824]=this['collisions'][_0x570824]||{'others':[],'entity':_0x2148e0},this['collisions'][_0x570824]['others']['indexOf'](_0x132a6f)<-0xc6b+-0x1*0x103c+-0x1e9*-0xf&&(this['collisions'][_0x570824]['others']['push'](_0x132a6f),_0x12ce0d=!(0x1cc*-0xb+-0x2e0+-0x5a9*-0x4)),this['frameColli'+'sions'][_0x570824]=this['frameColli'+'sions'][_0x570824]||{'others':[],'entity':_0x2148e0},this['frameColli'+'sions'][_0x570824]['others']['push'](_0x132a6f),_0x12ce0d;}['_createCon'+'tactPointF'+'romAmmo'](_0x5b4b6b){const _0x381f16=_0x5b4b6b['get_m_loca'+'lPointA'](),_0x286998=_0x5b4b6b['get_m_loca'+'lPointB'](),_0x5223b3=_0x5b4b6b['getPositio'+'nWorldOnA'](),_0x55860b=_0x5b4b6b['getPositio'+'nWorldOnB'](),_0x4e5f2c=_0x5b4b6b['get_m_norm'+'alWorldOnB'](),_0x4d11ca=this['contactPoi'+'ntPool']['allocate']();return _0x4d11ca['localPoint']['set'](_0x381f16['x'](),_0x381f16['y'](),_0x381f16['z']()),_0x4d11ca['localPoint'+'Other']['set'](_0x286998['x'](),_0x286998['y'](),_0x286998['z']()),_0x4d11ca['point']['set'](_0x5223b3['x'](),_0x5223b3['y'](),_0x5223b3['z']()),_0x4d11ca['pointOther']['set'](_0x55860b['x'](),_0x55860b['y'](),_0x55860b['z']()),_0x4d11ca['normal']['set'](_0x4e5f2c['x'](),_0x4e5f2c['y'](),_0x4e5f2c['z']()),_0x4d11ca['impulse']=_0x5b4b6b['getApplied'+'Impulse'](),_0x4d11ca;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x167083){const _0x465cca=_0x167083['get_m_loca'+'lPointA'](),_0x184abc=_0x167083['get_m_loca'+'lPointB'](),_0x2eebcd=_0x167083['getPositio'+'nWorldOnA'](),_0x469cf6=_0x167083['getPositio'+'nWorldOnB'](),_0x2dac5d=_0x167083['get_m_norm'+'alWorldOnB'](),_0x1557e5=this['contactPoi'+'ntPool']['allocate']();return _0x1557e5['localPoint'+'Other']['set'](_0x465cca['x'](),_0x465cca['y'](),_0x465cca['z']()),_0x1557e5['localPoint']['set'](_0x184abc['x'](),_0x184abc['y'](),_0x184abc['z']()),_0x1557e5['pointOther']['set'](_0x2eebcd['x'](),_0x2eebcd['y'](),_0x2eebcd['z']()),_0x1557e5['point']['set'](_0x469cf6['x'](),_0x469cf6['y'](),_0x469cf6['z']()),_0x1557e5['normal']['set'](_0x2dac5d['x'](),_0x2dac5d['y'](),_0x2dac5d['z']()),_0x1557e5['impulse']=_0x167083['getApplied'+'Impulse'](),_0x1557e5;}['_createSin'+'gleContact'+'Result'](_0x18ab4a,_0x43e1ba,_0x4d5aec){const _0xc39a9=this['singleCont'+'actResultP'+'ool']['allocate']();return _0xc39a9['a']=_0x18ab4a,_0xc39a9['b']=_0x43e1ba,_0xc39a9['localPoint'+'A']=_0x4d5aec['localPoint'],_0xc39a9['localPoint'+'B']=_0x4d5aec['localPoint'+'Other'],_0xc39a9['pointA']=_0x4d5aec['point'],_0xc39a9['pointB']=_0x4d5aec['pointOther'],_0xc39a9['normal']=_0x4d5aec['normal'],_0xc39a9['impulse']=_0x4d5aec['impulse'],_0xc39a9;}['_createCon'+'tactResult'](_0x28780c,_0xfc6ef4){const _0x16b93c=this['contactRes'+'ultPool']['allocate']();return _0x16b93c['other']=_0x28780c,_0x16b93c['contacts']=_0xfc6ef4,_0x16b93c;}['_cleanOldC'+'ollisions'](){for(const _0x3ab76e in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x3ab76e)){const _0x19f04f=this['frameColli'+'sions'][_0x3ab76e],_0x3341a5=this['collisions'][_0x3ab76e],_0x450f3a=_0x3341a5['entity'],_0x56e563=_0x450f3a['collision'],_0x1709a7=_0x450f3a['rigidbody'],_0x28198c=_0x3341a5['others'];let _0xe541f7=_0x28198c['length'];for(;_0xe541f7--;){const _0x14e507=_0x28198c[_0xe541f7];(!_0x19f04f||_0x19f04f['others']['indexOf'](_0x14e507)<-0x3dd+0x2*0x757+0xd*-0xd5)&&(_0x28198c['splice'](_0xe541f7,0x19ff+0x206f+-0x3a6d),_0x450f3a['trigger']?(_0x56e563&&_0x56e563['fire']('triggerlea'+'ve',_0x14e507),_0x14e507['rigidbody']&&_0x14e507['rigidbody']['fire']('triggerlea'+'ve',_0x450f3a)):_0x14e507['trigger']||(_0x1709a7&&_0x1709a7['fire']('collisione'+'nd',_0x14e507),_0x56e563&&_0x56e563['fire']('collisione'+'nd',_0x14e507)));}_0x28198c['length']===0xb*-0x167+-0x2166+0x30d3&&delete this['collisions'][_0x3ab76e];}}['_hasContac'+'tEvent'](_0x307483){const _0x4e47e1=_0x307483['collision'];if(_0x4e47e1&&(_0x4e47e1['hasEvent']('collisions'+'tart')||_0x4e47e1['hasEvent']('collisione'+'nd')||_0x4e47e1['hasEvent']('contact')))return!(-0x85d*0x3+0xf51+-0x9*-0x116);const _0x344155=_0x307483['rigidbody'];return _0x344155&&(_0x344155['hasEvent']('collisions'+'tart')||_0x344155['hasEvent']('collisione'+'nd')||_0x344155['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x2e1513,_0x124f51){const _0xc1f477=Ammo['wrapPointe'+'r'](_0x2e1513,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x427962=_0xc1f477['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x14d24e=0x1*0x3d1+-0x2610+0x223f;_0x14d24e<_0x427962;_0x14d24e++){const _0x126352=_0xc1f477['getManifol'+'dByIndexIn'+'ternal'](_0x14d24e),_0x4c2630=_0x126352['getBody0'](),_0x65e15f=_0x126352['getBody1'](),_0x39bf1b=Ammo['castObject'](_0x4c2630,Ammo['btRigidBod'+'y']),_0x3b909b=Ammo['castObject'](_0x65e15f,Ammo['btRigidBod'+'y']),_0x12b9ad=_0x39bf1b['entity'],_0x126c25=_0x3b909b['entity'];if(!_0x12b9ad||!_0x126c25)continue;const _0x55cfdb=_0x39bf1b['getCollisi'+'onFlags'](),_0x2dde27=_0x3b909b['getCollisi'+'onFlags'](),_0x393fba=_0x126352['getNumCont'+'acts'](),_0x574f5f=[],_0x474d50=[];let _0xfae761;if(_0x393fba>-0x1abb+-0xaa*0x2e+0x3947){if(_0x55cfdb&lo||_0x2dde27&lo){const _0x4c4f75=_0x12b9ad['collision']&&(_0x12b9ad['collision']['hasEvent']('triggerent'+'er')||_0x12b9ad['collision']['hasEvent']('triggerlea'+'ve')),_0x1928a5=_0x126c25['collision']&&(_0x126c25['collision']['hasEvent']('triggerent'+'er')||_0x126c25['collision']['hasEvent']('triggerlea'+'ve')),_0x28a547=_0x12b9ad['rigidbody']&&(_0x12b9ad['rigidbody']['hasEvent']('triggerent'+'er')||_0x12b9ad['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x18e72e=_0x126c25['rigidbody']&&(_0x126c25['rigidbody']['hasEvent']('triggerent'+'er')||_0x126c25['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x4c4f75&&(_0xfae761=this['_storeColl'+'ision'](_0x12b9ad,_0x126c25),_0xfae761&&!(_0x2dde27&lo)&&_0x12b9ad['collision']['fire']('triggerent'+'er',_0x126c25)),_0x1928a5&&(_0xfae761=this['_storeColl'+'ision'](_0x126c25,_0x12b9ad),_0xfae761&&!(_0x55cfdb&lo)&&_0x126c25['collision']['fire']('triggerent'+'er',_0x12b9ad)),_0x28a547&&(_0xfae761||(_0xfae761=this['_storeColl'+'ision'](_0x126c25,_0x12b9ad)),_0xfae761&&_0x12b9ad['rigidbody']['fire']('triggerent'+'er',_0x126c25)),_0x18e72e&&(_0xfae761||(_0xfae761=this['_storeColl'+'ision'](_0x12b9ad,_0x126c25)),_0xfae761&&_0x126c25['rigidbody']['fire']('triggerent'+'er',_0x12b9ad));}else{const _0x8c533e=this['_hasContac'+'tEvent'](_0x12b9ad),_0x354d39=this['_hasContac'+'tEvent'](_0x126c25),_0x5b6c4b=this['hasEvent']('contact');if(_0x5b6c4b||_0x8c533e||_0x354d39){for(let _0x24443f=0x1471+0x1*-0x482+-0x1*0xfef;_0x24443f<_0x393fba;_0x24443f++){const _0x1194a2=_0x126352['getContact'+'Point'](_0x24443f),_0x5a8a27=this['_createCon'+'tactPointF'+'romAmmo'](_0x1194a2);if(_0x8c533e||_0x354d39){_0x574f5f['push'](_0x5a8a27);const _0x43dbd4=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1194a2);_0x474d50['push'](_0x43dbd4);}if(_0x5b6c4b){const _0x4a6605=this['_createSin'+'gleContact'+'Result'](_0x12b9ad,_0x126c25,_0x5a8a27);this['fire']('contact',_0x4a6605);}}if(_0x8c533e){const _0x20dedf=this['_createCon'+'tactResult'](_0x126c25,_0x574f5f);_0xfae761=this['_storeColl'+'ision'](_0x12b9ad,_0x126c25),_0x12b9ad['collision']&&(_0x12b9ad['collision']['fire']('contact',_0x20dedf),_0xfae761&&_0x12b9ad['collision']['fire']('collisions'+'tart',_0x20dedf)),_0x12b9ad['rigidbody']&&(_0x12b9ad['rigidbody']['fire']('contact',_0x20dedf),_0xfae761&&_0x12b9ad['rigidbody']['fire']('collisions'+'tart',_0x20dedf));}if(_0x354d39){const _0x293ba7=this['_createCon'+'tactResult'](_0x12b9ad,_0x474d50);_0xfae761=this['_storeColl'+'ision'](_0x126c25,_0x12b9ad),_0x126c25['collision']&&(_0x126c25['collision']['fire']('contact',_0x293ba7),_0xfae761&&_0x126c25['collision']['fire']('collisions'+'tart',_0x293ba7)),_0x126c25['rigidbody']&&(_0x126c25['rigidbody']['fire']('contact',_0x293ba7),_0xfae761&&_0x126c25['rigidbody']['fire']('collisions'+'tart',_0x293ba7));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x388b2d){let _0xfa28cf,_0x57359a;this['_stats']['physicsSta'+'rt']=ne(),this['_gravityFl'+'oat32'][-0x1*0x7a5+0xa8f+-0x2ea]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0x2*-0x5ad+0x5*-0x18e+-0x393]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x1de4+-0x1d7*0x12+0x4*0xfc1]=this['gravity']['z'];const _0x3247db=this['dynamicsWo'+'rld']['getGravity']();(_0x3247db['x']()!==this['_gravityFl'+'oat32'][0xeb*0x21+0x2250+-0x409b]||_0x3247db['y']()!==this['_gravityFl'+'oat32'][-0x2502+0x1ad9+0xa2a]||_0x3247db['z']()!==this['_gravityFl'+'oat32'][0x6b3+-0x1926+0x1275])&&(_0x3247db['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x3247db));const _0x23ed50=this['_triggers'];for(_0xfa28cf=-0x1990+0x2*0x180+0x1690,_0x57359a=_0x23ed50['length'];_0xfa28cf<_0x57359a;_0xfa28cf++)_0x23ed50[_0xfa28cf]['updateTran'+'sform']();const _0x590cb5=this['_compounds'];for(_0xfa28cf=0xcf1+0x211*-0x12+0x1841,_0x57359a=_0x590cb5['length'];_0xfa28cf<_0x57359a;_0xfa28cf++)_0x590cb5[_0xfa28cf]['_updateCom'+'pound']();const _0x6cea48=this['_kinematic'];for(_0xfa28cf=-0x1280+-0x19aa+0x1*0x2c2a,_0x57359a=_0x6cea48['length'];_0xfa28cf<_0x57359a;_0xfa28cf++)_0x6cea48[_0xfa28cf]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x388b2d,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x2361fe=this['_dynamic'];for(_0xfa28cf=-0x1*0x49f+-0x1*-0x16c+0x333,_0x57359a=_0x2361fe['length'];_0xfa28cf<_0x57359a;_0xfa28cf++)_0x2361fe[_0xfa28cf]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x388b2d),this['_stats']['physicsTim'+'e']=ne()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](ai),Ammo['destroy'](oi),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,ai=null,oi=null,Ws['onAppDestr'+'oy']());}}c(mx,'EVENT_CONT'+'ACT','contact'),ue['_buildAcce'+'ssors'](Ws['prototype'],px);const $n='none',SI='blend',Sg=new q();class _x extends ue{constructor(_0xfa37c1,_0x5e4a85){super(_0xfa37c1,_0x5e4a85),this['_resolutio'+'n']=new W(0x3*0xa76+-0x1594*0x1+0x16*-0x55,-0x19fb+-0x7a4+0x22df),this['_reference'+'Resolution']=new W(-0x733+-0xa61*-0x1+-0x1d*0x6,0x7f*0x41+-0x7fc+-0x1703),this['_scaleMode']=$n,this['scale']=-0x256c+-0x12bb+0x3828,this['_scaleBlen'+'d']=0x1d84+0x11f0+-0x2f74+0.5,this['_priority']=-0x36*-0x59+-0x6*0x305+-0xa8,this['_screenSpa'+'ce']=!(0x235d+-0x1f25+0xd*-0x53),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0xfa37c1['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x16a520,_0x42e7b8){var _0x3fdb29;if(!(_0x16a520 instanceof We))return _0x42e7b8;if(_0x16a520['element']){const _0x860031=_0x16a520['element']['drawOrder'];_0x16a520['element']['drawOrder']=_0x42e7b8++,_0x16a520['element']['_batchGrou'+'pId']>=-0x240c+-0x1025+-0x3431*-0x1&&_0x860031!==_0x16a520['element']['drawOrder']&&((_0x3fdb29=this['system']['app']['batcher'])==null||_0x3fdb29['markGroupD'+'irty'](_0x16a520['element']['_batchGrou'+'pId']));}_0x16a520['particlesy'+'stem']&&(_0x16a520['particlesy'+'stem']['drawOrder']=_0x42e7b8++);const _0x222970=_0x16a520['children'];for(let _0x1a1b45=-0x1c9e+0x26bb+-0x3*0x35f;_0x1a1b45<_0x222970['length'];_0x1a1b45++)_0x42e7b8=this['_recurseDr'+'awOrderSyn'+'c'](_0x222970[_0x1a1b45],_0x42e7b8);return _0x42e7b8;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x278*0x3+0xc*0x2e7+-0x1b6b),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x1119c3=this['_resolutio'+'n']['x']/this['scale'],_0x1d0e27=this['_resolutio'+'n']['y']/this['scale'],_0x3a82c7=-0x3*-0x47f+-0x1f78+0x11fb,_0x1ae928=_0x1119c3,_0x12b1f0=-_0x1d0e27;this['_screenMat'+'rix']['setOrtho'](_0x3a82c7,_0x1ae928,_0x12b1f0,0x1304+-0x20d2+0xdce,0x1b4c+0x14e9+-0x3034,-(-0x6b2*-0x3+-0x2089+-0x63a*-0x2)),this['_screenSpa'+'ce']||(Sg['setScale']((0x9db+0x1*-0x811+-0x1ca+0.5)*_0x1119c3,(-0xa4e+0x262f+-0x319*0x9+0.5)*_0x1d0e27,0x1469+0x2603*0x1+-0x5*0xbaf),this['_screenMat'+'rix']['mul2'](Sg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x3d417c,_0x4f2357){const _0x30081d=Math['log2']((_0x3d417c['x']||-0x1f5a*-0x1+-0x229c+-0x343*-0x1)/_0x4f2357['x']),_0x1ff718=Math['log2']((_0x3d417c['y']||-0x86d*0x1+-0x6b6*0x2+0x15da)/_0x4f2357['y']);return Math['pow'](0x216+0x983+-0x2b*0x45,_0x30081d*(-0x1fb7*-0x1+-0x22aa+0x2f4-this['_scaleBlen'+'d'])+_0x1ff718*this['_scaleBlen'+'d']);}['_onResize'](_0x442128,_0x2b2a68){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x442128,_0x2b2a68),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x3eeed5){this['_elements']['add'](_0x3eeed5);}['_unbindEle'+'ment'](_0x39142a){this['_elements']['delete'](_0x39142a);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x5011ad=>_0x5011ad['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x40a420){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x40a420['x'],_0x40a420['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x23a2e0=>_0x23a2e0['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x3be10a){this['_reference'+'Resolution']['set'](_0x3be10a['x'],_0x3be10a['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x38b6aa=>_0x38b6aa['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===$n?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x25d754){this['_screenSpa'+'ce']=_0x25d754,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x39ba18=>_0x39ba18['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x269234){_0x269234!==$n&&_0x269234!==SI&&(_0x269234=$n),!this['_screenSpa'+'ce']&&_0x269234!==$n&&(_0x269234=$n),this['_scaleMode']=_0x269234,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0xa36f38){this['_scaleBlen'+'d']=_0xa36f38,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x5e3521=>_0x5e3521['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x300654){_0x300654>0x22f2+0x6*-0x55d+-0x1c5*0x1&&(v['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x300654+'\x20to\x20255'),_0x300654=0x2632*-0x1+0x1244+0x1e7*0xb),this['_priority']!==_0x300654&&(this['_priority']=_0x300654,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class vI{constructor(){this['enabled']=!(0x1bb*-0x1+0x331+-0x176*0x1);}}const mf=['enabled'];class bI extends Xe{constructor(_0x45c8c4){super(_0x45c8c4),this['id']='screen',this['ComponentT'+'ype']=_x,this['DataType']=vI,this['schema']=mf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x359663,_0x51dba9,_0xaec53f){_0x51dba9['priority']!==void(0x9d*-0x3+0xdf9+-0x2*0x611)&&(_0x359663['priority']=_0x51dba9['priority']),_0x51dba9['screenSpac'+'e']!==void(-0x557+0x16e9+-0x1a*0xad)&&(_0x359663['screenSpac'+'e']=_0x51dba9['screenSpac'+'e']),_0x359663['cull']=_0x359663['screenSpac'+'e'],_0x51dba9['scaleMode']!==void(-0xf5c*0x1+-0x6c*-0x11+0x830)&&(_0x359663['scaleMode']=_0x51dba9['scaleMode']),_0x51dba9['scaleBlend']!==void(-0x9*0x457+0x5dc+0x2133)&&(_0x359663['scaleBlend']=_0x51dba9['scaleBlend']),_0x51dba9['resolution']!==void(0x659*0x3+-0x4ca*0x8+-0x1*-0x1345)&&(_0x51dba9['resolution']instanceof W?_0x359663['_resolutio'+'n']['copy'](_0x51dba9['resolution']):_0x359663['_resolutio'+'n']['set'](_0x51dba9['resolution'][0xb5f*-0x3+-0xef8+0x3115],_0x51dba9['resolution'][0x1*-0x23bf+0x2031+0x38f]),_0x359663['resolution']=_0x359663['_resolutio'+'n']),_0x51dba9['referenceR'+'esolution']!==void(-0x61b*-0x1+-0x19c7+-0x4*-0x4eb)&&(_0x51dba9['referenceR'+'esolution']instanceof W?_0x359663['_reference'+'Resolution']['copy'](_0x51dba9['referenceR'+'esolution']):_0x359663['_reference'+'Resolution']['set'](_0x51dba9['referenceR'+'esolution'][0x1963+-0x2265+0x481*0x2],_0x51dba9['referenceR'+'esolution'][-0x1ba2+-0x4e8+0x208b]),_0x359663['referenceR'+'esolution']=_0x359663['_reference'+'Resolution']),_0x359663['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x359663,_0x51dba9,mf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x4e9ac3){const _0x43b3a7=this['store'];for(const _0x419a56 in _0x43b3a7)_0x43b3a7[_0x419a56]['entity']['screen']['update']&&_0x43b3a7[_0x419a56]['entity']['screen']['update'](_0x4e9ac3);}['_onResize'](_0xd8e7ec,_0x567393){this['windowReso'+'lution']['x']=_0xd8e7ec,this['windowReso'+'lution']['y']=_0x567393;}['cloneCompo'+'nent'](_0x150153,_0x38f3bd){const _0x5472d5=_0x150153['screen'];return this['addCompone'+'nt'](_0x38f3bd,{'enabled':_0x5472d5['enabled'],'screenSpace':_0x5472d5['screenSpac'+'e'],'scaleMode':_0x5472d5['scaleMode'],'resolution':_0x5472d5['resolution']['clone'](),'referenceResolution':_0x5472d5['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x3bc69b,_0x1dd7a0){_0x1dd7a0['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x4fdd62=this['_drawOrder'+'SyncQueue']['list']();for(let _0x5310ff=-0x1*0xe0b+0x818+-0x5f3*-0x1;_0x5310ff<_0x4fdd62['length'];_0x5310ff++){const _0x577c86=_0x4fdd62[_0x5310ff];_0x577c86['callback']['call'](_0x577c86['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x3362e6,_0x93b37e,_0x33e017){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x3362e6)||this['_drawOrder'+'SyncQueue']['push'](_0x3362e6,{'callback':_0x93b37e,'scope':_0x33e017});}}ue['_buildAcce'+'ssors'](_x['prototype'],mf);const qi=new W(),vg=new T(),Pr=new uu(),bg=new hy(),wg=new T(),io=new T(),wI=new se(),TI={'x':'y','y':'x'};class wo extends ce{constructor(_0x4ace79,_0x3904ad){if(super(),!_0x4ace79||!(_0x4ace79 instanceof Gt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x3904ad&&_0x3904ad!=='x'&&_0x3904ad!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x3904ad);this['_element']=_0x4ace79,this['_app']=_0x4ace79['system']['app'],this['_axis']=_0x3904ad||null,this['_enabled']=!(-0x83*0x28+-0x3ba*0x7+0x2e8e),this['_dragScale']=new T(),this['_dragStart'+'MousePosit'+'ion']=new T(),this['_dragStart'+'HandlePosi'+'tion']=new T(),this['_deltaMous'+'ePosition']=new T(),this['_deltaHand'+'lePosition']=new T(),this['_isDraggin'+'g']=!(-0x1*0xe21+0x1c31+-0x3b*0x3d),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x35dbf){this['_element'][_0x35dbf]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x35dbf]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x35dbf]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x2ad08b){const _0x34f934=_0x2ad08b==='on';this['_hasDragLi'+'steners']&&_0x34f934||(this['_app']['mouse']&&(this['_element'][_0x2ad08b]('mousemove',this['_onMove'],this),this['_element'][_0x2ad08b]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),ye['touch']&&(this['_element'][_0x2ad08b]('touchmove',this['_onMove'],this),this['_element'][_0x2ad08b]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x2ad08b]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x2ad08b]('selectmove',this['_onMove'],this),this['_element'][_0x2ad08b]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x34f934);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x57e6ca){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x57e6ca['camera'],this['_calculate'+'DragScale']();const _0x36c879=this['_screenToL'+'ocal'](_0x57e6ca);_0x36c879&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0xe1f+0x4fd+0x1*0x922),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x36c879),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x8ea+-0x24ec+0x2dd7),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x45c598){return _0x45c598['inputSourc'+'e']?Pr['set'](_0x45c598['inputSourc'+'e']['getOrigin'](),_0x45c598['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x45c598),this['_chooseRay'+'OriginAndD'+'irection']()),wg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x3*0x641+0x2*0x7d3+0x31e)),bg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),wg),bg['intersects'+'Ray'](Pr,io)?(wI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](io,io),io['mul'](this['_dragScale']),io):null;}['_determine'+'InputPosit'+'ion'](_0x2cbe7a){const _0x468d22=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x2cbe7a['x']<'u'&&typeof _0x2cbe7a['y']<'u'?(qi['x']=_0x2cbe7a['x']*_0x468d22,qi['y']=_0x2cbe7a['y']*_0x468d22):_0x2cbe7a['changedTou'+'ches']?(qi['x']=_0x2cbe7a['changedTou'+'ches'][-0x1*-0x2135+-0x1*0x21af+0x7a]['x']*_0x468d22,qi['y']=_0x2cbe7a['changedTou'+'ches'][-0x9b*0xd+0x2b*-0x25+0xe16]['y']*_0x468d22):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Pr['origin']['set'](qi['x'],-qi['y'],-0x1f44+-0x11*-0x1df+-0x8b*0x1),Pr['direction']['copy'](T['FORWARD'])):(vg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](qi['x'],qi['y'],-0x12*-0x101+-0x1fd3+-0x3*-0x496)),Pr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Pr['direction']['copy'](vg)['sub'](Pr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x55b360=this['_element']['entity']['parent'];const _0x1a7c0e=this['_element']['screen']&&this['_element']['screen']['screen'],_0x4d90b3=_0x1a7c0e&&_0x1a7c0e['screenSpac'+'e'],_0x5620d1=_0x4d90b3?_0x1a7c0e['scale']:0x4f3+-0x5a1+-0x23*-0x5,_0xc5d5d6=this['_dragScale'];for(_0xc5d5d6['set'](_0x5620d1,_0x5620d1,_0x5620d1);_0x55b360&&(_0xc5d5d6['mul'](_0x55b360['getLocalSc'+'ale']()),_0x55b360=_0x55b360['parent'],!(_0x4d90b3&&_0x55b360['screen'])););_0xc5d5d6['x']=(-0xf47+0xb2e+0x41a)/_0xc5d5d6['x'],_0xc5d5d6['y']=(-0x3c*-0x2f+0x7*-0x107+-0x3d2)/_0xc5d5d6['y'],_0xc5d5d6['z']=0xb83*-0x1+-0x895*0x4+0x2dd7;}['_onMove'](_0x5106d9){const {_element:_0x5f413a,_deltaMousePosition:_0x2b0ff8,_deltaHandlePosition:_0x101cfb,_axis:_0x20b9ee}=this;if(_0x5f413a&&this['_isDraggin'+'g']&&this['enabled']&&_0x5f413a['enabled']&&_0x5f413a['entity']['enabled']){const _0x48c64f=this['_screenToL'+'ocal'](_0x5106d9);if(_0x48c64f){if(_0x2b0ff8['sub2'](_0x48c64f,this['_dragStart'+'MousePosit'+'ion']),_0x101cfb['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x2b0ff8),_0x20b9ee){const _0xaf2629=_0x5f413a['entity']['getLocalPo'+'sition'](),_0xea978b=TI[_0x20b9ee];_0x101cfb[_0xea978b]=_0xaf2629[_0xea978b];}_0x5f413a['entity']['setLocalPo'+'sition'](_0x101cfb),this['fire']('drag:move',_0x101cfb);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x5ca6ca){this['_enabled']=_0x5ca6ca;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(wo,'EVENT_DRAG'+'START','drag:start'),c(wo,'EVENT_DRAG'+'END','drag:end'),c(wo,'EVENT_DRAG'+'MOVE','drag:move');const AI=-0x1cda+-0x1*0x1a7d+-0x1f*-0x1c9,Tg=-0x1*0x1fe6+-0x1a*-0x86+0x124b,EI=-0x159d+-0x5*0x436+0x2aad,CI=0x21e5+-0x12c5+-0xf20,MI=0x1815+0xf4a+-0x2*0x13af,ro=new W();class gx extends ue{constructor(_0x12d6d6,_0x590119){super(_0x12d6d6,_0x590119),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_scroll']=new W(),this['_velocity']=new T(),this['_dragStart'+'Position']=new T(),this['_disabledC'+'ontentInpu'+'t']=!(0x1f3e+0x1*0x9fd+-0x293a),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x5853fe=this['system']['store'][this['entity']['getGuid']()];return _0x5853fe?_0x5853fe['data']:null;}set['enabled'](_0x3dc036){this['_setValue']('enabled',_0x3dc036);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x4f346e){this['_setValue']('horizontal',_0x4f346e);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x30bb5a){this['_setValue']('vertical',_0x30bb5a);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x2228a1){this['_setValue']('scrollMode',_0x2228a1);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x5f078d){this['_setValue']('bounceAmou'+'nt',_0x5f078d);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x56683a){this['_setValue']('friction',_0x56683a);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x140214){this['_setValue']('dragThresh'+'old',_0x140214);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x56e7f3){this['_setValue']('useMouseWh'+'eel',_0x56e7f3);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0xca6d9){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0xca6d9);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x6e641e){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x6e641e);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x728ef8){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x728ef8);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x2355dc){if(this['_viewportE'+'ntity']===_0x2355dc)return;const _0x296803=typeof _0x2355dc=='string';this['_viewportE'+'ntity']&&_0x296803&&this['_viewportE'+'ntity']['getGuid']()===_0x2355dc||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x2355dc instanceof De?this['_viewportE'+'ntity']=_0x2355dc:_0x296803?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x2355dc)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x296803&&_0x2355dc&&(this['data']['viewportEn'+'tity']=_0x2355dc));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x51bcbf){if(this['_contentEn'+'tity']===_0x51bcbf)return;const _0x2d3212=typeof _0x51bcbf=='string';this['_contentEn'+'tity']&&_0x2d3212&&this['_contentEn'+'tity']['getGuid']()===_0x51bcbf||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x51bcbf instanceof De?this['_contentEn'+'tity']=_0x51bcbf:_0x2d3212?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x51bcbf)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x2d3212&&_0x51bcbf&&(this['data']['contentEnt'+'ity']=_0x51bcbf));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x1e83d2){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x1e83d2)return;const _0x5da507=typeof _0x1e83d2=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x5da507&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x1e83d2||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x1e83d2 instanceof De?this['_horizonta'+'lScrollbar'+'Entity']=_0x1e83d2:_0x5da507?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x1e83d2)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][pe]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x5da507&&_0x1e83d2&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x1e83d2));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x31bb82){if(this['_verticalS'+'crollbarEn'+'tity']===_0x31bb82)return;const _0x197e5b=typeof _0x31bb82=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x197e5b&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x31bb82||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x31bb82 instanceof De?this['_verticalS'+'crollbarEn'+'tity']=_0x31bb82:_0x197e5b?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x31bb82)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][ke]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x197e5b&&_0x31bb82&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x31bb82));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x405a91){this['_onSetScro'+'ll'](_0x405a91['x'],_0x405a91['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x393dc9,_0x413783){const _0x434d78=this['data'],_0x5168fa=_0x434d78[_0x393dc9];_0x434d78[_0x393dc9]=_0x413783,this['fire']('set',_0x393dc9,_0x5168fa,_0x413783);}['_toggleLif'+'ecycleList'+'eners'](_0x305624){this[_0x305624]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x305624]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x305624]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x5491d6){if(this['entity']['element']){if(_0x5491d6==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x5491d6]('resize',this['_syncAll'],this),this['entity']['element'][_0x5491d6](Mu,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x5491d6==='on';}}['_onElement'+'ComponentA'+'dd'](_0x301fcd){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x358bb4){var _0x34ce10;(_0x34ce10=this['_evtElemen'+'tRemove'])==null||_0x34ce10['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x1c834c,_0xfc76f8;(_0x1c834c=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x1c834c['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0xfc76f8=this['_viewportE'+'ntity'])!=null&&_0xfc76f8['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x40d002=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x40d002['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x40d002['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x183d71,_0x59025b;(_0x183d71=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x183d71['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x59025b=this['_evtViewpo'+'rtResize'])==null||_0x59025b['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x319bbe,_0x31d39f;(_0x319bbe=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x319bbe['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x31d39f=this['_contentEn'+'tity'])!=null&&_0x31d39f['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x3879c3=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x3879c3['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x3879c3['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4987e1,_0x48abff;(_0x4987e1=this['_evtConten'+'tElementRe'+'move'])==null||_0x4987e1['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x48abff=this['_evtConten'+'tResize'])==null||_0x48abff['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new wo(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][pe]=null,this['_prevConte'+'ntSizes'][ke]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x5dc786){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x126+-0x1cf6+0x1e1c),this['_setScroll'+'FromConten'+'tPosition'](_0x5dc786),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x5dc786),!this['_disabledC'+'ontentInpu'+'t'])){const _0x4e7933=_0x5dc786['x']-this['_dragStart'+'Position']['x'],_0x33a3a2=_0x5dc786['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x4e7933)>this['dragThresh'+'old']||Math['abs'](_0x33a3a2)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0xf01562;(_0xf01562=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0xf01562['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x4c0ce0;(_0x4c0ce0=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x4c0ce0['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3c4fa1){!this['_scrollbar'+'UpdateFlag'+'s'][pe]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3c4fa1,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x562cc3){!this['_scrollbar'+'UpdateFlag'+'s'][ke]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x562cc3);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x4ec17a;const _0x18f25f=(_0x4ec17a=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x1*0x869+-0xe8e+-0x16f7*-0x1):_0x4ec17a['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x18f25f['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x18f25f['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarPositi'+'on'](pe);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x139c85;const _0x56ec13=(_0x139c85=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x1*0x173d+-0x633+-0x110a):_0x139c85['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x56ec13['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x56ec13['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ke),this['_syncScrol'+'lbarPositi'+'on'](ke);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x1fcc6c,_0x3f379f;(_0x1fcc6c=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x1fcc6c['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x3f379f=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x3f379f['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0xdc9f31,_0x42071c;(_0xdc9f31=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0xdc9f31['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x42071c=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x42071c['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](pe);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_onSetScro'+'ll'](_0x1713e2,_0x108173,_0x2b3c89){_0x2b3c89!==!(0x2a4+-0x2*0xd06+0x1769)&&this['_velocity']['set'](0x25de*0x1+-0x1*-0xcaf+-0x328d*0x1,0x1a*-0xa3+0x5b6+0x4*0x2b6,0x142a+-0x7*0x23d+0x47f*-0x1);const _0x45cabe=this['_updateAxi'+'s'](_0x1713e2,'x',pe),_0x2f7c70=this['_updateAxi'+'s'](_0x108173,'y',ke);(_0x45cabe||_0x2f7c70)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x1b5a69,_0x564b7b,_0x548dbe){const _0x346dff=_0x1b5a69!==null&&Math['abs'](_0x1b5a69-this['_scroll'][_0x564b7b])>-0x2661+-0x476+0xb*0x3e5+0.00001;return(_0x346dff||this['_isDraggin'+'g']()||_0x1b5a69===0xeb5*-0x1+-0x3*-0x93+-0x454*-0x3)&&(this['_scroll'][_0x564b7b]=this['_determine'+'NewScrollV'+'alue'](_0x1b5a69,_0x564b7b,_0x548dbe),this['_syncConte'+'ntPosition'](_0x548dbe),this['_syncScrol'+'lbarPositi'+'on'](_0x548dbe)),_0x346dff;}['_determine'+'NewScrollV'+'alue'](_0x28daab,_0x39f2f9,_0x20c6d6){if(!this['_getScroll'+'ingEnabled'](_0x20c6d6))return this['_scroll'][_0x39f2f9];switch(this['scrollMode']){case AI:return N['clamp'](_0x28daab,0x9d7+-0x24f8+0x5*0x56d,this['_getMaxScr'+'ollValue'](_0x20c6d6));case Tg:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x28daab,_0x39f2f9,_0x20c6d6),_0x28daab;case EI:return _0x28daab;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x28daab;}}['_syncAll'](){this['_syncConte'+'ntPosition'](pe),this['_syncConte'+'ntPosition'](ke),this['_syncScrol'+'lbarPositi'+'on'](pe),this['_syncScrol'+'lbarPositi'+'on'](ke),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke);}['_syncConte'+'ntPosition'](_0x2f9ab8){if(!this['_contentEn'+'tity'])return;const _0x37acb5=this['_getAxis'](_0x2f9ab8),_0x1ee230=this['_getSign'](_0x2f9ab8),_0x263c69=this['_prevConte'+'ntSizes'][_0x2f9ab8],_0x83cdcc=this['_getConten'+'tSize'](_0x2f9ab8);if(_0x263c69!==null&&Math['abs'](_0x263c69-_0x83cdcc)>-0x90a+0xc55+-0x34b+0.0001){const _0x152007=this['_getMaxOff'+'set'](_0x2f9ab8,_0x263c69),_0x38dce1=this['_getMaxOff'+'set'](_0x2f9ab8,_0x83cdcc);_0x38dce1===-0x1ea3+-0x26*-0xa+0x1d27?this['_scroll'][_0x37acb5]=-0x190+-0x109b+0x122c:this['_scroll'][_0x37acb5]=N['clamp'](this['_scroll'][_0x37acb5]*_0x152007/_0x38dce1,-0x1c45+0x245*-0xf+-0x3e50*-0x1,0x963+-0x782+-0x1e*0x10);}const _0x5f5533=this['_scroll'][_0x37acb5]*this['_getMaxOff'+'set'](_0x2f9ab8),_0x11d022=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x11d022[_0x37acb5]=_0x5f5533*_0x1ee230,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x11d022),this['_prevConte'+'ntSizes'][_0x2f9ab8]=_0x83cdcc;}['_syncScrol'+'lbarPositi'+'on'](_0x5d74dd){const _0x3e0561=this['_scrollbar'+'Entities'][_0x5d74dd];if(!(_0x3e0561!=null&&_0x3e0561['scrollbar']))return;const _0x197713=this['_getAxis'](_0x5d74dd);this['_scrollbar'+'UpdateFlag'+'s'][_0x5d74dd]=!(-0xe56+-0x4d*-0x33+-0x101),_0x3e0561['scrollbar']['value']=this['_scroll'][_0x197713],_0x3e0561['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x197713,_0x5d74dd),this['_scrollbar'+'UpdateFlag'+'s'][_0x5d74dd]=!(0x14c0+0x15c1+-0x2a80);}['_syncScrol'+'lbarEnable'+'dState'](_0x4461ae){const _0x3f1468=this['_scrollbar'+'Entities'][_0x4461ae];if(!_0x3f1468)return;const _0x4ae7be=this['_getScroll'+'ingEnabled'](_0x4461ae),_0x2f5538=this['_getScroll'+'barVisibil'+'ity'](_0x4461ae);switch(_0x2f5538){case CI:_0x3f1468['enabled']=_0x4ae7be;return;case MI:_0x3f1468['enabled']=_0x4ae7be&&this['_contentIs'+'LargerThan'+'Viewport'](_0x4461ae);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x2f5538),_0x3f1468['enabled']=_0x4ae7be;}}['_contentIs'+'LargerThan'+'Viewport'](_0x212db5){return this['_getConten'+'tSize'](_0x212db5)>this['_getViewpo'+'rtSize'](_0x212db5);}['_contentPo'+'sitionToSc'+'rollValue'](_0x5bb630){const _0x15af99=this['_getMaxOff'+'set'](pe),_0x521f20=this['_getMaxOff'+'set'](ke);return _0x15af99===-0x1fa9+0x1*0x1766+0x843?ro['x']=-0x15*0x143+-0x1*0x14d1+0x2f50:ro['x']=_0x5bb630['x']/_0x15af99,_0x521f20===-0x1*0x164b+0x2477+0x1*-0xe2c?ro['y']=0x141f+-0x1245+0x4f*-0x6:ro['y']=_0x5bb630['y']/-_0x521f20,ro;}['_getMaxOff'+'set'](_0x5a15cf,_0x3da9ef){_0x3da9ef=_0x3da9ef===void(-0x10b2+-0x2*-0xd36+-0x9ba)?this['_getConten'+'tSize'](_0x5a15cf):_0x3da9ef;const _0x5daa85=this['_getViewpo'+'rtSize'](_0x5a15cf);return _0x3da9ef<_0x5daa85?-this['_getViewpo'+'rtSize'](_0x5a15cf):_0x5daa85-_0x3da9ef;}['_getMaxScr'+'ollValue'](_0x1d4c97){return this['_contentIs'+'LargerThan'+'Viewport'](_0x1d4c97)?-0x16bd*-0x1+0x1f22+-0xe*0x3d9:0x5a7*-0x3+-0x19b*0x1+0x1290;}['_getScroll'+'barHandleS'+'ize'](_0x509a0c,_0x23d4fe){const _0x5cd248=this['_getViewpo'+'rtSize'](_0x23d4fe),_0x4e0cd3=this['_getConten'+'tSize'](_0x23d4fe);if(Math['abs'](_0x4e0cd3)<-0x21d+-0x3d*-0x2f+-0x2*0x48b+0.001)return-0x9a2+-0x26a7+0x373*0xe;const _0x3a63c3=Math['min'](_0x5cd248/_0x4e0cd3,-0x98e*0x4+0x835*-0x2+0x36a3),_0x1a3f91=this['_toOversho'+'ot'](this['_scroll'][_0x509a0c],_0x23d4fe);return _0x1a3f91===0x3*-0x315+-0x2133+0x2a72?_0x3a63c3:_0x3a63c3/(-0xac+-0x26c*0x2+0x585+Math['abs'](_0x1a3f91));}['_getViewpo'+'rtSize'](_0x482bb0){return this['_getSize'](_0x482bb0,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0xac4ca2){return this['_getSize'](_0xac4ca2,this['_contentEn'+'tity']);}['_getSize'](_0xf17eea,_0xe26cbd){return _0xe26cbd!=null&&_0xe26cbd['element']?_0xe26cbd['element'][this['_getCalcul'+'atedDimens'+'ion'](_0xf17eea)]:-0x2*0xdd9+-0x6*-0x67b+0xb30*-0x1;}['_getScroll'+'ingEnabled'](_0x3a803f){if(_0x3a803f===pe)return this['horizontal'];if(_0x3a803f===ke)return this['vertical'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x3a803f);}['_getScroll'+'barVisibil'+'ity'](_0x1a1649){if(_0x1a1649===pe)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x1a1649===ke)return this['verticalSc'+'rollbarVis'+'ibility'];v['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x1a1649);}['_getSign'](_0x49a013){return _0x49a013===pe?-0x3*-0x323+-0x7*-0x460+-0x1*0x2808:-(0x2489+0x1*0x9d+0x25*-0x101);}['_getAxis'](_0x4d04c3){return _0x4d04c3===pe?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x199083){return _0x199083===pe?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](pe),this['_syncScrol'+'lbarEnable'+'dState'](ke));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Tg&&(this['_hasOversh'+'oot']('x',pe)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',pe),this['_hasOversh'+'oot']('y',ke)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',ke)),Math['abs'](this['_velocity']['x'])>0x2d8*0x2+0x26a4*-0x1+0x20f4+0.0001||Math['abs'](this['_velocity']['y'])>-0x2f*-0x13+0xc6c+-0xfe9+0.0001){const _0x2e42b0=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2e42b0['x']+=this['_velocity']['x'],_0x2e42b0['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2e42b0),this['_setScroll'+'FromConten'+'tPosition'](_0x2e42b0);}this['_velocity']['x']*=-0x5a1+-0x3e*0x1c+0xc6a-this['friction'],this['_velocity']['y']*=-0x2*-0xcbc+0xb6*0x21+-0x1f5*0x19-this['friction'];}}['_hasOversh'+'oot'](_0x1feaf3,_0xd4c1df){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x1feaf3],_0xd4c1df))>-0x1ec1*-0x1+0x355*-0x9+0x62*-0x2+0.001;}['_toOversho'+'ot'](_0x48ab5c,_0x2867e2){const _0x4c72ec=this['_getMaxScr'+'ollValue'](_0x2867e2);return _0x48ab5c<-0xf5b+-0x2*-0x5e7+0x38d?_0x48ab5c:_0x48ab5c>_0x4c72ec?_0x48ab5c-_0x4c72ec:-0x158a+0x79d+0xded;}['_setVeloci'+'tyFromOver'+'shoot'](_0x16a3dc,_0x556745,_0xb562fc){const _0x3474e8=this['_toOversho'+'ot'](_0x16a3dc,_0xb562fc)*this['_getMaxOff'+'set'](_0xb562fc)*this['_getSign'](_0xb562fc);Math['abs'](_0x3474e8)>-0x957+-0x2208+0x2b5f&&(this['_velocity'][_0x556745]=-_0x3474e8/(this['bounceAmou'+'nt']*(-0x12bd+-0x7c9*0x4+0x3213*0x1)+(0x1b90+0x5*-0x26d+-0xf6e)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x3303e0){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x3303e0,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x3303e0)):(this['_velocity']['set'](-0x1a7*-0xf+0x3e*-0x11+-0x14ab,0x27*-0x3d+0xeae+-0x7*0xc5,-0x226f+-0x1*0x12fb+-0x2*-0x1ab5),this['_prevConte'+'ntDragPosi'+'tion']=_0x3303e0['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x3d40f4){let _0x39119a=this['_contentPo'+'sitionToSc'+'rollValue'](_0x3d40f4);this['_isDraggin'+'g']()&&(_0x39119a=this['_applyScro'+'llValueTen'+'sion'](_0x39119a)),this['_onSetScro'+'ll'](_0x39119a['x'],_0x39119a['y'],!(-0x602+0xfbb+-0x9b8));}['_applyScro'+'llValueTen'+'sion'](_0x48aa2b){let _0xaa88da=this['_getMaxScr'+'ollValue'](pe),_0x405a4b=this['_toOversho'+'ot'](_0x48aa2b['x'],pe);return _0x405a4b>-0x24e5+-0x23d+-0x1*-0x2722?_0x48aa2b['x']=_0xaa88da+(-0x1*-0x5bf+0xa7*0x2f+-0x2467)*Math['log10'](-0x7aa+-0xd7f+0x152a+_0x405a4b):_0x405a4b<0xed9*0x2+-0xb76+-0x123c&&(_0x48aa2b['x']=-(-0x6*-0x634+-0xf*0xa4+-0x1b9b*0x1)*Math['log10'](-0x8*-0x34a+0x4c6*0x8+-0x407f-_0x405a4b)),_0xaa88da=this['_getMaxScr'+'ollValue'](ke),_0x405a4b=this['_toOversho'+'ot'](_0x48aa2b['y'],ke),_0x405a4b>0x11be+-0x1a17+-0x859*-0x1?_0x48aa2b['y']=_0xaa88da+(0xfe*-0x3+0x8f7+-0x4*0x17f)*Math['log10'](0xfa*0x3+0xa*0x33d+0x1*-0x234f+_0x405a4b):_0x405a4b<0x2b3*0x2+-0x11d6+0xc70&&(_0x48aa2b['y']=-(-0x1339*0x1+-0xb19*-0x1+-0x821*-0x1)*Math['log10'](0x4cd+-0x1*0x1993+0x14c7-_0x405a4b)),_0x48aa2b;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x37aafd){var _0x4acaf0,_0x377c6b;(_0x4acaf0=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x4acaf0['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x37aafd),(_0x377c6b=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x377c6b['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x37aafd);}['_setConten'+'tDraggingE'+'nabled'](_0x19af51){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x19af51);}['_onMouseWh'+'eel'](_0x445795){var _0x39730b;if(!this['useMouseWh'+'eel']||!((_0x39730b=this['_contentEn'+'tity'])!=null&&_0x39730b['element']))return;const _0x39a2a2=_0x445795['event'],_0x1f72e8=_0x39a2a2['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x2f62cc=_0x39a2a2['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x55045a=N['clamp'](this['_scroll']['x']+_0x1f72e8,-0x5f8+-0x166d*-0x1+-0x1075,this['_getMaxScr'+'ollValue'](pe)),_0x28eaf8=N['clamp'](this['_scroll']['y']+_0x2f62cc,-0x2003+-0x1123+0x3126,this['_getMaxScr'+'ollValue'](ke));this['scroll']=new W(_0x55045a,_0x28eaf8);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x4c793b=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x4c793b['element']&&(_0x4c793b['element']['useInput']=!(0x1ee5+-0x11d+0x772*-0x4));}this['_disabledC'+'ontentInpu'+'t']=!(-0xad*-0x2f+-0x1170*-0x1+-0x3132);}['_disableCo'+'ntentInput'](){const _0x48eab5=_0x39db5a=>{_0x39db5a['element']&&_0x39db5a['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x39db5a),_0x39db5a['element']['useInput']=!(-0xc1*-0xc+-0x12f2*-0x1+0x5*-0x599));const _0x33baa4=_0x39db5a['children'];for(let _0x2bc1e2=0x224e*-0x1+0x5*-0x7f+0x24c9*0x1,_0x109505=_0x33baa4['length'];_0x2bc1e2<_0x109505;_0x2bc1e2++)_0x48eab5(_0x33baa4[_0x2bc1e2]);};if(this['_contentEn'+'tity']){const _0x3ee68a=this['_contentEn'+'tity']['children'];for(let _0x3ad553=0x4c8+-0xb62+0x69a,_0x245aae=_0x3ee68a['length'];_0x3ad553<_0x245aae;_0x3ad553++)_0x48eab5(_0x3ee68a[_0x3ad553]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x1960+0x16eb*-0x1+0x13d*0x27);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x2439+0x1*-0xe6e+0x32a7)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1*-0x2191+0x1*0x841+-0x29d2)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x4f9*0x4+-0x1b72+0x2f57)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1b3b*0x1+0x1429+0x7*-0x6c5));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3e1951,_0x1bbf4a){_0x3e1951['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x1bbf4a[_0x3e1951['viewportEn'+'tity']['getGuid']()]),_0x3e1951['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x1bbf4a[_0x3e1951['contentEnt'+'ity']['getGuid']()]),_0x3e1951['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x1bbf4a[_0x3e1951['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x3e1951['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x1bbf4a[_0x3e1951['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(gx,'EVENT_SETS'+'CROLL','set:scroll');const PI=0xefa+-0x4eb*0x5+0x9a7;class RI{constructor(){c(this,'enabled',!(0x2343*0x1+0x1456*-0x1+-0x1*0xeed)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',PI),c(this,'useMouseWh'+'eel',!(0x704*-0x2+0x1815+-0x53*0x1f)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(-0x40b+-0x2e1*-0x2+-0x1b6,0x16a6+0x1573*-0x1+-0x132*0x1)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x13b8+0xccd*-0x3+0x12af),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x1aa*0x1+0x1*-0xb07+0x13*0xab),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Ag=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],II=0x21cb+0xa*0x11d+-0x2ce3;class DI extends Xe{constructor(_0x3eaf57){super(_0x3eaf57),this['id']='scrollview',this['ComponentT'+'ype']=gx,this['DataType']=RI,this['schema']=Ag,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x53cd41,_0x931dca,_0x38b699){_0x931dca['dragThresh'+'old']===void(0x356+0x1*-0xf8f+0xc39)&&(_0x931dca['dragThresh'+'old']=II),_0x931dca['useMouseWh'+'eel']===void(-0xd3e+-0x2109+-0xf6d*-0x3)&&(_0x931dca['useMouseWh'+'eel']=!(0x1def*0x1+-0x166a+0xaf*-0xb)),_0x931dca['mouseWheel'+'Sensitivit'+'y']===void(0x2439+0x254*-0x3+-0x9bf*0x3)&&(_0x931dca['mouseWheel'+'Sensitivit'+'y']=new W(-0x12db*0x1+0x2a1*-0xd+0x3509,0x2*0x787+0x1292*-0x2+-0x41*-0x57)),super['initialize'+'ComponentD'+'ata'](_0x53cd41,_0x931dca,Ag),_0x53cd41['viewportEn'+'tity']=_0x931dca['viewportEn'+'tity'],_0x53cd41['contentEnt'+'ity']=_0x931dca['contentEnt'+'ity'],_0x53cd41['horizontal'+'ScrollbarE'+'ntity']=_0x931dca['horizontal'+'ScrollbarE'+'ntity'],_0x53cd41['verticalSc'+'rollbarEnt'+'ity']=_0x931dca['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x4a68b0){const _0x5120c5=this['store'];for(const _0x567d57 in _0x5120c5){const _0x3bfef9=_0x5120c5[_0x567d57]['entity'],_0x50063f=_0x3bfef9['scrollview'];_0x50063f['enabled']&&_0x3bfef9['enabled']&&_0x50063f['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3e6561,_0x18cb14){_0x18cb14['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class yx extends ue{constructor(_0x23cc2c,_0x51a1){super(_0x23cc2c,_0x51a1),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x242802=this['system']['store'][this['entity']['getGuid']()];return _0x242802?_0x242802['data']:null;}set['enabled'](_0x1c31ba){this['_setValue']('enabled',_0x1c31ba);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x5c64e1){this['_setValue']('orientatio'+'n',_0x5c64e1);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x173b37){this['_setValue']('value',_0x173b37);}get['value'](){return this['data']['value'];}set['handleSize'](_0x357e8b){this['_setValue']('handleSize',_0x357e8b);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x239dbd){if(this['_handleEnt'+'ity']===_0x239dbd)return;const _0x281a02=typeof _0x239dbd=='string';this['_handleEnt'+'ity']&&_0x281a02&&this['_handleEnt'+'ity']['getGuid']()===_0x239dbd||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x239dbd instanceof De?this['_handleEnt'+'ity']=_0x239dbd:_0x281a02?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x239dbd)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x281a02&&_0x239dbd&&(this['data']['handleEnti'+'ty']=_0x239dbd));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x2df91e,_0x28633){const _0x145bad=this['data'],_0x261d37=_0x145bad[_0x2df91e];_0x145bad[_0x2df91e]=_0x28633,this['fire']('set',_0x2df91e,_0x261d37,_0x28633);}['_toggleLif'+'ecycleList'+'eners'](_0x50c6a5){this[_0x50c6a5]('set_value',this['_onSetValu'+'e'],this),this[_0x50c6a5]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x50c6a5]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x5d2446,_0x1b4d76;(_0x5d2446=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x5d2446['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x1b4d76=this['_handleEnt'+'ity'])!=null&&_0x1b4d76['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x5426d7=this['_handleEnt'+'ity']['element'],_0x36befb=this['_evtHandle'+'EntityChan'+'ges'];_0x36befb['push'](_0x5426d7['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x36befb['push'](_0x5426d7['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x36befb['push'](_0x5426d7['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x36befb['push'](_0x5426d7['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x28119d=-0x1*-0x1cdd+-0x183b+-0x251*0x2;_0x28119d<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x28119d++)this['_evtHandle'+'EntityChan'+'ges'][_0x28119d]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x2262+-0xc4b+0x2ead;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new wo(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x4b077f){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x4b077f[this['_getAxis']()]));}['_onSetValu'+'e'](_0x32132b,_0x16c154,_0x2db1a9){Math['abs'](_0x2db1a9-_0x16c154)>0x185f+0x537+0xe*-0x21d+0.00001&&(this['data']['value']=N['clamp'](_0x2db1a9,0x1de+0x16ae+0x1*-0x188c,0x1a04+-0x6f0+0x1*-0x1313),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x4559db,_0x3055db,_0xd47c97){Math['abs'](_0xd47c97-_0x3055db)>0x23c5+0x140b+-0x6fa*0x8+0.00001&&(this['data']['handleSize']=N['clamp'](_0xd47c97,0x6*-0x54b+0x10d4*0x2+-0x1e6,0x1*0x16ad+0x1b27+0x5*-0x9f7),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x55708a,_0x1fee2d,_0x312cc0){var _0x3683b4;_0x312cc0!==_0x1fee2d&&((_0x3683b4=this['_handleEnt'+'ity'])!=null&&_0x3683b4['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x1880+0x15d7*-0x1+0x2e57);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x271942=this['_handleEnt'+'ity'],_0x3b9287=_0x271942==null?void(0x1b99+0x2*0x124f+0x11*-0x3c7):_0x271942['element'];if(_0x271942){const _0xc09ebd=_0x271942['getLocalPo'+'sition']();_0xc09ebd[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x271942['setLocalPo'+'sition'](_0xc09ebd);}_0x3b9287&&(_0x3b9287[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x42a305){return _0x42a305*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x1dd6ea){return _0x1dd6ea*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x19cc*0x1+-0x1f*0x121+-0xf*-0x9d+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===pe?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x1*-0x1b84+0x20*0x25+0x16e4;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===pe?-0x11b*0xb+0x253f+-0x1915:-(0x936+0x18f9+-0x222e);}['_getAxis'](){return this['orientatio'+'n']===pe?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===pe?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===pe?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x3e985c){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x3e985c);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x2*0x131c+-0x202*0x5+0x3a*0xd5));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x1429+0x40*-0x4a+-0x1a8));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x480f74,_0x170747){_0x480f74['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x170747[_0x480f74['handleEnti'+'ty']['getGuid']()]);}}c(yx,'EVENT_SETV'+'ALUE','set:value');class LI{constructor(){c(this,'enabled',!(0x193+-0x1ade+0x103*0x19)),c(this,'orientatio'+'n',pe),c(this,'value',0xce*0x20+0x4*0x4c1+-0xeec*0x3),c(this,'handleSize',0x1*0xde+0x1*0x1289+0x1367*-0x1),c(this,'handleEnti'+'ty',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class FI extends Xe{constructor(_0x3539c6){super(_0x3539c6),this['id']='scrollbar',this['ComponentT'+'ype']=yx,this['DataType']=LI,this['schema']=Eg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2524f5,_0x1d204d,_0x3cdca2){super['initialize'+'ComponentD'+'ata'](_0x2524f5,_0x1d204d,Eg),_0x2524f5['handleEnti'+'ty']=_0x1d204d['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x190fa6){_0x190fa6['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x28029d,_0x405d1f){_0x405d1f['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(-0xf09+0x1973+-0xa69),'startTime':0x0,'duration':0x0,'position':new T(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class er extends ce{constructor(_0x301c71,_0x5a3b80='Untitled',_0x83a9a8={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x301c71,this['_assets']=_0x301c71['system']['app']['assets'],this['_manager']=_0x301c71['system']['manager'],this['name']=_0x5a3b80,this['_volume']=_0x83a9a8['volume']!==void(0x1e2e*-0x1+0xfcc+0xe62)?N['clamp'](Number(_0x83a9a8['volume'])||-0x1426+0x227b+-0xe55,0xd*0x64+0x6b*0x3e+0x1*-0x1efe,-0x8*0x4c5+-0x700+0x2d29):-0x16db*0x1+-0x2143*-0x1+-0xa67,this['_pitch']=_0x83a9a8['pitch']!==void(-0x7*-0xb+0x1*0x6fb+-0x748)?Math['max'](0x1*0xbb+0x8e1+-0x99c+0.01,Number(_0x83a9a8['pitch'])||0x79*0x8+-0x409*0x2+-0x44a*-0x1):0x4*-0x87c+0x17*-0x19d+0x470c,this['_loop']=!!(_0x83a9a8['loop']!==void(0x17*0x1a5+0x22e5*0x1+0x48b8*-0x1)&&_0x83a9a8['loop']),this['_duration']=_0x83a9a8['duration']>0x6*0x529+-0x65*-0x26+0x4*-0xb7d?_0x83a9a8['duration']:null,this['_startTime']=Math['max'](-0x19*0x49+0x1923+-0x1cd*0xa,Number(_0x83a9a8['startTime'])||-0x1*0x22d7+-0x13d*-0x3+0x1f20),this['_overlap']=!!_0x83a9a8['overlap'],this['_autoPlay']=!!_0x83a9a8['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x83a9a8['asset'],this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x5ba53e){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){v['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x3595ee=_0x5ba53e;if(_0x3595ee||(_0x3595ee=this['_createIns'+'tance'](),this['instances']['push'](_0x3595ee)),this['isLoaded'])_0x3595ee['play']();else{const _0x37d042=function(_0x54e914){const _0x18cf9f=_0x3595ee['_playWhenL'+'oaded'];_0x3595ee['sound']=_0x54e914,_0x18cf9f&&_0x3595ee['play']();};this['off']('load',_0x37d042),this['once']('load',_0x37d042),this['load']();}return _0x3595ee;}['pause'](){let _0x1ac6f3=!(0x1871+-0x1929+0xb9);const _0x2be75a=this['instances'];for(let _0x229560=0x4*-0x73f+-0x6*-0x629+-0x7fa,_0x27891d=_0x2be75a['length'];_0x229560<_0x27891d;_0x229560++)_0x2be75a[_0x229560]['pause']()&&(_0x1ac6f3=!(0x2*-0x81e+-0x41*-0x35+0x1*0x2c7));return _0x1ac6f3;}['resume'](){let _0x3086aa=!(-0xb2d+0x2a4*-0x6+0x1*0x1b06);const _0x38ff80=this['instances'];for(let _0x5c7dcf=0xa92+-0x1460+0x9ce,_0x233f3e=_0x38ff80['length'];_0x5c7dcf<_0x233f3e;_0x5c7dcf++)_0x38ff80[_0x5c7dcf]['resume']()&&(_0x3086aa=!(0x19db+0x7f6+-0x21d1));return _0x3086aa;}['stop'](){let _0xab33bc=!(-0x1*-0xdb1+-0x32a+0xa86*-0x1);const _0x5212cf=this['instances'];let _0x402fd1=_0x5212cf['length'];for(;_0x402fd1--;)_0x5212cf[_0x402fd1]['stop'](),_0xab33bc=!(-0x2338+-0x12*0x11f+0x3766);return _0x5212cf['length']=-0x13*-0xd5+0x2056+-0x3025,_0xab33bc;}['load'](){if(!this['_hasAsset']())return;const _0x2599dd=this['_assets']['get'](this['_asset']);if(!_0x2599dd){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x2599dd['off']('remove',this['_onAssetRe'+'moved'],this),_0x2599dd['on']('remove',this['_onAssetRe'+'moved'],this),!_0x2599dd['resource']){_0x2599dd['off']('load',this['_onAssetLo'+'ad'],this),_0x2599dd['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x2599dd);return;}this['fire']('load',_0x2599dd['resource']);}['setExterna'+'lNodes'](_0x5abb70,_0x3fda64){if(!_0x5abb70){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x3fda64||(_0x3fda64=_0x5abb70),this['_firstNode']=_0x5abb70,this['_lastNode']=_0x3fda64,!this['_overlap']){const _0x14e0a0=this['instances'];for(let _0x5dc5b6=-0x4*-0x436+-0x127d*-0x1+0x3ed*-0x9,_0x1bc917=_0x14e0a0['length'];_0x5dc5b6<_0x1bc917;_0x5dc5b6++)_0x14e0a0[_0x5dc5b6]['setExterna'+'lNodes'](_0x5abb70,_0x3fda64);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x1d52e=this['instances'];for(let _0x83d114=0x942+-0x2*-0xf00+-0x2742,_0x40c3e9=_0x1d52e['length'];_0x83d114<_0x40c3e9;_0x83d114++)_0x1d52e[_0x83d114]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x2caf0c=null;const _0x5dc618=this['_component'];let _0x2cf61f=null;if(this['_hasAsset']()){const _0xbf9f90=this['_assets']['get'](this['_asset']);_0xbf9f90&&(_0x2cf61f=_0xbf9f90['resource']);}const _0x44baa3=OI;return _0x44baa3['volume']=this['_volume']*_0x5dc618['volume'],_0x44baa3['pitch']=this['_pitch']*_0x5dc618['pitch'],_0x44baa3['loop']=this['_loop'],_0x44baa3['startTime']=this['_startTime'],_0x44baa3['duration']=this['_duration'],_0x44baa3['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x44baa3['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x44baa3['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x44baa3['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x44baa3['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x5dc618['positional']?(_0x44baa3['position']['copy'](_0x5dc618['entity']['getPositio'+'n']()),_0x44baa3['maxDistanc'+'e']=_0x5dc618['maxDistanc'+'e'],_0x44baa3['refDistanc'+'e']=_0x5dc618['refDistanc'+'e'],_0x44baa3['rollOffFac'+'tor']=_0x5dc618['rollOffFac'+'tor'],_0x44baa3['distanceMo'+'del']=_0x5dc618['distanceMo'+'del'],_0x2caf0c=new jn(this['_manager'],_0x2cf61f,_0x44baa3)):_0x2caf0c=new ss(this['_manager'],_0x2cf61f,_0x44baa3),this['_firstNode']&&_0x2caf0c['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x2caf0c;}['_onInstanc'+'ePlay'](_0x42d26a){this['fire']('play',_0x42d26a),this['_component']['fire']('play',this,_0x42d26a);}['_onInstanc'+'ePause'](_0x23c3f1){this['fire']('pause',_0x23c3f1),this['_component']['fire']('pause',this,_0x23c3f1);}['_onInstanc'+'eResume'](_0x2d9fd9){this['fire']('resume',_0x2d9fd9),this['_component']['fire']('resume',this,_0x2d9fd9);}['_onInstanc'+'eStop'](_0x27cccb){const _0x59abca=this['instances']['indexOf'](_0x27cccb);_0x59abca!==-(-0xee*-0x2a+0x9c9*-0x1+-0x1d42)&&this['instances']['splice'](_0x59abca,0x6f*-0x30+0x781+0xd50),this['fire']('stop',_0x27cccb),this['_component']['fire']('stop',this,_0x27cccb);}['_onInstanc'+'eEnd'](_0x143368){const _0x3769df=this['instances']['indexOf'](_0x143368);_0x3769df!==-(-0x6ad*-0x2+-0x2495+-0x4*-0x5cf)&&this['instances']['splice'](_0x3769df,0xf35*-0x1+-0x15*-0x9+0xe79),this['fire']('end',_0x143368),this['_component']['fire']('end',this,_0x143368);}['_onAssetAd'+'d'](_0x1ff52f){this['load']();}['_onAssetLo'+'ad'](_0x5b90e7){this['load']();}['_onAssetRe'+'moved'](_0x46cfd3){_0x46cfd3['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x46cfd3['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x55497e){const _0xf6eba2=this['instances'];for(let _0x1957a0=0x123e+-0x1*0x1468+0x22a*0x1,_0x5cc804=_0xf6eba2['length'];_0x1957a0<_0x5cc804;_0x1957a0++)_0xf6eba2[_0x1957a0]['position']=_0x55497e;}set['asset'](_0x13701b){const _0x5ee278=this['_asset'];if(_0x5ee278){this['_assets']['off']('add:'+_0x5ee278,this['_onAssetAd'+'d'],this);const _0x1e50b3=this['_assets']['get'](_0x5ee278);_0x1e50b3&&_0x1e50b3['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x13701b,this['_asset']instanceof le&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0xec2625){this['_autoPlay']=!!_0xec2625;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x5b3ffe){if(this['_duration']=Math['max'](-0x1*-0x935+0x65d+-0xf92,Number(_0x5b3ffe)||0xea*-0xb+-0xcd*-0x3+0x7a7)||null,!this['_overlap']){const _0x1dffb6=this['instances'];for(let _0x380344=-0x8f6*0x1+0x6*-0x20e+0x154a,_0x451702=_0x1dffb6['length'];_0x380344<_0x451702;_0x380344++)_0x1dffb6[_0x380344]['duration']=this['_duration'];}}get['duration'](){let _0x2d6e8f=0x2*0xea2+0x1993*-0x1+-0x3b1;if(this['_hasAsset']()){const _0x3bac81=this['_assets']['get'](this['_asset']);_0x2d6e8f=_0x3bac81!=null&&_0x3bac81['resource']?_0x3bac81['resource']['duration']:-0x48d*-0x3+-0xcbd+0xd*-0x12;}return this['_duration']!=null?this['_duration']%(_0x2d6e8f||0x1ec*-0x4+-0x7a0+-0x51b*-0x3):_0x2d6e8f;}get['isLoaded'](){if(this['_hasAsset']()){const _0x2ba28a=this['_assets']['get'](this['_asset']);if(_0x2ba28a)return!!_0x2ba28a['resource'];}return!(0x34b*0x9+0x2a5*-0x2+-0x1858);}get['isPaused'](){const _0x1a5930=this['instances'],_0x31c4b2=_0x1a5930['length'];if(_0x31c4b2===-0x1ae0+0x4*-0x718+-0x11*-0x340)return!(0x8f6*0x3+-0x1*-0x1cac+-0x1*0x378d);for(let _0x262d09=-0xd3a+0xcc6+-0x3a*-0x2;_0x262d09<_0x31c4b2;_0x262d09++)if(!_0x1a5930[_0x262d09]['isPaused'])return!(-0x2646+0x6f1*-0x5+0x48fc);return!(0x1269+-0x1c5+-0x10a4);}get['isPlaying'](){const _0x323b26=this['instances'];for(let _0x594c81=0x20a*0x1+-0x5*0x12d+0x3d7,_0x38193c=_0x323b26['length'];_0x594c81<_0x38193c;_0x594c81++)if(_0x323b26[_0x594c81]['isPlaying'])return!(0x2*0x581+-0x15a2+-0x22*-0x50);return!(-0xd7f+-0x2*-0x2c+0xd28);}get['isStopped'](){const _0x3abd72=this['instances'];for(let _0x379955=0x41*0x73+0xd35*0x1+0x76*-0x5c,_0x340787=_0x3abd72['length'];_0x379955<_0x340787;_0x379955++)if(!_0x3abd72[_0x379955]['isStopped'])return!(0x1b1+-0x332*0x7+-0x2*-0xa57);return!(0x6*-0x65+0x23fb+-0x5*0x6b9);}set['loop'](_0x593120){this['_loop']=!!_0x593120;const _0x1859b3=this['instances'];for(let _0x28c031=0xb1a+0x1213+-0x1d2d,_0x2a3e93=_0x1859b3['length'];_0x28c031<_0x2a3e93;_0x28c031++)_0x1859b3[_0x28c031]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x56e033){this['_overlap']=!!_0x56e033;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x137fd0){if(this['_pitch']=Math['max'](Number(_0x137fd0)||-0x761+0x1c84+-0x7*0x305,-0x1e61+0x1*0x1ee8+-0xf*0x9+0.01),!this['_overlap']){const _0x4e45bd=this['instances'];for(let _0x411783=0x1c0*-0x14+0x2220+-0x7*-0x20,_0x2c5d4a=_0x4e45bd['length'];_0x411783<_0x2c5d4a;_0x411783++)_0x4e45bd[_0x411783]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x4b2553){if(this['_startTime']=Math['max'](0xe0*-0x1d+0x1cf4+-0x394,Number(_0x4b2553)||0x65*-0x13+0x22*-0x75+0x1709*0x1),!this['_overlap']){const _0x5c08e0=this['instances'];for(let _0x7a4ae5=-0x29f+-0xe*0x15a+0x44f*0x5,_0x2916a4=_0x5c08e0['length'];_0x7a4ae5<_0x2916a4;_0x7a4ae5++)_0x5c08e0[_0x7a4ae5]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x4c2450){if(this['_volume']=N['clamp'](Number(_0x4c2450)||0x29*0xb8+-0x1bf6+-0x1*0x182,-0xb5*-0x7+0xb*0x33d+-0x2892,0x98f+0x50*-0x1d+-0x7*0x12),!this['_overlap']){const _0x28254b=this['instances'];for(let _0x504645=0x1ae2+-0x2*-0x77f+-0x29e0,_0x184878=_0x28254b['length'];_0x504645<_0x184878;_0x504645++)_0x28254b[_0x504645]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(er,'EVENT_PLAY','play'),c(er,'EVENT_PAUS'+'E','pause'),c(er,'EVENT_RESU'+'ME','resume'),c(er,'EVENT_STOP','stop'),c(er,'EVENT_LOAD','load');class Nr extends ue{constructor(){super(...arguments),c(this,'_volume',0x20ac+-0x2*0x916+-0x4d5*0x3),c(this,'_pitch',-0x1b88*0x1+-0xdad+0x2936),c(this,'_positiona'+'l',!(-0xd12+-0x58*0x11+0x12ea)),c(this,'_refDistan'+'ce',0x99a*0x2+-0xb2a*0x1+-0x809),c(this,'_maxDistan'+'ce',-0xb*0xb3+-0x23de*0x2+0x767d),c(this,'_rollOffFa'+'ctor',-0x1*-0x1b0b+-0x2*0xfad+-0x17*-0x30),c(this,'_distanceM'+'odel',cc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x398e87,_0x397fb5,_0x4a2190){const _0x166722=this['_slots'];for(const _0x1d40f5 in _0x166722){const _0x4c09a5=_0x166722[_0x1d40f5];if(!_0x4c09a5['overlap']){const _0x215c3a=_0x4c09a5['instances'];for(let _0x512d7c=0x1b2a+-0x21a1*-0x1+-0x3ccb,_0x1546f1=_0x215c3a['length'];_0x512d7c<_0x1546f1;_0x512d7c++)_0x215c3a[_0x512d7c][_0x398e87]=_0x4a2190?_0x4c09a5[_0x398e87]*_0x397fb5:_0x397fb5;}}}set['distanceMo'+'del'](_0x41dcd3){this['_distanceM'+'odel']=_0x41dcd3,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x41dcd3,!(0x2*0x821+-0x1d31+0xcf0));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x8ef34d){this['_maxDistan'+'ce']=_0x8ef34d,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x8ef34d,!(-0x52a+0x148d+-0xf62));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x320035){this['_refDistan'+'ce']=_0x320035,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x320035,!(-0x23cf+0x1*0x1bb+-0x6d1*-0x5));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x12b744){this['_rollOffFa'+'ctor']=_0x12b744,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x12b744,!(0xbbc+0x19b4+-0x256f));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x3f103e){this['_pitch']=_0x3f103e,this['_updateSou'+'ndInstance'+'s']('pitch',_0x3f103e,!(0xdef+-0x189f+0xab0));}get['pitch'](){return this['_pitch'];}set['volume'](_0x49ef39){this['_volume']=_0x49ef39,this['_updateSou'+'ndInstance'+'s']('volume',_0x49ef39,!(-0x2*-0x1138+0x1*-0x2593+0x49*0xb));}get['volume'](){return this['_volume'];}set['positional'](_0x6be925){this['_positiona'+'l']=_0x6be925;const _0x3eed75=this['_slots'];for(const _0x4d10b6 in _0x3eed75){const _0x6a9615=_0x3eed75[_0x4d10b6];if(!_0x6a9615['overlap']){const _0x2911c6=_0x6a9615['instances'],_0xb79aba=_0x2911c6['length'];for(let _0x3c6ade=_0xb79aba-(0x247+-0x3*-0xe0+0x13*-0x42);_0x3c6ade>=-0x1627+0xe*-0xe4+0x229f*0x1;_0x3c6ade--){const _0x5dbf33=_0x2911c6[_0x3c6ade]['isPlaying']||_0x2911c6[_0x3c6ade]['isSuspende'+'d'],_0x22c7e3=_0x2911c6[_0x3c6ade]['currentTim'+'e'];_0x5dbf33&&_0x2911c6[_0x3c6ade]['stop']();const _0x282438=_0x6a9615['_createIns'+'tance']();_0x5dbf33&&(_0x282438['play'](),_0x282438['currentTim'+'e']=_0x22c7e3),_0x2911c6['push'](_0x282438);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x41b74d){const _0x31a792=this['_slots'];if(_0x31a792){for(const _0x3bfce0 in _0x31a792)_0x31a792[_0x3bfce0]['stop']();}const _0x43462c={};for(const _0xea8023 in _0x41b74d)_0x41b74d[_0xea8023]instanceof er?_0x43462c[_0x41b74d[_0xea8023]['name']]=_0x41b74d[_0xea8023]:_0x41b74d[_0xea8023]['name']&&(_0x43462c[_0x41b74d[_0xea8023]['name']]=new er(this,_0x41b74d[_0xea8023]['name'],_0x41b74d[_0xea8023]));this['_slots']=_0x43462c,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x103b61=this['_slots'],_0x225aa5=this['_playingBe'+'foreDisabl'+'e'];for(const _0x4a5a74 in _0x103b61){const _0x13db15=_0x103b61[_0x4a5a74];_0x13db15['autoPlay']&&_0x13db15['isStopped']?_0x13db15['play']():_0x225aa5[_0x4a5a74]?_0x13db15['resume']():_0x13db15['isLoaded']||_0x13db15['load']();}}['onDisable'](){const _0x4b3d7c=this['_slots'],_0x51e4ea={};for(const _0x38ec4e in _0x4b3d7c)_0x4b3d7c[_0x38ec4e]['overlap']||_0x4b3d7c[_0x38ec4e]['isPlaying']&&(_0x4b3d7c[_0x38ec4e]['pause'](),_0x51e4ea[_0x38ec4e]=!(0xff2*0x2+0x188e+0x5*-0xb4a));this['_playingBe'+'foreDisabl'+'e']=_0x51e4ea;}['onRemove'](){this['off']();}['addSlot'](_0x23ad40,_0x4376a4){const _0x5f5473=this['_slots'];if(_0x5f5473[_0x23ad40])return v['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x23ad40+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x5af5e0=new er(this,_0x23ad40,_0x4376a4);return _0x5f5473[_0x23ad40]=_0x5af5e0,_0x5af5e0['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x5af5e0['play'](),_0x5af5e0;}['removeSlot'](_0x40774f){const _0x3f2dbd=this['_slots'];_0x3f2dbd[_0x40774f]&&(_0x3f2dbd[_0x40774f]['stop'](),delete _0x3f2dbd[_0x40774f]);}['slot'](_0x5c5a34){return this['_slots'][_0x5c5a34];}['_getSlotPr'+'operty'](_0x4e1520,_0x360f92){if(!this['enabled']||!this['entity']['enabled'])return;const _0x52a72a=this['_slots'][_0x4e1520];if(!_0x52a72a){v['warn']('Trying\x20to\x20'+'get\x20'+_0x360f92+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x4e1520+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x52a72a[_0x360f92];}['isPlaying'](_0x4b5fff){return this['_getSlotPr'+'operty'](_0x4b5fff,'isPlaying')||!(-0x1e83+-0x5*-0x640+-0x2*0x5e);}['isLoaded'](_0x573268){return this['_getSlotPr'+'operty'](_0x573268,'isLoaded')||!(0xc4e+-0x1021+-0x1ea*-0x2);}['isPaused'](_0x5800f8){return this['_getSlotPr'+'operty'](_0x5800f8,'isPaused')||!(0x2386+0xf73+-0x32f8);}['isStopped'](_0x554af3){return this['_getSlotPr'+'operty'](_0x554af3,'isStopped')||!(0x3fb*-0x3+-0x1*0x2326+0x2f18);}['play'](_0x355a28){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x3dbaf4=this['_slots'][_0x355a28];return _0x3dbaf4?_0x3dbaf4['play']():(v['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x355a28+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x449cbe){const _0x421df5=this['_slots'];if(_0x449cbe){const _0x1de57b=_0x421df5[_0x449cbe];if(!_0x1de57b){v['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x449cbe+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x1de57b['pause']();}else{for(const _0x332d19 in _0x421df5)_0x421df5[_0x332d19]['pause']();}}['resume'](_0x4e8a21){const _0x238d53=this['_slots'];if(_0x4e8a21){const _0x53d547=_0x238d53[_0x4e8a21];if(!_0x53d547){v['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x4e8a21+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x53d547['isPaused']&&_0x53d547['resume']();}else{for(const _0x26ebbf in _0x238d53)_0x238d53[_0x26ebbf]['resume']();}}['stop'](_0x4460d4){const _0x3745b6=this['_slots'];if(_0x4460d4){const _0x5c2d28=_0x3745b6[_0x4460d4];if(!_0x5c2d28){v['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x4460d4+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5c2d28['stop']();}else{for(const _0x39f1e3 in _0x3745b6)_0x3745b6[_0x39f1e3]['stop']();}}}c(Nr,'EVENT_PLAY','play'),c(Nr,'EVENT_PAUS'+'E','pause'),c(Nr,'EVENT_RESU'+'ME','resume'),c(Nr,'EVENT_STOP','stop'),c(Nr,'EVENT_END','end');class kI{constructor(){this['enabled']=!(0x19a3+-0x2326+-0x983*-0x1);}}const xx=['enabled'];class BI extends Xe{constructor(_0x2bde13){super(_0x2bde13),this['id']='sound',this['ComponentT'+'ype']=Nr,this['DataType']=kI,this['schema']=xx,this['manager']=_0x2bde13['soundManag'+'er'],v['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x3fdb9a){this['manager']['volume']=_0x3fdb9a;}get['volume'](){return this['manager']['volume'];}get['context'](){return Li()?this['manager']['context']:(v['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x24d150,_0x454134,_0x9fbad9){_0x9fbad9=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x4b5cec=0x2210+0x152c+0xa*-0x586;_0x4b5cec<_0x9fbad9['length'];_0x4b5cec++)_0x454134['hasOwnProp'+'erty'](_0x9fbad9[_0x4b5cec])&&(_0x24d150[_0x9fbad9[_0x4b5cec]]=_0x454134[_0x9fbad9[_0x4b5cec]]);super['initialize'+'ComponentD'+'ata'](_0x24d150,_0x454134,['enabled']);}['cloneCompo'+'nent'](_0x16d0ac,_0x24cdec){const _0x48599a=_0x16d0ac['sound'],_0x42dc29=_0x48599a['slots'],_0x264209={};for(const _0x33e059 in _0x42dc29){const _0x1e5ca9=_0x42dc29[_0x33e059];_0x264209[_0x33e059]={'name':_0x1e5ca9['name'],'volume':_0x1e5ca9['volume'],'pitch':_0x1e5ca9['pitch'],'loop':_0x1e5ca9['loop'],'duration':_0x1e5ca9['duration'],'startTime':_0x1e5ca9['startTime'],'overlap':_0x1e5ca9['overlap'],'autoPlay':_0x1e5ca9['autoPlay'],'asset':_0x1e5ca9['asset']};}const _0x5622d4={'distanceModel':_0x48599a['distanceMo'+'del'],'enabled':_0x48599a['enabled'],'maxDistance':_0x48599a['maxDistanc'+'e'],'pitch':_0x48599a['pitch'],'positional':_0x48599a['positional'],'refDistance':_0x48599a['refDistanc'+'e'],'rollOffFactor':_0x48599a['rollOffFac'+'tor'],'slots':_0x264209,'volume':_0x48599a['volume']};return this['addCompone'+'nt'](_0x24cdec,_0x5622d4);}['onUpdate'](_0xcdb275){const _0x401e72=this['store'];for(const _0x3cb6b2 in _0x401e72)if(_0x401e72['hasOwnProp'+'erty'](_0x3cb6b2)){const _0x188f7f=_0x401e72[_0x3cb6b2]['entity'];if(_0x188f7f['enabled']){const _0x300dea=_0x188f7f['sound'];if(_0x300dea['enabled']&&_0x300dea['positional']){const _0xe48a89=_0x188f7f['getPositio'+'n'](),_0x2dd705=_0x300dea['slots'];for(const _0x233197 in _0x2dd705)_0x2dd705[_0x233197]['updatePosi'+'tion'](_0xe48a89);}}}}['onBeforeRe'+'move'](_0x39415c,_0x3f265a){const _0x228195=_0x3f265a['slots'];for(const _0x3c0873 in _0x228195)_0x228195[_0x3c0873]['overlap']||_0x228195[_0x3c0873]['stop']();_0x3f265a['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}ue['_buildAcce'+'ssors'](Nr['prototype'],xx);const Cg='simple',Mg='animated';class bi extends ce{constructor(_0x362dc7,_0x524b9b){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x362dc7,this['_frame']=0x6a*-0x23+-0x849+0x16c7,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x524b9b['spriteAsse'+'t'],this['name']=_0x524b9b['name'],this['fps']=_0x524b9b['fps']||-0x1*0x1f83+0x481+0x1b02,this['loop']=_0x524b9b['loop']||!(0x1f5a+0x24df+-0x8*0x887),this['_playing']=!(0x1*0x264f+-0x7af*-0x5+0x3*-0x1993),this['_paused']=!(-0x1fbe+0x1acc+0x4f3),this['_time']=-0x13c0+0x13d4+0x14*-0x1);}get['duration'](){if(this['_sprite']){const _0x4418fd=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4418fd);}return 0x1fe7*-0x1+-0x241a+0x4401;}set['frame'](_0x8f7ea2){this['_setFrame'](_0x8f7ea2);const _0x228d61=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x228d61);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x2b615a){var _0x3278de;if(this['_sprite']&&((_0x3278de=this['_evtSetMes'+'hes'])==null||_0x3278de['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x2b615a,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x521b88;!_0x2b615a||!_0x2b615a['atlas']?(_0x521b88=this['_component']['_meshInsta'+'nce'],_0x521b88&&(_0x521b88['deletePara'+'meter']('texture_em'+'issiveMap'),_0x521b88['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x2b615a['atlas']['texture']&&(_0x521b88=this['_component']['_meshInsta'+'nce'],_0x521b88&&(_0x521b88['setParamet'+'er']('texture_em'+'issiveMap',_0x2b615a['atlas']['texture']),_0x521b88['setParamet'+'er']('texture_op'+'acityMap',_0x2b615a['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x2471e9){const _0x9e3c12=this['_component']['system']['app']['assets'];let _0x5d50c4=_0x2471e9;if(_0x2471e9 instanceof le&&(_0x5d50c4=_0x2471e9['id']),this['_spriteAss'+'et']!==_0x5d50c4){if(this['_spriteAss'+'et']){const _0x36fa35=_0x9e3c12['get'](this['_spriteAss'+'et']);_0x36fa35&&this['_unbindSpr'+'iteAsset'](_0x36fa35);}if(this['_spriteAss'+'et']=_0x5d50c4,this['_spriteAss'+'et']){const _0x4f4cc1=_0x9e3c12['get'](this['_spriteAss'+'et']);_0x4f4cc1?this['_bindSprit'+'eAsset'](_0x4f4cc1):(this['sprite']=null,_0x9e3c12['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x526e0a){this['_setTime'](_0x526e0a),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x152e+0x1*0xef3+-0x121*0x20),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0xedb+0x1*-0x1b3b+-0x2a16*-0x1;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x1a7523){this['_component']['system']['app']['assets']['off']('add:'+_0x1a7523['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x1a7523['id']&&this['_bindSprit'+'eAsset'](_0x1a7523);}['_bindSprit'+'eAsset'](_0x467294){_0x467294['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x467294['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x467294['resource']?this['_onSpriteA'+'ssetLoad'](_0x467294):this['_component']['system']['app']['assets']['load'](_0x467294);}['_unbindSpr'+'iteAsset'](_0x4cc276){_0x4cc276&&(_0x4cc276['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4cc276['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4cc276['resource']&&!_0x4cc276['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x4cc276['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x13438b){if(!_0x13438b['resource'])this['sprite']=null;else{if(_0x13438b['resource']['atlas'])this['sprite']=_0x13438b['resource'];else{const _0x41aef6=_0x13438b['data']['textureAtl'+'asAsset'],_0x4316dd=this['_component']['system']['app']['assets'];_0x4316dd['off']('load:'+_0x41aef6,this['_onTexture'+'AtlasLoad'],this),_0x4316dd['once']('load:'+_0x41aef6,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x2bae64){const _0x43ee38=this['_spriteAss'+'et'];_0x43ee38 instanceof le?this['_onSpriteA'+'ssetLoad'](_0x43ee38):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x43ee38));}['_onSpriteA'+'ssetRemove'](_0x1893c2){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Ti&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x5c52ab){if(this['fps']===0x139f*0x1+-0x1081+-0x31e||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0xfd2eec=this['fps']<-0x2*-0x5da+0x1547+0x1*-0x20fb?-(-0xdf2+0x5*0x75d+0x2*-0xb6f):-0x6d*0x52+0x12fa+-0x7*-0x247,_0x2eda2e=this['_time']+_0x5c52ab*this['_component']['speed']*_0xfd2eec,_0x67d6d6=this['duration'],_0x2f46dd=_0x2eda2e>_0x67d6d6||_0x2eda2e<0xec6*-0x2+0x24f0+0x2b*-0x2c;this['_setTime'](_0x2eda2e);let _0x4c0a66=this['frame'];this['_sprite']?_0x4c0a66=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x67d6d6):_0x4c0a66=0x1*0x1660+0x1*-0x3f6+0x1*-0x126a,_0x4c0a66!==this['_frame']&&this['_setFrame'](_0x4c0a66),_0x2f46dd&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x4*0x267+-0x2158+0x17bd),this['_paused']=!(0x78d+0x2*-0x137d+0x1f6e),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x588cdb){this['_time']=_0x588cdb;const _0x488296=this['duration'];this['_time']<-0xe1a+-0x999+0x17b3*0x1?this['loop']?this['_time']=this['_time']%_0x488296+_0x488296:this['_time']=0xf*0x167+-0x2699*0x1+0x1190:this['_time']>_0x488296&&(this['loop']?this['_time']%=_0x488296:this['_time']=_0x488296);}['_setFrame'](_0x4e82d6){this['_sprite']?this['_frame']=N['clamp'](_0x4e82d6,0x1c5*-0x11+0x4*-0x13+0x1e61,this['_sprite']['frameKeys']['length']-(0x267d+0x1fb5*-0x1+0x5*-0x15b)):this['_frame']=_0x4e82d6,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x26c7da=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x26c7da['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0xa5e+-0x1970+0x11e7*0x2),this['_paused']=!(-0x1bf1+0x4f0+0x1702),this['frame']=-0x2458+-0xdf*0xf+0x7*0x70f,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x202f+-0x19c+-0x1e93),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x163*0x19+-0x1da1*-0x1+-0x404b),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x1d0f+0x1*0x12e7+0xa29),this['_paused']=!(-0x2*0x5a7+0x1d92+0xbb*-0x19),this['_time']=-0x1838+0x2*0xab7+0x2ca,this['frame']=0x1d54+0x1*-0x1835+0x51f*-0x1,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(bi,'EVENT_PLAY','play'),c(bi,'EVENT_PAUS'+'E','pause'),c(bi,'EVENT_RESU'+'ME','resume'),c(bi,'EVENT_STOP','stop'),c(bi,'EVENT_END','end'),c(bi,'EVENT_LOOP','loop');const Pg='texture_em'+'issiveMap',Rg='texture_op'+'acityMap',Ig='material_e'+'missive',Dg='material_o'+'pacity',NI='innerOffse'+'t',zI='outerScale',UI='atlasRect';class ji extends ue{constructor(_0x25c86a,_0x43b3e3){super(_0x25c86a,_0x43b3e3),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Cg,this['_material']=_0x25c86a['defaultMat'+'erial'],this['_color']=new Y(0x1*0x741+0x3*0xaac+-0x2744,0x1*-0x2ae+0x17*-0x135+-0x3*-0xa26,-0x18ec+-0xad*0x5+0x1*0x1c4e,-0x2*-0xed+0x2402+-0x25db),this['_colorUnif'+'orm']=new Float32Array(-0x3*-0x551+-0x211e+0x112e),this['_speed']=0x95e*0x2+0xa*0x237+-0x28e1,this['_flipX']=!(-0x1e8*-0x1+0x1ee0+0x20c7*-0x1),this['_flipY']=!(0x23b2+0x40f*-0x2+0xd*-0x21f),this['_width']=0x1f64+0x559*-0x1+0x25e*-0xb,this['_height']=0x2*-0x1253+0x619+0xf47*0x2,this['_drawOrder']=0x1219+0x7*0x83+-0x15ae,this['_layers']=[Fi],this['_outerScal'+'e']=new W(0x1e5d+-0x13*0x1b9+0x1*0x25f,-0x2569+-0xa5e+0x2fc8),this['_outerScal'+'eUniform']=new Float32Array(0xa*0x1c0+-0x25cd+-0x1*-0x144f),this['_innerOffs'+'et']=new Q(),this['_innerOffs'+'etUniform']=new Float32Array(0x10d2+0xe*-0x14e+0x176),this['_atlasRect']=new Q(),this['_atlasRect'+'Uniform']=new Float32Array(0x22*0xee+-0x23*-0x29+-0x2533*0x1),this['_batchGrou'+'pId']=-(-0xb62+-0x1fe5+-0x5*-0x8a8),this['_batchGrou'+'p']=null,this['_node']=new De(),this['_model']=new Oi(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x43b3e3['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x43b3e3,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1*-0x20b1+-0xb60*-0x2+0x9f2),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new bi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0x1d3b+-0x10d3+-0xc67),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x502272){this['_type']!==_0x502272&&(this['_type']=_0x502272,this['_type']===Cg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Mg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x106f02){this['_currentCl'+'ip']['frame']=_0x106f02;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x4a8f0f){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x4a8f0f;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x56e499){this['_currentCl'+'ip']['sprite']=_0x56e499;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3c40e2){this['_material']=_0x3c40e2,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3c40e2);}get['material'](){return this['_material'];}set['color'](_0x250f57){this['_color']['r']=_0x250f57['r'],this['_color']['g']=_0x250f57['g'],this['_color']['b']=_0x250f57['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x89*-0x36+-0x5*0x6c9+0x3*0x14f1]=this['_color']['r'],this['_colorUnif'+'orm'][0x260f*-0x1+0x26d0+-0xc0]=this['_color']['g'],this['_colorUnif'+'orm'][0x215c+0x2*-0x115+0x4*-0x7cc]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x410dc4){this['_color']['a']=_0x410dc4,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Dg,_0x410dc4);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x9642b7){if(!_0x9642b7){for(const _0x405eac in this['_clips'])this['removeClip'](_0x405eac);return;}for(const _0x56f89a in this['_clips']){let _0x2027d9=!(-0x1ab3+0x23d7+-0x1*0x923);for(const _0x5cc567 in _0x9642b7)if(_0x9642b7[_0x5cc567]['name']===_0x56f89a){_0x2027d9=!(-0x1*-0x85c+0x1e66*0x1+-0x26c2),this['_clips'][_0x56f89a]['fps']=_0x9642b7[_0x5cc567]['fps'],this['_clips'][_0x56f89a]['loop']=_0x9642b7[_0x5cc567]['loop'],_0x9642b7[_0x5cc567]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x56f89a]['sprite']=_0x9642b7[_0x5cc567]['sprite']:_0x9642b7[_0x5cc567]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x56f89a]['spriteAsse'+'t']=_0x9642b7[_0x5cc567]['spriteAsse'+'t']);break;}_0x2027d9||this['removeClip'](_0x56f89a);}for(const _0x26ef67 in _0x9642b7)this['_clips'][_0x9642b7[_0x26ef67]['name']]||this['addClip'](_0x9642b7[_0x26ef67]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x4dce13){this['_speed']=_0x4dce13;}get['speed'](){return this['_speed'];}set['flipX'](_0x50cffc){this['_flipX']!==_0x50cffc&&(this['_flipX']=_0x50cffc,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x3cb4b9){this['_flipY']!==_0x3cb4b9&&(this['_flipY']=_0x3cb4b9,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x359f17){_0x359f17!==this['_width']&&(this['_width']=_0x359f17,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x5954e0){_0x5954e0!==this['_height']&&(this['_height']=_0x5954e0,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Qe||this['sprite']['renderMode']===nt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x68723c){var _0x2cdfc7,_0x294c00;if(this['_batchGrou'+'pId']===_0x68723c)return;const _0x15451e=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x68723c,this['entity']['enabled']&&_0x15451e>=0x1988*-0x1+0x1*-0x265+0x1bed&&((_0x2cdfc7=this['system']['app']['batcher'])==null||_0x2cdfc7['remove'](et['SPRITE'],_0x15451e,this['entity'])),this['entity']['enabled']&&_0x68723c>=0x1*-0xfe1+-0x3*-0x822+-0x885?(_0x294c00=this['system']['app']['batcher'])==null||_0x294c00['insert'](et['SPRITE'],_0x68723c,this['entity']):_0x15451e>=-0x26a8+0x12e7+0x13c1&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x4e6a3c){this['_autoPlayC'+'lip']=_0x4e6a3c instanceof bi?_0x4e6a3c['name']:_0x4e6a3c,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x14441f){this['_drawOrder']=_0x14441f,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x14441f);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x51e581){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x51e581,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x4a04e0;const _0xd3a9a0=this['system']['app'],_0x5c860b=_0xd3a9a0['scene'],_0x39cdfc=_0x5c860b['layers'];this['_evtLayers'+'Changed']=_0x5c860b['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x39cdfc&&(this['_evtLayerA'+'dded']=_0x39cdfc['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x39cdfc['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x2503*-0x1+0x2d7*0x1+0x27da*-0x1&&((_0x4a04e0=_0xd3a9a0['batcher'])==null||_0x4a04e0['insert'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x1b2ec1,_0x48e97a,_0x278abb,_0x4280c9;const _0x1d2f5c=this['system']['app'],_0x1e7247=_0x1d2f5c['scene']['layers'];(_0x1b2ec1=this['_evtLayers'+'Changed'])==null||_0x1b2ec1['off'](),this['_evtLayers'+'Changed']=null,_0x1e7247&&((_0x48e97a=this['_evtLayerA'+'dded'])==null||_0x48e97a['off'](),this['_evtLayerA'+'dded']=null,(_0x278abb=this['_evtLayerR'+'emoved'])==null||_0x278abb['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x1af5+0x15d3+-0x30c8&&((_0x4280c9=_0x1d2f5c['batcher'])==null||_0x4280c9['remove'](et['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x598aad;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x3e4b8a in this['_clips'])this['_clips'][_0x3e4b8a]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x598aad=this['_node'])==null||_0x598aad['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x4e141c=[this['_meshInsta'+'nce']];for(let _0xd956=-0x25c2+0x19b1+-0xc11*-0x1,_0x36e47c=this['_layers']['length'];_0xd956<_0x36e47c;_0xd956++){const _0x1d3f09=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0xd956]);_0x1d3f09&&_0x1d3f09['addMeshIns'+'tances'](_0x4e141c);}this['_addedMode'+'l']=!(0x1*-0xf83+-0x236f+0x1*0x32f2);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x51a041=[this['_meshInsta'+'nce']];for(let _0x4c1243=-0xc88+-0x16be+-0xa*-0x387,_0x3aeced=this['_layers']['length'];_0x4c1243<_0x3aeced;_0x4c1243++){const _0xc2759f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4c1243]);_0xc2759f&&_0xc2759f['removeMesh'+'Instances'](_0x51a041);}this['_addedMode'+'l']=!(0x385+-0x2272+0x4a*0x6b);}['_showFrame'](_0xa5b432){if(!this['sprite'])return;const _0xb846ab=this['sprite']['meshes'][_0xa5b432];if(!_0xb846ab){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(-0x1a7a+0x1*-0xc5f+-0x1*-0x26da));return;}let _0x554667;if(this['sprite']['renderMode']===nt?_0x554667=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Qe?_0x554667=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x554667=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Le(_0xb846ab,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x1*-0x91b+-0x2ef*0x2+0x1*0xefa),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x1*-0x16f+0x71c+-0x88a),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0xf53*-0x2+-0x132e+0xc75*0x4]=this['_color']['r'],this['_colorUnif'+'orm'][-0x5c0+-0x22eb+0x28ac*0x1]=this['_color']['g'],this['_colorUnif'+'orm'][-0x10a6+-0x355*0x9+0x2ea5]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x554667&&(this['_meshInsta'+'nce']['material']=_0x554667),this['_meshInsta'+'nce']['mesh']!==_0xb846ab&&(this['_meshInsta'+'nce']['mesh']=_0xb846ab,this['_meshInsta'+'nce']['visible']=!(-0x200e*0x1+0x40*-0x31+-0x35*-0xd6),this['_meshInsta'+'nce']['_aabbVer']=-(0x91f*0x1+0x375+-0xc93)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Pg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Pg),this['_meshInsta'+'nce']['deletePara'+'meter'](Rg)),this['sprite']['atlas']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x5c21f7=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0xa5b432]];if(_0x5c21f7){const _0x3c46a5=(-0x8b*-0x39+-0x108b+-0xe66*0x1)/_0x5c21f7['rect']['z'],_0x59cc3d=(-0x1*-0x1b73+0xbd4+-0x2745)/_0x5c21f7['rect']['w'];this['_innerOffs'+'et']['set'](_0x5c21f7['border']['x']*_0x3c46a5,_0x5c21f7['border']['y']*_0x59cc3d,_0x5c21f7['border']['z']*_0x3c46a5,_0x5c21f7['border']['w']*_0x59cc3d);const _0x4d4166=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5c21f7['rect']['x']/_0x4d4166['width'],_0x5c21f7['rect']['y']/_0x4d4166['height'],_0x5c21f7['rect']['z']/_0x4d4166['width'],_0x5c21f7['rect']['w']/_0x4d4166['height']);}else this['_innerOffs'+'et']['set'](-0x1bb*-0xe+0x7bb+-0x1ff5,0x2*-0xc17+-0x1a18+0x3246,0x1319+0x7c7+-0x1ae0,-0x10c1*0x1+-0x347+0x1408*0x1);this['_innerOffs'+'etUniform'][-0x2e7+0x1*-0x105+-0x2*-0x1f6]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x27*0xc3+0x12df+0x1031*-0x3]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1afd+-0x7*0x3d9+0x35ee]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1*0xc1+-0x2*-0x95f+-0x137c]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](NI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x114*0x6+-0x2660+-0x668*-0x7]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x24cb+-0x2*-0x535+0x133*0x16]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x3c+0x45f*0x2+-0x880]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x10*-0x1e0+-0x66c+0x1*0x246f]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x56bb23=this['flipX']?-(-0x653+0x1ea5+-0x1851):-0x1*0x91e+0x5*-0x52+0xab9,_0x546e1e=this['flipY']?-(0x1*0x18fd+-0x2050+0x4*0x1d5):-0x24a1+-0x14b*0x17+0x1*0x425f,_0xe79f3f=-0xe9a+0x9*0x1ac+-0x72,_0x41c9b3=0x1c5e+0x2c8*0x9+-0x3566;if(this['sprite']&&(this['sprite']['renderMode']===nt||this['sprite']['renderMode']===Qe)){let _0x14d8ed=-0x1501+0x1890+-0x38e,_0x2fc6ca=0x1a38+-0xdb*-0x2+-0x3*0x94f;if(this['sprite']['atlas']){const _0x8de18b=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x8de18b&&(_0x14d8ed=_0x8de18b['rect']['z'],_0x2fc6ca=_0x8de18b['rect']['w'],_0xe79f3f=(0x177b*-0x1+-0x65a*-0x5+-0xa3*0xd+0.5-_0x8de18b['pivot']['x'])*this['_width'],_0x41c9b3=(0x22c1+-0x85*0x3d+-0x310+0.5-_0x8de18b['pivot']['y'])*this['_height']);}const _0x10fd5b=_0x14d8ed/this['sprite']['pixelsPerU'+'nit'],_0x37f2d8=_0x2fc6ca/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x10fd5b),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x37f2d8)),_0x56bb23*=_0x10fd5b,_0x546e1e*=_0x37f2d8,this['_outerScal'+'e']['x']/=_0x10fd5b,this['_outerScal'+'e']['y']/=_0x37f2d8,_0x56bb23*=N['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x10fd5b),0x2370+0x260*-0x1+-0x2110+0.0001,0x9d4+0x2045+-0x2a18),_0x546e1e*=N['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x37f2d8),-0x21c2+-0x2234+0x43f6*0x1+0.0001,-0x182a+-0x1683+-0x2*-0x1757),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][-0x1a*0x20+-0x11d5+-0x303*-0x7]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x783+-0x60e+0x174*-0x1]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x56bb23,_0x546e1e,0x4*0x5ec+-0x2114+0x965),this['_node']['setLocalPo'+'sition'](_0xe79f3f,_0x41c9b3,0x1b*0xd6+-0x1*-0x1979+-0x300b);}['_updateAab'+'b'](_0x32ac9c){return _0x32ac9c['center']['set'](-0x250b+0x6d4+-0x1e37*-0x1,0x3*0xbb+0x6b*0x57+-0x268e*0x1,0x1675+0x12ff*0x1+-0x2974),_0x32ac9c['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x2c+-0x1a62+0x1a8e+0.5),this['_outerScal'+'e']['y']*(0x2520+-0x1397+-0x1189+0.5),0x962*-0x2+-0x4e1*0x7+-0x1f*-0x1b5+0.001),_0x32ac9c['setFromTra'+'nsformedAa'+'bb'](_0x32ac9c,this['_node']['getWorldTr'+'ansform']()),_0x32ac9c;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Mg)return;const _0x3d1eee=this['_clips'][this['_autoPlayC'+'lip']];_0x3d1eee&&!_0x3d1eee['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x3d1eee['name']);}['_onLayersC'+'hanged'](_0x48cb7a,_0x304b1e){_0x48cb7a['off']('add',this['onLayerAdd'+'ed'],this),_0x48cb7a['off']('remove',this['onLayerRem'+'oved'],this),_0x304b1e['on']('add',this['onLayerAdd'+'ed'],this),_0x304b1e['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x480a95){this['layers']['indexOf'](_0x480a95['id'])<0x26de+-0x708+-0x65e*0x5||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x480a95['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x55bbe5){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x55bbe5['id'])<0xe86+0xd87+0x2b*-0xa7||_0x55bbe5['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x1238e4=0x8*0x3e6+-0x1e51+-0xdf;_0x1238e4<this['layers']['length'];_0x1238e4++){const _0x3acf9a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1238e4]);_0x3acf9a&&_0x3acf9a['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x58963b){const _0x26ddd7=new bi(this,{'name':_0x58963b['name'],'fps':_0x58963b['fps'],'loop':_0x58963b['loop'],'spriteAsset':_0x58963b['spriteAsse'+'t']});return this['_clips'][_0x58963b['name']]=_0x26ddd7,_0x26ddd7['name']&&_0x26ddd7['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x26ddd7;}['removeClip'](_0x342081){delete this['_clips'][_0x342081];}['clip'](_0x265fc7){return this['_clips'][_0x265fc7];}['play'](_0x2f8c7e){const _0x4b9045=this['_clips'][_0x2f8c7e],_0x354cef=this['_currentCl'+'ip'];return _0x354cef&&_0x354cef!==_0x4b9045&&(_0x354cef['_playing']=!(-0x1cc7+-0xc83*-0x1+0xf5*0x11)),this['_currentCl'+'ip']=_0x4b9045,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x4b9045,this['_currentCl'+'ip']['play']()):v['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x2f8c7e+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x4b9045;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(ji,'EVENT_PLAY','play'),c(ji,'EVENT_PAUS'+'E','pause'),c(ji,'EVENT_RESU'+'ME','resume'),c(ji,'EVENT_STOP','stop'),c(ji,'EVENT_END','end'),c(ji,'EVENT_LOOP','loop');class VI{constructor(){this['enabled']=!(-0x1681+0x1e7d+-0x7fc);}}const Sx=['enabled'];class GI extends Xe{constructor(_0x357342){super(_0x357342),this['id']='sprite',this['ComponentT'+'ype']=ji,this['DataType']=VI,this['schema']=Sx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x14b8c6){this['_defaultMa'+'terial']=_0x14b8c6;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x2b61c1=new he(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Se,'name':'sprite'}),_0x14d024=new Uint8Array(_0x2b61c1['lock']());_0x14d024[0x85f*0x2+-0x60d*-0x1+-0x16cb]=_0x14d024[0xa9+0x955*-0x1+0x1*0x8ad]=_0x14d024[0x2494+-0x1*0x99+-0x23f9*0x1]=_0x14d024[0x154d+0x2124+-0x366e]=-0x21f4+-0x11a*0x15+-0x1*-0x3a15,_0x2b61c1['unlock']();const _0x276291=new cs();_0x276291['diffuse']['set'](0x21b1+-0x11*-0x10a+-0x335b,0x965+-0xa*0x1+0x1df*-0x5,0x1b8b+0x673*-0x2+-0xea5),_0x276291['emissive']['set'](-0x1*-0x15af+0x22eb+-0x3899,-0x84b+-0x4*-0x4cf+0x2bc*-0x4,0x13ce+0x4*0x507+0x1*-0x27e9),_0x276291['emissiveMa'+'p']=_0x2b61c1,_0x276291['opacityMap']=_0x2b61c1,_0x276291['opacityMap'+'Channel']='a',_0x276291['useLightin'+'g']=!(-0x203e+-0xb8c*0x2+-0x1*-0x3757),_0x276291['useTonemap']=!(-0x61*-0x25+-0x1*-0xab1+-0x18b5),_0x276291['useFog']=!(0x2680+0x177a+0xa7*-0x5f),_0x276291['useSkybox']=!(0x153d+-0x79f+-0xd9d),_0x276291['blendType']=hr,_0x276291['depthWrite']=!(-0x221d+-0x8dd*-0x2+0x832*0x2),_0x276291['pixelSnap']=!(0xe3*0x9+-0x80*0x29+0xc86*0x1),_0x276291['cull']=mt,_0x276291['update'](),this['_defaultTe'+'xture']=_0x2b61c1,this['_defaultMa'+'terial']=_0x276291;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x5639ec){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5639ec;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x2347f1=this['defaultMat'+'erial']['clone']();_0x2347f1['nineSliced'+'Mode']=nt,_0x2347f1['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x2347f1;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x25c1ac){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x25c1ac;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0xd15590=this['defaultMat'+'erial']['clone']();_0xd15590['nineSliced'+'Mode']=Qe,_0xd15590['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0xd15590;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x26aa0e,_0x30c913,_0x34ef80){if(_0x30c913['enabled']!==void(-0x4e*0x5c+-0xc0+0x133*0x18)&&(_0x26aa0e['enabled']=_0x30c913['enabled']),_0x26aa0e['type']=_0x30c913['type'],_0x30c913['layers']&&Array['isArray'](_0x30c913['layers'])&&(_0x26aa0e['layers']=_0x30c913['layers']['slice'](0x92d+0x1*0x164e+-0x1f7b)),_0x30c913['drawOrder']!==void(-0x18d9+0x255e+-0xc85)&&(_0x26aa0e['drawOrder']=_0x30c913['drawOrder']),_0x30c913['color']!==void(-0xc5*-0x29+-0x88f*-0x1+-0x281c)&&(_0x30c913['color']instanceof Y?_0x26aa0e['color']['set'](_0x30c913['color']['r'],_0x30c913['color']['g'],_0x30c913['color']['b'],_0x30c913['opacity']??0x22e*0xb+0x5a*-0x37+0x1*-0x4a3):_0x26aa0e['color']['set'](_0x30c913['color'][0x25ae+-0x14bf+-0x10ef],_0x30c913['color'][-0x1305+0x1*-0x3bd+0x16c3*0x1],_0x30c913['color'][-0x54*0x42+-0x1*-0xf82+-0x628*-0x1],_0x30c913['opacity']??0x15ec+-0x1099+-0x552),_0x26aa0e['color']=_0x26aa0e['color']),_0x30c913['opacity']!==void(-0x288+0x1*-0xf7f+-0x1*-0x1207)&&(_0x26aa0e['opacity']=_0x30c913['opacity']),_0x30c913['flipX']!==void(-0x132e+-0x1d9c*-0x1+-0xb2*0xf)&&(_0x26aa0e['flipX']=_0x30c913['flipX']),_0x30c913['flipY']!==void(-0x12e3+0x19c3+-0x6e0)&&(_0x26aa0e['flipY']=_0x30c913['flipY']),_0x30c913['width']!==void(0x1079+0x1f58+-0x2fd1)&&(_0x26aa0e['width']=_0x30c913['width']),_0x30c913['height']!==void(0x141*0x1f+-0x1*0x1f6a+0x775*-0x1)&&(_0x26aa0e['height']=_0x30c913['height']),_0x30c913['spriteAsse'+'t']!==void(-0xf*-0x191+0x1f82+-0x3701)&&(_0x26aa0e['spriteAsse'+'t']=_0x30c913['spriteAsse'+'t']),_0x30c913['sprite']&&(_0x26aa0e['sprite']=_0x30c913['sprite']),_0x30c913['frame']!==void(0x1553*-0x1+-0x18be+0xf5b*0x3)&&(_0x26aa0e['frame']=_0x30c913['frame']),_0x30c913['clips']){for(const _0x53fcca in _0x30c913['clips'])_0x26aa0e['addClip'](_0x30c913['clips'][_0x53fcca]);}_0x30c913['speed']!==void(-0xe01+0x1*-0x10d+0xf0e)&&(_0x26aa0e['speed']=_0x30c913['speed']),_0x30c913['autoPlayCl'+'ip']&&(_0x26aa0e['autoPlayCl'+'ip']=_0x30c913['autoPlayCl'+'ip']),_0x26aa0e['batchGroup'+'Id']=_0x30c913['batchGroup'+'Id']===void(0x163a+0xb06+-0x26*0xe0)||_0x30c913['batchGroup'+'Id']===null?-(-0x10f6+0x1449+-0x1a9*0x2):_0x30c913['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x26aa0e,_0x30c913,_0x34ef80);}['cloneCompo'+'nent'](_0x2c6c06,_0xaf64fc){const _0x2231d7=_0x2c6c06['sprite'];return this['addCompone'+'nt'](_0xaf64fc,{'enabled':_0x2231d7['enabled'],'type':_0x2231d7['type'],'spriteAsset':_0x2231d7['spriteAsse'+'t'],'sprite':_0x2231d7['sprite'],'width':_0x2231d7['width'],'height':_0x2231d7['height'],'frame':_0x2231d7['frame'],'color':_0x2231d7['color']['clone'](),'opacity':_0x2231d7['opacity'],'flipX':_0x2231d7['flipX'],'flipY':_0x2231d7['flipY'],'speed':_0x2231d7['speed'],'clips':_0x2231d7['clips'],'autoPlayClip':_0x2231d7['autoPlayCl'+'ip'],'batchGroupId':_0x2231d7['batchGroup'+'Id'],'drawOrder':_0x2231d7['drawOrder'],'layers':_0x2231d7['layers']['slice'](-0x1*0x12c4+-0x1513*0x1+0x2f*0xd9)});}['onUpdate'](_0x11f207){const _0x3dd8ce=this['store'];for(const _0x2a6fe4 in _0x3dd8ce)if(_0x3dd8ce['hasOwnProp'+'erty'](_0x2a6fe4)){const _0x394f37=_0x3dd8ce[_0x2a6fe4];if(_0x394f37['data']['enabled']&&_0x394f37['entity']['enabled']){const _0x5b29f4=_0x394f37['entity']['sprite'];_0x5b29f4['_currentCl'+'ip']&&_0x5b29f4['_currentCl'+'ip']['_update'](_0x11f207);}}}['onBeforeRe'+'move'](_0x5b2c4f,_0x3a54e3){_0x3a54e3['onDestroy']();}}ue['_buildAcce'+'ssors'](ji['prototype'],Sx);class ra extends ue{constructor(_0x22df06,_0x348589){super(_0x22df06,_0x348589),this['_oldState']=!(-0xa0c+-0x1c15+-0xe3*-0x2b),this['_size']=new T(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x5456c1){_0x5456c1 instanceof T?this['_size']['copy'](_0x5456c1):_0x5456c1 instanceof Array&&_0x5456c1['length']>=-0x1*-0x2f6+-0xe7b*0x1+-0x4*-0x2e2&&this['size']['set'](_0x5456c1[0x1d34+0x1dd1+-0x3b05],_0x5456c1[0x10f*0x1f+0x12be*-0x2+0x4ac],_0x5456c1[0xf16*-0x1+0xa75+0x4a3]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x4386f0,_0x5b7bc5,_0x57b906){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x10ceab=this['enabled']&&this['entity']['enabled'];_0x10ceab!==this['_oldState']&&(this['_oldState']=_0x10ceab,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(ra,'EVENT_ENAB'+'LE','enable'),c(ra,'EVENT_DISA'+'BLE','disable'),c(ra,'EVENT_STAT'+'E','state'),c(ra,'EVENT_REMO'+'VE','remove');class HI{constructor(){this['enabled']=!(0x7ad+-0x161*0x13+0x1286);}}const vx=['enabled'];class WI extends Xe{constructor(_0x12168f){super(_0x12168f),this['id']='zone',this['ComponentT'+'ype']=ra,this['DataType']=HI,this['schema']=vx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x131ee2,_0x41c900,_0x39e9e4){_0x131ee2['enabled']=_0x41c900['hasOwnProp'+'erty']('enabled')?!!_0x41c900['enabled']:!(0x77*0x4d+-0x23fa+0x2f*0x1),_0x41c900['size']&&(_0x41c900['size']instanceof T?_0x131ee2['size']['copy'](_0x41c900['size']):_0x41c900['size']instanceof Array&&_0x41c900['size']['length']>=-0x2*-0x404+0x805*-0x4+0x805*0x3&&_0x131ee2['size']['set'](_0x41c900['size'][0x199d+-0x886+-0x1117],_0x41c900['size'][0x3a*0x90+-0x12*-0x76+-0x28eb],_0x41c900['size'][-0xd4c+-0xe90*0x1+0x1bde]));}['cloneCompo'+'nent'](_0x46e884,_0x510b05){const _0x420ec6={'enabled':_0x46e884['zone']['enabled'],'size':_0x46e884['zone']['size']};return this['addCompone'+'nt'](_0x510b05,_0x420ec6);}['_onBeforeR'+'emove'](_0x531928,_0x2bb369){_0x2bb369['_onBeforeR'+'emove']();}}ue['_buildAcce'+'ssors'](ra['prototype'],vx);class $I{constructor(_0x4f50b3,_0x1270ac){this['effect']=_0x4f50b3,this['inputTarge'+'t']=_0x1270ac,this['outputTarg'+'et']=null,this['name']=_0x4f50b3['constructo'+'r']['name'];}}class qI{constructor(_0x4989b4,_0x3dc03c){this['app']=_0x4989b4,this['camera']=_0x3dc03c,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0x11b3+0x2de+0x4f2*0x3),this['depthTarge'+'t']=null,_0x3dc03c['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x2a4f5d,_0x2b85d4){const _0x55421d=this['camera']['rect'],_0x5f3449=this['destinatio'+'nRenderTar'+'get'],_0x4be1ee=this['app']['graphicsDe'+'vice'],_0xbf4827=Math['floor'](_0x55421d['z']*((_0x5f3449==null?void(-0xe3e*0x1+-0x1*0x224c+0x308a):_0x5f3449['width'])??_0x4be1ee['width'])),_0x11c4e2=Math['floor'](_0x55421d['w']*((_0x5f3449==null?void(-0x1da3+-0x4*0x4bd+0x3097*0x1):_0x5f3449['height'])??_0x4be1ee['height']));return new he(_0x4be1ee,{'name':_0x2b85d4,'format':_0x2a4f5d,'width':_0xbf4827,'height':_0x11c4e2,'mipmaps':!(-0x21b2+0x53*-0x17+0x18*0x1b7),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae});}['_createOff'+'screenTarg'+'et'](_0x122784,_0x540368){const _0x13626d=this['app']['graphicsDe'+'vice'],_0x2ba464=(this['destinatio'+'nRenderTar'+'get']??_0x13626d['backBuffer'])['isColorBuf'+'ferSrgb'](-0x24f2+0x2*0x751+0x1650),_0x5c8331=(_0x540368&&_0x13626d['getRendera'+'bleHdrForm'+'at']([Je,Ke],!(0x22c4+0x5df*-0x2+-0x1706)))??(_0x2ba464?rs:Se),_0x10a35e=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x223db4=this['_allocateC'+'olorBuffer'](_0x5c8331,_0x10a35e);return new pt({'colorBuffer':_0x223db4,'depth':_0x122784,'stencil':_0x122784&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x122784?_0x13626d['samples']:0xf43*0x1+-0x16bf+-0x1b*-0x47});}['_resizeOff'+'screenTarg'+'et'](_0x36e9b2){const _0x3eaa57=_0x36e9b2['colorBuffe'+'r']['format'],_0x2a1d20=_0x36e9b2['colorBuffe'+'r']['name'];_0x36e9b2['destroyFra'+'meBuffers'](),_0x36e9b2['destroyTex'+'tureBuffer'+'s'](),_0x36e9b2['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x3eaa57,_0x2a1d20),_0x36e9b2['_colorBuff'+'ers']=[_0x36e9b2['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x83c33a){_0x83c33a['destroyTex'+'tureBuffer'+'s'](),_0x83c33a['destroy']();}['addEffect'](_0x49aaaf){const _0x30bd6b=this['effects'],_0x22a6e8=_0x30bd6b['length']===-0x538+-0x1112+0x164a,_0x1235c6=this['_createOff'+'screenTarg'+'et'](_0x22a6e8,_0x49aaaf['hdr']),_0x22e74a=new $I(_0x49aaaf,_0x1235c6);_0x30bd6b['push'](_0x22e74a),this['_sourceTar'+'get']=_0x22e74a['inputTarge'+'t'],_0x30bd6b['length']>-0x86a+-0x1*-0x217d+-0x1*0x1912&&(_0x30bd6b[_0x30bd6b['length']-(-0x1fef*-0x1+-0x4*-0x289+-0x2a11)]['outputTarg'+'et']=_0x22e74a['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x49aaaf,_0x49aaaf['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x268d*0x1+-0x2320*0x1+0x49ad);}['removeEffe'+'ct'](_0x30ac88){let _0x356969=-(-0x1969+-0x1b2d+0x3497);for(let _0x12845f=-0x2*-0xf55+0xb2d*-0x2+-0x428*0x2,_0x3e83d4=this['effects']['length'];_0x12845f<_0x3e83d4;_0x12845f++)if(this['effects'][_0x12845f]['effect']===_0x30ac88){_0x356969=_0x12845f;break;}_0x356969>=-0x849+0xd49+0x14*-0x40&&(_0x356969>0x3*-0xc7a+-0x1241+0x37af?this['effects'][_0x356969-(0x55*0x1d+0x1a95+-0x2435)]['outputTarg'+'et']=_0x356969+(0x918*0x3+0x21a0+-0x3ce7)<this['effects']['length']?this['effects'][_0x356969+(-0xc77*-0x1+-0xbb*-0x1+-0xd31)]['inputTarge'+'t']:null:this['effects']['length']>0x11c9+0x2*0xb56+-0x2*0x143a&&(this['effects'][-0x18*0x13e+-0x113f*0x2+0x65*0xa3]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0xd*0x1d5+0x1*-0xccd+-0xb03]['inputTarge'+'t']),this['effects'][0x8*0x7c+-0x4be+0xdf]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(-0x989+0xc0a+-0x281),this['effects'][0x1*0xf4+-0xb26*0x2+0x5*0x445]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x1294+-0x62b*-0x4+-0x617]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1d44*-0x1+0x13d*0x11+-0x3250]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x356969]['inputTarge'+'t']),this['effects']['splice'](_0x356969,0x74e+0x2c4+0x35b*-0x3)),this['enabled']&&_0x30ac88['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x2e*0x4e+0x2386+-0x1582&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x167d34=0x1*-0x191+-0x43*-0x5d+-0x16c6,_0x5b0272=this['effects']['length'];_0x167d34<_0x5b0272;_0x167d34++){const _0x20b9af=this['effects'][_0x167d34]['effect'];this['_newPostEf'+'fect']!==_0x20b9af&&_0x20b9af['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x4e8299=0x1*-0xfd1+-0x1*-0x4b1+-0x20*-0x59,_0x5acf60=this['effects']['length'];_0x4e8299<_0x5acf60;_0x4e8299++)this['effects'][_0x4e8299]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x43ceef=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x43ceef&&(_0x43ceef['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1*-0xefc+-0x2*0x4a9+0x66*0x3d)));}['_releaseDe'+'pthMap'](){const _0x3108cc=this['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x3108cc&&(_0x3108cc['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0xcfa+0x7*-0x547+0x11c*0x2d)));}['destroy'](){for(let _0x73e7e6=-0x586+0x1742+-0x11bc,_0x547ec4=this['effects']['length'];_0x73e7e6<_0x547ec4;_0x73e7e6++)this['effects'][_0x73e7e6]['inputTarge'+'t']['destroy']();this['effects']['length']=0x2709+0x1*-0x1f75+-0x794,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x3*0x9fb+0x946+-0x1*0x2737),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x2025+-0x261a+-0x5f5*-0x1]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x3ae600=null;const _0x57aa0f=this['effects']['length'];if(_0x57aa0f)for(let _0x31fd5b=0x24cf+-0x89c+0x1*-0x1c33;_0x31fd5b<_0x57aa0f;_0x31fd5b++){const _0x29816f=this['effects'][_0x31fd5b];let _0x3d565a=_0x29816f['outputTarg'+'et'];_0x31fd5b===_0x57aa0f-(-0x269b*0x1+-0x2a*0xb1+0x43a6)&&(_0x3ae600=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x3d565a=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x29816f['name']),_0x29816f['effect']['render'](_0x29816f['inputTarge'+'t'],_0x3d565a,_0x3ae600),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x1eab+-0x1*-0xb47+-0x14b*-0xf),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0xd6065e,_0x4f90f4){const _0x124580=this['camera']['rect'],_0x3684cc=this['destinatio'+'nRenderTar'+'get'];_0xd6065e=(_0x3684cc==null?void(-0x8be+-0x30*0x86+0x21de):_0x3684cc['width'])??_0xd6065e,_0x4f90f4=(_0x3684cc==null?void(-0x145*-0x4+0x16*0x50+0x5*-0x264):_0x3684cc['height'])??_0x4f90f4,this['camera']['camera']['aspectRati'+'o']=_0xd6065e*_0x124580['z']/(_0x4f90f4*_0x124580['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x233380=this['app']['graphicsDe'+'vice'],_0x3735fa=this['destinatio'+'nRenderTar'+'get'],_0x5b7e6e=(_0x3735fa==null?void(-0xd10+0x65b*-0x3+-0x66d*-0x5):_0x3735fa['width'])??_0x233380['width'],_0x51a908=(_0x3735fa==null?void(0x23b8+0x5*-0x779+0x1a5):_0x3735fa['height'])??_0x233380['height'],_0x3da13d=this['camera']['rect'],_0x44a3fc=Math['floor'](_0x3da13d['z']*_0x5b7e6e),_0x53ef20=Math['floor'](_0x3da13d['w']*_0x51a908),_0x5ccf20=this['effects'];for(let _0x52416f=0x45e*-0x4+0xe58+0x32*0x10,_0x297018=_0x5ccf20['length'];_0x52416f<_0x297018;_0x52416f++){const _0x1eb98d=_0x5ccf20[_0x52416f];(_0x1eb98d['inputTarge'+'t']['width']!==_0x44a3fc||_0x1eb98d['inputTarge'+'t']['height']!==_0x53ef20)&&this['_resizeOff'+'screenTarg'+'et'](_0x1eb98d['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x12365f,_0x5c9903,_0x257084){this['enabled']&&this['resizeRend'+'erTargets']();}}class bx extends ue{constructor(_0x8fa88,_0x27c0a4){super(_0x8fa88,_0x27c0a4),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',-0x11b*0x1f+-0x2e5+0x43*0x8e),c(this,'_renderSce'+'neColorMap',-0x2087+-0xc*0x2e3+0x1*0x432b),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x587+0x11*0x24a+-0x2c70)),c(this,'_sceneColo'+'rMapReques'+'ted',!(-0x147*0x12+0x1*-0x1cc7+-0x19e3*-0x2)),c(this,'_priority',-0x338*-0xb+0x829*0x1+0x2b91*-0x1),c(this,'_disablePo'+'stEffectsL'+'ayer',tl),c(this,'_camera',new ol()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x27c0a4,this['_postEffec'+'ts']=new qI(_0x8fa88['app'],this));}['setShaderP'+'ass'](_0x529d6b){const _0x1abcc0=Ks['get'](this['system']['app']['graphicsDe'+'vice']),_0x1f749=_0x529d6b?_0x1abcc0['allocate'](_0x529d6b,{'isForward':!(0x119*0x14+0xd02*-0x3+0x17*0xbe)}):null;return this['_camera']['shaderPass'+'Info']=_0x1f749,_0x1f749['index'];}['getShaderP'+'ass'](){var _0x4cb0d8;return(_0x4cb0d8=this['_camera']['shaderPass'+'Info'])==null?void(0x1e08*0x1+-0x817*0x3+-0x127*0x5):_0x4cb0d8['name'];}set['renderPass'+'es'](_0x55443d){this['_camera']['renderPass'+'es']=_0x55443d||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x3e*-0x45+-0x3*0x4d5+0x1f35);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x400a72){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x400a72;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x31cec7){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x31cec7;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x398188){this['_camera']['fogParams']=_0x398188;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x27751f){this['_camera']['aperture']=_0x27751f;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x55ae38){this['_camera']['aspectRati'+'o']=_0x55ae38;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x321339){this['_camera']['aspectRati'+'oMode']=_0x321339;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x109891){this['_camera']['calculateP'+'rojection']=_0x109891;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x21ce71){this['_camera']['calculateT'+'ransform']=_0x21ce71;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x1a247f){this['_camera']['clearColor']=_0x1a247f;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x2704ae){this['_camera']['clearColor'+'Buffer']=_0x2704ae,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x390116){this['_camera']['clearDepth'+'Buffer']=_0x390116,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x1fa175){this['_camera']['clearStenc'+'ilBuffer']=_0x1fa175,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0xcb2b53){this['_camera']['cullFaces']=_0xcb2b53;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x388a3e){this['_disablePo'+'stEffectsL'+'ayer']=_0x388a3e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x13d2c6){this['_camera']['farClip']=_0x13d2c6;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x12dbff){this['_camera']['flipFaces']=_0x12dbff;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x3ff850){this['_camera']['fov']=_0x3ff850;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x9ee619){this['_camera']['frustumCul'+'ling']=_0x9ee619;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x34e6a0){this['_camera']['horizontal'+'Fov']=_0x34e6a0;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x5952f1){const _0x90faf9=this['_camera']['layers'],_0x3d9f25=this['system']['app']['scene'];_0x90faf9['forEach'](_0x1939e4=>{const _0x149edb=_0x3d9f25['layers']['getLayerBy'+'Id'](_0x1939e4);_0x149edb==null||_0x149edb['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x5952f1,this['enabled']&&this['entity']['enabled']&&_0x5952f1['forEach'](_0x5975ea=>{const _0x8b296f=_0x3d9f25['layers']['getLayerBy'+'Id'](_0x5975ea);_0x8b296f==null||_0x8b296f['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x4aa058){this['_camera']['jitter']=_0x4aa058;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x5545a9){this['_camera']['nearClip']=_0x5545a9;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x3548b2){this['_camera']['orthoHeigh'+'t']=_0x3548b2;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x45c73b){this['_priority']=_0x45c73b,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x375b25){this['_camera']['projection']=_0x375b25;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x1f8d4b){this['_camera']['rect']=_0x1f8d4b,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x508d55){_0x508d55&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x3*0x1f3+-0xeef+0x916)),this['_sceneColo'+'rMapReques'+'ted']=!(0x18b6+0x1ea9+-0x375f)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(-0x23b8+0x1514+0xea5)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x195*0xc+0x1*0x339+0xfc4));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x985+-0x25b6+0x1c31;}set['renderScen'+'eDepthMap'](_0x36665b){_0x36665b&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0xd65+0x40+0xd25)),this['_sceneDept'+'hMapReques'+'ted']=!(0x2*-0xbaa+0x19a7+-0x253*0x1)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x2462+0x21a*0x2+0xd87*-0x3)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1d*-0x125+-0x16*0x71+-0x2ae8*-0x1));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>-0x1*0x225b+-0xe05+0x3060;}set['renderTarg'+'et'](_0x17d2cc){v['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x1202+0x135d*0x1+-0x255f&&v['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x17d2cc,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x1887d5){this['_camera']['scissorRec'+'t']=_0x1887d5;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x3fb3b3){this['_camera']['sensitivit'+'y']=_0x3fb3b3;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x7f9a2){this['_camera']['shutter']=_0x7f9a2;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x54cf60){if(this['layers']['find'](_0x1338f8=>_0x1338f8===Xt)){const _0x3df5a1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](Xt);_0x54cf60?_0x3df5a1==null||_0x3df5a1['incrementC'+'ounter']():_0x3df5a1==null||_0x3df5a1['decrementC'+'ounter']();}else{if(_0x54cf60)return!(0x1d8b+-0x8*-0x44d+0x665*-0xa);}return!(0x418+-0x2051*-0x1+0x3*-0xc23);}['requestSce'+'neColorMap'](_0x57b8e6){this['_renderSce'+'neColorMap']+=_0x57b8e6?0x15d0+-0xa*0x2+-0x1*0x15bb:-(0x15b+0xf*-0xf1+0xcc5*0x1),v['assert'](this['_renderSce'+'neColorMap']>=0x2095+0x1bd8+-0x3c6d),this['_enableDep'+'thLayer'](_0x57b8e6)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x5b6816){this['_renderSce'+'neDepthMap']+=_0x5b6816?0x1*0x1247+-0x183f+0x5f9*0x1:-(0x219e+-0x5aa+-0x1bf3),v['assert'](this['_renderSce'+'neDepthMap']>=0x4f7*-0x7+-0x59*0x5d+0x4316),this['_enableDep'+'thLayer'](_0x5b6816)||v['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x1ab459=this['system']['app']['scene']['layers'];_0x1ab459['_dirty']=!(-0xdf4+0x29*-0x1+0x1*0xe1d);}['screenToWo'+'rld'](_0xfa57de,_0x8bdd54,_0x3ed1f6,_0x792990){const _0x23945b=this['system']['app']['graphicsDe'+'vice'],{width:_0x3185ad,height:_0xf9068b}=_0x23945b['clientRect'];return this['_camera']['screenToWo'+'rld'](_0xfa57de,_0x8bdd54,_0x3ed1f6,_0x3185ad,_0xf9068b,_0x792990);}['worldToScr'+'een'](_0x111f00,_0x59a9e5){const _0x531306=this['system']['app']['graphicsDe'+'vice'],{width:_0x568aad,height:_0x377a4d}=_0x531306['clientRect'];return this['_camera']['worldToScr'+'een'](_0x111f00,_0x568aad,_0x377a4d,_0x59a9e5);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x2*-0x1073+-0x25*-0x3f+-0x2a01*0x1),this['_camera']['_viewProjM'+'atDirty']=!(-0x12e9+0xde7*-0x1+0x41a*0x8);}['addCameraT'+'oLayers'](){const _0x4e3d34=this['layers'];for(let _0x3fa908=0x1*-0x6ad+0x10*0x26e+-0x2033;_0x3fa908<_0x4e3d34['length'];_0x3fa908++){const _0x1654e3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4e3d34[_0x3fa908]);_0x1654e3&&_0x1654e3['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x5e87e6=this['layers'];for(let _0x4ffbe8=0x14*0x18b+0x2707+-0x45e3*0x1;_0x4ffbe8<_0x5e87e6['length'];_0x4ffbe8++){const _0x31c8d3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5e87e6[_0x4ffbe8]);_0x31c8d3&&_0x31c8d3['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x5b67ce,_0x2ac5d6){this['addCameraT'+'oLayers'](),_0x5b67ce['off']('add',this['onLayerAdd'+'ed'],this),_0x5b67ce['off']('remove',this['onLayerRem'+'oved'],this),_0x2ac5d6['on']('add',this['onLayerAdd'+'ed'],this),_0x2ac5d6['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x55e35c){this['layers']['indexOf'](_0x55e35c['id'])<0x4ea*0x4+0x2*0x108+-0x5*0x458||_0x55e35c['addCamera'](this);}['onLayerRem'+'oved'](_0x203451){this['layers']['indexOf'](_0x203451['id'])<0x2517+0x1803+-0x3d1a||_0x203451['removeCame'+'ra'](this);}['onEnable'](){var _0x42c744,_0x32c51c,_0x4ac2ee;const _0x3a5778=this['system']['app']['scene'],_0x10fe12=_0x3a5778['layers'];this['system']['addCamera'](this),(_0x42c744=this['_evtLayers'+'Changed'])==null||_0x42c744['off'](),this['_evtLayers'+'Changed']=_0x3a5778['on']('set:layers',this['onLayersCh'+'anged'],this),_0x10fe12&&((_0x32c51c=this['_evtLayerA'+'dded'])==null||_0x32c51c['off'](),this['_evtLayerA'+'dded']=_0x10fe12['on']('add',this['onLayerAdd'+'ed'],this),(_0x4ac2ee=this['_evtLayerR'+'emoved'])==null||_0x4ac2ee['off'](),this['_evtLayerR'+'emoved']=_0x10fe12['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x167b42,_0x1d0e43,_0x552c69;const _0x4756d5=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x167b42=this['_evtLayers'+'Changed'])==null||_0x167b42['off'](),this['_evtLayers'+'Changed']=null,_0x4756d5&&((_0x1d0e43=this['_evtLayerA'+'dded'])==null||_0x1d0e43['off'](),this['_evtLayerA'+'dded']=null,(_0x552c69=this['_evtLayerR'+'emoved'])==null||_0x552c69['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x26ae3c){const _0x36a226=this['system']['app']['graphicsDe'+'vice'],_0x56cdbe=_0x26ae3c?_0x26ae3c['width']:_0x36a226['width'],_0x5e8877=_0x26ae3c?_0x26ae3c['height']:_0x36a226['height'];return _0x56cdbe*this['rect']['z']/(_0x5e8877*this['rect']['w']);}['frameUpdat'+'e'](_0x10ae38){this['aspectRati'+'oMode']===Ip&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x10ae38));}['startXr'](_0x3924c6,_0x17349c,_0x48a314){this['system']['app']['xr']['start'](this,_0x3924c6,_0x17349c,_0x48a314);}['endXr'](_0x20a3e9){if(!this['_camera']['xr']){_0x20a3e9&&_0x20a3e9(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x20a3e9);}['copy'](_0x400545){this['aperture']=_0x400545['aperture'],this['aspectRati'+'o']=_0x400545['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x400545['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x400545['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x400545['calculateT'+'ransform'],this['clearColor']=_0x400545['clearColor'],this['clearColor'+'Buffer']=_0x400545['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x400545['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x400545['clearStenc'+'ilBuffer'],this['cullFaces']=_0x400545['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x400545['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x400545['farClip'],this['flipFaces']=_0x400545['flipFaces'],this['fov']=_0x400545['fov'],this['frustumCul'+'ling']=_0x400545['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x400545['horizontal'+'Fov'],this['layers']=_0x400545['layers'],this['nearClip']=_0x400545['nearClip'],this['orthoHeigh'+'t']=_0x400545['orthoHeigh'+'t'],this['priority']=_0x400545['priority'],this['projection']=_0x400545['projection'],this['rect']=_0x400545['rect'],this['renderTarg'+'et']=_0x400545['renderTarg'+'et'],this['scissorRec'+'t']=_0x400545['scissorRec'+'t'],this['sensitivit'+'y']=_0x400545['sensitivit'+'y'],this['shutter']=_0x400545['shutter'];}}class XI{constructor(){this['enabled']=!(0x1*0xec3+0x2031+0x4*-0xbbd);}}const wx=['enabled'];class jI extends Xe{constructor(_0x3aac14){super(_0x3aac14),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=bx,this['DataType']=XI,this['schema']=wx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x32a8ad,_0x5d8e72,_0xa9543){_0xa9543=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x34b236=0x1256+0x2118+-0x336e;_0x34b236<_0xa9543['length'];_0x34b236++){const _0x325209=_0xa9543[_0x34b236];if(_0x5d8e72['hasOwnProp'+'erty'](_0x325209)){const _0x353356=_0x5d8e72[_0x325209];switch(_0x325209){case'rect':case'scissorRec'+'t':Array['isArray'](_0x353356)?_0x32a8ad[_0x325209]=new Q(_0x353356[0x4e3+-0x1085+0xba2],_0x353356[-0x291*-0xd+0x8cd+-0xfb*0x2b],_0x353356[-0x61*0x3b+0x45d*0x1+0x1200],_0x353356[0x1fb2+0x20*0x7f+-0x2f8f]):_0x32a8ad[_0x325209]=_0x353356;break;case'clearColor':Array['isArray'](_0x353356)?_0x32a8ad[_0x325209]=new Y(_0x353356[0x1d8b+0x254*-0xb+-0x3ef],_0x353356[-0x1*-0x1cfd+0x12c1+0x79*-0x65],_0x353356[0xfd5+0x236d*-0x1+-0x2*-0x9cd],_0x353356[0x2*-0x579+-0x1e17+0x94*0x47]):_0x32a8ad[_0x325209]=_0x353356;break;default:_0x32a8ad[_0x325209]=_0x353356;break;}}}super['initialize'+'ComponentD'+'ata'](_0x32a8ad,_0x5d8e72,['enabled']);}['cloneCompo'+'nent'](_0x3f463c,_0x54007e){const _0xf047d4=_0x3f463c['camera'];return this['addCompone'+'nt'](_0x54007e,{'aspectRatio':_0xf047d4['aspectRati'+'o'],'aspectRatioMode':_0xf047d4['aspectRati'+'oMode'],'calculateProjection':_0xf047d4['calculateP'+'rojection'],'calculateTransform':_0xf047d4['calculateT'+'ransform'],'clearColor':_0xf047d4['clearColor'],'clearColorBuffer':_0xf047d4['clearColor'+'Buffer'],'clearDepthBuffer':_0xf047d4['clearDepth'+'Buffer'],'clearStencilBuffer':_0xf047d4['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0xf047d4['renderScen'+'eDepthMap'],'renderSceneColorMap':_0xf047d4['renderScen'+'eColorMap'],'cullFaces':_0xf047d4['cullFaces'],'enabled':_0xf047d4['enabled'],'farClip':_0xf047d4['farClip'],'flipFaces':_0xf047d4['flipFaces'],'fov':_0xf047d4['fov'],'frustumCulling':_0xf047d4['frustumCul'+'ling'],'horizontalFov':_0xf047d4['horizontal'+'Fov'],'layers':_0xf047d4['layers'],'renderTarget':_0xf047d4['renderTarg'+'et'],'nearClip':_0xf047d4['nearClip'],'orthoHeight':_0xf047d4['orthoHeigh'+'t'],'projection':_0xf047d4['projection'],'priority':_0xf047d4['priority'],'rect':_0xf047d4['rect'],'scissorRect':_0xf047d4['scissorRec'+'t'],'aperture':_0xf047d4['aperture'],'sensitivity':_0xf047d4['sensitivit'+'y'],'shutter':_0xf047d4['shutter'],'gammaCorrection':_0xf047d4['gammaCorre'+'ction'],'toneMapping':_0xf047d4['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x1ce2f2,_0x2626db){this['removeCame'+'ra'](_0x2626db),_0x2626db['onRemove']();}['onAppPrere'+'nder'](){for(let _0x4cde59=-0x72c+0x11ed+-0xac1,_0x17272d=this['cameras']['length'];_0x4cde59<_0x17272d;_0x4cde59++)this['cameras'][_0x4cde59]['onAppPrere'+'nder']();}['addCamera'](_0x368895){this['cameras']['push'](_0x368895),No(this['cameras']);}['removeCame'+'ra'](_0x15b8f7){const _0x24c196=this['cameras']['indexOf'](_0x15b8f7);_0x24c196>=-0x2*-0x542+0x1*-0x2231+-0x227*-0xb&&(this['cameras']['splice'](_0x24c196,0x34f*-0x3+-0xc8b+0x1679),No(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}ue['_buildAcce'+'ssors'](bx['prototype'],wx);class Tx{constructor(){c(this,'enabled',!(0x1357+0x1*-0x1b65+0x2*0x407)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0xd9*0x5+-0x408+0x846,-0x244f+-0x4ed*0x5+-0x1*-0x3cf1,-0xf9e*-0x2+0x21aa+0x1c1*-0x25)),c(this,'intensity',-0x611*-0x2+-0x2380+0x175f),c(this,'luminance',-0x1263+0x1*-0x27d+0xa70*0x2),c(this,'shape',yt),c(this,'affectSpec'+'ularity',!(-0x1e10+-0x499*0x7+0x3e3f)),c(this,'castShadow'+'s',!(-0x1d69+-0x6*-0x4ef+-0x30)),c(this,'shadowDist'+'ance',-0x1*0x26c3+0x3ee*0x5+0x1345),c(this,'shadowInte'+'nsity',0x2391+0x681+-0x2a11),c(this,'shadowReso'+'lution',-0x169b+0x75d+-0x335*-0x6),c(this,'shadowBias',-0x10cc+-0x3cf+0x149b+0.05),c(this,'numCascade'+'s',0x1b06+-0x1dca+0x2c5),c(this,'cascadeBle'+'nd',0x19*-0x15d+0xbb0+0x1665),c(this,'bakeNumSam'+'ples',0xa0e+0x1d+0xa2a*-0x1),c(this,'bakeArea',0x1bca+-0x2*0xf37+0x2a4),c(this,'cascadeDis'+'tribution',-0xd*-0x42+-0x115e+0xe04+0.5),c(this,'normalOffs'+'etBias',-0xd0e+-0x1*-0x12ee+-0x2*0x2f0),c(this,'range',0x1558+0x2dd+0x17*-0x10d),c(this,'innerConeA'+'ngle',-0x21d4+-0x60d+0x115*0x25),c(this,'outerConeA'+'ngle',0x68c*-0x3+-0x1ab1*-0x1+0x50*-0x16),c(this,'falloffMod'+'e',wp),c(this,'shadowType',Dt),c(this,'vsmBlurSiz'+'e',0x2*-0xe98+0x1*-0x2659+0x4394),c(this,'vsmBlurMod'+'e',Tp),c(this,'vsmBias',(0x1b8+0x23c9*0x1+0x2581*-0x1+0.01)*(-0x1885*-0x1+-0xb8*-0x2e+-0x3995+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x1959+0x4e0*0x5+0xfa),c(this,'cookieFall'+'off',!(-0x313+0x1c24+-0x1911)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x1463+0x2*0x37d+-0x1b5d),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Pp),c(this,'mask',0x8e*-0x1b+-0x1d*0xfb+0x2b6a),c(this,'affectDyna'+'mic',!(-0x72b+0x19e+-0xcb*-0x7)),c(this,'affectLigh'+'tmapped',!(-0x107*-0x25+-0x1ccf+-0x933)),c(this,'bake',!(0x1*0x10c0+0x2e*-0x38+0x3b*-0x1d)),c(this,'bakeDir',!(0x1888+0x8*-0x3b9+0x540)),c(this,'isStatic',!(-0xc2c+0x825+0x408)),c(this,'layers',[Fi]),c(this,'penumbraSi'+'ze',-0x3*0x17c+0x57*-0x6d+0x2980),c(this,'penumbraFa'+'lloff',0x200*-0xa+0x257c+-0x117b*0x1),c(this,'shadowSamp'+'les',-0x17d5+-0x1f71+-0x1272*-0x3),c(this,'shadowBloc'+'kerSamples',0x634+-0xa2c+-0x102*-0x4);}}const To=Object['keys'](new Tx());class YI extends ue{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0x193b+-0xa13+0x189*0x17)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x522f81=this['system']['store'][this['entity']['getGuid']()];return _0x522f81?_0x522f81['data']:null;}set['enabled'](_0x56c281){this['_setValue']('enabled',_0x56c281,function(_0x588325,_0x15fe28){this['onSetEnabl'+'ed'](null,_0x15fe28,_0x588325);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0xe5ae41){this['_setValue']('light',_0xe5ae41);}get['light'](){return this['data']['light'];}set['type'](_0x32a179){this['_setValue']('type',_0x32a179,function(_0x47bd1f,_0x4a7a2f){this['system']['changeType'](this,_0x4a7a2f,_0x47bd1f),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x200ca2){this['_setValue']('color',_0x200ca2,function(_0x1d3578,_0xfa5a17){this['light']['setColor'](_0x1d3578);},!(-0x8*-0x32b+-0x16f2+-0x266));}get['color'](){return this['data']['color'];}set['intensity'](_0x189564){this['_setValue']('intensity',_0x189564,function(_0x40e2be,_0x30884a){this['light']['intensity']=_0x40e2be;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x19514f){this['_setValue']('luminance',_0x19514f,function(_0x49a344,_0x48fde1){this['light']['luminance']=_0x49a344;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x2e1cbf){this['_setValue']('shape',_0x2e1cbf,function(_0x157fb5,_0x558910){this['light']['shape']=_0x157fb5;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x3de106){this['_setValue']('affectSpec'+'ularity',_0x3de106,function(_0x374318,_0x3a3877){this['light']['affectSpec'+'ularity']=_0x374318;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x4b4444){this['_setValue']('castShadow'+'s',_0x4b4444,function(_0xdab776,_0x3aef91){this['light']['castShadow'+'s']=_0xdab776;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x5c2ca7){this['_setValue']('shadowDist'+'ance',_0x5c2ca7,function(_0x350543,_0x4ed214){this['light']['shadowDist'+'ance']=_0x350543;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x11a17a){this['_setValue']('shadowInte'+'nsity',_0x11a17a,function(_0x44a405,_0x28498f){this['light']['shadowInte'+'nsity']=_0x44a405;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x3520ea){this['_setValue']('shadowReso'+'lution',_0x3520ea,function(_0x310fe2,_0xb319bc){this['light']['shadowReso'+'lution']=_0x310fe2;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0xc522f9){this['_setValue']('shadowBias',_0xc522f9,function(_0x869bf3,_0x4d8d83){this['light']['shadowBias']=-(-0x2*0xef0+0x25aa+-0x2*0x3e5+0.01)*N['clamp'](_0x869bf3,-0x3a*-0xc+-0x926*-0x3+-0x42*0x75,-0x727*-0x5+-0x1bb*-0x13+-0x44a3);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x2a606e){this['_setValue']('numCascade'+'s',_0x2a606e,function(_0x4d3bcd,_0x1d458c){this['light']['numCascade'+'s']=N['clamp'](Math['floor'](_0x4d3bcd),0x1a3*0xd+0x1018+-0x255e,0x2528+0x9*0x92+-0x2a46);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x2afaf2){this['_setValue']('cascadeBle'+'nd',_0x2afaf2,function(_0x139c2b,_0x3b6b1e){this['light']['cascadeBle'+'nd']=N['clamp'](_0x139c2b,0x14ce+-0x51b+-0xfb3,0x1ea4+0x1df1+-0x3c94);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x5379df){this['_setValue']('bakeNumSam'+'ples',_0x5379df,function(_0x4a25c6,_0x182cee){this['light']['bakeNumSam'+'ples']=N['clamp'](Math['floor'](_0x4a25c6),0x2*0x10cc+0x1c86+-0x3e1d*0x1,-0x799+-0x4*-0x22+0x204*0x4);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x51eb1e){this['_setValue']('bakeArea',_0x51eb1e,function(_0xe93ee0,_0x2a393d){this['light']['bakeArea']=N['clamp'](_0xe93ee0,-0x56+0x27e*0x8+0xc1*-0x1a,-0x10e1+0x1884+-0x6ef);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x5864b4){this['_setValue']('cascadeDis'+'tribution',_0x5864b4,function(_0x39096a,_0x5c1dbf){this['light']['cascadeDis'+'tribution']=N['clamp'](_0x39096a,0x221c+-0x9*-0x26e+-0x37fa,0x1*-0x1efd+0x702+-0x133*-0x14);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x572fc9){this['_setValue']('normalOffs'+'etBias',_0x572fc9,function(_0x1922b5,_0x555ac0){this['light']['normalOffs'+'etBias']=N['clamp'](_0x1922b5,0x834+-0x21*-0x6e+0xb31*-0x2,-0xda1+0x16b5+-0x913);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x5a3a28){this['_setValue']('range',_0x5a3a28,function(_0x1e7cd6,_0x54f3d1){this['light']['attenuatio'+'nEnd']=_0x1e7cd6;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x36d7f4){this['_setValue']('innerConeA'+'ngle',_0x36d7f4,function(_0x307f67,_0x360c70){this['light']['innerConeA'+'ngle']=_0x307f67;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0xb00f23){this['_setValue']('outerConeA'+'ngle',_0xb00f23,function(_0x10c3f1,_0x29b99b){this['light']['outerConeA'+'ngle']=_0x10c3f1;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0xa2df52){this['_setValue']('falloffMod'+'e',_0xa2df52,function(_0x3f8597,_0x396b32){this['light']['falloffMod'+'e']=_0x3f8597;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x210dd1){this['_setValue']('shadowType',_0x210dd1,function(_0x21e2ff,_0x294147){this['light']['shadowType']=_0x21e2ff;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x47857a){this['_setValue']('vsmBlurSiz'+'e',_0x47857a,function(_0x4a867d,_0x247ed1){this['light']['vsmBlurSiz'+'e']=_0x4a867d;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x23d33b){this['_setValue']('vsmBlurMod'+'e',_0x23d33b,function(_0x5840fe,_0x16e371){this['light']['vsmBlurMod'+'e']=_0x5840fe;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x54f08e){this['_setValue']('vsmBias',_0x54f08e,function(_0x5a1d39,_0x49408f){this['light']['vsmBias']=N['clamp'](_0x5a1d39,0x505+-0x1056+-0x1*-0xb51,-0x1639+0x138f+-0x1*-0x2ab);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x494558){this['_setValue']('cookieAsse'+'t',_0x494558,function(_0x43d71d,_0x5ca355){if(!(this['_cookieAss'+'etId']&&(_0x43d71d instanceof le&&_0x43d71d['id']===this['_cookieAss'+'etId']||_0x43d71d===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x43d71d instanceof le)this['data']['cookieAsse'+'t']=_0x43d71d['id'],this['_cookieAss'+'etId']=_0x43d71d['id'],this['onCookieAs'+'setAdd'](_0x43d71d);else{if(typeof _0x43d71d=='number'){this['_cookieAss'+'etId']=_0x43d71d;const _0x33e6cb=this['system']['app']['assets']['get'](_0x43d71d);_0x33e6cb?this['onCookieAs'+'setAdd'](_0x33e6cb):(this['_cookieAss'+'etAdd']=!(0x187f+0x15e+0x3*-0x89f),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x1328eb){this['_setValue']('cookie',_0x1328eb,function(_0x44f26f,_0x2e5e81){this['light']['cookie']=_0x44f26f;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x34b7fc){this['_setValue']('cookieInte'+'nsity',_0x34b7fc,function(_0x1d1963,_0x2bb24d){this['light']['cookieInte'+'nsity']=N['clamp'](_0x1d1963,-0x2441*0x1+-0x18ca+0x3d0b*0x1,-0x1ef4+0x338*0x5+0xedd);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x3cb87f){this['_setValue']('cookieFall'+'off',_0x3cb87f,function(_0x2025bf,_0x984871){this['light']['cookieFall'+'off']=_0x2025bf;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x6ef07a){this['_setValue']('cookieChan'+'nel',_0x6ef07a,function(_0x4afa06,_0x24476d){this['light']['cookieChan'+'nel']=_0x4afa06;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x43d9d8){this['_setValue']('cookieAngl'+'e',_0x43d9d8,function(_0x30650e,_0x5ffbb5){if(_0x30650e!==-0x4f*-0xd+0x241*0x2+0x3*-0x2d7||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());let _0x2b6094=-0x3d5+-0x19da+0x1db*0x10,_0x4c8ad1=-0xa*0x139+-0xa*-0x290+-0xd65;this['cookieScal'+'e']&&(_0x2b6094=this['cookieScal'+'e']['x'],_0x4c8ad1=this['cookieScal'+'e']['y']);const _0x4985d1=Math['cos'](_0x30650e*N['DEG_TO_RAD']),_0x1ebf28=Math['sin'](_0x30650e*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x4985d1/_0x2b6094,-_0x1ebf28/_0x2b6094,_0x1ebf28/_0x4c8ad1,_0x4985d1/_0x4c8ad1),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x52d148){this['_setValue']('cookieScal'+'e',_0x52d148,function(_0x3e58ab,_0x51be22){if(_0x3e58ab!==null||this['cookieAngl'+'e']!==-0x235d+0x114b+0x1212){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new Q());const _0x33dc8b=_0x3e58ab['x'],_0x53650d=_0x3e58ab['y'],_0x5e982b=Math['cos'](this['cookieAngl'+'e']*N['DEG_TO_RAD']),_0x2a8fd9=Math['sin'](this['cookieAngl'+'e']*N['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x5e982b/_0x33dc8b,-_0x2a8fd9/_0x33dc8b,_0x2a8fd9/_0x53650d,_0x5e982b/_0x53650d),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0x18d9*0x1+0xc1*-0x23+0x1*0x18a));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x2374bc){this['_setValue']('cookieOffs'+'et',_0x2374bc,function(_0x3bf4cf,_0x39ff66){this['light']['cookieOffs'+'et']=_0x3bf4cf;},!(-0x3c*-0x69+-0x1*-0xb7d+-0x1*0x2419));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x269210){this['_setValue']('shadowUpda'+'teMode',_0x269210,function(_0xd444a6,_0x2be2d6){this['light']['shadowUpda'+'teMode']=_0xd444a6;},!(-0x1*0x2581+-0x211e+0xb3*0x65));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x2ead87){this['_setValue']('mask',_0x2ead87,function(_0x57e721,_0x45180a){this['light']['mask']=_0x57e721;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x3c2d6b){this['_setValue']('affectDyna'+'mic',_0x3c2d6b,function(_0x16bf70,_0x1abb7c){_0x16bf70?this['light']['mask']|=hs:this['light']['mask']&=-(0x1681+0x25a9+-0x3c28),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x21c4ac){this['_setValue']('affectLigh'+'tmapped',_0x21c4ac,function(_0x1dfe4f,_0x2185ee){_0x1dfe4f?(this['light']['mask']|=cr,this['bake']&&(this['light']['mask']&=-(0x56c*0x4+0x339+-0x18e4))):(this['light']['mask']&=-(-0x255+-0x379*0x5+0x3f1*0x5),this['bake']&&(this['light']['mask']|=rr));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x2b0067){this['_setValue']('bake',_0x2b0067,function(_0x1dd96e,_0x472b13){_0x1dd96e?(this['light']['mask']|=rr,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(-0x3da*-0xa+0x712+-0x2d93*0x1))):(this['light']['mask']&=-(-0x1375*0x1+0x1827+-0x4ad),this['affectLigh'+'tmapped']&&(this['light']['mask']|=cr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x2a6894){this['_setValue']('bakeDir',_0x2a6894,function(_0x121cb8,_0x541387){this['light']['bakeDir']=_0x121cb8;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x238ab4){this['_setValue']('isStatic',_0x238ab4,function(_0x409bf9,_0x2fe835){this['light']['isStatic']=_0x409bf9;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x4583d9){this['_setValue']('layers',_0x4583d9,function(_0x249ec1,_0x1ccb8e){for(let _0x201429=0xa1c+0x1*-0xcd6+0x2ba;_0x201429<_0x1ccb8e['length'];_0x201429++){const _0x558e72=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x1ccb8e[_0x201429]);_0x558e72&&(_0x558e72['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x558e72));}for(let _0x383720=-0x757*-0x2+-0x93*-0x6+-0x1220;_0x383720<_0x249ec1['length'];_0x383720++){const _0x2f5513=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x249ec1[_0x383720]);_0x2f5513&&this['enabled']&&this['entity']['enabled']&&(_0x2f5513['addLight'](this),this['light']['addLayer'](_0x2f5513));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x2e7070){this['light']['shadowUpda'+'teOverride'+'s']=_0x2e7070;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x4c6e8c){this['light']['shadowSamp'+'les']=_0x4c6e8c;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x5c90d6){this['light']['shadowBloc'+'kerSamples']=_0x5c90d6;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4ae04d){this['light']['penumbraSi'+'ze']=_0x4ae04d;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x3c7768){this['light']['penumbraFa'+'lloff']=_0x3c7768;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x59c6f4,_0x5db6df,_0x5bb70e,_0x1832cc){const _0x5eef6d=this['data'],_0x48409a=_0x5eef6d[_0x59c6f4];!_0x1832cc&&_0x48409a===_0x5db6df||(_0x5eef6d[_0x59c6f4]=_0x5db6df,_0x5bb70e&&_0x5bb70e['call'](this,_0x5db6df,_0x48409a));}['addLightTo'+'Layers'](){for(let _0x2115c4=0x87c+-0x1366+-0xaea*-0x1;_0x2115c4<this['layers']['length'];_0x2115c4++){const _0x444fad=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2115c4]);_0x444fad&&(_0x444fad['addLight'](this),this['light']['addLayer'](_0x444fad));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x2ee2fe=0x1bb5+0x1*-0x6c9+-0x14ec;_0x2ee2fe<this['layers']['length'];_0x2ee2fe++){const _0x364ebe=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2ee2fe]);_0x364ebe&&(_0x364ebe['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x364ebe));}}['onLayersCh'+'anged'](_0x3a8bbb,_0x324466){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x3a8bbb['off']('add',this['onLayerAdd'+'ed'],this),_0x3a8bbb['off']('remove',this['onLayerRem'+'oved'],this),_0x324466['on']('add',this['onLayerAdd'+'ed'],this),_0x324466['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x2baf36){this['layers']['indexOf'](_0x2baf36['id'])>=-0x41d+0xa*-0x6+0x459&&this['enabled']&&this['entity']['enabled']&&(_0x2baf36['addLight'](this),this['light']['addLayer'](_0x2baf36));}['onLayerRem'+'oved'](_0x104935){this['layers']['indexOf'](_0x104935['id'])>=-0x1*0x1ea+-0x814+-0x1*-0x9fe&&(_0x104935['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x104935));}['refreshPro'+'perties'](){for(let _0xeb58a4=-0x1149+-0x488+0x15d1;_0xeb58a4<To['length'];_0xeb58a4++){const _0x482d37=To[_0xeb58a4];this[_0x482d37]=this[_0x482d37];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x43b583=!(-0x6*0x335+0x62d+-0x689*-0x2);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0x17*0xd3+-0x1d71*0x1+-0x23*-0x162),_0x43b583=!(0xfda+-0x6f+-0xf6b)),(!this['_cookieAss'+'et']['resource']||_0x43b583)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x3b972b){this['_cookieAss'+'etId']===_0x3b972b['id']&&(this['_cookieAss'+'et']=_0x3b972b,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(0x69d*-0x5+-0x1*0xa21+0x2b33)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x48fce1=this['system']['app']['scene'],_0x566e54=_0x48fce1['layers'];this['light']['enabled']=!(-0x26b0*0x1+-0x1e4d+0x57*0xcb),this['_evtLayers'+'Changed']=_0x48fce1['on']('set:layers',this['onLayersCh'+'anged'],this),_0x566e54&&(this['_evtLayerA'+'dded']=_0x566e54['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x566e54['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x18da99,_0x3e72b5,_0x521c82;const _0x3199ca=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x1497+0x3*0x5ea+0x2da),(_0x18da99=this['_evtLayers'+'Changed'])==null||_0x18da99['off'](),this['_evtLayers'+'Changed']=null,_0x3199ca&&((_0x3e72b5=this['_evtLayerA'+'dded'])==null||_0x3e72b5['off'](),this['_evtLayerA'+'dded']=null,(_0x521c82=this['_evtLayerR'+'emoved'])==null||_0x521c82['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class KI extends Xe{constructor(_0x5cb3ad){super(_0x5cb3ad),this['id']='light',this['ComponentT'+'ype']=YI,this['DataType']=Tx,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0xc83000,_0x3fa516){const _0x4f6f45={..._0x3fa516};_0x4f6f45['type']||(_0x4f6f45['type']=_0xc83000['data']['type']),_0xc83000['data']['type']=_0x4f6f45['type'],_0x4f6f45['layers']&&Array['isArray'](_0x4f6f45['layers'])&&(_0x4f6f45['layers']=_0x4f6f45['layers']['slice'](0x1*-0x1816+-0x200d+0x3823)),_0x4f6f45['color']&&Array['isArray'](_0x4f6f45['color'])&&(_0x4f6f45['color']=new Y(_0x4f6f45['color'][0x1fb3+0x6*0x24f+-0x2d8d],_0x4f6f45['color'][0x67b*-0x1+0x11*0x13e+-0xea2*0x1],_0x4f6f45['color'][0x3*0xbd9+-0xb64+-0x1825])),_0x4f6f45['cookieOffs'+'et']&&_0x4f6f45['cookieOffs'+'et']instanceof Array&&(_0x4f6f45['cookieOffs'+'et']=new W(_0x4f6f45['cookieOffs'+'et'][0x12b8*0x1+-0x2a*0x6d+-0xd6*0x1],_0x4f6f45['cookieOffs'+'et'][-0x245a+0x529*-0x7+0x487a*0x1])),_0x4f6f45['cookieScal'+'e']&&_0x4f6f45['cookieScal'+'e']instanceof Array&&(_0x4f6f45['cookieScal'+'e']=new W(_0x4f6f45['cookieScal'+'e'][-0x1d93*-0x1+-0xb0b+-0x1*0x1288],_0x4f6f45['cookieScal'+'e'][0x1357+0x4*-0x764+-0xbb*-0xe])),_0x4f6f45['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x4f6f45['enabled']=_0x4f6f45['enable']),_0x4f6f45['shape']||(_0x4f6f45['shape']=yt);const _0x10d2cc=new zo(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x10d2cc['type']=Gu[_0x4f6f45['type']],_0x10d2cc['_node']=_0xc83000['entity'],_0xc83000['data']['light']=_0x10d2cc,super['initialize'+'ComponentD'+'ata'](_0xc83000,_0x4f6f45,To);}['_onRemoveC'+'omponent'](_0x57ac75,_0x6eaef8){_0x6eaef8['onRemove']();}['cloneCompo'+'nent'](_0x5ccd82,_0xfb9eb){const _0x2d2892=_0x5ccd82['light'],_0x25de30=[];let _0x32f2df;for(let _0x44d1b6=-0xa7*-0x1f+-0x2320+0xee7;_0x44d1b6<To['length'];_0x44d1b6++)_0x32f2df=To[_0x44d1b6],_0x32f2df!=='light'&&(_0x2d2892[_0x32f2df]&&_0x2d2892[_0x32f2df]['clone']?_0x25de30[_0x32f2df]=_0x2d2892[_0x32f2df]['clone']():_0x25de30[_0x32f2df]=_0x2d2892[_0x32f2df]);return this['addCompone'+'nt'](_0xfb9eb,_0x25de30);}['changeType'](_0x582cfd,_0x55bcf0,_0x2f4e3d){_0x55bcf0!==_0x2f4e3d&&(_0x582cfd['light']['type']=Gu[_0x2f4e3d]);}}const ZI=['x','y','z','w'],QI=[void(0x98c+0x13d0+-0x1d5c),void(0x7*-0x10d+-0x112*-0x13+-0xcfb),W,T,Q];function La(_0x542402,_0x1c5f93,_0xc16fe7,_0x3af268){switch(_0x1c5f93['type']){case'boolean':return!!_0xc16fe7;case'number':if(typeof _0xc16fe7=='number')return _0xc16fe7;if(typeof _0xc16fe7=='string'){const _0x15dda4=parseInt(_0xc16fe7,-0x3*0xc86+-0x1e43+-0x19*-0x2b7);return isNaN(_0x15dda4)?null:_0x15dda4;}else{if(typeof _0xc16fe7=='boolean')return 0x16e2+0x2092+-0x3774+_0xc16fe7;}return null;case'json':{const _0xa45995={};if(Array['isArray'](_0x1c5f93['schema'])){(!_0xc16fe7||typeof _0xc16fe7!='object')&&(_0xc16fe7={});for(let _0x366154=-0x1*-0x142d+-0xc7*0x7+-0x52*0x2e;_0x366154<_0x1c5f93['schema']['length'];_0x366154++){const _0x5adb9b=_0x1c5f93['schema'][_0x366154];if(_0x5adb9b['name']){if(_0x5adb9b['array']){_0xa45995[_0x5adb9b['name']]=[];const _0x4b457a=Array['isArray'](_0xc16fe7[_0x5adb9b['name']])?_0xc16fe7[_0x5adb9b['name']]:[];for(let _0x2ec417=0x2*-0x9fa+0x443+0xfb1;_0x2ec417<_0x4b457a['length'];_0x2ec417++)_0xa45995[_0x5adb9b['name']]['push'](La(_0x542402,_0x5adb9b,_0x4b457a[_0x2ec417]));}else{const _0xcf01a4=_0xc16fe7['hasOwnProp'+'erty'](_0x5adb9b['name'])?_0xc16fe7[_0x5adb9b['name']]:_0x5adb9b['default'];_0xa45995[_0x5adb9b['name']]=La(_0x542402,_0x5adb9b,_0xcf01a4);}}}}return _0xa45995;}case'asset':return _0xc16fe7 instanceof le?_0xc16fe7:typeof _0xc16fe7=='number'?_0x542402['assets']['get'](_0xc16fe7)||null:typeof _0xc16fe7=='string'&&_0x542402['assets']['get'](parseInt(_0xc16fe7,-0x1d64+-0x6+0x1d74))||null;case'entity':return _0xc16fe7 instanceof De?_0xc16fe7:typeof _0xc16fe7=='string'?_0x542402['getEntityF'+'romIndex'](_0xc16fe7):null;case'rgb':case'rgba':if(_0xc16fe7 instanceof Y)return _0x3af268 instanceof Y?(_0x3af268['copy'](_0xc16fe7),_0x3af268):_0xc16fe7['clone']();if(_0xc16fe7 instanceof Array&&_0xc16fe7['length']>=-0x12c8+0xfee+-0x1*-0x2dd&&_0xc16fe7['length']<=0x1872+0x1*0x493+-0x113*0x1b){for(let _0x21ce9b=-0xe5f+0x105b+-0x1fc;_0x21ce9b<_0xc16fe7['length'];_0x21ce9b++)if(typeof _0xc16fe7[_0x21ce9b]!='number')return null;return _0x3af268||(_0x3af268=new Y()),_0x3af268['r']=_0xc16fe7[0x25dd+0x53b+-0x2b18],_0x3af268['g']=_0xc16fe7[0x22b7+-0x1aab*0x1+-0x80b],_0x3af268['b']=_0xc16fe7[0x1a83+0x13a5*-0x1+-0x2*0x36e],_0x3af268['a']=_0xc16fe7['length']===-0x733*0x2+0xda1+0xc8?0x2*0x45+-0x218d+-0x841*-0x4:_0xc16fe7[-0x231d+0x4e5*0x7+0xdd],_0x3af268;}else{if(typeof _0xc16fe7=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0xc16fe7))return _0x3af268||(_0x3af268=new Y()),_0x3af268['fromString'](_0xc16fe7),_0x3af268;}return null;case'vec2':case'vec3':case'vec4':{const _0x15da33=parseInt(_0x1c5f93['type']['slice'](0x2204+0x115+-0x2316),-0x1fbc+-0x1c63+0x3c29),_0x58d299=QI[_0x15da33];if(_0xc16fe7 instanceof _0x58d299)return _0x3af268 instanceof _0x58d299?(_0x3af268['copy'](_0xc16fe7),_0x3af268):_0xc16fe7['clone']();if(_0xc16fe7 instanceof Array&&_0xc16fe7['length']===_0x15da33){for(let _0x23c412=-0x2*-0x1d+-0x1d*0x127+0x1*0x2131;_0x23c412<_0xc16fe7['length'];_0x23c412++)if(typeof _0xc16fe7[_0x23c412]!='number')return null;_0x3af268||(_0x3af268=new _0x58d299());for(let _0x2d57f1=0x17ec+-0x123*0x4+-0x1360;_0x2d57f1<_0x15da33;_0x2d57f1++)_0x3af268[ZI[_0x2d57f1]]=_0xc16fe7[_0x2d57f1];return _0x3af268;}return null;}case'curve':if(_0xc16fe7){let _0x24fa57;if(_0xc16fe7 instanceof Cs||_0xc16fe7 instanceof jr)_0x24fa57=_0xc16fe7['clone']();else{const _0x392365=_0xc16fe7['keys'][0x70e*0x5+0xad3+-0x2e19]instanceof Array?jr:Cs;_0x24fa57=new _0x392365(_0xc16fe7['keys']),_0x24fa57['type']=_0xc16fe7['type'];}return _0x24fa57;}break;}return _0xc16fe7;}function Ax(_0x52ae2b,_0x522243,_0xa5eca7,_0x56e8c8){return _0x522243['array']?_0xa5eca7['map']((_0x4aa657,_0x554046)=>La(_0x52ae2b,_0x522243,_0x4aa657,_0x56e8c8?_0x56e8c8[_0x554046]:null)):La(_0x52ae2b,_0x522243,_0xa5eca7,_0x56e8c8);}function Ex(_0x5edcc8,_0x29b947,_0x3a4966,_0xd1bbe5){if(_0x3a4966)for(const _0xace539 in _0x29b947){const _0xd16b55=_0x29b947[_0xace539],_0x141ef9=_0x3a4966[_0xace539];_0x141ef9!==void(0x1bd0+0xc4e+-0x281e)&&(_0xd1bbe5[_0xace539]=Ax(_0x5edcc8,_0xd16b55,_0x141ef9,_0xd1bbe5[_0xace539]));}}const oa=class oa{constructor(_0x4b1aeb){this['scriptType']=_0x4b1aeb,this['index']={};}['add'](_0x16f373,_0x477d92){if(this['index'][_0x16f373]){v['warn']('attribute\x20'+'\x27'+_0x16f373+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(oa['reservedNa'+'mes']['has'](_0x16f373)){v['warn']('attribute\x20'+'\x27'+_0x16f373+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x16f373]=_0x477d92,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x16f373,{'get':function(){return this['__attribut'+'es'][_0x16f373];},'set':function(_0x50244b){const _0x3cdda9='attr',_0x5feac4='attr:'+_0x16f373,_0x1cb146=this['__attribut'+'es'][_0x16f373];let _0x5cad5d=_0x1cb146;if(_0x1cb146&&_0x477d92['type']!=='json'&&_0x477d92['type']!=='entity'&&_0x1cb146['clone']&&(this['hasEvent'](_0x3cdda9)||this['hasEvent'](_0x5feac4))&&(_0x5cad5d=_0x1cb146['clone']()),_0x477d92['array']){if(this['__attribut'+'es'][_0x16f373]=[],_0x50244b){for(let _0x89fc8a=-0x1bda*0x1+-0x3*-0x3fd+-0x7*-0x245,_0x125342=_0x50244b['length'];_0x89fc8a<_0x125342;_0x89fc8a++)this['__attribut'+'es'][_0x16f373]['push'](La(this['app'],_0x477d92,_0x50244b[_0x89fc8a],_0x1cb146?_0x1cb146[_0x89fc8a]:null));}}else this['__attribut'+'es'][_0x16f373]=La(this['app'],_0x477d92,_0x50244b,_0x1cb146);this['fire'](_0x3cdda9,_0x16f373,this['__attribut'+'es'][_0x16f373],_0x5cad5d),this['fire'](_0x5feac4,this['__attribut'+'es'][_0x16f373],_0x5cad5d);}});}['remove'](_0x2a170e){return this['index'][_0x2a170e]?(delete this['index'][_0x2a170e],delete this['scriptType']['prototype'][_0x2a170e],!(0x5af+-0x2*-0x5e9+-0x1181)):!(0x5b7*0x2+0x191+-0xcfe);}['has'](_0x12ba96){return!!this['index'][_0x12ba96];}['get'](_0x11adcf){return this['index'][_0x11adcf]||null;}};c(oa,'assignAttr'+'ibutesToSc'+'ript',Ex),c(oa,'attributeT'+'oValue',Ax),c(oa,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Ho=oa;const _f='initialize',gf='postInitia'+'lize',JI='update',eD='postUpdate',tD='swap';class Ht extends ce{constructor(_0x4cc85e){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x4cc85e);}set['enabled'](_0x2e8358){this['_enabled']=!!_0x2e8358,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0x1a09+0x1db7*-0x1+0x3ae),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,_f)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(-0x15c0+-0x2*0x6e5+-0x11c5*-0x2),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,gf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x3bbd09){const _0x1acc9b=this['constructo'+'r'];v['assert'](_0x3bbd09&&_0x3bbd09['app']&&_0x3bbd09['entity'],'script\x20['+_0x1acc9b['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x3bbd09['app'],this['entity']=_0x3bbd09['entity'],this['_enabled']=typeof _0x3bbd09['enabled']=='boolean'?_0x3bbd09['enabled']:!(-0xd36+0xab9+-0xd*-0x31),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x12d0+-0x28b*-0xc+-0x3153),this['__scriptTy'+'pe']=_0x1acc9b,this['__executio'+'nOrder']=-(-0x2237+0x1a99+0x79f);}static get['scriptName'](){return this['__name'];}}c(Ht,'EVENT_ENAB'+'LE','enable'),c(Ht,'EVENT_DISA'+'BLE','disable'),c(Ht,'EVENT_STAT'+'E','state'),c(Ht,'EVENT_DEST'+'ROY','destroy'),c(Ht,'EVENT_ATTR','attr'),c(Ht,'EVENT_ERRO'+'R','error'),c(Ht,'__name',null),c(Ht,'__getScrip'+'tName',Cx);const sD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Cx(_0x741776){if(typeof _0x741776!='function')return;if('name'in Function['prototype'])return _0x741776['name'];if(_0x741776===Function||_0x741776===Function['prototype']['constructo'+'r'])return'Function';const _0x56b1af=(''+_0x741776)['match'](sD);return _0x56b1af?_0x56b1af[-0x3*-0x1f3+-0x24d2+0x2*0xf7d]:void(0xf1c+-0x2*0xf9b+-0x80d*-0x2);}class Qh extends Ht{constructor(_0x3f1f04){super(_0x3f1f04),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x3f1f04);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Ho(this)),this['__attribut'+'es'];}['initScript'](_0x4d162e){Ht['prototype']['initScript']['call'](this,_0x4d162e),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4d162e['attributes']||{};}['initScript'+'Type'](_0x1c14bf){this['initScript'](_0x1c14bf);}['__initiali'+'zeAttribut'+'es'](_0x49c5f8){if(!(!_0x49c5f8&&!this['__attribut'+'esRaw'])){for(const _0x187ca7 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x187ca7)?this[_0x187ca7]=this['__attribut'+'esRaw'][_0x187ca7]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x187ca7)||(this['__scriptTy'+'pe']['attributes']['index'][_0x187ca7]['hasOwnProp'+'erty']('default')?this[_0x187ca7]=this['__scriptTy'+'pe']['attributes']['index'][_0x187ca7]['default']:this[_0x187ca7]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x33f393){for(const _0x19662b in _0x33f393)_0x33f393['hasOwnProp'+'erty'](_0x19662b)&&(this['prototype'][_0x19662b]=_0x33f393[_0x19662b]);}}const iD=_0x89dc=>_0x89dc[-0x58*-0xb+0x1fba+-0x2382]['toLowerCas'+'e']()+_0x89dc['substring'](0x2*0x3f1+-0x14ce+-0x1*-0xced);class di extends ue{constructor(_0x1f6ade,_0x31b7df){super(_0x1f6ade,_0x31b7df),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new wh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new wh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x1476+0xa1a+0x1*0xa5d),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x1*0xf43+-0x38a+-0x1*0xbb9),this['_enabled']=!(0x1*-0x1d71+0x1*-0x1d59+0x7*0x866),this['_beingEnab'+'led']=!(0x283*-0x3+0x200a+0x1*-0x1880),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1035+-0xd*0xa5+-0x1897*-0x1),this['_execution'+'Order']=-(-0x576+-0x5b4+-0x3*-0x3b9),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x16fa51){this['_scriptsDa'+'ta']=_0x16fa51;for(const _0x29492c in _0x16fa51){if(!_0x16fa51['hasOwnProp'+'erty'](_0x29492c))continue;const _0x45ec30=this['_scriptsIn'+'dex'][_0x29492c];if(_0x45ec30){if(typeof _0x16fa51[_0x29492c]['enabled']=='boolean'&&(_0x45ec30['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x45ec30);}),_0x45ec30['enabled']=!!_0x16fa51[_0x29492c]['enabled']),typeof _0x16fa51[_0x29492c]['attributes']=='object'){for(const _0x13fb34 in _0x16fa51[_0x29492c]['attributes'])if(!Ho['reservedNa'+'mes']['has'](_0x13fb34)){if(!_0x45ec30['__attribut'+'es']['hasOwnProp'+'erty'](_0x13fb34)){const _0x1d171e=this['system']['app']['scripts']['get'](_0x29492c);_0x1d171e&&_0x1d171e['attributes']['add'](_0x13fb34,{});}_0x45ec30[_0x13fb34]=_0x16fa51[_0x29492c]['attributes'][_0x13fb34];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x6dd19e){const _0x57b78d=this['_enabled'];this['_enabled']=_0x6dd19e,this['fire']('set','enabled',_0x57b78d,_0x6dd19e);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x13*-0xbb+-0x1bcd+0xc6*0x12),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x2362+-0x1*0x1aad+-0x4*-0xf84);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x3ecfce=this['_beginLoop'+'ing']();for(let _0x4dabe8=0x4dd+-0x3c6+-0x117,_0x19e449=this['scripts']['length'];_0x4dabe8<_0x19e449;_0x4dabe8++){const _0x4ef07c=this['scripts'][_0x4dabe8];_0x4ef07c['_initializ'+'ed']&&!_0x4ef07c['_postIniti'+'alized']&&_0x4ef07c['enabled']&&(_0x4ef07c['_postIniti'+'alized']=!(-0x6e1+0x168b+-0x191*0xa),_0x4ef07c['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x4ef07c,gf));}this['_endLoopin'+'g'](_0x3ecfce);}['_beginLoop'+'ing'](){const _0x16a61e=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0xbe4+-0x5f9*0x2+-0x3f9*-0x6),_0x16a61e;}['_endLoopin'+'g'](_0x450db2){this['_isLooping'+'ThroughScr'+'ipts']=_0x450db2,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x46ce21,_0x56f71e,_0x4f742d){this['_beingEnab'+'led']=!(-0x1f*0xb6+0x21a5+0x1*-0xb9b),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x1*-0xfa7+-0x1dfc+-0x2*-0x16d2);}['_checkStat'+'e'](){const _0xa5e2ac=this['enabled']&&this['entity']['enabled'];if(_0xa5e2ac===this['_oldState'])return;this['_oldState']=_0xa5e2ac,this['fire'](_0xa5e2ac?'enable':'disable'),this['fire']('state',_0xa5e2ac),_0xa5e2ac?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x3b2088=this['_beginLoop'+'ing']();for(let _0x52f4ba=-0x667*-0x2+0xb75*-0x1+0x45*-0x5,_0x25cf4f=this['scripts']['length'];_0x52f4ba<_0x25cf4f;_0x52f4ba++){const _0x394fe9=this['scripts'][_0x52f4ba];_0x394fe9['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x394fe9);}),_0x394fe9['enabled']=_0x394fe9['_enabled'];}this['_endLoopin'+'g'](_0x3b2088);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x2960f8=this['_beginLoop'+'ing']();for(let _0x426ead=0x20d1*0x1+0x1c62+-0x3d33;_0x426ead<this['scripts']['length'];_0x426ead++){const _0x291e59=this['scripts'][_0x426ead];_0x291e59&&this['destroy'](_0x291e59['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x2960f8);}['_removeDes'+'troyedScri'+'pts'](){const _0x45af4a=this['_destroyed'+'Scripts']['length'];if(_0x45af4a){for(let _0x44ffbd=-0x3*-0x71e+0xc*-0xc2+0xc42*-0x1;_0x44ffbd<_0x45af4a;_0x44ffbd++){const _0xd178aa=this['_destroyed'+'Scripts'][_0x44ffbd];this['_removeScr'+'iptInstanc'+'e'](_0xd178aa);}this['_destroyed'+'Scripts']['length']=0xcf1+0xabf*0x2+0x2b*-0xcd,this['_resetExec'+'utionOrder'](0x5d*-0x1+-0x2443+0x24a0,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x585c60=-0x2628+-0x1d0d+-0x6f*-0x9b,_0x1dc80e=this['scripts']['length'];_0x585c60<_0x1dc80e;_0x585c60++){const _0x1df92b=this['scripts'][_0x585c60];this['initialize'+'Attributes'](_0x1df92b);}}['initialize'+'Attributes'](_0x361b2b){var _0x40a4a4;if(_0x361b2b instanceof Qh)_0x361b2b['__initiali'+'zeAttribut'+'es']();else{const _0x5dafb8=_0x361b2b['__scriptTy'+'pe']['__name'],_0x4ebe76=this['_attribute'+'DataMap']['get'](_0x5dafb8);if(!_0x4ebe76)return;const _0xc6593=(_0x40a4a4=this['system']['app']['scripts'])==null?void(-0x984+-0x1b*-0x2c+-0x60*-0xd):_0x40a4a4['getSchema'](_0x5dafb8);_0xc6593||v['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x5dafb8+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Ex(this['system']['app'],_0xc6593['attributes'],_0x4ebe76,_0x361b2b);}}['_scriptMet'+'hod'](_0x56ad79,_0x363657,_0x1a715f){try{_0x56ad79[_0x363657](_0x1a715f);}catch(_0x173cdd){_0x56ad79['enabled']=!(-0x39*0xa3+0x1*0x347+0x2105),_0x56ad79['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x363657+'\x22\x20for\x20\x22'+_0x56ad79['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x173cdd),console['error'](_0x173cdd)),_0x56ad79['fire']('error',_0x173cdd,_0x363657),this['fire']('error',_0x56ad79,_0x173cdd,_0x363657);}}['_onInitial'+'ize'](){const _0x4dbe95=this['_scripts'],_0x5c2bf5=this['_beginLoop'+'ing']();for(let _0x458aa2=-0x54d*-0x1+-0x1183*0x1+0xc36,_0x5c7433=_0x4dbe95['length'];_0x458aa2<_0x5c7433;_0x458aa2++){const _0x4fd2bd=_0x4dbe95[_0x458aa2];!_0x4fd2bd['_initializ'+'ed']&&_0x4fd2bd['enabled']&&(_0x4fd2bd['_initializ'+'ed']=!(0x126d+0xdfa+-0x2067),_0x4fd2bd['initialize']&&this['_scriptMet'+'hod'](_0x4fd2bd,_f));}this['_endLoopin'+'g'](_0x5c2bf5);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x127e2b){const _0x4a51fe=this['_updateLis'+'t'];if(!_0x4a51fe['length'])return;const _0x3ef9c7=this['_beginLoop'+'ing']();for(_0x4a51fe['loopIndex']=-0x1*-0x3f3+0xe66+-0x1259;_0x4a51fe['loopIndex']<_0x4a51fe['length'];_0x4a51fe['loopIndex']++){const _0x22fa7a=_0x4a51fe['items'][_0x4a51fe['loopIndex']];_0x22fa7a['enabled']&&this['_scriptMet'+'hod'](_0x22fa7a,JI,_0x127e2b);}this['_endLoopin'+'g'](_0x3ef9c7);}['_onPostUpd'+'ate'](_0x2651e5){const _0x322ec6=this['_postUpdat'+'eList'];if(!_0x322ec6['length'])return;const _0x45529b=this['_beginLoop'+'ing']();for(_0x322ec6['loopIndex']=-0x2002+-0x1451+0x3453;_0x322ec6['loopIndex']<_0x322ec6['length'];_0x322ec6['loopIndex']++){const _0x2ba7d9=_0x322ec6['items'][_0x322ec6['loopIndex']];_0x2ba7d9['enabled']&&this['_scriptMet'+'hod'](_0x2ba7d9,eD,_0x2651e5);}this['_endLoopin'+'g'](_0x45529b);}['_insertScr'+'iptInstanc'+'e'](_0x4899b6,_0x36c50b,_0x86ce2){_0x36c50b===-(-0x26f+-0x1359+0xd*0x1ad)?(this['_scripts']['push'](_0x4899b6),_0x4899b6['__executio'+'nOrder']=_0x86ce2,_0x4899b6['update']&&this['_updateLis'+'t']['append'](_0x4899b6),_0x4899b6['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x4899b6)):(this['_scripts']['splice'](_0x36c50b,0x2*-0x12e5+0x1a1*0x14+0x536,_0x4899b6),_0x4899b6['__executio'+'nOrder']=_0x36c50b,this['_resetExec'+'utionOrder'](_0x36c50b+(0x19c+0x567*-0x1+0x3cc),_0x86ce2+(-0xa3+0x1*-0x6bf+-0x763*-0x1)),_0x4899b6['update']&&this['_updateLis'+'t']['insert'](_0x4899b6),_0x4899b6['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x4899b6));}['_removeScr'+'iptInstanc'+'e'](_0x57524d){const _0x3a8e9f=this['_scripts']['indexOf'](_0x57524d);return _0x3a8e9f===-(0x1cea+0x1*0xed1+-0x2bba)||(this['_scripts']['splice'](_0x3a8e9f,0x1*-0xd2b+0xec1+-0x195),_0x57524d['update']&&this['_updateLis'+'t']['remove'](_0x57524d),_0x57524d['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x57524d)),_0x3a8e9f;}['_resetExec'+'utionOrder'](_0x236e08,_0xac1b50){for(let _0x1ff771=_0x236e08;_0x1ff771<_0xac1b50;_0x1ff771++)this['_scripts'][_0x1ff771]['__executio'+'nOrder']=_0x1ff771;}['_resolveEn'+'tityScript'+'Attribute'](_0x14d0b9,_0x30a66e,_0x244328,_0x166f60,_0x586deb,_0x54a03f){if(_0x14d0b9['array']){const _0x506fd6=_0x244328['length'];if(!_0x506fd6)return;const _0x16c22b=_0x244328['slice']();for(let _0x276de0=-0x1*0x1e13+-0x184d+-0x1e0*-0x1d;_0x276de0<_0x506fd6;_0x276de0++){const _0x4b88b4=_0x16c22b[_0x276de0]instanceof We?_0x16c22b[_0x276de0]['getGuid']():_0x16c22b[_0x276de0];_0x54a03f[_0x4b88b4]&&(_0x16c22b[_0x276de0]=_0x166f60?_0x54a03f[_0x4b88b4]['getGuid']():_0x54a03f[_0x4b88b4]);}_0x586deb[_0x30a66e]=_0x16c22b;}else{if(_0x244328 instanceof We)_0x244328=_0x244328['getGuid']();else{if(typeof _0x244328!='string')return;}_0x54a03f[_0x244328]&&(_0x586deb[_0x30a66e]=_0x54a03f[_0x244328]);}}['has'](_0x325459){if(typeof _0x325459=='string')return!!this['_scriptsIn'+'dex'][_0x325459];if(!_0x325459)return!(0x1bc8+-0x428+0x179f*-0x1);const _0x3d95fd=_0x325459,_0x28100f=_0x3d95fd['__name'],_0x4d6ea0=this['_scriptsIn'+'dex'][_0x28100f];return(_0x4d6ea0&&_0x4d6ea0['instance'])instanceof _0x3d95fd;}['get'](_0x2901be){if(typeof _0x2901be=='string'){const _0x4cd5a3=this['_scriptsIn'+'dex'][_0x2901be];return _0x4cd5a3?_0x4cd5a3['instance']:null;}if(!_0x2901be)return null;const _0xd74d09=_0x2901be,_0x329a5f=_0xd74d09['__name'],_0x3ab5da=this['_scriptsIn'+'dex'][_0x329a5f],_0x1e45c3=_0x3ab5da&&_0x3ab5da['instance'];return _0x1e45c3 instanceof _0xd74d09?_0x1e45c3:null;}['create'](_0x448531,_0x3184d5={}){const _0x298024=this;let _0x3f8d2c=_0x448531,_0x59bc75=_0x448531;if(typeof _0x3f8d2c=='string'?_0x3f8d2c=this['system']['app']['scripts']['get'](_0x3f8d2c):_0x3f8d2c&&(_0x59bc75=_0x3f8d2c['__name']??(_0x3f8d2c['__name']=iD(Cx(_0x3f8d2c)))),_0x3f8d2c){if(!this['_scriptsIn'+'dex'][_0x59bc75]||!this['_scriptsIn'+'dex'][_0x59bc75]['instance']){const _0x1d389d=new _0x3f8d2c({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x3184d5['hasOwnProp'+'erty']('enabled')?_0x3184d5['enabled']:!(0x4*0x17+0x1108+-0x1164),'attributes':_0x3184d5['attributes']||{}});_0x3184d5['properties']&&typeof _0x3184d5['properties']=='object'&&Object['assign'](_0x1d389d,_0x3184d5['properties']),_0x1d389d instanceof Qh||this['_attribute'+'DataMap']['set'](_0x59bc75,_0x3184d5['attributes']);const _0x54a244=this['_scripts']['length'];let _0xd6d3fe=-(-0x956+-0x5d5+0xf2c);return typeof _0x3184d5['ind']=='number'&&_0x3184d5['ind']!==-(-0x165+0x1142*0x2+-0x9*0x3ae)&&_0x54a244>_0x3184d5['ind']&&(_0xd6d3fe=_0x3184d5['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x1d389d,_0xd6d3fe,_0x54a244),this['_scriptsIn'+'dex'][_0x59bc75]={'instance':_0x1d389d,'onSwap':function(){_0x298024['swap'](_0x59bc75);}},this[_0x59bc75]=_0x1d389d,_0x3184d5['preloading']||this['initialize'+'Attributes'](_0x1d389d),this['fire']('create',_0x59bc75,_0x1d389d),this['fire']('create:'+_0x59bc75,_0x1d389d),this['system']['app']['scripts']['on']('swap:'+_0x59bc75,this['_scriptsIn'+'dex'][_0x59bc75]['onSwap']),_0x3184d5['preloading']||(_0x1d389d['enabled']&&!_0x1d389d['_initializ'+'ed']&&(_0x1d389d['_initializ'+'ed']=!(-0x19fb+-0x123*0x6+0x20cd),_0x1d389d['initialize']&&this['_scriptMet'+'hod'](_0x1d389d,_f)),_0x1d389d['enabled']&&!_0x1d389d['_postIniti'+'alized']&&(_0x1d389d['_postIniti'+'alized']=!(-0x1*-0x6d1+-0x1b13*0x1+0x1442),_0x1d389d['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x1d389d,gf))),_0x1d389d;}v['warn']('script\x20\x27'+_0x59bc75+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x59bc75]={'awaiting':!(-0xbad+0x227a+-0x16cd),'ind':this['_scripts']['length']},v['warn']('script\x20\x27'+_0x59bc75+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x4096fe){let _0x3d7050=_0x4096fe,_0x48e9a1=_0x4096fe;typeof _0x48e9a1=='string'?_0x48e9a1=this['system']['app']['scripts']['get'](_0x48e9a1):_0x48e9a1&&(_0x3d7050=_0x48e9a1['__name']);const _0x55e2ce=this['_scriptsIn'+'dex'][_0x3d7050];if(delete this['_scriptsIn'+'dex'][_0x3d7050],!_0x55e2ce)return!(-0x1f6a*-0x1+0x17bf*-0x1+-0x7aa);this['_attribute'+'DataMap']['delete'](_0x3d7050);const _0x2abdee=_0x55e2ce['instance'];if(_0x2abdee&&!_0x2abdee['_destroyed']){if(_0x2abdee['enabled']=!(-0x23ae+0x35*-0x75+0x48*0xd5),_0x2abdee['_destroyed']=!(0x11d7+-0xd29+-0x4ae),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x2abdee);else{const _0x354f45=this['_removeScr'+'iptInstanc'+'e'](_0x2abdee);_0x354f45>=0x1*0x145c+0x13af+0xc9*-0x33&&this['_resetExec'+'utionOrder'](_0x354f45,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3d7050,_0x55e2ce['onSwap']),delete this[_0x3d7050],this['fire']('destroy',_0x3d7050,_0x2abdee||null),this['fire']('destroy:'+_0x3d7050,_0x2abdee||null),_0x2abdee&&_0x2abdee['fire']('destroy'),!(0x1984+-0x2136+-0x3d9*-0x2);}['swap'](_0x338241){let _0x327175=_0x338241,_0x576509=_0x338241;typeof _0x576509=='string'?_0x576509=this['system']['app']['scripts']['get'](_0x576509):_0x576509&&(_0x327175=_0x576509['__name']);const _0x16697f=this['_scriptsIn'+'dex'][_0x327175];if(!_0x16697f||!_0x16697f['instance'])return!(-0x15*-0x26+0x1*0x128f+-0x49*0x4c);const _0x1d5529=_0x16697f['instance'],_0xad5cf=this['_scripts']['indexOf'](_0x1d5529),_0x2c7700=new _0x576509({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x1d5529['enabled'],'attributes':_0x1d5529['__attribut'+'es']});return _0x2c7700['swap']?(this['initialize'+'Attributes'](_0x2c7700),this['_scripts'][_0xad5cf]=_0x2c7700,this['_scriptsIn'+'dex'][_0x327175]['instance']=_0x2c7700,this[_0x327175]=_0x2c7700,_0x2c7700['__executio'+'nOrder']=_0xad5cf,_0x1d5529['update']&&this['_updateLis'+'t']['remove'](_0x1d5529),_0x1d5529['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1d5529),_0x2c7700['update']&&this['_updateLis'+'t']['insert'](_0x2c7700),_0x2c7700['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x2c7700),this['_scriptMet'+'hod'](_0x2c7700,tD,_0x1d5529),this['fire']('swap',_0x327175,_0x2c7700),this['fire']('swap:'+_0x327175,_0x2c7700),!(-0x226+-0x6*-0x568+-0xf25*0x2)):!(0x1fb9+0x88b+-0x2843);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x31a303,_0x249803){const _0xaf7b38=this['entity']['script'];for(const _0x3e9bac in _0x31a303['_scriptsIn'+'dex']){const _0x427616=this['system']['app']['scripts']['get'](_0x3e9bac);if(!_0x427616)continue;const _0x535c5a=_0x31a303['_scriptsIn'+'dex'][_0x3e9bac];if(!_0x535c5a||!_0x535c5a['instance'])continue;const _0x2de3ef=_0xaf7b38[_0x3e9bac]['__attribut'+'esRaw'],_0x3f30ae=_0xaf7b38[_0x3e9bac]['__attribut'+'es'];if(!_0x2de3ef&&!_0x3f30ae)continue;const _0x4c8f7a=!!_0x2de3ef,_0x598902=_0x535c5a['instance']['__attribut'+'es'];for(const _0x3cfefb in _0x598902){if(!_0x598902[_0x3cfefb])continue;const _0x426003=_0x427616['attributes']['get'](_0x3cfefb);if(_0x426003){if(_0x426003['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x426003,_0x3cfefb,_0x598902[_0x3cfefb],_0x4c8f7a,_0x2de3ef||_0x3f30ae,_0x249803);else{if(_0x426003['type']==='json'&&Array['isArray'](_0x426003['schema'])){const _0x23ebdc=_0x598902[_0x3cfefb],_0x15279c=_0x2de3ef?_0x2de3ef[_0x3cfefb]:_0x3f30ae[_0x3cfefb];for(let _0xdf04d=-0x1*0x1d71+0x14cc+0x8a5;_0xdf04d<_0x426003['schema']['length'];_0xdf04d++){const _0x3730f5=_0x426003['schema'][_0xdf04d];if(_0x3730f5['type']==='entity'){if(_0x426003['array']){for(let _0x597390=-0x1*-0x65e+-0x4*0x51+0x2*-0x28d;_0x597390<_0x23ebdc['length'];_0x597390++)this['_resolveEn'+'tityScript'+'Attribute'](_0x3730f5,_0x3730f5['name'],_0x23ebdc[_0x597390][_0x3730f5['name']],_0x4c8f7a,_0x15279c[_0x597390],_0x249803);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x3730f5,_0x3730f5['name'],_0x23ebdc[_0x3730f5['name']],_0x4c8f7a,_0x15279c,_0x249803);}}}}}}}}['move'](_0x5b6586,_0x131b9b){const _0x32b9cb=this['_scripts']['length'];if(_0x131b9b>=_0x32b9cb||_0x131b9b<0x70a+-0xcf3+0x5e9)return!(0x14b7+-0x1c28+0x772);let _0x4760f1=_0x5b6586,_0x3e942f=_0x5b6586;typeof _0x3e942f!='string'?_0x3e942f=_0x5b6586['__name']:_0x4760f1=null;const _0x54f154=this['_scriptsIn'+'dex'][_0x3e942f];if(!_0x54f154||!_0x54f154['instance'])return!(0x140a+-0x7a*0x1+-0x1*0x138f);const _0x136f32=_0x54f154['instance'];if(_0x4760f1&&!(_0x136f32 instanceof _0x4760f1))return!(-0x16d3+0x950+0xa*0x15a);const _0x524ead=this['_scripts']['indexOf'](_0x136f32);return _0x524ead===-(0x261+0x84f+0x223*-0x5)||_0x524ead===_0x131b9b?!(-0xa29+-0x8d8+0x1302):(this['_scripts']['splice'](_0x131b9b,-0xbfc+-0x1f6*0x9+0x1da2,this['_scripts']['splice'](_0x524ead,-0x21b5+-0x2438*-0x1+-0x282)[0x1c24+0x1*-0xc1d+-0x1007]),this['_resetExec'+'utionOrder'](0xc67+0x2*-0x1297+0x18c7,_0x32b9cb),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x3e942f,_0x136f32,_0x131b9b,_0x524ead),this['fire']('move:'+_0x3e942f,_0x136f32,_0x131b9b,_0x524ead),!(0x1*-0x13e7+-0x1ca6+0x308d));}}c(di,'EVENT_CREA'+'TE','create'),c(di,'EVENT_DEST'+'ROY','destroy'),c(di,'EVENT_ENAB'+'LE','enable'),c(di,'EVENT_DISA'+'BLE','disable'),c(di,'EVENT_REMO'+'VE','remove'),c(di,'EVENT_STAT'+'E','state'),c(di,'EVENT_MOVE','move'),c(di,'EVENT_ERRO'+'R','error');class rD{constructor(){this['enabled']=!(-0x706*-0x3+-0xdf*0x5+-0x10b7);}}const nD='_onInitial'+'izeAttribu'+'tes',aD='_onInitial'+'ize',oD='_onPostIni'+'tialize',lD='_onUpdate',hD='_onPostUpd'+'ate';let Jl=-0x200f+0x1fca*-0x1+0x1*0x3fd9;class cD extends Xe{constructor(_0x348d18){super(_0x348d18),this['id']='script',this['ComponentT'+'ype']=di,this['DataType']=rD,this['_component'+'s']=new wh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new wh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1fa4+-0x1801+-0x7a3),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x1627a9,_0x5865a6){if(_0x1627a9['_execution'+'Order']=Jl++,this['_component'+'s']['append'](_0x1627a9),Jl>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x1627a9['enabled']=_0x5865a6['hasOwnProp'+'erty']('enabled')?!!_0x5865a6['enabled']:!(-0x7b3+0x1609*0x1+0x72b*-0x2),_0x1627a9['enabled']&&_0x1627a9['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x1627a9),_0x5865a6['hasOwnProp'+'erty']('order')&&_0x5865a6['hasOwnProp'+'erty']('scripts')){_0x1627a9['_scriptsDa'+'ta']=_0x5865a6['scripts'];for(let _0xc1ee9=0x1*0x46d+-0x184a+0x13dd;_0xc1ee9<_0x5865a6['order']['length'];_0xc1ee9++)_0x1627a9['create'](_0x5865a6['order'][_0xc1ee9],{'enabled':_0x5865a6['scripts'][_0x5865a6['order'][_0xc1ee9]]['enabled'],'attributes':_0x5865a6['scripts'][_0x5865a6['order'][_0xc1ee9]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x55762f,_0x103f2a){var _0x42e5f;const _0x2ee303=[],_0x4718a5={};for(let _0x47e5e8=0x26f9+-0xcb5+-0x1a44;_0x47e5e8<_0x55762f['script']['_scripts']['length'];_0x47e5e8++){const _0x5ad807=_0x55762f['script']['_scripts'][_0x47e5e8],_0x3c790d=_0x5ad807['__scriptTy'+'pe']['__name'];_0x2ee303['push'](_0x3c790d);const _0x140bf9=((_0x42e5f=_0x55762f['script']['_attribute'+'DataMap'])==null?void(-0x33f+0x1*-0x815+-0x1d*-0x64):_0x42e5f['get'](_0x3c790d))||{};for(const _0x51eca9 in _0x5ad807['__attribut'+'es'])_0x140bf9[_0x51eca9]=_0x5ad807['__attribut'+'es'][_0x51eca9];_0x4718a5[_0x3c790d]={'enabled':_0x5ad807['_enabled'],'attributes':_0x140bf9};}for(const _0x478360 in _0x55762f['script']['_scriptsIn'+'dex'])_0x478360['awaiting']&&_0x2ee303['splice'](_0x478360['ind'],0x2*0xfc2+0xd6f*-0x2+-0x4a6,_0x478360);const _0x3240a1={'enabled':_0x55762f['script']['enabled'],'order':_0x2ee303,'scripts':_0x4718a5};return this['addCompone'+'nt'](_0x103f2a,_0x3240a1);}['_resetExec'+'utionOrder'](){Jl=0x8b7*-0x1+-0x3*0x6ab+0x1cb8;for(let _0x352d7c=0x9*0x432+0x1505+-0x16f*0x29,_0x2073e3=this['_component'+'s']['length'];_0x352d7c<_0x2073e3;_0x352d7c++)this['_component'+'s']['items'][_0x352d7c]['_execution'+'Order']=Jl++;}['_callCompo'+'nentMethod'](_0x3cd372,_0x5e5751,_0x52eb9e){for(_0x3cd372['loopIndex']=0x18d*0x17+-0xbcf+-0x1*0x17dc;_0x3cd372['loopIndex']<_0x3cd372['length'];_0x3cd372['loopIndex']++)_0x3cd372['items'][_0x3cd372['loopIndex']][_0x5e5751](_0x52eb9e);}['_onInitial'+'ize'](){this['preloading']=!(-0x1415+0x1456+-0x40),this['_callCompo'+'nentMethod'](this['_component'+'s'],nD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],aD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onUpdate'](_0x367f52){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD,_0x367f52);}['_onPostUpd'+'ate'](_0x5445f6){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x5445f6);}['_addCompon'+'entToEnabl'+'ed'](_0x57cc38){this['_enabledCo'+'mponents']['insert'](_0x57cc38);}['_removeCom'+'ponentFrom'+'Enabled'](_0x55063f){this['_enabledCo'+'mponents']['remove'](_0x55063f);}['_onBeforeR'+'emove'](_0x3ef29b,_0x522aec){this['_component'+'s']['items']['indexOf'](_0x522aec)>=-0x2304+0x49*0x53+-0x5*-0x245&&_0x522aec['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x522aec),this['_component'+'s']['remove'](_0x522aec);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Mx extends ue{constructor(_0x2bbeb2,_0x296087){super(_0x2bbeb2,_0x296087),c(this,'_layers',[Fi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new Go('asset',this,_0x2bbeb2['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x296087['on']('remove',this['onRemoveCh'+'ild'],this),_0x296087['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x296087['on']('insert',this['onInsertCh'+'ild'],this),_0x296087['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x97dc37){var _0x8eb933,_0x5c3c74;this['_customAab'+'b']=_0x97dc37,(_0x5c3c74=(_0x8eb933=this['_instance'])==null?void(-0xd5*-0x26+0x12f8+-0x50f*0xa):_0x8eb933['meshInstan'+'ce'])==null||_0x5c3c74['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x46fa73){var _0x1ced7a;if(this['destroyIns'+'tance'](),this['_instance']=_0x46fa73,(_0x1ced7a=this['_instance'])!=null&&_0x1ced7a['meshInstan'+'ce']){const _0x40c2d8=this['_instance']['meshInstan'+'ce'];_0x40c2d8['node']||(_0x40c2d8['node']=this['entity']),_0x40c2d8['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x1a8508){this['_materialO'+'ptions']=Object['assign']({},_0x1a8508),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x3de2a4;return(_0x3de2a4=this['_instance'])==null?void(-0x1b74+0x75c*-0x2+-0x1516*-0x2):_0x3de2a4['material'];}set['layers'](_0x2e32b6){this['removeFrom'+'Layers'](),this['_layers']['length']=0x114e+-0x2a7+-0xb*0x155;for(let _0x3700f9=-0xb*-0x263+-0x1869+-0x1d8;_0x3700f9<_0x2e32b6['length'];_0x3700f9++)this['_layers'][_0x3700f9]=_0x2e32b6[_0x3700f9];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x241a3b){const _0x5edc23=_0x241a3b instanceof le?_0x241a3b['id']:_0x241a3b;this['_assetRefe'+'rence']['id']!==_0x5edc23&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x5edc23,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x37c33c){const _0x30ca22=_0x37c33c instanceof le?_0x37c33c['id']:_0x37c33c;this['_assetRefe'+'rence']['id']=_0x30ca22;}['destroyIns'+'tance'](){var _0x5ad18e;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5ad18e=this['_instance'])==null||_0x5ad18e['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x1fe392,_0x4770de;const _0x106f89=(_0x1fe392=this['instance'])==null?void(-0x755*0x5+-0x1f85*-0x1+-0x292*-0x2):_0x1fe392['meshInstan'+'ce'];if(_0x106f89){const _0x4f2588=this['system']['app']['scene']['layers'];for(let _0x5249a4=0x1864+-0x259f+0xd3b;_0x5249a4<this['_layers']['length'];_0x5249a4++)(_0x4770de=_0x4f2588['getLayerBy'+'Id'](this['_layers'][_0x5249a4]))==null||_0x4770de['addMeshIns'+'tances']([_0x106f89]);}}['removeFrom'+'Layers'](){var _0x48a6e9,_0x4bba37;const _0x5d85d3=(_0x48a6e9=this['instance'])==null?void(-0x1e8d+0x1d9e+0x1*0xef):_0x48a6e9['meshInstan'+'ce'];if(_0x5d85d3){const _0x1e1e68=this['system']['app']['scene']['layers'];for(let _0x47ce1a=-0x3*0x976+-0x739*0x1+-0x239b*-0x1;_0x47ce1a<this['_layers']['length'];_0x47ce1a++)(_0x4bba37=_0x1e1e68['getLayerBy'+'Id'](this['_layers'][_0x47ce1a]))==null||_0x4bba37['removeMesh'+'Instances']([_0x5d85d3]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x49c137,_0x78ee01){this['addToLayer'+'s'](),_0x49c137['off']('add',this['onLayerAdd'+'ed'],this),_0x49c137['off']('remove',this['onLayerRem'+'oved'],this),_0x78ee01['on']('add',this['onLayerAdd'+'ed'],this),_0x78ee01['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4e6210){this['layers']['indexOf'](_0x4e6210['id'])<0x1e89+0x1*-0x5f4+-0x1f*0xcb||this['_instance']&&_0x4e6210['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x38d0e7){this['layers']['indexOf'](_0x38d0e7['id'])<-0x1863*0x1+-0x2086+0x38e9||this['_instance']&&_0x38d0e7['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x631788=this['system']['app']['scene'],_0x189d82=_0x631788['layers'];this['_evtLayers'+'Changed']=_0x631788['on']('set:layers',this['onLayersCh'+'anged'],this),_0x189d82&&(this['_evtLayerA'+'dded']=_0x189d82['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x189d82['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x23c793,_0x25a773,_0x28bfd5;const _0x49d36a=this['system']['app']['scene']['layers'];(_0x23c793=this['_evtLayers'+'Changed'])==null||_0x23c793['off'](),this['_evtLayers'+'Changed']=null,_0x49d36a&&((_0x25a773=this['_evtLayerA'+'dded'])==null||_0x25a773['off'](),this['_evtLayerA'+'dded']=null,(_0x28bfd5=this['_evtLayerR'+'emoved'])==null||_0x28bfd5['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0xa*-0x2ca+0x1a4d+0x198));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1bbe+0xbd*-0x5+0x1f6f*0x1));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x2021af=this['_assetRefe'+'rence']['asset'];_0x2021af&&(this['instance']=_0x2021af['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class dD{constructor(){this['enabled']=!(0x2*-0xbc6+0x3*0xad7+0x1*-0x8f9);}}const yf=['enabled'],Rr=['instance','asset','layers'];class uD extends Xe{constructor(_0x2dce79){super(_0x2dce79),this['id']='gsplat',this['ComponentT'+'ype']=Mx,this['DataType']=dD,this['schema']=yf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x55f37c,_0x2841c4,_0x2de563){_0x2841c4['layers']&&_0x2841c4['layers']['length']&&(_0x2841c4['layers']=_0x2841c4['layers']['slice'](0x129d+0xbd+-0x135a));for(let _0x350391=0x3*0xa8b+-0x1592+0x203*-0x5;_0x350391<Rr['length'];_0x350391++)_0x2841c4['hasOwnProp'+'erty'](Rr[_0x350391])&&(_0x55f37c[Rr[_0x350391]]=_0x2841c4[Rr[_0x350391]]);_0x2841c4['aabbCenter']&&_0x2841c4['aabbHalfEx'+'tents']&&(_0x55f37c['customAabb']=new _e(new T(_0x2841c4['aabbCenter']),new T(_0x2841c4['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x55f37c,_0x2841c4,yf);}['cloneCompo'+'nent'](_0x402b5e,_0x2eb020){const _0x3f58ba=_0x402b5e['gsplat'],_0x3ebdf8={};for(let _0x54ac57=0x424+0xc*0x18f+-0x16d8;_0x54ac57<Rr['length'];_0x54ac57++)_0x3ebdf8[Rr[_0x54ac57]]=_0x3f58ba[Rr[_0x54ac57]];_0x3ebdf8['enabled']=_0x3f58ba['enabled'],delete _0x3ebdf8['instance'];const _0x236373=this['addCompone'+'nt'](_0x2eb020,_0x3ebdf8);return _0x236373['instance']=_0x3f58ba['instance']['clone'](),_0x3f58ba['customAabb']&&(_0x236373['customAabb']=_0x3f58ba['customAabb']['clone']()),_0x236373;}['onRemove'](_0x2e086a,_0x4cd34f){_0x4cd34f['onRemove']();}}ue['_buildAcce'+'ssors'](Mx['prototype'],yf);class Hp extends ce{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x3b4d39){this['decRefMesh'+'es'](),this['_meshes']=_0x3b4d39,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x3b4d39);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x4084c0;(_0x4084c0=this['_meshes'])==null||_0x4084c0['forEach']((_0x41882c,_0x3d6ddf)=>{_0x41882c&&(_0x41882c['decRefCoun'+'t'](),_0x41882c['refCount']<0x1*-0x1f7+0x1289+-0x1091&&(_0x41882c['destroy'](),this['_meshes'][_0x3d6ddf]=null));});}['incRefMesh'+'es'](){var _0x313137;(_0x313137=this['_meshes'])==null||_0x313137['forEach'](_0x236d3d=>{_0x236d3d==null||_0x236d3d['incRefCoun'+'t']();});}}c(Hp,'EVENT_SETM'+'ESHES','set:meshes');function yh(_0x3c3cf4){const _0x4a2372=this;if(!_0x4a2372['resource'])return;const _0x3316e0=_0x3c3cf4['resource'],_0x823e6b=_0x3316e0['renders']&&_0x3316e0['renders'][_0x4a2372['data']['renderInde'+'x']];_0x823e6b&&(_0x4a2372['resource']['meshes']=_0x823e6b['resource']['meshes']);}function Lg(_0x102bf9){const _0x5e036c=this;_0x5e036c['registry']['off']('load:'+_0x102bf9['id'],yh,_0x5e036c),_0x5e036c['registry']['on']('load:'+_0x102bf9['id'],yh,_0x5e036c),_0x5e036c['registry']['off']('remove:'+_0x102bf9['id'],Fg,_0x5e036c),_0x5e036c['registry']['once']('remove:'+_0x102bf9['id'],Fg,_0x5e036c),_0x102bf9['resource']?yh['call'](_0x5e036c,_0x102bf9):_0x5e036c['registry']['load'](_0x102bf9);}function Fg(_0xdd8df7){const _0x1b4e37=this;_0x1b4e37['registry']['off']('load:'+_0xdd8df7['id'],yh,_0x1b4e37),_0x1b4e37['resource']&&_0x1b4e37['resource']['destroy']();}class fD extends Ne{constructor(_0x3e25d2){super(_0x3e25d2,'render'),this['_registry']=_0x3e25d2['assets'];}['open'](_0x243073,_0x176e1c){return new Hp();}['patch'](_0x5dc15d,_0x24cdc4){if(!_0x5dc15d['data']['containerA'+'sset'])return;const _0x56790b=_0x24cdc4['get'](_0x5dc15d['data']['containerA'+'sset']);if(!_0x56790b){_0x24cdc4['once']('add:'+_0x5dc15d['data']['containerA'+'sset'],Lg,_0x5dc15d);return;}Lg['call'](_0x5dc15d,_0x56790b);}}class Px{constructor(_0x4a6617,_0xc42cc5,_0x5ca4a6,_0x1fd526){this['_paths']=_0x4a6617,this['_input']=_0xc42cc5,this['_output']=_0x5ca4a6,this['_interpola'+'tion']=_0x1fd526;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Jh{constructor(_0x3bc2bf,_0x416acd){this['_component'+'s']=_0x3bc2bf,this['_data']=_0x416acd;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function pD(_0x3b4b6d,_0x369c8c){let _0x2385e4;const _0x195459=(_0x2ce948,_0x25e14b)=>{switch(_0x25e14b){case _0x2385e4['DT_INT8']:return new Int8Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']);case _0x2385e4['DT_INT16']:return new Int16Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']/(-0x642+-0x3f8*0x9+0x1*0x29fc));case _0x2385e4['DT_INT32']:return new Int32Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']/(0x1*0x89+0x21a1+0x6*-0x5b1));case _0x2385e4['DT_UINT8']:return new Uint8Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']);case _0x2385e4['DT_UINT16']:return new Uint16Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']/(0x1b06+-0x2e*0xc1+-0xda*-0x9));case _0x2385e4['DT_UINT32']:return new Uint32Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']/(0x1d74+-0x6b*0x35+-0x749));case _0x2385e4['DT_FLOAT32']:return new Float32Array(_0x2ce948['buffer'],_0x2ce948['byteOffset'],_0x2ce948['byteLength']/(-0x1cc7*0x1+-0x5*-0x33b+-0x1*-0xca4));}return null;},_0x561ab8=_0xae978d=>{switch(_0xae978d){case _0x2385e4['DT_INT8']:return-0x5*-0xb2+-0x1aa7+-0x2e*-0x81;case _0x2385e4['DT_INT16']:return-0x2665+0x1*-0x1f1+0x2858;case _0x2385e4['DT_INT32']:return 0x191*0xf+0x1b5*0x1+-0x1930;case _0x2385e4['DT_UINT8']:return 0x2063+-0xb1*-0x7+-0x2dd*0xd;case _0x2385e4['DT_UINT16']:return 0x1f10+0x16cf+0x35dd*-0x1;case _0x2385e4['DT_UINT32']:return-0x6ba+-0x26ed*0x1+0x2dab;case _0x2385e4['DT_FLOAT32']:return 0x9d0+0x248b*-0x1+0x1abf;}return 0xb31+-0x98*-0x1d+-0x1c68;},_0x46b695=_0xf708ef=>_0xf708ef['num_compon'+'ents']()*_0x561ab8(_0xf708ef['data_type']()),_0x5de28e={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0xbee066=(_0x13c11b,_0x23f393)=>{const _0x21af1f=(_0x1908f5,_0x5b4c12,_0x4dd2c7)=>{_0x1908f5[0x13*-0x1a1+-0x21af*0x1+0x40a2]=_0x5b4c12[0xe90*-0x1+-0x8d+0xf1d]-_0x4dd2c7[0x6b*-0x3d+-0x1*0x15a4+0x2f23],_0x1908f5[-0x2380+-0xd*-0x43+-0x2*-0x100d]=_0x5b4c12[0x1b29+-0xf97*-0x2+-0x1d2b*0x2]-_0x4dd2c7[-0x3*0x794+-0x1*-0xeff+0x7be],_0x1908f5[0x217c+-0x179b+-0x9df]=_0x5b4c12[0xd81+0x593*-0x7+0x1986]-_0x4dd2c7[0x5*-0x2b6+-0x218f*0x1+-0x1*-0x2f1f];},_0x226b7b=(_0x5ecbe1,_0x345411,_0x25b259)=>{_0x5ecbe1[-0x1ab3+0x1aba+-0x7]=_0x345411[0x141e+0x1292*-0x1+0x5*-0x4f]*_0x25b259[-0x3c5+0x241*0x7+-0xc00]-_0x25b259[0x47*0x46+-0x191*-0x17+-0x4*0xddc]*_0x345411[0x2*-0xab7+0x2293+-0xd23],_0x5ecbe1[0x34*0x29+0x1*-0x1b56+0x1303]=_0x345411[-0x1928+0x51*-0x54+0x25*0x166]*_0x25b259[0x22f0+0x679*-0x5+-0x293]-_0x25b259[0x154b+-0x537*0x2+-0x7*0x18d]*_0x345411[0x949*-0x4+-0x209*0xb+0x137*0x31],_0x5ecbe1[0x23f6+-0x414+-0x1fe0]=_0x345411[0x575*0x1+0x1e94+-0x2409]*_0x25b259[-0x1b7*0x10+0x1155*-0x2+0x3e1b]-_0x25b259[-0xec7+-0x1d*-0x121+-0x11f6]*_0x345411[-0xd*0x123+-0x3f5*-0x9+0x14d5*-0x1];},_0x44f304=(_0x16992c,_0x279927)=>{const _0x12c5a8=_0x16992c[_0x279927+(0x1f22+-0x6*0x42e+-0x5*0x136)],_0x588c7a=_0x16992c[_0x279927+(0x2204+0x1*-0x2211+-0x7*-0x2)],_0x52fcf5=_0x16992c[_0x279927+(-0x4*-0x287+-0x44*-0x3a+-0x1982)],_0x2508e9=(0xd8c+-0x7*-0x30d+-0x22e6)/Math['sqrt'](_0x12c5a8*_0x12c5a8+_0x588c7a*_0x588c7a+_0x52fcf5*_0x52fcf5);_0x16992c[_0x279927+(0x2180+-0x18c3*-0x1+0x311*-0x13)]*=_0x2508e9,_0x16992c[_0x279927+(-0x1b8c+-0x1456+0x2fe3)]*=_0x2508e9,_0x16992c[_0x279927+(0x1577+-0x2208+0xc93)]*=_0x2508e9;},_0x319344=(_0x1c1cb7,_0x3de5e0,_0x24f631)=>{for(let _0x1480f4=0x1*-0x30d+-0x1657+0x1964;_0x1480f4<0x1214+0x38+-0x1249;++_0x1480f4)_0x1c1cb7[_0x1480f4]=_0x3de5e0[_0x24f631+_0x1480f4];},_0x3a23ae=_0x23f393['length']/(0x33b*0x1+0x1231*0x1+-0x1569),_0x6789aa=_0x13c11b['length']/(0x22ca+-0x1b55*0x1+0x2*-0x3b9),_0x4a2ea9=new Float32Array(_0x13c11b['length']),_0x5ddb4f=[0xa5e+0xbb7+-0x1615*0x1,-0x1*-0x255e+0x411*0x8+-0x1*0x45e6,-0x36c*-0x1+0x1*0xd29+0x1095*-0x1],_0xfeb844=[-0x2637+-0x1367+0x399e,0x1b2a+0x20cc+-0x19*0x266,-0x1f51+-0x1189*-0x1+0xdc8],_0x5b1c81=[-0x1018+0xd32+-0x173*-0x2,0x13*0x1b5+-0xb*0xbe+-0x6d*0x39,-0x133e+-0x1*0x1e59+0x1*0x3197],_0x1a0258=[0x1e*0x12e+0x3d*-0x6b+0x9e5*-0x1,0x8*0x199+0x21f1+-0x2eb9,-0x18*0xa+-0x13f*-0x1f+-0x1*0x25b1],_0x474ee0=[-0x1ab2+0xc07*-0x2+0x32c0,0xbc2+0x1282*0x1+-0x95*0x34,0x1b8e+0x1*-0x1c6f+-0x2d*-0x5],_0x492bee=[0x2*0xac1+-0x178c+-0x3*-0xae,-0x1f28+0x135d+0x1*0xbcb,0x7*0x9e+-0x1518+-0x71*-0x26];for(let _0x2b2311=-0x7a7+-0x20fb*-0x1+0x4*-0x655;_0x2b2311<_0x3a23ae;++_0x2b2311){const _0x23ca27=_0x23f393[_0x2b2311*(0x11d+-0x192e+-0x10c*-0x17)+(0x2087*-0x1+-0xa85+0x2b0c)]*(0x11f*0xd+-0x1*-0x1261+-0x20f1),_0x1100c7=_0x23f393[_0x2b2311*(0x413+0x1*-0x183+-0x28d)+(-0x2bd+0x31*-0x17+0x725)]*(0x5de*0x6+0x2559+-0x488a),_0x5aced8=_0x23f393[_0x2b2311*(-0x256c+-0xa83+-0x2d2*-0x11)+(0x5c*-0x48+-0x232f*0x1+0x6c9*0x9)]*(0x267a+-0xb96+0x1*-0x1ae1);_0x319344(_0x5ddb4f,_0x13c11b,_0x23ca27),_0x319344(_0xfeb844,_0x13c11b,_0x1100c7),_0x319344(_0x5b1c81,_0x13c11b,_0x5aced8),_0x21af1f(_0x1a0258,_0xfeb844,_0x5ddb4f),_0x21af1f(_0x474ee0,_0x5b1c81,_0x5ddb4f),_0x226b7b(_0x492bee,_0x1a0258,_0x474ee0),_0x44f304(_0x492bee,-0x26dd*-0x1+0x1b20+-0x9*0x755);for(let _0x449596=-0x1a2+-0x2332+0x24d4;_0x449596<0x1a22+0x1*0x10a6+-0x2ac5;++_0x449596)_0x4a2ea9[_0x23ca27+_0x449596]+=_0x492bee[_0x449596],_0x4a2ea9[_0x1100c7+_0x449596]+=_0x492bee[_0x449596],_0x4a2ea9[_0x5aced8+_0x449596]+=_0x492bee[_0x449596];}for(let _0x5ce956=-0x9*0x77+0x2707+-0x2*0x116c;_0x5ce956<_0x6789aa;++_0x5ce956)_0x44f304(_0x4a2ea9,_0x5ce956*(0x169*0x2+-0x7*-0x26f+-0x13d8));return new Uint8Array(_0x4a2ea9['buffer']);},_0x367ac0=_0x25553e=>{const _0x25d921={},_0x409fbb=new _0x2385e4['DecoderBuf'+'fer']();_0x409fbb['Init'](_0x25553e,_0x25553e['length']);const _0x4aaa84=new _0x2385e4['Decoder']();if(_0x4aaa84['GetEncoded'+'GeometryTy'+'pe'](_0x409fbb)!==_0x2385e4['TRIANGULAR'+'_MESH'])return _0x25d921['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x25d921;const _0x1d097a=new _0x2385e4['Mesh'](),_0x17c5b2=_0x4aaa84['DecodeBuff'+'erToMesh'](_0x409fbb,_0x1d097a);if(!_0x17c5b2||!_0x17c5b2['ok']()||_0x2385e4['getPointer'](_0x1d097a)===0x8bd+-0xc87+0x1*0x3ca)return _0x25d921['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x25d921;const _0x5342df=_0x1d097a['num_faces']()*(0x23ba+-0x26c1+0x30a),_0x3da6ba=_0x1d097a['num_points']()<=-0x6*0x1f27+0x256a+-0xb*-0x24dd,_0x4ee287=_0x5342df*(_0x3da6ba?-0x495+-0x1*-0xe57+-0x340*0x3:-0x102d+-0x1*-0x1e5f+-0xe2e),_0x3d6132=_0x2385e4['_malloc'](_0x4ee287);_0x3da6ba?(_0x4aaa84['GetTriangl'+'esUInt16Ar'+'ray'](_0x1d097a,_0x4ee287,_0x3d6132),_0x25d921['indices']=new Uint16Array(_0x2385e4['HEAPU16']['buffer'],_0x3d6132,_0x5342df)['slice']()['buffer']):(_0x4aaa84['GetTriangl'+'esUInt32Ar'+'ray'](_0x1d097a,_0x4ee287,_0x3d6132),_0x25d921['indices']=new Uint32Array(_0x2385e4['HEAPU32']['buffer'],_0x3d6132,_0x5342df)['slice']()['buffer']),_0x2385e4['_free'](_0x3d6132);const _0x1f992b=[];for(let _0x2218c0=0x71f*0x2+0x212b+-0x2f69*0x1;_0x2218c0<_0x1d097a['num_attrib'+'utes']();++_0x2218c0)_0x1f992b['push'](_0x4aaa84['GetAttribu'+'te'](_0x1d097a,_0x2218c0));_0x1f992b['sort']((_0x2014ce,_0x11fbd5)=>(_0x5de28e[_0x2014ce['attribute_'+'type']()]??_0x5de28e['length'])-(_0x5de28e[_0x11fbd5['attribute_'+'type']()]??_0x5de28e['length'])),_0x25d921['attributes']=_0x1f992b['map'](_0x51fb48=>_0x51fb48['unique_id']());let _0x59d6d8=0x1b96+0x5*0x6a8+-0x3cde;const _0x1828d8=_0x1f992b['map'](_0x420e88=>{const _0x5ccd90=_0x59d6d8;return _0x59d6d8+=Math['ceil'](_0x46b695(_0x420e88)/(-0x1*0xfb3+0x125*-0x20+0x3457))*(0x6*0x295+0x20c8+-0xd5*0x3a),_0x5ccd90;}),_0x256686=_0x1f992b['some'](_0x37c5c3=>_0x37c5c3['attribute_'+'type']()===-0x22f9+0xd2e+0x5a*0x3e),_0x35d8f2=_0x1828d8[0x493*0x4+-0x1*0x25c1+0x1376];if(!_0x256686){for(let _0x101c24=-0xd*-0x287+0x1*-0x20fb+0x21;_0x101c24<_0x1828d8['length'];++_0x101c24)_0x1828d8[_0x101c24]+=0x747+-0x1637+0xefc*0x1;_0x59d6d8+=-0xc56+-0x766+0x34c*0x6;}_0x25d921['vertices']=new ArrayBuffer(_0x1d097a['num_points']()*_0x59d6d8);const _0x538e16=new Uint8Array(_0x25d921['vertices']);for(let _0x3a1448=-0x1*-0x1816+0x16b0+0x2ec6*-0x1;_0x3a1448<_0x1d097a['num_attrib'+'utes']();++_0x3a1448){const _0x5560de=_0x1f992b[_0x3a1448],_0x436932=_0x46b695(_0x5560de),_0x1aabda=_0x1d097a['num_points']()*_0x436932,_0x408502=_0x2385e4['_malloc'](_0x1aabda);_0x4aaa84['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x1d097a,_0x5560de,_0x5560de['data_type'](),_0x1aabda,_0x408502);const _0x921624=new Uint8Array(_0x2385e4['HEAPU8']['buffer'],_0x408502,_0x1aabda);for(let _0x25628b=-0x1*0x3f9+-0x1b5b+0x1f54;_0x25628b<_0x1d097a['num_points']();++_0x25628b)for(let _0x5e4f97=0x34d*-0x9+-0x444*-0x1+0x1971;_0x5e4f97<_0x436932;++_0x5e4f97)_0x538e16[_0x25628b*_0x59d6d8+_0x1828d8[_0x3a1448]+_0x5e4f97]=_0x921624[_0x25628b*_0x436932+_0x5e4f97];if(!_0x256686&&_0x5560de['attribute_'+'type']()===-0x2658+0x253b+0x11d){const _0x549df8=_0xbee066(_0x195459(_0x921624,_0x5560de['data_type']()),_0x3da6ba?new Uint16Array(_0x25d921['indices']):new Uint32Array(_0x25d921['indices']));for(let _0x5ab6ef=0x22*-0x76+0x24*0x2f+0x910;_0x5ab6ef<_0x1d097a['num_points']();++_0x5ab6ef)for(let _0x243586=0xf83+-0xa3+0x11*-0xe0;_0x243586<-0x1*0xa79+-0x26e0+0x3165;++_0x243586)_0x538e16[_0x5ab6ef*_0x59d6d8+_0x35d8f2+_0x243586]=_0x549df8[_0x5ab6ef*(-0x1804+0x6*-0x40b+0x3052)+_0x243586];}_0x2385e4['_free'](_0x408502);}return _0x2385e4['destroy'](_0x1d097a),_0x2385e4['destroy'](_0x4aaa84),_0x2385e4['destroy'](_0x409fbb),_0x25d921;},_0x817b2f=_0x2aa7ec=>{const _0x4824f1=_0x367ac0(new Uint8Array(_0x2aa7ec['buffer']));self['postMessag'+'e']({'jobId':_0x2aa7ec['jobId'],'error':_0x4824f1['error'],'indices':_0x4824f1['indices'],'vertices':_0x4824f1['vertices'],'attributes':_0x4824f1['attributes']},[_0x4824f1['indices'],_0x4824f1['vertices']]['filter'](_0x2dd263=>_0x2dd263!=null));},_0x10d04c=[];self['onmessage']=_0x188545=>{const _0x2cd905=_0x188545['data'];switch(_0x2cd905['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x103c2e,_0x38ebb2)=>(WebAssembly['instantiat'+'e'](_0x2cd905['module'],_0x103c2e)['then'](_0x1d920b=>_0x38ebb2(_0x1d920b))['catch'](_0x3ccd51=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x3ccd51)),{})})['then'](_0x597187=>{_0x2385e4=_0x597187,_0x10d04c['forEach'](_0x3091f0=>_0x817b2f(_0x3091f0));});break;case'decodeMesh':_0x2385e4?_0x817b2f(_0x2cd905):_0x10d04c['push'](_0x2cd905);break;}};}const Og=0x21*0xad+0x82e*-0x1+-0xe1c;class mD{constructor(){this['workers']=[[],[],[]],this['jobId']=0x1e42+-0x18df+-0x1*0x563,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x581014,_0x1d71d7)=>{_0x581014['postMessag'+'e']({'type':'decodeMesh','jobId':_0x1d71d7['jobId'],'buffer':_0x1d71d7['buffer']},[_0x1d71d7['buffer']]);};}['init'](_0x28e057){for(_0x28e057['forEach'](_0x2abde1=>{_0x2abde1['addEventLi'+'stener']('message',_0xd3d3a4=>{const _0x1bef0e=_0xd3d3a4['data'],_0x46e006=this['jobCallbac'+'ks']['get'](_0x1bef0e['jobId']);if(_0x46e006&&_0x46e006(_0x1bef0e['error'],{'indices':_0x1bef0e['indices'],'vertices':_0x1bef0e['vertices'],'attributes':_0x1bef0e['attributes']}),this['jobCallbac'+'ks']['delete'](_0x1bef0e['jobId']),this['jobQueue']['length']>0x1eea+0x961*-0x3+-0x2c7){const _0x4723f5=this['jobQueue']['shift']();this['run'](_0x2abde1,_0x4723f5);}else{const _0x18e793=this['workers'][-0x2681+0x1ec*0x8+0x1723*0x1]['indexOf'](_0x2abde1);if(_0x18e793!==-(0x3ad*0x5+-0x28f+0xfd1*-0x1))this['workers'][0x111f*0x1+-0x521*-0x3+-0x2080]['splice'](_0x18e793,-0x1d80+-0xda9+-0x19*-0x1ba),this['workers'][-0x693+0x359*-0x3+0x109f]['push'](_0x2abde1);else{const _0x5ae6da=this['workers'][0x845*-0x1+-0x1d02+0x2548]['indexOf'](_0x2abde1);_0x5ae6da!==-(-0x4f*0x7b+0x1*0x190d+0xce9)?(this['workers'][-0xb*-0xfd+-0x511*-0x6+-0x2944]['splice'](_0x5ae6da,-0x809*0x4+0x2613+-0x5ee),this['workers'][-0x3*0xc1e+-0x2113*0x1+0x456d]['push'](_0x2abde1)):v['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1acc+-0xa7*0x2+-0x197e]=_0x28e057;this['jobQueue']['length']&&(this['workers'][-0x1*-0x3e9+0xb9d+-0xf86]['length']||this['workers'][-0x2b*-0x21+0x17fe*-0x1+-0x1*-0x1274]['length']);){const _0x2a6bfd=this['jobQueue']['shift']();if(this['workers'][0x360*-0x2+-0x15f6+0x1cb6]['length']>-0x13*0xa9+0xe09*0x1+0x17e*-0x1){const _0x356dbf=this['workers'][-0x1991+-0x353*-0x9+-0x22d*0x2]['shift']();this['workers'][0xa87*-0x3+-0x205f*-0x1+-0xc9]['push'](_0x356dbf),this['run'](_0x356dbf,_0x2a6bfd);}else{const _0x1fca32=this['workers'][0x3*-0x3d1+0x1ca3*-0x1+0x2817]['shift']();this['workers'][-0x2*0xf75+0xc5*-0x12+0x2cc6*0x1]['push'](_0x1fca32),this['run'](_0x1fca32,_0x2a6bfd);}}}['enqueueJob'](_0x155a28,_0x24650b){const _0x72554a={'jobId':this['jobId']++,'buffer':_0x155a28};if(this['jobCallbac'+'ks']['set'](_0x72554a['jobId'],_0x24650b),this['workers'][-0x206+-0x2*-0xae3+0x13c*-0x10]['length']>0x2379+0x261+0xff*-0x26){const _0x423ab3=this['workers'][-0x23bd+0x10f0+0x12cd*0x1]['shift']();this['workers'][-0x2612+0x18eb*-0x1+0x3efe*0x1]['push'](_0x423ab3),this['run'](_0x423ab3,_0x72554a);}else{if(this['workers'][0x3*0x277+0x177b+-0x1edf]['length']>-0x192f+-0x2*0x5f3+0x2515){const _0xd950f3=this['workers'][-0x17e1+0xa24+-0x6df*-0x2]['shift']();this['workers'][-0xc9b+0x1b5c+0x97*-0x19]['push'](_0xd950f3),this['run'](_0xd950f3,_0x72554a);}else this['jobQueue']['push'](_0x72554a);}}}const _D=_0x3986a9=>new Promise((_0x4b4964,_0x4c6600)=>{const _0x40f5c5={'cache':!(-0x898+-0x2163+-0xb*-0x3d1),'responseType':'text','retry':Og>-0x1633+-0x5e6+0x1c19,'maxRetries':Og};$e['get'](_0x3986a9,_0x40f5c5,(_0x4090d1,_0x398e70)=>{_0x4090d1?_0x4c6600(_0x4090d1):_0x4b4964(_0x398e70);});}),gD=_0x53fd87=>{const _0x5909f9=()=>fetch(_0x53fd87)['then'](_0x48fb2c=>_0x48fb2c['arrayBuffe'+'r']())['then'](_0x580290=>WebAssembly['compile'](_0x580290)),_0x50a9f3=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x53fd87))['catch'](_0x16aa3d=>(v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x53fd87+'\x20('+_0x16aa3d+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x5909f9()));return WebAssembly['compileStr'+'eaming']?_0x50a9f3():_0x5909f9();},kg=-0x267b+-0x8cb*-0x2+0x5*0x42e;let xh;const yD=_0x185946=>{if(xh)return!(0x1*0x2259+-0x5*0x44b+0x61*-0x22);if(!_0x185946){const _0x313378=ay['getConfig']('DracoDecod'+'erModule');_0x313378?_0x185946={'jsUrl':_0x313378['glueUrl'],'wasmUrl':_0x313378['wasmUrl'],'numWorkers':_0x313378['numWorkers']}:_0x185946={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':kg};}return!_0x185946['jsUrl']||!_0x185946['wasmUrl']?!(0x2*-0x706+0xa36+0x3d7):(xh=new mD(),Promise['all']([_D(_0x185946['jsUrl']),gD(_0x185946['wasmUrl'])])['then'](([_0x5934be,_0x31e503])=>{const _0x1006d8=['/*\x20draco\x20*'+'/',_0x5934be,'/*\x20worker\x20'+'*/','(\x0a'+pD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x1fec4b=new Blob([_0x1006d8],{'type':'applicatio'+'n/javascri'+'pt'}),_0x1b542d=URL['createObje'+'ctURL'](_0x1fec4b),_0x20895f=Math['max'](0x3af*0x5+0x2400+-0x366a,Math['min'](0xa*-0x212+0x25*-0x3d+0x1d95*0x1,_0x185946['numWorkers']||kg)),_0x491f6c=[];for(let _0x37c738=0x66a+0x4a*0x2b+-0x12d8;_0x37c738<_0x20895f;++_0x37c738){const _0x3e722d=new Worker(_0x1b542d);_0x3e722d['postMessag'+'e']({'type':'init','module':_0x31e503}),_0x491f6c['push'](_0x3e722d);}xh['init'](_0x491f6c);}),!(0x3*-0x905+-0x24e1*-0x1+-0x9d2));},xD=(_0x2d8d5f,_0x58818d)=>yD()?(xh['enqueueJob'](_0x2d8d5f,_0x58818d),!(-0x204b+0x1fd6+0x75)):!(-0x1403+-0x164e+0x2*0x1529);class SD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x42a921=>{_0x42a921['meshes']=null;});}}const Rx=_0x475f47=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x475f47),vD=_0x11f256=>_0x11f256['substring'](_0x11f256['indexOf'](':')+(0x5b1+-0x9*-0x239+0x1*-0x19b1),_0x11f256['indexOf'](';')),Wo=_0x1b1254=>{switch(_0x1b1254){case'SCALAR':return 0x3dd+0x579*0x1+-0x955*0x1;case'VEC2':return-0x26da+0x1f0f+0x7cd*0x1;case'VEC3':return-0x2*0xc0d+-0x529+0x1d46;case'VEC4':return 0x227*0xd+-0x9e9+-0x120e;case'MAT2':return-0x8c9+-0xc90+0x155d*0x1;case'MAT3':return-0x2147+0x20f5*-0x1+0x9*0x75d;case'MAT4':return-0x12af*0x1+-0x2113+0x63*0x86;default:return-0x682+-0x20dd+0x2762;}},Jc=_0x2486b9=>{switch(_0x2486b9){case 0x59a+-0x1*0x1e93+0x1d*0x18d:return Rc;case-0xed*-0xe+-0x4*0x4e7+0x1aa7*0x1:return Kr;case-0x1da3+-0x136e+-0x4513*-0x1:return Ic;case 0x1112+0x11*-0x17b+0x202*0xe:return el;case-0x5*0x2b2+-0x5d0+0x274e:return By;case 0x240a+-0xe23+-0x1*0x1e2:return Do;case-0x1ca9+0x120d*0x2+0xc95*0x1:return Ee;default:return 0x1*-0x1555+-0x4c1*-0x7+0xbf2*-0x1;}},bD=_0x1e928c=>{switch(_0x1e928c){case 0xe8e+-0x218b+0x26fd:return 0x2*-0x2e5+0xc0f+-0x644;case-0x1f+0x2*0x19b+0x10ea:return 0x8cb+0x6*0x606+-0x2cee;case 0x2*-0x7ad+-0x864+0x2bc0:return 0xe15+-0x241*0x5+-0x2ce;case 0x2*-0x605+-0x56+0x2063:return 0x1*0x26ef+0x2b*-0x2e+-0x1f33;case-0x1*0x25c2+-0x1ade+0x54a4*0x1:return-0x2*-0x12b3+0x1*-0x26df+0x7f*0x3;case-0x2366+-0x1d17+-0x2a41*-0x2:return 0x6aa*-0x4+-0x45a*-0x5+0x4ea;case 0x87*-0x7+0x38f*0x5+-0x1*-0x5ec:return-0x1154*-0x2+0x2*0x79e+-0x130*0x2a;default:return 0x1*-0x1bc9+0x216b*-0x1+0x3d34;}},wD=_0x12cdce=>{switch(_0x12cdce){case 0x1596+-0x13*0x147+0x16af*0x1:return Int8Array;case 0x3ea+-0x1e6*0x8+0x1f47:return Uint8Array;case-0x8a0*0x1+-0x224b+0x3eed:return Int16Array;case-0x115*0x17+0x392*-0x8+0x24bb*0x2:return Uint16Array;case-0x1457*-0x1+0x1240+0x5*-0x3b7:return Int32Array;case-0x1827+0x12*-0x5f+0x196d*0x2:return Uint32Array;case 0x4de+0x14d1+0x15*-0x45:return Float32Array;default:return null;}},ec={'POSITION':He,'NORMAL':Yt,'TANGENT':Zs,'COLOR_0':At,'JOINTS_0':qt,'WEIGHTS_0':Ys,'TEXCOORD_0':ns,'TEXCOORD_1':_n,'TEXCOORD_2':jo,'TEXCOORD_3':Yo,'TEXCOORD_4':Ko,'TEXCOORD_5':Zo,'TEXCOORD_6':Qo,'TEXCOORD_7':Jo},Bg={[He]:-0x1613*0x1+-0x87b+0x1*0x1e8e,[Yt]:-0x741+-0x1e50+-0x2*-0x12c9,[Zs]:0x1de7+0xc4d+-0x2a32,[At]:0x349*-0x9+0x1*0x1231+-0x1*-0xb63,[qt]:-0x1f21+-0xcff*-0x3+-0x7d8,[Ys]:-0x4bb*0x7+-0x5*-0x8d+0x1e61,[ns]:0x1a*0x68+-0x1293+0x11*0x79,[_n]:0xb*-0x127+0x21ed+0x1*-0x1539,[jo]:-0xbd9+-0x1*-0x1c81+-0x10a0,[Yo]:0x37*-0xb+0x1b96+0x64c*-0x4,[Ko]:0x1054+-0x474+-0xbd6,[Zo]:-0xa1b*-0x2+-0x4b+0x35*-0x60,[Qo]:-0x14f8+-0x11fc+-0x18*-0x1a0,[Jo]:0x270+0x474*-0x3+0xaf9},TD=_0x30c5c5=>{switch(_0x30c5c5){case Rc:return _0xaca20=>Math['max'](_0xaca20/(-0x1831+-0xa*-0xbb+0x59*0x32),-(-0x2cb*-0xd+-0x149+0xa3*-0x37));case Kr:return _0x5c0237=>_0x5c0237/(-0x1*0x15d0+-0x1*0x20b9+0xde2*0x4);case Ic:return _0x2a2e2b=>Math['max'](_0x2a2e2b/(-0x3c4*-0x6+-0xf36+0x789d),-(-0x2d6+-0x1de9+0x20c0*0x1));case el:return _0x43f632=>_0x43f632/(0x16c8f+-0x1791f+0x10c8f);default:return _0x3e88ae=>_0x3e88ae;}},xf=(_0x14d7a6,_0x1974d1,_0x5ecbb8)=>{const _0x3c7922=TD(_0x5ecbb8),_0x74fc9b=_0x1974d1['length'];for(let _0x240a9b=-0x17c4+-0x266e+0x3e32;_0x240a9b<_0x74fc9b;++_0x240a9b)_0x14d7a6[_0x240a9b]=_0x3c7922(_0x1974d1[_0x240a9b]);return _0x14d7a6;},sn=(_0x2e405c,_0x2b5870,_0x1fb449=!(-0x74*-0x56+0x1291*-0x2+-0x1d5))=>{const _0x243cfc=Wo(_0x2e405c['type']),_0x223cc5=wD(_0x2e405c['componentT'+'ype']);if(!_0x223cc5)return null;let _0x1878f0;if(_0x2e405c['sparse']){const _0x126365=_0x2e405c['sparse'],_0x43a236={'count':_0x126365['count'],'type':'SCALAR'},_0x48115=sn(Object['assign'](_0x43a236,_0x126365['indices']),_0x2b5870,!(0x1b01+0x1*-0xb2d+-0xfd4)),_0x3e7e6e={'count':_0x126365['count'],'type':_0x2e405c['type'],'componentType':_0x2e405c['componentT'+'ype']},_0x53fe7e=sn(Object['assign'](_0x3e7e6e,_0x126365['values']),_0x2b5870,!(0x3*0x584+-0x1e15+0xd89*0x1));if(_0x2e405c['hasOwnProp'+'erty']('bufferView')){const _0x36f64f={'bufferView':_0x2e405c['bufferView'],'byteOffset':_0x2e405c['byteOffset'],'componentType':_0x2e405c['componentT'+'ype'],'count':_0x2e405c['count'],'type':_0x2e405c['type']};_0x1878f0=sn(_0x36f64f,_0x2b5870,!(-0x7ec+0x3*-0x66c+0x1b30))['slice']();}else _0x1878f0=new _0x223cc5(_0x2e405c['count']*_0x243cfc);for(let _0x9074f9=0x1863+-0x23c7*-0x1+-0x3c2a;_0x9074f9<_0x126365['count'];++_0x9074f9){const _0x9b191b=_0x48115[_0x9074f9];for(let _0x9fc7ae=-0xf6e+-0x4bd*0x4+0x2262;_0x9fc7ae<_0x243cfc;++_0x9fc7ae)_0x1878f0[_0x9b191b*_0x243cfc+_0x9fc7ae]=_0x53fe7e[_0x9074f9*_0x243cfc+_0x9fc7ae];}}else{if(_0x2e405c['hasOwnProp'+'erty']('bufferView')){const _0x5cefe7=_0x2b5870[_0x2e405c['bufferView']];if(_0x1fb449&&_0x5cefe7['hasOwnProp'+'erty']('byteStride')){const _0x5a6140=_0x243cfc*_0x223cc5['BYTES_PER_'+'ELEMENT'],_0x5092d4=new ArrayBuffer(_0x2e405c['count']*_0x5a6140),_0x3ed099=new Uint8Array(_0x5092d4);let _0x30d876=0x264+-0x5*0x3fb+-0x1183*-0x1;for(let _0x129f49=-0x10db*-0x1+0xe2a+-0x1f05;_0x129f49<_0x2e405c['count'];++_0x129f49){let _0x5438c4=(_0x2e405c['byteOffset']||0x1106*0x2+-0x7*0x277+0x1*-0x10cb)+_0x129f49*_0x5cefe7['byteStride'];for(let _0x59ec8c=0x120+0x6*-0x3a9+0x14d6;_0x59ec8c<_0x5a6140;++_0x59ec8c)_0x3ed099[_0x30d876++]=_0x5cefe7[_0x5438c4++];}_0x1878f0=new _0x223cc5(_0x5092d4);}else _0x1878f0=new _0x223cc5(_0x5cefe7['buffer'],_0x5cefe7['byteOffset']+(_0x2e405c['byteOffset']||0x1396+-0x17*-0xdf+-0x5a9*0x7),_0x2e405c['count']*_0x243cfc);}else _0x1878f0=new _0x223cc5(_0x2e405c['count']*_0x243cfc);}return _0x1878f0;},ma=(_0x14cd4b,_0x4a826d)=>{const _0x4f997f=sn(_0x14cd4b,_0x4a826d,!(0x195d+-0x66f*-0x1+-0x4a*0x6e));if(_0x4f997f instanceof Float32Array||!_0x14cd4b['normalized'])return _0x4f997f;const _0x396646=new Float32Array(_0x4f997f['length']);return xf(_0x396646,_0x4f997f,Jc(_0x14cd4b['componentT'+'ype'])),_0x396646;},Sf=_0x89f345=>{let _0x30a61e=_0x89f345['min'],_0x59e2df=_0x89f345['max'];if(!_0x30a61e||!_0x59e2df)return null;if(_0x89f345['normalized']){const _0x1d716c=Jc(_0x89f345['componentT'+'ype']);_0x30a61e=xf([],_0x30a61e,_0x1d716c),_0x59e2df=xf([],_0x59e2df,_0x1d716c);}return new _e(new T((_0x59e2df[0x23cf+-0x6c*0x30+-0xf8f]+_0x30a61e[-0x25aa+0x74*0x11+-0x82*-0x3b])*(-0x10cc+-0x26c6*0x1+0x943*0x6+0.5),(_0x59e2df[-0x24*-0x59+-0x1e92+-0x43*-0x45]+_0x30a61e[-0x13c7+-0x22df+-0x337*-0x11])*(-0x2319+0x8e*-0x38+0x1*0x4229+0.5),(_0x59e2df[0x1ca*-0x6+-0x18a8+0x2366]+_0x30a61e[-0x45f*0x1+-0x16*0x45+0xa4f])*(-0x1*-0x144d+-0x1c0+0x128d*-0x1+0.5)),new T((_0x59e2df[-0x212c+-0x92*-0xd+0x19c2]-_0x30a61e[0x1a7+0x12f+-0x1*0x2d6])*(-0x4*0x22a+-0xd9*-0x29+-0x1a19+0.5),(_0x59e2df[0x1d8*0xa+-0x1235+-0x3a]-_0x30a61e[-0x44a+-0x16f3+0x27a*0xb])*(0x12ba+0x22*0x56+-0x1e26+0.5),(_0x59e2df[0x1f5b*0x1+-0xbfe+-0x3df*0x5]-_0x30a61e[0xa4*-0x7+0x51*0x7b+0x4eb*-0x7])*(0x10*-0x11b+0x182*0x9+0x41e+0.5)));},Ix=_0x2b75c2=>{if(!_0x2b75c2['hasOwnProp'+'erty']('mode'))return Ms;switch(_0x2b75c2['mode']){case 0xa*-0x232+-0x893+-0xf*-0x209:return Mc;case 0x120a*0x1+-0x8ac+-0x2f*0x33:return Pc;case-0x1*0x203+-0xbf5*-0x1+0x8*-0x13e:return My;case-0xad2+-0x26d2+0x31a7:return Py;case 0x1ac3+-0x1720+-0x39f:return Ms;case-0x5*-0x50+0x1*-0x1ac+0x21:return ar;case-0xa3*0x1a+0x30+-0x1064*-0x1:return Yr;default:return Ms;}},AD=_0x4a27e9=>{const _0x168d43=new Uint16Array(_0x4a27e9);for(let _0x5104c6=-0x1b31+-0x2511*0x1+-0x149*-0x32;_0x5104c6<_0x4a27e9;_0x5104c6++)_0x168d43[_0x5104c6]=_0x5104c6;return _0x168d43;},ED=(_0x1848b5,_0x3afe46)=>{const _0x562cd7=_0x1848b5[He];if(!_0x562cd7||_0x562cd7['components']!==-0xd09+0xa3*-0xb+0x140d)return;let _0x810b6;if(_0x562cd7['size']!==_0x562cd7['stride']){const _0x3d8f25=_0x562cd7['stride']/_o[_0x562cd7['type']],_0x5760db=new da[_0x562cd7['type']](_0x562cd7['buffer'],_0x562cd7['offset'],_0x562cd7['count']*_0x3d8f25);_0x810b6=new da[_0x562cd7['type']](_0x562cd7['count']*(0x1*-0x19ee+-0x983+0x2374));for(let _0x1fcdb2=0x61c+0xdec+-0x1408;_0x1fcdb2<_0x562cd7['count'];++_0x1fcdb2)_0x810b6[_0x1fcdb2*(-0x33b*0x1+-0x802*-0x2+-0xcc6)+(0x132+-0x41d*0x4+0xf42)]=_0x5760db[_0x1fcdb2*_0x3d8f25+(-0x241*-0x2+0x3b*-0xa1+-0x685*-0x5)],_0x810b6[_0x1fcdb2*(0x1ea6*0x1+0x808*0x2+-0x2eb3*0x1)+(-0x79*-0x4e+0x13*-0x11f+-0xf90)]=_0x5760db[_0x1fcdb2*_0x3d8f25+(0xcc6+-0x16*0x1c4+0x537*0x5)],_0x810b6[_0x1fcdb2*(-0x2055+0x1d5a+0x2fe*0x1)+(0xfb2+0xb*0x9a+0xb27*-0x2)]=_0x5760db[_0x1fcdb2*_0x3d8f25+(-0x131b*-0x1+-0x8*0x3a1+0x9ef)];}else _0x810b6=new da[_0x562cd7['type']](_0x562cd7['buffer'],_0x562cd7['offset'],_0x562cd7['count']*(0x9e7*0x3+-0x582+-0x1830));const _0x507421=_0x562cd7['count'];_0x3afe46||(_0x3afe46=AD(_0x507421));const _0x3c104d=k0(_0x810b6,_0x3afe46),_0x2d90c1=new Float32Array(_0x3c104d['length']);_0x2d90c1['set'](_0x3c104d),_0x1848b5[Yt]={'buffer':_0x2d90c1['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x507421,'components':0x3,'type':Ee};},CD=_0x3b51d4=>{const _0x55820f=_0xe65c22=>{const _0x456da6=[];for(let _0xf0d10a=-0xb5e+0x1*0x23a7+-0x1849;_0xf0d10a<_0xe65c22['_levels']['length'];++_0xf0d10a){let _0x5746d6=[];if(_0xe65c22['cubemap']){for(let _0x5935cc=0x1c4e+-0x1*-0xe20+-0x2a6e;_0x5935cc<0x1*-0x17d3+0x1b2*-0x3+0x1cef;++_0x5935cc)_0x5746d6['push'](_0xe65c22['_levels'][_0xf0d10a][_0x5935cc]);}else _0x5746d6=_0xe65c22['_levels'][_0xf0d10a];_0x456da6['push'](_0x5746d6);}return _0x456da6;},_0x19fb53=new he(_0x3b51d4['device'],_0x3b51d4);return _0x19fb53['_levels']=_0x55820f(_0x3b51d4),_0x19fb53;},MD=_0x44928b=>{const _0x4b3000=new le(_0x44928b['name']+'_clone',_0x44928b['type'],_0x44928b['file'],_0x44928b['data'],_0x44928b['options']);return _0x4b3000['loaded']=!(-0x23ae+-0x11e8+0x1acb*0x2),_0x4b3000['resource']=CD(_0x44928b['resource']),_0x44928b['registry']['add'](_0x4b3000),_0x4b3000;},PD=(_0x365ba8,_0xa5386a)=>{const _0x10c9ba=_0xa5386a[He];if(!_0x10c9ba)return null;const _0x24e32f=_0x10c9ba['count'],_0x4b4b6e=[];for(const _0x361dc4 in _0xa5386a)if(_0xa5386a['hasOwnProp'+'erty'](_0x361dc4)){const _0x5635b5={'semantic':_0x361dc4,'components':_0xa5386a[_0x361dc4]['components'],'type':_0xa5386a[_0x361dc4]['type'],'normalize':!!_0xa5386a[_0x361dc4]['normalize']};Et['isElementV'+'alid'](_0x365ba8,_0x5635b5)||_0x5635b5['components']++,_0x4b4b6e['push'](_0x5635b5);}_0x4b4b6e['sort']((_0x20da80,_0x44c161)=>Bg[_0x20da80['semantic']]-Bg[_0x44c161['semantic']]);let _0x4b81f2,_0x572195,_0x55a707,_0x497c3b,_0x10c646,_0x4bd191;const _0x5d46fe=new Et(_0x365ba8,_0x4b4b6e);let _0x49a770=!(-0x233c+0x1*0xbf7+0x1745);for(_0x4b81f2=-0x1*0x210a+-0x2c6+-0x23d0*-0x1;_0x4b81f2<_0x5d46fe['elements']['length'];++_0x4b81f2)if(_0x10c646=_0x5d46fe['elements'][_0x4b81f2],_0x497c3b=_0xa5386a[_0x10c646['name']],_0x4bd191=_0x497c3b['offset']-_0x10c9ba['offset'],_0x497c3b['buffer']!==_0x10c9ba['buffer']||_0x497c3b['stride']!==_0x10c646['stride']||_0x497c3b['size']!==_0x10c646['size']||_0x4bd191!==_0x10c646['offset']){_0x49a770=!(-0x1b0+-0x7*-0x24d+0x267*-0x6);break;}const _0x2c047a=new os(_0x365ba8,_0x5d46fe,_0x24e32f),_0x51b357=_0x2c047a['lock'](),_0x291e02=new Uint32Array(_0x51b357);let _0x5c3592;if(_0x49a770)_0x5c3592=new Uint32Array(_0x10c9ba['buffer'],_0x10c9ba['offset'],_0x24e32f*_0x2c047a['format']['size']/(0x34a+0x115c+0x116*-0x13)),_0x291e02['set'](_0x5c3592);else{let _0x272776,_0x21e462;for(_0x4b81f2=-0x1*-0xa1e+0x204b+-0x2a69;_0x4b81f2<_0x2c047a['format']['elements']['length'];++_0x4b81f2){_0x10c646=_0x2c047a['format']['elements'][_0x4b81f2],_0x272776=_0x10c646['stride']/(0x2030*-0x1+-0x4f*-0x3+0x1d7*0x11),_0x497c3b=_0xa5386a[_0x10c646['name']],_0x21e462=_0x497c3b['stride']/(-0x1*0x2645+-0x20a2*-0x1+0x5a7),_0x5c3592=new Uint32Array(_0x497c3b['buffer'],_0x497c3b['offset'],(_0x497c3b['count']-(-0x33f*0x3+0x16e6*0x1+-0xd28))*_0x21e462+(_0x497c3b['size']+(0x216b+-0x9bd+-0x17ab*0x1))/(-0x1fec+0xac5+0x152b));let _0x2a1950=-0x1779+-0x24f6+0x3c6f,_0x50fa94=_0x10c646['offset']/(-0xad0+-0x1058+0x1b2c);const _0x26851d=Math['floor']((_0x497c3b['size']+(0x5a5*-0x2+-0x101a+0x1b67))/(-0x2191+0x9*0x3b7+-0x1*-0x26));for(_0x572195=0x1*0xfe0+-0xeb9*0x1+-0x127*0x1;_0x572195<_0x24e32f;++_0x572195){for(_0x55a707=0x851*-0x1+0x14f3+0x62*-0x21;_0x55a707<_0x26851d;++_0x55a707)_0x291e02[_0x50fa94+_0x55a707]=_0x5c3592[_0x2a1950+_0x55a707];_0x2a1950+=_0x21e462,_0x50fa94+=_0x272776;}}}return _0x2c047a['unlock'](),_0x2c047a;},RD=(_0x4313d0,_0x195312,_0x5eac11,_0x416471,_0x3aaade,_0x407f1a)=>{const _0x136a4f={},_0x3b28be=[];for(const _0x465ea9 in _0x195312)_0x195312['hasOwnProp'+'erty'](_0x465ea9)&&ec['hasOwnProp'+'erty'](_0x465ea9)&&(_0x136a4f[_0x465ea9]=_0x195312[_0x465ea9],_0x3b28be['push'](_0x465ea9+':'+_0x195312[_0x465ea9]));_0x3b28be['sort']();const _0x54cce3=_0x3b28be['join']();let _0x3f05aa=_0x407f1a[_0x54cce3];if(!_0x3f05aa){const _0x346c76={};for(const _0x5b925f in _0x136a4f){const _0x4b7633=_0x416471[_0x195312[_0x5b925f]],_0x3c81e6=sn(_0x4b7633,_0x3aaade),_0x522707=_0x3aaade[_0x4b7633['bufferView']],_0xf7d07e=ec[_0x5b925f],_0x39b7a5=Wo(_0x4b7633['type'])*bD(_0x4b7633['componentT'+'ype']),_0x43f7cd=_0x522707&&_0x522707['hasOwnProp'+'erty']('byteStride')?_0x522707['byteStride']:_0x39b7a5;_0x346c76[_0xf7d07e]={'buffer':_0x3c81e6['buffer'],'size':_0x39b7a5,'offset':_0x3c81e6['byteOffset'],'stride':_0x43f7cd,'count':_0x4b7633['count'],'components':Wo(_0x4b7633['type']),'type':Jc(_0x4b7633['componentT'+'ype']),'normalize':_0x4b7633['normalized']};}_0x346c76['hasOwnProp'+'erty'](Yt)||ED(_0x346c76,_0x5eac11),_0x3f05aa=PD(_0x4313d0,_0x346c76),_0x407f1a[_0x54cce3]=_0x3f05aa;}return _0x3f05aa;},ID=(_0x54265e,_0x3d3c81,_0x2c887c,_0x35422f,_0xcac88e,_0x3d0092)=>{let _0x3e11e4,_0x429370,_0x48d645;const _0x5f49ce=_0x3d3c81['joints'],_0x476f3a=_0x5f49ce['length'],_0x1b32db=[];if(_0x3d3c81['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x428858=_0x3d3c81['inverseBin'+'dMatrices'],_0x4d1129=sn(_0x2c887c[_0x428858],_0x35422f,!(0xa*-0x62+-0x1e01*0x1+0xb47*0x3)),_0x4b6b6f=[];for(_0x3e11e4=-0x2c9+0xa66*0x1+-0x79d;_0x3e11e4<_0x476f3a;_0x3e11e4++){for(_0x429370=-0x1a79+-0x68*-0x44+-0x127;_0x429370<-0x11f4+-0x9f*0x9+0x179b*0x1;_0x429370++)_0x4b6b6f[_0x429370]=_0x4d1129[_0x3e11e4*(0x1c57+0x7fe+-0x2445)+_0x429370];_0x48d645=new q(),_0x48d645['set'](_0x4b6b6f),_0x1b32db['push'](_0x48d645);}}else{for(_0x3e11e4=0x59*0x4d+-0xf6e+-0xb57;_0x3e11e4<_0x476f3a;_0x3e11e4++)_0x48d645=new q(),_0x1b32db['push'](_0x48d645);}const _0x399c2c=[];for(_0x3e11e4=0x6ed+-0x4*-0x4aa+0xb1*-0x25;_0x3e11e4<_0x476f3a;_0x3e11e4++)_0x399c2c[_0x3e11e4]=_0xcac88e[_0x5f49ce[_0x3e11e4]]['name'];const _0x2c4673=_0x399c2c['join']('#');let _0xd1a9b3=_0x3d0092['get'](_0x2c4673);return _0xd1a9b3||(_0xd1a9b3=new N0(_0x54265e,_0x1b32db,_0x399c2c),_0x3d0092['set'](_0x2c4673,_0xd1a9b3)),_0xd1a9b3;},DD=(_0x394682,_0x4c028a,_0x340360,_0x2d76e3,_0x411889,_0x441a73,_0x4bd4a5)=>{var _0x5586be;const _0x344d2c=new Ie(_0x394682);_0x344d2c['aabb']=Sf(_0x340360[_0x4c028a['attributes']['POSITION']]);const _0x1475db=[];for(const [_0x4ff655,_0x5e0381]of Object['entries'](_0x4c028a['attributes'])){const _0x453fc2=_0x340360[_0x5e0381],_0x1fe3e6=ec[_0x4ff655],_0x9a3ffc=Jc(_0x453fc2['componentT'+'ype']);_0x1475db['push']({'semantic':_0x1fe3e6,'components':Wo(_0x453fc2['type']),'type':_0x9a3ffc,'normalize':_0x453fc2['normalized']??(_0x1fe3e6===At&&(_0x9a3ffc===Kr||_0x9a3ffc===el))});}if(_0x4bd4a5['push'](new Promise((_0x1fc427,_0x15f472)=>{const _0x58fb32=_0x4c028a['extensions']['KHR_draco_'+'mesh_compr'+'ession'];xD(_0x2d76e3[_0x58fb32['bufferView']]['slice']()['buffer'],(_0x53bcc8,_0x8cc3ed)=>{var _0x372b0d;if(_0x53bcc8)console['log'](_0x53bcc8),_0x15f472(_0x53bcc8);else{const _0x301583={};for(const [_0x2326a0,_0x8d2f56]of Object['entries'](_0x58fb32['attributes']))_0x301583[ec[_0x2326a0]]=_0x8cc3ed['attributes']['indexOf'](_0x8d2f56);_0x1475db['sort']((_0x446042,_0x2095e3)=>_0x301583[_0x446042['semantic']]-_0x301583[_0x2095e3['semantic']]),(_0x372b0d=_0x4c028a['attributes'])!=null&&_0x372b0d['NORMAL']||_0x1475db['splice'](0x20f7+0xd62+-0x1*0x2e58,-0x57b+-0x1822+0x1d9d,{'semantic':'NORMAL','components':0x3,'type':Ee});const _0xf1944e=new Et(_0x394682,_0x1475db),_0x318593=_0x8cc3ed['vertices']['byteLength']/_0xf1944e['size'],_0x48ae89=_0x318593<=0x9f8e*0x2+0xffa4+-0x13ec1?Pi:nr,_0x1e437e=_0x8cc3ed['indices']['byteLength']/(_0x318593<=0x3bd9*0x5+0x4b64+-0x2*0x3b51?-0x1dc4+-0x169a+0x346*0x10:-0x20c2+-0xf5a+0x3020);v['call'](()=>{_0x318593!==_0x340360[_0x4c028a['attributes']['POSITION']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x1e437e!==_0x340360[_0x4c028a['indices']]['count']&&v['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x2eae10=new os(_0x394682,_0xf1944e,_0x318593,{'data':_0x8cc3ed['vertices']}),_0x2727c5=new lr(_0x394682,_0x48ae89,_0x1e437e,jt,_0x8cc3ed['indices']);_0x344d2c['vertexBuff'+'er']=_0x2eae10,_0x344d2c['indexBuffe'+'r'][-0xd3*0x3+0xefa+-0x42b*0x3]=_0x2727c5,_0x344d2c['primitive'][-0x11be+0x251f+-0x1361]['type']=Ix(_0x4c028a),_0x344d2c['primitive'][-0x3*-0x99c+-0x17ed+0x4e7*-0x1]['base']=0x251b+-0x1*-0x23d5+0xc28*-0x6,_0x344d2c['primitive'][-0x368*0x8+-0x239*0x2+0x1fb2]['count']=_0x2727c5?_0x1e437e:_0x318593,_0x344d2c['primitive'][-0xa36*0x1+0x1*-0x43f+0xe75]['indexed']=!!_0x2727c5,_0x1fc427();}});})),(_0x5586be=_0x4c028a==null?void(-0xb3*0x37+0x96b+-0x1d0a*-0x1):_0x4c028a['extensions'])!=null&&_0x5586be['KHR_materi'+'als_varian'+'ts']){const _0x1d693d=_0x4c028a['extensions']['KHR_materi'+'als_varian'+'ts'],_0x513f32={};_0x1d693d['mappings']['forEach'](_0x2d65c9=>{_0x2d65c9['variants']['forEach'](_0x2979e8=>{_0x513f32[_0x2979e8]=_0x2d65c9['material'];});}),_0x411889[_0x344d2c['id']]=_0x513f32;}return _0x441a73[_0x344d2c['id']]=_0x4c028a['material'],_0x344d2c;},LD=(_0x4fe19c,_0x1b6bfc,_0x80cce1,_0x11892e,_0x557c2f,_0x2d86c3,_0x176caa,_0x10e5d3,_0x4d6927)=>{const _0x39c831=[];return _0x1b6bfc['primitives']['forEach'](_0x2a7778=>{var _0x1dfc7f;if((_0x1dfc7f=_0x2a7778['extensions'])!=null&&_0x1dfc7f['KHR_draco_'+'mesh_compr'+'ession'])_0x39c831['push'](DD(_0x4fe19c,_0x2a7778,_0x80cce1,_0x11892e,_0x2d86c3,_0x176caa,_0x4d6927));else{let _0x4df6ee=_0x2a7778['hasOwnProp'+'erty']('indices')?sn(_0x80cce1[_0x2a7778['indices']],_0x11892e,!(0xe65+-0x199e+0xb39)):null;const _0x59f146=RD(_0x4fe19c,_0x2a7778['attributes'],_0x4df6ee,_0x80cce1,_0x11892e,_0x557c2f),_0x3b8847=Ix(_0x2a7778),_0x33add4=new Ie(_0x4fe19c);if(_0x33add4['vertexBuff'+'er']=_0x59f146,_0x33add4['primitive'][0x7*-0x50c+-0x176+-0x2*-0x1265]['type']=_0x3b8847,_0x33add4['primitive'][-0x157*-0x12+-0x1fe+0xb1*-0x20]['base']=0x3*0x64+-0x237d+0x2251,_0x33add4['primitive'][-0x23ea+-0x146d+0x3857]['indexed']=_0x4df6ee!==null,_0x4df6ee!==null){let _0x1815a1;_0x4df6ee instanceof Uint8Array?_0x1815a1=pu:_0x4df6ee instanceof Uint16Array?_0x1815a1=Pi:_0x1815a1=nr,_0x1815a1===pu&&_0x4fe19c['isWebGPU']&&(_0x1815a1=Pi,_0x4df6ee=new Uint16Array(_0x4df6ee));const _0x4f5adc=new lr(_0x4fe19c,_0x1815a1,_0x4df6ee['length'],jt,_0x4df6ee);_0x33add4['indexBuffe'+'r'][0x3cd+0x133*-0x1d+0x3d*0x82]=_0x4f5adc,_0x33add4['primitive'][0x1f5f+-0x2379+0x41a]['count']=_0x4df6ee['length'];}else _0x33add4['primitive'][-0x5bf+0x2114+-0x1b55]['count']=_0x59f146['numVertice'+'s'];if(_0x2a7778['hasOwnProp'+'erty']('extensions')&&_0x2a7778['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x1e5c5c=_0x2a7778['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1c8ba6={};_0x1e5c5c['mappings']['forEach'](_0x2dad7a=>{_0x2dad7a['variants']['forEach'](_0x4c1f14=>{_0x1c8ba6[_0x4c1f14]=_0x2dad7a['material'];});}),_0x2d86c3[_0x33add4['id']]=_0x1c8ba6;}_0x176caa[_0x33add4['id']]=_0x2a7778['material'];let _0x4eead7=_0x80cce1[_0x2a7778['attributes']['POSITION']];if(_0x33add4['aabb']=Sf(_0x4eead7),_0x2a7778['hasOwnProp'+'erty']('targets')){const _0x46eec1=[];_0x2a7778['targets']['forEach']((_0x1c6e9a,_0x32f3f5)=>{const _0x4f4002={};_0x1c6e9a['hasOwnProp'+'erty']('POSITION')&&(_0x4eead7=_0x80cce1[_0x1c6e9a['POSITION']],_0x4f4002['deltaPosit'+'ions']=ma(_0x4eead7,_0x11892e),_0x4f4002['aabb']=Sf(_0x4eead7)),_0x1c6e9a['hasOwnProp'+'erty']('NORMAL')&&(_0x4eead7=_0x80cce1[_0x1c6e9a['NORMAL']],_0x4f4002['deltaNorma'+'ls']=ma(_0x4eead7,_0x11892e)),_0x1b6bfc['hasOwnProp'+'erty']('extras')&&_0x1b6bfc['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x4f4002['name']=_0x1b6bfc['extras']['targetName'+'s'][_0x32f3f5]:_0x4f4002['name']=_0x32f3f5['toString'](-0x9fd+0x4ae*-0x1+0xeb5),_0x1b6bfc['hasOwnProp'+'erty']('weights')&&(_0x4f4002['defaultWei'+'ght']=_0x1b6bfc['weights'][_0x32f3f5]),_0x4f4002['preserveDa'+'ta']=_0x10e5d3['morphPrese'+'rveData'],_0x46eec1['push'](new Qc(_0x4f4002));}),_0x33add4['morph']=new F0(_0x46eec1,_0x4fe19c,{'preferHighPrecision':_0x10e5d3['morphPrefe'+'rHighPreci'+'sion']});}_0x39c831['push'](_0x33add4);}}),_0x39c831;},ft=(_0x3c1306,_0x32355f,_0xe3bb31)=>{var _0x2d01b6;let _0x3fab74;const _0xea9fa2=_0x3c1306['texCoord'];if(_0xea9fa2){for(_0x3fab74=-0x1a98+-0x1*-0x226a+-0x7d2;_0x3fab74<_0xe3bb31['length'];++_0x3fab74)_0x32355f[_0xe3bb31[_0x3fab74]+'MapUv']=_0xea9fa2;}const _0x417bbd=[0xec2*-0x1+-0x4bf+0x1381,0x1fe5+-0x54b+-0x1e*0xe3],_0x51c47b=[0xa13*-0x3+-0x1*-0x1f0d+-0xd3,-0x1af*-0x3+0xefd+-0xdf*0x17],_0x3457c2=(_0x2d01b6=_0x3c1306['extensions'])==null?void(-0x625+0x1d33+-0xe3*0x1a):_0x2d01b6['KHR_textur'+'e_transfor'+'m'];if(_0x3457c2){const _0x4e10e0=_0x3457c2['offset']||_0x417bbd,_0x15c967=_0x3457c2['scale']||_0x51c47b,_0x4c8d40=_0x3457c2['rotation']?-_0x3457c2['rotation']*N['RAD_TO_DEG']:-0x954+-0x6*0x189+-0xe*-0x153,_0x5cddd2=new W(_0x15c967[0x181*-0x7+0x4*-0x838+0x2b67],_0x15c967[-0x10*-0xe9+-0x76*-0x28+0x1*-0x20ff]),_0x1117f3=new W(_0x4e10e0[0xd78+0x740+-0x14b8],-0x2*-0x11b1+-0x2f2*0x2+0x1*-0x1d7d-_0x15c967[-0xb89*0x2+-0x8db*0x4+0x5*0xbb3]-_0x4e10e0[0x25c7+-0x1273+-0x33*0x61]);for(_0x3fab74=-0x1b1c+-0x757*-0x5+0x1eb*-0x5;_0x3fab74<_0xe3bb31['length'];++_0x3fab74)_0x32355f[_0xe3bb31[_0x3fab74]+'MapTiling']=_0x5cddd2,_0x32355f[_0xe3bb31[_0x3fab74]+'MapOffset']=_0x1117f3,_0x32355f[_0xe3bb31[_0x3fab74]+('MapRotatio'+'n')]=_0x4c8d40;}},FD=(_0x9ad0b1,_0x1b2d18,_0x2f9565)=>{let _0x39b99b,_0x5b02da;if(_0x9ad0b1['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x39b99b=_0x9ad0b1['diffuseFac'+'tor'],_0x1b2d18['diffuse']['set'](Math['pow'](_0x39b99b[0x1fd7+0x78*0xa+-0xc2d*0x3],(-0x8ab+-0x3*0x9f+0xa89)/(-0x2*-0x104d+-0x2*0xb02+-0xa94+0.20000000000000018)),Math['pow'](_0x39b99b[0x777+-0xa52+-0x3d*-0xc],(-0x13*0x142+-0xc21+0x2408*0x1)/(-0x1332+0x1*0x175+0x11bf+0.20000000000000018)),Math['pow'](_0x39b99b[-0x16d9+-0x33b*0x5+0x2702],(-0xf45+-0x23e5+0x1*0x332b)/(-0x8e7*-0x1+-0x1*-0xe41+-0x1*0x1726+0.20000000000000018))),_0x1b2d18['opacity']=_0x39b99b[-0x120a+-0xd87*0x1+-0x7e5*-0x4]):(_0x1b2d18['diffuse']['set'](0x2163+0x143c+0x2*-0x1acf,0x23d7+0x2296+-0x466c*0x1,0x3a3*-0x7+-0x1a5*-0x9+-0x1*-0xaa9),_0x1b2d18['opacity']=0x50*0x5e+-0x1bff+0x58*-0x4),_0x9ad0b1['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x19a7c3=_0x9ad0b1['diffuseTex'+'ture'];_0x5b02da=_0x2f9565[_0x19a7c3['index']],_0x1b2d18['diffuseMap']=_0x5b02da,_0x1b2d18['diffuseMap'+'Channel']='rgb',_0x1b2d18['opacityMap']=_0x5b02da,_0x1b2d18['opacityMap'+'Channel']='a',ft(_0x19a7c3,_0x1b2d18,['diffuse','opacity']);}if(_0x1b2d18['useMetalne'+'ss']=!(0x1b3+0x181f+-0x19d1),_0x9ad0b1['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x39b99b=_0x9ad0b1['specularFa'+'ctor'],_0x1b2d18['specular']['set'](Math['pow'](_0x39b99b[0x268b+0xa*-0xad+-0x67*0x4f],(-0x1c74+0xcf8+0xf7d)/(0x26d1+0x1e1a+-0x12b*0x3b+0.20000000000000018)),Math['pow'](_0x39b99b[-0x909+-0xc3*-0x33+-0x1dcf],(-0x1bc7+0x55c*-0x4+0x3138)/(0x2*0x2fc+-0x17da+-0xe5*-0x14+0.20000000000000018)),Math['pow'](_0x39b99b[-0xf11+-0x1703+-0x186*-0x19],(0x411*0x1+-0x1cec+0x18dc)/(-0x1d*-0xaf+0x261a+-0x39eb+0.20000000000000018)))):_0x1b2d18['specular']['set'](0x123*-0x7+-0x10ff+0x18f5,-0x5de*0x1+0x17*0x22+0x2d1,-0x3a1*0x2+-0x7a5+0x1dd*0x8),_0x9ad0b1['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x1b2d18['gloss']=_0x9ad0b1['glossiness'+'Factor']:_0x1b2d18['gloss']=-0x1f0f+0x26f9+-0x7e9,_0x9ad0b1['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x327780=_0x9ad0b1['specularGl'+'ossinessTe'+'xture'];_0x1b2d18['specularEn'+'coding']='srgb',_0x1b2d18['specularMa'+'p']=_0x1b2d18['glossMap']=_0x2f9565[_0x327780['index']],_0x1b2d18['specularMa'+'pChannel']='rgb',_0x1b2d18['glossMapCh'+'annel']='a',ft(_0x327780,_0x1b2d18,['gloss','metalness']);}},OD=(_0x1cac7e,_0x47e59b,_0x181bd0)=>{if(_0x1cac7e['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x47e59b['clearCoat']=_0x1cac7e['clearcoatF'+'actor']*(0x171+0xafd*-0x3+-0x1f86*-0x1+0.25):_0x47e59b['clearCoat']=-0x1777+-0x1739+-0xf9*-0x30,_0x1cac7e['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x454f6c=_0x1cac7e['clearcoatT'+'exture'];_0x47e59b['clearCoatM'+'ap']=_0x181bd0[_0x454f6c['index']],_0x47e59b['clearCoatM'+'apChannel']='r',ft(_0x454f6c,_0x47e59b,['clearCoat']);}if(_0x1cac7e['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x47e59b['clearCoatG'+'loss']=_0x1cac7e['clearcoatR'+'oughnessFa'+'ctor']:_0x47e59b['clearCoatG'+'loss']=-0x1*-0x124+-0xf20+-0x5*-0x2cc,_0x1cac7e['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x3a1eb2=_0x1cac7e['clearcoatR'+'oughnessTe'+'xture'];_0x47e59b['clearCoatG'+'lossMap']=_0x181bd0[_0x3a1eb2['index']],_0x47e59b['clearCoatG'+'lossMapCha'+'nnel']='g',ft(_0x3a1eb2,_0x47e59b,['clearCoatG'+'loss']);}if(_0x1cac7e['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x5412f4=_0x1cac7e['clearcoatN'+'ormalTextu'+'re'];_0x47e59b['clearCoatN'+'ormalMap']=_0x181bd0[_0x5412f4['index']],ft(_0x5412f4,_0x47e59b,['clearCoatN'+'ormal']),_0x5412f4['hasOwnProp'+'erty']('scale')&&(_0x47e59b['clearCoatB'+'umpiness']=_0x5412f4['scale']);}_0x47e59b['clearCoatG'+'lossInvert']=!(-0x1c2d*0x1+-0xb0e*0x2+0x7*0x72f);},kD=(_0x4b07a2,_0x1373ad,_0x46dd6a)=>{_0x1373ad['useLightin'+'g']=!(0x1d65+0x8bc+-0x2620),_0x1373ad['emissive']['copy'](_0x1373ad['diffuse']),_0x1373ad['emissiveMa'+'p']=_0x1373ad['diffuseMap'],_0x1373ad['emissiveMa'+'pUv']=_0x1373ad['diffuseMap'+'Uv'],_0x1373ad['emissiveMa'+'pTiling']['copy'](_0x1373ad['diffuseMap'+'Tiling']),_0x1373ad['emissiveMa'+'pOffset']['copy'](_0x1373ad['diffuseMap'+'Offset']),_0x1373ad['emissiveMa'+'pRotation']=_0x1373ad['diffuseMap'+'Rotation'],_0x1373ad['emissiveMa'+'pChannel']=_0x1373ad['diffuseMap'+'Channel'],_0x1373ad['emissiveVe'+'rtexColor']=_0x1373ad['diffuseVer'+'texColor'],_0x1373ad['emissiveVe'+'rtexColorC'+'hannel']=_0x1373ad['diffuseVer'+'texColorCh'+'annel'],_0x1373ad['useLightin'+'g']=!(-0xb7*-0x19+-0x1*0x1519+-0x1*-0x33b),_0x1373ad['useSkybox']=!(0x1b26+0x466+-0x1f8b),_0x1373ad['diffuse']['set'](-0xbe8+-0x2201+0x2dea,0x4*0x2e9+-0x687+-0x51c,-0x170a+-0x1b*-0x44+0xef*0x11),_0x1373ad['diffuseMap']=null,_0x1373ad['diffuseVer'+'texColor']=!(-0x1e7*0x1+0xcbc+-0xad4);},BD=(_0x3137c6,_0x31b1ed,_0x281c0a)=>{if(_0x31b1ed['useMetalne'+'ssSpecular'+'Color']=!(0x1*0xf91+0x1c65*0x1+-0x2bf6),_0x3137c6['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x31b1ed['specularEn'+'coding']='srgb',_0x31b1ed['specularMa'+'p']=_0x281c0a[_0x3137c6['specularCo'+'lorTexture']['index']],_0x31b1ed['specularMa'+'pChannel']='rgb',ft(_0x3137c6['specularCo'+'lorTexture'],_0x31b1ed,['specular'])),_0x3137c6['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x2dcdcf=_0x3137c6['specularCo'+'lorFactor'];_0x31b1ed['specular']['set'](Math['pow'](_0x2dcdcf[-0x287*-0x4+-0x111c+0x40*0x1c],(0x7*0x498+0x1*-0x2027+0x0)/(0x1fc2+-0xfa8+-0x1018+0.20000000000000018)),Math['pow'](_0x2dcdcf[-0x1c02+0x1cf5+-0x2*0x79],(-0x57*-0x2f+-0x1225+0x22d*0x1)/(-0xe43*0x2+-0x2*0x1079+-0xb7*-0x56+0.20000000000000018)),Math['pow'](_0x2dcdcf[-0xeb5+-0x265a+0x3511],(0x1f9f+-0x1*-0x1dc1+0x3*-0x1475)/(0x20d2+-0x2158+0x2*0x44+0.20000000000000018)));}else _0x31b1ed['specular']['set'](0x69+-0x22*-0x3b+0x5*-0x1a6,0x18+-0x1777+0x58*0x44,0x2614+0x71*0x53+0x4ab6*-0x1);_0x3137c6['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x31b1ed['specularit'+'yFactor']=_0x3137c6['specularFa'+'ctor']:_0x31b1ed['specularit'+'yFactor']=-0xac5+0x599*0x1+-0x5*-0x109,_0x3137c6['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x31b1ed['specularit'+'yFactorMap'+'Channel']='a',_0x31b1ed['specularit'+'yFactorMap']=_0x281c0a[_0x3137c6['specularTe'+'xture']['index']],ft(_0x3137c6['specularTe'+'xture'],_0x31b1ed,['specularit'+'yFactor']));},ND=(_0x3a132d,_0x2458fb,_0x547de1)=>{_0x3a132d['hasOwnProp'+'erty']('ior')&&(_0x2458fb['refraction'+'Index']=(-0x8*0x2c2+-0x17c3+0x2dd4)/_0x3a132d['ior']);},zD=(_0x54beb6,_0x283b51,_0x504eeb)=>{_0x54beb6['hasOwnProp'+'erty']('dispersion')&&(_0x283b51['dispersion']=_0x54beb6['dispersion']);},UD=(_0x3ace9c,_0x213b1f,_0x251a30)=>{_0x213b1f['blendType']=Kt,_0x213b1f['useDynamic'+'Refraction']=!(0x1dbf+0x15*-0x8+-0x1d17),_0x3ace9c['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x213b1f['refraction']=_0x3ace9c['transmissi'+'onFactor']),_0x3ace9c['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x213b1f['refraction'+'MapChannel']='r',_0x213b1f['refraction'+'Map']=_0x251a30[_0x3ace9c['transmissi'+'onTexture']['index']],ft(_0x3ace9c['transmissi'+'onTexture'],_0x213b1f,['refraction']));},VD=(_0x52db2e,_0x59d89c,_0x5c62a6)=>{if(_0x59d89c['useSheen']=!(-0x1*-0x8cc+-0x8*0x46+-0x69c),_0x52db2e['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x352c72=_0x52db2e['sheenColor'+'Factor'];_0x59d89c['sheen']['set'](Math['pow'](_0x352c72[0xcd3+0xbbb+0xe*-0x1c1],(0x159c+0x608+-0x1ba3)/(-0x7bd+0x336+0x489+0.20000000000000018)),Math['pow'](_0x352c72[-0x52a*-0x6+0x1*-0x949+0xad9*-0x2],(0x3*-0xb27+0x3e+-0x1*-0x2138)/(0x191f+0xb*-0xc1+0x869*-0x2+0.20000000000000018)),Math['pow'](_0x352c72[0x2262+0x1622+-0x6*0x96b],(-0xde3+0x6*-0x25c+0x1c0c)/(0x2ac*-0x6+-0x23f0+0x33fa+0.20000000000000018)));}else _0x59d89c['sheen']['set'](-0x1*0x13c3+-0x1d3b+0x1055*0x3,0x1143+-0x1*0x425+-0xd1d,0x223*0x8+-0xa9b+-0x67c);_0x52db2e['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x59d89c['sheenMap']=_0x5c62a6[_0x52db2e['sheenColor'+'Texture']['index']],_0x59d89c['sheenEncod'+'ing']='srgb',ft(_0x52db2e['sheenColor'+'Texture'],_0x59d89c,['sheen'])),_0x59d89c['sheenGloss']=_0x52db2e['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x52db2e['sheenRough'+'nessFactor']:0x11e8+0x1d1*0x8+-0x2070,_0x52db2e['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x59d89c['sheenGloss'+'Map']=_0x5c62a6[_0x52db2e['sheenRough'+'nessTextur'+'e']['index']],_0x59d89c['sheenGloss'+'MapChannel']='a',ft(_0x52db2e['sheenRough'+'nessTextur'+'e'],_0x59d89c,['sheenGloss'])),_0x59d89c['sheenGloss'+'Invert']=!(0x2f*0x38+0x1d91+-0x65*0x65);},GD=(_0x59118e,_0x366783,_0x152cdb)=>{if(_0x366783['blendType']=Kt,_0x366783['useDynamic'+'Refraction']=!(-0x1780+-0x4*-0x31c+0xb10),_0x59118e['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x366783['thickness']=_0x59118e['thicknessF'+'actor']),_0x59118e['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x366783['thicknessM'+'ap']=_0x152cdb[_0x59118e['thicknessT'+'exture']['index']],_0x366783['thicknessM'+'apChannel']='g',ft(_0x59118e['thicknessT'+'exture'],_0x366783,['thickness'])),_0x59118e['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x366783['attenuatio'+'nDistance']=_0x59118e['attenuatio'+'nDistance']),_0x59118e['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x44bfe0=_0x59118e['attenuatio'+'nColor'];_0x366783['attenuatio'+'n']['set'](Math['pow'](_0x44bfe0[0x1*-0xd1d+-0xfc0+0x1cdd],(-0x171b+0x86*0xc+0x10d4)/(-0x348*-0x1+0x1*0x1e1c+-0x2162+0.20000000000000018)),Math['pow'](_0x44bfe0[-0x7d9+0xa3*-0x2+0x124*0x8],(-0x47f+0x15ac+-0x112c)/(-0x13*-0x24+0x2fa*0x1+-0x2*0x2d2+0.20000000000000018)),Math['pow'](_0x44bfe0[-0x666*0x5+-0xade+0x2ade],(0x1a0e+-0x139e+-0x66f)/(0x150b+0x3*0x9a5+-0x31f8+0.20000000000000018)));}},HD=(_0x2fc0c4,_0x5f0274,_0x165739)=>{_0x2fc0c4['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x5f0274['emissiveIn'+'tensity']=_0x2fc0c4['emissiveSt'+'rength']);},WD=(_0x149504,_0x582f5f,_0x112f42)=>{_0x582f5f['useIridesc'+'ence']=!(0x26f3+-0x223a+-0x4b9),_0x149504['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x582f5f['iridescenc'+'e']=_0x149504['iridescenc'+'eFactor']),_0x149504['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x582f5f['iridescenc'+'eMapChanne'+'l']='r',_0x582f5f['iridescenc'+'eMap']=_0x112f42[_0x149504['iridescenc'+'eTexture']['index']],ft(_0x149504['iridescenc'+'eTexture'],_0x582f5f,['iridescenc'+'e'])),_0x149504['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x582f5f['iridescenc'+'eRefractio'+'nIndex']=_0x149504['iridescenc'+'eIor']),_0x149504['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x582f5f['iridescenc'+'eThickness'+'Min']=_0x149504['iridescenc'+'eThickness'+'Minimum']),_0x149504['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x582f5f['iridescenc'+'eThickness'+'Max']=_0x149504['iridescenc'+'eThickness'+'Maximum']),_0x149504['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x582f5f['iridescenc'+'eThickness'+'MapChannel']='g',_0x582f5f['iridescenc'+'eThickness'+'Map']=_0x112f42[_0x149504['iridescenc'+'eThickness'+'Texture']['index']],ft(_0x149504['iridescenc'+'eThickness'+'Texture'],_0x582f5f,['iridescenc'+'eThickness']));},Dx=(_0x141977,_0x4089ea)=>{const _0x208a3d=new cs();_0x141977['hasOwnProp'+'erty']('name')&&(_0x208a3d['name']=_0x141977['name']),_0x208a3d['occludeSpe'+'cular']=Bo,_0x208a3d['diffuseVer'+'texColor']=!(-0xc8a+0x2a*0x78+-0x726),_0x208a3d['specularTi'+'nt']=!(0x2289+0xeb5+-0x313e),_0x208a3d['specularVe'+'rtexColor']=!(-0x1929+0xffa+0x92f),_0x208a3d['specular']['set'](0x1b*-0xed+-0x17ba+-0x42*-0xbd,-0x185*0x6+0x235f+-0x1a40,-0x2615*-0x1+-0x1dc5*-0x1+-0x43d9),_0x208a3d['gloss']=0x804+0x1e1b+-0x261e,_0x208a3d['glossInver'+'t']=!(-0x1*-0xdc8+-0x12de+0x516),_0x208a3d['useMetalne'+'ss']=!(-0x66*0x47+-0x1865+-0x34af*-0x1);let _0x1046c7,_0x33a6a7;if(_0x141977['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x403aad=_0x141977['pbrMetalli'+'cRoughness'];if(_0x403aad['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x1046c7=_0x403aad['baseColorF'+'actor'],_0x208a3d['diffuse']['set'](Math['pow'](_0x1046c7[-0x24b7+-0xf8d+0x3444],(-0xc98+0x12f9+0x20*-0x33)/(-0x16d4+-0x8*0x141+0x20de+0.20000000000000018)),Math['pow'](_0x1046c7[0x34a+-0x77b*-0x5+-0x28b0],(0x424*-0x8+-0x2c*-0x8b+-0x37*-0x2b)/(0x1a8f+-0xd23+-0xd6a+0.20000000000000018)),Math['pow'](_0x1046c7[0x1e46+-0x137*-0xf+-0x307d],(0x1643+0x4*-0x426+0x3a*-0x19)/(0x1d*-0x100+0x2*0xd36+-0x296*-0x1+0.20000000000000018))),_0x208a3d['opacity']=_0x1046c7[-0x1674+0xb81+0xaf6]),_0x403aad['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x3fb9cd=_0x403aad['baseColorT'+'exture'];_0x33a6a7=_0x4089ea[_0x3fb9cd['index']],_0x208a3d['diffuseMap']=_0x33a6a7,_0x208a3d['diffuseMap'+'Channel']='rgb',_0x208a3d['opacityMap']=_0x33a6a7,_0x208a3d['opacityMap'+'Channel']='a',ft(_0x3fb9cd,_0x208a3d,['diffuse','opacity']);}if(_0x403aad['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x208a3d['metalness']=_0x403aad['metallicFa'+'ctor']),_0x403aad['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x208a3d['gloss']=_0x403aad['roughnessF'+'actor']),_0x403aad['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x98042f=_0x403aad['metallicRo'+'ughnessTex'+'ture'];_0x208a3d['metalnessM'+'ap']=_0x208a3d['glossMap']=_0x4089ea[_0x98042f['index']],_0x208a3d['metalnessM'+'apChannel']='b',_0x208a3d['glossMapCh'+'annel']='g',ft(_0x98042f,_0x208a3d,['gloss','metalness']);}}if(_0x141977['hasOwnProp'+'erty']('normalText'+'ure')){const _0x51c9f7=_0x141977['normalText'+'ure'];_0x208a3d['normalMap']=_0x4089ea[_0x51c9f7['index']],ft(_0x51c9f7,_0x208a3d,['normal']),_0x51c9f7['hasOwnProp'+'erty']('scale')&&(_0x208a3d['bumpiness']=_0x51c9f7['scale']);}if(_0x141977['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x22dc27=_0x141977['occlusionT'+'exture'];_0x208a3d['aoMap']=_0x4089ea[_0x22dc27['index']],_0x208a3d['aoMapChann'+'el']='r',ft(_0x22dc27,_0x208a3d,['ao']);}if(_0x141977['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x1046c7=_0x141977['emissiveFa'+'ctor'],_0x208a3d['emissive']['set'](Math['pow'](_0x1046c7[-0x3*-0x357+-0x1143+0x39f*0x2],(-0x9*0x3b+0x11*-0x7f+0xa83)/(0x218f+0x958+-0x1*0x2ae5+0.20000000000000018)),Math['pow'](_0x1046c7[0x1*0x695+-0x6a1*-0x1+-0xd35],(-0x1d11+-0x1537*0x1+0x3249)/(-0x13f5*-0x1+0x6*0x535+-0x3331+0.20000000000000018)),Math['pow'](_0x1046c7[0x1412+0x134*0x4+-0x20*0xc7],(-0x26ad+-0x201+0x28af)/(-0x149*0x14+0xf5f*0x1+0x1*0xa57+0.20000000000000018)))),_0x141977['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x3cf0a3=_0x141977['emissiveTe'+'xture'];_0x208a3d['emissiveMa'+'p']=_0x4089ea[_0x3cf0a3['index']],ft(_0x3cf0a3,_0x208a3d,['emissive']);}if(_0x141977['hasOwnProp'+'erty']('alphaMode'))switch(_0x141977['alphaMode']){case'MASK':_0x208a3d['blendType']=is,_0x141977['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x208a3d['alphaTest']=_0x141977['alphaCutof'+'f']:_0x208a3d['alphaTest']=0x138b+0x16da+-0x1*0x2a65+0.5;break;case'BLEND':_0x208a3d['blendType']=Kt,_0x208a3d['depthWrite']=!(-0x13c7+0x1*0x14de+-0x116);break;default:case'OPAQUE':_0x208a3d['blendType']=is;break;}else _0x208a3d['blendType']=is;_0x141977['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x208a3d['twoSidedLi'+'ghting']=_0x141977['doubleSide'+'d'],_0x208a3d['cull']=_0x141977['doubleSide'+'d']?mt:rn):(_0x208a3d['twoSidedLi'+'ghting']=!(0x26ad*0x1+-0x270b+0x5f),_0x208a3d['cull']=rn);const _0x1618da={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':HD,'KHR_materials_ior':ND,'KHR_materials_dispersion':zD,'KHR_materials_iridescence':WD,'KHR_materials_pbrSpecularGlossiness':FD,'KHR_materials_sheen':VD,'KHR_materials_specular':BD,'KHR_materials_transmission':UD,'KHR_materials_unlit':kD,'KHR_materials_volume':GD};if(_0x141977['hasOwnProp'+'erty']('extensions'))for(const _0x62430c in _0x141977['extensions']){const _0x47f2bd=_0x1618da[_0x62430c];_0x47f2bd!==void(0x3*0x9c6+-0x49c+0x1*-0x18b6)&&_0x47f2bd(_0x141977['extensions'][_0x62430c],_0x208a3d,_0x4089ea);}return _0x208a3d['update'](),_0x208a3d;},$D=(_0x492953,_0x4c70d4,_0x54e878,_0x335ce0,_0x6e7521,_0x40fbc4,_0x136503)=>{const _0x38f65f=_0x68a11=>new Jh(Wo(_0x68a11['type']),ma(_0x68a11,_0x335ce0)),_0x24aa72={'STEP':$0,'LINEAR':ju,'CUBICSPLINE':Yu},_0xdfe14f={},_0x4846c3={},_0xf0d94f={};let _0xef80b2=-0x1*0x164d+0xb13+0x73*0x19,_0x2b0ef8;for(_0x2b0ef8=0x12e+-0x4f*-0xf+-0x1*0x5cf;_0x2b0ef8<_0x492953['samplers']['length'];++_0x2b0ef8){const _0xd244a1=_0x492953['samplers'][_0x2b0ef8];_0xdfe14f['hasOwnProp'+'erty'](_0xd244a1['input'])||(_0xdfe14f[_0xd244a1['input']]=_0x38f65f(_0x54e878[_0xd244a1['input']])),_0x4846c3['hasOwnProp'+'erty'](_0xd244a1['output'])||(_0x4846c3[_0xd244a1['output']]=_0x38f65f(_0x54e878[_0xd244a1['output']]));const _0x2a930e=_0xd244a1['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x24aa72['hasOwnProp'+'erty'](_0xd244a1['interpolat'+'ion'])?_0x24aa72[_0xd244a1['interpolat'+'ion']]:ju,_0x4e9b1b={'paths':[],'input':_0xd244a1['input'],'output':_0xd244a1['output'],'interpolation':_0x2a930e};_0xf0d94f[_0x2b0ef8]=_0x4e9b1b;}const _0x58e201=[],_0x5e27e0={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x30c731=_0x430632=>{const _0x28ae35=[];for(;_0x430632;)_0x28ae35['unshift'](_0x430632['name']),_0x430632=_0x430632['parent'];return _0x28ae35;},_0x2b7df9=(_0x3fc9b3,_0x198d38,_0x298776)=>{const _0x4ab833=_0x4846c3[_0x3fc9b3['output']];if(!_0x4ab833){v['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x298776+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0xe79b29;if(_0x40fbc4&&_0x40fbc4[_0x198d38['mesh']]){const _0x4385e4=_0x40fbc4[_0x198d38['mesh']];_0x4385e4['hasOwnProp'+'erty']('extras')&&_0x4385e4['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0xe79b29=_0x4385e4['extras']['targetName'+'s']);}const _0x53e02d=_0x4ab833['data'],_0x50029b=_0x53e02d['length']/_0xdfe14f[_0x3fc9b3['input']]['data']['length'],_0x2fb600=_0x53e02d['length']/_0x50029b,_0x5be2d5=_0x2fb600*(-0xa9*-0x8+0x119*-0xf+0x2f*0x3d),_0xe0bfcf=new ArrayBuffer(_0x5be2d5*_0x50029b);for(let _0xdd3e96=-0x362*0x1+-0x4be*-0x1+-0x4*0x57;_0xdd3e96<_0x50029b;_0xdd3e96++){const _0x5cfeb7=new Float32Array(_0xe0bfcf,_0x5be2d5*_0xdd3e96,_0x2fb600);for(let _0x5d93f2=-0x265*-0x2+-0x59a+0xd0;_0x5d93f2<_0x2fb600;_0x5d93f2++)_0x5cfeb7[_0x5d93f2]=_0x53e02d[_0x5d93f2*_0x50029b+_0xdd3e96];const _0x54caff=new Jh(0x5*0x615+-0x3d4+-0x1a94,_0x5cfeb7),_0x5ba427=_0xe79b29!=null&&_0xe79b29[_0xdd3e96]?'name.'+_0xe79b29[_0xdd3e96]:_0xdd3e96;_0x4846c3[-_0xef80b2]=_0x54caff;const _0x6ca791={'paths':[{'entityPath':_0x298776,'component':'graph','propertyPath':['weight.'+_0x5ba427]}],'input':_0x3fc9b3['input'],'output':-_0xef80b2,'interpolation':_0x3fc9b3['interpolat'+'ion']};_0xef80b2++,_0xf0d94f['morphCurve'+'-'+_0x2b0ef8+'-'+_0xdd3e96]=_0x6ca791;}};for(_0x2b0ef8=-0xff7+-0x23f4+0x33eb;_0x2b0ef8<_0x492953['channels']['length'];++_0x2b0ef8){const _0x2ca324=_0x492953['channels'][_0x2b0ef8],_0xed3a55=_0x2ca324['target'],_0x59fe90=_0xf0d94f[_0x2ca324['sampler']],_0x3e13db=_0x6e7521[_0xed3a55['node']],_0x246e8c=_0x136503[_0xed3a55['node']],_0x291adf=_0x30c731(_0x3e13db);_0xed3a55['path']['startsWith']('weights')?(_0x2b7df9(_0x59fe90,_0x246e8c,_0x291adf),_0xf0d94f[_0x2ca324['sampler']]['morphCurve']=!(0x8*-0x33+-0x1b56*-0x1+-0x19be)):_0x59fe90['paths']['push']({'entityPath':_0x291adf,'component':'graph','propertyPath':[_0x5e27e0[_0xed3a55['path']]]});}const _0x3890a3=[],_0x1a2997=[],_0x3e6577=[];for(const _0x194908 in _0xdfe14f)_0x3890a3['push'](_0xdfe14f[_0x194908]),_0xdfe14f[_0x194908]=_0x3890a3['length']-(0x1c30+-0x5f2+-0x1*0x163d);for(const _0x43d1da in _0x4846c3)_0x1a2997['push'](_0x4846c3[_0x43d1da]),_0x4846c3[_0x43d1da]=_0x1a2997['length']-(0x1d92+0x2494+-0x4225);for(const _0x179d2d in _0xf0d94f){const _0x14a016=_0xf0d94f[_0x179d2d];_0x14a016['morphCurve']||(_0x3e6577['push'](new Px(_0x14a016['paths'],_0xdfe14f[_0x14a016['input']],_0x4846c3[_0x14a016['output']],_0x14a016['interpolat'+'ion'])),_0x14a016['paths']['length']>0x2317+-0x14dd+0x2*-0x71d&&_0x14a016['paths'][-0x2*-0x33+-0x1*-0x26dd+-0x1b5*0x17]['propertyPa'+'th'][-0x2*-0xe67+-0x761*0x3+-0x6ab]==='localRotat'+'ion'&&_0x14a016['interpolat'+'ion']!==Yu&&_0x58e201['push'](_0x3e6577[_0x3e6577['length']-(-0x192*-0x10+0x16b3+-0x2fd2)]['output']));}_0x58e201['sort']();let _0xc6fc07=null,_0x4ee48c;for(_0x2b0ef8=0x1ae8+-0xd05+-0xde3;_0x2b0ef8<_0x58e201['length'];++_0x2b0ef8){const _0x4d2016=_0x58e201[_0x2b0ef8];if(_0x2b0ef8===-0xa60+0x87*0x33+-0x1085||_0x4d2016!==_0xc6fc07){if(_0x4ee48c=_0x1a2997[_0x4d2016],_0x4ee48c['components']===0x3b7*-0x3+0x1c7a+-0x1151){const _0x3f8d59=_0x4ee48c['data'],_0x52ca7d=_0x3f8d59['length']-(0x1a*-0x4c+-0x23b5+0x2b71);for(let _0x14eb1c=0x179*0x3+0x1cab+0x5*-0x69e;_0x14eb1c<_0x52ca7d;_0x14eb1c+=0x35*-0x99+-0x253e+-0x7*-0x9d9)_0x3f8d59[_0x14eb1c+(-0x5*-0x11d+-0x1*-0x268f+-0x2c20)]*_0x3f8d59[_0x14eb1c+(-0x3*-0xc77+-0xd*-0xc5+-0x2f62*0x1)]+_0x3f8d59[_0x14eb1c+(-0x2601+0x1f7*0xe+-0x60*-0x1c)]*_0x3f8d59[_0x14eb1c+(-0x1f6a+-0x1cf6+-0x3c65*-0x1)]+_0x3f8d59[_0x14eb1c+(-0x533+0x49d*0x4+0xd3f*-0x1)]*_0x3f8d59[_0x14eb1c+(-0x1235+0x8f*0x2f+-0x806)]+_0x3f8d59[_0x14eb1c+(-0xcfa+0x1374+-0x677)]*_0x3f8d59[_0x14eb1c+(-0x376*-0xb+-0xcad+-0x195e)]<0x2457+0x7*0x52b+-0x4884*0x1&&(_0x3f8d59[_0x14eb1c+(0x2308+0x4*-0x7db+-0x398)]*=-(0x7*0x2d1+0x370+-0x1726),_0x3f8d59[_0x14eb1c+(-0x1d53+-0x3*-0x37b+0x12e7)]*=-(-0x209*0xd+-0x18b*0xd+0x2e85),_0x3f8d59[_0x14eb1c+(-0x25*0x5+-0x13d4+0x17*0xe5)]*=-(-0x2*-0xd83+0xb5*0x20+-0x31a5*0x1),_0x3f8d59[_0x14eb1c+(-0x1995*0x1+-0x10e4+0x2a80)]*=-(0x487*-0x3+-0x288+-0x2*-0x80f));}_0xc6fc07=_0x4d2016;}}let _0x43aa72=-0x1*-0x1efd+-0x16+0x125*-0x1b;for(_0x2b0ef8=-0x702+-0xcb3*0x1+-0x5*-0x3f1;_0x2b0ef8<_0x3890a3['length'];_0x2b0ef8++)_0x4ee48c=_0x3890a3[_0x2b0ef8]['_data'],_0x43aa72=Math['max'](_0x43aa72,_0x4ee48c['length']===-0xe65+0x194b*-0x1+0x2*0x13d8?-0x14d2+-0x5*-0x5f9+0x5*-0x1cf:_0x4ee48c[_0x4ee48c['length']-(-0x44*0x46+0x1fa6+0xd0d*-0x1)]);return new Ri(_0x492953['hasOwnProp'+'erty']('name')?_0x492953['name']:'animation_'+_0x4c70d4,_0x43aa72,_0x3890a3,_0x1a2997,_0x3e6577);},eh=new q(),qn=new T(),qD=(_0xe712e3,_0x2df278,_0x2f7987)=>{const _0x14a45d=new De();if(_0xe712e3['hasOwnProp'+'erty']('name')&&_0xe712e3['name']['length']>-0x583+0x206d+0xd75*-0x2?_0x14a45d['name']=_0xe712e3['name']:_0x14a45d['name']='node_'+_0x2df278,_0xe712e3['hasOwnProp'+'erty']('matrix')&&(eh['data']['set'](_0xe712e3['matrix']),eh['getTransla'+'tion'](qn),_0x14a45d['setLocalPo'+'sition'](qn),eh['getEulerAn'+'gles'](qn),_0x14a45d['setLocalEu'+'lerAngles'](qn),eh['getScale'](qn),_0x14a45d['setLocalSc'+'ale'](qn)),_0xe712e3['hasOwnProp'+'erty']('rotation')){const _0x4938a7=_0xe712e3['rotation'];_0x14a45d['setLocalRo'+'tation'](_0x4938a7[0x175*0x11+-0x7*-0x145+-0x21a8],_0x4938a7[-0x127b*0x1+0xe3a+0x442],_0x4938a7[-0x9c3*0x3+-0x138c+-0x30d7*-0x1],_0x4938a7[-0x413+0x1b3a+-0x1724]);}if(_0xe712e3['hasOwnProp'+'erty']('translatio'+'n')){const _0x566223=_0xe712e3['translatio'+'n'];_0x14a45d['setLocalPo'+'sition'](_0x566223[0x6*0x9f+0x6af+-0xa69],_0x566223[-0x4*0xc4+0x1a4+-0x5*-0x49],_0x566223[0x387+0xc1*0x1+-0x1*0x446]);}if(_0xe712e3['hasOwnProp'+'erty']('scale')){const _0x170074=_0xe712e3['scale'];_0x14a45d['setLocalSc'+'ale'](_0x170074[-0x2af*0x6+-0x961+0xb*0x251],_0x170074[-0x1485*0x1+-0xa6d+0x1ef3],_0x170074[-0x2610+0x6f8+-0x2*-0xf8d]);}return _0xe712e3['hasOwnProp'+'erty']('extensions')&&_0xe712e3['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x2f7987['set'](_0xe712e3,{'ext':_0xe712e3['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x14a45d;},XD=(_0xe32a2a,_0x313af5)=>{const _0x2d0692=_0xe32a2a['type']==='orthograph'+'ic'?ua:Gs,_0x3f6136=_0x2d0692===ua?_0xe32a2a['orthograph'+'ic']:_0xe32a2a['perspectiv'+'e'],_0x1137f6={'enabled':!(0x1fd*0xb+-0x449*0x8+0xc6a),'projection':_0x2d0692,'nearClip':_0x3f6136['znear'],'aspectRatioMode':Ip};_0x3f6136['zfar']&&(_0x1137f6['farClip']=_0x3f6136['zfar']),_0x2d0692===ua?(_0x1137f6['orthoHeigh'+'t']=(0x20ec+0x2325*-0x1+0x239+0.5)*_0x3f6136['ymag'],_0x3f6136['ymag']&&(_0x1137f6['aspectRati'+'oMode']=Bu,_0x1137f6['aspectRati'+'o']=_0x3f6136['xmag']/_0x3f6136['ymag'])):(_0x1137f6['fov']=_0x3f6136['yfov']*N['RAD_TO_DEG'],_0x3f6136['aspectRati'+'o']&&(_0x1137f6['aspectRati'+'oMode']=Bu,_0x1137f6['aspectRati'+'o']=_0x3f6136['aspectRati'+'o']));const _0x56514e=new We(_0xe32a2a['name']);return _0x56514e['addCompone'+'nt']('camera',_0x1137f6),_0x56514e;},jD=(_0x2ebf59,_0x2a691e)=>{const _0xa27483={'enabled':!(-0x14c8+0x18b2+-0x3e9),'type':_0x2ebf59['type']==='point'?'omni':_0x2ebf59['type'],'color':_0x2ebf59['hasOwnProp'+'erty']('color')?new Y(_0x2ebf59['color']):Y['WHITE'],'range':_0x2ebf59['hasOwnProp'+'erty']('range')?_0x2ebf59['range']:0x46ec+0x2282+-0xd*0x51b,'falloffMode':$b,'intensity':_0x2ebf59['hasOwnProp'+'erty']('intensity')?N['clamp'](_0x2ebf59['intensity'],-0xed3+-0x118e+0x2061,-0x79d*0x3+0xa8b+0xc4e):-0x1d3*0xe+0x22a6+-0x91b};_0x2ebf59['hasOwnProp'+'erty']('spot')&&(_0xa27483['innerConeA'+'ngle']=_0x2ebf59['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x2ebf59['spot']['innerConeA'+'ngle']*N['RAD_TO_DEG']:-0xd17+0x1*0x156d+0xc2*-0xb,_0xa27483['outerConeA'+'ngle']=_0x2ebf59['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x2ebf59['spot']['outerConeA'+'ngle']*N['RAD_TO_DEG']:Math['PI']/(0x1673*0x1+-0x5eb+0x1084*-0x1)),_0x2ebf59['hasOwnProp'+'erty']('intensity')&&(_0xa27483['luminance']=_0x2ebf59['intensity']*zo['getLightUn'+'itConversi'+'on'](Gu[_0xa27483['type']],_0xa27483['outerConeA'+'ngle'],_0xa27483['innerConeA'+'ngle']));const _0x800c57=new We(_0x2a691e['name']);return _0x800c57['rotateLoca'+'l'](-0x1291*0x2+0x631+0x1f4b,-0x1*0x315+0x1030+-0x5*0x29f,0x2*0x128e+0xbd4+-0x30f0),_0x800c57['addCompone'+'nt']('light',_0xa27483),_0x800c57;},YD=(_0x5583ab,_0x3c5092,_0x3ac0a6,_0x2b8e9d)=>{if(!_0x3c5092['hasOwnProp'+'erty']('skins')||_0x3c5092['skins']['length']===-0x33*-0xa6+0x1*-0x10f3+-0x101f)return[];const _0x2eac5d=new Map();return _0x3c5092['skins']['map'](_0x55e3c5=>ID(_0x5583ab,_0x55e3c5,_0x3c5092['accessors'],_0x2b8e9d,_0x3ac0a6,_0x2eac5d));},KD=(_0x57abe3,_0x4fe0df,_0x233462,_0x4e59be)=>{var _0x54bf2e,_0x5ab4b9,_0x4bc44b;const _0x36ab4c={},_0x4d357e={},_0x41de05={},_0x14cf1a=[];return{'meshes':!_0x4e59be['skipMeshes']&&((_0x54bf2e=_0x4fe0df==null?void(-0xfcf+0x213e+0x116f*-0x1):_0x4fe0df['meshes'])==null?void(0x2d*-0xbf+-0x14b1+0x3644):_0x54bf2e['length'])&&((_0x5ab4b9=_0x4fe0df==null?void(-0x86b+-0x1fc9+0x14c*0x1f):_0x4fe0df['accessors'])==null?void(-0x1d59+0x1*-0x42a+0x2183):_0x5ab4b9['length'])&&((_0x4bc44b=_0x4fe0df==null?void(0xf54+-0x1380+0x42c):_0x4fe0df['bufferView'+'s'])==null?void(0xcf2+-0x61*-0xd+-0x11df):_0x4bc44b['length'])?_0x4fe0df['meshes']['map'](_0x51332d=>LD(_0x57abe3,_0x51332d,_0x4fe0df['accessors'],_0x233462,_0x36ab4c,_0x4d357e,_0x41de05,_0x4e59be,_0x14cf1a)):[],'meshVariants':_0x4d357e,'meshDefaultMaterials':_0x41de05,'promises':_0x14cf1a};},ZD=(_0x55546c,_0x49ddda,_0x22e55d)=>{var _0x3c75ce,_0x96c467,_0x20b975;if(!_0x55546c['hasOwnProp'+'erty']('materials')||_0x55546c['materials']['length']===-0x1656+-0x19a7+0x2ffd)return[];const _0x5f15e5=(_0x3c75ce=_0x22e55d==null?void(-0x2*-0xa97+0x129f+-0x1*0x27cd):_0x22e55d['material'])==null?void(0x1*0x22eb+-0x2*0x2f9+-0x1cf9):_0x3c75ce['preprocess'],_0x3cf5ff=((_0x96c467=_0x22e55d==null?void(-0x2*-0x94+-0x10a*0xe+-0x6b2*-0x2):_0x22e55d['material'])==null?void(0x6*-0x361+0x1*0x14aa+-0x32*0x2):_0x96c467['process'])??Dx,_0x1a211b=(_0x20b975=_0x22e55d==null?void(0xd9*-0x5+0x267b+-0x223e*0x1):_0x22e55d['material'])==null?void(-0x62b*-0x1+-0x1*-0xc81+-0x12ac):_0x20b975['postproces'+'s'];return _0x55546c['materials']['map'](_0x411659=>{_0x5f15e5&&_0x5f15e5(_0x411659);const _0x1931ef=_0x3cf5ff(_0x411659,_0x49ddda);return _0x1a211b&&_0x1a211b(_0x411659,_0x1931ef),_0x1931ef;});},QD=_0xc8c0f7=>{if(!_0xc8c0f7['hasOwnProp'+'erty']('extensions')||!_0xc8c0f7['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x35cea5=_0xc8c0f7['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0xa4411c={};for(let _0x3ea47c=0x16c9+-0x14f4+0x43*-0x7;_0x3ea47c<_0x35cea5['length'];_0x3ea47c++)_0xa4411c[_0x35cea5[_0x3ea47c]['name']]=_0x3ea47c;return _0xa4411c;},JD=(_0xe22cde,_0x32ef17,_0x2fcb7e,_0x250cca)=>{var _0x164633,_0x4297d5;if(!_0xe22cde['hasOwnProp'+'erty']('animations')||_0xe22cde['animations']['length']===0x1*0x15a1+0x1*-0x414+-0x1*0x118d)return[];const _0x327463=(_0x164633=_0x250cca==null?void(-0x2581+0x12*-0x56+0x2b8d):_0x250cca['animation'])==null?void(0x2*-0xdd2+0x7*0x1e1+-0x1*-0xe7d):_0x164633['preprocess'],_0x28365d=(_0x4297d5=_0x250cca==null?void(-0x9c6+0x92e+0x98):_0x250cca['animation'])==null?void(0x1*0x7f6+0x88b*0x4+-0x2a22):_0x4297d5['postproces'+'s'];return _0xe22cde['animations']['map']((_0x3d7b59,_0x8d99d0)=>{_0x327463&&_0x327463(_0x3d7b59);const _0x4b7224=$D(_0x3d7b59,_0x8d99d0,_0xe22cde['accessors'],_0x2fcb7e,_0x32ef17,_0xe22cde['meshes'],_0xe22cde['nodes']);return _0x28365d&&_0x28365d(_0x3d7b59,_0x4b7224),_0x4b7224;});},e2=(_0x181f44,_0xdff528,_0x215821,_0xf0294f)=>{const _0x46794f=_0xdff528['accessors'];_0x215821['forEach']((_0x538ad7,_0x53e00f)=>{const _0x28bc0e=_0x538ad7['ext']['attributes'];let _0x32697d;if(_0x28bc0e['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x4f55c7=_0x46794f[_0x28bc0e['TRANSLATIO'+'N']];_0x32697d=ma(_0x4f55c7,_0xf0294f);}let _0x1e02c9;if(_0x28bc0e['hasOwnProp'+'erty']('ROTATION')){const _0x12ea72=_0x46794f[_0x28bc0e['ROTATION']];_0x1e02c9=ma(_0x12ea72,_0xf0294f);}let _0x4c4a96;if(_0x28bc0e['hasOwnProp'+'erty']('SCALE')){const _0x285b02=_0x46794f[_0x28bc0e['SCALE']];_0x4c4a96=ma(_0x285b02,_0xf0294f);}const _0x4d9306=(_0x32697d?_0x32697d['length']/(-0x1add+-0x110d+0x41*0xad):-0xd8b+0xec2+-0x137)||(_0x1e02c9?_0x1e02c9['length']/(0x7fa*-0x1+0x9*-0x2eb+-0x4f*-0x6f):0x171*0x5+-0xd3c+0x1*0x607)||(_0x4c4a96?_0x4c4a96['length']/(-0x15d8+0x5*0x3d3+-0x32*-0xe):0x141b+0xa3e+-0x1e59*0x1);if(_0x4d9306){const _0x841673=new Float32Array(_0x4d9306*(-0x16e7+-0x2*-0x8a4+0x5af)),_0x461de1=new T(),_0x26615e=new se(),_0x42a57f=new T(-0x1*0xce5+0x1*-0xa8d+0x1773,0x224d+0x23*0x21+-0x26cf,-0x2450+-0x2491+-0x2*-0x2471),_0x4fad05=new q();let _0x31c01c=-0x1689+0x101*0xb+0xb7e;for(let _0x42e8e5=0x1392+0x9fa+0x1*-0x1d8c;_0x42e8e5<_0x4d9306;_0x42e8e5++){const _0x1c7f6f=_0x42e8e5*(-0xd*-0x25+0x2b4+0x6*-0xc3);if(_0x32697d&&_0x461de1['set'](_0x32697d[_0x1c7f6f],_0x32697d[_0x1c7f6f+(0x1137+-0xe07+0x1*-0x32f)],_0x32697d[_0x1c7f6f+(-0x2*0x523+-0x1ab7+0x1*0x24ff)]),_0x1e02c9){const _0x2a6217=_0x42e8e5*(0x3*0x7b1+0x51*-0x52+0x2e3);_0x26615e['set'](_0x1e02c9[_0x2a6217],_0x1e02c9[_0x2a6217+(-0x267e+-0x3*0x9fd+-0x1*-0x4476)],_0x1e02c9[_0x2a6217+(0x2aa*0xd+-0x1206+-0x109a)],_0x1e02c9[_0x2a6217+(0x11b3+0x24d1+-0x3681)]);}_0x4c4a96&&_0x42a57f['set'](_0x4c4a96[_0x1c7f6f],_0x4c4a96[_0x1c7f6f+(-0x7*-0x39e+-0xb26*-0x3+-0x7*0x865)],_0x4c4a96[_0x1c7f6f+(-0x206*0x5+-0x1*0x2302+0x2d22*0x1)]),_0x4fad05['setTRS'](_0x461de1,_0x26615e,_0x42a57f);for(let _0x24fe95=0x14fe+0x19c3+-0x2ec1;_0x24fe95<-0x128*0x2+0x1*0x1e36+-0x1bd6;_0x24fe95++)_0x841673[_0x31c01c++]=_0x4fad05['data'][_0x24fe95];}_0x538ad7['matrices']=_0x841673;}});},t2=(_0x198934,_0x2802c0,_0x31482d)=>{var _0x533b6e,_0x1c485,_0x5918ba;if(!_0x198934['hasOwnProp'+'erty']('nodes')||_0x198934['nodes']['length']===-0x27a+0x1fe3+0x1*-0x1d69)return[];const _0x45940b=(_0x533b6e=_0x2802c0==null?void(-0x312+0x19fc+-0x16ea):_0x2802c0['node'])==null?void(0x2*0xa1f+0x25b1+0x1*-0x39ef):_0x533b6e['preprocess'],_0x32a6b2=((_0x1c485=_0x2802c0==null?void(-0x1fc6+-0x34*-0x4a+-0x85f*-0x2):_0x2802c0['node'])==null?void(-0xc46+0x18d*-0x7+-0x1f*-0xbf):_0x1c485['process'])??qD,_0x17f023=(_0x5918ba=_0x2802c0==null?void(-0x2*-0xc33+0x1*-0x1e31+0x5cb):_0x2802c0['node'])==null?void(0x1*0x845+-0x2d*-0xcd+0x1*-0x2c4e):_0x5918ba['postproces'+'s'],_0x377193=_0x198934['nodes']['map']((_0x4c6b5d,_0x12883d)=>{_0x45940b&&_0x45940b(_0x4c6b5d);const _0x287c1b=_0x32a6b2(_0x4c6b5d,_0x12883d,_0x31482d);return _0x17f023&&_0x17f023(_0x4c6b5d,_0x287c1b),_0x287c1b;});for(let _0x3ece78=0x1*0x1e77+0x189f+-0x281*0x16;_0x3ece78<_0x198934['nodes']['length'];++_0x3ece78){const _0x520fbc=_0x198934['nodes'][_0x3ece78];if(_0x520fbc['hasOwnProp'+'erty']('children')){const _0x23ff82=_0x377193[_0x3ece78],_0x28ba86={};for(let _0x23f9b1=-0x8e8+-0x2ae+0xb96;_0x23f9b1<_0x520fbc['children']['length'];++_0x23f9b1){const _0x5f27b6=_0x377193[_0x520fbc['children'][_0x23f9b1]];_0x5f27b6['parent']||(_0x28ba86['hasOwnProp'+'erty'](_0x5f27b6['name'])?_0x5f27b6['name']+=_0x28ba86[_0x5f27b6['name']]++:_0x28ba86[_0x5f27b6['name']]=-0x43*-0x85+0x3eb+-0x26b9,_0x23ff82['addChild'](_0x5f27b6));}}}return _0x377193;},s2=(_0x4af384,_0x20c7c1)=>{var _0x3bdc5d;const _0x43561a=[],_0x259685=_0x4af384['scenes']['length'];if(_0x259685===-0x4ff*0x1+-0x256d+0x2a6d&&((_0x3bdc5d=_0x4af384['scenes'][0x9*0xb+0x494+-0x4f7]['nodes'])==null?void(0x298*-0x9+0x1267+0x37*0x17):_0x3bdc5d['length'])===0x1efb+0x85*-0x14+-0x1*0x1496){const _0x2e4d96=_0x4af384['scenes'][0x5fb*0x1+-0x2683*-0x1+-0x2c7e]['nodes'][0x1d7a+-0x1747+-0x633];_0x43561a['push'](_0x20c7c1[_0x2e4d96]);}else for(let _0x2b1ef2=0x3*0x7c2+-0x247f+0x1*0xd39;_0x2b1ef2<_0x259685;_0x2b1ef2++){const _0x3fc708=_0x4af384['scenes'][_0x2b1ef2];if(_0x3fc708['nodes']){const _0xe79ee7=new De(_0x3fc708['name']);for(let _0x289de3=-0x2235+0x2b*0xb5+0x3ce;_0x289de3<_0x3fc708['nodes']['length'];_0x289de3++){const _0x3d6d7c=_0x20c7c1[_0x3fc708['nodes'][_0x289de3]];_0xe79ee7['addChild'](_0x3d6d7c);}_0x43561a['push'](_0xe79ee7);}}return _0x43561a;},i2=(_0x1d5c0c,_0x3598fb,_0x3b1e5f)=>{var _0x569cf1,_0x4d57fd,_0x331be4;let _0x13044c=null;if(_0x1d5c0c['hasOwnProp'+'erty']('nodes')&&_0x1d5c0c['hasOwnProp'+'erty']('cameras')&&_0x1d5c0c['cameras']['length']>-0x1*-0x20f2+0x7*0xc0+-0x1319*0x2){const _0x59dac2=(_0x569cf1=_0x3b1e5f==null?void(-0x2664+-0xb*0x2f7+0x4701):_0x3b1e5f['camera'])==null?void(-0x10f0+-0x150*-0x17+0x10*-0xd4):_0x569cf1['preprocess'],_0x4eedee=((_0x4d57fd=_0x3b1e5f==null?void(0x2*0xaed+-0x2635+0x105b):_0x3b1e5f['camera'])==null?void(0x15aa+0xfff+-0x25a9):_0x4d57fd['process'])??XD,_0x1d1d48=(_0x331be4=_0x3b1e5f==null?void(0x1*0x93f+0x1d1b*-0x1+0x13dc):_0x3b1e5f['camera'])==null?void(-0x23cd*-0x1+0xbf*0xa+-0x5*0x8a7):_0x331be4['postproces'+'s'];_0x1d5c0c['nodes']['forEach']((_0x586b31,_0x4244f1)=>{if(_0x586b31['hasOwnProp'+'erty']('camera')){const _0x4fe77f=_0x1d5c0c['cameras'][_0x586b31['camera']];if(_0x4fe77f){_0x59dac2&&_0x59dac2(_0x4fe77f);const _0x12887f=_0x4eedee(_0x4fe77f,_0x3598fb[_0x4244f1]);_0x1d1d48&&_0x1d1d48(_0x4fe77f,_0x12887f),_0x12887f&&(_0x13044c||(_0x13044c=new Map()),_0x13044c['set'](_0x586b31,_0x12887f));}}});}return _0x13044c;},r2=(_0x284f04,_0xa54d2d,_0x54a196)=>{var _0x5b6a91,_0x2e1f69,_0x23482d;let _0x565755=null;if(_0x284f04['hasOwnProp'+'erty']('nodes')&&_0x284f04['hasOwnProp'+'erty']('extensions')&&_0x284f04['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x284f04['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x53a782=_0x284f04['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x53a782['length']){const _0xd4ba4c=(_0x5b6a91=_0x54a196==null?void(0x5a2+0x5f7*0x6+-0x296c):_0x54a196['light'])==null?void(-0x2*-0x12f2+0xb*-0x305+-0x4ad):_0x5b6a91['preprocess'],_0xce0abd=((_0x2e1f69=_0x54a196==null?void(-0x1639+-0x22d3+0x4c1*0xc):_0x54a196['light'])==null?void(0x293*0x9+-0xc8f+0x184*-0x7):_0x2e1f69['process'])??jD,_0x1b46c5=(_0x23482d=_0x54a196==null?void(0x1*-0x5bd+0x1*-0x195b+-0x28*-0xc7):_0x54a196['light'])==null?void(-0x1b01*0x1+0x42c*-0x8+-0x1d*-0x215):_0x23482d['postproces'+'s'];_0x284f04['nodes']['forEach']((_0x81a328,_0x15270f)=>{if(_0x81a328['hasOwnProp'+'erty']('extensions')&&_0x81a328['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x81a328['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x17ec09=_0x81a328['extensions']['KHR_lights'+'_punctual']['light'],_0x1e9b29=_0x53a782[_0x17ec09];if(_0x1e9b29){_0xd4ba4c&&_0xd4ba4c(_0x1e9b29);const _0x519edd=_0xce0abd(_0x1e9b29,_0xa54d2d[_0x15270f]);_0x1b46c5&&_0x1b46c5(_0x1e9b29,_0x519edd),_0x519edd&&(_0x565755||(_0x565755=new Map()),_0x565755['set'](_0x81a328,_0x519edd));}}});}}return _0x565755;},n2=(_0x598867,_0x5a4f71,_0x1647c3)=>{_0x598867['nodes']['forEach'](_0x2afda2=>{_0x2afda2['hasOwnProp'+'erty']('mesh')&&_0x2afda2['hasOwnProp'+'erty']('skin')&&_0x5a4f71[_0x2afda2['mesh']]['meshes']['forEach'](_0x107f0d=>{_0x107f0d['skin']=_0x1647c3[_0x2afda2['skin']];});});},a2=async(_0x1d92d3,_0x213eb7,_0x3b1c6a,_0x5ba4da,_0x4aab3e)=>{var _0x5b9ee4,_0x4262c4;const _0x555bd6=(_0x5b9ee4=_0x4aab3e==null?void(0x1ac5+-0x1a6*0x15+-0x7*-0x11f):_0x4aab3e['global'])==null?void(-0x250a+-0x21f*0x2+0x2948):_0x5b9ee4['preprocess'],_0x284674=(_0x4262c4=_0x4aab3e==null?void(0x15d3+0x1272+-0x2845):_0x4aab3e['global'])==null?void(0x6*0x30e+0x1*0x19d7+-0x2c2b):_0x4262c4['postproces'+'s'];_0x555bd6&&_0x555bd6(_0x213eb7),_0x213eb7['asset']&&_0x213eb7['asset']['generator']==='PlayCanvas'&&v['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x347835=new Map(),_0x581648=t2(_0x213eb7,_0x4aab3e,_0x347835),_0x337f7c=s2(_0x213eb7,_0x581648),_0x49c608=r2(_0x213eb7,_0x581648,_0x4aab3e),_0x2428b0=i2(_0x213eb7,_0x581648,_0x4aab3e),_0x59aaeb=QD(_0x213eb7),_0x3d26c8=await Promise['all'](_0x3b1c6a),{meshes:_0xadb213,meshVariants:_0x2435aa,meshDefaultMaterials:_0x552823,promises:_0x14ea69}=KD(_0x1d92d3,_0x213eb7,_0x3d26c8,_0x4aab3e),_0x3cc3d4=JD(_0x213eb7,_0x581648,_0x3d26c8,_0x4aab3e);e2(_0x1d92d3,_0x213eb7,_0x347835,_0x3d26c8);const _0x2704a3=await Promise['all'](_0x5ba4da),_0x41df47=_0x2704a3['map'](_0x118e26=>_0x118e26['resource']),_0xf2e56f=ZD(_0x213eb7,_0x41df47,_0x4aab3e),_0xa51359=YD(_0x1d92d3,_0x213eb7,_0x581648,_0x3d26c8),_0x47e783=[];for(let _0x3815a2=0x2524*-0x1+0x19*-0xef+0x3c7b*0x1;_0x3815a2<_0xadb213['length'];_0x3815a2++)_0x47e783[_0x3815a2]=new Hp(),_0x47e783[_0x3815a2]['meshes']=_0xadb213[_0x3815a2];n2(_0x213eb7,_0x47e783,_0xa51359);const _0x307bcd=new SD();return _0x307bcd['gltf']=_0x213eb7,_0x307bcd['nodes']=_0x581648,_0x307bcd['scenes']=_0x337f7c,_0x307bcd['animations']=_0x3cc3d4,_0x307bcd['textures']=_0x2704a3,_0x307bcd['materials']=_0xf2e56f,_0x307bcd['variants']=_0x59aaeb,_0x307bcd['meshVarian'+'ts']=_0x2435aa,_0x307bcd['meshDefaul'+'tMaterials']=_0x552823,_0x307bcd['renders']=_0x47e783,_0x307bcd['skins']=_0xa51359,_0x307bcd['lights']=_0x49c608,_0x307bcd['cameras']=_0x2428b0,_0x307bcd['nodeInstan'+'cingMap']=_0x347835,_0x284674&&_0x284674(_0x213eb7,_0x307bcd),await Promise['all'](_0x14ea69),_0x307bcd;},o2=(_0x4fbbdf,_0xbcc308)=>{const _0x64d71d=(_0x342fe5,_0x581e61)=>{switch(_0x342fe5){case-0x1897+-0x21ec+0x6083:return de;case 0x40*-0x89+-0x1228+-0x607*-0xf:return st;case 0x292b+-0x1c95+0x3*0x8ce:return fc;case-0x549+-0x2569+0x1*0x51b3:return mc;case 0x2bf*-0x11+0x1d11+-0x38a0*-0x1:return pc;case-0x1*-0x239b+0x1493+0x1*-0x112b:return nn;default:return _0x581e61;}},_0x5c645d=(_0x9307cd,_0x2f98c2)=>{switch(_0x9307cd){case 0x1431*-0x6+0xae05*0x1+0x4c50:return ae;case 0x920e*0x1+0x10e7*-0x2+0x4cc*0x4:return Of;case-0x373*-0x1+0x2*0xcce+0xbf2:return tt;default:return _0x2f98c2;}};_0x4fbbdf&&(_0xbcc308=_0xbcc308??{},_0x4fbbdf['minFilter']=_0x64d71d(_0xbcc308['minFilter'],nn),_0x4fbbdf['magFilter']=_0x64d71d(_0xbcc308['magFilter'],st),_0x4fbbdf['addressU']=_0x5c645d(_0xbcc308['wrapS'],tt),_0x4fbbdf['addressV']=_0x5c645d(_0xbcc308['wrapT'],tt));};let l2=0x20ad+0x1*0x23ae+-0x445b;const vf=_0x58f7e0=>{var _0x3035ff,_0x2ba069,_0x3211ad,_0x3dfed1;return((_0x2ba069=(_0x3035ff=_0x58f7e0['extensions'])==null?void(-0x1eb7*0x1+0x261e+-0x767):_0x3035ff['KHR_textur'+'e_basisu'])==null?void(0x3*-0x4eb+-0x617+0x14d8):_0x2ba069['source'])??((_0x3dfed1=(_0x3211ad=_0x58f7e0['extensions'])==null?void(0x1bca*-0x1+-0x179f*0x1+0x3369):_0x3211ad['EXT_textur'+'e_webp'])==null?void(-0x4c2+0x38b*0x3+0x1*-0x5df):_0x3dfed1['source'])??_0x58f7e0['source'];},h2=(_0x5083fe,_0x3e0713,_0x14b43c,_0x4342fd,_0x59d713)=>{var _0x5754b2,_0x521481,_0x36647a;if(!_0x5083fe['images']||_0x5083fe['images']['length']===-0x195b+0x2626+-0xccb)return[];const _0x2c3db9=(_0x5754b2=_0x59d713==null?void(-0x32*0x4a+-0x1352+0x21c6):_0x59d713['image'])==null?void(-0x1f1*-0x7+-0x55*-0x36+-0x1f85):_0x5754b2['preprocess'],_0x2df80d=(_0x521481=_0x59d713==null?void(-0x22b2*0x1+-0x707+0x29b9):_0x59d713['image'])==null?void(0x1975+0x19cc+-0x3341):_0x521481['processAsy'+'nc'],_0x2c7893=(_0x36647a=_0x59d713==null?void(0x2*-0x11a7+-0x2*-0x1336+-0x31e):_0x59d713['image'])==null?void(0x2518*-0x1+0x22ae+0x26a):_0x36647a['postproces'+'s'],_0x17dda5={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x1c0be3=_0x5c04d9=>{const _0x40554f=new Set();return _0x5c04d9['hasOwnProp'+'erty']('materials')&&_0x5c04d9['materials']['forEach'](_0x3d490f=>{if(_0x3d490f['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x217766=_0x3d490f['pbrMetalli'+'cRoughness'];if(_0x217766['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0xdc22ad=_0x5c04d9['textures'][_0x217766['baseColorT'+'exture']['index']];_0x40554f['add'](vf(_0xdc22ad));}}if(_0x3d490f['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x58a2e3=_0x5c04d9['textures'][_0x3d490f['emissiveTe'+'xture']['index']];_0x40554f['add'](vf(_0x58a2e3));}}),_0x40554f;},_0x245476=(_0x2fd4ec,_0x3876e6,_0x4f0063,_0x4c904b,_0x3f1d5e,_0x2a4fd1)=>new Promise((_0x2880b4,_0x250446)=>{const _0x2e0044=_0x57a9e4=>{const _0x5542f0=(_0x2fd4ec['name']||'gltf-textu'+'re')+'-'+l2++,_0x1b44f5={'url':_0x3876e6||_0x5542f0};if(_0x57a9e4&&(_0x1b44f5['contents']=_0x57a9e4['slice'](0x726+-0x2709+0x1fe3)['buffer']),_0x4c904b){const _0x2d0349=_0x17dda5[_0x4c904b];_0x2d0349&&(_0x1b44f5['filename']=_0x1b44f5['url']+'.'+_0x2d0349);}const _0x3f82a3={'srgb':_0x2a4fd1},_0x48c9ab=new le(_0x5542f0,'texture',_0x1b44f5,_0x3f82a3,_0x3f1d5e);_0x48c9ab['on']('load',_0x19f7a4=>_0x2880b4(_0x19f7a4)),_0x48c9ab['on']('error',_0x36c3bd=>_0x250446(_0x36c3bd)),_0x4342fd['add'](_0x48c9ab),_0x4342fd['load'](_0x48c9ab);};_0x4f0063?_0x4f0063['then'](_0x311f46=>_0x2e0044(_0x311f46)):_0x2e0044(null);}),_0x741872=_0x1c0be3(_0x5083fe);return _0x5083fe['images']['map']((_0xb091d2,_0x57d7ec)=>{_0x2c3db9&&_0x2c3db9(_0xb091d2);let _0x181beb;return _0x2df80d?_0x181beb=new Promise((_0x44e863,_0x2fba3c)=>{_0x2df80d(_0xb091d2,(_0x41893d,_0x28df05)=>{_0x41893d?_0x2fba3c(_0x41893d):_0x44e863(_0x28df05);});}):_0x181beb=new Promise(_0x2b8652=>{_0x2b8652(null);}),_0x181beb=_0x181beb['then'](_0x5eb938=>{const _0x113a5d=_0x741872['has'](_0x57d7ec);return _0x5eb938||(_0xb091d2['hasOwnProp'+'erty']('uri')?Rx(_0xb091d2['uri'])?_0x245476(_0xb091d2,_0xb091d2['uri'],null,vD(_0xb091d2['uri']),null,_0x113a5d):_0x245476(_0xb091d2,Da['test'](_0xb091d2['uri'])?_0xb091d2['uri']:fe['join'](_0x14b43c,_0xb091d2['uri']),null,null,{'crossOrigin':'anonymous'},_0x113a5d):_0xb091d2['hasOwnProp'+'erty']('bufferView')&&_0xb091d2['hasOwnProp'+'erty']('mimeType')?_0x245476(_0xb091d2,null,_0x3e0713[_0xb091d2['bufferView']],_0xb091d2['mimeType'],null,_0x113a5d):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x57d7ec)));}),_0x2c7893&&(_0x181beb=_0x181beb['then'](_0xe6f00f=>(_0x2c7893(_0xb091d2,_0xe6f00f),_0xe6f00f))),_0x181beb;});},c2=(_0x1604ce,_0x438035,_0x43df2a)=>{var _0x143a02,_0x5a465b,_0x2aa0a9,_0x3727f0,_0xa7e394;if(!((_0x143a02=_0x1604ce==null?void(-0x15b*0x11+0x247+0x14c4):_0x1604ce['images'])!=null&&_0x143a02['length'])||!((_0x5a465b=_0x1604ce==null?void(-0x227+-0x10cd+0x12f4):_0x1604ce['textures'])!=null&&_0x5a465b['length']))return[];const _0x2234aa=(_0x2aa0a9=_0x43df2a==null?void(-0xfe0+0x19e4+-0xa04):_0x43df2a['texture'])==null?void(0x997*-0x2+-0x71*-0x3d+-0x7bf*0x1):_0x2aa0a9['preprocess'],_0x4d76cb=(_0x3727f0=_0x43df2a==null?void(0x2316+-0xc73*-0x1+0x2f89*-0x1):_0x43df2a['texture'])==null?void(-0x3d+0x1f7a+0x1f3d*-0x1):_0x3727f0['processAsy'+'nc'],_0x43a0ef=(_0xa7e394=_0x43df2a==null?void(-0xe9*-0x29+0x175*0x17+-0x46d4):_0x43df2a['texture'])==null?void(0x26cb+0x231f+-0x49ea):_0xa7e394['postproces'+'s'],_0x303c16=new Set();return _0x1604ce['textures']['map'](_0xa18885=>{_0x2234aa&&_0x2234aa(_0xa18885);let _0x11002e;return _0x4d76cb?_0x11002e=new Promise((_0x24c576,_0xcc003d)=>{_0x4d76cb(_0xa18885,_0x1604ce['images'],(_0x106094,_0x34279b)=>{_0x106094?_0xcc003d(_0x106094):_0x24c576(_0x34279b);});}):_0x11002e=new Promise(_0x2cebd5=>{_0x2cebd5(null);}),_0x11002e=_0x11002e['then'](_0x1a1c88=>{_0x1a1c88=_0x1a1c88??vf(_0xa18885);const _0x5a3360=_0x303c16['has'](_0x1a1c88);return _0x303c16['add'](_0x1a1c88),_0x438035[_0x1a1c88]['then'](_0x5ecf8a=>{const _0x49bc3d=_0x5a3360?MD(_0x5ecf8a):_0x5ecf8a;return o2(_0x49bc3d['resource'],(_0x1604ce['samplers']??[])[_0xa18885['sampler']]),_0x49bc3d;});}),_0x43a0ef&&(_0x11002e=_0x11002e['then'](_0x2c163e=>(_0x43a0ef(_0xa18885,_0x2c163e),_0x2c163e))),_0x11002e;});},d2=(_0x305c62,_0x2aa462,_0xa8cc21,_0x5188e4)=>{var _0x287f73,_0xb14c6f,_0x69c289;if(!_0x305c62['buffers']||_0x305c62['buffers']['length']===0xdd1+0x1*-0x24b+-0x5c3*0x2)return[];const _0xf76cd1=(_0x287f73=_0x5188e4==null?void(0x1493*-0x1+-0x524*-0x2+0xa4b):_0x5188e4['buffer'])==null?void(0x24ce+-0xbdf*-0x3+0x486b*-0x1):_0x287f73['preprocess'],_0x6352b4=(_0xb14c6f=_0x5188e4==null?void(0x9*-0x12b+0x1*-0xcc7+0x16*0x10f):_0x5188e4['buffer'])==null?void(0x40c*0x3+0x8*0x31f+-0x251c):_0xb14c6f['processAsy'+'nc'],_0x4396df=(_0x69c289=_0x5188e4==null?void(0x9f*0x7+-0xc77*0x1+-0x1*-0x81e):_0x5188e4['buffer'])==null?void(0x218f+-0xa2a+-0x1765):_0x69c289['postproces'+'s'];return _0x305c62['buffers']['map']((_0x2693d0,_0x590b80)=>{_0xf76cd1&&_0xf76cd1(_0x2693d0);let _0x12426f;return _0x6352b4?_0x12426f=new Promise((_0x3db4ab,_0x61dc11)=>{_0x6352b4(_0x2693d0,(_0xb36ac1,_0x3fd140)=>{_0xb36ac1?_0x61dc11(_0xb36ac1):_0x3db4ab(_0x3fd140);});}):_0x12426f=new Promise(_0x1d5c38=>{_0x1d5c38(null);}),_0x12426f=_0x12426f['then'](_0x33e1ad=>{if(_0x33e1ad)return _0x33e1ad;if(_0x2693d0['hasOwnProp'+'erty']('uri')){if(Rx(_0x2693d0['uri'])){const _0x4fdace=atob(_0x2693d0['uri']['split'](',')[-0xb95+0x3a*-0x81+0x10*0x28d]),_0x37e192=new Uint8Array(_0x4fdace['length']);for(let _0x22308c=-0x12*-0x17e+-0x23+-0x1ab9;_0x22308c<_0x4fdace['length'];_0x22308c++)_0x37e192[_0x22308c]=_0x4fdace['charCodeAt'](_0x22308c);return _0x37e192;}return new Promise((_0x5db09c,_0x15c81b)=>{$e['get'](Da['test'](_0x2693d0['uri'])?_0x2693d0['uri']:fe['join'](_0xa8cc21,_0x2693d0['uri']),{'cache':!(-0x11cf+-0x1*-0x9b3+0x81c),'responseType':'arraybuffe'+'r','retry':!(-0x1*-0xe1f+0x1f60+0xf2a*-0x3)},(_0x5e8795,_0x3b3f86)=>{_0x5e8795?_0x15c81b(_0x5e8795):_0x5db09c(new Uint8Array(_0x3b3f86));});});}return _0x2aa462;}),_0x4396df&&(_0x12426f=_0x12426f['then'](_0x25d562=>(_0x4396df(_0x305c62['buffers'][_0x590b80],_0x25d562),_0x25d562))),_0x12426f;});},u2=(_0x39c3f9,_0x37b3fc)=>{const _0x2f3f1e=JSON['parse']((_0x15b4ef=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x15b4ef);let _0x4801aa='';for(let _0x5a03f0=-0x1a82+-0x15*-0x26+-0xc*-0x1f3;_0x5a03f0<_0x15b4ef['length'];_0x5a03f0++)_0x4801aa+=String['fromCharCo'+'de'](_0x15b4ef[_0x5a03f0]);return decodeURIComponent(escape(_0x4801aa));})(_0x39c3f9));if(_0x2f3f1e['asset']&&_0x2f3f1e['asset']['version']&&parseFloat(_0x2f3f1e['asset']['version'])<0xc48+0x6cc+-0x1312){_0x37b3fc('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x2f3f1e['asset']['version']+'\x27.');return;}_0x37b3fc(null,_0x2f3f1e);},f2=(_0xcdf82d,_0x541d9d)=>{const _0x2f6388=_0xcdf82d instanceof ArrayBuffer?new DataView(_0xcdf82d):new DataView(_0xcdf82d['buffer'],_0xcdf82d['byteOffset'],_0xcdf82d['byteLength']),_0x49d731=_0x2f6388['getUint32'](0x1c3*-0x3+0x6*0x5de+-0x1deb,!(0x839+-0x61+-0x8*0xfb)),_0xe7411=_0x2f6388['getUint32'](0x1fa2*0x1+0x142e+0xa*-0x52e,!(0x11*-0x1bb+-0x170*-0x6+0x14cb)),_0x5d33c2=_0x2f6388['getUint32'](0x11c7+0x16d3+-0x2892,!(0x5*-0x257+0x2313+0x2*-0xbb0));if(_0x49d731!==0x9*-0x9aa4ae5+0x2a76cb5*0x8+0x8815a8cc){_0x541d9d('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x49d731['toString'](-0x33*0x6+-0x16ac+0x17ee));return;}if(_0xe7411!==-0x219d+-0xfac+0x314b){_0x541d9d('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0xe7411);return;}if(_0x5d33c2<=-0x81f+0x22d1+-0x1ab2||_0x5d33c2>_0x2f6388['byteLength']){_0x541d9d('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x5d33c2);return;}const _0x5e0e73=[];let _0x3ee441=0x3*0x19f+-0x1*0x268c+0x21bb;for(;_0x3ee441<_0x5d33c2;){const _0x566f9a=_0x2f6388['getUint32'](_0x3ee441,!(0x42a+0x1ba0+-0x1fca));_0x3ee441+_0x566f9a+(-0x9aa+-0x18ce+-0x30*-0xb8)>_0x2f6388['byteLength']&&_0x541d9d('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x566f9a);const _0x5654ae=_0x2f6388['getUint32'](_0x3ee441+(0x8*-0x3+0x11f2*0x1+-0x11d6),!(-0xf88+0x16b9+-0x107*0x7)),_0x2fae8e=new Uint8Array(_0x2f6388['buffer'],_0x2f6388['byteOffset']+_0x3ee441+(-0x1320+0x262b*0x1+-0x1*0x1303),_0x566f9a);_0x5e0e73['push']({'length':_0x566f9a,'type':_0x5654ae,'data':_0x2fae8e}),_0x3ee441+=_0x566f9a+(0x3*-0xa4f+0xc4b+0x12aa);}if(_0x5e0e73['length']!==-0x2497+-0x26f5+0x3*0x192f&&_0x5e0e73['length']!==0x1de+0x423*0x1+-0x5ff){_0x541d9d('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x5e0e73[0xf3f+0x1e26+0x2d65*-0x1]['type']!==0x5b573*0x1555+0x340d8f*-0x1c4+0x363*0xe4d3d){_0x541d9d('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x5e0e73[-0x8*0x12e+0x1c07+0x1297*-0x1]['type']['toString'](-0x481*-0x3+0x1ef3+0x1*-0x2c66));return;}if(_0x5e0e73['length']>0x182f+0x3*0x638+-0x2ad6&&_0x5e0e73[0x15d3+-0x7f7*0x1+-0xddb]['type']!==0x8b112f+-0xa84cd+-0x324320){_0x541d9d('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x5e0e73[-0x1*-0x1e82+-0x5cb*-0x2+0x1af*-0x19]['type']['toString'](0xba9+0x2*-0xf21+0x12a9));return;}_0x541d9d(null,{'gltfChunk':_0x5e0e73[-0xc4e+-0xb5*0x5+0xfd7]['data'],'binaryChunk':_0x5e0e73['length']===-0x2028+-0x1e6d+0x3e97?_0x5e0e73[0xbcc+-0x76a*0x5+-0x1947*-0x1]['data']:null});},p2=(_0x1719b7,_0x2f89dd,_0x537b2e)=>{const _0x25d331=()=>{const _0xba8cfd=new Uint8Array(_0x2f89dd);return _0xba8cfd[0x23b+0x2337*-0x1+0x20fc]===0x229d+0x12b*0xd+0x57d*-0x9&&_0xba8cfd[-0x2282+-0x6b2+0xb*0x3bf]===0x1cd+-0x1616*-0x1+-0x1777&&_0xba8cfd[0x1701+0x44c+-0x1*0x1b4b]===0x1*-0x78d+-0x1d9+0x9ba&&_0xba8cfd[0x1008+-0x603*-0x4+-0x2811]===-0x4c2+-0x4*0x434+0x15d8;};_0x1719b7&&_0x1719b7['toLowerCas'+'e']()['endsWith']('.glb')||_0x25d331()?f2(_0x2f89dd,_0x537b2e):_0x537b2e(null,{'gltfChunk':_0x2f89dd,'binaryChunk':null});},m2=(_0x54d34d,_0x3ee66d,_0x577fb9)=>{var _0x178ad2,_0x16e8f8,_0x5587cd,_0x2ef26f;const _0x15c72f=[],_0x2de5d3=(_0x178ad2=_0x577fb9==null?void(-0xb75*0x2+0x905*-0x1+-0x4b*-0x6d):_0x577fb9['bufferView'])==null?void(-0x2210+-0x1*-0xba5+0x166b):_0x178ad2['preprocess'],_0x2b7474=(_0x16e8f8=_0x577fb9==null?void(0x14*-0x169+-0x6a*0x54+0x3efc):_0x577fb9['bufferView'])==null?void(-0xf2a*-0x1+-0x11bc+0x292):_0x16e8f8['processAsy'+'nc'],_0x163058=(_0x5587cd=_0x577fb9==null?void(-0x1565*-0x1+-0x7e2+-0xd83):_0x577fb9['bufferView'])==null?void(0xed8+0x7c3*0x5+-0x35a7):_0x5587cd['postproces'+'s'];if(!((_0x2ef26f=_0x54d34d['bufferView'+'s'])!=null&&_0x2ef26f['length']))return _0x15c72f;for(let _0xf171db=0x1834+-0xab8+-0xd7c;_0xf171db<_0x54d34d['bufferView'+'s']['length'];++_0xf171db){const _0x50178a=_0x54d34d['bufferView'+'s'][_0xf171db];_0x2de5d3&&_0x2de5d3(_0x50178a);let _0x2f3905;_0x2b7474?_0x2f3905=new Promise((_0x155d42,_0x2bbac6)=>{_0x2b7474(_0x50178a,_0x3ee66d,(_0x59381b,_0x3ee745)=>{_0x59381b?_0x2bbac6(_0x59381b):_0x155d42(_0x3ee745);});}):_0x2f3905=new Promise(_0xa2f7e1=>{_0xa2f7e1(null);}),_0x2f3905=_0x2f3905['then'](_0x4dc8b0=>_0x4dc8b0||_0x3ee66d[_0x50178a['buffer']]['then'](_0x596560=>new Uint8Array(_0x596560['buffer'],_0x596560['byteOffset']+(_0x50178a['byteOffset']||-0x1818+-0x28f+0x1*0x1aa7),_0x50178a['byteLength']))),_0x50178a['hasOwnProp'+'erty']('byteStride')&&(_0x2f3905=_0x2f3905['then'](_0x40e5a2=>(_0x40e5a2['byteStride']=_0x50178a['byteStride'],_0x40e5a2))),_0x163058&&(_0x2f3905=_0x2f3905['then'](_0x593dad=>(_0x163058(_0x50178a,_0x593dad),_0x593dad))),_0x15c72f['push'](_0x2f3905);}return _0x15c72f;};class tc{static['parse'](_0x523c58,_0x3d7f4d,_0x1270af,_0x421bf8,_0x40dba3,_0x14fdc1,_0x50a6e1){p2(_0x523c58,_0x1270af,(_0xa3140b,_0x31a45b)=>{if(_0xa3140b){_0x50a6e1(_0xa3140b);return;}u2(_0x31a45b['gltfChunk'],(_0x465160,_0x5fc85a)=>{if(_0x465160){_0x50a6e1(_0x465160);return;}const _0xd81ace=d2(_0x5fc85a,_0x31a45b['binaryChun'+'k'],_0x3d7f4d,_0x14fdc1),_0x2a0a66=m2(_0x5fc85a,_0xd81ace,_0x14fdc1),_0x14209a=h2(_0x5fc85a,_0x2a0a66,_0x3d7f4d,_0x40dba3,_0x14fdc1),_0x164ff6=c2(_0x5fc85a,_0x14209a,_0x14fdc1);a2(_0x421bf8,_0x5fc85a,_0x2a0a66,_0x164ff6,_0x14fdc1)['then'](_0x186d22=>_0x50a6e1(null,_0x186d22))['catch'](_0x50247c=>_0x50a6e1(_0x50247c));});});}static['createDefa'+'ultMateria'+'l'](){return Dx({'name':'defaultGlb'+'Material'},[]);}}class _2 extends Ne{constructor(_0x35b091){super(_0x35b091,'animation'),this['device']=_0x35b091['graphicsDe'+'vice'],this['assets']=_0x35b091['assets'];}['load'](_0x438b5c,_0x33c49a,_0x238374){typeof _0x438b5c=='string'&&(_0x438b5c={'load':_0x438b5c,'original':_0x438b5c});const _0x4abbc0={'retry':this['maxRetries']>-0xfef+0x1*0x24e6+-0x14f7*0x1,'maxRetries':this['maxRetries']};(_0x438b5c['load']['startsWith']('blob:')||_0x438b5c['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x438b5c['original'])['toLowerCas'+'e']()==='.glb'?_0x4abbc0['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x4abbc0['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x438b5c['load'],_0x4abbc0,(_0x4af279,_0x495121)=>{_0x4af279?_0x33c49a('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x438b5c['original']+'\x20['+_0x4af279+']'):fe['getExtensi'+'on'](_0x438b5c['original'])['toLowerCas'+'e']()==='.glb'?tc['parse']('filename.g'+'lb','',_0x495121,this['device'],this['assets'],(_0x238374==null?void(0x1e24+-0x1ee+-0xe1b*0x2):_0x238374['options'])??{},(_0x310766,_0x3ce92b)=>{var _0x5de297;if(_0x310766)_0x33c49a(_0x310766);else{const _0x978465=_0x3ce92b['animations'];if((_0x5de297=_0x238374==null?void(0x20f9+-0x3ad*0x1+-0x1d4c):_0x238374['data'])!=null&&_0x5de297['events']){for(let _0xab4cf6=-0x987+0x13*-0x19f+0x2854;_0xab4cf6<_0x978465['length'];_0xab4cf6++)_0x978465[_0xab4cf6]['events']=new Y0(Object['values'](_0x238374['data']['events']));}_0x3ce92b['destroy'](),_0x33c49a(null,_0x978465);}}):_0x33c49a(null,this['_parseAnim'+'ationV'+_0x495121['animation']['version']](_0x495121));});}['open'](_0xfd58c8,_0x236936,_0x508793){return _0x236936;}['_parseAnim'+'ationV3'](_0x8c20b8){const _0x28d599=_0x8c20b8['animation'],_0x1741eb=new k_();_0x1741eb['name']=_0x28d599['name'],_0x1741eb['duration']=_0x28d599['duration'];for(let _0x3e754e=-0x3af+0x1*-0x5c1+0x970;_0x3e754e<_0x28d599['nodes']['length'];_0x3e754e++){const _0x51efa2=new O_(),_0x1c1676=_0x28d599['nodes'][_0x3e754e];_0x51efa2['_name']=_0x1c1676['name'];for(let _0x4fc05d=-0x14*-0xa3+0x1*0x2493+-0x314f;_0x4fc05d<_0x1c1676['keys']['length'];_0x4fc05d++){const _0x5c45ee=_0x1c1676['keys'][_0x4fc05d],_0x1a8c6c=_0x5c45ee['time'],_0x114078=_0x5c45ee['pos'],_0x4d79f2=_0x5c45ee['rot'],_0x2755de=_0x5c45ee['scale'],_0x5da6d5=new T(_0x114078[0x86b*0x1+0xda+0x317*-0x3],_0x114078[0x3*0x113+-0x5f7+0x2bf],_0x114078[-0x44d*0x9+0x21a8+0x50f]),_0x4588df=new se()['setFromEul'+'erAngles'](_0x4d79f2[0x1d6+-0x4a+-0x12*0x16],_0x4d79f2[-0x2409+-0x1b84+0x65b*0xa],_0x4d79f2[0x881+0x638*-0x4+0x1061]),_0x1d0aed=new T(_0x2755de[-0xff4*0x1+0x1c*0x15e+-0x1654],_0x2755de[-0x253c+0x215d+-0x3e*-0x10],_0x2755de[0x1c03+-0x14b+-0x1ab6]),_0x56b23e=new F_(_0x1a8c6c,_0x5da6d5,_0x4588df,_0x1d0aed);_0x51efa2['_keys']['push'](_0x56b23e);}_0x1741eb['addNode'](_0x51efa2);}return _0x1741eb;}['_parseAnim'+'ationV4'](_0x2a1e53){const _0x1de1e0=_0x2a1e53['animation'],_0x327b69=new k_();_0x327b69['name']=_0x1de1e0['name'],_0x327b69['duration']=_0x1de1e0['duration'];for(let _0x39b886=0x14ea*-0x1+-0x349+-0x7*-0x375;_0x39b886<_0x1de1e0['nodes']['length'];_0x39b886++){const _0x30360c=new O_(),_0x27c9e8=_0x1de1e0['nodes'][_0x39b886];_0x30360c['_name']=_0x27c9e8['name'];const _0xfe23cc=_0x27c9e8['defaults']['p'],_0x54d77c=_0x27c9e8['defaults']['r'],_0x73919c=_0x27c9e8['defaults']['s'];for(let _0x2d3570=-0x1bf7+0x5*-0xb3+0x1f76;_0x2d3570<_0x27c9e8['keys']['length'];_0x2d3570++){const _0x391f88=_0x27c9e8['keys'][_0x2d3570],_0x2a9054=_0x391f88['t'],_0x388500=_0xfe23cc||_0x391f88['p'],_0x641058=_0x54d77c||_0x391f88['r'],_0x1c641c=_0x73919c||_0x391f88['s'],_0x240f9d=new T(_0x388500[-0x183e+0x1ff*0x7+-0xb*-0xef],_0x388500[-0x117*-0xb+0x1b+-0xc17],_0x388500[0x3*0x530+0xa41+-0x19cf*0x1]),_0x3c5e2d=new se()['setFromEul'+'erAngles'](_0x641058[0x229b+0x13c5+-0x8*0x6cc],_0x641058[-0x1152+-0x120+-0x1*-0x1273],_0x641058[0x5b*0x1f+0x23ba+0x1*-0x2ebd]),_0x3afae8=new T(_0x1c641c[-0x7c3*0x5+0x26a3+0x2*0x16],_0x1c641c[0x171+0xa59+0xbc9*-0x1],_0x1c641c[-0x24d+-0x1b5+0x404]),_0x4f95d8=new F_(_0x2a9054,_0x240f9d,_0x3c5e2d,_0x3afae8);_0x30360c['_keys']['push'](_0x4f95d8);}_0x327b69['addNode'](_0x30360c);}return _0x327b69;}}class g2 extends Ne{constructor(_0x143b2c){super(_0x143b2c,'animclip');}['load'](_0x3e9b5e,_0x5ef985){typeof _0x3e9b5e=='string'&&(_0x3e9b5e={'load':_0x3e9b5e,'original':_0x3e9b5e});const _0xe8627b={'retry':this['maxRetries']>-0xf*-0x65+0xd1*0x1f+-0x1*0x1f3a,'maxRetries':this['maxRetries']};_0x3e9b5e['load']['startsWith']('blob:')&&(_0xe8627b['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x3e9b5e['load'],_0xe8627b,(_0x418085,_0x3bfe1b)=>{_0x418085?_0x5ef985('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x3e9b5e['original']+'\x20['+_0x418085+']'):_0x5ef985(null,_0x3bfe1b);});}['open'](_0x159dbd,_0x2e2ef5){const _0x447468=_0x2e2ef5['name'],_0x8d8899=_0x2e2ef5['duration'],_0x2908dc=_0x2e2ef5['inputs']['map'](_0x5ecbe0=>new Jh(-0x1942+0x776+0x11cd,_0x5ecbe0)),_0x1e8dc8=_0x2e2ef5['outputs']['map'](_0x51b69e=>new Jh(_0x51b69e['components'],_0x51b69e['data'])),_0x3baeed=_0x2e2ef5['curves']['map'](_0x5768a5=>new Px([_0x5768a5['path']],_0x5768a5['inputIndex'],_0x5768a5['outputInde'+'x'],_0x5768a5['interpolat'+'ion']));return new Ri(_0x447468,_0x8d8899,_0x2908dc,_0x1e8dc8,_0x3baeed);}}class y2 extends Ne{constructor(_0x5f48f9){super(_0x5f48f9,'animstateg'+'raph');}['load'](_0x3128a0,_0x489b2f){typeof _0x3128a0=='string'&&(_0x3128a0={'load':_0x3128a0,'original':_0x3128a0});const _0x37e075={'retry':this['maxRetries']>0x1b03+-0x3*0x29f+-0x1326*0x1,'maxRetries':this['maxRetries']};_0x3128a0['load']['startsWith']('blob:')&&(_0x37e075['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x3128a0['load'],_0x37e075,(_0x45426d,_0x3c3569)=>{_0x45426d?_0x489b2f('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x3128a0['original']+'\x20['+_0x45426d+']'):_0x489b2f(null,_0x3c3569);});}['open'](_0x31719e,_0x7d506f){return new mh(_0x7d506f);}}const Qd=(function(){if(typeof window>'u')return!(-0x26aa+0x210a*0x1+0x5a1);const _0x47e4f5=window['navigator']['userAgent'],_0x14fd9c=_0x47e4f5['indexOf']('MSIE\x20');if(_0x14fd9c>-0x163b+-0x1*0x2255+0x3890)return parseInt(_0x47e4f5['substring'](_0x14fd9c+(0x1*0x1a42+0x1b63+-0x8f*0x60),_0x47e4f5['indexOf']('.',_0x14fd9c)),-0x1c38+0x1*-0x544+-0xe*-0x265);if(_0x47e4f5['indexOf']('Trident/')>0x1320+-0x10c4+0x97*-0x4){const _0x40e66d=_0x47e4f5['indexOf']('rv:');return parseInt(_0x47e4f5['substring'](_0x40e66d+(0x756*-0x3+0x3*0x32b+0xc84),_0x47e4f5['indexOf']('.',_0x40e66d)),-0x88b+0x4*-0x304+0x14a5);}return!(0x1e*0x28+0x266*-0x1+0x249*-0x1);}()),x2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class S2 extends Ne{constructor(_0x26d9fd){super(_0x26d9fd,'audio'),this['manager']=_0x26d9fd['soundManag'+'er'],v['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x5934a5){const _0x5b2139=fe['getExtensi'+'on'](_0x5934a5);return x2['indexOf'](_0x5b2139)>-(-0x7*0x57f+-0x187b+0x3ef5)||_0x5934a5['startsWith']('blob:');}['load'](_0x57aa32,_0x24954d){typeof _0x57aa32=='string'&&(_0x57aa32={'load':_0x57aa32,'original':_0x57aa32});const _0x14e012=function(_0x3630b6){_0x24954d(null,new Bb(_0x3630b6));},_0xffe208=function(_0x319362){let _0x5eefa7='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x57aa32['original'];_0x319362&&(_0x5eefa7+=':\x20'+(_0x319362['message']||_0x319362)),console['warn'](_0x5eefa7),_0x24954d(_0x5eefa7);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x57aa32['original'])){_0xffe208('Audio\x20form'+'at\x20for\x20'+_0x57aa32['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x57aa32['load'],_0x14e012,_0xffe208);}else _0xffe208(null);}['_createSou'+'nd'](_0x5b725f,_0x27a72f,_0x266129){if(Li()){const _0x52a4ef=this['manager'];if(!_0x52a4ef['context']){_0x266129('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x2dc3cd={'retry':this['maxRetries']>0x1418+0x5*0x2bb+-0x21bf,'maxRetries':this['maxRetries']};(_0x5b725f['startsWith']('blob:')||_0x5b725f['startsWith']('data:'))&&(_0x2dc3cd['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),$e['get'](_0x5b725f,_0x2dc3cd,(_0x573f6a,_0x2d4caf)=>{if(_0x573f6a){_0x266129(_0x573f6a);return;}_0x52a4ef['context']['decodeAudi'+'oData'](_0x2d4caf,_0x27a72f,_0x266129);});}else{let _0xae7866=null;try{_0xae7866=new Audio();}catch{_0x266129('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Qd&&document['body']['appendChil'+'d'](_0xae7866);const _0x120b48=function(){_0xae7866['removeEven'+'tListener']('canplaythr'+'ough',_0x120b48),Qd&&document['body']['removeChil'+'d'](_0xae7866),_0x27a72f(_0xae7866);};_0xae7866['onerror']=function(){_0xae7866['onerror']=null,Qd&&document['body']['removeChil'+'d'](_0xae7866),_0x266129();},_0xae7866['addEventLi'+'stener']('canplaythr'+'ough',_0x120b48),_0xae7866['src']=_0x5b725f;}}}class v2 extends Ne{constructor(_0x2aa9a2){super(_0x2aa9a2,'binary');}['load'](_0x190e38,_0x326746){typeof _0x190e38=='string'&&(_0x190e38={'load':_0x190e38,'original':_0x190e38}),$e['get'](_0x190e38['load'],{'responseType':ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x1*0x74+0x25fc+-0x962*0x4,'maxRetries':this['maxRetries']},(_0x926acd,_0x1216cc)=>{_0x926acd?_0x326746('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x190e38['original']+'\x20['+_0x926acd+']'):_0x326746(null,_0x1216cc);});}['openBinary'](_0x5d1495){return _0x5d1495['buffer'];}}class tr{constructor(_0x3fe590,_0x31a63b,_0x1b4713,_0x54abef){const _0x1fb284=function(_0x2f3499,_0x5c0f8c,_0x15e396){const _0x4b6a75=tr['createAsse'+'t'](_0x31a63b['name'],_0x2f3499,_0x5c0f8c,_0x15e396);return _0x1b4713['add'](_0x4b6a75),_0x4b6a75;},_0x767eda=[];for(let _0x488463=-0x18a1+-0x17b9*0x1+0x305a;_0x488463<_0x3fe590['renders']['length'];++_0x488463)_0x767eda['push'](_0x1fb284('render',_0x3fe590['renders'][_0x488463],_0x488463));const _0x2481f0=[];for(let _0x1be891=-0x9e*0xc+-0xaf0+0x24b*0x8;_0x1be891<_0x3fe590['materials']['length'];++_0x1be891)_0x2481f0['push'](_0x1fb284('material',_0x3fe590['materials'][_0x1be891],_0x1be891));const _0x535368=[];for(let _0x48491b=0x3d*0x1b+-0x2*-0x5fe+0xcd*-0x17;_0x48491b<_0x3fe590['animations']['length'];++_0x48491b)_0x535368['push'](_0x1fb284('animation',_0x3fe590['animations'][_0x48491b],_0x48491b));this['data']=_0x3fe590,this['_model']=null,this['_assetName']=_0x31a63b['name'],this['_assets']=_0x1b4713,this['_defaultMa'+'terial']=_0x54abef,this['renders']=_0x767eda,this['materials']=_0x2481f0,this['textures']=_0x3fe590['textures'],this['animations']=_0x535368;}get['model'](){if(!this['_model']){const _0xb9b837=tr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x5b7361=tr['createAsse'+'t'](this['_assetName'],'model',_0xb9b837,-0x1c9a+-0x1af9+-0x29*-0x15b);this['_assets']['add'](_0x5b7361),this['_model']=_0x5b7361;}return this['_model'];}static['createAsse'+'t'](_0x415064,_0x408d63,_0xfed54a,_0x373889){const _0x469c32=new le(_0x415064+'/'+_0x408d63+'/'+_0x373889,_0x408d63,{'url':''});return _0x469c32['resource']=_0xfed54a,_0x469c32['loaded']=!(-0xb68+-0x22a7+0x2e0f),_0x469c32;}['instantiat'+'eModelEnti'+'ty'](_0x2d1604){const _0x16013e=new We();return _0x16013e['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x2d1604)),_0x16013e;}['instantiat'+'eRenderEnt'+'ity'](_0x4af8e2){const _0x375e99=this['_defaultMa'+'terial'],_0x314693=[],_0x214dfd=function(_0x2242da,_0x42e842,_0x1b25fe,_0x1bc0cd,_0x198cf2,_0x2ccf33,_0x455eb2,_0x4b17c4){const _0x1b62f7=_0x198cf2[_0x1b25fe['id']],_0x1a6b3d=_0x1b62f7===void(0x21e1+0x389*0x8+-0x3e29)?_0x375e99:_0x1bc0cd[_0x1b62f7],_0x42077e=new Le(_0x1b25fe,_0x1a6b3d);_0x1b25fe['morph']&&(_0x42077e['morphInsta'+'nce']=new fn(_0x1b25fe['morph'])),_0x455eb2['hasOwnProp'+'erty']('skin')&&_0x314693['push']({'meshInstance':_0x42077e,'rootBone':_0x2242da,'entity':_0x42e842});const _0x5f27be=_0x4b17c4['get'](_0x455eb2);if(_0x5f27be){const _0x2e76c9=_0x5f27be['matrices'],_0x3dd174=Et['getDefault'+'Instancing'+'Format'](_0x1b25fe['device']),_0x7c55d9=new os(_0x1b25fe['device'],_0x3dd174,_0x2e76c9['length']/(-0xac6+-0xac*-0x1+0xa2a),{'data':_0x2e76c9});_0x42077e['setInstanc'+'ing'](_0x7c55d9),_0x42077e['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x151a+0x982+0xb98);}return _0x42077e;},_0x4f3561=(_0x3f3846,_0x53361d,_0x230af8)=>{const _0x1a8896=new We();_0x53361d['_cloneInte'+'rnal'](_0x1a8896),_0x3f3846||(_0x3f3846=_0x1a8896);let _0x2cbe2f=null,_0x18110b=null;for(let _0x4b6fda=-0x4ea*-0x2+-0x1*-0xdab+-0x177f;_0x4b6fda<_0x230af8['nodes']['length'];_0x4b6fda++)if(_0x230af8['nodes'][_0x4b6fda]===_0x53361d){const _0x23c2c2=_0x230af8['gltf']['nodes'][_0x4b6fda];if(_0x23c2c2['hasOwnProp'+'erty']('mesh')){const _0x59d036=_0x230af8['renders'][_0x23c2c2['mesh']]['meshes'];_0x18110b=this['renders'][_0x23c2c2['mesh']];for(let _0x3e36d6=-0x636+0x1063*0x2+-0x1a90;_0x3e36d6<_0x59d036['length'];_0x3e36d6++){const _0x4fd18c=_0x59d036[_0x3e36d6];if(_0x4fd18c){const _0x2e212d=_0x214dfd(_0x3f3846,_0x1a8896,_0x4fd18c,_0x230af8['materials'],_0x230af8['meshDefaul'+'tMaterials'],_0x230af8['skins'],_0x23c2c2,_0x230af8['nodeInstan'+'cingMap']);_0x2cbe2f||(_0x2cbe2f=[]),_0x2cbe2f['push'](_0x2e212d);}}}if(_0x230af8['lights']){const _0x5d3937=_0x230af8['lights']['get'](_0x23c2c2);_0x5d3937&&_0x1a8896['addChild'](_0x5d3937['clone']());}if(_0x230af8['cameras']){const _0x3c421f=_0x230af8['cameras']['get'](_0x23c2c2);_0x3c421f&&_0x3c421f['camera']['system']['cloneCompo'+'nent'](_0x3c421f,_0x1a8896);}}_0x2cbe2f&&(_0x1a8896['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x2cbe2f},_0x4af8e2)),_0x1a8896['render']['assignAsse'+'t'](_0x18110b));const _0x42f5fe=_0x53361d['children'];for(let _0x38bc5f=0x1d*0x5f+0x2051*-0x1+0x1*0x158e;_0x38bc5f<_0x42f5fe['length'];_0x38bc5f++){const _0x4b13e8=_0x4f3561(_0x3f3846,_0x42f5fe[_0x38bc5f],_0x230af8);_0x1a8896['addChild'](_0x4b13e8);}return _0x1a8896;},_0x5d2ebf=[];for(const _0x417f35 of this['data']['scenes'])_0x5d2ebf['push'](_0x4f3561(null,_0x417f35,this['data']));return _0x314693['forEach'](_0x543569=>{_0x543569['meshInstan'+'ce']['skinInstan'+'ce']=Vo['createCach'+'edSkinInst'+'ance'](_0x543569['meshInstan'+'ce']['mesh']['skin'],_0x543569['rootBone'],_0x543569['entity']),_0x543569['meshInstan'+'ce']['node']['render']['rootBone']=_0x543569['rootBone'];}),tr['createScen'+'eHierarchy'](_0x5d2ebf,We);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x5ec854,_0x1c52e8){const _0x853ea1=_0x1c52e8?this['data']['variants'][_0x1c52e8]:null;if(_0x853ea1===void(0x1ab*-0xf+-0x1d8*0x2+0x1cb5)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1c52e8+('\x20exists\x20in'+'\x20resource'));return;}const _0x2c045a=_0x5ec854['findCompon'+'ents']('render');for(let _0x8da5d4=0x1324+0x14c1+-0x27e5;_0x8da5d4<_0x2c045a['length'];_0x8da5d4++){const _0x59a8ce=_0x2c045a[_0x8da5d4];this['_applyMate'+'rialVarian'+'t'](_0x853ea1,_0x59a8ce['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0xa79272,_0x1095dd){const _0x32503e=_0x1095dd?this['data']['variants'][_0x1095dd]:null;if(_0x32503e===void(-0x671+0x10*-0x86+0xed1)){v['warn']('No\x20variant'+'\x20named\x20'+_0x1095dd+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x32503e,_0xa79272);}['_applyMate'+'rialVarian'+'t'](_0x231e16,_0xeac8d4){_0xeac8d4['forEach'](_0x5a1bf4=>{if(_0x231e16===null)_0x5a1bf4['material']=this['_defaultMa'+'terial'];else{const _0x1833dc=this['data']['meshVarian'+'ts'][_0x5a1bf4['mesh']['id']];_0x1833dc&&(_0x5a1bf4['material']=this['data']['materials'][_0x1833dc[_0x231e16]]);}v['assert'](_0x5a1bf4['material']);});}static['createScen'+'eHierarchy'](_0x316119,_0x27f70d){let _0x110c28=null;if(_0x316119['length']===-0x41b*0x3+0x12ce+-0x67c)_0x110c28=_0x316119[-0x1d36+0x2*0x8b1+0x2*0x5ea];else{_0x110c28=new _0x27f70d('SceneGroup');for(const _0xc8c3eb of _0x316119)_0x110c28['addChild'](_0xc8c3eb);}return _0x110c28;}static['createMode'+'l'](_0x32f1e0,_0xd30b56){const _0x8cdbc5=function(_0x15ba0f,_0x2850b1,_0x247e34,_0x4b43ee,_0x5decf3,_0x4f65c2,_0x3576a2){const _0x388854=_0x32f1e0['meshDefaul'+'tMaterials'][_0x2850b1['id']],_0x1b5c3a=_0x388854===void(0xeb0+0xb*-0x259+-0x1*-0xb23)?_0xd30b56:_0x5decf3[_0x388854],_0x402b21=new Le(_0x2850b1,_0x1b5c3a,_0x4f65c2);if(_0x2850b1['morph']){const _0x327bc5=new fn(_0x2850b1['morph']);_0x402b21['morphInsta'+'nce']=_0x327bc5,_0x15ba0f['morphInsta'+'nces']['push'](_0x327bc5);}if(_0x3576a2['hasOwnProp'+'erty']('skin')){const _0x2abc02=_0x3576a2['skin'],_0x3a1ccb=_0x247e34[_0x2abc02];_0x2850b1['skin']=_0x3a1ccb;const _0x2f7be9=_0x4b43ee[_0x2abc02];_0x402b21['skinInstan'+'ce']=_0x2f7be9,_0x15ba0f['skinInstan'+'ces']['push'](_0x2f7be9);}_0x15ba0f['meshInstan'+'ces']['push'](_0x402b21);},_0x3303d0=new Oi(),_0xd3dbd8=[];for(const _0x169ecd of _0x32f1e0['skins']){const _0x27bca5=new nl(_0x169ecd);_0x27bca5['bones']=_0x169ecd['bones'],_0xd3dbd8['push'](_0x27bca5);}_0x3303d0['graph']=tr['createScen'+'eHierarchy'](_0x32f1e0['scenes'],De);for(let _0x307a35=0x1c5*0x1+0x21*-0xbb+0x1656;_0x307a35<_0x32f1e0['nodes']['length'];_0x307a35++){const _0x584055=_0x32f1e0['nodes'][_0x307a35];if(_0x584055['root']===_0x3303d0['graph']){const _0x2643c9=_0x32f1e0['gltf']['nodes'][_0x307a35];if(_0x2643c9['hasOwnProp'+'erty']('mesh')){const _0x3f3053=_0x32f1e0['renders'][_0x2643c9['mesh']]['meshes'];for(let _0xe82def=-0x4*-0x978+0x1*-0x1beb+-0x9f5;_0xe82def<_0x3f3053['length'];_0xe82def++){const _0xbdb81e=_0x3f3053[_0xe82def];_0xbdb81e&&_0x8cdbc5(_0x3303d0,_0xbdb81e,_0x32f1e0['skins'],_0xd3dbd8,_0x32f1e0['materials'],_0x584055,_0x2643c9);}}}}return _0x3303d0;}['destroy'](){const _0x5a4fa6=this['_assets'],_0x424646=function(_0xaa56e2){_0x5a4fa6['remove'](_0xaa56e2),_0xaa56e2['unload']();},_0x52aba1=function(_0xdd9d55){_0xdd9d55['forEach'](_0xc64150=>{_0x424646(_0xc64150);});};this['animations']&&(_0x52aba1(this['animations']),this['animations']=null),this['textures']&&(_0x52aba1(this['textures']),this['textures']=null),this['materials']&&(_0x52aba1(this['materials']),this['materials']=null),this['renders']&&(_0x52aba1(this['renders']),this['renders']=null),this['_model']&&(_0x424646(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class b2{constructor(_0x1da504,_0x568aa7,_0x14b60c){this['_device']=_0x1da504,this['_assets']=_0x568aa7,this['_defaultMa'+'terial']=tc['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x14b60c;}['_getUrlWit'+'houtParams'](_0x443980){return _0x443980['indexOf']('?')>=-0x28*-0xc1+0x1698+-0x34c0?_0x443980['split']('?')[-0x12b6+-0x4*-0x5ab+-0x3f6]:_0x443980;}['load'](_0x3d31d9,_0xe11de5,_0x464657){le['fetchArray'+'Buffer'](_0x3d31d9['load'],(_0x42dff3,_0x486b73)=>{_0x42dff3?_0xe11de5(_0x42dff3):tc['parse'](this['_getUrlWit'+'houtParams'](_0x3d31d9['original']),fe['extractPat'+'h'](_0x3d31d9['load']),_0x486b73,this['_device'],_0x464657['registry'],_0x464657['options'],(_0x21d95b,_0x2a40f1)=>{_0x21d95b?_0xe11de5(_0x21d95b):_0xe11de5(null,new tr(_0x2a40f1,_0x464657,this['_assets'],this['_defaultMa'+'terial']));});},_0x464657,this['maxRetries']);}['open'](_0x11250e,_0xb2c20d,_0x5dee5c){return _0xb2c20d;}['patch'](_0x4fedc0,_0x252e15){}}class w2 extends Ne{constructor(_0x17ca45){super(_0x17ca45,'container'),this['glbContain'+'erParser']=new b2(_0x17ca45['graphicsDe'+'vice'],_0x17ca45['assets'],-0x20f1+0x6db+0x1a16),this['parsers']={};}set['maxRetries'](_0x3d7ed9){this['glbContain'+'erParser']['maxRetries']=_0x3d7ed9;for(const _0x553a30 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x553a30)&&(this['parsers'][_0x553a30]['maxRetries']=_0x3d7ed9);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x13f67b){return _0x13f67b['indexOf']('?')>=-0x1*-0x7bf+0x7a0+-0xf5f*0x1?_0x13f67b['split']('?')[-0x1f3d+-0x1*-0x11c2+0xd7b]:_0x13f67b;}['_getParser'](_0x23fec2){const _0x25462c=_0x23fec2?fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x23fec2))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x25462c]||this['glbContain'+'erParser'];}['load'](_0x4075c3,_0xab9378,_0x3d3fa2){typeof _0x4075c3=='string'&&(_0x4075c3={'load':_0x4075c3,'original':_0x4075c3}),this['_getParser'](_0x4075c3['original'])['load'](_0x4075c3,_0xab9378,_0x3d3fa2);}['open'](_0x244c3e,_0x1cdc75,_0x4a7369){return this['_getParser'](_0x244c3e)['open'](_0x244c3e,_0x1cdc75,_0x4a7369);}}class T2 extends Ne{constructor(_0x3a92c7){super(_0x3a92c7,'css'),c(this,'decoder',null);}['load'](_0x506ce1,_0x4f5d61){typeof _0x506ce1=='string'&&(_0x506ce1={'load':_0x506ce1,'original':_0x506ce1}),$e['get'](_0x506ce1['load'],{'retry':this['maxRetries']>0x520+-0x1*-0x38c+-0x8ac,'maxRetries':this['maxRetries']},(_0x1cf303,_0x478fc5)=>{_0x1cf303?_0x4f5d61('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x506ce1['original']+'\x20['+_0x1cf303+']'):_0x4f5d61(null,_0x478fc5);});}['openBinary'](_0x31ab0c){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x31ab0c);}}class A2 extends Ne{constructor(_0x31f1dd){super(_0x31f1dd,'cubemap'),this['_device']=_0x31f1dd['graphicsDe'+'vice'],this['_registry']=_0x31f1dd['assets'],this['_loader']=_0x31f1dd['loader'];}['load'](_0xad6824,_0x35130d,_0x5a5445){this['loadAssets'](_0x5a5445,_0x35130d);}['open'](_0x1f4c54,_0x360994,_0x78d072){return _0x78d072?_0x78d072['resource']:null;}['patch'](_0x55729c,_0x1ffd79){this['loadAssets'](_0x55729c,(_0x510805,_0x3d8f3f)=>{_0x510805&&(_0x1ffd79['fire']('error',_0x55729c),_0x1ffd79['fire']('error:'+_0x55729c['id'],_0x510805,_0x55729c),_0x55729c['fire']('error',_0x55729c));});}['getAssetId'+'s'](_0x41b9f0){const _0x25efcc=[];if(_0x25efcc[0xe36*0x1+-0x1cfb+0xec5]=_0x41b9f0['file'],(_0x41b9f0['loadFaces']||!_0x41b9f0['file'])&&_0x41b9f0['data']&&_0x41b9f0['data']['textures']){for(let _0x249d75=0xfd*0x9+0x2*-0x97+-0x7b7*0x1;_0x249d75<-0x4*0x1+0x1e46+0x81*-0x3c;++_0x249d75)_0x25efcc[_0x249d75+(0xdcf+0x8d5+-0x5f*0x3d)]=_0x41b9f0['data']['textures'][_0x249d75];}else _0x25efcc[-0x91c+0x1*-0x443+0x8*0x1ac]=_0x25efcc[-0x1af8+-0x13fb+0x2ef5*0x1]=_0x25efcc[0x23*0x63+-0x1066+0x2e0]=_0x25efcc[0x16b3+-0x161c+-0x3*0x31]=_0x25efcc[-0x251e+-0x19c5+0xf4*0x42]=_0x25efcc[-0x211d+-0x69e+0x27c1*0x1]=null;return _0x25efcc;}['compareAss'+'etIds'](_0x22471f,_0x45cef3){return _0x22471f&&_0x45cef3?parseInt(_0x22471f,-0x11fa+-0x10c8+-0x1166*-0x2)===_0x22471f||typeof _0x22471f=='string'?_0x22471f===_0x45cef3:_0x22471f['url']===_0x45cef3['url']:_0x22471f!==null==(_0x45cef3!==null);}['update'](_0x1dedbe,_0x89fe92,_0xe2f77e){const _0x4a3ea5=_0x1dedbe['data']||{},_0x180f31=_0x1dedbe['_handlerSt'+'ate']['assets'],_0x469e80=_0x1dedbe['_resources'];let _0x4519e9,_0xbb2d64,_0x40a539;const _0x46931c=[null,null,null,null,null,null,null],_0x2bb521=function(){return _0x4a3ea5['hasOwnProp'+'erty']('type')?_0x4a3ea5['type']:_0x4a3ea5['hasOwnProp'+'erty']('rgbm')?_0x4a3ea5['rgbm']?on:Di:null;};if(!_0x1dedbe['loaded']||_0xe2f77e[-0x18bb+-0x1553+0x2e0e]!==_0x180f31[-0xba6+-0x2*-0xe50+-0x10fa]){if(_0xe2f77e[-0x108f+0x917*-0x1+0x19a6]){if(_0x4519e9=_0xe2f77e[0x1314*-0x2+-0x1682+0x3caa]['resource'],_0x4519e9['cubemap']){for(_0x40a539=-0x265c+0x1*-0x2231+0x3*0x182f;_0x40a539<-0xc54*0x1+0xaf8+-0x3b*-0x6;++_0x40a539)_0x46931c[_0x40a539+(-0x2356+-0x13*0x9e+0x2f11)]=new he(this['_device'],{'name':_0x1dedbe['name']+('_prelitCub'+'emap')+(_0x4519e9['width']>>_0x40a539),'cubemap':!(-0x240b+-0x1*0x1dff+0x420a),'type':_0x2bb521()||_0x4519e9['type'],'width':_0x4519e9['width']>>_0x40a539,'height':_0x4519e9['height']>>_0x40a539,'format':_0x4519e9['format'],'levels':[_0x4519e9['_levels'][_0x40a539]],'addressU':ae,'addressV':ae,'mipmaps':_0x40a539===-0xab*0x21+0x6a9+0xf62});}else _0x46931c[-0xbb*-0x10+0x1*0xae+-0xc5d]=_0x4519e9;}}else _0x46931c[0x20f4+-0x12db+-0x70c*0x2]=_0x469e80[0x93d*-0x2+-0x1*0xf4d+0x5c*0x5e]||null,_0x46931c[-0x49*-0x71+0x1a07+-0xf*0x3e2]=_0x469e80[-0xe8*-0x4+-0x1bef+-0x1851*-0x1]||null,_0x46931c[0x21e7+-0x3*0x823+-0x1*0x97b]=_0x469e80[-0xcd*0x11+-0x1*-0xaf1+0x2af]||null,_0x46931c[-0x11dd+-0x4*-0x9b3+0x13b*-0x11]=_0x469e80[0x1*0x1ca+-0xf0+-0xd6*0x1]||null,_0x46931c[0x1*0xec4+0x2*0xba5+-0x2609]=_0x469e80[-0x3*0x585+0x247b+-0x13e7*0x1]||null,_0x46931c[0xb*-0x332+-0xb*0x353+0x47bd]=_0x469e80[-0x72e*-0x1+0x93f+-0xf7*0x11]||null;const _0xaf8713=_0xe2f77e['slice'](0x104d+0x1f*-0x3a+-0x946);if(!_0x1dedbe['loaded']||!this['cmpArrays'](_0xaf8713,_0x180f31['slice'](-0x2515+0x1a7*-0x15+0x47c9))){if(_0xaf8713['indexOf'](null)===-(0x2*-0x9b6+0x1*0x1e4a+0x9*-0x135)){const _0x11d800=_0xaf8713['map'](_0x1d8457=>_0x1d8457['resource']),_0x2f343f=[];for(_0xbb2d64=0xcec+0xc1*0x2+-0xe6e;_0xbb2d64<_0x11d800[-0x6*-0x11a+-0x1*0x11bd+0x197*0x7]['_levels']['length'];++_0xbb2d64)_0x2f343f['push'](_0x11d800['map'](_0x381a6b=>_0x381a6b['_levels'][_0xbb2d64]));const _0x41ea34=_0x11d800[0xd*0xc1+-0x2517+0x1b4a]['format'],_0x350d71=new he(this['_device'],{'name':_0x1dedbe['name']+'_faces','cubemap':!(-0x1ae*-0x14+0xd9b+-0x1*0x2f33),'type':_0x2bb521()||_0x11d800[0x1d2*0xd+0x20c*0x4+-0x3*0xa9e]['type'],'width':_0x11d800[-0x1*-0x1a35+0x146*0xf+-0x2d4f]['width'],'height':_0x11d800[-0x26ff*-0x1+-0x7*-0xed+0x2d7a*-0x1]['height'],'format':_0x41ea34===dr?Se:_0x41ea34,'mipmaps':_0x4a3ea5['mipmaps']??!(-0x1*-0x90a+0x1090+-0x199a),'levels':_0x2f343f,'minFilter':_0x4a3ea5['hasOwnProp'+'erty']('minFilter')?_0x4a3ea5['minFilter']:_0x11d800[0x1c0f+-0x1638+0x5*-0x12b]['minFilter'],'magFilter':_0x4a3ea5['hasOwnProp'+'erty']('magFilter')?_0x4a3ea5['magFilter']:_0x11d800[0x1e70+0x1af*-0x6+-0x1456]['magFilter'],'anisotropy':_0x4a3ea5['hasOwnProp'+'erty']('anisotropy')?_0x4a3ea5['anisotropy']:-0x13c2+0x1*0x1297+0x12c,'addressU':ae,'addressV':ae});_0x46931c[-0x668+-0xab1+0x1119]=_0x350d71;}}else _0x46931c[0xb*0x25f+-0x64*0x4+-0x1885]=_0x469e80[0x325*0xc+0x1*-0x1e15+-0x7a7]||null;if(!this['cmpArrays'](_0x46931c,_0x469e80)){for(_0x1dedbe['resources']=_0x46931c,_0x1dedbe['_handlerSt'+'ate']['assetIds']=_0x89fe92,_0x1dedbe['_handlerSt'+'ate']['assets']=_0xe2f77e,_0x40a539=0x91*0x15+0x296*-0x9+-0xb61*-0x1;_0x40a539<_0x469e80['length'];++_0x40a539)_0x469e80[_0x40a539]!==null&&_0x46931c['indexOf'](_0x469e80[_0x40a539])===-(0x2cc+-0x3*0x512+0xc6b)&&_0x469e80[_0x40a539]['destroy']();}for(_0x40a539=0x240b+0x1fc*0x9+-0x35e7;_0x40a539<_0x180f31['length'];++_0x40a539)_0x180f31[_0x40a539]!==null&&_0xe2f77e['indexOf'](_0x180f31[_0x40a539])===-(0xe8*-0x1+-0x66*-0x3e+-0x17cb*0x1)&&_0x180f31[_0x40a539]['unload']();}['cmpArrays'](_0x201d4f,_0x3271a4){if(_0x201d4f['length']!==_0x3271a4['length'])return!(-0x1*0x15d3+0x1a48+0xa*-0x72);for(let _0x56f81d=-0xf71+-0x18d7+-0x2*-0x1424;_0x56f81d<_0x201d4f['length'];++_0x56f81d)if(_0x201d4f[_0x56f81d]!==_0x3271a4[_0x56f81d])return!(-0xc*0x21d+0x15cb+0x392);return!(0xd*-0x8a+0x1b61+-0x95*0x23);}['resolveId'](_0x394679){const _0x901ab=parseInt(_0x394679,0xedb+-0x1*0x223f+0x6*0x33d);return _0x901ab===_0x394679||_0x901ab['toString']()===_0x394679?_0x901ab:_0x394679;}['loadAssets'](_0x9b5cbb,_0x132800){_0x9b5cbb['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x9b5cbb['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x1191d0=this,_0x138db3=_0x1191d0['getAssetId'+'s'](_0x9b5cbb),_0x12e8b0=[null,null,null,null,null,null,null],_0x4913a8=_0x9b5cbb['_handlerSt'+'ate']['assetIds'],_0x31907f=_0x9b5cbb['_handlerSt'+'ate']['assets'],_0x10a1d6=_0x1191d0['_registry'];let _0x5e3ddb=-0x627+0xc0e+-0x4*0x178;const _0x31e3af=function(_0x5272a8,_0x59525b){_0x12e8b0[_0x5272a8]=_0x59525b,_0x5e3ddb--,_0x5e3ddb===-0x4b*-0x2c+0x3*0xaf4+-0x2dc0&&(_0x1191d0['update'](_0x9b5cbb,_0x138db3,_0x12e8b0),_0x132800(null,_0x9b5cbb['resources']));},_0x49287a=function(_0x4a9547,_0xde6467,_0x508f6f){_0x132800(_0xde6467);},_0x5286dd=function(_0x251e45,_0x66ab1a){_0x66ab1a['loaded']?_0x31e3af(_0x251e45,_0x66ab1a):(_0x10a1d6['once']('load:'+_0x66ab1a['id'],_0x31e3af['bind'](_0x1191d0,_0x251e45)),_0x10a1d6['once']('error:'+_0x66ab1a['id'],_0x49287a['bind'](_0x1191d0,_0x251e45)),_0x66ab1a['loading']||_0x10a1d6['load'](_0x66ab1a));};let _0x19b899;for(let _0x481521=-0x3e*0x3b+0x66d+0x7dd;_0x481521<0xa*0x23b+-0x1543+-0x104;++_0x481521){const _0x3d1476=this['resolveId'](_0x138db3[_0x481521]);if(!_0x3d1476)_0x31e3af(_0x481521,null);else{if(_0x1191d0['compareAss'+'etIds'](_0x3d1476,_0x4913a8[_0x481521]))_0x5286dd(_0x481521,_0x31907f[_0x481521]);else{if(parseInt(_0x3d1476,-0x3b*0x98+0x1*-0x1ab1+0x3dc3)===_0x3d1476)_0x19b899=_0x10a1d6['get'](_0x3d1476),_0x19b899?_0x5286dd(_0x481521,_0x19b899):setTimeout(((_0x577c76,_0x39c2d7)=>{const _0x3d928b=_0x10a1d6['get'](_0x39c2d7);_0x3d928b?_0x5286dd(_0x577c76,_0x3d928b):_0x49287a(_0x577c76,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x39c2d7);})['bind'](null,_0x481521,_0x3d1476));else{const _0xc9287c=typeof _0x3d1476=='string'?{'url':_0x3d1476,'filename':_0x3d1476}:_0x3d1476,_0x12a615=_0xc9287c['url']['search']('.dds')===-(-0x1*0x83f+-0x2080+0x28c0)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x2*-0xf70+0x172*0xf+0x933)}:null;_0x19b899=new le(_0x9b5cbb['name']+'_part_'+_0x481521,'texture',_0xc9287c,_0x12a615),_0x10a1d6['add'](_0x19b899),_0x5286dd(_0x481521,_0x19b899);}}}}}}class E2 extends Ne{constructor(_0x20ef29){super(_0x20ef29,'folder');}['load'](_0x4bfe9c,_0x2828f1){_0x2828f1(null,null);}}class Ng{constructor(_0x5594de,_0x296eba){this['type']=_0x296eba&&_0x296eba['type']||Kh,this['em']=0x1*0x333+-0x37+-0x2fb*0x1,this['textures']=_0x5594de,this['intensity']=-0x5b6+0x218f+0x1*-0x1bd9,this['_data']=null,this['data']=_0x296eba;}set['data'](_0xc92e02){if(this['_data']=_0xc92e02,!!_0xc92e02&&(this['_data']['intensity']!==void(-0x3*0x94f+-0xb5d+0x274a)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x46e*0x2+-0xc5*0x13+0x1*0x177d)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x933ee in this['_data']['chars'])this['_data']['chars'][_0x933ee]['map']=-0x21c0+0x240c*0x1+-0x24c;}}get['data'](){return this['_data'];}}function Jd(_0x1e39b0){return _0x1e39b0['version']<-0x9c6+0x2*0x216+-0x1df*-0x3&&(_0x1e39b0['version']<0xc25*-0x1+-0x1*0x1b65+0x278c&&(_0x1e39b0['info']['maps']=_0x1e39b0['info']['maps']||[{'width':_0x1e39b0['info']['width'],'height':_0x1e39b0['info']['height']}]),_0x1e39b0['chars']=Object['keys'](_0x1e39b0['chars']||{})['reduce']((_0x211329,_0x203ebd)=>{const _0x49b115=_0x1e39b0['chars'][_0x203ebd],_0x471295=_0x49b115['letter']!==void(-0xf*-0x141+0xf15+0xc*-0x2d3)?_0x49b115['letter']:ah['fromCodePo'+'int'](_0x203ebd);return _0x1e39b0['version']<-0x18d4+0x190d+-0x37&&(_0x49b115['map']=_0x49b115['map']||-0x164c+-0x224e+-0x2a*-0x159),_0x211329[_0x471295]=_0x49b115,_0x211329;},{}),_0x1e39b0['version']=-0x19*-0x17d+-0x1f7e*0x1+0x1*-0x5b4),_0x1e39b0;}class C2 extends Ne{constructor(_0x3ed72f){super(_0x3ed72f,'font'),this['_loader']=_0x3ed72f['loader'],this['maxRetries']=0x1d8f+0x1738+-0x34c7;}['load'](_0x1a7c8a,_0x4eb7a1,_0x27beee){typeof _0x1a7c8a=='string'&&(_0x1a7c8a={'load':_0x1a7c8a,'original':_0x1a7c8a});const _0xa90df0=this;fe['getExtensi'+'on'](_0x1a7c8a['original'])==='.json'?$e['get'](_0x1a7c8a['load'],{'retry':this['maxRetries']>-0x8fd+-0x1567+0x1e64,'maxRetries':this['maxRetries']},(_0x2b21b3,_0x161212)=>{if(_0x2b21b3)_0x4eb7a1('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x1a7c8a['original']+'\x20['+_0x2b21b3+']');else{const _0xbcca65=Jd(_0x161212);_0xa90df0['_loadTextu'+'res'](_0x1a7c8a['load']['replace']('.json','.png'),_0xbcca65,(_0x56117a,_0x41452c)=>{_0x56117a?_0x4eb7a1(_0x56117a):_0x4eb7a1(null,{'data':_0xbcca65,'textures':_0x41452c});});}}):(_0x27beee&&_0x27beee['data']&&(_0x27beee['data']=Jd(_0x27beee['data'])),this['_loadTextu'+'res'](_0x1a7c8a['load'],_0x27beee&&_0x27beee['data'],_0x4eb7a1));}['_loadTextu'+'res'](_0x45509c,_0x3d19d4,_0x37579a){const _0x20eff3=_0x3d19d4['info']['maps']['length'];let _0x417fbc=0x1776+-0x138d+-0x7*0x8f,_0x23e83e=null;const _0x22bf2f=new Array(_0x20eff3),_0x46c92c=this['_loader'],_0x2fc8e5=function(_0x48d8f8){const _0x11ffe6=function(_0x32b967,_0x44a837){if(!_0x23e83e){if(_0x32b967){_0x23e83e=_0x32b967,_0x37579a(_0x32b967);return;}_0x44a837['upload'](),_0x22bf2f[_0x48d8f8]=_0x44a837,_0x417fbc++,_0x417fbc===_0x20eff3&&_0x37579a(null,_0x22bf2f);}};_0x48d8f8===0x1b7b+0x53*0x72+-0x4071?_0x46c92c['load'](_0x45509c,'texture',_0x11ffe6):_0x46c92c['load'](_0x45509c['replace']('.png',_0x48d8f8+'.png'),'texture',_0x11ffe6);};for(let _0x93917e=-0x3*0x217+-0x1dd1+0x2416;_0x93917e<_0x20eff3;_0x93917e++)_0x2fc8e5(_0x93917e);}['open'](_0x20e83d,_0x3871f4,_0x14ff23){let _0x2bdbd2;return _0x3871f4['textures']?_0x2bdbd2=new Ng(_0x3871f4['textures'],_0x3871f4['data']):_0x2bdbd2=new Ng(_0x3871f4,null),_0x2bdbd2;}['patch'](_0x3977fa,_0x44d46d){const _0x164e63=_0x3977fa['resource'];!_0x164e63['data']&&_0x3977fa['data']?_0x164e63['data']=_0x3977fa['data']:!_0x3977fa['data']&&_0x164e63['data']&&(_0x3977fa['data']=_0x164e63['data']),_0x3977fa['data']&&(_0x3977fa['data']=Jd(_0x3977fa['data']));}}async function M2(){const _0x29d92e=0x1*-0x2655+0x11d8+0x419*0x5+0.28209479177387814;class _0x3419cb{constructor(_0x28638e,_0x532e28,_0x2a073c){this['x']=_0x28638e,this['y']=_0x532e28,this['z']=_0x2a073c;}}class _0xa723e3{constructor(_0x468b16,_0x2d969e,_0x35d11d,_0x21d378){this['x']=_0x468b16,this['y']=_0x2d969e,this['z']=_0x35d11d,this['w']=_0x21d378;}}class _0x2cb723{constructor(_0x2c0c25,_0x281199,_0x53d78a,_0xd2b25d){this['x']=_0x2c0c25,this['y']=_0x281199,this['z']=_0x53d78a,this['w']=_0xd2b25d;}['set'](_0x4c3654,_0x2511d6,_0x30cae0,_0x2c2301){this['x']=_0x4c3654,this['y']=_0x2511d6,this['z']=_0x30cae0,this['w']=_0x2c2301;}}class _0x24d4eb{constructor(_0x2f9d4b,_0x11c6b1,_0x552e52,_0x1d9c16,_0x2512a8,_0x37461e,_0x468212,_0x496fa0,_0x54af8d,_0x729f8c,_0x39b7f3,_0x483bfa){const _0x257042=(_0x532403,_0x5ec19b)=>{const _0x22b5d0=(-0x1f*0xfa+-0x25d8+0x441f*0x1<<_0x5ec19b)-(0x37b*-0x1+-0xd4*-0x9+-0x1fc*0x2);return(_0x532403&_0x22b5d0)/_0x22b5d0;},_0xa3dd0f=(_0x33006e,_0x3e6227)=>{_0x33006e['x']=_0x257042(_0x3e6227>>>0x211d+0x2619+-0x4721,0x13f*0x7+0x130b*-0x2+0x1d68),_0x33006e['y']=_0x257042(_0x3e6227>>>0x1*0xff3+-0x155+-0x5b*0x29,0x5ee+0x1*-0x1ccd+-0x17*-0xff),_0x33006e['z']=_0x257042(_0x3e6227,-0xbb*-0xf+-0x3*0xc06+0x1928);},_0x42789d=(_0x114ca0,_0x35e5d4)=>{_0x114ca0['x']=_0x257042(_0x35e5d4>>>-0x3*-0x1c+0x3*0x535+-0xfdb,0x15*-0x12a+-0x89b+0x2115),_0x114ca0['y']=_0x257042(_0x35e5d4>>>0x40*-0xc+0x1b69+-0x1859,-0x255e+-0xe84*0x1+0x33ea),_0x114ca0['z']=_0x257042(_0x35e5d4>>>0x1942+0x6*-0x3cb+-0x9e*0x4,-0x767*-0x3+-0x1*0xd9f+-0x88e),_0x114ca0['w']=_0x257042(_0x35e5d4,0x28*0x3a+-0x2229+0x1921);},_0x469a59=(_0x384666,_0x208ced)=>{const _0x33cfee=(0x26dd+-0x1c6c+0x538*-0x2)/(Math['sqrt'](-0x661+-0x1*0x261b+0x163f*0x2)*(0xc*0x1df+-0xa92+-0xbe2+0.5)),_0x1cdc12=(_0x257042(_0x208ced>>>0x2e*-0x61+-0x261c+0x379e,-0x1*0x1d8b+0xaf7+-0x129e*-0x1)-(-0x2*0x3d1+0x20d9+-0x1937+0.5))*_0x33cfee,_0x489eac=(_0x257042(_0x208ced>>>0x75d+-0x1*-0x259+-0x9ac,0x253d*0x1+-0x1*0xcfb+-0x1838)-(0x914+0x70b*-0x3+0xc0d+0.5))*_0x33cfee,_0xc0849e=(_0x257042(_0x208ced,-0xd54+-0x4be*0x1+0x121c)-(-0x1*0x17a9+-0x198f+0x3138+0.5))*_0x33cfee,_0x45deba=Math['sqrt'](0x9d8+0x1*-0x195b+0xf84-(_0x1cdc12*_0x1cdc12+_0x489eac*_0x489eac+_0xc0849e*_0xc0849e));switch(_0x208ced>>>-0x175*0x3+-0x55*-0x29+-0x920){case-0x1f0a+-0x167*-0x11+0x733:_0x384666['set'](_0x1cdc12,_0x489eac,_0xc0849e,_0x45deba);break;case 0x1ff*0x9+0x2*-0xdd0+0x9aa:_0x384666['set'](_0x45deba,_0x489eac,_0xc0849e,_0x1cdc12);break;case 0xb89*0x2+-0x48+0x798*-0x3:_0x384666['set'](_0x489eac,_0x45deba,_0xc0849e,_0x1cdc12);break;case-0x53*-0x78+0x1fb0+-0x3*0x1787:_0x384666['set'](_0x489eac,_0xc0849e,_0x45deba,_0x1cdc12);break;}},_0x44604e=(_0x5f44af,_0x5a69f7,_0x50cd9c)=>_0x5f44af*(-0x31d*-0x7+-0xa3*-0x29+-0x2fe5-_0x50cd9c)+_0x5a69f7*_0x50cd9c,_0x56900e=[0xf9d+-0x1040+0xa6,-0xc97*0x3+0x155f*-0x1+0x3b2c,0x1f71+0x26f5+-0x4657][_0x2512a8-(0x11b3+0x2*0xb62+-0x2876)],_0x1e6090=0x70*0x52+0x1*-0x1355+0x1085*-0x1;this['read']=_0x4039fb=>{const _0x5aa10f=Math['floor'](_0x4039fb/(-0x1f5f+0x220e+-0x1af))*_0x11c6b1;if(_0x37461e&&(_0xa3dd0f(_0x37461e,_0x552e52[_0x4039fb*_0x1e6090+(0x18df+0x1e3e+-0x371d*0x1)]),_0x37461e['x']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0x5ab+-0x16d7+0x112c)],_0x2f9d4b[_0x5aa10f+(-0xa3e+0x1*0x1dbb+-0x137a)],_0x37461e['x']),_0x37461e['y']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x13dd*-0x1+-0x15d*0x13+-0x11*-0x5b)],_0x2f9d4b[_0x5aa10f+(0x1fe6+0x1*0x1c51+0x579*-0xb)],_0x37461e['y']),_0x37461e['z']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0x3a*0x95+-0x1*-0x220f+-0x43cf*0x1)],_0x2f9d4b[_0x5aa10f+(0xe*0x71+-0xe3*0xa+0x2b5)],_0x37461e['z'])),_0x468212&&_0x469a59(_0x468212,_0x552e52[_0x4039fb*_0x1e6090+(0x225d+0x31*-0x17+-0x1df5)]),_0x496fa0&&(_0xa3dd0f(_0x496fa0,_0x552e52[_0x4039fb*_0x1e6090+(0x1*-0x259f+-0x6*0x523+0x4473)]),_0x496fa0['x']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0x51*0x21+-0x466*0x8+0x18c5)],_0x2f9d4b[_0x5aa10f+(-0x2*0xeb1+0x13d*-0x5+0x239c)],_0x496fa0['x']),_0x496fa0['y']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x1092+-0x1121+-0x3*-0xb3e)],_0x2f9d4b[_0x5aa10f+(-0x593+0x2468+-0x1ecb*0x1)],_0x496fa0['y']),_0x496fa0['z']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x210e*-0x1+0xb6e*0x2+-0x2e*0x137)],_0x2f9d4b[_0x5aa10f+(-0x10f3*0x1+0x11*0xcf+0x33f)],_0x496fa0['z'])),_0x54af8d&&(_0x42789d(_0x54af8d,_0x552e52[_0x4039fb*_0x1e6090+(0x14c6+-0x87a+0x25*-0x55)]),_0x11c6b1>0x1eef*-0x1+-0x40f+0x82*0x45&&(_0x54af8d['x']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0xa4b+-0x1e*0x6f+0x2c3)],_0x2f9d4b[_0x5aa10f+(0x2*-0x487+-0x26f*-0xd+0x1686*-0x1)],_0x54af8d['x']),_0x54af8d['y']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x1282*0x2+0x26f*0x2+-0x2033*-0x1)],_0x2f9d4b[_0x5aa10f+(-0x1eb4+0xc7d*0x1+0x1247)],_0x54af8d['y']),_0x54af8d['z']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0x1cf*-0x1+0x207e+0x1*-0x1ea1)],_0x2f9d4b[_0x5aa10f+(0xc6d*-0x3+-0x5*-0x6df+0x2fd)],_0x54af8d['z']))),_0x729f8c&&(_0xa3dd0f(_0x729f8c,_0x552e52[_0x4039fb*_0x1e6090+(-0x208+0xeef*-0x2+0x1*0x1fea)]),_0x729f8c['x']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0x1573+-0x1f*0xae+-0x1*0x4f)],_0x2f9d4b[_0x5aa10f+(0x2ad+-0x131c+0x1084)],_0x729f8c['x']),_0x729f8c['y']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x2522*0x1+0x21cb+-0x13*-0x2e)],_0x2f9d4b[_0x5aa10f+(0x1*0x183d+-0xa09*-0x1+-0x2230)],_0x729f8c['y']),_0x729f8c['z']=_0x44604e(_0x2f9d4b[_0x5aa10f+(0x339+-0xca5+-0x260*-0x4)],_0x2f9d4b[_0x5aa10f+(-0x4c7+0x216c+0x2b*-0xaa)],_0x729f8c['z'])),_0x39b7f3&&(_0xa3dd0f(_0x39b7f3,_0x552e52[_0x4039fb*_0x1e6090+(0x1ef3+0x1e15+-0x3d03*0x1)]),_0x39b7f3['x']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x22e2+-0x15a0+0x389a)],_0x2f9d4b[_0x5aa10f+(-0x1*-0x26b3+0xb04+-0x319e)],_0x39b7f3['x']),_0x39b7f3['y']=_0x44604e(_0x2f9d4b[_0x5aa10f+(-0x83*-0x13+-0xf10+0x571)],_0x2f9d4b[_0x5aa10f+(0x1*-0x12f5+-0x1e15+-0x17*-0x223)],_0x39b7f3['y'])),_0x483bfa&&_0x2512a8>0xd21*-0x2+-0x8*0x184+-0x1331*-0x2){for(let _0x5afcf2=-0x361+0xd14+-0x9b3;_0x5afcf2<0x3ea+0x20d+-0x5f4;++_0x5afcf2)for(let _0x967f6c=0x1*-0x1f6a+-0x1816+-0x2*-0x1bc0;_0x967f6c<0x3*0x426+-0x2*0xaf7+0x98b;++_0x967f6c)_0x483bfa[_0x5afcf2*(0x13e*0x1d+0x598+-0x1*0x298f)+_0x967f6c]=_0x967f6c<_0x56900e?_0x1d9c16[(_0x4039fb*(0x843+-0x1240+-0x140*-0x8)+_0x5afcf2)*_0x56900e+_0x967f6c]*((0x2*-0x41e+0x21e4+-0x19a0)/(0x2d3+0x78a+-0x95e))-(0x108+-0x972+0x86e):0x15c*-0xa+-0xb9a+-0x56*-0x4b;}};}}self['onmessage']=async _0x5e5488=>{const {data:_0x823197}=_0x5e5488;switch(_0x823197['type']){case'initWorker':break;case'decompress':_0x4de0d5(_0x823197['numSplats'],_0x823197['chunkData'],_0x823197['chunkSize'],_0x823197['vertexData'],_0x823197['shData'],_0x823197['shBands']);break;}};const _0x4de0d5=(_0x46f10b,_0x3aee15,_0x41421,_0x3f3b59,_0x10985a,_0x2f9147)=>{const _0x5e5b58=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x2f9147>0xf*-0x1b3+0x2685+-0xd08){const _0x5416bd=[];for(let _0xd035c4=-0x3f6+0x1*-0x20bc+0x7*0x53e;_0xd035c4<-0x16aa+-0x25*-0x6a+0x785;++_0xd035c4)_0x5416bd['push']('f_rest_'+_0xd035c4);_0x5e5b58['splice'](_0x5e5b58['indexOf']('f_dc_0')+(-0x1*0x1924+-0x800+0x2125),-0xcf+0x10ef+-0x81*0x20,..._0x5416bd);}const _0x4c9158={};_0x5e5b58['forEach'](_0x4cfa0d=>{_0x4c9158[_0x4cfa0d]=new Float32Array(_0x46f10b);}),console['log']('decompress');const _0x1bf5b1=new _0x3419cb(),_0x286193=new _0x2cb723(),_0x42d794=new _0x3419cb(),_0x2f1303=new _0xa723e3(),_0x2bd276=new _0x3419cb(),_0x546ec5=new _0x3419cb(),_0x1986ac=_0x2f9147>0xb*-0xa7+-0x5d9+-0x2*-0x683?new Float32Array(0x1*-0x22d3+0x13d6+-0x795*-0x2):null,_0xd5bb35=new _0x24d4eb(_0x3aee15,_0x41421,_0x3f3b59,_0x10985a,_0x2f9147,_0x1bf5b1,_0x286193,_0x42d794,_0x2f1303,_0x2bd276,_0x546ec5,_0x1986ac);for(let _0x3ed2c9=-0x63e+-0x5e1*-0x4+-0x1146;_0x3ed2c9<_0x46f10b;++_0x3ed2c9)if(_0xd5bb35['read'](_0x3ed2c9),_0x4c9158['x'][_0x3ed2c9]=_0x1bf5b1['x'],_0x4c9158['y'][_0x3ed2c9]=_0x1bf5b1['y'],_0x4c9158['z'][_0x3ed2c9]=_0x1bf5b1['z'],_0x4c9158['rot_1'][_0x3ed2c9]=_0x286193['x'],_0x4c9158['rot_2'][_0x3ed2c9]=_0x286193['y'],_0x4c9158['rot_3'][_0x3ed2c9]=_0x286193['z'],_0x4c9158['rot_0'][_0x3ed2c9]=_0x286193['w'],_0x4c9158['scale_0'][_0x3ed2c9]=_0x42d794['x'],_0x4c9158['scale_1'][_0x3ed2c9]=_0x42d794['y'],_0x4c9158['scale_2'][_0x3ed2c9]=_0x42d794['z'],_0x4c9158['motion_0'][_0x3ed2c9]=_0x2bd276['x'],_0x4c9158['motion_1'][_0x3ed2c9]=_0x2bd276['y'],_0x4c9158['motion_2'][_0x3ed2c9]=_0x2bd276['z'],_0x4c9158['t_scale'][_0x3ed2c9]=_0x546ec5['x'],_0x4c9158['t'][_0x3ed2c9]=_0x546ec5['y'],_0x4c9158['f_dc_0'][_0x3ed2c9]=(_0x2f1303['x']-(0x2628+0x2*-0xb37+0x16*-0xb7+0.5))/_0x29d92e,_0x4c9158['f_dc_1'][_0x3ed2c9]=(_0x2f1303['y']-(0x1*0x145d+-0xc*-0x28d+0x32f9*-0x1+0.5))/_0x29d92e,_0x4c9158['f_dc_2'][_0x3ed2c9]=(_0x2f1303['z']-(-0x12*0xc2+0x1e19+0xb*-0x17f+0.5))/_0x29d92e,_0x4c9158['opacity'][_0x3ed2c9]=_0x2f1303['w']<=0x1879+-0x1187+0x7*-0xfe?-(-0x1*-0x96b+0x401*-0x5+-0x3*-0x396):_0x2f1303['w']>=0x924+0x229b+-0x15df*0x2?0x7cc+-0x1ec8+-0xb92*-0x2:-Math['log']((-0x270e+-0x1bca+0x42d9)/_0x2f1303['w']-(0x2699+0x1*0x1a3f+-0x40d7)),_0x1986ac){for(let _0x1bd280=0xe6b*-0x2+0x4e1+0x17f5;_0x1bd280<0x43d+0x1b52+-0x135*0x1a;++_0x1bd280)_0x4c9158['f_rest_'+_0x1bd280][_0x3ed2c9]=_0x1986ac[_0x1bd280];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x4c9158});};}class P2 extends ce{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+M2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x4aef8f=>{if(!this['worker'])return;const {data:_0x283463}=_0x4aef8f;switch(_0x283463['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x283463['data']);break;}};}['decompress'](_0x1d0926,_0x5d0fb5,_0x381b69,_0x27fc33,_0x3933bc,_0x4f2926,_0x734700){this['chunkData']=new Float32Array(_0x5d0fb5)['slice'](),this['vertexData']=new Uint32Array(_0x27fc33)['slice'](),this['shData']=new Uint8Array(_0x3933bc)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x1d0926,'chunkData':this['chunkData'],'chunkSize':_0x381b69,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x4f2926});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class R2{constructor(_0x43a935,_0xe2fccd,_0x57f320,_0x18e06f,_0x3cf187,_0x286019,_0x1fc791,_0x44007d){const _0x761ea3=(_0x5084e4,_0x34e76b)=>{const _0x35db4f=(-0x2*0x193+-0xd8b*-0x1+-0x299*0x4<<_0x34e76b)-(0x23b*-0x3+0x1821+-0x116f);return(_0x5084e4&_0x35db4f)/_0x35db4f;},_0x220ae2=(_0x45e70a,_0x11201a)=>{_0x45e70a['x']=_0x761ea3(_0x11201a>>>-0x138c+-0x18b4+0x2c55,-0xbb9*0x1+-0x1721+-0x1*-0x22e5),_0x45e70a['y']=_0x761ea3(_0x11201a>>>-0x7bc+-0x3*-0xb3b+-0x2*0xcf5,-0x1*-0x4d+-0x1*0x1c81+0x1c3e),_0x45e70a['z']=_0x761ea3(_0x11201a,0x20e*0x1+-0xe2c*-0x1+-0x102f);},_0x215701=(_0xf88ab3,_0x73b445)=>{_0xf88ab3['x']=_0x761ea3(_0x73b445>>>-0x1a6+0x1*-0x2665+0x2823,0x9*-0x17+0x38a*-0x1+0x461),_0xf88ab3['y']=_0x761ea3(_0x73b445>>>0x39d+-0x82e+0x4a1,0x285+0xcb+-0x1a4*0x2),_0xf88ab3['z']=_0x761ea3(_0x73b445>>>0x1*-0x24cd+0x125b+0x127a,-0x21*0xdf+-0x359*-0x2+0x1615*0x1),_0xf88ab3['w']=_0x761ea3(_0x73b445,-0x5*-0x75f+-0x7*0xc3+-0x1f7e);},_0x1b540e=(_0x246cf4,_0x3d7b69)=>{const _0x449cad=(0x1941+-0xc1*-0x7+-0xf*0x209)/(Math['sqrt'](-0x146a+-0xff9*-0x2+-0xb86)*(0x3*0xb18+-0x43*-0x26+-0x2b3a+0.5)),_0x58aba7=(_0x761ea3(_0x3d7b69>>>0x101*0x1d+0xc51+-0x295a,0x22c7+0x122b+-0x34e8)-(0x675+0x5d6+-0x3*0x419+0.5))*_0x449cad,_0x4b2fb7=(_0x761ea3(_0x3d7b69>>>0xc8+0x1fdd+0x209b*-0x1,-0xdfb+0x1ab7+0x28a*-0x5)-(0x3c9*0x1+0x2*-0x1a3+-0x83+0.5))*_0x449cad,_0x16f3fc=(_0x761ea3(_0x3d7b69,-0xbfd+0x2*0xf29+-0x124b)-(-0x8*0x5d+-0x6f4+0x9dc*0x1+0.5))*_0x449cad,_0x4e61fb=Math['sqrt'](-0x2179*0x1+-0x1*-0xde5+-0x687*-0x3-(_0x58aba7*_0x58aba7+_0x4b2fb7*_0x4b2fb7+_0x16f3fc*_0x16f3fc));switch(_0x3d7b69>>>-0x14f+-0x20c9*0x1+0x2236){case-0xf44+-0x718*-0x4+0x4*-0x347:_0x246cf4['set'](_0x58aba7,_0x4b2fb7,_0x16f3fc,_0x4e61fb);break;case-0x10ff+-0x1cac+-0x4*-0xb6b:_0x246cf4['set'](_0x4e61fb,_0x4b2fb7,_0x16f3fc,_0x58aba7);break;case 0xc78+0xa32+0x32*-0x74:_0x246cf4['set'](_0x4b2fb7,_0x4e61fb,_0x16f3fc,_0x58aba7);break;case 0x92d+-0x1710*0x1+0xde6:_0x246cf4['set'](_0x4b2fb7,_0x16f3fc,_0x4e61fb,_0x58aba7);break;}},_0x15c5b0=(_0x164802,_0x2a029e,_0x2c3a59)=>_0x164802*(-0xd36+-0x1*0x1462+0x2199-_0x2c3a59)+_0x2a029e*_0x2c3a59,{chunkData:_0x56c467,chunkSize:_0x3ca4c4,vertexData:_0x1b4a1e,shData:_0x1fd577,shBands:_0x5aad42}=_0x43a935,_0x108c30=[-0x94*0xb+0x1189+0x595*-0x2,-0x2691*-0x1+-0x23fe+-0x5d*0x7,0x1*-0x2377+-0x15f*-0x12+0xad8][_0x5aad42-(0x3cb*-0x9+0xb66*-0x1+0x2d8a)],_0x1db204=-0x1de5+-0x7bb*0x2+0x2d61;this['read']=_0x1f7add=>{const _0x4487b5=Math['floor'](_0x1f7add/(0x2*-0xe74+0x2212+-0x42a))*_0x3ca4c4;if(_0xe2fccd&&(_0x220ae2(_0xe2fccd,_0x1b4a1e[_0x1f7add*_0x1db204+(0x348+-0x1069*-0x1+-0x13b1)]),_0xe2fccd['x']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x212e+0x2314+-0x1e6)],_0x56c467[_0x4487b5+(-0x1*-0x1d83+0x21d7+0x2f*-0x159)],_0xe2fccd['x']),_0xe2fccd['y']=_0x15c5b0(_0x56c467[_0x4487b5+(0x2*0x63b+0x17*0xf8+-0x22bd*0x1)],_0x56c467[_0x4487b5+(0xcca*-0x1+-0x15ec+0x22ba)],_0xe2fccd['y']),_0xe2fccd['z']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x13d8+-0x764+0x1b3e)],_0x56c467[_0x4487b5+(0x8*-0x208+0x1e0a*-0x1+0x2e4f)],_0xe2fccd['z'])),_0x57f320&&_0x1b540e(_0x57f320,_0x1b4a1e[_0x1f7add*_0x1db204+(0x2*0xf44+-0x1*-0x7b4+-0x1*0x263b)]),_0x18e06f&&(_0x220ae2(_0x18e06f,_0x1b4a1e[_0x1f7add*_0x1db204+(-0xcf1+-0x1b3*-0x3+0x7da)]),_0x18e06f['x']=_0x15c5b0(_0x56c467[_0x4487b5+(0x2556+0x32a+-0x287a)],_0x56c467[_0x4487b5+(0x2305+0x1ee1+0x41dd*-0x1)],_0x18e06f['x']),_0x18e06f['y']=_0x15c5b0(_0x56c467[_0x4487b5+(0x151a+0x5*-0x133+-0xa*0x182)],_0x56c467[_0x4487b5+(-0x1533+0x1*-0x10a7+-0x4*-0x979)],_0x18e06f['y']),_0x18e06f['z']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x1*0x197+-0x1*-0x5d1+-0x432)],_0x56c467[_0x4487b5+(-0xfb6*0x1+-0xd9+0x109a)],_0x18e06f['z'])),_0x3cf187&&(_0x215701(_0x3cf187,_0x1b4a1e[_0x1f7add*_0x1db204+(0xc1a*-0x1+-0x1*0x4cd+0x2*0x875)]),_0x3ca4c4>-0x590*-0x7+0x268+0xdc4*-0x3&&(_0x3cf187['x']=_0x15c5b0(_0x56c467[_0x4487b5+(0xf*-0x1e1+0xfea+-0x1*-0xc51)],_0x56c467[_0x4487b5+(0x2449*0x1+0x160+0x2*-0x12cd)],_0x3cf187['x']),_0x3cf187['y']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x6d9+0x4a*-0x37+0x16cc)],_0x56c467[_0x4487b5+(-0x1*0x4f9+0x1*0x20d7+-0x2*0xde7)],_0x3cf187['y']),_0x3cf187['z']=_0x15c5b0(_0x56c467[_0x4487b5+(0x2*-0x4f7+0x1*0xd43+-0x347)],_0x56c467[_0x4487b5+(0x23c3*-0x1+-0x873+0x2c47*0x1)],_0x3cf187['z']))),_0x286019&&(_0x220ae2(_0x286019,_0x1b4a1e[_0x1f7add*_0x1db204+(0x13c7+-0x4a5+-0xd7*0x12)]),_0x286019['x']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x1*-0x8c9+-0x14c*0xe+0x1*0x971)],_0x56c467[_0x4487b5+(-0x103*0x1c+-0x2521+0x418a)],_0x286019['x']),_0x286019['y']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x1a29+0x147b+0x5c1*0x1)],_0x56c467[_0x4487b5+(-0xad3+-0xea2+0x198b)],_0x286019['y']),_0x286019['z']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x235*0x5+0x1fa6*-0x1+0x7b*0x59)],_0x56c467[_0x4487b5+(-0x1bcc+-0x31*-0x1f+0x15f4)],_0x286019['z'])),_0x1fc791&&(_0x220ae2(_0x1fc791,_0x1b4a1e[_0x1f7add*_0x1db204+(0x1d51+0x1*-0x59f+0x1d*-0xd1)]),_0x1fc791['x']=_0x15c5b0(_0x56c467[_0x4487b5+(-0x1*-0xd87+-0x777+0x4*-0x17e)],_0x56c467[_0x4487b5+(-0x199e+0x1*-0x1409+0x2dc0)],_0x1fc791['x']),_0x1fc791['y']=_0x15c5b0(_0x56c467[_0x4487b5+(0x1203+-0x220f+0x1a*0x9f)],_0x56c467[_0x4487b5+(-0xe9a+0x201d+-0x22d*0x8)],_0x1fc791['y'])),_0x44007d&&_0x5aad42>0x2701*0x1+0xc71+0x19b9*-0x2){for(let _0x533c88=0x1*-0x931+0xa1*-0x8+-0x1*-0xe39;_0x533c88<0x94f+0xe2b*0x1+-0x1*0x1777;++_0x533c88)for(let _0x4a33a4=-0x671+0xb9*0x4+0x12f*0x3;_0x4a33a4<0x382+0x84e*-0x1+-0x1*-0x4db;++_0x4a33a4)_0x44007d[_0x533c88*(-0x56e+-0x20ba+-0x43f*-0x9)+_0x4a33a4]=_0x4a33a4<_0x108c30?_0x1fd577[(_0x1f7add*(0x21d+0xdff+0xd*-0x13d)+_0x533c88)*_0x108c30+_0x4a33a4]*((0x4a3*-0x7+0xd*-0x1c3+0x3764)/(-0x1f26+-0x1*0xb27+-0x4*-0xad3))-(0x24fc+0xc54+-0x314c):0x9*-0xcf+-0xb14+0x125b*0x1;}};}}class I2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x33cc4b,_0x2cf978,_0x397737,_0x44365d,_0x20c9d0,_0x4acc42,_0x3ab316){return new R2(this,_0x33cc4b,_0x2cf978,_0x397737,_0x44365d,_0x20c9d0,_0x4acc42,_0x3ab316);}['calcAabb'](_0x51a681){const {chunkData:_0x1fa1a9,numChunks:_0x527c4,chunkSize:_0x5d9100}=this;let _0x5005a3=Math['exp'](Math['max'](_0x1fa1a9[-0x10f8+0x218d+-0x108c],_0x1fa1a9[-0x21ca+-0x200b+0xb*0x5fd],_0x1fa1a9[0x26e0*0x1+0x237d+-0x4a52])),_0x4cf572=_0x1fa1a9[0x1*0x1954+-0x1*-0x2253+-0x1*0x3ba7]-_0x5005a3,_0x7cd014=_0x1fa1a9[-0x1da7+-0x1e12+0x8b*0x6e]-_0x5005a3,_0x1f4014=_0x1fa1a9[-0xc0e+0xe3*-0x13+0x1ce9]-_0x5005a3,_0x433ff6=_0x1fa1a9[-0x17b9+-0x1*-0x13ff+0x21*0x1d]+_0x5005a3,_0x2840e0=_0x1fa1a9[0xcdf+-0x1ec4+-0x83*-0x23]+_0x5005a3,_0x18ac9e=_0x1fa1a9[-0x1c26+-0x125b+0x2e86]+_0x5005a3;for(let _0x4e8a92=0x1*0x188f+-0x8f1+-0xf9d;_0x4e8a92<_0x527c4;++_0x4e8a92){const _0x445969=_0x4e8a92*_0x5d9100;_0x5005a3=Math['exp'](Math['max'](_0x1fa1a9[_0x445969+(-0x89*-0x2b+0x8e*-0x3b+-0x27*-0x40)],_0x1fa1a9[_0x445969+(0x172d+0x2*-0x7aa+-0x7cf)],_0x1fa1a9[_0x445969+(0x1842+-0xf7+-0x2e8*0x8)])),_0x4cf572=Math['min'](_0x4cf572,_0x1fa1a9[_0x445969+(-0x74b*0x3+0x1*0xf47+0x82*0xd)]-_0x5005a3),_0x7cd014=Math['min'](_0x7cd014,_0x1fa1a9[_0x445969+(0xa6*0xf+-0x3*-0x67+-0xaee*0x1)]-_0x5005a3),_0x1f4014=Math['min'](_0x1f4014,_0x1fa1a9[_0x445969+(0x252a+0x14c2+-0x39ea)]-_0x5005a3),_0x433ff6=Math['max'](_0x433ff6,_0x1fa1a9[_0x445969+(-0x10*0x14b+-0x43*-0x5a+-0x2db)]+_0x5005a3),_0x2840e0=Math['max'](_0x2840e0,_0x1fa1a9[_0x445969+(0x251d+0x1902+-0x3e1b)]+_0x5005a3),_0x18ac9e=Math['max'](_0x18ac9e,_0x1fa1a9[_0x445969+(-0x54b*0x5+0x51*-0x26+0x2682*0x1)]+_0x5005a3);}return _0x51a681['center']['set']((_0x4cf572+_0x433ff6)*(-0x47*0x56+-0x11*0xa1+-0x1*-0x228b+0.5),(_0x7cd014+_0x2840e0)*(0x1*-0x1439+-0xa95+0x2*0xf67+0.5),(_0x1f4014+_0x18ac9e)*(0x1fee+0x5*0x112+0x2548*-0x1+0.5)),_0x51a681['halfExtent'+'s']['set']((_0x433ff6-_0x4cf572)*(-0x1*-0x84f+0x5*-0x68f+-0x187c*-0x1+0.5),(_0x2840e0-_0x7cd014)*(-0x1e1+-0x3f3*-0x7+-0x19c4+0.5),(_0x18ac9e-_0x1f4014)*(-0x2586+-0x1*-0x23f3+0x193*0x1+0.5)),!(-0x3b1*0x5+0x24a0+0x122b*-0x1);}['getCenters'](_0x29cc32){const {vertexData:_0x189fca,chunkData:_0x3d632a,numChunks:_0xae9c1e,chunkSize:_0x59c774}=this;let _0x3bbe47,_0x1a924e,_0x32a46e,_0x408704,_0x454ae8,_0x525e50;for(let _0x4b5e6b=-0x8*0x25+-0x3*-0x108+-0x1f0;_0x4b5e6b<_0xae9c1e;++_0x4b5e6b){const _0x9c1ac5=_0x4b5e6b*_0x59c774;_0x3bbe47=_0x3d632a[_0x9c1ac5+(-0x7*-0x1b1+-0xd*0x10f+0x1ec)],_0x1a924e=_0x3d632a[_0x9c1ac5+(-0x1672+-0x25ce+0x3c41)],_0x32a46e=_0x3d632a[_0x9c1ac5+(0x25d*0x5+0x1877+0x1*-0x2446)],_0x408704=_0x3d632a[_0x9c1ac5+(0xfdc+0x1d84+0x2d5d*-0x1)],_0x454ae8=_0x3d632a[_0x9c1ac5+(0xfb6+-0x205f*-0x1+-0x3011)],_0x525e50=_0x3d632a[_0x9c1ac5+(0x1*0xcd6+-0x5*0x6c2+-0xd*-0x19d)];const _0x26cf5b=Math['min'](this['numSplats'],(_0x4b5e6b+(-0x19fc+-0x1364*0x1+0x2d61))*(-0x16*0x163+-0x2183+0x4105));for(let _0x538fb0=_0x4b5e6b*(0x2269+-0x2b*-0x9d+-0x3bc8);_0x538fb0<_0x26cf5b;++_0x538fb0){const _0x39bd44=_0x189fca[_0x538fb0*(-0x2491+-0x4*-0x734+0x7c5)],_0x422041=(_0x39bd44>>>0x1cd4+-0x399*0x7+-0x2*0x1c8)/(-0x18bb+-0x2694+-0x23a7*-0x2),_0x4974a4=(_0x39bd44>>>0x357+-0xc5*0x1e+0x13ca&-0x24c+-0x211e+0x2769)/(0x1*0xe41+0x19c1+-0x525*0x7),_0x3e541c=(_0x39bd44&0x1*-0x181f+0x17c0+0x85e)/(0x43*-0x7d+0xb7b+0x1d3b);_0x29cc32[_0x538fb0*(0x25b1+0x1*0x217d+-0x472b)+(0x2286+-0x746+0x8*-0x368)]=(0x6*0xb3+-0x1f0f+0x13*0x16a-_0x422041)*_0x3bbe47+_0x422041*_0x408704,_0x29cc32[_0x538fb0*(-0x2bb*0x4+0x2466*-0x1+0x2f55)+(0x3b*0x17+0x22d4+-0x2*0x1410)]=(0x83+-0x1025*-0x1+-0x10a7-_0x4974a4)*_0x1a924e+_0x4974a4*_0x454ae8,_0x29cc32[_0x538fb0*(-0x2*-0x4a2+-0x1e02+0x4d*0x45)+(0x117a+-0x2597+0x141f)]=(0xbb*-0xb+0x1e50+0x2*-0xb23-_0x3e541c)*_0x32a46e+_0x3e541c*_0x525e50;}}}['calcFocalP'+'oint'](_0x3ba3bc){const {chunkData:_0x57ad60,numChunks:_0x3c348d,chunkSize:_0x3afc5e}=this;_0x3ba3bc['x']=-0x1*-0x1877+-0x16c7+-0x1b0,_0x3ba3bc['y']=0x9f1*-0x2+-0x15ae+0x2990,_0x3ba3bc['z']=0x14e7+-0x1e20+0x939*0x1;for(let _0x453758=0x1e*0x14b+0x876+-0x2f40;_0x453758<_0x3c348d;++_0x453758){const _0x1af230=_0x453758*_0x3afc5e;_0x3ba3bc['x']+=_0x57ad60[_0x1af230+(-0xbc2+0xcbf*0x1+-0xfd)]+_0x57ad60[_0x1af230+(-0x3*0x8a5+0x1*-0xf25+0x2917)],_0x3ba3bc['y']+=_0x57ad60[_0x1af230+(0x2674+0x1908+-0x3f7b)]+_0x57ad60[_0x1af230+(0x10c*0xd+0xfb+-0x5b*0x29)],_0x3ba3bc['z']+=_0x57ad60[_0x1af230+(0x9e6+0x143+0x5*-0x23b)]+_0x57ad60[_0x1af230+(-0x1*0x21d7+-0x2238+0x4414)];}_0x3ba3bc['mulScalar']((0x13*-0x1e2+0xe4e*-0x1+0x3214+0.5)/_0x3c348d);}get['isCompress'+'ed'](){return!(-0xa5*-0x17+-0x1069*0x2+0x11*0x10f);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0xe16*-0x1+-0x1baa+0xe94));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x2e0030;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x2e0030=this['shData'])==null?void(0xa70*0x1+-0x772+-0x2fe):_0x2e0030['length'])/this['numSplats']/(0x1*0x148d+-0x135e+-0x12c)]??-0xc49+0x8fc+0x34d*0x1;}async['decompress'](){const _0x1fa0e8=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x38fbf6}=this;if(_0x38fbf6>0x2*0x905+0x1e9b+0x1037*-0x3){const _0x37e745=[];for(let _0x5296b9=0x14f6+-0x1*-0x1805+-0x2f*0xf5;_0x5296b9<0x5*-0x17e+0x2a*-0x8b+0x1e71;++_0x5296b9)_0x37e745['push']('f_rest_'+_0x5296b9);_0x1fa0e8['splice'](_0x1fa0e8['indexOf']('f_dc_0')+(0x21*0x6b+0x1*-0x2181+-0x67*-0x31),0x1823+-0x2151+-0x32*-0x2f,..._0x37e745);}const _0x2cf7f0={};_0x1fa0e8['forEach'](_0x2effea=>{_0x2cf7f0[_0x2effea]=new Float32Array(this['numSplats']);});const _0x26ccb0=new P2();return _0x26ccb0['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x2cf7f0),new Promise((_0x4a5573,_0x593c26)=>{_0x26ccb0['on']('decompress'+'ed',_0x209d12=>{_0x26ccb0['destroy'](),_0x4a5573(new Ia([{'name':'vertex','count':this['numSplats'],'properties':_0x1fa0e8['map'](_0x36a253=>({'name':_0x36a253,'type':'float','byteSize':0x4,'storage':_0x209d12[_0x36a253]}))}]));});});}}const D2=(_0x18668f,_0x36afe0,_0x27df43,_0x3a430e,_0x4b1424)=>{for(let _0x2329a6=-0x2*-0xbe1+0xd3*0x3+-0x1a3b;_0x2329a6<_0x4b1424;++_0x2329a6)for(let _0x535ee1=0x29c+0x1168+-0x1404;_0x535ee1<_0x3a430e;++_0x535ee1)_0x18668f[_0x2329a6*_0x36afe0+_0x535ee1]=_0x27df43[_0x2329a6*_0x3a430e+_0x535ee1];},zg=(_0x2752bf,_0xbc0cb5,_0x4bc25c,_0x197475,_0xede98,_0x2710d3)=>{for(let _0x38bf17=0x11f*-0xb+0x49*0x65+-0x8*0x20f;_0x38bf17<_0xede98;++_0x38bf17)for(let _0x5edd7e=0xaea+0x83d+-0x1327;_0x5edd7e<_0x197475;++_0x5edd7e)_0x2752bf[_0x38bf17*_0xbc0cb5+_0x5edd7e]=_0x4bc25c[_0x38bf17*_0x197475+_0x5edd7e+_0x2710d3];};class L2{constructor(_0x4e4f82,_0x4a7f86){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x57602e,chunkSize:_0x1722d5,numChunks:_0x1f3bbb,numSplats:_0xfe679f,vertexData:_0x49b0bc,shBands:_0x53c3dd,is4D:_0x1d8807}=_0x4a7f86;this['device']=_0x4e4f82,this['numSplats']=_0xfe679f,this['numVisible'+'Splats']=_0xfe679f,this['is4D']=_0x1d8807,this['aabb']=new _e(),_0x4a7f86['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0xfe679f*(-0x8fb+-0xb9*0xd+0x1263)),_0x4a7f86['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',ut,this['evalTextur'+'eSize'](_0xfe679f));const _0x21c4c2=this['packedText'+'ure']['lock']();zg(_0x21c4c2,-0x158c+0x1b59*-0x1+0x30e9,_0x49b0bc,-0x25*0x29+-0x9b0+-0xfa3*-0x1,_0xfe679f,-0x1a22+-0x78d*0x5+0x3fe3),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',ut,this['evalTextur'+'eSize'](_0xfe679f));const _0x4033f0=this['packedTime'+'Texture']['lock']();zg(_0x4033f0,-0x1e45+-0x2385+0x41cc,_0x49b0bc,-0x257b+-0x1*-0xb8f+0x29*0xa2,_0xfe679f,0x1*-0x141b+-0x78b*0x2+0x2335);const _0x1a3c6c=this['evalTextur'+'eSize'](_0x1f3bbb);_0x1a3c6c['x']*=0x19*0xfd+-0x1c27+-0x7*-0x7f,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',Ke,_0x1a3c6c);const _0x350294=this['chunkTextu'+'re']['lock']();if(D2(_0x350294,(0x2*0x709+-0x6a*-0x4b+0x2d1c*-0x1)*(-0x1b5e+-0x2097+-0xeff*-0x4),_0x57602e,_0x1722d5,_0x1f3bbb),_0x1722d5===-0x25bd+-0x17*0x89+0x3218){for(let _0x3b994c=0x109*-0x6+0x905+-0x2cf;_0x3b994c<_0x1f3bbb;++_0x3b994c)_0x350294[_0x3b994c*(0x1b58+-0x7*-0x467+0x1*-0x3a15)+(0x1*-0x1281+0xa*-0x133+-0x1e8e*-0x1)]=0x13ad+0x525*0x7+-0x37af,_0x350294[_0x3b994c*(0xd8d+-0x3f3+-0x986)+(0x1*0x1fdc+-0xbf4+-0x13d8)]=-0x1*-0x1412+0x1289+0x1*-0x269a,_0x350294[_0x3b994c*(0x1*-0x179f+-0x3*-0x8b5+-0x26c)+(0x336+-0x3*0x117+0x20)]=0x1cbf+-0x4e*-0x13+0x44*-0x82;}if(this['chunkTextu'+'re']['unlock'](),_0x53c3dd>-0x30e*-0xa+-0x37f*-0x5+-0x3007){const {shData:_0x14867a}=_0x4a7f86,_0x1c6e3e=this['evalTextur'+'eSize'](_0xfe679f),_0x374e0f=this['createText'+'ure']('shTexture0',ut,_0x1c6e3e),_0xa2309f=this['createText'+'ure']('shTexture1',ut,_0x1c6e3e),_0x6a88f7=this['createText'+'ure']('shTexture2',ut,_0x1c6e3e),_0x1df7ae=_0x374e0f['lock'](),_0x1e5965=_0xa2309f['lock'](),_0x317be1=_0x6a88f7['lock'](),_0xe3674c=new Uint8Array(_0x1df7ae['buffer']),_0x2d70c7=new Uint8Array(_0x1e5965['buffer']),_0x483411=new Uint8Array(_0x317be1['buffer']),_0x28a828=[0x263+-0x1e30+0x1bd0,-0x1*-0x136d+-0x39*-0x65+-0x29e2,0xdc3+-0x2*0x1a4+-0xa6c*0x1][_0x53c3dd-(0x50d+-0x11*-0x67+-0xbe3)];for(let _0x1622e5=-0x1*-0x1853+0x2*-0xa60+-0x393;_0x1622e5<_0xfe679f;++_0x1622e5)for(let _0x27794d=-0x1c86+-0x2*-0x416+0x145a;_0x27794d<-0x1*-0xb37+-0x6b*-0x53+-0x2dd9;++_0x27794d)_0xe3674c[_0x1622e5*(-0x9*0x1d9+-0x1*0x1cff+0x2db0)+_0x27794d]=_0x27794d<_0x28a828?_0x14867a[(_0x1622e5*(-0xdd5+0x16af*-0x1+0x2487)+(0xef9+0x4*0x868+-0x3099))*_0x28a828+_0x27794d]:-0x9d*-0x3d+-0xa16*-0x3+-0x432c,_0x2d70c7[_0x1622e5*(-0x1160+0x1c7b+-0xb0b)+_0x27794d]=_0x27794d<_0x28a828?_0x14867a[(_0x1622e5*(-0x1*0x18d9+0xd84+-0xf2*-0xc)+(0x2078*0x1+0x1*0x1697+-0x105*0x36))*_0x28a828+_0x27794d]:0x833+-0x848+-0x4a*-0x2,_0x483411[_0x1622e5*(-0x1*0x1336+-0x1*-0x891+0xab5)+_0x27794d]=_0x27794d<_0x28a828?_0x14867a[(_0x1622e5*(0x1c0*-0x10+0x15*-0x21+0x2*0xf5c)+(-0x857+-0x2*0x964+0x1b21))*_0x28a828+_0x27794d]:-0x1def*0x1+0x4*0xcb+-0x1*-0x1b42;_0x374e0f['unlock'](),_0xa2309f['unlock'](),_0x6a88f7['unlock'](),this['shTexture0']=_0x374e0f,this['shTexture1']=_0xa2309f,this['shTexture2']=_0x6a88f7;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x513b55,_0x4d49c1,_0x2934b9,_0x570f5c,_0x2feaa2,_0x4e51ad;(_0x513b55=this['packedText'+'ure'])==null||_0x513b55['destroy'](),(_0x4d49c1=this['packedTime'+'Texture'])==null||_0x4d49c1['destroy'](),(_0x2934b9=this['chunkTextu'+'re'])==null||_0x2934b9['destroy'](),(_0x570f5c=this['shTexture0'])==null||_0x570f5c['destroy'](),(_0x2feaa2=this['shTexture1'])==null||_0x2feaa2['destroy'](),(_0x4e51ad=this['shTexture2'])==null||_0x4e51ad['destroy']();}['createMate'+'rial'](_0x3f6d75){const _0x35cd95=z0(_0x3f6d75);return _0x35cd95['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(0x2405+-0x12f6*-0x1+-0x1*0x36fb)),_0x35cd95['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x35cd95['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x35cd95['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x35cd95['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x35cd95['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x35cd95['setDefine']('SH_BANDS',-0x532*-0x5+-0x144c+0x1*-0x5ab),_0x35cd95['setParamet'+'er']('shTexture0',this['shTexture0']),_0x35cd95['setParamet'+'er']('shTexture1',this['shTexture1']),_0x35cd95['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x35cd95['setDefine']('SH_BANDS',0xc+-0x10d0*-0x1+-0x10dc),_0x35cd95;}['evalTextur'+'eSize'](_0x2898e3){const _0xc0dbd9=Math['ceil'](Math['sqrt'](_0x2898e3)),_0x4a10fa=Math['ceil'](_0x2898e3/_0xc0dbd9);return new W(_0xc0dbd9,_0x4a10fa);}['createText'+'ure'](_0x1c2e81,_0x5989e7,_0x2ec8d6,_0x3a6c93){return new he(this['device'],{'name':_0x1c2e81,'width':_0x2ec8d6['x'],'height':_0x2ec8d6['y'],'format':_0x5989e7,'cubemap':!(-0x13f*0x1+0x9b*-0x2f+0x1db5),'mipmaps':!(-0x19d6+0xc3a+0xd9d),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,..._0x3a6c93?{'levels':[_0x3a6c93]}:{}});}}class F2{constructor(_0x4b765b,_0x408e2a,_0x2f305c){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x4b765b,this['splatData']=_0x408e2a,this['comments']=_0x2f305c);}['destroy'](){var _0x3a63c5;this['device']=null,this['splatData']=null,(_0x3a63c5=this['splat'])==null||_0x3a63c5['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new L2(this['device'],this['splatData']):new V1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x4c1bce,_0xde384,_0x303144){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0xde384,this['splatData']['appendGSpl'+'atData'](_0x4c1bce,_0x303144,_0xde384),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x1c72bd={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x1c72bd);const _0x5370dd=new We(),_0x269db2=_0x5370dd['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x5370dd['setLocalEu'+'lerAngles'](-0x48f+-0x82f+0xcbe,-0x4*-0x255+-0x165e+-0x2*-0x685,0x213f*-0x1+0x15*0xa9+0x6*0x33b),_0x269db2['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x5370dd;}['createInst'+'ance'](_0x1e8042={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x23e490=this['createSpla'+'t']();return new Np(_0x23e490,_0x1e8042);}}const Ug=new Uint8Array([0x1142*0x1+-0xa*-0x20d+-0x2554,0xa*0x1eb+-0x1f67+0xca5,0x1*-0x242f+0x2*0x83e+-0x1*-0x142c,-0xf9*-0x1e+0x2*-0x779+-0x719*0x2]),Vg=new Uint8Array([-0x25b7+0x1*-0x1687+0x3c48,-0x5c7+0x2129+-0x1afd,0x23c6+0xb62+0x1*-0x2eba,-0x5a7*0x3+-0x58e+0x16e7,-0x3af+-0x8dc+0xcea,0xec*-0x10+-0x1*0x1099+0x1fc1,0x1f5d+0x1a*-0x142+0x1bc,0x1a6c+0x13de+-0x17*0x1ff,0x1*-0x1c2b+0x2a6+0x19e9,-0x2127+-0x1c0f+0x3d9b,-0x62*-0x5d+0x2073+0x1*-0x439b,-0x1e15+0xa56+0x13c9]),bf=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class O2{constructor(_0x5256aa,_0x534e5d){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x1537+0xe3*-0x2a+0x3a75),c(this,'tail',-0x40*0x55+0x10ce+0x239*0x2),(this['reader']=_0x5256aa,this['progressFu'+'nc']=_0x534e5d);}async['read'](){var _0x205cda;const {value:_0x50dd23,done:_0x55367f}=await this['reader']['read']();if(_0x55367f)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x50dd23),(_0x205cda=this['progressFu'+'nc'])==null||_0x205cda['call'](this,_0x50dd23['byteLength']);}['push'](_0x14127b){if(!this['data'])this['data']=_0x14127b,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x14127b['length'];else{const _0xdb0ce7=this['tail']-this['head'],_0x704cfa=_0xdb0ce7+_0x14127b['length'];if(this['data']['length']>=_0x704cfa)this['head']>-0x25f*0xc+0x5f*-0x10+0x2264?(this['data']['copyWithin'](0x9c7*-0x3+0x1a2f+0x326,this['head'],this['tail']),this['data']['set'](_0x14127b,_0xdb0ce7),this['head']=-0x441+-0x3*0x2fb+0x466*0x3,this['tail']=_0x704cfa):(this['data']['set'](_0x14127b,this['tail']),this['tail']+=_0x14127b['length']);else{const _0x1b3b1d=new Uint8Array(_0x704cfa);this['head']>0x4*0x631+0xb*-0x6d+-0x1*0x1415||this['tail']<this['data']['length']?_0x1b3b1d['set'](this['data']['subarray'](this['head'],this['tail']),-0x1*0x75c+-0x218*0x8+0x181c):_0x1b3b1d['set'](this['data'],0x127f*0x1+0x18bb+0x1f7*-0x16),_0x1b3b1d['set'](_0x14127b,_0xdb0ce7),this['data']=_0x1b3b1d,this['view']=new DataView(this['data']['buffer']),this['head']=-0x1*0x1edd+0xa66+-0xa9*-0x1f,this['tail']=_0x704cfa;}}}['compact'](){this['head']>0x124+-0x8bd+-0x185*-0x5&&(this['data']['copyWithin'](0x1d*0x9a+-0x1922+-0xa4*-0xc,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x9f6+0x6*-0x1d2+0x14e2);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x3df83e=this['view']['getInt8'](this['head']);return this['head']++,_0x3df83e;}['getUint8'](){const _0x1508e0=this['view']['getUint8'](this['head']);return this['head']++,_0x1508e0;}['getInt16'](){const _0x34d2ad=this['view']['getInt16'](this['head'],!(-0x1*-0xec1+0x13*0xc3+-0x1d3a));return this['head']+=0x16ad+0x25b1*-0x1+-0x502*-0x3,_0x34d2ad;}['getUint16'](){const _0x450427=this['view']['getUint16'](this['head'],!(0x7ce+0x4b3+-0xb*0x123));return this['head']+=0x1f1+0x1*0xb15+-0xd04,_0x450427;}['getInt32'](){const _0x15fb60=this['view']['getInt32'](this['head'],!(0x56*-0x12+0x5e2+0x2a));return this['head']+=-0xbf9*0x1+0x1bb5+-0xfb8,_0x15fb60;}['getUint32'](){const _0x1b8874=this['view']['getUint32'](this['head'],!(-0x1b2f+-0x24ff+0x402e));return this['head']+=-0xad*-0x2+0x99+-0x1ef,_0x1b8874;}['getFloat32'](){const _0x38b68d=this['view']['getFloat32'](this['head'],!(0x2bd*-0x8+0xa*-0x297+0x2fce));return this['head']+=-0x25fe+0x2206+0x5*0xcc,_0x38b68d;}['getFloat64'](){const _0x437381=this['view']['getFloat64'](this['head'],!(0x25e6+-0x1*-0x1d2+-0x27b8));return this['head']+=-0x25*-0xe3+0x58a*-0x4+-0xa9f,_0x437381;}}const k2=_0x2f3942=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x1c2a53=[],_0x138d98=[];let _0x1e2c90;for(let _0x166b51=-0x43*-0x25+0x1ba*-0xd+0xcc4;_0x166b51<_0x2f3942['length'];++_0x166b51){const _0x9e1c8a=_0x2f3942[_0x166b51]['split']('\x20');switch(_0x9e1c8a[-0x2e1*-0xb+0x5*-0xb+-0x1f74]){case'comment':_0x138d98['push'](_0x9e1c8a['slice'](-0x1*0x7f9+0x2*-0xe57+0x92a*0x4)['join']('\x20'));break;case'format':_0x1e2c90=_0x9e1c8a[-0x1d*-0x117+0x4*0x602+-0x37a2*0x1];break;case'element':_0x1c2a53['push']({'name':_0x9e1c8a[-0x524+-0x1729+0x1c4e],'count':parseInt(_0x9e1c8a[-0x1464+-0x5*-0xab+-0x1*-0x110f],-0x11*0x211+-0xc5a+0x2f85),'properties':[]});break;case'property':{if(!bf['has'](_0x9e1c8a[0x2*-0x7c3+0x5e8*0x3+-0x231]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x9e1c8a[-0x6f*-0x3d+0xe*0x1f6+-0x35e6]+('\x27\x20in\x20ply\x20h'+'eader'));_0x1c2a53[_0x1c2a53['length']-(-0xb40*0x2+-0x20*-0x78+0x781)]['properties']['push']({'type':_0x9e1c8a[-0x7*-0x461+0x1726+-0x35cc],'name':_0x9e1c8a[0x1*-0x1c6f+-0x5b9+0x1*0x222a],'storage':null,'byteSize':bf['get'](_0x9e1c8a[0x337*-0xb+0xbe*-0xe+0x2dc2])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x9e1c8a[-0x1*-0xb59+0x7*-0x515+0x183a]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x1c2a53,'format':_0x1e2c90,'comments':_0x138d98};},B2=_0x3ebd38=>{const _0x79cf73=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x19841c=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x225436=new Array(0x150f+0x958+0x49*-0x6a)['fill']('')['map']((_0xd01ea6,_0x162c80)=>'f_rest_'+_0x162c80),_0x1eab1e=()=>_0x3ebd38[0x8*0x307+0xded+-0x2625]['name']==='chunk'&&_0x3ebd38[-0x886+0x45*-0x55+0x1f6f]['properties']['every']((_0x51a422,_0x438123)=>_0x51a422['name']===_0x79cf73[_0x438123]&&_0x51a422['type']==='float')&&_0x3ebd38[0x7f4*0x2+0x174f*-0x1+0x768]['name']==='vertex'&&_0x3ebd38[-0xc1*-0x2a+0x1*-0x11a4+-0xe05]['properties']['every']((_0x36fc75,_0x877e1f)=>_0x36fc75['name']===_0x19841c[_0x877e1f]&&_0x36fc75['type']==='uint'),_0x2ea23=()=>_0x3ebd38[0xaa7+-0x1*-0x301+0xda6*-0x1]['name']==='sh'&&[-0x1832+0x7a3+0x6*0x2c4,0xf5d+-0x8f6*0x1+-0x64f,0xbee*-0x3+0x1*-0x1097+-0x782*-0x7]['indexOf'](_0x3ebd38[-0x1185+-0x9da+0x1b61]['properties']['length'])!==-(0x249e+-0x1573+-0xf2a*0x1)&&_0x3ebd38[0x595*-0x2+-0x55d*-0x1+-0x5cf*-0x1]['properties']['every']((_0x46bdb3,_0x100c4a)=>_0x46bdb3['name']===_0x225436[_0x100c4a]&&_0x46bdb3['type']==='uchar');return _0x3ebd38['length']===0x1b74+-0x95e+-0x90a*0x2&&_0x1eab1e()||_0x3ebd38['length']===0x3*0x7d5+0x2028+-0xde9*0x4&&_0x1eab1e()&&_0x2ea23();},N2=_0x4ba115=>_0x4ba115['length']===0x201*-0xb+0x25ae+-0xfa2&&_0x4ba115[0x1*0x629+-0xc41+-0x8*-0xc3]['name']==='vertex'&&_0x4ba115[0xb*0x172+-0x1*0x16ca+0x15*0x54]['properties']['every'](_0x55fece=>_0x55fece['type']==='float'),z2=async(_0x2b9b92,_0x1024e1)=>{const _0x654f1=new I2(),_0x320a6f=_0x1024e1[-0x1dc6+-0x237f+-0x1*-0x4145]['count'],_0x5b0a3e=_0x1024e1[-0x15c8+0x1521+0xa7]['properties']['length'],_0x16d2c0=_0x1024e1[0x1e64+-0x23a4+0x5*0x10d]['count'],_0x4f0e8f=_0x1024e1[-0x18a0+-0x1*0x8f1+0x2192]['properties']['some'](_0x4a3148=>_0x4a3148['name']==='packed_tim'+'e'),_0x15316b=_0x3264f3=>{const _0x1b4481=Math['ceil'](Math['sqrt'](_0x3264f3)),_0x4220b8=Math['ceil'](_0x3264f3/_0x1b4481);return _0x1b4481*_0x4220b8;};_0x654f1['numSplats']=_0x16d2c0,_0x654f1['is4D']=_0x4f0e8f,_0x654f1['chunkData']=new Float32Array(_0x320a6f*_0x5b0a3e),_0x654f1['vertexData']=new Uint32Array(_0x15316b(_0x16d2c0)*(-0x85*0x6+0x5*-0x2e7+0x11a7));const _0xc85ef7=async(_0x56dc40,_0x38e09d)=>{const _0x7c0843=new Uint8Array(_0x56dc40);let _0x472cf5=0x13c6+-0x766*-0x1+-0x2f*0x94;for(;_0x472cf5<_0x38e09d;){for(;_0x2b9b92['remaining']===0x37c+-0x1dac+0x1a30;)await _0x2b9b92['read']();const _0x1ecad7=Math['min'](_0x38e09d-_0x472cf5,_0x2b9b92['remaining']),_0x3dd6b2=_0x2b9b92['data'];for(let _0x1266a8=-0x2*0xced+-0x1c45+-0x55*-0xa3;_0x1266a8<_0x1ecad7;++_0x1266a8)_0x7c0843[_0x472cf5++]=_0x3dd6b2[_0x2b9b92['head']++];}};return await _0xc85ef7(_0x654f1['chunkData']['buffer'],_0x320a6f*_0x5b0a3e*(0x91*-0x3f+-0x1b81+-0x1*-0x3f34)),await _0xc85ef7(_0x654f1['vertexData']['buffer'],_0x16d2c0*(-0x1306+-0xe05*-0x1+-0x1ad*-0x3)*(0x124f*-0x1+0x2152+0xeff*-0x1)),_0x1024e1['length']===-0xf56+-0x733*-0x3+0xc8*-0x8&&(_0x654f1['shData']=new Uint8Array(_0x1024e1[0x19*-0x8e+-0x2*-0x1091+0x11*-0x122]['count']*_0x1024e1[0x2a0+-0xf98+-0x16*-0x97]['properties']['length']),await _0xc85ef7(_0x654f1['shData']['buffer'],_0x654f1['shData']['byteLength'])),_0x654f1;},U2=async(_0xd90886,_0x39d8bb)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x210f38=_0x39d8bb[0x493*0x7+0x5b1*0x2+0x29*-0x10f],_0x259039=_0x210f38['properties'],_0x389494=_0x259039['length'],_0x1c0430=_0x259039['map'](_0x525431=>_0x525431['storage']),_0x33bda0=_0x259039['reduce']((_0x34aa84,_0x34d0bc)=>_0x34aa84+_0x34d0bc['byteSize'],0x3*-0x416+-0x4*0x8c9+0x1*0x2f66);let _0x50b517=0xa21+-0x25*0x1f+-0x2*0x2d3,_0x19e390;const _0x54fefe=()=>{const _0x3b0376=_0xd90886['data']['buffer'];(_0x19e390==null?void(0x7ca*0x1+-0x1*-0xe2+0x1e*-0x4a):_0x19e390['buffer'])!==_0x3b0376&&(_0x19e390=new Float32Array(_0x3b0376,-0x157a+0x1b*-0x95+-0x1*-0x2531,_0x3b0376['byteLength']/(-0x1fc+-0x1*0x20bf+-0x1*-0x22bf)));};for(_0x54fefe();_0x50b517<_0x210f38['count'];){for(;_0xd90886['remaining']<_0x33bda0;)await _0xd90886['read'](),_0x54fefe();const _0x4feeaf=Math['min'](_0x210f38['count']-_0x50b517,Math['floor'](_0xd90886['remaining']/_0x33bda0));for(let _0x1b46f0=0x1087+0x1*-0xb19+-0x1*0x56e;_0x1b46f0<_0x389494;++_0x1b46f0){const _0x19d9ef=_0x1c0430[_0x1b46f0];for(let _0x224389=-0x2553+-0x1031*0x2+0x53*0xd7;_0x224389<_0x4feeaf;++_0x224389)_0x19d9ef[_0x224389+_0x50b517]=_0x19e390[_0x224389*_0x389494+_0x1b46f0];}_0x50b517+=_0x4feeaf,_0xd90886['head']+=_0x4feeaf*_0x33bda0;}return new Ia(_0x39d8bb);},V2=async(_0x73e282,_0x384bf5)=>{for(let _0x77fffa=-0x9c1*0x1+-0xeb6*-0x2+-0x13ab;_0x77fffa<_0x384bf5['length'];++_0x77fffa){const _0xcb0183=_0x384bf5[_0x77fffa],_0x296a61=_0xcb0183['properties']['reduce']((_0x120873,_0x2b2a20)=>_0x120873+_0x2b2a20['byteSize'],0x70c+0xe1a+-0x1526),_0x584fe0=_0xcb0183['properties']['map'](_0xcff984=>{if(_0xcff984['storage'])switch(_0xcff984['type']){case'char':return(_0x50752f,_0x20169a)=>{_0xcff984['storage'][_0x20169a]=_0x50752f['getInt8']();};case'uchar':return(_0x2cfa80,_0x4c8e68)=>{_0xcff984['storage'][_0x4c8e68]=_0x2cfa80['getUint8']();};case'short':return(_0x5d145b,_0x4a88f5)=>{_0xcff984['storage'][_0x4a88f5]=_0x5d145b['getInt16']();};case'ushort':return(_0x5c8bb1,_0xbc3e93)=>{_0xcff984['storage'][_0xbc3e93]=_0x5c8bb1['getUint16']();};case'int':return(_0x40d8d8,_0x37fdeb)=>{_0xcff984['storage'][_0x37fdeb]=_0x40d8d8['getInt32']();};case'uint':return(_0xea28bd,_0x9af7ea)=>{_0xcff984['storage'][_0x9af7ea]=_0xea28bd['getUint32']();};case'float':return(_0xe10096,_0x3f6a44)=>{_0xcff984['storage'][_0x3f6a44]=_0xe10096['getFloat32']();};case'double':return(_0x378a34,_0x10c51d)=>{_0xcff984['storage'][_0x10c51d]=_0x378a34['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0xcff984['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x5d1dda=>{_0x5d1dda['head']+=_0xcff984['byteSize'];};});let _0x1cfe44=0xf2f+-0x4*-0x820+-0x1*0x2faf;for(;_0x1cfe44<_0xcb0183['count'];){for(;_0x73e282['remaining']<_0x296a61;)await _0x73e282['read']();const _0x2dd284=Math['min'](_0xcb0183['count']-_0x1cfe44,Math['floor'](_0x73e282['remaining']/_0x296a61));for(let _0x3bfb09=-0x2695+-0x1258+-0x2ff*-0x13;_0x3bfb09<_0x2dd284;++_0x3bfb09){for(let _0x807094=-0x7a*0x33+-0x1d85+0x5fb*0x9;_0x807094<_0xcb0183['properties']['length'];++_0x807094)_0x584fe0[_0x807094](_0x73e282,_0x1cfe44);_0x1cfe44++;}}}return new Ia(_0x384bf5);},G2=async(_0x48ac85,_0x416a87=null,_0x2290df=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x5eb7c8=(_0x22e7f4,_0x1cb9bd)=>{const _0x39265c=_0x22e7f4['length']-_0x1cb9bd['length'];let _0x4939f0,_0x42d125;for(_0x4939f0=-0x17f1*0x1+-0xf58+-0x1*-0x2749;_0x4939f0<=_0x39265c;++_0x4939f0){for(_0x42d125=-0x1*0x38b+0x2ac+0xdf;_0x42d125<_0x1cb9bd['length']&&_0x22e7f4[_0x4939f0+_0x42d125]===_0x1cb9bd[_0x42d125];++_0x42d125);if(_0x42d125===_0x1cb9bd['length'])return _0x4939f0;}return-(-0x1e62*0x1+-0x1a58+0x38bb);},_0x2e6f8f=(_0x4d0038,_0x3d7230)=>{if(_0x4d0038['length']<_0x3d7230['length'])return!(-0x7*0x450+-0x1*0x16ed+0x351e);for(let _0x58e799=0x2598+0x2327+-0x48bf;_0x58e799<_0x3d7230['length'];++_0x58e799)if(_0x4d0038[_0x58e799]!==_0x3d7230[_0x58e799])return!(-0x1dcc+-0x166d*0x1+-0x539*-0xa);return!(0x35*0xad+-0x3f9*-0x2+-0x2bc3);},_0xaddd65=new O2(_0x48ac85,_0x2290df);let _0x317fcc;for(;;){if(await _0xaddd65['read'](),_0xaddd65['tail']>=Ug['length']&&!_0x2e6f8f(_0xaddd65['data'],Ug))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x317fcc=_0x5eb7c8(_0xaddd65['data'],Vg),_0x317fcc!==-(0x12a7*-0x1+-0x15ae+0x2856))break;}const _0x517d30=new TextDecoder('ascii')['decode'](_0xaddd65['data']['subarray'](-0x51b+0xeba+-0x99f,_0x317fcc))['split']('\x0a'),{elements:_0x41289f,format:_0xbe3c93,comments:_0x2cfb99}=k2(_0x517d30);if(_0xbe3c93!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0xaddd65['head']=_0x317fcc+Vg['length'],_0xaddd65['compact'](),{'data':await((async()=>B2(_0x41289f)?await z2(_0xaddd65,_0x41289f):(_0x41289f['forEach'](_0x32b0c7=>{_0x32b0c7['properties']['forEach'](_0x18c421=>{const _0x4aaee3=bf['get'](_0x18c421['type']);if(_0x4aaee3){const _0x2a86ff=!_0x416a87||_0x416a87(_0x18c421['name'])?new _0x4aaee3(_0x32b0c7['count']):null;_0x18c421['storage']=_0x2a86ff;}});}),N2(_0x41289f)?await U2(_0xaddd65,_0x41289f):await V2(_0xaddd65,_0x41289f)))()),'comments':_0x2cfb99};},H2=_0xe8616c=>!(-0x824*-0x2+0x13a3+-0x23eb);class W2{constructor(_0x2cd1d7,_0xe23282,_0x2487de){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x2cd1d7,this['assets']=_0xe23282,this['maxRetries']=_0x2487de,this['urlList']=[],this['gsplatReso'+'urce']=null);}async['load'](_0x1a1002,_0x3db5b6,_0xf0abdd){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x1a1002['load']['includes'](',')?this['urlList']=_0x1a1002['load']['split'](','):this['urlList']['push'](_0x1a1002['load']);const _0x2de71e=_0xf0abdd['data']['loadAllSeq']?this['urlList']['length']:0xd*-0x169+-0x1a8a+-0x10*-0x2ce,_0x31f97a=_0xf0abdd['data']['timeOption'],_0x43004b=_0xf0abdd['data']['events'];for(let _0x89a4e3=-0x21fc+0x8fa+0x1902;_0x89a4e3<_0x2de71e;_0x89a4e3++)await this['loadGsplat'+'Data'](this['urlList'][_0x89a4e3]['trim'](),_0x3db5b6,_0xf0abdd,_0x89a4e3,_0x31f97a,_0x43004b);}async['loadGsplat'+'Data'](_0x4784ef,_0x8dd34f,_0x53997a,_0xbd69f5,_0x511d5d,_0x5b95f6){var _0x55c135;try{const _0x238b03=await fetch(_0x4784ef);if(!_0x238b03||!_0x238b03['body'])_0x8dd34f('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x3dd688=parseInt(_0x238b03['headers']['get']('content-le'+'ngth')??'0',-0x2691+-0x36*-0x13+0x2299*0x1);let _0x26ce05=0x1*0x2a9+0x10cc*-0x1+0xe23;const {data:_0x2a330d,comments:_0x4f5647}=await G2(_0x238b03['body']['getReader'](),_0x53997a['data']['elementFil'+'ter']??H2,_0x30e739=>{_0x26ce05+=_0x30e739,_0x53997a&&_0x5b95f6['fire']('progress',_0x26ce05,_0x3dd688);});_0x2a330d['isCompress'+'ed']||_0x53997a['data']['reorder'],this['gsplatReso'+'urce']&&((_0x55c135=this['gsplatReso'+'urce'])!=null&&_0x55c135['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x2a330d['isCompress'+'ed']&&_0x53997a['data']['decompress']?await _0x2a330d['decompress']():_0x2a330d,_0x511d5d,_0xbd69f5):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new F2(this['device'],_0x2a330d['isCompress'+'ed']&&_0x53997a['data']['decompress']?await _0x2a330d['decompress']():_0x2a330d,_0x4f5647),this['gsplatReso'+'urce']['timeOption']=_0x511d5d,_0x5b95f6['fire']('progressEn'+'d')),_0x8dd34f(null,this['gsplatReso'+'urce']);}}catch(_0xb81b0){_0x8dd34f(_0xb81b0,null);}}['open'](_0x1c4e2b,_0x2a1a0a){return _0x2a1a0a;}}class $2 extends Ne{constructor(_0x1f5f2e){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x1f5f2e,'gsplat'),this['parser']=new W2(_0x1f5f2e['graphicsDe'+'vice'],_0x1f5f2e['assets'],-0x1*-0xe41+0x48*-0x89+0x1*0x184a);}['load'](_0x597031,_0x1b9c20,_0xbf20b8){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x597031=='string'&&(_0x597031={'load':_0x597031,'original':_0x597031}),this['parser']['load'](_0x597031,_0x1b9c20,_0xbf20b8);}['open'](_0x5acfab,_0x434447,_0x35801f){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x5acfab,_0x434447,_0x35801f);}}class wf{static['setCompres'+'sedPRS'](_0x4caf5f,_0x1777c5,_0x13e1f5){const _0x4b4895=_0x13e1f5['singleVecs'];let _0x2af581,_0x19c6a7;const _0x8fbee=_0x1777c5['___1'];_0x8fbee||(_0x2af581=_0x13e1f5['tripleVecs'],_0x19c6a7=_0x1777c5['___2']);let _0x456d6d=_0x8fbee?_0x8fbee[0x270d+-0x5a1+-0x45*0x7c]:_0x2af581[_0x19c6a7];_0x4caf5f['setLocalPo'+'sition'](_0x4b4895[_0x456d6d],_0x4b4895[_0x456d6d+(0x1*-0x907+-0x7ed+-0x1*-0x10f5)],_0x4b4895[_0x456d6d+(-0x3*-0x847+0xf7b+-0x284e)]),_0x456d6d=_0x8fbee?_0x8fbee[-0x518+-0x74*-0x50+0x63b*-0x5]:_0x2af581[_0x19c6a7+(-0x1563+-0x1f*0x101+-0x3483*-0x1)],_0x4caf5f['setLocalEu'+'lerAngles'](_0x4b4895[_0x456d6d],_0x4b4895[_0x456d6d+(0xe3*-0xe+-0x6f*-0x8+0x8f3*0x1)],_0x4b4895[_0x456d6d+(0x2448+0xe72*-0x1+-0x15d4)]),_0x456d6d=_0x8fbee?_0x8fbee[-0x483+-0x3*-0x1c7+-0xd*0x10]:_0x2af581[_0x19c6a7+(-0xf9+-0x502*-0x1+-0x407)],_0x4caf5f['setLocalSc'+'ale'](_0x4b4895[_0x456d6d],_0x4b4895[_0x456d6d+(-0x616*-0x5+-0x79*0x3+-0x1d02)],_0x4b4895[_0x456d6d+(0xd*-0x2f3+-0x12a3*-0x1+-0x3a*-0x57)]);}static['oneCharToK'+'ey'](_0x4e989e,_0x309ab4){const _0x53ba77=_0x4e989e['charCodeAt'](0x17cf+-0xe7*0xb+-0xde2)-_0x309ab4['fieldFirst'+'Code'];return _0x309ab4['fieldArray'][_0x53ba77];}static['multCharTo'+'Key'](_0x4d9750,_0x4c92f7){let _0x4d05c7=-0x234c+0x1330+0x101c;for(let _0x3c5cf0=0x2b0*-0x8+-0x1c1f*-0x1+-0x1*0x69f;_0x3c5cf0<_0x4d9750['length'];_0x3c5cf0++)_0x4d05c7=_0x4d05c7*_0x4c92f7['fieldCodeB'+'ase']+_0x4d9750['charCodeAt'](_0x3c5cf0)-_0x4c92f7['fieldFirst'+'Code'];return _0x4c92f7['fieldArray'][_0x4d05c7];}}class sc{constructor(_0x2fbff6,_0x187aed){this['_node']=_0x2fbff6,this['_data']=_0x187aed;}['run'](){const _0x3fe4f7=Object['prototype']['toString']['call'](this['_node']);return _0x3fe4f7==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x3fe4f7==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x19fa68){let _0x5ac513=_0x19fa68;const _0x8ebc11=_0x19fa68['length'];_0x8ebc11===-0x15*0x93+-0x14ed+0x20fd?_0x5ac513=wf['oneCharToK'+'ey'](_0x19fa68,this['_data']):_0x8ebc11===-0xa67*0x1+-0x1*-0x12c9+-0x860*0x1&&(_0x5ac513=wf['multCharTo'+'Key'](_0x19fa68,this['_data'])),this['_result'][_0x5ac513]=new sc(this['_node'][_0x19fa68],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x13700b){const _0x751513=new sc(_0x13700b,this['_data'])['run']();this['_result']['push'](_0x751513);}}class Wp{constructor(_0x4747f7,_0x346293){this['_app']=_0x4747f7,this['_isTemplat'+'e']=_0x346293;}['parse'](_0x344b00){const _0x51cd89={};let _0xdf8e14=null;const _0x568c64=_0x344b00['compressed'+'Format'];_0x568c64&&!_0x344b00['entDecompr'+'essed']&&(_0x344b00['entDecompr'+'essed']=!(0x1e21+0xbe9+-0x2a0a*0x1),_0x344b00['entities']=new sc(_0x344b00['entities'],_0x568c64)['run']());for(const _0x3cbb19 in _0x344b00['entities']){const _0x52d74a=_0x344b00['entities'][_0x3cbb19],_0x51de69=this['_createEnt'+'ity'](_0x52d74a,_0x568c64);_0x51cd89[_0x3cbb19]=_0x51de69,_0x52d74a['parent']===null&&(_0xdf8e14=_0x51de69);}for(const _0x3177f1 in _0x344b00['entities']){const _0x14f237=_0x51cd89[_0x3177f1],_0x36a3c6=_0x344b00['entities'][_0x3177f1]['children'],_0x466751=_0x36a3c6['length'];for(let _0x5d45c0=-0xb*0x11e+0x23*-0xf1+0x2d3d;_0x5d45c0<_0x466751;_0x5d45c0++){const _0xec9ba8=_0x51cd89[_0x36a3c6[_0x5d45c0]];_0xec9ba8&&_0x14f237['addChild'](_0xec9ba8);}}return this['_openCompo'+'nentData'](_0xdf8e14,_0x344b00['entities']),_0xdf8e14;}['_createEnt'+'ity'](_0x153a7e,_0x420625){const _0x417fe8=new We(_0x153a7e['name'],this['_app']);if(_0x417fe8['setGuid'](_0x153a7e['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x417fe8,_0x153a7e,_0x420625),_0x417fe8['_enabled']=_0x153a7e['enabled']??!(0x4*0x371+0x493*-0x8+0x6*0x3ce),this['_isTemplat'+'e']?_0x417fe8['_template']=!(0x44+-0x1*0x25e1+-0x1*-0x259d):_0x417fe8['_enabledIn'+'Hierarchy']=_0x417fe8['_enabled'],_0x417fe8['template']=_0x153a7e['template'],_0x153a7e['tags']){for(let _0x386edf=0x228e*-0x1+0x11*0xd4+0x147a;_0x386edf<_0x153a7e['tags']['length'];_0x386edf++)_0x417fe8['tags']['add'](_0x153a7e['tags'][_0x386edf]);}return _0x417fe8;}['_setPosRot'+'Scale'](_0x2a21f2,_0x37b799,_0xf57088){if(_0xf57088)wf['setCompres'+'sedPRS'](_0x2a21f2,_0x37b799,_0xf57088);else{const _0xfd103b=_0x37b799['position'],_0x41ecd8=_0x37b799['rotation'],_0xfaaf01=_0x37b799['scale'];_0x2a21f2['setLocalPo'+'sition'](_0xfd103b[-0x165c+-0x12b*0x4+-0x1*-0x1b08],_0xfd103b[-0x10d*0x4+0x81*-0xd+0xac2],_0xfd103b[-0x2127+0x270+0xd*0x25d]),_0x2a21f2['setLocalEu'+'lerAngles'](_0x41ecd8[-0x2242+0x38c*0x8+0x5e2],_0x41ecd8[-0x2*0x4d2+-0x1217+0x1bbc],_0x41ecd8[-0x1133*-0x1+-0x4*-0x593+0xb*-0x397]),_0x2a21f2['setLocalSc'+'ale'](_0xfaaf01[-0x2531+0x6a6*-0x5+0x3b5*0x13],_0xfaaf01[0x1f12+0x2490+-0x43a1],_0xfaaf01[0x1*-0xcb+0x2*0x34+0x65]);}}['_openCompo'+'nentData'](_0x303443,_0x3591e1){const _0x475f23=this['_app']['systems']['list'];let _0x41582e=_0x475f23['length'];const _0x5c3139=_0x3591e1[_0x303443['getGuid']()];for(let _0x2e6c43=-0x6*0x640+0x1fea+0x596;_0x2e6c43<_0x41582e;_0x2e6c43++){const _0x4123f1=_0x475f23[_0x2e6c43],_0x1b7ad3=_0x5c3139['components'][_0x4123f1['id']];_0x1b7ad3&&_0x4123f1['addCompone'+'nt'](_0x303443,_0x1b7ad3);}_0x41582e=_0x5c3139['children']['length'];const _0x97f7e8=_0x303443['_children'];for(let _0x143c09=0xa*-0x256+0xce7+0xa75*0x1;_0x143c09<_0x41582e;_0x143c09++)_0x97f7e8[_0x143c09]?_0x97f7e8[_0x143c09]=this['_openCompo'+'nentData'](_0x97f7e8[_0x143c09],_0x3591e1):v['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x303443['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x303443;}}class Lx{static['load'](_0x2c2934,_0x19ef86,_0x50b64a){typeof _0x2c2934=='string'&&(_0x2c2934={'load':_0x2c2934,'original':_0x2c2934}),$e['get'](_0x2c2934['load'],{'retry':_0x19ef86>0x105d+0x7bb+0xc*-0x202,'maxRetries':_0x19ef86},(_0x24165c,_0x2d13cb)=>{if(!_0x24165c)_0x50b64a(_0x24165c,_0x2d13cb);else{let _0x251218='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x2c2934['original'];_0x24165c['message']?(_0x251218+=':\x20'+_0x24165c['message'],_0x24165c['stack']&&(_0x251218+='\x0a'+_0x24165c['stack'])):_0x251218+=':\x20'+_0x24165c,_0x50b64a(_0x251218);}});}}class q2 extends Ne{constructor(_0x218405){super(_0x218405,'hierarchy');}['load'](_0x33a0b3,_0x307619){Lx['load'](_0x33a0b3,this['maxRetries'],_0x307619);}['open'](_0x410028,_0x4a0f08){this['_app']['systems']['script']['preloading']=!(0x2*0xd25+0x1a66+-0x34b0);const _0x1892de=new Wp(this['_app'],!(-0x1c98+-0x4*-0x376+0x3*0x4eb))['parse'](_0x4a0f08);return this['_app']['systems']['script']['preloading']=!(-0xfec+-0x47*-0x61+0x5*-0x232),_0x1892de;}}class X2 extends Ne{constructor(_0x1315c0){super(_0x1315c0,'html'),c(this,'decoder',null);}['load'](_0x46b94f,_0x207b47){typeof _0x46b94f=='string'&&(_0x46b94f={'load':_0x46b94f,'original':_0x46b94f}),$e['get'](_0x46b94f['load'],{'retry':this['maxRetries']>0x1b81+-0xe66*0x1+-0xd1b,'maxRetries':this['maxRetries']},(_0x2fbf99,_0x537889)=>{_0x2fbf99?_0x207b47('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x46b94f['original']+'\x20['+_0x2fbf99+']'):_0x207b47(null,_0x537889);});}['openBinary'](_0x27e0af){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x27e0af);}}class j2 extends Ne{constructor(_0x57691b){super(_0x57691b,'json'),c(this,'decoder',null);}['load'](_0xe49585,_0x1dfb8a){typeof _0xe49585=='string'&&(_0xe49585={'load':_0xe49585,'original':_0xe49585});const _0x552ea6={'retry':this['maxRetries']>-0x24ad+0x2*-0x942+0x3731,'maxRetries':this['maxRetries']};_0xe49585['load']['startsWith']('blob:')&&(_0x552ea6['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0xe49585['load'],_0x552ea6,(_0xe5a518,_0x2ff876)=>{_0xe5a518?_0x1dfb8a('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0xe49585['original']+'\x20['+_0xe5a518+']'):_0x1dfb8a(null,_0x2ff876);});}['openBinary'](_0x1a35b7){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x1a35b7));}}class Y2{constructor(){this['removeInva'+'lid']=!(0xa52+-0x35b+-0x6f7*0x1),this['valid']=!(0x1*-0x61+-0x6a*0x4+0x209),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Bo,Lu]),'cull':this['_createEnu'+'mValidator']([mt,rn,mo,RS]),'blendType':this['_createEnu'+'mValidator']([n0,yp,Kt,is,hr,xp,Hc,a0,o0,l0,h0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Eh,Ch,fu,DS,LS,FS,Ai])};}['setInvalid'](_0x4581af,_0x48e370){this['valid']=!(0x26f7+0xf49+-0x363f),v['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x4581af,_0x48e370[_0x4581af]),this['removeInva'+'lid']&&delete _0x48e370[_0x4581af];}['validate'](_0x189aa4){const _0x28a8ee=Pa,_0x50dd98=QC,_0x4b23c2=_0x189aa4['mappingFor'+'mat']==='path';for(const _0x13399d in _0x189aa4){const _0x3a8acb=_0x28a8ee[_0x13399d];if(!_0x3a8acb){_0x50dd98[_0x13399d]?delete _0x189aa4[_0x13399d]:(v['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x13399d),this['valid']=!(-0x3*0xb27+0x1*0x4b3+0x1cc3));continue;}if(_0x3a8acb['startsWith']('enum')){const _0x30c53d=_0x3a8acb['split'](':')[0x2*-0xeb5+0x87e*0x2+0xc6f];this['enumValida'+'tors'][_0x30c53d]&&(this['enumValida'+'tors'][_0x30c53d](_0x189aa4[_0x13399d])||this['setInvalid'](_0x13399d,_0x189aa4));}else{if(_0x3a8acb==='number')typeof _0x189aa4[_0x13399d]!='number'&&this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='boolean')typeof _0x189aa4[_0x13399d]!='boolean'&&this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='string')typeof _0x189aa4[_0x13399d]!='string'&&this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='vec2')_0x189aa4[_0x13399d]instanceof Array&&_0x189aa4[_0x13399d]['length']===0x3ab+-0x2*-0x6c1+-0x112b||this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='rgb')_0x189aa4[_0x13399d]instanceof Array&&_0x189aa4[_0x13399d]['length']===0x2*-0x1c0+0x33e+0x17*0x3||this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='texture')_0x4b23c2?typeof _0x189aa4[_0x13399d]=='string'||_0x189aa4[_0x13399d]===null||_0x189aa4[_0x13399d]instanceof he||this['setInvalid'](_0x13399d,_0x189aa4):typeof _0x189aa4[_0x13399d]=='number'||_0x189aa4[_0x13399d]===null||_0x189aa4[_0x13399d]instanceof he||this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='boundingbo'+'x')_0x189aa4[_0x13399d]['center']&&_0x189aa4[_0x13399d]['center']instanceof Array&&_0x189aa4[_0x13399d]['center']['length']===-0x168d+0x1171+0x1*0x51f||this['setInvalid'](_0x13399d,_0x189aa4),_0x189aa4[_0x13399d]['halfExtent'+'s']&&_0x189aa4[_0x13399d]['halfExtent'+'s']instanceof Array&&_0x189aa4[_0x13399d]['halfExtent'+'s']['length']===-0x267b+-0x1150+-0x129a*-0x3||this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='cubemap')typeof _0x189aa4[_0x13399d]=='number'||_0x189aa4[_0x13399d]===null||_0x189aa4[_0x13399d]===void(-0xe56+0x773*0x5+-0x16e9)||_0x189aa4[_0x13399d]instanceof he&&_0x189aa4[_0x13399d]['cubemap']||this['setInvalid'](_0x13399d,_0x189aa4);else{if(_0x3a8acb==='chunks'){const _0x3f6b7e=Object['keys'](_0x189aa4[_0x13399d]);for(let _0xddf139=0x1ff4+-0xbee*-0x3+-0xd*0x536;_0xddf139<_0x3f6b7e['length'];_0xddf139++)typeof _0x189aa4[_0x13399d][_0x3f6b7e[_0xddf139]]!='string'&&this['setInvalid'](_0x3f6b7e[_0xddf139],_0x189aa4[_0x13399d]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x3a8acb);}}}}}}}}}}return _0x189aa4['validated']=!(-0x3e*-0x7c+0x317*0x2+-0x135*0x1e),this['valid'];}['_createEnu'+'mValidator'](_0x442740){return function(_0x7c03f1){return _0x442740['indexOf'](_0x7c03f1)>=-0xda*-0xa+0x1024+-0x18a8;};}}class K2{constructor(){this['_validator']=null;}['parse'](_0x596ed0){const _0x3a4992=this['migrate'](_0x596ed0),_0x31c990=this['_validate'](_0x3a4992),_0x19c4a3=new cs();return this['initialize'](_0x19c4a3,_0x31c990),_0x19c4a3;}['initialize'](_0x527068,_0x276a07){_0x276a07['validated']||(_0x276a07=this['_validate'](_0x276a07)),_0x276a07['chunks']&&(_0x527068['chunks']={..._0x276a07['chunks']});for(const _0x4250ff in _0x276a07){const _0x173ab7=Pa[_0x4250ff],_0x8bc093=_0x276a07[_0x4250ff];if(_0x173ab7==='vec2')_0x527068[_0x4250ff]=new W(_0x8bc093[0xb0c+0x19*0x161+-0x2d85],_0x8bc093[0x2136+-0xb37+-0x15fe]);else{if(_0x173ab7==='rgb')_0x527068[_0x4250ff]=new Y(_0x8bc093[-0x208e+-0x2*-0xd58+0x5de],_0x8bc093[-0x5dc+-0x147e+0x1a5b],_0x8bc093[0x1052+0x2d2*0x2+-0x15f4]);else{if(_0x173ab7==='texture')_0x8bc093 instanceof he?_0x527068[_0x4250ff]=_0x8bc093:_0x527068[_0x4250ff]instanceof he&&typeof _0x8bc093=='number'&&_0x8bc093>0x15ab+0x1*-0x1cea+0x73f||(_0x527068[_0x4250ff]=null);else{if(_0x173ab7==='cubemap')_0x8bc093 instanceof he?_0x527068[_0x4250ff]=_0x8bc093:_0x527068[_0x4250ff]instanceof he&&typeof _0x8bc093=='number'&&_0x8bc093>-0x3*-0x575+-0x20b5+0x1056||(_0x527068[_0x4250ff]=null),_0x4250ff==='cubeMap'&&!_0x8bc093&&(_0x527068['prefiltere'+'dCubemaps']=null);else{if(_0x173ab7==='boundingbo'+'x'){const _0x306188=new T(_0x8bc093['center'][-0x735+-0x2fe+-0x175*-0x7],_0x8bc093['center'][0x23b*-0x3+0x1*-0x23a6+0x2a58],_0x8bc093['center'][-0xf73+-0xbb3*0x2+0x1*0x26db]),_0x1fc6e1=new T(_0x8bc093['halfExtent'+'s'][0x11ad+-0xb51+-0x65c],_0x8bc093['halfExtent'+'s'][-0x2239+-0x1a95+0x3ccf],_0x8bc093['halfExtent'+'s'][0x189b+-0x815*-0x4+-0x38ed]);_0x527068[_0x4250ff]=new _e(_0x306188,_0x1fc6e1);}else _0x527068[_0x4250ff]=_0x276a07[_0x4250ff];}}}}}_0x527068['update']();}['migrate'](_0x4ee75c){_0x4ee75c['shader']&&delete _0x4ee75c['shader'],_0x4ee75c['mapping_fo'+'rmat']&&(_0x4ee75c['mappingFor'+'mat']=_0x4ee75c['mapping_fo'+'rmat'],delete _0x4ee75c['mapping_fo'+'rmat']);let _0x552174;const _0x38382a=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x552174=-0xa28+0xb36+-0x10e;_0x552174<_0x38382a['length'];_0x552174++){const _0x2ca4ba=_0x38382a[_0x552174][0x21c3+0x3*0x407+0x2dd8*-0x1],_0x338e67=_0x38382a[_0x552174][0x291+0x1fcf+-0x225f];_0x4ee75c[_0x2ca4ba]!==void(-0x21af*-0x1+0xa5b+0x3*-0xeae)&&(_0x4ee75c[_0x338e67]===void(-0xc20+0x73a+-0x39*-0x16)&&(_0x4ee75c[_0x338e67]=_0x4ee75c[_0x2ca4ba]),delete _0x4ee75c[_0x2ca4ba]);}const _0x8b1df=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x552174=0x4*0x101+-0x2*0x431+0x45e;_0x552174<_0x8b1df['length'];_0x552174++){const _0x60695e=_0x8b1df[_0x552174];_0x4ee75c['hasOwnProp'+'erty'](_0x60695e)&&delete _0x4ee75c[_0x60695e];}return _0x4ee75c;}['_validate'](_0x4ad419){return _0x4ad419['validated']||(this['_validator']||(this['_validator']=new Y2()),this['_validator']['validate'](_0x4ad419)),_0x4ad419;}}const Z2={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class Q2 extends Ne{constructor(_0x367c6e){super(_0x367c6e,'material'),this['_assets']=_0x367c6e['assets'],this['_device']=_0x367c6e['graphicsDe'+'vice'],this['_parser']=new K2();}['load'](_0x46b783,_0x12aabe){typeof _0x46b783=='string'&&(_0x46b783={'load':_0x46b783,'original':_0x46b783}),$e['get'](_0x46b783['load'],{'retry':this['maxRetries']>0x3*-0x5cb+0x1fae+-0xe4d,'maxRetries':this['maxRetries']},(_0x3c57f0,_0x4d9034)=>{_0x3c57f0?_0x12aabe&&_0x12aabe('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x46b783['original']+'\x20['+_0x3c57f0+']'):_0x12aabe&&(_0x4d9034['_engine']=!(0x215*0x7+0x1*0x52d+-0x9e*0x20),_0x12aabe(null,_0x4d9034));});}['open'](_0x5db41f,_0x49b763){const _0x387b8f=this['_parser']['parse'](_0x49b763);return _0x49b763['_engine']&&(_0x387b8f['_data']=_0x49b763,delete _0x49b763['_engine']),_0x387b8f;}['patch'](_0x1aea36,_0x954074){_0x1aea36['resource']['_data']&&(_0x1aea36['_data']=_0x1aea36['resource']['_data'],delete _0x1aea36['resource']['_data']),_0x1aea36['data']['name']=_0x1aea36['name'],_0x1aea36['resource']['name']=_0x1aea36['name'],this['_bindAndAs'+'signAssets'](_0x1aea36,_0x954074),_0x1aea36['off']('unload',this['_onAssetUn'+'load'],this),_0x1aea36['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x2dcf1f){delete _0x2dcf1f['data']['parameters'],delete _0x2dcf1f['data']['chunks'],delete _0x2dcf1f['data']['name'];}['_assignTex'+'ture'](_0x5d7e6d,_0x38bd06,_0x30d0da){_0x38bd06['resource'][_0x5d7e6d]=_0x30d0da;}['_getPlaceh'+'olderTextu'+'re'](_0x12d6b8){const _0x395c1c=Z2[_0x12d6b8];return v['assert'](_0x395c1c,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x12d6b8),en(this['_device'],_0x395c1c);}['_assignPla'+'ceholderTe'+'xture'](_0x126b69,_0x3ce6cb){_0x3ce6cb['resource'][_0x126b69]=this['_getPlaceh'+'olderTextu'+'re'](_0x126b69);}['_onTexture'+'Load'](_0x1225e8,_0xb2454a,_0x3a61a1){this['_assignTex'+'ture'](_0x1225e8,_0xb2454a,_0x3a61a1['resource']),_0xb2454a['resource']['update']();}['_onTexture'+'Add'](_0x407fe1,_0x52e8be,_0x419261){this['_assets']['load'](_0x419261);}['_onTexture'+'RemoveOrUn'+'load'](_0x39dde8,_0x3e3a79,_0x2a1490){const _0x337089=_0x3e3a79['resource'];_0x337089&&_0x3e3a79['resource'][_0x39dde8]===_0x2a1490['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x39dde8,_0x3e3a79),_0x337089['update']());}['_assignCub'+'emap'](_0x1efe79,_0x58586b,_0x4f9ab6){if(_0x58586b['resource'][_0x1efe79]=_0x4f9ab6[-0x1d*0x13b+-0x2344+0x46f3],_0x1efe79==='cubeMap'){const _0x23f4cf=_0x4f9ab6['slice'](-0x13*0x1cf+-0x73*-0x17+0x15*0x125);_0x23f4cf['every'](_0x52be70=>_0x52be70)?_0x58586b['resource']['prefiltere'+'dCubemaps']=_0x23f4cf:_0x23f4cf[-0x2*-0x7b2+0x1ed*0x3+-0x152b]&&(_0x58586b['resource']['envAtlas']=_0x23f4cf[0x26b8+0x26e9*-0x1+0x7*0x7]);}}['_onCubemap'+'Load'](_0x31a341,_0x3aceda,_0x37eeb2){this['_assignCub'+'emap'](_0x31a341,_0x3aceda,_0x37eeb2['resources']),this['_parser']['initialize'](_0x3aceda['resource'],_0x3aceda['data']);}['_onCubemap'+'Add'](_0x3a5ddf,_0x22a363,_0x27f743){this['_assets']['load'](_0x27f743);}['_onCubemap'+'RemoveOrUn'+'load'](_0x22c428,_0x306da7,_0x2dc5b8){const _0x181ef2=_0x306da7['resource'];_0x306da7['data']['prefiltere'+'dCubeMap12'+'8']===_0x2dc5b8['resources'][-0x2689+-0x2500+0x36f*0x16]&&(this['_assignCub'+'emap'](_0x22c428,_0x306da7,[null,null,null,null,null,null,null]),_0x181ef2['update']());}['_bindAndAs'+'signAssets'](_0x146b54,_0xc983c9){const _0x5ef87c=this['_parser']['migrate'](_0x146b54['data']),_0x227b2b=_0x146b54['resource'],_0x2a2883=_0x5ef87c['mappingFor'+'mat']==='path',_0x36baf1=Kc;let _0xc530a9,_0x569298,_0x57fe69;for(_0xc530a9=0x10b7+-0x1604*0x1+-0x54d*-0x1;_0xc530a9<_0x36baf1['length'];_0xc530a9++){_0x569298=_0x36baf1[_0xc530a9],_0x57fe69=_0x227b2b['_assetRefe'+'rences'][_0x569298];const _0x5dc369=_0x5ef87c[_0x569298],_0x40f273=_0x227b2b[_0x569298],_0x2ea17d=_0x40f273===this['_getPlaceh'+'olderTextu'+'re'](_0x569298),_0x106387=_0x5ef87c['validated'];_0x5dc369&&(!_0x40f273||!_0x106387||_0x2ea17d)?(_0x57fe69||(_0x57fe69=new Go(_0x569298,_0x146b54,_0xc983c9,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x227b2b['_assetRefe'+'rences'][_0x569298]=_0x57fe69),_0x2a2883?_0x57fe69['url']=_0x146b54['getAbsolut'+'eUrl'](_0x5dc369):_0x57fe69['id']=_0x5dc369,_0x57fe69['asset']&&(_0x57fe69['asset']['resource']?this['_assignTex'+'ture'](_0x569298,_0x146b54,_0x57fe69['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x569298,_0x146b54),_0xc983c9['load'](_0x57fe69['asset']))):_0x57fe69&&(_0x2a2883?_0x57fe69['url']=null:_0x57fe69['id']=null);}const _0x2561d4=Fp;for(_0xc530a9=-0x43f+-0x1c2+0x601;_0xc530a9<_0x2561d4['length'];_0xc530a9++)_0x569298=_0x2561d4[_0xc530a9],_0x57fe69=_0x227b2b['_assetRefe'+'rences'][_0x569298],_0x5ef87c[_0x569298]&&!_0x146b54['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x57fe69||(_0x57fe69=new Go(_0x569298,_0x146b54,_0xc983c9,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x227b2b['_assetRefe'+'rences'][_0x569298]=_0x57fe69),_0x2a2883?_0x57fe69['url']=_0x5ef87c[_0x569298]:_0x57fe69['id']=_0x5ef87c[_0x569298],_0x57fe69['asset']&&(_0x57fe69['asset']['loaded']&&this['_assignCub'+'emap'](_0x569298,_0x146b54,_0x57fe69['asset']['resources']),_0xc983c9['load'](_0x57fe69['asset'])));this['_parser']['initialize'](_0x227b2b,_0x5ef87c);}}class J2{constructor(_0x11734f){this['_device']=_0x11734f['device'],this['_defaultMa'+'terial']=_0x11734f['defaultMat'+'erial'],this['_assets']=_0x11734f['assets'];}['parse'](_0x7b61d8,_0x3dc04c,_0x4425bf){tc['parse']('filename.g'+'lb','',_0x7b61d8,this['_device'],this['_assets'],(_0x4425bf==null?void(0xcd*-0x2d+-0x1cc9+0x40d2):_0x4425bf['options'])??{},(_0x32272f,_0x155eea)=>{if(_0x32272f)_0x3dc04c(_0x32272f);else{const _0x2f1316=tr['createMode'+'l'](_0x155eea,this['_defaultMa'+'terial']);_0x155eea['destroy'](),_0x3dc04c(null,_0x2f1316);}});}}const eL={'points':Mc,'lines':Pc,'lineloop':My,'linestrip':Py,'triangles':Ms,'trianglestrip':ar,'trianglefan':Yr},tL={'int8':Rc,'uint8':Kr,'int16':Ic,'uint16':el,'int32':By,'uint32':Do,'float32':Ee};class sL{constructor(_0x497dc6){this['_device']=_0x497dc6['device'],this['_defaultMa'+'terial']=_0x497dc6['defaultMat'+'erial'];}['parse'](_0x217174,_0xf52a46){const _0x51de15=_0x217174['model'];if(!_0x51de15){_0xf52a46(null,null);return;}if(_0x51de15['version']<=-0x9b8+-0x1479+-0xa*-0x305){_0xf52a46('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x6b6a=this['_parseNode'+'s'](_0x217174),_0x23b362=this['_parseSkin'+'s'](_0x217174,_0x6b6a),_0x248039=this['_parseVert'+'exBuffers'](_0x217174),_0x208f59=this['_parseInde'+'xBuffers'](_0x217174,_0x248039),_0x555826=this['_parseMorp'+'hs'](_0x217174,_0x6b6a,_0x248039),_0x2b1149=this['_parseMesh'+'es'](_0x217174,_0x23b362['skins'],_0x555826['morphs'],_0x248039,_0x208f59['buffer'],_0x208f59['data']),_0x228707=this['_parseMesh'+'Instances'](_0x217174,_0x6b6a,_0x2b1149,_0x23b362['skins'],_0x23b362['instances'],_0x555826['morphs'],_0x555826['instances']),_0x53d603=new Oi();_0x53d603['graph']=_0x6b6a[0x1005*-0x1+0x1840+-0x83b],_0x53d603['meshInstan'+'ces']=_0x228707,_0x53d603['skinInstan'+'ces']=_0x23b362['instances'],_0x53d603['morphInsta'+'nces']=_0x555826['instances'],_0x53d603['getGraph']()['syncHierar'+'chy'](),_0xf52a46(null,_0x53d603);}['_parseNode'+'s'](_0xf29b42){const _0x252fbe=_0xf29b42['model'],_0x4cb6bf=[];let _0x37a60d;for(_0x37a60d=-0x25*0xbf+0x1530+-0x35*-0x1f;_0x37a60d<_0x252fbe['nodes']['length'];_0x37a60d++){const _0x2daf31=_0x252fbe['nodes'][_0x37a60d],_0x2cfd40=new De(_0x2daf31['name']);_0x2cfd40['setLocalPo'+'sition'](_0x2daf31['position'][-0x1*-0xfa1+0x2*0xa8b+-0x24b7],_0x2daf31['position'][-0x49e*-0x1+-0x10cd+0xc30],_0x2daf31['position'][-0xf*0x53+0x2*-0xdff+-0x20dd*-0x1]),_0x2cfd40['setLocalEu'+'lerAngles'](_0x2daf31['rotation'][-0x404+0x1*0x1543+0x5*-0x373],_0x2daf31['rotation'][0xc78+-0x1d9b+0x1124],_0x2daf31['rotation'][-0x5fb*-0x3+-0x245a+-0xcd*-0x17]),_0x2cfd40['setLocalSc'+'ale'](_0x2daf31['scale'][-0x5c5+0x2*-0x50b+0xfdb],_0x2daf31['scale'][0x17bf+-0x190a+0x14c],_0x2daf31['scale'][0x2352*0x1+0x120e+0x42*-0xcf]),_0x2cfd40['scaleCompe'+'nsation']=!!_0x2daf31['scaleCompe'+'nsation'],_0x4cb6bf['push'](_0x2cfd40);}for(_0x37a60d=0x1*0x183b+-0x24a6+-0x212*-0x6;_0x37a60d<_0x252fbe['parents']['length'];_0x37a60d++)_0x4cb6bf[_0x252fbe['parents'][_0x37a60d]]['addChild'](_0x4cb6bf[_0x37a60d]);return _0x4cb6bf;}['_parseSkin'+'s'](_0x5c03e1,_0x502aa2){const _0x2f4810=_0x5c03e1['model'],_0x28c8e0=[],_0x5466c6=[];let _0x28e574,_0x39b181;for(_0x28e574=-0x9*0x3a5+-0x5e4+0x23*0x11b;_0x28e574<_0x2f4810['skins']['length'];_0x28e574++){const _0x5521ea=_0x2f4810['skins'][_0x28e574],_0x2101e4=[];for(_0x39b181=0x172*-0xd+0xc49+0x681;_0x39b181<_0x5521ea['inverseBin'+'dMatrices']['length'];_0x39b181++){const _0x33f283=_0x5521ea['inverseBin'+'dMatrices'][_0x39b181];_0x2101e4[_0x39b181]=new q()['set'](_0x33f283);}const _0x5e1251=new N0(this['_device'],_0x2101e4,_0x5521ea['boneNames']);_0x28c8e0['push'](_0x5e1251);const _0x5834f9=new nl(_0x5e1251),_0x5401a4=[];for(_0x39b181=0x126+0x1*-0x819+0x251*0x3;_0x39b181<_0x5e1251['boneNames']['length'];_0x39b181++){const _0x30d3a3=_0x5e1251['boneNames'][_0x39b181],_0x15740a=_0x502aa2[0xf5d+-0xe5*-0x3+-0x120c]['findByName'](_0x30d3a3);_0x5401a4['push'](_0x15740a);}_0x5834f9['bones']=_0x5401a4,_0x5466c6['push'](_0x5834f9);}return{'skins':_0x28c8e0,'instances':_0x5466c6};}['_getMorphV'+'ertexCount'](_0x4c547b,_0x5f0056,_0x492c74){for(let _0x49fa7e=-0x539*0x6+0x6f2*0x3+0x80*0x15;_0x49fa7e<_0x4c547b['meshes']['length'];_0x49fa7e++){const _0x2f6726=_0x4c547b['meshes'][_0x49fa7e];if(_0x2f6726['morph']===_0x5f0056)return _0x492c74[_0x2f6726['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x4b9f9d,_0x14869f,_0x489da4){const _0x311e04=_0x4b9f9d['model'],_0x5d573f=[],_0x8f75b8=[];let _0x67e38b,_0x59e2f3,_0x12d0ff,_0x588d50,_0x1b3e6c,_0x1670ad;if(_0x311e04['morphs']){const _0x51e62c=function(_0xb59a01,_0x37722c,_0x317741){const _0x3a120b=new Float32Array(_0x317741*(-0x1454+-0x401+0x1858));for(let _0xe3896a=-0x1164+0xd94+-0xf4*-0x4;_0xe3896a<_0x37722c['length'];_0xe3896a++){const _0x2eb8a5=_0x37722c[_0xe3896a]*(-0x4bf+0x245c+0x1f9a*-0x1);_0x3a120b[_0x2eb8a5]=_0xb59a01[_0xe3896a*(-0x17f4+0x1ceb+0x1*-0x4f4)],_0x3a120b[_0x2eb8a5+(-0x1*0xfc4+-0x2123*0x1+0x30e8)]=_0xb59a01[_0xe3896a*(0xd9*-0x29+-0x6*-0x5d9+-0x52)+(0x1497+0x1*-0x2335+-0xe9f*-0x1)],_0x3a120b[_0x2eb8a5+(0x244a+-0x4e4*-0x2+-0x430*0xb)]=_0xb59a01[_0xe3896a*(-0xa12+0xa00+0x15)+(0x505*0x7+-0x1ee8+0x439*-0x1)];}return _0x3a120b;};for(_0x67e38b=-0x82e+0x46b*0x3+-0x513;_0x67e38b<_0x311e04['morphs']['length'];_0x67e38b++){for(_0x588d50=_0x311e04['morphs'][_0x67e38b]['targets'],_0x1670ad=[],_0x12d0ff=this['_getMorphV'+'ertexCount'](_0x311e04,_0x67e38b,_0x489da4),_0x59e2f3=-0x60a*-0x1+-0x184c+0x1242;_0x59e2f3<_0x588d50['length'];_0x59e2f3++){const _0x559ab4=_0x588d50[_0x59e2f3]['aabb'],_0x36cbe7=_0x559ab4['min'],_0x5a0e91=_0x559ab4['max'],_0xb08a69=new _e(new T((_0x5a0e91[-0x26ff+0x4*0x566+-0x37*-0x51]+_0x36cbe7[0x2564+0x3*0x93+-0x20f*0x13])*(0x1a2e+0x1*0x1331+-0x2d5f+0.5),(_0x5a0e91[-0x12ed*-0x2+-0x8e8+-0x1f*0xef]+_0x36cbe7[0x1*0x101a+-0x2073+0x2e*0x5b])*(-0x1ece+0x1*0x71b+0x17b3+0.5),(_0x5a0e91[0x806+0x85*-0x19+0x4f9]+_0x36cbe7[-0xd*0x168+-0x1b76+0x2dc0])*(-0x3*-0x48f+0x1dc*0x2+0x1165*-0x1+0.5)),new T((_0x5a0e91[-0x33*-0x9e+0xed5*0x1+-0x5*0x943]-_0x36cbe7[0x20e*0x1+-0x1d*0x69+0x9d7])*(-0x1f98+0x3*-0x1a+-0x551*-0x6+0.5),(_0x5a0e91[-0x12ce*0x2+0x1e3+0x23ba]-_0x36cbe7[0x4ef+0x10ad+-0x159b])*(-0x1295*0x1+-0x1*0x18f9+0x2b8e+0.5),(_0x5a0e91[-0x1499*0x1+-0x17aa+0x2c45]-_0x36cbe7[0xe7*0x3+0x2ea+-0x59d*0x1])*(-0x616*-0x5+-0xfe8+0x1*-0xe86+0.5))),_0x338d86=_0x588d50[_0x59e2f3]['indices'];let _0x26b75d=_0x588d50[_0x59e2f3]['deltaPosit'+'ions'],_0x540e23=_0x588d50[_0x59e2f3]['deltaNorma'+'ls'];_0x338d86&&(_0x26b75d=_0x51e62c(_0x26b75d,_0x338d86,_0x12d0ff),_0x540e23=_0x51e62c(_0x540e23,_0x338d86,_0x12d0ff)),_0x1b3e6c=new Qc({'deltaPositions':_0x26b75d,'deltaNormals':_0x540e23,'name':_0x588d50[_0x59e2f3]['name'],'aabb':_0xb08a69}),_0x1670ad['push'](_0x1b3e6c);}const _0x22dcba=new F0(_0x1670ad,this['_device']);_0x5d573f['push'](_0x22dcba);const _0xa3d90d=new fn(_0x22dcba);_0x8f75b8['push'](_0xa3d90d);}}return{'morphs':_0x5d573f,'instances':_0x8f75b8};}['_parseVert'+'exBuffers'](_0x137909){const _0x201476=_0x137909['model'],_0x55c7bc=[],_0x1f6496={'position':He,'normal':Yt,'tangent':Zs,'blendWeight':Ys,'blendIndices':qt,'color':At,'texCoord0':ns,'texCoord1':_n,'texCoord2':jo,'texCoord3':Yo,'texCoord4':Ko,'texCoord5':Zo,'texCoord6':Qo,'texCoord7':Jo};for(let _0x18b97f=-0x2b4*-0x6+-0x4*0x2b9+-0x554;_0x18b97f<_0x201476['vertices']['length'];_0x18b97f++){const _0x3807ae=_0x201476['vertices'][_0x18b97f],_0x51c775=[];for(const _0x4b86fa in _0x3807ae){const _0x301087=_0x3807ae[_0x4b86fa];_0x51c775['push']({'semantic':_0x1f6496[_0x4b86fa],'components':_0x301087['components'],'type':tL[_0x301087['type']],'normalize':_0x1f6496[_0x4b86fa]===At});}const _0x1605dd=new Et(this['_device'],_0x51c775),_0x31f4d4=_0x3807ae['position']['data']['length']/_0x3807ae['position']['components'],_0x1787d7=new os(this['_device'],_0x1605dd,_0x31f4d4),_0x10205b=new go(_0x1787d7);for(let _0x2d1cf6=-0x3a0+-0xb0c+-0xeac*-0x1;_0x2d1cf6<_0x31f4d4;_0x2d1cf6++){for(const _0x27ff2e in _0x3807ae){const _0x3f4062=_0x3807ae[_0x27ff2e];switch(_0x3f4062['components']){case-0x10*-0x142+0x1*-0x1cfb+0x7e*0x12:_0x10205b['element'][_0x1f6496[_0x27ff2e]]['set'](_0x3f4062['data'][_0x2d1cf6]);break;case 0x12dc*-0x2+-0x266c*0x1+-0xab*-0x72:_0x10205b['element'][_0x1f6496[_0x27ff2e]]['set'](_0x3f4062['data'][_0x2d1cf6*(-0xfb5*-0x1+-0x267c*-0x1+-0x362f)],-0x406+-0x2*-0x21f+-0x37-_0x3f4062['data'][_0x2d1cf6*(-0x26*0xcd+0x368*-0x6+0x32e0)+(-0x263b+-0xc9*0x1d+0x3d01)]);break;case 0x937*0x3+-0x27e+-0x2*0xc92:_0x10205b['element'][_0x1f6496[_0x27ff2e]]['set'](_0x3f4062['data'][_0x2d1cf6*(-0x145*0x19+0xe7d*-0x2+-0x3*-0x143e)],_0x3f4062['data'][_0x2d1cf6*(0x199*-0xb+-0x1275+0x240b)+(0x210+-0x1594+0x13*0x107)],_0x3f4062['data'][_0x2d1cf6*(0x1*-0x5b5+0xfd0+0x88*-0x13)+(-0x325+-0xb6+0x3dd)]);break;case 0xa00+-0x1*0x173a+-0xd3e*-0x1:_0x10205b['element'][_0x1f6496[_0x27ff2e]]['set'](_0x3f4062['data'][_0x2d1cf6*(-0x1ce8+-0x19d+0x1*0x1e89)],_0x3f4062['data'][_0x2d1cf6*(-0x2*-0x54a+-0xe*0x15a+-0x4*-0x217)+(-0x1492+-0x9*0x3dd+0x3758)],_0x3f4062['data'][_0x2d1cf6*(-0xde+0x5d2+0x10*-0x4f)+(0xc47+0x1*0x1bd1+-0x2816)],_0x3f4062['data'][_0x2d1cf6*(-0xaec+0x16d4+0x1*-0xbe4)+(0x17fd+0x1*-0x1b49+0x34f)]);break;}}_0x10205b['next']();}_0x10205b['end'](),_0x55c7bc['push'](_0x1787d7);}return _0x55c7bc;}['_parseInde'+'xBuffers'](_0x5f19a3,_0x489a86){const _0x2e1d72=_0x5f19a3['model'];let _0x2b55b7=null,_0x419233=null,_0x990e8d,_0x5ed21e=-0x1255+0x1*0x90b+0x94a;for(_0x990e8d=-0x13*0x17d+0x1fcb+-0x384;_0x990e8d<_0x2e1d72['meshes']['length'];_0x990e8d++){const _0x3c01d7=_0x2e1d72['meshes'][_0x990e8d];_0x3c01d7['indices']!==void(0x1076*0x1+-0x53f+-0x21*0x57)&&(_0x5ed21e+=_0x3c01d7['indices']['length']);}let _0x3d4cb9=-0xeb4+0x2697+-0x17e3*0x1;for(_0x990e8d=0x1153+0x1a92+-0x2be5;_0x990e8d<_0x489a86['length'];_0x990e8d++)_0x3d4cb9=Math['max'](_0x3d4cb9,_0x489a86[_0x990e8d]['numVertice'+'s']);return _0x5ed21e>0x17*0x118+-0x433+0x431*-0x5&&(_0x3d4cb9>-0x1*-0x16b21+0x1*0xc983+-0x134a5?(_0x2b55b7=new lr(this['_device'],nr,_0x5ed21e),_0x419233=new Uint32Array(_0x2b55b7['lock']())):(_0x2b55b7=new lr(this['_device'],Pi,_0x5ed21e),_0x419233=new Uint16Array(_0x2b55b7['lock']()))),{'buffer':_0x2b55b7,'data':_0x419233};}['_parseMesh'+'es'](_0x203586,_0x5c969c,_0x4b25b3,_0x2e3a31,_0xc95e20,_0x205a21){const _0x2194fc=_0x203586['model'],_0x3a4092=[];let _0x37d96a=-0x1*-0x1a35+-0x1*-0x1462+-0x2e97;for(let _0x289f7d=0x1d5d+-0x52+-0x1d0b;_0x289f7d<_0x2194fc['meshes']['length'];_0x289f7d++){const _0x19668e=_0x2194fc['meshes'][_0x289f7d],_0xb63638=_0x19668e['aabb'],_0x4f941a=_0xb63638['min'],_0x54392b=_0xb63638['max'],_0x18b0cd=new _e(new T((_0x54392b[0xb25+0x10*0x13+-0xc55]+_0x4f941a[0x1a93+-0xaff+-0x2*0x7ca])*(-0x1d48+-0x577+-0x3*-0xb95+0.5),(_0x54392b[0x1a59+-0x1c1d+-0x97*-0x3]+_0x4f941a[0x16c4+0x193*-0x11+0x400])*(0x22f6+-0x2*0x7cc+-0x135e+0.5),(_0x54392b[0x1035+0x16a+-0x119d]+_0x4f941a[0x9a8+0x630+0xfd6*-0x1])*(0x1d82+-0xc75+-0x9*0x1e5+0.5)),new T((_0x54392b[0x1321+0x2551+-0x3872]-_0x4f941a[-0x578*0x5+0x216*-0x6+0x27dc])*(0x6*0x3f2+-0x2cf*0x1+-0x14dd+0.5),(_0x54392b[0xb3b+-0x1263+-0x729*-0x1]-_0x4f941a[-0x26aa+0x367+-0x4*-0x8d1])*(-0x829+0x5*-0x4d5+0x49e*0x7+0.5),(_0x54392b[-0x1427+0x416*0x5+-0x45]-_0x4f941a[-0x22*0xd5+0x185c*-0x1+0x1a54*0x2])*(0x2526+-0xba2+0x1984*-0x1+0.5))),_0x2fca91=_0x19668e['indices']!==void(0x842+-0x1d21+0x14df),_0x32e544=new Ie(this['_device']);_0x32e544['vertexBuff'+'er']=_0x2e3a31[_0x19668e['vertices']],_0x32e544['indexBuffe'+'r'][0x1365+0x2576+-0x38db]=_0x2fca91?_0xc95e20:null,_0x32e544['primitive'][-0xd81+-0x227c+0x2ffd]['type']=eL[_0x19668e['type']],_0x32e544['primitive'][-0x11*0x10f+-0x12c6+0x24c5]['base']=_0x2fca91?_0x19668e['base']+_0x37d96a:_0x19668e['base'],_0x32e544['primitive'][-0x53e+0x127*-0x9+0xf9d]['count']=_0x19668e['count'],_0x32e544['primitive'][-0x13b4+-0x1fa9+0x335d]['indexed']=_0x2fca91,_0x32e544['skin']=_0x19668e['skin']!==void(-0xc56*-0x2+0x21*0x61+-0x252d)?_0x5c969c[_0x19668e['skin']]:null,_0x32e544['morph']=_0x19668e['morph']!==void(-0x1e5a+-0x1e61*-0x1+-0x7)?_0x4b25b3[_0x19668e['morph']]:null,_0x32e544['aabb']=_0x18b0cd,_0x2fca91&&(_0x205a21['set'](_0x19668e['indices'],_0x37d96a),_0x37d96a+=_0x19668e['indices']['length']),_0x3a4092['push'](_0x32e544);}return _0xc95e20!==null&&_0xc95e20['unlock'](),_0x3a4092;}['_parseMesh'+'Instances'](_0x4a62a1,_0x3994d5,_0x538acf,_0x444868,_0xca7621,_0x3fe792,_0x584fbb){const _0xfa6c40=_0x4a62a1['model'],_0x40e133=[];let _0x44d1aa;for(_0x44d1aa=0x1769*0x1+-0x689*-0x1+-0xef9*0x2;_0x44d1aa<_0xfa6c40['meshInstan'+'ces']['length'];_0x44d1aa++){const _0x357a20=_0xfa6c40['meshInstan'+'ces'][_0x44d1aa],_0x5a386=_0x3994d5[_0x357a20['node']],_0x547583=_0x538acf[_0x357a20['mesh']],_0x1c3477=new Le(_0x547583,this['_defaultMa'+'terial'],_0x5a386);if(_0x547583['skin']){const _0xc8d982=_0x444868['indexOf'](_0x547583['skin']);if(_0xc8d982===-(-0x2277+0x2*-0xc84+0x3b80))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x1c3477['skinInstan'+'ce']=_0xca7621[_0xc8d982];}if(_0x547583['morph']){const _0x2336c=_0x3fe792['indexOf'](_0x547583['morph']);if(_0x2336c===-(-0x20c2+0x220a+-0x147))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x1c3477['morphInsta'+'nce']=_0x584fbb[_0x2336c];}_0x40e133['push'](_0x1c3477);}return _0x40e133;}}class iL extends Ne{constructor(_0x2f1ad7){super(_0x2f1ad7,'model'),this['_parsers']=[],this['device']=_0x2f1ad7['graphicsDe'+'vice'],this['assets']=_0x2f1ad7['assets'],this['defaultMat'+'erial']=al(this['device']),this['addParser'](new sL(this),(_0xdb8c27,_0x1f1792)=>fe['getExtensi'+'on'](_0xdb8c27)==='.json'),this['addParser'](new J2(this),(_0x5f057b,_0xe4882c)=>fe['getExtensi'+'on'](_0x5f057b)==='.glb');}['load'](_0x598acb,_0x411dbd,_0x31f15a){typeof _0x598acb=='string'&&(_0x598acb={'load':_0x598acb,'original':_0x598acb});const _0x44066d={'retry':this['maxRetries']>-0x24db+0xa9c+0x1a3f*0x1,'maxRetries':this['maxRetries']};(_0x598acb['load']['startsWith']('blob:')||_0x598acb['load']['startsWith']('data:'))&&(fe['getExtensi'+'on'](_0x598acb['original'])['toLowerCas'+'e']()==='.glb'?_0x44066d['responseTy'+'pe']=ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x44066d['responseTy'+'pe']=ls['ResponseTy'+'pe']['JSON']),$e['get'](_0x598acb['load'],_0x44066d,(_0x574719,_0x5abc27)=>{if(_0x411dbd){if(_0x574719)_0x411dbd('Error\x20load'+'ing\x20model:'+'\x20'+_0x598acb['original']+'\x20['+_0x574719+']');else{for(let _0x40ba35=-0x1*0xdfb+0x223+0xbd8;_0x40ba35<this['_parsers']['length'];_0x40ba35++){const _0x87b1d8=this['_parsers'][_0x40ba35];if(_0x87b1d8['decider'](_0x598acb['original'],_0x5abc27)){_0x87b1d8['parser']['parse'](_0x5abc27,(_0x90b680,_0x558e27)=>{_0x90b680?_0x411dbd(_0x90b680):_0x411dbd(null,_0x558e27);},_0x31f15a);return;}}_0x411dbd('No\x20parsers'+'\x20found');}}});}['open'](_0x557662,_0x436c17){return _0x436c17;}['patch'](_0x2b1eed,_0x12cc5c){if(!_0x2b1eed['resource'])return;const _0x89d53=_0x2b1eed['data'],_0x1ac8f8=this;_0x2b1eed['resource']['meshInstan'+'ces']['forEach']((_0x6c7711,_0x4bc2e3)=>{if(_0x89d53['mapping']){const _0x50bd60=function(_0x5f1c38){_0x5f1c38['resource']?_0x6c7711['material']=_0x5f1c38['resource']:(_0x5f1c38['once']('load',_0x50bd60),_0x12cc5c['load'](_0x5f1c38)),_0x5f1c38['once']('remove',_0x2b7220=>{_0x6c7711['material']===_0x2b7220['resource']&&(_0x6c7711['material']=_0x1ac8f8['defaultMat'+'erial']);});};if(!_0x89d53['mapping'][_0x4bc2e3]){_0x6c7711['material']=_0x1ac8f8['defaultMat'+'erial'];return;}const _0x4b3b7d=_0x89d53['mapping'][_0x4bc2e3]['material'],_0x1b9e77=_0x89d53['mapping'][_0x4bc2e3]['path'];let _0x45a9f6;if(_0x4b3b7d!==void(0x2*-0x1247+0xee4+-0x15aa*-0x1))_0x4b3b7d?(_0x45a9f6=_0x12cc5c['get'](_0x4b3b7d),_0x45a9f6?_0x50bd60(_0x45a9f6):_0x12cc5c['once']('add:'+_0x4b3b7d,_0x50bd60)):_0x6c7711['material']=_0x1ac8f8['defaultMat'+'erial'];else{if(_0x1b9e77){const _0x34b019=_0x2b1eed['getAbsolut'+'eUrl'](_0x89d53['mapping'][_0x4bc2e3]['path']);_0x45a9f6=_0x12cc5c['getByUrl'](_0x34b019),_0x45a9f6?_0x50bd60(_0x45a9f6):_0x12cc5c['once']('add:url:'+_0x34b019,_0x50bd60);}}}});}['addParser'](_0x397f88,_0x54cba6){this['_parsers']['push']({'parser':_0x397f88,'decider':_0x54cba6});}}class rL extends Ne{constructor(_0x5809a3){super(_0x5809a3,'scene');}['load'](_0x44888d,_0x9c292f){Lx['load'](_0x44888d,this['maxRetries'],_0x9c292f);}['open'](_0x3e0cac,_0x2d65e9){this['_app']['systems']['script']['preloading']=!(-0x1*0x23d1+-0x7c1+-0x42*-0xa9);const _0x5ac70b=new Wp(this['_app'],!(-0x870+-0x7*-0x2fc+-0xc73))['parse'](_0x2d65e9),_0xc66808=this['_app']['scene'];return _0xc66808['root']=_0x5ac70b,this['_app']['applyScene'+'Settings'](_0x2d65e9['settings']),this['_app']['systems']['script']['preloading']=!(0xa01+-0xfe*-0x26+-0x2fb4),_0xc66808;}}const hc=class hc{static['push'](_0x2e2eb1){hc['_types']['push'](_0x2e2eb1);}};c(hc,'_types',[]);let Xr=hc;const nL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),aL={};Ho['reservedNa'+'mes']['forEach']((_0x3a71f6,_0x5192a9,_0x34bb64)=>{aL[_0x3a71f6]=0x1f*-0x4+-0xbb5+-0x619*-0x2;});function oL(_0x1adffb,_0x2da058,_0x51168b){if(typeof _0x1adffb!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x1adffb+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x1adffb['prototype']instanceof Ht))throw new Error('script\x20cla'+'ss:\x20\x27'+Qh['__getScrip'+'tName'](_0x1adffb)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x2da058=_0x2da058||_0x1adffb['__name']||Qh['__getScrip'+'tName'](_0x1adffb),nL['has'](_0x2da058))throw new Error('script\x20nam'+'e:\x20\x27'+_0x2da058+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x1adffb['__name']=_0x2da058,qh['getApplica'+'tion']()['scripts']['add'](_0x1adffb),Xr['push'](_0x1adffb);}const lL=_0x241d69=>_0x241d69[0x202d*-0x1+-0xe4c+-0x1*-0x2e79]['toLowerCas'+'e']()+_0x241d69['substring'](0xbbc+0x1a12+-0x25cd);class hL extends Ne{constructor(_0x4de686){super(_0x4de686,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x27c3a2 in this['_cache']){const _0x1c904c=this['_cache'][_0x27c3a2],_0x1245ee=_0x1c904c['parentNode'];_0x1245ee&&_0x1245ee['removeChil'+'d'](_0x1c904c);}this['_cache']={};}['load'](_0x7b92e5,_0x4858bb){typeof _0x7b92e5=='string'&&(_0x7b92e5={'load':_0x7b92e5,'original':_0x7b92e5});const _0x4a58ee=this;this['_app'];const _0x40fad8=(_0x7b92e5['load'],(_0xd9e430,_0x3ea909,_0x4a9be2)=>{if(_0xd9e430)_0x4858bb(_0xd9e430);else{const _0x5c312e={};for(let _0x1f7f32=0xe56+-0x644+-0x812*0x1;_0x1f7f32<Xr['_types']['length'];_0x1f7f32++)_0x5c312e[Xr['_types'][_0x1f7f32]['name']]=Xr['_types'][_0x1f7f32];Xr['_types']['length']=-0x2515*0x1+-0x2178+0x468d,_0x4858bb(null,_0x5c312e,_0x4a9be2);const _0xf62562=_0x3ea909['split']('&hash=')[0x19f0+-0x15b+-0x1895];delete _0x4a58ee['_loader']['_cache'][pa['makeKey'](_0xf62562,'script')];}}),[_0x402f7a]=_0x7b92e5['load']['split']('?');_0x402f7a['endsWith']('.mjs')?this['_loadModul'+'e'](_0x402f7a,_0x40fad8):this['_loadScrip'+'t'](_0x7b92e5['load'],_0x40fad8);}['open'](_0xf7c429,_0x45b35d){return _0x45b35d;}['patch'](_0x38cb4e,_0x5e7a1d){}['_loadScrip'+'t'](_0x2df624,_0x42866b){const _0x4868ad=document['head'],_0x2b38d6=document['createElem'+'ent']('script');this['_cache'][_0x2df624]=_0x2b38d6,_0x2b38d6['async']=!(0x1d8+-0x5c*-0x68+-0x2737),_0x2b38d6['addEventLi'+'stener']('error',_0x2a693e=>{_0x42866b('Script:\x20'+_0x2a693e['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x1b2f+0x13ad+-0x2edb));let _0x4430ce=!(0x1e6a+0xf1d+-0x2d86);_0x2b38d6['onload']=_0x2b38d6['onreadysta'+'techange']=function(){!_0x4430ce&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x4430ce=!(0x2*0xcaa+0x2*-0xc91+0x5*-0xa),_0x42866b(null,_0x2df624,_0x2b38d6));},_0x2b38d6['src']=_0x2df624,_0x4868ad['appendChil'+'d'](_0x2b38d6);}['_loadModul'+'e'](_0x310e2e,_0x3fa9bc){const _0x572264=ye['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x173f43=new URL(_0x310e2e,_0x572264);import(_0x173f43['toString']())['then'](_0x361273=>{var _0x1a7735,_0x25dcd2;const _0x2b69f5=_0x173f43['pathname']['split']('/')['pop'](),_0x5a1d93=(_0x25dcd2=(_0x1a7735=this['_app']['assets']['find'](_0x2b69f5,'script'))==null?void(0xf82+0x1178+-0x20fa):_0x1a7735['data'])==null?void(-0xb00+-0x2610+0x8*0x622):_0x25dcd2['scripts'];for(const _0x2ebb7c in _0x361273){const _0x28d6c7=_0x361273[_0x2ebb7c];if(_0x28d6c7['prototype']instanceof Ht){const _0x17912d=lL(_0x28d6c7['name']);oL(_0x28d6c7,_0x17912d),_0x5a1d93&&this['_app']['scripts']['addSchema'](_0x17912d,_0x5a1d93[_0x17912d]);}}_0x3fa9bc(null,_0x310e2e,null);})['catch'](_0x3544af=>{_0x3fa9bc(_0x3544af);});}}class cL extends Ne{constructor(_0x441cd2){super(_0x441cd2,'shader'),c(this,'decoder',null);}['load'](_0x1e0424,_0x2309c4){typeof _0x1e0424=='string'&&(_0x1e0424={'load':_0x1e0424,'original':_0x1e0424}),$e['get'](_0x1e0424['load'],{'retry':this['maxRetries']>0xddb*-0x2+0xd28+0x51*0x2e,'maxRetries':this['maxRetries']},(_0x2f6edc,_0x38c333)=>{_0x2f6edc?_0x2309c4('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x1e0424['original']+'\x20['+_0x2f6edc+']'):_0x2309c4(null,_0x38c333);});}['openBinary'](_0x51970d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x51970d);}}function eu(_0x10cf3b){const _0x39e389=this;_0x39e389['resource']&&(_0x39e389['resource']['atlas']=_0x10cf3b['resource']);}function tu(_0x36174a){this['registry']['load'](_0x36174a);}class dL extends Ne{constructor(_0x4e6957){super(_0x4e6957,'sprite'),this['_assets']=_0x4e6957['assets'],this['_device']=_0x4e6957['graphicsDe'+'vice'];}['load'](_0x8e2841,_0x1fc9ef){typeof _0x8e2841=='string'&&(_0x8e2841={'load':_0x8e2841,'original':_0x8e2841}),fe['getExtensi'+'on'](_0x8e2841['original'])==='.json'&&$e['get'](_0x8e2841['load'],{'retry':this['maxRetries']>0x1417+-0x1276+-0x1a1*0x1,'maxRetries':this['maxRetries']},(_0x5e340f,_0x2a8a0a)=>{_0x5e340f?_0x1fc9ef(_0x5e340f):_0x1fc9ef(null,_0x2a8a0a);});}['open'](_0x1ac340,_0x12cf5d){const _0x9afaa2=new T1(this['_device']);return _0x1ac340&&(_0x9afaa2['__data']=_0x12cf5d),_0x9afaa2;}['patch'](_0x8bcc58,_0x42dbb0){const _0x121aaa=_0x8bcc58['resource'];if(_0x121aaa['__data']&&(_0x8bcc58['data']['pixelsPerU'+'nit']=_0x121aaa['__data']['pixelsPerU'+'nit'],_0x8bcc58['data']['renderMode']=_0x121aaa['__data']['renderMode'],_0x8bcc58['data']['frameKeys']=_0x121aaa['__data']['frameKeys'],_0x121aaa['__data']['textureAtl'+'asAsset'])){const _0x9bc0d9=_0x42dbb0['getByUrl'](_0x121aaa['__data']['textureAtl'+'asAsset']);_0x9bc0d9?_0x8bcc58['data']['textureAtl'+'asAsset']=_0x9bc0d9['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x121aaa['__data']['textureAtl'+'asAsset']);}_0x121aaa['startUpdat'+'e'](),_0x121aaa['renderMode']=_0x8bcc58['data']['renderMode'],_0x121aaa['pixelsPerU'+'nit']=_0x8bcc58['data']['pixelsPerU'+'nit'],_0x121aaa['frameKeys']=_0x8bcc58['data']['frameKeys'],this['_updateAtl'+'as'](_0x8bcc58),_0x121aaa['endUpdate'](),_0x8bcc58['off']('change',this['_onAssetCh'+'ange'],this),_0x8bcc58['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x1080f0){const _0x3f3cc3=_0x1080f0['resource'];if(!_0x1080f0['data']['textureAtl'+'asAsset']){_0x3f3cc3['atlas']=null;return;}this['_assets']['off']('load:'+_0x1080f0['data']['textureAtl'+'asAsset'],eu,_0x1080f0),this['_assets']['on']('load:'+_0x1080f0['data']['textureAtl'+'asAsset'],eu,_0x1080f0);const _0x575137=this['_assets']['get'](_0x1080f0['data']['textureAtl'+'asAsset']);_0x575137&&_0x575137['resource']?_0x3f3cc3['atlas']=_0x575137['resource']:_0x575137?this['_assets']['load'](_0x575137):(this['_assets']['off']('add:'+_0x1080f0['data']['textureAtl'+'asAsset'],tu,_0x1080f0),this['_assets']['on']('add:'+_0x1080f0['data']['textureAtl'+'asAsset'],tu,_0x1080f0));}['_onAssetCh'+'ange'](_0x4e146d,_0x589816,_0x144ec7,_0x1cdc4b){_0x589816==='data'&&_0x144ec7&&_0x144ec7['textureAtl'+'asAsset']&&_0x1cdc4b&&_0x144ec7['textureAtl'+'asAsset']!==_0x1cdc4b['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x1cdc4b['textureAtl'+'asAsset'],eu,_0x4e146d),this['_assets']['off']('add:'+_0x1cdc4b['textureAtl'+'asAsset'],tu,_0x4e146d));}}class Gg{constructor(_0x45712d,_0x2b8ad2){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x45712d,this['_data']=_0x2b8ad2);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0xb48494=new Wp(this['_app'],!(-0x73e+-0x26bf+-0x2dfd*-0x1));this['_templateR'+'oot']=_0xb48494['parse'](this['_data']);}}class uL extends Ne{constructor(_0xbea649){super(_0xbea649,'template'),c(this,'decoder',null);}['load'](_0x2ebe82,_0x4d5f88){typeof _0x2ebe82=='string'&&(_0x2ebe82={'load':_0x2ebe82,'original':_0x2ebe82});const _0x4c73aa={'retry':this['maxRetries']>0x1b0+0xec6+0x7*-0x25a,'maxRetries':this['maxRetries']};$e['get'](_0x2ebe82['load'],_0x4c73aa,(_0x5b4f8c,_0xbd8495)=>{_0x5b4f8c?_0x4d5f88('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x2ebe82['original']):_0x4d5f88(_0x5b4f8c,_0xbd8495);});}['open'](_0x45f0c3,_0x40757c){return new Gg(this['_app'],_0x40757c);}['openBinary'](_0x456e1a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Gg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x456e1a)));}}class fL extends Ne{constructor(_0x508f5f){super(_0x508f5f,'text'),c(this,'decoder',null);}['load'](_0x1c45e6,_0xb90623){typeof _0x1c45e6=='string'&&(_0x1c45e6={'load':_0x1c45e6,'original':_0x1c45e6}),$e['get'](_0x1c45e6['load'],{'retry':this['maxRetries']>0x7aa+-0x3c4*0x9+0x1a3a,'maxRetries':this['maxRetries']},(_0x31fa73,_0x164024)=>{_0x31fa73?_0xb90623('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x1c45e6['original']+'\x20['+_0x31fa73+']'):_0xb90623(null,_0x164024);});}['openBinary'](_0x309bbe){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x309bbe);}}const th={'repeat':tt,'clamp':ae,'mirror':Of},sh={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},pL=/^data\.frames\.(\d+)$/;class mL extends Ne{constructor(_0x3209c0){super(_0x3209c0,'textureatl'+'as'),this['_loader']=_0x3209c0['loader'];}['load'](_0x11e56b,_0x4b63d7){typeof _0x11e56b=='string'&&(_0x11e56b={'load':_0x11e56b,'original':_0x11e56b});const _0x39341d=this,_0x2751a2=this['_loader']['getHandler']('texture');fe['getExtensi'+'on'](_0x11e56b['original'])==='.json'?$e['get'](_0x11e56b['load'],{'retry':this['maxRetries']>0x1d98+0x1*0x19e8+-0x3780,'maxRetries':this['maxRetries']},(_0x2e36d5,_0x3ff6df)=>{if(_0x2e36d5)_0x4b63d7(_0x2e36d5);else{const _0x4e5d52=_0x11e56b['original']['replace']('.json','.png');_0x39341d['_loader']['load'](_0x4e5d52,'texture',(_0x4fe14d,_0x468d9d)=>{_0x4fe14d?_0x4b63d7(_0x4fe14d):_0x4b63d7(null,{'data':_0x3ff6df,'texture':_0x468d9d});});}}):_0x2751a2['load'](_0x11e56b,_0x4b63d7);}['open'](_0xf85366,_0x164282,_0x1b77d4){const _0x2be8bb=new A1();if(_0x164282['texture']&&_0x164282['data'])_0x2be8bb['texture']=_0x164282['texture'],_0x2be8bb['__data']=_0x164282['data'];else{const _0x2991c5=this['_loader']['getHandler']('texture')['open'](_0xf85366,_0x164282,_0x1b77d4);if(!_0x2991c5)return null;_0x2be8bb['texture']=_0x2991c5;}return _0x2be8bb;}['patch'](_0x4ee763,_0x4963af){if(!_0x4ee763['resource'])return;_0x4ee763['resource']['__data']&&(_0x4ee763['resource']['__data']['minfilter']!==void(-0x20*0x44+0x1607*0x1+-0xd87)&&(_0x4ee763['data']['minfilter']=_0x4ee763['resource']['__data']['minfilter']),_0x4ee763['resource']['__data']['magfilter']!==void(-0x1e*-0x4a+-0x22fc+0x1*0x1a50)&&(_0x4ee763['data']['magfilter']=_0x4ee763['resource']['__data']['magfilter']),_0x4ee763['resource']['__data']['addressu']!==void(0x1880+0x1*0x1370+0x26*-0x128)&&(_0x4ee763['data']['addressu']=_0x4ee763['resource']['__data']['addressu']),_0x4ee763['resource']['__data']['addressv']!==void(0xf1b+0x1*-0x1b09+0xbee)&&(_0x4ee763['data']['addressv']=_0x4ee763['resource']['__data']['addressv']),_0x4ee763['resource']['__data']['mipmaps']!==void(-0x852+0x45*0x2d+-0x3cf)&&(_0x4ee763['data']['mipmaps']=_0x4ee763['resource']['__data']['mipmaps']),_0x4ee763['resource']['__data']['anisotropy']!==void(0x155+0x3*-0x285+0x63a)&&(_0x4ee763['data']['anisotropy']=_0x4ee763['resource']['__data']['anisotropy']),_0x4ee763['resource']['__data']['rgbm']!==void(0x9bc+0xf1*0x3+-0x283*0x5)&&(_0x4ee763['data']['rgbm']=!!_0x4ee763['resource']['__data']['rgbm']),_0x4ee763['data']['frames']=_0x4ee763['resource']['__data']['frames'],delete _0x4ee763['resource']['__data']);const _0x3fdca2=_0x4ee763['resource']['texture'];if(_0x3fdca2&&(_0x3fdca2['name']=_0x4ee763['name'],_0x4ee763['data']['hasOwnProp'+'erty']('minfilter')&&_0x3fdca2['minFilter']!==sh[_0x4ee763['data']['minfilter']]&&(_0x3fdca2['minFilter']=sh[_0x4ee763['data']['minfilter']]),_0x4ee763['data']['hasOwnProp'+'erty']('magfilter')&&_0x3fdca2['magFilter']!==sh[_0x4ee763['data']['magfilter']]&&(_0x3fdca2['magFilter']=sh[_0x4ee763['data']['magfilter']]),_0x4ee763['data']['hasOwnProp'+'erty']('addressu')&&_0x3fdca2['addressU']!==th[_0x4ee763['data']['addressu']]&&(_0x3fdca2['addressU']=th[_0x4ee763['data']['addressu']]),_0x4ee763['data']['hasOwnProp'+'erty']('addressv')&&_0x3fdca2['addressV']!==th[_0x4ee763['data']['addressv']]&&(_0x3fdca2['addressV']=th[_0x4ee763['data']['addressv']]),_0x4ee763['data']['hasOwnProp'+'erty']('mipmaps')&&_0x3fdca2['mipmaps']!==_0x4ee763['data']['mipmaps']&&(_0x3fdca2['mipmaps']=_0x4ee763['data']['mipmaps']),_0x4ee763['data']['hasOwnProp'+'erty']('anisotropy')&&_0x3fdca2['anisotropy']!==_0x4ee763['data']['anisotropy']&&(_0x3fdca2['anisotropy']=_0x4ee763['data']['anisotropy']),_0x4ee763['data']['hasOwnProp'+'erty']('rgbm'))){const _0x5352c1=_0x4ee763['data']['rgbm']?on:Di;_0x3fdca2['type']!==_0x5352c1&&(_0x3fdca2['type']=_0x5352c1);}_0x4ee763['resource']['texture']=_0x3fdca2;const _0x5b3297={};for(const _0x4f67a2 in _0x4ee763['data']['frames']){const _0x5bc7b2=_0x4ee763['data']['frames'][_0x4f67a2];_0x5b3297[_0x4f67a2]={'rect':new Q(_0x5bc7b2['rect']),'pivot':new W(_0x5bc7b2['pivot']),'border':new Q(_0x5bc7b2['border'])};}_0x4ee763['resource']['frames']=_0x5b3297,_0x4ee763['off']('change',this['_onAssetCh'+'ange'],this),_0x4ee763['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x242b67,_0x7e6ca9,_0x508899){let _0x4b8ad7;if(_0x7e6ca9==='data'||_0x7e6ca9==='data.frame'+'s'){const _0x4c53b5={};for(const _0x32bb74 in _0x508899['frames'])_0x4b8ad7=_0x508899['frames'][_0x32bb74],_0x4c53b5[_0x32bb74]={'rect':new Q(_0x4b8ad7['rect']),'pivot':new W(_0x4b8ad7['pivot']),'border':new Q(_0x4b8ad7['border'])};_0x242b67['resource']['frames']=_0x4c53b5;}else{const _0x47660b=_0x7e6ca9['match'](pL);if(_0x47660b){const _0x52fa4e=_0x47660b[-0x1609+-0x259a+0x3ba4];_0x508899?(_0x242b67['resource']['frames'][_0x52fa4e]?(_0x4b8ad7=_0x242b67['resource']['frames'][_0x52fa4e],_0x4b8ad7['rect']['set'](_0x508899['rect'][0x11*-0x99+-0x1*-0x1a1f+-0xff6],_0x508899['rect'][-0x268c+0xe90+0x17fd],_0x508899['rect'][0x1f*0x11b+-0x1af1*-0x1+-0x4*0xf4d],_0x508899['rect'][-0x25ad+0xf*0x115+0x1575]),_0x4b8ad7['pivot']['set'](_0x508899['pivot'][0x1*0x1c0b+0x4*0x90f+-0x3*0x156d],_0x508899['pivot'][0x251*0x7+-0x229d*-0x1+-0x32d3]),_0x4b8ad7['border']['set'](_0x508899['border'][0xa7e+0x1589+-0x2007],_0x508899['border'][0x1f66*-0x1+-0x115+-0x12*-0x1ce],_0x508899['border'][0x138c+-0x10d+-0x127d*0x1],_0x508899['border'][0x1b*-0x23+-0x2*-0x10c3+-0x1dd2])):_0x242b67['resource']['frames'][_0x52fa4e]={'rect':new Q(_0x508899['rect']),'pivot':new W(_0x508899['pivot']),'border':new Q(_0x508899['border'])},_0x242b67['resource']['fire']('set:frame',_0x52fa4e,_0x242b67['resource']['frames'][_0x52fa4e])):_0x242b67['resource']['frames'][_0x52fa4e]&&(delete _0x242b67['resource']['frames'][_0x52fa4e],_0x242b67['resource']['fire']('remove:fra'+'me',_0x52fa4e));}}}}function _L(){const _0x2e1a7b={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x57c0e5={'astc':_0x2e1a7b['cTFASTC_4x'+'4'],'dxt':_0x2e1a7b['cTFBC1'],'etc1':_0x2e1a7b['cTFETC1'],'etc2':_0x2e1a7b['cTFETC1'],'pvr':_0x2e1a7b['cTFPVRTC1_'+'4_RGB'],'atc':_0x2e1a7b['cTFATC_RGB'],'none':_0x2e1a7b['cTFRGB565']},_0x30d6d3={'astc':_0x2e1a7b['cTFASTC_4x'+'4'],'dxt':_0x2e1a7b['cTFBC3'],'etc1':_0x2e1a7b['cTFRGBA444'+'4'],'etc2':_0x2e1a7b['cTFETC2'],'pvr':_0x2e1a7b['cTFPVRTC1_'+'4_RGBA'],'atc':_0x2e1a7b['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x2e1a7b['cTFRGBA444'+'4']},_0x20c83b={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x30d990=(_0xb2379a,_0x23d111)=>{switch(_0xb2379a){case _0x2e1a7b['cTFETC1']:return _0x23d111['formats']['etc2']?_0x20c83b['ETC2_RGB']:_0x20c83b['ETC1'];case _0x2e1a7b['cTFETC2']:return _0x20c83b['ETC2_RGBA'];case _0x2e1a7b['cTFBC1']:return _0x20c83b['DXT1'];case _0x2e1a7b['cTFBC3']:return _0x20c83b['DXT5'];case _0x2e1a7b['cTFPVRTC1_'+'4_RGB']:return _0x20c83b['PVRTC_4BPP'+'_RGB_1'];case _0x2e1a7b['cTFPVRTC1_'+'4_RGBA']:return _0x20c83b['PVRTC_4BPP'+'_RGBA_1'];case _0x2e1a7b['cTFASTC_4x'+'4']:return _0x20c83b['ASTC_4x4'];case _0x2e1a7b['cTFATC_RGB']:return _0x20c83b['ATC_RGB'];case _0x2e1a7b['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x20c83b['ATC_RGBA'];case _0x2e1a7b['cTFRGBA32']:return _0x20c83b['R8_G8_B8_A'+'8'];case _0x2e1a7b['cTFRGB565']:return _0x20c83b['R5_G6_B5'];case _0x2e1a7b['cTFRGBA444'+'4']:return _0x20c83b['R4_G4_B4_A'+'4'];}},_0x3e90ed=_0x35f5c8=>{const _0x4e081b=function(_0x3ece93,_0x43c72c){const _0x2e62cc=_0x3ece93*(0x1*0x1e90+-0x18c9+-0x5c7+0.00784313725490196)-(-0x1*-0x1055+0x1bd1*-0x1+-0xad*-0x11),_0x480094=_0x43c72c*((-0x2329+-0x2f5*0x7+0x37de)/(-0x2c1*0x5+-0x3*0x8cf+0x2931))-(-0x253a+-0x3*0x7b9+0x3c66),_0xf64a1a=Math['sqrt'](0x2424+0x1*0x1591+0xe6d*-0x4-Math['min'](0x18ca+0x2675+-0x1f9f*0x2,_0x2e62cc*_0x2e62cc+_0x480094*_0x480094));return Math['max'](0x1efa+-0xd83+-0x1177,Math['min'](0x9d*-0x17+0x73f*-0x4+0x1*0x2c16,Math['floor']((_0xf64a1a+(-0xf5e+-0x45*-0x52+-0x6bb*0x1))*(-0xd03+0x7*0x18a+0xbf*0x3+0.5)*(-0xe1+0x100*-0xf+0x10e0))));};for(let _0x41c3bd=0x181a+0x24b9*-0x1+-0xc9f*-0x1;_0x41c3bd<_0x35f5c8['length'];_0x41c3bd+=-0x2434+-0x95f+-0x1*-0x2d97){const _0x506642=_0x35f5c8[_0x41c3bd+(-0x71b+0x878+-0x15a)],_0x25bb7b=_0x35f5c8[_0x41c3bd+(0x7*-0x531+0x11b8+-0x950*-0x2)];_0x35f5c8[_0x41c3bd+(-0x25a2*-0x1+-0x45a+-0xd5*0x28)]=_0x506642,_0x35f5c8[_0x41c3bd+(-0x1*0xa7+0x1*0x22ac+-0x2203)]=_0x4e081b(_0x506642,_0x25bb7b),_0x35f5c8[_0x41c3bd+(0x41*-0x2e+-0x232c+0x2edd)]=-0x8fc+0x2068+-0x166d;}return _0x35f5c8;},_0x16b480=_0x463d61=>{const _0x32be32=new Uint16Array(_0x463d61['length']/(-0x1*0x226b+-0x3b0*-0x4+-0x13af*-0x1));for(let _0x554eae=-0xd1*-0x1a+0xa41*-0x1+-0xaf9;_0x554eae<_0x463d61['length'];_0x554eae+=0x250f+0x745+-0x2c50){const _0x2ae589=_0x463d61[_0x554eae+(0x116c*-0x1+-0x35*0x83+0x2c8b)],_0x5a3e21=_0x463d61[_0x554eae+(-0x1*0x1782+-0x21ef+0x3972)],_0x7bcea7=_0x463d61[_0x554eae+(0x17b4+0x1f*0x52+-0x1*0x21a0)];_0x32be32[_0x554eae/(0x1e1*0xa+0x2237+-0x34fd)]=(_0x2ae589&-0x4*0x48b+0x202f+0x35*-0x3f)<<0x1*0xb98+0x1302+0xe*-0x22f|(_0x5a3e21&-0x1c4*-0x16+-0xb68+-0x1a74)<<-0xb*0x52+0x236e+-0x1fe5|_0x7bcea7>>-0x1746+-0x5da+-0x1d23*-0x1;}return _0x32be32;},_0x3922ae=(_0x3857be,_0x3c3619)=>(_0x3857be&_0x3857be-(0x1a8d*0x1+0x126a+0x47f*-0xa))===0x1*0x1b2f+-0x25db+0xaac&&(_0x3c3619&_0x3c3619-(0x17c7+-0x1ad5+0x30f))===0x226a*-0x1+0x1d*0x31+0x99f*0x3,_0x2eb5f0=()=>typeof performance<'u'?performance['now']():-0x1*0x2386+0xdad*-0x2+0x3ee*0x10;let _0x2d5869,_0x12c3c5,_0x22845f;const _0x370898=(_0x577502,_0x2c724a,_0x4d5f24)=>{if(_0x4d5f24){if(_0x577502['formats']['astc'])return'astc';}else{if(_0x2c724a){if(_0x577502['formats']['etc2'])return'etc2';}else{if(_0x577502['formats']['etc2'])return'etc2';if(_0x577502['formats']['etc1'])return'etc1';}}return(_0x3616d4=>{for(let _0x17bcc3=0xdd*0x1+0x18a3+0x330*-0x8;_0x17bcc3<_0x3616d4['length'];++_0x17bcc3){const _0x436e5d=_0x3616d4[_0x17bcc3];if(_0x577502['formats'][_0x436e5d])return _0x436e5d;}return'none';})(_0x2c724a?_0x22845f:_0x12c3c5);},_0x44f149=(_0x3e0200,_0x2f8685,_0x1fb041)=>{switch(_0x1fb041){case _0x2e1a7b['cTFETC1']:case _0x2e1a7b['cTFETC2']:return!(-0x1f*-0x10b+0x4f*-0x55+-0x61a);case _0x2e1a7b['cTFBC1']:case _0x2e1a7b['cTFBC3']:return(_0x3e0200&-0x2*0x385+-0x38*-0x53+-0x1*0xb1b)===-0x3d4+0x5*0x4b6+0xca*-0x19&&(_0x2f8685&0x1cf1+0x82*-0xe+-0x15d2)===-0x3*0x62f+0x1954*0x1+-0x6c7;case _0x2e1a7b['cTFPVRTC1_'+'4_RGB']:case _0x2e1a7b['cTFPVRTC1_'+'4_RGBA']:return _0x3922ae(_0x3e0200,_0x2f8685);case _0x2e1a7b['cTFASTC_4x'+'4']:return!(-0xddf+-0x14a1+-0x10*-0x228);case _0x2e1a7b['cTFATC_RGB']:case _0x2e1a7b['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x2195+-0x2*-0xe6b+-0x3e6b);}return!(-0x753+-0x1*0x1d2f+0x2483);},_0x16a06a=(_0x2a1e24,_0x4a7add,_0x3ad4b3)=>{if(!_0x2d5869['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x4f1452=_0x2eb5f0(),_0x2463d5=new _0x2d5869['KTX2File'](new Uint8Array(_0x4a7add)),_0x5b0ab7=_0x2463d5['getWidth'](),_0x1121dc=_0x2463d5['getHeight'](),_0x5713e7=_0x2463d5['getLevels'](),_0x3449cf=!!_0x2463d5['getHasAlph'+'a'](),_0x2676e0=_0x2463d5['isUASTC']&&_0x2463d5['isUASTC']();if(!_0x5b0ab7||!_0x1121dc||!_0x5713e7)throw _0x2463d5['close'](),_0x2463d5['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2a1e24+'\x20width='+_0x5b0ab7+'\x20height='+_0x1121dc+'\x20levels='+_0x5713e7);const _0x372005=_0x370898(_0x3ad4b3['deviceDeta'+'ils'],_0x3449cf,_0x2676e0),_0x2f103e=!!_0x3ad4b3['isGGGR']&&_0x372005==='pvr';let _0x4236fe;if(_0x2f103e?_0x4236fe=_0x2e1a7b['cTFRGBA32']:(_0x4236fe=_0x3449cf?_0x30d6d3[_0x372005]:_0x57c0e5[_0x372005],_0x44f149(_0x5b0ab7,_0x1121dc,_0x4236fe)||(_0x4236fe=_0x3449cf?_0x2e1a7b['cTFRGBA32']:_0x2e1a7b['cTFRGB565'])),!_0x2463d5['startTrans'+'coding']())throw _0x2463d5['close'](),_0x2463d5['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2a1e24);let _0x467037;const _0x41001d=[];for(let _0x3ea83a=-0x139d+0x22cb+-0x2*0x797;_0x3ea83a<_0x5713e7;++_0x3ea83a){const _0x2656ba=_0x2463d5['getImageTr'+'anscodedSi'+'zeInBytes'](_0x3ea83a,0xa56+-0x169*0xd+-0x59*-0x17,0x1cc4*0x1+-0x1*0x1b91+-0x133,_0x4236fe),_0x456b0b=new Uint8Array(_0x2656ba);if(!_0x2463d5['transcodeI'+'mage'](_0x456b0b,_0x3ea83a,-0x1aa+-0xc2c+0x9a*0x17,0x1ce1*-0x1+0x124f+0xa92,_0x4236fe,0x2048+0x1195*-0x2+0x12*0x29,-(0x112*0x5+-0x1b99+0x40*0x59),-(0x91e*0x1+-0x1d00+0x13e3)))throw _0x2463d5['close'](),_0x2463d5['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2a1e24);const _0x276802=_0x4236fe===_0x2e1a7b['cTFRGB565']||_0x4236fe===_0x2e1a7b['cTFRGBA444'+'4'];_0x41001d['push'](_0x276802?new Uint16Array(_0x456b0b['buffer']):_0x456b0b);}if(_0x2463d5['close'](),_0x2463d5['delete'](),_0x2f103e){for(_0x4236fe=_0x2e1a7b['cTFRGB565'],_0x467037=0x65*0x1b+0xfb1+-0x696*0x4;_0x467037<_0x41001d['length'];++_0x467037)_0x41001d[_0x467037]=_0x16b480(_0x3e90ed(_0x41001d[_0x467037]));}return{'format':_0x30d990(_0x4236fe,_0x3ad4b3['deviceDeta'+'ils']),'width':_0x5b0ab7,'height':_0x1121dc,'levels':_0x41001d,'cubemap':!(-0x1117+-0x1*0x11d+0x1235),'transcodeTime':_0x2eb5f0()-_0x4f1452,'url':_0x2a1e24,'unswizzledGGGR':_0x2f103e};},_0x4920cf=(_0x4d8a20,_0x544bb0,_0x33fab7)=>{const _0x57323e=_0x2eb5f0(),_0x40e343=new _0x2d5869['BasisFile'](new Uint8Array(_0x544bb0)),_0x5f2ed7=_0x40e343['getImageWi'+'dth'](0x206b+-0x2*-0x88c+0x9e7*-0x5,-0x3*-0x251+-0x1e0b+0x1718),_0x3d0bf8=_0x40e343['getImageHe'+'ight'](0xd98+0xa7e+-0x1816,-0x1fbb+0x19*-0x113+0x3a96),_0x3271eb=_0x40e343['getNumImag'+'es'](),_0xa522fc=_0x40e343['getNumLeve'+'ls'](0x159*-0xd+-0x1*0x231d+0x34a2),_0x5a846e=!!_0x40e343['getHasAlph'+'a'](),_0x49dd1c=_0x40e343['isUASTC']&&_0x40e343['isUASTC']();if(!_0x5f2ed7||!_0x3d0bf8||!_0x3271eb||!_0xa522fc)throw _0x40e343['close'](),_0x40e343['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x4d8a20+'\x20width='+_0x5f2ed7+'\x20height='+_0x3d0bf8+'\x20images='+_0x3271eb+'\x20levels='+_0xa522fc);const _0x35238d=_0x370898(_0x33fab7['deviceDeta'+'ils'],_0x5a846e,_0x49dd1c),_0x322afc=!!_0x33fab7['isGGGR']&&_0x35238d==='pvr';let _0xac7217;if(_0x322afc?_0xac7217=_0x2e1a7b['cTFRGBA32']:(_0xac7217=_0x5a846e?_0x30d6d3[_0x35238d]:_0x57c0e5[_0x35238d],_0x44f149(_0x5f2ed7,_0x3d0bf8,_0xac7217)||(_0xac7217=_0x5a846e?_0x2e1a7b['cTFRGBA32']:_0x2e1a7b['cTFRGB565'])),!_0x40e343['startTrans'+'coding']())throw _0x40e343['close'](),_0x40e343['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x4d8a20);let _0x55d513;const _0x5269cd=[];for(let _0x402a3d=-0x3d*0x9d+0x245b+0x12*0xf;_0x402a3d<_0xa522fc;++_0x402a3d){const _0x58e5f9=_0x40e343['getImageTr'+'anscodedSi'+'zeInBytes'](0x2c3+-0x46c*-0x7+-0x21b7,_0x402a3d,_0xac7217),_0x1d55ee=new Uint8Array(_0x58e5f9);if(!_0x40e343['transcodeI'+'mage'](_0x1d55ee,0x1*0x12ef+-0x1*0x8d+-0x2*0x931,_0x402a3d,_0xac7217,0x14b2+0x4f5+-0x19a7,-0x98f*-0x2+0x1481+0x17*-0x1b9)){if(_0x402a3d===_0xa522fc-(0x2580+0x50*-0x21+-0x1b2f)&&_0x58e5f9===_0x5269cd[_0x402a3d-(0x16c7+0x2*-0x9d5+0x1*-0x31c)]['buffer']['byteLength'])_0x1d55ee['set'](new Uint8Array(_0x5269cd[_0x402a3d-(0x650+0x1b97+-0x21e6)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x4d8a20);else throw _0x40e343['close'](),_0x40e343['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x4d8a20);}const _0x46d1fd=_0xac7217===_0x2e1a7b['cTFRGB565']||_0xac7217===_0x2e1a7b['cTFRGBA444'+'4'];_0x5269cd['push'](_0x46d1fd?new Uint16Array(_0x1d55ee['buffer']):_0x1d55ee);}if(_0x40e343['close'](),_0x40e343['delete'](),_0x322afc){for(_0xac7217=_0x2e1a7b['cTFRGB565'],_0x55d513=-0x15f7*-0x1+0x776*0x2+-0x24e3;_0x55d513<_0x5269cd['length'];++_0x55d513)_0x5269cd[_0x55d513]=_0x16b480(_0x3e90ed(_0x5269cd[_0x55d513]));}return{'format':_0x30d990(_0xac7217,_0x33fab7['deviceDeta'+'ils']),'width':_0x5f2ed7,'height':_0x3d0bf8,'levels':_0x5269cd,'cubemap':!(0x20d+-0x1*0x12f2+-0x26a*-0x7),'transcodeTime':_0x2eb5f0()-_0x57323e,'url':_0x4d8a20,'unswizzledGGGR':_0x322afc};},_0x1d64b0=(_0x19483f,_0xe70a0c,_0x56bcf4)=>_0x56bcf4['isKTX2']?_0x16a06a(_0x19483f,_0xe70a0c,_0x56bcf4):_0x4920cf(_0x19483f,_0xe70a0c,_0x56bcf4),_0x493acf=(_0x16e02f,_0x4d6552,_0x3cfafe)=>{try{const _0x89beb5=_0x1d64b0(_0x16e02f,_0x4d6552,_0x3cfafe);_0x89beb5['levels']=_0x89beb5['levels']['map'](_0x4e8069=>_0x4e8069['buffer']),self['postMessag'+'e']({'url':_0x16e02f,'data':_0x89beb5},_0x89beb5['levels']);}catch(_0x310530){self['postMessag'+'e']({'url':_0x16e02f,'err':_0x310530},null);}},_0x573f80=(_0x374fce,_0x387ee4)=>{const _0x1054ab=(_0x191511,_0x3f72ef)=>(WebAssembly['instantiat'+'e'](_0x374fce['module'],_0x191511)['then'](_0x564c73=>{_0x3f72ef(_0x564c73);})['catch'](_0x17c01d=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x17c01d);}),{});self['BASIS'](_0x374fce['module']?{'instantiateWasm':_0x1054ab}:null)['then'](_0x40bdbd=>{_0x40bdbd['initialize'+'Basis'](),_0x2d5869=_0x40bdbd,_0x12c3c5=_0x374fce['rgbPriorit'+'y'],_0x22845f=_0x374fce['rgbaPriori'+'ty'],_0x387ee4(null);});},_0x969c26=[];self['onmessage']=_0x24b969=>{const _0x5bbde8=_0x24b969['data'];switch(_0x5bbde8['type']){case'init':_0x573f80(_0x5bbde8['config'],()=>{for(let _0x37e2f1=-0x1*-0x227+0x725+-0x94c;_0x37e2f1<_0x969c26['length'];++_0x37e2f1)_0x493acf(_0x969c26[_0x37e2f1]['url'],_0x969c26[_0x37e2f1]['data'],_0x969c26[_0x37e2f1]['options']);_0x969c26['length']=-0xbaf+-0x36*-0x6c+-0xb19;});break;case'transcode':_0x2d5869?_0x493acf(_0x5bbde8['url'],_0x5bbde8['data'],_0x5bbde8['options']):_0x969c26['push'](_0x5bbde8);break;}};}const gL=_0x16d7a5=>({'astc':!!_0x16d7a5['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x16d7a5['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x16d7a5['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x16d7a5['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x16d7a5['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x16d7a5['extCompres'+'sedTexture'+'PVRTC']}),yL=(_0x5fea08,_0x2bd667)=>{const _0x5e0552=_0x145ad3=>{const _0x58c9c0=['/*\x20basis\x20*'+'/',_0x145ad3,'','('+_L['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x58c9c0],{'type':'applicatio'+'n/javascri'+'pt'});},_0x1d8fe5=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x54c49a=new WebAssembly['Module'](Uint8Array['of'](0x1f80+0x1c42+-0x1de1*0x2,0x6de+-0x1602+-0x1d*-0x89,-0xe72+0xe2d+0xb8,0xc*0x209+-0xf30+0x29*-0x37,-0x4ff+0x7*0x359+-0x126f,-0x1*0x208f+-0x547+0x25d6,-0x4c*-0x3d+0x1e2a+-0x3046,0x3*0xb2e+0xca0+-0x2e2a));if(_0x54c49a instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x54c49a)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1951+0xa81*-0x3+0x38d5*0x1);},_0x3ade8b=(_0x2dbfc5,_0x2c879b)=>{_0x2bd667(null,{'workerUrl':URL['createObje'+'ctURL'](_0x5e0552(_0x2dbfc5)),'module':_0x2c879b,'rgbPriority':_0x5fea08['rgbPriorit'+'y'],'rgbaPriority':_0x5fea08['rgbaPriori'+'ty']});},_0x5c253d={'cache':!(0x836+0x57e+-0xdb4),'responseType':'text','retry':_0x5fea08['maxRetries']>0x23f5+-0x19d8+-0xa1d,'maxRetries':_0x5fea08['maxRetries']};if(_0x5fea08['glueUrl']&&_0x5fea08['wasmUrl']&&_0x1d8fe5()){let _0xe70695=null,_0x446342=null;$e['get'](_0x5fea08['glueUrl'],_0x5c253d,(_0x127fac,_0x42727d)=>{_0x127fac?_0x2bd667(_0x127fac):_0x446342?_0x3ade8b(_0x42727d,_0x446342):_0xe70695=_0x42727d;});const _0x21ae4=fetch(_0x5fea08['wasmUrl']),_0xebf532=()=>{_0x21ae4['then'](_0xe2b897=>_0xe2b897['arrayBuffe'+'r']())['then'](_0x281395=>WebAssembly['compile'](_0x281395))['then'](_0x3d998d=>{_0xe70695?_0x3ade8b(_0xe70695,_0x3d998d):_0x446342=_0x3d998d;})['catch'](_0x1f1f3f=>{_0x2bd667(_0x1f1f3f,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x21ae4)['then'](_0x1d87ba=>{_0xe70695?_0x3ade8b(_0xe70695,_0x1d87ba):_0x446342=_0x1d87ba;})['catch'](_0x3b1823=>{v['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5fea08['wasmUrl']+'\x20('+_0x3b1823+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0xebf532();}):_0xebf532();}else $e['get'](_0x5fea08['fallbackUr'+'l'],_0x5c253d,(_0x10be37,_0x276f6e)=>{_0x10be37?_0x2bd667(_0x10be37,null):_0x3ade8b(_0x276f6e,null);});};class xL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x38695e,_0x299545,_0x4a3e6a,_0x3d2322){if(this['callbacks']['hasOwnProp'+'erty'](_0x38695e))this['callbacks'][_0x38695e]['push'](_0x4a3e6a);else{this['callbacks'][_0x38695e]=[_0x4a3e6a];const _0x12d8cd={'url':_0x38695e,'data':_0x299545,'options':_0x3d2322};this['clients']['length']>0x1266+-0x4*0x980+-0xc1*-0x1a?this['clients']['shift']()['run'](_0x12d8cd):this['queue']['push'](_0x12d8cd);}}['enqueueCli'+'ent'](_0x5e894b){this['queue']['length']>-0x2495+0x22b2+0x1e3?_0x5e894b['run'](this['queue']['shift']()):this['clients']['push'](_0x5e894b);}['handleResp'+'onse'](_0x4ae1f0,_0x197f97,_0x55bdee){const _0x57219c=this['callbacks'][_0x4ae1f0];if(_0x197f97){for(let _0x4bb8d8=-0x181f+-0x3a*0x57+-0xe5*-0x31;_0x4bb8d8<_0x57219c['length'];++_0x4bb8d8)_0x57219c[_0x4bb8d8](_0x197f97);}else{_0x55bdee['format']===_c||_0x55bdee['format']===gc?_0x55bdee['levels']=_0x55bdee['levels']['map'](_0x29663c=>new Uint16Array(_0x29663c)):_0x55bdee['levels']=_0x55bdee['levels']['map'](_0x2b495b=>new Uint8Array(_0x2b495b));for(let _0x51e8e9=-0x224e+-0x1449+0x3697;_0x51e8e9<_0x57219c['length'];++_0x51e8e9)_0x57219c[_0x51e8e9](null,_0x55bdee);}delete this['callbacks'][_0x4ae1f0];}}class SL{constructor(_0x14f72a,_0x485ce6,_0x292c64){this['queue']=_0x14f72a,this['worker']=new Worker(_0x485ce6['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0xac6c1e=>{const _0x400948=_0xac6c1e['data'];this['queue']['handleResp'+'onse'](_0x400948['url'],_0x400948['err'],_0x400948['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x485ce6}),this['eager']=_0x292c64;}['run'](_0x3152f9){const _0x38736d=[];_0x3152f9['data']instanceof ArrayBuffer&&_0x38736d['push'](_0x3152f9['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x3152f9['url'],'format':_0x3152f9['format'],'data':_0x3152f9['data'],'options':_0x3152f9['options']},_0x38736d),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const vL=0x21db+0x1c20+-0x3dfa,bL=['etc2','etc1','astc','dxt','pvr','atc'],wL=['astc','dxt','etc2','pvr','atc'],TL=0x77a+0x297+-0xa0c,Tf=new xL();let Hg=null,Af=!(-0xb*-0x20d+-0x2174+0xae6);function AL(_0x1b1c4a){if(!Af){if(!_0x1b1c4a)_0x1b1c4a=Hg||{};else{if(_0x1b1c4a['lazyInit']){Hg=_0x1b1c4a;return;}}if(!_0x1b1c4a['glueUrl']||!_0x1b1c4a['wasmUrl']||!_0x1b1c4a['fallbackUr'+'l']){const _0x454660=ay['getConfig']('BASIS');_0x454660&&(_0x1b1c4a={'glueUrl':_0x454660['glueUrl'],'wasmUrl':_0x454660['wasmUrl'],'fallbackUrl':_0x454660['fallbackUr'+'l'],'numWorkers':_0x454660['numWorkers']});}if(_0x1b1c4a['glueUrl']||_0x1b1c4a['wasmUrl']||_0x1b1c4a['fallbackUr'+'l']){Af=!(0x1d68+-0x22c1+0x559);const _0x4f06df=Math['max'](0x1*0x1fa4+-0x14*0x1a0+-0xd*-0x11,Math['min'](0x1d7+-0x192f+0x1768,_0x1b1c4a['numWorkers']||vL)),_0x16f114=_0x1b1c4a['numWorkers']===0x1dfa+-0x26c5+0x8cc||(_0x1b1c4a['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x1b1c4a['eagerWorke'+'rs']:!(-0x20f*-0x1+0xff7*-0x1+0xde8));_0x1b1c4a['rgbPriorit'+'y']=_0x1b1c4a['rgbPriorit'+'y']||bL,_0x1b1c4a['rgbaPriori'+'ty']=_0x1b1c4a['rgbaPriori'+'ty']||wL,_0x1b1c4a['maxRetries']=_0x1b1c4a['hasOwnProp'+'erty']('maxRetries')?_0x1b1c4a['maxRetries']:TL,yL(_0x1b1c4a,(_0x4c98b5,_0x5b381e)=>{if(_0x4c98b5)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x4c98b5);else{for(let _0x1ed60e=-0x5*0x209+-0x1387*-0x1+-0x95a;_0x1ed60e<_0x4f06df;++_0x1ed60e)Tf['enqueueCli'+'ent'](new SL(Tf,_0x5b381e,_0x16f114));}});}}}let su=null;function Fx(_0x59b1b8,_0x54d9c7,_0x4a3688,_0x5145a1,_0x9dadc0){return AL(),su||(su={'formats':gL(_0x59b1b8)}),Tf['enqueueJob'](_0x54d9c7,_0x4a3688,_0x5145a1,{'deviceDetails':su,'isGGGR':!!(_0x9dadc0!=null&&_0x9dadc0['isGGGR']),'isKTX2':!!(_0x9dadc0!=null&&_0x9dadc0['isKTX2'])}),Af;}class Na{['load'](_0x489086,_0x2a18c6,_0x30a561){throw new Error('not\x20implem'+'ented');}['open'](_0x4096cf,_0x40d978,_0x4f3912){throw new Error('not\x20implem'+'ented');}}class EL extends Na{constructor(_0x5aad56,_0x3032ff){super(),this['device']=_0x3032ff,this['maxRetries']=0xc5*0x32+0x37*-0xd+0x1d*-0x13b;}['load'](_0x13a63e,_0x4789b4,_0x48faf3){const _0x114dd1=this['device'],_0x7addc0=_0x1c78bc=>{var _0x19435a,_0x475376,_0x36147c;Fx(_0x114dd1,_0x13a63e['load'],_0x1c78bc,_0x4789b4,{'isGGGR':(((_0x36147c=(_0x475376=(_0x19435a=_0x48faf3==null?void(-0x1629+0x873+-0x87*-0x1a):_0x48faf3['file'])==null?void(0x11*-0x25+0xaf1*-0x3+-0x4*-0x8d2):_0x19435a['variants'])==null?void(0xe32+0x1*-0x2193+0x29*0x79):_0x475376['basis'])==null?void(-0x65*0xe+-0x531+0xd*0xd3):_0x36147c['opt'])&0x4*0x59+-0x4*0x12+-0x114)!==0x83e+-0x1f7d+0x173f})||_0x4789b4('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x48faf3['name']+']('+_0x48faf3['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};le['fetchArray'+'Buffer'](_0x13a63e['load'],(_0x4442e2,_0x31d726)=>{_0x4442e2?_0x4789b4(_0x4442e2):_0x7addc0(_0x31d726);},_0x48faf3,this['maxRetries']);}['open'](_0x109eda,_0x35b4bf,_0x15b0f1,_0x5bd6c9={}){const _0x5f578f=_0x5bd6c9['srgb']?Cc(_0x35b4bf['format']):_0x35b4bf['format'],_0x31a1ee=new he(_0x15b0f1,{'name':_0x109eda,'profilerHint':ur,'addressU':_0x35b4bf['cubemap']?ae:tt,'addressV':_0x35b4bf['cubemap']?ae:tt,'width':_0x35b4bf['width'],'height':_0x35b4bf['height'],'format':_0x5f578f,'cubemap':_0x35b4bf['cubemap'],'levels':_0x35b4bf['levels'],..._0x5bd6c9});return _0x31a1ee['upload'](),_0x31a1ee;}}const Ox=new Uint8Array([-0x1e4e+0x391*0x6+0x971,-0x3*-0x293+-0x135a+0xbf1,-0x1c8e+-0xa81*-0x1+0x125b,-0x85f*0x1+0x33a*0x3+-0x108,0x442+0x52+0x3d*-0x13,-0x1298+-0x19d5+-0x1*-0x2c77,-0xbc0+-0x1a77+0x2651,0xb*0x368+0x5e*0xe+-0x2a92,-0x1*-0x2367+-0x39*0x8e+-0x33*0x13,0x2550+0xfc2+-0x3512*0x1,-0x112*-0x14+0x7*-0x12a+0xd42*-0x1,-0x89*0x14+0x9d9*0x1+0xe8,-0x1*-0x1114+0x75b*-0x2+-0x1*0x215,0x4c0+0x833+-0x3*0x439,0x674+-0x20a9+0x1a79,0xdd3*0x1+-0x20a8+0x1327*0x1,-0x2*-0x11c5+-0x10f*-0x16+-0x3ad4,-0x7*-0x1f1+0x9a6+-0x173d,0x22e7+-0x1*-0xea3+-0x318a,0x1*-0x23b1+0xec4+0x2f*0x72,0x1cf3*0x1+0x39*0x4e+-0x2e51*0x1,-0x5*0x233+-0x544+0x1043,-0x1b9*-0x4+0x1e2*0x11+-0x26e6,-0x225*-0x4+-0x9f1+-0xa*-0x23,-0x1*-0x78d+-0xa21*0x1+0x29c,-0x16c3*0x1+0xb*0x2d+0x14da,-0x1c1*0x4+0x1e77+-0x1773,-0x1f77+-0x122*-0x1f+-0x3a7,0x10d5+-0xeb9+-0x3*0xb4,0x3*-0x8+-0xa7*0x39+0x2566,-0x1e92+-0x1d85+0x2*0x1e16,-0xb68+0x1e*-0xa+0xd58,-0x6dd+-0x1382+-0x2*-0xd74,0x6c6+-0x4*-0x8d+-0x8fa*0x1,-0x42*-0x7+-0x23*0xf9+0x7*0x49b,0x5*-0x3af+0x37*0x39+-0xa*-0x9e,-0x10b9+-0x2f*0x3+0x5*0x377,-0x17cf+0x1fd5+-0x1*0x7bd,0x2438+0x135+-0x2529,0x1e8+-0x1*-0x68b+-0x832,0x3dd+-0x6*0x38b+0x11b9,0x19a0+-0x10f2+0x41b*-0x2,0xf5d+-0x16ea+0x867,-0xb7f*0x2+0x1455+-0x82*-0x6,-0x1*-0x224b+0x1850+0x1*-0x3a37,-0x13*0x15+0xc32+-0xa3f*0x1,-0x700*0x3+-0x249b+0x39fd,0x155*0xc+0x2183+-0x30c9,0x1f00+-0x1*-0x1d3f+0x29*-0x178,-0x1*0x1d7a+0x1d*0x2b+0x189b*0x1,-0xa8a+0x17*-0x130+0x25da,-0x1*-0x12db+0x52c*-0x6+0xc86,-0x2fa*0xd+0xee2+0x17d0,0x5*0x154+-0xf96*0x1+0x939*0x1,-0x24ae+0x1e2+-0x167*-0x19,-0x807+0x18ad+-0x1021,-0x270+0xb33+-0x82f,0x1cf7+-0x1e02+0x3f*0x8,0x1b3e+-0x1*-0x65a+-0x2198,0x4*0x138+-0x1ff4+0x1b14,0x757+0x663+-0x2*0x6dd,-0x1214*0x1+-0x5*0x2ba+0x1fb6,-0x1*0x1853+-0x1*-0xcbf+0xbdd,0x7*-0x552+-0x2*0x21b+0x29b9*0x1,-0xc0e+-0x1d4b+0x29a7,0x1*0x15d1+0xbd4+0x1*-0x2161,0xb*-0x15d+-0x5b*0x21+0x1b68,0xbdb+-0x1129+0x590,0x1*-0x20b9+0x10bd+0x105c,0x26b6+0x1f9c+-0x45d0]),kx=(_0x2eec92,_0x4bdc9c)=>{const _0x40f187=new he(_0x2eec92,{'width':0x1,'height':0x1,'format':Se,'mipmaps':!(0x4dd+-0x1*0x283+-0x259),'levels':[_0x4bdc9c]}),_0x178d64=new pt({'colorBuffer':_0x40f187,'depth':!(-0x1*-0x179b+0xf1b+0xce7*-0x3)});_0x2eec92['setFramebu'+'ffer'](_0x178d64['impl']['_glFrameBu'+'ffer']),_0x2eec92['initRender'+'Target'](_0x178d64);const _0x1e4dc6=new Uint8ClampedArray(-0x245f+-0x2*0xf53+0x4309);return _0x2eec92['gl']['readPixels'](0x1990+0x65c+-0x24*0xe3,0x1ba+0x10b2+-0x126c,0x2*-0x27b+0x103+0x3f4,0x2b*0x3d+0x990+-0x13ce,_0x2eec92['gl']['RGBA'],_0x2eec92['gl']['UNSIGNED_B'+'YTE'],_0x1e4dc6),_0x178d64['destroy'](),_0x40f187['destroy'](),_0x1e4dc6[-0x1*0x25be+-0x12*-0x1+0x25ac]===0x1*0x6d+0x149*-0xd+0x1049*0x1&&_0x1e4dc6[0x445+0x2372+-0x27b6]===-0x962+-0x1d3*0xa+0x1ba2&&_0x1e4dc6[-0x9*0x1fd+0x1c66+0x1*-0xa7f]===-0x1*-0x919+-0x1252+-0x314*-0x3&&_0x1e4dc6[-0x454*-0x8+0xda8+-0x3045]===0x1*0x112+0x140a+-0x14dd;},CL=_0x3628b3=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x335820=>kx(_0x3628b3,_0x335820))['catch'](_0x2be7a5=>!(-0x23e+0x517*-0x1+0x272*0x3)),ML=_0x4b110a=>new Promise((_0x299f99,_0x159ba4)=>{const _0x5e3571=new Image();_0x5e3571['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x5e3571['onload']=()=>{_0x299f99(kx(_0x4b110a,_0x5e3571));};});class PL{static['run'](_0xdfe5e5){CL(_0xdfe5e5)['then'](_0x118c65=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x118c65);}),ML(_0xdfe5e5)['then'](_0x1d83fb=>{console['log']('imgElement'+'IsCorrect='+_0x1d83fb);});}}class RL extends Na{constructor(_0xc673a7,_0x427952){super(),this['crossOrigi'+'n']=_0xc673a7['prefix']?'anonymous':null,this['maxRetries']=0x860+-0x11d7*-0x1+-0x1a37,this['device']=_0x427952,Xs['get']('IMG_ALPHA_'+'TEST')&&PL['run'](this['device']);}['load'](_0x320843,_0xba26be,_0x40b70b){var _0x2e4586;const _0x5b9396=!!((_0x2e4586=_0x40b70b==null?void(0x4c7*0x2+-0x9c+-0x2*0x479):_0x40b70b['file'])!=null&&_0x2e4586['contents']);if(_0x5b9396){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x40b70b['file']['contents']]),_0xba26be);return;}_0x320843={'load':URL['createObje'+'ctURL'](new Blob([_0x40b70b['file']['contents']])),'original':_0x320843['original']};}const _0x35454f=(_0x39b081,_0x5dca33)=>{_0x5b9396&&URL['revokeObje'+'ctURL'](_0x320843['load']),_0xba26be(_0x39b081,_0x5dca33);};let _0x30b334;_0x40b70b&&_0x40b70b['options']&&_0x40b70b['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x30b334=_0x40b70b['options']['crossOrigi'+'n']:Da['test'](_0x320843['load'])&&(_0x30b334=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x320843['load'],_0x320843['original'],_0x30b334,_0x35454f):this['_loadImage'](_0x320843['load'],_0x320843['original'],_0x30b334,_0x35454f);}['open'](_0x3facd9,_0x377012,_0x47121a,_0x30dc21={}){const _0x57cb40=new he(_0x47121a,{'name':_0x3facd9,'profilerHint':ur,'width':_0x377012['width'],'height':_0x377012['height'],'format':_0x30dc21['srgb']?rs:Se,..._0x30dc21});return _0x57cb40['setSource'](_0x377012),_0x57cb40;}['_loadImage'](_0x2f410b,_0x16ed46,_0x1f1864,_0x5a082e){const _0x1535a3=new Image();_0x1f1864&&(_0x1535a3['crossOrigi'+'n']=_0x1f1864);let _0x4f3a16=0x217c+-0x22*0xac+-0xaa4;const _0x46d438=this['maxRetries'];let _0x185b17;_0x1535a3['onload']=function(){_0x5a082e(null,_0x1535a3);},_0x1535a3['onerror']=function(){if(!_0x185b17){if(_0x46d438>-0x167e+0x7*0x35+0x150b&&++_0x4f3a16<=_0x46d438){const _0x1702f6=Math['pow'](0x16*-0xb8+-0xe*-0xd+0x78e*0x2,_0x4f3a16)*(0x35b*0x3+-0x2*0xeb7+0x13c1);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x16ed46+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x1702f6+'ms...');const _0x3fd1d8=_0x2f410b['indexOf']('?')>=0x1938+-0x3*-0x686+-0x2cca?'&':'?';_0x185b17=setTimeout(()=>{_0x1535a3['src']=_0x2f410b+_0x3fd1d8+'retry='+Date['now'](),_0x185b17=null;},_0x1702f6);}else _0x5a082e('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x16ed46+'\x27');}},_0x1535a3['src']=_0x2f410b;}['_loadImage'+'Bitmap'](_0x30f135,_0x35841f,_0x143566,_0x9532ea){const _0x505012={'cache':!(-0x2*0x83f+0x1b48+-0xaca),'responseType':'blob','retry':this['maxRetries']>0x2531+-0x1*0x461+-0xaf*0x30,'maxRetries':this['maxRetries']};$e['get'](_0x30f135,_0x505012,(_0x173523,_0x499815)=>{_0x173523?_0x9532ea(_0x173523):this['_loadImage'+'BitmapFrom'+'Blob'](_0x499815,_0x9532ea);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x37454e,_0x13625e){createImageBitmap(_0x37454e,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x208c6f=>_0x13625e(null,_0x208c6f))['catch'](_0x271a1=>_0x13625e(_0x271a1));}}const iu=[0xa54d9c36+0x4051214b+-0x8d4a71d6*0x1,-0x17568ffb+0x4*0x46dbfaef+-0x48e82aa1,-0x7075c52*-0x2+0x40ba28d+-0x2001449*0x4],IL={0x83f0:yc,0x83f2:zf,0x83f3:$o,0x8d64:bc,0x9274:Vf,0x9278:Gf,0x8c00:wc,0x8c01:qo,0x8c02:Tc,0x8c03:Xo,0x8051:dr,0x8058:Se,0x8c41:Uf,0x8c43:rs,0x8c3a:_a,0x881b:xc,0x881a:Je};function DL(_0x36f1ea,_0xf744ac,_0xd104e7,_0x2a0671){return _0x36f1ea===_a?new Uint32Array(_0xf744ac,_0xd104e7,_0x2a0671/(-0x1556+0x44*-0x50+0x52*0x85)):new Uint8Array(_0xf744ac,_0xd104e7,_0x2a0671);}class LL extends Na{constructor(_0x56e06b){super(),this['maxRetries']=0x28*0x6a+-0x22dc+-0x4*-0x493;}['load'](_0x144778,_0x5014ba,_0x42eff7){le['fetchArray'+'Buffer'](_0x144778['load'],_0x5014ba,_0x42eff7,this['maxRetries']);}['open'](_0x1794dc,_0x52ad15,_0x5a0f83,_0x29d117={}){const _0x34d9fd=this['parse'](_0x52ad15);if(!_0x34d9fd)return null;const _0x46397f=_0x29d117['srgb']?Cc(_0x34d9fd['format']):_0x34d9fd['format'],_0x3e21b9=new he(_0x5a0f83,{'name':_0x1794dc,'profilerHint':ur,'addressU':_0x34d9fd['cubemap']?ae:tt,'addressV':_0x34d9fd['cubemap']?ae:tt,'width':_0x34d9fd['width'],'height':_0x34d9fd['height'],'format':_0x46397f,'cubemap':_0x34d9fd['cubemap'],'levels':_0x34d9fd['levels'],..._0x29d117});return _0x3e21b9['upload'](),_0x3e21b9;}['parse'](_0x44262e){const _0x3b3e3a=new Uint32Array(_0x44262e);if(iu[0xcb2+-0x175*0xa+0x28*0xc]!==_0x3b3e3a[-0x1ac9*0x1+-0x1c87+0x3750]||iu[-0x6f3*0x1+0x164e+-0xf5a]!==_0x3b3e3a[-0x17b*-0xe+0x1*0xb37+-0x1ff0]||iu[0x86+-0x137a+0x652*0x3]!==_0x3b3e3a[-0x425*-0x2+-0x1568+-0x3c*-0x38])return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x86f1c5={'endianness':_0x3b3e3a[0x9*-0x2e3+0xa76+-0x1*-0xf88],'glType':_0x3b3e3a[0x2190+0x177c+-0x49*0xc8],'glTypeSize':_0x3b3e3a[-0x85a*0x2+-0x1f3*0x5+0x1a78],'glFormat':_0x3b3e3a[-0xa7*-0x3+-0x166f+0x1480],'glInternalFormat':_0x3b3e3a[-0x1f36+-0x1aa*0x10+0x39dd],'glBaseInternalFormat':_0x3b3e3a[-0x727*-0x2+0x11a1*-0x1+0x35b],'pixelWidth':_0x3b3e3a[-0x1*-0x1b25+-0x103d+-0xadf],'pixelHeight':_0x3b3e3a[0x8*-0x359+-0xd13+0x27e5],'pixelDepth':_0x3b3e3a[-0x1883+-0x6*-0x2ab+-0x223*-0x4],'numberOfArrayElements':_0x3b3e3a[0x1*-0x66b+0x4*0x9a4+-0x2019],'numberOfFaces':_0x3b3e3a[0xd25+0x6db+-0x13f3*0x1],'numberOfMipmapLevels':_0x3b3e3a[0x11*0x192+0x9b3+-0x2457],'bytesOfKeyValueData':_0x3b3e3a[-0x9e8+-0x255b*0x1+0x2f52]};if(_0x86f1c5['pixelDepth']>-0x765+-0x33*-0x93+-0x15e3)return v['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x86f1c5['numberOfAr'+'rayElement'+'s']!==-0xb*0x257+-0xf33+0x28f0)return v['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x193470=IL[_0x86f1c5['glInternal'+'Format']];if(_0x193470===void(0xfbe+-0x6*-0xad+0x1*-0x13cc))return v['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x86f1c5['glInternal'+'Format']),null;let _0x53aff8=0x1608*-0x1+0x1ab+-0x15*-0xf9+_0x86f1c5['bytesOfKey'+'ValueData']/(-0xe6e+0x1*0x2202+0x1390*-0x1);const _0x4145da=_0x86f1c5['numberOfFa'+'ces']>0x1561+-0x1*-0x103+-0x1663,_0x49d868=[];for(let _0x1ed6e6=-0x20d6+0x1394+0x6a1*0x2;_0x1ed6e6<(_0x86f1c5['numberOfMi'+'pmapLevels']||-0x957+0x1*0x1b33+0x1*-0x11db);_0x1ed6e6++){const _0x28425d=_0x3b3e3a[_0x53aff8++];_0x4145da&&_0x49d868['push']([]);const _0x4192bd=_0x4145da?_0x49d868[_0x1ed6e6]:_0x49d868;for(let _0x36eb54=0xa*-0x3cc+0x567+0x2091;_0x36eb54<(_0x4145da?-0x1*-0x902+0xab1+-0x13ad:0x21ae+-0x5ab+-0x1c02);++_0x36eb54)_0x4192bd['push'](DL(_0x193470,_0x44262e,_0x53aff8*(-0x2*-0xc91+-0x2*-0xe54+-0x2*0x1ae3),_0x28425d)),_0x53aff8+=_0x28425d+(0xe95*-0x2+0xbaf*0x3+-0x5e0)>>-0x1*0x249e+0x6af*-0x4+0x3f5c;}return{'format':_0x193470,'width':_0x86f1c5['pixelWidth'],'height':_0x86f1c5['pixelHeigh'+'t'],'levels':_0x49d868,'cubemap':_0x4145da};}}const FL={'KHR_DF_MODEL_UASTC':0xa6};class OL extends Na{constructor(_0x58254a,_0x56366d){super(),this['maxRetries']=-0x841+-0x6*-0x1d8+-0x2cf,this['device']=_0x56366d;}['load'](_0x1b9ae6,_0x3a0407,_0x191a3f){le['fetchArray'+'Buffer'](_0x1b9ae6['load'],(_0xcac955,_0x55c951)=>{_0xcac955?_0x3a0407(_0xcac955,_0x55c951):this['parse'](_0x55c951,_0x1b9ae6,_0x3a0407,_0x191a3f);},_0x191a3f,this['maxRetries']);}['open'](_0x655383,_0x58cbc2,_0x3731f3,_0x414fc0={}){const _0xf9826c=_0x414fc0['srgb']?Cc(_0x58cbc2['format']):_0x58cbc2['format'],_0x7a66ba=new he(_0x3731f3,{'name':_0x655383,'profilerHint':ur,'addressU':_0x58cbc2['cubemap']?ae:tt,'addressV':_0x58cbc2['cubemap']?ae:tt,'width':_0x58cbc2['width'],'height':_0x58cbc2['height'],'format':_0xf9826c,'cubemap':_0x58cbc2['cubemap'],'levels':_0x58cbc2['levels'],..._0x414fc0});return _0x7a66ba['upload'](),_0x7a66ba;}['parse'](_0x1ff714,_0xb1bab1,_0x6aedcc,_0x5a6e90){var _0x2887d9,_0x4944d2,_0x2c264a;const _0xcbe333=new oy(_0x1ff714),_0x1ec5d6=[_0xcbe333['readU32be'](),_0xcbe333['readU32be'](),_0xcbe333['readU32be']()];if(_0x1ec5d6[-0x1b43+0xca7*0x1+0xe9c]!==0xdabadd8d+-0x1222312f1+0x4*0x3cace26f||_0x1ec5d6[-0x1*-0x12db+-0x231f+0x1045]!==0x2*-0x10b65487+-0x1c2304c7+0x5dc1de90||_0x1ec5d6[0x1*-0x198b+-0x341+0x1cce]!==-0x2559*-0x8a22+-0x17f1cbe1+-0x10d4f619*-0x1)return v['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0xfb288c={'vkFormat':_0xcbe333['readU32'](),'typeSize':_0xcbe333['readU32'](),'pixelWidth':_0xcbe333['readU32'](),'pixelHeight':_0xcbe333['readU32'](),'pixelDepth':_0xcbe333['readU32'](),'layerCount':_0xcbe333['readU32'](),'faceCount':_0xcbe333['readU32'](),'levelCount':_0xcbe333['readU32'](),'supercompressionScheme':_0xcbe333['readU32']()},_0x5424f9={'dfdByteOffset':_0xcbe333['readU32'](),'dfdByteLength':_0xcbe333['readU32'](),'kvdByteOffset':_0xcbe333['readU32'](),'kvdByteLength':_0xcbe333['readU32'](),'sgdByteOffset':_0xcbe333['readU64'](),'sgdByteLength':_0xcbe333['readU64']()},_0x3187ce=[];for(let _0x44a90f=0x1305+-0xa5d+-0x8a8;_0x44a90f<Math['max'](0x68e*0x1+-0xc9d+0x8*0xc2,_0xfb288c['levelCount']);++_0x44a90f)_0x3187ce['push']({'byteOffset':_0xcbe333['readU64'](),'byteLength':_0xcbe333['readU64'](),'uncompressedByteLength':_0xcbe333['readU64']()});if(_0xcbe333['readU32']()!==_0x5424f9['kvdByteOff'+'set']-_0x5424f9['dfdByteOff'+'set'])return v['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0xcbe333['skip'](0x23b4+0x764+-0x2b10);const _0x451768=_0xcbe333['readU8']();_0xcbe333['skip'](_0x5424f9['dfdByteLen'+'gth']-(0x1*-0x25e3+-0x1324+-0xb0*-0x53)),_0xcbe333['skip'](_0x5424f9['kvdByteLen'+'gth']),_0xfb288c['supercompr'+'essionSche'+'me']===0x181d+0x17f6+-0x3012||_0x451768===FL['KHR_DF_MOD'+'EL_UASTC']?Fx(this['device'],_0xb1bab1['load'],_0x1ff714,_0x6aedcc,{'isGGGR':(((_0x2c264a=(_0x4944d2=(_0x2887d9=_0x5a6e90==null?void(0x580+-0x8*-0x2ab+-0x1ad8):_0x5a6e90['file'])==null?void(0x1a7*-0x14+0x1*0x1d6c+0x3a0):_0x2887d9['variants'])==null?void(0x257*0xd+-0x198*0xc+-0xb4b):_0x4944d2['basis'])==null?void(0xeb8+-0x70a+-0x3d7*0x2):_0x2c264a['opt'])&-0x22a0+0x1f06+0x3a2)!==0xc2b+0x1fba+-0x11*0x295,'isKTX2':!(0x18c7*0x1+0x26b*0xf+-0x3d0c)})||_0x6aedcc('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x5a6e90['name']+']('+_0x5a6e90['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x6aedcc('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class kL extends Na{constructor(_0x1f3aae){super(),this['maxRetries']=0x23cf+0x3*-0x9b6+-0x6ad;}['load'](_0x145933,_0x2d6a84,_0x292175){le['fetchArray'+'Buffer'](_0x145933['load'],_0x2d6a84,_0x292175,this['maxRetries']);}['open'](_0x111bc9,_0x40b243,_0x2da9b0,_0x2ac86f={}){const _0x58b5a5=new Uint32Array(_0x40b243,-0x1fd+-0xc2a*0x2+0x1a51,0xee0+-0x2*0xcd0+0xae0),_0x43d679=_0x58b5a5[-0x7*-0x387+-0x1*0x103f+-0x86e],_0x5e708b=_0x58b5a5[-0x49*-0x35+0x103b+-0x1f55],_0x2e87c1=Math['max'](_0x58b5a5[0x1*-0x1029+-0x3ce*-0xa+-0x15dc],-0x51a+0x1*0x4e1+0x3a),_0xcbe327=_0x58b5a5[0x1ddd+-0xc1*-0x11+-0x2a9a]===-0xee3+0x1*0x148d+-0x5a6,_0x2a5620=_0x58b5a5[0x185b+-0x7*0x355+-0x1*0xf3],_0x4c9db0=_0x58b5a5[0x107*-0x1+-0x1525+0x1642],_0x5d11e1=_0x58b5a5[-0x1eb5+0xc*-0x259+0x3afd]===-0xccd1+0x1de17+-0x1346,_0x29b90e=-0x3e17ecb0+-0x131255c8*0x5+0xcec7f1dc,_0x4c92fa=0x1b92*0x2b53d+0x206cd31e+-0x35c146a4,_0x11428e=-0x3*-0x81c+-0x1*0x128+-0x16bb,_0x2a8d0f=0x1c97*0x1+-0x92d+-0x329*0x6,_0x1d0d12=-0x4bf04b46+-0x4a58862+0x81d927ed,_0x349c66=-0x1*-0x4379b5+-0x403d3ca1+0x712cf53c,_0x2414d2=0x28589a55+0x22d3ac35+-0x19f8143a,_0x25c3fc=0x51710dfd+0x1*0x121f572b+0xa9a5b2*-0x4c,_0x4ce516=0x46c1ef73+0x1ccc7d*0x2ab+-0x62634ca2;let _0x3ec1fd=!(0x2396+-0x21f8+-0x19d),_0xb0720e=!(-0x1229*0x1+-0x21a4+0x13*0x2ba),_0xe944ad=!(0x215*-0x11+0x2cf+0x2097),_0xd8cf04=!(-0xda0+-0x1*0x5ad+-0xe*-0x161),_0x1d51c1=null,_0x56a249=0x1e9b+0xcb*-0xe+-0x10*0x138,_0x40135a;if(_0xcbe327?_0x2a5620===_0x29b90e?(_0x1d51c1=yc,_0x3ec1fd=!(-0x3e*-0x7a+-0x150e+0x43f*-0x2)):_0x2a5620===_0x4c92fa?(_0x1d51c1=$o,_0x3ec1fd=!(0x3a5*-0x1+-0xb54+0xef9)):_0x2a5620===_0x11428e?(_0x1d51c1=Je,_0x56a249=-0x1969+-0x3*-0x2d7+0x10e6):_0x2a5620===_0x2a8d0f?(_0x1d51c1=Ke,_0x56a249=-0x1d44+0x129*0x2+0x1af6):_0x2a5620===_0x1d0d12?(_0x1d51c1=bc,_0x3ec1fd=!(0xff7+0x142e+-0x2425),_0xb0720e=!(-0x4e9*-0x1+0x121*-0x1+-0x3c8)):_0x2a5620===_0x349c66||_0x2a5620===_0x2414d2?(_0x1d51c1=_0x2a5620===_0x349c66?qo:Xo,_0x3ec1fd=!(-0x2143+0x1*0xffd+-0x6*-0x2e1),_0xe944ad=!(-0xae7*-0x3+-0x2*-0x3fc+0x321*-0xd)):(_0x2a5620===_0x25c3fc||_0x2a5620===_0x4ce516)&&(_0x1d51c1=_0x2a5620===_0x25c3fc?wc:Tc,_0x3ec1fd=!(-0x3a*0x65+0x1*0x9c8+-0x1*-0xd1a),_0xd8cf04=!(-0x1c*-0x3+0xb2*0x1+-0x1*0x106)):_0x4c9db0===-0x1d09*-0x1+0x251*-0x7+0xfa*-0xd&&(_0x1d51c1=Se),!_0x1d51c1)return v['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x111bc9+'.'),_0x40135a=new he(_0x2da9b0,{'width':0x4,'height':0x4,'format':dr,'name':'dds-legacy'+'-empty'}),_0x40135a;_0x40135a=new he(_0x2da9b0,{'name':_0x111bc9,'profilerHint':ur,'addressU':_0x5d11e1?ae:tt,'addressV':_0x5d11e1?ae:tt,'width':_0x43d679,'height':_0x5e708b,'format':_0x1d51c1,'cubemap':_0x5d11e1,'mipmaps':_0x2e87c1>-0xf17+-0x13cc+0xcb*0x2c,..._0x2ac86f});let _0xcaff1=-0x1870+-0x11c1+0x2ab1;const _0x41ebb5=_0x5d11e1?0x78e+-0x70f*0x3+0xda5:-0x2ef+0x2e+0x2c2;let _0x45f07b;const _0x3eaaaa=0x1ca1+0x1e*0x13+-0x1ed7*0x1,_0x37ca98=-0x23aa+0xf07+0x14a7,_0x175fec=_0x2a5620===_0x29b90e?-0x3*-0x324+0x124c+-0x1bb*0x10:0x3*-0x7c+-0x4*0x9a3+-0x8*-0x502;let _0x52f100,_0x2d7258,_0x171344;for(let _0xb61fcd=0x9b0+0x1*-0x1d87+0x13d7;_0xb61fcd<_0x41ebb5;_0xb61fcd++){let _0x21e2f3=_0x43d679,_0x5df307=_0x5e708b;for(let _0x27b942=0xd94+-0x9+-0xd8b;_0x27b942<_0x2e87c1;_0x27b942++){_0x3ec1fd?_0xb0720e?_0x45f07b=Math['floor']((_0x21e2f3+(-0x5*-0xdf+-0x7d7*0x3+0x132d))/(0x3d8+0x1*0x1417+0x7f9*-0x3))*Math['floor']((_0x5df307+(-0x131b*0x2+0xafe+0x1b3b))/(0x86*0x11+0x2090*0x1+-0x2972))*(-0x134*-0x7+0x79f+-0x1*0x1003):_0xe944ad?_0x45f07b=Math['max'](_0x21e2f3,0xbc*-0x1c+0x7c1+0xcdf)*Math['max'](_0x5df307,0x1*-0x1223+-0xe*0x39+0x1549)/(-0x105f+0x1a7a*-0x1+-0x1*-0x2add):_0xd8cf04?_0x45f07b=Math['max'](_0x21e2f3,-0x162b*0x1+0xaed*-0x1+0x2120)*Math['max'](_0x5df307,-0x19df+0x7f*-0x2+-0xf*-0x1cb)/(0xa57*0x1+0x1a24*0x1+0x1*-0x2479):(_0x52f100=Math['floor']((_0x21e2f3+_0x3eaaaa-(-0x219b+-0x9e1+-0x9*-0x4d5))/_0x3eaaaa),_0x2d7258=Math['floor']((_0x5df307+_0x37ca98-(0x5*0x26f+0xb07+-0x7bb*0x3))/_0x37ca98),_0x171344=_0x52f100*_0x2d7258,_0x45f07b=_0x171344*_0x175fec):_0x45f07b=_0x21e2f3*_0x5df307*(-0x20e0+0xa6c+0x1678);const _0x1b5db3=_0x1d51c1===Ke?new Float32Array(_0x40b243,_0xcaff1,_0x45f07b):_0x1d51c1===Je?new Uint16Array(_0x40b243,_0xcaff1,_0x45f07b):new Uint8Array(_0x40b243,_0xcaff1,_0x45f07b);_0x5d11e1?(_0x40135a['_levels'][_0x27b942]||(_0x40135a['_levels'][_0x27b942]=[]),_0x40135a['_levels'][_0x27b942][_0xb61fcd]=_0x1b5db3):_0x40135a['_levels'][_0x27b942]=_0x1b5db3,_0xcaff1+=_0x45f07b*_0x56a249,_0x21e2f3=Math['max'](_0x21e2f3*(0x265*-0xb+0x1*-0x373+0xee5*0x2+0.5),-0x16c7+0x231a*-0x1+-0x1cf1*-0x2),_0x5df307=Math['max'](_0x5df307*(-0xeb5+0x5*0x251+-0x190*-0x2+0.5),0x22ac+-0x2366+0xbb);}}return _0x40135a['upload'](),_0x40135a;}}class BL extends Na{constructor(_0x4e5b41){super(),this['maxRetries']=0xc*-0x86+-0x6f6+0xd3e;}['load'](_0x227214,_0x506afc,_0x38161f){le['fetchArray'+'Buffer'](_0x227214['load'],_0x506afc,_0x38161f,this['maxRetries']);}['open'](_0x59695c,_0x3c68b4,_0x111524,_0x391c3={}){const _0x46d619=this['parse'](_0x3c68b4);if(!_0x46d619)return null;const _0x47f168=new he(_0x111524,{'name':_0x59695c,'profilerHint':ur,'addressU':tt,'addressV':ae,'minFilter':de,'magFilter':de,'width':_0x46d619['width'],'height':_0x46d619['height'],'levels':_0x46d619['levels'],'format':Se,'type':ap,'mipmaps':!(-0x2533+-0x1ad3+0x4007),..._0x391c3});return _0x47f168['upload'](),_0x47f168;}['parse'](_0x447063){const _0x1bd64a=new oy(_0x447063);if(!_0x1bd64a['readLine']()['startsWith']('#?RADIANCE'))return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x18dd30={};for(;;){const _0x4463dd=_0x1bd64a['readLine']();if(_0x4463dd['length']===-0xa9*0x29+-0x4ee*-0x1+0x1623*0x1)break;{const _0x20219b=_0x4463dd['split']('=');_0x20219b['length']===-0x4*0x2dd+-0x1391*-0x1+-0x81b&&(_0x18dd30[_0x20219b[-0xcd3*0x2+-0x19b*0x9+0x2819]]=_0x20219b[-0xf8b+0x19*-0x174+0x33e*0x10]);}}if(!_0x18dd30['hasOwnProp'+'erty']('FORMAT'))return v['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x47838e=_0x1bd64a['readLine']()['split']('\x20');if(_0x47838e['length']!==-0x10d*-0x1b+0xa81*0x3+0x1*-0x3bde)return v['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x3288a8=parseInt(_0x47838e[0x81b+-0xb66+0x34c],-0x170f*0x1+0x1d03+-0x5ea),_0x544fc7=parseInt(_0x47838e[0x1f91+0x2d2+-0x2260],0x2*0x10dd+-0x335*-0x9+-0x3e8d),_0x3afdb3=this['_readPixel'+'s'](_0x1bd64a,_0x544fc7,_0x3288a8,_0x47838e[-0x25cc+0x76f+-0x1e5d*-0x1]==='-Y');return _0x3afdb3?{'width':_0x544fc7,'height':_0x3288a8,'levels':[_0x3afdb3]}:null;}['_readPixel'+'s'](_0x43add4,_0x16dda1,_0x5c7f1,_0x5e6b9a){if(_0x16dda1<-0x1d49+-0x362*0x1+-0x1*-0x20b3||_0x16dda1>-0x3*-0x20ab+-0xa243+0xc041)return this['_readPixel'+'sFlat'](_0x43add4,_0x16dda1,_0x5c7f1);const _0x1d29e6=[0x126*-0x7+0xc2+0x8*0xe9,0xcb7+0xa77+-0x172e,-0x6*-0x32b+-0x12eb*0x2+0x12d4,0x1*-0x11e7+-0x2*0xa5+0x1*0x1331];if(_0x43add4['readArray'](_0x1d29e6),_0x1d29e6[-0x1601+-0x1f06+-0x21f*-0x19]!==-0xed4+-0x4*0x30+0x15*0xbe||_0x1d29e6[-0x1d9f+-0x100d+0x1*0x2dad]!==-0x260+0xdd4+-0xb72||(_0x1d29e6[0x13*-0x17b+-0x1*0x258f+0x41b2]&-0x7*0xf1+0x1672+-0xf5b)!==-0x5*-0x1e2+0xaaf*-0x1+0x19*0xd)return _0x43add4['skip'](-(0x737+0x1*-0xc1a+0xfb*0x5)),this['_readPixel'+'sFlat'](_0x43add4,_0x16dda1,_0x5c7f1);const _0x478e2c=new ArrayBuffer(_0x16dda1*_0x5c7f1*(-0x9*-0xa2+-0x26ba+0x12*0x1d6)),_0x4f6fe1=new Uint8Array(_0x478e2c);let _0x4bff1f=_0x5e6b9a?-0xbe5+0x1310+-0x72b:_0x16dda1*(0x1*-0x24d9+-0x11d*0x4+0x2951)*(_0x5c7f1-(-0x2129*0x1+-0x3*0x5cf+0x3*0x10dd)),_0x294a06,_0x39411a,_0x5d8a29,_0x4522e9,_0x12d7f0,_0x477cc9;for(_0x39411a=-0x1045+-0x1733+-0x1*-0x2778;_0x39411a<_0x5c7f1;++_0x39411a){if(_0x39411a&&_0x43add4['readArray'](_0x1d29e6),(_0x1d29e6[-0x2*0x177+-0x7ac+0x7*0x184]<<-0x2b*0x32+-0x407+0xc75)+_0x1d29e6[0x370+0x1607+-0x1974]!==_0x16dda1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x4522e9=-0x1e5*0x3+0x32*0x71+0x1*-0x1063;_0x4522e9<0x16ab+-0x59+-0x164e;++_0x4522e9)for(_0x294a06=0xc6c+-0xb*-0x175+-0x1c73;_0x294a06<_0x16dda1;)if(_0x12d7f0=_0x43add4['readU8'](),_0x12d7f0>0x1*-0x1fc7+-0x1a2c+0x3a73){if(_0x12d7f0-=0x23*0x81+0x1b26+-0x2c49,_0x294a06+_0x12d7f0>_0x16dda1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x477cc9=_0x43add4['readU8'](),_0x5d8a29=0x17d8+0x12f8+-0x8*0x55a;_0x5d8a29<_0x12d7f0;++_0x5d8a29)_0x4f6fe1[_0x4bff1f+_0x4522e9+(-0x13b5*-0x1+-0x13f9*0x1+0x48)*_0x294a06++]=_0x477cc9;}else{if(_0x12d7f0===-0x4a*-0x47+-0x23b5+0xd*0x12b||_0x294a06+_0x12d7f0>_0x16dda1)return v['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x5d8a29=-0x1577+0x22dd+0x62*-0x23;_0x5d8a29<_0x12d7f0;++_0x5d8a29)_0x4f6fe1[_0x4bff1f+_0x4522e9+(-0x1bf*-0x12+0x7db*0x1+0x3*-0xd17)*_0x294a06++]=_0x43add4['readU8']();}_0x4bff1f+=_0x16dda1*(-0xb4+-0x1*0xd82+0xe3a)*(_0x5e6b9a?-0x1*0x1cd5+-0x1*-0x1eb4+0x2*-0xef:-(-0xf80+-0x1*-0x962+0x61f));}return _0x4f6fe1;}['_readPixel'+'sFlat'](_0x54c276,_0x19db3d,_0x40d39c){return _0x54c276['remainingB'+'ytes']===_0x19db3d*_0x40d39c*(0xe9*-0x2a+0x1a*-0x4f+0xc*0x3db)?new Uint8Array(_0x54c276['arraybuffe'+'r'],_0x54c276['offset']):null;}}const Wg={'repeat':tt,'clamp':ae,'mirror':Of},$g={'nearest':de,'linear':st,'nearest_mip_nearest':fc,'linear_mip_nearest':mc,'nearest_mip_linear':pc,'linear_mip_linear':nn},NL={'default':Di,'rgbm':on,'rgbe':ap,'rgbp':Io,'swizzleGGGR':op},zL=function(_0x1424b7){const _0x30e4c5=Mi['calcMipLev'+'elsCount'](_0x1424b7['_width'],_0x1424b7['_height']),_0x2843d1=function(_0x16a316){return _0x16a316 instanceof HTMLCanvasElement||_0x16a316 instanceof HTMLImageElement||_0x16a316 instanceof HTMLVideoElement;};if(!(_0x1424b7['_format']===Se||_0x1424b7['_format']===Ke)||_0x1424b7['_volume']||_0x1424b7['_compresse'+'d']||_0x1424b7['_levels']['length']===0x1c36+-0x116*0x4+-0x17dd||_0x1424b7['_levels']['length']===_0x30e4c5||_0x2843d1(_0x1424b7['_cubemap']?_0x1424b7['_levels'][-0x112*0xd+0x19fa+-0xc10][0x6d9+-0x1ec8+-0x1*-0x17ef]:_0x1424b7['_levels'][0x1*-0xf9a+0x8e*-0x2b+0x2774]))return;const _0x9bc531=function(_0x4d8d14,_0x5a3270,_0xf25435){const _0x311c7e=Math['max'](-0x1ea1*0x1+-0xc11+0x1*0x2ab3,_0x4d8d14>>-0x1*0x171e+0x1dd3*-0x1+0x34f2),_0x3fb12f=Math['max'](0xf54+-0x1*-0xb1+0x334*-0x5,_0x5a3270>>0x7d*-0x43+-0x1b*-0xf9+-0x1*-0x675),_0x1f99ba=new _0xf25435['constructo'+'r'](_0x311c7e*_0x3fb12f*(0x1*0xacd+0x1bf2+-0x26bb)),_0x2ff321=Math['floor'](_0x4d8d14/_0x311c7e),_0x58bf14=Math['floor'](_0x5a3270/_0x3fb12f),_0x4d1b5f=_0x2ff321*_0x58bf14;for(let _0x1b888a=0x774+-0x1a7a+0x1306;_0x1b888a<_0x3fb12f;++_0x1b888a)for(let _0x293dc1=-0xd2d+0x59*-0x7+0xf9c;_0x293dc1<_0x311c7e;++_0x293dc1)for(let _0x5a751f=0x1bfe+0xae1+-0x26df;_0x5a751f<0x2f*-0x5+0x2*0xc9+-0xa3;++_0x5a751f){let _0x13ce75=-0x249f+0xbda*-0x3+0x9*0x805;for(let _0x458e51=0x6*0x677+-0x5fd*0x5+-0x8d9;_0x458e51<_0x58bf14;++_0x458e51)for(let _0x541258=-0x1*-0x263+-0x104b+0x8*0x1bd;_0x541258<_0x2ff321;++_0x541258)_0x13ce75+=_0xf25435[(_0x293dc1*_0x2ff321+_0x541258+(_0x1b888a*_0x58bf14+_0x458e51)*_0x4d8d14)*(0x261e+-0x1c74+-0x9a6)+_0x5a751f];_0x1f99ba[(_0x293dc1+_0x1b888a*_0x311c7e)*(0x1*0x255d+0x2*0xdb0+-0x9*0x731)+_0x5a751f]=_0x13ce75/_0x4d1b5f;}return _0x1f99ba;};for(let _0x3c5ffb=_0x1424b7['_levels']['length'];_0x3c5ffb<_0x30e4c5;++_0x3c5ffb){const _0x3cb7dd=Math['max'](0x12*-0xbc+-0x5ab+-0x3e*-0x4e,_0x1424b7['_width']>>_0x3c5ffb-(-0x214d*0x1+0x18c3+-0x1*-0x88b)),_0x25f1fc=Math['max'](-0x3b*0x3+0x1870+-0x17be,_0x1424b7['_height']>>_0x3c5ffb-(0x12ef+-0x1b60+0x872));if(_0x1424b7['_cubemap']){const _0x3361dd=[];for(let _0x108904=-0x1c77+-0x1e3b+-0x3ab2*-0x1;_0x108904<-0xdf8+-0x1e20+0x2*0x160f;++_0x108904)_0x3361dd['push'](_0x9bc531(_0x3cb7dd,_0x25f1fc,_0x1424b7['_levels'][_0x3c5ffb-(-0x1a5f+-0x1b59+0x329*0x11)][_0x108904]));_0x1424b7['_levels']['push'](_0x3361dd);}else _0x1424b7['_levels']['push'](_0x9bc531(_0x3cb7dd,_0x25f1fc,_0x1424b7['_levels'][_0x3c5ffb-(0xcf*0x25+-0x1*-0xa4b+-0x8d*0x49)]));}_0x1424b7['_levelsUpd'+'ated']=_0x1424b7['_cubemap']?[[!(0x1123+-0x1*-0x64d+-0x1770),!(-0xc5*-0x26+0x10ac+0x7a7*-0x6),!(-0xe2+-0x10e7*-0x1+-0x557*0x3),!(-0x79*0xd+-0xb1*-0x2+0x4c3*0x1),!(-0x2*0xf4+-0xda*-0x3+-0xa6),!(-0x1d3*-0x5+-0xb60+0x241)]]:[!(-0x43*0x8a+0x3*-0x3b+0x24cf)];};class UL extends Ne{constructor(_0x54fac0){super(_0x54fac0,'texture');const _0x5e6041=_0x54fac0['assets'],_0x50145c=_0x54fac0['graphicsDe'+'vice'];this['_device']=_0x50145c,this['_assets']=_0x5e6041,this['imgParser']=new RL(_0x5e6041,_0x50145c),this['parsers']={'dds':new kL(_0x5e6041),'ktx':new LL(_0x5e6041),'ktx2':new OL(_0x5e6041,_0x50145c),'basis':new EL(_0x5e6041,_0x50145c),'hdr':new BL(_0x5e6041)};}set['crossOrigi'+'n'](_0x186b4a){this['imgParser']['crossOrigi'+'n']=_0x186b4a;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x1c2882){this['imgParser']['maxRetries']=_0x1c2882;for(const _0x2f2251 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x2f2251)&&(this['parsers'][_0x2f2251]['maxRetries']=_0x1c2882);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x530509){return _0x530509['indexOf']('?')>=0x23e7+0x510+0x28f7*-0x1?_0x530509['split']('?')[-0x10b9+-0x1e1c+-0x13*-0x277]:_0x530509;}['_getParser'](_0x3b6750){const _0x49044=fe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x3b6750))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x49044]||this['imgParser'];}['_getTextur'+'eOptions'](_0xb65d64){var _0x4abb65;const _0x511ec1={'profilerHint':ur};if(_0xb65d64){((_0x4abb65=_0xb65d64['name'])==null?void(0x242c+-0x190+-0x229c):_0x4abb65['length'])>-0xcb8+-0x2671+0x3329&&(_0x511ec1['name']=_0xb65d64['name']);const _0x5d594c=_0xb65d64['data'];_0x5d594c['hasOwnProp'+'erty']('minfilter')&&(_0x511ec1['minFilter']=$g[_0x5d594c['minfilter']]),_0x5d594c['hasOwnProp'+'erty']('magfilter')&&(_0x511ec1['magFilter']=$g[_0x5d594c['magfilter']]),_0x5d594c['hasOwnProp'+'erty']('addressu')&&(_0x511ec1['addressU']=Wg[_0x5d594c['addressu']]),_0x5d594c['hasOwnProp'+'erty']('addressv')&&(_0x511ec1['addressV']=Wg[_0x5d594c['addressv']]),_0x5d594c['hasOwnProp'+'erty']('mipmaps')&&(_0x511ec1['mipmaps']=_0x5d594c['mipmaps']),_0x5d594c['hasOwnProp'+'erty']('anisotropy')&&(_0x511ec1['anisotropy']=_0x5d594c['anisotropy']),_0x5d594c['hasOwnProp'+'erty']('flipY')&&(_0x511ec1['flipY']=!!_0x5d594c['flipY']),_0x5d594c['hasOwnProp'+'erty']('srgb')&&(_0x511ec1['srgb']=!!_0x5d594c['srgb']),_0x5d594c['hasOwnProp'+'erty']('type')?_0x511ec1['type']=NL[_0x5d594c['type']]:_0x5d594c['hasOwnProp'+'erty']('rgbm')&&_0x5d594c['rgbm']?_0x511ec1['type']=on:_0xb65d64['file']&&(_0xb65d64['file']['opt']&-0x13*-0x64+-0xe62+0xa*0xb3)!==-0x6*0x1b7+0x4e7*0x5+-0xe39&&(_0x511ec1['type']=op);}return _0x511ec1;}['load'](_0x313f4c,_0x3d426b,_0x328d64){typeof _0x313f4c=='string'&&(_0x313f4c={'load':_0x313f4c,'original':_0x313f4c}),this['_getParser'](_0x313f4c['original'])['load'](_0x313f4c,_0x3d426b,_0x328d64);}['open'](_0x1a1de3,_0x2292bf,_0x4cda44){if(!_0x1a1de3)return;const _0x4f13db=this['_getTextur'+'eOptions'](_0x4cda44);let _0x157cc5=this['_getParser'](_0x1a1de3)['open'](_0x1a1de3,_0x2292bf,this['_device'],_0x4f13db);return _0x157cc5===null?_0x157cc5=new he(this['_device'],{'width':0x4,'height':0x4,'format':dr}):(zL(_0x157cc5),_0x2292bf['unswizzled'+'GGGR']&&(_0x4cda44['file']['variants']['basis']['opt']&=-(0x91e+0xd54+-0x1669))),_0x157cc5;}['patch'](_0x49893c,_0x4edb7f){const _0x6a165a=_0x49893c['resource'];if(!_0x6a165a)return;const _0x17d783=this['_getTextur'+'eOptions'](_0x49893c);for(const _0x777d19 of Object['keys'](_0x17d783))_0x6a165a[_0x777d19]=_0x17d783[_0x777d19];}}const VL='inline',GL='immersive-'+'vr',Ao='immersive-'+'ar',qg='viewer',HL='left',WL='cpu-optimi'+'zed',Bx='gpu-optimi'+'zed',Nx='luminance-'+'alpha',zx='unsigned-s'+'hort',Ux='float32';class $L{constructor(_0x8e6678){c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x8e6678;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x202ea8){!this['_supported']||this['_manager']['active']||(this['_root']=_0x202ea8);}get['root'](){return this['_root'];}}const ih=[],Xg=[];class Ef extends ce{constructor(_0x27efd1,_0x25bd36,_0x3e1598,_0x47cb6a=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x27efd1,this['_xrHitTest'+'Source']=_0x25bd36,this['_transient']=_0x3e1598,this['_inputSour'+'ce']=_0x47cb6a);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x528be2=this['manager']['hitTest']['sources'],_0x51cff9=_0x528be2['indexOf'](this);_0x51cff9!==-(0x44*-0x1c+-0xb09+0x127a)&&_0x528be2['splice'](_0x51cff9,-0x1*0x2275+0x285+0x1ff1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x3e303b){if(this['_transient']){const _0x490761=_0x3e303b['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x8fa6bb=0x1*0x16c9+0x46b+-0x1b34;_0x8fa6bb<_0x490761['length'];_0x8fa6bb++){const _0x212d0a=_0x490761[_0x8fa6bb];if(!_0x212d0a['results']['length'])continue;let _0x45f758;_0x212d0a['inputSourc'+'e']&&(_0x45f758=this['manager']['input']['_getByInpu'+'tSource'](_0x212d0a['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x212d0a['results'],_0x45f758);}}else{const _0x1411f0=_0x3e303b['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x1411f0['length'])return;this['updateHitR'+'esults'](_0x1411f0);}}['updateHitR'+'esults'](_0x35d42c,_0x1638c0){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x1638c0)return;const _0x114e88=ih['pop']()??new T();_0x1638c0?_0x114e88['copy'](_0x1638c0['getOrigin']()):_0x114e88['copy'](this['manager']['camera']['getPositio'+'n']());let _0x31626c=(-0x2056+-0x20cc+-0x19*-0x29b)/(0x16c2+-0x2598+0x4f2*0x3),_0x3feea6=null;const _0x49dce6=ih['pop']()??new T(),_0x9c0487=Xg['pop']()??new se();for(let _0x3ac546=-0x1*-0x700+0x1d87+0x40f*-0x9;_0x3ac546<_0x35d42c['length'];_0x3ac546++){const _0x38e782=_0x35d42c[_0x3ac546]['getPose'](this['manager']['_reference'+'Space']),_0x335a76=_0x114e88['distance'](_0x38e782['transform']['position']);_0x335a76>=_0x31626c||(_0x31626c=_0x335a76,_0x3feea6=_0x35d42c[_0x3ac546],_0x49dce6['copy'](_0x38e782['transform']['position']),_0x9c0487['copy'](_0x38e782['transform']['orientatio'+'n']));}this['fire']('result',_0x49dce6,_0x9c0487,_0x1638c0||this['_inputSour'+'ce'],_0x3feea6),this['manager']['hitTest']['fire']('result',this,_0x49dce6,_0x9c0487,_0x1638c0||this['_inputSour'+'ce'],_0x3feea6),ih['push'](_0x114e88),ih['push'](_0x49dce6),Xg['push'](_0x9c0487);}}c(Ef,'EVENT_REMO'+'VE','remove'),c(Ef,'EVENT_RESU'+'LT','result');class kr extends ce{constructor(_0x280b29){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x2*0x5bd+0x111c*-0x1+-0xd*-0x233)),c(this,'_checkingA'+'vailabilit'+'y',!(0x5*0x6d3+0x534+0x59e*-0x7)),c(this,'sources',[]),(this['manager']=_0x280b29,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x29d75f=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x25c0+-0x1*0x1186+-0x1439);if(!_0x29d75f)return;this['_available']=_0x29d75f,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x26d9+-0x39*-0x81+0xa20),this['manager']['session']['requestRef'+'erenceSpac'+'e'](qg)['then'](_0x19a567=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x19a567})['then'](_0x3b28dc=>{_0x3b28dc['cancel'](),this['manager']['active']&&(this['_available']=!(-0xa94*-0x3+-0x89d+0x7b5*-0x3),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x5*0x9f+-0x1*0xc93+-0x19*-0x61);for(let _0xffc908=-0xc0+-0x22f0+-0x8ec*-0x4;_0xffc908<this['sources']['length'];_0xffc908++)this['sources'][_0xffc908]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x48161b={}){var _0xe153f8,_0x1103b7;if(!this['_supported']){(_0xe153f8=_0x48161b['callback'])==null||_0xe153f8['call'](_0x48161b,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x1103b7=_0x48161b['callback'])==null||_0x1103b7['call'](_0x48161b,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x48161b['profile']&&!_0x48161b['spaceType']&&(_0x48161b['spaceType']=qg);let _0x5cf52a;const _0x3568f5=_0x48161b['offsetRay'];if(_0x3568f5){const _0x26fbc1=new DOMPoint(_0x3568f5['origin']['x'],_0x3568f5['origin']['y'],_0x3568f5['origin']['z'],-0x25*-0xb3+-0xe8c+-0x142*0x9),_0x14976d=new DOMPoint(_0x3568f5['direction']['x'],_0x3568f5['direction']['y'],_0x3568f5['direction']['z'],0x2+0x2349*-0x1+0x2347);_0x5cf52a=new XRRay(_0x26fbc1,_0x14976d);}const _0x332447=_0x48161b['callback'];_0x48161b['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x48161b['spaceType'])['then'](_0x25d77b=>{if(!this['manager']['session']){const _0x36519c=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x332447&&_0x332447(_0x36519c),this['fire']('error',_0x36519c);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x25d77b,'entityTypes':_0x48161b['entityType'+'s']||void(0x9f2+0xc20*0x2+-0x2232),'offsetRay':_0x5cf52a})['then'](_0x1d3e6d=>{this['_onHitTest'+'Source'](_0x1d3e6d,!(-0x9e3+0x1d*-0x59+-0x1*-0x13f9),_0x48161b['inputSourc'+'e'],_0x332447);})['catch'](_0x1965fa=>{_0x332447&&_0x332447(_0x1965fa),this['fire']('error',_0x1965fa);});})['catch'](_0xb593=>{_0x332447&&_0x332447(_0xb593),this['fire']('error',_0xb593);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x48161b['profile'],'entityTypes':_0x48161b['entityType'+'s']||void(-0x32*0x12+-0x207*-0x1+0x17d),'offsetRay':_0x5cf52a})['then'](_0x50750e=>{this['_onHitTest'+'Source'](_0x50750e,!(-0x15b+0x1834+-0x16d9),_0x48161b['inputSourc'+'e'],_0x332447);})['catch'](_0x44e109=>{_0x332447&&_0x332447(_0x44e109),this['fire']('error',_0x44e109);});}['_onHitTest'+'Source'](_0x3aa81c,_0xc39670,_0x48488f,_0x1ce2e8){if(!this['manager']['session']){_0x3aa81c['cancel']();const _0x201754=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x1ce2e8&&_0x1ce2e8(_0x201754),this['fire']('error',_0x201754);return;}const _0x3c7385=new Ef(this['manager'],_0x3aa81c,_0xc39670,_0x48488f??null);this['sources']['push'](_0x3c7385),_0x1ce2e8&&_0x1ce2e8(null,_0x3c7385),this['fire']('add',_0x3c7385);}['update'](_0x5d21e7){if(this['_available']){for(let _0x34ff04=0x1cf3+0x12d1+0xc*-0x3fb;_0x34ff04<this['sources']['length'];_0x34ff04++)this['sources'][_0x34ff04]['update'](_0x5d21e7);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(kr,'EVENT_AVAI'+'LABLE','available'),c(kr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(kr,'EVENT_ADD','add'),c(kr,'EVENT_REMO'+'VE','remove'),c(kr,'EVENT_RESU'+'LT','result'),c(kr,'EVENT_ERRO'+'R','error');class Cf extends ce{constructor(_0x1cd675,_0x23c0e8){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x387*-0x6+-0x2*-0x3+0x1524),c(this,'_trackable',!(0x7*0xb3+-0x423+-0xc1)),c(this,'_tracking',!(0xd*0x1a7+-0x2*0x5a3+-0xa34)),c(this,'_emulated',!(-0xd2b+-0x172d+0x2459)),c(this,'_pose',null),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_image']=_0x1cd675,this['_width']=_0x23c0e8);}get['image'](){return this['_image'];}set['width'](_0x431ca2){this['_width']=_0x431ca2;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x4f8023=>(this['_bitmap']=_0x4f8023,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(Cf,'EVENT_TRAC'+'KED','tracked'),c(Cf,'EVENT_UNTR'+'ACKED','untracked');class Vx extends ce{constructor(_0x3fd74e){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x2*0x401+0x54a+-0x1*-0x2b9)),c(this,'_images',[]),(this['_manager']=_0x3fd74e,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x5813d6,_0x5bc207){if(!this['_supported']||this['_manager']['active'])return null;const _0x2fee19=new Cf(_0x5813d6,_0x5bc207);return this['_images']['push'](_0x2fee19),_0x2fee19;}['remove'](_0x2e4afc){if(this['_manager']['active'])return;const _0x561afa=this['_images']['indexOf'](_0x2e4afc);_0x561afa!==-(-0x4b*0x21+-0x330+-0x1*-0xcdc)&&(_0x2e4afc['destroy'](),this['_images']['splice'](_0x561afa,0x85*-0x11+0xc*0x1a5+-0xae6));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x4faf42=>{this['_available']=!(-0x5e2+-0x1df5+0x1*0x23d7);for(let _0x20ff6b=0xf60+-0x73*-0x4f+-0x1*0x32dd;_0x20ff6b<_0x4faf42['length'];_0x20ff6b++)this['_images'][_0x20ff6b]['_trackable']=_0x4faf42[_0x20ff6b]==='trackable';})['catch'](_0x2e7b1d=>{this['_available']=!(-0x2510+0xfe*-0x4+-0x5*-0x835),this['fire']('error',_0x2e7b1d);});}['_onSession'+'End'](){this['_available']=!(-0xa*-0x319+0x1*-0x1a71+-0x488);for(let _0x161e6a=-0x13ab+0xbc4+0x7e7;_0x161e6a<this['_images']['length'];_0x161e6a++){const _0x41ad00=this['_images'][_0x161e6a];_0x41ad00['_pose']=null,_0x41ad00['_measuredW'+'idth']=0x6a7+-0x1*-0xe05+-0x24*0x93,_0x41ad00['_tracking']&&(_0x41ad00['_tracking']=!(0x828*-0x1+0xe*-0x26a+-0x1d3*-0x17),_0x41ad00['fire']('untracked'));}}['prepareIma'+'ges'](_0xe2160b){this['_images']['length']?Promise['all'](this['_images']['map'](_0x31c7f2=>_0x31c7f2['prepare']()))['then'](_0x113666=>{_0xe2160b(null,_0x113666);})['catch'](_0x4c0c25=>{_0xe2160b(_0x4c0c25,null);}):_0xe2160b(null,null);}['update'](_0x2e220e){if(!this['_available'])return;const _0x520a80=_0x2e220e['getImageTr'+'ackingResu'+'lts'](),_0x23bec2={};for(let _0x5eedca=0x6*-0x511+-0xdeb+0x5*0x8dd;_0x5eedca<_0x520a80['length'];_0x5eedca++){_0x23bec2[_0x520a80[_0x5eedca]['index']]=_0x520a80[_0x5eedca];const _0x18e4c0=this['_images'][_0x520a80[_0x5eedca]['index']];_0x18e4c0['_emulated']=_0x520a80[_0x5eedca]['trackingSt'+'ate']==='emulated',_0x18e4c0['_measuredW'+'idth']=_0x520a80[_0x5eedca]['measuredWi'+'dthInMeter'+'s'],_0x18e4c0['_pose']=_0x2e220e['getPose'](_0x520a80[_0x5eedca]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x596978=0x187d*-0x1+-0xde0+0x265d;_0x596978<this['_images']['length'];_0x596978++)this['_images'][_0x596978]['_tracking']&&!_0x23bec2[_0x596978]?(this['_images'][_0x596978]['_tracking']=!(0x1813+-0x16c+0x1a*-0xdf),this['_images'][_0x596978]['fire']('untracked')):!this['_images'][_0x596978]['_tracking']&&_0x23bec2[_0x596978]&&(this['_images'][_0x596978]['_tracking']=!(0xa72+-0x2115+0x16a3),this['_images'][_0x596978]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Vx,'EVENT_ERRO'+'R','error');class qL{constructor(_0x348be0,_0x525798){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x348be0,this['_hand']=_0x525798,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const jg=ye['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Gx={};for(let l=-0xe7a+-0x5*-0x47d+-0x7f7;l<jg['length'];l++)Gx[jg[l]]=!(-0x12d7+0xcdd*-0x1+0xfda*0x2);class Yg{constructor(_0x14f5ae,_0x57d83e,_0x1b9d75,_0x362125=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_dirtyLoca'+'l',!(-0x2411+0x163*-0x6+0x2c63)),(this['_index']=_0x14f5ae,this['_id']=_0x57d83e,this['_hand']=_0x1b9d75,this['_finger']=_0x362125,this['_wrist']=_0x57d83e==='wrist',this['_tip']=this['_finger']&&!!Gx[_0x57d83e]);}['update'](_0x2e7437){this['_dirtyLoca'+'l']=!(0xd7a+0x115d+-0x1ed7),this['_radius']=_0x2e7437['radius'],this['_localPosi'+'tion']['copy'](_0x2e7437['transform']['position']),this['_localRota'+'tion']['copy'](_0x2e7437['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1*-0x1e9d+0x4ea*-0x2+-0x14c8),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x11586d=this['_hand']['_manager']['camera']['parent'];_0x11586d?this['_worldTran'+'sform']['mul2'](_0x11586d['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||0xf5d+-0x181b+0x8be+0.005;}}let Sh=[];const Ir=new T(),rh=new T(),Kg=new T();ye['browser']&&window['XRHand']&&(Sh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Mf extends ce{constructor(_0x5868f3){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x776+0x5*-0x343+0x8da)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x331bfc=_0x5868f3['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x5868f3['_manager'],this['_inputSour'+'ce']=_0x5868f3,_0x331bfc['get']('wrist')){const _0x4693aa=new Yg(0xf93+0x5bc*-0x2+-0x1*0x41b,'wrist',this,null);this['_wrist']=_0x4693aa,this['_joints']['push'](_0x4693aa),this['_jointsByI'+'d']['wrist']=_0x4693aa;}for(let _0x275a71=-0xd*0xba+0xb99*-0x2+0x20a4;_0x275a71<Sh['length'];_0x275a71++){const _0x3d4c1e=new qL(_0x275a71,this);for(let _0x59e7ed=-0x3*0x3a1+-0x49*0x25+0x1570;_0x59e7ed<Sh[_0x275a71]['length'];_0x59e7ed++){const _0x435dac=Sh[_0x275a71][_0x59e7ed];if(!_0x331bfc['get'](_0x435dac))continue;const _0x37994f=new Yg(_0x59e7ed,_0x435dac,this,_0x3d4c1e);this['_joints']['push'](_0x37994f),this['_jointsByI'+'d'][_0x435dac]=_0x37994f,_0x37994f['tip']&&(this['_tips']['push'](_0x37994f),_0x3d4c1e['_tip']=_0x37994f),_0x3d4c1e['_joints']['push'](_0x37994f);}}}['update'](_0x24b1ca){const _0x565d46=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x233b3a=0x114d+-0x719*-0x2+-0x2dd*0xb;_0x233b3a<this['_joints']['length'];_0x233b3a++){const _0x9aaa44=this['_joints'][_0x233b3a],_0x5512f2=_0x565d46['hand']['get'](_0x9aaa44['_id']);if(_0x5512f2){let _0x17b0d2;if(_0x24b1ca['session']['visibility'+'State']!=='hidden'&&(_0x17b0d2=_0x24b1ca['getJointPo'+'se'](_0x5512f2,this['_manager']['_reference'+'Space'])),_0x17b0d2)_0x9aaa44['update'](_0x17b0d2),_0x9aaa44['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1*0xadb+-0x1*0x866+-0x11*0x25),this['fire']('tracking'));else{if(_0x9aaa44['wrist']){this['_tracking']&&(this['_tracking']=!(-0x1e01+0xaa*0x29+-0x4*-0xb2),this['fire']('trackinglo'+'st'));break;}}}}const _0x57bc33=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x58e346=this['_jointsByI'+'d']['thumb-tip'],_0x44c210=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x56204d=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x34b5aa=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x17b561=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x57bc33&&_0x58e346&&_0x44c210&&_0x56204d&&_0x34b5aa&&_0x17b561){this['_inputSour'+'ce']['_dirtyRay']=!(0x1e16*-0x1+0x2*-0x73a+0x2c8a),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x58e346['_localPosi'+'tion'],_0x56204d['_localPosi'+'tion'],0x1*-0x11b9+-0x73*-0x29+-0xb2+0.5);let _0xd5f42=_0x57bc33,_0x49185e=_0x17b561;if(this['_inputSour'+'ce']['handedness']===HL){const _0x4c114f=_0xd5f42;_0xd5f42=_0x49185e,_0x49185e=_0x4c114f;}Ir['sub2'](_0xd5f42['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),rh['sub2'](_0x49185e['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Kg['cross'](Ir,rh)['normalize'](),Ir['lerp'](_0x44c210['_localPosi'+'tion'],_0x34b5aa['_localPosi'+'tion'],-0xd5b*-0x2+-0x2025+-0x1*-0x56f+0.5),Ir['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Kg,Ir,0x181d*-0x1+0x2*0x927+0x5cf+0.5)['normalize']();}const _0x3ce800=this['_fingerIsC'+'losed'](-0x2434+-0x1875+-0x3cab*-0x1)&&this['_fingerIsC'+'losed'](0x1*0xab1+0x22a0+-0x2d4e)&&this['_fingerIsC'+'losed'](-0x1*-0x2658+0x3*-0x2f5+-0x1d75);this['_fingersTi'+'pDistance'](0xbf3+-0xd7d+0x18a,0x1*0x1225+-0x1b73+0x94f)?this['_inputSour'+'ce']['_pinching']?(this['_inputSour'+'ce']['fire']('pinching'),this['_manager']['input']['fire']('pinching',this['_inputSour'+'ce'])):(this['_inputSour'+'ce']['fire']('pinchstart'),this['_manager']['input']['fire']('pinchstart',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x1dcc+-0x1ad7*-0x1+-0xb3*0x51),console['log']('===>>>xr\x20p'+'inch','pinchstart',new Date()['getTime']())):this['_inputSour'+'ce']['_pinching']&&(this['_inputSour'+'ce']['fire']('pinchend'),this['_manager']['input']['fire']('pinchend',this['_inputSour'+'ce']),this['_inputSour'+'ce']['_pinching']=!(0x7eb+0x24cc+0x2cb6*-0x1),console['log']('===>>>xr\x20p'+'inch','pinchend',new Date()['getTime']())),_0x3ce800?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0xf62+-0x1c32+0x2b94),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1f0c+0x96+-0x1fa1),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingersTi'+'pDistance'](_0x5f56be,_0x13bd9b){const _0x39dac3=this['_fingers'][_0x5f56be],_0x5c2180=this['_fingers'][_0x13bd9b];return _0x39dac3['tip']['_localPosi'+'tion']['distance'](_0x5c2180['tip']['_localPosi'+'tion'])<=0x1*-0x80b+0x144*-0x1+0x94f+0.01;}['_fingerIsC'+'losed'](_0x324396){const _0xccbc12=this['_fingers'][_0x324396];return Ir['sub2'](_0xccbc12['joints'][0x18d3*-0x1+0x121a+-0x6b9*-0x1]['_localPosi'+'tion'],_0xccbc12['joints'][-0x95*0x3+0x5*-0x164+0x8b4]['_localPosi'+'tion'])['normalize'](),rh['sub2'](_0xccbc12['joints'][-0x4*0x511+-0x1*0x15ee+0x151a*0x2]['_localPosi'+'tion'],_0xccbc12['joints'][0x1*0x204f+-0x2515+0x4c9]['_localPosi'+'tion'])['normalize'](),Ir['dot'](rh)<-(0x4*-0x4df+-0x1*0x1c45+-0x1*-0x2fc1+0.8);}['getJointBy'+'Id'](_0x3be7eb){return this['_jointsByI'+'d'][_0x3be7eb]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Mf,'EVENT_TRAC'+'KING','tracking'),c(Mf,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Zg=new T(),Qg=new se();let XL=-0x1ff0*-0x1+0xb55*-0x1+-0x149b;class xs extends ce{constructor(_0x2b258f,_0x57561c){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new uu()),c(this,'_rayLocal',new uu()),c(this,'_grip',!(-0x18e1+0x10f0+-0x7f2*-0x1)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0x1d6c+0x3*-0xa62+-0x9*-0x6bb)),c(this,'_velocitie'+'sTimestamp',ne()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x20f3*-0x1+0x1*0xd7c+0x2e6f*-0x1)),c(this,'_dirtyRay',!(-0x88+0x219a+-0x2111)),c(this,'_selecting',!(0x9*0x349+0x1*-0x345+-0x1a4b)),c(this,'_squeezing',!(-0x164d+0x1*0x15cd+0x81)),c(this,'_pinching',!(0xa52*-0x3+0x11*-0x39+0x22c0)),c(this,'_elementIn'+'put',!(-0x1eaa+0x150b+0x99f)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++XL,this['_manager']=_0x2b258f,this['_xrInputSo'+'urce']=_0x57561c,_0x57561c['hand']&&(this['_hand']=new Mf(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x9173aa){this['_elementIn'+'put']!==_0x9173aa&&(this['_elementIn'+'put']=_0x9173aa,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x565307){if(this['_hand'])this['_hand']['update'](_0x565307);else{const _0x4a5d38=this['_xrInputSo'+'urce']['gripSpace'];if(_0x4a5d38){const _0x383e00=_0x565307['getPose'](_0x4a5d38,this['_manager']['_reference'+'Space']);if(_0x383e00){this['_grip']||(this['_grip']=!(-0xabc+0xda0+-0x172*0x2),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new T(),this['_localPosi'+'tion']=new T(),this['_localRota'+'tion']=new se(),this['_linearVel'+'ocity']=new T());const _0x43ae99=ne(),_0x251013=(_0x43ae99-this['_velocitie'+'sTimestamp'])/(0x89b*0x1+0x694+-0xb47);this['_velocitie'+'sTimestamp']=_0x43ae99,this['_dirtyLoca'+'l']=!(-0x13ba+0x2*0x1e2+-0x9*-0x1c6),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x383e00['transform']['position']),this['_localRota'+'tion']['copy'](_0x383e00['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x20*0x127+-0x20*-0xb6+0xe20),this['_manager']['input']['velocities'+'Supported']&&_0x383e00['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x383e00['linearVelo'+'city']):_0x251013>-0x858+-0xaf*-0x8+0x2e0&&(Zg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x251013),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Zg,0x8f7+-0x3*0x821+0x7*0x234+0.15));}else this['_velocitie'+'sAvailable']=!(0x7*-0x1c4+0x2*0x6a6+-0x1*0xef);}const _0x2411c7=_0x565307['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x2411c7&&(this['_dirtyRay']=!(0x222+0x2*-0x105d+-0x2c8*-0xb),this['_rayLocal']['origin']['copy'](_0x2411c7['transform']['position']),this['_rayLocal']['direction']['set'](0x209b+-0x26f0+0x655*0x1,-0x255b+-0x1*0x20+0x257b,-(0x9*-0x1f7+-0x3ac+0x155c)),Qg['copy'](_0x2411c7['transform']['orientatio'+'n']),Qg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0xefc+0x2f*-0x2+0xe9d*-0x1),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],T['ONE']));const _0x589a87=this['_manager']['camera']['parent'];_0x589a87?this['_worldTran'+'sform']['mul2'](_0x589a87['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x47d5a7=this['_dirtyRay'];if(this['_dirtyRay']=!(0x138c+0x3*-0xcb6+0x1*0x1297),this['_manager']['camera']['parent']){const _0x40e21a=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x40e21a['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x40e21a),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x47d5a7&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x233620={}){_0x233620['inputSourc'+'e']=this,_0x233620['profile']=this['_xrInputSo'+'urce']['profiles'][-0xa49*-0x2+-0x3a4+-0xc5*0x16];const _0x31b72c=_0x233620['callback'];_0x233620['callback']=(_0xafbfee,_0x35fe5e)=>{_0x35fe5e&&this['onHitTestS'+'ourceAdd'](_0x35fe5e),_0x31b72c&&_0x31b72c(_0xafbfee,_0x35fe5e);},this['_manager']['hitTest']['start'](_0x233620);}['onHitTestS'+'ourceAdd'](_0x478877){this['_hitTestSo'+'urces']['push'](_0x478877),this['fire']('hittest:ad'+'d',_0x478877),_0x478877['on']('result',(_0x33b3a7,_0x5229c1,_0x5352fe,_0x88e788)=>{_0x5352fe===this&&this['fire']('hittest:re'+'sult',_0x478877,_0x33b3a7,_0x5229c1,_0x88e788);}),_0x478877['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x478877),this['fire']('hittest:re'+'move',_0x478877);});}['onHitTestS'+'ourceRemov'+'e'](_0x5878ce){const _0x14eb40=this['_hitTestSo'+'urces']['indexOf'](_0x5878ce);_0x14eb40!==-(0xe95+-0x3b6+0xd6*-0xd)&&this['_hitTestSo'+'urces']['splice'](_0x14eb40,0x252a+-0x81b+-0xe87*0x2);}}c(xs,'EVENT_REMO'+'VE','remove'),c(xs,'EVENT_SELE'+'CT','select'),c(xs,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(xs,'EVENT_SELE'+'CTEND','selectend'),c(xs,'EVENT_SQUE'+'EZE','squeeze'),c(xs,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(xs,'EVENT_SQUE'+'EZEEND','squeezeend'),c(xs,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(xs,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(xs,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class ui extends ce{constructor(_0x1f11e8){var _0x11c0c4,_0x2c6d13;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0x2263*0x1+0x394+0x88*0x3a)),(this['manager']=_0x1f11e8,this['velocities'+'Supported']=!!(ye['browser']&&((_0x2c6d13=(_0x11c0c4=window['XRPose'])==null?void(-0x133c+0x7*0x2c8+-0x3c):_0x11c0c4['prototype'])!=null&&_0x2c6d13['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x358cb9=>{this['_onInputSo'+'urcesChang'+'e'](_0x358cb9);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x2a4577=this['manager']['session'];_0x2a4577['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x2a4577['addEventLi'+'stener']('select',_0x5840ae=>{const _0x430c1d=this['_getByInpu'+'tSource'](_0x5840ae['inputSourc'+'e']);_0x430c1d['update'](_0x5840ae['frame']),_0x430c1d['fire']('select',_0x5840ae),this['fire']('select',_0x430c1d,_0x5840ae);}),_0x2a4577['addEventLi'+'stener']('selectstar'+'t',_0x23c47e=>{const _0x38e953=this['_getByInpu'+'tSource'](_0x23c47e['inputSourc'+'e']);_0x38e953['_selecting']||(_0x38e953['update'](_0x23c47e['frame']),_0x38e953['_selecting']=!(0x228+0x2*-0xf3d+-0x2d5*-0xa),_0x38e953['fire']('selectstar'+'t',_0x23c47e),this['fire']('selectstar'+'t',_0x38e953,_0x23c47e));}),_0x2a4577['addEventLi'+'stener']('selectend',_0xdc4191=>{const _0x316df0=this['_getByInpu'+'tSource'](_0xdc4191['inputSourc'+'e']);_0x316df0['update'](_0xdc4191['frame']),_0x316df0['_selecting']=!(-0x81b+0x4*0x365+-0x8*0xaf),_0x316df0['fire']('selectend',_0xdc4191),this['fire']('selectend',_0x316df0,_0xdc4191);}),_0x2a4577['addEventLi'+'stener']('squeeze',_0x339b02=>{const _0x5e6998=this['_getByInpu'+'tSource'](_0x339b02['inputSourc'+'e']);_0x5e6998['update'](_0x339b02['frame']),_0x5e6998['fire']('squeeze',_0x339b02),this['fire']('squeeze',_0x5e6998,_0x339b02);}),_0x2a4577['addEventLi'+'stener']('squeezesta'+'rt',_0xe2bb0e=>{const _0x137ec2=this['_getByInpu'+'tSource'](_0xe2bb0e['inputSourc'+'e']);_0x137ec2['update'](_0xe2bb0e['frame']),_0x137ec2['_squeezing']=!(-0x1*-0x24b7+0x1256+0x1*-0x370d),_0x137ec2['fire']('squeezesta'+'rt',_0xe2bb0e),this['fire']('squeezesta'+'rt',_0x137ec2,_0xe2bb0e);}),_0x2a4577['addEventLi'+'stener']('squeezeend',_0x4b6aa1=>{const _0x4abe15=this['_getByInpu'+'tSource'](_0x4b6aa1['inputSourc'+'e']);_0x4abe15['update'](_0x4b6aa1['frame']),_0x4abe15['_squeezing']=!(-0x1b20+-0x1*-0x5db+0x1546),_0x4abe15['fire']('squeezeend',_0x4b6aa1),this['fire']('squeezeend',_0x4abe15,_0x4b6aa1);});const _0x542ff4=_0x2a4577['inputSourc'+'es'];for(let _0x488b48=-0x2081+0x41f+0x1c62;_0x488b48<_0x542ff4['length'];_0x488b48++)this['_addInputS'+'ource'](_0x542ff4[_0x488b48]);}['_onSession'+'End'](){let _0x1ee5ae=this['_inputSour'+'ces']['length'];for(;_0x1ee5ae--;){const _0x168ac7=this['_inputSour'+'ces'][_0x1ee5ae];this['_inputSour'+'ces']['splice'](_0x1ee5ae,0x1*0x2f+0x5*0x416+-0x1*0x149c),_0x168ac7['fire']('remove'),this['fire']('remove',_0x168ac7);}this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x14202a){for(let _0x47566b=0x217d*0x1+-0xb31+0x4*-0x593;_0x47566b<_0x14202a['removed']['length'];_0x47566b++)this['_removeInp'+'utSource'](_0x14202a['removed'][_0x47566b]);for(let _0x5731d7=0x1*0x11b+-0x1301+0x9e*0x1d;_0x5731d7<_0x14202a['added']['length'];_0x5731d7++)this['_addInputS'+'ource'](_0x14202a['added'][_0x5731d7]);}['_getByInpu'+'tSource'](_0x249af5){for(let _0xa7e9c4=0xea9+-0x161b*-0x1+-0x2*0x1262;_0xa7e9c4<this['_inputSour'+'ces']['length'];_0xa7e9c4++)if(this['_inputSour'+'ces'][_0xa7e9c4]['inputSourc'+'e']===_0x249af5)return this['_inputSour'+'ces'][_0xa7e9c4];return null;}['_addInputS'+'ource'](_0x22b1e7){if(this['_getByInpu'+'tSource'](_0x22b1e7))return;const _0x210184=new xs(this['manager'],_0x22b1e7);this['_inputSour'+'ces']['push'](_0x210184),this['fire']('add',_0x210184);}['_removeInp'+'utSource'](_0xc15210){for(let _0x3b22cd=0x34d*0x5+-0x8c5*0x3+0x9ce;_0x3b22cd<this['_inputSour'+'ces']['length'];_0x3b22cd++){if(this['_inputSour'+'ces'][_0x3b22cd]['inputSourc'+'e']!==_0xc15210)continue;const _0x244092=this['_inputSour'+'ces'][_0x3b22cd];this['_inputSour'+'ces']['splice'](_0x3b22cd,-0x2124+-0x3*-0xa09+-0x30a*-0x1);let _0x363f60=_0x244092['hitTestSou'+'rces']['length'];for(;_0x363f60--;)_0x244092['hitTestSou'+'rces'][_0x363f60]['remove']();_0x244092['fire']('remove'),this['fire']('remove',_0x244092);return;}}['update'](_0xafce2c){for(let _0x15fd2c=-0x1*-0x25cd+-0x1d48+0x885*-0x1;_0x15fd2c<this['_inputSour'+'ces']['length'];_0x15fd2c++)this['_inputSour'+'ces'][_0x15fd2c]['update'](_0xafce2c);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(ui,'EVENT_ADD','add'),c(ui,'EVENT_REMO'+'VE','remove'),c(ui,'EVENT_SELE'+'CT','select'),c(ui,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(ui,'EVENT_SELE'+'CTEND','selectend'),c(ui,'EVENT_SQUE'+'EZE','squeeze'),c(ui,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(ui,'EVENT_SQUE'+'EZEEND','squeezeend');const Xn=new T(),Jg=new T(),ru=new q(),ey=new q();class Pf extends ce{constructor(_0x39f06e){super(),c(this,'_manager'),c(this,'_supported',!(-0x42d*-0x6+0x1f72+-0x3*0x12d5)),c(this,'_available',!(0x3*-0x265+0xd5*-0x2+0x8da)),c(this,'_lightProb'+'eRequested',!(-0xe1b+-0x2350+-0x316c*-0x1)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0xb5d*0x3+-0x50*0x37+-0x10e7),c(this,'_rotation',new se()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(0x64+-0x1f3*0x11+-0x349*-0xa)),(this['_manager']=_0x39f06e,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x17ad+0x104a+-0x27f7));}['_onSession'+'End'](){this['_supported']=!(0x7*-0xc1+-0x1*-0x1568+-0x1020),this['_available']=!(-0x172f*-0x1+-0xc*-0xe6+-0x21f6),this['_lightProb'+'eRequested']=!(0x1c2d+0x1bd6+-0x3802),this['_lightProb'+'e']=null;}['start'](){let _0x31c09d;if(this['_manager']['session']||(_0x31c09d=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x31c09d&&this['_manager']['type']!==Ao&&(_0x31c09d=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x31c09d&&!this['_supported']&&(_0x31c09d=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x31c09d&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x31c09d=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x31c09d){this['fire']('error',_0x31c09d);return;}this['_lightProb'+'eRequested']=!(-0x240+0xe*0x67+-0x362),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x33e90c=>{const _0x307ec0=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x20da+0x205e+-0x4137),this['_manager']['active']?_0x307ec0&&(this['_lightProb'+'e']=_0x33e90c):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x20a7e6=>{this['_lightProb'+'eRequested']=!(-0x409+0x34c*-0x4+0x113a),this['fire']('error',_0x20a7e6);});}['end'](){this['_lightProb'+'eRequested']=!(-0x6af+0x1*-0xe49+0x14f9),this['_lightProb'+'e']=null,this['_available']=!(-0xf*-0x107+0x2502*-0x1+0x159a);}['update'](_0x13bf9c){if(!this['_lightProb'+'e'])return;const _0x243203=_0x13bf9c['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x243203)return;this['_available']||(this['_available']=!(-0x1f22+-0x394*0x4+0x2d72),this['fire']('available'));const _0x45829d=_0x243203['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x3*0xa58+0x2b*0x55+0x10c2,Math['max'](_0x45829d['x'],Math['max'](_0x45829d['y'],_0x45829d['z']))),Xn['copy'](_0x45829d)['mulScalar']((-0x49*0x6d+0xdc5+0x1151)/this['_intensity']),this['_color']['set'](Xn['x'],Xn['y'],Xn['z']),Xn['set'](-0xa1c+-0x643*-0x4+-0xef0,0xbb*-0x4+0x6df*-0x5+0x2547,-0x30*-0x19+-0x1ed0+0x1a20),Jg['copy'](_0x243203['primaryLig'+'htDirectio'+'n']),ru['setLookAt'](Jg,Xn,T['UP']),ey['setFromAxi'+'sAngle'](T['RIGHT'],-0x13f9+0x1c88+-0x835),ru['mul'](ey),this['_rotation']['setFromMat'+'4'](ru),this['_spherical'+'Harmonics']['set'](_0x243203['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Pf,'EVENT_AVAI'+'LABLE','available'),c(Pf,'EVENT_ERRO'+'R','error');let jL=0xc1d+0x2*-0x112d+0x163d;class Rf extends ce{constructor(_0x4f0ae7,_0x203965){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_id']=++jL,this['_planeDete'+'ction']=_0x4f0ae7,this['_xrPlane']=_0x203965,this['_lastChang'+'edTime']=_0x203965['lastChange'+'dTime'],this['_orientati'+'on']=_0x203965['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x57a4c1){const _0xdc82f6=this['_planeDete'+'ction']['_manager'],_0x1a1641=_0x57a4c1['getPose'](this['_xrPlane']['planeSpace'],_0xdc82f6['_reference'+'Space']);_0x1a1641&&(this['_position']['copy'](_0x1a1641['transform']['position']),this['_rotation']['copy'](_0x1a1641['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_CHAN'+'GE','change');class co extends ce{constructor(_0x3efc72){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRPlane']),c(this,'_available',!(-0x734*0x5+0x1af2*-0x1+0x3ef7)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x3efc72,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x1*-0xca+-0x1*-0x601+-0x6ca)&&(this['_available']=!(-0x1fcc+-0xe4c+0x14*0x24e),this['fire']('available'));}['_onSession'+'End'](){for(let _0x18657f=-0xf75+-0xe*0x3f+-0x3*-0x64d;_0x18657f<this['_planes']['length'];_0x18657f++)this['_planes'][_0x18657f]['destroy'](),this['fire']('remove',this['_planes'][_0x18657f]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x12e9+-0xbd6+0x1ebf,this['_available']&&(this['_available']=!(0xbb2+0xff2+-0x1ba3),this['fire']('unavailabl'+'e'));}['update'](_0x1e7521){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x1e7521['detectedPl'+'anes']['size'])this['_available']=!(0xd00+0x225c+0x1*-0x2f5c),this['fire']('available');else return;}const _0x4d485a=_0x1e7521['detectedPl'+'anes'];for(const [_0x7f66a4,_0x382ee7]of this['_planesInd'+'ex'])_0x4d485a['has'](_0x7f66a4)||(this['_planesInd'+'ex']['delete'](_0x7f66a4),this['_planes']['splice'](this['_planes']['indexOf'](_0x382ee7),-0x345*-0x7+-0x20*0x18+-0x13e2),_0x382ee7['destroy'](),this['fire']('remove',_0x382ee7));for(const _0x561507 of _0x4d485a){let _0x3ab8ee=this['_planesInd'+'ex']['get'](_0x561507);_0x3ab8ee?_0x3ab8ee['update'](_0x1e7521):(_0x3ab8ee=new Rf(this,_0x561507),this['_planesInd'+'ex']['set'](_0x561507,_0x3ab8ee),this['_planes']['push'](_0x3ab8ee),_0x3ab8ee['update'](_0x1e7521),this['fire']('add',_0x3ab8ee));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(co,'EVENT_AVAI'+'LABLE','available'),c(co,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove');class uo extends ce{constructor(_0x12cd51,_0x2a5ae6,_0x1fdc7c=null){super(),c(this,'_position',new T()),c(this,'_rotation',new se()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x12cd51,this['_xrAnchor']=_0x2a5ae6,this['_uuid']=_0x1fdc7c);}['destroy'](){if(!this['_xrAnchor'])return;const _0x327096=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x327096,this);}['update'](_0x5aeace){if(!this['_xrAnchor'])return;const _0xc69a95=_0x5aeace['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0xc69a95){if(this['_position']['equals'](_0xc69a95['transform']['position'])&&this['_rotation']['equals'](_0xc69a95['transform']['orientatio'+'n']))return;this['_position']['copy'](_0xc69a95['transform']['position']),this['_rotation']['copy'](_0xc69a95['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x310e54){if(!this['_anchors']['persistenc'+'e']){_0x310e54==null||_0x310e54(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x310e54==null||_0x310e54(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x310e54&&this['_uuidReque'+'sts']['push'](_0x310e54);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0xa281cc=>{this['_uuid']=_0xa281cc,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x310e54==null||_0x310e54(null,_0xa281cc);for(const _0xee2495 of this['_uuidReque'+'sts'])_0xee2495(null,_0xa281cc);this['_uuidReque'+'sts']=null,this['fire']('persist',_0xa281cc);})['catch'](_0x20979c=>{_0x310e54==null||_0x310e54(_0x20979c,null);for(const _0x1dc8cc of this['_uuidReque'+'sts'])_0x1dc8cc(_0x20979c,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x515772){if(!this['_uuid']){_0x515772==null||_0x515772(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x38e9bc=>{this['_uuid']=null,_0x515772==null||_0x515772(_0x38e9bc),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(uo,'EVENT_DEST'+'ROY','destroy'),c(uo,'EVENT_CHAN'+'GE','change'),c(uo,'EVENT_PERS'+'IST','persist'),c(uo,'EVENT_FORG'+'ET','forget');var ty;class Zn extends ce{constructor(_0x4a1356){super(),c(this,'manager'),c(this,'_supported',ye['browser']&&!!window['XRAnchor']),c(this,'_available',!(0x1*-0xfbf+0x2*-0x17+0xfee)),c(this,'_checkingA'+'vailabilit'+'y',!(0x1005*-0x2+-0xe6*-0x25+-0x133)),c(this,'_persisten'+'ce',ye['browser']&&!!((ty=window==null?void(-0xb7c*-0x1+-0x11c4+0x648):window['XRSession'])!=null&&ty['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x4a1356,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x2e5a1e=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0x1559+0x1*0x219e+-0xc44);_0x2e5a1e&&(this['_available']=_0x2e5a1e,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x67e+0xce8+-0x1365);for(let _0x10547c=0x99f+0x2*-0x1a3+-0x659;_0x10547c<this['_creationQ'+'ueue']['length'];_0x10547c++)this['_creationQ'+'ueue'][_0x10547c]['callback']&&this['_creationQ'+'ueue'][_0x10547c]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x1fa1+-0x9d6*0x3+-0x21f,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x595aa8=this['_list']['length'];for(;_0x595aa8--;)this['_list'][_0x595aa8]['destroy']();this['_list']['length']=-0x963+-0x204d*0x1+0x29b0,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x15d502,_0x40d0a7=null){const _0xaeadd8=new uo(this,_0x15d502,_0x40d0a7);return this['_index']['set'](_0x15d502,_0xaeadd8),_0x40d0a7&&this['_indexByUu'+'id']['set'](_0x40d0a7,_0xaeadd8),this['_list']['push'](_0xaeadd8),_0xaeadd8['once']('destroy',this['_onAnchorD'+'estroy'],this),_0xaeadd8;}['_onAnchorD'+'estroy'](_0x42c9f9,_0x26e651){this['_index']['delete'](_0x42c9f9),_0x26e651['uuid']&&this['_indexByUu'+'id']['delete'](_0x26e651['uuid']);const _0x546202=this['_list']['indexOf'](_0x26e651);_0x546202!==-(0x13d*0x4+-0x155*-0x13+-0x1e42)&&this['_list']['splice'](_0x546202,-0xd6a+0x3*-0x8af+0x1a5*0x18),this['fire']('destroy',_0x26e651);}['create'](_0x13cbeb,_0x210d46,_0x502cbc){if(!this['_available']){_0x502cbc==null||_0x502cbc(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x13cbeb instanceof XRHitTestResult){const _0x44b706=_0x13cbeb;if(_0x502cbc=_0x210d46,!this['_supported']){_0x502cbc==null||_0x502cbc(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x44b706['createAnch'+'or']){_0x502cbc==null||_0x502cbc(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x44b706['createAnch'+'or']()['then'](_0x9b51eb=>{const _0x17c204=this['_createAnc'+'hor'](_0x9b51eb);_0x502cbc==null||_0x502cbc(null,_0x17c204),this['fire']('add',_0x17c204);})['catch'](_0x45e953=>{_0x502cbc==null||_0x502cbc(_0x45e953,null),this['fire']('error',_0x45e953);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x13cbeb,_0x210d46),'callback':_0x502cbc});}['restore'](_0x80e38c,_0x1d8848){if(!this['_available']){_0x1d8848==null||_0x1d8848(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x1d8848==null||_0x1d8848(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x1d8848==null||_0x1d8848(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x80e38c)['then'](_0x3926b7=>{const _0x4268d4=this['_createAnc'+'hor'](_0x3926b7,_0x80e38c);_0x1d8848==null||_0x1d8848(null,_0x4268d4),this['fire']('add',_0x4268d4);})['catch'](_0x3acaa5=>{_0x1d8848==null||_0x1d8848(_0x3acaa5,null),this['fire']('error',_0x3acaa5);});}['forget'](_0x553b4a,_0x368e58){if(!this['_available']){_0x368e58==null||_0x368e58(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x368e58==null||_0x368e58(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x368e58==null||_0x368e58(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x553b4a)['then'](()=>{_0x368e58==null||_0x368e58(null);})['catch'](_0x507a3f=>{_0x368e58==null||_0x368e58(_0x507a3f),this['fire']('error',_0x507a3f);});}['update'](_0x37a0b3){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0xca3*-0x1+0x1635+-0x992),_0x37a0b3['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0xb71038=>{_0xb71038['delete'](),this['manager']['active']&&(this['_available']=!(-0xc8f+-0x16da+0x2369),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x3d60dc=0xb56*0x2+-0x44*-0x63+-0x30f8;_0x3d60dc<this['_creationQ'+'ueue']['length'];_0x3d60dc++){const _0x4452b2=this['_creationQ'+'ueue'][_0x3d60dc];_0x37a0b3['createAnch'+'or'](_0x4452b2['transform'],this['manager']['_reference'+'Space'])['then'](_0x55f73a=>{_0x4452b2['callback']&&this['_callbacks'+'Anchors']['set'](_0x55f73a,_0x4452b2['callback']);})['catch'](_0x295438=>{_0x4452b2['callback']&&_0x4452b2['callback'](_0x295438,null),this['fire']('error',_0x295438);});}this['_creationQ'+'ueue']['length']=0x21c+0x15ab+0x17c7*-0x1;}for(const [_0x26afa5,_0x45095b]of this['_index'])_0x37a0b3['trackedAnc'+'hors']['has'](_0x26afa5)||(this['_index']['delete'](_0x26afa5),_0x45095b['destroy']());for(let _0x4c5dc6=-0x256e+-0x1*0x1564+0x3ad2;_0x4c5dc6<this['_list']['length'];_0x4c5dc6++)this['_list'][_0x4c5dc6]['update'](_0x37a0b3);for(const _0x19834d of _0x37a0b3['trackedAnc'+'hors']){if(this['_index']['has'](_0x19834d))continue;try{const _0x2b1c09=_0x19834d['anchorSpac'+'e'];}catch{continue;}const _0x2aff6f=this['_createAnc'+'hor'](_0x19834d);_0x2aff6f['update'](_0x37a0b3);const _0x51e8d9=this['_callbacks'+'Anchors']['get'](_0x19834d);_0x51e8d9&&(this['_callbacks'+'Anchors']['delete'](_0x19834d),_0x51e8d9(null,_0x2aff6f)),this['fire']('add',_0x2aff6f);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Zn,'EVENT_AVAI'+'LABLE','available'),c(Zn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Zn,'EVENT_ERRO'+'R','error'),c(Zn,'EVENT_ADD','add'),c(Zn,'EVENT_DEST'+'ROY','destroy');class If extends ce{constructor(_0x3103fb,_0x3fde1f){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x7d3*-0x1+0x16f*-0x11+0x108c),c(this,'_position',new T()),c(this,'_rotation',new se()),(this['_meshDetec'+'tion']=_0x3103fb,this['_xrMesh']=_0x3fde1f,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x539bb6){const _0x1e6576=this['_meshDetec'+'tion']['_manager'],_0x263e34=_0x539bb6['getPose'](this['_xrMesh']['meshSpace'],_0x1e6576['_reference'+'Space']);_0x263e34&&(this['_position']['copy'](_0x263e34['transform']['position']),this['_rotation']['copy'](_0x263e34['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(If,'EVENT_REMO'+'VE','remove'),c(If,'EVENT_CHAN'+'GE','change');class fo extends ce{constructor(_0x8ab471){super(),c(this,'_manager'),c(this,'_supported',ye['browser']&&!!window['XRMesh']),c(this,'_available',!(0xf95*0x1+-0x2*-0x5c9+-0x8b*0x32)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x8ab471,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x270d5d){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x270d5d['detectedMe'+'shes']['size'])this['_available']=!(-0x6ef*0x5+-0x1d71*0x1+-0x401c*-0x1),this['fire']('available');else return;}for(const _0x461fc1 of _0x270d5d['detectedMe'+'shes']){let _0x5c4057=this['_index']['get'](_0x461fc1);_0x5c4057?_0x5c4057['update'](_0x270d5d):(_0x5c4057=new If(this,_0x461fc1),this['_index']['set'](_0x461fc1,_0x5c4057),this['_list']['push'](_0x5c4057),_0x5c4057['update'](_0x270d5d),this['fire']('add',_0x5c4057));}for(const _0x13e15f of this['_index']['values']())_0x270d5d['detectedMe'+'shes']['has'](_0x13e15f['xrMesh'])||this['_removeMes'+'h'](_0x13e15f);}['_removeMes'+'h'](_0x1edf9d){this['_index']['delete'](_0x1edf9d['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x1edf9d),0x244d+-0x506+-0x2*0xfa3),_0x1edf9d['destroy'](),this['fire']('remove',_0x1edf9d);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x1bd1a9=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(-0x2*-0xf43+0x1c*-0x1f+-0x1b21);if(!_0x1bd1a9)return;this['_available']=_0x1bd1a9,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x1*0x19d9+-0x781+-0x1257);for(const _0x2a82ce of this['_index']['values']())this['_removeMes'+'h'](_0x2a82ce);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(fo,'EVENT_AVAI'+'LABLE','available'),c(fo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(fo,'EVENT_ADD','add'),c(fo,'EVENT_REMO'+'VE','remove');class Hx extends ce{constructor(_0x34218f,_0x16175e,_0x46cda7){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x12cf+-0x3d1*0x1+0x5*0x487)),c(this,'_viewport',new Q()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x488+-0x416*0x4+-0x100*-0x15)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x34218f,this['_xrView']=_0x16175e);const _0x17b3fc=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new he(_0x17b3fc,{'format':dr,'mipmaps':!(-0x8*0x48a+0x632+-0x1*-0x1e1f),'addressU':ae,'addressV':ae,'minFilter':st,'magFilter':st,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x2f44b8=this['_manager']['views']['depthGpuOp'+'timized']?de:st;this['_textureDe'+'pth']=new he(_0x17b3fc,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x46cda7===-0x853+-0x991+0x9*0x1fd?-0xd65*-0x1+0x772+-0x14d7:_0x46cda7,'mipmaps':!(0xd7f+-0x1*-0x207d+-0x2dfb),'addressU':ae,'addressV':ae,'minFilter':_0x2f44b8,'magFilter':_0x2f44b8,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x12c221=0xe*-0x2c5+-0x19e6+-0x2056*-0x2;_0x12c221<this['_textureDe'+'pth']['_levels']['length'];_0x12c221++)this['_textureDe'+'pth']['_levels'][_0x12c221]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x17b3fc['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x49dcc2;return((_0x49dcc2=this['_depthInfo'])==null?void(-0x3*-0x838+0x10ba+0x2962*-0x1):_0x49dcc2['rawValueTo'+'Meters'])||-0x4*0x774+-0x1753+0xdf*0x3d;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x5d6441,_0x12b92b){this['_xrView']=_0x12b92b,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x554976=_0x5d6441['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x554976['x'],this['_viewport']['y']=_0x554976['y'],this['_viewport']['z']=_0x554976['width'],this['_viewport']['w']=_0x554976['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x5d6441);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x35597f=this['_manager']['webglBindi'+'ng'];if(!_0x35597f)return;const _0x1c8db8=_0x35597f['getCameraI'+'mage'](this['_xrCamera']);if(!_0x1c8db8)return;const _0x57ed87=this['_manager']['app']['graphicsDe'+'vice'],_0x4122ab=_0x57ed87['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x4122ab['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x4122ab['createFram'+'ebuffer']();else{const _0x3f6a90=_0x4122ab['COLOR_ATTA'+'CHMENT0'],_0x147a8e=this['_xrCamera']['width'],_0x24be00=this['_xrCamera']['height'];_0x57ed87['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x4122ab['framebuffe'+'rTexture2D'](_0x4122ab['FRAMEBUFFE'+'R'],_0x3f6a90,_0x4122ab['TEXTURE_2D'],_0x1c8db8,0x314+0x126b+0x1*-0x157f),_0x57ed87['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x4122ab['framebuffe'+'rTexture2D'](_0x4122ab['FRAMEBUFFE'+'R'],_0x3f6a90,_0x4122ab['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x1a8*-0x10+-0x7d6+-0x5b9*-0x6),_0x4122ab['bindFrameb'+'uffer'](_0x4122ab['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x4122ab['bindFrameb'+'uffer'](_0x4122ab['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x4122ab['blitFrameb'+'uffer'](-0xf*-0xf7+0x1*-0x20bf+0x1246,_0x24be00,_0x147a8e,-0x2667*0x1+0x1d55+-0x1*-0x912,0x207a+-0xa2a*0x2+-0xc26,0x15d*-0x19+-0x2565+0x477a*0x1,_0x147a8e,_0x24be00,_0x4122ab['COLOR_BUFF'+'ER_BIT'],_0x4122ab['NEAREST']);}}['_updateDep'+'th'](_0x4b0a86){var _0x6f6c23,_0x2c5758;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x6ea468=this['_manager']['views']['depthGpuOp'+'timized'],_0x1d24a7=_0x6ea468?this['_manager']['webglBindi'+'ng']:_0x4b0a86;if(!_0x1d24a7){this['_depthInfo']=null;return;}const _0x494d11=_0x1d24a7['getDepthIn'+'formation'](this['_xrView']);if(!_0x494d11){this['_depthInfo']=null;return;}let _0x31e538=!this['_depthInfo']!=!_0x494d11;this['_depthInfo']=_0x494d11;const _0x1ea09b=((_0x6f6c23=this['_depthInfo'])==null?void(-0xac*0x29+-0xae9+0x37*0xb3):_0x6f6c23['width'])||-0x1*-0xe29+-0x2*0x124+-0xbdd,_0x186314=((_0x2c5758=this['_depthInfo'])==null?void(-0xd*0x1ab+-0x2*-0x63+0x14e9):_0x2c5758['height'])||-0x67a*-0x1+-0x16ec+0x1076;let _0x52d416=!(-0x2581+-0x523+-0x9*-0x4bd);if((this['_textureDe'+'pth']['width']!==_0x1ea09b||this['_textureDe'+'pth']['height']!==_0x186314)&&(this['_textureDe'+'pth']['_width']=_0x1ea09b,this['_textureDe'+'pth']['_height']=_0x186314,_0x31e538=!(0xd*-0x10+0x112*0x23+-0x24a6),_0x52d416=!(0xd97+-0x1*0x1cca+0xf33)),_0x31e538&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x6ea468){if(this['_depthInfo']['texture']){const _0xa96ab4=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0xa96ab4['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0xa96ab4['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ii:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xa96ab4['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xa96ab4['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xa96ab4['RED'];break;case Ci:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xa96ab4['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xa96ab4['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xa96ab4['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x1111+-0x1*0x1871+0x760);}}else this['_textureDe'+'pth']['_levels'][0x783+0x13f9*0x1+-0x1b7c]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0x1e8f+-0x132d+-0x5e*0x1f]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x52d416&&this['fire']('depth:resi'+'ze',_0x1ea09b,_0x186314);}['updateTran'+'sforms'](_0x3811d4){_0x3811d4?(this['_viewInvOf'+'fMat']['mul2'](_0x3811d4,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x1953*-0x1+-0x1845+0x18*0x211]=this['_viewInvOf'+'fMat']['data'][-0x794+0x6bb+0xe5],this['_positionD'+'ata'][-0x1*0xd06+-0x55*0x5b+-0x267*-0x12]=this['_viewInvOf'+'fMat']['data'][-0xb58+-0x185*0xa+-0x8dd*-0x3],this['_positionD'+'ata'][-0xa9b+0x1d17+-0x127a]=this['_viewInvOf'+'fMat']['data'][0x972+-0xd1f+0x3bb];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x44d6f9,_0x1876d1){var _0x3e98e1;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x3e98e1=this['_depthInfo'])==null?void(0x2500+-0x5bc+-0x1f44):_0x3e98e1['getDepthIn'+'Meters'](_0x44d6f9,_0x1876d1))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x5c5732=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x5c5732['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x5c5732['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Hx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class ic extends ce{constructor(_0x109f53){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',ye['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',ye['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0x77+-0x1d3b+-0x1db3*-0x1)),c(this,'_available'+'Depth',!(-0x1*0xd79+0x1df7+0x15*-0xc9)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[Nx]:Bf,[zx]:Ci,[Ux]:Ii}),(this['_manager']=_0x109f53,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Bx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x3873fd,_0x24a23d){for(let _0x376d3d=0x2250+0x18d*-0x3+-0x1da9;_0x376d3d<_0x24a23d['length'];_0x376d3d++)this['_indexTmp']['set'](_0x24a23d[_0x376d3d]['eye'],_0x24a23d[_0x376d3d]);for(const [_0x40e122,_0x1a676c]of this['_indexTmp']){let _0x780115=this['_index']['get'](_0x40e122);_0x780115?_0x780115['update'](_0x3873fd,_0x1a676c):(_0x780115=new Hx(this['_manager'],_0x1a676c,_0x24a23d['length']),this['_index']['set'](_0x40e122,_0x780115),this['_list']['push'](_0x780115),_0x780115['update'](_0x3873fd,_0x1a676c),this['fire']('add',_0x780115));}for(const [_0x2a5216,_0xbe7f9f]of this['_index']){if(this['_indexTmp']['has'](_0x2a5216))continue;_0xbe7f9f['destroy'](),this['_index']['delete'](_0x2a5216);const _0x56e24b=this['_list']['indexOf'](_0xbe7f9f);_0x56e24b!==-(-0x4c*0x4c+0x20f2+0xa61*-0x1)&&this['_list']['splice'](_0x56e24b,-0x3d8+0x641*-0x2+0x105b),this['fire']('remove',_0xbe7f9f);}this['_indexTmp']['clear']();}['get'](_0x426ca7){return this['_index']['get'](_0x426ca7)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Ao&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x1edb*-0x1+-0xa61*-0x1+-0x293b),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0xff+0x1*-0x23bb+0x24bb),this['_available'+'Depth'])){const _0x99cc57=this['_manager']['session'];this['_depthUsag'+'e']=_0x99cc57['depthUsage'],this['_depthForm'+'at']=_0x99cc57['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x144c4a of this['_index']['values']())_0x144c4a['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x644+0xbb3*-0x1+0xc8*0x17),this['_available'+'Depth']=!(0x52*0x24+0x2*0x129a+-0x30bb),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x51b*-0x2+-0x239f+0xf47*0x3;}}c(ic,'EVENT_ADD','add'),c(ic,'EVENT_REMO'+'VE','remove');class Qn extends ce{constructor(_0x2c716a){super(),c(this,'app'),c(this,'_supported',ye['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new T()),c(this,'_localRota'+'tion',new se()),c(this,'_depthNear',-0x25da*-0x1+0x1493+-0x3a6d*0x1+0.1),c(this,'_depthFar',0x957+0x6c6+-0xc35),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x1*0x22f7+-0x1170+0x3467),c(this,'_height',0x776+0xe78+-0x2*0xaf7),c(this,'_framebuff'+'erScaleFac'+'tor',-0x24cd*-0x1+0xb1f+-0x2feb),(this['app']=_0x2c716a,this['_available'][VL]=!(0x250f+0xe6d+0x17*-0x23d),this['_available'][GL]=!(-0x1f5a+-0x155d+0x1c*0x1e2),this['_available'][Ao]=!(0x1*-0x25e3+0x1*0x19+0x25cb),this['views']=new ic(this),this['domOverlay']=new $L(this),this['hitTest']=new kr(this),this['imageTrack'+'ing']=new Vx(this),this['planeDetec'+'tion']=new co(this),this['meshDetect'+'ion']=new fo(this),this['input']=new ui(this),this['lightEstim'+'ation']=new Pf(this),this['anchors']=new Zn(this),this['views']=new ic(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x222efd,_0x3e69c9,_0x148efc,_0x204bbc){var _0x2a9418;let _0x20c0e1=_0x204bbc;if(typeof _0x204bbc=='object'&&(_0x20c0e1=_0x204bbc['callback']),!this['_available'][_0x3e69c9]){_0x20c0e1&&_0x20c0e1(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x20c0e1&&_0x20c0e1(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x222efd,this['_camera']['camera']['xr']=this,this['_type']=_0x3e69c9,this['_spaceType']=_0x148efc,this['_framebuff'+'erScaleFac'+'tor']=(_0x204bbc==null?void(-0x1271*-0x1+-0x3f1+0x740*-0x2):_0x204bbc['framebuffe'+'rScaleFact'+'or'])??-0x4*-0x5bf+0x95+-0x179*0x10,this['_setClipPl'+'anes'](_0x222efd['nearClip'],_0x222efd['farClip']);const _0xfdd818={'requiredFeatures':[_0x148efc],'optionalFeatures':[]},_0x5b408d=(_0x2a9418=this['app']['graphicsDe'+'vice'])==null?void(0x4*-0x33e+-0xaaf+0x7*0x361):_0x2a9418['isWebGL2'];if(_0x3e69c9===Ao){if(_0xfdd818['optionalFe'+'atures']['push']('light-esti'+'mation'),_0xfdd818['optionalFe'+'atures']['push']('hit-test'),_0x204bbc&&(_0x204bbc['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0xfdd818['optionalFe'+'atures']['push']('image-trac'+'king'),_0x204bbc['planeDetec'+'tion']&&_0xfdd818['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x204bbc['meshDetect'+'ion']&&_0xfdd818['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0xfdd818['optionalFe'+'atures']['push']('dom-overla'+'y'),_0xfdd818['domOverlay']={'root':this['domOverlay']['root']}),_0x204bbc&&_0x204bbc['anchors']&&this['anchors']['supported']&&_0xfdd818['optionalFe'+'atures']['push']('anchors'),_0x204bbc&&_0x204bbc['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0xfdd818['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x329807=[],_0x1b44ed=[];if(_0x329807['push'](Bx,WL),_0x1b44ed['push'](Ux,Nx,zx),_0x204bbc['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x5be866=_0x329807['indexOf'](_0x204bbc['depthSensi'+'ng']['usagePrefe'+'rence']);_0x5be866!==-(-0xc3b+0x1618*-0x1+0xd*0x2a4)&&_0x329807['splice'](_0x5be866,-0x2393*0x1+0x96b+-0x1a29*-0x1),_0x329807['unshift'](_0x204bbc['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x204bbc['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x3374bd=_0x1b44ed['indexOf'](_0x204bbc['depthSensi'+'ng']['dataFormat'+'Preference']);_0x3374bd!==-(-0x2*0xcd9+0x248d+-0xada)&&_0x1b44ed['splice'](_0x3374bd,0x1807+0x4ce+-0x1cd4*0x1),_0x1b44ed['unshift'](_0x204bbc['depthSensi'+'ng']['dataFormat'+'Preference']);}_0xfdd818['depthSensi'+'ng']={'usagePreference':_0x329807,'dataFormatPreference':_0x1b44ed};}_0x5b408d&&_0x204bbc&&_0x204bbc['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0xfdd818['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0xfdd818['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x204bbc&&_0x204bbc['optionalFe'+'atures']&&(_0xfdd818['optionalFe'+'atures']=_0xfdd818['optionalFe'+'atures']['concat'](_0x204bbc['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x1e0ce7,_0x4fd3f5)=>{if(_0x1e0ce7){_0x20c0e1&&_0x20c0e1(_0x1e0ce7),this['fire']('error',_0x1e0ce7);return;}_0x4fd3f5!==null&&(_0xfdd818['trackedIma'+'ges']=_0x4fd3f5),this['_onStartOp'+'tionsReady'](_0x3e69c9,_0x148efc,_0xfdd818,_0x20c0e1);}):this['_onStartOp'+'tionsReady'](_0x3e69c9,_0x148efc,_0xfdd818,_0x20c0e1);}['_onStartOp'+'tionsReady'](_0xdf59f1,_0x36adc3,_0x3ed914,_0x3c6a60){navigator['xr']['requestSes'+'sion'](_0xdf59f1,_0x3ed914)['then'](_0x25e624=>{this['_onSession'+'Start'](_0x25e624,_0x36adc3,_0x3c6a60);})['catch'](_0x34a827=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x3c6a60&&_0x3c6a60(_0x34a827),this['fire']('error',_0x34a827);});}['end'](_0x150369){if(!this['_session']){_0x150369&&_0x150369(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x150369&&this['once']('end',_0x150369),this['_session']['end']();}['isAvailabl'+'e'](_0x15a447){return this['_available'][_0x15a447];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x526e3c in this['_available'])this['_sessionSu'+'pportCheck'](_0x526e3c);}['initiateRo'+'omCapture'](_0x30c84d){if(!this['_session']){_0x30c84d(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x30c84d(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x30c84d&&_0x30c84d(null);})['catch'](_0x5d905d=>{_0x30c84d&&_0x30c84d(_0x5d905d);});}['updateTarg'+'etFrameRat'+'e'](_0x4acf47,_0x5d753c){var _0x5c55df;if(!((_0x5c55df=this['_session'])!=null&&_0x5c55df['updateTarg'+'etFrameRat'+'e'])){_0x5d753c==null||_0x5d753c(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x4acf47)['then'](()=>{_0x5d753c==null||_0x5d753c();})['catch'](_0x5f51aa=>{_0x5d753c==null||_0x5d753c(_0x5f51aa);});}['_sessionSu'+'pportCheck'](_0x5518c6){navigator['xr']['isSessionS'+'upported'](_0x5518c6)['then'](_0x1afa5f=>{this['_available'][_0x5518c6]!==_0x1afa5f&&(this['_available'][_0x5518c6]=_0x1afa5f,this['fire']('available',_0x5518c6,_0x1afa5f),this['fire']('available:'+_0x5518c6,_0x1afa5f));})['catch'](_0x180fb2=>{this['fire']('error',_0x180fb2);});}['_onSession'+'Start'](_0x1d2ce4,_0x4c0407,_0x29c393){let _0x568459=!(-0x135f+-0x86b+0x58f*0x5);this['_session']=_0x1d2ce4;const _0x314bfb=()=>{this['fire']('visibility'+':change',_0x1d2ce4['visibility'+'State']);},_0x1ebb0e=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x106ede=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x1ebb0e),this['_camera']['off']('set_farCli'+'p',_0x1ebb0e),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x1d2ce4['removeEven'+'tListener']('end',_0x106ede),_0x1d2ce4['removeEven'+'tListener']('visibility'+'change',_0x314bfb),_0x568459||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x149b+0xf25*-0x1+-0x160*-0x1a,this['_height']=0xba7+0x25d*-0x7+0x4e4,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x1d2ce4['addEventLi'+'stener']('end',_0x106ede),_0x1d2ce4['addEventLi'+'stener']('visibility'+'change',_0x314bfb),this['_camera']['on']('set_nearCl'+'ip',_0x1ebb0e),this['_camera']['on']('set_farCli'+'p',_0x1ebb0e),v['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x189335;this['fire']('frameratec'+'hange',(_0x189335=this['_session'])==null?void(0x202f+-0x22a*0xd+-0x40d*0x1):_0x189335['frameRate']);}),_0x1d2ce4['requestRef'+'erenceSpac'+'e'](_0x4c0407)['then'](_0x86178f=>{this['_reference'+'Space']=_0x86178f,this['app']['tick'](),_0x29c393&&_0x29c393(null),this['fire']('start');})['catch'](_0x143748=>{_0x568459=!(0xb*0x283+0x1ea1+0x1d21*-0x2),_0x1d2ce4['end'](),_0x29c393&&_0x29c393(_0x143748),this['fire']('error',_0x143748);});}['_setClipPl'+'anes'](_0x10e2b7,_0x108bcd){this['_depthNear']===_0x10e2b7&&this['_depthFar']===_0x108bcd||(this['_depthNear']=_0x10e2b7,this['_depthFar']=_0x108bcd,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x1d4d1a=this['app']['graphicsDe'+'vice'],_0x3ed03f=_0x1d4d1a['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x1d4d1a['gl'],{'alpha':!(0xf2d+0x248a+-0x33b7),'depth':!(-0x251b+-0x1*0x1e13+0x432e),'stencil':!(0x377*-0x6+0x9a2+0xcc*0xe),'framebufferScaleFactor':_0x3ed03f,'antialias':!(0x227a+0xe35*-0x2+-0x60f)}),_0x1d4d1a!=null&&_0x1d4d1a['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x1d4d1a['gl']);}catch(_0x3d180a){this['fire']('error',_0x3d180a);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x1f00b0=>{this['fire']('error',_0x1f00b0);});},-0x20d3+0x276+0x3*0xa1f);}['update'](_0x31ca4c){if(!this['_session'])return!(-0x5*-0x18e+-0x16f7+0xf32*0x1);const _0x10275a=_0x31ca4c['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x1b3a7d=_0x31ca4c['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x10275a||this['_height']!==_0x1b3a7d)&&(this['_width']=_0x10275a,this['_height']=_0x1b3a7d,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x10275a,_0x1b3a7d));const _0x4faee4=_0x31ca4c['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x4faee4)return!(0x1197+0x1719+-0x28af);const _0x564503=this['views']['list']['length'];this['views']['update'](_0x31ca4c,_0x4faee4['views']);const _0x46fb77=_0x4faee4['transform']['position'],_0x20eb64=_0x4faee4['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x46fb77['x'],_0x46fb77['y'],_0x46fb77['z']),this['_localRota'+'tion']['set'](_0x20eb64['x'],_0x20eb64['y'],_0x20eb64['z'],_0x20eb64['w']),_0x564503===-0x1519+-0x16*-0x2+0x14ed&&this['views']['list']['length']>-0x3d7+-0x1c01+-0x8*-0x3fb){const _0x3f387d=new q(),_0x5c7b2e=this['views']['list'][-0x172d+0x325*-0x9+0x337a];_0x3f387d['copy'](_0x5c7b2e['projMat']);const _0x3effb6=_0x3f387d['data'],_0x5addf0=(-0x9e3*-0x2+-0x2529+0x1165)*Math['atan']((0x12*-0x19f+0x5db*0x5+-0x18)/_0x3effb6[0x14df+0x1c*-0xe5+0x2*0x219])*(0x34d+-0x1a01+-0xd6*-0x1c)/Math['PI'],_0x3d42fa=_0x3effb6[0x464+0xa7b+-0xeda]/_0x3effb6[0xed9+-0x1063+0x18a],_0x48bd50=_0x3effb6[0x26bb+-0x2*-0x4d2+-0x1f*0x18f]/(_0x3effb6[0xae0*-0x3+-0x2145+0x41ef*0x1]+(0x15f2+0x178+-0x1769)),_0x2a5519=_0x3effb6[0x20f3*0x1+-0x1*0x43a+-0x1*0x1cab]/(_0x3effb6[-0x33d*-0x6+-0x3b*-0x4e+-0x255e]-(-0x1684+0x1ac0+-0x43b));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x3d42fa,'farClip':_0x48bd50,'fov':_0x5addf0,'horizontalFov':!(-0x1011+-0x2*0x152+0x12b6),'nearClip':_0x2a5519});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x31ca4c),this['_type']===Ao&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x31ca4c),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x31ca4c),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x31ca4c),this['anchors']['supported']&&this['anchors']['update'](_0x31ca4c),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x31ca4c),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x31ca4c)),this['fire']('update',_0x31ca4c),!(0x1278+-0xccd+-0x5ab);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x2afc08;return((_0x2afc08=this['_session'])==null?void(-0x101*-0x21+-0x9fb+-0x1726):_0x2afc08['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x2369ea){var _0x2f7a7e;(((_0x2f7a7e=this['_baseLayer'])==null?void(-0x25f5+0x18*-0x9e+0x34c5):_0x2f7a7e['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0xaef*0x1+0x1410+0x20*-0x49&&v['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x2369ea);}get['fixedFovea'+'tion'](){var _0x5eaa14;return((_0x5eaa14=this['_baseLayer'])==null?void(0x1803*-0x1+0x19d6*-0x1+0x1*0x31d9):_0x5eaa14['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(Qn,'EVENT_AVAI'+'LABLE','available'),c(Qn,'EVENT_STAR'+'T','start'),c(Qn,'EVENT_END','end'),c(Qn,'EVENT_UPDA'+'TE','update'),c(Qn,'EVENT_ERRO'+'R','error');class dF extends qh{constructor(_0x1927e4,_0x33d147={}){super(_0x1927e4);const _0xd57400=new pP();_0xd57400['graphicsDe'+'vice']=_0x33d147['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x1927e4,_0x33d147),this['addCompone'+'ntSystems'](_0xd57400),this['addResourc'+'eHandles'](_0xd57400),_0xd57400['elementInp'+'ut']=_0x33d147['elementInp'+'ut'],_0xd57400['keyboard']=_0x33d147['keyboard'],_0xd57400['mouse']=_0x33d147['mouse'],_0xd57400['touch']=_0x33d147['touch'],_0xd57400['gamepads']=_0x33d147['gamepads'],_0xd57400['scriptPref'+'ix']=_0x33d147['scriptPref'+'ix'],_0xd57400['assetPrefi'+'x']=_0x33d147['assetPrefi'+'x'],_0xd57400['scriptsOrd'+'er']=_0x33d147['scriptsOrd'+'er'],_0xd57400['soundManag'+'er']=new kb(),_0xd57400['lightmappe'+'r']=vP,_0xd57400['batchManag'+'er']=dC,_0xd57400['xr']=Qn,this['init'](_0xd57400);}['createDevi'+'ce'](_0x3e292d,_0x5dce69){return _0x5dce69['graphicsDe'+'viceOption'+'s']||(_0x5dce69['graphicsDe'+'viceOption'+'s']={}),ye['browser']&&navigator['xr']&&(_0x5dce69['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0x43*-0x4+-0x2213+0x2107)),_0x5dce69['graphicsDe'+'viceOption'+'s']['alpha']=_0x5dce69['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1806+0xea5+-0x26aa),new pb(_0x3e292d,_0x5dce69['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x42a95d){_0x42a95d['componentS'+'ystems']=[mx,fR,HR,UP,qP,iI,fI,jI,KI,cD,BI,jP,cI,bI,zR,QP,DI,FI,GI,JR,$R,WI,uD];}['addResourc'+'eHandles'](_0x33ca4f){_0x33ca4f['resourceHa'+'ndlers']=[fD,_2,g2,y2,iL,Q2,UL,fL,j2,S2,hL,rL,A2,X2,T2,cL,q2,E2,C2,v2,mL,dL,uL,w2,$2];}}const nh=[],YL=[[],[],[]];class KL extends ds{constructor(_0x599085,_0x42e5a9){super(_0x599085),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x42e5a9;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3ce2be=>{_0x3ce2be['defaultUni'+'formBuffer']['destroy'](),_0x3ce2be['destroy']();}),this['viewBindGr'+'oups']['length']=-0x172f+-0x28*0x8a+-0x5*-0x8f3;}['update'](_0x51f628,_0x974774,_0x915d85,_0x20a2ed){this['camera']=_0x51f628,this['scene']=_0x974774,this['layers']=_0x915d85,this['mapping']=_0x20a2ed;}['execute'](){const _0x39ac8f=this['device'],{renderer:_0x4b7111,camera:_0x15c01b,scene:_0x2bd3d8,layers:_0xe0abfa,mapping:_0x43b95e,renderTarget:_0x36305b}=this,_0x1b9f0a=_0x2bd3d8['layers']['layerList'],_0x52eb47=_0x2bd3d8['layers']['subLayerEn'+'abled'],_0x181810=_0x2bd3d8['layers']['subLayerLi'+'st'];for(let _0x5086fd=0x1*0x11b1+0x971+-0x2*0xd91;_0x5086fd<_0x1b9f0a['length'];_0x5086fd++){const _0x3abb64=_0x1b9f0a[_0x5086fd];if(!(_0xe0abfa&&_0xe0abfa['indexOf'](_0x3abb64)<0x5*0x31d+0x12ab+0x2*-0x111e)&&_0x3abb64['enabled']&&_0x52eb47[_0x5086fd]&&_0x3abb64['camerasSet']['has'](_0x15c01b['camera'])){const _0x31abfe=_0x181810[_0x5086fd];G['pushGpuMar'+'ker'](_0x39ac8f,_0x3abb64['name']+'('+(_0x31abfe?'TRANSP':'OPAQUE')+')'),_0x3abb64['_clearDept'+'hBuffer']&&_0x4b7111['clear'](_0x15c01b['camera'],!(0x1236+-0xb1a+-0x71b*0x1),!(0x1cd0+0x17fd+-0x34cd),!(0x1*-0x7f7+0x1556+-0x3b*0x3a));const _0x351c3c=_0x3abb64['meshInstan'+'ces'];for(let _0x40b62f=-0x203*-0x5+-0x2*-0x7c9+-0x19a1;_0x40b62f<_0x351c3c['length'];_0x40b62f++){const _0x4743af=_0x351c3c[_0x40b62f];_0x4743af['pick']&&_0x4743af['transparen'+'t']===_0x31abfe&&(nh['push'](_0x4743af),_0x43b95e['set'](_0x4743af['id'],_0x4743af));}nh['length']>-0x1*-0x567+-0x1*-0x5ed+0x122*-0xa&&(_0x2bd3d8['clusteredL'+'ightingEna'+'bled']&&_0x4b7111['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x4b7111['setCameraU'+'niforms'](_0x15c01b['camera'],_0x36305b),_0x39ac8f['supportsUn'+'iformBuffe'+'rs']&&_0x4b7111['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x4b7111['viewUnifor'+'mFormat'],_0x4b7111['viewBindGr'+'oupFormat'],-0x529*-0x3+0x13e0+-0x712*0x5),_0x4b7111['renderForw'+'ard'](_0x15c01b['camera'],_0x36305b,nh,YL,Oa,_0x2103e5=>{_0x39ac8f['setBlendSt'+'ate'](_t['NOBLEND']);}),nh['length']=0xc9*-0x11+0x239*0x6+0x1*0x3),G['popGpuMark'+'er'](_0x39ac8f);}}}}const nu=new Set(),ZL=new Q();let uF=class{constructor(_0x4071ad,_0x53443f,_0x56f4ee){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(-0x329*-0x1+-0xa*-0x3a+-0x56d)),(v['assert'](_0x4071ad),this['renderer']=_0x4071ad['renderer'],this['device']=_0x4071ad['graphicsDe'+'vice'],this['renderPass']=new KL(this['device'],_0x4071ad['renderer']),this['width']=0xd*-0xc3+-0xb5*0x29+0x4c*0x83,this['height']=0x937*-0x1+0x2116+-0x17df,this['resize'](_0x53443f,_0x56f4ee),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x99c+0x1e49*-0x1+0x27e6);}));}['getSelecti'+'on'](_0x36261f,_0x2c059c,_0x2863d1=-0x4*-0x1e1+-0xfe*0x16+0x5*0x2dd,_0x49e7de=-0x199a+-0xb*0x256+-0x17*-0x23b){const _0x208e1d=this['device'];if(_0x208e1d['isWebGPU'])return v['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];v['assert'](typeof _0x36261f!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x2c059c=this['renderTarg'+'et']['height']-(_0x2c059c+_0x49e7de);const _0x2ff257=this['sanitizeRe'+'ct'](_0x36261f,_0x2c059c,_0x2863d1,_0x49e7de);_0x208e1d['setRenderT'+'arget'](this['renderTarg'+'et']),_0x208e1d['updateBegi'+'n']();const _0x4c3058=new Uint8Array((-0x1*0x2581+0x129a+0x12eb)*_0x2ff257['z']*_0x2ff257['w']);return _0x208e1d['readPixels'](_0x2ff257['x'],_0x2ff257['y'],_0x2ff257['z'],_0x2ff257['w'],_0x4c3058),_0x208e1d['updateEnd'](),this['decodePixe'+'ls'](_0x4c3058,this['mapping']);}['getSelecti'+'onAsync'](_0x3c4d73,_0x208493,_0x45ec14=0x66a*0x4+-0x20bb+-0x6*-0x12e,_0x33dec1=0x20fb*-0x1+0xfb3+0xb1*0x19){var _0x4fcfbe;(_0x4fcfbe=this['device'])!=null&&_0x4fcfbe['isWebGL2']&&(_0x208493=this['renderTarg'+'et']['height']-(_0x208493+_0x33dec1));const _0xf28072=this['sanitizeRe'+'ct'](_0x3c4d73,_0x208493,_0x45ec14,_0x33dec1);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0xf28072['x'],_0xf28072['y'],_0xf28072['z'],_0xf28072['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x2547+-0x10bb+-0x148c)})['then'](_0x309189=>this['decodePixe'+'ls'](_0x309189,this['mapping']));}['sanitizeRe'+'ct'](_0xcdea3,_0x51edd9,_0xc9afdf,_0x50551c){const _0x3c84ca=this['renderTarg'+'et']['width'],_0x974a7a=this['renderTarg'+'et']['height'];return _0xcdea3=N['clamp'](Math['floor'](_0xcdea3),0x1f5f+-0x19f9+-0x2b3*0x2,_0x3c84ca-(-0x5*-0x49+-0x7a3+0x637)),_0x51edd9=N['clamp'](Math['floor'](_0x51edd9),-0xad*-0xb+0xddf+-0x154e,_0x974a7a-(0x2a1+-0x22c5+0x3*0xab7)),_0xc9afdf=Math['floor'](Math['max'](_0xc9afdf,-0x229a+0x1063+0x1238)),_0xc9afdf=Math['min'](_0xc9afdf,_0x3c84ca-_0xcdea3),_0x50551c=Math['floor'](Math['max'](_0x50551c,-0x3*-0xa3f+0x18bb+-0x3777)),_0x50551c=Math['min'](_0x50551c,_0x974a7a-_0x51edd9),ZL['set'](_0xcdea3,_0x51edd9,_0xc9afdf,_0x50551c);}['decodePixe'+'ls'](_0x1b6e77,_0x50b861){const _0x324586=[];if(this['deviceVali'+'d']){const _0x461c40=_0x1b6e77['length'];for(let _0x37cf06=0x15a0+0x2042*-0x1+0x1*0xaa2;_0x37cf06<_0x461c40;_0x37cf06+=0x11d9*-0x1+0x1*-0x56b+0x1748){const _0x4573d5=_0x1b6e77[_0x37cf06+(0x1*0x146d+-0x1649+0x1dc)],_0x43ba7f=_0x1b6e77[_0x37cf06+(0xd3c+-0x1f7f+0x491*0x4)],_0x517f14=_0x1b6e77[_0x37cf06+(-0x1995+-0x15de+0x2f75)],_0x28c15c=_0x1b6e77[_0x37cf06+(-0xc5b*-0x1+-0x176f+0xb17)]<<0x129e+0xbf*-0x5+-0xecb|_0x4573d5<<0x224b*-0x1+-0x9*-0x1e7+-0x113c*-0x1|_0x43ba7f<<0xf24*0x1+-0x233f+0x1423|_0x517f14;_0x28c15c!==-(0x2624+-0x12b0+-0x1373)&&nu['add'](_0x50b861['get'](_0x28c15c));}nu['forEach'](_0x2f3714=>{_0x2f3714&&_0x324586['push'](_0x2f3714);}),nu['clear']();}return _0x324586;}['allocateRe'+'nderTarget'](){const _0x3a533c=new he(this['device'],{'format':Se,'width':this['width'],'height':this['height'],'mipmaps':!(-0x3*0x571+-0x1+0x1055),'minFilter':de,'magFilter':de,'addressU':ae,'addressV':ae,'name':'pick'});this['renderTarg'+'et']=new pt({'colorBuffer':_0x3a533c,'depth':!(-0x2*-0xdf2+-0x3*-0xc75+0x15c1*-0x3)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x31dee4,_0x16c5f8,_0x40c9c){_0x40c9c instanceof Lr&&(_0x40c9c=[_0x40c9c]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x189f59=this['renderPass'];_0x189f59['init'](this['renderTarg'+'et']),_0x189f59['colorOps']['clearValue']=Y['WHITE'],_0x189f59['colorOps']['clear']=!(0x106*0x1f+0x140*0x6+-0x273a*0x1),_0x189f59['depthStenc'+'ilOps']['clearDepth']=!(0x11f*0x1+-0x1*0x9cb+0x5*0x1bc),_0x189f59['update'](_0x31dee4,_0x16c5f8,_0x40c9c,this['mapping']),_0x189f59['render']();}['resize'](_0x55ec28,_0x3dd383){this['width']=Math['floor'](_0x55ec28),this['height']=Math['floor'](_0x3dd383);}};class QL{constructor(_0x32cc5c){this['_frameInde'+'x']=0x5*0x479+-0x210+-0x144d,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0x1*0xc25+0x1*0xe55+-0x22f,this['enabled']=!(-0x7ca+0xc*0x28d+-0x16d2),_0x32cc5c['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x32cc5c['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x32cc5c['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x154991){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x466548=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x466548,this['_frameInde'+'x']=-0x2e4+0xbb*-0x11+0xf4f,this['mark'](_0x154991);}['mark'](_0x192ed7){if(!this['enabled'])return;const _0x5591fd=ne();if(this['_frameInde'+'x']>0xdf6+0x168a*-0x1+0x894){const _0x29d0bd=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x1a07+-0x5c*0x30+-0x8c6)];_0x29d0bd[0x1347+-0x1*0x629+-0xd1d]=_0x5591fd-_0x29d0bd[0x1524+-0xbe4*0x2+0x2a5];}else{if(this['_timings']['length']>0x661+0x1*0x4e4+-0xb45){const _0x2dd223=this['_timings'][this['_timings']['length']-(-0x7a3*-0x4+0xb5f+-0x29ea)];_0x2dd223[-0x12da+0xc78+0x663]=_0x5591fd-_0x2dd223[0x11bb+0x1914+0x2ace*-0x1];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x192ed7,_0x5591fd]);else{const _0x47c56d=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x47c56d[0x874+-0x2241+-0x19cd*-0x1]=_0x192ed7,_0x47c56d[0x9*0x215+-0x59*-0x5f+-0x15*0x277]=_0x5591fd;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x1a6e+0x8c0+0x1f*0x92,-(0x169f+-0x145+-0x1559))['map'](_0x4bfc0d=>_0x4bfc0d[-0x546+0xe5*0x25+-0x1bd2*0x1]);}}class JL{constructor(_0x96a89c){this['device']=_0x96a89c,_0x96a89c['gpuProfile'+'r']['enabled']=!(-0x21d+-0x185b+0x1e4*0xe),this['enabled']=!(0x1*-0x82c+-0x8a4+0x10d0),this['unitsName']='ms',this['decimalPla'+'ces']=0x1a5c+-0xb65*-0x1+0x25c*-0x10,this['_timings']=[];}get['timings'](){return this['_timings'][0x1*-0x2302+0x4f+-0x15*-0x1a7]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class eF{constructor(_0x55d1f7,_0x2c081c,_0x55dd43,_0x58ece3,_0x10ccab){this['app']=_0x55d1f7,this['values']=[],this['statNames']=_0x2c081c,this['statNames']['length']>-0x1d1e+-0x16f5+0x3416&&(this['statNames']['length']=-0x1f47+0xb10+-0x35f*-0x6),this['unitsName']=_0x58ece3,this['decimalPla'+'ces']=_0x55dd43,this['multiplier']=_0x10ccab||0x7ff+-0x1*-0xc86+0x1*-0x1484;const _0x44f2eb=(_0x2b5ee8,_0x5b9917)=>_0x2b5ee8['split']('.')['reduce']((_0x49dde4,_0x3863df)=>_0x49dde4?_0x49dde4[_0x3863df]:null,_0x5b9917||this);_0x55d1f7['on']('frameupdat'+'e',_0x552bf7=>{for(let _0x541f2d=-0x2461+-0x72+0xb*0x359;_0x541f2d<this['statNames']['length'];_0x541f2d++)this['values'][_0x541f2d]=_0x44f2eb(this['statNames'][_0x541f2d],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class au{constructor(_0x46c020,_0x432f32,_0x27b7c4,_0x3dc106,_0x57e981){this['app']=_0x432f32,this['name']=_0x46c020,this['device']=_0x432f32['graphicsDe'+'vice'],this['timer']=_0x57e981,this['watermark']=_0x27b7c4,this['enabled']=!(-0x2385+0xe1d*-0x1+0x31a3),this['textRefres'+'hRate']=_0x3dc106,this['avgTotal']=0x1728+-0x1*-0xff8+-0x2720,this['avgTimer']=0x705+-0x1e4f+-0x174a*-0x1,this['avgCount']=0x1997*0x1+0x1*0x1885+-0x1*0x321c,this['timingText']='',this['texture']=null,this['yOffset']=-0x119d+0x1*0x11d1+0xd*-0x4,this['cursor']=-0x2bc+0xf6a+0x21d*-0x6,this['sample']=new Uint8ClampedArray(-0x24d7*0x1+-0x7*-0x16b+-0xd77*-0x2),this['sample']['set']([0x2646+0x1*0x23d7+-0x1*0x4a1d,0x9a4*-0x1+0xd*0x41+0x1*0x657,0x877*-0x3+0xa47+0x306*0x5,0x27*0xcb+-0x1cb*0x9+0x3*-0x499]),this['counter']=0x1*0x1e82+-0x14b2+-0x9d0,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x23756d){const _0x31b6eb=this['timer']['timings'],_0x5cb358=_0x31b6eb['reduce']((_0x4f749f,_0x383c82)=>_0x4f749f+_0x383c82,-0x5b*-0x2b+0x24e9+-0x3432);if(this['avgTotal']+=_0x5cb358,this['avgTimer']+=_0x23756d,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x21fb+-0xbd9+0x2*-0xb11,this['avgTotal']=0x1016+-0x4b1*-0x7+0xf*-0x343,this['avgCount']=-0xbfa+-0x3*-0x6a7+0x9*-0xe3),this['enabled']){let _0x56aa82=0x24f*0x5+0x196*0xa+-0x1b67;const _0x4506a1=(-0xc*0x14b+-0x11*0x10d+0x2162+0.5)*this['watermark'];for(let _0x23210a=-0x3*-0x228+0x22cb+-0x2943;_0x23210a<_0x31b6eb['length'];++_0x23210a)_0x56aa82+=Math['floor'](_0x31b6eb[_0x23210a]/_0x4506a1*(-0x68b+-0xd*0x85+0xe4b*0x1)),this['sample'][_0x23210a]=_0x56aa82;this['sample'][-0x552+0x1a*-0x56+0xe11]=this['watermark']/_0x4506a1*(0x5da+0x101*0x2+0x7*-0xfb),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0xbb*0x3+-0x1*0xc5+0x2fa)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x4*0x76d+-0x7f*-0x2f+0x663);}}['render'](_0x59c884,_0x3a7b5f,_0x1062b7,_0x151193,_0x211086){_0x59c884['quad'](_0x3a7b5f+_0x151193,_0x1062b7,-_0x151193,_0x211086,this['enabled']?this['cursor']:-0x1ff7+-0x859*0x2+0x30a9*0x1,this['enabled']?-0x10*0x224+-0x7*0x93+0x2645+0.5+this['yOffset']:this['texture']['height']-(0x13*-0xef+-0x1e29*0x1+0x2fe7),-_0x151193,-0x14*-0x1f3+0x13b2+-0x3aae,this['texture'],0x1a7f+-0x13a8+-0x6d7);}}class tF{constructor(_0x310fc6,_0x340a9c){const _0x454d04=_0x27d3fb=>{_0x27d3fb['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x27d3fb['textAlign']='left',_0x27d3fb['textBaseli'+'ne']='alphabetic';},_0xd801d0=_0x278d34=>_0x278d34==='.'||_0x278d34['length']===-0xb*0x1ca+0x6cc+0xce3&&_0x278d34['charCodeAt'](-0x26c+0x20b*-0x1+0x477)>=0x20*-0xa7+-0xa91+0x1fa1&&_0x278d34['charCodeAt'](0x3*-0xa37+-0x1282+-0x1*-0x3127)<=0x13b8+0x63e*-0x3+-0xc5*0x1,_0x5af0fb=document['createElem'+'ent']('canvas'),_0x348ac4=_0x5af0fb['getContext']('2d',{'alpha':!(0x1e85*0x1+0x1*-0x3ad+-0x1ad8)});_0x454d04(_0x348ac4);const _0x500e5e=new Map(),_0x668496=0xd86+-0x1*0x52c+0x9*-0xed,_0x1c443e=0x15*-0x15f+-0x1f*0x84+0x2ec7;let _0x5278bd=_0x668496,_0x32a205=_0x668496;_0x340a9c['forEach'](_0x516503=>{const _0x178726=_0x348ac4['measureTex'+'t'](_0x516503),_0x5979d6=Math['ceil'](-_0x178726['actualBoun'+'dingBoxLef'+'t']),_0x3664b4=Math['ceil'](_0x178726['actualBoun'+'dingBoxRig'+'ht']),_0x7ab1e2=Math['ceil'](_0x178726['actualBoun'+'dingBoxAsc'+'ent']),_0x430cb8=Math['ceil'](_0x178726['actualBoun'+'dingBoxDes'+'cent']),_0x46b792=_0x5979d6+_0x3664b4,_0x137482=_0x7ab1e2+_0x430cb8;_0x5278bd+_0x46b792+_0x668496>=_0x1c443e&&(_0x5278bd=_0x668496,_0x32a205+=0x1544+0x5*0x74f+-0x39bf),_0x500e5e['set'](_0x516503,{'l':_0x5979d6,'r':_0x3664b4,'a':_0x7ab1e2,'d':_0x430cb8,'w':_0x46b792,'h':_0x137482,'x':_0x5278bd,'y':_0x32a205}),_0x5278bd+=_0x46b792+_0x668496;}),_0x5af0fb['width']=-0x22fa+-0x25ff+0x4af9,_0x5af0fb['height']=N['nextPowerO'+'fTwo'](_0x32a205+(0x25*0x49+0x3*0x246+-0x114f)+_0x668496),_0x454d04(_0x348ac4),_0x348ac4['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x348ac4['fillRect'](-0x23c7+-0x8*0x2f1+0x13c5*0x3,0x13*0x5+-0x92f+0x6*0x178,_0x5af0fb['width'],_0x5af0fb['height']),_0x500e5e['forEach']((_0x312a92,_0x489954)=>{_0x348ac4['fillStyle']=_0xd801d0(_0x489954)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x348ac4['fillText'](_0x489954,_0x312a92['x']-_0x312a92['l'],_0x312a92['y']+_0x312a92['a']);}),this['placements']=_0x500e5e;const _0x4b5946=_0x348ac4['getImageDa'+'ta'](-0x26*0xe2+0x16d+0x1*0x201f,-0x100f*-0x1+-0x8a9*-0x2+-0x2161,_0x5af0fb['width'],_0x5af0fb['height'])['data'];for(let _0x49a4d3=0x2254+0x1*-0xb5b+-0x16f9;_0x49a4d3<_0x4b5946['length'];_0x49a4d3+=0x2029*0x1+0x1*0x2ef+-0x2314)_0x4b5946[_0x49a4d3+(-0x21d7*0x1+-0x4cd*0x4+0x350e)]=_0x4b5946[_0x49a4d3+(-0x2d4*0xd+0x5*-0x3bf+0x377f)],_0x4b5946[_0x49a4d3+(-0x1ad5+-0x52e*-0x1+0x15a7)]=0xc*-0x32b+-0x1fc+0x833*0x5,_0x4b5946[_0x49a4d3+(-0x1511+0xefa+0x618)]=-0x5*0x337+-0x1*-0x641+0xad1,_0x4b5946[_0x49a4d3+(0x4f*-0xf+-0x787*-0x2+0x17d*-0x7)]=0x1*-0x7ab+0x1960+-0x10b6;this['texture']=new he(_0x310fc6,{'name':'mini-stats'+'-word-atla'+'s','width':_0x5af0fb['width'],'height':_0x5af0fb['height'],'mipmaps':!(0x25*0x2+-0x252c+0x24e3),'minFilter':de,'magFilter':de,'levels':[_0x4b5946]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x2e85c4,_0x3f057a,_0x398f87,_0xff3b24){const _0xef6c49=this['placements']['get'](_0x3f057a);return _0xef6c49?(_0x2e85c4['quad'](_0x398f87+_0xef6c49['l']-(-0xd8*-0x6+0xa44+-0xf53),_0xff3b24-_0xef6c49['d']+(-0x936+-0x14d7+-0xf07*-0x2),_0xef6c49['w']+(-0x28*0xe9+-0x2630+-0x5bd*-0xd)*(0x73*0x16+0x5c5+-0xfa5),_0xef6c49['h']+(-0x1*0x12a9+-0x117b+0x1e7*0x13)*(0x11*0x4f+0x178a+-0x35*0x8b),_0xef6c49['x']-(0x45*0x4b+0x1*0x196e+0x16d2*-0x2),this['texture']['height']-_0xef6c49['y']-_0xef6c49['h']-(0x3c4*0x1+0x267d+0x4*-0xa90),void(0x179f+-0x1bdd+0x43e),void(-0x313*0xb+0x26*-0x1b+0x25d3),this['texture'],-0x14c8+-0x19bb+0x2e84),_0xef6c49['w']):-0x972+0x1d*-0xa2+0x3*0x944;}}const sF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',iF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class rF{constructor(_0x38bce5,_0x1fea2f=0x9df+-0x1*0x1a11+-0x1*-0x1232){const _0x30937d=new Et(_0x38bce5,[{'semantic':He,'components':0x3,'type':Ee},{'semantic':ns,'components':0x4,'type':Ee}]),_0x3b01dc=new Uint16Array(_0x1fea2f*(0x1db1+0x445*0x5+-0x3304));for(let _0x487b75=0x3*0x6ac+-0x2015+0x1*0xc11;_0x487b75<_0x1fea2f;++_0x487b75)_0x3b01dc[_0x487b75*(-0x1*0xa94+-0x2d7*0x1+0xd71)+(0x1*-0xfd3+-0x1f*0x100+-0x1*-0x2ed3)]=_0x487b75*(0x1364+0x1*0x22b1+-0x3611),_0x3b01dc[_0x487b75*(0x1ed1+0x1e3*-0xd+0x322*-0x2)+(0x11f6+-0x267d+0x1488)]=_0x487b75*(-0xaba*0x2+-0x3*0x5f7+0x275d)+(0x2*0x7fb+0xa*-0xbc+-0x1b9*0x5),_0x3b01dc[_0x487b75*(-0x2e3*0xd+-0x8*-0x19c+0x18ad*0x1)+(-0x769+0x7ce+-0x63)]=_0x487b75*(-0xf71*0x1+0xa35+0x540)+(0x1335*0x1+0x89*0x35+-0x2f90),_0x3b01dc[_0x487b75*(0x1*0x1621+-0x789+0x2*-0x749)+(0x1d2a+0xd0+-0x1df7)]=_0x487b75*(-0xda9+0x566*-0x7+0x3377),_0x3b01dc[_0x487b75*(-0x2*0x4cb+0x13*0x13+0x833)+(0x179e*-0x1+0x88f+0xf13)]=_0x487b75*(-0x5*0x48b+0xc8c+0x1*0xa2f)+(-0x187f+0x6*-0x527+-0x1279*-0x3),_0x3b01dc[_0x487b75*(0x268e+-0xb3e*0x2+-0x4f*0x34)+(0x220a*-0x1+0x2511+-0x302)]=_0x487b75*(-0x812+0x2*-0xbc5+0x1fa0)+(-0x452*0x1+0x1*0x25b1+-0x131*0x1c);this['device']=_0x38bce5,this['buffer']=new os(_0x38bce5,_0x30937d,_0x1fea2f*(0xa8+-0x261e+-0x4e*-0x7b),{'usage':uy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0x265a+0xe*-0x61+0x2bac)),this['indexBuffe'+'r']=new lr(_0x38bce5,Pi,_0x1fea2f*(-0x4bf*-0x8+-0x1cbf+-0x933),jt,_0x3b01dc),this['prim']={'type':Ms,'indexed':!(0x1*0x9b7+0x2*0x665+-0x1681),'base':0x0,'count':0x0},this['quads']=0xa*-0x361+-0x2*0x11ba+0x453e,this['mesh']=new Ie(_0x38bce5),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0x3dd+0xc1e+0xffb*-0x1]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x2d9a86=new Ra({'uniqueName':'MiniStats','vertexCode':sF,'fragmentCode':iF});this['material']=_0x2d9a86,_0x2d9a86['cull']=mt,_0x2d9a86['depthState']=as['NODEPTH'],_0x2d9a86['blendState']=new _t(!(-0x2319+0x2*0xb3c+0xca1),Lt,dc,uc,Lt,at,at),_0x2d9a86['update'](),this['meshInstan'+'ce']=new Le(this['mesh'],_0x2d9a86,new De('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x21c6+0x807+0x19c3)},this['targetSize']={'width':_0x38bce5['width'],'height':_0x38bce5['height']};}['quad'](_0xfef161,_0x5bc52f,_0x36b738,_0x22cc01,_0x2d6809,_0x4c26e2,_0x3322a5,_0x4f5445,_0xb37ce2,_0x1b0b07=-0x165+-0x91a+0xa7f){const _0x4b887a=this['targetSize']['width'],_0x146cae=this['targetSize']['height'],_0x323773=_0xfef161/_0x4b887a,_0x2af389=_0x5bc52f/_0x146cae,_0x9b5d0d=(_0xfef161+_0x36b738)/_0x4b887a,_0x14ff1c=(_0x5bc52f+_0x22cc01)/_0x146cae,_0xd5e6c6=_0xb37ce2['width'],_0x19a444=_0xb37ce2['height'],_0x46e671=_0x2d6809/_0xd5e6c6,_0xcf5ed5=_0x4c26e2/_0x19a444,_0x1bbfd3=(_0x2d6809+(_0x3322a5??_0x36b738))/_0xd5e6c6,_0x33b9a4=(_0x4c26e2+(_0x4f5445??_0x22cc01))/_0x19a444;this['data']['set']([_0x323773,_0x2af389,_0x1b0b07,_0x46e671,_0xcf5ed5,-0x2177*0x1+0x7*-0xf5+-0x61*-0x6a,0x34*0x89+-0x5f7*0x1+-0x15dd,_0x9b5d0d,_0x2af389,_0x1b0b07,_0x1bbfd3,_0xcf5ed5,0x2391+-0x1306+-0x108a,0x9*-0x37f+-0x1703+0x13*0x2de,_0x9b5d0d,_0x14ff1c,_0x1b0b07,_0x1bbfd3,_0x33b9a4,0x69e+-0x236f+0x1b2*0x11,0xe60*0x1+0x1*-0x108d+-0x5d*-0x6,_0x323773,_0x14ff1c,_0x1b0b07,_0x46e671,_0x33b9a4,-0x180f+0x2*-0xbf5+0x2ff9,-0x2524+0x1dbc+-0x1*-0x769],(-0xeb3+0x1*-0xf31+0x1de8)*(0x67a+0x143b*-0x1+0xdc8)*this['quads']),this['quads']++,this['prim']['count']+=0x79*0x1+0x470+-0x4e3;}['startFrame'](){this['quads']=0x5e6+0xbc0+-0x11a6,this['prim']['count']=0x1d0d+-0x2512+0x805,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x496867,_0x1f1812,_0x3b0624,_0x370dab,_0x187e40,_0xd3bd86){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x187e40,0x1*0x51a+-0x12ba+0xda0),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x3b0624),this['material']['setParamet'+'er']('wordsTex',_0x370dab),_0x496867['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1f1812);}}class Wx{constructor(_0x1dd2d7,_0x28ca6a){const _0x1e08b8=_0x1dd2d7['graphicsDe'+'vice'];_0x28ca6a=_0x28ca6a||Wx['getDefault'+'Options'](),this['initGraphs'](_0x1dd2d7,_0x1e08b8,_0x28ca6a);const _0x207ce3=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x54e2a6=>_0x54e2a6['name']))['concat'](_0x28ca6a['stats']?_0x28ca6a['stats']['map'](_0x4fee76=>_0x4fee76['unitsName']):[])['filter'](_0x5e4b47=>!!_0x5e4b47));this['wordAtlas']=new tF(_0x1e08b8,_0x207ce3),this['sizes']=_0x28ca6a['sizes'],this['_activeSiz'+'eIndex']=_0x28ca6a['startSizeI'+'ndex'];const _0x50b5e7=document['createElem'+'ent']('div');_0x50b5e7['setAttribu'+'te']('id','mini-stats'),_0x50b5e7['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x50b5e7),_0x50b5e7['addEventLi'+'stener']('mouseenter',_0x16ffc5=>{this['opacity']=0x525+-0xcaf*0x1+0x78b;}),_0x50b5e7['addEventLi'+'stener']('mouseleave',_0x50093f=>{this['opacity']=0x47f*-0x2+0x1*-0x4cf+0xdcd+0.7;}),_0x50b5e7['addEventLi'+'stener']('click',_0x1ccf38=>{_0x1ccf38['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x12df+-0x7fb+-0xae3))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x1e08b8['on']('resizecanv'+'as',this['updateDiv'],this),_0x1e08b8['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x1dd2d7['on']('postrender',this['postRender'],this),this['app']=_0x1dd2d7,this['drawLayer']=_0x1dd2d7['scene']['layers']['getLayerBy'+'Id'](tl),this['device']=_0x1e08b8,this['render2d']=new rF(_0x1e08b8),this['div']=_0x50b5e7,this['width']=-0x1435*-0x1+0x1*0xe25+-0x112d*0x2,this['height']=-0x11f6*0x1+-0x14*-0x132+-0x5f2,this['gspacing']=0x3*-0x3f5+-0x3*0xc83+0x316a,this['clr']=[-0xe13+-0x8*0x1a+0xee4,0x2*-0xf8+-0xd4*-0x27+-0x199*0x13,-0x1*-0x1741+-0x24a+-0x14f6,0x181b+0x18a*0x5+-0x1fcd+0.5],this['_enabled']=!(-0x82b*-0x1+0x20f2+-0x291d),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x1cc555=>_0x1cc555['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(-0x6b*0x59+-0x1dfa+-0x432e*-0x1)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x172+0xb66*0x2+-0x1*0x155a)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x1*0x2622+-0x232d+-0x2f5)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x6*-0x40e+-0x10d4+-0x780),'watermark':0x21},'gpu':{'enabled':!(-0x4f*-0x3+-0x14*0x1ee+0x25ab*0x1),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x4a2ee1){this['_activeSiz'+'eIndex']=_0x4a2ee1,this['gspacing']=this['sizes'][_0x4a2ee1]['spacing'],this['resize'](this['sizes'][_0x4a2ee1]['width'],this['sizes'][_0x4a2ee1]['height'],this['sizes'][_0x4a2ee1]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x493a3a){this['clr'][0x1046+-0x704+0x9*-0x107]=_0x493a3a;}get['opacity'](){return this['clr'][-0xcb5+-0xb59*0x2+-0x3*-0xbce];}get['overallHei'+'ght'](){const _0x269b8e=this['graphs'],_0x594147=this['gspacing'];return this['height']*_0x269b8e['length']+_0x594147*(_0x269b8e['length']-(-0x1739+-0x7da+-0x1f14*-0x1));}set['enabled'](_0x110302){if(_0x110302!==this['_enabled']){this['_enabled']=_0x110302;for(let _0x502233=-0xa3b*0x3+0x18f9+0x7a*0xc;_0x502233<this['graphs']['length'];++_0x502233)this['graphs'][_0x502233]['enabled']=_0x110302,this['graphs'][_0x502233]['timer']['enabled']=_0x110302;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0xc1a5fc,_0x5b059f,_0x1346cc){if(this['graphs']=[],_0x1346cc['cpu']['enabled']){const _0x5b844f=new QL(_0xc1a5fc),_0x59ca15=new au('CPU',_0xc1a5fc,_0x1346cc['cpu']['watermark'],_0x1346cc['textRefres'+'hRate'],_0x5b844f);this['graphs']['push'](_0x59ca15);}if(_0x1346cc['gpu']['enabled']){const _0x351cf8=new JL(_0x5b059f),_0x38a243=new au('GPU',_0xc1a5fc,_0x1346cc['gpu']['watermark'],_0x1346cc['textRefres'+'hRate'],_0x351cf8);this['graphs']['push'](_0x38a243);}_0x1346cc['stats']&&_0x1346cc['stats']['forEach'](_0x4eee13=>{const _0x25a069=new eF(_0xc1a5fc,_0x4eee13['stats'],_0x4eee13['decimalPla'+'ces'],_0x4eee13['unitsName'],_0x4eee13['multiplier']),_0x2993bc=new au(_0x4eee13['name'],_0xc1a5fc,_0x4eee13['watermark'],_0x1346cc['textRefres'+'hRate'],_0x25a069);this['graphs']['push'](_0x2993bc);});const _0x57b5fe=_0x1346cc['sizes']['reduce']((_0x58cfee,_0x45bfdf)=>_0x45bfdf['width']>_0x58cfee?_0x45bfdf['width']:_0x58cfee,0x515+0x1d12*0x1+0x1*-0x2227);this['texture']=new he(_0x5b059f,{'name':'mini-stats'+'-graph-tex'+'ture','width':N['nextPowerO'+'fTwo'](_0x57b5fe),'height':N['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x3f9+-0x3c*0x6d+0x1d86),'minFilter':de,'magFilter':de,'addressU':tt,'addressV':tt}),this['graphs']['forEach']((_0x43a104,_0x15e1a3)=>{_0x43a104['texture']=this['texture'],_0x43a104['yOffset']=_0x15e1a3;});}['render'](){const _0x779011=this['graphs'],_0x173659=this['wordAtlas'],_0x3aab8d=this['render2d'],_0x12114b=this['width'],_0xc83580=this['height'],_0x435ff4=this['gspacing'];_0x3aab8d['startFrame']();for(let _0x4ad235=-0x161b+-0x8*0x45b+0x38f3;_0x4ad235<_0x779011['length'];++_0x4ad235){const _0x577df1=_0x779011[_0x4ad235];let _0x48e8ce=_0x4ad235*(_0xc83580+_0x435ff4);_0x577df1['render'](_0x3aab8d,0x1*0x13eb+0x23ca+0x449*-0xd,_0x48e8ce,_0x12114b,_0xc83580);let _0x4eaac2=0xb*-0x21+-0x236a+0xa*0x3af;_0x48e8ce+=_0xc83580-(0x5*-0x75+0x1*-0xd18+-0xa*-0x18b),_0x4eaac2+=_0x173659['render'](_0x3aab8d,_0x577df1['name'],_0x4eaac2,_0x48e8ce)+(0x8*-0x1b+-0x8*0x40f+0x215a);const _0x2a51a7=_0x577df1['timingText'];for(let _0x5743fd=-0x2405+-0x248b*-0x1+-0x1*0x86;_0x5743fd<_0x2a51a7['length'];++_0x5743fd)_0x4eaac2+=_0x173659['render'](_0x3aab8d,_0x2a51a7[_0x5743fd],_0x4eaac2,_0x48e8ce);_0x577df1['timer']['unitsName']&&(_0x4eaac2+=-0x2557+-0x471+0x29cb,_0x173659['render'](_0x3aab8d,_0x577df1['timer']['unitsName'],_0x4eaac2,_0x48e8ce));}_0x3aab8d['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0xc83580);}['resize'](_0x319ac3,_0x4df1f1,_0x437da5){const _0x78dbc4=this['graphs'];for(let _0x561f76=0xa2*-0x13+0x2525+-0x191f;_0x561f76<_0x78dbc4['length'];++_0x561f76)_0x78dbc4[_0x561f76]['enabled']=_0x437da5;this['width']=_0x319ac3,this['height']=_0x4df1f1,this['updateDiv']();}['updateDiv'](){const _0x3b22bb=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x3b22bb['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x3b22bb['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x374159=>_0x374159['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class pF extends Ht{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map());}['initialize'](){if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation\x20===>'+'>>xr');return;}this['app']['xr']['input']['on']('add',async _0x4d9053=>{var _0x1d3a06;if(!((_0x1d3a06=_0x4d9053['profiles'])!=null&&_0x1d3a06['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x21a97d=_0x4d9053['profiles']['map'](async _0x3013d5=>{var _0x4ea03d;const _0x522443=this['basePath']+'/'+_0x3013d5+('/profile.j'+'son');try{const _0x585bc7=await fetch(_0x522443);if(!_0x585bc7['ok'])return null;const _0x1bf1b6=await _0x585bc7['json'](),_0x2d9360=((_0x4ea03d=_0x1bf1b6['layouts'][_0x4d9053['handedness']])==null?void(-0x1*-0x20ba+-0x819*0x3+0x7f*-0x11):_0x4ea03d['assetPath'])||'',_0x3411c6=this['basePath']+'/'+_0x1bf1b6['profileId']+'/'+_0x4d9053['handedness']+_0x2d9360['replace'](/^\/?(left|right)/,''),_0x18bc97=await new Promise((_0x88b753,_0x3fd6d9)=>{this['app']['assets']['loadFromUr'+'l'](_0x3411c6,'container',(_0x257b01,_0x2bf559)=>{_0x257b01?_0x3fd6d9(_0x257b01):_0x88b753(_0x2bf559);});});return{'profileId':_0x3013d5,'asset':_0x18bc97};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x3013d5),null;}}),_0x53e9e3=(await Promise['all'](_0x21a97d))['find'](_0x195130=>_0x195130!==null);if(_0x53e9e3){const {asset:_0x5045c7}=_0x53e9e3,_0x5178cb=_0x5045c7['resource']['instantiat'+'eRenderEnt'+'ity']();this['app']['root']['addChild'](_0x5178cb);const _0x56b3cb=new Map();if(_0x4d9053['hand'])for(const _0x27e0a6 of _0x4d9053['hand']['joints']){const _0xf1958=_0x5178cb['findByName'](_0x27e0a6['id']);_0xf1958&&_0x56b3cb['set'](_0x27e0a6,_0xf1958);}this['controller'+'s']['set'](_0x4d9053,{'entity':_0x5178cb,'jointMap':_0x56b3cb});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['app']['xr']['input']['on']('remove',_0xccf02e=>{const _0x5c1000=this['controller'+'s']['get'](_0xccf02e);_0x5c1000&&(_0x5c1000['entity']['destroy'](),this['controller'+'s']['delete'](_0xccf02e));});}['update'](_0x3dbf32){var _0x307fa1;if((_0x307fa1=this['app']['xr'])!=null&&_0x307fa1['active']){for(const [_0x45d757,{entity:_0xb8f123,jointMap:_0xbe6f24}]of this['controller'+'s'])if(_0x45d757['hand']){for(const [_0x1b3341,_0x28c16b]of _0xbe6f24)_0x28c16b['setPositio'+'n'](_0x1b3341['getPositio'+'n']()),_0x28c16b['setRotatio'+'n'](_0x1b3341['getRotatio'+'n']());}else _0xb8f123['setPositio'+'n'](_0x45d757['getPositio'+'n']()),_0xb8f123['setRotatio'+'n'](_0x45d757['getRotatio'+'n']());}}}export{dF as A,_e as B,Y as C,pF as D,We as E,$1 as F,hh as G,Wx as H,ce as I,X as J,Fm as K,vp as L,bl as M,uF as P,se as Q,G_ as R,Dt as S,f0 as T,T as V,ay as W,GL as X,Q as a,AL as b,W as c,le as d,sl as e,ua as f,Gs as g,Ap as h,aF as i,oF as j,lF as k,hF as l,cF as m,Nh as n,Bh as o,zh as p,Iu as q,lh as r,Hr as s,Wr as t,Ts as u,cs as v,SI as w,$n as x,M0 as y,q as z};function _0x4e84d9(_0x6e8d11){function _0x321357(_0x58c536){if(typeof _0x58c536==='string')return function(_0x201f67){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x58c536/_0x58c536)['length']!==-0xa7d+-0x278+-0x6*-0x229||_0x58c536%(-0xc0b*0x3+-0x16a5+0x139e*0x3)===0x165e+-0x11*-0x6+0x4*-0x5b1?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x321357(++_0x58c536);}try{if(_0x6e8d11)return _0x321357;else _0x321357(-0x1e3c+0x17a8*-0x1+0x35e4);}catch(_0x288ebd){}}
