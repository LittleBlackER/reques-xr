const _0x5b815a=(function(){let _0x469be8=!![];return function(_0x5bb078,_0x3a4fa6){const _0xac5240=_0x469be8?function(){if(_0x3a4fa6){const _0x59c68a=_0x3a4fa6['apply'](_0x5bb078,arguments);return _0x3a4fa6=null,_0x59c68a;}}:function(){};return _0x469be8=![],_0xac5240;};}()),_0x37cddf=_0x5b815a(this,function(){return _0x37cddf['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x37cddf)['search']('(((.+)+)+)'+'+$');});_0x37cddf();const _0x789f31=(function(){let _0x55930e=!![];return function(_0x4a4fd0,_0x4ab3e0){const _0x49c742=_0x55930e?function(){if(_0x4ab3e0){const _0x54f934=_0x4ab3e0['apply'](_0x4a4fd0,arguments);return _0x4ab3e0=null,_0x54f934;}}:function(){};return _0x55930e=![],_0x49c742;};}());(function(){_0x789f31(this,function(){const _0x124905=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x5d4f2b=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x5b4e14=_0x9383f('init');!_0x124905['test'](_0x5b4e14+'chain')||!_0x5d4f2b['test'](_0x5b4e14+'input')?_0x5b4e14('0'):_0x9383f();})();}());const _0x40affd=(function(){let _0x4b2fc0=!![];return function(_0x48ebe3,_0x34722b){const _0x221fb6=_0x4b2fc0?function(){if(_0x34722b){const _0x309bdf=_0x34722b['apply'](_0x48ebe3,arguments);return _0x34722b=null,_0x309bdf;}}:function(){};return _0x4b2fc0=![],_0x221fb6;};}()),_0x2d9145=_0x40affd(this,function(){const _0x509f94=function(){let _0x3f4123;try{_0x3f4123=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x88e565){_0x3f4123=window;}return _0x3f4123;},_0x56811f=_0x509f94(),_0x513ee8=_0x56811f['console']=_0x56811f['console']||{},_0x5f5ab0=['log','warn','info','error','exception','table','trace'];for(let _0x55cc14=-0x15d4+-0x17c4+0x2d98;_0x55cc14<_0x5f5ab0['length'];_0x55cc14++){const _0x1885f5=_0x40affd['constructo'+'r']['prototype']['bind'](_0x40affd),_0x5cd0cc=_0x5f5ab0[_0x55cc14],_0x71e6ec=_0x513ee8[_0x5cd0cc]||_0x1885f5;_0x1885f5['__proto__']=_0x40affd['bind'](_0x40affd),_0x1885f5['toString']=_0x71e6ec['toString']['bind'](_0x71e6ec),_0x513ee8[_0x5cd0cc]=_0x1885f5;}});_0x2d9145();var qx=Object['defineProp'+'erty'],Xx=(_0x3822ba,_0x56416b,_0x266631)=>_0x56416b in _0x3822ba?qx(_0x3822ba,_0x56416b,{'enumerable':!(-0x2593+-0x2559+-0x2576*-0x2),'configurable':!(-0x13a4+-0xd05*-0x1+-0x153*-0x5),'writable':!(0xf1e+0x1127+0x1*-0x2045),'value':_0x266631}):_0x3822ba[_0x56416b]=_0x266631,c=(_0xde3ad1,_0x1e2f2e,_0x4f99ec)=>Xx(_0xde3ad1,typeof _0x1e2f2e!='symbol'?_0x1e2f2e+'':_0x1e2f2e,_0x4f99ec);const jx='RenderFram'+'e',nd='RenderFram'+'eTime',Yp='RenderPass',ta='RenderPass'+'Detail',xl='RenderActi'+'on',Kp='RenderTarg'+'etAlloc',Zp='TextureAll'+'oc',Qp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Es='Element',tS='Textures',Sl='GpuTimings',ho='$_CURRENT_'+'SDK_VERSIO'+'N',iy='$_CURRENT_'+'SDK_REVISI'+'ON';function Eh(_0x2fc130,_0x2855a9){for(const _0x1e0aaf in _0x2855a9){const _0x309c39=_0x2855a9[_0x1e0aaf];Array['isArray'](_0x309c39)?_0x2fc130[_0x1e0aaf]=Eh([],_0x309c39):_0x309c39&&typeof _0x309c39=='object'?_0x2fc130[_0x1e0aaf]=Eh({},_0x309c39):_0x2fc130[_0x1e0aaf]=_0x309c39;}return _0x2fc130;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x1086c7=>{const _0x2143c4=Math['random']()*(0x20eb*0x1+0xe9*-0x1f+0x36*-0x16)|0x1cc4+0x1*-0x1709+-0x5bb;return(_0x1086c7==='x'?_0x2143c4:_0x2143c4&0x9d*-0x1b+-0x1c04+0x2c96|0x728+0x12*0x104+0xcb4*-0x2)['toString'](0x11d3+0x1*0x1234+0x63*-0x5d);});}},me={'delimiter':'/','join'(..._0x18283c){let _0x3a4391=_0x18283c[-0x1*-0x9+-0x1*0x1156+0x114d*0x1];for(let _0x2a5656=0x1*-0x1381+0x2341+-0xfc0;_0x2a5656<_0x18283c['length']-(0x343*0x2+0x1*-0x250d+0x1e88);_0x2a5656++){const _0x2c8781=_0x18283c[_0x2a5656],_0xfd9422=_0x18283c[_0x2a5656+(0x90c*-0x2+0x1297*-0x1+0x24b0)];if(_0xfd9422[0x25*0x22+-0x2a3+0x247*-0x1]===me['delimiter']){_0x3a4391=_0xfd9422;continue;}_0x2c8781&&_0xfd9422&&_0x2c8781[_0x2c8781['length']-(-0x1*-0x36f+0x788+-0xaf6)]!==me['delimiter']&&_0xfd9422[0x5*-0x613+-0x1380+0x31df]!==me['delimiter']?_0x3a4391+=me['delimiter']+_0xfd9422:_0x3a4391+=_0xfd9422;}return _0x3a4391;},'normalize'(_0x5d919e){const _0x247b90=_0x5d919e['startsWith'](me['delimiter']),_0x2b2b29=_0x5d919e['endsWith'](me['delimiter']),_0x6962b=_0x5d919e['split']('/');let _0x1699e2='',_0x5f3c58=[];for(let _0xb613ea=0x5ed*0x5+0x175b+-0x34fc*0x1;_0xb613ea<_0x6962b['length'];_0xb613ea++)if(_0x6962b[_0xb613ea]!==''&&_0x6962b[_0xb613ea]!=='.'){if(_0x6962b[_0xb613ea]==='..'&&_0x5f3c58['length']>-0x1990+0x1e*-0x34+-0x1*-0x1fa8){_0x5f3c58=_0x5f3c58['slice'](-0x3*-0x245+0xeea*-0x1+-0x1*-0x81b,_0x5f3c58['length']-(-0x9e9*-0x1+0x5*-0x5e6+0x3eb*0x5));continue;}_0xb613ea>-0x17dc+0x1*0x7a9+0x1*0x1033&&_0x5f3c58['push'](me['delimiter']),_0x5f3c58['push'](_0x6962b[_0xb613ea]);}return _0x1699e2=_0x5f3c58['join'](''),!_0x247b90&&_0x1699e2[0x11f4+-0xb9b*0x1+-0x659]===me['delimiter']&&(_0x1699e2=_0x1699e2['slice'](-0x2386+-0x1*0x566+-0x1*-0x28ed)),_0x2b2b29&&_0x1699e2[_0x1699e2['length']-(-0xc1*0x19+-0x18d*0x2+0x15f4)]!==me['delimiter']&&(_0x1699e2+=me['delimiter']),_0x1699e2;},'split'(_0x1b931d){const _0x815a7e=_0x1b931d['lastIndexO'+'f'](me['delimiter']);return _0x815a7e!==-(-0x1390+0x1d3d+-0x9ac)?[_0x1b931d['substring'](-0x650+0x10f*-0x7+0x493*0x3,_0x815a7e),_0x1b931d['substring'](_0x815a7e+(-0x1906+0x6c6*-0x1+0x48b*0x7))]:['',_0x1b931d];},'getBasename'(_0x498050){return me['split'](_0x498050)[0x619+-0x24da+-0xf61*-0x2];},'getDirectory'(_0x4f7d4b){return me['split'](_0x4f7d4b)[-0x9dd+-0x1*0x1c98+-0x37*-0xb3];},'getExtension'(_0x2d7130){const _0xd4e792=_0x2d7130['split']('?')[0x246*-0x8+-0x12cd+0x24fd]['split']('.')['pop']();return _0xd4e792!==_0x2d7130?'.'+_0xd4e792:'';},'isRelativePath'(_0x46e45f){return _0x46e45f['charAt'](-0x2*0x10d9+0x1425+0xd8d)!=='/'&&_0x46e45f['match'](/:\/\//)===null;},'extractPath'(_0x238688){let _0x387b69='';const _0x577c9b=_0x238688['split']('/');let _0x7d436b=0x8*0x4b2+0x226e+-0x47fe;if(_0x577c9b['length']>0x1*-0x829+-0x1*0x17ea+0x2014){if(me['isRelative'+'Path'](_0x238688)){if(_0x577c9b[0x23d+-0x42f+-0x1f2*-0x1]==='.'){for(_0x7d436b=-0x2ae+0xbfe+-0x10*0x95;_0x7d436b<_0x577c9b['length']-(0x19d2+-0x1215*-0x1+-0x2be6);++_0x7d436b)_0x387b69+=_0x7d436b===-0xe0+-0x152e+0x160e?_0x577c9b[_0x7d436b]:'/'+_0x577c9b[_0x7d436b];}else{if(_0x577c9b[-0x94a+0x7*-0x36f+0x2153]==='..'){for(_0x7d436b=0x1bd7+-0x3*-0x5dd+-0x2*0x16b7;_0x7d436b<_0x577c9b['length']-(0x136f+-0x5*0x1fd+-0x97d);++_0x7d436b)_0x387b69+=_0x7d436b===0xc0b+-0x1a*0x17a+0x5f*0x47?_0x577c9b[_0x7d436b]:'/'+_0x577c9b[_0x7d436b];}else{for(_0x387b69='.',_0x7d436b=0xc7+-0x5d*-0x54+0x1*-0x1f4b;_0x7d436b<_0x577c9b['length']-(-0x636+-0x73*-0x12+0x1*-0x1df);++_0x7d436b)_0x387b69+='/'+_0x577c9b[_0x7d436b];}}}else{for(_0x7d436b=0x1*0x2239+0x122f*0x1+-0x3468;_0x7d436b<_0x577c9b['length']-(0x20ad+0x184b+-0x38f7);++_0x7d436b)_0x387b69+=_0x7d436b===-0xfd9*-0x1+-0xa5b+-0x2bf*0x2?_0x577c9b[_0x7d436b]:'/'+_0x577c9b[_0x7d436b];}}return _0x387b69;}},iS=()=>{let _0x141697=!(-0xb*0x145+0xab5+0x343*0x1);try{const _0x291957=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x141697=!(0x2397+-0x9*-0x119+0x14*-0x246),!(-0x35e*0x1+-0xbc*-0x1+0x2a3);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x291957),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x291957);}catch{}return _0x141697;},Ti=typeof navigator<'u'?navigator['userAgent']:'',Ch=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Jp=/android/i['test'](Ti)?'android':/ip(?:[ao]d|hone)/i['test'](Ti)?'ios':/windows/i['test'](Ti)?'windows':/mac os/i['test'](Ti)?'osx':/linux/i['test'](Ti)?'linux':/cros/i['test'](Ti)?'cros':null,rS=Ch!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Ti)?'chrome':/Safari\//['test'](Ti)?'safari':/Firefox\//['test'](Ti)?'firefox':'other',nS=Ch==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x263a+0x3*-0xcc1+0x4c7d),aS=iS(),be={'name':Jp,'browser':Ch==='browser','worker':Ch==='worker','android':Jp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},ry='abcdefghij'+'klmnopqrst'+'uvwxyz',ny='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=ry+ny,du=-0x155*0xe9+-0x1*-0x11017+0x6b1*0x26,ay=0x8992+0x80c1+0x4a2*-0xa,em=-0x2*-0xb312+0x1*0x2d83+-0xb7a7,lS=0x11e83+-0x1adf4+0x16f70,hS=0xa*0x1f3+-0x256a+0xb*0x48b,tm=0x4887*-0x6+0x187a*0x17+0x1721a,sm=-0x836b*-0x3+-0x22bb*-0x1+0x4503,cS=0x3c9f7+-0x27*0x8c8+0x3fc2*-0x2,dS=-0x1a960+0x1*0x13c3d+0x26122,uS=0x2c28+-0x14b*0x2b+-0x1*-0x2c41,fS=0x3652*-0x1+-0x47*-0x8+0x5519,uu=-0x50f2+-0x1d064+0x11d*0x2ce,fu=-0xa37f+-0x1*-0xb80a+0x1ab*0x8c;function pu(_0x2ffd85,_0x351f37=0x1*-0x201b+-0x1803*0x1+0xb*0x51a){const _0x105063=_0x2ffd85['length'];if(_0x351f37<-0x2c+-0x25b6+0x1*0x25e2||_0x351f37>=_0x105063)return null;const _0x55a073=_0x2ffd85['charCodeAt'](_0x351f37);if(_0x105063>0x17+0x1df6+-0x2*0xf06&&_0x55a073>=du&&_0x55a073<=ay){const _0xf5f269=_0x2ffd85['charCodeAt'](_0x351f37+(0xf*-0x1d2+-0x1a6e+0x35bd*0x1));if(_0xf5f269>=em&&_0xf5f269<=lS)return{'code':(_0x55a073-du)*(-0x1f0d+0x1*-0x916+-0x1*-0x2c23)+_0xf5f269-em+(-0xf8d7+0x3e4+0x1f4f3),'long':!(-0x144e+-0x1599+0x29e7*0x1)};}return{'code':_0x55a073,'long':!(0x5*0x343+-0xbfe+-0x450)};}function Yi(_0x5890ce,_0x5f5ac5,_0x1b2891){if(!_0x5890ce)return!(0x62e+-0xb3a+0x1*0x50d);const _0x2d2b7f=pu(_0x5890ce);if(_0x2d2b7f){const _0x3e21d9=_0x2d2b7f['code'];return _0x3e21d9>=_0x5f5ac5&&_0x3e21d9<=_0x1b2891;}return!(0x8f5*-0x1+-0x2*0xace+0x1e92);}function pS(_0x5c3362,_0x610fd8){if(_0x610fd8===_0x5c3362['length']-(-0x2ef+-0x8*-0x4a2+-0x2220))return-0x51*0x67+-0x1640*0x1+0x78*0x75;if(Yi(_0x5c3362[_0x610fd8],du,ay)){const _0x60bbe0=_0x5c3362['substring'](_0x610fd8,_0x610fd8+(-0x8c*-0x3+-0x4e2+0x340)),_0x4387d9=_0x5c3362['substring'](_0x610fd8+(-0x2*0x10a5+-0x384+-0x2*-0x1268),_0x610fd8+(0x1642+-0x8*-0x23a+-0x2*0x1407));return Yi(_0x4387d9,cS,dS)||Yi(_0x60bbe0,tm,sm)&&Yi(_0x4387d9,tm,sm)?-0x11*0xc9+0x5*-0x229+0x3*0x80e:Yi(_0x4387d9,uu,fu)?0xbd*0x17+-0x12d6*0x1+0x1de:-0x4f*0x23+0x80*0x43+-0x16b1*0x1;}return Yi(_0x5c3362[_0x610fd8+(0x127*0xf+0x61*0x4d+-0x2e75)],uu,fu)?-0x1*0x2617+0xad+0x256c:-0xe9*0xd+-0xde*0x10+0x19b6;}const dh={'ASCII_LOWERCASE':ry,'ASCII_UPPERCASE':ny,'ASCII_LETTERS':oS,'format'(_0x5eaf71,..._0x11b449){for(let _0x5dd68e=0x22bc*0x1+0x25a2+-0x9d*0x76;_0x5dd68e<_0x11b449['length'];_0x5dd68e++)_0x5eaf71=_0x5eaf71['replace']('{'+_0x5dd68e+'}',_0x11b449[_0x5dd68e]);return _0x5eaf71;},'getCodePoint'(_0x433734,_0xff15e7){const _0x272d95=pu(_0x433734,_0xff15e7);return _0x272d95&&_0x272d95['code'];},'getCodePoints'(_0x2788ba){if(typeof _0x2788ba!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x2e4c97=-0x1a7c+0xf4*0x1a+0x1b4;const _0x4b7684=[];let _0x4f3d37;for(;_0x4f3d37=pu(_0x2788ba,_0x2e4c97);)_0x4b7684['push'](_0x4f3d37['code']),_0x2e4c97+=_0x4f3d37['long']?0x655*0x1+-0x10c1+0x1*0xa6e:-0xe05+0x1a4f+-0x275*0x5;return _0x4b7684;},'getSymbols'(_0x5c78ba){if(typeof _0x5c78ba!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x17f094=0x6*0x654+-0x1610+-0xfe8;const _0x5be19f=_0x5c78ba['length'],_0x38454d=[];let _0x3c42da=-0x2*-0x1ba+-0xf86+0x2*0x609,_0x13f798;for(;_0x17f094<_0x5be19f;){if(_0x3c42da+=pS(_0x5c78ba,_0x17f094+_0x3c42da),_0x13f798=_0x5c78ba[_0x17f094+_0x3c42da],Yi(_0x13f798,uS,fS)&&(_0x13f798=_0x5c78ba[_0x17f094+_0x3c42da++]),Yi(_0x13f798,uu,fu)&&(_0x13f798=_0x5c78ba[_0x17f094+_0x3c42da++]),_0x13f798&&_0x13f798['charCodeAt'](0x209+-0x230f+-0x6*-0x581)===hS){_0x13f798=_0x5c78ba[_0x17f094+_0x3c42da++];continue;}const _0x5b2700=_0x5c78ba['substring'](_0x17f094,_0x17f094+_0x3c42da);_0x38454d['push'](_0x5b2700),_0x17f094+=_0x3c42da,_0x3c42da=0x509*0x6+-0x2710+0x8da;}return _0x38454d;},'fromCodePoint'(){const _0x17ddae=[];let _0x40af1,_0x51ffba,_0xc12b1f;for(let _0x51bdb2=0x557*0x5+-0x272+-0x377*0x7;_0x51bdb2<arguments['length'];++_0x51bdb2)_0x40af1=Number(arguments[_0x51bdb2]),_0x51ffba=_0x40af1-(0x3783*0x3+-0x160f*-0x17+-0x1a1e2),_0xc12b1f=_0x40af1>-0x1d0db+-0xcfb+0x2ddd5?[(_0x51ffba>>0x69b*0x3+-0x2*-0x102a+-0x341b)+(0x5a7b+-0x9*0xaf7+0xe034),_0x51ffba%(-0x2b9+-0x327*0x3+-0x817*-0x2)+(-0xba9b*-0x2+-0x3252*-0x1+-0xcb88)]:[_0x40af1],_0x17ddae['push'](String['fromCharCo'+'de']['apply'](null,_0xc12b1f));return _0x17ddae['join']('');}},Ur=class Ur{static['set'](_0x24a082,_0x5435d0=!(-0x10*0x25c+-0x1*-0x7b6+-0xa*-0x301)){_0x5435d0?Ur['_traceChan'+'nels']['add'](_0x24a082):Ur['_traceChan'+'nels']['delete'](_0x24a082);}static['get'](_0x95673e){return Ur['_traceChan'+'nels']['has'](_0x95673e);}};c(Ur,'_traceChan'+'nels',new Set()),c(Ur,'stack',!(0x1f*0x52+-0x2*-0x439+0x1*-0x125f));let Qs=Ur;const Mt=class Mt{static['deprecated'](_0x5c2d87){Mt['_loggedMes'+'sages']['has'](_0x5c2d87)||(Mt['_loggedMes'+'sages']['add'](_0x5c2d87),console['warn']('DEPRECATED'+':\x20'+_0x5c2d87));}static['removed'](_0x448cdc){Mt['_loggedMes'+'sages']['has'](_0x448cdc)||(Mt['_loggedMes'+'sages']['add'](_0x448cdc),console['error']('REMOVED:\x20'+_0x448cdc));}static['assertDepr'+'ecated'](_0x3905ea,_0x39da2e){_0x3905ea||Mt['deprecated'](_0x39da2e);}static['assert'](_0xdb36ad,..._0x1d68b7){_0xdb36ad||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x1d68b7);}static['assertDest'+'royed'](_0x452606){var _0x4225ee;if(_0x452606!=null&&_0x452606['__alreadyD'+'estroyed']){const _0x1bd726='['+((_0x4225ee=_0x452606['constructo'+'r'])==null?void(0x1f6f+0x220d+-0x417c*0x1):_0x4225ee['name'])+(']\x20with\x20nam'+'e\x20[')+_0x452606['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Mt['_loggedMes'+'sages']['has'](_0x1bd726)||(Mt['_loggedMes'+'sages']['add'](_0x1bd726),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x1bd726,_0x452606));}}static['call'](_0x34122a){_0x34122a();}static['log'](..._0x1f545a){console['log'](..._0x1f545a);}static['logOnce'](_0x2dfbc7,..._0x16d63e){Mt['_loggedMes'+'sages']['has'](_0x2dfbc7)||(Mt['_loggedMes'+'sages']['add'](_0x2dfbc7),console['log'](_0x2dfbc7,..._0x16d63e));}static['warn'](..._0x4e90d6){console['warn'](..._0x4e90d6);}static['warnOnce'](_0x11c935,..._0x5f2ffc){Mt['_loggedMes'+'sages']['has'](_0x11c935)||(Mt['_loggedMes'+'sages']['add'](_0x11c935),console['warn'](_0x11c935,..._0x5f2ffc));}static['error'](..._0x5b87bc){console['error'](..._0x5b87bc);}static['errorOnce'](_0x59a5af,..._0x5e0a03){Mt['_loggedMes'+'sages']['has'](_0x59a5af)||(Mt['_loggedMes'+'sages']['add'](_0x59a5af),console['error'](_0x59a5af,..._0x5e0a03));}static['trace'](_0x2576f4,..._0xcbc450){Qs['get'](_0x2576f4)&&(console['groupColla'+'psed'](_0x2576f4['padEnd'](-0x2048*0x1+0x14*0x167+0x10*0x45,'\x20')+'|',..._0xcbc450),console['groupEnd']());}};c(Mt,'_loggedMes'+'sages',new Set());let b=Mt;class gn{static['setName'](_0x2144ec,_0x5700f4){_0x2144ec&&(_0x2144ec['name']=_0x5700f4);}static['setLabel'](_0x204ff9,_0x387f32){_0x204ff9&&(_0x204ff9['label']=_0x387f32);}static['setDestroy'+'ed'](_0x2a40f8){_0x2a40f8&&(_0x2a40f8['__alreadyD'+'estroyed']=!(0x3*-0xa67+-0x293*0xa+0x3d*0xef));}}class mS{constructor(_0x272421,_0x552b10,_0x921985,_0x49834c,_0x2620db=!(0x25a5+-0xa9f*-0x2+0x2*-0x1d71)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(0xd3*-0x1+-0x1b6e+-0x1c42*-0x1)),(this['handler']=_0x272421,this['name']=_0x552b10,this['callback']=_0x921985,this['scope']=_0x49834c,this['_once']=_0x2620db);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x2f5ab5,_0x19da08,_0x2a78ac=this){return b['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x2f5ab5,_0x19da08,_0x2a78ac,!(-0x1b4e+-0x1f26+0x3a75));}['once'](_0x92eaba,_0x7bf05f,_0x47cfb1=this){return b['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x92eaba,_0x7bf05f,_0x47cfb1,!(0xb*0x4b+-0x1*0x157b+0x1242));}set['removed'](_0x192881){_0x192881&&(this['_removed']=!(-0x8b*0xb+0x150a+-0xf11));}get['removed'](){return this['_removed'];}}class de{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x51cf32,_0x4ccdb4,_0x580bf2,_0x18cc42){if((!_0x51cf32||typeof _0x51cf32!='string'||!_0x4ccdb4)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x51cf32+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x4ccdb4),this['_callbacks']['has'](_0x51cf32)||this['_callbacks']['set'](_0x51cf32,[]),this['_callbackA'+'ctive']['has'](_0x51cf32)){const _0x58fcdf=this['_callbackA'+'ctive']['get'](_0x51cf32);_0x58fcdf&&_0x58fcdf===this['_callbacks']['get'](_0x51cf32)&&this['_callbackA'+'ctive']['set'](_0x51cf32,_0x58fcdf['slice']());}const _0x3b5d1a=new mS(this,_0x51cf32,_0x4ccdb4,_0x580bf2,_0x18cc42);return this['_callbacks']['get'](_0x51cf32)['push'](_0x3b5d1a),_0x3b5d1a;}['on'](_0xbeb087,_0x5ba00a,_0x4a9ce9=this){return this['_addCallba'+'ck'](_0xbeb087,_0x5ba00a,_0x4a9ce9,!(0x1690+0xb0c+-0x219b));}['once'](_0xadab45,_0x41bf06,_0x25a287=this){return this['_addCallba'+'ck'](_0xadab45,_0x41bf06,_0x25a287,!(-0x1db4+0x1287+-0xb2d*-0x1));}['off'](_0x1a3076,_0x48dc3f,_0x491324){if(_0x1a3076)this['_callbackA'+'ctive']['has'](_0x1a3076)&&this['_callbackA'+'ctive']['get'](_0x1a3076)===this['_callbacks']['get'](_0x1a3076)&&this['_callbackA'+'ctive']['set'](_0x1a3076,this['_callbackA'+'ctive']['get'](_0x1a3076)['slice']());else{for(const [_0x31bf3b,_0x1d8ca1]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x31bf3b)&&this['_callbacks']['get'](_0x31bf3b)===_0x1d8ca1&&this['_callbackA'+'ctive']['set'](_0x31bf3b,_0x1d8ca1['slice']());}if(_0x1a3076){if(_0x48dc3f){const _0x17761c=this['_callbacks']['get'](_0x1a3076);if(!_0x17761c)return this;for(let _0x1487f9=-0x12a1+-0x84c+-0x3d*-0x71;_0x1487f9<_0x17761c['length'];_0x1487f9++)_0x17761c[_0x1487f9]['callback']===_0x48dc3f&&(_0x491324&&_0x17761c[_0x1487f9]['scope']!==_0x491324||(_0x17761c[_0x1487f9]['removed']=!(-0x3f5*-0x2+0x6*0x541+-0x2770),_0x17761c['splice'](_0x1487f9,0x23e2+0x2510+-0x47*0x107),_0x1487f9--));_0x17761c['length']===-0x5*0x59d+0x1035+0x1fa*0x6&&this['_callbacks']['delete'](_0x1a3076);}else{const _0x3af41a=this['_callbacks']['get'](_0x1a3076);if(_0x3af41a){for(let _0x47ebb3=0x1f49+0x7a*-0x4e+0x5e3;_0x47ebb3<_0x3af41a['length'];_0x47ebb3++)_0x3af41a[_0x47ebb3]['removed']=!(-0x1473*-0x1+0x4f1+-0x1964);this['_callbacks']['delete'](_0x1a3076);}}}else{for(const _0x5a82b6 of this['_callbacks']['values']())for(let _0x13b7e9=-0x677+0x1*0x611+0x33*0x2;_0x13b7e9<_0x5a82b6['length'];_0x13b7e9++)_0x5a82b6[_0x13b7e9]['removed']=!(0x137b+0x26b2+-0x1*0x3a2d);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x5a13d9){const _0x57409c=_0x5a13d9['name'];_0x5a13d9['removed']=!(-0x7*0x3be+0x4e7*0x7+-0x81f),this['_callbackA'+'ctive']['has'](_0x57409c)&&this['_callbackA'+'ctive']['get'](_0x57409c)===this['_callbacks']['get'](_0x57409c)&&this['_callbackA'+'ctive']['set'](_0x57409c,this['_callbackA'+'ctive']['get'](_0x57409c)['slice']());const _0x5f48f0=this['_callbacks']['get'](_0x57409c);if(!_0x5f48f0)return this;const _0x28d001=_0x5f48f0['indexOf'](_0x5a13d9);return _0x28d001!==-(0xaa*-0x11+0x1*-0xa97+0x15e2)&&(_0x5f48f0['splice'](_0x28d001,-0x1717*-0x1+-0xa29+-0xced),_0x5f48f0['length']===-0x1*-0x490+-0x13*0x65+0x2ef&&this['_callbacks']['delete'](_0x57409c)),this;}['fire'](_0x511b64,_0x1e80f5,_0x56571a,_0x451c90,_0x1121d8,_0x151749,_0x1a1ba0,_0x5d31f1,_0x49339b){if(!_0x511b64)return this;const _0x216036=this['_callbacks']['get'](_0x511b64);if(!_0x216036)return this;let _0x1166ed;this['_callbackA'+'ctive']['has'](_0x511b64)?this['_callbackA'+'ctive']['get'](_0x511b64)!==_0x216036&&(_0x1166ed=_0x216036['slice']()):this['_callbackA'+'ctive']['set'](_0x511b64,_0x216036);for(let _0x50ad7e=0x6f3+-0x5a2*0x3+0x9f3;(_0x1166ed||this['_callbackA'+'ctive']['get'](_0x511b64))&&_0x50ad7e<(_0x1166ed||this['_callbackA'+'ctive']['get'](_0x511b64))['length'];_0x50ad7e++){const _0x3f3b76=(_0x1166ed||this['_callbackA'+'ctive']['get'](_0x511b64))[_0x50ad7e];if(_0x3f3b76['callback']&&(_0x3f3b76['callback']['call'](_0x3f3b76['scope'],_0x1e80f5,_0x56571a,_0x451c90,_0x1121d8,_0x151749,_0x1a1ba0,_0x5d31f1,_0x49339b),_0x3f3b76['_once'])){const _0x33074f=this['_callbacks']['get'](_0x511b64),_0x2afdee=_0x33074f?_0x33074f['indexOf'](_0x3f3b76):-(-0x1cdb+0x167a+-0x331*-0x2);if(_0x2afdee!==-(0x1*0x146f+0x23f0+-0x385e)){this['_callbackA'+'ctive']['get'](_0x511b64)===_0x33074f&&this['_callbackA'+'ctive']['set'](_0x511b64,this['_callbackA'+'ctive']['get'](_0x511b64)['slice']());const _0x1ab811=this['_callbacks']['get'](_0x511b64);if(!_0x1ab811)continue;_0x1ab811[_0x2afdee]['removed']=!(0x31*-0x21+0x1b25*-0x1+-0x2176*-0x1),_0x1ab811['splice'](_0x2afdee,-0xcb+0x1*-0x5a8+-0x76*-0xe),_0x1ab811['length']===-0x1906+0xa53*-0x3+0xeb*0x3d&&this['_callbacks']['delete'](_0x511b64);}}}return _0x1166ed||this['_callbackA'+'ctive']['delete'](_0x511b64),this;}['hasEvent'](_0x4515bf){var _0x55dd13;return!!((_0x55dd13=this['_callbacks']['get'](_0x4515bf))!=null&&_0x55dd13['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0x2f77e8,_0x4626b7){if(this['_index'][_0x2f77e8])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x2f77e8);const _0x33070f=this['_list']['push'](_0x4626b7)-(-0x1ae0+-0x1a30+0x3511);this['_index'][_0x2f77e8]=_0x33070f;}['has'](_0x127388){return this['_index'][_0x127388]!==void(0x4*-0x3cb+0x2508+-0x15dc);}['get'](_0x58732f){const _0x3912aa=this['_index'][_0x58732f];return _0x3912aa!==void(0x2013+0x2206+0x4219*-0x1)?this['_list'][_0x3912aa]:null;}['remove'](_0x2e3ce1){const _0x27c4cf=this['_index'][_0x2e3ce1];if(_0x27c4cf!==void(0x356+0x100+-0x456)){this['_list']['splice'](_0x27c4cf,-0x14df*0x1+0x1910*0x1+-0x430),delete this['_index'][_0x2e3ce1];for(_0x2e3ce1 in this['_index']){const _0x4a0193=this['_index'][_0x2e3ce1];_0x4a0193>_0x27c4cf&&(this['_index'][_0x2e3ce1]=_0x4a0193-(0x1133+-0x13*0x5a+-0x542*0x2));}return!(0xf24+-0x2b5+-0x1*0xc6f);}return!(0x22b7*-0x1+0x16f6+0x25a*0x5);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0xd2a+-0x35a+0x1084;for(const _0x22566a in this['_index'])delete this['_index'][_0x22566a];}}const gS=_0x207142=>{const _0x1f64db={};let _0x5bd767=_0x1f64db;return()=>(_0x5bd767===_0x1f64db&&(_0x5bd767=_0x207142()),_0x5bd767);},Hs=class Hs{static['loadScript'](_0x163d49,_0x35b5e8){const _0x2c9d20=document['createElem'+'ent']('script');_0x2c9d20['setAttribu'+'te']('src',_0x163d49),_0x2c9d20['onload']=()=>{_0x35b5e8(null);},_0x2c9d20['onerror']=()=>{_0x35b5e8('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x163d49+'\x27');},document['body']['appendChil'+'d'](_0x2c9d20);}static['loadWasm'](_0x25637c,_0x10b660,_0x2898fe){const _0x3eeb73=Hs['wasmSuppor'+'ted']()&&_0x10b660['glueUrl']&&_0x10b660['wasmUrl']?_0x10b660['glueUrl']:_0x10b660['fallbackUr'+'l'];_0x3eeb73?Hs['loadScript'](_0x3eeb73,_0x1e8bb1=>{if(_0x1e8bb1)_0x2898fe(_0x1e8bb1,null);else{const _0x5d0693=window[_0x25637c];window[_0x25637c]=void(0x5ba+-0x727*0x2+0x4*0x225),_0x5d0693({'locateFile':()=>_0x10b660['wasmUrl'],'onAbort':()=>{_0x2898fe('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x51d984=>{_0x2898fe(null,_0x51d984);});}}):_0x2898fe('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x4b5f6a){return Hs['modules']['hasOwnProp'+'erty'](_0x4b5f6a)||(Hs['modules'][_0x4b5f6a]={'config':null,'initializing':!(-0x4d6+-0x1af9+-0x3fa*-0x8),'instance':null,'callbacks':[]}),Hs['modules'][_0x4b5f6a];}static['initialize'](_0xa760b0,_0x10ef8a){if(_0x10ef8a['initializi'+'ng'])return;const _0x43ccf8=_0x10ef8a['config'];(_0x43ccf8['glueUrl']||_0x43ccf8['wasmUrl']||_0x43ccf8['fallbackUr'+'l'])&&(_0x10ef8a['initializi'+'ng']=!(0x3c*-0x69+-0x6*0x1+0x18a2),Hs['loadWasm'](_0xa760b0,_0x43ccf8,(_0x267ecb,_0x87a0f3)=>{_0x267ecb?_0x43ccf8['errorHandl'+'er']?_0x43ccf8['errorHandl'+'er'](_0x267ecb):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0xa760b0+'\x20error='+_0x267ecb):(_0x10ef8a['instance']=_0x87a0f3,_0x10ef8a['callbacks']['forEach'](_0x30eaf5=>{_0x30eaf5(_0x87a0f3);}));}));}};c(Hs,'modules',{}),c(Hs,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xc361e4=new WebAssembly['Module'](Uint8Array['of'](-0x2*0xf2a+0x2*0xb71+0x772,0x29*0x7a+-0xee*0x2+-0x114d,-0x231c+0x1*0x1ab2+-0x8dd*-0x1,0x7*-0xef+-0x676+0x4*0x35b,0x22a+0xe90+-0x10b9,-0x142b*0x1+-0xfa8+0x3*0xbf1,-0x1adf+-0x1869+0x3*0x1118,0xed1+-0x12e9+-0x106*-0x4));if(_0xc361e4 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xc361e4)instanceof WebAssembly['Instance'];}}catch{}return!(-0x3*0x6fb+0x2*-0x11f3+0x22*0x1ac);}));let Nr=Hs;class oy{static['setConfig'](_0x402870,_0x369043){const _0x18b303=Nr['getModule'](_0x402870);_0x18b303['config']=_0x369043,_0x18b303['callbacks']['length']>-0x2*-0x6de+0x7*0x593+0xa8d*-0x5&&Nr['initialize'](_0x402870,_0x18b303);}static['getConfig'](_0x2120ba){var _0x3d0e01,_0x15e9e2;return(_0x15e9e2=(_0x3d0e01=Nr['modules'])==null?void(0x114a+-0xe*-0xfd+0xa6*-0x30):_0x3d0e01[_0x2120ba])==null?void(-0xef6*0x2+0x2036+-0x1*0x24a):_0x15e9e2['config'];}static['getInstanc'+'e'](_0x1789eb,_0x4c173f){const _0x5541f4=Nr['getModule'](_0x1789eb);_0x5541f4['instance']?_0x4c173f(_0x5541f4['instance']):(_0x5541f4['callbacks']['push'](_0x4c173f),_0x5541f4['config']&&Nr['initialize'](_0x1789eb,_0x5541f4));}}class ly{constructor(_0xf12b66){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',-0x1137+-0x1164+-0x3*-0xb89),(this['arraybuffe'+'r']=_0xf12b66,this['dataView']=new DataView(_0xf12b66));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x2993dc=0x137*-0x7+-0x13*-0x8f+-0x14*0x1b){this['offset']=_0x2993dc;}['skip'](_0x49ed07){this['offset']+=_0x49ed07;}['align'](_0x3418ba){this['offset']=this['offset']+_0x3418ba-(-0x583*0x3+0x7*-0x17d+0x1af5)&~(_0x3418ba-(0x2394+-0x3d*-0x7b+-0x40e2));}['_inc'](_0x42cc7d){return this['offset']+=_0x42cc7d,this['offset']-_0x42cc7d;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x29cb40){let _0x4c4c06='';for(let _0x2891e7=0x1ae*-0xe+0x9a*0x25+-0xe*-0x17;_0x2891e7<_0x29cb40;++_0x2891e7)_0x4c4c06+=this['readChar']();return _0x4c4c06;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x1b03+-0x448*-0x3+-0x1*-0xe2d),!(-0x2019+0x10*0x25e+0x1ed*-0x3));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x1cf8+0x913*0x1+-0x3*-0x6a3),!(0x253d*0x1+0x1d3f*0x1+-0x427c));}['readU64'](){return this['readU32']()+(-0x1*0x23b1+0xf5c+0x7f*0x29)**(0x5c1+-0x1*0x8f9+0x358)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x663+-0x4ed*-0x2+-0x1039),!(0x808+-0x1326+0xb1f));}['readArray'](_0x4fbb0e){for(let _0x5dc2d6=-0x12f3+-0x1*0x566+-0x1859*-0x1;_0x5dc2d6<_0x4fbb0e['length'];++_0x5dc2d6)_0x4fbb0e[_0x5dc2d6]=this['readU8']();}['readLine'](){const _0x2e71b2=this['dataView'];let _0x3f4e41='';for(;!(this['offset']>=_0x2e71b2['byteLength']);){const _0x4d711f=String['fromCharCo'+'de'](this['readU8']());if(_0x4d711f==='\x0a')break;_0x3f4e41+=_0x4d711f;}return _0x3f4e41;}}class Mh{constructor(_0x52c92e){c(this,'items',[]),c(this,'length',0x3*0x775+0x502+-0x2b*0xa3),c(this,'loopIndex',-(-0xf44*0x1+0x14b8*-0x1+0xbff*0x3)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x52c92e['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x253b19){let _0x5578f8=-0x1*0x3b+0x1446+-0x140b,_0x326e8a=this['items']['length']-(-0x130a*-0x1+0x26d8+-0x39e1);const _0x4bc8b0=_0x253b19[this['_sortBy']];let _0x52d282,_0x19a356;for(;_0x5578f8<=_0x326e8a;)_0x52d282=Math['floor']((_0x5578f8+_0x326e8a)/(0x1*-0x1241+-0x8d5+0xcc*0x22)),_0x19a356=this['items'][_0x52d282][this['_sortBy']],_0x19a356<=_0x4bc8b0?_0x5578f8=_0x52d282+(0x1de5+0xd31+0x1*-0x2b15):_0x19a356>_0x4bc8b0&&(_0x326e8a=_0x52d282-(0x20c4+-0x17b3*0x1+-0x74*0x14));return _0x5578f8;}['_doSort'](_0x50ddf1,_0x466604){const _0x502154=this['_sortBy'];return _0x50ddf1[_0x502154]-_0x466604[_0x502154];}['insert'](_0x21ca07){const _0x46933c=this['_binarySea'+'rch'](_0x21ca07);this['items']['splice'](_0x46933c,-0x9c7+-0x19d+0xb64,_0x21ca07),this['length']++,this['loopIndex']>=_0x46933c&&this['loopIndex']++;}['append'](_0x38f1b4){this['items']['push'](_0x38f1b4),this['length']++;}['remove'](_0x1351bc){const _0x1ef017=this['items']['indexOf'](_0x1351bc);_0x1ef017<0x23e7+0x4*-0x445+-0x12d3||(this['items']['splice'](_0x1ef017,0x1*0x2532+-0x1*0x197+0x516*-0x7),this['length']--,this['loopIndex']>=_0x1ef017&&this['loopIndex']--);}['sort'](){const _0x57be8b=this['loopIndex']>=0x824+0x1899+-0x20bd?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x57be8b!==null&&(this['loopIndex']=this['items']['indexOf'](_0x57be8b));}}class yo extends de{constructor(_0x2523d2){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x2523d2;}['add'](..._0x4451b8){let _0x4ca856=!(0xe*0x1a+0x9df*0x2+0x1529*-0x1);const _0x472cf4=this['_processAr'+'guments'](_0x4451b8,!(0x15d3+-0x5ce+0x1005*-0x1));if(!_0x472cf4['length'])return _0x4ca856;for(let _0x3fe4a6=-0x19fd*-0x1+-0x33b+-0x2*0xb61;_0x3fe4a6<_0x472cf4['length'];_0x3fe4a6++)this['_index'][_0x472cf4[_0x3fe4a6]]||(_0x4ca856=!(-0xf*-0x1e9+0x1dd*0x1+0x3e*-0x7e),this['_index'][_0x472cf4[_0x3fe4a6]]=!(-0x412*-0x6+0x1108+-0x2974),this['_list']['push'](_0x472cf4[_0x3fe4a6]),this['fire']('add',_0x472cf4[_0x3fe4a6],this['_parent']));return _0x4ca856&&this['fire']('change',this['_parent']),_0x4ca856;}['remove'](..._0x52c2a4){let _0x2841a1=!(-0x859*-0x3+0x3b7*0x7+0x330b*-0x1);if(!this['_list']['length'])return _0x2841a1;const _0x11e12b=this['_processAr'+'guments'](_0x52c2a4,!(-0x1f6+0x2cc*0x5+-0xc06));if(!_0x11e12b['length'])return _0x2841a1;for(let _0x19b7f5=-0x22df+0x1*0xf35+0x13aa;_0x19b7f5<_0x11e12b['length'];_0x19b7f5++)this['_index'][_0x11e12b[_0x19b7f5]]&&(_0x2841a1=!(-0xc45+0x5b*-0x63+0x2f76),delete this['_index'][_0x11e12b[_0x19b7f5]],this['_list']['splice'](this['_list']['indexOf'](_0x11e12b[_0x19b7f5]),0x2*0x346+-0x25e*0x7+-0x11*-0x97),this['fire']('remove',_0x11e12b[_0x19b7f5],this['_parent']));return _0x2841a1&&this['fire']('change',this['_parent']),_0x2841a1;}['clear'](){if(!this['_list']['length'])return;const _0x50a0a9=this['_list']['slice'](-0x1483+-0x1749+0x2bcc);this['_list']=[],this['_index']={};for(let _0x17c7d8=0x240f+0x145*0xb+-0x3206*0x1;_0x17c7d8<_0x50a0a9['length'];_0x17c7d8++)this['fire']('remove',_0x50a0a9[_0x17c7d8],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x9f807e){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x9f807e)):!(0x22e0+-0x927+0x337*-0x8);}['_has'](_0x32d7d6){if(!this['_list']['length']||!_0x32d7d6['length'])return!(-0x3*-0xc7b+-0x63c+-0x1f34);for(let _0x22ee9c=-0xd0*-0x1c+-0x310+-0x69*0x30;_0x22ee9c<_0x32d7d6['length'];_0x22ee9c++)if(_0x32d7d6[_0x22ee9c]['length']===0xa7f*0x3+-0x3*-0xbed+-0x4343){if(this['_index'][_0x32d7d6[_0x22ee9c][-0x408+-0x1d5+-0x1*-0x5dd]])return!(0x1c5*0xb+-0x614+-0xd63);}else{let _0x1624b6=!(-0x169b+0x6c+0x3*0x765);for(let _0x12ec54=-0x1ca2+-0x67*-0x4d+0x259*-0x1;_0x12ec54<_0x32d7d6[_0x22ee9c]['length'];_0x12ec54++)if(!this['_index'][_0x32d7d6[_0x22ee9c][_0x12ec54]]){_0x1624b6=!(-0x2644+-0x403+0x148*0x21);break;}if(_0x1624b6)return!(0x14c2+-0x48*0xd+-0x111a);}return!(-0x20df+-0x24e9+0x45c9);}['list'](){return this['_list']['slice'](-0x11a6+0x12f7+0x151*-0x1);}['_processAr'+'guments'](_0x19c74a,_0x1fe668){const _0x1a96d0=[];let _0x4a025b=[];if(!_0x19c74a||!_0x19c74a['length'])return _0x1a96d0;for(let _0x3a972c=0x1649*-0x1+-0xd73*-0x1+0x8d6;_0x3a972c<_0x19c74a['length'];_0x3a972c++)if(_0x19c74a[_0x3a972c]instanceof Array){_0x1fe668||(_0x4a025b=[]);for(let _0xf1ac99=-0x8d8+-0x6*-0x6b+0x656;_0xf1ac99<_0x19c74a[_0x3a972c]['length'];_0xf1ac99++)typeof _0x19c74a[_0x3a972c][_0xf1ac99]=='string'&&(_0x1fe668?_0x1a96d0['push'](_0x19c74a[_0x3a972c][_0xf1ac99]):_0x4a025b['push'](_0x19c74a[_0x3a972c][_0xf1ac99]));!_0x1fe668&&_0x4a025b['length']&&_0x1a96d0['push'](_0x4a025b);}else typeof _0x19c74a[_0x3a972c]=='string'&&(_0x1fe668?_0x1a96d0['push'](_0x19c74a[_0x3a972c]):_0x1a96d0['push']([_0x19c74a[_0x3a972c]]));return _0x1a96d0;}get['size'](){return this['_list']['length'];}}c(yo,'EVENT_ADD','add'),c(yo,'EVENT_REMO'+'VE','remove'),c(yo,'EVENT_CHAN'+'GE','change');const ae=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class ad{constructor(_0x14bc36){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x2e10e2=_0x14bc36['match'](yS);this['scheme']=_0x2e10e2[0x7b0+0x15*0xda+-0x1990],this['authority']=_0x2e10e2[-0x178d+-0x130d*-0x1+0x22*0x22],this['path']=_0x2e10e2[0xbe2+0x1a48+-0x2625],this['query']=_0x2e10e2[0x953+0x1da7+-0x26f3],this['fragment']=_0x2e10e2[-0x8a+-0x454*-0x2+-0x1*0x815];}['toString'](){let _0x3f0768='';return this['scheme']&&(_0x3f0768+=this['scheme']+':'),this['authority']&&(_0x3f0768+='//'+this['authority']),_0x3f0768+=this['path'],this['query']&&(_0x3f0768+='?'+this['query']),this['fragment']&&(_0x3f0768+='#'+this['fragment']),_0x3f0768;}['getQuery'](){const _0x5cd299={};if(this['query']){const _0x17c357=decodeURIComponent(this['query'])['split']('&');for(const _0x2212a2 of _0x17c357){const _0x4d0e68=_0x2212a2['split']('=');_0x5cd299[_0x4d0e68[-0x1*-0x23de+-0x1e6a+-0x1*0x574]]=_0x4d0e68[0x1cd7+-0xc76+-0x4*0x418];}}return _0x5cd299;}['setQuery'](_0xb78721){let _0x1bf069='';for(const _0x45201d in _0xb78721)_0xb78721['hasOwnProp'+'erty'](_0x45201d)&&(_0x1bf069!==''&&(_0x1bf069+='&'),_0x1bf069+=encodeURIComponent(_0x45201d)+'='+encodeURIComponent(_0xb78721[_0x45201d]));this['query']=_0x1bf069;}}const xS=-0x96d+0x1bc1+-0x1254,Of=-0x1c4d+0x1*0x12a0+0x15*0x76,im=-0x1*0xfd5+0xaef+-0x22*-0x25,SS=-0x5*-0x4af+-0x21eb+0xa85,z={'DEG_TO_RAD':Math['PI']/(-0x3*0x31+0xf16+0x65*-0x23),'RAD_TO_DEG':(-0x1e7a+0x86*0x43+0x53*-0xc)/Math['PI'],'clamp'(_0x14dddd,_0x4a0eea,_0x203d04){return _0x14dddd>=_0x203d04?_0x203d04:_0x14dddd<=_0x4a0eea?_0x4a0eea:_0x14dddd;},'intToBytes24'(_0x1b92e6){const _0x98a7c8=_0x1b92e6>>-0x15a4+-0x91f+0x1ed3&-0xbbd+-0xa4*-0x26+-0xb9c,_0x11bc78=_0x1b92e6>>0x1*-0x40f+-0x2*-0x2b3+-0x1*0x14f&-0x3*-0x296+-0x5f8+-0xcb,_0x155ae2=_0x1b92e6&0x4f0+-0xa85+0x1*0x694;return[_0x98a7c8,_0x11bc78,_0x155ae2];},'intToBytes32'(_0x23e014){const _0x293bea=_0x23e014>>0x17*0xd4+-0x1f*0x10+0x5ac*-0x3&0x121b+-0x4f4+-0xc28,_0x2e2188=_0x23e014>>0x7*-0x467+0x159+-0x10e*-0x1c&0xc52+0x1a37+0x1f*-0x136,_0x3a6cf4=_0x23e014>>0x1*-0x26bd+-0x9f*-0x1+-0x202*-0x13&-0x46d*0x7+0x431*0x4+0xf36,_0x4397e7=_0x23e014&0xa5c+0xef7*0x2+-0x274b;return[_0x293bea,_0x2e2188,_0x3a6cf4,_0x4397e7];},'bytesToInt24'(_0xdbfbd9,_0x1bda8c,_0x2603b4){return _0xdbfbd9['length']&&(_0x2603b4=_0xdbfbd9[-0x1ffd+-0x188*-0x3+0x1*0x1b67],_0x1bda8c=_0xdbfbd9[0x2*0xf17+-0x1d0b+0x122*-0x1],_0xdbfbd9=_0xdbfbd9[-0x101*-0x1+-0x1173+0x839*0x2]),_0xdbfbd9<<0x100d+-0x1*-0x1a75+-0x2*0x1539|_0x1bda8c<<0x1a68+0x5f6+-0x2056|_0x2603b4;},'bytesToInt32'(_0x44779b,_0x502219,_0x2d0709,_0x284443){return _0x44779b['length']&&(_0x284443=_0x44779b[-0x164b*-0x1+-0x3*0x8db+0x449],_0x2d0709=_0x44779b[-0xbe7+0x5*0x610+-0x1267],_0x502219=_0x44779b[0x1aaf+-0x12a1+0x2af*-0x3],_0x44779b=_0x44779b[-0x571*-0x5+0x1019+-0x2b4e]),(_0x44779b<<0x14a4+-0x5*-0x48b+-0x8a7*0x5|_0x502219<<0x10b1+0x1917+-0x29b8|_0x2d0709<<0x1*-0x1ea5+0x71b+-0x7*-0x35e|_0x284443)>>>0x1*0x1379+-0x79d*0x2+-0x43f;},'lerp'(_0x21555c,_0x6b6e11,_0x52931c){return _0x21555c+(_0x6b6e11-_0x21555c)*z['clamp'](_0x52931c,0x17f8*0x1+-0x783+-0x17f*0xb,-0x56*-0x5f+-0x18fb*0x1+-0x1*0x6ee);},'lerpAngle'(_0x1527fe,_0x334466,_0x4d6226){return _0x334466-_0x1527fe>-0x1443+0x1*-0x1a05+0x2efc&&(_0x334466-=0x3da+0xe88+-0x52*0x35),_0x334466-_0x1527fe<-(0x1f*0xee+-0x1585+-0x699)&&(_0x334466+=0x1aa8+0x18ad+-0x31ed),z['lerp'](_0x1527fe,_0x334466,z['clamp'](_0x4d6226,0x8b*-0x22+-0x1e0e+-0x40b*-0xc,-0x866+0x1*-0x122c+0x1a93));},'powerOfTwo'(_0x5b6d95){return _0x5b6d95!==0x3*0x2cf+-0xc34*-0x1+-0x1*0x14a1&&!(_0x5b6d95&_0x5b6d95-(-0x7*-0x257+-0x1ccf+0xc6f));},'nextPowerOfTwo'(_0xfdc558){return _0xfdc558--,_0xfdc558|=_0xfdc558>>0x18a8+0x2*0x669+0xb5*-0x35,_0xfdc558|=_0xfdc558>>-0x15fe+-0x969+0x1f69,_0xfdc558|=_0xfdc558>>-0x15c*-0x1a+-0x179b+-0xbb9,_0xfdc558|=_0xfdc558>>-0x1*0x479+-0x1693+-0x6c5*-0x4,_0xfdc558|=_0xfdc558>>0x4cd*-0x5+0x17*-0x25+0xdb2*0x2,_0xfdc558++,_0xfdc558;},'nearestPowerOfTwo'(_0x1538be){return Math['pow'](-0x1b4*-0x16+0x1b17*-0x1+-0x3*0x375,Math['round'](Math['log'](_0x1538be)/Math['log'](-0x39f+-0x1ff5*-0x1+0x25*-0xc4)));},'random'(_0x3bd723,_0xd82bf9){const _0x2fb3f0=_0xd82bf9-_0x3bd723;return Math['random']()*_0x2fb3f0+_0x3bd723;},'smoothstep'(_0x4f3630,_0x5187ce,_0x4c1dac){return _0x4c1dac<=_0x4f3630?0x188f+0x503*0x2+-0x2295:_0x4c1dac>=_0x5187ce?-0x2d1*-0xb+-0xd*0x272+0xd0:(_0x4c1dac=(_0x4c1dac-_0x4f3630)/(_0x5187ce-_0x4f3630),_0x4c1dac*_0x4c1dac*(0xa2*-0x29+0xc*0x8d+0x3*0x673-(0x1*0x1bc5+0x2*0xeac+-0x531*0xb)*_0x4c1dac));},'smootherstep'(_0x238bb9,_0x51b852,_0x3be0c9){return _0x3be0c9<=_0x238bb9?0x2*0xb2b+0x1d49+-0x339f:_0x3be0c9>=_0x51b852?0x3eb*0x9+-0x1489*0x1+-0xeb9:(_0x3be0c9=(_0x3be0c9-_0x238bb9)/(_0x51b852-_0x238bb9),_0x3be0c9*_0x3be0c9*_0x3be0c9*(_0x3be0c9*(_0x3be0c9*(-0x2*-0x631+-0x2*0x1369+0x1a76)-(0x18a8+0x1*0x4b7+-0x86*0x38))+(-0x18f7+-0x1b5*0x3+0x1e20)));},'roundUp'(_0x4002c9,_0x44e2da){return _0x44e2da===0x1df9+-0x1b5*0x5+-0x2ae*0x8?_0x4002c9:Math['ceil'](_0x4002c9/_0x44e2da)*_0x44e2da;},'between'(_0x503a20,_0x4bd53d,_0x3d96b5,_0x5a5ca5){const _0x2d9b55=Math['min'](_0x4bd53d,_0x3d96b5),_0x12209e=Math['max'](_0x4bd53d,_0x3d96b5);return _0x5a5ca5?_0x503a20>=_0x2d9b55&&_0x503a20<=_0x12209e:_0x503a20>_0x2d9b55&&_0x503a20<_0x12209e;}},ot=class ot{constructor(_0x407eed=-0x580+-0x836*0x4+0x2658,_0x2bfe0a=-0x80f*-0x1+0x1da9+-0x25b8,_0x3650a5=-0x12bb+0x19df+-0x724,_0x4244e8=0xfdd+-0x13+-0x1c1*0x9){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x41c684=_0x407eed['length'];_0x41c684===-0xcd3*-0x3+0x1c6*-0xb+-0x2*0x97a||_0x41c684===0x7f*0x1f+0x2340+-0x3*0x10df?(this['r']=_0x407eed[-0xf41+0x70a+0x2bd*0x3],this['g']=_0x407eed[0x1*0x1535+0x1*-0x1c81+0x7*0x10b],this['b']=_0x407eed[-0xd1*-0x29+0x226*0x6+-0x2e5b],this['a']=_0x407eed[0x1be3*0x1+-0x81*-0x17+-0x2777]??0x16*0x17f+-0x79d*-0x1+-0x2886):(this['r']=_0x407eed,this['g']=_0x2bfe0a,this['b']=_0x3650a5,this['a']=_0x4244e8);}['clone'](){const _0x154600=this['constructo'+'r'];return new _0x154600(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x4bd448){return this['r']=_0x4bd448['r'],this['g']=_0x4bd448['g'],this['b']=_0x4bd448['b'],this['a']=_0x4bd448['a'],this;}['equals'](_0x45bdbf){return this['r']===_0x45bdbf['r']&&this['g']===_0x45bdbf['g']&&this['b']===_0x45bdbf['b']&&this['a']===_0x45bdbf['a'];}['set'](_0x3ac995,_0x2cda37,_0x5766c6,_0x197543=0x833*-0x1+0x19ba+-0x8c3*0x2){return this['r']=_0x3ac995,this['g']=_0x2cda37,this['b']=_0x5766c6,this['a']=_0x197543,this;}['lerp'](_0x20410d,_0x312674,_0x1e7236){return this['r']=_0x20410d['r']+_0x1e7236*(_0x312674['r']-_0x20410d['r']),this['g']=_0x20410d['g']+_0x1e7236*(_0x312674['g']-_0x20410d['g']),this['b']=_0x20410d['b']+_0x1e7236*(_0x312674['b']-_0x20410d['b']),this['a']=_0x20410d['a']+_0x1e7236*(_0x312674['a']-_0x20410d['a']),this;}['linear'](_0x4aea89=this){return this['r']=Math['pow'](_0x4aea89['r'],0x2*-0xbee+0x1*-0x4c3+0x1ca1+0.20000000000000018),this['g']=Math['pow'](_0x4aea89['g'],0x1*0x204b+-0xf94+0x5b*-0x2f+0.20000000000000018),this['b']=Math['pow'](_0x4aea89['b'],-0xe36+-0x1*0x228d+0x30c5+0.20000000000000018),this['a']=_0x4aea89['a'],this;}['gamma'](_0x369913=this){return this['r']=Math['pow'](_0x369913['r'],(0x3d6+-0x2*-0xf53+-0x227b)/(-0x2571+0x2*0xb66+-0x155*-0xb+0.20000000000000018)),this['g']=Math['pow'](_0x369913['g'],(-0x211f+0x3*0x8cb+0x9d*0xb)/(0x3*-0x1e4+-0x35*-0x72+-0x11ec+0.20000000000000018)),this['b']=Math['pow'](_0x369913['b'],(-0x1*0x243d+0xfd9+0x1465)/(-0x527*-0x1+-0x269a+0x1*0x2175+0.20000000000000018)),this['a']=_0x369913['a'],this;}['mulScalar'](_0x45545c){return this['r']*=_0x45545c,this['g']*=_0x45545c,this['b']*=_0x45545c,this;}['fromString'](_0x43b0da){const _0x327e42=parseInt(_0x43b0da['replace']('#','0x'),-0x1*-0x87d+0x6b5+-0xf22);let _0x27e75e;return _0x43b0da['length']>-0x232a*0x1+0x2bd*-0x4+0x1*0x2e25?_0x27e75e=z['intToBytes'+'32'](_0x327e42):(_0x27e75e=z['intToBytes'+'24'](_0x327e42),_0x27e75e[-0x106d*-0x1+-0x2704+0x169a]=0xab5+-0x12b+-0x88b),this['set'](_0x27e75e[0x1920+-0x955+-0xfcb]/(-0x16*-0xe3+-0x8da*-0x1+0xf*-0x1d3),_0x27e75e[0x51*-0x11+-0x48b*-0x1+0xd7]/(0xefc+0x176e+-0x256b),_0x27e75e[-0x2193+-0x1fc2+0x4157]/(-0x1041+0x726+0x50d*0x2),_0x27e75e[-0x1d82+0x1*-0x6e2+0x2467]/(0x8*0x349+0x7*0x49d+-0xb*0x53c)),this;}['fromArray'](_0x2507ca,_0x29e33b=0x21f5+-0x1f*0x132+0x319){return this['r']=_0x2507ca[_0x29e33b]??this['r'],this['g']=_0x2507ca[_0x29e33b+(0x35*-0x2b+0x2181*0x1+-0x1899)]??this['g'],this['b']=_0x2507ca[_0x29e33b+(0x179f+-0x6*0x2f+-0x1683)]??this['b'],this['a']=_0x2507ca[_0x29e33b+(-0x116d+0x120e+-0x1*0x9e)]??this['a'],this;}['toString'](_0x52b93a,_0x14e73b){const {r:_0x2023f5,g:_0x56abb7,b:_0x517212,a:_0x23e49a}=this;if(_0x14e73b||_0x2023f5>-0x1886+0x26d5*0x1+0x727*-0x2||_0x56abb7>-0x4f*0x46+-0x37a*-0x3+0x1*0xb2d||_0x517212>0x3*-0x825+-0x1*0x26f5+0x3f65)return _0x2023f5['toFixed'](0x118e+-0x57e+-0xc0d)+',\x20'+_0x56abb7['toFixed'](0xa2b+0x1ca5+-0x26cd)+',\x20'+_0x517212['toFixed'](0x72*-0x1+-0xb6d+0xbe2)+',\x20'+_0x23e49a['toFixed'](0x1aae+0xbce*-0x1+-0x1*0xedd);let _0x3dc85b='#'+((-0x253e+-0x26*0x6a+-0x11a9*-0x3<<-0x596+0xdbe*-0x1+-0x136c*-0x1)+(Math['round'](_0x2023f5*(-0xb7*0x1+-0x2203*0x1+0x725*0x5))<<-0x19b5+0x18c5*-0x1+0x328a*0x1)+(Math['round'](_0x56abb7*(0x8*0x8f+0x1*-0x139d+0x1024))<<-0x1cb5+-0x1170+0x1*0x2e2d)+Math['round'](_0x517212*(-0x23*0x1c+-0x2a5*0x5+0x120c)))['toString'](0xa3d*-0x1+-0x216b+0x577*0x8)['slice'](-0x1*0x231d+-0x20e9+0x4407);if(_0x52b93a===!(0x8e*-0x2f+-0xa0f+-0xc0b*-0x3)){const _0x27cafa=Math['round'](_0x23e49a*(-0xc76*-0x2+-0x18ad+0x10*0xc))['toString'](0x93f+-0xb23*0x1+-0x1f4*-0x1);this['a']<(-0x9d1+-0x8bf+-0x4*-0x4a8)/(0x1*-0x260c+0xc54+0x7*0x3d1)?_0x3dc85b+='0'+_0x27cafa:_0x3dc85b+=_0x27cafa;}return _0x3dc85b;}['toArray'](_0x221379=[],_0x47b439=-0xac+-0x16a+0x216,_0x57d716=!(-0x1282+0x17b3+0x1*-0x531)){return _0x221379[_0x47b439]=this['r'],_0x221379[_0x47b439+(-0x1*-0x2221+0x17b0+0x5c8*-0xa)]=this['g'],_0x221379[_0x47b439+(-0x5e5+-0x1b30+0x2117)]=this['b'],_0x57d716&&(_0x221379[_0x47b439+(0x3c8*0x7+0x2420+-0x3e95)]=this['a']),_0x221379;}};c(ot,'BLACK',Object['freeze'](new ot(0xb*0x125+-0x6b*-0x47+-0x2a44,-0x2089+0x1780+0x909*0x1,0x513+-0x2684+0x2171,-0x58a*0x4+-0x2*0x16b+0x18ff))),c(ot,'BLUE',Object['freeze'](new ot(0x2110+-0x169*-0x13+-0x88d*0x7,0x1*-0x1b3d+-0x38e+0x1ecb,0x5*0x765+-0x1*0x154a+-0xfae,-0xaf5+0x14b4+-0x9be))),c(ot,'CYAN',Object['freeze'](new ot(0xe15+0x70d+0x43a*-0x5,-0x6*0x523+0x4*-0x599+-0x39*-0xef,0xaac+-0x1d27*-0x1+-0x27d2,-0xd*-0x2ad+0x1*-0xee2+-0x13e6))),c(ot,'GRAY',Object['freeze'](new ot(0x7cb+-0x17bf+0xff4+0.5,0x93*0x3b+0x23a4+-0x4585+0.5,-0x112b+0x2*0x114d+-0x116f+0.5,0x96e+0xdbf+-0x172c))),c(ot,'GREEN',Object['freeze'](new ot(-0x1554+0x13a7+0x1ad,-0x2f7+-0x2124+0x241c,0x9*0x3c8+0xc9b*0x1+0x2ea3*-0x1,0x1dd*-0xf+-0x2*0xbcf+0x3392))),c(ot,'MAGENTA',Object['freeze'](new ot(-0x5*-0x2bf+-0x11d1+0x417,-0x1936*0x1+0x345*-0x4+0x264a,0xd07+0x39d*0x1+-0x10a3,-0x2510+-0xeb4+-0x1*-0x33c5))),c(ot,'RED',Object['freeze'](new ot(0x265f+-0x523+0x1*-0x213b,0x1419+-0x89*0xd+-0xd24,0x14bd*-0x1+-0x1996+0x2e53*0x1,0x1bbc+0x553*0x7+-0x68*0xa0))),c(ot,'WHITE',Object['freeze'](new ot(0x1e0a+-0x212+-0x1bf7*0x1,0x1e2b+-0x6a*-0x2+-0x1efe,0x1*0x7dc+-0x76e+-0x6d*0x1,-0x4*-0x9c4+-0x1*0x493+-0x227c))),c(ot,'YELLOW',Object['freeze'](new ot(-0x65*-0x1a+0x705*-0x4+0x11d3,-0x1*-0x2052+0x72e+-0x277f,0x255b*-0x1+-0x1b2f+0x408a,-0x15a3+0x1*0x1b61+-0x1*0x5bd)));let Y=ot;class hy{constructor(_0x15ad1a,_0x2c9a6b=-0x611+0x18e5+-0x1e2*0xa){c(this,'_curve'),c(this,'_left',-(-0x1d1b*0x1+-0x2470+0x418c)/(-0x83*0x8+0xdcd+0x1*-0x9b5)),c(this,'_right',(0x2239+0xe28+0x560*-0x9)/(-0x1*-0x4b7+0x253c+-0x29f3)),c(this,'_recip',0x3ad*0x3+-0xb06*0x1+-0x1),c(this,'_p0',-0x20*-0x89+-0x624+-0xafc),c(this,'_p1',-0x151b*0x1+0x6*0x278+-0x9*-0xb3),c(this,'_m0',0x970+0x1a5*-0x6+-0x1*-0x6e),c(this,'_m1',0x1fd*-0x1+-0xd13*-0x2+0x1829*-0x1),(this['_curve']=_0x15ad1a,this['_reset'](_0x2c9a6b));}['evaluate'](_0x437216,_0x5e737b=!(-0x1f81+-0x2084+-0x95*-0x6e)){(_0x5e737b||_0x437216<this['_left']||_0x437216>=this['_right'])&&this['_reset'](_0x437216);let _0x5dd372;const _0x2e100a=this['_curve']['type'];if(_0x2e100a===SS)_0x5dd372=this['_p0'];else{const _0x296913=this['_recip']===0xb*0x13c+-0x47*0x1a+0x32f*-0x2?0x1*-0x1ecb+-0x1f7*-0x1+-0x2*-0xe6a:(_0x437216-this['_left'])*this['_recip'];_0x2e100a===xS?_0x5dd372=z['lerp'](this['_p0'],this['_p1'],_0x296913):_0x2e100a===Of?_0x5dd372=z['lerp'](this['_p0'],this['_p1'],_0x296913*_0x296913*(-0x6*-0x1a6+-0x9ef*-0x1+-0x13d0-(-0x1666+0x4*0x7f3+-0x964)*_0x296913)):_0x5dd372=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x296913);}return _0x5dd372;}['_reset'](_0x1e4549){const _0x3e9340=this['_curve']['keys'],_0x274a53=_0x3e9340['length'];if(!_0x274a53)this['_left']=-(0x23b*0x3+0x43b*-0x8+0x1b28)/(-0x7fa*0x3+-0x33*0xe+-0x39*-0x78),this['_right']=(0x1847+0x1672+0x208*-0x17)/(0x21a2+0x19a+0xa*-0x386),this['_recip']=-0xc48*0x1+0x8bf*-0x3+0x2685,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0xea+-0x21d0+0x20e6;else{if(_0x1e4549<_0x3e9340[-0x14b3+0x203c+-0xb89][-0x1*-0x1c22+-0x28*0x71+-0xa7a])this['_left']=-(0x237a*0x1+0x1*-0xbc3+-0x17b6)/(-0x3c*0x31+0x632*-0x6+0x30a8),this['_right']=_0x3e9340[0x2*-0x452+-0x469*0x5+-0x123*-0x1b][-0x805*-0x2+-0x86*-0x2b+-0x268c],this['_recip']=-0x1180+0x5*0x16f+0x1*0xa55,this['_p0']=this['_p1']=_0x3e9340[-0x39f*0x9+0x1*0x222b+-0x194][-0x1145+0x1518+-0x3d2],this['_m0']=this['_m1']=0x1942+-0x180e+-0x1c*0xb;else{if(_0x1e4549>=_0x3e9340[_0x274a53-(-0xec4+-0xb75+0x1a3a)][0xbf0+-0xaa*0x30+-0x3a*-0x58])this['_left']=_0x3e9340[_0x274a53-(-0x29*-0x45+-0x84*-0x2a+-0x20b4)][-0x4*-0x6bb+-0x139b+-0x751*0x1],this['_right']=(0xdc1+0x8ec+-0x16ac)/(-0x17*-0x89+-0x2052+-0x2f*-0x6d),this['_recip']=0x3*0x8e4+-0x1636*-0x1+-0x30e2,this['_p0']=this['_p1']=_0x3e9340[_0x274a53-(0x10dc+0x65*-0x4b+0xcbc)][0x26e7+0x806+-0x2eec],this['_m0']=this['_m1']=-0x21db+-0x1681+0x1*0x385c;else{let _0x33fe0d=-0xbee+-0xe57+0x1a45;for(;_0x1e4549>=_0x3e9340[_0x33fe0d+(0x1ae9+0x2116+-0x7*0x892)][-0x126a+0xbb4+0x6b6];)_0x33fe0d++;this['_left']=_0x3e9340[_0x33fe0d][-0x5*0x6f+-0xace+0xcf9],this['_right']=_0x3e9340[_0x33fe0d+(-0x311+0x6*0x202+0x2fe*-0x3)][-0x4a4+0x1619+-0x1175];const _0x3fce0e=(-0x31*-0x8e+0xc83*0x1+-0x1fc*0x14)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x3fce0e)?_0x3fce0e:0x1216*-0x1+0x8*0x2c1+0xca*-0x5,this['_p0']=_0x3e9340[_0x33fe0d][-0x204f+-0x2131*-0x1+-0xe1],this['_p1']=_0x3e9340[_0x33fe0d+(-0x1f35+-0x1e3f+0x1*0x3d75)][-0x1*0x1667+0x291*-0x3+0x1e1b],this['_curve']['type']===im&&this['_calcTange'+'nts'](_0x3e9340,_0x33fe0d);}}}}['_calcTange'+'nts'](_0x241f28,_0x22e6de){let _0x5c1fa2;const _0x401b1d=_0x241f28[_0x22e6de],_0x57e004=_0x241f28[_0x22e6de+(-0x1f*0x55+0x99b+0x3*0x3b)];let _0x53a038;if(_0x22e6de===0x1*0x2c3+-0x21ed+0x1f2a?_0x5c1fa2=[_0x241f28[0xc43*-0x1+0x2534+-0x5*0x4fd][0xe1*-0x15+0x26aa+-0x1*0x1435]+(_0x241f28[-0x200b+-0x5c2+0x25cd][-0x13*0x160+-0xe86+0x2*0x1453]-_0x241f28[0x97*-0x31+0x8*-0x2e3+0x3400*0x1][-0x2341+0x1074+0x12cd]),_0x241f28[-0x19*-0x18a+-0x1695*-0x1+-0x13f*0x31][0x17*0x15d+-0x48c*-0x5+-0x3616]+(_0x241f28[-0x1fc5+0x1d5a*-0x1+0x1*0x3d1f][-0xc86+0x2614+-0x198d]-_0x241f28[0x998+-0x184f+0xeb8][0x1c8+0x1722+-0x18e9])]:_0x5c1fa2=_0x241f28[_0x22e6de-(0x1*0x5ad+-0x2*-0xe00+0x1af*-0x14)],_0x22e6de===_0x241f28['length']-(0x199e+0x25ea*-0x1+0xc4e)?_0x53a038=[_0x241f28[_0x22e6de+(0x1afe+-0x50*-0x69+-0x3bcd)][0x2c0+-0x19*-0x6f+0x47*-0x31]+(_0x241f28[_0x22e6de+(0x14*-0x82+-0x17cc+0x21f5)][-0x1c92+0x15f3*0x1+0x69f]-_0x241f28[_0x22e6de][0x25dc+-0x674+-0x28*0xc9]),_0x241f28[_0x22e6de+(-0x1*-0x6a3+0xcfe+0x10*-0x13a)][0x12*0x21d+0x1c59+-0x4262]+(_0x241f28[_0x22e6de+(0x5*0x543+0x21d3*-0x1+0x785)][-0x26dd+0x1c73+0xa6b]-_0x241f28[_0x22e6de][0x18c4+-0x17df+-0xe4])]:_0x53a038=_0x241f28[_0x22e6de+(0xeef+-0x118a+0x29d*0x1)],this['_curve']['type']===im){const _0x5017b8=(0x95*0x3f+-0xb9c+-0x190d)*(_0x57e004[0x345*0xb+-0x7*0x77+-0x20b6]-_0x401b1d[-0x2479*-0x1+-0x4b*0x1d+-0x1bfa])/(_0x57e004[0x1422+-0x5c*0x5+0x1256*-0x1]-_0x5c1fa2[-0x1896+0x1e8a+-0x5f4]),_0x25e4e0=(0xbe+-0x4f3+-0x1*-0x437)*(_0x57e004[-0x1e3c+-0x5c9*0x1+0x1*0x2405]-_0x401b1d[-0x2678+-0xcc2+-0xa6*-0x4f])/(_0x53a038[0x25cf*-0x1+-0x1eef+0x44be]-_0x401b1d[0xcff*-0x1+0x1e76+-0x1177*0x1]);this['_m0']=this['_curve']['tension']*(isFinite(_0x5017b8)?_0x5017b8:0x196f+0x1a7b+-0x33ea)*(_0x57e004[-0x796*0x1+-0x4c1*-0x1+-0xb*-0x42]-_0x5c1fa2[-0xeb7*0x2+0xd86+0xfe9]),this['_m1']=this['_curve']['tension']*(isFinite(_0x25e4e0)?_0x25e4e0:0x1*-0xa21+0x1b01*-0x1+0x2a7*0xe)*(_0x53a038[-0x81c+0x6da+0x143]-_0x401b1d[-0x1e7*-0xd+-0x2c6*0x4+0xa*-0x15d]);}else{const _0x4f6150=(_0x57e004[-0xcd2+-0x1420+0x2*0x1079]-_0x401b1d[0x1ddb+0x624+-0x23ff])/(_0x401b1d[-0x36*-0x56+-0x3b2+-0x1*0xe72]-_0x5c1fa2[0x3*0x271+0x2*-0xbaa+0x1001*0x1]),_0x5a1128=(_0x57e004[0x3*-0x15d+-0x260d+0x15c*0x1f]-_0x401b1d[-0x4c3*0x3+0x1d4f+0x6*-0x281])/(_0x53a038[0x1b94+0x20dd+-0x3c71*0x1]-_0x57e004[0x235b+0x5*0x2c6+-0x3139]),_0x2ae85d=_0x401b1d[0xe89*-0x1+-0xb4f+0x1fd*0xd]+(_0x5c1fa2[-0x5*0x55f+-0x1608+0x30e4]-_0x401b1d[-0x138c+-0xb7c+-0x23*-0xe3])*(isFinite(_0x4f6150)?_0x4f6150:-0x1048*-0x2+0x1*-0xd7e+0x989*-0x2),_0x278cbe=_0x57e004[-0x19*-0x1+-0x2373+0x235b]+(_0x53a038[0x62b+-0x2010+0x19e6]-_0x57e004[0xee*-0x1f+-0x9d2*0x2+0x3077])*(isFinite(_0x5a1128)?_0x5a1128:-0x268d*0x1+-0x1b59+-0x46*-0xf1),_0x59409b=this['_curve']['tension'];this['_m0']=_0x59409b*(_0x57e004[-0x206d+0x10ee*0x1+0xf80]-_0x2ae85d),this['_m1']=_0x59409b*(_0x278cbe-_0x401b1d[-0xde+0x5*0x457+-0x14d4]);}}['_evaluateH'+'ermite'](_0x1c5503,_0x2b53d0,_0x145f29,_0x59447d,_0x4940d7){const _0x536b4c=_0x4940d7*_0x4940d7,_0x4b1ab3=_0x4940d7+_0x4940d7,_0x300edd=0x10d+0x1b6c+-0x8*0x38f-_0x4940d7,_0x3d2276=_0x300edd*_0x300edd;return _0x1c5503*((-0x7f4*0x1+-0x556*-0x1+0x29f+_0x4b1ab3)*_0x3d2276)+_0x145f29*(_0x4940d7*_0x3d2276)+_0x2b53d0*(_0x536b4c*(0xeb+-0x20ca+0x247*0xe-_0x4b1ab3))+_0x59447d*(_0x536b4c*(_0x4940d7-(0xb*0x2ff+0x1*0x31d+-0x2411)));}}class Ls{constructor(_0x2ed702){c(this,'keys',[]),c(this,'type',Of),c(this,'tension',-0x1345+0xe9a+0x4ab+0.5),c(this,'_eval',new hy(this));if(_0x2ed702){for(let _0xdd604e=0x25*-0xcd+-0x2d*-0x54+0xedd;_0xdd604e<_0x2ed702['length']-(-0x226b+0x11bf+-0x10ad*-0x1);_0xdd604e+=0x1c*-0xe4+-0x2140+-0x1*-0x3a32)this['keys']['push']([_0x2ed702[_0xdd604e],_0x2ed702[_0xdd604e+(-0x1a76+-0xf90+-0x1*-0x2a07)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0xe50967,_0x278c15){const _0xfed50f=this['keys'],_0x2e8c1d=_0xfed50f['length'];let _0x4deaad=0x618+0x449*0x5+-0x1b85;for(;_0x4deaad<_0x2e8c1d&&!(_0xfed50f[_0x4deaad][0x2be*-0xa+-0x3*0x812+0x6*0x89b]>_0xe50967);_0x4deaad++);const _0xff730e=[_0xe50967,_0x278c15];return this['keys']['splice'](_0x4deaad,0xb6*0x1+0x10db+-0x1191,_0xff730e),_0xff730e;}['get'](_0x5a75db){return this['keys'][_0x5a75db];}['sort'](){this['keys']['sort']((_0x565b22,_0x1a039e)=>_0x565b22[-0x2fb+0xff5+-0xcfa]-_0x1a039e[-0x16fb+0xbc5+-0x11f*-0xa]);}['value'](_0x5b5586){return this['_eval']['evaluate'](_0x5b5586,!(-0x8*-0x130+0x17cd*-0x1+-0x7*-0x20b));}['closest'](_0x46c668){const _0x4733ad=this['keys'],_0x1d5f23=_0x4733ad['length'];let _0x3444a0=0x2*0xe27+0x809+-0x2455*0x1,_0x6e00dc=null;for(let _0x458061=-0x1*0x1ff9+-0x23f1+0x43ea;_0x458061<_0x1d5f23;_0x458061++){const _0x253f82=Math['abs'](_0x46c668-_0x4733ad[_0x458061][-0x14ba+0x9*0x89+0xfe9]);if(_0x3444a0>=_0x253f82)_0x3444a0=_0x253f82,_0x6e00dc=_0x4733ad[_0x458061];else break;}return _0x6e00dc;}['clone'](){const _0x508438=new this['constructo'+'r']();return _0x508438['keys']=this['keys']['map'](_0x2fe43d=>[..._0x2fe43d]),_0x508438['type']=this['type'],_0x508438['tension']=this['tension'],_0x508438;}['quantize'](_0x1b299d){_0x1b299d=Math['max'](_0x1b299d,0xc73+-0x65*-0x26+0x3*-0x925);const _0x488fd6=new Float32Array(_0x1b299d),_0x149624=(0x4*0x5d8+0x1929+-0x3088*0x1)/(_0x1b299d-(-0x15d2+0x779+0xe5a));_0x488fd6[0xc1b+0x265*-0x1+-0x4db*0x2]=this['_eval']['evaluate'](0x1c7+-0x20f4+0x1f2d,!(0x1002+-0x91c+0x1*-0x6e6));for(let _0x488bb1=-0x19ae+0x1e91+-0x4e2;_0x488bb1<_0x1b299d;_0x488bb1++)_0x488fd6[_0x488bb1]=this['_eval']['evaluate'](_0x149624*_0x488bb1);return _0x488fd6;}['quantizeCl'+'amped'](_0x3635fd,_0x16c73f,_0x48f84e){const _0x309467=this['quantize'](_0x3635fd);for(let _0x4b833e=-0x1*-0x23f9+0x6ac+-0x3*0xe37;_0x4b833e<_0x309467['length'];++_0x4b833e)_0x309467[_0x4b833e]=Math['min'](_0x48f84e,Math['max'](_0x16c73f,_0x309467[_0x4b833e]));return _0x309467;}}class Yr{constructor(){c(this,'curves',[]),c(this,'_type',Of);if(arguments['length']>-0xb*0x1d6+0x1*0x2c+0x6ad*0x3){for(let _0x2ec4d5=0x5a7*-0x6+0x18af+-0x93b*-0x1;_0x2ec4d5<arguments['length'];_0x2ec4d5++)this['curves']['push'](new Ls(arguments[_0x2ec4d5]));}else{if(arguments['length']===0x21ef+-0x1f8+0x1*-0x1ff7)this['curves']['push'](new Ls());else{const _0x100351=arguments[0x16f2+-0x3*0x21+-0x15*0x113];if(typeof _0x100351=='number'){for(let _0x179043=-0x1ea+0x2b*-0xa6+0x1dcc;_0x179043<_0x100351;_0x179043++)this['curves']['push'](new Ls());}else{for(let _0x30930a=-0x1*0xad9+0x1ae1+-0x1008;_0x30930a<_0x100351['length'];_0x30930a++)this['curves']['push'](new Ls(_0x100351[_0x30930a]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x409865){this['_type']=_0x409865;for(let _0x362131=0x1f1a+-0x13b1+0xb69*-0x1;_0x362131<this['curves']['length'];_0x362131++)this['curves'][_0x362131]['type']=_0x409865;}get['type'](){return this['_type'];}['get'](_0x18dca0){return this['curves'][_0x18dca0];}['value'](_0x5d2bab,_0x385ecd=[]){const _0x34a9c7=this['curves']['length'];_0x385ecd['length']=_0x34a9c7;for(let _0x279c9d=0x1*-0xf7+0x2509+-0x2412;_0x279c9d<_0x34a9c7;_0x279c9d++)_0x385ecd[_0x279c9d]=this['curves'][_0x279c9d]['value'](_0x5d2bab);return _0x385ecd;}['clone'](){const _0x4e2135=new this['constructo'+'r']();_0x4e2135['curves']=[];for(let _0x30ed27=-0x8cf*0x2+-0x1eb9*-0x1+-0xd1b;_0x30ed27<this['curves']['length'];_0x30ed27++)_0x4e2135['curves']['push'](this['curves'][_0x30ed27]['clone']());return _0x4e2135['_type']=this['_type'],_0x4e2135;}['quantize'](_0x56187d){_0x56187d=Math['max'](_0x56187d,0x14d4+-0xd6+-0x13fc);const _0x5ac7b6=this['curves']['length'],_0x55a1f1=new Float32Array(_0x56187d*_0x5ac7b6),_0x359e4b=(-0x1bbf*-0x1+-0x1*0x1993+-0x3*0xb9)/(_0x56187d-(-0x1fb1+0x2*0xc55+-0x6*-0x12c));for(let _0x3e0182=0x3ad+-0x11*0x4b+0x14e;_0x3e0182<_0x5ac7b6;_0x3e0182++){const _0x1ce3f1=new hy(this['curves'][_0x3e0182]);for(let _0x517f32=-0xfb1*0x2+0x1587*-0x1+0x34e9;_0x517f32<_0x56187d;_0x517f32++)_0x55a1f1[_0x517f32*_0x5ac7b6+_0x3e0182]=_0x1ce3f1['evaluate'](_0x359e4b*_0x517f32);}return _0x55a1f1;}['quantizeCl'+'amped'](_0x2e68c9,_0x3efcae,_0x2a23e6){const _0x277ae9=this['quantize'](_0x2e68c9);for(let _0xc61ef4=0x1*-0x183b+0x5a5+0x1296;_0xc61ef4<_0x277ae9['length'];++_0xc61ef4)_0x277ae9[_0xc61ef4]=Math['min'](_0x2a23e6,Math['max'](_0x3efcae,_0x277ae9[_0xc61ef4]));return _0x277ae9;}}let rm=0x1*-0x1866+-0x1a63*-0x1+-0x15*0x18;const od=(-0x6cd+-0x17bd+0x1e8b)/(-0x24af*-0x1+-0x54e+-0x1e62),mu=new Float32Array(0xa00+0x114*-0x5+0x49b*-0x1),nm=new Int32Array(mu['buffer']);class Bt{static['float2Half'](_0x46d3a9){mu[0x2187+-0x26d5+0x54e]=_0x46d3a9;const _0x34dff7=nm[0x3*0x6fb+0x2a6+-0x1797];let _0x241965=_0x34dff7>>0x93a+-0x5b1*-0x1+0x1*-0xedb&-0x132d*-0xb+-0x2*0x2dd1+0x8b3,_0x1c4d30=_0x34dff7>>-0x1fe1*-0x1+0xb91+-0x2b66&-0xce1+0x1ab2+-0x1*0x5d2;const _0x55833e=_0x34dff7>>0x228e+-0x3*0x795+-0xbb8&-0x53e+0x1*-0x397+0x9d4;return _0x55833e<0xedf*-0x1+-0x1c1b+-0x2b61*-0x1?_0x241965:_0x55833e>-0x25*0x71+-0x17f5+0x28d8?(_0x241965|=-0x131a+0x5*-0x2a01+-0x1*-0x1611f,_0x241965|=(_0x55833e===0x1*0xc5b+-0x2294+-0x2e7*-0x8?0x82*-0x11+0x133f+-0xa9d*0x1:-0x5d*-0xd+0xb4+-0x2b6*0x2)&&_0x34dff7&0xb6617f*-0x1+-0x17570d+0x1*0x14db88b,_0x241965):_0x55833e<0x17*-0x16f+0x1838+0x932?(_0x1c4d30|=0xf58+-0xa85+0x10f*0x3,_0x241965|=(_0x1c4d30>>0x2494+-0x1*0x13be+-0x1064-_0x55833e)+(_0x1c4d30>>0x17dd+-0x5e6+-0x1186-_0x55833e&-0x1286*-0x2+0x142d+-0x3938),_0x241965):(_0x241965|=_0x55833e-(-0xd*0x119+0x26*0xc2+-0xe17)<<0x2269+-0x112c+-0x1133|_0x1c4d30>>0x1*0x2479+-0x1a*0x68+0x19e8*-0x1,_0x241965+=_0x1c4d30&0x1725+0x1e7e+-0x1ad1*0x2,_0x241965);}static['float2Byte'+'s'](_0x178b2f,_0x5839dd,_0x36a2ce,_0x4046bc){const _0x2ef37a=(0x9da+-0xcc5+-0x1f5*-0x2)*_0x178b2f%(0x1cd6+0x7fb*-0x3+-0x4e4);if(_0x5839dd[_0x36a2ce+(-0x5*-0x4fd+-0x4f*0x35+-0x1*0x896)]=Math['round']((_0x178b2f%(-0x1504+0x7f*0x13+0xb98)-od*_0x2ef37a)*(0x777+-0x83e+0x1c6)),_0x4046bc>-0xa*-0x41+-0x99e*-0x1+-0xc27){const _0x586b99=(-0x5*0x2a89+-0x43*0x50f+-0x11e7*-0x2d)*_0x178b2f%(-0x1a8b+-0x2*0xc56+0x3338);if(_0x5839dd[_0x36a2ce+(0x57*0x22+-0x4*0x746+0x1f3*0x9)]=Math['round']((_0x2ef37a-od*_0x586b99)*(0x56*0x68+-0x1e75*0x1+0xdf*-0x4)),_0x4046bc>-0x1e0b+-0x1724*-0x1+-0x3d*-0x1d){const _0x149c33=(-0x145667a+-0x1fc1b9*-0x1+0x222a7c0)*_0x178b2f%(-0x1*0xbf9+0x155e+0x1*-0x964);_0x5839dd[_0x36a2ce+(-0x1c20+0x24be+-0x44e*0x2)]=Math['round']((_0x586b99-od*_0x149c33)*(0x6eb+0x17af+0x2b1*-0xb)),_0x4046bc>0x256c+0x1422+-0x1*0x398b&&(_0x5839dd[_0x36a2ce+(0xa85+0x1*-0xbb+-0x9c7)]=Math['round'](_0x149c33*(-0x21a*-0x11+-0x9*0x41c+0x241*0x1)));}}}static['float2Byte'+'sRange'](_0x5bc0f3,_0x4d367c,_0x1450cf,_0xe4081b,_0x58faf0,_0x153fc2){(_0x5bc0f3<_0xe4081b||_0x5bc0f3>_0x58faf0)&&rm&&(rm--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x5bc0f3=z['clamp']((_0x5bc0f3-_0xe4081b)/(_0x58faf0-_0xe4081b),0xc7a*0x3+-0x701*0x1+0x1*-0x1e6d,-0x1*-0x975+0x15d+-0xd5*0xd),Bt['float2Byte'+'s'](_0x5bc0f3,_0x4d367c,_0x1450cf,_0x153fc2);}static['float2RGBA'+'8'](_0x1e4f35,_0x3d75ba){mu[0x7aa+0xeb9+-0x1663]=_0x1e4f35;const _0x123ad7=nm[-0x1635+0x187*0x13+0x10*-0x6d];_0x3d75ba['r']=(_0x123ad7>>0x107e+-0x234e+0x4*0x4ba&-0x157e+-0xd84+-0xd*-0x2c5)/(-0x1*-0x20b+-0x372+0x266),_0x3d75ba['g']=(_0x123ad7>>0x8d7+-0x5c1+-0x56*0x9&0x1709+0x268e+-0x3c98)/(0x1181*-0x1+0x22df+-0x105f),_0x3d75ba['b']=(_0x123ad7>>0x26db+-0x64*0x2+-0x260b*0x1&0x22e+-0x1*-0x15d7+0x34a*-0x7)/(0x1dba+0x26d7+-0x4392),_0x3d75ba['a']=(_0x123ad7&0x23e8+-0x2618+0x32f)/(0x3c4+-0x3*-0x2ef+-0x5c9*0x2);}}const lt=class lt{constructor(_0x58b232=0xfd*-0x2+-0x24b6+-0x1*-0x26b0,_0x43a823=0x2*0x990+-0x43d*-0x1+-0x175d*0x1,_0x341027=-0x6b3+-0xd08+0x13bb*0x1){c(this,'x'),c(this,'y'),c(this,'z'),_0x58b232['length']===-0x1*0x87d+-0x1a25+0x22a5?(this['x']=_0x58b232[-0x1cb*0x11+0xea0+0xfdb],this['y']=_0x58b232[-0x20*-0x89+0x1e0b*-0x1+0x33b*0x4],this['z']=_0x58b232[-0x192*-0x4+-0x1a84+0xa1f*0x2]):(this['x']=_0x58b232,this['y']=_0x43a823,this['z']=_0x341027);}['add'](_0x5ed227){return this['x']+=_0x5ed227['x'],this['y']+=_0x5ed227['y'],this['z']+=_0x5ed227['z'],this;}['add2'](_0xe03e33,_0x11f0e1){return this['x']=_0xe03e33['x']+_0x11f0e1['x'],this['y']=_0xe03e33['y']+_0x11f0e1['y'],this['z']=_0xe03e33['z']+_0x11f0e1['z'],this;}['addScalar'](_0x1bc305){return this['x']+=_0x1bc305,this['y']+=_0x1bc305,this['z']+=_0x1bc305,this;}['addScaled'](_0x3f5d15,_0x508d5f){return this['x']+=_0x3f5d15['x']*_0x508d5f,this['y']+=_0x3f5d15['y']*_0x508d5f,this['z']+=_0x3f5d15['z']*_0x508d5f,this;}['clone'](){const _0x6a099e=this['constructo'+'r'];return new _0x6a099e(this['x'],this['y'],this['z']);}['copy'](_0x20acce){return this['x']=_0x20acce['x'],this['y']=_0x20acce['y'],this['z']=_0x20acce['z'],this;}['cross'](_0x213200,_0x1723a3){const _0x46a077=_0x213200['x'],_0x5d861f=_0x213200['y'],_0x12e12a=_0x213200['z'],_0x4a7f07=_0x1723a3['x'],_0x13884c=_0x1723a3['y'],_0x1fa589=_0x1723a3['z'];return this['x']=_0x5d861f*_0x1fa589-_0x13884c*_0x12e12a,this['y']=_0x12e12a*_0x4a7f07-_0x1fa589*_0x46a077,this['z']=_0x46a077*_0x13884c-_0x4a7f07*_0x5d861f,this;}['distance'](_0x379e75){const _0x91a776=this['x']-_0x379e75['x'],_0xab66cb=this['y']-_0x379e75['y'],_0x1c73e9=this['z']-_0x379e75['z'];return Math['sqrt'](_0x91a776*_0x91a776+_0xab66cb*_0xab66cb+_0x1c73e9*_0x1c73e9);}['div'](_0x7f74cb){return this['x']/=_0x7f74cb['x'],this['y']/=_0x7f74cb['y'],this['z']/=_0x7f74cb['z'],this;}['div2'](_0x13160d,_0x222d04){return this['x']=_0x13160d['x']/_0x222d04['x'],this['y']=_0x13160d['y']/_0x222d04['y'],this['z']=_0x13160d['z']/_0x222d04['z'],this;}['divScalar'](_0x111282){return this['x']/=_0x111282,this['y']/=_0x111282,this['z']/=_0x111282,this;}['dot'](_0x36ecb2){return this['x']*_0x36ecb2['x']+this['y']*_0x36ecb2['y']+this['z']*_0x36ecb2['z'];}['equals'](_0x5bff1d){return this['x']===_0x5bff1d['x']&&this['y']===_0x5bff1d['y']&&this['z']===_0x5bff1d['z'];}['equalsAppr'+'ox'](_0x132373,_0x2e9d08=0x1*0xaff+0x461+-0x7b0*0x2+0.000001){return Math['abs'](this['x']-_0x132373['x'])<_0x2e9d08&&Math['abs'](this['y']-_0x132373['y'])<_0x2e9d08&&Math['abs'](this['z']-_0x132373['z'])<_0x2e9d08;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x257146,_0x5d73e8,_0x153469){return this['x']=_0x257146['x']+_0x153469*(_0x5d73e8['x']-_0x257146['x']),this['y']=_0x257146['y']+_0x153469*(_0x5d73e8['y']-_0x257146['y']),this['z']=_0x257146['z']+_0x153469*(_0x5d73e8['z']-_0x257146['z']),this;}['mul'](_0x1eea88){return this['x']*=_0x1eea88['x'],this['y']*=_0x1eea88['y'],this['z']*=_0x1eea88['z'],this;}['mul2'](_0x309502,_0x28c6a2){return this['x']=_0x309502['x']*_0x28c6a2['x'],this['y']=_0x309502['y']*_0x28c6a2['y'],this['z']=_0x309502['z']*_0x28c6a2['z'],this;}['mulScalar'](_0x288dc3){return this['x']*=_0x288dc3,this['y']*=_0x288dc3,this['z']*=_0x288dc3,this;}['normalize'](_0x4511fe=this){const _0xd5334a=_0x4511fe['x']*_0x4511fe['x']+_0x4511fe['y']*_0x4511fe['y']+_0x4511fe['z']*_0x4511fe['z'];if(_0xd5334a>0x243b+0x1*-0xa70+-0x19cb){const _0x1b1f4d=(-0x2192*0x1+0xd2e+0x1465)/Math['sqrt'](_0xd5334a);this['x']=_0x4511fe['x']*_0x1b1f4d,this['y']=_0x4511fe['y']*_0x1b1f4d,this['z']=_0x4511fe['z']*_0x1b1f4d;}return this;}['floor'](_0x5b10f5=this){return this['x']=Math['floor'](_0x5b10f5['x']),this['y']=Math['floor'](_0x5b10f5['y']),this['z']=Math['floor'](_0x5b10f5['z']),this;}['ceil'](_0x3dd786=this){return this['x']=Math['ceil'](_0x3dd786['x']),this['y']=Math['ceil'](_0x3dd786['y']),this['z']=Math['ceil'](_0x3dd786['z']),this;}['round'](_0x1ac0c2=this){return this['x']=Math['round'](_0x1ac0c2['x']),this['y']=Math['round'](_0x1ac0c2['y']),this['z']=Math['round'](_0x1ac0c2['z']),this;}['min'](_0x17147d){return _0x17147d['x']<this['x']&&(this['x']=_0x17147d['x']),_0x17147d['y']<this['y']&&(this['y']=_0x17147d['y']),_0x17147d['z']<this['z']&&(this['z']=_0x17147d['z']),this;}['max'](_0x350448){return _0x350448['x']>this['x']&&(this['x']=_0x350448['x']),_0x350448['y']>this['y']&&(this['y']=_0x350448['y']),_0x350448['z']>this['z']&&(this['z']=_0x350448['z']),this;}['project'](_0x2f7363){const _0x5ea347=this['x']*_0x2f7363['x']+this['y']*_0x2f7363['y']+this['z']*_0x2f7363['z'],_0x8662a2=_0x2f7363['x']*_0x2f7363['x']+_0x2f7363['y']*_0x2f7363['y']+_0x2f7363['z']*_0x2f7363['z'],_0x42215a=_0x5ea347/_0x8662a2;return this['x']=_0x2f7363['x']*_0x42215a,this['y']=_0x2f7363['y']*_0x42215a,this['z']=_0x2f7363['z']*_0x42215a,this;}['set'](_0x3c8211,_0x1ef4aa,_0xfe78b0){return this['x']=_0x3c8211,this['y']=_0x1ef4aa,this['z']=_0xfe78b0,this;}['sub'](_0x19f480){return this['x']-=_0x19f480['x'],this['y']-=_0x19f480['y'],this['z']-=_0x19f480['z'],this;}['sub2'](_0x29b6d1,_0x342aaf){return this['x']=_0x29b6d1['x']-_0x342aaf['x'],this['y']=_0x29b6d1['y']-_0x342aaf['y'],this['z']=_0x29b6d1['z']-_0x342aaf['z'],this;}['subScalar'](_0x266834){return this['x']-=_0x266834,this['y']-=_0x266834,this['z']-=_0x266834,this;}['fromArray'](_0x579e95,_0x2352e6=-0x21f4+0x10fc*0x1+0x10f8){return this['x']=_0x579e95[_0x2352e6]??this['x'],this['y']=_0x579e95[_0x2352e6+(-0x3a5*0x7+0x7*-0x2a5+0x2c07)]??this['y'],this['z']=_0x579e95[_0x2352e6+(-0x52+-0x1*-0x1a02+-0x19ae)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x5ce7f9=[],_0x4c75cc=0xa66+0x240f+-0x2e75){return _0x5ce7f9[_0x4c75cc]=this['x'],_0x5ce7f9[_0x4c75cc+(0x1a44+-0x51d+-0x1526)]=this['y'],_0x5ce7f9[_0x4c75cc+(-0x6fa+-0x282*-0x3+0x6*-0x17)]=this['z'],_0x5ce7f9;}};c(lt,'ZERO',Object['freeze'](new lt(0xa63+0xb0d*0x1+-0x1570,-0x10bb*0x2+-0x5*-0x461+0xb91,0x7c3*-0x2+-0x144a+0x23d0))),c(lt,'HALF',Object['freeze'](new lt(-0x368*-0x3+0xd2+0x12*-0x9d+0.5,0xef6+0x1*0x89b+-0x1791+0.5,-0x43*0x5b+-0x14f0+0x2cc1+0.5))),c(lt,'ONE',Object['freeze'](new lt(0x10d*0xb+-0x1ad8*-0x1+-0x2666,-0x94b+-0x949*0x3+0x2527,-0x1a43*0x1+-0x2*-0x24a+-0x15b*-0x10))),c(lt,'UP',Object['freeze'](new lt(0x1fe1*-0x1+-0x26e7+0x8d9*0x8,0x3*0x314+0x2435+-0x16b8*0x2,0x2052+0xc2d+0xed5*-0x3))),c(lt,'DOWN',Object['freeze'](new lt(-0x2709+-0x807+-0x10*-0x2f1,-(-0xc73*-0x1+0x29*0x70+-0x1e62),-0x15cc+0x112a+-0x4a2*-0x1))),c(lt,'RIGHT',Object['freeze'](new lt(0x2*-0x70e+-0x81*0x2c+-0x2449*-0x1,0x579+0x6*-0x1b2+0x191*0x3,-0x3cb*-0x7+-0x375+-0x5c6*0x4))),c(lt,'LEFT',Object['freeze'](new lt(-(0x10f8*0x1+0x10*-0xef+0x207*-0x1),0x13cc+0x1*0x144f+-0x1*0x281b,0x2435+-0x1*-0x368+-0x279d*0x1))),c(lt,'FORWARD',Object['freeze'](new lt(-0x79a+0x15*0x17b+-0x177d,-0x3*-0x566+-0xd*0x25+-0xe51,-(-0x2090+0x14*0x13d+0x1*0x7cd)))),c(lt,'BACK',Object['freeze'](new lt(-0x121e*0x1+-0x94c+0x3a*0x79,-0xbb5*-0x3+0x17ed+-0x3b0c,0x2006+0x37*0x65+-0x18*0x23d)));let A=lt;const oa=class oa{constructor(){c(this,'data',new Float32Array(-0xba5*0x1+0x2e*-0x23+0x2e*0x64)),this['data'][-0x1376*0x1+-0xae9+0x1e5f]=this['data'][-0x1d*-0xd0+0x2*0x5cb+-0x2322]=this['data'][-0x26*0xff+0x2460+-0xc1*-0x2]=0x1519+0x10f*0x4+-0x2*0xcaa;}['clone'](){const _0x156bc5=this['constructo'+'r'];return new _0x156bc5()['copy'](this);}['copy'](_0x25f860){const _0x7e2b33=_0x25f860['data'],_0x465068=this['data'];return _0x465068[-0x543*0x5+0x1936+0x119]=_0x7e2b33[-0x1915+0xae4+-0xad*-0x15],_0x465068[-0x2005*0x1+-0x1e4*0x8+-0x1*-0x2f26]=_0x7e2b33[-0x26a1+-0x1d2*-0x1+0x24d0],_0x465068[0x1*-0x1efc+0x1cd5+-0x4f*-0x7]=_0x7e2b33[0xa7b*0x1+-0xa*0x1b4+0x68f],_0x465068[0x14c0+0x102d+-0x2*0x1275]=_0x7e2b33[0x6*0xdd+-0x1756+0x1*0x122b],_0x465068[0x1cea+0xe0*0x2+-0x1ea6]=_0x7e2b33[0x7*-0xa5+0x2*-0x192+0x7ab],_0x465068[0x15f0+-0x5*-0x53c+-0x3b3*0xd]=_0x7e2b33[0x1d*-0x95+-0x10+0x10f6],_0x465068[0x10*-0x1cc+0x182f+0x2f*0x19]=_0x7e2b33[-0x2a9*0xe+0x1*0x2597+-0x53],_0x465068[0x95e+-0x1*0x118d+0x836]=_0x7e2b33[0xa9*0x5+-0xcb2+0x96c],_0x465068[0xca3+-0x1241+-0x1*-0x5a6]=_0x7e2b33[-0x306*-0x1+-0x264d+0x234f],this;}['set'](_0x2c5417){const _0xa7bc36=this['data'];return _0xa7bc36[0x3*-0x7c1+-0x98f*0x2+0x2a61]=_0x2c5417[-0x112e+-0x142f*-0x1+0x1*-0x301],_0xa7bc36[0x1116+0x1*-0xd73+-0x3a2]=_0x2c5417[-0x170b+0x11a5+-0x3*-0x1cd],_0xa7bc36[0x1*0x2289+0x504+-0x278b*0x1]=_0x2c5417[-0x6b*-0x11+0x1d9+-0xe5*0xa],_0xa7bc36[-0x1*-0x329+0x264d+-0x2973]=_0x2c5417[-0x13d*0xd+-0x4*0x472+-0xc*-0x2d3],_0xa7bc36[-0x10a6*0x1+-0x1*0x265b+0xb01*0x5]=_0x2c5417[0x1b5d+0xb11*-0x3+0x5da],_0xa7bc36[-0x1aa7*-0x1+-0x1d93+0x2f1]=_0x2c5417[0x16f4+-0x1*0xdb7+0x8*-0x127],_0xa7bc36[-0x21*0xe+0x16f2+-0x151e]=_0x2c5417[0x1*0x189b+-0x1a*-0xf1+0x13*-0x295],_0xa7bc36[-0x23ba+-0x89*0x1+-0x5*-0x742]=_0x2c5417[0x1*0x1d4f+0x6*-0x1b1+-0x1322],_0xa7bc36[0x1*0x39+-0x2209+0x21d8]=_0x2c5417[-0x1c88+0x1*0xca1+0xfef],this;}['getX'](_0x4494aa=new A()){return _0x4494aa['set'](this['data'][0x3*0x31d+0x26*-0x103+0x1*0x1d1b],this['data'][-0x2*0x3cb+0x56*0x10+0x237],this['data'][-0x10d8+-0x1c87+-0x1*-0x2d61]);}['getY'](_0x37ef57=new A()){return _0x37ef57['set'](this['data'][0x144d*-0x1+0x8a7+0xba9],this['data'][0x1*0x1589+0x1*0x75a+-0x1cdf],this['data'][-0x1c4*0x1+0x1d6a+0x283*-0xb]);}['getZ'](_0xf355b1=new A()){return _0xf355b1['set'](this['data'][-0x2347+0x1*-0x145b+0xdea*0x4],this['data'][0x1424+-0x1*0x20e+-0x120f],this['data'][-0x1f*-0x65+0x1afc+-0x1*0x272f]);}['equals'](_0x1d1669){const _0x3fc4b9=this['data'],_0x206ce4=_0x1d1669['data'];return _0x3fc4b9[-0x191+0x1*-0xafd+0xc8e]===_0x206ce4[-0x2701*0x1+0x235d+0x2*0x1d2]&&_0x3fc4b9[0x20ed+-0x1129+-0xfc3]===_0x206ce4[0x2639+0x23e6+-0x4a1e]&&_0x3fc4b9[0x2*0x8cb+0xda6+-0x1f3a]===_0x206ce4[0x136f+0x25*0xb+-0x4*0x541]&&_0x3fc4b9[0xfd2+-0x138c+0x3bd]===_0x206ce4[-0xf1a+-0x2317+0x3234]&&_0x3fc4b9[-0xe8*0xd+-0x1fff*0x1+0x1*0x2bcb]===_0x206ce4[-0x254e+-0x113b*-0x1+0x1*0x1417]&&_0x3fc4b9[0x52*0x6b+0x486*-0x2+-0x1935]===_0x206ce4[-0x1b3c+0x1245+0x73*0x14]&&_0x3fc4b9[0x84f+-0x66f+-0x1da*0x1]===_0x206ce4[-0x1*-0x1591+-0x2676+0x10eb]&&_0x3fc4b9[0xc*0x1f1+-0x1a*-0x52+-0x1f99*0x1]===_0x206ce4[-0xc67+-0xba*0x5+-0x8*-0x202]&&_0x3fc4b9[-0x11*0x18e+0x102d*-0x2+0x3ad0]===_0x206ce4[0x1*0xeab+-0x18f5+-0x529*-0x2];}['isIdentity'](){const _0x598059=this['data'];return _0x598059[-0x1bf*0x2+0x16*0x16+0x19a]===-0x25a6+0x1726+0xe81&&_0x598059[0x57*0x22+0x1*-0xf5+-0xa98]===0x1*-0x1192+0xb5a+0x31c*0x2&&_0x598059[-0x1*0xc29+-0x25da+0x3205]===0x1368+0x1*0x511+0x1879*-0x1&&_0x598059[-0x2ec+0x4c*-0x2c+0xfff]===-0x11d7+-0x8c9+0x1aa0&&_0x598059[-0x119*-0x1a+0x1657*0x1+0x1c1*-0x1d]===-0x255f+-0x8*-0x2aa+0x1010&&_0x598059[0x58b+-0x7bf*0x4+0x2*0xcbb]===-0x37*0x54+0x2548*0x1+-0x4cf*0x4&&_0x598059[0x1a69+-0x21c6+0x763]===-0x1*0x2291+0x2448+-0x1b7&&_0x598059[-0x1560+-0x285*-0xf+0x419*-0x4]===0xf55+0xc5b+-0x10*0x1bb&&_0x598059[0x3*0x36a+0x6*0x5a1+-0x2bfc]===-0x4*0x905+-0x171e+0x3b33;}['setIdentit'+'y'](){const _0x267486=this['data'];return _0x267486[-0x11d6+0xaea+0x6ec]=-0xad1+-0x106*0x20+-0x4e*-0x8f,_0x267486[0x20bb+-0x2*-0x121f+-0x44f8]=0x1c57+0x1323*-0x1+-0x934,_0x267486[0xf5d+0xa*-0x15e+-0x1af]=0x596+0xce*-0xb+0x344,_0x267486[-0x1*-0x215+-0x1089+0xe77]=-0x1*0x142c+-0x2f*-0xd1+0x1*-0x1233,_0x267486[0xbe8+-0x247c+0x8*0x313]=0x1f7a+-0x127e+-0xcfb,_0x267486[-0x21a0+-0x1d88+0x3f2d]=0x1f77+0x1f9d+-0x3f14,_0x267486[0xe6d+-0x2be*-0xa+-0x29d3]=0x5e*0x61+0x41*0x98+-0x4a36,_0x267486[-0x1873+-0x1*0x1a11+-0xe3*-0x39]=0x1*0x3fa+0x714+0x236*-0x5,_0x267486[-0xd6b+0x172f+-0x9bc]=0x1625+-0x2*0x133a+0x15c*0xc,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x1ae300=this){const _0x258eee=_0x1ae300['data'],_0x270057=this['data'];if(_0x258eee===_0x270057){let _0x5dcc78;_0x5dcc78=_0x258eee[-0x180e+-0xa05+0x2214],_0x270057[0x5*-0x350+-0x24e*-0x5+0x50b*0x1]=_0x258eee[-0x1*-0x1349+0x10a2*-0x1+-0x2a4*0x1],_0x270057[-0x1*-0xa59+-0x25fc+0x2*0xdd3]=_0x5dcc78,_0x5dcc78=_0x258eee[-0x51*0x66+-0x15d1+0x3619],_0x270057[-0x113f+0x11f1+-0xb0]=_0x258eee[-0x1cb1*0x1+-0x1*-0x1981+0x3*0x112],_0x270057[0x1624+-0x134+0xa75*-0x2]=_0x5dcc78,_0x5dcc78=_0x258eee[0x9*-0x42b+-0x5cb+0x2b53],_0x270057[-0x6cb*0x3+0x3*0x3ab+0x965]=_0x258eee[-0xfe4+-0x6*0xc2+-0x1f*-0xa9],_0x270057[-0x46b*-0x5+0x6c*-0x55+0xdcc]=_0x5dcc78;}else _0x270057[0x703+-0xc*-0x32e+-0x2d2b]=_0x258eee[-0x24*0x76+-0x250b+0x11e1*0x3],_0x270057[-0x1*0x279+0x22bc+-0x2*0x1021]=_0x258eee[-0xb4*-0x2d+-0xee*0x2a+0x76b],_0x270057[-0x8ee+-0x2599+0x2e89]=_0x258eee[-0x1f5*-0xb+-0x2b*0x26+0x7*-0x229],_0x270057[-0x252*-0x9+-0x196b+0x246*0x2]=_0x258eee[-0x118*-0x1c+0x1f*-0x75+-0x57c*0x3],_0x270057[-0x30b*0x4+-0x8f2+0x1522]=_0x258eee[-0x60e+0x1*-0x20c+0x1*0x81e],_0x270057[-0x3*0x5d+0x29*0x10+-0x5d*0x4]=_0x258eee[0x1*-0x1532+-0x50+0x1589],_0x270057[0x97*0x3+0x3e1*-0x1+-0x111*-0x2]=_0x258eee[0x196*0x8+-0xb3*-0x20+-0x230e],_0x270057[-0xaee*-0x2+-0x1c5*0x2+-0x124b*0x1]=_0x258eee[0x1032+-0x3*-0x249+-0xb*0x218],_0x270057[0x1d93+-0x422+0x1*-0x1969]=_0x258eee[0x6c6+0x1043+0x97*-0x27];return this;}['setFromMat'+'4'](_0x52c084){const _0x5314f7=_0x52c084['data'],_0x32795f=this['data'];return _0x32795f[-0x3*0x5f3+0xeb6+-0x49*-0xb]=_0x5314f7[0x1a8c+-0x14d4+-0x5b8],_0x32795f[0x17d2+0x1ace+-0x329f]=_0x5314f7[0x1207+0xe1c+0x1c9*-0x12],_0x32795f[0x14a2+-0x217a+0xcda]=_0x5314f7[-0x5*-0x381+0x287*0xf+-0x376c],_0x32795f[0x2af*0x5+-0x1*-0x11b9+-0x1f21]=_0x5314f7[0x2685+0x1*-0x18fb+0x2*-0x6c3],_0x32795f[-0x208f+-0x1*-0xb8b+0x4*0x542]=_0x5314f7[0x5*-0x6d2+-0x1*-0x2464+-0x245],_0x32795f[-0x1409*-0x1+-0x1a*-0xef+-0x2c4a]=_0x5314f7[0x713+0x1*-0xda2+-0x5*-0x151],_0x32795f[-0x3ea*0x3+-0x15d2+0x3*0xb32]=_0x5314f7[0xb15*-0x1+-0x18c2+0x23df],_0x32795f[-0x195*0x1+-0x2*0xd0a+0x4*0x6ec]=_0x5314f7[0xf65+0x947+-0x18a3],_0x32795f[0x2547+-0x20e8+0x457*-0x1]=_0x5314f7[-0x1*0x1ba8+0xa1*-0x5+-0x1*-0x1ed7],this;}['setFromQua'+'t'](_0x429668){const _0x4a192b=_0x429668['x'],_0xd90799=_0x429668['y'],_0x429ebc=_0x429668['z'],_0x5565b9=_0x429668['w'],_0x4e06e0=_0x4a192b+_0x4a192b,_0x7b525d=_0xd90799+_0xd90799,_0xd78148=_0x429ebc+_0x429ebc,_0x1343fc=_0x4a192b*_0x4e06e0,_0x127dfc=_0x4a192b*_0x7b525d,_0x47a38a=_0x4a192b*_0xd78148,_0x1b7284=_0xd90799*_0x7b525d,_0x24f9cc=_0xd90799*_0xd78148,_0x9c8d62=_0x429ebc*_0xd78148,_0x5b5fe4=_0x5565b9*_0x4e06e0,_0x4c8381=_0x5565b9*_0x7b525d,_0x2c30b4=_0x5565b9*_0xd78148,_0x5c2d4d=this['data'];return _0x5c2d4d[0x1f2+-0xb42*-0x1+-0xd34]=0x61*0xc+-0x13ec+0xf61-(_0x1b7284+_0x9c8d62),_0x5c2d4d[0x1f9+0x1*-0x26cf+0x24d7]=_0x127dfc+_0x2c30b4,_0x5c2d4d[-0x1f5e+-0x192d+0x388d]=_0x47a38a-_0x4c8381,_0x5c2d4d[0x691*0x1+-0x24a6+-0x4*-0x786]=_0x127dfc-_0x2c30b4,_0x5c2d4d[0x75b*0x1+-0x1965+0x120e]=-0x1c3f*-0x1+0xf53+-0x2b91-(_0x1343fc+_0x9c8d62),_0x5c2d4d[-0x1446+-0x121a+0x2665]=_0x24f9cc+_0x5b5fe4,_0x5c2d4d[0xbf8*-0x1+0x39e*-0x4+0x1a76]=_0x47a38a+_0x4c8381,_0x5c2d4d[-0x204b*0x1+-0x63*0x3e+0x384c]=_0x24f9cc-_0x5b5fe4,_0x5c2d4d[-0x11*0x73+0x67e+-0x7*-0x2b]=0x1090+0xc*-0x1bb+0x435-(_0x1343fc+_0x1b7284),this;}['invertMat4'](_0xa93840){const _0x3e8922=_0xa93840['data'],_0x603f1b=_0x3e8922[-0x1*0x1143+0x9d8+0x76b],_0x10c543=_0x3e8922[-0x1456+0x2*-0x830+0x24b7],_0xc31e45=_0x3e8922[-0x48+0x21f1*0x1+0x5*-0x6bb],_0x4d7390=_0x3e8922[-0x3d7+-0x2369+0x2744],_0x6f90e0=_0x3e8922[0x1*-0x16b3+-0x2f6*-0xa+-0x9*0xc4],_0x1213ff=_0x3e8922[-0x229d*-0x1+-0x2581+0x2ea],_0x3aa22f=_0x3e8922[-0x6be+-0x1a8b+0x2151],_0x44c391=_0x3e8922[0x46*0x3+0x3*0x5f7+-0x12ae*0x1],_0x298b52=_0x3e8922[0x1*-0x94d+0x113+0x844],_0xb3d891=_0x298b52*_0x6f90e0-_0x1213ff*_0x44c391,_0x561bbd=-_0x298b52*_0x10c543+_0xc31e45*_0x44c391,_0x2ba73a=_0x1213ff*_0x10c543-_0xc31e45*_0x6f90e0,_0xcd18c8=-_0x298b52*_0x4d7390+_0x1213ff*_0x3aa22f,_0x47572a=_0x298b52*_0x603f1b-_0xc31e45*_0x3aa22f,_0x1ab284=-_0x1213ff*_0x603f1b+_0xc31e45*_0x4d7390,_0x1ee1a4=_0x44c391*_0x4d7390-_0x6f90e0*_0x3aa22f,_0x464637=-_0x44c391*_0x603f1b+_0x10c543*_0x3aa22f,_0x37acff=_0x6f90e0*_0x603f1b-_0x10c543*_0x4d7390,_0x4638c5=_0x603f1b*_0xb3d891+_0x10c543*_0xcd18c8+_0xc31e45*_0x1ee1a4;if(_0x4638c5===-0x52*-0x1+-0x9*-0x185+-0xdff)this['setIdentit'+'y']();else{const _0x2243f9=(0x1420+0x2*-0x1079+0xcd3)/_0x4638c5,_0x1cd0e8=this['data'];_0x1cd0e8[-0x14aa+-0xde3+0x228d]=_0xb3d891*_0x2243f9,_0x1cd0e8[0x92*0x1+0x4*-0x908+-0x238f*-0x1]=_0x561bbd*_0x2243f9,_0x1cd0e8[-0x7+-0xd9*0x28+0x1*0x21f1]=_0x2ba73a*_0x2243f9,_0x1cd0e8[-0x5e9+0x1*-0x13d5+-0x19c1*-0x1]=_0xcd18c8*_0x2243f9,_0x1cd0e8[-0x1e55+-0x1*-0x151d+0x93c]=_0x47572a*_0x2243f9,_0x1cd0e8[-0x6*0x28b+-0x3*-0x60c+-0x2dd]=_0x1ab284*_0x2243f9,_0x1cd0e8[-0x26e5+-0xdb9+-0x4*-0xd29]=_0x1ee1a4*_0x2243f9,_0x1cd0e8[-0x8c1+-0xd48+0x1610]=_0x464637*_0x2243f9,_0x1cd0e8[0x2*-0xf59+-0x2681*0x1+0x1*0x453b]=_0x37acff*_0x2243f9;}return this;}['transformV'+'ector'](_0x98c7ec,_0x25d929=new A()){const _0x157ca3=this['data'],{x:_0x71d2bd,y:_0x828efe,z:_0x15b76c}=_0x98c7ec;return _0x25d929['x']=_0x71d2bd*_0x157ca3[-0x387*0x1+0x2470+0x19*-0x151]+_0x828efe*_0x157ca3[-0x26d8+0x11dd+0x14fe]+_0x15b76c*_0x157ca3[-0x1483+0x18b3+-0xd*0x52],_0x25d929['y']=_0x71d2bd*_0x157ca3[-0x1c1*-0x1+-0x2*0xae2+0x15*0xf4]+_0x828efe*_0x157ca3[-0x1dbe+-0x172f+0x1*0x34f1]+_0x15b76c*_0x157ca3[0x6*-0x543+-0x70f+-0x1354*-0x2],_0x25d929['z']=_0x71d2bd*_0x157ca3[-0xaa7+-0x2*-0xe23+0x9*-0x1f5]+_0x828efe*_0x157ca3[0x2421+0xb05+-0x2f21]+_0x15b76c*_0x157ca3[0x7*0x1ba+0xeb3*-0x1+0x2a5],_0x25d929;}};c(oa,'IDENTITY',Object['freeze'](new oa())),c(oa,'ZERO',Object['freeze'](new oa()['set']([-0x1ee*0x1+-0x161f+0x180d,0x3b5+0xf4*0x8+-0x3c7*0x3,-0x1f6e+-0x9e+0x200c,0x1443+-0x1d4a+0x1*0x907,-0x629+0xc2*0x17+-0xb45,0x1090+0x18a2*-0x1+-0x1*-0x812,0x1925*0x1+0x2*-0x12c4+0x7*0x1c5,0x4a3*0x2+-0x29*-0x14+-0xc7a,0x2*-0x82f+-0x1820+-0x8e*-0x49])));let Js=oa;const Pt=class Pt{constructor(_0x27ffb9=-0x13c6+-0x525+-0x18eb*-0x1,_0x336b0e=0xe8f+-0x1988+-0xaf9*-0x1){c(this,'x'),c(this,'y'),_0x27ffb9['length']===-0x2*-0x260+0xd9d+-0x125b?(this['x']=_0x27ffb9[0x1acf*-0x1+-0x186*0x5+0x226d*0x1],this['y']=_0x27ffb9[0x597*-0x2+-0x199*-0x1+0x996]):(this['x']=_0x27ffb9,this['y']=_0x336b0e);}['add'](_0x315420){return this['x']+=_0x315420['x'],this['y']+=_0x315420['y'],this;}['add2'](_0x16369e,_0x3afd9a){return this['x']=_0x16369e['x']+_0x3afd9a['x'],this['y']=_0x16369e['y']+_0x3afd9a['y'],this;}['addScalar'](_0x54f38a){return this['x']+=_0x54f38a,this['y']+=_0x54f38a,this;}['addScaled'](_0x1bcb22,_0x3c816a){return this['x']+=_0x1bcb22['x']*_0x3c816a,this['y']+=_0x1bcb22['y']*_0x3c816a,this;}['clone'](){const _0x2fe904=this['constructo'+'r'];return new _0x2fe904(this['x'],this['y']);}['copy'](_0x27b791){return this['x']=_0x27b791['x'],this['y']=_0x27b791['y'],this;}['cross'](_0x19f7a3){return this['x']*_0x19f7a3['y']-this['y']*_0x19f7a3['x'];}['distance'](_0x54c11){const _0x5c912a=this['x']-_0x54c11['x'],_0x4d0f16=this['y']-_0x54c11['y'];return Math['sqrt'](_0x5c912a*_0x5c912a+_0x4d0f16*_0x4d0f16);}['div'](_0x570a3c){return this['x']/=_0x570a3c['x'],this['y']/=_0x570a3c['y'],this;}['div2'](_0x36b09f,_0x4402b8){return this['x']=_0x36b09f['x']/_0x4402b8['x'],this['y']=_0x36b09f['y']/_0x4402b8['y'],this;}['divScalar'](_0xb90026){return this['x']/=_0xb90026,this['y']/=_0xb90026,this;}['dot'](_0x18b6d8){return this['x']*_0x18b6d8['x']+this['y']*_0x18b6d8['y'];}['equals'](_0x3010d1){return this['x']===_0x3010d1['x']&&this['y']===_0x3010d1['y'];}['equalsAppr'+'ox'](_0x217136,_0x264a87=0x3*0xb99+-0x1617+-0x6*0x21e+0.000001){return Math['abs'](this['x']-_0x217136['x'])<_0x264a87&&Math['abs'](this['y']-_0x217136['y'])<_0x264a87;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x31f5b7,_0x448931,_0x436f4a){return this['x']=_0x31f5b7['x']+_0x436f4a*(_0x448931['x']-_0x31f5b7['x']),this['y']=_0x31f5b7['y']+_0x436f4a*(_0x448931['y']-_0x31f5b7['y']),this;}['mul'](_0x5be77a){return this['x']*=_0x5be77a['x'],this['y']*=_0x5be77a['y'],this;}['mul2'](_0x320a53,_0x4e565c){return this['x']=_0x320a53['x']*_0x4e565c['x'],this['y']=_0x320a53['y']*_0x4e565c['y'],this;}['mulScalar'](_0x5327c2){return this['x']*=_0x5327c2,this['y']*=_0x5327c2,this;}['normalize'](_0x55a30b=this){const _0x1262c5=_0x55a30b['x']*_0x55a30b['x']+_0x55a30b['y']*_0x55a30b['y'];if(_0x1262c5>-0xd9+0x24f4*0x1+-0x27*0xed){const _0x3767d6=(-0xa61+-0xe6+0x98*0x13)/Math['sqrt'](_0x1262c5);this['x']=_0x55a30b['x']*_0x3767d6,this['y']=_0x55a30b['y']*_0x3767d6;}return this;}['rotate'](_0x3c7552){const _0x4058ce=Math['atan2'](this['x'],this['y'])+_0x3c7552*z['DEG_TO_RAD'],_0x100c86=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x4058ce)*_0x100c86,this['y']=Math['cos'](_0x4058ce)*_0x100c86,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*z['RAD_TO_DEG'];}['angleTo'](_0x41bde9){return Math['atan2'](this['x']*_0x41bde9['y']+this['y']*_0x41bde9['x'],this['x']*_0x41bde9['x']+this['y']*_0x41bde9['y'])*z['RAD_TO_DEG'];}['floor'](_0x52e90a=this){return this['x']=Math['floor'](_0x52e90a['x']),this['y']=Math['floor'](_0x52e90a['y']),this;}['ceil'](_0x4b9b5e=this){return this['x']=Math['ceil'](_0x4b9b5e['x']),this['y']=Math['ceil'](_0x4b9b5e['y']),this;}['round'](_0x4aeea3=this){return this['x']=Math['round'](_0x4aeea3['x']),this['y']=Math['round'](_0x4aeea3['y']),this;}['min'](_0x203e5b){return _0x203e5b['x']<this['x']&&(this['x']=_0x203e5b['x']),_0x203e5b['y']<this['y']&&(this['y']=_0x203e5b['y']),this;}['max'](_0x23a3bc){return _0x23a3bc['x']>this['x']&&(this['x']=_0x23a3bc['x']),_0x23a3bc['y']>this['y']&&(this['y']=_0x23a3bc['y']),this;}['set'](_0x5a5d1e,_0x589dbe){return this['x']=_0x5a5d1e,this['y']=_0x589dbe,this;}['sub'](_0x3c2874){return this['x']-=_0x3c2874['x'],this['y']-=_0x3c2874['y'],this;}['sub2'](_0x3e584,_0x2fbf9c){return this['x']=_0x3e584['x']-_0x2fbf9c['x'],this['y']=_0x3e584['y']-_0x2fbf9c['y'],this;}['subScalar'](_0x470a65){return this['x']-=_0x470a65,this['y']-=_0x470a65,this;}['fromArray'](_0x489666,_0x1961dc=0x618+0x1711*-0x1+0x10f9){return this['x']=_0x489666[_0x1961dc]??this['x'],this['y']=_0x489666[_0x1961dc+(0x8df*-0x1+-0x3*-0x3b3+-0x239*0x1)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x20eb00=[],_0x5cbfca=-0x6a1*0x1+0x5d*0xa+0x2ff){return _0x20eb00[_0x5cbfca]=this['x'],_0x20eb00[_0x5cbfca+(-0x6c4+0x1*0x2ce+0x3f7)]=this['y'],_0x20eb00;}static['angleRad'](_0x3057e2,_0x297300){return Math['atan2'](_0x3057e2['x']*_0x297300['y']-_0x3057e2['y']*_0x297300['x'],_0x3057e2['x']*_0x297300['x']+_0x3057e2['y']*_0x297300['y']);}};c(Pt,'ZERO',Object['freeze'](new Pt(0x2045+0x1f81+-0x3fc6,-0xdc*0x2+0x1d98+-0x1be0))),c(Pt,'HALF',Object['freeze'](new Pt(0x16b6+0x7a5+-0x1e5b+0.5,-0x1f39+-0x71b+-0x2654*-0x1+0.5))),c(Pt,'ONE',Object['freeze'](new Pt(0x1a71*0x1+-0x2*0xc3e+-0x1f4,0x21e4+-0x1*-0x1ce5+-0x3ec8))),c(Pt,'UP',Object['freeze'](new Pt(-0x251d+-0x61b*-0x2+-0x4b*-0x55,-0xe*-0x1+0x21e3+-0x21f0))),c(Pt,'DOWN',Object['freeze'](new Pt(-0xa5f*-0x3+0x1*-0x871+-0x16ac,-(0x1c1b+0x2c5+-0x1edf)))),c(Pt,'RIGHT',Object['freeze'](new Pt(-0x8*0x4ac+0x58*0x3f+0x5*0x325,0x1*0xda9+0x6c5*0x1+-0x146e))),c(Pt,'LEFT',Object['freeze'](new Pt(-(-0x24ad+-0xab1*0x1+0x2f5f),-0x1931+0x7ee+-0x3*-0x5c1)));let W=Pt;const Zi=class Zi{constructor(_0x2586e6=0x5b*-0x11+-0x254f+0x2b5a,_0x4211b0=0xc7d+-0x1301+0x22c*0x3,_0x595d91=-0x10f6+-0x4*-0x32c+0x446,_0x2e9a46=0x2157+-0x1ab3*-0x1+0x1e05*-0x2){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x2586e6['length']===-0xb3*0x18+-0x3*0x3d4+0x1c48?(this['x']=_0x2586e6[-0x16bd+-0x4*-0x13a+0x5*0x391],this['y']=_0x2586e6[-0x1998+-0xd*0x1c3+0x3080],this['z']=_0x2586e6[0x23*-0x13+-0x449*0x2+0x1*0xb2d],this['w']=_0x2586e6[-0x2090+-0x60d*-0x3+0xe6c]):(this['x']=_0x2586e6,this['y']=_0x4211b0,this['z']=_0x595d91,this['w']=_0x2e9a46);}['add'](_0x455f56){return this['x']+=_0x455f56['x'],this['y']+=_0x455f56['y'],this['z']+=_0x455f56['z'],this['w']+=_0x455f56['w'],this;}['add2'](_0x78c8af,_0xc3c0ba){return this['x']=_0x78c8af['x']+_0xc3c0ba['x'],this['y']=_0x78c8af['y']+_0xc3c0ba['y'],this['z']=_0x78c8af['z']+_0xc3c0ba['z'],this['w']=_0x78c8af['w']+_0xc3c0ba['w'],this;}['addScalar'](_0x45ad7b){return this['x']+=_0x45ad7b,this['y']+=_0x45ad7b,this['z']+=_0x45ad7b,this['w']+=_0x45ad7b,this;}['addScaled'](_0x4b2039,_0x4878ad){return this['x']+=_0x4b2039['x']*_0x4878ad,this['y']+=_0x4b2039['y']*_0x4878ad,this['z']+=_0x4b2039['z']*_0x4878ad,this['w']+=_0x4b2039['w']*_0x4878ad,this;}['clone'](){const _0x58c173=this['constructo'+'r'];return new _0x58c173(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x4e1f08){return this['x']=_0x4e1f08['x'],this['y']=_0x4e1f08['y'],this['z']=_0x4e1f08['z'],this['w']=_0x4e1f08['w'],this;}['div'](_0x14f0da){return this['x']/=_0x14f0da['x'],this['y']/=_0x14f0da['y'],this['z']/=_0x14f0da['z'],this['w']/=_0x14f0da['w'],this;}['div2'](_0x45db74,_0x3a55fa){return this['x']=_0x45db74['x']/_0x3a55fa['x'],this['y']=_0x45db74['y']/_0x3a55fa['y'],this['z']=_0x45db74['z']/_0x3a55fa['z'],this['w']=_0x45db74['w']/_0x3a55fa['w'],this;}['divScalar'](_0x1259a6){return this['x']/=_0x1259a6,this['y']/=_0x1259a6,this['z']/=_0x1259a6,this['w']/=_0x1259a6,this;}['dot'](_0x58c286){return this['x']*_0x58c286['x']+this['y']*_0x58c286['y']+this['z']*_0x58c286['z']+this['w']*_0x58c286['w'];}['equals'](_0x46286b){return this['x']===_0x46286b['x']&&this['y']===_0x46286b['y']&&this['z']===_0x46286b['z']&&this['w']===_0x46286b['w'];}['equalsAppr'+'ox'](_0x3940e8,_0x4e69fe=-0x2*-0xc6d+-0x91+-0x1849*0x1+0.000001){return Math['abs'](this['x']-_0x3940e8['x'])<_0x4e69fe&&Math['abs'](this['y']-_0x3940e8['y'])<_0x4e69fe&&Math['abs'](this['z']-_0x3940e8['z'])<_0x4e69fe&&Math['abs'](this['w']-_0x3940e8['w'])<_0x4e69fe;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x423f7b,_0x25c9ad,_0x3af44e){return this['x']=_0x423f7b['x']+_0x3af44e*(_0x25c9ad['x']-_0x423f7b['x']),this['y']=_0x423f7b['y']+_0x3af44e*(_0x25c9ad['y']-_0x423f7b['y']),this['z']=_0x423f7b['z']+_0x3af44e*(_0x25c9ad['z']-_0x423f7b['z']),this['w']=_0x423f7b['w']+_0x3af44e*(_0x25c9ad['w']-_0x423f7b['w']),this;}['mul'](_0x41c153){return this['x']*=_0x41c153['x'],this['y']*=_0x41c153['y'],this['z']*=_0x41c153['z'],this['w']*=_0x41c153['w'],this;}['mul2'](_0x3677e8,_0x4308d9){return this['x']=_0x3677e8['x']*_0x4308d9['x'],this['y']=_0x3677e8['y']*_0x4308d9['y'],this['z']=_0x3677e8['z']*_0x4308d9['z'],this['w']=_0x3677e8['w']*_0x4308d9['w'],this;}['mulScalar'](_0x2224cd){return this['x']*=_0x2224cd,this['y']*=_0x2224cd,this['z']*=_0x2224cd,this['w']*=_0x2224cd,this;}['normalize'](_0x4278e1=this){const _0x2279b9=_0x4278e1['x']*_0x4278e1['x']+_0x4278e1['y']*_0x4278e1['y']+_0x4278e1['z']*_0x4278e1['z']+_0x4278e1['w']*_0x4278e1['w'];if(_0x2279b9>-0x2*0xdd3+-0x24ae+-0x202a*-0x2){const _0x34042f=(0x3*0x5bf+-0x74*0x3+-0xfe0)/Math['sqrt'](_0x2279b9);this['x']=_0x4278e1['x']*_0x34042f,this['y']=_0x4278e1['y']*_0x34042f,this['z']=_0x4278e1['z']*_0x34042f,this['w']=_0x4278e1['w']*_0x34042f;}return this;}['floor'](_0x5c8f25=this){return this['x']=Math['floor'](_0x5c8f25['x']),this['y']=Math['floor'](_0x5c8f25['y']),this['z']=Math['floor'](_0x5c8f25['z']),this['w']=Math['floor'](_0x5c8f25['w']),this;}['ceil'](_0x3207b2=this){return this['x']=Math['ceil'](_0x3207b2['x']),this['y']=Math['ceil'](_0x3207b2['y']),this['z']=Math['ceil'](_0x3207b2['z']),this['w']=Math['ceil'](_0x3207b2['w']),this;}['round'](_0x2bca0f=this){return this['x']=Math['round'](_0x2bca0f['x']),this['y']=Math['round'](_0x2bca0f['y']),this['z']=Math['round'](_0x2bca0f['z']),this['w']=Math['round'](_0x2bca0f['w']),this;}['min'](_0xd95ea5){return _0xd95ea5['x']<this['x']&&(this['x']=_0xd95ea5['x']),_0xd95ea5['y']<this['y']&&(this['y']=_0xd95ea5['y']),_0xd95ea5['z']<this['z']&&(this['z']=_0xd95ea5['z']),_0xd95ea5['w']<this['w']&&(this['w']=_0xd95ea5['w']),this;}['max'](_0x208648){return _0x208648['x']>this['x']&&(this['x']=_0x208648['x']),_0x208648['y']>this['y']&&(this['y']=_0x208648['y']),_0x208648['z']>this['z']&&(this['z']=_0x208648['z']),_0x208648['w']>this['w']&&(this['w']=_0x208648['w']),this;}['set'](_0x2b8050,_0x278ae2,_0x1bd173,_0x5c46a2){return this['x']=_0x2b8050,this['y']=_0x278ae2,this['z']=_0x1bd173,this['w']=_0x5c46a2,this;}['sub'](_0x44e0f4){return this['x']-=_0x44e0f4['x'],this['y']-=_0x44e0f4['y'],this['z']-=_0x44e0f4['z'],this['w']-=_0x44e0f4['w'],this;}['sub2'](_0x15f0e1,_0x1e60fd){return this['x']=_0x15f0e1['x']-_0x1e60fd['x'],this['y']=_0x15f0e1['y']-_0x1e60fd['y'],this['z']=_0x15f0e1['z']-_0x1e60fd['z'],this['w']=_0x15f0e1['w']-_0x1e60fd['w'],this;}['subScalar'](_0x4f61ce){return this['x']-=_0x4f61ce,this['y']-=_0x4f61ce,this['z']-=_0x4f61ce,this['w']-=_0x4f61ce,this;}['fromArray'](_0x3a93af,_0x1cc69b=-0x39*0xa3+0x1cd5+0x776*0x1){return this['x']=_0x3a93af[_0x1cc69b]??this['x'],this['y']=_0x3a93af[_0x1cc69b+(-0x7c6+0x902+0x23*-0x9)]??this['y'],this['z']=_0x3a93af[_0x1cc69b+(-0x1093+0x1fc5+-0x30*0x51)]??this['z'],this['w']=_0x3a93af[_0x1cc69b+(0xd32+0x1*-0x1ed3+0x4*0x469)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x5a7730=[],_0x26c23d=-0x3ec*0x8+0x1b9b+0x3c5){return _0x5a7730[_0x26c23d]=this['x'],_0x5a7730[_0x26c23d+(0x1*-0x1d7e+0x192e*-0x1+0x36ad)]=this['y'],_0x5a7730[_0x26c23d+(-0x1249+-0x50*0x76+0x372b)]=this['z'],_0x5a7730[_0x26c23d+(-0xcf8+0x1384+-0x689)]=this['w'],_0x5a7730;}};c(Zi,'ZERO',Object['freeze'](new Zi(-0x13b3*-0x1+-0x18fd+-0x2a5*-0x2,-0x1*0x4a8+-0x1a40+-0x1ee8*-0x1,0x20a1+0x1da2+-0x3e43,0x1399+0x77+-0x1ac*0xc))),c(Zi,'HALF',Object['freeze'](new Zi(0x848+0x270c+0xd*-0x3a4+0.5,-0x1b2a+-0xbfb+0xb*0x38f+0.5,-0x3*-0x46d+-0x1915+0xbce*0x1+0.5,0x2029+-0xb5+-0x1f74+0.5))),c(Zi,'ONE',Object['freeze'](new Zi(0x2470+-0xd28*-0x2+-0x1*0x3ebf,-0x1d*-0x10a+-0x2221*0x1+-0x400*-0x1,0x204*-0x1+-0x15eb+0x17f0,0x64f+0x1*0x1e25+-0x2473)));let ee=Zi;const Wa=new W(),ys=new A(),zs=new A(),Us=new A(),vl=new A(),Vr=class Vr{constructor(){c(this,'data',new Float32Array(0x6e2+0x1fb9*-0x1+0x18e7)),this['data'][0x11b1+-0x7c8+0x3b*-0x2b]=this['data'][0xdc1+0x8*-0x28f+-0x2*-0x35e]=this['data'][0x17c1+-0xd12*0x1+-0xaa5]=this['data'][0x1422*-0x1+-0x77c*-0x1+-0x1*-0xcb5]=0x1dd*-0x1+0x129e+-0x10c0;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x3273e4,_0x269745,_0x23671c,_0x36a73c,_0x4c06e3){_0x4c06e3?(_0x3273e4['x']=_0x36a73c*Math['tan'](_0x269745*Math['PI']/(0x2362+0x3e5*0x3+-0x2da9*0x1)),_0x3273e4['y']=_0x3273e4['x']/_0x23671c):(_0x3273e4['y']=_0x36a73c*Math['tan'](_0x269745*Math['PI']/(0x12cc+-0x95f*0x1+-0x805)),_0x3273e4['x']=_0x3273e4['y']*_0x23671c);}['add2'](_0x4d7990,_0xe582e0){const _0x549034=_0x4d7990['data'],_0x139079=_0xe582e0['data'],_0x36d55b=this['data'];return _0x36d55b[-0x1078+-0x14*0x92+-0x10*-0x1be]=_0x549034[0x20fa+-0xea3+-0x1257]+_0x139079[-0x19*-0xc5+0x51c*0x1+0x17*-0x10f],_0x36d55b[-0x47b*0x1+-0x199*-0x1+0x2e3]=_0x549034[0x11a5*-0x1+0x21d0+-0x102a]+_0x139079[0x2322+-0x1fb*0x11+0x11*-0x16],_0x36d55b[0x627+0x4ab+-0x2b4*0x4]=_0x549034[0x2d*0xb7+-0xc05+-0x509*0x4]+_0x139079[-0xa62+0x1407+-0x1*0x9a3],_0x36d55b[-0xfc+-0x11*-0x10f+-0x1100]=_0x549034[0x3*0x9b3+0x560+-0x2276]+_0x139079[0x108d+0x174b+-0x21*0x135],_0x36d55b[-0x713*0x5+-0x30e+0x2671]=_0x549034[0x17a*-0x7+0x1*-0x2d1+0xd2b]+_0x139079[-0x8b*-0x13+-0x1*0x186b+-0xe1e*-0x1],_0x36d55b[0x24bf+0x2*0x472+-0x1*0x2d9e]=_0x549034[0xe*-0x1c0+0xc47*0x1+-0x2*-0x61f]+_0x139079[0x1bf1+0x1*-0x194+-0x4*0x696],_0x36d55b[0x9*0x101+-0x170+-0x793]=_0x549034[-0x5*0x2e3+-0x9*-0x295+-0x8c8]+_0x139079[0xaf6+0x1e6d+-0x295d],_0x36d55b[-0x30*0x5a+0x1cd*0x5+0x7e6]=_0x549034[-0x9*0x3c7+0x649*0x3+0xf2b]+_0x139079[0x292*0xd+0x1*-0x1745+-0xa1e],_0x36d55b[-0x3*0x16e+0x1*-0x2d6+0x728*0x1]=_0x549034[0xc81+-0x110f+0x496]+_0x139079[-0x833+-0x240e+0x2c49],_0x36d55b[0x3*0x4d5+-0x1cdd+0xe67]=_0x549034[-0x18*0x10b+-0x1040+0x1*0x2951]+_0x139079[0x1a9c*0x1+0x67*-0x11+0x1*-0x13bc],_0x36d55b[-0x2294+0x1f*0x4b+0x1989]=_0x549034[-0x90f+0xeb*-0x23+-0x1*-0x293a]+_0x139079[-0x148f+-0x1b13*-0x1+0x1*-0x67a],_0x36d55b[-0x11d0+-0x1775+0x2950]=_0x549034[0xe6b+0x2*0x40a+0x1df*-0xc]+_0x139079[-0x1f92+-0xda*-0x2+-0xf7*-0x1f],_0x36d55b[0x1f5e+0x18bd*-0x1+-0x695]=_0x549034[-0x181b+0x1a56+-0x22f]+_0x139079[0x1327+-0x194a+0x62f],_0x36d55b[-0x21cb+0x6*-0x26+0x22bc]=_0x549034[0x4e*-0x3b+0x39*-0x9d+0x34fc*0x1]+_0x139079[0x3*0x5df+0x8*0x4bd+-0x19*0x238],_0x36d55b[-0x1ff4+0x2189+-0x187]=_0x549034[0x2334+0x1338+-0x365e*0x1]+_0x139079[-0x21ac+0xff5*0x2+-0x74*-0x4],_0x36d55b[-0xd*-0x2ef+0x19fe+-0x2*0x2009]=_0x549034[-0x107e+0x701*0x3+-0x476*0x1]+_0x139079[-0xd59+0x2526+-0x17be],this;}['add'](_0x3d963e){return this['add2'](this,_0x3d963e);}['clone'](){const _0x2f76c3=this['constructo'+'r'];return new _0x2f76c3()['copy'](this);}['copy'](_0x2c75d4){const _0x44a488=_0x2c75d4['data'],_0x533246=this['data'];return _0x533246[-0x2cb*-0x7+0x229*0x2+-0x2a7*0x9]=_0x44a488[0xdce+0x1*0x484+-0x1d5*0xa],_0x533246[0x1bb4+-0x1d4+-0x19df]=_0x44a488[0x1*0x19c7+0x2*-0x4f3+-0xfe0],_0x533246[0x72b*-0x2+0xaee*0x1+0x36a*0x1]=_0x44a488[0x1c1*0xc+-0x48*-0x12+-0x1a1a],_0x533246[0x1*0x9b7+-0x25d*-0x5+-0x313*0x7]=_0x44a488[0x17e4+-0x58a*-0x7+-0x3ea7],_0x533246[0x1013+0x2050+-0xcb*0x3d]=_0x44a488[0x95c*0x4+0x21*-0x15+-0x22b7],_0x533246[-0x1a13*-0x1+0x1*-0x13d0+0x5e*-0x11]=_0x44a488[0x25ab+-0x4a7+-0x20ff*0x1],_0x533246[0x1388+-0x104d+-0x335*0x1]=_0x44a488[-0xa6*0x34+-0x198*-0x9+-0x17e*-0xd],_0x533246[-0x17*0x1a7+-0x41c+0x2a24]=_0x44a488[0xc3e*-0x1+-0x4*-0x81e+-0x1433],_0x533246[-0x1761+0x1*0x9e8+0xd81]=_0x44a488[-0x1e65*-0x1+-0x34*-0x53+-0x2f39],_0x533246[-0x1fcc+0xee7+-0x10ee*-0x1]=_0x44a488[0x4*-0x324+-0x86*0x2c+0x7*0x517],_0x533246[0x1f3d+0xaec+0x29*-0x107]=_0x44a488[0x28*-0xad+0x118b+0x987],_0x533246[-0xf*-0x5b+0xd50+0x2*-0x94d]=_0x44a488[0x2*-0x800+0x1*-0x441+0x144c],_0x533246[0x13*-0x54+-0x2165+0x27ad]=_0x44a488[0xd74+0x3*-0x224+-0xc*0x95],_0x533246[0xa8c+0x35b*-0x4+0x2ed]=_0x44a488[-0x59*-0x61+0x99d+-0x2b49],_0x533246[0x39d*-0x6+0x2389*0x1+-0xdcd]=_0x44a488[0x18f*-0x9+0x1*-0x6af+0x531*0x4],_0x533246[0x3d1+-0x6*-0x175+0xc8*-0x10]=_0x44a488[0x20b1+-0x6*0x476+-0x5de],this;}['equals'](_0x10ffe0){const _0x302443=this['data'],_0x3b8395=_0x10ffe0['data'];return _0x302443[-0x1*0x104d+0x1011+0x3c]===_0x3b8395[0x1f44+-0xc7b+-0x12c9]&&_0x302443[-0x217b+-0x37+0x21b3]===_0x3b8395[0x1e3*0xb+-0x2184+0x13*0xac]&&_0x302443[-0x1dc2+-0x8a0*0x2+0x2f04]===_0x3b8395[-0x2028+0x51b*-0x3+-0x8f*-0x55]&&_0x302443[-0xc68*0x3+-0xd*-0xf9+0x832*0x3]===_0x3b8395[0x62a*-0x6+-0x1b12+0x4011]&&_0x302443[-0x2677+-0x2*-0x910+-0xc1*-0x1b]===_0x3b8395[-0x1b7e+0x131c+0x866]&&_0x302443[-0xf6*0x27+-0x54f*-0x2+0x3d7*0x7]===_0x3b8395[0x80d+-0x2113*0x1+0x190b]&&_0x302443[-0x207a+0x1a01+0x67f]===_0x3b8395[0x172c+0x60*0x31+-0x5*0x84e]&&_0x302443[-0x2*-0xc0a+0x168f+-0x274*0x13]===_0x3b8395[-0x2217+0x1f17+-0x19*-0x1f]&&_0x302443[0x785*-0x3+0x195e+-0x2c7*0x1]===_0x3b8395[-0x366+0x197d+-0x160f]&&_0x302443[0x1acf+0x1ff6+-0x3abc]===_0x3b8395[-0x96e+-0x4a9*-0x8+-0x1bd1]&&_0x302443[-0x8*0x33b+-0x2175+0x3b57]===_0x3b8395[-0x25e+0x40b+-0x1a3]&&_0x302443[-0x7e1*0x1+-0x2*0x9f0+0x1bcc]===_0x3b8395[0x58+-0x940+0x8f3]&&_0x302443[-0x13*-0xf1+-0x201+0x2*-0x7eb]===_0x3b8395[0x1f9f*0x1+-0xff9*-0x2+-0x65*0xa1]&&_0x302443[0x2*-0x1235+0x1f*-0xcc+0x3d2b]===_0x3b8395[-0x2*-0x1333+0x1d3b+-0x14*0x361]&&_0x302443[-0x20a1+0xcc7+0x1a*0xc4]===_0x3b8395[0x1*0x1178+0x9*-0x1db+-0xb7]&&_0x302443[0x17*0x101+-0x1be8+-0x6*-0xd0]===_0x3b8395[0x1*-0x2f1+-0x6*0x448+0x1cb0];}['isIdentity'](){const _0x12c093=this['data'];return _0x12c093[0x2373+0x1ea5+-0x4218]===-0x18dd+0x1*0x23c9+0xaeb*-0x1&&_0x12c093[0x60a*0x3+-0x4*-0x856+-0x3375]===-0x1f72+-0x1*0x22db+0xb*0x607&&_0x12c093[0x7*0x1e7+0x1*-0x601+0xaa*-0xb]===-0x1b96+-0x11ed+-0x3d*-0xbf&&_0x12c093[-0x1192*-0x1+0x1791+-0x2920]===0x7b7*-0x5+0x2010+0x683&&_0x12c093[0x25b6+-0x11*-0x1bd+0x37*-0x139]===-0x2708+-0x23d*-0x4+0x604*0x5&&_0x12c093[0x213b+-0x3b7+-0x1d7f]===-0x69d*0x1+-0x15d2+0x1c70&&_0x12c093[0x1e7d+-0x1f77+0x100]===-0x1c86+0x15a4+0x6e2&&_0x12c093[-0x1d75+-0x1*-0x16bf+0x6bd]===-0x2*-0x107a+0x1dc+0x8*-0x45a&&_0x12c093[0x1f43+0x721+-0x265c]===-0x9*-0x12b+0x70*-0x28+0x6fd&&_0x12c093[-0x1ec4+-0x26bf+-0x2*-0x22c6]===-0xbf4+0x9cb+-0x4f*-0x7&&_0x12c093[-0x1*0xb51+-0x19a9+0x2504]===0x1*0x11a1+0x3f*-0x6a+-0x3*-0x2d2&&_0x12c093[0x222+-0x269b+0x2484]===-0x3*-0xaa5+0x1243+0x505*-0xa&&_0x12c093[0x1da9+0x24be+-0x1*0x425b]===-0x10fe+0x24ec+-0x13ee&&_0x12c093[0x1e74+0x200e+-0x3e75]===0xa48+-0x1761+-0x7*-0x1df&&_0x12c093[0xde7*0x1+0x1b*-0xbf+0x64c]===0xe2+-0xd7f+0xc9d&&_0x12c093[-0x2427+-0x487*0x1+0x28bd*0x1]===0x1eea+0xb*0x365+-0x4440;}['mul2'](_0x42891a,_0x4c5a08){const _0x3c604c=_0x42891a['data'],_0x5a1399=_0x4c5a08['data'],_0x59dc3f=this['data'],_0x4719eb=_0x3c604c[0x92f*0x1+-0x10f1*-0x1+-0x1a20],_0x5a5dcf=_0x3c604c[0x7*0x2cd+0xc88+0x2022*-0x1],_0x2d37d7=_0x3c604c[0x146*0x8+-0x2507+0x1ad9],_0x1aec20=_0x3c604c[0x1055*0x1+-0x1267+0x215],_0x147979=_0x3c604c[0x18a7+0x392+-0x1c35],_0x3cc2cd=_0x3c604c[-0x6b8*0x5+0x1eba+-0x1*-0x2e3],_0x2405e6=_0x3c604c[0x1*-0x22bd+0x222e+0x95],_0x47f7e4=_0x3c604c[-0x24ff*-0x1+-0xef4+-0x581*0x4],_0x513035=_0x3c604c[-0x2*-0x107f+-0xd1f*-0x1+-0x2e15],_0x3873db=_0x3c604c[0x1e02+0xb61+-0x4f*0x86],_0x50cd64=_0x3c604c[-0x28*-0x44+-0x1*-0x694+0x2*-0x895],_0x47335c=_0x3c604c[0x9bd+0x26ff+0x33f*-0xf],_0x31bb09=_0x3c604c[0x1*0x14c5+-0x16e5+0x1*0x22c],_0x595557=_0x3c604c[0x6e9*-0x1+-0x1f*-0x97+0xdf*-0xd],_0x48b553=_0x3c604c[0x2439+0x422*-0x1+0x3b*-0x8b],_0x4cffdc=_0x3c604c[-0x2431+0x2261+-0x1df*-0x1];let _0x3252a4,_0x5a2179,_0x49e9b4,_0x4fa382;return _0x3252a4=_0x5a1399[-0x3*0x6be+0x4*0x17e+0xe42],_0x5a2179=_0x5a1399[-0x8*0x162+0x1f80+-0x146f*0x1],_0x49e9b4=_0x5a1399[0x5*-0x6f7+0x47*0x5+0x2172],_0x4fa382=_0x5a1399[0x1*-0x24af+-0x1569+0x3a1b],_0x59dc3f[0x2058+0x563*0x7+-0x1*0x460d]=_0x4719eb*_0x3252a4+_0x147979*_0x5a2179+_0x513035*_0x49e9b4+_0x31bb09*_0x4fa382,_0x59dc3f[-0x2*0x7+-0x18eb+0xc7d*0x2]=_0x5a5dcf*_0x3252a4+_0x3cc2cd*_0x5a2179+_0x3873db*_0x49e9b4+_0x595557*_0x4fa382,_0x59dc3f[0x7c8+0xc1*0x1+-0x887]=_0x2d37d7*_0x3252a4+_0x2405e6*_0x5a2179+_0x50cd64*_0x49e9b4+_0x48b553*_0x4fa382,_0x59dc3f[-0x1*-0x17ce+-0x1723*0x1+-0xa8]=_0x1aec20*_0x3252a4+_0x47f7e4*_0x5a2179+_0x47335c*_0x49e9b4+_0x4cffdc*_0x4fa382,_0x3252a4=_0x5a1399[-0x1*0x511+0x252e+-0x2019],_0x5a2179=_0x5a1399[-0x19*-0x1+0x1a15*0x1+-0x1a29*0x1],_0x49e9b4=_0x5a1399[0x6b*0x1c+-0x8*-0x1e2+0xa3*-0x2a],_0x4fa382=_0x5a1399[0x10e7*0x2+-0xa*0x377+0xdf*0x1],_0x59dc3f[-0x52f*-0x1+-0xa*0x38f+0x1*0x1e6b]=_0x4719eb*_0x3252a4+_0x147979*_0x5a2179+_0x513035*_0x49e9b4+_0x31bb09*_0x4fa382,_0x59dc3f[-0xa6*0x21+-0x227f+0x37ea]=_0x5a5dcf*_0x3252a4+_0x3cc2cd*_0x5a2179+_0x3873db*_0x49e9b4+_0x595557*_0x4fa382,_0x59dc3f[-0x2ea*0x3+0x244b+-0x1b87]=_0x2d37d7*_0x3252a4+_0x2405e6*_0x5a2179+_0x50cd64*_0x49e9b4+_0x48b553*_0x4fa382,_0x59dc3f[-0x4e*-0x51+-0x1764+0x11*-0x13]=_0x1aec20*_0x3252a4+_0x47f7e4*_0x5a2179+_0x47335c*_0x49e9b4+_0x4cffdc*_0x4fa382,_0x3252a4=_0x5a1399[0x1*-0x609+0x1baf+-0x1*0x159e],_0x5a2179=_0x5a1399[-0x109f*-0x1+0x1*-0x6b6+-0x9e0],_0x49e9b4=_0x5a1399[-0x62*0x17+-0x214c+0x2a24],_0x4fa382=_0x5a1399[-0x1*-0x19fd+0x1*-0x1235+0x1*-0x7bd],_0x59dc3f[0x1*0x15ea+-0x1*-0x16ab+-0x5*0x8e9]=_0x4719eb*_0x3252a4+_0x147979*_0x5a2179+_0x513035*_0x49e9b4+_0x31bb09*_0x4fa382,_0x59dc3f[-0x2323+-0x20b0*-0x1+0x1*0x27c]=_0x5a5dcf*_0x3252a4+_0x3cc2cd*_0x5a2179+_0x3873db*_0x49e9b4+_0x595557*_0x4fa382,_0x59dc3f[-0xe*0x15+-0x2cc+0x22*0x1e]=_0x2d37d7*_0x3252a4+_0x2405e6*_0x5a2179+_0x50cd64*_0x49e9b4+_0x48b553*_0x4fa382,_0x59dc3f[-0x191c+-0x356*0x3+-0x1*-0x2329]=_0x1aec20*_0x3252a4+_0x47f7e4*_0x5a2179+_0x47335c*_0x49e9b4+_0x4cffdc*_0x4fa382,_0x3252a4=_0x5a1399[-0x5c+-0x1*-0x205c+-0x199*0x14],_0x5a2179=_0x5a1399[0x12f7*0x1+0x1862+-0x4*0xad3],_0x49e9b4=_0x5a1399[0x1a2b+0x1277*0x1+-0x3b7*0xc],_0x4fa382=_0x5a1399[-0x1e2*-0x2+-0x84b+0x2*0x24b],_0x59dc3f[0x12e2+-0x1d92+0x4*0x2af]=_0x4719eb*_0x3252a4+_0x147979*_0x5a2179+_0x513035*_0x49e9b4+_0x31bb09*_0x4fa382,_0x59dc3f[-0x10*0xeb+-0x140a+0x1*0x22c7]=_0x5a5dcf*_0x3252a4+_0x3cc2cd*_0x5a2179+_0x3873db*_0x49e9b4+_0x595557*_0x4fa382,_0x59dc3f[0x287*-0x3+0x2130+-0x198d]=_0x2d37d7*_0x3252a4+_0x2405e6*_0x5a2179+_0x50cd64*_0x49e9b4+_0x48b553*_0x4fa382,_0x59dc3f[-0xf2+0x782*-0x5+0xb*0x381]=_0x1aec20*_0x3252a4+_0x47f7e4*_0x5a2179+_0x47335c*_0x49e9b4+_0x4cffdc*_0x4fa382,this;}['mulAffine2'](_0x282dcd,_0x2a72a2){const _0x3181a2=_0x282dcd['data'],_0x196646=_0x2a72a2['data'],_0x4e05b1=this['data'],_0x42d15f=_0x3181a2[-0xac5*0x1+-0x3*-0xcc8+0x3*-0x931],_0x57b28d=_0x3181a2[-0x1*-0x1724+0x201f*-0x1+-0x2e*-0x32],_0x244442=_0x3181a2[0x3d8*0xa+0x1a*-0x48+-0x1f1e],_0x24dad5=_0x3181a2[0x1f*0x107+0x1337+-0x330c],_0x25a4f8=_0x3181a2[0x6*0x3b2+-0x1b82+-0x55b*-0x1],_0x215932=_0x3181a2[-0x18c4+0x67*0x14+-0x1*-0x10be],_0x5252f8=_0x3181a2[-0x6*0xdd+-0x5*-0x4eb+-0x1361],_0x628d3a=_0x3181a2[-0x7*-0x329+-0xbb5*-0x1+-0x21cb],_0x1d4747=_0x3181a2[0x1f79*-0x1+-0x32+0x1*0x1fb5],_0x3a13b5=_0x3181a2[-0x3c1*-0x1+0x1eb+0x12*-0x50],_0x1c3245=_0x3181a2[-0x141*-0x7+-0xb5*0x14+0x56a],_0x8d548c=_0x3181a2[0x342+0xe41+-0x1175];let _0x23c92c,_0x4270ff,_0xe79060;return _0x23c92c=_0x196646[-0x1d62+-0x1e49*-0x1+-0xe7],_0x4270ff=_0x196646[-0x1d*0x1f+-0x1*0x1d93+0xc5*0x2b],_0xe79060=_0x196646[-0x2*-0x7f9+-0x15fe*0x1+0x60e],_0x4e05b1[0x1f9e+-0x1*-0x2d4+-0x2272]=_0x42d15f*_0x23c92c+_0x24dad5*_0x4270ff+_0x5252f8*_0xe79060,_0x4e05b1[-0x1*-0x11e7+-0x21e5+0xfff]=_0x57b28d*_0x23c92c+_0x25a4f8*_0x4270ff+_0x628d3a*_0xe79060,_0x4e05b1[0x1451+0x10*0x65+-0x1a9f]=_0x244442*_0x23c92c+_0x215932*_0x4270ff+_0x1d4747*_0xe79060,_0x4e05b1[-0xe87+0xeba+0xc*-0x4]=-0xea8+-0x139*-0xb+0x135,_0x23c92c=_0x196646[0x1*0xc1a+0x286*0x1+-0xe9c],_0x4270ff=_0x196646[-0x1071+-0x27*-0x2d+-0x99b*-0x1],_0xe79060=_0x196646[-0x129e+-0x245b+0x36ff],_0x4e05b1[-0x204d*-0x1+-0x20c9+0x20*0x4]=_0x42d15f*_0x23c92c+_0x24dad5*_0x4270ff+_0x5252f8*_0xe79060,_0x4e05b1[-0x723+0x169c+0x2b*-0x5c]=_0x57b28d*_0x23c92c+_0x25a4f8*_0x4270ff+_0x628d3a*_0xe79060,_0x4e05b1[0x1119+-0x26*0xe2+0x1079]=_0x244442*_0x23c92c+_0x215932*_0x4270ff+_0x1d4747*_0xe79060,_0x4e05b1[0xb02*-0x2+0x1*0x13bb+0x250]=0x47c+0x13a*0x11+0x872*-0x3,_0x23c92c=_0x196646[0x4eb*-0x6+0x243e+-0x4*0x1ad],_0x4270ff=_0x196646[0x1244+0x1d3b+0x4bf*-0xa],_0xe79060=_0x196646[0x10e4+0xdae+-0x1*0x1e88],_0x4e05b1[-0x259*0x9+-0x1bf0+0x3119]=_0x42d15f*_0x23c92c+_0x24dad5*_0x4270ff+_0x5252f8*_0xe79060,_0x4e05b1[-0x2*-0x346+0x6*-0x2e3+0xacf]=_0x57b28d*_0x23c92c+_0x25a4f8*_0x4270ff+_0x628d3a*_0xe79060,_0x4e05b1[0xf*0x53+0x9a6+-0xe79]=_0x244442*_0x23c92c+_0x215932*_0x4270ff+_0x1d4747*_0xe79060,_0x4e05b1[-0x1*-0x152b+0xf35*-0x1+-0x5eb]=-0x29*-0x71+0x638+0x1*-0x1851,_0x23c92c=_0x196646[0x1403+-0x123b+-0x1bc],_0x4270ff=_0x196646[-0x2*-0x125c+-0x2c+-0x1*0x247f],_0xe79060=_0x196646[0x5b1*0x5+0xe2*0x1+-0x1d49],_0x4e05b1[-0x1*-0xa91+-0x24b5+0x1a30]=_0x42d15f*_0x23c92c+_0x24dad5*_0x4270ff+_0x5252f8*_0xe79060+_0x3a13b5,_0x4e05b1[-0x70c+-0x15da*0x1+0x1cf3*0x1]=_0x57b28d*_0x23c92c+_0x25a4f8*_0x4270ff+_0x628d3a*_0xe79060+_0x1c3245,_0x4e05b1[-0x20d8+-0x15*-0x1aa+-0x20c]=_0x244442*_0x23c92c+_0x215932*_0x4270ff+_0x1d4747*_0xe79060+_0x8d548c,_0x4e05b1[-0xf0e+0x1*0xf65+0x3*-0x18]=0x1cbc*-0x1+-0x3*-0x445+0x7f7*0x2,this;}['mul'](_0x4d00d1){return this['mul2'](this,_0x4d00d1);}['transformP'+'oint'](_0x5d5e6c,_0x209968=new A()){const _0x1d038c=this['data'],{x:_0x84d67f,y:_0x582b5c,z:_0x315a74}=_0x5d5e6c;return _0x209968['x']=_0x84d67f*_0x1d038c[-0x2035+-0x2*0x648+-0x2cc5*-0x1]+_0x582b5c*_0x1d038c[-0xddf+-0xb*-0x217+0x48d*-0x2]+_0x315a74*_0x1d038c[0x2222+0x163*0xb+-0x315b]+_0x1d038c[0x905+0x1*0xfbb+-0x18b4],_0x209968['y']=_0x84d67f*_0x1d038c[0x26f*0x8+-0x199+-0x11de]+_0x582b5c*_0x1d038c[-0x60d*0x3+-0x1*-0xb09+-0x57*-0x15]+_0x315a74*_0x1d038c[-0x4*-0xbe+-0x32*0x1+-0x2bd*0x1]+_0x1d038c[-0x8c8*-0x1+0x1d5d+0x1*-0x2618],_0x209968['z']=_0x84d67f*_0x1d038c[-0x102b+0x1f59+-0x2*0x796]+_0x582b5c*_0x1d038c[-0x7b+-0x160f+0x1690]+_0x315a74*_0x1d038c[-0x1*-0x1ec1+0x20d3+-0x1*0x3f8a]+_0x1d038c[0xe4d*-0x1+0x1*-0x2602+-0x7*-0x77b],_0x209968;}['transformV'+'ector'](_0xd4a6b2,_0x3938d5=new A()){const _0x5bdba1=this['data'],{x:_0x7a1bb3,y:_0xf28ab9,z:_0x3134b8}=_0xd4a6b2;return _0x3938d5['x']=_0x7a1bb3*_0x5bdba1[-0x1e1a+0x1*-0x1fb5+-0x3dcf*-0x1]+_0xf28ab9*_0x5bdba1[-0x1001+-0x1*0x20b4+-0x1*-0x30b9]+_0x3134b8*_0x5bdba1[-0x520+-0x1*0x1835+0x1d5d*0x1],_0x3938d5['y']=_0x7a1bb3*_0x5bdba1[-0xc2f+-0x20da+0x2d0a]+_0xf28ab9*_0x5bdba1[0x1*0x145a+-0x4c3*-0x8+-0x3a6d]+_0x3134b8*_0x5bdba1[0x1626+-0x2ce*-0xb+-0x34f7],_0x3938d5['z']=_0x7a1bb3*_0x5bdba1[-0xf3d+-0xaff+0x1a3e]+_0xf28ab9*_0x5bdba1[0x129b+-0x2305+0x107*0x10]+_0x3134b8*_0x5bdba1[-0xf*0x269+-0x1*0x1969+0x3d9a],_0x3938d5;}['transformV'+'ec4'](_0x2cd1d1,_0x4222a8=new ee()){const _0x1c1041=this['data'],{x:_0x356d99,y:_0x9491c6,z:_0x530437,w:_0x5041fb}=_0x2cd1d1;return _0x4222a8['x']=_0x356d99*_0x1c1041[-0x1*-0x110b+-0x919*-0x3+0xa*-0x46f]+_0x9491c6*_0x1c1041[-0x207e*-0x1+0x89*-0x2f+-0x7d*0xf]+_0x530437*_0x1c1041[-0x1cd*0x8+-0x13be+-0x4e2*-0x7]+_0x5041fb*_0x1c1041[-0xcfd+0x173d+-0xa34],_0x4222a8['y']=_0x356d99*_0x1c1041[-0x18b3+0x1746+0x3*0x7a]+_0x9491c6*_0x1c1041[-0x1f66*-0x1+-0x89f*-0x3+-0x393e*0x1]+_0x530437*_0x1c1041[0x151b+0x1d*0x131+-0x379f]+_0x5041fb*_0x1c1041[0x180e+0x8*-0xfc+-0x1021*0x1],_0x4222a8['z']=_0x356d99*_0x1c1041[0xf01+-0x49*0x2+-0x1*0xe6d]+_0x9491c6*_0x1c1041[-0x31*0x38+0x1b6a+-0xc2*0x16]+_0x530437*_0x1c1041[0x13a9+0xf70+-0x230f]+_0x5041fb*_0x1c1041[-0x20f*0xf+0x26b8+-0x7c9],_0x4222a8['w']=_0x356d99*_0x1c1041[0x1ee*0x7+-0x6da*0x5+0x14c3*0x1]+_0x9491c6*_0x1c1041[-0x45e+-0x508+0x1*0x96d]+_0x530437*_0x1c1041[-0xb8a*0x2+-0x10bf+0x15*0x1e6]+_0x5041fb*_0x1c1041[-0x236a+0x58*0x38+0x1039],_0x4222a8;}['setLookAt'](_0x188a46,_0xdc7f6b,_0x440040){Us['sub2'](_0x188a46,_0xdc7f6b)['normalize'](),zs['copy'](_0x440040)['normalize'](),ys['cross'](zs,Us)['normalize'](),zs['cross'](Us,ys);const _0x184939=this['data'];return _0x184939[-0x1*0x624+-0xe5*0xd+0x11c5]=ys['x'],_0x184939[0xd6+-0x12be+0x11e9]=ys['y'],_0x184939[-0xfee+0x1*0x1d02+-0xd12*0x1]=ys['z'],_0x184939[0x10*0x135+0x7a8+-0x43*0x67]=-0x3*0x91d+-0x3*0xb6f+0x3da4,_0x184939[-0x17b*-0x5+-0xf76+0x813]=zs['x'],_0x184939[0x24ad+0x17b5+-0x38d*0x11]=zs['y'],_0x184939[0x11fe+0x1*-0x484+-0xd74]=zs['z'],_0x184939[0x1d*-0xeb+0x80e*0x2+-0x47*-0x26]=0x5*0x78e+0x1ec2+-0xcc*0x56,_0x184939[-0x1*0x136a+-0xe3*-0x2b+0x12af*-0x1]=Us['x'],_0x184939[-0x2*-0x377+0x16f*0x3+-0xb32]=Us['y'],_0x184939[0x243a*0x1+0x314*-0x6+-0x11b8]=Us['z'],_0x184939[0x3*0xb21+0x2*0xd60+0x1e0c*-0x2]=-0x1a81+0x1f89+-0x1c*0x2e,_0x184939[0x1526+-0x1b*-0xce+0xab5*-0x4]=_0x188a46['x'],_0x184939[0x1*0x23f3+0x5*-0x4eb+-0xb4f]=_0x188a46['y'],_0x184939[-0xca1+0xfae+-0x2ff]=_0x188a46['z'],_0x184939[0x10*0x121+0x25a+-0x145b]=0x1874+0x1*-0x89+-0xbf5*0x2,this;}['setFrustum'](_0x225805,_0x5f3624,_0x216fda,_0x1a986d,_0x3d16f1,_0x1178df){const _0xcf2210=(0x65*-0x5d+0xd86+0x172d)*_0x3d16f1,_0x273d99=_0x5f3624-_0x225805,_0x2b1863=_0x1a986d-_0x216fda,_0x3e5af9=_0x1178df-_0x3d16f1,_0x1aa9ba=this['data'];return _0x1aa9ba[-0xb*-0x2c4+-0x31*-0x3+0x73*-0x45]=_0xcf2210/_0x273d99,_0x1aa9ba[0x12a4+-0x5*0x112+-0x1*0xd49]=-0x8a*0x7+-0x1c56+0x201c,_0x1aa9ba[-0x1cc8+-0x9f9+0x26c3]=-0x36d*-0x1+-0x14b3+0x1146,_0x1aa9ba[0x29*-0x35+-0xbf*0x19+0x1b27]=-0x14a6+0xdf1*0x1+-0x11*-0x65,_0x1aa9ba[0x1ba0+0x46*-0x45+-0x8be]=0x398+0x4*-0x1d2+0x2*0x1d8,_0x1aa9ba[-0x12*0x7e+0x566+-0x37b*-0x1]=_0xcf2210/_0x2b1863,_0x1aa9ba[0x304*0x5+-0x1b5*0xa+0x102*0x2]=-0x1d47+0x25df+0xb*-0xc8,_0x1aa9ba[-0x1a4f*-0x1+-0x107+-0x1941]=-0x52*-0x65+0x945+-0x299f,_0x1aa9ba[0x1981+0x325*-0x9+0x16a*0x2]=(_0x5f3624+_0x225805)/_0x273d99,_0x1aa9ba[0x18f7+-0x1*-0xea5+-0x2793]=(_0x1a986d+_0x216fda)/_0x2b1863,_0x1aa9ba[0x728*0x4+-0x89*0x5+0x9*-0x2e1]=(-_0x1178df-_0x3d16f1)/_0x3e5af9,_0x1aa9ba[0x2150+0x4*0x442+0x1*-0x324d]=-(0xd*0x2e5+-0xc6+-0x24da),_0x1aa9ba[-0x24af+0x13ac*-0x1+0x3867]=-0x1*-0x1a99+-0x36*0x90+0x1*0x3c7,_0x1aa9ba[-0x92e+0x1eb*0xb+-0xbde]=-0xb4e+-0x24*-0xe1+-0x1456,_0x1aa9ba[0x24f1+0x192c+-0x3e0f*0x1]=-_0xcf2210*_0x1178df/_0x3e5af9,_0x1aa9ba[0x19e3+0xbab+0x257f*-0x1]=-0x251f+0x9*-0xe5+-0x1696*-0x2,this;}['setPerspec'+'tive'](_0x474601,_0x158305,_0x3b75f0,_0x24c07c,_0x5677aa){return Vr['_getPerspe'+'ctiveHalfS'+'ize'](Wa,_0x474601,_0x158305,_0x3b75f0,_0x5677aa),this['setFrustum'](-Wa['x'],Wa['x'],-Wa['y'],Wa['y'],_0x3b75f0,_0x24c07c);}['setOrtho'](_0x34321a,_0x571f2c,_0x4b5708,_0x443bce,_0x4dfce8,_0x401c0d){const _0x30a5cf=this['data'];return _0x30a5cf[0x1c16+-0x32+-0x1be4]=(0x1f4b*0x1+-0x1faa+0x1*0x61)/(_0x571f2c-_0x34321a),_0x30a5cf[0x5c*0x2b+-0x1d71+0xdfe]=-0xc9+0x1b54+-0x54f*0x5,_0x30a5cf[-0x1*-0x25aa+0x4*0x6a1+-0x1564*0x3]=-0xf7*0xe+0x692+-0x6f0*-0x1,_0x30a5cf[-0xe68+-0x2582*-0x1+-0x1717]=0x1c39+-0x3*0x52f+-0xcac,_0x30a5cf[0x11a5+0x1*0x12b9+-0x1*0x245a]=-0x8c2+0x26*-0xcf+-0x2d2*-0xe,_0x30a5cf[0x1de3*-0x1+0x6eb*-0x1+0x24d3]=(-0x6df*-0x1+-0x11c8+-0x1*-0xaeb)/(_0x443bce-_0x4b5708),_0x30a5cf[-0x6e2+-0x1c6a+0x89*0x42]=0x1*0x12d4+0x742*-0x3+0xd*0x3a,_0x30a5cf[-0x13*0xa+0x158f*0x1+-0xa65*0x2]=-0x15ce+0x1*0xed1+0x6fd,_0x30a5cf[0x51*-0x2b+0x25b3+-0x1810]=-0x3c4+0x1003*-0x2+0x5f7*0x6,_0x30a5cf[-0x12fb*0x1+0xcf1+0x1*0x613]=-0xdf*0x1+-0x7fb+0x2*0x46d,_0x30a5cf[0x24b*0xb+0x5ae+0x1edd*-0x1]=-(-0x109c+0x469*-0x2+0x1970)/(_0x401c0d-_0x4dfce8),_0x30a5cf[-0x1e6c+0x1*-0xa3d+0x28b4]=0x7a2*-0x4+0x256a+-0x6e2,_0x30a5cf[-0x52+0xf*0x45+-0x3ad*0x1]=-(_0x571f2c+_0x34321a)/(_0x571f2c-_0x34321a),_0x30a5cf[-0x1cb+-0x1a56+0x1c2e]=-(_0x443bce+_0x4b5708)/(_0x443bce-_0x4b5708),_0x30a5cf[0x1d69+0xd*-0x1aa+-0x7b9*0x1]=-(_0x401c0d+_0x4dfce8)/(_0x401c0d-_0x4dfce8),_0x30a5cf[0x1625+-0x8ef+-0xd27]=0x4a9+0xff8+-0x2*0xa50,this;}['setFromAxi'+'sAngle'](_0x38f7d8,_0x47de95){_0x47de95*=z['DEG_TO_RAD'];const {x:_0x231152,y:_0x40fabe,z:_0x54d4a9}=_0x38f7d8,_0x595b0a=Math['cos'](_0x47de95),_0x5887a6=Math['sin'](_0x47de95),_0x2f1291=0x1d1+-0x7d*0x1f+-0x1*-0xd53-_0x595b0a,_0x4ba6ea=_0x2f1291*_0x231152,_0x4e2473=_0x2f1291*_0x40fabe,_0x84d021=this['data'];return _0x84d021[0x3*0x21e+0xce8+-0x1342]=_0x4ba6ea*_0x231152+_0x595b0a,_0x84d021[0x43e*0x1+0xb7*0x1b+0x2*-0xbc5]=_0x4ba6ea*_0x40fabe+_0x5887a6*_0x54d4a9,_0x84d021[-0x133*-0x13+0x1842+-0x2f09]=_0x4ba6ea*_0x54d4a9-_0x5887a6*_0x40fabe,_0x84d021[-0x2244+-0x256+0x249d]=-0x1897+0x1*0xd4f+0xb48,_0x84d021[0x6b*0x2e+0xa*-0x29f+0x70*0x10]=_0x4ba6ea*_0x40fabe-_0x5887a6*_0x54d4a9,_0x84d021[0x2*0x1212+0x1ff0+-0x440f]=_0x4e2473*_0x40fabe+_0x595b0a,_0x84d021[-0xf4*0x1a+0xf28+0x9a6]=_0x4e2473*_0x54d4a9+_0x5887a6*_0x231152,_0x84d021[-0x7*-0x3c5+-0x1510+0x153*-0x4]=-0x817+0xc4+0x753,_0x84d021[0x22e*-0x3+0x29e+0x3f4]=_0x4ba6ea*_0x54d4a9+_0x5887a6*_0x40fabe,_0x84d021[-0xfc3+-0x1f9+0x11c5*0x1]=_0x4e2473*_0x54d4a9-_0x231152*_0x5887a6,_0x84d021[-0xeb6+0x6*0x5a9+-0x1336]=_0x2f1291*_0x54d4a9*_0x54d4a9+_0x595b0a,_0x84d021[-0x195*-0x4+-0xe5*-0xe+-0x3*0x645]=-0x779+-0x1db3+-0x252c*-0x1,_0x84d021[0x84f*0x3+-0x1*-0x1651+-0x2f32]=-0xd1e+-0x21*-0x23+0x89b,_0x84d021[-0x373+-0xb3*0x26+0x1e12]=-0xe5e+0x79b+0x241*0x3,_0x84d021[-0xc5a+0x1d05+-0x109d*0x1]=0x3*0x6cd+-0x9ca+0xb*-0xf7,_0x84d021[-0x33*-0x22+-0x1*0x4a3+-0x214]=-0x1a62*0x1+0x209e+-0x63b,this;}['setTransla'+'te'](_0x217a78,_0x317a47,_0x431ec2){const _0x13727c=this['data'];return _0x13727c[0xe9f+-0x152+-0xd4d]=-0xc*-0x28f+0xf4*0x26+-0x42eb,_0x13727c[0x37*-0x5f+-0xf85+0x23ef*0x1]=0x1*0xe1e+0x19a2+-0x27c0,_0x13727c[-0x1461+-0x10f+0xab9*0x2]=-0x32f*-0x7+-0x1cb1+0xa4*0xa,_0x13727c[-0x10a3+0xb2a+0x57c]=-0x4*-0x91d+0x39a*0x1+-0x3*0xd5a,_0x13727c[-0x1871*-0x1+0x1e8f*0x1+0x1254*-0x3]=-0x12ad+0x1211*-0x1+-0x1*-0x24be,_0x13727c[0x8e+0x1*0xd54+-0xddd]=-0x25*-0x3a+-0x716+0x1*-0x14b,_0x13727c[-0xeae*-0x1+-0x321*-0x7+-0x248f]=-0x4*0x584+-0x3ae*-0x1+0x1262,_0x13727c[-0x102f+-0xe9*0x26+0x32cc]=0x1cb+0x2*-0x623+0x1*0xa7b,_0x13727c[-0x67*0x5f+-0x1*-0x185+-0x1*-0x24bc]=0x1*-0x111d+-0x2*-0x5a6+0x5d1,_0x13727c[-0x171c*-0x1+-0x1*-0x1784+0x1*-0x2e97]=0x164+0x1715+-0x1879,_0x13727c[-0x1*0xe2c+0x51e*-0x2+0x1872*0x1]=-0xa0*0x17+0x4*0x73b+-0xe8b,_0x13727c[0x2181+0x1fae+0x2f6*-0x16]=0x1d3d+0x1a0f+-0x374c,_0x13727c[-0x17ad+-0x1*-0x1f10+-0x757*0x1]=_0x217a78,_0x13727c[-0xa+-0x53c+0x553]=_0x317a47,_0x13727c[0x715*0x1+-0x1*0x25bf+0x1eb8*0x1]=_0x431ec2,_0x13727c[0x1*-0xca5+-0x25e4+0xca6*0x4]=-0x20ef+-0x23d4+0x28c*0x1b,this;}['setScale'](_0x4ca8ce,_0x285962,_0x10166b){const _0x342bda=this['data'];return _0x342bda[0x1*0x1df0+0x135*-0x3+-0x1a51]=_0x4ca8ce,_0x342bda[-0x1*-0x1301+-0x17*-0x189+-0x364f]=-0xa*0x1e7+0x117+-0x11ef*-0x1,_0x342bda[0x5*0x61+-0x1266+0x1083]=-0x4*-0x4+0x2*-0x110f+0x220e,_0x342bda[-0x3f9+-0x37e*0x1+0x77a]=0x1f*-0xbc+-0xd*0x294+0x3848,_0x342bda[0xa6a*0x2+0x5*-0x24b+-0x959]=-0x4cc+0x5*0x760+-0x2014,_0x342bda[-0x13*-0x1b9+-0x313*-0x2+0x9b7*-0x4]=_0x285962,_0x342bda[0x1542+0x11b4+-0x26f0]=0x4cf*0x7+0x2af*-0x4+-0x16ed,_0x342bda[0x3*-0x88e+0xa66+0xf4b]=-0xb*-0x14b+0x12a1*0x1+-0x20da,_0x342bda[0x1167+0x2217+0x75a*-0x7]=0x10fc+-0x17cd+-0x5*-0x15d,_0x342bda[-0x1da2+-0x1d70+0x3b1b]=-0x2374+-0x4e4*0x1+0x2858,_0x342bda[-0x23d6+-0x1acb*-0x1+0xf*0x9b]=_0x10166b,_0x342bda[0x1*-0x15a1+-0x113f+0xcf9*0x3]=0x1340+0xfe*-0x3+-0x1046,_0x342bda[-0x106c+0x87f*-0x1+0x18f7]=0x1ebb*0x1+-0x1d7b+0xa0*-0x2,_0x342bda[0x12ca+-0x5*-0x28f+0x3f1*-0x8]=-0x167d+-0x8*-0x59+-0x5*-0x3f1,_0x342bda[0x1c7b+0x13ce+0x303b*-0x1]=0x1755+0x1686+-0x2ddb,_0x342bda[0x31d*-0xb+-0x1d86*0x1+0x4c*0xd7]=0x19c+0x21e2+-0x237d,this;}['setViewpor'+'t'](_0x128fa5,_0x435ed7,_0x4372d6,_0x5b1a69){const _0x2527b3=this['data'];return _0x2527b3[0x19*-0x88+-0xaf7*0x1+0x183f]=_0x4372d6*(-0x1f94*0x1+0x18f4+-0x20*-0x35+0.5),_0x2527b3[0x267f+0xb7*0x1b+-0x39cb*0x1]=0x1ab3+0x1739+0xd5*-0x3c,_0x2527b3[-0x20cc*0x1+-0x1*0xaa2+-0x15b8*-0x2]=-0x176b+-0xd4d+-0x758*-0x5,_0x2527b3[0xf5a+-0x26d1+0xbbd*0x2]=-0x6+0x13*-0xb+0xd7,_0x2527b3[0x3e*-0x98+-0xa*0x46+0x2790]=0xfdd*-0x2+-0x8d9+0x263*0x11,_0x2527b3[-0x14*0x6f+0x3d*-0x85+-0x1431*-0x2]=_0x5b1a69*(-0xab+-0xd79+0x16a*0xa+0.5),_0x2527b3[0x2*0xbd6+-0x1f8a+0x3f2*0x2]=0x267e+0x25cf+0x1*-0x4c4d,_0x2527b3[0x1*0x1e83+-0x6b*0x59+-0x3*-0x23d]=-0x1*-0x234e+-0x1810+-0xb3e,_0x2527b3[-0x506*0x1+-0x13f2+0x1900]=0x1*0x208e+0x5ae+-0x263c,_0x2527b3[0x22af*-0x1+0x1d62+0x556]=-0x73b+0x26ba+-0x1f7f*0x1,_0x2527b3[-0x919+0x12*0x1e2+0x1*-0x18c1]=-0x172f+-0x218f*-0x1+-0xa60+0.5,_0x2527b3[-0x1ff*0xb+0x3*0xaaf+-0xa0d]=-0x1*-0x5b+-0xc24+0xbc9,_0x2527b3[0x1b98+0xb45+-0x26d1]=_0x128fa5+_0x4372d6*(0x22c4+0x1c8c+-0x3f50+0.5),_0x2527b3[0x45b*0x1+0x73b*0x2+-0x4b1*0x4]=_0x435ed7+_0x5b1a69*(-0xdd8+0xb33+0x2a5+0.5),_0x2527b3[0x1701+0x13f2+0x8b*-0x4f]=-0xd*-0x1ff+-0x182f+-0xe2*0x2+0.5,_0x2527b3[-0x102d*0x2+0x12ee+-0xd7b*-0x1]=-0xa6c+0x697+-0x2*-0x1eb,this;}['setReflect'+'ion'](_0x137c58,_0x70cc87){const _0x4fc031=_0x137c58['x'],_0x5d7e71=_0x137c58['y'],_0x24504b=_0x137c58['z'],_0x4756fa=this['data'];return _0x4756fa[0x32d*-0xb+0x251d*-0x1+0x480c]=0x2240+0x4*0x1c+-0x2ab*0xd-(-0x1671*0x1+-0x17*-0x36+0x1199)*_0x4fc031*_0x4fc031,_0x4756fa[0x2*-0x1d3+-0xdb9*0x2+-0x1f19*-0x1]=-(0x113*-0x1f+-0x1bc9+0x3d18)*_0x4fc031*_0x5d7e71,_0x4756fa[0x1*-0x2294+0x1523+0xd73]=-(0x17b6+-0x19ff+0x24b)*_0x4fc031*_0x24504b,_0x4756fa[-0x17*-0x1af+0x885*0x3+-0x1*0x4045]=0xf0d*0x2+-0x29*-0xf1+0x2b*-0x199,_0x4756fa[-0xa54+0x1f60*0x1+-0x1*0x1508]=-(-0x204d*-0x1+0x149a+-0x34e5)*_0x4fc031*_0x5d7e71,_0x4756fa[0x1*0x2273+-0x614+-0x1c5a]=0x53*-0x4b+0x1*0x1cd+0x1685-(0x1f44+-0x7f*-0x17+0x3e1*-0xb)*_0x5d7e71*_0x5d7e71,_0x4756fa[0x71*0x1c+0xa*0x1dc+-0x1eee]=-(0x1115+-0x2421*0x1+0x130e)*_0x5d7e71*_0x24504b,_0x4756fa[-0x25be*0x1+-0x723+0x2ce8]=-0x802+-0xb0e+0x28*0x7a,_0x4756fa[-0x1c78+0x2c5*0x7+0x91d*0x1]=-(0x488+0x1*-0x16a9+-0x1223*-0x1)*_0x4fc031*_0x24504b,_0x4756fa[0x415+0x1e78+-0x2284*0x1]=-(0x1f0a+-0x223a+0x332)*_0x5d7e71*_0x24504b,_0x4756fa[-0xd57*0x1+-0x1ba9*0x1+0x290a]=0xb23*0x1+-0x74+-0x1*0xaae-(0x26e5+0x244f+-0x4b32)*_0x24504b*_0x24504b,_0x4756fa[-0x2*-0xa2b+-0x3*0x281+0x8*-0x199]=-0xb*0x330+0x8c*-0x9+0x27fc,_0x4756fa[-0x18c0+0x1a89+-0x1bd]=-(-0x25fa+-0xd7c*-0x2+-0x5*-0x234)*_0x4fc031*_0x70cc87,_0x4756fa[-0x1ae6+-0x237a+0x3e6d]=-(-0x1*-0x2501+0x10f5+0x35f4*-0x1)*_0x5d7e71*_0x70cc87,_0x4756fa[-0x5*-0x14b+0x1*0xb4e+-0x38b*0x5]=-(-0x9d9*-0x3+-0xceb+-0x109e)*_0x24504b*_0x70cc87,_0x4756fa[-0x25cc+-0x7*-0x289+0x507*0x4]=0x3*0x65c+-0x1713+-0x40*-0x10,this;}['invert'](_0x53360b=this){const _0x272f6f=_0x53360b['data'],_0x1b7456=_0x272f6f[-0x3fa+0xc3f+0x1*-0x845],_0x39095c=_0x272f6f[0x9*0x2ef+0x1af*-0xd+-0xa5*0x7],_0x19b8e7=_0x272f6f[0x1707+-0x1*-0x14b9+-0x2bbe],_0x2d3cb0=_0x272f6f[0x2122+-0x1685+-0x76*0x17],_0x4b5dc6=_0x272f6f[-0x1*-0x1e20+-0x2a6*-0xd+-0x408a],_0x2c9939=_0x272f6f[-0x116d+-0xf1d+-0x1*-0x208f],_0x3b3b10=_0x272f6f[-0x1be*-0x11+-0x117e*-0x1+0x6ba*-0x7],_0x3326c6=_0x272f6f[-0x3e*-0x9f+-0x1693*0x1+-0xfe8],_0x178ab5=_0x272f6f[-0x4ca*0x5+0x7e5+0xb3*0x17],_0x520580=_0x272f6f[0x11c9+0x3b2*-0x7+0x81e],_0x1302c0=_0x272f6f[0x24cd+0x1e7c+-0x433f],_0x3bdc2b=_0x272f6f[-0x5c8+0xa75+-0x4a2],_0x4bdffc=_0x272f6f[-0x7b*-0x39+0x17ef*-0x1+-0x368],_0x4caf8b=_0x272f6f[-0xfa0+0x796*-0x2+-0x95*-0x35],_0x3d9ce0=_0x272f6f[-0x9a3*-0x1+0x9f5+0x7a*-0x29],_0x1be01f=_0x272f6f[-0x1030+-0x886+-0x175*-0x11],_0x2ac59e=_0x1b7456*_0x2c9939-_0x39095c*_0x4b5dc6,_0x352c7b=_0x1b7456*_0x3b3b10-_0x19b8e7*_0x4b5dc6,_0x25166d=_0x1b7456*_0x3326c6-_0x2d3cb0*_0x4b5dc6,_0x1f8bfa=_0x39095c*_0x3b3b10-_0x19b8e7*_0x2c9939,_0x143b4a=_0x39095c*_0x3326c6-_0x2d3cb0*_0x2c9939,_0x52605a=_0x19b8e7*_0x3326c6-_0x2d3cb0*_0x3b3b10,_0x5ea10b=_0x178ab5*_0x4caf8b-_0x520580*_0x4bdffc,_0x1e92ab=_0x178ab5*_0x3d9ce0-_0x1302c0*_0x4bdffc,_0x3afc80=_0x178ab5*_0x1be01f-_0x3bdc2b*_0x4bdffc,_0x3f62e8=_0x520580*_0x3d9ce0-_0x1302c0*_0x4caf8b,_0x48433e=_0x520580*_0x1be01f-_0x3bdc2b*_0x4caf8b,_0x33e63a=_0x1302c0*_0x1be01f-_0x3bdc2b*_0x3d9ce0,_0x130e98=_0x2ac59e*_0x33e63a-_0x352c7b*_0x48433e+_0x25166d*_0x3f62e8+_0x1f8bfa*_0x3afc80-_0x143b4a*_0x1e92ab+_0x52605a*_0x5ea10b;if(_0x130e98===-0x165c+0x2*0xfad+-0x8fe)this['setIdentit'+'y']();else{const _0x1e7367=(-0xe*0x52+0x4*-0x224+0x1*0xd0d)/_0x130e98,_0x45b103=this['data'];_0x45b103[0x116c+-0xc3d+0x1*-0x52f]=(_0x2c9939*_0x33e63a-_0x3b3b10*_0x48433e+_0x3326c6*_0x3f62e8)*_0x1e7367,_0x45b103[0xfb3+-0x5c*0x1b+-0x5fe]=(-_0x39095c*_0x33e63a+_0x19b8e7*_0x48433e-_0x2d3cb0*_0x3f62e8)*_0x1e7367,_0x45b103[-0x6f3+-0x163*0x16+0x2577]=(_0x4caf8b*_0x52605a-_0x3d9ce0*_0x143b4a+_0x1be01f*_0x1f8bfa)*_0x1e7367,_0x45b103[-0x2c5*0xc+-0x1*-0xb99+0x15a6]=(-_0x520580*_0x52605a+_0x1302c0*_0x143b4a-_0x3bdc2b*_0x1f8bfa)*_0x1e7367,_0x45b103[-0xc26*0x3+-0x998+-0x3*-0xf5a]=(-_0x4b5dc6*_0x33e63a+_0x3b3b10*_0x3afc80-_0x3326c6*_0x1e92ab)*_0x1e7367,_0x45b103[-0x4*0x82d+-0x13e+-0x1*-0x21f7]=(_0x1b7456*_0x33e63a-_0x19b8e7*_0x3afc80+_0x2d3cb0*_0x1e92ab)*_0x1e7367,_0x45b103[0x101e*0x1+0x9*-0x53+0xd2d*-0x1]=(-_0x4bdffc*_0x52605a+_0x3d9ce0*_0x25166d-_0x1be01f*_0x352c7b)*_0x1e7367,_0x45b103[-0x49f*0x2+-0x9*-0x1e1+-0x7a4]=(_0x178ab5*_0x52605a-_0x1302c0*_0x25166d+_0x3bdc2b*_0x352c7b)*_0x1e7367,_0x45b103[-0x195e*-0x1+0x1*0x47f+-0x1dd5]=(_0x4b5dc6*_0x48433e-_0x2c9939*_0x3afc80+_0x3326c6*_0x5ea10b)*_0x1e7367,_0x45b103[-0x20aa+-0x178a*-0x1+0x929]=(-_0x1b7456*_0x48433e+_0x39095c*_0x3afc80-_0x2d3cb0*_0x5ea10b)*_0x1e7367,_0x45b103[0x2*-0x3e4+0x16c7+-0xef5]=(_0x4bdffc*_0x143b4a-_0x4caf8b*_0x25166d+_0x1be01f*_0x2ac59e)*_0x1e7367,_0x45b103[-0x1489*0x1+0x254d+-0x593*0x3]=(-_0x178ab5*_0x143b4a+_0x520580*_0x25166d-_0x3bdc2b*_0x2ac59e)*_0x1e7367,_0x45b103[-0x266*-0xe+0x130b+-0x3493]=(-_0x4b5dc6*_0x3f62e8+_0x2c9939*_0x1e92ab-_0x3b3b10*_0x5ea10b)*_0x1e7367,_0x45b103[0x31f+-0x226e+0x1f5c]=(_0x1b7456*_0x3f62e8-_0x39095c*_0x1e92ab+_0x19b8e7*_0x5ea10b)*_0x1e7367,_0x45b103[-0x1*-0x208f+0x1dce+-0x3e4f]=(-_0x4bdffc*_0x1f8bfa+_0x4caf8b*_0x352c7b-_0x3d9ce0*_0x2ac59e)*_0x1e7367,_0x45b103[-0x1*0x220f+0x2598+-0x2*0x1bd]=(_0x178ab5*_0x1f8bfa-_0x520580*_0x352c7b+_0x1302c0*_0x2ac59e)*_0x1e7367;}return this;}['set'](_0x1121a4){const _0x55959d=this['data'];return _0x55959d[-0x1980+0xd3+0x1*0x18ad]=_0x1121a4[-0x1294+0x238e+-0x10fa],_0x55959d[-0x2*-0x1c6+0x65*0x4+-0x1b5*0x3]=_0x1121a4[0x1*-0x4f2+0x7*-0x1d2+0x11b1],_0x55959d[0xad*-0x37+-0x1*0x1f49+0x4476]=_0x1121a4[0x3b4*-0x1+0x19b3+-0x15fd],_0x55959d[0x5*0x48b+0x1*0x6f7+0xd9*-0x23]=_0x1121a4[-0x17*-0x121+0x1a*-0x103+0x5a],_0x55959d[-0x66*-0x4a+-0xd*-0xf8+-0x1*0x2a10]=_0x1121a4[0x2479+-0x1a70+0x1*-0xa05],_0x55959d[-0x79*0x9+-0x45d*-0x5+-0x118b]=_0x1121a4[0x257e+0x1b*-0x13c+-0x1*0x425],_0x55959d[0x1c38+-0x29a+-0x16c*0x12]=_0x1121a4[-0x53c*0x2+-0x1b84+-0x3cd*-0xa],_0x55959d[-0x22c6+-0x191d*0x1+0x3bea]=_0x1121a4[-0xdf*-0x26+0x3*0x9a5+-0x3e02],_0x55959d[0x1706+-0xb9b+-0xb63]=_0x1121a4[0x8*-0xb+-0x23e+0x29e],_0x55959d[0x14a6+-0x16c3+0x226]=_0x1121a4[-0x6d9*0x4+0x5*-0x5e7+0x38f0],_0x55959d[-0x1b17+-0xd28+0x2849]=_0x1121a4[0x24c5+0x8*-0x322+-0xbab],_0x55959d[-0x17b3+0xcab+0x51*0x23]=_0x1121a4[-0x21c0+0xc66+0x1565*0x1],_0x55959d[-0x1803+-0x19da+0x31e9]=_0x1121a4[-0x140c+0x25ef+-0x11d7],_0x55959d[-0x19cd+-0x146*-0x1c+-0x9ce]=_0x1121a4[-0xb9*0x2f+0x5d*0x6a+-0x47e],_0x55959d[-0x1f*0x38+-0xd*0x20b+-0x2165*-0x1]=_0x1121a4[0x1eab+-0x189+-0x1d14*0x1],_0x55959d[0x2430+0x1ad7*-0x1+-0x1d*0x52]=_0x1121a4[0x1eb8+0x14de*0x1+0x1*-0x3387],this;}['setIdentit'+'y'](){const _0x1e9e09=this['data'];return _0x1e9e09[-0x1a*0x6d+-0x4*-0x66b+-0xe9a]=-0x21da+-0x1700+-0x38db*-0x1,_0x1e9e09[-0x15b4+-0xba1*-0x1+-0x1e*-0x56]=-0xfbb+-0xf0b+0x1ec6,_0x1e9e09[0x157*0x9+0x337+-0xf44]=-0x1c4e+-0x736+0x2384,_0x1e9e09[0x2*0xaca+-0x524+-0x349*0x5]=0xac4+-0xe9f*-0x2+0x3*-0xd56,_0x1e9e09[0x1716+-0x6e3+-0x102f]=0x4fd+-0xe59*-0x2+0x21af*-0x1,_0x1e9e09[-0x19f9*-0x1+0x247a+0x2*-0x1f37]=0x643*-0x3+-0x43a+0x1704,_0x1e9e09[0x53e*-0x6+-0x94*0x6+0x22f2]=-0x2498+0x17c4+-0x2*-0x66a,_0x1e9e09[-0x1*0x17c8+0x1*0x1861+-0x1*0x92]=0x1302+0x13c6+-0x26c8,_0x1e9e09[0x1*-0x1376+0xaaf+-0x5*-0x1c3]=0x1107+0x3*0x493+-0x1ec0,_0x1e9e09[-0x18af+0x3*0xa29+-0x19*0x3b]=0x363*-0x1+-0x8ab+0xc0e,_0x1e9e09[-0x25e0+0x661+0x1f89]=-0xe16+-0xc77+-0xce*-0x21,_0x1e9e09[0x6a*0x29+0x1f3a*-0x1+-0xe4b*-0x1]=0x185*0x1+-0x193f*0x1+0x17ba,_0x1e9e09[0x18b4+0x25*-0xcb+-0x1*-0x4af]=-0x2554+-0x1*0x197b+0x3ecf,_0x1e9e09[0xe75*-0x1+0x1c76+0x4*-0x37d]=-0x1139*0x1+0x2ee+-0xe4b*-0x1,_0x1e9e09[-0x1f59+-0x4a3*-0x6+0x395]=-0x649+0x400+0xf*0x27,_0x1e9e09[-0x24*0x44+-0x4*0x727+-0x263b*-0x1]=-0x350+-0x1*0xb92+0xee3,this;}['setTRS'](_0x8b27ac,_0x2a96f2,_0x3ad0d8){const _0x18494e=_0x2a96f2['x'],_0x1f1f10=_0x2a96f2['y'],_0x576fd1=_0x2a96f2['z'],_0x47fd99=_0x2a96f2['w'],_0x53c08e=_0x3ad0d8['x'],_0xd1721a=_0x3ad0d8['y'],_0x25f6a0=_0x3ad0d8['z'],_0x5f3a02=_0x18494e+_0x18494e,_0x3bc014=_0x1f1f10+_0x1f1f10,_0x33b4b7=_0x576fd1+_0x576fd1,_0x3764bb=_0x18494e*_0x5f3a02,_0x391a79=_0x18494e*_0x3bc014,_0x442c40=_0x18494e*_0x33b4b7,_0x2ab18f=_0x1f1f10*_0x3bc014,_0x399e27=_0x1f1f10*_0x33b4b7,_0x33590d=_0x576fd1*_0x33b4b7,_0x1f23c9=_0x47fd99*_0x5f3a02,_0x44de1a=_0x47fd99*_0x3bc014,_0x2f81c5=_0x47fd99*_0x33b4b7,_0x197f21=this['data'];return _0x197f21[0x1085+0x1426+0x3f*-0x95]=(-0x1*0x251b+-0x1*0x1c85+0x1*0x41a1-(_0x2ab18f+_0x33590d))*_0x53c08e,_0x197f21[-0x208d+-0x16a2+0x3730]=(_0x391a79+_0x2f81c5)*_0x53c08e,_0x197f21[0x605*0x2+-0xcab+-0x1*-0xa3]=(_0x442c40-_0x44de1a)*_0x53c08e,_0x197f21[0x1*0xdd2+0x1*0x17b+-0x1*0xf4a]=0x12b*-0x3+0x8d8+-0x557,_0x197f21[-0x140c+-0x778*-0x5+-0x1148]=(_0x391a79-_0x2f81c5)*_0xd1721a,_0x197f21[-0xdf0+-0x1bd+0xfb2]=(-0x2026*0x1+-0x1e6+0x17*0x17b-(_0x3764bb+_0x33590d))*_0xd1721a,_0x197f21[0x1c78+0x50a+0x85f*-0x4]=(_0x399e27+_0x1f23c9)*_0xd1721a,_0x197f21[-0x248d*0x1+0x3e+0x2456]=-0x325*-0x3+0x174b+0x3b*-0x8e,_0x197f21[-0x36d*-0x6+0x9a7*0x4+-0x3b22]=(_0x442c40+_0x44de1a)*_0x25f6a0,_0x197f21[0x182f*0x1+-0x2*0xebd+-0x1f*-0x2c]=(_0x399e27-_0x1f23c9)*_0x25f6a0,_0x197f21[-0x4*0x853+0xa63*-0x1+-0xd*-0x35d]=(-0x1014+0x4c5*0x3+0x1c6-(_0x3764bb+_0x2ab18f))*_0x25f6a0,_0x197f21[0x3ce*0x1+-0x1e37+0x1*0x1a74]=-0x926+0x1*-0xbfd+0x1523,_0x197f21[0xfa1+0x23d7+-0x336c]=_0x8b27ac['x'],_0x197f21[-0x2*-0x1274+0x571+-0x2a4c]=_0x8b27ac['y'],_0x197f21[-0x16ad+-0xea1*-0x2+-0x3*0x22d]=_0x8b27ac['z'],_0x197f21[-0x9*-0x5e+0x2*0x265+-0x809]=0x3*0x5b9+-0x686*-0x4+-0x31*0xe2,this;}['transpose'](_0xc9b21b=this){const _0x376922=_0xc9b21b['data'],_0x5cc749=this['data'];if(_0x376922===_0x5cc749){let _0x4025c3;_0x4025c3=_0x376922[-0x1b43*-0x1+0x1*-0x5b3+-0x158f],_0x5cc749[-0x2*0x305+0x6ef*-0x5+0x28b6]=_0x376922[-0x3ed+-0x187*0x18+0x2899],_0x5cc749[0x225+0x15ec+-0x180d]=_0x4025c3,_0x4025c3=_0x376922[0x415+-0x39*-0x57+0x2*-0xbb9],_0x5cc749[-0x1*0x18c1+-0x1*0x1b0d+0x33d0]=_0x376922[0x9*-0x403+-0xf*0x147+0x1*0x374c],_0x5cc749[0xd*0x1de+0x1ed5*0x1+0x1*-0x3713]=_0x4025c3,_0x4025c3=_0x376922[0x22*0x103+0x4*-0x8d2+-0x1*-0xe5],_0x5cc749[-0x18*-0x6b+0x919+0x1*-0x131e]=_0x376922[0x168*0xa+-0x1fe+-0x402*0x3],_0x5cc749[-0x3*0xb11+0xd6*0x22+0x5*0xf7]=_0x4025c3,_0x4025c3=_0x376922[0xa*-0xe0+0x1*0x1f7+0x6cf],_0x5cc749[0x266f+0x1b9d+-0x756*0x9]=_0x376922[0x1*0x2203+0x117b+-0x1*0x3375],_0x5cc749[-0x9c+-0x77*-0x7+-0x14e*0x2]=_0x4025c3,_0x4025c3=_0x376922[-0x13*-0x59+-0x1*-0x200f+0x9d*-0x3f],_0x5cc749[0xd60+0x253d+-0x172*0x23]=_0x376922[-0xb*0x32c+0x219b+0x156],_0x5cc749[0x8dd*-0x4+-0x4d8*0x1+0x2859]=_0x4025c3,_0x4025c3=_0x376922[0x1a8+-0x13f*-0x13+-0x194a],_0x5cc749[-0x171*-0x11+-0x1*0xd6d+-0xb09]=_0x376922[-0x3da*-0x8+0x3c2+-0x2284],_0x5cc749[0x2704+0x49+-0x273f*0x1]=_0x4025c3;}else _0x5cc749[-0xb5*-0x1f+0x9*0x371+-0x34e4]=_0x376922[0x1072+0x8a5*-0x1+-0x7cd],_0x5cc749[0x91c+0x2*-0x2fe+-0x31f]=_0x376922[-0x1d01+0x6e8+0x99*0x25],_0x5cc749[0x3*-0xef+-0x15e9+-0x71*-0x38]=_0x376922[-0xb*-0x27+-0x2012+0x1e6d],_0x5cc749[0x1*0x1a89+0x674+-0x20fa]=_0x376922[0x1*-0x7a5+0x25b*-0x1+0xa0c],_0x5cc749[0x14d3+-0xb7*-0x23+-0x1a3*0x1c]=_0x376922[0x691*0x1+0x6d*-0x6+-0x6*0xab],_0x5cc749[-0x15d*-0x19+0x4*0x78e+0x11*-0x3c8]=_0x376922[-0x2*-0x335+0x40b*0x1+-0xa70],_0x5cc749[0x252c+0x3d*-0x77+-0x8cb*0x1]=_0x376922[0x8e7+-0xee9+0x60b],_0x5cc749[-0x23a0+-0x1661+0x3a08]=_0x376922[-0x14d8+-0x199d+0x2e82],_0x5cc749[-0x107e*0x1+0xfb4+0xd2]=_0x376922[-0x20ef*-0x1+-0x5a7*0x6+0xfd],_0x5cc749[-0x76c+0x3*0x18b+0x2d4*0x1]=_0x376922[-0x5*0x2b3+-0x7f*0x23+-0x76*-0x43],_0x5cc749[0x514+0x117d+0x1687*-0x1]=_0x376922[0xae3+0x13a6*-0x1+0x8cd],_0x5cc749[0x11ee+-0x1bff+0xa1c]=_0x376922[-0x1003*-0x2+-0x13ad+-0xc4b],_0x5cc749[0xb93+-0x6*-0x314+-0x1dff]=_0x376922[0x1*0x1c49+0xc95+-0x28db*0x1],_0x5cc749[0x46d*0x3+-0xfff+0x2c5]=_0x376922[-0x1*-0x1545+0x107e+-0xf*0x284],_0x5cc749[-0x1*0x242b+-0x2c8*0x8+0x3a79]=_0x376922[-0x69c+0x9b*-0x16+0x13f9],_0x5cc749[0xb*0x1bb+0x164+-0x6*0x365]=_0x376922[-0x5b*0x67+0x267b+0x1cf*-0x1];return this;}['getTransla'+'tion'](_0x2a0b55=new A()){return _0x2a0b55['set'](this['data'][-0x213*0x12+0x12a3*0x2+0x1c],this['data'][-0x4a3*-0x2+-0x9*0x31c+0x12c3],this['data'][0x2a4*-0xd+-0x1cb6+0x1508*0x3]);}['getX'](_0x4b4caa=new A()){return _0x4b4caa['set'](this['data'][-0x8a9+-0x79a+0x1043],this['data'][0x1ecc+-0x632+0x1899*-0x1],this['data'][-0x2fa+0x3b*0xc+0x38]);}['getY'](_0x346fe5=new A()){return _0x346fe5['set'](this['data'][0x2*-0x700+0x1*0xb07+0x2fd],this['data'][-0x1fba*-0x1+0x1ea5+-0x3e5a],this['data'][-0x9d*0x1e+-0x1*-0x171f+-0x4b3]);}['getZ'](_0x18c945=new A()){return _0x18c945['set'](this['data'][-0x223b+-0x79d+0x29e0],this['data'][-0x255d+-0x1*-0x19c+0x23ca],this['data'][0x8fb*-0x1+0x13*-0x61+-0x568*-0x3]);}['getScale'](_0x4c3f6b=new A()){return this['getX'](ys),this['getY'](zs),this['getZ'](Us),_0x4c3f6b['set'](ys['length'](),zs['length'](),Us['length']()),_0x4c3f6b;}get['scaleSign'](){return this['getX'](ys),this['getY'](zs),this['getZ'](Us),ys['cross'](ys,zs),ys['dot'](Us)<0xa3a+0x11c1+-0x1bfb?-(0xb3*0x29+-0x152b*0x1+-0x77f):0xe4+0x2017+-0x20fa;}['setFromEul'+'erAngles'](_0x4baded,_0x2b344d,_0x57433){_0x4baded*=z['DEG_TO_RAD'],_0x2b344d*=z['DEG_TO_RAD'],_0x57433*=z['DEG_TO_RAD'];const _0x21cf3e=Math['sin'](-_0x4baded),_0x5c93d9=Math['cos'](-_0x4baded),_0x21b405=Math['sin'](-_0x2b344d),_0x19431f=Math['cos'](-_0x2b344d),_0x1a0f60=Math['sin'](-_0x57433),_0x5e9870=Math['cos'](-_0x57433),_0x23528b=this['data'];return _0x23528b[-0x1ced*-0x1+0x1*-0xaed+-0x1200*0x1]=_0x19431f*_0x5e9870,_0x23528b[0x1*0x235d+0x18f5+0x141b*-0x3]=-_0x19431f*_0x1a0f60,_0x23528b[-0x12fc+0x4*-0x621+-0x2*-0x15c1]=_0x21b405,_0x23528b[0xc26*-0x2+-0x3*-0xb68+0x3b*-0x2b]=-0x7a*0x47+0x2f*-0x6d+0x35d9,_0x23528b[0x22dc+0x116+-0x23ee]=_0x5c93d9*_0x1a0f60+_0x5e9870*_0x21cf3e*_0x21b405,_0x23528b[-0x1*-0x1f97+-0x11a1*-0x1+-0x3133]=_0x5c93d9*_0x5e9870-_0x21cf3e*_0x21b405*_0x1a0f60,_0x23528b[0x197c+0x281+0x1*-0x1bf7]=-_0x19431f*_0x21cf3e,_0x23528b[0x1417*-0x1+0x1d9a+-0x97c]=-0x13f9+0x33+0x13c6*0x1,_0x23528b[0x2ce+-0x25c7+0x2301]=_0x21cf3e*_0x1a0f60-_0x5c93d9*_0x5e9870*_0x21b405,_0x23528b[0xc7*-0x29+-0x1*0x251b+-0x27*-0x1c5]=_0x5e9870*_0x21cf3e+_0x5c93d9*_0x21b405*_0x1a0f60,_0x23528b[0x17f6*-0x1+-0x12bf*-0x1+0x541]=_0x5c93d9*_0x19431f,_0x23528b[0x21*0xd3+-0x31*0xb+-0x190d]=-0x738+0xb26+0x3ee*-0x1,_0x23528b[0x14*-0x3b+0xdd4+-0x92c]=0x8aa*-0x4+-0x13da+0x1b41*0x2,_0x23528b[0x17ed*-0x1+-0xb*-0x1ca+-0x113*-0x4]=0x266b+0xc4b*-0x3+0x18a*-0x1,_0x23528b[-0x228*0x12+-0x3af+0x2a8d]=0x1a*-0x53+0x1d5*0x4+0x11a,_0x23528b[0x17ba+0x43*0x63+-0x3194]=-0x9*-0x3d7+0x198f+0x1*-0x3c1d,this;}['getEulerAn'+'gles'](_0x16137a=new A()){this['getScale'](vl);const _0xe08865=vl['x'],_0x5ce7e5=vl['y'],_0x2d5918=vl['z'];if(_0xe08865===-0x5a7*0x1+0x5b6+-0x1*0xf||_0x5ce7e5===0x1c9f+0x1e45+-0x4*0xeb9||_0x2d5918===0x84b+0x3f8+0x2b*-0x49)return _0x16137a['set'](-0xe91*-0x2+-0x1614*-0x1+-0x3336,-0x1fbb+-0x3*-0x52f+0x102e,-0x17*0x35+0xc77*0x1+0x1ed*-0x4);const _0x15794b=this['data'],_0x29f05d=Math['asin'](-_0x15794b[0x1*-0x11d1+-0x989+0x1*0x1b5c]/_0xe08865),_0x51110b=Math['PI']*(0x13*-0xb1+0x1a82+-0x7*0x1e9+0.5);let _0x1cf5c0,_0x517a1e;return _0x29f05d<_0x51110b?_0x29f05d>-_0x51110b?(_0x1cf5c0=Math['atan2'](_0x15794b[0x1631+-0x193*0x6+-0xcb9]/_0x5ce7e5,_0x15794b[0x485+-0x1*-0x2672+-0x2aed]/_0x2d5918),_0x517a1e=Math['atan2'](_0x15794b[0xb34+0x254e+-0x3081]/_0xe08865,_0x15794b[-0x1*-0x7f2+-0x143e*0x1+0xc4c]/_0xe08865)):(_0x517a1e=0x167a+-0x60+-0x161a,_0x1cf5c0=-Math['atan2'](_0x15794b[-0x1*-0x255b+-0x2290+-0xed*0x3]/_0x5ce7e5,_0x15794b[-0x1257*0x1+-0x11d2+-0x2*-0x1217]/_0x5ce7e5)):(_0x517a1e=-0x161*-0x3+-0xaad*0x3+0x1be4,_0x1cf5c0=Math['atan2'](_0x15794b[0x2325+0x57d+-0x289e]/_0x5ce7e5,_0x15794b[0x2458+0x2009*-0x1+-0x44a]/_0x5ce7e5)),_0x16137a['set'](_0x1cf5c0,_0x29f05d,_0x517a1e)['mulScalar'](z['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Vr,'IDENTITY',Object['freeze'](new Vr())),c(Vr,'ZERO',Object['freeze'](new Vr()['set']([0x19aa+0x7c8+0x6*-0x593,-0x711+-0x9e6+0x2b*0x65,-0x13e8+0x2222+-0xe3a,0x1264*-0x1+-0xa7a+-0xe6f*-0x2,-0x264f+0x2e9+0x17*0x18a,0x1557+0x22*0x8+-0x47b*0x5,0x2e4*-0x3+-0x18d*0x1+-0xa39*-0x1,-0x1dc8+-0x1*0xcd+0x1*0x1e95,-0x1e9a+-0x2375+0x420f,0xe15*-0x1+0x270f+0x116*-0x17,0x19b4+0x150+-0x1b04,-0x1437+-0x1*-0x795+0x4d*0x2a,-0x2459+0x3a9*-0x1+0x2802,0xc*-0x53+0x29a*-0x8+0x18b4,0x22b*-0xa+-0x2*0xf13+0x33d4,-0x2*0x3da+-0x1c71+-0x2425*-0x1])));let q=Vr;const la=class la{constructor(_0x5794c6=0x255c+0x1d6e+-0x42ca,_0x3ed312=-0xec*0xb+0x19dc+-0x1*0xfb8,_0x1e8182=0xae3*0x2+0x24c+-0x1812,_0x3bc113=0x1871*-0x1+0xa6a+-0x1c1*-0x8){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x5794c6['length']===0x63d*0x2+0x1e80+-0x2af6?(this['x']=_0x5794c6[-0x182e*0x1+-0x20a0+-0x2*-0x1c67],this['y']=_0x5794c6[-0x253+0x2*0x425+-0x5f6],this['z']=_0x5794c6[-0x1eb3+0x7e1*-0x1+0x382*0xb],this['w']=_0x5794c6[0xf07*-0x2+-0x2119+0x3f2a]):(this['x']=_0x5794c6,this['y']=_0x3ed312,this['z']=_0x1e8182,this['w']=_0x3bc113);}['clone'](){const _0x3c6df1=this['constructo'+'r'];return new _0x3c6df1(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x1c97ca=this){return this['x']=_0x1c97ca['x']*-(0x1*-0x6c7+0x4d*-0x63+-0x248f*-0x1),this['y']=_0x1c97ca['y']*-(-0x2*0x757+0x142c+-0x1*0x57d),this['z']=_0x1c97ca['z']*-(0x1*-0x2494+0x7*0x535+-0x22*-0x1),this['w']=_0x1c97ca['w'],this;}['copy'](_0x2dcf3d){return this['x']=_0x2dcf3d['x'],this['y']=_0x2dcf3d['y'],this['z']=_0x2dcf3d['z'],this['w']=_0x2dcf3d['w'],this;}['equals'](_0x5da65b){return this['x']===_0x5da65b['x']&&this['y']===_0x5da65b['y']&&this['z']===_0x5da65b['z']&&this['w']===_0x5da65b['w'];}['equalsAppr'+'ox'](_0x34712c,_0x3c98d1=0x20ee+0x33f*0x1+-0x242d+0.000001){return Math['abs'](this['x']-_0x34712c['x'])<_0x3c98d1&&Math['abs'](this['y']-_0x34712c['y'])<_0x3c98d1&&Math['abs'](this['z']-_0x34712c['z'])<_0x3c98d1&&Math['abs'](this['w']-_0x34712c['w'])<_0x3c98d1;}['getAxisAng'+'le'](_0x49d68f){let _0x4abd7b=Math['acos'](this['w'])*(0x12a4*-0x2+0x1*-0x1709+0x3c53);const _0x49d04d=Math['sin'](_0x4abd7b/(-0x180c+0x1a49+-0x23b));return _0x49d04d!==-0x3*-0x8b+0x1f87+-0x8*0x425?(_0x49d68f['x']=this['x']/_0x49d04d,_0x49d68f['y']=this['y']/_0x49d04d,_0x49d68f['z']=this['z']/_0x49d04d,(_0x49d68f['x']<-0xf10+0x18bb+0x5*-0x1ef||_0x49d68f['y']<-0x8a5*0x2+0xf67+0x1e3||_0x49d68f['z']<0x11b0*0x2+-0x518*0x1+-0x1e48)&&(_0x49d68f['x']*=-(-0x246+-0x82*0x4b+-0x1*-0x285d),_0x49d68f['y']*=-(0x1a27+0x16cf*-0x1+0x357*-0x1),_0x49d68f['z']*=-(0x2461+-0x150b+-0xf55),_0x4abd7b*=-(-0x1*0x1f0f+0x1569+0x9a7))):(_0x49d68f['x']=0x52f+0x423+-0x951,_0x49d68f['y']=-0x1885*-0x1+0x0+-0x1885*0x1,_0x49d68f['z']=0x43a*0x7+0x207d+-0x3e13),_0x4abd7b*z['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x391cd5=new A()){let _0x364ad2,_0x1be649,_0x4f2f38;const _0x1eaa89=this['x'],_0x39e493=this['y'],_0x56ca59=this['z'],_0xeed3a4=this['w'],_0x112343=(-0x1b2b+-0x1*0x104e+0x2b7b)*(_0xeed3a4*_0x39e493-_0x1eaa89*_0x56ca59);return _0x112343<=-(-0xcfe*-0x3+-0x1e5b+-0x1*0x89f+0.99999)?(_0x364ad2=(0x104f+-0x2*0x149+-0x1*0xdbb)*Math['atan2'](_0x1eaa89,_0xeed3a4),_0x1be649=-Math['PI']/(0x2c7+-0x1718+0x1453),_0x4f2f38=-0x16cd+-0x2019+0x36e6):_0x112343>=-0x1*-0x2659+0x7*0x8b+-0x2a26+0.99999?(_0x364ad2=(-0x3*-0x2c5+0x1885+0x1*-0x20d2)*Math['atan2'](_0x1eaa89,_0xeed3a4),_0x1be649=Math['PI']/(-0x608*-0x2+0x1*-0x1aa3+-0x1*-0xe95),_0x4f2f38=0x1ff4+-0x218*-0x2+0x4*-0x909):(_0x364ad2=Math['atan2']((0x1ad0+0x2*0xd6+0x5b2*-0x5)*(_0xeed3a4*_0x1eaa89+_0x39e493*_0x56ca59),-0x248+-0x33d*0xb+0x25e8-(0x44*-0x49+0x2*-0xfad+0x2*0x1960)*(_0x1eaa89*_0x1eaa89+_0x39e493*_0x39e493)),_0x1be649=Math['asin'](_0x112343),_0x4f2f38=Math['atan2']((-0x14ee+0x1a63+-0x573)*(_0xeed3a4*_0x56ca59+_0x1eaa89*_0x39e493),0x4*-0x66b+-0x19c1*0x1+0x336e-(0x2216+-0x1f3d+-0x1*0x2d7)*(_0x39e493*_0x39e493+_0x56ca59*_0x56ca59))),_0x391cd5['set'](_0x364ad2,_0x1be649,_0x4f2f38)['mulScalar'](z['RAD_TO_DEG']);}['invert'](_0x200976=this){return this['conjugate'](_0x200976)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x4ca646){const _0x28de13=this['x'],_0x47b4a1=this['y'],_0x77435c=this['z'],_0x252c7c=this['w'],_0x23bdce=_0x4ca646['x'],_0x5bb46e=_0x4ca646['y'],_0x2f8e9b=_0x4ca646['z'],_0x5943bd=_0x4ca646['w'];return this['x']=_0x252c7c*_0x23bdce+_0x28de13*_0x5943bd+_0x47b4a1*_0x2f8e9b-_0x77435c*_0x5bb46e,this['y']=_0x252c7c*_0x5bb46e+_0x47b4a1*_0x5943bd+_0x77435c*_0x23bdce-_0x28de13*_0x2f8e9b,this['z']=_0x252c7c*_0x2f8e9b+_0x77435c*_0x5943bd+_0x28de13*_0x5bb46e-_0x47b4a1*_0x23bdce,this['w']=_0x252c7c*_0x5943bd-_0x28de13*_0x23bdce-_0x47b4a1*_0x5bb46e-_0x77435c*_0x2f8e9b,this;}['mulScalar'](_0x9171ee,_0x274016=this){return this['x']=_0x274016['x']*_0x9171ee,this['y']=_0x274016['y']*_0x9171ee,this['z']=_0x274016['z']*_0x9171ee,this['w']=_0x274016['w']*_0x9171ee,this;}['mul2'](_0x59cd63,_0x399eef){const _0x4c6347=_0x59cd63['x'],_0x2b5206=_0x59cd63['y'],_0x28e70f=_0x59cd63['z'],_0x25586f=_0x59cd63['w'],_0x29c89d=_0x399eef['x'],_0x7fc6af=_0x399eef['y'],_0x4863f5=_0x399eef['z'],_0x26ea8f=_0x399eef['w'];return this['x']=_0x25586f*_0x29c89d+_0x4c6347*_0x26ea8f+_0x2b5206*_0x4863f5-_0x28e70f*_0x7fc6af,this['y']=_0x25586f*_0x7fc6af+_0x2b5206*_0x26ea8f+_0x28e70f*_0x29c89d-_0x4c6347*_0x4863f5,this['z']=_0x25586f*_0x4863f5+_0x28e70f*_0x26ea8f+_0x4c6347*_0x7fc6af-_0x2b5206*_0x29c89d,this['w']=_0x25586f*_0x26ea8f-_0x4c6347*_0x29c89d-_0x2b5206*_0x7fc6af-_0x28e70f*_0x4863f5,this;}['normalize'](_0x44c424=this){let _0x147300=_0x44c424['length']();return _0x147300===0x26a7+-0x3bd+-0x22ea?(this['x']=this['y']=this['z']=-0x1*-0x1d96+-0x559*0x2+-0x12e4,this['w']=-0x19b0+0xbb0+0xe01):(_0x147300=(0x231a+0x2044+-0x435d)/_0x147300,this['x']=_0x44c424['x']*_0x147300,this['y']=_0x44c424['y']*_0x147300,this['z']=_0x44c424['z']*_0x147300,this['w']=_0x44c424['w']*_0x147300),this;}['set'](_0xc92cc9,_0x3e66f3,_0x360ee2,_0x2b7f9e){return this['x']=_0xc92cc9,this['y']=_0x3e66f3,this['z']=_0x360ee2,this['w']=_0x2b7f9e,this;}['setFromAxi'+'sAngle'](_0x138ff8,_0x19146b){_0x19146b*=(-0x7c5+-0x1*0x170f+0x1ed4+0.5)*z['DEG_TO_RAD'];const _0x207902=Math['sin'](_0x19146b),_0x114fd4=Math['cos'](_0x19146b);return this['x']=_0x207902*_0x138ff8['x'],this['y']=_0x207902*_0x138ff8['y'],this['z']=_0x207902*_0x138ff8['z'],this['w']=_0x114fd4,this;}['setFromEul'+'erAngles'](_0x323837,_0x25d29b,_0x2a9b1f){if(_0x323837 instanceof A){const _0x2f6fdf=_0x323837;_0x323837=_0x2f6fdf['x'],_0x25d29b=_0x2f6fdf['y'],_0x2a9b1f=_0x2f6fdf['z'];}const _0x4f08ef=(0x2*0x898+-0xcf*0x12+-0x2a2*0x1+0.5)*z['DEG_TO_RAD'];_0x323837*=_0x4f08ef,_0x25d29b*=_0x4f08ef,_0x2a9b1f*=_0x4f08ef;const _0x3952a2=Math['sin'](_0x323837),_0x5dff38=Math['cos'](_0x323837),_0x378993=Math['sin'](_0x25d29b),_0x3948e0=Math['cos'](_0x25d29b),_0x7e1a64=Math['sin'](_0x2a9b1f),_0x4a7829=Math['cos'](_0x2a9b1f);return this['x']=_0x3952a2*_0x3948e0*_0x4a7829-_0x5dff38*_0x378993*_0x7e1a64,this['y']=_0x5dff38*_0x378993*_0x4a7829+_0x3952a2*_0x3948e0*_0x7e1a64,this['z']=_0x5dff38*_0x3948e0*_0x7e1a64-_0x3952a2*_0x378993*_0x4a7829,this['w']=_0x5dff38*_0x3948e0*_0x4a7829+_0x3952a2*_0x378993*_0x7e1a64,this;}['setFromMat'+'4'](_0x121da2){const _0x3afdb9=_0x121da2['data'];let _0x26e0e4=_0x3afdb9[-0x106d*-0x1+-0xa6*0x1+-0xfc7],_0x279851=_0x3afdb9[0xa84+0x19fc+-0x247f*0x1],_0x1ea44a=_0x3afdb9[-0x1da*0xf+0x208f+-0x4c7],_0x4b603d=_0x3afdb9[-0xf9*0xf+0x1*-0x1ad7+-0x84a*-0x5],_0x93a4aa=_0x3afdb9[0xda5*-0x2+0x1f7b+0x10b*-0x4],_0x1ed3d2=_0x3afdb9[0xcab+0x1709+0x2*-0x11d7],_0x5a9ee8=_0x3afdb9[-0x1ee6+0x14ee+0xa00],_0x603107=_0x3afdb9[0x13*-0x161+-0x1*-0x209+-0x127*-0x15],_0x149927=_0x3afdb9[-0xab5*-0x1+-0x2*0x103+-0x8a5],_0x24233c;return _0x24233c=_0x26e0e4*_0x26e0e4+_0x279851*_0x279851+_0x1ea44a*_0x1ea44a,_0x24233c===0x3*-0x43+0x20df+-0x2016*0x1?this['set'](-0x15b3+-0x647*-0x1+-0x524*-0x3,0x1f50+0x4d*-0x7b+0x5af,-0xb54+-0x82e+-0x2*-0x9c1,-0x4e5*-0x6+0x158d+0x1*-0x32ea):(_0x24233c=(0x1173*0x2+-0xec9+0x11e*-0x12)/Math['sqrt'](_0x24233c),_0x26e0e4*=_0x24233c,_0x279851*=_0x24233c,_0x1ea44a*=_0x24233c,_0x24233c=_0x4b603d*_0x4b603d+_0x93a4aa*_0x93a4aa+_0x1ed3d2*_0x1ed3d2,_0x24233c===-0xaa5+-0x6f*-0x4a+0x1f3*-0xb?this['set'](0x2*0x52b+0x17*0x9d+-0x1871,-0x20b8+0x1b1*0x6+0x1692,-0x19*-0xdf+0xa3d*0x2+0x175*-0x1d,-0x2ea*0x4+0x11b5*-0x1+0x1d5e):(_0x24233c=(-0x496+-0x5d9+-0xa70*-0x1)/Math['sqrt'](_0x24233c),_0x4b603d*=_0x24233c,_0x93a4aa*=_0x24233c,_0x1ed3d2*=_0x24233c,_0x24233c=_0x5a9ee8*_0x5a9ee8+_0x603107*_0x603107+_0x149927*_0x149927,_0x24233c===0x7ce+0x2*0x626+0x141a*-0x1?this['set'](0x1*-0x66b+0x21d2+-0x73*0x3d,0x4*0x175+-0x8e*0x38+0x193c,0x3b*-0x6a+-0x1ff1+0x385f,-0x8d*0x1+0x6b*0xd+-0x4e1*0x1):(_0x24233c=(-0x2172+-0x960+0x1*0x2ad3)/Math['sqrt'](_0x24233c),_0x5a9ee8*=_0x24233c,_0x603107*=_0x24233c,_0x149927*=_0x24233c,_0x149927<0xe95*0x1+-0x23db+-0x1*-0x1546?_0x26e0e4>_0x93a4aa?this['set'](-0x1*-0x26ab+-0xb*0xaf+-0x1f25+_0x26e0e4-_0x93a4aa-_0x149927,_0x279851+_0x4b603d,_0x5a9ee8+_0x1ea44a,_0x1ed3d2-_0x603107):this['set'](_0x279851+_0x4b603d,0x2362+-0x7*0x431+-0x60a*0x1-_0x26e0e4+_0x93a4aa-_0x149927,_0x1ed3d2+_0x603107,_0x5a9ee8-_0x1ea44a):_0x26e0e4<-_0x93a4aa?this['set'](_0x5a9ee8+_0x1ea44a,_0x1ed3d2+_0x603107,0x348*-0x2+-0x53e+0xbcf-_0x26e0e4-_0x93a4aa+_0x149927,_0x279851-_0x4b603d):this['set'](_0x1ed3d2-_0x603107,_0x5a9ee8-_0x1ea44a,_0x279851-_0x4b603d,-0x2450+-0x165*0x13+-0xa*-0x648+_0x26e0e4+_0x93a4aa+_0x149927),this['mulScalar']((-0x2*-0xe91+-0x2465+0x1*0x744)/this['length']()))));}['setFromDir'+'ections'](_0x122fe9,_0x324fee){const _0x3fd782=0x10c4+0x6cb+0x5a*-0x43+_0x122fe9['dot'](_0x324fee);return _0x3fd782<Number['EPSILON']?Math['abs'](_0x122fe9['x'])>Math['abs'](_0x122fe9['y'])?(this['x']=-_0x122fe9['z'],this['y']=0x126e+0x4*0x3bc+-0x1*0x215e,this['z']=_0x122fe9['x'],this['w']=-0x1*-0x1b2c+-0x1a6+0x1986*-0x1):(this['x']=-0x718+0x2c3*-0x7+0x3*0x8cf,this['y']=-_0x122fe9['z'],this['z']=_0x122fe9['y'],this['w']=0x531*0x2+-0x10fb+-0x1*-0x699):(this['x']=_0x122fe9['y']*_0x324fee['z']-_0x122fe9['z']*_0x324fee['y'],this['y']=_0x122fe9['z']*_0x324fee['x']-_0x122fe9['x']*_0x324fee['z'],this['z']=_0x122fe9['x']*_0x324fee['y']-_0x122fe9['y']*_0x324fee['x'],this['w']=_0x3fd782),this['normalize']();}['slerp'](_0x503ebf,_0x17406f,_0x49fd27){const _0x1871d7=_0x503ebf['x'],_0x199609=_0x503ebf['y'],_0x5c6e51=_0x503ebf['z'],_0xde2267=_0x503ebf['w'];let _0x3a6152=_0x17406f['x'],_0x5b134a=_0x17406f['y'],_0x9db7fc=_0x17406f['z'],_0x2798b9=_0x17406f['w'],_0x1f4809=_0xde2267*_0x2798b9+_0x1871d7*_0x3a6152+_0x199609*_0x5b134a+_0x5c6e51*_0x9db7fc;if(_0x1f4809<0x214c+0x87e+-0x1*0x29ca&&(_0x2798b9=-_0x2798b9,_0x3a6152=-_0x3a6152,_0x5b134a=-_0x5b134a,_0x9db7fc=-_0x9db7fc,_0x1f4809=-_0x1f4809),Math['abs'](_0x1f4809)>=0x9cd*0x2+-0x17f*-0x17+-0xdf*0x3e)return this['w']=_0xde2267,this['x']=_0x1871d7,this['y']=_0x199609,this['z']=_0x5c6e51,this;const _0x123d99=Math['acos'](_0x1f4809),_0x2e7819=Math['sqrt'](-0x255d*-0x1+-0xf0*0x16+-0x2*0x85e-_0x1f4809*_0x1f4809);if(Math['abs'](_0x2e7819)<0x14b*0x1+0x13f3+-0x153e+0.001)return this['w']=_0xde2267*(-0x675+0x1*-0x1733+0x92*0x34+0.5)+_0x2798b9*(-0xc53*0x3+0x24f6*-0x1+0x49ef+0.5),this['x']=_0x1871d7*(0x1655+-0x70*-0x53+-0x3aa5+0.5)+_0x3a6152*(0x3ba+0x25c*0x3+-0x3*0x39a+0.5),this['y']=_0x199609*(-0x1d2c+-0xb8d+0x2b7*0xf+0.5)+_0x5b134a*(0x16f7+0x236b+-0x3a62+0.5),this['z']=_0x5c6e51*(0x1*0x113f+0x5*-0x2bb+-0x398+0.5)+_0x9db7fc*(-0x233*-0xd+0x755+-0x23ec+0.5),this;const _0x5c2b46=Math['sin']((-0x13df*0x1+0x1bbc+0x4*-0x1f7-_0x49fd27)*_0x123d99)/_0x2e7819,_0x1da13e=Math['sin'](_0x49fd27*_0x123d99)/_0x2e7819;return this['w']=_0xde2267*_0x5c2b46+_0x2798b9*_0x1da13e,this['x']=_0x1871d7*_0x5c2b46+_0x3a6152*_0x1da13e,this['y']=_0x199609*_0x5c2b46+_0x5b134a*_0x1da13e,this['z']=_0x5c6e51*_0x5c2b46+_0x9db7fc*_0x1da13e,this;}['transformV'+'ector'](_0x1a0302,_0x118571=new A()){const _0x59d5e4=_0x1a0302['x'],_0x1ee1c5=_0x1a0302['y'],_0x49c453=_0x1a0302['z'],_0x46f5f9=this['x'],_0x2abd4c=this['y'],_0x2e95bc=this['z'],_0xa6e5fd=this['w'],_0xdac077=_0xa6e5fd*_0x59d5e4+_0x2abd4c*_0x49c453-_0x2e95bc*_0x1ee1c5,_0x18d3b7=_0xa6e5fd*_0x1ee1c5+_0x2e95bc*_0x59d5e4-_0x46f5f9*_0x49c453,_0x59833b=_0xa6e5fd*_0x49c453+_0x46f5f9*_0x1ee1c5-_0x2abd4c*_0x59d5e4,_0x5d98ee=-_0x46f5f9*_0x59d5e4-_0x2abd4c*_0x1ee1c5-_0x2e95bc*_0x49c453;return _0x118571['x']=_0xdac077*_0xa6e5fd+_0x5d98ee*-_0x46f5f9+_0x18d3b7*-_0x2e95bc-_0x59833b*-_0x2abd4c,_0x118571['y']=_0x18d3b7*_0xa6e5fd+_0x5d98ee*-_0x2abd4c+_0x59833b*-_0x46f5f9-_0xdac077*-_0x2e95bc,_0x118571['z']=_0x59833b*_0xa6e5fd+_0x5d98ee*-_0x2e95bc+_0xdac077*-_0x2abd4c-_0x18d3b7*-_0x46f5f9,_0x118571;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(la,'IDENTITY',Object['freeze'](new la(-0x2011*-0x1+-0x1c8b+-0x386,-0x1b6*0x7+0x52e+0x6cc,-0xa5+-0x425*-0x2+-0x7a5,-0x323*-0xa+-0x46f+-0x1aee))),c(la,'ZERO',Object['freeze'](new la(0x880+0x1c6+0xa46*-0x1,-0x1c49*0x1+0x1*0x11d9+0xa70,-0x2303+0xe+0x22f5,-0x1d0f+-0x2*0x1348+-0x9a9*-0x7)));let ie=la;const wn=new A(),Tn=new A(),am=new A(),om=new A(),vS=new A();class ve{constructor(_0x3dab05,_0x11ce7b){c(this,'center',new A()),c(this,'halfExtent'+'s',new A(-0x10ff+-0x12e*0x1+0x3*0x60f+0.5,-0x1205+-0x29*-0x9d+-0x130*0x6+0.5,-0x351+0xec7+-0xb76+0.5)),c(this,'_min',new A()),c(this,'_max',new A()),(_0x3dab05&&this['center']['copy'](_0x3dab05),_0x11ce7b&&this['halfExtent'+'s']['copy'](_0x11ce7b));}['add'](_0x3115e6){const _0x3bcd7a=this['center'],_0x549c60=_0x3bcd7a['x'],_0x87d14e=_0x3bcd7a['y'],_0x53053f=_0x3bcd7a['z'],_0x8398d2=this['halfExtent'+'s'],_0x3596e9=_0x8398d2['x'],_0x61cf90=_0x8398d2['y'],_0x193b53=_0x8398d2['z'];let _0x43680c=_0x549c60-_0x3596e9,_0x242874=_0x549c60+_0x3596e9,_0x2a9b09=_0x87d14e-_0x61cf90,_0x5178b8=_0x87d14e+_0x61cf90,_0x34fee3=_0x53053f-_0x193b53,_0x5c913a=_0x53053f+_0x193b53;const _0x16c19d=_0x3115e6['center'],_0x48bb6d=_0x16c19d['x'],_0x57d2e7=_0x16c19d['y'],_0x4fe0cc=_0x16c19d['z'],_0xc5469d=_0x3115e6['halfExtent'+'s'],_0x4f466f=_0xc5469d['x'],_0x9f23f4=_0xc5469d['y'],_0x3db1e3=_0xc5469d['z'],_0x21d12=_0x48bb6d-_0x4f466f,_0x54142b=_0x48bb6d+_0x4f466f,_0xfbe758=_0x57d2e7-_0x9f23f4,_0x38edaa=_0x57d2e7+_0x9f23f4,_0xccc3f2=_0x4fe0cc-_0x3db1e3,_0x1de3a8=_0x4fe0cc+_0x3db1e3;_0x21d12<_0x43680c&&(_0x43680c=_0x21d12),_0x54142b>_0x242874&&(_0x242874=_0x54142b),_0xfbe758<_0x2a9b09&&(_0x2a9b09=_0xfbe758),_0x38edaa>_0x5178b8&&(_0x5178b8=_0x38edaa),_0xccc3f2<_0x34fee3&&(_0x34fee3=_0xccc3f2),_0x1de3a8>_0x5c913a&&(_0x5c913a=_0x1de3a8),_0x3bcd7a['x']=(_0x43680c+_0x242874)*(-0xdbd+0x6*0x557+-0x124d+0.5),_0x3bcd7a['y']=(_0x2a9b09+_0x5178b8)*(0x11ae*0x2+0x1298+-0x35f4+0.5),_0x3bcd7a['z']=(_0x34fee3+_0x5c913a)*(-0xbb0+-0x1*0x955+0x1505+0.5),_0x8398d2['x']=(_0x242874-_0x43680c)*(0xc3*-0x25+0x179c+-0x1*-0x493+0.5),_0x8398d2['y']=(_0x5178b8-_0x2a9b09)*(0x1bcb+0xe95+0x2a6*-0x10+0.5),_0x8398d2['z']=(_0x5c913a-_0x34fee3)*(0x92*-0xa+-0x1e08+0x23bc+0.5);}['copy'](_0x51d0a6){this['center']['copy'](_0x51d0a6['center']),this['halfExtent'+'s']['copy'](_0x51d0a6['halfExtent'+'s']);}['clone'](){return new ve(this['center'],this['halfExtent'+'s']);}['intersects'](_0x85121a){const _0x3e005e=this['getMax'](),_0x2c9db0=this['getMin'](),_0x1b3796=_0x85121a['getMax'](),_0x524fc4=_0x85121a['getMin']();return _0x2c9db0['x']<=_0x1b3796['x']&&_0x3e005e['x']>=_0x524fc4['x']&&_0x2c9db0['y']<=_0x1b3796['y']&&_0x3e005e['y']>=_0x524fc4['y']&&_0x2c9db0['z']<=_0x1b3796['z']&&_0x3e005e['z']>=_0x524fc4['z'];}['_intersect'+'sRay'](_0x10d434,_0x3b4a0c){const _0x543e29=wn['copy'](this['getMin']())['sub'](_0x10d434['origin']),_0x370787=Tn['copy'](this['getMax']())['sub'](_0x10d434['origin']),_0x33e4b7=_0x10d434['direction'];_0x33e4b7['x']===-0x281+-0xfef+0x1270?(_0x543e29['x']=_0x543e29['x']<-0x1aa6+-0x24ef+0x3f95?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x370787['x']=_0x370787['x']<-0x1295*-0x1+0x168e+-0x1*0x2923?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x543e29['x']/=_0x33e4b7['x'],_0x370787['x']/=_0x33e4b7['x']),_0x33e4b7['y']===0x1d64+-0x717+-0x164d?(_0x543e29['y']=_0x543e29['y']<0x2024+0x8ff+0x1*-0x2923?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x370787['y']=_0x370787['y']<-0xcac+0x1*0x2cf+0x9dd?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x543e29['y']/=_0x33e4b7['y'],_0x370787['y']/=_0x33e4b7['y']),_0x33e4b7['z']===0x1ec9+-0x7d*-0x3d+-0x3c92?(_0x543e29['z']=_0x543e29['z']<-0x793*0x3+-0x12b5*0x1+0x296e?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x370787['z']=_0x370787['z']<-0x3*0xcf+0x62*-0x1+0x2cf?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x543e29['z']/=_0x33e4b7['z'],_0x370787['z']/=_0x33e4b7['z']);const _0x1d738c=am['set'](Math['min'](_0x543e29['x'],_0x370787['x']),Math['min'](_0x543e29['y'],_0x370787['y']),Math['min'](_0x543e29['z'],_0x370787['z'])),_0x55039d=om['set'](Math['max'](_0x543e29['x'],_0x370787['x']),Math['max'](_0x543e29['y'],_0x370787['y']),Math['max'](_0x543e29['z'],_0x370787['z'])),_0x2db6d0=Math['min'](Math['min'](_0x55039d['x'],_0x55039d['y']),_0x55039d['z']),_0x514d59=Math['max'](Math['max'](_0x1d738c['x'],_0x1d738c['y']),_0x1d738c['z']),_0xf4f6e3=_0x2db6d0>=_0x514d59&&_0x514d59>=0x1902+-0xac7+0xe3b*-0x1;return _0xf4f6e3&&_0x3b4a0c['copy'](_0x10d434['direction'])['mulScalar'](_0x514d59)['add'](_0x10d434['origin']),_0xf4f6e3;}['_fastInter'+'sectsRay'](_0xba7701){const _0x11a2eb=wn,_0x54cac1=Tn,_0x54da35=am,_0xbc2e45=om,_0x4f3bee=vS,_0x5604a8=_0xba7701['direction'];return _0x11a2eb['sub2'](_0xba7701['origin'],this['center']),_0xbc2e45['set'](Math['abs'](_0x11a2eb['x']),Math['abs'](_0x11a2eb['y']),Math['abs'](_0x11a2eb['z'])),_0x54da35['mul2'](_0x11a2eb,_0x5604a8),!(_0xbc2e45['x']>this['halfExtent'+'s']['x']&&_0x54da35['x']>=-0x1d*0xe5+0x3*-0x66b+0x2d32||_0xbc2e45['y']>this['halfExtent'+'s']['y']&&_0x54da35['y']>=-0x861+0x2687+-0x1e26||_0xbc2e45['z']>this['halfExtent'+'s']['z']&&_0x54da35['z']>=0x2320+0x1cd9+-0x3ff9||(_0x4f3bee['set'](Math['abs'](_0x5604a8['x']),Math['abs'](_0x5604a8['y']),Math['abs'](_0x5604a8['z'])),_0x54cac1['cross'](_0x5604a8,_0x11a2eb),_0x54cac1['set'](Math['abs'](_0x54cac1['x']),Math['abs'](_0x54cac1['y']),Math['abs'](_0x54cac1['z'])),_0x54cac1['x']>this['halfExtent'+'s']['y']*_0x4f3bee['z']+this['halfExtent'+'s']['z']*_0x4f3bee['y'])||_0x54cac1['y']>this['halfExtent'+'s']['x']*_0x4f3bee['z']+this['halfExtent'+'s']['z']*_0x4f3bee['x']||_0x54cac1['z']>this['halfExtent'+'s']['x']*_0x4f3bee['y']+this['halfExtent'+'s']['y']*_0x4f3bee['x']);}['intersects'+'Ray'](_0x3598a6,_0x226a44){return _0x226a44?this['_intersect'+'sRay'](_0x3598a6,_0x226a44):this['_fastInter'+'sectsRay'](_0x3598a6);}['setMinMax'](_0x5599fc,_0x3e4c24){this['center']['add2'](_0x3e4c24,_0x5599fc)['mulScalar'](0x63b+0x19ed+-0x15*0x188+0.5),this['halfExtent'+'s']['sub2'](_0x3e4c24,_0x5599fc)['mulScalar'](-0x1bb*0x1+-0x20b1+0x2*0x1136+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x38828a){const _0x4fc5f0=this['getMin'](),_0x419a4c=this['getMax']();return!(_0x38828a['x']<_0x4fc5f0['x']||_0x38828a['x']>_0x419a4c['x']||_0x38828a['y']<_0x4fc5f0['y']||_0x38828a['y']>_0x419a4c['y']||_0x38828a['z']<_0x4fc5f0['z']||_0x38828a['z']>_0x419a4c['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x44016a,_0x137ca2,_0x1e50ea=!(-0x2422+0x1*0xc63+0x17c0)){const _0x202991=_0x44016a['center'],_0x1b7dea=_0x44016a['halfExtent'+'s'],_0x468f6f=_0x137ca2['data'];let _0x3b8b4c=_0x468f6f[0x7fb+-0x229b+0x10*0x1aa],_0x3047a4=_0x468f6f[0x1657+0x24d9+0x4*-0xecb],_0x484956=_0x468f6f[-0x49*-0x4a+0x20d2*0x1+0xd79*-0x4],_0x193c76=_0x468f6f[-0x1*-0x2151+0x591+-0x26e1],_0xdcd686=_0x468f6f[-0x5af*0x2+-0x1*0x12c3+0x1e26],_0x555f7f=_0x468f6f[-0x264b+0x584+0x20d0],_0x304454=_0x468f6f[-0x1*-0x1be+-0x45a+0x29e],_0x938d35=_0x468f6f[0x1d*-0x5f+-0x1b1*0x4+0x1*0x118d],_0x573454=_0x468f6f[-0x2094+-0x144*0x12+0x1*0x3766];if(_0x1e50ea){let _0x54edc2=_0x3b8b4c*_0x3b8b4c+_0x3047a4*_0x3047a4+_0x484956*_0x484956;if(_0x54edc2>0x245*0x3+0x100f+-0x16de){const _0x347d7f=(-0x13*0x18d+0x372*0x1+-0x1*-0x1a06)/Math['sqrt'](_0x54edc2);_0x3b8b4c*=_0x347d7f,_0x3047a4*=_0x347d7f,_0x484956*=_0x347d7f;}if(_0x54edc2=_0x193c76*_0x193c76+_0xdcd686*_0xdcd686+_0x555f7f*_0x555f7f,_0x54edc2>-0xe78+-0x167+0xfdf){const _0x5cf1da=(-0xea4*0x2+0x57f+0x17ca)/Math['sqrt'](_0x54edc2);_0x193c76*=_0x5cf1da,_0xdcd686*=_0x5cf1da,_0x555f7f*=_0x5cf1da;}if(_0x54edc2=_0x304454*_0x304454+_0x938d35*_0x938d35+_0x573454*_0x573454,_0x54edc2>0xdc*-0x1a+0x243c+-0xde4){const _0x47fd06=(-0x19b3+0x158e+0x426)/Math['sqrt'](_0x54edc2);_0x304454*=_0x47fd06,_0x938d35*=_0x47fd06,_0x573454*=_0x47fd06;}}this['center']['set'](_0x468f6f[0x869*0x4+0x123f+-0x33d7]+_0x3b8b4c*_0x202991['x']+_0x3047a4*_0x202991['y']+_0x484956*_0x202991['z'],_0x468f6f[0x84*-0x2c+0x2022+-0x5*0x1e1]+_0x193c76*_0x202991['x']+_0xdcd686*_0x202991['y']+_0x555f7f*_0x202991['z'],_0x468f6f[-0x1*0x17bf+0x1*-0x9e1+0x21ae]+_0x304454*_0x202991['x']+_0x938d35*_0x202991['y']+_0x573454*_0x202991['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x3b8b4c)*_0x1b7dea['x']+Math['abs'](_0x3047a4)*_0x1b7dea['y']+Math['abs'](_0x484956)*_0x1b7dea['z'],Math['abs'](_0x193c76)*_0x1b7dea['x']+Math['abs'](_0xdcd686)*_0x1b7dea['y']+Math['abs'](_0x555f7f)*_0x1b7dea['z'],Math['abs'](_0x304454)*_0x1b7dea['x']+Math['abs'](_0x938d35)*_0x1b7dea['y']+Math['abs'](_0x573454)*_0x1b7dea['z']);}static['computeMin'+'Max'](_0x47ade2,_0x46e8c6,_0x41c49d,_0x20f3e4=_0x47ade2['length']/(0x1e17+-0x1d24+-0xf0)){if(_0x20f3e4>-0x6*0x49b+0x4*-0x266+0x253a){let _0x300745=_0x47ade2[-0x1ed5+-0x770*-0x2+0xff5],_0x40d1cc=_0x47ade2[0x202d*0x1+-0x8e0+-0x174c],_0x27e19b=_0x47ade2[-0x26f+0x33b*0xa+-0x5*0x5f9],_0x1b9d68=_0x300745,_0x3fb37b=_0x40d1cc,_0x13718d=_0x27e19b;const _0x2ada60=_0x20f3e4*(0x44b+-0x256b+0x2123);for(let _0x10ca06=0x1*0x455+0x1c1*-0x4+-0x17*-0x1e;_0x10ca06<_0x2ada60;_0x10ca06+=0x121d+-0x1e2f+0x3*0x407){const _0x2109b5=_0x47ade2[_0x10ca06],_0x2be02c=_0x47ade2[_0x10ca06+(-0x3b5+-0xcb*0x1b+0x6d*0x3b)],_0x39e7ab=_0x47ade2[_0x10ca06+(-0xc2e*0x2+0xad3+0xd8b)];_0x2109b5<_0x300745&&(_0x300745=_0x2109b5),_0x2be02c<_0x40d1cc&&(_0x40d1cc=_0x2be02c),_0x39e7ab<_0x27e19b&&(_0x27e19b=_0x39e7ab),_0x2109b5>_0x1b9d68&&(_0x1b9d68=_0x2109b5),_0x2be02c>_0x3fb37b&&(_0x3fb37b=_0x2be02c),_0x39e7ab>_0x13718d&&(_0x13718d=_0x39e7ab);}_0x46e8c6['set'](_0x300745,_0x40d1cc,_0x27e19b),_0x41c49d['set'](_0x1b9d68,_0x3fb37b,_0x13718d);}}['compute'](_0x7d5e9e,_0xb3b2d8){ve['computeMin'+'Max'](_0x7d5e9e,wn,Tn,_0xb3b2d8),this['setMinMax'](wn,Tn);}['intersects'+'BoundingSp'+'here'](_0x4712f0){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x4712f0)<=_0x4712f0['radius']*_0x4712f0['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x22b6fe){const _0x9f75e2=this['getMin'](),_0x164c59=this['getMax']();let _0x1b0b1c=-0x8c0+0x23cb+0x17*-0x12d;const _0x335683=['x','y','z'];for(let _0x5e23b4=0xc9b+-0x1387*0x1+0x1*0x6ec;_0x5e23b4<-0x24d1+-0x7*0x17b+-0x1*-0x2f31;++_0x5e23b4){let _0x22a2ef=0x1*0xfcc+0x2*0x7a0+-0x4*0x7c3;const _0x467931=_0x22b6fe['center'][_0x335683[_0x5e23b4]],_0x380fe3=_0x9f75e2[_0x335683[_0x5e23b4]],_0x140602=_0x164c59[_0x335683[_0x5e23b4]];let _0x3c863b=-0xf57+-0x1d69+0x2cc0;_0x467931<_0x380fe3&&(_0x3c863b=_0x380fe3-_0x467931,_0x22a2ef+=_0x3c863b*_0x3c863b),_0x467931>_0x140602&&(_0x3c863b=_0x467931-_0x140602,_0x22a2ef+=_0x3c863b*_0x3c863b),_0x1b0b1c+=_0x22a2ef;}return _0x1b0b1c;}['_expand'](_0x4aabc2,_0x5d3f7a){wn['add2'](this['getMin'](),_0x4aabc2),Tn['add2'](this['getMax'](),_0x5d3f7a),this['setMinMax'](wn,Tn);}}const bl=new A(),bS=new A();class Bf{constructor(_0x3245c8=new A(),_0x3eb0c2=-0x25f8+0x7d9+-0x1*-0x1e1f+0.5){c(this,'center'),c(this,'radius'),(b['assert'](!Object['isFrozen'](_0x3245c8),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x3245c8,this['radius']=_0x3eb0c2);}['containsPo'+'int'](_0x1dd4e9){const _0x2534d6=bl['sub2'](_0x1dd4e9,this['center'])['lengthSq'](),_0x38e3af=this['radius'];return _0x2534d6<_0x38e3af*_0x38e3af;}['intersects'+'Ray'](_0xbcac4d,_0x1be7b4){const _0x28f634=bl['copy'](_0xbcac4d['origin'])['sub'](this['center']),_0x419be0=_0x28f634['dot'](bS['copy'](_0xbcac4d['direction'])['normalize']()),_0x4c2261=_0x28f634['dot'](_0x28f634)-this['radius']*this['radius'];if(_0x4c2261>-0xdf5+-0x20e6+0x2edb&&_0x419be0>-0x433+-0x2121+0x2554)return!(0x1c*0xa7+0xd6c*-0x1+-0x4d7);const _0x4e1ae2=_0x419be0*_0x419be0-_0x4c2261;if(_0x4e1ae2<0x1845+0x1a97+-0x32dc)return!(-0x6e*-0x22+0x953*-0x2+0x40b*0x1);const _0x524060=Math['abs'](-_0x419be0-Math['sqrt'](_0x4e1ae2));return _0x1be7b4&&_0x1be7b4['copy'](_0xbcac4d['direction'])['mulScalar'](_0x524060)['add'](_0xbcac4d['origin']),!(-0x30f*0x1+-0x337+0x646);}['intersects'+'BoundingSp'+'here'](_0x3cce6e){bl['sub2'](_0x3cce6e['center'],this['center']);const _0x4cc59c=_0x3cce6e['radius']+this['radius'];return bl['lengthSq']()<=_0x4cc59c*_0x4cc59c;}}class cy{constructor(_0x5a6393=A['UP'],_0x26fb2b=0x1*0xe6b+0x1828+-0x2693){c(this,'normal',new A()),c(this,'distance'),(this['normal']['copy'](_0x5a6393),this['distance']=_0x26fb2b);}['clone'](){const _0x5edec6=this['constructo'+'r'];return new _0x5edec6()['copy'](this);}['copy'](_0x4362a4){return this['normal']['copy'](_0x4362a4['normal']),this['distance']=_0x4362a4['distance'],this;}['intersects'+'Line'](_0x11ea49,_0x3418fd,_0x379afe){const _0x54d54b=this['distance'],_0x5765f1=this['normal']['dot'](_0x11ea49)+_0x54d54b,_0x3f5d13=this['normal']['dot'](_0x3418fd)+_0x54d54b,_0x3cf998=_0x5765f1/(_0x5765f1-_0x3f5d13),_0xee8e2a=_0x3cf998>=0x54+0x3*0x877+-0x19b9&&_0x3cf998<=-0x24d0+-0x102e+0x34ff;return _0xee8e2a&&_0x379afe&&_0x379afe['lerp'](_0x11ea49,_0x3418fd,_0x3cf998),_0xee8e2a;}['intersects'+'Ray'](_0x1e35f9,_0x138e3e){const _0x43cb9b=this['normal']['dot'](_0x1e35f9['direction']);if(_0x43cb9b===-0x1eea+0x19*-0xb+0x1ffd)return!(-0x26e8+0x2*0x231+0x2287*0x1);const _0x4470aa=-(this['normal']['dot'](_0x1e35f9['origin'])+this['distance'])/_0x43cb9b;return _0x4470aa>=0x19fc*0x1+0x164*0xb+-0x2*0x14a4&&_0x138e3e&&_0x138e3e['copy'](_0x1e35f9['direction'])['mulScalar'](_0x4470aa)['add'](_0x1e35f9['origin']),_0x4470aa>=-0x295*0x2+0x1*0x1b37+0x5*-0x469;}['normalize'](){const _0x3856c0=(0x2*0xa61+0x2554+-0x3a15)/this['normal']['length']();return this['normal']['mulScalar'](_0x3856c0),this['distance']*=_0x3856c0,this;}['set'](_0x15d304,_0x4d7b20,_0x230718,_0x3d6b13){return this['normal']['set'](_0x15d304,_0x4d7b20,_0x230718),this['distance']=_0x3d6b13,this;}['setFromPoi'+'ntNormal'](_0x44a286,_0x23d6bd){return this['normal']['copy'](_0x23d6bd),this['distance']=-this['normal']['dot'](_0x44a286),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0xd9eeb2=-0x17e7*0x1+-0x1*0x443+0x1c2a;_0xd9eeb2<0xa6*0x26+0x7e9+-0x1*0x2087;_0xd9eeb2++)this['planes'][_0xd9eeb2]=new cy();}['clone'](){const _0x4aaea0=this['constructo'+'r'];return new _0x4aaea0()['copy'](this);}['copy'](_0xb28776){for(let _0x415cc2=0x204d*0x1+-0x5ae+-0x1a9f;_0x415cc2<-0x1*0x78c+-0x17e+0x910;_0x415cc2++)this['planes'][_0x415cc2]['copy'](_0xb28776['planes'][_0x415cc2]);return this;}['setFromMat'+'4'](_0x3b0d51){const [_0x2cac73,_0x479e73,_0x360378,_0x5f1279,_0x5d85ca,_0x2098a3,_0x66ac6d,_0x54b4f9,_0x5ea61d,_0x42cb45,_0x5857b1,_0x3b2e8e,_0x5bbec0,_0x2de597,_0x57a84c,_0xbad820]=_0x3b0d51['data'],_0x374ddb=this['planes'];_0x374ddb[-0x112f*-0x2+0x4b*-0x2b+-0x15c5*0x1]['set'](_0x5f1279-_0x2cac73,_0x54b4f9-_0x5d85ca,_0x3b2e8e-_0x5ea61d,_0xbad820-_0x5bbec0)['normalize'](),_0x374ddb[-0x2013+0x13*-0x137+-0x20b*-0x1b]['set'](_0x5f1279+_0x2cac73,_0x54b4f9+_0x5d85ca,_0x3b2e8e+_0x5ea61d,_0xbad820+_0x5bbec0)['normalize'](),_0x374ddb[0x25*0x10+-0x8*0x41c+-0x2*-0xf49]['set'](_0x5f1279+_0x479e73,_0x54b4f9+_0x2098a3,_0x3b2e8e+_0x42cb45,_0xbad820+_0x2de597)['normalize'](),_0x374ddb[-0x836*0x2+0x150*-0xa+0x439*0x7]['set'](_0x5f1279-_0x479e73,_0x54b4f9-_0x2098a3,_0x3b2e8e-_0x42cb45,_0xbad820-_0x2de597)['normalize'](),_0x374ddb[-0x10*0x18d+-0xf67+0x1*0x283b]['set'](_0x5f1279-_0x360378,_0x54b4f9-_0x66ac6d,_0x3b2e8e-_0x5857b1,_0xbad820-_0x57a84c)['normalize'](),_0x374ddb[-0x2*0xc6d+-0x102*0x6+0x1eeb]['set'](_0x5f1279+_0x360378,_0x54b4f9+_0x66ac6d,_0x3b2e8e+_0x5857b1,_0xbad820+_0x57a84c)['normalize']();}['containsPo'+'int'](_0x4ee4cd){for(let _0x3a57bd=-0x689*-0x2+-0x337*-0x8+-0x3*0xcee;_0x3a57bd<0x259*-0x9+-0x1c8a+0x31b1;_0x3a57bd++){const {normal:_0x29bce5,distance:_0x4733a6}=this['planes'][_0x3a57bd];if(_0x29bce5['dot'](_0x4ee4cd)+_0x4733a6<=-0xcd4*0x2+-0xa*-0xb2+-0x2a*-0x72)return!(-0xddb*0x1+0xb0c+0x2d0);}return!(0x25d*-0x5+-0x10ca+0x1c9b);}['containsSp'+'here'](_0x46f074){const {center:_0x2fec8e,radius:_0x1303f9}=_0x46f074;let _0x529491=0x7*0x2b+0xd4*-0xc+0x8c3;for(let _0x253ecc=-0x1*0x139+-0x2e1*-0x1+0x2*-0xd4;_0x253ecc<0x6b2+0x71*-0x3+-0x559*0x1;_0x253ecc++){const {normal:_0x5a4bff,distance:_0x4e6a51}=this['planes'][_0x253ecc],_0x56dc7b=_0x5a4bff['dot'](_0x2fec8e)+_0x4e6a51;if(_0x56dc7b<=-_0x1303f9)return-0x4df+-0x1189*-0x1+-0xcaa;_0x56dc7b>_0x1303f9&&_0x529491++;}return _0x529491===0x413+-0x1f67+0x1b5a?0xc46+0x3*0x88f+-0x25f1:0x79f*-0x1+0x3e*-0x39+0x1a6*0xd;}}class _u{constructor(_0x18d980,_0x27d263){c(this,'origin',new A()),c(this,'direction',A['FORWARD']['clone']()),(_0x18d980&&this['origin']['copy'](_0x18d980),_0x27d263&&this['direction']['copy'](_0x27d263));}['set'](_0x3748d1,_0x32eb36){return this['origin']['copy'](_0x3748d1),this['direction']['copy'](_0x32eb36),this;}['copy'](_0x34c7bc){return this['set'](_0x34c7bc['origin'],_0x34c7bc['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const mc='linear',Nf='inverse',dy='exponentia'+'l',nt=0x15*-0x16e+0x170*0x2+0x2b7*0xa,oe=-0x3bc*0x5+0xc45+0x668,zf=0x19f9+-0x25f5+0xbfe,Uf=0x2*0x693+0x1*0x2642+-0x3368,ct=-0xb4d+-0x248e*-0x1+0x40*-0x65,TS=0x22d*-0xf+0x99e+0x5*0x49b,uy=-0x2*0x543+0x1ff*-0xe+0x267c,AS=0x1*-0x3a7+-0xbdc+-0xf88*-0x1,_c=0x1e2c+0xfc4*-0x1+-0xe62,gc=-0x1*-0x1ebf+0x1087+-0x2f3e*0x1,Ut=0x8e1+-0x7d*0x1f+0x9*0xb2,ES=-0x1*-0x111d+0x2*0x78b+-0x2031,CS=-0x1*-0x1f2a+-0x94*-0x40+-0x4427,MS=0x1e5d*-0x1+0x55d*-0x2+0x291b,ts=-0x53f*0x1+0xab4+-0x575,Ph=-0x1b*-0x75+0x1745+0x239b*-0x1,fy=0x17a8+0xe24+0x2b3*-0xe,PS=-0x2*-0xfc6+0x7f8+0xd2b*-0x3,Io=-0x1*0x25b1+0x20f+-0x3*-0xbe1,Do=-0x1*0x351+0x25ea+-0xa1*0x37,Rh=-0x269c+0x1*-0x426+0x2ac6,vt=0x20a9+-0x47d*0x8+0x33f,nn=0x269*0xd+-0x1068+-0xbf*0x14,xo=-0x224d+0x101+0x214e,RS=-0x179c+-0x1a6f+0x2b*0x12a,fe=-0x27*-0x94+0x16*0x91+-0x1181*0x2,at=0x4*-0x6c2+-0x2*0x32b+-0x215f*-0x1,yc=-0x11bb+0x1500+0x343*-0x1,xc=0x44b*0x1+-0x1bb2+-0x9*-0x29a,Sc=0x3e1*-0x1+-0x23f+0x624,an=-0x1*0xb8b+-0x205f+-0xea5*-0x3,IS=0x3*0x313+-0x5*-0x4e8+-0x21c1*0x1,Ih=-0xbc7+-0x74f*0x2+0x1a66,Dh=-0x1967+-0x1624+0x2f8d,gu=0xea1+-0x1735*0x1+0x897,DS=0x1*-0x617+-0xf89+0xad2*0x2,LS=-0x42f+-0x1f6d+-0x7*-0x517,FS=-0x316+0x2b*0x29+-0x1*0x3c7,Ri=0x527+-0x1f4*-0x10+-0x2460,yu=0x2*0x106f+-0x7e4+0x8b*-0x2e,Fi=-0x1725+0xfd5+-0x751*-0x1,or=-0xe9f+-0x11*-0x57+-0x16*-0x67,py=-0x3*0x9bb+0x76*-0x48+0x14cb*0x3,my=0xee*0x9+0xfe0+0x5*-0x4d9,Vf=-0x8bb+-0x3f*0x35+0x15c8,vc=0x1*-0x779+0x2f*-0xb5+0x28b7*0x1,Gf=-0x24d4+-0x3*0x764+0x3b04,bc=0x1bb8+-0x5c9+-0x3*0x74e,ur=0x11*-0x5+-0x1*-0x1bec+-0x1*0x1b91,Te=-0x667*-0x4+0xb1f*-0x3+0x7c8,wc=0x3*0xc83+-0x10e6+0xd3*-0x19,Hf=0x1b*0xa9+-0x493*0x8+-0x1d*-0xa6,Yo=-0x266*0x1+0x6dc+-0x46c,Tc=-0x263d+-0x557*-0x5+0xb95,it=-0x1*-0x6e9+0xfcb+0x28*-0x91,Ac=-0x251*-0x3+0x2237+-0x291d,et=-0xd87+-0x637*-0x2+0x3b*0x5,Oi=-0x255*-0xb+0x6bf+0x1*-0x2057,Di=0x1f32+-0x5c0+-0x13*0x156,Ec=0x1198+0xf47+-0x20ce,ya=-0x83*-0x3d+-0x13*0xd1+0xae*-0x17,Wf=-0x3*0x193+0x1f85+-0x1ab9,cs=-0x87f+-0xc0e+0x14a1,Cc=-0x2*-0x185+-0x2af+-0x46,$f=0x67f*-0x5+0x1cef+-0x3e*-0xf,qf=0x5*0x3a9+-0xa3c+-0x1*0x7fa,Ko=0x3*-0x19+-0xf*-0x43+0x6*-0x97,Zo=0x105c+-0xd*0x70+-0xa93,Mc=0x2e7*0x9+-0x1f0b+0x506,Pc=-0x25b4+0xe4+0x24eb,_y=-0x133d*0x2+0xc61+0x1a35,gy=-0x2*0xe7d+0xe*-0x17f+-0x3209*-0x1,yy=0x286+0x1cd*-0x7+0x1*0xa33,xy=-0xcb*-0x4+-0x1*-0xe5d+0x2*-0x8b5,Xf=-0x2677+-0x226d+0x2482*0x2,Sy=0x17bb+-0x1355+0x1*-0x445,jf=0x196d+-0x365*-0x3+0x26*-0xef,Yf=-0xf7*-0x25+-0x83f*-0x2+0x1*-0x340e,Kf=0xcbb+-0x1*0x375+0x491*-0x2,on=0x1545+0x15d5+0x1*-0x2af5,Zf=0x19*0x101+-0xcaf+0x5*-0x274,vy=-0x5*0x646+0x11*-0x1+0x1f96,Qf=-0x1218+0x3b5*0x4+-0x1*-0x36c,Jf=-0x10f5+0x21cc+-0x10ae,ep=-0x8*0x3+-0xfda+0x101c,tp=-0xeed*0x1+-0x1969+0x2881*0x1,sp=0xa8+-0x4ad*0x7+0x7f*0x41,by=0xeb+0x22f5+0x13*-0x1e1,ip=-0x2648+-0xa20+0x6*0x819,Rc=-0x1ec6+-0x5b*0x65+0x42dc,rp=0x2*-0x1379+0x16d+0x25b5,yt=-0x2a4*0xe+-0xfbb+0x34e4,xa=0x167*-0x3+-0x62*-0x53+-0xb*0x27d,np=-0x243*0x2+-0x1*0xecf+0x1f4*0xa,ap=0x2423+-0x2*0xacf+-0xe51,op=-0x1f6*-0x2+0x906+-0xcbd*0x1,xu=-0x229*0x12+-0x1b5f+0x4277,Su=0x2cc+-0x1ad9+0x1844,vu=-0x1a5*-0x13+-0x2*-0x11fb+-0x1*0x42fd,bu=-0x1*-0x11df+0xa00+-0x1ba2,wu=-0xe45+-0x10*-0x5+0xe33,Tu=0x319*-0x1+0x1b8b+0x7*-0x375,wy=0x1c70+0x19ff+-0x61*0x8f,Ty=0x61*-0x3a+0x38f*0x1+-0x14*-0xef,Ay=0x651+0x49f*-0x1+-0x4*0x5c,Ey=-0x1205+0xdd5+0x473,Au=0x1a3c+-0x2*0x242+-0x1574,ca=-0x111b*-0x1+0x2cc*0x5+-0x1ed2,At=new Map([[py,{'name':'A8','size':0x1,'ldr':!(0x1*0x14ef+-0x376+-0x1179)}],[ap,{'name':'R8','size':0x1,'ldr':!(-0x1b*0xf9+0x2493+0x37*-0x30)}],[my,{'name':'L8','size':0x1,'ldr':!(-0x1389+0xace+0x8bb)}],[Vf,{'name':'LA8','size':0x2,'ldr':!(-0x47e+0x2175+-0x1cf7)}],[op,{'name':'RG8','size':0x2,'ldr':!(-0x18b8+-0x12b1+-0x2b69*-0x1)}],[vc,{'name':'RGB565','size':0x2,'ldr':!(-0x27*0xee+-0x2513*0x1+-0x4955*-0x1)}],[Gf,{'name':'RGBA5551','size':0x2,'ldr':!(0x1e15+0xfe+-0x2b*0xb9)}],[bc,{'name':'RGBA4','size':0x2,'ldr':!(0x1529*-0x1+0x1999*0x1+-0x11c*0x4)}],[ur,{'name':'RGB8','size':0x4,'ldr':!(-0x7c0+-0x941+-0x3*-0x5ab)}],[Te,{'name':'RGBA8','size':0x4,'ldr':!(-0x223*0xa+-0x260b+0x3b69),'srgbFormat':cs}],[xa,{'name':'R16F','size':0x2}],[np,{'name':'RG16F','size':0x4}],[Tc,{'name':'RGB16F','size':0x8}],[it,{'name':'RGBA16F','size':0x8}],[Ac,{'name':'RGB32F','size':0x10}],[et,{'name':'RGBA32F','size':0x10}],[Oi,{'name':'R32F','size':0x4}],[Di,{'name':'DEPTH','size':0x4}],[ca,{'name':'DEPTH16','size':0x2}],[Ec,{'name':'DEPTHSTENC'+'IL','size':0x4}],[ya,{'name':'111110F','size':0x4}],[Wf,{'name':'SRGB8','size':0x4,'ldr':!(-0x1*-0x670+-0x1dfe*-0x1+-0x246e),'srgb':!(0x73*0xc+-0x101b+0xab7)}],[cs,{'name':'SRGBA8','size':0x4,'ldr':!(0x1d2c+-0xb*-0x2eb+-0x3d45),'srgb':!(0x1*-0x652+-0xf57+0x15a9)}],[xy,{'name':'BGRA8','size':0x4,'ldr':!(0x38d*0x9+0x1*-0x3a0+-0x1*0x1c55)}],[wy,{'name':'SBGRA8','size':0x4,'ldr':!(0x2*-0x581+0x69e*0x1+0x464),'srgb':!(-0x19b4+-0x555+0x23*0xe3)}],[wc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x2*-0x955+0x2416+-0x37c*0x5),'srgbFormat':xu}],[Hf,{'name':'DXT3','blockSize':0x10,'ldr':!(-0x1d9*0x5+-0x6*-0x302+-0x8cf),'srgbFormat':Su}],[Yo,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x5*-0x4e4+0x11bf+0x1*-0x2a33),'srgbFormat':vu}],[Cc,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x28e+0x13*-0x9d+0xe35)}],[$f,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0xe55+-0x5*-0x13d+-0x1486),'srgbFormat':bu}],[qf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x2*-0x163+0x23a8+-0x266e),'srgbFormat':wu}],[Ko,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0xd5a*-0x1+-0x1f45+-0x1*-0x2c9f),'blockSize':0x8}],[Zo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x9ab+0x195d+-0x2308),'blockSize':0x8}],[Mc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0xb9b*-0x3+0x4fd*-0x2+0x2ccb*0x1),'blockSize':0x8}],[Pc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x5*0x68f+0x1cdd+-0x3da8),'blockSize':0x8}],[_y,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0xba6+0x13*-0x1e7+0x2fcb),'srgbFormat':Tu}],[gy,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x2c3+-0x2cc*-0x1+-0x58f)}],[yy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x850+-0x1f*0x34+-0x204)}],[Ty,{'name':'BC6H_RGBF','blockSize':0x10}],[Ay,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ey,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x10f5+-0xec9+0x22*0xef),'srgbFormat':Au}],[xu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x36*-0x86+-0xe81+-0xd*0x10f),'srgb':!(-0x2535+0x3e*-0x6f+0x4017*0x1)}],[Su,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1b61+0x11f8+0x1*0x969),'srgb':!(0x3*-0x99e+0x1642+0x698)}],[vu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x3*-0x7f9+0x269c+-0xeb1*0x1),'srgb':!(-0xaf6+0x1c82+0x463*-0x4)}],[bu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x197e+0x7a0+-0x211e),'srgb':!(-0x4eb*-0x5+-0x1d9a+0x503)}],[wu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1041*0x1+-0x13d0+0x38f),'srgb':!(0x1748+0x2*-0xce9+-0x1a*-0x19)}],[Tu,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x1*0x190b+0x4e7*0x5+0x18c7*-0x2),'srgb':!(-0x19f6+0x388*0x6+0x4c6*0x1)}],[Au,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0xa32+-0x1036+-0x152*-0x14),'srgb':!(0x1*-0x1dff+0xd9*-0xb+0x2752)}],[Xf,{'name':'R8I','size':0x1,'isInt':!(0x705+-0x33d+-0x3c8)}],[Sy,{'name':'R8U','size':0x1,'isInt':!(-0x1b1*0x7+0x1c9d*-0x1+0x2874)}],[jf,{'name':'R16I','size':0x2,'isInt':!(0x125b+-0x3*0xba3+0x108e)}],[Yf,{'name':'R16U','size':0x2,'isInt':!(-0x9b5+-0x1e9d+0x2852)}],[Kf,{'name':'R32I','size':0x4,'isInt':!(0x2*-0x71f+-0xa87+0x11*0x175)}],[on,{'name':'R32U','size':0x4,'isInt':!(-0x11d5+-0x28*0x4b+-0x5*-0x5e9)}],[Zf,{'name':'RG8I','size':0x2,'isInt':!(-0x13*-0x18e+-0x12d2+0x1*-0xab8)}],[vy,{'name':'RG8U','size':0x2,'isInt':!(0x21c2+0x2699+-0x485b)}],[Qf,{'name':'RG16I','size':0x4,'isInt':!(0x1*0x192b+-0xa3*0x3b+0xc66)}],[Jf,{'name':'RG16U','size':0x4,'isInt':!(-0x21df+-0x1*0xd63+0x2f42)}],[ep,{'name':'RG32I','size':0x8,'isInt':!(-0x1f48+-0x76f+0x26b7)}],[tp,{'name':'RG32U','size':0x8,'isInt':!(0x1*-0xe63+-0x1ba9+-0x1d4*-0x17)}],[sp,{'name':'RGBA8I','size':0x4,'isInt':!(-0x661+0x1*0x2348+0x1*-0x1ce7)}],[by,{'name':'RGBA8U','size':0x4,'isInt':!(0x23f6+-0x466*0x3+-0x16c4)}],[ip,{'name':'RGBA16I','size':0x8,'isInt':!(0x9b*-0x11+0x2389+-0x9*0x2ce)}],[Rc,{'name':'RGBA16U','size':0x8,'isInt':!(0x2b*0x19+0x1e6d*0x1+-0x22a0)}],[rp,{'name':'RGBA32I','size':0x10,'isInt':!(-0x267e+0xfff+0x167f)}],[yt,{'name':'RGBA32U','size':0x10,'isInt':!(0x66f+-0x188+0x5*-0xfb)}]]),kS=_0x3e70d5=>{var _0x4f99ad;return((_0x4f99ad=At['get'](_0x3e70d5))==null?void(-0x19*-0xdf+-0x47*-0x6d+-0x3402):_0x4f99ad['blockSize'])!==void(-0x2286+0x7f*-0x5+0x2501);},Lh=_0x43b040=>{var _0x3c1174;return((_0x3c1174=At['get'](_0x43b040))==null?void(0x16b4+-0x1e08+-0x86*-0xe):_0x3c1174['srgb'])===!(0x2b*-0x6a+-0x187b+-0x1b1*-0x19);},sa=_0x580ab1=>{var _0x1b5992;return((_0x1b5992=At['get'](_0x580ab1))==null?void(0x1ae6+-0x24f*0xb+-0xb*0x23):_0x1b5992['isInt'])===!(-0xc11+0x1263+-0x652);},Ic=_0x583227=>{var _0x176b17;return((_0x176b17=At['get'](_0x583227))==null?void(0x825+0x296+-0xabb):_0x176b17['srgbFormat'])||_0x583227;},OS=_0x17b2b9=>{for(const [_0x520b4a,_0x198536]of At)if(_0x198536['srgbFormat']===_0x17b2b9)return _0x520b4a;return _0x17b2b9;},Cy=_0x4e888b=>{const _0x347cce=At['get'](_0x4e888b);return!!(_0x347cce!=null&&_0x347cce['ldr']&&!(_0x347cce!=null&&_0x347cce['srgb']));},My=_0x12360a=>{switch(_0x12360a){case Oi:case Ac:case et:return Float32Array;case Kf:case ep:case rp:return Int32Array;case on:case tp:case yt:return Uint32Array;case jf:case Qf:case ip:return Int16Array;case op:case Yf:case Jf:case Rc:case vc:case Gf:case bc:case xa:case np:case Tc:case it:return Uint16Array;case Xf:case Zf:case sp:return Int8Array;default:return Uint8Array;}},Dc=-0x1d3d+0x18f7+0x2*0x223,Lc=-0xe95+-0x208f+-0x53d*-0x9,Py=-0x2049+-0x26a9+-0x11bd*-0x4,Ry=0x2189+0x2243*0x1+-0x43c9,Fs=-0x1180*0x2+-0x5bb+0x28bf,lr=-0x3*0x90e+-0xbb3+0x26e2,Kr=0xb2c*0x2+0x2521+-0x3b73,Xe='POSITION',ss='NORMAL',si='TANGENT',ei='BLENDWEIGH'+'T',Jt='BLENDINDIC'+'ES',It='COLOR',lm='TEXCOORD',ds='TEXCOORD0',yn='TEXCOORD1',Qo='TEXCOORD2',Jo='TEXCOORD3',el='TEXCOORD4',tl='TEXCOORD5',sl='TEXCOORD6',il='TEXCOORD7',Eu='ATTR0',Cu='ATTR1',Iy='ATTR2',Dy='ATTR3',Ly='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Lo='ATTR8',Fo='ATTR9',US='ATTR10',VS='ATTR11',lp='ATTR12',Sa='ATTR13',hp='ATTR14',va='ATTR15',Fy=-0xe5b+-0x172c+-0x2*-0x12c4,da=0x8f1+0x75*-0x18+0x207,GS=-0xb83+0x4fc*0x7+-0x175f,HS=0x1*0x14fe+-0x149+0x13b2*-0x1,WS=0xd*0x214+0x1*0xd87+-0x2886,wl=0x1e*-0xa7+0x1b*0xa+0x1284,ky=-0x2576+-0x3bf*0x3+-0x6*-0x81e,ld=-0xa9*-0x23+0x23bb+-0x3ad4,Bi='default',ln='rgbm',cp='rgbe',ko='rgbp',dp='swizzleGGG'+'R',Mu=0x16e4+0x1bf3+-0x32d6,fr=0x75+0x2a7+-0x31a,Oy=0xbd2*-0x1+0x65*0x4+0xa41,$s='2d',$S='2d-array',qS='cube',XS='3d',uh=-0xdf3*-0x1+-0xb5e+-0x295*0x1,hd=-0x1*0x989+-0xc69+0x15f3,jS=-0x284*0x8+-0x7*-0x47+0x1231,YS=0x145d+-0x251f*0x1+-0x1*-0x10c5,KS=0x176a+0x668+-0x46*0x6d,ZS='none',Pu='cube',hm='equirect',QS='octahedral',By='glsl',Fh='wgsl',Fc=-0x1*-0x2251+-0x7d1+-0x2*0xd40,Zr=0x125*-0x1f+0xba8+-0x2*-0xbea,kc=0xeaf*0x2+-0x2*0x716+-0x1b*0x90,rl=0x1*-0x22ed+0xaa6+-0x2*-0xc25,Ny=0x2127+-0x126d+-0xeb6,Oo=0x1*-0x527+0xb2b+-0x5ff,Re=0x2521+-0x8*-0x10+-0x259b,ua=-0x19fa+0xdb2*0x2+0xb5*-0x2,hn=-0xce9*-0x2+0x78f+-0x2160,Ks=-0x1*0x165f+0x15*-0x3b+0x1b38,hr=0x22f5*0x1+-0x1*-0xc41+-0x2b*0x119,Qt=0x24b8+-0x15*-0xf7+-0x38f7,ba=-0x1315*0x1+0x1*-0x1481+-0x1*-0x279b,Qr=0x3*0x5bd+-0x2293+-0x1162*-0x1,Jr=0x1*0x7d0+-0x2d*-0xb7+-0x13fa*0x2,en=0x5d3+-0x7bf+0x1f4,Bo=0x17d*0xb+-0x1f*-0x116+-0x3200*0x1,No=0x1*0xb97+0x1*0x1685+-0x2212,zo=0x439*0x4+0x1cf9+-0x2dd2,kh=0x1515+0x6d8+0x1be1*-0x1,Uo=-0x4*0x709+-0x3*0xc6b+0x20b9*0x2,wa=-0x134f+0xa*0x327+-0xc29,JS=0xe4*0x9+-0x23cb+0x1bd6,ev=0x12c+-0x536*-0x1+-0x652,Oc=0x1*0x373+-0x1ef*-0xf+0x1*-0x2063,tv=-0x243*0xd+-0x1*0x6ad+0x2426,sv=0xb2d+0x1*-0xbf9+0x1*0xdf,iv=0x945+0x1*0x1842+-0x2173,Bc=-0x2449+0xad*-0x39+0x4ae3,Nc=0x111c+0x7b*0x10+-0x18b6,up=-0x3*-0x14e+-0x31*-0x44+-0x10d7,zy=0x2*0x520+0x23e0+0x4*-0xb82,rv=0x561*0x1+-0x2699+0x1*0x2151,Ta=0x1877+0x1*-0x22b3+0xa56,Aa=-0x15d4+0x1087+0x568,Ea=0x36a+-0xc5*-0x2e+-0x26b4,Ca=0x4*0x8a3+0x1028+0x9*-0x59f,Ma=-0x4*0x494+-0x28a+-0xb*-0x1e8,zc=0x1*-0x9f7+-0xb74+0x1*0x158a,Uc=-0x6c7+-0x3b*-0x33+-0x1b*0x2e,Pa=-0x54*-0x5e+-0x85f+-0x1658,Vc=-0x1ad+-0x99f*0x3+0x1eac,Gc=-0xd6*0x1d+-0x509+0x2f1*0xa,Ra=-0xae6*0x3+0x8be+0x1818,Hc=0x3*0x31b+-0x6c2+-0x26a,Wc=0x76f*0x1+0x83d+-0xf86,Oh=0x6b*-0x47+0x3b*0xa+0x1b86,fp=0x24a4+0x53*-0xf+-0x1f9f,pp=-0x4*0x417+-0x365*-0xa+-0x116d*0x1,nv=0x3*0x595+-0x3*-0x98d+0x4*-0xb4f,av=0x3*-0x3c+-0x503*-0x5+-0x306*0x8,ov=0x24e*-0x6+0x22c5+-0x14c5,lv=-0x1256+0x82a+0xa59,hv=0x70f+0x85*0x41+-0x28a6,cv=0x10*-0x1f8+-0x3*0x101+-0x22b2*-0x1,dv=0x1c7d+0x1e4*0x7+0x5ef*-0x7,uv=0x1*0x2475+-0x973+-0x1ad1*0x1,mp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x10ace8,_0x3bfa13)=>{_0x10ace8['forEach'](_0x3fe4a9=>pv['set'](_0x3fe4a9,_0x3bfa13));});const mv='webgl2',_p=0x23d*0x2+0x7e3+-0xc5c,fi=-0x10f5+-0x4ff*-0x3+0x1fa,_v=-0x173a+0x1c10*0x1+-0x4d2*0x1,gv='ldr',Uy=-0xea*-0x13+0xb6d+0x29e*-0xb,Vy=0x2*0x162+-0x1e44+0x1b82,Gy=-0x1bc5+-0x9*0x2bb+0x345c,Hy=0x1*-0x2353+-0x24*-0xb9+0x3*0x31d,Wy=-0x10a0+-0x2454+0xd*0x414,$y=0x1c94+0x150d+-0x3181,qy=0x7bf+-0x11b5+-0xa36*-0x1,Xy=0x859*0x1+-0xc1a+0x441,yv=-0x7a8+-0xcce+0x1575,Bh=-0x1*-0x65a+0x128*-0xb+0x65e,jy=0x42a+0xe8f*-0x2+0x18f5*0x1,Ru=-0x23fa+-0x1ba2+0x3f9e,xv=['view','mesh','mesh_ub'],gp='default',fa=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],So=[-0x1ff+0x11f*-0x16+-0xd55*-0x2,-0x1f71+-0x1a9d+0x3a0f,-0x1135+-0x1c4b+-0x91a*-0x5,0x260+-0x1*0xac5+0x867*0x1,-0x1*-0x1b4c+-0xf51*0x1+-0xbf7,-0x3*-0x515+-0x1ec4+-0x61*-0x29,-0x1ada+-0xbf6+-0x2c6*-0xe,0x21e5+0xca1+-0x2e84],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Nh=[Uint8Array,Uint16Array,Uint32Array],vv=[0x1d16+0x38f+0x4*-0x829,0x2d*-0xcb+0x2f+-0x2382*-0x1,0x73a+0x61*-0x2e+0xa38],Ae={};Ae[Xe]=0x13d*0x13+-0x1fc+-0x5*0x44f,Ae[ss]=0x1265+-0x1ea*0x7+-0x4fe,Ae[ei]=-0x175e+0x66c+0x10f4,Ae[Jt]=-0x618+-0x17*0x2c+-0xa0f*-0x1,Ae[It]=-0xf*0xa7+0x8cc+-0x1*-0x101,Ae[ds]=0xa8c+-0x1*-0x1f49+-0x29d0,Ae[yn]=0x52*0x24+0xdaa+-0x192c,Ae[Qo]=-0x1514*-0x1+0x21ee+-0x36fb,Ae[Jo]=0x217c*0x1+-0x111d*0x1+-0x1*0x1057,Ae[el]=-0x37*0x8f+0x5e7*-0x5+0x3c45,Ae[tl]=0x236b+0x83*-0x2b+-0x8*0x1ac,Ae[sl]=-0x2*0x860+-0x1*-0x10fc+-0x31,Ae[il]=0xa3c*0x2+-0x15d*-0x13+0x43*-0xb1,Ae[si]=0x1b01*0x1+-0x7*0x254+-0x16*0x7c,Ae[Eu]=-0x4e*-0x22+0x3e2+-0xe3e,Ae[Cu]=-0xae5*-0x2+0x2488+-0x3a51,Ae[Iy]=0x36*0xc+0x1070+-0x329*0x6,Ae[Dy]=0x105+0x1abd*0x1+-0x1bbf,Ae[Ly]=0x4a3+-0x1015*0x2+-0xb*-0x281,Ae[BS]=-0x923+-0xa+0x932,Ae[NS]=-0x122*-0xa+-0xba+-0xa94,Ae[zS]=0x1925+-0x2336+0xa18,Ae[Lo]=-0x1*0x18da+-0x1*-0x1e64+-0x582,Ae[Fo]=-0xce1+-0x19*-0x35+-0x7*-0x11b,Ae[US]=0x11fc*0x1+0x34b*-0x4+-0x4c6,Ae[VS]=-0x2*0xe6d+0x1*0x9ef+-0x3*-0x652,Ae[lp]=-0x1*0xf8f+0x49f+0xafc,Ae[Sa]=-0x1be6+-0x46*0x7d+-0x1*-0x3e21,Ae[hp]=-0x251*-0x1+0x10b6+-0x653*0x3,Ae[va]=0x1*-0x2282+-0x9*0x239+-0xfe*-0x37;const Gi='1.51',Mi='1.55',gr='1.56',Et='1.57',cd='1.60',Se='1.62',pi='1.65',cm='1.70',dm='2.1',bv='2.3',An='2.5',Qi=class Qi{static['clearGpuMa'+'rkers'](){Qi['markers']['length']=0x105c+0x1c3c+-0x2c98;}static['pushGpuMar'+'ker'](_0x1704f3,_0x2be127){Qi['markers']['push'](_0x2be127),_0x1704f3['pushMarker'](_0x2be127);}static['popGpuMark'+'er'](_0x1047af){Qi['markers']['length']&&Qi['markers']['pop'](),_0x1047af['popMarker']();}static['toString'](){return Qi['markers']['join']('\x20|\x20');}};c(Qi,'markers',[]);let G=Qi,wv=0x16*0x1b+-0xbd6+0x984;const Tv={[$s]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class $c{constructor(_0x5cb483,_0x277569){c(this,'slot',-(-0x1a6f+-0xb*0x22+0x1*0x1be6)),c(this,'scopeId',null),(this['name']=_0x5cb483,this['visibility']=_0x277569);}}class yp extends $c{}class Av extends $c{constructor(_0x271ff4,_0x3c4e07,_0x14b581=!(-0xb*-0xbb+-0x1e36+0x162e)){super(_0x271ff4,_0x3c4e07),c(this,'format',''),(this['readOnly']=_0x14b581,b['assert'](_0x14b581||!(_0x3c4e07&_p),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class yi extends $c{constructor(_0x3dc802,_0x279037,_0x4277a6=$s,_0x180964=uh,_0x46de30=!(0x9d5+0x1*0x1989+-0x235e*0x1),_0x4114bc=null){super(_0x3dc802,_0x279037),this['textureDim'+'ension']=_0x4277a6,this['sampleType']=_0x180964,this['hasSampler']=_0x46de30,this['samplerNam'+'e']=_0x4114bc??_0x3dc802+'_sampler';}}class Ev extends $c{constructor(_0x1028f3,_0x2a0452=Te,_0x36145d=$s,_0x255d1e=!(-0x3*-0x339+-0x13ca+-0xa1f*-0x1),_0x2310be=!(0xa6d+0x1a2+-0xc0e*0x1)){super(_0x1028f3,_v),this['format']=_0x2a0452,this['textureDim'+'ension']=_0x36145d,this['write']=_0x255d1e,this['read']=_0x2310be;}}class Yy{constructor(_0x408276,_0x1f29db){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,gn['setName'](this,'BindGroupF'+'ormat_'+this['id']),b['assert'](_0x1f29db));let _0x70b1a2=0x18d8+-0x1*-0xf8b+-0x2863*0x1;_0x1f29db['forEach'](_0x2981de=>{_0x2981de['slot']=_0x70b1a2++,_0x2981de instanceof yi&&_0x2981de['hasSampler']&&_0x70b1a2++,_0x2981de instanceof yp?this['uniformBuf'+'ferFormats']['push'](_0x2981de):_0x2981de instanceof yi?this['textureFor'+'mats']['push'](_0x2981de):_0x2981de instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x2981de):_0x2981de instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x2981de):b['assert']('Invalid\x20bi'+'nd\x20format',_0x2981de);}),this['device']=_0x408276;const _0x1687ac=_0x408276['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x42345b,_0x1a9b89)=>this['bufferForm'+'atsMap']['set'](_0x42345b['name'],_0x1a9b89)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x4d6acf,_0x46c3c6)=>{this['textureFor'+'matsMap']['set'](_0x4d6acf['name'],_0x46c3c6),_0x4d6acf['scopeId']=_0x1687ac['resolve'](_0x4d6acf['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x39f022,_0x5b8e59)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x39f022['name'],_0x5b8e59),_0x39f022['scopeId']=_0x1687ac['resolve'](_0x39f022['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x365961,_0x1fa20f)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x365961['name'],_0x1fa20f),_0x365961['scopeId']=_0x1687ac['resolve'](_0x365961['name']);}),this['impl']=_0x408276['createBind'+'GroupForma'+'tImpl'](this),b['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x5c90d6){const _0x26ae04=this['textureFor'+'matsMap']['get'](_0x5c90d6);return _0x26ae04!==void(-0x15*0x43+-0x1e51+-0xbf*-0x30)?this['textureFor'+'mats'][_0x26ae04]:null;}['getStorage'+'Texture'](_0x3d8685){const _0x4d31ca=this['storageTex'+'tureFormat'+'sMap']['get'](_0x3d8685);return _0x4d31ca!==void(0x1*-0x170e+0x2*-0x11e3+0x3ad4)?this['storageTex'+'tureFormat'+'s'][_0x4d31ca]:null;}['getShaderD'+'eclaration'+'Textures'](_0x1b5acb){let _0x2aa890='';return this['textureFor'+'mats']['forEach'](_0x35f496=>{let _0xc273b2=Tv[_0x35f496['textureDim'+'ension']];b['assert'](_0xc273b2,'Unsupporte'+'d\x20texture\x20'+'type',_0x35f496['textureDim'+'ension']);const _0x5e5593=_0xc273b2==='texture2DA'+'rray',_0x6dc972=_0x35f496['sampleType']===KS?'u':_0x35f496['sampleType']===YS?'i':'';_0xc273b2=''+_0x6dc972+_0xc273b2;let _0x140eb4='',_0x2153be='';_0x5e5593&&(_0x140eb4='_texture',_0x2153be='#define\x20'+_0x35f496['name']+'\x20'+_0x6dc972+('sampler2DA'+'rray(')+_0x35f496['name']+_0x140eb4+',\x20'+_0x35f496['name']+'_sampler)\x0a'),_0x2aa890+='layout(set'+'\x20=\x20'+_0x1b5acb+(',\x20binding\x20'+'=\x20')+_0x35f496['slot']+')\x20uniform\x20'+_0xc273b2+'\x20'+_0x35f496['name']+_0x140eb4+';\x0a',_0x35f496['hasSampler']&&(_0x2aa890+='layout(set'+'\x20=\x20'+_0x1b5acb+(',\x20binding\x20'+'=\x20')+(_0x35f496['slot']+(0x21e*-0x1+-0x1a0b+0x1*0x1c2a))+(')\x20uniform\x20'+'sampler\x20')+_0x35f496['name']+'_sampler;\x0a'),_0x2aa890+=_0x2153be;}),_0x2aa890;}['loseContex'+'t'](){}}class Ht{constructor(){c(this,'_cache',new Map());}['get'](_0x1fd975,_0xddd12e){return this['_cache']['has'](_0x1fd975)||(this['_cache']['set'](_0x1fd975,_0xddd12e()),_0x1fd975['on']('destroy',()=>{this['remove'](_0x1fd975);}),_0x1fd975['on']('devicelost',()=>{var _0x3e6470,_0x2c243f;(_0x2c243f=(_0x3e6470=this['_cache']['get'](_0x1fd975))==null?void(-0x1ebb+0x2701+0x161*-0x6):_0x3e6470['loseContex'+'t'])==null||_0x2c243f['call'](_0x3e6470,_0x1fd975);})),this['_cache']['get'](_0x1fd975);}['remove'](_0x56dadd){var _0x35df0b,_0x334546;(_0x334546=(_0x35df0b=this['_cache']['get'](_0x56dadd))==null?void(0x180e+0x16ba+-0x2ec8):_0x35df0b['destroy'])==null||_0x334546['call'](_0x35df0b,_0x56dadd),this['_cache']['delete'](_0x56dadd);}}class Li{static['calcLevelD'+'imension'](_0x3e726b,_0x2cefe5){return Math['max'](_0x3e726b>>_0x2cefe5,-0x1166+0x7*-0x15b+-0x2*-0xd72);}static['calcMipLev'+'elsCount'](_0x42d364,_0x4f0990,_0x22ae1c=0x13*-0x131+0x4d*0x32+0x79a){return 0x210a+0xe51*0x2+0x1*-0x3dab+Math['floor'](Math['log2'](Math['max'](_0x42d364,_0x4f0990,_0x22ae1c)));}static['calcLevelG'+'puSize'](_0x47669f,_0x293e1d,_0x1f9e19,_0x3cbd81){var _0x48db58;const _0x54af45=At['get'](_0x3cbd81);b['assert'](_0x54af45!==void(-0x5*-0xec+0xad*-0x2c+0x1920),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x3cbd81);const _0x1a6937=((_0x48db58=At['get'](_0x3cbd81))==null?void(-0x1e*0x57+-0x334+0xa*0x157):_0x48db58['size'])??0x1499+0x2570+-0x1*0x3a09;if(_0x1a6937>0x1*-0x24c5+0x1*-0x14f7+-0x14*-0x2e3)return _0x47669f*_0x293e1d*_0x1f9e19*_0x1a6937;const _0x25c123=_0x54af45['blockSize']??-0x6f4+0x1*0x1924+-0x308*0x6;let _0x552a60=Math['floor']((_0x47669f+(0x1c4+-0x107a+0xeb9))/(-0x105*-0x6+0xbee+0x241*-0x8));const _0x198f26=Math['floor']((_0x293e1d+(-0x287*-0xa+0x68+-0x19ab))/(0xa*0x3d6+0x1964+0x2*-0x1fde)),_0x43ef9f=Math['floor']((_0x1f9e19+(-0x241a+-0x169f*-0x1+0xd7e))/(-0x15f1*-0x1+-0x2154+0xb67));return(_0x3cbd81===Ko||_0x3cbd81===Zo)&&(_0x552a60=Math['max'](Math['floor'](_0x552a60/(-0x162+-0x1499+-0xd*-0x1b1)),-0xcd*0x1d+-0x699*-0x3+0x36f)),_0x552a60*_0x198f26*_0x43ef9f*_0x25c123;}static['calcGpuSiz'+'e'](_0x45259f,_0x59ea84,_0x1ce25d,_0xb9212e,_0x4c34fb,_0x56ffe8){let _0x46fba6=0x112*-0x4+0x1f*0x17+0x17f;for(;_0x46fba6+=Li['calcLevelG'+'puSize'](_0x45259f,_0x59ea84,_0x1ce25d,_0xb9212e),!(!_0x4c34fb||_0x45259f===0x6ab*0x1+0x5db*-0x1+-0xcf&&_0x59ea84===-0x63*-0x11+0x4f*-0x1b+0x1c3&&_0x1ce25d===0x245d+0x1fd*0x7+0x3247*-0x1);)_0x45259f=Math['max'](_0x45259f>>-0xf39+-0x24a9+-0x167*-0x25,-0x19e9+0xc36+0xdb4),_0x59ea84=Math['max'](_0x59ea84>>0x13f7*0x1+-0x1698+0x1*0x2a2,-0x1*0x11c9+0x8d2+-0x29*-0x38),_0x1ce25d=Math['max'](_0x1ce25d>>0x2205+0x2ed+0x7*-0x547,-0x2f*0x17+0x1351+0xf17*-0x1);return _0x46fba6*(_0x56ffe8?-0x21e7+-0x3a+-0x1*-0x2227:-0x1634+-0xd0f+0x2344);}}let Cv=-0xaa5+-0x1645+0x20ea;class ce{constructor(_0x41a006,_0x4279a7={}){c(this,'name'),c(this,'_gpuSize',0x1999*0x1+0x20*-0x2+-0x7*0x39f),c(this,'id',Cv++),c(this,'_invalid',!(0x1*0xd13+-0x250f+0x17fd)),c(this,'_lockedLev'+'el',-(0x1*0x1845+-0x38*-0x13+-0x1c6c)),c(this,'_lockedMod'+'e',wl),c(this,'renderVers'+'ionDirty',0x6ea+-0xd9+0x1*-0x611),c(this,'_storage',!(0xcf1*0x2+0x26d7+0x205c*-0x2)),c(this,'_numLevels',-0x51f*-0x6+0x412+-0x22cc),c(this,'_numLevels'+'Requested');var _0xec1e7a;this['device']=_0x41a006,b['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),b['assert'](!_0x4279a7['width']||Number['isInteger'](_0x4279a7['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x4279a7),b['assert'](!_0x4279a7['height']||Number['isInteger'](_0x4279a7['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x4279a7),b['assert'](!_0x4279a7['depth']||Number['isInteger'](_0x4279a7['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x4279a7),this['name']=_0x4279a7['name']??'',this['_width']=Math['floor'](_0x4279a7['width']??-0x265+0x202+0x67),this['_height']=Math['floor'](_0x4279a7['height']??-0x7d0+-0x5d6+0xdaa),this['_format']=_0x4279a7['format']??Te,this['_compresse'+'d']=kS(this['_format']),this['_integerFo'+'rmat']=sa(this['_format']),this['_integerFo'+'rmat']&&(_0x4279a7['minFilter']=fe,_0x4279a7['magFilter']=fe),this['_volume']=_0x4279a7['volume']??!(0x757*-0x5+0x18d7+0x1*0xbdd),this['_depth']=Math['floor'](_0x4279a7['depth']??-0x1e59*0x1+-0x2080+0x3eda),this['_arrayLeng'+'th']=Math['floor'](_0x4279a7['arrayLengt'+'h']??0x1*0x601+-0x175a*0x1+-0x1159*-0x1),this['_storage']=_0x4279a7['storage']??!(-0x221c+0x219a+0x83),this['_cubemap']=_0x4279a7['cubemap']??!(0x1*-0x1763+0x152c+0x11c*0x2),this['_flipY']=_0x4279a7['flipY']??!(0x17b1+0x1*-0x1165+-0x1*0x64b),this['_premultip'+'lyAlpha']=_0x4279a7['premultipl'+'yAlpha']??!(0x10*0x167+0x417*-0x5+-0x7f*0x4),this['_mipmaps']=_0x4279a7['mipmaps']??!(0x14b*0xf+-0x1efe+-0x1*-0xb99),this['_numLevels'+'Requested']=_0x4279a7['numLevels'],_0x4279a7['numLevels']!==void(-0x144c+-0x20a6+0x1b*0x1f6)&&(this['_numLevels']=_0x4279a7['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x4279a7['minFilter']??an,this['_magFilter']=_0x4279a7['magFilter']??at,this['_anisotrop'+'y']=_0x4279a7['anisotropy']??-0x214e+-0x4*0x69e+0x3bc7,this['_addressU']=_0x4279a7['addressU']??nt,this['_addressV']=_0x4279a7['addressV']??nt,this['_addressW']=_0x4279a7['addressW']??nt,this['_compareOn'+'Read']=_0x4279a7['compareOnR'+'ead']??!(-0x2357+0x2613*-0x1+0x1*0x496b),this['_compareFu'+'nc']=_0x4279a7['compareFun'+'c']??Ih,this['type']=_0x4279a7['hasOwnProp'+'erty']('type')?_0x4279a7['type']:Bi,b['assert'](!_0x4279a7['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),b['assert'](!_0x4279a7['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Pu:_0x4279a7['projection']&&_0x4279a7['projection']!==Pu&&(this['projection']=_0x4279a7['projection']),this['profilerHi'+'nt']=_0x4279a7['profilerHi'+'nt']??0x2335*0x1+-0x2122+-0x3b*0x9,this['_levels']=_0x4279a7['levels'];const _0x5514a7=!!_0x4279a7['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x5514a7),_0x41a006['textures']['push'](this),b['trace'](Zp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0xec1e7a=At['get'](this['format']))==null?void(0xa69+0x8d4*0x4+0x1*-0x2db9):_0xec1e7a['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){b['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x45c6e2=this['device'];if(_0x45c6e2){const _0x38a5ee=_0x45c6e2['textures']['indexOf'](this);_0x38a5ee!==-(-0x30a+-0x5f3*0x3+-0x4*-0x539)&&_0x45c6e2['textures']['splice'](_0x38a5ee,0x1*0x736+-0x1028+0x8f3*0x1),_0x45c6e2['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x45c6e2),this['adjustVram'+'SizeTracki'+'ng'](_0x45c6e2['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x4ef23b=!(0x1f8f+-0x2158+0x1*0x1c9)){var _0x21c044;const {device:_0x3b8cac}=this;(_0x21c044=this['impl'])==null||_0x21c044['destroy'](_0x3b8cac),this['impl']=null,this['impl']=_0x3b8cac['createText'+'ureImpl'](this),this['dirtyAll'](),_0x4ef23b&&this['upload']();}['resize'](_0x1f0b6f,_0x15ef7b,_0x2f8ae1=0xb3a+0xd6*0xc+-0x1541){const _0x15def7=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x15def7['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x15def7),this['_width']=Math['floor'](_0x1f0b6f),this['_height']=Math['floor'](_0x15ef7b),this['_depth']=Math['floor'](_0x2f8ae1),this['_updateNum'+'Level'](),this['impl']=_0x15def7['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x296cc6,_0x2dbd06){b['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x2dbd06+('\x20vram.text'+'ure:\x20')+_0x296cc6['tex']+'\x20=>\x20'+(_0x296cc6['tex']+_0x2dbd06)),_0x296cc6['tex']+=_0x2dbd06,this['profilerHi'+'nt']===Mu?_0x296cc6['texShadow']+=_0x2dbd06:this['profilerHi'+'nt']===fr?_0x296cc6['texAsset']+=_0x2dbd06:this['profilerHi'+'nt']===Oy&&(_0x296cc6['texLightma'+'p']+=_0x2dbd06);}['propertyCh'+'anged'](_0x1d9c51){this['impl']['propertyCh'+'anged'](_0x1d9c51),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x52d29a=this['mipmaps']?Li['calcMipLev'+'elsCount'](this['width'],this['height']):-0x70f+0x1*-0x25b5+-0x2cc5*-0x1,_0x12d16b=this['_numLevels'+'Requested'];_0x12d16b!==void(-0x216+0x8*-0x3bc+0x1ff6*0x1)&&_0x12d16b>_0x52d29a&&b['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x52d29a,this),this['_numLevels']=Math['min'](_0x12d16b??_0x52d29a,_0x52d29a),this['_mipmaps']=this['_numLevels']>-0xef1+-0xd42+-0xa*-0x2d2;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x32dc48){this['_minFilter']!==_0x32dc48&&(sa(this['_format'])?b['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x32dc48,this['propertyCh'+'anged'](Uy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x4a2da4){this['_magFilter']!==_0x4a2da4&&(sa(this['_format'])?b['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x4a2da4,this['propertyCh'+'anged'](Vy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0xdf3340){this['_addressU']!==_0xdf3340&&(this['_addressU']=_0xdf3340,this['propertyCh'+'anged'](Gy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x280ee0){this['_addressV']!==_0x280ee0&&(this['_addressV']=_0x280ee0,this['propertyCh'+'anged'](Hy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x390d8f){if(!this['_volume']){b['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x390d8f!==this['_addressW']&&(this['_addressW']=_0x390d8f,this['propertyCh'+'anged'](Wy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x368564){this['_compareOn'+'Read']!==_0x368564&&(this['_compareOn'+'Read']=_0x368564,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x17d768){this['_compareFu'+'nc']!==_0x17d768&&(this['_compareFu'+'nc']=_0x17d768,this['propertyCh'+'anged'](qy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x284a7c){this['_anisotrop'+'y']!==_0x284a7c&&(this['_anisotrop'+'y']=_0x284a7c,this['propertyCh'+'anged'](Xy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x33d754){this['_mipmaps']!==_0x33d754&&(this['device']['isWebGPU']?b['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):sa(this['_format'])?b['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x33d754,_0x33d754&&(this['_needsMipm'+'apsUpload']=!(0x6d1+-0x1147*-0x2+-0x295f*0x1)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x390eb4=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0xa11+0x5*-0x377+-0x743*-0x1);return Li['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x390eb4,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x779*-0x5+0x16cd+0x3a4*0x4;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x506ea0){var _0x4bed2e,_0x37e857,_0x2fdb95,_0x12d744;const _0x307c26=Lh(this['format']);if(_0x506ea0!==_0x307c26){if(_0x506ea0){const _0x36b0f5=Ic(this['format']);this['_format']!==_0x36b0f5&&(b['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x4bed2e=At['get'](this['format']))==null?void(0xffd+0x1*0x1b3b+-0x2b38):_0x4bed2e['name'])+'\x20->\x20'+((_0x37e857=At['get'](_0x36b0f5))==null?void(0x1764+0x3*-0xb23+0xa05):_0x37e857['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x36b0f5,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1b1f*0x1+-0x85+-0x6*0x46f));}else{const _0x530863=OS(this['format']);this['_format']!==_0x530863&&(b['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x2fdb95=At['get'](this['format']))==null?void(0x14fc+-0x1f7*0xb+0xa1):_0x2fdb95['name'])+'\x20->\x20'+((_0x12d744=At['get'](_0x530863))==null?void(-0x1bed+0xbc5+0x205*0x8):_0x12d744['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x530863,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x4a*0x1+-0x1b65*0x1+0x1b1b));}}}get['srgb'](){return Lh(this['format']);}set['flipY'](_0x877725){this['_flipY']!==_0x877725&&(this['_flipY']=_0x877725,this['_needsUplo'+'ad']=!(0x1d76*0x1+0x21c0+-0x3f36));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x3c9746){this['_premultip'+'lyAlpha']!==_0x3c9746&&(this['_premultip'+'lyAlpha']=_0x3c9746,this['_needsUplo'+'ad']=!(0x9e9+0x332+-0xd1b));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return z['powerOfTwo'](this['_width'])&&z['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case ln:return'rgbm';case cp:return'rgbe';case ko:return'rgbp';}return Cy(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0x1c0*-0x13+-0x18ab+-0x895),!(-0x224c+0x1*-0x1931+0x3b7d),!(0x143*0x3+0x1fbb+-0x8e1*0x4),!(0x1f6a+-0x294+-0x1cd6),!(-0x26aa+-0x196+-0x70*-0x5c),!(0xbda*-0x1+0xe86+0x2ac*-0x1)]]:[!(-0x1*0x1def+0x1ece+0xdf*-0x1)],this['_needsUplo'+'ad']=!(-0x2b3*-0x8+0x1db9*0x1+-0x3351),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0xb*0x1f7+-0x7*0x58f+-0xc1b*-0x5),this['propertyCh'+'anged'](yv);}['lock'](_0xe54fcb={}){_0xe54fcb['level']??(_0xe54fcb['level']=-0x71*-0x4+-0xc7b+0xab7),_0xe54fcb['face']??(_0xe54fcb['face']=0xd*0x152+0x838+-0x1962),_0xe54fcb['mode']??(_0xe54fcb['mode']=ld),b['assert'](this['_lockedMod'+'e']===wl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),b['assert'](_0xe54fcb['mode']===ky||_0xe54fcb['mode']===ld,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0xe54fcb['mode'],this['_lockedLev'+'el']=_0xe54fcb['level'];const _0x3d643d=this['cubemap']?this['_levels'][_0xe54fcb['face']]:this['_levels'];if(_0x3d643d[_0xe54fcb['level']]===null){const _0x45e42f=Math['max'](-0x2f1*0x6+0xce7+0x98*0x8,this['_width']>>_0xe54fcb['level']),_0x21e9ec=Math['max'](0x2001+0x12df+-0x32df,this['_height']>>_0xe54fcb['level']),_0x9b4b25=Math['max'](-0x20d8+-0x63a*-0x4+0x6b*0x13,this['_depth']>>_0xe54fcb['level']),_0x5f945e=new ArrayBuffer(Li['calcLevelG'+'puSize'](_0x45e42f,_0x21e9ec,_0x9b4b25,this['_format']));_0x3d643d[_0xe54fcb['level']]=new(My(this['_format']))(_0x5f945e);}return _0x3d643d[_0xe54fcb['level']];}['setSource'](_0x3ad66f,_0x2fbb56=-0x1*-0x1d96+0xe01+-0x2b97*0x1){let _0x4ccfed=!(-0x67c+-0x19ff+0x207c),_0x3c7e77,_0x14393e;if(this['_cubemap']){if(_0x3ad66f[-0xa*0x235+-0x1*-0x2694+-0x2*0x841]){_0x3c7e77=_0x3ad66f[-0x5d8+0x113a+-0x3e*0x2f]['width']||0xfe9+-0xb9c+0x3*-0x16f,_0x14393e=_0x3ad66f[-0x1023*-0x1+-0x4*0x7df+0xf59]['height']||0x18c+-0x1*0x88f+0x5*0x167;for(let _0x15834c=0x1a84+0x28c+-0x1d10;_0x15834c<-0x128a+0x13*-0x18+-0x54*-0x3e;_0x15834c++){const _0x54df64=_0x3ad66f[_0x15834c];if(!_0x54df64||_0x54df64['width']!==_0x3c7e77||_0x54df64['height']!==_0x14393e||!this['device']['_isBrowser'+'Interface'](_0x54df64)){_0x4ccfed=!(-0x73*0x2f+0x460+0x10bd);break;}}}else _0x4ccfed=!(0x5*0x25f+0x134+-0xd0f);if(!_0x4ccfed){for(let _0x1dfe31=-0x388+-0x1*0x26bd+-0x3*-0xe17;_0x1dfe31<-0x2*0x106c+0xdd8+0x1306;_0x1dfe31++)this['_levels'][_0x2fbb56][_0x1dfe31]!==_0x3ad66f[_0x1dfe31]&&(this['_levelsUpd'+'ated'][_0x2fbb56][_0x1dfe31]=!(-0xb99+0x6*0x17+-0x13*-0x95));}}else this['device']['_isBrowser'+'Interface'](_0x3ad66f)||(_0x4ccfed=!(0x1f2a+-0x664*0x6+0x72e)),_0x4ccfed||(_0x3ad66f!==this['_levels'][_0x2fbb56]&&(this['_levelsUpd'+'ated'][_0x2fbb56]=!(0x1e59+0x4*0x977+-0x4435)),_0x3ad66f instanceof HTMLVideoElement?(_0x3c7e77=_0x3ad66f['videoWidth'],_0x14393e=_0x3ad66f['videoHeigh'+'t']):(_0x3c7e77=_0x3ad66f['width'],_0x14393e=_0x3ad66f['height']));if(_0x4ccfed){if(this['_width']=-0x1*0x1ef9+0x1855*-0x1+0x3752,this['_height']=-0x176e+-0x7bb+0x1f2d,this['_cubemap']){for(let _0x52f87f=0xb08+-0xf*0x18a+0xc0e;_0x52f87f<0x893+0x26c5+-0x2f52;_0x52f87f++)this['_levels'][_0x2fbb56][_0x52f87f]=null,this['_levelsUpd'+'ated'][_0x2fbb56][_0x52f87f]=!(-0x2033*0x1+0x3e7+0x1c4c);}else this['_levels'][_0x2fbb56]=null,this['_levelsUpd'+'ated'][_0x2fbb56]=!(-0xc7*-0x32+0xb8d+-0x1*0x326b);}else _0x2fbb56===-0x2*0xfdd+-0x2f8*0x4+-0x15cd*-0x2&&(this['_width']=_0x3c7e77,this['_height']=_0x14393e),this['_levels'][_0x2fbb56]=_0x3ad66f;(this['_invalid']!==_0x4ccfed||!_0x4ccfed)&&(this['_invalid']=_0x4ccfed,this['upload']());}['getSource'](_0x4bdbde=0x135*0x1f+-0xd81+-0x1*0x17ea){return this['_levels'][_0x4bdbde];}['unlock'](){this['_lockedMod'+'e']===wl&&b['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===ld&&this['upload'](),this['_lockedLev'+'el']=-(-0x1*-0x6dd+0x427*-0x2+0x172),this['_lockedMod'+'e']=wl;}['upload'](){var _0x29443d,_0x1ae9d0;this['_needsUplo'+'ad']=!(-0x2285+0x8ae+0xf*0x1b9),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x1ae9d0=(_0x29443d=this['impl'])['uploadImme'+'diate'])==null||_0x1ae9d0['call'](_0x29443d,this['device'],this);}['read'](_0x59b9d0,_0x55b3aa,_0x2dbd5b,_0x1d1b79,_0x2d41fc={}){var _0xecf900,_0x5e10d2;return(_0x5e10d2=(_0xecf900=this['impl'])['read'])==null?void(-0xb9*0x23+0x92*0x3a+-0x7c9*0x1):_0x5e10d2['call'](_0xecf900,_0x59b9d0,_0x55b3aa,_0x2dbd5b,_0x1d1b79,_0x2d41fc);}}const Mv={'white':[-0x25a0+0x13*-0x15f+-0x2056*-0x2,-0x4c0+-0x82c+0xdeb,-0x1*0x1448+-0xa36+-0x3*-0xa7f,-0x1d07+0x2337+-0x531],'gray':[0x130d+-0x1397+0x10a,0x10aa+0x1d26+-0x2d50,-0x1ae2+0x3*-0x45+0x1c31,0x5*-0x294+0x1c07+-0x2d4*0x5],'black':[0xd03*0x1+0x2f*-0x5+-0xc18,0x2425+-0x1*0x1d39+-0x6ec,-0xfb*-0x9+0x1*-0xf9d+-0xb*-0x9e,0x25e+-0x2e*0x6d+-0x1237*-0x1],'normal':[0x22b2+-0xfb6+0x5b*-0x34,0x18bd+-0x8b*0x2b+0x1*-0xe4,0x14c8+0x4b1*0x7+-0x34a0,-0x9*-0x51+-0x4e7+0x30d],'pink':[0x1b25+-0x1*0x1f94+0x56e,0x6b7*-0x2+0x1*0x18bd+-0xacf,0x17f3+0x1025+-0x2719,-0x1*0x2685+-0x1*0x143b+0x3bbf]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0xf80b71=>{_0xf80b71['destroy']();});}}const Rv=new Ht(),tn=(_0x27a028,_0x54ab51)=>{const _0xb59e57=Rv['get'](_0x27a028,()=>new Pv());if(!_0xb59e57['map']['has'](_0x54ab51)){const _0x38a10f=new ce(_0x27a028,{'name':'built-in-t'+'exture-'+_0x54ab51,'width':0x1,'height':0x1,'format':Te}),_0x15175d=_0x38a10f['lock'](),_0x1c64a1=Mv[_0x54ab51];b['assert'](_0x1c64a1,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x54ab51+('\x27\x20not\x20foun'+'d')),_0x15175d['set'](_0x1c64a1),_0x38a10f['unlock'](),_0xb59e57['map']['set'](_0x54ab51,_0x38a10f);}return _0xb59e57['map']['get'](_0x54ab51);};let Iv=0x3*0x35+0x1bb6+-0x1c55;class Ky{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class xp{constructor(_0x4e8eaa,_0x540afb,_0x550ab7){c(this,'renderVers'+'ionUpdated',-(-0x1de7+-0x1*0x188f+0x3677)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x4e8eaa,this['format']=_0x540afb,this['dirty']=!(-0xafd+0x3*-0x6d+0x2*0x622),this['impl']=_0x4e8eaa['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x550ab7,_0x550ab7&&this['setUniform'+'Buffer'](gp,_0x550ab7),b['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x540afb));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x4ded50,_0x5d9d8a){const _0x1e8f57=this['format']['bufferForm'+'atsMap']['get'](_0x4ded50);b['assert'](_0x1e8f57!==void(-0x1fcb*-0x1+0x1*0x1fff+-0x8e*0x73),'Setting\x20a\x20'+'uniform\x20['+_0x4ded50+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x1e8f57]!==_0x5d9d8a&&(this['uniformBuf'+'fers'][_0x1e8f57]=_0x5d9d8a,this['dirty']=!(0x134+-0x1*0xdb1+-0x17*-0x8b));}['setStorage'+'Buffer'](_0x55d1dc,_0x512f33){const _0x19ff74=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x55d1dc);b['assert'](_0x19ff74!==void(0x1*-0xda3+-0xfa9+0x1d4c),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x55d1dc+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x19ff74]!==_0x512f33&&(this['storageBuf'+'fers'][_0x19ff74]=_0x512f33,this['dirty']=!(-0x1*0x1b3b+-0x1*0x1073+0x2bae));}['setTexture'](_0x5ed023,_0xf04631){const _0x43c4e4=this['format']['textureFor'+'matsMap']['get'](_0x5ed023);b['assert'](_0x43c4e4!==void(-0x11d6*-0x1+0x10*0xf2+0x2*-0x107b),'Setting\x20a\x20'+'texture\x20['+_0x5ed023+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x43c4e4]!==_0xf04631?(this['textures'][_0x43c4e4]=_0xf04631,this['dirty']=!(-0x1*0x3ee+0xf74+-0xb86)):this['renderVers'+'ionUpdated']<_0xf04631['renderVers'+'ionDirty']&&(this['dirty']=!(-0x341*0x9+0x19*-0x59+-0x25fa*-0x1));}['setStorage'+'Texture'](_0x49acea,_0x315732){const _0x29b8aa=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x49acea);b['assert'](_0x29b8aa!==void(0x18b9+-0xa97+0xe22*-0x1),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x49acea+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x29b8aa]!==_0x315732?(this['storageTex'+'tures'][_0x29b8aa]=_0x315732,this['dirty']=!(0xed3+0x1*-0x641+-0x449*0x2)):this['renderVers'+'ionUpdated']<_0x315732['renderVers'+'ionDirty']&&(this['dirty']=!(0x383*0x1+-0x2b*0x49+0x8c0));}['updateUnif'+'ormBuffers'](){for(let _0x1a183d=0x2225+-0x2ae*-0xb+-0x3f9f;_0x1a183d<this['uniformBuf'+'fers']['length'];_0x1a183d++)this['uniformBuf'+'fers'][_0x1a183d]['update']();}['update'](){const {textureFormats:_0x2c77e7,storageTextureFormats:_0x24a71b,storageBufferFormats:_0x110870}=this['format'];for(let _0x4b2df0=-0x8*-0x222+-0x1*0x25e8+-0x5c*-0x3a;_0x4b2df0<_0x2c77e7['length'];_0x4b2df0++){const _0x5ef885=_0x2c77e7[_0x4b2df0];let _0x36eafa=_0x5ef885['scopeId']['value'];_0x36eafa||(_0x5ef885['name']==='uSceneDept'+'hMap'&&(b['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x36eafa=tn(this['device'],'white')),_0x5ef885['name']==='uSceneColo'+'rMap'&&(b['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x36eafa=tn(this['device'],'pink')),_0x36eafa||(b['errorOnce']('Texture\x20'+_0x5ef885['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x36eafa=tn(this['device'],'pink'))),this['setTexture'](_0x5ef885['name'],_0x36eafa);}for(let _0x7a937=-0x3*-0xa20+0x490+-0x22f0;_0x7a937<_0x24a71b['length'];_0x7a937++){const _0x2a4b2d=_0x24a71b[_0x7a937],_0x5aa3b0=_0x2a4b2d['scopeId']['value'];b['assert'](_0x5aa3b0,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x2a4b2d['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x2a4b2d['name'],_0x5aa3b0);}for(let _0x488742=-0x11ad+0xdf6+-0x13d*-0x3;_0x488742<_0x110870['length'];_0x488742++){const _0x5f5c94=_0x110870[_0x488742],_0x37e948=_0x5f5c94['scopeId']['value'];b['assert'](_0x37e948,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x5f5c94['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x5f5c94['name'],_0x37e948);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x3c755f=0xea4*-0x2+-0xe78+0x2bc0;_0x3c755f<this['uniformBuf'+'fers']['length'];_0x3c755f++){const _0x37b448=this['uniformBuf'+'fers'][_0x3c755f];this['uniformBuf'+'ferOffsets'][_0x3c755f]=_0x37b448['offset'],this['renderVers'+'ionUpdated']<_0x37b448['renderVers'+'ionDirty']&&(this['dirty']=!(0x5*0x713+-0x2dc+0xcb*-0x29));}this['dirty']&&(this['dirty']=!(-0x2*0x56c+-0x20a8+-0x2b*-0x103),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Ue={'set'(_0x1193fa,_0x417b2c,_0x498615,_0x3b574b=-0x7a4+0x445+0x360){return _0x1193fa&~(_0x3b574b<<_0x498615)|_0x417b2c<<_0x498615;},'get'(_0x166094,_0x13c259,_0x9354c8=0x2046+-0x1f*-0xb5+0xc*-0x484){return _0x166094>>_0x13c259&_0x9354c8;},'all'(_0x2db082,_0x716912,_0x533e1d=-0x20aa+0x1ab9+-0x2f9*-0x2){const _0x281a6a=_0x533e1d<<_0x716912;return(_0x2db082&_0x281a6a)===_0x281a6a;},'any'(_0x44b2c8,_0x5ddf1c,_0x526e07=0xb*-0x13f+0x1c10+-0xe5a){return(_0x44b2c8&_0x526e07<<_0x5ddf1c)!==0x2*-0x37f+0x13cd+-0xccf;}},Tl=0x2*0x10fc+-0x1*0x25db+-0x14e*-0x3,Hi=-0x2c3*0x8+-0x1eff*0x1+0x1a93*0x2,um=-0x2216*-0x1+-0x179*0x5+-0x1ab9,fm=0x3a*-0xa1+-0x676*0x1+0x2af3,pm=0x29d+-0x18*0x30+0x1ea,mm=-0x5*-0x33d+0x1768+-0x278e,_m=-0x1*0x1dcf+-0x235e+0x1*0x413b,gm=-0x7e9*0x1+0x1adc+-0x9*0x219,Iu=0x1d9d+-0x78d*0x1+-0x3a*0x61,ym=-0x1247+0x117e+-0x38*-0x4,xm=-0x2278*-0x1+0x16bc+0x35c*-0x11,Sm=0xca*-0x2b+0x19c3+-0x844*-0x1,vm=-0x129e+0x1*-0x11c5+0x247d,Dv=0x1ccd+-0x12b8+-0xa06,Lv=Iu,Ws=class Ws{constructor(_0x50e7ef=!(0xcb+-0x7*-0x575+-0x26fd),_0x2ad1c1=Ut,_0xd878b9=ct,_0xdcb99c=Uf,_0x198dc0,_0x5a4d89,_0x1f8b5b,_0x2a8a83=!(0x23be*0x1+0x14c5*0x1+0x25*-0x187),_0x1d9c42=!(-0x3a*0x48+-0x7f*0x3b+-0x1*-0x2d95),_0x305c27=!(-0x1a*-0x27+-0x1da9+0x3*0x891),_0x227bfd=!(0x1195*-0x2+-0x1*-0x1597+0x19*0x8b)){c(this,'target0',0x11*-0x9f+-0x201b+-0x7f*-0x56),(this['setColorBl'+'end'](_0x2ad1c1,_0xd878b9,_0xdcb99c),this['setAlphaBl'+'end'](_0x198dc0??_0x2ad1c1,_0x5a4d89??_0xd878b9,_0x1f8b5b??_0xdcb99c),this['setColorWr'+'ite'](_0x2a8a83,_0x1d9c42,_0x305c27,_0x227bfd),this['blend']=_0x50e7ef);}set['blend'](_0x450bbe){this['target0']=Ue['set'](this['target0'],_0x450bbe?-0x311+-0x163+-0xa3*-0x7:0x1d99+-0x3*0x559+-0xd8e,vm);}get['blend'](){return Ue['all'](this['target0'],vm);}['setColorBl'+'end'](_0x3251c7,_0x7a95eb,_0x516f8f){this['target0']=Ue['set'](this['target0'],_0x3251c7,um,Tl),this['target0']=Ue['set'](this['target0'],_0x7a95eb,fm,Hi),this['target0']=Ue['set'](this['target0'],_0x516f8f,pm,Hi);}['setAlphaBl'+'end'](_0x4310c9,_0x2ab468,_0x290f0c){this['target0']=Ue['set'](this['target0'],_0x4310c9,mm,Tl),this['target0']=Ue['set'](this['target0'],_0x2ab468,_m,Hi),this['target0']=Ue['set'](this['target0'],_0x290f0c,gm,Hi);}['setColorWr'+'ite'](_0x54034f,_0x8fb650,_0x36b52a,_0xa988b1){this['redWrite']=_0x54034f,this['greenWrite']=_0x8fb650,this['blueWrite']=_0x36b52a,this['alphaWrite']=_0xa988b1;}get['colorOp'](){return Ue['get'](this['target0'],um,Tl);}get['colorSrcFa'+'ctor'](){return Ue['get'](this['target0'],fm,Hi);}get['colorDstFa'+'ctor'](){return Ue['get'](this['target0'],pm,Hi);}get['alphaOp'](){return Ue['get'](this['target0'],mm,Tl);}get['alphaSrcFa'+'ctor'](){return Ue['get'](this['target0'],_m,Hi);}get['alphaDstFa'+'ctor'](){return Ue['get'](this['target0'],gm,Hi);}set['redWrite'](_0x3d2835){this['target0']=Ue['set'](this['target0'],_0x3d2835?-0x1f*0x10d+0x831*0x4+0x3*-0x10:0x17fd+-0x2c3*0x6+-0x279*0x3,Iu);}get['redWrite'](){return Ue['all'](this['target0'],Iu);}set['greenWrite'](_0x1403d1){this['target0']=Ue['set'](this['target0'],_0x1403d1?0x3c5*-0x7+0x15cf+-0x45*-0x11:-0x4*-0x368+0x2667+-0x2bd*0x13,ym);}get['greenWrite'](){return Ue['all'](this['target0'],ym);}set['blueWrite'](_0x3f74f5){this['target0']=Ue['set'](this['target0'],_0x3f74f5?0x1b1e+-0x24*-0x53+-0x1*0x26c9:0xdc2+-0x370+-0xa52*0x1,xm);}get['blueWrite'](){return Ue['all'](this['target0'],xm);}set['alphaWrite'](_0x126e05){this['target0']=Ue['set'](this['target0'],_0x126e05?0xb2e+0x14a8+-0x1fd5:-0x1b90+-0x1a99+-0x3629*-0x1,Sm);}get['alphaWrite'](){return Ue['all'](this['target0'],Sm);}get['allWrite'](){return Ue['get'](this['target0'],Lv,Dv);}['copy'](_0x27dd5e){return this['target0']=_0x27dd5e['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0xb3625a){return this['target0']===_0xb3625a['target0'];}};c(Ws,'NOBLEND',Object['freeze'](new Ws())),c(Ws,'NOWRITE',Object['freeze'](new Ws(void(-0x6*0x2d4+-0x4ab*0x5+-0x25f*-0x11),void(0x2083+0x1*0x15bb+-0x363e),void(0x88c+-0x2104+0x1878),void(-0x1c1a+-0x21ba+0x3dd4),void(0x213d+0x475*-0x4+-0x523*0x3),void(-0x1*0x2401+0x6b3*-0x2+0x3167),void(0x5c*0x35+0x170a+0x2a16*-0x1),!(-0x13de*0x1+0x10*-0xf3+0x230f),!(0x1ed3*0x1+0xc*-0x2df+0x1d1*0x2),!(-0x11*-0x10f+0x198e+-0xc*0x3a1),!(-0x3*-0x4a8+-0x1*0x12af+0x97*0x8)))),c(Ws,'ALPHABLEND',Object['freeze'](new Ws(!(0x1025*0x1+0x1045+-0x1cd*0x12),Ut,_c,gc))),c(Ws,'ADDBLEND',Object['freeze'](new Ws(!(-0x1*0x1dc9+0x1395+0xa34),Ut,ct,ct)));let bt=Ws;class Sp{constructor(){c(this,'map',new Map()),c(this,'id',-0xb4d*0x1+-0x16*-0x8e+-0xe7);}['get'](_0x287a7c){let _0x5cf520=this['map']['get'](_0x287a7c);return _0x5cf520===void(-0x6*-0x272+0x7b2+-0x165e)&&(_0x5cf520=this['id']++,this['map']['set'](_0x287a7c,_0x5cf520)),_0x5cf520;}}const Fv=new Sp(),bm=0x241d+0x29*-0xc1+-0x52d,wm=0x5da*0x1+0xa*-0x1f+-0x1*0x4a4,Tm=0x24f6+-0x25fa*0x1+0x1*0x107,Ji=class Ji{constructor(_0x2c4e95=gu,_0x1cbbcf=!(0x1f1a+-0x3*-0x647+-0x31ef*0x1)){c(this,'data',0xe5e+-0xa88+-0x3d6),c(this,'_depthBias',0x104+0x1f*-0x57+0x985),c(this,'_depthBias'+'Slope',0x4fb*0x5+-0x1*-0xb5d+0x2c*-0xd3),c(this,'key',-0xdf6+0x2f2*0xd+-0x615*0x4),(this['func']=_0x2c4e95,this['write']=_0x1cbbcf);}set['test'](_0x3ebcbf){this['func']=_0x3ebcbf?gu:Ri,this['updateKey']();}get['test'](){return this['func']!==Ri;}set['write'](_0x12cbc3){this['data']=Ue['set'](this['data'],_0x12cbc3?-0x1815+0x1fbd+-0x7a7*0x1:0x22f3*0x1+0x1*0x7ac+-0x3*0xe35,Tm),this['updateKey']();}get['write'](){return Ue['all'](this['data'],Tm);}set['func'](_0x314642){this['data']=Ue['set'](this['data'],_0x314642,wm,bm),this['updateKey']();}get['func'](){return Ue['get'](this['data'],wm,bm);}set['depthBias'](_0x54ee11){this['_depthBias']=_0x54ee11,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x105976){this['_depthBias'+'Slope']=_0x105976,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x33c20e){return this['data']=_0x33c20e['data'],this['_depthBias']=_0x33c20e['_depthBias'],this['_depthBias'+'Slope']=_0x33c20e['_depthBias'+'Slope'],this['key']=_0x33c20e['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x57915b,_depthBias:_0xb8744e,_depthBiasSlope:_0x12677c}=this,_0xd1b7d4=_0x57915b+'-'+_0xb8744e+'-'+_0x12677c;this['key']=Fv['get'](_0xd1b7d4);}['equals'](_0x4afc61){return this['key']===_0x4afc61['key'];}};c(Ji,'DEFAULT',Object['freeze'](new Ji())),c(Ji,'NODEPTH',Object['freeze'](new Ji(Ri,!(0x2*0x3d+-0x1*-0x1c74+0x1*-0x1ced)))),c(Ji,'WRITEDEPTH',Object['freeze'](new Ji(Ri,!(0x1e52+0x1*-0x1bcb+-0x287))));let us=Ji;class Zy{constructor(){c(this,'globalId',-0x145c+0x22fc+-0xea0),c(this,'revision',-0x1*-0x16f+-0x1e02+0x1c93);}['equals'](_0x5c5464){return this['globalId']===_0x5c5464['globalId']&&this['revision']===_0x5c5464['revision'];}['copy'](_0x3f1433){this['globalId']=_0x3f1433['globalId'],this['revision']=_0x3f1433['revision'];}['reset'](){this['globalId']=-0xef9+0x25d5*0x1+0xb*-0x214,this['revision']=-0x10e6+-0xe*0x7+0x2*0x8a4;}}let Am=0xdd5*-0x1+-0x2*-0x513+0x3af;class kv{constructor(){Am++,this['version']=new Zy(),this['version']['globalId']=Am;}['increment'](){this['version']['revision']++;}}class Ov{constructor(_0x5a1a47){this['name']=_0x5a1a47,this['value']=null,this['versionObj'+'ect']=new kv();}['toJSON'](_0x4d4c3d){}['setValue'](_0x54b435){this['value']=_0x54b435,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x1d8ead){this['name']=_0x1d8ead,this['variables']=new Map();}['resolve'](_0x47dc98){return this['variables']['has'](_0x47dc98)||this['variables']['set'](_0x47dc98,new Ov(_0x47dc98)),this['variables']['get'](_0x47dc98);}['removeValu'+'e'](_0x92415d){for(const _0x892216 in this['variables']){const _0x10eb47=this['variables'][_0x892216];_0x10eb47['value']===_0x92415d&&(_0x10eb47['value']=null);}}}let Nv=0x19ee*-0x1+-0x1a3*0x11+0x35c1;class fs{constructor(_0xb69e0f,_0x3bb96d,_0x509df1,_0x4b5c20){c(this,'usage',ts),(b['assert'](arguments['length']<=0x1*0xb1c+0x5*0x633+0x19*-0x1af&&(!_0x4b5c20||typeof _0x4b5c20=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x4b5c20==null?void(0x459+-0xe*0x1b8+0x13b7):_0x4b5c20['usage'])??ts,this['device']=_0xb69e0f,this['format']=_0x3bb96d,this['numVertice'+'s']=_0x509df1,this['id']=Nv++,this['impl']=_0xb69e0f['createVert'+'exBufferIm'+'pl'](this,_0x3bb96d,_0x4b5c20),this['numBytes']=_0x3bb96d['verticesBy'+'teSize']?_0x3bb96d['verticesBy'+'teSize']:_0x3bb96d['size']*_0x509df1,this['adjustVram'+'SizeTracki'+'ng'](_0xb69e0f['_vram'],this['numBytes']));const _0x49c4d2=_0x4b5c20==null?void(-0x663+-0x213b+0x279e):_0x4b5c20['data'];_0x49c4d2?this['setData'](_0x49c4d2):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x3ee184=this['device'],_0x2df498=_0x3ee184['buffers']['indexOf'](this);_0x2df498!==-(0x757*-0x1+0x25b0+0x796*-0x4)&&_0x3ee184['buffers']['splice'](_0x2df498,-0x1*0x1edd+0x251b+-0x63d),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x3ee184),this['adjustVram'+'SizeTracki'+'ng'](_0x3ee184['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x8a16c6,_0x22d08c){b['trace'](Zx,this['id']+'\x20size:\x20'+_0x22d08c+'\x20vram.vb:\x20'+_0x8a16c6['vb']+'\x20=>\x20'+(_0x8a16c6['vb']+_0x22d08c)),_0x8a16c6['vb']+=_0x22d08c;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x3af1ec){return _0x3af1ec['byteLength']!==this['numBytes']?(b['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x3af1ec['byteLength']),!(0x1cf5+-0x1*-0x239d+-0x4091)):(this['storage']=_0x3af1ec,this['unlock'](),!(0x186e+-0x1482+-0x3ec));}}function cn(_0x4b4827){if(_0x4b4827==null)return-0x15de+-0x2*0xbba+0x2d52;let _0x49718c=0x13*0x13+0x1c4b+0x2*-0xeda;for(let _0x394d01=0xb31+0xb10+-0x1641,_0xa8eeb8=_0x4b4827['length'];_0x394d01<_0xa8eeb8;_0x394d01++)_0x49718c=(_0x49718c<<-0x143+0x1589+-0x1441)-_0x49718c+_0x4b4827['charCodeAt'](_0x394d01),_0x49718c|=-0x2669*-0x1+0x1127+-0x10*0x379;return _0x49718c;}function Qy(_0x459fdc){let _0x5e85ca=-0xa24134c2+-0xbd14a89b+-0x1e0727b22*-0x1;for(let _0x140131=-0x1cbd*0x1+0x1*0x22f1+0x31a*-0x2;_0x140131<_0x459fdc['length'];_0x140131++)_0x5e85ca^=_0x459fdc[_0x140131],_0x5e85ca*=-0xcd1c2e+-0x2*-0x910b8f+-0x1*-0xab06a3;return _0x5e85ca>>>-0x192c+0x41*0x1b+-0x1*-0x1251;}const zv=new Sp(),Uv=[0xc70*0x3+-0x1364+-0x8f5*0x2,-0x2404+-0x736+0x19a*0x1b,-0x6*0x588+0xa3*0xb+-0x3*-0x8bd,0x631+-0x69*0x54+-0x1*-0x1c4f,-0x16*0xd6+-0x7d2+0x1a46],Vv=new Ht();class Dt{constructor(_0x43a5fa,_0xd70723,_0xa24cc1){this['device']=_0x43a5fa,this['_elements']=[],this['hasUv0']=!(0x2531+-0x1e2f+0x1*-0x701),this['hasUv1']=!(-0x178b+-0x60a+0x1d96),this['hasColor']=!(0x2*0x6d7+-0x7fa*0x1+0x1*-0x5b3),this['hasTangent'+'s']=!(-0xb*-0x105+0xd7f+0x1*-0x18b5),this['verticesBy'+'teSize']=-0xf0a+0x6ad+0x1*0x85d,this['vertexCoun'+'t']=_0xa24cc1,this['interleave'+'d']=_0xa24cc1===void(0x1*0x1e49+-0x23c+-0x1c0d*0x1),this['instancing']=!(-0x224*0x8+0x1095+0x8c),this['size']=_0xd70723['reduce']((_0x251a72,_0x29a406)=>_0x251a72+Math['ceil'](_0x29a406['components']*So[_0x29a406['type']]/(0x24a3+0x6*-0x369+-0x7*0x24f))*(0x382*-0x3+-0x10b*0x2+0xca0),-0x3*0x492+0x237+0xb7f);let _0xd4586c=-0x59f+0x1*0xd88+-0x7e9,_0x1d0456;for(let _0x255ddd=-0x1315+0x12ee+0x27,_0xac9fc=_0xd70723['length'];_0x255ddd<_0xac9fc;_0x255ddd++){const _0x3606f4=_0xd70723[_0x255ddd];_0x1d0456=_0x3606f4['components']*So[_0x3606f4['type']],b['assert'](Dt['isElementV'+'alid'](_0x43a5fa,_0x3606f4),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x3606f4['semantic']+'\x20:\x20'+Sv[_0x3606f4['type']]+'\x20x\x20'+_0x3606f4['components']),_0xa24cc1&&(_0xd4586c=z['roundUp'](_0xd4586c,_0x1d0456),b['assert'](_0x1d0456%(-0x65*-0x31+-0x11de+-0x35*0x7)===0xc5b+-0x18f5+0x64d*0x2,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x1d0456));const _0x178325=_0x3606f4['asInt']??!(0x268c+-0x10d*-0x1+-0x2798),_0x238a59=_0x178325?!(-0x1254+0x21*0x47+0x92e):_0x3606f4['normalize']??!(0x1af4+-0x122b*0x1+0x4*-0x232),_0x430217={'name':_0x3606f4['semantic'],'offset':_0xa24cc1?_0xd4586c:_0x3606f4['hasOwnProp'+'erty']('offset')?_0x3606f4['offset']:_0xd4586c,'stride':_0xa24cc1?_0x1d0456:_0x3606f4['hasOwnProp'+'erty']('stride')?_0x3606f4['stride']:this['size'],'dataType':_0x3606f4['type'],'numComponents':_0x3606f4['components'],'normalize':_0x238a59,'size':_0x1d0456,'asInt':_0x178325};this['_elements']['push'](_0x430217),_0xa24cc1?_0xd4586c+=_0x1d0456*_0xa24cc1:_0xd4586c+=Math['ceil'](_0x1d0456/(-0x972+-0x9f+0xa15))*(0x9bb+0x5c*0x21+0x3*-0x731),_0x3606f4['semantic']===ds?this['hasUv0']=!(0x200d*0x1+-0x1d07+0x6*-0x81):_0x3606f4['semantic']===yn?this['hasUv1']=!(0xf0d+0x1*0x179e+-0x26ab):_0x3606f4['semantic']===It?this['hasColor']=!(0xf17+0x28*0x61+-0x59*0x57):_0x3606f4['semantic']===si&&(this['hasTangent'+'s']=!(0x70f+0x2*-0x233+-0x2a9));}_0xa24cc1&&(this['verticesBy'+'teSize']=_0xd4586c),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2166df){return Vv['get'](_0x2166df,()=>new Dt(_0x2166df,[{'semantic':lp,'components':0x4,'type':Re},{'semantic':Sa,'components':0x4,'type':Re},{'semantic':hp,'components':0x4,'type':Re},{'semantic':va,'components':0x4,'type':Re}]));}static['isElementV'+'alid'](_0x3b51c3,_0xb19ae){const _0x1c0bc0=_0xb19ae['components']*So[_0xb19ae['type']];return!(_0x3b51c3['isWebGPU']&&!Uv['includes'](_0x1c0bc0));}['update'](){b['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x325c13=[],_0x10e4b7=[],_0xe44b3=this['_elements']['length'];for(let _0x1f891e=0x3*0xc9a+-0x1d3f+-0x7*0x139;_0x1f891e<_0xe44b3;_0x1f891e++){const {name:_0x51fddf,dataType:_0x247d36,numComponents:_0x447a17,normalize:_0x57ea99,offset:_0x130557,stride:_0x34b67b,size:_0x4a7c54,asInt:_0x4dc3ad}=this['_elements'][_0x1f891e],_0x39889d=_0x51fddf+_0x247d36+_0x447a17+_0x57ea99+_0x4dc3ad;_0x325c13['push'](_0x39889d);const _0xdb650=_0x39889d+_0x130557+_0x34b67b+_0x4a7c54;_0x10e4b7['push'](_0xdb650);}_0x325c13['sort']();const _0x51e4b4=_0x325c13['join']();this['batchingHa'+'sh']=cn(_0x51e4b4),this['shaderProc'+'essingHash'+'String']=_0x51e4b4,this['renderingH'+'ashString']=_0x10e4b7['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new Sp(),hc=class hc{constructor(_0x116db5={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x1bbf+-0x9*0x162+-0xf4d)),c(this,'_key'),(this['_func']=_0x116db5['func']??Ri,this['_ref']=_0x116db5['ref']??-0xa12+0x1fd3+0x1*-0x15c1,this['_readMask']=_0x116db5['readMask']??0x1*-0xdd3+0x1e68+-0xf96,this['_writeMask']=_0x116db5['writeMask']??0xb9e+-0x6da+-0x3c5,this['_fail']=_0x116db5['fail']??da,this['_zfail']=_0x116db5['zfail']??da,this['_zpass']=_0x116db5['zpass']??da,this['_evalKey']());}set['func'](_0x9db83c){this['_func']=_0x9db83c,this['_dirty']=!(0x1e96+0x192*-0x9+-0x41d*0x4);}get['func'](){return this['_func'];}set['ref'](_0x4ce931){this['_ref']=_0x4ce931,this['_dirty']=!(-0x26bb+0x1*0x191c+0xd9f);}get['ref'](){return this['_ref'];}set['fail'](_0x35f026){this['_fail']=_0x35f026,this['_dirty']=!(0x3*0x5e9+0x1*-0x149d+-0x1*-0x2e2);}get['fail'](){return this['_fail'];}set['zfail'](_0x2547b7){this['_zfail']=_0x2547b7,this['_dirty']=!(0x469*-0x2+-0x18*0x88+0x1592);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x3cd919){this['_zpass']=_0x3cd919,this['_dirty']=!(0x23d*0xc+0x60*-0x3+-0x6*0x44a);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x49ebd7){this['_readMask']=_0x49ebd7,this['_dirty']=!(-0x291*-0xb+0x1f2d+0xeda*-0x4);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x41c2fe){this['_writeMask']=_0x41c2fe,this['_dirty']=!(0x2f*0xb3+-0x199*-0x8+-0x11d*0x29);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x5744c6,_ref:_0x346700,_fail:_0x12633c,_zfail:_0x70f71d,_zpass:_0x2d8578,_readMask:_0x30fd76,_writeMask:_0x165541}=this,_0x4d7f11=_0x5744c6+','+_0x346700+','+_0x12633c+','+_0x70f71d+','+_0x2d8578+','+_0x30fd76+','+_0x165541;this['_key']=Gv['get'](_0x4d7f11),this['_dirty']=!(0x2174*0x1+0x4*0x7e9+0x1*-0x4117);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0xa272b8){return this['_func']=_0xa272b8['_func'],this['_ref']=_0xa272b8['_ref'],this['_readMask']=_0xa272b8['_readMask'],this['_writeMask']=_0xa272b8['_writeMask'],this['_fail']=_0xa272b8['_fail'],this['_zfail']=_0xa272b8['_zfail'],this['_zpass']=_0xa272b8['_zpass'],this['_dirty']=_0xa272b8['_dirty'],this['_key']=_0xa272b8['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(hc,'DEFAULT',Object['freeze'](new hc()));let Zs=hc;const cc=class cc extends de{constructor(_0x3c270d,_0x5e1d3b){var _0x4d64b3,_0xd66f18,_0x3052c0,_0x29cc7c,_0xad6458,_0x2fed4d;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0xd8e+0x1c4*-0x2+-0xa05)),c(this,'isWebGPU',!(0xa51*-0x1+-0x161b+0x3*0xacf)),c(this,'isWebGL2',!(-0x1c17+0x1f29+-0x311)),c(this,'isHdr',!(-0x1*-0x2173+0x140+-0x22b2*0x1)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',-0x13c1*-0x1+0x2*0x244+-0x1848),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0x402+0x199*-0x1+0x9a*-0x4),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(-0x78b*0x5+-0x4*0x8bd+-0x2*-0x2456)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0xb13+-0x1b73+-0x2687*-0x1)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x1*0x263b+-0x7e5*-0x3+-0x1*-0xe8c),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(0x67*-0x1+-0x1f7*0xe+0x4a7*0x6)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x1f75+0x110f*-0x1+-0xe65)),c(this,'supportsCl'+'ipDistance'+'s',!(0x784*0x1+-0x2*-0x8c2+-0x1907)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(0x11c9*0x1+0x221b+0x167*-0x25)),c(this,'textureFlo'+'atFilterab'+'le',!(0x2*-0x87b+-0x50b*0x2+0x1*0x1b0d)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new bt()),c(this,'depthState',new us()),c(this,'stencilEna'+'bled',!(-0xc46*-0x3+0x2197*-0x1+-0x33a)),c(this,'stencilFro'+'nt',new Zs()),c(this,'stencilBac'+'k',new Zs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x1f3e+-0x1*0x20a5+0x1*0x167,-0x1748+-0x1736*0x1+-0x16*-0x21d,-0x6*0x16b+0xbab*0x1+0x1*-0x329,-0x6dd+0x1f5f+-0x1881],'depth':0x1,'stencil':0x0,'flags':Io|Do}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(-0x90+-0x31*0x13+0x434)),(this['canvas']=_0x3c270d,this['initOption'+'s']={..._0x5e1d3b},(_0x4d64b3=this['initOption'+'s'])['alpha']??(_0x4d64b3['alpha']=!(-0x1c3a*0x1+-0x7*0x517+0x3*0x1549)),(_0xd66f18=this['initOption'+'s'])['depth']??(_0xd66f18['depth']=!(-0xc5*0xe+0x5*-0x137+0x10d9)),(_0x3052c0=this['initOption'+'s'])['stencil']??(_0x3052c0['stencil']=!(0xcc6+-0x184e+-0x2e2*-0x4)),(_0x29cc7c=this['initOption'+'s'])['antialias']??(_0x29cc7c['antialias']=!(0x1*-0x126a+-0x1c1*-0x15+-0x126b)),(_0xad6458=this['initOption'+'s'])['powerPrefe'+'rence']??(_0xad6458['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x2fed4d=this['initOption'+'s'])['displayFor'+'mat']??(_0x2fed4d['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=be['browser']?Math['min'](-0xb2+-0x2f*-0x11+-0x26c,window['devicePixe'+'lRatio']):-0x25af+0x1c93+0x91d*0x1,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x1cf3+-0xcb3+0x29a6,this['_shaderSwi'+'tchesPerFr'+'ame']=0x1e86+0x4ce+-0x2354,this['_primsPerF'+'rame']=[]);for(let _0x470ef2=Dc;_0x470ef2<=Kr;_0x470ef2++)this['_primsPerF'+'rame'][_0x470ef2]=-0x2*-0x60d+-0xd2a+0x110;this['_renderTar'+'getCreatio'+'nTime']=0x3*-0x923+0xc*-0xdb+0x25ad,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](-0x199f+-0x1a17*-0x1+-0x78);}['postInit'](){const _0x54231a=new Dt(this,[{'semantic':Xe,'components':0x2,'type':Re}]),_0x5b9135=new Float32Array([-(0x5*0x2cb+0x16*0x52+-0x1502),-(0x1e5d+0x233*0xc+0x1c6*-0x20),0x33*-0x23+-0x1e5*0xb+0x1*0x1bd1,-(0xf5b+0x26*0x2+-0x1*0xfa6),-(0x12f3+-0xb4c*-0x1+-0x1e3e),-0xd*0x24f+0xa*-0x380+-0x4*-0x1041,-0x156d+-0x5d*0x47+0x6bf*0x7,-0x49e*-0x5+-0x1597+0xbf*-0x2]);this['quadVertex'+'Buffer']=new fs(this,_0x54231a,0x29*-0x2+0x1a03+-0x7*0x3ab,{'data':_0x5b9135});}['destroy'](){var _0xe6576c,_0x5dc5d1,_0x19763d;this['fire']('destroy'),(_0xe6576c=this['quadVertex'+'Buffer'])==null||_0xe6576c['destroy'](),this['quadVertex'+'Buffer']=null,(_0x5dc5d1=this['dynamicBuf'+'fers'])==null||_0x5dc5d1['destroy'](),this['dynamicBuf'+'fers']=null,(_0x19763d=this['gpuProfile'+'r'])==null||_0x19763d['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x41c4bf){this['fire']('destroy:sh'+'ader',_0x41c4bf);const _0x51ecf5=this['shaders']['indexOf'](_0x41c4bf);_0x51ecf5!==-(0x225e+0x606+0x7*-0x5c5)&&this['shaders']['splice'](_0x51ecf5,0x187e+0x1*-0x59+-0x4d4*0x5);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x4a20c1;this['contextLos'+'t']=!(0x1567+-0x231*0xb+0x2b4),this['backBuffer'+'Size']['set'](-(-0x178b+-0x4*0x101+-0x18*-0x126),-(0x7c*-0x41+-0x1e4f+0x3dcc));for(const _0x519952 of this['textures'])_0x519952['loseContex'+'t']();for(const _0x4a0090 of this['buffers'])_0x4a0090['loseContex'+'t']();for(const _0x2bab9f of this['targets'])_0x2bab9f['loseContex'+'t']();(_0x4a20c1=this['gpuProfile'+'r'])==null||_0x4a20c1['loseContex'+'t']();}['restoreCon'+'text'](){var _0x46f7f4,_0x524e0f;this['contextLos'+'t']=!(0xf19+0x331*0x9+-0x2bd1),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x4b9e82 of this['buffers'])_0x4b9e82['unlock']();(_0x524e0f=(_0x46f7f4=this['gpuProfile'+'r'])==null?void(0x618+0x259*-0xb+0x13bb):_0x46f7f4['restoreCon'+'text'])==null||_0x524e0f['call'](_0x46f7f4);}['toJSON'](_0x5e09ed){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0xb9+-0x1*0x1d47+0x1e00),this['shaderAsyn'+'cCompile']=!(-0x13a4+-0x1c6*0x5+0x1c83*0x1),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new bt(),this['depthState']=new us(),this['cullMode']=nn,this['vx']=this['vy']=this['vw']=this['vh']=0x1804+-0x1762+-0xa2,this['sx']=this['sy']=this['sw']=this['sh']=-0x7c*-0xc+-0x2*-0xe27+-0x221e,this['blendColor']=new Y(0x18d0+0x5dd*0x3+-0x87b*0x5,-0x506*-0x3+0x5*0x239+-0x1a2f,-0x189*-0xa+0xf*0x196+-0x2724,-0x7f*0xe+-0x10c7+0x17b9);}['setStencil'+'State'](_0x1db13c,_0x3f793b){b['assert'](!(-0x1a5f+-0x1f0+0x1c50));}['setBlendSt'+'ate'](_0x3b8d00){b['assert'](!(0x2299+-0x33a*-0xc+0x92a*-0x8));}['setBlendCo'+'lor'](_0x3ef6a6,_0x244301,_0x2e4816,_0x1162c7){b['assert'](!(-0x1af2+-0x1148+-0xd*-0x367));}['setDepthSt'+'ate'](_0x3cfe48){b['assert'](!(0x19fc+0x18ca+-0x29*0x13d));}['setCullMod'+'e'](_0x1852da){b['assert'](!(-0x5e8*-0x6+0x1a*0x13a+-0x1*0x4353));}['setRenderT'+'arget'](_0x38dd01){this['renderTarg'+'et']=_0x38dd01;}['setIndexBu'+'ffer'](_0x414d31){this['indexBuffe'+'r']=_0x414d31;}['setVertexB'+'uffer'](_0x542237){_0x542237&&this['vertexBuff'+'ers']['push'](_0x542237);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0xdeb+-0x973+-0x3e5*-0x6;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x4abbf6){if(_0x4abbf6['initialize'+'d'])return;const _0x2c4709=ae();this['fire']('fbo:create',{'timestamp':_0x2c4709,'target':this}),_0x4abbf6['init'](),this['targets']['add'](_0x4abbf6),this['_renderTar'+'getCreatio'+'nTime']+=ae()-_0x2c4709;}['_isBrowser'+'Interface'](_0x4d9a6c){return this['_isImageBr'+'owserInter'+'face'](_0x4d9a6c)||this['_isImageCa'+'nvasInterf'+'ace'](_0x4d9a6c)||this['_isImageVi'+'deoInterfa'+'ce'](_0x4d9a6c);}['_isImageBr'+'owserInter'+'face'](_0x1fa68e){return typeof ImageBitmap<'u'&&_0x1fa68e instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x1fa68e instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x43c103){return typeof HTMLCanvasElement<'u'&&_0x43c103 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x4d90ed){return typeof HTMLVideoElement<'u'&&_0x4d90ed instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x5a7747,_0x407e67){const _0x1dab72=Math['min'](this['_maxPixelR'+'atio'],be['browser']?window['devicePixe'+'lRatio']:-0x1*-0x53f+-0x1dc4+0x1886),_0x15b492=Math['floor'](_0x5a7747*_0x1dab72),_0x492e9d=Math['floor'](_0x407e67*_0x1dab72);(_0x15b492!==this['canvas']['width']||_0x492e9d!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x15b492,_0x492e9d);}['setResolut'+'ion'](_0x4c8b8f,_0x4ac571){this['canvas']['width']=_0x4c8b8f,this['canvas']['height']=_0x4ac571,this['fire'](cc['EVENT_RESI'+'ZE'],_0x4c8b8f,_0x4ac571);}['updateClie'+'ntRect'](){if(be['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x2bb88e=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x2bb88e['width'],this['clientRect']['height']=_0x2bb88e['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x296689){b['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return b['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x5e1+0x13d9*-0x1+0x1ff*0x7);}set['maxPixelRa'+'tio'](_0x5672c9){this['_maxPixelR'+'atio']=_0x5672c9;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x504221){}['endRenderP'+'ass'](_0x3e7b14){}['startCompu'+'tePass'](_0x339037){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x6*0x39b+0x1*-0x1bc5+-0x623*-0x1,this['renderVers'+'ion']++,b['call'](()=>{if(Qs['get'](tS)){const _0x562416=this['textures']['slice']();_0x562416['sort']((_0x173a00,_0x12bd49)=>_0x12bd49['gpuSize']-_0x173a00['gpuSize']),b['log']('Textures:\x20'+_0x562416['length']);let _0x37b39c=-0xfbe+0x1*-0xc07+0x1bc5;_0x562416['forEach']((_0x27c1fd,_0x58905b)=>{const _0x32063=_0x27c1fd['gpuSize'];_0x37b39c+=_0x32063,b['log'](_0x58905b+'.\x20'+_0x27c1fd['name']+'\x20'+_0x27c1fd['width']+'x'+_0x27c1fd['height']+'\x20VRAM:\x20'+(_0x32063/(0x1e3a+0x2c7+-0x1d01)/(0x1e99+-0x13*0x192+0x33d))['toFixed'](0xdc0+-0x1*-0x24ef+-0x32ad)+'\x20MB');}),b['log']('Total:\x20'+(_0x37b39c/(-0x14cb*-0x1+-0x9*0x3+-0x10b0)/(-0x2605*0x1+-0xba4+-0x2d3*-0x13))['toFixed'](-0x5*0x2a5+0x2427+-0x12*0x146)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x183be0,_0x396ff1='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x19bcdf=[ya,it,et],_0x3b41e3=!(-0x2*-0x135d+0x1*0x574+-0xeba*0x3),_0x1cba99=0xe04+-0xbd2+-0x231){for(let _0x36268f=0x13b1+-0x951*0x3+-0xe*-0x97;_0x36268f<_0x19bcdf['length'];_0x36268f++){const _0x18b33a=_0x19bcdf[_0x36268f];switch(_0x18b33a){case ya:{if(this['textureRG1'+'1B10Render'+'able'])return _0x18b33a;break;}case it:if(this['textureHal'+'fFloatRend'+'erable'])return _0x18b33a;break;case et:if(this['isWebGPU']&&_0x1cba99>-0x1*0x401+0x12*-0x5d+0xa8c)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x3b41e3||this['textureFlo'+'atFilterab'+'le']))return _0x18b33a;break;}}}};c(cc,'EVENT_RESI'+'ZE','resizecanv'+'as');let zh=cc,Hv=0x1418+0x1*0x137a+-0x3f5*0xa;class St{constructor(_0x1b4b80={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0x3ea117,_0x126055,_0x5d5cbe,_0x2510cb,_0x37affb,_0x3813e9;b['assert'](!(_0x1b4b80 instanceof zh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x63f9d7=((_0x3ea117=_0x1b4b80['colorBuffe'+'r'])==null?void(-0x1b5*-0x13+0x22*-0x4+-0x1fe7):_0x3ea117['device'])??((_0x126055=_0x1b4b80['colorBuffe'+'rs'])==null?void(0x1*0x1e6d+0x1eef*-0x1+-0x2*-0x41):_0x126055[0x1027*0x1+-0x29e+-0xd89]['device'])??((_0x5d5cbe=_0x1b4b80['depthBuffe'+'r'])==null?void(0x18b2+-0x999*0x3+0x419):_0x5d5cbe['device'])??_0x1b4b80['graphicsDe'+'vice'];b['assert'](_0x63f9d7,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x63f9d7;const {maxSamples:_0x307830}=this['_device'];if(this['_samples']=Math['min'](_0x1b4b80['samples']??0x1624*0x1+-0x1e27+0x804,_0x307830),_0x63f9d7['isWebGPU']&&(this['_samples']=this['_samples']>0xbcf*0x2+0xc76+0x2413*-0x1?_0x307830:0x31*0x79+-0x16+0x1712*-0x1),this['_colorBuff'+'er']=_0x1b4b80['colorBuffe'+'r'],_0x1b4b80['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x1b4b80['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x1b4b80['depthBuffe'+'r'],this['_face']=_0x1b4b80['face']??-0x14b4*-0x1+-0x8f3+-0xbc1,this['_depthBuff'+'er']){const _0x5a585e=this['_depthBuff'+'er']['_format'];_0x5a585e===Di||_0x5a585e===ca?(this['_depth']=!(-0x1*0x165b+-0x3*-0x2c3+-0x709*-0x2),this['_stencil']=!(-0xa*-0x17d+0x2*0xbcc+0xcd3*-0x3)):_0x5a585e===Ec?(this['_depth']=!(-0xa*0x3d7+-0xa*-0x34d+0x564),this['_stencil']=!(0x2*-0x52c+-0x1079*-0x2+-0x169a)):_0x5a585e===Oi&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x5*-0x358+-0x206d+0xfb6?(this['_depth']=!(0x104+-0x20*-0x98+0x3*-0x6ac),this['_stencil']=!(-0x713*-0x1+0x1dd6+0x93a*-0x4)):(b['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x236e+-0x10c*-0x10+-0x25*0x169),this['_stencil']=!(-0x2682+-0x21e9*-0x1+0x49a));}else this['_depth']=_0x1b4b80['depth']??!(0x22ea+0xd*-0xd8+0xa*-0x265),this['_stencil']=_0x1b4b80['stencil']??!(0x35c+-0x1f6+-0x165);_0x1b4b80['colorBuffe'+'rs']&&(b['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x1b4b80['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x1b4b80['colorBuffe'+'rs'][0x135a+-0x1*0x166d+-0x313*-0x1])),this['autoResolv'+'e']=_0x1b4b80['autoResolv'+'e']??!(-0xb*-0x2ad+0xa89*0x2+-0x3281),this['name']=_0x1b4b80['name'],this['name']||(this['name']=(_0x2510cb=this['_colorBuff'+'er'])==null?void(0x361+-0x2035+0x1cd4):_0x2510cb['name']),this['name']||(this['name']=(_0x37affb=this['_depthBuff'+'er'])==null?void(-0x1a7*0x17+0x1*-0x1cba+0x42bb):_0x37affb['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x1b4b80['flipY']??!(0x1*-0xad3+-0x14e*-0xd+0x13a*-0x5),this['_mipLevel']=_0x1b4b80['mipLevel']??0x5f*-0x51+-0x431*-0x9+-0x3*0x28e,this['_mipLevel']>0x920+0x1ac+0xacc*-0x1&&this['_depth']&&(b['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x1b4b80}),this['_mipLevel']=-0x44*0x1d+-0x9c3+0x1177),this['_mipmaps']=_0x1b4b80['mipLevel']===void(-0x123*-0x3+0x1faa+-0x7b*0x49),this['validateMr'+'t'](),this['impl']=_0x63f9d7['createRend'+'erTargetIm'+'pl'](this),b['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x3813e9=this['_colorBuff'+'ers'])!=null&&_0x3813e9['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){b['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x1b3235=this['_device'];_0x1b3235&&(_0x1b3235['targets']['delete'](this),_0x1b3235['renderTarg'+'et']===this&&_0x1b3235['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x453a51=this['_device'];_0x453a51&&this['impl']['destroy'](_0x453a51);}['destroyTex'+'tureBuffer'+'s'](){var _0x3998d5,_0x1f8a8d;(_0x3998d5=this['_depthBuff'+'er'])==null||_0x3998d5['destroy'](),this['_depthBuff'+'er']=null,(_0x1f8a8d=this['_colorBuff'+'ers'])==null||_0x1f8a8d['forEach'](_0x5870c4=>{_0x5870c4['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x452d8c,_0x4ad64e){var _0x5c2e32,_0x33e655;if(this['width']!==_0x452d8c||this['height']!==_0x4ad64e){if(this['mipLevel']>0xfe5+0x1edd*-0x1+0xef8){b['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x1dc2ba=this['_device'];this['destroyFra'+'meBuffers'](),_0x1dc2ba['renderTarg'+'et']===this&&_0x1dc2ba['setRenderT'+'arget'](null),(_0x5c2e32=this['_depthBuff'+'er'])==null||_0x5c2e32['resize'](_0x452d8c,_0x4ad64e),(_0x33e655=this['_colorBuff'+'ers'])==null||_0x33e655['forEach'](_0x1fd280=>{_0x1fd280['resize'](_0x452d8c,_0x4ad64e);}),this['validateMr'+'t'](),this['impl']=_0x1dc2ba['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){b['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x163a75,height:_0x5e0753,cubemap:_0x5ed426,volume:_0x213639}=this['_colorBuff'+'ers'][0x937*0x3+0x10b1*0x1+-0x46f*0xa];for(let _0x205f48=-0x1064+-0x2*-0x706+-0x259*-0x1;_0x205f48<this['_colorBuff'+'ers']['length'];_0x205f48++){const _0x5385b9=this['_colorBuff'+'ers'][_0x205f48];b['assert'](_0x5385b9['width']===_0x163a75,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),b['assert'](_0x5385b9['height']===_0x5e0753,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),b['assert'](_0x5385b9['cubemap']===_0x5ed426,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),b['assert'](_0x5385b9['volume']===_0x213639,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x46125a=!(-0x1*-0x292+-0x2105+0x5*0x617),_0x30529b=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0xb70+0xc+0xb65*0x1&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x46125a?'[color]':'')+':'+(_0x30529b?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x46125a,_0x30529b),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x5ad847,_0x40b4ea,_0x91f2e5){if(!this['_device']){if(_0x5ad847['_device'])this['_device']=_0x5ad847['_device'];else return b['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x81+0x1069*0x1+-0xfe7);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x5ad847['name']+'->'+this['name']);const _0x47cca7=this['_device']['copyRender'+'Target'](_0x5ad847,this,_0x40b4ea,_0x91f2e5);return G['popGpuMark'+'er'](this['_device']),_0x47cca7;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0xf9d250){var _0x270044;return(_0x270044=this['_colorBuff'+'ers'])==null?void(-0x27*0x73+-0xb4+0x1239):_0x270044[_0xf9d250];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x4d0980,_0x3c054b;let _0x520c14=((_0x4d0980=this['_colorBuff'+'er'])==null?void(0x4*-0x349+0x1*-0x143e+0x2162):_0x4d0980['width'])||((_0x3c054b=this['_depthBuff'+'er'])==null?void(0x66*0x29+0x1227+-0x227d):_0x3c054b['width'])||this['_device']['width'];return this['_mipLevel']>-0x1a30+-0x1*-0x22a5+0x875*-0x1&&(_0x520c14=Li['calcLevelD'+'imension'](_0x520c14,this['_mipLevel'])),_0x520c14;}get['height'](){var _0x820ae5,_0x2cb19e;let _0x48ed97=((_0x820ae5=this['_colorBuff'+'er'])==null?void(0x128d+-0x20+-0x126d*0x1):_0x820ae5['height'])||((_0x2cb19e=this['_depthBuff'+'er'])==null?void(0x1d32+0x2267+-0x1533*0x3):_0x2cb19e['height'])||this['_device']['height'];return this['_mipLevel']>-0x9a0+-0xabb+0x145b&&(_0x48ed97=Li['calcLevelD'+'imension'](_0x48ed97,this['_mipLevel'])),_0x48ed97;}['isColorBuf'+'ferSrgb'](_0x4f1300=0x1*0x17e5+-0xa0f*0x1+-0xdd6){if(this['device']['backBuffer']===this)return Lh(this['device']['backBuffer'+'Format']);const _0x294422=this['getColorBu'+'ffer'](_0x4f1300);return _0x294422?Lh(_0x294422['format']):!(-0x2*-0x41+0x16*-0x199+0x22a5);}}const Wv={'equals'(_0x5de8c7,_0x59141d){if(_0x5de8c7['length']!==_0x59141d['length'])return!(-0xdc0+-0x24b8+0x3279);for(let _0x1dc8e2=0x1563+-0xf56+-0x60d;_0x1dc8e2<_0x5de8c7['length'];_0x1dc8e2++)if(_0x5de8c7[_0x1dc8e2]!==_0x59141d[_0x1dc8e2])return!(-0x3a8+-0x5*0x53+0x548);return!(-0x73*0x26+-0x385+0x1497);}};class qc{constructor(){c(this,'_refCount',-0x4de+0x206d+0x53*-0x55);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends qc{constructor(_0xa0d558){super(),c(this,'object'),(this['object']=_0xa0d558,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x1aa425=>{var _0x41da64;(_0x41da64=_0x1aa425['object'])==null||_0x41da64['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x37ccfe){const _0x65452e=this['cache']['get'](_0x37ccfe);return _0x65452e?(_0x65452e['incRefCoun'+'t'](),_0x65452e['object']):null;}['set'](_0x2d0cb2,_0x1b044f){b['assert'](!this['cache']['has'](_0x2d0cb2),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x2d0cb2,'object':_0x1b044f}),this['cache']['set'](_0x2d0cb2,new $v(_0x1b044f));}['release'](_0xbbcdee){var _0x5f51ee;const _0x46bc23=this['cache']['get'](_0xbbcdee);_0x46bc23?(_0x46bc23['decRefCoun'+'t'](),_0x46bc23['refCount']===-0x53b*-0x1+0x1cbc+0x25*-0xeb&&(this['cache']['delete'](_0xbbcdee),(_0x5f51ee=_0x46bc23['object'])==null||_0x5f51ee['destroy']())):b['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0xbbcdee});}}class Xv extends qv{['loseContex'+'t'](_0x11ffad){this['clear']();}}const jv=new Ht(),dd=_0x129bde=>jv['get'](_0x129bde,()=>new Xv()),dt=[];dt[Ks]=-0xed*-0x15+-0x3*-0xcc8+-0x39c8,dt[hr]=0x24e9*-0x1+0xa9*-0x6+-0x12b*-0x23,dt[Qt]=-0x686+-0x2029*0x1+-0xd*-0x2fa,dt[ba]=0x56e*-0x5+0xb56*0x3+-0xc*0x92,dt[hn]=0x4*-0x11f+0x935+-0x4b8,dt[Qr]=-0x9*0x157+0x1d7c+-0x116b,dt[Jr]=0x16f+0x12*0x71+-0xda*0xb,dt[en]=-0x10c0+-0x6*-0x3e1+-0x682,dt[ua]=0xb65+-0x2394+0x48*0x56,dt[Bo]=-0x24*0x33+0x2f*0x83+-0x10df,dt[No]=0x4d6*0x3+-0x13*-0x53+-0x14a8,dt[zo]=0x1*0x1d09+0x5*-0x647+0x25e,dt[kh]=-0x1*-0x25f9+-0x1*-0x187+-0x2778,dt[Uo]=-0x113+-0x12a*0x2+0x373,dt[wa]=0xa*-0xc+-0x15ed+-0x1675*-0x1,dt[Ta]=0x83*-0x35+0x1*-0xf76+0x154b*0x2,dt[Aa]=0x7*-0x3f+-0xa99+0xc54,dt[Ea]=-0x24d3*-0x1+0x22*0xd2+-0x40b4,dt[Ca]=-0x3b7+0x1840+-0x33*0x67;class wt{constructor(_0x36c8c6,_0x92c148,_0x387964=0x1c44+0x1fa6+-0x1df5*0x2){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x36c8c6,this['name']=_0x387964?_0x36c8c6+'[0]':_0x36c8c6,this['type']=_0x92c148,this['numCompone'+'nts']=dt[_0x92c148],b['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x92c148+'\x20used\x20for\x20'+_0x36c8c6),this['updateType']=_0x92c148,_0x387964>-0x198b+0x4*-0x30b+0x5*0x78b)switch(_0x92c148){case Ks:this['updateType']=Oc;break;case hn:this['updateType']=Ma;break;case Ta:this['updateType']=zc;break;case ua:this['updateType']=Uc;break;case hr:this['updateType']=Bc;break;case Qr:this['updateType']=Pa;break;case Aa:this['updateType']=Vc;break;case Bo:this['updateType']=Gc;break;case Qt:this['updateType']=Nc;break;case Jr:this['updateType']=Ra;break;case Ea:this['updateType']=Hc;break;case No:this['updateType']=Wc;break;case ba:this['updateType']=up;break;case en:this['updateType']=Oh;break;case Ca:this['updateType']=fp;break;case zo:this['updateType']=pp;break;case wa:this['updateType']=zy;break;default:b['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+mp[_0x92c148]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x36c8c6+'\x27.'),b['call'](()=>{this['invalid']=!(-0x2c2+0x4*0x161+-0x2c2);});break;}this['count']=_0x387964,b['assert'](!isNaN(_0x387964),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x36c8c6+'['+_0x387964+']'),b['call'](()=>{isNaN(_0x387964)&&(this['invalid']=!(-0x38*0x8+0x4b*-0x13+-0x751*-0x1));});let _0x460865=this['numCompone'+'nts'];_0x387964&&(_0x460865=z['roundUp'](_0x460865,0x10af+-0x6*-0x540+-0x302b)),this['byteSize']=_0x460865*(0x24ba+0x82e+-0x2ce4),_0x387964&&(this['byteSize']*=_0x387964),b['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x92c148+'\x20used\x20for\x20'+_0x36c8c6);}get['isArrayTyp'+'e'](){return this['count']>0x1a*0xd7+-0xba8+0x517*-0x2;}['calculateO'+'ffset'](_0x1d1931){let _0xd45311=this['byteSize']<=0x109c+-0xd+-0x1*0x1087?this['byteSize']:0x12f2+-0x1458+0x176*0x1;this['count']&&(_0xd45311=-0x17*-0x141+-0xe*-0x76+0x1d*-0x137),_0x1d1931=z['roundUp'](_0x1d1931,_0xd45311),this['offset']=_0x1d1931/(0x19ed*-0x1+-0x9ac+0x239d);}}class Jy{constructor(_0x1a3dea,_0x117435){c(this,'byteSize',0x1d86+0xb0a+-0x2890),c(this,'map',new Map()),(this['scope']=_0x1a3dea['scope'],this['uniforms']=_0x117435);let _0xe02ec5=0x4*-0x4b2+0xbab+0x71d;for(let _0x33a83f=-0x52f+0x2067+-0x1b38;_0x33a83f<_0x117435['length'];_0x33a83f++){const _0xb65b65=_0x117435[_0x33a83f];_0xb65b65['calculateO'+'ffset'](_0xe02ec5),_0xe02ec5=_0xb65b65['offset']*(0xbf+-0x5*0x3d9+-0x17*-0xce)+_0xb65b65['byteSize'],_0xb65b65['scopeId']=this['scope']['resolve'](_0xb65b65['name']),this['map']['set'](_0xb65b65['name'],_0xb65b65);}this['byteSize']=z['roundUp'](_0xe02ec5,0x1517*-0x1+0x5*-0x443+0x2a76*0x1);}['get'](_0x767ea8){return this['map']['get'](_0x767ea8);}['getShaderD'+'eclaration'](_0x3e9b1b,_0x3dfeb9){const _0x247bdc=xv[_0x3e9b1b];let _0x59bfbe='layout(set'+'\x20=\x20'+_0x3e9b1b+(',\x20binding\x20'+'=\x20')+_0x3dfeb9+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x247bdc+'\x20{\x0a';return this['uniforms']['forEach'](_0xb17653=>{const _0x2d12ec=mp[_0xb17653['type']];b['assert'](_0x2d12ec['length']>-0x2*-0xb92+-0xfac+-0x1de*0x4,'Uniform\x20ty'+'pe\x20'+_0xb17653['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x59bfbe+='\x20\x20\x20\x20'+_0x2d12ec+'\x20'+_0xb17653['shortName']+(_0xb17653['count']?'['+_0xb17653['count']+']':'')+';\x0a';}),_0x59bfbe+'};\x0a';}}const yr='Preprocess'+'or',xs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ud=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Em=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,fd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,pd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,md=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Cm=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,_d=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,Cs=class Cs{static['run'](_0x5081d2,_0x1a8410=new Map(),_0x2065fc={}){Cs['sourceName']=_0x2065fc['sourceName'],_0x5081d2=this['stripComme'+'nts'](_0x5081d2),_0x5081d2=_0x5081d2['split'](/\r?\n/)['map'](_0x3cc8d2=>_0x3cc8d2['trimEnd']())['join']('\x0a');const _0x2f5383=new Map();if(_0x2065fc['stripUnuse'+'dColorAtta'+'chments']){const _0x22a33f=new Map(),_0x3193cc=/(pcFragColor[1-8])\b/g,_0x4f6a7f=_0x5081d2['match'](_0x3193cc);_0x4f6a7f==null||_0x4f6a7f['forEach'](_0x1bf928=>{const _0x10ec72=parseInt(_0x1bf928['charAt'](_0x1bf928['length']-(0x3c*-0xa+-0x18*0x13d+0x2011)),-0x1246*-0x1+-0x1*0x1fd+0x103f*-0x1);_0x22a33f['set'](_0x10ec72,(_0x22a33f['get'](_0x10ec72)??-0x1537+0x3*0x676+0x1d5)+(0x6fd+-0xb7*-0x10+-0x126c));}),_0x22a33f['forEach']((_0x19778e,_0x3a9ac2)=>{_0x19778e===0xa*-0x305+0x716*0x4+-0x5*-0x5f&&_0x2f5383['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x3a9ac2,'');});}_0x5081d2=this['_preproces'+'s'](_0x5081d2,_0x2f5383,_0x1a8410,_0x2065fc['stripDefin'+'es']);const _0x1adaf6=new Map();_0x2f5383['forEach']((_0x249463,_0x55da48)=>{Number['isInteger'](parseFloat(_0x249463))&&!_0x249463['includes']('.')&&_0x1adaf6['set'](_0x55da48,_0x249463);});const _0x20bea5=new Map();return _0x2f5383['forEach']((_0x99c64,_0x3738c6)=>{_0x3738c6['startsWith']('__INJECT_')&&_0x20bea5['set'](_0x3738c6,_0x99c64);}),_0x5081d2=this['stripComme'+'nts'](_0x5081d2),_0x5081d2=this['RemoveEmpt'+'yLines'](_0x5081d2),_0x5081d2=this['processArr'+'aySize'](_0x5081d2,_0x1adaf6),_0x5081d2=this['injectDefi'+'nes'](_0x5081d2,_0x20bea5),_0x5081d2;}static['stripComme'+'nts'](_0x4d0101){return _0x4d0101['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x3c2efd,_0x1fb845){return _0x3c2efd!==null&&_0x1fb845['forEach']((_0xb60fd6,_0x7c69e2)=>{_0x3c2efd=_0x3c2efd['replace'](new RegExp('\x5c['+_0x7c69e2+'\x5c]','g'),'['+_0xb60fd6+']');}),_0x3c2efd;}static['injectDefi'+'nes'](_0x311237,_0x466d3f){if(_0x311237!==null&&_0x466d3f['size']>-0x126f+0x1cb4*-0x1+0x2f23){const _0x26572f=_0x311237['split']('\x0a');_0x466d3f['forEach']((_0x545b44,_0x14cbab)=>{const _0x2b9c92=new RegExp('\x5cb'+_0x14cbab+'\x5cb','g');for(let _0x3ad831=0x184b+-0x555+-0x12f6;_0x3ad831<_0x26572f['length'];_0x3ad831++)_0x26572f[_0x3ad831]['includes']('#')||(_0x26572f[_0x3ad831]=_0x26572f[_0x3ad831]['replace'](_0x2b9c92,_0x545b44));}),_0x311237=_0x26572f['join']('\x0a');}return _0x311237;}static['RemoveEmpt'+'yLines'](_0x3c5094){return _0x3c5094!==null&&(_0x3c5094=_0x3c5094['split'](/\r?\n/)['map'](_0x6e9f77=>_0x6e9f77['trim']()===''?'':_0x6e9f77)['join']('\x0a'),_0x3c5094=_0x3c5094['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x3c5094;}static['_preproces'+'s'](_0x107beb,_0x54912c=new Map(),_0x1c2c28,_0xe91eeb){const _0x2168ed=_0x107beb,_0x1be418=[];let _0x10a668=!(-0x24e3+-0x11*0x9d+0x1*0x2f51),_0x10e67d;for(;(_0x10e67d=xs['exec'](_0x107beb))!==null;){const _0x5a8efd=_0x10e67d[-0x17d5+0xfe3+0x7f3];switch(_0x5a8efd){case'define':{ud['lastIndex']=_0x10e67d['index'];const _0x5d5bee=ud['exec'](_0x107beb);b['assert'](_0x5d5bee,'Invalid\x20['+_0x5a8efd+']:\x20'+_0x107beb['substring'](_0x10e67d['index'],_0x10e67d['index']+(0x57b*-0x5+0x7d2+0x13f9))+'...'),_0x10a668||(_0x10a668=_0x5d5bee===null);const _0x317a32=_0x5d5bee[0x24ae+0x14f5+0x1336*-0x3];Cm['lastIndex']=_0x5d5bee['index'];const _0x37f830=Cm['exec'](_0x317a32)[0x1b92+-0x1*-0x30b+-0x1e9c];let _0x18c92e=_0x317a32['substring'](_0x37f830['length'])['trim']();_0x18c92e===''&&(_0x18c92e='true');const _0x1d80a7=Cs['_keep'](_0x1be418);_0x1d80a7&&(_0x54912c['set'](_0x37f830,_0x18c92e),_0xe91eeb&&(_0x107beb=_0x107beb['substring'](0x1*0x1b61+-0xc2b+-0xf36,_0x5d5bee['index']-(0x31*-0x81+0x2*0xbe6+-0x5*-0x2e))+_0x107beb['substring'](ud['lastIndex']),xs['lastIndex']=_0x5d5bee['index']-(0x1f*-0xe8+0x1aa9+0x170))),b['trace'](yr,_0x5a8efd+':\x20['+_0x37f830+']\x20'+_0x18c92e+'\x20'+(_0x1d80a7?'':'IGNORED')),_0xe91eeb||(xs['lastIndex']=_0x5d5bee['index']+_0x5d5bee[0x5*-0x734+-0x5ea+0x29ee]['length']);break;}case'undef':{fd['lastIndex']=_0x10e67d['index'];const _0x45ec82=fd['exec'](_0x107beb),_0x257ab5=_0x45ec82[0x20bc+0x1c36+-0x1*0x3cf1]['trim'](),_0x10106a=Cs['_keep'](_0x1be418);_0x10106a&&(_0x54912c['delete'](_0x257ab5),_0xe91eeb&&(_0x107beb=_0x107beb['substring'](-0x1e82+-0xb*0x225+0x1*0x3619,_0x45ec82['index']-(-0x1047+0x124*-0x12+-0x1f*-0x130))+_0x107beb['substring'](fd['lastIndex']),xs['lastIndex']=_0x45ec82['index']-(-0x2*-0xf29+-0xc44+0x120d*-0x1))),b['trace'](yr,_0x5a8efd+':\x20['+_0x257ab5+']\x20'+(_0x10106a?'':'IGNORED')),_0xe91eeb||(xs['lastIndex']=_0x45ec82['index']+_0x45ec82[-0x1b6d+-0xb02+-0x266f*-0x1]['length']);break;}case'extension':{Em['lastIndex']=_0x10e67d['index'];const _0x568945=Em['exec'](_0x107beb);if(b['assert'](_0x568945,'Invalid\x20['+_0x5a8efd+']:\x20'+_0x107beb['substring'](_0x10e67d['index'],_0x10e67d['index']+(0x1*-0xc53+0xcf+0xbe8))+'...'),_0x10a668||(_0x10a668=_0x568945===null),_0x568945){const _0x2b2e93=_0x568945[-0x258b+-0x4e5*0x2+0x92*0x53],_0xe9c286=Cs['_keep'](_0x1be418);_0xe9c286&&_0x54912c['set'](_0x2b2e93,'true'),b['trace'](yr,_0x5a8efd+':\x20['+_0x2b2e93+']\x20'+(_0xe9c286?'':'IGNORED'));}xs['lastIndex']=_0x568945['index']+_0x568945[0xec3+0x36a*-0xa+-0x1*-0x1361]['length'];break;}case'ifdef':case'ifndef':case'if':{pd['lastIndex']=_0x10e67d['index'];const _0x4d27a2=pd['exec'](_0x107beb),_0x1e95bc=_0x4d27a2[-0xc0*0x11+0x2617+-0x5*0x511],_0x1234cd=Cs['evaluate'](_0x1e95bc,_0x54912c);_0x10a668||(_0x10a668=_0x1234cd['error']);let _0x2e1fe7=_0x1234cd['result'];_0x5a8efd==='ifndef'&&(_0x2e1fe7=!_0x2e1fe7),_0x1be418['push']({'anyKeep':_0x2e1fe7,'keep':_0x2e1fe7,'start':_0x10e67d['index'],'end':pd['lastIndex']}),b['trace'](yr,_0x5a8efd+':\x20['+_0x1e95bc+']\x20=>\x20'+_0x2e1fe7),xs['lastIndex']=_0x4d27a2['index']+_0x4d27a2[-0x2b2*0x3+-0x1*-0xb7b+-0x365]['length'];break;}case'endif':case'else':case'elif':{md['lastIndex']=_0x10e67d['index'];const _0x3b9f82=md['exec'](_0x107beb),_0x416df1=_0x1be418['pop'](),_0x382fc7=_0x416df1['keep']?_0x107beb['substring'](_0x416df1['end'],_0x10e67d['index']):'';b['trace'](yr,_0x5a8efd+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x382fc7!=='')),_0x107beb=_0x107beb['substring'](-0x119*0x1d+-0xc*0x19b+0x3319,_0x416df1['start'])+_0x382fc7+_0x107beb['substring'](md['lastIndex']),xs['lastIndex']=_0x416df1['start']+_0x382fc7['length'];const _0x5b9dea=_0x3b9f82[-0xf69*0x1+-0xe*0x23b+0x954*0x5];if(_0x5b9dea==='else'||_0x5b9dea==='elif'){let _0x121f26=!(-0x7fc+0x79*-0x2c+-0x1cc9*-0x1);if(!_0x416df1['anyKeep']){if(_0x5b9dea==='else')_0x121f26=!_0x416df1['keep'];else{const _0x51cfa6=Cs['evaluate'](_0x3b9f82[0x1e8b+0x1259+-0x1*0x30e2],_0x54912c);_0x121f26=_0x51cfa6['result'],_0x10a668||(_0x10a668=_0x51cfa6['error']);}}_0x1be418['push']({'anyKeep':_0x416df1['anyKeep']||_0x121f26,'keep':_0x121f26,'start':xs['lastIndex'],'end':xs['lastIndex']}),b['trace'](yr,_0x5a8efd+':\x20['+_0x3b9f82[0x1*-0x791+0x3*-0x4e6+0x1645*0x1]+']\x20=>\x20'+_0x121f26);}break;}case'include':{_d['lastIndex']=_0x10e67d['index'];const _0x439db2=_d['exec'](_0x107beb);_0x10a668||(_0x10a668=_0x439db2===null),b['assert'](_0x439db2,'Invalid\x20['+_0x5a8efd+']:\x20'+_0x107beb['substring'](_0x10e67d['index'],_0x10e67d['index']+(-0x235f+0xc97*-0x1+0x305a))+'...');const _0xab8a04=_0x439db2[-0x1782*-0x1+-0x1c54+0x4d3]['trim'](),_0x17dc01=Cs['_keep'](_0x1be418);if(_0x17dc01){const _0xd5cd0d=_0x1c2c28==null?void(0x125+0x17ef+-0x1914):_0x1c2c28['get'](_0xab8a04);_0xd5cd0d!==void(-0x2420+-0x55c+0x297c)?(_0x107beb=_0x107beb['substring'](0x683+-0x1b63+0x4*0x538,_0x439db2['index']-(-0xd93+-0xbe*-0x1+0xcd6))+_0xd5cd0d+_0x107beb['substring'](_d['lastIndex']),xs['lastIndex']=_0x439db2['index']-(-0x18f6+-0x1846+0x1*0x313d)):(console['error']('Include\x20\x22'+_0xab8a04+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Cs['sourceName'],{'source':_0x2168ed}),_0x10a668=!(0x20db+0x33f*0x1+0x1*-0x241a));}b['trace'](yr,_0x5a8efd+':\x20['+_0xab8a04+']\x20'+(_0x17dc01?'':'IGNORED'));break;}}}return _0x10a668?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x2168ed}),_0x2168ed):_0x107beb;}static['_keep'](_0x39d4b5){for(let _0xd09115=-0x58b*-0x5+0x93*0x1f+0x4*-0xb61;_0xd09115<_0x39d4b5['length'];_0xd09115++)if(!_0x39d4b5[_0xd09115]['keep'])return!(-0x2633+0x11cb+-0x1db*-0xb);return!(-0x11*-0x1fa+0x20c*-0xe+-0x4f2);}static['evaluate'](_0x53cb1f,_0x40c6ba){const _0x384a2f=Zv['exec'](_0x53cb1f)===null;b['assert'](_0x384a2f,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x53cb1f);let _0x22994b=!(0x2393*-0x1+0xcb*0x1+0x22c9);const _0x409b7f=Yv['exec'](_0x53cb1f);_0x409b7f&&(_0x22994b=_0x409b7f[0xeab*0x1+0x265e+0x8*-0x6a1]==='!',_0x53cb1f=_0x409b7f[0x13*0x1da+0x806*-0x4+-0x314]);const _0x14dee3=Kv['exec'](_0x53cb1f);if(_0x14dee3){const _0x2dd303=_0x40c6ba['get'](_0x14dee3[0x14aa+-0x1*0xade+-0x9cb*0x1])??_0x14dee3[0x19*0xf0+-0x41*-0x2b+-0x225a],_0x512d94=_0x40c6ba['get'](_0x14dee3[0x4d7+0xe1*0x2+-0x2*0x34b])??_0x14dee3[-0x3*-0x245+0x1c22+-0x22ee],_0x40167f=_0x14dee3[-0x506*-0x5+0x205a+0x5*-0xb7e];let _0x4f8620=!(-0x1bb*0xf+-0x157a+0x2f70);switch(_0x40167f){case'==':_0x4f8620=_0x2dd303===_0x512d94;break;case'!=':_0x4f8620=_0x2dd303!==_0x512d94;break;case'<':_0x4f8620=_0x2dd303<_0x512d94;break;case'<=':_0x4f8620=_0x2dd303<=_0x512d94;break;case'>':_0x4f8620=_0x2dd303>_0x512d94;break;case'>=':_0x4f8620=_0x2dd303>=_0x512d94;break;}return{'result':_0x4f8620,'error':!_0x384a2f};}_0x53cb1f=_0x53cb1f['trim']();let _0x17bf92=_0x40c6ba['has'](_0x53cb1f);return _0x22994b&&(_0x17bf92=!_0x17bf92),{'result':_0x17bf92,'error':!_0x384a2f};}};c(Cs,'sourceName');let Uh=Cs;const e0='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),t0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),i0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Mm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':Xe,'vertex_normal':ss,'vertex_tangent':si,'vertex_texCoord0':ds,'vertex_texCoord1':yn,'vertex_texCoord2':Qo,'vertex_texCoord3':Jo,'vertex_texCoord4':el,'vertex_texCoord5':tl,'vertex_texCoord6':sl,'vertex_texCoord7':il,'vertex_color':It,'vertex_boneIndices':Jt,'vertex_boneWeights':ei};class Ft{static['createDefi'+'nition'](_0x32d63d,_0x359a9c){b['assert'](_0x359a9c),b['assert'](!_0x359a9c['vertexDefi'+'nes']||_0x359a9c['vertexDefi'+'nes']instanceof Map),b['assert'](!_0x359a9c['vertexIncl'+'udes']||_0x359a9c['vertexIncl'+'udes']instanceof Map),b['assert'](!_0x359a9c['fragmentDe'+'fines']||_0x359a9c['fragmentDe'+'fines']instanceof Map),b['assert'](!_0x359a9c['fragmentIn'+'cludes']||_0x359a9c['fragmentIn'+'cludes']instanceof Map);const _0x3862bb=(_0x1b6210,_0xee32d2,_0x2b127a,_0x1caaca)=>{const _0x52b7b3=_0x32d63d['isWebGPU']?_0x1b6210:_0xee32d2;let _0x4637ab='';if(!_0x2b127a){let _0x51eda7=_0x1caaca['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x51eda7)||(_0x51eda7=[_0x51eda7]);for(let _0x49b4b9=0x1c58+0xc2d+0x1c3*-0x17;_0x49b4b9<_0x32d63d['maxColorAt'+'tachments'];_0x49b4b9++){_0x4637ab+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x49b4b9+'\x0a';const _0x2787d4=_0x51eda7[_0x49b4b9]??'vec4';_0x4637ab+='#define\x20ou'+'tType_'+_0x49b4b9+'\x20'+_0x2787d4+'\x0a';}}return _0x4637ab+_0x52b7b3;},_0x4b2f0d=_0x359a9c['name']??'Untitled';let _0xb77d5b,_0x2ec814;return _0x359a9c['shaderLang'+'uage']===Fh?(_0xb77d5b=_0x359a9c['vertexCode'],_0x2ec814=_0x359a9c['fragmentCo'+'de']):(_0xb77d5b=Ft['versionCod'+'e'](_0x32d63d)+_0x3862bb(i0,t0,!(0x11c2+0x2*0x21d+-0x15fc),_0x359a9c)+Ft['getDefines'+'Code'](_0x359a9c['vertexDefi'+'nes'])+Ft['precisionC'+'ode'](_0x32d63d)+'\x0a'+Mm+Ft['getShaderN'+'ameCode'](_0x4b2f0d)+_0x359a9c['vertexCode'],_0x2ec814=(_0x359a9c['fragmentPr'+'eamble']||'')+Ft['versionCod'+'e'](_0x32d63d)+_0x3862bb(s0,e0,!(0x17d+-0x49+-0x1*0x133),_0x359a9c)+Ft['getDefines'+'Code'](_0x359a9c['fragmentDe'+'fines'])+Ft['precisionC'+'ode'](_0x32d63d)+'\x0a'+Mm+Ft['getShaderN'+'ameCode'](_0x4b2f0d)+(_0x359a9c['fragmentCo'+'de']||Ft['dummyFragm'+'entCode']())),{'name':_0x4b2f0d,'shaderLanguage':_0x359a9c['shaderLang'+'uage']??By,'attributes':_0x359a9c['attributes'],'vshader':_0xb77d5b,'vincludes':_0x359a9c['vertexIncl'+'udes'],'fincludes':_0x359a9c['fragmentIn'+'cludes'],'fshader':_0x2ec814,'useTransformFeedback':_0x359a9c['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x359a9c['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x359a9c['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x23477b){let _0x414312='';return _0x23477b==null||_0x23477b['forEach']((_0x54dd51,_0x400add)=>{_0x414312+='#define\x20'+_0x400add+'\x20'+_0x54dd51+'\x0a';}),_0x414312;}static['getShaderN'+'ameCode'](_0x409376){return'#define\x20SH'+'ADER_NAME\x20'+_0x409376+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x354974){return _0x354974['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x6ad9cf,_0x413214){_0x413214&&_0x413214!=='highp'&&_0x413214!=='mediump'&&_0x413214!=='lowp'&&(_0x413214=null),_0x413214&&(_0x413214==='highp'&&_0x6ad9cf['maxPrecisi'+'on']!=='highp'&&(_0x413214='mediump'),_0x413214==='mediump'&&_0x6ad9cf['maxPrecisi'+'on']==='lowp'&&(_0x413214='lowp'));const _0x53849a=_0x413214||_0x6ad9cf['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x53849a+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x53849a+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x53849a+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x53849a+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x53849a+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x53849a+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x53849a+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x25a538){const _0x39f466={};let _0x189434=-0x10e0+0x772*-0x1+0x1852,_0x5c37e8=_0x25a538['indexOf']('attribute');for(;_0x5c37e8>=-0x1610+0x25*0xdb+-0x997&&!(_0x5c37e8>0x2216+-0x1d55*-0x1+-0x3bb*0x11&&_0x25a538[_0x5c37e8-(-0x1017+-0x5*0x631+-0x2f0d*-0x1)]==='/');){let _0xc3c15f=!(0x466*0x7+-0x176a+-0x275*0x3);if(_0x5c37e8>-0xe*-0xed+-0xd35+0x7*0x9){let _0x49e627=_0x25a538['lastIndexO'+'f']('\x0a',_0x5c37e8);_0x49e627=_0x49e627!==-(-0x1505+-0x2*-0x133a+-0x116e)?_0x49e627+(0x1f39+-0x1*-0x1fd2+0x3f0a*-0x1):0x13*0x34+0x1799+0xb*-0x27f,_0x25a538['substring'](_0x49e627,_0x5c37e8)['includes']('#')&&(_0xc3c15f=!(-0x2*0x65+-0xe7d+0xf47));}if(!_0xc3c15f){const _0x3212e8=_0x25a538['indexOf'](';',_0x5c37e8),_0x56519f=_0x25a538['lastIndexO'+'f']('\x20',_0x3212e8),_0x6eb19b=_0x25a538['substring'](_0x56519f+(-0x1e8+-0x1bce+-0x1*-0x1db7),_0x3212e8);if(_0x39f466[_0x6eb19b])b['warn']('Attribute\x20'+'['+_0x6eb19b+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x25a538});else{const _0x278c94=Qv[_0x6eb19b];_0x278c94!==void(-0x33e+-0x22cd+0x260b)?_0x39f466[_0x6eb19b]=_0x278c94:(_0x39f466[_0x6eb19b]='ATTR'+_0x189434,_0x189434++);}}_0x5c37e8=_0x25a538['indexOf']('attribute',_0x5c37e8+(0x1*-0x803+-0x25*-0x45+0xa7*-0x3));}return _0x39f466;}}let Jv=-0x564+0x16*-0x1c6+0x2c68;class r0{constructor(_0x3ee7a5,_0x2f058f){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x3ee7a5,this['definition']=_0x2f058f,this['name']=_0x2f058f['name']||'Untitled',this['init'](),_0x2f058f['cshader'])b['assert'](_0x3ee7a5['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),b['assert'](!_0x2f058f['vshader']&&!_0x2f058f['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{b['assert'](_0x2f058f['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),b['assert'](_0x2f058f['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x2f058f['vshader']=Uh['run'](_0x2f058f['vshader'],_0x2f058f['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x2f058f['shaderLang'+'uage']===By&&(_0x2f058f['attributes']??(_0x2f058f['attributes']=Ft['collectAtt'+'ributes'](_0x2f058f['vshader'])));const _0x213c25=_0x3ee7a5['isWebGL2']&&(be['name']==='osx'||be['name']==='ios');_0x2f058f['fshader']=Uh['run'](_0x2f058f['fshader'],_0x2f058f['fincludes'],{'stripUnusedColorAttachments':_0x213c25,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x3ee7a5['createShad'+'erImpl'](this),b['trace'](Qp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(-0x1*0x8ae+-0x3*-0x337+0x3*-0x52),this['failed']=!(-0x4*-0x593+-0xf2*0xd+0x1*-0xa01);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){b['trace'](Qp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Me=[];Me[Ks]=function(_0x37728d,_0x1e29e5,_0x274ed1){const _0x13bc18=_0x37728d['storageFlo'+'at32'];_0x13bc18[_0x274ed1]=_0x1e29e5;},Me[hr]=(_0xff6146,_0xe3f4dd,_0x27799f)=>{const _0x93dda2=_0xff6146['storageFlo'+'at32'];_0x93dda2[_0x27799f]=_0xe3f4dd[-0x138a+0x174a+-0x3c0],_0x93dda2[_0x27799f+(0x131b*0x1+0x3*0xb11+0x1*-0x344d)]=_0xe3f4dd[-0x1*-0x10ab+-0x23a4*-0x1+-0x41*0xce];},Me[Qt]=(_0x4abd38,_0x1fa273,_0x54fc85)=>{const _0x2d5a04=_0x4abd38['storageFlo'+'at32'];_0x2d5a04[_0x54fc85]=_0x1fa273[-0x3*0x971+-0x13ca+0x301d],_0x2d5a04[_0x54fc85+(0x8ad*-0x3+-0x118+0x1b20)]=_0x1fa273[0x26a*0x5+-0x5b*-0x47+-0x12a7*0x2],_0x2d5a04[_0x54fc85+(-0xdca+-0x2*0x63+0xe92)]=_0x1fa273[-0x1f2*0x3+-0x501*-0x3+0x92b*-0x1];},Me[ba]=(_0x4ce50a,_0x4fed8a,_0x134d72)=>{const _0x5e9ede=_0x4ce50a['storageFlo'+'at32'];_0x5e9ede[_0x134d72]=_0x4fed8a[0x1*-0x21ae+0x1a2b+0x783],_0x5e9ede[_0x134d72+(-0xd2+-0xd*0xb9+0xa38)]=_0x4fed8a[0x7d7+-0x1654+0xe7e],_0x5e9ede[_0x134d72+(-0x159c+-0x1*0x157f+-0x11b*-0x27)]=_0x4fed8a[0xe05+0x1aa3+0x79*-0x56],_0x5e9ede[_0x134d72+(-0x708+-0x15*-0xa9+-0x6*0x123)]=_0x4fed8a[0x2b3*0x3+0x2669*0x1+0x1*-0x2e7f];},Me[hn]=function(_0x59cfd9,_0xb60456,_0x405cbe){const _0xda3f61=_0x59cfd9['storageInt'+'32'];_0xda3f61[_0x405cbe]=_0xb60456;},Me[Qr]=function(_0x22adc1,_0x38db8f,_0x13f0f3){const _0x1297b4=_0x22adc1['storageInt'+'32'];_0x1297b4[_0x13f0f3]=_0x38db8f[0x1699+0x49*0x20+-0x1fb9],_0x1297b4[_0x13f0f3+(0x75*0x8+-0x1fb3+-0x14*-0x167)]=_0x38db8f[0x4*0x68c+-0x3*-0x1f3+0x802*-0x4];},Me[Jr]=function(_0xb6db69,_0x21014d,_0x53caa3){const _0xe68291=_0xb6db69['storageInt'+'32'];_0xe68291[_0x53caa3]=_0x21014d[-0x4cb+0x19ec+0x259*-0x9],_0xe68291[_0x53caa3+(-0x1cb+0xc74+-0xaa8)]=_0x21014d[-0x272+0x13f*-0x1d+-0x16*-0x1c1],_0xe68291[_0x53caa3+(0x1e3b+-0x137*0xd+-0xe6e)]=_0x21014d[0x1488+-0x23a8+0xf22];},Me[en]=function(_0x42f030,_0x8a789b,_0x3790ef){const _0x8bd0c=_0x42f030['storageInt'+'32'];_0x8bd0c[_0x3790ef]=_0x8a789b[0x4c*-0x34+-0x2e*0x7c+-0x44*-0x8e],_0x8bd0c[_0x3790ef+(-0x130d+-0xee*0x1d+0x2e04)]=_0x8a789b[0x1f67+0x5*0x707+-0x4289],_0x8bd0c[_0x3790ef+(-0x1*0x7f+0x150+-0xcf)]=_0x8a789b[-0x2*-0x366+-0x1fea+0x1920],_0x8bd0c[_0x3790ef+(-0x1*-0x261a+0x1616+-0x3c2d)]=_0x8a789b[0x3f9+-0xdc0+0xe*0xb3];},Me[kh]=(_0x5e0136,_0x26c487,_0x4567b3)=>{const _0x7c56f=_0x5e0136['storageFlo'+'at32'];_0x7c56f[_0x4567b3]=_0x26c487[0x2*0xc90+0x5*0x163+-0x200f*0x1],_0x7c56f[_0x4567b3+(-0x1*0x2508+0x1*-0x2363+0x486c)]=_0x26c487[-0x5b7*0x5+0x19*-0xc7+0x11*0x2d3],_0x7c56f[_0x4567b3+(0x23a2+0x43*0x67+-0x3e93)]=_0x26c487[0x9c3+-0x5e3+-0x1*0x3de],_0x7c56f[_0x4567b3+(-0x1a8c+0x1*0xa08+-0x33*-0x53)]=_0x26c487[-0x172e+0x1174+0x5bd],_0x7c56f[_0x4567b3+(0x26e+0xbf*0x2e+-0x125c*0x2)]=_0x26c487[0x266b+0x1c1f+0x2*-0x2143],_0x7c56f[_0x4567b3+(-0x1*0x24dd+-0x2383+-0x1f5*-0x25)]=_0x26c487[0xc6c+0x4*0x67d+0x3*-0xcc9];},Me[Uo]=(_0x11b8e0,_0x3cd62e,_0x224fd0)=>{const _0xfefef3=_0x11b8e0['storageFlo'+'at32'];_0xfefef3[_0x224fd0]=_0x3cd62e[-0x1ed0+-0x3f7+0x22c7*0x1],_0xfefef3[_0x224fd0+(-0xd84+0xbbd*0x3+-0x15b2)]=_0x3cd62e[0x5ed*0x5+0x72d*-0x1+-0x7*0x335],_0xfefef3[_0x224fd0+(-0x16e+-0x5e7*-0x2+-0xa5e)]=_0x3cd62e[0x212+-0x52*-0x38+-0x400*0x5],_0xfefef3[_0x224fd0+(0x2671*-0x1+0x1e21+0x854)]=_0x3cd62e[-0xd64+-0x1072+0x1dd9],_0xfefef3[_0x224fd0+(-0xcc6+-0x155*-0x1+0xb76)]=_0x3cd62e[-0x3d3*0x1+-0xbad+0xf84],_0xfefef3[_0x224fd0+(0x2f*0x7e+-0x757*-0x1+-0x1e73)]=_0x3cd62e[-0x67*-0x1f+-0x1768+-0x4*-0x2bd],_0xfefef3[_0x224fd0+(-0x20a1+0x9b0+0x16f9)]=_0x3cd62e[-0x5d*0x17+0x2ce+-0x593*-0x1],_0xfefef3[_0x224fd0+(0x2fe+0x5*0x334+0x653*-0x3)]=_0x3cd62e[0x1323+-0x2001*0x1+0x1*0xce5],_0xfefef3[_0x224fd0+(0x74f+0x6e3+-0xe28)]=_0x3cd62e[-0x1bbf+-0x1*0x7b1+0x2378];},Me[Oc]=function(_0x56691f,_0x489183,_0x26a505,_0x19a1be){const _0x37828a=_0x56691f['storageFlo'+'at32'];for(let _0x1471a=-0x1ff2+-0x246f+0x185*0x2d;_0x1471a<_0x19a1be;_0x1471a++)_0x37828a[_0x26a505+_0x1471a*(0x1a44+-0x84e*-0x2+-0x2adc)]=_0x489183[_0x1471a];},Me[Bc]=(_0x39e6cf,_0x1472c2,_0xdf6fa6,_0x4c81aa)=>{const _0x164f74=_0x39e6cf['storageFlo'+'at32'];for(let _0x1442ed=-0x9e8+0x122f+-0x847;_0x1442ed<_0x4c81aa;_0x1442ed++)_0x164f74[_0xdf6fa6+_0x1442ed*(0x260f+0x2*0xfd5+0x45b5*-0x1)]=_0x1472c2[_0x1442ed*(-0x4*-0x5f1+0xfb*-0x8+-0xfea)],_0x164f74[_0xdf6fa6+_0x1442ed*(-0x157d+-0x26*0xc3+-0x35d*-0xf)+(0xd*-0xc1+0x103e+-0x2*0x338)]=_0x1472c2[_0x1442ed*(0x1ff3+0x4c*0x4f+-0x3765)+(-0x45b+-0x66*0x29+0x14b2)];},Me[Nc]=(_0xbe02fc,_0x40eef7,_0x451244,_0x179053)=>{const _0x4620aa=_0xbe02fc['storageFlo'+'at32'];for(let _0x84da1a=-0xd10*-0x2+0x1*0x869+-0x3*0xb83;_0x84da1a<_0x179053;_0x84da1a++)_0x4620aa[_0x451244+_0x84da1a*(0x113*0xc+-0x757+-0x589)]=_0x40eef7[_0x84da1a*(-0xc88+0x2660*0x1+-0x1*0x19d5)],_0x4620aa[_0x451244+_0x84da1a*(0x11d*0x4+-0x1451+0xfe1)+(-0x3cb*-0x5+-0xbdb+-0x71b)]=_0x40eef7[_0x84da1a*(-0x1e99+-0x3*-0x6a3+0xab3)+(-0x259e*-0x1+0x2af*-0x1+0x22ee*-0x1)],_0x4620aa[_0x451244+_0x84da1a*(-0x6e6+0x7b5*0x3+-0x1cd*0x9)+(0x1*0xee4+-0x7a*-0x1b+-0x1bc0)]=_0x40eef7[_0x84da1a*(-0x1e*0x25+-0x129f+0x16f8)+(0x39e*0x5+-0x1*0x140b+0x1f7)];},Me[Ta]=(_0x34e93d,_0x4f995c,_0x296e9e,_0x582626)=>{const _0x2a0b31=_0x34e93d['storageUin'+'t32'];_0x2a0b31[_0x296e9e]=_0x4f995c;},Me[Aa]=(_0x34069e,_0x132cd5,_0x1a57f1,_0x399ec6)=>{const _0x290cdc=_0x34069e['storageUin'+'t32'];_0x290cdc[_0x1a57f1]=_0x132cd5[0x1b2f+-0x2*0x8d8+-0x97f],_0x290cdc[_0x1a57f1+(-0x341*0x7+0x1497+0xb*0x33)]=_0x132cd5[-0x2459*-0x1+-0x1c8d*-0x1+0x40e5*-0x1];},Me[Ea]=(_0x1e4481,_0x51265e,_0x3ad9dd,_0x484aec)=>{const _0x2dc8de=_0x1e4481['storageUin'+'t32'];_0x2dc8de[_0x3ad9dd]=_0x51265e[0x20*0xfb+-0x46b*0x5+-0x949],_0x2dc8de[_0x3ad9dd+(0xff1+0x2*-0x44f+0x1*-0x752)]=_0x51265e[-0x3*0xc70+0x1ed3+0x67e],_0x2dc8de[_0x3ad9dd+(0xfe0*0x1+0x2fb*-0x1+-0xce3*0x1)]=_0x51265e[-0x461*-0x1+-0x4ab+0x2*0x26];},Me[Ca]=(_0x382443,_0xcf7105,_0x17b274,_0x5efb67)=>{const _0x4475cf=_0x382443['storageUin'+'t32'];_0x4475cf[_0x17b274]=_0xcf7105[0x12b8+-0x308*-0x1+-0x15c0],_0x4475cf[_0x17b274+(-0x13ac+-0x2a*0xcf+0x35a3)]=_0xcf7105[-0xd8b+-0xcc2+0x1a4e],_0x4475cf[_0x17b274+(-0x3*-0x6a1+-0x3*0x628+-0x1*0x169)]=_0xcf7105[-0x2245+0xe45*0x1+0x1402],_0x4475cf[_0x17b274+(0x1671+0x183e*0x1+0x2eac*-0x1)]=_0xcf7105[0x1640+-0x2*0x800+-0x63d];},Me[Ma]=function(_0x2ec673,_0x477adc,_0x511e1e,_0x4d45b6){const _0x56d39d=_0x2ec673['storageInt'+'32'];for(let _0x3f07bf=-0xa73+-0x61*-0x3+-0x1*-0x950;_0x3f07bf<_0x4d45b6;_0x3f07bf++)_0x56d39d[_0x511e1e+_0x3f07bf*(-0x1*-0x26ef+0x1a78+-0x4163)]=_0x477adc[_0x3f07bf];},Me[Uc]=Me[Ma],Me[zc]=function(_0x2ea5e9,_0x5734cb,_0x4cdf5a,_0x3f4b97){const _0x47c005=_0x2ea5e9['storageUin'+'t32'];for(let _0xfba536=0x2436+0x1ac2+-0x7df*0x8;_0xfba536<_0x3f4b97;_0xfba536++)_0x47c005[_0x4cdf5a+_0xfba536*(0x1ac3+-0x3c4+-0x1*0x16fb)]=_0x5734cb[_0xfba536];},Me[Pa]=(_0x48642a,_0x3b91f6,_0x534705,_0x138bee)=>{const _0x1eb46c=_0x48642a['storageInt'+'32'];for(let _0x17435b=-0x23a*-0x7+0x1e5d+-0x2df3*0x1;_0x17435b<_0x138bee;_0x17435b++)_0x1eb46c[_0x534705+_0x17435b*(-0xfe2+0x888+0x75e)]=_0x3b91f6[_0x17435b*(0x69*0x4+0x5a*-0x12+0x4b2)],_0x1eb46c[_0x534705+_0x17435b*(-0x17a0+-0x6e0+-0x364*-0x9)+(-0x1e41+-0x24*-0x109+-0x702)]=_0x3b91f6[_0x17435b*(-0x15ca+0x1f28+-0x95c)+(0x4cb+-0x1*-0x12df+-0x17a9)];},Me[Gc]=Me[Pa],Me[Vc]=(_0x31110c,_0x245999,_0x56d643,_0x2bbf76)=>{const _0x330c59=_0x31110c['storageUin'+'t32'];for(let _0x427832=0x11*-0x2e+-0x18a1+0x1baf;_0x427832<_0x2bbf76;_0x427832++)_0x330c59[_0x56d643+_0x427832*(0x4*0x1af+0xab1+-0x1169)]=_0x245999[_0x427832*(0x12*0x12d+0x158d+0x1d*-0x179)],_0x330c59[_0x56d643+_0x427832*(0x22da+0x1468+-0x373e)+(-0xf79*-0x1+-0x19f6*0x1+-0x53f*-0x2)]=_0x245999[_0x427832*(-0x11*0x1e+0x11c5+-0xfc5)+(-0xf*0x18+0x1a5b+-0x18f2)];},Me[Ra]=(_0x13019f,_0x14b621,_0x3e0f74,_0x31d6fb)=>{const _0x392da1=_0x13019f['storageInt'+'32'];for(let _0xdb6edc=-0x20fa+-0x22*0xab+0x37b0;_0xdb6edc<_0x31d6fb;_0xdb6edc++)_0x392da1[_0x3e0f74+_0xdb6edc*(-0x8fe*-0x4+-0xd17+-0x1*0x16dd)]=_0x14b621[_0xdb6edc*(0x9e+0x2603+-0x2*0x134f)],_0x392da1[_0x3e0f74+_0xdb6edc*(0x13bc+0x1642+-0x4aa*0x9)+(0x69*0x19+0x1bc7+-0x2607)]=_0x14b621[_0xdb6edc*(-0x14c3+-0xf*-0xf+-0x1*-0x13e5)+(-0x13e+-0x43*0x76+-0x5*-0x66d)],_0x392da1[_0x3e0f74+_0xdb6edc*(-0x478+0x16cb+-0x124f)+(-0xbe*0x1d+-0x16ff+0x2c87)]=_0x14b621[_0xdb6edc*(0x35f*-0x1+0x143*0x5+-0x2ed)+(0x6*-0x356+0x20e7+-0xce1)];},Me[Wc]=Me[Ra],Me[Hc]=(_0x197aab,_0x18b79c,_0x589fa5,_0xb165af)=>{const _0x457d74=_0x197aab['storageUin'+'t32'];for(let _0xe4bbc9=0x664+0x14ea+-0x1b4e;_0xe4bbc9<_0xb165af;_0xe4bbc9++)_0x457d74[_0x589fa5+_0xe4bbc9*(-0x5*0x3dd+-0x1094*0x2+0x347d)]=_0x18b79c[_0xe4bbc9*(0x7a9+-0x4*0x94c+0x1d8a)],_0x457d74[_0x589fa5+_0xe4bbc9*(-0x10*0x150+0x1615*0x1+-0x111)+(-0xfad*0x2+-0x25a0+0x1*0x44fb)]=_0x18b79c[_0xe4bbc9*(0x77e*0x2+-0x196f+-0x2*-0x53b)+(0x1bd*-0xa+0x83*0x41+-0x4*0x3f8)],_0x457d74[_0x589fa5+_0xe4bbc9*(-0x3*0x75f+-0x1311*0x2+-0x1*-0x3c43)+(0xb88+0x2532+-0x2*0x185c)]=_0x18b79c[_0xe4bbc9*(-0x618+0x11c3+0x2*-0x5d4)+(0x1*-0x1529+-0x4d*-0x68+-0x3*0x35f)];};class vp{constructor(_0x22a51b,_0xe5cef3,_0x5b08f4=!(0x1217+-0x396+-0xe81)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0xabd*-0x2+-0x2f*-0x5b+0x4c5);if(this['device']=_0x22a51b,this['format']=_0xe5cef3,this['persistent']=_0x5b08f4,b['assert'](_0xe5cef3),_0x5b08f4){this['impl']=_0x22a51b['createUnif'+'ormBufferI'+'mpl'](this);const _0x328a64=new ArrayBuffer(_0xe5cef3['byteSize']);this['assignStor'+'age'](new Int32Array(_0x328a64)),_0x22a51b['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x21ca72=this['device'];this['impl']['destroy'](_0x21ca72),_0x21ca72['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x2347+0x3*-0x269+0x4*-0x703:this['allocation']['offset'];}['assignStor'+'age'](_0x2fb188){this['storageInt'+'32']=_0x2fb188,this['storageUin'+'t32']=new Uint32Array(_0x2fb188['buffer'],_0x2fb188['byteOffset'],_0x2fb188['byteLength']/(-0x6b1*-0x3+0x13*-0x201+0x1204)),this['storageFlo'+'at32']=new Float32Array(_0x2fb188['buffer'],_0x2fb188['byteOffset'],_0x2fb188['byteLength']/(-0x116d+-0x43*-0x56+-0x511));}['loseContex'+'t'](){var _0x14fcc6;(_0x14fcc6=this['impl'])==null||_0x14fcc6['loseContex'+'t']();}['setUniform'](_0x152749,_0x18d93b){b['assert'](_0x152749);const _0x2b5dab=_0x152749['offset'];if(_0x18d93b!=null){const _0x255088=Me[_0x152749['updateType']];_0x255088?_0x255088(this,_0x18d93b,_0x2b5dab,_0x152749['count']):this['storageFlo'+'at32']['set'](_0x18d93b,_0x2b5dab);}else b['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x152749['name']+('],\x20expecte'+'d\x20type\x20')+mp[_0x152749['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x30dbde,_0x223cac){const _0x3ffef7=this['format']['map']['get'](_0x30dbde);b['assert'](_0x3ffef7,'Uniform\x20na'+'me\x20['+_0x30dbde+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x3ffef7&&this['setUniform'](_0x3ffef7,_0x223cac);}['startUpdat'+'e'](_0x4fc6fd){if(!this['persistent']){const _0x155643=this['allocation'],_0x1784d3=_0x155643['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x155643,this['format']['byteSize']),this['assignStor'+'age'](_0x155643['storage']),_0x4fc6fd&&(_0x4fc6fd['bindGroup']=_0x155643['gpuBuffer']['getBindGro'+'up'](this),_0x4fc6fd['offsets'][-0x1221+-0x1901+0x2b22]=_0x155643['offset']),_0x1784d3!==_0x155643['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x187335){this['startUpdat'+'e'](_0x187335);const _0x4d6ff9=this['format']['uniforms'];for(let _0x2d0a65=0x9bc*-0x4+-0xf32+-0x3622*-0x1;_0x2d0a65<_0x4d6ff9['length'];_0x2d0a65++){const _0x3da3a7=_0x4d6ff9[_0x2d0a65]['scopeId']['value'];this['setUniform'](_0x4d6ff9[_0x2d0a65],_0x3da3a7);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x1193*-0x1+-0x6f*0x4+-0x1*0xfd6)),c(this,'_enableReq'+'uest',!(0x174d+-0x1*-0x1ca+-0x1916)),c(this,'_frameTime',0xbbd+0x24cb*-0x1+0x6*0x42d);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x1213d3){this['_enableReq'+'uest']=_0x1213d3;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x12af+0xc37*0x1+-0x1ee6));}['request'](_0x122556){this['pastFrameA'+'llocations']['set'](_0x122556,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x30f5a7,_0xcc2756){if(_0xcc2756){const _0xc7fff4=this['pastFrameA'+'llocations']['get'](_0x30f5a7);if(b['assert'](_0xc7fff4['length']===_0xcc2756['length']),_0xcc2756['length']>-0x4*-0x1af+0x1*0x20b7+-0x2773&&(this['_frameTime']=_0xcc2756[0x4b0+0x1*0xe43+-0x12f3]),Qs['get'](Sl)){b['trace'](Sl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x30f5a7+'\x20--');let _0xe3fec8=0x4f2+0xee0+-0x56*0x3b;for(let _0x105c47=0x66d+0x1517+-0x1b84*0x1;_0x105c47<_0xc7fff4['length'];++_0x105c47){const _0x5b1450=_0xc7fff4[_0x105c47];_0xe3fec8+=_0xcc2756[_0x105c47],b['trace'](Sl,_0xcc2756[_0x105c47]['toFixed'](-0x40*-0x7f+-0x3*0x9fd+-0x1c7*0x1)+'\x20ms\x20'+_0x5b1450);}b['trace'](Sl,_0xe3fec8['toFixed'](0xcbd+0x7*0x33d+-0x2366)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x30f5a7);}['getSlot'](_0x47ffbb){const _0x807cc3=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x47ffbb),_0x807cc3;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class n0{constructor(){c(this,'bufferId',null);}['destroy'](_0x2540fc){this['bufferId']&&(_0x2540fc['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x3fa745,_0x29f6d5,_0x1659dd,_0x40f75c){const _0x398604=_0x3fa745['gl'];if(this['bufferId'])_0x398604['bindBuffer'](_0x1659dd,this['bufferId']),_0x398604['bufferSubD'+'ata'](_0x1659dd,0x444+-0x1387+0xf43,_0x40f75c);else{let _0x25807c;switch(_0x29f6d5){case ts:_0x25807c=_0x398604['STATIC_DRA'+'W'];break;case Ph:_0x25807c=_0x398604['DYNAMIC_DR'+'AW'];break;case fy:_0x25807c=_0x398604['STREAM_DRA'+'W'];break;case PS:_0x25807c=_0x398604['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x398604['createBuff'+'er'](),_0x398604['bindBuffer'](_0x1659dd,this['bufferId']),_0x398604['bufferData'](_0x1659dd,_0x40f75c,_0x25807c);}}}class sb extends n0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x266cc4){super['destroy'](_0x266cc4),_0x266cc4['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x1f5807){const _0x1c8c1d=_0x1f5807['device'];super['unlock'](_0x1c8c1d,_0x1f5807['usage'],_0x1c8c1d['gl']['ARRAY_BUFF'+'ER'],_0x1f5807['storage']);}}class ib extends n0{constructor(_0x2323cc){super();const _0x4da39f=_0x2323cc['device']['gl'],_0x1d1515=_0x2323cc['format'];_0x1d1515===yu?this['glFormat']=_0x4da39f['UNSIGNED_B'+'YTE']:_0x1d1515===Fi?this['glFormat']=_0x4da39f['UNSIGNED_S'+'HORT']:_0x1d1515===or&&(this['glFormat']=_0x4da39f['UNSIGNED_I'+'NT']);}['unlock'](_0x55b94c){const _0x4e4182=_0x55b94c['device'];super['unlock'](_0x4e4182,_0x55b94c['usage'],_0x4e4182['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x55b94c['storage']);}}class Pm{constructor(_0x219a58,_0x573ad9,_0x49cbac,_0xff32fe){if(this['locationId']=_0xff32fe,this['scopeId']=_0x219a58['scope']['resolve'](_0x573ad9),this['version']=new Zy(),_0x573ad9['substring'](_0x573ad9['length']-(0x197*0xb+-0x12f9+-0x17f*-0x1))==='[0]')switch(_0x49cbac){case Ks:_0x49cbac=Oc;break;case hn:_0x49cbac=Ma;break;case Ta:_0x49cbac=zc;break;case ua:_0x49cbac=Uc;break;case hr:_0x49cbac=Bc;break;case Qr:_0x49cbac=Pa;break;case Aa:_0x49cbac=Vc;break;case Bo:_0x49cbac=Gc;break;case Qt:_0x49cbac=Nc;break;case Jr:_0x49cbac=Ra;break;case Ea:_0x49cbac=Hc;break;case No:_0x49cbac=Wc;break;case ba:_0x49cbac=up;break;case en:_0x49cbac=Oh;break;case Ca:_0x49cbac=fp;break;case zo:_0x49cbac=pp;break;}this['dataType']=_0x49cbac,this['value']=[null,null,null,null],this['array']=[];}}let Rm=0xe27+0x13f1+-0x2218;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x485ad3){this['map']['forEach'](_0x143f8e=>{_0x485ad3['gl']['deleteShad'+'er'](_0x143f8e);});}['loseContex'+'t'](_0x5e62d9){this['map']['clear']();}}const ab=new Ht(),ob=new Ht();class lb{constructor(_0x2a3e4f){c(this,'compileDur'+'ation',-0x1c76*-0x1+-0x2*-0xf05+-0x3a80),(this['init'](),this['compile'](_0x2a3e4f['device'],_0x2a3e4f),this['link'](_0x2a3e4f['device'],_0x2a3e4f),_0x2a3e4f['device']['shaders']['push'](_0x2a3e4f));}['destroy'](_0x43c1bb){this['glProgram']&&(_0x43c1bb['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0xb754a0,_0xb3e0bd){this['compile'](_0xb754a0,_0xb3e0bd),this['link'](_0xb754a0,_0xb3e0bd);}['compile'](_0x27090d,_0x4a6f20){const _0x10bbdd=_0x4a6f20['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x27090d,_0x10bbdd['vshader'],!(0x1d*-0xad+0x2674+0x649*-0x3)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x27090d,_0x10bbdd['fshader'],!(-0x12c3+0x1cbf+-0x9fb));}['link'](_0x4a62ad,_0x22fba6){if(this['glProgram'])return;const _0x157df6=_0x4a62ad['gl'];if(_0x157df6['isContextL'+'ost']())return;let _0x10c43d=-0x16*-0x1+-0x1acd+0x1ab7;b['call'](()=>{this['compileDur'+'ation']=0x12d2+0x1ac2+-0x2d94,_0x10c43d=ae();});const _0x358bbd=_0x157df6['createProg'+'ram']();this['glProgram']=_0x358bbd,_0x157df6['attachShad'+'er'](_0x358bbd,this['glVertexSh'+'ader']),_0x157df6['attachShad'+'er'](_0x358bbd,this['glFragment'+'Shader']);const _0x5547f6=_0x22fba6['definition'],_0x4bb456=_0x5547f6['attributes'];if(_0x5547f6['useTransfo'+'rmFeedback']){const _0x1dea79=[];for(const _0x4e14c6 in _0x4bb456)_0x4bb456['hasOwnProp'+'erty'](_0x4e14c6)&&_0x1dea79['push']('out_'+_0x4e14c6);_0x157df6['transformF'+'eedbackVar'+'yings'](_0x358bbd,_0x1dea79,_0x157df6['INTERLEAVE'+'D_ATTRIBS']);}const _0x145bec={};for(const _0x58a3b0 in _0x4bb456)if(_0x4bb456['hasOwnProp'+'erty'](_0x58a3b0)){const _0x9c7b10=_0x4bb456[_0x58a3b0],_0x4e1ec9=Ae[_0x9c7b10];b['assert'](!_0x145bec['hasOwnProp'+'erty'](_0x4e1ec9),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x145bec[_0x4e1ec9]+'\x20and\x20'+_0x58a3b0),_0x145bec[_0x4e1ec9]=_0x58a3b0,_0x157df6['bindAttrib'+'Location'](_0x358bbd,_0x4e1ec9,_0x58a3b0);}_0x157df6['linkProgra'+'m'](_0x358bbd),b['call'](()=>{this['compileDur'+'ation']=ae()-_0x10c43d;}),_0x4a62ad['_shaderSta'+'ts']['linked']++,_0x5547f6['tag']===Fy&&_0x4a62ad['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x22b189,_0x2fe176,_0x190d62){const _0x275a8b=_0x22b189['gl'];if(_0x275a8b['isContextL'+'ost']())return null;const _0x252dad=(_0x190d62?ab:ob)['get'](_0x22b189,()=>new nb());let _0x1068b3=_0x252dad['map']['get'](_0x2fe176);if(!_0x1068b3){const _0x3dc96e=ae();_0x22b189['fire']('shader:com'+'pile:start',{'timestamp':_0x3dc96e,'target':_0x22b189}),_0x1068b3=_0x275a8b['createShad'+'er'](_0x190d62?_0x275a8b['VERTEX_SHA'+'DER']:_0x275a8b['FRAGMENT_S'+'HADER']),_0x275a8b['shaderSour'+'ce'](_0x1068b3,_0x2fe176),_0x275a8b['compileSha'+'der'](_0x1068b3),_0x252dad['map']['set'](_0x2fe176,_0x1068b3);const _0x112f5c=ae();_0x22b189['fire']('shader:com'+'pile:end',{'timestamp':_0x112f5c,'target':_0x22b189}),_0x22b189['_shaderSta'+'ts']['compileTim'+'e']+=_0x112f5c-_0x3dc96e,_0x190d62?_0x22b189['_shaderSta'+'ts']['vsCompiled']++:_0x22b189['_shaderSta'+'ts']['fsCompiled']++;}return _0x1068b3;}['finalize'](_0x4293da,_0x37be6e){var _0x889f4c,_0x2980ff;const _0x3eff25=_0x4293da['gl'];if(_0x3eff25['isContextL'+'ost']())return!(0x65*-0x29+-0x20f8+0x3125);const _0x30b596=this['glProgram'],_0xe62f79=_0x37be6e['definition'],_0x418b84=ae();_0x4293da['fire']('shader:lin'+'k:start',{'timestamp':_0x418b84,'target':_0x4293da});let _0x5252c5=-0x75a*-0x1+0xb6e+0x259*-0x8;if(b['call'](()=>{_0x5252c5=ae();}),!_0x3eff25['getProgram'+'Parameter'](_0x30b596,_0x3eff25['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x4293da,_0x37be6e,this['glVertexSh'+'ader'],_0xe62f79['vshader'],'vertex')||!this['_isCompile'+'d'](_0x4293da,_0x37be6e,this['glFragment'+'Shader'],_0xe62f79['fshader'],'fragment'))return!(-0x1*-0x73f+-0x8b*0x2b+0x101b);const _0x5e75f8='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x3eff25['getProgram'+'InfoLog'](_0x30b596);return _0xe62f79['translated'+'Frag']=(_0x889f4c=_0x3eff25['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x72*0x43+0x2302+-0x40d8):_0x889f4c['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0xe62f79['translated'+'Vert']=(_0x2980ff=_0x3eff25['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(-0x545+0x2e*0x6a+-0xdc7):_0x2980ff['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x5e75f8,_0xe62f79),console['error'](_0x5e75f8),!(0x136+-0x923+-0x3a*-0x23);}const _0x2e652d=_0x3eff25['getProgram'+'Parameter'](_0x30b596,_0x3eff25['ACTIVE_ATT'+'RIBUTES']);for(let _0x3b1a5a=-0x1*-0xe6e+0x52*-0x4c+0x9*0x11a;_0x3b1a5a<_0x2e652d;_0x3b1a5a++){const _0x2ea376=_0x3eff25['getActiveA'+'ttrib'](_0x30b596,_0x3b1a5a),_0x24d53e=_0x3eff25['getAttribL'+'ocation'](_0x30b596,_0x2ea376['name']);if(!rb['has'](_0x2ea376['name'])){if(_0xe62f79['attributes'][_0x2ea376['name']]===void(-0x63d*0x2+0x6b*0x1+0xc0f))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x2ea376['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x37be6e['label']+']',_0x37be6e),_0x37be6e['failed']=!(-0x27a*0x1+-0x17*0xa5+0x114d);else{const _0x5b65d5=new Pm(_0x4293da,_0xe62f79['attributes'][_0x2ea376['name']],_0x4293da['pcUniformT'+'ype'][_0x2ea376['type']],_0x24d53e);this['attributes']['push'](_0x5b65d5);}}}const _0x1cd4ff=_0x4293da['_samplerTy'+'pes'],_0x1043bd=_0x3eff25['getProgram'+'Parameter'](_0x30b596,_0x3eff25['ACTIVE_UNI'+'FORMS']);for(let _0x26abc1=-0x1bbf*0x1+-0x7*-0x97+-0x2*-0xbcf;_0x26abc1<_0x1043bd;_0x26abc1++){const _0x2bd3ab=_0x3eff25['getActiveU'+'niform'](_0x30b596,_0x26abc1),_0x497ac2=_0x3eff25['getUniform'+'Location'](_0x30b596,_0x2bd3ab['name']),_0x132f05=new Pm(_0x4293da,_0x2bd3ab['name'],_0x4293da['pcUniformT'+'ype'][_0x2bd3ab['type']],_0x497ac2);_0x1cd4ff['has'](_0x2bd3ab['type'])?this['samplers']['push'](_0x132f05):this['uniforms']['push'](_0x132f05);}_0x37be6e['ready']=!(0x8f0+-0x168e+0xd9e);const _0x5a0a0c=ae();return _0x4293da['fire']('shader:lin'+'k:end',{'timestamp':_0x5a0a0c,'target':_0x4293da}),_0x4293da['_shaderSta'+'ts']['compileTim'+'e']+=_0x5a0a0c-_0x418b84,b['call'](()=>{const _0x37e1ce=ae()-_0x5252c5;this['compileDur'+'ation']+=_0x37e1ce,Rm+=this['compileDur'+'ation'],b['trace'](Yx,'[id:\x20'+_0x37be6e['id']+']\x20'+_0x37be6e['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x43c*0x7+0x860+0x1*-0x2603)+('ms,\x20TOTAL:'+'\x20')+Rm['toFixed'](-0x2b*-0xb0+0x1*-0x1357+-0xa38)+'ms');}),!(-0x25a+-0x1fbd+0x2217);}['_isCompile'+'d'](_0x90800c,_0x138e8b,_0x21fb11,_0xc60bda,_0x287974){const _0x5694b4=_0x90800c['gl'];if(!_0x5694b4['getShaderP'+'arameter'](_0x21fb11,_0x5694b4['COMPILE_ST'+'ATUS'])){const _0x21a409=_0x5694b4['getShaderI'+'nfoLog'](_0x21fb11),[_0x1429cf,_0x6e4898]=this['_processEr'+'ror'](_0xc60bda,_0x21a409),_0x1b0148='Failed\x20to\x20'+'compile\x20'+_0x287974+'\x20shader:\x0a\x0a'+_0x21a409+'\x0a'+_0x1429cf+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x6e4898['shader']=_0x138e8b,console['error'](_0x1b0148,_0x6e4898),console['error'](_0x1b0148),!(0x1b11+0x12*-0x8d+-0x1126);}return!(-0x5d5*-0x1+0x72a+-0xcff);}['isLinked'](_0x20a092){const {extParallelShaderCompile:_0x58e479}=_0x20a092;return _0x58e479?_0x20a092['gl']['getProgram'+'Parameter'](this['glProgram'],_0x58e479['COMPLETION'+'_STATUS_KH'+'R']):!(0x1*0x1a34+-0x2*-0x581+0xb*-0x362);}['_processEr'+'ror'](_0x3d68b7,_0x1b2719){const _0x6fa13={};let _0x55b2c0='';if(_0x3d68b7){const _0x49df7a=_0x3d68b7['split']('\x0a');let _0x5e1dd7=0x11e*-0x12+-0x38c*-0x7+0x1*-0x4b8,_0x11865e=_0x49df7a['length'];if(_0x1b2719&&_0x1b2719['startsWith']('ERROR:')){const _0x175754=_0x1b2719['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x175754&&(_0x6fa13['message']=_0x175754[0x26f7+0x1*0x616+0x902*-0x5],_0x6fa13['line']=parseInt(_0x175754[-0x188c+0x1189+0x1*0x705],-0x1efb*0x1+-0x16cc+0x17*0x257),_0x5e1dd7=Math['max'](-0x2709+-0x1*0x151+0x285a,_0x6fa13['line']-(-0x50d*-0x2+-0x18bd+0x1*0xea9)),_0x11865e=Math['min'](_0x49df7a['length'],_0x6fa13['line']+(-0xe9f+-0x58a+0x142e)));}for(let _0x2e0290=_0x5e1dd7;_0x2e0290<_0x11865e;_0x2e0290++)_0x55b2c0+=_0x2e0290+(-0xf54+-0xe3b*0x1+0x1d90)+':\x09'+_0x49df7a[_0x2e0290]+'\x0a';_0x6fa13['source']=_0x3d68b7;}return[_0x55b2c0,_0x6fa13];}}function Im(_0x189d72,_0x1369e0){const _0x447aa6=_0x189d72['width'],_0x3c6139=_0x189d72['height'];if(_0x447aa6>_0x1369e0||_0x3c6139>_0x1369e0){const _0x5cc60f=_0x1369e0/Math['max'](_0x447aa6,_0x3c6139),_0x512a10=Math['floor'](_0x447aa6*_0x5cc60f),_0x321c1c=Math['floor'](_0x3c6139*_0x5cc60f);b['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x1369e0+('.\x20Resizing'+'\x20from\x20')+_0x447aa6+',\x20'+_0x3c6139+'\x20to\x20'+_0x512a10+',\x20'+_0x321c1c+'.');const _0xd37be7=document['createElem'+'ent']('canvas');return _0xd37be7['width']=_0x512a10,_0xd37be7['height']=_0x321c1c,_0xd37be7['getContext']('2d')['drawImage'](_0x189d72,0x11e4+0xf+-0x11f3,0x3*-0x19c+-0x1*-0x1fb5+-0x1ae1,_0x447aa6,_0x3c6139,-0x1577+0x2*-0x2c2+0x1afb,-0x1122+0x1e04+-0xce2,_0x512a10,_0x321c1c),_0xd37be7;}return _0x189d72;}class hb{constructor(_0x5a78c2){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0x1e46+-0x1923+0x3769),this['texture']=_0x5a78c2;}['destroy'](_0x4085ca){if(this['_glTexture']){for(let _0x4aa75f=0x1890+-0x69*0x3c+0xc;_0x4aa75f<_0x4085ca['textureUni'+'ts']['length'];_0x4aa75f++){const _0x3e8dfb=_0x4085ca['textureUni'+'ts'][_0x4aa75f];for(let _0x676314=-0x2b5+-0x1*-0xe61+-0xbac;_0x676314<_0x3e8dfb['length'];_0x676314++)_0x3e8dfb[_0x676314]===this['_glTexture']&&(_0x3e8dfb[_0x676314]=null);}_0x4085ca['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x4fe306){this['dirtyParam'+'eterFlags']|=_0x4fe306;}['initialize'](_0x4f1324,_0x3ac2fd){const _0x46fa18=_0x4f1324['gl'];switch(this['_glTexture']=_0x46fa18['createText'+'ure'](),this['_glTarget']=_0x3ac2fd['_cubemap']?_0x46fa18['TEXTURE_CU'+'BE_MAP']:_0x3ac2fd['_volume']?_0x46fa18['TEXTURE_3D']:_0x3ac2fd['array']?_0x46fa18['TEXTURE_2D'+'_ARRAY']:_0x46fa18['TEXTURE_2D'],_0x3ac2fd['_format']){case py:this['_glFormat']=_0x46fa18['ALPHA'],this['_glInterna'+'lFormat']=_0x46fa18['ALPHA'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case my:this['_glFormat']=_0x46fa18['LUMINANCE'],this['_glInterna'+'lFormat']=_0x46fa18['LUMINANCE'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case Vf:this['_glFormat']=_0x46fa18['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x46fa18['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x46fa18['RED'],this['_glInterna'+'lFormat']=_0x46fa18['R8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case op:this['_glFormat']=_0x46fa18['RG'],this['_glInterna'+'lFormat']=_0x46fa18['RG8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case vc:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x46fa18['RGB'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT_5_6_5'];break;case Gf:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case bc:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case ur:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x46fa18['RGB8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case Te:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case xy:case wy:b['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case wc:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case Hf:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Yo:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case Cc:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case Ko:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Zo:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case Mc:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Pc:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case $f:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case qf:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case _y:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case gy:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case yy:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case Ty:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ay:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x4f1324['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ey:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case xu:this['_glFormat']=_0x46fa18['SRGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case Su:this['_glFormat']=_0x46fa18['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case vu:this['_glFormat']=_0x46fa18['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case bu:this['_glFormat']=_0x46fa18['SRGB'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case wu:this['_glFormat']=_0x46fa18['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Tu:this['_glFormat']=_0x46fa18['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x4f1324['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Au:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x4f1324['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case xa:this['_glFormat']=_0x46fa18['RED'],this['_glInterna'+'lFormat']=_0x46fa18['R16F'],this['_glPixelTy'+'pe']=_0x46fa18['HALF_FLOAT'];break;case np:this['_glFormat']=_0x46fa18['RG'],this['_glInterna'+'lFormat']=_0x46fa18['RG16F'],this['_glPixelTy'+'pe']=_0x46fa18['HALF_FLOAT'];break;case Tc:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x46fa18['RGB16F'],this['_glPixelTy'+'pe']=_0x46fa18['HALF_FLOAT'];break;case it:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA16F'],this['_glPixelTy'+'pe']=_0x46fa18['HALF_FLOAT'];break;case Ac:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x46fa18['RGB32F'],this['_glPixelTy'+'pe']=_0x46fa18['FLOAT'];break;case et:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA32F'],this['_glPixelTy'+'pe']=_0x46fa18['FLOAT'];break;case Oi:this['_glFormat']=_0x46fa18['RED'],this['_glInterna'+'lFormat']=_0x46fa18['R32F'],this['_glPixelTy'+'pe']=_0x46fa18['FLOAT'];break;case Di:this['_glFormat']=_0x46fa18['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x46fa18['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x46fa18['FLOAT'];break;case ca:this['_glFormat']=_0x46fa18['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x46fa18['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT'];break;case Ec:this['_glFormat']=_0x46fa18['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x46fa18['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_I'+'NT_24_8'];break;case ya:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x46fa18['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Wf:this['_glFormat']=_0x46fa18['RGB'],this['_glInterna'+'lFormat']=_0x46fa18['SRGB8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case cs:this['_glFormat']=_0x46fa18['RGBA'],this['_glInterna'+'lFormat']=_0x46fa18['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case Xf:this['_glFormat']=_0x46fa18['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x46fa18['R8I'],this['_glPixelTy'+'pe']=_0x46fa18['BYTE'];break;case Sy:this['_glFormat']=_0x46fa18['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x46fa18['R8UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x46fa18['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x46fa18['R16I'],this['_glPixelTy'+'pe']=_0x46fa18['SHORT'];break;case Yf:this['_glFormat']=_0x46fa18['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x46fa18['R16UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x46fa18['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x46fa18['R32I'],this['_glPixelTy'+'pe']=_0x46fa18['INT'];break;case on:this['_glFormat']=_0x46fa18['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x46fa18['R32UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_I'+'NT'];break;case Zf:this['_glFormat']=_0x46fa18['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x46fa18['RG8I'],this['_glPixelTy'+'pe']=_0x46fa18['BYTE'];break;case vy:this['_glFormat']=_0x46fa18['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x46fa18['RG8UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case Qf:this['_glFormat']=_0x46fa18['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x46fa18['RG16I'],this['_glPixelTy'+'pe']=_0x46fa18['SHORT'];break;case Jf:this['_glFormat']=_0x46fa18['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x46fa18['RG16UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x46fa18['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x46fa18['RG32I'],this['_glPixelTy'+'pe']=_0x46fa18['INT'];break;case tp:this['_glFormat']=_0x46fa18['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x46fa18['RG32UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_I'+'NT'];break;case sp:this['_glFormat']=_0x46fa18['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA8I'],this['_glPixelTy'+'pe']=_0x46fa18['BYTE'];break;case by:this['_glFormat']=_0x46fa18['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA8UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x46fa18['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA16I'],this['_glPixelTy'+'pe']=_0x46fa18['SHORT'];break;case Rc:this['_glFormat']=_0x46fa18['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA16UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_S'+'HORT'];break;case rp:this['_glFormat']=_0x46fa18['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA32I'],this['_glPixelTy'+'pe']=_0x46fa18['INT'];break;case yt:this['_glFormat']=_0x46fa18['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x46fa18['RGBA32UI'],this['_glPixelTy'+'pe']=_0x46fa18['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x1bc8+-0x217b+-0x146c*-0x3);}['upload'](_0x3dec4f,_0x3af85f){b['assert'](_0x3af85f['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x3af85f);const _0x422f38=_0x3dec4f['gl'];if(!_0x3af85f['_needsUplo'+'ad']&&(_0x3af85f['_needsMipm'+'apsUpload']&&_0x3af85f['_mipmapsUp'+'loaded']||!_0x3af85f['pot']))return;let _0x1bec95=0x5db*0x5+-0xba5+-0x11a2,_0x5ebf01,_0x4d87fe;const _0x510c4f=_0x3af85f['numLevels'];for(_0x3af85f['array']&&_0x422f38['texStorage'+'3D'](_0x422f38['TEXTURE_2D'+'_ARRAY'],_0x510c4f,this['_glInterna'+'lFormat'],_0x3af85f['_width'],_0x3af85f['_height'],_0x3af85f['_arrayLeng'+'th']);_0x3af85f['_levels'][_0x1bec95]||_0x1bec95===-0x3*-0xc1+0x1*-0x131f+-0xd*-0x14c;){if(!_0x3af85f['_needsUplo'+'ad']&&_0x1bec95===0xd0c+-0x4e*0x34+0x2cc){_0x1bec95++;continue;}else{if(_0x1bec95&&(!_0x3af85f['_needsMipm'+'apsUpload']||!_0x3af85f['_mipmaps']))break;}if(_0x5ebf01=_0x3af85f['_levels'][_0x1bec95],_0x4d87fe=(-0x453*0x2+-0x114f+-0x19f6*-0x1)/Math['pow'](-0x17f8+0x7c4*-0x2+0x1a*0x185,_0x1bec95),_0x1bec95===-0x2*0x371+-0x8*0x2bd+0x1ccb&&!_0x3af85f['_compresse'+'d']&&!_0x3af85f['_integerFo'+'rmat']&&_0x3af85f['_levels']['length']<_0x510c4f&&(_0x422f38['generateMi'+'pmap'](this['_glTarget']),_0x3af85f['_mipmapsUp'+'loaded']=!(0x299*0xd+0xd8+0x229d*-0x1)),_0x3af85f['_cubemap']){let _0x14ef50;if(_0x3dec4f['_isBrowser'+'Interface'](_0x5ebf01[-0x1785+-0x164c+-0x25*-0x13d]))for(_0x14ef50=0x9d*-0x35+0xe32+0x124f;_0x14ef50<0x1794+-0x23d7+0xc49*0x1;_0x14ef50++){if(!_0x3af85f['_levelsUpd'+'ated'][-0xd21+0x1*-0x789+-0x211*-0xa][_0x14ef50])continue;let _0x50b289=_0x5ebf01[_0x14ef50];_0x3dec4f['_isImageBr'+'owserInter'+'face'](_0x50b289)&&(_0x50b289['width']>_0x3dec4f['maxCubeMap'+'Size']||_0x50b289['height']>_0x3dec4f['maxCubeMap'+'Size'])&&(_0x50b289=Im(_0x50b289,_0x3dec4f['maxCubeMap'+'Size']),_0x1bec95===0x19f1+-0x1d4a+0x1*0x359&&(_0x3af85f['_width']=_0x50b289['width'],_0x3af85f['_height']=_0x50b289['height'])),_0x3dec4f['setUnpackF'+'lipY'](!(0x4c*0x7a+-0x122f+0x8*-0x241)),_0x3dec4f['setUnpackP'+'remultiply'+'Alpha'](_0x3af85f['_premultip'+'lyAlpha']),this['_glCreated']?_0x422f38['texSubImag'+'e2D'](_0x422f38['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x14ef50,_0x1bec95,0x84+0x43*0x2b+-0xbc5,0x58f+-0x346+0xc3*-0x3,this['_glFormat'],this['_glPixelTy'+'pe'],_0x50b289):_0x422f38['texImage2D'](_0x422f38['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x14ef50,_0x1bec95,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x50b289);}else for(_0x4d87fe=(0x7*-0x14b+0x8a*0x2+0x3fd*0x2)/Math['pow'](-0x1ae1*0x1+0x9bc+0x1*0x1127,_0x1bec95),_0x14ef50=-0x88b+-0x1145*0x2+0x2b15;_0x14ef50<0x266*-0x4+0x50*0x32+-0x602;_0x14ef50++){if(!_0x3af85f['_levelsUpd'+'ated'][0x241*0xb+-0x1a*0x9+-0x17e1][_0x14ef50])continue;const _0x252cde=_0x5ebf01[_0x14ef50];_0x3af85f['_compresse'+'d']?this['_glCreated']&&_0x252cde?_0x422f38['compressed'+'TexSubImag'+'e2D'](_0x422f38['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x14ef50,_0x1bec95,-0x37*0x7a+0x5*0x1d+-0x1*-0x19a5,0x1*0x19bb+-0xad3+-0xee8,Math['max'](_0x3af85f['_width']*_0x4d87fe,0x1665+0x29*-0x47+-0xb05),Math['max'](_0x3af85f['_height']*_0x4d87fe,-0x1f64+-0x1b90+0x3af5),this['_glInterna'+'lFormat'],_0x252cde):_0x422f38['compressed'+'TexImage2D'](_0x422f38['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x14ef50,_0x1bec95,this['_glInterna'+'lFormat'],Math['max'](_0x3af85f['_width']*_0x4d87fe,-0x9a2+0x1*-0x117+0xaba),Math['max'](_0x3af85f['_height']*_0x4d87fe,-0x20f9+0x656+0x1aa4),-0xfcf*0x1+-0x1*-0x239b+-0x13cc,_0x252cde):(_0x3dec4f['setUnpackF'+'lipY'](!(-0x2*-0x128c+-0x1254*-0x1+-0x376b*0x1)),_0x3dec4f['setUnpackP'+'remultiply'+'Alpha'](_0x3af85f['_premultip'+'lyAlpha']),this['_glCreated']&&_0x252cde?_0x422f38['texSubImag'+'e2D'](_0x422f38['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x14ef50,_0x1bec95,-0x49f*0x2+-0x19*-0xc8+0x36e*-0x3,0xf1*0x29+0x1e19+-0x44b2,Math['max'](_0x3af85f['_width']*_0x4d87fe,0x14a7+0x1d45+-0x31eb),Math['max'](_0x3af85f['_height']*_0x4d87fe,0x3*-0xcd4+0x1bec*0x1+-0x21d*-0x5),this['_glFormat'],this['_glPixelTy'+'pe'],_0x252cde):_0x422f38['texImage2D'](_0x422f38['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x14ef50,_0x1bec95,this['_glInterna'+'lFormat'],Math['max'](_0x3af85f['_width']*_0x4d87fe,-0x2*0xebd+0x1fd5+-0x25a),Math['max'](_0x3af85f['_height']*_0x4d87fe,-0x19ed+0x1d09+-0x5*0x9f),0x22f6*-0x1+0x2*0x2b3+0x1d90,this['_glFormat'],this['_glPixelTy'+'pe'],_0x252cde));}}else{if(_0x3af85f['_volume'])_0x3af85f['_compresse'+'d']?_0x422f38['compressed'+'TexImage3D'](_0x422f38['TEXTURE_3D'],_0x1bec95,this['_glInterna'+'lFormat'],Math['max'](_0x3af85f['_width']*_0x4d87fe,0x2656+-0x173c+0xf19*-0x1),Math['max'](_0x3af85f['_height']*_0x4d87fe,-0x1*-0x191+0x4*-0x2dd+0x9e4),Math['max'](_0x3af85f['_depth']*_0x4d87fe,0x265e+-0x4f1*0x1+0xba*-0x2e),-0x139a+-0x10f6+-0x2d0*-0xd,_0x5ebf01):(_0x3dec4f['setUnpackF'+'lipY'](!(-0x2223+-0xeb0+-0x9c4*-0x5)),_0x3dec4f['setUnpackP'+'remultiply'+'Alpha'](_0x3af85f['_premultip'+'lyAlpha']),_0x422f38['texImage3D'](_0x422f38['TEXTURE_3D'],_0x1bec95,this['_glInterna'+'lFormat'],Math['max'](_0x3af85f['_width']*_0x4d87fe,0x1*0x48d+-0x20a2+0x1c16),Math['max'](_0x3af85f['_height']*_0x4d87fe,-0x1*-0x1eb1+-0x215e+-0x2ae*-0x1),Math['max'](_0x3af85f['_depth']*_0x4d87fe,0x18eb+-0x321+-0x15c9),0x48+-0x22d6+-0x1*-0x228e,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ebf01));else{if(_0x3af85f['array']&&typeof _0x5ebf01=='object'){if(_0x3af85f['_arrayLeng'+'th']===_0x5ebf01['length']){if(_0x3af85f['_compresse'+'d']){for(let _0x5f4c39=0x3*-0x3bf+-0xfa*0x1e+-0x9*-0x481;_0x5f4c39<_0x3af85f['_arrayLeng'+'th'];_0x5f4c39++)_0x422f38['compressed'+'TexSubImag'+'e3D'](_0x422f38['TEXTURE_2D'+'_ARRAY'],_0x1bec95,0x51c+-0x3b*0x17+0x1*0x31,0x55+-0x1*-0x1097+-0x72*0x26,_0x5f4c39,Math['max'](Math['floor'](_0x3af85f['_width']*_0x4d87fe),0x1*0x1ac1+0x14d+-0x1c0d),Math['max'](Math['floor'](_0x3af85f['_height']*_0x4d87fe),-0x232f+-0x1*0x1859+0x3b89),-0x1*0xbc6+-0xedc+0x1aa3,this['_glInterna'+'lFormat'],_0x5ebf01[_0x5f4c39]);}else{for(let _0x80cc5b=-0xe12+0x19e3*0x1+-0xbd1;_0x80cc5b<_0x3af85f['_arrayLeng'+'th'];_0x80cc5b++)_0x422f38['texSubImag'+'e3D'](_0x422f38['TEXTURE_2D'+'_ARRAY'],_0x1bec95,-0xfa3+-0xc4*0x6+0x143b*0x1,0xdb1+-0x96d+-0x444,_0x80cc5b,Math['max'](Math['floor'](_0x3af85f['_width']*_0x4d87fe),-0x2219+-0x1fc9+-0x41e3*-0x1),Math['max'](Math['floor'](_0x3af85f['_height']*_0x4d87fe),0x1882+-0x37b+-0x1506),0x1448+0x8d*0x1+-0x7c*0x2b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ebf01[_0x80cc5b]);}}}else{if(_0x3dec4f['_isBrowser'+'Interface'](_0x5ebf01)){_0x3dec4f['_isImageBr'+'owserInter'+'face'](_0x5ebf01)&&(_0x5ebf01['width']>_0x3dec4f['maxTexture'+'Size']||_0x5ebf01['height']>_0x3dec4f['maxTexture'+'Size'])&&(_0x5ebf01=Im(_0x5ebf01,_0x3dec4f['maxTexture'+'Size']),_0x1bec95===0x8d8+0x9aa*-0x4+0xd4*0x24&&(_0x3af85f['_width']=_0x5ebf01['width'],_0x3af85f['_height']=_0x5ebf01['height']));const _0x33a183=_0x5ebf01['width']||_0x5ebf01['videoWidth'],_0x229abf=_0x5ebf01['height']||_0x5ebf01['videoHeigh'+'t'];_0x3dec4f['setUnpackF'+'lipY'](_0x3af85f['_flipY']),_0x3dec4f['setUnpackP'+'remultiply'+'Alpha'](_0x3af85f['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3af85f['_width']===_0x33a183&&_0x3af85f['_height']===_0x229abf&&!_0x3dec4f['_isImageVi'+'deoInterfa'+'ce'](_0x5ebf01)?_0x422f38['texSubImag'+'e2D'](_0x422f38['TEXTURE_2D'],_0x1bec95,0x127d+-0x33d+0x10*-0xf4,-0x127+-0x1*-0xef2+-0xdcb,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ebf01):(_0x422f38['texImage2D'](_0x422f38['TEXTURE_2D'],_0x1bec95,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ebf01),_0x1bec95===-0x1dbf+-0x29*-0x29+0x56*0x45&&(_0x3af85f['_width']=_0x33a183,_0x3af85f['_height']=_0x229abf));}else _0x4d87fe=(-0x2*-0x12f9+-0xa*-0x31f+-0x7af*0x9)/Math['pow'](-0x1984+0x7*0x187+-0xed5*-0x1,_0x1bec95),_0x3af85f['_compresse'+'d']?this['_glCreated']&&_0x5ebf01?_0x422f38['compressed'+'TexSubImag'+'e2D'](_0x422f38['TEXTURE_2D'],_0x1bec95,-0x3fb*0x1+0x1*0x6f1+-0x2f6,0x19c3+0x1*0x39+0xcfe*-0x2,Math['max'](Math['floor'](_0x3af85f['_width']*_0x4d87fe),-0x1*-0x22ff+-0x7*-0x97+0x5*-0x7d3),Math['max'](Math['floor'](_0x3af85f['_height']*_0x4d87fe),0xe3*0x1d+-0x65*0x2b+-0x8bf),this['_glInterna'+'lFormat'],_0x5ebf01):_0x422f38['compressed'+'TexImage2D'](_0x422f38['TEXTURE_2D'],_0x1bec95,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x3af85f['_width']*_0x4d87fe),0x26fc+-0xe9*0xd+-0x1b26),Math['max'](Math['floor'](_0x3af85f['_height']*_0x4d87fe),-0x15e4+0x1*-0x1623+0x581*0x8),-0x1*-0x127+-0x4*-0x77+0x3*-0x101,_0x5ebf01):(_0x3dec4f['setUnpackF'+'lipY'](!(-0x1c5f+-0x1883+0x34e3)),_0x3dec4f['setUnpackP'+'remultiply'+'Alpha'](_0x3af85f['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5ebf01?_0x422f38['texSubImag'+'e2D'](_0x422f38['TEXTURE_2D'],_0x1bec95,-0x1505+0xbc4+0x941,-0x1e19+0xdc7+0x1052*0x1,Math['max'](_0x3af85f['_width']*_0x4d87fe,-0x1d66+-0x231d+0x2042*0x2),Math['max'](_0x3af85f['_height']*_0x4d87fe,-0x10f1+0x236a+-0x1278),this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ebf01):_0x422f38['texImage2D'](_0x422f38['TEXTURE_2D'],_0x1bec95,this['_glInterna'+'lFormat'],Math['max'](_0x3af85f['_width']*_0x4d87fe,0x16f*-0x1b+-0x7*-0x14b+0x1da9),Math['max'](_0x3af85f['_height']*_0x4d87fe,0x110e*0x1+-0x96*-0x7+-0x5f*0x39),-0x247f*-0x1+-0x19b2+-0x18b*0x7,this['_glFormat'],this['_glPixelTy'+'pe'],_0x5ebf01));_0x1bec95===0x201f+-0x12*0x4a+-0x1aeb?_0x3af85f['_mipmapsUp'+'loaded']=!(0xd10*0x1+-0x37*0x94+-0xd*-0x171):_0x3af85f['_mipmapsUp'+'loaded']=!(0x1*0x265b+-0x435+-0x2226);}}}_0x1bec95++;}if(_0x3af85f['_needsUplo'+'ad']){if(_0x3af85f['_cubemap']){for(let _0xdc81c4=-0xf*-0x131+-0x796*-0x4+-0x3037;_0xdc81c4<0x1*0xea4+0x2601+0x1*-0x349f;_0xdc81c4++)_0x3af85f['_levelsUpd'+'ated'][-0x1775+-0x8*-0x46c+-0xbeb][_0xdc81c4]=!(0x13c8+0x1f*0xdf+-0x1764*0x2);}else _0x3af85f['_levelsUpd'+'ated'][-0x1*0x82+-0x49*0x7+0x281*0x1]=!(-0x15*-0xca+-0x7*0x1de+0xb3*-0x5);}!_0x3af85f['_compresse'+'d']&&!_0x3af85f['_integerFo'+'rmat']&&_0x3af85f['_mipmaps']&&_0x3af85f['_needsMipm'+'apsUpload']&&_0x3af85f['_levels']['length']===-0x1704+-0x1ff+0x1904&&(_0x422f38['generateMi'+'pmap'](this['_glTarget']),_0x3af85f['_mipmapsUp'+'loaded']=!(0x213a+0xd0f*0x1+0x2e49*-0x1)),_0x3af85f['_gpuSize']&&_0x3af85f['adjustVram'+'SizeTracki'+'ng'](_0x3dec4f['_vram'],-_0x3af85f['_gpuSize']),_0x3af85f['_gpuSize']=_0x3af85f['gpuSize'],_0x3af85f['adjustVram'+'SizeTracki'+'ng'](_0x3dec4f['_vram'],_0x3af85f['_gpuSize']),this['_glCreated']=!(-0xd2c+0x2*-0x4e0+0x16ec);}['read'](_0x57918b,_0x191245,_0x1bc648,_0x27a60d,_0x125e79){const _0x361586=this['texture'];return _0x361586['device']['readTextur'+'eAsync'](_0x361586,_0x57918b,_0x191245,_0x1bc648,_0x27a60d,_0x125e79);}}class cb{constructor(_0x19745c,_0x218a4d){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x19745c,this['resolveFB']=_0x218a4d);}['destroy'](_0x380e01){this['msaaFB']&&(_0x380e01['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x380e01['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x100f+0xe*-0x2f+-0x212*-0x9));}['destroy'](_0x27d632){var _0x167526;const _0x98ec0c=_0x27d632['gl'];this['_isInitial'+'ized']=!(0x1*-0x359+0x2dc*0x6+0x3*-0x49a),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x98ec0c['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x98ec0c['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x98ec0c['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x10eabe=>{_0x98ec0c['deleteRend'+'erbuffer'](_0x10eabe);}),this['_glMsaaCol'+'orBuffers']['length']=-0x1*-0xad1+0x2*0x1063+-0x2b97,(_0x167526=this['colorMrtFr'+'amebuffers'])==null||_0x167526['forEach'](_0x147cbb=>{_0x147cbb['destroy'](_0x98ec0c);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&dd(_0x27d632)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x1*0x220a+-0xe6e+0xa*-0x1f6);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x169207,_0xa5724a){var _0x2cc982,_0x26ab18;const _0x1009bc=_0x169207['gl'];b['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0xe63*-0x1+-0x171e+0x5*0x1bf);const _0x5ab315=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x227f*-0x1+0x2*-0x1074+0x253*0x1d))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{b['call'](()=>{(_0xa5724a['width']<=-0x1c1e+0x1c61+0x43*-0x1||_0xa5724a['height']<=0x2*-0x49+0x68d+-0x5fb)&&b['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0xa5724a['width']+'\x20x\x20'+_0xa5724a['height'],_0xa5724a);}),this['_glFrameBu'+'ffer']=_0x1009bc['createFram'+'ebuffer'](),_0x169207['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1faaae=((_0x2cc982=_0xa5724a['_colorBuff'+'ers'])==null?void(-0x188*-0x17+-0x18f7+-0x20d*0x5):_0x2cc982['length'])??0x10ef+-0x1836+0x747,_0x369d5c=_0x1009bc['COLOR_ATTA'+'CHMENT0'];for(let _0x4c0a75=-0x5b+0x1a60+-0x1a05*0x1;_0x4c0a75<_0x1faaae;++_0x4c0a75){const _0x47d5ca=_0xa5724a['getColorBu'+'ffer'](_0x4c0a75);_0x47d5ca&&(_0x47d5ca['impl']['_glTexture']||(_0x47d5ca['_width']=Math['min'](_0x47d5ca['width'],_0x169207['maxRenderB'+'ufferSize']),_0x47d5ca['_height']=Math['min'](_0x47d5ca['height'],_0x169207['maxRenderB'+'ufferSize']),_0x169207['setTexture'](_0x47d5ca,0x2*0x865+-0x15c5*-0x1+-0x268f)),_0x1009bc['framebuffe'+'rTexture2D'](_0x1009bc['FRAMEBUFFE'+'R'],_0x369d5c+_0x4c0a75,_0x47d5ca['_cubemap']?_0x1009bc['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xa5724a['_face']:_0x1009bc['TEXTURE_2D'],_0x47d5ca['impl']['_glTexture'],_0xa5724a['mipLevel']),_0x5ab315['push'](_0x369d5c+_0x4c0a75));}_0x1009bc['drawBuffer'+'s'](_0x5ab315);const _0x25e05c=_0xa5724a['_depthBuff'+'er'];if(_0x25e05c||_0xa5724a['_depth']){const _0x3b4f03=_0xa5724a['_stencil']?_0x1009bc['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x1009bc['DEPTH_ATTA'+'CHMENT'];if(_0x25e05c)_0x25e05c['impl']['_glTexture']||(_0x25e05c['_width']=Math['min'](_0x25e05c['width'],_0x169207['maxRenderB'+'ufferSize']),_0x25e05c['_height']=Math['min'](_0x25e05c['height'],_0x169207['maxRenderB'+'ufferSize']),_0x169207['setTexture'](_0x25e05c,0x245b+0x1*-0xa1+-0x23ba)),_0x1009bc['framebuffe'+'rTexture2D'](_0x1009bc['FRAMEBUFFE'+'R'],_0x3b4f03,_0x25e05c['_cubemap']?_0x1009bc['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0xa5724a['_face']:_0x1009bc['TEXTURE_2D'],_0xa5724a['_depthBuff'+'er']['impl']['_glTexture'],_0xa5724a['mipLevel']);else{if(!(_0xa5724a['_samples']>0x1*-0x8ed+0x3*-0xc73+0x2e47)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x1009bc['createRend'+'erbuffer']());const _0x3fff48=_0xa5724a['_stencil']?_0x1009bc['DEPTH24_ST'+'ENCIL8']:_0x1009bc['DEPTH_COMP'+'ONENT32F'];_0x1009bc['bindRender'+'buffer'](_0x1009bc['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x1009bc['renderbuff'+'erStorage'](_0x1009bc['RENDERBUFF'+'ER'],_0x3fff48,_0xa5724a['width'],_0xa5724a['height']),_0x1009bc['framebuffe'+'rRenderbuf'+'fer'](_0x1009bc['FRAMEBUFFE'+'R'],_0x3b4f03,_0x1009bc['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x1009bc['bindRender'+'buffer'](_0x1009bc['RENDERBUFF'+'ER'],null);}}}b['call'](()=>this['_checkFbo'](_0x169207,_0xa5724a));}if(_0xa5724a['_samples']>0x243b+0xa9b+-0x277*0x13){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x1009bc['createFram'+'ebuffer'](),_0x169207['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x24aa08=((_0x26ab18=_0xa5724a['_colorBuff'+'ers'])==null?void(-0x370+0x231e+-0x1fae):_0x26ab18['length'])??-0x1b*-0x31+-0x23a7+0x1e7c;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0x1d4f+0x11*0x5+-0x1da4)){const _0x539c14=_0x1009bc['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x539c14);const _0xc3530c=_0x169207['backBuffer'+'Format']===Te?_0x1009bc['RGBA8']:_0x1009bc['RGB8'];_0x1009bc['bindRender'+'buffer'](_0x1009bc['RENDERBUFF'+'ER'],_0x539c14),_0x1009bc['renderbuff'+'erStorageM'+'ultisample'](_0x1009bc['RENDERBUFF'+'ER'],_0xa5724a['_samples'],_0xc3530c,_0xa5724a['width'],_0xa5724a['height']),_0x1009bc['framebuffe'+'rRenderbuf'+'fer'](_0x1009bc['FRAMEBUFFE'+'R'],_0x1009bc['COLOR_ATTA'+'CHMENT0'],_0x1009bc['RENDERBUFF'+'ER'],_0x539c14);}else for(let _0x53c569=0x26d7+0x8c3+-0x17cd*0x2;_0x53c569<_0x24aa08;++_0x53c569){const _0x4df80c=_0xa5724a['getColorBu'+'ffer'](_0x53c569);if(_0x4df80c){const _0x505af0=_0x1009bc['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x505af0),_0x1009bc['bindRender'+'buffer'](_0x1009bc['RENDERBUFF'+'ER'],_0x505af0),_0x1009bc['renderbuff'+'erStorageM'+'ultisample'](_0x1009bc['RENDERBUFF'+'ER'],_0xa5724a['_samples'],_0x4df80c['impl']['_glInterna'+'lFormat'],_0xa5724a['width'],_0xa5724a['height']),_0x1009bc['framebuffe'+'rRenderbuf'+'fer'](_0x1009bc['FRAMEBUFFE'+'R'],_0x1009bc['COLOR_ATTA'+'CHMENT0']+_0x53c569,_0x1009bc['RENDERBUFF'+'ER'],_0x505af0);}}if(_0xa5724a['_depth']){b['assert'](!this['_glMsaaDep'+'thBuffer']);const _0xdc8a89=_0xa5724a['_stencil']?_0x1009bc['DEPTH24_ST'+'ENCIL8']:_0x1009bc['DEPTH_COMP'+'ONENT32F'],_0x495099=_0xa5724a['_stencil']?_0x1009bc['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x1009bc['DEPTH_ATTA'+'CHMENT'];let _0xbbf08f;const _0x10af8b=_0xa5724a['_depthBuff'+'er'];_0x10af8b&&(_0xbbf08f=_0x10af8b['id']+':'+_0xa5724a['width']+':'+_0xa5724a['height']+':'+_0xa5724a['_samples']+':'+_0xdc8a89+':'+_0x495099,this['_glMsaaDep'+'thBuffer']=dd(_0x169207)['get'](_0xbbf08f)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x1009bc['createRend'+'erbuffer'](),_0x1009bc['bindRender'+'buffer'](_0x1009bc['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x1009bc['renderbuff'+'erStorageM'+'ultisample'](_0x1009bc['RENDERBUFF'+'ER'],_0xa5724a['_samples'],_0xdc8a89,_0xa5724a['width'],_0xa5724a['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x1009bc['deleteRend'+'erbuffer'](this);},_0x10af8b&&dd(_0x169207)['set'](_0xbbf08f,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0xbbf08f,_0x1009bc['framebuffe'+'rRenderbuf'+'fer'](_0x1009bc['FRAMEBUFFE'+'R'],_0x495099,_0x1009bc['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}b['call'](()=>this['_checkFbo'](_0x169207,_0xa5724a,'MSAA')),_0x24aa08>0x227a+-0xb4b+-0x3dd*0x6&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x169207,_0xa5724a,_0x24aa08),_0x169207['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x1009bc['drawBuffer'+'s'](_0x5ab315));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0xef9fe7,_0x138c8d,_0x15e010){const _0x3bbc74=_0xef9fe7['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x3f29ae=-0x236a+0xbbc+-0x17ae*-0x1;_0x3f29ae<_0x15e010;++_0x3f29ae){const _0x27c4d2=_0x138c8d['getColorBu'+'ffer'](_0x3f29ae),_0x366298=_0x3bbc74['createFram'+'ebuffer']();_0xef9fe7['setFramebu'+'ffer'](_0x366298);const _0x2bb402=this['_glMsaaCol'+'orBuffers'][_0x3f29ae];_0x3bbc74['bindRender'+'buffer'](_0x3bbc74['RENDERBUFF'+'ER'],_0x2bb402),_0x3bbc74['renderbuff'+'erStorageM'+'ultisample'](_0x3bbc74['RENDERBUFF'+'ER'],_0x138c8d['_samples'],_0x27c4d2['impl']['_glInterna'+'lFormat'],_0x138c8d['width'],_0x138c8d['height']),_0x3bbc74['framebuffe'+'rRenderbuf'+'fer'](_0x3bbc74['FRAMEBUFFE'+'R'],_0x3bbc74['COLOR_ATTA'+'CHMENT0'],_0x3bbc74['RENDERBUFF'+'ER'],_0x2bb402),_0x3bbc74['drawBuffer'+'s']([_0x3bbc74['COLOR_ATTA'+'CHMENT0']]),b['call'](()=>this['_checkFbo'](_0xef9fe7,_0x138c8d,'MSAA-MRT-s'+'rc'+_0x3f29ae));const _0x586d54=_0x3bbc74['createFram'+'ebuffer']();_0xef9fe7['setFramebu'+'ffer'](_0x586d54),_0x3bbc74['framebuffe'+'rTexture2D'](_0x3bbc74['FRAMEBUFFE'+'R'],_0x3bbc74['COLOR_ATTA'+'CHMENT0'],_0x27c4d2['_cubemap']?_0x3bbc74['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x138c8d['_face']:_0x3bbc74['TEXTURE_2D'],_0x27c4d2['impl']['_glTexture'],-0x35c+0x1b95+-0x1839),this['colorMrtFr'+'amebuffers'][_0x3f29ae]=new cb(_0x366298,_0x586d54),b['call'](()=>this['_checkFbo'](_0xef9fe7,_0x138c8d,'MSAA-MRT-d'+'st'+_0x3f29ae));}}['_checkFbo'](_0x3d808d,_0x26346d,_0x299c85=''){const _0x15e17a=_0x3d808d['gl'],_0x4ba4f8=_0x15e17a['checkFrame'+'bufferStat'+'us'](_0x15e17a['FRAMEBUFFE'+'R']);let _0x4abd60;switch(_0x4ba4f8){case _0x15e17a['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x4abd60='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x15e17a['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x4abd60='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x15e17a['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x4abd60='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x15e17a['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x4abd60='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}b['assert'](!_0x4abd60,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x4abd60+(',\x20render\x20t'+'arget:\x20')+_0x26346d['name']+'\x20'+_0x299c85,_0x26346d);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x9*0x243+0x1915*0x1+-0x1*0x4ba,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x12e0+0x6ff+-0xbe1*-0x1),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x1*-0xbe6+0x12bf+0x6d9*-0x1),this['_isInitial'+'ized']=!(-0x859*-0x1+0x1*-0x2497+-0x1*-0x1c3f);}['internalRe'+'solve'](_0x193a6f,_0x4b87a5,_0x5b05c2,_0x28489a,_0x272408){b['assert'](_0x4b87a5!==_0x5b05c2,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x193a6f['setScissor'](-0x2408*-0x1+0x176*-0x1+-0x2292,0x4*0x883+-0x172+-0xade*0x3,_0x28489a['width'],_0x28489a['height']);const _0x1ada39=_0x193a6f['gl'];_0x1ada39['bindFrameb'+'uffer'](_0x1ada39['READ_FRAME'+'BUFFER'],_0x4b87a5),_0x1ada39['bindFrameb'+'uffer'](_0x1ada39['DRAW_FRAME'+'BUFFER'],_0x5b05c2),_0x1ada39['blitFrameb'+'uffer'](-0xa7*-0x1d+-0x284+-0x1067,-0x217+0x942+-0x72b,_0x28489a['width'],_0x28489a['height'],-0x1102+0x5c*0x3b+-0x432,0x1*0xe9f+-0xde+-0xdc1,_0x28489a['width'],_0x28489a['height'],_0x272408,_0x1ada39['NEAREST']);}['resolve'](_0x36a8f7,_0x146820,_0x5aa574,_0x205f73){const _0xc4a29c=_0x36a8f7['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x5aa574)for(let _0x15228a=0x3*-0x917+0x243b+-0x8f6;_0x15228a<this['colorMrtFr'+'amebuffers']['length'];_0x15228a++){const _0x49867a=this['colorMrtFr'+'amebuffers'][_0x15228a];G['pushGpuMar'+'ker'](_0x36a8f7,'RESOLVE-MR'+'T'+_0x15228a),this['internalRe'+'solve'](_0x36a8f7,_0x49867a['msaaFB'],_0x49867a['resolveFB'],_0x146820,_0xc4a29c['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x36a8f7);}_0x205f73&&(G['pushGpuMar'+'ker'](_0x36a8f7,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x36a8f7,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x146820,_0xc4a29c['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x36a8f7));}else G['pushGpuMar'+'ker'](_0x36a8f7,'RESOLVE'),this['internalRe'+'solve'](_0x36a8f7,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x146820,(_0x5aa574?_0xc4a29c['COLOR_BUFF'+'ER_BIT']:-0x15e3+0x172d+-0x3*0x6e)|(_0x205f73?_0xc4a29c['DEPTH_BUFF'+'ER_BIT']:0x895+-0x1ba2+-0x1*-0x130d)),G['popGpuMark'+'er'](_0x36a8f7);_0xc4a29c['bindFrameb'+'uffer'](_0xc4a29c['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x257062){this['queries']['forEach'](_0x4767ca=>_0x257062['deleteQuer'+'y'](_0x4767ca)),this['queries']=null;}}class fb extends tb{constructor(_0x94c124){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x94c124,this['ext']=_0x94c124['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x5da388=>this['device']['gl']['deleteQuer'+'y'](_0x5da388)),this['frameQueri'+'es']['forEach'](_0x362e91=>this['device']['gl']['deleteQuer'+'y'](_0x362e91)),this['previousFr'+'ameQueries']['forEach'](_0x41def3=>_0x41def3['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x51acd8){if(this['ext']){const _0xff98d3=this['getSlot'](_0x51acd8),_0xb7127a=this['getQuery']();return this['frameQueri'+'es'][_0xff98d3]=_0xb7127a,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0xb7127a),_0xff98d3;}}['end'](_0x360f6e){_0x360f6e!==void(-0xf32+-0x13*-0x11b+-0x5cf)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x15ce41=this['ext'],_0x213dda=this['device']['gl'],_0x33f0d9=this['device']['renderVers'+'ion'],_0x4c61b5=this['frameQueri'+'es'];if(_0x4c61b5['length']>0x1798+0x1090+-0x505*0x8){this['frameQueri'+'es']=[];const _0x443ff1=new ub();_0x443ff1['queries']=_0x4c61b5,_0x443ff1['renderVers'+'ion']=_0x33f0d9,this['previousFr'+'ameQueries']['push'](_0x443ff1);}if(this['previousFr'+'ameQueries']['length']>-0x225b+0x1bc8+0x9*0xbb){const _0x34ead7=this['previousFr'+'ameQueries'][0x1cd5+-0x255+0x80*-0x35],_0x1b44a3=_0x34ead7['queries'],_0x4b0791=_0x1b44a3[_0x1b44a3['length']-(-0x248e*-0x1+-0x11a1+-0x12ec)],_0x432eb2=_0x213dda['getQueryPa'+'rameter'](_0x4b0791,_0x213dda['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x112096=_0x213dda['getParamet'+'er'](_0x15ce41['GPU_DISJOI'+'NT_EXT']);if(_0x432eb2&&!_0x112096){this['previousFr'+'ameQueries']['shift']();const _0x1f8330=this['timings'];_0x1f8330['length']=0x2*-0x12f4+-0x43d*0x1+0x2a25;for(let _0x578f0a=-0x1ae5+0x46e*0x7+-0x41d;_0x578f0a<_0x1b44a3['length'];_0x578f0a++){const _0x31ea92=_0x1b44a3[_0x578f0a],_0x4a84f4=_0x213dda['getQueryPa'+'rameter'](_0x31ea92,_0x213dda['QUERY_RESU'+'LT']);_0x1f8330[_0x578f0a]=_0x4a84f4*(-0x120a+0x18ef*-0x1+0x2af9+0.000001),this['freeQuerie'+'s']['push'](_0x31ea92);}this['report'](_0x34ead7['renderVers'+'ion'],_0x1f8330);}_0x112096&&(this['previousFr'+'ameQueries']['forEach'](_0x1ba25b=>{this['report'](_0x1ba25b['renderVers'+'ion'],null),_0x1ba25b['destroy'](_0x213dda);}),this['previousFr'+'ameQueries']['length']=-0xa7*0x4+-0x50+0x2ec);}super['request'](_0x33f0d9);}}}const En=[];class pb extends zh{constructor(_0x4925fb,_0x270909={}){super(_0x4925fb,_0x270909),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x1*0x959+-0x1*0x243+0x3df*0x3)),(_0x270909=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(0x31c*-0x1+0x9*-0x14d+0xed2),this['_contextLo'+'stHandler']=_0xaf8a1=>{_0xaf8a1['preventDef'+'ault'](),this['loseContex'+'t'](),b['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{b['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x1c24e9=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x1c24e9&&_0x1c24e9['includes']('AppleWebKi'+'t')&&(_0x1c24e9['includes']('15.4')||_0x1c24e9['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x270909['antialias']=!(-0x12f3+0x209b+-0xda7),b['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),be['browserNam'+'e']==='firefox'){const _0x5eeb2e=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x52cb8a=_0x5eeb2e?_0x5eeb2e[-0x3c*-0x2f+-0x1*0x62c+-0x4d7]:null;if(_0x52cb8a){const _0x39104b=parseFloat(_0x52cb8a);(be['name']==='windows'&&(_0x39104b>=-0x18*-0x82+0xc17*0x3+-0x1b*0x1c7||_0x39104b===0x32d*-0x3+-0x101*0x6+0x1000)||be['name']==='android'&&_0x39104b>=0x27*-0xb7+0xa7b*-0x1+0x26e0)&&(_0x270909['antialias']=!(-0x351+0x1*0x13b8+-0x1*0x1066),b['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+be['name']+('\x20platform\x20'+'version\x20')+_0x52cb8a));}}this['backBuffer'+'Antialias']=_0x270909['antialias']??!(0x20d6+0x1e09+-0x3ede),_0x270909['antialias']=!(-0x1*0x1c62+-0x249b+0x15aa*0x3);const _0x25af27=_0x270909['gl']??_0x4925fb['getContext']('webgl2',_0x270909);if(!_0x25af27)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x25af27,this['isWebGL2']=!(0x1*-0xfb5+-0x1*-0x2141+-0x118c),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x14e840=be['browserNam'+'e']==='chrome',_0x5f48fd=be['browserNam'+'e']==='safari',_0x39c0b7=be['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x5*0x3e5+0x1ecf+-0xb55);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x5f48fd,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x39c0b7&&_0x14e840&&!_0x270909['alpha'],_0x4925fb['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x1*-0x101+0xc*-0x65+0x3bc)),_0x4925fb['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x352+0xb6f+-0x20*0x76)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x5f48fd&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x25af27['SAMPLER_2D'],_0x25af27['SAMPLER_CU'+'BE'],_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x25af27['INT_SAMPLE'+'R_2D'],_0x25af27['SAMPLER_2D'+'_SHADOW'],_0x25af27['SAMPLER_CU'+'BE_SHADOW'],_0x25af27['SAMPLER_3D'],_0x25af27['INT_SAMPLE'+'R_3D'],_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x25af27['SAMPLER_2D'+'_ARRAY'],_0x25af27['INT_SAMPLE'+'R_2D_ARRAY'],_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x25af27['REPEAT'],_0x25af27['CLAMP_TO_E'+'DGE'],_0x25af27['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x25af27['FUNC_ADD'],_0x25af27['FUNC_SUBTR'+'ACT'],_0x25af27['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x25af27['MIN'],_0x25af27['MAX']],this['glBlendFun'+'ctionColor']=[_0x25af27['ZERO'],_0x25af27['ONE'],_0x25af27['SRC_COLOR'],_0x25af27['ONE_MINUS_'+'SRC_COLOR'],_0x25af27['DST_COLOR'],_0x25af27['ONE_MINUS_'+'DST_COLOR'],_0x25af27['SRC_ALPHA'],_0x25af27['SRC_ALPHA_'+'SATURATE'],_0x25af27['ONE_MINUS_'+'SRC_ALPHA'],_0x25af27['DST_ALPHA'],_0x25af27['ONE_MINUS_'+'DST_ALPHA'],_0x25af27['CONSTANT_C'+'OLOR'],_0x25af27['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x25af27['ZERO'],_0x25af27['ONE'],_0x25af27['SRC_COLOR'],_0x25af27['ONE_MINUS_'+'SRC_COLOR'],_0x25af27['DST_COLOR'],_0x25af27['ONE_MINUS_'+'DST_COLOR'],_0x25af27['SRC_ALPHA'],_0x25af27['SRC_ALPHA_'+'SATURATE'],_0x25af27['ONE_MINUS_'+'SRC_ALPHA'],_0x25af27['DST_ALPHA'],_0x25af27['ONE_MINUS_'+'DST_ALPHA'],_0x25af27['CONSTANT_A'+'LPHA'],_0x25af27['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x25af27['NEVER'],_0x25af27['LESS'],_0x25af27['EQUAL'],_0x25af27['LEQUAL'],_0x25af27['GREATER'],_0x25af27['NOTEQUAL'],_0x25af27['GEQUAL'],_0x25af27['ALWAYS']],this['glStencilO'+'p']=[_0x25af27['KEEP'],_0x25af27['ZERO'],_0x25af27['REPLACE'],_0x25af27['INCR'],_0x25af27['INCR_WRAP'],_0x25af27['DECR'],_0x25af27['DECR_WRAP'],_0x25af27['INVERT']],this['glClearFla'+'g']=[-0x1b53+0x73*0x3+0x19fa,_0x25af27['COLOR_BUFF'+'ER_BIT'],_0x25af27['DEPTH_BUFF'+'ER_BIT'],_0x25af27['COLOR_BUFF'+'ER_BIT']|_0x25af27['DEPTH_BUFF'+'ER_BIT'],_0x25af27['STENCIL_BU'+'FFER_BIT'],_0x25af27['STENCIL_BU'+'FFER_BIT']|_0x25af27['COLOR_BUFF'+'ER_BIT'],_0x25af27['STENCIL_BU'+'FFER_BIT']|_0x25af27['DEPTH_BUFF'+'ER_BIT'],_0x25af27['STENCIL_BU'+'FFER_BIT']|_0x25af27['COLOR_BUFF'+'ER_BIT']|_0x25af27['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x1*0xd1d+-0xb2+0xdcf,_0x25af27['BACK'],_0x25af27['FRONT'],_0x25af27['FRONT_AND_'+'BACK']],this['glFilter']=[_0x25af27['NEAREST'],_0x25af27['LINEAR'],_0x25af27['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x25af27['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x25af27['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x25af27['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x25af27['POINTS'],_0x25af27['LINES'],_0x25af27['LINE_LOOP'],_0x25af27['LINE_STRIP'],_0x25af27['TRIANGLES'],_0x25af27['TRIANGLE_S'+'TRIP'],_0x25af27['TRIANGLE_F'+'AN']],this['glType']=[_0x25af27['BYTE'],_0x25af27['UNSIGNED_B'+'YTE'],_0x25af27['SHORT'],_0x25af27['UNSIGNED_S'+'HORT'],_0x25af27['INT'],_0x25af27['UNSIGNED_I'+'NT'],_0x25af27['FLOAT'],_0x25af27['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x25af27['BOOL']]=ua,this['pcUniformT'+'ype'][_0x25af27['INT']]=hn,this['pcUniformT'+'ype'][_0x25af27['FLOAT']]=Ks,this['pcUniformT'+'ype'][_0x25af27['FLOAT_VEC2']]=hr,this['pcUniformT'+'ype'][_0x25af27['FLOAT_VEC3']]=Qt,this['pcUniformT'+'ype'][_0x25af27['FLOAT_VEC4']]=ba,this['pcUniformT'+'ype'][_0x25af27['INT_VEC2']]=Qr,this['pcUniformT'+'ype'][_0x25af27['INT_VEC3']]=Jr,this['pcUniformT'+'ype'][_0x25af27['INT_VEC4']]=en,this['pcUniformT'+'ype'][_0x25af27['BOOL_VEC2']]=Bo,this['pcUniformT'+'ype'][_0x25af27['BOOL_VEC3']]=No,this['pcUniformT'+'ype'][_0x25af27['BOOL_VEC4']]=zo,this['pcUniformT'+'ype'][_0x25af27['FLOAT_MAT2']]=kh,this['pcUniformT'+'ype'][_0x25af27['FLOAT_MAT3']]=Uo,this['pcUniformT'+'ype'][_0x25af27['FLOAT_MAT4']]=wa,this['pcUniformT'+'ype'][_0x25af27['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x25af27['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT']]=Ta,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_VEC2']]=Aa,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_VEC3']]=Ea,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_VEC4']]=Ca,this['pcUniformT'+'ype'][_0x25af27['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x25af27['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x25af27['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x25af27['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x25af27['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x25af27['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x25af27['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x25af27['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x25af27['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x25af27['TEXTURE_2D']]=-0x187+-0x1a5+0x32c,this['targetToSl'+'ot'][_0x25af27['TEXTURE_CU'+'BE_MAP']]=0x14ff+0x12*-0x1c9+0xb24,this['targetToSl'+'ot'][_0x25af27['TEXTURE_3D']]=-0x1511+-0x2233+-0x5*-0xb0e;let _0x33b826,_0xcec4ce,_0x1f3db2,_0x3a8825,_0x50f0e4;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ua]=function(_0xab5efa,_0x7e9463){_0xab5efa['value']!==_0x7e9463&&(_0x25af27['uniform1i'](_0xab5efa['locationId'],_0x7e9463),_0xab5efa['value']=_0x7e9463);},this['commitFunc'+'tion'][hn]=this['commitFunc'+'tion'][ua],this['commitFunc'+'tion'][Ks]=function(_0x4dea91,_0x3b5caa){_0x4dea91['value']!==_0x3b5caa&&(_0x25af27['uniform1f'](_0x4dea91['locationId'],_0x3b5caa),_0x4dea91['value']=_0x3b5caa);},this['commitFunc'+'tion'][hr]=function(_0x374df0,_0x42f214){_0x50f0e4=_0x374df0['value'],_0x33b826=_0x42f214[0x5a8+0xca0+-0x1248],_0xcec4ce=_0x42f214[0xd63+-0x15f+-0xc03],(_0x50f0e4[0x2*0x966+-0x1*-0x1d14+-0x17f0*0x2]!==_0x33b826||_0x50f0e4[0x742*-0x2+-0x596*-0x1+0x8ef]!==_0xcec4ce)&&(_0x25af27['uniform2fv'](_0x374df0['locationId'],_0x42f214),_0x50f0e4[-0x1253+0xf*0x24b+-0x1012]=_0x33b826,_0x50f0e4[0x1bf1+0x13d+-0x1d2d]=_0xcec4ce);},this['commitFunc'+'tion'][Qt]=function(_0x39d535,_0x498526){_0x50f0e4=_0x39d535['value'],_0x33b826=_0x498526[0x331+0x1*-0x795+0x464],_0xcec4ce=_0x498526[0x47*-0x47+0xfa*0x23+0x19c*-0x9],_0x1f3db2=_0x498526[0x5*-0x376+0x14a1+-0x351],(_0x50f0e4[-0x1e40+0x1e6b*0x1+0x2b*-0x1]!==_0x33b826||_0x50f0e4[0x6*0x5bf+0x1*-0xf62+0x9*-0x21f]!==_0xcec4ce||_0x50f0e4[-0x21f0+-0xebd+0x67*0x79]!==_0x1f3db2)&&(_0x25af27['uniform3fv'](_0x39d535['locationId'],_0x498526),_0x50f0e4[-0x5*0x4b5+-0x1*0x68f+-0x786*-0x4]=_0x33b826,_0x50f0e4[-0x1*-0xfb3+-0x1*-0x25be+0x156*-0x28]=_0xcec4ce,_0x50f0e4[-0x23a3+-0x12*-0x4f+0x1e17]=_0x1f3db2);},this['commitFunc'+'tion'][ba]=function(_0x36183b,_0x40655e){_0x50f0e4=_0x36183b['value'],_0x33b826=_0x40655e[-0x76+-0x2*0xf50+0x1f16],_0xcec4ce=_0x40655e[-0x1*0xa82+0x1954+0xed1*-0x1],_0x1f3db2=_0x40655e[-0xe1b+-0xde6*-0x2+-0xdaf],_0x3a8825=_0x40655e[-0x1*-0x1df4+0x232+-0x2023],(_0x50f0e4[-0x137*-0xd+0x7f*0xc+0x15bf*-0x1]!==_0x33b826||_0x50f0e4[0x863+0x35*0x32+-0x12bc]!==_0xcec4ce||_0x50f0e4[-0x10c1+-0x2207+0x32ca]!==_0x1f3db2||_0x50f0e4[0x1*0x19a9+0x7*-0x353+-0x261]!==_0x3a8825)&&(_0x25af27['uniform4fv'](_0x36183b['locationId'],_0x40655e),_0x50f0e4[-0x1bd8+-0x6c3+-0x1*-0x229b]=_0x33b826,_0x50f0e4[0x197f+-0x3*-0x8df+-0x341b]=_0xcec4ce,_0x50f0e4[0x20f*0xd+0x1ba8+-0x3669]=_0x1f3db2,_0x50f0e4[-0x1177+0x184*-0x2+0x3*0x6d6]=_0x3a8825);},this['commitFunc'+'tion'][Qr]=function(_0x3f9820,_0x49e9d1){_0x50f0e4=_0x3f9820['value'],_0x33b826=_0x49e9d1[0x2a3+-0x9c7+0x1*0x724],_0xcec4ce=_0x49e9d1[0x15*0x106+-0x211c+0xb9f],(_0x50f0e4[-0x663*-0x5+-0x196c+-0x683]!==_0x33b826||_0x50f0e4[0x121c+-0x1ab0+-0xd*-0xa9]!==_0xcec4ce)&&(_0x25af27['uniform2iv'](_0x3f9820['locationId'],_0x49e9d1),_0x50f0e4[-0x4b2*0x1+0x2245+-0x1d93]=_0x33b826,_0x50f0e4[-0x266e+-0xa66+0x30d5]=_0xcec4ce);},this['commitFunc'+'tion'][Bo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x165158,_0x3b6f51){_0x50f0e4=_0x165158['value'],_0x33b826=_0x3b6f51[-0x1f76*-0x1+0x2166+-0x40dc],_0xcec4ce=_0x3b6f51[0x1b0f+0x7ca+-0x22d8],_0x1f3db2=_0x3b6f51[-0x7*-0x556+0x115f+-0x15*0x29b],(_0x50f0e4[-0x22*-0x29+0x2*0x7c2+-0x14f6]!==_0x33b826||_0x50f0e4[0x7db+0xa75*0x2+-0x1cc4]!==_0xcec4ce||_0x50f0e4[-0x16*0xa0+-0x94b+0x170d]!==_0x1f3db2)&&(_0x25af27['uniform3iv'](_0x165158['locationId'],_0x3b6f51),_0x50f0e4[0xf2*0x1a+0x80f+-0x20a3]=_0x33b826,_0x50f0e4[0x1a2e+-0x119*0x16+-0x207]=_0xcec4ce,_0x50f0e4[0x1*0x247d+0x7*-0x2a6+-0x11f1]=_0x1f3db2);},this['commitFunc'+'tion'][No]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][en]=function(_0x46e4fe,_0x4012ee){_0x50f0e4=_0x46e4fe['value'],_0x33b826=_0x4012ee[0x2465+-0x8f7+-0x1b6e],_0xcec4ce=_0x4012ee[0x1717*0x1+-0x168+-0x15ae],_0x1f3db2=_0x4012ee[0xf8d+-0x989*-0x3+-0x1*0x2c26],_0x3a8825=_0x4012ee[-0x139d*0x1+-0xcf*-0x16+0x1d6],(_0x50f0e4[-0x124b+0x1c33+0x27a*-0x4]!==_0x33b826||_0x50f0e4[0x9*-0x47+0x24*-0x64+0x1090]!==_0xcec4ce||_0x50f0e4[0x1*0x1766+0x1106+-0x286a]!==_0x1f3db2||_0x50f0e4[-0xc3f+0x1213*-0x1+-0x5*-0x611]!==_0x3a8825)&&(_0x25af27['uniform4iv'](_0x46e4fe['locationId'],_0x4012ee),_0x50f0e4[-0x407*-0x5+-0x3*-0xc5b+-0x3934]=_0x33b826,_0x50f0e4[-0x3c9*-0x3+-0x158f+0xa35]=_0xcec4ce,_0x50f0e4[-0x1*0x13ed+-0xc86+0x2075]=_0x1f3db2,_0x50f0e4[-0x15f6+-0x2176+-0x269*-0x17]=_0x3a8825);},this['commitFunc'+'tion'][zo]=this['commitFunc'+'tion'][en],this['commitFunc'+'tion'][kh]=function(_0x1ff707,_0x17f929){_0x25af27['uniformMat'+'rix2fv'](_0x1ff707['locationId'],!(0x20*0x1+0x3f2+-0x411),_0x17f929);},this['commitFunc'+'tion'][Uo]=function(_0x5f54b2,_0x1ef109){_0x25af27['uniformMat'+'rix3fv'](_0x5f54b2['locationId'],!(-0x1*0x146+-0xe9*0x25+0x22f4*0x1),_0x1ef109);},this['commitFunc'+'tion'][wa]=function(_0x131793,_0x12f44e){_0x25af27['uniformMat'+'rix4fv'](_0x131793['locationId'],!(0xaad*0x1+-0x1*-0x2498+0xbd1*-0x4),_0x12f44e);},this['commitFunc'+'tion'][Oc]=function(_0x44f6cd,_0x5cec47){_0x25af27['uniform1fv'](_0x44f6cd['locationId'],_0x5cec47);},this['commitFunc'+'tion'][Bc]=function(_0xa86f3b,_0x9a5eb9){_0x25af27['uniform2fv'](_0xa86f3b['locationId'],_0x9a5eb9);},this['commitFunc'+'tion'][Nc]=function(_0x39387c,_0x572352){_0x25af27['uniform3fv'](_0x39387c['locationId'],_0x572352);},this['commitFunc'+'tion'][up]=function(_0x4e60c3,_0x33c5bb){_0x25af27['uniform4fv'](_0x4e60c3['locationId'],_0x33c5bb);},this['commitFunc'+'tion'][Ta]=function(_0x532d73,_0x3cbb5a){_0x532d73['value']!==_0x3cbb5a&&(_0x25af27['uniform1ui'](_0x532d73['locationId'],_0x3cbb5a),_0x532d73['value']=_0x3cbb5a);},this['commitFunc'+'tion'][Aa]=function(_0x37c61f,_0x1448d9){_0x50f0e4=_0x37c61f['value'],_0x33b826=_0x1448d9[-0x2430+0x413+0x1*0x201d],_0xcec4ce=_0x1448d9[0x2ea+-0x22ac+0x1fc3*0x1],(_0x50f0e4[-0x24b4+-0x17a7+0x3c5b]!==_0x33b826||_0x50f0e4[0x1591+0x23dd*-0x1+0xe4d]!==_0xcec4ce)&&(_0x25af27['uniform2ui'+'v'](_0x37c61f['locationId'],_0x1448d9),_0x50f0e4[-0xdab*0x2+-0x1*-0x1655+0x3*0x1ab]=_0x33b826,_0x50f0e4[-0x1af*0x6+0x1e3*-0x2+0x1*0xde1]=_0xcec4ce);},this['commitFunc'+'tion'][Ea]=function(_0xc43382,_0x115e9a){_0x50f0e4=_0xc43382['value'],_0x33b826=_0x115e9a[0x5f1+0x17f*0x18+-0x29d9],_0xcec4ce=_0x115e9a[-0x45e+0x1f73+-0x1b14],_0x1f3db2=_0x115e9a[0x1c6*-0x1+0x66a*-0x4+0x1b70],(_0x50f0e4[-0xc5*-0xb+-0x10f*-0x20+-0xe1d*0x3]!==_0x33b826||_0x50f0e4[-0x21bf+0x1e3c+0x384]!==_0xcec4ce||_0x50f0e4[0x1*-0x201a+0x1f89+0x93]!==_0x1f3db2)&&(_0x25af27['uniform3ui'+'v'](_0xc43382['locationId'],_0x115e9a),_0x50f0e4[-0x2c4+-0x814*0x1+0xad8]=_0x33b826,_0x50f0e4[0xb*-0x35+-0x1944+0x1b8c]=_0xcec4ce,_0x50f0e4[-0x3*0x9f5+-0x2470+0x3*0x161b]=_0x1f3db2);},this['commitFunc'+'tion'][Ca]=function(_0x55199e,_0x3e840b){_0x50f0e4=_0x55199e['value'],_0x33b826=_0x3e840b[-0x1*0x45+0xb6d+-0x22*0x54],_0xcec4ce=_0x3e840b[0x169*0x6+0xf5e+-0x17d3],_0x1f3db2=_0x3e840b[-0x1*0xdea+0x5a1+0x84b],_0x3a8825=_0x3e840b[0x21*0x1+-0x3*-0x9f7+-0x1e03],(_0x50f0e4[0xb*0x14f+-0x1*-0x827+0x1*-0x168c]!==_0x33b826||_0x50f0e4[0x135d*0x1+0x1ca2+-0x2ffe]!==_0xcec4ce||_0x50f0e4[0x3fb*-0x8+0x3d5*0x8+0x132]!==_0x1f3db2||_0x50f0e4[-0x1*0x1b53+0x13*0x161+0x3*0x61]!==_0x3a8825)&&(_0x25af27['uniform4ui'+'v'](_0x55199e['locationId'],_0x3e840b),_0x50f0e4[-0x11cf+-0x206d+-0x1*-0x323c]=_0x33b826,_0x50f0e4[0x79d*-0x3+-0x1974+0x304c]=_0xcec4ce,_0x50f0e4[0x21ad+0x138a+-0x3535]=_0x1f3db2,_0x50f0e4[0xcd*0x5+0xd*-0xe9+0x7d7]=_0x3a8825);},this['commitFunc'+'tion'][Ma]=function(_0x138b81,_0x1a7bdf){_0x25af27['uniform1iv'](_0x138b81['locationId'],_0x1a7bdf);},this['commitFunc'+'tion'][zc]=function(_0x244e36,_0x50e845){_0x25af27['uniform1ui'+'v'](_0x244e36['locationId'],_0x50e845);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ma],this['commitFunc'+'tion'][Pa]=function(_0x2d1fc2,_0x5a80cc){_0x25af27['uniform2iv'](_0x2d1fc2['locationId'],_0x5a80cc);},this['commitFunc'+'tion'][Vc]=function(_0x353ffe,_0x7d57c6){_0x25af27['uniform2ui'+'v'](_0x353ffe['locationId'],_0x7d57c6);},this['commitFunc'+'tion'][Gc]=this['commitFunc'+'tion'][Pa],this['commitFunc'+'tion'][Ra]=function(_0x27a3b8,_0x554ba5){_0x25af27['uniform3iv'](_0x27a3b8['locationId'],_0x554ba5);},this['commitFunc'+'tion'][Hc]=function(_0x2930d9,_0x4c1cd8){_0x25af27['uniform3ui'+'v'](_0x2930d9['locationId'],_0x4c1cd8);},this['commitFunc'+'tion'][Wc]=this['commitFunc'+'tion'][Ra],this['commitFunc'+'tion'][Oh]=function(_0x56ba86,_0x5c70b6){_0x25af27['uniform4iv'](_0x56ba86['locationId'],_0x5c70b6);},this['commitFunc'+'tion'][fp]=function(_0x49c69f,_0x10eb5e){_0x25af27['uniform4ui'+'v'](_0x49c69f['locationId'],_0x10eb5e);},this['commitFunc'+'tion'][pp]=this['commitFunc'+'tion'][Oh],this['commitFunc'+'tion'][zy]=function(_0x261247,_0x3d1a7a){_0x25af27['uniformMat'+'rix4fv'](_0x261247['locationId'],!(0x283*0x5+-0xb16+0x5e*-0x4),_0x3d1a7a);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x94ab00=this['gl'];this['feedback']&&_0x94ab00['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x4dc+0x91d+-0x440)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1d*0x13a+0x1a88+0x1*0x90b)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0xe987a3){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new St({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0xe987a3;}['updateBack'+'bufferForm'+'at'](_0x1c51af){const _0x2c3136=this['gl'];_0x2c3136['bindFrameb'+'uffer'](_0x2c3136['FRAMEBUFFE'+'R'],_0x1c51af);const _0x462c6c=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x462c6c?Te:ur;}['updateBack'+'buffer'](){const _0x19e9a6=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x19e9a6)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x1367+0x1381+-0x1*0x26e7),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x452d49,_0x79af1){return new sb();}['createInde'+'xBufferImp'+'l'](_0xffcfc8){return new ib(_0xffcfc8);}['createShad'+'erImpl'](_0x5eb7c5){return new lb(_0x5eb7c5);}['createText'+'ureImpl'](_0x4e04a4){return new hb(_0x4e04a4);}['createRend'+'erTargetIm'+'pl'](_0xbfc793){return new db();}['pushMarker'](_0x11687f){if(be['browser']&&window['spector']){const _0x353e74=G['toString']();window['spector']['setMarker'](_0x353e74+'\x20#');}}['popMarker'](){if(be['browser']&&window['spector']){const _0x3270b4=G['toString']();_0x3270b4['length']?window['spector']['setMarker'](_0x3270b4+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x5b8994=this['gl'];let _0x5714de='highp';if(_0x5b8994['getShaderP'+'recisionFo'+'rmat']){const _0x2cc976=_0x5b8994['getShaderP'+'recisionFo'+'rmat'](_0x5b8994['VERTEX_SHA'+'DER'],_0x5b8994['HIGH_FLOAT']),_0x4516d2=_0x5b8994['getShaderP'+'recisionFo'+'rmat'](_0x5b8994['VERTEX_SHA'+'DER'],_0x5b8994['MEDIUM_FLO'+'AT']),_0x29487a=_0x5b8994['getShaderP'+'recisionFo'+'rmat'](_0x5b8994['FRAGMENT_S'+'HADER'],_0x5b8994['HIGH_FLOAT']),_0x1040f3=_0x5b8994['getShaderP'+'recisionFo'+'rmat'](_0x5b8994['FRAGMENT_S'+'HADER'],_0x5b8994['MEDIUM_FLO'+'AT']);if(_0x2cc976&&_0x4516d2&&_0x29487a&&_0x1040f3){const _0x3b776e=_0x2cc976['precision']>0x2104*-0x1+-0x16*0x2e+0xd*0x2d8&&_0x29487a['precision']>-0x5*-0x461+-0x1*-0x6ad+-0x1c92,_0x8f6dd0=_0x4516d2['precision']>0x1*-0x7ba+0x10ab+-0x8f1*0x1&&_0x1040f3['precision']>-0x1*0xeb9+-0x58*-0x6d+0x16bf*-0x1;_0x3b776e||(_0x8f6dd0?(_0x5714de='mediump',b['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x5714de='lowp',b['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x5714de;}['getExtensi'+'on'](){for(let _0x1eb3af=0x245+-0x4f9+0x2b4;_0x1eb3af<arguments['length'];_0x1eb3af++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x1eb3af])!==-(-0xacf*0x2+-0x36d*0x6+0x2a2d))return this['gl']['getExtensi'+'on'](arguments[_0x1eb3af]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x4aa2c6=this['gl'];this['supportedE'+'xtensions']=_0x4aa2c6['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(0x1*-0x26c9+-0x114*0xa+0x3191),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x2e2ae2=this['gl'];let _0x372c42;const _0x145d7e=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0xd262c9=_0x2e2ae2['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0xd262c9==null?void(0x37*-0x5e+0x2385*0x1+-0xf53):_0xd262c9['antialias'])??!(-0x265+0x21e1+-0x1f7b),this['supportsSt'+'encil']=(_0xd262c9==null?void(0x428+0x1*0x2471+0x2899*-0x1):_0xd262c9['stencil'])??!(-0x3*-0x233+0x2*-0x19d+0x35e*-0x1),this['maxTexture'+'Size']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_3D_TEX'+'TURE_SIZE']),_0x372c42=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x372c42?_0x2e2ae2['getParamet'+'er'](_0x372c42['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x372c42?_0x2e2ae2['getParamet'+'er'](_0x372c42['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x474076=/\bMali-G52+/,_0x942b63=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x145d7e['match'](_0x942b63))&&!this['unmaskedRe'+'nderer']['match'](_0x474076),_0x372c42=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x372c42?_0x2e2ae2['getParamet'+'er'](_0x372c42['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x21eb+0x22a9*0x1+0x15*-0x9;const _0x85c5f4=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x85c5f4?_0x2e2ae2['getParamet'+'er'](_0x2e2ae2['MAX_SAMPLE'+'S']):-0x443+-0xc84+0x10c8,this['maxSamples']=Math['min'](this['maxSamples'],-0x1*-0xa4c+-0x1*-0x1da2+-0x106*0x27),this['samples']=_0x85c5f4&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x307+-0x6*-0x56+0x1a*0xa,this['supportsAr'+'eaLights']=!be['android'],this['maxTexture'+'s']<=-0x2ab*0xc+-0x8e8+0x28f4*0x1&&(this['supportsAr'+'eaLights']=!(0x1*-0xe95+-0x20e3+0x2f79));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x515ba6=this['gl'];_0x515ba6['disable'](_0x515ba6['BLEND']),_0x515ba6['blendFunc'](_0x515ba6['ONE'],_0x515ba6['ZERO']),_0x515ba6['blendEquat'+'ion'](_0x515ba6['FUNC_ADD']),_0x515ba6['colorMask'](!(-0xe5a+-0xfc5*-0x1+0x79*-0x3),!(0xb6c+0x1470+-0x1fdc),!(0x702+0xf89+-0x168b),!(-0x12c8*-0x2+0x2*0xf05+-0x439a)),_0x515ba6['blendColor'](-0x1f67+0x9*-0x35+0x2144,-0xeb*0x21+0x2ae+0x1*0x1b9d,-0xbbb+-0x161*-0x1+0x35*0x32,0x2*0x1+-0x1a5f*-0x1+-0x1a61),_0x515ba6['enable'](_0x515ba6['CULL_FACE']),this['cullFace']=_0x515ba6['BACK'],_0x515ba6['cullFace'](_0x515ba6['BACK']),_0x515ba6['enable'](_0x515ba6['DEPTH_TEST']),_0x515ba6['depthFunc'](_0x515ba6['LEQUAL']),_0x515ba6['depthMask'](!(-0x4+-0x12aa+0x12ae)),this['stencil']=!(0x2*-0x392+0x1f81+-0x185c),_0x515ba6['disable'](_0x515ba6['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ri,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1c12+-0x1c30+0x1c21*0x2,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x492+0x1709+-0x1a9c,_0x515ba6['stencilFun'+'c'](_0x515ba6['ALWAYS'],-0x115+-0x1ac7+0x4*0x6f7,-0xa*-0x2c5+-0x269*-0x4+-0x2457),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=da,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=da,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=da,this['stencilWri'+'teMaskFron'+'t']=-0x1f*0x6+0x17fe+0x1*-0x1645,this['stencilWri'+'teMaskBack']=-0x768*0x3+-0x2016+0x374d,_0x515ba6['stencilOp'](_0x515ba6['KEEP'],_0x515ba6['KEEP'],_0x515ba6['KEEP']),_0x515ba6['stencilMas'+'k'](0x8d*-0x1+-0xe32+0xfbe),this['alphaToCov'+'erage']=!(0x1*0x153d+0x5cb+-0xbb*0x25),this['raster']=!(-0x20b9+0x3*-0x6cb+0x2*0x1a8d),_0x515ba6['disable'](_0x515ba6['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x515ba6['disable'](_0x515ba6['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0xd7a+-0xcdd*0x3+0x3412),_0x515ba6['disable'](_0x515ba6['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0x7b5+-0x1349*-0x1+-0x1afd,_0x515ba6['clearDepth'](-0x1efb+0x1f09+0xd*-0x1),this['clearColor']=new Y(-0x1*-0x178d+-0xd86+-0xa07,-0x833+0x1848+-0x1015,0x1eb*0x1+0x11*-0x6d+0x1*0x552,0x10*0x13+-0x9e1+0x1bd*0x5),_0x515ba6['clearColor'](-0x1*0xbec+0x1d2d*-0x1+0xdb3*0x3,0x48e*-0x2+0x23c+0x6e0,-0x1f8b+0x31*-0xc2+0x44ad,0x3a8+0xd96+-0x113e),this['clearStenc'+'il']=0x3*0x76f+-0x11ef+-0x45e,_0x515ba6['clearStenc'+'il'](0x2*-0x7db+-0x13*0xb1+0x41f*0x7),_0x515ba6['hint'](_0x515ba6['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x515ba6['NICEST']),_0x515ba6['enable'](_0x515ba6['SCISSOR_TE'+'ST']),_0x515ba6['pixelStore'+'i'](_0x515ba6['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x515ba6['NONE']),this['unpackFlip'+'Y']=!(-0x1*-0x1e53+0x1f2a+-0x3d7c),_0x515ba6['pixelStore'+'i'](_0x515ba6['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x6e9+0x131*0x1+0x5b9*0x1)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(0x18*-0x167+0x724+-0x8d7*-0x3),_0x515ba6['pixelStore'+'i'](_0x515ba6['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x2f+0x5*0xef+-0x4d9)),_0x515ba6['pixelStore'+'i'](_0x515ba6['UNPACK_ALI'+'GNMENT'],-0x1*0xc41+0x1*-0x199d+0x5*0x793);}['initTextur'+'eUnits'](_0x4de216=0x2ad*-0xa+-0xc*-0x1d3+0x4ee){this['textureUni'+'ts']=[];for(let _0x56b833=-0x581+-0x2365+0x28e6;_0x56b833<_0x4de216;_0x56b833++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x1*-0x17aa+-0x3*-0x7fb+-0x2f9b,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x13b49b of this['shaders'])_0x13b49b['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x177073 of this['shaders'])_0x177073['restoreCon'+'text']();}['setViewpor'+'t'](_0x236638,_0x111576,_0x169a56,_0x6935d4){(this['vx']!==_0x236638||this['vy']!==_0x111576||this['vw']!==_0x169a56||this['vh']!==_0x6935d4)&&(this['gl']['viewport'](_0x236638,_0x111576,_0x169a56,_0x6935d4),this['vx']=_0x236638,this['vy']=_0x111576,this['vw']=_0x169a56,this['vh']=_0x6935d4);}['setScissor'](_0x374149,_0x11bd32,_0x2a4631,_0x60dbb6){(this['sx']!==_0x374149||this['sy']!==_0x11bd32||this['sw']!==_0x2a4631||this['sh']!==_0x60dbb6)&&(this['gl']['scissor'](_0x374149,_0x11bd32,_0x2a4631,_0x60dbb6),this['sx']=_0x374149,this['sy']=_0x11bd32,this['sw']=_0x2a4631,this['sh']=_0x60dbb6);}['setFramebu'+'ffer'](_0x3e64b0){if(this['activeFram'+'ebuffer']!==_0x3e64b0){const _0x42eb91=this['gl'];_0x42eb91['bindFrameb'+'uffer'](_0x42eb91['FRAMEBUFFE'+'R'],_0x3e64b0),this['activeFram'+'ebuffer']=_0x3e64b0;}}['copyRender'+'Target'](_0x1e0025,_0x1eca90,_0x48d9ae,_0x481126){var _0x54237e,_0x7cdf26;const _0x4783aa=this['gl'];if(_0x1e0025===this['backBuffer']&&(_0x1e0025=null),_0x48d9ae){if(_0x1eca90){if(_0x1e0025){if(!_0x1e0025['_colorBuff'+'er']||!_0x1eca90['_colorBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x1d1*-0x2+-0xcf5+0xb1*0x18);if(_0x1e0025['_colorBuff'+'er']['_format']!==_0x1eca90['_colorBuff'+'er']['_format'])return b['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0xd3*-0x1b+-0x1e1b+-0x7db*-0x1);}}else{if(!_0x1e0025['_colorBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0xbdd*-0x1+0x2b*-0x89+0x22e1);}}if(_0x481126&&_0x1e0025&&!_0x1e0025['_depth']){if(!_0x1e0025['_depthBuff'+'er']||!_0x1eca90['_depthBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x16dd+-0x18b2+0x2f9*0x10);if(_0x1e0025['_depthBuff'+'er']['_format']!==_0x1eca90['_depthBuff'+'er']['_format'])return b['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x1044+0x2073+-0x185b*0x2);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x418b3a=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x1eca90,this['updateBegi'+'n']();const _0x90e196=_0x1e0025?_0x1e0025['impl']['_glFrameBu'+'ffer']:(_0x54237e=this['backBuffer'])==null?void(-0x1301+0x3*0x1b1+-0x2*-0x6f7):_0x54237e['impl']['_glFrameBu'+'ffer'],_0x56021c=_0x1eca90?_0x1eca90['impl']['_glFrameBu'+'ffer']:(_0x7cdf26=this['backBuffer'])==null?void(-0xa6f+0xab*-0x2f+0x29d4):_0x7cdf26['impl']['_glFrameBu'+'ffer'];b['assert'](_0x90e196!==_0x56021c,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x4783aa['bindFrameb'+'uffer'](_0x4783aa['READ_FRAME'+'BUFFER'],_0x90e196),_0x4783aa['bindFrameb'+'uffer'](_0x4783aa['DRAW_FRAME'+'BUFFER'],_0x56021c);const _0x324d8b=_0x1e0025?_0x1e0025['width']:_0x1eca90?_0x1eca90['width']:this['width'],_0x437b46=_0x1e0025?_0x1e0025['height']:_0x1eca90?_0x1eca90['height']:this['height'];return _0x4783aa['blitFrameb'+'uffer'](0x1*0x91d+-0xdff+0x4e2,0x1*-0x1823+0x28*0xb8+-0x49d,_0x324d8b,_0x437b46,0x16a*-0x8+-0x1*-0x179f+-0xc4f,-0x11*-0x22a+-0x7e4+-0x1ce6,_0x324d8b,_0x437b46,(_0x48d9ae?_0x4783aa['COLOR_BUFF'+'ER_BIT']:-0x1dee+-0x1be4+0x9a3*0x6)|(_0x481126?_0x4783aa['DEPTH_BUFF'+'ER_BIT']:0x7f7+0x1131*0x2+-0x2a59),_0x4783aa['NEAREST']),this['renderTarg'+'et']=_0x418b3a,_0x4783aa['bindFrameb'+'uffer'](_0x4783aa['FRAMEBUFFE'+'R'],_0x418b3a?_0x418b3a['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x1469+-0x55*0x59+-0x9*-0x104);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x54eaeb){const _0x299a91=_0x54eaeb['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x299a91,b['assert'](_0x299a91),G['pushGpuMar'+'ker'](this,'Pass:'+_0x54eaeb['name']+'\x20RT:'+_0x299a91['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x3786e7,height:_0x3ed94a}=_0x299a91;this['setViewpor'+'t'](0x16f2+-0x2390+0xc9e,-0x1*0x15ed+0x2*-0x83f+0x266b,_0x3786e7,_0x3ed94a),this['setScissor'](0x15ed+0x5*0x4cc+-0x7*0x68f,0x1*0x48f+-0x1*0x67f+0x1f0,_0x3786e7,_0x3ed94a);const _0x298f50=_0x54eaeb['colorOps'],_0x1ae236=_0x54eaeb['depthStenc'+'ilOps'];if(_0x298f50!=null&&_0x298f50['clear']||_0x1ae236['clearDepth']||_0x1ae236['clearStenc'+'il']){let _0x3d858f=0x1*-0x185e+0x24b7*0x1+-0xc59;const _0x478318={};_0x298f50!=null&&_0x298f50['clear']&&(_0x3d858f|=Io,_0x478318['color']=[_0x298f50['clearValue']['r'],_0x298f50['clearValue']['g'],_0x298f50['clearValue']['b'],_0x298f50['clearValue']['a']]),_0x1ae236['clearDepth']&&(_0x3d858f|=Do,_0x478318['depth']=_0x1ae236['clearDepth'+'Value']),_0x1ae236['clearStenc'+'il']&&(_0x3d858f|=Rh,_0x478318['stencil']=_0x1ae236['clearStenc'+'ilValue']),_0x478318['flags']=_0x3d858f,this['clear'](_0x478318);}b['call'](()=>{this['insideRend'+'erPass']&&b['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x8c1+0xcf2*0x2+0x6b*-0x29),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0xde677c){var _0xd655db;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x4a98a6=this['renderTarg'+'et'],_0x2afe2f=_0xde677c['colorArray'+'Ops']['length'];if(_0x4a98a6){En['length']=-0x17cd+0x1ec4+-0x6f7;const _0x31fbf6=this['gl'];for(let _0x325328=0x1*-0x1c50+0x2559+-0x909;_0x325328<_0x2afe2f;_0x325328++){const _0x168df3=_0xde677c['colorArray'+'Ops'][_0x325328];_0x168df3['store']||_0x168df3['resolve']||En['push'](_0x31fbf6['COLOR_ATTA'+'CHMENT0']+_0x325328);}_0x4a98a6!==this['backBuffer']&&(_0xde677c['depthStenc'+'ilOps']['storeDepth']||En['push'](_0x31fbf6['DEPTH_ATTA'+'CHMENT']),_0xde677c['depthStenc'+'ilOps']['storeStenc'+'il']||En['push'](_0x31fbf6['STENCIL_AT'+'TACHMENT'])),En['length']>0x174*-0x7+0x4*-0x9bf+0xd*0x3c8&&_0xde677c['fullSizeCl'+'earRect']&&_0x31fbf6['invalidate'+'Framebuffe'+'r'](_0x31fbf6['DRAW_FRAME'+'BUFFER'],En),_0x2afe2f&&((_0xd655db=_0xde677c['colorOps'])!=null&&_0xd655db['resolve'])&&_0xde677c['samples']>0x266e*-0x1+0x18c*0x1+0x7*0x545&&_0x4a98a6['autoResolv'+'e']&&_0x4a98a6['resolve'](!(0xbc*0x2e+0x24ca*-0x1+0x6e*0x7),!(-0x204f+-0x14bd*-0x1+0xb93)),_0x4a98a6['depthBuffe'+'r']&&_0xde677c['depthStenc'+'ilOps']['resolveDep'+'th']&&_0xde677c['samples']>0x8*0x8b+0x2b*-0xce+-0x1*-0x1e43&&_0x4a98a6['autoResolv'+'e']&&_0x4a98a6['resolve'](!(0x4e5+0x2635+-0x2b19),!(-0x1b6f+-0x43e*-0x3+0x1*0xeb5));for(let _0x1aeb1d=-0xf34+-0x6*0x13+0xfa6;_0x1aeb1d<_0x2afe2f;_0x1aeb1d++)if(_0xde677c['colorArray'+'Ops'][_0x1aeb1d]['genMipmaps']){const _0x330d96=_0x4a98a6['_colorBuff'+'ers'][_0x1aeb1d];_0x330d96&&_0x330d96['impl']['_glTexture']&&_0x330d96['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x1aeb1d),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x11*-0x8b+-0x1*-0x23c5+-0x1a89)),this['bindTextur'+'e'](_0x330d96),this['gl']['generateMi'+'pmap'](_0x330d96['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0xc31+0x5*-0x2fe+-0x5*-0x8e),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x1df8ac){this['_defaultFr'+'amebuffer']!==_0x1df8ac&&(this['_defaultFr'+'amebuffer']=_0x1df8ac,this['_defaultFr'+'amebufferC'+'hanged']=!(0x3c*-0x8c+0x16*-0x101+0x36e6*0x1));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x291d4a=0x2460*0x1+-0x1*-0x6b+-0x24cb;_0x291d4a<this['textureUni'+'ts']['length'];++_0x291d4a)for(let _0x3265e6=0x25da+0x1b6c+-0x687*0xa;_0x3265e6<0x1049+0x130*-0x12+0x28d*0x2;++_0x3265e6)this['textureUni'+'ts'][_0x291d4a][_0x3265e6]=null;}const _0x21d61e=this['renderTarg'+'et']??this['backBuffer'];b['assert'](_0x21d61e);const _0x343339=_0x21d61e['impl'];_0x343339['initialize'+'d']||this['initRender'+'Target'](_0x21d61e),this['setFramebu'+'ffer'](_0x343339['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x3e18be=this['renderTarg'+'et'];if(_0x3e18be&&_0x3e18be!==this['backBuffer']){_0x3e18be['_samples']>-0x8af+0xd80+-0x4d0&&_0x3e18be['autoResolv'+'e']&&_0x3e18be['resolve']();const _0x23bc75=_0x3e18be['_colorBuff'+'er'];_0x23bc75&&_0x23bc75['impl']['_glTexture']&&_0x23bc75['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x7*-0x186+0x2a*-0x3+0x13*-0x89)),this['bindTextur'+'e'](_0x23bc75),this['gl']['generateMi'+'pmap'](_0x23bc75['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0xc95f06){if(this['unpackFlip'+'Y']!==_0xc95f06){this['unpackFlip'+'Y']=_0xc95f06;const _0x1ac0f0=this['gl'];_0x1ac0f0['pixelStore'+'i'](_0x1ac0f0['UNPACK_FLI'+'P_Y_WEBGL'],_0xc95f06);}}['setUnpackP'+'remultiply'+'Alpha'](_0x289e82){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x289e82){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x289e82;const _0x3298ea=this['gl'];_0x3298ea['pixelStore'+'i'](_0x3298ea['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x289e82);}}['activeText'+'ure'](_0x264563){this['textureUni'+'t']!==_0x264563&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x264563),this['textureUni'+'t']=_0x264563);}['bindTextur'+'e'](_0x22d2cb){const _0x4944b4=_0x22d2cb['impl'],_0x341507=_0x4944b4['_glTarget'],_0x4659cd=_0x4944b4['_glTexture'],_0x501d54=this['textureUni'+'t'],_0x372519=this['targetToSl'+'ot'][_0x341507];this['textureUni'+'ts'][_0x501d54][_0x372519]!==_0x4659cd&&(this['gl']['bindTextur'+'e'](_0x341507,_0x4659cd),this['textureUni'+'ts'][_0x501d54][_0x372519]=_0x4659cd);}['bindTextur'+'eOnUnit'](_0x241e3e,_0x3db691){const _0x5b1f04=_0x241e3e['impl'],_0x1fc2fa=_0x5b1f04['_glTarget'],_0x16ddcf=_0x5b1f04['_glTexture'],_0x32536d=this['targetToSl'+'ot'][_0x1fc2fa];this['textureUni'+'ts'][_0x3db691][_0x32536d]!==_0x16ddcf&&(this['activeText'+'ure'](_0x3db691),this['gl']['bindTextur'+'e'](_0x1fc2fa,_0x16ddcf),this['textureUni'+'ts'][_0x3db691][_0x32536d]=_0x16ddcf);}['setTexture'+'Parameters'](_0x4030a0){const _0x17c22f=this['gl'],_0x49c558=_0x4030a0['impl']['dirtyParam'+'eterFlags'],_0x1c73cb=_0x4030a0['impl']['_glTarget'];if(_0x49c558&Uy){let _0x1dab95=_0x4030a0['_minFilter'];(!_0x4030a0['_mipmaps']||_0x4030a0['_compresse'+'d']&&_0x4030a0['_levels']['length']===-0x3*0x3b5+-0x1*0xecf+-0x1*-0x19ef)&&(_0x1dab95===yc||_0x1dab95===xc?_0x1dab95=fe:(_0x1dab95===Sc||_0x1dab95===an)&&(_0x1dab95=at)),_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x1dab95]);}if(_0x49c558&Vy&&_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x4030a0['_magFilter']]),_0x49c558&Gy&&_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x4030a0['_addressU']]),_0x49c558&Hy&&_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x4030a0['_addressV']]),_0x49c558&Wy&&_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x4030a0['_addressW']]),_0x49c558&$y&&_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_CO'+'MPARE_MODE'],_0x4030a0['_compareOn'+'Read']?_0x17c22f['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x17c22f['NONE']),_0x49c558&qy&&_0x17c22f['texParamet'+'eri'](_0x1c73cb,_0x17c22f['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x4030a0['_compareFu'+'nc']]),_0x49c558&Xy){const _0x29580c=this['extTexture'+'FilterAnis'+'otropic'];_0x29580c&&_0x17c22f['texParamet'+'erf'](_0x1c73cb,_0x29580c['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],z['clamp'](Math['round'](_0x4030a0['_anisotrop'+'y']),0x2c*-0xc2+0x3*-0x1fc+0x274d,this['maxAnisotr'+'opy']));}}['setTexture'](_0x3d2445,_0x20d0d9){const _0x4652b1=_0x3d2445['impl'];_0x4652b1['_glTexture']||_0x4652b1['initialize'](this,_0x3d2445),_0x4652b1['dirtyParam'+'eterFlags']>0x1*0x263d+0x53*0x47+-0x3d42||_0x3d2445['_needsUplo'+'ad']||_0x3d2445['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x20d0d9),this['bindTextur'+'e'](_0x3d2445),_0x4652b1['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x3d2445),_0x4652b1['dirtyParam'+'eterFlags']=0x2543*0x1+-0xdcd+-0x1776),(_0x3d2445['_needsUplo'+'ad']||_0x3d2445['_needsMipm'+'apsUpload'])&&(_0x4652b1['upload'](this,_0x3d2445),_0x3d2445['_needsUplo'+'ad']=!(-0x1abc+0x2490+-0x9d3),_0x3d2445['_needsMipm'+'apsUpload']=!(-0x1052*0x1+0xd*-0x1e7+0x836*0x5))):this['bindTextur'+'eOnUnit'](_0x3d2445,_0x20d0d9);}['createVert'+'exArray'](_0x121b0e){let _0x21befd,_0x17542b;const _0x3bc3bf=_0x121b0e['length']>-0x43f*-0x7+0x2511*0x1+-0x1643*0x3;if(_0x3bc3bf){_0x21befd='';for(let _0x5482cf=-0x6bc*0x4+-0x1*0x257e+0x406e;_0x5482cf<_0x121b0e['length'];_0x5482cf++){const _0x7abe4b=_0x121b0e[_0x5482cf];_0x21befd+=_0x7abe4b['id']+_0x7abe4b['format']['renderingH'+'ash'];}_0x17542b=this['_vaoMap']['get'](_0x21befd);}if(!_0x17542b){const _0x894d8b=this['gl'];_0x17542b=_0x894d8b['createVert'+'exArray'](),_0x894d8b['bindVertex'+'Array'](_0x17542b),_0x894d8b['bindBuffer'](_0x894d8b['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x8583df=!(-0x15ac+0x1*0x122+-0x148b*-0x1);for(let _0x4317dc=-0x11b9+0x23ab+-0x2*0x8f9;_0x4317dc<_0x121b0e['length'];_0x4317dc++){const _0x49b3cd=_0x121b0e[_0x4317dc];_0x894d8b['bindBuffer'](_0x894d8b['ARRAY_BUFF'+'ER'],_0x49b3cd['impl']['bufferId']);const _0xcbb66d=_0x49b3cd['format']['elements'];for(let _0x527544=-0x6a0*0x3+-0x1ca6+0x3086;_0x527544<_0xcbb66d['length'];_0x527544++){const _0x3dfda5=_0xcbb66d[_0x527544],_0x198e46=Ae[_0x3dfda5['name']];_0x198e46===0x5d0+0x2286+0x2*-0x142b&&(_0x8583df=!(0x229f+0xb69+-0x5c1*0x8)),_0x3dfda5['asInt']?_0x894d8b['vertexAttr'+'ibIPointer'](_0x198e46,_0x3dfda5['numCompone'+'nts'],this['glType'][_0x3dfda5['dataType']],_0x3dfda5['stride'],_0x3dfda5['offset']):_0x894d8b['vertexAttr'+'ibPointer'](_0x198e46,_0x3dfda5['numCompone'+'nts'],this['glType'][_0x3dfda5['dataType']],_0x3dfda5['normalize'],_0x3dfda5['stride'],_0x3dfda5['offset']),_0x894d8b['enableVert'+'exAttribAr'+'ray'](_0x198e46),_0x49b3cd['format']['instancing']&&_0x894d8b['vertexAttr'+'ibDivisor'](_0x198e46,0x4c7*0x7+-0xba1+-0x15cf);}}_0x894d8b['bindVertex'+'Array'](null),_0x894d8b['bindBuffer'](_0x894d8b['ARRAY_BUFF'+'ER'],null),_0x3bc3bf&&this['_vaoMap']['set'](_0x21befd,_0x17542b),_0x8583df||b['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x17542b;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x2a8caf=this['gl'];let _0x54e2c8;if(this['vertexBuff'+'ers']['length']===-0x2*-0xe9f+-0x2541+0x804){const _0x52f503=this['vertexBuff'+'ers'][0x1*0x272+0xa8a+-0xcfc];b['assert'](_0x52f503['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x52f503['impl']['vao']||(_0x52f503['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x54e2c8=_0x52f503['impl']['vao'];}else _0x54e2c8=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x54e2c8&&(this['boundVao']=_0x54e2c8,_0x2a8caf['bindVertex'+'Array'](_0x54e2c8)),this['clearVerte'+'xBuffer']();const _0x4d486d=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x2a8caf['bindBuffer'](_0x2a8caf['ELEMENT_AR'+'RAY_BUFFER'],_0x4d486d);}['draw'](_0x23d34f,_0x2dbd9f,_0x1d9662){const _0x5a06fe=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x1b2f9b,_0x495db0,_0x304203,_0x344589,_0x12f7f0,_0x10619e,_0x4c0885,_0x16a9db;const _0x1297d9=this['shader'];if(!_0x1297d9)return;const _0x31ffd8=_0x1297d9['impl']['samplers'],_0x558027=_0x1297d9['impl']['uniforms'];_0x1d9662||this['setBuffers']();let _0x46e3d8=0x17*-0x4+0x79*-0x11+-0x7*-0x133;for(let _0xb59bef=-0x1079+0x27b+0xdfe,_0x265513=_0x31ffd8['length'];_0xb59bef<_0x265513;_0xb59bef++){if(_0x1b2f9b=_0x31ffd8[_0xb59bef],_0x495db0=_0x1b2f9b['scopeId']['value'],!_0x495db0){const _0x2eed2d=_0x1b2f9b['scopeId']['name'];b['assert'](_0x2eed2d!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),b['assert'](_0x2eed2d!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x2eed2d==='uSceneDept'+'hMap'&&(b['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x495db0=tn(this,'white')),_0x2eed2d==='uSceneColo'+'rMap'&&(b['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x495db0=tn(this,'pink')),_0x495db0||(b['errorOnce']('Shader\x20'+_0x1297d9['name']+'\x20requires\x20'+_0x2eed2d+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x495db0=tn(this,'pink'));}if(_0x495db0 instanceof ce)_0x304203=_0x495db0,this['setTexture'](_0x304203,_0x46e3d8),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x7ce+0x9f*-0x3d+-0x1e17*-0x1&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x304203?b['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x304203}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x304203&&b['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x304203})),_0x1b2f9b['slot']!==_0x46e3d8&&(_0x5a06fe['uniform1i'](_0x1b2f9b['locationId'],_0x46e3d8),_0x1b2f9b['slot']=_0x46e3d8),_0x46e3d8++;else{_0x1b2f9b['array']['length']=-0x1*0x117a+-0x162c+0x27a6,_0x344589=_0x495db0['length'];for(let _0x3b7f88=0x1d93+-0x16a6+-0x6ed;_0x3b7f88<_0x344589;_0x3b7f88++)_0x304203=_0x495db0[_0x3b7f88],this['setTexture'](_0x304203,_0x46e3d8),_0x1b2f9b['array'][_0x3b7f88]=_0x46e3d8,_0x46e3d8++;_0x5a06fe['uniform1iv'](_0x1b2f9b['locationId'],_0x1b2f9b['array']);}}for(let _0x2242d1=0x3*-0x5bb+-0x13*0x65+0x8*0x316,_0x128ee1=_0x558027['length'];_0x2242d1<_0x128ee1;_0x2242d1++)_0x12f7f0=_0x558027[_0x2242d1],_0x10619e=_0x12f7f0['scopeId'],_0x4c0885=_0x12f7f0['version'],_0x16a9db=_0x10619e['versionObj'+'ect']['version'],(_0x4c0885['globalId']!==_0x16a9db['globalId']||_0x4c0885['revision']!==_0x16a9db['revision'])&&(_0x4c0885['globalId']=_0x16a9db['globalId'],_0x4c0885['revision']=_0x16a9db['revision'],_0x10619e['value']!==null&&this['commitFunc'+'tion'][_0x12f7f0['dataType']](_0x12f7f0,_0x10619e['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0x5a06fe['bindBuffer'+'Base'](_0x5a06fe['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x3*0xb15+0x17a1*0x1+-0x38e0,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x5a06fe['beginTrans'+'formFeedba'+'ck'](_0x5a06fe['POINTS']));const _0x2bf292=this['glPrimitiv'+'e'][_0x23d34f['type']],_0x4517db=_0x23d34f['count'],_0x5369b1=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery');let _0x27d400=_0x5a06fe['createQuer'+'y']();if(_0x5369b1?_0x5a06fe['beginQuery'](_0x5369b1['TIME_ELAPS'+'ED_EXT'],_0x27d400):_0x27d400=null,_0x23d34f['indexed']){const _0x2aede0=this['indexBuffe'+'r'];b['assert'](_0x2aede0['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x31f826=_0x2aede0['impl']['glFormat'],_0x388711=_0x23d34f['base']*_0x2aede0['bytesPerIn'+'dex'];_0x2dbd9f>0x1e39+0x1*-0x8b7+-0x1582?_0x5a06fe['drawElemen'+'tsInstance'+'d'](_0x2bf292,_0x4517db,_0x31f826,_0x388711,_0x2dbd9f):_0x5a06fe['drawElemen'+'ts'](_0x2bf292,_0x4517db,_0x31f826,_0x388711);}else{const _0x98498f=_0x23d34f['base'];_0x2dbd9f>-0xb84+0x263+-0x921*-0x1?_0x5a06fe['drawArrays'+'Instanced'](_0x2bf292,_0x98498f,_0x4517db,_0x2dbd9f):_0x5a06fe['drawArrays'](_0x2bf292,_0x98498f,_0x4517db);}_0x5369b1&&_0x5a06fe['endQuery'](_0x5369b1['TIME_ELAPS'+'ED_EXT']);let _0x1d534b=function(_0x224e33,_0x310a07){return new Promise(_0x37c2b8=>{const _0x1559ee=performance['now'](),_0x50d823=()=>{if(_0x310a07||_0x37c2b8(-0x797*-0x5+-0x5d*-0x61+0x2*-0x2498),_0x224e33['getQueryPa'+'rameter'](_0x310a07,_0x224e33['QUERY_RESU'+'LT_AVAILAB'+'LE'])){const _0x4481ec=_0x224e33['getQueryPa'+'rameter'](_0x310a07,_0x224e33['QUERY_RESU'+'LT']);_0x224e33['deleteQuer'+'y'](_0x310a07),_0x37c2b8(_0x4481ec);}else{const _0x137e1a=performance['now']()-_0x1559ee,_0x18040b=_0x137e1a<-0x1e2f+-0x4*-0x835+-0x29b?0xcc6+-0x439*0x1+-0x88d:_0x137e1a<0x16d8+0x162b+0x1*-0x2c9f?0x21c0+-0x209c+-0x123:0x1682+-0x1c06+-0x1d8*-0x3;setTimeout(_0x50d823,_0x18040b);}};_0x50d823();});};Promise['all']([_0x1d534b(_0x5a06fe,_0x27d400)])['then'](_0x39142d=>{const _0xa76061=_0x39142d[0x164b+0x1*-0x4c6+-0x1185]/(-0x10ad32+-0x19238*0x3+0x24a61a),_0x4eece3=_0x39142d[-0x135a+0x1067+-0xfc*-0x3]?_0x39142d[0xcbd+0x1697*-0x1+0x9db]/(-0x1b149*-0x7+-0x19*0x253d+-0x3861b*-0x2):'';window['drawReaste'+'rize']=_0xa76061,console['log']('Draw\x20call\x20'+'with\x20raste'+'rize\x20took\x20'+_0xa76061+'\x20ms',_0x4eece3?'draw\x20call\x20'+'without\x20ra'+'sterize\x20to'+'ok\x20'+_0x4eece3+'\x20ms':'');}),this['transformF'+'eedbackBuf'+'fer']&&(_0x5a06fe['endTransfo'+'rmFeedback'](),_0x5a06fe['bindBuffer'+'Base'](_0x5a06fe['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x1021+0x1*0x14b+-0x116c,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x23d34f['type']]+=_0x23d34f['count']*(_0x2dbd9f>-0x1b8c+-0x737+0x6f4*0x5?_0x2dbd9f:0x2*-0xb88+0x10b*-0x3+-0xe*-0x1df);}['clear'](_0x5b03b9){const _0x24f8f9=this['defaultCle'+'arOptions'];_0x5b03b9=_0x5b03b9||_0x24f8f9;const _0x9a6346=_0x5b03b9['flags']??_0x24f8f9['flags'];if(_0x9a6346!==-0x6b7*-0x4+0xbcf*-0x3+0x81*0x11){const _0xc1c6ab=this['gl'];if(_0x9a6346&Io){const _0x2dd095=_0x5b03b9['color']??_0x24f8f9['color'],_0x1fc7f8=_0x2dd095[-0xbed*0x2+-0x6bf*0x1+0x1e99],_0x5e1365=_0x2dd095[-0x253*0x9+-0xcc9+-0x1*-0x21b5],_0x33f7d0=_0x2dd095[-0xc2e*0x1+-0x2432+0x3062*0x1],_0x33808c=_0x2dd095[0x17bb+-0x10bb+-0x1*0x6fd],_0x3ee416=this['clearColor'];(_0x1fc7f8!==_0x3ee416['r']||_0x5e1365!==_0x3ee416['g']||_0x33f7d0!==_0x3ee416['b']||_0x33808c!==_0x3ee416['a'])&&(this['gl']['clearColor'](_0x1fc7f8,_0x5e1365,_0x33f7d0,_0x33808c),this['clearColor']['set'](_0x1fc7f8,_0x5e1365,_0x33f7d0,_0x33808c)),this['setBlendSt'+'ate'](bt['NOBLEND']);}if(_0x9a6346&Do){const _0x5d5018=_0x5b03b9['depth']??_0x24f8f9['depth'];_0x5d5018!==this['clearDepth']&&(this['gl']['clearDepth'](_0x5d5018),this['clearDepth']=_0x5d5018),this['setDepthSt'+'ate'](us['WRITEDEPTH']);}if(_0x9a6346&Rh){const _0x4e07d0=_0x5b03b9['stencil']??_0x24f8f9['stencil'];_0x4e07d0!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x4e07d0),this['clearStenc'+'il']=_0x4e07d0),_0xc1c6ab['stencilMas'+'k'](0x17*-0x115+-0x32*-0xb7+-0x9dc),this['stencilWri'+'teMaskFron'+'t']=0xf78+0x1*0x4a6+-0x131f,this['stencilWri'+'teMaskBack']=0x1c57+0x2*-0xd3d+-0xde;}_0xc1c6ab['clear'](this['glClearFla'+'g'][_0x9a6346]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x30844d,_0x328c56,_0x4f6327,_0x6260aa,_0x4abd67){const _0x2db4de=this['gl'];_0x2db4de['readPixels'](_0x30844d,_0x328c56,_0x4f6327,_0x6260aa,_0x2db4de['RGBA'],_0x2db4de['UNSIGNED_B'+'YTE'],_0x4abd67);}async['readPixels'+'Async'](_0x428765,_0x345116,_0xde6c70,_0x62d632,_0x4a46c5){var _0x32241f;const _0x5e956b=this['gl'],_0x49c163=(_0x114796,_0x253ccf)=>{const _0x4e984c=_0x5e956b['fenceSync'](_0x5e956b['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x8*0x67+0x15cb+-0x1903);return this['submit'](),new Promise((_0x512acf,_0x5d18d7)=>{function _0x44fba3(){const _0x1f9bf8=_0x5e956b['clientWait'+'Sync'](_0x4e984c,_0x114796,0x1bb*-0x1+0xb22+-0x967);_0x1f9bf8===_0x5e956b['WAIT_FAILE'+'D']?(_0x5e956b['deleteSync'](_0x4e984c),_0x5d18d7(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x1f9bf8===_0x5e956b['TIMEOUT_EX'+'PIRED']?setTimeout(_0x44fba3,_0x253ccf):(_0x5e956b['deleteSync'](_0x4e984c),_0x512acf());}_0x44fba3();});},_0x39e128=(_0x32241f=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1332+0x1672+0xcd*-0x34):_0x32241f['impl'],_0x5b798f=(_0x39e128==null?void(0x26f5*0x1+-0x160+-0x2595):_0x39e128['_glFormat'])??_0x5e956b['RGBA'],_0x724bee=(_0x39e128==null?void(-0x6c5+-0x6a5+0xd6a):_0x39e128['_glPixelTy'+'pe'])??_0x5e956b['UNSIGNED_B'+'YTE'],_0x4c2060=_0x5e956b['createBuff'+'er']();return _0x5e956b['bindBuffer'](_0x5e956b['PIXEL_PACK'+'_BUFFER'],_0x4c2060),_0x5e956b['bufferData'](_0x5e956b['PIXEL_PACK'+'_BUFFER'],_0x4a46c5['byteLength'],_0x5e956b['STREAM_REA'+'D']),_0x5e956b['readPixels'](_0x428765,_0x345116,_0xde6c70,_0x62d632,_0x5b798f,_0x724bee,-0xa*-0x248+0x5d*-0x6b+0x100f),_0x5e956b['bindBuffer'](_0x5e956b['PIXEL_PACK'+'_BUFFER'],null),await _0x49c163(0x1940+0x1893+-0x31d3,0x2198+0x5*0x171+0x19*-0x1a1),_0x5e956b['bindBuffer'](_0x5e956b['PIXEL_PACK'+'_BUFFER'],_0x4c2060),_0x5e956b['getBufferS'+'ubData'](_0x5e956b['PIXEL_PACK'+'_BUFFER'],-0x1432+-0x4bb+0x18ed,_0x4a46c5),_0x5e956b['bindBuffer'](_0x5e956b['PIXEL_PACK'+'_BUFFER'],null),_0x5e956b['deleteBuff'+'er'](_0x4c2060),_0x4a46c5;}['readTextur'+'eAsync'](_0xda2be8,_0x204c09,_0x1ff6c3,_0x4c4f3d,_0x2be718,_0x1b1968){const _0x33bea8=_0x1b1968['face']??-0x1afd+0x4f*-0x5+0x1c88,_0x451ac5=_0x1b1968['renderTarg'+'et']??new St({'colorBuffer':_0xda2be8,'depth':!(0x1e31+0x87b+0x26ab*-0x1),'face':_0x33bea8});b['assert'](_0x451ac5['colorBuffe'+'r']===_0xda2be8);const _0x297ea0=new ArrayBuffer(Li['calcLevelG'+'puSize'](_0x4c4f3d,_0x2be718,-0xb96+0x3*-0x4d2+0x201*0xd,_0xda2be8['_format'])),_0x191489=_0x1b1968['data']??new(My(_0xda2be8['_format']))(_0x297ea0);return this['setRenderT'+'arget'](_0x451ac5),this['initRender'+'Target'](_0x451ac5),new Promise((_0x3d49d9,_0x3ec1a1)=>{this['readPixels'+'Async'](_0x204c09,_0x1ff6c3,_0x4c4f3d,_0x2be718,_0x191489)['then'](_0x5c311d=>{_0x1b1968['renderTarg'+'et']||_0x451ac5['destroy'](),_0x3d49d9(_0x5c311d);})['catch'](_0x3ec1a1);});}['setAlphaTo'+'Coverage'](_0x2fbdf0){this['alphaToCov'+'erage']!==_0x2fbdf0&&(this['alphaToCov'+'erage']=_0x2fbdf0,_0x2fbdf0?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x484bc3){if(this['transformF'+'eedbackBuf'+'fer']!==_0x484bc3){this['transformF'+'eedbackBuf'+'fer']=_0x484bc3;const _0x2292ca=this['gl'];_0x484bc3?(this['feedback']||(this['feedback']=_0x2292ca['createTran'+'sformFeedb'+'ack']()),_0x2292ca['bindTransf'+'ormFeedbac'+'k'](_0x2292ca['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x2292ca['bindTransf'+'ormFeedbac'+'k'](_0x2292ca['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x5aec7b){this['raster']!==_0x5aec7b&&(this['raster']=_0x5aec7b,_0x5aec7b?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x49d532){if(this['stencil']!==_0x49d532){const _0x213552=this['gl'];_0x49d532?_0x213552['enable'](_0x213552['STENCIL_TE'+'ST']):_0x213552['disable'](_0x213552['STENCIL_TE'+'ST']),this['stencil']=_0x49d532;}}['setStencil'+'Func'](_0xa5e2c4,_0x2ab3b2,_0x467210){(this['stencilFun'+'cFront']!==_0xa5e2c4||this['stencilRef'+'Front']!==_0x2ab3b2||this['stencilMas'+'kFront']!==_0x467210||this['stencilFun'+'cBack']!==_0xa5e2c4||this['stencilRef'+'Back']!==_0x2ab3b2||this['stencilMas'+'kBack']!==_0x467210)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0xa5e2c4],_0x2ab3b2,_0x467210),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0xa5e2c4,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x2ab3b2,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x467210);}['setStencil'+'FuncFront'](_0x4917ce,_0x538874,_0x213246){if(this['stencilFun'+'cFront']!==_0x4917ce||this['stencilRef'+'Front']!==_0x538874||this['stencilMas'+'kFront']!==_0x213246){const _0x2520ae=this['gl'];_0x2520ae['stencilFun'+'cSeparate'](_0x2520ae['FRONT'],this['glComparis'+'on'][_0x4917ce],_0x538874,_0x213246),this['stencilFun'+'cFront']=_0x4917ce,this['stencilRef'+'Front']=_0x538874,this['stencilMas'+'kFront']=_0x213246;}}['setStencil'+'FuncBack'](_0x26c271,_0x4c062a,_0xc8fd9c){if(this['stencilFun'+'cBack']!==_0x26c271||this['stencilRef'+'Back']!==_0x4c062a||this['stencilMas'+'kBack']!==_0xc8fd9c){const _0x4d2c34=this['gl'];_0x4d2c34['stencilFun'+'cSeparate'](_0x4d2c34['BACK'],this['glComparis'+'on'][_0x26c271],_0x4c062a,_0xc8fd9c),this['stencilFun'+'cBack']=_0x26c271,this['stencilRef'+'Back']=_0x4c062a,this['stencilMas'+'kBack']=_0xc8fd9c;}}['setStencil'+'Operation'](_0x42f32d,_0x28338c,_0x36798e,_0x43f564){(this['stencilFai'+'lFront']!==_0x42f32d||this['stencilZfa'+'ilFront']!==_0x28338c||this['stencilZpa'+'ssFront']!==_0x36798e||this['stencilFai'+'lBack']!==_0x42f32d||this['stencilZfa'+'ilBack']!==_0x28338c||this['stencilZpa'+'ssBack']!==_0x36798e)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x42f32d],this['glStencilO'+'p'][_0x28338c],this['glStencilO'+'p'][_0x36798e]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x42f32d,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x28338c,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x36798e),(this['stencilWri'+'teMaskFron'+'t']!==_0x43f564||this['stencilWri'+'teMaskBack']!==_0x43f564)&&(this['gl']['stencilMas'+'k'](_0x43f564),this['stencilWri'+'teMaskFron'+'t']=_0x43f564,this['stencilWri'+'teMaskBack']=_0x43f564);}['setStencil'+'OperationF'+'ront'](_0x1c7387,_0x3691a4,_0x129a3d,_0x28ca25){(this['stencilFai'+'lFront']!==_0x1c7387||this['stencilZfa'+'ilFront']!==_0x3691a4||this['stencilZpa'+'ssFront']!==_0x129a3d)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x1c7387],this['glStencilO'+'p'][_0x3691a4],this['glStencilO'+'p'][_0x129a3d]),this['stencilFai'+'lFront']=_0x1c7387,this['stencilZfa'+'ilFront']=_0x3691a4,this['stencilZpa'+'ssFront']=_0x129a3d),this['stencilWri'+'teMaskFron'+'t']!==_0x28ca25&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x28ca25),this['stencilWri'+'teMaskFron'+'t']=_0x28ca25);}['setStencil'+'OperationB'+'ack'](_0x1d7b02,_0x3ee4b2,_0x359e9,_0x5cd4c4){(this['stencilFai'+'lBack']!==_0x1d7b02||this['stencilZfa'+'ilBack']!==_0x3ee4b2||this['stencilZpa'+'ssBack']!==_0x359e9)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x1d7b02],this['glStencilO'+'p'][_0x3ee4b2],this['glStencilO'+'p'][_0x359e9]),this['stencilFai'+'lBack']=_0x1d7b02,this['stencilZfa'+'ilBack']=_0x3ee4b2,this['stencilZpa'+'ssBack']=_0x359e9),this['stencilWri'+'teMaskBack']!==_0x5cd4c4&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x5cd4c4),this['stencilWri'+'teMaskBack']=_0x5cd4c4);}['setBlendSt'+'ate'](_0x36b16d){const _0x42a65e=this['blendState'];if(!_0x42a65e['equals'](_0x36b16d)){const _0x1ec783=this['gl'],{blend:_0x2ba716,colorOp:_0xc2479d,alphaOp:_0x451410,colorSrcFactor:_0x3cc5a6,colorDstFactor:_0x31855a,alphaSrcFactor:_0x126bef,alphaDstFactor:_0x2cae5b}=_0x36b16d;if(_0x42a65e['blend']!==_0x2ba716&&(_0x2ba716?_0x1ec783['enable'](_0x1ec783['BLEND']):_0x1ec783['disable'](_0x1ec783['BLEND'])),_0x42a65e['colorOp']!==_0xc2479d||_0x42a65e['alphaOp']!==_0x451410){const _0x4f399a=this['glBlendEqu'+'ation'];_0x1ec783['blendEquat'+'ionSeparat'+'e'](_0x4f399a[_0xc2479d],_0x4f399a[_0x451410]);}(_0x42a65e['colorSrcFa'+'ctor']!==_0x3cc5a6||_0x42a65e['colorDstFa'+'ctor']!==_0x31855a||_0x42a65e['alphaSrcFa'+'ctor']!==_0x126bef||_0x42a65e['alphaDstFa'+'ctor']!==_0x2cae5b)&&_0x1ec783['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x3cc5a6],this['glBlendFun'+'ctionColor'][_0x31855a],this['glBlendFun'+'ctionAlpha'][_0x126bef],this['glBlendFun'+'ctionAlpha'][_0x2cae5b]),_0x42a65e['allWrite']!==_0x36b16d['allWrite']&&this['gl']['colorMask'](_0x36b16d['redWrite'],_0x36b16d['greenWrite'],_0x36b16d['blueWrite'],_0x36b16d['alphaWrite']),_0x42a65e['copy'](_0x36b16d);}}['setBlendCo'+'lor'](_0x378ab0,_0x23408c,_0x5a9abb,_0x58c4bd){const _0x87c81c=this['blendColor'];(_0x378ab0!==_0x87c81c['r']||_0x23408c!==_0x87c81c['g']||_0x5a9abb!==_0x87c81c['b']||_0x58c4bd!==_0x87c81c['a'])&&(this['gl']['blendColor'](_0x378ab0,_0x23408c,_0x5a9abb,_0x58c4bd),_0x87c81c['set'](_0x378ab0,_0x23408c,_0x5a9abb,_0x58c4bd));}['setStencil'+'State'](_0x54e390,_0x1e8e63){_0x54e390||_0x1e8e63?(this['setStencil'+'Test'](!(-0x79*0x35+-0x41c*-0x7+-0x3b7)),_0x54e390===_0x1e8e63?(this['setStencil'+'Func'](_0x54e390['func'],_0x54e390['ref'],_0x54e390['readMask']),this['setStencil'+'Operation'](_0x54e390['fail'],_0x54e390['zfail'],_0x54e390['zpass'],_0x54e390['writeMask'])):(_0x54e390??(_0x54e390=Zs['DEFAULT']),this['setStencil'+'FuncFront'](_0x54e390['func'],_0x54e390['ref'],_0x54e390['readMask']),this['setStencil'+'OperationF'+'ront'](_0x54e390['fail'],_0x54e390['zfail'],_0x54e390['zpass'],_0x54e390['writeMask']),_0x1e8e63??(_0x1e8e63=Zs['DEFAULT']),this['setStencil'+'FuncBack'](_0x1e8e63['func'],_0x1e8e63['ref'],_0x1e8e63['readMask']),this['setStencil'+'OperationB'+'ack'](_0x1e8e63['fail'],_0x1e8e63['zfail'],_0x1e8e63['zpass'],_0x1e8e63['writeMask']))):this['setStencil'+'Test'](!(-0xe8*0xb+0x5f2+-0x407*-0x1));}['setDepthSt'+'ate'](_0x10f440){const _0x35fc26=this['depthState'];if(!_0x35fc26['equals'](_0x10f440)){const _0x403444=this['gl'],_0x397485=_0x10f440['write'];_0x35fc26['write']!==_0x397485&&_0x403444['depthMask'](_0x397485);let {func:_0x5ebc58,test:_0x45808d}=_0x10f440;!_0x45808d&&_0x397485&&(_0x45808d=!(-0x1187+0x2a7*0x1+0x20*0x77),_0x5ebc58=Ri),_0x35fc26['func']!==_0x5ebc58&&_0x403444['depthFunc'](this['glComparis'+'on'][_0x5ebc58]),_0x35fc26['test']!==_0x45808d&&(_0x45808d?_0x403444['enable'](_0x403444['DEPTH_TEST']):_0x403444['disable'](_0x403444['DEPTH_TEST']));const {depthBias:_0x2782f7,depthBiasSlope:_0x482811}=_0x10f440;_0x2782f7||_0x482811?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0xf*-0x147+0x1414+-0xeb),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x403444['polygonOff'+'set'](_0x482811,_0x2782f7)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x9fa+0xfa+0x1*-0xaf3),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x35fc26['copy'](_0x10f440);}}['setCullMod'+'e'](_0xdc425e){if(this['cullMode']!==_0xdc425e){if(_0xdc425e===vt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===vt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x18a5cc=this['glCull'][_0xdc425e];this['cullFace']!==_0x18a5cc&&(this['gl']['cullFace'](_0x18a5cc),this['cullFace']=_0x18a5cc);}this['cullMode']=_0xdc425e;}}['setShader'](_0x4cac59,_0x5bbeb2=!(-0x7ff+0x756+0xaa)){_0x4cac59!==this['shader']&&(this['shader']=_0x4cac59,this['shaderAsyn'+'cCompile']=_0x5bbeb2,this['shaderVali'+'d']=void(-0x1559+-0x25e1*-0x1+0x1*-0x1088),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x488633){const {shader:_0x4aebea}=this,{impl:_0x5243c7}=_0x4aebea;this['shaderVali'+'d']===void(-0x24e5+0x8a5*0x1+0x1c40)&&(_0x4aebea['failed']?this['shaderVali'+'d']=!(-0x22f+-0x871*-0x2+-0x63*0x26):_0x4aebea['ready']||(this['shaderAsyn'+'cCompile']?_0x5243c7['isLinked'](_0x488633)?_0x5243c7['finalize'](this,_0x4aebea)||(_0x4aebea['failed']=!(-0x1*-0x1e34+0x38*-0x1c+-0x86*0x2e),this['shaderVali'+'d']=!(-0x1f7*-0xe+0x518*-0x5+0x209*-0x1)):this['shaderVali'+'d']=!(-0x5*0x65c+0x2626+-0xd*0x7d):_0x5243c7['finalize'](this,_0x4aebea)||(_0x4aebea['failed']=!(-0x457*-0x9+-0x1702+-0x100d),this['shaderVali'+'d']=!(0x1544+-0x1969+0x9*0x76)))),this['shaderVali'+'d']===void(-0x4e*-0x5f+0x120d*-0x1+-0xae5)&&(this['gl']['useProgram'](_0x5243c7['glProgram']),this['shaderVali'+'d']=!(0x1*0x23+-0xcd8+0x1*0xcb5));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x1afd7e=this['gl'];this['_vaoMap']['forEach']((_0x4bb16b,_0x57572b,_0x51c0a2)=>{_0x1afd7e['deleteVert'+'exArray'](_0x4bb16b);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x35ef1c){_0x35ef1c?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x1ccd73=-0x14fb+0xa86+-0x1*-0xad9){const _0x3a2e55=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x3a2e55['loseContex'+'t'](),setTimeout(()=>_0x3a2e55['restoreCon'+'text'](),_0x1ccd73);}}let mb=0xd42+-0x1699+0x957;class cr{constructor(_0x5cebfe,_0x316588,_0x24a700,_0x16f32d=ts,_0x3e960f,_0x46db26){this['device']=_0x5cebfe,this['format']=_0x316588,this['numIndices']=_0x24a700,this['usage']=_0x16f32d,this['id']=mb++,this['impl']=_0x5cebfe['createInde'+'xBufferImp'+'l'](this,_0x46db26);const _0x91a9e5=vv[_0x316588];this['bytesPerIn'+'dex']=_0x91a9e5,this['numBytes']=this['numIndices']*_0x91a9e5,_0x3e960f?this['setData'](_0x3e960f):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x5cebfe['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x2ab5c4=this['device'],_0x55b559=_0x2ab5c4['buffers']['indexOf'](this);_0x55b559!==-(-0xd*-0x2bd+0x1ea0+-0x4238)&&_0x2ab5c4['buffers']['splice'](_0x55b559,0xde*0xf+-0x1*0x1096+0x395),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x2ab5c4),this['adjustVram'+'SizeTracki'+'ng'](_0x2ab5c4['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x541603,_0x544da1){b['trace'](Qx,this['id']+'\x20size:\x20'+_0x544da1+'\x20vram.ib:\x20'+_0x541603['ib']+'\x20=>\x20'+(_0x541603['ib']+_0x544da1)),_0x541603['ib']+=_0x544da1;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x4e459e){return _0x4e459e['byteLength']!==this['numBytes']?(b['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x4e459e['byteLength']),!(-0xecc+-0x93d*-0x2+-0x1*0x3ad)):(this['storage']=_0x4e459e,this['unlock'](),!(-0xf5c+0x1*-0x817+0x1773));}['_lockTyped'+'Array'](){const _0x15cf63=this['lock']();return this['format']===or?new Uint32Array(_0x15cf63):this['format']===Fi?new Uint16Array(_0x15cf63):new Uint8Array(_0x15cf63);}['writeData'](_0x47aed1,_0x1ef340){const _0x4c36d6=this['_lockTyped'+'Array']();if(_0x47aed1['length']>_0x1ef340){if(ArrayBuffer['isView'](_0x47aed1))_0x47aed1=_0x47aed1['subarray'](0x11*0x20e+-0x26d7+0x3e9,_0x1ef340),_0x4c36d6['set'](_0x47aed1);else{for(let _0x5deed6=0x1b9d+0x12e2+0x2e7f*-0x1;_0x5deed6<_0x1ef340;_0x5deed6++)_0x4c36d6[_0x5deed6]=_0x47aed1[_0x5deed6];}}else _0x4c36d6['set'](_0x47aed1);this['unlock']();}['readData'](_0x1a55ac){const _0x2625e2=this['_lockTyped'+'Array'](),_0x26a727=this['numIndices'];if(ArrayBuffer['isView'](_0x1a55ac))_0x1a55ac['set'](_0x2625e2);else{_0x1a55ac['length']=0x1*0x1c9f+-0x1*-0x1acd+0x1*-0x376c;for(let _0xc613f7=0xaa*0x32+0x4*-0x530+0x4*-0x31d;_0xc613f7<_0x26a727;_0xc613f7++)_0x1a55ac[_0xc613f7]=_0x2625e2[_0xc613f7];}return _0x26a727;}}class _b{constructor(){c(this,'clearValue',new Y(0x1a*-0x13+0x655+0x17*-0x31,-0x1957+0x826+0x1131,0x2*-0xb41+0x1*0xfcb+0x6b7,-0xba9+-0x1f3e+0x2ae8)),c(this,'clearValue'+'Linear',new Y(-0x17d*-0x3+-0x2*-0x775+-0x1*0x1361,-0x1*0x817+0x9b8+-0x1a1,0x11ca+-0x24c4+-0x97d*-0x2,0x254d+0x1ee5*0x1+0x4431*-0x1)),c(this,'clear',!(-0x3d*0x5f+0x1a1d+-0x379)),c(this,'store',!(-0x246f*-0x1+0x1*-0x52d+0x3*-0xa6b)),c(this,'resolve',!(0x123c+0x1193+-0x23cf)),c(this,'genMipmaps',!(-0x49b+0x1*-0x737+0xbd3));}}class gb{constructor(){c(this,'clearDepth'+'Value',0x164a+-0x11*-0x3d+0x2*-0xd2b),c(this,'clearStenc'+'ilValue',0x11b*-0x2+-0x1938*0x1+0x1b6e),c(this,'clearDepth',!(-0x8*-0x3a9+0x3ec*-0x8+0x219)),c(this,'clearStenc'+'il',!(-0x122e+-0x94d*0x3+-0x2b6*-0x11)),c(this,'storeDepth',!(0x185e+-0x986+-0xed7)),c(this,'resolveDep'+'th',!(-0x68*0x4+-0x99*-0x25+0xc*-0x1b5)),c(this,'storeStenc'+'il',!(0x1901*0x1+0x2*0xbdb+-0x30b6));}}class gs{constructor(_0xd7c941){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x119b*-0x2+0x9*0x443+0x1fd*-0x25)),c(this,'_skipStart',!(-0x695+-0x158d+0x405*0x7)),c(this,'_skipEnd',!(-0x5cd+-0x2565+0x2b33)),c(this,'executeEna'+'bled',!(-0xf16+0x18e*0x5+0x1a*0x48)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x14f0+0x1a09+-0x519),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(0x5af+0xc9b*0x2+-0x1ee5)),c(this,'fullSizeCl'+'earRect',!(-0x1ef7+0x1*-0x146b+0x3362)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(b['assert'](_0xd7c941),this['device']=_0xd7c941);}get['colorOps'](){return this['colorArray'+'Ops'][-0x7ed+-0x1fae+-0x1*-0x279b];}set['name'](_0x26f880){this['_name']=_0x26f880;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x344be2){b['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x344be2;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x4d7d0c){b['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x4d7d0c;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x1dc7fe){this['_options']=_0x1dc7fe,_0x1dc7fe&&(this['scaleX']=this['scaleX']??0x4*-0x939+-0x4*0x593+-0x1*-0x3b31,this['scaleY']=this['scaleY']??0x1098+-0x17a5+0x2a*0x2b);}get['options'](){return this['_options'];}['init'](_0x2beade=null,_0x18b184){this['options']=_0x18b184,this['renderTarg'+'et']=_0x2beade,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x1*-0x1d06+-0x4*-0x6b8+-0x37e5),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x120061,_0x2a3a8b,_0x88a7cd,_0x4cb4af;const _0x32ba44=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x32ba44!=null&&_0x32ba44['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x1*-0x1f7c+-0x265b+0x6df));const _0xb3919d=_0x32ba44?((_0x120061=_0x32ba44['_colorBuff'+'ers'])==null?void(-0x25f8+-0x8cc+0x2ec4):_0x120061['length'])??-0x36b*-0xa+0x1*-0x16c2+-0xb6c:0x61*0x3a+-0x7d6*0x3+-0x83*-0x3;this['colorArray'+'Ops']['length']=-0x2*-0x576+-0x1b29+0x103d*0x1;for(let _0xb0a24a=-0xf7c+0x9d3+0x5a9;_0xb0a24a<_0xb3919d;_0xb0a24a++){const _0x1eedf2=new _b();this['colorArray'+'Ops'][_0xb0a24a]=_0x1eedf2,this['samples']===-0x684*0x4+0x5f4*-0x4+0x71*0x71&&(_0x1eedf2['store']=!(0x1a2f*0x1+-0x1eec+-0x4bd*-0x1),_0x1eedf2['resolve']=!(-0x3*0x148+-0x1b93+0xfb6*0x2));const _0x2d190e=(_0x88a7cd=(_0x2a3a8b=this['renderTarg'+'et'])==null?void(-0x2023+-0xb5*-0xe+0x163d*0x1):_0x2a3a8b['_colorBuff'+'ers'])==null?void(-0x1f02+0x196b+0x35*0x1b):_0x88a7cd[_0xb0a24a];if((_0x4cb4af=this['renderTarg'+'et'])!=null&&_0x4cb4af['mipmaps']&&(_0x2d190e!=null&&_0x2d190e['mipmaps'])){const _0x397908=sa(_0x2d190e['_format']);_0x1eedf2['genMipmaps']=!_0x397908;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x1c7005=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x2d2206=Math['floor'](_0x1c7005['width']*this['scaleX']),_0x122296=Math['floor'](_0x1c7005['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x2d2206,_0x122296);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x30e912){this['_enabled']!==_0x30e912&&(this['_enabled']=_0x30e912,_0x30e912?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x2e9294){const _0x1e7d65=this['colorArray'+'Ops']['length'];for(let _0x415be0=0x3fd*0x4+0x13a6+0x1b2*-0x15;_0x415be0<_0x1e7d65;_0x415be0++){const _0x30c478=this['colorArray'+'Ops'][_0x415be0];_0x2e9294&&(_0x30c478['clearValue']['copy'](_0x2e9294),_0x30c478['clearValue'+'Linear']['linear'](_0x2e9294)),_0x30c478['clear']=!!_0x2e9294;}}['setClearDe'+'pth'](_0x17d6ae){_0x17d6ae&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x17d6ae),this['depthStenc'+'ilOps']['clearDepth']=_0x17d6ae!==void(0x22f*-0x8+-0x2ce*-0x1+0xeaa);}['setClearSt'+'encil'](_0x34bdef){_0x34bdef&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x34bdef),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x34bdef!==void(0x2075*0x1+0x1e03+-0x3e78);}['render'](){if(this['enabled']){const _0x559855=this['device'],_0x4e3391=this['renderTarg'+'et']!==void(0x16ca+0x6a9*0x5+-0x3817);b['call'](()=>{this['log'](_0x559855,_0x559855['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x4e3391&&!this['_skipStart']&&_0x559855['startRende'+'rPass'](this),this['execute'](),_0x4e3391&&!this['_skipEnd']&&_0x559855['endRenderP'+'ass'](this)),this['after'](),_0x559855['renderPass'+'Index']++;}}['log'](_0x1448ac,_0x609d56=-0x21d*-0x8+-0x2*0xfa6+0xe64){var _0x22fc71,_0x453d36,_0x3f7862;if(Qs['get'](Yp)||Qs['get'](ta)){const _0x6f1063=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x1448ac['backBuffer']:null),_0x35b090=!!(_0x6f1063!=null&&_0x6f1063['impl']['assignedCo'+'lorTexture'])||(_0x6f1063==null?void(0x3b*0x2b+0x1358+0x1*-0x1d41):_0x6f1063['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x155*-0xb+-0xde*0x8+-0x1*0x7b7),_0x211cc8=((_0x22fc71=_0x6f1063==null?void(-0x18*0xb+0x1a8a+0x1*-0x1982):_0x6f1063['_colorBuff'+'ers'])==null?void(-0x24c0*-0x1+-0x6*0xb5+-0x1b6*0x13):_0x22fc71['length'])??(_0x35b090?-0x479+-0xd61*-0x1+-0x8e7:-0x2015+-0x17b8+-0x37cd*-0x1),_0x22b7d2=_0x6f1063==null?void(-0x17a3*0x1+0x1*-0xbac+0x234f):_0x6f1063['depth'],_0x249dc7=_0x6f1063==null?void(0x15a5*0x1+0x1*0x1384+0x101*-0x29):_0x6f1063['stencil'],_0x323f12=_0x6f1063==null?void(0xe22+-0x2368+0x1546):_0x6f1063['mipLevel'],_0x160edd=_0x6f1063?'\x20RT:\x20'+(_0x6f1063?_0x6f1063['name']:'NULL')+'\x20'+(_0x211cc8>0x5b9+-0x54f*0x2+0x4e5?'[Color'+(_0x211cc8>0x22ee*-0x1+-0x1233+-0x2*-0x1a91?'\x20x\x20'+_0x211cc8:'')+']':'')+(_0x22b7d2?'[Depth]':'')+(_0x249dc7?'[Stencil]':'')+'\x20'+_0x6f1063['width']+'\x20x\x20'+_0x6f1063['height']+(this['samples']>-0x231c+-0x1*0x257b+0x4897?'\x20samples:\x20'+this['samples']:'')+(_0x323f12>0x1d12+0x1*-0x1f4e+0x8f*0x4?'\x20mipLevel:'+'\x20'+_0x323f12:''):'',_0x265519=this['_skipStart']?'++':_0x609d56['toString']()['padEnd'](-0x7da+-0x22e7+0x2ac3,'\x20');b['trace'](Yp,_0x265519+':\x20'+this['name']['padEnd'](0xd0a+-0x1e34*0x1+0x1*0x113e,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x160edd['padEnd'](0x52f+-0x2584+0x2073));for(let _0x4c430d=-0x1ec3+0x2463+-0x8*0xb4;_0x4c430d<_0x211cc8;_0x4c430d++){const _0x1ac391=this['colorArray'+'Ops'][_0x4c430d],_0x28bec1=(_0x453d36=At['get'](_0x35b090?_0x1448ac['backBuffer'+'Format']:_0x6f1063['getColorBu'+'ffer'](_0x4c430d)['format']))==null?void(0x1ce8+0x1760*0x1+-0xef*0x38):_0x453d36['name'];b['trace'](ta,'\x20\x20\x20\x20color['+_0x4c430d+']:\x20'+(_0x1ac391['clear']?'clear':'load')+'->'+(_0x1ac391['store']?'store':'discard')+'\x20'+(_0x1ac391['resolve']?'resolve\x20':'')+(_0x1ac391['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x28bec1+']\x20'+(_0x1ac391['clear']?'[clear:\x20'+_0x1ac391['clearValue']['toString'](!(-0x2*0xe9b+-0x1*0x1115+-0x69d*-0x7),!(0xd03*0x3+-0x1*-0xca3+-0x2*0x19d6))+']':''));}if(this['depthStenc'+'ilOps']){const _0x516ab7=''+(_0x6f1063['depthBuffe'+'r']?'\x20[format:\x20'+((_0x3f7862=At['get'](_0x6f1063['depthBuffe'+'r']['format']))==null?void(-0xe0f*0x2+0x548+0x25*0x9e):_0x3f7862['name'])+']':'');_0x22b7d2&&b['trace'](ta,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x516ab7+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x249dc7&&b['trace'](ta,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x516ab7+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x3dbf31){this['array'][this['index']]=_0x3dbf31;}function xb(_0x4cea15,_0x402909){this['array'][this['index']]=_0x4cea15,this['array'][this['index']+(0x3b3*0x9+-0x229d*-0x1+-0x43e7)]=_0x402909;}function Sb(_0xd0347e,_0x22b756,_0x100f5b){this['array'][this['index']]=_0xd0347e,this['array'][this['index']+(0x122a+-0x209c+0x1*0xe73)]=_0x22b756,this['array'][this['index']+(0x22b6+0x20+-0x22d4)]=_0x100f5b;}function vb(_0x4a496e,_0x16f901,_0x7c090e,_0x61d079){this['array'][this['index']]=_0x4a496e,this['array'][this['index']+(0x1bfc*-0x1+0x899+0x44*0x49)]=_0x16f901,this['array'][this['index']+(-0x1*-0x1eb7+0x269b+-0x8*0x8aa)]=_0x7c090e,this['array'][this['index']+(-0x25aa+0xdb9+0x54*0x49)]=_0x61d079;}function bb(_0x36da89,_0x438896,_0x3ca716){this['array'][_0x36da89]=_0x438896[_0x3ca716];}function wb(_0x349868,_0x15cd0f,_0x341cee){this['array'][_0x349868]=_0x15cd0f[_0x341cee],this['array'][_0x349868+(-0x37f+0x15*0x151+-0x1825)]=_0x15cd0f[_0x341cee+(-0x2af+0x1b4c+-0x4*0x627)];}function Tb(_0x28c6a7,_0x363a6d,_0x2a2c75){this['array'][_0x28c6a7]=_0x363a6d[_0x2a2c75],this['array'][_0x28c6a7+(-0xb8d+0x15de+-0xa50)]=_0x363a6d[_0x2a2c75+(0x1bfe+0xb*0x1a4+-0x2e09)],this['array'][_0x28c6a7+(-0x15c0+-0x1cdf+0x32a1)]=_0x363a6d[_0x2a2c75+(0xd6*-0x2b+0x4*0x1d7+0x131*0x18)];}function Ab(_0x3e1625,_0x5258d6,_0x1d0ee1){this['array'][_0x3e1625]=_0x5258d6[_0x1d0ee1],this['array'][_0x3e1625+(-0x1*0xf5f+-0x1614+0x2574)]=_0x5258d6[_0x1d0ee1+(-0xc2a+0x1a3e+0x3*-0x4b1)],this['array'][_0x3e1625+(0x1f74+-0x21fd*0x1+0x28b)]=_0x5258d6[_0x1d0ee1+(-0x186+-0xe9e*-0x2+-0x24*0xc5)],this['array'][_0x3e1625+(0x1c5*-0xf+0x1*-0x1b71+0x35ff)]=_0x5258d6[_0x1d0ee1+(-0x1543*0x1+-0x18ed+0x2e33)];}function Eb(_0x140dfa,_0x383911,_0x294c26){_0x383911[_0x294c26]=this['array'][_0x140dfa];}function Cb(_0x3bc85f,_0x4b2bc3,_0x29368a){_0x4b2bc3[_0x29368a]=this['array'][_0x3bc85f],_0x4b2bc3[_0x29368a+(0x2375*-0x1+-0x2259*0x1+0x353*0x15)]=this['array'][_0x3bc85f+(0x55*0x4e+-0x199*-0x5+0x1*-0x21e2)];}function Mb(_0x1b327d,_0x30fb30,_0x442263){_0x30fb30[_0x442263]=this['array'][_0x1b327d],_0x30fb30[_0x442263+(-0x13b4+-0xd53*0x2+0x2e5b*0x1)]=this['array'][_0x1b327d+(0x297+-0xbd*-0x25+-0x1de7)],_0x30fb30[_0x442263+(-0x1ba*-0x11+-0x263f+0x8e7)]=this['array'][_0x1b327d+(0x1091*-0x1+0x100b+0x88)];}function Pb(_0x30ee91,_0x326b89,_0x39d012){_0x326b89[_0x39d012]=this['array'][_0x30ee91],_0x326b89[_0x39d012+(0x633+0xb71*-0x3+0x1c21)]=this['array'][_0x30ee91+(0xaf*-0x4+0x1a35+-0x1778)],_0x326b89[_0x39d012+(-0x2*0x799+-0xc07+-0x1*-0x1b3b)]=this['array'][_0x30ee91+(-0x9*0x1e2+0x2ba+0xe3a)],_0x326b89[_0x39d012+(-0x25*-0x61+-0x1fce+0x22*0x86)]=this['array'][_0x30ee91+(0x11f1+-0x949*0x1+-0x8a5)];}class Rb{constructor(_0x4c49e5,_0xc4d2a2,_0x523d3c){switch(this['index']=0x1*-0x73c+0x1f00+0x7ec*-0x3,this['numCompone'+'nts']=_0xc4d2a2['numCompone'+'nts'],_0x523d3c['interleave'+'d']?this['array']=new fa[_0xc4d2a2['dataType']](_0x4c49e5,_0xc4d2a2['offset']):this['array']=new fa[_0xc4d2a2['dataType']](_0x4c49e5,_0xc4d2a2['offset'],_0x523d3c['vertexCoun'+'t']*_0xc4d2a2['numCompone'+'nts']),this['stride']=_0xc4d2a2['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0xc4d2a2['numCompone'+'nts']){case 0x3c5+-0xd*-0xa3+-0xc0b*0x1:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case 0x2*0x11c3+0x1edb+0x425f*-0x1:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0x1*0x20e4+0x1*0x71f+-0x898*-0x3:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case-0x1*0x22be+-0x1*-0x1f6a+0x358:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x21c95e){return this['array'][this['index']+_0x21c95e];}['set'](_0x1ab91e,_0x3e65e8,_0x435c66,_0x3ec5b0){}['getToArray'](_0x980bbc,_0x59c456,_0x2a9028){}['setFromArr'+'ay'](_0x19683f,_0x146b57,_0x5031c9){}}class vo{constructor(_0xb6bba5){this['vertexBuff'+'er']=_0xb6bba5,this['vertexForm'+'atSize']=_0xb6bba5['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x2a5477=this['vertexBuff'+'er']['getFormat']();for(let _0xa000be=0x1*0x1f04+0x149b+0x371*-0xf;_0xa000be<_0x2a5477['elements']['length'];_0xa000be++){const _0x36230d=_0x2a5477['elements'][_0xa000be];this['accessors'][_0xa000be]=new Rb(this['buffer'],_0x36230d,_0x2a5477),this['element'][_0x36230d['name']]=this['accessors'][_0xa000be];}}['next'](_0x20f66e=0x4d*0x73+-0x26f1+0x45b){let _0x1ca9e0=0x2612+-0x1fd3+-0x1*0x63f;const _0x4aa3a4=this['accessors'],_0x261861=this['accessors']['length'];for(;_0x1ca9e0<_0x261861;){const _0x54c5b5=_0x4aa3a4[_0x1ca9e0++];_0x54c5b5['index']+=_0x20f66e*_0x54c5b5['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x3abb4d,_0x4de8d3,_0x22e402){const _0x3b1b62=this['element'][_0x3abb4d];if(_0x3b1b62){_0x22e402>this['vertexBuff'+'er']['numVertice'+'s']&&(b['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x22e402+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x22e402=this['vertexBuff'+'er']['numVertice'+'s']);const _0x380930=_0x3b1b62['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x148fd5=0x169e+0x2*0xe0a+-0x1*0x32b2;for(let _0x1048fe=-0x2cf+-0x2*0xba7+0x5*0x539;_0x1048fe<_0x22e402;_0x1048fe++)_0x3b1b62['setFromArr'+'ay'](_0x148fd5,_0x4de8d3,_0x1048fe*_0x380930),_0x148fd5+=_0x3b1b62['stride'];}else{if(_0x4de8d3['length']>_0x22e402*_0x380930){const _0xe82d52=_0x22e402*_0x380930;if(ArrayBuffer['isView'](_0x4de8d3))_0x4de8d3=_0x4de8d3['subarray'](0x13e8+0x1*0x2041+-0x3429,_0xe82d52),_0x3b1b62['array']['set'](_0x4de8d3);else{for(let _0x11c5f9=0x67a+-0xe11+0x1d*0x43;_0x11c5f9<_0xe82d52;_0x11c5f9++)_0x3b1b62['array'][_0x11c5f9]=_0x4de8d3[_0x11c5f9];}}else _0x3b1b62['array']['set'](_0x4de8d3);}}}['readData'](_0x23fa6c,_0x5f3055){const _0x288629=this['element'][_0x23fa6c];let _0x17cd10=-0x2d7*-0x5+-0x1f71+0x113e;if(_0x288629){_0x17cd10=this['vertexBuff'+'er']['numVertice'+'s'];let _0x2cc46a;const _0x4cda4d=_0x288629['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x5f3055)&&(_0x5f3055['length']=0x7*-0x3a2+0x137f+0x5ef*0x1),_0x288629['index']=-0xad1+-0x1649+-0x211a*-0x1;let _0x31e433=0x2401+-0xbed+0x17*-0x10c;for(_0x2cc46a=-0x10c1+0x2162+-0x10a1;_0x2cc46a<_0x17cd10;_0x2cc46a++)_0x288629['getToArray'](_0x31e433,_0x5f3055,_0x2cc46a*_0x4cda4d),_0x31e433+=_0x288629['stride'];}else{if(ArrayBuffer['isView'](_0x5f3055))_0x5f3055['set'](_0x288629['array']);else{_0x5f3055['length']=-0x1eef+-0x65a*-0x2+0x123b;const _0x5838c1=_0x17cd10*_0x4cda4d;for(_0x2cc46a=-0x1b49+0x3ad+0x179c;_0x2cc46a<_0x5838c1;_0x2cc46a++)_0x5f3055[_0x2cc46a]=_0x288629['array'][_0x2cc46a];}}}return _0x17cd10;}}const Dm='mousedown',Lm='mousemove',Fm='mouseup',Du='mousewheel',Ib=-(0x1963+0x3*0xc17+-0x3da7*0x1);class Db{constructor(_0x1f9005,_0x1bd694){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x1bd694&&(this['key']=_0x1bd694['keyCode'],this['element']=_0x1bd694['target'],this['event']=_0x1bd694);}}const Al=new Db();function gd(_0x2276ab){return Al['key']=_0x2276ab['keyCode'],Al['element']=_0x2276ab['target'],Al['event']=_0x2276ab,Al;}function El(_0x4b5502){return typeof _0x4b5502=='string'?_0x4b5502['toUpperCas'+'e']()['charCodeAt'](0x4*0x4e5+-0xb0*0x30+0xd6c):_0x4b5502;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class km extends de{constructor(_0x116350,_0x1db157={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x116350&&this['attach'](_0x116350),this['preventDef'+'ault']=_0x1db157['preventDef'+'ault']||!(-0x1f*-0x115+-0xf38+-0x1252),this['stopPropag'+'ation']=_0x1db157['stopPropag'+'ation']||!(-0x239*0xd+-0x2e1*-0xa+0xe*0x2));}['attach'](_0x3b01b5){this['_element']&&this['detach'](),this['_element']=_0x3b01b5,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x3e3*-0x5+-0x23f4+-0x1a7*-0xa)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x1a59+-0x1*-0x182d+-0x1df*0x1b)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x497+-0x847+0xcdf)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x8*0x43e+-0x21ab+-0x21ce*-0x2)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1*-0x18b9+0x5*0x2d+0x17d9));}['detach'](){if(!this['_element']){b['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x4*0x976+-0x1*0x979+0x6*0x7e3)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x1*0x1f0d+-0x158d+-0xbb*0xd));}['toKeyIdent'+'ifier'](_0xeeb90f){_0xeeb90f=El(_0xeeb90f);const _0xbeaf1d=Lb[_0xeeb90f['toString']()];if(_0xbeaf1d)return _0xbeaf1d;let _0x53c593=_0xeeb90f['toString'](0x1*0x6eb+0x1e1f+-0x24fa)['toUpperCas'+'e']();const _0x3f0b90=_0x53c593['length'];for(let _0x52bcac=-0x2632*-0x1+0x277+-0x28a9;_0x52bcac<-0x1ede+-0x41a+0x22fc-_0x3f0b90;_0x52bcac++)_0x53c593='0'+_0x53c593;return'U+'+_0x53c593;}['_handleKey'+'Down'](_0x4f5414){const _0x303091=_0x4f5414['keyCode']||_0x4f5414['charCode'];if(_0x303091===void(-0x905+0x96+0x86f*0x1))return;const _0x5b4241=this['toKeyIdent'+'ifier'](_0x303091);this['_keymap'][_0x5b4241]=!(-0x19b2+0x791+0x1221),this['fire']('keydown',gd(_0x4f5414)),this['preventDef'+'ault']&&_0x4f5414['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4f5414['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x109ab8){const _0x2947e3=_0x109ab8['keyCode']||_0x109ab8['charCode'];if(_0x2947e3===void(0x9b0+-0x17a1+0x2b*0x53))return;const _0x1c3ae6=this['toKeyIdent'+'ifier'](_0x2947e3);delete this['_keymap'][_0x1c3ae6],this['fire']('keyup',gd(_0x109ab8)),this['preventDef'+'ault']&&_0x109ab8['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x109ab8['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x314ce7){this['fire']('keypress',gd(_0x314ce7)),this['preventDef'+'ault']&&_0x314ce7['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x314ce7['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x1730bf in this['_lastmap'])delete this['_lastmap'][_0x1730bf];for(const _0x279ff1 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x279ff1)&&(this['_lastmap'][_0x279ff1]=this['_keymap'][_0x279ff1]);}['isPressed'](_0x1e0964){const _0x447ddb=El(_0x1e0964),_0x3b8c0a=this['toKeyIdent'+'ifier'](_0x447ddb);return!!this['_keymap'][_0x3b8c0a];}['wasPressed'](_0x1e467c){const _0x596b2e=El(_0x1e467c),_0x4ddb34=this['toKeyIdent'+'ifier'](_0x596b2e);return!!this['_keymap'][_0x4ddb34]&&!this['_lastmap'][_0x4ddb34];}['wasRelease'+'d'](_0x23d0da){const _0x260279=El(_0x23d0da),_0x57528b=this['toKeyIdent'+'ifier'](_0x260279);return!this['_keymap'][_0x57528b]&&!!this['_lastmap'][_0x57528b];}}c(km,'EVENT_KEYD'+'OWN','keydown'),c(km,'EVENT_KEYU'+'P','keyup');function Lu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ia{constructor(_0x5c41ba,_0x38a170){c(this,'x',0x11*-0x10c+0x1319*0x1+0x9*-0x25),c(this,'y',-0x1409+0x6ea*0x1+-0xd1f*-0x1),c(this,'dx',-0x481*0x8+-0x2*0x8e0+0x35c8),c(this,'dy',0x113b+0x17b6+-0x2f*0xdf),c(this,'button',Ib),c(this,'wheelDelta',0x1*0x1144+-0x18a*-0x3+-0x15e2),c(this,'element'),c(this,'ctrlKey',!(-0x2*0x10eb+-0xf63+0x313a)),c(this,'altKey',!(0x61*0x3d+-0x1f2d+0x811)),c(this,'shiftKey',!(0x91*-0x16+0x42*0x19+0x605)),c(this,'metaKey',!(-0x1adc+-0x1*0x10e7+0x2*0x15e2)),c(this,'event');let _0x7c518b={'x':0x0,'y':0x0};if(_0x38a170){if(_0x38a170 instanceof ia)throw Error('Expected\x20M'+'ouseEvent');_0x7c518b=_0x5c41ba['_getTarget'+'Coords'](_0x38a170);}else _0x38a170={};if(_0x7c518b)this['x']=_0x7c518b['x'],this['y']=_0x7c518b['y'];else{if(Lu())this['x']=-0x915+-0x248*-0xc+0x1*-0x124b,this['y']=0x16b6+-0x2*0x11c3+0xcd0;else return;}_0x38a170['type']==='wheel'&&(_0x38a170['deltaY']>-0x15e6+-0x3*0xbe1+0x3989?this['wheelDelta']=-0xb*0x2b6+0x1019*0x2+-0x1*0x25f:_0x38a170['deltaY']<0xf*-0xc1+0x653*-0x2+-0x17f5*-0x1&&(this['wheelDelta']=-(-0x1555*-0x1+0xd7+-0x162b))),Lu()?(this['dx']=_0x38a170['movementX']||_0x38a170['webkitMove'+'mentX']||_0x38a170['mozMovemen'+'tX']||-0x9*0x21f+0x1a8e+-0x93*0xd,this['dy']=_0x38a170['movementY']||_0x38a170['webkitMove'+'mentY']||_0x38a170['mozMovemen'+'tY']||-0x4f5+0x4*-0x6df+0x37*0x97):(this['dx']=this['x']-_0x5c41ba['_lastX'],this['dy']=this['y']-_0x5c41ba['_lastY']),(_0x38a170['type']==='mousedown'||_0x38a170['type']==='mouseup')&&(this['button']=_0x38a170['button']),this['buttons']=_0x5c41ba['_buttons']['slice'](0x9c4+0xe48+-0x180c),this['element']=_0x38a170['target'],this['ctrlKey']=_0x38a170['ctrlKey']??!(0xa97*0x1+0x12f7+0x59*-0x55),this['altKey']=_0x38a170['altKey']??!(0xd5*-0x2b+-0x2*-0xdd9+0x816),this['shiftKey']=_0x38a170['shiftKey']??!(0x417*0x1+0x1*-0x213a+0x1d24),this['metaKey']=_0x38a170['metaKey']??!(-0xada+-0x205d+-0x2*-0x159c),this['event']=_0x38a170;}}class Cl extends de{constructor(_0x51624b){super(),c(this,'_lastX',0x10ab*0x2+-0x1340+0x2*-0x70b),c(this,'_lastY',0x530*-0x6+-0x589+0x1*0x24a9),c(this,'_buttons',[!(0x260+0x1939+-0x8*0x373),!(0x2021+-0x1cab+0x1*-0x375),!(-0x2*0x667+0x1d4f+-0x1080)]),c(this,'_lastbutto'+'ns',[!(-0x2*0xe55+0x3*0x639+0xa00),!(-0xe*-0x22a+-0x4eb*0x7+0x422),!(-0x13a9+-0xc63+0x200d)]),c(this,'_target',null),c(this,'_attached',!(0x137+0x20bd+-0x21f3*0x1)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x32f073=>{_0x32f073['preventDef'+'ault']();},this['attach'](_0x51624b));}static['isPointerL'+'ocked'](){return Lu();}['attach'](_0x654716){if(this['_target']=_0x654716,this['_attached'])return;this['_attached']=!(-0x20f1+0x4*-0x23b+-0x5fb*-0x7);const _0x114143={'passive':!(-0x12*0x14d+0xc2a+0xb41*0x1)},_0x3d4da3=be['passiveEve'+'nts']?_0x114143:!(-0xa*-0x3af+-0x46f*0x1+0x2066*-0x1);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x3d4da3),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x3d4da3),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x3d4da3),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x3d4da3);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x6b8+-0x16e0+-0x1d99*-0x1),this['_target']=null;const _0x134a15={'passive':!(-0x52b+0x121f*-0x1+-0x1*-0x174b)},_0x546b11=be['passiveEve'+'nts']?_0x134a15:!(-0x1bfd+-0x36+0x17c*0x13);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x546b11),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x546b11),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x546b11),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x546b11);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x2d16a4,_0x5200a6){if(!document['body']['requestPoi'+'nterLock']){_0x5200a6&&_0x5200a6();return;}const _0x327cbf=()=>{_0x2d16a4(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x327cbf);},_0x1fccbd=()=>{_0x5200a6(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x1fccbd);};_0x2d16a4&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x327cbf,!(-0x2544+-0x23bc+0x6a3*0xb)),_0x5200a6&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x1fccbd,!(0x24c1+-0x4e*0x6+-0x22ec)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x352d84){if(!document['exitPointe'+'rLock'])return;const _0x47e8e7=()=>{_0x352d84(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x47e8e7);};_0x352d84&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x47e8e7,!(-0x707+0x50*-0x49+0x1dd8)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x7*0x24f+-0xd8a+-0x29f]=this['_buttons'][0x5b*0x7+-0x4be*0x4+0x107b],this['_lastbutto'+'ns'][-0x2*0xbfb+0x1b51+-0x35a]=this['_buttons'][0x77*0x4a+-0x1e92+-0x3d3],this['_lastbutto'+'ns'][0x4d7+0x1a07+0x4*-0x7b7]=this['_buttons'][-0x1*0x621+0x23c7+-0x21e*0xe];}['isPressed'](_0x1d38ad){return this['_buttons'][_0x1d38ad];}['wasPressed'](_0x463699){return this['_buttons'][_0x463699]&&!this['_lastbutto'+'ns'][_0x463699];}['wasRelease'+'d'](_0x5556d0){return!this['_buttons'][_0x5556d0]&&this['_lastbutto'+'ns'][_0x5556d0];}['_handleUp'](_0x2c43ea){this['_buttons'][_0x2c43ea['button']]=!(-0x1e6+0x2682+-0x249b*0x1);const _0x49b7c8=new ia(this,_0x2c43ea);_0x49b7c8['event']&&this['fire'](Fm,_0x49b7c8);}['_handleDow'+'n'](_0x37c933){this['_buttons'][_0x37c933['button']]=!(0x1a8a+0xcc+-0x1b56);const _0x32a059=new ia(this,_0x37c933);_0x32a059['event']&&this['fire'](Dm,_0x32a059);}['_handleMov'+'e'](_0x4fa6e6){const _0x1bfe46=new ia(this,_0x4fa6e6);_0x1bfe46['event']&&(this['fire'](Lm,_0x1bfe46),this['_lastX']=_0x1bfe46['x'],this['_lastY']=_0x1bfe46['y']);}['_handleWhe'+'el'](_0x3016ce){const _0x1a6aa8=new ia(this,_0x3016ce);_0x1a6aa8['event']&&this['fire'](Du,_0x1a6aa8);}['_getTarget'+'Coords'](_0x52185f){const _0x30b819=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x5ba0e6=Math['floor'](_0x30b819['left']),_0x4a133=Math['floor'](_0x30b819['top']);return _0x52185f['clientX']<_0x5ba0e6||_0x52185f['clientX']>=_0x5ba0e6+this['_target']['clientWidt'+'h']||_0x52185f['clientY']<_0x4a133||_0x52185f['clientY']>=_0x4a133+this['_target']['clientHeig'+'ht']?null:{'x':_0x52185f['clientX']-_0x5ba0e6,'y':_0x52185f['clientY']-_0x4a133};}}c(Cl,'EVENT_MOUS'+'EMOVE',Lm),c(Cl,'EVENT_MOUS'+'EDOWN',Dm),c(Cl,'EVENT_MOUS'+'EUP',Fm),c(Cl,'EVENT_MOUS'+'EWHEEL',Du);const Ee=class Ee{['get'](_0x353928,_0x3aef10,_0x5f28bb){return typeof _0x3aef10=='function'&&(_0x5f28bb=_0x3aef10,_0x3aef10={}),this['request']('GET',_0x353928,_0x3aef10,_0x5f28bb);}['post'](_0x323369,_0x1567b6,_0x1eb888,_0x332cdd){return typeof _0x1eb888=='function'&&(_0x332cdd=_0x1eb888,_0x1eb888={}),_0x1eb888['postdata']=_0x1567b6,this['request']('POST',_0x323369,_0x1eb888,_0x332cdd);}['put'](_0x15aef1,_0xef433,_0x45b199,_0x515031){return typeof _0x45b199=='function'&&(_0x515031=_0x45b199,_0x45b199={}),_0x45b199['postdata']=_0xef433,this['request']('PUT',_0x15aef1,_0x45b199,_0x515031);}['del'](_0x9efc57,_0x576855,_0x2f2583){return typeof _0x576855=='function'&&(_0x2f2583=_0x576855,_0x576855={}),this['request']('DELETE',_0x9efc57,_0x576855,_0x2f2583);}['request'](_0x5cad43,_0x158b84,_0x4525a6,_0x4d4f13){let _0x298742,_0x22b0ef,_0x4d8f90,_0x44c299=!(0xd*-0x2f3+0xede*0x1+0x177a);if(typeof _0x4525a6=='function'&&(_0x4d4f13=_0x4525a6,_0x4525a6={}),_0x4525a6['retry']&&(_0x4525a6=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x4525a6)),_0x4525a6['callback']=_0x4d4f13,_0x4525a6['async']==null&&(_0x4525a6['async']=!(0x461*-0x1+0x91b+0x1*-0x4ba)),_0x4525a6['headers']==null&&(_0x4525a6['headers']={}),_0x4525a6['postdata']!=null){if(_0x4525a6['postdata']instanceof Document)_0x4d8f90=_0x4525a6['postdata'];else{if(_0x4525a6['postdata']instanceof FormData)_0x4d8f90=_0x4525a6['postdata'];else{if(_0x4525a6['postdata']instanceof Object){let _0x2588ad=_0x4525a6['headers']['Content-Ty'+'pe'];switch(_0x2588ad===void(0x152*0x10+0x2403+0x1*-0x3923)&&(_0x4525a6['headers']['Content-Ty'+'pe']=Ee['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x2588ad=_0x4525a6['headers']['Content-Ty'+'pe']),_0x2588ad){case Ee['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x4d8f90='';let _0x2fb3f4=!(-0x1436+-0x1cf0+0x3126);for(const _0x3f2219 in _0x4525a6['postdata'])if(_0x4525a6['postdata']['hasOwnProp'+'erty'](_0x3f2219)){_0x2fb3f4?_0x2fb3f4=!(-0x1*0x12f4+-0x18*0x179+0x364d):_0x4d8f90+='&';const _0x299200=encodeURIComponent(_0x3f2219),_0x2af7f0=encodeURIComponent(_0x4525a6['postdata'][_0x3f2219]);_0x4d8f90+=_0x299200+'='+_0x2af7f0;}break;}default:case Ee['ContentTyp'+'e']['JSON']:_0x2588ad==null&&(_0x4525a6['headers']['Content-Ty'+'pe']=Ee['ContentTyp'+'e']['JSON']),_0x4d8f90=JSON['stringify'](_0x4525a6['postdata']);break;}}else _0x4d8f90=_0x4525a6['postdata'];}}}if(_0x4525a6['cache']===!(0xe7c*0x2+0x101*0x26+0xcf*-0x53)){const _0x10552e=ae();_0x298742=new ad(_0x158b84),_0x298742['query']?_0x298742['query']=_0x298742['query']+'&ts='+_0x10552e:_0x298742['query']='ts='+_0x10552e,_0x158b84=_0x298742['toString']();}_0x4525a6['query']&&(_0x298742=new ad(_0x158b84),_0x22b0ef=Eh(_0x298742['getQuery'](),_0x4525a6['query']),_0x298742['setQuery'](_0x22b0ef),_0x158b84=_0x298742['toString']());const _0x453590=new XMLHttpRequest();_0x453590['open'](_0x5cad43,_0x158b84,_0x4525a6['async']),_0x453590['withCreden'+'tials']=_0x4525a6['withCreden'+'tials']!==void(0xf*0x11+-0x43*-0x25+-0xaae*0x1)?_0x4525a6['withCreden'+'tials']:!(-0x1c1*0x3+0x25c4+0x28*-0xd0),_0x453590['responseTy'+'pe']=_0x4525a6['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x158b84);for(const _0x3a52b4 in _0x4525a6['headers'])_0x4525a6['headers']['hasOwnProp'+'erty'](_0x3a52b4)&&_0x453590['setRequest'+'Header'](_0x3a52b4,_0x4525a6['headers'][_0x3a52b4]);_0x453590['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x5cad43,_0x158b84,_0x4525a6,_0x453590);},_0x453590['onerror']=()=>{this['_onError'](_0x5cad43,_0x158b84,_0x4525a6,_0x453590),_0x44c299=!(-0x5a4+0xebd+-0x1*0x919);};try{_0x453590['send'](_0x4d8f90);}catch(_0x52d14c){_0x44c299||_0x4525a6['error'](_0x453590['status'],_0x453590,_0x52d14c);}return _0x453590;}['_guessResp'+'onseType'](_0xea53f9){const _0x5e10e8=new ad(_0xea53f9),_0x29bc01=me['getExtensi'+'on'](_0x5e10e8['path'])['toLowerCas'+'e']();return Ee['binaryExte'+'nsions']['indexOf'](_0x29bc01)>=0x1*-0xeb7+-0x226f*0x1+0x3126?Ee['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x29bc01==='.json'?Ee['ResponseTy'+'pe']['JSON']:_0x29bc01==='.xml'?Ee['ResponseTy'+'pe']['DOCUMENT']:Ee['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x1c1d5c){return[Ee['ContentTyp'+'e']['BASIS'],Ee['ContentTyp'+'e']['BIN'],Ee['ContentTyp'+'e']['DDS'],Ee['ContentTyp'+'e']['GLB'],Ee['ContentTyp'+'e']['MP3'],Ee['ContentTyp'+'e']['MP4'],Ee['ContentTyp'+'e']['OGG'],Ee['ContentTyp'+'e']['OPUS'],Ee['ContentTyp'+'e']['WAV']]['indexOf'](_0x1c1d5c)>=0x1998+-0x1f21+0x589;}['_isBinaryR'+'esponseTyp'+'e'](_0x5a77d2){return _0x5a77d2===Ee['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x5a77d2===Ee['ResponseTy'+'pe']['BLOB']||_0x5a77d2===Ee['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x3c7e65,_0x1a884e,_0x3715fc,_0x861591){if(_0x861591['readyState']===-0x154c+-0x1c1b+0x316b)switch(_0x861591['status']){case-0x2f6*-0x3+-0x403+-0x4df:{_0x861591['responseUR'+'L']&&_0x861591['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x3c7e65,_0x1a884e,_0x3715fc,_0x861591):this['_onError'](_0x3c7e65,_0x1a884e,_0x3715fc,_0x861591);break;}case-0x1*-0x339+0x2*0x1c5+-0x1*0x5fb:case 0x2*-0x45f+0x1db1*-0x1+0x2*0x139c:case-0x24d9+-0x1c54+0x41fb:case 0x29*0x2f+-0x1040+0x9e9:{this['_onSuccess'](_0x3c7e65,_0x1a884e,_0x3715fc,_0x861591);break;}default:{this['_onError'](_0x3c7e65,_0x1a884e,_0x3715fc,_0x861591);break;}}}['_onSuccess'](_0x34308a,_0x55667f,_0x88c540,_0x374037){let _0x83c853,_0x2569b7;const _0x886980=_0x374037['getRespons'+'eHeader']('Content-Ty'+'pe');_0x886980&&(_0x2569b7=_0x886980['split'](';')[-0x19e5*-0x1+-0x251*-0xc+0x1*-0x35b1]['trim']());try{this['_isBinaryC'+'ontentType'](_0x2569b7)||this['_isBinaryR'+'esponseTyp'+'e'](_0x374037['responseTy'+'pe'])?_0x83c853=_0x374037['response']:_0x2569b7===Ee['ContentTyp'+'e']['JSON']||_0x55667f['split']('?')[0x1e8a+-0x11*-0x3d+-0x2297]['endsWith']('.json')?_0x83c853=JSON['parse'](_0x374037['responseTe'+'xt']):_0x374037['responseTy'+'pe']===Ee['ResponseTy'+'pe']['DOCUMENT']||_0x2569b7===Ee['ContentTyp'+'e']['XML']?_0x83c853=_0x374037['responseXM'+'L']:_0x83c853=_0x374037['responseTe'+'xt'],_0x88c540['callback'](null,_0x83c853);}catch(_0x55d450){_0x88c540['callback'](_0x55d450);}}['_onError'](_0x3b839d,_0x5b46e2,_0x551580,_0x5d1277){if(!_0x551580['retrying']){if(_0x551580['retry']&&_0x551580['retries']<_0x551580['maxRetries']){_0x551580['retries']++,_0x551580['retrying']=!(-0xc83+-0x2*0xe7f+-0x84d*-0x5);const _0x52562f=z['clamp'](Math['pow'](0xb*0x79+-0x4*-0xe5+0x1c1*-0x5,_0x551580['retries'])*Ee['retryDelay'],0x3*-0x101+-0x8c8+0xbcb,_0x551580['maxRetryDe'+'lay']||0xcad*-0x1+0x1b11+0x524);console['log'](_0x3b839d+':\x20'+_0x5b46e2+'\x20-\x20Error\x20'+_0x5d1277['status']+('.\x20Retrying'+'\x20in\x20')+_0x52562f+'\x20ms'),setTimeout(()=>{_0x551580['retrying']=!(-0x251d+0x10a7+0x1477),this['request'](_0x3b839d,_0x5b46e2,_0x551580,_0x551580['callback']);},_0x52562f);}else _0x551580['callback'](_0x5d1277['status']===0x1e9a*-0x1+-0x573*-0x3+0xe41?'Network\x20er'+'ror':_0x5d1277['status'],null);}}};c(Ee,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(Ee,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(Ee,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(Ee,'retryDelay',-0x13cd*0x1+-0x3c4*-0x4+0x521);let ps=Ee;const Ye=new ps();function Ni(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class Vh{constructor(_0x433849,_0x814901,_0x4be433={}){if(this['volume']=_0x4be433['volume']??0x168c+0x2667+-0x3cf2,this['loop']=_0x4be433['loop']??!(0x3*0x534+-0x2607+0x166c),this['pitch']=_0x4be433['pitch']??0x26ea+0xb33+-0x42d*0xc,this['sound']=_0x814901,this['paused']=!(0x19e9+0xeb8+0x104*-0x28),this['suspended']=!(-0x529+-0xc8d+0x11b7*0x1),this['manager']=_0x433849,this['source']=null,Ni()){this['startTime']=0x1223+-0x215e+0xf3b,this['startOffse'+'t']=0x1e8d+-0x1*-0x127d+-0x310a*0x1;const _0x33b520=_0x433849['context'];this['gain']=_0x33b520['createGain']();}else _0x814901['audio']&&(this['source']=_0x814901['audio']['cloneNode'](!(-0xe45+0x1945+-0x5*0x233)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x1f9956){this['loop']=_0x1f9956,this['source']&&(this['source']['loop']=_0x1f9956);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0xb*0x18b+-0x2c1+0x13ba),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(-0x1fe7*-0x1+-0x1b1*0x16+0x550),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x1fa*-0x7+-0xf1d+0x147,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x2bf*0x5+-0x5*0x23+0xe6a),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](0x1f99+-0x184e+-0x1*0x74b),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x2*-0xd2f+-0x1*0x1394+0x2df2,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0x77d*-0x3+0x14c1+-0x1*0x2b37));}['stop'](){this['source']&&(this['source']['stop'](-0x2*-0x688+0x1*-0x2569+0x1859),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x5ba7ee){_0x5ba7ee=z['clamp'](_0x5ba7ee,0x1*0x315+0x3*0x15f+-0x1*0x732,-0x375*-0x5+-0x2014+-0x2*-0x766),this['volume']=_0x5ba7ee,this['gain']&&(this['gain']['gain']['value']=_0x5ba7ee*this['manager']['volume']);}['setPitch'](_0x398aa0){this['pitch']=_0x398aa0,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x398aa0);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:-0x8e*-0x11+0x13*-0xc7+-0x557*-0x1;}['_createSou'+'rce'](){const _0x4db6c8=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x4db6c8['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x4db6c8['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Ni()||Object['assign'](Vh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0x1c8b+0x15d*-0x1+-0x1b2d),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(0xb68+0x85b+-0x13c3),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0xd9f+-0x2357+0x15b9),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x2d656e){_0x2d656e=z['clamp'](_0x2d656e,-0x12bb*0x1+0xe85+0x436,0xec9+-0x12fb*0x1+0x1*0x433),this['volume']=_0x2d656e,this['source']&&(this['source']['volume']=_0x2d656e*this['manager']['volume']);},'setPitch':function(_0x578e3d){this['pitch']=_0x578e3d,this['source']&&(this['source']['playbackRa'+'te']=_0x578e3d);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:0x1da5+0x5a9+-0x2*0x11a7;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=-0x3337+0x4676+0x13d1;class Fu extends Vh{constructor(_0x4db557,_0x5aa09e,_0x33d5a2){super(_0x4db557,_0x5aa09e,_0x33d5a2),this['position']=new A(),this['velocity']=new A(),Ni()?this['panner']=_0x4db557['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=0x12*-0x11e+-0x12db+0x3a*0xac,this['rollOffFac'+'tor']=0x1*-0xc4d+0xe56+-0x14*0x1a,this['distanceMo'+'del']=Nf);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x2773e5){this['position']['copy'](_0x2773e5);const _0xb6a1f8=this['panner'];'positionX'in _0xb6a1f8?(_0xb6a1f8['positionX']['value']=_0x2773e5['x'],_0xb6a1f8['positionY']['value']=_0x2773e5['y'],_0xb6a1f8['positionZ']['value']=_0x2773e5['z']):_0xb6a1f8['setPositio'+'n']&&_0xb6a1f8['setPositio'+'n'](_0x2773e5['x'],_0x2773e5['y'],_0x2773e5['z']);}['getVelocit'+'y'](){return b['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x19f873){b['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x19f873);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x14b8c8){this['panner']['maxDistanc'+'e']=_0x14b8c8;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x2dc527){this['panner']['refDistanc'+'e']=_0x2dc527;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0xbd7303){this['panner']['rolloffFac'+'tor']=_0xbd7303;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x14f100){this['panner']['distanceMo'+'del']=_0x14f100;}['_createSou'+'rce'](){const _0x32dac3=this['manager']['context'];this['source']=_0x32dac3['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x32dac3['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Ni()){let l=new A();const t=function(_0x4201d3,_0x5f493,_0x342734,_0x546057,_0x48b91d,_0x389ca8){l=l['sub2'](_0x4201d3,_0x5f493);const _0x14715b=l['length']();if(_0x14715b<_0x342734)return-0x6*0x675+0x6b9+0x2006;if(_0x14715b>_0x546057)return 0x138b*0x1+-0x1af*0x1+-0x11dc;let _0x5a9288=0x12c0+0x6*0x2b3+-0x22f2;return _0x389ca8===mc?_0x5a9288=-0x18c+0x2eb*0x5+0xd0a*-0x1-_0x48b91d*(_0x14715b-_0x342734)/(_0x546057-_0x342734):_0x389ca8===Nf?_0x5a9288=_0x342734/(_0x342734+_0x48b91d*(_0x14715b-_0x342734)):_0x389ca8===dy&&(_0x5a9288=Math['pow'](_0x14715b/_0x342734,-_0x48b91d)),z['clamp'](_0x5a9288,0x218d+-0x160a+0x1*-0xb83,0xc55+0x37f*-0x4+0x6a*0x4);};Object['assign'](Fu['prototype'],{'setPosition':function(_0x2700a6){if(this['position']['copy'](_0x2700a6),this['source']){const _0x4583f8=this['manager']['listener']['getPositio'+'n'](),_0x314153=t(_0x4583f8,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x340d33=this['getVolume']();this['source']['volume']=_0x340d33*_0x314153;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x371ce1){this['maxDistanc'+'e']=_0x371ce1;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x2a780d){this['minDistanc'+'e']=_0x2a780d;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x59fad3){this['rollOffFac'+'tor']=_0x59fad3;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x59c79e){this['distanceMo'+'del']=_0x59c79e;}});}class kb{constructor(_0x264bff){c(this,'_manager'),c(this,'position',new A()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x264bff;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x4e50a7){this['position']['copy'](_0x4e50a7);const _0x312db2=this['listener'];_0x312db2&&('positionX'in _0x312db2?(_0x312db2['positionX']['value']=_0x4e50a7['x'],_0x312db2['positionY']['value']=_0x4e50a7['y'],_0x312db2['positionZ']['value']=_0x4e50a7['z']):_0x312db2['setPositio'+'n']&&_0x312db2['setPositio'+'n'](_0x4e50a7['x'],_0x4e50a7['y'],_0x4e50a7['z']));}['setOrienta'+'tion'](_0x102239){this['orientatio'+'n']['copy'](_0x102239);const _0x49de72=this['listener'];if(_0x49de72){const _0x69bb06=_0x102239['data'];'forwardX'in _0x49de72?(_0x49de72['forwardX']['value']=-_0x69bb06[-0x51e*0x4+0xa3f*-0x3+-0x3f1*-0xd],_0x49de72['forwardY']['value']=-_0x69bb06[-0x19a2+0x1681+-0x1*-0x32a],_0x49de72['forwardZ']['value']=-_0x69bb06[0x644*-0x1+-0x17e2+0x1e30],_0x49de72['upX']['value']=_0x69bb06[-0x1*0xbb7+-0x1*-0x1451+-0x896],_0x49de72['upY']['value']=_0x69bb06[0x1054+-0x1*0x112d+0x25*0x6],_0x49de72['upZ']['value']=_0x69bb06[-0x1b32+0x2*0x3e+0x1abc]):_0x49de72['setOrienta'+'tion']&&_0x49de72['setOrienta'+'tion'](-_0x69bb06[-0x219c+0x1*0x9fe+0x17a6],-_0x69bb06[0x1*0xf6b+0x1a40+-0x29a2],-_0x69bb06[-0x1932+0x5*-0x751+0x3dd1],_0x69bb06[-0x3*0x685+0x22db*0x1+-0xf48],_0x69bb06[0x3a*-0x6f+0xbf*0x9+0x1274*0x1],_0x69bb06[0x1e5a+-0x2*0x881+0xd52*-0x1]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x31053d=this['_manager']['context'];return _0x31053d?_0x31053d['listener']:null;}}const Ml='running',Om=['click','touchstart','mousedown'];class Ob extends de{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||b['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x30*0xce+0x9a9*0x2+-0x1*0x39f1),this['listener']=new kb(this),this['_volume']=0x1b29+0x21f3+-0x1*0x3d1b;}set['volume'](_0x50648d){_0x50648d=z['clamp'](_0x50648d,0x25fe+0x1e65*-0x1+-0x1*0x799,-0x89e+-0x16ae+0x1f4d),this['_volume']=_0x50648d,this['fire']('volumechan'+'ge',_0x50648d);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ml&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(-0x1*0x1521+0x4*-0x464+0x587*0x7),this['_context']&&this['_context']['state']===Ml&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x10a2+-0x793*0x1+0x13*-0x7a),this['_context']&&this['_context']['state']!==Ml&&this['_resume']());}['destroy'](){var _0x558d93;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x558d93=this['_context'])==null||_0x558d93['close'](),this['_context']=null);}['playSound'](_0x4a7005,_0x27ff60={}){let _0xb0cb64=null;return Vh&&(_0xb0cb64=new Vh(this,_0x4a7005,_0x27ff60),_0xb0cb64['play']()),_0xb0cb64;}['playSound3'+'d'](_0x1ebf24,_0x562145,_0x238275={}){let _0x4c2005=null;return Fu&&(_0x4c2005=new Fu(this,_0x1ebf24,_0x238275),_0x4c2005['setPositio'+'n'](_0x562145),_0x238275['volume']&&_0x4c2005['setVolume'](_0x238275['volume']),_0x238275['loop']&&_0x4c2005['setLoop'](_0x238275['loop']),_0x238275['maxDistanc'+'e']&&_0x4c2005['setMaxDist'+'ance'](_0x238275['maxDistanc'+'e']),_0x238275['minDistanc'+'e']&&_0x4c2005['setMinDist'+'ance'](_0x238275['minDistanc'+'e']),_0x238275['rollOffFac'+'tor']&&_0x4c2005['setRollOff'+'Factor'](_0x238275['rollOffFac'+'tor']),_0x238275['distanceMo'+'del']&&_0x4c2005['setDistanc'+'eModel'](_0x238275['distanceMo'+'del']),_0x4c2005['play']()),_0x4c2005;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x47634f=this['_context']['createBuff'+'erSource']();_0x47634f['buffer']=this['_context']['createBuff'+'er'](0xcc1*-0x1+-0x8e*-0xc+0x61a,-0xd*-0x129+-0x1d35+0xe21,this['_context']['sampleRate']),_0x47634f['connect'](this['_context']['destinatio'+'n']),_0x47634f['start'](0x1939+-0xfba+-0x97f),_0x47634f['onended']=_0x5c7d10=>{_0x47634f['disconnect'](0x1*-0x10b9+-0x2347+0x3400),this['fire']('resume');};},_0xab57d8=>{b['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0xab57d8);})['catch'](_0x581bbe=>{b['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x581bbe);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x10e7ca=>{b['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x10e7ca);})['catch'](_0x186f60=>{b['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x186f60);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ml&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0xf6e247=>{window['addEventLi'+'stener'](_0xf6e247,this['_unlockHan'+'dlerFunc'],!(-0x1da7+0x104e+-0x2*-0x6ad));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x28d727=>{window['removeEven'+'tListener'](_0x28d727,this['_unlockHan'+'dlerFunc'],!(-0x50*0x32+-0x7*-0x3c7+-0x8*0x15a));});}}class Bb{constructor(_0x4a61c1){c(this,'audio'),c(this,'buffer'),_0x4a61c1 instanceof Audio?this['audio']=_0x4a61c1:this['buffer']=_0x4a61c1;}get['duration'](){let _0x516271=0x1b8d+0x20e5*0x1+-0x3c72;return this['buffer']?_0x516271=this['buffer']['duration']:this['audio']&&(_0x516271=this['audio']['duration']),_0x516271||0x1ff3+0xf53*0x1+-0x2f46;}}const kt=-0x214+-0xdbf+0xfd3,ra=0x1d8b+0x2*-0x517+0x674*-0x3,Ps=-0x98d+-0x1*0x18f9+0x2288;function Ot(_0x245d09,_0x311a2f){return _0x245d09%_0x311a2f||-0x1c*0x161+0x1*-0x1da7+0x4443;}class ls extends de{constructor(_0x16bc59,_0xdd1da6,_0x187284){super(),c(this,'source',null),(this['_manager']=_0x16bc59,this['_volume']=_0x187284['volume']!==void(-0x20a1+0x1*0x1aad+-0x17d*-0x4)?z['clamp'](Number(_0x187284['volume'])||-0x61*-0x35+0x2485+0x12*-0x325,0x1f4d+0x3*0x6b3+-0x183*0x22,-0x1dc7+-0x1941+-0x3709*-0x1):-0x1*-0x1036+-0x13f*-0x1d+-0x3458,this['_pitch']=_0x187284['pitch']!==void(0x2370+-0x1c67*0x1+0x1*-0x709)?Math['max'](0x3*-0x99f+-0x27d*-0xd+0x37c*-0x1+0.01,Number(_0x187284['pitch'])||0x29*0x85+-0x1*-0x25f9+-0x3b46):0x8a9*-0x2+0xb11*-0x3+0x3286,this['_loop']=!!(_0x187284['loop']!==void(-0x7*0x1c1+-0x1914+0x255b)&&_0x187284['loop']),this['_sound']=_0xdd1da6,this['_state']=Ps,this['_suspended']=!(0x818+-0x26c7*0x1+0x1eb0),this['_suspendEn'+'dEvent']=0x420+-0x4*0x3ef+0xb9c,this['_suspendIn'+'stanceEven'+'ts']=!(0x24d6+0x1ac3+-0x5*0xcb8),this['_playWhenL'+'oaded']=!(-0xd8e+-0x6*-0x671+0x2*-0xc8c),this['_startTime']=Math['max'](0x4*-0x6d6+0x1*0x7a4+0x13b4,Number(_0x187284['startTime'])||0x2*-0x881+-0x7*0x26f+0x220b),this['_duration']=Math['max'](0x9f8+0x14c3+0x1*-0x1ebb,Number(_0x187284['duration'])||0x176c+0x29*-0x69+0x59*-0x13),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x187284['onPlay'],this['_onPauseCa'+'llback']=_0x187284['onPause'],this['_onResumeC'+'allback']=_0x187284['onResume'],this['_onStopCal'+'lback']=_0x187284['onStop'],this['_onEndCall'+'back']=_0x187284['onEnd'],Ni()?(this['_startedAt']=-0x1075+0x25f7*-0x1+0x144*0x2b,this['_currentTi'+'me']=-0x13c*0xb+-0x3*-0x174+0x938,this['_currentOf'+'fset']=0x1b8b+-0x102d*0x2+-0x4cf*-0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x17b*0x7+0x5a1*-0x5+0x9d*0x1d),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x1cf*-0x1+-0x1e0e+0x1fde),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x451a14){if(!(_0x451a14<0x24b7+-0x4*-0x37+0x2593*-0x1)){if(this['_state']===kt){const _0x22e3c9=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x10d*0x1+0x4d5+-0x5e2),this['stop'](),this['_startOffs'+'et']=_0x451a14,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x22e3c9;}else this['_startOffs'+'et']=_0x451a14,this['_currentTi'+'me']=_0x451a14;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ra?this['_currentTi'+'me']:this['_state']===Ps||!this['source']?0x2dc+0x1940*-0x1+0x1664:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x1fff81){this['_duration']=Math['max'](0x21f*0x1+-0x2554*0x1+0x2335,Number(_0x1fff81)||0xb*-0x291+0x1eae+0x1*-0x273);const _0x37ff80=this['_state']===kt;this['stop'](),_0x37ff80&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Ot(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x1695+0x4f7*-0x3+0x10*-0x7b;}get['isPaused'](){return this['_state']===ra;}get['isPlaying'](){return this['_state']===kt;}get['isStopped'](){return this['_state']===Ps;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x50cd8e){this['_loop']=!!_0x50cd8e,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x265a69){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x265a69)||-0x1aae+-0xf*-0x221+0x5*-0x10d,-0x296*-0x2+0x1e94+-0x23c0+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x394ff3){this['_sound']=_0x394ff3,this['_state']!==Ps?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x5eb420){this['_startTime']=Math['max'](-0x1*0x1295+0x2596+-0x1301,Number(_0x5eb420)||0x3*0x809+0x1aaf+0x24f*-0x16);const _0x102c2f=this['_state']===kt;this['stop'](),_0x102c2f&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x44eb0e){_0x44eb0e=z['clamp'](_0x44eb0e,-0x1af3+-0x2*-0xf07+0xf*-0x35,0x907*-0x2+-0x18cc+0x35*0xcf),this['_volume']=_0x44eb0e,this['gain']&&(this['gain']['gain']['value']=_0x44eb0e*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>0x29*0xae+-0xf09+-0xcd5){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===kt&&!this['_suspended']&&(this['_suspended']=!(0x3dc*-0x1+-0x1b1e+0x7a*0x41),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(-0xf20+0x23a2+-0x1481),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Ps&&this['stop'](),this['_state']=kt,this['_playWhenL'+'oaded']=!(0x1472+-0x1ca5*-0x1+-0x2*0x188b),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x8a8+-0x2475+-0xde7*-0x2):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x26c7+-0x117c*0x1+-0x719*0x3),!(0x2*-0x923+-0x2446+0x368d)):(this['_playAudio'+'Immediate'](),!(-0x2397+0xb4*-0x2b+0x41d3));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1*-0x20e6+0x1030+-0x167*0x23),this['_state']!==kt)return;this['source']||this['_createSou'+'rce']();let _0x763376=Ot(this['_startOffs'+'et'],this['duration']);_0x763376=Ot(this['_startTime']+_0x763376,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x3*-0x733+-0x8db*0x2+-0x3e3,_0x763376,this['_duration']):this['source']['start'](0xb8d+0xf7*-0x8+0x3d5*-0x1,_0x763376),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x2b*-0x6d+-0x1ce9+0xa9a,this['_currentOf'+'fset']=_0x763376,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0xb*-0x132+-0x1*0xc07+0x192e),this['_state']!==kt?!(0xbbc+-0x1385+0x7ca):(this['_state']=ra,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x1*-0x54d+-0x1dfc+0x18af),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0xe*-0x2c3+0x1f23+-0x45cd));}['resume'](){if(this['_state']!==ra)return!(-0xe2d+0x172e+-0x40*0x24);let _0x51909c=this['currentTim'+'e'];return this['_state']=kt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x51909c=Ot(this['_startOffs'+'et'],this['duration']),_0x51909c=Ot(this['_startTime']+_0x51909c,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x16*-0xe+-0x84a+0x1*0x716,_0x51909c,this['_duration']):this['source']['start'](-0x1465+-0x3*0xa5b+0x3376,_0x51909c),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x51909c,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(0x21d8+0x60e+0x7*-0x5b3),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x2647+-0x281*-0x1+0x23c6);}['stop'](){if(this['_playWhenL'+'oaded']=!(0xe22+0x5f7+-0x1418),this['_state']===Ps)return!(0x1fea+0xa*0x12b+-0x2b97);const _0x188121=this['_state']===kt;return this['_state']=Ps,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x53*0x1d+-0x34*0x35+-0x1*-0x142b,this['_currentTi'+'me']=0x1*0x11f9+-0x1*-0xed5+-0x20ce,this['_currentOf'+'fset']=-0xc5*-0x1c+0x28*-0xf5+-0x594*-0x3,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x188121&&this['source']&&this['source']['stop'](0x1446+-0x1348*0x1+-0xfe),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x1960+0x24aa+0x2*-0x1f05);}['setExterna'+'lNodes'](_0x2d10b2,_0x27ebe9){if(!_0x2d10b2){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x27ebe9||(_0x27ebe9=_0x2d10b2);const _0x2ba2fb=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x2d10b2&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x2ba2fb),this['_firstNode']=_0x2d10b2,this['_connector'+'Node']['connect'](_0x2d10b2)),this['_lastNode']!==_0x27ebe9&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x2ba2fb),this['_lastNode']=_0x27ebe9,this['_lastNode']['connect'](_0x2ba2fb));}['clearExter'+'nalNodes'](){const _0x4ea99b=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x4ea99b),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x4ea99b);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x2fbd13=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x2fbd13['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Ot(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Ot(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Ot((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===kt&&(this['source']['stop'](-0x12e*0x9+0x1*0x1051+-0x1*0x5b3),this['source']=null);}}c(ls,'EVENT_PLAY','play'),c(ls,'EVENT_PAUS'+'E','pause'),c(ls,'EVENT_RESU'+'ME','resume'),c(ls,'EVENT_STOP','stop'),c(ls,'EVENT_END','end'),Ni()||(Object['assign'](ls['prototype'],{'play':function(){return this['_state']!==Ps&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x1c49+0x178e+0x4bc):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=kt,this['_playWhenL'+'oaded']=!(-0x1c88+0x665*-0x1+0x22ee),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x245d+0xfdb+0xaf*0x1e));},'pause':function(){return!this['source']||this['_state']!==kt?!(-0x1766+-0x3*0x779+0x2dd2):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0xf95*0x1+-0x1681+-0x1*-0x2617),this['_state']=ra,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x16f0+0x20f1+-0xa01));},'resume':function(){return!this['source']||this['_state']!==ra?!(-0x294+-0xff6+0x1*0x128b):(this['_state']=kt,this['_playWhenL'+'oaded']=!(-0x1ea0+-0x4c*0x13+0x2445),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1*0x229d+-0x67f*0x1+0x291c));},'stop':function(){return!this['source']||this['_state']===Ps?!(-0x2*0x22d+0x2231+-0x1dd6):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*0xbf+0x7*0x411+0xa5*-0x2b),this['_state']=Ps,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0x50+-0x5c*-0x31+-0x25*0x7c));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x13fc+0x2*0x40c+-0x1c14);let _0x26ad95=Ot(this['_startOffs'+'et'],this['duration']);_0x26ad95=Ot(this['_startTime']+_0x26ad95,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x26ad95;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x13a*-0x1c+-0x3f9+-0x152*0x17),this['source']=this['_sound']['audio']['cloneNode'](!(0x17f6*-0x1+-0x1d1e+0x2*0x1a8a)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Ot(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Ot(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ls['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0xc0967f){_0xc0967f=z['clamp'](_0xc0967f,-0x1219*0x1+0x22*-0x47+-0x1*-0x1b87,0x17*-0x175+0xaa3+-0x16e1*-0x1),this['_volume']=_0xc0967f,this['source']&&(this['source']['volume']=_0xc0967f*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ls['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x28d9c2){this['_pitch']=Math['max'](Number(_0x28d9c2)||0x126d+0x6*0x48b+-0x1*0x2daf,0xfe4+0x3fb*-0x4+0x8+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ls['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x150a8a){this['stop'](),this['_sound']=_0x150a8a;}}),Object['defineProp'+'erty'](ls['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Ps||!this['source']?-0x31f*0x3+0x923+0x2*0x1d:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x56a3c9){_0x56a3c9<0xad*-0x27+-0x1b25+0x3580||(this['_startOffs'+'et']=_0x56a3c9,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Ot(this['_startTime']+Ot(_0x56a3c9,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=0x3e02+0x4d77+-0x6469;class Kn extends ls{constructor(_0x45831e,_0x28e105,_0x53197e={}){super(_0x45831e,_0x28e105,_0x53197e),c(this,'_position',new A()),c(this,'_velocity',new A()),(_0x53197e['position']&&(this['position']=_0x53197e['position']),this['maxDistanc'+'e']=_0x53197e['maxDistanc'+'e']!==void(-0xbd2+-0xc0a+-0x3fa*-0x6)?Number(_0x53197e['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x53197e['refDistanc'+'e']!==void(-0x8ed+0x903+-0x16)?Number(_0x53197e['refDistanc'+'e']):-0x9*0x175+0x1*0x2446+0x4c*-0x4e,this['rollOffFac'+'tor']=_0x53197e['rollOffFac'+'tor']!==void(0x1a*-0x17a+-0x56*-0x6d+0x1c6)?Number(_0x53197e['rollOffFac'+'tor']):0x23f8*-0x1+0x4*-0xb9+0x26dd,this['distanceMo'+'del']=_0x53197e['distanceMo'+'del']!==void(-0x24ef+0xc2f*-0x2+0x3d4d)?_0x53197e['distanceMo'+'del']:mc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x34763a){this['_position']['copy'](_0x34763a);const _0xee5c34=this['panner'];'positionX'in _0xee5c34?(_0xee5c34['positionX']['value']=_0x34763a['x'],_0xee5c34['positionY']['value']=_0x34763a['y'],_0xee5c34['positionZ']['value']=_0x34763a['z']):_0xee5c34['setPositio'+'n']&&_0xee5c34['setPositio'+'n'](_0x34763a['x'],_0x34763a['y'],_0x34763a['z']);}get['position'](){return this['_position'];}set['velocity'](_0x23b69a){b['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x23b69a);}get['velocity'](){return b['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x224270){this['panner']['maxDistanc'+'e']=_0x224270;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x123070){this['panner']['refDistanc'+'e']=_0x123070;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x2fd2bc){this['panner']['rolloffFac'+'tor']=_0x2fd2bc;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x122200){this['panner']['distanceMo'+'del']=_0x122200;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Ni()){let l=new A();const t=function(_0x202cbb,_0x1cbb03,_0x192e68,_0x5f47fc,_0x164052,_0x5cce06){l=l['sub2'](_0x202cbb,_0x1cbb03);const _0x41410d=l['length']();if(_0x41410d<_0x192e68)return 0xa7*-0x11+0x2*0xb26+-0x1*0xb34;if(_0x41410d>_0x5f47fc)return 0x5*-0x509+-0x39*-0x1b+-0x132a*-0x1;let _0x4f6e72=-0x2554+0x18+0x253c;return _0x5cce06===mc?_0x4f6e72=0x1696+-0x2672+-0x1f*-0x83-_0x164052*(_0x41410d-_0x192e68)/(_0x5f47fc-_0x192e68):_0x5cce06===Nf?_0x4f6e72=_0x192e68/(_0x192e68+_0x164052*(_0x41410d-_0x192e68)):_0x5cce06===dy&&(_0x4f6e72=Math['pow'](_0x41410d/_0x192e68,-_0x164052)),z['clamp'](_0x4f6e72,0x5*-0x153+-0x1b0a+-0x1*-0x21a9,-0x10d0*-0x1+0xa9*-0x23+-0xd*-0x7c);};Object['defineProp'+'erty'](Kn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x54dcfc){if(this['_position']['copy'](_0x54dcfc),this['source']){const _0x424501=this['_manager']['listener']['getPositio'+'n'](),_0x3f5478=t(_0x424501,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x24c1b6=this['volume'];this['source']['volume']=_0x24c1b6*_0x3f5478*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](Kn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x25e59b){this['_maxDistan'+'ce']=_0x25e59b;}}),Object['defineProp'+'erty'](Kn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x1a906d){this['_refDistan'+'ce']=_0x1a906d;}}),Object['defineProp'+'erty'](Kn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x5a94c5){this['_rollOffFa'+'ctor']=_0x5a94c5;}}),Object['defineProp'+'erty'](Kn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x3e3dce){this['_distanceM'+'odel']=_0x3e3dce;}});}const a0=-0x1137+-0x7c*0x1+0x1*0x11b3,bp=0x10e1*0x1+0xfd+-0x11dd*0x1,Gt=0xd24+0x38b*0x7+-0x25ef,hs=-0x7eb*-0x1+-0x24cc+0x1ce4,dn=0x20b1+-0xfd0+0x59f*-0x3,wp=-0x17d0+-0x2089*0x1+0x965*0x6,Xc=0x2b*-0xcb+0x9*0x2bf+0x968,o0=-0x16cb+-0x219+-0x18eb*-0x1,l0=-0x96b*0x2+0x1237+0xa7,h0=0x1444+0xfe9+0x2424*-0x1,c0=0x7ce*0x1+-0x1da4+0x15e0,Ba='none',zb='linear',Tp=0x25ad+-0x715*0x1+-0x1e96,Ub=-0xce*-0xa+-0x20d6+0x14e*0x13,Vb=0x1*0x2c6+0x18e1+-0x1ba5,d0=-0x361+-0x1*0x1f05+0x2275,zi=0x32f*-0x4+-0x34d+0x1009*0x1,es=-0x1df3+0x2*0x7eb+0xe1e,Ap=-0x190c+-0x59*-0x4b+-0x105,Ep=0x75a*-0x1+0x19*0xa5+-0xe*0xa0,nl=0x1d*0xc1+-0x26ec+-0x8d*-0x1f,le=0xe92*-0x1+-0x95*-0x3+-0x31*-0x43,Le=0x948+0x428+-0x1*0xd6f,Fe=0x3be+0xac2+-0xe7e,Tt=0x13*-0x132+0x246e*-0x1+0x4*0xec9,Gb=0x365+0xe84+0x47a*-0x4,Hb=-0x1e43+0x1bb6*-0x1+0x39fb*0x1,Wb=-0x25c6+-0x1*-0x5c0+0x8b*0x3b,Cp=-0x247+0x7*-0x49d+0x127*0x1e,$b=0xdee+-0x5*-0x7b1+-0x1a31*0x2,zt=-0xa32+-0x1*0x1209+0x49*0x63,Wr=-0x18b9+0xb*0x295+0x5*-0xbc,$r=-0x160b+0x1d05+-0x6f7,fh=0x26*0x39+0x21*0x90+-0x1*0x1b02,Gh=0x2473+-0x257a+0x10c,Rs=0x23a5+-0x1*-0x1eae+-0x424d,Hh=0xd39+0x67*-0x4f+0x1297,Wh=0x4*0xfe+-0x21f7+0x1e07,ku=0x56*0x43+-0xcee*0x3+-0x1*-0x1051,nr=new Map([[Gh,{'name':'PCF1_32F','format':Di,'pcf':!(-0xbd8+0x823*0x1+-0x3b5*-0x1)}],[zt,{'name':'PCF3_32F','format':Di,'pcf':!(-0xae8+0x2418+-0x1930)}],[fh,{'name':'PCF5_32F','format':Di,'pcf':!(0x2135+0x65*0x6+-0x2393)}],[Hh,{'name':'PCF1_16F','format':ca,'pcf':!(-0x297*0x9+0x29f*0x1+0x14b0)}],[Wh,{'name':'PCF3_16F','format':ca,'pcf':!(0x1*0x15fb+-0x1456+-0x1a5)}],[ku,{'name':'PCF5_16F','format':ca,'pcf':!(-0xdc4+0x7*0x239+-0x1cb)}],[Wr,{'name':'VSM_16F','format':it,'vsm':!(0x2b6+0x9d*-0x2+-0x17c)}],[$r,{'name':'VSM_32F','format':et,'vsm':!(-0x26bd*-0x1+-0x9d*0x17+-0x3*0x836)}],[Rs,{'name':'PCSS_32F','format':Oi,'pcss':!(0x25b0+0x4*-0x805+-0x59c)}]]),Mp=-0xf*0x56+0x88c+-0x381,Ou=0x815*-0x1+0x585+0x1*0x290,u0=-0xbb4+0x98*-0x16+-0x18c4*-0x1,qs=-0x14ba+0x1*-0x1169+0x1*0x2623,qb=0x11*-0x2+-0x7f*-0x5+-0x96*0x4,$h=-0x304+0x182*0x7+-0x78a*0x1,Xb=-0x2*0x623+0x13*-0x1e+0xe81,Xs=-0xb*0x183+-0x397*-0x2+0x973,pa=-0x245a+0xa7c*-0x1+0x3*0xf9d,bo=-0x4*-0x449+0x1075+-0x2199,Lr=-0x11a5+0xfbf+0x1e7,Pl=0x1fb9*0x1+0x1259+-0x12*0x2c8,f0=-0x1e98+0x1b1*-0xc+0x32e4,jb=-0xe*0x12a+-0x1*0x17ad+-0x7*-0x5b6,Bm='mul',al=-0x21e+-0x2319*-0x1+-0x20fb,ph=0x9*0x76+0x1a1a+-0x10b*0x1d,Yb={[al]:'NONE',[ph]:'SRGB'},Pp=0x2464+0x1611+-0x3a75,uF=0x2*-0x293+0x8bd+-0x396,fF=-0x97c*0x4+-0xc13*0x1+-0x3d9*-0xd,pF=-0x2283+-0x20b*-0xf+-0x3e1*-0x1,mF=0x219d+0x25bf+0x1*-0x4758,_F=0x1d7f+-0xbc6*-0x3+-0x16*0x2f2,p0=-0x55*-0x1f+0x1338+0x1*-0x1d7d,m0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x4da+0xb77+0x69d*-0x1,Vo=-0x2304+-0x2d5*0x4+0x2e59,Bu=0x150d+0x1f6f*-0x1+-0x5f*-0x1c,Rp=-0xefc*0x1+0x1*-0x2417+-0x3a6*-0xe,jc=0x4a4+0x1b7c+-0x201e*0x1,_0=-0x2a8*-0xb+0xeb7+-0x2beb,g0=0x1bcf+-0xc66+-0xf61,y0=0x4e5*-0x1+-0x1*-0x975+0x10*-0x48,Yc=-0x2*-0x173+-0x3a4+-0xde*-0x1,Nu=0x914+-0xced*0x2+0x1106*0x1,x0=0x3*-0x8cf+0x1*-0x1e65+0x3952,Ip=-0xe3c+0x22de+-0x13a2,Dp=-0x2705+-0x571*-0x3+-0x1*-0x18b2,Kc=-0x5b2+-0x1f7c+-0xe*-0x2f1,Zc=0xb7d+0x26e7*-0x1+-0x5e7*-0x6,S0=-0x264d+-0x88+0x36d5,Qc=0xd*0x1eb+0x21dd+0x5*-0x55c,zu=0x329*0x13+0x162+0x293,ks=0x1c8+0x2*0x1381+0x2e*-0xe3,un=-0xc19+0xa1d+-0x1*-0x1fd,Lp=0xdf2+-0x43*-0x1+0x5*-0x2d7,Ii=0x17c9+0x2e3*0xa+-0x3*0x118d,Uu=-0x1f58+-0x289*-0x3+0x3f5*0x6,ms=0x1*0x1e3a+-0x2a*0x6f+0x3*-0x401,dr=-0x1*-0x617+0x1*-0xc01+0x2f6*0x2,ar=0x1b6b+0x627+0x10c7*-0x2,xn=0x1665+-0x1*-0x113c+-0x27a1,ol=-0xe1*-0x6+0xc*0x2b+0x749*-0x1,ll=0x19d*-0x7+-0xb1f+0x8c*0x29,Na=-0x13d9+-0x101f+0x3d*0x97,Fp=0x1fd*0x11+-0x1a2f*0x1+-0x79a,Pi=0x15b+0x22c7+-0xfa*0x25,ht=-0x610*-0x4+-0x289*-0x6+0x103*-0x27,st=-0x1*0x58b+-0x149e+0x1a2b,mh=0x17d*-0x5+0x9be+-0x24c,Rl=0x1153+-0x68d+-0xac6,_h=0x9c4+0x1*0x611+-0xfd5,Zb=-0xec3+-0x61*-0x61+-0x15fd,Qb=-0xe8+-0x22*0x2+0x12e,Nm=0x2540+-0x7f6+-0x1d47,Jb=0x14*0xa8+-0x1a95*0x1+0xd79,ew=0x1a84+-0x5d9+-0x14a6,kp=-0x1*-0x1f3f+0x23de+-0x431d,Vu=0x3*0x579+0x1*-0x228d+-0x1223*-0x1,ye=-0x1ea5+0x3d*0x26+-0x1597*-0x1,Ve=-0x10dc+0x1b95+-0x38*0x31,wo='infinite',tw='box',sw='dome',Os='none',zm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Jc{constructor(_0xd0d993,_0x4417c1,_0x192cc8){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Bh]=_0xd0d993,this['bindGroupF'+'ormats'][Bh]=_0x4417c1,this['vertexForm'+'at']=_0x192cc8);}['hasUniform'](_0x1a5cdc){for(let _0x2fbf0e=0xfd8+0x1e*0x17+0x7*-0x2a6;_0x2fbf0e<this['uniformFor'+'mats']['length'];_0x2fbf0e++){const _0x3f6421=this['uniformFor'+'mats'][_0x2fbf0e];if(_0x3f6421!=null&&_0x3f6421['get'](_0x1a5cdc))return!(0x347+0x1c*-0x105+0x1*0x1945);}return!(0x3e1+-0x1*0x911+-0x531*-0x1);}['hasTexture'](_0x4e52d8){for(let _0x46c60e=0x1179*-0x2+0xbfc+-0x16f6*-0x1;_0x46c60e<this['bindGroupF'+'ormats']['length'];_0x46c60e++){const _0x4e3e54=this['bindGroupF'+'ormats'][_0x46c60e];if(_0x4e3e54!=null&&_0x4e3e54['getTexture'](_0x4e52d8))return!(0x22b8+0x255e+0x2*-0x240b);}return!(0x1*0x1f57+-0x2498+0x542*0x1);}['getVertexE'+'lement'](_0x407f32){var _0x25d34d;return(_0x25d34d=this['vertexForm'+'at'])==null?void(0x10*-0x132+0x14f*-0xe+0x2572):_0x25d34d['elements']['find'](_0x4d8b40=>_0x4d8b40['name']===_0x407f32);}['generateKe'+'y'](_0x1219e6){var _0x3a9408;let _0x1c936f=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x1219e6['isWebGPU']&&(_0x1c936f+=(_0x3a9408=this['vertexForm'+'at'])==null?void(-0x1da7*0x1+-0x9c7*0x1+0xe*0x2d1):_0x3a9408['shaderProc'+'essingHash'+'String']),_0x1c936f;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',kw='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),Ow='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',v0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',b0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latThresho'+'ld;\x0a\x0afloat'+'\x20readThres'+'hold(in\x20Sp'+'latSource\x20'+'source)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(splatThr'+'eshold,\x20so'+'urce.uv,\x200'+').r;\x0a}\x0a\x0a',hT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atThreshol'+'dVS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatSHVS\x22'+'\x0a#endif\x0a\x0a#'+'include\x20\x22g'+'splatSourc'+'eVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCenterVS\x22'+'\x0a#include\x20'+'\x22gsplatCor'+'nerVS\x22\x0a#in'+'clude\x20\x22gsp'+'latOutputV'+'S\x22\x0a\x0a//\x20mod'+'ify\x20the\x20ga'+'ussian\x20cor'+'ner\x20so\x20it\x20'+'excludes\x20g'+'aussian\x20re'+'gions\x20with'+'\x20alpha\x0a//\x20'+'less\x20than\x20'+'e^{-4}\x0a//\x20'+'clipMaring'+'\x20is\x20the\x20mi'+'nimum\x20alph'+'a\x20value\x20fo'+'r\x20the\x20frag'+'ment\x20to\x20be'+'\x20included\x0a'+'void\x20clipC'+'orner(inou'+'t\x20SplatCor'+'ner\x20corner'+',\x20float\x20al'+'pha,\x20float'+'\x20clipMargi'+'nal)\x20{\x0a\x20\x20\x20'+'\x20float\x20cli'+'p\x20=\x20min(1.'+'0,\x20sqrt(lo'+'g(alpha\x20/\x20'+'clipMargin'+'al)\x20/\x204.0)'+');\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20*=\x20clip;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20*=\x20cli'+'p;\x0a}\x0a\x0a//\x20s'+'pherical\x20H'+'armonics\x0a\x0a'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a#d'+'efine\x20SH_C'+'1\x200.488602'+'5119029199'+'f\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C2_0\x20'+'1.09254843'+'05920792f\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C2_1\x20'+'-1.0925484'+'305920792f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C2_2'+'\x200.3153915'+'6525252005'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C2_'+'3\x20-1.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_4\x200.54627'+'4215296039'+'6f\x0a#endif\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20#define\x20')+('SH_C3_0\x20-0'+'.590043589'+'9266435f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_1\x202'+'.890611442'+'640554f\x0a\x20\x20'+'\x20\x20#define\x20'+'SH_C3_2\x20-0'+'.457045799'+'4644658f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_3\x200'+'.373176332'+'5901154f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_4\x20-'+'0.45704579'+'94644658f\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C3_5\x20'+'1.44530572'+'1320277f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_6\x20-'+'0.59004358'+'99266435f\x0a'+'#endif\x0a\x0a//'+'\x20see\x20https'+'://github.'+'com/graphd'+'eco-inria/'+'gaussian-s'+'platting/b'+'lob/main/u'+'tils/sh_ut'+'ils.py\x0avec'+'3\x20evalSH(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20vec3\x20'+'dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'sh\x20coeffic'+'ients\x0a\x20\x20\x20\x20'+'vec3\x20sh[SH'+'_COEFFS];\x0a'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20readSHDat'+'a(source,\x20'+'sh,\x20scale)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20dir'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20f'+'loat\x20z\x20=\x20d'+'ir.z;\x0a\x0a\x20\x20\x20'+'\x20//\x201st\x20de'+'gree\x0a\x20\x20\x20\x20v'+'ec3\x20result'+'\x20=\x20SH_C1\x20*'+'\x20(-sh[0]\x20*'+'\x20y\x20+\x20sh[1]'+'\x20*\x20z\x20-\x20sh['+'2]\x20*\x20x);\x0a\x0a'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20//\x202nd\x20de'+'gree\x0a\x20\x20\x20\x20f'+'loat\x20xx\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20yy\x20'+'=\x20y\x20*\x20y;\x0a\x20'+'\x20\x20\x20float\x20z'+'z\x20=\x20z\x20*\x20z;'+'\x0a\x20\x20\x20\x20float'+'\x20xy\x20=\x20x\x20*\x20'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20yz\x20=\x20y\x20'+'*\x20z;\x0a\x20\x20\x20\x20f'+'loat\x20xz\x20=\x20'+'x\x20*\x20z;\x0a\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[3]\x20*\x20(S'+'H_C2_0\x20*\x20x'+'y)\x20*\x20\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[4'+']\x20*\x20(SH_C2'+'_1\x20*\x20yz)\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[6]\x20*\x20(S'+'H_C2_3\x20*\x20x')+('z)\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a#endif'+'\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x202\x0a\x20'+'\x20\x20\x20//\x203rd\x20'+'degree\x0a\x20\x20\x20'+'\x20result\x20+='+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[9]\x20\x20*\x20('+'SH_C3_1\x20*\x20'+'xy\x20*\x20z)\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[10]\x20*\x20(SH'+'_C3_2\x20*\x20y\x20'+'*\x20(4.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[11]'+'\x20*\x20(SH_C3_'+'3\x20*\x20z\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'3.0\x20*\x20xx\x20-'+'\x203.0\x20*\x20yy)'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20*'+'\x20(SH_C3_4\x20'+'*\x20x\x20*\x20(4.0'+'\x20*\x20zz\x20-\x20xx'+'\x20-\x20yy))\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[14]\x20'+'*\x20(SH_C3_6'+'\x20*\x20x\x20*\x20(xx'+'\x20-\x203.0\x20*\x20y'+'y));\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20result'+'\x20*\x20scale;\x0a'+'}\x0a#endif\x0a'),cT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),dT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),uT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),fT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),pT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',mT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20di'+'scard;\x0a}\x0a',_T='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),gT='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',yT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x20\x20\x20\x20'+'float\x20thre'+'shold\x20=\x20re'+'adThreshol'+'d(source);'+'\x0a\x20\x20\x20\x20if(ma'+'rginal\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.w\x20'+'*=\x20margina'+'l;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20if(clr.'+'w\x20<\x20thresh'+'old)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20//\x20'+'evaluate\x20s'+'pherical\x20h'+'armonics\x0a\x20'+'\x20\x20\x20#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20model'+'-space\x20vie'+'w\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20normalize'+'(center.vi'+'ew\x20*\x20mat3('+'center.mod'+'elView));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'r.xyz\x20+=\x20e'+'valSH(sour'+'ce,\x20dir);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20clip'+'Corner(cor'+'ner,\x20clr.w'+',\x20threshol'+'d);\x0a\x0a\x20\x20\x20\x20/'+'/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr.a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20//\x20w'+'rite\x20outpu'+'t\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'center.pro'+'j\x20+\x20vec4(c'+'orner.offs'+'et,\x200,\x200);'+'\x0a\x20\x20\x20\x20gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20gaussia'+'nColor\x20=\x20v'+'ec4(prepar'+'eOutputFro'+'mGamma(max'+'(clr.xyz,\x20'+'0.0)),\x20clr'+'.w);\x0a\x20\x20\x20\x20/'+'/gaussianC'+'olor\x20=\x20vec'+'4(center.p'+'roj.w,\x20cen'+'ter.proj.w'+',\x20center.p'+'roj.w,\x201.0'+');\x0a\x20\x20\x20\x20gau'+'ssianColor'+'\x20=\x20clamp(g'+'aussianCol'+'or,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20id'+'\x20=\x20float(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a'),xT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),ST='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',vT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',bT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',wT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',TT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',ET='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),CT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',MT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',PT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),RT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',IT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',DT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',LT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),FT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),kT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),BT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',NT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',zT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',UT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',GT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',WT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',qT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',XT='\x0a',jT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',YT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',KT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',ZT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',QT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',eA='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',tA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',sA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',nA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',aA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',oA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),lA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',hA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),cA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',dA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',uA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',fA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',pA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',mA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',_A='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',gA='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),yA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',xA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',vA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',bA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),wA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',TA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',AA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',EA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',CA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',MA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),PA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',RA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',IA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',DA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',LA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',FA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',kA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',BA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',NA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',zA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',UA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',VA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',HA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',WA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',XA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),jA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',YA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',KA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',ZA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),QA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+v0+'\x0a'+b0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),JA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),eE='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),tE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',iE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),rE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),nE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),aE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),oE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),lE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),hE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),cE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',dE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),uE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),fE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),pE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',mE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',_E='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',gE='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',xE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',SE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',vE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',bE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',wE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',TE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',AE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',EE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',CE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',ME='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',RE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',FE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',kE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),NE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',zE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',UE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',VE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',GE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',HE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',WE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',j={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':kw,'cubeMapProjectBoxPS':Ow,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':v0,'emissivePS':Ww,'encodePS':b0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':e0,'gles3VS':t0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':uT,'gsplatColorVS':oT,'gsplatThresholdVS':lT,'gsplatCommonVS':hT,'gsplatCompressedDataVS':cT,'gsplatCompressedSHVS':dT,'gsplatDataVS':fT,'gsplatOutputVS':pT,'gsplatPS':mT,'gsplatSHVS':_T,'gsplatSourceVS':gT,'gsplatVS':yT,'iridescenceDiffractionPS':xT,'iridescencePS':ST,'iridescenceThicknessPS':vT,'iorPS':bT,'lightDiffuseLambertPS':wT,'lightDirPointPS':TT,'lightmapAddPS':AT,'lightmapDirAddPS':ET,'lightmapDirPS':CT,'lightmapSinglePS':MT,'lightSpecularAnisoGGXPS':PT,'lightSpecularBlinnPS':RT,'lightSheenPS':IT,'linearizeDepthPS':DT,'litShaderArgsPS':LT,'ltcPS':FT,'metalnessPS':kT,'metalnessModulatePS':BT,'msdfPS':OT,'msdfVS':NT,'normalVS':zT,'normalCoreVS':UT,'normalDetailMapPS':VT,'normalMapPS':GT,'normalXYPS':HT,'normalXYZPS':WT,'opacityPS':$T,'opacityDitherPS':qT,'outputPS':XT,'outputAlphaPS':jT,'outputAlphaOpaquePS':YT,'outputAlphaPremulPS':KT,'outputTex2DPS':ZT,'sheenPS':QT,'sheenGlossPS':JT,'parallaxPS':eA,'particlePS':tA,'particleVS':sA,'particleAnimFrameClampVS':iA,'particleAnimFrameLoopVS':rA,'particleAnimTexVS':nA,'particleInputFloatPS':aA,'particleInputRgba8PS':oA,'particleOutputFloatPS':lA,'particleOutputRgba8PS':hA,'particleUpdaterAABBPS':cA,'particleUpdaterEndPS':dA,'particleUpdaterInitPS':uA,'particleUpdaterNoRespawnPS':fA,'particleUpdaterOnStopPS':pA,'particleUpdaterRespawnPS':mA,'particleUpdaterSpherePS':_A,'particleUpdaterStartPS':gA,'particle_billboardVS':yA,'particle_blendAddPS':xA,'particle_blendMultiplyPS':SA,'particle_blendNormalPS':vA,'particle_cpuVS':bA,'particle_cpu_endVS':wA,'particle_customFaceVS':TA,'particle_endPS':AA,'particle_endVS':EA,'particle_halflambertPS':CA,'particle_initVS':MA,'particle_lambertPS':PA,'particle_lightingPS':RA,'particle_localShiftVS':IA,'particle_meshVS':DA,'particle_normalVS':LA,'particle_normalMapPS':FA,'particle_pointAlongVS':kA,'particle_softPS':OA,'particle_softVS':BA,'particle_stretchVS':NA,'particle_TBNVS':zA,'particle_wrapVS':UA,'pickPS':VA,'reflDirPS':GA,'reflDirAnisoPS':HA,'reflectionCCPS':WA,'reflectionCubePS':$A,'reflectionEnvHQPS':qA,'reflectionEnvPS':XA,'reflectionSpherePS':jA,'reflectionSheenPS':YA,'refractionCubePS':KA,'refractionDynamicPS':ZA,'reprojectPS':QA,'sampleCatmullRomPS':JA,'screenDepthPS':eE,'shadowCascadesPS':tE,'shadowEVSMPS':sE,'shadowEVSMnPS':iE,'shadowPCSSPS':rE,'shadowSampleCoordPS':nE,'shadowSoftPS':aE,'shadowStandardPS':oE,'shadowStandardGL2PS':lE,'shadowVSM_commonPS':hE,'skinBatchVS':cE,'skinVS':dE,'skyboxPS':uE,'skyboxVS':fE,'specularPS':pE,'sphericalPS':mE,'specularityFactorPS':_E,'spotPS':gE,'startPS':yE,'startVS':xE,'startNineSlicedPS':SE,'startNineSlicedTiledPS':vE,'storeEVSMPS':bE,'tangentBinormalVS':wE,'TBNPS':TE,'TBNderivativePS':AE,'TBNObjectSpacePS':EE,'thicknessPS':CE,'tonemappingPS':ME,'tonemappingAcesPS':PE,'tonemappingAces2PS':RE,'tonemappingFilmicPS':IE,'tonemappingHejlPS':DE,'tonemappingLinearPS':LE,'tonemappingNeutralPS':FE,'tonemappingNonePS':kE,'transformVS':OE,'transformCoreVS':BE,'transformInstancingVS':NE,'transmissionPS':zE,'twoSidedLightingPS':UE,'uv0VS':VE,'uv1VS':GE,'viewDirPS':HE,'viewNormalVS':WE,'webgpuPS':s0,'webgpuVS':i0},w0=new Ht();function za(_0x599c94){const _0x3b8ad9=w0['get'](_0x599c94);return b['assert'](_0x3b8ad9),_0x3b8ad9;}function $E(_0x138faa,_0x44f665){b['assert'](_0x44f665),w0['get'](_0x138faa,()=>_0x44f665);}class Nt{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x412041){const _0x39e865=Array['from'](_0x412041)['sort']((_0x512957,_0x21d64a)=>_0x512957[0x4f2+-0xb29*0x1+0x637]>_0x21d64a[0xbde+0x1c7f*0x1+0x285d*-0x1]?-0x6dd*-0x3+0xb3*0x1b+-0x2777:-(-0x157a+-0xf*-0x16a+0x45));return cn(JSON['stringify'](_0x39e865));}}const qE=new Ht();class XE{constructor(_0x5321e4,_0x556fa2,_0x3a63fa={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(b['assert'](/^[a-z]\w*$/i['test'](_0x5321e4),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5321e4),this['name']=_0x5321e4,this['index']=_0x556fa2,Object['assign'](this,_0x3a63fa),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0xc2d61;this['isShadow']?_0xc2d61='SHADOW':this['isForward']?_0xc2d61='FORWARD':this['index']===ll?_0xc2d61='DEPTH':this['index']===Na&&(_0xc2d61='PICK'),this['defines']['set'](_0xc2d61+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class ti{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0x2243+0xbe5+-0xe*0x34c);const _0x57448e=(_0x375926,_0x3475ba,_0x454d3a)=>{const _0x13b9d4=this['allocate'](_0x375926,_0x454d3a);b['assert'](_0x13b9d4['index']===_0x3475ba);};_0x57448e('forward',xn,{'isForward':!(0x161*-0x5+0x2450+0x1*-0x1d6b)}),_0x57448e('prepass',ol),_0x57448e('depth',ll),_0x57448e('pick',Na),_0x57448e('shadow',Fp);}static['get'](_0x311b60){return b['assert'](_0x311b60),qE['get'](_0x311b60,()=>new ti());}['allocate'](_0x1aae6c,_0x1e1eb2){let _0x7942ff=this['passesName'+'d']['get'](_0x1aae6c);return _0x7942ff===void(-0x1e6b+-0x373*-0xa+-0x413)&&(_0x7942ff=new XE(_0x1aae6c,this['nextIndex'],_0x1e1eb2),this['passesName'+'d']['set'](_0x7942ff['name'],_0x7942ff),this['passesInde'+'xed'][_0x7942ff['index']]=_0x7942ff,this['nextIndex']++),_0x7942ff;}['getByIndex'](_0x1f8870){const _0x30ea47=this['passesInde'+'xed'][_0x1f8870];return b['assert'](_0x30ea47),_0x30ea47;}['getByName'](_0x895ca2){return this['passesName'+'d']['get'](_0x895ca2);}}function Bs(_0x4ef09b,_0x2121bd,_0x1777ad,_0xc101b3,_0x588b0a,_0x3d8080=!(-0x1*0x2503+0x26b+0x2299),_0x112f9d={}){b['assert'](!(-0x7*-0x16e+-0x9ae+-0x54)),typeof _0x3d8080=='boolean'?_0x112f9d['useTransfo'+'rmFeedback']=_0x3d8080:typeof _0x3d8080=='object'&&(_0x112f9d={..._0x112f9d,..._0x3d8080});const _0x51b28e=za(_0x4ef09b);let _0x4fb662=_0x51b28e['getCachedS'+'hader'](_0xc101b3);return _0x4fb662||(_0x4fb662=new r0(_0x4ef09b,Ft['createDefi'+'nition'](_0x4ef09b,{..._0x112f9d,'name':_0xc101b3,'vertexCode':_0x2121bd,'fragmentCode':_0x1777ad,'attributes':_0x588b0a})),_0x51b28e['setCachedS'+'hader'](_0xc101b3,_0x4fb662)),_0x4fb662;}class jE extends Nt{constructor(_0x297177,_0x577157){super(),this['key']=_0x297177,this['shaderDefi'+'nition']=_0x577157;}['generateKe'+'y'](_0x4c5baf){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x3825c0,_0x338403){return this['shaderDefi'+'nition'];}}function YE(_0x3c3f59,_0x26719a){b['assert'](_0x3c3f59);const _0x278f60=_0x3c3f59['definition'],_0x57e692=(_0x278f60['name']??'shader')+'-id-'+_0x3c3f59['id'],_0x18b523=new jE(_0x57e692,_0x278f60),_0xd895b8='shader',_0x18ebc4=za(_0x3c3f59['device']);b['assert'](!_0x18ebc4['isRegister'+'ed'](_0xd895b8)),_0x18ebc4['register'](_0xd895b8,_0x18b523);const _0x187d33=_0x18ebc4['getProgram'](_0xd895b8,{},_0x26719a);return _0x3c3f59['definition']['shaderLang'+'uage']===Fh&&(_0x187d33['meshUnifor'+'mBufferFor'+'mat']=_0x278f60['meshUnifor'+'mBufferFor'+'mat'],_0x187d33['meshBindGr'+'oupFormat']=_0x278f60['meshBindGr'+'oupFormat']),_0x18ebc4['unregister'](_0xd895b8),_0x187d33;}const Op=(_0x54cb31,_0x5722c0)=>{const _0x5ac853=new Map(_0x54cb31['defines']);return _0x5722c0['cameraShad'+'erParams']['defines']['forEach']((_0x4f946c,_0x1613c8)=>_0x5ac853['set'](_0x1613c8,_0x4f946c)),ti['get'](_0x5722c0['device'])['getByIndex'](_0x5722c0['pass'])['defines']['forEach']((_0x5d9b27,_0x519788)=>_0x5ac853['set'](_0x519788,_0x5d9b27)),_0x5ac853;},KE={'type':lr,'base':0x0,'count':0x4,'indexed':!(-0x5*0x2be+0x1b*-0x114+0x2ad3)},$a=new ee(),qa=new ee(),yd=new Ky();class Gu{constructor(_0x243da5){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x443620=_0x243da5['device'];if(this['shader']=_0x243da5,b['assert'](_0x243da5),_0x443620['supportsUn'+'iformBuffe'+'rs']){const _0x38c78a=new Jc();this['shader']=YE(_0x243da5,_0x38c78a);const _0xa612ec=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0xa612ec&&(this['uniformBuf'+'fer']=new vp(_0x443620,_0xa612ec,!(-0x24f2+-0x1*0x4d2+0x29c5)));const _0xde24e3=this['shader']['meshBindGr'+'oupFormat'];b['assert'](_0xde24e3),this['bindGroup']=new xp(_0x443620,_0xde24e3),gn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x3ac415,_0x100fe2;(_0x3ac415=this['uniformBuf'+'fer'])==null||_0x3ac415['destroy'](),this['uniformBuf'+'fer']=null,(_0x100fe2=this['bindGroup'])==null||_0x100fe2['destroy'](),this['bindGroup']=null;}['render'](_0x7a8916,_0x313c7e){const _0xb04168=this['shader']['device'];G['pushGpuMar'+'ker'](_0xb04168,'QuadRender'),_0x7a8916&&($a['set'](_0xb04168['vx'],_0xb04168['vy'],_0xb04168['vw'],_0xb04168['vh']),qa['set'](_0xb04168['sx'],_0xb04168['sy'],_0xb04168['sw'],_0xb04168['sh']),_0x313c7e=_0x313c7e??_0x7a8916,_0xb04168['setViewpor'+'t'](_0x7a8916['x'],_0x7a8916['y'],_0x7a8916['z'],_0x7a8916['w']),_0xb04168['setScissor'](_0x313c7e['x'],_0x313c7e['y'],_0x313c7e['z'],_0x313c7e['w'])),_0xb04168['setVertexB'+'uffer'](_0xb04168['quadVertex'+'Buffer'],0x11f4+-0x246a+0x1276);const _0x3817c4=this['shader'];if(_0xb04168['setShader'](_0x3817c4),_0xb04168['supportsUn'+'iformBuffe'+'rs']){_0xb04168['setBindGro'+'up'](Bh,_0xb04168['emptyBindG'+'roup']);const _0x21315e=this['bindGroup'];_0x21315e['update'](),_0xb04168['setBindGro'+'up'](jy,_0x21315e);const _0xf7bf37=this['uniformBuf'+'fer'];_0xf7bf37?(_0xf7bf37['update'](yd),_0xb04168['setBindGro'+'up'](Ru,yd['bindGroup'],yd['offsets'])):_0xb04168['setBindGro'+'up'](Ru,_0xb04168['emptyBindG'+'roup']);}_0xb04168['draw'](KE),_0x7a8916&&(_0xb04168['setViewpor'+'t']($a['x'],$a['y'],$a['z'],$a['w']),_0xb04168['setScissor'](qa['x'],qa['y'],qa['z'],qa['w'])),G['popGpuMark'+'er'](_0xb04168);}}class ZE extends gs{constructor(_0x26931d,_0xd5338f,_0x3ba923,_0x3ad83e){super(_0x26931d),this['quad']=_0xd5338f,this['rect']=_0x3ba923,this['scissorRec'+'t']=_0x3ad83e;}['execute'](){const {device:_0x132ebd}=this;G['pushGpuMar'+'ker'](_0x132ebd,this['name']+':'+this['quad']['shader']['name']),_0x132ebd['setCullMod'+'e'](vt),_0x132ebd['setDepthSt'+'ate'](us['NODEPTH']),_0x132ebd['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x132ebd);}}const QE=new ee();function fn(_0x54ffcf,_0xa3a21b,_0x3fbb11,_0x4eeee2,_0x35c435){b['assert'](_0xa3a21b!==void(0x1b86+-0x1*-0x28b+-0x1e11));const _0x292a12=arguments[0x739+0x15f2+-0x1*0x1d26];b['call'](()=>{_0x292a12!==void(-0x3*0x5cf+-0x786+0x18f3)&&b['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x1e14f4=new Gu(_0x3fbb11);_0x4eeee2||(_0x4eeee2=QE,_0x4eeee2['x']=0x31f*0x5+0x13b1+-0x234c,_0x4eeee2['y']=0x1843*-0x1+-0x5e2+0x1e25,_0x4eeee2['z']=_0xa3a21b?_0xa3a21b['width']:_0x54ffcf['width'],_0x4eeee2['w']=_0xa3a21b?_0xa3a21b['height']:_0x54ffcf['height']);const _0x3dab36=new ZE(_0x54ffcf,_0x1e14f4,_0x4eeee2,_0x35c435);_0x3dab36['init'](_0xa3a21b),_0x3dab36['colorOps']['clear']=!(0xace*-0x1+-0x146b+0xf9d*0x2),_0x3dab36['depthStenc'+'ilOps']['clearDepth']=!(0xe8*0x20+0x6f*0x2+-0x1ddd),_0x54ffcf['isWebGPU']&&_0xa3a21b===null&&_0x54ffcf['samples']>0x241c+0x1*-0xfee+-0x142d*0x1&&(_0x3dab36['colorOps']['store']=!(-0x226c+0x1f40+0x32c)),_0x3dab36['render'](),_0x1e14f4['destroy']();}class Um{constructor(_0x238c8b,_0x589a54,_0x27ab84){c(this,'_aabb',new ve()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x238c8b,this['dynamic']=_0x589a54,this['batchGroup'+'Id']=_0x27ab84);}['destroy'](_0x5068e1,_0x174fa8){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x5068e1,_0x174fa8),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x274580,_0x5bf130){for(let _0x1d2dae=-0x25*0xe6+-0x1903+0x3a41;_0x1d2dae<_0x5bf130['length'];_0x1d2dae++){const _0x1a3093=_0x274580['layers']['getLayerBy'+'Id'](_0x5bf130[_0x1d2dae]);_0x1a3093&&_0x1a3093['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x1f7d4c,_0x5d6c8f){for(let _0x378e63=0x15c*-0x8+-0x8b*-0xc+-0x12*-0x3e;_0x378e63<_0x5d6c8f['length'];_0x378e63++){const _0x485957=_0x1f7d4c['layers']['getLayerBy'+'Id'](_0x5d6c8f[_0x378e63]);_0x485957&&_0x485957['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x9*0x23b+0x36f*-0x9+0xad4]['aabb']);for(let _0x3bb002=-0x1bd+0x59*0x15+-0x58f*0x1;_0x3bb002<this['origMeshIn'+'stances']['length'];_0x3bb002++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x3bb002]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=0x1bd7+0x1bbf*0x1+-0x3796;}get['model'](){b['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class rt{constructor(_0x416acc,_0x5b1e6c,_0x1fbf61,_0x35138e,_0x464aeb=[zi]){c(this,'_ui',!(0x3*0x92f+-0x20a6+-0x2*-0x28d)),c(this,'_sprite',!(0x262a+0xb51*-0x1+-0x1ad8)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x416acc,this['name']=_0x5b1e6c,this['dynamic']=_0x1fbf61,this['maxAabbSiz'+'e']=_0x35138e,this['layers']=_0x464aeb);}}c(rt,'MODEL','model'),c(rt,'ELEMENT','element'),c(rt,'SPRITE','sprite'),c(rt,'RENDER','render');const Vm=new q();class hl{constructor(_0x3879a3){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(-0x20b4+-0x2119+0x41cd),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0x13b+-0x301*0x2+0x3*0x26a),this['_updateBef'+'oreCull']=!(0x1742*-0x1+0x1868+-0x126),_0x3879a3&&this['initSkin'](_0x3879a3));}set['rootBone'](_0x21199e){this['_rootBone']=_0x21199e;}get['rootBone'](){return this['_rootBone'];}['init'](_0x54d8b1,_0xed1eb7){const _0x4e28b5=_0xed1eb7*(0x26*0x7+-0x32f*0x3+0x443*0x2);let _0x412918=Math['ceil'](Math['sqrt'](_0x4e28b5));_0x412918=z['roundUp'](_0x412918,-0x925*-0x1+-0xf1+0x1*-0x831);const _0x4130fc=Math['ceil'](_0x4e28b5/_0x412918);this['boneTextur'+'e']=new ce(_0x54d8b1,{'width':_0x412918,'height':_0x4130fc,'format':et,'mipmaps':!(0x2*0xc5e+-0x18a6+0x7*-0x3),'minFilter':fe,'magFilter':fe,'name':'skin'}),this['boneTextur'+'eSize']=[_0x412918,_0x4130fc,(-0x6f3+-0x21e5+0x28d9*0x1)/_0x412918,(0x925+0x17db+-0x20ff)/_0x4130fc],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':ky}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x100d2e,_0x28d70a){this['rootBone']=_0x100d2e;const _0x298705=this['skin'],_0x43fade=[];for(let _0x2726fa=-0x184+-0x19db+0x1b5f;_0x2726fa<_0x298705['boneNames']['length'];_0x2726fa++){const _0x2e3a0a=_0x298705['boneNames'][_0x2726fa];let _0x226acc=_0x100d2e['findByName'](_0x2e3a0a);_0x226acc||(b['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x2e3a0a+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x28d70a['name']+(',\x20rootBone'+':\x20')+_0x100d2e['name']),_0x226acc=_0x28d70a),_0x43fade['push'](_0x226acc);}this['bones']=_0x43fade;}['initSkin'](_0x82bfe0){this['skin']=_0x82bfe0,this['bones']=[];const _0x24e423=_0x82bfe0['inverseBin'+'dPose']['length'];this['init'](_0x82bfe0['device'],_0x24e423),this['matrices']=[];for(let _0x5567f0=-0x568*0x4+-0x1ef2+0x1a49*0x2;_0x5567f0<_0x24e423;_0x5567f0++)this['matrices'][_0x5567f0]=new q();}['uploadBone'+'s'](_0x4a4556){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x1a0daa,_0x5c3195){if(this['_skinUpdat'+'eIndex']!==_0x5c3195){this['_skinUpdat'+'eIndex']=_0x5c3195,Vm['copy'](_0x1a0daa['getWorldTr'+'ansform']())['invert']();for(let _0x400aa8=this['bones']['length']-(-0x478+-0xca2+0x111b);_0x400aa8>=-0x1ba3+0xf1c+0xc87;_0x400aa8--)this['matrices'][_0x400aa8]['mulAffine2'](Vm,this['bones'][_0x400aa8]['getWorldTr'+'ansform']()),this['matrices'][_0x400aa8]['mulAffine2'](this['matrices'][_0x400aa8],this['skin']['inverseBin'+'dPose'][_0x400aa8]);}}['updateMatr'+'ices'](_0x46933b,_0x59726f){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x46933b,_0x59726f);}['updateMatr'+'ixPalette'](_0x115c4d,_0x3cf500){this['_updateMat'+'rices'](_0x115c4d,_0x3cf500);const _0x2d41bf=this['matrixPale'+'tte'],_0x89b069=this['bones']['length'];for(let _0x3c964c=-0x1952+-0x29*-0x1+0x39*0x71;_0x3c964c<_0x89b069;_0x3c964c++){const _0x42d68d=this['matrices'][_0x3c964c]['data'],_0x496ba7=_0x3c964c*(-0x5cd+-0x25e7+-0x578*-0x8);_0x2d41bf[_0x496ba7]=_0x42d68d[0x1*-0x176f+-0x2*0x6df+0x252d],_0x2d41bf[_0x496ba7+(-0x2*0x789+-0x1a6c+0x297f)]=_0x42d68d[0x224d+0x27*0xf+-0x2492],_0x2d41bf[_0x496ba7+(0xbaa*0x1+0x263*-0x3+0x1*-0x47f)]=_0x42d68d[0xe69*0x2+0x61*-0x49+-0x121],_0x2d41bf[_0x496ba7+(0x100c+-0x1*0x1b47+0x2*0x59f)]=_0x42d68d[0x1645*-0x1+0x2056*-0x1+0x36a7],_0x2d41bf[_0x496ba7+(-0x12a3+0x1107+0x8*0x34)]=_0x42d68d[-0x221+-0x7*0x2a9+0x14c1],_0x2d41bf[_0x496ba7+(-0x2015+-0x1e4*-0x10+0x1da)]=_0x42d68d[0x24c0+0xa6a+-0x2f25],_0x2d41bf[_0x496ba7+(0x1*-0x1eb7+-0xd1*-0x1b+0x8b2)]=_0x42d68d[0x6*0x54c+-0x1edd*0x1+0x71*-0x2],_0x2d41bf[_0x496ba7+(0x22*-0x84+0x9*0x342+0x1*-0xbc3)]=_0x42d68d[-0x17*-0x37+-0x2*-0xa6b+-0x19ba],_0x2d41bf[_0x496ba7+(-0xc4e+-0x1daf+0x2a05*0x1)]=_0x42d68d[-0x74f+-0x2502*0x1+0x2c53],_0x2d41bf[_0x496ba7+(-0x143d+-0x2c*-0x3a+0xa4e)]=_0x42d68d[0x1*-0x12a4+-0x1606*0x1+0x28b0],_0x2d41bf[_0x496ba7+(0x6b9*0x1+-0x150a+0xe5b)]=_0x42d68d[-0x47d+-0x1bcd+0x2054],_0x2d41bf[_0x496ba7+(-0x22a+-0x16*-0x16+0x51)]=_0x42d68d[-0x1*0x69d+-0xa09+0x10b4];}this['uploadBone'+'s'](this['skin']['device']);}}class Gm extends hl{constructor(_0x364f0d,_0x2dbfd9,_0x5c7a3b){super();const _0x15b750=_0x2dbfd9['length'];this['init'](_0x364f0d,_0x15b750),this['device']=_0x364f0d,this['rootNode']=_0x5c7a3b,this['bones']=_0x2dbfd9;}['updateMatr'+'ices'](_0x3b027c,_0x4fac16){}['updateMatr'+'ixPalette'](_0x1fd534,_0x5d5556){const _0x59f457=this['matrixPale'+'tte'],_0x391e58=this['bones']['length'];for(let _0x53d933=-0x3*0x928+0x12ae+-0x12*-0x7d;_0x53d933<_0x391e58;_0x53d933++){const _0x17817a=this['bones'][_0x53d933]['getWorldTr'+'ansform']()['data'],_0xed7b2b=_0x53d933*(0x1f*-0xaa+-0x15f5+0x2a97);_0x59f457[_0xed7b2b]=_0x17817a[-0x974+0x1e*0xf+-0x3d9*-0x2],_0x59f457[_0xed7b2b+(0x9e*-0x20+-0x309+0x2*0xb65)]=_0x17817a[-0x3ab*-0x2+0x6*0x295+-0x2da*0x8],_0x59f457[_0xed7b2b+(0xc6+-0x132f+-0x17*-0xcd)]=_0x17817a[0x248b+-0x22*-0x4a+-0x2e57],_0x59f457[_0xed7b2b+(-0x169b+0x40d+0x1291)]=_0x17817a[-0x2412+-0x1f*0x123+0x475b],_0x59f457[_0xed7b2b+(0x8b9*-0x1+-0xa7+0x964)]=_0x17817a[0xf13+-0x125*-0x13+-0x1d*0x145],_0x59f457[_0xed7b2b+(0x1d7+-0x1*0x70d+0x1*0x53b)]=_0x17817a[-0xf4f*-0x1+0x1*-0x2197+-0x124d*-0x1],_0x59f457[_0xed7b2b+(0xad0+-0xe*0x1d7+-0x2*-0x77c)]=_0x17817a[-0x2642+-0x1926+0x3f71],_0x59f457[_0xed7b2b+(0x333*-0x1+0x1*0x2022+0x73a*-0x4)]=_0x17817a[-0x1261*-0x1+-0x19f4+0x20*0x3d],_0x59f457[_0xed7b2b+(0x2fc*-0xd+-0xe35+0x3509)]=_0x17817a[-0x2591+-0x1680+0x3c13],_0x59f457[_0xed7b2b+(-0x139e+-0x1*0x195c+0x17*0x1f5)]=_0x17817a[-0x1*-0x1219+-0x1*0x1443+0x230],_0x59f457[_0xed7b2b+(-0x1d4a+-0x24f5+0x4249)]=_0x17817a[0x24b5*-0x1+0x260d*-0x1+0x12b3*0x4],_0x59f457[_0xed7b2b+(0x8eb*0x3+0x7b5*0x1+-0x226b)]=_0x17817a[0x503*0x1+-0x2158+0x1*0x1c63];}this['uploadBone'+'s'](this['device']);}}let JE=0xceb*-0x1+0x24af+-0x17c4;class js{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x961+-0xe*0xf2+0x3dc),this['verticesUs'+'age']=ts,this['indicesUsa'+'ge']=ts,this['maxVertice'+'s']=0x1*-0x161+-0x2467*-0x1+-0x2306*0x1,this['maxIndices']=0xd88+-0x7bd*-0x3+0x17*-0x199,this['vertexCoun'+'t']=0x7aa+0x63d*0x4+0x343*-0xa,this['indexCount']=-0x1*-0x11ef+0x13d*0x1f+0x1b*-0x216,this['vertexStre'+'amsUpdated']=!(-0x14d6+-0x39b*0x5+0x26de),this['indexStrea'+'mUpdated']=!(0x2259+0x11b*-0x1+-0x213d),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x516e9e,_0x32472d){this['vertexCoun'+'t']?b['assert'](this['vertexCoun'+'t']===_0x516e9e,'Vertex\x20str'+'eam\x20'+_0x32472d+'\x20has\x20'+_0x516e9e+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x516e9e;}}c(js,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',0xe4d+-0x7*-0x124+0xb23*-0x2),c(js,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x509+-0x1*-0x6e+0x2ba*-0x2),c(js,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x7a5*-0x3+0x41+-0xb97*0x2),c(js,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x17f0+-0x1929+0x1*0x13d);class eC{constructor(_0x2ae270,_0x14451b,_0xab314b,_0x4208b5,_0x10f660){this['data']=_0x2ae270,this['componentC'+'ount']=_0x14451b,this['dataType']=_0xab314b,this['dataTypeNo'+'rmalize']=_0x4208b5,this['asInt']=_0x10f660;}}class ke extends qc{constructor(_0x45a75e,_0x31019a){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',0x22e2+0x4*-0x362+0x3*-0x71e),c(this,'_aabb',new ve()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(-0x2055+-0xcb+0x2121)),c(this,'_storageVe'+'rtex',!(-0x29a+-0x1*-0x159c+-0x1301)),(this['id']=JE++,b['assert'](_0x45a75e,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x45a75e,this['_storageIn'+'dex']=(_0x31019a==null?void(-0x1aa2*-0x1+0x2*-0x537+-0x1*0x1034):_0x31019a['storageInd'+'ex'])||!(0xec2+0x32a+-0x8b*0x21),this['_storageVe'+'rtex']=(_0x31019a==null?void(-0x1c01*0x1+-0x721+0x2322):_0x31019a['storageVer'+'tex'])||!(0x22f8+0x1*0xafd+-0x2df4));}static['fromGeomet'+'ry'](_0x3a8ffa,_0x3f201a,_0x73a1aa={}){const _0x197a0c=new ke(_0x3a8ffa,_0x73a1aa),{positions:_0xd88dcb,normals:_0x152689,tangents:_0x4bb407,colors:_0x5350e3,uvs:_0x867f0a,uvs1:_0x390869,blendIndices:_0x3d2eff,blendWeights:_0x4c85f3,indices:_0x58ef79}=_0x3f201a;return _0xd88dcb&&_0x197a0c['setPositio'+'ns'](_0xd88dcb),_0x152689&&_0x197a0c['setNormals'](_0x152689),_0x4bb407&&_0x197a0c['setVertexS'+'tream'](si,_0x4bb407,0x6e7+0xe*-0x28b+-0x1*-0x1cb7),_0x5350e3&&_0x197a0c['setColors3'+'2'](_0x5350e3),_0x867f0a&&_0x197a0c['setUvs'](-0x2542+-0x67b+0x2bbd,_0x867f0a),_0x390869&&_0x197a0c['setUvs'](0x15eb+-0xc32+0x2*-0x4dc,_0x390869),_0x3d2eff&&_0x197a0c['setVertexS'+'tream'](Jt,_0x3d2eff,0x5*0x17c+-0x17*0x55+0x3b,_0x3d2eff['length']/(-0x23bb+0x312*0x6+0x1153),Zr),_0x4c85f3&&_0x197a0c['setVertexS'+'tream'](ei,_0x4c85f3,-0x2667*-0x1+-0x2063+-0x600),_0x58ef79&&_0x197a0c['setIndices'](_0x58ef79),_0x197a0c['update'](),_0x197a0c;}set['morph'](_0x25ffcb){_0x25ffcb!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x25ffcb,_0x25ffcb&&_0x25ffcb['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x41630a){this['_aabb']=_0x41630a,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x18b487=this['morph'];_0x18b487&&(this['morph']=null,_0x18b487['refCount']<0x1f1*0x9+0x6b*0x12+-0x18fe*0x1&&_0x18b487['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0xf5a338=0x26dd+-0x4*-0x574+-0x3cad;_0xf5a338<this['indexBuffe'+'r']['length'];_0xf5a338++)this['_destroyIn'+'dexBuffer'](_0xf5a338);this['indexBuffe'+'r']['length']=-0x35*0xb7+-0x788*-0x5+0x1*0x3b,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x21acb0){this['indexBuffe'+'r'][_0x21acb0]&&(this['indexBuffe'+'r'][_0x21acb0]['destroy'](),this['indexBuffe'+'r'][_0x21acb0]=null);}['_initBoneA'+'abbs'](_0x2af9a0){this['boneAabb']=[],this['boneUsed']=[];let _0x45daff,_0x4e884e,_0x48b380,_0x54b660,_0xfd7e1;const _0x47369c=[],_0x2d3063=[],_0x17ea07=this['boneUsed'],_0x1831cf=this['skin']['boneNames']['length'];let _0x2441d3,_0x3e3b4e,_0x2d3a26;for(let _0x127093=0x11bd*-0x1+-0x3c*-0xa5+-0x14ef;_0x127093<_0x1831cf;_0x127093++)_0x47369c[_0x127093]=new A(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x2d3063[_0x127093]=new A(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x4238ee=new vo(this['vertexBuff'+'er']),_0x3ecee6=_0x4238ee['element'][Xe],_0x1f2f15=_0x4238ee['element'][ei],_0x1963fc=_0x4238ee['element'][Jt],_0x3a977a=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x45b659=-0xc*-0x10e+0x19d5*-0x1+0x1*0xd2d;_0x45b659<_0x3a977a;_0x45b659++){for(let _0x2931be=-0x4c6+0x1*-0x174d+0x1c13;_0x2931be<-0x15c9+-0x1f7a+0x1*0x3547;_0x2931be++)if(_0x1f2f15['array'][_0x1f2f15['index']+_0x2931be]>-0xb*-0x374+-0x227c+-0x380){const _0x3e9d64=_0x1963fc['array'][_0x1963fc['index']+_0x2931be];if(_0x17ea07[_0x3e9d64]=!(-0x3ea*-0x3+0x9*0x38d+-0x2bb3),_0x45daff=_0x3ecee6['array'][_0x3ecee6['index']],_0x4e884e=_0x3ecee6['array'][_0x3ecee6['index']+(-0x1*0xeb8+0x9bc+0x4fd*0x1)],_0x48b380=_0x3ecee6['array'][_0x3ecee6['index']+(-0xd42+0x7e*-0xd+0x13aa)],_0x54b660=_0x2d3063[_0x3e9d64],_0xfd7e1=_0x47369c[_0x3e9d64],_0xfd7e1['x']>_0x45daff&&(_0xfd7e1['x']=_0x45daff),_0xfd7e1['y']>_0x4e884e&&(_0xfd7e1['y']=_0x4e884e),_0xfd7e1['z']>_0x48b380&&(_0xfd7e1['z']=_0x48b380),_0x54b660['x']<_0x45daff&&(_0x54b660['x']=_0x45daff),_0x54b660['y']<_0x4e884e&&(_0x54b660['y']=_0x4e884e),_0x54b660['z']<_0x48b380&&(_0x54b660['z']=_0x48b380),_0x2af9a0){let _0x46b8ae=_0x2441d3=_0x45daff,_0x3b4c13=_0x3e3b4e=_0x4e884e,_0x3fd587=_0x2d3a26=_0x48b380;for(let _0x1eb324=-0x35d*-0x3+0x6da*-0x2+0x39d;_0x1eb324<_0x2af9a0['length'];_0x1eb324++){const _0x50c919=_0x2af9a0[_0x1eb324],_0x32b5cd=_0x50c919['deltaPosit'+'ions'][_0x45b659*(-0x1f76+0x48*0x3e+0xe09)],_0x2a1f4a=_0x50c919['deltaPosit'+'ions'][_0x45b659*(0x1c9c+-0x1964+-0x335)+(-0x2*-0x10f0+0x2547+-0x4726)],_0x24a1f9=_0x50c919['deltaPosit'+'ions'][_0x45b659*(0x1*0x140e+-0x605*0x3+-0x1fc)+(-0x19db*-0x1+-0x18*0x101+0x1*-0x1c1)];_0x32b5cd<-0x1ae1+-0x873+-0x22*-0x10a?_0x46b8ae+=_0x32b5cd:_0x2441d3+=_0x32b5cd,_0x2a1f4a<-0x4*0x7d5+0x11b*-0x8+0x282c?_0x3b4c13+=_0x2a1f4a:_0x3e3b4e+=_0x2a1f4a,_0x24a1f9<-0x3f*0x5a+0x1ad8+-0x4b2?_0x3fd587+=_0x24a1f9:_0x2d3a26+=_0x24a1f9;}_0xfd7e1['x']>_0x46b8ae&&(_0xfd7e1['x']=_0x46b8ae),_0xfd7e1['y']>_0x3b4c13&&(_0xfd7e1['y']=_0x3b4c13),_0xfd7e1['z']>_0x3fd587&&(_0xfd7e1['z']=_0x3fd587),_0x54b660['x']<_0x2441d3&&(_0x54b660['x']=_0x2441d3),_0x54b660['y']<_0x3e3b4e&&(_0x54b660['y']=_0x3e3b4e),_0x54b660['z']<_0x2d3a26&&(_0x54b660['z']=_0x2d3a26);}}_0x4238ee['next']();}const _0x1767f4=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x497d44=>_0x497d44['name']===Xe);if(_0x1767f4&&_0x1767f4['normalize']){const _0x1fe437=((()=>{switch(_0x1767f4['dataType']){case Fc:return _0x3ab07d=>Math['max'](_0x3ab07d/(0x128e+-0x2658+0x1449),-(0x4fa*-0x4+0x1*0x1477+0x2*-0x47));case Zr:return _0x4c3c2d=>_0x4c3c2d/(-0x1a9*0x5+-0x3ed*-0x1+-0x55f*-0x1);case kc:return _0x4be649=>Math['max'](_0x4be649/(-0x5e78+-0x5d42+0x5f5*0x35),-(-0x1*0x19e4+0xb*-0x12a+0x26b3));case rl:return _0x471d2f=>_0x471d2f/(0x1*0xcfba+0x168fd+0x2717*-0x8);default:return _0x3e041a=>_0x3e041a;}})());for(let _0x4c42f3=-0xb3*0xb+0xeb9+-0x708;_0x4c42f3<_0x1831cf;_0x4c42f3++)if(_0x17ea07[_0x4c42f3]){const _0x15790a=_0x47369c[_0x4c42f3],_0x275b42=_0x2d3063[_0x4c42f3];_0x15790a['set'](_0x1fe437(_0x15790a['x']),_0x1fe437(_0x15790a['y']),_0x1fe437(_0x15790a['z'])),_0x275b42['set'](_0x1fe437(_0x275b42['x']),_0x1fe437(_0x275b42['y']),_0x1fe437(_0x275b42['z']));}}for(let _0x3f9c5c=0x849*-0x2+-0x18cb+0x295d;_0x3f9c5c<_0x1831cf;_0x3f9c5c++){const _0x1dc5c1=new ve();_0x1dc5c1['setMinMax'](_0x47369c[_0x3f9c5c],_0x2d3063[_0x3f9c5c]),this['boneAabb']['push'](_0x1dc5c1);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new js(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0x2*-0x89f+-0xa39*-0x1+-0x1b77&&this['indexBuffe'+'r'][0x107f+0x37b+0x2*-0x9fd]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x1*-0x815+-0x1dba+-0x1*-0x15a5]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x5*-0x45c+0x1*0x58c+-0x1b58]['numIndices']));}['clear'](_0x49dee5,_0x25a221,_0x4f6202=-0x1ee4+0x4f9+-0x52f*-0x5,_0x29564f=-0x17ba*-0x1+0x1ac3+-0x113*0x2f){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0x1a91*0x1+-0x95*-0x35+0x1*-0x448),this['_geometryD'+'ata']['maxVertice'+'s']=_0x4f6202,this['_geometryD'+'ata']['maxIndices']=_0x29564f,this['_geometryD'+'ata']['verticesUs'+'age']=_0x49dee5?ts:Ph,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x25a221?ts:Ph;}['setVertexS'+'tream'](_0x5bd82d,_0xbf7f9c,_0x3e9eae,_0x314569,_0x576583=Re,_0x5912ce=!(-0x2434+0x400+0x1*0x2035),_0x50df36=!(0xaf3*0x1+0x2550+-0x3042)){this['_initGeome'+'tryData']();const _0x1eb194=_0x314569||_0xbf7f9c['length']/_0x3e9eae;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x1eb194,_0x5bd82d),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x8c1+-0x20e6*0x1+0x1825),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5bd82d]=new eC(_0xbf7f9c,_0x3e9eae,_0x576583,_0x5912ce,_0x50df36);}['getVertexS'+'tream'](_0xde2cd8,_0x37a485){let _0x470e2d=0x178a+0x19c*-0x4+0x1*-0x111a,_0xc20822=!(0x6*-0x56d+-0x2133+0x376*0x13);if(this['_geometryD'+'ata']){const _0x38c4b3=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xde2cd8];_0x38c4b3&&(_0xc20822=!(-0x1b0d+0x1b6a+-0x5d*0x1),_0x470e2d=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x37a485)?_0x37a485['set'](_0x38c4b3['data']):(_0x37a485['length']=0xdcd*0x1+0x6*-0x3d+-0xc5f,_0x37a485['push'](_0x38c4b3['data'])));}return _0xc20822||this['vertexBuff'+'er']&&(_0x470e2d=new vo(this['vertexBuff'+'er'])['readData'](_0xde2cd8,_0x37a485)),_0x470e2d;}['setPositio'+'ns'](_0x813dc2,_0x4f9e10=js['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x28ffe1){this['setVertexS'+'tream'](Xe,_0x813dc2,_0x4f9e10,_0x28ffe1,Re,!(0xdc3+0x13*-0x36+-0x9c0));}['setNormals'](_0x159730,_0x40f4a2=js['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x5aa445){this['setVertexS'+'tream'](ss,_0x159730,_0x40f4a2,_0x5aa445,Re,!(-0xc7c+0x11*-0x1a+0x1*0xe37));}['setUvs'](_0x1e68c2,_0x33025e,_0x24adbd=js['DEFAULT_CO'+'MPONENTS_U'+'V'],_0xd3bebd){this['setVertexS'+'tream'](lm+_0x1e68c2,_0x33025e,_0x24adbd,_0xd3bebd,Re,!(-0x1535*-0x1+-0x17*-0x13d+-0x31af));}['setColors'](_0x3ecc9f,_0x5ebb1b=js['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x2bbf1c){this['setVertexS'+'tream'](It,_0x3ecc9f,_0x5ebb1b,_0x2bbf1c,Re,!(0x26ba*-0x1+-0xaf3*0x1+0x31ae));}['setColors3'+'2'](_0x4a70b6,_0x57a1a9){this['setVertexS'+'tream'](It,_0x4a70b6,js['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x57a1a9,Zr,!(-0xae2+-0xcd8+-0x17ba*-0x1));}['setIndices'](_0x3aada9,_0x1cd791){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x2511+-0xb9b+0xcbb*-0x2),this['_geometryD'+'ata']['indices']=_0x3aada9,this['_geometryD'+'ata']['indexCount']=_0x1cd791||_0x3aada9['length'];}['getPositio'+'ns'](_0x399dca){return this['getVertexS'+'tream'](Xe,_0x399dca);}['getNormals'](_0x3f779a){return this['getVertexS'+'tream'](ss,_0x3f779a);}['getUvs'](_0x4b9966,_0x4df6ab){return this['getVertexS'+'tream'](lm+_0x4b9966,_0x4df6ab);}['getColors'](_0xd116d7){return this['getVertexS'+'tream'](It,_0xd116d7);}['getIndices'](_0x36cf5c){let _0x504b09=0x26f4+-0x1*0x63+-0x2691;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0xc12f97=this['_geometryD'+'ata']['indices'];if(_0x504b09=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x36cf5c))_0x36cf5c['set'](_0xc12f97);else{_0x36cf5c['length']=0x1*0xa4c+-0x1a*0x74+-0x5*-0x4c;for(let _0x2ea069=-0xf97+-0x2354+0x21*0x18b,_0x3a6e74=_0xc12f97['length'];_0x2ea069<_0x3a6e74;_0x2ea069++)_0x36cf5c['push'](_0xc12f97[_0x2ea069]);}}else this['indexBuffe'+'r']['length']>0x1d*0xc2+0x1d74+-0x336e&&this['indexBuffe'+'r'][0x1591+0x1883+-0x2e14]&&(_0x504b09=this['indexBuffe'+'r'][-0x1b50+0x485*0x3+0xdc1]['readData'](_0x36cf5c));return _0x504b09;}['update'](_0x1d60ec=Fs,_0x50f08d=!(-0x14a1+-0x72b*0x1+0x1bcc)){if(this['_geometryD'+'ata']){if(_0x50f08d){const _0x59d740=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Xe];_0x59d740&&_0x59d740['componentC'+'ount']===0x1e2*-0x7+-0x15cf+-0x380*-0xa&&(this['_aabb']['compute'](_0x59d740['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x251456=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x251456=!(0x2230*0x1+0x22b7+-0x44e7),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x251456&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x2c5ec7=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x2c5ec7=!(-0x1447+0x2240+-0xdf9),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x2c5ec7&&this['indexBuffe'+'r']['length']>0x139d+-0x2330+-0xf93*-0x1&&this['indexBuffe'+'r'][-0x68*0x29+0x891*0x1+0x817*0x1]&&(this['indexBuffe'+'r'][-0x16a0+-0x1*0x1a02+0x30a2]['destroy'](),this['indexBuffe'+'r'][0x1*0x1337+0x22d3+-0x1b05*0x2]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x1027+0x2f*0x1+-0x1056]['type']=_0x1d60ec,this['indexBuffe'+'r']['length']>0x1915+-0x1ed8+-0x127*-0x5&&this['indexBuffe'+'r'][0x1*-0xbfb+0x1ea3+-0x18*0xc7]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x236*0x1+-0x236b+0x2135*0x1]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x1b7b+-0x1302+-0x879]['indexed']=!(0x1371+-0xd49+-0x2*0x314)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][0x53*-0x1+-0xe1a+-0x4cf*-0x3]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x1b1b+-0xa0b+-0x70*0x27]['indexed']=!(-0x1*0x1d1+0x89e*0x4+-0x20a6)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x187d+0x5*-0x56f+0x2ae,this['_geometryD'+'ata']['indexCount']=0x1*0x205d+0x7*0x323+0x199*-0x22,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x181c+-0x284+-0x1597),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x5ab*-0x6+-0x199*0x8+-0x1539),this['_geometryD'+'ata']['recreate']=!(0xa6e+-0x120f+0x7a2),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x43a14c){const _0x5971dc=[];for(const _0x277226 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x375a75=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x277226];_0x5971dc['push']({'semantic':_0x277226,'components':_0x375a75['componentC'+'ount'],'type':_0x375a75['dataType'],'normalize':_0x375a75['dataTypeNo'+'rmalize'],'asInt':_0x375a75['asInt']});}return new Dt(this['device'],_0x5971dc,_0x43a14c);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x164053=this['_geometryD'+'ata']['maxVertice'+'s'],_0x3fd2a7=this['_buildVert'+'exFormat'](_0x164053);this['vertexBuff'+'er']=new fs(this['device'],_0x3fd2a7,_0x164053,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x262a8c=new vo(this['vertexBuff'+'er']),_0x187d24=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x1402c2 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x53d287=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1402c2];_0x262a8c['writeData'](_0x1402c2,_0x53d287['data'],_0x187d24),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x1402c2];}_0x262a8c['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0xb*-0x182+0x14*0xc+-0x1186||!this['indexBuffe'+'r'][0x11b*0x13+-0x4*-0x959+-0x3a65*0x1]){const _0xbc06c7=this['_geometryD'+'ata']['maxVertice'+'s'],_0x4e4d6d=_0xbc06c7>0xe978+0x1a93*0x4+0x1*-0x53c5||_0xbc06c7===0x216b+0x3*0xdf+-0x2408?or:Fi,_0x1291a5=this['_storageIn'+'dex']?{'storage':!(-0x1932+0x12d2+0x660)}:void(0x147b+-0x16*0xef+-0x1*-0xf);this['indexBuffe'+'r'][0xb*0x2cf+0x25ba+0x63d*-0xb]=new cr(this['device'],_0x4e4d6d,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x1a87*0x1+0xde7*0x2+-0x7*0x7c3),_0x1291a5);}const _0x2272ff=this['_geometryD'+'ata']['indices'];_0x2272ff&&(this['indexBuffe'+'r'][-0x1*-0xfb3+-0x984+0x62f*-0x1]['writeData'](_0x2272ff,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x2c5b83){_0x2c5b83===Lr?this['generateWi'+'reframe']():_0x2c5b83===Pl&&(this['primitive'][Pl]={'type':Dc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:0x22f8+0x1*0x17c3+-0x3abb,'indexed':!(-0x2*-0x526+0x265f*-0x1+0x1c14)});}['updateRend'+'erStates'](){this['primitive'][Pl]&&this['prepareRen'+'derState'](Pl),this['primitive'][Lr]&&this['prepareRen'+'derState'](Lr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Lr);const _0x1cdb4f=this['vertexBuff'+'er']['numVertice'+'s'],_0x2a5a3c=[];let _0x13f01a;if(this['indexBuffe'+'r']['length']>-0x10f9+0x17d8+-0x6df&&this['indexBuffe'+'r'][-0x114b+-0xcee+0x1e39*0x1]){const _0x1e11fc=[[-0x1*-0x1b2b+-0x5a8+-0x1*0x1583,-0x12b5+0x5*-0x669+-0x1*-0x32c3],[-0x6*-0x1f7+-0x16ef*-0x1+0x194*-0x16,0x5d5+0x18d8+-0x1eab],[-0xe17*-0x1+0x4*-0x2ab+0x123*-0x3,-0x25*-0x53+-0xe0*0x10+0x201]],_0x267997=this['primitive'][bo]['base'],_0x41fa81=this['primitive'][bo]['count'],_0x205ca7=this['indexBuffe'+'r'][bo],_0x3c0b81=new Nh[_0x205ca7['format']](_0x205ca7['storage']),_0xa658a=new Set();for(let _0x16e362=_0x267997;_0x16e362<_0x267997+_0x41fa81;_0x16e362+=0x511+0x1485+0x1*-0x1993)for(let _0x355da5=-0x1274*0x1+-0x271+0x14e5;_0x355da5<-0x1ed0+-0x7d*-0x23+-0x1*-0xdbc;_0x355da5++){const _0xc6c8c5=_0x3c0b81[_0x16e362+_0x1e11fc[_0x355da5][-0x10dc+0x2673+-0x1597]],_0x2e54b6=_0x3c0b81[_0x16e362+_0x1e11fc[_0x355da5][-0x1eaa*-0x1+0x1*0x7d+-0x1f26]],_0x274a8c=_0xc6c8c5>_0x2e54b6?_0x2e54b6*_0x1cdb4f+_0xc6c8c5:_0xc6c8c5*_0x1cdb4f+_0x2e54b6;_0xa658a['has'](_0x274a8c)||(_0xa658a['add'](_0x274a8c),_0x2a5a3c['push'](_0xc6c8c5,_0x2e54b6));}_0x13f01a=_0x205ca7['format'];}else{for(let _0x58e5e3=0xee0+0x5f1*-0x4+0x8e4;_0x58e5e3<_0x1cdb4f;_0x58e5e3+=-0x228e+0x25eb+0x27*-0x16)_0x2a5a3c['push'](_0x58e5e3,_0x58e5e3+(-0x13d*-0x19+0x1f7b+0x1*-0x3e6f),_0x58e5e3+(-0x1933+-0x5*-0x5ab+0x49*-0xb),_0x58e5e3+(0x18ee+0x1346+0x1*-0x2c32),_0x58e5e3+(-0x1d19*-0x1+-0x2*0x8c5+-0xb8d),_0x58e5e3);_0x13f01a=_0x2a5a3c['length']>0x24f*0x9a+0x1a43d+-0x81f1*0x4?or:Fi;}const _0x8d6ade=new cr(this['vertexBuff'+'er']['device'],_0x13f01a,_0x2a5a3c['length']);new Nh[_0x8d6ade['format']](_0x8d6ade['storage'])['set'](_0x2a5a3c),_0x8d6ade['unlock'](),this['primitive'][Lr]={'type':Lc,'base':0x0,'count':_0x2a5a3c['length'],'indexed':!(-0x17cb+0x7a+0x1751)},this['indexBuffe'+'r'][Lr]=_0x8d6ade;}}const Hm=new q(),xd=new A(),Wm=new ie(),Sd=new ie(),$m=new A(),qm=new A(),tC=new q(),sC=new ie(),Wt=new A(),Xa=new q(),$t=new ie(),Cn=new ie(),Xm=new q(),vd=new A(),Il=new A();function jm(_0x16d49,_0x469b65){return _0x16d49 instanceof Function?_0x16d49:_0x35226f=>{let _0x11d2f6=_0x35226f[_0x16d49];return _0x11d2f6 instanceof Function&&(_0x11d2f6=_0x11d2f6()),_0x11d2f6===_0x469b65;};}function T0(_0x4981ba,_0x46af97){if(_0x46af97(_0x4981ba))return _0x4981ba;const _0xe4d099=_0x4981ba['_children'],_0xc0e420=_0xe4d099['length'];for(let _0x38e467=-0x1f*-0x4+0x1*0x10b1+-0x112d*0x1;_0x38e467<_0xc0e420;++_0x38e467){const _0x1afffe=T0(_0xe4d099[_0x38e467],_0x46af97);if(_0x1afffe)return _0x1afffe;}return null;}class Oe extends de{constructor(_0x3c0718='Untitled'){super(),c(this,'name'),c(this,'tags',new yo(this)),c(this,'localPosit'+'ion',new A()),c(this,'localRotat'+'ion',new ie()),c(this,'localScale',new A(-0x35*0x2e+0x2*-0x847+0x1a15,-0x1*0xd79+-0xbf0+0x196a,-0x251*-0x9+0xb70+-0x1024*0x2)),c(this,'localEuler'+'Angles',new A()),c(this,'position',new A()),c(this,'rotation',new ie()),c(this,'eulerAngle'+'s',new A()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x1*0x1902+-0x2125+0x3a28)),c(this,'_aabbVer',-0x25fc+-0x2d1*0xd+0x4a99),c(this,'_frozen',!(-0x1*-0x136b+0x267+-0x15d1)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x7*0x2cb+0x1951+-0x2cdd)),c(this,'_worldScal'+'eSign',-0x97*0x3d+-0x1c8a*0x1+-0x53*-0xc7),c(this,'_normalMat'+'rix',new Js()),c(this,'_dirtyNorm'+'al',!(-0x2535+-0x13ee+-0x1*-0x3923)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0xd81+-0x2147*-0x1+-0x2*0x9e3),c(this,'_enabled',!(0x3c5+-0x1a*0xdf+-0x64b*-0x3)),c(this,'_enabledIn'+'Hierarchy',!(-0x1077+-0x99+-0x101*-0x11)),c(this,'scaleCompe'+'nsation',!(0x5db+-0x1f2*-0x5+-0xf94*0x1)),this['name']=_0x3c0718;}get['right'](){return this['_right']||(this['_right']=new A()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new A()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new A()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0xa9b+-0x11d6+0x1cf*0x4));}get['normalMatr'+'ix'](){const _0x301375=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x301375['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(-0xb*-0x326+-0x1*-0x1d2d+-0x2*0x1fe7)),_0x301375;}set['enabled'](_0x5bc6db){var _0x3d05eb;this['_enabled']!==_0x5bc6db&&(this['_enabled']=_0x5bc6db,(_0x5bc6db&&((_0x3d05eb=this['_parent'])!=null&&_0x3d05eb['enabled'])||!_0x5bc6db)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x5bc6db));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x3ebe51=this['_parent'];if(!_0x3ebe51)return'';let _0x2cd978=this['name'];for(;_0x3ebe51&&_0x3ebe51['_parent'];)_0x2cd978=_0x3ebe51['name']+'/'+_0x2cd978,_0x3ebe51=_0x3ebe51['_parent'];return _0x2cd978;}get['root'](){let _0x8d8377=this;for(;_0x8d8377['_parent'];)_0x8d8377=_0x8d8377['_parent'];return _0x8d8377;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x26a763,_0xc78dad){_0x26a763['_onHierarc'+'hyStateCha'+'nged'](_0xc78dad);const _0x188a70=_0x26a763['_children'];for(let _0x47517d=-0x2410*0x1+-0x24e2*-0x1+-0x3*0x46,_0x337f6f=_0x188a70['length'];_0x47517d<_0x337f6f;_0x47517d++)_0x188a70[_0x47517d]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x188a70[_0x47517d],_0xc78dad);}['_onHierarc'+'hyStateCha'+'nged'](_0x4f3563){this['_enabledIn'+'Hierarchy']=_0x4f3563,_0x4f3563&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x4c5b56){_0x4c5b56['name']=this['name'];const _0x3a25ef=this['tags']['_list'];_0x4c5b56['tags']['clear']();for(let _0x272695=0xdbf+-0x2*0xdeb+0x1*0xe17;_0x272695<_0x3a25ef['length'];_0x272695++)_0x4c5b56['tags']['add'](_0x3a25ef[_0x272695]);_0x4c5b56['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x4c5b56['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x4c5b56['localScale']['copy'](this['localScale']),_0x4c5b56['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x4c5b56['position']['copy'](this['position']),_0x4c5b56['rotation']['copy'](this['rotation']),_0x4c5b56['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x4c5b56['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x4c5b56['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x4c5b56['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x4c5b56['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x4c5b56['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x4c5b56['_aabbVer']=this['_aabbVer']+(-0x3*-0x869+-0x21c3*-0x1+0x3afd*-0x1),_0x4c5b56['_enabled']=this['_enabled'],_0x4c5b56['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x4c5b56['_enabledIn'+'Hierarchy']=!(-0x248b+0x19b9+0x11*0xa3);}['clone'](){const _0x50089e=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x50089e),_0x50089e;}['copy'](_0x314867){return _0x314867['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x3abe78=this['_children'];for(;_0x3abe78['length'];){const _0x58684d=_0x3abe78['pop']();_0x58684d['_parent']=null,_0x58684d['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x5608e8,_0x284196){const _0x61f6b8=[],_0x4a3d2b=jm(_0x5608e8,_0x284196);return this['forEach'](_0x56d0d1=>{_0x4a3d2b(_0x56d0d1)&&_0x61f6b8['push'](_0x56d0d1);}),_0x61f6b8;}['findOne'](_0x555cad,_0x558361){const _0x30a779=jm(_0x555cad,_0x558361);return T0(this,_0x30a779);}['findByTag'](){const _0x22dd1a=arguments,_0x2f195f=[],_0x1025f0=(_0x47e7ed,_0x220d35)=>{_0x220d35&&_0x47e7ed['tags']['has'](..._0x22dd1a)&&_0x2f195f['push'](_0x47e7ed);for(let _0x9d294=0x2490+-0xd19*-0x1+-0x31a9*0x1;_0x9d294<_0x47e7ed['_children']['length'];_0x9d294++)_0x1025f0(_0x47e7ed['_children'][_0x9d294],!(-0x643+-0x17fe+-0x1e41*-0x1));};return _0x1025f0(this,!(0x2*-0x1de+-0x16f4+-0x1*-0x1ab1)),_0x2f195f;}['findByName'](_0x2ff5ab){return this['findOne']('name',_0x2ff5ab);}['findByPath'](_0x258659){const _0x555f57=Array['isArray'](_0x258659)?_0x258659:_0x258659['split']('/');let _0x5be6f9=this;for(let _0x2d80fa=0xaa2*0x1+0x88b+-0x132d*0x1,_0x145394=_0x555f57['length'];_0x2d80fa<_0x145394;++_0x2d80fa)if(_0x5be6f9=_0x5be6f9['children']['find'](_0x36b8df=>_0x36b8df['name']===_0x555f57[_0x2d80fa]),!_0x5be6f9)return null;return _0x5be6f9;}['forEach'](_0x77f345,_0x3d2e47){_0x77f345['call'](_0x3d2e47,this);const _0x6990f9=this['_children'],_0x459491=_0x6990f9['length'];for(let _0x259bc8=-0x1a24+0xd*0x2ba+-0x6*0x18d;_0x259bc8<_0x459491;++_0x259bc8)_0x6990f9[_0x259bc8]['forEach'](_0x77f345,_0x3d2e47);}['isDescenda'+'ntOf'](_0x383238){let _0x3c9bfe=this['_parent'];for(;_0x3c9bfe;){if(_0x3c9bfe===_0x383238)return!(-0xa*-0x95+-0xcd4+0x702);_0x3c9bfe=_0x3c9bfe['_parent'];}return!(-0xe1d+0xf*-0x283+0x33cb);}['isAncestor'+'Of'](_0x54c2ac){return _0x54c2ac['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x142f*-0x1+-0x2*0x373+-0xd48)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new A()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0x2496+0x3*0x3cc+0xa*0x285&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x54212e;(_0x54212e=this['_parent'])==null||_0x54212e['removeChil'+'d'](this);}['reparent'](_0x52984b,_0x3fc531){this['remove'](),_0x52984b&&(_0x3fc531>=0x19d+0x1dbb+-0x1f58?_0x52984b['insertChil'+'d'](this,_0x3fc531):_0x52984b['addChild'](this));}['setLocalEu'+'lerAngles'](_0x548108,_0x341f08,_0x2f7ff3){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x548108,_0x341f08,_0x2f7ff3),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x2ddfb0,_0x205d7f,_0xf9013d){_0x2ddfb0 instanceof A?this['localPosit'+'ion']['copy'](_0x2ddfb0):this['localPosit'+'ion']['set'](_0x2ddfb0,_0x205d7f,_0xf9013d),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x13eca3,_0x4dea9f,_0x53c196,_0x380d75){_0x13eca3 instanceof ie?this['localRotat'+'ion']['copy'](_0x13eca3):this['localRotat'+'ion']['set'](_0x13eca3,_0x4dea9f,_0x53c196,_0x380d75),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x2783d3,_0x4a15b3,_0x60c908){_0x2783d3 instanceof A?this['localScale']['copy'](_0x2783d3):this['localScale']['set'](_0x2783d3,_0x4a15b3,_0x60c908),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(-0x1524+-0x491+0x1*0x19b5),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x271a86=this['_parent'];for(;_0x271a86;)_0x271a86['_frozen']=!(0x1a22+-0x21f0+0x7cf),_0x271a86=_0x271a86['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x4*-0xa3+-0xb74+0x8e9),this['_dirtyWorl'+'d']=!(0xae7*-0x3+0x683*-0x2+-0x1*-0x2dbb);for(let _0x3aa35a=-0x24d5+-0x33*0xab+0x46e6;_0x3aa35a<this['_children']['length'];_0x3aa35a++)this['_children'][_0x3aa35a]['_dirtyWorl'+'d']||this['_children'][_0x3aa35a]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1af0*0x1+0x1*-0x1cb5+0x1*0x1c5),this['_worldScal'+'eSign']=-0x2b*-0x53+-0x6*0x3ac+0x13*0x6d,this['_aabbVer']++;}['setPositio'+'n'](_0x291319,_0x4d5f4c,_0x7121af){_0x291319 instanceof A?Wt['copy'](_0x291319):Wt['set'](_0x291319,_0x4d5f4c,_0x7121af),this['_parent']===null?this['localPosit'+'ion']['copy'](Wt):(Xa['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Xa['transformP'+'oint'](Wt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0xa72fb8,_0x48c7c8,_0x323a11,_0x2bb5ab){if(_0xa72fb8 instanceof ie?$t['copy'](_0xa72fb8):$t['set'](_0xa72fb8,_0x48c7c8,_0x323a11,_0x2bb5ab),this['_parent']===null)this['localRotat'+'ion']['copy']($t);else{const _0x4fe757=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x4fe757)['invert'](),this['localRotat'+'ion']['copy'](Cn)['mul']($t);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x2b08f9,_0x146b7f){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x2b08f9),this['localRotat'+'ion']['copy'](_0x146b7f);else{const _0x39fa4f=this['_parent']['getWorldTr'+'ansform']();Xa['copy'](_0x39fa4f)['invert'](),Xa['transformP'+'oint'](_0x2b08f9,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Xa)['mul'](_0x146b7f);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x565d05,_0x32659f,_0x5efadb){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x565d05,_0x32659f,_0x5efadb),this['_parent']!==null){const _0x31d659=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x31d659)['invert'](),this['localRotat'+'ion']['mul2'](Cn,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x3fa5ff){this['_prepareIn'+'sertChild'](_0x3fa5ff),this['_children']['push'](_0x3fa5ff),this['_onInsertC'+'hild'](_0x3fa5ff);}['addChildAn'+'dSaveTrans'+'form'](_0x521bcd){const _0x4ea064=_0x521bcd['getPositio'+'n'](),_0x3e599e=_0x521bcd['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x521bcd),_0x521bcd['setPositio'+'n'](tC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x4ea064)),_0x521bcd['setRotatio'+'n'](sC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x3e599e)),this['_children']['push'](_0x521bcd),this['_onInsertC'+'hild'](_0x521bcd);}['insertChil'+'d'](_0x3b8578,_0x539868){this['_prepareIn'+'sertChild'](_0x3b8578),this['_children']['splice'](_0x539868,0x5*0x5a+0x21ee*0x1+-0x23b0,_0x3b8578),this['_onInsertC'+'hild'](_0x3b8578);}['_prepareIn'+'sertChild'](_0x597f70){_0x597f70['remove'](),b['assert'](_0x597f70!==this,'GraphNode\x20'+(_0x597f70==null?void(0xc3a+-0x2f1*0xc+0x1712):_0x597f70['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),b['assert'](!this['isDescenda'+'ntOf'](_0x597f70),'GraphNode\x20'+(_0x597f70==null?void(0x1a25+-0x246b+0xa46):_0x597f70['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x31cc08,_0x18d1e5,_0x18c953){this['fire'](_0x31cc08,_0x18c953);for(let _0x231481=0xa8*-0x1c+0x3*-0xccd+-0x11d*-0x33;_0x231481<this['_children']['length'];_0x231481++)this['_children'][_0x231481]['_fireOnHie'+'rarchy'](_0x18d1e5,_0x18d1e5,_0x18c953);}['_onInsertC'+'hild'](_0x3e2c33){_0x3e2c33['_parent']=this;const _0x5b33ab=_0x3e2c33['_enabled']&&this['enabled'];_0x3e2c33['_enabledIn'+'Hierarchy']!==_0x5b33ab&&(_0x3e2c33['_enabledIn'+'Hierarchy']=_0x5b33ab,_0x3e2c33['_notifyHie'+'rarchyStat'+'eChanged'](_0x3e2c33,_0x5b33ab)),_0x3e2c33['_updateGra'+'phDepth'](),_0x3e2c33['_dirtifyWo'+'rld'](),this['_frozen']&&_0x3e2c33['_unfreezeP'+'arentToRoo'+'t'](),_0x3e2c33['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x3e2c33);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x1*-0x1807+-0xb*0x97+-0x259*-0xd):0x1e0a+0xb7*-0x1+0x1d53*-0x1;for(let _0x11abc7=-0x63d+0x1*-0x160e+0x1c4b*0x1,_0x270275=this['_children']['length'];_0x11abc7<_0x270275;_0x11abc7++)this['_children'][_0x11abc7]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x2b76db){const _0x11bc04=this['_children']['indexOf'](_0x2b76db);_0x11bc04!==-(-0xf5e+0x1*-0x2207+0x3166)&&(this['_children']['splice'](_0x11bc04,0x1cfe+-0x2008+0x30b),_0x2b76db['_parent']=null,_0x2b76db['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x2b76db));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x1e5a+-0x1*0x2233+0x408e)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x18e1ab;const _0x1dfd55=this['_parent'];let _0x4ca4ce=this['localScale'],_0x370809=_0x1dfd55;if(_0x370809){for(;_0x370809&&_0x370809['scaleCompe'+'nsation'];)_0x370809=_0x370809['_parent'];_0x370809&&(_0x370809=_0x370809['_parent'],_0x370809&&(_0x18e1ab=_0x370809['worldTrans'+'form']['getScale'](),$m['mul2'](_0x18e1ab,this['localScale']),_0x4ca4ce=$m));}Sd['setFromMat'+'4'](_0x1dfd55['worldTrans'+'form']),Wm['mul2'](Sd,this['localRotat'+'ion']);let _0x296822=_0x1dfd55['worldTrans'+'form'];_0x1dfd55['scaleCompe'+'nsation']&&(qm['mul2'](_0x18e1ab,_0x1dfd55['getLocalSc'+'ale']()),Hm['setTRS'](_0x1dfd55['worldTrans'+'form']['getTransla'+'tion'](xd),Sd,qm),_0x296822=Hm),_0x296822['transformP'+'oint'](this['localPosit'+'ion'],xd),this['worldTrans'+'form']['setTRS'](xd,Wm,_0x4ca4ce);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x722+-0x1a27+0x214a);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x265*-0x1+0x1*-0x24a9+-0x1387*-0x2),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0xbe325e=this['_children'];for(let _0xfa66f9=0x1*0x18ea+-0xc6*-0x22+0x5f*-0x8a,_0x5efdb3=_0xbe325e['length'];_0xfa66f9<_0x5efdb3;_0xfa66f9++)_0xbe325e[_0xfa66f9]['syncHierar'+'chy']();}['lookAt'](_0x3e70b3,_0x25c3e7,_0x93f9b6,_0x439648=0x26e4+-0x1092+-0x1652,_0x25f43a=-0x1*-0x23e5+-0x13*-0x14e+-0x6*0xa1d,_0x1676d2=0x93*0x2e+-0x1*0x626+0x1444*-0x1){if(_0x3e70b3 instanceof A)vd['copy'](_0x3e70b3),_0x25c3e7 instanceof A?Il['copy'](_0x25c3e7):Il['copy'](A['UP']);else{if(_0x93f9b6===void(-0x1e*-0x123+-0x3ff*0x1+-0x1e1b))return;vd['set'](_0x3e70b3,_0x25c3e7,_0x93f9b6),Il['set'](_0x439648,_0x25f43a,_0x1676d2);}Xm['setLookAt'](this['getPositio'+'n'](),vd,Il),$t['setFromMat'+'4'](Xm),this['setRotatio'+'n']($t);}['translate'](_0x57dc41,_0x41772b,_0x38d7d2){_0x57dc41 instanceof A?Wt['copy'](_0x57dc41):Wt['set'](_0x57dc41,_0x41772b,_0x38d7d2),Wt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](Wt);}['translateL'+'ocal'](_0x534588,_0x1263fa,_0x587cee){_0x534588 instanceof A?Wt['copy'](_0x534588):Wt['set'](_0x534588,_0x1263fa,_0x587cee),this['localRotat'+'ion']['transformV'+'ector'](Wt,Wt),this['localPosit'+'ion']['add'](Wt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x152de7,_0x241c8b,_0x485c6e){if($t['setFromEul'+'erAngles'](_0x152de7,_0x241c8b,_0x485c6e),this['_parent']===null)this['localRotat'+'ion']['mul2']($t,this['localRotat'+'ion']);else{const _0x140c15=this['getRotatio'+'n'](),_0x15815a=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x15815a)['invert'](),$t['mul2'](Cn,$t),this['localRotat'+'ion']['mul2']($t,_0x140c15);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x188486,_0x946d84,_0x2a5d69){$t['setFromEul'+'erAngles'](_0x188486,_0x946d84,_0x2a5d69),this['localRotat'+'ion']['mul']($t),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const A0=new Ht();function cl(_0x1e7213){const _0x369d81=A0['get'](_0x1e7213);return b['assert'](_0x369d81),_0x369d81;}function iC(_0x2a247d,_0xd06816){b['assert'](_0xd06816),A0['get'](_0x2a247d,()=>_0xd06816);}class rC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x23e259,_0x33a03b)=>{_0x33a03b['destroy']();}),this['cache']['clear']();}['incRef'](_0x5649bf){const _0x41ab34=(this['cache']['get'](_0x5649bf)||0x264b*-0x1+-0x4ab+0x2af6)+(-0x1*-0x10+-0x184f+0x1*0x1840);this['cache']['set'](_0x5649bf,_0x41ab34);}['decRef'](_0x2a6cc3){if(_0x2a6cc3){let _0x287353=this['cache']['get'](_0x2a6cc3);_0x287353&&(_0x287353--,_0x287353===-0x13fb+0x1726+0x1*-0x32b?(this['cache']['delete'](_0x2a6cc3),_0x2a6cc3['destroy']()):this['cache']['set'](_0x2a6cc3,_0x287353));}}}class Ai{static['incRef'](_0xf23151){this['cache']['incRef'](_0xf23151);}static['decRef'](_0x47fbd8){this['cache']['decRef'](_0x47fbd8);}static['destroy'](){this['cache']['destroy']();}}c(Ai,'cache',new rC());let nC=-0x81e+0x4dd*0x7+-0x1*0x19ed;const aC=new ve(),Dl=new ve(),bd=new Bf(),wd=new Set(),xr=new Uint32Array(0x10cb+-0x2*0xbb4+0x6a1);class oC{constructor(_0x1114f5){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(0x2*-0x544+-0x92c+0x3f1*0x5)),this['count']=_0x1114f5;}['destroy'](){var _0x3d7a36;this['_destroyVe'+'rtexBuffer']&&((_0x3d7a36=this['vertexBuff'+'er'])==null||_0x3d7a36['destroy']()),this['vertexBuff'+'er']=null;}}class lC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x57b827){if(!this['bindGroup']){const _0x2b0850=this['shader'];b['assert'](_0x2b0850);const _0x35f64a=_0x2b0850['meshBindGr'+'oupFormat'];b['assert'](_0x35f64a),this['bindGroup']=new xp(_0x57b827,_0x35f64a),gn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x5e78bb){if(!this['uniformBuf'+'fer']){const _0x32e823=this['shader'];b['assert'](_0x32e823);const _0x322c8b=_0x32e823['meshUnifor'+'mBufferFor'+'mat'];b['assert'](_0x322c8b),this['uniformBuf'+'fer']=new vp(_0x5e78bb,_0x322c8b,!(-0x1f*-0x3d+0xda*-0x29+0x1b88));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x24cebc,_0x9e0462;(_0x24cebc=this['bindGroup'])==null||_0x24cebc['destroy'](),this['bindGroup']=null,(_0x9e0462=this['uniformBuf'+'fer'])==null||_0x9e0462['destroy'](),this['uniformBuf'+'fer']=null;}}const Gr=class Gr{constructor(_0x4264b0,_0x170a0b,_0x182126=null){c(this,'castShadow',!(0x2236+0x1*-0x745+-0x1af0)),c(this,'cull',!(0x431*0x9+-0x1*-0xadb+-0xc25*0x4)),c(this,'drawOrder',0xd75*-0x1+0x5*0x43+-0x137*-0xa),c(this,'node'),c(this,'visible',!(0x31*-0x57+-0x1*-0x2458+-0x13b1)),c(this,'visibleThi'+'sFrame',!(-0x935*0x1+0x2*0x109+0x724)),c(this,'flipFacesF'+'actor',0xd*0x2c6+-0xdf3*-0x1+-0x4*0xc80),c(this,'gsplatInst'+'ance',null),c(this,'id',nC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(0x2b*-0xbc+-0xba1+0x2b35)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x25fe+-0x37a*-0x2+0x3*-0xefb)),c(this,'_aabb',new ve()),c(this,'_aabbVer',-(0x2*-0xeb4+-0x3*0x586+-0x1*-0x2dfb)),c(this,'_aabbMeshV'+'er',-(-0x22c2+0x2456+-0x193)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x1*-0x1d57+-0x40f+0x6*0x591)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[-0x1367*-0x1+0x1ee+-0x1555,-0xd*-0x6d+0x1*-0x56e+-0x1b]),c(this,'_layer',d0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(0xcda+0x1785*0x1+-0x1*0x245f)),c(this,'_renderSty'+'le',bo),c(this,'_screenSpa'+'ce',!(0xb*0xd3+0x101a+-0x1*0x192a)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',ms<<-0x1*-0x1647+0x12*0x172+-0x303b),c(this,'_calculate'+'SortDistan'+'ce',null);if(b['assert'](!(_0x4264b0 instanceof Oe),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x182126,this['_mesh']=_0x4264b0,_0x4264b0['incRefCoun'+'t'](),this['material']=_0x170a0b,_0x4264b0['vertexBuff'+'er']){const _0x34a484=_0x4264b0['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x34a484['hasUv0']?_0:-0x2327+0x1594+0x2b7*0x5,this['_shaderDef'+'s']|=_0x34a484['hasUv1']?g0:-0xbf*0x1a+-0x1109+0x246f,this['_shaderDef'+'s']|=_0x34a484['hasColor']?y0:-0x1014+-0x10ed+-0x2101*-0x1,this['_shaderDef'+'s']|=_0x34a484['hasTangent'+'s']?Dp:-0x9c9*0x2+-0xac1+0x1e53;}this['updateKey']();}set['renderStyl'+'e'](_0x1cbd8c){this['_renderSty'+'le']=_0x1cbd8c,this['mesh']['prepareRen'+'derState'](_0x1cbd8c);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x13294d){_0x13294d!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x13294d,_0x13294d&&_0x13294d['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x2e2b9b){this['_aabb']=_0x2e2b9b;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x3cb746=this['_customAab'+'b'],_0xef480d=!!_0x3cb746;if(!_0x3cb746){if(_0x3cb746=aC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x3e2029=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x3e2029);}const _0x331bdd=this['mesh']['boneUsed'];let _0x4c51ae=!(-0x1*-0x1502+0x334+-0x1836);for(let _0x1acfb7=-0x227f+-0x2274+-0x44f3*-0x1;_0x1acfb7<this['mesh']['boneAabb']['length'];_0x1acfb7++)_0x331bdd[_0x1acfb7]&&(Dl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x1acfb7],this['skinInstan'+'ce']['matrices'][_0x1acfb7]),_0x4c51ae?(_0x4c51ae=!(-0x1263+0xb73+0x1*0x6f1),_0x3cb746['center']['copy'](Dl['center']),_0x3cb746['halfExtent'+'s']['copy'](Dl['halfExtent'+'s'])):_0x3cb746['add'](Dl));_0xef480d=!(-0x1*0x446+-0x265e+0x2aa4);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x3cb746['center']['copy'](this['mesh']['aabb']['center']),_0x3cb746['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x3cb746['center']['set'](-0x25f7+0x7*-0x42a+0x431d*0x1,0x11b*-0x15+0x1691+0xa6,-0x1*0x14c0+0x1548+-0x88*0x1),_0x3cb746['halfExtent'+'s']['set'](0x4c1+0x12*-0xc6+0x92b,-0xd*0x2e9+0xed6*0x2+0x829,-0x241d+0x1*-0x7fa+0x1*0x2c17)),this['mesh']&&this['mesh']['morph']){const _0x6b6fa6=this['mesh']['morph']['aabb'];_0x3cb746['_expand'](_0x6b6fa6['getMin'](),_0x6b6fa6['getMax']());}_0xef480d=!(-0x2*0x155+0x7fe+-0x3e*0x16),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0xef480d&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x3cb746,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x20812a=>{_0x20812a['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x4a5e21,_0x47f986,_0x597d65,_0x524316,_0x427877,_0x15e1b4,_0x35920a){var _0x41feaa;const _0x3f7a34=this['_shaderDef'+'s'];xr[0x693*0x2+-0x3*0x1b+-0xcd5]=_0x4a5e21,xr[0xb*0x324+-0xb9c*0x2+-0xb53]=_0x47f986,xr[0x5a*0x18+0x1156+-0x19c4]=_0x3f7a34,xr[-0x649*0x5+0x1d99+0x1d7*0x1]=_0x524316['hash'];const _0x41a721=Qy(xr);let _0x12c0e3=this['_shaderCac'+'he']['get'](_0x41a721);if(!_0x12c0e3){const _0x1a19a6=this['_material'];if(_0x12c0e3=new lC(),_0x12c0e3['shader']=_0x1a19a6['variants']['get'](_0x41a721),_0x12c0e3['hashes']=new Uint32Array(xr),!_0x12c0e3['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x3f9d86=_0x1a19a6['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x597d65,'objDefs':_0x3f7a34,'cameraShaderParams':_0x524316,'pass':_0x4a5e21,'sortedLights':_0x35920a,'viewUniformFormat':_0x427877,'viewBindGroupFormat':_0x15e1b4,'vertexFormat':(_0x41feaa=this['mesh']['vertexBuff'+'er'])==null?void(0x1ce0+-0x3*-0x3d+-0x1d97):_0x41feaa['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0x1a19a6['variants']['set'](_0x41a721,_0x3f9d86),_0x12c0e3['shader']=_0x3f9d86;}this['_shaderCac'+'he']['set'](_0x41a721,_0x12c0e3);}return b['call'](()=>{Wv['equals'](_0x12c0e3['hashes'],xr)||b['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x12c0e3;}set['material'](_0x4724d9){this['clearShade'+'rs']();const _0x32052c=this['_material'];_0x32052c&&_0x32052c['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x4724d9,_0x4724d9&&(_0x4724d9['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x4724d9['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x44691b){this['_layer']=_0x44691b,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x398023){_0x398023!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x398023,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x35d218){this['_calculate'+'SortDistan'+'ce']=_0x35d218;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x562052){this['_receiveSh'+'adow']!==_0x562052&&(this['_receiveSh'+'adow']=_0x562052,this['_updateSha'+'derDefs'](_0x562052?this['_shaderDef'+'s']&-(0x189+0x1*0xdf3+0x2*-0x7bd):this['_shaderDef'+'s']|Rp));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x1ba1f8){this['_updateSha'+'derDefs'](_0x1ba1f8?this['_shaderDef'+'s']|zu:this['_shaderDef'+'s']&-(-0x26ad+-0x1*-0x2fdb+0x1*0x36d3));}get['batching'](){return(this['_shaderDef'+'s']&zu)!==0x2*-0xbbf+-0xf92*-0x2+-0x7a6*0x1;}set['skinInstan'+'ce'](_0x248a59){this['_skinInsta'+'nce']=_0x248a59,this['_updateSha'+'derDefs'](_0x248a59?this['_shaderDef'+'s']|jc:this['_shaderDef'+'s']&-(0x1d46+-0x123*-0x9+-0x277e)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x575430){var _0x3dc1b7;(_0x3dc1b7=this['_morphInst'+'ance'])==null||_0x3dc1b7['destroy'](),this['_morphInst'+'ance']=_0x575430;let _0x3b9115=this['_shaderDef'+'s'];_0x3b9115=_0x575430&&_0x575430['morph']['morphPosit'+'ions']?_0x3b9115|Kc:_0x3b9115&-(-0xdd4+0x8c9*0x1+0x182*0x6),_0x3b9115=_0x575430&&_0x575430['morph']['morphNorma'+'ls']?_0x3b9115|Zc:_0x3b9115&-(0x29*0xd4+-0x21d*0xd+0x186),_0x3b9115=_0x575430&&_0x575430['morph']['intRenderF'+'ormat']?_0x3b9115|Qc:_0x3b9115&-(-0x6e*-0x50+0x101+-0x360),this['_updateSha'+'derDefs'](_0x3b9115);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x3b5d75){this['_screenSpa'+'ce']!==_0x3b5d75&&(this['_screenSpa'+'ce']=_0x3b5d75,this['_updateSha'+'derDefs'](_0x3b5d75?this['_shaderDef'+'s']|Ip:this['_shaderDef'+'s']&-(-0xbff*-0x3+0x1*0x346+-0x2642)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x19554b){this['_key'][Ii]=_0x19554b;}get['key'](){return this['_key'][Ii];}set['mask'](_0xe3e013){const _0x13181d=this['_shaderDef'+'s']&-0xc451+0x15f5e+0x64f2;this['_updateSha'+'derDefs'](_0x13181d|_0xe3e013<<-0x1*-0xa9e+0x296+-0xd24);}get['mask'](){return this['_shaderDef'+'s']>>0xd*0xdd+-0x3b*0xa9+-0x1*-0x1bca;}set['instancing'+'Count'](_0x1d4349){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x1d4349);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x110c+-0x783*0x3+-0x2795*-0x1;}['destroy'](){var _0x38dd29,_0x1f32b1,_0xdc08a4;const _0x4c63d1=this['mesh'];_0x4c63d1&&(this['mesh']=null,_0x4c63d1['refCount']<-0x2334+0x9b3+0x1*0x1982&&_0x4c63d1['destroy']()),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][0x49*0x9+0x1226+-0x14b7],null),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][-0x201+-0x3*0x989+-0x1cd*-0x11],null),(_0x38dd29=this['_skinInsta'+'nce'])==null||_0x38dd29['destroy'](),this['_skinInsta'+'nce']=null,(_0x1f32b1=this['morphInsta'+'nce'])==null||_0x1f32b1['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0xdc08a4=this['instancing'+'Data'])==null||_0xdc08a4['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x7e6857,_0x424e8c){if(_0x7e6857){for(let _0x415d11=-0x287*-0xe+0x20e0+-0x4442;_0x415d11<_0x7e6857['length'];_0x415d11++){_0x7e6857[_0x415d11]['_renderSty'+'le']=_0x424e8c;const _0xf18de7=_0x7e6857[_0x415d11]['mesh'];wd['has'](_0xf18de7)||(wd['add'](_0xf18de7),_0xf18de7['prepareRen'+'derState'](_0x424e8c));}wd['clear']();}}['_isVisible'](_0x3a8631){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x3a8631):(bd['center']=this['aabb']['center'],bd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x3a8631['frustum']['containsSp'+'here'](bd)>0x26f*0x3+0x3*0x3c4+-0x1299):!(0x94e+-0x4*0x7a5+0x1a3*0xd);}['updateKey'](){const _0x4ddaf5=this['material'],_0x5ae36a=_0x4ddaf5['alphaToCov'+'erage']||_0x4ddaf5['alphaTest']?Gt:_0x4ddaf5['blendType'];this['_key'][Ii]=(this['layer']&0xa1f*-0x1+-0x1d92+0x27c0)<<0x895*0x4+-0x406+0x1e33*-0x1|(_0x5ae36a===hs?-0x2*0x5a5+0x4ce+-0x1*-0x67d:-0x26c3+0x9f*0x3+-0x1*-0x24e6)<<0x142d+0x2160*-0x1+0xd4d|(_0x4ddaf5['id']&-0x60ef8+-0x3fcc3cb+0x602d2c2)<<-0x2540*-0x1+0x2*-0x47c+-0x16a*0x14;}['setInstanc'+'ing'](_0x41298b,_0x2d0b57=!(0x3*0xa36+-0x13*0x1db+-0x4a0*-0x1)){_0x41298b?(this['instancing'+'Data']=new oC(_0x41298b['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x41298b,_0x41298b['format']['instancing']=!(-0x83*0x27+-0x7d1+0x1bc6),this['cull']=_0x2d0b57):(this['instancing'+'Data']=null,this['cull']=!(-0xfd3*0x2+-0x1c0b+-0x3b*-0x103)),this['_updateSha'+'derDefs'](_0x41298b?this['_shaderDef'+'s']|Yc:this['_shaderDef'+'s']&-(-0x232b+-0x26ee+0x4a3a));}['ensureMate'+'rial'](_0x218e5c){this['material']||(b['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=cl(_0x218e5c));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x54ead3){return this['parameters'][_0x54ead3];}['setParamet'+'er'](_0x1f99ff,_0x184a77,_0x12ff75=0x1*-0xd9ed20bf+-0x3*0x5f7dc39d+0x2f8666b95){const _0x65502c=this['parameters'][_0x1f99ff];_0x65502c?(_0x65502c['data']=_0x184a77,_0x65502c['passFlags']=_0x12ff75):this['parameters'][_0x1f99ff]={'scopeId':null,'data':_0x184a77,'passFlags':_0x12ff75};}['setRealtim'+'eLightmap'](_0x24015e,_0x251f3f){const _0x307ceb=this['getParamet'+'er'](_0x24015e);_0x307ceb!==_0x251f3f&&(_0x307ceb&&Ai['decRef'](_0x307ceb['data']),_0x251f3f?(Ai['incRef'](_0x251f3f),this['setParamet'+'er'](_0x24015e,_0x251f3f)):this['deletePara'+'meter'](_0x24015e));}['deletePara'+'meter'](_0x43b08e){this['parameters'][_0x43b08e]&&delete this['parameters'][_0x43b08e];}['setParamet'+'ers'](_0x11b56d,_0x1280ed){const _0x3e4a3b=this['parameters'];for(const _0x46b59f in _0x3e4a3b){const _0x1103d6=_0x3e4a3b[_0x46b59f];_0x1103d6['passFlags']&_0x1280ed&&(_0x1103d6['scopeId']||(_0x1103d6['scopeId']=_0x11b56d['scope']['resolve'](_0x46b59f)),_0x1103d6['scopeId']['setValue'](_0x1103d6['data']));}}['setLightma'+'pped'](_0x41aec4){_0x41aec4?this['mask']=(this['mask']|dr)&-(-0xd*-0xf4+0xf91+-0x1*0x1bef):(this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][-0xda*-0xc+-0x18e5+0xead],null),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][0x13ea+0xf1c+-0x5*0x701],null),this['_shaderDef'+'s']&=-(-0x771*-0x4+-0xd*0x4f+0x900*-0x1),this['mask']=(this['mask']|ms)&-(0xb87+-0x1b3c+0xd4*0x13));}['setCustomA'+'abb'](_0x1e5426){_0x1e5426?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x1e5426):this['_customAab'+'b']=_0x1e5426['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(-0x747+-0x735+-0x1*-0xe7d)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Gr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Be=Gr;const hC=[-0x1*-0x14d6+0x2f3*-0x1+-0x11e3,-0x102b+0x27a+0xdb2,-0x26c1+0x10a8+0x161c,-0x2228+0x5fe+0x259*0xc,0x432*-0x4+0x715+0x1*0x9b6,0x302*0x1+0x7ae*0x1+-0xaaf],cC=[0x1*-0x45d+0x5f*-0x4+0x5d9,-0x31*0xd+-0xa9c+0xd1a,-0x1*0x25af+0x267c+0x1*-0xca,-0x20bc+-0x39a+-0x2*-0x122b,0xd70+0x243f+-0x31ac,-0x1*0x1b82+-0x6e*-0x2+0x1aa8],Ym=new Js();function Km(_0x5d674e,_0x40c776){if(_0x5d674e&&!_0x40c776||!_0x5d674e&&_0x40c776)return!(-0x6ab*-0x5+0x53*-0xd+0x9b5*-0x3);if(_0x5d674e=_0x5d674e['data'],_0x40c776=_0x40c776['data'],_0x5d674e===_0x40c776)return!(-0x10e6+0xf73+0x1*0x173);if(_0x5d674e instanceof Float32Array&&_0x40c776 instanceof Float32Array){if(_0x5d674e['length']!==_0x40c776['length'])return!(-0x1*0xb7b+-0x1fa5*0x1+-0xb5*-0x3d);for(let _0x2ca884=-0x3aa+-0x31d*0x7+0x31*0x85;_0x2ca884<_0x5d674e['length'];_0x2ca884++)if(_0x5d674e[_0x2ca884]!==_0x40c776[_0x2ca884])return!(-0x1956+-0x1076+0x3*0xdef);return!(0x37*0x62+-0x18c5*-0x1+-0x2dd3);}return!(-0x24e*0x6+0x1755+-0x980);}function dC(_0x114a7f,_0x4a0d3d){for(const _0x4746bf in _0x114a7f)if(_0x114a7f['hasOwnProp'+'erty'](_0x4746bf)&&!Km(_0x114a7f[_0x4746bf],_0x4a0d3d[_0x4746bf]))return!(-0xa23+-0xb23*-0x3+-0x7*0x353);for(const _0x57787b in _0x4a0d3d)if(_0x4a0d3d['hasOwnProp'+'erty'](_0x57787b)&&!Km(_0x4a0d3d[_0x57787b],_0x114a7f[_0x57787b]))return!(-0xfe1+-0x4*0x647+-0x147f*-0x2);return!(0xb4e*0x1+0x1575+-0x20c3);}function Td(_0x4f870d){return _0x4f870d['node']['worldTrans'+'form']['scaleSign'];}class uC{constructor(_0x5f410e,_0x28a29d,_0x4bfc5a){this['device']=_0x5f410e,this['rootNode']=_0x28a29d,this['scene']=_0x4bfc5a,this['_init']=!(-0x49e+-0x260a+0x2aa9),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x10d4+0x1e20*0x1+-0x2ef4,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x3ab0d0,_0x34a690,_0x395036,_0x47601c,_0xe2b32f){if(_0x47601c===void(-0x7*0xfb+0x8*0x10a+-0x1*0x173)&&(_0x47601c=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x47601c]){b['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x47601c+('\x20already\x20e'+'xists.'));return;}const _0x376964=new rt(_0x47601c,_0x3ab0d0,_0x34a690,_0x395036,_0xe2b32f);return this['_batchGrou'+'ps'][_0x47601c]=_0x376964,_0x376964;}['removeGrou'+'p'](_0x1883d3){if(!this['_batchGrou'+'ps'][_0x1883d3]){b['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x1883d3+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x18b0a3=[];for(let _0x15cd82=-0xd0f*0x1+0x65d+0x1*0x6b2;_0x15cd82<this['_batchList']['length'];_0x15cd82++)this['_batchList'][_0x15cd82]['batchGroup'+'Id']===_0x1883d3?this['destroyBat'+'ch'](this['_batchList'][_0x15cd82]):_0x18b0a3['push'](this['_batchList'][_0x15cd82]);this['_batchList']=_0x18b0a3,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x1883d3),delete this['_batchGrou'+'ps'][_0x1883d3];}['markGroupD'+'irty'](_0x421281){this['_dirtyGrou'+'ps']['indexOf'](_0x421281)<0x1f17+0x43*0x6b+-0x3b18&&this['_dirtyGrou'+'ps']['push'](_0x421281);}['getGroupBy'+'Name'](_0x426743){const _0x784931=this['_batchGrou'+'ps'];for(const _0x5f3959 in _0x784931)if(_0x784931['hasOwnProp'+'erty'](_0x5f3959)&&_0x784931[_0x5f3959]['name']===_0x426743)return _0x784931[_0x5f3959];return null;}['getBatches'](_0x51ad81){const _0x574e7f=[],_0x19097a=this['_batchList']['length'];for(let _0x2a7fab=-0x2d1*-0xb+-0x5d*-0x63+-0x42f2;_0x2a7fab<_0x19097a;_0x2a7fab++){const _0x5ab74d=this['_batchList'][_0x2a7fab];_0x5ab74d['batchGroup'+'Id']===_0x51ad81&&_0x574e7f['push'](_0x5ab74d);}return _0x574e7f;}['_removeMod'+'elsFromBat'+'chGroup'](_0x15ae75,_0x30f75d){if(_0x15ae75['enabled']){_0x15ae75['model']&&_0x15ae75['model']['batchGroup'+'Id']===_0x30f75d&&(_0x15ae75['model']['batchGroup'+'Id']=-(-0x792+0x1ef3+-0x1760)),_0x15ae75['render']&&_0x15ae75['render']['batchGroup'+'Id']===_0x30f75d&&(_0x15ae75['render']['batchGroup'+'Id']=-(-0x2372+0x14*-0x156+-0xc6f*-0x5)),_0x15ae75['element']&&_0x15ae75['element']['batchGroup'+'Id']===_0x30f75d&&(_0x15ae75['element']['batchGroup'+'Id']=-(-0x182a+-0x253b+0x3d66)),_0x15ae75['sprite']&&_0x15ae75['sprite']['batchGroup'+'Id']===_0x30f75d&&(_0x15ae75['sprite']['batchGroup'+'Id']=-(-0x191b*0x1+-0xb8b+-0x24a7*-0x1));for(let _0x3e9a2b=0xb5*0x37+-0x275*0x3+-0xfc2*0x2;_0x3e9a2b<_0x15ae75['_children']['length'];_0x3e9a2b++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x15ae75['_children'][_0x3e9a2b],_0x30f75d);}}['insert'](_0x10fdc6,_0xbfe150,_0x5dabe8){const _0x4495c6=this['_batchGrou'+'ps'][_0xbfe150];b['assert'](_0x4495c6,'Invalid\x20ba'+'tch\x20'+_0xbfe150+'\x20insertion'),_0x4495c6&&_0x4495c6['_obj'][_0x10fdc6]['indexOf'](_0x5dabe8)<-0xbd*-0x15+0x5*0x66e+0x1*-0x2fa7&&(_0x4495c6['_obj'][_0x10fdc6]['push'](_0x5dabe8),this['markGroupD'+'irty'](_0xbfe150));}['remove'](_0xf08753,_0x115773,_0x65cc19){const _0x50500c=this['_batchGrou'+'ps'][_0x115773];if(b['assert'](_0x50500c,'Invalid\x20ba'+'tch\x20'+_0x115773+'\x20insertion'),_0x50500c){const _0xfffcd6=_0x50500c['_obj'][_0xf08753]['indexOf'](_0x65cc19);_0xfffcd6>=-0x232f+-0x2d*-0x49+-0x1*-0x165a&&(_0x50500c['_obj'][_0xf08753]['splice'](_0xfffcd6,0x4*0x12a+-0x7b1*-0x1+-0xc58),this['markGroupD'+'irty'](_0x115773));}}['_extractRe'+'nder'](_0x505b63,_0x406ad3,_0x5f50ff,_0x2ac8ac){return _0x505b63['render']&&(_0x406ad3=_0x2ac8ac[_0x505b63['render']['batchGroup'+'Id']]=_0x406ad3['concat'](_0x505b63['render']['meshInstan'+'ces']),_0x505b63['render']['removeFrom'+'Layers']()),_0x406ad3;}['_extractMo'+'del'](_0xdaa058,_0x3248d6,_0x1708b8,_0x208582){return _0xdaa058['model']&&_0xdaa058['model']['model']&&(_0x3248d6=_0x208582[_0xdaa058['model']['batchGroup'+'Id']]=_0x3248d6['concat'](_0xdaa058['model']['meshInstan'+'ces']),_0xdaa058['model']['removeMode'+'lFromLayer'+'s'](),_0xdaa058['model']['_batchGrou'+'p']=_0x1708b8),_0x3248d6;}['_extractEl'+'ement'](_0x4120bd,_0x3df5bd,_0x18c233){if(!_0x4120bd['element'])return;let _0x25ce51=!(-0x9b2+-0x4*0x107+-0x7*-0x1f9);_0x4120bd['element']['_text']&&_0x4120bd['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x804+0xb31+-0x32d?(_0x3df5bd['push'](_0x4120bd['element']['_text']['_model']['meshInstan'+'ces'][0x1795*-0x1+0x17ef+-0x1e*0x3]),_0x4120bd['element']['removeMode'+'lFromLayer'+'s'](_0x4120bd['element']['_text']['_model']),_0x25ce51=!(-0xf6d+-0x4cc*-0x4+-0x3c3)):_0x4120bd['element']['_image']&&(_0x3df5bd['push'](_0x4120bd['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x4120bd['element']['removeMode'+'lFromLayer'+'s'](_0x4120bd['element']['_image']['_renderabl'+'e']['model']),_0x4120bd['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x3df5bd['push'](_0x4120bd['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x4120bd['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x4120bd['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x4120bd['element']['_dirtifyMa'+'sk'](),_0x4120bd['element']['_onPrerend'+'er']())),_0x25ce51=!(-0x2425+-0xde9+0x320e)),_0x25ce51&&(_0x18c233['_ui']=!(0x1773+0x2468+0x1*-0x3bdb),_0x4120bd['element']['_batchGrou'+'p']=_0x18c233);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x5c2585,_0x4203b4){for(let _0x4ad8d0=0xd50+-0x21e8*-0x1+-0xbce*0x4;_0x4ad8d0<_0x4203b4['length'];_0x4ad8d0++){const _0x506a05=_0x4203b4[_0x4ad8d0],_0x5de45e=this['_batchGrou'+'ps'][_0x506a05];if(!_0x5de45e)continue;let _0x16013d=_0x5c2585[_0x506a05];_0x16013d||(_0x16013d=_0x5c2585[_0x506a05]=[]);for(let _0x2c1c4d=0x7de*-0x2+0x14fb+0x1*-0x53f;_0x2c1c4d<_0x5de45e['_obj']['model']['length'];_0x2c1c4d++)_0x16013d=this['_extractMo'+'del'](_0x5de45e['_obj']['model'][_0x2c1c4d],_0x16013d,_0x5de45e,_0x5c2585);for(let _0x2fe127=0x83*0x47+-0x53*0x77+0x240;_0x2fe127<_0x5de45e['_obj']['render']['length'];_0x2fe127++)_0x16013d=this['_extractRe'+'nder'](_0x5de45e['_obj']['render'][_0x2fe127],_0x16013d,_0x5de45e,_0x5c2585);for(let _0x32ad3f=-0x1d23*-0x1+0xb0d*0x3+-0x3e4a;_0x32ad3f<_0x5de45e['_obj']['element']['length'];_0x32ad3f++)this['_extractEl'+'ement'](_0x5de45e['_obj']['element'][_0x32ad3f],_0x16013d,_0x5de45e);for(let _0x5958a3=0x2372*-0x1+0xcd0+-0x2*-0xb51;_0x5958a3<_0x5de45e['_obj']['sprite']['length'];_0x5958a3++){const _0x5be565=_0x5de45e['_obj']['sprite'][_0x5958a3];_0x5be565['sprite']&&_0x5be565['sprite']['_meshInsta'+'nce']&&(_0x5de45e['dynamic']||_0x5be565['sprite']['sprite']['_renderMod'+'e']===Pi)&&(_0x16013d['push'](_0x5be565['sprite']['_meshInsta'+'nce']),_0x5be565['sprite']['removeMode'+'lFromLayer'+'s'](),_0x5de45e['_sprite']=!(0x384+-0x162b+-0x5*-0x3bb),_0x5be565['sprite']['_batchGrou'+'p']=_0x5de45e);}}}['generate'](_0x11941e){const _0x36b1f1={};_0x11941e||(_0x11941e=Object['keys'](this['_batchGrou'+'ps']));const _0x452273=[];for(let _0x519f6e=-0x23e9+0x1*-0xe35+0x190f*0x2;_0x519f6e<this['_batchList']['length'];_0x519f6e++){if(_0x11941e['indexOf'](this['_batchList'][_0x519f6e]['batchGroup'+'Id'])<-0x1bbf+0x1f9c+-0x3dd*0x1){_0x452273['push'](this['_batchList'][_0x519f6e]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x519f6e]);}if(this['_batchList']=_0x452273,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x36b1f1,_0x11941e),_0x11941e===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x1*-0x2496+0x964*0x1+-0x2dfa;else{const _0x1b75d6=[];for(let _0x33041d=-0x1*0x622+0xaae+-0x48c;_0x33041d<this['_dirtyGrou'+'ps']['length'];_0x33041d++)_0x11941e['indexOf'](this['_dirtyGrou'+'ps'][_0x33041d])<0x1bca+0xef5+-0x161*0x1f&&_0x1b75d6['push'](this['_dirtyGrou'+'ps'][_0x33041d]);this['_dirtyGrou'+'ps']=_0x1b75d6;}let _0x2ed16e,_0x1f8755,_0x53c8a6,_0x2616c1;for(const _0x46e5ed in _0x36b1f1)if(_0x36b1f1['hasOwnProp'+'erty'](_0x46e5ed)){if(_0x2ed16e=_0x36b1f1[_0x46e5ed],_0x53c8a6=this['_batchGrou'+'ps'][_0x46e5ed],!_0x53c8a6){b['error']('batch\x20grou'+'p\x20'+_0x46e5ed+'\x20not\x20found');continue;}_0x1f8755=this['prepare'](_0x2ed16e,_0x53c8a6['dynamic'],_0x53c8a6['maxAabbSiz'+'e'],_0x53c8a6['_ui']||_0x53c8a6['_sprite']);for(let _0x260971=-0x30a*-0x3+-0x16a2+0xd84;_0x260971<_0x1f8755['length'];_0x260971++)_0x2616c1=this['create'](_0x1f8755[_0x260971],_0x53c8a6['dynamic'],parseInt(_0x46e5ed,-0xbaf*0x1+-0x904+0x14bd)),_0x2616c1&&_0x2616c1['addToLayer'+'s'](this['scene'],_0x53c8a6['layers']);}}['prepare'](_0x48de4d,_0x50876b,_0x5cf01c=Number['POSITIVE_I'+'NFINITY'],_0x54f472){if(_0x48de4d['length']===0x1570+0xa6f*-0x1+-0xb01)return[];const _0xc4941e=_0x5cf01c*(-0x517*0x6+-0xac+0x1f36+0.5),_0xf86221=-0x2444+0x2192+0x6b2*0x1,_0x1309cd=-0x16cb01c5b+0x1abb0d527+0x1*0xc0ff4733,_0x109fec=new ve(),_0x4751c8=new ve();let _0x1cb704=null,_0x5da8c1;const _0x29b460=[];let _0x241192=0x254*0xd+-0xf7f*-0x1+-0x2dc3;_0x54f472&&_0x48de4d['sort']((_0x4661d5,_0x3e6008)=>_0x4661d5['drawOrder']-_0x3e6008['drawOrder']);let _0x21fbdd=_0x48de4d,_0x3e8b4f;const _0x2f774b=_0x54f472?function(_0xc48f29){_0x1cb704?_0x1cb704['add'](_0xc48f29['aabb']):_0x1cb704=_0xc48f29['aabb']['clone'](),_0x3e8b4f['push'](_0xc48f29);}:function(_0x293689){_0x3e8b4f['push'](_0x293689);};for(;_0x21fbdd['length']>0xbe*-0x1f+-0x142*-0x4+0xd*0x162;){_0x29b460[_0x241192]=[_0x21fbdd[-0x135c+0x1caf+-0x1*0x953]],_0x3e8b4f=[];const _0x5b5351=_0x21fbdd[-0x8db*0x1+0x533*0x2+0x5*-0x4f]['material'],_0x3db108=_0x21fbdd[0x1*0x5fb+-0x2*0xfcd+0x199f]['layer'],_0x5419ed=_0x21fbdd[-0x240b*0x1+0x4*0x374+0x769*0x3]['_shaderDef'+'s'],_0x56b550=_0x21fbdd[0x4*0x84b+-0x1612+-0xb1a]['parameters'],_0x89db22=_0x21fbdd[-0x7c1+0x2122+-0x1961]['stencilFro'+'nt'];let _0x56aa78=_0x21fbdd[-0x6a*0x35+-0x1421+0x2a13]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x42ee8d=_0x21fbdd[-0x25c9+0x1e37+0x66*0x13]['drawOrder'];_0x109fec['copy'](_0x21fbdd[-0x1*0x1bbf+0x2a*-0x44+-0x26e7*-0x1]['aabb']);const _0x38ec42=Td(_0x21fbdd[0x4f*0x59+0x161*-0x1a+0x863]),_0x47fb9f=_0x21fbdd[-0x20a9+0x433*0x9+-0xdb*0x6]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3fa85a=_0x21fbdd[0x6*-0x205+0x1*-0x244d+-0x14f*-0x25]['mesh']['primitive'][-0x1a76+-0x18c0+-0x8a*-0x5f]['indexed'];_0x1cb704=null;for(let _0x39d087=0x1f9c+-0x1753+-0x848;_0x39d087<_0x21fbdd['length'];_0x39d087++){const _0x4dfc60=_0x21fbdd[_0x39d087];if(_0x50876b&&_0x29b460[_0x241192]['length']>=_0xf86221){_0x3e8b4f=_0x3e8b4f['concat'](_0x21fbdd['slice'](_0x39d087));break;}if(_0x5b5351!==_0x4dfc60['material']||_0x3db108!==_0x4dfc60['layer']||_0x47fb9f!==_0x4dfc60['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3fa85a!==_0x4dfc60['mesh']['primitive'][0x3*0xbcb+-0x2167+-0x1fa]['indexed']||_0x5419ed!==_0x4dfc60['_shaderDef'+'s']||_0x56aa78+_0x4dfc60['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x1309cd){_0x2f774b(_0x4dfc60);continue;}if(_0x4751c8['copy'](_0x109fec),_0x4751c8['add'](_0x4dfc60['aabb']),_0x4751c8['halfExtent'+'s']['x']>_0xc4941e||_0x4751c8['halfExtent'+'s']['y']>_0xc4941e||_0x4751c8['halfExtent'+'s']['z']>_0xc4941e){_0x2f774b(_0x4dfc60);continue;}if(_0x89db22&&(!(_0x5da8c1=_0x4dfc60['stencilFro'+'nt'])||_0x89db22['func']!==_0x5da8c1['func']||_0x89db22['zpass']!==_0x5da8c1['zpass'])){_0x2f774b(_0x4dfc60);continue;}if(_0x38ec42!==Td(_0x4dfc60)){_0x2f774b(_0x4dfc60);continue;}if(!dC(_0x56b550,_0x4dfc60['parameters'])){_0x2f774b(_0x4dfc60);continue;}if(_0x54f472&&_0x1cb704&&_0x1cb704['intersects'](_0x4dfc60['aabb'])&&_0x4dfc60['drawOrder']!==_0x42ee8d){_0x2f774b(_0x4dfc60);continue;}_0x109fec['add'](_0x4dfc60['aabb']),_0x56aa78+=_0x4dfc60['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x29b460[_0x241192]['push'](_0x4dfc60);}_0x241192++,_0x21fbdd=_0x3e8b4f;}return _0x29b460;}['collectBat'+'chedMeshDa'+'ta'](_0x5cc13b,_0x4b652d){let _0xf5026f=null,_0x46098e=0x953*-0x1+-0x69e+0xff1,_0x1b1e48=-0x61+-0x43c*0x7+0x1e05,_0x41f001=null;for(let _0x3f9d82=0x1adf+-0x1772*0x1+-0x36d;_0x3f9d82<_0x5cc13b['length'];_0x3f9d82++)if(_0x5cc13b[_0x3f9d82]['visible']){const _0x52a456=_0x5cc13b[_0x3f9d82]['mesh'],_0x25364d=_0x52a456['vertexBuff'+'er']['numVertice'+'s'];if(_0x46098e+=_0x25364d,_0x52a456['primitive'][0x2190+-0x1d1d+-0x473*0x1]['indexed'])_0x1b1e48+=_0x52a456['primitive'][0xbaa*0x1+0x138*0x2+0x2*-0x70d]['count'];else{const _0xacfad5=_0x52a456['primitive'][-0x21a0+0x616*-0x6+-0x86*-0x86]['type'];(_0xacfad5===Kr||_0xacfad5===lr)&&_0x52a456['primitive'][0x137e+0x1d*0x19+0x5*-0x477]['count']===-0x25c9+0x8f9*-0x4+0x49b1&&(_0x1b1e48+=0x1b*-0xdb+0x107*0x5+0x11fc*0x1);}if(!_0xf5026f){_0x41f001=_0x5cc13b[_0x3f9d82]['material'],_0xf5026f={};const _0x1a71ab=_0x52a456['vertexBuff'+'er']['format']['elements'];for(let _0x218378=0xd*0x61+0x1*-0x819+-0x32c*-0x1;_0x218378<_0x1a71ab['length'];_0x218378++){const _0x1ec852=_0x1a71ab[_0x218378]['name'];_0xf5026f[_0x1ec852]={'numComponents':_0x1a71ab[_0x218378]['numCompone'+'nts'],'dataType':_0x1a71ab[_0x218378]['dataType'],'normalize':_0x1a71ab[_0x218378]['normalize'],'count':0x0};}_0x4b652d&&(_0xf5026f[Jt]={'numComponents':0x1,'dataType':Re,'normalize':!(-0x236c*-0x1+0x20f0+-0x445b),'count':0x0});}}return{'streams':_0xf5026f,'batchNumVerts':_0x46098e,'batchNumIndices':_0x1b1e48,'material':_0x41f001};}['create'](_0x16c37c,_0x4a5177,_0xdfc407){const _0x23b401=ae();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x1*-0x231b+-0x1bae+-0x76d));let _0x72433e=null,_0x5f237f,_0x5f0a20,_0x418e6a,_0x362a87=null;const _0x1e16b8=this['collectBat'+'chedMeshDa'+'ta'](_0x16c37c,_0x4a5177);if(_0x1e16b8['streams']){const _0x44be51=_0x1e16b8['streams'];let _0x46db96=_0x1e16b8['material'];const _0x3a41ea=_0x1e16b8['batchNumVe'+'rts'],_0xe2d562=_0x1e16b8['batchNumIn'+'dices'];_0x362a87=new Um(_0x16c37c,_0x4a5177,_0xdfc407),this['_batchList']['push'](_0x362a87);let _0x9b74ed,_0x18c918,_0x397435,_0x1d259d=0x1*-0x180d+-0x4*-0x65c+0x47*-0x5,_0x577301=-0x1ca3+0x71*-0x10+0x1*0x23b3,_0x1d88e3;const _0x35e0b1=_0x3a41ea<=0x243d*-0x4+-0x5d8b+-0x2*-0xf73f?Uint16Array:Uint32Array,_0x90b419=new _0x35e0b1(_0xe2d562);for(_0x5f237f in _0x44be51)_0x72433e=_0x44be51[_0x5f237f],_0x72433e['typeArrayT'+'ype']=fa[_0x72433e['dataType']],_0x72433e['elementByt'+'eSize']=So[_0x72433e['dataType']],_0x72433e['buffer']=new _0x72433e['typeArrayT'+'ype'](_0x3a41ea*_0x72433e['numCompone'+'nts']);for(let _0x416709=0x116f+-0x59*-0x68+-0x3*0x11dd;_0x416709<_0x16c37c['length'];_0x416709++)if(_0x16c37c[_0x416709]['visible']){_0x5f0a20=_0x16c37c[_0x416709]['mesh'],_0x418e6a=_0x5f0a20['vertexBuff'+'er']['numVertice'+'s'],_0x4a5177||(_0x1d88e3=_0x16c37c[_0x416709]['node']['getWorldTr'+'ansform']());for(_0x5f237f in _0x44be51)if(_0x5f237f!==Jt){_0x72433e=_0x44be51[_0x5f237f];const _0x412a4b=new _0x72433e['typeArrayT'+'ype'](_0x72433e['buffer']['buffer'],_0x72433e['elementByt'+'eSize']*_0x72433e['count']),_0x275d54=_0x5f0a20['getVertexS'+'tream'](_0x5f237f,_0x412a4b)*_0x72433e['numCompone'+'nts'];if(_0x72433e['count']+=_0x275d54,!_0x4a5177&&_0x72433e['numCompone'+'nts']>=0xaf2+0xc05+0x1c4*-0xd){if(_0x5f237f===Xe){const _0x46242d=_0x1d88e3['data'],_0xc43096=_0x46242d[-0x8ac+-0x1*0x2207+0x2ab3*0x1],_0x18cb45=_0x46242d[0x24a3+0x1651+-0x3af3],_0x16640e=_0x46242d[-0xdf3+0xe55*-0x2+0x2a9f],_0x2a763a=_0x46242d[-0x1fd*-0xf+-0x7*-0x57d+-0x221d*0x2],_0x57163b=_0x46242d[0x128a+0x1*0xe0e+-0x2093],_0x404c4e=_0x46242d[0x314*-0x6+-0x4*0x991+0x1*0x38c2],_0x1aaf3a=_0x46242d[-0x347*0x2+-0x2619+-0x3*-0xee5],_0x45d1e9=_0x46242d[0x3*-0x9f+0x1*0x13f2+-0x1c*0xa5],_0xeaa7a0=_0x46242d[0x192e*0x1+-0x755+-0x11cf],_0xcdb1df=_0x46242d[-0x6e6+-0x1332+0x1a24],_0x216e0c=_0x46242d[0xe*-0x37+-0x397*-0x4+0xb4d*-0x1],_0x1e0488=_0x46242d[0x83*-0x4a+0x15b3+0x1039];let _0x57df8c,_0x25eb1c,_0x284de5;for(let _0x6e9748=0x1*0x2de+-0x11*-0x3d+-0xfd*0x7;_0x6e9748<_0x275d54;_0x6e9748+=_0x72433e['numCompone'+'nts'])_0x57df8c=_0x412a4b[_0x6e9748],_0x25eb1c=_0x412a4b[_0x6e9748+(-0xa88+0x199a+-0xf11)],_0x284de5=_0x412a4b[_0x6e9748+(-0x2310+-0x171b+0x3a2d*0x1)],_0x412a4b[_0x6e9748]=_0x57df8c*_0xc43096+_0x25eb1c*_0x2a763a+_0x284de5*_0x1aaf3a+_0xcdb1df,_0x412a4b[_0x6e9748+(-0xc1*0x20+0x12c2+0x55f)]=_0x57df8c*_0x18cb45+_0x25eb1c*_0x57163b+_0x284de5*_0x45d1e9+_0x216e0c,_0x412a4b[_0x6e9748+(-0x5de+-0xcb+0x6ab)]=_0x57df8c*_0x16640e+_0x25eb1c*_0x404c4e+_0x284de5*_0xeaa7a0+_0x1e0488;}else{if(_0x5f237f===ss||_0x5f237f===si){Ym['invertMat4'](_0x1d88e3)['transpose']();const [_0x220542,_0x4e3e26,_0x48d674,_0x493374,_0x51aa97,_0x4c26a7,_0x233fe5,_0x11f3b8,_0x482d50]=Ym['data'];let _0x3fa534,_0x4d4a51,_0x48168a;for(let _0x393871=0x385+0x264c+-0x29d1;_0x393871<_0x275d54;_0x393871+=_0x72433e['numCompone'+'nts'])_0x3fa534=_0x412a4b[_0x393871],_0x4d4a51=_0x412a4b[_0x393871+(0x1f41+-0x2505+0x5c5)],_0x48168a=_0x412a4b[_0x393871+(0x2671+0x1*0x164d+-0x34*0x12b)],_0x412a4b[_0x393871]=_0x3fa534*_0x220542+_0x4d4a51*_0x493374+_0x48168a*_0x233fe5,_0x412a4b[_0x393871+(-0x7d2+-0x25be+0x1*0x2d91)]=_0x3fa534*_0x4e3e26+_0x4d4a51*_0x51aa97+_0x48168a*_0x11f3b8,_0x412a4b[_0x393871+(-0x28f*0x3+0x7f2+-0x1*0x43)]=_0x3fa534*_0x48d674+_0x4d4a51*_0x4c26a7+_0x48168a*_0x482d50;}}}}if(_0x4a5177){_0x72433e=_0x44be51[Jt];for(let _0x231bff=0x169*0xa+0x1*0x9b3+-0x1*0x17cd;_0x231bff<_0x418e6a;_0x231bff++)_0x72433e['buffer'][_0x72433e['count']++]=_0x416709;}if(_0x5f0a20['primitive'][0x8d5+0x5b2+-0xe87*0x1]['indexed']){_0x9b74ed=_0x5f0a20['primitive'][-0x6d*-0x53+0x109c*-0x2+-0x21f]['base'],_0x18c918=_0x5f0a20['primitive'][0x1*-0x794+0x1a3+-0xd*-0x75]['count'];const _0x4061c4=_0x5f0a20['indexBuffe'+'r'][-0x1c6+0x1e49+-0x981*0x3]['getFormat']();_0x397435=new Nh[_0x4061c4](_0x5f0a20['indexBuffe'+'r'][-0xc02+-0xc74*0x3+0x315e]['storage']);}else{const _0x588640=_0x5f0a20['primitive'][0x109f+0x1*-0x35f+-0x10*0xd4]['type'];if(_0x588640===Kr||_0x588640===lr){if(_0x5f0a20['primitive'][-0x13d3+-0xf8+0x14cb]['count']===-0xd79+0x22fb+0x2*-0xabf)_0x9b74ed=-0x9f7+0x7c1*0x2+-0x3*0x1d9,_0x18c918=0x6ae+0x1a47+-0x20ef,_0x397435=_0x588640===Kr?hC:cC;else{_0x18c918=0x47e+0x1c4a+-0x2*0x1064;continue;}}}for(let _0x150978=-0x4ff*-0x4+-0x1*0xce1+-0x71b;_0x150978<_0x18c918;_0x150978++)_0x90b419[_0x150978+_0x577301]=_0x397435[_0x9b74ed+_0x150978]+_0x1d259d;_0x577301+=_0x18c918,_0x1d259d+=_0x418e6a;}_0x5f0a20=new ke(this['device']);for(_0x5f237f in _0x44be51)_0x72433e=_0x44be51[_0x5f237f],_0x5f0a20['setVertexS'+'tream'](_0x5f237f,_0x72433e['buffer'],_0x72433e['numCompone'+'nts'],void(0x1731+-0x1*-0x1ebf+-0x35f0),_0x72433e['dataType'],_0x72433e['normalize']);_0x90b419['length']>0x4a*-0x2e+-0xc5*-0x29+-0x1*0x1241&&_0x5f0a20['setIndices'](_0x90b419),_0x5f0a20['update'](Fs,!(-0x1d4b+0x1*-0x1223+0x2f6f)),_0x4a5177&&(_0x46db96=_0x46db96['clone'](),_0x46db96['update']());const _0x10ce60=new Be(_0x5f0a20,_0x46db96,this['rootNode']);_0x10ce60['castShadow']=_0x362a87['origMeshIn'+'stances'][0x6*-0x33a+0x1*0x1556+0x17*-0x16]['castShadow'],_0x10ce60['parameters']=_0x362a87['origMeshIn'+'stances'][0xcd9+0xf8d*-0x1+0x2b4]['parameters'],_0x10ce60['layer']=_0x362a87['origMeshIn'+'stances'][-0x70f+-0x41*0x7b+0x264a]['layer'],_0x10ce60['_shaderDef'+'s']=_0x362a87['origMeshIn'+'stances'][0x1479*-0x1+0x39*0xf+0x1122]['_shaderDef'+'s'],_0x10ce60['batching']=!(-0x626+-0x19c6*0x1+-0x24*-0xe3),_0x10ce60['cull']=_0x362a87['origMeshIn'+'stances'][0x22b4*0x1+-0xd69*-0x2+-0x3d86]['cull'];const _0x36ae05=this['_batchGrou'+'ps'][_0xdfc407];if(_0x36ae05&&_0x36ae05['_ui']&&(_0x10ce60['cull']=!(0x235e+-0xdc8+0xdd*-0x19)),_0x4a5177){const _0x321747=[];for(let _0x22ad42=0x1be9+0x659+-0x5*0x6da;_0x22ad42<_0x362a87['origMeshIn'+'stances']['length'];_0x22ad42++)_0x321747['push'](_0x362a87['origMeshIn'+'stances'][_0x22ad42]['node']);_0x10ce60['skinInstan'+'ce']=new Gm(this['device'],_0x321747,this['rootNode']);}_0x10ce60['_updateAab'+'b']=!(0x92*-0xf+0x1772+-0xee3),_0x10ce60['drawOrder']=_0x362a87['origMeshIn'+'stances'][-0x143b*0x1+0x1*-0x3+-0x1*-0x143e]['drawOrder'],_0x10ce60['stencilFro'+'nt']=_0x362a87['origMeshIn'+'stances'][0xda4+0x1753*-0x1+0x9af]['stencilFro'+'nt'],_0x10ce60['stencilBac'+'k']=_0x362a87['origMeshIn'+'stances'][0x1*-0x4d2+-0x24ea+0x29bc]['stencilBac'+'k'],_0x10ce60['flipFacesF'+'actor']=Td(_0x362a87['origMeshIn'+'stances'][-0x1c6d+0x1*-0x164d+0x32ba]),_0x10ce60['castShadow']=_0x362a87['origMeshIn'+'stances'][-0x1ba1*0x1+0x1f86+-0x3e5]['castShadow'],_0x362a87['meshInstan'+'ce']=_0x10ce60,_0x362a87['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ae()-_0x23b401,_0x362a87;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>0x1*-0x20e3+-0xbcf*0x1+0x2cb2&&this['generate'](this['_dirtyGrou'+'ps']);const _0x5e335d=ae();for(let _0x135171=0x23db+-0x1522+-0xeb9;_0x135171<this['_batchList']['length'];_0x135171++)this['_batchList'][_0x135171]['dynamic']&&this['_batchList'][_0x135171]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ae()-_0x5e335d;}['clone'](_0x49a4cf,_0x47ea33){const _0x6a07bb=new Um(_0x47ea33,_0x49a4cf['dynamic'],_0x49a4cf['batchGroup'+'Id']);this['_batchList']['push'](_0x6a07bb);const _0x177c22=[];for(let _0x21afd9=0x26d3+0x1de9+-0x44bc;_0x21afd9<_0x47ea33['length'];_0x21afd9++)_0x177c22['push'](_0x47ea33[_0x21afd9]['node']);return _0x6a07bb['meshInstan'+'ce']=new Be(_0x49a4cf['meshInstan'+'ce']['mesh'],_0x49a4cf['meshInstan'+'ce']['material'],_0x49a4cf['meshInstan'+'ce']['node']),_0x6a07bb['meshInstan'+'ce']['_updateAab'+'b']=!(-0x22b4+0xfef+0x1b*0xb2),_0x6a07bb['meshInstan'+'ce']['parameters']=_0x47ea33[0x1a*0xc7+0x4*-0x64a+-0x1a6*-0x3]['parameters'],_0x6a07bb['meshInstan'+'ce']['cull']=_0x47ea33[0x3c4+-0x197*0x1+-0x22d*0x1]['cull'],_0x6a07bb['meshInstan'+'ce']['layer']=_0x47ea33[0x3*-0xa04+0x1*0x2392+0xca*-0x7]['layer'],_0x49a4cf['dynamic']&&(_0x6a07bb['meshInstan'+'ce']['skinInstan'+'ce']=new Gm(this['device'],_0x177c22,this['rootNode'])),_0x6a07bb['meshInstan'+'ce']['castShadow']=_0x49a4cf['meshInstan'+'ce']['castShadow'],_0x6a07bb;}['destroyBat'+'ch'](_0x1bad0c){_0x1bad0c['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x1bad0c['batchGroup'+'Id']]['layers']);}}const Zm='uSceneColo'+'rMap';class fC extends gs{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x1e020f,_0x511b69,_0x591f78){if((_0x1e020f==null?void(0x1b2+-0x2285+0x20d3):_0x1e020f['colorBuffe'+'r']['format'])!==_0x591f78)return!(0x185c*0x1+0x373*-0xb+0xd95);const _0xc62170=(_0x511b69==null?void(0x12f1*-0x2+-0x180f*-0x1+0xdd3):_0x511b69['width'])||this['device']['width'],_0x4b67e6=(_0x511b69==null?void(-0xbaa+-0x2281+0x2e2b):_0x511b69['height'])||this['device']['height'];return!_0x1e020f||_0xc62170!==_0x1e020f['width']||_0x4b67e6!==_0x1e020f['height'];}['allocateRe'+'nderTarget'](_0x2d7929,_0x292cbd,_0x454552,_0x3fd059){const _0x41bb8b=new ce(_0x454552,{'name':Zm,'format':_0x3fd059,'width':_0x292cbd?_0x292cbd['colorBuffe'+'r']['width']:_0x454552['width'],'height':_0x292cbd?_0x292cbd['colorBuffe'+'r']['height']:_0x454552['height'],'mipmaps':!(0x2636+0x1ffb+-0x4631),'minFilter':an,'magFilter':at,'addressU':oe,'addressV':oe});return _0x2d7929?(_0x2d7929['destroyFra'+'meBuffers'](),_0x2d7929['_colorBuff'+'er']=_0x41bb8b,_0x2d7929['_colorBuff'+'ers']=[_0x41bb8b]):_0x2d7929=new St({'name':'ColorGrabR'+'T','colorBuffer':_0x41bb8b,'depth':!(-0x4ec+0x3*0x267+-0x248),'stencil':!(-0x1*-0x21d+-0x26e1+0x24c5),'autoResolve':!(0x231f+0x2fb*-0xb+-0x255*0x1)}),_0x2d7929;}['releaseRen'+'derTarget'](_0x3594b9){_0x3594b9&&(_0x3594b9['destroyTex'+'tureBuffer'+'s'](),_0x3594b9['destroy']());}['frameUpdat'+'e'](){const _0x3f5761=this['device'],_0x28a55b=this['source'],_0x13e593=(_0x28a55b==null?void(0x5f3+-0x52b+-0xc8):_0x28a55b['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x28a55b==null?void(0xc85*0x2+0x26d3+0x1*-0x3fdd):_0x28a55b['colorBuffe'+'r'],_0x13e593)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x28a55b,_0x3f5761,_0x13e593));const _0x5eced2=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x3f5761['scope']['resolve'](Zm)['setValue'](_0x5eced2);}['execute'](){const _0x444812=this['device'];G['pushGpuMar'+'ker'](_0x444812,'GRAB-COLOR');const _0x22895f=this['source'],_0x263c3c=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x444812['isWebGPU']?(_0x444812['copyRender'+'Target'](_0x22895f,this['colorRende'+'rTarget'],!(-0x9*0x3a4+0xec3*0x2+0x33e),!(-0x1c3f+-0x2499+0x40d9)),_0x444812['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x444812['copyRender'+'Target'](_0x22895f,this['colorRende'+'rTarget'],!(-0x144a+0xfa7+0x4a3),!(0xf5d+0x2627*0x1+-0x3583)),_0x444812['activeText'+'ure'](_0x444812['maxCombine'+'dTextures']-(-0x1803+-0x1f7*0x13+-0x3d59*-0x1)),_0x444812['bindTextur'+'e'](_0x263c3c),_0x444812['gl']['generateMi'+'pmap'](_0x263c3c['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x444812);}}const Qm='uSceneDept'+'hMap';class pC extends gs{constructor(_0x16cc37,_0x258033){super(_0x16cc37),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x258033;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x320ab0,_0x2df2be){const _0x4a6440=(_0x2df2be==null?void(-0x1*0x249e+0x1*0xe08+0x3b*0x62):_0x2df2be['width'])||this['device']['width'],_0x14db43=(_0x2df2be==null?void(-0x16e*0x12+-0x12ad+-0x1*-0x2c69):_0x2df2be['height'])||this['device']['height'];return!_0x320ab0||_0x4a6440!==_0x320ab0['width']||_0x14db43!==_0x320ab0['height'];}['allocateRe'+'nderTarget'](_0x1aa266,_0x5ee16b,_0x161bec,_0x33eea2,_0x2ff9ed){const _0x3dbee9=new ce(_0x161bec,{'name':Qm,'format':_0x33eea2,'width':_0x5ee16b?_0x5ee16b['colorBuffe'+'r']['width']:_0x161bec['width'],'height':_0x5ee16b?_0x5ee16b['colorBuffe'+'r']['height']:_0x161bec['height'],'mipmaps':!(0x205c+-0x6b*0x40+-0x59b*0x1),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});return _0x1aa266?(_0x1aa266['destroyFra'+'meBuffers'](),_0x2ff9ed?_0x1aa266['_depthBuff'+'er']=_0x3dbee9:(_0x1aa266['_colorBuff'+'er']=_0x3dbee9,_0x1aa266['_colorBuff'+'ers']=[_0x3dbee9])):_0x1aa266=new St({'name':'DepthGrabR'+'T','colorBuffer':_0x2ff9ed?null:_0x3dbee9,'depthBuffer':_0x2ff9ed?_0x3dbee9:null,'depth':!_0x2ff9ed,'stencil':_0x161bec['supportsSt'+'encil'],'autoResolve':!(-0x1e2f*0x1+0xb03*0x3+-0x2d9)}),_0x1aa266;}['releaseRen'+'derTarget'](_0x327e23){_0x327e23&&(_0x327e23['destroyTex'+'tureBuffer'+'s'](),_0x327e23['destroy']());}['before'](){var _0xf213d7,_0x3b2e37;const _0x1b2086=this['camera'],_0x502299=this['device'],_0x53ce4d=(_0x1b2086==null?void(0x6*-0xc3+0x9*0x61+0x129):_0x1b2086['renderTarg'+'et'])??_0x502299['backBuffer'];let _0x3c9990=!(0x2477+-0x50*0x5e+-0x717),_0xdf2a87=_0x53ce4d['stencil']?Ec:Di;_0x502299['isWebGPU']&&_0x53ce4d['samples']>0x1f5e+0x1527+-0xd21*0x4&&(_0xdf2a87=Oi,_0x3c9990=!(-0x20df+-0x455*-0x1+0x1c8b));const _0x5cbf28=((_0xf213d7=_0x1b2086['renderTarg'+'et'])==null?void(-0x6*-0x5e7+0x3*-0x9a9+-0x66f):_0xf213d7['depthBuffe'+'r'])??((_0x3b2e37=_0x1b2086['renderTarg'+'et'])==null?void(-0x1299+-0xb*0x1df+-0x127*-0x22):_0x3b2e37['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5cbf28)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x1b2086['renderTarg'+'et'],_0x502299,_0xdf2a87,_0x3c9990));const _0x5dae46=_0x3c9990?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x502299['scope']['resolve'](Qm)['setValue'](_0x5dae46);}['execute'](){const _0x2d735b=this['device'];if(G['pushGpuMar'+'ker'](_0x2d735b,'GRAB-DEPTH'),_0x2d735b['isWebGL2']&&_0x2d735b['renderTarg'+'et']['samples']>0x1a0*0x1+0x25e9+-0x7e8*0x5){const _0x4645b0=_0x2d735b['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x2aecd4=this['depthRende'+'rTarget'];_0x2d735b['renderTarg'+'et']=_0x2aecd4,_0x2d735b['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x2d735b,_0x4645b0,_0x2aecd4['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x2d735b['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x2d735b['copyRender'+'Target'](_0x2d735b['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x65*0x4d+-0x5*-0x49d+-0x3571),!(-0xa79*0x1+-0x1*0x1b2d+0x25a6));G['popGpuMark'+'er'](_0x2d735b);}}class E0{constructor(){c(this,'_gammaCorr'+'ection',ph),c(this,'_toneMappi'+'ng',Pp),c(this,'_srgbRende'+'rTarget',!(-0xb*0x35+0x1*0x110f+0x4ed*-0x3)),c(this,'_ssaoEnabl'+'ed',!(0x1e75+-0x1120*0x2+0x36*0x12)),c(this,'_fog',Ba),c(this,'_sceneDept'+'hMapLinear',!(-0x7*-0x3fe+-0x22bd+0x6cc)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(-0xf53+0xbbf+0x394));}get['hash'](){if(this['_hash']===void(0x6*-0x2da+0x1623+-0x27*0x21)){const _0x33cedf=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=cn(_0x33cedf);}return this['_hash'];}get['defines'](){const _0x130351=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x244d+-0x1960*-0x1+0xaee),_0x130351['clear'](),this['_sceneDept'+'hMapLinear']&&_0x130351['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0xfe0+-0x3*-0x7a9+0x1d*-0x157)),_0x130351['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x130351['set']('TONEMAP',m0[this['_toneMappi'+'ng']]),_0x130351['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x130351;}['markDirty'](){this['_hash']=void(0x5ff+-0x2408+-0x21*-0xe9),this['_definesDi'+'rty']=!(0x22*0x6b+-0x238a+-0x16c*-0xf);}set['fog'](_0x58e5fa){this['_fog']!==_0x58e5fa&&(this['_fog']=_0x58e5fa,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x4d13c4){this['_ssaoEnabl'+'ed']!==_0x4d13c4&&(this['_ssaoEnabl'+'ed']=_0x4d13c4,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x2c94f5){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x1efd*0x1+0x21c2+-0x40bf),this['_gammaCorr'+'ection']!==_0x2c94f5&&(this['_gammaCorr'+'ection']=_0x2c94f5,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x5b3b78){this['_toneMappi'+'ng']!==_0x5b3b78&&(this['_toneMappi'+'ng']=_0x5b3b78,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x19192f){this['_srgbRende'+'rTarget']!==_0x19192f&&(this['_srgbRende'+'rTarget']=_0x19192f,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x160fbb){this['_sceneDept'+'hMapLinear']!==_0x160fbb&&(this['_sceneDept'+'hMapLinear']=_0x160fbb,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===ph&&!this['_srgbRende'+'rTarget']?ph:al;}}const Mn=new A(),ja=new A(),Jm=new A(),e_=new q(),mC=[new A(),new A(),new A(),new A(),new A(),new A(),new A(),new A()];class dl{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new E0()),c(this,'renderPass'+'es',[]),c(this,'jitter',-0x1d2*-0x11+0x16*-0x17b+0x1a0),(this['_aspectRat'+'io']=(-0xa7*0x2c+-0x89f+0x2563)/(0x1d96+0xef5+-0x1b*0x1a6),this['_aspectRat'+'ioMode']=kp,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(-0x1c3c+-0x1e56*0x1+0x3a92+0.75,0x3*0x281+0x2e7+0x1*-0xa6a+0.75,-0x1e6b+-0x4f*0x65+0x3d96*0x1+0.75,0xd*0x241+-0x269*-0x10+0xca*-0x56),this['_clearColo'+'rBuffer']=!(-0x35*-0x86+-0x14*-0x1b2+0x2*-0x1ed3),this['_clearDept'+'h']=0xac3+0x29*0x2a+-0x117c,this['_clearDept'+'hBuffer']=!(-0x1a93+0x1e5*0x1+0x18ae),this['_clearSten'+'cil']=0x2041*-0x1+-0x1cd1+0x3d12,this['_clearSten'+'cilBuffer']=!(0x1daf+-0x1bea+-0x1c5),this['_cullFaces']=!(-0x1*-0x1866+-0xc0e+-0x1*0xc58),this['_farClip']=-0x1bf6+0x3*0xbd+0x1*0x1da7,this['_flipFaces']=!(-0x1474+-0xa2a*-0x1+0xa4b),this['_fov']=0x18*0x19e+0x1*-0x10a0+-0x23*0xa1,this['_frustumCu'+'lling']=!(-0xbd6+0x23ef+-0x1819),this['_horizonta'+'lFov']=!(-0x1dc*0xe+-0x19c6*0x1+0x1145*0x3),this['_layers']=[zi,es,Ap,nl,Ep],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=-0xb*-0xa3+0x1144+-0x3*0x817+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x14e1+0x1291+0x184*-0x1a,this['_projectio'+'n']=Xs,this['_rect']=new ee(-0x1c4a+0x21d2+-0x588,-0x1647+-0x1*-0x1e3c+0x15*-0x61,0x887*0x1+-0x3b+-0xc1*0xb,0x6*-0x19b+0xd*-0x1d7+0x10c7*0x2),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new ee(0x13e7+0x1aa+0x1*-0x1591,-0x508+-0x6fd+-0xb5*-0x11,-0x24b5*0x1+0x1*0x1bef+-0x2ed*-0x3,0x13c8+-0x1758+0x391),this['_scissorRe'+'ctClear']=!(-0x252f+0x20d1+0x45f),this['_aperture']=-0x1460+-0x10cd*0x2+0x360a,this['_shutter']=(-0x7*-0x397+0xced*-0x3+0x3*0x48d)/(-0x683*-0x1+-0xa24+-0x3*-0x283),this['_sensitivi'+'ty']=-0x1d*-0x84+0xcdb+-0x17e7,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(-0xb51*-0x1+0x1e94+-0x27*0x113),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0xea3*0x1+0x1acf+-0xc2c),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(-0x1*0x35+-0x1d3c+0x1d71*0x1),this['_shaderMat'+'ricesVersi'+'on']=0x31*-0x31+-0x21c6+0x2b27,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x17*-0x71+-0x1*-0x1437+-0xa10*0x1,0x5*-0x48d+-0xb62+0x2223,-0x11*0x1b7+0x1*-0x214f+0x215*0x1e,0x1f*0x2b+-0x2*-0x134e+-0x2bd1],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x3ef1b7,_0x2b62b3;(_0x3ef1b7=this['renderPass'+'ColorGrab'])==null||_0x3ef1b7['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x2b62b3=this['renderPass'+'DepthGrab'])==null||_0x2b62b3['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=0x1*0x1f9f+0xfe3+-0x2f82;}['_storeShad'+'erMatrices'](_0x2a4f63,_0x316792,_0x31147c,_0x433555){this['_shaderMat'+'ricesVersi'+'on']!==_0x433555&&(this['_shaderMat'+'ricesVersi'+'on']=_0x433555,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x2a4f63),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0x2a4f63),this['_viewProjI'+'nverse']['invert'](_0x2a4f63),this['_jitters'][-0x1b2f+-0x3f5+0x1*0x1f26]=this['_jitters'][0x2074+-0x2*0xa54+0x25c*-0x5],this['_jitters'][0x491*0x8+-0x2c3*0x7+-0x113*0x10]=this['_jitters'][0x13a8+0x23*0x13+-0x1640*0x1],this['_jitters'][-0x1cdf+-0x1a28+0x3707]=_0x316792,this['_jitters'][0x1d52+0x1*-0x10ef+0x13d*-0xa]=_0x31147c);}get['fullSizeCl'+'earRect'](){const _0x2a00ef=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x2a00ef['x']===0x1b*0xdc+0xb*0x34f+-0x49*0xd1&&_0x2a00ef['y']===-0x5d*-0x65+0x16f7*-0x1+-0x1f6*0x7&&_0x2a00ef['z']===0x22c5+-0xf71+-0x1353&&_0x2a00ef['w']===0xb*-0x1ec+0x356*-0x5+-0x25d3*-0x1;}set['aspectRati'+'o'](_0x8a7480){this['_aspectRat'+'io']!==_0x8a7480&&(this['_aspectRat'+'io']=_0x8a7480,this['_projMatDi'+'rty']=!(0x3*0x3bf+-0x23a6+-0x823*-0x3));}get['aspectRati'+'o'](){var _0x6dc833;return(_0x6dc833=this['xr'])!=null&&_0x6dc833['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x410f1f){this['_aspectRat'+'ioMode']!==_0x410f1f&&(this['_aspectRat'+'ioMode']=_0x410f1f,this['_projMatDi'+'rty']=!(0xcbf+-0x411*-0x2+-0x14e1));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x53d9e0){this['_calculate'+'Projection']=_0x53d9e0,this['_projMatDi'+'rty']=!(-0xb02+-0x2249+0x2d4b);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x18e415){this['_calculate'+'Transform']=_0x18e415;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x1a7007){this['_clearColo'+'r']['copy'](_0x1a7007);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x5786f7){this['_clearColo'+'rBuffer']=_0x5786f7;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x1f40a3){this['_clearDept'+'h']=_0x1f40a3;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x1fc19c){this['_clearDept'+'hBuffer']=_0x1fc19c;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x296450){this['_clearSten'+'cil']=_0x296450;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x9e3f12){this['_clearSten'+'cilBuffer']=_0x9e3f12;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x5dc154){this['_cullFaces']=_0x5dc154;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0xd40f87){this['_farClip']!==_0xd40f87&&(this['_farClip']=_0xd40f87,this['_projMatDi'+'rty']=!(0x1699+-0x80e*-0x2+-0x26b5));}get['farClip'](){var _0x358bf3;return(_0x358bf3=this['xr'])!=null&&_0x358bf3['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x5c79a8){this['_flipFaces']=_0x5c79a8;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x5a50fc){this['_fov']!==_0x5a50fc&&(this['_fov']=_0x5a50fc,this['_projMatDi'+'rty']=!(0x2*-0x106+-0x253*-0x10+-0x2324));}get['fov'](){var _0x369516;return(_0x369516=this['xr'])!=null&&_0x369516['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x1ba6c8){this['_frustumCu'+'lling']=_0x1ba6c8;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x25da2b){this['_horizonta'+'lFov']!==_0x25da2b&&(this['_horizonta'+'lFov']=_0x25da2b,this['_projMatDi'+'rty']=!(0x25e7+-0x9*-0x298+-0x1*0x3d3f));}get['horizontal'+'Fov'](){var _0x34ce43;return(_0x34ce43=this['xr'])!=null&&_0x34ce43['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x13b80d){this['_layers']=_0x13b80d['slice'](-0x8*0xdc+0x1fd0+0x10a*-0x18),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x1f9947){this['_nearClip']!==_0x1f9947&&(this['_nearClip']=_0x1f9947,this['_projMatDi'+'rty']=!(0x2*0x841+-0x1c47*0x1+0xbc5));}get['nearClip'](){var _0x202097;return(_0x202097=this['xr'])!=null&&_0x202097['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x4ace5c){this['_node']=_0x4ace5c;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x589257){this['_orthoHeig'+'ht']!==_0x589257&&(this['_orthoHeig'+'ht']=_0x589257,this['_projMatDi'+'rty']=!(-0x1a87*-0x1+-0x15d1+-0x4b6));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x4fa11c){this['_projectio'+'n']!==_0x4fa11c&&(this['_projectio'+'n']=_0x4fa11c,this['_projMatDi'+'rty']=!(0x25*-0xb1+0xe46+-0x1*-0xb4f));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x19bed3){this['_rect']['copy'](_0x19bed3);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x40bd35){this['_renderTar'+'get']=_0x40bd35;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x439376){this['_scissorRe'+'ct']['copy'](_0x439376);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x3ed60a=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x3ed60a)['invert'](),this['_viewMatDi'+'rty']=!(-0x95+-0x2fa+0x390);}return this['_viewMat'];}set['aperture'](_0x684e13){this['_aperture']=_0x684e13;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x25fb87){this['_sensitivi'+'ty']=_0x25fb87;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x251c3d){this['_shutter']=_0x251c3d;}get['shutter'](){return this['_shutter'];}set['xr'](_0x5db06c){this['_xr']!==_0x5db06c&&(this['_xr']=_0x5db06c,this['_projMatDi'+'rty']=!(-0x5ee+0x89f+-0x2b1));}get['xr'](){return this['_xr'];}['clone'](){return new dl()['copy'](this);}['copy'](_0x4efb96){return this['_aspectRat'+'io']=_0x4efb96['_aspectRat'+'io'],this['_farClip']=_0x4efb96['_farClip'],this['_fov']=_0x4efb96['_fov'],this['_horizonta'+'lFov']=_0x4efb96['_horizonta'+'lFov'],this['_nearClip']=_0x4efb96['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x4efb96['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x4efb96['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x4efb96['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x4efb96['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x4efb96['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x4efb96['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4efb96['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4efb96['calculateT'+'ransform'],this['clearColor']=_0x4efb96['clearColor'],this['clearColor'+'Buffer']=_0x4efb96['clearColor'+'Buffer'],this['clearDepth']=_0x4efb96['clearDepth'],this['clearDepth'+'Buffer']=_0x4efb96['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x4efb96['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x4efb96['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4efb96['cullFaces'],this['flipFaces']=_0x4efb96['flipFaces'],this['frustumCul'+'ling']=_0x4efb96['frustumCul'+'ling'],this['layers']=_0x4efb96['layers'],this['orthoHeigh'+'t']=_0x4efb96['orthoHeigh'+'t'],this['projection']=_0x4efb96['projection'],this['rect']=_0x4efb96['rect'],this['renderTarg'+'et']=_0x4efb96['renderTarg'+'et'],this['scissorRec'+'t']=_0x4efb96['scissorRec'+'t'],this['aperture']=_0x4efb96['aperture'],this['shutter']=_0x4efb96['shutter'],this['sensitivit'+'y']=_0x4efb96['sensitivit'+'y'],this['shaderPass'+'Info']=_0x4efb96['shaderPass'+'Info'],this['jitter']=_0x4efb96['jitter'],this['_projMatDi'+'rty']=!(0xcd8+0x6*0x27+-0xdc2),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x595052,_0xd8459){var _0x47d85b;_0xd8459?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new fC(_0x595052)):((_0x47d85b=this['renderPass'+'ColorGrab'])==null||_0x47d85b['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x3568b8,_0x4d139d,_0x34f3d6){var _0x48cce6;_0x34f3d6?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new pC(_0x3568b8,this)):((_0x48cce6=this['renderPass'+'DepthGrab'])==null||_0x48cce6['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x2386+0xe8+0x229f));}['worldToScr'+'een'](_0x4288be,_0x4ed8e4,_0x69ef19,_0x5b96fe=new A()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x4288be,_0x5b96fe);const _0xabc005=this['_viewProjM'+'at']['data'],_0x45ab91=_0x4288be['x']*_0xabc005[-0xafc+-0x3d5+-0x2*-0x76a]+_0x4288be['y']*_0xabc005[-0x72e*-0x1+-0xffd+0x8d6]+_0x4288be['z']*_0xabc005[0x11b1+-0xdcc+-0x1*0x3da]+(0x31e*0x3+0x4e+0x1*-0x9a7)*_0xabc005[0x1*0x22f7+0x213+-0x1*0x24fb];return _0x5b96fe['x']=(_0x5b96fe['x']/_0x45ab91+(-0x1ef0+-0x191b*0x1+0x44*0xd3))*(-0x1*-0x2683+0x253b+-0xad2*0x7+0.5)*_0x4ed8e4,_0x5b96fe['y']=(-0x755+-0x1ce1+0x1*0x2437-_0x5b96fe['y']/_0x45ab91)*(-0x2336+0x1bdf*-0x1+0x3f15+0.5)*_0x69ef19,_0x5b96fe;}['screenToWo'+'rld'](_0x302758,_0x1adbe6,_0x29632a,_0x1f2757,_0x35ce30,_0xf2abe2=new A()){const _0x4b956f=this['farClip']-this['nearClip'];if(Mn['set'](_0x302758/_0x1f2757,(_0x35ce30-_0x1adbe6)/_0x35ce30,_0x29632a/_0x4b956f),Mn['mulScalar'](0x20fe+-0xe11+-0x12eb),Mn['sub'](A['ONE']),this['_projectio'+'n']===Xs){q['_getPerspe'+'ctiveHalfS'+'ize'](ja,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ja['x']*=Mn['x'],ja['y']*=Mn['y'];const _0x4aadf4=this['_node']['getWorldTr'+'ansform']();ja['z']=-this['nearClip'],_0x4aadf4['transformP'+'oint'](ja,Jm);const _0x19e883=this['_node']['getPositio'+'n']();_0xf2abe2['sub2'](Jm,_0x19e883),_0xf2abe2['normalize'](),_0xf2abe2['mulScalar'](_0x29632a),_0xf2abe2['add'](_0x19e883);}else this['_updateVie'+'wProjMat'](),e_['copy'](this['_viewProjM'+'at'])['invert'](),e_['transformP'+'oint'](Mn,_0xf2abe2);return _0xf2abe2;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Xs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x3bbbc1=this['_orthoHeig'+'ht'],_0x5dde8a=_0x3bbbc1*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x5dde8a,_0x5dde8a,-_0x3bbbc1,_0x3bbbc1,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x1f95+0x2*0x11ff+-0x4392);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x47c5dd=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x3c6+-0x96*0x3b+-0x7cc*-0x4)/this['_sensitivi'+'ty']);return(-0x1502+-0x13d5*-0x1+0x12e)/(Math['pow'](-0x6*-0x4cd+0x130a+0x9d*-0x4e,_0x47c5dd)*(0x7*0x486+-0x1*-0x1a7b+-0x3a24+0.19999999999999996));}['getScreenS'+'ize'](_0x55daa4){if(this['_projectio'+'n']===Xs){const _0x213c4a=this['_node']['getPositio'+'n']()['distance'](_0x55daa4['center']);if(_0x213c4a<_0x55daa4['radius'])return-0xced+-0x13bf+0x5*0x689;const _0x564b1e=Math['asin'](_0x55daa4['radius']/_0x213c4a),_0x3d83d2=Math['tan'](_0x564b1e),_0x1fee4c=Math['tan'](this['fov']/(0xb1*-0x17+0x2071+-0x1088)*z['DEG_TO_RAD']);return Math['min'](_0x3d83d2/_0x1fee4c,-0x316+0x165b+-0x1344);}return z['clamp'](_0x55daa4['radius']/this['_orthoHeig'+'ht'],-0x1d4*-0x9+0x1*-0x19a9+0x935,-0x321*-0x3+-0xb*-0x12f+0x1f*-0xb9);}['getFrustum'+'Corners'](_0x13839d=this['nearClip'],_0x42dffd=this['farClip']){const _0x24b8d8=this['fov']*Math['PI']/(0x12d6+0x266f*-0x1+0x144d);let _0x8160a3,_0x3acde1;this['projection']===Xs?this['horizontal'+'Fov']?(_0x8160a3=_0x13839d*Math['tan'](_0x24b8d8/(-0x1fac+-0x1884+0x2*0x1c19)),_0x3acde1=_0x8160a3/this['aspectRati'+'o']):(_0x3acde1=_0x13839d*Math['tan'](_0x24b8d8/(-0x1*-0x2321+0x1*0x1724+-0x3a43*0x1)),_0x8160a3=_0x3acde1*this['aspectRati'+'o']):(_0x3acde1=this['_orthoHeig'+'ht'],_0x8160a3=_0x3acde1*this['aspectRati'+'o']);const _0x170da0=mC;return _0x170da0[0x17e4+0x1dee+-0x1*0x35d2]['x']=_0x8160a3,_0x170da0[-0x50*-0x19+0xa06+-0x11d6]['y']=-_0x3acde1,_0x170da0[-0x108b+-0x178f+0x281a]['z']=-_0x13839d,_0x170da0[-0x180+0xd79+-0xbf8]['x']=_0x8160a3,_0x170da0[0xf7*-0x2+0x153f+-0x1350]['y']=_0x3acde1,_0x170da0[-0x4*0x904+0xa33*-0x3+0x17*0x2e6]['z']=-_0x13839d,_0x170da0[-0x924+0x1*0x28b+0x69b]['x']=-_0x8160a3,_0x170da0[0x12b*0x2+-0xdb7+0xb63]['y']=_0x3acde1,_0x170da0[0x43f*0x7+0x2502*0x1+-0x42b9]['z']=-_0x13839d,_0x170da0[0x4*0x9a5+0x574+-0x2c05]['x']=-_0x8160a3,_0x170da0[0x1*-0x1702+0xc8f+0xa76]['y']=-_0x3acde1,_0x170da0[0x1125+0x30b+-0x142d]['z']=-_0x13839d,this['_projectio'+'n']===Xs&&(this['horizontal'+'Fov']?(_0x8160a3=_0x42dffd*Math['tan'](_0x24b8d8/(0x1*-0x3dd+0x1c70+-0x1891)),_0x3acde1=_0x8160a3/this['aspectRati'+'o']):(_0x3acde1=_0x42dffd*Math['tan'](_0x24b8d8/(0xd*0x1c3+0x1*-0x16f7+0x12)),_0x8160a3=_0x3acde1*this['aspectRati'+'o'])),_0x170da0[0x7ac*-0x1+0x154a+-0x2*0x6cd]['x']=_0x8160a3,_0x170da0[0xdcd*0x1+0x1*-0x1dad+0x2a6*0x6]['y']=-_0x3acde1,_0x170da0[-0x181*-0x17+-0x2173+-0x120]['z']=-_0x42dffd,_0x170da0[-0x7*0x212+0x9e3*0x2+0x1c1*-0x3]['x']=_0x8160a3,_0x170da0[-0x2692+0x2*0xbb9+0xf25]['y']=_0x3acde1,_0x170da0[0x184f+-0x1266+-0x1a*0x3a]['z']=-_0x42dffd,_0x170da0[-0x2*-0x5f9+0x1*0x3ea+-0x7eb*0x2]['x']=-_0x8160a3,_0x170da0[0x15b5+0x528+0x1ad7*-0x1]['y']=_0x3acde1,_0x170da0[0x9b4*0x3+0x1c7c+0x1cc9*-0x2]['z']=-_0x42dffd,_0x170da0[0x12*-0x149+-0x2*0xa30+-0x2b89*-0x1]['x']=-_0x8160a3,_0x170da0[0x2156+-0x189*-0xe+-0x36cd*0x1]['y']=-_0x3acde1,_0x170da0[0x1*0x10df+-0x22c6*-0x1+0x19cf*-0x2]['z']=-_0x42dffd,_0x170da0;}['setXrPrope'+'rties'](_0x564264){Object['assign'](this['_xrPropert'+'ies'],_0x564264),this['_projMatDi'+'rty']=!(-0x2*0x33b+-0xdd8+0x144e);}}const t_=new q(),s_=new q(),i_=new q(),er=class er{static['create'](_0xb8efa7,_0xc00487,_0x5d61bb){const _0x36db33=new dl();switch(_0x36db33['node']=new Oe(_0xb8efa7),_0x36db33['aspectRati'+'o']=-0x152e+0x717+0xe18,_0x36db33['aspectRati'+'oMode']=Vu,_0x36db33['_scissorRe'+'ctClear']=!(0x1*-0x251d+-0x1*-0x71b+-0x1*-0x1e02),_0xc00487){case Le:_0x36db33['node']['setRotatio'+'n'](er['pointLight'+'Rotations'][_0x5d61bb]),_0x36db33['fov']=-0xf37+0x7*0x22b+0x5*0x14,_0x36db33['projection']=Xs;break;case Fe:_0x36db33['projection']=Xs;break;case le:_0x36db33['projection']=pa;break;}return _0x36db33;}static['evalSpotCo'+'okieMatrix'](_0x183977){let _0x5a1d83=er['_spotCooki'+'eCamera'];_0x5a1d83||(_0x5a1d83=er['create']('SpotCookie'+'Camera',Fe),er['_spotCooki'+'eCamera']=_0x5a1d83),_0x5a1d83['fov']=_0x183977['_outerCone'+'Angle']*(-0xe4f*0x1+0x1*-0x1847+0x4c*0x82);const _0x1d9dec=_0x5a1d83['_node'];_0x1d9dec['setPositio'+'n'](_0x183977['_node']['getPositio'+'n']()),_0x1d9dec['setRotatio'+'n'](_0x183977['_node']['getRotatio'+'n']()),_0x1d9dec['rotateLoca'+'l'](-(0x225a+-0x1bd6+-0x62a),0x1fe0+-0x4eb*-0x1+-0x1*0x24cb,-0xe*-0x296+0x1285+-0x36b9),t_['setTRS'](_0x1d9dec['getPositio'+'n'](),_0x1d9dec['getRotatio'+'n'](),A['ONE'])['invert'](),s_['mul2'](_0x5a1d83['projection'+'Matrix'],t_);const _0x2b7ea7=_0x183977['cookieMatr'+'ix'],_0x296cfd=_0x183977['atlasViewp'+'ort'];return i_['setViewpor'+'t'](_0x296cfd['x'],_0x296cfd['y'],_0x296cfd['z'],_0x296cfd['w']),_0x2b7ea7['mul2'](i_,s_),_0x2b7ea7;}};c(er,'pointLight'+'Rotations',[new ie()['setFromEul'+'erAngles'](-0x167*0x11+-0x2704+-0x3edb*-0x1,0x30a*-0x2+-0x2*0x1de+-0x515*-0x2,-0x3d*0x3a+-0x25b+0x1d*0x95),new ie()['setFromEul'+'erAngles'](-0x10d*-0x21+-0x9*-0x315+-0x1f35*0x2,-(-0x1e60+0xd7e+0x113c),-0x563*-0x7+-0xe08+-0x16f9),new ie()['setFromEul'+'erAngles'](-0x16ac+0x1*0x905+-0x2cd*-0x5,-0x19eb+-0x1e8+0x1bd3,0x1573+-0x146d+-0x106),new ie()['setFromEul'+'erAngles'](-(0x3f*-0x54+0x1*0xc8f+-0xc5*-0xb),-0x7*0x2a3+-0x24fa+0x376f*0x1,0xd*0x2cd+-0xf91+-0x14d8),new ie()['setFromEul'+'erAngles'](-0xfb1+0x9e*0x36+-0x11a3,0xb*-0x8+-0x2488+0x3c2*0xa,0xf79+0x13e*-0x19+0x1049),new ie()['setFromEul'+'erAngles'](0x2*-0xe20+-0x817*0x3+-0x1*-0x3485,0xdd0+0x2dd+-0x10ad,0x1*0xfb4+0x4a6+-0x1f7*0xa)]),c(er,'_spotCooki'+'eCamera',null);let Ia=er;const r_=-0x10d6+-0x181*0xc+0x22e2+0.000001,is=new A(),Sr=new Float32Array(0x2d5+-0x262b*-0x1+0x1*-0x28fa),_C=new A(-(0x1a40+0xb*0xed+-0x246f+0.5),0x233a+0x139*0x1e+-0x47e8*0x1,-0x40b+0x1*0x98f+-0x584),gC=new A(0xf90+-0x134a+-0x2*-0x1dd,-0x28*0xf1+-0xafb+0x30a3*0x1,0xcb2+-0xd*-0x295+-0x2e43+0.5),vr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},pt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let Ad;class C0{constructor(_0x308089){c(this,'areaLights'+'Enabled',!(-0xbc3*-0x1+-0x1365+0x7a3)),(this['device']=_0x308089,this['cookiesEna'+'bled']=!(-0x11*0x153+0x1883+-0x1ff),this['shadowsEna'+'bled']=!(0x12f7*0x1+-0x12f6+0x0),this['areaLights'+'Enabled']=!(0x5d9*-0x5+-0x1e09+0x3b47),this['maxLights']=-0x1*-0xa91+0x2307+-0x2c99);const _0x3b2979=vr['COUNT'];this['lights8']=new Uint8ClampedArray((-0xb5e+0x1*-0x257+0x3*0x493)*_0x3b2979*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x3b2979,this['maxLights'],Te,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x1f98a3=pt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x551*0x1+0xbbb+-0x666)*_0x1f98a3*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x1f98a3,this['maxLights'],et,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x251a+0x11d5+-0x36ef,this['invMaxAtte'+'nuation']=0x16de+0x66f*0x2+-0x23bc,this['boundsMin']=new A(),this['boundsDelt'+'a']=new A();}static['getShaderD'+'efines'](){const _0x32753a=(_0x3d1d67,_0xda4f1a)=>Object['keys'](_0x3d1d67)['map'](_0x1e4e64=>'#define\x20'+_0xda4f1a+_0x1e4e64+'\x20'+_0x3d1d67[_0x1e4e64])['join']('\x0a');return Ad||(Ad='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x32753a(vr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x32753a(pt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),Ad;}['destroy'](){var _0x2bca3d,_0x173e22;(_0x2bca3d=this['lightsText'+'ure8'])==null||_0x2bca3d['destroy'](),this['lightsText'+'ure8']=null,(_0x173e22=this['lightsText'+'ureFloat'])==null||_0x173e22['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x6af9d3,_0x6505cf,_0x4b5e97,_0x2ce809,_0x5b05af){return new ce(_0x6af9d3,{'name':_0x5b05af,'width':_0x6505cf,'height':_0x4b5e97,'mipmaps':!(-0x1*-0x24df+0x1d19+-0x41f7),'format':_0x2ce809,'addressU':oe,'addressV':oe,'type':Bi,'magFilter':fe,'minFilter':fe,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x29c90d,_0x29d12d){this['invMaxColo'+'rValue']=(0x1ad2+-0x906+0x11cb*-0x1)/_0x29d12d,this['invMaxAtte'+'nuation']=(0x19*-0xb+0x1608+-0x4*0x53d)/_0x29c90d;}['setBounds'](_0x2a21d1,_0x22376f){this['boundsMin']['copy'](_0x2a21d1),this['boundsDelt'+'a']['copy'](_0x22376f);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x311aa8,_0xc77d3e){_0xc77d3e['_node']['getWorldTr'+'ansform']()['getY'](_0x311aa8)['mulScalar'](-(-0x179*0x1+-0x1*-0x30d+-0x193)),_0x311aa8['normalize']();}['getLightAr'+'eaSizes'](_0x52aa69){const _0x1d0780=_0x52aa69['_node']['getWorldTr'+'ansform']();return _0x1d0780['transformV'+'ector'](_C,is),Sr[-0x1a50+-0x4d9+-0x3*-0xa63]=is['x'],Sr[-0x1*0x1d+-0x1a6*0x13+-0x1*-0x1f70]=is['y'],Sr[-0x1a5e+0x25c5+-0xb65]=is['z'],_0x1d0780['transformV'+'ector'](gC,is),Sr[-0xd*0x277+-0x1*-0x1f15+0xf9]=is['x'],Sr[0x99c*-0x1+-0xa1+0xa41]=is['y'],Sr[-0xc5*-0x5+0x5d5*0x1+-0x9a9]=is['z'],Sr;}['addLightDa'+'taFlags'](_0xb8f9d,_0x447b29,_0x100173,_0x3b150f,_0x54aece,_0x40e481){_0xb8f9d[_0x447b29+(0x16*0xfb+-0x1493+-0xff)]=_0x3b150f?-0x13ce+-0x4*0x441+-0x1*-0x25d1:-0xc*-0x166+0x3f*0x13+-0x1575,_0xb8f9d[_0x447b29+(-0x1b*0x139+-0x7ed+0x28f1)]=this['areaLights'+'Enabled']?_0x100173['_shape']*(-0xc*-0x20+0x2497+-0x1*0x25d7):-0x105b+-0x3*0x60f+0x2288,_0xb8f9d[_0x447b29+(-0x15*-0x97+-0x1*0x121f+0x5be)]=_0x100173['_falloffMo'+'de']*(-0x1ed7+0x1ded+0x1e9),_0xb8f9d[_0x447b29+(-0x1*-0x6bb+0x127d+-0x1b*0xef)]=_0x54aece?_0x40e481*(-0xaa3+0xfcc+0x1*-0x42a):-0x3*-0x2f5+-0x2*-0xa79+-0x1c1*0x11;}['addLightDa'+'taColor'](_0x4caa53,_0x1b6dfb,_0x1f1241,_0xdea85a){const _0x25ef1b=this['invMaxColo'+'rValue'],_0x39c9e5=_0x1f1241['_colorLine'+'ar'];Bt['float2Byte'+'s'](_0x39c9e5[-0x159a+-0x1117+0x1*0x26b1]*_0x25ef1b,_0x4caa53,_0x1b6dfb+(0x93*-0x34+-0x1105+0x2ee1),-0x175b+0x29*0x4+0x16b9),Bt['float2Byte'+'s'](_0x39c9e5[0x1a0b+0x7c5+-0x241*0xf]*_0x25ef1b,_0x4caa53,_0x1b6dfb+(0x1ea6+0x2*-0xc83+-0x59e),-0x16c8+-0x1cb*0xc+-0x2*-0x1627),Bt['float2Byte'+'s'](_0x39c9e5[-0x5*-0x4cd+-0x2353+0x2d5*0x4]*_0x25ef1b,_0x4caa53,_0x1b6dfb+(-0x1aad+-0x23e1*0x1+-0x3e92*-0x1),0x1*0x9a4+0x1b9d+-0x253f),_0x4caa53[_0x1b6dfb+(-0x7c9*-0x1+0x1aa5*-0x1+0x12e2)]=_0xdea85a?0x1533+-0x2*0x3bb+-0x2*0x65f:0xcec+-0x1f32+0x1246;const _0x38612d=!!(_0x1f1241['mask']&ms),_0x3ed0cb=!!(_0x1f1241['mask']&dr);_0x4caa53[_0x1b6dfb+(0x148b*0x1+0x25*0x75+0x2e1*-0xd)]=_0x38612d&&_0x3ed0cb?-0x132b+-0x617*-0x3+-0x165*-0x1:_0x3ed0cb?-0x575+0x1455*0x1+-0xde1:0x22c4+0x1*0xba5+-0x6d*0x6d;}['addLightDa'+'taSpotAngl'+'es'](_0x357449,_0x47047c,_0x2f4ed8){Bt['float2Byte'+'s'](_0x2f4ed8['_innerCone'+'AngleCos']*(-0x1*0x3bc+-0xa3+0x45f+0.5-r_)+(-0x329*-0x6+0xdc5+-0x7*0x4ad+0.5),_0x357449,_0x47047c+(-0x3e*0xf+-0x231+0x3*0x1f1),0x1301+-0x5*-0x4ea+0x13*-0x24b),Bt['float2Byte'+'s'](_0x2f4ed8['_outerCone'+'AngleCos']*(0xf3b+-0xf95+0x12*0x5+0.5-r_)+(-0x1*0x22bd+-0x217d*-0x1+0xa*0x20+0.5),_0x357449,_0x47047c+(-0x1*-0x20f1+-0x9*-0x271+-0x36e8),-0x1c4c*-0x1+0x535+0xaf*-0x31);}['addLightDa'+'taShadowBi'+'as'](_0x1112ba,_0x4fe27c,_0x5a571d){const _0xe7f12f=_0x5a571d['getRenderD'+'ata'](null,-0x17b9*-0x1+-0x16de+0x49*-0x3),_0x430e22=_0x5a571d['_getUnifor'+'mBiasValue'+'s'](_0xe7f12f);Bt['float2Byte'+'sRange'](_0x430e22['bias'],_0x1112ba,_0x4fe27c,-(0x3*-0xcd3+0x542*0x5+0xc30),0x11*0x15f+0xb78+-0x1b*0x149,-0x1*0x208f+0x1*0x242a+-0x399),Bt['float2Byte'+'s'](_0x430e22['normalBias'],_0x1112ba,_0x4fe27c+(0x257*-0x2+-0x1*-0x1c1e+-0x176e),0x536+-0xe2*0x1f+0x162a);}['addLightDa'+'taCookies'](_0x273be7,_0x40419f,_0x262a41){const _0x509fd1=_0x262a41['_cookieCha'+'nnel']==='rgb';if(_0x273be7[_0x40419f+(-0x76a+0x1*-0x1d9d+0x2507*0x1)]=Math['floor'](_0x262a41['cookieInte'+'nsity']*(0xc9*-0x18+0x19ba+-0x5e3)),_0x273be7[_0x40419f+(-0x23d8+-0x39b+0x2774)]=_0x509fd1?-0x10fd+0xee0+0x31c:0x24cd+0x2f*-0x3d+-0x199a,!_0x509fd1){const _0x2ca445=_0x262a41['_cookieCha'+'nnel'];_0x273be7[_0x40419f+(0x833*0x1+0xc5*-0x3+-0x2*0x2f0)]=_0x2ca445==='rrr'?-0x1*-0x106e+0xf24+-0x1*0x1e93:0x8b4+-0x6*-0xad+-0x1*0xcc2,_0x273be7[_0x40419f+(-0xf*0x9f+-0x1*0x14bc+0x1e12)]=_0x2ca445==='ggg'?0x12f7+0x215b+-0x3353:-0x7d*-0x22+0x445*-0x3+0x3cb*-0x1,_0x273be7[_0x40419f+(-0x1e7*0x2+-0xe83+0x1257)]=_0x2ca445==='bbb'?-0xaac*-0x3+-0xcb*-0x17+-0x3142:0xa89+0x223*0x1+-0x32b*0x4,_0x273be7[_0x40419f+(-0x17e9+0x7*0x559+-0xd7f*0x1)]=_0x2ca445==='aaa'?-0x6*0x3aa+-0x853+0x1*0x1f4e:-0x226d+-0x141b*0x1+0x574*0xa;}}['addLightDa'+'ta'](_0x40f9ea,_0x28b01b){const _0x4b3321=_0x40f9ea['_type']===Fe,_0x46b248=_0x40f9ea['atlasViewp'+'ortAllocat'+'ed'],_0x4949fa=this['cookiesEna'+'bled']&&!!_0x40f9ea['_cookie']&&_0x46b248,_0x43c880=this['areaLights'+'Enabled']&&_0x40f9ea['shape']!==Tt,_0x398f47=this['shadowsEna'+'bled']&&_0x40f9ea['castShadow'+'s']&&_0x46b248,_0x31b05b=_0x40f9ea['_node']['getPositio'+'n']();let _0x4e853b=null,_0x2c91c8=null;_0x4b3321?_0x398f47?_0x4e853b=_0x40f9ea['getRenderD'+'ata'](null,0x5*-0xe2+-0x1b57+-0x2e3*-0xb)['shadowMatr'+'ix']:_0x4949fa&&(_0x4e853b=Ia['evalSpotCo'+'okieMatrix'](_0x40f9ea)):(_0x398f47||_0x4949fa)&&(_0x2c91c8=_0x40f9ea['atlasViewp'+'ort']);const _0x5ebf43=this['lights8'],_0x37627d=_0x28b01b*this['lightsText'+'ure8']['width']*(0x1*0x8e4+0x1274+-0x1b54);this['addLightDa'+'taFlags'](_0x5ebf43,_0x37627d+(0xf3a+-0x1fd6*0x1+0x10a0)*vr['FLAGS'],_0x40f9ea,_0x4b3321,_0x398f47,_0x40f9ea['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x5ebf43,_0x37627d+(0x5*0x72b+0x38e+-0x2761)*vr['COLOR_A'],_0x40f9ea,_0x4949fa),_0x4b3321&&this['addLightDa'+'taSpotAngl'+'es'](_0x5ebf43,_0x37627d+(0x8*-0x4a5+-0xf52+0x2*0x1a3f)*vr['SPOT_ANGLE'+'S'],_0x40f9ea),_0x40f9ea['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x5ebf43,_0x37627d+(-0x44a*-0x1+0x7fa+-0xc40)*vr['SHADOW_BIA'+'S'],_0x40f9ea),_0x4949fa&&this['addLightDa'+'taCookies'](_0x5ebf43,_0x37627d+(0x1*-0x1efb+0x3f4*0x8+-0x1*0xa1)*vr['COOKIE_A'],_0x40f9ea);const _0x5b5e20=this['lightsFloa'+'t'],_0x43c2c0=_0x28b01b*this['lightsText'+'ureFloat']['width']*(-0x18d*0x1+0xd7c*-0x1+0xf0d);if(_0x5b5e20[_0x43c2c0+(0x121b+-0x1a49+0x832)*pt['POSITION_R'+'ANGE']+(0x233e+0x1*0x7d1+-0x2b0f)]=_0x31b05b['x'],_0x5b5e20[_0x43c2c0+(0x1*-0x1e43+-0xed+0x1*0x1f34)*pt['POSITION_R'+'ANGE']+(-0x2b1*0x1+-0x1b*-0x40+0x207*-0x2)]=_0x31b05b['y'],_0x5b5e20[_0x43c2c0+(-0xf20+-0x11ae*-0x1+0x41*-0xa)*pt['POSITION_R'+'ANGE']+(-0x126f+0x11+0x70*0x2a)]=_0x31b05b['z'],_0x5b5e20[_0x43c2c0+(0x25c1+0x15*-0x192+-0x4c3)*pt['POSITION_R'+'ANGE']+(0x2*-0x463+0x2*0xd22+-0xb3*0x19)]=_0x40f9ea['attenuatio'+'nEnd'],_0x4b3321&&(this['getSpotDir'+'ection'](is,_0x40f9ea),_0x5b5e20[_0x43c2c0+(-0x9d4*0x3+0x223b+-0x4bb)*pt['SPOT_DIREC'+'TION']+(-0x1939*0x1+0x61b*-0x5+0x37c0)]=is['x'],_0x5b5e20[_0x43c2c0+(-0x3*0xa60+-0x1fba+0x3ede)*pt['SPOT_DIREC'+'TION']+(-0xb5*-0x2+-0x2254+0x20eb)]=is['y'],_0x5b5e20[_0x43c2c0+(0x815*0x3+-0x4a4+0x1*-0x1397)*pt['SPOT_DIREC'+'TION']+(0x44*0x5f+0x1*-0x22ed+0xbf*0xd)]=is['z']),_0x4e853b){const _0x2f21a6=_0x4e853b['data'];for(let _0x12f0f8=0x1b3f+0x1d*0xe7+-0x1*0x356a;_0x12f0f8<-0x12db+0x264+0x1087;_0x12f0f8++)_0x5b5e20[_0x43c2c0+(-0x5c5+-0x208*-0x6+-0x667)*pt['PROJ_MAT_0']+_0x12f0f8]=_0x2f21a6[_0x12f0f8];}if(_0x2c91c8&&(_0x5b5e20[_0x43c2c0+(-0x1a6+-0x1*0x551+0x6fb)*pt['ATLAS_VIEW'+'PORT']+(-0xda7+0x2123+-0x3a*0x56)]=_0x2c91c8['x'],_0x5b5e20[_0x43c2c0+(0xacf*-0x2+-0x1e9*0x2+0xcba*0x2)*pt['ATLAS_VIEW'+'PORT']+(0x1c48+-0x1*-0x13dc+-0x3023)]=_0x2c91c8['y'],_0x5b5e20[_0x43c2c0+(0xa9*0x28+0xc34*0x1+-0x4c*0x82)*pt['ATLAS_VIEW'+'PORT']+(-0x2294+0x18e*0x1+0x2108)]=_0x2c91c8['z']/(0x3*0x9f5+-0x18ea*-0x1+-0x36c6)),_0x43c880){const _0x449698=this['getLightAr'+'eaSizes'](_0x40f9ea);_0x5b5e20[_0x43c2c0+(-0x21f9*0x1+0xd5a+-0x24b*-0x9)*pt['AREA_DATA_'+'WIDTH']+(-0x8ad*-0x3+0x12b3+-0x2cba)]=_0x449698[0x1f27+-0x3ad+-0x1b7a],_0x5b5e20[_0x43c2c0+(0x3*0x588+-0x2*-0x1203+-0x1a4d*0x2)*pt['AREA_DATA_'+'WIDTH']+(0xb*0x4d+-0x6d*0x37+0x13*0x10f)]=_0x449698[-0x1e2*-0xb+0x2248+-0x36fd*0x1],_0x5b5e20[_0x43c2c0+(0x95a+-0x1fee+0xb4c*0x2)*pt['AREA_DATA_'+'WIDTH']+(-0x206+0x1a7e+-0x1876)]=_0x449698[-0x19f3+0x82*0x1b+0xc3f],_0x5b5e20[_0x43c2c0+(-0x1744*0x1+-0x1*-0x210b+-0x341*0x3)*pt['AREA_DATA_'+'HEIGHT']+(-0xe4b*0x2+0x265e+-0x9c8)]=_0x449698[0x1759+0x10f0+-0x407*0xa],_0x5b5e20[_0x43c2c0+(-0x2377*0x1+-0x8d2+0x1*0x2c4d)*pt['AREA_DATA_'+'HEIGHT']+(0x25b1+-0x4ed+0x20c3*-0x1)]=_0x449698[-0x1fea+-0x1f50+0x3f3e],_0x5b5e20[_0x43c2c0+(0x2ca+-0x1282+0xfbc)*pt['AREA_DATA_'+'HEIGHT']+(0x121b+-0x88c*0x4+0x3*0x55d)]=_0x449698[-0xb80+-0x2288+0x2e0d];}}}const Ll=new A(),Fl=new A(),kl=new A(),Ed=new ve(),n_=-0x7d4+0x13c7+-0xbf3+0.000001,a_=-0x1ae0+-0x2b6+0x16cb*0x2;class o_{constructor(){this['light']=null,this['min']=new A(),this['max']=new A();}}class Hu{constructor(_0x46afd9){c(this,'clusterTex'+'ture'),(this['device']=_0x46afd9,this['name']='Untitled',this['reportCoun'+'t']=0xcd6+0xae0*-0x2+0x8ea,this['boundsMin']=new A(),this['boundsMax']=new A(),this['boundsDelt'+'a']=new A(),this['_cells']=new A(-0x89*0x11+0xc01*-0x1+0x151b*0x1,-0x1c00+-0x1d38+0x3939,0x1*-0x1c21+0x1*-0x1043+0x5*0x8e1),this['_cellsLimi'+'t']=new A(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x3b3*0x7+0x1760+-0x3141,this['_maxAttenu'+'ation']=-0xf98+-0xfa1*-0x1+-0x9,this['_maxColorV'+'alue']=-0xa*-0x7e+0xe*-0xd+-0x436,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new o_()),this['lightsBuff'+'er']=new C0(_0x46afd9),this['registerUn'+'iforms'](_0x46afd9));}set['maxCellLig'+'htCount'](_0x5236e8){_0x5236e8!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x5236e8,this['_cellsDirt'+'y']=!(-0x59*0x4a+-0x25a0+-0x1dd*-0x22));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0xddd685){Ll['copy'](_0xddd685)['floor'](),this['_cells']['equals'](Ll)||(this['_cells']['copy'](Ll),this['_cellsLimi'+'t']['copy'](Ll)['sub'](A['ONE']),this['_cellsDirt'+'y']=!(-0x1*-0x180e+-0x2394+0xb86));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x2e6672){this['_clusterSk'+'ipId']=_0x2e6672['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x2e6672['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x2e6672['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x2e6672['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(-0x220c*0x1+-0x2512+-0x1*-0x4721),this['_clusterBo'+'undsMinId']=_0x2e6672['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x245f*-0x1+0x614*0x3+0x1226),this['_clusterBo'+'undsDeltaI'+'d']=_0x2e6672['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x2e6+-0x1ffb+0x22e4),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x2e6672['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x8d*-0x1d+0xae2+-0x6b6*0x4),this['_clusterCe'+'llsDotId']=_0x2e6672['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x137f+0x5*0x4b6+0x2*-0x1585),this['_clusterCe'+'llsMaxId']=_0x2e6672['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x1*-0x99f+0x26e0+-0x1d3e),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x2e6672['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(0x4ff*-0x6+0x2c3*0xb+-0x65*0x1);}['updatePara'+'ms'](_0x1e8ce0){_0x1e8ce0&&(this['cells']=_0x1e8ce0['cells'],this['maxCellLig'+'htCount']=_0x1e8ce0['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x1e8ce0['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x1e8ce0['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x1e8ce0['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x14d3+-0x1c7e+0x3b*0xd6);const _0x40d414=this['_cells']['x'],_0x39b5a1=this['_cells']['y'],_0x252a7a=this['_cells']['z'],_0x4e2495=_0x40d414*_0x39b5a1*_0x252a7a,_0x1058da=this['maxCellLig'+'htCount']*_0x4e2495;let _0x21584c=Math['ceil'](Math['sqrt'](_0x1058da));_0x21584c=z['roundUp'](_0x21584c,this['maxCellLig'+'htCount']);const _0x15c602=Math['ceil'](_0x1058da/_0x21584c);b['assert'](_0x21584c<=a_&&_0x15c602<=a_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x14b*-0x11+0xf30+0x252b*-0x1]=_0x40d414,this['_clusterCe'+'llsMaxData'][-0x1ffd+0x2315+-0x1*0x317]=_0x39b5a1,this['_clusterCe'+'llsMaxData'][-0x113*-0xd+-0x103*0x1c+0xe5f]=_0x252a7a,this['_clusterCe'+'llsDotData'][-0x1*-0xc64+0x26f4+-0x3358]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x11*-0x1da+-0x11*-0xb9+-0x9*-0x222]=_0x40d414*_0x252a7a*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x1*0x2135+0x1*-0x1fa2+0x40d9]=_0x40d414*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x1058da),this['counts']=new Int32Array(_0x4e2495),this['_clusterTe'+'xtureSizeD'+'ata'][-0x1*-0xdc7+-0x240c+0x1645]=_0x21584c,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1*0x135d+-0x98*-0x30+-0x922]=(-0x227+0x1343+0x111b*-0x1)/_0x21584c,this['_clusterTe'+'xtureSizeD'+'ata'][0xefb+-0xbba+0x3*-0x115]=(-0x1*0xfcc+0x1006+-0x39)/_0x15c602,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x21584c,_0x15c602,ap,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0xc2f+-0x61*-0x4b+-0x2899*0x1?-0x232e+0x210d+0x5*0x6d:0x11fb*-0x1+0x1cd*-0xc+-0xb5*-0x38),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x4a6364=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x257f+-0x7a5+-0x1dda]=this['_cells']['x']/_0x4a6364['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x21c5+0x1993+-0x833*-0x1]=this['_cells']['y']/_0x4a6364['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x31*-0x9d+-0x1*0x412+0x1*0x2221]=this['_cells']['z']/_0x4a6364['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x2*-0x1177+0x2407+-0x1*0x119]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x1*-0xa43+-0x1*-0x41+0xd*-0xcf]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0xa9e+-0x5*-0x427+-0x1f5f]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0xb28+-0x1*-0x1884+-0x23ac]=_0x4a6364['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0xd99*-0x2+0x4e*0x1f+0x11c1]=_0x4a6364['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x10a7+-0x26f7+0x10*0x37a]=_0x4a6364['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x119*0x15+0x4e*0x1f+0x51*0x2b]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0x23f3+-0x265+-0x218d]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x55a619,_0x36daee,_0x3de442){_0x36daee['copy'](_0x55a619['min']),_0x36daee['sub'](this['boundsMin']),_0x36daee['div'](this['boundsDelt'+'a']),_0x36daee['mul2'](_0x36daee,this['cells']),_0x36daee['floor'](),_0x3de442['copy'](_0x55a619['max']),_0x3de442['sub'](this['boundsMin']),_0x3de442['div'](this['boundsDelt'+'a']),_0x3de442['mul2'](_0x3de442,this['cells']),_0x3de442['ceil'](),_0x36daee['max'](A['ZERO']),_0x3de442['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x255113){const _0x3c49d3=this['lightsBuff'+'er']['maxLights'],_0x323906=this['_usedLight'+'s'];let _0x1f163b=0x98b*0x2+-0x6ce+-0xc47;_0x255113['forEach'](_0x5b1291=>{const _0x2490cc=!!(_0x5b1291['mask']&(ms|dr)),_0x505732=_0x5b1291['type']===Fe&&_0x5b1291['_outerCone'+'Angle']===0x1*-0x1c43+0x1*-0xe39+0x153e*0x2;if(_0x5b1291['enabled']&&_0x5b1291['type']!==le&&_0x5b1291['visibleThi'+'sFrame']&&_0x5b1291['intensity']>0xd*0x1bb+-0x46f*-0x1+0x1aee*-0x1&&_0x2490cc&&!_0x505732){if(_0x1f163b<_0x3c49d3){let _0x4ecbbe;_0x1f163b<_0x323906['length']?_0x4ecbbe=_0x323906[_0x1f163b]:(_0x4ecbbe=new o_(),_0x323906['push'](_0x4ecbbe)),_0x4ecbbe['light']=_0x5b1291,_0x5b1291['getBoundin'+'gBox'](Ed),_0x4ecbbe['min']['copy'](Ed['getMin']()),_0x4ecbbe['max']['copy'](Ed['getMax']()),_0x1f163b++;}else b['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x3c49d3-(-0x26d1+-0x15f2+-0xf31*-0x4))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x323906['length']=_0x1f163b;}['evaluateBo'+'unds'](){const _0x4b68bc=this['_usedLight'+'s'],_0x4c0eb0=this['boundsMin'],_0x50118f=this['boundsMax'];if(_0x4b68bc['length']>-0x886*-0x4+-0x4*-0x11d+-0x268b){_0x4c0eb0['copy'](_0x4b68bc[0x113c+-0x184*0x10+0x705]['min']),_0x50118f['copy'](_0x4b68bc[0x2095*-0x1+-0x773+0x2809]['max']);for(let _0x58d9fb=0x51b*-0x1+0x531+0xa*-0x2;_0x58d9fb<_0x4b68bc['length'];_0x58d9fb++)_0x4c0eb0['min'](_0x4b68bc[_0x58d9fb]['min']),_0x50118f['max'](_0x4b68bc[_0x58d9fb]['max']);}else _0x4c0eb0['set'](-0x69b+-0x1127+-0x2*-0xbe1,-0xfcb+-0x23af+0x337a,0x16fa+-0x6b9+-0xdb*0x13),_0x50118f['set'](0x5db*-0x6+-0x9b4+0xd*0x373,-0x21*-0x29+-0x1*-0x6e6+-0x617*0x2,-0x2631*0x1+0x45*0x7f+-0x7*-0x91);this['boundsDelt'+'a']['sub2'](_0x50118f,_0x4c0eb0),this['lightsBuff'+'er']['setBounds'](_0x4c0eb0,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x579b1e=0x2123+-0x1e0c*0x1+-0x317,_0x47a158=-0x874+0x52e+0x346*0x1;const _0x357db1=this['_usedLight'+'s'];for(let _0x2efa10=-0x42d*-0x8+0x6f3+0x285a*-0x1;_0x2efa10<_0x357db1['length'];_0x2efa10++){const _0x5a4d8f=_0x357db1[_0x2efa10]['light'];_0x579b1e=Math['max'](_0x5a4d8f['attenuatio'+'nEnd'],_0x579b1e);const _0x1d94c6=_0x5a4d8f['_colorLine'+'ar'];_0x47a158=Math['max'](_0x1d94c6[0x1ba0+0x1*0x335+-0x1ed5],_0x47a158),_0x47a158=Math['max'](_0x1d94c6[0x70a*-0x2+-0x2*-0x1387+0x18f9*-0x1],_0x47a158),_0x47a158=Math['max'](_0x1d94c6[-0x110d+-0x285+0x1394],_0x47a158);}this['_maxAttenu'+'ation']=_0x579b1e+n_,this['_maxColorV'+'alue']=_0x47a158+n_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0xa1e94a){this['counts']['fill'](-0x1*-0x8ef+-0x1cf+0x39*-0x20),this['clusters']['fill'](0x16b*-0xf+-0xc4e+0x2193),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0xa1e94a?_0xa1e94a['areaLights'+'Enabled']:!(-0x2*0xf47+-0x3d0*0x4+0x2dcf);const _0x141a58=this['_cells']['x'],_0x3d4780=this['_cells']['z'],_0x4e3636=this['counts'],_0x193e4d=this['_maxCellLi'+'ghtCount'],_0xc1265e=this['clusters'],_0x4b4d0f=this['maxCellLig'+'htCount'];let _0xad21be=!(0x21cc+0x16a9*-0x1+0x72*-0x19);const _0x2dce7f=this['_usedLight'+'s'];for(let _0x37d4a6=-0x64e+0xb4c+-0x4fd*0x1;_0x37d4a6<_0x2dce7f['length'];_0x37d4a6++){const _0x2340d4=_0x2dce7f[_0x37d4a6],_0x241271=_0x2340d4['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x241271,_0x37d4a6),this['evalLightC'+'ellMinMax'](_0x2340d4,Fl,kl);const _0x9f73ab=Fl['x'],_0x5bc268=kl['x'],_0x594d4b=Fl['y'],_0x1f6299=kl['y'],_0x45aec7=Fl['z'],_0x42440d=kl['z'];for(let _0x25fddd=_0x9f73ab;_0x25fddd<=_0x5bc268;_0x25fddd++)for(let _0x72ee05=_0x45aec7;_0x72ee05<=_0x42440d;_0x72ee05++)for(let _0x38528d=_0x594d4b;_0x38528d<=_0x1f6299;_0x38528d++){const _0x4239a6=_0x25fddd+_0x141a58*(_0x72ee05+_0x38528d*_0x3d4780),_0x38f3f3=_0x4e3636[_0x4239a6];_0x38f3f3<_0x193e4d?(_0xc1265e[_0x4b4d0f*_0x4239a6+_0x38f3f3]=_0x37d4a6,_0x4e3636[_0x4239a6]=_0x38f3f3+(0x1564*-0x1+0x1*-0xb5a+0x20bf)):_0xad21be=!(-0x2*0x22c+-0x86*-0x1+-0xa3*-0x6);}}_0xad21be&&this['reportCoun'+'t']<0x1f05+0x2507+-0x4407&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x17*0x82+0x26f8+0x32a2*-0x1?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0xc63d23,_0x292e6f=null){this['updatePara'+'ms'](_0x292e6f),this['updateCell'+'s'](),this['collectLig'+'hts'](_0xc63d23),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0x292e6f),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const l_=0x24e6+-0x1918+0x2*-0x5e6+0.39996322972865306,ul={'circlePoint'(_0x50e199){const _0x13d51a=Math['sqrt'](Math['random']()),_0x5e334a=Math['random']()*(0x3bc+-0x1ff1*-0x1+-0x23ab)*Math['PI'];_0x50e199['x']=_0x13d51a*Math['cos'](_0x5e334a),_0x50e199['y']=_0x13d51a*Math['sin'](_0x5e334a);},'circlePointDeterministic'(_0x5769e7,_0x466ac1,_0x1ee45e){const _0x17396c=_0x466ac1*l_,_0x3472de=Math['sqrt'](_0x466ac1)/Math['sqrt'](_0x1ee45e);_0x5769e7['x']=_0x3472de*Math['cos'](_0x17396c),_0x5769e7['y']=_0x3472de*Math['sin'](_0x17396c);},'spherePointDeterministic'(_0x4b4b47,_0x581ee9,_0xaa5576,_0x233726=0xba3+0x37*0x7+-0xd24,_0x15e8a5=0x5d8+0xc2*-0x1f+0x11a7*0x1){_0x233726=-0xf4e+0x5*0x655+0x82d*-0x2-(-0x455*0x1+-0x2b6*0x4+0xf2f)*_0x233726,_0x15e8a5=0x1*0x18eb+0x58f*-0x3+-0x83d-(0x7c+-0x13d2+0x1358)*_0x15e8a5;const _0x40852a=z['lerp'](_0x233726,_0x15e8a5,_0x581ee9/_0xaa5576),_0x2fe62e=Math['sqrt'](0xf80+-0x4de+-0xaa1-_0x40852a*_0x40852a),_0x2c73fb=l_*_0x581ee9;_0x4b4b47['x']=Math['cos'](_0x2c73fb)*_0x2fe62e,_0x4b4b47['y']=_0x40852a,_0x4b4b47['z']=Math['sin'](_0x2c73fb)*_0x2fe62e;},'radicalInverse'(_0x5bbacb){let _0x4b3677=(_0x5bbacb<<-0x1a19+0xd2b+-0x67f*-0x2|_0x5bbacb>>>-0xcc4+0xbfb*-0x2+-0x11*-0x22a)>>>-0x2*0x31d+-0x11*0x1df+0x2609;return _0x4b3677=((_0x4b3677&0xaa2ce6cc+-0x3409cd*0x2b+-0x6*0xcaefcac)<<-0x248e+-0x2453+0x48e2*0x1|(_0x4b3677&-0x110c9ca62*0x1+0x1014f5b05+-0x1a979601*-0x7)>>>0xd9*0x18+0xb*-0x28f+0x7ce)>>>-0xbd1+0x1c40+-0x106f,_0x4b3677=((_0x4b3677&0x60ab624b+-0x3b7c3182+0x4ac00ce*0x3)<<0xb8*-0x26+-0x5d2+0x2124|(_0x4b3677&0x13f44cedc+-0x1bbbbd*0xb1a+-0xdd0ba27*-0xe)>>>-0x6d*0x49+0x1891+-0x14e*-0x5)>>>-0x110f*-0x1+-0xa76+-0x1*0x699,_0x4b3677=((_0x4b3677&0x10f6ca11+-0x3aee821+0x1c72d1f)<<-0x836+0x235d+0x1b23*-0x1|(_0x4b3677&-0x2*0x9f61b29c+-0xd450a470+0x30404fa98)>>>0x824+-0x158*-0x18+-0x1*0x2860)>>>-0x2497+0x120*0x9+0x1a77,_0x4b3677=((_0x4b3677&-0x18c1*0xe57+0x39d512+0x2282384)<<0xe*0x1c0+-0xfa7+-0x8d1|(_0x4b3677&-0x11612e*0x1d09+-0x40074d5*-0x71+0x1336c0d99)>>>0x1abc+-0x2ae+-0x1e*0xcd)>>>0x399*-0x2+0x125f*0x1+-0xb2d,_0x4b3677*(-0x1*0x1973+0x2ed+0x1686+2.3283064365386963e-10);}},yC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},xC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Ds{static['decodeFunc'](_0x2ecc3a){return yC[_0x2ecc3a]||'decodeGamm'+'a';}static['encodeFunc'](_0x4d68b0){return xC[_0x4d68b0]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x2fe1a6,_0x2931ed){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x2931ed['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x2fe1a6['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+j['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const h_=_0x15b06e=>{switch(_0x15b06e){case Pu:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Ol=(_0x4be436,_0x323382,_0x2bbba7)=>{if(_0x4be436<=0x1e4f+-0x25f7+0x5*0x188)_0x323382[_0x2bbba7+(0x21d5+0x1c79+-0x3e4e)]=0x1a23*0x1+0x147a+-0x2e9d,_0x323382[_0x2bbba7+(-0x213c+0x39*0x49+0x43f*0x4)]=-0x4df+-0x4*-0x9b6+-0x21f9,_0x323382[_0x2bbba7+(-0x1a*-0x107+-0x6*0xca+-0x4*0x57e)]=-0x4b3+-0x1*-0x72f+-0x27c,_0x323382[_0x2bbba7+(-0x17a1+-0x2b7*-0x3+0xf7f)]=-0x10e+0x2e7*-0x1+0x3f5;else{if(_0x4be436>=-0x240f*0x1+-0x1be*-0xb+-0x6*-0x2d1)_0x323382[_0x2bbba7+(0x1*-0xc32+-0x1*0x1f81+0x2bb3)]=-0x49*0x5+-0x61a*-0x1+-0x9d*0x6,_0x323382[_0x2bbba7+(-0x3*0x511+0x1013+-0xdf)]=-0x12c5+0xe5*0xb+0x8ee,_0x323382[_0x2bbba7+(-0x479*-0x1+0x23bc+-0x29*0xfb)]=0x2*0x6d3+0x2ba*0xe+0x9*-0x5c2,_0x323382[_0x2bbba7+(-0xc*0x122+-0x1ab5+-0x3c*-0xac)]=0x199e+0x1*0x2645+-0xcc7*0x5;else{let _0x306cb4=(-0xf80+0x662+-0x91f*-0x1)*_0x4be436%(-0xc8e+0x20b0*-0x1+0x15f*0x21),_0x3811f7=(-0x13*-0xb7+-0x49*0xc+-0x30e*0x3)*_0x4be436%(0x12af*0x2+0x3*0xb56+-0x475f*0x1),_0x3d4197=(0xb1b+0x16fd9+-0x44f*0x1d)*_0x4be436%(0x1*-0x1f93+0x3d5*-0x9+-0x1*-0x4211);const _0x3f4e07=(0x10e9bb+-0xa7edd8+0x125d6a*0x16)*_0x4be436%(0x122f+-0x2ea*0xa+0xaf6*0x1);_0x306cb4-=_0x3811f7/(-0x36*-0xa7+0x1453+-0x368e),_0x3811f7-=_0x3d4197/(0x77c+0x2f*-0x65+0x607*0x2),_0x3d4197-=_0x3f4e07/(-0xfe6*0x2+0x121+0x1faa),_0x323382[_0x2bbba7+(0x8db+0x80a+-0x10e5*0x1)]=Math['min'](0x227*0x1+-0x1050+-0xa*-0x184,Math['floor'](_0x306cb4*(0x2*-0x10cc+-0x1*-0x23c2+-0x12a))),_0x323382[_0x2bbba7+(-0x1*0x1a3d+-0xbe8+0x26*0x101)]=Math['min'](0x17c9*-0x1+0x2576+0x657*-0x2,Math['floor'](_0x3811f7*(-0x1*-0x24df+0x110b+-0x34ea))),_0x323382[_0x2bbba7+(0x1*-0x5a8+-0x102*0x15+0x1ad4)]=Math['min'](0xc7*0x25+0xebd+-0x2a81,Math['floor'](_0x3d4197*(0x15ab+0x2e*0x41+0x49f*-0x7))),_0x323382[_0x2bbba7+(-0x1c1a+-0x1*-0x1f88+-0x23*0x19)]=Math['min'](0x1b7f+0x2*0x76a+-0x2954,Math['floor'](_0x3f4e07*(-0x1*0xfb5+-0x1a4c+0x2b01)));}}},SC=_0x227e88=>{const _0x53e0b8=_0x227e88['length'],_0x240322=Math['min'](_0x53e0b8,-0x1401+-0x11*-0x114+0x3ad*0x1),_0x38c6bd=Math['ceil'](_0x53e0b8/_0x240322),_0x1b15f5=new Uint8Array(_0x240322*_0x38c6bd*(0x1822+0x477+0x32d*-0x9));let _0x1c399d=-0x4d8+-0x19a1+0x1e79;for(let _0x5ce82f=0xa70+-0x10eb*-0x1+-0x1b5b;_0x5ce82f<_0x53e0b8;_0x5ce82f+=0x1*0x2474+0x8d1*0x2+0x903*-0x6)Ol(_0x227e88[_0x5ce82f+(-0x1*0x11a4+0x1780+0x5dc*-0x1)]*(0xb18+-0x1*-0x2452+-0xee*0x33+0.5)+(0x25f2+0x558*-0x6+-0x5e2+0.5),_0x1b15f5,_0x1c399d+(-0x1*-0xa3d+-0x13b+-0x902)),Ol(_0x227e88[_0x5ce82f+(0x67a+-0x838+0x1bf)]*(-0x36b+0x99c+-0x631+0.5)+(-0x4c0*-0x1+-0x13b7+0xef7+0.5),_0x1b15f5,_0x1c399d+(0x2*-0x30c+0x2297+-0x1c7b)),Ol(_0x227e88[_0x5ce82f+(-0x258+-0x6c9+0x923)]*(-0x580+0x860+-0x2e0+0.5)+(-0x2e9+0x1218+0x1*-0xf2f+0.5),_0x1b15f5,_0x1c399d+(0xbc6+-0x28c*0x2+-0x6a6)),Ol(_0x227e88[_0x5ce82f+(0x80d+0xaff*0x1+0x1309*-0x1)]/(-0x9c2+0x1412+0x8*-0x149),_0x1b15f5,_0x1c399d+(0x4*0x41c+-0xdc0+0x152*-0x2)),_0x1c399d+=-0x1fe8+-0x2461+0x4459*0x1;return{'width':_0x240322,'height':_0x38c6bd,'data':_0x1b15f5};},vC=(_0x5a0247,_0x5abad6,_0x5a7dc4,_0xa901ba)=>{const _0x1988dc=_0x5a7dc4*(-0x4b*-0x11+-0x1f*-0xed+-0x6bc*0x5)*Math['PI'],_0x292926=Math['pow'](0x25d2*0x1+0x6*-0x4b2+0x1*-0x9a5-_0x5abad6,(-0xe05+0x374*0x8+-0xd9a)/(_0xa901ba+(0x7*0x255+0x82a+-0x187c))),_0xb83a01=Math['sqrt'](0x417+0x1*-0x832+0x41c-_0x292926*_0x292926);_0x5a0247['set'](Math['cos'](_0x1988dc)*_0xb83a01,Math['sin'](_0x1988dc)*_0xb83a01,_0x292926)['normalize']();},bC=(_0x1c05f0,_0x598d05,_0xcf0fa3)=>{const _0x4ff781=_0xcf0fa3*(-0x1b9f+-0x265*-0x6+0xd43)*Math['PI'],_0x3acbe8=Math['sqrt'](0x144f+-0x22d7+0xe89*0x1-_0x598d05),_0xc477dc=Math['sqrt'](_0x598d05);_0x1c05f0['set'](Math['cos'](_0x4ff781)*_0xc477dc,Math['sin'](_0x4ff781)*_0xc477dc,_0x3acbe8)['normalize']();},wC=(_0x2bd060,_0x46b2ad,_0x1565d4,_0x4e09c3)=>{const _0x38dea4=_0x1565d4*(0x1c9b+0x1*0x13e5+-0x307e)*Math['PI'],_0x456ec0=Math['sqrt']((0x1*-0x1a3f+-0x1*0x80+-0x6b0*-0x4-_0x46b2ad)/(0x24a3+-0x7a*-0x5+-0x2704+(_0x4e09c3*_0x4e09c3-(0xe3*0x3+-0x110a+-0x1*-0xe62))*_0x46b2ad)),_0x406b03=Math['sqrt'](-0x20dd+0x142*-0x1d+0x4558-_0x456ec0*_0x456ec0);_0x2bd060['set'](Math['cos'](_0x38dea4)*_0x406b03,Math['sin'](_0x38dea4)*_0x406b03,_0x456ec0)['normalize']();},TC=(_0x1470d6,_0x424495)=>{const _0x373ab2=_0x1470d6*_0x424495,_0x59e3ca=_0x424495/(0x1edb*0x1+0xca9+-0x2b83-_0x1470d6*_0x1470d6+_0x373ab2*_0x373ab2);return _0x59e3ca*_0x59e3ca*((-0x199*-0x1+-0x5d8*-0x6+0x44*-0x8a)/Math['PI']);},AC=(_0x1f6f35,_0x421592)=>{const _0x155fe1=new A(),_0x22cbf=[];for(let _0x3325e5=0x123f+-0x1b*-0x16d+-0x38be;_0x3325e5<_0x1f6f35;++_0x3325e5)vC(_0x155fe1,_0x3325e5/_0x1f6f35,ul['radicalInv'+'erse'](_0x3325e5),_0x421592),_0x22cbf['push'](_0x155fe1['x'],_0x155fe1['y'],_0x155fe1['z'],0x6d*0x43+-0x2194+0x50d);return _0x22cbf;},EC=(_0x11630c,_0x361e3d)=>{const _0x101598=_0x361e3d/_0x11630c,_0x418f3f=new A(),_0xee7c2e=[];for(let _0x2f0eea=0x1e06+-0x1dce+-0x1c*0x2;_0x2f0eea<_0x11630c;++_0x2f0eea){bC(_0x418f3f,_0x2f0eea/_0x11630c,ul['radicalInv'+'erse'](_0x2f0eea));const _0x3ae0db=_0x418f3f['z']/Math['PI'],_0x29b40b=(-0x104d+0x390+0xcbd*0x1+0.5)*Math['log2'](_0x101598/_0x3ae0db);_0xee7c2e['push'](_0x418f3f['x'],_0x418f3f['y'],_0x418f3f['z'],_0x29b40b);}return _0xee7c2e;},CC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},MC=(_0x4044e6,_0xb12d0e)=>{const _0x2d5a66=CC[_0x4044e6];return _0x2d5a66&&_0x2d5a66[_0xb12d0e]||_0x4044e6;},PC=(_0x273b73,_0x5d4cca,_0x2d8e45)=>{const _0x1db5c2=_0x2d8e45/_0x273b73,_0x173ccd=-0x1d79+0xf4e+0x2*0x716-Math['log2'](_0x5d4cca)/(-0x14d6*-0x1+-0x5*0x40b+-0x1*0x94),_0x19d5e0=_0x173ccd*_0x173ccd,_0x20e3ff=new A(),_0x115137=new A(),_0x15e095=new A(0x218b+0xdcb*0x1+0x92*-0x53,-0x15c7+-0xcff+0x22c6,0x1031*-0x2+0xe*0x11b+0x10e9),_0x4d0c31=[],_0x28ad55=MC(_0x273b73,_0x5d4cca);for(let _0x1caa03=-0x1741*0x1+-0x1fab+0x36ec;_0x1caa03<_0x28ad55;++_0x1caa03){wC(_0x20e3ff,_0x1caa03/_0x28ad55,ul['radicalInv'+'erse'](_0x1caa03),_0x19d5e0);const _0x5e8239=_0x20e3ff['z'];if(_0x115137['set'](_0x20e3ff['x'],_0x20e3ff['y'],_0x20e3ff['z'])['mulScalar']((0xcbe+-0x207+0xab5*-0x1)*_0x5e8239)['sub'](_0x15e095),_0x115137['z']>0x7b*-0x49+-0x1aa3+-0x1edb*-0x2){const _0x46e823=TC(Math['min'](-0x3fb+0x295+-0x167*-0x1,_0x5e8239),_0x19d5e0)/(0x1ed2+0x3*0x571+-0x27b*0x13)+(0x4*0x6b9+0x121d*-0x2+-0x4ab*-0x2+0.001),_0x1fe5dd=(0x6d*0x36+-0x1629+-0xd5+0.5)*Math['log2'](_0x1db5c2/_0x46e823);_0x4d0c31['push'](_0x115137['x'],_0x115137['y'],_0x115137['z'],_0x1fe5dd);}}for(;_0x4d0c31['length']<_0x273b73*(-0x22ae+-0x21fa+0x24a*0x1e);)_0x4d0c31['push'](-0x1d20+0x1f*-0x1f+0x13*0x1bb,-0x160c*-0x1+0x2644+-0x1*0x3c50,0x6d*0x53+-0x1c6*-0xf+-0x3df1,-0x1*-0x1eb0+0x2*0xde3+-0x3a76);return _0x4d0c31;},RC=(_0x513029,_0x22fc66,_0x298682)=>{const _0x4e2e78=SC(_0x298682);return new ce(_0x513029,{'name':_0x22fc66,'width':_0x4e2e78['width'],'height':_0x4e2e78['height'],'mipmaps':!(-0x23ef*-0x1+0x1790+-0x3b7e),'minFilter':fe,'magFilter':fe,'levels':[_0x4e2e78['data']]});};class M0{constructor(_0x2f3a77=!(-0x4*-0x413+0xbf5*0x3+0x1*-0x342b)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x2f3a77;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x4cd8ff,_0x1db4e0)=>{_0x4cd8ff['destroy']();});}['get'](_0x809281,_0x144c20){if(!this['map']['has'](_0x809281)){const _0x153020=_0x144c20();return this['map']['set'](_0x809281,_0x153020),_0x153020;}return this['map']['get'](_0x809281);}}const IC=new M0(!(0x1686+-0x243c+0x1*0xdb7)),DC=new Ht(),Bp=(_0x1c276b,_0x1a5642,_0x5bb8aa)=>DC['get'](_0x1c276b,()=>new M0())['get'](_0x1a5642,()=>RC(_0x1c276b,_0x1a5642,IC['get'](_0x1a5642,_0x5bb8aa))),LC=(_0x7c369a,_0x26242d,_0x110a9c)=>{const _0x18f22a='lambert-sa'+'mples-'+_0x26242d+'-'+_0x110a9c;return Bp(_0x7c369a,_0x18f22a,()=>EC(_0x26242d,_0x110a9c));},FC=(_0x47d8d4,_0x480324,_0x388412)=>{const _0x48f1d9='phong-samp'+'les-'+_0x480324+'-'+_0x388412;return Bp(_0x47d8d4,_0x48f1d9,()=>AC(_0x480324,_0x388412));},kC=(_0x455530,_0x1aeb9a,_0x4ebf23,_0x48acae)=>{const _0x2520f3='ggx-sample'+'s-'+_0x1aeb9a+'-'+_0x4ebf23+'-'+_0x48acae;return Bp(_0x455530,_0x2520f3,()=>PC(_0x1aeb9a,_0x4ebf23,_0x48acae));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function ii(_0x165cbe,_0x9a5605,_0x3f42b2={}){var _0x3eb998,_0x10249c;b['assert'](_0x165cbe instanceof ce&&_0x9a5605 instanceof ce,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x5791ae=_0x3f42b2['seamPixels']??-0x1*0x2477+0x1*-0x100f+0x3486,_0x5926df=(((_0x3eb998=_0x3f42b2['rect'])==null?void(-0x1cef+0x1*-0x1879+-0x1*-0x3568):_0x3eb998['z'])??_0x9a5605['width'])-_0x5791ae*(0x1cf5*-0x1+-0x794+0x248b),_0x32d8fe=(((_0x10249c=_0x3f42b2['rect'])==null?void(0xe9c+-0x2bf*-0x1+-0x115b):_0x10249c['w'])??_0x9a5605['height'])-_0x5791ae*(-0x1*-0x81d+-0x1a63+0x1248);if(_0x5926df<0x16*-0xc0+0x2298+0x1217*-0x1||_0x32d8fe<-0x4e*-0x77+0xce4+-0x3125)return!(-0x14*-0x141+-0x5*0x440+-0x59*0xb);const _0x4705ec={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x2c1993=_0x3f42b2['hasOwnProp'+'erty']('specularPo'+'wer')?_0x3f42b2['specularPo'+'wer']:0x26a8+0x12c3*0x1+0x1cb5*-0x2,_0x29b297=_0x3f42b2['hasOwnProp'+'erty']('face')?_0x3f42b2['face']:null,_0xa5d2bf=_0x3f42b2['hasOwnProp'+'erty']('distributi'+'on')?_0x3f42b2['distributi'+'on']:_0x2c1993===0xfeb+-0x2*0x321+0x4*-0x26a?'none':'phong',_0x164bc4=_0x4705ec[_0xa5d2bf]||'reproject',_0x2343e1=_0x164bc4['startsWith']('prefilterS'+'amples'),_0x5e1240=Ds['decodeFunc'](_0x165cbe['encoding']),_0x4c1352=Ds['encodeFunc'](_0x9a5605['encoding']),_0x3c0049='sample'+h_(_0x165cbe['projection']),_0x23c492='getDirecti'+'on'+h_(_0x9a5605['projection']),_0x51ba9a=_0x3f42b2['hasOwnProp'+'erty']('numSamples')?_0x3f42b2['numSamples']:-0x18fc+0x1945+0x3*0x13d,_0xac2959=_0x164bc4+'_'+_0x5e1240+'_'+_0x4c1352+'_'+_0x3c0049+'_'+_0x23c492+'_'+_0x51ba9a,_0x309b80=_0x165cbe['device'];let _0x5be3bc=za(_0x309b80)['getCachedS'+'hader'](_0xac2959);if(!_0x5be3bc){const _0x46fd59='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x164bc4+'\x0a'+(_0x2343e1?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x165cbe['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x5e1240+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x4c1352+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x3c0049+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x23c492+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x51ba9a+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x51ba9a))['toFixed'](-0x74*0x26+-0x1334+0x246d)+'\x0a';_0x5be3bc=Bs(_0x309b80,OC,_0x46fd59+'\x0a'+j['reprojectP'+'S'],_0xac2959);}G['pushGpuMar'+'ker'](_0x309b80,'ReprojectT'+'exture'),_0x309b80['setBlendSt'+'ate'](bt['NOBLEND']);const _0x2cf11c=_0x309b80['scope']['resolve'](_0x165cbe['cubemap']?'sourceCube':'sourceTex');b['assert'](_0x2cf11c),_0x2cf11c['setValue'](_0x165cbe);const _0xb2060f=_0x309b80['scope']['resolve']('params'),_0x5effe6=_0x309b80['scope']['resolve']('uvMod');_0x5791ae>-0x85*0xd+0x2171*0x1+-0x1ab0?_0x5effe6['setValue']([(_0x5926df+_0x5791ae*(0x1c63+-0x388+-0x18d9))/_0x5926df,(_0x32d8fe+_0x5791ae*(0x19f0+0x2499+-0x1*0x3e87))/_0x32d8fe,-_0x5791ae/_0x5926df,-_0x5791ae/_0x32d8fe]):_0x5effe6['setValue']([-0x3b5*-0x1+0x5c*-0x17+-0x49*-0x10,0x1d*-0x5d+-0x398+0xe22*0x1,-0x3f9+0x44*0x16+-0x1df*0x1,0xd*-0xfb+-0x2243*0x1+0x2f02]);const _0x4feab8=[0x1f81+0x1723+-0x34*0x10d,_0x9a5605['width']*_0x9a5605['height']*(_0x9a5605['cubemap']?0x2*-0x423+-0x78*0x2f+0x1e54:0x79d+0x1409*-0x1+-0xc6d*-0x1),_0x165cbe['width']*_0x165cbe['height']*(_0x165cbe['cubemap']?0x67*-0x4a+0x1*-0x18d1+0x369d:0x5f3+0x49*0x53+0x43b*-0x7)];if(_0x2343e1){const _0x29d8ef=_0x165cbe['width']*_0x165cbe['height']*(_0x165cbe['cubemap']?-0x228+-0xc42+-0x134*-0xc:0x23b5+0x1eaf*0x1+0xd47*-0x5),_0x30c7d9=_0xa5d2bf==='ggx'?kC(_0x309b80,_0x51ba9a,_0x2c1993,_0x29d8ef):_0xa5d2bf==='lambert'?LC(_0x309b80,_0x51ba9a,_0x29d8ef):FC(_0x309b80,_0x51ba9a,_0x2c1993);_0x309b80['scope']['resolve']('samplesTex')['setValue'](_0x30c7d9),_0x309b80['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(-0x1c7a+0x1b*-0x10a+0x3889)/_0x30c7d9['width'],(0x263c+-0x4ec+0x1*-0x214f)/_0x30c7d9['height']]);}for(let _0x257fa5=0x29+0x4*-0x7d+0x1cb;_0x257fa5<(_0x9a5605['cubemap']?0x2381+0x1ea5+-0x4220:-0x1df9+0xb28+-0x92*-0x21);_0x257fa5++)if(_0x29b297===null||_0x257fa5===_0x29b297){const _0x1c482a=new St({'colorBuffer':_0x9a5605,'face':_0x257fa5,'depth':!(-0x1f3+-0x268e+0x11*0x262),'flipY':_0x309b80['isWebGPU']});_0x4feab8[-0x5*0x11b+-0x2*-0x125f+-0x1f37]=_0x257fa5,_0xb2060f['setValue'](_0x4feab8),fn(_0x309b80,_0x1c482a,_0x5be3bc,_0x3f42b2==null?void(0x1def+-0x10c9+-0xd26):_0x3f42b2['rect']),_0x1c482a['destroy']();}return G['popGpuMark'+'er'](_0x309b80),!(-0xa*0x21+0x2bd*-0xe+0x27a0);}const Cd=(_0x396378,_0x5cc7f0=0x41c+-0xd2d*-0x1+-0x1149)=>0xc5+-0x1e77+0x1db3+Math['floor'](Math['log2'](Math['max'](_0x396378,_0x5cc7f0))),BC=_0x2d651d=>_0x2d651d['textureHal'+'fFloatRend'+'erable'],NC=_0x5e3562=>_0x5e3562['textureFlo'+'atRenderab'+'le'],zC=_0x38da52=>BC(_0x38da52)?it:NC(_0x38da52)?et:Te,UC=_0x56b4ab=>Te,VC=(_0x51e7f1,_0x5834fd,_0x2abd76,_0x50be48)=>new ce(_0x51e7f1,{'name':'lighting-'+_0x5834fd,'cubemap':!(-0x810+-0x9d*-0x1e+-0x372*0x3),'width':_0x5834fd,'height':_0x5834fd,'format':_0x2abd76,'type':ko,'addressU':oe,'addressV':oe,'mipmaps':!(-0x1689+0xc71+-0xeb*-0xb)});class P0{static['generateSk'+'yboxCubema'+'p'](_0x3e08ce,_0x1fdb54){const _0x3139c4=_0x3e08ce['device'];G['pushGpuMar'+'ker'](_0x3139c4,'genSkyboxC'+'ubemap');const _0x25878a=VC(_0x3139c4,_0x1fdb54||(_0x3e08ce['cubemap']?_0x3e08ce['width']:_0x3e08ce['width']/(0x11f1*0x1+0xcb7+-0x1ea4)),Te);return ii(_0x3e08ce,_0x25878a,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x3139c4),_0x25878a;}static['generateLi'+'ghtingSour'+'ce'](_0x32daba,_0x1a5b89){const _0x2b0af1=_0x32daba['device'];G['pushGpuMar'+'ker'](_0x2b0af1,'genLightin'+'gSource');const _0x1a3c7a=zC(_0x2b0af1),_0x4d3a55=(_0x1a5b89==null?void(0x6e3+0x3*0x5c6+-0x1835):_0x1a5b89['target'])||new ce(_0x2b0af1,{'name':'lighting-s'+'ource','cubemap':!(-0x14c+0x10e3+0xf97*-0x1),'width':(_0x1a5b89==null?void(0x0+-0x16a1+0x1*0x16a1):_0x1a5b89['size'])||-0x622*0x2+0x9*0x295+-0xa79,'height':(_0x1a5b89==null?void(-0x1d34+0x223f+0x50b*-0x1):_0x1a5b89['size'])||0x3*-0xa1c+0x2d0*0x4+0x1394,'format':_0x1a3c7a,'type':_0x1a3c7a===Te?ko:Bi,'addressU':oe,'addressV':oe,'mipmaps':!(0x2*0x2c9+0xfc3+-0x1555)});return ii(_0x32daba,_0x4d3a55,{'numSamples':_0x32daba['mipmaps']?0xbf*0xc+0x2445+-0x169c*0x2:-0x2d2*-0x3+-0x450*-0x4+-0x15b6}),G['popGpuMark'+'er'](_0x2b0af1),_0x4d3a55;}static['generateAt'+'las'](_0x1b8ca0,_0x41ce2b){const _0xdfabd2=_0x1b8ca0['device'],_0xdc21cb=UC();G['pushGpuMar'+'ker'](_0xdfabd2,'genAtlas');const _0x6624de=(_0x41ce2b==null?void(-0xee9+0x1c07+-0xd1e):_0x41ce2b['target'])||new ce(_0xdfabd2,{'name':'envAtlas','width':(_0x41ce2b==null?void(0x140f+0x64*0x2d+0xeb*-0x29):_0x41ce2b['size'])||0x22*-0x36+-0x21*-0x6a+-0x47e,'height':(_0x41ce2b==null?void(0x17e5+0x2689+0x106*-0x3d):_0x41ce2b['size'])||-0x7e1*0x1+0x15a3+0x1*-0xbc2,'format':_0xdc21cb,'type':ko,'projection':hm,'addressU':oe,'addressV':oe,'mipmaps':!(0x169e+0x1bc5*0x1+-0x1*0x3262)});G['pushGpuMar'+'ker'](_0xdfabd2,'mipmaps');const _0x437b79=_0x6624de['width']/(0x2*-0x6da+-0x178d+0x305*0xd),_0x55c99a=new ee(0x16*-0x43+-0x71f+0xce1,-0x16*0x20+0x10e1+-0xe21,(-0x1e6b+-0x7ac+0x21*0x137)*_0x437b79,(-0x61f+-0x4d4+0xbf3)*_0x437b79),_0x2383ad=Cd(-0x114e*0x2+-0x795+-0x1*-0x2b31)-Cd(-0x799+0x1409*0x1+-0xc6c);for(let _0x1d40f5=-0x229+-0xc43+0x4*0x39b;_0x1d40f5<_0x2383ad;++_0x1d40f5)ii(_0x1b8ca0,_0x6624de,{'numSamples':0x1,'rect':_0x55c99a,'seamPixels':_0x437b79}),_0x55c99a['x']+=_0x55c99a['w'],_0x55c99a['y']+=_0x55c99a['w'],_0x55c99a['z']=Math['max'](-0x6*0x669+0xefe+-0x1*-0x1779,Math['floor'](_0x55c99a['z']*(0x2cc+0x9e3+-0x11*0xbf+0.5))),_0x55c99a['w']=Math['max'](-0xa4b+-0x1986+0x23d2,Math['floor'](_0x55c99a['w']*(-0xf49+0x233e+-0x189*0xd+0.5)));G['popGpuMark'+'er'](_0xdfabd2),G['pushGpuMar'+'ker'](_0xdfabd2,'reflection'+'s'),_0x55c99a['set'](-0x1b0a*-0x1+0xb09+-0x2613,(-0x2173+-0x1acf+0x3d42)*_0x437b79,(-0x4*0x435+0x1*-0x24af+0x3683)*_0x437b79,(0x1ac5+0xf2+-0x1b37)*_0x437b79);for(let _0x317d4d=0xd84*0x1+0x4e1+0x1*-0x1264;_0x317d4d<0xf5*-0xf+-0x465+-0x17*-0xd1;++_0x317d4d)ii(_0x1b8ca0,_0x6624de,{'numSamples':(_0x41ce2b==null?void(0xbcc+-0x19*-0xb1+-0x1d15):_0x41ce2b['numReflect'+'ionSamples'])||0x142a*0x1+0x1a44+-0x2a6e,'distribution':(_0x41ce2b==null?void(0x5a7*0x1+0x11d1+-0x1*0x1778):_0x41ce2b['distributi'+'on'])||'ggx','specularPower':Math['max'](0x25ea*-0x1+-0x1731*0x1+0x3d1c,0xc0f+0xfb6*-0x1+0x1*0xba7>>_0x317d4d*(-0x2531+-0x7c7*-0x4+-0x617*-0x1)),'rect':_0x55c99a,'seamPixels':_0x437b79}),_0x55c99a['y']+=_0x55c99a['w'],_0x55c99a['z']=Math['max'](-0x97*0x13+0x1902+-0xdcc,Math['floor'](_0x55c99a['z']*(-0x65+-0x1*0x224+0x289+0.5))),_0x55c99a['w']=Math['max'](0xd31+0x11cf*-0x1+0x5b*0xd,Math['floor'](_0x55c99a['w']*(-0x7db*-0x3+-0x9*0xa4+0x31*-0x5d+0.5)));return G['popGpuMark'+'er'](_0xdfabd2),G['pushGpuMar'+'ker'](_0xdfabd2,'ambient'),_0x55c99a['set']((-0x13*-0x8f+-0x1*0x25b7+0x1b9a)*_0x437b79,(-0x1*-0x371+-0xeb9*0x1+-0x332*-0x4)*_0x437b79,(-0x1*0x44f+0x1d18+-0x1889)*_0x437b79,(0x1*-0x24fb+0x129f+0x127c)*_0x437b79),ii(_0x1b8ca0,_0x6624de,{'numSamples':(_0x41ce2b==null?void(0x16da+0x1c+-0x16f6):_0x41ce2b['numAmbient'+'Samples'])||0x6*-0x535+-0x1e80+0x45be,'distribution':'lambert','rect':_0x55c99a,'seamPixels':_0x437b79}),G['popGpuMark'+'er'](_0xdfabd2),G['popGpuMark'+'er'](_0xdfabd2),_0x6624de;}static['generatePr'+'efilteredA'+'tlas'](_0x129328,_0x105099){const _0x1310c3=_0x129328[0x374+0x1cd4*-0x1+0x38*0x74]['device'],_0x4b71cf=_0x129328[-0x1*0x75b+-0x2398+0x2af3]['format'],_0x4ce37e=_0x129328[0x17a6+-0xd39*-0x1+0x24df*-0x1]['type'];G['pushGpuMar'+'ker'](_0x1310c3,'genPrefilt'+'eredAtlas');const _0x40265e=(_0x105099==null?void(-0x9*-0x30f+0x3*-0x9ff+0x9*0x46):_0x105099['target'])||new ce(_0x1310c3,{'name':'envPrefilt'+'eredAtlas','width':(_0x105099==null?void(0x2414+-0xc1b+0x13*-0x143):_0x105099['size'])||-0x1*0x212f+0x1418+0xf17,'height':(_0x105099==null?void(-0x3*0x220+-0x1*0x1a33+-0x1f*-0x10d):_0x105099['size'])||0xede+-0x1*0x2646+0x1968,'format':_0x4b71cf,'type':_0x4ce37e,'projection':hm,'addressU':oe,'addressV':oe,'mipmaps':!(0x16aa+-0x2455+0xdac)});G['pushGpuMar'+'ker'](_0x1310c3,'mipmaps');const _0x2a1aa7=_0x40265e['width']/(0xc9a+-0x2650+-0x1*-0x1bb6),_0x290ac2=new ee(0x67b*-0x4+0x29*0xc7+-0x5f3,-0x95e+-0x27*0x7a+0x1bf4,(-0x44*0x77+-0x1ed*-0x11+0xdf*0x1)*_0x2a1aa7,(0x3*0x199+-0x1*0x153d+-0x3a*-0x4d)*_0x2a1aa7),_0x485297=Cd(0x1*0x43c+0x2d6*0x1+-0x512);for(let _0x297622=-0x823+0x2049+-0x1826;_0x297622<_0x485297;++_0x297622)ii(_0x129328[-0x29*0x8f+-0x116d*-0x1+0x57a],_0x40265e,{'numSamples':0x1,'rect':_0x290ac2,'seamPixels':_0x2a1aa7}),_0x290ac2['x']+=_0x290ac2['w'],_0x290ac2['y']+=_0x290ac2['w'],_0x290ac2['z']=Math['max'](-0x20c2+-0x595+0x2658,Math['floor'](_0x290ac2['z']*(-0x219a+-0x2215+-0x1*-0x43af+0.5))),_0x290ac2['w']=Math['max'](0x1d*0x25+0x14*-0x184+0x1a20,Math['floor'](_0x290ac2['w']*(0x136e+-0x605*-0x5+-0x3187+0.5)));G['popGpuMark'+'er'](_0x1310c3),G['pushGpuMar'+'ker'](_0x1310c3,'reflection'+'s'),_0x290ac2['set'](-0x1*-0x1936+0x3*0x382+-0x2*0x11de,(-0x773*-0x1+-0x6c+-0x607*0x1)*_0x2a1aa7,(0x252f+0x1bb9*-0x1+0x72*-0x13)*_0x2a1aa7,(0xabd*-0x3+0x10*0x20+0x1eb7)*_0x2a1aa7);for(let _0x433b7a=0x307*0xc+-0x2596+0x143*0x1;_0x433b7a<_0x129328['length'];++_0x433b7a)ii(_0x129328[_0x433b7a],_0x40265e,{'numSamples':0x1,'rect':_0x290ac2,'seamPixels':_0x2a1aa7}),_0x290ac2['y']+=_0x290ac2['w'],_0x290ac2['z']=Math['max'](0x2*-0xf75+0x69f+0x184c,Math['floor'](_0x290ac2['z']*(-0x1c2f+-0x1d01+0x4c4*0xc+0.5))),_0x290ac2['w']=Math['max'](0x26ac+0x7*0x559+-0x4c1a,Math['floor'](_0x290ac2['w']*(0x1*-0x623+0x289*0xd+-0x1ad2+0.5)));return G['popGpuMark'+'er'](_0x1310c3),G['pushGpuMar'+'ker'](_0x1310c3,'ambient'),_0x290ac2['set']((-0x11*0x11b+-0xbef+-0x23b*-0xe)*_0x2a1aa7,(-0x1c20+-0x22c5+-0xf*-0x44b)*_0x2a1aa7,(-0x2389*0x1+-0x1f08+-0xd5d*-0x5)*_0x2a1aa7,(-0x383*0x6+-0x1cfe+0x3230)*_0x2a1aa7),_0x105099!=null&&_0x105099['legacyAmbi'+'ent']?ii(_0x129328[0x78f*-0x1+0x23cd+-0x1c39],_0x40265e,{'numSamples':0x1,'rect':_0x290ac2,'seamPixels':_0x2a1aa7}):ii(_0x129328[0x1*0xecc+-0x53c*0x5+0xb60],_0x40265e,{'numSamples':(_0x105099==null?void(-0x12b5+0x83*0xb+0xd14):_0x105099['numSamples'])||0xdd5+-0x22c7+0x11d*0x1a,'distribution':'lambert','rect':_0x290ac2,'seamPixels':_0x2a1aa7}),G['popGpuMark'+'er'](_0x1310c3),G['popGpuMark'+'er'](_0x1310c3),_0x40265e;}}const GC={'aoPS':Et,'clearCoatPS':Et,'clearCoatGlossPS':cd,'clearCoatNormalPS':Et,'diffusePS':Et,'diffuseDetailMapPS':Et,'emissivePS':Et,'glossPS':cd,'lightmapDirPS':Mi,'lightmapSinglePS':Mi,'metalnessPS':Et,'normalMapPS':Et,'normalDetailMapPS':Et,'opacityPS':Et,'parallaxPS':Et,'sheenPS':Et,'sheenGlossPS':cd,'specularPS':Et,'specularityFactorPS':Et,'thicknessPS':Et,'transmissionPS':Et,'normalVertexPS':Mi,'startPS':Mi,'ambientConstantPS':Se,'ambientEnvPS':Se,'ambientSHPS':Se,'aoDiffuseOccPS':Se,'aoSpecOccPS':Se,'aoSpecOccConstPS':Se,'aoSpecOccConstSimplePS':Se,'aoSpecOccSimplePS':Se,'clusteredLightPS':Se,'clusteredLightShadowPS':Se,'combinePS':Se,'falloffInvSquaredPS':Se,'falloffLinearPS':Se,'lightDiffuseLambertPS':Se,'lightSheenPS':Se,'lightSpecularAnisoGGXPS':Se,'lightSpecularBlinnPS':Se,'ltcPS':Se,'reflDirPS':Se,'reflDirAnisoPS':Se,'reflectionCCPS':Se,'reflectionCubePS':Se,'reflectionEnvPS':Se,'reflectionEnvHQPS':Se,'reflectionSheenPS':Se,'reflectionSpherePS':Se,'shadowCommonPS':Se,'shadowCoordPS':Se,'shadowCoordPerspZBufferPS':Se,'shadowEVSMPS':Se,'shadowEVSMnPS':Se,'shadowStandardPS':Se,'shadowStandardGL2PS':Se,'spotPS':Se,'TBNPS':Se,'TBNObjectSpacePS':Se,'TBNderivativePS':Se,'endPS':pi,'metalnessModulatePS':pi,'outputAlphaPS':pi,'outputAlphaPremulPS':pi,'fresnelSchlickPS':pi,'iridescenceDiffractionPS':pi,'lightmapAddPS':pi,'lightmapDirAddPS':pi,'refractionCubePS':cm,'refractionDynamicPS':cm},HC={'ambientPrefilteredCubePS':Gi,'ambientPrefilteredCubeLodPS':Gi,'dpAtlasQuadPS':Gi,'genParaboloidPS':Gi,'prefilterCubemapPS':Gi,'reflectionDpAtlasPS':Gi,'reflectionPrefilteredCubePS':Gi,'reflectionPrefilteredCubeLodPS':Gi,'refractionPS':gr,'combineClearCoatPS':gr,'combineDiffusePS':gr,'combineDiffuseSpecularPS':gr,'combineDiffuseSpecularNoReflPS':gr,'combineDiffuseSpecularNoReflSeparateAmbientPS':gr,'combineDiffuseSpecularOldPS':gr,'lightmapSingleVertPS':Mi,'normalMapFastPS':Mi,'specularAaNonePS':Mi,'specularAaToksvigPS':Mi,'specularAaToksvigFastPS':Mi,'skyboxEnvPS':dm,'skyboxHDRPS':dm,'shadowVSM8PS':bv,'fogExpPS':An,'fogExp2PS':An,'fogLinearPS':An,'fogNonePS':An,'gamma1_0PS':An,'gamma2_2PS':An},WC=(_0x10629e,_0x46076e)=>{const _0x4be4be=_0x10629e['split']('.')['map'](_0x1cc1b8=>parseInt(_0x1cc1b8,-0x15ff+0x12c8+-0x31*-0x11)),_0x43ae98=_0x46076e['split']('.')['map'](_0x2481ca=>parseInt(_0x2481ca,-0xa55+-0xc6b+0x16ca));return _0x4be4be[-0x463+-0x7*0xb3+0x21*0x48]<_0x43ae98[-0x181f+-0xfd6+0x35*0xc1]||_0x4be4be[0x3af*-0x3+-0x1ae*0x11+0x279b]===_0x43ae98[0xa4+-0x1071+0xfcd]&&_0x4be4be[-0x373*0x1+0x1ce5+-0x1971]<_0x43ae98[-0x16*0xfb+-0x1599+0x2b2c];},$C=_0x24f81a=>{const _0x390d6d=_0x24f81a['APIVersion'];for(const _0x26e20a in _0x24f81a)if(_0x26e20a!=='APIVersion'){if(j['hasOwnProp'+'erty'](_0x26e20a)){const _0x46ed4e=GC[_0x26e20a];_0x46ed4e&&(!_0x390d6d||WC(_0x390d6d,_0x46ed4e))&&b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x26e20a+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x46ed4e+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x390d6d||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x3405e3=HC[_0x26e20a];_0x3405e3?b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x26e20a+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x3405e3+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x26e20a+('\x27\x20is\x20not\x20s'+'upported.'));}}};class rr{constructor(){c(this,'code','');}['append'](..._0x585664){_0x585664['forEach'](_0x46ac9d=>{_0x46ac9d['endsWith']('\x0a')?this['code']+=_0x46ac9d:this['code']+=_0x46ac9d+'\x0a';});}['prepend'](..._0x5ab8b5){_0x5ab8b5['forEach'](_0x18e20a=>{_0x18e20a['endsWith']('\x0a')?this['code']=_0x18e20a+this['code']:this['code']=_0x18e20a+'\x0a'+this['code'];});}}const Md={'vertex_normal':ss,'vertex_tangent':si,'vertex_texCoord0':ds,'vertex_texCoord1':yn,'vertex_color':It,'vertex_boneWeights':ei,'vertex_boneIndices':Jt},c_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class qC{constructor(_0x5098a0,_0x6d23e3){if(this['device']=_0x5098a0,this['options']=_0x6d23e3,this['attributes']={'vertex_position':Xe},_0x6d23e3['userAttrib'+'utes']){for(const [_0x5622ba,_0x8048ac]of Object['entries'](_0x6d23e3['userAttrib'+'utes']))this['attributes'][_0x8048ac]=_0x5622ba;}if(_0x6d23e3['chunks']){const _0x37c15b=_0x6d23e3['chunks'];$C(_0x37c15b),this['chunks']=Object['create'](j);for(const _0x4d3ace in j)if(_0x37c15b['hasOwnProp'+'erty'](_0x4d3ace)){const _0x3a2fed=_0x37c15b[_0x4d3ace];for(const _0x52018e in Md)Md['hasOwnProp'+'erty'](_0x52018e)&&_0x3a2fed['indexOf'](_0x52018e)>=0x1b62+-0x19d5*-0x1+-0x3537&&(this['attributes'][_0x52018e]=Md[_0x52018e]);this['chunks'][_0x4d3ace]=_0x3a2fed;}}else this['chunks']=j;this['shaderPass'+'Info']=ti['get'](this['device'])['getByIndex'](_0x6d23e3['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x6d23e3['lights']['length']>-0x10*-0x29+0x19a9+-0x5*0x5a5||_0x6d23e3['dirLightMa'+'pEnabled']||_0x6d23e3['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x6d23e3['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x6d23e3['useSpecula'+'r']||_0x6d23e3['ambientSH']||_0x6d23e3['useHeights']||_0x6d23e3['enableGGXS'+'pecular']||_0x6d23e3['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x6d23e3['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x6d23e3['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x6d23e3['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x6d23e3['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x4ff131,_0x52ad56,_0x7f47b0){return _0x4ff131+=_0x52ad56['baseVS'],(_0x7f47b0['nineSliced'+'Mode']===ht||_0x7f47b0['nineSliced'+'Mode']===st)&&(_0x4ff131+=_0x52ad56['baseNineSl'+'icedVS']),_0x4ff131;}['_setMapTra'+'nsform'](_0x3be8ea,_0x2d9ee5,_0x4413d0,_0x1ef47d){const _0x4626ef=_0x4413d0+_0x1ef47d*(0x258b+0x1fc6+-0x44ed);if(!_0x3be8ea[0x3be*0x4+-0x36e+-0xb87][_0x4626ef]){const _0x3ec030='texture_'+_0x2d9ee5+('MapTransfo'+'rm');_0x3be8ea[0x1b5e+-0x138+0x1a26*-0x1]+='uniform\x20ve'+'c3\x20'+_0x3ec030+'0;\x0a',_0x3be8ea[-0x1a7*-0x11+0x1384+-0x2f9b]+='uniform\x20ve'+'c3\x20'+_0x3ec030+'1;\x0a',_0x3be8ea[0x6dc+0x41d*0x4+-0x174f]+='varying\x20ve'+'c2\x20vUV'+_0x1ef47d+'_'+_0x4413d0+';\x0a',_0x3be8ea[0x1826+0xd*0x3b+0x1*-0x1b23]+='\x20\x20\x20vUV'+_0x1ef47d+'_'+_0x4413d0+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x1ef47d+',\x201),\x20'+_0x3ec030+('0),\x20dot(ve'+'c3(uv')+_0x1ef47d+',\x201),\x20'+_0x3ec030+'1));\x0a',_0x3be8ea[-0x13e2+0x14dc+-0x1*0xf7][_0x4626ef]=!(0x1a18+0x1*0x1759+-0x3171);}return _0x3be8ea;}['_fsGetBase'+'Code'](){const _0x25f6d6=this['options'],_0x5373a8=this['chunks'];let _0x55f9d3=this['chunks']['basePS'];return _0x25f6d6['nineSliced'+'Mode']===ht?_0x55f9d3+=_0x5373a8['baseNineSl'+'icedPS']:_0x25f6d6['nineSliced'+'Mode']===st&&(_0x55f9d3+=_0x5373a8['baseNineSl'+'icedTiledP'+'S']),_0x55f9d3;}['_fsGetStar'+'tCode'](_0x3289cb,_0x5c1bce,_0x35ce80,_0x53d08c){let _0xdd8af6=_0x35ce80['startPS'];return _0x53d08c['nineSliced'+'Mode']===ht?_0xdd8af6+=_0x35ce80['startNineS'+'licedPS']:_0x53d08c['nineSliced'+'Mode']===st&&(_0xdd8af6+=_0x35ce80['startNineS'+'licedTiled'+'PS']),_0xdd8af6;}['_getLightS'+'ourceShape'+'String'](_0xfa000b){switch(_0xfa000b){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x4a1049,_0x4fb77e,_0x53118d){const _0x1afb24=this['device'],_0xf64a73=this['options'],_0xd07e73=this['chunks'];let _0x49eb43='',_0x1cffce='',_0x29484a='';_0x49eb43=this['_vsAddBase'+'Code'](_0x49eb43,_0xd07e73,_0xf64a73),_0x1cffce+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x29484a+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x1cffce+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===j['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=lp,this['attributes']['instance_l'+'ine2']=Sa,this['attributes']['instance_l'+'ine3']=hp,this['attributes']['instance_l'+'ine4']=va),_0x49eb43+=_0xd07e73['transformV'+'S'],this['needsNorma'+'l']&&(_0x49eb43+=_0xd07e73['normalCore'+'VS'],_0x49eb43+=_0xd07e73['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=ss,_0x1cffce+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0xf64a73['reflection'+'Source']==='sphereMap'&&_0x1afb24['fragmentUn'+'iformsCoun'+'t']<=0x899+-0x621*-0x4+0x1*-0x210d&&(_0x49eb43+=_0xd07e73['viewNormal'+'VS'],_0x1cffce+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0xf64a73['hasTangent'+'s']&&(_0xf64a73['useHeights']||_0xf64a73['useNormals']||_0xf64a73['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=si,_0x49eb43+=_0xd07e73['tangentBin'+'ormalVS'],_0x1cffce+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x1cffce+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0xf64a73['enableGGXS'+'pecular']&&(_0x1cffce+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x18ea09=0x4e2+0x1e64+-0x2344;for(let _0xd7509b=0x3b7*-0x1+0x1*0xf8f+-0xbd8;_0xd7509b<_0x18ea09;_0xd7509b++)_0x4a1049[_0xd7509b]&&(this['attributes']['vertex_tex'+'Coord'+_0xd7509b]='TEXCOORD'+_0xd7509b,_0x49eb43+=_0xd07e73['uv'+_0xd7509b+'VS'],_0x1cffce+='\x20\x20\x20vec2\x20uv'+_0xd7509b+'\x20=\x20getUv'+_0xd7509b+'();\x0a'),_0x4fb77e[_0xd7509b]&&(_0x1cffce+='\x20\x20\x20vUv'+_0xd7509b+'\x20=\x20uv'+_0xd7509b+';\x0a');const _0x43693e=[_0x49eb43,this['varyings'],_0x1cffce,[]];_0x53118d['forEach'](_0x3bcf5c=>{this['_setMapTra'+'nsform'](_0x43693e,_0x3bcf5c['name'],_0x3bcf5c['id'],_0x3bcf5c['uv']);}),_0x49eb43=_0x43693e[-0x571+0x18f6+-0x1385*0x1],this['varyings']=_0x43693e[-0x88*-0xb+-0x1bb0+0x15d9],_0x1cffce=_0x43693e[0x248e*-0x1+-0x213*0x9+0x373b],_0xf64a73['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=It,_0x1cffce+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0xf64a73['useMsdf']&&_0xf64a73['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Lo,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Fo,_0x1cffce+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x49eb43+=_0xd07e73['msdfVS']),(_0xf64a73['useMorphPo'+'sition']||_0xf64a73['useMorphNo'+'rmal'])&&(_0x29484a+='#define\x20MO'+'RPHING\x0a',_0xf64a73['useMorphTe'+'xtureBased'+'Int']&&(_0x29484a+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0xf64a73['useMorphPo'+'sition']&&(_0x29484a+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0xf64a73['useMorphNo'+'rmal']&&(_0x29484a+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=va),_0xf64a73['skin']?(this['attributes']['vertex_bon'+'eIndices']=Jt,_0xf64a73['batch']?_0x29484a+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=ei,_0x29484a+='#define\x20SK'+'IN\x0a')):_0xf64a73['useInstanc'+'ing']&&(_0x29484a+='#define\x20IN'+'STANCING\x0a'),_0xf64a73['screenSpac'+'e']&&(_0x29484a+='#define\x20SC'+'REENSPACE\x0a'),_0xf64a73['pixelSnap']&&(_0x29484a+='#define\x20PI'+'XELSNAP\x0a'),_0x49eb43+='\x0a',_0x49eb43+=_0xd07e73['startVS'],_0x49eb43+=_0x1cffce,_0x49eb43+=_0xd07e73['endVS'],_0x49eb43+='}',Object['keys'](c_)['forEach'](_0x5a7928=>{_0x49eb43['indexOf'](_0x5a7928)>=0x4*0x6f2+0x1d*-0x8f+-0x1*0xb95&&(this['varyings']+='varying\x20'+c_[_0x5a7928]+'\x20'+_0x5a7928+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x5a7928['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x29484a+this['varyings']+_0x49eb43;}['_fsGetBegi'+'nCode'](){let _0x1f7818='';for(let _0x2d9fbd=0x5*-0x46f+-0x4d6*0x2+0xa9d*0x3;_0x2d9fbd<this['defines']['length'];_0x2d9fbd++)_0x1f7818+='#define\x20'+this['defines'][_0x2d9fbd]+'\x0a';return _0x1f7818;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x5916e5=this['_fsGetBegi'+'nCode']();return _0x5916e5+=this['varyings'],_0x5916e5+=this['varyingDef'+'ines'],_0x5916e5+=this['frontendDe'+'cl'],_0x5916e5+=this['frontendCo'+'de'],_0x5916e5+=Nt['begin'](),_0x5916e5+=this['frontendFu'+'nc'],_0x5916e5+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x5916e5+=Nt['end'](),_0x5916e5;}['_fsGetPreP'+'assCode'](){let _0x1d8542=this['_fsGetBegi'+'nCode']();return _0x1d8542+=this['varyings'],_0x1d8542+=this['varyingDef'+'ines'],_0x1d8542+=this['chunks']['floatAsUin'+'tPS'],_0x1d8542+=this['frontendDe'+'cl'],_0x1d8542+=this['frontendCo'+'de'],_0x1d8542+=Nt['begin'](),_0x1d8542+=this['frontendFu'+'nc'],_0x1d8542+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x1d8542+=Nt['end'](),_0x1d8542;}['_fsGetShad'+'owPassCode'](){const _0x367104=this['options'],_0x1e9010=this['chunks'],_0x58f561=this['varyings'],_0x43bf1d=this['shaderPass'+'Info']['lightType'];let _0x79c376=this['shaderPass'+'Info']['shadowType'];_0x43bf1d!==le&&_0x367104['clusteredL'+'ightingEna'+'bled']&&(_0x79c376===Wr||_0x79c376===$r||_0x79c376===Rs)&&(_0x79c376=zt);const _0x2aeebe=nr['get'](_0x79c376);b['assert'](_0x2aeebe);const _0x4460de=(_0x2aeebe==null?void(-0x2431+0x356+0x20db):_0x2aeebe['vsm'])??!(0x1*0x237+-0x21e*-0xc+-0x1b9e),_0x45fdc3=(_0x2aeebe==null?void(0x18f5+-0x1af3+0x1fe):_0x2aeebe['pcss'])??!(0x44*0x80+0x409*0x1+-0x4*0x982);let _0x1d5ee9=this['_fsGetBegi'+'nCode']();_0x79c376===$r?_0x1d5ee9+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x79c376===Wr&&(_0x1d5ee9+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x43bf1d!==le&&(_0x1d5ee9+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x1d5ee9+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x1d5ee9+=_0x58f561,_0x1d5ee9+=this['varyingDef'+'ines'],_0x1d5ee9+=this['frontendDe'+'cl'],_0x1d5ee9+=this['frontendCo'+'de'],_0x79c376===Rs&&(_0x1d5ee9+=j['linearizeD'+'epthPS']),_0x1d5ee9+=Nt['begin'](),_0x1d5ee9+=this['frontendFu'+'nc'];const _0x356aa1=_0x43bf1d===le||!_0x4460de&&_0x43bf1d===Fe;let _0x22e8cc=!(0x2569+-0xc*-0xe0+-0x17f4*0x2);return _0x356aa1?(_0x1d5ee9+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x45fdc3&&_0x43bf1d!==le&&(_0x1d5ee9+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x1d5ee9+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x22e8cc=!(0x4*0x4a3+0x25bd+-0x3849)),_0x4460de?_0x1d5ee9+=_0x1e9010['storeEVSMP'+'S']:_0x45fdc3?_0x1d5ee9+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x22e8cc&&(_0x1d5ee9+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x1d5ee9+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x1d5ee9+=Nt['end'](),_0x1d5ee9;}['_fsGetLitP'+'assCode'](){var _0x2e5865;const _0x256991=this['device'],_0x3d6518=this['options'],_0x5b2c4e=this['chunks'],_0x310c47=new rr(),_0x4934d7=new rr(),_0x4e7844=new rr(),_0x43c2c9=new rr();_0x3d6518['opacityFad'+'esSpecular']===!(0x10d9+-0x2*-0xdf6+-0x2cc4)&&_0x310c47['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x3d6518['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x3d6518['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x3d6518['fresnelMod'+'el']>-0x1516+-0x2*0x12c1+0x9c4*0x6&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x3d6518['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x3d6518['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0xcbf54=[];let _0x4b2d56=-0x1*-0x6c+-0x65*0x4d+-0x1*-0x1df5,_0x54a11e=!(0x1*-0x1ecf+-0x7dd+0x26ad),_0x3705c5=!(0x1*0x74b+-0x1823*-0x1+0x1f6d*-0x1),_0xc5f615=!(0x19b*-0x7+0xfa3*-0x1+0x1*0x1ae1),_0x537d9=_0x3d6518['lights']['some'](_0x271be4=>_0x271be4['_shape']&&_0x271be4['_shape']!==Tt);_0x3d6518['clusteredL'+'ightingEna'+'bled']&&_0x3d6518['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x537d9=!(0xae*-0x13+-0x1a23*0x1+0x270d)),(_0x537d9||_0x3d6518['clusteredL'+'ightingEna'+'bled'])&&(_0x310c47['append']('#define\x20AR'+'EA_LIGHTS'),_0x310c47['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x310c47['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x572dd3=0xd7f+-0x4*-0x14e+0x12b7*-0x1;_0x572dd3<_0x3d6518['lights']['length'];_0x572dd3++){const _0x122699=_0x3d6518['lights'][_0x572dd3],_0x239c5d=_0x122699['_type'];if(_0x3d6518['clusteredL'+'ightingEna'+'bled']&&_0x239c5d!==le)continue;const _0x57d418=_0x537d9&&_0x122699['_shape']?_0x122699['_shape']:Tt;_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+'_color;'),_0x122699['_shadowTyp'+'e']===Rs&&_0x122699['castShadow'+'s']&&!_0x3d6518['noShadow']&&(_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_shadowSea'+'rchArea;')),_0x310c47['append']('uniform\x20ve'+'c4\x20light'+_0x572dd3+('_cameraPar'+'ams;')),_0x239c5d===le&&_0x310c47['append']('uniform\x20ve'+'c4\x20light'+_0x572dd3+('_softShado'+'wParams;'))),_0x239c5d===le?_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+('_direction'+';')):(_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+'_position;'),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+'_radius;'),_0x239c5d===Fe&&(_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+('_direction'+';')),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_innerCone'+'Angle;')),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_outerCone'+'Angle;')))),_0x57d418!==Tt&&(_0x239c5d===le&&_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+'_position;'),_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+('_halfWidth'+';')),_0x310c47['append']('uniform\x20ve'+'c3\x20light'+_0x572dd3+('_halfHeigh'+'t;'))),_0x122699['castShadow'+'s']&&!_0x3d6518['noShadow']&&(_0x310c47['append']('uniform\x20ma'+'t4\x20light'+_0x572dd3+('_shadowMat'+'rix;')),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_shadowInt'+'ensity;')),_0x239c5d===le&&(_0x310c47['append']('uniform\x20ma'+'t4\x20light'+_0x572dd3+('_shadowMat'+'rixPalette'+'[4];')),_0x310c47['append']('uniform\x20ve'+'c4\x20light'+_0x572dd3+('_shadowCas'+'cadeDistan'+'ces;')),_0x310c47['append']('uniform\x20in'+'t\x20light'+_0x572dd3+('_shadowCas'+'cadeCount;')),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_shadowCas'+'cadeBlend;'))),_0x310c47['append']('uniform\x20ve'+'c4\x20light'+_0x572dd3+('_shadowPar'+'ams;')),_0x239c5d===le&&(_0x54a11e=!(-0x2700+-0xff3*-0x2+0x71a)),_0x239c5d===Le?_0x310c47['append']('uniform\x20'+(_0x122699['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x572dd3+('_shadowMap'+';')):_0x310c47['append']('uniform\x20'+(_0x122699['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x572dd3+('_shadowMap'+';')),_0x4b2d56++,_0xcbf54[_0x122699['_shadowTyp'+'e']]=!(0x169f+0x19*0xb3+-0x3b*0xae),_0x122699['_isVsm']&&(_0x3705c5=!(-0x1d6e+0x97b+0x13f3)),_0x122699['_shadowTyp'+'e']===Rs&&(_0xc5f615=!(0x1*0x1512+-0x1bf*0x3+-0xfd5))),_0x122699['_cookie']&&(_0x122699['_cookie']['_cubemap']?_0x239c5d===Le&&(_0x310c47['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x572dd3+'_cookie;'),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_cookieInt'+'ensity;')),(!_0x122699['castShadow'+'s']||_0x3d6518['noShadow'])&&_0x310c47['append']('uniform\x20ma'+'t4\x20light'+_0x572dd3+('_shadowMat'+'rix;'))):_0x239c5d===Fe&&(_0x310c47['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x572dd3+'_cookie;'),_0x310c47['append']('uniform\x20fl'+'oat\x20light'+_0x572dd3+('_cookieInt'+'ensity;')),(!_0x122699['castShadow'+'s']||_0x3d6518['noShadow'])&&_0x310c47['append']('uniform\x20ma'+'t4\x20light'+_0x572dd3+('_shadowMat'+'rix;')),_0x122699['_cookieTra'+'nsform']&&(_0x310c47['append']('uniform\x20ve'+'c4\x20light'+_0x572dd3+('_cookieMat'+'rix;')),_0x310c47['append']('uniform\x20ve'+'c2\x20light'+_0x572dd3+('_cookieOff'+'set;')))));}const _0x4df8b1=this['needsNorma'+'l']&&(_0x3d6518['useNormals']||_0x3d6518['useClearCo'+'atNormals']||_0x3d6518['enableGGXS'+'pecular']&&!_0x3d6518['useHeights']);if(_0x4df8b1&&(_0x3d6518['hasTangent'+'s']?_0x4934d7['append'](_0x5b2c4e['TBNPS']):_0x3d6518['useNormals']||_0x3d6518['useClearCo'+'atNormals']?_0x4934d7['append'](_0x5b2c4e['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x4934d7['append'](_0x5b2c4e['TBNObjectS'+'pacePS']),_0x3d6518['twoSidedLi'+'ghting']&&_0x4934d7['append'](_0x5b2c4e['twoSidedLi'+'ghtingPS'])),_0x4934d7['append'](_0x5b2c4e['sphericalP'+'S']),_0x4934d7['append'](_0x5b2c4e['decodePS']),_0x4934d7['append'](_0x5b2c4e['gammaPS']),_0x4934d7['append'](_0x5b2c4e['tonemappin'+'gPS']),_0x4934d7['append'](_0x5b2c4e['fogPS']),_0x4934d7['append'](this['frontendCo'+'de']),_0x3d6518['useCubeMap'+'Rotation']&&_0x310c47['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x4934d7['append'](_0x5b2c4e['cubeMapRot'+'atePS']),_0x4934d7['append'](_0x3d6518['cubeMapPro'+'jection']>0x727+-0x1577+-0x1*-0xe50?_0x5b2c4e['cubeMapPro'+'jectBoxPS']:_0x5b2c4e['cubeMapPro'+'jectNonePS']),_0x4934d7['append'](_0x3d6518['skyboxInte'+'nsity']?_0x5b2c4e['envMultipl'+'yPS']:_0x5b2c4e['envConstPS'])),(this['lighting']&&_0x3d6518['useSpecula'+'r']||this['reflection'+'s'])&&(_0x3d6518['useMetalne'+'ss']&&_0x4934d7['append'](_0x5b2c4e['metalnessM'+'odulatePS']),_0x3d6518['fresnelMod'+'el']===Tp&&_0x4934d7['append'](_0x5b2c4e['fresnelSch'+'lickPS']),_0x3d6518['useIridesc'+'ence']&&_0x4934d7['append'](_0x5b2c4e['iridescenc'+'eDiffracti'+'onPS'])),_0x3d6518['useAo'])switch(_0x4934d7['append'](_0x5b2c4e['aoDiffuseO'+'ccPS']),_0x3d6518['occludeSpe'+'cular']){case Vo:_0x4934d7['append'](_0x3d6518['occludeSpe'+'cularFloat']?_0x5b2c4e['aoSpecOccS'+'implePS']:_0x5b2c4e['aoSpecOccC'+'onstSimple'+'PS']);break;case Bu:_0x4934d7['append'](_0x3d6518['occludeSpe'+'cularFloat']?_0x5b2c4e['aoSpecOccP'+'S']:_0x5b2c4e['aoSpecOccC'+'onstPS']);break;}_0x3d6518['reflection'+'Source']==='envAtlasHQ'?(_0x4934d7['append'](_0x5b2c4e['envAtlasPS']),_0x4934d7['append'](_0x5b2c4e['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Ds['decodeFunc'](_0x3d6518['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x3d6518['reflection'+'Encoding'])))):_0x3d6518['reflection'+'Source']==='envAtlas'?(_0x4934d7['append'](_0x5b2c4e['envAtlasPS']),_0x4934d7['append'](_0x5b2c4e['reflection'+'EnvPS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x3d6518['reflection'+'Encoding'])))):_0x3d6518['reflection'+'Source']==='cubeMap'?_0x4934d7['append'](_0x5b2c4e['reflection'+'CubePS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x3d6518['reflection'+'Encoding']))):_0x3d6518['reflection'+'Source']==='sphereMap'&&_0x4934d7['append'](_0x5b2c4e['reflection'+'SpherePS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x3d6518['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x3d6518['useClearCo'+'at']&&_0x4934d7['append'](_0x5b2c4e['reflection'+'CCPS']),_0x3d6518['useSheen']&&_0x4934d7['append'](_0x5b2c4e['reflection'+'SheenPS'])),_0x3d6518['useRefract'+'ion']&&(_0x3d6518['useDynamic'+'Refraction']?(_0x3d6518['dispersion']&&(_0x310c47['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x310c47['append']('#define\x20DI'+'SPERSION\x0a')),_0x4934d7['append'](_0x5b2c4e['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x4934d7['append'](_0x5b2c4e['refraction'+'CubePS'])),_0x3d6518['useSheen']&&_0x4934d7['append'](_0x5b2c4e['lightSheen'+'PS']),_0x3d6518['clusteredL'+'ightingEna'+'bled']&&(_0x4934d7['append'](_0x5b2c4e['clusteredL'+'ightUtilsP'+'S']),_0x3d6518['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x4934d7['append'](_0x5b2c4e['clusteredL'+'ightCookie'+'sPS']),_0x3d6518['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x3d6518['noShadow']&&(_0xcbf54[zt]=!(0x3a*0x6c+0x3f*-0x89+0x9*0x107),_0xcbf54[fh]=!(-0x86+-0x1*-0xa9+-0x23),_0xcbf54[Rs]=!(-0x1036*-0x2+-0x346*-0x7+-0x3756))),(_0x4b2d56>-0x1f1d+-0x1176+0x3093||_0x3d6518['clusteredL'+'ightingEna'+'bled'])&&(_0x54a11e&&_0x4934d7['append'](_0x5b2c4e['shadowCasc'+'adesPS']),(_0xcbf54[Gh]||_0xcbf54[zt]||_0xcbf54[Hh]||_0xcbf54[Wh])&&_0x4934d7['append'](_0x5b2c4e['shadowStan'+'dardPS']),(_0xcbf54[fh]||_0xcbf54[ku])&&_0x4934d7['append'](_0x5b2c4e['shadowStan'+'dardGL2PS']),_0x3705c5&&(_0x4934d7['append'](_0x5b2c4e['shadowVSM_'+'commonPS']),_0xcbf54[Wr]&&_0x4934d7['append'](_0x5b2c4e['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0xcbf54[$r]&&_0x4934d7['append'](_0x256991['extTexture'+'FloatLinea'+'r']?_0x5b2c4e['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x5b2c4e['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0xc5f615&&(_0x4934d7['append'](_0x5b2c4e['linearizeD'+'epthPS']),_0x4934d7['append'](_0x5b2c4e['shadowPCSS'+'PS']),_0x4934d7['append'](_0x5b2c4e['shadowSoft'+'PS']))),_0x3d6518['enableGGXS'+'pecular']&&_0x4934d7['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x4934d7['append'](_0x5b2c4e['lightDiffu'+'seLambertP'+'S']),(_0x537d9||_0x3d6518['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x4934d7['append'](_0x5b2c4e['ltcPS']));let _0x41dd0a=!(-0xf2c*-0x1+-0xf46+0x1b);_0x3d6518['useSpecula'+'r']&&(this['lighting']&&_0x4934d7['append'](_0x3d6518['enableGGXS'+'pecular']?_0x5b2c4e['lightSpecu'+'larAnisoGG'+'XPS']:_0x5b2c4e['lightSpecu'+'larBlinnPS']),!_0x3d6518['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x3d6518['diffuseMap'+'Enabled']&&(_0x310c47['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x310c47['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x41dd0a=!(-0xb6*-0xf+-0x6*-0x1dc+-0x15d2))),_0x4934d7['append'](_0x5b2c4e['combinePS']),_0x3d6518['lightMapEn'+'abled']&&_0x4934d7['append'](_0x3d6518['useSpecula'+'r']&&_0x3d6518['dirLightMa'+'pEnabled']?_0x5b2c4e['lightmapDi'+'rAddPS']:_0x5b2c4e['lightmapAd'+'dPS']);const _0x32ba6b=!_0x3d6518['lightMapEn'+'abled']||_0x3d6518['lightMapWi'+'thoutAmbie'+'nt'];_0x32ba6b&&(_0x3d6518['ambientSou'+'rce']==='ambientSH'?_0x4934d7['append'](_0x5b2c4e['ambientSHP'+'S']):_0x3d6518['ambientSou'+'rce']==='envAtlas'?(_0x3d6518['reflection'+'Source']!=='envAtlas'&&_0x3d6518['reflection'+'Source']!=='envAtlasHQ'&&_0x4934d7['append'](_0x5b2c4e['envAtlasPS']),_0x4934d7['append'](_0x5b2c4e['ambientEnv'+'PS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x3d6518['ambientEnc'+'oding'])))):_0x4934d7['append'](_0x5b2c4e['ambientCon'+'stantPS'])),_0x41dd0a||_0x310c47['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x3d6518['useMsdf']&&(_0x3d6518['msdfTextAt'+'tribute']||_0x310c47['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x4934d7['append'](_0x5b2c4e['msdfPS'])),this['needsNorma'+'l']&&(_0x4934d7['append'](_0x5b2c4e['viewDirPS']),_0x3d6518['useSpecula'+'r']&&_0x4934d7['append'](_0x3d6518['enableGGXS'+'pecular']?_0x5b2c4e['reflDirAni'+'soPS']:_0x5b2c4e['reflDirPS']));let _0x4ac673=!(-0x13cd+0x34*0x71+-0x326),_0x2c5142=!(0x264a+0x1d5c*-0x1+-0x8ed*0x1),_0x16f742=!(0x234f+0x13c3+-0x3711),_0x4d676c=!(-0x1231*0x1+-0xe9*-0x13+0xe7),_0x1c9ad6=!(-0x139e+-0xfb7*-0x2+-0xbcf),_0xb66326;if(_0x3d6518['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x4d676c=!(0x19ee*-0x1+0x3c3+0xe3*0x19),_0x4ac673=!(-0x1*-0x145d+0x4e*-0x2e+-0x659),_0x2c5142=!(-0x1*0xab7+0x24c8+-0x1a11),_0x1c9ad6=!(0x65e+0x419*-0x5+0xe1f),_0x4934d7['append'](_0x5b2c4e['floatUnpac'+'kingPS']),_0x3d6518['lightMaskD'+'ynamic']&&_0x310c47['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x3d6518['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x310c47['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x3d6518['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x3d6518['noShadow']){const _0x40c800=(_0x2e5865=nr['get'](_0x3d6518['clusteredL'+'ightingSha'+'dowType']))==null?void(0x34c+0x18*-0x4+-0x2ec):_0x2e5865['name'];b['assert'](_0x40c800);const _0x3740bb=_0x40c800['substring'](-0x166c+-0x25bc+0x8*0x785,0x6d*0x1f+0x2*0x4c1+-0x16b1);_0x310c47['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x310c47['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x3740bb);}_0x3d6518['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x310c47['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x310c47['append'](C0['getShaderD'+'efines']()),_0x3d6518['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x3d6518['noShadow']&&_0x4934d7['append'](_0x5b2c4e['clusteredL'+'ightShadow'+'sPS']),_0x4934d7['append'](_0x5b2c4e['clusteredL'+'ightPS']);}if(_0x43c2c9['append'](this['_fsGetStar'+'tCode'](_0x43c2c9,_0x256991,_0x5b2c4e,_0x3d6518)),this['needsNorma'+'l']&&(_0x43c2c9['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x3d6518['useHeights']||_0x3d6518['useNormals'])&&_0x3d6518['hasTangent'+'s']&&(_0x43c2c9['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x43c2c9['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x43c2c9['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x4df8b1&&(_0x43c2c9['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x3d6518['twoSidedLi'+'ghting']&&_0x43c2c9['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x43c2c9['append'](this['frontendFu'+'nc']),_0x3d6518['ssao']&&(_0x4934d7['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x4e7844['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x3d6518['useClearCo'+'at']&&_0x4e7844['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x3d6518['useSpecula'+'r']||this['reflection'+'s'])&&(_0x3d6518['useMetalne'+'ss']&&(_0x4e7844['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x4e7844['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x4e7844['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x3d6518['useIridesc'+'ence']&&_0x4e7844['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x32ba6b&&(_0x4e7844['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x3d6518['separateAm'+'bient']&&_0x4e7844['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x41dd0a||_0x4e7844['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x3d6518['useAo']&&!_0x3d6518['occludeDir'+'ect']&&_0x4e7844['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x3d6518['lightMapEn'+'abled']&&_0x4e7844['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x3d6518['useClearCo'+'at']&&(_0x4e7844['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x3d6518['fresnelMod'+'el']>0x201e*-0x1+0x1*0xe71+0x11ad?(_0x4e7844['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x4e7844['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x4e7844['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x3d6518['useSpecula'+'rityFactor']&&_0x4e7844['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x3d6518['useSheen']&&_0x4e7844['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x4e7844['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x3d6518['fresnelMod'+'el']>-0x107a+-0x55d*-0x2+0x5c0?_0x4e7844['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x4e7844['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x3d6518['useSpecula'+'rityFactor']&&_0x4e7844['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x537d9&&(_0x4e7844['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x24795d=-0x6d3+0x82d+0x15a*-0x1;_0x24795d<_0x3d6518['lights']['length'];_0x24795d++){const _0x3b1874=_0x3d6518['lights'][_0x24795d],_0x3c2f1f=_0x3b1874['_type'];if(_0x3d6518['clusteredL'+'ightingEna'+'bled']&&_0x3c2f1f!==le)continue;_0xb66326=!(-0x140b+0xf*-0x28f+0x3a6d*0x1);const _0x44d4d4=_0x537d9&&_0x3b1874['_shape']?_0x3b1874['shape']:Tt,_0x7b1c5f=_0x537d9&&_0x3b1874['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x44d4d4):'';if(_0x44d4d4!==Tt&&_0x4e7844['append']('\x20\x20\x20\x20calc'+_0x7b1c5f+('LightValue'+'s(light')+_0x24795d+('_position,'+'\x20light')+_0x24795d+('_halfWidth'+',\x20light')+_0x24795d+('_halfHeigh'+'t);')),_0x3c2f1f===le?(_0x4e7844['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x24795d+('_direction'+';')),_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x3b1874['_cookie']&&(_0x3c2f1f===Fe&&!_0x3b1874['_cookie']['_cubemap']||_0x3c2f1f===Le&&_0x3b1874['_cookie']['_cubemap'])&&(_0x1c9ad6=!(0x1712+0x122d*0x1+-0x293f*0x1),_0xb66326=!(-0x5*-0x173+0x1dfd+-0x253c)),_0x4e7844['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x24795d+('_position)'+';')),_0x4ac673=!(0xbc*-0x31+0x124*-0x21+-0x24d*-0x20),_0xb66326&&(_0x3c2f1f===Fe?_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x3b1874['_cookieFal'+'loff']?'':'Clip')+(_0x3b1874['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x24795d+('_cookie,\x20l'+'ight')+_0x24795d+('_shadowMat'+'rix,\x20light')+_0x24795d+('_cookieInt'+'ensity')+(_0x3b1874['_cookieTra'+'nsform']?',\x20light'+_0x24795d+('_cookieMat'+'rix,\x20light')+_0x24795d+('_cookieOff'+'set'):'')+').'+_0x3b1874['_cookieCha'+'nnel']+';'):_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x24795d+('_cookie,\x20l'+'ight')+_0x24795d+('_shadowMat'+'rix,\x20light')+_0x24795d+('_cookieInt'+'ensity).')+_0x3b1874['_cookieCha'+'nnel']+';')),_0x44d4d4===Tt?_0x3b1874['_falloffMo'+'de']===Cp?(_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x24795d+('_radius,\x20d'+'LightDirW)'+';')),_0x2c5142=!(-0x131e+-0x1285*-0x1+0x99)):(_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x24795d+('_radius,\x20d'+'LightDirW)'+';')),_0x16f742=!(0x4a1+-0x2199+-0x135*-0x18)):(_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x24795d+('_radius,\x20d'+'LightDirW)'+';')),_0x16f742=!(0x114c+-0x4*0x917+0x1310)),_0x4e7844['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x3c2f1f===Fe&&(_0xb66326&&!_0x3b1874['_cookieFal'+'loff']||(_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x24795d+('_direction'+',\x20light')+_0x24795d+('_innerCone'+'Angle,\x20lig'+'ht')+_0x24795d+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x4d676c=!(0x18e6+-0xf97+-0x94f)))),_0x44d4d4!==Tt?_0x3c2f1f===le?_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x7b1c5f+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x3b1874['castShadow'+'s']&&!_0x3d6518['noShadow']){const _0x21bb3b=nr['get'](_0x3b1874['_shadowTyp'+'e']);b['assert'](_0x21bb3b);const _0x5e012d=_0x3b1874['_shadowTyp'+'e']===Rs,_0x340144=_0x21bb3b==null?void(-0x2531+0xff4+0x153d):_0x21bb3b['vsm'],_0x4ee5ce=_0x21bb3b==null?void(-0xc1*-0x33+0x92*-0x10+0x1d53*-0x1):_0x21bb3b['pcf'];let _0x3984cc=null,_0x444fbb;switch(_0x3b1874['_shadowTyp'+'e']){case Wr:_0x3984cc='VSM16',_0x444fbb='5.54';break;case $r:_0x3984cc='VSM32',_0x444fbb='15.0';break;case Gh:case Hh:_0x3984cc='PCF1x1';break;case fh:case ku:_0x3984cc='PCF5x5';break;case Rs:_0x3984cc='PCSS';break;case zt:case Wh:default:_0x3984cc='PCF3x3';break;}if(_0x3984cc!==null){_0x3b1874['_normalOff'+'setBias']&&!_0x3b1874['_isVsm']&&_0x4934d7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x3c2f1f===le&&_0x4934d7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x4ee5ce||_0x5e012d||_0x256991['isWebGPU'])&&_0x4934d7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x3c2f1f===Le&&_0x4934d7['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x37733d=_0x5b2c4e['shadowSamp'+'leCoordPS'];_0x4934d7['append'](_0x37733d['replace']('$LIGHT',_0x24795d)),_0x4934d7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x4934d7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x4934d7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x4934d7['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x53ee3d='light'+_0x24795d+('_shadowMat'+'rix');_0x3c2f1f===le&&_0x3b1874['numCascade'+'s']>0xbf9*-0x1+-0xa31+0x162b&&(_0x4e7844['append']('int\x20cascad'+'eIndex'+_0x24795d+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x24795d+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x24795d+('_shadowCas'+'cadeCount)'+';')),_0x3b1874['cascadeBle'+'nd']>0x1e3f+0x78b+-0x2*0x12e5&&_0x4e7844['append']('cascadeInd'+'ex'+_0x24795d+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x24795d+',\x20light'+_0x24795d+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x24795d+('_shadowCas'+'cadeCount,'+'\x20light')+_0x24795d+('_shadowCas'+'cadeBlend)'+';')),_0x4e7844['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x24795d+'\x20=\x20light'+_0x24795d+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x24795d+'];'),_0x53ee3d='cascadeSha'+'dowMat'+_0x24795d),_0x4e7844['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x24795d+'('+_0x53ee3d+',\x20light'+_0x24795d+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x3c2f1f===le&&_0x4e7844['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x24795d+('_shadowCas'+'cadeDistan'+'ces);'));let _0x2c8d4a='SHADOWMAP_'+'PASS(light'+_0x24795d+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x24795d+('_shadowPar'+'ams');if(_0x340144)_0x2c8d4a=_0x2c8d4a+',\x20'+_0x444fbb+(',\x20dLightDi'+'rW');else{if(_0x5e012d){let _0x292b2c=_0x3c2f1f===le?'light'+_0x24795d+('_softShado'+'wParams'):'vec2(light'+_0x24795d+('_shadowSea'+'rchArea)');_0x44d4d4!==Tt&&(_0x292b2c='vec2(lengt'+'h(light'+_0x24795d+('_halfWidth'+'),\x20length('+'light')+_0x24795d+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x24795d+('_shadowSea'+'rchArea')),_0x2c8d4a=_0x2c8d4a+',\x20light'+_0x24795d+('_cameraPar'+'ams,\x20')+_0x292b2c+(',\x20dLightDi'+'rW');}}_0x3c2f1f===Le?(_0x3984cc='Point'+_0x3984cc,_0x5e012d||(_0x2c8d4a=_0x2c8d4a+(',\x20dLightDi'+'rW'))):_0x3c2f1f===Fe&&(_0x3984cc='Spot'+_0x3984cc),_0x4e7844['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x24795d+('\x20=\x20getShad'+'ow')+_0x3984cc+'('+_0x2c8d4a+');'),_0x4e7844['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x24795d+',\x20light'+_0x24795d+('_shadowInt'+'ensity);'));}}if(_0x44d4d4!==Tt?_0x3d6518['useSpecula'+'r']?_0x4e7844['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x4e7844['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+';'):_0x537d9&&_0x3d6518['useSpecula'+'r']?_0x4e7844['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x4e7844['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+';'),_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x3b1874['affectSpec'+'ularity']){if(_0x44d4d4!==Tt)_0x3d6518['useClearCo'+'at']&&_0x4e7844['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x7b1c5f+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+';'),_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x7b1c5f+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+';');else{let _0x2eec88=!(0x2354+0x48*0x78+-0x4513);_0x3c2f1f===le&&_0x3d6518['fresnelMod'+'el']>-0x3e*-0x57+-0x1*-0x1d71+0x1*-0x3283&&(_0x2eec88=!(-0x22*0xd9+-0x2b8+0x16*0x16f)),_0x3d6518['useClearCo'+'at']&&_0x4e7844['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+(_0x2eec88?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x3d6518['useSheen']&&_0x4e7844['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3'+';':';')),_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x24795d+'_color'+(_0xb66326?'\x20*\x20dAtten3':'')+(_0x2eec88?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x3c2f1f!==le&&_0x4e7844['append']('\x20\x20\x20\x20}');}_0x3d6518['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x2c5142=!(0x2068+-0x73*-0x2c+-0x342c),_0x16f742=!(-0x2ab+0x219a+-0x1eef*0x1),_0x4ac673=!(-0x19c3+0x1d62+-0x39f),_0x4e7844['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x537d9&&(_0x3d6518['useClearCo'+'at']&&_0x4e7844['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x3d6518['useSpecula'+'r']&&_0x4e7844['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x3d6518['useRefract'+'ion']&&_0x4e7844['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x3d6518['useAo']&&(_0x3d6518['occludeDir'+'ect']&&_0x4e7844['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x3d6518['occludeSpe'+'cular']===Vo||_0x3d6518['occludeSpe'+'cular']===Bu)&&_0x4e7844['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x3d6518['useSpecula'+'rityFactor']&&_0x4e7844['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x3d6518['opacityFad'+'esSpecular']===!(-0x1381+0x12*0xc+0x12aa)&&((_0x3d6518['blendType']===Gt||_0x3d6518['blendType']===dn)&&(_0x4e7844['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x4e7844['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x4e7844['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x4e7844['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x4e7844['append'](_0x5b2c4e['endPS']),_0x3d6518['blendType']===Gt||_0x3d6518['blendType']===Xc||_0x3d6518['alphaToCov'+'erage']?_0x4e7844['append'](_0x5b2c4e['outputAlph'+'aPS']):_0x3d6518['blendType']===dn?_0x4e7844['append'](_0x5b2c4e['outputAlph'+'aPremulPS']):_0x4e7844['append'](_0x5b2c4e['outputAlph'+'aOpaquePS']),_0x3d6518['useMsdf']&&_0x4e7844['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x4e7844['append'](_0x5b2c4e['outputPS']),_0x4e7844['append'](_0x5b2c4e['debugOutpu'+'tPS']),_0x4ac673&&_0x4934d7['prepend'](_0x5b2c4e['lightDirPo'+'intPS']),_0x2c5142&&_0x4934d7['prepend'](_0x5b2c4e['falloffLin'+'earPS']),_0x16f742&&_0x4934d7['prepend'](_0x5b2c4e['falloffInv'+'SquaredPS']),_0x4d676c&&_0x4934d7['prepend'](_0x5b2c4e['spotPS']),_0x1c9ad6&&!_0x3d6518['clusteredL'+'ightingEna'+'bled']&&_0x4934d7['prepend'](_0x5b2c4e['cookiePS']);let _0x5d203a='';const _0x213665='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x4e7844['code']+'\x0a}';_0x4934d7['append'](_0x213665),_0x43c2c9['append'](_0x5b2c4e['debugProce'+'ssFrontend'+'PS']),_0x43c2c9['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x43c2c9['append'](Nt['end']());const _0xb92c2e=_0x310c47['code']+_0x4934d7['code']+_0x43c2c9['code'];return _0xb92c2e['includes']('dTBN')&&(_0x5d203a+='mat3\x20dTBN;'+'\x0a'),_0xb92c2e['includes']('dVertexNor'+'malW')&&(_0x5d203a+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0xb92c2e['includes']('dTangentW')&&(_0x5d203a+='vec3\x20dTang'+'entW;\x0a'),_0xb92c2e['includes']('dBinormalW')&&(_0x5d203a+='vec3\x20dBino'+'rmalW;\x0a'),_0xb92c2e['includes']('dViewDirW')&&(_0x5d203a+='vec3\x20dView'+'DirW;\x0a'),_0xb92c2e['includes']('dReflDirW')&&(_0x5d203a+='vec3\x20dRefl'+'DirW;\x0a'),_0xb92c2e['includes']('dHalfDirW')&&(_0x5d203a+='vec3\x20dHalf'+'DirW;\x0a'),_0xb92c2e['includes']('ccReflDirW')&&(_0x5d203a+='vec3\x20ccRef'+'lDirW;\x0a'),_0xb92c2e['includes']('dLightDirN'+'ormW')&&(_0x5d203a+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0xb92c2e['includes']('dLightDirW')&&(_0x5d203a+='vec3\x20dLigh'+'tDirW;\x0a'),_0xb92c2e['includes']('dLightPosW')&&(_0x5d203a+='vec3\x20dLigh'+'tPosW;\x0a'),_0xb92c2e['includes']('dShadowCoo'+'rd')&&(_0x5d203a+='vec3\x20dShad'+'owCoord;\x0a'),_0xb92c2e['includes']('dReflectio'+'n')&&(_0x5d203a+='vec4\x20dRefl'+'ection;\x0a'),_0xb92c2e['includes']('dDiffuseLi'+'ght')&&(_0x5d203a+='vec3\x20dDiff'+'useLight;\x0a'),_0xb92c2e['includes']('dSpecularL'+'ight')&&(_0x5d203a+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0xb92c2e['includes']('dAtten')&&(_0x5d203a+='float\x20dAtt'+'en;\x0a'),_0xb92c2e['includes']('dAttenD')&&(_0x5d203a+='float\x20dAtt'+'enD;\x0a'),_0xb92c2e['includes']('dAtten3')&&(_0x5d203a+='vec3\x20dAtte'+'n3;\x0a'),_0xb92c2e['includes']('dMsdf')&&(_0x5d203a+='vec4\x20dMsdf'+';\x0a'),_0xb92c2e['includes']('ccFresnel')&&(_0x5d203a+='float\x20ccFr'+'esnel;\x0a'),_0xb92c2e['includes']('ccReflecti'+'on')&&(_0x5d203a+='vec3\x20ccRef'+'lection;\x0a'),_0xb92c2e['includes']('ccSpecular'+'Light')&&(_0x5d203a+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0xb92c2e['includes']('ccSpecular'+'ityNoFres')&&(_0x5d203a+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0xb92c2e['includes']('sSpecularL'+'ight')&&(_0x5d203a+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0xb92c2e['includes']('sReflectio'+'n')&&(_0x5d203a+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x5d203a+this['frontendDe'+'cl']+_0xb92c2e;}['generateFr'+'agmentShad'+'er'](_0x25e160,_0x10eff0,_0x8418ef,_0x3b8235){const _0x54fcce=this['options'];this['frontendDe'+'cl']=_0x25e160,this['frontendCo'+'de']=_0x10eff0,this['frontendFu'+'nc']=_0x8418ef,this['lightingUv']=_0x3b8235,_0x54fcce['pass']===Na?this['fshader']=this['_fsGetPick'+'PassCode']():_0x54fcce['pass']===ll?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x54fcce['pass']===ol?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x54fcce['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x54fcce['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),b['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class XC{constructor(){c(this,'hasTangent'+'s',!(0x2098*0x1+-0x1142+-0xf55)),c(this,'chunks',{}),c(this,'pass',0x2*0xf80+-0x8da+-0x1626),c(this,'alphaTest',!(-0x12fc+0xda1*0x1+0x55c)),c(this,'blendType',hs),c(this,'separateAm'+'bient',!(0x2eb+0x9e*0x1b+-0x1394)),c(this,'screenSpac'+'e',!(0x36c+0x3d*0x89+0x4*-0x904)),c(this,'skin',!(-0x2511*-0x1+-0x1429+-0x10e7)),c(this,'batch',!(0xb93*0x1+-0x2e+-0xb64)),c(this,'useInstanc'+'ing',!(0x1887+-0x1a0f+0x189)),c(this,'useMorphPo'+'sition',!(-0x1420+0x75e+-0x1b*-0x79)),c(this,'useMorphNo'+'rmal',!(0x645*-0x6+-0x58c+0x2b2b*0x1)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0x5c2+-0x25*-0x4+0x52f)),c(this,'nineSliced'+'Mode',-0x1271+0x7*0x3ee+-0x911),c(this,'clusteredL'+'ightingEna'+'bled',!(-0x1920+0x1*0x2af+0x1671)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x579+-0x3da+-0x19e)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x3ea*0x1+-0x1e88+-0x2273*-0x1)),c(this,'clusteredL'+'ightingSha'+'dowType',-0x1fc2+0x26f3*-0x1+0x46b5*0x1),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x2f*-0x4f+-0x1*0x112d+0x1*0x2ad)),c(this,'vertexColo'+'rs',!(-0x13c8+-0x94*-0x35+0x7*-0x18d)),c(this,'lightMapEn'+'abled',!(0x173c+0x2*-0xc92+-0xa3*-0x3)),c(this,'dirLightMa'+'pEnabled',!(-0x11fa+-0x1*0x7cf+0x19ca)),c(this,'useHeights',!(-0x379+-0x3b8+-0x266*-0x3)),c(this,'useNormals',!(0x213b+-0x1cf9+-0x21*0x21)),c(this,'useClearCo'+'atNormals',!(-0x11*0x2f+-0x2304+-0x1*-0x2624)),c(this,'useAo',!(0x85*0x2b+-0x146b+-0x1eb)),c(this,'diffuseMap'+'Enabled',!(-0x1fd3+0x219b+-0x1c7)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x845+0x3a3*0xa+-0x1c18)),c(this,'ambientSH',!(0x1524+0x232*0xd+0x1*-0x31ad)),c(this,'ssao',!(0x1ae2+-0xb0*-0x28+-0x3661)),c(this,'twoSidedLi'+'ghting',!(0x2*0xf7f+-0x10*0x242+-0x1*-0x523)),c(this,'occludeDir'+'ect',!(-0x1*-0x129e+-0x1530+0x293)),c(this,'occludeSpe'+'cular',0x1*0xdab+0x214*-0xe+0x167*0xb),c(this,'occludeSpe'+'cularFloat',!(-0x2d0+0xddd+0x2*-0x586)),c(this,'useMsdf',!(-0x95*0x1+-0x16b*-0xf+0x161*-0xf)),c(this,'msdfTextAt'+'tribute',!(-0x1457+-0x1715+-0x2b6d*-0x1)),c(this,'alphaToCov'+'erage',!(0x2*-0xf6+0x10f7+-0xf0a)),c(this,'opacityFad'+'esSpecular',!(-0x427*0x2+-0x26d4+0x2f23)),c(this,'opacityDit'+'her',Os),c(this,'opacitySha'+'dowDither',Os),c(this,'cubeMapPro'+'jection',-0x500*0x5+0x1*-0x16f7+0x2ff7),c(this,'useSpecula'+'r',!(-0x27*-0x95+0xb*0x7d+-0x1c11)),c(this,'useSpecula'+'rityFactor',!(0xc7*-0x2d+-0x1*-0xc5f+0x169d)),c(this,'enableGGXS'+'pecular',!(-0x162+-0x1d89+-0x7bb*-0x4)),c(this,'fresnelMod'+'el',-0x1cec*-0x1+0x62c*0x3+-0x2f70),c(this,'useRefract'+'ion',!(-0x35*0x35+-0x57*-0x1+0xaa3)),c(this,'useClearCo'+'at',!(0x17b*-0x2+0xd*-0x203+-0x1d1e*-0x1)),c(this,'useSheen',!(0x73*-0x2f+0xd44*0x1+-0x192*-0x5)),c(this,'useIridesc'+'ence',!(-0x35a+-0x3a8+0x5*0x167)),c(this,'useMetalne'+'ss',!(-0x119b+0x1*0x1ee9+-0xd4d)),c(this,'useDynamic'+'Refraction',!(0x651+0xb*-0x1f7+-0x1*-0xf4d)),c(this,'dispersion',!(0x327+-0x482*-0x2+0x9*-0x15a)),c(this,'fog',Ba),c(this,'gamma',al),c(this,'toneMap',-(-0x3*-0x2ad+0x110b*-0x1+-0x1*-0x905)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x5b*0x60+-0x87e+-0x1*-0x2a9f),c(this,'useCubeMap'+'Rotation',!(-0xa*0xd8+-0x108e+0x18ff)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x13e+0x75d+0x16f*-0x6)),c(this,'lights',[]),c(this,'noShadow',!(-0x77d+0x1f01+-0x1783)),c(this,'lightMaskD'+'ynamic',-0x1bd6+0xbf*-0x25+-0xf9*-0x39),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(-0xf7+-0x8cb+-0x31*-0x33));}}class qh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(-0x1*-0x1d23+-0x1*-0xc07+-0x2929)),c(this,'specularTi'+'nt',!(0x226b+0x3*-0x257+-0x1b65)),c(this,'metalnessT'+'int',!(0x3b1+0x1571+-0x1*0x1921)),c(this,'glossTint',!(-0x13ff*0x1+-0x260a+0x3a0a)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(0x2197+-0x16d3*0x1+-0xac3)),c(this,'glossInver'+'t',!(0xf2*-0x2+-0x1*-0x3b9+-0x4e*0x6)),c(this,'sheenGloss'+'Invert',!(-0xdee*-0x1+0x1207+-0x1ff4)),c(this,'clearCoatG'+'lossInvert',!(-0x20c6+-0x467+0x252e)),c(this,'useAO',!(0xd*0x1ed+0x1bd*0x9+-0x28ad)),c(this,'litOptions',new XC());}get['pass'](){return this['litOptions']['pass'];}}const Wu={'generateKey'(_0x55610a){return'lit'+Object['keys'](_0x55610a)['sort']()['map'](_0xdb0534=>_0xdb0534==='chunks'?Wu['generateCh'+'unksKey'](_0x55610a):_0xdb0534==='lights'?Wu['generateLi'+'ghtsKey'](_0x55610a):_0xdb0534+_0x55610a[_0xdb0534])['join']('\x0a');},'generateLightsKey'(_0x488b42){return'lights:'+_0x488b42['lights']['map'](_0x488479=>!_0x488b42['clusteredL'+'ightingEna'+'bled']||_0x488479['_type']===le?_0x488479['key']+',':'')['join']('');},'generateChunksKey'(_0x4744aa){return'chunks:\x0a'+Object['keys'](_0x4744aa['chunks']??{})['sort']()['map'](_0x2124a1=>_0x2124a1+_0x4744aa['chunks'][_0x2124a1])['join']('');}},ma=[],Pd=_0x499c43=>Object['keys'](_0x499c43)['filter'](_0x132450=>_0x132450!=='litOptions')['sort']();class jC extends Nt{constructor(){super(...arguments),c(this,'optionsCon'+'text',new qh()),c(this,'optionsCon'+'textMin',new qh());}['generateKe'+'y'](_0x28c8d6){let _0x1d7120;return _0x28c8d6===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Pd(_0x28c8d6)),_0x1d7120=this['propsMin']):_0x28c8d6===this['optionsCon'+'text']?(this['props']||(this['props']=Pd(_0x28c8d6)),_0x1d7120=this['props']):_0x1d7120=Pd(_0x28c8d6),'standard:\x0a'+Nt['definesHas'+'h'](_0x28c8d6['defines'])+'\x0a'+_0x1d7120['map'](_0x25338d=>_0x25338d+_0x28c8d6[_0x25338d])['join']('\x0a')+Wu['generateKe'+'y'](_0x28c8d6['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x4fe059,_0x31a7b3,_0x282875){const _0x4b687b=_0x282875[_0x4fe059],_0x50aefa=_0x282875[_0x31a7b3],_0x568749=_0x282875['litOptions']['pass']===xn;let _0x23806b;return _0x568749&&_0x282875['litOptions']['nineSliced'+'Mode']===ht||_0x568749&&_0x282875['litOptions']['nineSliced'+'Mode']===st?_0x23806b='nineSliced'+'Uv':(_0x4b687b===0x1c*0xd+-0x669*-0x5+-0x2179?_0x23806b='vUv'+_0x50aefa:_0x23806b='vUV'+_0x50aefa+'_'+_0x4b687b,_0x282875['heightMap']&&_0x4fe059!=='heightMapT'+'ransform'&&(_0x23806b+='\x20+\x20dUvOffs'+'et')),_0x23806b;}['_addMapDef'](_0x48b941,_0x60077a){return _0x60077a?'#define\x20'+_0x48b941+'\x0a':'#undef\x20'+_0x48b941+'\x0a';}['_addMapDef'+'s'](_0x24165f,_0x13b2ec,_0x52a1ae,_0x5cfcd2,_0x383490){return this['_addMapDef']('MAPFLOAT',_0x24165f)+this['_addMapDef']('MAPCOLOR',_0x13b2ec)+this['_addMapDef']('MAPVERTEX',_0x52a1ae)+this['_addMapDef']('MAPTEXTURE',_0x5cfcd2)+this['_addMapDef']('MAPINVERT',_0x383490);}['_addMap'](_0x374084,_0x453c90,_0x31d9df,_0x3cc378,_0x58daf1,_0x26dc63=null){const _0xfbf166=_0x374084+'Map',_0x458da2=_0xfbf166+'Uv',_0x5ebcf2=_0xfbf166+'Identifier',_0x15761d=_0xfbf166+'Transform',_0x25a26b=_0xfbf166+'Channel',_0x1cf2df=_0x374084+('VertexColo'+'rChannel'),_0x48c9c2=_0x374084+'Tint',_0x4f49ee=_0x374084+('VertexColo'+'r'),_0x482785=_0x374084+'Mode',_0x3da727=_0x374084+'Invert',_0x5bea9f=_0x31d9df[_0x48c9c2],_0x247f38=_0x31d9df[_0x4f49ee],_0x3ecf6a=_0x31d9df[_0xfbf166],_0x400c53=_0x31d9df[_0x5ebcf2],_0x7661a=_0x31d9df[_0x482785];let _0x2c5482=_0x3cc378[_0x453c90];if(_0x3ecf6a){const _0x509abe=this['_getUvSour'+'ceExpressi'+'on'](_0x15761d,_0x458da2,_0x31d9df);if(_0x2c5482=_0x2c5482['replace'](/\$UV/g,_0x509abe)['replace'](/\$CH/g,_0x31d9df[_0x25a26b]),_0x58daf1&&_0x2c5482['search'](/\$SAMPLER/g)!==-(0x1*0x132d+-0x12dd+-0x1*0x4f)){let _0xce830b='texture_'+_0xfbf166;const _0x29fbe3=_0x58daf1[_0x400c53];_0x29fbe3?_0xce830b=_0x29fbe3:_0x58daf1[_0x400c53]=_0xce830b,_0x2c5482=_0x2c5482['replace'](/\$SAMPLER/g,_0xce830b);}if(_0x26dc63&&(_0x31d9df[_0x25a26b]==='aaa'?_0x2c5482=_0x2c5482['replace'](/\$DECODE/g,'passThroug'+'h'):_0x2c5482=_0x2c5482['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x26dc63)),_0x2c5482['indexOf']('$texture2D'+'SAMPLE'))){const _0x58f087={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x2c5482=_0x2c5482['replace'](/\$texture2DSAMPLE/g,_0x58f087[_0x26dc63]||'texture2D');}}_0x247f38&&(_0x2c5482=_0x2c5482['replace'](/\$VC/g,_0x31d9df[_0x1cf2df])),_0x7661a&&(_0x2c5482=_0x2c5482['replace'](/\$DETAILMODE/g,_0x7661a));const _0x26c182=!!(_0x5bea9f&0x1*0x1303+-0x11f7+-0x1*0x10b),_0x408fa9=!!(_0x5bea9f&0xb06*0x3+-0x33*-0x65+-0x352f),_0x1f76d3=!!_0x31d9df[_0x3da727];return _0x2c5482=this['_addMapDef'+'s'](_0x26c182,_0x408fa9,_0x247f38,_0x3ecf6a,_0x1f76d3)+_0x2c5482,_0x2c5482['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x37197a,_0x13890a,_0x3d6856){if(_0x3d6856[_0x37197a]>0xc90+0x2b2+0x7*-0x22e){if(_0x3d6856[_0x37197a]<_0x13890a['length'])return _0x13890a['substring'](-0x7*0x18d+-0x8e1*0x1+-0x6*-0x34a,_0x3d6856[_0x37197a]);if(_0x3d6856[_0x37197a]>_0x13890a['length']){let _0x1cd93c=_0x13890a;const _0x36825e=_0x1cd93c['charAt'](_0x1cd93c['length']-(-0xb*0x10a+-0x1425+-0x1*-0x1f94)),_0x5e81d9=_0x3d6856[_0x37197a]-_0x1cd93c['length'];for(let _0x4aa502=0x1060+0x10c*0x25+-0x371c;_0x4aa502<_0x5e81d9;_0x4aa502++)_0x1cd93c+=_0x36825e;return _0x1cd93c;}return _0x13890a;}}['createShad'+'erDefiniti'+'on'](_0x29559d,_0x1f6ebd){const _0xfa9c47=ti['get'](_0x29559d)['getByIndex'](_0x1f6ebd['litOptions']['pass'])['isForward'],_0x380743=new qC(_0x29559d,_0x1f6ebd['litOptions']),_0x678f18=[],_0x104881=[],_0x396c5d=[],_0x142be6=-0x1b31*0x1+0x1224+0x305*0x3,_0x370c8f={};for(const _0x184ac0 in ma){const _0x1d928c=_0x184ac0+'Map';if(_0x1f6ebd[_0x184ac0+('VertexColo'+'r')]){const _0x580556=_0x184ac0+('VertexColo'+'rChannel');_0x1f6ebd[_0x580556]=this['_correctCh'+'annel'](_0x184ac0,_0x1f6ebd[_0x580556],ma);}if(_0x1f6ebd[_0x1d928c]){const _0x57c78e=_0x1d928c+'Channel',_0x1b1477=_0x1d928c+'Transform',_0x1ce4c1=_0x1d928c+'Uv';_0x1f6ebd[_0x1ce4c1]=Math['min'](_0x1f6ebd[_0x1ce4c1],_0x142be6-(-0x1*0x2169+-0x21ab+0x4315)),_0x1f6ebd[_0x57c78e]=this['_correctCh'+'annel'](_0x184ac0,_0x1f6ebd[_0x57c78e],ma);const _0x30faa4=_0x1f6ebd[_0x1ce4c1];_0x678f18[_0x30faa4]=!(0x13b8+0x6c3+-0x1a7b),_0x104881[_0x30faa4]=_0x104881[_0x30faa4]||_0x1f6ebd[_0x1d928c]&&!_0x1f6ebd[_0x1b1477],_0x1f6ebd[_0x1b1477]&&_0x396c5d['push']({'name':_0x184ac0,'id':_0x1f6ebd[_0x1b1477],'uv':_0x1f6ebd[_0x1ce4c1]});}}_0x1f6ebd['forceUv1']&&(_0x678f18[-0x124b*0x1+-0x1109+-0x87*-0x43]=!(-0x1*-0xe80+0x1232+-0x345*0xa),_0x104881[0x9d9*0x1+-0x20af+0x3*0x79d]=_0x104881[-0xfc9+0x6d+0xf5d]!==void(-0x1fe5+-0xb5*0x1+0x209a)?_0x104881[-0x1*0x1201+0xc17*-0x1+0x43*0x73]:!(-0x3e*0x97+0x1fc2+-0x9a*-0x8)),_0x380743['generateVe'+'rtexShader'](_0x678f18,_0x104881,_0x396c5d),_0x1f6ebd['litOptions']['fresnelMod'+'el']=_0x1f6ebd['litOptions']['fresnelMod'+'el']===-0x193d+-0x1066*-0x2+-0x78f?Tp:_0x1f6ebd['litOptions']['fresnelMod'+'el'];const _0x3042ac=new rr(),_0x3e0634=new rr(),_0x14f739=new rr(),_0x77c211=new rr();let _0x4ae4ca='';if(_0x1f6ebd['litOptions']['nineSliced'+'Mode']===st?_0x3042ac['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x3042ac['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0xfa9c47){if(_0x1f6ebd['heightMap']&&(_0x3042ac['append']('vec2\x20dUvOf'+'fset;'),_0x3e0634['append'](this['_addMap']('height','parallaxPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getParalla'+'x();')),_0x1f6ebd['litOptions']['blendType']!==hs||_0x1f6ebd['litOptions']['alphaTest']||_0x1f6ebd['litOptions']['alphaToCov'+'erage']||_0x1f6ebd['litOptions']['opacityDit'+'her']!==Os){_0x3042ac['append']('float\x20dAlp'+'ha;'),_0x3e0634['append'](this['_addMap']('opacity','opacityPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getOpacity'+'();'),_0x77c211['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x1f6ebd['litOptions']['alphaTest']&&(_0x3e0634['append'](_0x380743['chunks']['alphaTestP'+'S']),_0x14f739['append']('alphaTest('+'dAlpha);'));const _0x46c939=_0x1f6ebd['litOptions']['opacityDit'+'her'];_0x46c939!==Os&&(_0x46c939===zm&&_0x3042ac['append'](_0x380743['chunks']['bayerPS']),_0x3042ac['append']('#define\x20DI'+'THER_'+_0x46c939['toUpperCas'+'e']()+'\x0a'),_0x3042ac['append'](_0x380743['chunks']['opacityDit'+'herPS']),_0x14f739['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x3042ac['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x380743['needsNorma'+'l']){if((_0x1f6ebd['normalMap']||_0x1f6ebd['clearCoatN'+'ormalMap'])&&(_0x3e0634['append'](_0x1f6ebd['packedNorm'+'al']?_0x380743['chunks']['normalXYPS']:_0x380743['chunks']['normalXYZP'+'S']),!_0x1f6ebd['litOptions']['hasTangent'+'s'])){const _0x339604=_0x1f6ebd['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x4ae4ca=this['_getUvSour'+'ceExpressi'+'on'](_0x339604+'Transform',_0x339604+'Uv',_0x1f6ebd);}_0x3042ac['append']('vec3\x20dNorm'+'alW;'),_0x3e0634['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x3e0634['append'](this['_addMap']('normal','normalMapP'+'S',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getNormal('+');'),_0x77c211['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x380743['needsScene'+'Color']&&_0x3042ac['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x380743['needsScree'+'nSize']&&_0x3042ac['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x380743['needsTrans'+'forms']&&(_0x3042ac['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x3042ac['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x1f6ebd['diffuseDet'+'ail']||_0x1f6ebd['aoDetail'])&&_0x3e0634['append'](_0x380743['chunks']['detailMode'+'sPS']),_0x3042ac['append']('vec3\x20dAlbe'+'do;'),_0x1f6ebd['diffuseDet'+'ail']&&_0x3e0634['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f,_0x1f6ebd['diffuseDet'+'ailEncodin'+'g'])),_0x3e0634['append'](this['_addMap']('diffuse','diffusePS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f,_0x1f6ebd['diffuseEnc'+'oding'])),_0x14f739['append']('getAlbedo('+');'),_0x77c211['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x1f6ebd['litOptions']['useRefract'+'ion']&&(_0x3042ac['append']('float\x20dTra'+'nsmission;'),_0x3e0634['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getRefract'+'ion();'),_0x77c211['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x3042ac['append']('float\x20dThi'+'ckness;'),_0x3e0634['append'](this['_addMap']('thickness','thicknessP'+'S',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getThickne'+'ss();'),_0x77c211['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x1f6ebd['litOptions']['dispersion']&&_0x77c211['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x1f6ebd['litOptions']['useIridesc'+'ence']&&(_0x3042ac['append']('float\x20dIri'+'descence;'),_0x3e0634['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getIridesc'+'ence();'),_0x77c211['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x3042ac['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x3e0634['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getIridesc'+'enceThickn'+'ess();'),_0x77c211['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x380743['lighting']&&_0x1f6ebd['litOptions']['useSpecula'+'r']||_0x380743['reflection'+'s']?(_0x3042ac['append']('vec3\x20dSpec'+'ularity;'),_0x3042ac['append']('float\x20dGlo'+'ssiness;'),_0x1f6ebd['litOptions']['useSheen']&&(_0x3042ac['append']('vec3\x20sSpec'+'ularity;'),_0x3e0634['append'](this['_addMap']('sheen','sheenPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f,_0x1f6ebd['sheenEncod'+'ing'])),_0x14f739['append']('getSheen()'+';'),_0x77c211['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x3042ac['append']('float\x20sGlo'+'ssiness;'),_0x3e0634['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getSheenGl'+'ossiness()'+';'),_0x77c211['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x1f6ebd['litOptions']['useMetalne'+'ss']&&(_0x3042ac['append']('float\x20dMet'+'alness;'),_0x3e0634['append'](this['_addMap']('metalness','metalnessP'+'S',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getMetalne'+'ss();'),_0x77c211['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x3042ac['append']('float\x20dIor'+';'),_0x3e0634['append'](this['_addMap']('ior','iorPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getIor();'),_0x77c211['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x1f6ebd['litOptions']['useSpecula'+'rityFactor']&&(_0x3042ac['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x3e0634['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getSpecula'+'rityFactor'+'();'),_0x77c211['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x1f6ebd['useSpecula'+'rColor']?_0x3e0634['append'](this['_addMap']('specular','specularPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f,_0x1f6ebd['specularEn'+'coding'])):_0x3e0634['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x3e0634['append'](this['_addMap']('gloss','glossPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getGlossin'+'ess();'),_0x14f739['append']('getSpecula'+'rity();'),_0x77c211['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0x77c211['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x3042ac['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x3042ac['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x1f6ebd['aoDetail']&&_0x3e0634['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),(_0x1f6ebd['aoMap']||_0x1f6ebd['aoVertexCo'+'lor']||_0x1f6ebd['useAO'])&&(_0x3042ac['append']('float\x20dAo;'),_0x3e0634['append'](this['_addMap']('ao','aoPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getAO();'),_0x77c211['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x3042ac['append']('vec3\x20dEmis'+'sion;'),_0x3e0634['append'](this['_addMap']('emissive','emissivePS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f,_0x1f6ebd['emissiveEn'+'coding'])),_0x14f739['append']('getEmissio'+'n();'),_0x77c211['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x1f6ebd['litOptions']['useClearCo'+'at']&&(_0x3042ac['append']('float\x20ccSp'+'ecularity;'),_0x3042ac['append']('float\x20ccGl'+'ossiness;'),_0x3042ac['append']('vec3\x20ccNor'+'malW;'),_0x3e0634['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x3e0634['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x3e0634['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getClearCo'+'at();'),_0x14f739['append']('getClearCo'+'atGlossine'+'ss();'),_0x14f739['append']('getClearCo'+'atNormal()'+';'),_0x77c211['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0x77c211['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0x77c211['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x1f6ebd['lightMap']||_0x1f6ebd['lightVerte'+'xColor']){const _0x2df1ac=_0x1f6ebd['dirLightMa'+'p']&&_0x1f6ebd['litOptions']['useSpecula'+'r'],_0x3f5dca=_0x2df1ac?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x3042ac['append']('vec3\x20dLigh'+'tmap;'),_0x2df1ac&&_0x3042ac['append']('vec3\x20dLigh'+'tmapDir;'),_0x3e0634['append'](this['_addMap']('light',_0x3f5dca,_0x1f6ebd,_0x380743['chunks'],_0x370c8f,_0x1f6ebd['lightMapEn'+'coding'])),_0x14f739['append']('getLightMa'+'p();'),_0x77c211['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x2df1ac&&_0x77c211['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}b['assert'](_0x3e0634['code']['indexOf']('texture2DS'+'RGB')===-(0x1346*0x1+0x1*-0xd2e+-0x617)&&_0x3e0634['code']['indexOf']('texture2DR'+'GBM')===-(-0xb3a*0x2+-0x253e+-0x20f*-0x1d)&&_0x3e0634['code']['indexOf']('texture2DR'+'GBE')===-(-0x1ac4+-0x2a*-0x29+-0x2dd*-0x7),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x4ce65c=_0x1f6ebd['litOptions']['opacitySha'+'dowDither'];(_0x1f6ebd['litOptions']['alphaTest']||_0x4ce65c)&&(_0x3042ac['append']('float\x20dAlp'+'ha;'),_0x3e0634['append'](this['_addMap']('opacity','opacityPS',_0x1f6ebd,_0x380743['chunks'],_0x370c8f)),_0x14f739['append']('getOpacity'+'();'),_0x77c211['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x1f6ebd['litOptions']['alphaTest']&&(_0x3e0634['append'](_0x380743['chunks']['alphaTestP'+'S']),_0x14f739['append']('alphaTest('+'dAlpha);')),_0x4ce65c!==Os&&(_0x4ce65c===zm&&_0x3042ac['append'](_0x380743['chunks']['bayerPS']),_0x3042ac['append']('#define\x20DI'+'THER_'+_0x4ce65c['toUpperCas'+'e']()+'\x0a'),_0x3042ac['append'](_0x380743['chunks']['opacityDit'+'herPS']),_0x14f739['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x3042ac['append'](_0x380743['chunks']['litShaderA'+'rgsPS']),_0x3e0634['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x14f739['code']+'\x0a'+_0x77c211['code']+'\x0a\x20}\x0a'),_0x14f739['code']='evaluateFr'+'ontend();';for(const _0x3b3fcb in _0x370c8f)_0x3042ac['append']('uniform\x20sa'+'mpler2D\x20'+_0x370c8f[_0x3b3fcb]+';');_0x14f739['code']='\x0a'+_0x14f739['code']['split']('\x0a')['map'](_0x5b4b5e=>'\x20\x20\x20\x20'+_0x5b4b5e)['join']('\x0a')+'\x0a\x0a',_0x380743['generateFr'+'agmentShad'+'er'](_0x3042ac['code'],_0x3e0634['code'],_0x14f739['code'],_0x4ae4ca);const _0x4262ef=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x380743['chunks']),..._0x380743['chunks'],..._0x1f6ebd['litOptions']['chunks']})),_0x404747=new Map(_0x1f6ebd['defines']),_0x575ede=Ft['createDefi'+'nition'](_0x29559d,{'name':'StandardSh'+'ader','attributes':_0x380743['attributes'],'vertexCode':_0x380743['vshader'],'fragmentCode':_0x380743['fshader'],'vertexIncludes':_0x4262ef,'fragmentIncludes':_0x4262ef,'fragmentDefines':_0x404747,'vertexDefines':_0x404747});return _0x380743['shaderPass'+'Info']['isForward']&&(_0x575ede['tag']=Fy),_0x575ede;}}const Rd=new jC(),Vt=[];Vt[a0]={'src':ct,'dst':ct,'op':ES},Vt[hs]={'src':ct,'dst':Uf,'op':Ut},Vt[Gt]={'src':_c,'dst':gc,'op':Ut,'alphaSrc':ct},Vt[dn]={'src':ct,'dst':gc,'op':Ut},Vt[bp]={'src':ct,'dst':ct,'op':Ut},Vt[Xc]={'src':_c,'dst':ct,'op':Ut},Vt[o0]={'src':uy,'dst':TS,'op':Ut},Vt[l0]={'src':AS,'dst':ct,'op':Ut},Vt[wp]={'src':uy,'dst':Uf,'op':Ut},Vt[h0]={'src':ct,'dst':ct,'op':CS},Vt[c0]={'src':ct,'dst':ct,'op':MS};let YC=0x1e77+0xcec*0x1+-0x1d*0x17f;class Sn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',YC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(-0x1aa7+0x1031+0x39*0x2f)),c(this,'parameters',{}),c(this,'alphaTest',0x1aa6+-0x2360+0x8ba),c(this,'alphaToCov'+'erage',!(-0x15e6+-0x1aa5*0x1+0x4*0xc23)),c(this,'_blendStat'+'e',new bt()),c(this,'_depthStat'+'e',new us()),c(this,'cull',nn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x8b0+0x21b9+0xe23*-0x3)),c(this,'_shaderVer'+'sion',-0x9*0x3f3+0x110a+-0x3*-0x62b),c(this,'_scene',null),c(this,'dirty',!(0x2a*0x10+0x46d*0x4+-0x1454)),new.target===Sn&&b['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x4595b5){this['_dirtyShad'+'er']=!(-0x1998+0x2e*0x5c+0x8*0x122),this['_chunks']=_0x4595b5;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x26ca+0x9d*-0x10+-0x1*0x1cfa),this['_chunks'];}set['depthBias'](_0x46f740){this['_depthStat'+'e']['depthBias']=_0x46f740;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x38d4a6){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x38d4a6;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x4bf029){this['_blendStat'+'e']['redWrite']=_0x4bf029;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x4ec433){this['_blendStat'+'e']['greenWrite']=_0x4ec433;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x2142d5){this['_blendStat'+'e']['blueWrite']=_0x2142d5;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x2b7543){this['_blendStat'+'e']['alphaWrite']=_0x2b7543;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x4382fd=this['transparen'+'t'],_0x58d50e=this['meshInstan'+'ces'];for(let _0x292147=0x1*0xe41+-0x61b*0x2+0x20b*-0x1;_0x292147<_0x58d50e['length'];_0x292147++)_0x58d50e[_0x292147]['transparen'+'t']=_0x4382fd;}set['blendState'](_0x4c3fd3){this['_blendStat'+'e']['copy'](_0x4c3fd3),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x4693ae){const _0x2fc0d5=Vt[_0x4693ae];b['assert'](_0x2fc0d5,'Unknown\x20bl'+'end\x20mode\x20'+_0x4693ae),this['_blendStat'+'e']['setColorBl'+'end'](_0x2fc0d5['op'],_0x2fc0d5['src'],_0x2fc0d5['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x2fc0d5['alphaOp']??_0x2fc0d5['op'],_0x2fc0d5['alphaSrc']??_0x2fc0d5['src'],_0x2fc0d5['alphaDst']??_0x2fc0d5['dst']);const _0x28f7ce=_0x4693ae!==hs;this['_blendStat'+'e']['blend']!==_0x28f7ce&&(this['_blendStat'+'e']['blend']=_0x28f7ce,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return hs;const {colorOp:_0x40c1d5,colorSrcFactor:_0x5c9e87,colorDstFactor:_0x228542,alphaOp:_0x4b2e75,alphaSrcFactor:_0x37dac6,alphaDstFactor:_0x24bc41}=this['_blendStat'+'e'];for(let _0x23aab4=0x2e8*-0x3+-0x1*0x1699+-0x1*-0x1f51;_0x23aab4<Vt['length'];_0x23aab4++){const _0x26f504=Vt[_0x23aab4];if(_0x26f504['src']===_0x5c9e87&&_0x26f504['dst']===_0x228542&&_0x26f504['op']===_0x40c1d5&&_0x26f504['src']===_0x37dac6&&_0x26f504['dst']===_0x24bc41&&_0x26f504['op']===_0x4b2e75)return _0x23aab4;}return Gt;}set['depthState'](_0xf166d2){this['_depthStat'+'e']['copy'](_0xf166d2);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x3eb6b7){this['_depthStat'+'e']['test']=_0x3eb6b7;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x4019e4){this['_depthStat'+'e']['func']=_0x4019e4;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x50e0d4){this['_depthStat'+'e']['write']=_0x50e0d4;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x4a9b68){var _0x5d4bf5;this['name']=_0x4a9b68['name'],this['alphaTest']=_0x4a9b68['alphaTest'],this['alphaToCov'+'erage']=_0x4a9b68['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x4a9b68['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x4a9b68['_depthStat'+'e']),this['cull']=_0x4a9b68['cull'],this['stencilFro'+'nt']=(_0x5d4bf5=_0x4a9b68['stencilFro'+'nt'])==null?void(-0x1055*-0x1+-0x1040+-0x15):_0x5d4bf5['clone'](),_0x4a9b68['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x4a9b68['stencilFro'+'nt']===_0x4a9b68['stencilBac'+'k']?this['stencilFro'+'nt']:_0x4a9b68['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x1479c5 in _0x4a9b68['parameters'])_0x4a9b68['parameters']['hasOwnProp'+'erty'](_0x1479c5)&&this['_setParame'+'terSimple'](_0x1479c5,_0x4a9b68['parameters'][_0x1479c5]['data']);this['defines']['clear'](),_0x4a9b68['defines']['forEach']((_0x113675,_0x583835)=>this['defines']['set'](_0x583835,_0x113675));const _0x19f997=_0x4a9b68['_chunks'];for(const _0x46a838 in _0x19f997)_0x19f997['hasOwnProp'+'erty'](_0x46a838)&&(this['_chunks'][_0x46a838]=_0x19f997[_0x46a838]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x5ec8dc=this['meshInstan'+'ces'];for(let _0x573e1a=-0x57c+0x19d2+0x1*-0x1456;_0x573e1a<_0x5ec8dc['length'];_0x573e1a++)_0x5ec8dc[_0x573e1a]['updateKey']();}['updateUnif'+'orms'](_0x515640,_0x2cff01){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x58000e){b['assert'](!(0x2325*-0x1+-0x1a60+0x3d86),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x3*-0xc51+-0x14fe*-0x1+-0x39f0),this['clearVaria'+'nts']()),this['dirty']=!(0x23d5+0x2f*0x17+-0x280e);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x1477e5=this['meshInstan'+'ces'],_0x126937=_0x1477e5['length'];for(let _0xd70048=-0x16dd+-0x20d7+0x136*0x2e;_0xd70048<_0x126937;_0xd70048++)_0x1477e5[_0xd70048]['clearShade'+'rs']();}['getParamet'+'er'](_0x40b283){return this['parameters'][_0x40b283];}['_setParame'+'terSimple'](_0x1cd265,_0x5bc439){b['call'](()=>{_0x5bc439===void(0x1f7+0x151*0x4+0x73b*-0x1)&&b['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x1cd265+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x2052e4=this['parameters'][_0x1cd265];_0x2052e4?_0x2052e4['data']=_0x5bc439:this['parameters'][_0x1cd265]={'scopeId':null,'data':_0x5bc439};}['setParamet'+'er'](_0x545cf5,_0x259865){if(_0x259865===void(-0x185b*0x1+0x14fe+-0x7b*-0x7)&&typeof _0x545cf5=='object'){const _0x20fb7e=_0x545cf5;if(_0x20fb7e['length']){for(let _0x1db614=-0x12b7*-0x1+-0xa1*-0x27+-0x2b3e;_0x1db614<_0x20fb7e['length'];_0x1db614++)this['setParamet'+'er'](_0x20fb7e[_0x1db614]);return;}_0x545cf5=_0x20fb7e['name'],_0x259865=_0x20fb7e['value'];}this['_setParame'+'terSimple'](_0x545cf5,_0x259865);}['deletePara'+'meter'](_0x33449f){this['parameters'][_0x33449f]&&delete this['parameters'][_0x33449f];}['setParamet'+'ers'](_0x1ad358,_0x5c940f){const _0x2a0b15=this['parameters'];_0x5c940f===void(-0x27*-0x61+0x1368+-0x222f)&&(_0x5c940f=_0x2a0b15);for(const _0x345ec5 in _0x5c940f){const _0x1169f5=_0x2a0b15[_0x345ec5];_0x1169f5&&(_0x1169f5['scopeId']||(_0x1169f5['scopeId']=_0x1ad358['scope']['resolve'](_0x345ec5)),_0x1169f5['scopeId']['setValue'](_0x1169f5['data']));}}['setDefine'](_0x5122b4,_0x4412c1){let _0x4ff841=!(0x1*-0xcd3+0x2f4+0x10*0x9e);const {defines:_0x11d7bf}=this;_0x4412c1!==void(0x7*-0x263+-0x4d2*-0x2+0x1*0x711)&&_0x4412c1!==!(-0xa32+-0x168+-0x1*-0xb9b)?(_0x4ff841=!_0x11d7bf['has'](_0x5122b4)||_0x11d7bf['get'](_0x5122b4)!==_0x4412c1,_0x11d7bf['set'](_0x5122b4,_0x4412c1)):(_0x4ff841=_0x11d7bf['has'](_0x5122b4),_0x11d7bf['delete'](_0x5122b4)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x4ff841);}['getDefine'](_0xe86233){return this['defines']['has'](_0xe86233);}['destroy'](){this['variants']['clear']();for(let _0x2e3f17=0xae7*0x2+0x228e+-0x385c;_0x2e3f17<this['meshInstan'+'ces']['length'];_0x2e3f17++){const _0x1f848a=this['meshInstan'+'ces'][_0x2e3f17];if(_0x1f848a['clearShade'+'rs'](),_0x1f848a['_material']=null,_0x1f848a['mesh']){const _0x1b944d=cl(_0x1f848a['mesh']['device']);this!==_0x1b944d&&(_0x1f848a['material']=_0x1b944d);}else b['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x1f9f+-0x13*-0xf9+0x35*-0xf2;}['addMeshIns'+'tanceRef'](_0x3ca7db){this['meshInstan'+'ces']['push'](_0x3ca7db);}['removeMesh'+'InstanceRe'+'f'](_0x69f313){const _0x14ed96=this['meshInstan'+'ces'],_0x5f47d5=_0x14ed96['indexOf'](_0x69f313);_0x5f47d5!==-(0x8a2+0x34*-0x8b+0x1*0x139b)&&_0x14ed96['splice'](_0x5f47d5,0x1*-0x24d9+-0x21a4+0x467e);}}class Is{static['update'](_0x5df040,_0x14c36c,_0x14ea66,_0x107bd7,_0x576ae9,_0x192ff2,_0x4b6679){Is['updateShar'+'edOptions'](_0x5df040,_0x14c36c,_0x14ea66,_0x576ae9,_0x192ff2),Is['updateMate'+'rialOption'+'s'](_0x5df040,_0x14c36c),Is['updateEnvO'+'ptions'](_0x5df040,_0x14c36c,_0x14ea66,_0x107bd7),Is['updateLigh'+'tingOption'+'s'](_0x5df040,_0x14c36c,_0x576ae9,_0x4b6679);}static['updateShar'+'edOptions'](_0x53953f,_0x4b71e3,_0x4e4dd1,_0x3e106f,_0x556345){_0x53953f['chunks']=_0x4b71e3['chunks'],_0x53953f['pass']=_0x556345,_0x53953f['alphaTest']=_0x4b71e3['alphaTest']>0x7e6+0x1*-0xc8e+0x4a8,_0x53953f['blendType']=_0x4b71e3['blendType'],_0x53953f['screenSpac'+'e']=_0x3e106f&&(_0x3e106f&Ip)!==0x1f65+0x1ed*0x12+-0x1605*0x3,_0x53953f['skin']=_0x3e106f&&(_0x3e106f&jc)!==0x8*0x3df+0xd2b*-0x1+-0x5ef*0x3,_0x53953f['useInstanc'+'ing']=_0x3e106f&&(_0x3e106f&Yc)!==-0x12c2+0x1*0xae9+0x7*0x11f,_0x53953f['useMorphPo'+'sition']=_0x3e106f&&(_0x3e106f&Kc)!==0x262+0x2*-0x509+0x7b0,_0x53953f['useMorphNo'+'rmal']=_0x3e106f&&(_0x3e106f&Zc)!==0x22db*-0x1+0x7d8*-0x4+0xd3f*0x5,_0x53953f['useMorphTe'+'xtureBased'+'Int']=_0x3e106f&&(_0x3e106f&Qc)!==-0x4cb*-0x2+0x921+0x3*-0x63d,_0x53953f['hasTangent'+'s']=_0x3e106f&&(_0x3e106f&Dp)!==-0x1139+0x927+0x812,_0x53953f['nineSliced'+'Mode']=_0x4b71e3['nineSliced'+'Mode']||Pi,_0x4b71e3['useLightin'+'g']&&_0x4e4dd1['clusteredL'+'ightingEna'+'bled']?(_0x53953f['clusteredL'+'ightingEna'+'bled']=!(0x710+-0x692+-0x7e),_0x53953f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x4e4dd1['lighting']['cookiesEna'+'bled'],_0x53953f['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x4e4dd1['lighting']['shadowsEna'+'bled'],_0x53953f['clusteredL'+'ightingSha'+'dowType']=_0x4e4dd1['lighting']['shadowType'],_0x53953f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x4e4dd1['lighting']['areaLights'+'Enabled']):(_0x53953f['clusteredL'+'ightingEna'+'bled']=!(0x191f+-0x1dc3+0x4a5),_0x53953f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0xee*-0x7+0x269*-0x7+0xa5e*0x1),_0x53953f['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*0x1f17+0x4b*-0x2f+-0x193*0xb),_0x53953f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1*-0x4e5+-0x79c+0x2*0x641));}static['updateMate'+'rialOption'+'s'](_0x4691e8,_0x176a95){_0x4691e8['separateAm'+'bient']=!(-0x244*-0x6+-0x25b5+-0x1*-0x181e),_0x4691e8['customFrag'+'mentShader']=null,_0x4691e8['pixelSnap']=_0x176a95['pixelSnap'],_0x4691e8['ambientSH']=_0x176a95['ambientSH'],_0x4691e8['twoSidedLi'+'ghting']=_0x176a95['twoSidedLi'+'ghting'],_0x4691e8['occludeDir'+'ect']=_0x176a95['occludeDir'+'ect'],_0x4691e8['occludeSpe'+'cular']=_0x176a95['occludeSpe'+'cular'],_0x4691e8['occludeSpe'+'cularFloat']=_0x176a95['occludeSpe'+'cularInten'+'sity']!==0x148d+-0x153*-0x3+-0x1*0x1885,_0x4691e8['useMsdf']=!(-0x4*-0x1a5+0x18da+-0x1*0x1f6d),_0x4691e8['msdfTextAt'+'tribute']=!(-0x8c3*0x1+0x3e*0x63+0x2*-0x79b),_0x4691e8['alphaToCov'+'erage']=_0x176a95['alphaToCov'+'erage'],_0x4691e8['opacityFad'+'esSpecular']=_0x176a95['opacityFad'+'esSpecular'],_0x4691e8['opacityDit'+'her']=_0x176a95['opacityDit'+'her'],_0x4691e8['cubeMapPro'+'jection']=f0,_0x4691e8['useSpecula'+'r']=_0x176a95['hasSpecula'+'r'],_0x4691e8['useSpecula'+'rityFactor']=_0x176a95['hasSpecula'+'rityFactor'],_0x4691e8['enableGGXS'+'pecular']=_0x176a95['ggxSpecula'+'r'],_0x4691e8['fresnelMod'+'el']=_0x176a95['fresnelMod'+'el'],_0x4691e8['useRefract'+'ion']=_0x176a95['hasRefract'+'ion'],_0x4691e8['useClearCo'+'at']=_0x176a95['hasClearCo'+'at'],_0x4691e8['useSheen']=_0x176a95['hasSheen'],_0x4691e8['useIridesc'+'ence']=_0x176a95['hasIrrides'+'cence'],_0x4691e8['useMetalne'+'ss']=_0x176a95['hasMetalne'+'ss'],_0x4691e8['useDynamic'+'Refraction']=_0x176a95['dynamicRef'+'raction'],_0x4691e8['dispersion']=_0x176a95['dispersion']>0xd*0xdd+0x4*0x42+-0xc41,_0x4691e8['vertexColo'+'rs']=!(-0x46*0x8+-0x110b+0x133c),_0x4691e8['lightMapEn'+'abled']=_0x176a95['hasLightin'+'g'],_0x4691e8['dirLightMa'+'pEnabled']=_0x176a95['dirLightMa'+'p'],_0x4691e8['useHeights']=_0x176a95['hasHeights'],_0x4691e8['useNormals']=_0x176a95['hasNormals'],_0x4691e8['useClearCo'+'atNormals']=_0x176a95['hasClearCo'+'atNormals'],_0x4691e8['useAo']=_0x176a95['hasAo'],_0x4691e8['diffuseMap'+'Enabled']=_0x176a95['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x3c1709,_0xa42df2,_0xd16f06,_0x1c7f86){_0x3c1709['fog']=_0xa42df2['useFog']?_0x1c7f86['fog']:Ba,_0x3c1709['gamma']=_0x1c7f86['shaderOutp'+'utGamma'],_0x3c1709['toneMap']=_0xa42df2['useTonemap']?_0x1c7f86['toneMappin'+'g']:p0,_0xa42df2['useSkybox']&&_0xd16f06['envAtlas']&&_0xd16f06['skybox']?(_0x3c1709['reflection'+'Source']='envAtlasHQ',_0x3c1709['reflection'+'Encoding']=_0xd16f06['envAtlas']['encoding'],_0x3c1709['reflection'+'CubemapEnc'+'oding']=_0xd16f06['skybox']['encoding']):_0xa42df2['useSkybox']&&_0xd16f06['envAtlas']?(_0x3c1709['reflection'+'Source']='envAtlas',_0x3c1709['reflection'+'Encoding']=_0xd16f06['envAtlas']['encoding']):_0xa42df2['useSkybox']&&_0xd16f06['skybox']?(_0x3c1709['reflection'+'Source']='cubeMap',_0x3c1709['reflection'+'Encoding']=_0xd16f06['skybox']['encoding']):(_0x3c1709['reflection'+'Source']=null,_0x3c1709['reflection'+'Encoding']=null),_0xa42df2['ambientSH']?(_0x3c1709['ambientSou'+'rce']='ambientSH',_0x3c1709['ambientEnc'+'oding']=null):_0x3c1709['reflection'+'Source']&&_0xd16f06['envAtlas']?(_0x3c1709['ambientSou'+'rce']='envAtlas',_0x3c1709['ambientEnc'+'oding']=_0xd16f06['envAtlas']['encoding']):(_0x3c1709['ambientSou'+'rce']='constant',_0x3c1709['ambientEnc'+'oding']=null);const _0x4c9a19=!!_0x3c1709['reflection'+'Source'];_0x3c1709['skyboxInte'+'nsity']=_0x4c9a19,_0x3c1709['useCubeMap'+'Rotation']=_0x4c9a19&&_0xd16f06['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3a63c7,_0x3f8ea2,_0x42a65d,_0x2eac5f){if(_0x3a63c7['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1ec2+0xc07+-0xb*-0x1b4),_0x3f8ea2['useLightin'+'g']){const _0x4cd897=[],_0x4ea925=_0x42a65d?_0x42a65d>>-0x1cf0+-0x26cd+0x43cd:ms;_0x3a63c7['lightMaskD'+'ynamic']=!!(_0x4ea925&ms),_0x3a63c7['lightMapWi'+'thoutAmbie'+'nt']=!(-0xa79+-0x887+0x1301),_0x2eac5f&&(Is['collectLig'+'hts'](le,_0x2eac5f[le],_0x4cd897,_0x4ea925),Is['collectLig'+'hts'](Le,_0x2eac5f[Le],_0x4cd897,_0x4ea925),Is['collectLig'+'hts'](Fe,_0x2eac5f[Fe],_0x4cd897,_0x4ea925)),_0x3a63c7['lights']=_0x4cd897;}else _0x3a63c7['lights']=[];(_0x3a63c7['lights']['length']===-0x65f*-0x4+-0x34*0x53+-0x8a0||(_0x42a65d&Rp)!==0x1463+0xf98+-0x23fb)&&(_0x3a63c7['noShadow']=!(0x32b*0x6+-0x9f*0xb+-0x1*0xc2d));}static['collectLig'+'hts'](_0x1ad397,_0x21544e,_0x4f91e6,_0x18bbbb){for(let _0x33fd27=-0x421+0x202c+-0x1c0b;_0x33fd27<_0x21544e['length'];_0x33fd27++){const _0x207ae8=_0x21544e[_0x33fd27];_0x207ae8['enabled']&&_0x207ae8['mask']&_0x18bbbb&&_0x4f91e6['push'](_0x207ae8);}}}const d_=(_0x6a5675,_0xcae7f8)=>{if(_0x6a5675['length']!==_0xcae7f8['length'])return!(0xd1d*0x1+-0x33*-0x1f+-0x1349);for(let _0x17e307=-0x23b4+-0xe1+0x2495;_0x17e307<_0x6a5675['length'];++_0x17e307)if(_0x6a5675[_0x17e307]!==_0xcae7f8[_0x17e307])return!(-0x21a1+-0x83*-0x40+0xe2);return!(0xf*-0x45+-0x372+0x77d);},KC=_0x2288ee=>_0x2288ee['r']!==0x3*0x92d+-0x8e5*0x4+0x80e||_0x2288ee['g']!==0x12*0x81+0x378+-0xc89||_0x2288ee['b']!==0x17*-0x17+-0x9c7+0x3*0x3f3,ZC=_0x1e4ddd=>_0x1e4ddd['r']!==0x1abd*0x1+-0x1023+-0x2e*0x3b||_0x1e4ddd['g']!==-0x4d2+-0x78*-0x40+0x16*-0x125||_0x1e4ddd['b']!==0x1*-0x24fd+0x7c8+0x1d35;class QC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x4e6c61,_0x1fa8f6,_0x5aad13,_0x71644b,_0xb70501,_0x47d5ac){this['_updateSha'+'redOptions'](_0x4e6c61,_0x1fa8f6,_0x5aad13,_0x71644b,_0xb70501),this['_updateMin'+'Options'](_0x4e6c61,_0x5aad13,_0xb70501),this['_updateUVO'+'ptions'](_0x4e6c61,_0x5aad13,_0x71644b,!(0x67*0x59+-0x1f6e+-0x461));}['updateRef'](_0x4a5c6a,_0x500fa2,_0x36250f,_0x5de054,_0x368f48,_0x8cbc34,_0x410225){this['_updateSha'+'redOptions'](_0x4a5c6a,_0x500fa2,_0x5de054,_0x368f48,_0x8cbc34),this['_updateEnv'+'Options'](_0x4a5c6a,_0x5de054,_0x500fa2,_0x36250f),this['_updateMat'+'erialOptio'+'ns'](_0x4a5c6a,_0x5de054),_0x4a5c6a['litOptions']['hasTangent'+'s']=_0x368f48&&(_0x368f48&Dp)!==0x1e2*0x3+0x1114+-0x16ba,this['_updateLig'+'htOptions'](_0x4a5c6a,_0x500fa2,_0x5de054,_0x368f48,_0x410225),this['_updateUVO'+'ptions'](_0x4a5c6a,_0x5de054,_0x368f48,!(-0x92b*0x1+-0x16d*0x17+-0xdfd*-0x3),_0x36250f);}['_updateSha'+'redOptions'](_0xc987ed,_0x2f317c,_0x387dd4,_0x2ea95e,_0x2e85d9){_0xc987ed['forceUv1']=_0x387dd4['forceUv1'],_0x387dd4['userAttrib'+'utes']&&(_0xc987ed['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x387dd4['userAttrib'+'utes']['entries']())),_0xc987ed['litOptions']['chunks']=_0x387dd4['chunks']||{},_0xc987ed['litOptions']['pass']=_0x2e85d9,_0xc987ed['litOptions']['alphaTest']=_0x387dd4['alphaTest']>-0x1c1d*-0x1+0xb62+0x277f*-0x1,_0xc987ed['litOptions']['blendType']=_0x387dd4['blendType'],_0xc987ed['litOptions']['screenSpac'+'e']=_0x2ea95e&&(_0x2ea95e&Ip)!==-0x1*0x19e4+-0x242+-0x1c26*-0x1,_0xc987ed['litOptions']['skin']=_0x2ea95e&&(_0x2ea95e&jc)!==0x153f+-0xb8e*-0x2+-0x2c5b,_0xc987ed['litOptions']['batch']=_0x2ea95e&&(_0x2ea95e&zu)!==0x190*0x4+0x2*0xbc0+-0x1dc0,_0xc987ed['litOptions']['useInstanc'+'ing']=_0x2ea95e&&(_0x2ea95e&Yc)!==0x1f5e+0x39a+-0x8*0x45f,_0xc987ed['litOptions']['useMorphPo'+'sition']=_0x2ea95e&&(_0x2ea95e&Kc)!==-0xffa*-0x1+-0x24b6+0x14bc*0x1,_0xc987ed['litOptions']['useMorphNo'+'rmal']=_0x2ea95e&&(_0x2ea95e&Zc)!==-0x1*-0x210b+0x1f02+-0x35f*0x13,_0xc987ed['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x2ea95e&&(_0x2ea95e&Qc)!==-0x1ef0*0x1+0x50b+-0x7*-0x3b3,_0xc987ed['litOptions']['nineSliced'+'Mode']=_0x387dd4['nineSliced'+'Mode']||-0xe14*0x1+-0x131f+0x2133,_0x2f317c['clusteredL'+'ightingEna'+'bled']&&_0x387dd4['useLightin'+'g']?(_0xc987ed['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1c10+0x564+-0x2174),_0xc987ed['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x2f317c['lighting']['cookiesEna'+'bled'],_0xc987ed['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x2f317c['lighting']['shadowsEna'+'bled'],_0xc987ed['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x2f317c['lighting']['shadowType'],_0xc987ed['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x2f317c['lighting']['areaLights'+'Enabled']):(_0xc987ed['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x819*-0x4+-0x79b+0x2800),_0xc987ed['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x20d8+0x28b*0xd+-0x36),_0xc987ed['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x1a2b+0x172c+0x300),_0xc987ed['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x234e*0x1+0x15*-0x199+0x44dc));}['_updateUVO'+'ptions'](_0x443938,_0x25936f,_0x5d3c8e,_0x191aa8,_0x57378e){let _0x1eafe8=!(0x1e9a*-0x1+-0x7*-0x4f9+-0x10d*0x4),_0x5188d5=!(0x12ee+-0x1729+-0x1*-0x43c),_0x154b6b=!(0x2*0x6dd+0x136c+0x1*-0x2125);_0x5d3c8e&&(_0x1eafe8=(_0x5d3c8e&_0)!==-0x28e*0x1+-0x1ade+0x1c*0x10d,_0x5188d5=(_0x5d3c8e&g0)!==-0x58b+-0x3*0xb94+0x2847,_0x154b6b=(_0x5d3c8e&y0)!==-0x2b4+0x2e*-0x26+0x988),_0x443938['litOptions']['vertexColo'+'rs']=!(-0x1*-0x24+0xf*-0x220+0x19*0x145),this['_mapXForms']=[];const _0x34e4c6={};for(const _0x54e357 in ma)this['_updateTex'+'Options'](_0x443938,_0x25936f,_0x54e357,_0x1eafe8,_0x5188d5,_0x154b6b,_0x191aa8,_0x34e4c6);this['_mapXForms']=null,_0x443938['litOptions']['ssao']=_0x57378e==null?void(-0x839+-0xa*-0x5+0xf*0x89):_0x57378e['ssaoEnable'+'d'],_0x443938['useAO']=_0x443938['litOptions']['ssao'],_0x443938['litOptions']['lightMapEn'+'abled']=_0x443938['lightMap'],_0x443938['litOptions']['dirLightMa'+'pEnabled']=_0x443938['dirLightMa'+'p'],_0x443938['litOptions']['useHeights']=_0x443938['heightMap'],_0x443938['litOptions']['useNormals']=_0x443938['normalMap'],_0x443938['litOptions']['useClearCo'+'atNormals']=_0x443938['clearCoatN'+'ormalMap'],_0x443938['litOptions']['useAo']=_0x443938['aoMap']||_0x443938['aoVertexCo'+'lor']||_0x443938['litOptions']['ssao'],_0x443938['litOptions']['diffuseMap'+'Enabled']=_0x443938['diffuseMap'];}['_updateTex'+'Options'](_0x35625b,_0x44d78b,_0x38eb81,_0x2e917b,_0x2581e4,_0x26ab39,_0x206293,_0x6c7afe){const _0x4f9872=_0x38eb81==='opacity';if(!_0x206293||_0x4f9872){const _0x5c2847=_0x38eb81+'Map',_0x8236cc=_0x38eb81+('VertexColo'+'r'),_0x52b930=_0x38eb81+('VertexColo'+'rChannel'),_0x39a7d8=_0x5c2847+'Channel',_0x12fde4=_0x5c2847+'Transform',_0x2d1a3e=_0x5c2847+'Uv',_0x25c439=_0x5c2847+'Identifier';if(_0x38eb81!=='light'&&(_0x35625b[_0x5c2847]=!(0x1*0xa9f+0x123a*0x1+-0x34*0x8e),_0x35625b[_0x25c439]=void(0x2003+0x1*0x1a51+-0x3a54),_0x35625b[_0x39a7d8]='',_0x35625b[_0x12fde4]=-0x10cb+-0xd9*-0x5+0xc8e,_0x35625b[_0x2d1a3e]=0x62f+0x1*0x762+-0xd91),_0x35625b[_0x8236cc]=!(-0x1c1+-0x2351*0x1+0x1*0x2513),_0x35625b[_0x52b930]='',_0x4f9872&&_0x44d78b['blendType']===hs&&_0x44d78b['alphaTest']===-0xc70+-0x91c+0x158c&&!_0x44d78b['alphaToCov'+'erage']&&_0x44d78b['opacityDit'+'her']===Os)return;if(_0x38eb81!=='height'&&_0x44d78b[_0x8236cc]&&_0x26ab39&&(_0x35625b[_0x8236cc]=_0x44d78b[_0x8236cc],_0x35625b[_0x52b930]=_0x44d78b[_0x52b930],_0x35625b['litOptions']['vertexColo'+'rs']=!(0xb42*0x3+0x1*-0x652+-0x1b74)),_0x44d78b[_0x5c2847]){let _0x623f0d=!(-0xe*0x143+0x1136+-0x74*-0x1);if(_0x44d78b[_0x2d1a3e]===0x11f4+-0x137a+-0x186*-0x1&&!_0x2e917b&&(_0x623f0d=!(-0x6b9+0x47*-0xb+-0x1*-0x9c7)),_0x44d78b[_0x2d1a3e]===-0x4d4+0x1*-0x1046+0x151b&&!_0x2581e4&&(_0x623f0d=!(-0x56e+0x3*-0xff+-0x2c*-0x31)),_0x623f0d){const _0xa6b20f=_0x44d78b[_0x5c2847]['id'];let _0x414cb0=_0x6c7afe[_0xa6b20f];_0x414cb0===void(-0x159a+-0xea0*0x1+-0x1*-0x243a)&&(_0x6c7afe[_0xa6b20f]=_0x38eb81,_0x414cb0=_0x38eb81),_0x35625b[_0x5c2847]=!!_0x44d78b[_0x5c2847],_0x35625b[_0x25c439]=_0x414cb0,_0x35625b[_0x12fde4]=this['_getMapTra'+'nsformID'](_0x44d78b['getUniform'](_0x12fde4),_0x44d78b[_0x2d1a3e]),_0x35625b[_0x39a7d8]=_0x44d78b[_0x39a7d8],_0x35625b[_0x2d1a3e]=_0x44d78b[_0x2d1a3e];}}}}['_updateMin'+'Options'](_0x7954e4,_0x3d0ac1,_0x56e852){const _0x4a1b0e=_0x56e852===ol;_0x7954e4['litOptions']['opacitySha'+'dowDither']=_0x4a1b0e?_0x3d0ac1['opacityDit'+'her']:_0x3d0ac1['opacitySha'+'dowDither'],_0x7954e4['litOptions']['linearDept'+'h']=_0x4a1b0e,_0x7954e4['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x23b43f,_0xdb22f4){var _0x19c12a,_0x2e50d1,_0x5c335b,_0x3943b2;const _0x1d5ed3=!!(_0xdb22f4['useMetalne'+'ss']||_0xdb22f4['specularMa'+'p']||_0xdb22f4['sphereMap']||_0xdb22f4['cubeMap']||ZC(_0xdb22f4['specular'])||_0xdb22f4['specularit'+'yFactor']>-0x566+0x2646+-0x20e0*0x1&&_0xdb22f4['useMetalne'+'ss']||_0xdb22f4['enableGGXS'+'pecular']||_0xdb22f4['clearCoat']>0x1*0x2149+0x1*-0x19a0+-0x7a9),_0x39094d=!_0xdb22f4['useMetalne'+'ss']||_0xdb22f4['useMetalne'+'ssSpecular'+'Color'],_0x1866de=_0x1d5ed3&&(_0xdb22f4['specularTi'+'nt']||!_0xdb22f4['specularMa'+'p']&&!_0xdb22f4['specularVe'+'rtexColor'])&&KC(_0xdb22f4['specular']),_0x19c80e=_0x1d5ed3&&_0xdb22f4['useMetalne'+'ssSpecular'+'Color']&&(_0xdb22f4['specularit'+'yFactorTin'+'t']||_0xdb22f4['specularit'+'yFactor']<0x281*-0xd+-0x877*-0x3+0x1*0x729&&!_0xdb22f4['specularit'+'yFactorMap']),_0x4a18a7=_0xdb22f4['normalMap']?_0xdb22f4['normalMap']['format']===Yo||_0xdb22f4['normalMap']['type']===dp:!(-0xb18+-0x18ee+0x1*0x2407),_0x1aa775=(_0x129708,_0x1ce821)=>Math['abs'](_0x129708-_0x1ce821)<-0x5*0x5cf+-0x210f+0x3e1a+0.0001;_0x23b43f['specularTi'+'nt']=_0x1866de?-0x2*-0x110c+0x2*0x1b4+0x2*-0x12bf:-0xe7f+-0xc37*0x1+0x1*0x1ab6,_0x23b43f['specularit'+'yFactorTin'+'t']=_0x19c80e?-0x1568+0xda*-0x10+-0x2309*-0x1:-0x33a+-0x882+0xbbc,_0x23b43f['metalnessT'+'int']=_0xdb22f4['useMetalne'+'ss']&&_0xdb22f4['metalness']<-0x1d68+0x163d+0x3*0x264?0xb81*0x2+0x96*-0x18+-0x8f1:-0xbbe+0x18d*-0x11+0x261b,_0x23b43f['glossTint']=-0x53*-0x18+-0x23a2+0x949*0x3,_0x23b43f['diffuseEnc'+'oding']=(_0x19c12a=_0xdb22f4['diffuseMap'])==null?void(0x192*0x8+-0x14d9+0x849):_0x19c12a['encoding'],_0x23b43f['diffuseDet'+'ailEncodin'+'g']=(_0x2e50d1=_0xdb22f4['diffuseDet'+'ailMap'])==null?void(0x1df1+-0x8*0x1df+-0xef9):_0x2e50d1['encoding'],_0x23b43f['emissiveEn'+'coding']=(_0x5c335b=_0xdb22f4['emissiveMa'+'p'])==null?void(0x1d2c+0x2*-0x1f9+-0x193a):_0x5c335b['encoding'],_0x23b43f['lightMapEn'+'coding']=(_0x3943b2=_0xdb22f4['lightMap'])==null?void(-0x805*0x1+0x201c+0x1*-0x1817):_0x3943b2['encoding'],_0x23b43f['packedNorm'+'al']=_0x4a18a7,_0x23b43f['refraction'+'Tint']=_0x1aa775(_0xdb22f4['refraction'],-0x2*0x39f+0x5e+0x3*0x24b)?0x10a3*0x2+-0x1be6+-0x560:-0x3ce*-0x1+0x212a+-0x24f7,_0x23b43f['refraction'+'IndexTint']=_0x1aa775(_0xdb22f4['refraction'+'Index'],(0x15ac+0x1511+0x223*-0x14)/(-0x7*0x576+-0x1*-0x15d5+0x1066+0.5))?0x16ac+-0x1*0x2587+-0x1*-0xedb:-0x10*-0x16f+-0x131f+-0x3d0,_0x23b43f['thicknessT'+'int']=_0xdb22f4['useDynamic'+'Refraction']&&_0xdb22f4['thickness']!==-0x49*0x61+-0xe65+0x25*0x123?0x1a0*0xd+-0x54*-0x15+0x65*-0x47:-0x123b*0x1+0x160e+-0x3d3,_0x23b43f['specularEn'+'coding']=_0xdb22f4['specularEn'+'coding']||'linear',_0x23b43f['sheenEncod'+'ing']=_0xdb22f4['sheenEncod'+'ing']||'linear',_0x23b43f['aoMapUv']=_0xdb22f4['aoUvSet'],_0x23b43f['aoDetail']=!!_0xdb22f4['aoMap'],_0x23b43f['diffuseDet'+'ail']=!!_0xdb22f4['diffuseMap'],_0x23b43f['normalDeta'+'il']=!!_0xdb22f4['normalMap'],_0x23b43f['diffuseDet'+'ailMode']=_0xdb22f4['diffuseDet'+'ailMode'],_0x23b43f['aoDetailMo'+'de']=_0xdb22f4['aoDetailMo'+'de'],_0x23b43f['clearCoatT'+'int']=_0x1aa775(_0xdb22f4['clearCoat'],-0x94*0x35+-0x4*0x4ce+-0x45*-0xb9)?0x13b7+-0xa28+-0x98f*0x1:0x1*0x20ff+-0x1d8d+-0x371,_0x23b43f['clearCoatG'+'loss']=!!_0xdb22f4['clearCoatG'+'loss'],_0x23b43f['clearCoatG'+'lossTint']=_0xdb22f4['clearCoatG'+'loss']!==0x1c65+0x2*0x826+0x37*-0xd0?-0xd*0x213+0x1*-0x1072+0x2b6a:-0x56*0x8+0xf71+-0x5*0x28d,_0x23b43f['iorTint']=_0x1aa775(_0xdb22f4['refraction'+'Index'],(-0x40b+-0x1*-0xe45+-0xa39)/(0x1f*0x2f+0x7bf*0x1+-0xd6f+0.5))?0x13*0x16+-0x98e*0x4+0x2496:-0x12d0+-0xe2e+0x1*0x20ff,_0x23b43f['iridescenc'+'eTint']=_0xdb22f4['iridescenc'+'e']!==0x21*0x8b+-0x1602+0x418?-0x11*0x20d+-0xe22+0x62*0x80:-0x7*0x272+-0x12*0x7+0x142*0xe,_0x23b43f['glossInver'+'t']=_0xdb22f4['glossInver'+'t'],_0x23b43f['sheenGloss'+'Invert']=_0xdb22f4['sheenGloss'+'Invert'],_0x23b43f['clearCoatG'+'lossInvert']=_0xdb22f4['clearCoatG'+'lossInvert'],_0x23b43f['useSpecula'+'rColor']=_0x39094d,_0x23b43f['litOptions']['separateAm'+'bient']=!(0xd12+0x9*-0xdf+-0x53a),_0x23b43f['litOptions']['customFrag'+'mentShader']=_0xdb22f4['customFrag'+'mentShader'],_0x23b43f['litOptions']['pixelSnap']=_0xdb22f4['pixelSnap'],_0x23b43f['litOptions']['ambientSH']=!!_0xdb22f4['ambientSH'],_0x23b43f['litOptions']['twoSidedLi'+'ghting']=_0xdb22f4['twoSidedLi'+'ghting'],_0x23b43f['litOptions']['occludeSpe'+'cular']=_0xdb22f4['occludeSpe'+'cular'],_0x23b43f['litOptions']['occludeSpe'+'cularFloat']=_0xdb22f4['occludeSpe'+'cularInten'+'sity']!==-0x1f37+-0xb6+0x1fee,_0x23b43f['litOptions']['useMsdf']=!!_0xdb22f4['msdfMap'],_0x23b43f['litOptions']['msdfTextAt'+'tribute']=!!_0xdb22f4['msdfTextAt'+'tribute'],_0x23b43f['litOptions']['alphaToCov'+'erage']=_0xdb22f4['alphaToCov'+'erage'],_0x23b43f['litOptions']['opacityFad'+'esSpecular']=_0xdb22f4['opacityFad'+'esSpecular'],_0x23b43f['litOptions']['opacityDit'+'her']=_0xdb22f4['opacityDit'+'her'],_0x23b43f['litOptions']['cubeMapPro'+'jection']=_0xdb22f4['cubeMapPro'+'jection'],_0x23b43f['litOptions']['occludeDir'+'ect']=_0xdb22f4['occludeDir'+'ect'],_0x23b43f['litOptions']['useSpecula'+'r']=_0x1d5ed3,_0x23b43f['litOptions']['useSpecula'+'rityFactor']=(_0x19c80e||!!_0xdb22f4['specularit'+'yFactorMap'])&&_0xdb22f4['useMetalne'+'ssSpecular'+'Color'],_0x23b43f['litOptions']['enableGGXS'+'pecular']=_0xdb22f4['enableGGXS'+'pecular'],_0x23b43f['litOptions']['fresnelMod'+'el']=_0xdb22f4['fresnelMod'+'el'],_0x23b43f['litOptions']['useRefract'+'ion']=(_0xdb22f4['refraction']||!!_0xdb22f4['refraction'+'Map'])&&(_0xdb22f4['useDynamic'+'Refraction']||!!_0x23b43f['litOptions']['reflection'+'Source']),_0x23b43f['litOptions']['useClearCo'+'at']=!!_0xdb22f4['clearCoat'],_0x23b43f['litOptions']['useSheen']=_0xdb22f4['useSheen'],_0x23b43f['litOptions']['useIridesc'+'ence']=_0xdb22f4['useIridesc'+'ence']&&_0xdb22f4['iridescenc'+'e']!==-0x1f61+-0x2504+-0x4465*-0x1,_0x23b43f['litOptions']['useMetalne'+'ss']=_0xdb22f4['useMetalne'+'ss'],_0x23b43f['litOptions']['useDynamic'+'Refraction']=_0xdb22f4['useDynamic'+'Refraction'],_0x23b43f['litOptions']['dispersion']=_0xdb22f4['dispersion']>0x2477+-0xc1b*-0x2+0x3cad*-0x1;}['_updateEnv'+'Options'](_0x5a473e,_0x43a608,_0x51136a,_0xbe504){_0x5a473e['litOptions']['fog']=_0x43a608['useFog']?_0xbe504['fog']:Ba,_0x5a473e['litOptions']['gamma']=_0xbe504['shaderOutp'+'utGamma'],_0x5a473e['litOptions']['toneMap']=_0x43a608['useTonemap']?_0xbe504['toneMappin'+'g']:p0;let _0x9acc98=!(0x2641*-0x1+-0xf6d+0x35af);if(_0x43a608['envAtlas']&&_0x43a608['cubeMap']?(_0x5a473e['litOptions']['reflection'+'Source']='envAtlasHQ',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x43a608['envAtlas']['encoding'],_0x5a473e['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x43a608['cubeMap']['encoding']):_0x43a608['envAtlas']?(_0x5a473e['litOptions']['reflection'+'Source']='envAtlas',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x43a608['envAtlas']['encoding']):_0x43a608['cubeMap']?(_0x5a473e['litOptions']['reflection'+'Source']='cubeMap',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x43a608['cubeMap']['encoding']):_0x43a608['sphereMap']?(_0x5a473e['litOptions']['reflection'+'Source']='sphereMap',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x43a608['sphereMap']['encoding']):_0x43a608['useSkybox']&&_0x51136a['envAtlas']&&_0x51136a['skybox']?(_0x5a473e['litOptions']['reflection'+'Source']='envAtlasHQ',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x51136a['envAtlas']['encoding'],_0x5a473e['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x51136a['skybox']['encoding'],_0x9acc98=!(0x20dd+0xc2f+-0xc*0x3c1)):_0x43a608['useSkybox']&&_0x51136a['envAtlas']?(_0x5a473e['litOptions']['reflection'+'Source']='envAtlas',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x51136a['envAtlas']['encoding'],_0x9acc98=!(0x6ba+-0x150f+0xe55)):_0x43a608['useSkybox']&&_0x51136a['skybox']?(_0x5a473e['litOptions']['reflection'+'Source']='cubeMap',_0x5a473e['litOptions']['reflection'+'Encoding']=_0x51136a['skybox']['encoding'],_0x9acc98=!(-0x223+0x1*0x1684+-0x1461)):(_0x5a473e['litOptions']['reflection'+'Source']=null,_0x5a473e['litOptions']['reflection'+'Encoding']=null),_0x43a608['ambientSH'])_0x5a473e['litOptions']['ambientSou'+'rce']='ambientSH',_0x5a473e['litOptions']['ambientEnc'+'oding']=null;else{const _0x5e750a=_0x43a608['envAtlas']||(_0x43a608['useSkybox']&&_0x51136a['envAtlas']?_0x51136a['envAtlas']:null);_0x5e750a&&!_0x43a608['sphereMap']?(_0x5a473e['litOptions']['ambientSou'+'rce']='envAtlas',_0x5a473e['litOptions']['ambientEnc'+'oding']=_0x5e750a['encoding']):(_0x5a473e['litOptions']['ambientSou'+'rce']='constant',_0x5a473e['litOptions']['ambientEnc'+'oding']=null);}_0x5a473e['litOptions']['skyboxInte'+'nsity']=_0x9acc98,_0x5a473e['litOptions']['useCubeMap'+'Rotation']=_0x9acc98&&_0x51136a['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x12ecd4,_0x147359,_0x4ba4b2,_0x251a05,_0x5aeecd){if(_0x12ecd4['lightMap']=!(0xe6+0xb62+-0xc47),_0x12ecd4['lightMapCh'+'annel']='',_0x12ecd4['lightMapUv']=0x795*-0x2+0x23aa+0x1480*-0x1,_0x12ecd4['lightMapTr'+'ansform']=0x21*-0x95+-0x153*-0x1+0x11e2,_0x12ecd4['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x6*-0x56d+0x1680+0x1*-0x370d),_0x12ecd4['dirLightMa'+'p']=!(-0x48b*-0x3+-0x248+-0xb58),_0x251a05&&(_0x12ecd4['litOptions']['noShadow']=(_0x251a05&Rp)!==-0x1ab*-0x17+0xc6a+-0x32c7,(_0x251a05&Nu)!==0x1bc8+-0x2494+0x8cc&&(_0x12ecd4['lightMapEn'+'coding']=_0x147359['lightmapPi'+'xelFormat']===Te?'rgbm':'linear',_0x12ecd4['lightMap']=!(-0x261f+0x1*-0x220f+0x2*0x2417),_0x12ecd4['lightMapCh'+'annel']='rgb',_0x12ecd4['lightMapUv']=0xff1+-0x215e+0x116e,_0x12ecd4['lightMapTr'+'ansform']=0x725*-0x2+-0x1*-0x21e2+-0x1398*0x1,_0x12ecd4['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x4ba4b2['lightMap'],(_0x251a05&x0)!==0x5d9+0x2*-0x9ff+-0x33*-0x47&&(_0x12ecd4['dirLightMa'+'p']=!(-0x1*-0xa0a+0x22e7+-0x2cf1)),(_0x251a05&S0)!==-0x3*0x7f+0x3*-0x1c3+-0x242*-0x3&&(_0x12ecd4['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x48f+0xb30+-0xfbe)))),_0x4ba4b2['useLightin'+'g']){const _0x1ba79f=[],_0x44e90f=_0x251a05?_0x251a05>>0x1708+0xc10+-0x2308:ms;_0x12ecd4['litOptions']['lightMaskD'+'ynamic']=!!(_0x44e90f&ms),_0x5aeecd&&(Is['collectLig'+'hts'](le,_0x5aeecd[le],_0x1ba79f,_0x44e90f),Is['collectLig'+'hts'](Le,_0x5aeecd[Le],_0x1ba79f,_0x44e90f),Is['collectLig'+'hts'](Fe,_0x5aeecd[Fe],_0x1ba79f,_0x44e90f)),_0x12ecd4['litOptions']['lights']=_0x1ba79f;}else _0x12ecd4['litOptions']['lights']=[];_0x12ecd4['litOptions']['lights']['length']===-0x2*0x16b+0x7*-0x553+-0x281b*-0x1&&(_0x12ecd4['litOptions']['noShadow']=!(0x1afb+-0xefb+-0xc00));}['_getMapTra'+'nsformID'](_0x39c8ad,_0x5697c6){if(!_0x39c8ad)return-0x2*0xfa1+-0x1de1+0x3d23;let _0x1813c2=this['_mapXForms'][_0x5697c6];_0x1813c2||(_0x1813c2=[],this['_mapXForms'][_0x5697c6]=_0x1813c2);for(let _0x51b293=0x20e3*0x1+0x108f+0x18b9*-0x2;_0x51b293<_0x1813c2['length'];_0x51b293++)if(d_(_0x1813c2[_0x51b293][0x1*0x2ba+0x2071+-0x1*0x232b]['value'],_0x39c8ad[-0xbeb*0x1+-0x12c3*0x1+-0x11*-0x1ce]['value'])&&d_(_0x1813c2[_0x51b293][-0x1371+0x142f+0x3*-0x3f]['value'],_0x39c8ad[0x41e+0x209e+0x1*-0x24bb]['value']))return _0x51b293+(0x1*-0xea5+-0x1*-0xdee+0xb8);return _0x1813c2['push'](_0x39c8ad);}}function Ze(_0x27c32e,_0x39c8a8=!(-0xb75+0x2*-0x635+-0x123*-0x15),_0x5c22d8=!(0x3b6*-0x1+0x10c7+0x5*-0x29d)){const _0x5e6c67={};return _0x5e6c67[_0x27c32e+'Map']='texture',_0x5e6c67[_0x27c32e+'MapTiling']='vec2',_0x5e6c67[_0x27c32e+'MapOffset']='vec2',_0x5e6c67[_0x27c32e+('MapRotatio'+'n')]='number',_0x5e6c67[_0x27c32e+'MapUv']='number',_0x39c8a8&&(_0x5e6c67[_0x27c32e+'MapChannel']='string',_0x5c22d8&&(_0x5e6c67[_0x27c32e+('VertexColo'+'r')]='boolean',_0x5e6c67[_0x27c32e+('VertexColo'+'rChannel')]='string')),_0x5e6c67;}const Da={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...Ze('ao'),...Ze('aoDetail',!(-0xa3*0x8+-0x2*-0xdb2+0x4*-0x593),!(-0xe96+0x17*0x12a+-0xc2f)),'aoDetailMode':'string','diffuse':'rgb',...Ze('diffuse'),...Ze('diffuseDet'+'ail',!(-0x5*-0x25f+-0x23a8+0x17cd*0x1),!(-0x1*0x1299+-0xfda+0x2274)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...Ze('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...Ze('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...Ze('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...Ze('gloss'),'clearCoat':'number',...Ze('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...Ze('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...Ze('clearCoatN'+'ormal',!(0xf1d+0x1aa*0x2+-0x1270*0x1)),'useSheen':'boolean','sheen':'rgb',...Ze('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...Ze('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...Ze('emissive'),'emissiveIntensity':'number',...Ze('normal',!(-0x6ac*-0x5+-0x62a+-0x1*0x1b31)),'bumpiness':'number',...Ze('normalDeta'+'il',!(0x1*-0x17fe+0x1f3c+-0x1*0x73d)),'normalDetailMapBumpiness':'number',...Ze('height',!(0xb*0x93+0x2*0x1327+-0x2c9f),!(-0x1c02*-0x1+0xc8c+-0x288d)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...Ze('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...Ze('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...Ze('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...Ze('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...Ze('iridescenc'+'eThickness'),...Ze('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},ed=[];for(const l in Da)Da[l]==='texture'&&ed['push'](l);const Np=[];for(const l in Da)Da[l]==='cubemap'&&Np['push'](l);const JC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},gh={},R0={};let Ya=new Set();const Bl=new Y();class _s extends Sn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new QC(),this['reset']());}['reset'](){Object['keys'](gh)['forEach'](_0x19dee8=>{this['_'+_0x19dee8]=gh[_0x19dee8]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x51d6eb){return super['copy'](_0x51d6eb),Object['keys'](gh)['forEach'](_0x3d9816=>{this[_0x3d9816]=_0x51d6eb[_0x3d9816];}),this['userAttrib'+'utes']=new Map(_0x51d6eb['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0xd481f8,_0x4655d1){this['userAttrib'+'utes']['set'](_0x4655d1,_0xd481f8);}['_setParame'+'ter'](_0x15f39a,_0x105fde){Ya['add'](_0x15f39a),this['setParamet'+'er'](_0x15f39a,_0x105fde);}['_setParame'+'ters'](_0x36a673){_0x36a673['forEach'](_0x43dabf=>{this['_setParame'+'ter'](_0x43dabf['name'],_0x43dabf['value']);});}['_processPa'+'rameters'](_0x453ca3){const _0x52e4b6=this[_0x453ca3];_0x52e4b6['forEach'](_0x4e3d97=>{Ya['has'](_0x4e3d97)||delete this['parameters'][_0x4e3d97];}),this[_0x453ca3]=Ya,Ya=_0x52e4b6,Ya['clear']();}['_updateMap'](_0x35def5){const _0xdfca6b=_0x35def5+'Map',_0x361d06=this[_0xdfca6b];if(_0x361d06){this['_setParame'+'ter']('texture_'+_0xdfca6b,_0x361d06);const _0x416e7a=_0xdfca6b+'Transform',_0x4dfbd6=this['getUniform'](_0x416e7a);_0x4dfbd6&&this['_setParame'+'ters'](_0x4dfbd6);}}['_allocUnif'+'orm'](_0x1dba02,_0x236776){let _0x46b60f=this['_uniformCa'+'che'][_0x1dba02];return _0x46b60f||(_0x46b60f=_0x236776(),this['_uniformCa'+'che'][_0x1dba02]=_0x46b60f),_0x46b60f;}['getUniform'](_0x7163eb,_0x43b4a1,_0x448f59){return R0[_0x7163eb](this,_0x43b4a1,_0x448f59);}['updateUnif'+'orms'](_0x106c10,_0x2924b9){const _0xad1051=_0x113255=>this['getUniform'](_0x113255,_0x106c10,_0x2924b9);this['_setParame'+'ter']('material_a'+'mbient',_0xad1051('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0xad1051('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x2d*0x63+0xfe+0x1*-0x1264)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0xad1051('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0xad1051('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0xad1051('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0xd94+0x714+0x680&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),b['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x624+-0x1505*-0x1+-0x1b29*0x1&&this['emissive']['g']===-0x1*-0x210d+-0x915+-0x17f8*0x1&&this['emissive']['b']===-0x1*-0x66d+-0x1523+0xeb6&&b['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0xad1051('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x3*0x31d+-0x395*-0x8+-0x5*0x3dd&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x1*0x9e8+0x3d8+-0x8*0x1b8&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0xad1051('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x7d1+0x1c5*-0x10+0x147f?0x560+0x1*0x471+0x1*-0x9d1:(0xcb4+0x3*-0x7cb+0xaae)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x13d0+0x4*-0x3be+0x22c9)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0xad1051('cubeMapPro'+'jectionBox'));for(const _0x1a3630 in ma)this['_updateMap'](_0x1a3630);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0xad1051('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x106c10,_0x2924b9);}['updateEnvU'+'niforms'](_0x103eb4,_0x485d9d){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x485d9d['envAtlas']&&_0x485d9d['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x485d9d['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x485d9d['skybox'])):_0x485d9d['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x485d9d['envAtlas']):_0x485d9d['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x485d9d['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x4bff5e){const {device:_0xde0281,scene:_0x15cd9c,pass:_0x1290bd,objDefs:_0x5b6cbc,sortedLights:_0x32c0fb,cameraShaderParams:_0x1a69de}=_0x4bff5e;this['updateEnvU'+'niforms'](_0xde0281,_0x15cd9c);const _0x3bbdf6=ti['get'](_0xde0281)['getByIndex'](_0x1290bd),_0x1b3d1d=_0x1290bd===ll||_0x1290bd===Na||_0x1290bd===ol||_0x3bbdf6['isShadow'];let _0x5e2944=_0x1b3d1d?Rd['optionsCon'+'textMin']:Rd['optionsCon'+'text'];_0x5e2944['defines']=Op(this,_0x4bff5e),_0x1b3d1d?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x5e2944,_0x15cd9c,this,_0x5b6cbc,_0x1290bd,_0x32c0fb):this['shaderOptB'+'uilder']['updateRef'](_0x5e2944,_0x15cd9c,_0x1a69de,this,_0x5b6cbc,_0x1290bd,_0x32c0fb),_0x5e2944['defines']['set']('TONEMAP',m0[_0x5e2944['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x5e2944=this['onUpdateSh'+'ader'](_0x5e2944));const _0x179889=new Jc(_0x4bff5e['viewUnifor'+'mFormat'],_0x4bff5e['viewBindGr'+'oupFormat'],_0x4bff5e['vertexForm'+'at']),_0x1e7ef3=za(_0xde0281);_0x1e7ef3['register']('standard',Rd);const _0x149379=_0x1e7ef3['getProgram']('standard',_0x5e2944,_0x179889,this['userId']);return this['_dirtyShad'+'er']=!(0x40b+-0x173b+-0x1331*-0x1),_0x149379;}['destroy'](){for(const _0x5a6f34 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x5a6f34]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(_s,'TEXTURE_PA'+'RAMETERS',ed),c(_s,'CUBEMAP_PA'+'RAMETERS',Np);const td=(_0x321a03,_0x544f28)=>{R0[_0x321a03]=_0x544f28;},zp=(_0x1621d7,_0x1cc7e3,_0x30e453,_0x473816)=>{Object['defineProp'+'erty'](_s['prototype'],_0x1621d7,{'get':_0x473816||function(){return this['_'+_0x1621d7];},'set':_0x30e453}),gh[_0x1621d7]={'value':_0x1cc7e3};},eM=_0x17f1e8=>{const _0x44c9be='_'+_0x17f1e8['name'],_0x491dcc=_0x17f1e8['dirtyShade'+'rFunc']||(()=>!(-0x1*0x1891+-0x1580+-0x1*-0x2e11)),_0x32be5d=function(_0x2e7daa){const _0x22db2f=this[_0x44c9be];_0x22db2f!==_0x2e7daa&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x491dcc(_0x22db2f,_0x2e7daa),this[_0x44c9be]=_0x2e7daa);};zp(_0x17f1e8['name'],()=>_0x17f1e8['defaultVal'+'ue'],_0x32be5d,_0x17f1e8['getterFunc']);},tM=_0x5bbf9b=>{const _0x840b85='_'+_0x5bbf9b['name'],_0x88c69a=_0x5bbf9b['dirtyShade'+'rFunc']||(()=>!(0xce*-0x26+-0x7b2+0x2646)),_0x23711f=function(_0xc91f17){const _0x77b855=this[_0x840b85];_0x77b855['equals'](_0xc91f17)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x88c69a(_0x77b855,_0xc91f17),this[_0x840b85]=_0x77b855['copy'](_0xc91f17));};zp(_0x5bbf9b['name'],()=>_0x5bbf9b['defaultVal'+'ue']['clone'](),_0x23711f,_0x5bbf9b['getterFunc']);},os=_0x4be45e=>_0x4be45e['defaultVal'+'ue']&&_0x4be45e['defaultVal'+'ue']['clone']?tM(_0x4be45e):eM(_0x4be45e);function qe(_0x1c8890,_0x47a74e='rgb',_0x247214=!(-0x2385+0xf*-0x6b+-0x29ca*-0x1),_0x4b2564=-0x1ca9+0x1ad4*-0x1+0x377d){ma[_0x1c8890]=_0x47a74e['length']||-(-0x1*-0xf06+0x1b*-0x14c+-0x13ff*-0x1),os({'name':_0x1c8890+'Map','defaultValue':null,'dirtyShaderFunc':(_0x32ae72,_0x8cf077)=>!!_0x32ae72!=!!_0x8cf077||_0x32ae72&&(_0x32ae72['type']!==_0x8cf077['type']||_0x32ae72['format']!==_0x8cf077['format'])}),os({'name':_0x1c8890+'MapTiling','defaultValue':new W(-0xb5b*0x2+-0x1*-0x21dd+-0xb26,0x68f+0x8*0x56+-0x93e)}),os({'name':_0x1c8890+'MapOffset','defaultValue':new W(-0x25ba+0x189b+0xd1f,0x18d5+0x18f*-0x16+0x975)}),os({'name':_0x1c8890+('MapRotatio'+'n'),'defaultValue':0x0}),os({'name':_0x1c8890+'MapUv','defaultValue':_0x4b2564}),_0x47a74e&&(os({'name':_0x1c8890+'MapChannel','defaultValue':_0x47a74e}),_0x247214&&(os({'name':_0x1c8890+('VertexColo'+'r'),'defaultValue':!(-0x12*-0x18+-0x9af+0x800)}),os({'name':_0x1c8890+('VertexColo'+'rChannel'),'defaultValue':_0x47a74e})));const _0x2a9dd5=_0x1c8890+'MapTiling',_0x4e9aff=_0x1c8890+'MapOffset',_0x514123=_0x1c8890+('MapRotatio'+'n'),_0x1756f7=_0x1c8890+('MapTransfo'+'rm');td(_0x1756f7,(_0x10bcca,_0x149dd2,_0x5c85b2)=>{const _0x542307=_0x10bcca[_0x2a9dd5],_0x1e0055=_0x10bcca[_0x4e9aff],_0x3a0ea8=_0x10bcca[_0x514123];if(_0x542307['x']===0x4cb*-0x3+-0x1*-0x1ecb+-0x1069&&_0x542307['y']===-0x224d*-0x1+-0x9ca+0xc41*-0x2&&_0x1e0055['x']===0xa6a*0x1+0xc89*0x3+-0x3005&&_0x1e0055['y']===-0x1138+-0x1*-0x1938+-0x800&&_0x3a0ea8===0x199a+-0x15b3+-0x3e7)return null;const _0x37bf5c=_0x10bcca['_allocUnif'+'orm'](_0x1756f7,()=>[{'name':'texture_'+_0x1756f7+'0','value':new Float32Array(0x1*0x1bec+-0x25f6+0xa0d)},{'name':'texture_'+_0x1756f7+'1','value':new Float32Array(0x23be+0x217e+-0x4539)}]),_0x160a1e=Math['cos'](_0x3a0ea8*z['DEG_TO_RAD']),_0x3bdd74=Math['sin'](_0x3a0ea8*z['DEG_TO_RAD']),_0x8014bd=_0x37bf5c[-0xa*0x11a+0x206*0x1+0x1*0x8fe]['value'];_0x8014bd[0x48d+0xfb1+-0x143e]=_0x160a1e*_0x542307['x'],_0x8014bd[0x59*-0x52+0x133d*-0x1+0x2fc0]=-_0x3bdd74*_0x542307['y'],_0x8014bd[-0x1*-0x1a89+0x5d4*-0x3+-0x90b]=_0x1e0055['x'];const _0x2db4df=_0x37bf5c[0x3*0x9+-0x1b56*0x1+0xc*0x245]['value'];return _0x2db4df[0x15a*0xd+0x491+-0x1623*0x1]=_0x3bdd74*_0x542307['x'],_0x2db4df[-0x1ff4+-0x1d3f+0x3d34]=_0x160a1e*_0x542307['y'],_0x2db4df[-0x406+-0x3b*0x6+-0x2*-0x2b5]=-0x5*0x65f+0x1db1+0x22b-_0x542307['y']-_0x1e0055['y'],_0x37bf5c;});}function Pn(_0x103c3b,_0x58fe72){os({'name':_0x103c3b,'defaultValue':_0x58fe72,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x15*-0xf+0x6*-0x45f+-0x1*-0x1b75),this['_'+_0x103c3b];}}),td(_0x103c3b,(_0x34f192,_0x465fc6,_0x2be53c)=>{const _0x1dde69=_0x34f192['_allocUnif'+'orm'](_0x103c3b,()=>new Float32Array(-0x3c*0x58+0x7*0x19b+-0x191*-0x6)),_0x3fa915=_0x34f192[_0x103c3b];return Bl['linear'](_0x3fa915),_0x1dde69[-0x2b3*0x9+0x288+0x9*0x26b]=Bl['r'],_0x1dde69[-0x33+0x13c9+-0x3*0x687]=Bl['g'],_0x1dde69[0xf1+0x45e*0x3+-0xe09]=Bl['b'],_0x1dde69;});}function Ie(_0x4f71b4,_0x3294b7,_0x1efa8f){os({'name':_0x4f71b4,'defaultValue':_0x3294b7,'dirtyShaderFunc':(_0x4e5706,_0x3c34a8)=>(_0x4e5706===0xa*0xe9+0x80d+-0x1127*0x1||_0x4e5706===-0x1c18+0x2032+-0x419)!=(_0x3c34a8===0x10f+0x2510+-0x261f||_0x3c34a8===0xc47+0x1*0x26b9+0x175*-0x23)}),td(_0x4f71b4,_0x1efa8f);}function Ka(_0x54e76a,_0x4e81f4){os({'name':_0x54e76a,'defaultValue':null,'dirtyShaderFunc':(_0x38bb1f,_0x330daa)=>!!_0x38bb1f==!!_0x330daa}),td(_0x54e76a,_0x4e81f4);}function Ce(_0x21c412,_0x3c1fb8){os({'name':_0x21c412,'defaultValue':_0x3c1fb8});}function sM(){Pn('ambient',new Y(-0x46*-0x81+0x1d65+-0x40aa,0xd29+0x2b*-0xb8+0x11c0,0x696*-0x3+0x198+0x122b*0x1)),Pn('diffuse',new Y(-0xb1d+0x1*0x1d1a+0x1*-0x11fc,0x1b6*-0x6+0x118+0x92d*0x1,0x148c+-0x493+-0xff8)),Pn('specular',new Y(-0xb8b+-0x22fd+-0xba2*-0x4,0x1*0x90e+-0x160e*0x1+0x20*0x68,-0xf9+0x1c51*-0x1+0x1d4a)),Pn('emissive',new Y(-0x59f*0x1+-0x3f8*-0x2+-0x251,0x1f7e+0x140f+-0x338d,0xe53+-0xca2*-0x3+-0x3439)),Pn('sheen',new Y(0x1ff7*-0x1+0xd8b+0x59*0x35,0xed1*0x1+-0x2b*-0x8c+-0x1be*0x16,0x1*0x269f+-0x1903+-0xd9b)),Pn('attenuatio'+'n',new Y(-0x1e89+0x1a62+-0x38*-0x13,-0x5*-0x191+-0x1e69+0x1695,-0x1*0x1877+0x755+0x1123)),Ie('emissiveIn'+'tensity',-0x172+-0xb5d*-0x2+0x1547*-0x1),Ie('specularit'+'yFactor',0x9a1*-0x1+-0x146f+0x1e11*0x1),Ie('sheenGloss',0x1*0x2526+-0x9f2+0x4*-0x6cd),Ie('gloss',0x229d*-0x1+0x5*-0x65+-0x53a*-0x7+0.25),Ie('aoIntensit'+'y',-0x13*-0x123+0x18ca+-0x2e62),Ie('heightMapF'+'actor',0x432*-0x3+0x4*0x71e+0x54b*-0x3,(_0x14630f,_0x1642a0,_0x3ef8e8)=>_0x14630f['heightMapF'+'actor']*(0x1f61+-0xfb8+-0xfa9+0.025)),Ie('opacity',-0x1074+0x1c30+-0xbbb),Ie('alphaFade',-0x12cc+-0x1*0x1200+0x24cd),Ie('alphaTest',0x1*0x878+-0x2680+0x1e08),Ie('bumpiness',0x31c+0x1301+-0x161c*0x1),Ie('normalDeta'+'ilMapBumpi'+'ness',0x1*0x137d+0x2570+-0x38ec),Ie('reflectivi'+'ty',-0x205f+0x157a*-0x1+0x7a*0x71),Ie('occludeSpe'+'cularInten'+'sity',-0x2b4+-0xcb3*-0x3+0x12e*-0x1e),Ie('refraction',0x309+0x41*0x29+-0xd72),Ie('refraction'+'Index',(-0x397*0x1+0x1*-0x218c+0x949*0x4)/(0x2*0x46f+0xde2+-0x16bf+0.5)),Ie('dispersion',-0x579+0x2*0xc28+-0x35*0x5b),Ie('thickness',-0x1f4c+-0x27a+0x21c6),Ie('attenuatio'+'nDistance',-0x2aa*-0x1+-0x4a+-0x260),Ie('metalness',-0x2e9+-0x27*-0x5d+-0xb41),Ie('anisotropy',0x3c*0x6+-0x25d3*0x1+0x246b),Ie('clearCoat',0x1fcd+-0x267f+0x359*0x2),Ie('clearCoatG'+'loss',-0xa8f+0xd83*-0x1+-0x1*-0x1813),Ie('clearCoatB'+'umpiness',-0x1442+-0x1d73+0x31b6),Ie('aoUvSet',-0x24e6+0x985*-0x1+0x2e6b,null),Ie('iridescenc'+'e',-0xa3*-0x3d+-0x1c4+0x2513*-0x1),Ie('iridescenc'+'eRefractio'+'nIndex',(0x8eb+0x1a3f+0x2329*-0x1)/(-0x3e7*0x2+0x7dc+-0xd+0.5)),Ie('iridescenc'+'eThickness'+'Min',-0x17*0x151+0x5*-0x67+-0x2*-0x1025),Ie('iridescenc'+'eThickness'+'Max',-0x1*-0x1033+0x57*0x19+-0x18b2),Ka('ambientSH'),Ka('cubeMapPro'+'jectionBox',(_0x2c31a3,_0x583c8d,_0x599976)=>{const _0x3cc885=_0x2c31a3['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(-0x3*-0x32c+0x524+-0xea5*0x1)},{'name':'envBoxMax','value':new Float32Array(0xe6f+0x177+-0xfe3)}]),_0x5bbbab=_0x2c31a3['cubeMapPro'+'jectionBox']['getMin'](),_0x4cdef5=_0x3cc885[-0xb3*-0x1a+0x43*-0x79+0xd7d]['value'];_0x4cdef5[0xb*-0x1fd+-0x167+-0x296*-0x9]=_0x5bbbab['x'],_0x4cdef5[0x779*0x4+-0x1aff+0x5*-0x94]=_0x5bbbab['y'],_0x4cdef5[0x847+0x1*0x4ab+-0x12*0xb8]=_0x5bbbab['z'];const _0x1bce6b=_0x2c31a3['cubeMapPro'+'jectionBox']['getMax'](),_0x4b5e4f=_0x3cc885[-0x2b*-0x82+-0x1*0x2518+0xf43]['value'];return _0x4b5e4f[-0x2167+0x72*0x53+0x38f*-0x1]=_0x1bce6b['x'],_0x4b5e4f[0x1b24+-0x39*-0x97+-0x3cc2]=_0x1bce6b['y'],_0x4b5e4f[0x1912+-0x86d+-0x10a3]=_0x1bce6b['z'],_0x3cc885;}),Ce('specularTi'+'nt',!(0xd7*0x8+-0xfd3*-0x1+-0x168a)),Ce('specularit'+'yFactorTin'+'t',!(-0x1c*0x79+-0x1*0x2a6+0xfe3)),Ce('useMetalne'+'ss',!(-0x2212+-0x1*0x1354+0x3567)),Ce('useMetalne'+'ssSpecular'+'Color',!(-0x535+-0x1*-0xcce+-0x798)),Ce('useSheen',!(0x15*0x1c3+-0xff2+0xa86*-0x2)),Ce('enableGGXS'+'pecular',!(-0x1*0x1857+0x1c8b+0xd7*-0x5)),Ce('occludeDir'+'ect',!(-0x2471+0x121+0x2351)),Ce('opacityFad'+'esSpecular',!(0x2356+-0x1465*-0x1+-0x37bb)),Ce('occludeSpe'+'cular',Vo),Ce('fresnelMod'+'el',Tp),Ce('useDynamic'+'Refraction',!(-0x1949+-0x1ea9*-0x1+-0x55f)),Ce('cubeMapPro'+'jection',f0),Ce('customFrag'+'mentShader',null),Ce('useFog',!(0xc22+-0x1807*-0x1+0x1*-0x2429)),Ce('useLightin'+'g',!(0x37c*-0x7+-0xd*-0xdb+-0x4f*-0x2b)),Ce('useTonemap',!(-0x5e+-0x1da3+-0x1*-0x1e01)),Ce('useSkybox',!(-0x4f5+-0x22e5+0x2*0x13ed)),Ce('forceUv1',!(-0x15c5+0x4cb+-0x17*-0xbd)),Ce('pixelSnap',!(-0x1204+0x152a+-0x325)),Ce('twoSidedLi'+'ghting',!(-0x120e+0x2*-0x336+-0x3*-0x829)),Ce('nineSliced'+'Mode',void(0x2*-0x955+0x1e69+-0x1f*0x61)),Ce('msdfTextAt'+'tribute',!(0x1d4e+0x1*-0x935+-0x283*0x8)),Ce('useIridesc'+'ence',!(-0x1310+-0x8ff+0x1c10)),Ce('glossInver'+'t',!(0x1add+-0x79*-0x20+-0x1*0x29fc)),Ce('sheenGloss'+'Invert',!(-0x7*0x168+0x1884+-0x1*0xeab)),Ce('clearCoatG'+'lossInvert',!(-0x15cf*-0x1+-0x89*-0x7+-0x198d)),Ce('opacityDit'+'her',Os),Ce('opacitySha'+'dowDither',Os),qe('diffuse'),qe('specular'),qe('emissive'),qe('thickness','g'),qe('specularit'+'yFactor','g'),qe('normal',''),qe('metalness','g'),qe('gloss','g'),qe('opacity','a'),qe('refraction','g'),qe('height','g',!(0x2*0x64e+-0x45*-0xb+-0xf92)),qe('ao','g'),qe('light','rgb',!(-0x1*-0x186a+0x4a*-0x1d+-0x6*0x2ac),-0x1*0x9c4+0x10c9*0x1+-0x1c1*0x4),qe('msdf',''),qe('diffuseDet'+'ail','rgb',!(-0x1e96+0x1633+-0xb3*-0xc)),qe('normalDeta'+'il',''),qe('aoDetail','g',!(0x21cb*0x1+0xe16*-0x1+-0x13b4)),qe('clearCoat','g'),qe('clearCoatG'+'loss','g'),qe('clearCoatN'+'ormal',''),qe('sheen','rgb'),qe('sheenGloss','g'),qe('iridescenc'+'e','g'),qe('iridescenc'+'eThickness','g'),Ce('diffuseDet'+'ailMode',Bm),Ce('aoDetailMo'+'de',Bm),Ka('cubeMap'),Ka('sphereMap'),Ka('envAtlas');const _0x3fe5e1=function(){return this['_prefilter'+'edCubemaps'];},_0x12cd49=function(_0x383aed){const _0x5af960=this['_prefilter'+'edCubemaps'];_0x383aed=_0x383aed||[];let _0x2529e4=!(-0x7*0x151+-0x26*0xbd+0xd*0x2de),_0x2fff96=!(-0xab7*0x1+-0x83*-0x4+0x8ab*0x1);for(let _0x449b6e=0xcaf+0x1fa7+0xa*-0x46f;_0x449b6e<0xf8f*-0x1+-0xeea+0x1e7f;++_0x449b6e){const _0xc0c748=_0x383aed[_0x449b6e]||null;_0x5af960[_0x449b6e]!==_0xc0c748&&(_0x5af960[_0x449b6e]=_0xc0c748,_0x2529e4=!(-0xd*0x18+0x26ae*-0x1+0x1*0x27e6)),_0x2fff96=_0x2fff96&&!!_0x5af960[_0x449b6e];}_0x2529e4&&(_0x2fff96?this['envAtlas']=P0['generatePr'+'efilteredA'+'tlas'](_0x5af960,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(-0x1d91*-0x1+-0x17*0x105+-0x30f*0x2));},_0x3ca393=[null,null,null,null,null,null];zp('prefiltere'+'dCubemaps',()=>_0x3ca393['slice'](),_0x12cd49,_0x3fe5e1);}sM();const gt=class gt{static['render'](_0x2d3973,_0x3c3d97){const _0x935274=_0x3c3d97['device'],_0x2fa909=_0x2d3973['cells'],_0xf94f25=_0x2d3973['lightsBuff'+'er'],_0x5cd27b=_0xf94f25['boundsMin'],_0x463409=_0xf94f25['boundsDelt'+'a'],_0x1eb96b=_0x5cd27b['clone']()['add'](_0x463409),_0xd39a70=_0xf94f25['boundsDelt'+'a']['clone']()['div'](_0x2fa909),_0x54f571=gt['gridPositi'+'ons'],_0xb03476=gt['gridColors'],_0x26c706=new Y(0xcd6+0x1d2c+-0x2a02+0.3,0x1b09*0x1+-0x335+-0x7a*0x32+0.3,-0xad2+-0x1*-0x6d+0x377*0x3+0.3),_0x2c9735=(_0xd2021e,_0x5f486e,_0x43123d,_0x3846f8,_0xae4a4,_0x19f828,_0xaaa02c,_0x4fd68a,_0xfccd4a)=>{for(let _0x1c14c4=0x1798+0x2502+0x1*-0x3c9a;_0x1c14c4<=_0xd2021e;_0x1c14c4++)for(let _0x1364b6=-0x8b0*-0x2+0x4b3+0x1*-0x1613;_0x1364b6<=_0x5f486e;_0x1364b6++){const _0x4d244f=_0x43123d+_0x1c14c4*_0x3846f8,_0x2ddf06=_0xae4a4+_0x1364b6*_0x19f828;_0xfccd4a===-0x5*-0x9d+0x1411+-0x2a*0x8d?_0x54f571['push'](_0x4d244f,_0xaaa02c,_0x2ddf06,_0x4d244f,_0x4fd68a,_0x2ddf06):_0xfccd4a===0x1*0x1c9+0xd1*-0x23+0x1acb?_0x54f571['push'](_0x4d244f,_0x2ddf06,_0xaaa02c,_0x4d244f,_0x2ddf06,_0x4fd68a):_0xfccd4a===-0x1b35+-0x195d+0x3494&&_0x54f571['push'](_0xaaa02c,_0x4d244f,_0x2ddf06,_0x4fd68a,_0x4d244f,_0x2ddf06);}};if(_0x2c9735(_0x2fa909['x'],_0x2fa909['z'],_0x5cd27b['x'],_0xd39a70['x'],_0x5cd27b['z'],_0xd39a70['z'],_0x5cd27b['y'],_0x1eb96b['y'],0x6fa+0xcaf*0x2+0x18*-0x159),_0x2c9735(_0x2fa909['x'],_0x2fa909['y'],_0x5cd27b['x'],_0xd39a70['x'],_0x5cd27b['y'],_0xd39a70['y'],_0x5cd27b['z'],_0x1eb96b['z'],-0x12a1+0x8be+-0xd3*-0xc),_0x2c9735(_0x2fa909['y'],_0x2fa909['z'],_0x5cd27b['y'],_0xd39a70['y'],_0x5cd27b['z'],_0xd39a70['z'],_0x5cd27b['x'],_0x1eb96b['x'],0x497*-0x5+-0x12b0+-0x5f3*-0x7),_0x54f571['length']){const _0x158ea4=_0x54f571['length']/(0x2ae*-0xe+0x21db+0x3ac);if(_0x158ea4!==_0xb03476['length']/(-0x137c*-0x2+0x1fb6+-0x36*0x14f)){_0xb03476['length']=-0xd4c+-0x973+0x16bf;for(let _0x5f2c4a=-0x18dc+-0x2*0x197+0x1c0a;_0x5f2c4a<_0x158ea4;_0x5f2c4a++)_0xb03476['push'](_0x26c706['r'],_0x26c706['g'],_0x26c706['b'],_0x26c706['a']);}_0x3c3d97['drawLineAr'+'rays'](_0x54f571,_0xb03476),_0x54f571['length']=-0x263c+0x1c6f+0x9cd;}let _0x3f3ff2=gt['mesh'];_0x3f3ff2||(_0x3f3ff2=new ke(_0x935274),_0x3f3ff2['clear'](!(-0x18c0+-0x9c1+-0x2281*-0x1),!(0x1f52+0x234d+-0x429f)),gt['mesh']=_0x3f3ff2);const _0x2d5a87=[],_0x5cd633=[],_0x502d24=[],_0x1768da=_0x2d3973['_cells']['x'],_0x5c09f9=_0x2d3973['_cells']['z'],_0x9676d1=_0x2d3973['counts'],_0x139ba7=_0x2d3973['_maxCellLi'+'ghtCount'],_0xbec475=new A(),_0x2fc6f6=new A(),_0x4cd7be=new A(),_0xa8d9d3=_0x463409['clone']()['div'](_0x2fa909);let _0x51b460=-0x18cd+-0xd69+0x2636;for(let _0x573af5=0x4d*-0x3a+0x15dd*-0x1+0x274f;_0x573af5<_0x2fa909['x'];_0x573af5++)for(let _0x2c9e8c=-0x22bf+-0x9b1+0x2c70;_0x2c9e8c<_0x2fa909['z'];_0x2c9e8c++)for(let _0x592e8c=0x1836+-0x13*0x14e+-0x4*-0x25;_0x592e8c<_0x2fa909['y'];_0x592e8c++){const _0x1c9dd7=_0x573af5+_0x1768da*(_0x2c9e8c+_0x592e8c*_0x5c09f9),_0x4f2fab=_0x9676d1[_0x1c9dd7];if(_0x4f2fab>0x212b+-0x4*-0x670+-0x3aeb){_0xbec475['x']=_0x5cd27b['x']+_0xa8d9d3['x']*_0x573af5,_0xbec475['y']=_0x5cd27b['y']+_0xa8d9d3['y']*_0x592e8c,_0xbec475['z']=_0x5cd27b['z']+_0xa8d9d3['z']*_0x2c9e8c,_0x2fc6f6['add2'](_0xbec475,_0xa8d9d3),_0x2d5a87['push'](_0xbec475['x'],_0xbec475['y'],_0x2fc6f6['z']),_0x2d5a87['push'](_0x2fc6f6['x'],_0xbec475['y'],_0x2fc6f6['z']),_0x2d5a87['push'](_0x2fc6f6['x'],_0x2fc6f6['y'],_0x2fc6f6['z']),_0x2d5a87['push'](_0xbec475['x'],_0x2fc6f6['y'],_0x2fc6f6['z']),_0x2d5a87['push'](_0x2fc6f6['x'],_0xbec475['y'],_0xbec475['z']),_0x2d5a87['push'](_0xbec475['x'],_0xbec475['y'],_0xbec475['z']),_0x2d5a87['push'](_0xbec475['x'],_0x2fc6f6['y'],_0xbec475['z']),_0x2d5a87['push'](_0x2fc6f6['x'],_0x2fc6f6['y'],_0xbec475['z']),_0x4cd7be['lerp'](gt['colorLow'],gt['colorHigh'],_0x4f2fab/_0x139ba7)['round']();for(let _0x318f1b=0x208b+-0x1d*0x10d+-0x35*0xa;_0x318f1b<-0x1a9c+-0x1023+0x2ac7;_0x318f1b++)_0x5cd633['push'](_0x4cd7be['x'],_0x4cd7be['y'],_0x4cd7be['z'],-0x1532+0x4e5*-0x1+0x1a18);_0x502d24['push'](_0x51b460*(-0x6fa+0x9*0x174+-0x103*0x6)+(0x15a*0xa+0x101c+-0x1da*0x10),_0x51b460*(0x8ef+0x11e4+-0x1acb)+(-0x542*0x1+0x2c3+0x280),_0x51b460*(0x14f7+-0x1c6+-0x1329)+(0x239*0x7+-0xb2a+-0x462)),_0x502d24['push'](_0x51b460*(-0x1820+-0x141c+-0xb11*-0x4)+(-0x41*0x1a+0xc1+-0x2*-0x2ee),_0x51b460*(-0xc*0x1fa+0x153b+-0x3*-0xd7)+(-0x1fee+-0x3e6+-0x23d5*-0x1),_0x51b460*(-0x1*0x1bd3+0x1b1*-0x5+0x2450)+(0x7*0x17b+0x211*-0x2+-0x639)),_0x502d24['push'](_0x51b460*(-0x1fdd+-0xe3e+0x2e23)+(0x47b*0x1+0x1fcb+-0x2442),_0x51b460*(-0xd3d+-0x8cd*0x1+0x1612)+(0x31d*0x8+-0x26d0+0xded),_0x51b460*(0x647*0x3+0x1446+-0x2713)+(0x1*-0xe17+-0x1799+0x78b*0x5)),_0x502d24['push'](_0x51b460*(0xb50+-0x1aa6+-0x1*-0xf5e)+(-0x3b4*0x1+0x52f*0x5+-0x1630),_0x51b460*(-0xecf+-0x25*-0x53+-0x1a*-0x1c)+(-0x24fa+0xf6*-0x7+0x2bb9),_0x51b460*(0x13*-0xc2+0x2449+-0x15db)+(-0xcd4+-0x5*0x3bf+0x5*0x651)),_0x502d24['push'](_0x51b460*(-0x1*0x19b+-0x2*0xeaa+-0x1ef7*-0x1)+(-0x5*-0x329+0x1619+-0x25e3),_0x51b460*(0x111*0x3+0x1f69+0x8a5*-0x4)+(-0x107*0x1f+-0x5db*0x2+-0x2b91*-0x1),_0x51b460*(-0x217c+-0xceb+0x2e6f)+(-0x1*-0x87b+-0xace+0x259)),_0x502d24['push'](_0x51b460*(-0xf76+0x213+0xd6b)+(-0xeea+0x1*-0xcd3+-0x1bbf*-0x1),_0x51b460*(-0x4eb*0x4+0x13ce+-0x1a)+(0x71*-0x10+0x2*-0x1327+0x2d65),_0x51b460*(0x468+-0x13d5+0x3*0x527)+(0x801+0x2529+-0x36*0xd6)),_0x502d24['push'](_0x51b460*(0x1b5c+-0x5fc+-0x1558)+(0x35*-0x8b+0xd*-0xd4+0x4*0x9e3),_0x51b460*(0x1*-0xb0b+-0x1795*0x1+0x22a8)+(0x1dd6+0x4fb+-0x22d1),_0x51b460*(0x4f7*0x2+-0xdc9*0x2+0x1*0x11ac)+(0x1*-0x20af+0x4cf*0x4+0xd77)),_0x502d24['push'](_0x51b460*(0xd*-0x169+0x1f74+-0xd17)+(-0x25ed+0x4e0+0x1*0x210d),_0x51b460*(0x5*-0x2f5+0x11c3+0x1a*-0x1d)+(0x17f6+0x16f*0x10+-0x2ee1),_0x51b460*(0x72b*-0x1+-0xb36+0x1269)+(-0x399+-0x187f+0x1c1c)),_0x502d24['push'](_0x51b460*(-0x5*0xed+0x129e+-0xdf5)+(0x158f+0x34f+-0x5*0x4f9),_0x51b460*(-0x499*-0x1+-0x2643+0x21b2)+(0x620+0x4e+-0x335*0x2),_0x51b460*(-0x4bf*-0x1+-0x1357+0xea0)+(0xcf3+-0x5*-0x4fd+-0x25e2)),_0x502d24['push'](_0x51b460*(0x1902+-0xa13+-0xee7)+(-0x1a4d+-0x265c+-0x158f*-0x3),_0x51b460*(-0x89b+-0x1b0f+0x23b2*0x1)+(-0x2398+-0x2*0x124e+-0xb*-0x691),_0x51b460*(-0x160e+-0x321+0x1937)+(0x1666+0xaf3*0x3+-0x373d)),_0x502d24['push'](_0x51b460*(-0x2279+-0x1*0x11ad+-0x1a17*-0x2)+(-0x1*0xad+-0x251*0xe+0x10*0x212),_0x51b460*(0x1*0xc55+-0x1b01*0x1+0x4*0x3ad)+(0x1741+0x265a*0x1+-0x3d9b),_0x51b460*(0xc58+0x2006+0x8de*-0x5)+(0x1*0x1c42+-0x1e8*0x14+0x9e4)),_0x502d24['push'](_0x51b460*(0x14a7+0x8*-0x65+-0x107*0x11)+(0xc86+-0x14e0+0x1*0x85a),_0x51b460*(-0x912+0x3*0x1ed+0x17*0x25)+(0x1c6f+-0x19c*-0x2+-0x87*0x3c),_0x51b460*(-0x1*-0x24d+0x2172*-0x1+-0x1f2d*-0x1)+(-0x61*-0xa+0x1996+-0x1d5a)),_0x51b460++;}}if(_0x51b460){if(_0x3f3ff2['setPositio'+'ns'](_0x2d5a87),_0x3f3ff2['setColors3'+'2'](_0x5cd633),_0x3f3ff2['setIndices'](_0x502d24),_0x3f3ff2['update'](Fs,!(-0x1543+-0x1012+0x6*0x639)),!gt['meshInstan'+'ce']){const _0x1511bc=new _s();_0x1511bc['useLightin'+'g']=!(-0x15a8+0x2449+0x9c*-0x18),_0x1511bc['emissive']=new Y(-0xa*-0x238+-0x1*-0x459+-0xc*0x236,-0xff5+-0x1efc+0x2ef2,0xff7+0xf69+-0x1f5f),_0x1511bc['emissiveVe'+'rtexColor']=!(0x1*-0x1d7c+-0x782+0x24fe),_0x1511bc['blendType']=Xc,_0x1511bc['depthWrite']=!(0xbfc+-0x268e+-0x1a93*-0x1),_0x1511bc['update']();const _0x5b8817=new Oe('WorldClust'+'ersDebug');_0x5b8817['worldTrans'+'form']=q['IDENTITY'],_0x5b8817['_dirtyWorl'+'d']=_0x5b8817['_dirtyNorm'+'al']=!(0x463*-0x3+-0x411+0x191*0xb),gt['meshInstan'+'ce']=new Be(_0x3f3ff2,_0x1511bc,_0x5b8817),gt['meshInstan'+'ce']['cull']=!(0xb*-0x2a5+0x1*0x2415+-0x6fd);}const _0x133d45=gt['meshInstan'+'ce'];_0x3c3d97['immediate']['drawMesh'](_0x133d45['material'],_0x133d45['node']['worldTrans'+'form'],null,_0x133d45,_0x3c3d97['defaultDra'+'wLayer']);}}};c(gt,'gridPositi'+'ons',[]),c(gt,'gridColors',[]),c(gt,'mesh',null),c(gt,'meshInstan'+'ce',null),c(gt,'colorLow',new A(-0x2641+0xcdd+0x1965,0x394+-0xa6d+0x6da,0x6*-0x3ad+0x75e*-0x5+-0x3ae5*-0x1)),c(gt,'colorHigh',new A(-0x1767+-0x2*0xaa3+0x2cd5,0x561*-0x1+0x1*0x20c4+0x7b*-0x39,0x1*0x1a7b+0x3d*0x84+0x1*-0x39ef));let $u=gt;const iM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Ei=null;const I0=()=>{if(!Ei){const _0x39fa53=atob(iM);Ei=Uint8Array['from'](_0x39fa53,_0x1a51df=>_0x1a51df['charCodeAt'](0x134d*-0x1+-0x185*0x5+0x1ae6));}},rM=()=>(I0(),Ei);class nM{constructor(_0x12ba2d=-0x3*-0x87b+-0x1cf*0x9+-0x92a){c(this,'seed',0x94f*-0x1+-0x132+0xa81),(this['seed']=_0x12ba2d*(0x5*0x6c9+-0x14*-0x13+-0x2365),I0());}['_next'](){this['seed']=(this['seed']+(0xc78+-0x1b0+-0xac4))%Ei['length'];}['value'](){return this['_next'](),Ei[this['seed']]/(0x1fe6+-0x21*0x12b+0x7a4);}['vec4'](_0xe7c0fa=new ee()){return this['_next'](),_0xe7c0fa['set'](Ei[this['seed']],Ei[this['seed']+(0xafc*0x1+0x264e+-0x1*0x3149)],Ei[this['seed']+(0x5a*-0x3a+-0x2*0x85f+-0x4*-0x949)],Ei[this['seed']+(-0x1b73*-0x1+0x15ca+-0x1*0x313a)])['mulScalar']((-0x23df+-0x92a+-0x481*-0xa)/(-0x1*0x1037+-0x220a+0x3340));}}const aM=[new A(-(0x11fa+-0x37*0x3b+0x1*-0x54c),0xdb+-0x1ce+0x1b*0x9,-0x1be*0x11+0x1422+0x25f*0x4),new A(-0x7*0x3a3+0x2*-0x11d1+-0x1e8c*-0x2,-0x31*0x7f+-0x2249*-0x1+-0x9fa,0xf8c+-0x8*0x172+0x1*-0x3fc),new A(-0x15c2+0x8f+0x1533,-(0x20e5+0x227*0xc+-0x3ab8),-0x15e4+0xd*-0x241+0x3331),new A(-0x1276*-0x2+-0x8*-0x2ae+-0x3a5c,0x1*-0x1a8f+-0x7*-0x295+0x35*0x29,-0x1*-0x311+-0xaf3*-0x1+-0x2e*0x4e),new A(-0x1b*-0xe9+0x8*-0x2ba+-0x2c3,0xd3b+0x1*-0x761+-0x5da,-(-0x3*-0x5f3+-0x1*-0xd45+-0x127*0x1b)),new A(-0x26cf+0x11e9+0x14e6,-0x149e+0x2057+0x1*-0xbb9,-0x2079+-0x3d6*-0xa+0xfb*-0x6)];class oM{constructor(){c(this,'colors',new Float32Array((-0x6d*0x4d+-0x1e52+-0x3f21*-0x1)*(0x4*0x845+-0x1f2e+-0x1e3)));}['update'](_0x3b1ab0,_0x50ac28){const _0x44c100=this['colors'],{r:_0x83117,g:_0x5006f9,b:_0x23f0b7}=_0x3b1ab0;for(let _0x505a65=0x384+0x1f8d+-0x2311;_0x505a65<-0x332+0x550+-0x218;_0x505a65++)_0x44c100[_0x505a65*(-0x1019*-0x1+0x1*0x1ffa+-0x4*0xc04)]=_0x83117,_0x44c100[_0x505a65*(-0x35b*0x3+0x149d+-0x1d*0x5d)+(0xb07+0xfd1+-0x1ad7)]=_0x5006f9,_0x44c100[_0x505a65*(-0x19cd*-0x1+0x9c9+0x1*-0x2393)+(-0x177d+0x1c75+-0x4f6)]=_0x23f0b7;for(let _0x1986d3=0x2051*0x1+-0x182f+-0x2b6*0x3;_0x1986d3<_0x50ac28['length'];_0x1986d3++){const _0x42ea93=_0x50ac28[_0x1986d3];if(_0x42ea93['_type']===le)for(let _0x13abe3=-0x1f45+-0x1*-0x84e+-0x1*-0x16f7;_0x13abe3<0x21d3+-0x1e6d+0x60*-0x9;_0x13abe3++){const _0x14fc52=Math['max'](aM[_0x13abe3]['dot'](_0x42ea93['_direction']),-0x1245*0x1+-0x211+0x1456)*_0x42ea93['_intensity'],_0x2f9403=_0x42ea93['_color'];_0x44c100[_0x13abe3*(-0x1387*0x1+0x110+0x127a)]+=_0x2f9403['r']*_0x14fc52,_0x44c100[_0x13abe3*(-0xf*-0x163+0x10a4+0xc7a*-0x3)+(-0xc1d+0x1061+-0x443*0x1)]+=_0x2f9403['g']*_0x14fc52,_0x44c100[_0x13abe3*(0x1c*-0x6b+-0xeb*0x7+0x1224)+(0x1740+0x2382+0xa0*-0x5e)]+=_0x2f9403['b']*_0x14fc52;}}}}const lM=(_0x4bb6a5,_0x565041,_0x3ddb67,_0x47c3ff)=>{const _0x7cefa9=new ce(_0x4bb6a5,{'name':''+_0x565041+_0x3ddb67,'width':_0x3ddb67,'height':_0x3ddb67,'format':Te,'addressU':nt,'addressV':nt,'type':Bi,'magFilter':fe,'minFilter':fe,'anisotropy':0x1,'mipmaps':!(0xfb*0x1+-0x19d1*0x1+-0x1*-0x18d7)});return _0x7cefa9['lock']()['set'](_0x47c3ff),_0x7cefa9['unlock'](),_0x7cefa9;},hM=new Ht(),cM=_0x4ec4e0=>hM['get'](_0x4ec4e0,()=>{const _0x2a72ba=rM(),_0x427662=Math['sqrt'](_0x2a72ba['length']/(-0x3d*-0x89+-0x1*0x1409+0xd*-0xf8));return lM(_0x4ec4e0,'BlueNoise',_0x427662,_0x2a72ba);});class pn{constructor(_0x2442fb,_0x46cff7){this['texture']=_0x2442fb,this['cached']=!(0x7b3+0x4d*0x71+-0x3*0xde5),this['renderTarg'+'ets']=_0x46cff7;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x19e8fc=this['renderTarg'+'ets'];for(let _0x350e29=0x265b*0x1+0x893*-0x3+-0x1*0xca2;_0x350e29<_0x19e8fc['length'];_0x350e29++)_0x19e8fc[_0x350e29]['destroy']();this['renderTarg'+'ets']['length']=0xc3a+0x1c28+0x1*-0x2862;}static['getShadowF'+'iltering'](_0x40b3f2,_0x3e1b58){return _0x3e1b58===$r?_0x40b3f2['extTexture'+'FloatLinea'+'r']?at:fe:at;}static['create'](_0x43f340,_0x5ab6d1){let _0x2aab14=null;return _0x5ab6d1['_type']===Le?_0x2aab14=this['createCube'+'map'](_0x43f340,_0x5ab6d1['_shadowRes'+'olution'],_0x5ab6d1['_shadowTyp'+'e']):_0x2aab14=this['create2dMa'+'p'](_0x43f340,_0x5ab6d1['_shadowRes'+'olution'],_0x5ab6d1['_shadowTyp'+'e']),_0x2aab14;}static['createAtla'+'s'](_0x4b33a0,_0x568e27,_0x36ebbd){const _0x27636f=this['create2dMa'+'p'](_0x4b33a0,_0x568e27,_0x36ebbd),_0x396078=_0x27636f['renderTarg'+'ets'],_0x5399df=_0x396078[0x23be+-0x574+0x1*-0x1e4a];for(let _0x38e9fa=-0x19fd+-0xfa3+-0xde*-0x30;_0x38e9fa<-0x53*-0x5d+0x71b*-0x3+-0x8d1;_0x38e9fa++)_0x396078['push'](_0x5399df);return _0x27636f;}static['create2dMa'+'p'](_0x14f1c4,_0x3f3cc0,_0x142223){var _0x334c0b;const _0x195bf6=nr['get'](_0x142223);b['assert'](_0x195bf6);let _0x5c6ddf=_0x195bf6['format'];_0x5c6ddf===Oi&&!_0x14f1c4['textureFlo'+'atRenderab'+'le']&&_0x14f1c4['textureHal'+'fFloatRend'+'erable']&&(_0x5c6ddf=xa);const _0x4ca8b1=(_0x334c0b=At['get'](_0x5c6ddf))==null?void(-0xe3*-0x29+-0x9c1+-0xd4d*0x2):_0x334c0b['name'],_0x5299c4=this['getShadowF'+'iltering'](_0x14f1c4,_0x142223),_0x5ef8ad=new ce(_0x14f1c4,{'profilerHint':Mu,'format':_0x5c6ddf,'width':_0x3f3cc0,'height':_0x3f3cc0,'mipmaps':!(0x1*0x186e+-0x3c1*-0x2+-0x1fef),'minFilter':_0x5299c4,'magFilter':_0x5299c4,'addressU':oe,'addressV':oe,'name':'ShadowMap2'+'D_'+_0x4ca8b1});let _0x44b7ec=null;return _0x195bf6!=null&&_0x195bf6['pcf']?(_0x5ef8ad['compareOnR'+'ead']=!(-0x2*0xfb6+-0x1367*0x2+0x463a),_0x5ef8ad['compareFun'+'c']=Ih,_0x44b7ec=new St({'depthBuffer':_0x5ef8ad})):_0x44b7ec=new St({'colorBuffer':_0x5ef8ad,'depth':!(-0x4b8*0x8+0x653+0x649*0x5)}),_0x14f1c4['isWebGPU']&&(_0x44b7ec['flipY']=!(0x385*0x1+-0x1073+-0x296*-0x5)),new pn(_0x5ef8ad,[_0x44b7ec]);}static['createCube'+'map'](_0xe4707b,_0x33e500,_0x3286a6){var _0x3385a3;const _0x5afca5=nr['get'](_0x3286a6);b['assert'](_0x5afca5);const _0x48f435=(_0x3385a3=At['get'](_0x5afca5['format']))==null?void(-0x125e+0x15d*0x5+0xb8d):_0x3385a3['name'],_0x46c216=_0x3286a6===Rs,_0x48d875=_0x46c216?fe:at,_0xddc795=new ce(_0xe4707b,{'profilerHint':Mu,'format':_0x5afca5==null?void(0x149e+-0x1*-0x941+-0x1ddf):_0x5afca5['format'],'width':_0x33e500,'height':_0x33e500,'cubemap':!(-0x25ee+-0x1d47+-0x1667*-0x3),'mipmaps':!(0x157e+-0xf8*0xa+0xbcd*-0x1),'minFilter':_0x48d875,'magFilter':_0x48d875,'addressU':oe,'addressV':oe,'name':'ShadowMapC'+'ube_'+_0x48f435});_0x46c216||(_0xddc795['compareOnR'+'ead']=!(0xcfd+0x681+0x9bf*-0x2),_0xddc795['compareFun'+'c']=Ih);const _0x1b1eac=[];for(let _0x373f8d=-0x1*0xf43+-0xd92+0xb*0x29f;_0x373f8d<0xbfb+-0x176f*0x1+0x71*0x1a;_0x373f8d++)_0x46c216?_0x1b1eac['push'](new St({'colorBuffer':_0xddc795,'face':_0x373f8d,'depth':!(-0x3*-0x2ba+0x12b2+-0x1ae0)})):_0x1b1eac['push'](new St({'depthBuffer':_0xddc795,'face':_0x373f8d}));return new pn(_0xddc795,_0x1b1eac);}}const dM=[],uM=[],ri=new ee(),Id=new ee();class Dd{constructor(_0x1f41bf){this['size']=Math['floor'](_0x1f41bf['w']*(0x6ee*0x5+0x10+-0x1eb6*0x1)),this['used']=!(0x19f6+0x138b+0x70*-0x68),this['lightId']=-(0x1cb6+0x236*-0x3+-0x1613),this['rect']=_0x1f41bf;}}class fM{constructor(_0x24085e){this['device']=_0x24085e,this['version']=-0x11*0x13+0x783+0x7b*-0xd,this['shadowAtla'+'sResolutio'+'n']=0x4*0x5ad+-0x2ad*0x7+0x1*0x407,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0xd5*0x26+0x708+-0x26a3,this['cookieAtla'+'sResolutio'+'n']=0x3*0x213+-0x1a3a+0xcd*0x19,this['cookieAtla'+'s']=new ce(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':cs,'cubemap':!(0x531*-0x3+-0x2539+0x34cd),'mipmaps':!(-0x461*0x1+-0x2349+-0x1*-0x27ab),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe}),this['cookieRend'+'erTarget']=new St({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x23ff+-0xf0c*0x1+-0x14f2),'flipY':!(-0x16db*-0x1+-0xf9*-0x1+-0x17d4)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x1c69+0x1*-0x14bd+-0x2bb*-0x12,-0x661*0x3+-0x1*-0x12b9+0x6a),new W(-0xb7d*0x1+0x28c+0x8f1,-0x1922+0xaa6+0xe7d),new W(0x5eb+-0xac*0x38+0x1fb6,-0x365+0xa5+-0x10*-0x2c),new W(-0x12f8+0x1801+-0x508,-0x6ed+-0x1*0x92c+-0x2*-0x80d),new W(-0x103*-0x25+-0x1a*0x15d+-0x27*0xd,-0x20b1+-0x94f*0x2+-0x163*-0x25),new W(0xc9*-0x13+0x11*0x233+-0x1676,-0x959+-0x87e+0x11d8)],this['scissorVec']=new ee(),this['allocateSh'+'adowAtlas'](-0x53c+0x11a6*-0x1+-0x7*-0x345),this['allocateCo'+'okieAtlas'](0x3*-0x449+0x29d*0xd+-0x151d),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x199b69;(_0x199b69=this['shadowAtla'+'s'])==null||_0x199b69['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x3786f8,_0x5563fe;(_0x3786f8=this['cookieAtla'+'s'])==null||_0x3786f8['destroy'](),this['cookieAtla'+'s']=null,(_0x5563fe=this['cookieRend'+'erTarget'])==null||_0x5563fe['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x521892,_0x62e76e=zt){var _0x44d1ec;const _0x17961c=(_0x44d1ec=this['shadowAtla'+'s'])==null?void(-0x13*-0x191+0x17*-0xd9+0xa44*-0x1):_0x44d1ec['texture']['format'],_0x50badd=nr['get'](_0x62e76e)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x521892||_0x17961c!==_0x50badd){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=pn['createAtla'+'s'](this['device'],_0x521892,_0x62e76e),this['shadowAtla'+'s']['cached']=!(0x7dc+-0x148e+-0x1*-0xcb2);const _0x4c6b21=(0x1048*-0x1+-0x1a2+-0x87*-0x22)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x4c6b21,_0x4c6b21,-(0x144b+0x1d30*0x1+-0x3179)*_0x4c6b21,-(-0xfb7+-0x1*-0x19b9+-0xa00)*_0x4c6b21);}}['allocateCo'+'okieAtlas'](_0x5daf5b){this['cookieAtla'+'s']['width']!==_0x5daf5b&&(this['cookieRend'+'erTarget']['resize'](_0x5daf5b,_0x5daf5b),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x301*0x1+-0x17*-0x11f+-0x1cc8),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x1d217c=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x10bc+-0xbda+0x1c96]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x1d217c),this['_shadowAtl'+'asParams'][-0x6*-0x3a6+0x4c1+-0x1aa5]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x23df+0x1328+-0x3706]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x3f3cb2,_0x1b4d7b){let _0x16a00f=_0x1b4d7b['atlasSplit'];if(!_0x16a00f){const _0x320dfc=Math['ceil'](Math['sqrt'](_0x3f3cb2));_0x16a00f=uM,_0x16a00f[-0x10*-0x26f+0x32a+-0x27a*0x11]=_0x320dfc,_0x16a00f['length']=-0x1ee0+0x184*-0x5+0x2675;}if(!((_0x543cf8,_0x3621af)=>_0x543cf8['length']===_0x3621af['length']&&_0x543cf8['every']((_0x4c3468,_0x31e2f9)=>_0x4c3468===_0x3621af[_0x31e2f9]))(_0x16a00f,this['atlasSplit'])){this['version']++,this['slots']['length']=0x1*-0x25f+-0x2fa*0xd+0x2911,this['atlasSplit']['length']=-0x1f0f+-0x1*0x1ed1+-0x50*-0xc6,this['atlasSplit']['push'](..._0x16a00f);const _0x21e0d0=this['atlasSplit'][0x1999+0x1b90+0x3529*-0x1];if(_0x21e0d0>0x26b3*-0x1+0x1*0x1cf4+-0xd0*-0xc){const _0x316889=(-0x108f+-0x1432+0x24c2)/_0x21e0d0;for(let _0x4fcae6=0x23f9*0x1+0x1c11+-0x400a;_0x4fcae6<_0x21e0d0;_0x4fcae6++)for(let _0x28cbdd=0x6c*-0x1f+-0x1597+0x22ab;_0x28cbdd<_0x21e0d0;_0x28cbdd++){const _0x34aafd=new ee(_0x4fcae6*_0x316889,_0x28cbdd*_0x316889,_0x316889,_0x316889),_0x1e7717=this['atlasSplit'][-0x2d3+0x1580+0x4*-0x4ab+_0x4fcae6*_0x21e0d0+_0x28cbdd];if(_0x1e7717>0x1812+0x1*-0x246e+0xc5d){for(let _0x5b8cce=-0x6c4*-0x5+-0x21cc+-0x8*0x1;_0x5b8cce<_0x1e7717;_0x5b8cce++)for(let _0xfa844d=-0x4a4*-0x6+-0x17a1+-0x437;_0xfa844d<_0x1e7717;_0xfa844d++){const _0x19033b=_0x316889/_0x1e7717,_0x222f49=new ee(_0x34aafd['x']+_0x5b8cce*_0x19033b,_0x34aafd['y']+_0xfa844d*_0x19033b,_0x19033b,_0x19033b);this['slots']['push'](new Dd(_0x222f49));}}else this['slots']['push'](new Dd(_0x34aafd));}}else this['slots']['push'](new Dd(new ee(-0x240e+0x1*0x19ad+0xa61,0xf*0xf+0x216+-0x2f7,-0xb*-0x29+-0x1*-0x761+-0x923,0xc*0x13+0x4c+-0x12f)));this['slots']['sort']((_0x54fd3d,_0x28fe9b)=>_0x28fe9b['size']-_0x54fd3d['size']);}}['collectLig'+'hts'](_0x2e38d6,_0x2d0c4b){const _0x510c2a=_0x2d0c4b['cookiesEna'+'bled'],_0x3e60bb=_0x2d0c4b['shadowsEna'+'bled'];let _0x24095d=!(-0x546+-0x1f15+0x245c),_0x223643=!(-0x1ee1+-0x1c41+0x3b23);const _0x5165cb=dM;return _0x5165cb['length']=0x1fe6+0x1c40+0x1*-0x3c26,(_0x510c2a||_0x3e60bb)&&(_0xb18d9e=>{for(let _0x375740=-0x265b+0x1240+-0x141b*-0x1;_0x375740<_0xb18d9e['length'];_0x375740++){const _0x2f08b6=_0xb18d9e[_0x375740];if(_0x2f08b6['visibleThi'+'sFrame']){const _0x3f0577=_0x3e60bb&&_0x2f08b6['castShadow'+'s'],_0x3d6087=_0x510c2a&&!!_0x2f08b6['cookie'];_0x24095d||(_0x24095d=_0x3f0577),_0x223643||(_0x223643=_0x3d6087),(_0x3f0577||_0x3d6087)&&_0x5165cb['push'](_0x2f08b6);}}})(_0x2e38d6),_0x5165cb['sort']((_0x4f2453,_0x4c3714)=>_0x4c3714['maxScreenS'+'ize']-_0x4f2453['maxScreenS'+'ize']),_0x24095d&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x2d0c4b['shadowType']),_0x223643&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x24095d||_0x223643)&&this['subdivide'](_0x5165cb['length'],_0x2d0c4b),_0x5165cb;}['setupSlot'](_0x2eaf23,_0x4bc15e){_0x2eaf23['atlasViewp'+'ort']['copy'](_0x4bc15e);const _0x32f0dc=_0x2eaf23['numShadowF'+'aces'];for(let _0x41c3b9=0xa2f*0x1+-0x21fb+0x2*0xbe6;_0x41c3b9<_0x32f0dc;_0x41c3b9++)if(_0x2eaf23['castShadow'+'s']||_0x2eaf23['_cookie']){if(ri['copy'](_0x4bc15e),Id['copy'](_0x4bc15e),_0x2eaf23['_type']===Fe&&ri['add'](this['scissorVec']),_0x2eaf23['_type']===Le){const _0x519efc=ri['z']/(0x6af*0x5+0x38*-0x25+-0x1950),_0x28356c=this['cubeSlotsO'+'ffsets'][_0x41c3b9];ri['x']+=_0x519efc*_0x28356c['x'],ri['y']+=_0x519efc*_0x28356c['y'],ri['z']=_0x519efc,ri['w']=_0x519efc,Id['copy'](ri);}if(_0x2eaf23['castShadow'+'s']){const _0x19ff28=_0x2eaf23['getRenderD'+'ata'](null,_0x41c3b9);_0x19ff28['shadowView'+'port']['copy'](ri),_0x19ff28['shadowScis'+'sor']['copy'](Id);}}}['assignSlot'](_0x54d300,_0x5226d9,_0x17cb69){_0x54d300['atlasViewp'+'ortAllocat'+'ed']=!(0x1906+-0x1f4f+0x649);const _0x4ebd0a=this['slots'][_0x5226d9];_0x4ebd0a['lightId']=_0x54d300['id'],_0x4ebd0a['used']=!(0x5c0+-0x187*-0x19+0x1*-0x2bef),_0x17cb69&&(_0x54d300['atlasSlotU'+'pdated']=!(0x89*-0x4+-0x12*-0x2f+-0x12a),_0x54d300['atlasVersi'+'on']=this['version'],_0x54d300['atlasSlotI'+'ndex']=_0x5226d9);}['update'](_0x534b25,_0x12108f){this['shadowAtla'+'sResolutio'+'n']=_0x12108f['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x12108f['cookieAtla'+'sResolutio'+'n'];const _0x5bc059=this['collectLig'+'hts'](_0x534b25,_0x12108f);if(_0x5bc059['length']>0x842*-0x2+-0x122e*-0x1+0x2*-0xd5){const _0x24bb12=this['slots'];for(let _0x429595=-0x77d+-0x23fb*-0x1+-0x1c7e;_0x429595<_0x24bb12['length'];_0x429595++)_0x24bb12[_0x429595]['used']=!(0x6f2*0x4+-0x1020+-0xba7);const _0x11de23=Math['min'](_0x5bc059['length'],_0x24bb12['length']);for(let _0x396145=-0x252e+0x3e*-0x1+-0x95b*-0x4;_0x396145<_0x11de23;_0x396145++){const _0x33a04e=_0x5bc059[_0x396145];_0x33a04e['castShadow'+'s']&&(_0x33a04e['_shadowMap']=this['shadowAtla'+'s']);const _0xbd4231=_0x24bb12[_0x33a04e['atlasSlotI'+'ndex']];if(_0x33a04e['atlasVersi'+'on']===this['version']&&_0x33a04e['id']===(_0xbd4231==null?void(0x25c*0x5+-0x1bfa+0x102e):_0xbd4231['lightId'])){const _0x5109dc=_0x24bb12[_0x33a04e['atlasSlotI'+'ndex']];_0x5109dc['size']===_0x24bb12[_0x396145]['size']&&!_0x5109dc['used']&&this['assignSlot'](_0x33a04e,_0x33a04e['atlasSlotI'+'ndex'],!(-0x553+0x15bb+-0x1067));}}let _0x4524d4=0x1e7d+0x2f*-0x2+-0x1*0x1e1f;for(let _0x5c5f54=-0x1*-0x20ab+0x2123+-0x1*0x41ce;_0x5c5f54<_0x11de23;_0x5c5f54++){for(;_0x4524d4<_0x24bb12['length']&&_0x24bb12[_0x4524d4]['used'];)_0x4524d4++;const _0x226869=_0x5bc059[_0x5c5f54];_0x226869['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x226869,_0x4524d4,!(-0x50b*0x4+0x1*0xaa+-0x1382*-0x1));const _0x4e0847=_0x24bb12[_0x226869['atlasSlotI'+'ndex']];this['setupSlot'](_0x226869,_0x4e0847['rect']);}}this['updateUnif'+'orms']();}}class pM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x168186=>{_0x168186['forEach'](_0x538902=>{_0x538902['destroy']();});}),this['cache']['clear']();}['getKey'](_0x17fb46){const _0x4d9b20=_0x17fb46['_type']===Le,_0x125e50=_0x17fb46['_shadowTyp'+'e'],_0x49127b=_0x17fb46['_shadowRes'+'olution'];return _0x4d9b20+'-'+_0x125e50+'-'+_0x49127b;}['get'](_0x9b9585,_0x289efb){const _0x718e83=this['getKey'](_0x289efb),_0x18554f=this['cache']['get'](_0x718e83);if(_0x18554f&&_0x18554f['length'])return _0x18554f['pop']();const _0x4d786e=pn['create'](_0x9b9585,_0x289efb);return _0x4d786e['cached']=!(-0x12df+0x2057+-0xd78),_0x4d786e;}['add'](_0x31ec4f,_0x261422){const _0x423c37=this['getKey'](_0x31ec4f),_0x13113b=this['cache']['get'](_0x423c37);_0x13113b?_0x13113b['push'](_0x261422):this['cache']['set'](_0x423c37,[_0x261422]);}}class mM extends gs{constructor(_0x2bbc75,_0x3ca717,_0xe3c13d,_0x1bc3dd,_0x243973){super(_0x2bbc75),gn['setName'](this,this['name']+'-'+_0xe3c13d['_node']['name']),this['requiresCu'+'bemaps']=!(0x11d5+0xe*0x254+-0x326c),this['shadowRend'+'erer']=_0x3ca717,this['light']=_0xe3c13d,this['face']=_0x1bc3dd,this['applyVsm']=_0x243973,this['shadowCame'+'ra']=_0x3ca717['prepareFac'+'e'](_0xe3c13d,null,_0x1bc3dd),_0x3ca717['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x1537+0xf35*-0x2+0x933));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x888+0x50c*-0x5+-0x21c5*-0x1));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class _M{constructor(_0x269e67,_0x35794c){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x269e67,this['shadowRend'+'erer']=_0x35794c,this['device']=_0x269e67['device']);}['cull'](_0x40be76,_0x121000,_0x3730fb=null){const _0x3ccf78=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x40be76['visibleThi'+'sFrame']=!(-0x2*0xc97+0x6f*-0x2a+-0x1*-0x2b64),_0x3ccf78||_0x40be76['_shadowMap']||(_0x40be76['_shadowMap']=pn['create'](this['device'],_0x40be76));const _0x582b17=_0x40be76['_type'],_0xf8cbf=_0x582b17===Fe?-0x2*-0xf47+0x10f4*0x2+-0x4075:-0x1*-0x1f18+0x1*0x1ac+-0xaea*0x3;for(let _0x4fc69b=-0x1*-0x23e3+-0x7c3*-0x1+-0x12e*0x25;_0x4fc69b<_0xf8cbf;_0x4fc69b++){const _0x3acca6=_0x40be76['getRenderD'+'ata'](null,_0x4fc69b),_0x842c90=_0x3acca6['shadowCame'+'ra'];_0x842c90['nearClip']=_0x40be76['attenuatio'+'nEnd']/(0x697*-0x1+0x1d18+-0x1299),_0x842c90['farClip']=_0x40be76['attenuatio'+'nEnd'];const _0x116e53=_0x842c90['_node'],_0x45ccd6=_0x40be76['_node'];if(_0x116e53['setPositio'+'n'](_0x45ccd6['getPositio'+'n']()),_0x582b17===Fe)_0x842c90['fov']=_0x40be76['_outerCone'+'Angle']*(0xa3*-0x7+0x88*-0x5+0x71f*0x1),_0x116e53['setRotatio'+'n'](_0x45ccd6['getRotatio'+'n']()),_0x116e53['rotateLoca'+'l'](-(-0x1d48+0x19f+0x1c03),0x6c4*0x5+0x1b40+-0x3d14,-0xf7*-0x1d+0xfd+-0x1cf8*0x1);else{if(_0x582b17===Le){if(_0x3ccf78){const _0x3b94ae=(0x613+0x10d4+0x16e5*-0x1)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x40be76['atlasViewp'+'ort']['z']/(0x75c*0x1+0x11ed+-0x1946))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x842c90['fov']=Math['atan'](0x1cc7+0x409+-0x20cf+_0x3b94ae)*z['RAD_TO_DEG']*(-0x1*0x2bb+0x1b74+-0x83d*0x3);}else _0x842c90['fov']=-0x25*-0x7e+-0x1*-0xa66+0x1c42*-0x1;}}this['renderer']['updateCame'+'raFrustum'](_0x842c90),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x121000,_0x40be76,_0x3acca6['visibleCas'+'ters'],_0x842c90,_0x3730fb);}}['prepareLig'+'hts'](_0x33eb22,_0x57bb20){let _0x199397;for(let _0xecaae5=0x182f+-0x177*-0x17+-0x39e0;_0xecaae5<_0x57bb20['length'];_0xecaae5++){const _0x1d52f1=_0x57bb20[_0xecaae5];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x1d52f1)&&_0x1d52f1['atlasViewp'+'ortAllocat'+'ed']){_0x33eb22['push'](_0x1d52f1);for(let _0x323129=0x1*-0x1df8+-0x1*-0x1f07+-0x10f;_0x323129<_0x1d52f1['numShadowF'+'aces'];_0x323129++)_0x199397=this['shadowRend'+'erer']['prepareFac'+'e'](_0x1d52f1,null,_0x323129);}}return _0x199397;}['buildNonCl'+'usteredRen'+'derPasses'](_0x24bb27,_0x2ee461){for(let _0x3747cb=-0xcd6+0x21*0xd6+-0x760*0x2;_0x3747cb<_0x2ee461['length'];_0x3747cb++){const _0x2b2701=_0x2ee461[_0x3747cb];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2b2701)){const _0x3aef4d=_0x2b2701['_type']===Fe,_0x41d78b=_0x2b2701['numShadowF'+'aces'];for(let _0x3d67e5=-0x1b6d+-0x4*0xb7+0x1e49;_0x3d67e5<_0x41d78b;_0x3d67e5++){const _0x26a312=new mM(this['device'],this['shadowRend'+'erer'],_0x2b2701,_0x3d67e5,_0x3aef4d);_0x24bb27['addRenderP'+'ass'](_0x26a312);}}}}}class gM extends gs{constructor(_0x5d957d,_0x41d56b,_0x303735,_0x37f4f9,_0x73bb56){super(_0x5d957d),gn['setName'](this,this['name']+'-'+_0x303735['_node']['name']),this['shadowRend'+'erer']=_0x41d56b,this['light']=_0x303735,this['camera']=_0x37f4f9,this['allCascade'+'sRendering']=_0x73bb56;}['execute'](){const {light:_0x1c0627,camera:_0x5ad4dc,shadowRenderer:_0x42f602,allCascadesRendering:_0x4084c5}=this,_0x48d6e4=_0x1c0627['numShadowF'+'aces'],_0x25d92a=_0x1c0627['shadowUpda'+'teOverride'+'s'];for(let _0x3f0084=0x15c9+-0x802+-0xdc7;_0x3f0084<_0x48d6e4;_0x3f0084++)(_0x25d92a==null?void(0x853*-0x4+-0x15cd+0x5*0xb05):_0x25d92a[_0x3f0084])!==ks&&_0x42f602['renderFace'](_0x1c0627,_0x5ad4dc,_0x3f0084,!_0x4084c5),(_0x25d92a==null?void(0x254f+-0xa37+-0xc*0x242):_0x25d92a[_0x3f0084])===un&&(_0x25d92a[_0x3f0084]=ks);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Nl=new ve(),ni=new A(),u_=new q(),ze=[new A(),new A(),new A(),new A(),new A(),new A(),new A(),new A()],Ld={'min':0x0,'max':0x0};function yM(_0x1dbc70,_0x2c3875,_0x5346ae){ze[0x17c*0x14+-0x229a+0x4ea]['x']=ze[0x5*0x46f+0x13b1*-0x1+-0x279]['x']=ze[0x755+-0xc*-0x1ec+-0x1e63]['x']=ze[0x1f*0xb7+-0x24d5+-0x15*-0xb3]['x']=_0x2c3875['x'],ze[-0x2*-0xe9b+0x25c7+-0x6*0xb2a]['y']=ze[0x1*-0x338+0x1*0x1302+-0xfc7]['y']=ze[0x1419+0x11*-0x8e+0x38c*-0x3]['y']=ze[0x1582+-0x909*-0x3+-0x3098]['y']=_0x2c3875['y'],ze[-0x1978+0x9f1+0xf89]['z']=ze[-0x463*0x6+-0x1*0xfaa+0x29ff]['z']=ze[-0x51*0x7+-0x2704+0x3b*0xb3]['z']=ze[0x1*0xe75+-0x1735+0x6b*0x15]['z']=_0x2c3875['z'],ze[0x1*0x2489+0x2487*0x1+-0x490c]['x']=ze[-0x17ad+-0x1*0xfb3+0x2765]['x']=ze[-0x1e67+0x6*-0x3b4+0x34a5]['x']=ze[0x4ba*0x5+-0x1dea+-0x55*-0x13]['x']=_0x5346ae['x'],ze[-0x117a+0x1*0xc3e+0x53c]['y']=ze[-0xd*0x283+-0x533*0x7+0x2287*0x2]['y']=ze[-0x1*0xc6a+-0x755+0x13c3*0x1]['y']=ze[0xba2+0x1*0x8bd+-0x1*0x1459]['y']=_0x5346ae['y'],ze[0x3*-0x52e+-0x1b63+-0x2aed*-0x1]['z']=ze[-0x153c+0x8*0x3b8+-0x883]['z']=ze[0x22cc+-0x11a+0x12*-0x1df]['z']=ze[0x39*-0x39+-0x376*0xb+0x32c8]['z']=_0x5346ae['z'];let _0x28a221=0xa7353ea1+-0x46d*-0x78636b+-0x67f95b31,_0x4990da=-(0x22cce6a25+-0x1*0x38bcb6d3c+0x3b308e716);for(let _0x2aa993=0x1f*0x2b+-0xd7e+0x12f*0x7;_0x2aa993<0x1517+-0x554*0x5+-0x595*-0x1;++_0x2aa993){_0x1dbc70['transformP'+'oint'](ze[_0x2aa993],ze[_0x2aa993]);const _0x130744=ze[_0x2aa993]['z'];_0x130744<_0x28a221&&(_0x28a221=_0x130744),_0x130744>_0x4990da&&(_0x4990da=_0x130744);}return Ld['min']=_0x28a221,Ld['max']=_0x4990da,Ld;}class xM{constructor(_0x2fba09,_0x417975){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x2fba09,this['shadowRend'+'erer']=_0x417975,this['device']=_0x2fba09['device']);}['cull'](_0x4b6dbd,_0x35c3c9,_0xcbfe93,_0x36d1de=null){_0x4b6dbd['visibleThi'+'sFrame']=!(-0x2278+-0x1be9+0x3e61*0x1),_0x4b6dbd['_shadowMap']||(_0x4b6dbd['_shadowMap']=pn['create'](this['device'],_0x4b6dbd));const _0x14b2e2=_0xcbfe93['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x4b6dbd,_0x14b2e2,Math['min'](_0xcbfe93['_farClip'],_0x4b6dbd['shadowDist'+'ance']));const _0x420a1b=_0x4b6dbd['shadowUpda'+'teOverride'+'s'];for(let _0x3272ef=0xbc3+-0x140a+0x847;_0x3272ef<_0x4b6dbd['numCascade'+'s']&&(_0x420a1b==null?void(-0x18c1+0x2*0x37a+-0x11cd*-0x1):_0x420a1b[_0x3272ef])!==ks;_0x3272ef++){const _0x2ea165=_0x4b6dbd['getRenderD'+'ata'](_0xcbfe93,_0x3272ef),_0x18c6ec=_0x2ea165['shadowCame'+'ra'];_0x18c6ec['renderTarg'+'et']=_0x4b6dbd['_shadowMap']['renderTarg'+'ets'][-0x277*0xd+0xca*0x2f+-0x50b*0x1],_0x2ea165['shadowView'+'port']['copy'](_0x4b6dbd['cascades'][_0x3272ef]),_0x2ea165['shadowScis'+'sor']['copy'](_0x4b6dbd['cascades'][_0x3272ef]);const _0x4048cb=_0x18c6ec['_node'],_0x703d0=_0x4b6dbd['_node'];_0x4048cb['setPositio'+'n'](_0x703d0['getPositio'+'n']()),_0x4048cb['setRotatio'+'n'](_0x703d0['getRotatio'+'n']()),_0x4048cb['rotateLoca'+'l'](-(-0xd1*0x2f+-0xb4c+0x3205),-0x22cb+-0x1*0x1e8d+0x2b9*0x18,0x298*0xc+0xd*0x145+0x89*-0x59);const _0x22c221=_0x3272ef===-0x20bb+-0x24ba*-0x1+-0x1*0x3ff?_0x14b2e2:_0x4b6dbd['_shadowCas'+'cadeDistan'+'ces'][_0x3272ef-(-0xc36+0x1*0x4d6+0x761)],_0x579648=_0x4b6dbd['_shadowCas'+'cadeDistan'+'ces'][_0x3272ef],_0x2bd291=_0xcbfe93['getFrustum'+'Corners'](_0x22c221,_0x579648);ni['set'](0x1f*0x10f+0x73b+-0x280c,0x1d0+0x8f0+-0xac0,0xc3c+-0x22d+-0xa0f);const _0x7e5666=_0xcbfe93['node']['getWorldTr'+'ansform']();for(let _0x4aeddb=0xe*0x1b+-0x168*0x5+0x58e;_0x4aeddb<-0x1c69+0x1*-0x1cb9+-0x392a*-0x1;_0x4aeddb++)_0x7e5666['transformP'+'oint'](_0x2bd291[_0x4aeddb],_0x2bd291[_0x4aeddb]),ni['add'](_0x2bd291[_0x4aeddb]);ni['mulScalar']((0x2+0x15a7+-0x15a8)/(0x498+0x1*0x1f93+-0x2423));let _0x2a00e8=0x2629+0x213a+-0x5*0xe47;for(let _0x1ef6ea=-0xd33+-0x17a5+0x8*0x49b;_0x1ef6ea<-0x1*0xa5b+-0x1b2e+-0xa3*-0x3b;_0x1ef6ea++){const _0x592642=_0x2bd291[_0x1ef6ea]['sub'](ni)['length']();_0x592642>_0x2a00e8&&(_0x2a00e8=_0x592642);}const _0x5bec4e=_0x4048cb['right'],_0x370911=_0x4048cb['up'],_0x2284a8=_0x4048cb['forward'],_0x561a19=(-0x56*0x35+-0x6a2+0x4*0x61c+0.25)*_0x4b6dbd['_shadowRes'+'olution']/_0x2a00e8,_0x460b67=Math['ceil'](ni['dot'](_0x370911)*_0x561a19)/_0x561a19,_0x12e1dc=Math['ceil'](ni['dot'](_0x5bec4e)*_0x561a19)/_0x561a19,_0x979387=_0x370911['mulScalar'](_0x460b67),_0x2cbce0=_0x5bec4e['mulScalar'](_0x12e1dc),_0x40a349=ni['dot'](_0x2284a8),_0x377dcb=_0x2284a8['mulScalar'](_0x40a349);ni['add2'](_0x979387,_0x2cbce0)['add'](_0x377dcb),_0x4048cb['setPositio'+'n'](ni),_0x4048cb['translateL'+'ocal'](-0x1287+-0x22d3+0x355a,0x1*-0xd0f+-0x1d3f+-0x876*-0x5,-0x9*-0x25caf+0xec4c5+0x5312b*-0x4),_0x18c6ec['nearClip']=-0x26b6+0x656+0x2060+0.01,_0x18c6ec['farClip']=-0x2*-0x8fcae+-0x24f8fb*0x1+0x31841f,_0x18c6ec['orthoHeigh'+'t']=_0x2a00e8,this['renderer']['updateCame'+'raFrustum'](_0x18c6ec),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x35c3c9,_0x4b6dbd,_0x2ea165['visibleCas'+'ters'],_0x18c6ec,_0x36d1de);let _0x5241aa=!(0x1ed9+0x1160+0x9a5*-0x5);const _0x3b589c=_0x2ea165['visibleCas'+'ters'];for(let _0x5a00ff=-0x1*-0xddb+-0x1*-0x19b2+-0x278d;_0x5a00ff<_0x3b589c['length'];_0x5a00ff++){const _0x362cc0=_0x3b589c[_0x5a00ff];_0x5241aa?(_0x5241aa=!(-0xf0e+0x44*-0x32+0x1c57),Nl['copy'](_0x362cc0['aabb'])):Nl['add'](_0x362cc0['aabb']);}u_['copy'](_0x4048cb['getWorldTr'+'ansform']())['invert']();const _0x540362=yM(u_,Nl['getMin'](),Nl['getMax']());_0x4048cb['translateL'+'ocal'](0x80f+0x178c+0x9*-0x383,-0x233*-0x10+-0xcba+0x73*-0x32,_0x540362['max']+(0xa*-0xf+-0x2533+-0x239*-0x11+0.1)),_0x18c6ec['farClip']=_0x540362['max']-_0x540362['min']+(-0x1dd1+0x1a7c+0x355+0.2),_0x2ea165['projection'+'Compensati'+'on']=_0x2a00e8;}}['generateSp'+'litDistanc'+'es'](_0x394906,_0x47b43e,_0x52708e){_0x394906['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x52708e);for(let _0x2509cb=0xd*-0x26b+0x5dc+0x1994*0x1;_0x2509cb<_0x394906['numCascade'+'s'];_0x2509cb++){const _0xed3d3d=_0x2509cb/_0x394906['numCascade'+'s'],_0x2fab9c=_0x47b43e+(_0x52708e-_0x47b43e)*_0xed3d3d,_0x432120=_0x47b43e*(_0x52708e/_0x47b43e)**_0xed3d3d,_0x3ba89e=z['lerp'](_0x2fab9c,_0x432120,_0x394906['cascadeDis'+'tribution']);_0x394906['_shadowCas'+'cadeDistan'+'ces'][_0x2509cb-(-0x6*0x1d3+0x1d2*-0x15+0x312d)]=_0x3ba89e;}}['getLightRe'+'nderPass'](_0x6a9fb3,_0x58bbf6){b['assert'](_0x6a9fb3&&_0x6a9fb3['_type']===le);let _0x434112=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x6a9fb3)){const _0xecaefe=_0x6a9fb3['numShadowF'+'aces'],_0x504354=_0x6a9fb3['shadowUpda'+'teOverride'+'s'];let _0x370401=!(0x1*-0x2209+-0x6eb*-0x2+0x1433),_0x21549c;for(let _0x4fc6bb=0xe2f+-0x2*0x4cc+-0x497;_0x4fc6bb<_0xecaefe;_0x4fc6bb++)(_0x504354==null?void(0x1c*-0x97+0xb03+0x581):_0x504354[_0x4fc6bb])===ks&&(_0x370401=!(-0x10de*-0x1+-0x578+-0x1*0xb65)),_0x21549c=this['shadowRend'+'erer']['prepareFac'+'e'](_0x6a9fb3,_0x58bbf6,_0x4fc6bb);_0x434112=new gM(this['device'],this['shadowRend'+'erer'],_0x6a9fb3,_0x58bbf6,_0x370401),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x434112,_0x21549c,_0x370401);}return _0x434112;}}const Fd=new Set(),f_=new q(),p_=new q(),br=new Float32Array(-0x3*0xc10+0x1601+-0x4bb*-0x3),Za=new ee(0x16*0x49+0xf44+-0x1589,0x31d*0x1+0x56*0x31+-0x1392,-0x4*0x3f9+0x5c*-0xb+0x13d8,-0x11*0x95+0x1*-0x1693+0x2078),m_=new q();function SM(_0xf9c2f4,_0x5aa6f7){return Math['exp'](-(_0xf9c2f4*_0xf9c2f4)/((0x2130+-0x1c2b*-0x1+-0x3d59)*_0x5aa6f7*_0x5aa6f7));}function vM(_0x519ab0){const _0x3bb591=(_0x519ab0-(-0x1*0x1751+0x11d*0x1+0x1635))/(-0x2f*-0x1+0x20*0xb5+-0x16c9),_0x2d62e7=(_0x519ab0-(0x1b3a+0x1be3+-0x2*0x1b8e))*(0x52+-0x14df+0x148d+0.5),_0x1b3a50=new Array(_0x519ab0);let _0x45b734=0x1*-0x7b7+-0x1*0x21e5+-0x2*-0x14ce;for(let _0x442c7f=-0x84*0xc+0x1b0a+-0x14da;_0x442c7f<_0x519ab0;++_0x442c7f)_0x1b3a50[_0x442c7f]=SM(_0x442c7f-_0x2d62e7,_0x3bb591),_0x45b734+=_0x1b3a50[_0x442c7f];for(let _0x2c4b7a=0x92*0x2+0x1601+-0x1725;_0x2c4b7a<_0x519ab0;++_0x2c4b7a)_0x1b3a50[_0x2c4b7a]/=_0x45b734;return _0x1b3a50;}class D0{constructor(_0x47e26a,_0x2ee493){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x47e26a['device'],this['renderer']=_0x47e26a,this['lightTextu'+'reAtlas']=_0x2ee493);const _0x18bb27=this['device']['scope'];this['sourceId']=_0x18bb27['resolve']('source'),this['pixelOffse'+'tId']=_0x18bb27['resolve']('pixelOffse'+'t'),this['weightId']=_0x18bb27['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[j['blurVSMPS'],'#define\x20GA'+'USS\x0a'+j['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x18bb27['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new bt(),this['blendState'+'NoWrite']=new bt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0x1ba*0x2+-0x56b+-0x6*-0x54),!(0x822+0x637+-0x11*0xd8),!(0x24cf+0xc01*0x1+0x5*-0x9c3),!(-0x20a1*0x1+0x1d1d+0x35*0x11));}static['createShad'+'owCamera'](_0x237150,_0x3a1f73,_0x5ee26e){const _0x5568cd=Ia['create']('ShadowCame'+'ra',_0x3a1f73,_0x5ee26e),_0x534caa=nr['get'](_0x237150);b['assert'](_0x534caa);const _0x144acf=(_0x534caa==null?void(-0x2c2*0x7+0xb*0xdf+0x9b9):_0x534caa['vsm'])??!(0x1dc6+-0x17*-0x11+0x7d3*-0x4),_0x52a5d1=(_0x534caa==null?void(-0x163f+0x25d3+0xf94*-0x1):_0x534caa['pcf'])??!(0x2077*0x1+0x25*0xad+-0x3977);return _0x144acf?_0x5568cd['clearColor']=new Y(0x6df+-0x1dc6*0x1+-0xb*-0x215,-0x2*0xf08+0x7c*0x3d+0x84,-0xac*-0x8+0x2*0x8b4+-0x16c8,0x47f+-0xf78+-0x1*-0xaf9):_0x5568cd['clearColor']=new Y(-0xee+-0x15b4+0x487*0x5,0x1ae0+0x1fc9+-0x1*0x3aa8,-0xda1+0x3e9+0x9b9,-0x1e93*-0x1+-0x21bc+-0x10e*-0x3),_0x5568cd['clearDepth'+'Buffer']=!(-0x16*-0xc6+0xd87*-0x2+0xa0a),_0x5568cd['clearStenc'+'ilBuffer']=!(-0x1*0x21c1+0x6f9+0x1ac9),_0x5568cd['clearColor'+'Buffer']=!_0x52a5d1,_0x5568cd;}['_cullShado'+'wCastersIn'+'ternal'](_0x3e1851,_0x2f5b2f,_0x40c1fb){const _0x27f911=_0x3e1851['length'];for(let _0x529cbc=0x578+0x179d*0x1+-0x1d15;_0x529cbc<_0x27f911;_0x529cbc++){const _0x24384c=_0x3e1851[_0x529cbc];_0x24384c['castShadow']&&(!_0x24384c['cull']||_0x24384c['_isVisible'](_0x40c1fb))&&(_0x24384c['visibleThi'+'sFrame']=!(0x1*0x1c77+0x3*0x515+-0xf*0x2ea),_0x2f5b2f['push'](_0x24384c));}}['cullShadow'+'Casters'](_0x58d95d,_0x3fd8dc,_0x732d32,_0x1832f5,_0x20448c){if(_0x732d32['length']=0xc8e+-0x10*-0x29+0x5*-0x306,_0x20448c)this['_cullShado'+'wCastersIn'+'ternal'](_0x20448c,_0x732d32,_0x1832f5);else{const _0xa268cd=_0x58d95d['layerList'],_0x1eb407=_0xa268cd['length'];for(let _0x546f8b=-0x2468+-0xd32*0x2+0x3ecc;_0x546f8b<_0x1eb407;_0x546f8b++){const _0x67f0ee=_0xa268cd[_0x546f8b];_0x67f0ee['_lightsSet']['has'](_0x3fd8dc)&&(Fd['has'](_0x67f0ee)||(Fd['add'](_0x67f0ee),this['_cullShado'+'wCastersIn'+'ternal'](_0x67f0ee['shadowCast'+'ers'],_0x732d32,_0x1832f5)));}Fd['clear']();}_0x732d32['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x53f994,_0x2eb032){const _0x171fbf=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x2eb032['_isPcf']:_0x2eb032['_isPcf']&&_0x2eb032['_type']!==Le;_0x53f994['setBlendSt'+'ate'](_0x171fbf?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x53f994['setDepthSt'+'ate'](_0x2eb032['shadowDept'+'hState']),_0x53f994['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x352f30,_0x129ebf,_0x5522cf,_0xa70494){const _0x11206c=_0x129ebf['_node'];_0x352f30['_type']!==le&&(this['renderer']['dispatchVi'+'ewPos'](_0x11206c['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x352f30['attenuatio'+'nEnd'])),f_['setTRS'](_0x11206c['getPositio'+'n'](),_0x11206c['getRotatio'+'n'](),A['ONE'])['invert'](),p_['mul2'](_0x129ebf['projection'+'Matrix'],f_);const _0x75aba8=_0x5522cf['shadowView'+'port'];_0x129ebf['rect']=_0x75aba8,_0x129ebf['scissorRec'+'t']=_0x5522cf['shadowScis'+'sor'],m_['setViewpor'+'t'](_0x75aba8['x'],_0x75aba8['y'],_0x75aba8['z'],_0x75aba8['w']),_0x5522cf['shadowMatr'+'ix']['mul2'](m_,p_),_0x352f30['_type']===le&&_0x352f30['_shadowMat'+'rixPalette']['set'](_0x5522cf['shadowMatr'+'ix']['data'],_0xa70494*(0x838*-0x4+0x1*-0x13f3+0x34e3*0x1));}['getShadowP'+'ass'](_0x220b5c){var _0x418f18;const _0x30d93e=_0x220b5c['_type'],_0x3262c9=_0x220b5c['_shadowTyp'+'e'];let _0x135952=(_0x418f18=this['shadowPass'+'Cache'][_0x30d93e])==null?void(-0xea0+0x212e+-0x128e):_0x418f18[_0x3262c9];if(!_0x135952){const _0xbea317='ShadowPass'+'_'+_0x30d93e+'_'+_0x3262c9;_0x135952=ti['get'](this['device'])['allocate'](_0xbea317,{'isShadow':!(0x0+0x42f+-0x42f),'lightType':_0x30d93e,'shadowType':_0x3262c9}),this['shadowPass'+'Cache'][_0x30d93e]||(this['shadowPass'+'Cache'][_0x30d93e]=[]),this['shadowPass'+'Cache'][_0x30d93e][_0x3262c9]=_0x135952;}return _0x135952['index'];}['submitCast'+'ers'](_0x489e7e,_0x749754,_0x4511b0){const _0x20a549=this['device'],_0x422542=this['renderer'],_0x4806b6=_0x422542['scene'],_0x78afb7=-0x58f*-0x4+0x18fe+-0x2f39<<Fp,_0x23d361=this['getShadowP'+'ass'](_0x749754),_0x7bc1e8=_0x4511b0['shaderPara'+'ms'],_0x1d54c3=_0x4511b0['renderTarg'+'et']['flipY']?-(-0x9*-0xad+0x1392+-0x19a6):-0x14*-0x13d+-0x11*-0x12b+-0x1*0x2c9e,_0x48e6d2=_0x489e7e['length'];for(let _0x3dfbb6=-0x16f1+-0x79+0x176a;_0x3dfbb6<_0x48e6d2;_0x3dfbb6++){const _0x20453c=_0x489e7e[_0x3dfbb6],_0x579c09=_0x20453c['mesh'];_0x20453c['ensureMate'+'rial'](_0x20a549);const _0x379ff1=_0x20453c['material'];G['pushGpuMar'+'ker'](_0x20a549,'Node:\x20'+_0x20453c['node']['name']+(',\x20Material'+':\x20')+_0x379ff1['name']),_0x422542['setBaseCon'+'stants'](_0x20a549,_0x379ff1),_0x422542['setSkinnin'+'g'](_0x20a549,_0x20453c),_0x379ff1['dirty']&&(_0x379ff1['updateUnif'+'orms'](_0x20a549,_0x4806b6),_0x379ff1['dirty']=!(0x94*-0x1+-0x710+-0x67*-0x13)),_0x422542['setupCullM'+'ode'](!(-0x10ce+-0x1f29+0xffd*0x3),_0x1d54c3,_0x20453c),_0x379ff1['setParamet'+'ers'](_0x20a549),_0x20453c['setParamet'+'ers'](_0x20a549,_0x78afb7);const _0x4d26c5=_0x20453c['getShaderI'+'nstance'](_0x23d361,-0x3d2+0x16af+-0x1*0x12dd,_0x4806b6,_0x7bc1e8,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x39eb10=_0x4d26c5['shader'];b['assert'](_0x39eb10,'no\x20shader\x20'+'for\x20pass\x20'+_0x23d361,_0x379ff1),_0x20453c['_key'][Uu]=_0x39eb10['id'],_0x20a549['setShader'](_0x39eb10),_0x422542['setVertexB'+'uffers'](_0x20a549,_0x579c09),_0x422542['setMorphin'+'g'](_0x20a549,_0x20453c['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0x4d26c5,_0x20453c);const _0x329e46=_0x20453c['renderStyl'+'e'];_0x20a549['setIndexBu'+'ffer'](_0x579c09['indexBuffe'+'r'][_0x329e46]),_0x422542['drawInstan'+'ce'](_0x20a549,_0x20453c,_0x579c09,_0x329e46),_0x422542['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x20a549);}}['needsShado'+'wRendering'](_0x57a528){const _0x16edd3=_0x57a528['enabled']&&_0x57a528['castShadow'+'s']&&_0x57a528['shadowUpda'+'teMode']!==ks&&_0x57a528['visibleThi'+'sFrame'];return _0x57a528['shadowUpda'+'teMode']===un&&(_0x57a528['shadowUpda'+'teMode']=ks),_0x16edd3&&(this['renderer']['_shadowMap'+'Updates']+=_0x57a528['numShadowF'+'aces']),_0x16edd3;}['getLightRe'+'nderData'](_0x493bb6,_0x5148eb,_0x304d7e){return _0x493bb6['getRenderD'+'ata'](_0x493bb6['_type']===le?_0x5148eb:null,_0x304d7e);}['setupRende'+'rPass'](_0x8f66f7,_0x4d8c03,_0x3f75dc){const _0x2d3e25=_0x4d8c03['renderTarg'+'et'];_0x8f66f7['init'](_0x2d3e25),_0x8f66f7['depthStenc'+'ilOps']['clearDepth'+'Value']=0xa5b*0x1+-0x261e*-0x1+-0x3078,_0x8f66f7['depthStenc'+'ilOps']['clearDepth']=_0x3f75dc,_0x2d3e25['depthBuffe'+'r']?_0x8f66f7['depthStenc'+'ilOps']['storeDepth']=!(-0x23db*0x1+-0x1849+0x3c24):(_0x8f66f7['colorOps']['clearValue']['copy'](_0x4d8c03['clearColor']),_0x8f66f7['colorOps']['clear']=_0x3f75dc,_0x8f66f7['depthStenc'+'ilOps']['storeDepth']=!(-0xc8e+0x3*-0xa96+0x8dd*0x5)),_0x8f66f7['requiresCu'+'bemaps']=!(-0x14f7*0x1+-0x52f*-0x1+0xfc9);}['prepareFac'+'e'](_0x7dfe6e,_0x252b78,_0x34cdb1){const _0x45ca60=_0x7dfe6e['_type'],_0x21feb1=this['getLightRe'+'nderData'](_0x7dfe6e,_0x252b78,_0x34cdb1)['shadowCame'+'ra'],_0x3ddbe6=_0x45ca60===le?0x1*0x35+0x48b*-0x6+-0x5*-0x569:_0x34cdb1;return _0x21feb1['renderTarg'+'et']=_0x7dfe6e['_shadowMap']['renderTarg'+'ets'][_0x3ddbe6],_0x21feb1;}['renderFace'](_0x37c0f8,_0x21afeb,_0x4b6b52,_0x16afd7,_0x314e75=!(-0x2*-0xec6+-0x470*-0x4+-0x2f4c*0x1)){const _0x5b048b=this['device'],_0x10772b=ae();G['pushGpuMar'+'ker'](_0x5b048b,'SHADOW\x20'+_0x37c0f8['_node']['name']+'\x20FACE\x20'+_0x4b6b52);const _0x240091=this['getLightRe'+'nderData'](_0x37c0f8,_0x21afeb,_0x4b6b52),_0x721791=_0x240091['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x37c0f8,_0x721791,_0x240091,_0x4b6b52);const _0xc4cdcc=_0x721791['renderTarg'+'et'],_0x338742=this['renderer'];_0x338742['setCameraU'+'niforms'](_0x721791,_0xc4cdcc),_0x5b048b['supportsUn'+'iformBuffe'+'rs']&&_0x338742['setupViewU'+'niformBuff'+'ers'](_0x240091['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],0xcc1*-0x1+-0x7a4+0x1466),_0x314e75?(_0x338742['setupViewp'+'ort'](_0x721791,_0xc4cdcc),_0x16afd7&&_0x338742['clear'](_0x721791)):_0x338742['clearView'](_0x721791,_0xc4cdcc,!(-0x1246+0x912+-0x1*-0x934),!(0x115*-0xd+0x1c69*-0x1+-0x2a7b*-0x1)),this['setupRende'+'rState'](_0x5b048b,_0x37c0f8),this['submitCast'+'ers'](_0x240091['visibleCas'+'ters'],_0x37c0f8,_0x721791),G['popGpuMark'+'er'](_0x5b048b),_0x338742['_shadowMap'+'Time']+=ae()-_0x10772b;}['render'](_0x4d1a35,_0x7f01ab,_0x55ebc7=!(0x1*-0x165a+-0x1*-0x43a+0x1220)){if(this['needsShado'+'wRendering'](_0x4d1a35)){const _0x543e62=_0x4d1a35['numShadowF'+'aces'];for(let _0x33c42a=0x1369+0x25e1+-0x394a;_0x33c42a<_0x543e62;_0x33c42a++)this['prepareFac'+'e'](_0x4d1a35,_0x7f01ab,_0x33c42a),this['renderFace'](_0x4d1a35,_0x7f01ab,_0x33c42a,!(0x1989*0x1+0x19c3+-0x334c),_0x55ebc7);this['renderVsm'](_0x4d1a35,_0x7f01ab);}}['renderVsm'](_0x619327,_0x1c82b9){_0x619327['_isVsm']&&_0x619327['_vsmBlurSi'+'ze']>-0x23fe+-0xfa0+0x339f&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x619327['_type']===le)&&this['applyVsmBl'+'ur'](_0x619327,_0x1c82b9);}['getVsmBlur'+'Shader'](_0x40932f,_0x2f1356){const _0x3e4bdb=this['blurVsmSha'+'der'];let _0x4f3175=_0x3e4bdb[_0x40932f][_0x2f1356];if(!_0x4f3175){this['blurVsmWei'+'ghts'][_0x2f1356]=vM(_0x2f1356);const _0x55b54c=j['fullscreen'+'QuadVS'];let _0x1c115b='#define\x20SA'+'MPLES\x20'+_0x2f1356+'\x0a';_0x1c115b+=this['blurVsmSha'+'derCode'][_0x40932f];const _0xf52f74='blurVsm'+_0x40932f+_0x2f1356;_0x4f3175=Bs(this['device'],_0x55b54c,_0x1c115b,_0xf52f74),_0x3e4bdb[_0x40932f][_0x2f1356]=_0x4f3175;}return _0x4f3175;}['applyVsmBl'+'ur'](_0xcf2c1d,_0x343fd6){const _0xa948dd=this['device'];G['pushGpuMar'+'ker'](_0xa948dd,'VSM\x20'+_0xcf2c1d['_node']['name']),_0xa948dd['setBlendSt'+'ate'](bt['NOBLEND']);const _0x5db349=_0xcf2c1d['getRenderD'+'ata'](_0xcf2c1d['_type']===le?_0x343fd6:null,0x1*-0x7cd+-0x4*-0x4fc+-0xc23*0x1)['shadowCame'+'ra']['renderTarg'+'et'],_0x23b195=this['renderer']['shadowMapC'+'ache']['get'](_0xa948dd,_0xcf2c1d),_0x4c49b3=_0x23b195['renderTarg'+'ets'][-0x5b*-0x6+-0x1f0b+0x1ce9*0x1],_0x2331a=_0xcf2c1d['vsmBlurMod'+'e'],_0x572032=_0xcf2c1d['_vsmBlurSi'+'ze'],_0x10b998=this['getVsmBlur'+'Shader'](_0x2331a,_0x572032);Za['z']=_0xcf2c1d['_shadowRes'+'olution']-(-0x1d4+0x3b*-0x9+0x3e9),Za['w']=Za['z'],this['sourceId']['setValue'](_0x5db349['colorBuffe'+'r']),br[-0x1*0x101c+0xe91+-0x5*-0x4f]=(0x534+0x19ad+-0x1ee0)/_0xcf2c1d['_shadowRes'+'olution'],br[-0x1*-0x709+-0x18a9+0x11a1]=-0x12e9+0x3*-0x89b+0x2cba,this['pixelOffse'+'tId']['setValue'](br),_0x2331a===Mp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x572032]),fn(_0xa948dd,_0x4c49b3,_0x10b998,null,Za),this['sourceId']['setValue'](_0x4c49b3['colorBuffe'+'r']),br[-0x74c+-0x20a1+0x27ee]=br[-0x1dfe+0x4*-0x8e0+0x417e],br[-0x22*-0x74+-0x781+-0x7e7]=0x1*-0xd14+-0xff7+0x1d0b,this['pixelOffse'+'tId']['setValue'](br),fn(_0xa948dd,_0x5db349,_0x10b998,null,Za),this['renderer']['shadowMapC'+'ache']['add'](_0xcf2c1d,_0x23b195),G['popGpuMark'+'er'](_0xa948dd);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Jy(this['device'],[new wt('matrix_vie'+'wProjectio'+'n',wa)]),this['viewBindGr'+'oupFormat']=new Yy(this['device'],[new yp(gp,_p|fi)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const zl=[];class bM{constructor(_0x108030){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x108030;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x17bdb7=>{_0x17bdb7['destroy']();}),this['_allocated']['length']=-0xf3*-0xe+0x1*-0xf09+-0x1bf*-0x1;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x375f36=new Hu(this['device']);_0x375f36['name']='ClusterEmp'+'ty',_0x375f36['update']([]),this['_empty']=_0x375f36;}return this['_empty'];}['assign'](_0x7affe){const _0x3d973c=this['empty'];zl['push'](...this['_allocated']),this['_allocated']['length']=0x197+0x1ce7+0x1e7e*-0x1,this['_clusters']['clear']();const _0x315919=_0x7affe['length'];for(let _0x27578e=0xb27+-0x1a86+-0xf5f*-0x1;_0x27578e<_0x315919;_0x27578e++){const _0x5e0f46=_0x7affe[_0x27578e]['renderActi'+'ons'];if(_0x5e0f46){const _0x53d507=_0x5e0f46['length'];for(let _0x580ce9=0xd14+-0x23af+0x169b;_0x580ce9<_0x53d507;_0x580ce9++){const _0x44fd0e=_0x5e0f46[_0x580ce9];_0x44fd0e['lightClust'+'ers']=null;const _0x398cca=_0x44fd0e['layer'];if(_0x398cca['hasCluster'+'edLights']&&_0x398cca['meshInstan'+'ces']['length']){const _0x5e621f=_0x398cca['getLightId'+'Hash'](),_0x2fe482=this['_clusters']['get'](_0x5e621f);let _0x424ee0=_0x2fe482==null?void(-0x2628+0x613+0x2015):_0x2fe482['lightClust'+'ers'];_0x424ee0||(_0x424ee0=zl['pop']()??new Hu(this['device']),gn['setName'](_0x424ee0,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x424ee0),this['_clusters']['set'](_0x5e621f,_0x44fd0e)),_0x44fd0e['lightClust'+'ers']=_0x424ee0;}_0x44fd0e['lightClust'+'ers']||(_0x44fd0e['lightClust'+'ers']=_0x3d973c);}}}zl['forEach'](_0x21522a=>_0x21522a['destroy']()),zl['length']=-0x4*-0x923+0x1ada+-0x3f66;}['update'](_0x576f1d,_0x33d988){this['assign'](_0x576f1d),this['_clusters']['forEach'](_0x392886=>{const _0x4a1c4a=_0x392886['layer'];_0x392886['lightClust'+'ers']['update'](_0x4a1c4a['clusteredL'+'ightsSet'],_0x33d988);});}}const __='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',TM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Wi=new ee(),kd=[];class Up extends gs{constructor(_0xc360f9,_0x1f5304){super(_0xc360f9),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x1f5304,this['requiresCu'+'bemaps']=!(0x16f9+-0xb*0x43+-0x1417),this['blitTextur'+'eId']=_0xc360f9['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0xc360f9['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x3ccd63,_0x4164c7;(_0x3ccd63=this['_quadRende'+'rer2D'])==null||_0x3ccd63['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4164c7=this['_quadRende'+'rerCube'])==null||_0x4164c7['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x31e567,_0x7c6144){b['assert'](_0x31e567);const _0x240b47=new Up(_0x31e567['device'],_0x7c6144);return _0x240b47['init'](_0x31e567),_0x240b47['colorOps']['clear']=!(0x1e15+-0x4*-0x1ab+-0x24c0),_0x240b47['depthStenc'+'ilOps']['clearDepth']=!(0x3a*-0xa7+-0x1b71+-0x4*-0x1052),_0x240b47;}['update'](_0x45f2bf){const _0x398e31=this['_filteredL'+'ights'];this['filter'](_0x45f2bf,_0x398e31),this['executeEna'+'bled']=_0x398e31['length']>0xe3c+0x1d9c+-0x2bd8;}['filter'](_0x2e0def,_0x4949ea){for(let _0x40c5f6=0x12df+-0xfd4+-0x30b;_0x40c5f6<_0x2e0def['length'];_0x40c5f6++){const _0x3a2dd5=_0x2e0def[_0x40c5f6];_0x3a2dd5['_type']!==le&&_0x3a2dd5['atlasViewp'+'ortAllocat'+'ed']&&_0x3a2dd5['atlasSlotU'+'pdated']&&_0x3a2dd5['enabled']&&_0x3a2dd5['cookie']&&_0x3a2dd5['visibleThi'+'sFrame']&&_0x4949ea['push'](_0x3a2dd5);}}['initInvVie'+'wProjMatri'+'ces'](){if(!kd['length'])for(let _0x3268b2=0x3ad*0x2+-0x2*0xe72+0x158a;_0x3268b2<-0xb*-0x1eb+0x229*0x7+-0x2432*0x1;_0x3268b2++){const _0x2a563f=Ia['create'](null,Le,_0x3268b2),_0x568284=_0x2a563f['projection'+'Matrix'],_0x869dff=_0x2a563f['node']['getLocalTr'+'ansform']()['clone']()['invert']();kd[_0x3268b2]=new q()['mul2'](_0x568284,_0x869dff)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x45381f=Bs(this['device'],__,wM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Gu(_0x45381f);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x4e9930=Bs(this['device'],__,TM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Gu(_0x4e9930);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x4bc0bd=this['device'];_0x4bc0bd['setBlendSt'+'ate'](bt['NOBLEND']),_0x4bc0bd['setCullMod'+'e'](vt),_0x4bc0bd['setDepthSt'+'ate'](us['NODEPTH']),_0x4bc0bd['setStencil'+'State']();const _0x24ee63=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x5d4103=this['_cubeSlots'+'Offsets'],_0x5cd0e3=this['_filteredL'+'ights'];for(let _0x1d5c97=-0x46*0x13+-0xc98+-0x42*-0x45;_0x1d5c97<_0x5cd0e3['length'];_0x1d5c97++){const _0x15071b=_0x5cd0e3[_0x1d5c97];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x15071b['_node']['name']);const _0x234ee0=_0x15071b['numShadowF'+'aces'],_0x4d9cd0=_0x234ee0>-0xc*-0x197+-0x1*0xc8e+-0x685*0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x234ee0>-0xce3+-0xd3e+0x5*0x53a&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x15071b['cookie']);for(let _0x4a2deb=0x9*-0x348+-0x3*0x1d9+0x49*0x7b;_0x4a2deb<_0x234ee0;_0x4a2deb++){if(Wi['copy'](_0x15071b['atlasViewp'+'ort']),_0x234ee0>0x18d4+-0x1fcf+-0x1*-0x6fc){const _0x537055=Wi['z']/(0x633+0x936+-0xf66),_0x263026=_0x5d4103[_0x4a2deb];Wi['x']+=_0x537055*_0x263026['x'],Wi['y']+=_0x537055*_0x263026['y'],Wi['z']=_0x537055,Wi['w']=_0x537055,this['invViewPro'+'jId']['setValue'](kd[_0x4a2deb]['data']);}Wi['mulScalar'](_0x24ee63),_0x4d9cd0['render'](Wi);}G['popGpuMark'+'er'](_0x4bc0bd);}_0x5cd0e3['length']=-0x25b0+0xdfc+0x1*0x17b4;}}class AM extends gs{constructor(_0x5ceb4b,_0x19c6e5,_0x13e147){super(_0x5ceb4b),this['requiresCu'+'bemaps']=!(-0x1b13+-0x172b+0x323f),this['shadowRend'+'erer']=_0x19c6e5,this['shadowRend'+'ererLocal']=_0x13e147;}['update'](_0x763300){const _0x3fcefa=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x5a6ac2=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x3fcefa,_0x763300),_0x21df31=_0x3fcefa['length'];this['enabled']=_0x21df31>0xc53+-0x21*0x45+-0x2*0x1b7,_0x21df31&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x5a6ac2,!(0x7a5+0x1c53+0x3ff*-0x9));}['execute'](){const _0x46e350=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x5eefde=_0x46e350['length'];for(let _0x95567b=0x493+0x13d4+0x1*-0x1867;_0x95567b<_0x5eefde;_0x95567b++){const _0x4f933c=_0x46e350[_0x95567b];for(let _0x4a1d8d=-0x1971+0x222b*-0x1+0x7*0x884;_0x4a1d8d<_0x4f933c['numShadowF'+'aces'];_0x4a1d8d++)this['shadowRend'+'erer']['renderFace'](_0x4f933c,null,_0x4a1d8d,!(-0x1*-0x1be5+-0x2*0x3b5+-0x1*0x147b));}_0x46e350['length']=0x297+-0xd83+0xaec;}}class EM extends gs{constructor(_0x403f6f,_0x172295,_0x5e89db,_0x3a355b,_0x2d2b4f){super(_0x403f6f),this['renderer']=_0x172295,this['frameGraph']=null,this['cookiesRen'+'derPass']=Up['create'](_0x2d2b4f['cookieRend'+'erTarget'],_0x2d2b4f['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new AM(_0x403f6f,_0x5e89db,_0x3a355b),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x165079,_0x3ca972,_0x1d5d87,_0x42cb8b,_0x34f431){this['frameGraph']=_0x165079,this['cookiesRen'+'derPass']['enabled']=_0x1d5d87,_0x1d5d87&&this['cookiesRen'+'derPass']['update'](_0x42cb8b),this['shadowRend'+'erPass']['enabled']=_0x3ca972,_0x3ca972&&this['shadowRend'+'erPass']['update'](_0x34f431);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x1162e0=ae(),{renderer:_0xacc70a}=this,{scene:_0x3d12c9}=_0xacc70a;_0xacc70a['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x3d12c9['lighting']),_0xacc70a['_lightClus'+'tersTime']+=ae()-_0x1162e0,_0xacc70a['_lightClus'+'ters']=_0xacc70a['worldClust'+'ersAllocat'+'or']['count'];}}let Od=-0xcb7+-0xefb+0x58a*0x5;const $i=new q(),qi=new q(),Rn=new q(),g_=new Js(),Bd=new Bf(),y_=new q()['setScale'](-0x5*0x4e2+0x2476+0x1*-0xc0b,-(0x13d9+-0x1*0x9c7+0x3*-0x35b),-0x244f+0x1*-0x1edb+0x432b),Nd=new Set(),zd=new Set(),Ud=new Ky(),x_=new q()['set']([0x19e*-0x14+-0x26cc+0x1*0x4725,0xf2f+-0x1c97+0x18*0x8f,-0x1*-0x4e5+0x22c2+-0x1*0x27a7,0x1e7*-0x6+0xf8b*-0x1+-0x67*-0x43,-0x4c*0x6f+-0xb94+-0x4b*-0x98,0x2582+0xc8+-0x16b*0x1b,0x262e+-0x1a7*0x1+-0xc2d*0x3,0x1*-0x27+-0x247d+0x24a4,-0x8f*0x17+-0x13*0xd9+0x1cf4,-0x3d*-0x84+0x262e+0x1*-0x45a2,-0x94f+0x1*-0x1091+-0x10*-0x19e+0.5,0x1f67+0x2*-0x1f9+-0x1b75,0x8*-0x233+-0x28*0xaf+0x2cf0*0x1,-0x6d*0xd+-0x18c9+-0x1*-0x1e52,0x26c7+-0x1db3+0x1c*-0x53+0.5,-0x1a61+-0x2392+0x4c4*0xd]),S_=[new W(0x100e+-0x1*0x1af2+0xae4+0.5,-0x1af5+0x111b+0x9da+0.333333),new W(-0x7*-0x317+0x1*-0x2507+0xf66+0.25,0x224a+-0x1*0xb03+-0x1747+0.666667),new W(-0x1878+-0x2418+-0x13*-0x330+0.75,0x10b1*0x1+-0x5d+0x14*-0xd1+0.111111),new W(0x22a0+0x5d*0x7+-0x37*0xad+0.125,0x928*0x3+0x565*0x1+-0x20dd+0.444444),new W(0x57*0x69+-0x807*-0x1+0x2bb6*-0x1+0.625,0x2230+-0x1705+-0xb2b+0.777778),new W(0x1*-0x1ca6+0x1ec4*0x1+-0x21e+0.375,-0x2*0x125f+0x43*-0x6d+0x4145+0.222222),new W(-0x3bb+-0x1daf+0x10b5*0x2+0.875,0x1*-0xc11+0xf6b*-0x2+0x2ae7+0.555556),new W(0x26a3+0x202e+-0x46d1+0.0625,-0x4*0x652+-0x32d+0x1c75+0.888889),new W(-0x7a*0x3e+0x1*0x43e+-0xca7*-0x2+0.5625,0x86f+0x1ed6+0xd17*-0x3+0.037037),new W(0x1f40+0x242+-0x1*0x2182+0.3125,-0x4f*0x1e+-0x2678+0x2fba+0.37037),new W(0x197a+-0x3*0xa82+0x306*0x2+0.8125,-0x1e82+0x11*-0x121+0x31b3+0.703704),new W(0x2*0xe2d+-0x1310+0x1d*-0x52+0.1875,-0x15f6+0x846+0xdb0+0.148148),new W(0x967*0x1+-0x69*-0x1e+0x1*-0x15b5+0.6875,0x1256+-0x14ca+-0x4*-0x9d+0.481481),new W(-0x9c5*0x1+0x480+0x47*0x13+0.4375,-0x3*-0xc95+-0x300+0x251*-0xf+0.814815),new W(0x1*0x14e7+-0x16f*0x18+-0x1*-0xd81+0.9375,-0x45e*0x8+0x41*-0x53+0x3803+0.259259),new W(-0x23*-0xb0+-0x233*-0x3+-0xa7*0x2f+0.03125,-0xac4+0x20*-0x119+0x7a6*0x6+0.592593)],CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),DM=new q(),In=new Set(),Vd=[],Gd=[];class LM{constructor(_0x327f8e){c(this,'clustersDe'+'bugRendere'+'d',!(0x756+-0x1d8d+0x1638)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new nM(-0x1b12+-0x162*0xb+0x2ac3)),(this['device']=_0x327f8e,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new bM(_0x327f8e),this['lightTextu'+'reAtlas']=new fM(_0x327f8e),this['shadowMapC'+'ache']=new pM(),this['shadowRend'+'erer']=new D0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new _M(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new xM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new EM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=0x593*0x2+-0x3*0x7db+0xb*0x121,this['_morphTime']=-0x1c75*0x1+0x446*-0x8+-0x1d*-0x229,this['_cullTime']=-0x129c+0xfd2+0x2ca,this['_shadowMap'+'Time']=0x97*-0x3f+0xb9e+0x198b,this['_lightClus'+'tersTime']=-0x1778+-0xaaa+0x1*0x2222,this['_layerComp'+'ositionUpd'+'ateTime']=-0x28b+0x1b0f+0x621*-0x4,this['_shadowDra'+'wCalls']=0x7b*0x16+0xbe4+-0x1676,this['_skinDrawC'+'alls']=0x1d39+-0xd*-0x14+-0x1e3d,this['_instanced'+'DrawCalls']=0x10*-0x185+-0x191*-0xf+0xd1,this['_shadowMap'+'Updates']=-0x231f+0x1*0x24b5+-0x7*0x3a,this['_numDrawCa'+'llsCulled']=0x1ff+0x16e5*0x1+-0x18e4,this['_camerasRe'+'ndered']=0x425*-0x6+-0x123e+0x2b1c,this['_lightClus'+'ters']=0x2539+-0xc*0x110+-0x1879);const _0x53b75c=_0x327f8e['scope'];this['boneTextur'+'eId']=_0x53b75c['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x53b75c['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x53b75c['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x53b75c['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x53b75c['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x35b+0x783+0x1*-0x425),this['viewPosId']=_0x53b75c['resolve']('view_posit'+'ion'),this['projId']=_0x53b75c['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x53b75c['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x53b75c['resolve']('matrix_vie'+'w'),this['viewId3']=_0x53b75c['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x53b75c['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x53b75c['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x53b75c['resolve']('tbnBasis'),this['nearClipId']=_0x53b75c['resolve']('camera_nea'+'r'),this['farClipId']=_0x53b75c['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x2108+0x1*0x24aa+0x12*-0x3df),this['cameraPara'+'msId']=_0x53b75c['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x53b75c['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=-0x1f09+0x15a7+0x962,this['blueNoiseJ'+'itterVec']=new ee(),this['blueNoiseJ'+'itterData']=new Float32Array(0x67a+-0x993+0x31d),this['blueNoiseJ'+'itterId']=_0x53b75c['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x53b75c['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x53b75c['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x53b75c['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x53b75c['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x53b75c['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x970+0x1e2*-0xe+0x10ec),this['morphPosit'+'ionTex']=_0x53b75c['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x53b75c['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x53b75c['resolve']('morph_tex_'+'params'),this['lightCube']=new oM(),this['constantLi'+'ghtCube']=_0x53b75c['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x2aa282,_0xc59474){if(_0x2aa282['layer']===_0xc59474['layer']){if(_0x2aa282['drawOrder']&&_0xc59474['drawOrder'])return _0x2aa282['drawOrder']-_0xc59474['drawOrder'];if(_0x2aa282['zdist']&&_0xc59474['zdist'])return _0xc59474['zdist']-_0x2aa282['zdist'];if(_0x2aa282['zdist2']&&_0xc59474['zdist2'])return _0x2aa282['zdist2']-_0xc59474['zdist2'];}return _0xc59474['_key'][Ii]-_0x2aa282['_key'][Ii];}['sortCompar'+'eMesh'](_0x35fdd0,_0x50ed81){if(_0x35fdd0['layer']===_0x50ed81['layer']){if(_0x35fdd0['drawOrder']&&_0x50ed81['drawOrder'])return _0x35fdd0['drawOrder']-_0x50ed81['drawOrder'];if(_0x35fdd0['zdist']&&_0x50ed81['zdist'])return _0x50ed81['zdist']-_0x35fdd0['zdist'];}const _0x3dd953=_0x35fdd0['_key'][Ii],_0x905664=_0x50ed81['_key'][Ii];return _0x3dd953===_0x905664&&_0x35fdd0['mesh']&&_0x50ed81['mesh']?_0x50ed81['mesh']['id']-_0x35fdd0['mesh']['id']:_0x905664-_0x3dd953;}['sortCompar'+'eDepth'](_0xa6ace2,_0x487442){const _0x4058e7=_0xa6ace2['_key'][Uu],_0x4ed41f=_0x487442['_key'][Uu];return _0x4058e7===_0x4ed41f&&_0xa6ace2['mesh']&&_0x487442['mesh']?_0x487442['mesh']['id']-_0xa6ace2['mesh']['id']:_0x4ed41f-_0x4058e7;}['setupViewp'+'ort'](_0x2d1862,_0x1b933a){const _0x532381=this['device'],_0x3f5d33=_0x1b933a?_0x1b933a['width']:_0x532381['width'],_0x1db824=_0x1b933a?_0x1b933a['height']:_0x532381['height'],_0x5ea1ac=_0x2d1862['rect'];let _0x543362=Math['floor'](_0x5ea1ac['x']*_0x3f5d33),_0x1ad869=Math['floor'](_0x5ea1ac['y']*_0x1db824),_0xf25d24=Math['floor'](_0x5ea1ac['z']*_0x3f5d33),_0x29b442=Math['floor'](_0x5ea1ac['w']*_0x1db824);if(_0x532381['setViewpor'+'t'](_0x543362,_0x1ad869,_0xf25d24,_0x29b442),_0x2d1862['_scissorRe'+'ctClear']){const _0x4405cc=_0x2d1862['scissorRec'+'t'];_0x543362=Math['floor'](_0x4405cc['x']*_0x3f5d33),_0x1ad869=Math['floor'](_0x4405cc['y']*_0x1db824),_0xf25d24=Math['floor'](_0x4405cc['z']*_0x3f5d33),_0x29b442=Math['floor'](_0x4405cc['w']*_0x1db824);}_0x532381['setScissor'](_0x543362,_0x1ad869,_0xf25d24,_0x29b442);}['setCameraU'+'niforms'](_0xfe5779,_0x5ad40e){var _0x5e2e6c,_0x19657e;const _0x4cec7f=_0x5ad40e==null?void(0x25c7+-0x20ef+-0x4d8):_0x5ad40e['flipY'];let _0x18d2c0=0x1*0x815+0x3cf+-0xbe3;if(_0xfe5779['xr']&&_0xfe5779['xr']['session']){const _0xcf547f=((_0x19657e=(_0x5e2e6c=_0xfe5779['_node'])==null?void(0x2a1*-0x3+0x1c2d+-0x144a):_0x5e2e6c['parent'])==null?void(-0x1*-0x38f+0x26b4+-0x15d*0x1f):_0x19657e['getWorldTr'+'ansform']())||null,_0x1b6192=_0xfe5779['xr']['views'];_0x18d2c0=_0x1b6192['list']['length'];for(let _0x452c50=0x1b8d+-0x1*0x257d+0xd4*0xc;_0x452c50<_0x18d2c0;_0x452c50++){const _0x1a01e5=_0x1b6192['list'][_0x452c50];_0x1a01e5['updateTran'+'sforms'](_0xcf547f),_0xfe5779['frustum']['setFromMat'+'4'](_0x1a01e5['projViewOf'+'fMat']);}}else{let _0x4cae7a=_0xfe5779['projection'+'Matrix'];_0xfe5779['calculateP'+'rojection']&&_0xfe5779['calculateP'+'rojection'](_0x4cae7a,Rl);let _0x364b37=_0xfe5779['getProject'+'ionMatrixS'+'kybox']();_0x4cec7f&&(_0x4cae7a=CM['mul2'](y_,_0x4cae7a),_0x364b37=MM['mul2'](y_,_0x364b37)),this['device']['isWebGPU']&&(_0x4cae7a=PM['mul2'](x_,_0x4cae7a),_0x364b37=RM['mul2'](x_,_0x364b37));const {jitter:_0x46d14e}=_0xfe5779;let _0xd57d18=-0x18*-0x30+-0x17a3+0x1323,_0x29bbdb=0x1431+-0x2305+-0x76a*-0x2;if(_0x46d14e>0x9d9+0x1c66+-0x263f){const _0x232d5e=_0x5ad40e?_0x5ad40e['width']:this['device']['width'],_0x5a9f90=_0x5ad40e?_0x5ad40e['height']:this['device']['height'],_0x1e0cb1=S_[this['device']['renderVers'+'ion']%S_['length']];_0xd57d18=_0x46d14e*(_0x1e0cb1['x']*(0x1eb+0x1*-0xc7+-0x122*0x1)-(0x517+-0x324+-0x1f2*0x1))/_0x232d5e,_0x29bbdb=_0x46d14e*(_0x1e0cb1['y']*(0x15af+-0x21d6+0x11b*0xb)-(0x17cd+0x524+-0x1cf0))/_0x5a9f90,_0x4cae7a=IM['copy'](_0x4cae7a),_0x4cae7a['data'][-0x6d2+0x1028+-0x94e]=_0xd57d18,_0x4cae7a['data'][-0x14e2+0xad4+0xa17]=_0x29bbdb,_0x364b37=DM['copy'](_0x364b37),_0x364b37['data'][0x19fe*0x1+0xe73*-0x1+0xb83*-0x1]=_0xd57d18,_0x364b37['data'][0x1e83*-0x1+-0xa2d+0x28b9]=_0x29bbdb,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x207c68=_0x46d14e>0x1*-0x1f9+0xd3*0x7+-0x3cc?this['blueNoiseJ'+'itterVec']:ee['ZERO'];if(this['blueNoiseJ'+'itterData'][0x16c*0x8+0x1*-0x98f+-0x1d1*0x1]=_0x207c68['x'],this['blueNoiseJ'+'itterData'][-0xbed+0x17b7+0x1*-0xbc9]=_0x207c68['y'],this['blueNoiseJ'+'itterData'][0x8ad+-0x148d*-0x1+-0x8*0x3a7]=_0x207c68['z'],this['blueNoiseJ'+'itterData'][-0x155b+0x34a+-0x59*-0x34]=_0x207c68['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x4cae7a['data']),this['projSkybox'+'Id']['setValue'](_0x364b37['data']),_0xfe5779['calculateT'+'ransform'])_0xfe5779['calculateT'+'ransform'](qi,Rl);else{const _0x31732a=_0xfe5779['_node']['getPositio'+'n'](),_0x46a101=_0xfe5779['_node']['getRotatio'+'n']();qi['setTRS'](_0x31732a,_0x46a101,A['ONE']);}this['viewInvId']['setValue'](qi['data']),Rn['copy'](qi)['invert'](),this['viewId']['setValue'](Rn['data']),g_['setFromMat'+'4'](Rn),this['viewId3']['setValue'](g_['data']),$i['mul2'](_0x4cae7a,Rn),this['viewProjId']['setValue']($i['data']),_0xfe5779['_storeShad'+'erMatrices']($i,_0xd57d18,_0x29bbdb,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x4cec7f?-(0x165*0xe+0x54e+-0x4f7*0x5):-0x2237+0x2656+-0x41e*0x1),this['dispatchVi'+'ewPos'](_0xfe5779['_node']['getPositio'+'n']()),_0xfe5779['frustum']['setFromMat'+'4']($i);}this['tbnBasis']['setValue'](_0x4cec7f?-(-0x168d*0x1+0x1c0b+-0x57d):0x10b5+0x2a7*-0x1+0x3*-0x4af);const _0x200c69=_0xfe5779['_nearClip'],_0x50639a=_0xfe5779['_farClip'];return this['nearClipId']['setValue'](_0x200c69),this['farClipId']['setValue'](_0x50639a),this['cameraPara'+'ms'][-0x67e*0x3+-0x11df+-0xc73*-0x3]=(0x1a5b+-0x33b*-0x7+-0x1*0x30f7)/_0x50639a,this['cameraPara'+'ms'][-0x1e71+0x185e+0x614]=_0x50639a,this['cameraPara'+'ms'][-0x95*-0x1d+-0x204*-0xe+-0x2d17]=_0x200c69,this['cameraPara'+'ms'][-0x1*-0x26e3+0x172b+-0x3e0b]=_0xfe5779['projection']===pa?-0x2e+0xf0e*-0x1+0x53*0x2f:-0x130*0x9+-0x218d+0x2c3d,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0xfe5779['getExposur'+'e']():this['scene']['exposure']),_0x18d2c0;}['clear'](_0x5a44da,_0x131c35,_0x3ef861,_0x3239ef){const _0x46177b=(_0x131c35??_0x5a44da['_clearColo'+'rBuffer']?Io:-0x1f9d+0x180a+0x793*0x1)|(_0x3ef861??_0x5a44da['_clearDept'+'hBuffer']?Do:-0x402+-0x1b50+0x1*0x1f52)|(_0x3239ef??_0x5a44da['_clearSten'+'cilBuffer']?Rh:-0x1870+-0x18ac+0x311c);if(_0x46177b){const _0x112618=this['device'];G['pushGpuMar'+'ker'](_0x112618,'CLEAR'),_0x112618['clear']({'color':[_0x5a44da['_clearColo'+'r']['r'],_0x5a44da['_clearColo'+'r']['g'],_0x5a44da['_clearColo'+'r']['b'],_0x5a44da['_clearColo'+'r']['a']],'depth':_0x5a44da['_clearDept'+'h'],'stencil':_0x5a44da['_clearSten'+'cil'],'flags':_0x46177b}),G['popGpuMark'+'er'](_0x112618);}}['setCamera'](_0x5e4942,_0x56ea66,_0x364ec1,_0x2448bf=null){this['setCameraU'+'niforms'](_0x5e4942,_0x56ea66),this['clearView'](_0x5e4942,_0x56ea66,_0x364ec1,!(-0x1*-0x218d+0x293+-0x241f));}['clearView'](_0x4dbe44,_0x37715a,_0x4baf03,_0x4885c6){const _0x3f641f=this['device'];if(G['pushGpuMar'+'ker'](_0x3f641f,'CLEAR-VIEW'),_0x3f641f['setRenderT'+'arget'](_0x37715a),_0x3f641f['updateBegi'+'n'](),_0x4885c6&&(_0x3f641f['setColorWr'+'ite'](!(0x16ac+0x189d*-0x1+0x1f1),!(0x1*-0x230d+-0x139*0x1c+0x4549),!(-0x1*0xcaa+0x2482*-0x1+-0x1*-0x312c),!(-0x1233+0x94*-0x13+0x1d2f)),_0x3f641f['setDepthWr'+'ite'](!(0x197d+0x5a8*-0x1+-0x13d5))),this['setupViewp'+'ort'](_0x4dbe44,_0x37715a),_0x4baf03){const _0x4afcbc=_0x4dbe44['_clearOpti'+'ons'];_0x3f641f['clear'](_0x4afcbc||{'color':[_0x4dbe44['_clearColo'+'r']['r'],_0x4dbe44['_clearColo'+'r']['g'],_0x4dbe44['_clearColo'+'r']['b'],_0x4dbe44['_clearColo'+'r']['a']],'depth':_0x4dbe44['_clearDept'+'h'],'flags':(_0x4dbe44['_clearColo'+'rBuffer']?Io:-0xb8e+-0x1870+0x23fe)|(_0x4dbe44['_clearDept'+'hBuffer']?Do:-0xd3*-0xb+0x2*-0x2f1+-0x32f)|(_0x4dbe44['_clearSten'+'cilBuffer']?Rh:0x1*0x122e+-0x1413+0x1e5),'stencil':_0x4dbe44['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x3f641f);}['setupCullM'+'ode'](_0x42657a,_0x8e81eb,_0x6987fe){const _0x1487f7=_0x6987fe['material'];let _0x504ab2=vt;if(_0x42657a){let _0x17b8d0=-0x13ec+-0x4fd*-0x6+0xc5*-0xd;(_0x1487f7['cull']===xo||_0x1487f7['cull']===nn)&&(_0x17b8d0=_0x8e81eb*_0x6987fe['flipFacesF'+'actor']*_0x6987fe['node']['worldScale'+'Sign']),_0x17b8d0<-0xa7d+-0xa16*0x1+0x1493?_0x504ab2=_0x1487f7['cull']===xo?nn:xo:_0x504ab2=_0x1487f7['cull'];}this['device']['setCullMod'+'e'](_0x504ab2),_0x504ab2===vt&&_0x1487f7['cull']===vt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x6987fe['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x57b7e8){if(_0x57b7e8['xr']&&_0x57b7e8['xr']['views']['list']['length']){const _0x2b9b56=_0x57b7e8['xr']['views']['list'][-0x369+0x28a+0xdf*0x1];$i['mul2'](_0x2b9b56['projMat'],_0x2b9b56['viewOffMat']),_0x57b7e8['frustum']['setFromMat'+'4']($i);return;}const _0x1350aa=_0x57b7e8['projection'+'Matrix'];if(_0x57b7e8['calculateP'+'rojection']&&_0x57b7e8['calculateP'+'rojection'](_0x1350aa,Rl),_0x57b7e8['calculateT'+'ransform'])_0x57b7e8['calculateT'+'ransform'](qi,Rl);else{const _0x4edd29=_0x57b7e8['_node']['getPositio'+'n'](),_0x2c5b86=_0x57b7e8['_node']['getRotatio'+'n']();qi['setTRS'](_0x4edd29,_0x2c5b86,A['ONE']),this['viewInvId']['setValue'](qi['data']);}Rn['copy'](qi)['invert'](),$i['mul2'](_0x1350aa,Rn),_0x57b7e8['frustum']['setFromMat'+'4']($i);}['setBaseCon'+'stants'](_0x4be5c6,_0x5eba36){_0x4be5c6['setCullMod'+'e'](_0x5eba36['cull']),_0x5eba36['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x5eba36['opacityMap']),(_0x5eba36['opacityMap']||_0x5eba36['alphaTest']>0xa09+-0x1*-0xa57+-0x1460)&&this['alphaTestI'+'d']['setValue'](_0x5eba36['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x17c5a2){Od++;const _0x561d1b=_0x17c5a2['length'];if(_0x561d1b===0x41*-0x91+-0xa26+0x2ef7)return;const _0x516fd6=ae();for(let _0x447e6d=0x2f*0x5+-0x1db0+-0x3*-0x997;_0x447e6d<_0x561d1b;_0x447e6d++){const _0x2592b4=_0x17c5a2[_0x447e6d]['skinInstan'+'ce'];_0x2592b4&&(_0x2592b4['updateMatr'+'ices'](_0x17c5a2[_0x447e6d]['node'],Od),_0x2592b4['_dirty']=!(0x24b6+0x359+0x1*-0x280f));}this['_skinTime']+=ae()-_0x516fd6;}['updateGpuS'+'kinMatrice'+'s'](_0x40cac0){const _0x351550=ae();for(const _0x443b3a of _0x40cac0){const _0xeebb7e=_0x443b3a['skinInstan'+'ce'];_0xeebb7e&&_0xeebb7e['_dirty']&&(_0xeebb7e['updateMatr'+'ixPalette'](_0x443b3a['node'],Od),_0xeebb7e['_dirty']=!(-0x241*-0x5+-0xc91*0x1+0x14d*0x1));}this['_skinTime']+=ae()-_0x351550;}['updateMorp'+'hing'](_0x3111f3){const _0x5cfdd5=ae();for(const _0x2f5164 of _0x3111f3){const _0x137c2d=_0x2f5164['morphInsta'+'nce'];_0x137c2d&&_0x137c2d['_dirty']&&_0x137c2d['update']();}this['_morphTime']+=ae()-_0x5cfdd5;}['updateGSpl'+'ats'](_0x5a5ef1){var _0xcb20ea;for(const _0x549cca of _0x5a5ef1)(_0xcb20ea=_0x549cca['gsplatInst'+'ance'])==null||_0xcb20ea['update']();}['gpuUpdate'](_0x397db2){this['updateGpuS'+'kinMatrice'+'s'](_0x397db2),this['updateMorp'+'hing'](_0x397db2),this['updateGSpl'+'ats'](_0x397db2);}['setVertexB'+'uffers'](_0x17ccb3,_0x4438eb){_0x17ccb3['setVertexB'+'uffer'](_0x4438eb['vertexBuff'+'er']);}['setMorphin'+'g'](_0x19b7e0,_0x466b01){_0x466b01&&(_0x466b01['prepareRen'+'dering'](_0x19b7e0),_0x19b7e0['setVertexB'+'uffer'](_0x466b01['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x466b01['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x466b01['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x466b01['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x510648,_0x85fae3){const _0x893660=_0x85fae3['skinInstan'+'ce'];if(_0x893660){this['_skinDrawC'+'alls']++;const _0x5204e4=_0x893660['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x5204e4),this['boneTextur'+'eSizeId']['setValue'](_0x893660['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x592d8a){const _0x3aea3a=this['viewPos'];_0x3aea3a[-0x26f+0xf67+-0xcf8]=_0x592d8a['x'],_0x3aea3a[-0x19af+-0x1542+0x1779*0x2]=_0x592d8a['y'],_0x3aea3a[-0x14*0x12f+-0x6cc+0x1e7a]=_0x592d8a['z'],this['viewPosId']['setValue'](_0x3aea3a);}['initViewBi'+'ndGroupFor'+'mat'](_0xd6b8f2){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x2ce316=[new wt('matrix_vie'+'wProjectio'+'n',wa),new wt('cubeMapRot'+'ationMatri'+'x',Uo),new wt('view_posit'+'ion',Qt),new wt('skyboxInte'+'nsity',Ks),new wt('exposure',Ks),new wt('textureBia'+'s',Ks)];_0xd6b8f2&&_0x2ce316['push'](new wt('clusterCel'+'lsCountByB'+'oundsSize',Qt),new wt('clusterTex'+'tureSize',Qt),new wt('clusterBou'+'ndsMin',Qt),new wt('clusterBou'+'ndsDelta',Qt),new wt('clusterCel'+'lsDot',Qt),new wt('clusterCel'+'lsMax',Qt),new wt('clusterCom'+'pressionLi'+'mit0',hr),new wt('shadowAtla'+'sParams',hr),new wt('clusterMax'+'Cells',hn),new wt('clusterSki'+'p',Ks)),this['viewUnifor'+'mFormat']=new Jy(this['device'],_0x2ce316);const _0x395d3f=[new yp(gp,_p|fi),new yi('lightsText'+'ureFloat',fi,$s,hd),new yi('lightsText'+'ure8',fi,$s,hd),new yi('shadowAtla'+'sTexture',fi,$s,jS),new yi('cookieAtla'+'sTexture',fi,$s,uh),new yi('areaLights'+'LutTex1',fi,$s,uh),new yi('areaLights'+'LutTex2',fi,$s,uh)];_0xd6b8f2&&_0x395d3f['push'](new yi('clusterWor'+'ldTexture',fi,$s,hd)),this['viewBindGr'+'oupFormat']=new Yy(this['device'],_0x395d3f);}}['setupViewU'+'niformBuff'+'ers'](_0x579433,_0x324648,_0x197a8f,_0xa239f2){b['assert'](Array['isArray'](_0x579433),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0x533a3a=this['device'];for(b['assert'](_0xa239f2===0x11*0x139+0x1f64+-0x342c,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x579433['length']<_0xa239f2;){const _0x5464f5=new vp(_0x533a3a,_0x324648,!(0x6ae+-0xe09*-0x1+-0x14b6)),_0xc03827=new xp(_0x533a3a,_0x197a8f,_0x5464f5);gn['setName'](_0xc03827,'ViewBindGr'+'oup_'+_0xc03827['id']),_0x579433['push'](_0xc03827);}const _0x10f243=_0x579433[-0x153e*0x1+0x1aaa*-0x1+0x2fe8];_0x10f243['defaultUni'+'formBuffer']['update'](),_0x10f243['update'](),_0x533a3a['setBindGro'+'up'](Bh,_0x10f243);}['setupMeshU'+'niformBuff'+'ers'](_0x5c88dc,_0x6cec31){const _0x2d6db8=this['device'];if(_0x2d6db8['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x6cec31['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x6cec31['node']['normalMatr'+'ix']['data']);const _0x18997b=_0x5c88dc['getBindGro'+'up'](_0x2d6db8);_0x18997b['update'](),_0x2d6db8['setBindGro'+'up'](jy,_0x18997b),_0x5c88dc['getUniform'+'Buffer'](_0x2d6db8)['update'](Ud),_0x2d6db8['setBindGro'+'up'](Ru,Ud['bindGroup'],Ud['offsets']);}}['drawInstan'+'ce'](_0x1e2816,_0x28f129,_0x90bd49,_0x489675,_0x5489ff){const _0x31bab6=_0x28f129['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x31bab6['data']),_0x5489ff&&this['normalMatr'+'ixId']['setValue'](_0x28f129['node']['normalMatr'+'ix']['data']);const _0x190973=_0x28f129['instancing'+'Data'];_0x190973?_0x190973['count']>0x2*-0x2e3+0x23d*0xf+-0x1bcd*0x1?(this['_instanced'+'DrawCalls']++,_0x1e2816['setVertexB'+'uffer'](_0x190973['vertexBuff'+'er']),_0x1e2816['draw'](_0x90bd49['primitive'][_0x489675],_0x190973['count'])):_0x1e2816['clearVerte'+'xBuffer']():_0x1e2816['draw'](_0x90bd49['primitive'][_0x489675]);}['drawInstan'+'ce2'](_0x58d6ba,_0x44eb52,_0x28f437,_0x302c12){const _0x3b8767=_0x44eb52['instancing'+'Data'];_0x3b8767?_0x3b8767['count']>-0x4ce+-0x3*-0x305+-0x441?(this['_instanced'+'DrawCalls']++,_0x58d6ba['draw'](_0x28f437['primitive'][_0x302c12],_0x3b8767['count'],!(-0x5ae*0x4+0x1a1e+-0x366))):_0x58d6ba['clearVerte'+'xBuffer']():_0x58d6ba['draw'](_0x28f437['primitive'][_0x302c12],void(0x1811+-0xb*-0x2b8+-0x35f9),!(0x1*-0x526+0x266a+-0x4*0x851));}['cull'](_0x4ab58c,_0x532203,_0x3c4143){const _0x274737=ae(),_0x31da26=_0x3c4143['opaque'];_0x31da26['length']=-0x1564+0x2429*-0x1+-0x665*-0x9;const _0x9211bb=_0x3c4143['transparen'+'t'];_0x9211bb['length']=-0x88a+-0xb*0xd+-0x89*-0x11;const _0x120b52=_0x4ab58c['frustumCul'+'ling'],_0x4b3327=_0x532203['length'];for(let _0x3a3b22=0xdf9+-0x2042*0x1+0x1249;_0x3a3b22<_0x4b3327;_0x3a3b22++){const _0x1fa44b=_0x532203[_0x3a3b22];_0x1fa44b['visible']&&(!_0x120b52||!_0x1fa44b['cull']||_0x1fa44b['_isVisible'](_0x4ab58c))&&(_0x1fa44b['visibleThi'+'sFrame']=!(-0x1*-0x1c6a+0x11ac+0x2e16*-0x1),(_0x1fa44b['transparen'+'t']?_0x9211bb:_0x31da26)['push'](_0x1fa44b),(_0x1fa44b['skinInstan'+'ce']||_0x1fa44b['morphInsta'+'nce']||_0x1fa44b['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x1fa44b),_0x1fa44b['gsplatInst'+'ance']&&_0x1fa44b['gsplatInst'+'ance']['cameras']['push'](_0x4ab58c)));}this['_cullTime']+=ae()-_0x274737,this['_numDrawCa'+'llsCulled']+=_0x120b52?_0x4b3327:0x446+0x1*-0x1d12+0x18cc;}['collectLig'+'hts'](_0x44ff9a){this['lights']['length']=0x7*0x4a3+-0x29*0xd7+0x1fa*0x1,this['localLight'+'s']['length']=0x2*-0x376+0x7a8+0x2*-0x5e;const _0x2c8380=this['scene']['_stats'];_0x2c8380['dynamicLig'+'hts']=0x4*0xe3+-0x1c17+-0x3d*-0x67,_0x2c8380['bakedLight'+'s']=-0x66e*0x4+0x2335+-0x7*0x15b;const _0x3141f1=_0x44ff9a['layerList']['length'];for(let _0x2f0942=0x17a5+0x2*0x282+0x13f*-0x17;_0x2f0942<_0x3141f1;_0x2f0942++){const _0x4fbc24=_0x44ff9a['layerList'][_0x2f0942];if(!zd['has'](_0x4fbc24)){zd['add'](_0x4fbc24);const _0x24d67c=_0x4fbc24['_lights'];for(let _0x656fed=-0x208d+-0x1642+-0x9*-0x617;_0x656fed<_0x24d67c['length'];_0x656fed++){const _0x3e9aaf=_0x24d67c[_0x656fed];Nd['has'](_0x3e9aaf)||(Nd['add'](_0x3e9aaf),this['lights']['push'](_0x3e9aaf),_0x3e9aaf['_type']!==le&&this['localLight'+'s']['push'](_0x3e9aaf),(_0x3e9aaf['mask']&ms||_0x3e9aaf['mask']&dr)&&_0x2c8380['dynamicLig'+'hts']++,_0x3e9aaf['mask']&ar&&_0x2c8380['bakedLight'+'s']++);}}}_0x2c8380['lights']=this['lights']['length'],Nd['clear'](),zd['clear']();}['cullLights'](_0x12770c,_0x5569e7){const _0xdba198=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x2f8280=this['scene']['physicalUn'+'its'];for(let _0x2da167=-0x1d46*-0x1+0x26f5+-0x443b*0x1;_0x2da167<_0x5569e7['length'];_0x2da167++){const _0x594fb8=_0x5569e7[_0x2da167];if(_0x594fb8['enabled']){if(_0x594fb8['_type']!==le){if(_0x594fb8['getBoundin'+'gSphere'](Bd),_0x12770c['frustum']['containsSp'+'here'](Bd)){_0x594fb8['visibleThi'+'sFrame']=!(0x14f8+-0x1*-0x20f8+-0x35f0),_0x594fb8['usePhysica'+'lUnits']=_0x2f8280;const _0x21c746=_0x12770c['getScreenS'+'ize'](Bd);_0x594fb8['maxScreenS'+'ize']=Math['max'](_0x594fb8['maxScreenS'+'ize'],_0x21c746);}else _0xdba198||_0x594fb8['castShadow'+'s']&&!_0x594fb8['shadowMap']&&(_0x594fb8['visibleThi'+'sFrame']=!(0x17*-0x53+-0x11d1*0x2+0x2b17));}else _0x594fb8['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x3f9738){const _0x7d0a18=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x34c561=0x505+0x1*0x52a+-0x365*0x3;_0x34c561<this['localLight'+'s']['length'];_0x34c561++){const _0x57be2e=this['localLight'+'s'][_0x34c561];_0x57be2e['_type']!==le&&(_0x7d0a18?_0x57be2e['atlasSlotU'+'pdated']&&_0x57be2e['shadowUpda'+'teMode']===ks&&(_0x57be2e['shadowUpda'+'teMode']=un):_0x57be2e['shadowUpda'+'teMode']===ks&&_0x57be2e['castShadow'+'s']&&(_0x57be2e['getRenderD'+'ata'](null,-0x127d*-0x1+0x2*-0x214+-0xe55)['shadowCame'+'ra']['renderTarg'+'et']||(_0x57be2e['shadowUpda'+'teMode']=un)),_0x57be2e['visibleThi'+'sFrame']&&_0x57be2e['castShadow'+'s']&&_0x57be2e['shadowUpda'+'teMode']!==ks&&this['_shadowRen'+'dererLocal']['cull'](_0x57be2e,_0x3f9738));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x4d9fc3=_0x3f9738['cameras'];for(let _0x318a57=0x1e26+-0xbe4+-0x1242;_0x318a57<_0x4d9fc3['length'];_0x318a57++){const _0x232c8f=_0x4d9fc3[_0x318a57];if(_0x232c8f['enabled']){const _0x11856e=_0x232c8f['camera'];let _0x37ea3c;const _0x4cc212=_0x11856e['layers'];for(let _0x4ed9a0=-0x857*-0x2+0x963+-0x1a11;_0x4ed9a0<_0x4cc212['length'];_0x4ed9a0++){const _0x16206c=_0x3f9738['getLayerBy'+'Id'](_0x4cc212[_0x4ed9a0]);if(_0x16206c){const _0x17e2fe=_0x16206c['splitLight'+'s'][le];for(let _0x35c1a3=-0xee5+-0x53*0x5e+0x2d5f;_0x35c1a3<_0x17e2fe['length'];_0x35c1a3++){const _0xf66f2f=_0x17e2fe[_0x35c1a3];_0xf66f2f['castShadow'+'s']&&!In['has'](_0xf66f2f)&&(In['add'](_0xf66f2f),_0x37ea3c=_0x37ea3c??[],_0x37ea3c['push'](_0xf66f2f),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0xf66f2f,_0x3f9738,_0x11856e));}}}_0x37ea3c&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x11856e,_0x37ea3c),In['clear']();}}}['cullCompos'+'ition'](_0x521091){const _0x269090=ae(),{scene:_0x20e061}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xa2ffa5=_0x521091['cameras']['length'];this['_camerasRe'+'ndered']+=_0xa2ffa5;for(let _0x787378=0x12ae+-0x1d1d*0x1+-0x1*-0xa6f;_0x787378<_0xa2ffa5;_0x787378++){const _0x589dd4=_0x521091['cameras'][_0x787378];_0x20e061==null||_0x20e061['fire'](ow,_0x589dd4);const _0x3c4e4d=_0x589dd4['renderTarg'+'et'];_0x589dd4['frameUpdat'+'e'](_0x3c4e4d),this['updateCame'+'raFrustum'](_0x589dd4['camera']);const _0x1b2d34=_0x589dd4['layers'];for(let _0x34246b=-0x2a*-0x3d+0x1f4f*0x1+-0x2951;_0x34246b<_0x1b2d34['length'];_0x34246b++){const _0x2ccf21=_0x521091['getLayerBy'+'Id'](_0x1b2d34[_0x34246b]);if(_0x2ccf21&&_0x2ccf21['enabled']){this['cullLights'](_0x589dd4['camera'],_0x2ccf21['_lights']);const _0x29bc25=_0x2ccf21['getCulledI'+'nstances'](_0x589dd4['camera']);this['cull'](_0x589dd4['camera'],_0x2ccf21['meshInstan'+'ces'],_0x29bc25);}}_0x20e061==null||_0x20e061['fire'](lw,_0x589dd4);}_0x20e061['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x521091),this['_cullTime']+=ae()-_0x269090;}['updateShad'+'ers'](_0x48bbf3,_0x892d1b){const _0x26161d=_0x48bbf3['length'];for(let _0x387381=0x1c7f+-0x180c+0x43*-0x11;_0x387381<_0x26161d;_0x387381++){const _0x309898=_0x48bbf3[_0x387381]['material'];if(_0x309898&&!In['has'](_0x309898)&&(In['add'](_0x309898),_0x309898['getShaderV'+'ariant']!==Sn['prototype']['getShaderV'+'ariant'])){if(_0x892d1b&&(!_0x309898['useLightin'+'g']||_0x309898['emitter']&&!_0x309898['emitter']['lighting']))continue;_0x309898['clearVaria'+'nts']();}}In['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](cM(this['device']));}['beginFrame'](_0x5c8cee){const _0x1ee161=this['scene'],_0x59d1db=_0x1ee161['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x59bfe6=0x1e7e+0x43*0x32+-0x2b94;const _0x82f923=_0x5c8cee['layerList'],_0x1308fd=_0x82f923['length'];for(let _0xade6ba=-0x257a+0x2589+0x5*-0x3;_0xade6ba<_0x1308fd;_0xade6ba++){const _0x2f9c8f=_0x82f923[_0xade6ba]['meshInstan'+'ces'],_0x55de55=_0x2f9c8f['length'];_0x59bfe6+=_0x55de55;for(let _0x3b9a8c=-0x1*-0xb9e+-0x1*0x1a2b+0xe8d*0x1;_0x3b9a8c<_0x55de55;_0x3b9a8c++){const _0x28dc1a=_0x2f9c8f[_0x3b9a8c];_0x28dc1a['visibleThi'+'sFrame']=!(0x6*-0x1b7+-0x2556+0x2fa1),_0x59d1db&&Vd['push'](_0x28dc1a),_0x28dc1a['skinInstan'+'ce']&&Gd['push'](_0x28dc1a);}}if(_0x1ee161['_stats']['meshInstan'+'ces']=_0x59bfe6,_0x59d1db){const _0x52992c=!_0x1ee161['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Vd,_0x52992c),_0x1ee161['updateShad'+'ers']=!(0x1813+0xdfd+-0x260f),this['device']['_shadersDi'+'rty']=!(-0x1a67+-0x179*-0x2+-0xb6*-0x21),_0x1ee161['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Gd),Vd['length']=0x49+0x1d9d+-0x1de6,Gd['length']=0x4*0x84d+0x3*0x53b+-0x30e5*0x1;const _0x5b0eee=this['lights'],_0x4b8fdd=_0x5b0eee['length'];for(let _0x1ce578=0x1092+-0x1dfb+0xd69*0x1;_0x1ce578<_0x4b8fdd;_0x1ce578++)_0x5b0eee[_0x1ce578]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x7b15fb){const _0x11bf2a=ae(),_0x21107a=_0x7b15fb['layerList']['length'],_0x35f869=this['scene']['_shaderVer'+'sion'];for(let _0x3883c1=0x1c61+0x617+-0x44f*0x8;_0x3883c1<_0x21107a;_0x3883c1++){const _0x748f9a=_0x7b15fb['layerList'][_0x3883c1];_0x748f9a['_shaderVer'+'sion']=_0x35f869,_0x748f9a['_skipRende'+'rCounter']=-0x1f*-0x89+0x65*0x5a+0x3419*-0x1,_0x748f9a['_forwardDr'+'awCalls']=-0x1d46+0xe66*-0x2+0x3a12,_0x748f9a['_shadowDra'+'wCalls']=-0x961+0x3a2+0x5bf,_0x748f9a['_renderTim'+'e']=-0x1556+-0x1cbc+0x3212;}_0x7b15fb['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ae()-_0x11bf2a;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x194f+0x24c*0x6+0xb88),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class L0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(0x7*-0x1da+-0xc66+0x195d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x35b*-0x2+-0x1c*0x142+0x29ef),this['clearDepth']=!(-0x36e*-0x4+0x1*-0x17e+-0xc39),this['clearStenc'+'il']=!(-0x356+-0x1ba2+0x1ef9),this['triggerPos'+'tprocess']=!(-0xe5a+-0xba*-0x2f+-0x13cb),this['firstCamer'+'aUse']=!(-0x2447*0x1+0x18ae*0x1+0xb9a),this['lastCamera'+'Use']=!(0x1*-0xfa3+-0x1b50+-0x2*-0x157a),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(0x21*-0x6d+-0x62b+0x1439));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5bbc89=>{_0x5bbc89['defaultUni'+'formBuffer']['destroy'](),_0x5bbc89['destroy']();}),this['viewBindGr'+'oups']['length']=0x1*0x1f44+-0xe17+-0x112d;}['setupClear'+'s'](_0xdc4a8b,_0xced52c){this['clearColor']=(_0xdc4a8b==null?void(0x205d+-0x4bb*-0x1+0x128c*-0x2):_0xdc4a8b['clearColor'+'Buffer'])||_0xced52c['clearColor'+'Buffer'],this['clearDepth']=(_0xdc4a8b==null?void(0x4*-0x3e2+0x1a24+-0xa9c):_0xdc4a8b['clearDepth'+'Buffer'])||_0xced52c['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0xdc4a8b==null?void(0x3f*0x45+0x1ca*-0xc+-0x47d*-0x1):_0xdc4a8b['clearStenc'+'ilBuffer'])||_0xced52c['clearStenc'+'ilBuffer'];}}class FM extends gs{constructor(_0xccc77c,_0x510d3e,_0x277be5,_0x506db0){super(_0xccc77c),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0x1bad*-0x1+-0x14cb+-0x1*-0x3079)),(this['layerCompo'+'sition']=_0x510d3e,this['scene']=_0x277be5,this['renderer']=_0x506db0);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0x1fd8+0x15*0xa1+-0xd*-0x16f;}['addRenderA'+'ction'](_0x3b4125){this['renderActi'+'ons']['push'](_0x3b4125);}['addLayer'](_0x2bc898,_0x524b9b,_0x383148,_0x1bfae7=!(-0x1*0x351+0x12b8+-0x1*0xf67)){b['assert'](_0x2bc898),b['assert'](this['renderTarg'+'et']!==void(0x372+0xb3*0xb+0x1*-0xb23),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),b['assert'](_0x2bc898['camera']['layersSet']['has'](_0x524b9b['id']),'Camera\x20'+_0x2bc898['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x524b9b['name']+'.');const _0xa3e9be=new L0();if(_0xa3e9be['renderTarg'+'et']=this['renderTarg'+'et'],_0xa3e9be['camera']=_0x2bc898,_0xa3e9be['layer']=_0x524b9b,_0xa3e9be['transparen'+'t']=_0x383148,_0x1bfae7){const _0x135d00=this['renderActi'+'ons']['length']===0x2208+0x1698+-0x38a0;_0xa3e9be['setupClear'+'s'](_0x135d00?_0x2bc898:void(-0x4f*-0x48+0x1f67+-0x359f),_0x524b9b);}this['addRenderA'+'ction'](_0xa3e9be);}['addLayers'](_0x100dc0,_0x1c5922,_0x431dae,_0x352efe,_0x3f72b2,_0x4f2fd1=!(0x1*-0x148c+0xa9f+0x9ed)){const {layerList:_0x3c6c70,subLayerList:_0x15f0ca}=_0x100dc0;let _0x531936=_0x352efe,_0x448b10=_0x431dae;for(;_0x448b10<_0x3c6c70['length'];){const _0x1fd0dc=_0x3c6c70[_0x448b10],_0x7f4c57=_0x15f0ca[_0x448b10];if(_0x1c5922['camera']['layersSet']['has'](_0x1fd0dc['id'])&&(this['addLayer'](_0x1c5922,_0x1fd0dc,_0x7f4c57,_0x531936),_0x531936=!(-0x1*0xdb7+-0x10ee*0x1+0x1ea6)),_0x448b10++,_0x1fd0dc['id']===_0x3f72b2&&_0x7f4c57===_0x4f2fd1)break;}return _0x448b10;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x3e9c0d,renderActions:_0x163090}=this;for(let _0x260d8c=0xfc0+-0x17a3+0x7e3;_0x260d8c<_0x163090['length'];_0x260d8c++){const _0x465a7b=_0x163090[_0x260d8c]['camera']['camera'],_0x57c5c7=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x465a7b);if(_0x57c5c7)for(let _0x1ece5c=0x257e+0x493*-0x3+-0x4c1*0x5;_0x1ece5c<_0x57c5c7['length'];_0x1ece5c++){const _0x137d9d=_0x57c5c7[_0x1ece5c];if(_0x3e9c0d['dirLightSh'+'adows']['get'](_0x137d9d)!==_0x465a7b){_0x3e9c0d['dirLightSh'+'adows']['set'](_0x137d9d,_0x465a7b);const _0x350fc7=_0x3e9c0d['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x137d9d,_0x465a7b);_0x350fc7&&this['beforePass'+'es']['push'](_0x350fc7);}}}}['updateClea'+'rs'](){const _0x5a169b=this['renderActi'+'ons'][-0x7b*0x19+0xa04*-0x2+-0x200b*-0x1];if(_0x5a169b){const _0x1acebf=_0x5a169b['camera']['camera'],_0xab4985=_0x1acebf['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0xab4985&&_0x5a169b['clearColor']?_0x1acebf['clearColor']:void(-0x1*-0x2605+-0x2033+-0x5d2)),this['setClearDe'+'pth'](_0xab4985&&_0x5a169b['clearDepth']&&!this['noDepthCle'+'ar']?_0x1acebf['clearDepth']:void(0xc7f+0x149*-0x3+-0x8a4)),this['setClearSt'+'encil'](_0xab4985&&_0x5a169b['clearStenc'+'il']?_0x1acebf['clearStenc'+'il']:void(-0x23b1*-0x1+-0x321+0x10*-0x209));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x4d216b}=this;for(let _0x3a3ac7=-0x2e*-0x61+0x1*0x265e+-0x2*0x1be6;_0x3a3ac7<_0x4d216b['length'];_0x3a3ac7++){const _0x1d61f4=_0x4d216b[_0x3a3ac7];_0x1d61f4['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x1d61f4['camera']);}}['execute'](){const {layerComposition:_0x66f44b,renderActions:_0x5abf98}=this;for(let _0x5f1ccf=0x1*-0x1b98+0x1153+-0xb*-0xef;_0x5f1ccf<_0x5abf98['length'];_0x5f1ccf++){const _0x5eda6d=_0x5abf98[_0x5f1ccf],_0x45c97e=_0x5eda6d['layer'];b['call'](()=>{_0x66f44b['getLayerBy'+'Name'](_0x45c97e['name'])||b['warnOnce']('Layer\x20'+_0x45c97e['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x66f44b['isEnabled'](_0x45c97e,_0x5eda6d['transparen'+'t'])&&this['renderRend'+'erAction'](_0x5eda6d,_0x5f1ccf===0x1b92+0x1159*0x1+-0x2ceb);}}['after'](){for(let _0x4773be=-0x7*-0x1c9+0xe9*-0x1+0x1*-0xb96;_0x4773be<this['renderActi'+'ons']['length'];_0x4773be++){const _0x189dd9=this['renderActi'+'ons'][_0x4773be];_0x189dd9['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x189dd9['camera']);}this['beforePass'+'es']['length']=-0x1418+-0xf7f*0x2+-0x198b*-0x2;}['renderRend'+'erAction'](_0x3530c1,_0x4b8dc0){var _0x14f68c;const {renderer:_0x1789f2,scene:_0x403b45}=this,_0x66748e=_0x1789f2['device'],{layer:_0x2291d2,transparent:_0x35b3c6,camera:_0x4ed64d}=_0x3530c1;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x4ed64d?_0x4ed64d['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x2291d2['name']+'('+(_0x35b3c6?'TRANSP':'OPAQUE')+')');const _0x243ff=ae();if(_0x4ed64d){const _0x87f03f=_0x4ed64d['gammaCorre'+'ction'],_0x1c9f05=_0x4ed64d['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x117b+0x5b2*-0x6+0x10b1)&&(_0x4ed64d['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0xaf*-0x3+-0x1c9e+-0x3*-0x8db)&&(_0x4ed64d['toneMappin'+'g']=this['toneMappin'+'g']),_0x403b45['fire'](nw,_0x4ed64d,_0x2291d2,_0x35b3c6);const _0x3bc928={'lightClusters':_0x3530c1['lightClust'+'ers']},_0x357177=((_0x14f68c=_0x4ed64d['camera']['shaderPass'+'Info'])==null?void(-0x1f29+0x1a74+0x4b5):_0x14f68c['index'])??xn;(!_0x4b8dc0||!_0x4ed64d['camera']['fullSizeCl'+'earRect'])&&(_0x3bc928['clearColor']=_0x3530c1['clearColor'],_0x3bc928['clearDepth']=_0x3530c1['clearDepth'],_0x3bc928['clearStenc'+'il']=_0x3530c1['clearStenc'+'il']);const _0x30f221=_0x3530c1['renderTarg'+'et']??_0x66748e['backBuffer'];_0x1789f2['renderForw'+'ardLayer'](_0x4ed64d['camera'],_0x30f221,_0x2291d2,_0x35b3c6,_0x357177,_0x3530c1['viewBindGr'+'oups'],_0x3bc928),_0x66748e['setBlendSt'+'ate'](bt['NOBLEND']),_0x66748e['setStencil'+'State'](null,null),_0x66748e['setAlphaTo'+'Coverage'](!(0x1066*-0x1+-0xc0*-0x8+0x1*0xa67)),_0x403b45['fire'](aw,_0x4ed64d,_0x2291d2,_0x35b3c6),this['gammaCorre'+'ction']!==void(0x52b*-0x1+0x1537+-0x100c)&&(_0x4ed64d['gammaCorre'+'ction']=_0x87f03f),this['toneMappin'+'g']!==void(0xb9f+0x231+-0xd*0x110)&&(_0x4ed64d['toneMappin'+'g']=_0x1c9f05);}G['popGpuMark'+'er'](this['device']),_0x2291d2['_renderTim'+'e']+=ae()-_0x243ff;}['log'](_0x4466c1,_0x233b4a){if(super['log'](_0x4466c1,_0x233b4a),Qs['get'](ta)){const {layerComposition:_0x138d7b}=this;this['renderActi'+'ons']['forEach']((_0x26ea22,_0x321315)=>{const _0x1a8987=_0x26ea22['layer'],_0x52552a=_0x1a8987['enabled']&&_0x138d7b['isEnabled'](_0x1a8987,_0x26ea22['transparen'+'t']),_0x372cff=_0x26ea22['camera'];b['trace'](ta,'\x20\x20\x20\x20'+_0x321315+':'+('\x20Cam:\x20'+(_0x372cff?_0x372cff['entity']['name']:'-'))['padEnd'](-0x4e2+0xa70+-0x578,'\x20')+('\x20Lay:\x20'+_0x1a8987['name'])['padEnd'](0x1*-0xd42+0xbd*-0x15+-0x5c5*-0x5,'\x20')+(_0x26ea22['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x52552a?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x1a8987['meshInstan'+'ces']['length'])['padEnd'](-0x819*0x4+0x1*0x1575+0x57a*0x2,'\x20'));});}}}class kM extends gs{constructor(_0x3f4363,_0x49f321,_0x23e7e9){super(_0x3f4363),this['renderer']=_0x49f321,this['renderActi'+'on']=_0x23e7e9,this['requiresCu'+'bemaps']=!(0x15cb+-0xb20+-0xaaa);}['execute'](){const _0x112b6f=this['renderActi'+'on'],_0x5a7d3d=_0x112b6f['camera'];b['assert'](_0x112b6f['triggerPos'+'tprocess']&&_0x5a7d3d['onPostproc'+'essing']),_0x5a7d3d['onPostproc'+'essing']();}}const OM=[[],[],[]],Xi=new Y(),wr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=-0x1f31+-0xe64+0x2d95,this['shaderInst'+'ances']['length']=-0x371*0x6+-0x5d5+-0x1*-0x1a7b,this['isNewMater'+'ial']['length']=-0x281+-0x110e+0x1*0x138f,this['lightMaskC'+'hanged']['length']=0x3*-0x5a7+0xdfc+0x2f9;}};function BM(_0x2b1ecb){const _0x1ff076=[];for(let _0xbc5f48=0x2170+0x319*-0xb+0x1*0xa3;_0xbc5f48<_0x2b1ecb;++_0xbc5f48){const _0x2cd12d=Math['sqrt'](_0xbc5f48+(-0x11fb+0x108c+0x1*0x16f+0.5))/Math['sqrt'](_0x2b1ecb);_0x1ff076['push'](_0x2cd12d);}return _0x1ff076;}function NM(_0x10b286){const _0xb0f4d7=[];for(let _0x5d1e5b=0x577*0x4+0xd03+-0x71*0x4f;_0x5d1e5b<_0x10b286;_0x5d1e5b++){const _0x508651=_0x5d1e5b/_0x10b286,_0x4dfa12=Math['sqrt'](_0x508651*_0x508651);_0xb0f4d7['push'](_0x4dfa12);}return _0xb0f4d7;}const vi=class vi extends LM{constructor(_0x5c6264){super(_0x5c6264);const _0x2f58c2=this['device'];this['_forwardDr'+'awCalls']=0xfa9+-0x2098+-0x5a5*-0x3,this['_materialS'+'witches']=-0x1f44+0x1a1+0x1da3,this['_depthMapT'+'ime']=-0x25c+-0x1*-0x1c97+0x53f*-0x5,this['_forwardTi'+'me']=0x148+-0x153*0xf+-0x43*-0x47,this['_sortTime']=0x19*0x11a+0x2*-0x113a+-0x2*-0x375;const _0x2c733f=_0x2f58c2['scope'];this['fogColorId']=_0x2c733f['resolve']('fog_color'),this['fogStartId']=_0x2c733f['resolve']('fog_start'),this['fogEndId']=_0x2c733f['resolve']('fog_end'),this['fogDensity'+'Id']=_0x2c733f['resolve']('fog_densit'+'y'),this['ambientId']=_0x2c733f['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x2c733f['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x2c733f['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x2c733f['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x2c733f['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x2c733f['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0xe2*-0x23+0x13*0xdf+-0x2f6f),this['fogColor']=new Float32Array(-0xc9d+0xc4b+0x55),this['ambientCol'+'or']=new Float32Array(-0x9c*0x3a+0x4*-0x63+0x24e7),this['pcssDiskSa'+'mples']=BM(0x634+-0x49*0x18+-0x4*-0x2d),this['pcssSphere'+'Samples']=NM(0x751*0x3+0x26a1+-0x3c84*0x1);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x196396){const _0xb20e55=this['ambientCol'+'or'];if(Xi['linear'](_0x196396['ambientLig'+'ht']),_0xb20e55[0x1*-0xb1d+0x1cd9+-0x1*0x11bc]=Xi['r'],_0xb20e55[-0x1b1*-0x17+0xfa2+-0x1b44*0x2]=Xi['g'],_0xb20e55[0x25f3+0x74a*0x5+-0x4a63]=Xi['b'],_0x196396['physicalUn'+'its']){for(let _0x205d93=-0x65a*-0x2+0x999+-0x164d;_0x205d93<-0x25e+0x18f1+0xb48*-0x2;_0x205d93++)_0xb20e55[_0x205d93]*=_0x196396['ambientLum'+'inance'];}this['ambientId']['setValue'](_0xb20e55),this['skyboxInte'+'nsityId']['setValue'](_0x196396['physicalUn'+'its']?_0x196396['skyboxLumi'+'nance']:_0x196396['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x196396['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x12dc33,_0xd2aa92){const _0x7b36af='light'+_0xd2aa92;this['lightColor'+'Id'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_color'),this['lightDir'][_0xd2aa92]=new Float32Array(0x1e5c+0x241+0x56f*-0x6),this['lightDirId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_direction'),this['lightShado'+'wMapId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_shadowMap'),this['lightShado'+'wMatrixId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_radius'),this['lightPos'][_0xd2aa92]=new Float32Array(-0x131*-0xf+0x1d18+-0x5*0x964),this['lightPosId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_position'),this['lightWidth'][_0xd2aa92]=new Float32Array(-0x1519*0x1+0x110f+0x40d),this['lightWidth'+'Id'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_halfWidth'),this['lightHeigh'+'t'][_0xd2aa92]=new Float32Array(-0x594+-0x1958+0x1eef*0x1),this['lightHeigh'+'tId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+'_cookie'),this['lightCooki'+'eIntId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0xd2aa92]=_0x12dc33['resolve'](_0x7b36af+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0xe541ef,_0x4e09b5,_0x47792d,_0x432f84,_0x5cd829){this['lightPos'][_0x4e09b5][0x5*0x1d3+0x1*-0x55d+0x1a*-0x25]=_0x432f84['x']-_0x47792d['x']*_0x5cd829,this['lightPos'][_0x4e09b5][0xe*0x2b2+-0x13a*-0x3+-0x2969]=_0x432f84['y']-_0x47792d['y']*_0x5cd829,this['lightPos'][_0x4e09b5][-0x2378+-0x28d*-0xb+0xd3*0x9]=_0x432f84['z']-_0x47792d['z']*_0x5cd829,this['lightPosId'][_0x4e09b5]['setValue'](this['lightPos'][_0x4e09b5]);const _0x546a39=_0xe541ef['transformV'+'ector'](new A(-(0x1d39+0x19fd*-0x1+-0x33c+0.5),0x1f5+-0xd80+-0xb8b*-0x1,-0x16f2+0x19b5*-0x1+0x30a7));this['lightWidth'][_0x4e09b5][0x474+-0x196f+-0x14fb*-0x1]=_0x546a39['x']*_0x5cd829,this['lightWidth'][_0x4e09b5][-0x4e*0x65+-0x327*-0x1+0x1ba0]=_0x546a39['y']*_0x5cd829,this['lightWidth'][_0x4e09b5][-0xc33+0x2*-0x5bf+0x17b3*0x1]=_0x546a39['z']*_0x5cd829,this['lightWidth'+'Id'][_0x4e09b5]['setValue'](this['lightWidth'][_0x4e09b5]);const _0x17e749=_0xe541ef['transformV'+'ector'](new A(0x12e9*-0x1+0xe5d+-0xc*-0x61,-0x702+-0x2000+-0x2702*-0x1,0x1b71+0x23c6+-0x3f37*0x1+0.5));this['lightHeigh'+'t'][_0x4e09b5][-0x19f5+-0x11*0x2+0x1a17*0x1]=_0x17e749['x']*_0x5cd829,this['lightHeigh'+'t'][_0x4e09b5][-0x1*-0xf72+0x8cb+-0x3*0x814]=_0x17e749['y']*_0x5cd829,this['lightHeigh'+'t'][_0x4e09b5][0xed4+0xeb6+-0x1d88]=_0x17e749['z']*_0x5cd829,this['lightHeigh'+'tId'][_0x4e09b5]['setValue'](this['lightHeigh'+'t'][_0x4e09b5]);}['dispatchDi'+'rectLights'](_0x538cd3,_0x35a4c1,_0x155796){let _0x4852f1=-0x7*-0x2f3+-0xcf3+-0x7b2;const _0x43520a=this['device']['scope'];for(let _0x3cd3ed=-0x1800+0x80b+-0x2b*-0x5f;_0x3cd3ed<_0x538cd3['length'];_0x3cd3ed++){if(!(_0x538cd3[_0x3cd3ed]['mask']&_0x35a4c1))continue;const _0x3909c2=_0x538cd3[_0x3cd3ed],_0x42d645=_0x3909c2['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4852f1]||this['_resolveLi'+'ght'](_0x43520a,_0x4852f1),this['lightColor'+'Id'][_0x4852f1]['setValue'](_0x3909c2['_colorLine'+'ar']),_0x42d645['getY'](_0x3909c2['_direction'])['mulScalar'](-(0x11c6+0x39c*0x2+-0x18fd)),_0x3909c2['_direction']['normalize'](),this['lightDir'][_0x4852f1][0x18d7+0x1c40+-0x3517]=_0x3909c2['_direction']['x'],this['lightDir'][_0x4852f1][-0x6fb*-0x1+-0x25bf+-0x1ec5*-0x1]=_0x3909c2['_direction']['y'],this['lightDir'][_0x4852f1][0x3*0x9a+-0x58f*-0x1+-0x75b]=_0x3909c2['_direction']['z'],this['lightDirId'][_0x4852f1]['setValue'](this['lightDir'][_0x4852f1]),_0x3909c2['shape']!==Tt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x42d645,_0x4852f1,_0x3909c2['_direction'],_0x155796['_node']['getPositio'+'n'](),_0x155796['farClip']),_0x3909c2['castShadow'+'s']){const _0x5f119b=_0x3909c2['getRenderD'+'ata'](_0x155796,0x26d8+0x1*0x1227+-0x38ff),_0x13701b=_0x3909c2['_getUnifor'+'mBiasValue'+'s'](_0x5f119b);this['lightShado'+'wMapId'][_0x4852f1]['setValue'](_0x5f119b['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x4852f1]['setValue'](_0x5f119b['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x4852f1]['setValue'](_0x3909c2['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x4852f1]['setValue'](_0x3909c2['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x4852f1]['setValue'](_0x3909c2['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x4852f1]['setValue'](0x2*-0x1295+-0x12e1+0x380c-_0x3909c2['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x4852f1]['setValue'](_0x3909c2['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x4852f1]['setValue'](_0x3909c2['_softShado'+'wParams']),_0x5f119b['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x4852f1]['setValue'](_0x3909c2['penumbraSi'+'ze']/_0x5f119b['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x5f119b['projection'+'Compensati'+'on']);const _0x14dd0e=_0x3909c2['_shadowCam'+'eraParams'];_0x14dd0e['length']=0x430+0xb7e*-0x3+0x1e4e,_0x14dd0e[0xb*-0x28c+0x1*0x2146+-0x542]=0xa*-0xdf+-0xd55*0x1+0x160b,_0x14dd0e[-0x38f+0x6e3*0x1+-0x353]=_0x5f119b['shadowCame'+'ra']['_farClip'],_0x14dd0e[-0x2322+-0x209a+-0x179*-0x2e]=_0x5f119b['shadowCame'+'ra']['_nearClip'],_0x14dd0e[-0x1a*0x164+-0x16*-0x3a+0x1f2f]=0x11c5+-0xad*0x2f+0xdff,this['lightCamer'+'aParamsId'][_0x4852f1]['setValue'](_0x14dd0e);const _0x5ac1f8=_0x3909c2['_shadowRen'+'derParams'];_0x5ac1f8['length']=0x1*0x11f1+-0x1e5e+0xc71,_0x5ac1f8[-0xe35*0x1+0x17ae*-0x1+0x25e3]=_0x3909c2['_shadowRes'+'olution'],_0x5ac1f8[0x1*0x153d+-0x5*-0x498+-0x2c34]=_0x13701b['normalBias'],_0x5ac1f8[-0x23d4+-0xf30+0x3306]=_0x13701b['bias'],_0x5ac1f8[0x268d*-0x1+0x25f5+0x9b]=0x13d6+-0x2b0+0x2*-0x893,this['lightShado'+'wParamsId'][_0x4852f1]['setValue'](_0x5ac1f8);}_0x4852f1++;}return _0x4852f1;}['setLTCPosi'+'tionalLigh'+'t'](_0x3a8df4,_0x3fc4e8){const _0x10e86f=_0x3a8df4['transformV'+'ector'](new A(-(-0x4ef*-0x3+0xc04+0x55d*-0x5+0.5),-0xed*0xf+-0xbe7*0x3+0x3198,0x1ef4+-0x4a*0x3c+0x43*-0x34));this['lightWidth'][_0x3fc4e8][-0x22e+0x8ef*0x3+0x21*-0xbf]=_0x10e86f['x'],this['lightWidth'][_0x3fc4e8][-0x1651+-0x74a*0x1+-0x4*-0x767]=_0x10e86f['y'],this['lightWidth'][_0x3fc4e8][-0x1613*0x1+0x12e+0x14e7]=_0x10e86f['z'],this['lightWidth'+'Id'][_0x3fc4e8]['setValue'](this['lightWidth'][_0x3fc4e8]);const _0x165b17=_0x3a8df4['transformV'+'ector'](new A(0x2294*0x1+0x2c*-0xb1+0x2*-0x214,0x1bc2+-0x21f9+0x637,0x2fb*-0x9+-0x7ae*0x1+0x2281+0.5));this['lightHeigh'+'t'][_0x3fc4e8][0x1*0xb56+0x2703+-0x3259]=_0x165b17['x'],this['lightHeigh'+'t'][_0x3fc4e8][-0x88*-0x3f+0x23ff*-0x1+0x288]=_0x165b17['y'],this['lightHeigh'+'t'][_0x3fc4e8][-0x1de6+-0xbf0+0x29d8]=_0x165b17['z'],this['lightHeigh'+'tId'][_0x3fc4e8]['setValue'](this['lightHeigh'+'t'][_0x3fc4e8]);}['dispatchOm'+'niLight'](_0x4f6e5d,_0x4e0cf9,_0x1f577e){const _0x4fef22=_0x4e0cf9['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x1f577e]||this['_resolveLi'+'ght'](_0x4f6e5d,_0x1f577e),this['lightRadiu'+'sId'][_0x1f577e]['setValue'](_0x4e0cf9['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x1f577e]['setValue'](_0x4e0cf9['_colorLine'+'ar']),_0x4fef22['getTransla'+'tion'](_0x4e0cf9['_position']),this['lightPos'][_0x1f577e][-0xa*0x2c8+-0xf5*0x9+-0x5*-0x749]=_0x4e0cf9['_position']['x'],this['lightPos'][_0x1f577e][0x358+0x88e+-0x5*0x261]=_0x4e0cf9['_position']['y'],this['lightPos'][_0x1f577e][0xef+0x6d*0x12+-0x897*0x1]=_0x4e0cf9['_position']['z'],this['lightPosId'][_0x1f577e]['setValue'](this['lightPos'][_0x1f577e]),_0x4e0cf9['shape']!==Tt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4fef22,_0x1f577e),_0x4e0cf9['castShadow'+'s']){const _0x3c8424=_0x4e0cf9['getRenderD'+'ata'](null,0xc7*-0x3+-0x13cf+0x1624);this['lightShado'+'wMapId'][_0x1f577e]['setValue'](_0x3c8424['shadowBuff'+'er']);const _0x5de9d6=_0x4e0cf9['_getUnifor'+'mBiasValue'+'s'](_0x3c8424),_0x490708=_0x4e0cf9['_shadowRen'+'derParams'];_0x490708['length']=-0x8b8+0x19f4+-0x1138,_0x490708[-0x4*0x167+0x406+0x196]=_0x4e0cf9['_shadowRes'+'olution'],_0x490708[0x1a89*-0x1+-0x42*-0x14+0x1562]=_0x5de9d6['normalBias'],_0x490708[0xaeb*0x1+-0xca*-0x2+-0x17*0x8b]=_0x5de9d6['bias'],_0x490708[0x4ce+-0x15*-0x17+-0x12*0x5f]=(-0x15d*0x9+0x251e+-0x6*0x424)/_0x4e0cf9['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x1f577e]['setValue'](_0x490708),this['lightShado'+'wIntensity'][_0x1f577e]['setValue'](_0x4e0cf9['shadowInte'+'nsity']);const _0x59210e=_0x4e0cf9['penumbraSi'+'ze']/_0x3c8424['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x1f577e]['setValue'](_0x59210e);const _0x47c392=_0x4e0cf9['_shadowCam'+'eraParams'];_0x47c392['length']=-0x1fdf+-0x248f+0x4472,_0x47c392[0x914+0x1d*-0xd+-0x3b*0x21]=0x2028+-0x1*-0x2038+-0x4060,_0x47c392[0x1*0x171f+-0x260+-0x14be]=_0x3c8424['shadowCame'+'ra']['_farClip'],_0x47c392[-0x1ec7*0x1+0xb8*-0x26+0x8b*0x6b]=_0x3c8424['shadowCame'+'ra']['_nearClip'],_0x47c392[-0x1e7+-0x1*0x1b2b+-0x5d1*-0x5]=-0x754+-0x59*-0x2+0x6a2,this['lightCamer'+'aParamsId'][_0x1f577e]['setValue'](_0x47c392);}_0x4e0cf9['_cookie']&&(this['lightCooki'+'eId'][_0x1f577e]['setValue'](_0x4e0cf9['_cookie']),this['lightShado'+'wMatrixId'][_0x1f577e]['setValue'](_0x4fef22['data']),this['lightCooki'+'eIntId'][_0x1f577e]['setValue'](_0x4e0cf9['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x56ff7a,_0x39f542,_0x5442e7){const _0x431e24=_0x39f542['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x5442e7]||this['_resolveLi'+'ght'](_0x56ff7a,_0x5442e7),this['lightInAng'+'leId'][_0x5442e7]['setValue'](_0x39f542['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x5442e7]['setValue'](_0x39f542['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x5442e7]['setValue'](_0x39f542['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x5442e7]['setValue'](_0x39f542['_colorLine'+'ar']),_0x431e24['getTransla'+'tion'](_0x39f542['_position']),this['lightPos'][_0x5442e7][0x48d+-0x86a+0x3dd]=_0x39f542['_position']['x'],this['lightPos'][_0x5442e7][0x25e7+-0x124*0x1c+-0x5f6]=_0x39f542['_position']['y'],this['lightPos'][_0x5442e7][-0xb6f*-0x2+0xa83+-0x215f*0x1]=_0x39f542['_position']['z'],this['lightPosId'][_0x5442e7]['setValue'](this['lightPos'][_0x5442e7]),_0x39f542['shape']!==Tt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x431e24,_0x5442e7),_0x431e24['getY'](_0x39f542['_direction'])['mulScalar'](-(0xf5*-0xa+0x1*0x173+0x820)),_0x39f542['_direction']['normalize'](),this['lightDir'][_0x5442e7][0x28d+-0x1c03*0x1+0x1*0x1976]=_0x39f542['_direction']['x'],this['lightDir'][_0x5442e7][0x2512*-0x1+-0x1470+0x3983]=_0x39f542['_direction']['y'],this['lightDir'][_0x5442e7][0x53*0x3d+-0xc82+-0x743]=_0x39f542['_direction']['z'],this['lightDirId'][_0x5442e7]['setValue'](this['lightDir'][_0x5442e7]),_0x39f542['castShadow'+'s']){const _0x29f47c=_0x39f542['getRenderD'+'ata'](null,-0x9b8+-0x245b+0x2e13);this['lightShado'+'wMapId'][_0x5442e7]['setValue'](_0x29f47c['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x5442e7]['setValue'](_0x29f47c['shadowMatr'+'ix']['data']);const _0x18471a=_0x39f542['_getUnifor'+'mBiasValue'+'s'](_0x29f47c),_0x56cd4a=_0x39f542['_shadowRen'+'derParams'];_0x56cd4a['length']=0x55*-0x2f+0x228a+-0x12eb,_0x56cd4a[-0xf07*-0x1+-0x1479+0x572]=_0x39f542['_shadowRes'+'olution'],_0x56cd4a[0x7*0x167+-0x22fc*0x1+0x192c]=_0x18471a['normalBias'],_0x56cd4a[-0x1*0x93f+-0xeaf+-0x2*-0xbf8]=_0x18471a['bias'],_0x56cd4a[-0x174f+0x55*-0x43+0x2d91]=(-0x2382+-0xcb*-0x21+-0x12b*-0x8)/_0x39f542['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x5442e7]['setValue'](_0x56cd4a),this['lightShado'+'wIntensity'][_0x5442e7]['setValue'](_0x39f542['shadowInte'+'nsity']);const _0x454798=_0x39f542['penumbraSi'+'ze']/_0x29f47c['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x5e19a1=_0x29f47c['shadowCame'+'ra']['_fov']*Math['PI']/(-0x17*-0x1aa+0x1377+-0x1f*0x1d7),_0x5090c1=(0x1719+-0x6d3*-0x3+-0x2b91)/Math['tan'](_0x5e19a1/(-0x1fc0+-0x12e*-0xe+-0xf3e*-0x1));this['lightShado'+'wSearchAre'+'aId'][_0x5442e7]['setValue'](_0x454798*_0x5090c1);const _0x298417=_0x39f542['_shadowCam'+'eraParams'];_0x298417['length']=0x2143+-0x81+-0x20be,_0x298417[-0x1762+0xfcd*0x1+0x795]=-0x6ad*0x4+-0x6*0x623+-0xad*-0x5e,_0x298417[-0x1dc1+-0x1233+0x1*0x2ff5]=_0x29f47c['shadowCame'+'ra']['_farClip'],_0x298417[0x162c+0x47*0x9+-0x18a9]=_0x29f47c['shadowCame'+'ra']['_nearClip'],_0x298417[0x2ca+0x1a91+-0x1d58]=0x3*-0x5b7+-0x2268+0x338d,this['lightCamer'+'aParamsId'][_0x5442e7]['setValue'](_0x298417);}if(_0x39f542['_cookie']){if(!_0x39f542['castShadow'+'s']){const _0x127a29=Ia['evalSpotCo'+'okieMatrix'](_0x39f542);this['lightShado'+'wMatrixId'][_0x5442e7]['setValue'](_0x127a29['data']);}this['lightCooki'+'eId'][_0x5442e7]['setValue'](_0x39f542['_cookie']),this['lightCooki'+'eIntId'][_0x5442e7]['setValue'](_0x39f542['cookieInte'+'nsity']),_0x39f542['_cookieTra'+'nsform']&&(_0x39f542['_cookieTra'+'nsformUnif'+'orm'][-0x78b*0x1+0x23b1+-0x1c26]=_0x39f542['_cookieTra'+'nsform']['x'],_0x39f542['_cookieTra'+'nsformUnif'+'orm'][-0xa5*0x2e+0x551*-0x3+0x2d9a]=_0x39f542['_cookieTra'+'nsform']['y'],_0x39f542['_cookieTra'+'nsformUnif'+'orm'][-0x1032+0x15b5+-0x581*0x1]=_0x39f542['_cookieTra'+'nsform']['z'],_0x39f542['_cookieTra'+'nsformUnif'+'orm'][-0x14a9*0x1+0x6*0x5f6+0x78c*-0x2]=_0x39f542['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x5442e7]['setValue'](_0x39f542['_cookieTra'+'nsformUnif'+'orm']),_0x39f542['_cookieOff'+'setUniform'][-0x13fa*-0x1+-0x46e+-0x14*0xc7]=_0x39f542['_cookieOff'+'set']['x'],_0x39f542['_cookieOff'+'setUniform'][-0x237e+-0x48*-0x46+0x545*0x3]=_0x39f542['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x5442e7]['setValue'](_0x39f542['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0xcfb104,_0x3de186,_0x1847d0){let _0x175fdb=_0x1847d0;const _0x2c7568=this['device']['scope'],_0x35cdbc=_0xcfb104[Le],_0x139e72=_0x35cdbc['length'];for(let _0x54631b=-0x228c+0x1*0x13df+0xead*0x1;_0x54631b<_0x139e72;_0x54631b++){const _0x1ba581=_0x35cdbc[_0x54631b];_0x1ba581['mask']&_0x3de186&&(this['dispatchOm'+'niLight'](_0x2c7568,_0x1ba581,_0x175fdb),_0x175fdb++);}const _0x3f3a87=_0xcfb104[Fe],_0xbfd274=_0x3f3a87['length'];for(let _0x23ff70=0x4c+0x12c9+0x5*-0x3d1;_0x23ff70<_0xbfd274;_0x23ff70++){const _0x5c36b9=_0x3f3a87[_0x23ff70];_0x5c36b9['mask']&_0x3de186&&(this['dispatchSp'+'otLight'](_0x2c7568,_0x5c36b9,_0x175fdb),_0x175fdb++);}}['renderForw'+'ardPrepare'+'Materials'](_0x524a6f,_0x4a5910,_0x3dc32a,_0x29a25b,_0x5b06c9,_0x57ffcd){const _0x3f7c39=_0x524a6f['fog']??this['scene']['fog'],_0x34fcd6=_0x524a6f['shaderPara'+'ms'];_0x34fcd6['fog']=_0x3f7c39['type'],_0x34fcd6['srgbRender'+'Target']=(_0x4a5910==null?void(0x858+0xb40*-0x2+0xe28):_0x4a5910['isColorBuf'+'ferSrgb'](-0x2d*0xae+-0x215c+0x3ff2))??!(-0x1f55+0x711+0x1845);const _0x3a22fd=(_0x25c50f,_0x2cdb18,_0x5b3b8d,_0x598224)=>{wr['drawCalls']['push'](_0x25c50f),wr['shaderInst'+'ances']['push'](_0x2cdb18),wr['isNewMater'+'ial']['push'](_0x5b3b8d),wr['lightMaskC'+'hanged']['push'](_0x598224);};wr['clear']();const _0x262fee=this['device'],_0x5eec1d=this['scene'],_0x49f58c=_0x5eec1d['clusteredL'+'ightingEna'+'bled'],_0x4e109c=(_0x5b06c9==null?void(0x63f+0x25a1+-0x2be0):_0x5b06c9['getLightHa'+'sh'](_0x49f58c))??-0xb*-0x309+0x1*0x543+0x6*-0x671;let _0x498016=null,_0x2c9849,_0x248d76;const _0x398414=_0x3dc32a['length'];for(let _0x2f8de0=-0x871*-0x1+-0x47+-0x37*0x26;_0x2f8de0<_0x398414;_0x2f8de0++){const _0x3570f8=_0x3dc32a[_0x2f8de0];if(_0x524a6f===vi['skipRender'+'Camera']){if(vi['_skipRende'+'rCounter']>=vi['skipRender'+'After'])continue;vi['_skipRende'+'rCounter']++;}if(_0x5b06c9){if(_0x5b06c9['_skipRende'+'rCounter']>=_0x5b06c9['skipRender'+'After'])continue;_0x5b06c9['_skipRende'+'rCounter']++;}_0x3570f8['ensureMate'+'rial'](_0x262fee);const _0x11f4b6=_0x3570f8['material'],_0x51e9f0=_0x3570f8['_shaderDef'+'s'],_0x451363=_0x3570f8['mask'];_0x11f4b6&&_0x11f4b6===_0x498016&&_0x51e9f0!==_0x2c9849&&(_0x498016=null),_0x11f4b6!==_0x498016&&(this['_materialS'+'witches']++,_0x11f4b6['_scene']=_0x5eec1d,_0x11f4b6['dirty']&&(G['pushGpuMar'+'ker'](_0x262fee,'Node:\x20'+_0x3570f8['node']['name']+(',\x20Material'+':\x20')+_0x11f4b6['name']),_0x11f4b6['updateUnif'+'orms'](_0x262fee,_0x5eec1d),_0x11f4b6['dirty']=!(-0x2632+-0x230c+0x493f),G['popGpuMark'+'er'](_0x262fee)));const _0x410749=_0x3570f8['getShaderI'+'nstance'](_0x57ffcd,_0x4e109c,_0x5eec1d,_0x34fcd6,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x29a25b);_0x3a22fd(_0x3570f8,_0x410749,_0x11f4b6!==_0x498016,!_0x498016||_0x451363!==_0x248d76),_0x498016=_0x11f4b6,_0x2c9849=_0x51e9f0,_0x248d76=_0x451363;}return wr;}['renderForw'+'ardInterna'+'l'](_0x3c08b2,_0x1ac5b9,_0x2544e7,_0x456bc1,_0x1e250c,_0x439887){const _0x39ae8e=this['device'],_0x3a2dca=this['scene'],_0x96de3e=-0xa*0x32f+0x1243+0x16*0x9e<<_0x456bc1,_0x9cdb47=_0x439887?-(-0x4d9*-0x1+0x65*0x1+-0x53d*0x1):-0xea6+-0x1271+0x2118*0x1,_0x1a12d8=_0x3a2dca['clusteredL'+'ightingEna'+'bled'],_0x37ba4c=_0x1ac5b9['drawCalls']['length'];for(let _0x5798ae=-0x7b9*0x1+-0xc75+0x142e;_0x5798ae<_0x37ba4c;_0x5798ae++){const _0x106fd6=_0x1ac5b9['drawCalls'][_0x5798ae],_0x4aa178=_0x1ac5b9['isNewMater'+'ial'][_0x5798ae],_0x19bac1=_0x1ac5b9['lightMaskC'+'hanged'][_0x5798ae],_0x16e7cf=_0x1ac5b9['shaderInst'+'ances'][_0x5798ae],_0x57f230=_0x106fd6['material'],_0x1bef67=_0x106fd6['mask'];if(_0x4aa178){if(_0x39ae8e['setShader'](_0x16e7cf['shader'],!(0x1c2a+-0x1*0x5aa+-0x167f)),_0x57f230['setParamet'+'ers'](_0x39ae8e),_0x19bac1){const _0x3b33e4=this['dispatchDi'+'rectLights'](_0x2544e7[le],_0x1bef67,_0x3c08b2);_0x1a12d8||this['dispatchLo'+'calLights'](_0x2544e7,_0x1bef67,_0x3b33e4);}this['alphaTestI'+'d']['setValue'](_0x57f230['alphaTest']),_0x39ae8e['setBlendSt'+'ate'](_0x57f230['blendState']),_0x39ae8e['setDepthSt'+'ate'](_0x57f230['depthState']),_0x39ae8e['setAlphaTo'+'Coverage'](_0x57f230['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x39ae8e,'Node:\x20'+_0x106fd6['node']['name']+(',\x20Material'+':\x20')+_0x57f230['name']),this['setupCullM'+'ode'](_0x3c08b2['_cullFaces'],_0x9cdb47,_0x106fd6);const _0x43354a=_0x106fd6['stencilFro'+'nt']??_0x57f230['stencilFro'+'nt'],_0x285bda=_0x106fd6['stencilBac'+'k']??_0x57f230['stencilBac'+'k'];_0x39ae8e['setStencil'+'State'](_0x43354a,_0x285bda),_0x106fd6['setParamet'+'ers'](_0x39ae8e,_0x96de3e),_0x39ae8e['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x106fd6['id']);const _0x216bcb=_0x106fd6['mesh'];this['setVertexB'+'uffers'](_0x39ae8e,_0x216bcb),this['setMorphin'+'g'](_0x39ae8e,_0x106fd6['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x39ae8e,_0x106fd6),this['setupMeshU'+'niformBuff'+'ers'](_0x16e7cf,_0x106fd6);const _0x5a1259=_0x106fd6['renderStyl'+'e'];if(_0x39ae8e['setIndexBu'+'ffer'](_0x216bcb['indexBuffe'+'r'][_0x5a1259]),_0x1e250c==null||_0x1e250c(_0x106fd6,_0x5798ae),_0x3c08b2['xr']&&_0x3c08b2['xr']['session']&&_0x3c08b2['xr']['views']['list']['length']){const _0x195855=_0x3c08b2['xr']['views'];for(let _0x51fc3a=0x1090+-0x1b3a+0xaaa*0x1;_0x51fc3a<_0x195855['list']['length'];_0x51fc3a++){const _0x1ab762=_0x195855['list'][_0x51fc3a];_0x39ae8e['setViewpor'+'t'](_0x1ab762['viewport']['x'],_0x1ab762['viewport']['y'],_0x1ab762['viewport']['z'],_0x1ab762['viewport']['w']),this['projId']['setValue'](_0x1ab762['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x1ab762['projMat']['data']),this['viewId']['setValue'](_0x1ab762['viewOffMat']['data']),this['viewInvId']['setValue'](_0x1ab762['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x1ab762['viewMat3']['data']),this['viewProjId']['setValue'](_0x1ab762['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x1ab762['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x51fc3a),_0x51fc3a===-0x7*0x45d+-0x1db0+0x3c3b*0x1?this['drawInstan'+'ce'](_0x39ae8e,_0x106fd6,_0x216bcb,_0x5a1259,!(0x95b+-0x1d4f+-0x1*-0x13f4)):this['drawInstan'+'ce2'](_0x39ae8e,_0x106fd6,_0x216bcb,_0x5a1259),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x39ae8e,_0x106fd6,_0x216bcb,_0x5a1259,!(-0xb6+0x2d5*0x5+-0x139*0xb)),this['_forwardDr'+'awCalls']++;_0x5798ae<_0x37ba4c-(0x3*0xa0d+0x33*0x90+-0x1d6b*0x2)&&!_0x1ac5b9['isNewMater'+'ial'][_0x5798ae+(0xb64+-0x487+-0x6dc)]&&_0x57f230['setParamet'+'ers'](_0x39ae8e,_0x106fd6['parameters']),G['popGpuMark'+'er'](_0x39ae8e);}}['renderForw'+'ard'](_0x5905c5,_0x24f50b,_0x1b37c6,_0xd29ef,_0x31a800,_0x8e3fc6,_0xba90f0,_0x91f2d4){const _0x2f3490=ae(),_0x549845=this['renderForw'+'ardPrepare'+'Materials'](_0x5905c5,_0x24f50b,_0x1b37c6,_0xd29ef,_0xba90f0,_0x31a800);this['renderForw'+'ardInterna'+'l'](_0x5905c5,_0x549845,_0xd29ef,_0x31a800,_0x8e3fc6,_0x91f2d4),wr['clear'](),this['_forwardTi'+'me']+=ae()-_0x2f3490;}['renderForw'+'ardLayer'](_0x57ed7e,_0x2c4f23,_0x3d574c,_0x17100d,_0x347742,_0x69660c,_0x4ac820={}){const {scene:_0x5062c6,device:_0x59fa4c}=this,_0x40fe70=_0x5062c6['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x57ed7e,_0x2c4f23);let _0x1b2ace,_0x37b5fe;if(_0x3d574c){const _0x516744=ae();_0x3d574c['sortVisibl'+'e'](_0x57ed7e,_0x17100d),this['_sortTime']+=ae()-_0x516744;const _0x44860d=_0x3d574c['getCulledI'+'nstances'](_0x57ed7e);_0x1b2ace=_0x17100d?_0x44860d['transparen'+'t']:_0x44860d['opaque'],_0x5062c6['immediate']['onPreRende'+'rLayer'](_0x3d574c,_0x1b2ace,_0x17100d),_0x3d574c['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x5062c6['ambientLig'+'ht'],_0x3d574c['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x37b5fe=_0x3d574c['splitLight'+'s'];}else _0x1b2ace=_0x4ac820['meshInstan'+'ces'],_0x37b5fe=_0x4ac820['splitLight'+'s']??OM;if(b['assert'](_0x1b2ace,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x40fe70){const _0x38ad7c=_0x4ac820['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x38ad7c['activate'](),_0x3d574c&&!this['clustersDe'+'bugRendere'+'d']&&_0x5062c6['lighting']['debugLayer']===_0x3d574c['id']&&(this['clustersDe'+'bugRendere'+'d']=!(0x366+0x34d+-0x6b3),$u['render'](_0x38ad7c,this['scene']));}_0x5062c6['_activeCam'+'era']=_0x57ed7e;const _0x91f854=_0x57ed7e['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x91f854);const _0x465394=this['setCameraU'+'niforms'](_0x57ed7e,_0x2c4f23);_0x59fa4c['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x69660c,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x465394);const _0x59d506=_0x4ac820['clearColor']??!(-0x13*0x14b+0x3de+0xd4*0x19),_0x23a76b=_0x4ac820['clearDepth']??!(0x2f1+-0x1*-0x1203+-0x14f3),_0x483b84=_0x4ac820['clearStenc'+'il']??!(-0x1*-0xdcd+0x7*-0x24b+-0x241*-0x1);(_0x59d506||_0x23a76b||_0x483b84)&&this['clear'](_0x57ed7e,_0x59d506,_0x23a76b,_0x483b84);const _0x24e378=!!(_0x57ed7e['_flipFaces']^(_0x2c4f23==null?void(0x18cd+0x1*0x16dd+0x2faa*-0x1):_0x2c4f23['flipY'])),_0x1fd8c7=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x57ed7e,_0x2c4f23,_0x1b2ace,_0x37b5fe,_0x347742,null,_0x3d574c,_0x24e378),_0x3d574c&&(_0x3d574c['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x1fd8c7);}['setFogCons'+'tants'](_0x1a4d8d){if(_0x1a4d8d['type']!==Ba){Xi['linear'](_0x1a4d8d['color']);const _0x248d18=this['fogColor'];_0x248d18[-0x20d8+0xf16+0x11c2*0x1]=Xi['r'],_0x248d18[0x25a9+0x25*0x17+-0x28fb]=Xi['g'],_0x248d18[0x1*-0x9a3+0xeca+-0x3*0x1b7]=Xi['b'],this['fogColorId']['setValue'](_0x248d18),_0x1a4d8d['type']===zb?(this['fogStartId']['setValue'](_0x1a4d8d['start']),this['fogEndId']['setValue'](_0x1a4d8d['end'])):this['fogDensity'+'Id']['setValue'](_0x1a4d8d['density']);}}['setSceneCo'+'nstants'](){const _0x4e590b=this['scene'];this['dispatchGl'+'obalLights'](_0x4e590b);const _0xcf5146=this['device'];this['_screenSiz'+'e'][0x4b*0x77+-0x1964*-0x1+-0x5*0xc0d]=_0xcf5146['width'],this['_screenSiz'+'e'][-0x1e6b*-0x1+0x1b68+-0x39d2]=_0xcf5146['height'],this['_screenSiz'+'e'][0xa25+-0x1d*0x60+0x1b*0x7]=(0x35d+-0x17a5+0x1449)/_0xcf5146['width'],this['_screenSiz'+'e'][0x2377+0x58f+-0x2903]=(0x3ea*0x3+0x1f6e*0x1+-0x2b2b)/_0xcf5146['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x6e1232,_0x2850e7){const _0x4b6b57=this['scene'];if(_0x6e1232['reset'](),_0x4b6b57['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x4aa229,cookiesEnabled:_0x34a2f1}=_0x4b6b57['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x6e1232,_0x4aa229,_0x34a2f1,this['lights'],this['localLight'+'s']),_0x6e1232['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x6e1232,this['localLight'+'s']);let _0x4da98d=-0x1*-0x1567+0x4c*0x37+0x25bb*-0x1,_0x7e4d83=!(0x1*-0x1f39+0x220f+0x79*-0x6),_0xe25845=null;const _0x9cf6ab=_0x2850e7['_renderAct'+'ions'];for(let _0xb2b017=_0x4da98d;_0xb2b017<_0x9cf6ab['length'];_0xb2b017++){const _0x2b72b7=_0x9cf6ab[_0xb2b017],{layer:_0x3d3404,camera:_0x296f9b}=_0x2b72b7;if(_0x2b72b7['useCameraP'+'asses'])b['call'](()=>{_0x296f9b['postEffect'+'s']['effects']['length']>0xf*-0xb9+-0xce2+-0x17b9*-0x1&&b['warnOnce']('Camera\x20\x27'+_0x296f9b['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x296f9b['camera']['renderPass'+'es']['forEach'](_0x31d7b3=>{_0x6e1232['addRenderP'+'ass'](_0x31d7b3);});else{const _0x373602=_0x3d3404['id']===es,_0x3a861e=_0x373602&&(_0x296f9b['renderScen'+'eColorMap']||_0x296f9b['renderScen'+'eDepthMap']);_0x7e4d83&&(_0x7e4d83=!(-0x18d4+-0x2d*-0x3d+0x70e*0x2),_0x4da98d=_0xb2b017,_0xe25845=_0x2b72b7['renderTarg'+'et']);const _0x13ea6f=_0x9cf6ab[_0xb2b017+(-0x93*0x38+-0x1f8e*-0x1+0x9b)],_0x5d3ffc=(_0x13ea6f?!_0x13ea6f['useCameraP'+'asses']&&_0x13ea6f['layer']['id']===es:!(-0x11cd*-0x2+0x4*0x823+-0x4425*0x1))&&(_0x296f9b['renderScen'+'eColorMap']||_0x296f9b['renderScen'+'eDepthMap']),_0x2200e6=_0x13ea6f?_0x13ea6f['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x13ea6f['camera']['camera']):!(0x1bcc+-0xbb*0x5+-0x1824);if(!_0x13ea6f||_0x13ea6f['renderTarg'+'et']!==_0xe25845||_0x2200e6||_0x5d3ffc||_0x3a861e){if(_0x373602&&_0x4da98d===_0xb2b017||this['addMainRen'+'derPass'](_0x6e1232,_0x2850e7,_0xe25845,_0x4da98d,_0xb2b017),_0x373602){if(_0x296f9b['renderScen'+'eColorMap']){const _0xe73902=_0x296f9b['camera']['renderPass'+'ColorGrab'];_0xe73902['source']=_0x296f9b['renderTarg'+'et'],_0x6e1232['addRenderP'+'ass'](_0xe73902);}_0x296f9b['renderScen'+'eDepthMap']&&_0x6e1232['addRenderP'+'ass'](_0x296f9b['camera']['renderPass'+'DepthGrab']);}if(_0x2b72b7['triggerPos'+'tprocess']&&(_0x296f9b!=null&&_0x296f9b['onPostproc'+'essing'])){const _0x3e9b1e=new kM(this['device'],this,_0x2b72b7);_0x6e1232['addRenderP'+'ass'](_0x3e9b1e);}_0x7e4d83=!(-0x3*-0xc8d+-0x2670+0xc9);}}}}['addMainRen'+'derPass'](_0x184074,_0xb5c101,_0x264d36,_0x582d33,_0x312ef4){const _0x5e7228=new FM(this['device'],_0xb5c101,this['scene'],this);_0x5e7228['init'](_0x264d36);const _0x128c2d=_0xb5c101['_renderAct'+'ions'];for(let _0xda716f=_0x582d33;_0xda716f<=_0x312ef4;_0xda716f++)_0x5e7228['addRenderA'+'ction'](_0x128c2d[_0xda716f]);_0x184074['addRenderP'+'ass'](_0x5e7228);}['update'](_0x541cc3){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x541cc3),this['collectLig'+'hts'](_0x541cc3),this['beginFrame'](_0x541cc3),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x541cc3),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(vi,'skipRender'+'Camera',null),c(vi,'_skipRende'+'rCounter',0x18cc+-0x5*0x507+0x3*0x1d),c(vi,'skipRender'+'After',0xb*-0x2a5+0xfda+0x1*0xd3d);let Xh=vi,Hd=-0x16d6+-0x13*-0x145+-0x149;const Qa=[],Ul=new Set();function zM(_0x3f7207,_0x74a9d1){return _0x3f7207['drawOrder']-_0x74a9d1['drawOrder'];}function UM(_0x20c234,_0x1c8fdc){const _0x2320b5=_0x20c234['_key'][Ii],_0x59301e=_0x1c8fdc['_key'][Ii];return _0x2320b5===_0x59301e&&_0x20c234['mesh']&&_0x1c8fdc['mesh']?_0x1c8fdc['mesh']['id']-_0x20c234['mesh']['id']:_0x59301e-_0x2320b5;}function VM(_0xc09bba,_0x100e91){return _0x100e91['zdist']-_0xc09bba['zdist'];}function GM(_0x5245ff,_0x131b1f){return _0x5245ff['zdist']-_0x131b1f['zdist'];}const HM=[null,zM,UM,VM,GM];class WM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Fr{constructor(_0x9ee924={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(-0x2+-0x2*-0xe5a+0x1*-0x1cb2)),c(this,'requiresLi'+'ghtCube',!(-0x83b+0x2*0x7f+0x73e)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x32a+-0x920+0xc4b)),(_0x9ee924['id']!==void(-0x90e*-0x3+0x22a4+-0x3dce)?(this['id']=_0x9ee924['id'],Hd=Math['max'](this['id']+(-0xeda+-0x8*0x120+0x17db),Hd)):this['id']=Hd++,this['name']=_0x9ee924['name'],this['_enabled']=_0x9ee924['enabled']??!(0x1bf7*0x1+0x1ebe+-0x85*0x71),this['_refCounte'+'r']=this['_enabled']?-0x3*-0x878+-0x598+0x13cf*-0x1:0x1*-0x9a3+-0x8*-0x205+0x685*-0x1,this['opaqueSort'+'Mode']=_0x9ee924['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x9ee924['transparen'+'tSortMode']??Nm,_0x9ee924['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x9ee924['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x9ee924['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x9ee924['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x9ee924['clearStenc'+'ilBuffer'],this['onEnable']=_0x9ee924['onEnable'],this['onDisable']=_0x9ee924['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x22*0x4b+0x1573+0x11*-0xad,this['_lightHash'+'Dirty']=!(0x241f*0x1+-0x164d+0x49b*-0x3),this['_lightIdHa'+'sh']=0x20d4+0x2468+-0x453c,this['_lightIdHa'+'shDirty']=!(0xf08+-0x824+0x6e3*-0x1),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=0x104c+-0x18f5+-0x2e3*-0x3,this['_renderTim'+'e']=-0x17cf+-0xba*0x19+0x5ff*0x7,this['_forwardDr'+'awCalls']=0x5*-0x109+-0x2233+0x2760,this['_shadowDra'+'wCalls']=-0x2*-0x59e+0x4*0x505+-0x1f50,this['_shaderVer'+'sion']=-(-0x1*0x2265+-0x2669+0x48cf));}set['enabled'](_0x374afc){_0x374afc!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x1a63+0xd87+-0x27ea),this['_enabled']=_0x374afc,_0x374afc?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x586165){this['_clearColo'+'rBuffer']=_0x586165,this['_dirtyComp'+'osition']=!(0x46*-0x6f+0x1a69*0x1+-0x1*-0x3f1);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x267c23){this['_clearDept'+'hBuffer']=_0x267c23,this['_dirtyComp'+'osition']=!(-0xa25+0x61b+0x40a);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x487055){this['_clearSten'+'cilBuffer']=_0x487055,this['_dirtyComp'+'osition']=!(-0x3*-0xb07+-0x81b+0x116*-0x17);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x1*0x12cf+0x125*-0x1c+0x32db;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0xb96+0x1*0x1a8e+-0x2624&&(this['_enabled']=!(0x11*-0x9b+0x1*0x301+0x1*0x74a),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x3*0x7c5+0x1*0x2b5+-0x1a03)this['_enabled']=!(0x270a+-0x2*-0xc95+0x4033*-0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x1bc1+-0x4*0x4ee+0x3*0xfd3){b['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x2433d2,_0x4499b4){const _0x260127=this['meshInstan'+'ces'],_0x53d334=this['meshInstan'+'cesSet'];for(let _0x143bc7=-0x1ee8+-0x502+0x23ea;_0x143bc7<_0x2433d2['length'];_0x143bc7++){const _0x137b9b=_0x2433d2[_0x143bc7];_0x53d334['has'](_0x137b9b)||(_0x260127['push'](_0x137b9b),_0x53d334['add'](_0x137b9b),Ul['add'](_0x137b9b['material']));}if(_0x4499b4||this['addShadowC'+'asters'](_0x2433d2),Ul['size']>-0xed2+-0x13b2+0x2284*0x1){const _0x52c52e=this['_shaderVer'+'sion'];Ul['forEach'](_0xba70f9=>{_0x52c52e>=-0xe8a+0x1*0x1c7f+-0xdf5&&_0xba70f9['_shaderVer'+'sion']!==_0x52c52e&&(_0xba70f9['getShaderV'+'ariant']!==Sn['prototype']['getShaderV'+'ariant']&&_0xba70f9['clearVaria'+'nts'](),_0xba70f9['_shaderVer'+'sion']=_0x52c52e);}),Ul['clear']();}}['removeMesh'+'Instances'](_0x26c0ca,_0x53ce07){const _0x2352a2=this['meshInstan'+'ces'],_0x2ef6bc=this['meshInstan'+'cesSet'];for(let _0x592e8b=-0xc10+0x144*-0x14+0x2560;_0x592e8b<_0x26c0ca['length'];_0x592e8b++){const _0x3874fb=_0x26c0ca[_0x592e8b];if(_0x2ef6bc['has'](_0x3874fb)){_0x2ef6bc['delete'](_0x3874fb);const _0x298d71=_0x2352a2['indexOf'](_0x3874fb);_0x298d71>=-0xe13+0x2f*0x35+0x458&&_0x2352a2['splice'](_0x298d71,-0x4f*0x23+0x14e3*0x1+0x59*-0x1d);}}_0x53ce07||this['removeShad'+'owCasters'](_0x26c0ca);}['addShadowC'+'asters'](_0x2db2a3){const _0x1ca339=this['shadowCast'+'ers'],_0x3f35cb=this['shadowCast'+'ersSet'];for(let _0x3b882a=-0x1*0x88f+-0x2*-0x89b+-0x8a7;_0x3b882a<_0x2db2a3['length'];_0x3b882a++){const _0x248ab7=_0x2db2a3[_0x3b882a];_0x248ab7['castShadow']&&!_0x3f35cb['has'](_0x248ab7)&&(_0x3f35cb['add'](_0x248ab7),_0x1ca339['push'](_0x248ab7));}}['removeShad'+'owCasters'](_0x1e9c6f){const _0x4aba65=this['shadowCast'+'ers'],_0x230f39=this['shadowCast'+'ersSet'];for(let _0x13f9a7=0x2b*-0x8+0x9*0x293+-0x1*0x15d3;_0x13f9a7<_0x1e9c6f['length'];_0x13f9a7++){const _0x1c9778=_0x1e9c6f[_0x13f9a7];if(_0x230f39['has'](_0x1c9778)){_0x230f39['delete'](_0x1c9778);const _0x2616d9=_0x4aba65['indexOf'](_0x1c9778);_0x2616d9>=-0x19*0x121+-0x1f6b+0x56c*0xb&&_0x4aba65['splice'](_0x2616d9,-0x1b3b*0x1+0x2573*0x1+-0xa37);}}}['clearMeshI'+'nstances'](_0x1325d5=!(-0x23de+-0x5a2+-0x7d*-0x55)){this['meshInstan'+'ces']['length']=0x270f+-0x22eb+0xa*-0x6a,this['meshInstan'+'cesSet']['clear'](),_0x1325d5||(this['shadowCast'+'ers']['length']=0x3*-0x1de+-0x91b*0x1+0x1*0xeb5,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0xd*-0x2e0+-0x2573+0x13),this['_lightIdHa'+'shDirty']=!(-0x797+0x1*-0xa69+-0x180*-0xc),this['_splitLigh'+'tsDirty']=!(-0x2*-0xb82+0x10c8*-0x2+0x14*0x87);}['hasLight'](_0x4feff4){return this['_lightsSet']['has'](_0x4feff4);}['addLight'](_0x16a123){const _0x3d6047=_0x16a123['light'];this['_lightsSet']['has'](_0x3d6047)||(this['_lightsSet']['add'](_0x3d6047),this['_lights']['push'](_0x3d6047),this['markLights'+'Dirty']()),_0x3d6047['type']!==le&&this['_clustered'+'LightsSet']['add'](_0x3d6047);}['removeLigh'+'t'](_0x213e2b){const _0x44c352=_0x213e2b['light'];this['_lightsSet']['has'](_0x44c352)&&(this['_lightsSet']['delete'](_0x44c352),this['_lights']['splice'](this['_lights']['indexOf'](_0x44c352),0x6c1+0x861+0x3*-0x50b),this['markLights'+'Dirty']()),_0x44c352['type']!==le&&this['_clustered'+'LightsSet']['delete'](_0x44c352);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x325c73=>_0x325c73['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x242a+0x15*0x6f+-0xf17*0x3,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0x1aae+0x2452+0x9a3*-0x1);const _0x50155a=this['_splitLigh'+'ts'];for(let _0x8d4f23=-0x1003*-0x1+-0x14f*0x11+0x63c;_0x8d4f23<_0x50155a['length'];_0x8d4f23++)_0x50155a[_0x8d4f23]['length']=0x1f2b+0x571*0x6+-0x3fd1;const _0xf28362=this['_lights'];for(let _0x2fa30b=-0x2d3+0x1f1b+-0x8*0x389;_0x2fa30b<_0xf28362['length'];_0x2fa30b++){const _0xa84c17=_0xf28362[_0x2fa30b];_0xa84c17['enabled']&&_0x50155a[_0xa84c17['_type']]['push'](_0xa84c17);}for(let _0x21fbfa=-0x169e+-0x1a29+-0x30c7*-0x1;_0x21fbfa<_0x50155a['length'];_0x21fbfa++)_0x50155a[_0x21fbfa]['sort']((_0xf1c1df,_0x2033d7)=>_0xf1c1df['key']-_0x2033d7['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x31f3c2,_0x57212f,_0x172a49){let _0x247156=0xa75*-0x2+-0xb02+0x2a9*0xc;const _0x354fe9=this['_lights'];for(let _0x32b8c4=-0x528*-0x1+-0x1937+0x140f;_0x32b8c4<_0x354fe9['length'];_0x32b8c4++){const _0x480a0b=_0x354fe9[_0x32b8c4]['type']!==le;(_0x31f3c2&&_0x480a0b||_0x57212f&&!_0x480a0b)&&Qa['push'](_0x172a49?_0x354fe9[_0x32b8c4]['id']:_0x354fe9[_0x32b8c4]['key']);}return Qa['length']>-0x1c69+-0x1ff8+-0x1*-0x3c61&&(Qa['sort'](),_0x247156=Qy(Qa),Qa['length']=-0x24eb*0x1+-0xe*0x109+0x29*0x141),_0x247156;}['getLightHa'+'sh'](_0x4476cf){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x2256+-0xc9a*0x2+-0x1*-0x3b8b),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x4476cf,!(0x1*0x12cf+0x877+-0x1b46),!(0x192+0x2260*-0x1+-0x20cf*-0x1))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(0x125b+-0x8*-0x1a3+-0x7*0x47e),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x773+0x2380+-0x2af3),!(-0x503*0x3+0x1d6a+0x1cc*-0x8),!(0x10e7+0x1459*0x1+-0x950*0x4))),this['_lightIdHa'+'sh'];}['addCamera'](_0x2e6cd8){this['camerasSet']['has'](_0x2e6cd8['camera'])||(this['camerasSet']['add'](_0x2e6cd8['camera']),this['cameras']['push'](_0x2e6cd8),this['_dirtyComp'+'osition']=!(-0x1*0x24a6+-0x1dc2*-0x1+0x6e4));}['removeCame'+'ra'](_0x10d094){if(this['camerasSet']['has'](_0x10d094['camera'])){this['camerasSet']['delete'](_0x10d094['camera']);const _0x48962=this['cameras']['indexOf'](_0x10d094);this['cameras']['splice'](_0x48962,-0xb*0x36+0xd43+-0xaf0),this['_dirtyComp'+'osition']=!(0x1cf2+-0xcc7+-0x102b);}}['clearCamer'+'as'](){this['cameras']['length']=-0x1b51+0x186d+0x1*0x2e4,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0x187*0x12+0x25a8+-0x4126);}['_calculate'+'SortDistan'+'ces'](_0x4d6f8a,_0x5c3fb1,_0x1ecad4,_0x39dc89){for(let _0xf9a58e=0xe90+-0xc9*-0x1+-0xf59;_0xf9a58e<_0x5c3fb1;_0xf9a58e++){const _0x20846a=_0x4d6f8a[_0xf9a58e];if(_0x20846a['layer']<=Vb)continue;if(_0x20846a['calculateS'+'ortDistanc'+'e']){_0x20846a['zdist']=_0x20846a['calculateS'+'ortDistanc'+'e'](_0x20846a,_0x1ecad4,_0x39dc89);continue;}const _0xce36de=_0x20846a['aabb']['center'],_0x5821d0=_0xce36de['x']-_0x1ecad4['x'],_0x6f8a30=_0xce36de['y']-_0x1ecad4['y'],_0xf1bd26=_0xce36de['z']-_0x1ecad4['z'];_0x20846a['zdist']=_0x5821d0*_0x39dc89['x']+_0x6f8a30*_0x39dc89['y']+_0xf1bd26*_0x39dc89['z'];}}['getCulledI'+'nstances'](_0x18b450){let _0x265aa8=this['_visibleIn'+'stances']['get'](_0x18b450);return _0x265aa8||(_0x265aa8=new WM(),this['_visibleIn'+'stances']['set'](_0x18b450,_0x265aa8)),_0x265aa8;}['sortVisibl'+'e'](_0xda4d20,_0x27a513){const _0x427b32=_0x27a513?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x427b32===_h)return;const _0x29ff5d=this['getCulledI'+'nstances'](_0xda4d20),_0x39c836=_0x27a513?_0x29ff5d['transparen'+'t']:_0x29ff5d['opaque'],_0x1e23c5=_0xda4d20['node'];if(_0x427b32===ew){const _0x3b3fd3=_0x1e23c5['getPositio'+'n'](),_0xb1891a=_0x1e23c5['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x39c836,_0x39c836['length'],_0x3b3fd3,_0xb1891a),this['customSort'+'Callback']&&_0x39c836['sort'](this['customSort'+'Callback']);}else{if(_0x427b32===Nm||_0x427b32===Jb){const _0x5ab4a1=_0x1e23c5['getPositio'+'n'](),_0x19cac8=_0x1e23c5['forward'];this['_calculate'+'SortDistan'+'ces'](_0x39c836,_0x39c836['length'],_0x5ab4a1,_0x19cac8);}_0x39c836['sort'](HM[_0x427b32]);}}}const $M=(_0x341972,_0xd27ff6)=>_0x341972['priority']-_0xd27ff6['priority'],Go=_0x1ace46=>_0x1ace46['sort']($M);class v_ extends de{constructor(_0x56bdd2='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x2*0xa93+-0x2327+0x2*0x701)),(this['name']=_0x56bdd2,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0xfd1ac2=>_0xfd1ac2['destroy']()),this['_renderAct'+'ions']['length']=0x1e56+-0x43*-0x6e+0x16*-0x2b0;}['_update'](){const _0x21be52=this['layerList']['length'];if(!this['_dirty']){for(let _0x342b97=0x1*0x24f5+-0x728+0x9ef*-0x3;_0x342b97<_0x21be52;_0x342b97++)if(this['layerList'][_0x342b97]['_dirtyComp'+'osition']){this['_dirty']=!(0x1b*-0x115+0x25*-0xc+0x1ef3);break;}}if(this['_dirty']){this['_dirty']=!(0x10f*-0x1a+-0x24f4+0x407b),this['cameras']['length']=0x186a+-0xb03+0x2f*-0x49;for(let _0x3ac030=0x2*0xaf4+-0x6df*0x2+-0x82a;_0x3ac030<_0x21be52;_0x3ac030++){const _0x55aca9=this['layerList'][_0x3ac030];_0x55aca9['_dirtyComp'+'osition']=!(0x1ea3+0x1*-0x3f0+-0x1ab2);for(let _0x544aa5=-0xde+-0x262b*0x1+0x3*0xd03;_0x544aa5<_0x55aca9['cameras']['length'];_0x544aa5++){const _0x1fc744=_0x55aca9['cameras'][_0x544aa5];this['cameras']['indexOf'](_0x1fc744)<-0xf27+0x5*-0x3d+0x2*0x82c&&this['cameras']['push'](_0x1fc744);}}this['cameras']['length']>-0x813+0x159c+-0xd88&&Go(this['cameras']);let _0x4d5b64=-0x135d+-0x25ff*0x1+-0x2*-0x1cae;this['destroyRen'+'derActions']();for(let _0x357d90=-0x11bb*-0x1+0x18a*0x3+0x3*-0x773;_0x357d90<this['cameras']['length'];_0x357d90++){const _0x32ffa2=this['cameras'][_0x357d90];if(_0x32ffa2['camera']['renderPass'+'es']['length']>-0x1621+-0x1ac*-0xe+-0x1*0x147){this['addDummyRe'+'nderAction'](_0x4d5b64,_0x32ffa2),_0x4d5b64++;continue;}let _0x214a96=!(-0x1793+-0x1*-0x2182+-0x9ef*0x1);const _0x24d272=_0x4d5b64;let _0x333c1f=null,_0x3dec22=!(-0x1*0x1ce5+0x14d5*-0x1+-0x1d*-0x1b7);for(let _0x411faa=-0x3be+-0x2011*-0x1+-0x1c53;_0x411faa<_0x21be52;_0x411faa++){const _0x248270=this['layerList'][_0x411faa];if(_0x248270['enabled']&&this['subLayerEn'+'abled'][_0x411faa]&&_0x248270['cameras']['length']>-0x1dc5+0x1e4f*0x1+-0x8a&&_0x32ffa2['layers']['indexOf'](_0x248270['id'])>=-0x1*0x1b60+-0x1345+-0x2ea5*-0x1){!_0x3dec22&&_0x248270['id']===_0x32ffa2['disablePos'+'tEffectsLa'+'yer']&&(_0x3dec22=!(-0x1212+-0xae7*0x2+0x27e0),_0x333c1f&&(_0x333c1f['triggerPos'+'tprocess']=!(-0xf*-0x133+0x132c+0x421*-0x9)));const _0x414f7b=this['subLayerLi'+'st'][_0x411faa];_0x333c1f=this['addRenderA'+'ction'](_0x4d5b64,_0x248270,_0x414f7b,_0x32ffa2,_0x214a96,_0x3dec22),_0x4d5b64++,_0x214a96=!(-0x543+0x2436*0x1+-0x1ef2);}}_0x24d272<_0x4d5b64&&(_0x333c1f['lastCamera'+'Use']=!(0x45f*0x2+0x6f5*-0x5+0x1a0b)),!_0x3dec22&&_0x333c1f&&(_0x333c1f['triggerPos'+'tprocess']=!(-0x3*-0x211+-0x1*0x2462+0x1e2f)),_0x32ffa2['renderTarg'+'et']&&_0x32ffa2['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x24d272-(0x24e7+-0x778+0x1*-0x1d6e),_0x32ffa2);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x2b45da){b['assert'](this['_renderAct'+'ions']['length']===_0x2b45da);const _0x5dcc0c=new L0();return this['_renderAct'+'ions']['push'](_0x5dcc0c),_0x5dcc0c;}['addDummyRe'+'nderAction'](_0xd88674,_0x4359d6){const _0x148687=this['getNextRen'+'derAction'](_0xd88674);_0x148687['camera']=_0x4359d6,_0x148687['useCameraP'+'asses']=!(0x1*-0x1f07+-0xb95+-0x4*-0xaa7);}['addRenderA'+'ction'](_0x3fdbd0,_0x5b7d69,_0x40135f,_0x50fe81,_0x421d20,_0x2d4c55){let _0x6acee9=_0x5b7d69['id']!==es?_0x50fe81['renderTarg'+'et']:null,_0x53e254=!(0x1689+-0x1*-0x1b2+-0x183a);const _0x2dce6e=this['_renderAct'+'ions'];for(let _0x53ce6b=_0x3fdbd0-(-0x10e7*0x1+0x56f+0xb79);_0x53ce6b>=0x1933+-0x1241+0xe*-0x7f;_0x53ce6b--)if(_0x2dce6e[_0x53ce6b]['camera']===_0x50fe81&&_0x2dce6e[_0x53ce6b]['renderTarg'+'et']===_0x6acee9){_0x53e254=!(0x68f*-0x1+-0x15d1*-0x1+-0xf42);break;}_0x2d4c55&&_0x50fe81['postEffect'+'sEnabled']&&(_0x6acee9=null);const _0x23a489=this['getNextRen'+'derAction'](_0x3fdbd0);_0x23a489['triggerPos'+'tprocess']=!(-0x1fa*-0x2+-0x1*-0x1286+0x1*-0x1679),_0x23a489['layer']=_0x5b7d69,_0x23a489['transparen'+'t']=_0x40135f,_0x23a489['camera']=_0x50fe81,_0x23a489['renderTarg'+'et']=_0x6acee9,_0x23a489['firstCamer'+'aUse']=_0x421d20,_0x23a489['lastCamera'+'Use']=!(-0x139*-0x1+-0x1*-0x30f+0xdb*-0x5);const _0x514d54=_0x421d20||!_0x53e254,_0x5b0253=_0x5b7d69['clearColor'+'Buffer']||_0x5b7d69['clearDepth'+'Buffer']||_0x5b7d69['clearStenc'+'ilBuffer'];return(_0x514d54||_0x5b0253)&&_0x23a489['setupClear'+'s'](_0x514d54?_0x50fe81:void(-0xd*0x125+0x119*0xe+-0x19*0x5),_0x5b7d69),_0x23a489;}['propagateR'+'enderTarge'+'t'](_0x1e0738,_0x350ae4){for(let _0x9504e9=_0x1e0738;_0x9504e9>=-0x2555*-0x1+-0x1dfd+0x2*-0x3ac;_0x9504e9--){const _0x157868=this['_renderAct'+'ions'][_0x9504e9],_0x430471=_0x157868['layer'];if(_0x157868['renderTarg'+'et']&&_0x430471['id']!==es)break;if(_0x430471['id']===es)continue;if(_0x157868['useCameraP'+'asses'])break;const _0x12bcf7=_0x157868==null?void(0x12a+0xbf6+-0x118*0xc):_0x157868['camera']['camera'];if(_0x12bcf7&&(!_0x350ae4['camera']['rect']['equals'](_0x12bcf7['rect'])||!_0x350ae4['camera']['scissorRec'+'t']['equals'](_0x12bcf7['scissorRec'+'t'])))break;_0x157868['renderTarg'+'et']=_0x350ae4['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Qs['get'](xl)){b['trace'](xl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x30bafb=-0xbb*-0x2a+-0x4fc*-0x6+-0x3c96;_0x30bafb<this['_renderAct'+'ions']['length'];_0x30bafb++){const _0x1d93e0=this['_renderAct'+'ions'][_0x30bafb],_0x5ab169=_0x1d93e0['camera'];if(_0x1d93e0['useCameraP'+'asses'])b['trace'](xl,_0x30bafb+('CustomPass'+'es\x20Cam:\x20')+(_0x5ab169?_0x5ab169['entity']['name']:'-'));else{const _0x3557f0=_0x1d93e0['layer'],_0x2685af=_0x3557f0['enabled']&&this['isEnabled'](_0x3557f0,_0x1d93e0['transparen'+'t']),_0x3098a9=(_0x1d93e0['clearColor']?'Color\x20':'.....\x20')+(_0x1d93e0['clearDepth']?'Depth\x20':'.....\x20')+(_0x1d93e0['clearStenc'+'il']?'Stencil':'.......');b['trace'](xl,_0x30bafb+('\x20Cam:\x20'+(_0x5ab169?_0x5ab169['entity']['name']:'-'))['padEnd'](-0x1*-0x9c1+-0x2*0x709+0x467,'\x20')+('\x20Lay:\x20'+_0x3557f0['name'])['padEnd'](-0x1341*-0x1+-0x89*0x48+-0x135d*-0x1,'\x20')+(_0x1d93e0['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2685af?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x1d93e0['renderTarg'+'et']?_0x1d93e0['renderTarg'+'et']['name']:'-'))['padEnd'](0x8d2+0xa*0xfe+-0x8*0x254,'\x20')+'\x20Clear:\x20'+_0x3098a9+(_0x1d93e0['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x1d93e0['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x1d93e0['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x3a21d6){const _0x110e8f=this['layerIdMap']['get'](_0x3a21d6['id'])===_0x3a21d6;return b['assert'](!_0x110e8f,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x3a21d6['name']),_0x110e8f;}['_isSublaye'+'rAdded'](_0x9b3b6a,_0x3680fb){return(_0x3680fb?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x9b3b6a)!==void(-0xc*-0x319+0x17c*0x17+-0x11d4*0x4)?(b['error']('Sublayer\x20'+_0x9b3b6a['name']+(',\x20transpar'+'ent:\x20')+_0x3680fb+('\x20is\x20alread'+'y\x20added.')),!(0x7c*-0x25+0x12*-0x101+0x23fe)):!(0x43*-0x27+-0x20ff+0x2b35);}['push'](_0x4b744e){this['_isLayerAd'+'ded'](_0x4b744e)||(this['layerList']['push'](_0x4b744e),this['layerList']['push'](_0x4b744e),this['_opaqueOrd'+'er'][_0x4b744e['id']]=this['subLayerLi'+'st']['push'](!(0x1*0x1efe+-0x47*-0x45+-0x644*0x8))-(0x35f+0xff7*0x1+-0x1355),this['_transpare'+'ntOrder'][_0x4b744e['id']]=this['subLayerLi'+'st']['push'](!(-0x1d22+-0x146*0x15+0x37e0))-(-0x17c*0x11+-0x2530+0x7*0x8eb),this['subLayerEn'+'abled']['push'](!(0x1*0x255e+0x4*-0x28e+0x116*-0x19)),this['subLayerEn'+'abled']['push'](!(-0x1edb+-0x1e80+-0x71*-0x8b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x61+0x2025+-0xfe2*0x2),this['fire']('add',_0x4b744e));}['insert'](_0x4e20b8,_0x4e4a4b){if(this['_isLayerAd'+'ded'](_0x4e20b8))return;this['layerList']['splice'](_0x4e4a4b,0x2068+-0x937*0x2+0x1*-0xdfa,_0x4e20b8,_0x4e20b8),this['subLayerLi'+'st']['splice'](_0x4e4a4b,-0x1228+-0xef0+0x2118,!(-0xe*-0x196+0x12d3+0x3b*-0xb2),!(0x8bf*0x1+-0xabe*-0x1+0x67f*-0x3));const _0x5b54eb=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x4e4a4b,_0x5b54eb-(-0xc1*0x23+0x3*-0xd05+0x4173)),this['_updateTra'+'nsparentOr'+'der'](_0x4e4a4b,_0x5b54eb-(0x135d*0x1+0x5*0x2c4+-0x2130)),this['subLayerEn'+'abled']['splice'](_0x4e4a4b,0x10e0+0x1ed7+-0x2fb7,!(-0x11f0+-0x551*-0x1+0xc9f),!(-0x17a*-0xf+0x146b*-0x1+-0x1bb)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1267+-0x1*-0x10f7+-0x235e),this['fire']('add',_0x4e20b8);}['remove'](_0x166f01){let _0x1b992c=this['layerList']['indexOf'](_0x166f01);for(delete this['_opaqueOrd'+'er'][_0x1b992c],delete this['_transpare'+'ntOrder'][_0x1b992c];_0x1b992c>=-0x1*-0x4bd+0x14c+-0x609;)this['layerList']['splice'](_0x1b992c,-0x4*0x61+0xba5+-0xa20),this['subLayerLi'+'st']['splice'](_0x1b992c,-0xc54+0x2*-0xa03+-0x21*-0xfb),this['subLayerEn'+'abled']['splice'](_0x1b992c,0x10a5*-0x2+-0x234a+0x1*0x4495),_0x1b992c=this['layerList']['indexOf'](_0x166f01),this['_dirty']=!(0x242d+-0x10*-0x2a+-0x387*0xb),this['fire']('remove',_0x166f01);const _0x53fec1=this['layerList']['length'];this['_updateOpa'+'queOrder'](0xd1a+-0x21*-0x129+-0x3363,_0x53fec1-(-0x2144+0xb51+0x14*0x119)),this['_updateTra'+'nsparentOr'+'der'](0x1eb7+0x553+-0x240a,_0x53fec1-(-0x4*-0x54d+0xb4f+-0x92*0x39)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x1c2929){this['_isSublaye'+'rAdded'](_0x1c2929,!(0x7+0x1*-0x5bd+0x5b7))||(this['layerList']['push'](_0x1c2929),this['_opaqueOrd'+'er'][_0x1c2929['id']]=this['subLayerLi'+'st']['push'](!(0x1c67+0x1*0x15b+0x3*-0x9eb))-(-0x845+0x554+-0x2f2*-0x1),this['subLayerEn'+'abled']['push'](!(0xdd9+-0x97e+-0x45b)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*-0x2b5+0xa*-0x223+-0x1813*-0x1),this['fire']('add',_0x1c2929));}['insertOpaq'+'ue'](_0x23f9aa,_0x1f95bd){if(this['_isSublaye'+'rAdded'](_0x23f9aa,!(-0x15*0x135+-0x1f25+0x9*0x647)))return;this['layerList']['splice'](_0x1f95bd,-0x2c7*-0x6+0x14d9*0x1+-0x2583,_0x23f9aa),this['subLayerLi'+'st']['splice'](_0x1f95bd,-0x20c4+-0x444+0x2508,!(0x6bc*0x1+0x10f6+-0x17b1));const _0x1bcdb4=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x1f95bd,_0x1bcdb4-(0x5*0x443+-0x95*0x28+-0x1fa*-0x1)),this['subLayerEn'+'abled']['splice'](_0x1f95bd,-0x9f9+0x20a5+0x5ab*-0x4,!(0x2207*0x1+0x218+-0x241f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x259d+0x1e29+-0x43c6),this['fire']('add',_0x23f9aa);}['removeOpaq'+'ue'](_0x1332f0){for(let _0x5802ad=0x2*0x524+-0x17f+-0xad*0xd,_0x1ca994=this['layerList']['length'];_0x5802ad<_0x1ca994;_0x5802ad++)if(this['layerList'][_0x5802ad]===_0x1332f0&&!this['subLayerLi'+'st'][_0x5802ad]){this['layerList']['splice'](_0x5802ad,0x4*-0x971+-0x1d1a+0x42df),this['subLayerLi'+'st']['splice'](_0x5802ad,-0x2e4+-0x2a2*0x7+0x1553),_0x1ca994--,this['_updateOpa'+'queOrder'](_0x5802ad,_0x1ca994-(0x26bd+-0x39*-0x1+-0x26f5*0x1)),this['subLayerEn'+'abled']['splice'](_0x5802ad,-0x1*-0xddb+-0x1620+0x846),this['_dirty']=!(-0x4ea+0x1151+-0x7f*0x19),this['layerList']['indexOf'](_0x1332f0)<-0x2*0xc34+-0x1*0x1443+-0x5*-0x8ef&&this['fire']('remove',_0x1332f0);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0xaa6c7a){this['_isSublaye'+'rAdded'](_0xaa6c7a,!(-0x330+0x789*-0x1+0xab9))||(this['layerList']['push'](_0xaa6c7a),this['_transpare'+'ntOrder'][_0xaa6c7a['id']]=this['subLayerLi'+'st']['push'](!(0x21+0x1093+0x42d*-0x4))-(0x1*0x1639+0x263f+0x2a1*-0x17),this['subLayerEn'+'abled']['push'](!(-0x1f1a+0xa67*-0x3+0x27*0x199)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x42*0xe+0x9ee+-0xd8a),this['fire']('add',_0xaa6c7a));}['insertTran'+'sparent'](_0x5779bf,_0x49dfaf){if(this['_isSublaye'+'rAdded'](_0x5779bf,!(-0x1320+0x127b+0xa5)))return;this['layerList']['splice'](_0x49dfaf,0xd2+0x1*0x569+-0x5*0x13f,_0x5779bf),this['subLayerLi'+'st']['splice'](_0x49dfaf,-0x157d*0x1+-0x1*-0x230e+0x17*-0x97,!(0x5d7+0x9af*0x4+-0x2c93));const _0x33071d=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x49dfaf,_0x33071d-(-0x2b*-0xde+0x5c6*0x1+-0x49*0x97)),this['subLayerEn'+'abled']['splice'](_0x49dfaf,0x61*-0x4a+-0x86*-0x35+0x4c,!(-0x1450+-0x1ae8+-0x179c*-0x2)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x97b*0x1+-0x58d+-0x2*0x1f7),this['fire']('add',_0x5779bf);}['removeTran'+'sparent'](_0x2a0087){for(let _0x419a7a=-0x1*0x22e1+-0x1884+0x3b65,_0x2fe1a2=this['layerList']['length'];_0x419a7a<_0x2fe1a2;_0x419a7a++)if(this['layerList'][_0x419a7a]===_0x2a0087&&this['subLayerLi'+'st'][_0x419a7a]){this['layerList']['splice'](_0x419a7a,0x2*0x69+0xbd+-0x18e),this['subLayerLi'+'st']['splice'](_0x419a7a,-0x178d*0x1+-0x57*-0xb+0x13d1),_0x2fe1a2--,this['_updateTra'+'nsparentOr'+'der'](_0x419a7a,_0x2fe1a2-(-0x1e28+-0x52a+0x2353)),this['subLayerEn'+'abled']['splice'](_0x419a7a,0x1d7*0x7+-0x3*0x5e2+-0x4c6*-0x1),this['_dirty']=!(0x1*0x670+-0x6a7+0x37*0x1),this['layerList']['indexOf'](_0x2a0087)<-0x61f*-0x2+-0x1b90+-0x2*-0x7a9&&this['fire']('remove',_0x2a0087);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x12cfa4){return this['layerOpaqu'+'eIndexMap']['get'](_0x12cfa4)??-(-0x15f2+-0x14a3+0x2a96*0x1);}['getTranspa'+'rentIndex'](_0x128f31){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x128f31)??-(0x1e42+0xf05*0x1+-0x2d46);}['isEnabled'](_0x429195,_0x3729dc){if(_0x429195['enabled']){const _0x32f62f=_0x3729dc?this['getTranspa'+'rentIndex'](_0x429195):this['getOpaqueI'+'ndex'](_0x429195);if(_0x32f62f>=-0x204*0x3+-0x1*-0x170f+0x1*-0x1103)return this['subLayerEn'+'abled'][_0x32f62f];}return!(0x1b40+0x1314*-0x1+0x29*-0x33);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x4c2dd8=0x3*0x122+0x2472+-0x27d8;_0x4c2dd8<this['layerList']['length'];_0x4c2dd8++){const _0x3e10aa=this['layerList'][_0x4c2dd8];this['layerIdMap']['set'](_0x3e10aa['id'],_0x3e10aa),this['layerNameM'+'ap']['set'](_0x3e10aa['name'],_0x3e10aa),(this['subLayerLi'+'st'][_0x4c2dd8]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x3e10aa,_0x4c2dd8);}}['getLayerBy'+'Id'](_0x4b5e43){return this['layerIdMap']['get'](_0x4b5e43)??null;}['getLayerBy'+'Name'](_0x596666){return this['layerNameM'+'ap']['get'](_0x596666)??null;}['_updateOpa'+'queOrder'](_0x34e668,_0x56c541){for(let _0x18f7f7=_0x34e668;_0x18f7f7<=_0x56c541;_0x18f7f7++)this['subLayerLi'+'st'][_0x18f7f7]===!(0x290*0x4+-0x1ada+0x109b)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x18f7f7]['id']]=_0x18f7f7);}['_updateTra'+'nsparentOr'+'der'](_0x12a548,_0x4344d9){for(let _0xe4f9eb=_0x12a548;_0xe4f9eb<=_0x4344d9;_0xe4f9eb++)this['subLayerLi'+'st'][_0xe4f9eb]===!(-0x2*-0x20+-0x16fb+0x16bb)&&(this['_transpare'+'ntOrder'][this['layerList'][_0xe4f9eb]['id']]=_0xe4f9eb);}['_sortLayer'+'sDescendin'+'g'](_0x33256c,_0x20cc37,_0x1474fa){let _0x296d5d=-(0x1c5f+0x1a0*0x17+-0x41be),_0x27e6e1=-(0x4*-0x469+0xcf4*-0x2+0x1*0x2b8d);for(let _0x1cb18b=-0xa2d+0x377*-0x1+0x4*0x369,_0x290d5a=_0x33256c['length'];_0x1cb18b<_0x290d5a;_0x1cb18b++){const _0x97fe15=_0x33256c[_0x1cb18b];_0x1474fa['hasOwnProp'+'erty'](_0x97fe15)&&(_0x296d5d=Math['max'](_0x296d5d,_0x1474fa[_0x97fe15]));}for(let _0x25d852=0x7*-0x246+0xf16+0xd4,_0x1ab1ba=_0x20cc37['length'];_0x25d852<_0x1ab1ba;_0x25d852++){const _0x5f216c=_0x20cc37[_0x25d852];_0x1474fa['hasOwnProp'+'erty'](_0x5f216c)&&(_0x27e6e1=Math['max'](_0x27e6e1,_0x1474fa[_0x5f216c]));}return _0x296d5d===-(0x10*-0x225+-0x11c2+-0x1*-0x3413)&&_0x27e6e1!==-(-0xc91*-0x1+0xcfc*0x3+-0x3384)?0xeb*-0x25+-0x17*-0xde+0xe06:_0x27e6e1===-(0x71*0x21+-0x1a3f*-0x1+0x28cf*-0x1)&&_0x296d5d!==-(0xe50+-0x1ad+0xb*-0x126)?-(-0x13*0xfb+0x172f+-0x48d):_0x27e6e1-_0x296d5d;}['sortTransp'+'arentLayer'+'s'](_0x216b80,_0x2e3de4){return this['_sortLayer'+'sDescendin'+'g'](_0x216b80,_0x2e3de4,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x510eba,_0x204ba0){return this['_sortLayer'+'sDescendin'+'g'](_0x510eba,_0x204ba0,this['_opaqueOrd'+'er']);}}const Vl=new A(),ai={'bias':0x0,'normalBias':0x0},Ja=new Y(),Wd={'r':0x0,'g':0x1,'b':0x2,'a':0x3},qu={'directional':le,'omni':Le,'point':Le,'spot':Fe},qM=[[new ee(-0x2*-0x5ec+-0x263d+-0x1*-0x1a65,0xf16+0xfc9+-0x1edf,0x1980+-0x1*0x1375+0x2*-0x305,0x1ebd+-0xbe3*-0x2+0x3682*-0x1)],[new ee(-0x8b6+-0x7de+0x4*0x425,-0x1ac0+0x1fdd+-0x51d,0x2148+-0x29*0x1+-0x211f+0.5,-0x860+-0x16e8+0x1f48+0.5),new ee(-0x7*-0x33f+-0x22b1+0x2fe*0x4,-0xa*0x324+0x112d+0xe3b+0.5,0xe*-0x222+0x9e0+-0x9fe*-0x2+0.5,-0x190+0x1c9*-0x14+0x2544+0.5)],[new ee(0x1*-0x125e+0xcca+0x594,-0x22*0x92+-0x7*-0x1bd+-0x2b*-0x2b,0x4*-0x162+0x523+0x1*0x65+0.5,-0x4*0x3d7+0x8*-0x19c+0x1c3c+0.5),new ee(0x3b*-0x29+0x1eaf+-0x153c,0x8*-0xc2+-0x5*0x4ff+0x1f0b+0.5,0xce6*0x1+-0x1*-0x14b+-0xe31+0.5,0xa36+0x2551+-0x2f87+0.5),new ee(-0x3*-0x593+-0x212*-0x1+-0x12cb+0.5,0x67+0xa*-0x96+-0xb*-0x7f,0x16f*0x5+0x1bcd+-0x22f8+0.5,0x7db+0x25e7+-0x2dc2+0.5)],[new ee(0x150f*-0x1+-0x1*0x1851+0x2d60,0xb4d*0x1+0x1*0x49f+-0xfec,0x1*0x201e+-0x114b+-0xed3+0.5,-0x1*-0xbf+0x18ba+-0x1979+0.5),new ee(0x2*0x38b+-0x23a0+-0x1c8a*-0x1,-0x363*0x5+-0x1d01+-0x1ea*-0x18+0.5,0x47*0x8b+-0x1334+-0x3*0x673+0.5,-0x37a+0x9*0x2de+-0x1654+0.5),new ee(-0x1718+0xe*0x214+0x100*-0x6+0.5,0xdc2*-0x1+0x18e0+-0xb1e,0x3*-0x854+0x1281+0x7*0xed+0.5,-0x5e8+-0x67*-0x58+-0xec0*0x2+0.5),new ee(0xb5b+0xdf*0x1f+-0x265c+0.5,0x306+-0x18e4+-0x2*-0xaef+0.5,0x216c+-0x108a+-0x871*0x2+0.5,0x7*-0x2d3+-0x1*0x47d+0x1842+0.5)]];let XM=0x19*-0x13b+0x16*-0x52+0x25cf;class jM{constructor(_0x12f95a,_0x4f6326,_0x415e2c){this['light']=_0x415e2c,this['camera']=_0x12f95a,this['shadowCame'+'ra']=D0['createShad'+'owCamera'](_0x415e2c['_shadowTyp'+'e'],_0x415e2c['_type'],_0x4f6326),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new ee(0x227b*-0x1+0x5*-0x27a+0x2edd,0x151*0xb+0xd28+-0x19*0x11b,0x126*0x21+0x1ac6+-0x40ab,-0x76f*0x1+-0x1*0x981+0x10f1),this['shadowScis'+'sor']=new ee(-0x1*-0x1b03+0xcf+0x946*-0x3,-0x54f+0x178b+0xc*-0x185,0x20c3+0x2*-0x132d+0x598,0x182a*-0x1+0x98+-0x11*-0x163),this['projection'+'Compensati'+'on']=0x1032+0x1f45+-0x2f77,this['face']=_0x4f6326,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x698a2d=>{_0x698a2d['defaultUni'+'formBuffer']['destroy'](),_0x698a2d['destroy']();}),this['viewBindGr'+'oups']['length']=-0x52b*0x1+-0xea8+0x13d3;}get['shadowBuff'+'er'](){const _0x5b3f9a=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x5b3f9a?this['light']['_isPcf']?_0x5b3f9a['depthBuffe'+'r']:_0x5b3f9a['colorBuffe'+'r']:null;}}class Ho{constructor(_0x1bf792,_0x2e72b1){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',us['DEFAULT']['clone']()),(this['device']=_0x1bf792,this['clusteredL'+'ighting']=_0x2e72b1,this['id']=XM++,this['_type']=le,this['_color']=new Y(-0x14b7+-0x3*0x8cd+-0xa3*-0x4a+0.8,-0xb*0x1da+-0x18c8+-0x1693*-0x2+0.8,-0x2624+-0x1a56+0x189*0x2a+0.8),this['_intensity']=-0x147a*0x1+0xa00+0x1*0xa7b,this['_affectSpe'+'cularity']=!(0x10a0+-0x1a*-0x25+-0x1462),this['_luminance']=0x1*0x1655+-0x12a*0x1a+-0x3*-0x2a5,this['_castShado'+'ws']=!(0x2566+-0x31+-0x129a*0x2),this['_enabled']=!(-0x23ca+-0x5*-0x2e+0x22e5),this['_mask']=ms,this['isStatic']=!(-0x10d5*0x2+-0x132a+0x34d5),this['key']=0x942+0x182e+-0x6b0*0x5,this['bakeDir']=!(-0xa*0x11+-0x1eab+0x1f55),this['bakeNumSam'+'ples']=0x136f+0x2661+-0x1*0x39cf,this['bakeArea']=0xd*0xb3+-0xe64+-0x1*-0x54d,this['attenuatio'+'nStart']=0xb7*0x34+-0x1df3+-0x3*0x265,this['attenuatio'+'nEnd']=-0xd*-0x76+-0x17f6+0x1cd*0xa,this['_falloffMo'+'de']=Cp,this['_shadowTyp'+'e']=zt,this['_vsmBlurSi'+'ze']=0x17*-0x125+0x1599+0x25*0x21,this['vsmBlurMod'+'e']=Mp,this['vsmBias']=(-0xf82*-0x1+-0x17*0x112+0x91c+0.01)*(-0xfb*-0x17+0xbe7*0x1+-0xf5*0x24+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x4f1+-0xcf1*-0x3+0x3b*-0x93,this['_cookieFal'+'loff']=!(-0x2*0xee6+-0x6*-0x173+0x151a),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x1e93+-0x317*-0xa+0x1*-0x3d75),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0x1*0x1f65+0x240a*0x1+-0x1a5*0x29),this['_cookieTra'+'nsformSet']=!(-0x138*-0xf+-0x245d+0x1216),this['_cookieOff'+'setSet']=!(0x10eb+-0x2645+0x155b),this['_innerCone'+'Angle']=0x3df+0xb*0x2ba+-0x21b5*0x1,this['_outerCone'+'Angle']=0x1b9+0x2*-0x5d9+-0x2*-0x513,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0xee1+-0x1b55+-0x1*-0x2a37,this['_cascadeBl'+'end']=0x1*-0x24f7+0x4*0x446+0x13df,this['cascadeDis'+'tribution']=-0x937+-0xb*0x65+-0x2*-0x6c7+0.5,this['_shape']=Tt,this['_colorLine'+'ar']=new Float32Array(0xd46+-0x201*0xe+0xecb),this['_updateLin'+'earColor'](),this['_position']=new A(0x3*0x3e5+0x782+-0x1331,0xd3*0x2+0x2607*0x1+-0x27ad*0x1,0x1a5d*-0x1+-0x5*0x785+0x3ff6),this['_direction']=new A(-0x1452+-0xa58+0x311*0xa,-0x48*0x59+0xff2*0x1+0x916,-0x19a5+-0xa*0x143+0x2643),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0x40f*-0x2+0xe94+0x16*-0x43)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0xec1+-0x29*0x97+0x26f0),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x5d*-0x41+-0x13f6+0x8bf*0x5,this['_shadowRes'+'olution']=-0x1d6+-0x1bd6+-0x2*-0x10d6,this['_shadowBia'+'s']=-(-0x26b7+-0xb3e+0x31f5+0.0005),this['shadowInte'+'nsity']=-0x1b13+0x2d*-0x33+-0x1*-0x240b,this['_normalOff'+'setBias']=-0x56*0x53+0x257*-0x5+0x2795,this['shadowUpda'+'teMode']=Lp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x691*0x4+-0xf*0x1a4+0x32e1),this['_isPcf']=!(-0xda6*-0x2+0x37f*0x5+0x1*-0x2cc7),this['_softShado'+'wParams']=new Float32Array(-0x173b*-0x1+-0x2699+0xf62),this['shadowSamp'+'les']=-0x11*0x107+-0xa0*0x27+0x29e7,this['shadowBloc'+'kerSamples']=-0x5e*-0x16+-0xa*-0xc4+-0xfac,this['penumbraSi'+'ze']=0x1*-0x1849+0xcf3+0xb57,this['penumbraFa'+'lloff']=-0x1682+0x1*-0x2e7+0x196a,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0x194c+0x20dd*0x1+-0x790),this['atlasVersi'+'on']=-0xc52+-0xa38+0x168a,this['atlasSlotI'+'ndex']=-0xf03+-0x26a9+-0x2*-0x1ad6,this['atlasSlotU'+'pdated']=!(0x22*0x41+-0x2ff*-0x7+-0x1d9a),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x1*-0xf8d+-0xf16+-0x76),this['maxScreenS'+'ize']=0x1746+0xcd5+-0x241b,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0xc7a5ce=0x2638+0xa43+-0x307b;_0xc7a5ce<this['_renderDat'+'a']['length'];_0xc7a5ce++)this['_renderDat'+'a'][_0xc7a5ce]['destroy']();this['_renderDat'+'a']['length']=-0x6*0x1d0+0x3*0x592+-0x3*0x1f2;}}['addLayer'](_0x51afb7){this['layers']['add'](_0x51afb7);}['removeLaye'+'r'](_0x17e005){this['layers']['delete'](_0x17e005);}set['shadowSamp'+'les'](_0xc205dd){this['_softShado'+'wParams'][-0x112e+0x5*-0x3ad+0x238f]=_0xc205dd;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x1*0x1fcd+-0xb9*0x33+0x50e];}set['shadowBloc'+'kerSamples'](_0x2b9f8f){this['_softShado'+'wParams'][0x4*0x563+-0x648+-0xf43]=_0x2b9f8f;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x8f*-0x2+-0x1204*-0x2+0x25*-0x101];}set['shadowBias'](_0x151102){this['_shadowBia'+'s']!==_0x151102&&(this['_shadowBia'+'s']=_0x151102,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x1d88bc){(!this['cascades']||this['numCascade'+'s']!==_0x1d88bc)&&(this['cascades']=qM[_0x1d88bc-(0x51d*0x3+-0x30*0x1b+-0xa46)],this['_shadowMat'+'rixPalette']=new Float32Array((-0x2b6*0xc+0x1*0x8f5+0x1797)*(0x1d95+0x13*0x1eb+-0x20fb*0x2)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x935+0x12+0x47*0x21),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x344c61){this['_cascadeBl'+'end']!==_0x344c61&&(this['_cascadeBl'+'end']=_0x344c61,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x30aafc){this['_shadowMap']!==_0x30aafc&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x30aafc);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x380bba){this['_mask']!==_0x380bba&&(this['_mask']=_0x380bba,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x10daf2=this['_type'];return _0x10daf2===le?this['numCascade'+'s']:_0x10daf2===Le?0x3*-0x55b+-0xc44+0x1c5b:0xb80*0x3+0x170f*0x1+-0x398e;}set['type'](_0x4802f6){if(this['_type']===_0x4802f6)return;this['_type']=_0x4802f6,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0xb9ea44=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0xb9ea44;}get['type'](){return this['_type'];}set['shape'](_0x29b66a){if(this['_shape']===_0x29b66a)return;this['_shape']=_0x29b66a,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x12fdc5=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x12fdc5;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x420ea2){this['_usePhysic'+'alUnits']!==_0x420ea2&&(this['_usePhysic'+'alUnits']=_0x420ea2,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x3c7201){if(this['_shadowTyp'+'e']===_0x3c7201)return;const _0x3304dc=this['device'];_0x3c7201===Rs&&!_0x3304dc['textureFlo'+'atRenderab'+'le']&&!_0x3304dc['textureHal'+'fFloatRend'+'erable']&&(_0x3c7201=zt),this['_type']===Le&&_0x3c7201!==Gh&&_0x3c7201!==zt&&_0x3c7201!==Hh&&_0x3c7201!==Wh&&_0x3c7201!==Rs&&(_0x3c7201=zt),_0x3c7201===$r&&(!_0x3304dc['textureFlo'+'atRenderab'+'le']||!_0x3304dc['textureFlo'+'atFilterab'+'le'])&&(_0x3c7201=Wr),_0x3c7201===Wr&&!_0x3304dc['textureHal'+'fFloatRend'+'erable']&&(_0x3c7201=zt);const _0x1785db=nr['get'](_0x3c7201);this['_isVsm']=(_0x1785db==null?void(0x5*-0x391+-0xe*0x4d+0x160b):_0x1785db['vsm'])??!(-0x1*0x853+-0x1d50+-0x1*-0x25a4),this['_isPcf']=(_0x1785db==null?void(0x4dd+0x695*-0x1+-0x5*-0x58):_0x1785db['pcf'])??!(-0x1a75+0x2*0x2f1+0x1494),this['_shadowTyp'+'e']=_0x3c7201,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x15805c){this['_enabled']!==_0x15805c&&(this['_enabled']=_0x15805c,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1c27b9){this['_castShado'+'ws']!==_0x1c27b9&&(this['_castShado'+'ws']=_0x1c27b9,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==ar&&this['_mask']!==-0x34a*0x7+-0x46b+0x119*0x19;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===ar;}set['shadowReso'+'lution'](_0x994c42){this['_shadowRes'+'olution']!==_0x994c42&&(this['_type']===Le?_0x994c42=Math['min'](_0x994c42,this['device']['maxCubeMap'+'Size']):_0x994c42=Math['min'](_0x994c42,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x994c42,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x3b9aa2){this['_vsmBlurSi'+'ze']!==_0x3b9aa2&&(_0x3b9aa2%(0x25b3*-0x1+-0x41a+-0x4d*-0x8b)===0x232d+0x1*-0x1aae+0x1b3*-0x5&&_0x3b9aa2++,this['_vsmBlurSi'+'ze']=_0x3b9aa2);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x6b69dc){if(this['_normalOff'+'setBias']!==_0x6b69dc){const _0x59f524=!this['_normalOff'+'setBias']&&_0x6b69dc||this['_normalOff'+'setBias']&&!_0x6b69dc;this['_normalOff'+'setBias']=_0x6b69dc,_0x59f524&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x2ca3d9){this['_falloffMo'+'de']!==_0x2ca3d9&&(this['_falloffMo'+'de']=_0x2ca3d9,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x41ee45){this['_innerCone'+'Angle']!==_0x41ee45&&(this['_innerCone'+'Angle']=_0x41ee45,this['_innerCone'+'AngleCos']=Math['cos'](_0x41ee45*Math['PI']/(-0x6fd+-0x133c+-0x3d*-0x71)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x108b04){this['_outerCone'+'Angle']!==_0x108b04&&(this['_outerCone'+'Angle']=_0x108b04,this['_updateOut'+'erAngle'](_0x108b04),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5106e2){this['_penumbraS'+'ize']=_0x5106e2,this['_softShado'+'wParams'][-0x1*-0x1517+0x8*-0x3c7+0x923]=_0x5106e2;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x3af4d5){this['_softShado'+'wParams'][-0x5*-0x57b+-0x1*0x1e6d+-0x15*-0x25]=_0x3af4d5;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][0x250e+0x539+-0x21d*0x14];}['_updateOut'+'erAngle'](_0x37bda4){const _0x524d17=_0x37bda4*Math['PI']/(0x1*-0xc7a+-0x1829+-0x79*-0x4f);this['_outerCone'+'AngleCos']=Math['cos'](_0x524d17),this['_outerCone'+'AngleSin']=Math['sin'](_0x524d17);}set['intensity'](_0x551fcd){this['_intensity']!==_0x551fcd&&(this['_intensity']=_0x551fcd,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x34247b){this['_type']===le&&(this['_affectSpe'+'cularity']=_0x34247b,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x489f12){this['_luminance']!==_0x489f12&&(this['_luminance']=_0x489f12,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new ee(-0x265*-0xd+0x3b*0x8e+0x1*-0x3fdb,0x1615+-0x1cb2+-0x1*-0x69d,-0xa4*-0x1c+0x1717+0x2*-0x1483,0x185*0x1+0x1d7*0x1+-0x35b)),this['_atlasView'+'port'];}set['cookie'](_0x2a4ef7){this['_cookie']!==_0x2a4ef7&&(this['_cookie']=_0x2a4ef7,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x4e7231){this['_cookieFal'+'loff']!==_0x4e7231&&(this['_cookieFal'+'loff']=_0x4e7231,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x261930){if(this['_cookieCha'+'nnel']!==_0x261930){if(_0x261930['length']<0x69e+0x1747+-0x1de2){const _0x1f25b8=_0x261930['charAt'](_0x261930['length']-(0x26ba+-0x3*0x755+-0x10ba*0x1)),_0x21a1b5=-0x1b*0x8d+-0x7c*-0x1+0xe66-_0x261930['length'];for(let _0x948a45=-0xbe9+0x130a+-0x721*0x1;_0x948a45<_0x21a1b5;_0x948a45++)_0x261930+=_0x1f25b8;}this['_cookieCha'+'nnel']=_0x261930,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x3a5ea9){this['_cookieTra'+'nsform']!==_0x3a5ea9&&(this['_cookieTra'+'nsform']=_0x3a5ea9,this['_cookieTra'+'nsformSet']=!!_0x3a5ea9,_0x3a5ea9&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(0x7b6+0xb7e+-0x1333)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x512bcf){if(this['_cookieOff'+'set']===_0x512bcf)return;!!(this['_cookieTra'+'nsformSet']||_0x512bcf)&&!_0x512bcf&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](-0x1*-0x1989+-0x55*-0x7+-0x1bdc,-0x1*0x10f+-0x1*0x1652+0x15*0x11d):this['_cookieOff'+'set']=_0x512bcf,this['_cookieOff'+'setSet']=!!_0x512bcf,_0x512bcf&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new ee(-0x5d*-0x67+0x10*-0x241+0x15a*-0x1,0x42*-0x6b+0xe6+0x1ab1,0x76b+0x265a+-0x2dc5*0x1,-0x1b4d*-0x1+-0x18ca+0x283*-0x1),this['_cookieTra'+'nsformSet']=!(-0x1d9+-0x11*0x1fc+0x2396*0x1)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===le&&this['_enabled'],this['maxScreenS'+'ize']=0x186e+-0x16d9+0x87*-0x3,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1*0x158b+-0x95a+0x41*-0x30),this['atlasSlotU'+'pdated']=!(-0x14b6+-0x4f*0x35+0x3b5*0xa);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===ks&&(this['shadowUpda'+'teMode']=un),this['shadowUpda'+'teOverride'+'s']){for(let _0x49949e=0xd33*0x1+0x1*0x1efb+-0xf*0x2f2;_0x49949e<this['shadowUpda'+'teOverride'+'s']['length'];_0x49949e++)this['shadowUpda'+'teOverride'+'s'][_0x49949e]===ks&&(this['shadowUpda'+'teOverride'+'s'][_0x49949e]=un);}}['getRenderD'+'ata'](_0x42a351,_0x1fd809){for(let _0x5aefc4=0x1985+-0x1*0xbd7+-0x1*0xdae;_0x5aefc4<this['_renderDat'+'a']['length'];_0x5aefc4++){const _0x138e11=this['_renderDat'+'a'][_0x5aefc4];if(_0x138e11['camera']===_0x42a351&&_0x138e11['face']===_0x1fd809)return _0x138e11;}const _0x414893=new jM(_0x42a351,_0x1fd809,this);return this['_renderDat'+'a']['push'](_0x414893),_0x414893;}['clone'](){const _0x538a4d=new Ho(this['device'],this['clusteredL'+'ighting']);return _0x538a4d['type']=this['_type'],_0x538a4d['setColor'](this['_color']),_0x538a4d['intensity']=this['_intensity'],_0x538a4d['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x538a4d['luminance']=this['_luminance'],_0x538a4d['castShadow'+'s']=this['castShadow'+'s'],_0x538a4d['_enabled']=this['_enabled'],_0x538a4d['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x538a4d['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x538a4d['falloffMod'+'e']=this['_falloffMo'+'de'],_0x538a4d['shadowType']=this['_shadowTyp'+'e'],_0x538a4d['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x538a4d['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x538a4d['vsmBias']=this['vsmBias'],_0x538a4d['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x538a4d['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x538a4d['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x538a4d['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x538a4d['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x538a4d['numCascade'+'s']=this['numCascade'+'s'],_0x538a4d['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x538a4d['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x538a4d['shape']=this['_shape'],_0x538a4d['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x538a4d['shadowBias']=this['shadowBias'],_0x538a4d['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x538a4d['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x538a4d['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x538a4d['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x538a4d['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x538a4d['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x538a4d['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x538a4d['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x538a4d;}static['getLightUn'+'itConversi'+'on'](_0x58b79c,_0x50a7a5=Math['PI']/(-0x1*-0x17e1+-0x1ce5+0x508),_0x2288ba=0x179b+0x2ef*-0xb+0x8aa){switch(_0x58b79c){case Fe:{const _0x139850=Math['cos'](_0x50a7a5),_0x36e03a=Math['cos'](_0x2288ba);return(-0x8b*0x2e+0x1c13+0x1*-0x317)*Math['PI']*(0xd7b+0x23e5+-0x315f-_0x36e03a+(_0x36e03a-_0x139850)/(-0x782+-0x35e*-0xb+0x1d86*-0x1));}case Le:return(0x9d2+0x644+-0x1012)*Math['PI'];case le:return-0x1de4+0x2383+-0x2cf*0x2;}}['_getUnifor'+'mBiasValue'+'s'](_0x1c16fe){const _0x125911=_0x1c16fe['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Le:ai['bias']=this['shadowBias'],ai['normalBias']=this['_normalOff'+'setBias'];break;case Fe:this['_isVsm']?ai['bias']=-(-0x2213+0x5da+0x1c39+0.00001)*(-0xb*0x16d+0x2578+-0x15b5):ai['bias']=this['shadowBias']*(0x694+-0x92*0x17+-0x4d*-0x16),ai['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0xc1*0x17+-0x262+0x13c0)):this['_normalOff'+'setBias'];break;case le:this['_isVsm']?ai['bias']=-(-0x225b+0x9f3+0x8e*0x2c+0.00001)*(-0x1494+0x49*-0xb+0x17cb*0x1):ai['bias']=this['shadowBias']/_0x125911*(0x47*0x6b+0xdc*0x1a+-0x33a1),ai['normalBias']=this['_isVsm']?this['vsmBias']/(_0x125911/(-0x17ac+0xf55*-0x1+0x2708)):this['_normalOff'+'setBias'];break;}return ai;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x5a5c4e){if(this['_type']===Fe){const _0x48cd69=this['attenuatio'+'nEnd'],_0x59d9bc=this['_outerCone'+'Angle'],_0x1c7b7c=this['_outerCone'+'AngleCos'],_0x3c54d5=this['_node'];Vl['copy'](_0x3c54d5['up']),_0x59d9bc>0x1bae+0x250d+-0x408e?(_0x5a5c4e['radius']=_0x48cd69*this['_outerCone'+'AngleSin'],Vl['mulScalar'](-_0x48cd69*_0x1c7b7c)):(_0x5a5c4e['radius']=_0x48cd69/((0xb74+0x20aa+-0x2c1c)*_0x1c7b7c),Vl['mulScalar'](-_0x5a5c4e['radius'])),_0x5a5c4e['center']['add2'](_0x3c54d5['getPositio'+'n'](),Vl);}else this['_type']===Le&&(_0x5a5c4e['center']=this['_node']['getPositio'+'n'](),_0x5a5c4e['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x585126){if(this['_type']===Fe){const _0x398b7e=this['attenuatio'+'nEnd'],_0x1f7c71=this['_outerCone'+'Angle'],_0x1b374a=this['_node'],_0x2256d4=Math['abs'](Math['sin'](_0x1f7c71*z['DEG_TO_RAD'])*_0x398b7e);_0x585126['center']['set'](-0x18b3*0x1+-0x17*0xa7+0x27b4,-_0x398b7e*(-0x3f5+-0x11e*-0x2+0x1b9+0.5),0x139*0xb+-0x8d6+-0x49d),_0x585126['halfExtent'+'s']['set'](_0x2256d4,_0x398b7e*(0x569+-0x24cc+0x5*0x647+0.5),_0x2256d4),_0x585126['setFromTra'+'nsformedAa'+'bb'](_0x585126,_0x1b374a['getWorldTr'+'ansform'](),!(-0x1ba7+0x1046+-0x1*-0xb61));}else this['_type']===Le&&(_0x585126['center']['copy'](this['_node']['getPositio'+'n']()),_0x585126['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Le&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x362*0x1+0x2ab*-0x7+0x160f,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x40f+-0x1723*-0x1+-0x2*0xd99;else{const _0x1f89a1=this['shadowBias']*-(-0x618+0x2cf*-0x4+0x12*0x12e);this['shadowDept'+'hState']['depthBias']=_0x1f89a1,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x1f89a1;}}['_updateLin'+'earColor'](){let _0x1a4b02=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x1a4b02=this['_luminance']/Ho['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*z['DEG_TO_RAD'],this['_innerCone'+'Angle']*z['DEG_TO_RAD']));const _0x59d038=this['_color'],_0xfb0865=this['_colorLine'+'ar'];_0x1a4b02>=0x11ab+-0x460*-0x6+-0x4d*0x92?Ja['linear'](_0x59d038)['mulScalar'](_0x1a4b02):Ja['copy'](_0x59d038)['mulScalar'](_0x1a4b02)['linear'](),_0xfb0865[0x17aa+-0xc4e+-0xb5c]=Ja['r'],_0xfb0865[-0x1*0xa3d+-0xbe+0xafc]=Ja['g'],_0xfb0865[0xb98*0x1+0x1b9c+-0x2732*0x1]=Ja['b'];}['setColor'](){arguments['length']===-0x26c*-0x4+-0x1d65+-0xae*-0x1d?this['_color']['set'](arguments[0xa98*0x2+-0x23d5+0xea5]['r'],arguments[0x747+-0x23dd*0x1+-0x1c96*-0x1]['g'],arguments[-0x1ed8+0x245*-0x8+0x1c*0x1c0]['b']):arguments['length']===0x1*0x25bb+-0x21b9*-0x1+-0x4771&&this['_color']['set'](arguments[-0x41*0x33+0xac1*0x3+-0x1350],arguments[-0x1697+0x1d74+-0x1b7*0x4],arguments[0x19bc+-0x263d+0xc83]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0xecc233=>{_0xecc233['hasLight'](this)&&_0xecc233['markLights'+'Dirty']();});}['updateKey'](){let _0x45c961=this['_type']<<0xbf*-0x7+0x1e*0x8a+-0x26*0x49|this['_shadowTyp'+'e']<<0x124*0x6+0x2390*0x1+-0x2a4f|this['_falloffMo'+'de']<<0x179e*-0x1+-0x31*0x9d+-0x7*-0x7ae|(this['_normalOff'+'setBias']!==0x17fa+0x1*-0x1ad2+0x2d8?0x47*0x22+0x102*0xe+-0x1789:-0x1d0+-0x1*0x1d45+0x1f15)<<0x260d+-0x1d*0x77+-0x187c|(this['_cookie']?0x112*-0x5+0x18f3+-0x1398:0x129f*0x2+0x67*-0x55+-0x30b)<<-0x7*-0xdd+-0x1cf*-0x7+0x3*-0x635|(this['_cookieFal'+'loff']?-0x79d+-0x5*0x68e+0x2864:0x918+0x2279+-0x2b91)<<0x370+0xdd3+-0x112f|Wd[this['_cookieCha'+'nnel']['charAt'](0x241*0x1+-0x6a*0x1d+0x9c1)]<<-0x1*-0x1319+-0x91f+0x13d*-0x8|(this['_cookieTra'+'nsform']?0x3d9+-0x1*0x19ed+0x1*0x1615:-0x239+0xf2e+-0xcf5)<<-0x1*-0xa3d+-0x2f*-0x61+-0x1c00|this['_shape']<<0xd*-0x107+-0x69*0x3+0xea0|(this['numCascade'+'s']>0x9cc+0x1b40+-0x943*0x4?-0xebc*0x1+0x1eb7*-0x1+-0xb5d*-0x4:0x620+-0x7a2+0x182)<<-0x2669+-0x1*-0x155e+0x1114|(this['_cascadeBl'+'end']>-0xd*-0x24f+0x7*-0x111+-0x168c?0x6*0x3f9+0x1f9+0x89a*-0x3:0xd*-0x51+-0x2587+0x29a4)<<0x1487+-0x1cb+0x39*-0x54|(this['affectSpec'+'ularity']?0x56*-0x47+-0x9e7+0x21c2:0x2*-0x3ad+0x1*0x667+0xf3)<<-0x1f36+0x1e05+0x138|this['mask']<<0x2e*-0x17+0x9fd+-0x5d5|(this['_castShado'+'ws']?0x26e0+0x1b05+0x1*-0x41e4:-0x7b9*-0x1+0x21ae+0x2967*-0x1)<<0x196d+0x12f7+-0x2c61;this['_cookieCha'+'nnel']['length']===-0x12e2+0x1*-0x371+0x1656&&(_0x45c961|=Wd[this['_cookieCha'+'nnel']['charAt'](0xfa5+0x3*0xb6f+-0x31f1*0x1)]<<-0x29*-0x4b+-0x93d+-0x1*0x2b6,_0x45c961|=Wd[this['_cookieCha'+'nnel']['charAt'](-0xb57*-0x1+-0x1c3a+0x10e5)]<<-0x1e28+-0xa29+-0x2b1*-0xf),_0x45c961!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x45c961;}}class F0{constructor(_0x294b84,_0x205963,_0x1955ec){c(this,'_areaLight'+'sEnabled',!(0x1b34+0x1*0x97+-0x1*0x1bca)),c(this,'_cells',new A(-0xed7+-0x107b*-0x2+0x607*-0x3,-0xe*-0xb5+-0x142e+0xa4b,0xa15+-0x1188+0x77d)),c(this,'_maxLights'+'PerCell',-0x12a9+0xd6+0x12d2),c(this,'_shadowsEn'+'abled',!(-0x24*0x113+0x51*0x1d+-0x9d5*-0x3)),c(this,'_shadowTyp'+'e',zt),c(this,'_shadowAtl'+'asResoluti'+'on',0x2526+-0x1c*0x132+0x452),c(this,'_cookiesEn'+'abled',!(0x1*-0x20a2+0xb31+0x1572)),c(this,'_cookieAtl'+'asResoluti'+'on',-0x1309+-0x6fd*0x1+-0x29e*-0xd),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x294b84,this['_maxTextur'+'eSize']=_0x205963,this['_dirtyLigh'+'tsFnc']=_0x1955ec);}['applySetti'+'ngs'](_0x4a92c1){this['shadowsEna'+'bled']=_0x4a92c1['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x4a92c1['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x4a92c1['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x4a92c1['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x4a92c1['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x4a92c1['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x4a92c1['lightingSh'+'adowType']??this['shadowType'],_0x4a92c1['lightingCe'+'lls']&&(this['cell']=new A(_0x4a92c1['lightingCe'+'lls']));}set['cells'](_0x38481d){this['_cells']['copy'](_0x38481d);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x300572){this['_maxLights'+'PerCell']=z['clamp'](_0x300572,-0x1a6c+0x2372+0x905*-0x1,0x1*-0x197b+-0x872+-0x1e*-0x12a);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x3ecc0e){this['_cookieAtl'+'asResoluti'+'on']=z['clamp'](_0x3ecc0e,0x159d+-0x14d1+-0xac,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x2f4f0c){this['_shadowAtl'+'asResoluti'+'on']=z['clamp'](_0x2f4f0c,-0x1*-0x17e+-0x11b*-0xf+0x1*-0x11f3,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x5e01ca){this['_shadowTyp'+'e']!==_0x5e01ca&&(this['_shadowTyp'+'e']=_0x5e01ca,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x5b881e){this['_cookiesEn'+'abled']!==_0x5b881e&&(this['_cookiesEn'+'abled']=_0x5b881e,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x48518a){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x48518a&&(this['_areaLight'+'sEnabled']=_0x48518a,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x449e21){this['_shadowsEn'+'abled']!==_0x449e21&&(this['_shadowsEn'+'abled']=_0x449e21,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const YM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',KM=new bt(!(-0x1fcd+-0xa52*0x3+-0x1*-0x3ec3),Ut,ct,ct);class mn{constructor(_0x4563ed){c(this,'shaderCach'+'e',[]),(this['morph']=_0x4563ed,_0x4563ed['incRefCoun'+'t'](),this['device']=_0x4563ed['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x470671=-0x1dc9+-0xe27*-0x2+0x17b*0x1;_0x470671<_0x4563ed['_targets']['length'];_0x470671++){const _0x47567e=_0x4563ed['_targets'][_0x470671];_0x47567e['name']&&this['_weightMap']['set'](_0x47567e['name'],_0x470671),this['setWeight'](_0x470671,_0x47567e['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x4fb978=(_0x29c403,_0x1ab542)=>(this[_0x1ab542]=_0x4563ed['_createTex'+'ture'](_0x29c403,_0x4563ed['_renderTex'+'tureFormat']),new St({'colorBuffer':this[_0x1ab542],'depth':!(-0xb23+-0xb9*-0x20+-0xbfc)}));_0x4563ed['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x4fb978('MorphRTPos','texturePos'+'itions')),_0x4563ed['morphNorma'+'ls']&&(this['rtNormals']=_0x4fb978('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x4563ed['morphTextu'+'reWidth'],_0x4563ed['morphTextu'+'reHeight']]);const _0x4e370f=_0x4563ed['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x4e370f['x']*(-0xe*-0x95+-0x147+-0x27*0x2d),_0x4e370f['y']*(0x959+0x1*0x264c+-0x2fa1),_0x4e370f['z']*(-0x41c*-0x1+0x98a*0x1+-0xda2)]);const _0x8c1e16=_0x4563ed['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x8c1e16['x']*(-0x24e+0x5f8+-0x3a8),_0x8c1e16['y']*(-0x13da+-0x38*0x13+0x1804),_0x8c1e16['z']*(-0x11*-0x115+0x1c5a+-0x1*0x2ebd)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x2f*0x53+0x92a+-0xad*-0x9,-0x619+-0xad2+-0x10ed*-0x1,0xc0f+0x1*-0x1dc4+0x5*0x38b]),this['_aabbNrmMi'+'n']=new Float32Array([-(0x2492+-0x1708*-0x1+0x56b*-0xb),-(-0x33*0x4f+0x221*0xc+-0x9ce),-(-0x775*-0x4+-0x13*0xe6+-0x5*0x28d)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x2717b0=0xa*-0x169+0x1*-0xf04+0x2*0xe8f;_0x2717b0<this['maxSubmitC'+'ount'];_0x2717b0++)this['morphBlend'+'Tex'+_0x2717b0]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x2717b0);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(0x5*0x39d+0x223d+-0x344d);}['destroy'](){this['shader']=null;const _0x49ff35=this['morph'];_0x49ff35&&(this['morph']=null,_0x49ff35['decRefCoun'+'t'](),_0x49ff35['refCount']<-0x2e4+0x3b5*0x1+-0xd0&&_0x49ff35['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new mn(this['morph']);}['_getWeight'+'Index'](_0x5e936e){if(typeof _0x5e936e=='string'){const _0xbaf27e=this['_weightMap']['get'](_0x5e936e);return _0xbaf27e===void(0x17*0x18+-0x23cf+0x5*0x6bb)&&b['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x5e936e+'.'),_0xbaf27e;}return _0x5e936e;}['getWeight'](_0xc3961c){const _0x190a47=this['_getWeight'+'Index'](_0xc3961c);return this['_weights'][_0x190a47];}['setWeight'](_0x46ba3b,_0x386844){const _0x5891a2=this['_getWeight'+'Index'](_0x46ba3b);b['assert'](_0x5891a2>=-0xa05+0x24e3+-0x1ade&&_0x5891a2<this['morph']['_targets']['length']),this['_weights'][_0x5891a2]=_0x386844,this['_dirty']=!(-0x1502+0x460+0x10a2);}['_getFragme'+'ntShader'](_0x5bfbae){let _0x28b5ee='',_0x541c27='';for(let _0x1b57ae=-0x1*-0x241a+0x1e*-0xa+-0x22ee;_0x1b57ae<_0x5bfbae;_0x1b57ae++)_0x28b5ee+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0x1b57ae+';',_0x541c27+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0x1b57ae+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0x1b57ae+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x5bfbae>-0x1b46+-0x22e6*0x1+-0x1f16*-0x2?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0x5bfbae+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x28b5ee+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x541c27+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0x5c1bc0){let _0x1c863f=this['shaderCach'+'e'][_0x5c1bc0];if(!_0x1c863f){const _0x54e123=this['_getFragme'+'ntShader'](_0x5c1bc0),_0x441801=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x1c863f=Bs(this['device'],YM,_0x54e123,'textureMor'+'ph'+_0x5c1bc0,void(-0x1e54+-0x11*-0x1e7+-0x203),{'fragmentOutputTypes':[_0x441801]}),this['shaderCach'+'e'][_0x5c1bc0]=_0x1c863f;}return _0x1c863f;}['_updateTex'+'tureRender'+'Target'](_0x2c6bd7,_0x168a20,_0xddef82){const _0x408be=this['device'],_0x16eee9=(_0x581cc7,_0x4b05ad)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x408be['setBlendSt'+'ate'](_0x4b05ad?KM:bt['NOBLEND']);const _0x4b80d8=this['_getShader'](_0x581cc7);fn(_0x408be,_0x2c6bd7,_0x4b80d8);};this['setAabbUni'+'forms'](_0xddef82);let _0x2744ab=-0x6*0x37d+0x1472+0x7c,_0x27575a=!(-0x1702+-0x12e3+0x29e6);const _0x4c2e09=this['_activeTar'+'gets']['length'];for(let _0x4d593e=-0x26*0xd5+-0x3f+0x1fdd;_0x4d593e<_0x4c2e09;_0x4d593e++){const _0x60e224=this['_activeTar'+'gets'][_0x4d593e],_0x36a51f=_0x60e224['target'][_0x168a20];_0x36a51f&&(this['morphBlend'+'Tex'+_0x2744ab]['setValue'](_0x36a51f),this['_shaderMor'+'phWeights'][_0x2744ab]=_0x60e224['weight'],_0x2744ab++,_0x2744ab>=this['maxSubmitC'+'ount']&&(_0x16eee9(_0x2744ab,_0x27575a),_0x2744ab=0x235a+0x1*-0x9e6+-0x1974,_0x27575a=!(-0x2368+0x13f3+-0xf75*-0x1)));}(_0x2744ab>0xb6+0x48e+-0x544||_0x4c2e09===0x1a*-0x3+-0xe24+-0xe72*-0x1&&!this['zeroTextur'+'es'])&&_0x16eee9(_0x2744ab,_0x27575a);}['_updateTex'+'tureMorph'](){const _0x411514=this['device'];G['pushGpuMar'+'ker'](_0x411514,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>0x5b3+-0xd*-0x43+-0x2*0x48d||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(-0x2291+0x18ef+-0x6*-0x19b)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(0x1957+0x1957*-0x1+-0x1*-0x1)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0xd11+-0x26d2+0x33e3),G['popGpuMark'+'er'](_0x411514);}['setAabbUni'+'forms'](_0x596435=!(0x1*0x2590+0x1*0xca0+-0x3230)){this['aabbSizeId']['setValue'](_0x596435?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x596435?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x47c8e3){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x55*0x2f+0x1ef6+-0xf5a);const _0x17ef7c=this['morph']['_targets'];let _0x82559b=-0x3*0x4b+0x20f5+-0x1*0x2014;const _0x552d01=-0x5*0x281+-0x1b3f+0x27c4+0.00001;for(let _0x259aa1=0xb79+-0x2061+0x14e8;_0x259aa1<_0x17ef7c['length'];_0x259aa1++){const _0x3ded8c=Math['abs'](this['getWeight'](_0x259aa1));if(_0x3ded8c>_0x552d01){this['_activeTar'+'gets']['length']<=_0x82559b&&(this['_activeTar'+'gets'][_0x82559b]={});const _0x1aae39=this['_activeTar'+'gets'][_0x82559b++];_0x1aae39['absWeight']=_0x3ded8c,_0x1aae39['weight']=this['getWeight'](_0x259aa1),_0x1aae39['target']=_0x17ef7c[_0x259aa1];}}this['_activeTar'+'gets']['length']=_0x82559b,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x43ddf5,_0x1604dc)=>_0x43ddf5['absWeight']<_0x1604dc['absWeight']?-0x1*-0x52f+-0x1c49+-0x49f*-0x5:_0x1604dc['absWeight']<_0x43ddf5['absWeight']?-(-0x142c+0x233c+-0xf0f):0x203c+0x2282+-0x2*0x215f),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Ui{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x26*0xa3+0x1b*0x2b+-0x1*0x1cbb,this['_immutable']=!(0x4b1*0x1+-0x19cd*-0x1+-0x1e7d));}['getGraph'](){return this['graph'];}['setGraph'](_0x4a465f){this['graph']=_0x4a465f;}['getCameras'](){return this['cameras'];}['setCameras'](_0x282d84){this['cameras']=_0x282d84;}['getLights'](){return this['lights'];}['setLights'](_0x36ab5b){this['lights']=_0x36ab5b;}['getMateria'+'ls'](){const _0x22385b=[];for(let _0xc3248d=-0x20be+-0xfd2+0x4*0xc24;_0xc3248d<this['meshInstan'+'ces']['length'];_0xc3248d++){const _0x4069db=this['meshInstan'+'ces'][_0xc3248d];_0x22385b['indexOf'](_0x4069db['material'])===-(0x1248+0x3*0xcd8+0x38cf*-0x1)&&_0x22385b['push'](_0x4069db['material']);}return _0x22385b;}['clone'](){const _0x5b9ca1=[],_0x3668aa=[],_0x25f84b=function(_0x57aa65){const _0x31d268=_0x57aa65['clone']();_0x5b9ca1['push'](_0x57aa65),_0x3668aa['push'](_0x31d268);for(let _0x76b517=0x1*0x4d5+-0x7*0x3a3+0x10*0x14a;_0x76b517<_0x57aa65['_children']['length'];_0x76b517++)_0x31d268['addChild'](_0x25f84b(_0x57aa65['_children'][_0x76b517]));return _0x31d268;},_0x50dd66=_0x25f84b(this['graph']),_0x4e015f=[],_0x534adc=[],_0x3c99fa=[];for(let _0xd771bb=0x339+-0x1*-0x24d1+-0x280a;_0xd771bb<this['skinInstan'+'ces']['length'];_0xd771bb++){const _0x5a10ba=this['skinInstan'+'ces'][_0xd771bb]['skin'],_0x1902b1=new hl(_0x5a10ba),_0x4f4128=[];for(let _0x10db74=-0x11be+0x17ae+-0x5f0;_0x10db74<_0x5a10ba['boneNames']['length'];_0x10db74++){const _0x3b087b=_0x5a10ba['boneNames'][_0x10db74],_0x4e189b=_0x50dd66['findByName'](_0x3b087b);_0x4f4128['push'](_0x4e189b);}_0x1902b1['bones']=_0x4f4128,_0x534adc['push'](_0x1902b1);}for(let _0x52e17a=0x1470+-0x22c*-0x4+-0x1d20;_0x52e17a<this['morphInsta'+'nces']['length'];_0x52e17a++){const _0x615010=this['morphInsta'+'nces'][_0x52e17a]['morph'],_0xe3a80a=new mn(_0x615010);_0x3c99fa['push'](_0xe3a80a);}for(let _0x5f16e3=-0x2ef*0x1+0x1*0x169f+0x1a4*-0xc;_0x5f16e3<this['meshInstan'+'ces']['length'];_0x5f16e3++){const _0x39c78a=this['meshInstan'+'ces'][_0x5f16e3],_0x33b893=_0x5b9ca1['indexOf'](_0x39c78a['node']),_0x204cf5=new Be(_0x39c78a['mesh'],_0x39c78a['material'],_0x3668aa[_0x33b893]);if(_0x39c78a['skinInstan'+'ce']){const _0x280a5f=this['skinInstan'+'ces']['indexOf'](_0x39c78a['skinInstan'+'ce']);_0x204cf5['skinInstan'+'ce']=_0x534adc[_0x280a5f];}if(_0x39c78a['morphInsta'+'nce']){const _0x1b9eda=this['morphInsta'+'nces']['indexOf'](_0x39c78a['morphInsta'+'nce']);_0x204cf5['morphInsta'+'nce']=_0x3c99fa[_0x1b9eda];}_0x4e015f['push'](_0x204cf5);}const _0x2a0498=new Ui();return _0x2a0498['graph']=_0x50dd66,_0x2a0498['meshInstan'+'ces']=_0x4e015f,_0x2a0498['skinInstan'+'ces']=_0x534adc,_0x2a0498['morphInsta'+'nces']=_0x3c99fa,_0x2a0498['getGraph']()['syncHierar'+'chy'](),_0x2a0498;}['destroy'](){const _0x1a08c2=this['meshInstan'+'ces'];for(let _0x10b451=-0x1*-0x1cef+0x7f6+-0x24e5;_0x10b451<_0x1a08c2['length'];_0x10b451++)_0x1a08c2[_0x10b451]['destroy']();this['meshInstan'+'ces']['length']=-0x1d45+-0x141*-0x9+0x11fc;}['generateWi'+'reframe'](){Be['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Lr);}}class k0 extends qc{constructor(_0x4d85ef,_0x48684e,{preferHighPrecision:_0x55cd7b=!(0x25c2+-0x1*-0xa47+0x1*-0x3008)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(b['assert'](_0x48684e,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x48684e,this['preferHigh'+'Precision']=_0x55cd7b,b['assert'](_0x4d85ef['every'](_0xac664=>!_0xac664['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x4d85ef['slice']());const _0x446309=this['device'],_0x2f8ccb=_0x446309['textureHal'+'fFloatRend'+'erable']?it:void(-0x2387+-0x17bd+0x3b44),_0x36b177=_0x446309['textureFlo'+'atRenderab'+'le']?et:void(-0x2*-0x296+-0xf0b*-0x1+-0x5*0x40b);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x36b177??_0x2f8ccb:_0x2f8ccb??_0x36b177,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Rc,this['intRenderF'+'ormat']=sa(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Ac:it,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x54aaf2=new A(),_0x1d644c=new A();for(let _0x181aa9=-0xf89+0x3b*0x45+-0x5e;_0x181aa9<this['_targets']['length'];_0x181aa9++){const _0x5e9502=this['_targets'][_0x181aa9]['aabb'];_0x54aaf2['min'](_0x5e9502['getMin']()),_0x1d644c['max'](_0x5e9502['getMax']());}this['_aabb']=new ve(),this['_aabb']['setMinMax'](_0x54aaf2,_0x1d644c);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x4584ef=0x2f4*-0xb+-0x257b*0x1+-0x45f7*-0x1;_0x4584ef<this['_targets']['length'];_0x4584ef++)this['_targets'][_0x4584ef]['_postInit']();}['_findSpars'+'eSet'](_0x536edb,_0x5568e3,_0x1f059a){let _0x204321=0x1cc2+0x17fa+-0x34bb*0x1;const _0x590cdb=_0x536edb[0x13*0xff+0x1139*-0x1+-0x1b4]['length'];for(let _0x394cbb=0x1d0e*0x1+-0x38*0xad+0x465*0x2;_0x394cbb<_0x590cdb;_0x394cbb+=-0x1b46+0x164*0xb+0xbfd){let _0x468cec=!(0x1*0x176d+-0x1d1d+-0x1f*-0x2f);for(let _0xeaa9a3=-0x1b0*0xc+0xed4+0x56c;_0xeaa9a3<_0x536edb['length'];_0xeaa9a3++){const _0x1bc1b0=_0x536edb[_0xeaa9a3];if(_0x1bc1b0[_0x394cbb]!==-0x117b*0x1+-0x3e*-0x51+-0x223||_0x1bc1b0[_0x394cbb+(0x265b+-0x2652+-0x8)]!==0x57*0x6+-0xb53+0x949||_0x1bc1b0[_0x394cbb+(0x722*-0x2+0x95*0x43+-0x18b9*0x1)]!==0x14bb+0x16d5+-0x2b90){_0x468cec=!(-0x1b91+-0x1845+0x33d6);break;}}_0x468cec?(_0x5568e3['push'](_0x204321),_0x1f059a['push'](_0x394cbb/(0x267f+0x2631*0x1+-0x4cad*0x1)),_0x204321++):_0x5568e3['push'](0x155+-0x12*-0x15a+-0x19a9*0x1);}return _0x204321;}['_initTextu'+'reBased'](){const _0x4d0791=[],_0x2b0f8a=[];for(let _0x139205=0x1*0x14c3+0x3*0x843+-0x2d8c;_0x139205<this['_targets']['length'];_0x139205++){const _0x3e76f3=this['_targets'][_0x139205];_0x3e76f3['options']['deltaPosit'+'ions']&&(_0x4d0791['push'](_0x3e76f3['options']['deltaPosit'+'ions']),_0x2b0f8a['push']({'target':_0x3e76f3,'name':'texturePos'+'itions'})),_0x3e76f3['options']['deltaNorma'+'ls']&&(_0x4d0791['push'](_0x3e76f3['options']['deltaNorma'+'ls']),_0x2b0f8a['push']({'target':_0x3e76f3,'name':'textureNor'+'mals'}));}const _0xe58b94=[],_0x137184=[],_0x34bd78=this['_findSpars'+'eSet'](_0x4d0791,_0xe58b94,_0x137184),_0x5612de=this['device']['maxTexture'+'Size'];let _0xf5003d=Math['ceil'](Math['sqrt'](_0x34bd78));_0xf5003d=Math['min'](_0xf5003d,_0x5612de);const _0x4b06d6=Math['ceil'](_0x34bd78/_0xf5003d);if(_0x4b06d6>_0x5612de)return!(-0x372+0xee1+-0xb6e);this['morphTextu'+'reWidth']=_0xf5003d,this['morphTextu'+'reHeight']=_0x4b06d6;let _0x5a0ae1=!(-0xe4b+0x22c4+-0x20c*0xa),_0x3c6387=0x2332+-0x1*0x1a6+0x1f9*-0x11;const _0x51b7c0=Bt['float2Half'];this['_textureFo'+'rmat']===it&&(_0x5a0ae1=!(-0xf09+0x425*-0x6+0x1*0x27e7),_0x3c6387=-0x1a3*0xb+0x10e0+-0x1*-0x125);const _0x5585c5=[];for(let _0x3e36e8=-0x154+-0xc6+0x21a;_0x3e36e8<_0x4d0791['length'];_0x3e36e8++)_0x5585c5['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x24dc3d=-0xf4c*-0x1+0xd03+0x1*-0x1c4f;_0x24dc3d<_0x4d0791['length'];_0x24dc3d++){const _0x225ec1=_0x4d0791[_0x24dc3d],_0x58d4f0=_0x5585c5[_0x24dc3d],_0x58916e=_0x58d4f0['lock']();if(_0x5a0ae1)for(let _0x1cc163=-0x5ab+-0x1fd0*0x1+0x257b;_0x1cc163<_0x137184['length'];_0x1cc163++){const _0x409a0f=_0x137184[_0x1cc163]*(0x104c+0x577*-0x5+0xb0a),_0x42065a=_0x1cc163*_0x3c6387+_0x3c6387;_0x58916e[_0x42065a]=_0x51b7c0(_0x225ec1[_0x409a0f]),_0x58916e[_0x42065a+(-0x1*-0x1544+0xabd+0x200*-0x10)]=_0x51b7c0(_0x225ec1[_0x409a0f+(-0x5b2+0xe7e+-0x8cb)]),_0x58916e[_0x42065a+(0x1*0x195b+0xa31+0x1*-0x238a)]=_0x51b7c0(_0x225ec1[_0x409a0f+(-0x22ba+0x37*0xe+0x83*0x3e)]);}else for(let _0x5dd4f6=-0x7+0x1127+-0x1120;_0x5dd4f6<_0x137184['length'];_0x5dd4f6++){const _0x1ffb32=_0x137184[_0x5dd4f6]*(0x127*-0xb+0x1cd8+-0x1028),_0x4b8bc7=_0x5dd4f6*_0x3c6387+_0x3c6387;_0x58916e[_0x4b8bc7]=_0x225ec1[_0x1ffb32],_0x58916e[_0x4b8bc7+(-0x8c6+-0x1*-0x24dd+-0x1c16)]=_0x225ec1[_0x1ffb32+(-0x43c*0x1+0x1*0xb89+-0x74c)],_0x58916e[_0x4b8bc7+(0x1057+0x1a*0x13e+-0x30a1)]=_0x225ec1[_0x1ffb32+(-0xfd1*-0x2+0x6be*0x2+0xb47*-0x4)];}_0x58d4f0['unlock'](),_0x2b0f8a[_0x24dc3d]['target']['_setTextur'+'e'](_0x2b0f8a[_0x24dc3d]['name'],_0x58d4f0);}const _0x2a10da=[{'semantic':va,'components':0x1,'type':Oo,'asInt':!(-0x1964+0x1f57*-0x1+-0x2f*-0x135)}];return this['vertexBuff'+'erIds']=new fs(this['device'],new Dt(this['device'],_0x2a10da,_0xe58b94['length']),_0xe58b94['length'],{'data':new Uint32Array(_0xe58b94)}),!(0x169c+-0xfac+0x128*-0x6);}['destroy'](){var _0x4f8e12;(_0x4f8e12=this['vertexBuff'+'erIds'])==null||_0x4f8e12['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0xedd2de=0xb3+-0x233d+0x228a;_0xedd2de<this['_targets']['length'];_0xedd2de++)this['_targets'][_0xedd2de]['destroy']();this['_targets']['length']=0x1147*0x2+-0x1f38+0x3d*-0xe;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0xcb*-0x1c+0xbe9*0x3+-0xd86),this['_morphNorm'+'als']=!(-0xc5a+-0xe8c+0x1ae7);for(let _0x366648=-0x1*-0x177b+-0x1fca+-0x2c5*-0x3;_0x366648<this['_targets']['length'];_0x366648++){const _0x57890b=this['_targets'][_0x366648];_0x57890b['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x231*0x11+-0x167b+0x3bbc)),_0x57890b['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x23d8+-0x5ee+-0x29c6*-0x1));}}['_createTex'+'ture'](_0x5dce2a,_0x3bb74d){return new ce(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x3bb74d,'cubemap':!(-0x1f01+0x1*-0x4fd+0x23ff),'mipmaps':!(-0x1d65+0x20d6+-0x370),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':_0x5dce2a});}}class sd{constructor(_0x5e55e2){c(this,'used',!(-0x1bf1*0x1+-0x517+0x2109)),(b['assert'](arguments['length']===0x1dc9+0x1a2d+-0x37f5),this['options']=_0x5e55e2,this['_name']=_0x5e55e2['name'],this['_defaultWe'+'ight']=_0x5e55e2['defaultWei'+'ght']||0x1*-0x1250+0x1637+-0x3e7,this['_aabb']=_0x5e55e2['aabb'],this['deltaPosit'+'ions']=_0x5e55e2['deltaPosit'+'ions']);}['destroy'](){var _0x1641c4,_0x44f195;(_0x1641c4=this['texturePos'+'itions'])==null||_0x1641c4['destroy'](),this['texturePos'+'itions']=null,(_0x44f195=this['textureNor'+'mals'])==null||_0x44f195['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new ve(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return b['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new sd(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(-0x1f8f+0x67a+0x1915);}['_setTextur'+'e'](_0x274274,_0x2d3ec1){this[_0x274274]=_0x2d3ec1;}}let oi,b_=0x1ca7+0x6d*-0x57+0x865;const re=0x2523+0x632*0x6+-0x4a4b,$d=new q(),qd=new q(),Vs=new A(),He=new A(),Ss=new A(),Dn=new A(),qt=new A(),tt=new A(),Ln=new A(),Fn=new A(),eo=new A(),w_=new A(),Ct=new A(),Gl=new A(),Tr=new A();function na(_0x35a297){return _0x35a297-Math['floor'](_0x35a297);}function ZM(_0x234379){return Math['max'](Math['min'](_0x234379,0x1b8a+-0x100a*0x1+-0xb7f),-0x189f+-0x2*-0xc5f+-0x1f*0x1);}function Xd(_0x17c1d3,_0x1ec17f){return _0x17c1d3-_0x1ec17f*Math['floor'](_0x17c1d3/_0x1ec17f);}function QM(_0xc4326){let _0x55e3e7=na(_0xc4326),_0x49b71c=na((-0x86*0x8+0x22d3*-0x1+-0x6*-0x6ab)*_0xc4326),_0x8ff8bc=na((0x13f39+-0x2336+-0x2*0xf01)*_0xc4326),_0x1d80bf=na((0x8e005a9+0x2028936+-0x15047e0)*_0xc4326);return _0x55e3e7-=_0x49b71c/(0x3*-0x287+0x265*-0x9+0x1e21),_0x49b71c-=_0x8ff8bc/(0x1b74+-0x1*-0x13f3+-0x2e68),_0x8ff8bc-=_0x1d80bf/(-0x12e4*-0x2+-0x1c3*-0x3+-0x2a12),_0x1d80bf-=_0x1d80bf/(-0x25ea+-0x2260+-0x1*-0x4949),[_0x55e3e7,_0x49b71c,_0x8ff8bc,_0x1d80bf];}function Hl(_0x485d6f){let _0x1d04d2=na(_0x485d6f),_0x3a464a=na((-0x23f9*0x1+0x12a*-0x1+0xcb6*0x3)*_0x485d6f);return _0x1d04d2-=_0x3a464a/(0x5b2+-0x11a+-0x3*0x133),_0x3a464a-=_0x3a464a/(0x182f+-0x1921+0x1*0x1f1),[_0x1d04d2,_0x3a464a];}class JM{constructor(_0xb796e9){this['_emitter']=_0xb796e9;}['calcSpawnP'+'osition'](_0x21500d,_0x4cab1d,_0x5a1702,_0xd958cb,_0x382738){const _0xa71ae7=this['_emitter'],_0x25e15c=Math['random'](),_0x20717d=Math['random'](),_0x2a0c37=Math['random'](),_0x7620e8=Math['random']();if(_0xa71ae7['useCpu']&&(_0x21500d[_0x382738*re+(0x8b4+-0x31c+-0x598)+_0xa71ae7['numParticl'+'esPot']*(0x11fc+0x1048*0x1+-0x2242)*re]=_0x25e15c,_0x21500d[_0x382738*re+(0x1a1c+-0x1*0xfd1+-0xa4a)+_0xa71ae7['numParticl'+'esPot']*(-0x5a1+0x129a*0x2+-0x1f91)*re]=_0x20717d,_0x21500d[_0x382738*re+(0x2469*-0x1+-0x9af+0x6*0x7af)+_0xa71ae7['numParticl'+'esPot']*(0x591*-0x1+-0x45*-0xf+0x188)*re]=_0x2a0c37),He['x']=_0x25e15c-(-0xc73+0x4*0x2d2+-0xd*-0x17+0.5),He['y']=_0x20717d-(0x1ca*-0x11+0x227a+-0x410+0.5),He['z']=_0x2a0c37-(-0x11b7+0x25*-0x1c+0x15c3+0.5),_0xa71ae7['emitterSha'+'pe']===qs){const _0x8caf83=Math['max'](Math['abs'](He['x']),Math['max'](Math['abs'](He['y']),Math['abs'](He['z']))),_0x336973=_0x8caf83+(0x5*-0x79c+0x228a+0x382+0.5-_0x8caf83)*_0x5a1702[-0x1ad*-0xd+-0x1*0xa7f+-0xa*0x121],_0x1e5b6d=_0x8caf83+(-0x12a3+0x26aa+-0x1*0x1407+0.5-_0x8caf83)*_0x5a1702[0x1*-0x1f23+-0x3*-0x7bb+0x1*0x7f3],_0x1aef65=_0x8caf83+(0x3*0x613+0x9cc+-0x957*0x3+0.5-_0x8caf83)*_0x5a1702[-0x13ed+0x1aa2+-0x6b3];He['x']=_0x336973*(_0x8caf83===Math['abs'](He['x'])?Math['sign'](He['x']):(-0x12e*0x1a+0x1*0x7b3+0x6f*0x35)*He['x']),He['y']=_0x1e5b6d*(_0x8caf83===Math['abs'](He['y'])?Math['sign'](He['y']):(-0xe*-0xca+0xfd3+-0x1add)*He['y']),He['z']=_0x1aef65*(_0x8caf83===Math['abs'](He['z'])?Math['sign'](He['z']):(0x3*0x1+0x801*0x1+-0x1*0x802)*He['z']),_0xa71ae7['localSpace']?Vs['copy'](_0x4cab1d['transformP'+'oint'](He)):Vs['copy'](_0xd958cb)['add'](_0x4cab1d['transformP'+'oint'](He));}else{He['normalize']();const _0x3f6d9a=_0xa71ae7['emitterRad'+'ius']===0x36*0x6+0x1e5e+0x1*-0x1fa2?-0x228b+-0x194e+0x3bd9:_0xa71ae7['emitterRad'+'iusInner']/_0xa71ae7['emitterRad'+'ius'],_0x56298c=_0x7620e8*(-0x9d9*-0x3+-0x2353*-0x1+-0x9*0x735-_0x3f6d9a)+_0x3f6d9a;_0xa71ae7['localSpace']?Vs['copy'](He['mulScalar'](_0x56298c*_0xa71ae7['emitterRad'+'ius'])):Vs['copy'](_0xd958cb)['add'](He['mulScalar'](_0x56298c*_0xa71ae7['emitterRad'+'ius']));}let _0x2b8f98=-z['lerp'](_0xa71ae7['rate'],_0xa71ae7['rate2'],_0x25e15c)*_0x382738;if(_0xa71ae7['pack8']){const _0x2b39f9=(Vs['x']-_0xa71ae7['worldBound'+'s']['center']['x'])/_0xa71ae7['worldBound'+'sSize']['x']+(0x5*-0x4d5+0x1fde+-0x7b5*0x1+0.5),_0x58dfb7=(Vs['y']-_0xa71ae7['worldBound'+'s']['center']['y'])/_0xa71ae7['worldBound'+'sSize']['y']+(-0x18ac+-0x135c+0x2c08+0.5),_0x5124aa=(Vs['z']-_0xa71ae7['worldBound'+'s']['center']['z'])/_0xa71ae7['worldBound'+'sSize']['z']+(-0x266f*-0x1+-0x3b*0x41+-0x13*0x13c+0.5);let _0x33ce86=z['lerp'](_0xa71ae7['startAngle']*z['DEG_TO_RAD'],_0xa71ae7['startAngle'+'2']*z['DEG_TO_RAD'],_0x25e15c);_0x33ce86=_0x33ce86%(Math['PI']*(-0x112b+0x1*0x8c4+-0x869*-0x1))/(Math['PI']*(-0x22d9+0x1082*-0x2+-0x1*-0x43df));const _0x94c302=Hl(_0x2b39f9);_0x21500d[_0x382738*re]=_0x94c302[-0x116e*-0x2+0x1*-0x2513+0x237],_0x21500d[_0x382738*re+(-0xc12+0x5*-0xcf+0x101e)]=_0x94c302[-0x20d3+-0x1*0x2631+0x4705];const _0x14f09f=Hl(_0x58dfb7);_0x21500d[_0x382738*re+(0x1*-0x23f5+-0x164+0x83*0x49)]=_0x14f09f[0x2350+0xffb+0x334b*-0x1],_0x21500d[_0x382738*re+(-0x6*-0x2c2+-0x79*0xe+-0x9eb*0x1)]=_0x14f09f[-0x3ac+-0x389*-0x7+0x3*-0x706];const _0x3e40db=Hl(_0x5124aa);_0x21500d[_0x382738*re+(0x757*0x3+-0x1*-0x2565+-0x3b6a)+_0xa71ae7['numParticl'+'esPot']*re]=_0x3e40db[0x3*-0x80b+0x13b9+-0x8*-0x8d],_0x21500d[_0x382738*re+(-0x1*-0x1969+-0x1573*-0x1+-0x2edb)+_0xa71ae7['numParticl'+'esPot']*re]=_0x3e40db[-0x184e+0x12b2+0x59d];const _0x3777d0=Hl(_0x33ce86);_0x21500d[_0x382738*re+(-0x293+-0x1a15+0x1caa)+_0xa71ae7['numParticl'+'esPot']*re]=_0x3777d0[0x5cb+-0x2c7*-0x6+0x1*-0x1675],_0x21500d[_0x382738*re+(-0x1079+-0x1*-0x2327+0x3*-0x639)+_0xa71ae7['numParticl'+'esPot']*re]=_0x3777d0[0x8*-0x15a+-0x1650+-0xb*-0x303];const _0x14cec8=-0xd1*-0x22+-0x10a2+0x27*-0x49;_0x21500d[_0x382738*re+(-0x1325*-0x1+-0x6*-0x30a+-0x255e)+_0xa71ae7['numParticl'+'esPot']*re*(-0x5a1+-0x1b*0x82+0x1359)]=_0x14cec8;const _0xdbea9=Math['max'](_0xa71ae7['lifetime'],(_0xa71ae7['numParticl'+'es']-(-0x44*0x15+0x1*-0x43f+0x9d4*0x1))*Math['max'](_0xa71ae7['rate'],_0xa71ae7['rate2'])),_0x37de06=_0xa71ae7['lifetime']+(0x1056+0x1*0x1384+-0x1b5*0x15);_0x2b8f98=(_0x2b8f98+_0xdbea9)/(_0xdbea9+_0x37de06);const _0x1b4b7e=QM(_0x2b8f98);_0x21500d[_0x382738*re+(0x1b4d+-0x209*-0x8+-0x2b95)+_0xa71ae7['numParticl'+'esPot']*re*(-0x5f3*0x4+-0x1d25+0x34f4)]=_0x1b4b7e[-0x63d+-0x11*-0x15f+-0x1112],_0x21500d[_0x382738*re+(-0x10c+0x1fe*0x8+-0xee3*0x1)+_0xa71ae7['numParticl'+'esPot']*re*(-0x2d0*0x1+-0x1*-0x1145+-0xe72)]=_0x1b4b7e[0x3d*0x3a+0x226b*-0x1+0x149a],_0x21500d[_0x382738*re+(-0x1943+-0x1a8f+0x1ac*0x1f)+_0xa71ae7['numParticl'+'esPot']*re*(-0xc59+0xf89+-0x32d)]=_0x1b4b7e[-0x1202+0x1e4b+-0x1*0xc47],_0x21500d[_0x382738*re+(0x858+0x17d7+-0x202c)+_0xa71ae7['numParticl'+'esPot']*re*(-0x1fe*0x3+0x2074+0x10f*-0x19)]=_0x1b4b7e[-0x1e70+-0x1f2*-0x3+0x189d];}else _0x21500d[_0x382738*re]=Vs['x'],_0x21500d[_0x382738*re+(-0x20e3*0x1+-0x233b+0x441f)]=Vs['y'],_0x21500d[_0x382738*re+(-0x1*0x1cd9+-0x1a2d*0x1+0x6*0x92c)]=Vs['z'],_0x21500d[_0x382738*re+(-0xbb2+0x18fc+-0xd47)]=z['lerp'](_0xa71ae7['startAngle']*z['DEG_TO_RAD'],_0xa71ae7['startAngle'+'2']*z['DEG_TO_RAD'],_0x25e15c),_0x21500d[_0x382738*re+(0xeb1+0xba2*0x2+-0xca6*0x3)+_0xa71ae7['numParticl'+'esPot']*re]=_0x2b8f98;}['update'](_0x435a29,_0x5cc3a2,_0x56cd9b,_0x1a0ed8,_0x291eed,_0x235e4d,_0x2603f6,_0x173270){let _0x1703ca,_0x5ace2f,_0x53e7f7;const _0x118561=this['_emitter'];if(_0x118561['meshInstan'+'ce']['node']){const _0x5966ea=_0x118561['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x2f4c8b=0x3*0x8b3+-0x1564+0x4b5*-0x1;_0x2f4c8b<-0x1*0x137+0x15e6*-0x1+0x34f*0x7;_0x2f4c8b++)$d['data'][_0x2f4c8b]=_0x5966ea['data'][_0x2f4c8b];qd['copy']($d),qd['invert'](),oi=_0x118561['meshInstan'+'ce']['node']['localScale'],b_=Math['max'](Math['max'](oi['x'],oi['y']),oi['z']);}_0x235e4d=_0x118561['meshInstan'+'ce']['node']===null||_0x118561['localSpace']?A['ZERO']:_0x118561['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x561d9a=_0x118561['camera']?_0x118561['camera']['_node']['getPositio'+'n']():A['ZERO'],_0x22ee30=_0x118561['useMesh']?-0x4e7*0x1+0x2453*-0x1+-0x3c1*-0xb:0x14da+0x4ee+-0x19b9;let _0x192702,_0x562f2e,_0x3ff2cd,_0x505779,_0xf6fc03,_0x1ed09c,_0x40b123,_0x51dcba,_0x285f81;const _0x3f51cc=_0x118561['precision']-(-0x4*0x463+-0x301*-0xd+-0x560*0x4);for(let _0x27d422=0x3*-0x859+-0x28*-0x59+0xb23*0x1;_0x27d422<_0x118561['numParticl'+'es'];_0x27d422++){const _0x44e042=Math['floor'](_0x118561['vbCPU'][_0x27d422*_0x118561['numParticl'+'eVerts']*(_0x118561['useMesh']?0xd5*-0x2a+-0xd2+0x23ca:-0x1d2+0x35b*-0x3+0xbe7)+(-0x2fc+0x17*0x7e+-0x853*0x1)]),_0x36935d=_0x56cd9b[_0x44e042*re+(-0x3d7*-0x4+0x5*-0x5e3+0xe13)+_0x118561['numParticl'+'esPot']*(-0xe1f+0x1b0a*-0x1+0x292b)*re];Ss['x']=_0x36935d,Ss['y']=_0x56cd9b[_0x44e042*re+(0x13e2+-0x7f+-0x676*0x3)+_0x118561['numParticl'+'esPot']*(0xda7+0x1512+-0x1*0x22b7)*re],Ss['z']=_0x56cd9b[_0x44e042*re+(0xb07*-0x3+0x4*0x4b+-0x1*-0x1feb)+_0x118561['numParticl'+'esPot']*(0xa*0xa5+-0x270b*0x1+-0x11*-0x1eb)*re];const _0x429737=_0x118561['rate']+(_0x118561['rate2']-_0x118561['rate'])*_0x36935d,_0x2ee25e=_0x118561['lifetime'];let _0x2da4c0=_0x56cd9b[_0x44e042*re+(-0x45d*-0x4+0x12a1*-0x1+0x130)+_0x118561['numParticl'+'esPot']*re]+_0x2603f6;const _0x119c90=ZM(_0x2da4c0/_0x2ee25e);let _0x267fa0=0x106*0x1+-0x1938+0x2*0xc19,_0x946bea=-0x1391+-0x19cc+0x31*0xed;const _0x33a407=0x46+0x2*-0x4e1+0x97c;(_0x2da4c0-_0x2603f6<=-0x5cf+-0x7*-0x4ab+-0x1ade||_0x2da4c0>=_0x2ee25e)&&this['calcSpawnP'+'osition'](_0x56cd9b,_0x1a0ed8,_0x291eed,_0x235e4d,_0x44e042);let _0x1145cd=_0x2da4c0>-0x1*-0x17a2+0xb3*0x29+-0x116f*0x3&&_0x2da4c0<_0x2ee25e;_0x1145cd&&(_0x53e7f7=_0x119c90*_0x3f51cc,_0x192702=Math['floor'](_0x53e7f7),_0x562f2e=Math['ceil'](_0x53e7f7),_0x53e7f7%=-0x2475+-0x261*-0x1+0x2215,_0x1703ca=_0x118561['qRotSpeed'][_0x192702],_0x5ace2f=_0x118561['qRotSpeed'][_0x562f2e],_0x3ff2cd=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qRotSpeed2'][_0x192702],_0x5ace2f=_0x118561['qRotSpeed2'][_0x562f2e],_0x505779=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qScale'][_0x192702],_0x5ace2f=_0x118561['qScale'][_0x562f2e],_0x267fa0=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qScale2'][_0x192702],_0x5ace2f=_0x118561['qScale2'][_0x562f2e],_0xf6fc03=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qAlpha'][_0x192702],_0x5ace2f=_0x118561['qAlpha'][_0x562f2e],_0x1ed09c=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qAlpha2'][_0x192702],_0x5ace2f=_0x118561['qAlpha2'][_0x562f2e],_0x40b123=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qRadialSpe'+'ed'][_0x192702],_0x5ace2f=_0x118561['qRadialSpe'+'ed'][_0x562f2e],_0x51dcba=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qRadialSpe'+'ed2'][_0x192702],_0x5ace2f=_0x118561['qRadialSpe'+'ed2'][_0x562f2e],_0x285f81=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x51dcba+=(_0x285f81-_0x51dcba)*(_0x36935d*(0x68e+0x550+-0x71*0x1a)%(0x4f*0x11+0x6e8+-0xc26)),Dn['x']=_0x56cd9b[_0x44e042*re],Dn['y']=_0x56cd9b[_0x44e042*re+(0x3c3+0x1dd*-0xe+0x1654)],Dn['z']=_0x56cd9b[_0x44e042*re+(0x2080+-0x23ed+-0x1*-0x36f)],_0x118561['localSpace']?eo['copy'](Dn):eo['copy'](Dn)['sub'](_0x235e4d),eo['normalize']()['mulScalar'](_0x51dcba),_0x192702*=0x19*-0x16a+0x12*0xe6+-0x1*-0x1331,_0x562f2e*=-0x1*-0xb9d+0x808+-0x13a2,_0x1703ca=_0x118561['qLocalVelo'+'city'][_0x192702],_0x5ace2f=_0x118561['qLocalVelo'+'city'][_0x562f2e],tt['x']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qLocalVelo'+'city'][_0x192702+(-0x1ed4+0x666+-0x2b7*-0x9)],_0x5ace2f=_0x118561['qLocalVelo'+'city'][_0x562f2e+(-0x7ef*-0x4+-0xabc+0x7d*-0x2b)],tt['y']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qLocalVelo'+'city'][_0x192702+(0x2*0x3ec+-0xaf7*-0x3+0x1*-0x28bb)],_0x5ace2f=_0x118561['qLocalVelo'+'city'][_0x562f2e+(-0x7c2+0x3*-0x357+0x11c9*0x1)],tt['z']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qLocalVelo'+'city2'][_0x192702],_0x5ace2f=_0x118561['qLocalVelo'+'city2'][_0x562f2e],Fn['x']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qLocalVelo'+'city2'][_0x192702+(-0x1825+0x2446+-0xc20)],_0x5ace2f=_0x118561['qLocalVelo'+'city2'][_0x562f2e+(-0x11*0x161+-0x26+0x1798)],Fn['y']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qLocalVelo'+'city2'][_0x192702+(-0x79*-0x37+-0x8d9+-0x449*0x4)],_0x5ace2f=_0x118561['qLocalVelo'+'city2'][_0x562f2e+(-0xb09+-0x1a48+0x2553)],Fn['z']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qVelocity'][_0x192702],_0x5ace2f=_0x118561['qVelocity'][_0x562f2e],qt['x']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qVelocity'][_0x192702+(-0x2569+0x1db9+0x7b1)],_0x5ace2f=_0x118561['qVelocity'][_0x562f2e+(-0x1c4*0x11+0x1*-0xf8d+-0x133*-0x26)],qt['y']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qVelocity'][_0x192702+(-0x7*-0x13a+0x1fb5+-0x2849)],_0x5ace2f=_0x118561['qVelocity'][_0x562f2e+(-0x347*-0x2+-0x96*-0x1c+-0x16f4)],qt['z']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qVelocity2'][_0x192702],_0x5ace2f=_0x118561['qVelocity2'][_0x562f2e],Ln['x']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qVelocity2'][_0x192702+(0x1004+-0xc5*0x2f+-0xac*-0x1e)],_0x5ace2f=_0x118561['qVelocity2'][_0x562f2e+(0x2*-0x25b+0x1ff0*-0x1+-0xb*-0x355)],Ln['y']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,_0x1703ca=_0x118561['qVelocity2'][_0x192702+(-0x2*-0xc6d+0x232a+-0x3c02)],_0x5ace2f=_0x118561['qVelocity2'][_0x562f2e+(-0x1*-0x257c+0x5ca+-0xd*0x354)],Ln['z']=_0x1703ca+(_0x5ace2f-_0x1703ca)*_0x53e7f7,tt['x']+=(Fn['x']-tt['x'])*Ss['x'],tt['y']+=(Fn['y']-tt['y'])*Ss['y'],tt['z']+=(Fn['z']-tt['z'])*Ss['z'],_0x118561['initialVel'+'ocity']>-0x1234+0x2a5*-0x5+0x649*0x5&&(_0x118561['emitterSha'+'pe']===qb?(He['copy'](Ss)['mulScalar'](-0x209*0xd+-0x2458+-0x8f9*-0x7)['sub'](A['ONE'])['normalize'](),tt['add'](He['mulScalar'](_0x118561['initialVel'+'ocity']))):tt['add'](A['FORWARD']['mulScalar'](_0x118561['initialVel'+'ocity']))),qt['x']+=(Ln['x']-qt['x'])*Ss['x'],qt['y']+=(Ln['y']-qt['y'])*Ss['y'],qt['z']+=(Ln['z']-qt['z'])*Ss['z'],_0x3ff2cd+=(_0x505779-_0x3ff2cd)*Ss['y'],_0x267fa0=(_0x267fa0+(_0xf6fc03-_0x267fa0)*(_0x36935d*(-0x1*0x24df+0x15c1*0x3+-0x2ab*-0x4)%(-0x2c2*0xb+-0x53d+0x2394)))*b_,_0x946bea=(_0x40b123-_0x1ed09c)*(_0x36935d*(-0xd*0x2b7+0x15*-0x18f+0x47ee)%(-0x4a*-0x6e+0xc*0x19b+-0x330f)),_0x118561['meshInstan'+'ce']['node']&&(_0x118561['localSpace']?(tt['x']/=oi['x'],tt['y']/=oi['y'],tt['z']/=oi['z']):$d['transformP'+'oint'](tt,tt)),_0x118561['localSpace']?(qd['transformP'+'oint'](qt,qt),tt['add'](qt)['add'](eo)):(tt['add'](qt['mul'](oi)),tt['add'](eo['mul'](oi))),Gl['copy'](tt),w_['copy'](Dn)['add'](tt['mulScalar'](_0x2603f6)),Ct['copy'](w_),_0x56cd9b[_0x44e042*re]=Ct['x'],_0x56cd9b[_0x44e042*re+(0x97+0x19bd+-0x1a53)]=Ct['y'],_0x56cd9b[_0x44e042*re+(0x14c2+-0x3b7+-0x1109)]=Ct['z'],_0x56cd9b[_0x44e042*re+(0x1d37+-0x2650+0x91c)]+=_0x3ff2cd*_0x2603f6,_0x118561['wrap']&&_0x118561['wrapBounds']&&(_0x118561['localSpace']||Ct['sub'](_0x235e4d),Ct['x']=Xd(Ct['x'],_0x118561['wrapBounds']['x'])-_0x118561['wrapBounds']['x']*(-0x1333+-0x13*0x86+0x1d25+0.5),Ct['y']=Xd(Ct['y'],_0x118561['wrapBounds']['y'])-_0x118561['wrapBounds']['y']*(0x12e3+0x119c+-0x247f+0.5),Ct['z']=Xd(Ct['z'],_0x118561['wrapBounds']['z'])-_0x118561['wrapBounds']['z']*(-0x447+0x191f*-0x1+0x1d66+0.5),_0x118561['localSpace']||Ct['add'](_0x235e4d)),_0x118561['sort']>-0x14fe+0x172c*0x1+-0x1*0x22e&&(_0x118561['sort']===-0x10fb+0x1d27*-0x1+0x2e23?(Tr['copy'](Ct)['sub'](_0x561d9a),_0x118561['particleDi'+'stance'][_0x44e042]=-(Tr['x']*Tr['x']+Tr['y']*Tr['y']+Tr['z']*Tr['z'])):_0x118561['sort']===-0x1a7b+-0x253f+0x1*0x3fbc?_0x118561['particleDi'+'stance'][_0x44e042]=_0x2da4c0:_0x118561['sort']===0x1d*0x13+-0x5*0x495+0x14c5&&(_0x118561['particleDi'+'stance'][_0x44e042]=-_0x2da4c0))),_0x173270?_0x2da4c0<0x13c+-0x472+0x336&&(_0x56cd9b[_0x44e042*re+(-0x1*-0x16ee+-0xf29+-0x2*0x3e1)+_0x118561['numParticl'+'esPot']*(0x2*-0xec2+-0xa89*0x2+0x3298)*re]=-(0x5*0x69b+-0x1b5e+-0x5a8*0x1)):(_0x2da4c0>=_0x2ee25e&&(_0x2da4c0-=Math['max'](_0x2ee25e,(_0x118561['numParticl'+'es']-(0x3*0xac1+0x2548+0x17*-0x306))*_0x429737),_0x56cd9b[_0x44e042*re+(0xad*-0x2f+0x1*0xc35+0x1391)+_0x118561['numParticl'+'esPot']*(0x50+0x1227+-0xf*0x13b)*re]=_0x118561['loop']?0x90d*0x1+-0x1*-0x1f01+0x280d*-0x1:-(-0x5*0x261+0x7a*-0x46+0x2d42)),_0x2da4c0<0x11c4+-0x171+-0x1053&&_0x118561['loop']&&(_0x56cd9b[_0x44e042*re+(-0x1129+-0x464+0x1590)+_0x118561['numParticl'+'esPot']*(-0x113*0x19+-0xa7e+0x255b)*re]=-0x17dc+0x1da3+-0x5c6)),_0x56cd9b[_0x44e042*re+(0x1*0x217b+0x201e+0x68f*-0xa)+_0x118561['numParticl'+'esPot']*(0xbf6*0x1+0x1*-0x201+-0x3*0x351)*re]<-0xe5c+0x1*0x2639+-0x17dd&&(_0x1145cd=!(-0x1797+0xbc0+0xbd8)),_0x56cd9b[_0x44e042*re+(0x1*0x1453+-0x5*0x76d+0x10d1)+_0x118561['numParticl'+'esPot']*re]=_0x2da4c0;for(let _0x2735ab=-0xb6f+0x11ca+-0x65b;_0x2735ab<_0x118561['numParticl'+'eVerts'];_0x2735ab++){const _0x28107d=(_0x27d422*_0x118561['numParticl'+'eVerts']+_0x2735ab)*(_0x118561['useMesh']?0x3*-0x30a+0x26cc+-0x1da8:-0x26b7+0x248*0xc+0xb5b);let _0x2dfaa7=_0x118561['vbCPU'][_0x28107d],_0x100a81=_0x118561['vbCPU'][_0x28107d+(-0x2e5*0x3+-0xd*0x2fe+0x17cb*0x2)],_0x498607=_0x118561['vbCPU'][_0x28107d+(-0x68d+-0x4ee*-0x2+-0x34d)];_0x1145cd||(_0x2dfaa7=_0x100a81=_0x498607=-0x1832+-0x589+0x1dbb);const _0x3870e0=_0x27d422*_0x118561['numParticl'+'eVerts']*_0x22ee30+_0x2735ab*_0x22ee30;_0x435a29[_0x3870e0]=Ct['x'],_0x435a29[_0x3870e0+(-0x3*-0x3a+0x2219+0x1*-0x22c6)]=Ct['y'],_0x435a29[_0x3870e0+(0x22ae+0x1*0x1b5a+-0x3e06)]=Ct['z'],_0x435a29[_0x3870e0+(0x1713*-0x1+0x1ab7+-0x3a1)]=_0x119c90,_0x435a29[_0x3870e0+(0x16a5+0x1e2a+-0x34cb)]=_0x118561['alignToMot'+'ion']?_0x33a407:_0x56cd9b[_0x44e042*re+(-0x1528*0x1+-0x18e4+-0x1*-0x2e0f)],_0x435a29[_0x3870e0+(0x3e*-0x81+-0x1*0x1f51+0x14dc*0x3)]=_0x267fa0,_0x435a29[_0x3870e0+(0x1fe4+-0x1c3a+-0x3a4)]=_0x946bea,_0x435a29[_0x3870e0+(0x1*-0x2529+-0xb31*-0x1+-0x533*-0x5)]=Gl['x'],_0x435a29[_0x3870e0+(-0x7a9*-0x1+-0x71*0x2b+0xb5a)]=_0x2dfaa7,_0x435a29[_0x3870e0+(-0xafb*0x3+0x1fab+0x14f)]=_0x100a81,_0x435a29[_0x3870e0+(-0x25ce+0x7c6+0x1e12)]=_0x498607,_0x435a29[_0x3870e0+(-0x215*0x12+-0x124b+0x26*0x178)]=Gl['y'],_0x435a29[_0x3870e0+(-0x1f21*-0x1+-0x268f+0x77a)]=_0x44e042,_0x435a29[_0x3870e0+(0x2a*0x2b+-0x7a*-0x34+-0x1fc9)]=Gl['z'],_0x435a29[_0x3870e0+(0x125b+-0x2c1*0x3+0x101*-0xa)]=_0x118561['vbCPU'][_0x28107d+(-0x196c+-0x215*0x5+0x23d8)],_0x118561['useMesh']&&(_0x435a29[_0x3870e0+(-0x229*-0x1+-0x4f*-0x59+-0x9db*0x3)]=_0x118561['vbCPU'][_0x28107d+(-0x1*0x1031+0x9d*-0x29+0x295a)],_0x435a29[_0x3870e0+(0x5*-0x6b9+0x16c8+0xae5)]=_0x118561['vbCPU'][_0x28107d+(-0x39d+-0x2*-0x262+-0x122)]);}}if(_0x118561['sort']>Ou&&_0x118561['camera']){const _0x2126be=_0x118561['useMesh']?0x3e*-0x53+-0x16eb+0x2b0b:0x1*-0x1895+0x33*-0xb1+0x3bdc,_0x49cabd=_0x118561['particleDi'+'stance'];for(let _0x5bd211=0x270d+0x1f60+-0x466d*0x1;_0x5bd211<_0x118561['numParticl'+'es'];_0x5bd211++)_0x5cc3a2[_0x5bd211][0x226e+-0x1ec4+-0x3aa]=_0x5bd211,_0x5cc3a2[_0x5bd211][-0xe77+0xf4c+0x2*-0x6a]=_0x49cabd[Math['floor'](_0x118561['vbCPU'][_0x5bd211*_0x118561['numParticl'+'eVerts']*_0x2126be+(0xb9*0x5+0x202a+-0x23c4)])];_0x118561['vbOld']['set'](_0x118561['vbCPU']),_0x5cc3a2['sort']((_0x4f4c29,_0x309774)=>_0x4f4c29[-0x374*-0x8+-0x1206*-0x1+0x39*-0xcd]-_0x309774[-0x26c0+0xdeb+0x121*0x16]);for(let _0x3de623=-0x556+0x8df*-0x1+0xe35;_0x3de623<_0x118561['numParticl'+'es'];_0x3de623++){const _0x257621=_0x5cc3a2[_0x3de623][-0x584*0x7+0x2550+0x14c]*_0x118561['numParticl'+'eVerts']*_0x2126be,_0x19cd59=_0x3de623*_0x118561['numParticl'+'eVerts']*_0x2126be;for(let _0x2c9e74=0x3*-0xa3+-0x2185+-0x11b7*-0x2;_0x2c9e74<_0x118561['numParticl'+'eVerts']*_0x2126be;_0x2c9e74++)_0x118561['vbCPU'][_0x19cd59+_0x2c9e74]=_0x118561['vbOld'][_0x257621+_0x2c9e74];}}}}const T_=new Js(),A_=new Js(),E_=new Js();class e1{constructor(_0x88d45b,_0x4ffecf){this['_emitter']=_0x88d45b,this['frameRando'+'mUniform']=new Float32Array(0x1e9*0x9+-0x107c*0x2+0xfca),this['emitterPos'+'Uniform']=new Float32Array(0x7b6+0xd*0x243+0x251a*-0x1),this['emitterSca'+'leUniform']=new Float32Array([0x1d99*-0x1+0x1a2f*-0x1+0x1*0x37c9,0x197f+0x7a2*0x3+-0xc19*0x4,-0x12cc+0x1822+0xd*-0x69]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x36b*0x1+0x3d*0x21+-0xb45),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x1685*0x1+0xe41+-0x24c3),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1f18+-0xdcc*-0x1+-0x2ce1*0x1),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x1*-0x1699+0x49d*0x6+-0x1922*0x2),this['constantPa'+'rticleTexI'+'N']=_0x4ffecf['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x4ffecf['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x4ffecf['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x4ffecf['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x4ffecf['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x4ffecf['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x4ffecf['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x4ffecf['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x4ffecf['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x4ffecf['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x4ffecf['scope']['resolve']('delta'),this['constantRa'+'te']=_0x4ffecf['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x4ffecf['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x4ffecf['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x4ffecf['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x4ffecf['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x4ffecf['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x4ffecf['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x4ffecf['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x4ffecf['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x4ffecf['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x4ffecf['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x4ffecf['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x4ffecf['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x4ffecf['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x4ffecf['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x4ffecf['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x4ffecf['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x4ffecf['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x4ffecf['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x4ffecf['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x4ffecf['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x4ffecf['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x4ffecf['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x4ffecf['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x4ffecf['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x4ffecf['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x269*-0xa+0xd*-0x2a1+0x3a47]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1*0x13e2+-0x3*0x707+0xe*0x16]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0xd1a+0x1*0x1aa1+-0xd85]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x16b5*0x1+-0x5*0x72d+0xd2c]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x19d5+-0x34e+0x782*-0x3]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x2*-0x41e+0x1*-0xaca+0x1308]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x123*0x16+0x3d*0x52+-0x118*-0x5]=Math['random'](),this['frameRando'+'mUniform'][-0x149*-0xe+-0x1099*-0x1+-0x2296]=Math['random'](),this['frameRando'+'mUniform'][0x2*-0x388+0x6ae+0x64]=Math['random']();}['update'](_0x1144dd,_0x189ba0,_0x5342ad,_0x2a9c29,_0x1ea5df){G['pushGpuMar'+'ker'](_0x1144dd,'ParticleGP'+'U');const _0x5412f3=this['_emitter'];_0x1144dd['setBlendSt'+'ate'](bt['NOBLEND']),_0x1144dd['setDepthSt'+'ate'](us['NODEPTH']),_0x1144dd['setCullMod'+'e'](vt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0xf23+-0x221e+0x12fc)/_0x5412f3['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x5412f3['precision']),this['constantNu'+'mParticles']['setValue'](_0x5412f3['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x5412f3['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x5412f3['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x5412f3['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x5412f3['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x5412f3['internalTe'+'x3']);const _0x6bc12a=_0x5412f3['meshInstan'+'ce']['node'],_0x19296a=_0x6bc12a===null?A['ONE']:_0x6bc12a['localScale'];if(_0x5412f3['pack8']){this['worldBound'+'sMulUnifor'+'m'][0x12*0x167+-0x3f+-0x51*0x4f]=_0x5412f3['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0x7d*-0x45+-0x1*0x167+-0x2049]=_0x5412f3['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x551+0x1*0x1ab1+-0x10*0x200]=_0x5412f3['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x29c*0x1+0x16fa+-0x21*0x9e]=_0x5412f3['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x15cb+0x1465+-0x2a2f]=_0x5412f3['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x52*-0x75+-0x2359+-0x1*0x21f]=_0x5412f3['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x650652=_0x5412f3['maxVel']*Math['max'](Math['max'](_0x19296a['x'],_0x19296a['y']),_0x19296a['z']);_0x650652=Math['max'](_0x650652,-0x3*-0xbdd+-0x5*-0x4da+-0x3bd8),this['constantMa'+'xVel']['setValue'](_0x650652);}const _0x1c462b=_0x6bc12a===null||_0x5412f3['localSpace']?A['ZERO']:_0x6bc12a['getPositio'+'n'](),_0x313821=_0x6bc12a===null?q['IDENTITY']:_0x6bc12a['getWorldTr'+'ansform']();_0x5412f3['emitterSha'+'pe']===qs?(T_['setFromMat'+'4'](_0x189ba0),this['constantSp'+'awnBounds']['setValue'](T_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x5342ad)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x5412f3['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x5412f3['emitterRad'+'ius']===0x1*0x543+-0x20f2+0x13*0x175?-0x614+0x84a+-0x236*0x1:_0x5412f3['emitterRad'+'iusInner']/_0x5412f3['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x5412f3['initialVel'+'ocity']),A_['setFromMat'+'4'](_0x313821),E_['invertMat4'](_0x313821),this['emitterPos'+'Uniform'][-0x923+0x32*0xa4+-0x16e5]=_0x1c462b['x'],this['emitterPos'+'Uniform'][0x3*0xced+0xbbf+-0x3285]=_0x1c462b['y'],this['emitterPos'+'Uniform'][0x1*0x43f+-0x2400+0x1fc3]=_0x1c462b['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x2a9c29),this['constantRa'+'te']['setValue'](_0x5412f3['rate']),this['constantRa'+'teDiv']['setValue'](_0x5412f3['rate2']-_0x5412f3['rate']),this['constantSt'+'artAngle']['setValue'](_0x5412f3['startAngle']*z['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x5412f3['startAngle'+'2']*z['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x5412f3['seed']),this['constantLi'+'fetime']['setValue'](_0x5412f3['lifetime']),this['emitterSca'+'leUniform'][-0xda*0x1f+0x1*0x199f+-0x1*-0xc7]=_0x19296a['x'],this['emitterSca'+'leUniform'][-0x4dd*-0x5+-0x1*-0x1763+-0x1*0x2fb3]=_0x19296a['y'],this['emitterSca'+'leUniform'][0x5d5+0x187d+-0x1e50]=_0x19296a['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](A_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](E_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x5412f3['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x5412f3['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x5412f3['rotSpeedUM'+'ax'][-0x4*-0x998+0x349*-0x5+-0x15f3]);let _0x30e06=_0x5412f3['swapTex']?_0x5412f3['particleTe'+'xOUT']:_0x5412f3['particleTe'+'xIN'];_0x30e06=_0x5412f3['beenReset']?_0x5412f3['particleTe'+'xStart']:_0x30e06;const _0x43bd39=_0x5412f3['swapTex']?_0x5412f3['particleTe'+'xIN']:_0x5412f3['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x30e06),fn(_0x1144dd,_0x5412f3['swapTex']?_0x5412f3['rtParticle'+'TexIN']:_0x5412f3['rtParticle'+'TexOUT'],_0x1ea5df?_0x5412f3['shaderPart'+'icleUpdate'+'OnStop']:_0x5412f3['loop']?_0x5412f3['shaderPart'+'icleUpdate'+'Respawn']:_0x5412f3['shaderPart'+'icleUpdate'+'NoRespawn']),_0x5412f3['material']['setParamet'+'er']('particleTe'+'xOUT',_0x30e06),_0x5412f3['material']['setParamet'+'er']('particleTe'+'xIN',_0x43bd39),_0x5412f3['beenReset']=!(-0x70c+0x1962+0x1*-0x1255),_0x5412f3['swapTex']=!_0x5412f3['swapTex'],_0x5412f3['prevWorldB'+'oundsSize']['copy'](_0x5412f3['worldBound'+'sSize']),_0x5412f3['prevWorldB'+'oundsCente'+'r']['copy'](_0x5412f3['worldBound'+'s']['center']),_0x5412f3['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x1144dd);}}class t1 extends Nt{['generateKe'+'y'](_0x3849f9){let _0x17fe8d='particle_'+Nt['definesHas'+'h'](_0x3849f9['defines'])+'_';for(const _0x478fcd in _0x3849f9)_0x3849f9['hasOwnProp'+'erty'](_0x478fcd)&&(_0x17fe8d+=_0x3849f9[_0x478fcd]);return _0x17fe8d;}['_animTex'](_0xecb67a){let _0xcd6aec='';return _0xcd6aec+=_0xecb67a['animTexLoo'+'p']?j['particleAn'+'imFrameLoo'+'pVS']:j['particleAn'+'imFrameCla'+'mpVS'],_0xcd6aec+=j['particleAn'+'imTexVS'],_0xcd6aec;}['createShad'+'erDefiniti'+'on'](_0x2529f2,_0x32b774){const _0x3139ed='#define\x20PA'+'RTICLE_'+(_0x32b774['useCpu']?'CPU':'GPU')+'\x0a';let _0x3c6385='#define\x20PA'+'RTICLE\x0a'+_0x3139ed,_0x2e086f='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x3139ed;_0x32b774['mesh']&&(_0x2e086f+='#define\x20US'+'E_MESH\x0a'),_0x32b774['localSpace']&&(_0x2e086f+='#define\x20LO'+'CAL_SPACE\x0a'),_0x32b774['screenSpac'+'e']&&(_0x2e086f+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x32b774['animTex']&&(_0x2e086f+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x32b774['animTex']&&(_0x2e086f+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x32b774['animTex']&&(_0x2e086f+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x32b774['normal']===0xc35+-0x19*-0x112+0x26f5*-0x1&&(_0x2e086f+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x32b774['normal']===-0x1*0xa7f+0x18e+0x8f2&&(_0x2e086f+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x32b774['soft']&&(_0x2e086f+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x9ef41=_0x32b774['customFace']?j['particle_c'+'ustomFaceV'+'S']:j['particle_b'+'illboardVS'];_0x32b774['useCpu']?(_0x32b774['soft']>0x4d3+-0x92f*0x1+0x45c&&(_0x2e086f+=j['screenDept'+'hPS']),_0x2e086f+=j['particle_c'+'puVS'],_0x32b774['localSpace']&&(_0x2e086f+=j['particle_l'+'ocalShiftV'+'S']),_0x32b774['animTex']&&(_0x2e086f+=this['_animTex'](_0x32b774)),_0x32b774['alignToMot'+'ion']&&(_0x2e086f+=j['particle_p'+'ointAlongV'+'S']),_0x2e086f+=_0x32b774['mesh']?j['particle_m'+'eshVS']:_0x9ef41,_0x32b774['normal']===0x8b9+0x1*-0x1462+0xbaa&&(_0x2e086f+=j['particle_n'+'ormalVS']),_0x32b774['normal']===-0x1b60+-0x1e7*0x3+0x2117&&(_0x2e086f+=j['particle_T'+'BNVS']),_0x32b774['stretch']>-0x48*-0x60+-0x90*-0x1+-0x3f0*0x7&&(_0x2e086f+=j['particle_s'+'tretchVS']),_0x2e086f+=j['particle_c'+'pu_endVS'],_0x32b774['soft']>0x15aa+0x2*0xb6c+-0x2c82&&(_0x2e086f+=j['particle_s'+'oftVS'])):(_0x2e086f+=j['particle_i'+'nitVS'],_0x2e086f+=_0x32b774['pack8']?j['particleIn'+'putRgba8PS']:j['particleIn'+'putFloatPS'],_0x32b774['soft']>-0x2525+-0x7*0x529+-0x3*-0x186c&&(_0x2e086f+=j['screenDept'+'hPS']),_0x2e086f+=j['particleVS'],_0x32b774['localSpace']&&(_0x2e086f+=j['particle_l'+'ocalShiftV'+'S']),_0x32b774['animTex']&&(_0x2e086f+=this['_animTex'](_0x32b774)),_0x32b774['wrap']&&(_0x2e086f+=j['particle_w'+'rapVS']),_0x32b774['alignToMot'+'ion']&&(_0x2e086f+=j['particle_p'+'ointAlongV'+'S']),_0x2e086f+=_0x32b774['mesh']?j['particle_m'+'eshVS']:_0x9ef41,_0x32b774['normal']===-0x1*-0x1b25+0x13a1+-0x27*0x133&&(_0x2e086f+=j['particle_n'+'ormalVS']),_0x32b774['normal']===0x3*-0x72f+-0x48*0x54+0x2d2f&&(_0x2e086f+=j['particle_T'+'BNVS']),_0x32b774['stretch']>0xc*0xc4+-0x2*-0x132d+-0x2f8a&&(_0x2e086f+=j['particle_s'+'tretchVS']),_0x2e086f+=j['particle_e'+'ndVS'],_0x32b774['soft']>0x3e1*0x3+0x5*-0x475+-0x3a*-0x2f&&(_0x2e086f+=j['particle_s'+'oftVS'])),_0x2e086f+='}\x0a',_0x32b774['normal']>0x5*0x7d+0x233f+-0x25b0&&(_0x32b774['normal']===0x902*0x4+0x11*0x15b+-0x3b12?_0x3c6385+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x32b774['normal']===-0x3d*0x8b+0x10b8+0x1*0x1069&&(_0x3c6385+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x3c6385+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x32b774['soft']&&(_0x3c6385+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x3c6385+=j['decodePS'],_0x3c6385+='#include\x20\x22'+'gammaPS\x22\x0a',_0x3c6385+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x3c6385+='#include\x20\x22'+'fogPS\x22\x0a',_0x32b774['normal']===-0x2402+0xbcc*0x1+0x1838&&(_0x3c6385+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x32b774['soft']>-0x28*0xdb+-0x247a+0x46b2*0x1&&(_0x3c6385+=j['screenDept'+'hPS']),_0x3c6385+=j['particlePS'],_0x32b774['soft']>-0x5b*0x3a+-0xfd*0x11+0x256b&&(_0x3c6385+=j['particle_s'+'oftPS']),_0x32b774['normal']===0x25ba+-0x305*0x9+-0xa8c&&(_0x3c6385+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x32b774['normal']===-0x165f+0x62b+0x1036&&(_0x3c6385+=j['particle_n'+'ormalMapPS']),_0x32b774['normal']>0x2325+0x2645+0x496a*-0x1&&(_0x3c6385+=_0x32b774['halflamber'+'t']?j['particle_h'+'alflambert'+'PS']:j['particle_l'+'ambertPS']),_0x32b774['normal']>0xf94+-0x2374*-0x1+-0x8e*0x5c&&(_0x3c6385+=j['particle_l'+'ightingPS']),_0x32b774['blend']===Gt?_0x3c6385+=j['particle_b'+'lendNormal'+'PS']:_0x32b774['blend']===bp?_0x3c6385+=j['particle_b'+'lendAddPS']:_0x32b774['blend']===wp&&(_0x3c6385+=j['particle_b'+'lendMultip'+'lyPS']),_0x3c6385+=j['particle_e'+'ndPS'];const _0x5dfdb7=new Map(Object['entries']({...j,..._0x32b774['chunks']}));return Ft['createDefi'+'nition'](_0x2529f2,{'name':'ParticleSh'+'ader','vertexCode':_0x2e086f,'fragmentCode':_0x3c6385,'fragmentDefines':_0x32b774['defines'],'fragmentIncludes':_0x5dfdb7,'vertexDefines':_0x32b774['defines']});}}const s1=new t1();class i1 extends Sn{constructor(_0x4197a2){super(),c(this,'emitter',null),(this['emitter']=_0x4197a2,b['assert'](_0x4197a2));}['getShaderV'+'ariant'](_0x3268ad){const {device:_0x1bcd5d,scene:_0x362d5a,cameraShaderParams:_0x1ae756}=_0x3268ad,{emitter:_0x2e6cd5}=this,_0x28c892={'defines':Op(this,_0x3268ad),'pass':xn,'useCpu':this['emitter']['useCpu'],'normal':_0x2e6cd5['lighting']?_0x2e6cd5['normalMap']!==null?0x926+-0x1*0xe50+0x52c*0x1:0x18ba+-0xbc3+-0xcf6:0x820+-0x1*0x1f0d+0x16ed,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x1ae756==null?void(0x395+0x10f3*0x1+0x2*-0xa44):_0x1ae756['shaderOutp'+'utGamma'])??al,'toneMap':(_0x1ae756==null?void(-0xd4b+-0x7*-0x469+0x2ee*-0x6):_0x1ae756['toneMappin'+'g'])??Pp,'fog':_0x362d5a&&!this['emitter']['noFog']?_0x362d5a['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x2e6cd5['inTools']?!(-0x12ad+0x1fa5+-0xcf7):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==$h},_0x4f4bfb=new Jc(_0x3268ad['viewUnifor'+'mFormat'],_0x3268ad['viewBindGr'+'oupFormat'],_0x3268ad['vertexForm'+'at']),_0x2692d1=za(_0x1bcd5d);return _0x2692d1['register']('particle',s1),_0x2692d1['getProgram']('particle',_0x28c892,_0x4f4bfb,this['userId']);}}const C_=[[-(-0x7*0x105+-0x99f+0x10c3),-(-0x43*-0x89+0x6ed+0x2f*-0xe9)],[0x571*0x5+0x5d9+-0x210d,-(-0x1c04+0x1309+-0x1*-0x8fc)],[-0x45f+-0x40*-0x5+0x320,0x1*-0x9a4+0x15ae+-0xc09],[-(-0x1cc3+0x10a6+0xc1e),0x1f52+-0x23dd+0x246*0x2]];function rs(_0x5d4061,_0x503760,_0x26f172,_0x5952e1,_0xae7565=et,_0x3897b5,_0x21f97f){let _0x2b2aa6=fe;_0x21f97f&&(_0xae7565===Te||_0xae7565===cs)&&(_0x2b2aa6=at);const _0x3791f2=new ce(_0x5d4061,{'width':_0x503760,'height':_0x26f172,'format':_0xae7565,'cubemap':!(0x1*0x271+0x1*0x19fe+-0x1c6e),'mipmaps':!(-0x502*-0x2+0x2381+-0x2d84),'minFilter':_0x2b2aa6,'magFilter':_0x2b2aa6,'addressU':oe,'addressV':oe,'name':'ParticleSy'+'stemTextur'+'e'}),_0x21fb44=_0x3791f2['lock']();if(_0xae7565===Te||_0xae7565===cs){const _0x5e7cb5=new Uint8Array(_0x5952e1['length']);for(let _0x3ae1b0=-0x8*0x472+0x201e*-0x1+0x43ae;_0x3ae1b0<_0x5952e1['length'];_0x3ae1b0++)_0x5e7cb5[_0x3ae1b0]=_0x5952e1[_0x3ae1b0]*_0x3897b5*(-0xb*-0x11+0x1a5c+-0x1a18);_0x5952e1=_0x5e7cb5;}return _0x21fb44['set'](_0x5952e1),_0x3791f2['unlock'](),_0x3791f2;}function M_(_0x382d23){return Math['max'](Math['min'](_0x382d23,0xb12+0x1*-0x6a9+-0xbc*0x6),0x14fc+0x6d*0x52+-0x951*0x6);}const P_=new Ls([0x21fd*0x1+-0x959*0x4+0x367,-0xced+-0x211e+0x2e0b,0x3fb+0x25e3+-0x1*0x29dd,0x1ee6+-0x1a4e+0x498*-0x1]),R_=new Ls([0x1*-0xd55+-0xdf*-0x8+0x65d,0x1445+0x2139+-0x357d,-0xbe*-0x22+-0x64f+-0x12ec,0x1*0x450+-0x1d28+-0x18d9*-0x1]),I_=new Yr([0x3*0x859+0x347*0x9+-0x368a,-0x5b*0x16+-0x388*0x6+0x1d02,0x1103+0x162d+0x599*-0x7,-0x240d+0xaa*0xc+0x1*0x1c15],[-0x65*0x4b+-0x1226+0x2fbd,-0xf7*-0x7+0x1a*-0x29+-0x297,-0x6e8*-0x2+-0x109*-0x7+0x2*-0xa87,0xb5*0x17+-0x1*-0x24f5+-0xd4e*0x4],[-0x5*-0x53b+-0x1cf4+0x3*0xef,-0x21f9+-0x1bbb+0x1eda*0x2,0x5fe+0x22a8+-0x28a5,-0x266e+0x8ea+0x4*0x761]),r1=new Yr([0x2017+0x88*0x34+-0x1*0x3bb7,0x505*-0x3+-0xd08*-0x1+-0x1*-0x208,-0x1*-0x353+-0x72*0x30+0x120e,0x48b+-0x624+0x19a],[-0xc7e+-0xcd8+-0xcab*-0x2,-0x2*-0x595+-0xfbb*-0x1+-0x1ae4,-0x7*-0xcb+-0x167d+0x10f1*0x1,-0x11fc+0xf2b+0x26*0x13],[-0x44e*-0x2+0x2549+0x17b*-0x1f,0x9f*0x4+-0x1*0x2566+-0x4fd*-0x7,-0x5*0x203+0x111a+-0x70a,-0x1b5b+-0x19d7+0x1*0x3533]);let li=-0x1728+0xd*0x2d7+-0xdc1;const Wl=-0x2d9*0x3+-0x539+-0x62*-0x24,hi=new Float32Array(0x223+-0x1*0xddf+0xbbf),Ar=new q(),D_=new A(),$l=new A(),ql=new A();let Xu,yh;function ne(_0xe965a0,_0x720b8b){yh[_0xe965a0]!==void(-0x1bd7+0x1c48*-0x1+-0x3*-0x12b5)&&yh[_0xe965a0]!==null?Xu[_0xe965a0]=yh[_0xe965a0]:Xu[_0xe965a0]=_0x720b8b;}function O0(_0xcd54ad,_0x4f7fa6,_0x1f505d){return(_0xcd54ad*(-0xd81*0x1+-0x18ce+-0x13a7*-0x2)<<0x137b+0xdd*-0x4+-0xff7|_0x4f7fa6*(0x26*0x49+0x17d*-0x2+-0x6dd*0x1)<<-0x2*-0x4cf+-0x1*-0x925+-0x12bb|_0x1f505d*(-0x9e3*-0x1+0x2a5+-0xb89))/(-0x523*0x1+0x5*-0x605+0x233d<<-0x1c83+-0x1dea+0x47*0xd3);}function L_(_0xbb8ee6,_0x174cb5){const _0x284314=_0xbb8ee6['length']/(0x1*0xdd+0x225e+-0x2338),_0x2d34cf=new Array(_0x284314*(0x2*-0xe03+0x22d6+-0x1*0x6cc));for(let _0x29bf22=0xe5*0x1f+-0x8d5+-0x12e6;_0x29bf22<_0x284314;_0x29bf22++)_0x2d34cf[_0x29bf22*(0x1*-0xa+-0x31*-0x8a+-0x1a5c)]=_0xbb8ee6[_0x29bf22*(0x29f*0xd+-0x1b68+-0x6a8)],_0x2d34cf[_0x29bf22*(-0xd2d+-0x3*-0x963+0x2*-0x77c)+(0x45f*0x3+-0x1866+0xb4a)]=_0xbb8ee6[_0x29bf22*(0x1659+-0x2232+0xbdc)+(-0x19+0x1517*-0x1+0x1531)],_0x2d34cf[_0x29bf22*(-0x9b*0xd+-0x697+0x11*0xda)+(-0xdcc+-0x12bb*-0x2+0x1*-0x17a8)]=_0xbb8ee6[_0x29bf22*(0x2474+0x1e4d+-0x2*0x215f)+(-0x1*-0x17f+-0x10d2*0x2+-0x2027*-0x1)],_0x2d34cf[_0x29bf22*(-0x202b+0x1c1*0x14+0xd*-0x39)+(0x14d5*0x1+0x2703+-0x3bd5)]=O0(_0x174cb5[_0x29bf22*(0x18fb+0x49*0x65+-0x35c5*0x1)],_0x174cb5[_0x29bf22*(-0x3eb*0x1+-0x1004+0x13f2)+(-0x298+-0x1ef4*0x1+-0x7*-0x4cb)],_0x174cb5[_0x29bf22*(0x12*-0x95+-0x1159+0x1bd6)+(0x158b+0x2d1*0xa+0x1*-0x31b3)]);return _0x2d34cf;}function n1(_0x2267a1,_0x2ab20a){const _0x4a5c1b=new Array(_0x2ab20a['length']*(0x25c0+-0x439+-0x2183));for(let _0x400056=0x2*0x56+0x4*-0x5de+0x16cc;_0x400056<_0x2ab20a['length'];_0x400056++)_0x4a5c1b[_0x400056*(0x1*0x38a+0x258+-0x1*0x5de)]=_0x2267a1[_0x400056*(-0x7*0x1f0+0xc58+0x13b)],_0x4a5c1b[_0x400056*(-0xc0a+0x16f*0x3+0x7c1)+(-0x1803+0x269a+-0xe96)]=_0x2267a1[_0x400056*(0x806+0x1b05+0x2308*-0x1)+(0x17e0+0xe*0x8a+-0x1f6b)],_0x4a5c1b[_0x400056*(0x1d9b+-0x145e+0x939*-0x1)+(-0x117e+-0x20fc+0x3*0x10d4)]=_0x2267a1[_0x400056*(0x1ba6+-0x132e*-0x1+0xeb*-0x33)+(-0x209*0xd+0x98*0x15+0xdff)],_0x4a5c1b[_0x400056*(-0x311*-0x3+-0x57*-0x3+-0xa34)+(-0x8b5+-0x5*-0x371+-0x1*0x87d)]=_0x2ab20a[_0x400056];return _0x4a5c1b;}function a1(_0x4b532c,_0x3e57eb,_0x4acb08,_0x52cc0c,_0x2e6406){const _0x1c69ca=new Array(_0x4b532c['length']*(-0x1f66+-0x462+0x23cc));for(let _0x33e968=-0x19ee+-0x182a+0x1*0x3218;_0x33e968<_0x4b532c['length'];_0x33e968++)_0x1c69ca[_0x33e968*(0x2106+0x1e87+0xcb5*-0x5)]=_0x4b532c[_0x33e968],_0x1c69ca[_0x33e968*(-0x1e15+0x1651+0x3*0x298)+(0x13a*-0xa+-0x1*-0x1db6+0x1*-0x1171)]=_0x3e57eb[_0x33e968],_0x1c69ca[_0x33e968*(-0x279*0xf+-0xc0b*-0x3+0x5*0x32)+(-0x1e11+-0x1*0x263b+0x444e)]=-0x1*-0x21e6+-0xf9e+0x48*-0x41,_0x1c69ca[_0x33e968*(-0x14c2+0x2129+0x3*-0x421)+(0x1*-0x2239+0x18d2+0x96a)]=O0(_0x4acb08[_0x33e968],_0x52cc0c[_0x33e968],_0x2e6406[_0x33e968]);return _0x1c69ca;}function o1(_0x174d44,_0xd32ca9){const _0x515e65=new Array(_0x174d44['length']*(0x1a0f+0x1*-0x7d7+-0x1234));for(let _0x1b1db1=0x1ff3*-0x1+0x2cd*0x9+-0x35f*-0x2;_0x1b1db1<_0x174d44['length'];_0x1b1db1++)_0x515e65[_0x1b1db1*(-0x616*0x5+0x1*0x24df+0x1*-0x66d)]=_0x174d44[_0x1b1db1],_0x515e65[_0x1b1db1*(0x83*-0xe+0x1f41+-0x1813)+(-0x2577+-0xc38+0x31b0)]=_0xd32ca9[_0x1b1db1],_0x515e65[_0x1b1db1*(0xae1+0xe*0x33+-0xda7*0x1)+(-0xc18+-0x5*0x14d+0x129b)]=0x191e+-0x53a+0x26*-0x86,_0x515e65[_0x1b1db1*(-0x3*-0x4e1+0x1f22*-0x1+0x1083)+(-0x12ec+-0x1*0x193+-0x2*-0xa41)]=0xd*-0xba+-0x1f81+0x28f3;return _0x515e65;}function l1(_0x26632a){const _0x49ebf3=Math['max'](_0x26632a['rate'],_0x26632a['rate2'])*_0x26632a['numParticl'+'es']+_0x26632a['lifetime'];return Date['now']()+_0x49ebf3*(0x1812*0x1+-0x132d+-0xfd);}function h1(_0x4b5c8b,_0x3cb07a){const _0xb4e8c0=new Float32Array(_0x4b5c8b['length']);for(let _0x5e8c23=0xee6+-0xcfc+0x46*-0x7;_0x5e8c23<_0x4b5c8b['length'];_0x5e8c23++)_0xb4e8c0[_0x5e8c23]=_0x4b5c8b[_0x5e8c23]-_0x3cb07a[_0x5e8c23];return _0xb4e8c0;}function kr(_0x5e9bca,_0xc2ec4b){const _0x358be0=_0xc2ec4b['length'],_0x429cca=_0x5e9bca['length']/_0x358be0;for(let _0x3d1e4d=-0x1eb5*-0x1+0x172c+0x35e1*-0x1;_0x3d1e4d<_0x429cca;_0x3d1e4d++)for(let _0x4a53e=-0x11*-0x2e+-0xfa1+0x1d*0x6f;_0x4a53e<_0x358be0;_0x4a53e++){const _0x59a771=Math['abs'](_0x5e9bca[_0x3d1e4d*_0x358be0+_0x4a53e]);_0xc2ec4b[_0x4a53e]=Math['max'](_0xc2ec4b[_0x4a53e],_0x59a771);}}function c1(_0x7d0cc1,_0xe0d1f1){const _0x4c6441=_0xe0d1f1['length'],_0x29fccf=_0x7d0cc1['length']/_0x4c6441;for(let _0x69594c=-0x47*-0x57+0x1340+-0x1*0x2b61;_0x69594c<_0x29fccf;_0x69594c++)for(let _0x1caee7=0x183a+-0x1ccd+0x1*0x493;_0x1caee7<_0x4c6441;_0x1caee7++)_0x7d0cc1[_0x69594c*_0x4c6441+_0x1caee7]/=_0xe0d1f1[_0x1caee7]===-0x1af*0x1+-0x7*-0x28d+-0x102c?0x1*-0xb29+0x11a2+-0x4*0x19e:_0xe0d1f1[_0x1caee7],_0x7d0cc1[_0x69594c*_0x4c6441+_0x1caee7]*=0x33a*-0x2+0x1b95+-0x1521+0.5,_0x7d0cc1[_0x69594c*_0x4c6441+_0x1caee7]+=0x2*-0xc31+-0x653+0x1*0x1eb5+0.5;}function Er(_0x492ba1,_0x3053eb,_0x14fdb1){const _0x5c2919=h1(_0x3053eb,_0x492ba1);return kr(_0x5c2919,_0x14fdb1),c1(_0x5c2919,_0x14fdb1),_0x5c2919;}const d1=new Ht();class u1{constructor(_0x37f1e4,_0x17181f){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x37f1e4;const _0x5b8b2a=_0x37f1e4,_0x28517f=0x385+-0x5*-0x48b+0x6*-0x45a;this['precision']=_0x28517f,this['_addTimeTi'+'me']=0x1549*0x1+0xb*-0x17d+0x4ea*-0x1,Xu=this,yh=_0x17181f,ne('numParticl'+'es',-0x97*0x34+-0x8d8+-0x43*-0x97),this['numParticl'+'es']>_0x37f1e4['maxTexture'+'Size']&&(b['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x37f1e4['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x37f1e4['maxTexture'+'Size']),ne('rate',-0x1e0a*0x1+0x1*0x1399+0x17e*0x7),ne('rate2',this['rate']),ne('lifetime',0x91a+-0x57*0x69+-0x1ac7*-0x1),ne('emitterExt'+'ents',new A(0x1*0x11fb+0x53*-0x3+-0x1102,-0x9*0x21f+-0xe06+0x31*0xad,0x2*-0x8ee+-0x333*0x5+0x21db)),ne('emitterExt'+'entsInner',new A(-0x1e15+-0xa07+0x281c,0x1*-0x23aa+-0x21fa*-0x1+-0x30*-0x9,-0x12*-0x3b+-0x1d15+0x18ef)),ne('emitterRad'+'ius',-0x6*0x35+0x15*-0x82+0x17d*0x8),ne('emitterRad'+'iusInner',0x9dd*0x2+-0x23b4+-0x5*-0x332),ne('emitterSha'+'pe',qs),ne('initialVel'+'ocity',0x11fa+-0xdee+-0x40b),ne('wrap',!(0x21f5*-0x1+-0x51e*-0x3+-0x6*-0x31a)),ne('localSpace',!(-0x2156+0x2482+-0x32b)),ne('screenSpac'+'e',!(-0x2a5*0xa+0x808+0x126b)),ne('wrapBounds',null),ne('colorMap',this['defaultPar'+'amTexture']),ne('normalMap',null),ne('loop',!(-0x1672+-0x1199+-0x3*-0xd59)),ne('preWarm',!(0x1904+0xc50+-0x2553)),ne('sort',Ou),ne('mode',u0),ne('scene',null),ne('lighting',!(0x1d0d+0x13*-0xe5+-0xc0d)),ne('halfLamber'+'t',!(0x3*0x80e+0x56b*-0x2+-0xd53)),ne('intensity',-0x1a97+-0x25d8+-0x407*-0x10),ne('stretch',-0x805+0x90*-0x13+0x12b5),ne('alignToMot'+'ion',!(0x15a4+-0x1a4d*-0x1+-0xd0*0x3b)),ne('depthSofte'+'ning',0x1fd2+0xa7*-0x3b+0x1*0x6ab),ne('mesh',null),ne('particleNo'+'rmal',new A(-0x1f*0x2+-0x1657+0x1695,0x466*0x2+-0x1*0x24e3+-0x706*-0x4,0x1*-0x21cd+-0x97*-0x2+0x209f)),ne('orientatio'+'n',$h),ne('depthWrite',!(-0x1163+0x205e+-0xefa)),ne('noFog',!(-0x1*0x1ff1+-0x17*-0x2+-0xfe2*-0x2)),ne('blendType',Gt),ne('node',null),ne('startAngle',-0x2512+-0x145+0x1*0x2657),ne('startAngle'+'2',this['startAngle']),ne('animTilesX',0x1e0e+0xd52+0x1*-0x2b5f),ne('animTilesY',-0x8*-0x2d0+-0x1*0x1a85+-0x1*-0x406),ne('animStartF'+'rame',-0xce3*0x2+0x2ea+0x4c*0x4d),ne('animNumFra'+'mes',-0x1*0x1da3+-0xe*0x1d5+0x6*0x937),ne('animNumAni'+'mations',-0x5ea*0x1+-0x704*0x5+0x28ff),ne('animIndex',-0xb5*0x13+-0x2469+0x31d8),ne('randomizeA'+'nimIndex',!(-0x6*0x55d+-0xc0d+0x12a*0x26)),ne('animSpeed',-0x1*-0x203b+0xeaf*-0x2+-0x2dc),ne('animLoop',!(-0x2421+0xc39+0x17e8)),this['_gpuUpdate'+'r']=new e1(this,_0x5b8b2a),this['_cpuUpdate'+'r']=new JM(this),this['emitterPos'+'Uniform']=new Float32Array(-0x2650+0x1f7f+-0x13*-0x5c),this['wrapBounds'+'Uniform']=new Float32Array(0xb49+-0x2239+0x5*0x497),this['emitterSca'+'leUniform']=new Float32Array([-0xb5*-0x1b+-0x36c+-0xfaa,0x139*0xb+0x49a+-0x120c,-0x217d*0x1+0x155e*-0x1+0x36dc]),ne('colorGraph',r1),ne('colorGraph'+'2',this['colorGraph']),ne('scaleGraph',R_),ne('scaleGraph'+'2',this['scaleGraph']),ne('alphaGraph',R_),ne('alphaGraph'+'2',this['alphaGraph']),ne('localVeloc'+'ityGraph',I_),ne('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),ne('velocityGr'+'aph',I_),ne('velocityGr'+'aph2',this['velocityGr'+'aph']),ne('rotationSp'+'eedGraph',P_),ne('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),ne('radialSpee'+'dGraph',P_),ne('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x2259+-0x1d*0xad+0x35f4),this['animParams']=new Float32Array(-0x8ef*0x1+0x1e0f+0x151c*-0x1),this['animIndexP'+'arams']=new Float32Array(-0xb*0x349+-0x8f0+-0xf07*-0x3),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(-0x6b*-0x5+-0x1af7+0x18e1),this['useMesh']=!(-0x153e+-0x1*0xdb9+0x22f7),this['useCpu']=!_0x37f1e4['supportsGp'+'uParticles'],this['pack8']=!(-0x90e+0x175b+-0xe4d),this['localBound'+'s']=new ve(),this['worldBound'+'sNoTrail']=new ve(),this['worldBound'+'sTrail']=[new ve(),new ve()],this['worldBound'+'s']=new ve(),this['worldBound'+'sSize']=new A(),this['prevWorldB'+'oundsSize']=new A(),this['prevWorldB'+'oundsCente'+'r']=new A(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new A(),this['worldBound'+'sAdd']=new A(),this['timeToSwit'+'chBounds']=0x1*-0x2090+0xa55+0x163b,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x1*0x19b1+-0x27*0x11+0x171a*-0x1,this['numParticl'+'eIndices']=0x1*-0x698+0x1*0x2447+0x11*-0x1bf,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0xb5*0x19+-0xaea+-0x233*-0xd,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(0x126d+-0x1eeb+0xc7f)/(0x1a1*-0x2+0x1638+0x31f*-0x6),this['maxSubStep'+'s']=0xd11+-0x1dbd*0x1+0x10b6,this['simTime']=-0x10*0x129+0xf7c*-0x2+-0x3188*-0x1,this['simTimeTot'+'al']=0x47*0x86+0x3*-0xc22+-0xc4,this['beenReset']=!(-0x3*0x213+-0x143c+0x1a76),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return b['assert'](this['graphicsDe'+'vice']),d1['get'](this['graphicsDe'+'vice'],()=>{const _0x16e8cc=new Float32Array(-0x14b*0x11+-0x92*-0x33+-0x1*0x31b);for(let _0x288df4=-0x1f75+-0xe9b+0x2e10;_0x288df4<0x16aa+-0x1565*0x1+0x67*-0x3;_0x288df4++)for(let _0xab493=0xfb7+0x3d*0x79+-0x2c8c;_0xab493<0x24e0+0x1*0x2485+0x4955*-0x1;_0xab493++){const _0x485341=_0xab493+(0x3*-0x9eb+0x25b3*0x1+-0x7f1)-(-0x197e+-0x1*0x1aad+-0xa1*-0x53+0.5),_0x3e606d=_0x288df4+(0x51*0x7+0x764+0x2*-0x4cd)-(0x2f7*0x1+-0xd*0xd3+0x14c*0x6+0.5),_0x228c1f=M_(-0x2c3*-0x9+-0xd51*-0x1+-0x3*0xcb9-M_(Math['sqrt'](_0x485341*_0x485341+_0x3e606d*_0x3e606d)/(-0x762+-0x5db*-0x5+-0x15d5))-(0x21c5+-0x2*0x7eb+-0x11ef+0.5)),_0x141158=_0x288df4*(-0xb04+-0x8*0x34b+0x256c)+_0xab493;_0x16e8cc[_0x141158*(-0x13*0x40+0x3a*-0x94+0x264c)]=-0x1061+-0x9*-0x22c+-0x32a,_0x16e8cc[_0x141158*(0x37c+0x1f*-0xa4+0x4*0x419)+(-0x4*0x837+0x26ae+-0x1*0x5d1)]=0x2449+-0x24a*0xd+0x14e*-0x5,_0x16e8cc[_0x141158*(-0x826+-0x102+0x92c)+(0x4*0x503+0x2623*0x1+-0x35*0x119)]=-0x1689+-0x264c+-0x1a*-0x257,_0x16e8cc[_0x141158*(-0xf*0x123+-0x1f45*-0x1+-0xe34)+(0x63e+-0x1b32+0x14f7)]=_0x228c1f;}const _0x1a896c=rs(this['graphicsDe'+'vice'],0x1bd4+-0x3*-0xa36+-0x3a66*0x1,0x7a*-0x35+-0x313*0x8+0x31ea,_0x16e8cc,cs,0x7f9+-0x2023*-0x1+0x1*-0x281b,!(-0x1a*0xa3+0xf10+-0x2*-0xbf));return _0x1a896c['minFilter']=at,_0x1a896c['magFilter']=at,_0x1a896c;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x1f71+0x1307+-0x11*-0xbb)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x1f14+0x1*-0x122e+-0xce5)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x6cb*-0x4+0x23e4+-0x3f0f)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x185e+0x26cc+0xe6d*-0x1)),this['worldBound'+'sAdd']['x']+=-0xf5b+0x1321*0x1+0xa1*-0x6+0.5,this['worldBound'+'sAdd']['y']+=-0xec1*0x1+-0x2f7*-0x5+-0x12+0.5,this['worldBound'+'sAdd']['z']+=-0x49*0x1+0x26f+-0x19*0x16+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0xac56be=!(0x21dc+0x1245+-0x3420);this['emitterSha'+'pe']===qs?_0xac56be=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0xac56be=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0xac56be&&this['calculateL'+'ocalBounds']();}const _0x409473=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x409473),this['worldBound'+'sTrail'][-0x8b*-0x17+0x17*-0x116+0xc7d]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x45*-0x8+0x7a1+-0x2bc*0x2]['add'](this['worldBound'+'sNoTrail']);const _0x3370ab=this['simTimeTot'+'al'];_0x3370ab>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0x184c+-0x26ab+0x11b*0xd]['copy'](this['worldBound'+'sTrail'][0x621*-0x6+-0x16c8+0x3b8f]),this['worldBound'+'sTrail'][-0xc73+0xae5*0x2+0x1de*-0x5]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x3370ab+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x2138+-0x85b+0x2993]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x75*0x4d+0x2a9+0x208a),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x409473),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x409473)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x1511+-0x5b9*0x5+0x1*0x78d-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x258b+-0x128*-0x11+-0x3*0x1311]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x21b1+0xc3c+-0xb7b*0x4]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x9*0xb3+0x3f*0x3+0x58e]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0xf45+-0x1722+0xd*0x9b),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0xbd6+-0x5*0x187+-0x433,this['timeToSwit'+'chBounds']=0xd*0x22+0x23d8+-0x2a*0xe5);}['calculateL'+'ocalBounds'](){let _0x238fe0=Number['MAX_VALUE'],_0x10495a=Number['MAX_VALUE'],_0x4d5c10=Number['MAX_VALUE'],_0x14656e=-Number['MAX_VALUE'],_0x13422e=-Number['MAX_VALUE'],_0x22958d=-Number['MAX_VALUE'],_0x2f87f8=0xd1*0x1f+0x11*-0x15b+-0x244,_0x242960=0x208b+-0xd*-0x28d+-0x41b4;const _0x4f7e02=this['lifetime']/this['precision'],_0xae0cf5=[this['qVelocity'],this['qVelocity2']],_0x2d76d6=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x1adc52=[0x43+-0x5*0x3f7+0x1390,0x9f*0x2e+-0x5b7+-0x16db],_0x237a40=[0x1090+-0x5b8+-0x56c*0x2,-0xfb*0x5+0x1*-0x23da+0x28c1],_0x109c89=[0xb2d+-0x491+-0x69c,0x18d+0x2324+-0x24b1],_0x599714=[-0xb5f+-0x1*-0xdb3+-0x95*0x4,-0x1327+-0x9*-0x3d1+-0x1*0xf32],_0x406330=[-0x1217*-0x2+-0x57d+-0x1b*0x123,0x1*0x449+0x2*-0x6da+0x96b*0x1];let _0x95597a,_0x49d248,_0x1a0543;for(let _0xd3675f=-0x1*-0x12f+-0x1868+0xcd*0x1d;_0xd3675f<this['precision']+(0x1*-0x310+0x259a*-0x1+-0x1*-0x28ab);_0xd3675f++){const _0x1738ea=Math['min'](_0xd3675f,this['precision']-(-0x9*-0x36f+-0x2199+-0x2b3*-0x1));for(let _0x293042=0x14f3+0x243*0xb+0xb75*-0x4;_0x293042<0x4*-0x8e0+-0x4ff*0x5+0x5f*0xa3;_0x293042++)_0x95597a=_0x2d76d6[_0x293042][_0x1738ea*(-0x2554+0x1e54+0x703)+(-0x2509+0x39a*-0x8+0x41d9)]*_0x4f7e02+_0x1adc52[_0x293042],_0x49d248=_0x2d76d6[_0x293042][_0x1738ea*(0x1*-0x1171+-0x1*-0x31c+0xe58)+(0x130*0x16+0x11ce+0x1*-0x2bed)]*_0x4f7e02+_0x237a40[_0x293042],_0x1a0543=_0x2d76d6[_0x293042][_0x1738ea*(0xf73+-0x1*-0x577+-0x1*0x14e7)+(0xc*-0x84+0x1379+-0xd47)]*_0x4f7e02+_0x109c89[_0x293042],_0x238fe0=Math['min'](_0x95597a,_0x238fe0),_0x10495a=Math['min'](_0x49d248,_0x10495a),_0x4d5c10=Math['min'](_0x1a0543,_0x4d5c10),_0x14656e=Math['max'](_0x95597a,_0x14656e),_0x13422e=Math['max'](_0x49d248,_0x13422e),_0x22958d=Math['max'](_0x1a0543,_0x22958d),_0x1adc52[_0x293042]=_0x95597a,_0x237a40[_0x293042]=_0x49d248,_0x109c89[_0x293042]=_0x1a0543;for(let _0x1d6959=0x13ff+0x2ef+0x2*-0xb77;_0x1d6959<-0x1*-0x121d+-0xf*-0x26b+-0x3660;_0x1d6959++)_0x406330[_0x1d6959]+=_0x4f7e02*Math['sqrt'](_0xae0cf5[_0x1d6959][_0x1738ea*(-0x1df*-0xa+-0x118c+0x127*-0x1)+(0x1017*0x1+-0x1*0xc31+-0x1*0x3e6)]*_0xae0cf5[_0x1d6959][_0x1738ea*(-0xacc+-0x67a*-0x1+0x455)+(0x1*0x189d+-0x1d*-0x1d+-0x1*0x1be6)]+_0xae0cf5[_0x1d6959][_0x1738ea*(-0x128d+-0x13d5+0x2665)+(0x5*0x643+0xa76+-0x6*0x6f6)]*_0xae0cf5[_0x1d6959][_0x1738ea*(-0x1045+-0x1d97+0x1*0x2ddf)+(0x1a5c+0x1a76+-0x34d1)]+_0xae0cf5[_0x1d6959][_0x1738ea*(0x460+0x230c*-0x1+-0x1eaf*-0x1)+(-0x5e8+-0x445*0x7+0x8d*0x41)]*_0xae0cf5[_0x1d6959][_0x1738ea*(-0x44d+-0x13*0x15c+0x2*0xf12)+(-0xea+-0x942+0xa2e)]);_0x599714[0x24d2+-0xc2*-0x17+-0x10*0x364]+=this['qRadialSpe'+'ed'][_0x1738ea]*_0x4f7e02,_0x599714[0x2*0x11c2+-0x1087*-0x1+-0x340a]+=this['qRadialSpe'+'ed2'][_0x1738ea]*_0x4f7e02,_0x2f87f8=Math['max'](_0x2f87f8,Math['max'](Math['abs'](_0x599714[-0x16d5*0x1+0x6e1*-0x2+0x2497]),Math['abs'](_0x599714[0x1d4e+-0x1fbe+0x5*0x7d]))),_0x242960=Math['max'](_0x242960,this['qScale'][_0x1738ea]);}this['emitterSha'+'pe']===qs?(_0x95597a=this['emitterExt'+'ents']['x']*(0x25d8+-0x909+-0x1ccf*0x1+0.5),_0x49d248=this['emitterExt'+'ents']['y']*(0x22fb+-0x1fa4+-0x357+0.5),_0x1a0543=this['emitterExt'+'ents']['z']*(-0x65*-0x3e+-0x1e61+-0x5*-0x12f+0.5)):(_0x95597a=this['emitterRad'+'ius'],_0x49d248=this['emitterRad'+'ius'],_0x1a0543=this['emitterRad'+'ius']);const _0x3cf68c=Math['max'](_0x406330[0x1a68+0xfd*0x8+0x2*-0x1128],_0x406330[-0x5c1+0x13ef+-0x13*0xbf]);$l['x']=_0x238fe0-_0x242960-_0x95597a-_0x2f87f8-_0x3cf68c,$l['y']=_0x10495a-_0x242960-_0x49d248-_0x2f87f8-_0x3cf68c,$l['z']=_0x4d5c10-_0x242960-_0x1a0543-_0x2f87f8-_0x3cf68c,ql['x']=_0x14656e+_0x242960+_0x95597a+_0x2f87f8+_0x3cf68c,ql['y']=_0x13422e+_0x242960+_0x49d248+_0x2f87f8+_0x3cf68c,ql['z']=_0x22958d+_0x242960+_0x1a0543+_0x2f87f8+_0x3cf68c,this['localBound'+'s']['setMinMax']($l,ql);}['rebuild'](){const _0x1aa76d=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===qs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Ou||_0x1aa76d['maxVertexT'+'extures']<=0x39*0x71+0x2f*0xe+-0x49f*0x6||_0x1aa76d['fragmentUn'+'iformsCoun'+'t']<0x4*-0x3a+-0x25ed+-0xf*-0x29b||_0x1aa76d['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x1aa76d['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],li=this['useCpu']||this['pack8']?-0x1*0xf7c+-0x1f53+0x2ed3*0x1:-0x1*-0x54d+-0x2240+-0x3*-0x9a7,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=z['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x489*0x2+-0x327*-0x9+-0x2571]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x49*0x81+0xa98+0x20*-0x17b]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*0x24a9+-0x161+0x260c),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x409a0c=-0xd6*0x7+0x1195+-0xbbb;_0x409a0c<this['numParticl'+'es'];_0x409a0c++)this['vbToSort'][_0x409a0c]=[0x253*0xf+-0x1788+0xb55*-0x1,-0x16ba+-0x25f0+0x3caa];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*li*Wl);const _0x4acbb5=this['node']===null||this['localSpace']?A['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===qs&&(this['node']===null||this['localSpace']?Ar['setTRS'](A['ZERO'],ie['IDENTITY'],this['spawnBound'+'s']):Ar['setTRS'](A['ZERO'],this['node']['getRotatio'+'n'](),D_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),hi[-0x14e+-0x7ff+-0x1*-0x94d]=this['emitterExt'+'ents']['x']!==0x191+-0x2702*0x1+0x87*0x47?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0xc80+0x73*-0x17+-0x22b,hi[-0x117c+0x91e+0x85f*0x1]=this['emitterExt'+'ents']['y']!==-0xbff+-0xce*-0x29+-0x14ff*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x76d+0x1*-0x8b3+0x1020,hi[-0x818+-0x6*-0x215+-0x464]=this['emitterExt'+'ents']['z']!==-0x14ed+-0x1c6b+0x18ac*0x2?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x58b+0x65+0x526);for(let _0x15983f=-0x781*-0x2+-0x3*0x57d+-0x175*-0x1;_0x15983f<this['numParticl'+'es'];_0x15983f++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ar,hi,_0x4acbb5,_0x15983f),this['useCpu']&&(this['particleTe'+'x'][_0x15983f*Wl+(-0x1811+0x1*0x5ba+-0x57*-0x36)+this['numParticl'+'esPot']*(-0x1bf7+-0x2042*0x1+0x3c3b)*Wl]=0x95+-0x52*0x5+0x2*0x83);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*li*Wl);for(let _0x4c33e8=-0x1*-0x1a7d+0x10e7+-0x2b64;_0x4c33e8<this['particleTe'+'xStart']['length'];_0x4c33e8++)this['particleTe'+'xStart'][_0x4c33e8]=this['particleTe'+'x'][_0x4c33e8];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=rs(_0x1aa76d,this['numParticl'+'esPot'],li,this['particleTe'+'x'],Te,-0x12c4+-0x1*-0x12c7+-0x2*0x1,!(-0x1187+-0x148b+0x2613)),this['particleTe'+'xOUT']=rs(_0x1aa76d,this['numParticl'+'esPot'],li,this['particleTe'+'x'],Te,0x25d3+-0x2*0xc58+-0xd22,!(0x1518+0x10*-0x32+-0x3f*0x49)),this['particleTe'+'xStart']=rs(_0x1aa76d,this['numParticl'+'esPot'],li,this['particleTe'+'xStart'],Te,-0x21ee+-0xdd*0x4+0x2563,!(0x1aa7+0x5*-0x32f+0xabb*-0x1))):(this['particleTe'+'xIN']=rs(_0x1aa76d,this['numParticl'+'esPot'],li,this['particleTe'+'x']),this['particleTe'+'xOUT']=rs(_0x1aa76d,this['numParticl'+'esPot'],li,this['particleTe'+'x']),this['particleTe'+'xStart']=rs(_0x1aa76d,this['numParticl'+'esPot'],li,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new St({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0x1fd+-0x2314*-0x1+-0x2116)}),this['rtParticle'+'TexOUT']=new St({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x5*0x417+-0x968+0xb6*0x2a)}),this['swapTex']=!(-0x152e+-0x55c+-0x2f3*-0x9));const _0x27a60b=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+j['particleUp'+'daterInitP'+'S']+(this['pack8']?j['particleIn'+'putRgba8PS']+j['particleOu'+'tputRgba8P'+'S']:j['particleIn'+'putFloatPS']+j['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===qs?j['particleUp'+'daterAABBP'+'S']:j['particleUp'+'daterSpher'+'ePS'])+j['particleUp'+'daterStart'+'PS'],_0x102800=_0x27a60b+j['particleUp'+'daterRespa'+'wnPS']+j['particleUp'+'daterEndPS'],_0x38d7a9=_0x27a60b+j['particleUp'+'daterNoRes'+'pawnPS']+j['particleUp'+'daterEndPS'],_0x415e9f=_0x27a60b+j['particleUp'+'daterOnSto'+'pPS']+j['particleUp'+'daterEndPS'],_0x536947='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Bs(_0x1aa76d,j['fullscreen'+'QuadVS'],_0x102800,'ParticleUp'+'dateRespaw'+'n-'+_0x536947),this['shaderPart'+'icleUpdate'+'NoRespawn']=Bs(_0x1aa76d,j['fullscreen'+'QuadVS'],_0x38d7a9,'ParticleUp'+'dateNoResp'+'awn-'+_0x536947),this['shaderPart'+'icleUpdate'+'OnStop']=Bs(_0x1aa76d,j['fullscreen'+'QuadVS'],_0x415e9f,'ParticleUp'+'dateStop-'+_0x536947),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x77f+-0x1*-0x1a55+0x10*-0x21d,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x1008+-0x2*-0x86a+-0x20dc]['numIndices']:-0x1153+-0x1889+0x29e2,this['_allocate'](this['numParticl'+'es']);const _0x20b3e5=new ke(_0x1aa76d);_0x20b3e5['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x20b3e5['indexBuffe'+'r'][0x2*-0x32d+-0xe72*-0x1+-0x103*0x8]=this['indexBuffe'+'r'],_0x20b3e5['primitive'][0xd92+0x59*-0x50+0xe3e]['type']=Fs,_0x20b3e5['primitive'][0x2*-0x7f5+-0xb87+-0x119*-0x19]['base']=-0x31*0x3d+-0x16ef+0x8a7*0x4,_0x20b3e5['primitive'][0x1d9d+0x1c9a+0x1*-0x3a37]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x20b3e5['primitive'][0x1eef+0x17d*0x11+-0x3b*0xf4]['indexed']=!(0x988*0x1+-0x1448+0xac0),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x15dd6f=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(0x1a68+-0x1*-0x2659+-0x40c1);this['meshInstan'+'ce']=new Be(_0x20b3e5,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x517+0x1cd2+0xbdd*-0x2),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x2187+0x8d8*0x3+-0x3c0f),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x376+-0x1618+0xd*0x16f),this['meshInstan'+'ce']['visible']=_0x15dd6f,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0xa59+-0xa9e+-0x45*-0x1,!(0x26d7*0x1+0x5e6*-0x1+-0xf8*0x22)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0xf3a+0x1bb7+-0xc7c&&(this['animTilesX']>-0xed8+-0x1d9+0x10b2||this['animTilesY']>0x1*0x76b+0x1fe2+-0x274c*0x1)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x1b4792=this['precision'],_0x26138f=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x1b4792),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x1b4792),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x1b4792,0x49*0x21+0x2e*0x37+0xb*-0x1c1,-0x1*0x139f+-0x5c+0x13fc),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x1b4792),this['qScale']=this['scaleGraph']['quantize'](_0x1b4792),this['qAlpha']=this['alphaGraph']['quantize'](_0x1b4792),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x1b4792),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x1b4792),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x1b4792),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x1b4792,0x136*0x18+-0x6c*-0x9+0x6*-0x57a,0x16cc+-0x30d+-0xe*0x169),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x1b4792),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x1b4792),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x1b4792),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x1b4792);for(let _0x3f96ce=0x1d12+-0xae5+0x122d*-0x1;_0x3f96ce<_0x1b4792;_0x3f96ce++)this['qRotSpeed'][_0x3f96ce]*=z['DEG_TO_RAD'],this['qRotSpeed2'][_0x3f96ce]*=z['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x76*0x47+-0x4f*0x9+0x2384),this['velocityUM'+'ax']=new Float32Array(-0x5b1*-0x6+0x5*0x757+0x236b*-0x2),this['colorUMax']=new Float32Array(0x7*0xf+0x1813+-0x1879),this['rotSpeedUM'+'ax']=[0x1934+-0x12d5+-0x65f],this['scaleUMax']=[-0x18b9+-0x12e3+0x2b9c*0x1],this['alphaUMax']=[0x1*0x15+0x1334+-0x1*0x1349],this['radialSpee'+'dUMax']=[-0x1*0x219d+0xa0*0x10+0x1f*0xc3],this['qLocalVelo'+'cityDiv']=Er(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Er(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Er(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Er(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Er(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Er(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Er(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x491708=[-0x6*0x36e+-0x2208+0x369c,0x30d+0xcb5*0x2+-0x1c77,-0x3a9*-0x8+0x7cf+0x41f*-0x9];kr(this['qVelocity'],_0x491708);const _0x43e566=[-0x6af+0x2179+-0x1aca,0x208f+-0x9bd*0x2+-0xc5*0x11,0x1d15+-0x1b1f+-0x1f6];kr(this['qVelocity2'],_0x43e566);const _0x233e4f=[-0x72e+-0x1eb0+0x25de,-0x87b+0xc3d+-0x3c2,-0x1*0x1a05+0x16d0+-0x1*-0x335];kr(this['qLocalVelo'+'city'],_0x233e4f);const _0x5960c2=[0x1557+-0x1*-0x1d7d+0x4*-0xcb5,0x6*0x102+0x214e+0xdb*-0x2e,0x1af0+0xcd2+-0x27c2];kr(this['qLocalVelo'+'city2'],_0x5960c2);const _0x44ae38=[0x1ebf+0x3*-0xbbd+0x478];kr(this['qRadialSpe'+'ed'],_0x44ae38);const _0x3e6a48=[-0x2e5+-0x8e7+0xbcc];kr(this['qRadialSpe'+'ed2'],_0x3e6a48);let _0x5f25d4=Math['max'](_0x491708[0x16a*-0x1+0x15a*0x16+0x2*-0xe29],_0x43e566[0xfc9*0x2+-0x1b37*-0x1+-0x3ac9]);_0x5f25d4=Math['max'](_0x5f25d4,_0x491708[-0x253c+0x25*-0x49+-0x2fca*-0x1]),_0x5f25d4=Math['max'](_0x5f25d4,_0x43e566[0x13a6+-0x7*0x2c+0x1*-0x1271]),_0x5f25d4=Math['max'](_0x5f25d4,_0x491708[0x779*-0x1+-0x141*0x1d+0x2bd8]),_0x5f25d4=Math['max'](_0x5f25d4,_0x43e566[0x12*0x192+-0x26d1+0x35*0x33]);let _0x1b0c78=Math['max'](_0x233e4f[-0x3d*-0x51+0x2*-0xcbf+-0x1*-0x631],_0x5960c2[0x2292+0xa4+-0x2336]);_0x1b0c78=Math['max'](_0x1b0c78,_0x233e4f[0x41*-0x6a+-0x11b1*-0x1+0x93a]),_0x1b0c78=Math['max'](_0x1b0c78,_0x5960c2[-0x11b9+-0x3d3+0x158d]),_0x1b0c78=Math['max'](_0x1b0c78,_0x233e4f[-0x1d45+-0x1*-0x7fe+0x1549*0x1]),_0x1b0c78=Math['max'](_0x1b0c78,_0x5960c2[0x439+-0x18*-0x62+-0xd67]);const _0x2dccc1=Math['max'](_0x44ae38[-0x26f6+0x4a1+0x2255],_0x3e6a48[0x1*-0x16b1+0x7*-0x44b+0x1*0x34be]);this['maxVel']=_0x5f25d4+_0x1b0c78+_0x2dccc1;}this['useCpu']||(this['internalTe'+'x0']=rs(_0x26138f,_0x1b4792,-0x13bf+-0x1c2+0x1582*0x1,L_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=rs(_0x26138f,_0x1b4792,-0x1535+0xb*-0x19a+0x26d4,L_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=rs(_0x26138f,_0x1b4792,0x3*-0xa81+-0x1*0x1c19+-0x1*-0x3b9d,a1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=rs(_0x26138f,_0x1b4792,0x739+-0xca*-0x2+-0x8cc,o1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=rs(_0x26138f,_0x1b4792,0x2*0x40d+0xd21+-0x153a,n1(this['qColor'],this['qAlpha']),cs,-0x1*-0xb67+-0x1213+0x6ad,!(0x1*0x4d1+-0x518+0x1*0x47));}['_setMateri'+'alTextures'](){this['colorMap']&&(b['call'](()=>{Cy(this['colorMap']['format'])&&b['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x9d265f=new i1(this);return _0x9d265f['name']='EmitterMat'+'erial:'+this['node']['name'],_0x9d265f['cull']=vt,_0x9d265f['alphaWrite']=!(-0x7*-0x10c+-0x202+0x551*-0x1),_0x9d265f['blendType']=this['blendType'],_0x9d265f['depthWrite']=this['depthWrite'],_0x9d265f;}['resetMater'+'ial'](){const _0x4f5f8c=this['material'];_0x4f5f8c['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x4f5f8c['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x4f5f8c['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x4f5f8c['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x4f5f8c['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x4f5f8c['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x4f5f8c['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x4f5f8c['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x4f5f8c['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x4f5f8c['setParamet'+'er']('colorParam',this['colorParam']),_0x4f5f8c['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x4f5f8c['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x4f5f8c['setParamet'+'er']('lifetime',this['lifetime']),_0x4f5f8c['setParamet'+'er']('rate',this['rate']),_0x4f5f8c['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x4f5f8c['setParamet'+'er']('seed',this['seed']),_0x4f5f8c['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0xb*0x235+0x2196+-0x94f]),_0x4f5f8c['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x241f+-0x3*-0x42d+0x1798]),_0x4f5f8c['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x577*-0x4+-0x197+-0x1445]),_0x4f5f8c['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x4f5f8c['setParamet'+'er']('graphSampl'+'eSize',(0xb40+0x78*-0x9+0x707*-0x1)/this['precision']),_0x4f5f8c['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x22ed+0x3ae*-0xa+-0xa*-0x30,0x664+0x2f6*-0x1+-0x36d,0x5*-0x1d3+-0x62*-0x46+-0x11ac*0x1])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x4f5f8c['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x4f5f8c['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x4f5f8c['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x2ad*-0xd+-0x8d0+0x2b99]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0x1efc+-0x2*0x517+-0x14cd]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x16a*0x2+0x1d*-0x12f+-0x3f*-0x97]=this['wrapBounds']['z'],_0x4f5f8c['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x2175+0x83e+0xaf*-0x3d&&_0x4f5f8c['setParamet'+'er']('softening',(0x25*0xf9+-0x1693+-0xd69*0x1)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(0x343+-0x6ff+0x420))),this['stretch']>0x590+-0x4*0x837+-0x6d3*-0x4&&(_0x4f5f8c['cull']=vt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x29db20,_0x31a311;if(this['orientatio'+'n']===$h)_0x29db20=new Float32Array([0x1941+-0x2b3*-0x5+-0xd*0x2fb,-0xd*-0x88+-0x25*0x49+0x137*0x3,0x1d21+-0x1*-0x1c36+-0x3957*0x1]),_0x31a311=new Float32Array([0x874*-0x4+0x2*-0xa61+0x3692,-0xf87+-0x1c9*-0x10+-0xd09,0x165a+0xed9+-0x2532]);else{let _0xce911f;this['orientatio'+'n']===Xb?_0xce911f=this['particleNo'+'rmal']['normalize']():_0xce911f=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x32e182=new A(0x61*-0x10+-0x4*0x282+-0x13d*-0xd,-0x22af*0x1+0x15fd+0xcb2,0x144e+-0x12ff*0x1+-0x14f);Math['abs'](_0x32e182['dot'](_0xce911f))===-0xb7*-0x10+0x1b*-0x6d+0x10&&_0x32e182['set'](-0x14cb+0x936+0xb95,0x1*-0xf0d+-0x1d02+0x2c0f,-0x1*-0x1091+0x14ec*-0x1+0x45c);const _0x30f7f2=new A()['cross'](_0xce911f,_0x32e182)['normalize']();_0x32e182['cross'](_0x30f7f2,_0xce911f)['normalize'](),_0x29db20=new Float32Array([_0x32e182['x'],_0x32e182['y'],_0x32e182['z']]),_0x31a311=new Float32Array([_0x30f7f2['x'],_0x30f7f2['y'],_0x30f7f2['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x29db20),this['material']['setParamet'+'er']('faceBinorm',_0x31a311);}['_allocate'](_0x4d4798){const _0x30f6eb=_0x4d4798*this['numParticl'+'eVerts'],_0x356e35=_0x4d4798*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0xbee*-0x1+-0x24e1+-0x3*-0x851)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x30f6eb){const _0xfd6f88=[];this['useCpu']?_0xfd6f88['push']({'semantic':Eu,'components':0x4,'type':Re},{'semantic':Cu,'components':0x4,'type':Re},{'semantic':Iy,'components':0x4,'type':Re},{'semantic':Dy,'components':0x1,'type':Re},{'semantic':Ly,'components':this['useMesh']?0x12*0x1f0+0x18a0+-0x3b7c:-0x485+0x2269*0x1+-0x1de2,'type':Re}):(_0xfd6f88['push']({'semantic':Eu,'components':0x4,'type':Re}),this['useMesh']&&_0xfd6f88['push']({'semantic':Cu,'components':0x2,'type':Re}));const _0xd19719=new Dt(this['graphicsDe'+'vice'],_0xfd6f88);this['vertexBuff'+'er']=new fs(this['graphicsDe'+'vice'],_0xd19719,_0x30f6eb,{'usage':Ph}),this['indexBuffe'+'r']=new cr(this['graphicsDe'+'vice'],or,_0x356e35);const _0x38c83c=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x4b7d57,_0x274aab,_0x4545a4;if(this['useMesh']){_0x4b7d57=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x274aab=_0x4b7d57['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x5356e4=-0x245f*-0x1+0x423*-0x4+0x5*-0x3f7;_0x5356e4<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x5356e4++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x5356e4]['name']===ds){_0x4545a4=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x5356e4]['offset']/(0x1*0x25ab+-0x119f*0x1+0x1408*-0x1);break;}}for(let _0x23b741=0x1*0x33d+-0x3dd+0x20*0x5;_0x23b741<_0x30f6eb;_0x23b741++){const _0x2d6706=Math['floor'](_0x23b741/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x3ad582=_0x23b741%this['numParticl'+'eVerts'];_0x38c83c[_0x23b741*(-0x2299+0x2003+0x29c)]=_0x4b7d57[_0x3ad582*_0x274aab],_0x38c83c[_0x23b741*(-0xa93+0x795+0x304)+(-0x6b*0x35+0x237a+-0xd52)]=_0x4b7d57[_0x3ad582*_0x274aab+(0x24+0x1d4f+0x1d72*-0x1)],_0x38c83c[_0x23b741*(-0x16fe+0x1b9f*-0x1+0x32a3)+(-0xd37+-0x2335+0x306e)]=_0x4b7d57[_0x3ad582*_0x274aab+(0x13ee+0x1409*0x1+0xc1*-0x35)],_0x38c83c[_0x23b741*(0x2462+0x23eb+0x1*-0x4847)+(0x4d7+-0x9*-0x29b+-0x1c47)]=_0x2d6706,_0x38c83c[_0x23b741*(0x2040+-0x26*-0xe9+0x42d0*-0x1)+(-0x17+0x1daf+-0x1d94)]=_0x4b7d57[_0x3ad582*_0x274aab+_0x4545a4+(-0x83*0x22+-0x1183*0x1+0x22e9)],_0x38c83c[_0x23b741*(-0xed+-0x1843+0x1936)+(0x1c24+-0x7*-0x59+-0xf47*0x2)]=0x265f+-0x140e+-0x1250-_0x4b7d57[_0x3ad582*_0x274aab+_0x4545a4+(-0x4c5+-0x151*0x8+-0x3*-0x51a)];}else{const _0x39da3d=_0x23b741%(0x3d*-0x59+0x266f+0x1136*-0x1);_0x38c83c[_0x23b741*(-0x120b+-0x3*0xc25+0x2*0x1b3f)]=C_[_0x39da3d][-0x8*0x3ae+-0x1*-0x92b+0x1445*0x1],_0x38c83c[_0x23b741*(-0x1*0xcc9+0x2097*0x1+-0x13ca)+(0xe6d+0x6f8+-0x1564)]=C_[_0x39da3d][-0x1c94+0x1563*0x1+0x732],_0x38c83c[_0x23b741*(-0x3e6*0x2+0xf6e+-0xd*0x96)+(0x166*0x10+-0x252c+0x5*0x2f6)]=-0x3bd+0xf78+-0xbbb,_0x38c83c[_0x23b741*(-0x47*0x9+-0x33*0x59+0x143e)+(0x81e+-0x6b9+-0x162)]=_0x2d6706;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x38c83c),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x574fe8=-0x4*0x621+0x1*-0x1f85+0x3809;const _0x420d2c=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0xfa6aa8=this['mesh']['indexBuffe'+'r'][-0x1947+0x575+0x13d2];_0x4b7d57=new Nh[_0xfa6aa8['format']](_0xfa6aa8['lock']());}for(let _0x7e704b=0x60e+-0x1448+0xe3a;_0x7e704b<_0x4d4798;_0x7e704b++)if(this['useMesh']){for(let _0x335f28=0x10ef+0x102*0x1f+0x100f*-0x3;_0x335f28<this['numParticl'+'eIndices'];_0x335f28++)_0x420d2c[_0x7e704b*this['numParticl'+'eIndices']+_0x335f28]=_0x4b7d57[_0x335f28]+_0x7e704b*this['numParticl'+'eVerts'];}else{const _0x3e51dd=_0x7e704b*(0x51a*0x1+-0x216d+0x1c57);_0x420d2c[_0x574fe8++]=_0x3e51dd,_0x420d2c[_0x574fe8++]=_0x3e51dd+(0x26e8+0x867*0x1+-0x976*0x5),_0x420d2c[_0x574fe8++]=_0x3e51dd+(0xdce+-0xa9a+-0x332),_0x420d2c[_0x574fe8++]=_0x3e51dd,_0x420d2c[_0x574fe8++]=_0x3e51dd+(-0x1f9f+0x39d+-0x1c04*-0x1),_0x420d2c[_0x574fe8++]=_0x3e51dd+(-0xbe1*-0x3+-0xfef*0x2+-0x3c2);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][-0x13*-0x68+-0xf*-0x1a3+0x2045*-0x1]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x193a*0x1+0x1942+0x4*-0x2),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x37f8c9=0x14*0xee+0x2279+-0x2cb*0x13;_0x37f8c9<this['particleTe'+'xStart']['length'];_0x37f8c9++)this['particleTe'+'x'][_0x37f8c9]=this['particleTe'+'xStart'][_0x37f8c9];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x20f590=this['loop'];this['loop']=!(-0x20ad+0x3e5*-0x2+0x2877),this['addTime'](0xd*0xd+-0x49*-0x7b+0x11de*-0x2,!(0xdf1*-0x1+-0xf56+-0x4*-0x752)),this['loop']=_0x20f590,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x1e769b){const _0x2ed3f2=_0x1e769b/this['lifetime'],_0x37003e=Math['min'](Math['floor'](_0x2ed3f2*this['precision']),this['precision']),_0x107c34=_0x1e769b/_0x37003e;for(let _0x5e374d=0x1d9f+-0x20df+0x340;_0x5e374d<_0x37003e;_0x5e374d++)this['addTime'](_0x107c34,!(0x12f*-0x18+0x219b+-0x532));}['resetTime'](){this['endTime']=l1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x34bc95,_0x11ba3c){const _0x5809be=this['graphicsDe'+'vice'],_0x663fa6=ae();if(this['simTimeTot'+'al']+=_0x34bc95,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x462115=this['animTilesP'+'arams'];_0x462115[0x2579+-0x2426+-0x153*0x1]=(0x129b+0x3c+-0x12d6*0x1)/this['animTilesX'],_0x462115[-0xf1*-0xa+-0x1111*-0x1+-0x1a7a*0x1]=(0x1b*0x11d+-0x1*-0x2659+-0x4467)/this['animTilesY'];const _0x505ea8=this['animParams'];_0x505ea8[0x1123+-0x75c+-0x9c7]=this['animStartF'+'rame'],_0x505ea8[-0x135+0x18bf+-0x1789]=this['animNumFra'+'mes']*this['animSpeed'],_0x505ea8[-0x2203+-0x93*-0x2d+0x417*0x2]=this['animNumFra'+'mes']-(-0x2*0xe3+0x12bf+0x2*-0x87c),_0x505ea8[0x16d9+0xc6b+-0x2341]=this['animNumAni'+'mations']-(0x1*0x1749+0x1*-0x24b5+0xd6d);const _0xf1c9dc=this['animIndexP'+'arams'];_0xf1c9dc[0x2e9*0x9+0xfd0+-0x2a01*0x1]=this['animIndex'],_0xf1c9dc[-0x2*0x71+0x7ab*0x3+0x13*-0x12a]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===qs&&(hi[0x20b5+0x1aab*0x1+0x1*-0x3b60]=this['emitterExt'+'ents']['x']!==0xcc0+0x7*-0x1a+0x2*-0x605?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1240+0xbf*-0x13+0x95*-0x7,hi[-0x7d*-0x19+-0xd*-0x299+-0x2df9*0x1]=this['emitterExt'+'ents']['y']!==-0x3e2+-0x2d*-0xd+0x199*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0xd*-0x167+-0x26e*-0xa+0x1*-0x2a87,hi[0x225f+-0x1*-0x1be2+0x1*-0x3e3f]=this['emitterExt'+'ents']['z']!==0x10ec+-0x73*-0x34+0x2*-0x1424?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x2*-0xf40+0x1b00+-0x80*-0x7,this['meshInstan'+'ce']['node']===null?Ar['setTRS'](A['ZERO'],ie['IDENTITY'],this['emitterExt'+'ents']):Ar['setTRS'](A['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),D_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x2d86c1;const _0x1a6e45=this['meshInstan'+'ce']['node']===null?A['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x1f*-0x18+0xe40+-0x4*0x2d6]=_0x1a6e45['x'],this['emitterSca'+'leUniform'][-0x220a+0x2*0x1c9+-0x1e79*-0x1]=_0x1a6e45['y'],this['emitterSca'+'leUniform'][-0x1*0x17ba+-0x1*-0xbec+-0x150*-0x9]=_0x1a6e45['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x2d86c1=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x5fb*0x3+-0x15ca*-0x1+0x27bb*-0x1]=_0x2d86c1['x'],this['emitterPos'+'Uniform'][-0x1490+-0xeef+0x2380]=_0x2d86c1['y'],this['emitterPos'+'Uniform'][-0x235d+-0x35f*-0xb+-0x6*0x49]=_0x2d86c1['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x5809be,Ar,hi,_0x34bc95,_0x11ba3c);else{const _0x3583b2=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x3583b2,this['vbToSort'],this['particleTe'+'x'],Ar,hi,_0x2d86c1,_0x34bc95,_0x11ba3c);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x20b9+0xb*0xc+-0x213c)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ae()-_0x663fa6;}['_destroyRe'+'sources'](){var _0x4a56f3,_0x3576e6,_0x246bd5,_0x5c96ef,_0x1475bc,_0x338e41,_0x32bfcc,_0x348266,_0x9f201d,_0x277ff0,_0x1dc670,_0x5a202a;(_0x4a56f3=this['particleTe'+'xIN'])==null||_0x4a56f3['destroy'](),this['particleTe'+'xIN']=null,(_0x3576e6=this['particleTe'+'xOUT'])==null||_0x3576e6['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x246bd5=this['rtParticle'+'TexIN'])==null||_0x246bd5['destroy'](),this['rtParticle'+'TexIN']=null,(_0x5c96ef=this['rtParticle'+'TexOUT'])==null||_0x5c96ef['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x1475bc=this['internalTe'+'x0'])==null||_0x1475bc['destroy'](),this['internalTe'+'x0']=null,(_0x338e41=this['internalTe'+'x1'])==null||_0x338e41['destroy'](),this['internalTe'+'x1']=null,(_0x32bfcc=this['internalTe'+'x2'])==null||_0x32bfcc['destroy'](),this['internalTe'+'x2']=null,(_0x348266=this['internalTe'+'x3'])==null||_0x348266['destroy'](),this['internalTe'+'x3']=null,(_0x9f201d=this['colorParam'])==null||_0x9f201d['destroy'](),this['colorParam']=null,(_0x277ff0=this['vertexBuff'+'er'])==null||_0x277ff0['destroy'](),this['vertexBuff'+'er']=void(0x16e1*0x1+-0x4*-0x8ed+-0x3a95),(_0x1dc670=this['indexBuffe'+'r'])==null||_0x1dc670['destroy'](),this['indexBuffe'+'r']=void(-0x21a5+-0x22c2+0x4467),(_0x5a202a=this['material'])==null||_0x5a202a['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class f1 extends Nt{['generateKe'+'y'](_0x5c3b3c){const _0x956efe=_0x5c3b3c['shaderDesc'],_0x5c9d4d=_0x956efe['vertexCode']?cn(_0x956efe['vertexCode']):0x15df+0x233e+-0x391d,_0x9831fa=_0x956efe['fragmentCo'+'de']?cn(_0x956efe['fragmentCo'+'de']):-0x966+-0x107f+-0x7*-0x3b3,_0x248026=Nt['definesHas'+'h'](_0x5c3b3c['defines']);let _0x4c73eb=_0x956efe['uniqueName']+'_'+_0x5c9d4d+'_'+_0x9831fa+'_'+_0x248026;return _0x5c3b3c['skin']&&(_0x4c73eb+='_skin'),_0x5c3b3c['useInstanc'+'ing']&&(_0x4c73eb+='_inst'),_0x5c3b3c['useMorphPo'+'sition']&&(_0x4c73eb+='_morphp'),_0x5c3b3c['useMorphNo'+'rmal']&&(_0x4c73eb+='_morphn'),_0x5c3b3c['useMorphTe'+'xtureBased'+'Int']&&(_0x4c73eb+='_morphi'),_0x4c73eb;}['createAttr'+'ibutesDefi'+'nition'](_0x3a3028,_0x54a661){const _0xe4fddf=_0x54a661['shaderDesc']['attributes'],_0x3de54d=_0xe4fddf?{..._0xe4fddf}:void(-0x2420+-0x192a+0xa*0x621);_0x54a661['skin']&&(_0x3de54d['vertex_bon'+'eWeights']=ei,_0x3de54d['vertex_bon'+'eIndices']=Jt),(_0x54a661['useMorphPo'+'sition']||_0x54a661['useMorphNo'+'rmal'])&&(_0x3de54d['morph_vert'+'ex_id']=va),_0x3a3028['attributes']=_0x3de54d;}['createVert'+'exDefiniti'+'on'](_0x323b58,_0x2c5cfd,_0x38b94f){const _0x31142e=_0x2c5cfd['shaderDesc'];if(_0x323b58['shaderLang'+'uage']===Fh)_0x323b58['vertexCode']=_0x31142e['vertexCode'];else{const _0x3325df=new Map(_0x38b94f),_0x543315=new Map(_0x2c5cfd['defines']);_0x3325df['set']('transformI'+'nstancingV'+'S',''),_0x2c5cfd['skin']&&_0x543315['set']('SKIN',!(0x1241+0x54*0x4a+-0x2a89*0x1)),_0x2c5cfd['useInstanc'+'ing']&&_0x543315['set']('INSTANCING',!(0x12b5*-0x1+0x692*0x3+-0x1*0x101)),(_0x2c5cfd['useMorphPo'+'sition']||_0x2c5cfd['useMorphNo'+'rmal'])&&(_0x543315['set']('MORPHING',!(-0x18df+0xd73+0x4*0x2db)),_0x2c5cfd['useMorphTe'+'xtureBased'+'Int']&&_0x543315['set']('MORPHING_I'+'NT',!(-0xb8b+0x1c2c+-0x10a1)),_0x2c5cfd['useMorphPo'+'sition']&&_0x543315['set']('MORPHING_P'+'OSITION',!(-0x130d+-0x138c+-0xf1*-0x29)),_0x2c5cfd['useMorphNo'+'rmal']&&_0x543315['set']('MORPHING_N'+'ORMAL',!(0x12e6+0x15e3+-0x28c9))),_0x323b58['vertexCode']=_0x31142e['vertexCode'],_0x323b58['vertexIncl'+'udes']=_0x3325df,_0x323b58['vertexDefi'+'nes']=_0x543315;}}['createFrag'+'mentDefini'+'tion'](_0x9deb64,_0x29c365,_0x214298){const _0x41042c=_0x29c365['shaderDesc'];if(_0x9deb64['shaderLang'+'uage']===Fh)_0x9deb64['fragmentCo'+'de']=_0x41042c['fragmentCo'+'de'];else{const _0x5dbc9c=new Map(_0x214298),_0x3fe718=new Map(_0x29c365['defines']);_0x9deb64['fragmentCo'+'de']=_0x41042c['fragmentCo'+'de'],_0x9deb64['fragmentIn'+'cludes']=_0x5dbc9c,_0x9deb64['fragmentDe'+'fines']=_0x3fe718;}}['createShad'+'erDefiniti'+'on'](_0x382701,_0x3aa8ef){const _0x440733=_0x3aa8ef['shaderDesc'],_0x53b66f={'name':'ShaderMate'+'rial-'+_0x440733['uniqueName'],'shaderLanguage':_0x440733['shaderLang'+'uage'],'fragmentOutputTypes':_0x440733['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x440733['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x440733['meshBindGr'+'oupFormat']},_0x10567a=new Map(Object['entries']({...j,..._0x3aa8ef['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x53b66f,_0x3aa8ef),this['createVert'+'exDefiniti'+'on'](_0x53b66f,_0x3aa8ef,_0x10567a),this['createFrag'+'mentDefini'+'tion'](_0x53b66f,_0x3aa8ef,_0x10567a),Ft['createDefi'+'nition'](_0x382701,_0x53b66f);}}const p1=new f1();class La extends Sn{constructor(_0xb338a){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0xb338a;}set['shaderDesc'](_0x40d546){_0x40d546&&(b['assert'](_0x40d546['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),b['assert'](_0x40d546['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x40d546?{..._0x40d546}:void(0x51*-0x2b+-0x184*-0x8+0x1*0x17b),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x5b1212){return super['copy'](_0x5b1212),this['shaderDesc']=_0x5b1212['shaderDesc'],this;}['getShaderV'+'ariant'](_0x3b40c0){const {objDefs:_0x3874b6}=_0x3b40c0,_0x3709fb={'defines':Op(this,_0x3b40c0),'skin':(_0x3874b6&jc)!==0x1c45+-0xdda*0x1+-0x1*0xe6b,'useInstancing':(_0x3874b6&Yc)!==0x19*-0x153+-0x18f+0x132*0x1d,'useMorphPosition':(_0x3874b6&Kc)!==0x3a0+0x2*-0x4a5+-0x2d5*-0x2,'useMorphNormal':(_0x3874b6&Zc)!==-0x1*-0x112a+-0x1c9*0x5+-0x83d,'useMorphTextureBasedInt':(_0x3874b6&Qc)!==0x13fb+-0xc40+0x7bb*-0x1,'pass':_0x3b40c0['pass'],'gamma':_0x3b40c0['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x3b40c0['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x3b40c0['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x11ac45=new Jc(_0x3b40c0['viewUnifor'+'mFormat'],_0x3b40c0['viewBindGr'+'oupFormat'],_0x3b40c0['vertexForm'+'at']),_0x44ec3c=za(_0x3b40c0['device']);return _0x44ec3c['register']('shader-mat'+'erial',p1),_0x44ec3c['getProgram']('shader-mat'+'erial',_0x3709fb,_0x11ac45,this['userId']);}}const B0=(_0xbe25ea,_0x4a4946)=>{const _0x3e438d=_0x4a4946['length']/(0x35b+0x182e+-0x2*0xdc3),_0x4159fe=_0xbe25ea['length']/(0x5a*-0x14+-0x1*-0x1253+-0xb48),_0x1d321e=new A(),_0x4f795e=new A(),_0x9a03fd=new A(),_0x26790b=new A(),_0x3ab265=new A(),_0x19d624=new A(),_0x3092b0=[];for(let _0x155ba9=0x9a0+0x24c2+-0x1731*0x2;_0x155ba9<_0xbe25ea['length'];_0x155ba9++)_0x3092b0[_0x155ba9]=0x1*0x240c+-0x1140+-0x2*0x966;for(let _0x4eca96=0x2fb*-0x5+-0x7e5*0x1+0x16cc;_0x4eca96<_0x3e438d;_0x4eca96++){const _0x5b9e2c=_0x4a4946[_0x4eca96*(0x242+0x1c4a+0x1e89*-0x1)],_0x33eb56=_0x4a4946[_0x4eca96*(-0x15a9*-0x1+-0x87+0x151f*-0x1)+(-0x60d+0x209c+0x3*-0x8da)],_0x48294d=_0x4a4946[_0x4eca96*(-0xc18+-0x1ad7*-0x1+-0xebc)+(0x13*-0x45+0x5*0x6da+-0x1d21*0x1)];_0x1d321e['set'](_0xbe25ea[_0x5b9e2c*(-0x2034+-0x688+-0xd*-0x2fb)],_0xbe25ea[_0x5b9e2c*(0x1bf*-0x12+-0xa*-0x371+-0x2f9)+(0x1ea9+-0x1e71+-0x37)],_0xbe25ea[_0x5b9e2c*(-0x17*0x193+-0x26c8+0x12c0*0x4)+(0x1*0x2451+-0x1b92+-0x8bd)]),_0x4f795e['set'](_0xbe25ea[_0x33eb56*(-0x1*-0x1a69+-0x1d17+0xd*0x35)],_0xbe25ea[_0x33eb56*(0x13*-0x20b+-0x28d*0x5+0x3395)+(0xe17+0xe7d+-0x1c93)],_0xbe25ea[_0x33eb56*(0x1*0x679+-0xba8*-0x3+-0x296e)+(0x397+-0x3e3+0x4e)]),_0x9a03fd['set'](_0xbe25ea[_0x48294d*(-0x8*0x4a0+-0x1f30+0x4433)],_0xbe25ea[_0x48294d*(-0x2259+-0xbc0+0x1c6*0x1a)+(-0x7*-0x45d+-0xc27+-0x1263)],_0xbe25ea[_0x48294d*(-0x1aab+-0xa02+-0x1258*-0x2)+(-0x330*-0x9+0xed2*0x2+-0xa*0x5d5)]),_0x26790b['sub2'](_0x4f795e,_0x1d321e),_0x3ab265['sub2'](_0x9a03fd,_0x1d321e),_0x19d624['cross'](_0x26790b,_0x3ab265)['normalize'](),_0x3092b0[_0x5b9e2c*(-0x1*0x1d95+-0x832+0x25ca)]+=_0x19d624['x'],_0x3092b0[_0x5b9e2c*(-0x13b+0x5c5*-0x2+0xcc8)+(-0xa75+0x2301+0x1*-0x188b)]+=_0x19d624['y'],_0x3092b0[_0x5b9e2c*(-0x181*0x2+0x18ea+-0x5f*0x3b)+(-0xf00+-0x2115+-0x1*-0x3017)]+=_0x19d624['z'],_0x3092b0[_0x33eb56*(-0x8c6+0x1*-0x388+0xc51)]+=_0x19d624['x'],_0x3092b0[_0x33eb56*(-0x6*0x575+-0x1*0x8f3+0x29b4)+(-0x155e+0x2b*-0x8b+-0x6c*-0x6a)]+=_0x19d624['y'],_0x3092b0[_0x33eb56*(0x18d0*0x1+-0x5d2+-0x1*0x12fb)+(0x1a11+0x2570+-0x3f7f)]+=_0x19d624['z'],_0x3092b0[_0x48294d*(0x103*-0x6+0x2d2+-0x343*-0x1)]+=_0x19d624['x'],_0x3092b0[_0x48294d*(-0x1053+0x1900+-0x8aa)+(0x889+-0x233*0x11+0x1*0x1cdb)]+=_0x19d624['y'],_0x3092b0[_0x48294d*(0xfc6+0x74*0x6+-0x127b)+(0xc2c+0x34b+-0x3*0x527)]+=_0x19d624['z'];}for(let _0x123738=-0x39e+0x40*0x97+-0x2222*0x1;_0x123738<_0x4159fe;_0x123738++){const _0x215efa=_0x3092b0[_0x123738*(0x1*0x1ff2+-0x1074+-0xf7b)],_0xb7430c=_0x3092b0[_0x123738*(-0x65f+0x1e75+-0x1813)+(0xe7e+0x3*-0x2c9+-0x622)],_0x5ed4a8=_0x3092b0[_0x123738*(0x3ed+-0x1f4e+-0x2*-0xdb2)+(-0x47+0x90b+-0x8c2)],_0x2c887f=(-0x2552+-0x8a5*0x3+-0x6*-0xa8b)/Math['sqrt'](_0x215efa*_0x215efa+_0xb7430c*_0xb7430c+_0x5ed4a8*_0x5ed4a8);_0x3092b0[_0x123738*(-0x1879+-0x265*-0x1+0x1617)]*=_0x2c887f,_0x3092b0[_0x123738*(0x237+-0x160e+0x15*0xf2)+(-0x2285+0x247e+-0x1f8)]*=_0x2c887f,_0x3092b0[_0x123738*(0x1482+0x2551+0x25*-0x190)+(0x1*-0x14a4+0x3*-0x75a+-0x155a*-0x2)]*=_0x2c887f;}return _0x3092b0;},pr=(_0xb847d6,_0x29be5,_0x6624b,_0x5a3710)=>{const _0x40a963=_0x5a3710['length']/(0x1*0xdff+-0xca8+-0x154),_0xeea443=_0xb847d6['length']/(0x15*0x57+0x1d66+-0x2486),_0x17fe7b=new A(),_0x4e7725=new A(),_0x4502b8=new A(),_0x595bda=new W(),_0x163171=new W(),_0xd5af63=new W(),_0x268786=new A(),_0x1404c4=new A(),_0x618d1c=new Float32Array(_0xeea443*(0x1adf+0xa*0xb4+-0x21e4)),_0xac748e=new Float32Array(_0xeea443*(0x2*-0x1c6+0xa28+-0x3*0x233)),_0xbb515d=[];for(let _0x4a37d7=0x2229+-0xbc3*0x3+0x4*0x48;_0x4a37d7<_0x40a963;_0x4a37d7++){const _0x550b3d=_0x5a3710[_0x4a37d7*(0xc44*0x3+0x99*-0x3e+0x45)],_0x568c59=_0x5a3710[_0x4a37d7*(0xddd*0x2+0x1f21+-0x38*0x10d)+(-0x16f3+-0xbb5+0x1*0x22a9)],_0x201fe1=_0x5a3710[_0x4a37d7*(-0x287*-0x5+0x1ec2+-0x2b62*0x1)+(-0x6e1*-0x3+-0x1a*0x3+-0x1453)];_0x17fe7b['set'](_0xb847d6[_0x550b3d*(0x40+0x3fb*-0x3+0xbb4)],_0xb847d6[_0x550b3d*(-0x2*-0x1193+0x253+-0x2576)+(0x359*-0x7+-0xc98+0x2408)],_0xb847d6[_0x550b3d*(-0x1d21+-0x1*0x171f+-0x11*-0x313)+(-0x1cbe+0x9eb*-0x1+0x209*0x13)]),_0x4e7725['set'](_0xb847d6[_0x568c59*(0x21e+-0x13ec+0x11d1)],_0xb847d6[_0x568c59*(0x2468+-0x17c9+-0xc9c)+(0x520+-0x1fdc+0x1*0x1abd)],_0xb847d6[_0x568c59*(-0x1*-0x17d1+0x14a7+-0x1*0x2c75)+(-0x1c9a*0x1+-0x61*0x37+0x3173*0x1)]),_0x4502b8['set'](_0xb847d6[_0x201fe1*(0x113b+-0x81d+-0x91b)],_0xb847d6[_0x201fe1*(-0x28c*0x9+-0x5*0xc1+0x1ab4)+(-0x503+-0x1*-0x244b+-0x33*0x9d)],_0xb847d6[_0x201fe1*(0x73f+-0x1*0x1869+0x112d)+(-0x26b7*-0x1+-0xd94+-0x1921)]),_0x595bda['set'](_0x6624b[_0x550b3d*(0x40e+0x26*0xdf+-0x2526)],_0x6624b[_0x550b3d*(-0x1*0x1dc7+-0x1cff+0x3ac8)+(0x107+-0x23b3+0x22ad*0x1)]),_0x163171['set'](_0x6624b[_0x568c59*(0x10d4+-0x197a+-0x115*-0x8)],_0x6624b[_0x568c59*(-0x14b+0xd8c+-0xc3f)+(0x15b+-0x1a3*0x2+0x1ec)]),_0xd5af63['set'](_0x6624b[_0x201fe1*(0x6e7+0xc9d*-0x2+0xf7*0x13)],_0x6624b[_0x201fe1*(0x2299+-0xec5+-0x13d2)+(0x1*-0x23e9+0xc9b+0x174f)]);const _0x3f51c3=_0x4e7725['x']-_0x17fe7b['x'],_0x359b36=_0x4502b8['x']-_0x17fe7b['x'],_0x5c0fd2=_0x4e7725['y']-_0x17fe7b['y'],_0x39855e=_0x4502b8['y']-_0x17fe7b['y'],_0x1d5030=_0x4e7725['z']-_0x17fe7b['z'],_0x2b2007=_0x4502b8['z']-_0x17fe7b['z'],_0x1126e5=_0x163171['x']-_0x595bda['x'],_0x1206ea=_0xd5af63['x']-_0x595bda['x'],_0x5e14a0=_0x163171['y']-_0x595bda['y'],_0x5ccbb7=_0xd5af63['y']-_0x595bda['y'],_0x1c1d49=_0x1126e5*_0x5ccbb7-_0x1206ea*_0x5e14a0;if(_0x1c1d49===0x1496+0x131e+0xb*-0x39c)_0x268786['set'](-0x1*-0xc1+0x9*-0x3c2+0x2111*0x1,0x1a7*-0x15+-0x2c6+0xf6*0x27,0x9a4+0x112*-0x21+0x26*0xad),_0x1404c4['set'](-0x47*0x26+0x820+-0x1*-0x26b,0x3*0x5c1+-0xd07*0x2+0x8cb,-0x26e*-0x7+0xb11+-0x1*0x1c13);else{const _0x2f9c24=(-0x9b7+0x11*0xc5+-0x35d)/_0x1c1d49;_0x268786['set']((_0x5ccbb7*_0x3f51c3-_0x5e14a0*_0x359b36)*_0x2f9c24,(_0x5ccbb7*_0x5c0fd2-_0x5e14a0*_0x39855e)*_0x2f9c24,(_0x5ccbb7*_0x1d5030-_0x5e14a0*_0x2b2007)*_0x2f9c24),_0x1404c4['set']((_0x1126e5*_0x359b36-_0x1206ea*_0x3f51c3)*_0x2f9c24,(_0x1126e5*_0x39855e-_0x1206ea*_0x5c0fd2)*_0x2f9c24,(_0x1126e5*_0x2b2007-_0x1206ea*_0x1d5030)*_0x2f9c24);}_0x618d1c[_0x550b3d*(0x2643+0x3*0xb67+-0x1827*0x3)+(-0x1a3+-0x62b+0x7ce)]+=_0x268786['x'],_0x618d1c[_0x550b3d*(0x1b0e+0x1c22+0xb09*-0x5)+(0x18be+0x1*-0x1bed+-0x30*-0x11)]+=_0x268786['y'],_0x618d1c[_0x550b3d*(0xa91*0x1+0xd38*0x1+-0xbe3*0x2)+(0xe*0x221+-0x1065+-0x2f*0x49)]+=_0x268786['z'],_0x618d1c[_0x568c59*(-0x58*-0x1e+-0x789*0x2+0x4c5)+(0x10af*-0x2+0x2*-0x361+-0xa08*-0x4)]+=_0x268786['x'],_0x618d1c[_0x568c59*(-0x740*0x3+-0x3b*0x5+0x346*0x7)+(0x3ee+-0x2491+0x20a4)]+=_0x268786['y'],_0x618d1c[_0x568c59*(-0xe1d+0x13*0x189+0x1*-0xf0b)+(0x1*-0x1787+-0x18*-0x78+0xc49)]+=_0x268786['z'],_0x618d1c[_0x201fe1*(0xa*0x35+0x75c+-0x96b)+(-0x1d*-0xdf+-0x14e+-0x1*0x17f5)]+=_0x268786['x'],_0x618d1c[_0x201fe1*(0x55e+-0x21dd+0x2*0xe41)+(-0x85f*0x1+-0x1ffb+0x285b*0x1)]+=_0x268786['y'],_0x618d1c[_0x201fe1*(-0x965+0x2003+-0x169b)+(-0x733*-0x3+0x569+-0x480*0x6)]+=_0x268786['z'],_0xac748e[_0x550b3d*(0x155*0x1+0xb22+-0x63a*0x2)+(-0xf*0x299+0xb*-0x4f+0x2a5c)]+=_0x1404c4['x'],_0xac748e[_0x550b3d*(0x8f5*0x2+0x247b+-0x2*0x1b31)+(0x2129+0x1574+-0x369c)]+=_0x1404c4['y'],_0xac748e[_0x550b3d*(-0x1fc+0x6cf+-0x4d0)+(0x914*0x4+-0x6c6*0x5+-0x270)]+=_0x1404c4['z'],_0xac748e[_0x568c59*(0xa86+0x119a+-0x3*0x95f)+(0x22c5+0x223d*-0x1+-0x4*0x22)]+=_0x1404c4['x'],_0xac748e[_0x568c59*(0x1175+0x1386+-0x1*0x24f8)+(-0x1bdd+-0x48*-0x6b+-0x23a)]+=_0x1404c4['y'],_0xac748e[_0x568c59*(-0x1*0xa1f+0x1bf1+0x11cf*-0x1)+(0x266*0xf+0x177f+-0x3b77)]+=_0x1404c4['z'],_0xac748e[_0x201fe1*(-0x203*0x1+-0x21f9*0x1+0x23ff)+(0xa2a+0x689*-0x3+0x971)]+=_0x1404c4['x'],_0xac748e[_0x201fe1*(0xf98+-0x224d+0x12b8)+(-0x19f4+-0x1397+-0x14*-0x247)]+=_0x1404c4['y'],_0xac748e[_0x201fe1*(0x4f*-0x23+-0x1956+0x2426)+(-0x52d*0x2+-0x1*-0x1fd8+-0x157c)]+=_0x1404c4['z'];}const _0x229cbf=new A(),_0x38a8d7=new A(),_0x181c3c=new A(),_0x385d1b=new A();for(let _0x52229b=0x1*-0x5a6+-0x1d*0x135+-0x28a7*-0x1;_0x52229b<_0xeea443;_0x52229b++){_0x181c3c['set'](_0x29be5[_0x52229b*(0x3b*-0x8b+0x46*-0xf+0x2426)],_0x29be5[_0x52229b*(0x17a9+0xe1+0x381*-0x7)+(-0x1*0xf07+-0x5e0+0x14e8)],_0x29be5[_0x52229b*(-0x542*-0x3+0x1de4*-0x1+0xe21)+(-0x2f8+-0x1b55+0x1e4f)]),_0x229cbf['set'](_0x618d1c[_0x52229b*(-0x47f*0x1+-0x1*0x7c9+0x1*0xc4b)],_0x618d1c[_0x52229b*(-0x2*0x6b2+-0x2398+0x30ff)+(0x1072+-0x2*-0x2cf+-0x1*0x160f)],_0x618d1c[_0x52229b*(-0x51*0x3f+0x173+0x127f)+(-0x15e*0xe+-0xa8a*0x3+-0x13*-0x2ac)]),_0x38a8d7['set'](_0xac748e[_0x52229b*(-0x265*0x6+-0xe*0x221+-0x2c2f*-0x1)],_0xac748e[_0x52229b*(-0x1*0xca7+0x35*-0x11+-0x565*-0x3)+(0x12*-0x17e+0x127*0x1+0x19b6)],_0xac748e[_0x52229b*(-0x1c65+-0xd8a+0x76*0x5b)+(0x32*-0x49+-0x1f*0x53+-0x1851*-0x1)]);const _0x188be4=_0x181c3c['dot'](_0x229cbf);_0x385d1b['copy'](_0x181c3c)['mulScalar'](_0x188be4),_0x385d1b['sub2'](_0x229cbf,_0x385d1b)['normalize'](),_0xbb515d[_0x52229b*(-0x10*0x151+0x1*-0x26f3+-0x575*-0xb)]=_0x385d1b['x'],_0xbb515d[_0x52229b*(-0x5b3*-0x4+-0x88c+-0xe3c)+(0x1762+-0x1*-0x6fa+-0x1e5b)]=_0x385d1b['y'],_0xbb515d[_0x52229b*(0x2*0x1cf+0x449*0x7+-0x2199)+(0x479+-0x1*-0x97f+-0xdf6*0x1)]=_0x385d1b['z'],_0x385d1b['cross'](_0x181c3c,_0x229cbf),_0xbb515d[_0x52229b*(-0x281*-0xd+0x3*-0x839+-0x6a*0x13)+(0x1*-0xf1a+-0x38b+0x12a8)]=_0x385d1b['dot'](_0x38a8d7)<0xba9+0x4ed*0x6+-0x2937?-(0x5a9+0x2*-0x51b+0x48e):-0x1*0x8e0+-0x6*-0x60b+-0xa3*0x2b;}return _0xbb515d;};class _n{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){b['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),b['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=B0(this['positions'],this['indices']);}['calculateT'+'angents'](){b['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),b['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),b['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),b['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const ju=(0x2079+0x1*0x1aa4+-0x3*0x13b3)/(-0x1e99+0x13*0x10d+0xae2),F_=-0x1*-0xea1+-0x1a*-0x20+-0x68*0x2c-ju*(-0x299*-0x8+-0xa96+-0x4*0x28c);class Yu extends _n{constructor(_0x4f3ffb={}){super();const _0x1ff015=_0x4f3ffb['halfExtent'+'s']??new A(-0xc1*0x2+0x2087+-0x1f05+0.5,-0x4*0x479+-0x22*-0x53+0x6de+0.5,-0x1*-0x504+0x16f1+-0x11*0x1a5+0.5),_0x1127b2=_0x4f3ffb['widthSegme'+'nts']??-0xe*0x203+0x660+-0x15cb*-0x1,_0x181155=_0x4f3ffb['lengthSegm'+'ents']??0x278*0x9+-0x1*-0x2025+-0x31*0x11c,_0x2cb9cf=_0x4f3ffb['heightSegm'+'ents']??-0x254e+0xb*0x59+0x1*0x217c,_0x55f169=_0x4f3ffb['yOffset']??0x8f5*-0x1+-0x1*0x25a1+0x2e96,_0x32bc2f=-_0x1ff015['y']+_0x55f169,_0x200000=_0x1ff015['y']+_0x55f169,_0x44e48c=[new A(-_0x1ff015['x'],_0x32bc2f,_0x1ff015['z']),new A(_0x1ff015['x'],_0x32bc2f,_0x1ff015['z']),new A(_0x1ff015['x'],_0x200000,_0x1ff015['z']),new A(-_0x1ff015['x'],_0x200000,_0x1ff015['z']),new A(_0x1ff015['x'],_0x32bc2f,-_0x1ff015['z']),new A(-_0x1ff015['x'],_0x32bc2f,-_0x1ff015['z']),new A(-_0x1ff015['x'],_0x200000,-_0x1ff015['z']),new A(_0x1ff015['x'],_0x200000,-_0x1ff015['z'])],_0x384579=[[-0x9ad*0x1+-0x6da*0x2+0x1761,-0x41c*-0x9+0x1*0x236+-0x2731,0x1276+-0xd3c+-0x537],[-0xf8*-0x5+0x171f*0x1+0x5*-0x597,0x65*0x25+-0x2023+0x118f,-0x2*-0xf7f+-0x1041+-0xeb6],[0x8f8+0x6*-0x32+-0x7c9,-0x1*0x1acf+-0x89e*0x4+0x21d*0x1d,-0x236a+0x1411*0x1+0xf5f],[0x174c+0x571*0x2+-0x1*0x222d,0x2ea*-0x1+-0x6f+0x1*0x359,-0x21da+0x23f3+0x29*-0xd],[-0x5*-0x3eb+-0xecd*0x1+-0xf5*0x5,0xaf4+-0xa94*-0x1+0x264*-0x9,0x1d*-0x98+0x129d*0x1+0x47*-0x5],[0x693+-0x17*0xc7+0xb53,0x1*-0x9a9+0xe07+-0x45e,-0x2*-0x10ff+0x1ece*-0x1+-0x32a]],_0x2bfb23=[[-0x7*0x583+0x1d*0x13f+0x272,0x8d9*-0x2+0x17fb*-0x1+0x1*0x29ad,-0x5*0x534+0x1f1b+-0x516],[0x1*0x18be+0x392*-0x2+-0x119a,-0x2b*-0x3f+-0x19b8+0x9b*0x19,-(0xcd*-0x1d+-0x1f71+0x36ab)],[0x2*0x1a3+0x5*0x6ad+-0x24a7*0x1,0x221*0x4+0x22f0+-0x7*0x635,-0x1315+-0xc7*-0x2+-0x1*-0x1187],[0x1b8b+-0x7d4+0x2d1*-0x7,-(-0x14cd+-0x1*-0x233+0x129b),-0x2*-0x1148+0x24c1+-0x4751],[0x29*-0x8e+-0x1095+0xd1c*0x3,0x2356+-0xa13+0x1943*-0x1,0x186a+-0x10cf+-0xb*0xb1],[-(-0x1*0xfe5+-0xd81+0x1*0x1d67),0xfa9+0x131a+-0x22c3,-0x2346+0x4cd*-0x8+0x1*0x49ae]],_0x3fc504={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x34986d=[],_0x55249b=[],_0x1d8a0a=[],_0x3cf364=[];let _0x124196=0x23b*-0x2+-0x1b71*0x1+0x1fe7;const _0x29cd82=(_0x524c84,_0x108cc5,_0x3b827d)=>{const _0x1e23ac=new A(),_0xc10787=new A(),_0x465c60=new A(),_0x129ccd=new A();for(let _0x272251=0x439+-0x606*-0x6+-0x285d;_0x272251<=_0x108cc5;_0x272251++)for(let _0x4a5eca=-0x6f*0x12+-0x3*-0x6fb+-0xd23;_0x4a5eca<=_0x3b827d;_0x4a5eca++){_0x1e23ac['lerp'](_0x44e48c[_0x384579[_0x524c84][0x1*-0x233+0x19*0x188+-0x2415]],_0x44e48c[_0x384579[_0x524c84][-0x824+-0x1c41+0x3*0xc22]],_0x272251/_0x108cc5),_0xc10787['lerp'](_0x44e48c[_0x384579[_0x524c84][-0x5*0x4a6+0x67*-0x5f+0x3d77]],_0x44e48c[_0x384579[_0x524c84][-0x87b+-0x1*-0x2677+-0x1dfa]],_0x4a5eca/_0x3b827d),_0x465c60['sub2'](_0xc10787,_0x44e48c[_0x384579[_0x524c84][-0xc57+-0x729+0x1380]]),_0x129ccd['add2'](_0x1e23ac,_0x465c60);let _0x14c974=_0x272251/_0x108cc5,_0xb776a8=_0x4a5eca/_0x3b827d;_0x34986d['push'](_0x129ccd['x'],_0x129ccd['y'],_0x129ccd['z']),_0x55249b['push'](_0x2bfb23[_0x524c84][-0x2cf+-0xa3*-0x7+-0x1a6],_0x2bfb23[_0x524c84][0xc57+-0x2061+0x1*0x140b],_0x2bfb23[_0x524c84][-0x16cb*-0x1+-0xcad+-0xa1c]),_0x1d8a0a['push'](_0x14c974,0x723*0x5+0x2*-0x1bb+-0x8*0x407-_0xb776a8),_0x14c974=_0x14c974*F_+ju,_0xb776a8=_0xb776a8*F_+ju,_0x14c974/=0x2*-0x699+-0xd10+0x1a45,_0xb776a8/=-0x1a9c+0x2*-0xdd5+0x3649,_0x14c974+=_0x524c84%(-0xeb*0x11+-0x33*0x89+0x34d*0xd)/(-0x7*0x3d7+-0xb11+0x25f5),_0xb776a8+=Math['floor'](_0x524c84/(-0x11*-0x73+0x5*-0x6d3+0x3c9*0x7))/(0x2247+0x287*0x2+0x1*-0x2752),_0x272251<_0x108cc5&&_0x4a5eca<_0x3b827d&&(_0x3cf364['push'](_0x124196+_0x3b827d+(0x277*-0xb+0xc65+0xeb9),_0x124196+(-0x26f2+0xe0*-0x29+-0xef7*-0x5),_0x124196),_0x3cf364['push'](_0x124196+_0x3b827d+(-0x1ff3+0x1*0x151+-0x17*-0x155),_0x124196+_0x3b827d+(0xc*0x223+0x11e+-0x1ac0),_0x124196+(-0x877*-0x1+-0x4ed*0x5+0x102b))),_0x124196++;}};_0x29cd82(_0x3fc504['FRONT'],_0x1127b2,_0x2cb9cf),_0x29cd82(_0x3fc504['BACK'],_0x1127b2,_0x2cb9cf),_0x29cd82(_0x3fc504['TOP'],_0x1127b2,_0x181155),_0x29cd82(_0x3fc504['BOTTOM'],_0x1127b2,_0x181155),_0x29cd82(_0x3fc504['RIGHT'],_0x181155,_0x2cb9cf),_0x29cd82(_0x3fc504['LEFT'],_0x181155,_0x2cb9cf),this['positions']=_0x34986d,this['normals']=_0x55249b,this['uvs']=_0x1d8a0a,this['uvs1']=_0x1d8a0a,this['indices']=_0x3cf364,_0x4f3ffb['calculateT'+'angents']&&(this['tangents']=pr(_0x34986d,_0x55249b,_0x1d8a0a,_0x3cf364));}}class N0 extends _n{constructor(_0x217be4={}){super();const _0x4f2854=_0x217be4['radius']??0x2515+0xc99+0x31ae*-0x1+0.5,_0x4dd29a=_0x217be4['latitudeBa'+'nds']??-0xd55+0x1b47+-0xde2,_0x486771=_0x217be4['longitudeB'+'ands']??0x2*0x655+-0x284+-0xa16,_0x18418e=[],_0x4aeee5=[],_0x4827a8=[],_0x1134f1=[];for(let _0x5df178=0x3d*-0x4f+-0x2c7*0x8+0x290b;_0x5df178<=_0x4dd29a;_0x5df178++){const _0x18bb33=_0x5df178*Math['PI']/_0x4dd29a,_0x434ba1=Math['sin'](_0x18bb33),_0x1ca80c=Math['cos'](_0x18bb33);for(let _0x2ceeb5=-0x15fd*0x1+-0x579*-0x7+-0x1052*0x1;_0x2ceeb5<=_0x486771;_0x2ceeb5++){const _0x3ba695=_0x2ceeb5*(-0x25*-0x3b+-0x20b*0x2+-0x46f)*Math['PI']/_0x486771-Math['PI']/(0x22f7+0x1e0e+-0x5e9*0xb),_0x310392=Math['sin'](_0x3ba695),_0x3edd97=Math['cos'](_0x3ba695)*_0x434ba1,_0x543834=_0x1ca80c,_0x1b1ab1=_0x310392*_0x434ba1,_0x162e5a=0x2506*-0x1+-0x1*-0x77b+-0xec6*-0x2-_0x2ceeb5/_0x486771,_0x1e8a2b=0x6bb*0x1+-0x277*0xd+0x1951-_0x5df178/_0x4dd29a;_0x18418e['push'](_0x3edd97*_0x4f2854,_0x543834*_0x4f2854,_0x1b1ab1*_0x4f2854),_0x4aeee5['push'](_0x3edd97,_0x543834,_0x1b1ab1),_0x4827a8['push'](_0x162e5a,0x2010+-0x1*-0x34c+-0x235b-_0x1e8a2b);}}for(let _0x2d2aeb=0x1ac+-0x1d7d+0x1bd1;_0x2d2aeb<_0x4dd29a;++_0x2d2aeb)for(let _0x38b80d=0x2607+0x26b3+0x2e*-0x1ab;_0x38b80d<_0x486771;++_0x38b80d){const _0x38d23a=_0x2d2aeb*(_0x486771+(0x1*0x20fb+0x1ca8+0x467*-0xe))+_0x38b80d,_0x1edd45=_0x38d23a+_0x486771+(-0x1e19+0x1*0x22b5+-0x49b);_0x1134f1['push'](_0x38d23a+(-0x1ec6+0x112*-0x1b+0x3bad),_0x1edd45,_0x38d23a),_0x1134f1['push'](_0x38d23a+(0xc34+0x1*0x94e+-0x1*0x1581),_0x1edd45+(0x1af+0x1abb+0x1*-0x1c69),_0x1edd45);}this['positions']=_0x18418e,this['normals']=_0x4aeee5,this['uvs']=_0x4827a8,this['uvs1']=_0x4827a8,this['indices']=_0x1134f1,_0x217be4['calculateT'+'angents']&&(this['tangents']=pr(_0x18418e,_0x4aeee5,_0x4827a8,_0x1134f1));}}class m1 extends N0{constructor(_0x4772e1={}){const _0xc0b76f=_0x4772e1['latitudeBa'+'nds']??-0x1ec9+-0x1c99+-0x2*-0x1db9,_0x217061=_0x4772e1['longitudeB'+'ands']??-0x3*-0x909+0x5*-0x745+-0x6*-0x18d;super({'radius':0.5,'latitudeBands':_0xc0b76f,'longitudeBands':_0x217061});const _0x31c22e=-0xf68+0x1*0x26c8+-0x1760+0.1,_0x3084d5=-0x1081+0x145c+-0x3db+0.95,_0x1f6cae=_0x3084d5*_0x3084d5,_0x5cb8c2=this['positions'];for(let _0x4b3245=0xe*0x7d+0x5f8+-0xcce;_0x4b3245<_0x5cb8c2['length'];_0x4b3245+=0x1b9+-0x7*-0x33b+-0x1853){const _0x11672d=_0x5cb8c2[_0x4b3245]/(-0xa06+-0x16*0x152+0x2712+0.5);let _0x4d6891=_0x5cb8c2[_0x4b3245+(-0x72b+-0x3*0x6f+0x879)]/(0x789+0x2c4*-0x3+0x5*0x27+0.5);const _0x9bf71d=_0x5cb8c2[_0x4b3245+(0x1bf*-0x16+0x1*-0x1ef7+0x1721*0x3)]/(-0x881+0x1*-0x1e6d+0x26ee+0.5);_0x4d6891<-0x896+0x8*-0x316+0x2146&&(_0x4d6891*=0x1*-0x14aa+0x888+0xc22+0.3,_0x11672d*_0x11672d+_0x9bf71d*_0x9bf71d<_0x1f6cae&&(_0x4d6891=-(0x2c*-0xe3+-0x8*0x49d+-0x4*-0x12fb+0.1))),_0x4d6891+=_0x31c22e,_0x4d6891*=-0x3b*0x61+0x20e8+0x1*-0xa8d+0.5,_0x5cb8c2[_0x4b3245+(-0x15b*0xc+-0x971*0x2+0x2327)]=_0x4d6891;}}}class To{static['create'](_0x113390,_0xc6155e){switch(_0xc6155e){case tw:return To['box'](_0x113390);case sw:return To['dome'](_0x113390);}return b['assert'](_0xc6155e===wo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0xc6155e),To['infinite'](_0x113390);}static['infinite'](_0x1c4dd7){return ke['fromGeomet'+'ry'](_0x1c4dd7,new Yu(_0x1c4dd7));}static['box'](_0x2b5382){return ke['fromGeomet'+'ry'](_0x2b5382,new Yu({'yOffset':0.5}));}static['dome'](_0x4622ed){const _0x19c990=new m1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x19c990['normals']=void(-0x1425+-0x4*0x2+0x142d),_0x19c990['uvs']=void(0x1a65*-0x1+0x208b*0x1+-0x2*0x313),ke['fromGeomet'+'ry'](_0x4622ed,_0x19c990);}}class _1{constructor(_0x35cddc,_0x34f241,_0x6ea362,_0x205d02,_0x103b0a){c(this,'meshInstan'+'ce',null);const _0x1d82a2=new La({'uniqueName':'SkyMateria'+'l','vertexCode':j['skyboxVS'],'fragmentCode':j['skyboxPS'],'attributes':{'aPosition':Xe}});_0x1d82a2['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Ds['decodeFunc'](_0x205d02['encoding'])),_0x103b0a!==wo&&_0x1d82a2['setDefine']('SKYMESH',''),_0x205d02['cubemap']&&_0x1d82a2['setDefine']('SKY_CUBEMA'+'P',''),_0x1d82a2['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x34f241['skyboxHigh'+'lightMulti'+'plier']),_0x205d02['cubemap']?_0x1d82a2['setParamet'+'er']('texture_cu'+'beMap',_0x205d02):(_0x1d82a2['setParamet'+'er']('texture_en'+'vAtlas',_0x205d02),_0x1d82a2['setParamet'+'er']('mipLevel',_0x34f241['skyboxMip'])),_0x1d82a2['cull']=xo,_0x1d82a2['depthWrite']=!(-0x1fae+-0x8e*-0x30+0x50f);const _0x1c8266=_0x34f241['layers']['getLayerBy'+'Id'](Ap);if(_0x1c8266){const _0x3aad5b=To['create'](_0x35cddc,_0x103b0a),_0x1acc53=new Be(_0x3aad5b,_0x1d82a2,_0x6ea362);this['meshInstan'+'ce']=_0x1acc53,_0x1acc53['cull']=!(0x19*-0x189+-0x35b*0xa+0x47f0),_0x1acc53['pick']=!(0x8b9+-0xa1*0x2+-0x5*0x17e),_0x1c8266['addMeshIns'+'tances']([_0x1acc53]),this['skyLayer']=_0x1c8266;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class g1{constructor(_0xee1122){c(this,'_type',wo),c(this,'_center',new A(-0x8b+0x15de+-0x1*0x1553,-0x74b*0x1+0x18c5+-0x1179,0x2352+-0x347*-0xb+0x1*-0x475f)),c(this,'skyMesh',null),c(this,'node',new Oe('SkyMeshNod'+'e')),(this['device']=_0xee1122['device'],this['scene']=_0xee1122,this['center']=new A(0x57*0x3d+0x4ae+0x1*-0x1969,-0x1634+-0x202f*-0x1+-0x2*0x4fd,-0x646+-0x28a+0x8d0),this['centerArra'+'y']=new Float32Array(0x2*0x141+-0x20f8+0x1e79),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x16fdbd){this['type']=_0x16fdbd['skyType']??wo,this['node']['setLocalPo'+'sition'](new A(_0x16fdbd['skyMeshPos'+'ition']??[-0x1a66+0x4d5+0x1591*0x1,-0x1c5*0x1+-0x22a*-0x6+0x1d*-0x63,-0x16f7*-0x1+0xb52+0x83*-0x43])),this['node']['setLocalEu'+'lerAngles'](new A(_0x16fdbd['skyMeshRot'+'ation']??[-0x61e*0x4+0x1*-0xeff+0x2777,0x1187+0x5a0+-0x1727,-0x4e7+-0xb35+0x2*0x80e])),this['node']['setLocalSc'+'ale'](new A(_0x16fdbd['skyMeshSca'+'le']??[-0x161a+0xb*-0x2e7+0x3608,0x1*0xca+0x837+-0x900,0x2*-0x101e+-0x170a+0x3747])),_0x16fdbd['skyCenter']&&(this['_center']=new A(_0x16fdbd['skyCenter']));}set['type'](_0xb0fe87){this['_type']!==_0xb0fe87&&(this['_type']=_0xb0fe87,this['scene']['updateShad'+'ers']=!(0x317*0x6+-0x15f8+0x36e),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x17a5ba){this['_center']['copy'](_0x17a5ba);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x58f061=this['scene']['_getSkybox'+'Tex']();_0x58f061&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new _1(this['device'],this['scene'],this['node'],_0x58f061,this['type']),this['scene']['fire']('set:skybox',_0x58f061));}['resetSkyMe'+'sh'](){var _0xf6d9b8;(_0xf6d9b8=this['skyMesh'])==null||_0xf6d9b8['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==wo){const {center:_0x5f0620,centerArray:_0x17af93}=this,_0x271aa5=new A();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x5f0620,_0x271aa5),_0x17af93[-0x4*-0x663+0x1*-0x1bf9+0x1b*0x17]=_0x271aa5['x'],_0x17af93[0x1*-0x10b6+-0xecf*-0x1+-0x1e8*-0x1]=_0x271aa5['y'],_0x17af93[-0x1*0x3f5+-0x7*0x180+0x17*0xa1]=_0x271aa5['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x17af93);}}}const jh=new Oe();jh['worldTrans'+'form']=q['IDENTITY'],jh['_dirtyWorl'+'d']=jh['_dirtyNorm'+'al']=!(-0x1337+-0x6*-0x33c+-0x3*0x10);class y1{constructor(_0x529b7c,_0x42d5ee,_0x27d59d){this['material']=_0x42d5ee,this['layer']=_0x27d59d,this['positions']=[],this['colors']=[],this['mesh']=new ke(_0x529b7c),this['meshInstan'+'ce']=null;}['addLines'](_0x2649a9,_0x84aca1){const _0x498d5a=this['positions'],_0x2b69e1=_0x2649a9['length'];for(let _0x13a898=-0x22*-0xf4+0x1*0x43b+0x53*-0x71;_0x13a898<_0x2b69e1;_0x13a898++){const _0x15a66c=_0x2649a9[_0x13a898];_0x498d5a['push'](_0x15a66c['x'],_0x15a66c['y'],_0x15a66c['z']);}const _0x5be042=this['colors'];if(_0x84aca1['length'])for(let _0x42d90e=-0xbe3+0x19e+0xa45;_0x42d90e<_0x2b69e1;_0x42d90e++){const _0xc920ce=_0x84aca1[_0x42d90e];_0x5be042['push'](_0xc920ce['r'],_0xc920ce['g'],_0xc920ce['b'],_0xc920ce['a']);}else{for(let _0x11da88=-0x1c28+0x1979+0x2af;_0x11da88<_0x2b69e1;_0x11da88++)_0x5be042['push'](_0x84aca1['r'],_0x84aca1['g'],_0x84aca1['b'],_0x84aca1['a']);}}['addLinesAr'+'rays'](_0x110d15,_0x5b7449){const _0x19397a=this['positions'];for(let _0x222204=-0x81a+-0x26*-0x83+-0xc*0xf2;_0x222204<_0x110d15['length'];_0x222204+=0x1905+-0xf53*-0x1+0x19d*-0x19)_0x19397a['push'](_0x110d15[_0x222204],_0x110d15[_0x222204+(-0x517*0x3+-0x377*0x2+0x1634)],_0x110d15[_0x222204+(0x99b*0x1+-0x2140+0x5*0x4bb)]);const _0x3f945f=this['colors'];if(_0x5b7449['length']){for(let _0x3c04af=-0xa*0x39f+-0x1*0x11b5+0x35eb;_0x3c04af<_0x5b7449['length'];_0x3c04af+=-0x55c*0x7+0xa7*-0x39+0x4ab7)_0x3f945f['push'](_0x5b7449[_0x3c04af],_0x5b7449[_0x3c04af+(-0x916+0x1118+-0x2ab*0x3)],_0x5b7449[_0x3c04af+(0xd9e+0x1ffb+-0x2d97)],_0x5b7449[_0x3c04af+(0x1d3*0x4+-0x24b6+0x1d6d)]);}else{const _0x25f0fb=_0x110d15['length']/(-0xcb3*-0x2+0xc61+-0x25c4);for(let _0x4702f4=-0x1302+0x21de+-0xedc;_0x4702f4<_0x25f0fb;_0x4702f4++)_0x3f945f['push'](_0x5b7449['r'],_0x5b7449['g'],_0x5b7449['b'],_0x5b7449['a']);}}['onPreRende'+'r'](_0x2360d9,_0x1e2411){this['positions']['length']>-0x24de+-0x2f2+0x27d0&&this['material']['transparen'+'t']===_0x1e2411&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Lc,!(0x35e+0x22b4+-0x2611)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Be(this['mesh'],this['material'],jh)),_0x2360d9['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x1c9c+-0xda*-0x22+-0x58,this['colors']['length']=-0x95d+-0xe4b+0x17a8;}}class x1{constructor(_0x23d0aa){this['device']=_0x23d0aa,this['map']=new Map();}['getBatch'](_0x1f05d8,_0x530c3c){let _0x2ec482=this['map']['get'](_0x1f05d8);return _0x2ec482||(_0x2ec482=new y1(this['device'],_0x1f05d8,_0x530c3c),this['map']['set'](_0x1f05d8,_0x2ec482)),_0x2ec482;}['onPreRende'+'r'](_0x277cc0,_0x16a0cc){this['map']['forEach'](_0x4fbd48=>{_0x4fbd48['onPreRende'+'r'](_0x277cc0,_0x16a0cc);});}['clear'](){this['map']['forEach'](_0x51fad7=>_0x51fad7['clear']());}}const ns=[],kn=new A(),S1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':Xe,'vertex_color':It}};class v1{constructor(_0x5aa860){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x5aa860,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0xc5a699){const _0x4be512=new La(S1);return _0x4be512['blendType']=Gt,_0x4be512['depthTest']=_0xc5a699,_0x4be512['update'](),_0x4be512;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x3*-0x899+-0x10b+0x90*-0x2c))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x17*0x6c+-0x5*-0x37f+0x5*-0x18e))),this['_materialN'+'oDepth'];}['getBatch'](_0x47ac60,_0x386919){let _0x29c5cb=this['batchesMap']['get'](_0x47ac60);_0x29c5cb||(_0x29c5cb=new x1(this['device']),this['batchesMap']['set'](_0x47ac60,_0x29c5cb)),this['allBatches']['add'](_0x29c5cb);const _0x567fcc=_0x386919?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x29c5cb['getBatch'](_0x567fcc,_0x47ac60);}['getShaderD'+'esc'](_0x5c391c,_0x12dee7){return this['shaderDesc'+'s']['has'](_0x5c391c)||this['shaderDesc'+'s']['set'](_0x5c391c,{'uniqueName':'DebugShade'+'r:'+_0x5c391c,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x12dee7,'attributes':{'vertex_position':Xe}}),this['shaderDesc'+'s']['get'](_0x5c391c);}['getTexture'+'ShaderDesc'](_0x47553a){const _0x4aaf2d=Ds['decodeFunc'](_0x47553a);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x47553a,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x4aaf2d+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+j['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new ke(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x16e*-0x5+0x116*-0xb+0x4cc+0.5),-(0xf*0xd2+0x469*-0x8+-0xb7d*-0x2+0.5),-0x1*-0x1945+-0x21e*-0x9+-0x2c53,0x10d0+-0xe02+0x1*-0x2ce+0.5,-(-0xa45*-0x2+-0x16b0+0x226+0.5),-0x1a4b+-0x1e44+-0x388f*-0x1,-(-0x1f57*0x1+-0x225b+-0x3*-0x15e6+0.5),0x1af*0x8+0xa*0xa7+0x355*-0x6+0.5,0x77a+0x195e+-0x20d8,0x1abf+0x645+-0x2104+0.5,-0xa7*0x10+0x1509+-0xa99*0x1+0.5,0x15*-0x5a+-0x20e9+0x284b]),this['quadMesh']['update'](lr)),this['quadMesh'];}['drawMesh'](_0x580081,_0x2ff21b,_0x4d8cba,_0x5895aa,_0x49b066){if(!_0x5895aa){const _0x210160=this['getGraphNo'+'de'](_0x2ff21b);_0x5895aa=new Be(_0x4d8cba,_0x580081,_0x210160);}let _0x4f9bbf=this['layerMeshI'+'nstances']['get'](_0x49b066);_0x4f9bbf||(_0x4f9bbf=[],this['layerMeshI'+'nstances']['set'](_0x49b066,_0x4f9bbf)),_0x4f9bbf['push'](_0x5895aa);}['drawWireAl'+'ignedBox'](_0x37952d,_0x5e0cd9,_0x5a29f0,_0x4e7bd8,_0x44cf03,_0x2e04f2){if(_0x2e04f2){const _0x3d084f=(_0x51888c,_0x1e6cbd,_0x4fff94)=>{kn['set'](_0x51888c,_0x1e6cbd,_0x4fff94),_0x2e04f2['transformP'+'oint'](kn,kn),ns['push'](kn['x'],kn['y'],kn['z']);};_0x3d084f(_0x37952d['x'],_0x37952d['y'],_0x37952d['z']),_0x3d084f(_0x37952d['x'],_0x5e0cd9['y'],_0x37952d['z']),_0x3d084f(_0x37952d['x'],_0x5e0cd9['y'],_0x37952d['z']),_0x3d084f(_0x5e0cd9['x'],_0x5e0cd9['y'],_0x37952d['z']),_0x3d084f(_0x5e0cd9['x'],_0x5e0cd9['y'],_0x37952d['z']),_0x3d084f(_0x5e0cd9['x'],_0x37952d['y'],_0x37952d['z']),_0x3d084f(_0x5e0cd9['x'],_0x37952d['y'],_0x37952d['z']),_0x3d084f(_0x37952d['x'],_0x37952d['y'],_0x37952d['z']),_0x3d084f(_0x37952d['x'],_0x37952d['y'],_0x5e0cd9['z']),_0x3d084f(_0x37952d['x'],_0x5e0cd9['y'],_0x5e0cd9['z']),_0x3d084f(_0x37952d['x'],_0x5e0cd9['y'],_0x5e0cd9['z']),_0x3d084f(_0x5e0cd9['x'],_0x5e0cd9['y'],_0x5e0cd9['z']),_0x3d084f(_0x5e0cd9['x'],_0x5e0cd9['y'],_0x5e0cd9['z']),_0x3d084f(_0x5e0cd9['x'],_0x37952d['y'],_0x5e0cd9['z']),_0x3d084f(_0x5e0cd9['x'],_0x37952d['y'],_0x5e0cd9['z']),_0x3d084f(_0x37952d['x'],_0x37952d['y'],_0x5e0cd9['z']),_0x3d084f(_0x37952d['x'],_0x37952d['y'],_0x37952d['z']),_0x3d084f(_0x37952d['x'],_0x37952d['y'],_0x5e0cd9['z']),_0x3d084f(_0x37952d['x'],_0x5e0cd9['y'],_0x37952d['z']),_0x3d084f(_0x37952d['x'],_0x5e0cd9['y'],_0x5e0cd9['z']),_0x3d084f(_0x5e0cd9['x'],_0x5e0cd9['y'],_0x37952d['z']),_0x3d084f(_0x5e0cd9['x'],_0x5e0cd9['y'],_0x5e0cd9['z']),_0x3d084f(_0x5e0cd9['x'],_0x37952d['y'],_0x37952d['z']),_0x3d084f(_0x5e0cd9['x'],_0x37952d['y'],_0x5e0cd9['z']);}else ns['push'](_0x37952d['x'],_0x37952d['y'],_0x37952d['z'],_0x37952d['x'],_0x5e0cd9['y'],_0x37952d['z'],_0x37952d['x'],_0x5e0cd9['y'],_0x37952d['z'],_0x5e0cd9['x'],_0x5e0cd9['y'],_0x37952d['z'],_0x5e0cd9['x'],_0x5e0cd9['y'],_0x37952d['z'],_0x5e0cd9['x'],_0x37952d['y'],_0x37952d['z'],_0x5e0cd9['x'],_0x37952d['y'],_0x37952d['z'],_0x37952d['x'],_0x37952d['y'],_0x37952d['z'],_0x37952d['x'],_0x37952d['y'],_0x5e0cd9['z'],_0x37952d['x'],_0x5e0cd9['y'],_0x5e0cd9['z'],_0x37952d['x'],_0x5e0cd9['y'],_0x5e0cd9['z'],_0x5e0cd9['x'],_0x5e0cd9['y'],_0x5e0cd9['z'],_0x5e0cd9['x'],_0x5e0cd9['y'],_0x5e0cd9['z'],_0x5e0cd9['x'],_0x37952d['y'],_0x5e0cd9['z'],_0x5e0cd9['x'],_0x37952d['y'],_0x5e0cd9['z'],_0x37952d['x'],_0x37952d['y'],_0x5e0cd9['z'],_0x37952d['x'],_0x37952d['y'],_0x37952d['z'],_0x37952d['x'],_0x37952d['y'],_0x5e0cd9['z'],_0x37952d['x'],_0x5e0cd9['y'],_0x37952d['z'],_0x37952d['x'],_0x5e0cd9['y'],_0x5e0cd9['z'],_0x5e0cd9['x'],_0x5e0cd9['y'],_0x37952d['z'],_0x5e0cd9['x'],_0x5e0cd9['y'],_0x5e0cd9['z'],_0x5e0cd9['x'],_0x37952d['y'],_0x37952d['z'],_0x5e0cd9['x'],_0x37952d['y'],_0x5e0cd9['z']);this['getBatch'](_0x44cf03,_0x4e7bd8)['addLinesAr'+'rays'](ns,_0x5a29f0),ns['length']=0x1da7+0x835+-0x25dc;}['drawWireSp'+'here'](_0x1e8209,_0x502cff,_0x224ade,_0x51499f,_0xe82451,_0x2f1c8c){const _0x5259c6=(-0x2*-0x8c6+-0x21d0+0x2*0x823)*Math['PI']/_0x51499f;let _0x571b42=-0x44c+-0x3*0x494+0x1208;for(let _0x442634=0x1*0x12c1+0xec9+-0x218a;_0x442634<_0x51499f;_0x442634++){const _0x5be9c6=Math['sin'](_0x571b42),_0x169159=Math['cos'](_0x571b42);_0x571b42+=_0x5259c6;const _0x311486=Math['sin'](_0x571b42),_0x1cb20f=Math['cos'](_0x571b42);ns['push'](_0x1e8209['x']+_0x502cff*_0x5be9c6,_0x1e8209['y'],_0x1e8209['z']+_0x502cff*_0x169159),ns['push'](_0x1e8209['x']+_0x502cff*_0x311486,_0x1e8209['y'],_0x1e8209['z']+_0x502cff*_0x1cb20f),ns['push'](_0x1e8209['x']+_0x502cff*_0x5be9c6,_0x1e8209['y']+_0x502cff*_0x169159,_0x1e8209['z']),ns['push'](_0x1e8209['x']+_0x502cff*_0x311486,_0x1e8209['y']+_0x502cff*_0x1cb20f,_0x1e8209['z']),ns['push'](_0x1e8209['x'],_0x1e8209['y']+_0x502cff*_0x5be9c6,_0x1e8209['z']+_0x502cff*_0x169159),ns['push'](_0x1e8209['x'],_0x1e8209['y']+_0x502cff*_0x311486,_0x1e8209['z']+_0x502cff*_0x1cb20f);}this['getBatch'](_0x2f1c8c,_0xe82451)['addLinesAr'+'rays'](ns,_0x224ade),ns['length']=-0x862*-0x2+-0x8ed*0x3+0xa03;}['getGraphNo'+'de'](_0x3b9400){const _0x4607e4=new Oe('ImmediateD'+'ebug');return _0x4607e4['worldTrans'+'form']=_0x3b9400,_0x4607e4['_dirtyWorl'+'d']=_0x4607e4['_dirtyNorm'+'al']=!(-0x2e4+0x338+-0x53),_0x4607e4;}['onPreRende'+'rLayer'](_0x41dcf9,_0x45d134,_0x5a7bbd){if(this['batchesMap']['forEach']((_0x2c4278,_0x4bace7)=>{_0x4bace7===_0x41dcf9&&_0x2c4278['onPreRende'+'r'](_0x45d134,_0x5a7bbd);}),!this['updatedLay'+'ers']['has'](_0x41dcf9)){this['updatedLay'+'ers']['add'](_0x41dcf9);const _0x41e9e1=this['layerMeshI'+'nstances']['get'](_0x41dcf9);if(_0x41e9e1){for(let _0x1dacc0=0x828+0x1cf3+-0x251b;_0x1dacc0<_0x41e9e1['length'];_0x1dacc0++)_0x45d134['push'](_0x41e9e1[_0x1dacc0]);_0x41e9e1['length']=0x2569+0x14c2*0x1+-0x3a2b;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x39dcf6=>_0x39dcf6['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class b1{constructor(){c(this,'type',Ba),c(this,'color',new Y(0x247e+-0xf97*0x1+-0x14e7,-0x908+0x2315+0x27*-0xab,-0xb1*-0xc+0x1*-0x80f+0x1*-0x3d)),c(this,'density',-0x58e*-0x1+-0x961+0x3d3),c(this,'start',-0x2*0x545+-0x1*-0x1f7f+-0x12*0x12a),c(this,'end',0x1c94+0x6a5+0x1*-0x1f51);}}class mi extends de{constructor(_0x263f55){super(),c(this,'ambientBak'+'e',!(0x1321+-0x1249+-0x5*0x2b)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0x183e+-0x13bc+0x2bfa),c(this,'ambientBak'+'eOcclusion'+'Contrast',0x2*0x716+-0x1*-0xcc0+0x6bb*-0x4),c(this,'ambientLig'+'ht',new Y(-0x1*-0x2446+-0x506+-0x1f40,-0x687+0x58*0x6d+-0x59*0x59,0x2c5+0xdf*0x17+-0x16ce)),c(this,'ambientLum'+'inance',-0x5ce*-0x6+0x227b+-0xb*0x64d),c(this,'exposure',0xb0f+0x5*-0x2e7+-0x3*-0x127),c(this,'lightmapSi'+'zeMultipli'+'er',0xf2d+-0x1de7+0x4e9*0x3),c(this,'lightmapMa'+'xResolutio'+'n',0x1*-0x3a5+-0x1a2c+0x25d1),c(this,'lightmapMo'+'de',mh),c(this,'lightmapFi'+'lterEnable'+'d',!(0x1*-0x108a+0x1*0xa+0x1081)),c(this,'lightmapHD'+'R',!(0x3b3*0x2+0x28*-0xb5+-0x14e3*-0x1)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x96c+-0x2470+0x1b05)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new b1()),(b['assert'](_0x263f55,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x263f55,this['_gravity']=new A(-0x4*0x55c+-0x2fd+0x1*0x186d,-(-0x263f+-0x4f*-0x53+-0x17*-0x8d+0.8000000000000007),-0x1a8*-0x11+0xa27*-0x2+-0x7da*0x1),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x15c2+-0x2472*0x1+0x3a35,this['_skyboxLum'+'inance']=-0x19bc+-0x15*-0xc7+0x969,this['_skyboxMip']=0x65d*0x2+0x297+-0x1*0xf51,this['_skyboxHig'+'hlightMult'+'iplier']=-0x3+-0x1*0x16e+0x172,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x818+0xfa9*-0x1+0x17c2),this['_skyboxRot'+'ation']=new ie(),this['_skyboxRot'+'ationMat3']=new Js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=0xd37+-0x1d11+0xfdb,this['_ambientBa'+'keSpherePa'+'rt']=-0xd71+0x4a7*-0x1+-0x608*-0x3+0.4,this['_lightmapF'+'ilterRange']=-0x1*0x124c+0x11*-0x1eb+0x32f1,this['_lightmapF'+'ilterSmoot'+'hness']=0xf+0xa*0x2ab+-0x1abd+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x2*-0x60c+0x1a65+-0x1*0xe4d),this['_lightingP'+'arams']=new F0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x4*0x413+0x2409+-0x3455);}),this['_sky']=new g1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0xadb*0x2+0x17ae+-0x2d64),this['_shaderVer'+'sion']=-0x104*0x17+0x249d+0x179*-0x9,this['immediate']=new v1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Ep);}set['ambientBak'+'eNumSample'+'s'](_0x587d5d){this['_ambientBa'+'keNumSampl'+'es']=z['clamp'](Math['floor'](_0x587d5d),-0x1382+0x2a2*0x2+0xe3f,-0x1*0x86c+-0x27*0xad+0x23c6);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x4753db){this['_ambientBa'+'keSpherePa'+'rt']=z['clamp'](_0x4753db,0x2*-0x503+-0x1207+-0xa7*-0x2b+0.001,-0x1f8b+-0x1*0x107+0x2093);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x53abca){if(this['device']['isWebGPU']&&!_0x53abca){b['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x53abca){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x53abca;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x1ed712){_0x1ed712!==this['_envAtlas']&&(this['_envAtlas']=_0x1ed712,_0x1ed712&&(_0x1ed712['addressU']=oe,_0x1ed712['addressV']=oe,_0x1ed712['minFilter']=at,_0x1ed712['magFilter']=at,_0x1ed712['mipmaps']=!(-0x158+0xc1d*0x2+-0x1*0x16e1)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x3f21b9){const _0x15e6e9=this['_layers'];this['_layers']=_0x3f21b9,this['fire']('set:layers',_0x15e6e9,_0x3f21b9);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x5b33ad){this['_lightmapF'+'ilterRange']=Math['max'](_0x5b33ad,-0x25e1+-0x1b*-0x9d+0x1552+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x20c1dc){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x20c1dc,0xa0d+-0x2147+0x6*0x3df+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x5f1312){_0x5f1312=_0x5f1312||[];const _0xe3e63=this['_prefilter'+'edCubemaps'];(_0xe3e63['length']!==_0x5f1312['length']||_0xe3e63['some']((_0x1a7ba6,_0x4f66d9)=>_0x1a7ba6!==_0x5f1312[_0x4f66d9]))&&(_0x5f1312['length']===0x1ab3*-0x1+-0x1985+0x343e&&_0x5f1312['every'](_0x123ab3=>!!_0x123ab3)?(this['_internalE'+'nvAtlas']=P0['generatePr'+'efilteredA'+'tlas'](_0x5f1312,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x5f1312['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x1e7d61){_0x1e7d61!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x1e7d61,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x1ce9d4){_0x1ce9d4!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x1ce9d4,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x5367){_0x5367!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x5367,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x4a8ad6){_0x4a8ad6!==this['_skyboxMip']&&(this['_skyboxMip']=_0x4a8ad6,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x3f2ff4){_0x3f2ff4!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x3f2ff4,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x32c795){if(!this['_skyboxRot'+'ation']['equals'](_0x32c795)){const _0x376d95=_0x32c795['equals'](ie['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x32c795),_0x376d95?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](A['ZERO'],_0x32c795,A['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x376d95&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x4af*0x6+-0x1063+-0xbb7),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x254d77,_0x24bc85,_0x39f1e1=Y['WHITE'],_0x3ae6bf=!(-0x933+-0x2f*-0x6d+-0x15a*0x8),_0x54a1b9=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x54a1b9,_0x3ae6bf)['addLines']([_0x254d77,_0x24bc85],[_0x39f1e1,_0x39f1e1]);}['drawLines'](_0x1bf877,_0x2a12ab,_0x1aafb9=!(0x4*0x883+-0x9e2+-0x182a),_0xcf324=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0xcf324,_0x1aafb9)['addLines'](_0x1bf877,_0x2a12ab);}['drawLineAr'+'rays'](_0x341f01,_0x199e6d,_0x97ff60=!(0x285+0xcbe+-0xf43),_0x115af7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x115af7,_0x97ff60)['addLinesAr'+'rays'](_0x341f01,_0x199e6d);}['applySetti'+'ngs'](_0x586fbc){const _0x2904d8=_0x586fbc['physics'],_0x18902a=_0x586fbc['render'];this['_gravity']['set'](_0x2904d8['gravity'][0x102*-0x8+0x1a2f+0x121f*-0x1],_0x2904d8['gravity'][-0x789+0x11*0x1cd+-0x1713],_0x2904d8['gravity'][0x59e+0xe13*-0x1+-0x1*-0x877]),this['ambientLig'+'ht']['set'](_0x18902a['global_amb'+'ient'][0xdea+-0x8e9*0x1+-0x501],_0x18902a['global_amb'+'ient'][-0x2*0x4fd+0x54a*0x1+0x4b1*0x1],_0x18902a['global_amb'+'ient'][-0x1a5*-0x16+-0x1dc9+0x221*-0x3]),this['ambientLum'+'inance']=_0x18902a['ambientLum'+'inance'],this['fog']['type']=_0x18902a['fog'],this['fog']['color']['set'](_0x18902a['fog_color'][-0x1*-0x10af+0x1a2c+-0x2adb],_0x18902a['fog_color'][0x5*0x105+-0x14d*-0xa+-0x121a],_0x18902a['fog_color'][0x1d33+0xd0f+-0x2a40]),this['fog']['start']=_0x18902a['fog_start'],this['fog']['end']=_0x18902a['fog_end'],this['fog']['density']=_0x18902a['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x18902a['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x18902a['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x18902a['lightmapMo'+'de'],this['exposure']=_0x18902a['exposure'],this['_skyboxInt'+'ensity']=_0x18902a['skyboxInte'+'nsity']??0x1c*-0x7b+-0x9b*0x3b+-0x312e*-0x1,this['_skyboxLum'+'inance']=_0x18902a['skyboxLumi'+'nance']??-0x53ef+-0xcb3*-0x8+-0x3c77*-0x1,this['_skyboxMip']=_0x18902a['skyboxMip']??-0x107+0x1169*-0x1+0x1270,_0x18902a['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new ie()['setFromEul'+'erAngles'](_0x18902a['skyboxRota'+'tion'][0x1739+0x1020+-0x2759],_0x18902a['skyboxRota'+'tion'][0xd01+0xf0e+-0x1c0e],_0x18902a['skyboxRota'+'tion'][0x1*0x1d62+0x1959*-0x1+-0x407])),this['sky']['applySetti'+'ngs'](_0x18902a),this['clusteredL'+'ightingEna'+'bled']=_0x18902a['clusteredL'+'ightingEna'+'bled']??!(-0xbf*0x31+0x43*0x82+0x28a),this['lighting']['applySetti'+'ngs'](_0x18902a),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x177b82=>{_0x18902a['hasOwnProp'+'erty'](_0x177b82)&&(this[_0x177b82]=_0x18902a[_0x177b82]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x6b3423=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x6b3423[[-0x448+-0x1*0x1f3+0x91*0xb,-0x11f1+-0xf13+0x2105,-0x217c+-0x1bb9+0x4*0xf4e,0x437+-0x11*-0x199+-0x1f5c,0x12b3*0x2+0x19*-0x127+-0x1*0x892,0x3*-0x5b5+-0x1f7f+-0x30a4*-0x1][this['_skyboxMip']]]||this['_envAtlas']||_0x6b3423[-0x509*-0x4+-0x21b4+0x2*0x6c8]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x6b3423[0x511*0x7+0x670+-0x29e7]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x1058+0x188a+0x832*-0x1);}['setSkybox'](_0x56cdd9){_0x56cdd9?(this['skybox']=_0x56cdd9[-0x16d*0x11+-0xf5b+0x4*0x9e6]||null,_0x56cdd9[0x16*-0x6d+0x3df*-0x1+0xd3e]&&!_0x56cdd9[-0x57d+0x226a*-0x1+0x27e8]['cubemap']?this['envAtlas']=_0x56cdd9[-0x20bf+0x2*-0xb43+0x3746]:this['prefiltere'+'dCubemaps']=_0x56cdd9['slice'](0x1*0xf62+-0x13ec+0x48b)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Te;}}c(mi,'EVENT_SETL'+'AYERS','set:layers'),c(mi,'EVENT_SETS'+'KYBOX','set:skybox'),c(mi,'EVENT_PRER'+'ENDER','prerender'),c(mi,'EVENT_POST'+'RENDER','postrender'),c(mi,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(mi,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(mi,'EVENT_PREC'+'ULL','precull'),c(mi,'EVENT_POST'+'CULL','postcull');class z0{constructor(_0x523d1a,_0x578b33,_0x5063d0){this['device']=_0x523d1a,this['inverseBin'+'dPose']=_0x578b33,this['boneNames']=_0x5063d0;}}const w1=[0x5*0x55b+-0xfb1+0x81*-0x16,-0xd88*-0x1+-0x1181*-0x1+0x23*-0xe3,-0x100f*0x1+-0xea3*0x2+-0x7*-0x67a,0xf83+0x2e*-0x49+-0x265,-0x3*0x49+0x3*-0x3e5+0xc8a,0x13*0x1c1+0x1*-0x267c+0x295*0x2,-0x6*0xf7+0x2*0xfbf+0x7*-0x3ac,-0x1501*0x1+0x1c09*0x1+-0x708,0x24d0+-0x227d+-0x252,0x1*-0x55d+0x25*0xf1+-0x3af*0x8,-0x21a6+0x16df+0xac7,-0x205*0x13+-0x1cdd+-0x7*-0x99b],T1=[-0x3*0xa21+-0x2*0x3bd+0x1*0x25dd,0x3b*0x23+-0x139c+0xb8c,-0x159a+0x1c0*-0xe+0x2e1d,0x58b+0x25a8+-0x2b31,-0x1*0x1d0f+-0xe0b+0x2b1d,0x192d+0x136f+0x259*-0x13];class A1 extends de{constructor(_0x218ec4,_0x1c6de3){super(),this['_device']=_0x218ec4,this['_pixelsPer'+'Unit']=_0x1c6de3&&_0x1c6de3['pixelsPerU'+'nit']!==void(-0x19ab*-0x1+0x1192+-0x2b3d*0x1)?_0x1c6de3['pixelsPerU'+'nit']:0x620+-0xcbd*0x1+0x4d*0x16,this['_renderMod'+'e']=_0x1c6de3&&_0x1c6de3['renderMode']!==void(0x1997*0x1+0x39f*0x2+-0x29*0xcd)?_0x1c6de3['renderMode']:Pi,this['_atlas']=_0x1c6de3&&_0x1c6de3['atlas']!==void(-0x374+0x616+-0x2a2)?_0x1c6de3['atlas']:null,this['_frameKeys']=_0x1c6de3&&_0x1c6de3['frameKeys']!==void(0x1c8b*-0x1+0x31*-0x86+-0x3631*-0x1)?_0x1c6de3['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x14e9*-0x1+-0x1*-0xb3e+0x9ac),this['_meshesDir'+'ty']=!(-0x1c3*0xb+-0x1c7e+0x4*0xbf8),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x1a8d72){this['_frameKeys']=_0x1a8d72,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x133b+0x1b7e+-0x8d*0xf):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x1a8d72);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x1b5158){_0x1b5158!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x1b5158,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1276+-0xe5f+0x29*0xcd):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x1b5158));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x3d7b7d){this['_pixelsPer'+'Unit']!==_0x3d7b7d&&(this['_pixelsPer'+'Unit']=_0x3d7b7d,this['fire']('set:pixels'+'PerUnit',_0x3d7b7d),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Pi&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*0xe75+-0x43*0x4f+0x1*0x2322):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x450b5d){if(this['_renderMod'+'e']===_0x450b5d)return;const _0x4b881c=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x450b5d,this['fire']('set:render'+'Mode',_0x450b5d),(_0x4b881c===Pi||_0x450b5d===Pi)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1*0xe35+0x21bc+0xffb*-0x3):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x499aab=this['_meshes']['length'];for(let _0x27872a=0x89*-0x7+-0x50*-0x31+-0xb91;_0x27872a<_0x499aab;_0x27872a++){const _0x2ddddd=this['_meshes'][_0x27872a];_0x2ddddd&&_0x2ddddd['destroy']();}const _0x5145da=this['_frameKeys']['length'];this['_meshes']=new Array(_0x5145da);const _0x492cc8=this['renderMode']===ht||this['_renderMod'+'e']===st?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x14a2ac=0x20d4+-0x10a9*-0x1+-0x107f*0x3;_0x14a2ac<_0x5145da;_0x14a2ac++){const _0x120565=this['_atlas']['frames'][this['_frameKeys'][_0x14a2ac]];this['_meshes'][_0x14a2ac]=_0x120565?_0x492cc8['call'](this,_0x120565):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x3e8577){const _0x6c8001=_0x3e8577['rect'],_0x1b4ccf=this['_atlas']['texture']['width'],_0x17f061=this['_atlas']['texture']['height'],_0x5785d3=_0x6c8001['z']/this['_pixelsPer'+'Unit'],_0x3dfe21=_0x6c8001['w']/this['_pixelsPer'+'Unit'],_0x5e5847=_0x3e8577['pivot']['x'],_0x30be11=_0x3e8577['pivot']['y'],_0x520a99=[-_0x5e5847*_0x5785d3,-_0x30be11*_0x3dfe21,0xfdf+-0x1d5*0x12+0x111b,(0x1820+0x1188+-0x29a7*0x1-_0x5e5847)*_0x5785d3,-_0x30be11*_0x3dfe21,0x1*-0x22c2+-0x203a+0x42fc,(-0x145*0x19+0x3*-0xa3b+-0xb*-0x5ad-_0x5e5847)*_0x5785d3,(-0x1*-0x15d0+-0x20c4+-0xb*-0xff-_0x30be11)*_0x3dfe21,-0x6fd+0x2232+-0x1b35,-_0x5e5847*_0x5785d3,(0x2476+0x1c9b*0x1+0x4110*-0x1-_0x30be11)*_0x3dfe21,0x9cc+0x9*0x446+-0x3042],_0x1fa71a=_0x6c8001['x']/_0x1b4ccf,_0x39e832=-0x6b2*0x3+0xa3*-0x2d+0x30be-_0x6c8001['y']/_0x17f061,_0x1ea4cc=(_0x6c8001['x']+_0x6c8001['z'])/_0x1b4ccf,_0x4afa0a=0x16a1+-0x8*0x388+-0x1e*-0x30-(_0x6c8001['y']+_0x6c8001['w'])/_0x17f061,_0x49a0dc=[_0x1fa71a,_0x39e832,_0x1ea4cc,_0x39e832,_0x1ea4cc,_0x4afa0a,_0x1fa71a,_0x4afa0a],_0x33fd07=new _n();return _0x33fd07['positions']=_0x520a99,_0x33fd07['normals']=w1,_0x33fd07['uvs']=_0x49a0dc,_0x33fd07['indices']=T1,ke['fromGeomet'+'ry'](this['_device'],_0x33fd07);}['_create9Sl'+'iceMesh'](){const _0x524986=W['ONE'],_0x41fc92=0x3e3+0xa*-0xb3+0x31e,_0x450c2a=-0x453*0x2+0x2537*-0x1+0x8*0x5bc,_0x333796=[],_0x40f7ac=[],_0x28bd1d=[],_0x7d2b9c=[];let _0x3c4dfb=0x231d+0x2e9+0x13a*-0x1f;for(let _0x530f64=-0x22b4+-0x3ad*0x9+0x1*0x43c9;_0x530f64<=_0x41fc92;_0x530f64++){const _0x1aed5a=_0x530f64===-0xa90+0xebd+-0x42d||_0x530f64===_0x41fc92?0x1f5e+-0x21a9+-0x1*-0x24b:0x4*-0x183+-0x1c6a+0x33*0xad;for(let _0x55c9ee=-0x15e2*-0x1+-0xbd4+-0xa0e;_0x55c9ee<=_0x450c2a;_0x55c9ee++){const _0x13f308=-_0x524986['x']+(0x12*-0x216+0x7d0+0x1dbe)*_0x524986['x']*(_0x530f64<=0x2663+0x515*-0x1+0xb*-0x307?0xd2d*0x2+-0xff7+0x1*-0xa63:0x16c3+-0x26f2*-0x1+-0x3db2)/_0x41fc92,_0x429fa2=0x127a+0xb1f+-0x1d99,_0x52d956=-(-_0x524986['y']+(-0x633+-0x1f5b+0x10*0x259)*_0x524986['y']*(_0x55c9ee<=-0x200a+-0x1bc3+0x3bce?-0x2276+0x1e*0xc1+0xbd8:-0x1*-0x267b+-0x25e3+-0x95)/_0x450c2a),_0x501462=_0x55c9ee===-0x8*0x7+-0x5b2+0x2f5*0x2||_0x55c9ee===_0x450c2a?0x1*-0x21a3+-0x91d*0x3+0x3cfa:0x14a1+-0x2580+0x10e0;_0x333796['push'](-_0x13f308,_0x429fa2,_0x52d956),_0x40f7ac['push'](-0x20eb+-0x229e+0x4389,-0xf65+-0x47e+0x4*0x4f9,-0x28*0x8c+-0xd+-0x1*-0x15ed),_0x28bd1d['push'](_0x1aed5a,_0x501462),_0x530f64<_0x41fc92&&_0x55c9ee<_0x450c2a&&(_0x7d2b9c['push'](_0x3c4dfb+_0x450c2a+(0xbd+-0x5*-0x541+-0x1b01),_0x3c4dfb+(-0x482*-0x8+0x66d+0x153e*-0x2),_0x3c4dfb),_0x7d2b9c['push'](_0x3c4dfb+_0x450c2a+(0x541*0x2+0x1a13+0x124a*-0x2),_0x3c4dfb+_0x450c2a+(-0x128f+-0x235b+0x35ec),_0x3c4dfb+(0x3*-0x58d+0x1*0x1c6c+-0xbc4))),_0x3c4dfb++;}}const _0x192294=new _n();return _0x192294['positions']=_0x333796,_0x192294['normals']=_0x40f7ac,_0x192294['uvs']=_0x28bd1d,_0x192294['indices']=_0x7d2b9c,ke['fromGeomet'+'ry'](this['_device'],_0x192294);}['_onSetFram'+'es'](_0x515c8f){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x6*0x1bc+0x4*0x76f+-0x2824):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x56fa85,_0x31f5f3){const _0x546e30=this['_frameKeys']['indexOf'](_0x56fa85);_0x546e30<0x1506+-0x1a70+0x56a*0x1||(_0x31f5f3?this['renderMode']===Pi&&(this['_meshes'][_0x546e30]=this['_createSim'+'pleMesh'](_0x31f5f3)):this['_meshes'][_0x546e30]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x2471f7){const _0x319c57=this['_frameKeys']['indexOf'](_0x2471f7);_0x319c57<0x1940+-0x207d+0x11*0x6d||(this['_meshes'][_0x319c57]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(0x23e4*0x1+-0x1262*-0x2+-0x78*0x9b),this['_meshesDir'+'ty']=!(0xa7*-0xc+0x2a*-0x98+0x20c5*0x1);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0xdb1+-0x909+-0x211*-0xb),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x17*-0x95+0x216f+-0x140b);}['destroy'](){for(const _0xe1308c of this['_meshes'])_0xe1308c&&_0xe1308c['destroy']();this['_meshes']['length']=0x124*0x15+0x21f*0x6+-0x24ae;}}class E1 extends de{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x1787c7){this['_texture']=_0x1787c7,this['fire']('set:textur'+'e',_0x1787c7);}get['texture'](){return this['_texture'];}set['frames'](_0x5260a6){this['_frames']=_0x5260a6,this['fire']('set:frames',_0x5260a6);}get['frames'](){return this['_frames'];}['setFrame'](_0x194c3b,_0xb9d366){let _0x45f018=this['_frames'][_0x194c3b];_0x45f018?(_0x45f018['rect']['copy'](_0xb9d366['rect']),_0x45f018['pivot']['copy'](_0xb9d366['pivot']),_0x45f018['border']['copy'](_0xb9d366['border'])):(_0x45f018={'rect':_0xb9d366['rect']['clone'](),'pivot':_0xb9d366['pivot']['clone'](),'border':_0xb9d366['border']['clone']()},this['_frames'][_0x194c3b]=_0x45f018),this['fire']('set:frame',_0x194c3b['toString'](),_0x45f018);}['removeFram'+'e'](_0x4c5b8c){const _0x2990ce=this['_frames'][_0x4c5b8c];_0x2990ce&&(delete this['_frames'][_0x4c5b8c],this['fire']('remove:fra'+'me',_0x4c5b8c['toString'](),_0x2990ce));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class k_{constructor(_0x4e4560,_0x148137,_0x386eec,_0x3f2b71){this['time']=_0x4e4560,this['position']=_0x148137,this['rotation']=_0x386eec,this['scale']=_0x3f2b71;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class B_{constructor(){c(this,'name',''),c(this,'duration',0xe3f+0x1ea*-0x4+0xf1*-0x7),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x1b64c9){return this['_nodeDict'][_0x1b64c9];}['addNode'](_0x432087){this['_nodes']['push'](_0x432087),this['_nodeDict'][_0x432087['_name']]=_0x432087;}get['nodes'](){return this['_nodes'];}}class C1{constructor(){this['_written']=!(-0x1*-0x16e4+0x2*0x1024+0x372b*-0x1),this['_name']='',this['_keyFrames']=[],this['_quat']=new ie(),this['_pos']=new A(),this['_scale']=new A(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x4578a2){this['_targetNod'+'e']=_0x4578a2;}}class jd{constructor(_0x54fef9){c(this,'looping',!(-0x74f*-0x2+0x26b8+-0x3556)),(this['_animation']=null,this['_time']=-0x3ce*-0x1+-0x1713+0x1*0x1345,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x1b9414=_0x52b1a3=>{const _0x4744a4=new C1();_0x4744a4['_name']=_0x52b1a3['name'],this['_interpola'+'tedKeys']['push'](_0x4744a4),this['_interpola'+'tedKeyDict'][_0x52b1a3['name']]=_0x4744a4,this['_currKeyIn'+'dices'][_0x52b1a3['name']]=0x1*0x2262+0xb9+0x231b*-0x1;for(let _0x1d3a9a=0x10*0x191+0x4*-0x25a+-0xc*0x14e;_0x1d3a9a<_0x52b1a3['_children']['length'];_0x1d3a9a++)_0x1b9414(_0x52b1a3['_children'][_0x1d3a9a]);};_0x1b9414(_0x54fef9);}set['animation'](_0xa0aae3){this['_animation']=_0xa0aae3,this['currentTim'+'e']=-0x48a+-0x1a2d+-0xa3d*-0x3;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x35152a){this['_time']=_0x35152a;const _0x46e2cf=this['_interpola'+'tedKeys']['length'];for(let _0x593099=0x2*0x349+0x3a0+-0x6*0x1b3;_0x593099<_0x46e2cf;_0x593099++){const _0x35c7b3=this['_interpola'+'tedKeys'][_0x593099]['_name'];this['_currKeyIn'+'dices'][_0x35c7b3]=-0x404+-0x1*0x22ca+0x26ce;}this['addTime'](-0x50d*0x7+0x1a85*0x1+0x8d6),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x2dfb4e){if(this['_animation']!==null){const _0x308a96=this['_animation']['_nodes'],_0x2ac37b=this['_animation']['duration'];if(this['_time']===_0x2ac37b&&!this['looping'])return;if(this['_time']+=_0x2dfb4e,this['_time']>_0x2ac37b){this['_time']=this['looping']?0xf*-0x3a+0x1f+-0x347*-0x1:_0x2ac37b;for(let _0x5ecddf=-0x2*-0x755+-0x1c*0x15d+0x1782;_0x5ecddf<_0x308a96['length'];_0x5ecddf++){const _0x40b7f3=_0x308a96[_0x5ecddf]['_name'];this['_currKeyIn'+'dices'][_0x40b7f3]=0x1*-0xab+-0x1*0x13a5+0x1450;}}else{if(this['_time']<-0x2f*0xa5+0x1658+0x7f3){this['_time']=this['looping']?_0x2ac37b:-0xfa6*-0x2+0xc8+-0x2014*0x1;for(let _0xe12bf1=0x159a+-0x69e*-0x5+0x7d*-0x70;_0xe12bf1<_0x308a96['length'];_0xe12bf1++){const _0x52acaa=_0x308a96[_0xe12bf1],_0x728025=_0x52acaa['_name'];this['_currKeyIn'+'dices'][_0x728025]=_0x52acaa['_keys']['length']-(0xd6c+0x1ad+-0xf17);}}}const _0x2cceb0=_0x2dfb4e>=-0x2213+-0xed*0x1+0x2300?-0x2*0xe7e+-0xf0e+0x2c0b:-(0x1*0x1753+0x2042*-0x1+-0x1a*-0x58);for(let _0x1ba9c4=0x15*0xb3+-0x213f+0x1290;_0x1ba9c4<_0x308a96['length'];_0x1ba9c4++){const _0x747441=_0x308a96[_0x1ba9c4],_0x374c7c=_0x747441['_name'],_0x187e90=_0x747441['_keys'],_0x230873=this['_interpola'+'tedKeyDict'][_0x374c7c];if(_0x230873===void(-0x1*0x1e12+-0x16cb+-0x411*-0xd)){b['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x374c7c);continue;}let _0xc80c99=!(0x59d*0x5+0x1a15+-0x3625);if(_0x187e90['length']!==-0x4*0x6df+0x56*-0x10+-0x2f*-0xb3)for(let _0x1e7a59=this['_currKeyIn'+'dices'][_0x374c7c];_0x1e7a59<_0x187e90['length']-(0x5*0x4fd+-0x85*-0x47+-0x3dd3)&&_0x1e7a59>=0x2*-0x2ca+0x73f*0x1+-0x1ab;_0x1e7a59+=_0x2cceb0){const _0x12a431=_0x187e90[_0x1e7a59],_0x247886=_0x187e90[_0x1e7a59+(-0x1e37+0x235+-0x47*-0x65)];if(_0x12a431['time']<=this['_time']&&_0x247886['time']>=this['_time']){const _0x5d70ee=(this['_time']-_0x12a431['time'])/(_0x247886['time']-_0x12a431['time']);_0x230873['_pos']['lerp'](_0x12a431['position'],_0x247886['position'],_0x5d70ee),_0x230873['_quat']['slerp'](_0x12a431['rotation'],_0x247886['rotation'],_0x5d70ee),_0x230873['_scale']['lerp'](_0x12a431['scale'],_0x247886['scale'],_0x5d70ee),_0x230873['_written']=!(-0x1*0x14c6+-0xaea+-0x8*-0x3f6),this['_currKeyIn'+'dices'][_0x374c7c]=_0x1e7a59,_0xc80c99=!(-0x1f6e+0x1fb7*-0x1+0x3f25);break;}}(_0x187e90['length']===0x1*0x8f1+0x262d+-0x1*0x2f1d||!_0xc80c99&&this['_time']===-0x1f23+0x2*0x131d+0x25d*-0x3&&this['looping'])&&(_0x230873['_pos']['copy'](_0x187e90[-0x3*-0x542+-0x79*0x37+-0x1*-0xa39]['position']),_0x230873['_quat']['copy'](_0x187e90[-0x48c+-0x1b6f*0x1+0x1ffb*0x1]['rotation']),_0x230873['_scale']['copy'](_0x187e90[0x266c*-0x1+0x24b0+-0xc*-0x25]['scale']),_0x230873['_written']=!(-0xf0*0x19+0x8b7+0xeb9));}}}['blend'](_0x526437,_0x136b85,_0x3dca4c){const _0x589728=this['_interpola'+'tedKeys']['length'];for(let _0x54ce66=0x1414+0x5*0x52d+0x389*-0xd;_0x54ce66<_0x589728;_0x54ce66++){const _0x1957ae=_0x526437['_interpola'+'tedKeys'][_0x54ce66],_0x54e289=_0x136b85['_interpola'+'tedKeys'][_0x54ce66],_0x59ba29=this['_interpola'+'tedKeys'][_0x54ce66];_0x1957ae['_written']&&_0x54e289['_written']?(_0x59ba29['_quat']['slerp'](_0x1957ae['_quat'],_0x136b85['_interpola'+'tedKeys'][_0x54ce66]['_quat'],_0x3dca4c),_0x59ba29['_pos']['lerp'](_0x1957ae['_pos'],_0x136b85['_interpola'+'tedKeys'][_0x54ce66]['_pos'],_0x3dca4c),_0x59ba29['_scale']['lerp'](_0x1957ae['_scale'],_0x54e289['_scale'],_0x3dca4c),_0x59ba29['_written']=!(0x1f3*-0xd+0xa*0x311+-0x2f*0x1d)):_0x1957ae['_written']?(_0x59ba29['_quat']['copy'](_0x1957ae['_quat']),_0x59ba29['_pos']['copy'](_0x1957ae['_pos']),_0x59ba29['_scale']['copy'](_0x1957ae['_scale']),_0x59ba29['_written']=!(-0x9*0x151+0x1*-0x3f5+-0x22*-0x77)):_0x54e289['_written']&&(_0x59ba29['_quat']['copy'](_0x54e289['_quat']),_0x59ba29['_pos']['copy'](_0x54e289['_pos']),_0x59ba29['_scale']['copy'](_0x54e289['_scale']),_0x59ba29['_written']=!(0x1ca8+0xf6e+-0x1b*0x1a2));}}['setGraph'](_0x1d6027){if(this['graph']=_0x1d6027,_0x1d6027)for(let _0x11eca0=0x679*-0x1+-0x204+0x35*0x29;_0x11eca0<this['_interpola'+'tedKeys']['length'];_0x11eca0++){const _0x2b892d=this['_interpola'+'tedKeys'][_0x11eca0],_0x385252=_0x1d6027['findByName'](_0x2b892d['_name']);this['_interpola'+'tedKeys'][_0x11eca0]['setTarget'](_0x385252);}else{for(let _0x1a1bdc=0x2*-0x557+-0x13f4+0x1ea2;_0x1a1bdc<this['_interpola'+'tedKeys']['length'];_0x1a1bdc++)this['_interpola'+'tedKeys'][_0x1a1bdc]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x4f8520=-0x2*-0x85c+-0x236d*-0x1+-0x3425;_0x4f8520<this['_interpola'+'tedKeys']['length'];_0x4f8520++){const _0x32b4c7=this['_interpola'+'tedKeys'][_0x4f8520];if(_0x32b4c7['_written']){const _0x13f8ae=_0x32b4c7['getTarget']();_0x13f8ae['localPosit'+'ion']['copy'](_0x32b4c7['_pos']),_0x13f8ae['localRotat'+'ion']['copy'](_0x32b4c7['_quat']),_0x13f8ae['localScale']['copy'](_0x32b4c7['_scale']),_0x13f8ae['_dirtyLoca'+'l']||_0x13f8ae['_dirtifyLo'+'cal'](),_0x32b4c7['_written']=!(0x75e+0x281*0x9+-0x1de6);}}}}const Ts=(0x1d*-0x8b+0x434*0x3+0x1*0x327)/(-0x2091+-0xe*-0x19f+-0x1*-0xa1f),Gs=0x682+-0x65d+-0x9*0x4-Ts*(0x1cac+-0x1c8d+-0x1d);class Vp extends _n{constructor(_0x1d700a,_0xc92612,_0x5ecce7,_0x53222e,_0xdf47c,_0x44eaab){super();const _0x48c477=new A(),_0x198c2b=new A(),_0xa56388=new A(),_0x3d7286=new A(),_0x15429c=new A(),_0x3d0da6=new A(),_0x252681=[],_0x2b4757=[],_0x295984=[],_0x2cfaf7=[],_0x199a2c=[];let _0x413c00;if(_0x5ecce7>-0x2*-0x1147+-0xee1+0xdb*-0x17){for(let _0x5e26bf=0x1ae1+0x1*0x81+-0x1b62;_0x5e26bf<=_0x53222e;_0x5e26bf++)for(let _0x426aa3=-0x11b*0xb+-0x1*0x1559+0x1*0x2182;_0x426aa3<=_0xdf47c;_0x426aa3++){const _0x3383aa=_0x426aa3/_0xdf47c*(-0xe2e+-0x3cb+0x11fb*0x1)*Math['PI']-Math['PI'],_0x5aa3da=Math['sin'](_0x3383aa),_0x4bce52=Math['cos'](_0x3383aa);_0x15429c['set'](_0x5aa3da*_0x1d700a,-_0x5ecce7/(-0x1*-0x284+0xf2d+-0x1f7*0x9),_0x4bce52*_0x1d700a),_0x3d7286['set'](_0x5aa3da*_0xc92612,_0x5ecce7/(-0x19e+-0x9*0x287+0x185f),_0x4bce52*_0xc92612),_0x48c477['lerp'](_0x15429c,_0x3d7286,_0x5e26bf/_0x53222e),_0x198c2b['sub2'](_0x3d7286,_0x15429c)['normalize'](),_0x3d0da6['set'](_0x4bce52,-0xa16+0x2368+-0x1952,-_0x5aa3da),_0xa56388['cross'](_0x3d0da6,_0x198c2b)['normalize'](),_0x252681['push'](_0x48c477['x'],_0x48c477['y'],_0x48c477['z']),_0x2b4757['push'](_0xa56388['x'],_0xa56388['y'],_0xa56388['z']);let _0x2024be=_0x426aa3/_0xdf47c,_0x42f4c5=_0x5e26bf/_0x53222e;_0x295984['push'](_0x2024be,0x12*-0x2+0x1c8*0xb+0x1*-0x1373-_0x42f4c5);const _0x49af69=_0x42f4c5;if(_0x42f4c5=_0x2024be,_0x2024be=_0x49af69,_0x2024be=_0x2024be*Gs+Ts,_0x42f4c5=_0x42f4c5*Gs+Ts,_0x2024be/=-0x2397+0x5*0x5a1+-0x17*-0x53,_0x2cfaf7['push'](_0x2024be,-0x1*0x419+0x20ba+-0x1ca0-_0x42f4c5),_0x5e26bf<_0x53222e&&_0x426aa3<_0xdf47c){const _0x35f6ef=_0x5e26bf*(_0xdf47c+(-0xa*-0x113+-0x16e1+0xc24))+_0x426aa3,_0x186d22=_0x5e26bf*(_0xdf47c+(-0xd95+0x6b*0x4f+-0x5*0x3e3))+(_0x426aa3+(0x5*0x419+0x258e+0x30e*-0x13)),_0x4b670e=(_0x5e26bf+(0x1549*-0x1+-0x1fcd*-0x1+-0xa83))*(_0xdf47c+(-0xeed+0x68e*-0x2+0x1c0a))+_0x426aa3,_0x51ebd3=(_0x5e26bf+(-0x1bb9+-0x186d+0x3427))*(_0xdf47c+(-0x8*-0x437+0x75*-0x54+0x4ad*0x1))+(_0x426aa3+(-0xd04+0x33*-0x65+0x2124*0x1));_0x199a2c['push'](_0x35f6ef,_0x186d22,_0x4b670e),_0x199a2c['push'](_0x186d22,_0x51ebd3,_0x4b670e);}}}if(_0x44eaab){const _0x2cd275=Math['floor'](_0xdf47c/(-0x239+0x1a2d+0x2*-0xbf9)),_0x389839=_0xdf47c,_0x1c12fa=_0x5ecce7/(-0x9*-0x1c4+0x8d*-0x9+-0xaed);for(let _0x3db81e=0x31*-0xad+0x221b*-0x1+0x4338;_0x3db81e<=_0x2cd275;_0x3db81e++){const _0x383cb9=_0x3db81e*Math['PI']*(0x12b6+0x98*0x1+-0x134e+0.5)/_0x2cd275,_0x5a8dbe=Math['sin'](_0x383cb9),_0x3a5366=Math['cos'](_0x383cb9);for(let _0x1c37ab=0x222c+-0x210c+-0x120;_0x1c37ab<=_0x389839;_0x1c37ab++){const _0xd4f44c=_0x1c37ab*(0x1a*0xc5+-0x15f*-0x9+-0x2057)*Math['PI']/_0x389839-Math['PI']/(0xe*0x274+0x2457+0x6f*-0xa3),_0x446a7a=Math['sin'](_0xd4f44c),_0xbe7794=Math['cos'](_0xd4f44c)*_0x5a8dbe,_0x2222b1=_0x3a5366,_0xfd82f2=_0x446a7a*_0x5a8dbe;let _0x37a6b1=-0x1c70+0x828+0x1449-_0x1c37ab/_0x389839,_0x172c20=-0xac9+0x8d1+0x1f9-_0x3db81e/_0x2cd275;_0x252681['push'](_0xbe7794*_0xc92612,_0x2222b1*_0xc92612+_0x1c12fa,_0xfd82f2*_0xc92612),_0x2b4757['push'](_0xbe7794,_0x2222b1,_0xfd82f2),_0x295984['push'](_0x37a6b1,0x1ff*0xf+-0x29*-0x68+-0x1aa*0x1c-_0x172c20),_0x37a6b1=_0x37a6b1*Gs+Ts,_0x172c20=_0x172c20*Gs+Ts,_0x37a6b1/=0x2038+0xf33+-0x2f68,_0x172c20/=0x32f*0xa+-0x10d*-0x15+0x35e4*-0x1,_0x37a6b1+=(0x1ca4+-0x124f+0xa54*-0x1)/(-0xe27+0x1a76+0x1*-0xc4c),_0x2cfaf7['push'](_0x37a6b1,0xfb1+0xb5e+-0x1b0e-_0x172c20);}}_0x413c00=(_0x53222e+(-0x19*0xaf+0xf5b+-0x5*-0x59))*(_0xdf47c+(0x1*0x1fc3+-0x10ec+-0x4f2*0x3));for(let _0x2c124f=-0x1685+-0x5*-0x199+0x174*0xa;_0x2c124f<_0x2cd275;++_0x2c124f)for(let _0x2d0c61=0x56*0x7+-0x209e+-0x1a*-0x12a;_0x2d0c61<_0x389839;++_0x2d0c61){const _0x49cde3=_0x2c124f*(_0x389839+(-0x704+0x1188+-0xa83))+_0x2d0c61,_0x5ebddc=_0x49cde3+_0x389839+(0x26f2+-0x176e*0x1+-0x169*0xb);_0x199a2c['push'](_0x413c00+_0x49cde3+(-0xac7*-0x1+0x1941+-0x2407),_0x413c00+_0x5ebddc,_0x413c00+_0x49cde3),_0x199a2c['push'](_0x413c00+_0x49cde3+(0x193c+0x1*0x10ff+-0x2f*0xe6),_0x413c00+_0x5ebddc+(0x25bf+0x2163+-0x4721),_0x413c00+_0x5ebddc);}for(let _0x345a77=0x21d4+0x192f+-0x3b03;_0x345a77<=_0x2cd275;_0x345a77++){const _0x31ee67=Math['PI']*(-0x26*-0x53+0x1*0x80e+-0x1460+0.5)+_0x345a77*Math['PI']*(-0x191c*-0x1+-0x5*-0x2ce+-0x1*0x2722+0.5)/_0x2cd275,_0x278f1c=Math['sin'](_0x31ee67),_0x14d07b=Math['cos'](_0x31ee67);for(let _0x539815=0x1*0x10bb+-0x257a+0x14bf;_0x539815<=_0x389839;_0x539815++){const _0x40186=_0x539815*(-0xb*-0x193+0x1174+-0x22c3)*Math['PI']/_0x389839-Math['PI']/(0x1*0x9dc+0x6cc+-0x10a6),_0x519f3e=Math['sin'](_0x40186),_0x3d3e24=Math['cos'](_0x40186)*_0x278f1c,_0x5f4a31=_0x14d07b,_0x50adc2=_0x519f3e*_0x278f1c;let _0x268c46=0xa44+-0x6c8+-0x63*0x9-_0x539815/_0x389839,_0x5752d3=0x26fe+0x86e+-0x3d*0xc7-_0x345a77/_0x2cd275;_0x252681['push'](_0x3d3e24*_0xc92612,_0x5f4a31*_0xc92612-_0x1c12fa,_0x50adc2*_0xc92612),_0x2b4757['push'](_0x3d3e24,_0x5f4a31,_0x50adc2),_0x295984['push'](_0x268c46,-0x25c4+0x4bb*0x5+-0x1*-0xe1e-_0x5752d3),_0x268c46=_0x268c46*Gs+Ts,_0x5752d3=_0x5752d3*Gs+Ts,_0x268c46/=0x1ed0+-0x97*-0xe+-0x270f,_0x5752d3/=0x1*0xd7d+0x1*-0x12f5+0x57b,_0x268c46+=(-0x346*-0x7+0x2b3*-0x2+-0x1182)/(0x1a83+-0x1*0x2335+0x3*0x2e7),_0x2cfaf7['push'](_0x268c46,0x6ee*-0x5+-0x252f+0x47d6-_0x5752d3);}}_0x413c00=(_0x53222e+(0x1d*0x9f+0x1b9c+-0x2*0x16cf))*(_0xdf47c+(-0x347*-0x5+0x490+-0x14f2))+(_0x389839+(0x1*0x218f+0x12d7+-0x3465))*(_0x2cd275+(-0x14f0+-0x1716+0x33*0xdd));for(let _0x360241=0x4*-0x98b+0x1c55+0x9d7;_0x360241<_0x2cd275;++_0x360241)for(let _0x2c89ac=-0x172b+-0x4*0x4dc+0x347*0xd;_0x2c89ac<_0x389839;++_0x2c89ac){const _0x5016c0=_0x360241*(_0x389839+(-0x1003+-0x1902+0x2906))+_0x2c89ac,_0xe1defc=_0x5016c0+_0x389839+(-0x43f*-0x5+-0xbae+-0x1*0x98c);_0x199a2c['push'](_0x413c00+_0x5016c0+(-0xa69+0x1b6b+-0x1101),_0x413c00+_0xe1defc,_0x413c00+_0x5016c0),_0x199a2c['push'](_0x413c00+_0x5016c0+(-0x77+0x2a*-0x36+0x4aa*0x2),_0x413c00+_0xe1defc+(-0x12b5*-0x2+0x10c2*0x1+-0x362b),_0x413c00+_0xe1defc);}}else{if(_0x413c00=(_0x53222e+(0x1*-0x17f5+0x1244+-0x5b2*-0x1))*(_0xdf47c+(-0x913*0x3+0x4*-0x48d+0x916*0x5)),_0x1d700a>0x429+0x184f+-0x38f*0x8)for(let _0x401608=0x199c+0x65a*-0x3+-0x68e;_0x401608<_0xdf47c;_0x401608++){const _0x1bf8fd=_0x401608/_0xdf47c*(0x193e+-0x6a1*0x5+0x2d*0x2d)*Math['PI'],_0x24868b=Math['sin'](_0x1bf8fd),_0x18543a=-_0x5ecce7/(-0x852+-0x1adf+-0x1*-0x2333),_0x595af9=Math['cos'](_0x1bf8fd);let _0x5bd10d=0x1*-0x185c+0x6*0x56c+0x2b9*-0x3-(_0x24868b+(-0x2250+0x1e10+0x441))/(-0x514*-0x5+0x1*0x40f+-0x1*0x1d71),_0x3b9983=(_0x595af9+(0xd87+0x2*0x716+-0x1bb2))/(0xa46*0x2+0x158d+-0x2a17);_0x252681['push'](_0x24868b*_0x1d700a,_0x18543a,_0x595af9*_0x1d700a),_0x2b4757['push'](0x1ca7+-0x17c+-0x41*0x6b,-(0x81c+-0x5*-0x115+0x6c2*-0x2),-0x10b6+-0x46e+0x1524),_0x295984['push'](_0x5bd10d,0x4*-0x76+0x1523+-0x134a-_0x3b9983),_0x5bd10d=_0x5bd10d*Gs+Ts,_0x3b9983=_0x3b9983*Gs+Ts,_0x5bd10d/=-0x24fb*0x1+-0x1490+0x8b*0x6a,_0x3b9983/=-0xa9f*-0x2+0x679+-0x1bb4,_0x5bd10d+=(-0x2634+-0x62*0x5d+0x49cf)/(0x73b*0x4+-0x2646+0x1*0x95d),_0x2cfaf7['push'](_0x5bd10d,-0xca5+-0x231d+0x2fc3-_0x3b9983),_0x401608>0x2*0x8e9+0x856+-0x1a27&&_0x199a2c['push'](_0x413c00,_0x413c00+_0x401608,_0x413c00+_0x401608-(0x4fb+-0x1*0x87+0x43*-0x11));}if(_0x413c00+=_0xdf47c,_0xc92612>-0x2399+-0xf09+0x32a2)for(let _0x1630e5=0x1537+-0x6f3+-0x722*0x2;_0x1630e5<_0xdf47c;_0x1630e5++){const _0x4256e8=_0x1630e5/_0xdf47c*(0x2566+0x2*-0x3d6+-0x4*0x76e)*Math['PI'],_0x30471c=Math['sin'](_0x4256e8),_0x1dc788=_0x5ecce7/(-0x12*-0xbb+-0x1*0x775+-0x1*0x5af),_0x48f488=Math['cos'](_0x4256e8);let _0x89f46c=0xd*0x296+0x449+-0x25e6-(_0x30471c+(-0xdf8+-0x1424+-0x29*-0xd5))/(0x21a6+-0x1*-0xc74+-0x3b*0xc8),_0x4cc207=(_0x48f488+(0x1*0x12b9+0x28*-0x57+-0x8*0xa4))/(0x9a6+0x13d3+-0x1*0x1d77);_0x252681['push'](_0x30471c*_0xc92612,_0x1dc788,_0x48f488*_0xc92612),_0x2b4757['push'](-0x2264+0x5*0x62b+0x38d,-0x1*-0x24+0x52a+-0x54d,0x15a6+0x1fe4+-0x358a),_0x295984['push'](_0x89f46c,0x683+0x802*-0x1+0x1*0x180-_0x4cc207),_0x89f46c=_0x89f46c*Gs+Ts,_0x4cc207=_0x4cc207*Gs+Ts,_0x89f46c/=0x68*0x5b+0x1ae3*-0x1+0xa12*-0x1,_0x4cc207/=0xcdb*0x3+-0x194a+-0xd44,_0x89f46c+=(0x1*0x1952+0x2249+-0x3b99)/(0x7c*0x3f+-0x65*0x10+-0xb*0x233),_0x2cfaf7['push'](_0x89f46c,0xbf2+0x1241*0x1+-0x1e32-_0x4cc207),_0x1630e5>0xc92*0x3+-0x3fd*0x8+-0x5cd&&_0x199a2c['push'](_0x413c00,_0x413c00+_0x1630e5-(0x2470+0xfb+-0x256a),_0x413c00+_0x1630e5);}}this['positions']=_0x252681,this['normals']=_0x2b4757,this['uvs']=_0x295984,this['uvs1']=_0x2cfaf7,this['indices']=_0x199a2c;}}class M1 extends Vp{constructor(_0xf0d25c={}){const _0x1fdc8a=_0xf0d25c['radius']??0x2*-0x3f7+-0x4d3+-0xcc1*-0x1+0.3,_0x2c1936=_0xf0d25c['height']??0x6be+-0x114b*-0x1+-0x4*0x602,_0x34aec5=_0xf0d25c['heightSegm'+'ents']??0x2*-0x51a+0x18*-0xda+0x1ea5,_0x1e65c3=_0xf0d25c['sides']??0x17e2+0x17a2+0xc*-0x3f4;super(_0x1fdc8a,_0x1fdc8a,_0x2c1936-(0x21c7+-0x385*0xa+-0x16d*-0x1)*_0x1fdc8a,_0x34aec5,_0x1e65c3,!(0x1*0x817+-0x752*0x1+-0xc5*0x1)),_0xf0d25c['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Vp{constructor(_0x3799db={}){const _0x79e920=_0x3799db['baseRadius']??-0x188+-0x154b+0x16d3+0.5,_0x41119e=_0x3799db['peakRadius']??0x1*-0x4c1+-0x131*-0x1a+-0x1a39,_0x172deb=_0x3799db['height']??-0x918+0x1b7+-0x3b1*-0x2,_0x5a05a4=_0x3799db['heightSegm'+'ents']??0xfee*-0x1+-0x2609+-0x4*-0xd7f,_0x454129=_0x3799db['capSegment'+'s']??0xa4d+0x1*0x2457+0x2e92*-0x1;super(_0x79e920,_0x41119e,_0x172deb,_0x5a05a4,_0x454129,!(0xcc4+0x2c1+-0x1*0xf84)),_0x3799db['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends Vp{constructor(_0x4c093e={}){const _0xbf829a=_0x4c093e['radius']??0x1715+-0x1237*-0x1+-0x294c+0.5,_0x26215e=_0x4c093e['height']??-0x10*0x128+0xde0+0x4a1,_0x49ef28=_0x4c093e['heightSegm'+'ents']??0xb*0x2fa+0x1cdb*0x1+-0x3d94,_0x52c276=_0x4c093e['capSegment'+'s']??0x13b6+0x1371+-0x2713;super(_0xbf829a,_0xbf829a,_0x26215e,_0x49ef28,_0x52c276,!(-0x1676+-0x19*-0x19+-0xe9*-0x16)),_0x4c093e['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class I1 extends _n{constructor(_0x253b30={}){super();const _0x193ffa=_0x253b30['halfExtent'+'s']??new W(0x3e+-0x134d+0x130f+0.5,0x1b77+0x1*-0x25ac+-0xd*-0xc9+0.5),_0x270e46=_0x253b30['widthSegme'+'nts']??0x2106+0x536+-0x2637,_0x338f32=_0x253b30['lengthSegm'+'ents']??-0x1f12+0x1*0x13d9+0xb3e,_0x55917f=[],_0x15e857=[],_0x196caf=[],_0x1de987=[];let _0xf3ff44=0x1ea4+0x145b+-0x32ff;for(let _0x51d780=0x1f5*-0x3+0xdb4+-0x5*0x191;_0x51d780<=_0x270e46;_0x51d780++)for(let _0x62134a=0xcbb+-0x3da*0x8+0x607*0x3;_0x62134a<=_0x338f32;_0x62134a++){const _0x23e891=-_0x193ffa['x']+(-0x1e6b+0x1d76+0xf7)*_0x193ffa['x']*_0x51d780/_0x270e46,_0xa61423=-0x2*0x4b3+-0x2577+0x183*0x1f,_0x584f3b=-(-_0x193ffa['y']+(-0x1*-0xe32+0x12*-0x140+0x850)*_0x193ffa['y']*_0x62134a/_0x338f32),_0x412dfa=_0x51d780/_0x270e46,_0x2edd5a=_0x62134a/_0x338f32;_0x55917f['push'](_0x23e891,_0xa61423,_0x584f3b),_0x15e857['push'](-0xfb1+-0xb*0x2fe+-0x17*-0x21d,-0x3*-0x2fd+0x4c*-0x29+0x2*0x19b,0x2*0xd91+-0xc06+-0x2*0x78e),_0x196caf['push'](_0x412dfa,-0x126*-0x5+0x16f3+-0x1cb0-_0x2edd5a),_0x51d780<_0x270e46&&_0x62134a<_0x338f32&&(_0x1de987['push'](_0xf3ff44+_0x338f32+(-0x1*0xab6+-0x22ed+0x2da4),_0xf3ff44+(0x1d42+-0x7b*0xf+0x4*-0x583),_0xf3ff44),_0x1de987['push'](_0xf3ff44+_0x338f32+(-0x961+-0x402+0x1*0xd64),_0xf3ff44+_0x338f32+(-0x3*0x85f+0x1dee+-0x4cf),_0xf3ff44+(-0x940+0x416+-0x1*-0x52b))),_0xf3ff44++;}this['positions']=_0x55917f,this['normals']=_0x15e857,this['uvs']=_0x196caf,this['uvs1']=_0x196caf,this['indices']=_0x1de987,_0x253b30['calculateT'+'angents']&&(this['tangents']=pr(_0x55917f,_0x15e857,_0x196caf,_0x1de987));}}class D1 extends _n{constructor(_0x2ef5a5={}){super();const _0x19d4d1=_0x2ef5a5['tubeRadius']??-0x832+0x248d+0x77*-0x3d+0.2,_0x5ebbbd=_0x2ef5a5['ringRadius']??-0x15c3+-0x1a1c+0x2fdf*0x1+0.3,_0x572569=(_0x2ef5a5['sectorAngl'+'e']??0x3d*0x4d+0xf98+0x1*-0x2089)*z['DEG_TO_RAD'],_0x2ca410=_0x2ef5a5['segments']??0xdff+-0x127*0x1f+-0x3a4*-0x6,_0x404908=_0x2ef5a5['sides']??-0x1*0x2669+0xb9+0x25c4,_0x22be68=[],_0x2cd40f=[],_0x55edb5=[],_0x2d0e3=[];for(let _0x52d681=0x8a0+-0x2*-0x12c2+0x2e24*-0x1;_0x52d681<=_0x404908;_0x52d681++)for(let _0xcc1f6b=-0x16*-0x54+-0xf8*0x7+-0x70;_0xcc1f6b<=_0x2ca410;_0xcc1f6b++){const _0x447add=Math['cos'](_0x572569*_0xcc1f6b/_0x2ca410)*(_0x5ebbbd+_0x19d4d1*Math['cos']((-0x145+-0x257d+0x2*0x1362)*Math['PI']*_0x52d681/_0x404908)),_0x1698db=Math['sin']((0x32*0xc2+-0x9c*0x5+-0x22d6)*Math['PI']*_0x52d681/_0x404908)*_0x19d4d1,_0x2ef194=Math['sin'](_0x572569*_0xcc1f6b/_0x2ca410)*(_0x5ebbbd+_0x19d4d1*Math['cos']((0x100+-0x17a4+0xd*0x1be)*Math['PI']*_0x52d681/_0x404908)),_0x2c1202=Math['cos'](_0x572569*_0xcc1f6b/_0x2ca410)*Math['cos']((-0x2*0x12ad+0x5*-0xb3+-0x1*-0x28db)*Math['PI']*_0x52d681/_0x404908),_0x426847=Math['sin']((0x16d6+-0xd0d*-0x2+-0x30ee)*Math['PI']*_0x52d681/_0x404908),_0x463cba=Math['sin'](_0x572569*_0xcc1f6b/_0x2ca410)*Math['cos']((-0x4f8+-0xa95+0x1*0xf8f)*Math['PI']*_0x52d681/_0x404908),_0x202de5=_0x52d681/_0x404908,_0x399cc8=0x4*0x287+0x22c6+0x1*-0x2ce1-_0xcc1f6b/_0x2ca410;if(_0x22be68['push'](_0x447add,_0x1698db,_0x2ef194),_0x2cd40f['push'](_0x2c1202,_0x426847,_0x463cba),_0x55edb5['push'](_0x202de5,-0x5*-0x277+-0x1d*-0x20+-0xff2-_0x399cc8),_0x52d681<_0x404908&&_0xcc1f6b<_0x2ca410){const _0x4d9842=_0x52d681*(_0x2ca410+(0x16a1+-0x1*0x33d+-0x1363))+_0xcc1f6b,_0x478fb1=(_0x52d681+(0x1a8c+0x13*-0x7d+-0xaa*0x1a))*(_0x2ca410+(-0xe57+0x182+0x1f*0x6a))+_0xcc1f6b,_0x2e46b5=_0x52d681*(_0x2ca410+(-0x190+0xe8f+-0x2*0x67f))+(_0xcc1f6b+(-0x1c23+-0x2675+0x4299)),_0x95ebb1=(_0x52d681+(0x23*-0xee+-0x10*-0x221+0x185*-0x1))*(_0x2ca410+(-0x3*-0x1f7+0x214c*-0x1+0x1b68))+(_0xcc1f6b+(0x15ae+-0x2*0x689+-0x89b*0x1));_0x2d0e3['push'](_0x4d9842,_0x478fb1,_0x2e46b5),_0x2d0e3['push'](_0x478fb1,_0x95ebb1,_0x2e46b5);}}this['positions']=_0x22be68,this['normals']=_0x2cd40f,this['uvs']=_0x55edb5,this['uvs1']=_0x55edb5,this['indices']=_0x2d0e3,_0x2ef5a5['calculateT'+'angents']&&(this['tangents']=pr(_0x22be68,_0x2cd40f,_0x55edb5,_0x2d0e3));}}class L1{constructor(_0x35c403,_0x11b165){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x35c403,this['_isClearin'+'gCache']=!(0x1*-0x1c30+0x5*0x59e+0x9*0x3),this['_precached']=!(0x1c*-0x10f+0x1536+0x86f),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new qh(),this['_defaultSt'+'dMatOption'+'Min']=new qh());const _0x39d4ff=new E0();_0x11b165['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x39d4ff,_0x11b165,null,[],xn,null),_0x11b165['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x11b165,null,Fp,null),_0x35c403['on']('destroy:sh'+'ader',_0x13290c=>{this['removeFrom'+'Cache'](_0x13290c);});}['destroy'](){this['clearCache']();}['register'](_0x46c574,_0x14f39f){this['_generator'+'s']['has'](_0x46c574)||this['_generator'+'s']['set'](_0x46c574,_0x14f39f);}['unregister'](_0x3e4339){this['_generator'+'s']['has'](_0x3e4339)&&this['_generator'+'s']['delete'](_0x3e4339);}['isRegister'+'ed'](_0x45bc27){return this['_generator'+'s']['has'](_0x45bc27);}['generateSh'+'aderDefini'+'tion'](_0x37b66d,_0x1ae293,_0x2b8d63,_0x556af6){var _0x3930b4,_0x325f54;let _0x53a96a=this['definition'+'sCache']['get'](_0x2b8d63);if(!_0x53a96a){let _0x3b3744;(_0x3930b4=_0x556af6['litOptions'])!=null&&_0x3930b4['lights']&&(_0x3b3744=_0x556af6['litOptions']['lights'],_0x556af6['litOptions']['lights']=_0x3b3744['map'](_0x2c1c29=>{const _0x13e9c2=_0x2c1c29['clone']?_0x2c1c29['clone']():_0x2c1c29;return _0x13e9c2['key']=_0x2c1c29['key'],_0x13e9c2;})),this['storeNewPr'+'ogram'](_0x1ae293,_0x556af6),(_0x325f54=_0x556af6['litOptions'])!=null&&_0x325f54['lights']&&(_0x556af6['litOptions']['lights']=_0x3b3744),this['_precached']&&b['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x1ae293+'\x20key\x20'+_0x2b8d63+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x5d2266=this['_device'];_0x53a96a=_0x37b66d['createShad'+'erDefiniti'+'on'](_0x5d2266,_0x556af6),_0x53a96a['name']=_0x53a96a['name']??(_0x556af6['pass']?_0x1ae293+'-pass:'+_0x556af6['pass']:_0x1ae293),this['definition'+'sCache']['set'](_0x2b8d63,_0x53a96a);}return _0x53a96a;}['getCachedS'+'hader'](_0x342e74){return this['processedC'+'ache']['get'](_0x342e74);}['setCachedS'+'hader'](_0x24e4fe,_0x29f6c5){this['processedC'+'ache']['set'](_0x24e4fe,_0x29f6c5);}['getProgram'](_0x1200d0,_0x35be28,_0x4637a7,_0x3896f9){const _0x18b989=this['_generator'+'s']['get'](_0x1200d0);if(!_0x18b989)return b['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x1200d0),null;const _0x59d397=_0x18b989['generateKe'+'y'](_0x35be28),_0x426a66=cn(_0x59d397),_0x4926ae=_0x4637a7['generateKe'+'y'](this['_device']),_0x2b369b=cn(_0x4926ae),_0x15bff5=_0x426a66+'#'+_0x2b369b;let _0x5a78e5=this['getCachedS'+'hader'](_0x15bff5);if(!_0x5a78e5){const _0x50c730=this['generateSh'+'aderDefini'+'tion'](_0x18b989,_0x1200d0,_0x426a66,_0x35be28);b['assert'](_0x50c730);let _0x3b8486='',_0x18a161;_0x35be28['pass']!==void(-0x16a4+-0x608*0x1+0xa*0x2de)&&(_0x18a161=ti['get'](this['_device'])['getByIndex'](_0x35be28['pass']),_0x3b8486='-'+_0x18a161['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x3896f9,'shaderPassInfo':_0x18a161,'definition':_0x50c730});const _0x1fd428={'name':''+_0x50c730['name']+_0x3b8486+'-proc','attributes':_0x50c730['attributes'],'vshader':_0x50c730['vshader'],'vincludes':_0x50c730['vincludes'],'fincludes':_0x50c730['fincludes'],'fshader':_0x50c730['fshader'],'processingOptions':_0x4637a7,'shaderLanguage':_0x50c730['shaderLang'+'uage'],'meshUniformBufferFormat':_0x50c730['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x50c730['meshBindGr'+'oupFormat']};_0x5a78e5=new r0(this['_device'],_0x1fd428),b['call'](()=>{_0x5a78e5['_generatio'+'nKey']=_0x59d397,_0x5a78e5['_processin'+'gKey']=_0x4926ae;}),this['setCachedS'+'hader'](_0x15bff5,_0x5a78e5);}return _0x5a78e5;}['storeNewPr'+'ogram'](_0x231e0b,_0x1bc06a){let _0x21948f={};if(_0x231e0b==='standard'){const _0x360228=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x1bc06a['pass']);for(const _0xbfdddf in _0x1bc06a)(_0x1bc06a['hasOwnProp'+'erty'](_0xbfdddf)&&_0x360228[_0xbfdddf]!==_0x1bc06a[_0xbfdddf]||_0xbfdddf==='pass')&&(_0x21948f[_0xbfdddf]=_0x1bc06a[_0xbfdddf]);for(const _0x57bb0f in _0x1bc06a['litOptions'])_0x21948f[_0x57bb0f]=_0x1bc06a['litOptions'][_0x57bb0f];}else _0x21948f=_0x1bc06a;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x231e0b,'options':_0x21948f}));}['dumpProgra'+'ms'](){let _0x1161a7='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x1161a7+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x12e9+-0x1c2d+0x2f16]&&(_0x1161a7+='\x0a\x09'+this['_programsC'+'ollection'][-0x267e+0x57d+0x2101]);for(let _0x5afb22=0x44e+-0xe7a+0x1*0xa2d;_0x5afb22<this['_programsC'+'ollection']['length'];++_0x5afb22)_0x1161a7+=',\x0a\x09'+this['_programsC'+'ollection'][_0x5afb22];_0x1161a7+='\x0a];\x0a',_0x1161a7+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x1161a7+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+ho+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+iy+'\x22)\x0a',_0x1161a7+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x262e45=document['createElem'+'ent']('a');_0x262e45['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x1161a7)),_0x262e45['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x262e45['style']['display']='none',document['body']['appendChil'+'d'](_0x262e45),_0x262e45['click'](),document['body']['removeChil'+'d'](_0x262e45);}['clearCache'](){this['_isClearin'+'gCache']=!(-0xdfe+-0x127*0x2+0x413*0x4),this['processedC'+'ache']['forEach'](_0x31f621=>{_0x31f621['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x847*-0x2+0x1008+-0x1b7*0x13);}['removeFrom'+'Cache'](_0x13a040){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x5d17e3,_0x2d7a49)=>{_0x13a040===_0x5d17e3&&this['processedC'+'ache']['delete'](_0x2d7a49);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0xda6772){const _0x372e12=ti['get'](this['_device'])['getByIndex'](_0xda6772);return _0xda6772===ll||_0xda6772===Na||_0xda6772===ol||_0x372e12['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x47d8c0){if(_0x47d8c0){const _0x42dd60=new Array(_0x47d8c0['length']);for(let _0x4e988f=-0xecc*0x1+0x1688+-0x7bc;_0x4e988f<_0x47d8c0['length'];_0x4e988f++){if(_0x47d8c0[_0x4e988f]['name']==='standard'){const _0x37237f=_0x47d8c0[_0x4e988f]['options'],_0x36cde4=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x37237f['pass']);for(const _0x6aa2a7 in _0x36cde4)_0x36cde4['hasOwnProp'+'erty'](_0x6aa2a7)&&_0x37237f[_0x6aa2a7]===void(-0xd10+-0x3*-0xac3+-0x85*0x25)&&(_0x37237f[_0x6aa2a7]=_0x36cde4[_0x6aa2a7]);}_0x42dd60[_0x4e988f]=this['getProgram'](_0x47d8c0[_0x4e988f]['name'],_0x47d8c0[_0x4e988f]['options']);}}this['_precached']=!(0xe4+-0x26d1+0x25ed);}}const F1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',k1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',B1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),Ao={'bakeDirLmEndPS':F1,'bakeLmEndPS':k1,'dilatePS':O1,'bilateralDeNoisePS':B1},On=new q(),N_=new ie(),Yd=new ve(),z_=new ve(),N1=new Y(0x55*0x60+0x1*-0x1c47+0x1cc*-0x2,-0xb47*0x3+0xd11+0x14c5,0x1b8*-0xa+0x2*0x627+0x4e2,-0xca5+0x3*-0x9bf+0x29e2+0.4),Kd=0x1dc2+0x2*-0x942+-0xb3e+0.28209479177387814;class z1{constructor(_0x1d1a86,_0x3c8f2a,_0x23f532,_0xb9afa1,_0x36fe01,_0x2efcf9){const _0x282c7f=_0x1d1a86['getProp']('x'),_0x5bc6fb=_0x1d1a86['getProp']('y'),_0x271429=_0x1d1a86['getProp']('z'),_0x5a924a=_0x1d1a86['getProp']('rot_1'),_0x3d15a0=_0x1d1a86['getProp']('rot_2'),_0x13073f=_0x1d1a86['getProp']('rot_3'),_0x842d11=_0x1d1a86['getProp']('rot_0'),_0x15bc18=_0x1d1a86['getProp']('motion_0'),_0x4cdc0e=_0x1d1a86['getProp']('motion_1'),_0x8454a7=_0x1d1a86['getProp']('motion_2'),_0x4d1469=_0x1d1a86['getProp']('scale_0'),_0x17b712=_0x1d1a86['getProp']('scale_1'),_0x69afd8=_0x1d1a86['getProp']('scale_2'),_0x5ee46e=_0x1d1a86['getProp']('f_dc_0'),_0x27beb4=_0x1d1a86['getProp']('f_dc_1'),_0x1f2175=_0x1d1a86['getProp']('f_dc_2'),_0xf2e4e9=_0x1d1a86['getProp']('opacity'),_0x1e74e6=_0x3b0ab0=>{if(_0x3b0ab0>-0xd*0x3a+0x16c8+-0x13d6*0x1)return(-0x26*0x13+0x1f6+0xdd*0x1)/(0x25ed+0xab*0x2+-0x2742+Math['exp'](-_0x3b0ab0));const _0x5b141a=Math['exp'](_0x3b0ab0);return _0x5b141a/(-0x1193*-0x2+0x1935+-0x3c5a+_0x5b141a);};this['read']=_0x3e620b=>{_0x3c8f2a&&(_0x3c8f2a['x']=_0x282c7f[_0x3e620b],_0x3c8f2a['y']=_0x5bc6fb[_0x3e620b],_0x3c8f2a['z']=_0x271429[_0x3e620b]),_0x23f532&&_0x23f532['set'](_0x5a924a[_0x3e620b],_0x3d15a0[_0x3e620b],_0x13073f[_0x3e620b],_0x842d11[_0x3e620b]),_0xb9afa1&&_0xb9afa1['set'](Math['exp'](_0x4d1469[_0x3e620b]),Math['exp'](_0x17b712[_0x3e620b]),Math['exp'](_0x69afd8[_0x3e620b])),_0x2efcf9&&_0x15bc18&&_0x2efcf9['set'](_0x15bc18[_0x3e620b],_0x4cdc0e[_0x3e620b],_0x8454a7[_0x3e620b]),_0x36fe01&&_0x36fe01['set'](0x2050+0x8d4*-0x1+0x4*-0x5df+0.5+_0x5ee46e[_0x3e620b]*Kd,-0x1868+0x7*0x123+-0x1073*-0x1+0.5+_0x27beb4[_0x3e620b]*Kd,0x79b+-0x2*0x128b+0x1d7b*0x1+0.5+_0x1f2175[_0x3e620b]*Kd,_0x1e74e6(_0xf2e4e9[_0x3e620b]));};}}const U_=(_0x594b97,_0x2605b0,_0x42876e)=>{N_['set'](_0x42876e['x'],_0x42876e['y'],_0x42876e['z'],_0x42876e['w'])['normalize'](),_0x594b97['setTRS'](_0x2605b0,N_,A['ONE']);};class Fa{constructor(_0x545f9a){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x546d8f,_0x5045a2,_0x503e9b;this['elements']=_0x545f9a,this['numSplats']=(_0x546d8f=this['getElement']('vertex'))==null?void(-0x1261*0x1+-0xb*0xe0+0x1c01):_0x546d8f['count'],this['is4D']=!!((_0x503e9b=(_0x5045a2=this['getElement']('vertex'))==null?void(0x5ff*-0x3+0x26e3+-0x14e6):_0x5045a2['properties']['find'](_0x5eb437=>_0x5eb437['name']==='t'))!=null&&_0x503e9b['storage']);}['appendGSpl'+'atData'](_0x1543c9,_0x4eaf05,_0x5d2329){const _0xf19a9d=this['getElement']('vertex')['properties'];_0xf19a9d['find'](_0x2a761a=>_0x2a761a['name']==='time_index')||_0xf19a9d['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x1543c9['numSplats'];for(let _0x29c650=-0x1*-0x1070+-0xbf*0x1f+-0x23b*-0x3;_0x29c650<_0xf19a9d['length'];_0x29c650++){const _0x2f35b3=_0xf19a9d[_0x29c650],_0x49b2de=_0x1543c9['getElement']('vertex')['properties']['find'](_0x5858a9=>_0x5858a9['name']===_0x2f35b3['name']);if(_0x2f35b3['name']==='time_index'){const _0x27ced4=new Float32Array(this['numSplats']);_0x27ced4['fill'](_0x4eaf05),_0x27ced4['set'](_0x2f35b3['storage'],0x40b+-0x1*-0x11c9+-0x15d4),_0x2f35b3['storage']=_0x27ced4;}else{if(_0x49b2de&&_0x2f35b3['name']==='t'){const _0xfbc495=new Float32Array(this['numSplats']);if(_0xfbc495['set'](_0x2f35b3['storage'],-0x1fda+-0x34*0x29+0x282e*0x1),_0x5d2329){for(let _0x45ad0a=_0x2f35b3['storage']['length'];_0x45ad0a<this['numSplats'];_0x45ad0a++)_0xfbc495[_0x45ad0a]=_0x49b2de['storage'][_0x45ad0a-_0x2f35b3['storage']['length']]+_0x5d2329[(0x2534*0x1+-0x1*-0xc2e+-0x3160)*_0x4eaf05];}else _0xfbc495['set'](_0x49b2de['storage'],_0x2f35b3['storage']['length']);_0x2f35b3['storage']=_0xfbc495;}else{if(_0x49b2de){const _0x349be2=new Float32Array(this['numSplats']);_0x349be2['set'](_0x2f35b3['storage'],0x9*-0x71+0x718*0x4+-0x1867),_0x349be2['set'](_0x49b2de['storage'],_0x2f35b3['storage']['length']),_0x2f35b3['storage']=_0x349be2;}}}}}static['calcSplatA'+'abb'](_0x4f1820,_0x42db6a,_0x2a8a32,_0x22012c){U_(On,_0x42db6a,_0x2a8a32),Yd['center']['set'](-0xe*0x15c+-0xb9b*-0x1+-0x76d*-0x1,0x913*-0x3+-0x96d*0x1+0x1*0x24a6,0x7a6*-0x4+-0x882+0x271a),Yd['halfExtent'+'s']['set'](_0x22012c['x']*(0x1e5a+0xce8+-0x20*0x15a),_0x22012c['y']*(-0x953*-0x1+-0x4ea+0x17*-0x31),_0x22012c['z']*(-0xb*-0x239+-0x41*-0x93+-0x3dc4*0x1)),_0x4f1820['setFromTra'+'nsformedAa'+'bb'](Yd,On);}['getProp'](_0x1a6a2a,_0x44a67a='vertex'){var _0x56119e,_0x18b7e2;return(_0x18b7e2=(_0x56119e=this['getElement'](_0x44a67a))==null?void(0x579*0x3+-0x15f0+0x585):_0x56119e['properties']['find'](_0x57e8e7=>_0x57e8e7['name']===_0x1a6a2a))==null?void(0x2136+0xda1+0x15*-0x23b):_0x18b7e2['storage'];}['getElement'](_0x3da4f6){return this['elements']['find'](_0x458e31=>_0x458e31['name']===_0x3da4f6);}['addProp'](_0x1dd2d6,_0x4a34f9){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x1dd2d6,'storage':_0x4a34f9,'byteSize':0x4});}['createIter'](_0x46353a,_0x2929d7,_0x30955a,_0x25bacc,_0x3a8044){return new z1(this,_0x46353a,_0x2929d7,_0x30955a,_0x25bacc,_0x3a8044);}['calcAabb'](_0x3815cb,_0x214f8d){let _0xcca6f3,_0x5e299b,_0x470577,_0x25295b,_0xab37ea,_0x5753e4,_0x3985b8=!(0x21e5*-0x1+0x2083+0xb1*0x2);const _0x28e01a=this['getProp']('x'),_0x50f32e=this['getProp']('y'),_0x2c919e=this['getProp']('z'),_0x2859e3=this['getProp']('scale_0'),_0x3194eb=this['getProp']('scale_1'),_0xdfa873=this['getProp']('scale_2');for(let _0xa604cb=0x98d+-0x26*0x15+-0x66f;_0xa604cb<this['numSplats'];++_0xa604cb){if(_0x214f8d&&!_0x214f8d(_0xa604cb))continue;const _0x29c220=(0x8*0x3a5+0x146+0xb*-0x2c4)*Math['exp'](Math['max'](_0x2859e3[_0xa604cb],_0x3194eb[_0xa604cb],_0xdfa873[_0xa604cb])),_0x39921a=_0x28e01a[_0xa604cb],_0x290160=_0x50f32e[_0xa604cb],_0x229037=_0x2c919e[_0xa604cb];_0x3985b8?(_0x3985b8=!(0x227e+0x1577+-0x37f4),_0xcca6f3=_0x39921a-_0x29c220,_0x5e299b=_0x290160-_0x29c220,_0x470577=_0x229037-_0x29c220,_0x25295b=_0x39921a+_0x29c220,_0xab37ea=_0x290160+_0x29c220,_0x5753e4=_0x229037+_0x29c220):(_0xcca6f3=Math['min'](_0xcca6f3,_0x39921a-_0x29c220),_0x5e299b=Math['min'](_0x5e299b,_0x290160-_0x29c220),_0x470577=Math['min'](_0x470577,_0x229037-_0x29c220),_0x25295b=Math['max'](_0x25295b,_0x39921a+_0x29c220),_0xab37ea=Math['max'](_0xab37ea,_0x290160+_0x29c220),_0x5753e4=Math['max'](_0x5753e4,_0x229037+_0x29c220));}return _0x3985b8||(_0x3815cb['center']['set']((_0xcca6f3+_0x25295b)*(-0x5ce*0x1+-0xd33+0x1301+0.5),(_0x5e299b+_0xab37ea)*(-0x16f*0x1+-0x181+-0x5e*-0x8+0.5),(_0x470577+_0x5753e4)*(0x253c+-0xde7+0x7c7*-0x3+0.5)),_0x3815cb['halfExtent'+'s']['set']((_0x25295b-_0xcca6f3)*(-0x2667+-0x2418+-0x18d5*-0x3+0.5),(_0xab37ea-_0x5e299b)*(0x12d3+-0x1+0x2*-0x969+0.5),(_0x5753e4-_0x470577)*(-0x39a*-0x7+0xbb+0x1d*-0xe5+0.5))),!_0x3985b8;}['calcAabbEx'+'act'](_0x304d1e,_0x19ad69){const _0x3a7c8d=new A(),_0x398eb8=new ie(),_0x20e6f6=new A(),_0x28569c=this['createIter'](_0x3a7c8d,_0x398eb8,_0x20e6f6);let _0x5a9f1b=!(0xe24+0x1*0xe9b+-0x1cbf);for(let _0x5c580b=-0x17a0+0x105b+0x745*0x1;_0x5c580b<this['numSplats'];++_0x5c580b)_0x19ad69&&!_0x19ad69(_0x5c580b)||(_0x28569c['read'](_0x5c580b),_0x5a9f1b?(_0x5a9f1b=!(-0x166e+-0x493*0x1+0x1b02),Fa['calcSplatA'+'abb'](_0x304d1e,_0x3a7c8d,_0x398eb8,_0x20e6f6)):(Fa['calcSplatA'+'abb'](z_,_0x3a7c8d,_0x398eb8,_0x20e6f6),_0x304d1e['add'](z_)));return!_0x5a9f1b;}['getCenters'](_0x1e35f6){const _0x29626f=this['getProp']('x'),_0x5f521f=this['getProp']('y'),_0x1bf57f=this['getProp']('z');for(let _0x4f0042=0x13*0x43+0x16aa+-0x5*0x587;_0x4f0042<this['numSplats'];++_0x4f0042)_0x1e35f6[_0x4f0042*(-0x18*-0xbb+0x1c6d+-0x1*0x2df2)+(-0x25*-0x83+-0xbd3*0x3+0x108a)]=_0x29626f[_0x4f0042],_0x1e35f6[_0x4f0042*(-0x679*-0x1+0x2695+0xd*-0x377)+(-0x2*0xb66+0x12*-0xa8+0x229d)]=_0x5f521f[_0x4f0042],_0x1e35f6[_0x4f0042*(0x1007+-0x16*0x15+-0xe36)+(-0x22*0x25+0x2472+-0x1f86)]=_0x1bf57f[_0x4f0042];}['getMuT'](){const _0x24a71f=this['getProp']('t');if(!_0x24a71f)return;const _0x4e34b9=new Float32Array(this['numSplats']);for(let _0x43cd42=0x41b*0x3+-0xe21*-0x1+-0x1a72;_0x43cd42<this['numSplats'];++_0x43cd42)_0x4e34b9[_0x43cd42]=_0x24a71f[_0x43cd42];return _0x4e34b9;}['getTScale'](){const _0x292a2d=this['getProp']('t_scale');if(!_0x292a2d)return;const _0xe0d7f3=new Float32Array(this['numSplats']);for(let _0x13870c=-0x1*-0x1302+0x8*-0x40f+-0x1*-0xd76;_0x13870c<this['numSplats'];++_0x13870c)_0xe0d7f3[_0x13870c]=Math['exp'](_0x292a2d[_0x13870c]);return _0xe0d7f3;}['getMotion'](_0x423ed6){const _0x3729ca=this['getProp']('motion_0'),_0x2543e0=this['getProp']('motion_1'),_0x51c9da=this['getProp']('motion_2');if(!(!_0x3729ca||!_0x2543e0||!_0x51c9da)){for(let _0x5df27c=-0x1*-0x1d3+0x537+-0x70a;_0x5df27c<this['numSplats'];++_0x5df27c)_0x423ed6[_0x5df27c*(-0x37d*-0xa+0x5e7*-0x1+0x39f*-0x8)+(0x2320+0x14f3+-0x3813)]=_0x3729ca[_0x5df27c],_0x423ed6[_0x5df27c*(0x1bf*-0xd+-0x347*0x1+0x19fd)+(-0x16cb+0x4ee*-0x3+0x2596)]=_0x2543e0[_0x5df27c],_0x423ed6[_0x5df27c*(-0x1*-0xcf4+-0x266a+0x1979)+(0x1147+-0x191*0x9+-0x3a*0xe)]=_0x51c9da[_0x5df27c];}}['getTimeInd'+'ex'](_0x1b42fd){const _0xbca364=this['getProp']('time_index');_0xbca364&&_0x1b42fd['set'](_0xbca364,0x18d*0x5+-0x236a+0x1ba9);}['calcFocalP'+'oint'](_0x42154a,_0x5584a5){const _0x416850=this['getProp']('x'),_0x5db175=this['getProp']('y'),_0x5d1c97=this['getProp']('z'),_0x15d98d=this['getProp']('scale_0'),_0x1f1c20=this['getProp']('scale_1'),_0x3607f7=this['getProp']('scale_2');_0x42154a['x']=-0x1ade+-0x1*-0x1bec+0x36*-0x5,_0x42154a['y']=-0xbfc+-0x2a1*0x4+-0x120*-0x14,_0x42154a['z']=-0x17*-0x2f+-0x962*0x1+0x529;let _0x5997fc=-0x1*0x2671+-0x221d+0x488e;for(let _0x27e50a=0x201*-0x9+0x53*-0x25+0x1e08;_0x27e50a<this['numSplats'];++_0x27e50a){if(_0x5584a5&&!_0x5584a5(_0x27e50a))continue;const _0x1e234b=(-0x12ec+-0x224a+0x3537)/(0x269+-0x2694+0x90b*0x4+Math['exp'](Math['max'](_0x15d98d[_0x27e50a],_0x1f1c20[_0x27e50a],_0x3607f7[_0x27e50a])));_0x42154a['x']+=_0x416850[_0x27e50a]*_0x1e234b,_0x42154a['y']+=_0x5db175[_0x27e50a]*_0x1e234b,_0x42154a['z']+=_0x5d1c97[_0x27e50a]*_0x1e234b,_0x5997fc+=_0x1e234b;}_0x42154a['mulScalar']((0x2*-0xe45+-0x4ef*0x3+0x98*0x49)/_0x5997fc);}['renderWire'+'frameBound'+'s'](_0x3e71c6,_0x239f93){const _0x71b58c=new A(),_0x56c394=new ie(),_0x87fafa=new A(),_0x52f621=new A(),_0x184cd2=new A(),_0x3b2a19=this['createIter'](_0x71b58c,_0x56c394,_0x87fafa);for(let _0x39dc18=-0x234b+0x1481+0x277*0x6;_0x39dc18<this['numSplats'];++_0x39dc18)_0x3b2a19['read'](_0x39dc18),U_(On,_0x71b58c,_0x56c394),On['mul2'](_0x239f93,On),_0x52f621['set'](_0x87fafa['x']*-(-0x1968+-0x1f8b+0x38f5),_0x87fafa['y']*-(0xb*0x4d+-0x1*0x157a+0x122d),_0x87fafa['z']*-(0x4*0x745+0x155d*0x1+-0x326f*0x1)),_0x184cd2['set'](_0x87fafa['x']*(0x174+0x1e9f+-0x2011),_0x87fafa['y']*(0x1f*0x12e+-0xd1c*-0x1+-0x31ac),_0x87fafa['z']*(-0x40d+-0xa0+0x4af)),_0x3e71c6['immediate']['drawWireAl'+'ignedBox'](_0x52f621,_0x184cd2,N1,!(-0x1a6f+-0x3*0x54+0x1b6b),_0x3e71c6['defaultDra'+'wLayer'],On);}get['isCompress'+'ed'](){return!(-0x1e89+0x250a+-0x680*0x1);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x537210=0x6de*0x3+0xa82+-0x4*0x7c7;_0x537210<0x1*0x206b+-0x1*0x1c4f+-0x13*0x35;++_0x537210)if(!this['getProp']('f_rest_'+_0x537210))return _0x537210;return 0x2558*-0x1+0x1*0x1885+0x100*0xd;})())]??-0x185*-0x19+0x527*0x5+-0x3fc0;}['calcMorton'+'Order'](){const _0x9d59ed=_0xfdb200=>{let _0x40e1da=_0xfdb200[0xa75*-0x2+-0x20dc+0x35c6],_0x51f61e=_0xfdb200[0xdf7*0x2+0x24a2+-0x4090];for(let _0x5e6d9e=0xbd8+0x44*-0x36+-0x281*-0x1;_0x5e6d9e<_0xfdb200['length'];_0x5e6d9e++)_0xfdb200[_0x5e6d9e]<_0x40e1da&&(_0x40e1da=_0xfdb200[_0x5e6d9e]),_0xfdb200[_0x5e6d9e]>_0x51f61e&&(_0x51f61e=_0xfdb200[_0x5e6d9e]);return{'min':_0x40e1da,'max':_0x51f61e};},_0xaab555=(_0x37c62d,_0x3e48a5,_0x431878)=>{const _0x19cdf3=_0x34902f=>(_0x34902f&=0x7+0x158a+-0x1192,_0x34902f=(_0x34902f^_0x34902f<<0x26ca+0x1*0x2ce+-0x14c4*0x2)&-0x1cdf24b77+0x487bd404+-0x1423b3c39*-0x2,_0x34902f=(_0x34902f^_0x34902f<<0x24f5+-0x4a6+0x2047*-0x1)&0x4*-0x8e917d+0x1fbc32b*-0x2+-0x3*-0x310e973,_0x34902f=(_0x34902f^_0x34902f<<-0x5ab*-0x3+0x1*-0x4c7+-0xc36)&0x1*0x2f28d1+-0x5c2d24+0x3393516,_0x34902f=(_0x34902f^_0x34902f<<-0xd*-0x177+0x2288+0x1*-0x3591)&-0x11*-0x68fed7+-0x8dd4b64+0xb08f166,_0x34902f);return(_0x19cdf3(_0x431878)<<-0x1*0x1c65+-0x1147+0x2dae)+(_0x19cdf3(_0x3e48a5)<<0xa70+0xc30+-0x169f)+_0x19cdf3(_0x37c62d);},_0x42aab9=this['getProp']('x'),_0x3257bd=this['getProp']('y'),_0x1ba0ca=this['getProp']('z'),{min:_0x45fb2a,max:_0xa840de}=_0x9d59ed(_0x42aab9),{min:_0x12c094,max:_0x426612}=_0x9d59ed(_0x3257bd),{min:_0x358a3d,max:_0x3ef5d6}=_0x9d59ed(_0x1ba0ca),_0x2f669a=_0x45fb2a===_0xa840de?-0x3a1*0x5+0x2*-0xda0+-0x1*-0x2d65:(-0x7dd+0x2*0x137e+-0x1b1f)/(_0xa840de-_0x45fb2a),_0x541e85=_0x12c094===_0x426612?0x2*0x120b+0x77+-0x248d:(0x193c+0x962+0x1*-0x1e9e)/(_0x426612-_0x12c094),_0x58e50d=_0x358a3d===_0x3ef5d6?0x3*-0x31+0x299+-0x206:(-0x2cf*-0x5+0xde4+-0x17ef)/(_0x3ef5d6-_0x358a3d),_0x1c6d7c=new Map();for(let _0x1d3256=0x2*-0xa7d+0x4a*-0x50+0x2c1a;_0x1d3256<this['numSplats'];_0x1d3256++){const _0x48b69d=Math['floor']((_0x42aab9[_0x1d3256]-_0x45fb2a)*_0x2f669a),_0x1426e3=Math['floor']((_0x3257bd[_0x1d3256]-_0x12c094)*_0x541e85),_0xfb46a6=Math['floor']((_0x1ba0ca[_0x1d3256]-_0x358a3d)*_0x58e50d),_0x52a89a=_0xaab555(_0x48b69d,_0x1426e3,_0xfb46a6),_0xcc2123=_0x1c6d7c['get'](_0x52a89a);_0xcc2123?_0xcc2123['push'](_0x1d3256):_0x1c6d7c['set'](_0x52a89a,[_0x1d3256]);}const _0xb4fda8=Array['from'](_0x1c6d7c['keys']())['sort']((_0x452dbc,_0x4ce839)=>_0x452dbc-_0x4ce839),_0x3a6715=new Uint32Array(this['numSplats']);let _0x58c95f=0x86e+-0xe*0xab+0xec;for(let _0x2f196f=0x1f0a+0x5a0+0x1a*-0x169;_0x2f196f<_0xb4fda8['length'];++_0x2f196f){const _0x559ec9=_0x1c6d7c['get'](_0xb4fda8[_0x2f196f]);for(let _0x320dae=-0x4ad+0x6*0x63d+0xd*-0x285;_0x320dae<_0x559ec9['length'];++_0x320dae)_0x3a6715[_0x58c95f++]=_0x559ec9[_0x320dae];}return _0x3a6715;}['reorder'](_0x18dccf){const _0x252ee6=new Map(),_0x4c1bef=_0x49b0c0=>{if(_0x252ee6['has'](_0x49b0c0)){const _0x5de1f2=_0x252ee6['get'](_0x49b0c0);return _0x252ee6['delete'](_0x49b0c0),_0x5de1f2;}return new ArrayBuffer(_0x49b0c0);},_0x553eb9=_0x4a0c40=>{_0x252ee6['set'](_0x4a0c40['byteLength'],_0x4a0c40);},_0x1f7faa=_0x1945a9=>{const _0x1a2f46=new _0x1945a9['constructo'+'r'](_0x4c1bef(_0x1945a9['byteLength']));for(let _0xdb49f=0x61*-0x5d+-0x4f*0x72+0x466b;_0xdb49f<_0x18dccf['length'];_0xdb49f++)_0x1a2f46[_0xdb49f]=_0x1945a9[_0x18dccf[_0xdb49f]];return _0x553eb9(_0x1945a9['buffer']),_0x1a2f46;};this['elements']['forEach'](_0x59aeb2=>{_0x59aeb2['properties']['forEach'](_0x206172=>{_0x206172['storage']&&(_0x206172['storage']=_0x1f7faa(_0x206172['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const U0=(_0x3a1aff={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x15511c=_0x3a1aff['dither']??Os,_0x32cf36=_0x15511c!==Os,_0x1b0b82=new La({'uniqueName':'SplatMater'+'ial','vertexCode':_0x3a1aff['vertex']??j['gsplatVS'],'fragmentCode':_0x3a1aff['fragment']??j['gsplatPS'],'attributes':{'vertex_position':Xe,'vertex_id_attrib':Sa}});return _0x1b0b82['setDefine']('DITHER_'+_0x15511c['toUpperCas'+'e'](),''),_0x1b0b82['cull']=vt,_0x1b0b82['blendType']=_0x32cf36?hs:Gt,_0x1b0b82['depthWrite']=_0x32cf36,_0x1b0b82['update'](),_0x1b0b82;};async function U1(){self['onmessage']=async _0x51c198=>{const {data:_0x2645a3}=_0x51c198;switch(_0x2645a3['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x38e37f(_0x2645a3['numSplats'],_0x2645a3['shBands'],_0x2645a3['SHData']);break;}};const _0x38e37f=(_0x1f044a,_0x4c2303,_0x268238)=>{const _0x1dc0de=new Uint32Array(_0x1f044a*(0x3*0x69f+-0x1a8a*0x1+-0x23b*-0x3)),_0x205f5a=new Uint32Array(_0x1f044a*(0xa*0x298+-0x237d+0x991)),_0x21c670=new Uint32Array(_0x1f044a*(-0x1881+0x17c3+-0xc2*-0x1)),_0x6d9ba8=new Uint32Array(_0x1f044a*(0x478+0x12e*0x13+-0x13*0x16a)),_0x29465d={0x1:0x3,0x2:0x8,0x3:0xf}[_0x4c2303],_0x23a312=_0x268238,_0x4094aa=-0x29*0x7b+-0x4*0x43c+0x2*0x1651,_0x24f2f2=0x1a25+-0x25ff+0xfd9,_0x52aac4=new Float32Array(-0xa*0x89+-0x2522+0x2a7d),_0x547654=new Uint32Array(_0x52aac4['buffer']),_0x6abd41=new Array(_0x29465d*(-0x324*0x1+-0xfb*-0x26+-0x221b))['fill'](0x15d*0x18+0x136*-0xa+-0xa4e*0x2);for(let _0x30d8ea=0x77d*-0x2+-0x35*-0x21+0x2b7*0x3;_0x30d8ea<_0x1f044a;++_0x30d8ea){for(let _0x335ba4=-0x2318+0x1*-0xaee+0x2*0x1703;_0x335ba4<_0x29465d;++_0x335ba4)_0x6abd41[_0x335ba4*(-0x6*0x2f5+0x1d73+-0x1f3*0x6)]=_0x23a312[_0x335ba4][_0x30d8ea],_0x6abd41[_0x335ba4*(-0x2*-0x54b+0x1025*-0x1+0x592)+(0xcf5+-0x1*-0x2401+-0x30f5)]=_0x23a312[_0x335ba4+_0x29465d][_0x30d8ea],_0x6abd41[_0x335ba4*(0x2670+0x13*0x14e+0x1*-0x3f37)+(0xcd*0x14+0x1be9+-0x1*0x2beb)]=_0x23a312[_0x335ba4+_0x29465d*(0x3d*-0x75+0x192b*0x1+0x1*0x2b8)][_0x30d8ea];let _0x2e337f=_0x6abd41[0x11*0xbf+-0x51f+-0x790];for(let _0xc603dd=0x1c*-0xb4+0x15*-0x18a+-0x3403*-0x1;_0xc603dd<_0x29465d*(-0x2492+-0xb8b+0xa0*0x4d);++_0xc603dd)_0x2e337f=Math['max'](_0x2e337f,Math['abs'](_0x6abd41[_0xc603dd]));if(_0x2e337f!==0xf89+-0x1eb9+0xf30){for(let _0x3f85a7=-0x1979+-0x1c0c+0x11d7*0x3;_0x3f85a7<_0x29465d;++_0x3f85a7)_0x6abd41[_0x3f85a7*(-0x1d5*0x11+0x1ad+0x1d7b)+(0x1337+-0xf0d+-0x42a)]=Math['max'](0x2410+0xcdc+-0x30ec,Math['min'](_0x4094aa,Math['floor']((_0x6abd41[_0x3f85a7*(-0x496*0x2+0x65*0x1b+-0x1*0x178)+(-0x834+0x85*-0x1d+0x1745)]/_0x2e337f*(-0x3*-0x795+-0x2070*-0x1+-0x372f+0.5)+(0xf0+0x1*0xc7c+-0x1*0xd6c+0.5))*_0x4094aa+(0x84*0x22+-0x4*-0xe3+-0x1514+0.5)))),_0x6abd41[_0x3f85a7*(-0x1432+0xe*-0x175+0x4d*0x87)+(0x1681+-0x11bb+0x3*-0x197)]=Math['max'](0xf2d+0xa*-0x290+-0x5*-0x217,Math['min'](_0x24f2f2,Math['floor']((_0x6abd41[_0x3f85a7*(-0x4*-0x26+-0x121*-0x5+0x31d*-0x2)+(-0xdc7+-0x7*0x51+-0x555*-0x3)]/_0x2e337f*(0x3*0x8e8+-0x247*0xb+-0x1ab+0.5)+(-0xb1b*-0x1+0x515*-0x4+0x939+0.5))*_0x24f2f2+(-0x1881+-0x11*-0x17f+-0xee+0.5)))),_0x6abd41[_0x3f85a7*(0x2fe+0x14*-0x101+0x1119)+(0xa*-0x355+-0x14b7*-0x1+0xc9d)]=Math['max'](-0x11*0x233+0x2*0x6ef+0xdf*0x1b,Math['min'](_0x4094aa,Math['floor']((_0x6abd41[_0x3f85a7*(-0x24b*0xd+0x794+0x163e)+(-0x2*-0xd0e+-0x19*-0x146+-0x24*0x19c)]/_0x2e337f*(-0x57c+0x1210+-0xc94+0.5)+(0x39*0x8f+-0x59*0x5+-0x1e1a+0.5))*_0x4094aa+(0x2410+-0x1d73+-0x69d+0.5))));_0x52aac4[0x294+0xc10*-0x1+0x97c]=_0x2e337f,_0x1dc0de[_0x30d8ea*(-0x103d*0x2+-0xabd*-0x1+0x15c1*0x1)+(-0x67*0x2+0x1c68+-0xdcd*0x2)]=_0x547654[-0x3e9*-0x3+0x1dbe+0xdd3*-0x3],_0x1dc0de[_0x30d8ea*(-0x22*-0xe+0x6a+-0x1*0x242)+(-0xa*0x61+-0x5*0x509+0x1cf8)]=_0x6abd41[0x208d+0x7d1*-0x1+-0x18bc*0x1]<<-0x6*0x479+0x5b0*-0x4+0x31ab*0x1|_0x6abd41[0x168c+0x1*0x1ac9+0xe*-0x386]<<-0x1579+0x837+-0x46f*-0x3|_0x6abd41[-0x13*-0x37+-0x13f9+0xfe6],_0x1dc0de[_0x30d8ea*(0x5*0x409+0x25e*-0xb+0x5e1)+(0xc*0x153+0x124*-0x11+0x382)]=_0x6abd41[0x1111*0x1+0x10c7*0x1+-0x1*0x21d5]<<0x619+-0xceb+0x3*0x24d|_0x6abd41[0xf42+0x1d5f+-0x2c9d]<<-0xd*-0x76+-0x24d0+0x1edd|_0x6abd41[0x2373+0x22*-0x6+0x22a2*-0x1],_0x1dc0de[_0x30d8ea*(-0x1a50+0x2*0xb0b+0x43e)+(0x55*-0x46+0x2*-0x139+0x11*0x183)]=_0x6abd41[-0x362*-0x4+-0x140f+-0x1*-0x68d]<<-0x12b3*-0x2+-0xa53+0x1*-0x1afe|_0x6abd41[0x1383+0x2a5*0x1+-0x1621]<<0xeb5*-0x1+0x526+0x99a|_0x6abd41[-0xe*0xfa+-0x17ae+0xa5*0x3a],_0x4c2303>-0x76e+0x133e+-0xbcf&&(_0x205f5a[_0x30d8ea*(0x374+0xce4+-0x1054)+(0x1*-0xde2+0x1ff3*0x1+0x19*-0xb9)]=_0x6abd41[-0x73+0xad4+-0xa58]<<0x1857*0x1+0x1bcb+-0xcd*0x41|_0x6abd41[-0x145*-0x2+-0xaa2*0x2+0x12c4]<<-0x900+-0x1b75+0x2480|_0x6abd41[-0xd*-0x171+-0x260f+0x135d],_0x205f5a[_0x30d8ea*(-0x1*-0x33b+-0x186d+0x1536)+(-0xe47+-0x1bbb+0x1*0x2a03)]=_0x6abd41[-0xcb9+0x14a2+0x7dd*-0x1]<<0xd05+-0xe*0x11f+0x2c2*0x1|_0x6abd41[0x1*0xe0b+-0x2e*0x56+-0x2*-0xbb]<<0x2506+0x196*-0x7+-0x19e1|_0x6abd41[0x1*-0x26+0x24dd+-0x5*0x755],_0x205f5a[_0x30d8ea*(0x29b*0xb+-0x746+-0x155f)+(-0x37d+-0xb82*0x1+-0x1*-0xf01)]=_0x6abd41[0xceb+0x1150+0x4*-0x78b]<<-0xc64+0x1*0x25c7+-0x194e|_0x6abd41[-0x1*0xa1+0x3d8*0x7+-0x8bd*0x3]<<-0x2cf*0x2+-0x3d1*0x1+-0x2*-0x4bd|_0x6abd41[0x19*0xf1+-0x2598+0xe2*0x10],_0x205f5a[_0x30d8ea*(0x1e75+0x6d7+-0x2548)+(-0x1*0x8f+-0x71*0x57+-0xb*-0x38b)]=_0x6abd41[-0x4ef+-0x9b1*-0x1+-0x4b0]<<-0x1129*0x1+0x23a4+-0x1266|_0x6abd41[-0xdca+-0x178d+-0x256a*-0x1]<<0x70f*0x1+-0xf5e+0x85a|_0x6abd41[0xe89+-0xcdf*-0x3+0x1a89*-0x2],_0x4c2303>-0x87*-0x3b+0x1ffb+-0x19*0x286?(_0x21c670[_0x30d8ea*(0x758+0x1*-0xf7b+0x827)+(-0x24a2+0xb1e+-0xcc2*-0x2)]=_0x6abd41[0x978+-0x427*-0x7+-0x99d*0x4]<<-0xf*-0x1df+0x65d+-0x2259|_0x6abd41[-0xf5*0xb+0xae1*0x1+-0x44]<<-0x24f3+0x1eeb+0x137*0x5|_0x6abd41[-0x1*-0x735+-0x2317+-0x155*-0x15],_0x21c670[_0x30d8ea*(0x1729*-0x1+-0x1*0x14b7+0x2be4)+(0x1fe4+-0x2b1+-0x1d32)]=_0x6abd41[-0x7cf*0x5+-0x87*-0x17+0x1b02]<<0xbef+-0x2de+-0x17*0x64|_0x6abd41[-0x1d1d+-0x62b+-0x3*-0xbcb]<<0x21*-0x53+0x224a+-0x2c*0x89|_0x6abd41[0x149*-0x13+-0x7da+0x205f],_0x21c670[_0x30d8ea*(-0x1*0x1cb9+-0x22aa+-0x3f67*-0x1)+(-0x79a+-0x2510+-0xb2b*-0x4)]=_0x6abd41[-0x3*-0x359+0x27e*-0xe+0x18f4]<<0x3*0x179+0x8d*-0xc+0x246|_0x6abd41[0x3*0xc77+-0x59d+-0x1fac]<<0xf91+0x7*0x77+-0x12c7|_0x6abd41[0x11*-0x121+-0xd22+0x2070],_0x21c670[_0x30d8ea*(-0xb9d+0x693+0x2*0x287)+(0xc3f+0x11*0xb1+0x10b*-0x17)]=_0x6abd41[-0x10*-0x189+-0x44f*-0x3+-0x255f]<<0x5*-0x4d3+0xb*0x26b+0x1*-0x265|_0x6abd41[-0x6ed*0x1+-0x1d8c+0x2498]<<-0x1*-0x1bef+0x4*0x23e+0xe*-0x2a2|_0x6abd41[-0x192d+0x1f21+-0x175*0x4],_0x6d9ba8[_0x30d8ea*(-0x3e*0x3d+0x8*0x3b5+-0xede)+(-0x15f4+0x1aae*0x1+0x2*-0x25d)]=_0x6abd41[0xa73+0x161+-0xbb3*0x1]<<-0xc6*0x2+-0x6a*0x1b+-0xccf*-0x1|_0x6abd41[-0x2673+0x338+-0x235d*-0x1]<<-0xdcb*0x1+-0xad*-0x2a+-0xe8c|_0x6abd41[0xebd+0x6f2*0x1+-0x158c],_0x6d9ba8[_0x30d8ea*(-0x2581+-0x121f+0x4*0xde9)+(0xdcf+-0x3*0x4b7+0x57)]=_0x6abd41[-0x358+0x170a+-0x138e]<<0x71*-0x43+-0x50*-0x2+0x1d08|_0x6abd41[0xa3f+-0x15c5+-0xbab*-0x1]<<0x71d*0x1+-0x2069+0x1957|_0x6abd41[0x1d8e+0x547*0x2+-0x3ff*0xa],_0x6d9ba8[_0x30d8ea*(0x3*-0x262+-0x1*-0x117d+-0xa53)+(-0x315+-0x4*0x547+0x1833)]=_0x6abd41[0xcff+-0x2233+0x155b]<<-0x1db8+-0x3f1+0x21be|_0x6abd41[0x7c3*0x3+-0xf31+-0x7f0]<<-0x57*0x9+-0x4*0x96b+-0x22*-0x133|_0x6abd41[0x9ef*-0x3+0x366+0x110*0x19],_0x6d9ba8[_0x30d8ea*(-0x1*-0xc95+-0x1bd6*0x1+-0x517*-0x3)+(-0x134e+-0x827*0x1+0x1b78)]=_0x6abd41[-0x1c50+0x1f*0x137+0x1*-0x92f]<<0x18a8+0x1*0x19bd+0x5*-0xa10|_0x6abd41[0x1*-0x1c0+-0xe13+0xffe]<<0x151*0x1+-0x146*-0xd+-0x2*0x8ea|_0x6abd41[0x7a9*-0x4+-0x7a*-0xa+0x1a0c]):_0x21c670[_0x30d8ea]=_0x6abd41[0xe*0xb2+0x89d+0xe*-0x14e]<<0x2b*-0x7c+0x2f4+-0x11f5*-0x1|_0x6abd41[0x1*-0x1097+0xa7*-0x14+0x1db9]<<-0xa3*-0x1d+0x6f1*-0x5+0x1*0x1049|_0x6abd41[0x1810+0x238*-0x1+-0x15c1]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x1dc0de,'sh4to7Data':_0x205f5a,'sh8to11Data':_0x21c670,'sh12to15Data':_0x6d9ba8},[_0x1dc0de['buffer'],_0x205f5a['buffer'],_0x21c670['buffer'],_0x6d9ba8['buffer']]);};}class V1 extends de{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+U1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x443dc8=>{if(!this['worker'])return;const {data:_0x5c11fe}=_0x443dc8;switch(_0x5c11fe['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x5c11fe['sh1to3Data'],_0x5c11fe['sh4to7Data'],_0x5c11fe['sh8to11Dat'+'a'],_0x5c11fe['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x1226d6,_0x351c2d,_0x24a0b1){var _0x537154;(_0x537154=this['worker'])==null||_0x537154['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x1226d6,'shBands':_0x351c2d,'SHData':_0x24a0b1});}['destroy'](){var _0x3143a3;this['worker']&&((_0x3143a3=this['worker'])==null||_0x3143a3['terminate'](),this['worker']=null);}}const V_=(_0x261a44,_0x50b72e)=>{const _0x313481=[];for(let _0x1c7aa5=0xb05+-0x2b*-0x65+-0x1bfc;_0x1c7aa5<_0x50b72e;++_0x1c7aa5)_0x313481['push'](_0x261a44['getProp']('f_rest_'+_0x1c7aa5));return _0x313481;};class G1{constructor(_0x3957d5,_0x4d888b){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'opacity'),c(this,'threshold'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x17ad9a=_0x4d888b['numSplats'];this['device']=_0x3957d5,this['numSplats']=_0x17ad9a,this['numSplatsV'+'isible']=_0x17ad9a,this['updateData'+'Worker']=new V1(),this['centers']=new Float32Array(_0x4d888b['numSplats']*(-0xa*-0x118+0xfa+0xbe7*-0x1)),this['motion']=new Float32Array(_0x4d888b['numSplats']*(-0x43*-0x61+-0xad*0x2+-0x1e*0xcd)),this['timeIndex']=new Float32Array(_0x4d888b['numSplats']),_0x4d888b['getCenters'](this['centers']),_0x4d888b['getMotion'](this['motion']),_0x4d888b['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x4d888b['getMuT'](this['timeOption']),this['tScale']=_0x4d888b['getTScale'](),this['is4D']=_0x4d888b['is4D'],this['aabb']=new ve(),_0x4d888b['calcAabb'](this['aabb']);const _0x586ce2=this['evalTextur'+'eSize'](_0x17ad9a);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',it,_0x586ce2),this['thresholdT'+'exture']=this['createText'+'ure']('splatThres'+'hold',xa,_0x586ce2),this['transformA'+'Texture']=this['createText'+'ure']('transformA',yt,_0x586ce2),this['transformB'+'Texture']=this['createText'+'ure']('transformB',it,_0x586ce2),this['transformR'+'Texture']=this['createText'+'ure']('transformR',et,_0x586ce2),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',et,_0x586ce2),this['transformT'+'Texture']=this['createText'+'ure']('transformT',et,_0x586ce2)),this['updateColo'+'rData'](_0x4d888b),this['updateThre'+'sholdData'](_0x4d888b),this['updateTran'+'sformData'](_0x4d888b),this['shBands']=_0x4d888b['shBands'],this['shBands']>0x1907+-0x1057+-0x1*0x8b0&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',yt,_0x586ce2),this['shBands']>-0x10a6+-0x29*0x54+0x1*0x1e1b&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',yt,_0x586ce2),this['shBands']>-0xd*-0x10c+-0x5*0x60b+0x1*0x109d?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',yt,_0x586ce2),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',yt,_0x586ce2)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',on,_0x586ce2)),this['updateSHDa'+'ta'](_0x4d888b));}['updateData'](_0x2b459b){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x2808aa=_0x2b459b['numSplats'];this['numSplats']=_0x2808aa,this['numSplatsV'+'isible']=_0x2808aa,this['centers']=new Float32Array(_0x2b459b['numSplats']*(-0xf8+-0x1*0x6bf+0x7ba)),this['motion']=new Float32Array(_0x2b459b['numSplats']*(-0x2d7*0xa+-0x221+0x1e8a)),this['timeIndex']=new Float32Array(_0x2b459b['numSplats']),_0x2b459b['getCenters'](this['centers']),_0x2b459b['getMotion'](this['motion']),_0x2b459b['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x2b459b['getMuT'](this['timeOption']),this['tScale']=_0x2b459b['getTScale'](),this['is4D']=_0x2b459b['is4D'],this['aabb']=new ve(),_0x2b459b['calcAabb'](this['aabb']);const _0x5bc96a=this['evalTextur'+'eSize'](_0x2808aa);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',it,_0x5bc96a),this['thresholdT'+'exture']=this['createText'+'ure']('splatThres'+'hold',xa,_0x5bc96a),this['transformA'+'Texture']=this['createText'+'ure']('transformA',yt,_0x5bc96a),this['transformB'+'Texture']=this['createText'+'ure']('transformB',it,_0x5bc96a),this['transformR'+'Texture']=this['createText'+'ure']('transformR',et,_0x5bc96a),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',et,_0x5bc96a),this['transformT'+'Texture']=this['createText'+'ure']('transformT',et,_0x5bc96a)),this['updateColo'+'rData'](_0x2b459b),this['updateTran'+'sformData'](_0x2b459b),this['updateThre'+'sholdData'](_0x2b459b),this['shBands']=_0x2b459b['shBands'],this['shBands']>0x110b*-0x2+-0x2*0x1352+0x6b*0xae&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',yt,_0x5bc96a),this['shBands']>-0x262*-0x1+0x14c0+-0x1*0x1721&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',yt,_0x5bc96a),this['shBands']>-0x7*-0x317+0x1*0x1407+-0x29a6?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',yt,_0x5bc96a),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',yt,_0x5bc96a)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',on,_0x5bc96a)),this['updateSHDa'+'ta'](_0x2b459b));}['destroy'](){var _0x122e0b,_0x278fcc,_0x155e20,_0x59453c,_0x44bf3a,_0x21cdf6,_0x55729b,_0x3bba61,_0x47408b,_0x39c2a8,_0x6811e6;(_0x122e0b=this['colorTextu'+'re'])==null||_0x122e0b['destroy'](),(_0x278fcc=this['thresholdT'+'exture'])==null||_0x278fcc['destroy'](),(_0x155e20=this['transformA'+'Texture'])==null||_0x155e20['destroy'](),(_0x59453c=this['transformB'+'Texture'])==null||_0x59453c['destroy'](),(_0x44bf3a=this['transformR'+'Texture'])==null||_0x44bf3a['destroy'](),(_0x21cdf6=this['transformT'+'SpeedTextu'+'re'])==null||_0x21cdf6['destroy'](),(_0x55729b=this['transformT'+'Texture'])==null||_0x55729b['destroy'](),(_0x3bba61=this['sh1to3Text'+'ure'])==null||_0x3bba61['destroy'](),(_0x47408b=this['sh4to7Text'+'ure'])==null||_0x47408b['destroy'](),(_0x39c2a8=this['sh8to11Tex'+'ture'])==null||_0x39c2a8['destroy'](),(_0x6811e6=this['sh12to15Te'+'xture'])==null||_0x6811e6['destroy']();}['createMate'+'rial'](_0x3a6f9b){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0xbdf588=U0(_0x3a6f9b);return _0xbdf588['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0xbdf588['setParamet'+'er']('splatThres'+'hold',this['thresholdT'+'exture']),_0xbdf588['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0xbdf588['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0xbdf588['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0xbdf588['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0xbdf588['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0xbdf588['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0xbdf588['setDefine']('SH_BANDS',this['shBands']),_0xbdf588['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0xbdf588['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0xbdf588['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0xbdf588['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0xbdf588['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0xbdf588;}['evalTextur'+'eSize'](_0x10279b){const _0x1f8494=Math['ceil'](Math['sqrt'](_0x10279b)),_0x4f2975=Math['ceil'](_0x10279b/_0x1f8494);return new W(_0x1f8494,_0x4f2975);}['createText'+'ure'](_0x3ba14a,_0x150fad,_0x12105f){return new ce(this['device'],{'name':_0x3ba14a,'width':_0x12105f['x'],'height':_0x12105f['y'],'format':_0x150fad,'cubemap':!(0xd2*-0x2f+-0x9*0xc9+0x490*0xa),'mipmaps':!(-0x823*0x3+0x1992+-0x128),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});}['updateThre'+'sholdData'](_0x9ec2f0){console['log']('____\x20ENGIN'+'E\x20IVAN','updateThre'+'sholdData');const _0xbe70af=this['thresholdT'+'exture'],_0x2703e9=(0x70a+0x1286+-0x1*0x198f)/(0x1e2c*0x1+0x2*-0xd83+-0x1d*0x13),_0x3bed2c=new URL(location['href'])['searchPara'+'ms']['get']('cutoff');if(!_0xbe70af)return;const _0x3a8802=Bt['float2Half'],_0x319aea=_0xbe70af['lock']();let _0x12e860=_0x9ec2f0['getProp']('cf');if(!_0x12e860){_0x12e860=new Float32Array(_0x9ec2f0['numSplats']);for(let _0x2a37c9=-0x248c+0x1*-0x935+-0x1*-0x2dc1;_0x2a37c9<_0x9ec2f0['numSplats'];++_0x2a37c9)_0x12e860[_0x2a37c9]=_0x3bed2c?Number(_0x3bed2c):-0x349*-0xa+-0x20e*-0x1+-0x22e8;}this['threshold']=_0x12e860;for(let _0x5d5861=0x1442+-0x1c2a+-0x3f4*-0x2;_0x5d5861<this['numSplats'];++_0x5d5861){const _0x484b2c=_0x12e860?_0x12e860[_0x5d5861]*(0x1*0x97d+-0xd*0x143+0x7e8)/(-0x221f+-0x37*0x39+0x2f5d)+(0x429+-0x30*0x3d+0x747+0.00392156862745098):_0x2703e9;_0x319aea[_0x5d5861]=_0x3a8802(_0x484b2c);}_0xbe70af['unlock']();}['updateColo'+'rData'](_0x2815f5){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x284744=this['colorTextu'+'re'];if(!_0x284744)return;const _0x3857b3=Bt['float2Half'],_0x5cb8aa=_0x284744['lock'](),_0x3ce327=_0x2815f5['getProp']('f_dc_0'),_0x57635b=_0x2815f5['getProp']('f_dc_1'),_0x58f4ab=_0x2815f5['getProp']('f_dc_2'),_0x2086bf=_0x2815f5['getProp']('opacity'),_0x142c54=-0x2393+-0x1*0x1931+0x2*0x1e62+0.28209479177387814;this['opacity']=new Float32Array(this['numSplats']);for(let _0x42bc0b=-0x2231+-0x71*0x1f+0x4*0xbf8;_0x42bc0b<this['numSplats'];++_0x42bc0b){const _0x22ccdb=_0x3ce327[_0x42bc0b]*_0x142c54+(0x907+0x1*0x632+0x9*-0x1b1+0.5),_0xcc474=_0x57635b[_0x42bc0b]*_0x142c54+(0xa73+0x3*0x2e7+-0x1328+0.5),_0x3cc188=_0x58f4ab[_0x42bc0b]*_0x142c54+(0x2*-0xd91+-0x1af8+0x2*0x1b0d+0.5),_0x1998a9=(-0x13e0+0x2014+-0xc33)/(0x1*0x1673+-0x1b5*0x7+-0xa7f+Math['exp'](-_0x2086bf[_0x42bc0b]));this['opacity'][_0x42bc0b]=_0x1998a9,_0x5cb8aa[_0x42bc0b*(0x24da+0x11bb+0x3691*-0x1)+(0x1159*-0x2+0x1af*-0x17+0x1879*0x3)]=_0x3857b3(_0x22ccdb),_0x5cb8aa[_0x42bc0b*(0x41d+0x13ea*-0x1+0xfd1)+(-0x49*-0x11+-0x5a6*-0x4+0x36e*-0x8)]=_0x3857b3(_0xcc474),_0x5cb8aa[_0x42bc0b*(0x1*-0x525+-0xb3*0x2e+0x2553)+(-0xa8b+-0x4*0x3d3+-0xd*-0x1fd)]=_0x3857b3(_0x3cc188),_0x5cb8aa[_0x42bc0b*(0x2*-0x757+-0x2047+-0x25*-0x145)+(-0xa*0x2b+-0x15c7*-0x1+-0x1416)]=_0x3857b3(_0x1998a9);}_0x284744['unlock']();}['updateTran'+'sformData'](_0x21b4ed){var _0x309899,_0x2bf7e3,_0x3a86ec,_0x3e0528;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0x27fdb7=Bt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x4b78a7=this['transformA'+'Texture']['lock'](),_0x362ff5=new Float32Array(_0x4b78a7['buffer']),_0xa0944=this['transformR'+'Texture']['lock'](),_0x3da47a=new Float32Array(_0xa0944['buffer']),_0x306d6e=this['transformB'+'Texture']['lock'](),_0x5018fc=(_0x309899=this['transformT'+'SpeedTextu'+'re'])==null?void(0x8b1*0x1+0x114d*0x1+0x6*-0x455):_0x309899['lock']();let _0x3b4c82;_0x5018fc&&(_0x3b4c82=new Float32Array(_0x5018fc['buffer']));const _0x131211=(_0x2bf7e3=this['transformT'+'Texture'])==null?void(0x25cc+-0x8c9+0x1d03*-0x1):_0x2bf7e3['lock']();let _0x1d3f6d;_0x131211&&(_0x1d3f6d=new Float32Array(_0x131211['buffer']));const _0x22b334=new A(),_0x386300=new ie(),_0x458340=new A(),_0x42efbd=new A(),_0x1767f9=_0x21b4ed['createIter'](_0x22b334,_0x386300,_0x458340,null,_0x42efbd),_0x370933=_0x21b4ed['getProp']('t'),_0x5c3b4e=_0x21b4ed['getProp']('t_scale');for(let _0x4c2bf2=-0x81+-0x7*-0x31e+-0x1551;_0x4c2bf2<this['numSplats'];_0x4c2bf2++)_0x1767f9['read'](_0x4c2bf2),_0x386300['normalize'](),_0x386300['w']<0x2*-0x750+0xb95+-0x1*-0x30b&&_0x386300['mulScalar'](-(0x8e6+0x1ea2+0x1*-0x2787)),_0x362ff5[_0x4c2bf2*(-0x1*-0x1bbb+-0x1e70+-0x29*-0x11)+(0x332+-0x1436+-0x2d6*-0x6)]=_0x22b334['x'],_0x362ff5[_0x4c2bf2*(0x4*-0x6aa+0x2e*-0xb8+0x3bbc)+(0x408+0x8d2*0x1+-0xfd*0xd)]=_0x22b334['y'],_0x362ff5[_0x4c2bf2*(-0xe*0x67+-0xc06+-0x8d6*-0x2)+(-0x115*-0x1+0x1f01+-0x2014)]=_0x22b334['z'],_0x306d6e[_0x4c2bf2*(-0x2f*-0xb5+-0x7ae+-0x3*0x883)+(-0x16c*0x1a+-0x15a*-0x8+0x1a28)]=_0x27fdb7(_0x458340['x']),_0x306d6e[_0x4c2bf2*(-0x915+-0x148b+-0x10f*-0x1c)+(-0x1281+0x24cb*-0x1+0x374d)]=_0x27fdb7(_0x458340['y']),_0x306d6e[_0x4c2bf2*(-0x1ee2+0x1*0x26a3+0x7*-0x11b)+(0x1034+0x27*-0x39+0x281*-0x3)]=_0x27fdb7(_0x458340['z']),_0x3da47a[_0x4c2bf2*(-0x265*0xf+-0x1649+0x3a38)+(0x737*0x1+0x97*-0x41+0x1f20)]=_0x386300['x'],_0x3da47a[_0x4c2bf2*(0x141d+-0x6ad*0x1+-0xd6c)+(-0x1443+0x1*0x77d+0xcc7)]=_0x386300['y'],_0x3da47a[_0x4c2bf2*(0x2*-0x1174+-0xdbc+0x18*0x207)+(0x1ea0+0x12c0+-0x315e)]=_0x386300['z'],this['is4D']&&_0x3b4c82&&_0x1d3f6d&&(_0x3b4c82[_0x4c2bf2*(0x12*-0x109+-0x32*-0x3d+0x6bc)+(0x2268+-0x120f+-0x1059)]=_0x42efbd['x'],_0x3b4c82[_0x4c2bf2*(0x15*-0x121+-0x39e+-0x91d*-0x3)+(-0x9*-0x31f+-0x2419+0x803)]=_0x42efbd['y'],_0x3b4c82[_0x4c2bf2*(-0x20bf+0x217d+-0xba)+(0x189d+0x2b1*-0x5+-0x2*0x593)]=_0x42efbd['z'],_0x1d3f6d[_0x4c2bf2*(0x9e7+-0x4*-0x270+-0x13a3)+(-0x10*0x14b+-0x134c+0x27fc)]=_0x370933?_0x370933[_0x4c2bf2]:0x2191+0x1f8+0x2389*-0x1,_0x1d3f6d[_0x4c2bf2*(0x24a3+0x702+-0x11*0x291)+(0x5*-0x3d6+0x3*-0x10f+0x165c)]=_0x5c3b4e?Math['exp'](_0x5c3b4e[_0x4c2bf2]):0x1*0xc1e+-0x15a1*-0x1+-0x21bf);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x3a86ec=this['transformT'+'SpeedTextu'+'re'])==null||_0x3a86ec['unlock'](),(_0x3e0528=this['transformT'+'Texture'])==null||_0x3e0528['unlock']();}['updateSHDa'+'ta'](_0x365b5f){var _0x34c2fd,_0x5522a6,_0x3e28f7,_0x2a8811,_0x3aea92,_0x1daa79,_0x4c57e5;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x28156e=(_0x34c2fd=this['sh1to3Text'+'ure'])==null?void(0x1c1a+-0xf53+-0xcc7):_0x34c2fd['lock'](),_0x5a93d8=(_0x5522a6=this['sh4to7Text'+'ure'])==null?void(0x11a4+0x1ce1*-0x1+-0x89*-0x15):_0x5522a6['lock'](),_0x3b9ab7=(_0x3e28f7=this['sh8to11Tex'+'ture'])==null?void(0x2659*0x1+-0x1f65+0x1*-0x6f4):_0x3e28f7['lock'](),_0x29a7dc=(_0x2a8811=this['sh12to15Te'+'xture'])==null?void(0x152e+0x2082+-0x35b0*0x1):_0x2a8811['lock'](),_0x3d9b58={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0xab3641=V_(_0x365b5f,_0x3d9b58*(-0x1*-0x28c+-0xb*0x16c+0xd1b)),_0xbc31da=0x1f37*0x1+-0x1453+-0x2e5,_0x59a538=-0x3ce*0x2+0x1f1c+-0x1381*0x1,_0x6094c4=new Float32Array(-0x3*-0x6a3+-0x425*-0x5+0x28a1*-0x1),_0x44a8fd=new Uint32Array(_0x6094c4['buffer']),_0x2541c9=new Array(_0x3d9b58*(-0x2*0x154+0x4*-0x591+0x18ef))['fill'](0x1c46*0x1+-0x1*0xa81+-0x11c5);for(let _0x94edf8=-0x3*-0xa49+-0x3*-0x2e7+0x8*-0x4f2;_0x94edf8<_0x365b5f['numSplats'];++_0x94edf8){for(let _0x49c9be=-0x8*0x456+-0x17a0+0x18*0x26e;_0x49c9be<_0x3d9b58;++_0x49c9be)_0x2541c9[_0x49c9be*(-0x70f+0xeae+-0x79c)]=_0xab3641[_0x49c9be][_0x94edf8],_0x2541c9[_0x49c9be*(-0x9b1+-0xf24+-0x6*-0x424)+(0x219a+0x1*0x2fc+-0x2495)]=_0xab3641[_0x49c9be+_0x3d9b58][_0x94edf8],_0x2541c9[_0x49c9be*(-0xcfd+0x3*0x132+-0x96a*-0x1)+(0x28*-0x88+0x1b4+0x138e)]=_0xab3641[_0x49c9be+_0x3d9b58*(0x191*0x2+0x1a95+0x3*-0x9e7)][_0x94edf8];let _0x14e6fc=_0x2541c9[-0x4*-0x616+-0x17fe*-0x1+-0x17*0x21a];for(let _0x50d089=-0xed*-0x23+-0x2061+0x5*-0x1;_0x50d089<_0x3d9b58*(-0x2*0xe3b+-0x541*-0x5+0x234);++_0x50d089)_0x14e6fc=Math['max'](_0x14e6fc,Math['abs'](_0x2541c9[_0x50d089]));if(_0x14e6fc!==-0x1*0x1357+0xf8d+-0x61*-0xa){for(let _0x2f597a=-0x1a*0xf8+0x18c4+-0x24*-0x3;_0x2f597a<_0x3d9b58;++_0x2f597a)_0x2541c9[_0x2f597a*(-0x2*-0xf7+0x2b6+-0x4a1*0x1)+(-0x14b*0x1+-0x1251*0x1+0x139c)]=Math['max'](0x1*0xbb7+-0xa38+0x1*-0x17f,Math['min'](_0xbc31da,Math['floor']((_0x2541c9[_0x2f597a*(-0x24*-0xb5+0x15f*0x17+-0x176*0x27)+(0x3a*0x5d+-0x5*0x785+0x1087)]/_0x14e6fc*(-0x4*-0x77f+0xec5+0x39*-0xc9+0.5)+(0x2f*-0x75+-0x14d0+0x2a4b+0.5))*_0xbc31da+(-0x16b4+0x1*-0x148+-0x4*-0x5ff+0.5)))),_0x2541c9[_0x2f597a*(0x4a6*-0x8+-0xc*0x1ec+-0x3c43*-0x1)+(0x35f*-0x7+-0x697+0x1e31)]=Math['max'](0x1*-0x75b+0x1071+-0x916,Math['min'](_0x59a538,Math['floor']((_0x2541c9[_0x2f597a*(-0x212b+-0xf*0x175+0x3709)+(-0x16a7+-0x1772+0x2e1a)]/_0x14e6fc*(0x89e+0x531+-0x1*0xdcf+0.5)+(-0x2336+-0x86c+0x2ba2+0.5))*_0x59a538+(0x1a*0xdf+-0x2*-0xf1c+-0x86*0x65+0.5)))),_0x2541c9[_0x2f597a*(0x1b3e+0x21d3+0x209*-0x1e)+(0x17b6*0x1+-0xbab*-0x3+-0x3ab5)]=Math['max'](-0x1def+-0xd3a+0x2b29,Math['min'](_0xbc31da,Math['floor']((_0x2541c9[_0x2f597a*(-0x25d2+-0x180*-0x5+-0x1e55*-0x1)+(-0x1*-0x22e9+-0xbad+-0x173a)]/_0x14e6fc*(0x17f+0xb3*0x1+-0x232+0.5)+(-0x823*0x1+0xc3d+-0x41a+0.5))*_0xbc31da+(0x972+0x25d9+-0x2f4b+0.5))));_0x6094c4[-0x600+-0xb*0xfd+-0x269*-0x7]=_0x14e6fc,_0x28156e[_0x94edf8*(-0x1963*0x1+0x25f+0x2c*0x86)+(-0x17b+0xfe6+-0xe6b)]=_0x44a8fd[-0x1*0x241b+-0x2656+0x3b*0x143],_0x28156e[_0x94edf8*(-0x1*-0x13c4+-0x1291+-0x12f)+(0x4*0x5c0+0x1*-0x290+-0x146f)]=_0x2541c9[-0x1415*-0x1+-0x148b+0x76*0x1]<<0xeb+-0x52e+0x458|_0x2541c9[-0xb6*-0x1c+0x1cb0+-0x3097]<<0x18*0x8b+0x1393+0x8*-0x412|_0x2541c9[-0xb5a+-0x1e74+0x3*0xdf0],_0x28156e[_0x94edf8*(0x2*-0x8db+-0x765+-0x191f*-0x1)+(0x3*0x68f+-0x1d1+0x1c9*-0xa)]=_0x2541c9[-0x120a*-0x2+-0xe63*0x1+-0x15ae]<<0x810+-0x1*0xc0+-0x73b|_0x2541c9[-0x747+0x1*0x7eb+0x50*-0x2]<<-0x2293+-0xbf+-0x1*-0x235d|_0x2541c9[-0x1*0x1f4b+0x1d33+-0x21d*-0x1],_0x28156e[_0x94edf8*(-0x12e*-0x1+-0xa7b+0x951)+(0x2249+-0x216+0x10*-0x203)]=_0x2541c9[-0x190a+0x1*0x1c1b+0x1*-0x30b]<<0x2*-0xad2+0x121*-0x5+0x1b5e|_0x2541c9[0x248c+0x8c3*-0x4+-0x1d*0xd]<<-0x1677*0x1+0x1*-0x1726+0xb6a*0x4|_0x2541c9[0x10d*-0xd+0x1*0x261f+0x186e*-0x1],this['shBands']>0xb99+-0xbbf*-0x3+-0x1*0x2ed5&&(_0x5a93d8[_0x94edf8*(-0x4*-0x841+-0x20ac+0x1*-0x54)+(0x1433+-0x1*-0x2419+-0x384c)]=_0x2541c9[-0x105b+-0xf75+0x1fd9]<<0x65e+-0x1952+-0x1309*-0x1|_0x2541c9[0x1b26+0x13ef+-0x2f0b*0x1]<<0x13*-0x10f+0xa3a+0x52*0x1f|_0x2541c9[-0x1186+0x161d+-0x48c],_0x5a93d8[_0x94edf8*(-0x7a*0xb+-0xee2+0x1424)+(0x1*-0x1178+0x1769+-0x5f0)]=_0x2541c9[0x11*-0x131+-0x15b7+0x2a04]<<-0x560*0x5+-0x17*0x9d+0x2910|_0x2541c9[0xc2b+-0x1564+0x946]<<0xbec*-0x1+0xe57+-0x260|_0x2541c9[-0x949*-0x2+0x599*0x2+0x1*-0x1db6],_0x5a93d8[_0x94edf8*(-0x16c4+-0x315+-0x89f*-0x3)+(0x112c+0x1598+0x1c3*-0x16)]=_0x2541c9[-0x23cd+0x15fc+0xde0]<<-0x1dcf+0x1738+0x6ac|_0x2541c9[0x1034+0x6*-0x3ef+0xbf*0xa]<<-0x53c+-0xc0f+-0x27a*-0x7|_0x2541c9[-0x19c7+0x25a7+0xbcf*-0x1],_0x5a93d8[_0x94edf8*(-0x1cd*0xd+-0x1*0x2141+0x1*0x38ae)+(-0x95e+-0x1059+0x2*0xcdd)]=_0x2541c9[0x83*0x29+-0x1*-0x983+0x21*-0xec]<<0x34*-0x8a+-0xc0d+0x282a|_0x2541c9[-0x143*0x19+-0x6d2+0x2670]<<-0x8db*-0x1+-0x1*0x25c9+0x1cf9|_0x2541c9[-0x1*-0x20a1+0x1f7b+-0x4008],this['shBands']>0x99e*-0x4+-0x51f+-0x2b99*-0x1?(_0x3b9ab7[_0x94edf8*(-0x11*-0x1f7+0x1298+0x7*-0x76d)+(0x1774+0x2*0xcca+-0x3108)]=_0x2541c9[0x2345+0x11*0xc9+0x9b5*-0x5]<<0x1fa9+-0x200+-0x3*0x9dc|_0x2541c9[0x3*0xb28+0x9*0x3c+-0xe*0x289]<<-0xe19+0x2d7*0x8+-0x894|_0x2541c9[-0x18*0x37+0xc02+-0x6c3*0x1],_0x3b9ab7[_0x94edf8*(0x38f+0x1bf+-0x54a)+(-0xce4*-0x1+-0x1*-0x24d+0xc*-0x144)]=_0x2541c9[0x14c6+0x1f86+0x4*-0xd0d]<<0x1821+-0x1461+0x3ab*-0x1|_0x2541c9[-0x13*-0xd0+0x1aca+-0x2a21]<<-0x7b5*0x2+0x256e+-0x15f9|_0x2541c9[0x1d*0x112+-0x3a9*-0x2+-0x2*0x1321],_0x3b9ab7[_0x94edf8*(-0x8ad+-0x1855+-0x2*-0x1083)+(-0x2a0+0x17+-0x5d*-0x7)]=_0x2541c9[0x1*-0x601+0x23d7+-0x1dbb]<<-0x1a67+0xa8e+0xfee*0x1|_0x2541c9[-0x1352+0x173*-0x10+-0x5*-0x886]<<0x1*-0x26e6+-0x15bd+0x143a*0x3|_0x2541c9[-0x208c+-0x378*0x9+0x719*0x9],_0x3b9ab7[_0x94edf8*(0x1d*-0x12d+0x3*0x449+0x1542*0x1)+(0x18d*0x18+0x1349+-0xe*0x409)]=_0x2541c9[0x1c*0x138+-0xb2e+0x1e7*-0xc]<<0x1c43*0x1+-0xb3b+-0x10f3|_0x2541c9[0x109b+-0xf94*0x1+-0xe8]<<-0xc50*0x3+0x1571+0x75*0x22|_0x2541c9[0x2401*-0x1+-0x268+-0x1*-0x2689],_0x29a7dc[_0x94edf8*(0xb*-0x126+-0x25f3+-0x1*-0x3299)+(0x9f*-0x25+0x193c+-0x241*0x1)]=_0x2541c9[-0xbf+0x1*0x1091+0xd*-0x135]<<-0x1*0xb7b+0x154a+-0x9ba|_0x2541c9[0xf91+0x59*-0x5+-0xdb2]<<0x1*-0xc05+0x1*0x2ad+0x59*0x1b|_0x2541c9[0x9f*0x25+0x1*-0x1247+0x7*-0xa7],_0x29a7dc[_0x94edf8*(-0x1f78+0x7bb+0x17c1)+(-0x1949+0x2031+-0x3*0x24d)]=_0x2541c9[-0xfd4+0xb79+-0x47f*-0x1]<<0xfa8+0x1cc6+0x1*-0x2c59|_0x2541c9[-0x1663+-0x1e47*0x1+0x34cf]<<0x2386+0x125f*0x1+-0x71*0x7a|_0x2541c9[-0x346*-0x5+-0xb51+-0x4e7*0x1],_0x29a7dc[_0x94edf8*(-0xbc7*-0x3+0x2232+-0xde7*0x5)+(-0x13e3*0x1+-0xda+0x14bf)]=_0x2541c9[0x2de*-0x7+-0x219b+0xac4*0x5]<<0x24ae+-0x1*-0x6f1+0x2*-0x15c5|_0x2541c9[0x5bf+0x1981+0x31c*-0xa]<<-0xb5*0x9+0x83f*0x3+-0x1255*0x1|_0x2541c9[0x98c+-0x3f*-0x8b+-0x2b98],_0x29a7dc[_0x94edf8*(-0x8b9+0x121b+0x4af*-0x2)+(-0x3*0x15f+-0xd9*-0x29+0x1*-0x1ea1)]=_0x2541c9[-0x2a5+0x913+-0x4*0x191]<<-0x1*0x14c5+0x2ef*-0xb+0x351f|_0x2541c9[-0x1f*0x102+0x13*0x29+0x2*0xe2f]<<0x29e*-0x7+-0x1caf+0x2f0c|_0x2541c9[-0x7ee+0x2*-0xe71+0x24fc]):_0x3b9ab7[_0x94edf8]=_0x2541c9[0x2a6*-0xc+0x1*0xe87+0x2*0x8ab]<<0x3a3+-0x9ad+0x61f|_0x2541c9[-0x199*-0x14+-0x250b+0x52d*0x1]<<0x23e+-0x2b3*0x4+0x1f*0x47|_0x2541c9[-0x1fe8+-0x61*0x16+0x2855]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x3aea92=this['sh4to7Text'+'ure'])==null||_0x3aea92['unlock'](),(_0x1daa79=this['sh8to11Tex'+'ture'])==null||_0x1daa79['unlock'](),(_0x4c57e5=this['sh12to15Te'+'xture'])==null||_0x4c57e5['unlock']();}['updateSHDa'+'taByWorker'](_0x435a57){const _0x597592={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x2d5156=V_(_0x435a57,_0x597592*(0x1*0x1717+-0x19ed+0x1*0x2d9));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x435a57['numSplats'],this['shBands'],_0x2d5156),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0xa6d54d,_0x6d32c,_0x98219a,_0x153739)=>{var _0x2f44ae,_0x2182c6,_0x22120f,_0x144cf5,_0x2ab5f1,_0x5f1fd3,_0x1de71a,_0x4f253e,_0xd04923,_0x2ceacb;const _0xfe4818=(_0x2f44ae=this['sh1to3Text'+'ure'])==null?void(0x1460*0x1+-0x4*0x4a7+-0x71*0x4):_0x2f44ae['lock']();if(new Uint32Array(_0xfe4818['buffer'])['set'](_0xa6d54d),(_0x2182c6=this['sh1to3Text'+'ure'])==null||_0x2182c6['unlock'](),this['shBands']>-0x1763*-0x1+0x1186+0x3b8*-0xb){const _0x5a858f=(_0x22120f=this['sh4to7Text'+'ure'])==null?void(-0x13e1+-0x1a5a+0x2e3b):_0x22120f['lock']();if(new Uint32Array(_0x5a858f['buffer'])['set'](_0x6d32c),(_0x144cf5=this['sh4to7Text'+'ure'])==null||_0x144cf5['unlock'](),this['shBands']>0x551*-0x1+0x2*-0x133+0x7b9*0x1){const _0x44a90e=(_0x2ab5f1=this['sh8to11Tex'+'ture'])==null?void(0x1972+0x27*-0x66+-0x9e8):_0x2ab5f1['lock']();new Uint32Array(_0x44a90e['buffer'])['set'](_0x98219a),(_0x5f1fd3=this['sh8to11Tex'+'ture'])==null||_0x5f1fd3['unlock']();const _0x18917a=(_0x1de71a=this['sh12to15Te'+'xture'])==null?void(-0x10de+0x1b59*0x1+-0xa7b):_0x1de71a['lock']();new Uint32Array(_0x18917a['buffer'])['set'](_0x153739),(_0x4f253e=this['sh12to15Te'+'xture'])==null||_0x4f253e['unlock']();}else{const _0x29bd5f=(_0xd04923=this['sh8to11Tex'+'ture'])==null?void(0x11a1+-0x214+-0xf8d):_0xd04923['lock']();new Uint32Array(_0x29bd5f['buffer'])['set'](_0x98219a),(_0x2ceacb=this['sh8to11Tex'+'ture'])==null||_0x2ceacb['unlock']();}}});}}async function H1(){let _0x30c700=0xb2d+0xa7+0x3*-0x3f0;class _0x30e2b8{constructor(_0x303c5b,_0x2b2a86){this['lChild']=_0x303c5b,this['rChild']=_0x2b2a86,this['indexes']=[];}['setLeftChi'+'ld'](_0x2aa4af){this['lChild']=_0x2aa4af;}['setRightCh'+'ild'](_0x2da781){this['rChild']=_0x2da781;}}class _0x593cba{constructor(_0x201c5a,_0x4735f8,_0x2fa1f3,_0x492f8f){this['maxDepth']=_0x201c5a,this['timeScaleR'+'aio']=_0x492f8f,this['minTime']=Math['floor'](_0x4735f8*_0x492f8f),this['maxTime']=Math['ceil'](_0x2fa1f3*_0x492f8f),this['rootNode']=new _0x30e2b8(null,null);}['insertNode'](_0x4b3c58,_0x1bde67,_0x18010b){_0x4b3c58=Math['floor'](_0x4b3c58*this['timeScaleR'+'aio']),_0x1bde67=Math['ceil'](_0x1bde67*this['timeScaleR'+'aio']),this['_insertNod'+'e'](this['rootNode'],_0x4b3c58,_0x1bde67,_0x18010b,this['minTime'],this['maxTime'],0xa*-0x76+-0xdae+0x124a);}['_insertNod'+'e'](_0x862a37,_0x3e1e8c,_0x578c07,_0x42dc24,_0x21dd50,_0x2e8e33,_0x9a5dc7){if(_0x3e1e8c<=_0x21dd50&&_0x2e8e33<=_0x578c07){_0x862a37['indexes']['push'](_0x42dc24);return;}if(_0x9a5dc7>=this['maxDepth']){_0x862a37['indexes']['push'](_0x42dc24);return;}let _0x1caf48=Math['floor']((_0x21dd50+_0x2e8e33)/(-0x182+-0x471+0x19*0x3d));_0x3e1e8c<=_0x1caf48&&(_0x862a37['lChild']==null&&(_0x862a37['lChild']=new _0x30e2b8(null,null)),this['_insertNod'+'e'](_0x862a37['lChild'],_0x3e1e8c,_0x578c07,_0x42dc24,_0x21dd50,_0x1caf48,_0x9a5dc7+(0x1cfa+0x1*0x1a12+-0x370b))),_0x578c07>_0x1caf48&&(_0x862a37['rChild']==null&&(_0x862a37['rChild']=new _0x30e2b8(null,null)),this['_insertNod'+'e'](_0x862a37['rChild'],_0x3e1e8c,_0x578c07,_0x42dc24,_0x1caf48+(0xa3*0x1c+-0xce3*0x2+0x25*0x37),_0x2e8e33,_0x9a5dc7+(0x971*-0x1+0x744+0x117*0x2)));}['gatherInde'+'xesNumber'](_0x5a7d37){_0x5a7d37=Math['floor'](_0x5a7d37*this['timeScaleR'+'aio']);let _0x2a467a=this['minTime'],_0x4e3319=this['maxTime'],_0x3493c7=this['rootNode'],_0x9e5fe2=0xd43*-0x2+-0x1439+0x2ebf;for(;!(_0x5a7d37<_0x2a467a||_0x5a7d37>_0x4e3319||_0x3493c7==null||(_0x3493c7['indexes']['length']>0x468+-0x1745+0x12dd&&(_0x9e5fe2=_0x9e5fe2+_0x3493c7['indexes']['length']),_0x2a467a==_0x4e3319));){let _0x5018ee=Math['floor']((_0x2a467a+_0x4e3319)/(0xe94+-0x30f+0x1a5*-0x7));_0x5a7d37<=_0x5018ee?(_0x4e3319=_0x5018ee,_0x3493c7=_0x3493c7['lChild']):(_0x2a467a=_0x5018ee+(0x1272+-0x2185+0x304*0x5),_0x3493c7=_0x3493c7['rChild']);}return _0x9e5fe2;}['gatherInde'+'xes'](_0x4f24a8,_0x54f0ce,_0x40e840){_0x4f24a8=Math['floor'](_0x4f24a8*this['timeScaleR'+'aio']);let _0x48bf1f=this['minTime'],_0x2f0eb1=this['maxTime'],_0x5ca919=this['rootNode'],_0xb9dc81=-0x15b5+-0x1a83+0x181c*0x2;for(;!(_0x4f24a8<_0x48bf1f||_0x4f24a8>_0x2f0eb1||_0x5ca919==null);){if(_0x5ca919['indexes']&&_0x5ca919['indexes']['length']>-0x3df+0x91+0x12*0x2f){const _0x33be7a=_0x5ca919['indexes']['length'],_0x2126b3=_0x33be7a*_0x30c700;new Uint32Array(_0x54f0ce,_0x40e840,_0x33be7a)['set'](_0x5ca919['indexes']),_0xb9dc81+=_0x5ca919['indexes']['length'],_0x40e840+=_0x2126b3;}if(_0x48bf1f==_0x2f0eb1)break;let _0x5ecab0=Math['floor']((_0x48bf1f+_0x2f0eb1)/(0x1903+-0x259d+0xc9c));_0x4f24a8<=_0x5ecab0?(_0x2f0eb1=_0x5ecab0,_0x5ca919=_0x5ca919['lChild']):(_0x48bf1f=_0x5ecab0+(0xc4a+0x2579+0x2*-0x18e1),_0x5ca919=_0x5ca919['rChild']);}return _0xb9dc81;}}let _0x3352c1=null,_0x1e57f2=null,_0x54f23a=null,_0x140adb=null,_0x247ba3=null,_0x9b9ae1=null,_0x49b286=null,_0x536f26=null,_0x414745=null,_0x598c83=null,_0x235ea7=null,_0x206aa2=null,_0xfddf74=null,_0x301fa4=null,_0x17bfdb=null,_0x14513a=null,_0x5e634b=null,_0xf04165=null,_0x6906dc=null,_0x4b3c64=null,_0x2d5f98=null,_0x1060f0=null,_0x2be969=null,_0x57e303=null,_0x1068f3=null,_0x1b576b=null,_0x356ac3=null,_0x4d5d55=Float32Array['BYTES_PER_'+'ELEMENT'],_0x4ad3c0=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x52ddea=-0x2b*-0x1+0x2310+-0x233b,_0x4192f5=!(0x20ba*-0x1+-0x1*0x1f39+0x3ff3),_0x52c5da,_0x1d6140,_0x1ef133={'x':0x0,'y':0x0,'z':0x0},_0x447b45={'x':0x0,'y':0x0,'z':0x0},_0x2a2aa2=!(0x47*-0x2+-0x121a*-0x2+-0x23a6),_0x5b2f35=!(0xfe5+0x16fd*0x1+-0x26e1),_0x15cb97=!(0x848+-0x1d9e+0x3*0x71d),_0x4e2e32=-0xc*0x19d+0x1c5b+0x1*-0x8ff,_0x56ac38=-0x7c6*-0x1+-0x1ec6+-0xb8*-0x20,_0x5b536d=!(0x1f*0xd3+0xbba*-0x1+-0xdd2),_0x4f8406=null,_0x1f40f4=!(-0xed*-0x2a+0xc*-0x1e9+-0xff5),_0x41ce6d=0x4*-0x72b+0x1d3e+-0x92+0.03,_0x1c559c=Math['sqrt'](-(-0x10*0x52+0x1*0xfec+-0x565*0x2)*Math['log'](_0x41ce6d)),_0x5f143d=0x4560+0x1d*-0x1aa+0xeae2,_0x10121b=new _0x593cba(0x1b4d+0x236*0x2+0x5*-0x655,-0x2*-0x2a9+0x1565+0x7*-0x3d1,0x2496*0x1+-0x14f8+0x16b*-0xb,_0x5f143d/(-0xb1a+0xeea+-0x3cb));self['onmessage']=async _0x4aa21c=>{const {data:_0x183850}=_0x4aa21c;switch(_0x183850['type']){case'initWorker':_0x52ddea=_0x183850['numSplats'],_0x322482(),_0x4192f5=_0x183850['is4d'],await _0x503e0a(_0x183850['sortWasmUr'+'l']),_0x442475(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x183850['dataReady']){if(_0x9b9ae1&&_0x183850['centers']&&_0x9b9ae1['length']===_0x183850['centers']['length']){const _0x5e03de=new Float32Array(_0x183850['centers']);_0x9b9ae1['set'](_0x5e03de);}if(_0x598c83&&_0x183850['timeIndex']&&_0x598c83['length']===_0x183850['timeIndex']['length']){const _0x1a60b5=new Uint32Array(_0x183850['timeIndex']);_0x598c83['set'](_0x1a60b5);}if(_0xfddf74&&_0x183850['motion']&&_0xfddf74['length']===_0x183850['motion']['length']){const _0x3e47c7=new Float32Array(_0x183850['motion']);_0xfddf74['set'](_0x3e47c7);}if(_0x4192f5&&_0x235ea7&&_0x206aa2&&_0x183850['muT']&&_0x183850['tScale']&&_0x235ea7['length']===_0x183850['muT']['length']&&_0x206aa2['length']===_0x183850['tScale']['length']){_0x235ea7['set'](_0x183850['muT']),_0x206aa2['set'](_0x183850['tScale']);let _0x4de31d=function(_0x17288a,_0x37be23){return _0x17288a>_0x37be23?_0x17288a:_0x37be23;};for(let _0x1d80f2=0x87e*-0x1+0x1*-0xd3+0x951;_0x1d80f2<_0x235ea7['length'];++_0x1d80f2)_0x1c559c=Math['sqrt'](-(-0x1324+-0x71*0x45+-0x1*-0x319b)*Math['log'](_0x4de31d(_0x41ce6d,_0x183850['threshold'][_0x1d80f2]/(_0x183850['opacity'][_0x1d80f2]+(0x1*0x1f3e+0x33d*-0x7+-0x893*0x1+1e-9))))),_0x10121b['insertNode'](_0x183850['muT'][_0x1d80f2]-_0x4de31d(_0x1c559c*_0x183850['tScale'][_0x1d80f2],-0x218c+-0x1a21+0x3bad+0.6),_0x183850['muT'][_0x1d80f2]+_0x1c559c*_0x183850['tScale'][_0x1d80f2],_0x1d80f2);}if(_0x49b286){for(let _0x36a0b1=-0x4dd+0x189b*0x1+-0x13be;_0x36a0b1<_0x49b286['length'];++_0x36a0b1)_0x49b286[_0x36a0b1]=_0x36a0b1;}_0x247ba3&&_0x183850['timeOption']&&_0x247ba3['set'](_0x183850['timeOption']),setTimeout(()=>{_0x184d4e();},0x112f+0x1813+0x14a1*-0x2);}break;case'setTime':_0x52c5da=_0x183850['time'],_0x4d1ca2();break;case'setUseTemp'+'oralSort':_0x2a2aa2=_0x183850['useTempora'+'lSort'];break;case'sort':if(!_0x54f23a)return;_0x54f23a[0x259e+-0x1b37+0x1*-0xa67]=_0x183850['cameraPosi'+'tion']['x'],_0x54f23a[-0x1d71*0x1+0x1db7+-0x45]=_0x183850['cameraPosi'+'tion']['y'],_0x54f23a[0x45*0x3a+0x58e+-0x152e]=_0x183850['cameraPosi'+'tion']['z'],_0x140adb[-0x1*0x1cba+-0x22a*-0x11+-0x1*0x810]=_0x183850['cameraDire'+'ction']['x'],_0x140adb[-0xe05+0x1d4a+0x4*-0x3d1]=_0x183850['cameraDire'+'ction']['y'],_0x140adb[0x242f+0x3b*-0x1b+-0x2*0xefa]=_0x183850['cameraDire'+'ction']['z'],_0x4d1ca2();break;}};const _0x4d1ca2=()=>{_0x4f8406&&clearTimeout(_0x4f8406),_0x4f8406=setTimeout(()=>{_0x4f8406=null,_0x1bc85d();},0x1d*0x6f+-0x7*-0x4e9+-0x7d3*0x6);},_0x322482=()=>{_0x56ac38=Math['max'](0x57*0x5b+-0x15*-0x1d7+-0x4586,Math['min'](-0xfd2+-0x3b*0x62+0xc*0x335,Math['round'](Math['log2'](_0x52ddea/(-0xa14+-0xe8a+-0x41b*-0x6))))),_0x4e2e32=(0x3*0x8e+0xb55*-0x1+0x1*0x9ad)**_0x56ac38+(0x1f92*-0x1+0x1*-0x2233+0x2*0x20e3);},_0x442475=()=>(_0x301fa4=-0x640+0x1a94+-0x1454,_0x17bfdb=_0x301fa4+_0x52ddea*_0x4d5d55*(-0x1*-0x1a3d+0xf3+-0x1b2d),_0x2d5f98=_0x17bfdb+(-0x49a+-0x9f7+-0xef5*-0x1)*_0x4d5d55*(0x15f7+0x71*-0x4e+0xc79),_0x1060f0=_0x2d5f98+_0x52ddea*_0x4ad3c0,_0x2be969=_0x1060f0+(0x22cd+-0x1bf7*0x1+-0x6d3)*_0x4d5d55,_0x57e303=_0x2be969+(-0xb8+-0x1a0c+0x1ac7)*_0x4d5d55,_0x1068f3=_0x57e303+(-0xafa+0x655+0x1*0x4a8)*_0x4d5d55,_0x1b576b=_0x1068f3+(-0x156+-0x197e+0x1ad7*0x1)*_0x4d5d55,_0x356ac3=_0x1b576b+_0x52ddea*_0x4ad3c0,_0xf04165=_0x356ac3+_0x4e2e32*_0x4ad3c0,_0x9b9ae1=new Float32Array(_0x1e57f2,_0x301fa4,_0x52ddea*(-0x1f57*0x1+0x1a*-0x41+-0x25f4*-0x1)),_0x247ba3=new Float32Array(_0x1e57f2,_0x17bfdb,(-0xec4+0x426+-0x1*-0xb02)*(-0x194b+0x19*-0xd1+0x2db6)),_0x49b286=new Uint32Array(_0x1e57f2,_0x2d5f98,_0x52ddea),_0x536f26=new Uint32Array(_0x49b286),_0x54f23a=new Float32Array(_0x1e57f2,_0x1060f0,-0x5*-0x3a0+-0x127*-0x5+0xbf*-0x20),_0x140adb=new Float32Array(_0x1e57f2,_0x2be969,0x11a*0xb+0x125*0x18+0x399*-0xb),_0x414745=new Uint32Array(_0x1e57f2,_0xf04165,_0x52ddea),_0x4192f5&&(_0x6906dc=_0xf04165+_0x52ddea*_0x4ad3c0,_0x4b3c64=_0x6906dc+_0x52ddea*_0x4d5d55,_0x5e634b=_0x4b3c64+_0x52ddea*_0x4d5d55,_0x14513a=_0x5e634b+_0x52ddea*(-0x123e+-0xfb1+0x21f2*0x1)*_0x4d5d55,_0x235ea7=new Float32Array(_0x1e57f2,_0x6906dc,_0x52ddea),_0x206aa2=new Float32Array(_0x1e57f2,_0x4b3c64,_0x52ddea),_0xfddf74=new Float32Array(_0x1e57f2,_0x5e634b,_0x52ddea*(-0x1f9*-0x1+-0x1d9f+0x1*0x1ba9)),_0x598c83=new Uint32Array(_0x1e57f2,_0x14513a,_0x52ddea)),{'sharedMemory':_0x1e57f2,'layout':{'timeOptionPtr':_0x17bfdb,'timeIndexPtr':_0x14513a,'centersPtr':_0x301fa4,'motionPtr':_0x5e634b,'muTPtr':_0x6906dc,'tScalePtr':_0x4b3c64,'orderPtr':_0x2d5f98,'cameraPositionPtr':_0x1060f0,'cameraDirectionPtr':_0x2be969,'boundMinPtr':_0x57e303,'boundMaxPtr':_0x1068f3,'distancesPtr':_0x1b576b,'countBufferPtr':_0x356ac3,'indexPtr':_0xf04165}}),_0x503e0a=async _0x38ba3f=>{let _0x414666=_0x52ddea*_0x4d5d55*(0x165*-0x3+0x2637+-0xb57*0x3);_0x414666+=_0x52ddea*_0x4ad3c0,_0x414666+=(0x7*0x139+0x1e68+-0x26f4)*_0x4d5d55,_0x414666+=(-0x1b26+-0x1*0xff1+-0xe5e*-0x3)*_0x4d5d55,_0x414666+=(0x1c0b+0x7*0x3dd+-0x3713)*_0x4d5d55,_0x414666+=(0x26c2+-0x14d3+-0x11ec)*_0x4d5d55,_0x414666+=_0x52ddea*_0x4d5d55,_0x414666+=_0x4e2e32*_0x4ad3c0,_0x414666+=_0x52ddea*_0x4ad3c0,_0x414666+=(-0x1e56+0x8cf+0x15eb)*_0x4d5d55*(0x1875+0x155*-0x12+-0x1*0x79),_0x414666+=_0x52ddea*_0x4ad3c0,_0x4192f5&&(_0x414666+=_0x52ddea*_0x4d5d55,_0x414666+=_0x52ddea*_0x4d5d55,_0x414666+=_0x52ddea*_0x4d5d55*(0x233b+-0x1591*-0x1+-0x38c9));const _0xd85ac9=(0xede+0x262*0xe+-0x17fd*0x2)*(-0x1d8b+-0x16*-0x1f+0x1ee1),_0x4558e5=Math['ceil'](_0x414666/_0xd85ac9),_0x14dad3={'env':{'memory':new WebAssembly['Memory']({'initial':_0x4558e5,'maximum':_0x4558e5,'shared':!(0x1*-0xdb4+-0x1521+0x22d5)}),'pthread_self':function(){return 0x2c*0x72+0x144+-0x14dc;},'emscripten_builtin_memalign':function(){return-0x1f03+0x1eb*-0x2+-0xb*-0x32b;},'emscripten_get_now':function(){return performance['now']();},'loggerVec3':(_0x4e89ba,_0x53d171,_0x21c651,_0x1914c2)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x4e89ba+']\x200:'+_0x53d171+'\x201:'+_0x21c651+'\x202:'+_0x1914c2);},'loggerFloat':(_0x42cfe7,_0x1b20e3)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x42cfe7+']\x20a:'+_0x1b20e3);},'loggerValue':(_0x528213,_0x58bacc,_0x525e59,_0x21e038,_0x3b2f89)=>{console['log']('C++\x20logger'+'Value\x20['+_0x528213+']\x20minDist:'+_0x58bacc+'\x20maxDist:'+_0x525e59+'\x20range:'+_0x21e038+'\x20divider:'+_0x3b2f89);},'loggerCamera':(_0x5c9611,_0x4ca2d3,_0x571365,_0x2ebc54,_0x8aa8ee,_0x3048ec,_0x80fa50)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x5c9611+']\x20x:'+_0x4ca2d3+'\x20y:'+_0x571365+'\x20z:'+_0x2ebc54+'\x20dx:'+_0x8aa8ee+'\x20dy:'+_0x3048ec+'\x20dz:'+_0x80fa50);},'loggerBound':(_0x11b1a5,_0x133320,_0x24d6b5,_0x4e90fd,_0x3e965c,_0x1ca85c)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x11b1a5+'\x20minY:'+_0x133320+'\x20minZ:'+_0x24d6b5+'\x20maxX:'+_0x4e90fd+'\x20maxY:'+_0x3e965c+'\x20maxZ:'+_0x1ca85c);},'loggerDebug':_0x3aa1f9=>{}}};try{const _0x1683d2=await(await fetch(_0x38ba3f))['arrayBuffe'+'r']();return _0x3352c1=(await WebAssembly['instantiat'+'e'](_0x1683d2,_0x14dad3))['instance'],_0x1e57f2=_0x14dad3['env']['memory']['buffer'],_0x3352c1;}catch(_0x1961ae){throw console['error']('WASM'+':',_0x1961ae),_0x1961ae;}},_0x184d4e=()=>{if(!_0x3352c1)return;const {calcAABB:_0x12eee1}=_0x3352c1['exports'];_0x12eee1(_0x301fa4,_0x57e303,_0x1068f3,_0x52ddea);},_0x1bc85d=()=>{if(!_0x3352c1||_0x2d5f98===null||_0x301fa4===null||_0x1060f0===null||_0x2be969===null||_0x57e303===null||_0x1068f3===null)return;const _0x5b10e9=_0x54f23a[0x1*0x1c72+0x135*0x1e+-0x40a8],_0x335262=_0x54f23a[0x17b+0x1927*-0x1+0x17ad],_0x12ad17=_0x54f23a[0x5b*-0x1+-0x1a95+0x1af2],_0x2acbfb=_0x140adb[0xd8d+-0x1*0x16f+-0xc1e],_0x138d01=_0x140adb[-0x37*-0x5e+0x1*0x17f5+-0x2c26],_0x45d517=_0x140adb[-0xfb*-0x1d+-0x51*0xd+0x4*-0x614],_0x2237e0=0x1*0x9a9+0x3a4*0x7+-0x2325+0.001;if(!_0x5b2f35&&Math['abs'](_0x5b10e9-_0x1ef133['x'])<_0x2237e0&&Math['abs'](_0x335262-_0x1ef133['y'])<_0x2237e0&&Math['abs'](_0x12ad17-_0x1ef133['z'])<_0x2237e0&&Math['abs'](_0x2acbfb-_0x447b45['x'])<_0x2237e0&&Math['abs'](_0x138d01-_0x447b45['y'])<_0x2237e0&&Math['abs'](_0x45d517-_0x447b45['z'])<_0x2237e0&&Math['abs'](_0x52c5da-_0x1d6140)<-0x1*0x2225+-0x3*0x144+0x25f1+0.01)return;if(_0x15cb97){_0x5b536d=!(0x3f0+-0x175a+0x136a);return;}let _0x360eb2=-0x1f9f+0x555*0x1+0x2a1*0xa;if(performance['now'](),_0x4192f5&&_0x6906dc&&_0x4b3c64)_0x360eb2=_0x10121b['gatherInde'+'xes'](_0x52c5da,_0x1e57f2,_0xf04165);else{if(_0x1f40f4)_0x360eb2=_0x52ddea;else{for(let _0x2c9ce1=-0x1c0c+-0x9c9+0x791*0x5;_0x2c9ce1<_0x52ddea;++_0x2c9ce1)_0x414745[_0x360eb2]=_0x2c9ce1,++_0x360eb2;_0x1f40f4=!(-0x24f6+-0x73d+-0x8d7*-0x5);}}performance['now'](),_0x15cb97=!(0x3b*-0x58+-0xa1*0x15+-0x1*-0x217d),_0x5b2f35=!(-0x1343*-0x1+-0x7a*0x19+-0x758),_0x1d6140=_0x52c5da,_0x1ef133['x']=_0x5b10e9,_0x1ef133['y']=_0x335262,_0x1ef133['z']=_0x12ad17,_0x447b45['x']=_0x2acbfb,_0x447b45['y']=_0x138d01,_0x447b45['z']=_0x45d517,_0x5b536d=!(0x252d+-0xf27+-0x1605);const {sortIndexes:_0x205e64}=_0x3352c1['exports'];try{let _0x19ecd7=_0x205e64(_0x2d5f98,_0x301fa4,_0x5e634b,_0x6906dc,_0x4b3c64,_0x1060f0,_0x2be969,_0x57e303,_0x1068f3,_0x1b576b,_0x356ac3,_0xf04165,_0x52c5da,_0x2a2aa2,_0x4192f5,_0x360eb2,_0x4e2e32,_0x56ac38,_0x17bfdb,_0x14513a);_0x536f26['set'](_0x49b286),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x19ecd7-(0x880+-0x7ce+-0x59*0x2),'order':_0x536f26});}catch(_0x1c01a3){console['error'](':',_0x1c01a3),self['postMessag'+'e']({'type':'error','error':_0x1c01a3['message']});}_0x15cb97=!(-0x22ac+-0x1a27+0x3cd4),_0x5b536d&&_0x4d1ca2();};}class W1 extends de{constructor(_0x334e49,_0x27c9a9=!(-0x1814+-0x1*-0xeb1+-0x963*-0x1)){super(),c(this,'worker',null),c(this,'numSplats',0xaed*-0x2+-0x713*-0x1+-0xec7*-0x1),c(this,'is4d',!(-0x1*0xe86+0xa02+0x484)),c(this,'sortStartT'+'ime',0x62e+-0x182b+0x5*0x399),c(this,'orderTextu'+'re'),(this['numSplats']=_0x334e49,this['is4d']=_0x27c9a9,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+H1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x1e7a48=>{if(!this['worker'])return;const {data:_0x30b403}=_0x1e7a48;switch(_0x30b403['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x30b403['order']){const _0x46c3bb=this['orderTextu'+'re']['lock']();new Uint32Array(_0x46c3bb['buffer'])['set'](_0x30b403['order']),this['orderTextu'+'re']['unlock']();}let _0x2c5145=0x1439+-0x35*0x15+-0xfe0;this['sortStartT'+'ime']!==0x2579+0x267b*0x1+-0x4bf4&&(_0x2c5145=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x1e7a48['data']['count'],_0x2c5145),this['sortStartT'+'ime']=-0x119*-0x5+0x4*0x7f1+-0x2541;break;case'error':console['error']('Worker:',_0x30b403['error']),this['fire']('error',_0x30b403['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/test-cut'+'off-sorter'+'.wasm','numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x126d45,_0x5d3d93,_0x268cb4,_0x30c984,_0x555e2b,_0x2c9d6e,_0x4320e0,_0x4300be,_0x36c0e6){var _0x243d3a;(!_0x4320e0||_0x4320e0['length']===0x3b*-0x3+-0x20c3+0x10ba*0x2)&&(_0x4320e0=[0x23d5+-0x16*0x1b6+0x1cf,0x9*-0x163+-0x1*-0x20ff+-0x2c*0x76]),this['orderTextu'+'re']=_0x126d45,(_0x243d3a=this['worker'])==null||_0x243d3a['postMessag'+'e']({'type':'initData','centers':_0x5d3d93,'muT':_0x268cb4,'tScale':_0x30c984,'motion':_0x555e2b,'timeIndex':_0x2c9d6e,'timeOption':_0x4320e0,'dataReady':!(-0xc9c+0x249*0x1+-0x1*-0xa53),'opacity':_0x4300be,'threshold':_0x36c0e6});}['resize'](_0x429529){this['destroy'](),this['numSplats']=_0x429529,this['_initWorke'+'r']();}['setCamera'](_0x115aba,_0x4164a7){this['worker']&&(this['sortStartT'+'ime']===0x5db*0x1+0x922+-0xefd&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x115aba['x'],'y':_0x115aba['y'],'z':_0x115aba['z']},'cameraDirection':{'x':_0x4164a7['x'],'y':_0x4164a7['y'],'z':_0x4164a7['z']}}));}['setCurrent'+'Time'](_0x14798f){this['worker']&&(this['sortStartT'+'ime']===-0x170f+0x2e8+0x43*0x4d&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x14798f}));}['setUseTemp'+'oralSort'](_0xf3d6cd){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0xf3d6cd});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),Bn=new A(),Nn=new A(),Xl=[-0x15ae+0x1cd+0x13e1,-0x322+-0xb26*-0x1+-0x4*0x201];class Gp{constructor(_0xe7b0d5,_0x3562ca){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x7a8+0x1*0xc7a+-0x269*0x2),c(this,'lastCamera'+'Position',new A()),c(this,'lastCamera'+'Direction',new A()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0xe7b0d5['numSplats']),this['splat']=_0xe7b0d5,this['options']=Object['assign'](this['options'],_0x3562ca));const _0x2220b4=_0xe7b0d5['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',on,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x5b1160=-0x2*0x30+0x18ee+-0x180e,_0x592036=Math['ceil'](_0xe7b0d5['numSplats']/_0x5b1160)*_0x5b1160/_0x5b1160,_0x29be17=new Uint32Array(_0x592036);for(let _0x3e8b9d=-0xd5b+-0x88c*0x3+0x1*0x26ff;_0x3e8b9d<_0x592036;++_0x3e8b9d)_0x29be17[_0x3e8b9d]=_0x3e8b9d*_0x5b1160;const _0x53d5d5=new Dt(_0x2220b4,[{'semantic':Sa,'components':0x1,'type':Oo,'asInt':!(-0x1dc6+0x1*0x1c63+0x163*0x1)}]),_0x3894f2=new fs(_0x2220b4,_0x53d5d5,_0x592036,{'usage':ts,'data':_0x29be17['buffer']}),_0x38f97a=new Float32Array((0xd0a*-0x1+0x21df+-0x14c9)*_0x5b1160),_0x159f55=new Uint32Array((0x1450+0xb*-0x269+0x639)*_0x5b1160);for(let _0x4b4aca=0xb*0x2c9+-0x1*-0x241f+-0x42c2;_0x4b4aca<_0x5b1160;++_0x4b4aca){_0x38f97a['set']([-(-0x7a8+0x3*0x6b6+-0xc79),-(-0xe2f+-0x434+0x1264),_0x4b4aca,-0x1f31+0x22b9*-0x1+0x41eb,-(0x1e04+-0x1e92+-0xb*-0xd),_0x4b4aca,0x2593+-0x6b7+0x1edb*-0x1,-0x26f1+-0x4*0x4f4+0x3ac2,_0x4b4aca,-(-0x167c+0xda*0x18+-0x1*-0x20d),0xaa7+-0xc22*0x3+0x67*0x40,_0x4b4aca],_0x4b4aca*(-0x14ce+-0x26*0x4b+0x2e*0xb2));const _0x2a61bd=_0x4b4aca*(0x2027+0x2660+-0x4683);_0x159f55['set']([0x801+-0x111a*-0x2+-0x2a35+_0x2a61bd,-0x5dc+-0x17*-0x16+-0x1*-0x3e3+_0x2a61bd,0xce2*0x1+-0x15e8+-0x242*-0x4+_0x2a61bd,0x1b49+0x1*0x236b+-0x3eb4+_0x2a61bd,0x1a22+-0x1*-0x20e3+-0x1*0x3b03+_0x2a61bd,-0x2*0xc51+0x1dc1*-0x1+0x3*0x1222+_0x2a61bd],_0x4b4aca*(-0x3b*0x86+-0xc05+0x2aed));}const _0x529f49=new ke(_0x2220b4);_0x529f49['setPositio'+'ns'](_0x38f97a,0x535*0x3+-0xd*-0x18d+-0x23c5),_0x529f49['setIndices'](_0x159f55),_0x529f49['update'](),this['mesh']=_0x529f49,this['mesh']['aabb']['copy'](_0xe7b0d5['aabb']),this['meshInstan'+'ce']=new Be(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x3894f2,!(0x19af+0x15a0+-0x2f4f)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=-0x18e5+-0x5c6+0x1*0x1eab,(!_0x3562ca['dither']||_0x3562ca['dither']===Os)&&(this['sorter']=new W1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x442b71;(_0x442b71=this['sorter'])==null||_0x442b71['initData'](this['orderTextu'+'re'],_0xe7b0d5['centers'],_0xe7b0d5['muT'],_0xe7b0d5['tScale'],_0xe7b0d5['motion'],_0xe7b0d5['timeIndex'],_0xe7b0d5['timeOption'],_0xe7b0d5['opacity'],_0xe7b0d5['threshold']);}),this['sorter']['on']('updated',_0xf00ef4=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0xf00ef4/_0x5b1160),this['material']['setParamet'+'er']('numSplats',_0xf00ef4);}));}['updateData'](_0x1c27d1){var _0x49d795;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x1c27d1['numSplats']),this['splat']=_0x1c27d1;const _0x12cc69=_0x1c27d1['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',on,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x4b5f54=0x12f8*-0x2+-0x16*0xf2+-0x44*-0xdf,_0x5ed1e2=Math['ceil'](_0x1c27d1['numSplats']/_0x4b5f54)*_0x4b5f54/_0x4b5f54,_0x32d7b1=new Uint32Array(_0x5ed1e2);for(let _0x45a01d=0x19c0+-0x7b5*0x3+-0x2a1;_0x45a01d<_0x5ed1e2;++_0x45a01d)_0x32d7b1[_0x45a01d]=_0x45a01d*_0x4b5f54;const _0x2eae6c=new Dt(_0x12cc69,[{'semantic':Sa,'components':0x1,'type':Oo,'asInt':!(-0x1360+0x1dad+-0xa4d)}]),_0x3e909d=new fs(_0x12cc69,_0x2eae6c,_0x5ed1e2,{'usage':ts,'data':_0x32d7b1['buffer']});this['mesh']['aabb']['copy'](_0x1c27d1['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x3e909d,!(-0x1a11+0x2*0x21b+0x15db)),this['meshInstan'+'ce']['instancing'+'Count']=0x1*-0x12d9+0x1d*0xa2+0x7f,(_0x49d795=this['sorter'])==null||_0x49d795['resize'](_0x1c27d1['numSplats']);}['releaseSeq'](_0x15e358){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x15e358);}['destroy'](){var _0x492389,_0x5a96bf,_0x558aa3;(_0x492389=this['material'])==null||_0x492389['destroy'](),(_0x5a96bf=this['meshInstan'+'ce'])==null||_0x5a96bf['destroy'](),(_0x558aa3=this['sorter'])==null||_0x558aa3['destroy']();}['clone'](){return new Gp(this['splat'],this['options']);}['createMate'+'rial'](_0x245838){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x245838),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x4880ca=this['splat']['device'];if(Xl[0x26b1+-0x788+-0x1f29]=_0x4880ca['width'],Xl[-0x129d+-0x21d3+-0x3471*-0x1]=_0x4880ca['height'],this['cameras']['length']>0x1a4b+-0xd*0x2e1+0xb22){const _0x3c1917=this['cameras'][-0x1*-0x12fd+0x275*0x8+-0x26a5]['xr'];_0x3c1917&&_0x3c1917['active']&&_0x3c1917['views']['list']['length']===-0x45d*0x5+-0x5b5+0x1b88&&(Xl[-0x2123+0x1abd*-0x1+0x3be0]/=0xc64+-0xae9+-0x179);}this['material']['setParamet'+'er']('viewport',Xl);}['sort'](_0x4d1296){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x57c638=_0x4d1296['getWorldTr'+'ansform']();_0x57c638['getTransla'+'tion'](Bn),_0x57c638['getZ'](Nn);const _0x5b789a=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x5ea514=$1['invert'](_0x5b789a);_0x5ea514['transformP'+'oint'](Bn,Bn),_0x5ea514['transformV'+'ector'](Nn,Nn),(!Bn['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Nn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Bn),this['lastCamera'+'Direction']['copy'](Nn),this['sorter']['setCamera'](Bn,Nn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>0xc*0x218+0x1279+-0x2b99){const _0x4ceb8e=this['cameras'][-0x165*0x5+-0x16b+0x864];this['sort'](_0x4ceb8e['_node']),this['cameras']['length']=-0x137*0x5+0x14f5+-0xee2;}}['updateTime'](_0x157483){this['time']=_0x157483;}}const q1='FILL_WINDO'+'W',G_='KEEP_ASPEC'+'T',H_='AUTO',X1='FIXED';let V0;function sn(){return V0;}function Ku(_0x12f52e){V0=_0x12f52e;}class j1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x52d4c6){b['assert'](_0x52d4c6),_0x52d4c6['frameUpdat'+'e']();const _0x2fea93=_0x52d4c6['beforePass'+'es'];for(let _0x28daf6=0xa22+0x59b+-0x53f*0x3;_0x28daf6<_0x2fea93['length'];_0x28daf6++){const _0x26e1dd=_0x2fea93[_0x28daf6];_0x26e1dd['enabled']&&this['addRenderP'+'ass'](_0x26e1dd);}_0x52d4c6['enabled']&&this['renderPass'+'es']['push'](_0x52d4c6);const _0x432396=_0x52d4c6['afterPasse'+'s'];for(let _0x20b159=0x18d4+-0x161f+0x63*-0x7;_0x20b159<_0x432396['length'];_0x20b159++){const _0x2aa7b3=_0x432396[_0x20b159];_0x2aa7b3['enabled']&&this['addRenderP'+'ass'](_0x2aa7b3);}}['reset'](){this['renderPass'+'es']['length']=0x522+0x10e*-0x17+0x1320;}['compile'](){const _0x3012e0=this['renderTarg'+'etMap'],_0x2b1f44=this['renderPass'+'es'];for(let _0x5dc6b3=-0x3*-0x2cd+-0xc78+0x411;_0x5dc6b3<_0x2b1f44['length'];_0x5dc6b3++){const _0x1fc6d2=_0x2b1f44[_0x5dc6b3],_0x524d4d=_0x1fc6d2['renderTarg'+'et'];if(_0x524d4d!==void(-0x4a5*0x6+0x1*-0x2cf+0x1ead)){const _0x412323=_0x3012e0['get'](_0x524d4d);if(_0x412323){const _0x25c98a=_0x1fc6d2['colorArray'+'Ops']['length'];for(let _0x2f7cc0=0x576*0x2+0xbf*-0xd+-0x1*0x139;_0x2f7cc0<_0x25c98a;_0x2f7cc0++)_0x1fc6d2['colorArray'+'Ops'][_0x2f7cc0]['clear']||(_0x412323['colorArray'+'Ops'][_0x2f7cc0]['store']=!(0x1bd4+-0x189*-0x19+0x1*-0x4235));_0x1fc6d2['depthStenc'+'ilOps']['clearDepth']||(_0x412323['depthStenc'+'ilOps']['storeDepth']=!(-0x61*-0x13+-0x6c0+-0x17*0x5)),_0x1fc6d2['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x412323['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x106f*-0x1+0x633+-0x16a2));}_0x3012e0['set'](_0x524d4d,_0x1fc6d2);}}for(let _0x5c1150=0x206d+0x1bd7+-0x3c44;_0x5c1150<_0x2b1f44['length']-(0x24ba+-0xea8+-0x1611);_0x5c1150++){const _0x12dc61=_0x2b1f44[_0x5c1150],_0x437e12=_0x12dc61['renderTarg'+'et'],_0xd7332b=_0x2b1f44[_0x5c1150+(-0x2*-0x133d+-0x1b96+-0xae3)],_0x5cff7f=_0xd7332b['renderTarg'+'et'];_0x437e12!==_0x5cff7f||_0x437e12===void(-0x1f*0x10d+-0x1bf1+0x2*0x1e42)||_0xd7332b['depthStenc'+'ilOps']['clearDepth']||_0xd7332b['depthStenc'+'ilOps']['clearStenc'+'il']||_0xd7332b['colorArray'+'Ops']['some'](_0x1da27d=>_0x1da27d['clear'])||_0x12dc61['afterPasse'+'s']['length']>0x6b5+-0x63a+-0x1*0x7b||_0xd7332b['beforePass'+'es']['length']>-0x11d8+0xd*-0xf1+0x1e15||(_0x12dc61['_skipEnd']=!(-0x11ab+-0x1fa7*-0x1+-0xdfc),_0xd7332b['_skipStart']=!(0x2*0xa2e+-0x83*-0x23+-0x2645));}let _0x40ebe7=null,_0x55b228=null;for(let _0x41c0c8=-0x1fcd+-0x164*0x9+0x2c51;_0x41c0c8<_0x2b1f44['length'];_0x41c0c8++){const _0x47a9d2=_0x2b1f44[_0x41c0c8],_0x1c7fbb=_0x47a9d2['renderTarg'+'et'],_0x23f105=_0x1c7fbb==null?void(0x114e+0x2f*-0x45+-0x4a3):_0x1c7fbb['colorBuffe'+'r'];if(_0x23f105!=null&&_0x23f105['cubemap']){if(_0x40ebe7===_0x23f105){const _0x3b67cf=_0x55b228['colorArray'+'Ops']['length'];for(let _0x48f75=-0x1353+-0x2410+-0xb*-0x509;_0x48f75<_0x3b67cf;_0x48f75++)_0x55b228['colorArray'+'Ops'][_0x48f75]['mipmaps']=!(0xbfd+-0x3ce+-0x82e);}_0x40ebe7=_0x1c7fbb['colorBuffe'+'r'],_0x55b228=_0x47a9d2;}else _0x47a9d2['requiresCu'+'bemaps']&&(_0x40ebe7=null,_0x55b228=null);}_0x3012e0['clear']();}['render'](_0x282fea){this['compile']();const _0x305ac9=this['renderPass'+'es'];for(let _0x57585c=-0x23de+0x1b63+0x87b;_0x57585c<_0x305ac9['length'];_0x57585c++)_0x305ac9[_0x57585c]['render']();}}class Y1{constructor(_0x36df39,_0x5493de){this['texture0']=_0x36df39,this['texture1']=_0x5493de;}['destroy'](){var _0x5e0165,_0x2b3e18;(_0x5e0165=this['texture0'])==null||_0x5e0165['destroy'](),(_0x2b3e18=this['texture1'])==null||_0x2b3e18['destroy']();}}const W_=new Ht();class qr{static['createText'+'ure'](_0x33a7ed,_0x21f765,_0x170779,_0x412ca0=''){return new ce(_0x33a7ed,{'name':'AreaLightL'+'UT'+_0x412ca0,'width':_0x170779,'height':_0x170779,'format':_0x21f765,'addressU':oe,'addressV':oe,'type':Bi,'magFilter':at,'minFilter':fe,'anisotropy':0x1,'mipmaps':!(0xadb+0x945*-0x4+-0x2*-0xd1d)});}static['applyTextu'+'res'](_0x5842cb,_0x262285,_0x11fe79){W_['remove'](_0x5842cb),W_['get'](_0x5842cb,()=>new Y1(_0x262285,_0x262285===_0x11fe79?null:_0x11fe79)),_0x5842cb['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x262285),_0x5842cb['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x11fe79);}static['createPlac'+'eholder'](_0x3a574c){const _0x454435=qr['createText'+'ure'](_0x3a574c,it,-0x221*-0x11+-0xdf5+-0x163a*0x1,'placeholde'+'r');_0x454435['lock']()['fill'](-0x16c5+0x85c+0xe69),_0x454435['unlock'](),qr['applyTextu'+'res'](_0x3a574c,_0x454435,_0x454435);}static['set'](_0x2b5b49,_0x4a5882,_0x2f7ff4){function _0x452598(_0x5dcc02,_0x17ad7a,_0x389257){const _0x4a8076=qr['createText'+'ure'](_0x5dcc02,_0x389257,0x6*-0x546+0x65*0x3a+0x902);return _0x4a8076['lock']()['set'](_0x17ad7a),_0x4a8076['unlock'](),_0x4a8076;}function _0x5c5b96(_0x5b23ea){const _0x224b09=_0x5b23ea['length'],_0x2fb87c=new Uint16Array(_0x224b09),_0x174af1=Bt['float2Half'];for(let _0x1d268c=0x2*0x3e2+0x4*-0x947+-0x6*-0x4e4;_0x1d268c<_0x224b09;_0x1d268c++)_0x2fb87c[_0x1d268c]=_0x174af1(_0x5b23ea[_0x1d268c]);return _0x2fb87c;}const _0x2dc1e1=_0x4a5882,_0x171ff5=_0x2f7ff4,_0x273e41=_0x5c5b96(_0x2dc1e1),_0x238f39=_0x5c5b96(_0x171ff5),_0x170ac6=_0x452598(_0x2b5b49,_0x273e41,it),_0x5f5ae9=_0x452598(_0x2b5b49,_0x238f39,it);qr['applyTextu'+'res'](_0x2b5b49,_0x170ac6,_0x5f5ae9);}}const Yh='en-US',Kh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Hp={};function mr(_0x570ddf,_0x15a7ca){for(let _0x525975=-0x15e*0x1+-0x1bed+-0x1*-0x1d4b,_0x120fd8=_0x570ddf['length'];_0x525975<_0x120fd8;_0x525975++)Hp[_0x570ddf[_0x525975]]=_0x15a7ca;}function xi(_0x48ce32){const _0x3277d8=_0x48ce32['indexOf']('-');return _0x3277d8!==-(0x1a5f+-0x68c*0x5+0x2*0x32f)?_0x48ce32['substring'](0x509+0x124*0x14+0x1bd9*-0x1,_0x3277d8):_0x48ce32;}function K1(_0x292e3d,_0x422a49){const _0x29c0b5=_0x292e3d['indexOf']('-');return _0x29c0b5!==-(0x84b+-0xfc9+0x77f)?_0x422a49+_0x292e3d['substring'](_0x29c0b5):_0x422a49;}function G0(_0x532641,_0x4afe21){if(_0x4afe21[_0x532641])return _0x532641;let _0x9fc1ea=Kh[_0x532641];if(_0x9fc1ea&&_0x4afe21[_0x9fc1ea])return _0x9fc1ea;const _0x293181=xi(_0x532641);return _0x9fc1ea=Kh[_0x293181],_0x4afe21[_0x9fc1ea]?_0x9fc1ea:_0x4afe21[_0x293181]?_0x293181:Yh;}mr(['ja','ko','th','vi','zh','id'],_0x6f757=>0x8*-0x199+0x15d*0x1+0xb6b*0x1),mr(['fa','hi'],_0xe90b60=>_0xe90b60>=0x6*0x608+-0x177f+0x169*-0x9&&_0xe90b60<=0x104c*0x2+-0xed*0x1e+-0x4d1?-0x66*0x7+-0x1c46+0x4*0x7c4:-0xf*0x5c+-0x1f94+0x277*0xf),mr(['fr','pt'],_0x1d4462=>_0x1d4462>=-0x25fb+-0x13f1*-0x1+0x120a&&_0x1d4462<0x2538+0xfef+-0x3525?0x1*0x15f2+-0x3b0+0x2*-0x921:0xd70+-0x9*0x3fb+0x1664*0x1),mr(['da'],_0x562419=>_0x562419===-0x10*0x17f+0xad*0x13+0xb1a||!Number['isInteger'](_0x562419)&&_0x562419>=0xa06+0x1897+-0x1*0x229d&&_0x562419<=0x43*0x32+-0xdb9*-0x2+0x19f*-0x19?-0x80b*0x1+0x994*0x4+-0x1e45:-0x15e8+0xae7*0x2+-0x1b*-0x1),mr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x4635a4=>_0x4635a4===-0x5b*0x13+0x74*0x49+0x463*-0x6?0x22c5+0x2305+0x2*-0x22e5:-0x954+0x13ec+-0xa97*0x1),mr(['ru','uk'],_0x6e921f=>{if(Number['isInteger'](_0x6e921f)){const _0x4c7d8a=_0x6e921f%(-0x1*-0xd72+-0x98f*-0x2+-0x2086),_0x995a6c=_0x6e921f%(-0x2af*0x6+0xb*-0x1f+0x1fb*0x9);if(_0x4c7d8a===0x4*-0x56d+0x1*0x1769+-0x1b4&&_0x995a6c!==0x13b6+-0x78d*-0x1+-0x34*0x86)return 0x1a6d+0x1*-0x7fb+-0x1272;if(_0x4c7d8a>=-0x1814+0x1bf7+-0x3e1&&_0x4c7d8a<=0x41d+-0x24f3+-0x349*-0xa&&(_0x995a6c<0x156f+0x2032*-0x1+-0x1*-0xacf||_0x995a6c>0x31f+-0x1403+0x879*0x2))return-0x1*-0x517+0x39b+-0x8b1;if(_0x4c7d8a===-0x4dc+0xe72+-0x3*0x332||_0x4c7d8a>=0x1381+0x1*0x23b7+-0x3733&&_0x4c7d8a<=0xf0e*0x1+-0xb1*0x3+-0x1*0xcf2||_0x995a6c>=-0xa13*-0x1+-0x1977+0xf6f&&_0x995a6c<=0x1*-0x26a1+-0x1d7b+0x442a)return-0x14b*0x3+-0x2*0x7b+0x4d9;}return 0x1*-0x1cde+-0x71*-0x7+0x19ca;}),mr(['pl'],_0x42d865=>{if(Number['isInteger'](_0x42d865)){if(_0x42d865===0x962*-0x1+0x2*0x1a5+0x619*0x1)return 0x8a*-0x36+0x25c1+-0x8a5;const _0x30ce1f=_0x42d865%(-0x2*-0x219+0x17*0x13c+-0x208c),_0x2fa948=_0x42d865%(-0x9d*0x3e+-0x1*-0x599+0x1*0x20d1);if(_0x30ce1f>=-0xe71*0x2+0x353*-0x8+0x377c&&_0x30ce1f<=0x43*0x39+0x683+-0x2*0xab5&&(_0x2fa948<-0x607*0x1+-0x7*-0x37d+-0x4*0x496||_0x2fa948>0x1367+0x20ef+-0x3448))return 0xeab+-0x148+-0x476*0x3;if(_0x30ce1f>=-0x1*0x509+-0x1*-0x1a05+-0x14fc&&_0x30ce1f<=-0x2f*-0x5b+0x2ee+0x7*-0x2ce||_0x30ce1f>=-0x6f0+-0x2147+-0x19c*-0x19&&_0x30ce1f<=-0xe5*0x21+0x49*-0x42+0x306*0x10||_0x2fa948>=0x2254+0xf4+-0x233c&&_0x2fa948<=-0x49*-0x49+-0x4a*0xe+-0x10b7)return-0xeac*-0x2+0xf*0x1cd+-0x3859;}return-0x19eb+0x131a+-0x4c*-0x17;}),mr(['ar'],_0x16e2f6=>{if(_0x16e2f6===-0x12c0+0x2*-0x8da+0x91d*0x4)return-0x1*-0xeb2+0xb3b+-0x19ed*0x1;if(_0x16e2f6===-0x2632+-0x23*-0x28+0x20bb)return-0x7c9+0x1*0x1159+0x98f*-0x1;if(_0x16e2f6===-0x1*-0x23ee+-0x1411+-0xfdb*0x1)return-0x5*-0x157+-0x1d49+-0x3c4*-0x6;if(Number['isInteger'](_0x16e2f6)){const _0x5d633e=_0x16e2f6%(-0x79*0x1d+-0x1*0x925+0x253*0xa);if(_0x5d633e>=0xc1d+-0x7*-0x1d2+-0x18d8&&_0x5d633e<=-0x5f*0x4b+0x3d*-0x32+0x27c9)return 0x1c8f+0x117+-0x1da3;if(_0x5d633e>=-0xdf*-0xa+0x4*0x9b2+0x3*-0xfd1&&_0x5d633e<=0x5d*0x34+-0xe*0x241+0x1*0xd0d)return 0x1ed4+-0x475*0x3+-0x2f*0x5f;}return-0x1*-0x25c7+-0xebf+-0x1703;});const Z1=Hp[xi(Yh)];function Zd(_0x5833c9){return Hp[_0x5833c9]||Z1;}const ka=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Q1{constructor(_0xacd058='',_0x407a81='',_0xa418bc=null,_0x457185=null,_0x38f51d=null,_0x2a02b3=null){this['url']=_0xacd058,this['filename']=_0x407a81,this['hash']=_0xa418bc,this['size']=_0x457185,this['opt']=_0x38f51d,this['contents']=_0x2a02b3;}['equals'](_0x4dace9){return this['url']===_0x4dace9['url']&&this['filename']===_0x4dace9['filename']&&this['hash']===_0x4dace9['hash']&&this['size']===_0x4dace9['size']&&this['opt']===_0x4dace9['opt']&&this['contents']===_0x4dace9['contents'];}}let J1=-(-0x7e*0xa+0xd77+-0x88a);const eP={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class he extends de{constructor(_0x27cad7,_0x362c77,_0x102abb,_0x32f6d3,_0x1cdb44){super(),this['_id']=J1--,this['_name']=_0x27cad7||'',this['type']=_0x362c77,this['tags']=new yo(this),this['_preload']=!(0x253b+0x1*0x198+-0x26d2*0x1),this['_file']=null,this['_data']=_0x32f6d3||{},this['options']=_0x1cdb44||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(-0x211b+0xc7*0xb+0x1*0x188f),this['loading']=!(0x216*0x5+-0x2221+0x17b4),this['registry']=null,_0x102abb&&(this['file']=_0x102abb);}set['id'](_0x372e9d){this['_id']=_0x372e9d;}get['id'](){return this['_id'];}set['name'](_0x47e56f){if(this['_name']===_0x47e56f)return;const _0x4f2cf4=this['_name'];this['_name']=_0x47e56f,this['fire']('name',this,this['_name'],_0x4f2cf4);}get['name'](){return this['_name'];}set['file'](_0x511aa0){var _0x51c6ac,_0x47ac6f;if(_0x511aa0&&_0x511aa0['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x5ab+-0x1a19*-0x1+-0x1*0x1fc3)){const _0x292f89=((_0x47ac6f=(_0x51c6ac=this['registry'])==null?void(0x1a78*-0x1+-0x869+-0x1*-0x22e1):_0x51c6ac['_loader'])==null?void(-0x1f51*0x1+-0x3*0xb19+0x409c):_0x47ac6f['_app'])||sn(),_0x583795=_0x292f89==null?void(0xcfe*0x1+0x205a+0xb56*-0x4):_0x292f89['graphicsDe'+'vice'];if(_0x583795)for(let _0x10caa4=0x21f9+0x1ad3+-0x2*0x1e66,_0x360fb8=$_['length'];_0x10caa4<_0x360fb8;_0x10caa4++){const _0x2daa58=$_[_0x10caa4];if(_0x511aa0['variants'][_0x2daa58]&&_0x583795[eP[_0x2daa58]]){_0x511aa0=_0x511aa0['variants'][_0x2daa58];break;}if(_0x292f89['enableBund'+'les']){const _0x43d667=_0x292f89['bundles']['listBundle'+'sForAsset'](this);if(_0x43d667&&_0x43d667['find'](_0x215878=>{var _0x425d61;return(_0x425d61=_0x215878==null?void(0x178f+0x1607+0x6*-0x799):_0x215878['file'])==null?void(-0xcfb*-0x3+-0x1*0x22e4+-0x40d):_0x425d61['variants'][_0x2daa58];}))break;}}}const _0x41997a=this['_file'],_0x3312c3=_0x511aa0?new Q1(_0x511aa0['url'],_0x511aa0['filename'],_0x511aa0['hash'],_0x511aa0['size'],_0x511aa0['opt'],_0x511aa0['contents']):null;(!!_0x3312c3!=!!_0x41997a||_0x3312c3&&!_0x3312c3['equals'](_0x41997a))&&(this['_file']=_0x3312c3,this['fire']('change',this,'file',_0x3312c3,_0x41997a),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x1f4eec){const _0x2d70cb=this['_data'];this['_data']=_0x1f4eec,_0x1f4eec!==_0x2d70cb&&(this['fire']('change',this,'data',_0x1f4eec,_0x2d70cb),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x3cbc5d){const _0x501ae4=this['_resources'][-0x3+0xae2+-0xadf];this['_resources'][0x41*0x53+-0x1d0d+0x7fa]=_0x3cbc5d,this['fire']('change',this,'resource',_0x3cbc5d,_0x501ae4);}get['resource'](){return this['_resources'][0x4d*0x4f+-0x24a+-0x1*0x1579];}set['resources'](_0x54ea92){const _0x16e2d5=this['_resources'];this['_resources']=_0x54ea92,this['fire']('change',this,'resources',_0x54ea92,_0x16e2d5);}get['resources'](){return this['_resources'];}set['preload'](_0x1e29de){_0x1e29de=!!_0x1e29de,this['_preload']!==_0x1e29de&&(this['_preload']=_0x1e29de,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x2672e4){_0x2672e4=!!_0x2672e4,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x2672e4!==this['_loadFaces'])&&(this['_loadFaces']=_0x2672e4,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x4397ad=this['file'];if(!_0x4397ad||!_0x4397ad['url'])return null;let _0x52c0d1=_0x4397ad['url'];if(this['registry']&&this['registry']['prefix']&&!ka['test'](_0x52c0d1)&&(_0x52c0d1=this['registry']['prefix']+_0x52c0d1),this['type']!=='script'&&_0x4397ad['hash']){const _0x5f55ad=_0x52c0d1['indexOf']('?')!==-(-0x1b5*-0x12+-0x1*-0x1e93+0x4*-0xf53)?'&':'?';_0x52c0d1+=_0x5f55ad+'t='+_0x4397ad['hash'];}return _0x52c0d1;}['getAbsolut'+'eUrl'](_0x9d6c7c){if(_0x9d6c7c['startsWith']('blob:')||_0x9d6c7c['startsWith']('data:'))return _0x9d6c7c;const _0x168c47=me['getDirecto'+'ry'](this['file']['url']);return me['join'](_0x168c47,_0x9d6c7c);}['getLocaliz'+'edAssetId'](_0x419827){return _0x419827=G0(_0x419827,this['_i18n']),this['_i18n'][_0x419827]||null;}['addLocaliz'+'edAssetId'](_0x5b99e8,_0x263b11){this['_i18n'][_0x5b99e8]=_0x263b11,this['fire']('add:locali'+'zed',_0x5b99e8,_0x263b11);}['removeLoca'+'lizedAsset'+'Id'](_0x6654e6){const _0x1d379b=this['_i18n'][_0x6654e6];_0x1d379b&&(delete this['_i18n'][_0x6654e6],this['fire']('remove:loc'+'alized',_0x6654e6,_0x1d379b));}['ready'](_0x431716,_0x575dba){_0x575dba=_0x575dba||this,this['loaded']?_0x431716['call'](_0x575dba,this):this['once']('load',_0x3f1321=>{_0x431716['call'](_0x575dba,_0x3f1321);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1efc+0x22fe+-0x41f9),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===0x12cc*-0x2+0x23e6+0xd9*0x2)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x5c55d8=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(0x166c+-0xbbe+-0x1*0xaad),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x40d03b=0x24b4+-0xb*-0x22a+0x60d*-0xa;_0x40d03b<_0x5c55d8['length'];++_0x40d03b){const _0x1eb92e=_0x5c55d8[_0x40d03b];_0x1eb92e&&_0x1eb92e['destroy']&&_0x1eb92e['destroy']();}}static['fetchArray'+'Buffer'](_0x1f5409,_0x2ad43b,_0x290490,_0x2dc9d4=0x1ece+0x2237+-0x4105){var _0x2eff39;(_0x2eff39=_0x290490==null?void(0x17f2+0x2162*-0x1+0x970):_0x290490['file'])!=null&&_0x2eff39['contents']?setTimeout(()=>{_0x2ad43b(null,_0x290490['file']['contents']);}):Ye['get'](_0x1f5409,{'cache':!(-0x1eb1+-0x16*0x137+-0x396b*-0x1),'responseType':'arraybuffe'+'r','retry':_0x2dc9d4>-0x1f94+0x1a+0x9e*0x33,'maxRetries':_0x2dc9d4},_0x2ad43b);}}c(he,'EVENT_LOAD','load'),c(he,'EVENT_UNLO'+'AD','unload'),c(he,'EVENT_REMO'+'VE','remove'),c(he,'EVENT_ERRO'+'R','error'),c(he,'EVENT_CHAN'+'GE','change'),c(he,'EVENT_PROG'+'RESS','progress'),c(he,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(he,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class tP{constructor(_0xdfb76f=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0xdfb76f;}['addItem'](_0x49aa71){const _0x1b4780=_0x49aa71['tags']['_list'];for(const _0x54450b of _0x1b4780)this['add'](_0x54450b,_0x49aa71);}['removeItem'](_0x2506cc){const _0x2ac4bc=_0x2506cc['tags']['_list'];for(const _0x8d8a71 of _0x2ac4bc)this['remove'](_0x8d8a71,_0x2506cc);}['add'](_0x79ea8d,_0x34606b){this['_index'][_0x79ea8d]&&this['_index'][_0x79ea8d]['list']['indexOf'](_0x34606b)!==-(-0x2443+-0xabf+0x2f03)||(this['_index'][_0x79ea8d]||(this['_index'][_0x79ea8d]={'list':[]},this['_key']&&(this['_index'][_0x79ea8d]['keys']={})),this['_index'][_0x79ea8d]['list']['push'](_0x34606b),this['_key']&&(this['_index'][_0x79ea8d]['keys'][_0x34606b[this['_key']]]=_0x34606b));}['remove'](_0x2c8c84,_0x2f05d3){if(!this['_index'][_0x2c8c84]||this['_key']&&!this['_index'][_0x2c8c84]['keys'][_0x2f05d3[this['_key']]])return;const _0x150b41=this['_index'][_0x2c8c84]['list']['indexOf'](_0x2f05d3);_0x150b41!==-(0x19bc+-0x67*-0x29+-0x151d*0x2)&&(this['_index'][_0x2c8c84]['list']['splice'](_0x150b41,0x1*0x1e23+-0x2b*0xce+-0x8f*-0x8),this['_key']&&delete this['_index'][_0x2c8c84]['keys'][_0x2f05d3[this['_key']]],this['_index'][_0x2c8c84]['list']['length']===-0x10c9+0x5e4+0xae5&&delete this['_index'][_0x2c8c84]);}['find'](_0x238f17){const _0xee8f15={},_0x5216ae=[];let _0x206319,_0x27c96e,_0x48c61b,_0x4df290,_0xcbdb3c;const _0x53e146=(_0x7dd380,_0x15597e)=>this['_index'][_0x7dd380]['list']['length']-this['_index'][_0x15597e]['list']['length'];for(let _0x5977b4=0x523*-0x5+0x711+-0x94f*-0x2;_0x5977b4<_0x238f17['length'];_0x5977b4++){if(_0x27c96e=_0x238f17[_0x5977b4],_0x27c96e instanceof Array){if(_0x27c96e['length']===-0x19d6+0x1ed7+0x7*-0xb7)continue;if(_0x27c96e['length']===0x64*0x31+0x7ae+-0x55d*0x5)_0x27c96e=_0x27c96e[-0x2fd+-0x7c*-0x29+0x1*-0x10df];else{_0xcbdb3c=!(-0x8d7*-0x2+-0x249e+-0x1*-0x12f1);for(let _0x348993=-0x2*-0xd85+-0xea0+-0xc6a;_0x348993<_0x27c96e['length'];_0x348993++)if(!this['_index'][_0x27c96e[_0x348993]]){_0xcbdb3c=!(-0x414*-0x1+0xe9*0x2+-0x5e6);break;}if(_0xcbdb3c)continue;_0x48c61b=_0x27c96e['slice'](-0xd*0xc+-0x455*0x8+0x2344)['sort'](_0x53e146),_0x4df290=_0x48c61b['slice'](0x1d7a+-0x1*-0x17c9+-0x22*0x191),_0x4df290['length']===-0x3*-0x7f3+0x1521+-0x2cf9&&(_0x4df290=_0x4df290[0x13f4+-0x4*-0x38b+-0x2220]);for(let _0x15b1d4=0x1*0xf01+-0x7*0x3a0+0xa5f;_0x15b1d4<this['_index'][_0x48c61b[-0x1b12+0x1666+0x4*0x12b]]['list']['length'];_0x15b1d4++)_0x206319=this['_index'][_0x48c61b[0x5da+0x4b*0x81+-0x2ba5]]['list'][_0x15b1d4],(this['_key']?!_0xee8f15[_0x206319[this['_key']]]:_0x5216ae['indexOf'](_0x206319)===-(-0x3a*0x1f+-0x2308+-0x1*-0x2a0f))&&_0x206319['tags']['has'](_0x4df290)&&(this['_key']&&(_0xee8f15[_0x206319[this['_key']]]=!(0x79b+-0x927+0x18c)),_0x5216ae['push'](_0x206319));continue;}}if(_0x27c96e&&typeof _0x27c96e=='string'&&this['_index'][_0x27c96e]){for(let _0x2c1eb3=-0x1239+0x6f1*0x3+-0x29a;_0x2c1eb3<this['_index'][_0x27c96e]['list']['length'];_0x2c1eb3++)_0x206319=this['_index'][_0x27c96e]['list'][_0x2c1eb3],this['_key']?_0xee8f15[_0x206319[this['_key']]]||(_0xee8f15[_0x206319[this['_key']]]=!(-0xc39+0x14c*-0x1d+0x31d5),_0x5216ae['push'](_0x206319)):_0x5216ae['indexOf'](_0x206319)===-(0x210d*-0x1+-0x14e3+0x3*0x11fb)&&_0x5216ae['push'](_0x206319);}}return _0x5216ae;}}class co extends de{constructor(_0x5aab3a){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new tP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x5aab3a;}['list'](_0x2de7f8={}){const _0x95623e=Array['from'](this['_assets']);return _0x2de7f8['preload']!==void(0x15*0x5e+0x1*-0x7b5+-0x1)?_0x95623e['filter'](_0x1f188f=>_0x1f188f['preload']===_0x2de7f8['preload']):_0x95623e;}['add'](_0xc29b1c){var _0x48a7a0,_0x1b3b6;this['_assets']['has'](_0xc29b1c)||(this['_assets']['add'](_0xc29b1c),this['_idToAsset']['set'](_0xc29b1c['id'],_0xc29b1c),(_0x48a7a0=_0xc29b1c['file'])!=null&&_0x48a7a0['url']&&this['_urlToAsse'+'t']['set'](_0xc29b1c['file']['url'],_0xc29b1c),this['_nameToAss'+'et']['has'](_0xc29b1c['name'])||this['_nameToAss'+'et']['set'](_0xc29b1c['name'],new Set()),this['_nameToAss'+'et']['get'](_0xc29b1c['name'])['add'](_0xc29b1c),_0xc29b1c['on']('name',this['_onNameCha'+'nge'],this),_0xc29b1c['registry']=this,this['_tags']['addItem'](_0xc29b1c),_0xc29b1c['tags']['on']('add',this['_onTagAdd'],this),_0xc29b1c['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0xc29b1c),this['fire']('add:'+_0xc29b1c['id'],_0xc29b1c),(_0x1b3b6=_0xc29b1c['file'])!=null&&_0x1b3b6['url']&&this['fire']('add:url:'+_0xc29b1c['file']['url'],_0xc29b1c),_0xc29b1c['preload']&&this['load'](_0xc29b1c));}['remove'](_0x5d5eb2){var _0x207d90,_0x2b19c3;if(!this['_assets']['has'](_0x5d5eb2))return!(0x2d2+0x4f5+0x18e*-0x5);if(this['_assets']['delete'](_0x5d5eb2),this['_idToAsset']['delete'](_0x5d5eb2['id']),(_0x207d90=_0x5d5eb2['file'])!=null&&_0x207d90['url']&&this['_urlToAsse'+'t']['delete'](_0x5d5eb2['file']['url']),_0x5d5eb2['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x5d5eb2['name'])){const _0x1d8355=this['_nameToAss'+'et']['get'](_0x5d5eb2['name']);_0x1d8355['delete'](_0x5d5eb2),_0x1d8355['size']===-0x1e6b+-0x257f+0x43ea&&this['_nameToAss'+'et']['delete'](_0x5d5eb2['name']);}return this['_tags']['removeItem'](_0x5d5eb2),_0x5d5eb2['tags']['off']('add',this['_onTagAdd'],this),_0x5d5eb2['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x5d5eb2['fire']('remove',_0x5d5eb2),this['fire']('remove',_0x5d5eb2),this['fire']('remove:'+_0x5d5eb2['id'],_0x5d5eb2),(_0x2b19c3=_0x5d5eb2['file'])!=null&&_0x2b19c3['url']&&this['fire']('remove:url'+':'+_0x5d5eb2['file']['url'],_0x5d5eb2),!(-0x729+0x2069+-0x1940);}['get'](_0x141a23){return this['_idToAsset']['get'](Number(_0x141a23));}['getByUrl'](_0x464a9f){return this['_urlToAsse'+'t']['get'](_0x464a9f);}['load'](_0x47b344,_0x55402e){if((_0x47b344['loading']||_0x47b344['loaded'])&&!(_0x55402e!=null&&_0x55402e['force']))return;const _0x1077d7=_0x47b344['file'],_0x511ed0=()=>{this['fire']('load',_0x47b344),this['fire']('load:'+_0x47b344['id'],_0x47b344),_0x1077d7&&_0x1077d7['url']&&this['fire']('load:url:'+_0x1077d7['url'],_0x47b344),_0x47b344['fire']('load',_0x47b344);},_0x399e0e=_0x329497=>{if(_0x329497 instanceof Array?_0x47b344['resources']=_0x329497:_0x47b344['resource']=_0x329497,this['_loader']['patch'](_0x47b344,this),_0x47b344['type']==='bundle'){const _0x1c1fd8=_0x47b344['data']['assets'];for(let _0x14fadd=-0x8b9*-0x4+-0x1*-0x2681+-0x4965;_0x14fadd<_0x1c1fd8['length'];_0x14fadd++){const _0x58f8fc=this['_idToAsset']['get'](_0x1c1fd8[_0x14fadd]);_0x58f8fc&&!_0x58f8fc['loaded']&&this['load'](_0x58f8fc,{'force':!(0x1203+0x97a+-0x1b7d)});}_0x47b344['resource']['loaded']?_0x511ed0():(this['fire']('load:start',_0x47b344),this['fire']('load:start'+':'+_0x47b344['id'],_0x47b344),_0x1077d7&&_0x1077d7['url']&&this['fire']('load:start'+':url:'+_0x1077d7['url'],_0x47b344),_0x47b344['fire']('load:start',_0x47b344),_0x47b344['resource']['on']('load',_0x511ed0));}else _0x511ed0();},_0xd523c9=(_0x560ffd,_0xda19e0,_0x2f1aef)=>{if(_0x47b344['loaded']=!(-0x9e2+-0x9fe+-0x35*-0x60),_0x47b344['loading']=!(-0x966*0x1+-0x71a+0x34d*0x5),_0x560ffd)this['fire']('error',_0x560ffd,_0x47b344),this['fire']('error:'+_0x47b344['id'],_0x560ffd,_0x47b344),_0x47b344['fire']('error',_0x560ffd,_0x47b344);else{if(_0x47b344['type']==='script'){const _0x4c9769=this['_loader']['getHandler']('script');_0x4c9769['_cache'][_0x47b344['id']]&&_0x4c9769['_cache'][_0x47b344['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x4c9769['_cache'][_0x47b344['id']]),_0x4c9769['_cache'][_0x47b344['id']]=_0x2f1aef;}_0x399e0e(_0xda19e0);}};if(_0x1077d7||_0x47b344['type']==='cubemap'){this['fire']('load:start',_0x47b344),this['fire']('load:'+_0x47b344['id']+':start',_0x47b344),_0x47b344['loading']=!(0x1123*-0x1+-0x7*0x4db+0x3320);const _0x4da2f5=_0x47b344['getFileUrl']();if(_0x47b344['type']==='bundle'){const _0x4e5525=_0x47b344['data']['assets'];for(let _0x31f9db=-0x237e+-0x1*0x2699+0x4a17;_0x31f9db<_0x4e5525['length'];_0x31f9db++){const _0x31fbde=this['_idToAsset']['get'](_0x4e5525[_0x31f9db]);_0x31fbde&&(_0x31fbde['loaded']||_0x31fbde['resource']||_0x31fbde['loading']||(_0x31fbde['loading']=!(-0x10d*-0x1+0x236*-0x6+0xc37*0x1)));}}this['_loader']['load'](_0x4da2f5,_0x47b344['type'],_0xd523c9,_0x47b344,_0x55402e);}else{const _0x38e6b2=this['_loader']['open'](_0x47b344['type'],_0x47b344['data']);_0x47b344['loaded']=!(0xac9+-0x4*0x2de+0xaf),_0x399e0e(_0x38e6b2);}}['loadFromUr'+'l'](_0x5efa22,_0x332cf7,_0x4013f1){this['loadFromUr'+'lAndFilena'+'me'](_0x5efa22,null,_0x332cf7,_0x4013f1);}['loadFromUr'+'lAndFilena'+'me'](_0xfbbcb1,_0x3c6741,_0x41d628,_0x2b8ab2){const _0x18c038=me['getBasenam'+'e'](_0x3c6741||_0xfbbcb1),_0x49c104={'filename':_0x3c6741||_0x18c038,'url':_0xfbbcb1};let _0x419737=this['getByUrl'](_0xfbbcb1);if(!_0x419737)_0x419737=new he(_0x18c038,_0x41d628,_0x49c104),this['add'](_0x419737);else{if(_0x419737['loaded']){_0x2b8ab2(_0x419737['loadFromUr'+'lError']||null,_0x419737);return;}}const _0x151fb8=_0xdad653=>{_0xdad653['once']('load',_0x40c8a4=>{_0x41d628==='material'?this['_loadTextu'+'res'](_0x40c8a4,(_0x18342d,_0x1a62c5)=>{_0x2b8ab2(_0x18342d,_0x40c8a4);}):_0x2b8ab2(null,_0x40c8a4);}),_0xdad653['once']('error',_0x4feb64=>{_0x4feb64&&(this['loadFromUr'+'lError']=_0x4feb64),_0x2b8ab2(_0x4feb64,_0xdad653);}),this['load'](_0xdad653);};_0x419737['resource']?_0x2b8ab2(null,_0x419737):_0x41d628==='model'?this['_loadModel'](_0x419737,_0x151fb8):_0x151fb8(_0x419737);}['_loadModel'](_0x2e2fff,_0xdde38){const _0x5b5720=_0x2e2fff['getFileUrl'](),_0x31281b=me['getExtensi'+'on'](_0x5b5720);if(_0x31281b==='.json'||_0x31281b==='.glb'){const _0x458048=me['getDirecto'+'ry'](_0x5b5720),_0x244383=me['getBasenam'+'e'](_0x5b5720),_0x2fa405=me['join'](_0x458048,_0x244383['replace'](_0x31281b,'.mapping.j'+'son'));this['_loader']['load'](_0x2fa405,'json',(_0x27cf72,_0x1ea495)=>{_0x27cf72?(_0x2e2fff['data']={'mapping':[]},_0xdde38(_0x2e2fff)):this['_loadMater'+'ials'](_0x2e2fff,_0x1ea495,(_0x2fd478,_0x269e07)=>{_0x2e2fff['data']=_0x1ea495,_0xdde38(_0x2e2fff);});});}else _0xdde38(_0x2e2fff);}['_loadMater'+'ials'](_0x16610e,_0x885d9,_0x3ca350){const _0x208c4c=[];let _0x449f9a=0x21d7+0x1*-0x167b+-0xb5c;const _0xa74fa3=(_0x21213a,_0x58ad1f)=>{this['_loadTextu'+'res'](_0x58ad1f,(_0x1e005,_0x46da1e)=>{_0x208c4c['push'](_0x58ad1f),_0x208c4c['length']===_0x449f9a&&_0x3ca350(null,_0x208c4c);});};for(let _0x3cfe8a=0x4*0x6a1+-0x5ed*-0x1+-0x2071;_0x3cfe8a<_0x885d9['mapping']['length'];_0x3cfe8a++){const _0x3e0678=_0x885d9['mapping'][_0x3cfe8a]['path'];if(_0x3e0678){_0x449f9a++;const _0x485a27=_0x16610e['getAbsolut'+'eUrl'](_0x3e0678);this['loadFromUr'+'l'](_0x485a27,'material',_0xa74fa3);}}_0x449f9a===0x3ad*0x9+-0x2f*0x4e+-0x12c3&&_0x3ca350(null,_0x208c4c);}['_loadTextu'+'res'](_0x19411b,_0x5485af){const _0x1f7050=[];let _0x202d79=0x1025+-0x1*0x21bd+0x233*0x8;const _0x4ff57d=_0x19411b['data'];if(_0x4ff57d['mappingFor'+'mat']!=='path'){b['warn']('Skipping:\x20'+_0x19411b['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x5485af(null,_0x1f7050);return;}const _0x44dc03=(_0x3a3059,_0x3af9ea)=>{_0x3a3059&&console['error'](_0x3a3059),_0x1f7050['push'](_0x3af9ea),_0x1f7050['length']===_0x202d79&&_0x5485af(null,_0x1f7050);},_0x519fba=ed;for(let _0x5ea097=0x899+-0x3*0x4ff+0x664;_0x5ea097<_0x519fba['length'];_0x5ea097++){const _0x1444bc=_0x4ff57d[_0x519fba[_0x5ea097]];if(_0x1444bc&&typeof _0x1444bc=='string'){_0x202d79++;const _0x4c8437=_0x19411b['getAbsolut'+'eUrl'](_0x1444bc);this['loadFromUr'+'l'](_0x4c8437,'texture',_0x44dc03);}}_0x202d79===0xc0c+-0x249c+0x1890&&_0x5485af(null,_0x1f7050);}['_onTagAdd'](_0x4a7b06,_0x4d542a){this['_tags']['add'](_0x4a7b06,_0x4d542a);}['_onTagRemo'+'ve'](_0x1bfef1,_0x124ba5){this['_tags']['remove'](_0x1bfef1,_0x124ba5);}['_onNameCha'+'nge'](_0x5a32bb,_0x321ab7,_0x2bc3fe){if(this['_nameToAss'+'et']['has'](_0x2bc3fe)){const _0x59c470=this['_nameToAss'+'et']['get'](_0x2bc3fe);_0x59c470['delete'](_0x5a32bb),_0x59c470['size']===-0x2501+-0x3*0x3ed+0x30c8&&this['_nameToAss'+'et']['delete'](_0x2bc3fe);}this['_nameToAss'+'et']['has'](_0x5a32bb['name'])||this['_nameToAss'+'et']['set'](_0x5a32bb['name'],new Set()),this['_nameToAss'+'et']['get'](_0x5a32bb['name'])['add'](_0x5a32bb);}['findByTag'](..._0x48a71e){return this['_tags']['find'](_0x48a71e);}['filter'](_0x4cd2bb){return Array['from'](this['_assets'])['filter'](_0x5ae9e4=>_0x4cd2bb(_0x5ae9e4));}['find'](_0x5f2b0c,_0x444ada){const _0x18c7d3=this['_nameToAss'+'et']['get'](_0x5f2b0c);if(!_0x18c7d3)return null;for(const _0x12fd47 of _0x18c7d3)if(!_0x444ada||_0x12fd47['type']===_0x444ada)return _0x12fd47;return null;}['findAll'](_0xd380c5,_0x350863){const _0x22a69b=this['_nameToAss'+'et']['get'](_0xd380c5);if(!_0x22a69b)return[];const _0x221980=Array['from'](_0x22a69b);return _0x350863?_0x221980['filter'](_0x2b58e8=>_0x2b58e8['type']===_0x350863):_0x221980;}}c(co,'EVENT_LOAD','load'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove'),c(co,'EVENT_ERRO'+'R','error');class sP{constructor(_0x452ce8){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x452ce8,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x344f2a){if(_0x344f2a['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x344f2a['id'],_0x344f2a),this['_assets']['on']('load:start'+':'+_0x344f2a['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x344f2a['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x344f2a['id'],this['_onBundleE'+'rror'],this);const _0x1c0378=_0x344f2a['data']['assets'];for(let _0xaec76e=0x21bb+-0x1*-0x1647+-0x3802;_0xaec76e<_0x1c0378['length'];_0xaec76e++)this['_indexAsse'+'tInBundle'](_0x1c0378[_0xaec76e],_0x344f2a);}else this['_assetToBu'+'ndles']['has'](_0x344f2a['id'])&&this['_indexAsse'+'tFileUrls'](_0x344f2a);}['_unbindAss'+'etEvents'](_0x28342b){this['_assets']['off']('load:start'+':'+_0x28342b,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x28342b,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x28342b,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x1203ee,_0x569364){let _0x155443=this['_assetToBu'+'ndles']['get'](_0x1203ee);_0x155443||(_0x155443=new Set(),this['_assetToBu'+'ndles']['set'](_0x1203ee,_0x155443)),_0x155443['add'](_0x569364);const _0x4e7518=this['_assets']['get'](_0x1203ee);_0x4e7518&&this['_indexAsse'+'tFileUrls'](_0x4e7518);}['_indexAsse'+'tFileUrls'](_0x59f12a){const _0x392159=this['_getAssetF'+'ileUrls'](_0x59f12a);if(_0x392159)for(let _0x269ebe=0x362*-0x2+-0x26f1+0x2db5;_0x269ebe<_0x392159['length'];_0x269ebe++){const _0x53a256=this['_assetToBu'+'ndles']['get'](_0x59f12a['id']);_0x53a256&&this['_urlsToBun'+'dles']['set'](_0x392159[_0x269ebe],_0x53a256);}}['_getAssetF'+'ileUrls'](_0x4226e0){let _0x5ae81a=_0x4226e0['getFileUrl']();if(!_0x5ae81a)return null;_0x5ae81a=_0x5ae81a['split']('?')[0x1105+0x143e*-0x1+0x37*0xf];const _0x43be1e=[_0x5ae81a];if(_0x4226e0['type']==='font'){const _0x5d991f=_0x4226e0['data']['info']['maps']['length'];for(let _0x41a3d0=-0x1d8b*0x1+0xd*-0x139+0x1*0x2d71;_0x41a3d0<_0x5d991f;_0x41a3d0++)_0x43be1e['push'](_0x5ae81a['replace']('.png',_0x41a3d0+'.png'));}return _0x43be1e;}['_onAssetRe'+'move'](_0x252111){if(_0x252111['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x252111['id']),this['_unbindAss'+'etEvents'](_0x252111['id']);const _0x422979=_0x252111['data']['assets'];for(let _0x4e754=-0x1*-0x137+0x5b*0x5+-0x2fe;_0x4e754<_0x422979['length'];_0x4e754++){const _0x289e45=this['_assetToBu'+'ndles']['get'](_0x422979[_0x4e754]);if(_0x289e45&&(_0x289e45['delete'](_0x252111),_0x289e45['size']===0x171f+0x1af8+-0x3217*0x1)){this['_assetToBu'+'ndles']['delete'](_0x422979[_0x4e754]);for(const [_0x3c3c95,_0xede5b2]of this['_urlsToBun'+'dles'])_0xede5b2===_0x289e45&&this['_urlsToBun'+'dles']['delete'](_0x3c3c95);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x252111['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x252111['id']))return;this['_assetToBu'+'ndles']['delete'](_0x252111['id']);const _0x3e41d4=this['_getAssetF'+'ileUrls'](_0x252111);if(!_0x3e41d4)return;for(let _0x345971=0x47a+0x8d*0x13+0xff*-0xf;_0x345971<_0x3e41d4['length'];_0x345971++)this['_urlsToBun'+'dles']['delete'](_0x3e41d4[_0x345971]);}}['_onBundleL'+'oadStart'](_0x24c1ff){_0x24c1ff['resource']['on']('add',(_0x4f18f4,_0x34b83f)=>{const _0x415081=this['_fileReque'+'sts']['get'](_0x4f18f4);if(_0x415081){for(let _0x83fbf2=0x1bf+0x1107*-0x2+-0x204f*-0x1;_0x83fbf2<_0x415081['length'];_0x83fbf2++)_0x415081[_0x83fbf2](null,_0x34b83f);this['_fileReque'+'sts']['delete'](_0x4f18f4);}});}['_onBundleL'+'oad'](_0x435fd7){if(!_0x435fd7['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x435fd7['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x103826,_0xaa2c4c]of this['_fileReque'+'sts']){const _0x32416d=this['_urlsToBun'+'dles']['get'](_0x103826);if(!_0x32416d||!_0x32416d['has'](_0x435fd7))continue;const _0x3306b8=decodeURIComponent(_0x103826);let _0x29bab5,_0x2e8ba6;if(_0x435fd7['resource']['has'](_0x3306b8))_0x2e8ba6=_0x435fd7['resource']['get'](_0x3306b8);else{if(_0x435fd7['resource']['loaded'])_0x29bab5='Bundle\x20'+_0x435fd7['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x103826;else continue;}for(let _0x51208c=-0xa3c+0x1954+-0x8*0x1e3;_0x51208c<_0xaa2c4c['length'];_0x51208c++)_0xaa2c4c[_0x51208c](_0x29bab5,_0x29bab5||_0x2e8ba6);this['_fileReque'+'sts']['delete'](_0x103826);}}['_onBundleE'+'rror'](_0x2204d1){for(const [_0x2e407c,_0x1e7ecf]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x2e407c)){for(let _0xfbda14=-0x15ba+-0x166b+-0x2c25*-0x1;_0xfbda14<_0x1e7ecf['length'];_0xfbda14++)_0x1e7ecf[_0xfbda14](_0x2204d1);this['_fileReque'+'sts']['delete'](_0x2e407c);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x804264){const _0x155020=this['_urlsToBun'+'dles']['get'](_0x804264);if(!_0x155020)return null;let _0x24dfe3=null;for(const _0xf0074e of _0x155020){if(_0xf0074e['loaded']&&_0xf0074e['resource'])return _0xf0074e;_0xf0074e['loading']&&(_0x24dfe3=_0xf0074e);}return _0x24dfe3;}['listBundle'+'sForAsset'](_0x5c7b46){const _0xcf4246=this['_assetToBu'+'ndles']['get'](_0x5c7b46['id']);return _0xcf4246?Array['from'](_0xcf4246):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x5d9e36){return this['_urlsToBun'+'dles']['has'](_0x5d9e36);}['urlIsLoade'+'dOrLoading'](_0x524412){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x524412);}['loadUrl'](_0x1efd50,_0x2c41c8){const _0x5216e8=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1efd50);if(!_0x5216e8){_0x2c41c8('URL\x20'+_0x1efd50+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x5216e8['loaded']){const _0x17cfbf=decodeURIComponent(_0x1efd50);if(_0x5216e8['resource']['has'](_0x17cfbf)){_0x2c41c8(null,_0x5216e8['resource']['get'](_0x17cfbf));return;}else{if(_0x5216e8['resource']['loaded']){_0x2c41c8('Bundle\x20'+_0x5216e8['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x1efd50);return;}}}let _0x2c2336=this['_fileReque'+'sts']['get'](_0x1efd50);_0x2c2336||(_0x2c2336=[],this['_fileReque'+'sts']['set'](_0x1efd50,_0x2c2336)),_0x2c2336['push'](_0x2c41c8);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x49c01a of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x49c01a);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class iP extends de{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x23ab55){const _0x3b356e=_0x23ab55['id'];if(this[_0x3b356e])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x3b356e+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x3b356e]=_0x23ab55,this['list']['push'](_0x23ab55);}['remove'](_0x1d511c){const _0x40a30d=_0x1d511c['id'];if(!this[_0x40a30d])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x40a30d+('\x27\x20register'+'ed'));delete this[_0x40a30d];const _0x1548ac=this['list']['indexOf'](this[_0x40a30d]);_0x1548ac!==-(0x151b+0xa36+-0x1f50)&&this['list']['splice'](_0x1548ac,-0x4fd+-0x59*-0x61+-0x1cbb);}['destroy'](){this['off']();for(let _0x94bc7=-0x52f*0x5+-0x15b4+-0x2f9f*-0x1;_0x94bc7<this['list']['length'];_0x94bc7++)this['list'][_0x94bc7]['destroy']();}}class Zu extends de{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(-0x10ba+0x686+-0xc9*-0xd));}['addFile'](_0x433e2a,_0x16c447){this['_index']['has'](_0x433e2a)||(this['_index']['set'](_0x433e2a,_0x16c447),this['fire']('add',_0x433e2a,_0x16c447));}['has'](_0x354283){return this['_index']['has'](_0x354283);}['get'](_0x13cccf){return this['_index']['get'](_0x13cccf)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x5190f0){!_0x5190f0||this['_loaded']||(this['_loaded']=!(-0x249b*-0x1+-0x1562+-0x1*0xf39),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Zu,'EVENT_ADD','add'),c(Zu,'EVENT_LOAD','load');class rP extends de{constructor(_0x514990,_0xb2e279=''){super(),c(this,'headerSize',0x222a+0x269f*0x1+0x1*-0x46c9),c(this,'paddingSiz'+'e',-0x285+0x1583+0x3a*-0x4b),c(this,'bytesRead',-0x1*-0x1c67+0x1*-0x663+-0x1604),c(this,'bytesRecei'+'ved',-0x34b*-0x2+-0x469*-0x4+-0x7*0x376),c(this,'headerRead',!(0x1*-0xa3f+0x185d+0x1*-0xe1d)),c(this,'reader',null),c(this,'data',new Uint8Array(-0x1a5*0x16+0x6a*0x3b+0xbc0)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x11a1+-0x2248+-0x1*-0x10a7),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0xb2e279||'',this['reader']=_0x514990['body']['getReader'](),this['reader']['read']()['then'](_0x48fdab=>{this['pump'](_0x48fdab['done'],_0x48fdab['value']);})['catch'](_0x4fbaae=>{this['fire']('error',_0x4fbaae);}));}['pump'](_0x106e5e,_0x416c01){if(_0x106e5e)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x416c01['byteLength'];const _0x641dd2=new Uint8Array(this['data']['length']+_0x416c01['length']);for(_0x641dd2['set'](this['data']),_0x641dd2['set'](_0x416c01,this['data']['length']),this['data']=_0x641dd2;this['readFile'](););return this['reader']['read']()['then'](_0x1eeea8=>{this['pump'](_0x1eeea8['done'],_0x1eeea8['value']);})['catch'](_0x3b70cc=>{this['fire']('error',_0x3b70cc);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x2458*-0x1+0xb78+-0x2fd0);const _0x375110=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x5d3010=this['decoder']['decode'](_0x375110);if(this['fileName']=_0x5d3010['substring'](-0xf78+0x2*-0x102b+0x2fce,-0x1018+0x4f9+-0xb83*-0x1)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x5d3010['substring'](0xe1e+0x600+-0xe*0x167,-0x1ab4*0x1+0x2*-0xb9a+0x868*0x6),0x139f*0x1+0x20b0+-0x3447),this['fileType']=_0x5d3010['substring'](0x443+0x1c1e+0x3*-0xa97,-0x1*0x168d+-0x10d8+0x1401*0x2),this['ustarForma'+'t']=_0x5d3010['substring'](-0x20b5*0x1+0x1*-0x19c1+0x3b77,-0x140a+-0x7*0x2ad+-0x351*-0xc),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x22f5+0x1d8+0x14*-0x1d7)){const _0x5d8809=_0x5d3010['substring'](0x1*-0x812+-0x4c3+0xe2e,0x419+0x2427+-0x3*0xcc4)['replace'](/\0/g,'');_0x5d8809['length']>-0x1*0x192e+-0x61*-0x67+-0xdd9&&(this['fileName']=_0x5d8809['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x170f+-0x19b4+0x4a5;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0xaaf+0x1d73+-0x2821);if(this['fileType']===''||this['fileType']==='0'){const _0x3d9ed2=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x1018de={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x3d9ed2};this['fire']('file',_0x1018de);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0x1d13+-0x3d3*0x6+0x2*0x1a03);const _0x287ebb=this['bytesRead']%this['paddingSiz'+'e'];return _0x287ebb!==-0x210f+-0x4*-0x6da+-0x5a7*-0x1&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x287ebb),!(0x1cd+0x1b7c+-0x1d49);}return!(0x12d0+0x1328+-0x25f7);}}class Ge{constructor(_0x48abd2,_0x67c01e){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x11bd*0x1+0xdaa+-0x1f67),(this['_app']=_0x48abd2,this['handlerTyp'+'e']=_0x67c01e);}set['maxRetries'](_0x3175a0){this['_maxRetrie'+'s']=_0x3175a0;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0xae6c42,_0x315309,_0x1e17cc){}['open'](_0x59a384,_0x3b9bdd,_0x47fb86){return _0x3b9bdd;}['patch'](_0x3b74bb,_0x11355a){}}class nP extends Ge{constructor(_0x412f73){super(_0x412f73,'bundle'),this['_assets']=_0x412f73['assets'];}['_fetchRetr'+'ies'](_0x8426e7,_0x3c7d39,_0x5a1f9b=0x8b*0x35+0x9d*0x2+0x1e01*-0x1){return new Promise((_0x21f529,_0x25c395)=>{const _0x1bc3f2=()=>{fetch(_0x8426e7,_0x3c7d39)['then'](_0x21f529)['catch'](_0x18b53e=>{_0x5a1f9b++,_0x5a1f9b<this['maxRetries']?(b['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x5a1f9b),_0x1bc3f2()):_0x25c395(_0x18b53e);});};_0x1bc3f2();});}['load'](_0x523304,_0x10fab1){typeof _0x523304=='string'&&(_0x523304={'load':_0x523304,'original':_0x523304}),this['_fetchRetr'+'ies'](_0x523304['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x257ca1=>{const _0x2a5a14=new Zu();_0x10fab1(null,_0x2a5a14);const _0x1220f4=new rP(_0x257ca1,this['_assets']['prefix']);_0x1220f4['on']('file',_0x3587de=>{_0x2a5a14['addFile'](_0x3587de['name'],_0x3587de['data']);}),_0x1220f4['on']('done',()=>{_0x2a5a14['loaded']=!(-0x1*0x63d+0x21b*0x1+0x422);}),_0x1220f4['on']('error',_0x17767f=>{b['error'](_0x17767f),_0x10fab1(_0x17767f);});})['catch'](_0x39a1c3=>{b['error'](_0x39a1c3),_0x10fab1(_0x39a1c3);});}['open'](_0x2e1254,_0x1f2d3d){return _0x1f2d3d;}}class _a{constructor(_0x2dfbbb){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x2dfbbb;}['addHandler'](_0x3e9f15,_0x2ed64d){this['_handlers'][_0x3e9f15]=_0x2ed64d,_0x2ed64d['_loader']=this;}['removeHand'+'ler'](_0x515f3d){delete this['_handlers'][_0x515f3d];}['getHandler'](_0x590fc6){return this['_handlers'][_0x590fc6];}static['makeKey'](_0x3e56a1,_0x312ca3){return _0x3e56a1+'-'+_0x312ca3;}['load'](_0x483569,_0x48d68a,_0x4e1373,_0x283ea1,_0x171538){var _0x14395f;const _0x44254a=this['_handlers'][_0x48d68a];if(!_0x44254a){const _0x3e81b9='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x48d68a+('\x27\x20when\x20loa'+'ding\x20[')+_0x483569+']';b['errorOnce'](_0x3e81b9),_0x4e1373(_0x3e81b9);return;}if(!_0x483569){this['_loadNull'](_0x44254a,_0x4e1373,_0x283ea1);return;}const _0x3c3ab6=_a['makeKey'](_0x483569,_0x48d68a);if(this['_cache'][_0x3c3ab6]!==void(-0x10ee+0x2428*-0x1+-0x5a*-0x97))_0x4e1373(null,this['_cache'][_0x3c3ab6]);else{if(this['_requests'][_0x3c3ab6])this['_requests'][_0x3c3ab6]['push'](_0x4e1373);else{this['_requests'][_0x3c3ab6]=[_0x4e1373];const _0x1c2b8e=this,_0x204ce3=function(_0x53fb99,_0x21edb4){if(_0x53fb99){_0x1c2b8e['_onFailure'](_0x3c3ab6,_0x53fb99);return;}if(_0x21edb4['load']instanceof DataView){if(_0x44254a['openBinary']){if(!_0x1c2b8e['_requests'][_0x3c3ab6])return;try{const _0x34d5f4=_0x44254a['openBinary'](_0x21edb4['load']);_0x1c2b8e['_onSuccess'](_0x3c3ab6,_0x34d5f4);}catch(_0x233d4c){_0x1c2b8e['_onFailure'](_0x3c3ab6,_0x233d4c);}return;}_0x21edb4['load']=URL['createObje'+'ctURL'](new Blob([_0x21edb4['load']])),_0x283ea1&&(_0x283ea1['urlObject']&&URL['revokeObje'+'ctURL'](_0x283ea1['urlObject']),_0x283ea1['urlObject']=_0x21edb4['load']);}_0x44254a['load'](_0x21edb4,(_0x20f97b,_0x5671ff,_0x259729)=>{if(_0x1c2b8e['_requests'][_0x3c3ab6]){if(_0x20f97b){_0x1c2b8e['_onFailure'](_0x3c3ab6,_0x20f97b);return;}try{_0x1c2b8e['_onSuccess'](_0x3c3ab6,_0x44254a['open'](_0x21edb4['original'],_0x5671ff,_0x283ea1),_0x259729);}catch(_0x3b1e76){_0x1c2b8e['_onFailure'](_0x3c3ab6,_0x3b1e76);}}},_0x283ea1);},_0x42e7cc=_0x483569['split']('?')[0x6f*0x16+0x29f*0x5+-0x20f*0xb];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x42e7cc)&&!(_0x171538&&_0x171538['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x42e7cc)){const _0xab29f6=this['_app']['bundles']['listBundle'+'sForAsset'](_0x283ea1);let _0x1a6232;_0x171538&&_0x171538['bundlesFil'+'ter']&&(_0x1a6232=_0x171538['bundlesFil'+'ter'](_0xab29f6)),_0x1a6232||(_0xab29f6==null||_0xab29f6['sort']((_0x1a8276,_0x2b48a7)=>_0x1a8276['file']['size']-_0x2b48a7['file']['size']),_0x1a6232=_0xab29f6==null?void(0x16*0x187+0x345+-0x24df*0x1):_0xab29f6[0x23f0+-0xe*0x121+-0x35b*0x6]),_0x1a6232&&((_0x14395f=this['_app']['assets'])==null||_0x14395f['load'](_0x1a6232));}this['_app']['bundles']['loadUrl'](_0x42e7cc,(_0x72b4ee,_0x302de1)=>{_0x204ce3(_0x72b4ee,{'load':_0x302de1,'original':_0x42e7cc});});}else _0x204ce3(null,{'load':_0x483569,'original':_0x283ea1&&_0x283ea1['file']['filename']||_0x483569});}}}['_loadNull'](_0x58a855,_0x45733e,_0x32b47a){const _0x4c6259=function(_0x32ef4f,_0x3cfc93,_0x59756b){if(_0x32ef4f)_0x45733e(_0x32ef4f);else try{_0x45733e(null,_0x58a855['open'](null,_0x3cfc93,_0x32b47a),_0x59756b);}catch(_0x42403b){_0x45733e(_0x42403b);}};_0x58a855['load'](null,_0x4c6259,_0x32b47a);}['_onSuccess'](_0xa8a913,_0x28b24f,_0x5bd659){_0x28b24f!==null?this['_cache'][_0xa8a913]=_0x28b24f:delete this['_cache'][_0xa8a913];for(let _0x6009f0=-0x1b42+0x2307+-0xdd*0x9;_0x6009f0<this['_requests'][_0xa8a913]['length'];_0x6009f0++)this['_requests'][_0xa8a913][_0x6009f0](null,_0x28b24f,_0x5bd659);delete this['_requests'][_0xa8a913];}['_onFailure'](_0x520a47,_0x421929){if(console['error'](_0x421929),this['_requests'][_0x520a47]){for(let _0x36cfe9=0x13*-0xfb+-0x195c+-0x1*-0x2bfd;_0x36cfe9<this['_requests'][_0x520a47]['length'];_0x36cfe9++)this['_requests'][_0x520a47][_0x36cfe9](_0x421929);delete this['_requests'][_0x520a47];}}['open'](_0x574fa4,_0x48fd31){const _0x35086c=this['_handlers'][_0x574fa4];return _0x35086c?_0x35086c['open'](null,_0x48fd31):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x574fa4),_0x48fd31);}['patch'](_0x415ece,_0x479306){const _0x2529f0=this['_handlers'][_0x415ece['type']];if(!_0x2529f0){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x415ece['type']);return;}_0x2529f0['patch']&&_0x2529f0['patch'](_0x415ece,_0x479306);}['clearCache'](_0x4670d5,_0x1bcb49){const _0x820c70=_a['makeKey'](_0x4670d5,_0x1bcb49);delete this['_cache'][_0x820c70];}['getFromCac'+'he'](_0x2b3bea,_0x3ee138){const _0x39b31b=_a['makeKey'](_0x2b3bea,_0x3ee138);if(this['_cache'][_0x39b31b])return this['_cache'][_0x39b31b];}['enableRetr'+'y'](_0x1a5432=-0xe4b*0x1+-0xccd+0x277*0xb){_0x1a5432=Math['max'](-0xc2e+0x1b2*0x9+-0x314,_0x1a5432)||0x162e+-0x12ef+-0x33f;for(const _0x58eabf in this['_handlers'])this['_handlers'][_0x58eabf]['maxRetries']=_0x1a5432;}['disableRet'+'ry'](){for(const _0x1b91e4 in this['_handlers'])this['_handlers'][_0x1b91e4]['maxRetries']=-0xd*0x67+-0x109f+0x15da;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class aP{['_validate'](_0x85d060){if(!_0x85d060['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x85d060['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x85d060['header']['version']!==-0x8*0xa7+-0xb*0x376+0x2b4b)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x85d060['data']){if(!Array['isArray'](_0x85d060['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x3b77fd=-0x5*0x165+-0x1e06+0x24ff,_0x1dcae0=_0x85d060['data']['length'];_0x3b77fd<_0x1dcae0;_0x3b77fd++){const _0x49c747=_0x85d060['data'][_0x3b77fd];if(!_0x49c747['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3b77fd+('].info\x22\x20fi'+'eld'));if(!_0x49c747['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3b77fd+('].info.loc'+'ale\x22\x20field'));if(typeof _0x49c747['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x3b77fd+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x49c747['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x3b77fd+('].messages'+'\x22\x20field'));}}['parse'](_0x53783a){return this['_validate'](_0x53783a),_0x53783a['data'];}}class oP extends de{constructor(_0x210e12){super(),this['locale']=Yh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x210e12,this['_assets']=[],this['_parser']=new aP();}set['assets'](_0x2700bd){const _0x10a463={};for(let _0x5c0f47=0x1fd1+-0xc17*-0x2+-0x131*0x2f,_0x6f6f42=_0x2700bd['length'];_0x5c0f47<_0x6f6f42;_0x5c0f47++){const _0x16e796=_0x2700bd[_0x5c0f47]instanceof he?_0x2700bd[_0x5c0f47]['id']:_0x2700bd[_0x5c0f47];_0x10a463[_0x16e796]=!(-0xa44+0x1249+-0x805);}let _0x198f7e=this['_assets']['length'];for(;_0x198f7e--;){const _0x5c56a8=this['_assets'][_0x198f7e];if(!_0x10a463[_0x5c56a8]){this['_app']['assets']['off']('add:'+_0x5c56a8,this['_onAssetAd'+'d'],this);const _0x234788=this['_app']['assets']['get'](_0x5c56a8);_0x234788&&this['_onAssetRe'+'move'](_0x234788),this['_assets']['splice'](_0x198f7e,0x2233+0x18d5+-0x3b07);}}for(const _0x1c2498 in _0x10a463){const _0x3e7546=parseInt(_0x1c2498,0x228+-0x112c+0x5e*0x29);if(this['_assets']['indexOf'](_0x3e7546)!==-(-0x1c34+-0x113a+0x2d6f))continue;this['_assets']['push'](_0x3e7546);const _0x4d4370=this['_app']['assets']['get'](_0x3e7546);_0x4d4370?this['_onAssetAd'+'d'](_0x4d4370):this['_app']['assets']['once']('add:'+_0x3e7546,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x1ad285){if(this['_locale']===_0x1ad285)return;let _0x37d0ba=xi(_0x1ad285);if(_0x37d0ba==='in'&&(_0x37d0ba='id',_0x1ad285=K1(_0x1ad285,_0x37d0ba),this['_locale']===_0x1ad285))return;const _0x495d66=this['_locale'];this['_locale']=_0x1ad285,this['_lang']=_0x37d0ba,this['_pluralFn']=Zd(this['_lang']),this['fire']('set:locale',_0x1ad285,_0x495d66);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x267359,_0x39bc64){return G0(_0x267359,_0x39bc64);}['findAvaila'+'bleLocale'](_0x5736e6){if(this['_translati'+'ons'][_0x5736e6])return _0x5736e6;const _0x28f10b=xi(_0x5736e6);return this['_findFallb'+'ackLocale'](_0x5736e6,_0x28f10b);}['getText'](_0x5161a0,_0x414ce9){let _0x21b34b=_0x5161a0,_0x2937b9;_0x414ce9||(_0x414ce9=this['_locale'],_0x2937b9=this['_lang']);let _0x371b0e=this['_translati'+'ons'][_0x414ce9];return _0x371b0e||(_0x2937b9||(_0x2937b9=xi(_0x414ce9)),_0x414ce9=this['_findFallb'+'ackLocale'](_0x414ce9,_0x2937b9),_0x371b0e=this['_translati'+'ons'][_0x414ce9]),_0x371b0e&&_0x371b0e['hasOwnProp'+'erty'](_0x5161a0)&&(_0x21b34b=_0x371b0e[_0x5161a0],Array['isArray'](_0x21b34b)&&(_0x21b34b=_0x21b34b[-0x1543+-0x484+-0x1*-0x19c7]),_0x21b34b==null&&(_0x21b34b=_0x5161a0)),_0x21b34b;}['getPluralT'+'ext'](_0x447939,_0x3a14f8,_0x13f14c){let _0x408311=_0x447939,_0x31c3c7,_0x2d01cd;_0x13f14c?(_0x31c3c7=xi(_0x13f14c),_0x2d01cd=Zd(_0x31c3c7)):(_0x13f14c=this['_locale'],_0x31c3c7=this['_lang'],_0x2d01cd=this['_pluralFn']);let _0x520d5e=this['_translati'+'ons'][_0x13f14c];if(_0x520d5e||(_0x13f14c=this['_findFallb'+'ackLocale'](_0x13f14c,_0x31c3c7),_0x31c3c7=xi(_0x13f14c),_0x2d01cd=Zd(_0x31c3c7),_0x520d5e=this['_translati'+'ons'][_0x13f14c]),_0x520d5e&&_0x520d5e[_0x447939]&&_0x2d01cd){const _0x3dfd25=_0x2d01cd(_0x3a14f8);_0x408311=_0x520d5e[_0x447939][_0x3dfd25],_0x408311==null&&(_0x408311=_0x447939);}return _0x408311;}['addData'](_0x138927){let _0x313598;try{_0x313598=this['_parser']['parse'](_0x138927);}catch(_0x403ddb){console['error'](_0x403ddb);return;}for(let _0xa3829=0x1341+0x1*-0x1639+0x2f8,_0x50fb3d=_0x313598['length'];_0xa3829<_0x50fb3d;_0xa3829++){const _0xc85ce1=_0x313598[_0xa3829],_0xb84f54=_0xc85ce1['info']['locale'],_0x1b4af7=_0xc85ce1['messages'];if(!this['_translati'+'ons'][_0xb84f54]){this['_translati'+'ons'][_0xb84f54]={};const _0x40597e=xi(_0xb84f54);this['_available'+'Langs'][_0x40597e]||(this['_available'+'Langs'][_0x40597e]=_0xb84f54);}Object['assign'](this['_translati'+'ons'][_0xb84f54],_0x1b4af7),this['fire']('data:add',_0xb84f54,_0x1b4af7);}}['removeData'](_0x4370b5){let _0x4222b5;try{_0x4222b5=this['_parser']['parse'](_0x4370b5);}catch(_0x104c90){console['error'](_0x104c90);return;}for(let _0x3014c1=-0xb21+-0x1d53+-0xa1d*-0x4,_0x1dcee4=_0x4222b5['length'];_0x3014c1<_0x1dcee4;_0x3014c1++){const _0x193585=_0x4222b5[_0x3014c1],_0x55e63b=_0x193585['info']['locale'],_0x324799=this['_translati'+'ons'][_0x55e63b];if(!_0x324799)continue;const _0xac27f0=_0x193585['messages'];for(const _0xbf8c0d in _0xac27f0)delete _0x324799[_0xbf8c0d];Object['keys'](_0x324799)['length']===0x1b0b+0x27f+-0x1d8a&&(delete this['_translati'+'ons'][_0x55e63b],delete this['_available'+'Langs'][xi(_0x55e63b)]),this['fire']('data:remov'+'e',_0x55e63b,_0xac27f0);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x2161e1,_0x2c2fdc){let _0xecec4a=Kh[_0x2161e1];return _0xecec4a&&this['_translati'+'ons'][_0xecec4a]||(_0xecec4a=Kh[_0x2c2fdc],_0xecec4a&&this['_translati'+'ons'][_0xecec4a])||(_0xecec4a=this['_available'+'Langs'][_0x2c2fdc],_0xecec4a&&this['_translati'+'ons'][_0xecec4a])?_0xecec4a:Yh;}['_onAssetAd'+'d'](_0x42892e){_0x42892e['on']('load',this['_onAssetLo'+'ad'],this),_0x42892e['on']('change',this['_onAssetCh'+'ange'],this),_0x42892e['on']('remove',this['_onAssetRe'+'move'],this),_0x42892e['on']('unload',this['_onAssetUn'+'load'],this),_0x42892e['resource']&&this['_onAssetLo'+'ad'](_0x42892e);}['_onAssetLo'+'ad'](_0x3280a4){this['addData'](_0x3280a4['resource']);}['_onAssetCh'+'ange'](_0x2c3aef){_0x2c3aef['resource']&&this['addData'](_0x2c3aef['resource']);}['_onAssetRe'+'move'](_0xc826bf){_0xc826bf['off']('load',this['_onAssetLo'+'ad'],this),_0xc826bf['off']('change',this['_onAssetCh'+'ange'],this),_0xc826bf['off']('remove',this['_onAssetRe'+'move'],this),_0xc826bf['off']('unload',this['_onAssetUn'+'load'],this),_0xc826bf['resource']&&this['removeData'](_0xc826bf['resource']),this['_app']['assets']['once']('add:'+_0xc826bf['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x4fe819){_0x4fe819['resource']&&this['removeData'](_0x4fe819['resource']);}}class lP extends de{constructor(_0x301329){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x301329;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0xf7cec4,_0x5d8b9e){_0x5d8b9e&&this['_scriptSch'+'emas']['set'](_0xf7cec4,_0x5d8b9e);}['getSchema'](_0x2d57f0){return this['_scriptSch'+'emas']['get'](_0x2d57f0);}['add'](_0x2eb9ef){const _0x55f65f=_0x2eb9ef['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x55f65f)?(setTimeout(()=>{if(_0x2eb9ef['prototype']['swap']){const _0x475332=this['_scripts'][_0x55f65f],_0x42d969=this['_list']['indexOf'](_0x475332);this['_list'][_0x42d969]=_0x2eb9ef,this['_scripts'][_0x55f65f]=_0x2eb9ef,this['fire']('swap',_0x55f65f,_0x2eb9ef),this['fire']('swap:'+_0x55f65f,_0x2eb9ef);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x55f65f+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x1da9+0x21e*0xa+0x43f*0x2)):(this['_scripts'][_0x55f65f]=_0x2eb9ef,this['_list']['push'](_0x2eb9ef),this['fire']('add',_0x55f65f,_0x2eb9ef),this['fire']('add:'+_0x55f65f,_0x2eb9ef),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x55f65f)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x441646=this['app']['systems']['script']['_component'+'s'];let _0x4d010d;const _0x24edd7=[],_0x31bda9=[];for(_0x441646['loopIndex']=0x1*-0x96e+-0x202a+0x2998;_0x441646['loopIndex']<_0x441646['length'];_0x441646['loopIndex']++){const _0xc2d3bc=_0x441646['items'][_0x441646['loopIndex']];if(_0xc2d3bc['_scriptsIn'+'dex'][_0x55f65f]&&_0xc2d3bc['_scriptsIn'+'dex'][_0x55f65f]['awaiting']){_0xc2d3bc['_scriptsDa'+'ta']&&_0xc2d3bc['_scriptsDa'+'ta'][_0x55f65f]&&(_0x4d010d=_0xc2d3bc['_scriptsDa'+'ta'][_0x55f65f]['attributes']);const _0x2bc78d=_0xc2d3bc['create'](_0x55f65f,{'preloading':!(0x1d7*-0x5+0xf3d+-0x60a),'ind':_0xc2d3bc['_scriptsIn'+'dex'][_0x55f65f]['ind'],'attributes':_0x4d010d});_0x2bc78d&&_0x24edd7['push'](_0x2bc78d);for(const _0xef4f4d of _0xc2d3bc['scripts'])_0xc2d3bc['initialize'+'Attributes'](_0xef4f4d);}}for(let _0x4276f9=0x182*0x7+0x331+-0x9*0x187;_0x4276f9<_0x24edd7['length'];_0x4276f9++)_0x24edd7[_0x4276f9]['enabled']&&(_0x24edd7[_0x4276f9]['_initializ'+'ed']=!(-0x156f+-0x170*0x8+0x1*0x20ef),_0x31bda9['push'](_0x24edd7[_0x4276f9]),_0x24edd7[_0x4276f9]['initialize']&&_0x24edd7[_0x4276f9]['initialize']());for(let _0x9247f8=-0xabe+0x2*-0xadb+0x2074*0x1;_0x9247f8<_0x31bda9['length'];_0x9247f8++)!_0x31bda9[_0x9247f8]['enabled']||_0x31bda9[_0x9247f8]['_postIniti'+'alized']||(_0x31bda9[_0x9247f8]['_postIniti'+'alized']=!(-0x3*0x65+0xdd2*-0x1+-0xf01*-0x1),_0x31bda9[_0x9247f8]['postInitia'+'lize']&&_0x31bda9[_0x9247f8]['postInitia'+'lize']());}),!(-0x277*-0x6+-0x1*0x1f39+0x1*0x106f));}['remove'](_0x4b7255){let _0x351f51=_0x4b7255,_0x40cd49=_0x4b7255;if(typeof _0x40cd49!='string'?_0x40cd49=_0x351f51['__name']:_0x351f51=this['get'](_0x40cd49),this['get'](_0x40cd49)!==_0x351f51)return!(-0x16a7*-0x1+-0x919+0xd8d*-0x1);delete this['_scripts'][_0x40cd49];const _0x13613c=this['_list']['indexOf'](_0x351f51);return this['_list']['splice'](_0x13613c,0x691+-0xb*0x257+0x132d),this['fire']('remove',_0x40cd49,_0x351f51),this['fire']('remove:'+_0x40cd49,_0x351f51),!(-0x1*0x1237+-0x2*0x7e5+0x2201);}['get'](_0x1d7b9a){return this['_scripts'][_0x1d7b9a]||null;}['has'](_0x12ed5c){if(typeof _0x12ed5c=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x12ed5c);if(!_0x12ed5c)return!(0x33*0xb4+0x2547+-0x32e*0x17);const _0x36c328=_0x12ed5c['__name'];return this['_scripts'][_0x36c328]===_0x12ed5c;}['list'](){return this['_list'];}}const hP=(_0x22c06e,_0x410c4f)=>_0x22c06e['constructo'+'r']['order']-_0x410c4f['constructo'+'r']['order'],cP=_0x24e41e=>_0x24e41e['sort'](hP),to=[],H0=[],dP=()=>H0['pop']()??[],q_=_0x19e61d=>{_0x19e61d['length']=-0x105+0x2f9*-0xc+0x24b1*0x1,H0['push'](_0x19e61d);},dc=class dc extends Oe{constructor(_0x4dea9b,_0xdc43af=sn()){super(_0x4dea9b),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(0xce4+0x4f7+-0x392*0x5)),c(this,'_guid',null),c(this,'_template',!(-0x20d6+0xe7a*0x1+0x125d*0x1)),(b['assert'](_0xdc43af,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0xdc43af);}['addCompone'+'nt'](_0x33e1c4,_0x467f92){const _0x3015bd=this['_app']['systems'][_0x33e1c4];return _0x3015bd?this['c'][_0x33e1c4]?(b['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x33e1c4+('\x27\x20componen'+'t')),null):_0x3015bd['addCompone'+'nt'](this,_0x467f92):(b['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x33e1c4+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x2fc6fd){const _0x293b45=this['_app']['systems'][_0x2fc6fd];if(!_0x293b45){b['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x2fc6fd+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x2fc6fd]){b['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x2fc6fd+('\x27\x20componen'+'t'));return;}_0x293b45['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x18626f){const _0x5b891d=this['findOne'](_0x487be9=>{var _0x16b4de;return(_0x16b4de=_0x487be9['c'])==null?void(-0x4aa+0x3*0x755+-0x1155):_0x16b4de[_0x18626f];});return _0x5b891d&&_0x5b891d['c'][_0x18626f];}['findCompon'+'ents'](_0x3abf20){return this['find'](_0x381baf=>{var _0xfec0ee;return(_0xfec0ee=_0x381baf['c'])==null?void(-0x223f+0xff2+0x124d):_0xfec0ee[_0x3abf20];})['map'](_0x3acf53=>_0x3acf53['c'][_0x3abf20]);}['findScript'](_0x4904d8){const _0x4ec801=this['findOne'](_0x4c0f6f=>{var _0x1ffd10,_0x11b30f;return(_0x11b30f=(_0x1ffd10=_0x4c0f6f['c'])==null?void(-0x25e9+0xb70+0x1a79):_0x1ffd10['script'])==null?void(0x3d+0x4*0x221+-0x8c1):_0x11b30f['has'](_0x4904d8);});return _0x4ec801==null?void(-0x609*-0x1+-0xd*0x16a+0xc59):_0x4ec801['c']['script']['get'](_0x4904d8);}['findScript'+'s'](_0x46e519){return this['find'](_0x53f7d6=>{var _0x4d5d23,_0x15dc6b;return(_0x15dc6b=(_0x4d5d23=_0x53f7d6['c'])==null?void(0x160f+0x217f+-0xd*0x446):_0x4d5d23['script'])==null?void(-0x97c+-0x26c2+0x303e):_0x15dc6b['has'](_0x46e519);})['map'](_0x4f441f=>_0x4f441f['c']['script']['get'](_0x46e519));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x2d7bfa){const _0x371483=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x371483[this['_guid']],this['_guid']=_0x2d7bfa,_0x371483[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x3eaa2d,_0x18b8eb){let _0x335e0c=!(0x1f2a+-0x1c99*-0x1+-0x3bc2);_0x3eaa2d===this&&to['length']===-0x1*-0x2396+0x1*-0x638+-0x1d5e&&(_0x335e0c=!(0x41b+0x283*0x1+-0x69e)),_0x3eaa2d['_beingEnab'+'led']=!(0x1a52+0xc0*-0x7+-0x1512),_0x3eaa2d['_onHierarc'+'hyStateCha'+'nged'](_0x18b8eb),_0x3eaa2d['_onHierarc'+'hyStatePos'+'tChanged']&&to['push'](_0x3eaa2d);const _0x291ce4=_0x3eaa2d['_children'];for(let _0x539b8d=-0x5de+-0x259d+-0x1*-0x2b7b,_0x33a60c=_0x291ce4['length'];_0x539b8d<_0x33a60c;_0x539b8d++)_0x291ce4[_0x539b8d]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x291ce4[_0x539b8d],_0x18b8eb);if(_0x3eaa2d['_beingEnab'+'led']=!(0x1eb7+-0x18e*-0x12+-0x3ab2),_0x335e0c){for(let _0x5f1a68=0x879+-0x24c6+0x1c4d;_0x5f1a68<to['length'];_0x5f1a68++)to[_0x5f1a68]['_onHierarc'+'hyStatePos'+'tChanged']();to['length']=-0x1*0x8bf+0x1*0xaf1+-0x232;}}['_onHierarc'+'hyStateCha'+'nged'](_0x190df9){super['_onHierarc'+'hyStateCha'+'nged'](_0x190df9);const _0x423c2f=this['_getSorted'+'Components']();for(let _0x4e801d=0x992+-0x1d37+-0x1*-0x13a5;_0x4e801d<_0x423c2f['length'];_0x4e801d++){const _0x41cac7=_0x423c2f[_0x4e801d];_0x41cac7['enabled']&&(_0x190df9?_0x41cac7['onEnable']():_0x41cac7['onDisable']());}q_(_0x423c2f);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x1be650=this['_getSorted'+'Components']();for(let _0xb81e25=0x95d+-0x22e0+0x1*0x1983;_0xb81e25<_0x1be650['length'];_0xb81e25++)_0x1be650[_0xb81e25]['onPostStat'+'eChange']();q_(_0x1be650);}['findByGuid'](_0x206e58){if(this['_guid']===_0x206e58)return this;const _0x4e9e3e=this['_app']['_entityInd'+'ex'][_0x206e58];return _0x4e9e3e&&(_0x4e9e3e===this||_0x4e9e3e['isDescenda'+'ntOf'](this))?_0x4e9e3e:null;}['destroy'](){this['_destroyin'+'g']=!(0x2414+0x1097+-0x34ab);for(const _0x39fc0c in this['c'])this['c'][_0x39fc0c]['enabled']=!(0x32*0x9e+0x1*-0x196b+-0x570);for(const _0x225d44 in this['c'])this['c'][_0x225d44]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x3*-0x8e2+-0x136e*-0x1+-0x2e13);}['clone'](){const _0x16bf71={},_0x3fa41e=this['_cloneRecu'+'rsively'](_0x16bf71);return _0x16bf71[this['getGuid']()]=_0x3fa41e,W0(this,this,_0x3fa41e,_0x16bf71),_0x3fa41e;}['_getSorted'+'Components'](){const _0x277c0a=this['c'],_0x23e91f=dP();let _0x439408=0x1319*-0x1+-0x19c*0xd+0x2805;for(const _0x524f59 in _0x277c0a)if(_0x277c0a['hasOwnProp'+'erty'](_0x524f59)){const _0x906f90=_0x277c0a[_0x524f59];_0x439408|=_0x906f90['constructo'+'r']['order']!==-0x53*0x13+-0xf48+0x1571,_0x23e91f['push'](_0x906f90);}return _0x439408&&_0x23e91f['length']>0x808+-0x1a8f+0x1288&&cP(_0x23e91f),_0x23e91f;}['_cloneRecu'+'rsively'](_0x17ff6b){const _0x2a98df=new this['constructo'+'r'](void(0x1f67+-0x1c4b+0x4*-0xc7),this['_app']);super['_cloneInte'+'rnal'](_0x2a98df);for(const _0xd8fb in this['c'])this['c'][_0xd8fb]['system']['cloneCompo'+'nent'](this,_0x2a98df);for(let _0x457a88=-0x94b+-0x112f+0x1a7a;_0x457a88<this['_children']['length'];_0x457a88++){const _0x1b4072=this['_children'][_0x457a88];if(_0x1b4072 instanceof dc){const _0x5173a5=_0x1b4072['_cloneRecu'+'rsively'](_0x17ff6b);_0x2a98df['addChild'](_0x5173a5),_0x17ff6b[_0x1b4072['getGuid']()]=_0x5173a5;}}return _0x2a98df;}};c(dc,'EVENT_DEST'+'ROY','destroy');let je=dc;function W0(_0x1b37a1,_0x4e8eee,_0x34f987,_0x2adb83){if(_0x4e8eee instanceof je){const _0x4670c0=_0x4e8eee['c'];for(const _0x5cd703 in _0x4670c0){const _0x363af2=_0x4670c0[_0x5cd703],_0x4a179f=_0x363af2['system']['getPropert'+'iesOfType']('entity');for(let _0x3bcb0d=-0x23a6+-0x342+0x26e8,_0x15c81b=_0x4a179f['length'];_0x3bcb0d<_0x15c81b;_0x3bcb0d++){const _0x4181f5=_0x4a179f[_0x3bcb0d]['name'],_0x3be034=_0x363af2[_0x4181f5];if(!!_0x1b37a1['findByGuid'](_0x3be034)){const _0x5ed5c5=_0x2adb83[_0x3be034]['getGuid']();_0x5ed5c5?_0x34f987['c'][_0x5cd703][_0x4181f5]=_0x5ed5c5:b['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x4670c0['script']&&_0x34f987['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4670c0['script'],_0x2adb83),_0x4670c0['render']&&_0x34f987['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4670c0['render'],_0x2adb83),_0x4670c0['button']&&_0x34f987['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4670c0['button'],_0x2adb83),_0x4670c0['scrollview']&&_0x34f987['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4670c0['scrollview'],_0x2adb83),_0x4670c0['scrollbar']&&_0x34f987['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4670c0['scrollbar'],_0x2adb83),_0x4670c0['anim']&&_0x34f987['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4670c0['anim'],_0x2adb83);const _0x4d0f65=_0x4e8eee['children']['filter'](_0x420af8=>_0x420af8 instanceof je),_0x3b752c=_0x34f987['children']['filter'](_0x51bffa=>_0x51bffa instanceof je);for(let _0x101205=-0x2b*0xc9+0xe*0x161+0xe75,_0x17a22c=_0x4d0f65['length'];_0x101205<_0x17a22c;_0x101205++)W0(_0x1b37a1,_0x4d0f65[_0x101205],_0x3b752c[_0x101205],_0x2adb83);}}class X_{constructor(_0x21eebc,_0x4830ee){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(0x2072*-0x1+0xe2d+0x1246)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x21eebc,this['url']=_0x4830ee);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class uP{constructor(_0x51b3e7){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x51b3e7;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x7c1046,_0x2a390b){if(this['_index']['hasOwnProp'+'erty'](_0x7c1046))return b['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x7c1046),!(-0xf83+0x6da*-0x1+0x165e);const _0x2e27cf=new X_(_0x7c1046,_0x2a390b),_0x5f280e=this['_list']['push'](_0x2e27cf);return this['_index'][_0x2e27cf['name']]=_0x5f280e-(0xe2*-0x5+0x1777*0x1+0x2*-0x986),this['_urlIndex'][_0x2e27cf['url']]=_0x5f280e-(0x7bb+0x2592+-0x1*0x2d4c),!(0x3*-0xa0f+-0x220a*0x1+-0x1*-0x4037);}['find'](_0x5e093b){return this['_index']['hasOwnProp'+'erty'](_0x5e093b)?this['_list'][this['_index'][_0x5e093b]]:null;}['findByUrl'](_0x13e005){return this['_urlIndex']['hasOwnProp'+'erty'](_0x13e005)?this['_list'][this['_urlIndex'][_0x13e005]]:null;}['remove'](_0x393ad7){if(this['_index']['hasOwnProp'+'erty'](_0x393ad7)){const _0x163e31=this['_index'][_0x393ad7];let _0x773719=this['_list'][_0x163e31];delete this['_urlIndex'][_0x773719['url']],delete this['_index'][_0x393ad7],this['_list']['splice'](_0x163e31,-0x4*0x8a4+-0xee1+0x18b9*0x2);for(let _0x49952e=-0x26bd*0x1+0x46f*0x1+0x224e;_0x49952e<this['_list']['length'];_0x49952e++)_0x773719=this['_list'][_0x49952e],this['_index'][_0x773719['name']]=_0x49952e,this['_urlIndex'][_0x773719['url']]=_0x49952e;}}['_loadScene'+'Data'](_0x3a933a,_0x5308ac,_0x9b358a){const _0x281998=this['_app'];let _0x8963c7=_0x3a933a;if(typeof _0x3a933a=='string'&&(_0x3a933a=this['findByUrl'](_0x8963c7)||this['find'](_0x8963c7)||new X_('Untitled',_0x8963c7)),_0x8963c7=_0x3a933a['url'],!_0x8963c7){_0x9b358a('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x3a933a['loaded']){_0x9b358a(null,_0x3a933a);return;}_0x281998['assets']&&_0x281998['assets']['prefix']&&!ka['test'](_0x8963c7)&&(_0x8963c7=me['join'](_0x281998['assets']['prefix'],_0x8963c7)),_0x3a933a['_onLoadedC'+'allbacks']['push'](_0x9b358a),_0x3a933a['_loading']||_0x281998['loader']['getHandler']('hierarchy')['load'](_0x8963c7,(_0x19b1c8,_0x1a0e87)=>{_0x3a933a['data']=_0x1a0e87,_0x3a933a['_loading']=!(0xbeb+-0x849*-0x1+-0x1433);for(let _0x245f6c=-0x220*-0x1+0x1aa8+-0x998*0x3;_0x245f6c<_0x3a933a['_onLoadedC'+'allbacks']['length'];_0x245f6c++)_0x3a933a['_onLoadedC'+'allbacks'][_0x245f6c](_0x19b1c8,_0x3a933a);_0x5308ac||(_0x3a933a['data']=null),_0x3a933a['_onLoadedC'+'allbacks']['length']=0xe39+0x18d2+-0x270b;}),_0x3a933a['_loading']=!(-0x19d6+0xfe5+0x5*0x1fd);}['loadSceneD'+'ata'](_0x42f029,_0x40f89e){this['_loadScene'+'Data'](_0x42f029,!(-0x2027+-0x19*0x15d+0x423c),_0x40f89e);}['unloadScen'+'eData'](_0x1c2cfc){typeof _0x1c2cfc=='string'&&(_0x1c2cfc=this['findByUrl'](_0x1c2cfc)),_0x1c2cfc&&(_0x1c2cfc['data']=null);}['_loadScene'+'Hierarchy'](_0x36a0b0,_0x1dbfd3,_0x54b67d){this['_loadScene'+'Data'](_0x36a0b0,!(-0x128*0x17+0x2510*0x1+-0x8d*0x13),(_0x2077c2,_0x339f99)=>{if(_0x2077c2){_0x54b67d&&_0x54b67d(_0x2077c2);return;}_0x1dbfd3&&_0x1dbfd3(_0x339f99);const _0x350d9e=this['_app'],_0x1280cd=()=>{const _0x3fde47=_0x350d9e['loader']['getHandler']('hierarchy');_0x350d9e['systems']['script']['preloading']=!(-0x20a9+-0xb0b+-0x4*-0xaed);const _0x42a8a7=_0x3fde47['open'](_0x339f99['url'],_0x339f99['data']);_0x350d9e['systems']['script']['preloading']=!(-0x19b3+-0x1*-0x225+0x178f),_0x350d9e['loader']['clearCache'](_0x339f99['url'],'hierarchy'),_0x350d9e['root']['addChild'](_0x42a8a7),_0x350d9e['systems']['fire']('initialize',_0x42a8a7),_0x350d9e['systems']['fire']('postInitia'+'lize',_0x42a8a7),_0x350d9e['systems']['fire']('postPostIn'+'itialize',_0x42a8a7),_0x54b67d&&_0x54b67d(null,_0x42a8a7);};_0x350d9e['_preloadSc'+'ripts'](_0x339f99['data'],_0x1280cd);});}['loadSceneH'+'ierarchy'](_0x3b3704,_0x4a9fae){this['_loadScene'+'Hierarchy'](_0x3b3704,null,_0x4a9fae);}['loadSceneS'+'ettings'](_0x447abe,_0x58a14e){this['_loadScene'+'Data'](_0x447abe,!(-0x12b7+-0x15ae+0x2866),(_0x3ed0ec,_0x669d13)=>{_0x3ed0ec?_0x58a14e&&_0x58a14e(_0x3ed0ec):(this['_app']['applyScene'+'Settings'](_0x669d13['data']['settings']),_0x58a14e&&_0x58a14e(null));});}['changeScen'+'e'](_0x4073a9,_0x148aa9){const _0xf8f1ef=this['_app'],_0x4c10ab=_0x490840=>{const {children:_0x444c04}=_0xf8f1ef['root'];for(;_0x444c04['length'];)_0x444c04[0x534+0x2d9+-0x80d]['destroy']();_0xf8f1ef['applyScene'+'Settings'](_0x490840['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x4073a9,_0x4c10ab,_0x148aa9);}['loadScene'](_0x550da5,_0x1c2eaa){const _0xd98286=this['_app'],_0x418c2d=_0xd98286['loader']['getHandler']('scene');_0xd98286['assets']&&_0xd98286['assets']['prefix']&&!ka['test'](_0x550da5)&&(_0x550da5=me['join'](_0xd98286['assets']['prefix'],_0x550da5)),_0x418c2d['load'](_0x550da5,(_0x4babf6,_0x51c01a)=>{if(_0x4babf6)_0x1c2eaa&&_0x1c2eaa(_0x4babf6);else{const _0x3f923e=()=>{_0xd98286['systems']['script']['preloading']=!(-0x2364+-0x7*0x7b+0x26c1);const _0xb9227f=_0x418c2d['open'](_0x550da5,_0x51c01a),_0xa634f9=this['findByUrl'](_0x550da5);_0xa634f9&&!_0xa634f9['loaded']&&(_0xa634f9['data']=_0x51c01a),_0xd98286['systems']['script']['preloading']=!(0x26d7+0x915+-0x2feb),_0xd98286['loader']['clearCache'](_0x550da5,'scene'),_0xd98286['loader']['patch']({'resource':_0xb9227f,'type':'scene'},_0xd98286['assets']),_0xd98286['root']['addChild'](_0xb9227f['root']),_0xd98286['systems']['rigidbody']&&typeof Ammo<'u'&&_0xd98286['systems']['rigidbody']['gravity']['set'](_0xb9227f['_gravity']['x'],_0xb9227f['_gravity']['y'],_0xb9227f['_gravity']['z']),_0x1c2eaa&&_0x1c2eaa(null,_0xb9227f);};_0xd98286['_preloadSc'+'ripts'](_0x51c01a,_0x3f923e);}});}}class fP{constructor(_0x56b346){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x56b346['_shaderSta'+'ts'],this['vram']=_0x56b346['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return sn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x48b5c0;return(_0x48b5c0=sn()['lightmappe'+'r'])==null?void(0x731+0xd51+-0x1482):_0x48b5c0['stats'];}get['batcher'](){const _0x328039=sn()['_batcher'];return _0x328039?_0x328039['_stats']:null;}}const Hr=class Hr extends de{constructor(_0x8f6683){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x2535+0x1f4f+0x5e7)),c(this,'_inFrameUp'+'date',!(0x2299+-0x17b7+-0xae1)),c(this,'_libraries'+'Loaded',!(-0x3*-0x9ca+-0x199d+-0x3c0)),c(this,'_fillMode',G_),c(this,'_resolutio'+'nMode',X1),c(this,'_allowResi'+'ze',!(0x6*0x4bb+-0x2662*0x1+0xa00)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(-0x36d+0x1ab0*-0x1+0x1e1e)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x1*0x2027+0xcd*-0x27+-0x2*0x76),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0x7*-0x414+-0x1bf8+0x15*-0x7),c(this,'maxDeltaTi'+'me',0xd07+-0x2*0xee1+0x10bb+0.1),c(this,'frame',0x1*0xb4a+-0x136e+-0x824*-0x1),c(this,'frameGraph',new j1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0xd5a+-0x1ef2*-0x1+0x466*-0x4)),c(this,'renderNext'+'Frame',!(-0x3*-0x5df+0x14b6+-0x5a*0x6d)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new _a(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new uP(this)),c(this,'scripts',new lP(this)),c(this,'systems',new iP()),c(this,'i18n',new oP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((ho==null?void(0xa00+0x6b*0x4+-0xbac):ho['indexOf']('$'))<0xd*-0x86+0x1b6c+-0x149e&&b['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+ho+'\x20'+iy),Hr['_applicati'+'ons'][_0x8f6683['id']]=this,Ku(this),this['root']=new je(),this['root']['_enabledIn'+'Hierarchy']=!(0x10c+-0x1b0+0x52*0x2));}['init'](_0x103c45){const {assetPrefix:_0x4579d9,batchManager:_0x27ab31,componentSystems:_0x8ab8c5,elementInput:_0x426e7e,gamepads:_0x3fb3fd,graphicsDevice:_0x2691b0,keyboard:_0x544fec,lightmapper:_0x5dd393,mouse:_0x548b3c,resourceHandlers:_0x7bceb1,scriptsOrder:_0x44b1d9,scriptPrefix:_0x5d0615,soundManager:_0x5959db,touch:_0x48711d,xr:_0x4cabfa}=_0x103c45;b['assert'](_0x2691b0,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x2691b0,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new fP(_0x2691b0),this['_soundMana'+'ger']=_0x5959db,this['scene']=new mi(_0x2691b0),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new co(this['loader']),_0x4579d9&&(this['assets']['prefix']=_0x4579d9),this['bundles']=new sP(this['assets']),this['scriptsOrd'+'er']=_0x44b1d9||[],this['defaultLay'+'erWorld']=new Fr({'name':'World','id':zi}),this['defaultLay'+'erDepth']=new Fr({'name':'Depth','id':es,'enabled':!(-0xa2d*0x3+0x49*0x47+0xa49),'opaqueSortMode':_h}),this['defaultLay'+'erSkybox']=new Fr({'name':'Skybox','id':Ap,'opaqueSortMode':_h}),this['defaultLay'+'erUi']=new Fr({'name':'UI','id':nl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Fr({'name':'Immediate','id':Ep,'opaqueSortMode':_h});const _0x16a55b=new v_('default');_0x16a55b['pushOpaque'](this['defaultLay'+'erWorld']),_0x16a55b['pushOpaque'](this['defaultLay'+'erDepth']),_0x16a55b['pushOpaque'](this['defaultLay'+'erSkybox']),_0x16a55b['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x16a55b['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x16a55b['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x16a55b['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x16a55b,qr['createPlac'+'eholder'](_0x2691b0),this['renderer']=new Xh(_0x2691b0),this['renderer']['scene']=this['scene'],_0x5dd393&&(this['lightmappe'+'r']=new _0x5dd393(_0x2691b0,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x27ab31&&(this['_batcher']=new _0x27ab31(_0x2691b0,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x544fec||null,this['mouse']=_0x548b3c||null,this['touch']=_0x48711d||null,this['gamepads']=_0x3fb3fd||null,_0x426e7e&&(this['elementInp'+'ut']=_0x426e7e,this['elementInp'+'ut']['app']=this),this['xr']=_0x4cabfa?new _0x4cabfa(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x5d0615||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new nP(this)),_0x7bceb1['forEach'](_0x5c313d=>{const _0x180609=new _0x5c313d(this);this['loader']['addHandler'](_0x180609['handlerTyp'+'e'],_0x180609);}),_0x8ab8c5['forEach'](_0x420ac5=>{this['systems']['add'](new _0x420ac5(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x3*-0x379+0x1b4c*0x1+0x25b7*-0x1)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x811+0x3ec+-0xbfc))):document['mozHidden']!==void(0x36d*0x3+-0xfc9+-0xeb*-0x6)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x2405*0x1+0x82*-0x47+0xa*0x1))):document['msHidden']!==void(0x804+0x2185+-0x2989)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1cc0+-0x1438+-0x25*0x3b))):document['webkitHidd'+'en']!==void(0x1451+0x1*0x1b25+-0x2f76)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x16b1+0x15a8+0x10a)))),this['tick']=pP(this);}static['getApplica'+'tion'](_0x4395d7){return _0x4395d7?Hr['_applicati'+'ons'][_0x4395d7]:sn();}['_initDefau'+'ltMaterial'](){const _0x3cde46=new _s();_0x3cde46['name']='Default\x20Ma'+'terial',iC(this['graphicsDe'+'vice'],_0x3cde46);}['_initProgr'+'amLibrary'](){const _0x25c96d=new L1(this['graphicsDe'+'vice'],new _s());$E(this['graphicsDe'+'vice'],_0x25c96d);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return b['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x25cc78,_0x41e5e5){Ye['get'](_0x25cc78,(_0x2802bf,_0x136a67)=>{if(_0x2802bf){_0x41e5e5(_0x2802bf);return;}const _0x317f96=_0x136a67['applicatio'+'n_properti'+'es'],_0x2b60a5=_0x136a67['scenes'],_0x15bdbf=_0x136a67['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x317f96,_0x2b340c=>{this['_parseScen'+'es'](_0x2b60a5),this['_parseAsse'+'ts'](_0x15bdbf),_0x41e5e5(_0x2b340c||null);});});}['preload'](_0x157a38){this['fire']('preload:st'+'art');const _0x198773=this['assets']['list']({'preload':!(0xb8*-0x2e+-0x3*-0x632+0x2*0x73d)});if(_0x198773['length']===-0x174d+-0x42*-0x87+-0xb81*0x1){this['fire']('preload:en'+'d'),_0x157a38();return;}let _0x2d0739=-0x5*-0x34c+0x11*-0x117+0x1*0x20b;const _0x1002fe=()=>{_0x2d0739++,this['fire']('preload:pr'+'ogress',_0x2d0739/_0x198773['length']),_0x2d0739===_0x198773['length']&&(this['fire']('preload:en'+'d'),_0x157a38());};_0x198773['forEach'](_0x4bf9ef=>{_0x4bf9ef['loaded']?_0x1002fe():(_0x4bf9ef['once']('load',_0x1002fe),_0x4bf9ef['once']('error',_0x1002fe),this['assets']['load'](_0x4bf9ef));});}['_preloadSc'+'ripts'](_0x4b31fb,_0x2bca36){_0x2bca36();}['_parseAppl'+'icationPro'+'perties'](_0x4551c5,_0x28a9d6){if(typeof _0x4551c5['maxAssetRe'+'tries']=='number'&&_0x4551c5['maxAssetRe'+'tries']>-0x14fc*0x1+-0x11c6+0x26c2&&this['loader']['enableRetr'+'y'](_0x4551c5['maxAssetRe'+'tries']),_0x4551c5['useDeviceP'+'ixelRatio']||(_0x4551c5['useDeviceP'+'ixelRatio']=_0x4551c5['use_device'+'_pixel_rat'+'io']),_0x4551c5['resolution'+'Mode']||(_0x4551c5['resolution'+'Mode']=_0x4551c5['resolution'+'_mode']),_0x4551c5['fillMode']||(_0x4551c5['fillMode']=_0x4551c5['fill_mode']),this['_width']=_0x4551c5['width'],this['_height']=_0x4551c5['height'],_0x4551c5['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x4551c5['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x4551c5['fillMode'],this['_width'],this['_height']),_0x4551c5['layers']&&_0x4551c5['layerOrder']){const _0x40400e=new v_('applicatio'+'n'),_0xd840e0={};for(const _0x165be3 in _0x4551c5['layers']){const _0x3c78e6=_0x4551c5['layers'][_0x165be3];_0x3c78e6['id']=parseInt(_0x165be3,-0x1*-0x18d1+-0x3*-0xb87+-0x3a*0x106),_0x3c78e6['enabled']=_0x3c78e6['id']!==es,_0xd840e0[_0x165be3]=new Fr(_0x3c78e6);}for(let _0xfb8cb8=0x1*0x7ae+0x94*-0x1f+0xa3e,_0x56599c=_0x4551c5['layerOrder']['length'];_0xfb8cb8<_0x56599c;_0xfb8cb8++){const _0x2636b7=_0x4551c5['layerOrder'][_0xfb8cb8],_0x5779f7=_0xd840e0[_0x2636b7['layer']];_0x5779f7&&(_0x2636b7['transparen'+'t']?_0x40400e['pushTransp'+'arent'](_0x5779f7):_0x40400e['pushOpaque'](_0x5779f7),_0x40400e['subLayerEn'+'abled'][_0xfb8cb8]=_0x2636b7['enabled']);}this['scene']['layers']=_0x40400e;}if(_0x4551c5['batchGroup'+'s']){const _0x48e650=this['batcher'];if(_0x48e650)for(let _0x3cdaea=0x1*-0x473+-0xd1c+-0x91*-0x1f,_0x3689f6=_0x4551c5['batchGroup'+'s']['length'];_0x3cdaea<_0x3689f6;_0x3cdaea++){const _0x4e8e3b=_0x4551c5['batchGroup'+'s'][_0x3cdaea];_0x48e650['addGroup'](_0x4e8e3b['name'],_0x4e8e3b['dynamic'],_0x4e8e3b['maxAabbSiz'+'e'],_0x4e8e3b['id'],_0x4e8e3b['layers']);}}_0x4551c5['i18nAssets']&&(this['i18n']['assets']=_0x4551c5['i18nAssets']),this['_loadLibra'+'ries'](_0x4551c5['libraries'],_0x28a9d6);}['_loadLibra'+'ries'](_0x4fa14c,_0x14b047){const _0xb02415=_0x4fa14c['length'];let _0xf9b2c9=_0xb02415;const _0x4c95c6=/^https?:\/\//;if(_0xb02415){const _0x5611c1=(_0x8cae67,_0x5baa70)=>{_0xf9b2c9--,_0x8cae67?_0x14b047(_0x8cae67):_0xf9b2c9===0x1*0x2fc+-0x1*0x293+-0x69&&(this['onLibrarie'+'sLoaded'](),_0x14b047(null));};for(let _0x228b43=0x257*-0x4+0xf4*0x18+-0xd84;_0x228b43<_0xb02415;++_0x228b43){let _0x1467f5=_0x4fa14c[_0x228b43];!_0x4c95c6['test'](_0x1467f5['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x1467f5=me['join'](this['_scriptPre'+'fix'],_0x1467f5)),this['loader']['load'](_0x1467f5,'script',_0x5611c1);}}else this['onLibrarie'+'sLoaded'](),_0x14b047(null);}['_parseScen'+'es'](_0x3f3f13){if(_0x3f3f13){for(let _0x5689b1=-0x2606+0xfd7+0x162f;_0x5689b1<_0x3f3f13['length'];_0x5689b1++)this['scenes']['add'](_0x3f3f13[_0x5689b1]['name'],_0x3f3f13[_0x5689b1]['url']);}}['_parseAsse'+'ts'](_0x2511fa){const _0x474525=[],_0x359dc1={},_0x39a815={};for(let _0x437a74=-0x1a*0x65+0x1b8b+-0x1149;_0x437a74<this['scriptsOrd'+'er']['length'];_0x437a74++){const _0x7292e0=this['scriptsOrd'+'er'][_0x437a74];_0x2511fa[_0x7292e0]&&(_0x359dc1[_0x7292e0]=!(0x1*0x2325+0x19ab+-0x3cd0),_0x474525['push'](_0x2511fa[_0x7292e0]));}if(this['enableBund'+'les']){for(const _0x31dd52 in _0x2511fa)_0x2511fa[_0x31dd52]['type']==='bundle'&&(_0x39a815[_0x31dd52]=!(0x5*-0x51b+0x7bb+0x2*0x8e6),_0x474525['push'](_0x2511fa[_0x31dd52]));}for(const _0x73cb3f in _0x2511fa)_0x359dc1[_0x73cb3f]||_0x39a815[_0x73cb3f]||_0x474525['push'](_0x2511fa[_0x73cb3f]);for(let _0x538476=0xf*-0xa+-0xec4+0xf5a;_0x538476<_0x474525['length'];_0x538476++){const _0x3c3ad5=_0x474525[_0x538476],_0x8b072f=new he(_0x3c3ad5['name'],_0x3c3ad5['type'],_0x3c3ad5['file'],_0x3c3ad5['data']);if(_0x8b072f['id']=parseInt(_0x3c3ad5['id'],-0x2655+-0x1a*-0x16a+0x19b),_0x8b072f['preload']=_0x3c3ad5['preload']?_0x3c3ad5['preload']:!(0x7b6*0x4+-0x92f+-0x15a8),_0x8b072f['loaded']=_0x3c3ad5['type']==='script'&&_0x3c3ad5['data']&&_0x3c3ad5['data']['loadingTyp'+'e']>0x602+-0x3*0x63a+-0x1*-0xcac,_0x8b072f['tags']['add'](_0x3c3ad5['tags']),_0x3c3ad5['i18n']){for(const _0x3737c9 in _0x3c3ad5['i18n'])_0x8b072f['addLocaliz'+'edAssetId'](_0x3737c9,_0x3c3ad5['i18n'][_0x3737c9]);}this['assets']['add'](_0x8b072f);}}['start'](){b['call'](()=>{b['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x2472+0x565+0x1f0d*0x1);}),this['frame']=-0x1*-0xdd9+-0x1e22+-0x1049*-0x1,this['fire']('start',{'timestamp':ae(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x1f822f){this['controller']&&this['controller']['update'](_0x1f822f),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x56f499){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ae(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x56f499),this['systems']['fire']('animationU'+'pdate',_0x56f499),this['systems']['fire']('postUpdate',_0x56f499),this['fire']('update',_0x56f499),this['inputUpdat'+'e'](_0x56f499),this['stats']['frame']['updateTime']=ae()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ae(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Xh['_skipRende'+'rCounter']=-0x2f*-0xd1+0x3*-0xba1+-0x37c,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ae()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x419a68){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x419a68),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x419a68),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x1bd34e,_0x23844c,_0xc885d5){const _0x5c802b=this['stats']['frame'];_0x5c802b['dt']=_0x23844c,_0x5c802b['ms']=_0xc885d5,_0x1bd34e>_0x5c802b['_timeToCou'+'ntFrames']?(_0x5c802b['fps']=_0x5c802b['_fpsAccum'],_0x5c802b['_fpsAccum']=0x405+0x13*0x207+-0x2a8a,_0x5c802b['_timeToCou'+'ntFrames']=_0x1bd34e+(-0xc20+-0x1*0x24cb+0x34d3*0x1)):_0x5c802b['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0xde7+0x249b*-0x1+0x16b4;}['_fillFrame'+'Stats'](){let _0x204e81=this['stats']['frame'];_0x204e81['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x204e81['materials']=this['renderer']['_materialS'+'witches'],_0x204e81['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x204e81['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x204e81['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x204e81['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x204e81['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x736ec4=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x204e81['triangles']=_0x736ec4[Fs]/(-0x1*0x1fc9+0xbe3*0x3+0x2b*-0x17)+Math['max'](_0x736ec4[lr]-(-0x1914+0x1*-0x2485+0x3d9b),0x1c*0x14c+-0x1d0b*0x1+0x1*-0x745)+Math['max'](_0x736ec4[Kr]-(-0x1cb3+0x311+-0xc*-0x223),-0x23d+-0x151*-0xb+0xc3e*-0x1),_0x204e81['cullTime']=this['renderer']['_cullTime'],_0x204e81['sortTime']=this['renderer']['_sortTime'],_0x204e81['skinTime']=this['renderer']['_skinTime'],_0x204e81['morphTime']=this['renderer']['_morphTime'],_0x204e81['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x204e81['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x204e81['otherPrimi'+'tives']=-0xb1a+0x10ae+-0x594;for(let _0x184353=0x4*-0x7eb+0x2c1*0x1+0x1ceb;_0x184353<_0x736ec4['length'];_0x184353++)_0x184353<Fs&&(_0x204e81['otherPrimi'+'tives']+=_0x736ec4[_0x184353]),_0x736ec4[_0x184353]=-0x3*-0x913+0x74*-0x3d+0x6b;this['renderer']['_camerasRe'+'ndered']=-0x5*-0x565+-0x5*0x22b+0xe*-0x127,this['renderer']['_materialS'+'witches']=-0x9e9+0x75*0x18+-0x10f,this['renderer']['_shadowMap'+'Updates']=-0x677+-0x47*0xd+0xa12,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x21cb+-0x1*-0xb93+0x1638,this['renderer']['_cullTime']=-0x1f85*-0x1+0x41b+0x130*-0x1e,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0xb13+0x1*-0x1762+-0x1*-0xc4f,this['renderer']['_lightClus'+'tersTime']=-0x9d7*-0x2+-0x233*-0x4+0x4bf*-0x6,this['renderer']['_sortTime']=0x1849*0x1+0x26b9+0xa*-0x64d,this['renderer']['_skinTime']=-0x1165+-0x1*-0x165b+-0x4f6,this['renderer']['_morphTime']=-0xff3+-0x2f2*0xd+0x363d,this['renderer']['_shadowMap'+'Time']=0x2505+-0x3*-0x245+0x3*-0xe9c,this['renderer']['_depthMapT'+'ime']=0x52*-0xd+-0x1*-0x72f+0x1*-0x305,this['renderer']['_forwardTi'+'me']=-0x15e9+0x443+0x11a6,_0x204e81=this['stats']['drawCalls'],_0x204e81['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x204e81['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x204e81['depth']=-0x700+-0x5*0x95+0x9e9,_0x204e81['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x204e81['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x204e81['immediate']=0xf5e*0x1+0x1c07*-0x1+0xca9,_0x204e81['instanced']=-0x49f+0x5*0x676+-0x1baf*0x1,_0x204e81['removedByI'+'nstancing']=-0x5*-0x48a+-0x10fb+-0x5b7,_0x204e81['misc']=_0x204e81['total']-(_0x204e81['forward']+_0x204e81['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x17a+0xe41+-0xcc7,this['renderer']['_shadowDra'+'wCalls']=0x7bd+0x963+-0x1120,this['renderer']['_forwardDr'+'awCalls']=-0x149*-0x9+0x1d*-0x132+0x1719,this['renderer']['_numDrawCa'+'llsCulled']=-0x1*-0x2177+0x62*-0x62+0x40d,this['renderer']['_skinDrawC'+'alls']=0x19e5+-0x5ad*0x1+-0x1438,this['renderer']['_immediate'+'Rendered']=0x5*-0x347+0x708+0x95b,this['renderer']['_instanced'+'DrawCalls']=-0xd2e+-0x141b+-0x1*-0x2149,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x204e81=this['stats']['particles'],_0x204e81['updatesPer'+'Frame']=_0x204e81['_updatesPe'+'rFrame'],_0x204e81['frameTime']=_0x204e81['_frameTime'],_0x204e81['_updatesPe'+'rFrame']=0x17b8+-0x1fba+-0x2*-0x401,_0x204e81['_frameTime']=0x1c96+-0x85f+-0xcf*0x19;}['setCanvasF'+'illMode'](_0xde6de,_0x21bb70,_0x3da230){this['_fillMode']=_0xde6de,this['resizeCanv'+'as'](_0x21bb70,_0x3da230);}['setCanvasR'+'esolution'](_0x2df542,_0x472bf2,_0x388179){this['_resolutio'+'nMode']=_0x2df542,_0x2df542===H_&&_0x472bf2===void(0x97b*0x3+-0xa29+-0x1248)&&(_0x472bf2=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x388179=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x472bf2,_0x388179);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x1b0896,_0xf097d4){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x2c7737=window['innerWidth'],_0x2322f6=window['innerHeigh'+'t'];if(this['_fillMode']===G_){const _0x3bad88=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0xfd2b56=_0x2c7737/_0x2322f6;_0x3bad88>_0xfd2b56?(_0x1b0896=_0x2c7737,_0xf097d4=_0x1b0896/_0x3bad88):(_0xf097d4=_0x2322f6,_0x1b0896=_0xf097d4*_0x3bad88);}else this['_fillMode']===q1&&(_0x1b0896=_0x2c7737,_0xf097d4=_0x2322f6);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x1b0896+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0xf097d4+'px',this['updateCanv'+'asSize'](),{'width':_0x1b0896,'height':_0xf097d4};}['updateCanv'+'asSize'](){var _0x382b2d;if(!(!this['_allowResi'+'ze']||(_0x382b2d=this['xr'])!=null&&_0x382b2d['active'])&&this['_resolutio'+'nMode']===H_){const _0x4f0951=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4f0951['clientWidt'+'h'],_0x4f0951['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(0x124b+0x199+-0x13e4),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x409dea){let _0x465812;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x26b67e,_0x53583a,_0x525a9a]=_0x409dea['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x26b67e,_0x53583a,_0x525a9a);}this['scene']['applySetti'+'ngs'](_0x409dea),_0x409dea['render']['hasOwnProp'+'erty']('skybox')&&(_0x409dea['render']['skybox']?(_0x465812=this['assets']['get'](_0x409dea['render']['skybox']),_0x465812?this['setSkybox'](_0x465812):this['assets']['once']('add:'+_0x409dea['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x102965,_0x5d08f9){_0x102965&&_0x5d08f9?qr['set'](this['graphicsDe'+'vice'],_0x102965,_0x5d08f9):b['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x5a0339){if(_0x5a0339!==this['_skyboxAss'+'et']){const _0x111ab0=()=>{this['setSkybox'](null);},_0x25a43a=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x25a43a,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x111ab0,this),this['_skyboxAss'+'et']['off']('change',_0x25a43a,this)),this['_skyboxAss'+'et']=_0x5a0339,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x25a43a,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x111ab0,this),this['_skyboxAss'+'et']['on']('change',_0x25a43a,this),this['scene']['skyboxMip']===-0x2170+0x2272+-0x102&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(-0xeb1+-0x24bc+-0xa49*-0x5)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x25a43a();}}['_firstBake'](){var _0x139885;(_0x139885=this['lightmappe'+'r'])==null||_0x139885['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x4babb5;(_0x4babb5=this['batcher'])==null||_0x4babb5['generate']();}['_processTi'+'mestamp'](_0x177c14){return _0x177c14;}['drawLine'](_0x39977f,_0x14d93d,_0x445e2a,_0x7e764f,_0x4e787d){this['scene']['drawLine'](_0x39977f,_0x14d93d,_0x445e2a,_0x7e764f,_0x4e787d);}['drawLines'](_0x1325e8,_0x3fdbd1,_0x53e779=!(0x5e0+0x1*-0x1867+0x1287),_0x4b5ab8=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x1325e8,_0x3fdbd1,_0x53e779,_0x4b5ab8);}['drawLineAr'+'rays'](_0x5bd0cb,_0x430a0a,_0xaac0a=!(0x8e6+0x2ff+-0x3f7*0x3),_0xc902d0=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x5bd0cb,_0x430a0a,_0xaac0a,_0xc902d0);}['drawWireSp'+'here'](_0x32fc94,_0x15cdce,_0x48243e=Y['WHITE'],_0x3c6c95=-0x1459*0x1+0x6da*0x3+-0x21,_0x54ac9b=!(-0x775+0x1a05*-0x1+0x217a),_0xc1c11e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x32fc94,_0x15cdce,_0x48243e,_0x3c6c95,_0x54ac9b,_0xc1c11e);}['drawWireAl'+'ignedBox'](_0x3dbd13,_0xccf06e,_0x308395=Y['WHITE'],_0x4e50bf=!(-0x49*0x2f+0x1efa+-0x1193*0x1),_0x14eb91=this['scene']['defaultDra'+'wLayer'],_0xb223bc){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x3dbd13,_0xccf06e,_0x308395,_0x4e50bf,_0x14eb91,_0xb223bc);}['drawMeshIn'+'stance'](_0x47e24e,_0x42f49c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x47e24e,_0x42f49c);}['drawMesh'](_0x1e6213,_0x99e181,_0x78bb5c,_0x1ddc1b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x99e181,_0x78bb5c,_0x1e6213,null,_0x1ddc1b);}['drawQuad'](_0x48eb5e,_0x92e334,_0x1cfb99=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x92e334,_0x48eb5e,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x1cfb99);}['drawTextur'+'e'](_0x14538c,_0x15eaec,_0x3a96d4,_0x376346,_0x439dc4,_0x55a75b,_0x104cf8=this['scene']['defaultDra'+'wLayer'],_0x443d62=!(0x1b6f+-0x251c+0x9ad)){if(_0x443d62===!(0xb26+0x46f+0x2*-0x7ca)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x1f52d0=new q();_0x1f52d0['setTRS'](new A(_0x14538c,_0x15eaec,-0x633*-0x2+0x1*-0xcbb+0x11*0x5),ie['IDENTITY'],new A(_0x3a96d4,-_0x376346,-0x7a*0x27+0x1*-0xa76+0x1d0c)),_0x55a75b||(_0x55a75b=new La(),_0x55a75b['cull']=vt,_0x55a75b['setParamet'+'er']('colorMap',_0x439dc4),_0x55a75b['shaderDesc']=_0x443d62?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x439dc4['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x55a75b['update']()),this['drawQuad'](_0x1f52d0,_0x55a75b,_0x104cf8);}['drawDepthT'+'exture'](_0x5cfdd7,_0x446e9c,_0xab01a8,_0x5234f3,_0x4314d3=this['scene']['defaultDra'+'wLayer']){const _0x1b6f6b=new La();_0x1b6f6b['cull']=vt,_0x1b6f6b['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x1b6f6b['update'](),this['drawTextur'+'e'](_0x5cfdd7,_0x446e9c,_0xab01a8,_0x5234f3,null,_0x1b6f6b,_0x4314d3);}['destroy'](){var _0x5e9977,_0x4c8a67,_0x1eb99b,_0x1c47f0;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x1bd5+0x1d35+-0x95*0x62);return;}const _0x1881d1=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x180c+-0x1b86+-0x9*-0x63)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x4*0x1+0x229d+-0x22a0)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1523+-0x1*-0x1539+-0x15)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x110+0x22*0x11b+-0x26a5))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x5568ec=this['assets']['list']();for(let _0x5e544=0x7*0x4b4+-0x53d+-0x1*0x1baf;_0x5e544<_0x5568ec['length'];_0x5e544++)_0x5568ec[_0x5e544]['unload'](),_0x5568ec[_0x5e544]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x5dec3c=this['loader']['getHandler']('script');_0x5dec3c==null||_0x5dec3c['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x5e9977=this['lightmappe'+'r'])==null||_0x5e9977['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x4c8a67=this['xr'])==null||_0x4c8a67['end'](),(_0x1eb99b=this['xr'])==null||_0x1eb99b['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x1c47f0=this['_soundMana'+'ger'])==null||_0x1c47f0['destroy'](),this['_soundMana'+'ger']=null,Hr['_applicati'+'ons'][_0x1881d1]=null,sn()===this&&Ku(null),Hr['cancelTick'](this);}static['cancelTick'](_0x972eee){_0x972eee['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x972eee['frameReque'+'stId']),_0x972eee['frameReque'+'stId']=void(-0x13d2+-0x96c+-0x1*-0x1d3e));}['getEntityF'+'romIndex'](_0x2188b5){return this['_entityInd'+'ex'][_0x2188b5];}['_registerS'+'ceneImmedi'+'ate'](_0x2661ef){this['on']('postrender',_0x2661ef['immediate']['onPostRend'+'er'],_0x2661ef['immediate']);}};c(Hr,'_applicati'+'ons',{});let Zh=Hr;const Qd={},pP=function(_0x2869e2){const _0x10590e=_0x2869e2;return function(_0x57ae03,_0x339010){var _0x13d01e,_0x559a9b,_0x580cbb,_0x33835e;if(!_0x10590e['graphicsDe'+'vice'])return;_0x10590e['frameReque'+'stId']&&((_0x559a9b=(_0x13d01e=_0x10590e['xr'])==null?void(0x1bed+0x1f*-0x121+0x712):_0x13d01e['session'])==null||_0x559a9b['cancelAnim'+'ationFrame'](_0x10590e['frameReque'+'stId']),cancelAnimationFrame(_0x10590e['frameReque'+'stId']),_0x10590e['frameReque'+'stId']=null),_0x10590e['_inFrameUp'+'date']=!(0x3ac+0x6ad*0x1+0x373*-0x3),Ku(_0x10590e);const _0x43c7a2=_0x10590e['_processTi'+'mestamp'](_0x57ae03)||ae(),_0x57a3fa=_0x43c7a2-(_0x10590e['_time']||_0x43c7a2);let _0x2ba10c=_0x57a3fa/(0x4a*-0x35+0x8*0x2a2+-0x1d6);if(_0x2ba10c=z['clamp'](_0x2ba10c,-0x1*0x2567+-0x640+0x95*0x4b,_0x10590e['maxDeltaTi'+'me']),_0x2ba10c*=_0x10590e['timeScale'],_0x10590e['_time']=_0x43c7a2,(_0x580cbb=_0x10590e['xr'])!=null&&_0x580cbb['session']?_0x10590e['frameReque'+'stId']=_0x10590e['xr']['session']['requestAni'+'mationFram'+'e'](_0x10590e['tick']):_0x10590e['frameReque'+'stId']=be['browser']||be['worker']?requestAnimationFrame(_0x10590e['tick']):null,_0x10590e['graphicsDe'+'vice']['contextLos'+'t'])return;_0x10590e['_fillFrame'+'StatsBasic'](_0x43c7a2,_0x2ba10c,_0x57a3fa),_0x10590e['_fillFrame'+'Stats'](),_0x10590e['fire']('frameupdat'+'e',_0x57a3fa);let _0x19c8a0=!(0x13*0xd4+-0x1c1*-0xd+0x2689*-0x1);_0x339010?(_0x19c8a0=(_0x33835e=_0x10590e['xr'])==null?void(0x4*-0x8ba+-0x4*0x210+0x2b28):_0x33835e['update'](_0x339010),_0x10590e['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x339010['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x10590e['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x19c8a0&&(b['trace'](jx,'----\x20Frame'+'\x20'+_0x10590e['frame']),b['trace'](nd,'--\x20UpdateS'+'tart\x20'+ae()['toFixed'](0x9fb+-0xd*0x75+-0x408)+'ms'),_0x10590e['update'](_0x2ba10c),_0x10590e['fire']('framerende'+'r'),(_0x10590e['autoRender']||_0x10590e['renderNext'+'Frame'])&&(b['trace'](nd,'--\x20RenderS'+'tart\x20'+ae()['toFixed'](0x210e+-0x1149+0x541*-0x3)+'ms'),_0x10590e['updateCanv'+'asSize'](),_0x10590e['frameStart'](),_0x10590e['render'](),_0x10590e['frameEnd'](),_0x10590e['renderNext'+'Frame']=!(0x8a+0x21fc+-0x2285),b['trace'](nd,'--\x20RenderE'+'nd\x20'+ae()['toFixed'](-0x17*-0xde+-0xcbf+-0x731*0x1)+'ms')),Qd['timestamp']=ae(),Qd['target']=_0x10590e,_0x10590e['fire']('frameend',Qd)),_0x10590e['_inFrameUp'+'date']=!(-0x1eb4+0x10*0x1f+0x1cc5),_0x10590e['_destroyRe'+'quested']&&_0x10590e['destroy']();};};class mP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const so=new Bf();class $0{constructor(_0x47f126,_0x4ed46b,_0x5d03aa){this['scene']=_0x47f126,this['light']=_0x4ed46b,this['store'](),_0x4ed46b['numCascade'+'s']=-0x258a*0x1+-0x997+0x7db*0x6,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x4ed46b['castShadow'+'s']=_0x4ed46b['bakeShadow'+'s']&&_0x5d03aa['shadowsEna'+'bled']),_0x4ed46b['type']!==le&&(_0x4ed46b['_node']['getWorldTr'+'ansform'](),_0x4ed46b['getBoundin'+'gSphere'](so),this['lightBound'+'s']=new ve(),this['lightBound'+'s']['center']['copy'](so['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](so['radius'],so['radius'],so['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x2ddc1a=this['light'];_0x2ddc1a['mask']=this['mask'],_0x2ddc1a['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2ddc1a['enabled']=this['enabled'],_0x2ddc1a['intensity']=this['intensity'],_0x2ddc1a['_node']['setLocalRo'+'tation'](this['rotation']),_0x2ddc1a['numCascade'+'s']=this['numCascade'+'s'],_0x2ddc1a['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1ba*0x1+0x20e2+0x2*-0x114e),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x25cb7a){const _0x34dd29=this['light'];_0x34dd29['enabled']=!(-0xc5+0x1*0x419+-0x353),_0x34dd29['shadowMap']&&(_0x34dd29['shadowMap']['cached']&&_0x25cb7a['add'](_0x34dd29,_0x34dd29['shadowMap']),_0x34dd29['shadowMap']=null);}}const jl=new W();class _P extends $0{constructor(_0x47ca7c,_0x1a4191){super(_0x47ca7c['scene'],_0x1a4191,_0x47ca7c['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===le?this['light']['bakeNumSam'+'ples']:-0x21a2+0x6f2+0x1*0x1ab1;}['prepareVir'+'tualLight'](_0x8b80e8,_0x325831){const _0x429c43=this['light'];if(_0x429c43['_node']['setLocalRo'+'tation'](this['rotation']),_0x8b80e8>0x4*0x1f+0x1182+-0x11fe){const _0x4281a3=_0x429c43['bakeArea'];ul['circlePoin'+'tDetermini'+'stic'](jl,_0x8b80e8,_0x325831),jl['mulScalar'](_0x4281a3*(-0x3*0x290+-0x9d*-0x1a+-0x842+0.5)),_0x429c43['_node']['rotateLoca'+'l'](jl['x'],-0x47*-0x16+0x222f+-0x2849,jl['y']);}_0x429c43['_node']['getWorldTr'+'ansform']();const _0x3286e7=-0x22b0+-0x1acd+0x3d7f+0.20000000000000018,_0x320f43=Math['pow'](this['intensity'],_0x3286e7);_0x429c43['intensity']=Math['pow'](_0x320f43/_0x325831,(0x1f0d+0x1*-0x1b0e+0xe*-0x49)/_0x3286e7);}}const j_=new A();class Y_ extends $0{constructor(_0xa052a6){const _0x565690=_0xa052a6['scene'],_0x442919=new je('AmbientLig'+'ht');_0x442919['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x2*0xf29+-0x55*-0x5f+-0x139*0x1),'affectLightmapped':!(0x100f+0x2233+-0x3241),'bake':!(-0x19ef+-0xc6d*-0x1+0xd82),'bakeNumSamples':_0x565690['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x2*0x5be+0xb3*0x2b+-0x298d),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':zt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(-0x1b10*-0x1+-0x1*-0x135b+-0x1c9*0x1a)}),super(_0x565690,_0x442919['light']['light'],_0xa052a6['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x46f64a,_0x2c0177){ul['spherePoin'+'tDetermini'+'stic'](j_,_0x46f64a,_0x2c0177,0xcf2+-0x20cc+0x4d*0x42,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](j_['mulScalar'](-(-0x1*0xe75+-0x145e+0x22d4))),this['light']['_node']['rotateLoca'+'l'](0x1*0x24cd+0x1162+-0x35d5,0x95*0x1+-0xd8b+-0x1*-0xcf6,0xf1*0xd+0x1413+-0x2050);const _0x5e1c88=-0x1646+-0x8f5*0x3+0x3127+0.20000000000000018,_0x4ae43a=(0x13b*-0xb+-0x2b6*0x1+0x39*0x49)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x400ce8=Math['pow'](_0x4ae43a,_0x5e1c88);this['light']['intensity']=Math['pow'](_0x400ce8/_0x2c0177,(0x81*-0x27+0xb*-0x33d+0x126d*0x3)/_0x5e1c88);}}class Yl{constructor(_0x153a81,_0x673e0a=null){this['node']=_0x153a81,this['component']=_0x153a81['render']||_0x153a81['model'],_0x673e0a=_0x673e0a||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x673e0a,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const K_=0x3*0x847+-0x32b*0xa+-0x88*-0xd;class gP{constructor(_0x2cfb97){this['device']=_0x2cfb97,this['shaderDila'+'te']=Bs(_0x2cfb97,j['fullscreen'+'QuadVS'],Ao['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x2cfb97['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x2cfb97['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x275*-0xb+0x5ed+0x151c),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x5742b0){this['constantTe'+'xSource']['setValue'](_0x5742b0);}['prepare'](_0x2cf018,_0x30f2dd){this['pixelOffse'+'t'][-0x2*-0x264+0x21e5+-0x26ad]=(0x49*-0x47+-0x994+-0x775*-0x4)/_0x2cf018,this['pixelOffse'+'t'][-0x1*-0xbef+-0x9*-0x25f+-0x1f5*0x11]=(-0x18e+0x1170+-0xfe1)/_0x30f2dd,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x2cc962,_0x29aa52,_0x5ecb93){const _0xc0aac5=_0x5ecb93?0x1*0x299+0x424+-0x73*0xf:0x24d7+0x7fa+-0x2cd0;if(!this['shaderDeno'+'ise'][_0xc0aac5]){const _0x170a91='lmBilatera'+'lDeNoise-'+(_0x5ecb93?'hdr':'rgbm'),_0x2ec59c=_0x5ecb93?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0xc0aac5]=Bs(this['device'],j['fullscreen'+'QuadVS'],_0x2ec59c+Ao['bilateralD'+'eNoisePS'],_0x170a91),this['sigmas']=new Float32Array(0x1*-0x10bd+0x1e66*-0x1+-0x2f25*-0x1),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0xd0b+-0x85c+-0x4af]=_0x2cc962,this['sigmas'][-0x1cab+-0x76+0x1d22]=_0x29aa52,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x2cc962,_0x29aa52);}['getDenoise'](_0x5e124c){const _0x440aae=_0x5e124c?0xd69*-0x1+-0x86c+-0xf3*-0x17:-0x22d*0x7+-0x2421+0x335d*0x1;return this['shaderDeno'+'ise'][_0x440aae];}['getDilate'](_0x45a8e4,_0x29d9c9){const _0x53ddde=_0x29d9c9?-0x1056*0x1+-0x72*0x34+0x1e*0x151:-0x1fe6+0xa7*-0x11+0x2afe;if(!this['shaderDila'+'te'][_0x53ddde]){const _0x128652='lmDilate-'+(_0x29d9c9?'hdr':'rgbm'),_0x40d6be=_0x29d9c9?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x53ddde]=Bs(_0x45a8e4,j['fullscreen'+'QuadVS'],_0x40d6be+Ao['dilatePS'],_0x128652);}return this['shaderDila'+'te'][_0x53ddde];}['evaluateDe'+'noiseUnifo'+'rms'](_0x2cf286,_0x314ea3){function _0x463a2c(_0xe75e95,_0x1756ae){return(-0x2*0x1bb+0x5a8+-0x232+0.39894)*Math['exp'](-(0x26da+-0x1*0xeb3+0x1827*-0x1+0.5)*_0xe75e95*_0xe75e95/(_0x1756ae*_0x1756ae))/_0x1756ae;}this['kernel']=this['kernel']||new Float32Array(K_);const _0x5f583b=this['kernel'],_0x5c9f9a=Math['floor']((K_-(-0xc6*0x11+0x114e*0x2+-0x1575*0x1))/(-0x857+-0x1aa4*-0x1+-0x29d*0x7));for(let _0x2666ee=0x220a+0xe*-0x4d+-0x1dd4;_0x2666ee<=_0x5c9f9a;++_0x2666ee){const _0x3362a5=_0x463a2c(_0x2666ee,_0x2cf286);_0x5f583b[_0x5c9f9a+_0x2666ee]=_0x3362a5,_0x5f583b[_0x5c9f9a-_0x2666ee]=_0x3362a5;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x53c445=(-0x70*0x14+0x68*-0x8+-0x1b7*-0x7)/_0x463a2c(-0x15d2+-0x17d4+0x2da6,_0x314ea3);this['bZnorm']['setValue'](_0x53c445);}}class yP extends gs{constructor(_0x1d9e12,_0x502270,_0xdd954,_0x5dc629,_0x2114ea,_0x134847){super(_0x1d9e12),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x502270,this['camera']=_0xdd954,this['worldClust'+'ers']=_0x5dc629,this['receivers']=_0x2114ea,this['lightArray']=_0x134847);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3ee903=>{_0x3ee903['defaultUni'+'formBuffer']['destroy'](),_0x3ee903['destroy']();}),this['viewBindGr'+'oups']['length']=0x1*0xb20+-0x1900+0xde0;}['execute'](){const _0x1b5c9b=this['device'];G['pushGpuMar'+'ker'](_0x1b5c9b,'Lightmappe'+'r');const {renderer:_0x42a60e,camera:_0x41ae2c,receivers:_0x5383f4,renderTarget:_0x2080fc,worldClusters:_0x528e5b,lightArray:_0x5d7949}=this;_0x42a60e['renderForw'+'ardLayer'](_0x41ae2c,_0x2080fc,null,void(-0xd*0x226+0x35+0x1bb9),xn,this['viewBindGr'+'oups'],{'meshInstances':_0x5383f4,'splitLights':_0x5d7949,'lightClusters':_0x528e5b}),G['popGpuMark'+'er'](_0x1b5c9b);}}const xP=0x2*0x47f+-0x1*-0x187d+-0x197b,SP=-0x14b*0x13+-0x1532+-0x5*-0x927,vP=0x1*0x232f+-0x21de+-0x54*0x4,Kl=new A();class bP{constructor(_0x129597,_0x1910ec,_0x6ae6a6,_0x2e8ec0,_0x900d3){this['device']=_0x129597,this['root']=_0x1910ec,this['scene']=_0x6ae6a6,this['renderer']=_0x2e8ec0,this['assets']=_0x900d3,this['shadowMapC'+'ache']=_0x2e8ec0['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x1*-0xa77+0x245b+-0x11*0x2c1),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x11180e;Ai['decRef'](this['blackTex']),this['blackTex']=null,Ai['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x11180e=this['camera'])==null||_0x11180e['destroy'](),this['camera']=null;}['initBake'](_0x138677){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Te,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x15a9+-0x12e1+0x2c8*-0x1),this['lightmapFi'+'lters']=new gP(_0x138677),this['constantBa'+'keDir']=_0x138677['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new ce(this['device'],{'width':0x4,'height':0x4,'format':Te,'type':ln,'name':'lightmapBl'+'ack'}),Ai['incRef'](this['blackTex']);const _0x46d157=new dl();_0x46d157['clearColor']['set'](-0x453+-0x2*-0xbd1+0x134f*-0x1,0x251c+0x1*0x1e49+-0x3*0x1677,0x2*-0x3c7+0x77f+0xf,-0x49*-0x4c+-0x2*0x382+-0xea8),_0x46d157['clearColor'+'Buffer']=!(0x2030+0x17f*-0x2+-0x4a*0x65),_0x46d157['clearDepth'+'Buffer']=!(0x236c+-0x1*0x17e3+0x1*-0xb88),_0x46d157['clearStenc'+'ilBuffer']=!(0x1d3e+0x1c0b+-0x3948),_0x46d157['frustumCul'+'ling']=!(-0x2586+0x7*-0x235+-0x34fa*-0x1),_0x46d157['projection']=pa,_0x46d157['aspectRati'+'o']=-0x1*0xdf4+0x54e+-0x8a7*-0x1,_0x46d157['node']=new Oe(),this['camera']=_0x46d157,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=al,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Pp;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0xdde90e=new F0(_0x138677['supportsAr'+'eaLights'],_0x138677['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0xdde90e;const _0x46b764=this['scene']['lighting'];_0xdde90e['shadowsEna'+'bled']=_0x46b764['shadowsEna'+'bled'],_0xdde90e['shadowAtla'+'sResolutio'+'n']=_0x46b764['shadowAtla'+'sResolutio'+'n'],_0xdde90e['cookiesEna'+'bled']=_0x46b764['cookiesEna'+'bled'],_0xdde90e['cookieAtla'+'sResolutio'+'n']=_0x46b764['cookieAtla'+'sResolutio'+'n'],_0xdde90e['areaLights'+'Enabled']=_0x46b764['areaLights'+'Enabled'],_0xdde90e['cells']=new A(0x51b*0x2+-0x211f+0x28c*0x9,-0x17*-0x15d+0x14c9+0xa6d*-0x5,0x158a*-0x1+-0x116*0xd+-0x18d*-0x17),_0xdde90e['maxLightsP'+'erCell']=-0x11a6+-0xdea+0x1*0x1f94,this['worldClust'+'ers']=new Hu(_0x138677),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x2867b4){this['materials']=[];function _0x48c428(_0x15ccc9){Ai['decRef'](_0x15ccc9['colorBuffe'+'r']),_0x15ccc9['destroy']();}this['renderTarg'+'ets']['forEach'](_0xe5cf74=>{_0x48c428(_0xe5cf74);}),this['renderTarg'+'ets']['clear'](),_0x2867b4['forEach'](_0x526f88=>{_0x526f88['renderTarg'+'ets']['forEach'](_0x29e5eb=>{_0x48c428(_0x29e5eb);}),_0x526f88['renderTarg'+'ets']['length']=0x6*-0x5e7+0x1eb4+0x4b6;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x11949c,_0x2a346d,_0x5cf2e7,_0x285150){const _0x4601a1=new _s();_0x4601a1['name']='lmMaterial'+'-pass:'+_0x5cf2e7+'-ambient:'+_0x285150,_0x4601a1['chunks']['APIVersion']=pi;const _0x58e667='#define\x20UV'+'1LAYOUT\x0a';if(_0x4601a1['chunks']['transformV'+'S']=_0x58e667+j['transformV'+'S'],_0x5cf2e7===SP){let _0x58ac8d=Ao['bakeLmEndP'+'S'];_0x285150?_0x58ac8d='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x2a346d['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x5d+-0x2475+0x2419)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x2a346d['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](-0x1c91+0x2*0xbb6+0x526)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x58ac8d:_0x4601a1['ambient']=new Y(0x1f67+0x1*0x2209+0x15d0*-0x3,-0x27*0x52+0x231f+-0x16a1,-0x1361+-0x1003*-0x1+0x35e),_0x4601a1['chunks']['basePS']=j['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x4601a1['chunks']['endPS']=_0x58ac8d,_0x4601a1['lightMap']=this['blackTex'];}else _0x4601a1['chunks']['basePS']=j['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x4601a1['chunks']['endPS']=Ao['bakeDirLmE'+'ndPS'];return _0x4601a1['chunks']['outputAlph'+'aPS']='\x0a',_0x4601a1['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x4601a1['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x4601a1['cull']=vt,_0x4601a1['forceUv1']=!(0xd76*-0x1+0xb2a+0x24c),_0x4601a1['update'](),_0x4601a1;}['createMate'+'rials'](_0x2c44c4,_0x196d54,_0x280a7c){for(let _0x417e3c=0x3a*-0x2+0xc8d+0xc19*-0x1;_0x417e3c<_0x280a7c;_0x417e3c++)this['passMateri'+'als'][_0x417e3c]||(this['passMateri'+'als'][_0x417e3c]=this['createMate'+'rialForPas'+'s'](_0x2c44c4,_0x196d54,_0x417e3c,!(-0x1db+0x8fc+-0x3*0x260)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2c44c4,_0x196d54,-0x989*-0x3+-0x61d+-0x167e*0x1,!(0x126*0x3+0xa*0x25d+-0x1b14)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x2dc844){return _0x2dc844['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1*0x81d+-0x1fde*-0x1+-0x17c1),_0x2dc844['litOptions']['separateAm'+'bient']=!(-0x17*-0xd6+0x7c2*-0x2+-0x3b6),_0x2dc844;});}['createText'+'ure'](_0x45ce0f,_0x35e7d2){return new ce(this['device'],{'profilerHint':Oy,'width':_0x45ce0f,'height':_0x45ce0f,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x9b*0x1b+0x10cb+0x1f3*-0x11),'type':this['bakeHDR']?Bi:ln,'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':_0x35e7d2});}['collectMod'+'els'](_0x50552e,_0x216484,_0x1a8abb){var _0x910189,_0x4a20c5,_0x3fc555;if(!_0x50552e['enabled'])return;let _0x5f00af;if((_0x910189=_0x50552e['model'])!=null&&_0x910189['model']&&((_0x4a20c5=_0x50552e['model'])!=null&&_0x4a20c5['enabled'])&&(_0x1a8abb&&_0x1a8abb['push'](new Yl(_0x50552e)),_0x50552e['model']['lightmappe'+'d']&&_0x216484&&(_0x5f00af=_0x50552e['model']['model']['meshInstan'+'ces'])),(_0x3fc555=_0x50552e['render'])!=null&&_0x3fc555['enabled']&&(_0x1a8abb&&_0x1a8abb['push'](new Yl(_0x50552e)),_0x50552e['render']['lightmappe'+'d']&&_0x216484&&(_0x5f00af=_0x50552e['render']['meshInstan'+'ces'])),_0x5f00af){let _0x132f83=!(-0xfec+-0x3*-0x6d0+0x121*-0x4);for(let _0x45c2ae=-0x22f2+0x23d7+0xe5*-0x1;_0x45c2ae<_0x5f00af['length'];_0x45c2ae++)if(!_0x5f00af[_0x45c2ae]['mesh']['vertexBuff'+'er']['format']['hasUv1']){b['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x50552e['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x132f83=!(0x1*0x119b+-0xe2d+0x1*-0x36d);break;}if(_0x132f83){const _0x35a2d5=[];for(let _0x868375=-0x336+-0xcbc+0x1a*0x9d;_0x868375<_0x5f00af['length'];_0x868375++){const _0x58571b=_0x5f00af[_0x868375]['mesh'];this['_tempSet']['has'](_0x58571b)?_0x216484['push'](new Yl(_0x50552e,[_0x5f00af[_0x868375]])):_0x35a2d5['push'](_0x5f00af[_0x868375]),this['_tempSet']['add'](_0x58571b);}this['_tempSet']['clear'](),_0x35a2d5['length']>0x1f61+0x2563+0xc*-0x5bb&&_0x216484['push'](new Yl(_0x50552e,_0x35a2d5));}}for(let _0x15b8a2=0x184b*0x1+-0x2*-0x85+-0x1955;_0x15b8a2<_0x50552e['_children']['length'];_0x15b8a2++)this['collectMod'+'els'](_0x50552e['_children'][_0x15b8a2],_0x216484,_0x1a8abb);}['prepareSha'+'dowCasters'](_0x4c0f1b){const _0x5ef3c9=[];for(let _0x185935=-0x18f1+0x7f*0x1+0x1872;_0x185935<_0x4c0f1b['length'];_0x185935++){const _0x1bad6f=_0x4c0f1b[_0x185935]['component'];if(_0x1bad6f['castShadow'+'s']=_0x1bad6f['castShadow'+'sLightmap'],_0x1bad6f['castShadow'+'sLightmap']){const _0x265946=_0x4c0f1b[_0x185935]['meshInstan'+'ces'];for(let _0x186c1f=0x8c7+0x1*-0xeb1+0x2*0x2f5;_0x186c1f<_0x265946['length'];_0x186c1f++)_0x265946[_0x186c1f]['visibleThi'+'sFrame']=!(0x6e2*0x5+-0x159c+0xb*-0x12a),_0x5ef3c9['push'](_0x265946[_0x186c1f]);}}return _0x5ef3c9;}['updateTran'+'sforms'](_0xcf8777){for(let _0x428d6d=0x97*-0x24+0x141*0x17+-0x79b;_0x428d6d<_0xcf8777['length'];_0x428d6d++){const _0x3e38e2=_0xcf8777[_0x428d6d]['meshInstan'+'ces'];for(let _0xd3774a=-0x1a5c+0x5*-0x49+0x1bc9;_0xd3774a<_0x3e38e2['length'];_0xd3774a++)_0x3e38e2[_0xd3774a]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x4b8fcc){let _0x2c8724;const _0x11be9d=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x1*-0x1871+-0x12fa+-0x567,_0x37a09f=Kl;let _0x2fd662,_0x5e49d0;_0x4b8fcc['model']?(_0x5e49d0=_0x4b8fcc['model']['lightmapSi'+'zeMultipli'+'er'],_0x4b8fcc['model']['asset']?(_0x2c8724=this['assets']['get'](_0x4b8fcc['model']['asset'])['data'],_0x2c8724['area']&&(_0x2fd662=_0x2c8724['area'])):_0x4b8fcc['model']['_area']&&(_0x2c8724=_0x4b8fcc['model'],_0x2c8724['_area']&&(_0x2fd662=_0x2c8724['_area']))):_0x4b8fcc['render']&&(_0x5e49d0=_0x4b8fcc['render']['lightmapSi'+'zeMultipli'+'er'],_0x4b8fcc['render']['type']!=='asset'&&_0x4b8fcc['render']['_area']&&(_0x2c8724=_0x4b8fcc['render'],_0x2c8724['_area']&&(_0x2fd662=_0x2c8724['_area'])));const _0x2402d0={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x2fd662&&(_0x2402d0['x']=_0x2fd662['x'],_0x2402d0['y']=_0x2fd662['y'],_0x2402d0['z']=_0x2fd662['z'],_0x2402d0['uv']=_0x2fd662['uv']);const _0x2d8849=_0x5e49d0||0x184d*-0x1+0x42d+0x1421;_0x2402d0['x']*=_0x2d8849,_0x2402d0['y']*=_0x2d8849,_0x2402d0['z']*=_0x2d8849;const _0x8f28a9=_0x4b8fcc['render']||_0x4b8fcc['model'],_0x590dc1=this['computeNod'+'eBounds'](_0x8f28a9['meshInstan'+'ces']);_0x37a09f['copy'](_0x590dc1['halfExtent'+'s']);let _0x29e323=_0x2402d0['x']*_0x37a09f['y']*_0x37a09f['z']+_0x2402d0['y']*_0x37a09f['x']*_0x37a09f['z']+_0x2402d0['z']*_0x37a09f['x']*_0x37a09f['y'];return _0x29e323/=_0x2402d0['uv'],_0x29e323=Math['sqrt'](_0x29e323),Math['min'](z['nextPowerO'+'fTwo'](_0x29e323*_0x11be9d),this['scene']['lightmapMa'+'xResolutio'+'n']||xP);}['setLightma'+'pping'](_0x3a3f98,_0x5ad93d,_0x21d6f5,_0x518c34){for(let _0x2a342a=-0x2527+-0xa43+0x2f6a;_0x2a342a<_0x3a3f98['length'];_0x2a342a++){const _0x4b1ad7=_0x3a3f98[_0x2a342a],_0xe5abd6=_0x4b1ad7['meshInstan'+'ces'];for(let _0x12ff5f=-0x9e4+0x124b+0x3*-0x2cd;_0x12ff5f<_0xe5abd6['length'];_0x12ff5f++){const _0x1d226e=_0xe5abd6[_0x12ff5f];if(_0x1d226e['setLightma'+'pped'](_0x5ad93d),_0x5ad93d){_0x518c34&&(_0x1d226e['_shaderDef'+'s']|=_0x518c34),_0x1d226e['mask']=dr;for(let _0x18e169=-0xd*0x47+0x687+-0x2ec;_0x18e169<_0x21d6f5;_0x18e169++){const _0x2c04cd=_0x4b1ad7['renderTarg'+'ets'][_0x18e169]['colorBuffe'+'r'];_0x2c04cd['minFilter']=at,_0x2c04cd['magFilter']=at,_0x1d226e['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][_0x18e169],_0x2c04cd);}}}}}['bake'](_0x433345,_0xed7877=mh){const _0x4d9499=this['device'],_0x407981=ae();this['scene']['_updateSky'+'Mesh'](),_0x4d9499['fire']('lightmappe'+'r:start',{'timestamp':_0x407981,'target':this}),this['stats']['renderPass'+'es']=-0x3*0x98f+0x175*-0x3+-0x5*-0x69c,this['stats']['shadowMapT'+'ime']=0xa*0x138+0x25b*0x10+-0x130*0x2a,this['stats']['forwardTim'+'e']=0x2449+-0x173*-0x13+0x7*-0x91e;const _0x459876=_0x4d9499['_shaderSta'+'ts']['linked'],_0x28e019=_0x4d9499['_renderTar'+'getCreatio'+'nTime'],_0x1c5b8c=_0x4d9499['_shaderSta'+'ts']['compileTim'+'e'],_0x5caec8=[],_0x29b1e8=[];if(_0x433345){for(let _0x287f22=-0x2*0x1307+0x133*-0x1a+0x453c;_0x287f22<_0x433345['length'];_0x287f22++)this['collectMod'+'els'](_0x433345[_0x287f22],_0x5caec8,null);this['collectMod'+'els'](this['root'],null,_0x29b1e8);}else this['collectMod'+'els'](this['root'],_0x5caec8,_0x29b1e8);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x5caec8['length']>-0x33*0xb3+-0x3b*0xa1+0x1*0x48c4){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x2206ac=_0xed7877===mh?0x1*-0x317+0x1d5*0x15+-0x2360:0xb*0x16b+0x19d*0x17+-0x34b3;this['setLightma'+'pping'](_0x5caec8,!(0x1*-0x1d1b+-0x851*-0x3+0x163*0x3),_0x2206ac),this['initBake'](_0x4d9499),this['bakeIntern'+'al'](_0x2206ac,_0x5caec8,_0x29b1e8);let _0x5a6369=Nu;_0xed7877===mh&&(_0x5a6369|=x0),this['scene']['ambientBak'+'e']&&(_0x5a6369|=S0),this['setLightma'+'pping'](_0x5caec8,!(-0x9db*-0x2+0x439+-0x22d*0xb),_0x2206ac,_0x5a6369),this['finishBake'](_0x5caec8);}G['popGpuMark'+'er'](this['device']);const _0x510dfb=ae();this['stats']['totalRende'+'rTime']=_0x510dfb-_0x407981,this['stats']['shadersLin'+'ked']=_0x4d9499['_shaderSta'+'ts']['linked']-_0x459876,this['stats']['compileTim'+'e']=_0x4d9499['_shaderSta'+'ts']['compileTim'+'e']-_0x1c5b8c,this['stats']['fboTime']=_0x4d9499['_renderTar'+'getCreatio'+'nTime']-_0x28e019,this['stats']['lightmapCo'+'unt']=_0x5caec8['length'],_0x4d9499['fire']('lightmappe'+'r:end',{'timestamp':_0x510dfb,'target':this});}['allocateTe'+'xtures'](_0x213493,_0x533c30){for(let _0x3da466=0xd23*0x1+-0xff*0xf+-0x16*-0x15;_0x3da466<_0x213493['length'];_0x3da466++){const _0x43d2b3=_0x213493[_0x3da466],_0x48c5ab=this['calculateL'+'ightmapSiz'+'e'](_0x43d2b3['node']);for(let _0x5d1ccc=0x4*0x83f+0x121a+-0x3316;_0x5d1ccc<_0x533c30;_0x5d1ccc++){const _0x2819d1=this['createText'+'ure'](_0x48c5ab,'lightmappe'+'r_lightmap'+'_'+_0x3da466);Ai['incRef'](_0x2819d1),_0x43d2b3['renderTarg'+'ets'][_0x5d1ccc]=new St({'colorBuffer':_0x2819d1,'depth':!(-0x18ee+0x1*-0x16cf+0x2fbe)});}if(!this['renderTarg'+'ets']['has'](_0x48c5ab)){const _0x442186=this['createText'+'ure'](_0x48c5ab,'lightmappe'+'r_temp_lig'+'htmap_'+_0x48c5ab);Ai['incRef'](_0x442186),this['renderTarg'+'ets']['set'](_0x48c5ab,new St({'colorBuffer':_0x442186,'depth':!(0x4*-0x16a+0x40a+0x19f)}));}}}['prepareLig'+'htsToBake'](_0x2b342f,_0x33bdc8){if(this['scene']['ambientBak'+'e']){const _0x570cd2=new Y_(this);_0x33bdc8['push'](_0x570cd2);}const _0x355e4c=this['renderer']['lights'];for(let _0x1611c9=0x2180+-0x100c+-0x45d*0x4;_0x1611c9<_0x355e4c['length'];_0x1611c9++){const _0x3427af=_0x355e4c[_0x1611c9],_0x47bab5=new _P(this,_0x3427af);_0x2b342f['push'](_0x47bab5),_0x3427af['enabled']&&(_0x3427af['mask']&ar)!==-0xb55+-0x94f+-0x14a4*-0x1&&(_0x3427af['mask']=ar|dr|ms,_0x3427af['shadowUpda'+'teMode']=_0x3427af['type']===le?Lp:un,_0x33bdc8['push'](_0x47bab5));}_0x33bdc8['sort']();}['restoreLig'+'hts'](_0x239edd){for(let _0x16d9da=-0x2159+0xc78+0x5*0x42d;_0x16d9da<_0x239edd['length'];_0x16d9da++)_0x239edd[_0x16d9da]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x1e16+0x7de+0x1638,0x5bd*0x3+0x6*0x139+-0x1*0x188d,-0x1*-0x1d3+-0x1d0e+-0x1*-0x1b3b),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x299701){const _0xbfd026=new ve();if(_0x299701['length']>0x251*0xb+-0x1*0x5ad+-0x13ce){_0xbfd026['copy'](_0x299701[-0x1df9*-0x1+-0x1*-0x1cd7+-0x3ad0]['aabb']);for(let _0xb9d407=0x5fe*-0x2+-0x1*0x2027+-0xa*-0x46a;_0xb9d407<_0x299701['length'];_0xb9d407++)_0xbfd026['add'](_0x299701[_0xb9d407]['aabb']);}return _0xbfd026;}['computeNod'+'esBounds'](_0x4ad5f8){for(let _0x2ae2cc=0x8c0+0xcd*-0x2b+0x19af*0x1;_0x2ae2cc<_0x4ad5f8['length'];_0x2ae2cc++){const _0x56f811=_0x4ad5f8[_0x2ae2cc]['meshInstan'+'ces'];_0x4ad5f8[_0x2ae2cc]['bounds']=this['computeNod'+'eBounds'](_0x56f811);}}['computeBou'+'nds'](_0x30d663){const _0x51e040=new ve();for(let _0x22c757=-0x10d*-0xc+-0x1*0x43f+0x1*-0x85d;_0x22c757<_0x30d663['length'];_0x22c757++){_0x51e040['copy'](_0x30d663[0x15d3+-0xad+-0x1526]['aabb']);for(let _0x3c21cb=0xe5d+0xaed*0x3+-0x2f23;_0x3c21cb<_0x30d663['length'];_0x3c21cb++)_0x51e040['add'](_0x30d663[_0x3c21cb]['aabb']);}return _0x51e040;}['backupMate'+'rials'](_0x578f18){for(let _0x26b09e=0x1717+0x13e5+-0x2afc;_0x26b09e<_0x578f18['length'];_0x26b09e++)this['materials'][_0x26b09e]=_0x578f18[_0x26b09e]['material'];}['restoreMat'+'erials'](_0x4e3d58){for(let _0x3ec0fc=0x3cd+0x555+-0x922;_0x3ec0fc<_0x4e3d58['length'];_0x3ec0fc++)_0x4e3d58[_0x3ec0fc]['material']=this['materials'][_0x3ec0fc];}['lightCamer'+'aPrepare'](_0x5a4a7c,_0x3a0929){const _0x2d9832=_0x3a0929['light'];let _0x16efd3;return _0x2d9832['type']===Fe&&(_0x16efd3=_0x2d9832['getRenderD'+'ata'](null,0x2160+0xd09+0x6d*-0x6d)['shadowCame'+'ra'],_0x16efd3['_node']['setPositio'+'n'](_0x2d9832['_node']['getPositio'+'n']()),_0x16efd3['_node']['setRotatio'+'n'](_0x2d9832['_node']['getRotatio'+'n']()),_0x16efd3['_node']['rotateLoca'+'l'](-(0xa34*-0x1+-0xef4+0xa*0x28d),0x1*-0x8ab+-0x5*0x115+0xe14,0x19e0+0x262b+-0x400b),_0x16efd3['projection']=Xs,_0x16efd3['nearClip']=_0x2d9832['attenuatio'+'nEnd']/(0x1393+-0xf45*0x1+0x33*-0x2),_0x16efd3['farClip']=_0x2d9832['attenuatio'+'nEnd'],_0x16efd3['aspectRati'+'o']=-0xba0+0xc02*0x1+0x1*-0x61,_0x16efd3['fov']=_0x2d9832['_outerCone'+'Angle']*(0x157a+-0xe45+-0x733),this['renderer']['updateCame'+'raFrustum'](_0x16efd3)),_0x16efd3;}['lightCamer'+'aPrepareAn'+'dCull'](_0x4ac4c6,_0x479b92,_0x519a41,_0x172676){const _0x5f12de=_0x4ac4c6['light'];let _0x167388=!(0x3d8*-0x8+-0x14d8*0x1+-0x3f8*-0xd);if(_0x5f12de['type']===le){Kl['copy'](_0x172676['center']),Kl['y']+=_0x172676['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Kl),this['camera']['node']['setEulerAn'+'gles'](-(0x1*-0x2681+-0xf*0x119+-0x3752*-0x1),-0x1dd3*-0x1+0x188a+0x365d*-0x1,0xfb5+-0x672*-0x5+-0x2fef),this['camera']['nearClip']=-0x9a3+0x5*-0x1b7+-0x103*-0x12,this['camera']['farClip']=_0x172676['halfExtent'+'s']['y']*(0x1804+-0x1a6e*0x1+0x9b*0x4);const _0x198375=Math['max'](_0x172676['halfExtent'+'s']['x'],_0x172676['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x198375;}else _0x4ac4c6['lightBound'+'s']['intersects'](_0x479b92['bounds'])||(_0x167388=!(0x8*-0x245+0x11e+0x110b*0x1));if(_0x5f12de['type']===Fe){let _0x2e50c7=!(0xd18+-0x6*-0x313+-0x1f89);const _0x5d3537=_0x479b92['meshInstan'+'ces'];for(let _0x197d08=0xa63+0x18ee+0x2351*-0x1;_0x197d08<_0x5d3537['length'];_0x197d08++)if(_0x5d3537[_0x197d08]['_isVisible'](_0x519a41)){_0x2e50c7=!(0x3*-0x140+-0x1c09+0x1fc9);break;}_0x2e50c7||(_0x167388=!(0x92*-0x11+-0x1*0xa16+0x13c9));}return _0x167388;}['setupLight'+'Array'](_0x5c632f,_0x4f1769){_0x5c632f[le]['length']=-0x18d1+0x1*-0xed+-0x2*-0xcdf,_0x5c632f[Le]['length']=-0x2*0x13d+-0x1*0x823+-0xd1*-0xd,_0x5c632f[Fe]['length']=0x7a*-0x37+-0x26d1*0x1+0x4107,_0x5c632f[_0x4f1769['type']][0x24ad+-0xc7c+-0x1*0x1831]=_0x4f1769,_0x4f1769['visibleThi'+'sFrame']=!(-0xbce+-0x2a9+-0x17*-0xa1);}['renderShad'+'owMap'](_0x3ea4f1,_0x532711,_0x42a12e,_0x3efd42){const _0x3b5f0e=_0x3efd42['light'],_0x20a050=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x18e08b=_0x3b5f0e['castShadow'+'s']&&(!_0x20a050||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x532711&&_0x18e08b){if(!_0x3b5f0e['shadowMap']&&!_0x20a050&&(_0x3b5f0e['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x3b5f0e)),_0x3b5f0e['type']===le){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x3b5f0e,_0x3ea4f1,this['camera'],_0x42a12e);const _0x3468e8=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x3b5f0e,this['camera']);_0x3468e8==null||_0x3468e8['render']();}else{if(this['device']['isWebGPU'])return b['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x3c7*-0x7+0x1*0x2119+-0x3b8a);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x3b5f0e,_0x3ea4f1,_0x42a12e),this['renderer']['shadowRend'+'erer']['render'](_0x3b5f0e,this['camera'],!(-0x1182+-0x2e3*0x1+0x2ea*0x7));}}return!(-0x98a+0x1603*0x1+0x1f*-0x67);}['postproces'+'sTextures'](_0x620b10,_0x55d5d8,_0x34ba60){const _0x2e2b91=this['lightmapFi'+'lters']['getDilate'](_0x620b10,this['bakeHDR']);let _0x440648;const _0x2973bd=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x2973bd&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x440648=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x620b10['setBlendSt'+'ate'](bt['NOBLEND']),_0x620b10['setDepthSt'+'ate'](us['NODEPTH']),_0x620b10['setStencil'+'State'](null,null);for(let _0xdd50e8=-0xb5*0x11+-0x659+0x125e;_0xdd50e8<_0x55d5d8['length'];_0xdd50e8++){const _0x1c75c4=_0x55d5d8[_0xdd50e8];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0xdd50e8);for(let _0xe75fd0=-0x119*0x1+0x17*0x199+0x152*-0x1b;_0xe75fd0<_0x34ba60;_0xe75fd0++){const _0x16864a=_0x1c75c4['renderTarg'+'ets'][_0xe75fd0],_0x3363b5=_0x16864a['colorBuffe'+'r'],_0x592356=this['renderTarg'+'ets']['get'](_0x3363b5['width']),_0x1e1e60=_0x592356['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x3363b5['width'],_0x3363b5['height']);for(let _0x54cc8e=-0xafd+0xeed*-0x2+-0x267*-0x11;_0x54cc8e<-0x1338+0x85f+0x6*0x1cf;_0x54cc8e++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x3363b5),fn(_0x620b10,_0x592356,_0x2973bd&&_0xe75fd0===-0xb98+-0xa9*-0x11+0x5f&&_0x54cc8e===0x1*0x1807+-0x11b7+-0x650?_0x440648:_0x2e2b91),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x1e1e60),fn(_0x620b10,_0x16864a,_0x2e2b91);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x33ab73,_0x10c5d6,_0x1db3f1){const _0x13390e=this['scene'],_0x16fd08=_0x13390e['layers'],_0x349644=this['device'],_0x17d4f1=_0x13390e['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x349644,_0x13390e,_0x33ab73),this['setupScene'](),_0x16fd08['_update'](),this['computeNod'+'esBounds'](_0x10c5d6),this['allocateTe'+'xtures'](_0x10c5d6,_0x33ab73),this['renderer']['collectLig'+'hts'](_0x16fd08);const _0x16cad1=[],_0x3c2cd7=[];this['prepareLig'+'htsToBake'](_0x16cad1,_0x3c2cd7),this['updateTran'+'sforms'](_0x1db3f1);const _0x1093e8=this['prepareSha'+'dowCasters'](_0x1db3f1);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x1093e8),this['renderer']['gpuUpdate'](_0x1093e8);const _0x57fc06=this['computeBou'+'nds'](_0x1093e8);let _0x41864c,_0x4b8411,_0x1dbba9,_0x422022;for(_0x41864c=-0x1*-0x19d+0x1027+-0x17b*0xc;_0x41864c<_0x10c5d6['length'];_0x41864c++)for(_0x1dbba9=_0x10c5d6[_0x41864c]['meshInstan'+'ces'],_0x4b8411=-0x512+-0x1b*-0x1b+0x239;_0x4b8411<_0x1dbba9['length'];_0x4b8411++)_0x422022=_0x1dbba9[_0x4b8411],_0x422022['setLightma'+'pped'](!(-0x1e28+-0x1a28+0x3851)),_0x422022['mask']=ar,_0x422022['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][-0x1067+0x2*-0x87c+-0x1*-0x215f],this['blackTex']),_0x422022['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][-0xb9b*0x1+0xc54+-0xb8],this['blackTex']);for(_0x4b8411=0x643+-0x24d3+0x1e90;_0x4b8411<_0x3c2cd7['length'];_0x4b8411++)_0x3c2cd7[_0x4b8411]['light']['enabled']=!(0x1d*-0x58+0x131e+0x1*-0x925);const _0x11d443=[[],[],[]];let _0xa6d2b2,_0x4148c3,_0x176683=!(0x12f2+0x1*-0x1169+-0x188);for(_0x41864c=0x12fc+-0xd33*-0x2+-0x2d62;_0x41864c<_0x3c2cd7['length'];_0x41864c++){const _0x38ce1d=_0x3c2cd7[_0x41864c],_0x43e9b1=_0x38ce1d instanceof Y_,_0x55cf62=_0x38ce1d['light']['type']===le;let _0xf6e90f=_0x38ce1d['numVirtual'+'Lights'];_0x33ab73>-0x5b+0xe41+-0x1*0xde5&&_0xf6e90f>0xff2+0x246a+0x1*-0x345b&&_0x38ce1d['light']['bakeDir']&&(_0xf6e90f=-0x344+0x16d7+-0x1392,b['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x3f7e26=0x2*0xb73+-0xc05*-0x3+-0xd*0x489;_0x3f7e26<_0xf6e90f;_0x3f7e26++){G['pushGpuMar'+'ker'](_0x349644,'Light:'+_0x38ce1d['light']['_node']['name']+':'+_0x3f7e26),_0xf6e90f>-0x724+-0x149a*-0x1+-0xd75&&_0x38ce1d['prepareVir'+'tualLight'](_0x3f7e26,_0xf6e90f),_0x38ce1d['startBake']();let _0x571020=!(0x161*-0x1a+0xe58+0x1583);const _0x29a84d=this['lightCamer'+'aPrepare'](_0x349644,_0x38ce1d);for(_0x4148c3=0x5c4+-0x4ef+-0xd5;_0x4148c3<_0x10c5d6['length'];_0x4148c3++){const _0x236425=_0x10c5d6[_0x4148c3];if(_0x1dbba9=_0x236425['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x38ce1d,_0x236425,_0x29a84d,_0x57fc06))continue;this['setupLight'+'Array'](_0x11d443,_0x38ce1d['light']);const _0x4ca24c=_0x55cf62?[]:[_0x38ce1d['light']];for(_0x17d4f1&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x4ca24c,this['lightingPa'+'rams']),_0x571020=this['renderShad'+'owMap'](_0x16fd08,_0x571020,_0x1093e8,_0x38ce1d),_0x17d4f1&&this['worldClust'+'ers']['update'](_0x4ca24c,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x1dbba9),_0xa6d2b2=-0x1fc3+-0x119f+0x3162;_0xa6d2b2<_0x33ab73&&!(_0xa6d2b2>0x2200+-0xb29+-0x16d7&&_0x3f7e26>-0x8b*0x19+0x1*-0x204d+0x2de0||_0x43e9b1&&_0xa6d2b2>0x1d58+-0x2292+0x1*0x53a);_0xa6d2b2++){G['pushGpuMar'+'ker'](_0x349644,'LMPass:'+_0xa6d2b2);const _0x3ad950=_0x236425['renderTarg'+'ets'][_0xa6d2b2],_0x4b7074=_0x236425['renderTarg'+'ets'][_0xa6d2b2]['colorBuffe'+'r']['width'],_0x4e3d51=this['renderTarg'+'ets']['get'](_0x4b7074),_0x53a9b8=_0x4e3d51['colorBuffe'+'r'];_0xa6d2b2===0x8*0x120+-0x1*-0x21bb+-0x2abb?_0x176683=_0x13390e['updateShad'+'ers']:_0x176683&&(_0x13390e['updateShad'+'ers']=!(0x23d5+0xe5f*0x1+-0x7*0x72c));let _0x20336a=this['passMateri'+'als'][_0xa6d2b2];for(_0x43e9b1&&_0x3f7e26+(0xfa5*-0x1+-0xa44+0x19ea)===_0xf6e90f&&_0xa6d2b2===-0x25d2+0x907*-0x2+-0x10*-0x37e&&(_0x20336a=this['ambientAOM'+'aterial']),_0x4b8411=0x2a3*-0x9+0x1*-0x2165+-0x2*-0x1c90;_0x4b8411<_0x1dbba9['length'];_0x4b8411++)_0x1dbba9[_0x4b8411]['material']=_0x20336a;if(this['renderer']['updateShad'+'ers'](_0x1dbba9),_0xa6d2b2===vP&&this['constantBa'+'keDir']['setValue'](_0x38ce1d['light']['bakeDir']?0x1*0x182f+0x2482*0x1+-0x3cb0:0x3e*-0x4f+0x21c1*-0x1+0x34e3),_0x349644['isWebGPU']){const _0x37f957=new yP(_0x349644,this['renderer'],this['camera'],_0x17d4f1?this['worldClust'+'ers']:null,_0x1dbba9,_0x11d443);_0x37f957['init'](_0x4e3d51),_0x37f957['render'](),_0x37f957['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x4e3d51,!(0x25d0+0x5*-0x56d+-0xaaf)),_0x17d4f1&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x648*-0x2+0xe8f+-0x1b1f,this['renderer']['_shadowMap'+'Time']=0x6b+-0x2595+0x252a,this['renderer']['renderForw'+'ard'](this['camera'],_0x4e3d51,_0x1dbba9,_0x11d443,xn),_0x349644['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x236425['renderTarg'+'ets'][_0xa6d2b2]=_0x4e3d51,this['renderTarg'+'ets']['set'](_0x4b7074,_0x3ad950),_0x4b8411=0x9*-0xb8+0x119b+-0xb23*0x1;_0x4b8411<_0x1dbba9['length'];_0x4b8411++)_0x422022=_0x1dbba9[_0x4b8411],_0x422022['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][_0xa6d2b2],_0x53a9b8),_0x422022['_shaderDef'+'s']|=Nu;G['popGpuMark'+'er'](_0x349644);}this['restoreMat'+'erials'](_0x1dbba9);}_0x38ce1d['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x349644);}}for(this['postproces'+'sTextures'](_0x349644,_0x10c5d6,_0x33ab73),_0x4148c3=-0x33*-0x8b+0x133f*0x1+-0x2ef0;_0x4148c3<_0x1db3f1['length'];_0x4148c3++)_0x1db3f1[_0x4148c3]['restore']();this['restoreLig'+'hts'](_0x16cad1),this['restoreSce'+'ne'](),_0x17d4f1||this['shadowMapC'+'ache']['clear']();}}const uc=class uc extends de{constructor(_0xdb9af1,_0x5e835c){super(),c(this,'system'),c(this,'entity'),(this['system']=_0xdb9af1,this['entity']=_0x5e835c,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x293c82,_0x3353c0,_0x954b8d){this['fire']('set_'+_0x293c82,_0x293c82,_0x3353c0,_0x954b8d);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x349cbd,_0x37d035){_0x37d035['forEach'](_0x432215=>{const _0x1a5243=typeof _0x432215=='object'?_0x432215['name']:_0x432215;Object['defineProp'+'erty'](_0x349cbd,_0x1a5243,{'get':function(){return this['data'][_0x1a5243];},'set':function(_0x31eadc){const _0x39a2d7=this['data'],_0x208c24=_0x39a2d7[_0x1a5243];_0x39a2d7[_0x1a5243]=_0x31eadc,this['fire']('set',_0x1a5243,_0x208c24,_0x31eadc);},'configurable':!(-0x15fa+0x1486+0x174)});}),_0x349cbd['_accessors'+'Built']=!(0x9b8+-0x10d*0x16+0xd66);}['buildAcces'+'sors'](_0x3353c6){uc['_buildAcce'+'ssors'](this,_0x3353c6);}['onSetEnabl'+'ed'](_0x18992b,_0x4c80dc,_0x249c94){_0x4c80dc!==_0x249c94&&this['entity']['enabled']&&(_0x249c94?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x3149df=this['system']['store'][this['entity']['getGuid']()];return _0x3149df?_0x3149df['data']:null;}set['enabled'](_0x3b2c5){}get['enabled'](){return!(-0x1919+0x3*-0x6e6+-0x1*-0x2dcb);}};c(uc,'order',0xee6+0x737+0x1*-0x161d);let pe=uc;class Qe extends de{constructor(_0x49ac0f){super(),this['app']=_0x49ac0f,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x25c9ee,_0x42dff9={}){const _0x5360a7=new this['ComponentT'+'ype'](this,_0x25c9ee),_0x1cb9e9=new this['DataType']();return this['store'][_0x25c9ee['getGuid']()]={'entity':_0x25c9ee,'data':_0x1cb9e9},_0x25c9ee[this['id']]=_0x5360a7,_0x25c9ee['c'][this['id']]=_0x5360a7,this['initialize'+'ComponentD'+'ata'](_0x5360a7,_0x42dff9,[]),this['fire']('add',_0x25c9ee,_0x5360a7),_0x5360a7;}['removeComp'+'onent'](_0x3263a3){const _0xb799ed=this['id'],_0x4aaa6c=this['store'][_0x3263a3['getGuid']()],_0x35950b=_0x3263a3['c'][_0xb799ed];_0x35950b['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x3263a3,_0x35950b),delete this['store'][_0x3263a3['getGuid']()],_0x3263a3[_0xb799ed]=void(-0x1*-0x242c+-0x3*-0x75f+-0x3a49),delete _0x3263a3['c'][_0xb799ed],this['fire']('remove',_0x3263a3,_0x4aaa6c['data']);}['cloneCompo'+'nent'](_0xb01ae7,_0x35fa94){const _0x186a17=this['store'][_0xb01ae7['getGuid']()];return this['addCompone'+'nt'](_0x35fa94,_0x186a17['data']);}['initialize'+'ComponentD'+'ata'](_0x3524f4,_0x3bab3e={},_0x11d31e){for(let _0x49eb4a=-0x25ae+-0xed1+0x347f,_0x23d630=_0x11d31e['length'];_0x49eb4a<_0x23d630;_0x49eb4a++){const _0x4f549b=_0x11d31e[_0x49eb4a];let _0x2c8564,_0x38b292;typeof _0x4f549b=='object'?(_0x2c8564=_0x4f549b['name'],_0x38b292=_0x4f549b['type']):(_0x2c8564=_0x4f549b,_0x38b292=void(-0x3aa*0x3+-0x1*-0x1b37+0x1039*-0x1));let _0x24944d=_0x3bab3e[_0x2c8564];_0x24944d!==void(-0x6d9+-0xf*0x23b+-0x2*-0x1427)?(_0x38b292!==void(0x8c3*0x1+-0x2f5*0x3+0x4*0x7)&&(_0x24944d=wP(_0x24944d,_0x38b292)),_0x3524f4[_0x2c8564]=_0x24944d):_0x3524f4[_0x2c8564]=_0x3524f4['data'][_0x2c8564];}_0x3524f4['enabled']&&_0x3524f4['entity']['enabled']&&_0x3524f4['onEnable']();}['getPropert'+'iesOfType'](_0x4da753){const _0x3cdcd0=[];return(this['schema']||[])['forEach'](_0x21cd4f=>{_0x21cd4f&&typeof _0x21cd4f=='object'&&_0x21cd4f['type']===_0x4da753&&_0x3cdcd0['push'](_0x21cd4f);}),_0x3cdcd0;}['destroy'](){this['off']();}}function wP(_0x1706a5,_0x83805e){if(!_0x1706a5)return _0x1706a5;switch(_0x83805e){case'rgb':return _0x1706a5 instanceof Y?_0x1706a5['clone']():new Y(_0x1706a5[0x7c9*-0x1+0x210a+-0xf*0x1af],_0x1706a5[-0xd72+0x1*-0x226e+0x2fe1],_0x1706a5[0x4c5+0x1*0xb2b+-0xfee]);case'rgba':return _0x1706a5 instanceof Y?_0x1706a5['clone']():new Y(_0x1706a5[-0x18a6*0x1+-0xba5*0x1+-0x3*-0xc19],_0x1706a5[-0x1*0xb35+-0x24a9+-0x2b*-0x11d],_0x1706a5[0x1*-0x2bd+0x1*-0x31d+0x5dc],_0x1706a5[0x9d*0x27+0x3dd*-0x4+-0x874]);case'vec2':return _0x1706a5 instanceof W?_0x1706a5['clone']():new W(_0x1706a5[-0x10f6+0x13ec+-0x2f6],_0x1706a5[-0x215*0x4+0x14e1+0x1*-0xc8c]);case'vec3':return _0x1706a5 instanceof A?_0x1706a5['clone']():new A(_0x1706a5[0xf6c+0x25ee+-0x355a],_0x1706a5[0x1f4c+0x11cb+-0x3116],_0x1706a5[0xae*-0xa+0x199e+-0x12d0]);case'vec4':return _0x1706a5 instanceof ee?_0x1706a5['clone']():new ee(_0x1706a5[-0x454+-0x1824+-0x1c78*-0x1],_0x1706a5[0x1*-0xc91+-0x767*0x5+0x3195],_0x1706a5[0x11ee+0x6e5*-0x5+0x108d],_0x1706a5[-0x1a8c+0x1*-0x1678+0xa3*0x4d]);case'boolean':case'number':case'string':return _0x1706a5;case'entity':return _0x1706a5;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x83805e);}}const q0=-0x61*-0x1f+-0x53+0x11*-0xac,Qu=0x25f*-0xd+-0x167*0xb+0x2e41,Ju=0xfd*-0xa+0x1584+-0xba0;class TP{constructor(){this['_left']=(0x1*0x44f+0x448*-0x6+-0xab1*-0x2)/(-0x53f+-0x1f2d+0x246c),this['_right']=-(0x16*0x9b+-0x1*-0x1952+-0x585*0x7)/(0x17ae+-0x25e7+0xb*0x14b),this['_len']=0x14c2+-0xb27*0x1+0x1*-0x99b,this['_recip']=0x21ab*0x1+-0x220f+0x64,this['_p0']=0x17cc+-0x1*-0x225d+0x15*-0x2c5,this['_p1']=-0x115a+0x576+0xbe4,this['_t']=-0x7ea+-0x2352+-0xacf*-0x4,this['_hermite']={'valid':!(0x254d+-0x1f89+0x5c3*-0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x5b7628,_0x2d59fd){if(_0x5b7628<this['_left']||_0x5b7628>=this['_right']){const _0x3abad6=_0x2d59fd['length'];if(!_0x3abad6)this['_left']=-(-0x166e+-0x257b+-0x1*-0x3bea)/(0x1db9+-0x11f*-0x9+-0x5b*0x70),this['_right']=(-0x14e*-0xe+0x72*-0x2+0x1*-0x115f)/(-0x1*-0x1c8d+-0x737*-0x5+0x5e0*-0xb),this['_len']=0x1f08+-0x1*-0xf56+-0x2e5e,this['_recip']=-0x1e45+-0x1815+0x365a,this['_p0']=this['_p1']=0xe85+-0x1*-0xa75+-0x18fa;else{if(_0x5b7628<_0x2d59fd[-0x2043+0x1c*0x63+0x156f])this['_left']=-(0x110b*0x2+-0x2341+0xa*0x1e)/(0x6b9*0x3+-0x157+0x1e2*-0xa),this['_right']=_0x2d59fd[0x603*0x2+-0x11*0x1b1+0x10bb],this['_len']=-0x1330+0xc51+0x6df*0x1,this['_recip']=0x162d+-0xd*0x2b3+0xcea,this['_p0']=this['_p1']=-0x1*0xbc6+-0x15d*0x1b+0x1*0x3095;else{if(_0x5b7628>=_0x2d59fd[_0x3abad6-(0x7*0x1a3+-0x25ce+0x1a5a)])this['_left']=_0x2d59fd[_0x3abad6-(-0x1*0x557+-0xdc9+0x1321)],this['_right']=(-0xf09+-0x21b6+0x30c0)/(0x1367*0x1+-0x982*0x3+-0x5*-0x1d3),this['_len']=0xa6d+-0x5*-0x67f+-0x2ae8,this['_recip']=0x2489+-0x18cd+-0xbbc,this['_p0']=this['_p1']=_0x3abad6-(-0x1e9b*-0x1+-0xb07*-0x3+-0x3faf);else{const _0x27f28c=this['_findKey'](_0x5b7628,_0x2d59fd);this['_left']=_0x2d59fd[_0x27f28c],this['_right']=_0x2d59fd[_0x27f28c+(-0x5*0x36f+-0xb*-0x11b+0x503)],this['_len']=this['_right']-this['_left'];const _0x434bad=(0x1714+0x206a+-0x377d)/this['_len'];this['_recip']=isFinite(_0x434bad)?_0x434bad:0x1f78+-0x2167*0x1+0x1ef,this['_p0']=_0x27f28c,this['_p1']=_0x27f28c+(0xffb*-0x1+0x6af*-0x4+0x2ab8);}}}}this['_t']=this['_recip']===0x1*0xd59+-0x15*-0x153+0x36e*-0xc?-0x25fa+0x6d*0x3f+0xb27:(_0x5b7628-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x11e+0x9e6*0x1+-0x8c7);}['_findKey'](_0x590d11,_0x104b54){let _0x37084b=0x1d49+-0x1*-0xfc9+-0x2d12;for(;_0x590d11>=_0x104b54[_0x37084b+(-0x1a9f+0x1fce+-0x52e)];)_0x37084b++;return _0x37084b;}['eval'](_0x4ad3da,_0x5fc884,_0x484d96){const _0x26d9f9=_0x484d96['_data'],_0x29d499=_0x484d96['_component'+'s'],_0xde7260=this['_p0']*_0x29d499;if(_0x5fc884===q0){for(let _0x22f8fd=0x28e*-0x1+0xc06+-0x978;_0x22f8fd<_0x29d499;++_0x22f8fd)_0x4ad3da[_0x22f8fd]=_0x26d9f9[_0xde7260+_0x22f8fd];}else{const _0x47e15f=this['_t'],_0x461075=this['_p1']*_0x29d499;switch(_0x5fc884){case Qu:for(let _0xd8a413=0x1297+0x7fd+-0x1a94;_0xd8a413<_0x29d499;++_0xd8a413)_0x4ad3da[_0xd8a413]=z['lerp'](_0x26d9f9[_0xde7260+_0xd8a413],_0x26d9f9[_0x461075+_0xd8a413],_0x47e15f);break;case Ju:{const _0x39cd72=this['_hermite'];if(!_0x39cd72['valid']){const _0x3f650b=_0x47e15f*_0x47e15f,_0x336160=_0x47e15f+_0x47e15f,_0x5241c2=0x1*-0x2483+0x341*0x1+0x2143-_0x47e15f,_0x8bde3f=_0x5241c2*_0x5241c2;_0x39cd72['valid']=!(0x1*-0x26e9+0x61*-0x1e+0x3d*0xd3),_0x39cd72['p0']=(-0x1a85+0x1dbe+-0x338+_0x336160)*_0x8bde3f,_0x39cd72['m0']=_0x47e15f*_0x8bde3f,_0x39cd72['p1']=_0x3f650b*(0x2bb*-0xd+0x1*0x940+-0x2*-0xd21-_0x336160),_0x39cd72['m1']=_0x3f650b*(_0x47e15f-(-0xd63+0x5*-0x455+0x230d));}const _0x14502f=(this['_p0']*(0x49*0x54+-0x1*-0x1f9d+0x1*-0x378e)+(0x20*0x12+-0x1179+-0x2*-0x79d))*_0x29d499,_0x386bfa=(this['_p0']*(0xf51+-0x15*-0x15c+0x6*-0x74f)+(0x551*-0x5+-0x1a*-0x79+0xe4d))*_0x29d499,_0x573199=(this['_p1']*(0x1839+-0xbf9+-0xc3d)+(-0x1*0xa4a+0x1117+-0x6cc))*_0x29d499,_0x572786=(this['_p1']*(-0x47*0x6a+-0xec*-0x1a+-0x1*-0x571)+(0x2*-0x61+0x8c+-0x12*-0x3))*_0x29d499;for(let _0x4519bc=0x1a78+0x185d+-0x32d5;_0x4519bc<_0x29d499;++_0x4519bc)_0x4ad3da[_0x4519bc]=_0x39cd72['p0']*_0x26d9f9[_0x14502f+_0x4519bc]+_0x39cd72['m0']*_0x26d9f9[_0x386bfa+_0x4519bc]*this['_len']+_0x39cd72['p1']*_0x26d9f9[_0x573199+_0x4519bc]+_0x39cd72['m1']*_0x26d9f9[_0x572786+_0x4519bc]*this['_len'];break;}}}}}class Z_{constructor(_0x3e33ec){this['_name']=_0x3e33ec['name']+'Snapshot',this['_time']=-(0x1ca4+0x2491+-0x4134),this['_cache']=[],this['_results']=[];for(let _0x58af95=-0x1723+0x17d1*0x1+-0x6*0x1d;_0x58af95<_0x3e33ec['_inputs']['length'];++_0x58af95)this['_cache'][_0x58af95]=new TP();const _0x500202=_0x3e33ec['_curves'],_0x3634d9=_0x3e33ec['_outputs'];for(let _0x1e19b8=-0x2*0xec3+-0xae7*0x3+-0x3e3b*-0x1;_0x1e19b8<_0x500202['length'];++_0x1e19b8){const _0x1ac0e4=_0x500202[_0x1e19b8],_0x582753=_0x3634d9[_0x1ac0e4['_output']],_0x2fa40f=[];for(let _0x496847=0x45*-0x13+-0x26cd+0x2bec*0x1;_0x496847<_0x582753['_component'+'s'];++_0x496847)_0x2fa40f[_0x496847]=0x193d+-0x1d7d*-0x1+-0x36ba;this['_results'][_0x1e19b8]=_0x2fa40f;}}}const Ro=class Ro{constructor(_0x257a4,_0x4fc824,_0xca0bc9,_0x7e8272,_0x344160,_0x33666b){this['_name']=_0x257a4['name'],this['_track']=_0x257a4,this['_snapshot']=new Z_(_0x257a4),this['_playing']=_0x7e8272,this['_time']=_0x4fc824,this['_speed']=_0xca0bc9,this['_loop']=_0x344160,this['_blendWeig'+'ht']=-0x14ed*-0x1+0x1f*0x1a+-0x1812,this['_blendOrde'+'r']=0x69b+-0x8d0+-0x235*-0x1,this['_eventHand'+'ler']=_0x33666b,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x1f2aa5){this['_name']=_0x1f2aa5;}get['name'](){return this['_name'];}set['track'](_0x384573){this['_track']=_0x384573,this['_snapshot']=new Z_(_0x384573);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x1f78f4){this['_time']=_0x1f78f4,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x16b0a1){const _0x437cf4=Math['sign'](_0x16b0a1)!==Math['sign'](this['_speed']);this['_speed']=_0x16b0a1,_0x437cf4&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x40c8d1){this['_loop']=_0x40c8d1;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0xdbf22c){this['_blendWeig'+'ht']=_0xdbf22c;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x28467f){this['_blendOrde'+'r']=_0x28467f;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x5ab10d){this['_eventCurs'+'or']=_0x5ab10d;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x1bd8+0x24f8+-0x920:this['_track']['events']['length']-(-0x142e+0x310+0x111f);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x146b+0x3*0xb70+-0xde5*0x1;}['nextEventA'+'headOfTime'](_0x539804){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x539804:this['nextEvent']['time']>=_0x539804:!(-0x1*-0x142b+0x1e3a+-0x3264);}['nextEventB'+'ehindTime'](_0x4a4661){return this['nextEvent']?_0x4a4661===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x4a4661:this['nextEvent']['time']<=_0x4a4661:this['isReverse']?this['nextEvent']['time']>_0x4a4661:this['nextEvent']['time']<_0x4a4661:!(-0x1*0x244d+-0x408+-0x1*-0x2856);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x22c*0x3+0x78f+-0x10a):-0xc99+0x598*0x5+-0xf5f*0x1;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0xa2b*-0x3+-0x6d*-0x4c+0x53d*-0xc):0x17c5+0x1*-0x10f+-0x16b5,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x1*-0x1049+0xa53*0x3+-0x2f42:this['_eventCurs'+'or']<-0x70f*0x1+0x215a+-0x1*0x1a4b&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0xbf2+0xfa2+-0x3af));}['clipFrameT'+'ime'](_0x12deef){const _0x11cfa8=Ro['eventFrame'];_0x11cfa8['start']=-0x68d+0x2703+-0x2076,_0x11cfa8['end']=_0x12deef,_0x11cfa8['residual']=0x19ff+0xa5a+-0x5*0x745,this['isReverse']?_0x12deef<0x18a6+-0x1*0x213d+-0x1*-0x897&&(_0x11cfa8['start']=this['track']['duration'],_0x11cfa8['end']=0x4f*0x54+-0xe76+0x146*-0x9,_0x11cfa8['residual']=_0x12deef+this['track']['duration']):_0x12deef>this['track']['duration']&&(_0x11cfa8['start']=0xa*0x37d+-0x2112+-0x1d0,_0x11cfa8['end']=this['track']['duration'],_0x11cfa8['residual']=_0x12deef-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x271954,_0x271be6){return this['nextEventA'+'headOfTime'](_0x271954)&&this['nextEventB'+'ehindTime'](_0x271be6)?(this['fireNextEv'+'ent'](),!(0xad*-0x29+0x270a+0x3c7*-0x3)):!(-0x5e6+0x5*-0x71+0x81c);}['activeEven'+'tsForFrame'](_0x561c7e,_0x285d18){const _0x4219b2=Ro['eventFrame'];this['clipFrameT'+'ime'](_0x285d18);const _0x3ed0b5=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x561c7e,_0x4219b2['end'])&&_0x3ed0b5!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x4219b2['residual'])>-0x1c61+-0x2223+0x4*0xfa1&&this['activeEven'+'tsForFrame'](_0x4219b2['start'],_0x4219b2['residual']);}['progressFo'+'rTime'](_0x454a7d){return _0x454a7d*this['_speed']/this['_track']['duration'];}['_update'](_0x4abd41){if(this['_playing']){let _0x3b6d8b=this['_time'];const _0x40d0fb=this['_track']['duration'],_0x1cdab5=this['_speed'],_0x59058a=this['_loop'];this['_track']['events']['length']>-0x475*0x6+0x1af5+0x1*-0x37&&_0x40d0fb>-0xca*-0x11+0x21b1+-0x2f1b&&this['activeEven'+'tsForFrame'](_0x3b6d8b,_0x3b6d8b+_0x1cdab5*_0x4abd41),_0x3b6d8b+=_0x1cdab5*_0x4abd41,_0x1cdab5>=-0x39+0x8d4+-0x89b?_0x3b6d8b>_0x40d0fb&&(_0x59058a?_0x3b6d8b=_0x3b6d8b%_0x40d0fb||-0xe*0x4c+0x1f25+-0x1afd:(_0x3b6d8b=this['_track']['duration'],this['pause']())):_0x3b6d8b<0x1a2b+0x1141+0xadb*-0x4&&(_0x59058a?_0x3b6d8b=_0x40d0fb+(_0x3b6d8b%_0x40d0fb||-0x1*0x2440+0x2*0xebd+0x6c6):(_0x3b6d8b=0x1*-0x1b5b+-0x1*-0xf2c+-0x1*-0xc2f,this['pause']())),this['_time']=_0x3b6d8b;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x115e+0x2044+-0x1*0x31a2),this['_time']=-0x9*0x412+-0x249b*-0x1+0x7;}['stop'](){this['_playing']=!(-0x1*-0x2216+0x1*-0x2466+-0x251*-0x1),this['_time']=0x5*-0x112+-0x200*0x12+0x295a;}['pause'](){this['_playing']=!(-0x34b+-0x84e+-0xf*-0xc6);}['resume'](){this['_playing']=!(-0x16ef+0x1109*0x2+-0xb23);}['reset'](){this['_time']=0x1b74*-0x1+-0xb13+0x1*0x2687;}};c(Ro,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Qh=Ro;const X0='NONE',AP='PREV_STATE',EP='NEXT_STATE',CP='PREV_STATE'+'_NEXT_STAT'+'E',MP='NEXT_STATE'+'_PREV_STAT'+'E',PP='GREATER_TH'+'AN',RP='LESS_THAN',IP='GREATER_TH'+'AN_EQUAL_T'+'O',DP='LESS_THAN_'+'EQUAL_TO',LP='EQUAL_TO',FP='NOT_EQUAL_'+'TO',Q_='INTEGER',J_='FLOAT',eg='BOOLEAN',xh='TRIGGER',kP='1D',OP='2D_DIRECTI'+'ONAL',BP='2D_CARTESI'+'AN',NP='DIRECT',uo='START',ef='END',Or='ANY',Jh=[uo,ef,Or],j0='OVERWRITE',zP='ADDITIVE';class Rt{static['dot'](_0x1ad249,_0x59f713){const _0x1ec4bf=_0x1ad249['length'];let _0x491e4f=-0x10fd+-0x1*-0x2491+-0x1394;for(let _0x5bafaa=-0x3b*-0x2b+-0x7*0x239+-0x5a6*-0x1;_0x5bafaa<_0x1ec4bf;++_0x5bafaa)_0x491e4f+=_0x1ad249[_0x5bafaa]*_0x59f713[_0x5bafaa];return _0x491e4f;}static['normalize'](_0xe1e418){let _0x25fb42=Rt['dot'](_0xe1e418,_0xe1e418);if(_0x25fb42>0x980+-0x18b3+0xf33*0x1){_0x25fb42=(-0x1268+-0x2*-0x427+0xa1b*0x1)/Math['sqrt'](_0x25fb42);const _0x44d497=_0xe1e418['length'];for(let _0x45244e=0x779*0x2+0xba8+-0xf*0x1c6;_0x45244e<_0x44d497;++_0x45244e)_0xe1e418[_0x45244e]*=_0x25fb42;}}static['set'](_0x4aa8e0,_0x2f8d02,_0x5d0a6a){const _0x2133a6=_0x4aa8e0['length'];if(_0x5d0a6a==='quaternion'){let _0x5c161f=Rt['dot'](_0x2f8d02,_0x2f8d02);_0x5c161f>-0x1eb6+0x1*0x1871+0x645&&(_0x5c161f=(0x9e8+0x1ed8+-0x28bf)/Math['sqrt'](_0x5c161f));for(let _0x496131=-0x1db8+0x1cfb+0xbd;_0x496131<_0x2133a6;++_0x496131)_0x4aa8e0[_0x496131]=_0x2f8d02[_0x496131]*_0x5c161f;}else{for(let _0x1f6811=0x3a*0x1+0x2447*0x1+-0x2481;_0x1f6811<_0x2133a6;++_0x1f6811)_0x4aa8e0[_0x1f6811]=_0x2f8d02[_0x1f6811];}}static['blendVec'](_0x3b0856,_0x147e09,_0x73672a,_0x56d4fb){const _0x3164ee=_0x56d4fb?0x383+-0xe2b+-0xaa9*-0x1:0xed6+0x124f*0x1+-0x2124-_0x73672a,_0x558da6=_0x3b0856['length'];for(let _0x2cd777=0x19*-0xe8+0x1d*-0xeb+0x3147;_0x2cd777<_0x558da6;++_0x2cd777)_0x3b0856[_0x2cd777]=_0x3b0856[_0x2cd777]*_0x3164ee+_0x147e09[_0x2cd777]*_0x73672a;}static['blendQuat'](_0x2b0ca8,_0x264f85,_0x48167e,_0x1f396e){const _0x18c672=_0x2b0ca8['length'],_0x5ac07c=_0x1f396e?0x20a6+0xb67*-0x2+-0x9d7:-0xf79+0x231*0x3+0x8e7-_0x48167e;Rt['dot'](_0x2b0ca8,_0x264f85)<0x3*-0xc1b+0x1b79+0x8d8&&(_0x48167e=-_0x48167e);for(let _0x16ce31=-0x11*-0xb6+-0x1419*0x1+0x803;_0x16ce31<_0x18c672;++_0x16ce31)_0x2b0ca8[_0x16ce31]=_0x2b0ca8[_0x16ce31]*_0x5ac07c+_0x264f85[_0x16ce31]*_0x48167e;_0x1f396e||Rt['normalize'](_0x2b0ca8);}static['blend'](_0x510b05,_0x19e6cd,_0x2f237f,_0x5532cf,_0x121848){_0x5532cf==='quaternion'?Rt['blendQuat'](_0x510b05,_0x19e6cd,_0x2f237f,_0x121848):Rt['blendVec'](_0x510b05,_0x19e6cd,_0x2f237f,_0x121848);}static['stableSort'](_0x55f175,_0x33185f){const _0xe0c458=_0x55f175['length'];for(let _0x2dd80e=0x1f63*0x1+-0xbcf+-0x1394;_0x2dd80e<_0xe0c458-(0x1*0x1849+0x1*-0x227b+0x7*0x175);++_0x2dd80e)for(let _0x375151=_0x2dd80e+(-0x1*-0x243f+0x12e7*0x1+-0x3725);_0x375151<_0xe0c458;++_0x375151)if(_0x33185f(_0x55f175[_0x375151],_0x55f175[_0x2dd80e])){const _0x515cfe=_0x55f175[_0x2dd80e];_0x55f175[_0x2dd80e]=_0x55f175[_0x375151],_0x55f175[_0x375151]=_0x515cfe;}}}const We=class We{constructor(_0x4f1cef,_0x5c4256){this['_component']=_0x4f1cef,this['mask']=new Int8Array(_0x4f1cef['layers']['length']),this['weights']=new Float32Array(_0x4f1cef['layers']['length']),this['totalWeigh'+'t']=-0x37*-0x21+0x3d0*0x3+-0x1287,this['counter']=-0x1c14+0x2613+-0x9ff,this['layerCount'+'er']=0xde6+-0x19a7+0xbc1,this['valueType']=_0x5c4256,this['dirty']=!(-0xed*-0x2a+0x1f11+-0x17d*0x2f),this['value']=_0x5c4256===We['TYPE_QUAT']?[-0xcce+0xfe9+-0x5*0x9f,0xb27*-0x1+-0x257*0x8+-0x1*-0x1ddf,-0x205f+0x151*0x11+0x1*0x9fe,0x2*0x9fa+0x20f6+-0x34e9]:[0x10*-0x143+-0xaab+-0xa49*-0x3,0x1ec2+0x254a+-0x440c,-0x17e3*0x1+0x1a39+-0x256],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x35f23d){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x1592+0xa22*-0x2+0x15*0x1fe||!this['mask'][_0x35f23d]?0x15ed+0x724+-0x1d11:this['_normalize'+'Weights']?this['weights'][_0x35f23d]/this['totalWeigh'+'t']:z['clamp'](this['weights'][_0x35f23d],-0x1*0x13c3+0x205+0x6*0x2f5,0xc95*-0x3+0x845+0x1d7b);}['_layerBlen'+'dType'](_0x3edf64){return this['_component']['layers'][_0x3edf64]['blendType'];}['setMask'](_0x1de3ec,_0x3b21e0){this['mask'][_0x1de3ec]=_0x3b21e0,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x1de3ec]['blendType']===j0&&(this['mask']=this['mask']['fill'](0x2261*-0x1+0x1f90+0x2d1*0x1,0x10b*-0xb+-0x1*0x531+0x9*0x1da,_0x1de3ec)),this['dirty']=!(-0x156d+0x6*0xfe+0x11*0xe9));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0x299*0x5+0xe2f+-0x1b2c;for(let _0x178f18=-0xc13+-0x1a02+0x1*0x2615;_0x178f18<this['weights']['length'];_0x178f18++)this['weights'][_0x178f18]=this['_component']['layers'][_0x178f18]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x178f18]*this['weights'][_0x178f18];this['dirty']=!(-0x170f+0x1055*-0x1+0x2765);}['updateValu'+'e'](_0x8d18e8,_0x22370a){if(this['counter']===-0x1*0x1b6d+-0x1f59+0x3ac6&&(Rt['set'](this['value'],We['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Rt['blend'](this['value'],this['baseValue'],-0x7*-0x1a9+0x2*0x11f1+0x10*-0x2f8,this['valueType'])),!(!this['mask'][_0x8d18e8]||this['getWeight'](_0x8d18e8)===-0x14f0+0xe4d*0x2+-0x7aa)){if(this['_layerBlen'+'dType'](_0x8d18e8)===zP&&!this['_normalize'+'Weights']){if(this['valueType']===We['TYPE_QUAT']){const _0x265dd2=We['q1']['set'](this['value'][-0x342*-0x3+0x1caf*0x1+0xb*-0x37f],this['value'][-0x131a+0xaf0+0x82b],this['value'][0xbf4+-0x2642+0x1a50],this['value'][0xec+-0xcec+-0x5*-0x267]),_0x1f450a=We['q2']['set'](this['baseValue'][-0x1105+-0x11a8+0x22ad],this['baseValue'][0x1*-0x65f+-0x2d*0xd+0x1*0x8a9],this['baseValue'][-0x1483+-0x267e*-0x1+-0x11f9],this['baseValue'][0x128+0x2263*-0x1+-0x2*-0x109f]),_0xb8362c=We['q3']['set'](_0x22370a[0x1ccf+0xb45+0x12*-0x23a],_0x22370a[-0x259e+0x6d9+0x1ec6],_0x22370a[-0x11*0x16+0x8c1*0x3+-0x241*0xb],_0x22370a[-0x1*0xf4e+-0x1674+0x25c5]),_0x4406a2=_0x1f450a['invert']()['mul'](_0xb8362c);_0x4406a2['slerp'](ie['IDENTITY'],_0x4406a2,this['getWeight'](_0x8d18e8)),_0x265dd2['mul'](_0x4406a2),We['quatArr'][0x15b*0x2+-0x2493+-0x21dd*-0x1]=_0x265dd2['x'],We['quatArr'][0x1*-0x1265+0x2025+-0xdbf]=_0x265dd2['y'],We['quatArr'][-0x7c3*-0x2+0x1*0xd4e+-0x1cd2]=_0x265dd2['z'],We['quatArr'][0x1*-0x1551+0x1*-0x19c6+-0x178d*-0x2]=_0x265dd2['w'],Rt['set'](this['value'],We['quatArr'],this['valueType']);}else We['vecArr'][0x8*0x16+0x2061+-0x2111]=_0x22370a[0x1a63+0x3*0xc+-0x1a87]-this['baseValue'][-0xad3+-0x1*-0x2105+-0x6*0x3b3],We['vecArr'][0x206e+-0x7*0x385+-0x1*0x7ca]=_0x22370a[0x3*-0x36c+0x77f*-0x5+0x20*0x17e]-this['baseValue'][0x29*0xc6+-0x1*-0x96b+-0x2920],We['vecArr'][-0x26a8+0x11f8+-0x373*-0x6]=_0x22370a[-0x240e+-0x1fde+-0x43ee*-0x1]-this['baseValue'][-0x3*0x757+0x6*-0x13d+0x1*0x1d75],Rt['blend'](this['value'],We['vecArr'],this['getWeight'](_0x8d18e8),this['valueType'],!(0xe74+0x209f*-0x1+0x122b*0x1));}else Rt['blend'](this['value'],_0x22370a,this['getWeight'](_0x8d18e8),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(We,'TYPE_QUAT','quaternion'),c(We,'TYPE_VEC3','vector3'),c(We,'q1',new ie()),c(We,'q2',new ie()),c(We,'q3',new ie()),c(We,'quatArr',[-0x11aa*0x2+0x267b+0x1*-0x327,0x287+-0x1*-0x95b+0x3f6*-0x3,0x22ea*0x1+0x1*-0x156b+-0xd7f,-0x1041+0x1d8c+-0xd4a]),c(We,'vecArr',[-0x571+-0x319+0x88a,0x436+-0x1*0x115a+0xd24,0x9a5+0x958+-0x12fd]),c(We,'IDENTITY_Q'+'UAT_ARR',[-0x2d7*-0x5+-0x1*-0x1069+0x6*-0x51a,-0x1a8b+-0x1*0x242f+0x3eba,0x103f*0x1+0x1cbf+-0x2cfe*0x1,0x1c23+-0x146+-0x1adc]);let Eo=We;class Y0{constructor(_0x120b39){this['_binder']=_0x120b39,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x4c88f9){const _0x2b2894=this['_targets'],_0x40df14=this['_binder'],_0x1d5fce=_0x4c88f9['track']['curves'],_0x1f9903=_0x4c88f9['snapshot'],_0x41a4ab=[],_0x1bb105=[];for(let _0x4fe7c3=0x1da2+-0x959+-0x1449;_0x4fe7c3<_0x1d5fce['length'];++_0x4fe7c3){const _0x208183=_0x1d5fce[_0x4fe7c3]['paths'];for(let _0x3debcf=0x12ef+0x1988+0x2c77*-0x1;_0x3debcf<_0x208183['length'];++_0x3debcf){const _0xfd3955=_0x208183[_0x3debcf],_0x7e9821=_0x40df14['resolve'](_0xfd3955);let _0x475c92=_0x2b2894[_0x7e9821&&_0x7e9821['targetPath']||null];if(!_0x475c92&&_0x7e9821){_0x475c92={'target':_0x7e9821,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x1c24df=0x258f*-0x1+0x23ff+0x190;_0x1c24df<_0x475c92['target']['components'];++_0x1c24df)_0x475c92['value']['push'](-0x1*0xcbb+0xcd0*-0x1+0x198b*0x1);if(_0x2b2894[_0x7e9821['targetPath']]=_0x475c92,_0x40df14['animCompon'+'ent']){if(!_0x40df14['animCompon'+'ent']['targets'][_0x7e9821['targetPath']]){let _0x230a27;_0x7e9821['targetPath']['substring'](_0x7e9821['targetPath']['length']-(-0x1c39*0x1+-0x258+0x1*0x1e9e))==='localRotat'+'ion'?_0x230a27=Eo['TYPE_QUAT']:_0x230a27=Eo['TYPE_VEC3'],_0x40df14['animCompon'+'ent']['targets'][_0x7e9821['targetPath']]=new Eo(_0x40df14['animCompon'+'ent'],_0x230a27);}_0x40df14['animCompon'+'ent']['targets'][_0x7e9821['targetPath']]['layerCount'+'er']++,_0x40df14['animCompon'+'ent']['targets'][_0x7e9821['targetPath']]['setMask'](_0x40df14['layerIndex'],-0x1*0x5f+0x58b*-0x2+0xb76);}}_0x475c92&&(_0x475c92['curves']++,_0x41a4ab['push'](_0x1f9903['_results'][_0x4fe7c3]),_0x1bb105['push'](_0x475c92));}}this['_clips']['push'](_0x4c88f9),this['_inputs']['push'](_0x41a4ab),this['_outputs']['push'](_0x1bb105);}['removeClip'](_0x3ab616){const _0x14aafa=this['_targets'],_0x26ed9f=this['_binder'],_0x1d46b2=this['_clips'],_0x572f23=_0x1d46b2[_0x3ab616]['track']['curves'];for(let _0x17a8bf=-0x1*0xfcb+-0x6b*0x1d+0x1bea*0x1;_0x17a8bf<_0x572f23['length'];++_0x17a8bf){const _0x5974d4=_0x572f23[_0x17a8bf]['paths'];for(let _0x1de105=0x14af+-0x1801+-0x1a9*-0x2;_0x1de105<_0x5974d4['length'];++_0x1de105){const _0x5b6d4f=_0x5974d4[_0x1de105],_0x2c64a0=this['_binder']['resolve'](_0x5b6d4f);_0x2c64a0&&(_0x2c64a0['curves']--,_0x2c64a0['curves']===0xf3d*-0x2+0xf1+0x1*0x1d89&&(_0x26ed9f['unresolve'](_0x5b6d4f),delete _0x14aafa[_0x2c64a0['targetPath']],_0x26ed9f['animCompon'+'ent']&&_0x26ed9f['animCompon'+'ent']['targets'][_0x2c64a0['targetPath']]['layerCount'+'er']--));}}_0x1d46b2['splice'](_0x3ab616,0xb60+-0x1aeb+0x7c6*0x2),this['_inputs']['splice'](_0x3ab616,0x8d7+-0x11fb*-0x2+0x7a*-0x5e),this['_outputs']['splice'](_0x3ab616,0x1b4d+0x1e00+-0x394c);}['removeClip'+'s'](){for(;this['_clips']['length']>0x8*-0x4a3+-0x58d+0x2aa5;)this['removeClip'](-0x1f95+-0xb*-0x1d3+-0x5c2*-0x2);}['updateClip'+'Track'](_0x3cd17e,_0x18c5db){this['_clips']['forEach'](_0xba3c28=>{_0xba3c28['name']['includes'](_0x3cd17e)&&(_0xba3c28['track']=_0x18c5db);}),this['rebind']();}['findClip'](_0x5bd02f){const _0x275943=this['_clips'];for(let _0x2cd031=-0x2f*-0xa7+-0x1*-0x265+-0x210e;_0x2cd031<_0x275943['length'];++_0x2cd031){const _0x4bc5a4=_0x275943[_0x2cd031];if(_0x4bc5a4['name']===_0x5bd02f)return _0x4bc5a4;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x2cf161=[...this['clips']];this['removeClip'+'s'](),_0x2cf161['forEach'](_0xd215d9=>{this['addClip'](_0xd215d9);});}['assignMask'](_0x40459b){return this['_binder']['assignMask'](_0x40459b);}['update'](_0x3966ee,_0xb82bf0=!(0x2535+-0xfa5+0x398*-0x6)){const _0x5f5d17=this['_clips'],_0x460d68=_0x5f5d17['map']((_0x1ecfd1,_0x584965)=>_0x584965);Rt['stableSort'](_0x460d68,(_0x44d108,_0x524901)=>_0x5f5d17[_0x44d108]['blendOrder']<_0x5f5d17[_0x524901]['blendOrder']);for(let _0x3983b8=0x8b7*-0x2+-0x3*-0xac8+-0xeea;_0x3983b8<_0x460d68['length'];++_0x3983b8){const _0x22cfd8=_0x460d68[_0x3983b8],_0x4d204f=_0x5f5d17[_0x22cfd8],_0x188734=this['_inputs'][_0x22cfd8],_0x18c85e=this['_outputs'][_0x22cfd8],_0xfd0ec0=_0x4d204f['blendWeigh'+'t'];if(_0xfd0ec0>-0x347+0x5*-0x524+0x1cfb*0x1&&_0x4d204f['_update'](_0x3966ee),!_0xb82bf0)break;let _0x441a1c,_0x4febef,_0x146e58;if(_0xfd0ec0>=-0x1*-0x22db+0x38b*0xa+-0x2*0x2324){for(let _0x1fbc42=-0x2462+0x1e60+0x602;_0x1fbc42<_0x188734['length'];++_0x1fbc42)_0x441a1c=_0x188734[_0x1fbc42],_0x4febef=_0x18c85e[_0x1fbc42],_0x146e58=_0x4febef['value'],Rt['set'](_0x146e58,_0x441a1c,_0x4febef['target']['type']),_0x4febef['blendCount'+'er']++;}else{if(_0xfd0ec0>-0x15*-0xad+-0x270+0xb1*-0x11){for(let _0x3292c5=-0x1*0x4c7+0x731*0x3+0x4*-0x433;_0x3292c5<_0x188734['length'];++_0x3292c5)_0x441a1c=_0x188734[_0x3292c5],_0x4febef=_0x18c85e[_0x3292c5],_0x146e58=_0x4febef['value'],_0x4febef['blendCount'+'er']===-0x2*0x1299+-0xb*0x349+0x1*0x4955?Rt['set'](_0x146e58,_0x441a1c,_0x4febef['target']['type']):Rt['blend'](_0x146e58,_0x441a1c,_0xfd0ec0,_0x4febef['target']['type']),_0x4febef['blendCount'+'er']++;}}}const _0x59d684=this['_targets'],_0x12dc2b=this['_binder'];for(const _0x4e87bd in _0x59d684)if(_0x59d684['hasOwnProp'+'erty'](_0x4e87bd)){const _0x5a6e7d=_0x59d684[_0x4e87bd];if(_0x12dc2b['animCompon'+'ent']&&_0x5a6e7d['target']['isTransfor'+'m']){const _0x5f0559=_0x12dc2b['animCompon'+'ent']['targets'][_0x4e87bd];_0x5f0559['counter']===_0x5f0559['layerCount'+'er']&&(_0x5f0559['counter']=0x1*0x1b1+-0x675+0x4c4),_0x5f0559['path']||(_0x5f0559['path']=_0x4e87bd,_0x5f0559['baseValue']=_0x5a6e7d['target']['get'](),_0x5f0559['setter']=_0x5a6e7d['target']['set']),_0x5f0559['updateValu'+'e'](_0x12dc2b['layerIndex'],_0x5a6e7d['value']),_0x5f0559['counter']++;}else _0x5a6e7d['target']['set'](_0x5a6e7d['value']);_0x5a6e7d['blendCount'+'er']=0x2c2*-0x8+0x6*-0x5e4+0x538*0xb;}this['_binder']['update'](_0x3966ee);}}class K0{constructor(_0x2d7d20){this['_events']=[..._0x2d7d20],this['_events']['sort']((_0x59ca4e,_0x26515a)=>_0x59ca4e['time']-_0x26515a['time']);}get['events'](){return this['_events'];}}const fc=class fc{constructor(_0x6d34ec,_0xddf1f9,_0x523261,_0x49089b,_0x2f9d88,_0x57d3a1=new K0([])){this['_name']=_0x6d34ec,this['_duration']=_0xddf1f9,this['_inputs']=_0x523261,this['_outputs']=_0x49089b,this['_curves']=_0x2f9d88,this['_animEvent'+'s']=_0x57d3a1;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x5b0172){this['_animEvent'+'s']=_0x5b0172;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3a9418,_0x5c4f43){_0x5c4f43['_time']=_0x3a9418;const _0x44e179=this['_inputs'],_0x579424=this['_outputs'],_0x2ba5da=this['_curves'],_0xbbc47a=_0x5c4f43['_cache'],_0x3881dd=_0x5c4f43['_results'];for(let _0x5e7107=0x97*0x4+-0x1b44+-0x4*-0x63a;_0x5e7107<_0x44e179['length'];++_0x5e7107)_0xbbc47a[_0x5e7107]['update'](_0x3a9418,_0x44e179[_0x5e7107]['_data']);for(let _0x141a24=-0xb47+0x517*0x7+-0x2*0xc2d;_0x141a24<_0x2ba5da['length'];++_0x141a24){const _0xdb6c75=_0x2ba5da[_0x141a24],_0x33fa62=_0x579424[_0xdb6c75['_output']],_0x537f14=_0x3881dd[_0x141a24];_0xbbc47a[_0xdb6c75['_input']]['eval'](_0x537f14,_0xdb6c75['_interpola'+'tion'],_0x33fa62);}}};c(fc,'EMPTY',Object['freeze'](new fc('empty',Number['MAX_VALUE'],[],[],[])));let ki=fc;class Xr{static['joinPath'](_0x4a9d7e,_0xa807a6){_0xa807a6=_0xa807a6||'.';const _0x57c893=function(_0x55f552){return _0x55f552['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0xa807a6,'g'),'\x5c'+_0xa807a6);};return _0x4a9d7e['map'](_0x57c893)['join'](_0xa807a6);}static['splitPath'](_0x5cf25a,_0x55b2e3){_0x55b2e3=_0x55b2e3||'.';const _0x203441=[];let _0xef5894='',_0x1e064e=-0x1*0x7cc+-0x344*0x5+0x1820;for(;_0x1e064e<_0x5cf25a['length'];){let _0x39cfdf=_0x5cf25a[_0x1e064e++];_0x39cfdf==='\x5c'&&_0x1e064e<_0x5cf25a['length']?(_0x39cfdf=_0x5cf25a[_0x1e064e++],_0x39cfdf==='\x5c'||_0x39cfdf===_0x55b2e3?_0xef5894+=_0x39cfdf:_0xef5894+='\x5c'+_0x39cfdf):_0x39cfdf===_0x55b2e3?(_0x203441['push'](_0xef5894),_0xef5894=''):_0xef5894+=_0x39cfdf;}return _0xef5894['length']>-0x1d5*-0x1+0xb5d+0xd32*-0x1&&_0x203441['push'](_0xef5894),_0x203441;}static['encode'](_0x29cd3d,_0x281e66,_0x10276){return(Array['isArray'](_0x29cd3d)?_0x29cd3d['join']('/'):_0x29cd3d)+'/'+_0x281e66+'/'+(Array['isArray'](_0x10276)?_0x10276['join']('/'):_0x10276);}['resolve'](_0x409da9){return null;}['unresolve'](_0x26b475){}['update'](_0x1461ae){}}class tf{constructor(_0x2aeb99,_0x1a2abd,_0x434484,_0x35e6ad){_0x2aeb99['set']?(this['_set']=_0x2aeb99['set'],this['_get']=_0x2aeb99['get']):this['_set']=_0x2aeb99,this['_type']=_0x1a2abd,this['_component'+'s']=_0x434484,this['_targetPat'+'h']=_0x35e6ad,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x2*0x12ce+-0x1320+-0xd*0x16b))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x14*0x1d2+0x13*0x70+-0x2cab))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1b8*-0xf+-0xa76+-0xf48))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class tr{constructor(_0x3d5404){c(this,'_isPathInM'+'ask',(_0xde1886,_0x23147e)=>{const _0x4d9980=this['_mask'][_0xde1886];if(_0x4d9980){if(_0x4d9980['children']||_0x23147e&&_0x4d9980['value']!==!(-0x18e0+-0xeb*-0x4+0x1535))return!(0x147*-0x1+-0x9b*0x37+0x2294);}else return!(0xe2f*0x2+0x1bee+-0x384b);return!(0x124*-0x2+-0x1e94+0x20dd);});if(this['graph']=_0x3d5404,!_0x3d5404)return;this['_mask']=null;const _0x40b5a2={},_0x39aff5=function(_0x5046f0){_0x40b5a2[_0x5046f0['name']]=_0x5046f0;for(let _0x13c02d=0xb*-0x2f+0x1331+-0x112c;_0x13c02d<_0x5046f0['children']['length'];++_0x13c02d)_0x39aff5(_0x5046f0['children'][_0x13c02d]);};_0x39aff5(_0x3d5404),this['nodes']=_0x40b5a2,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x9bfc47=function(_0x3a05d6){let _0x11403e=_0x3a05d6;for(;_0x11403e&&!(_0x11403e instanceof je);)_0x11403e=_0x11403e['parent'];let _0xd3bc2f;return _0x11403e&&(_0x11403e['render']?_0xd3bc2f=_0x11403e['render']['meshInstan'+'ces']:_0x11403e['model']&&(_0xd3bc2f=_0x11403e['model']['meshInstan'+'ces'])),_0xd3bc2f;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x2cf816){const _0x5cde5b=_0x2cf816['localPosit'+'ion'],_0x33e760=function(_0x1958f7){_0x5cde5b['set'](..._0x1958f7);};return tr['createAnim'+'Target'](_0x33e760,'vector',-0x1d73*-0x1+-0x557+-0x1*0x1819,_0x2cf816,'localPosit'+'ion');},'localRotation':function(_0xc635f8){const _0x534a4f=_0xc635f8['localRotat'+'ion'],_0x54c6d5=function(_0x5bd7d8){_0x534a4f['set'](..._0x5bd7d8);};return tr['createAnim'+'Target'](_0x54c6d5,'quaternion',-0x1*-0xfec+-0x220f+0x1227,_0xc635f8,'localRotat'+'ion');},'localScale':function(_0x19fe0e){const _0x2554bb=_0x19fe0e['localScale'],_0xd30b07=function(_0x48fc86){_0x2554bb['set'](..._0x48fc86);};return tr['createAnim'+'Target'](_0xd30b07,'vector',-0x2*0x453+0x13a9*0x1+-0xb00,_0x19fe0e,'localScale');},'weight':function(_0x474bfb,_0x5a7345){_0x5a7345['indexOf']('name.')===-0x1*-0x178f+0xf9f+-0x11*0x24e?_0x5a7345=_0x5a7345['replace']('name.',''):_0x5a7345=Number(_0x5a7345);const _0x1ca38e=_0x9bfc47(_0x474bfb);let _0x15f01e;if(_0x1ca38e){for(let _0x4ff112=-0x20be+-0x1d1a+-0x1*-0x3dd8;_0x4ff112<_0x1ca38e['length'];++_0x4ff112)if(_0x1ca38e[_0x4ff112]['node']['name']===_0x474bfb['name']&&_0x1ca38e[_0x4ff112]['morphInsta'+'nce']){const _0x201cb0=_0x1ca38e[_0x4ff112]['morphInsta'+'nce'],_0x1e1bdf=_0xc068b8=>{_0x201cb0['setWeight'](_0x5a7345,_0xc068b8[-0xc6d*-0x1+0x13*-0x1cf+-0x2be*-0x8]);};_0x15f01e||(_0x15f01e=[]),_0x15f01e['push'](_0x1e1bdf);}}if(_0x15f01e){const _0x534201=_0x4ef38c=>{for(let _0x4a17c8=-0x4b3+-0x1a3e+0x1ef1*0x1;_0x4a17c8<_0x15f01e['length'];++_0x4a17c8)_0x15f01e[_0x4a17c8](_0x4ef38c);};return tr['createAnim'+'Target'](_0x534201,'number',-0x43b+-0xb*0x143+0x1*0x121d,_0x474bfb,'weight.'+_0x5a7345);}return null;},'materialTexture':(_0x2049b3,_0x50ce14)=>{const _0x35de88=_0x9bfc47(_0x2049b3);if(_0x35de88){let _0xb5e352;for(let _0x3b0f07=0x2586+-0x2*-0xb3f+-0x3c04;_0x3b0f07<_0x35de88['length'];++_0x3b0f07)if(_0x35de88[_0x3b0f07]['node']['name']===_0x2049b3['name']){_0xb5e352=_0x35de88[_0x3b0f07];break;}if(_0xb5e352){const _0x5ca57a=_0x3307ab=>{const _0x333fdd=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x3307ab[-0x1f37+0x3d*-0xa3+0x460e]);_0x333fdd&&_0x333fdd['resource']&&_0x333fdd['type']==='texture'&&(_0xb5e352['material'][_0x50ce14]=_0x333fdd['resource'],_0xb5e352['material']['update']());};return tr['createAnim'+'Target'](_0x5ca57a,'vector',-0x105d+-0x988+-0x82*-0x33,_0x2049b3,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0xd3b01){if(!this['_mask'])return!(-0xb7e+0x5*0x1eb+0x1*0x1e7);const _0x3a2371=[_0xd3b01['entityPath'][0x9f7*0x1+-0x610+-0x3e7],this['graph']['name']];for(let _0x7dc6df=0x99*0x1c+-0x1*-0xfa7+-0x2063;_0x7dc6df<_0x3a2371['length'];++_0x7dc6df){let _0x5699ba=_0x3a2371[_0x7dc6df];if(this['_isPathInM'+'ask'](_0x5699ba,_0xd3b01['entityPath']['length']===0x1f4a+0x21e9*-0x1+0x2a0))return!(-0x1b95+-0x2523+-0x817*-0x8);for(let _0x22f77d=-0x4*0x775+-0x817+0x25ec;_0x22f77d<_0xd3b01['entityPath']['length'];_0x22f77d++)if(_0x5699ba+='/'+_0xd3b01['entityPath'][_0x22f77d],this['_isPathInM'+'ask'](_0x5699ba,_0x22f77d===_0xd3b01['entityPath']['length']-(0x2b*-0x13+0x73e*-0x1+0xa70)))return!(0x987*0x1+-0x20dc+-0x21f*-0xb);}return!(0x653*-0x2+0x24b5*0x1+0xc07*-0x2);}['findNode'](_0x49f482){if(!this['_isPathAct'+'ive'](_0x49f482))return null;let _0x268a10;if(this['graph']&&(_0x268a10=this['graph']['findByPath'](_0x49f482['entityPath']),_0x268a10||(_0x268a10=this['graph']['findByPath'](_0x49f482['entityPath']['slice'](-0x1e18+-0x22fb+0x4114)))),!_0x268a10){_0x268a10=this['nodes'][_0x49f482['entityPath'][_0x49f482['entityPath']['length']-(0x7d*0x12+0x13af+-0x2*0xe3c)]||''];const _0x22e61b=Xr['encode'](_0x49f482['entityPath'][_0x49f482['entityPath']['length']-(-0x17*0x1b+0x1c4*0x8+-0xbb2*0x1)]||'','graph',_0x49f482['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x22e61b]===-0x643+-0x205*-0xd+-0x1*0x13fd&&b['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x22e61b+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x22e61b])?this['visitedFal'+'lbackGraph'+'Paths'][_0x22e61b]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x22e61b]=-0x10f1*0x1+0x25b6+0x199*-0xd;}return _0x268a10;}static['createAnim'+'Target'](_0x49a10b,_0x6bcf86,_0x141c09,_0xff4020,_0x199756,_0x350a32){const _0x30e7cb=Xr['encode'](_0xff4020['path'],_0x350a32||'entity',_0x199756);return new tf(_0x49a10b,_0x6bcf86,_0x141c09,_0x30e7cb);}['resolve'](_0xf377b9){const _0x199cd6=Xr['encode'](_0xf377b9['entityPath'],_0xf377b9['component'],_0xf377b9['propertyPa'+'th']);let _0x20eab3=this['targetCach'+'e'][_0x199cd6];if(_0x20eab3)return _0x20eab3;const _0x41237c=this['findNode'](_0xf377b9);if(!_0x41237c)return null;const _0x4521c9=this['handlers'][_0xf377b9['propertyPa'+'th']];return!_0x4521c9||(_0x20eab3=_0x4521c9(_0x41237c),!_0x20eab3)?null:(this['targetCach'+'e'][_0x199cd6]=_0x20eab3,this['nodeCounts'][_0x41237c['path']]?this['nodeCounts'][_0x41237c['path']]++:(this['activeNode'+'s']['push'](_0x41237c),this['nodeCounts'][_0x41237c['path']]=0x257*-0x7+-0x2db*-0x1+0x1*0xd87),_0x20eab3);}['unresolve'](_0x3d449d){if(_0x3d449d['component']!=='graph')return;const _0xd30671=this['nodes'][_0x3d449d['entityPath'][_0x3d449d['entityPath']['length']-(0x12*-0x154+-0x3c4+0x1bad)]||''];if(this['nodeCounts'][_0xd30671['path']]--,this['nodeCounts'][_0xd30671['path']]===0x24a4+0x18ff+-0x3da3*0x1){const _0x2c0f56=this['activeNode'+'s'],_0x44d2f6=_0x2c0f56['indexOf'](_0xd30671['node']),_0x34453b=_0x2c0f56['length'];_0x44d2f6<_0x34453b-(-0x8b8+-0x1020+-0x18d9*-0x1)&&(_0x2c0f56[_0x44d2f6]=_0x2c0f56[_0x34453b-(-0x172c+0xf59+-0x2*-0x3ea)]),_0x2c0f56['pop']();}}['update'](_0x333b80){const _0x5b50ec=this['activeNode'+'s'];for(let _0xe1893e=0x196d+0x1*0x1a61+-0x1*0x33ce;_0xe1893e<_0x5b50ec['length'];++_0xe1893e)_0x5b50ec[_0xe1893e]['_dirtifyLo'+'cal']();}['assignMask'](_0x5cc39d){return _0x5cc39d!==this['_mask']?(this['_mask']=_0x5cc39d,!(0x8d0+-0x1299+0x9c9)):!(-0x23d2+-0x73b+0x2b0e);}}class Z0 extends pe{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(0x167f+-0xa6f*0x1+-0xc10)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x4e*-0x2b+-0x1714+0x2*0x4fd),c(this,'blending',!(-0x414+-0xd21+0x1136)),c(this,'blendSpeed',-0xd7c*-0x2+0x6*0x40f+0x2*-0x19a9),c(this,'activate',!(-0x1cfb+-0x1efa+0x3bf5*0x1)),c(this,'speed',0x1*-0x151+0x2455+-0x2303*0x1);}set['animations'](_0xf10a3d){this['_animation'+'s']=_0xf10a3d,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x3a2987){const _0x4e9584=this['_assets'];if(_0x4e9584&&_0x4e9584['length']){for(let _0x20e64c=-0x1*-0x1b9d+0xfd7+-0x73e*0x6;_0x20e64c<_0x4e9584['length'];_0x20e64c++)if(_0x4e9584[_0x20e64c]){const _0x2287c2=this['system']['app']['assets']['get'](_0x4e9584[_0x20e64c]);if(_0x2287c2){_0x2287c2['off']('change',this['onAssetCha'+'nged'],this),_0x2287c2['off']('remove',this['onAssetRem'+'oved'],this);const _0x373c46=this['animations'+'Index'][_0x2287c2['id']];this['currAnim']===_0x373c46&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x373c46],delete this['animations'+'Index'][_0x2287c2['id']];}}}this['_assets']=_0x3a2987;const _0x618602=_0x3a2987['map'](_0x5446b4=>_0x5446b4 instanceof he?_0x5446b4['id']:_0x5446b4);this['loadAnimat'+'ionAssets'](_0x618602);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x530dd7){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x530dd7,this['skeleton']['addTime'](-0x2311+-0x1*0x336+0xef*0x29),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x3b2825=this['animEvalua'+'tor']['clips'];for(let _0x5e02ce=0x188+0x4*-0x4b2+-0xc*-0x170;_0x5e02ce<_0x3b2825['length'];++_0x5e02ce)_0x3b2825[_0x5e02ce]['time']=_0x530dd7;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x256aa5=this['animEvalua'+'tor']['clips'];if(_0x256aa5['length']>-0x1b14+-0x1681*0x1+0x3*0x1087)return _0x256aa5[_0x256aa5['length']-(0x26b4+0x105+-0x27b8)]['time'];}return 0x13a6+0x1eb*-0x3+-0x1*0xde5;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(b['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0xb63*-0x3+0x254f+-0x326);}set['loop'](_0x39f536){if(this['_loop']=_0x39f536,this['skeleton']&&(this['skeleton']['looping']=_0x39f536),this['animEvalua'+'tor']){for(let _0x2963e2=0xbc3*-0x1+0x710*-0x5+-0x39f*-0xd;_0x2963e2<this['animEvalua'+'tor']['clips']['length'];++_0x2963e2)this['animEvalua'+'tor']['clips'][_0x2963e2]['loop']=_0x39f536;}}get['loop'](){return this['_loop'];}['play'](_0x7b44ea,_0x1f150f=-0xb50+-0xf*-0xf1+-0x2cf){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x7b44ea]){b['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x7b44ea+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x7b44ea,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x30f151=this['animations'][this['prevAnim']],_0x36daec=this['animations'][this['currAnim']];if(this['blending']=_0x1f150f>0x9d4*-0x2+-0x4*0x598+0x28*0x10d&&!!this['prevAnim'],this['blending']&&(this['blend']=0x10d9*0x1+0xfa1+0x2*-0x103d,this['blendSpeed']=(0x20a+0xd3b+-0xf44)/_0x1f150f),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x30f151,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x36daec):this['skeleton']['animation']=_0x36daec),this['animEvalua'+'tor']){const _0x5bf082=this['animEvalua'+'tor'];if(this['blending']){for(;_0x5bf082['clips']['length']>-0x5*-0x13+-0x2*-0x87e+-0x115a;)_0x5bf082['removeClip'](-0x9*-0x3cb+0x2519*-0x1+-0x2*-0x17b);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x2ea212=new Qh(this['animations'][this['currAnim']],-0x445+0x1bfc+-0x17b7*0x1,-0x19b4+0x1def+-0x43a,!(0x143d+0x1e43*0x1+-0x3280),this['loop']);_0x2ea212['name']=this['currAnim'],_0x2ea212['blendWeigh'+'t']=this['blending']?-0x1f87+0x2*0x1066+-0x145:-0x2*0x1ae+0x214e+-0x23*0xdb,_0x2ea212['reset'](),this['animEvalua'+'tor']['addClip'](_0x2ea212);}}this['playing']=!(-0x35d+-0xae*-0xc+0x1*-0x4cb);}}['getAnimati'+'on'](_0x3e4ccf){return this['animations'][_0x3e4ccf];}['setModel'](_0x35c98c){_0x35c98c!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x35c98c,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0xc042d7=this['entity']['model'];if(_0xc042d7){const _0x2a6377=_0xc042d7['model'];_0x2a6377&&_0x2a6377!==this['model']&&this['setModel'](_0x2a6377);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x17997b=Object['keys'](this['_animation'+'s']);_0x17997b['length']>0x1e9e+0xe66+-0x2d04&&this['play'](_0x17997b[0x17cf+0x1192+-0x21*0x141]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x462594=this['model'],_0x274093=this['animations'];let _0x1b1026=!(-0x2375+-0xa0+0x1f*0x12a),_0x2c849b=!(0x295*-0xb+-0x1e3d+0x3aa5);for(const _0x15702e in _0x274093)_0x274093['hasOwnProp'+'erty'](_0x15702e)&&(_0x274093[_0x15702e]['constructo'+'r']===ki?_0x2c849b=!(-0x985*0x4+0x10b2*-0x2+0x4*0x11de):_0x1b1026=!(-0x1*0xc2c+-0x1767+0x7*0x515));const _0x5d058f=_0x462594['getGraph']();_0x1b1026?(this['fromSkel']=new jd(_0x5d058f),this['toSkel']=new jd(_0x5d058f),this['skeleton']=new jd(_0x5d058f),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5d058f)):_0x2c849b&&(this['animEvalua'+'tor']=new Y0(new tr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x4d32c6){if(!_0x4d32c6||!_0x4d32c6['length'])return;const _0x5556c1=this['system']['app']['assets'],_0xdc9666=_0x559a2c=>{if(_0x559a2c['resources']['length']>0x151*-0xc+-0x17c1+0x13c7*0x2){for(let _0x5d0093=-0x6fa+-0x6ad+0xf*0xe9;_0x5d0093<_0x559a2c['resources']['length'];_0x5d0093++)this['animations'][_0x559a2c['resources'][_0x5d0093]['name']]=_0x559a2c['resources'][_0x5d0093],this['animations'+'Index'][_0x559a2c['id']]=_0x559a2c['resources'][_0x5d0093]['name'];}else this['animations'][_0x559a2c['name']]=_0x559a2c['resource'],this['animations'+'Index'][_0x559a2c['id']]=_0x559a2c['name'];this['animations']=this['animations'];},_0x51e2a4=_0x29677d=>{_0x29677d['off']('change',this['onAssetCha'+'nged'],this),_0x29677d['on']('change',this['onAssetCha'+'nged'],this),_0x29677d['off']('remove',this['onAssetRem'+'oved'],this),_0x29677d['on']('remove',this['onAssetRem'+'oved'],this),_0x29677d['resource']?_0xdc9666(_0x29677d):(_0x29677d['once']('load',_0xdc9666,this),this['enabled']&&this['entity']['enabled']&&_0x5556c1['load'](_0x29677d));};for(let _0x7ddc3a=-0x1e41+-0xa13+0x2854,_0x2310ef=_0x4d32c6['length'];_0x7ddc3a<_0x2310ef;_0x7ddc3a++){const _0x6a923a=_0x5556c1['get'](_0x4d32c6[_0x7ddc3a]);_0x6a923a?_0x51e2a4(_0x6a923a):_0x5556c1['on']('add:'+_0x4d32c6[_0x7ddc3a],_0x51e2a4);}}['onAssetCha'+'nged'](_0x102f13,_0x1df9e7,_0x3d2f7d,_0x9f317f){if(_0x1df9e7==='resource'||_0x1df9e7==='resources'){if(_0x1df9e7==='resources'&&_0x3d2f7d&&_0x3d2f7d['length']===0xec*0x2+-0xe77+0x435*0x3&&(_0x3d2f7d=null),_0x3d2f7d){let _0x2b8a85=!(0x22bb*0x1+-0x16e1+-0xbd9);if(_0x3d2f7d['length']>0x2*-0x77+0x1*-0x1db6+0x1ea5){if(_0x9f317f&&_0x9f317f['length']>0x11f0+-0xb3*0x1e+-0x1*-0x30b){for(let _0x5265cd=0x1040+0x7b1+-0x17f1;_0x5265cd<_0x9f317f['length'];_0x5265cd++)delete this['animations'][_0x9f317f[_0x5265cd]['name']];}else delete this['animations'][_0x102f13['name']];_0x2b8a85=!(0x15+0x72b+0x23*-0x35);for(let _0x43d1ba=-0x1a22+-0x14f6+0x2f18;_0x43d1ba<_0x3d2f7d['length'];_0x43d1ba++)this['animations'][_0x3d2f7d[_0x43d1ba]['name']]=_0x3d2f7d[_0x43d1ba],!_0x2b8a85&&this['currAnim']===_0x3d2f7d[_0x43d1ba]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x2b8a85=!(0x7e4*0x1+0x26d3*0x1+-0x2eb7),this['play'](_0x3d2f7d[_0x43d1ba]['name']));_0x2b8a85||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x9f317f&&_0x9f317f['length']>0x51*-0x45+0x1566+0x70){for(let _0x1636cf=0xf45+-0x3fc+0xb49*-0x1;_0x1636cf<_0x9f317f['length'];_0x1636cf++)delete this['animations'][_0x9f317f[_0x1636cf]['name']];}this['animations'][_0x102f13['name']]=_0x3d2f7d[-0x712+0x23fc+-0x1cea]||_0x3d2f7d,_0x2b8a85=!(0x3*-0x6b+0xe7*0x17+-0x137f*0x1),this['currAnim']===_0x102f13['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x2b8a85=!(0x359*-0x1+0x2*-0x38f+0xa77),this['play'](_0x102f13['name'])),_0x2b8a85||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x102f13['id']]=_0x102f13['name'];}else{if(_0x9f317f['length']>-0x6e2+0x1*0x5ce+0x1*0x115){for(let _0x26b0ba=0x8*-0x83+-0x6f*0x33+0x1a35*0x1;_0x26b0ba<_0x9f317f['length'];_0x26b0ba++)delete this['animations'][_0x9f317f[_0x26b0ba]['name']],this['currAnim']===_0x9f317f[_0x26b0ba]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x102f13['name']],this['currAnim']===_0x102f13['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x102f13['id']];}}}['onAssetRem'+'oved'](_0x37ff98){if(_0x37ff98['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x37ff98['resources']['length']>0xd76+-0x566+-0x80f){for(let _0x538513=-0xd72+-0x281+0xff3;_0x538513<_0x37ff98['resources']['length'];_0x538513++)delete this['animations'][_0x37ff98['resources'][_0x538513]['name']],this['currAnim']===_0x37ff98['resources'][_0x538513]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x37ff98['name']],this['currAnim']===_0x37ff98['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x37ff98['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0xe4a+0x10f3+-0x14*0x22),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x1*0x19c3+-0x16b9*0x1+-0x3a*-0xd6,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x2de868=-0x1d9*0x11+0x2053+-0xea*0x1;_0x2de868<this['animEvalua'+'tor']['clips']['length'];++_0x2de868)this['animEvalua'+'tor']['clips'][_0x2de868]['stop']();this['animEvalua'+'tor']['update'](-0x1593+0x1e07*-0x1+0x339a),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x24c803=this['assets'],_0x52efe2=this['system']['app']['assets'];if(_0x24c803)for(let _0x3a7d54=-0x8e*0x21+0x1*-0xba9+-0x9fd*-0x3,_0x247bbd=_0x24c803['length'];_0x3a7d54<_0x247bbd;_0x3a7d54++){let _0x482fd3=_0x24c803[_0x3a7d54];_0x482fd3 instanceof he||(_0x482fd3=_0x52efe2['get'](_0x482fd3)),_0x482fd3&&!_0x482fd3['resource']&&_0x52efe2['load'](_0x482fd3);}if(this['activate']&&!this['currAnim']){const _0x295648=Object['keys'](this['animations']);_0x295648['length']>0x24cd+0x48+-0x35f*0xb&&this['play'](_0x295648[-0x161*0x7+-0x258e+0x2f35]);}}['onBeforeRe'+'move'](){for(let _0xef97b3=-0x23ea+0x882+0x1b68;_0xef97b3<this['assets']['length'];_0xef97b3++){let _0x92ca56=this['assets'][_0xef97b3];typeof _0x92ca56=='number'&&(_0x92ca56=this['system']['app']['assets']['get'](_0x92ca56)),_0x92ca56&&(_0x92ca56['off']('change',this['onAssetCha'+'nged'],this),_0x92ca56['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x53bdad){if(this['blending']&&(this['blend']+=_0x53bdad*this['blendSpeed'],this['blend']>=-0xd2e+0x1*0x1085+-0x356&&(this['blend']=-0x1a48+0x1*-0x186a+0x32b3*0x1)),this['playing']){const _0x3e046b=this['skeleton'];if(_0x3e046b!==null&&this['model']!==null){if(this['blending'])_0x3e046b['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x13d669=_0x53bdad*this['speed'];_0x3e046b['addTime'](_0x13d669),this['speed']>-0x635+0x165*-0x1b+-0x2*-0x15ee&&_0x3e046b['_time']===_0x3e046b['animation']['duration']&&!this['loop']?this['playing']=!(0x15*0x15d+0xd66+-0x6*0x701):this['speed']<0x5a4*0x2+-0x48b+-0x6bd&&_0x3e046b['_time']===-0x23*0x81+0x18a6+-0x1*0x703&&!this['loop']&&(this['playing']=!(0x135*-0x15+-0xbe1+-0x3*-0xc69));}this['blending']&&this['blend']===-0x1b22+0x1454*-0x1+-0x1a3*-0x1d&&(_0x3e046b['animation']=this['toSkel']['animation']),_0x3e046b['updateGrap'+'h']();}}const _0x117755=this['animEvalua'+'tor'];if(_0x117755){for(let _0x571055=-0x213b+-0x40f+0x12a5*0x2;_0x571055<_0x117755['clips']['length'];++_0x571055){const _0x504994=_0x117755['clips'][_0x571055];_0x504994['speed']=this['speed'],this['playing']?_0x504994['resume']():_0x504994['pause']();}this['blending']&&_0x117755['clips']['length']>0x214d+0x1941*0x1+-0x3a8d&&(_0x117755['clips'][-0x2*0xf4f+0x1d*0x8f+0xe6c]['blendWeigh'+'t']=this['blend']),_0x117755['update'](_0x53bdad);}this['blending']&&this['blend']===-0x15b3+-0x7b0+0x12*0x1a2&&(this['blending']=!(-0xb5f+0x73b*0x1+0x425));}}class UP{constructor(){this['enabled']=!(0x2168+0x12bd+-0x3425);}}const sf=['enabled'];class VP extends Qe{constructor(_0x4201b1){super(_0x4201b1),this['id']='animation',this['ComponentT'+'ype']=Z0,this['DataType']=UP,this['schema']=sf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x38dab7,_0x5c40c7,_0x3c8a63){_0x3c8a63=['activate','enabled','loop','speed','assets'];for(const _0x40e3b6 of _0x3c8a63)_0x5c40c7['hasOwnProp'+'erty'](_0x40e3b6)&&(_0x38dab7[_0x40e3b6]=_0x5c40c7[_0x40e3b6]);super['initialize'+'ComponentD'+'ata'](_0x38dab7,_0x5c40c7,sf);}['cloneCompo'+'nent'](_0x2bd75d,_0x5c831d){this['addCompone'+'nt'](_0x5c831d,{}),_0x5c831d['animation']['assets']=_0x2bd75d['animation']['assets']['slice'](),_0x5c831d['animation']['speed']=_0x2bd75d['animation']['speed'],_0x5c831d['animation']['loop']=_0x2bd75d['animation']['loop'],_0x5c831d['animation']['activate']=_0x2bd75d['animation']['activate'],_0x5c831d['animation']['enabled']=_0x2bd75d['animation']['enabled'];const _0x4fb3cf={},_0x1ec862=_0x2bd75d['animation']['animations'];for(const _0x221a98 in _0x1ec862)_0x1ec862['hasOwnProp'+'erty'](_0x221a98)&&(_0x4fb3cf[_0x221a98]=_0x1ec862[_0x221a98]);_0x5c831d['animation']['animations']=_0x4fb3cf;const _0x213d64={},_0x4c0b23=_0x2bd75d['animation']['animations'+'Index'];for(const _0x12cf9a in _0x4c0b23)_0x4c0b23['hasOwnProp'+'erty'](_0x12cf9a)&&(_0x213d64[_0x12cf9a]=_0x4c0b23[_0x12cf9a]);return _0x5c831d['animation']['animations'+'Index']=_0x213d64,_0x5c831d['animation'];}['onBeforeRe'+'move'](_0xcd1275,_0x30a1db){_0x30a1db['onBeforeRe'+'move']();}['onUpdate'](_0x2e3951){const _0x485298=this['store'];for(const _0x1c9f9d in _0x485298)if(_0x485298['hasOwnProp'+'erty'](_0x1c9f9d)){const _0x685614=_0x485298[_0x1c9f9d];_0x685614['data']['enabled']&&_0x685614['entity']['enabled']&&_0x685614['entity']['animation']['update'](_0x2e3951);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](Z0['prototype'],sf);class Wo{constructor(_0x56ccab,_0x2e5f80,_0xc05e30,_0x376469,_0x1edb9b=-0x1*0x245+-0xe*-0x1fd+0xcc8*-0x2){this['_state']=_0x56ccab,this['_parent']=_0x2e5f80,this['_name']=_0xc05e30,Array['isArray'](_0x376469)?(this['_point']=new W(_0x376469[0x1737+-0x230+-0x1507],_0x376469[0x7*0x557+0xd31+0xf*-0x35f]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x376469,this['_pointLeng'+'th']=_0x376469),this['_speed']=_0x1edb9b,this['_weightedS'+'peed']=0x1ecd+0x172f+-0x35fb,this['_weight']=-0x142*-0x13+0x25*0x1d+-0x1c16,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x4c2a48){this['_weight']=_0x4c2a48;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x564224=this['_state']['totalWeigh'+'t'];return _0x564224===0x155e+0x1bb4+0x3112*-0x1?0xa87+-0x1b61+-0x3*-0x59e:this['weight']/_0x564224;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x498560){this['_weightedS'+'peed']=_0x498560;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x421d15){this['_animTrack']=_0x421d15;}get['animTrack'](){return this['_animTrack'];}}class Ua extends Wo{constructor(_0x363613,_0xfbafa3,_0x24f594,_0x5bfa39,_0x40acab,_0x153881,_0x28e720,_0x27b346,_0x5dc0d3){super(_0x363613,_0xfbafa3,_0x24f594,_0x5bfa39),this['_parameter'+'s']=_0x40acab,this['_parameter'+'Values']=new Array(_0x40acab['length']),this['_children']=[],this['_findParam'+'eter']=_0x5dc0d3,this['_syncAnima'+'tions']=_0x28e720!==!(-0x9ad+0x228*0x2+0x55e),this['_pointCach'+'e']={};for(let _0x378a59=-0x146b+-0x35f*0x4+-0x315*-0xb;_0x378a59<_0x153881['length'];_0x378a59++){const _0x253cdc=_0x153881[_0x378a59];_0x253cdc['children']?this['_children']['push'](_0x27b346(_0x253cdc['type'],_0x363613,this,_0x253cdc['name'],0x820+-0x15*-0x36+0x1cb*-0x7,_0x253cdc['parameter']?[_0x253cdc['parameter']]:_0x253cdc['parameters'],_0x253cdc['children'],_0x253cdc['syncAnimat'+'ions'],_0x27b346,_0x5dc0d3)):this['_children']['push'](new Wo(_0x363613,this,_0x253cdc['name'],_0x253cdc['point'],_0x253cdc['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x2334cb){for(let _0x5318d5=-0x1b47+0x18*0x122+0x17*0x1;_0x5318d5<this['_children']['length'];_0x5318d5++)if(this['_children'][_0x5318d5]['name']===_0x2334cb)return this['_children'][_0x5318d5];return null;}['updatePara'+'meterValue'+'s'](){let _0x354314=!(0xd42+-0x17*0x53+-0x5cd);for(let _0x3f3db3=0x1d*-0x14f+-0x10ab+0x369e;_0x3f3db3<this['_parameter'+'Values']['length'];_0x3f3db3++){const _0x212456=this['_findParam'+'eter'](this['_parameter'+'s'][_0x3f3db3])['value'];this['_parameter'+'Values'][_0x3f3db3]!==_0x212456&&(this['_parameter'+'Values'][_0x3f3db3]=_0x212456,_0x354314=!(-0x12e7+0x2*0xf6b+0x6*-0x1fd));}return _0x354314;}['getNodeWei'+'ghtedDurat'+'ion'](_0x5a2f60){return this['_children'][_0x5a2f60]['animTrack']['duration']/this['_children'][_0x5a2f60]['speedMulti'+'plier']*this['_children'][_0x5a2f60]['weight'];}['getNodeCou'+'nt'](){let _0x3d27f0=-0x1cc7+-0x5*0x2ed+-0x1cf*-0x18;for(let _0x25d7d9=-0x1192*0x1+0x2*0x3a9+-0x20*-0x52;_0x25d7d9<this['_children']['length'];_0x25d7d9++)this['_children'][_0x25d7d9]['constructo'+'r']===Ua?_0x3d27f0+=this['_children'][_0x25d7d9]['getNodeCou'+'nt']():_0x3d27f0++;return _0x3d27f0;}}class GP extends Ua{constructor(_0x50b9c8,_0x269f73,_0x5b06da,_0x13f133,_0x334ba1,_0x461394,_0x35017f,_0x56a7b6,_0x543e1c){_0x461394['sort']((_0x18c47f,_0x165bd2)=>_0x18c47f['point']-_0x165bd2['point']),super(_0x50b9c8,_0x269f73,_0x5b06da,_0x13f133,_0x334ba1,_0x461394,_0x35017f,_0x56a7b6,_0x543e1c);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x228f60=0xbaa+-0xb0f*-0x1+-0x115*0x15;this['_children'][0xb01+0x1db3+-0x28b4]['weight']=-0xa9*-0x1c+-0x16ce*-0x1+-0x294a;for(let _0x12ac88=-0x7a9+-0x1*-0xceb+-0x542;_0x12ac88<this['_children']['length'];_0x12ac88++){const _0x593b3a=this['_children'][_0x12ac88];if(_0x12ac88!==this['_children']['length']-(-0x106+-0x140d+0x47*0x4c)){const _0x554c88=this['_children'][_0x12ac88+(0x19fd*0x1+-0xc85+-0x47d*0x3)];if(_0x593b3a['point']===_0x554c88['point'])_0x593b3a['weight']=-0x1*0x16e7+0x169*-0x13+0x31b2+0.5,_0x554c88['weight']=-0x68a*-0x1+0x192+-0x3*0x2b4+0.5;else{if(z['between'](this['_parameter'+'Values'][-0x57d*0x1+-0x10b1*-0x1+-0xb34],_0x593b3a['point'],_0x554c88['point'],!(-0x1e00+-0x95*0x32+0xbd2*0x5))){const _0x36da30=Math['abs'](_0x593b3a['point']-_0x554c88['point']),_0xa071f3=Math['abs'](_0x593b3a['point']-this['_parameter'+'Values'][0x1a1b+-0xb*-0x1bb+-0x2d24]),_0x3659bb=(_0x36da30-_0xa071f3)/_0x36da30;_0x593b3a['weight']=_0x3659bb,_0x554c88['weight']=0x1901+0x1d48+-0x3648-_0x3659bb;}else _0x554c88['weight']=0x6*0x10f+-0x1*0x204d+0x19f3;}}this['_syncAnima'+'tions']&&(_0x228f60+=_0x593b3a['animTrack']['duration']/_0x593b3a['absoluteSp'+'eed']*_0x593b3a['weight']);}if(this['_syncAnima'+'tions'])for(let _0x17e726=0xad*0x2f+-0x12ef+-0x66a*0x2;_0x17e726<this['_children']['length'];_0x17e726++){const _0x4469dc=this['_children'][_0x17e726];_0x4469dc['weightedSp'+'eed']=_0x4469dc['animTrack']['duration']/_0x4469dc['absoluteSp'+'eed']/_0x228f60;}}}const bi=class bi extends Ua{['pointDista'+'nceCache'](_0x293836,_0x5a8fc8){const _0x5d76d1=''+_0x293836+_0x5a8fc8;return this['_pointCach'+'e'][_0x5d76d1]||(this['_pointCach'+'e'][_0x5d76d1]=this['_children'][_0x5a8fc8]['point']['clone']()['sub'](this['_children'][_0x293836]['point'])),this['_pointCach'+'e'][_0x5d76d1];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x519830,_0x458b4f;bi['_p']['set'](...this['_parameter'+'Values']),_0x519830=0xa07+-0x10f8+0x6f1*0x1,_0x458b4f=0xb17*-0x2+-0x285+0x18b3;for(let _0x35aec0=-0x21c+0x1900+-0x16e4;_0x35aec0<this['_children']['length'];_0x35aec0++){const _0x351bff=this['_children'][_0x35aec0],_0x154d83=_0x351bff['point'];bi['_pip']['set'](bi['_p']['x'],bi['_p']['y'])['sub'](_0x154d83);let _0x18fe52=Number['MAX_VALUE'];for(let _0x5e4a2e=0x1000+-0x2377+0x1377;_0x5e4a2e<this['_children']['length'];_0x5e4a2e++){if(_0x35aec0===_0x5e4a2e)continue;const _0x452750=this['pointDista'+'nceCache'](_0x35aec0,_0x5e4a2e),_0x282852=z['clamp'](-0x1*-0x188f+-0x464+-0x2*0xa15-bi['_pip']['dot'](_0x452750)/_0x452750['lengthSq'](),-0x1401+-0x5*0x511+0x33d*0xe,0x71d+-0x2084+0x1968);_0x282852<_0x18fe52&&(_0x18fe52=_0x282852);}_0x351bff['weight']=_0x18fe52,_0x519830+=_0x18fe52,this['_syncAnima'+'tions']&&(_0x458b4f+=_0x351bff['animTrack']['duration']/_0x351bff['absoluteSp'+'eed']*_0x351bff['weight']);}for(let _0x131e13=0x1263+-0x5b*0x6b+0x13a6*0x1;_0x131e13<this['_children']['length'];_0x131e13++){const _0x11a2d6=this['_children'][_0x131e13];_0x11a2d6['weight']=_0x11a2d6['_weight']/_0x519830,this['_syncAnima'+'tions']&&(_0x11a2d6['weightedSp'+'eed']=_0x11a2d6['animTrack']['duration']/_0x11a2d6['absoluteSp'+'eed']/_0x458b4f);}}};c(bi,'_p',new W()),c(bi,'_pip',new W());let rf=bi;const wi=class wi extends Ua{['pointCache'](_0x36be6c,_0x572c9d){const _0x55aa4c=''+_0x36be6c+_0x572c9d;return this['_pointCach'+'e'][_0x55aa4c]||(this['_pointCach'+'e'][_0x55aa4c]=new W((this['_children'][_0x572c9d]['pointLengt'+'h']-this['_children'][_0x36be6c]['pointLengt'+'h'])/((this['_children'][_0x572c9d]['pointLengt'+'h']+this['_children'][_0x36be6c]['pointLengt'+'h'])/(-0x1214+0x192e+0x38c*-0x2)),W['angleRad'](this['_children'][_0x36be6c]['point'],this['_children'][_0x572c9d]['point'])*(0x213b+0x1e9f+-0x3fd8))),this['_pointCach'+'e'][_0x55aa4c];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3e1577,_0x246244;wi['_p']['set'](...this['_parameter'+'Values']);const _0xa3df7e=wi['_p']['length']();_0x3e1577=-0x201a+-0x24ab+0x44c5,_0x246244=-0x2143+-0xa*0x14b+-0x433*-0xb;for(let _0x1db2e0=-0xce*0x18+-0x1ec9+0x3219;_0x1db2e0<this['_children']['length'];_0x1db2e0++){const _0x18b7da=this['_children'][_0x1db2e0],_0xd8c8a2=_0x18b7da['point'],_0x65f3de=_0x18b7da['pointLengt'+'h'];let _0x28cb63=Number['MAX_VALUE'];for(let _0x165a08=-0x95+0x931+-0x44e*0x2;_0x165a08<this['_children']['length'];_0x165a08++){if(_0x1db2e0===_0x165a08)continue;const _0x32786f=this['pointCache'](_0x1db2e0,_0x165a08),_0xec7345=this['_children'][_0x165a08]['pointLengt'+'h'];wi['_pip']['set']((_0xa3df7e-_0x65f3de)/((_0xec7345+_0x65f3de)/(-0x18b2+-0x524+0x1dd8)),W['angleRad'](_0xd8c8a2,wi['_p'])*(-0x17c7*0x1+0x3bd+0x140c));const _0x25b4be=z['clamp'](-0x1*-0xd1b+0x2225+-0x2f3f-Math['abs'](wi['_pip']['dot'](_0x32786f)/_0x32786f['lengthSq']()),-0x2058+0xa2*-0x2a+0x3aec,-0xdc4*-0x2+-0x153b+-0x2*0x326);_0x25b4be<_0x28cb63&&(_0x28cb63=_0x25b4be);}_0x18b7da['weight']=_0x28cb63,_0x3e1577+=_0x28cb63,this['_syncAnima'+'tions']&&(_0x246244+=_0x18b7da['animTrack']['duration']/_0x18b7da['absoluteSp'+'eed']*_0x18b7da['weight']);}for(let _0x320479=-0x246d+0x20b+0x2262;_0x320479<this['_children']['length'];_0x320479++){const _0x561f87=this['_children'][_0x320479];if(_0x561f87['weight']=_0x561f87['_weight']/_0x3e1577,this['_syncAnima'+'tions']){const _0x4f5c8b=_0x561f87['animTrack']['duration']/_0x246244*_0x3e1577;_0x561f87['weightedSp'+'eed']=_0x561f87['absoluteSp'+'eed']*_0x4f5c8b;}}}};c(wi,'_p',new W()),c(wi,'_pip',new W());let nf=wi;class HP extends Ua{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x15fecf=0x54d+-0x11c9+0xc7c,_0x12ca8b=0x163b*0x1+-0x1d2a*0x1+-0x163*-0x5;for(let _0x2a1043=-0xc07+-0x17a0+-0x23a7*-0x1;_0x2a1043<this['_children']['length'];_0x2a1043++)if(_0x15fecf+=Math['max'](this['_parameter'+'Values'][_0x2a1043],-0x1*-0x9e1+-0x1eb2+0x14d1),this['_syncAnima'+'tions']){const _0x2dc853=this['_children'][_0x2a1043];_0x12ca8b+=_0x2dc853['animTrack']['duration']/_0x2dc853['absoluteSp'+'eed']*_0x2dc853['weight'];}for(let _0x31909d=0x59*0x17+-0x212*-0xc+0x20d7*-0x1;_0x31909d<this['_children']['length'];_0x31909d++){const _0x2d5c9d=this['_children'][_0x31909d],_0xf3d013=Math['max'](this['_parameter'+'Values'][_0x31909d],0x1426+-0x22f4+-0x1*-0xece);_0x15fecf?(_0x2d5c9d['weight']=_0xf3d013/_0x15fecf,this['_syncAnima'+'tions']&&(_0x2d5c9d['weightedSp'+'eed']=_0x2d5c9d['animTrack']['duration']/_0x2d5c9d['absoluteSp'+'eed']/_0x12ca8b)):(_0x2d5c9d['weight']=-0x3*-0xcfb+0x87*-0x3+-0x255c,this['_syncAnima'+'tions']&&(_0x2d5c9d['weightedSp'+'eed']=0x283*0xd+0xec9*-0x2+0x3*-0x107));}}}class tg{constructor(_0x259416,_0x47a88d,_0x11dde6=0x2f*0x2+-0x779*-0x2+0x1*-0xf4f,_0x444e45=!(-0xd4f*-0x1+-0x1ee3*-0x1+-0x2c32),_0x1394e7){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x259416,this['_name']=_0x47a88d,this['_speed']=_0x11dde6,this['_loop']=_0x444e45,this['_hasAnimat'+'ions']=!(0x1*-0x833+-0x1*-0x11a+0x71a),_0x1394e7?this['_blendTree']=this['_createTre'+'e'](_0x1394e7['type'],this,null,_0x47a88d,0x22a9+-0x6f2+-0x1bb6,_0x1394e7['parameter']?[_0x1394e7['parameter']]:_0x1394e7['parameters'],_0x1394e7['children'],_0x1394e7['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Wo(this,null,_0x47a88d,0xfb3*0x2+0xc1e+0x4f*-0x8d,_0x11dde6));}['_createTre'+'e'](_0x159e06,_0x231fc9,_0x1f384a,_0x20e64f,_0x140751,_0x28b87e,_0xc69d91,_0x48cbec,_0x2d2982,_0x680599){switch(_0x159e06){case kP:return new GP(_0x231fc9,_0x1f384a,_0x20e64f,_0x140751,_0x28b87e,_0xc69d91,_0x48cbec,_0x2d2982,_0x680599);case BP:return new rf(_0x231fc9,_0x1f384a,_0x20e64f,_0x140751,_0x28b87e,_0xc69d91,_0x48cbec,_0x2d2982,_0x680599);case OP:return new nf(_0x231fc9,_0x1f384a,_0x20e64f,_0x140751,_0x28b87e,_0xc69d91,_0x48cbec,_0x2d2982,_0x680599);case NP:return new HP(_0x231fc9,_0x1f384a,_0x20e64f,_0x140751,_0x28b87e,_0xc69d91,_0x48cbec,_0x2d2982,_0x680599);}b['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x159e06);}['_getNodeFr'+'omPath'](_0x322e12){let _0xe9c597=this['_blendTree'];for(let _0x398803=0x1aa+-0x2b*0xa5+-0xa*-0x29b;_0x398803<_0x322e12['length'];_0x398803++)_0xe9c597=_0xe9c597['getChild'](_0x322e12[_0x398803]);return _0xe9c597;}['addAnimati'+'on'](_0x4930a9,_0xde65a1){const _0x5263b2=_0x4930a9['join']('.'),_0x579292=this['_animation'+'List']['findIndex'](_0x241108=>_0x241108['path']===_0x5263b2);if(_0x579292>=-0x5*-0x55d+0x2416+-0x3ee7)this['_animation'+'List'][_0x579292]['animTrack']=_0xde65a1;else{const _0x28ebfb=this['_getNodeFr'+'omPath'](_0x4930a9);_0x28ebfb['animTrack']=_0xde65a1,this['_animation'+'List']['push'](_0x28ebfb);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x913*-0x4+-0x92*-0x7+0x204e&&this['_animation'+'List']['every'](_0xb6e28d=>_0xb6e28d['animTrack']&&_0xb6e28d['animTrack']!==ki['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x225906){this['_animation'+'List']=_0x225906,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x1a452a){this['_speed']=_0x1a452a;}get['speed'](){return this['_speed'];}set['loop'](_0x4cd655){this['_loop']=_0x4cd655;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Wo?0x51*-0x5b+0x90b+0x13c1:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Jh['indexOf'](this['name'])!==-(-0xbb1+0x3da*0x5+0x2c*-0x2c)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0xd80*-0x1+0x326*-0x1+0x10a6){const _0x186e52=this['name']+'.'+this['animations'][0x12b*0xd+0x19d9+0x1484*-0x2]['animTrack']['name'],_0x39af17=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x186e52);if(_0x39af17)return _0x39af17['loop'];}return!(-0x246b*-0x1+0x195+-0x25ff*0x1);}get['totalWeigh'+'t'](){let _0x204b27=0xc*0xb3+-0xf7b+-0xa5*-0xb;for(let _0x1d16a2=-0x175*-0x12+0x21eb+-0x3c25*0x1;_0x1d16a2<this['animations']['length'];_0x1d16a2++)_0x204b27+=this['animations'][_0x1d16a2]['weight'];return _0x204b27;}get['timelineDu'+'ration'](){let _0x400ea0=-0x25d1*-0x1+-0x20b5+-0x1b4*0x3;for(let _0x2f59c3=0x1233*-0x1+-0xca3+0x1*0x1ed6;_0x2f59c3<this['animations']['length'];_0x2f59c3++){const _0x8e73f3=this['animations'][_0x2f59c3];_0x8e73f3['animTrack']['duration']>_0x400ea0&&(_0x400ea0=_0x8e73f3['animTrack']['duration']);}return _0x400ea0;}}class ec{constructor({from:_0x36733e,to:_0x46b618,time:_0x341e5f=-0x4ca*-0x4+-0xad*-0xd+-0x1bf1*0x1,priority:_0x45edae=-0x2685+0x1*-0x2523+0x4ba8,conditions:_0x5d5f91=[],exitTime:_0x167534=null,transitionOffset:_0x57cbe8=null,interruptionSource:_0x46fde5=X0}){this['_from']=_0x36733e,this['_to']=_0x46b618,this['_time']=_0x341e5f,this['_priority']=_0x45edae,this['_condition'+'s']=_0x5d5f91,this['_exitTime']=_0x167534,this['_transitio'+'nOffset']=_0x57cbe8,this['_interrupt'+'ionSource']=_0x46fde5;}get['from'](){return this['_from'];}set['to'](_0x19f3f3){this['_to']=_0x19f3f3;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class WP{constructor(_0x37653c,_0x441eee,_0xfa383c,_0x350a75,_0x3058ed,_0x37d7a6,_0x24cbe3){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',uo),c(this,'_activeSta'+'teDuration',0x1e9f+-0xa*-0x36+-0x20bb),c(this,'_activeSta'+'teDuration'+'Dirty',!(0x39*-0x19+-0x1d1c+0x22ad)),c(this,'_playing',!(-0x35e+-0x3*0xc7b+0x28d0)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x19fc+0xf83+0x297e*-0x1),c(this,'_totalTran'+'sitionTime',0x1f0*0x2+-0x1773+0x1394),c(this,'_isTransit'+'ioning',!(-0x1a4d+-0x233b+0xb1*0x59)),c(this,'_transitio'+'nInterrupt'+'ionSource',X0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',0x2021+0x2207+-0x4228),c(this,'_timeInSta'+'teBefore',-0x713*0x1+-0x55b+0xc6e),c(this,'findParame'+'ter',_0x22b9de=>this['_findParam'+'eter'](_0x22b9de)),(this['_animEvalu'+'ator']=_0x37653c,this['_eventHand'+'ler']=_0x3058ed,this['_findParam'+'eter']=_0x37d7a6,this['_consumeTr'+'igger']=_0x24cbe3);for(let _0x5993b9=-0x9*0xf+-0x4e9*0x6+0x9ff*0x3;_0x5993b9<_0x441eee['length'];_0x5993b9++)this['_states'][_0x441eee[_0x5993b9]['name']]=new tg(this,_0x441eee[_0x5993b9]['name'],_0x441eee[_0x5993b9]['speed'],_0x441eee[_0x5993b9]['loop'],_0x441eee[_0x5993b9]['blendTree']),this['_stateName'+'s']['push'](_0x441eee[_0x5993b9]['name']);this['_transitio'+'ns']=_0xfa383c['map'](_0x5bd882=>new ec({..._0x5bd882})),this['_activate']=_0x350a75;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0xcb29e0){this['_activeSta'+'teName']=_0xcb29e0;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x110e93){this['_previousS'+'tateName']=_0x110e93;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x5dc333=!(0x108d*-0x2+-0x1868+0x3982);for(let _0x5b1617=0xb*0x244+-0x1904+0x18;_0x5b1617<this['_stateName'+'s']['length'];_0x5b1617++)this['_states'][this['_stateName'+'s'][_0x5b1617]]['playable']||(_0x5dc333=!(0x4bd*-0x2+-0x25fc+0x2f77));return _0x5dc333;}set['playing'](_0x41ecc5){this['_playing']=_0x41ecc5;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x51dba7=0xc1*-0xb+0x104e*-0x2+-0x1*-0x28e7;for(let _0x24b1b3=0xa*-0x251+-0x61*-0x4c+-0x5a2;_0x24b1b3<this['activeStat'+'eAnimation'+'s']['length'];_0x24b1b3++){const _0xe40d26=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x24b1b3]['name']);_0xe40d26&&(_0x51dba7=Math['max'](_0x51dba7,_0xe40d26['track']['duration']));}this['_activeSta'+'teDuration']=_0x51dba7,this['_activeSta'+'teDuration'+'Dirty']=!(-0x20ee+-0x1322+0x3411);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x5d4706){this['_timeInSta'+'teBefore']=_0x5d4706,this['_timeInSta'+'te']=_0x5d4706;for(let _0x6affcb=-0x3b*-0x41+-0x3af*0xa+0x15db;_0x6affcb<this['activeStat'+'eAnimation'+'s']['length'];_0x6affcb++){const _0x291bdb=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x6affcb]['name']);_0x291bdb&&(_0x291bdb['time']=_0x5d4706);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x3eeca7){return this['_animEvalu'+'ator']['assignMask'](_0x3eeca7);}['_findState'](_0x532586){return this['_states'][_0x532586];}['_getActive'+'StateProgr'+'essForTime'](_0x4c50e0){if(this['activeStat'+'eName']===uo||this['activeStat'+'eName']===ef||this['activeStat'+'eName']===Or)return 0x141e+-0x258d+0x3e*0x48;const _0x33f044=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x1*0x1e25+-0x1*-0x2218+0x41*-0xfd]['name']);return _0x33f044?_0x33f044['progressFo'+'rTime'](_0x4c50e0):null;}['_findTrans'+'itionsFrom'+'State'](_0x352988){let _0x41ed0c=this['_findTrans'+'itionsFrom'+'StateCache'][_0x352988];return _0x41ed0c||(_0x41ed0c=this['_transitio'+'ns']['filter'](_0x353406=>_0x353406['from']===_0x352988),Go(_0x41ed0c),this['_findTrans'+'itionsFrom'+'StateCache'][_0x352988]=_0x41ed0c),_0x41ed0c;}['_findTrans'+'itionsBetw'+'eenStates'](_0x15e226,_0x24a012){let _0xda79b6=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x15e226+'->'+_0x24a012];return _0xda79b6||(_0xda79b6=this['_transitio'+'ns']['filter'](_0x1643e7=>_0x1643e7['from']===_0x15e226&&_0x1643e7['to']===_0x24a012),Go(_0xda79b6),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x15e226+'->'+_0x24a012]=_0xda79b6),_0xda79b6;}['_transitio'+'nHasCondit'+'ionsMet'](_0x3feae4){const _0x4ada56=_0x3feae4['conditions'];for(let _0x6eb467=-0x819*0x1+0x3fe*0x3+-0x3*0x14b;_0x6eb467<_0x4ada56['length'];_0x6eb467++){const _0x626774=_0x4ada56[_0x6eb467],_0x470d51=this['_findParam'+'eter'](_0x626774['parameterN'+'ame']);switch(_0x626774['predicate']){case PP:if(!(_0x470d51['value']>_0x626774['value']))return!(-0xbab+0xc*-0x2a1+-0x1cd*-0x18);break;case RP:if(!(_0x470d51['value']<_0x626774['value']))return!(-0x1*0x1057+-0x22b8+0x3310*0x1);break;case IP:if(!(_0x470d51['value']>=_0x626774['value']))return!(-0x502*0x7+0x267f+-0x370);break;case DP:if(!(_0x470d51['value']<=_0x626774['value']))return!(0xa16+-0x2499+-0x2*-0xd42);break;case LP:if(_0x470d51['value']!==_0x626774['value'])return!(0x5*-0x593+0x1613*0x1+-0x5*-0x129);break;case FP:if(_0x470d51['value']===_0x626774['value'])return!(0x26fc+0x1*0x1670+0x9*-0x6d3);break;}}return!(-0x26e5+0x4*-0x1d+0x2759);}['_findTrans'+'ition'](_0xa66ec3,_0x36ae35){let _0x350056=[];if(_0xa66ec3&&_0x36ae35)_0x350056=_0x350056['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0xa66ec3,_0x36ae35));else{if(!this['_isTransit'+'ioning'])_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case AP:_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case MP:_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x350056=_0x350056['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x350056=_0x350056['filter'](_0x25d615=>{if(_0x25d615['to']===this['activeStat'+'eName'])return!(0x50*0x20+0x3d2+-0xdd1);if(_0x25d615['hasExitTim'+'e']){let _0x1fb86e=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x3d50c3=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x25d615['exitTime']<-0x1*-0x23f+0x201a+-0x2258&&this['activeStat'+'e']['loop']&&(_0x1fb86e-=Math['floor'](_0x1fb86e),_0x3d50c3-=Math['floor'](_0x3d50c3)),_0x3d50c3===_0x1fb86e){if(_0x3d50c3!==_0x25d615['exitTime'])return null;}else{if(!(_0x25d615['exitTime']>_0x1fb86e&&_0x25d615['exitTime']<=_0x3d50c3))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x25d615);}),_0x350056['length']>-0x1ff6+-0x19d0+0x39c6){const _0x7ea4cc=_0x350056[0x18d4+-0x1be5+0x9d*0x5];if(_0x7ea4cc['to']===ef){const _0x79b5d=this['_findTrans'+'itionsFrom'+'State'](uo)[0x1898+0x1*0xfcd+0x9*-0x47d];_0x7ea4cc['to']=_0x79b5d['to'];}return _0x7ea4cc;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x112517){let _0x3f16f3,_0x3ce3bb,_0x340407;this['previousSt'+'ate']=_0x112517['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x112517['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x3*0x1e6+0x1e36+-0x1884);for(let _0x98a11c=0xb4d*0x1+0xf5c+0x8e3*-0x3;_0x98a11c<_0x112517['conditions']['length'];_0x98a11c++){const _0x71e1ba=_0x112517['conditions'][_0x98a11c];this['_findParam'+'eter'](_0x71e1ba['parameterN'+'ame'])['type']===xh&&this['_consumeTr'+'igger'](_0x71e1ba['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x426bec=Math['min'](this['_totalTran'+'sitionTime']!==-0x1*0x1b98+0x197a+0x21e*0x1?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x1999*-0x1+-0x1*0x24b5+0xb1d,0x12*0x1b+0xf00+0x10e5*-0x1);for(let _0x4e3492=0x6*0x43+0x11fc+-0x2*0x9c7;_0x4e3492<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4e3492++){this['_isTransit'+'ioning']?_0x4e3492!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x6b*0x3f+0x181d+0x239)?this['_transitio'+'nPreviousS'+'tates'][_0x4e3492]['weight']*=0x157+0x1c44+-0x1d9a*0x1-_0x426bec:this['_transitio'+'nPreviousS'+'tates'][_0x4e3492]['weight']=_0x426bec:this['_transitio'+'nPreviousS'+'tates'][_0x4e3492]['weight']=-0x1f87+-0x7cd*-0x5+0x779*-0x1,_0x3f16f3=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4e3492]['name']);for(let _0x40d5b7=-0x468*0x1+-0x26c6+0x2b2e;_0x40d5b7<_0x3f16f3['animations']['length'];_0x40d5b7++)_0x3ce3bb=_0x3f16f3['animations'][_0x40d5b7],_0x340407=this['_animEvalu'+'ator']['findClip'](_0x3ce3bb['name']+'.previous.'+_0x4e3492),_0x340407||(_0x340407=this['_animEvalu'+'ator']['findClip'](_0x3ce3bb['name']),_0x340407['name']=_0x3ce3bb['name']+'.previous.'+_0x4e3492),_0x4e3492!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x2*0x99b+-0x86a+0x283*0xb)&&_0x340407['pause']();}}this['_isTransit'+'ioning']=!(0x52+0x24e9+-0x253b),this['_totalTran'+'sitionTime']=_0x112517['time'],this['_currTrans'+'itionTime']=0x11b+-0x4*-0x871+0x22df*-0x1,this['_transitio'+'nInterrupt'+'ionSource']=_0x112517['interrupti'+'onSource'];const _0x30ccc5=this['activeStat'+'e'],_0x1a832e=_0x112517['transition'+'Offset']&&_0x112517['transition'+'Offset']>-0x1c7b+0x2*0xd73+0x2d*0x9&&_0x112517['transition'+'Offset']<0x16b8+0x1184*0x1+-0x283b;let _0x7e4c32=0x1e1d+0x2*0x2ef+-0x23fb,_0x33f90c=-0x1e6e*0x1+-0x163*-0x3+0x19*0x10d;if(_0x1a832e){const _0x13e345=_0x30ccc5['timelineDu'+'ration']*_0x112517['transition'+'Offset'];_0x7e4c32=_0x13e345,_0x33f90c=_0x13e345;}this['_timeInSta'+'te']=_0x7e4c32,this['_timeInSta'+'teBefore']=_0x33f90c;for(let _0x565c56=0x128*0x1+-0x1*-0x2209+-0x2331;_0x565c56<_0x30ccc5['animations']['length'];_0x565c56++){if(_0x340407=this['_animEvalu'+'ator']['findClip'](_0x30ccc5['animations'][_0x565c56]['name']),_0x340407)_0x340407['reset']();else{const _0x173f2a=Number['isFinite'](_0x30ccc5['animations'][_0x565c56]['speed'])?_0x30ccc5['animations'][_0x565c56]['speed']:_0x30ccc5['speed'];_0x340407=new Qh(_0x30ccc5['animations'][_0x565c56]['animTrack'],this['_timeInSta'+'te'],_0x173f2a,!(-0x11*-0xdc+-0xa2+-0x2*0x6fd),_0x30ccc5['loop'],this['_eventHand'+'ler']),_0x340407['name']=_0x30ccc5['animations'][_0x565c56]['name'],this['_animEvalu'+'ator']['addClip'](_0x340407);}if(_0x112517['time']>-0x24df+0x145e+0x1081?_0x340407['blendWeigh'+'t']=-0x210*-0xa+0x2*-0x91+-0x137e:_0x340407['blendWeigh'+'t']=_0x30ccc5['animations'][_0x565c56]['normalized'+'Weight'],_0x340407['play'](),_0x1a832e)_0x340407['time']=_0x30ccc5['timelineDu'+'ration']*_0x112517['transition'+'Offset'];else{const _0x5eae86=_0x30ccc5['speed']>=0x1ce9*0x1+0x13c*0x5+-0x1*0x2315?-0xe*0x151+-0x3f1*-0x1+0xe7d:this['activeStat'+'eDuration'];_0x340407['time']=_0x5eae86;}}}['_transitio'+'nToState'](_0x53f44d){if(!this['_findState'](_0x53f44d))return;let _0x147a9e=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x53f44d);_0x147a9e||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x147a9e=new ec({'from':null,'to':_0x53f44d})),this['updateStat'+'eFromTrans'+'ition'](_0x147a9e);}['assignAnim'+'ation'](_0x2551fa,_0x59da7f,_0x1f80a3,_0x3a7f0e){const _0x2607ea=_0x2551fa['split']('.');let _0x49e5aa=this['_findState'](_0x2607ea[-0x1*0x178a+-0xf*0xa1+0x20f9]);_0x49e5aa||(_0x49e5aa=new tg(this,_0x2607ea[-0x2413+-0x5*0x715+0x131*0x3c],_0x1f80a3),this['_states'][_0x2607ea[0xd*-0x10f+0x427*0x6+-0xb27*0x1]]=_0x49e5aa,this['_stateName'+'s']['push'](_0x2607ea[0x80*0x31+-0x22b3+-0x1*-0xa33])),_0x49e5aa['addAnimati'+'on'](_0x2607ea,_0x59da7f),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x49e5aa['name'],_0x59da7f),_0x1f80a3!==void(-0x80*0x28+-0x21b8+0x35b8)&&(_0x49e5aa['speed']=_0x1f80a3),_0x3a7f0e!==void(-0x1*-0x1901+0x2*0x5d6+-0x24ad)&&(_0x49e5aa['loop']=_0x3a7f0e),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x2209+0xdb0+-0x1459*-0x1);}['removeNode'+'Animations'](_0x4f8d2b){if(Jh['indexOf'](_0x4f8d2b)!==-(0x1119+-0x62f+-0x3*0x3a3))return!(0x3d5*0x1+-0xf4d*-0x1+-0x1321);const _0x2d09bb=this['_findState'](_0x4f8d2b);return _0x2d09bb?(_0x2d09bb['animations']=[],!(0x245f+0x1d42+-0x41a1)):(b['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x4f8d2b),!(-0x162d+-0x1ab4+0x30e2));}['play'](_0x33a6ab){_0x33a6ab&&this['_transitio'+'nToState'](_0x33a6ab),this['_playing']=!(0xdaa+0x27e*0x4+-0x17a2);}['pause'](){this['_playing']=!(0x1d3+-0xa9*0x30+0x1dde);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=uo,this['_playing']=!(-0x24ca+0x13*0x143+0x1*0xcd2),this['_currTrans'+'itionTime']=-0x68c+0x716*0x4+0x15cb*-0x1,this['_totalTran'+'sitionTime']=0x1fa4+-0x1c3e+-0x1*0x365,this['_isTransit'+'ioning']=!(0x2095*0x1+0x168c+-0x120*0x31),this['_timeInSta'+'te']=-0x1469+-0x6f*0x57+0x3a22,this['_timeInSta'+'teBefore']=-0x41d+0x197b*-0x1+0x1d98,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x38766d){if(!this['_playing'])return;let _0x47476c,_0x5799a0,_0xbf28e5;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x38766d*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x38766d=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x3dc7d6=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x3dc7d6&&this['updateStat'+'eFromTrans'+'ition'](_0x3dc7d6),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x38766d,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x210fe3=this['_totalTran'+'sitionTime']!==0x1d*-0x2e+0x1b7a+-0x1644?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x1*0x1a3e+0x13*-0x37+0x287*0xc;for(let _0x42df1c=0x2*0x72d+0x3*-0xb0d+0x12cd;_0x42df1c<this['_transitio'+'nPreviousS'+'tates']['length'];_0x42df1c++){_0x47476c=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x42df1c]['name']);const _0xbe1ac3=this['_transitio'+'nPreviousS'+'tates'][_0x42df1c]['weight'];for(let _0xcf55f1=-0x2*0xd09+-0x1553+0x2f65;_0xcf55f1<_0x47476c['animations']['length'];_0xcf55f1++)_0x5799a0=_0x47476c['animations'][_0xcf55f1],_0xbf28e5=this['_animEvalu'+'ator']['findClip'](_0x5799a0['name']+'.previous.'+_0x42df1c),_0xbf28e5&&(_0xbf28e5['blendWeigh'+'t']=(0x5*-0x3a+-0x19*0x83+0xdee-_0x210fe3)*_0x5799a0['normalized'+'Weight']*_0xbe1ac3);}_0x47476c=this['activeStat'+'e'];for(let _0x1e615b=0x1171+0x1d29+0x1*-0x2e9a;_0x1e615b<_0x47476c['animations']['length'];_0x1e615b++)_0x5799a0=_0x47476c['animations'][_0x1e615b],this['_animEvalu'+'ator']['findClip'](_0x5799a0['name'])['blendWeigh'+'t']=_0x210fe3*_0x5799a0['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1a8*-0x6+0x2a2*-0x8+0x1*0x1f01);const _0x161d9a=this['activeStat'+'eAnimation'+'s']['length'],_0x3c5b7e=this['_animEvalu'+'ator']['clips']['length'];for(let _0x34be18=0x155*-0x3+-0x23e4+0x27e3;_0x34be18<_0x3c5b7e-_0x161d9a;_0x34be18++)this['_animEvalu'+'ator']['removeClip'](-0x1651+0x8*-0x209+0x2699);this['_transitio'+'nPreviousS'+'tates']=[],_0x47476c=this['activeStat'+'e'];for(let _0x4f65c2=-0x22be+-0x2635*-0x1+-0x377;_0x4f65c2<_0x47476c['animations']['length'];_0x4f65c2++)_0x5799a0=_0x47476c['animations'][_0x4f65c2],_0xbf28e5=this['_animEvalu'+'ator']['findClip'](_0x5799a0['name']),_0xbf28e5&&(_0xbf28e5['blendWeigh'+'t']=_0x5799a0['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Wo){_0x47476c=this['activeStat'+'e'];for(let _0x85f815=0x2*-0x590+-0x1d*-0x7+0x17*0x73;_0x85f815<_0x47476c['animations']['length'];_0x85f815++)_0x5799a0=_0x47476c['animations'][_0x85f815],_0xbf28e5=this['_animEvalu'+'ator']['findClip'](_0x5799a0['name']),_0xbf28e5&&(_0xbf28e5['blendWeigh'+'t']=_0x5799a0['normalized'+'Weight'],_0x5799a0['parent']['syncAnimat'+'ions']&&(_0xbf28e5['speed']=_0x5799a0['speed']));}}this['_animEvalu'+'ator']['update'](_0x38766d,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Jd=new W(),Zl=new A(),io=new ee(),ro=new Y(),no=new ie();class Si extends tr{constructor(_0x2fa99c,_0x3dacc5,_0xa00944,_0x455bd1,_0x32b3dd){super(_0x3dacc5),this['animCompon'+'ent']=_0x2fa99c,this['_mask']=_0x455bd1,this['layerName']=_0xa00944,this['layerIndex']=_0x32b3dd;}static['_packFloat'](_0x26a409){return _0x26a409[0x1*0x16fb+0xe*0xab+-0x1*0x2055];}static['_packBoole'+'an'](_0x563a80){return!!_0x563a80[0xf7f*-0x1+-0x1*0x140e+0x13*0x1df];}static['_packVec2'](_0x21a7f0){return Jd['x']=_0x21a7f0[0x1*-0x14a6+-0xa*0x3ad+0x3968],Jd['y']=_0x21a7f0[0x1544+0x1*0x2345+-0x3888],Jd;}static['_packVec3'](_0x9fef33){return Zl['x']=_0x9fef33[0x1f4+0x177e+-0x1*0x1972],Zl['y']=_0x9fef33[0x59d*-0x3+0x1f*0x95+0x133*-0x1],Zl['z']=_0x9fef33[-0x2*0x100a+-0x6c9+0x26df],Zl;}static['_packVec4'](_0x34a630){return io['x']=_0x34a630[0xc65*-0x2+-0x170d+0x2fd7],io['y']=_0x34a630[-0x2556+-0x2321+0x4878],io['z']=_0x34a630[-0xd31+-0xf4f*0x1+-0x29*-0xb2],io['w']=_0x34a630[0xe*0x9e+-0x17e*0x2+-0x55*0x11],io;}static['_packColor'](_0x2580aa){return ro['r']=_0x2580aa[-0x1e18+-0xdc7*0x2+0x39a6],ro['g']=_0x2580aa[-0xf73*0x1+-0x13d3+-0x1*-0x2347],ro['b']=_0x2580aa[0x17d8+-0x1*-0x187d+0x59*-0x8b],ro['a']=_0x2580aa[0x16d5+-0x1d6e+0x69c],ro;}static['_packQuat'](_0x31e918){return no['x']=_0x31e918[0xd23+-0xbbf+0xb2*-0x2],no['y']=_0x31e918[0x1a62+0x1d60+-0x37c1],no['z']=_0x31e918[-0x90b*-0x1+-0x220f*0x1+-0x1906*-0x1],no['w']=_0x31e918[-0x3*-0x97b+-0x3*-0xa6a+0x39*-0x10c],no;}['resolve'](_0x20fbdc){const _0x4ee48c=Xr['encode'](_0x20fbdc['entityPath'],_0x20fbdc['component'],_0x20fbdc['propertyPa'+'th']);let _0x5248dc=this['targetCach'+'e'][_0x4ee48c];if(_0x5248dc)return _0x5248dc;let _0x4143fe,_0xd262b4,_0x25d0f5;switch(_0x20fbdc['component']){case'entity':_0x4143fe=this['_getEntity'+'FromHierar'+'chy'](_0x20fbdc['entityPath']),_0x25d0f5=Xr['encode'](_0x4143fe['path'],'entity',_0x20fbdc['propertyPa'+'th']),_0xd262b4=_0x4143fe;break;case'graph':if(_0xd262b4=this['findNode'](_0x20fbdc),!_0xd262b4)return null;_0x25d0f5=Xr['encode'](_0xd262b4['path'],'graph',_0x20fbdc['propertyPa'+'th']);break;default:if(_0x4143fe=this['_getEntity'+'FromHierar'+'chy'](_0x20fbdc['entityPath']),_0xd262b4=_0x4143fe['findCompon'+'ent'](_0x20fbdc['component']),!_0xd262b4)return null;_0x25d0f5=Xr['encode'](_0x4143fe['path'],_0x20fbdc['component'],_0x20fbdc['propertyPa'+'th']);break;}return _0x5248dc=this['_createAni'+'mTargetFor'+'Property'](_0xd262b4,_0x20fbdc['propertyPa'+'th'],_0x25d0f5),this['targetCach'+'e'][_0x4ee48c]=_0x5248dc,_0x5248dc;}['update'](_0x5869f4){const _0x49da7f=this['activeNode'+'s'];if(_0x49da7f){for(let _0xe3d83b=0x6a8+-0x166*-0x6+-0xf0c;_0xe3d83b<_0x49da7f['length'];_0xe3d83b++)_0x49da7f[_0xe3d83b]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x34f65a){if(!this['animCompon'+'ent']['entity']['name']===_0x34f65a[-0x1ae0+-0x19b7+0x3497])return null;const _0x3c2df8=this['animCompon'+'ent']['entity'];return _0x34f65a['length']===0xfe9*-0x2+0x674+0x513*0x5?_0x3c2df8:_0x3c2df8['_parent']['findByPath'](_0x34f65a);}['_resolvePa'+'th'](_0x30967f,_0x21f7bf,_0x418df9){const _0x3770d4=_0x21f7bf['length']-(_0x418df9?0x672+-0xc2f+0x5bd:0x3*0x2c2+-0x18cc+0x1087);for(let _0x4f76f3=-0x74c*0x1+0x1*-0x397+-0x1*-0xae3;_0x4f76f3<_0x3770d4;_0x4f76f3++)_0x30967f=_0x30967f[_0x21f7bf[_0x4f76f3]];return _0x30967f;}['_setter'](_0x57701b,_0x5a6ada,_0x467c09){const _0x115fe8=this['_resolvePa'+'th'](_0x57701b,_0x5a6ada),_0x4ac405=_0x5a6ada[_0x5a6ada['length']-(-0x33d*-0x1+0x190c+-0x8*0x389)],_0x2882e2='set'+_0x4ac405['substring'](0x1*0x2527+0x1701+0x9a*-0x64,0x1*0x10bb+-0x41c*0x1+-0x143*0xa)['toUpperCas'+'e']()+_0x4ac405['substring'](-0x39f*-0x6+-0x18f+-0x142a);if(_0x115fe8[_0x2882e2]){let _0x568a69=_0x115fe8['get'+_0x4ac405['substring'](0x24*-0x44+0xef9*-0x1+0x1889,0x7c7+-0x1c06+0x1440)['toUpperCas'+'e']()+_0x4ac405['substring'](0x3a*0x85+-0x25*-0xeb+0x38*-0x125)]['bind'](_0x115fe8)();_0x568a69=[_0x568a69['x'],_0x568a69['y'],_0x568a69['z'],_0x568a69['w']];const _0x22bd15=_0x115fe8[_0x2882e2]['bind'](_0x115fe8);return{'set':_0x51c212=>{_0x22bd15(_0x467c09(_0x51c212));},'get':()=>_0x568a69};}const _0x2b60fc=_0x115fe8[_0x4ac405];if(typeof _0x2b60fc=='object'&&_0x2b60fc['hasOwnProp'+'erty']('copy'))return function(_0x22e5ad){_0x2b60fc['copy'](_0x467c09(_0x22e5ad));};if([W,A,ee,Y,ie]['indexOf'](_0x115fe8['constructo'+'r'])!==-(0xa5f+-0x31*-0x4+-0xb22)&&_0x5a6ada['length']>0x12bc+0x399*0x8+-0x2f83){const _0x30d6c2=_0x5a6ada['length']>0x1afe+0x81a+-0x2316?this['_resolvePa'+'th'](_0x57701b,_0x5a6ada['slice'](0x1bc6+-0xf65*-0x1+0x2b*-0x101,-(-0x246e+0xc64*0x1+-0x5*-0x4cf))):_0x57701b,_0x20759a=_0x5a6ada[_0x5a6ada['length']-(-0x23a4+0xfb8+-0x9f7*-0x2)];return function(_0x582147){_0x115fe8[_0x4ac405]=_0x467c09(_0x582147),_0x30d6c2[_0x20759a]=_0x115fe8;};}return function(_0x560174){_0x115fe8[_0x4ac405]=_0x467c09(_0x560174);};}['_createAni'+'mTargetFor'+'Property'](_0x177c9a,_0x3ab29e,_0x31bc83){if(this['handlers']&&_0x3ab29e[-0x136d*-0x1+-0x116d+0x8*-0x40]['startsWith']('weight.'))return this['handlers']['weight'](_0x177c9a,_0x3ab29e[0x194b+0x2580+-0x5*0xc8f]['replace']('weight.',''));if(this['handlers']&&_0x3ab29e[-0x54b+0x252a+-0x1fdf]==='material'&&_0x3ab29e['length']===-0x810+0x251f+-0x1d0d){const _0x5c2637=_0x3ab29e[0x15b1+0x211*0x3+-0x1be3];if(_0x5c2637['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x177c9a,_0x5c2637);}const _0xb1ac36=this['_resolvePa'+'th'](_0x177c9a,_0x3ab29e,!(0x25*-0x2b+-0x2275+-0x4c*-0x89));if(typeof _0xb1ac36>'u')return null;let _0x4a20ec,_0x4c82e8,_0x1ecdb7;if(typeof _0xb1ac36=='number')_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packFloat']),_0x4c82e8='vector',_0x1ecdb7=0x109f*0x1+0x1cdb+-0x67f*0x7;else{if(typeof _0xb1ac36=='boolean')_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packBoole'+'an']),_0x4c82e8='vector',_0x1ecdb7=-0x112*-0x4+-0x989*0x3+0x1854;else{if(typeof _0xb1ac36=='object')switch(_0xb1ac36['constructo'+'r']){case W:_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packVec2']),_0x4c82e8='vector',_0x1ecdb7=-0x1f*-0x43+-0x43*-0x51+-0x1d4e;break;case A:_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packVec3']),_0x4c82e8='vector',_0x1ecdb7=-0x1*0x1163+-0x1f*0x23+-0x1d*-0xbf;break;case ee:_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packVec4']),_0x4c82e8='vector',_0x1ecdb7=0x1ba6+0x1*-0x167f+-0x523;break;case Y:_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packColor']),_0x4c82e8='vector',_0x1ecdb7=-0x3*-0x23f+-0x1*-0x607+-0x44*0x30;break;case ie:_0x4a20ec=this['_setter'](_0x177c9a,_0x3ab29e,Si['_packQuat']),_0x4c82e8='quaternion',_0x1ecdb7=0xbce*-0x2+-0x1*-0x881+0xf1f;break;default:return null;}}}return _0x3ab29e['indexOf']('material')!==-(-0x1882*0x1+0x1905+-0x82)?new tf(_0x3896ce=>{_0x4a20ec(_0x3896ce),_0x177c9a['material']['update']();},_0x4c82e8,_0x1ecdb7,_0x31bc83):new tf(_0x4a20ec,_0x4c82e8,_0x1ecdb7,_0x31bc83);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0xb59404={},_0x52883b=function(_0x591232){_0xb59404[_0x591232['name']]=_0x591232;for(let _0x48cabb=0x26b7+-0x2251+0x466*-0x1;_0x48cabb<_0x591232['children']['length'];++_0x48cabb)_0x52883b(_0x591232['children'][_0x48cabb]);};_0x52883b(this['graph']),this['nodes']=_0xb59404;}}class $P{constructor(_0x3c7857,_0x41a869,_0x427ff0,_0x5c3cb9=-0x3c2*-0x9+-0x15a7+-0x6*0x207,_0x5ea652=j0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0x2*0x962+0x43*-0x42+-0x2*0xbf),c(this,'_blendTime'+'Elapsed',-0xdb7+0x470*-0x4+0x1f77),c(this,'_startingW'+'eight',-0x90c*0x2+-0x31a*-0x3+0xf*0x96),c(this,'_targetWei'+'ght',0x1b85+0x1b2*0x12+-0xb3*0x53),(this['_name']=_0x3c7857,this['_controlle'+'r']=_0x41a869,this['_component']=_0x427ff0,this['_weight']=_0x5c3cb9,this['_blendType']=_0x5ea652);}get['name'](){return this['_name'];}set['playing'](_0x1867a4){this['_controlle'+'r']['playing']=_0x1867a4;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x303e21){const _0xa3b389=this['_controlle'+'r'],_0x3bca84=_0xa3b389['playing'];_0xa3b389['playing']=!(0x952+-0x4a5+0x4ad*-0x1),_0xa3b389['activeStat'+'eCurrentTi'+'me']=_0x303e21,_0x3bca84||_0xa3b389['update'](-0x1*-0x1cc5+-0xd69*0x1+-0xf5c),_0xa3b389['playing']=_0x3bca84;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x37135e){this['_weight']=_0x37135e,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x3a80f3){_0x3a80f3!==this['_blendType']&&(this['_blendType']=_0x3a80f3,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x3c9fee){this['_controlle'+'r']['assignMask'](_0x3c9fee)&&this['_component']['rebind'](),this['_mask']=_0x3c9fee;}get['mask'](){return this['_mask'];}['play'](_0xe1c22b){this['_controlle'+'r']['play'](_0xe1c22b);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x3abb13){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=z['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x3abb13):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1*-0x416+-0xc5+0x4db,this['_blendTime'+'Elapsed']=-0x149c+-0x49*-0x30+0x6ec,this['_startingW'+'eight']=-0xc*-0x38+0x1c*0x14b+-0x58c*0x7,this['_targetWei'+'ght']=0x2087+-0x125f+-0x1c5*0x8)),this['_controlle'+'r']['update'](_0x3abb13);}['blendToWei'+'ght'](_0x211621,_0x285a70){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x211621,this['_blendTime']=Math['max'](-0xc5d+-0x49d*0x2+-0x1597*-0x1,_0x285a70),this['_blendTime'+'Elapsed']=0x105c*-0x1+-0xc33+0x1c8f;}['assignAnim'+'ation'](_0x5a94ed,_0x26df8f,_0x2211a5,_0x1d8172){if(!(_0x26df8f instanceof ki)){b['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x5a94ed,_0x26df8f,_0x2211a5,_0x1d8172),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x2*0xd5d+0x3aa*0x8+-0x2*0x14b&&this['_controlle'+'r']['_transitio'+'ns']['push'](new ec({'from':'START','to':_0x5a94ed})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x7*-0x8d+0x1*0x190f+-0x1cea*0x1));}['removeNode'+'Animations'](_0x562991){this['_controlle'+'r']['removeNode'+'Animations'](_0x562991)&&(this['_component']['playing']=!(-0x46*-0x13+0xc12+-0x1eb*0x9));}['getAnimati'+'onAsset'](_0x5306ef){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x5306ef];}['transition'](_0x19a201,_0x583595=0x243+-0x1972+-0x1*-0x172f,_0x43e48a=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new ec({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x19a201,'time':_0x583595,'transitionOffset':_0x43e48a}));}}class Sh{constructor(_0x25cf6d){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x25cf6d['layers']))this['_layers']=_0x25cf6d['layers'];else for(const _0x353add in _0x25cf6d['layers']){const _0x4a1b30=_0x25cf6d['layers'][_0x353add],_0x1e5d79={'name':_0x4a1b30['name'],'blendType':_0x4a1b30['blendType'],'weight':_0x4a1b30['weight'],'states':[],'transitions':[]};for(let _0x10d19e=-0x1f6e+-0x1c93+0x1*0x3c01;_0x10d19e<_0x4a1b30['states']['length'];_0x10d19e++)_0x1e5d79['states']['push'](_0x25cf6d['states'][_0x4a1b30['states'][_0x10d19e]]);for(let _0xec00ee=-0x1*-0x1dc1+-0xf95*0x2+0x169;_0xec00ee<_0x4a1b30['transition'+'s']['length'];_0xec00ee++){const _0xe9d05d=_0x25cf6d['transition'+'s'][_0x4a1b30['transition'+'s'][_0xec00ee]];if(_0xe9d05d['conditions']&&!Array['isArray'](_0xe9d05d['conditions'])){const _0x7b21fb=Object['keys'](_0xe9d05d['conditions']),_0x78bdb0=[];for(let _0x199cb6=0x17ad+-0x42+-0x37*0x6d;_0x199cb6<_0x7b21fb['length'];_0x199cb6++){const _0x58bf0d=_0xe9d05d['conditions'][_0x7b21fb[_0x199cb6]];_0x58bf0d['parameterN'+'ame']&&_0x78bdb0['push'](_0x58bf0d);}_0xe9d05d['conditions']=_0x78bdb0;}Number['isInteger'](_0xe9d05d['from'])&&(_0xe9d05d['from']=_0x25cf6d['states'][_0xe9d05d['from']]['name']),Number['isInteger'](_0xe9d05d['to'])&&(_0xe9d05d['to']=_0x25cf6d['states'][_0xe9d05d['to']]['name']),_0x1e5d79['transition'+'s']['push'](_0xe9d05d);}this['_layers']['push'](_0x1e5d79);}for(const _0x2e0778 in _0x25cf6d['parameters']){const _0x328faf=_0x25cf6d['parameters'][_0x2e0778];this['_parameter'+'s'][_0x328faf['name']]={'type':_0x328faf['type'],'value':_0x328faf['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Q0 extends pe{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x1a2+-0x936+0xad9),c(this,'_activate',!(-0x164d+-0x3*0xc79+0x3bb8)),c(this,'_playing',!(0x173a+0xef6+0x55*-0x73)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(0x223a+0x8*-0x1ee+-0x12c9)),c(this,'findParame'+'ter',_0x61742e=>this['_parameter'+'s'][_0x61742e]),c(this,'consumeTri'+'gger',_0x16f2df=>{this['_consumedT'+'riggers']['add'](_0x16f2df);});}set['stateGraph'+'Asset'](_0x289daa){if(_0x289daa===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x32a908,_0x32affa;_0x289daa instanceof he?(_0x32a908=_0x289daa['id'],_0x32affa=this['system']['app']['assets']['get'](_0x32a908),_0x32affa||(this['system']['app']['assets']['add'](_0x289daa),_0x32affa=this['system']['app']['assets']['get'](_0x32a908))):(_0x32a908=_0x289daa,_0x32affa=this['system']['app']['assets']['get'](_0x32a908)),!(!_0x32affa||this['_stateGrap'+'hAsset']===_0x32a908)&&(_0x32affa['resource']?(this['_stateGrap'+'h']=_0x32affa['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x32affa['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x32affa['once']('load',_0x380fb6=>{this['_stateGrap'+'h']=_0x380fb6['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x32affa['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x32affa)),this['_stateGrap'+'hAsset']=_0x32a908);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x4c8006){this['_normalize'+'Weights']=_0x4c8006,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x4b5948){this['_animation'+'Assets']=_0x4b5948,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x33ff1a){this['_speed']=_0x33ff1a;}get['speed'](){return this['_speed'];}set['activate'](_0x2238aa){this['_activate']=_0x2238aa;}get['activate'](){return this['_activate'];}set['playing'](_0x37b5c2){this['_playing']=_0x37b5c2;}get['playing'](){return this['_playing'];}set['rootBone'](_0x565b2c){if(typeof _0x565b2c=='string'){const _0x14c69f=this['entity']['root']['findByGuid'](_0x565b2c);b['assert'](_0x14c69f,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x565b2c+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x14c69f;}else _0x565b2c instanceof je?this['_rootBone']=_0x565b2c:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x28f28c){this['_stateGrap'+'h']=_0x28f28c;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x13eab7){this['_layerIndi'+'ces']=_0x13eab7;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x19a4a4){this['_parameter'+'s']=_0x19a4a4;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x3cec58){this['_targets']=_0x3cec58;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x42c370=-0x135d+0x962+0x9fb;_0x42c370<this['_layers']['length'];_0x42c370++)if(!this['_layers'][_0x42c370]['playable'])return!(0x1375*0x1+-0x2646*-0x1+-0x66a*0x9);return!(-0x2*-0x8c1+0x1*-0x2327+0x11a5*0x1);}get['baseLayer'](){return this['_layers']['length']>-0x71e+0x68a*0x1+0x1*0x94?this['_layers'][-0xb*-0x67+-0x23e*-0x11+0x2a8b*-0x1]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x2c6f26){const _0x231f03=this['animationA'+'ssets'],_0x32b97d=this['layers']['map'](_0x5ccde0=>_0x5ccde0['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Sh(_0x2c6f26['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x231f03,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x19efee,_0x3a20d2)=>{_0x19efee['mask']=_0x32b97d[_0x3a20d2];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x3e8f29=Object['values'](this['_targets']);for(let _0x9e30f9=-0xb0a+0x1*0xf1d+-0x95*0x7;_0x9e30f9<_0x3e8f29['length'];_0x9e30f9++)_0x3e8f29[_0x9e30f9]['dirty']=!(-0x1*-0x23c3+0x31*0x7a+-0x3b1d);}['_addLayer']({name:_0xa2e0a7,states:_0x2da7f0,transitions:_0x4ca391,weight:_0x4db682,mask:_0x233da4,blendType:_0x4230b7}){let _0xbf4138;this['rootBone']?_0xbf4138=this['rootBone']:_0xbf4138=this['entity'];const _0x576dc3=this['_layers']['length'],_0x21fe83=new Si(this,_0xbf4138,_0xa2e0a7,_0x233da4,_0x576dc3),_0x59cf6c=new Y0(_0x21fe83),_0x4264b5=new WP(_0x59cf6c,_0x2da7f0,_0x4ca391,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0xa2e0a7,_0x4264b5,this,_0x4db682,_0x4230b7)),this['_layerIndi'+'ces'][_0xa2e0a7]=_0x576dc3,this['_layers'][_0x576dc3];}['addLayer'](_0x2f4aed,_0x1867e1,_0x1fe62a,_0x203e19){const _0x1dcce4=this['findAnimat'+'ionLayer'](_0x2f4aed);if(_0x1dcce4)return _0x1dcce4;const _0x254660=[{'name':'START','speed':0x1}],_0x186fde=[];return this['_addLayer']({'name':_0x2f4aed,'states':_0x254660,'transitions':_0x186fde,'weight':_0x1867e1,'mask':_0x1fe62a,'blendType':_0x203e19});}['_assignPar'+'ameters'](_0x1adda5){this['_parameter'+'s']={};const _0x1574af=Object['keys'](_0x1adda5['parameters']);for(let _0x348243=0xe4*-0x10+-0x96b+0x17ab;_0x348243<_0x1574af['length'];_0x348243++){const _0x4cc0d0=_0x1574af[_0x348243];this['_parameter'+'s'][_0x4cc0d0]={'type':_0x1adda5['parameters'][_0x4cc0d0]['type'],'value':_0x1adda5['parameters'][_0x4cc0d0]['value']};}}['loadStateG'+'raph'](_0x18c3ee){this['_stateGrap'+'h']=_0x18c3ee,this['_assignPar'+'ameters'](_0x18c3ee),this['_layers']=[];let _0x40c736=!(0x1c03+-0x26f3+0xaf1);for(let _0xe60f94=0x1b5f+-0x3*0x25d+-0x1*0x1448;_0xe60f94<_0x18c3ee['layers']['length'];_0xe60f94++){const _0x310ef0=_0x18c3ee['layers'][_0xe60f94];this['_addLayer']({..._0x310ef0}),_0x310ef0['states']['some'](_0x31a987=>_0x31a987['blendTree'])&&(_0x40c736=!(0x136e+0x6f4+-0x1*0x1a62));}_0x40c736||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x5b3fb8=0x5a1+0x297*-0x5+0x2*0x3a9;_0x5b3fb8<this['_layers']['length'];_0x5b3fb8++){const _0xa70232=this['_layers'][_0x5b3fb8],_0x3fcaeb=_0xa70232['name'];for(let _0x3cd308=-0x1d*-0xe3+0x929+-0x22e0;_0x3cd308<_0xa70232['states']['length'];_0x3cd308++){const _0x4d06a5=_0xa70232['states'][_0x3cd308];if(Jh['indexOf'](_0x4d06a5)===-(0x590+-0x1*-0x72d+-0xcbc)){const _0x1d607b=_0x3fcaeb+':'+_0x4d06a5;this['_animation'+'Assets'][_0x1d607b]||(this['_animation'+'Assets'][_0x1d607b]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x592f95=0x1*-0x481+-0x1*0x80f+-0x3*-0x430;_0x592f95<this['_layers']['length'];_0x592f95++){const _0x1ed350=this['_layers'][_0x592f95];for(let _0xb1c131=-0x20b8+0x1*-0x15a3+0x365b;_0xb1c131<_0x1ed350['states']['length'];_0xb1c131++){const _0x1486ca=_0x1ed350['states'][_0xb1c131];if(Jh['indexOf'](_0x1486ca)!==-(-0x13d*-0x1d+-0x24a8+-0x40*-0x3))continue;const _0x305a1d=this['_animation'+'Assets'][_0x1ed350['name']+':'+_0x1486ca];if(!_0x305a1d||!_0x305a1d['asset']){this['findAnimat'+'ionLayer'](_0x1ed350['name'])['assignAnim'+'ation'](_0x1486ca,ki['EMPTY']);continue;}const _0x268e8d=_0x305a1d['asset'],_0x13a77f=this['system']['app']['assets']['get'](_0x268e8d);_0x13a77f&&(_0x13a77f['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x1ed350['name'],_0x1486ca,_0x13a77f):(_0x13a77f['once']('load',function(_0x15dc7c,_0x163b7f){return function(_0x16116a){this['onAnimatio'+'nAssetLoad'+'ed'](_0x15dc7c,_0x163b7f,_0x16116a);}['bind'](this);}['bind'](this)(_0x1ed350['name'],_0x1486ca)),this['system']['app']['assets']['load'](_0x13a77f)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x28d1e4,_0x102271,_0x22159a){this['findAnimat'+'ionLayer'](_0x28d1e4)['assignAnim'+'ation'](_0x102271,_0x22159a['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(0x2113+-0x2680+-0x5*-0x116),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x32c066=-0x18e*0x11+-0x2*-0x93c+0x3fb*0x2;_0x32c066<this['_layers']['length'];_0x32c066++){const _0x3d2e58=this['_layers'][_0x32c066]['playing'];this['_layers'][_0x32c066]['reset'](),this['_layers'][_0x32c066]['playing']=_0x3d2e58;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x35fe2d=>{this['_targets'][_0x35fe2d]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x36051f=0x1*0xf16+0x6d*0x38+-0x26ee;_0x36051f<this['_layers']['length'];_0x36051f++)this['_layers'][_0x36051f]['rebind']();}['findAnimat'+'ionLayer'](_0x549e02){const _0x1f7565=this['_layerIndi'+'ces'][_0x549e02];return this['_layers'][_0x1f7565]||null;}['addAnimati'+'onState'](_0x36c1c5,_0x48271a,_0x3abbe1=0x1cb1+0x1375*0x2+-0x1fd*0x22,_0x31d886=!(-0xbf3+0x25c3+-0x19d0),_0x5c8b23='Base'){var _0x563c1d;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Sh({'layers':[{'name':_0x5c8b23,'states':[{'name':'START','speed':0x1},{'name':_0x36c1c5,'speed':_0x3abbe1,'loop':_0x31d886,'defaultState':!(-0xec*0x7+0x1*-0x1675+0x1ce9)}],'transitions':[{'from':'START','to':_0x36c1c5}]}],'parameters':{}}));const _0x24146b=this['findAnimat'+'ionLayer'](_0x5c8b23);_0x24146b?_0x24146b['assignAnim'+'ation'](_0x36c1c5,_0x48271a,_0x3abbe1,_0x31d886):(_0x563c1d=this['addLayer'](_0x5c8b23))==null||_0x563c1d['assignAnim'+'ation'](_0x36c1c5,_0x48271a,_0x3abbe1,_0x31d886);}['assignAnim'+'ation'](_0x1453b7,_0x1c7a2c,_0x5dd006,_0x5f1f4a=0x492+0x1*0xdb2+-0x1243,_0x379d20=!(-0x38*-0x3+-0x9*-0x209+-0x3*0x653)){if(!this['_stateGrap'+'h']&&_0x1453b7['indexOf']('.')===-(-0x14db+-0xe3b+0x2317)){this['loadStateG'+'raph'](new Sh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x1453b7,'speed':_0x5f1f4a,'loop':_0x379d20,'defaultState':!(-0x3*-0x4ed+-0x7*-0x445+-0x2caa)}],'transitions':[{'from':'START','to':_0x1453b7}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x1453b7,_0x1c7a2c);return;}const _0x1da18b=_0x5dd006?this['findAnimat'+'ionLayer'](_0x5dd006):this['baseLayer'];if(!_0x1da18b){b['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x1da18b['assignAnim'+'ation'](_0x1453b7,_0x1c7a2c,_0x5f1f4a,_0x379d20);}['removeNode'+'Animations'](_0x4ad063,_0x195d29){const _0xf98487=_0x195d29?this['findAnimat'+'ionLayer'](_0x195d29):this['baseLayer'];if(!_0xf98487){b['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0xf98487['removeNode'+'Animations'](_0x4ad063);}['getParamet'+'erValue'](_0x27d347,_0x349ed5){const _0x2ae5d8=this['_parameter'+'s'][_0x27d347];if(_0x2ae5d8&&_0x2ae5d8['type']===_0x349ed5)return _0x2ae5d8['value'];b['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x27d347+('\x22\x20of\x20type\x20'+'\x22')+_0x349ed5+'\x22');}['setParamet'+'erValue'](_0x13f6ea,_0x4af471,_0x4c80cb){const _0x1b4f4d=this['_parameter'+'s'][_0x13f6ea];if(_0x1b4f4d&&_0x1b4f4d['type']===_0x4af471){_0x1b4f4d['value']=_0x4c80cb;return;}b['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x13f6ea+('\x22\x20of\x20type\x20'+'\x22')+_0x4af471+'\x22');}['getFloat'](_0x232b9b){return this['getParamet'+'erValue'](_0x232b9b,J_);}['setFloat'](_0x2ff780,_0xfc0b4f){this['setParamet'+'erValue'](_0x2ff780,J_,_0xfc0b4f);}['getInteger'](_0x2b1494){return this['getParamet'+'erValue'](_0x2b1494,Q_);}['setInteger'](_0x1c6a18,_0x164023){typeof _0x164023=='number'&&_0x164023%(0x3*-0xfe+-0x20aa+0x23a5)===0x26a2+0x117e+-0x3820?this['setParamet'+'erValue'](_0x1c6a18,Q_,_0x164023):b['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x1c6a18,_0x164023);}['getBoolean'](_0x44de4a){return this['getParamet'+'erValue'](_0x44de4a,eg);}['setBoolean'](_0x3fc6ab,_0x47ceef){this['setParamet'+'erValue'](_0x3fc6ab,eg,!!_0x47ceef);}['getTrigger'](_0xbed1c5){return this['getParamet'+'erValue'](_0xbed1c5,xh);}['setTrigger'](_0xd8232,_0x2fa873=!(-0x3*0x293+-0x128f+-0x1a49*-0x1)){this['setParamet'+'erValue'](_0xd8232,xh,!(0xc28+0x1e1b*0x1+-0x2a43)),_0x2fa873&&this['_consumedT'+'riggers']['add'](_0xd8232);}['resetTrigg'+'er'](_0x3ce00a){this['setParamet'+'erValue'](_0x3ce00a,xh,!(0x212f+0x1af4+-0x1e11*0x2));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x3f4619){for(let _0x4cc65f=0x11ab+0x2*0x875+-0x2295;_0x4cc65f<this['layers']['length'];_0x4cc65f++)this['layers'][_0x4cc65f]['update'](_0x3f4619*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x3bd8bf=>{this['parameters'][_0x3bd8bf]['value']=!(-0x4a9*0x3+-0x120c+0x14*0x19a);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x343174,_0x540287){_0x343174['rootBone']&&_0x540287[_0x343174['rootBone']['getGuid']()]?this['rootBone']=_0x540287[_0x343174['rootBone']['getGuid']()]:this['rebind']();}}class qP{constructor(){this['enabled']=!(0x109*0x8+-0x1*0xa95+0x1*0x24d);}}const af=['enabled'];class XP extends Qe{constructor(_0x204601){super(_0x204601),this['id']='anim',this['ComponentT'+'ype']=Q0,this['DataType']=qP,this['schema']=af,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0xcfbeff,_0x17f45d,_0x444b69){super['initialize'+'ComponentD'+'ata'](_0xcfbeff,_0x17f45d,af);const _0x2b6a6c=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x17f45d)['forEach'](_0x29c437=>{_0x2b6a6c['includes'](_0x29c437)||(_0xcfbeff[_0x29c437]=_0x17f45d[_0x29c437]);}),_0x17f45d['stateGraph']&&(_0xcfbeff['stateGraph']=_0x17f45d['stateGraph'],_0xcfbeff['loadStateG'+'raph'](_0xcfbeff['stateGraph'])),_0x17f45d['layers']&&_0x17f45d['layers']['forEach']((_0x2786d5,_0x144398)=>{_0x2786d5['_controlle'+'r']['states']['forEach'](_0x13d2a8=>{_0x2786d5['_controlle'+'r']['_states'][_0x13d2a8]['_animation'+'List']['forEach'](_0x190c55=>{if(!_0x190c55['animTrack']||_0x190c55['animTrack']===ki['EMPTY']){const _0x327d45=this['app']['assets']['get'](_0x2786d5['_component']['_animation'+'Assets'][_0x2786d5['name']+':'+_0x190c55['name']]['asset']);_0x327d45&&!_0x327d45['loaded']&&_0x327d45['once']('load',()=>{_0xcfbeff['layers'][_0x144398]['assignAnim'+'ation'](_0x190c55['name'],_0x327d45['resource']);});}else _0xcfbeff['layers'][_0x144398]['assignAnim'+'ation'](_0x190c55['name'],_0x190c55['animTrack']);});});}),_0x17f45d['animationA'+'ssets']&&(_0xcfbeff['animationA'+'ssets']=Object['assign'](_0xcfbeff['animationA'+'ssets'],_0x17f45d['animationA'+'ssets'])),_0x17f45d['masks']&&Object['keys'](_0x17f45d['masks'])['forEach'](_0x2837c2=>{if(_0xcfbeff['layers'][_0x2837c2]){const _0x376eb4=_0x17f45d['masks'][_0x2837c2]['mask'],_0x5f2aae={};Object['keys'](_0x376eb4)['forEach'](_0x10871c=>{_0x5f2aae[decodeURI(_0x10871c)]=_0x376eb4[_0x10871c];}),_0xcfbeff['layers'][_0x2837c2]['mask']=_0x5f2aae;}});}['onAnimatio'+'nUpdate'](_0x11899f){const _0x1cd044=this['store'];for(const _0x10b6cf in _0x1cd044)if(_0x1cd044['hasOwnProp'+'erty'](_0x10b6cf)){const _0x225707=_0x1cd044[_0x10b6cf]['entity']['anim'];_0x225707['data']['enabled']&&_0x225707['entity']['enabled']&&_0x225707['playing']&&_0x225707['update'](_0x11899f);}}['cloneCompo'+'nent'](_0x3cb963,_0x4baae0){let _0x2c0b28;(!_0x3cb963['anim']['rootBone']||_0x3cb963['anim']['rootBone']===_0x3cb963)&&(_0x2c0b28={},_0x3cb963['anim']['layers']['forEach']((_0x3757a4,_0x41f09e)=>{if(_0x3757a4['mask']){const _0x5795db={};Object['keys'](_0x3757a4['mask'])['forEach'](_0x1e4c8a=>{const _0x17e25f=_0x1e4c8a['split']('/');_0x17e25f['shift']();const _0x1e584d=[_0x4baae0['name'],..._0x17e25f]['join']('/');_0x5795db[_0x1e584d]=_0x3757a4['mask'][_0x1e4c8a];}),_0x2c0b28[_0x41f09e]={'mask':_0x5795db};}}));const _0x1c3620={'enabled':_0x3cb963['anim']['enabled'],'stateGraphAsset':_0x3cb963['anim']['stateGraph'+'Asset'],'animationAssets':_0x3cb963['anim']['animationA'+'ssets'],'speed':_0x3cb963['anim']['speed'],'activate':_0x3cb963['anim']['activate'],'playing':_0x3cb963['anim']['playing'],'rootBone':_0x3cb963['anim']['rootBone'],'stateGraph':_0x3cb963['anim']['stateGraph'],'layers':_0x3cb963['anim']['layers'],'layerIndices':_0x3cb963['anim']['layerIndic'+'es'],'parameters':_0x3cb963['anim']['parameters'],'normalizeWeights':_0x3cb963['anim']['normalizeW'+'eights'],'masks':_0x2c0b28};return this['addCompone'+'nt'](_0x4baae0,_0x1c3620);}['onBeforeRe'+'move'](_0x4fab9f,_0x41c16e){_0x41c16e['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}pe['_buildAcce'+'ssors'](Q0['prototype'],af);class J0 extends pe{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x400eab=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x400eab);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class jP{constructor(){this['enabled']=!(0x215d+-0x1*-0x170f+-0x386c);}}const ex=['enabled'];class YP extends Qe{constructor(_0x486a9a){super(_0x486a9a),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=J0,this['DataType']=jP,this['schema']=ex,this['manager']=_0x486a9a['soundManag'+'er'],b['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4d2d1c,_0x63ee83,_0x38909c){_0x38909c=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x4d2d1c,_0x63ee83,_0x38909c);}['onUpdate'](_0x443f20){if(this['current']){const _0x18960a=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x18960a);const _0x5b71a5=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x5b71a5);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](J0['prototype'],ex);const of=-0x6*-0x52c+-0x1*0x397+-0x1b71,sg=-0xf1*0x19+-0xea3+0x262d,vh='group',lf='image',tx='text',bh='stretch',KP='contain',ZP='cover',Je={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},fl={};fl[Je['DEFAULT']]='_defaultTi'+'nt',fl[Je['HOVER']]='hoverTint',fl[Je['PRESSED']]='pressedTin'+'t',fl[Je['INACTIVE']]='inactiveTi'+'nt';const pl={};pl[Je['DEFAULT']]='_defaultSp'+'riteAsset',pl[Je['HOVER']]='hoverSprit'+'eAsset',pl[Je['PRESSED']]='pressedSpr'+'iteAsset',pl[Je['INACTIVE']]='inactiveSp'+'riteAsset';const ml={};ml[Je['DEFAULT']]='_defaultSp'+'riteFrame',ml[Je['HOVER']]='hoverSprit'+'eFrame',ml[Je['PRESSED']]='pressedSpr'+'iteFrame',ml[Je['INACTIVE']]='inactiveSp'+'riteFrame';class _t extends pe{constructor(_0x5847ed,_0x28676e){super(_0x5847ed,_0x28676e),c(this,'_visualSta'+'te',Je['DEFAULT']),c(this,'_isHoverin'+'g',!(0x2ed*0xd+-0xce1+-0x2f*0x89)),c(this,'_hoveringC'+'ounter',-0x270a+0x1*0x2416+0x2f4),c(this,'_isPressed',!(-0x1987+-0x1e9b+-0x3823*-0x1)),c(this,'_defaultTi'+'nt',new Y(0x20b+0x1da1+-0x1*0x1fab,-0x174f+-0x1843+0x2f93*0x1,0x5be+0x10bc+-0x20b*0xb,-0x22e+-0x47*0x2b+0xe1c)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x4ea*-0x2+-0x17*-0x9f+-0xa3*0x7),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Je['DEFAULT'],this['_isHoverin'+'g']=!(0x25a9+0xe59*0x2+-0x95*0x72),this['_hoveringC'+'ounter']=0x12dc*0x1+-0x758+0xb84*-0x1,this['_isPressed']=!(-0xd57+-0x14db+-0x11*-0x203),this['_defaultTi'+'nt']=new Y(0x19*0x6a+-0x13*-0x1bd+-0x2b60,0x1b80+-0x817+-0x1368,0x6df*-0x5+-0x9*0x40b+0x46bf,0x1*0xed5+0x1eb+-0x10bf),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x34*-0xb8+0x985+-0x2ee5,this['_toggleLif'+'ecycleList'+'eners']('on',_0x5847ed));}get['data'](){const _0x392784=this['system']['store'][this['entity']['getGuid']()];return _0x392784?_0x392784['data']:null;}set['enabled'](_0xa12e61){this['_setValue']('enabled',_0xa12e61);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x42efd9){this['_setValue']('active',_0x42efd9);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x4972ea){if(this['_imageEnti'+'ty']!==_0x4972ea){const _0x21bacb=typeof _0x4972ea=='string';if(this['_imageEnti'+'ty']&&_0x21bacb&&this['_imageEnti'+'ty']['getGuid']()===_0x4972ea)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x4972ea instanceof Oe?this['_imageEnti'+'ty']=_0x4972ea:_0x21bacb?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x4972ea)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x21bacb&&_0x4972ea&&(this['data']['imageEntit'+'y']=_0x4972ea);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x1373a6){this['_setValue']('hitPadding',_0x1373a6);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x27b66e){this['_setValue']('transition'+'Mode',_0x27b66e);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x110184){this['_setValue']('hoverTint',_0x110184);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x5bddb3){this['_setValue']('pressedTin'+'t',_0x5bddb3);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x3011b2){this['_setValue']('inactiveTi'+'nt',_0x3011b2);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x3434b0){this['_setValue']('fadeDurati'+'on',_0x3434b0);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x130e29){this['_setValue']('hoverSprit'+'eAsset',_0x130e29);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x356b1a){this['_setValue']('hoverSprit'+'eFrame',_0x356b1a);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x55fa4e){this['_setValue']('pressedSpr'+'iteAsset',_0x55fa4e);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x51edb8){this['_setValue']('pressedSpr'+'iteFrame',_0x51edb8);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x376bb2){this['_setValue']('inactiveSp'+'riteAsset',_0x376bb2);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x2d37cf){this['_setValue']('inactiveSp'+'riteFrame',_0x2d37cf);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x2622c0,_0x2915ec){const _0x24d436=this['data'],_0x12cab4=_0x24d436[_0x2622c0];_0x24d436[_0x2622c0]=_0x2915ec,this['fire']('set',_0x2622c0,_0x12cab4,_0x2915ec);}['_toggleLif'+'ecycleList'+'eners'](_0x112668,_0xf61454){var _0x5cc0fb;this[_0x112668]('set_active',this['_onSetActi'+'ve'],this),this[_0x112668]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x112668]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x112668]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x112668==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x5cc0fb=this['_evtElemen'+'tAdd'])==null||_0x5cc0fb['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x2c0f93,_0x373d16,_0x3e5d10){_0x373d16!==_0x3e5d10&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x5a1891,_0x2607a4,_0x1ac2b9){_0x2607a4!==_0x1ac2b9&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2607a4),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x31f159,_0x5ad60b,_0x42093a){_0x5ad60b!==_0x42093a&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x368eb8,_0x46919b;(_0x368eb8=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x368eb8['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x46919b=this['_imageEnti'+'ty'])!=null&&_0x46919b['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x1cf49d=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x1cf49d['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x1cf49d['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x1cf49d['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x1cf49d['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x1cf49d['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x1782a2,_0x1e3cb2,_0x4be0a5,_0x535e78,_0x359b6c;(_0x1782a2=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x1782a2['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x1e3cb2=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x1e3cb2['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x4be0a5=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x4be0a5['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x535e78=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x535e78['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x359b6c=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x359b6c['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x41456f){if(this['entity']['element']){const _0x15fa3c=_0x41456f==='on';if(_0x15fa3c&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x41456f]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x41456f]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x41456f]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x41456f]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x41456f]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x41456f]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x41456f]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x41456f]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x41456f]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x41456f]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x41456f]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x41456f]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x41456f]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x41456f]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x15fa3c;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x245231;const _0x372e46=(_0x245231=this['_imageEnti'+'ty'])==null?void(-0x19*-0x2+0x258+0x19*-0x1a):_0x245231['element'];!_0x372e46||_0x372e46['type']===vh||(this['_storeDefa'+'ultColor'](_0x372e46['color']),this['_storeDefa'+'ultOpacity'](_0x372e46['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x372e46['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x372e46['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0xee74cf){this['_defaultTi'+'nt']['r']=_0xee74cf['r'],this['_defaultTi'+'nt']['g']=_0xee74cf['g'],this['_defaultTi'+'nt']['b']=_0xee74cf['b'];}['_storeDefa'+'ultOpacity'](_0x207b76){this['_defaultTi'+'nt']['a']=_0x207b76;}['_storeDefa'+'ultSpriteA'+'sset'](_0x4f5b2f){this['_defaultSp'+'riteAsset']=_0x4f5b2f;}['_storeDefa'+'ultSpriteF'+'rame'](_0x2db5df){this['_defaultSp'+'riteFrame']=_0x2db5df;}['_onSetColo'+'r'](_0xf8cee9){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0xf8cee9),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x4edfcc){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x4edfcc),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x12fe4b){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x12fe4b),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0xca5ad5){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0xca5ad5),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x3c5476){this['_isHoverin'+'g']=!(-0x125b+0x1054+-0x3*-0xad),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x3c5476);}['_onMouseLe'+'ave'](_0x20bfb3){this['_isHoverin'+'g']=!(0xb*-0x12b+0xa1*-0x35+0x2e2f),this['_isPressed']=!(0x2b2+0x748+-0x9f9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x20bfb3);}['_onMouseDo'+'wn'](_0x2f7558){this['_isPressed']=!(0xe79+-0x1*0x255b+0xca*0x1d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x2f7558);}['_onMouseUp'](_0x174eb1){this['_isPressed']=!(-0x9c9+-0x1*-0xd86+-0x2*0x1de),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x174eb1);}['_onTouchSt'+'art'](_0x1add02){this['_isPressed']=!(0x1*0x1509+0x6*-0x66d+0x1185),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x1add02);}['_onTouchEn'+'d'](_0x1d9696){_0x1d9696['event']['preventDef'+'ault'](),this['_isPressed']=!(0x4d*-0x6d+-0x423+0x24ed*0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x1d9696);}['_onTouchLe'+'ave'](_0x3c2e2d){this['_isPressed']=!(0x546+0x106*-0x19+0x1451),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x3c2e2d);}['_onTouchCa'+'ncel'](_0x42466e){this['_isPressed']=!(-0x2374*-0x1+-0x2535+0x1c2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x42466e);}['_onSelectS'+'tart'](_0x3baa47){this['_isPressed']=!(-0x71*0x5+0x26f+-0x3a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x3baa47);}['_onSelectE'+'nd'](_0x2dfa8f){this['_isPressed']=!(0xb84+0x252e+-0x30b1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x2dfa8f);}['_onSelectE'+'nter'](_0x3a8466){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0x63f+-0x1edb+0x251b&&(this['_isHoverin'+'g']=!(-0x26fe+-0x4c1+0x2bbf*0x1),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x3a8466);}['_onSelectL'+'eave'](_0x58cdff){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x390+0x1*-0x122b+0xe9b&&(this['_isHoverin'+'g']=!(0x1474+-0x4ca*-0x8+-0x3ac3*0x1),this['_isPressed']=!(0x443*-0x3+-0x93d+0x1607),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x58cdff);}['_onClick'](_0x1d5c22){this['_fireIfAct'+'ive']('click',_0x1d5c22);}['_fireIfAct'+'ive'](_0x561b99,_0x1a8828){this['data']['active']&&this['fire'](_0x561b99,_0x1a8828);}['_updateVis'+'ualState'](_0x5083ff){const _0x54ebdf=this['_visualSta'+'te'],_0x591f21=this['_determine'+'VisualStat'+'e']();if((_0x54ebdf!==_0x591f21||_0x5083ff)&&this['enabled'])switch(this['_visualSta'+'te']=_0x591f21,_0x54ebdf===Je['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x54ebdf===Je['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x591f21===Je['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x591f21===Je['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case of:{const _0xbe4c5=fl[this['_visualSta'+'te']],_0x3dea09=this[_0xbe4c5];this['_applyTint'](_0x3dea09);break;}case sg:{const _0x12f9d7=pl[this['_visualSta'+'te']],_0xdba5f5=ml[this['_visualSta'+'te']],_0x46c950=this[_0x12f9d7],_0x284df2=this[_0xdba5f5];this['_applySpri'+'te'](_0x46c950,_0x284df2);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x2*-0x12a1+-0x18bd+-0xc85));}['_resetToDe'+'faultVisua'+'lState'](_0x54402e){var _0x5f135b;if((_0x5f135b=this['_imageEnti'+'ty'])!=null&&_0x5f135b['element'])switch(_0x54402e){case of:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case sg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Je['PRESSED'];if(this['_isHoverin'+'g'])return Je['HOVER'];}else return Je['INACTIVE'];return Je['DEFAULT'];}['_applySpri'+'te'](_0x7dfb82,_0x20e205){var _0x354ece;const _0x1cb4a3=(_0x354ece=this['_imageEnti'+'ty'])==null?void(-0xc67+0x7f3*-0x3+0x244*0x10):_0x354ece['element'];_0x1cb4a3&&(_0x20e205=_0x20e205||0x17e8+-0x4*0x5d2+-0xa0,this['_isApplyin'+'gSprite']=!(0x10fb+0x4ba*0x4+-0x23e3),_0x1cb4a3['spriteAsse'+'t']!==_0x7dfb82&&(_0x1cb4a3['spriteAsse'+'t']=_0x7dfb82),_0x1cb4a3['spriteFram'+'e']!==_0x20e205&&(_0x1cb4a3['spriteFram'+'e']=_0x20e205),this['_isApplyin'+'gSprite']=!(0x1*0x213d+0x2180+-0x10af*0x4));}['_applyTint'](_0x95a394){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===0x1*-0x3d7+0x2a9*-0x1+-0x680*-0x1?this['_applyTint'+'Immediatel'+'y'](_0x95a394):this['_applyTint'+'WithTween'](_0x95a394);}['_applyTint'+'Immediatel'+'y'](_0x100f63){var _0x188786;const _0x34d749=(_0x188786=this['_imageEnti'+'ty'])==null?void(0x20*0x4c+-0x4ef+0x491*-0x1):_0x188786['element'];if(!_0x100f63||!_0x34d749||_0x34d749['type']===vh)return;const _0x1ebcf8=ig(_0x100f63);this['_isApplyin'+'gTint']=!(-0x4eb+-0x6d2+-0x5*-0x259),_0x1ebcf8['equals'](_0x34d749['color'])||(_0x34d749['color']=_0x1ebcf8),_0x34d749['opacity']!==_0x100f63['a']&&(_0x34d749['opacity']=_0x100f63['a']),this['_isApplyin'+'gTint']=!(0x192d+-0x3*-0xcc+0x12*-0x188);}['_applyTint'+'WithTween'](_0x3aa3f6){var _0x563374;const _0x24d7d5=(_0x563374=this['_imageEnti'+'ty'])==null?void(-0x48*-0x5e+-0x4c1*0x3+0x3*-0x40f):_0x563374['element'];if(!_0x3aa3f6||!_0x24d7d5||_0x24d7d5['type']===vh)return;const _0x4f3a70=ig(_0x3aa3f6),_0x1cb85a=_0x24d7d5['color'],_0x285ec2=_0x24d7d5['opacity'];_0x4f3a70['equals'](_0x1cb85a)&&_0x3aa3f6['a']===_0x285ec2||(this['_tweenInfo']={'startTime':ae(),'from':new Y(_0x1cb85a['r'],_0x1cb85a['g'],_0x1cb85a['b'],_0x285ec2),'to':_0x3aa3f6['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x3ec1c7=ae()-this['_tweenInfo']['startTime'];let _0x28c6c6=this['fadeDurati'+'on']===0x25d*-0x2+0xda*0x1e+-0xa*0x215?-0x1*0x105e+0x138b+-0x1c*0x1d:_0x3ec1c7/this['fadeDurati'+'on'];if(_0x28c6c6=z['clamp'](_0x28c6c6,0x9*0x2ba+0x1*-0x1ad5+0x24b*0x1,0x26a1+0x934*0x4+-0x4b70),Math['abs'](_0x28c6c6-(0x1c3f+0x91c+-0x255a))>0xc27+-0x1*-0x5bf+-0x11e6+0.00001){const _0x3341ac=this['_tweenInfo']['lerpColor'];_0x3341ac['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x28c6c6),this['_applyTint'+'Immediatel'+'y'](new Y(_0x3341ac['r'],_0x3341ac['g'],_0x3341ac['b'],_0x3341ac['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x4*-0x675+-0x404+-0x15cf),this['_hoveringC'+'ounter']=-0x9*-0x27b+0x1d7f*0x1+0x1146*-0x3,this['_isPressed']=!(0x2662+0x1*0xb4c+-0x31ad),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2de711,_0x5441e6){_0x2de711['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x5441e6[_0x2de711['imageEntit'+'y']['getGuid']()]);}}c(_t,'EVENT_MOUS'+'EDOWN','mousedown'),c(_t,'EVENT_MOUS'+'EUP','mouseup'),c(_t,'EVENT_MOUS'+'EENTER','mouseenter'),c(_t,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(_t,'EVENT_CLIC'+'K','click'),c(_t,'EVENT_TOUC'+'HSTART','touchstart'),c(_t,'EVENT_TOUC'+'HEND','touchend'),c(_t,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(_t,'EVENT_TOUC'+'HLEAVE','touchleave'),c(_t,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(_t,'EVENT_SELE'+'CTEND','selectend'),c(_t,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(_t,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(_t,'EVENT_HOVE'+'RSTART','hoverstart'),c(_t,'EVENT_HOVE'+'REND','hoverend'),c(_t,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(_t,'EVENT_PRES'+'SEDEND','pressedend');function ig(_0x2a7bdc){return new Y(_0x2a7bdc['r'],_0x2a7bdc['g'],_0x2a7bdc['b']);}class QP{constructor(){this['enabled']=!(0x17b2+0x856+0xc8*-0x29),this['active']=!(-0x238f+-0xf44+0x32d3),this['imageEntit'+'y']=null,this['hitPadding']=new ee(),this['transition'+'Mode']=of,this['hoverTint']=new Y(0xda*-0x2+-0x8d*-0x1e+0xed2*-0x1+0.75,-0x6b*-0x53+-0x19ad+-0x904+0.75,-0xde3+0x3*-0xa13+0x2c1c+0.75),this['pressedTin'+'t']=new Y(-0x20bf+-0x8c3+-0x17*-0x1ce+0.5,0x24f0+0x2*-0xf8b+-0x5da+0.5,-0x1*-0xb5+0x125*-0x11+0x12c0+0.5),this['inactiveTi'+'nt']=new Y(0x2*-0xde5+-0x1d27+0x2b*0x153+0.25,-0x1*0x24ca+-0xcac+0x3176+0.25,0x249f+0x11fa*0x1+0x3699*-0x1+0.25),this['fadeDurati'+'on']=0xd80+-0x1*0x1fe8+0x1268,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0xe62+0x127e*0x2+-0x169a,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=-0x607+0x61*-0x49+0x21b0,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x3*0x14b+-0x8f6+0x515;}}const rg=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class JP extends Qe{constructor(_0x27c42b){super(_0x27c42b),this['id']='button',this['ComponentT'+'ype']=_t,this['DataType']=QP,this['schema']=rg,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x14f08a,_0x2f413e,_0x490b2e){_0x14f08a['imageEntit'+'y']=_0x2f413e['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x14f08a,_0x2f413e,rg);}['onUpdate'](_0x100a71){const _0x16b5f7=this['store'];for(const _0x47fad9 in _0x16b5f7){const _0xc957ba=_0x16b5f7[_0x47fad9]['entity'],_0x53c631=_0xc957ba['button'];_0x53c631['enabled']&&_0xc957ba['enabled']&&_0x53c631['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5b912f,_0x348d66){_0x348d66['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const ng=new A(),ag=new ie();class Zn extends pe{constructor(_0x5d8da0,_0xf236d1){super(_0x5d8da0,_0xf236d1),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(-0x77*0x7+0x1f1a+0x6c*-0x42)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x35aca5=this['system']['store'][this['entity']['getGuid']()];return _0x35aca5?_0x35aca5['data']:null;}set['enabled'](_0x28c0b3){this['_setValue']('enabled',_0x28c0b3);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x15aedc){this['_setValue']('type',_0x15aedc);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x4a0935){this['_setValue']('halfExtent'+'s',_0x4a0935);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x1a61de){this['_setValue']('linearOffs'+'et',_0x1a61de);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x21144d){this['_setValue']('angularOff'+'set',_0x21144d);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x1c86df){this['_setValue']('radius',_0x1c86df);}get['radius'](){return this['data']['radius'];}set['axis'](_0xc6526b){this['_setValue']('axis',_0xc6526b);}get['axis'](){return this['data']['axis'];}set['height'](_0x189663){this['_setValue']('height',_0x189663);}get['height'](){return this['data']['height'];}set['asset'](_0x27b4b2){this['_setValue']('asset',_0x27b4b2);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x2711ff){this['_setValue']('renderAsse'+'t',_0x2711ff);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x1dd734){this['_setValue']('convexHull',_0x1dd734);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x3bd392){this['_setValue']('shape',_0x3bd392);}get['shape'](){return this['data']['shape'];}set['model'](_0x49895f){this['_setValue']('model',_0x49895f);}get['model'](){return this['data']['model'];}set['render'](_0x16c97b){this['_setValue']('render',_0x16c97b);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x587c57){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x587c57);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x339784,_0x401be3){const _0x158a76=this['data'],_0x2cbfa2=_0x158a76[_0x339784];_0x158a76[_0x339784]=_0x401be3,this['fire']('set',_0x339784,_0x2cbfa2,_0x401be3);}['onSetType'](_0x378e2d,_0x392f41,_0x191755){_0x392f41!==_0x191755&&this['system']['changeType'](this,_0x392f41,_0x191755);}['onSetHalfE'+'xtents'](_0xd01edc,_0xc34b84,_0x2949e0){const _0x3af0b7=this['data']['type'];this['data']['initialize'+'d']&&_0x3af0b7==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x3b14e6,_0x2b9a78,_0x32d7e9){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](A['ZERO'])||!this['data']['angularOff'+'set']['equals'](ie['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x2f9544,_0x412b33,_0x2edc46){const _0x3d8c63=this['data']['type'];this['data']['initialize'+'d']&&(_0x3d8c63==='sphere'||_0x3d8c63==='capsule'||_0x3d8c63==='cylinder'||_0x3d8c63==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x47168d,_0xd05447,_0x3f5b82){const _0x515f15=this['data']['type'];this['data']['initialize'+'d']&&(_0x515f15==='capsule'||_0x515f15==='cylinder'||_0x515f15==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x339889,_0x18d7d2,_0x449264){const _0xdcbbc8=this['data']['type'];this['data']['initialize'+'d']&&(_0xdcbbc8==='capsule'||_0xdcbbc8==='cylinder'||_0xdcbbc8==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x510d27,_0x319b4d,_0x1c7ab7){const _0x13a8b5=this['system']['app']['assets'];if(_0x319b4d){const _0x3cb769=_0x13a8b5['get'](_0x319b4d);_0x3cb769&&_0x3cb769['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x1c7ab7){_0x1c7ab7 instanceof he&&(this['data']['asset']=_0x1c7ab7['id']);const _0x4de4be=_0x13a8b5['get'](this['data']['asset']);_0x4de4be&&(_0x4de4be['off']('remove',this['onAssetRem'+'oved'],this),_0x4de4be['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x1c7ab7||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x3a19bc,_0x5c613d,_0x4a224a){const _0x331277=this['system']['app']['assets'];if(_0x5c613d){const _0x302e0f=_0x331277['get'](_0x5c613d);_0x302e0f&&_0x302e0f['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x4a224a){_0x4a224a instanceof he&&(this['data']['renderAsse'+'t']=_0x4a224a['id']);const _0x5d45f3=_0x331277['get'](this['data']['renderAsse'+'t']);_0x5d45f3&&(_0x5d45f3['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x5d45f3['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x4a224a||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x4226ae,_0x1b7146,_0x593046){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x523c98,_0x43114b,_0x318f49){this['onSetModel'](_0x523c98,_0x43114b,_0x318f49);}['onAssetRem'+'oved'](_0x17f868){_0x17f868['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x17f868['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x37d9a5){_0x37d9a5['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x37d9a5['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x6a1cfe){const _0x3c6489=this['data']['shape'],_0x150d1c=_0x3c6489['getNumChil'+'dShapes']();for(let _0x233a83=0x1*0x337+-0x135*-0x1+0x2*-0x236;_0x233a83<_0x150d1c;_0x233a83++){const _0x463bb6=_0x3c6489['getChildSh'+'ape'](_0x233a83);if(Ammo['getPointer'](_0x463bb6)===Ammo['getPointer'](_0x6a1cfe))return _0x233a83;}return null;}['_onInsert'](_0x5591a7){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x21f428=this['entity']['parent'];for(;_0x21f428;){if(_0x21f428['collision']&&_0x21f428['collision']['type']==='compound'){_0x21f428['collision']['shape']['getNumChil'+'dShapes']()===0x2623+0x721*-0x1+-0x1f02?this['system']['recreatePh'+'ysicalShap'+'es'](_0x21f428['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x21f428=_0x21f428['parent'];}}}}}['_updateCom'+'pound'](){const _0x3f0279=this['entity'];if(_0x3f0279['_dirtyWorl'+'d']){let _0xe95a01=_0x3f0279['_dirtyLoca'+'l'],_0x174163=_0x3f0279;for(;_0x174163&&!_0xe95a01&&!(_0x174163['collision']&&_0x174163['collision']===this['_compoundP'+'arent']);)_0x174163['_dirtyLoca'+'l']&&(_0xe95a01=!(-0xe4b+-0x12e1*-0x1+-0x496)),_0x174163=_0x174163['parent'];if(_0xe95a01){_0x3f0279['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x3f0279);const _0x2d59ad=this['_compoundP'+'arent']['entity']['rigidbody'];_0x2d59ad&&_0x2d59ad['activate']();}}}['getShapePo'+'sition'](){const _0x53a2cb=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x7de66b=this['entity']['getRotatio'+'n'](),_0xc3ad5f=this['data']['linearOffs'+'et'];return ag['copy'](_0x7de66b)['transformV'+'ector'](_0xc3ad5f,ng),ng['add'](_0x53a2cb);}return _0x53a2cb;}['getShapeRo'+'tation'](){const _0x1041fa=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ag['copy'](_0x1041fa)['mul'](this['data']['angularOff'+'set']):_0x1041fa;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x287761=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x287761&&(!_0x287761['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x5*0x18d+0xf*-0x122+0x18bf)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x412fa8=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x412fa8,this['data']['shape']),Ammo['destroy'](_0x412fa8),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Zn,'EVENT_CONT'+'ACT','contact'),c(Zn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Zn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Zn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Zn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class eR{constructor(){this['enabled']=!(-0x1c64+-0x1a7+-0x1e0b*-0x1),this['type']='box',this['halfExtent'+'s']=new A(0x3*-0x469+0x1295*-0x2+0x3265*0x1+0.5,-0x1b9+-0x17*0x119+-0x4*-0x6be+0.5,-0xcd+-0x19db+-0x2*-0xd54+0.5),this['linearOffs'+'et']=new A(),this['angularOff'+'set']=new ie(),this['radius']=0x2a*-0xa5+0x2b*0x35+-0x122b*-0x1+0.5,this['axis']=-0x30f*-0x3+-0x1*-0x1357+0x1c83*-0x1,this['height']=-0x13af*0x1+-0xdd8*-0x1+-0x1*-0x5d9,this['convexHull']=!(-0xc20*-0x3+-0x16db*0x1+-0x5*0x2b4),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0xa3a+0x6b6*-0x2+0x332),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x1*0x1c83+-0x1be1+-0xa1);}}const ao='static',vs='dynamic',zn='kinematic',tR=0x132d+0x462+-0x178d*0x1,fo=-0x157*-0x1+0x1c13*-0x1+0x4*0x6b0,hf=-0x13fb+-0x1387+0x2783,og=-0x49f*-0x1+-0x2bb+-0x1e0,sx=0x4f*-0x66+0x113c+0xe43,sR=0x1632*-0x1+-0xf*-0x97+0xd5a*0x1,lg=0x1*0x59c+-0x6b*-0x2+-0x2*0x338,iR=-0x193*-0x13+-0x14b5*0x1+0x6*-0x188,hg=-0x2*-0x475+0x72*-0x1+-0x868*0x1,cg=0x63f4*-0x1+0x1efbf+-0x2e*0x30a,cf=0xa7*-0x199+-0x161dc*0x1+0x1*0x36ca8;let bs,Cr,Un;class ix{constructor(_0x80508d,_0x14d8f0,_0x39eb50){this['entity']=_0x14d8f0['entity'],this['component']=_0x14d8f0,this['app']=_0x80508d,typeof Ammo<'u'&&!bs&&(bs=new Ammo['btVector3'](),Cr=new Ammo['btQuaterni'+'on'](),Un=new Ammo['btTransfor'+'m']()),this['initialize'](_0x39eb50);}['initialize'](_0x35a40d){const _0x218995=this['entity'],_0x3cdc5e=_0x35a40d['shape'];if(_0x3cdc5e&&typeof Ammo<'u'){_0x218995['trigger']&&_0x218995['trigger']['destroy']();const _0x4c80dd=0x445*-0x5+0x1424+0x1f*0xa,_0x297de7=this['component'];if(_0x297de7){const _0x47abca=_0x297de7['getShapePo'+'sition'](),_0x55f369=_0x297de7['getShapeRo'+'tation']();bs['setValue'](_0x47abca['x'],_0x47abca['y'],_0x47abca['z']),Cr['setValue'](_0x55f369['x'],_0x55f369['y'],_0x55f369['z'],_0x55f369['w']);}else{const _0x40a74d=_0x218995['getPositio'+'n'](),_0x3a5abb=_0x218995['getRotatio'+'n']();bs['setValue'](_0x40a74d['x'],_0x40a74d['y'],_0x40a74d['z']),Cr['setValue'](_0x3a5abb['x'],_0x3a5abb['y'],_0x3a5abb['z'],_0x3a5abb['w']);}Un['setOrigin'](bs),Un['setRotatio'+'n'](Cr);const _0x2d5cf9=this['app']['systems']['rigidbody']['createBody'](_0x4c80dd,_0x3cdc5e,Un);_0x2d5cf9['setRestitu'+'tion'](-0x1*-0x1efa+-0xa*-0x176+-0x2d96),_0x2d5cf9['setFrictio'+'n'](0x26ea+0x432+-0x2b1c),_0x2d5cf9['setDamping'](-0x21cb+-0xcba+0x2e85,-0x26f2+-0xcb3+0x3f9*0xd),bs['setValue'](0x1*0x201d+0xddf+0x4*-0xb7f,0x18cb+0x8ad*0x2+-0x1*0x2a25,0x28*0xb3+0x876+-0x1237*0x2),_0x2d5cf9['setLinearF'+'actor'](bs),_0x2d5cf9['setAngular'+'Factor'](bs),_0x2d5cf9['setCollisi'+'onFlags'](_0x2d5cf9['getCollisi'+'onFlags']()|fo),_0x2d5cf9['entity']=_0x218995,this['body']=_0x2d5cf9,this['component']['enabled']&&_0x218995['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x5bb637){const _0x8fb275=this['component'];if(_0x8fb275){const _0x50fda2=_0x8fb275['getShapePo'+'sition'](),_0x1db05d=_0x8fb275['getShapeRo'+'tation']();bs['setValue'](_0x50fda2['x'],_0x50fda2['y'],_0x50fda2['z']),Cr['setValue'](_0x1db05d['x'],_0x1db05d['y'],_0x1db05d['z'],_0x1db05d['w']);}else{const _0x5afc33=this['entity']['getPositio'+'n'](),_0x1f6173=this['entity']['getRotatio'+'n']();bs['setValue'](_0x5afc33['x'],_0x5afc33['y'],_0x5afc33['z']),Cr['setValue'](_0x1f6173['x'],_0x1f6173['y'],_0x1f6173['z'],_0x1f6173['w']);}_0x5bb637['setOrigin'](bs),_0x5bb637['setRotatio'+'n'](Cr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Un);const _0x1fb3a0=this['body'];_0x1fb3a0['setWorldTr'+'ansform'](Un),_0x1fb3a0['activate']();}['enable'](){const _0x569373=this['body'];if(!_0x569373)return;const _0x157983=this['app']['systems']['rigidbody'];_0x157983['_triggers']['indexOf'](this)<0x18f7+-0x1*-0x5e+0x5*-0x511&&(_0x157983['addBody'](_0x569373,hg,cf^hg),_0x157983['_triggers']['push'](this)),_0x569373['forceActiv'+'ationState'](hf),this['updateTran'+'sform']();}['disable'](){const _0x37a78a=this['body'];if(!_0x37a78a)return;const _0x189e14=this['app']['systems']['rigidbody'],_0x4aa5bb=_0x189e14['_triggers']['indexOf'](this);_0x4aa5bb>-(0x1*-0x21d7+0x1992+0x2*0x423)&&(_0x189e14['removeBody'](_0x37a78a),_0x189e14['_triggers']['splice'](_0x4aa5bb,-0x467*0x7+-0x18b1+0x3783)),_0x37a78a['forceActiv'+'ationState'](sx);}}const Ql=new q(),rR=new A(),nR=new A(),Mr=new ie(),dg=new Oe(),aR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class vn{constructor(_0x1e3c23){this['system']=_0x1e3c23;}['beforeInit'+'ialize'](_0x2fe9ea,_0xd0bf3f){_0xd0bf3f['shape']=null,_0xd0bf3f['model']=new Ui(),_0xd0bf3f['model']['graph']=new Oe();}['afterIniti'+'alize'](_0x247afa,_0x19b0cd){this['recreatePh'+'ysicalShap'+'es'](_0x247afa),_0x247afa['data']['initialize'+'d']=!(-0x1695+0x41*-0x71+0x3346);}['reset'](_0x20c0ba,_0x311c7e){this['beforeInit'+'ialize'](_0x20c0ba,_0x311c7e),this['afterIniti'+'alize'](_0x20c0ba,_0x311c7e);}['recreatePh'+'ysicalShap'+'es'](_0x27bce4){const _0x1ea1f7=_0x27bce4['entity'],_0x18a9f7=_0x27bce4['data'];if(typeof Ammo<'u'){_0x1ea1f7['trigger']&&(_0x1ea1f7['trigger']['destroy'](),delete _0x1ea1f7['trigger']),_0x18a9f7['shape']&&(_0x27bce4['_compoundP'+'arent']&&(_0x27bce4!==_0x27bce4['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x27bce4['_compoundP'+'arent'],_0x18a9f7['shape']),_0x27bce4['_compoundP'+'arent']['entity']['rigidbody']&&_0x27bce4['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x18a9f7)),_0x18a9f7['shape']=this['createPhys'+'icalShape'](_0x27bce4['entity'],_0x18a9f7);const _0x2ddb81=!_0x27bce4['_compoundP'+'arent'];if(_0x18a9f7['type']==='compound'&&(!_0x27bce4['_compoundP'+'arent']||_0x27bce4===_0x27bce4['_compoundP'+'arent']))_0x27bce4['_compoundP'+'arent']=_0x27bce4,_0x1ea1f7['forEach'](this['_addEachDe'+'scendant'],_0x27bce4);else{if(_0x18a9f7['type']!=='compound'&&!_0x27bce4['rigidbody']){_0x27bce4['_compoundP'+'arent']=null;let _0x2c3b62=_0x1ea1f7['parent'];for(;_0x2c3b62;){if(_0x2c3b62['collision']&&_0x2c3b62['collision']['type']==='compound'){_0x27bce4['_compoundP'+'arent']=_0x2c3b62['collision'];break;}_0x2c3b62=_0x2c3b62['parent'];}}}_0x27bce4['_compoundP'+'arent']&&_0x27bce4!==_0x27bce4['_compoundP'+'arent']&&(_0x2ddb81&&_0x27bce4['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x36*0x39+0x998+0x26e?this['system']['recreatePh'+'ysicalShap'+'es'](_0x27bce4['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x1ea1f7,!(0x260a+-0x4c*-0x28+-0x31ea)),_0x27bce4['_compoundP'+'arent']['entity']['rigidbody']&&_0x27bce4['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x1ea1f7['rigidbody']?(_0x1ea1f7['rigidbody']['disableSim'+'ulation'](),_0x1ea1f7['rigidbody']['createBody'](),_0x1ea1f7['enabled']&&_0x1ea1f7['rigidbody']['enabled']&&_0x1ea1f7['rigidbody']['enableSimu'+'lation']()):_0x27bce4['_compoundP'+'arent']||(_0x1ea1f7['trigger']?_0x1ea1f7['trigger']['initialize'](_0x18a9f7):_0x1ea1f7['trigger']=new ix(this['system']['app'],_0x27bce4,_0x18a9f7));}}['createPhys'+'icalShape'](_0x43fe10,_0x3934f0){}['updateTran'+'sform'](_0x473898,_0x52ca5d,_0xc8798d,_0x1682f2){_0x473898['entity']['trigger']&&_0x473898['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x162982){_0x162982['shape']&&(Ammo['destroy'](_0x162982['shape']),_0x162982['shape']=null);}['beforeRemo'+'ve'](_0x2b0099,_0x206a3b){_0x206a3b['data']['shape']&&(_0x206a3b['_compoundP'+'arent']&&!_0x206a3b['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x206a3b['_compoundP'+'arent'],_0x206a3b['data']['shape']),_0x206a3b['_compoundP'+'arent']['entity']['rigidbody']&&_0x206a3b['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x206a3b['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x206a3b['data']));}['remove'](_0x1fc987,_0x37bb44){_0x1fc987['rigidbody']&&_0x1fc987['rigidbody']['body']&&_0x1fc987['rigidbody']['disableSim'+'ulation'](),_0x1fc987['trigger']&&(_0x1fc987['trigger']['destroy'](),delete _0x1fc987['trigger']);}['clone'](_0x1a52c8,_0x1e16c9){const _0x330759=this['system']['store'][_0x1a52c8['getGuid']()],_0x45072d={'enabled':_0x330759['data']['enabled'],'type':_0x330759['data']['type'],'halfExtents':[_0x330759['data']['halfExtent'+'s']['x'],_0x330759['data']['halfExtent'+'s']['y'],_0x330759['data']['halfExtent'+'s']['z']],'linearOffset':[_0x330759['data']['linearOffs'+'et']['x'],_0x330759['data']['linearOffs'+'et']['y'],_0x330759['data']['linearOffs'+'et']['z']],'angularOffset':[_0x330759['data']['angularOff'+'set']['x'],_0x330759['data']['angularOff'+'set']['y'],_0x330759['data']['angularOff'+'set']['z'],_0x330759['data']['angularOff'+'set']['w']],'radius':_0x330759['data']['radius'],'axis':_0x330759['data']['axis'],'height':_0x330759['data']['height'],'convexHull':_0x330759['data']['convexHull'],'asset':_0x330759['data']['asset'],'renderAsset':_0x330759['data']['renderAsse'+'t'],'model':_0x330759['data']['model'],'render':_0x330759['data']['render'],'checkVertexDuplicates':_0x330759['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x1e16c9,_0x45072d);}}class oR extends vn{['createPhys'+'icalShape'](_0x19e07a,_0x1f354f){if(typeof Ammo<'u'){const _0x2e3244=_0x1f354f['halfExtent'+'s'],_0x5f4a5c=new Ammo['btVector3'](_0x2e3244?_0x2e3244['x']:0x6a1*0x3+-0x13ed*-0x1+0xe*-0x2d8+0.5,_0x2e3244?_0x2e3244['y']:-0x1c2a+-0x88d*-0x1+-0x1*-0x139d+0.5,_0x2e3244?_0x2e3244['z']:-0x1*-0x69e+0x43*-0x8b+0x1dc3+0.5),_0xf4f7e9=new Ammo['btBoxShape'](_0x5f4a5c);return Ammo['destroy'](_0x5f4a5c),_0xf4f7e9;}}}class lR extends vn{['createPhys'+'icalShape'](_0x2fb842,_0xc5bbb5){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0xc5bbb5['radius']);}}class hR extends vn{['createPhys'+'icalShape'](_0x9babc,_0x334c21){const _0xbd8520=_0x334c21['axis']??-0x2*0x69b+-0x15d*-0xd+-0x482,_0x523428=_0x334c21['radius']??0x1*0x99d+-0x1597+0xbfa+0.5,_0x1eb388=Math['max']((_0x334c21['height']??0xf4b+-0x1cc8+0xd7f)-(0x2641+-0xd*-0x1d4+-0x3e03)*_0x523428,-0x1*0x2586+-0x95b*-0x4+0x1a);let _0x2804cc=null;if(typeof Ammo<'u')switch(_0xbd8520){case-0x24b9+-0x1*0x28d+0x2746:_0x2804cc=new Ammo['btCapsuleS'+'hapeX'](_0x523428,_0x1eb388);break;case-0x1*-0x11eb+-0x4*0x3a1+-0x1e*0x1d:_0x2804cc=new Ammo['btCapsuleS'+'hape'](_0x523428,_0x1eb388);break;case-0x1f89+-0x1688+0x1*0x3613:_0x2804cc=new Ammo['btCapsuleS'+'hapeZ'](_0x523428,_0x1eb388);break;}return _0x2804cc;}}class cR extends vn{['createPhys'+'icalShape'](_0x2b4b29,_0x563792){const _0x5c4747=_0x563792['axis']??-0x3a1*0x1+-0x23bd+0x275f,_0x63d406=_0x563792['radius']??-0x3*-0x3bf+-0x63b+0x502*-0x1+0.5,_0x3aaabb=_0x563792['height']??0x2a5*0xe+-0x8d2+-0x1c33;let _0x47ed52=null,_0x522f3d=null;if(typeof Ammo<'u')switch(_0x5c4747){case-0x120f+-0x1021+0x2230:_0x47ed52=new Ammo['btVector3'](_0x3aaabb*(-0x1*-0xaf9+-0x5*0x607+-0x2*-0x995+0.5),_0x63d406,_0x63d406),_0x522f3d=new Ammo['btCylinder'+'ShapeX'](_0x47ed52);break;case-0xe7f+-0x498+-0x4c6*-0x4:_0x47ed52=new Ammo['btVector3'](_0x63d406,_0x3aaabb*(-0x16d3+-0x14d1+0x1*0x2ba4+0.5),_0x63d406),_0x522f3d=new Ammo['btCylinder'+'Shape'](_0x47ed52);break;case-0x7*-0x142+-0x57d*-0x5+-0x1*0x243d:_0x47ed52=new Ammo['btVector3'](_0x63d406,_0x63d406,_0x3aaabb*(-0x21de+0x2*-0xb26+0x382a+0.5)),_0x522f3d=new Ammo['btCylinder'+'ShapeZ'](_0x47ed52);break;}return _0x47ed52&&Ammo['destroy'](_0x47ed52),_0x522f3d;}}class dR extends vn{['createPhys'+'icalShape'](_0x2ec6fa,_0x9a563e){const _0x20526a=_0x9a563e['axis']??-0x1*-0x25ca+-0x1a9a+-0xb2f,_0x31942f=_0x9a563e['radius']??-0x18b*-0xe+0x1382+-0x291c+0.5,_0x17de1=_0x9a563e['height']??0xcba+-0xec6+0x20d;let _0x3cfa72=null;if(typeof Ammo<'u')switch(_0x20526a){case-0x1332+-0x1c13*0x1+0x2f45*0x1:_0x3cfa72=new Ammo['btConeShap'+'eX'](_0x31942f,_0x17de1);break;case 0x79f*0x1+-0x5da+-0x1c4:_0x3cfa72=new Ammo['btConeShap'+'e'](_0x31942f,_0x17de1);break;case 0x44f+-0x8fe+-0x4b1*-0x1:_0x3cfa72=new Ammo['btConeShap'+'eZ'](_0x31942f,_0x17de1);break;}return _0x3cfa72;}}class uR extends vn{['beforeInit'+'ialize'](_0x4b3e0f,_0xf5f60d){}['createAmmo'+'Hull'](_0x432764,_0x104ce6,_0x2eaebc,_0x43a937){const _0xe93b67=new Ammo['btConvexHu'+'llShape'](),_0x2189d0=new Ammo['btVector3'](),_0x159d02=[];_0x432764['getPositio'+'ns'](_0x159d02);for(let _0x5c603f=-0x149f+0xdf3*-0x1+0x2292;_0x5c603f<_0x159d02['length'];_0x5c603f+=0xa17+-0x2236+0x1*0x1822)_0x2189d0['setValue'](_0x159d02[_0x5c603f]*_0x43a937['x'],_0x159d02[_0x5c603f+(0x246+0x1*-0x699+0x454)]*_0x43a937['y'],_0x159d02[_0x5c603f+(0x1db1*0x1+0x26c1+0x49*-0xf0)]*_0x43a937['z']),_0xe93b67['addPoint'](_0x2189d0,!(-0x2156+0xc39+0x151e));Ammo['destroy'](_0x2189d0),_0xe93b67['recalcLoca'+'lAabb'](),_0xe93b67['setMargin'](-0x1a*-0x52+0x159e+-0x1df2+0.01);const _0x4895b1=this['system']['_getNodeTr'+'ansform'](_0x104ce6);_0x2eaebc['addChildSh'+'ape'](_0x4895b1,_0xe93b67),Ammo['destroy'](_0x4895b1);}['createAmmo'+'Mesh'](_0x274099,_0x2ef919,_0x1fcca5,_0x1d87fe,_0x3bb853=!(0x1d9*0x12+-0x13*-0x7f+-0x2aaf)){const _0x55cc40=this['system'];let _0x18047d;if(_0x55cc40['_triMeshCa'+'che'][_0x274099['id']])_0x18047d=_0x55cc40['_triMeshCa'+'che'][_0x274099['id']];else{const _0x2897e8=_0x274099['vertexBuff'+'er'],_0x2f04c7=_0x2897e8['getFormat']();let _0x169ffb,_0x1323fd;for(let _0x50e390=0x124f+0x1ef8+-0x3147;_0x50e390<_0x2f04c7['elements']['length'];_0x50e390++){const _0x3a773e=_0x2f04c7['elements'][_0x50e390];if(_0x3a773e['name']===Xe){_0x1323fd=new Float32Array(_0x2897e8['lock'](),_0x3a773e['offset']),_0x169ffb=_0x3a773e['stride']/(0x22e9+-0x3*-0x713+-0x381e);break;}}const _0x559e8e=[];_0x274099['getIndices'](_0x559e8e);const _0x1079f0=_0x274099['primitive'][0xb60*0x3+-0x236*-0x7+-0x319a]['count']/(0xe67+0xef*-0x13+0x359),_0x27c892=new Ammo['btVector3']();let _0x4baf66,_0x575e5c,_0x50a446;const _0x3458cd=_0x274099['primitive'][0xb3*-0xa+-0x2131+0x282f]['base'];_0x18047d=new Ammo['btTriangle'+'Mesh'](),_0x55cc40['_triMeshCa'+'che'][_0x274099['id']]=_0x18047d;const _0x547d9a=new Map();b['assert'](typeof _0x18047d['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x536a47=_0x18047d['getIndexed'+'MeshArray']();_0x536a47['at'](-0x1*0x3f1+-0x1677+0x1a68)['m_numTrian'+'gles']=_0x1079f0;const _0x5b3801=_0x1d87fe?_0x1d87fe['x']:-0x3fc+0x23fd+-0x2000,_0x3ff1c6=_0x1d87fe?_0x1d87fe['y']:0x1*-0x23ab+-0x645+0x29f1*0x1,_0x4aae55=_0x1d87fe?_0x1d87fe['z']:0x1184+0x5a1+-0x1724,_0x20a83f=_0x5312d0=>{const _0xc1de5d=_0x1323fd[_0x5312d0*_0x169ffb]*_0x5b3801,_0x76f901=_0x1323fd[_0x5312d0*_0x169ffb+(-0x1557+0x7a8+0xdb0)]*_0x3ff1c6,_0x673d37=_0x1323fd[_0x5312d0*_0x169ffb+(0x108d+0xa78+-0x1cd*0xf)]*_0x4aae55;let _0x301589;if(_0x3bb853){const _0x51bf4c=_0xc1de5d+':'+_0x76f901+':'+_0x673d37;if(_0x301589=_0x547d9a['get'](_0x51bf4c),_0x301589!==void(-0xa*-0x37d+-0x1be3+0x6ff*-0x1))return _0x301589;_0x27c892['setValue'](_0xc1de5d,_0x76f901,_0x673d37),_0x301589=_0x18047d['findOrAddV'+'ertex'](_0x27c892,!(-0x1f6b+0x1972+-0x6*-0xff)),_0x547d9a['set'](_0x51bf4c,_0x301589);}else _0x27c892['setValue'](_0xc1de5d,_0x76f901,_0x673d37),_0x301589=_0x18047d['findOrAddV'+'ertex'](_0x27c892,!(-0x2116+0x268b*0x1+0x2ba*-0x2));return _0x301589;};for(let _0x282922=0x26*0x41+-0x43d+-0x569;_0x282922<_0x1079f0;_0x282922++)_0x4baf66=_0x20a83f(_0x559e8e[_0x3458cd+_0x282922*(-0x1*0x2507+-0x506*0x1+-0x4*-0xa84)]),_0x575e5c=_0x20a83f(_0x559e8e[_0x3458cd+_0x282922*(0xa8b+0xfb4+-0x68f*0x4)+(0x235e*0x1+0x72d+-0x5*0x882)]),_0x50a446=_0x20a83f(_0x559e8e[_0x3458cd+_0x282922*(-0x1*0xa5e+0x2a*0x79+-0x19*0x61)+(-0x177d+0x8*0x357+-0x19*0x21)]),_0x18047d['addIndex'](_0x4baf66),_0x18047d['addIndex'](_0x575e5c),_0x18047d['addIndex'](_0x50a446);Ammo['destroy'](_0x27c892);}const _0x29b096=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x18047d,!(-0x1408+0x92*0x28+0xb2*-0x4));if(!_0x1d87fe){const _0x447755=_0x55cc40['_getNodeSc'+'aling'](_0x2ef919);_0x29b096['setLocalSc'+'aling'](_0x447755),Ammo['destroy'](_0x447755);}const _0x30f1ff=_0x55cc40['_getNodeTr'+'ansform'](_0x2ef919);_0x1fcca5['addChildSh'+'ape'](_0x30f1ff,_0x29b096),Ammo['destroy'](_0x30f1ff);}['createPhys'+'icalShape'](_0xc9b25f,_0x141e7e){if(!(typeof Ammo>'u')&&(_0x141e7e['model']||_0x141e7e['render'])){const _0x4988e7=new Ammo['btCompound'+'Shape'](),_0x2ea8ff=_0xc9b25f['getWorldTr'+'ansform']()['getScale']();if(_0x141e7e['render']){const _0x47cff3=_0x141e7e['render']['meshes'];for(let _0x556575=-0x15d4+0x1*-0x15be+-0x152*-0x21;_0x556575<_0x47cff3['length'];_0x556575++)_0x141e7e['convexHull']?this['createAmmo'+'Hull'](_0x47cff3[_0x556575],dg,_0x4988e7,_0x2ea8ff):this['createAmmo'+'Mesh'](_0x47cff3[_0x556575],dg,_0x4988e7,_0x2ea8ff,_0x141e7e['checkVerte'+'xDuplicate'+'s']);}else{if(_0x141e7e['model']){const _0x530f63=_0x141e7e['model']['meshInstan'+'ces'];for(let _0x279f15=-0xef6+0x1ae+0xd48;_0x279f15<_0x530f63['length'];_0x279f15++)this['createAmmo'+'Mesh'](_0x530f63[_0x279f15]['mesh'],_0x530f63[_0x279f15]['node'],_0x4988e7,null,_0x141e7e['checkVerte'+'xDuplicate'+'s']);const _0x2c7b7b=new Ammo['btVector3'](_0x2ea8ff['x'],_0x2ea8ff['y'],_0x2ea8ff['z']);_0x4988e7['setLocalSc'+'aling'](_0x2c7b7b),Ammo['destroy'](_0x2c7b7b);}}return _0x4988e7;}}['recreatePh'+'ysicalShap'+'es'](_0x2facd7){const _0x1b1f65=_0x2facd7['data'];if((_0x1b1f65['renderAsse'+'t']||_0x1b1f65['asset'])&&_0x2facd7['enabled']&&_0x2facd7['entity']['enabled']){this['loadAsset'](_0x2facd7,_0x1b1f65['renderAsse'+'t']||_0x1b1f65['asset'],_0x1b1f65['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x2facd7);}['loadAsset'](_0x423021,_0x246f46,_0x1a83bb){const _0x154427=_0x423021['data'],_0x2c1af8=this['system']['app']['assets'],_0x351e9d=_0x154427[_0x1a83bb],_0x58dc44=_0x5b82c3=>{_0x154427[_0x1a83bb]===_0x351e9d&&(_0x154427[_0x1a83bb]=_0x5b82c3['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x423021));},_0x3001e2=_0x24104f=>{_0x24104f['ready'](_0x1b1b96=>{if(_0x1b1b96['data']['containerA'+'sset']){const _0x8fd157=_0x2c1af8['get'](_0x1b1b96['data']['containerA'+'sset']);_0x8fd157['loaded']?_0x58dc44(_0x1b1b96):(_0x8fd157['ready'](()=>{_0x58dc44(_0x1b1b96);}),_0x2c1af8['load'](_0x8fd157));}else _0x58dc44(_0x1b1b96);}),_0x2c1af8['load'](_0x24104f);},_0x472bac=_0x2c1af8['get'](_0x246f46);_0x472bac?_0x3001e2(_0x472bac):_0x2c1af8['once']('add:'+_0x246f46,_0x3001e2);}['doRecreate'+'PhysicalSh'+'ape'](_0x142655){const _0x5ea490=_0x142655['entity'],_0x382a90=_0x142655['data'];_0x382a90['model']||_0x382a90['render']?(this['destroySha'+'pe'](_0x382a90),_0x382a90['shape']=this['createPhys'+'icalShape'](_0x5ea490,_0x382a90),_0x5ea490['rigidbody']?(_0x5ea490['rigidbody']['disableSim'+'ulation'](),_0x5ea490['rigidbody']['createBody'](),_0x5ea490['enabled']&&_0x5ea490['rigidbody']['enabled']&&_0x5ea490['rigidbody']['enableSimu'+'lation']()):_0x5ea490['trigger']?_0x5ea490['trigger']['initialize'](_0x382a90):_0x5ea490['trigger']=new ix(this['system']['app'],_0x142655,_0x382a90)):(this['beforeRemo'+'ve'](_0x5ea490,_0x142655),this['remove'](_0x5ea490,_0x382a90));}['updateTran'+'sform'](_0x57bd27,_0x4bf1d4,_0x593e9a,_0x5e4b94){if(_0x57bd27['shape']){const _0x3e9bb0=_0x57bd27['entity']['getWorldTr'+'ansform']()['getScale'](),_0x370ba5=_0x57bd27['shape']['getLocalSc'+'aling']();(_0x3e9bb0['x']!==_0x370ba5['x']()||_0x3e9bb0['y']!==_0x370ba5['y']()||_0x3e9bb0['z']!==_0x370ba5['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x57bd27);}super['updateTran'+'sform'](_0x57bd27,_0x4bf1d4,_0x593e9a,_0x5e4b94);}['destroySha'+'pe'](_0x5e9a9c){if(!_0x5e9a9c['shape'])return;const _0xf878c0=_0x5e9a9c['shape']['getNumChil'+'dShapes']();for(let _0x2b804b=0x18b6+0x250b+-0x3dc1;_0x2b804b<_0xf878c0;_0x2b804b++){const _0x4fb1e7=_0x5e9a9c['shape']['getChildSh'+'ape'](_0x2b804b);Ammo['destroy'](_0x4fb1e7);}Ammo['destroy'](_0x5e9a9c['shape']),_0x5e9a9c['shape']=null;}}class fR extends vn{['createPhys'+'icalShape'](_0x2dfbbd,_0x42f4ab){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x1ff252){!_0x1ff252['collision']||_0x1ff252['rigidbody']||(_0x1ff252['collision']['_compoundP'+'arent']=this,_0x1ff252!==this['entity']&&_0x1ff252['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1ff252['collision']));}['_updateEac'+'hDescendan'+'t'](_0x48a71c){_0x48a71c['collision']&&_0x48a71c['collision']['_compoundP'+'arent']===this&&(_0x48a71c['collision']['_compoundP'+'arent']=null,_0x48a71c!==this['entity']&&!_0x48a71c['rigidbody']&&_0x48a71c['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x48a71c['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x221a96){!_0x221a96['collision']||_0x221a96['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x221a96,!(0x1589+0xf2c+0x144*-0x1d));}}class pR extends Qe{constructor(_0x1d1470){super(_0x1d1470),this['id']='collision',this['ComponentT'+'ype']=Zn,this['DataType']=eR,this['schema']=aR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1dc441,_0xababe8,_0x11e459){_0x11e459=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x36fbe7={};for(let _0x42426a=-0x1f*-0x5a+-0xe63+-0x1*-0x37d,_0x69080c=_0x11e459['length'];_0x42426a<_0x69080c;_0x42426a++){const _0x514e1c=_0x11e459[_0x42426a];_0x36fbe7[_0x514e1c]=_0xababe8[_0x514e1c];}let _0x5c614c;if(_0xababe8['hasOwnProp'+'erty']('asset')?(_0x5c614c=_0x11e459['indexOf']('model'),_0x5c614c!==-(-0x7*0x31d+0xae2+0xaea)&&_0x11e459['splice'](_0x5c614c,-0x755*-0x1+0x1a*-0x1f+-0xd6*0x5),_0x5c614c=_0x11e459['indexOf']('render'),_0x5c614c!==-(-0x2fb*0xd+-0x3*0xb31+0x4853)&&_0x11e459['splice'](_0x5c614c,0x8*0x304+-0x3*-0x65+-0x194e)):_0xababe8['hasOwnProp'+'erty']('model')&&(_0x5c614c=_0x11e459['indexOf']('asset'),_0x5c614c!==-(-0x1e7a*-0x1+-0x1421+-0xa58)&&_0x11e459['splice'](_0x5c614c,0x679*-0x1+-0x1976+0x1ff0)),_0x36fbe7['type']||(_0x36fbe7['type']=_0x1dc441['data']['type']),_0x1dc441['data']['type']=_0x36fbe7['type'],Array['isArray'](_0x36fbe7['halfExtent'+'s'])&&(_0x36fbe7['halfExtent'+'s']=new A(_0x36fbe7['halfExtent'+'s'])),Array['isArray'](_0x36fbe7['linearOffs'+'et'])&&(_0x36fbe7['linearOffs'+'et']=new A(_0x36fbe7['linearOffs'+'et'])),Array['isArray'](_0x36fbe7['angularOff'+'set'])){const _0x3cdcef=_0x36fbe7['angularOff'+'set'];_0x3cdcef['length']===-0x197b+0xffb+0x983?_0x36fbe7['angularOff'+'set']=new ie()['setFromEul'+'erAngles'](_0x3cdcef[0x6e5+0x1*0x1bef+-0x116a*0x2],_0x3cdcef[-0x2405+-0x1e90+0x4296],_0x3cdcef[-0x1724+-0x1*0xd9f+0x24c5*0x1]):_0x36fbe7['angularOff'+'set']=new ie(_0x36fbe7['angularOff'+'set']);}const _0x6b3fba=this['_createImp'+'lementatio'+'n'](_0x36fbe7['type']);_0x6b3fba['beforeInit'+'ialize'](_0x1dc441,_0x36fbe7),super['initialize'+'ComponentD'+'ata'](_0x1dc441,_0x36fbe7,_0x11e459),_0x6b3fba['afterIniti'+'alize'](_0x1dc441,_0x36fbe7);}['_createImp'+'lementatio'+'n'](_0x18905e){if(this['implementa'+'tions'][_0x18905e]===void(0x6*0x1ae+-0xc96+0x6*0x6b)){let _0x178d7c;switch(_0x18905e){case'box':_0x178d7c=new oR(this);break;case'sphere':_0x178d7c=new lR(this);break;case'capsule':_0x178d7c=new hR(this);break;case'cylinder':_0x178d7c=new cR(this);break;case'cone':_0x178d7c=new dR(this);break;case'mesh':_0x178d7c=new uR(this);break;case'compound':_0x178d7c=new fR(this);break;default:b['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x18905e);}this['implementa'+'tions'][_0x18905e]=_0x178d7c;}return this['implementa'+'tions'][_0x18905e];}['_getImplem'+'entation'](_0x1c7726){return this['implementa'+'tions'][_0x1c7726['collision']['data']['type']];}['cloneCompo'+'nent'](_0x4fa346,_0x152881){return this['_getImplem'+'entation'](_0x4fa346)['clone'](_0x4fa346,_0x152881);}['onBeforeRe'+'move'](_0x13a058,_0x5367f2){this['implementa'+'tions'][_0x5367f2['data']['type']]['beforeRemo'+'ve'](_0x13a058,_0x5367f2),_0x5367f2['onBeforeRe'+'move']();}['onRemove'](_0x219499,_0x49d3da){this['implementa'+'tions'][_0x49d3da['type']]['remove'](_0x219499,_0x49d3da);}['updateComp'+'oundChildT'+'ransform'](_0x220613,_0x3f2d31){const _0x5657c3=_0x220613['collision']['_compoundP'+'arent'];if(_0x5657c3!==_0x220613['collision']&&_0x220613['enabled']&&_0x220613['collision']['enabled']&&(_0x220613['_dirtyLoca'+'l']||_0x3f2d31)){const _0x26da07=this['_getNodeTr'+'ansform'](_0x220613,_0x5657c3['entity']),_0x5e1925=_0x5657c3['getCompoun'+'dChildShap'+'eIndex'](_0x220613['collision']['shape']);_0x5e1925===null?_0x5657c3['shape']['addChildSh'+'ape'](_0x26da07,_0x220613['collision']['data']['shape']):_0x5657c3['shape']['updateChil'+'dTransform'](_0x5e1925,_0x26da07,!(0x24d*0x5+0x1d10*0x1+0x43*-0x9b)),Ammo['destroy'](_0x26da07);}}['_removeCom'+'poundChild'](_0x2dcfc1,_0x23581c){if(_0x2dcfc1['shape']['getNumChil'+'dShapes']()!==-0xd*-0x2e7+0x1*0x25d2+-0x4b8d){if(_0x2dcfc1['shape']['removeChil'+'dShape'])_0x2dcfc1['shape']['removeChil'+'dShape'](_0x23581c);else{const _0x5e2487=_0x2dcfc1['getCompoun'+'dChildShap'+'eIndex'](_0x23581c);_0x5e2487!==null&&_0x2dcfc1['shape']['removeChil'+'dShapeByIn'+'dex'](_0x5e2487);}}}['onTransfor'+'mChanged'](_0x58e19c,_0x1640e7,_0xe00242,_0x21ca04){this['implementa'+'tions'][_0x58e19c['data']['type']]['updateTran'+'sform'](_0x58e19c,_0x1640e7,_0xe00242,_0x21ca04);}['changeType'](_0xefbbe0,_0x2123fd,_0x3c8939){this['implementa'+'tions'][_0x2123fd]['beforeRemo'+'ve'](_0xefbbe0['entity'],_0xefbbe0),this['implementa'+'tions'][_0x2123fd]['remove'](_0xefbbe0['entity'],_0xefbbe0['data']),this['_createImp'+'lementatio'+'n'](_0x3c8939)['reset'](_0xefbbe0,_0xefbbe0['data']);}['recreatePh'+'ysicalShap'+'es'](_0x2e2502){this['implementa'+'tions'][_0x2e2502['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x2e2502);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3e229f,_0x504d6f){if(_0x3e229f===_0x504d6f){const _0x4404d3=_0x3e229f['getWorldTr'+'ansform']()['getScale']();Ql['setScale'](_0x4404d3['x'],_0x4404d3['y'],_0x4404d3['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x3e229f['parent'],_0x504d6f),Ql['mul'](_0x3e229f['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0xe3a98a){const _0x19a6c9=_0xe3a98a['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x19a6c9['x'],_0x19a6c9['y'],_0x19a6c9['z']);}['_getNodeTr'+'ansform'](_0x2c33af,_0x1cdba4){let _0x50ce2e,_0x5caeff;_0x1cdba4?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x2c33af,_0x1cdba4),_0x50ce2e=rR,_0x5caeff=Mr,Ql['getTransla'+'tion'](_0x50ce2e),_0x5caeff['setFromMat'+'4'](Ql)):(_0x50ce2e=_0x2c33af['getPositio'+'n'](),_0x5caeff=_0x2c33af['getRotatio'+'n']());const _0x2c038b=new Ammo['btQuaterni'+'on'](),_0x1e8960=new Ammo['btTransfor'+'m']();_0x1e8960['setIdentit'+'y']();const _0x2a19ee=_0x1e8960['getOrigin'](),_0x34f5a9=_0x2c33af['collision'];if(_0x34f5a9&&_0x34f5a9['_hasOffset']){const _0x1f5084=_0x34f5a9['data']['linearOffs'+'et'],_0x41f99c=_0x34f5a9['data']['angularOff'+'set'],_0x1b7617=nR;Mr['copy'](_0x5caeff)['transformV'+'ector'](_0x1f5084,_0x1b7617),_0x1b7617['add'](_0x50ce2e),Mr['copy'](_0x5caeff)['mul'](_0x41f99c),_0x2a19ee['setValue'](_0x1b7617['x'],_0x1b7617['y'],_0x1b7617['z']),_0x2c038b['setValue'](Mr['x'],Mr['y'],Mr['z'],Mr['w']);}else _0x2a19ee['setValue'](_0x50ce2e['x'],_0x50ce2e['y'],_0x50ce2e['z']),_0x2c038b['setValue'](_0x5caeff['x'],_0x5caeff['y'],_0x5caeff['z'],_0x5caeff['w']);return _0x1e8960['setRotatio'+'n'](_0x2c038b),Ammo['destroy'](_0x2c038b),_0x1e8960;}['destroy'](){for(const _0x1d7532 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x1d7532]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Jl=new Y(),mR=new Ht();class _R{constructor(_0x39b95f,_0x2dba42,_0x221b39){this['_entity']=_0x39b95f,this['_element']=_0x39b95f['element'],this['model']=new Ui(),this['node']=new Oe(),this['model']['graph']=this['node'],this['mesh']=_0x2dba42,this['meshInstan'+'ce']=new Be(this['mesh'],_0x221b39,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x39b95f['name'],this['meshInstan'+'ce']['castShadow']=!(0x189b+0x1e41+0x3*-0x1249),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x1954+0xbce+-0x2521*0x1),this['_meshDirty']=!(0x25ff+0x26ac+-0x4caa*0x1),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x273e07,_0x33c840;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x273e07=this['meshInstan'+'ce'])==null||_0x273e07['destroy'](),this['meshInstan'+'ce']=null,(_0x33c840=this['unmaskMesh'+'Instance'])==null||_0x33c840['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x3cc287){this['meshInstan'+'ce']&&(this['mesh']=_0x3cc287,this['meshInstan'+'ce']['mesh']=_0x3cc287,this['meshInstan'+'ce']['visible']=!!_0x3cc287,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x3cc287),this['forceUpdat'+'eAabb']());}['setMask'](_0x521fc8){var _0x4cbdd2;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x521fc8){this['unmaskMesh'+'Instance']=new Be(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x216+-0xaae+0xcc5),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x1af6+-0x24b*0x9+-0x329*0x2),this['unmaskMesh'+'Instance']['pick']=!(-0x3*-0x4b7+0x1880+0x2*-0x1352),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x1694f3 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1694f3,this['meshInstan'+'ce']['parameters'][_0x1694f3]['data']);}else{const _0x5ad17c=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x5ad17c>=0x816+-0x161a+0xe04&&this['model']['meshInstan'+'ces']['splice'](_0x5ad17c,0x1309*0x1+0x1*0x2239+-0x3541*0x1);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x521fc8||((_0x4cbdd2=this['unmaskMesh'+'Instance'])==null||_0x4cbdd2['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x3ae904){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x3ae904,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x3ae904));}['setParamet'+'er'](_0x1bde9c,_0x39f046){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x1bde9c,_0x39f046),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1bde9c,_0x39f046));}['deletePara'+'meter'](_0x1d51d7){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x1d51d7),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x1d51d7));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x33b121=function(_0x367e4d){let _0x1ec684;const _0x485943=_0x367e4d['children'],_0x18bcdf=_0x485943['length'];if(_0x18bcdf){for(let _0xef4ed5=-0x23c4+0xf86*0x2+0x4b8;_0xef4ed5<_0x18bcdf;_0xef4ed5++)_0x485943[_0xef4ed5]['element']&&(_0x1ec684=_0x485943[_0xef4ed5]);if(!_0x1ec684)return null;const _0x439986=_0x33b121(_0x1ec684);return _0x439986||_0x1ec684;}return null;};if(this['unmaskMesh'+'Instance']){const _0x26f71a=_0x33b121(this['_entity']);_0x26f71a&&_0x26f71a['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x26f71a['element']['drawOrder']+_0x26f71a['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),b['trace'](Es,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x6610a7){this['meshInstan'+'ce']&&(b['trace'](Es,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x6610a7),this['meshInstan'+'ce']['drawOrder']=_0x6610a7);}['setCull'](_0x88adfe){if(!this['meshInstan'+'ce'])return;const _0x52ef8a=this['_element'];let _0x367599=null;_0x88adfe&&_0x52ef8a['_isScreenS'+'pace']()&&(_0x367599=function(_0x1f19da){return _0x52ef8a['isVisibleF'+'orCamera'](_0x1f19da);}),this['meshInstan'+'ce']['cull']=_0x88adfe,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x367599,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x88adfe,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x367599);}['setScreenS'+'pace'](_0x3d1169){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x3d1169,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x3d1169));}['setLayer'](_0x5c1fce){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x5c1fce,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x5c1fce));}['forceUpdat'+'eAabb'](_0x1246a9){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x584+0x271+0x2*-0x3fa),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x2*-0x10ab+0x22b+0x1f2c)));}['setAabbFun'+'c'](_0x239269){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x239269,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x239269));}}class gR{constructor(_0x4be13d){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x4be13d,this['_entity']=_0x4be13d['entity'],this['_system']=_0x4be13d['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x1476+0x18*-0x3d+-0xebe,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x1833+-0xa14+0x2248),this['_rect']=new ee(0x3d3*0x1+-0x3f*0x6f+0x177e,0x6fc+0xdc8+-0x6ec*0x3,0x47*-0x1f+0xa3*-0x34+0x29b6,0xc9*0x11+0x22b*0xd+-0x2987),this['_mask']=!(-0x2066+-0x14e1*0x1+0x3548),this['_maskRef']=0x10*0xca+-0x1621+-0x1*-0x981,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0x1b58+-0x1e*-0xc3+-0x3230),this['_innerOffs'+'et']=new ee(),this['_innerOffs'+'etUniform']=new Float32Array(0xac6+-0x51b+-0x1*0x5a7),this['_atlasRect']=new ee(),this['_atlasRect'+'Uniform']=new Float32Array(0x1df7+-0x1*-0x8fe+-0x26f1),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new _R(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0x31d+-0xbd3+0x8b7,0x1*0x8+-0x3a5+0x39e*0x1,-0xd6d+-0x2223+-0x549*-0x9,0x89*-0x17+-0x15*0xc+0xd4c),this['_colorUnif'+'orm']=new Float32Array([-0x16cc*0x1+0x593+0x2d*0x62,-0x20b+0x1d*-0x8e+0xb*0x1a6,0x40a*0x2+-0x1b61+0x134e]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0x565*0x1+0x3*-0x504+0x2*0xa39),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x171c8c){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x1e5ccc){this['_updateMat'+'erial'](_0x1e5ccc);}['_onScreenC'+'hange'](_0x3037b3,_0x53b1d4){_0x3037b3?this['_updateMat'+'erial'](_0x3037b3['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x3*0x90e+-0xf73*-0x1+-0x2a9c));}['_onDrawOrd'+'erChange'](_0x22e132){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x22e132),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x65*0x2b+0x6d7*0x1+-0x17cd);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st);}['_updateMat'+'erial'](_0x3e009c){const _0x1d3108=!!this['_mask'],_0x563e14=!!(this['sprite']&&this['sprite']['renderMode']===ht),_0x49d94b=!!(this['sprite']&&this['sprite']['renderMode']===st);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x3e009c,_0x1d3108,_0x563e14,_0x49d94b)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x3e009c),this['_renderabl'+'e']['setLayer'](_0x3e009c?Ub:d0));}['_createMes'+'h'](){const _0x38b44e=this['_element'],_0x55f200=_0x38b44e['calculated'+'Width'],_0x1bbf28=_0x38b44e['calculated'+'Height'],_0x2dd075=this['_rect'],_0x3e401a=this['_system']['app']['graphicsDe'+'vice'],_0xb55fa9=new Float32Array([_0x55f200,0x7*0x119+0x119b+-0x53*0x4e,-0x3*0x34+0x1*0x1c0+-0x124,0x10*-0x23f+-0x2*0x9de+0x37ac,0xeba+-0x1f*-0xbf+-0x25db*0x1,-0x2e3*-0x5+0xb1b*-0x2+0x7c8,_0x2dd075['x']+_0x2dd075['z'],0xee9*0x2+-0xd81+-0x1050-_0x2dd075['y'],_0x55f200,_0x1bbf28,-0x775*0x1+0x340*-0x4+0x1475,0x1*0x11c5+0x2*-0x4b7+-0x23*0x3d,0x1*0x26f1+0x26c2+-0x4db3*0x1,-0x1b2c+-0xc44+0x1b7*0x17,_0x2dd075['x']+_0x2dd075['z'],0x2f*0x16+-0x1*-0x164c+-0x6b*0x3f-(_0x2dd075['y']+_0x2dd075['w']),-0x1605+0xa6*0x25+-0x1f9,-0x1*0xfa1+0x22b7+-0x1316,-0x2d0+-0x56d+-0x25*-0x39,0x69+0x145b+-0x6*0x376,0xf6a+0xa09+-0x1*0x1973,0x25a*-0x8+-0x2*-0x7cf+0x333,_0x2dd075['x'],-0x5b*-0x11+-0x5*0xd3+-0x1eb-_0x2dd075['y'],-0x1ebb+0x2444+-0x589,_0x1bbf28,0xe42*0x1+-0x4da+0xac*-0xe,-0x1*-0xb89+-0x72*0x6+0x8dd*-0x1,0x1a3*0x12+-0x139d*-0x1+-0x11*0x2e3,0x1731+0x9*0x277+-0x2d5f,_0x2dd075['x'],0xb*0x2a5+-0x69e+-0x1678-(_0x2dd075['y']+_0x2dd075['w'])]),_0x4b4a2a=mR['get'](_0x3e401a,()=>new Dt(_0x3e401a,[{'semantic':Xe,'components':0x3,'type':Re},{'semantic':ss,'components':0x3,'type':Re},{'semantic':ds,'components':0x2,'type':Re}])),_0x1a687d=new fs(_0x3e401a,_0x4b4a2a,-0x1*0xce9+-0x168+0x1*0xe55,{'data':_0xb55fa9['buffer']}),_0x3e983a=new ke(_0x3e401a);return _0x3e983a['vertexBuff'+'er']=_0x1a687d,_0x3e983a['primitive'][0xcf+0xa*0x244+-0x1777*0x1]['type']=lr,_0x3e983a['primitive'][-0x6fb+-0x1196+0x1891]['base']=-0x1*0x9de+0x795+0x249,_0x3e983a['primitive'][0x1a53+-0x2f0*0x8+-0x2d3]['count']=-0x2*0xcd4+-0xc54+0x2600,_0x3e983a['primitive'][0x1eb6+0x5c*-0x10+-0x18f6]['indexed']=!(-0x1f40+0x98a+-0x3*-0x73d),_0x3e983a['aabb']['setMinMax'](A['ZERO'],new A(_0x55f200,_0x1bbf28,0x46a+0x25a5+-0x2a0f)),this['_updateMes'+'h'](_0x3e983a),_0x3e983a;}['_updateMes'+'h'](_0x41f162){const _0x3d21ce=this['_element'];let _0x9e0e3c=_0x3d21ce['calculated'+'Width'],_0x28abcf=_0x3d21ce['calculated'+'Height'];if(_0x3d21ce['fitMode']!==bh&&this['_targetAsp'+'ectRatio']>0xaf7+-0x1*-0x56b+0xe9*-0x12){const _0x5d6f85=_0x3d21ce['calculated'+'Width']/_0x3d21ce['calculated'+'Height'];_0x3d21ce['fitMode']===KP&&_0x5d6f85>this['_targetAsp'+'ectRatio']||_0x3d21ce['fitMode']===ZP&&_0x5d6f85<this['_targetAsp'+'ectRatio']?_0x9e0e3c=_0x3d21ce['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x28abcf=_0x3d21ce['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x4923ac=_0x3d21ce['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x4923ac),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){const _0x10383d=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0xaf6366=(0x1f*0x116+-0x638*-0x1+0x20*-0x13f)/_0x10383d['rect']['z'],_0x29bd9b=(0x24fe+-0x167*-0x7+-0x2ecd)/_0x10383d['rect']['w'];this['_innerOffs'+'et']['set'](_0x10383d['border']['x']*_0xaf6366,_0x10383d['border']['y']*_0x29bd9b,_0x10383d['border']['z']*_0xaf6366,_0x10383d['border']['w']*_0x29bd9b);const _0x2574b7=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x10383d['rect']['x']/_0x2574b7['width'],_0x10383d['rect']['y']/_0x2574b7['height'],_0x10383d['rect']['z']/_0x2574b7['width'],_0x10383d['rect']['w']/_0x2574b7['height']);const _0x1e7fb0=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x33e3d4=_0x10383d['rect']['z']/_0x1e7fb0,_0xc766fb=_0x10383d['rect']['w']/_0x1e7fb0;this['_outerScal'+'e']['set'](Math['max'](_0x9e0e3c,this['_innerOffs'+'et']['x']*_0x33e3d4),Math['max'](_0x28abcf,this['_innerOffs'+'et']['y']*_0xc766fb));let _0x143d34=_0x33e3d4,_0x59189e=_0xc766fb;this['_outerScal'+'e']['x']/=_0x33e3d4,this['_outerScal'+'e']['y']/=_0xc766fb,_0x143d34*=z['clamp'](_0x9e0e3c/(this['_innerOffs'+'et']['x']*_0x33e3d4),-0x1e02+-0x6*0x40d+0x3650+0.0001,0x1b*-0x105+0x20d+0xb*0x251),_0x59189e*=z['clamp'](_0x28abcf/(this['_innerOffs'+'et']['y']*_0xc766fb),-0x259+0x520+0x4f*-0x9+0.0001,0x1c09+0x155e+-0x3166),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x22a+0x2*-0x4f7+0x9*0x158]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x2653+-0x2452+0x4aa6]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x94a+-0x1923+0xfdb]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x590+-0x1380+0x83*0x31]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x15d*-0x7+0xfc6+0x63b*-0x1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1164+0x26a7+-0x3*0x716]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0xe00+-0x4*-0x1d+0x5*0x2b6]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x76a*-0x4+0x2362+-0x4107*0x1]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0xb5*0xb+0x304*-0x1+0x133*0x9]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x2077+-0x1*0x1a17+-0x65f]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x143d34,_0x59189e,-0x148d+0x2285*-0x1+0x3713),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x214d+-0xa93*-0x1+-0x1*-0x16ba+0.5-_0x3d21ce['pivot']['x'])*_0x9e0e3c,(-0x238f*-0x1+-0xb13*-0x3+0x1f*-0x238+0.5-_0x3d21ce['pivot']['y'])*_0x28abcf,-0xc5*0x17+0x2*0x7c0+0x1*0x233));}else{const _0x54d430=_0x41f162['vertexBuff'+'er'],_0x466673=new Float32Array(_0x54d430['lock']()),_0x3743e7=_0x3d21ce['pivot']['x'],_0x23a12d=_0x3d21ce['pivot']['y'];_0x466673[0x15ff+-0xd*-0x125+-0x24e0]=_0x9e0e3c-_0x3743e7*_0x9e0e3c,_0x466673[0x2e*-0xa8+-0x1b*-0x16f+-0x884]=0x4e9*-0x1+-0x234a+-0x2833*-0x1-_0x23a12d*_0x28abcf,_0x466673[0x59e+0xd01+-0x1*0x1297]=_0x9e0e3c-_0x3743e7*_0x9e0e3c,_0x466673[0x1*-0x1db7+0x3*-0x8be+0x37fa*0x1]=_0x28abcf-_0x23a12d*_0x28abcf,_0x466673[-0x1*0x77e+0xa*-0x31c+0x26a6]=0x1a5d+-0xd8c+0xcd1*-0x1-_0x3743e7*_0x9e0e3c,_0x466673[0xcb3+-0xf*-0x224+-0x2cbe]=-0x9*-0x83+0x903+-0xd9e-_0x23a12d*_0x28abcf,_0x466673[-0x1*0x22a+0x2000+-0x1dbe]=0x6aa*0x1+0x1*0xe2f+-0x251*0x9-_0x3743e7*_0x9e0e3c,_0x466673[-0x42d*0x2+-0xe2*-0x9+0x81]=_0x28abcf-_0x23a12d*_0x28abcf;let _0x444596=-0x20e*-0x3+-0x4fe+0x17*-0xd,_0x507fed=-0xbc9*0x3+-0x15d8+-0x3934*-0x1,_0x2557d2=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x1740bd=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x1740bd&&(_0x2557d2=_0x1740bd['rect'],_0x444596=this['_sprite']['atlas']['texture']['width'],_0x507fed=this['_sprite']['atlas']['texture']['height']);}_0x466673[0x14a5+0x3b0+0x7f*-0x31]=(_0x2557d2['x']+_0x2557d2['z'])/_0x444596,_0x466673[-0x1f4+0xb*-0xd4+0xb17]=0x2b0+-0x2516+0x2267-_0x2557d2['y']/_0x507fed,_0x466673[-0x6fe+0x19d1+-0x12c5]=(_0x2557d2['x']+_0x2557d2['z'])/_0x444596,_0x466673[-0xaed*-0x2+0x18d9+-0x2ea4]=0x15df+-0x731+-0xead-(_0x2557d2['y']+_0x2557d2['w'])/_0x507fed,_0x466673[-0x16a*-0x2+0x244c+-0x270a]=_0x2557d2['x']/_0x444596,_0x466673[0x1*-0x1855+0x268c+-0xe20]=-0x1cea+-0x3*-0x370+0xb*0x1b1-_0x2557d2['y']/_0x507fed,_0x466673[-0x1645*0x1+-0x232e+-0x3991*-0x1]=_0x2557d2['x']/_0x444596,_0x466673[-0xe*-0x153+0x1cc+-0x2d*0x73]=-0x1c1a+-0x1ba7+0x225*0x1a-(_0x2557d2['y']+_0x2557d2['w'])/_0x507fed,_0x54d430['unlock']();const _0x38cb91=new A(0x109*-0x17+0x11dd+0x5f2-_0x3743e7*_0x9e0e3c,0x3e6*-0xa+0x1052+0x16aa-_0x23a12d*_0x28abcf,-0x11f0+-0x62d+0x181d),_0x6bea5e=new A(_0x9e0e3c-_0x3743e7*_0x9e0e3c,_0x28abcf-_0x23a12d*_0x28abcf,0x19e5+-0x12*0x15a+-0x191);_0x41f162['aabb']['setMinMax'](_0x38cb91,_0x6bea5e),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x15bf*-0x1+0x2317+-0xd57,0xb28*0x3+-0x2436+-0x13*-0x25,0x217d+-0x6b*-0x4a+0x11*-0x3ca),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x14d5+-0x2248+0xd73,0x1994*-0x1+0x138d+0x607,-0xf09*0x2+0x6b6+0x34*0x73),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0xab*0x17+-0x12ce+0x372);}['_updateSpr'+'ite'](){let _0x156140=!(-0x1fc6+0x18a1+-0x6*-0x131),_0x2448c6=null;if(this['_targetAsp'+'ectRatio']=-(0x298*-0x9+-0x4c5+0xe0f*0x2),this['_sprite']&&this['_sprite']['atlas']){_0x2448c6=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x156140=this['_sprite']['renderMode']===ht||this['_sprite']['renderMode']===st;const _0x3eb665=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x3eb665==null?void(0x3*-0x47b+-0x26af*-0x1+-0x193e):_0x3eb665['rect']['w'])>0x924+-0x16af+0xd8b&&(this['_targetAsp'+'ectRatio']=_0x3eb665['rect']['z']/_0x3eb665['rect']['w']);}this['mesh']=_0x156140?_0x2448c6:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x241c*-0x1+-0x272+-0x21aa):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x25f7ea){return _0x25f7ea['center']['set'](0x32d*-0x2+0xe06+0x2*-0x3d6,0x851*-0x3+0xa*0x228+0x363,0x18a3+-0x105d*-0x1+-0x2900),_0x25f7ea['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x5*0x1da+-0x3c7*-0x8+-0x146*0x1f+0.5),this['_outerScal'+'e']['y']*(0x1edd+0x1f49*-0x1+0x6c+0.5),-0x2*-0x22b+-0x1*0x1d41+0x1*0x18eb+0.001),_0x25f7ea['setFromTra'+'nsformedAa'+'bb'](_0x25f7ea,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x25f7ea;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0xe70dbe=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xe70dbe),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x2e2282){this['material']=_0x2e2282['resource'];}['_onMateria'+'lAdded'](_0x22677f){this['_system']['app']['assets']['off']('add:'+_0x22677f['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x22677f['id']&&this['_bindMater'+'ialAsset'](_0x22677f);}['_bindMater'+'ialAsset'](_0x61ffa0){this['_entity']['enabled']&&(_0x61ffa0['on']('load',this['_onMateria'+'lLoad'],this),_0x61ffa0['on']('change',this['_onMateria'+'lChange'],this),_0x61ffa0['on']('remove',this['_onMateria'+'lRemove'],this),_0x61ffa0['resource']?this['_onMateria'+'lLoad'](_0x61ffa0):this['_system']['app']['assets']['load'](_0x61ffa0));}['_unbindMat'+'erialAsset'](_0x4c88dd){_0x4c88dd['off']('load',this['_onMateria'+'lLoad'],this),_0x4c88dd['off']('change',this['_onMateria'+'lChange'],this),_0x4c88dd['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x43904b){this['_system']['app']['assets']['off']('add:'+_0x43904b['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x43904b['id']&&this['_bindTextu'+'reAsset'](_0x43904b);}['_bindTextu'+'reAsset'](_0x24d9b2){this['_entity']['enabled']&&(_0x24d9b2['on']('load',this['_onTexture'+'Load'],this),_0x24d9b2['on']('change',this['_onTexture'+'Change'],this),_0x24d9b2['on']('remove',this['_onTexture'+'Remove'],this),_0x24d9b2['resource']?this['_onTexture'+'Load'](_0x24d9b2):this['_system']['app']['assets']['load'](_0x24d9b2));}['_unbindTex'+'tureAsset'](_0xf2d732){_0xf2d732['off']('load',this['_onTexture'+'Load'],this),_0xf2d732['off']('change',this['_onTexture'+'Change'],this),_0xf2d732['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0xc9c43a){this['texture']=_0xc9c43a['resource'];}['_onTexture'+'Change'](_0x2792c5){}['_onTexture'+'Remove'](_0x9d9e88){}['_onSpriteA'+'ssetAdded'](_0x3ffbb2){this['_system']['app']['assets']['off']('add:'+_0x3ffbb2['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x3ffbb2['id']&&this['_bindSprit'+'eAsset'](_0x3ffbb2);}['_bindSprit'+'eAsset'](_0x55ffad){this['_entity']['enabled']&&(_0x55ffad['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x55ffad['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x55ffad['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x55ffad['resource']?this['_onSpriteA'+'ssetLoad'](_0x55ffad):this['_system']['app']['assets']['load'](_0x55ffad));}['_unbindSpr'+'iteAsset'](_0x4000dd){_0x4000dd['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4000dd['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x4000dd['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4000dd['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x4000dd['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x390388){if(!_0x390388||!_0x390388['resource'])this['sprite']=null;else{if(_0x390388['resource']['atlas'])this['sprite']=_0x390388['resource'];else{const _0x1c0fc1=_0x390388['data']['textureAtl'+'asAsset'];if(_0x1c0fc1){const _0x584cf6=this['_system']['app']['assets'];_0x584cf6['off']('load:'+_0x1c0fc1,this['_onTexture'+'AtlasLoad'],this),_0x584cf6['once']('load:'+_0x1c0fc1,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x282e9c){this['_onSpriteA'+'ssetLoad'](_0x282e9c);}['_onSpriteA'+'ssetRemove'](_0x1598f4){}['_bindSprit'+'e'](_0x3b85a8){this['_evtSetMes'+'hes']=_0x3b85a8['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x3b85a8['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x3b85a8['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x3b85a8['atlas']&&_0x3b85a8['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x469558){var _0x12d39f;(_0x12d39f=this['_evtSetMes'+'hes'])==null||_0x12d39f['off'](),this['_evtSetMes'+'hes']=null,_0x469558['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x469558['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x469558['atlas']&&_0x469558['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=z['clamp'](this['_spriteFra'+'me'],-0x1*-0x911+0x25a7+0x2*-0x175c,this['_sprite']['frameKeys']['length']-(-0x25*0x13+-0x1a9*-0x17+-0x236f))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Pi&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0xeb5de){const _0x16fd4a=this['_spriteAss'+'et'];_0x16fd4a instanceof he?this['_onSpriteA'+'ssetLoad'](_0x16fd4a):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x16fd4a));}['onEnable'](){if(this['_materialA'+'sset']){const _0x2a2f45=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x2a2f45&&_0x2a2f45['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x2a2f45);}if(this['_textureAs'+'set']){const _0x641ca=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x641ca&&_0x641ca['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x641ca);}if(this['_spriteAss'+'et']){const _0x5a310f=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5a310f&&_0x5a310f['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x5a310f);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x43d5e9){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x43d5e9,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x43d5e9;let _0x44fe41=-0x1df5+-0x22a*-0x12+-0x8ff;if(this['_element']['maskedBy']&&(_0x44fe41=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x1e2e4e=new Zs({'ref':_0x44fe41+(-0x1aa3+0x25b8+-0xb14),'func':Dh,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x1e2e4e,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x1e2e4e;}}['_updateRen'+'derableEmi'+'ssive'](){Jl['linear'](this['_color']),this['_colorUnif'+'orm'][-0xd88+0x3*0x4+0x35f*0x4]=Jl['r'],this['_colorUnif'+'orm'][-0x3*0x1cd+0x339*-0xc+-0x3e*-0xb6]=Jl['g'],this['_colorUnif'+'orm'][0x27*0x2f+0x1*0x9a7+-0x10ce]=Jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x1e0a1d){this['_color']===_0x1e0a1d&&b['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x153793,g:_0x576571,b:_0x2591f9}=_0x1e0a1d;(this['_color']['r']!==_0x153793||this['_color']['g']!==_0x576571||this['_color']['b']!==_0x2591f9)&&(this['_color']['r']=_0x153793,this['_color']['g']=_0x576571,this['_color']['b']=_0x2591f9,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x377270){_0x377270!==this['_color']['a']&&(this['_color']['a']=_0x377270,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x377270)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x377270);}get['opacity'](){return this['_color']['a'];}set['rect'](_0xe5b20a){this['_rect']===_0xe5b20a&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x266c35,_0x6cdcd9,_0x441d5e,_0x3bf024;_0xe5b20a instanceof ee?(_0x266c35=_0xe5b20a['x'],_0x6cdcd9=_0xe5b20a['y'],_0x441d5e=_0xe5b20a['z'],_0x3bf024=_0xe5b20a['w']):(_0x266c35=_0xe5b20a[-0x5b*0x1+-0x2657+0x26b2],_0x6cdcd9=_0xe5b20a[-0x378+0xb2b*-0x2+0x1*0x19cf],_0x441d5e=_0xe5b20a[-0x1*-0x54+-0x22ef+-0x229d*-0x1],_0x3bf024=_0xe5b20a[-0x1*-0x21e1+-0x1d0d+0x3*-0x19b]),!(_0x266c35===this['_rect']['x']&&_0x6cdcd9===this['_rect']['y']&&_0x441d5e===this['_rect']['z']&&_0x3bf024===this['_rect']['w'])&&(this['_rect']['set'](_0x266c35,_0x6cdcd9,_0x441d5e,_0x3bf024),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x35*-0x8b+-0xbc7+0xb3*0x3a):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x2f626f=this['_system']['app']['assets'];_0x2f626f['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x1b98f8=_0x2f626f['get'](this['_materialA'+'sset']);_0x1b98f8&&(_0x1b98f8['off']('load',this['_onMateria'+'lLoad'],this),_0x1b98f8['off']('change',this['_onMateria'+'lChange'],this),_0x1b98f8['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x49b8c2){if(this['_material']!==_0x49b8c2){if(!_0x49b8c2){const _0x468a0b=this['_element']['_isScreenS'+'pace']();this['mask']?_0x49b8c2=_0x468a0b?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x49b8c2=_0x468a0b?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x49b8c2,this['_materialA'+'sset']){const _0x1a66e1=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x1a66e1||_0x1a66e1['resource']!==_0x49b8c2)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x49b8c2&&(this['_renderabl'+'e']['setMateria'+'l'](_0x49b8c2),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x51bd62){const _0x244df6=this['_system']['app']['assets'];let _0x332f15=_0x51bd62;if(_0x51bd62 instanceof he&&(_0x332f15=_0x51bd62['id']),this['_materialA'+'sset']!==_0x332f15){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x332f15,this['_materialA'+'sset']){const _0x3a9413=_0x244df6['get'](this['_materialA'+'sset']);_0x3a9413?this['_bindMater'+'ialAsset'](_0x3a9413):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x332f15,_0x244df6['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x332f15;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x423a13){if(this['_texture']!==_0x423a13){if(this['_textureAs'+'set']){const _0x31cf09=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x31cf09&&_0x31cf09['resource']!==_0x423a13&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x423a13,_0x423a13){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x196365=this['_texture']['width']/this['_texture']['height'];_0x196365!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x196365,this['_element']['fitMode']!==bh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x1*0xd81+0x23fa+0x2*-0xb3c),this['_element']['fitMode']!==bh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x3b0178){const _0x2cfe93=this['_system']['app']['assets'];let _0x237ce5=_0x3b0178;if(_0x3b0178 instanceof he&&(_0x237ce5=_0x3b0178['id']),this['_textureAs'+'set']!==_0x237ce5){if(this['_textureAs'+'set']){_0x2cfe93['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x1b8a41=_0x2cfe93['get'](this['_textureAs'+'set']);_0x1b8a41&&(_0x1b8a41['off']('load',this['_onTexture'+'Load'],this),_0x1b8a41['off']('change',this['_onTexture'+'Change'],this),_0x1b8a41['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x237ce5,this['_textureAs'+'set']){const _0x26c3ba=_0x2cfe93['get'](this['_textureAs'+'set']);_0x26c3ba?this['_bindTextu'+'reAsset'](_0x26c3ba):(this['texture']=null,_0x2cfe93['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x4051dd){const _0x591556=this['_system']['app']['assets'];let _0x222b2d=_0x4051dd;if(_0x4051dd instanceof he&&(_0x222b2d=_0x4051dd['id']),this['_spriteAss'+'et']!==_0x222b2d){if(this['_spriteAss'+'et']){_0x591556['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x295292=_0x591556['get'](this['_spriteAss'+'et']);_0x295292&&this['_unbindSpr'+'iteAsset'](_0x295292);}if(this['_spriteAss'+'et']=_0x222b2d,this['_spriteAss'+'et']){const _0x68f901=_0x591556['get'](this['_spriteAss'+'et']);_0x68f901?this['_bindSprit'+'eAsset'](_0x68f901):(this['sprite']=null,_0x591556['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x222b2d);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x22b5b7){if(this['_sprite']!==_0x22b5b7){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x5eff12=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5eff12&&_0x5eff12['resource']!==_0x22b5b7&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x22b5b7,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=z['clamp'](this['_spriteFra'+'me'],-0x318+-0xb27*0x3+-0x3*-0xc2f,this['_sprite']['frameKeys']['length']-(-0x9ec+-0x6bf+0x10ac))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x501069){const _0x41e2b8=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=z['clamp'](_0x501069,-0x2*0x229+-0x2096+0x24e8,this['_sprite']['frameKeys']['length']-(-0x1bb*0x11+0x12ed+0xa7f)):this['_spriteFra'+'me']=_0x501069,this['_spriteFra'+'me']!==_0x41e2b8&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x501069);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x3fee09){this['_renderabl'+'e']['setMesh'](_0x3fee09),this['_defaultMe'+'sh']===_0x3fee09?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x3e0402){this['_mask']!==_0x3e0402&&(this['_mask']=_0x3e0402,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x1d5727){this['_pixelsPer'+'Unit']!==_0x1d5727&&(this['_pixelsPer'+'Unit']=_0x1d5727,this['_sprite']&&(this['_sprite']['renderMode']===ht||this['_sprite']['renderMode']===st)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class yR extends de{constructor(_0x5ae3d1){super(),this['_app']=_0x5ae3d1,_0x5ae3d1['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0xae8+0x1*-0x2605+0x6*0x485),this['_disableLo'+'calization']=!(0x25d6+-0x1be6+-0x9ef),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x558093){const _0x432a51=_0x558093 instanceof he?_0x558093['id']:_0x558093;this['_defaultAs'+'set']!==_0x432a51&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x432a51,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x447986){const _0x44b76c=_0x447986 instanceof he?_0x447986['id']:_0x447986;this['_localized'+'Asset']!==_0x44b76c&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x44b76c,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x35357a){this['_autoLoad']!==_0x35357a&&(this['_autoLoad']=_0x35357a,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x245478){this['_disableLo'+'calization']!==_0x245478&&(this['_disableLo'+'calization']=_0x245478,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x101a2c=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x101a2c?this['_onDefault'+'AssetAdd'](_0x101a2c):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x1067b7=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1067b7&&(_0x1067b7['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1067b7['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x1067b7['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x5c7045){this['_defaultAs'+'set']===_0x5c7045['id']&&(_0x5c7045['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x5c7045['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x5c7045['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x208a3e){this['_defaultAs'+'set']===_0x208a3e['id']&&(_0x208a3e['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x208a3e['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x482bbc=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x482bbc&&(_0x482bbc['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x482bbc['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x482bbc['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x482bbc['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x482bbc):this['_app']['assets']['load'](_0x482bbc));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x2a2782=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x2a2782&&(_0x2a2782['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x2a2782['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x2a2782['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x21dc0d){this['_localized'+'Asset']===_0x21dc0d['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x336d00){this['fire']('load',_0x336d00);}['_onLocaliz'+'edAssetCha'+'nge'](_0x3a75ac,_0x55b0db,_0x2de0a4,_0x450432){this['fire']('change',_0x3a75ac,_0x55b0db,_0x2de0a4,_0x450432);}['_onLocaliz'+'edAssetRem'+'ove'](_0x427a8a){this['_localized'+'Asset']===_0x427a8a['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x427a8a);}['_onLocaleA'+'dd'](_0x1129eb,_0x457662){this['_app']['i18n']['locale']===_0x1129eb&&this['_onSetLoca'+'le'](_0x1129eb);}['_onLocaleR'+'emove'](_0x59e321,_0x18ed79){this['_app']['i18n']['locale']===_0x59e321&&this['_onSetLoca'+'le'](_0x59e321);}['_onSetLoca'+'le'](_0x5f52e3){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x354321=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x354321||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x20c5df=_0x354321['getLocaliz'+'edAssetId'](_0x5f52e3);if(!_0x20c5df){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x20c5df;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const tc='msdf',xR='bitmap',po=0x53*0x17+-0x1*-0x10f2+-0x1867,Qn=0x94*-0x40+-0x8c+0x258d,df=0x65b+-0x2009+0x19b0,rx=-0x4*0x935+0xedb+0x15fc,uf=0x9de+-0x88f*-0x1+-0x623*0x3,ff=-0x1*-0x257+-0x52*0x34+0xe56,pf=-0x17*0x169+-0x17ac+-0x3821*-0x1,mf=0xc6d+-0x2418+0x17b2,ug=0x469*-0x1+0x1*-0x39a+0x80b,SR='\x20\x09\x0a\x0d\x0b\x0c',vR=/[\w|/]/;class bR{constructor(_0x118a8a){this['_symbols']=_0x118a8a,this['_index']=0x47*-0x5e+0x12cb+0x747,this['_last']=-0x6ca*-0x1+-0x365+0x4f*-0xb,this['_cur']=this['_symbols']['length']>-0x1dd1+0xc4a+0x1187?this['_symbols'][0x1*-0xcef+0x4cf*0x1+0x820]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x45c8f6=this['_read']();for(;_0x45c8f6===ug;)_0x45c8f6=this['_read']();return _0x45c8f6!==po&&_0x45c8f6!==Qn&&(this['_last']=this['_index']),_0x45c8f6;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x392498=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x4eaeec=this['read'](),_0x421a07='';for(;_0x421a07+=(_0x421a07['length']>0x2*-0x25c+-0xa*0x1a3+0x2*0xa8b?'\x0a':'')+_0x392498[_0x4eaeec]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x4eaeec===po||_0x4eaeec===Qn);)_0x4eaeec=this['read']();return _0x421a07;}['_read'](){return this['_buf']=[],this['_eof']()?po:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x1*0x9e8+0xf*0x81+0x259*0x1?df:po;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1*-0x1837+-0x219+-0x161e?df:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Qn;case'[':return this['_store'](),rx;case']':return this['_store'](),this['_mode']='text',uf;case'=':return this['_store'](),ff;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Qn);}}['_whitespac'+'e'](){for(this['_store']();SR['indexOf'](this['_cur'])!==-(0xd9*0x18+0x164*-0x3+-0x1*0x102b);)this['_store']();return ug;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Qn;case'\x22':return this['_next'](),pf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return mf;}['_isIdentif'+'ierSymbol'](_0x55708e){return _0x55708e['length']===-0x25c2+0x3*-0x33a+0x2f71&&_0x55708e['match'](vR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x530dcf){this['_buf']['push'](_0x530dcf);}}class wR{constructor(_0x4b7143){this['_scanner']=new bR(_0x4b7143),this['_error']=null;}['parse'](_0x87cf9,_0x55a56c){for(;;)switch(this['_scanner']['read']()){case po:return!(-0x180d+0x1ede+-0x6d1);case Qn:return!(0x10a9+0x26f4+-0x379c);case df:Array['prototype']['push']['apply'](_0x87cf9,this['_scanner']['buf']());break;case rx:if(!this['_parseTag'](_0x87cf9,_0x55a56c))return!(-0xf5b*0x1+0x9d*0x13+0x3b5);break;default:return!(0xc45+0xeee+0x1b32*-0x1);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x56e839,_0x3b3017){let _0x1be37a=this['_scanner']['read']();if(_0x1be37a!==mf)return this['_error']='expected\x20i'+'dentifier',!(-0xd1*-0x3+0x92c+0x2*-0x5cf);const _0xc817d7=this['_scanner']['buf']()['join']('');if(_0xc817d7[-0x1ce3+0xd3a*-0x2+0x1c9*0x1f]==='/'){for(let _0x537a0d=_0x3b3017['length']-(-0x1412+0x854*-0x4+0x3563);_0x537a0d>=-0x1dbf+0x13d9*-0x1+0x3198;--_0x537a0d)if(_0xc817d7==='/'+_0x3b3017[_0x537a0d]['name']&&_0x3b3017[_0x537a0d]['end']===null)return _0x3b3017[_0x537a0d]['end']=_0x56e839['length'],_0x1be37a=this['_scanner']['read'](),_0x1be37a!==uf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x207d+-0x8dd*-0x1+-0x2959)):!(-0x1e*-0x125+-0x3*-0x455+-0x2f55);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0xcd+-0x116*-0x4+-0x6*0x97);}const _0x1c1163={'name':_0xc817d7,'value':null,'attributes':{},'start':_0x56e839['length'],'end':null};if(_0x1be37a=this['_scanner']['read'](),_0x1be37a===ff){if(_0x1be37a=this['_scanner']['read'](),_0x1be37a!==pf)return this['_error']='expected\x20s'+'tring',!(-0x2c2*0x3+0x3ee*-0x3+0x1411);_0x1c1163['value']=this['_scanner']['buf']()['join'](''),_0x1be37a=this['_scanner']['read']();}for(;;){switch(_0x1be37a){case uf:return _0x3b3017['push'](_0x1c1163),!(0x147d+-0x1fb9+-0x4*-0x2cf);case mf:{const _0x303680=this['_scanner']['buf']()['join']('');if(_0x1be37a=this['_scanner']['read'](),_0x1be37a!==ff)return this['_error']='expected\x20e'+'quals',!(0x1*-0x7c3+-0x21ec+0x29b0);if(_0x1be37a=this['_scanner']['read'](),_0x1be37a!==pf)return this['_error']='expected\x20s'+'tring',!(0x119b*-0x1+0x989*-0x1+0x1b25);const _0x2680b8=this['_scanner']['buf']()['join']('');_0x1c1163['attributes'][_0x303680]=_0x2680b8;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0xac8+0x95*0x34+-0x137b);}_0x1be37a=this['_scanner']['read']();}}}function nx(_0x4b44e9,_0x37d5fb){for(const _0x1cc403 in _0x37d5fb){if(!_0x37d5fb['hasOwnProp'+'erty'](_0x1cc403))continue;const _0x46fb3f=_0x37d5fb[_0x1cc403];_0x46fb3f instanceof Object?(_0x4b44e9['hasOwnProp'+'erty'](_0x1cc403)||(_0x4b44e9[_0x1cc403]={}),nx(_0x4b44e9[_0x1cc403],_0x37d5fb[_0x1cc403])):_0x4b44e9[_0x1cc403]=_0x46fb3f;}}function TR(_0x193cd4){if(_0x193cd4['length']===-0x20e+0x35*0xaa+-0x4bc*0x7)return null;const _0x26c3ab={};for(let _0x2a4df1=-0x9ad+-0x175a+0x2107;_0x2a4df1<_0x193cd4['length'];++_0x2a4df1){const _0x5e81a3=_0x193cd4[_0x2a4df1],_0x500652={};_0x500652[_0x5e81a3['name']]={'value':_0x5e81a3['value'],'attributes':_0x5e81a3['attributes']},nx(_0x26c3ab,_0x500652);}return _0x26c3ab;}function AR(_0xbe46e0,_0x1f8415){if(_0xbe46e0['length']===-0xe4d+0x1*-0x1413+0x2260)return null;const _0x3a3f9d={};for(let _0x4f5f0d=0x1*0x1ea7+-0x345*0x3+-0x14d8;_0x4f5f0d<_0xbe46e0['length'];++_0x4f5f0d){const _0x483fb=_0xbe46e0[_0x4f5f0d];_0x3a3f9d['hasOwnProp'+'erty'](_0x483fb['start'])?_0x3a3f9d[_0x483fb['start']]['open']===null?_0x3a3f9d[_0x483fb['start']]['open']=[_0x483fb]:_0x3a3f9d[_0x483fb['start']]['open']['push'](_0x483fb):_0x3a3f9d[_0x483fb['start']]={'open':[_0x483fb],'close':null},_0x3a3f9d['hasOwnProp'+'erty'](_0x483fb['end'])?_0x3a3f9d[_0x483fb['end']]['close']===null?_0x3a3f9d[_0x483fb['end']]['close']=[_0x483fb]:_0x3a3f9d[_0x483fb['end']]['close']['push'](_0x483fb):_0x3a3f9d[_0x483fb['end']]={'open':null,'close':[_0x483fb]};}let _0x563c02=[];function _0x5b83e8(_0x2502dd){_0x563c02=_0x563c02['filter'](_0x17bc15=>_0x2502dd['find'](_0x26442d=>_0x26442d===_0x17bc15)===void(-0x135*0x10+0x1563+-0x213));}function _0x4d60dd(_0x3ef387){for(let _0x35012a=0x252+0xa77+-0x3*0x443;_0x35012a<_0x3ef387['length'];++_0x35012a)_0x563c02['push'](_0x3ef387[_0x35012a]);}const _0x2fc523=Object['keys'](_0x3a3f9d)['sort']((_0xaa3d8c,_0x51d427)=>_0xaa3d8c-_0x51d427),_0x2b05a6=[];for(let _0x13571d=-0x6a0+0x2173+-0x2fb*0x9;_0x13571d<_0x2fc523['length'];++_0x13571d){const _0x4cdab7=_0x3a3f9d[_0x2fc523[_0x13571d]];_0x4cdab7['close']!==null&&_0x5b83e8(_0x4cdab7['close']),_0x4cdab7['open']!==null&&_0x4d60dd(_0x4cdab7['open']),_0x2b05a6['push']({'start':_0x2fc523[_0x13571d],'tags':TR(_0x563c02)});}const _0x4ce603=[];let _0x346ae4=null;for(let _0x2c8fe1=-0x1d91+0x16de+-0x157*-0x5;_0x2c8fe1<_0x2b05a6['length'];++_0x2c8fe1){const _0x49abc1=_0x2b05a6[_0x2c8fe1];for(;_0x4ce603['length']<_0x49abc1['start'];)_0x4ce603['push'](_0x346ae4?_0x346ae4['tags']:null);_0x346ae4=_0x49abc1;}for(;_0x4ce603['length']<_0x1f8415;)_0x4ce603['push'](null);return _0x4ce603;}function ER(_0x43bc2b){const _0x5c6416=new wR(_0x43bc2b),_0x21c94f=[],_0x37d0d9=[];if(!_0x5c6416['parse'](_0x21c94f,_0x37d0d9))return console['warn'](_0x5c6416['error']()),{'symbols':_0x43bc2b,'tags':null};const _0x3c02e8=_0x37d0d9['find'](_0x2e9a21=>_0x2e9a21['end']===null);if(_0x3c02e8)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x3c02e8['name']+'\x27'),{'symbols':_0x43bc2b,'tags':null};const _0xc0ecea=AR(_0x37d0d9,_0x21c94f['length']);return{'symbols':_0x21c94f,'tags':_0xc0ecea};}class CR{static['evaluate'](_0x48bf85){return ER(_0x48bf85);}}class MR{constructor(){this['count']=0x174e+-0x1de1*0x1+0x693,this['quad']=-0x877+0x22*0x43+0x1*-0x6f,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function PR(_0x2c3a4f,_0x2c49f9){const _0x4f8d4c=new ke(_0x2c3a4f);return _0x4f8d4c['setPositio'+'ns'](_0x2c49f9['positions']),_0x4f8d4c['setNormals'](_0x2c49f9['normals']),_0x4f8d4c['setColors3'+'2'](_0x2c49f9['colors']),_0x4f8d4c['setUvs'](-0x1dd8+-0x1a0d+0x37e5*0x1,_0x2c49f9['uvs']),_0x4f8d4c['setIndices'](_0x2c49f9['indices']),_0x4f8d4c['setVertexS'+'tream'](Lo,_0x2c49f9['outlines'],0xbea+0x1c99*0x1+-0x80*0x51,void(-0x5*-0x4a3+-0x14dd+0x16*-0x1b),Re,!(0x21c5+0x217a+-0x433e)),_0x4f8d4c['setVertexS'+'tream'](Fo,_0x2c49f9['shadows'],-0x1f00+0x5c1*0x5+0xe*0x29,void(-0xd*0xc7+-0x2e7*-0x5+-0x468),Re,!(0x1578+-0x863+-0x12*0xba)),_0x4f8d4c['update'](),_0x4f8d4c;}const fg=/^[\r\n]$/,RR=/^[ \t]$/,pg=/^[ \t\-]|\u200b$/,IR=/^[a-z0-9]$/i,mg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,DR=/^[]$/,LR=['','','','','','','','','','','','',''],FR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},_g=new Y(),kR=new W(),De=new Y();class OR{constructor(_0x3b47f5){this['_element']=_0x3b47f5,this['_system']=_0x3b47f5['system'],this['_entity']=_0x3b47f5['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new yR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x2691*0x1+0x2193+-0x4824),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(-0xb15+-0x1c3d+0x1*0x2753,0x11e2+-0x1f04+-0x461*-0x3,0x256*0xd+-0xc*-0xe2+-0x28f5,-0x12*-0x22a+-0x1532+-0x11c1),this['_colorUnif'+'orm']=new Float32Array(0xa58+0x18b0+-0x701*0x5),this['_spacing']=0x138f+-0x18fa+-0x15b*-0x4,this['_fontSize']=0x22*-0x91+-0x18bf+-0x403*-0xb,this['_fontMinY']=-0x1*-0x1e95+0x539+-0x11e7*0x2,this['_fontMaxY']=-0x1907+0xe5f+0xaa8,this['_originalF'+'ontSize']=-0x26cf*-0x1+-0x2072+-0x63d,this['_maxFontSi'+'ze']=-0x79*-0x3f+0x12ec+0x33d*-0xf,this['_minFontSi'+'ze']=-0x1a75+-0xf60+0x7*0x5fb,this['_autoFitWi'+'dth']=!(0x1*0xb2d+-0x1f79*-0x1+0x4bd*-0x9),this['_autoFitHe'+'ight']=!(0x1ec8+0x1999+-0x4*0xe18),this['_maxLines']=-(-0x1b5f+0x12dd+0x883),this['_lineHeigh'+'t']=0x69*-0x4a+-0x2b*0x5+0x1f51,this['_scaledLin'+'eHeight']=-0x176e*-0x1+0xe*-0x146+-0x57a,this['_wrapLines']=!(0x1*0xa49+0xdc3+-0x5*0x4cf),this['_drawOrder']=0x2*-0x982+0x10*0x137+-0x4*0x1b,this['_alignment']=new W(0xd*0xe8+0xb52*-0x1+-0x76*0x1+0.5,-0x28c+0x1a*0xa1+-0xdce+0.5),this['_autoWidth']=!(-0x109d+-0x3*-0xdb+0xe0c),this['_autoHeigh'+'t']=!(0x2a*0x4c+0x151c+-0x266*0xe),this['width']=-0xd*0x14e+0xd*-0xfa+0x1da8,this['height']=0x13cc+0xf2*-0xd+-0x782,this['_node']=new Oe(),this['_model']=new Ui(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x1974+-0x2*-0x407+-0x1*0x2182),this['_aabb']=new ve(),this['_noResize']=!(-0xd*-0x282+-0x3*0x88c+-0x6f5),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1*0x1652+-0x20*0x6+0x1713),this['_unicodeCo'+'nverter']=!(0x2169+0x1*-0x12b7+0xeb1*-0x1),this['_rtl']=!(-0x7d*0x14+-0x1f93+0x2958),this['_outlineCo'+'lor']=new Y(0x2*-0x835+-0x24b3*0x1+0x351d,-0x887*0x3+-0x599*0x6+0x3b2b,-0x20b1+0xd*-0xc1+0x25*0x126,0x16f+-0xed6+0xd68),this['_outlineCo'+'lorUniform']=new Float32Array(-0xcaa*0x2+0x23c9+0x3*-0x37b),this['_outlineTh'+'icknessSca'+'le']=0xbae+-0x2704+-0x2*-0xdab+0.2,this['_outlineTh'+'ickness']=0x1513+0x9d8+-0x1eeb,this['_shadowCol'+'or']=new Y(-0x10f8+0x9*0x416+-0x13ce,0xd*0x2b+-0x75a+0x1*0x52b,0xd0+0x4*0x7c4+-0x1fe0,-0x104*0x11+-0x2*0x97b+0x52d*0x7),this['_shadowCol'+'orUniform']=new Float32Array(-0x53*0x64+0x26cf+-0x1*0x65f),this['_shadowOff'+'setScale']=-0x693+-0x1012+0x1*0x16a5+0.005,this['_shadowOff'+'set']=new W(-0x2*-0x524+0x9*-0x3ef+-0x191f*-0x1,0x1679+-0x119d+-0x4dc),this['_shadowOff'+'setUniform']=new Float32Array(0x36d*-0x1+0x14d3+-0x1164),this['_enableMar'+'kup']=!(0x1877*0x1+0xf*-0xb1+-0xe17),this['_onScreenC'+'hange'](this['_element']['screen']),_0x3b47f5['on']('resize',this['_onParentR'+'esize'],this),_0x3b47f5['on']('set:screen',this['_onScreenC'+'hange'],this),_0x3b47f5['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x3b47f5['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x3b47f5['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x7e9+-0x1b47*-0x1+-0x2330,this['_rangeEnd']=0xe8b+-0x119f*0x1+0x314;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x36f1ff,_0x18107b){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x438636){_0x438636?this['_updateMat'+'erial'](_0x438636['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2*-0x3e5+0x1777+-0x1f40));}['_onScreenS'+'paceChange'](_0x513494){this['_updateMat'+'erial'](_0x513494);}['_onDrawOrd'+'erChange'](_0x3c4042){if(this['_drawOrder']=_0x3c4042,this['_model']){for(let _0x351940=0x71*-0x19+-0x2*0xbbe+-0x2285*-0x1,_0x3fc510=this['_model']['meshInstan'+'ces']['length'];_0x351940<_0x3fc510;_0x351940++)this['_model']['meshInstan'+'ces'][_0x351940]['drawOrder']=_0x3c4042;}}['_onPivotCh'+'ange'](_0x4f56ed){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x34454e){if(this['_i18nKey']){if(this['fontAsset']){const _0x50a49a=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x50a49a||!_0x50a49a['resource']||_0x50a49a['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x9daff,_0x2a1c65){this['_i18nKey']&&_0x2a1c65[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x1ab86a){if(this['unicodeCon'+'verter']){const _0x6aa836=this['_system']['getUnicode'+'Converter']();_0x6aa836?_0x1ab86a=_0x6aa836(_0x1ab86a):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x1ab86a&&(this['_font']&&this['_updateTex'+'t'](_0x1ab86a),this['_text']=_0x1ab86a);}['_updateTex'+'t'](_0x148151){let _0x87953b;if(_0x148151===void(-0x1*-0x1096+-0xce*-0x26+-0x1795*0x2)&&(_0x148151=this['_text']),this['_symbols']=dh['getSymbols'](_0x148151['normalize']?_0x148151['normalize']('NFC'):_0x148151),this['_symbols']['length']===-0x32f+-0x17b*0x2+0x625&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x62d1a7=CR['evaluate'](this['_symbols']);this['_symbols']=_0x62d1a7['symbols'],_0x87953b=_0x62d1a7['tags']||[];}if(this['_rtlReorde'+'r']){const _0x3d8c50=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x3d8c50){const _0x9f5930=_0x3d8c50(this['_symbols']);this['_rtl']=_0x9f5930['rtl'],this['_symbols']=_0x9f5930['mapping']['map'](function(_0x647585){return this['_symbols'][_0x647585];},this),_0x87953b&&(_0x87953b=_0x9f5930['mapping']['map'](_0x2eb1fe=>_0x87953b[_0x2eb1fe]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x185*0x7+-0x225f+0xa7*0x45);const _0x314f41=(_0x40fd43,_0x332ce3)=>_0x40fd43['toString'](!(0x457*0x2+-0x2414+0x1b66))['toLowerCas'+'e']()+':'+_0x332ce3['toFixed'](-0x2ca*0x3+-0x238f+0x17*0x1e9),_0x1528c6=(_0x29b937,_0x1f6c28)=>_0x29b937['toString'](!(0x120+-0x1366+-0x1246*-0x1))['toLowerCas'+'e']()+':'+_0x1f6c28['x']['toFixed'](-0x599+-0x3*-0x1dd+-0x2*-0x2)+':'+_0x1f6c28['y']['toFixed'](-0x1222+0x1d14+-0x2*0x578);if(_0x87953b){const _0xe1f066={},_0x1d55af={},_0xbee9c7={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x2329+-0x3a4+0x2*0x13e6)),Math['round'](this['_color']['g']*(-0x91+-0x257*0xd+0x1ffb)),Math['round'](this['_color']['b']*(-0x1484+0x571+0xf2*0x11))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x4ee*0x1+0x3a2+0x1*0x24b)),Math['round'](this['_outlineCo'+'lor']['g']*(0x1*-0x527+0x1*0x1c20+0x1*-0x15fa)),Math['round'](this['_outlineCo'+'lor']['b']*(-0xfc6*-0x2+0x253e+-0xd8f*0x5)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x7*0x32b+0x26*0xfa+-0xdf*0x10)),Math['round'](this['_outlineTh'+'ickness']*(-0x2332+-0xd*0x175+-0x1b91*-0x2))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1234+0xf9*-0x15+-0x8*-0x67)),Math['round'](this['_shadowCol'+'or']['g']*(0x260+-0x226+-0x1*-0xc5)),Math['round'](this['_shadowCol'+'or']['b']*(0x24*0x1+-0x17c4+0xbf*0x21)),Math['round'](this['_shadowCol'+'or']['a']*(0x1dc7+-0x116d*0x1+-0x13*0x99)),Math['round'](this['_shadowOff'+'set']['x']*(-0x3*0x180+-0x1633+0x76*0x3b)),Math['round'](this['_shadowOff'+'set']['y']*(-0x22d0*-0x1+-0x2405+-0xda*-0x2))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0xe1f066[this['_color']['toString'](!(0x1*-0x1522+-0x201f+0x3542))['toLowerCas'+'e']()]=-0x706+0x14c8+-0x2*0x6e1,_0x1d55af[_0x314f41(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x19cb*0x1+0x1*0x1c89+-0x3654,_0xbee9c7[_0x1528c6(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x1*0xa7f+-0x39e*0x1+-0xe1d*-0x1;for(let _0x34ea08=-0x6dc+0x6*0x65c+0x4*-0x7d3,_0x123ac=this['_symbols']['length'];_0x34ea08<_0x123ac;++_0x34ea08){const _0xccc47f=_0x87953b[_0x34ea08];let _0x50f893=-0x61*-0x29+0x259*-0xe+0x1155;if(_0xccc47f&&_0xccc47f['color']&&_0xccc47f['color']['value']){const _0x14e978=_0xccc47f['color']['value'];if(_0x14e978['length']===0xfb0*-0x2+0xb9b+0x13cc&&_0x14e978[-0x128c+-0x1*-0x2285+-0xff9]==='#'){const _0x1a44c9=_0x14e978['substring'](0x7d*0x27+-0x1be2+-0x8*-0x11b)['toLowerCas'+'e']();_0xe1f066['hasOwnProp'+'erty'](_0x1a44c9)?_0x50f893=_0xe1f066[_0x1a44c9]:/^[0-9a-f]{6}$/['test'](_0x1a44c9)&&(_0x50f893=this['_colorPale'+'tte']['length']/(-0xee4+-0xef6+0x5*0x5f9),_0xe1f066[_0x1a44c9]=_0x50f893,this['_colorPale'+'tte']['push'](parseInt(_0x1a44c9['substring'](-0x63b+0x12d5*0x1+0xc9a*-0x1,0xd4a+-0x2*-0x1343+-0x2ba*0x13),0x779*0x1+0xb8d*0x1+-0x12f6)),this['_colorPale'+'tte']['push'](parseInt(_0x1a44c9['substring'](-0x8e0+-0x49*0x3d+0x1a47,-0x9*-0x33b+-0xb6*-0x17+-0x915*0x5),0x4*0x368+-0xbe1+-0x1af*0x1)),this['_colorPale'+'tte']['push'](parseInt(_0x1a44c9['substring'](0x150b+0xf3*-0x1b+-0x49a*-0x1,-0x1*-0x1bd1+0x8eb*0x3+-0x368c),0x1a5*-0xb+-0x4*0x22a+0x1acf*0x1)));}}this['_symbolCol'+'ors']['push'](_0x50f893);let _0x34e1b6=0x2125+0x21*0xc2+-0x1*0x3a27;if(_0xccc47f&&_0xccc47f['outline']&&(_0xccc47f['outline']['attributes']['color']||_0xccc47f['outline']['attributes']['thickness'])){let _0x5783b6=_0xccc47f['outline']['attributes']['color']?_g['fromString'](_0xccc47f['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x125c23=Number(_0xccc47f['outline']['attributes']['thickness']);(Number['isNaN'](_0x5783b6['r'])||Number['isNaN'](_0x5783b6['g'])||Number['isNaN'](_0x5783b6['b'])||Number['isNaN'](_0x5783b6['a']))&&(_0x5783b6=this['_outlineCo'+'lor']),Number['isNaN'](_0x125c23)&&(_0x125c23=this['_outlineTh'+'ickness']);const _0x51cc5f=_0x314f41(_0x5783b6,_0x125c23);_0x1d55af['hasOwnProp'+'erty'](_0x51cc5f)?_0x34e1b6=_0x1d55af[_0x51cc5f]:(_0x34e1b6=this['_outlinePa'+'lette']['length']/(0x554+-0x2595+-0x6*-0x561),_0x1d55af[_0x51cc5f]=_0x34e1b6,this['_outlinePa'+'lette']['push'](Math['round'](_0x5783b6['r']*(0x1877+0x68*0x10+-0x1df8)),Math['round'](_0x5783b6['g']*(0x12be+-0x191+-0x6d*0x26)),Math['round'](_0x5783b6['b']*(0x1331+0x1e6a+-0x309c)),Math['round'](_0x5783b6['a']*(-0x1*-0x1747+0x2*0xf25+0x1*-0x3492)),Math['round'](_0x125c23*(-0x10fe+-0x26cf+0x4*0xe33))));}this['_symbolOut'+'lineParams']['push'](_0x34e1b6);let _0x322e03=-0x1c25+0x1*-0xc5b+-0x8*-0x510;if(_0xccc47f&&_0xccc47f['shadow']&&(_0xccc47f['shadow']['attributes']['color']||_0xccc47f['shadow']['attributes']['offset']||_0xccc47f['shadow']['attributes']['offsetX']||_0xccc47f['shadow']['attributes']['offsetY'])){let _0x3c9a0d=_0xccc47f['shadow']['attributes']['color']?_g['fromString'](_0xccc47f['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x401297=Number(_0xccc47f['shadow']['attributes']['offset']),_0x1a3d73=Number(_0xccc47f['shadow']['attributes']['offsetX']),_0x13b4fd=Number(_0xccc47f['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x3c9a0d['r'])||Number['isNaN'](_0x3c9a0d['g'])||Number['isNaN'](_0x3c9a0d['b'])||Number['isNaN'](_0x3c9a0d['a']))&&(_0x3c9a0d=this['_shadowCol'+'or']);const _0x7598a1=kR['set'](Number['isNaN'](_0x1a3d73)?Number['isNaN'](_0x401297)?this['_shadowOff'+'set']['x']:_0x401297:_0x1a3d73,Number['isNaN'](_0x13b4fd)?Number['isNaN'](_0x401297)?this['_shadowOff'+'set']['y']:_0x401297:_0x13b4fd),_0x5d3664=_0x1528c6(_0x3c9a0d,_0x7598a1);_0xbee9c7['hasOwnProp'+'erty'](_0x5d3664)?_0x322e03=_0xbee9c7[_0x5d3664]:(_0x322e03=this['_shadowPal'+'ette']['length']/(0x3*0xc1f+0x1e3b*0x1+-0x1*0x4292),_0xbee9c7[_0x5d3664]=_0x322e03,this['_shadowPal'+'ette']['push'](Math['round'](_0x3c9a0d['r']*(-0x12*0xf1+-0x99e+0x5*0x583)),Math['round'](_0x3c9a0d['g']*(-0x1c*-0xfb+-0x2376+0x901)),Math['round'](_0x3c9a0d['b']*(-0x168e*-0x1+-0xb7*-0xe+-0x1f91)),Math['round'](_0x3c9a0d['a']*(0x15f3*0x1+-0x21a3+0xcaf)),Math['round'](_0x7598a1['x']*(-0x6f*-0x25+0xa12+-0x199e)),Math['round'](_0x7598a1['y']*(0xe*-0x11f+0x2071*-0x1+0x96*0x53))));}this['_symbolSha'+'dowParams']['push'](_0x322e03);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x382859=this['_calculate'+'CharsPerTe'+'xture']();let _0x160f16=!(0x1b*0x5b+0x133f+-0x99d*0x3);const _0x41ce44=this['_element'],_0x5a7c31=_0x41ce44['_isScreenS'+'pace'](),_0xf18fc6=_0x41ce44['_isScreenC'+'ulled'](),_0x3d131f=function(_0x3de2f0){return _0x41ce44['isVisibleF'+'orCamera'](_0x3de2f0);};for(let _0x357515=-0x14f4+-0x1d*-0x55+-0xd*-0xdf,_0x36f69d=this['_meshInfo']['length'];_0x357515<_0x36f69d;_0x357515++){const _0x2f76a1=_0x382859[_0x357515]||0x20*-0x8a+-0x409*0x4+0x2164,_0x1dca50=this['_meshInfo'][_0x357515];if(_0x1dca50['count']!==_0x2f76a1){if(_0x160f16||(_0x41ce44['removeMode'+'lFromLayer'+'s'](this['_model']),_0x160f16=!(-0x4*0x93+-0x12d5+-0x9*-0x259)),_0x1dca50['count']=_0x2f76a1,_0x1dca50['positions']['length']=_0x1dca50['normals']['length']=_0x2f76a1*(-0x12d5*0x1+0x1*-0x21d2+-0xe*-0x3c3)*(-0x1fb5*0x1+0x1c0+0x1df9),_0x1dca50['indices']['length']=_0x2f76a1*(0x2a6*-0xe+-0x5e5*-0x2+0x194d)*(0x2*-0x27c+0x9bf*-0x1+0xeb9),_0x1dca50['uvs']['length']=_0x2f76a1*(-0x1527+0x13a0+0x189)*(-0xb0f*0x1+0x4*0x665+0x2f*-0x4f),_0x1dca50['colors']['length']=_0x2f76a1*(-0x118d*0x1+0x1*0x1be+0x1*0xfd3)*(0x937*-0x1+-0x126a+0x1ba5),_0x1dca50['outlines']['length']=_0x2f76a1*(-0xda8+-0x1*0x255e+0x330a)*(-0xf*-0xa1+0x1993+0x11*-0x20f),_0x1dca50['shadows']['length']=_0x2f76a1*(-0x91*-0x13+-0x10c6+0x607*0x1)*(-0x19*0x183+0x154c+0x1082),_0x1dca50['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x1dca50['meshInstan'+'ce']),_0x2f76a1===0x237+-0x1a3b+0x1804){_0x1dca50['meshInstan'+'ce']=null;continue;}for(let _0x304261=-0x1*-0x1b8b+0x10e6+-0x1*0x2c71;_0x304261<_0x2f76a1;_0x304261++)_0x1dca50['indices'][_0x304261*(0x1*0x2502+0x1*-0x12e7+-0x1218)*(-0x253d+-0xd5c+0x329b)+(0x47*-0x41+-0x8*-0x427+0xf31*-0x1)]=_0x304261*(0x784+0x674+-0xdf4),_0x1dca50['indices'][_0x304261*(-0x1e8e+-0x3*-0x229+0x1816)*(-0x11b1+-0x23d*0x4+0x1aa7*0x1)+(0x202*0x9+0x1b66*0x1+-0x2d77*0x1)]=_0x304261*(0x1b30+0x6*0x4cc+0x2*-0x1bfa)+(-0x1539+-0x44b*-0x4+0xad*0x6),_0x1dca50['indices'][_0x304261*(-0x846*-0x1+-0x263d*-0x1+-0x2e80)*(0x1f07+-0x20*0x92+0x7*-0x1d3)+(-0x1adc+0x11cf+0x1*0x90f)]=_0x304261*(0xfa2+-0x91+-0xf0d*0x1)+(-0x5c9*0x3+0x1*0x3a+0x1124),_0x1dca50['indices'][_0x304261*(0x2095+0x3*-0x51b+-0x1*0x1141)*(0xf8f*-0x1+0x1be2+-0x1*0xc51)+(-0x7*0x269+0x6*0x621+-0x13e4)]=_0x304261*(-0x20e5+0x6*0x2df+0x1*0xfaf)+(-0x1199+0x21bb+-0x1020),_0x1dca50['indices'][_0x304261*(0x1318+-0x1*-0x1a5+0x17b*-0xe)*(-0x1b69*0x1+0xa01+0x3*0x5ce)+(0xd3*0x11+0x1709+-0x2508)]=_0x304261*(0x119*-0xd+-0x1e13+0x2c5c)+(0x1232*0x1+-0x1*-0x160d+-0x283c),_0x1dca50['indices'][_0x304261*(-0x2*0x121f+-0x5a*-0x5d+-0x38f*-0x1)*(-0x1e41*-0x1+0x4b4+-0x22f3)+(0x942+0xc*-0x25+-0x71*0x11)]=_0x304261*(-0x1*-0x154f+0x44a+-0x1995)+(0x586+0x25*-0xa7+0x1*0x129e),_0x1dca50['normals'][_0x304261*(0x7*-0x44d+0x1*-0x14f8+0x3317)*(0x532+-0x11d6+-0x4f*-0x29)+(-0x1746+0x63d+0x1109)]=0x3d1+0x17fa+-0x1bcb,_0x1dca50['normals'][_0x304261*(-0xc1+-0x8c*0xb+-0x3*-0x243)*(-0x97*-0x15+0x8*0x44a+-0x2eb0)+(-0x1d75*-0x1+-0x2*-0x904+-0x6*0x7ea)]=-0xac1*0x1+0x1*-0x1292+0x1d53,_0x1dca50['normals'][_0x304261*(0x1*0xd29+0xa3*0x1d+-0x1f9c)*(-0xe2f+0x10*0x1ec+-0x108e)+(-0x1213*0x2+0x595*0x2+0xc7f*0x2)]=-(-0x1376+-0x8*-0x79+0xfaf),_0x1dca50['normals'][_0x304261*(0x1b84+0x502+0x3*-0xad6)*(-0x9b5*-0x3+-0x1*0x129a+-0xa82)+(-0x1205+0x16da+-0x4d2)]=-0x709+-0x18e7+0x1ff0,_0x1dca50['normals'][_0x304261*(0x205f+-0xfe8+0x1*-0x1073)*(0x26b5+0x165e+-0x1e88*0x2)+(0x4*-0x3cf+-0xa17+0x1957)]=-0x134e+0x202c+-0xcde,_0x1dca50['normals'][_0x304261*(0x9de+0x24fe+-0x2ed8)*(0x11*0x8a+0x61*-0x29+0x662)+(0x49*0x49+0xe4e+-0x2*0x118d)]=-(-0x1a3d*-0x1+-0x2cf*-0x5+0xd6d*-0x3),_0x1dca50['normals'][_0x304261*(-0x692+-0x2615+0x1*0x2cab)*(0x1*0x60d+0x1ba5+-0x21af)+(-0x15d3+0x1d3e*0x1+0x3*-0x277)]=-0x1*-0x5cf+-0x1288+0xcb9,_0x1dca50['normals'][_0x304261*(0xd*0x13d+0x1*0x17a6+-0x27bb)*(0x212b+0x214+-0xb*0x334)+(0x78c+0xabc*0x3+0x1*-0x27b9)]=-0x2*-0x9e4+-0x1*0x1c4b+0x1*0x883,_0x1dca50['normals'][_0x304261*(0x20a8+-0x1621+-0x75*0x17)*(0x557+-0x4*-0x436+0x56*-0x42)+(-0x7f0+0x265*0xc+-0x6*0x376)]=-(-0x541+0x266c+0x3*-0xb0e),_0x1dca50['normals'][_0x304261*(-0xc5f*-0x1+-0x1177+0x2*0x28e)*(0x934*-0x3+-0x627+-0x21c6*-0x1)+(0xbd*-0x7+0x485+0xaf)]=0x4*-0x155+-0x108b+-0x15df*-0x1,_0x1dca50['normals'][_0x304261*(0x1*0x1f85+0x19a2+-0x3923)*(0x4b+0xd*-0x231+0x1c35)+(-0x2147+-0x12d*-0x1d+0xa*-0x14)]=0x138c+-0x2603+0x1277,_0x1dca50['normals'][_0x304261*(0x1aa7+-0x1416+0x27*-0x2b)*(0x1*-0x1ef7+-0x143b*-0x1+0xabf)+(-0x1*0x20b1+-0x212+0x22ce)]=-(0x1e6f+-0xeed+0x52b*-0x3);const _0x11c110=PR(this['_system']['app']['graphicsDe'+'vice'],_0x1dca50),_0x2fba3d=new Be(_0x11c110,this['_material'],this['_node']);if(_0x2fba3d['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x2fba3d['castShadow']=!(0x127d*-0x2+0x7*0x30e+0xf99),_0x2fba3d['receiveSha'+'dow']=!(0xfec*-0x2+-0xb*0x52+0x235f),_0x2fba3d['cull']=!_0x5a7c31,_0x2fba3d['screenSpac'+'e']=_0x5a7c31,_0x2fba3d['drawOrder']=this['_drawOrder'],_0xf18fc6&&(_0x2fba3d['cull']=!(-0x24b7+-0x4eb*0x4+0x3863),_0x2fba3d['isVisibleF'+'unc']=_0x3d131f),this['_setTextur'+'eParams'](_0x2fba3d,this['_font']['textures'][_0x357515]),_0x2fba3d['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x2fba3d['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x2fba3d['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2fba3d['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2fba3d['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x357515]['width']),_0x2fba3d['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x2fba3d['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x2fba3d['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][-0x145*0xd+0x1624+-0x6f*0xd]=-0x8*0x4a3+0x197*-0x2+-0x2*-0x1423,this['_shadowOff'+'setUniform'][0x1fa1+-0xbe1+-0x13bf]=0x79*0x17+-0x6ef+0x3f0*-0x1;else{const _0x5ad325=-this['_font']['data']['info']['maps'][_0x357515]['width']/this['_font']['data']['info']['maps'][_0x357515]['height'];this['_shadowOff'+'setUniform'][0x21c+0x1a57+-0x1c73]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x1*-0x19f8+0x2490+0x1*-0xa97]=_0x5ad325*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x2fba3d['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x1dca50['meshInstan'+'ce']=_0x2fba3d,this['_model']['meshInstan'+'ces']['push'](_0x2fba3d);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x160f16&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=-0x216d+0xefd+-0x3b0*-0x5,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x83a520){_0x83a520['destroy']();const _0x3f203a=this['_model']['meshInstan'+'ces']['indexOf'](_0x83a520);_0x3f203a!==-(-0x12c2+-0x2146+0x3409)&&this['_model']['meshInstan'+'ces']['splice'](_0x3f203a,-0x11b*0x1f+-0xd*-0x81+0x1bb9);}['_setMateri'+'al'](_0x2129ac){if(this['_material']=_0x2129ac,this['_model'])for(let _0x512866=-0x3*-0x511+0x1257+-0x36*0x9f,_0x372895=this['_model']['meshInstan'+'ces']['length'];_0x512866<_0x372895;_0x512866++){const _0x245e30=this['_model']['meshInstan'+'ces'][_0x512866];_0x245e30['material']=_0x2129ac;}}['_updateMat'+'erial'](_0x201c36){const _0x13c72f=this['_element'],_0x46340e=_0x13c72f['_isScreenC'+'ulled'](),_0x510c73=function(_0x1abbf5){return _0x13c72f['isVisibleF'+'orCamera'](_0x1abbf5);},_0x812215=this['_font']&&this['_font']['type']===tc;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x201c36,_0x812215,this['_enableMar'+'kup']),this['_model'])for(let _0x16ed54=-0x22d+0x8*-0x76+0x5dd,_0x20d049=this['_model']['meshInstan'+'ces']['length'];_0x16ed54<_0x20d049;_0x16ed54++){const _0x3e9da8=this['_model']['meshInstan'+'ces'][_0x16ed54];_0x3e9da8['cull']=!_0x201c36,_0x3e9da8['material']=this['_material'],_0x3e9da8['screenSpac'+'e']=_0x201c36,_0x46340e?(_0x3e9da8['cull']=!(-0xa2*-0x11+0x1*0x1893+-0x2355),_0x3e9da8['isVisibleF'+'unc']=_0x510c73):_0x3e9da8['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][-0x14d6+-0x5b4*-0x4+-0x16*0x17]=0x9b5+0x1bbf+0x1*-0x2573,this['_colorUnif'+'orm'][-0x19eb*0x1+-0xa42+-0x16*-0x1a5]=0x18d*-0x8+0x15dd+-0x974,this['_colorUnif'+'orm'][0x13de*0x1+0x555+-0x1*0x1931]=0x16c8+0x22f0+-0x39b7):(De['linear'](this['_color']),this['_colorUnif'+'orm'][-0xd7*0x1c+-0xd*-0x287+-0x957]=De['r'],this['_colorUnif'+'orm'][0x253d+-0x1f92+-0x5aa]=De['g'],this['_colorUnif'+'orm'][-0x76d*-0x2+0x664+-0x153c]=De['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x2486+0x16f5+-0x3b7b]=-0x142b+-0x22f*0x10+0x371b,this['_outlineCo'+'lorUniform'][0x1d0c+0x1c4+-0x2cd*0xb]=0x1*0x233+-0x16f7+0x14c4,this['_outlineCo'+'lorUniform'][-0x31c+-0x1ae9*0x1+-0x1e07*-0x1]=0x7*-0x1d1+-0x26f7+0x33ae,this['_outlineCo'+'lorUniform'][-0x1650+-0xa8+-0x3*-0x7a9]=-0x4*0x52d+0x996+0x3b5*0x3):(De['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1a*0x5+0x178e+-0x170c]=De['r'],this['_outlineCo'+'lorUniform'][-0xaca*0x1+0x14b5*0x1+-0x8d*0x12]=De['g'],this['_outlineCo'+'lorUniform'][0x49e*0x1+0xb*0x217+-0x1b99]=De['b'],this['_outlineCo'+'lorUniform'][-0x1710+0x416+0x12fd]=De['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x157e+-0xd*-0x166+0x350]=0xfb*0x5+-0x47*-0x2+-0x575,this['_shadowCol'+'orUniform'][0x1c0b+-0x1c+-0x1bee]=-0x919*-0x4+-0x2392+-0xd2,this['_shadowCol'+'orUniform'][0x2598+-0x12b3+-0x12e3]=0x1571+-0x13*0x19b+-0x1d*-0x50,this['_shadowCol'+'orUniform'][-0x823+0x633+0x1f3]=0x1809*0x1+-0x3fd+0xa06*-0x2):(De['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x18e5+-0x3e5+-0xe0*0x18]=De['r'],this['_shadowCol'+'orUniform'][-0x168*0xe+-0x13e4+0x2795]=De['g'],this['_shadowCol'+'orUniform'][-0xa05+-0x2103+-0xe*-0x313]=De['b'],this['_shadowCol'+'orUniform'][0x21aa+-0x5e5+0x22*-0xd1]=De['a']);}['_isWordBou'+'ndary'](_0x5e6fda){return pg['test'](_0x5e6fda);}['_isValidNe'+'xtChar'](_0x250b43){return _0x250b43!==null&&!DR['test'](_0x250b43);}['_isNextCJK'+'Boundary'](_0x5114c8,_0x2d708a){return mg['test'](_0x5114c8)&&(pg['test'](_0x2d708a)||IR['test'](_0x2d708a));}['_isNextCJK'+'WholeWord'](_0x272e0a){return mg['test'](_0x272e0a);}['_updateMes'+'hes'](){const _0x41031c=this['_font']['data'],_0x1374de=this,_0x277971=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x51d323=this['_maxFontSi'+'ze'],_0x39fde0=this['_shouldAut'+'oFit']();_0x39fde0&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x1a6565=0x1797+-0x1ae3*-0x1+0x509*-0xa,_0x4995dc=this['_symbols']['length'];let _0x28a265=-0x1*0x1e5b+-0x235*0x1+0x10*0x209,_0x3dca33=-0xb3*0x2f+0x1e16+0x2c7,_0x179322=0x775+0xa4b+-0x11c0,_0x2240b3=0x22be+-0xf9*-0x3+-0x25a9,_0x91e7a4=0xb26+-0x15*0xb3+-0x2*-0x1c5,_0x27f561=-0xa2b+-0x143e*0x1+0x1e69,_0x444103=-0x1c6c+-0x2*0x44+0x1cf4,_0x15dc02=0x18bd+0x439+0x1cf6*-0x1,_0x4df50b=-0x3*-0x8a3+0x14*0x1e4+-0x3fb9*0x1,_0x29d4cc=0x1292+0x1537+-0x27c9,_0x15b641=0x1057+0xa2f+-0x2a7*0xa;const _0x5690ed=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x8*-0x238+-0x1*0x26b5+0x1d*0xb9+0.0001;let _0x1030eb=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x5690ed||!this['_wrapLines'])&&(_0x1030eb=Number['POSITIVE_I'+'NFINITY']);let _0x5dd437=-0xb60+-0x4b+0x1*0xbab,_0xcc884e=-0x8d0+0xf7a+-0x6aa,_0x443c1f,_0x317954,_0x56f7f5,_0x1d62fc;function _0x3d6df8(_0x48e260,_0x1c7531,_0x530a18){_0x1374de['_lineWidth'+'s']['push'](Math['abs'](_0x530a18));const _0x5e50bb=_0x15dc02>_0x1c7531?_0x1c7531+(-0x67*0x6+0x168c+-0x1421):_0x15dc02,_0x1e73b7=_0x15dc02>_0x1c7531?_0x15dc02+(0x457*0x7+0x16e*-0x4+-0x18a8):_0x1c7531,_0x2d95b1=_0x48e260['slice'](_0x5e50bb,_0x1e73b7);if(_0x15b641){let _0x314838=_0x2d95b1['length'];for(;_0x314838--&&_0x15b641>-0x5*0x354+0x1*0x17cc+0xe5*-0x8;)fg['test'](_0x2d95b1[_0x314838])&&(_0x2d95b1['splice'](_0x314838,0x27*-0xf9+0x1*-0x24cd+0x4abd),_0x15b641--);}_0x1374de['_lineConte'+'nts']['push'](_0x2d95b1['join']('')),_0x28a265=-0x1b41+-0x1eb5+0x39f6,_0x3dca33-=_0x1374de['_scaledLin'+'eHeight'],_0x91e7a4++,_0x4df50b=-0x1c0e+0x1e55+-0x247,_0x29d4cc=0x1595+-0x2028+-0xa93*-0x1,_0x15b641=0x24e2+-0x254b*-0x1+-0x4a2d*0x1,_0x27f561=-0xdb0+0x4b8*-0x1+-0x8*-0x24d,_0x15dc02=_0x1c7531;}let _0x12a103=!(0xef*0x3+0x12aa+0x5*-0x44b);for(;_0x12a103;){_0x12a103=!(0x32b*0x7+-0x106b*-0x1+0xcdd*-0x3),_0x39fde0?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x24af+0x25e0+-0x131+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x3*0x7ca+-0x2e*0xd0+0xe02,this['height']=0xb*0x1eb+0x3*0x1d5+-0xd4c*0x2,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x28a265=0x8bf*0x2+-0xe*-0x6f+-0x1790,_0x3dca33=0x1ba7+0xa4*0x39+-0x402b*0x1,_0x179322=-0x2*-0x10c1+0xbc7+0x2d49*-0x1,_0x2240b3=0x131a+-0x5f*-0x65+-0x3895,_0x91e7a4=-0x3b3*-0x8+-0x595*0x4+-0x743,_0x27f561=0x78d+-0xe1e*0x2+0x1*0x14af,_0x444103=-0x2*0x337+-0x247d+0x2aeb*0x1,_0x15dc02=0x2*-0x3e5+-0x7c2+0xf8c,_0x4df50b=0xad*-0x29+0x1*-0xf8d+0x2b42,_0x29d4cc=-0x19fc+0x93*0x21+-0x709*-0x1,_0x15b641=-0x20d9+0x170e+-0x9cb*-0x1;const _0x135397=this['_fontSize']/_0x1a6565;_0x5dd437=this['_fontMinY']*_0x135397,_0xcc884e=this['_fontMaxY']*_0x135397;for(let _0x41cf5c=-0x3c*0x36+0x1f1c+0x93a*-0x2;_0x41cf5c<this['_meshInfo']['length'];_0x41cf5c++)this['_meshInfo'][_0x41cf5c]['quad']=-0x2285*-0x1+-0x3b*0x4f+-0x30*0x57,this['_meshInfo'][_0x41cf5c]['lines']={};let _0x4c5586=-0xe4+-0x1*0x533+0x716*0x1,_0x477e7f=0x15af+-0x1036+-0x47a,_0x11ed16=-0xe83+0x5d4+0x9ae,_0x3e17c3=-0x8f5+-0x3*0x27f+-0x37d*-0x5+(-0x1dbb+0x1418+-0x1*-0xaa2)*(-0x1f3a*-0x1+-0x255*-0x2+-0x22e4),_0x2555a9=0x1289+-0x78b*-0x5+0x29*-0x159+(0x74c+-0x202d+0x19e0)*(0x2*0x129a+-0xfa3+0x87*-0x27),_0x172fd5=0x17ea+-0xa7*0x2e+-0x3c*-0x1a,_0x3a1897=-0x3f3*-0x1+0xc+-0x300+(-0x6*0x4b2+-0xf8+0x1e23*0x1)*(-0xcd7*0x2+-0x799*-0x3+0x1*0x3e3),_0x464675=-0xbef+0xef3+-0x205+(-0xa*0x23f+-0x2323*-0x1+-0xbae*0x1)*(0x8a7*-0x2+-0x1cb+0x1419),_0x112021=-0x78*-0x14+0x11c6+-0x1aa7+(0x6b*-0x1e+-0x712+0x141b)*(0x45e+-0x16*-0x18b+-0x2550);for(let _0x5936aa=0x8b7+0x1205+-0x1abc;_0x5936aa<_0x4995dc;_0x5936aa++){if(_0x443c1f=this['_symbols'][_0x5936aa],_0x1d62fc=_0x5936aa+(0x1*0x14d7+-0x11*0xe8+-0x56e)>=_0x4995dc?null:this['_symbols'][_0x5936aa+(-0xa3e+-0x2*-0xd2e+0x7d*-0x21)],fg['test'](_0x443c1f)){_0x15b641++,(!this['_wrapLines']||this['_maxLines']<0xe5*0xb+-0x153+-0x884||_0x91e7a4<this['_maxLines'])&&(_0x3d6df8(this['_symbols'],_0x5936aa,_0x2240b3),_0x444103=_0x5936aa+(-0xbb7*-0x3+0x1e2a+-0x414e*0x1),_0x15dc02=_0x5936aa+(0x7b*0xf+-0x1def+0x16bb));continue;}let _0x1cf19a=0xa76*0x1+0x2658+-0x30ce,_0xb261e6=0x7*-0x3+0x21ae+-0xb33*0x3,_0x5ba1e3=-0x6*0x2f9+-0x24ba+0x3690,_0x48dbc2=0xd2+0x1295+0x2*-0x9b3,_0x4d44b8,_0x1edae5;if(_0x317954=_0x41031c['chars'][_0x443c1f],!_0x317954){if(LR['indexOf'](_0x443c1f)!==-(0x1*0x26c6+0x31*-0x7f+-0xe76))_0x317954=FR;else{if(_0x41031c['chars']['\x20'])_0x317954=_0x41031c['chars']['\x20'];else for(const _0x509995 in _0x41031c['chars']){_0x317954=_0x41031c['chars'][_0x509995];break;}_0x41031c['missingCha'+'rs']||(_0x41031c['missingCha'+'rs']=new Set()),_0x41031c['missingCha'+'rs']['has'](_0x443c1f)||(console['warn']('Character\x20'+'\x27'+_0x443c1f+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x41031c['info']['face']),_0x41031c['missingCha'+'rs']['add'](_0x443c1f));}}if(_0x317954){let _0x283926=-0x25a8+-0x329+0x81*0x51;if(_0x29d4cc>-0xf5+0x125*0x15+-0x1714){const _0x4bb7c3=this['_font']['data']['kerning'];if(_0x4bb7c3){const _0x30ef54=_0x4bb7c3[dh['getCodePoi'+'nt'](this['_symbols'][_0x5936aa-(-0x2ad*0xb+0x2007+-0x297)])||0x246a+-0x4fc*-0x1+-0x2966];_0x30ef54&&(_0x283926=_0x30ef54[dh['getCodePoi'+'nt'](this['_symbols'][_0x5936aa])||-0xe42+0x15bb+0x779*-0x1]||-0x1*-0xdd5+0x31*-0x31+-0x11d*0x4);}}_0x4d44b8=_0x317954['scale']||0x1fa2+-0x1d47+-0x25a,_0x1edae5=(_0x317954['width']+_0x317954['height'])/(-0x85*0x2+0xe55+-0xd49),_0x48dbc2=_0x135397*_0x1edae5/_0x4d44b8,_0x5ba1e3=(_0x317954['xadvance']+_0x283926)*_0x135397,_0x1cf19a=(_0x317954['xoffset']-_0x283926)*_0x135397,_0xb261e6=_0x317954['yoffset']*_0x135397;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x443c1f+'\x27');const _0x27320e=RR['test'](_0x443c1f),_0x3dff40=_0x317954&&_0x317954['map']||0x229c+0x1b2*-0x5+0xd11*-0x2,_0x346fc2=-this['_font']['data']['info']['maps'][_0x3dff40]['width']/this['_font']['data']['info']['maps'][_0x3dff40]['height'],_0x4dcd3c=this['_meshInfo'][_0x3dff40],_0x5402f8=_0x28a265+this['_spacing']*_0x5ba1e3;if(_0x5402f8>_0x1030eb&&_0x29d4cc>0x1f3+0x5d5+-0x7c8&&!_0x27320e&&(this['_maxLines']<0x1d88+0x56*-0x50+-0x2a8||_0x91e7a4<this['_maxLines'])){if(_0x4df50b===0x1*0x1604+0x11*0x1f3+0x1*-0x3727)_0x444103=_0x5936aa,_0x3d6df8(this['_symbols'],_0x5936aa,_0x2240b3);else{const _0x57e107=Math['max'](_0x5936aa-_0x444103,0x1309+0x22df*-0x1+0xfd6);if(this['_meshInfo']['length']<=-0x19ec+0x494*0x1+0x1559*0x1)_0x4dcd3c['lines'][_0x91e7a4-(-0x1652+-0xb2*-0x20+-0x13*-0x1)]-=_0x57e107,_0x4dcd3c['quad']-=_0x57e107;else{const _0x295489=_0x444103,_0x227cfa=_0x5936aa;for(let _0x481a7c=_0x295489;_0x481a7c<_0x227cfa;_0x481a7c++){const _0x7844c4=this['_symbols'][_0x481a7c],_0x175f18=_0x41031c['chars'][_0x7844c4],_0xabb217=this['_meshInfo'][_0x175f18&&_0x175f18['map']||-0x2198+-0x2*-0x1f1+-0x1*-0x1db6];_0xabb217['lines'][_0x91e7a4-(-0x2*-0x17f+0x1305+-0x2*0xb01)]-=0xfdb+0x20dd+-0x103d*0x3,_0xabb217['quad']-=0x4*-0x8fd+0x1*-0x5b5+0x2*0x14d5;}}_0x5936aa-=_0x57e107+(0x1f94+-0x216e+0x1db),_0x3d6df8(this['_symbols'],_0x444103,_0x27f561);continue;}}_0x56f7f5=_0x4dcd3c['quad'],_0x4dcd3c['lines'][_0x91e7a4-(-0x585*-0x7+-0xf*-0x1e5+-0x430d)]=_0x56f7f5;let _0x45bef1=_0x28a265-_0x1cf19a,_0x289127=_0x45bef1+_0x48dbc2;const _0x3c1370=_0x3dca33-_0xb261e6,_0x2bab24=_0x3c1370+_0x48dbc2;if(this['_rtl']){const _0x26bd13=_0x48dbc2-_0x1cf19a-this['_spacing']*_0x5ba1e3-_0x1cf19a;_0x45bef1-=_0x26bd13,_0x289127-=_0x26bd13;}_0x4dcd3c['positions'][_0x56f7f5*(0xb9*0x26+0xd59+0xd99*-0x3)*(-0x171+-0x25e5+0x2759)+(0x5b6+-0x12bf*-0x2+0x46*-0x9e)]=_0x45bef1,_0x4dcd3c['positions'][_0x56f7f5*(-0x1cba+0x1d67+-0xa9)*(-0x237b*-0x1+-0x16c+0x2*-0x1106)+(0x7*0x14e+-0x35f*0x1+-0x1*0x5c2)]=_0x3c1370,_0x4dcd3c['positions'][_0x56f7f5*(0x189a+-0x16b+-0x172b)*(-0x6f4+-0x6*-0x405+0x1*-0x1127)+(0x7f*0x39+-0xe5b+-0xdea)]=_0x179322,_0x4dcd3c['positions'][_0x56f7f5*(0x265d+0xaa1+-0x30fa)*(-0xaf1*0x1+0x774+-0x7*-0x80)+(0xd95+0x226d+-0x2fff)]=_0x289127,_0x4dcd3c['positions'][_0x56f7f5*(0x14eb+-0x13d*-0xe+0xd*-0x2f1)*(0x59c+-0x3*0x5a1+0xb4a)+(0x2082+-0xd1*-0x22+-0x3c40)]=_0x3c1370,_0x4dcd3c['positions'][_0x56f7f5*(0x13e9+-0xd9c+-0x649)*(0x32*0x9+-0x1a*0x19+0xcb)+(0x1fac+-0x1df*-0xb+-0xd0f*0x4)]=_0x179322,_0x4dcd3c['positions'][_0x56f7f5*(-0x11c0+0x8c5+0x8ff)*(-0xe54+-0x9dc+0x811*0x3)+(-0x113a+-0x20a0+0x2a*0x130)]=_0x289127,_0x4dcd3c['positions'][_0x56f7f5*(0x1*0x1be9+0x14*0x3+-0x17b*0x13)*(-0xcb9+-0x1*-0x7ae+-0x287*-0x2)+(0x4db+-0x61d+-0x7*-0x2f)]=_0x2bab24,_0x4dcd3c['positions'][_0x56f7f5*(-0x2*0x419+0x14*0x74+0x1*-0xda)*(-0x959+-0x6a*0x39+0x2*0x107b)+(-0x1f7b*-0x1+-0x1b*-0xde+-0x36dd*0x1)]=_0x179322,_0x4dcd3c['positions'][_0x56f7f5*(-0x6d*0x31+-0x1*-0x1de7+-0x906)*(0x8d2+0x3*0x97+0x54a*-0x2)+(0x1*0x1ec0+-0x2401*0x1+-0x2a5*-0x2)]=_0x45bef1,_0x4dcd3c['positions'][_0x56f7f5*(0x140*0x3+-0x166a*0x1+0x12ae)*(-0x7f*0x3b+-0x1*0x10ff+0x2e47*0x1)+(-0x83*0x40+-0xe01+-0xb*-0x441)]=_0x2bab24,_0x4dcd3c['positions'][_0x56f7f5*(-0x46c+0x27a*-0x3+-0x1f*-0x62)*(0xe*0x5b+0xcc5*0x3+-0x2b46)+(-0x21c5+0x241f+0x3*-0xc5)]=_0x179322,this['width']=Math['max'](this['width'],_0x5402f8);let _0x30ba03;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x30ba03=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x2*0xf85+0x19*-0x7a+0x2af4+0.0001)),_0x30ba03=z['clamp'](_0x30ba03,_0x277971,_0x51d323),_0x30ba03!==this['_element']['fontSize'])){this['_fontSize']=_0x30ba03,_0x12a103=!(0x1d81+0x10dc+-0x53*0x8f);break;}if(this['height']=Math['max'](this['height'],_0xcc884e-(_0x3dca33+_0x5dd437)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x30ba03=z['clamp'](this['_fontSize']-(-0x5c5*-0x2+-0x1620*0x1+0xa97),_0x277971,_0x51d323),_0x30ba03!==this['_element']['fontSize'])){this['_fontSize']=_0x30ba03,_0x12a103=!(0x638+0x1775*0x1+0x6b*-0x47);break;}_0x28a265+=this['_spacing']*_0x5ba1e3,_0x27320e||(_0x2240b3=_0x28a265),(this['_isWordBou'+'ndary'](_0x443c1f)||this['_isValidNe'+'xtChar'](_0x1d62fc)&&(this['_isNextCJK'+'Boundary'](_0x443c1f,_0x1d62fc)||this['_isNextCJK'+'WholeWord'](_0x1d62fc)))&&(_0x4df50b++,_0x27f561=_0x2240b3,_0x444103=_0x5936aa+(0x1bb8+0x1ef6+-0x3*0x138f)),_0x29d4cc++;const _0xfa8d9e=this['_getUv'](_0x443c1f);if(_0x4dcd3c['uvs'][_0x56f7f5*(-0x43f*0x1+0x1c4d+0xc05*-0x2)*(0x2b*0xbc+-0x2a*0x55+-0x11a0)+(0x1*0x144d+-0x23a3+0xf56)]=_0xfa8d9e[0x261a+-0x13*-0x13f+0xc5b*-0x5],_0x4dcd3c['uvs'][_0x56f7f5*(-0x1f65+-0x26b0+0x4619)*(-0xe*0x9a+0x2593+-0x1d25)+(-0x713+-0x24b0+0x2bc4)]=-0x263a+-0x66b+0x2ca6-_0xfa8d9e[-0x18c2+-0xd3*-0x5+0x14a4],_0x4dcd3c['uvs'][_0x56f7f5*(-0x2589*-0x1+-0x20*-0xc7+0x1*-0x3e65)*(-0xbe4+0x12d0+-0x6ea)+(0x37e+-0x2*0x65b+-0x1*-0x93a)]=_0xfa8d9e[0x2*-0x115+0x212c+-0x1f00],_0x4dcd3c['uvs'][_0x56f7f5*(-0x2*-0x57a+-0x1440+0x2*0x4a8)*(-0x1ba7*0x1+0x4*-0x55d+-0x105f*-0x3)+(-0xdcf+0x119*0x13+0x709*-0x1)]=0x259f+0xc*-0x17f+-0x13aa-_0xfa8d9e[0x1de9+0x11*0x6d+-0x2525],_0x4dcd3c['uvs'][_0x56f7f5*(0x529*0x2+0x24*0xc5+-0x2602)*(0x1ee8+0x15f9+-0xa93*0x5)+(-0x1*0x10f3+-0x136*-0x5+0xae9)]=_0xfa8d9e[-0x2f1*-0x7+0x1431+0x1*-0x28c6],_0x4dcd3c['uvs'][_0x56f7f5*(0x70c+-0x1963+0x1*0x125b)*(0x6*-0x5e7+0x1589+0xde3)+(-0x13f3*-0x1+-0x180a+-0x20e*-0x2)]=0xd*-0x2ba+0x1159+0x121a-_0xfa8d9e[0x774+-0x15f5+0xe84],_0x4dcd3c['uvs'][_0x56f7f5*(0xb5*-0x2+-0x1799+0x1907)*(-0x101a+-0x118a+0x21a6*0x1)+(-0x346*-0x5+0x1b*-0x77+0x3cb*-0x1)]=_0xfa8d9e[0xa11*0x3+0x1202+-0x12d*0x29],_0x4dcd3c['uvs'][_0x56f7f5*(0x2356+0x2c5*-0x3+-0x1b03)*(0x7d*-0x35+0x2f*0xb6+-0x787*0x1)+(0x11*-0x187+0x2190+0x13*-0x66)]=0x5f*-0x5+0x1*0x15aa+0x13ce*-0x1-_0xfa8d9e[0x353*0x2+-0x149+-0x55a],this['_symbolCol'+'ors']){const _0x3bbec=this['_symbolCol'+'ors'][_0x5936aa]*(0x261f+-0x1bce+-0xa4e);_0x4c5586=this['_colorPale'+'tte'][_0x3bbec],_0x477e7f=this['_colorPale'+'tte'][_0x3bbec+(-0x1af3*0x1+0xaed+-0x1007*-0x1)],_0x11ed16=this['_colorPale'+'tte'][_0x3bbec+(-0x13d2+0x137e+0x56)];}if(_0x4dcd3c['colors'][_0x56f7f5*(0x2*-0x1c+-0x1*-0xa31+-0x1*0x9f5)*(-0x6*-0x16d+-0x1*-0x1829+0x20b3*-0x1)+(-0x119*-0x2+-0x2163+0x1f31)]=_0x4c5586,_0x4dcd3c['colors'][_0x56f7f5*(0x1ae9+-0x267e*-0x1+0x4163*-0x1)*(-0x1473*-0x1+0x12ba+-0x2729)+(-0x3*0x1a3+0x2c*0xd1+-0xbd*0x2a)]=_0x477e7f,_0x4dcd3c['colors'][_0x56f7f5*(-0x1848+0x4*-0x1b7+0x1f28)*(-0x26fd+0x6*0x241+-0x197b*-0x1)+(-0x78f+-0x54f+0x19c*0x8)]=_0x11ed16,_0x4dcd3c['colors'][_0x56f7f5*(0x247e+0x7fd*0x3+-0x3c71*0x1)*(-0xe17+-0x7*0x1f+0x1d*0x84)+(-0x6a2*-0x5+-0x19c4+-0x763)]=0x251*-0x3+0x292+0x8*0xac,_0x4dcd3c['colors'][_0x56f7f5*(-0x1175+-0x267*-0x3+0xa44)*(-0x1d82+0x10*0x20+0x1b86)+(-0x2*0xa5b+-0x1f*0x125+0x3835*0x1)]=_0x4c5586,_0x4dcd3c['colors'][_0x56f7f5*(0xa*0x1eb+-0x116a+-0x1c0)*(-0xbc*-0x3+-0x226b+0x203b)+(-0x22a3*0x1+-0x1c98+-0x8*-0x7e8)]=_0x477e7f,_0x4dcd3c['colors'][_0x56f7f5*(0xa75*0x3+-0x9*-0x141+-0x2aa4)*(0x4eb+-0x942+0x45b)+(-0xfb*-0x1+-0x8a0+0x7ab*0x1)]=_0x11ed16,_0x4dcd3c['colors'][_0x56f7f5*(-0x11*0x21+-0x79a*-0x1+0x1*-0x565)*(0x6*0x122+0x1626+0x2*-0xe77)+(0xf14+0xb4a+-0x1a57)]=-0x1*-0x1e53+-0xc58+-0x10fc,_0x4dcd3c['colors'][_0x56f7f5*(-0x1358+0x14*-0x13a+0x2be4)*(0x5*-0x629+-0x11f6+0x30c7)+(-0x1faf+0x5e5*0x5+0xe*0x29)]=_0x4c5586,_0x4dcd3c['colors'][_0x56f7f5*(-0x3*0x8bd+0x1*-0x81e+-0x9*-0x3d1)*(-0xea3+0xb48+-0x35f*-0x1)+(0x225c+0xeac+-0x71*0x6f)]=_0x477e7f,_0x4dcd3c['colors'][_0x56f7f5*(-0x14c3+-0x1b32*-0x1+-0x1*0x66b)*(0x1557+-0x3*-0xc37+-0x39f8)+(-0x182b+0x1d88+-0x1*0x553)]=_0x11ed16,_0x4dcd3c['colors'][_0x56f7f5*(-0x12db*0x1+0x2134+-0xe55)*(-0x1434+0x118+0x1320)+(-0x2b*0x9e+-0xa68+0x11*0x22d)]=0x19e2+0x1*-0x4fa+0x1*-0x13e9,_0x4dcd3c['colors'][_0x56f7f5*(-0x3cd+-0x8b*0x44+-0x28bd*-0x1)*(0x23ad+0xf*0x11+-0x24a8)+(0x199+-0x12c8+0x113b)]=_0x4c5586,_0x4dcd3c['colors'][_0x56f7f5*(0xcd*-0x19+0x1fc4+-0x4d*0x27)*(-0x1762+-0x37*0x3+0x180b)+(0x3*0x66d+-0x11b*-0xe+-0x22b4)]=_0x477e7f,_0x4dcd3c['colors'][_0x56f7f5*(-0x18fe+0x4a*0x53+0x104)*(0x20fe+0x745*-0x5+0x35f*0x1)+(-0x446+0x852+-0x2*0x1ff)]=_0x11ed16,_0x4dcd3c['colors'][_0x56f7f5*(-0x1938+0x35*-0x4+-0x8b0*-0x3)*(0x10b+-0x1032+0xf2b)+(-0x24ad+0x15c0+-0x77e*-0x2)]=-0xf0c*-0x1+-0x5b1*-0x5+-0x2a82,this['_symbolOut'+'lineParams']){const _0x5b9957=this['_symbolOut'+'lineParams'][_0x5936aa]*(-0x1663*-0x1+-0x57*-0x16+-0x1dd8);_0x3e17c3=this['_outlinePa'+'lette'][_0x5b9957]+this['_outlinePa'+'lette'][_0x5b9957+(-0x2*-0x10fc+0x1c22+0x2f5*-0x15)]*(0x3*-0x173+0x1242+-0xce9),_0x2555a9=this['_outlinePa'+'lette'][_0x5b9957+(0x15fe+-0x6ed*-0x2+-0x23d6)]+this['_outlinePa'+'lette'][_0x5b9957+(0x2*-0xc6e+-0x100c+-0x19*-0x1a3)]*(0x315+-0x1*0x69b+-0xc1*-0x6),_0x172fd5=this['_outlinePa'+'lette'][_0x5b9957+(0x197*-0x9+0x851*0x3+0xaa*-0x10)];}if(_0x4dcd3c['outlines'][_0x56f7f5*(0x3b*0x19+0x5*-0x264+-0x1*-0x635)*(-0x1b1b+-0x1d7f+0x389d)+(0x1*-0x533+-0xfa6+0x251*0x9)]=_0x3e17c3,_0x4dcd3c['outlines'][_0x56f7f5*(-0x9d6*0x2+-0x41*-0x4c+-0x4*-0x19)*(0xe*0x1a9+-0x21e*-0x4+-0x1fb3)+(-0x496*0x3+-0x2259+0x301c)]=_0x2555a9,_0x4dcd3c['outlines'][_0x56f7f5*(0x10cd+-0x2f1*-0x4+-0x1*0x1c8d)*(-0x2af+-0x5b*0x45+0x12f*0x17)+(0x14*-0x1b0+-0x1b39+0x3cfb)]=_0x172fd5,_0x4dcd3c['outlines'][_0x56f7f5*(0x1*-0x1eed+0x21*0x76+0xfbb)*(0x1*0x1361+-0x1633+0x2d5)+(-0x1*-0x1aed+-0x13*0x6a+-0xd4*0x17)]=_0x3e17c3,_0x4dcd3c['outlines'][_0x56f7f5*(0x19ed+-0x1*-0x1c2+-0x1bab)*(0x2d*0xab+-0x47*0x19+0x61*-0x3d)+(-0x4e*-0x29+0xbdf*-0x1+-0x5*0x1f)]=_0x2555a9,_0x4dcd3c['outlines'][_0x56f7f5*(0x549*-0x2+0x12e4+-0x84e)*(-0x222*0x9+-0x2*0x10c9+-0x3b*-0xe5)+(-0x428+-0x16e5+-0x5a*-0x4d)]=_0x172fd5,_0x4dcd3c['outlines'][_0x56f7f5*(-0xd91+-0x153*-0x1d+-0x18d2)*(0x4*0x2cf+-0x3*-0x293+-0x61*0x32)+(0x14fc+0x23a6+-0x389c)]=_0x3e17c3,_0x4dcd3c['outlines'][_0x56f7f5*(0x9a0+-0x1643+0xca7)*(-0x8*0xad+-0x53+0x1ea*0x3)+(-0x24f2*-0x1+0xcc3+-0x31ae)]=_0x2555a9,_0x4dcd3c['outlines'][_0x56f7f5*(-0x10a*0x13+0x20c9+-0xd07)*(-0x1c56+-0x21b0+0x3e09)+(0x8d8*-0x4+-0x818+0x2b80)]=_0x172fd5,_0x4dcd3c['outlines'][_0x56f7f5*(-0x1e83+0x1802+0x685)*(0x222d*-0x1+0xeaa+0x1386)+(0x1821+0xece+-0x26e6)]=_0x3e17c3,_0x4dcd3c['outlines'][_0x56f7f5*(0x5*-0x4a3+0x1*-0x2384+0x3ab7*0x1)*(-0xa9*-0x34+0x4e*0x5d+-0x2b*0x175)+(-0x720+-0xb4f+0x1279)]=_0x2555a9,_0x4dcd3c['outlines'][_0x56f7f5*(0x4f9+0x611+-0xb06)*(-0x191c+0x16c1+0x25e)+(-0x1729+0x7*-0x1bc+0x46b*0x8)]=_0x172fd5,this['_symbolSha'+'dowParams']){const _0x29e387=this['_symbolSha'+'dowParams'][_0x5936aa]*(-0x24d7*-0x1+-0xaab*0x1+-0x1a26);_0x3a1897=this['_shadowPal'+'ette'][_0x29e387]+this['_shadowPal'+'ette'][_0x29e387+(-0x955+-0xb7e+-0x14d4*-0x1)]*(0x22ad+-0x289+0x2*-0xf92),_0x464675=this['_shadowPal'+'ette'][_0x29e387+(0x1b86+0x42b+-0x1faf)]+this['_shadowPal'+'ette'][_0x29e387+(0x305+-0x161*-0xb+-0x122d)]*(0x1d*-0xbf+-0x71*-0x55+-0x2*0x771),_0x112021=this['_shadowPal'+'ette'][_0x29e387+(-0x6b5*0x3+-0x2165+0x23b*0x18)]+(0x64*0x35+0x1bb9+-0x332*0xf)+Math['round'](_0x346fc2*this['_shadowPal'+'ette'][_0x29e387+(0x27*0xa7+0x1*-0x17e9+-0x183)]+(-0x13a2+0x1*-0x7a7+0x1bc8))*(0x22ed*-0x1+-0x127a+0x3667);}_0x4dcd3c['shadows'][_0x56f7f5*(-0x1d3e+-0x26ce+0x21*0x210)*(0x1*-0x13b4+-0x3*0x296+-0x21d*-0xd)+(-0x25f5+0x25dc+-0x19*-0x1)]=_0x3a1897,_0x4dcd3c['shadows'][_0x56f7f5*(-0x10a7+0x4b5*-0x2+0x1a15)*(0x171a+-0x1d65+-0x6*-0x10d)+(0x3*-0xb5d+0x1*0x15ce+0xc4a)]=_0x464675,_0x4dcd3c['shadows'][_0x56f7f5*(0x18e0+-0x10*-0x17e+-0x30bc)*(-0x1370+-0x15f4+0x2967)+(-0x499+0xc7e+-0x3*0x2a1)]=_0x112021,_0x4dcd3c['shadows'][_0x56f7f5*(0x1*0x244f+0x2*0xca1+-0x3d8d)*(0x12e5+0x11c1+0x24a3*-0x1)+(-0x59*-0x49+-0x1203+-0x1*0x75b)]=_0x3a1897,_0x4dcd3c['shadows'][_0x56f7f5*(0x54c+0xfdd+-0x1525*0x1)*(-0x9*0x1e6+0x114b*0x1+-0x32)+(0x39+-0x1*-0x7ad+-0x7e2)]=_0x464675,_0x4dcd3c['shadows'][_0x56f7f5*(-0x7*-0x207+-0x1124+-0x17*-0x21)*(0x5ef*0x4+0x699*0x1+-0x1e52)+(0x950*0x2+0x1525+-0x27c0)]=_0x112021,_0x4dcd3c['shadows'][_0x56f7f5*(0x4f*-0x5e+-0x1b8f*-0x1+-0x5*-0x4b)*(0x574+0x97*0x35+-0x24b4)+(0x9f4+0x1a3*0x16+0x8*-0x5be)]=_0x3a1897,_0x4dcd3c['shadows'][_0x56f7f5*(-0x1*0x2493+-0x1f*0xb7+0x3ac0)*(-0x12*0x8+-0x1dfe+0x1e91)+(-0x4d4+0xc*-0x255+0x20d7)]=_0x464675,_0x4dcd3c['shadows'][_0x56f7f5*(-0x80*-0x29+0xd*0x1dd+-0x2cb5)*(-0x14*0x141+-0x1*0x8e3+-0x21fa*-0x1)+(-0x15e1+0x3d*0x3d+0x760)]=_0x112021,_0x4dcd3c['shadows'][_0x56f7f5*(-0x10b*-0x5+-0xd9f+0x86c)*(0x5*-0x112+0xf47*0x1+-0x9ea)+(0x1d9*-0x7+0x54a*-0x4+0x2220)]=_0x3a1897,_0x4dcd3c['shadows'][_0x56f7f5*(-0x1*-0x2e9+0x43a+-0x1*0x71f)*(0x485+0x23e3+-0x2865)+(-0x23ac+0xced+0x16c9)]=_0x464675,_0x4dcd3c['shadows'][_0x56f7f5*(-0x1134+-0x1da5+-0x2edd*-0x1)*(0x2124+0x2*0x1267+-0x45ef)+(-0x1*-0x5+-0x1bba+-0x4a*-0x60)]=_0x112021,_0x4dcd3c['quad']++;}_0x12a103||_0x15dc02<_0x4995dc&&_0x3d6df8(this['_symbols'],_0x4995dc,_0x28a265);}this['_noResize']=!(-0x92a+0x49*-0x59+0x228b),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0xb*-0x145+0x1*-0x25e9+0x17f3);const _0x2195f0=this['_element']['pivot']['x'],_0x13a4a2=this['_element']['pivot']['y'],_0x4318da=this['_alignment']['x'],_0x531974=this['_alignment']['y'];for(let _0x213b54=0x119b*0x1+0x2*-0x34b+-0xd*0xd9;_0x213b54<this['_meshInfo']['length'];_0x213b54++){if(this['_meshInfo'][_0x213b54]['count']===0x117*0x2+-0x7ca+0x59c)continue;let _0x3cf581=-0x1*0x1ff9+-0x31*-0xc+0x1dad;for(const _0x34d8f7 in this['_meshInfo'][_0x213b54]['lines']){const _0x3dda20=this['_meshInfo'][_0x213b54]['lines'][_0x34d8f7],_0x5a9b5b=this['_lineWidth'+'s'][parseInt(_0x34d8f7,-0xf1b+-0x1*-0x117e+-0x259)],_0x2f664c=-_0x2195f0*this['_element']['calculated'+'Width']+_0x4318da*(this['_element']['calculated'+'Width']-_0x5a9b5b)*(this['_rtl']?-(-0x8d5+-0x24a5+0x3*0xf29):-0x55*-0x2+-0xbc3*0x1+-0x2*-0x58d),_0x1bf639=(0xc2d+0xe5c+-0x1a88-_0x13a4a2)*this['_element']['calculated'+'Height']-_0xcc884e-(-0x23d5*0x1+0x1*-0x42f+0x2805-_0x531974)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x353dcf=_0x3cf581;_0x353dcf<=_0x3dda20;_0x353dcf++)this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(-0x1d4*0xd+-0x2311+-0xbc5*-0x5)*(0x1*0x8c5+0x102f+-0x18f1)]+=_0x2f664c,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(-0x13*-0x18f+0x1a8b+-0x3824)*(-0x646*0x2+0x134+0xb5b)+(-0x19a5+-0x1c37+0x1*0x35df)]+=_0x2f664c,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(0x1367*-0x1+-0x463*0x1+-0x22a*-0xb)*(0xa2a*0x1+0x34*0x57+-0x1bd3)+(-0x138+-0x131f+0x145d)]+=_0x2f664c,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(-0x1988+0x2085+-0x6f9)*(-0xdf*-0x29+0x1fbd+0x167b*-0x3)+(-0x1b15*-0x1+0x169+-0x1c75)]+=_0x2f664c,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(0xf*-0x3f+0x1*-0x1a93+0xa18*0x3)*(-0x9*0x1b1+-0x29*-0x2a+0x882)+(0x106c+0x1*-0x2623+0x15b8)]+=_0x1bf639,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(0x569+0x2*-0x1ce+-0x1c9)*(0x5f5*-0x1+0x531+-0x1*-0xc7)+(-0x16c8+-0x603+0x5c3*0x5)]+=_0x1bf639,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(0x1*-0x13b1+-0x260a+0x39bf)*(0x15ce+-0x1a2+-0x1429*0x1)+(0xe1*0x29+-0x1*-0x1bb+-0x25bd)]+=_0x1bf639,this['_meshInfo'][_0x213b54]['positions'][_0x353dcf*(-0x4*-0x682+-0x90f+-0x3*0x5a7)*(0xb24+-0xea8+-0x1*-0x387)+(-0x1a4c+-0x17a*0x7+-0x24ac*-0x1)]+=_0x1bf639;if(this['_rtl'])for(let _0x14c3a6=_0x3cf581;_0x14c3a6<=_0x3dda20;_0x14c3a6++){const _0x4df8bb=_0x14c3a6*(0x59a*0x6+0x551*0x3+-0x318b)*(-0x237a+0x4*0x5b1+0xcb9);for(let _0x512678=0x1fee+-0x1*0xca9+-0x1345;_0x512678<-0x25dc+-0x2d4+0x28b4;++_0x512678)this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+_0x512678*(-0x6*0x163+-0x17*0x2e+0xc77)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+_0x512678*(0x2b*-0x86+-0x2187+-0x1*-0x380c)]+_0x2f664c*(-0xf*-0x8b+0x7a*-0x3d+0x14ef);const _0x543fc5=this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(0xda5*0x1+-0xa1d+-0x385)],_0x58b540=this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(-0x1bf6+-0x4b9*-0x1+-0x18d*-0xf)];this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(0x19e3+-0x4*0x847+0x73c)]=this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(-0x173c+-0x241c+0x3b58)],this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(0x1459*0x1+0x1194+0x25e7*-0x1)]=this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(0x6f4+-0x2003+0x1918)],this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(0x6*-0xdf+-0x1*0x1005+0x153f)]=_0x543fc5,this['_meshInfo'][_0x213b54]['positions'][_0x4df8bb+(-0x24f4+-0x199d+0x3e9a)]=_0x58b540;}_0x3cf581=_0x3dda20+(0x1*0x1be+-0x1f3c+0x1d7f);}const _0x138ba3=this['_meshInfo'][_0x213b54]['count']*(0x1afc+-0x5b4*-0x4+-0x31c8),_0x363b04=this['_meshInfo'][_0x213b54]['quad']*(0x70e+0x1*0xbb4+-0x95f*0x2),_0x19b357=new vo(this['_meshInfo'][_0x213b54]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x4343a6=-0x6df+0x217f+0x6a8*-0x4;_0x4343a6<_0x138ba3;_0x4343a6++)_0x4343a6>=_0x363b04?(_0x19b357['element'][Xe]['set'](-0x26ef*0x1+-0x25ef+0x4cde,-0x20b1+-0x22*-0xb8+-0x841*-0x1,-0x7*0x1ce+0x13a2+-0x700*0x1),_0x19b357['element'][ds]['set'](0x1026+-0x1e9e+0x2*0x73c,-0x929+-0x614*0x1+0x1*0xf3d),_0x19b357['element'][It]['set'](0x1e24+-0x1f*0x123+-0x9*-0x91,-0x23e+-0x1*0x35f+0x59d,-0xe*-0x89+-0x4*-0x779+-0x2562,0x1*0x2549+0x1*0x20e3+-0x462c),_0x19b357['element'][Lo]['set'](0x1ac7+0x63*-0x43+0x4a*-0x3,0x251*-0x4+-0x47b*0x5+-0x2e1*-0xb,0x1359+0x2f*0x3a+0x7*-0x449,0x122c+0xa*0x3e3+-0x7*0x826),_0x19b357['element'][Fo]['set'](0x770+-0xb7e+0x40e,0x1a1a+0x1*-0x106c+-0x9ae,-0x5*0x26c+-0x9fc+-0x4*-0x586,-0x565*0x3+0xda1+0x28e)):(_0x19b357['element'][Xe]['set'](this['_meshInfo'][_0x213b54]['positions'][_0x4343a6*(-0x1ad*-0xc+-0x1*0x25d7+0x11be)+(-0x12c1+-0x1295+0x2556)],this['_meshInfo'][_0x213b54]['positions'][_0x4343a6*(0x7ec+0x187d+-0x2*0x1033)+(0x1*0x11dd+-0x14c9+0x2ed)],this['_meshInfo'][_0x213b54]['positions'][_0x4343a6*(0x6*0x657+0x25f2+0x871*-0x9)+(-0x1*0xdc9+0xb47*0x1+0x284)]),_0x19b357['element'][ds]['set'](this['_meshInfo'][_0x213b54]['uvs'][_0x4343a6*(-0x25d2+-0x1*-0x249d+0x137)+(0x1850+0x1d4*0x14+0x1*-0x3ce0)],this['_meshInfo'][_0x213b54]['uvs'][_0x4343a6*(0x17f*-0x12+-0x1*-0x239+0x18b7)+(-0xd*-0x2ae+-0x1*-0x258+-0x133*0x1f)]),_0x19b357['element'][It]['set'](this['_meshInfo'][_0x213b54]['colors'][_0x4343a6*(0xf+-0x1da6+0x1d9b)+(0x1bc1+-0x137e+-0x843)],this['_meshInfo'][_0x213b54]['colors'][_0x4343a6*(-0xdcd+-0x1b94+-0x2965*-0x1)+(0x1*-0x20dd+0x49e*0x3+-0x4*-0x4c1)],this['_meshInfo'][_0x213b54]['colors'][_0x4343a6*(-0x19*-0xbc+0x1d32+-0x1*0x2f8a)+(0xadb+0x786+-0x1*0x125f)],this['_meshInfo'][_0x213b54]['colors'][_0x4343a6*(-0x116c+0x11*-0xd6+-0x1*-0x1fa6)+(0x1f0f+-0x1*0x5bd+-0x194f)]),_0x19b357['element'][Lo]['set'](this['_meshInfo'][_0x213b54]['outlines'][_0x4343a6*(0x1*-0xf85+-0x11*-0xfb+0x3*-0x61)+(-0x5ed*-0x4+0x1ba0+-0x3354)],this['_meshInfo'][_0x213b54]['outlines'][_0x4343a6*(0x92f*0x2+0x1cb0+-0x2f0b*0x1)+(-0x1036+-0x26d6+0x11*0x33d)],this['_meshInfo'][_0x213b54]['outlines'][_0x4343a6*(0x11c8+0x1cae+-0x2e73)+(0x188a+-0x7e1*0x1+-0x10a7)]),_0x19b357['element'][Fo]['set'](this['_meshInfo'][_0x213b54]['shadows'][_0x4343a6*(0xd0*0x21+-0x89b*-0x1+0x2c*-0xce)+(0x25f4+-0x35e*-0x8+0x2072*-0x2)],this['_meshInfo'][_0x213b54]['shadows'][_0x4343a6*(-0x1*0x16cd+0x10*-0x1e8+-0x1*-0x3550)+(0x1839+-0x1d56+0x51e)],this['_meshInfo'][_0x213b54]['shadows'][_0x4343a6*(-0xcb5+0x17*0x182+0x3*-0x752)+(-0x15*-0x4c+-0x1af7*-0x1+-0x125*0x1d)])),_0x19b357['next']();_0x19b357['end'](),this['_meshInfo'][_0x213b54]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x213b54]['positions']),this['_meshInfo'][_0x213b54]['meshInstan'+'ce']['_aabbVer']=-(-0x1288+-0xbc3*0x1+0xe*0x22a);}this['_aabbDirty']=!(-0x2*-0x592+-0x2419+0x18f5*0x1);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x1380b7){this['font']!==_0x1380b7['resource']&&(this['font']=_0x1380b7['resource']);}['_onFontCha'+'nge'](_0x156a74,_0x4383c5,_0x11e70b,_0x27da9a){if(_0x4383c5==='data'){this['_font']['data']=_0x11e70b;const _0x444c80=this['_font']['data']['info']['maps']['length'];for(let _0x43f9fa=-0xd*0x287+-0xb*-0xbf+0x5*0x4ee;_0x43f9fa<_0x444c80;_0x43f9fa++){if(!this['_meshInfo'][_0x43f9fa])continue;const _0x3b7048=this['_meshInfo'][_0x43f9fa]['meshInstan'+'ce'];_0x3b7048&&(_0x3b7048['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x3b7048['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x3b7048['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x43f9fa]['width']));}}}['_onFontRem'+'ove'](_0x3461d4){}['_setTextur'+'eParams'](_0x20b7db,_0x38d75b){this['_font']&&(this['_font']['type']===tc?(_0x20b7db['deletePara'+'meter']('texture_em'+'issiveMap'),_0x20b7db['deletePara'+'meter']('texture_op'+'acityMap'),_0x20b7db['setParamet'+'er']('texture_ms'+'dfMap',_0x38d75b)):this['_font']['type']===xR&&(_0x20b7db['deletePara'+'meter']('texture_ms'+'dfMap'),_0x20b7db['setParamet'+'er']('texture_em'+'issiveMap',_0x38d75b),_0x20b7db['setParamet'+'er']('texture_op'+'acityMap',_0x38d75b)));}['_getPxRang'+'e'](_0x5ea11c){const _0x154d54=Object['keys'](this['_font']['data']['chars']);for(let _0x5d8e3a=-0x1a15+0x3b*0x2+0x199f;_0x5d8e3a<_0x154d54['length'];_0x5d8e3a++){const _0x34114f=this['_font']['data']['chars'][_0x154d54[_0x5d8e3a]];if(_0x34114f['range'])return(_0x34114f['scale']||-0x21e2+0x1459+-0x6c5*-0x2)*_0x34114f['range'];}return 0x162*-0xc+0x23b*0x9+-0x379;}['_getUv'](_0x5f1ace){const _0x141e7d=this['_font']['data'];if(!_0x141e7d['chars'][_0x5f1ace]){const _0x55d6be='\x20';return _0x141e7d['chars'][_0x55d6be]?this['_getUv'](_0x55d6be):[-0x32d*-0x4+0x1a06+0x1*-0x26ba,0x261d+0x580*0x1+0x1*-0x2b9d,0x5*-0x5+-0x20*0x11d+0x23b9,0x17f*-0x19+0x2497*-0x1+0x49fe];}const _0x3276dd=_0x141e7d['chars'][_0x5f1ace]['map'],_0x3f0b11=_0x141e7d['info']['maps'][_0x3276dd]['width'],_0x5dc1b6=_0x141e7d['info']['maps'][_0x3276dd]['height'],_0x330659=_0x141e7d['chars'][_0x5f1ace]['x'],_0x28bc51=_0x141e7d['chars'][_0x5f1ace]['y'],_0x4f3d01=_0x330659,_0x431863=_0x28bc51,_0x36bc3d=_0x330659+_0x141e7d['chars'][_0x5f1ace]['width'],_0x539e09=_0x28bc51-_0x141e7d['chars'][_0x5f1ace]['height'],_0x464807=-0x5b*-0xc+0x307*0x4+-0x105f-_0x141e7d['chars'][_0x5f1ace]['height']/_0x5dc1b6;return[_0x4f3d01/_0x3f0b11,_0x464807-_0x431863/_0x5dc1b6,_0x36bc3d/_0x3f0b11,_0x464807-_0x539e09/_0x5dc1b6];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x11*0x10c+-0x977*-0x1+-0x9*-0xed),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0xeef+0x26a1*-0x1+-0x1*-0x3591),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x52d8b0){if(this['_model']){const _0x1e94ea=this['_model']['meshInstan'+'ces'];for(let _0x2d0bad=-0x1*-0x21a+-0x157c+0x1362;_0x2d0bad<_0x1e94ea['length'];_0x2d0bad++)_0x1e94ea[_0x2d0bad]['stencilFro'+'nt']=_0x52d8b0,_0x1e94ea[_0x2d0bad]['stencilBac'+'k']=_0x52d8b0;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x44173b){const _0x30e00f={};_0x44173b===void(-0x5*-0x2e1+-0x239d+0x1538)&&(_0x44173b=this['_symbols']['length']);for(let _0x547c6c=-0x17a4+0x1*-0x127+0x18cb*0x1,_0x5b9eb6=_0x44173b;_0x547c6c<_0x5b9eb6;_0x547c6c++){const _0x5d8829=this['_symbols'][_0x547c6c];let _0x1a97f2=this['_font']['data']['chars'][_0x5d8829];_0x1a97f2||(_0x1a97f2=this['_font']['data']['chars']['\x20'],_0x1a97f2||(_0x1a97f2=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x1e2+-0x237e+0x24*0xef]]));const _0x396d18=_0x1a97f2['map'];_0x30e00f[_0x396d18]?_0x30e00f[_0x396d18]++:_0x30e00f[_0x396d18]=0x1552+-0x905*-0x1+0x1*-0x1e56;}return _0x30e00f;}['_updateRen'+'derRange'](){const _0x3d8795=this['_rangeStar'+'t']===-0x19c1+0x1991+0x1*0x30?-0x2172*-0x1+0x1*-0x1a33+-0x1*0x73f:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x3250ec=this['_rangeEnd']===0x216d+0xdb6+-0x2f23?-0x27*-0x72+0x10d*0x17+-0x2989:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x1243e1=0x1619+-0x642+-0xfd7,_0x766349=this['_meshInfo']['length'];_0x1243e1<_0x766349;_0x1243e1++){const _0x4bd934=_0x3d8795[_0x1243e1]||-0x11d5*0x1+-0x1b09*-0x1+0x4c*-0x1f,_0x3d0f30=_0x3250ec[_0x1243e1]||-0x132+-0x39*0x3b+0x4c7*0x3,_0x3c2bd5=this['_meshInfo'][_0x1243e1]['meshInstan'+'ce'];if(_0x3c2bd5){const _0x18f86c=_0x3c2bd5['mesh'];_0x18f86c&&(_0x18f86c['primitive'][0x2*0xe81+0x161*-0x1+-0x1ba1]['base']=_0x4bd934*(0x1fb5+0x6*-0x324+0x2*-0x66d)*(-0x1b07+0x1aa0+0x69),_0x18f86c['primitive'][-0x9*-0x19c+-0x119f+0x323]['count']=(_0x3d0f30-_0x4bd934)*(0x1*-0xf43+-0x1431*0x1+-0x511*-0x7)*(0x5d9*-0x6+-0x22f3+0x460b));}}}set['text'](_0x27e0c8){this['_i18nKey']=null;const _0x576379=_0x27e0c8!=null&&_0x27e0c8['toString']()||'';this['_setText'](_0x576379);}get['text'](){return this['_text'];}set['key'](_0x2f512d){const _0x474db3=_0x2f512d!==null?_0x2f512d['toString']():null;this['_i18nKey']!==_0x474db3&&(this['_i18nKey']=_0x474db3,_0x474db3?(this['_fontAsset']['disableLoc'+'alization']=!(-0xb27+0x1*0x171c+-0xbf4),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x145d+-0xa59+0x1eb6));}get['key'](){return this['_i18nKey'];}set['color'](_0xfdfc6e){const _0x5612d1=_0xfdfc6e['r'],_0x2e0d1f=_0xfdfc6e['g'],_0x194ff=_0xfdfc6e['b'];if(this['_color']===_0xfdfc6e&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x5612d1&&this['_color']['g']===_0x2e0d1f&&this['_color']['b']===_0x194ff)&&(this['_color']['r']=_0x5612d1,this['_color']['g']=_0x2e0d1f,this['_color']['b']=_0x194ff,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_color']),this['_colorUnif'+'orm'][0x935+-0x1ce9+0x9da*0x2]=De['r'],this['_colorUnif'+'orm'][0x9af+0xeed+-0x189b]=De['g'],this['_colorUnif'+'orm'][-0x17*0x170+-0x718*0x1+0x282a]=De['b'];for(let _0x50dcde=0x22fb+-0x1761+-0x5cd*0x2,_0x49ad9d=this['_model']['meshInstan'+'ces']['length'];_0x50dcde<_0x49ad9d;_0x50dcde++)this['_model']['meshInstan'+'ces'][_0x50dcde]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x4cca4c){if(this['_color']['a']!==_0x4cca4c&&(this['_color']['a']=_0x4cca4c,this['_model'])){for(let _0x4484fc=0x1*0xd5a+0x1c32+-0x298c,_0x233ac3=this['_model']['meshInstan'+'ces']['length'];_0x4484fc<_0x233ac3;_0x4484fc++)this['_model']['meshInstan'+'ces'][_0x4484fc]['setParamet'+'er']('material_o'+'pacity',_0x4cca4c);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x4cca4c);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x39d444){const _0x49ff4e=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x39d444,this['_scaledLin'+'eHeight']=_0x39d444,_0x49ff4e!==_0x39d444&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x583354){const _0x158f3a=this['_wrapLines'];this['_wrapLines']=_0x583354,_0x158f3a!==_0x583354&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x1fa322){const _0x14888c=this['_spacing'];this['_spacing']=_0x1fa322,_0x14888c!==_0x1fa322&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x3dd764){const _0x268651=this['_fontSize'];this['_fontSize']=_0x3dd764,this['_originalF'+'ontSize']=_0x3dd764,_0x268651!==_0x3dd764&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x1daadd){this['_fontAsset']['defaultAss'+'et']=_0x1daadd;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x1811f6){let _0x149364;if(this['_font']&&(_0x149364=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x1811f6,this['_fontMinY']=0xc6d*-0x1+0x1b96+-0xf29*0x1,this['_fontMaxY']=0x249*0x9+-0x1221+0x10*-0x27,!_0x1811f6)return;const _0x4099ae=this['_font']['data'];for(const _0x406280 in _0x4099ae['chars']){const _0x15f55a=_0x4099ae['chars'][_0x406280];_0x15f55a['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x15f55a['bounds'][-0x11*0x133+-0x18*0x3e+0x204*0xd]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x15f55a['bounds'][0x5b*-0x13+0xe0f+-0x74b]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x1811f6['type']!==_0x149364){const _0x13967d=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x13967d);}for(let _0xf5bfff=-0x1*0x1d2+-0x2440+0x2612,_0x2d6d0d=this['_font']['textures']['length'];_0xf5bfff<_0x2d6d0d;_0xf5bfff++)if(!this['_meshInfo'][_0xf5bfff])this['_meshInfo'][_0xf5bfff]=new MR();else{const _0x29fb79=this['_meshInfo'][_0xf5bfff]['meshInstan'+'ce'];_0x29fb79&&(_0x29fb79['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x29fb79['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x29fb79['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xf5bfff]['width']),this['_setTextur'+'eParams'](_0x29fb79,this['_font']['textures'][_0xf5bfff]));}let _0xc82c95=!(-0x21*-0x10f+0x11b*0xb+-0x2f17);for(let _0x49194c=this['_font']['textures']['length'];_0x49194c<this['_meshInfo']['length'];_0x49194c++)this['_meshInfo'][_0x49194c]['meshInstan'+'ce']&&(_0xc82c95||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0xc82c95=!(0xf75+0x3*-0x9c9+0xde6)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x49194c]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x2a9869){_0x2a9869 instanceof W?this['_alignment']['set'](_0x2a9869['x'],_0x2a9869['y']):this['_alignment']['set'](_0x2a9869[-0x70c+0x12f7+-0xbeb],_0x2a9869[0x16ea+0x1a71+-0x315a*0x1]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x2ae8b2){const _0x8862bf=this['_autoWidth'];if(this['_autoWidth']=_0x2ae8b2,_0x2ae8b2&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<-0xf*0x139+-0x1c0e+-0x3*-0xf77+0.0001&&(this['_element']['width']=this['width']),_0x8862bf!==_0x2ae8b2){const _0x5b0fe9=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x5b0fe9!==this['_fontSize']&&(this['_fontSize']=_0x5b0fe9,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x315e2e){const _0x67cd9=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x315e2e,_0x315e2e&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1*0x1ab7+-0xd*0x1fa+-0x3*0x57+0.0001&&(this['_element']['height']=this['height']),_0x67cd9!==_0x315e2e){const _0x4cc280=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x4cc280!==this['_fontSize']&&(this['_fontSize']=_0x4cc280,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x662b6c){this['_rtlReorde'+'r']!==_0x662b6c&&(this['_rtlReorde'+'r']=_0x662b6c,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x4cf01d){this['_unicodeCo'+'nverter']!==_0x4cf01d&&(this['_unicodeCo'+'nverter']=_0x4cf01d,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x45dcca=!(-0x187+-0xe19*0x1+0xfa1);for(let _0x5c2489=-0x207a+0x323+-0x1*-0x1d57;_0x5c2489<this['_meshInfo']['length'];_0x5c2489++)this['_meshInfo'][_0x5c2489]['meshInstan'+'ce']&&(_0x45dcca?this['_aabb']['add'](this['_meshInfo'][_0x5c2489]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x5c2489]['meshInstan'+'ce']['aabb']),_0x45dcca=!(-0x1821+0x2bc+-0x1565*-0x1)));this['_aabbDirty']=!(-0xbf*0x29+0x17f0+-0x1aa*-0x4);}return this['_aabb'];}set['outlineCol'+'or'](_0x3599d3){const _0x52ce69=_0x3599d3 instanceof Y?_0x3599d3['r']:_0x3599d3[0x52c*0x5+-0x2bb*-0x3+-0x220d],_0x2b1d11=_0x3599d3 instanceof Y?_0x3599d3['g']:_0x3599d3[-0xdb7*-0x1+-0xf3*0x1+-0xcc3],_0x560a71=_0x3599d3 instanceof Y?_0x3599d3['b']:_0x3599d3[0x1740+0xeab+0xf*-0x287],_0x5c3be0=_0x3599d3 instanceof Y?_0x3599d3['a']:_0x3599d3[-0xdc5+-0x5b*-0x1a+-0x2*-0x245];if(this['_outlineCo'+'lor']===_0x3599d3&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x52ce69&&this['_outlineCo'+'lor']['g']===_0x2b1d11&&this['_outlineCo'+'lor']['b']===_0x560a71&&this['_outlineCo'+'lor']['a']===_0x5c3be0)&&(this['_outlineCo'+'lor']['r']=_0x52ce69,this['_outlineCo'+'lor']['g']=_0x2b1d11,this['_outlineCo'+'lor']['b']=_0x560a71,this['_outlineCo'+'lor']['a']=_0x5c3be0,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1*0x1309+0x176f+0x1*-0x466]=De['r'],this['_outlineCo'+'lorUniform'][-0x83*0xb+-0x1101+-0x16a3*-0x1]=De['g'],this['_outlineCo'+'lorUniform'][-0x6*-0x209+0x9f3+-0x1627]=De['b'],this['_outlineCo'+'lorUniform'][-0x2662+-0x15a*0x6+0x2e81]=De['a'];for(let _0x20d154=-0x1*-0x20cb+-0x1*0x10a5+-0x2*0x813,_0x3147f3=this['_model']['meshInstan'+'ces']['length'];_0x20d154<_0x3147f3;_0x20d154++)this['_model']['meshInstan'+'ces'][_0x20d154]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x124d89){const _0xa3f403=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x124d89,_0xa3f403!==_0x124d89&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x191612=0x15*-0x175+0x2c0+0x1bd9*0x1,_0xe3c33b=this['_model']['meshInstan'+'ces']['length'];_0x191612<_0xe3c33b;_0x191612++)this['_model']['meshInstan'+'ces'][_0x191612]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x513fe1){const _0x344676=_0x513fe1 instanceof Y?_0x513fe1['r']:_0x513fe1[-0x1*-0x701+-0x1cfa*0x1+-0xf*-0x177],_0x260948=_0x513fe1 instanceof Y?_0x513fe1['g']:_0x513fe1[-0x48*0x29+-0x1ea5+0x2a2e],_0x24a70f=_0x513fe1 instanceof Y?_0x513fe1['b']:_0x513fe1[-0x1*0x1c33+0xddd+0xe58],_0x119d60=_0x513fe1 instanceof Y?_0x513fe1['a']:_0x513fe1[-0xa73+0x32d+0x749];if(this['_shadowCol'+'or']===_0x513fe1&&b['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x344676&&this['_shadowCol'+'or']['g']===_0x260948&&this['_shadowCol'+'or']['b']===_0x24a70f&&this['_shadowCol'+'or']['a']===_0x119d60)&&(this['_shadowCol'+'or']['r']=_0x344676,this['_shadowCol'+'or']['g']=_0x260948,this['_shadowCol'+'or']['b']=_0x24a70f,this['_shadowCol'+'or']['a']=_0x119d60,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x4f*0x13+0xb*-0x2c9+0x1*0x2480]=De['r'],this['_shadowCol'+'orUniform'][-0xa*0x20b+-0xcdc+-0xb19*-0x3]=De['g'],this['_shadowCol'+'orUniform'][0x1ebe+-0x12a7+-0xc15]=De['b'],this['_shadowCol'+'orUniform'][0x8c5*-0x1+-0x160c+0x1ed4]=De['a'];for(let _0x56036d=0x14e5+0x1722+-0x2c07,_0x3f3f66=this['_model']['meshInstan'+'ces']['length'];_0x56036d<_0x3f3f66;_0x56036d++)this['_model']['meshInstan'+'ces'][_0x56036d]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x43d001){const _0x109111=_0x43d001 instanceof W?_0x43d001['x']:_0x43d001[0x59c*0x2+0x5c6*-0x1+-0x572],_0x48fbfe=_0x43d001 instanceof W?_0x43d001['y']:_0x43d001[-0x3+-0xe62+0xe66];if(!(this['_shadowOff'+'set']['x']===_0x109111&&this['_shadowOff'+'set']['y']===_0x48fbfe)&&(this['_shadowOff'+'set']['set'](_0x109111,_0x48fbfe),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xf2c460=0x94e+0x1*-0x592+-0x3bc,_0x2e4e18=this['_model']['meshInstan'+'ces']['length'];_0xf2c460<_0x2e4e18;_0xf2c460++){const _0x153f63=-this['_font']['data']['info']['maps'][_0xf2c460]['width']/this['_font']['data']['info']['maps'][_0xf2c460]['height'];this['_shadowOff'+'setUniform'][-0x1*0xa40+-0x8e9*0x3+0x24fb]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x354+-0x143b*-0x1+-0x43*0x5a]=_0x153f63*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xf2c460]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x2ab135){this['_minFontSi'+'ze']!==_0x2ab135&&(this['_minFontSi'+'ze']=_0x2ab135,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x4b5620){this['_maxFontSi'+'ze']!==_0x4b5620&&(this['_maxFontSi'+'ze']=_0x4b5620,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x2030ad){this['_autoFitWi'+'dth']!==_0x2030ad&&(this['_autoFitWi'+'dth']=_0x2030ad,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x488d10){this['_autoFitHe'+'ight']!==_0x488d10&&(this['_autoFitHe'+'ight']=_0x488d10,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x43dad5){this['_maxLines']!==_0x43dad5&&(_0x43dad5===null&&this['_maxLines']===-(-0xc*0x1f5+0x1fe6+-0x869*0x1)||(this['_maxLines']=_0x43dad5===null?-(0xcb*0x29+0x1f97+-0x4019):_0x43dad5,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x4351a5){if(_0x4351a5=!!_0x4351a5,this['_enableMar'+'kup']===_0x4351a5)return;this['_enableMar'+'kup']=_0x4351a5,this['font']&&this['_updateTex'+'t']();const _0x120b93=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x120b93);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x2b2743){return this['_colorPale'+'tte']['slice'](_0x2b2743*(-0x4b3*-0x2+-0x4ac+0x4b7*-0x1),_0x2b2743*(0x10d*0x18+0x1529+0x2e5e*-0x1)+(0x1b28*-0x1+-0x6c5*-0x1+-0x2ea*-0x7));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x806795){return this['_outlinePa'+'lette']['slice'](_0x806795*(0x13d+-0x1496+0x25*0x86),_0x806795*(0xb*-0x1ff+-0x15de+0x2e*0xf4)+(-0xacf*-0x3+-0x2668+0x600));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0xfb45d9){return this['_shadowPal'+'ette']['slice'](_0xfb45d9*(-0x26d9+0x16ad+-0x1*-0x1032),_0xfb45d9*(-0x61*-0x7+0x1b19+-0x2*0xedd)+(-0x876+0x1ee7*0x1+-0x166b));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x43a734){_0x43a734=Math['max'](0x1*0xb2e+-0x55f*-0x3+0x1b4b*-0x1,Math['min'](_0x43a734,this['_symbols']['length'])),_0x43a734!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x43a734,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x44eeff){_0x44eeff=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x44eeff,this['_symbols']['length'])),_0x44eeff!==this['_rangeEnd']&&(this['_rangeEnd']=_0x44eeff,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const eu=new A(),gg=new q(),ci=new A(),BR=new A(),as=new q(),eh=new q(),th=new q(),Vn=new q();class Kt extends pe{constructor(_0x5f47b6,_0x36c411){super(_0x5f47b6,_0x36c411),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x127+0x4c4+-0x5ea),this['_anchor']=new ee(),this['_localAnch'+'or']=new ee(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x3f9+0xd33+-0x91a,this['_height']=this['_calculate'+'dHeight']=-0x2a8*-0x1+-0x15dd+-0x1*-0x1355,this['_margin']=new ee(0x81f+-0xbe6+0x3c7,-0xdf*-0xa+-0x1d3d+0x1487,-(-0x53+-0xb5*0x2f+0x21ae),-(0x1c2*-0x9+-0x1eda+0xbb3*0x4)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0x1815+0x61e+0x11f7),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new A(),new A(),new A(),new A()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new A(),new A(),new A(),new A()],this['_cornersDi'+'rty']=!(-0x1*0x1ef2+-0x187e+0x4*0xddc),this['_canvasCor'+'nersDirty']=!(-0x1*0x150a+0x22bc+-0xdb2),this['_worldCorn'+'ersDirty']=!(-0x5b6+-0xb*-0x12d+-0x739*0x1),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=vh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x31a*-0x2+-0x2260+0x1*0x1c2c,this['_fitMode']=bh,this['_useInput']=!(0x25ac+-0x9d*0x17+-0x1790),this['_layers']=[nl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x26a+-0x10*0x101+0xda7),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=-0x3e9*0x9+-0x481*-0x3+0x15ae,this['_maskOffse'+'t']=-0x1975+0x22cb+0x1*-0x956+0.5,this['_maskedBy']=null);}get['data'](){const _0x3e2844=this['system']['store'][this['entity']['getGuid']()];return _0x3e2844?_0x3e2844['data']:null;}set['enabled'](_0x5598c9){const _0x41f79d=this['data'],_0x11420a=_0x41f79d['enabled'];_0x41f79d['enabled']=_0x5598c9,this['fire']('set','enabled',_0x11420a,_0x5598c9);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x27*0x73+0x21c0+-0x33f*0x5+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0xcd2+0x77c+0xe2*-0x17+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x224cdd){_0x224cdd instanceof ee?this['_anchor']['copy'](_0x224cdd):this['_anchor']['set'](..._0x224cdd),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x1823+-0x6*-0x3d9+0x1*0x10d),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x2bf609){var _0xe11618,_0x45ca3a;this['_batchGrou'+'pId']!==_0x2bf609&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1617+-0xe78+-0x79f&&((_0xe11618=this['system']['app']['batcher'])==null||_0xe11618['remove'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x2bf609>=-0x16*-0x13c+0x1*-0x2417+0x8ef&&((_0x45ca3a=this['system']['app']['batcher'])==null||_0x45ca3a['insert'](rt['ELEMENT'],_0x2bf609,this['entity'])),_0x2bf609<-0x196+-0x4*-0x2ab+-0x916&&this['_batchGrou'+'pId']>=0xff4+-0x316*0x1+-0xcde&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x2bf609);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x23ccc3){this['_margin']['y']=_0x23ccc3;const _0x379212=this['entity']['getLocalPo'+'sition'](),_0x5cbd38=this['_absTop'],_0x50f715=this['_localAnch'+'or']['y']+_0x23ccc3;this['_setHeight'](_0x5cbd38-_0x50f715),_0x379212['y']=_0x23ccc3+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x379212);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x31d824){this['_setCalcul'+'atedWidth'](_0x31d824,!(-0x2e4+-0x19db+0x1cbf));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x2251b0){this['_setCalcul'+'atedHeight'](_0x2251b0,!(0x5ea*0x6+-0x21b9+-0x1c3));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x28e5f9=this['system']['app']['graphicsDe'+'vice'],_0x3c45e8=this['screenCorn'+'ers'],_0x5784f1=_0x28e5f9['canvas']['clientWidt'+'h']/_0x28e5f9['width'],_0x3007df=_0x28e5f9['canvas']['clientHeig'+'ht']/_0x28e5f9['height'];for(let _0x205341=-0x168f+-0x61*0x45+-0x40f*-0xc;_0x205341<-0x1550+0x2*-0xd28+0x2fa4;_0x205341++)this['_canvasCor'+'ners'][_0x205341]['set'](_0x3c45e8[_0x205341]['x']*_0x5784f1,(_0x28e5f9['height']-_0x3c45e8[_0x205341]['y'])*_0x3007df);return this['_canvasCor'+'nersDirty']=!(0x23a9+-0x2e1*0x3+-0x1b05),this['_canvasCor'+'ners'];}set['drawOrder'](_0x3e7fcb){let _0xe9d02d=0x1*-0x18c3+0x1cc0+-0x3fd;this['screen']&&(_0xe9d02d=this['screen']['screen']['priority']),_0x3e7fcb>0x1*0xdde73b+-0xfbb1c8+0x11dca8c&&(b['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x3e7fcb=0x1ef6b9b+0xb17963+0x1a0e4ff*-0x1),this['_drawOrder']=(_0xe9d02d<<0x33*0x36+-0x1407*-0x1+-0x369*0x9)+_0x3e7fcb,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x4520e1){this['_height']=_0x4520e1,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x4520e1,!(0x1*0x2075+0x32+-0x20a7)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x55ac6f){if(this['_addedMode'+'ls']['length'])for(let _0x31fb21=0x1*-0x117a+-0x14e9+0x2663;_0x31fb21<this['_layers']['length'];_0x31fb21++){const _0x2ad0a0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x31fb21]);if(_0x2ad0a0){for(let _0xf0da8=-0x14fa+0x2*0x3a4+0xdb2;_0xf0da8<this['_addedMode'+'ls']['length'];_0xf0da8++)_0x2ad0a0['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0xf0da8]['meshInstan'+'ces']);}}if(this['_layers']=_0x55ac6f,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x59f14c=-0x857+0x1e10+0x53*-0x43;_0x59f14c<this['_layers']['length'];_0x59f14c++){const _0x5352fa=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x59f14c]);if(_0x5352fa){for(let _0xa4bf3=0x1f8f+0x4f2+0x3*-0xc2b;_0xa4bf3<this['_addedMode'+'ls']['length'];_0xa4bf3++)_0x5352fa['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0xa4bf3]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x4338ad){this['_margin']['x']=_0x4338ad;const _0x5909cb=this['entity']['getLocalPo'+'sition'](),_0x502afd=this['_absRight'],_0x35d7d4=this['_localAnch'+'or']['x']+_0x4338ad;this['_setWidth'](_0x502afd-_0x35d7d4),_0x5909cb['x']=_0x4338ad+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x5909cb);}get['left'](){return this['_margin']['x'];}set['margin'](_0x2f4a87){this['_margin']['copy'](_0x2f4a87),this['_calculate'+'Size'](!(0x178f+-0x17*-0x167+-0x37d0),!(-0x8bc+0x7c*0x3d+0xde*-0x18)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x192cf6){const {pivot:_0x520ce9,margin:_0x2efae0}=this,_0x1ca41f=_0x520ce9['x'],_0x34bb2a=_0x520ce9['y'];_0x192cf6 instanceof W?_0x520ce9['copy'](_0x192cf6):_0x520ce9['set'](..._0x192cf6);const _0x1883e1=_0x2efae0['x']+_0x2efae0['z'],_0x18e8e4=_0x520ce9['x']-_0x1ca41f;_0x2efae0['x']+=_0x1883e1*_0x18e8e4,_0x2efae0['z']-=_0x1883e1*_0x18e8e4;const _0x2d2297=_0x2efae0['y']+_0x2efae0['w'],_0x5331e2=_0x520ce9['y']-_0x34bb2a;_0x2efae0['y']+=_0x2d2297*_0x5331e2,_0x2efae0['w']-=_0x2d2297*_0x5331e2,this['_anchorDir'+'ty']=!(-0x5f2*-0x5+-0x1c70+-0x14a),this['_cornersDi'+'rty']=!(-0x3b5*-0xa+-0x15d8+-0xf3a),this['_worldCorn'+'ersDirty']=!(0x1b57*0x1+0x81*0x3+-0x1cda),this['_calculate'+'Size'](!(-0x98+-0x315+-0x3ae*-0x1),!(0xdf*-0x1f+0x71b+-0x3fb*-0x5)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x520ce9);}get['pivot'](){return this['_pivot'];}set['right'](_0x28f404){this['_margin']['z']=_0x28f404;const _0x26ed6c=this['entity']['getLocalPo'+'sition'](),_0x389f89=this['_absLeft'],_0x354f97=this['_localAnch'+'or']['z']-_0x28f404;this['_setWidth'](_0x354f97-_0x389f89),_0x26ed6c['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x28f404-this['_calculate'+'dWidth']*(0x2f*0x21+0x1*-0x7d3+0x1c5-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x26ed6c);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x518959=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x1*0x151f+0x877+-0x2*0xecb];this['_screenCor'+'ners'][-0xffd+-0x9c4+0x15b*0x13]['set'](this['_absLeft'],this['_absBottom'],-0x12a5+-0x11ca+-0x1*-0x246f),this['_screenCor'+'ners'][0x2128+-0x14*-0xcb+-0x3103]['set'](this['_absRight'],this['_absBottom'],-0x67*0x25+0x1673*0x1+-0x790),this['_screenCor'+'ners'][0x1cf9+0x67*0x3a+-0x344d]['set'](this['_absRight'],this['_absTop'],-0x3b*-0x13+-0x1d*0x10f+0x1a52),this['_screenCor'+'ners'][-0x25b9+-0x1dd3+0x438f]['set'](this['_absLeft'],this['_absTop'],-0x7bd*0x3+-0x1a16+0x314d*0x1);const _0x153963=this['screen']['screen']['screenSpac'+'e'];for(let _0x4a7ca2=-0x7fa*-0x4+0xfb0+0x2*-0x17cc;_0x4a7ca2<-0x13c1+0x1c0d+-0x848;_0x4a7ca2++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x4a7ca2],this['_screenCor'+'ners'][_0x4a7ca2]),_0x153963&&this['_screenCor'+'ners'][_0x4a7ca2]['mulScalar'](this['screen']['screen']['scale']),_0x518959&&this['_screenCor'+'ners'][_0x4a7ca2]['add'](_0x518959);return this['_cornersDi'+'rty']=!(-0x1f8f*0x1+-0x24fc+0x448c),this['_canvasCor'+'nersDirty']=!(-0xc58+-0x15fa+0x2*0x1129),this['_worldCorn'+'ersDirty']=!(0xe10+-0xa47+-0x3c9),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x13*-0xb3+0x2225+0x2f6e*-0x1;}get['textHeight'](){return this['_text']?this['_text']['height']:0x2*-0x4d7+0x2053+-0xbb*0x1f;}set['top'](_0x10dba3){this['_margin']['w']=_0x10dba3;const _0x1e8f2d=this['entity']['getLocalPo'+'sition'](),_0x2fbd50=this['_absBottom'],_0x1e0b22=this['_localAnch'+'or']['w']-_0x10dba3;this['_setHeight'](_0x1e0b22-_0x2fbd50),_0x1e8f2d['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x10dba3-this['_calculate'+'dHeight']*(0x21d0+0xb0*-0x2b+-0x43f-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x1e8f2d);}get['top'](){return this['_margin']['w'];}set['type'](_0x46090c){_0x46090c!==this['_type']&&(this['_type']=_0x46090c,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x46090c===lf?this['_image']=new gR(this):_0x46090c===tx&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0xef060d){this['_useInput']!==_0xef060d&&(this['_useInput']=_0xef060d,this['system']['app']['elementInp'+'ut']?_0xef060d?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0xc02+-0x1c1*0x6+0x1688)&&b['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0xef060d));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x3c97a6){this['_fitMode']=_0x3c97a6,this['_calculate'+'Size'](!(0xd2d+0x287*0xd+-0x2e08),!(-0x22a4+0x110b*0x2+-0x47*-0x2)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x26fc82){this['_width']=_0x26fc82,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x26fc82,!(-0x19fb+-0x540+0x29*0xc3)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x324c1e=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){as['copy'](this['screen']['screen']['_screenMat'+'rix']),as['data'][-0x1ef0+-0x15fd+0x34fa]=-as['data'][-0xca*0x11+-0x2*0x2d+0xdd1],as['mul2'](this['screen']['getWorldTr'+'ansform'](),as);for(let _0x25ee49=-0x1e10+0x24d0+0x4*-0x1b0;_0x25ee49<0x3cd*0x9+-0xf*-0x1a3+-0x2*0x1d5f;_0x25ee49++)as['transformP'+'oint'](_0x324c1e[_0x25ee49],this['_worldCorn'+'ers'][_0x25ee49]);}}else{const _0x41e62e=this['entity']['getLocalPo'+'sition']();as['setTransla'+'te'](-_0x41e62e['x'],-_0x41e62e['y'],-_0x41e62e['z']),eh['setTRS'](A['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),th['setTransla'+'te'](_0x41e62e['x'],_0x41e62e['y'],_0x41e62e['z']);const _0x39d74f=this['entity']['parent']?this['entity']['parent']:this['entity'];Vn['copy'](_0x39d74f['getWorldTr'+'ansform']()),Vn['mul'](th)['mul'](eh)['mul'](as),ci['set'](_0x41e62e['x']-this['pivot']['x']*this['calculated'+'Width'],_0x41e62e['y']-this['pivot']['y']*this['calculated'+'Height'],_0x41e62e['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][0xfbc+0x1b2+-0x17*0xc2]),ci['set'](_0x41e62e['x']+(0x13*0x167+0xa7f+-0x2523-this['pivot']['x'])*this['calculated'+'Width'],_0x41e62e['y']-this['pivot']['y']*this['calculated'+'Height'],_0x41e62e['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0xeb+-0x1b61+0x69*0x45]),ci['set'](_0x41e62e['x']+(0x814*0x4+0x1*-0x1d81+0x1*-0x2ce-this['pivot']['x'])*this['calculated'+'Width'],_0x41e62e['y']+(-0x2*-0x2fe+-0x257e+0x1f83-this['pivot']['y'])*this['calculated'+'Height'],_0x41e62e['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x43d+-0x12*0x1e7+0x267d]),ci['set'](_0x41e62e['x']-this['pivot']['x']*this['calculated'+'Width'],_0x41e62e['y']+(-0x1*0xb0f+-0xc92+0x17a2-this['pivot']['y'])*this['calculated'+'Height'],_0x41e62e['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][0x149f+0x4*0x5a4+-0x2b2c]);}return this['_worldCorn'+'ersDirty']=!(-0x16b7+-0x1b3b*0x1+0x31f3),this['_worldCorn'+'ers'];}set['fontSize'](_0x58987c){this['_setValue']('fontSize',_0x58987c);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x1cd4f7){this['_setValue']('minFontSiz'+'e',_0x1cd4f7);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x4e8c03){this['_setValue']('maxFontSiz'+'e',_0x4e8c03);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x9d2cdd){this['_setValue']('maxLines',_0x9d2cdd);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x46696c){this['_setValue']('autoFitWid'+'th',_0x46696c);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x32b021){this['_setValue']('autoFitHei'+'ght',_0x32b021);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x442730){this['_setValue']('color',_0x442730);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x306c74){this['_setValue']('font',_0x306c74);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x2a9d64){this['_setValue']('fontAsset',_0x2a9d64);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x2b3786){this['_setValue']('spacing',_0x2b3786);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x478ea4){this['_setValue']('lineHeight',_0x478ea4);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x5c5a86){this['_setValue']('wrapLines',_0x5c5a86);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x310c04){this['_setValue']('lines',_0x310c04);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x3c293d){this['_setValue']('alignment',_0x3c293d);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x1e268a){this['_setValue']('autoWidth',_0x1e268a);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x4daf99){this['_setValue']('autoHeight',_0x4daf99);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x1afbbc){this['_setValue']('rtlReorder',_0x1afbbc);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x205795){this['_setValue']('unicodeCon'+'verter',_0x205795);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x85360d){this['_setValue']('text',_0x85360d);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x344b00){this['_setValue']('key',_0x344b00);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x304fb1){this['_setValue']('texture',_0x304fb1);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x290d6c){this['_setValue']('textureAss'+'et',_0x290d6c);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x50d72a){this['_setValue']('material',_0x50d72a);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x422f18){this['_setValue']('materialAs'+'set',_0x422f18);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x38b44c){this['_setValue']('sprite',_0x38b44c);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x3151a0){this['_setValue']('spriteAsse'+'t',_0x3151a0);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x1512d8){this['_setValue']('spriteFram'+'e',_0x1512d8);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x21ad4e){this['_setValue']('pixelsPerU'+'nit',_0x21ad4e);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x3e1d1e){this['_setValue']('opacity',_0x3e1d1e);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x3ceb37){this['_setValue']('rect',_0x3ceb37);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x39aa24){this['_setValue']('mask',_0x39aa24);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x7c226){this['_setValue']('outlineCol'+'or',_0x7c226);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x126c2e){this['_setValue']('outlineThi'+'ckness',_0x126c2e);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x177762){this['_setValue']('shadowColo'+'r',_0x177762);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x3ac5a1){this['_setValue']('shadowOffs'+'et',_0x3ac5a1);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x4e6b66){this['_setValue']('enableMark'+'up',_0x4e6b66);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x6d88df){this['_setValue']('rangeStart',_0x6d88df);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x1a4b03){this['_setValue']('rangeEnd',_0x1a4b03);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x404250,_0x5da44e){this['_text']?(this['_text'][_0x404250]!==_0x5da44e&&this['_dirtyBatc'+'h'](),this['_text'][_0x404250]=_0x5da44e):this['_image']&&(this['_image'][_0x404250]!==_0x5da44e&&this['_dirtyBatc'+'h'](),this['_image'][_0x404250]=_0x5da44e);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=je['prototype']['_sync'],this['entity']['setPositio'+'n']=je['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=je['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x35704f,_0x22c583,_0x218edb){if(!this['element']['screen']){je['prototype']['setPositio'+'n']['call'](this,_0x35704f,_0x22c583,_0x218edb);return;}_0x35704f instanceof A?eu['copy'](_0x35704f):eu['set'](_0x35704f,_0x22c583,_0x218edb),this['getWorldTr'+'ansform'](),gg['copy'](this['element']['_screenToW'+'orld'])['invert'](),gg['transformP'+'oint'](eu,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x1cb50d,_0x4944c4,_0x1df8ca){_0x1cb50d instanceof A?this['localPosit'+'ion']['copy'](_0x1cb50d):this['localPosit'+'ion']['set'](_0x1cb50d,_0x4944c4,_0x1df8ca);const _0x3229b3=this['element'],_0x388407=this['localPosit'+'ion'],_0x1d3d8e=_0x3229b3['_pivot'];_0x3229b3['_margin']['x']=_0x388407['x']-_0x3229b3['_calculate'+'dWidth']*_0x1d3d8e['x'],_0x3229b3['_margin']['z']=_0x3229b3['_localAnch'+'or']['z']-_0x3229b3['_localAnch'+'or']['x']-_0x3229b3['_calculate'+'dWidth']-_0x3229b3['_margin']['x'],_0x3229b3['_margin']['y']=_0x388407['y']-_0x3229b3['_calculate'+'dHeight']*_0x1d3d8e['y'],_0x3229b3['_margin']['w']=_0x3229b3['_localAnch'+'or']['w']-_0x3229b3['_localAnch'+'or']['y']-_0x3229b3['_calculate'+'dHeight']-_0x3229b3['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x13a154=this['element'],_0x193a51=_0x13a154['screen'];if(_0x193a51){if(_0x13a154['_anchorDir'+'ty']){let _0x1d360b=0x1625+-0x98*0x1a+-0x6b5,_0x46e44d=0x2555+-0x8*0x4e1+0x1*0x1b3,_0x2b6fc0=-0x1*-0x112d+0x931+-0x2d*0x96,_0x1ec790=0x1*-0x11d6+0x207f+-0xea8;if(this['_parent']&&this['_parent']['element'])_0x1d360b=this['_parent']['element']['calculated'+'Width'],_0x46e44d=this['_parent']['element']['calculated'+'Height'],_0x2b6fc0=this['_parent']['element']['pivot']['x'],_0x1ec790=this['_parent']['element']['pivot']['y'];else{const _0x43b3a2=_0x193a51['screen']['resolution'];_0x1d360b=_0x43b3a2['x']/_0x193a51['screen']['scale'],_0x46e44d=_0x43b3a2['y']/_0x193a51['screen']['scale'];}_0x13a154['_anchorTra'+'nsform']['setTransla'+'te'](_0x1d360b*(_0x13a154['anchor']['x']-_0x2b6fc0),-(_0x46e44d*(_0x1ec790-_0x13a154['anchor']['y'])),-0x24e8+-0x174+-0x4*-0x997),_0x13a154['_anchorDir'+'ty']=!(-0x2589+-0x207b*0x1+0x4605),_0x13a154['_calculate'+'LocalAncho'+'rs']();}_0x13a154['_sizeDirty']&&_0x13a154['_calculate'+'Size'](!(-0x22*-0xbc+-0x155c+-0x39b),!(-0x979*0x1+0x1758+-0xdde));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x2b2ab4=this['localPosit'+'ion'],_0x1f5dc5=_0x13a154['_pivot'];_0x13a154['_margin']['x']=_0x2b2ab4['x']-_0x13a154['_calculate'+'dWidth']*_0x1f5dc5['x'],_0x13a154['_margin']['z']=_0x13a154['_localAnch'+'or']['z']-_0x13a154['_localAnch'+'or']['x']-_0x13a154['_calculate'+'dWidth']-_0x13a154['_margin']['x'],_0x13a154['_margin']['y']=_0x2b2ab4['y']-_0x13a154['_calculate'+'dHeight']*_0x1f5dc5['y'],_0x13a154['_margin']['w']=_0x13a154['_localAnch'+'or']['w']-_0x13a154['_localAnch'+'or']['y']-_0x13a154['_calculate'+'dHeight']-_0x13a154['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x2466+0x49*0x2f+0x1700);}if(!_0x193a51){this['_dirtyWorl'+'d']&&(_0x13a154['_cornersDi'+'rty']=!(0x11fc+-0x8d*-0x29+-0x9b*0x43),_0x13a154['_canvasCor'+'nersDirty']=!(-0x2381+-0x5cf*-0x1+0x43e*0x7),_0x13a154['_worldCorn'+'ersDirty']=!(-0x23b*-0x11+-0x15*-0x8a+-0x313d)),je['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x13a154['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x13a154['_anchorTra'+'nsform']):_0x13a154['_screenToW'+'orld']['copy'](_0x13a154['_anchorTra'+'nsform']),_0x13a154['_modelTran'+'sform']['mul2'](_0x13a154['_screenToW'+'orld'],this['localTrans'+'form']),_0x193a51){_0x13a154['_screenToW'+'orld']['mul2'](_0x193a51['screen']['_screenMat'+'rix'],_0x13a154['_screenToW'+'orld']),_0x193a51['screen']['screenSpac'+'e']||_0x13a154['_screenToW'+'orld']['mul2'](_0x193a51['worldTrans'+'form'],_0x13a154['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x13a154['_screenToW'+'orld'],this['localTrans'+'form']);const _0x5c7be5=_0x13a154['_parentWor'+'ldTransfor'+'m'];_0x5c7be5['setIdentit'+'y']();const _0x492e34=this['_parent'];_0x492e34&&_0x492e34['element']&&_0x492e34!==_0x193a51&&(as['setTRS'](A['ZERO'],_0x492e34['getLocalRo'+'tation'](),_0x492e34['getLocalSc'+'ale']()),_0x5c7be5['mul2'](_0x492e34['element']['_parentWor'+'ldTransfor'+'m'],as));const _0x3fcca2=ci;_0x3fcca2['set'](0xaad+0x7*0x246+-0x1a97*0x1,-0x2123+0x1*-0x1b2+-0x1*-0x22d5,this['localPosit'+'ion']['z']);const _0x41cc54=BR;_0x41cc54['set'](_0x13a154['_absLeft']+_0x13a154['_pivot']['x']*_0x13a154['calculated'+'Width'],_0x13a154['_absBottom']+_0x13a154['_pivot']['y']*_0x13a154['calculated'+'Height'],0x1814+-0xe91+-0x983),as['setTransla'+'te'](-_0x41cc54['x'],-_0x41cc54['y'],-_0x41cc54['z']),eh['setTRS'](_0x3fcca2,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),th['setTransla'+'te'](_0x41cc54['x'],_0x41cc54['y'],_0x41cc54['z']),_0x13a154['_screenTra'+'nsform']['mul2'](_0x13a154['_parentWor'+'ldTransfor'+'m'],th)['mul'](eh)['mul'](as),_0x13a154['_cornersDi'+'rty']=!(-0xc22+-0x16c3*0x1+-0x1*-0x22e5),_0x13a154['_canvasCor'+'nersDirty']=!(-0x19b8+0x87+0x1931),_0x13a154['_worldCorn'+'ersDirty']=!(-0x86f+0x2*-0x1fd+-0x3*-0x423);}else this['worldTrans'+'form']['copy'](_0x13a154['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(0xaca+0x4*-0x6ff+0x1133);}}['_onInsert'](_0x39a564){const _0x16ca0e=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x16ca0e['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x46f92b=this['entity'];for(;_0x46f92b;){const _0x1f7ab6=_0x46f92b['parent'];if((_0x1f7ab6===null||_0x1f7ab6['screen'])&&_0x46f92b['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),b['trace'](Es,'register\x20p'+'rerender'));const _0xcbd6a7=this['system']['_prerender']['indexOf'](this['entity']);_0xcbd6a7>=-0xa23*0x3+-0x1eb3+0x3d1c*0x1&&this['system']['_prerender']['splice'](_0xcbd6a7,-0xcf8+0x1131+-0x10e*0x4),this['system']['_prerender']['indexOf'](_0x46f92b)<-0x2602+0x24ce+-0x2*-0x9a&&this['system']['_prerender']['push'](_0x46f92b),b['trace'](Es,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x46f92b['name']);}_0x46f92b=_0x1f7ab6;}}['_onPrerend'+'er'](){for(let _0xd682a5=0x6ee*0x5+0x1e76+0x2*-0x208e;_0xd682a5<this['system']['_prerender']['length'];_0xd682a5++){const _0x53ee0a=this['system']['_prerender'][_0xd682a5];b['trace'](Es,'prerender\x20'+'from:\x20'+_0x53ee0a['name']),_0x53ee0a['element']&&_0x53ee0a['element']['syncMask'](0x5f4+0x258*-0xd+0x1885*0x1);}this['system']['_prerender']['length']=-0xd2d+-0x17*-0x144+-0xfef;}['_bindScree'+'n'](_0x2bea59){_0x2bea59['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x39da06){_0x39da06['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x30bee1){this['screen']&&this['screen']!==_0x30bee1&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x37b03d=this['screen'];this['screen']=_0x30bee1,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x37b03d),this['_anchorDir'+'ty']=!(-0x1ed*-0x5+-0x6*-0x321+-0x1c67*0x1);const _0x568802=this['entity']['children'];for(let _0x66347e=-0x1*0x21bb+0x2144+0x77,_0x5e628d=_0x568802['length'];_0x66347e<_0x5e628d;_0x66347e++)_0x568802[_0x66347e]['element']&&_0x568802[_0x66347e]['element']['_updateScr'+'een'](_0x30bee1);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x9f9d25){const _0x160132=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x160132['mask'],_0x9f9d25);}['_setMasked'+'By'](_0xc50a86){const _0xb040f9=this['_image']||this['_text'];if(_0xc50a86){const _0x332924=_0xc50a86['element']['_image']['_maskRef'];b['trace'](Es,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x332924),_0xb040f9==null||_0xb040f9['_setStenci'+'l'](new Zs({'ref':_0x332924,'func':Dh})),this['_maskedBy']=_0xc50a86;}else b['trace'](Es,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0xb040f9==null||_0xb040f9['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x4dda7e,_0x270f2c){var _0x2e2a77,_0x5976ff;if(_0x4dda7e){if(this['_setMasked'+'By'](_0x4dda7e),this['mask']){const _0x1db09a=_0x4dda7e['element']['_image']['_maskRef'],_0x2be6eb=new Zs({'ref':_0x1db09a,'func':Dh,'zpass':HS});this['_image']['_setStenci'+'l'](_0x2be6eb),this['_image']['_maskRef']=_0x270f2c,_0x270f2c++,b['trace'](Es,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x2be6eb['ref']+(0x2102+-0x19fc+-0x705))),b['trace'](Es,'depth++\x20to'+':\x20',_0x270f2c),_0x4dda7e=this['entity'];}const _0x173f0e=this['entity']['children'];for(let _0x3511d9=0x18c7+-0x26bd+-0x6fb*-0x2,_0x56ad08=_0x173f0e['length'];_0x3511d9<_0x56ad08;_0x3511d9++)(_0x2e2a77=_0x173f0e[_0x3511d9]['element'])==null||_0x2e2a77['_updateMas'+'k'](_0x4dda7e,_0x270f2c);this['mask']&&_0x270f2c--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x412810=new Zs({'ref':_0x270f2c,'func':Ri,'zpass':GS});this['_image']['_setStenci'+'l'](_0x412810),this['_image']['_maskRef']=_0x270f2c,_0x270f2c++,b['trace'](Es,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x412810['ref']),b['trace'](Es,'depth++\x20to'+':\x20',_0x270f2c),_0x4dda7e=this['entity'];}const _0xf35f21=this['entity']['children'];for(let _0x591db0=-0x7*-0x3ad+0x1cc8+-0x3683,_0x19668e=_0xf35f21['length'];_0x591db0<_0x19668e;_0x591db0++)(_0x5976ff=_0xf35f21[_0x591db0]['element'])==null||_0x5976ff['_updateMas'+'k'](_0x4dda7e,_0x270f2c);this['mask']&&_0x270f2c--;}}['_parseUpTo'+'Screen'](){const _0x5778c7={'screen':null,'mask':null};let _0x489090=this['entity']['_parent'];for(;_0x489090&&!_0x489090['screen'];)_0x489090['element']&&_0x489090['element']['mask']&&(_0x5778c7['mask']||(_0x5778c7['mask']=_0x489090)),_0x489090=_0x489090['parent'];return _0x489090&&_0x489090['screen']&&(_0x5778c7['screen']=_0x489090),_0x5778c7;}['_onScreenR'+'esize'](_0xa2a60b){this['_anchorDir'+'ty']=!(-0xd*0x140+0x173f+-0x6ff),this['_cornersDi'+'rty']=!(-0x529+-0x12f2+0x181b),this['_worldCorn'+'ersDirty']=!(-0x1c16+0x290+-0x129*-0x16),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0xa2a60b);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x13105a=0xb39+-0x75e+0x1*0xd,_0x23e22=0x1*-0x1539+0x263b*-0x1+0x3f5c;const _0x1c3796=this['entity']['_parent'];if(_0x1c3796&&_0x1c3796['element'])_0x13105a=_0x1c3796['element']['calculated'+'Width'],_0x23e22=_0x1c3796['element']['calculated'+'Height'];else{if(this['screen']){const _0x46f3e1=this['screen']['screen']['resolution'],_0x48e4a1=this['screen']['screen']['scale'];_0x13105a=_0x46f3e1['x']/_0x48e4a1,_0x23e22=_0x46f3e1['y']/_0x48e4a1;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x13105a,this['_anchor']['y']*_0x23e22,this['_anchor']['z']*_0x13105a,this['_anchor']['w']*_0x23e22);}['getOffsetP'+'osition'](_0x5be4ce,_0x3973b9){const _0x34eae4=this['entity']['getLocalPo'+'sition']()['clone']();return _0x34eae4['x']+=_0x5be4ce,_0x34eae4['y']+=_0x3973b9,this['_screenToW'+'orld']['transformP'+'oint'](_0x34eae4,_0x34eae4),_0x34eae4;}['onLayersCh'+'anged'](_0x580d18,_0x2fa6fb){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x580d18['off']('add',this['onLayerAdd'+'ed'],this),_0x580d18['off']('remove',this['onLayerRem'+'oved'],this),_0x2fa6fb['on']('add',this['onLayerAdd'+'ed'],this),_0x2fa6fb['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xf56a50){this['layers']['indexOf'](_0xf56a50['id'])<0x3d*0x53+-0x24*-0xd5+-0x31bb||(this['_image']?_0xf56a50['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0xf56a50['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x18bc64){this['layers']['indexOf'](_0x18bc64['id'])<-0x1ede+0x23*-0xe5+0x5a7*0xb||(this['_image']?_0x18bc64['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x18bc64['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x547c2d;const _0x5a4d69=this['system']['app']['scene'],_0x5818c5=_0x5a4d69['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x5a4d69['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5818c5&&(this['_evtLayerA'+'dded']=_0x5818c5['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5818c5['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x1*-0x11b1+-0x272+0x1423&&((_0x547c2d=this['system']['app']['batcher'])==null||_0x547c2d['insert'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x27c14d,_0x546dbb,_0x16862c,_0x53a4a2;const _0x29b9e0=this['system']['app']['scene']['layers'];(_0x27c14d=this['_evtLayers'+'Changed'])==null||_0x27c14d['off'](),this['_evtLayers'+'Changed']=null,_0x29b9e0&&((_0x546dbb=this['_evtLayerA'+'dded'])==null||_0x546dbb['off'](),this['_evtLayerA'+'dded']=null,(_0x16862c=this['_evtLayerR'+'emoved'])==null||_0x16862c['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x4b6+0x1c76+-0x17c0&&((_0x53a4a2=this['system']['app']['batcher'])==null||_0x53a4a2['remove'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x533bf3,_0x4b097a){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x1a4e40=this['_absRight']-this['_absLeft'],_0x395c57=this['_absTop']-this['_absBottom'];_0x533bf3?this['_setWidth'](_0x1a4e40):this['_setCalcul'+'atedWidth'](_0x1a4e40,!(-0x1786*0x1+0x2*-0x11f2+0x3b6b)),_0x4b097a?this['_setHeight'](_0x395c57):this['_setCalcul'+'atedHeight'](_0x395c57,!(0xd94+-0x1*0x5d+-0xd36));const _0x12ea85=this['entity']['getLocalPo'+'sition']();_0x12ea85['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x12ea85['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x12ea85),this['_sizeDirty']=!(-0x1*0x1fc9+0xecc+0x10fe);}['_setWidth'](_0x4663fb){this['_width']=_0x4663fb,this['_setCalcul'+'atedWidth'](_0x4663fb,!(-0xca4+-0x745*-0x1+-0x56*-0x10)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x4781da){this['_height']=_0x4781da,this['_setCalcul'+'atedHeight'](_0x4781da,!(0x5b*0x7+0x9d8+-0xc54)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x38ac07,_0x359beb){if(!(Math['abs'](_0x38ac07-this['_calculate'+'dWidth'])<=-0x968+-0x1d2b+0x2693+0.0001)){if(this['_calculate'+'dWidth']=_0x38ac07,this['entity']['_dirtifyLo'+'cal'](),_0x359beb){const _0x5e4b72=this['entity']['getLocalPo'+'sition'](),_0x50e0b1=this['_pivot'];this['_margin']['x']=_0x5e4b72['x']-this['_calculate'+'dWidth']*_0x50e0b1['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x22ceb7,_0xfc1d2b){if(!(Math['abs'](_0x22ceb7-this['_calculate'+'dHeight'])<=-0x346*-0x7+0x707+-0x1df1+0.0001)){if(this['_calculate'+'dHeight']=_0x22ceb7,this['entity']['_dirtifyLo'+'cal'](),_0xfc1d2b){const _0x13fac1=this['entity']['getLocalPo'+'sition'](),_0x24ae08=this['_pivot'];this['_margin']['y']=_0x13fac1['y']-this['_calculate'+'dHeight']*_0x24ae08['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x50ffad=this['entity']['_children'];for(let _0x6987a=-0x833*-0x1+0x16f5+-0x1f28,_0x58d13f=_0x50ffad['length'];_0x6987a<_0x58d13f;_0x6987a++)_0x50ffad[_0x6987a]['element']&&(_0x50ffad[_0x6987a]['element']['_anchorDir'+'ty']=!(-0x200b*0x1+-0x494*-0x7+-0x1),_0x50ffad[_0x6987a]['element']['_sizeDirty']=!(0x1201+0xd+-0x120e));}['addModelTo'+'Layers'](_0xc8440c){this['_addedMode'+'ls']['push'](_0xc8440c);for(let _0x2b840b=-0x5*0x795+0x25*0xb3+-0x43*-0x2e;_0x2b840b<this['layers']['length'];_0x2b840b++){const _0x601d49=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x2b840b]);_0x601d49&&_0x601d49['addMeshIns'+'tances'](_0xc8440c['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x1f6b4f){const _0x22ea7d=this['_addedMode'+'ls']['indexOf'](_0x1f6b4f);_0x22ea7d>=-0xdba+0x1a11*-0x1+0x27cb&&this['_addedMode'+'ls']['splice'](_0x22ea7d,0x11*-0x18d+-0x200c+0x1*0x3a6a);for(let _0x4c12dd=0x5*-0x1d3+0x2042+0x1723*-0x1;_0x4c12dd<this['layers']['length'];_0x4c12dd++){const _0x2e8820=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4c12dd]);_0x2e8820&&_0x2e8820['removeMesh'+'Instances'](_0x1f6b4f['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x31c054=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x31c054&&(this['_maskOffse'+'t']=0x4b7*0x4+0x813+-0x1aef+0.5,this['_offsetRea'+'dAt']=_0x31c054);const _0x235731=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=0xc0a+-0x10fd+0xb5*0x7+0.001,_0x235731;}['isVisibleF'+'orCamera'](_0x5a8423){let _0x1cb272,_0x2a35d2,_0x67aa8c,_0x3b601f;if(this['maskedBy']){const _0x4bcd57=this['maskedBy']['element']['screenCorn'+'ers'];_0x1cb272=Math['min'](Math['min'](_0x4bcd57[-0x1*0x2d1+-0x65*0x1f+0xf0c]['x'],_0x4bcd57[0x1*-0x40b+-0x9*-0x1f5+-0xd91]['x']),Math['min'](_0x4bcd57[0x23a6+0xaf0+-0x2e94]['x'],_0x4bcd57[0x1937*0x1+0x7fd*0x3+-0x312b*0x1]['x'])),_0x2a35d2=Math['max'](Math['max'](_0x4bcd57[0x457+0x1*0xedb+-0x1332]['x'],_0x4bcd57[0x20d+0x258c+-0x9e6*0x4]['x']),Math['max'](_0x4bcd57[0x13ec+-0xc*0x1ae+0x3e]['x'],_0x4bcd57[0x63*0x29+-0x2a9+-0xd2f]['x'])),_0x3b601f=Math['min'](Math['min'](_0x4bcd57[-0x6f3+-0x1a11+0x2104]['y'],_0x4bcd57[0x684+-0x268*0x5+-0x585*-0x1]['y']),Math['min'](_0x4bcd57[0x1*0xede+-0xa78+-0x464]['y'],_0x4bcd57[-0x181*-0xb+-0x8c5*0x4+0x128c]['y'])),_0x67aa8c=Math['max'](Math['max'](_0x4bcd57[-0x1b61*-0x1+0x903*-0x1+-0x92f*0x2]['y'],_0x4bcd57[-0x1*-0x1d57+0x1db3+-0x3b09]['y']),Math['max'](_0x4bcd57[-0x2*0xfb5+0x1*-0xdf9+-0x1*-0x2d65]['y'],_0x4bcd57[-0x1ab1*-0x1+-0x1*-0x49f+-0x1f4d]['y']));}else{const _0x2bf3e2=this['system']['app']['graphicsDe'+'vice']['width'],_0x4f3d8c=this['system']['app']['graphicsDe'+'vice']['height'],_0x313566=_0x5a8423['_rect']['z']*_0x2bf3e2,_0xf92fdc=_0x5a8423['_rect']['w']*_0x4f3d8c;_0x1cb272=_0x5a8423['_rect']['x']*_0x2bf3e2,_0x2a35d2=_0x1cb272+_0x313566,_0x67aa8c=(-0xf62+-0xa09+0x4*0x65b-_0x5a8423['_rect']['y'])*_0x4f3d8c,_0x3b601f=_0x67aa8c-_0xf92fdc;}const _0x41e9cb=this['screenCorn'+'ers'],_0x31bc6b=Math['min'](Math['min'](_0x41e9cb[0xe1d+-0x1*-0x16f9+-0x2516]['x'],_0x41e9cb[0x5a6*-0x4+-0x80d+0x1ea6]['x']),Math['min'](_0x41e9cb[-0x1c*0x6d+-0x364+0x25*0x6a]['x'],_0x41e9cb[-0x1*0x77c+0x4a4+-0x11*-0x2b]['x'])),_0x27632b=Math['max'](Math['max'](_0x41e9cb[0xcb8+0x43*0x67+-0x7*0x5ab]['x'],_0x41e9cb[0xb37+0x242*0x1+-0xd78]['x']),Math['max'](_0x41e9cb[-0x1*0xb29+0x3e5+0x85*0xe]['x'],_0x41e9cb[-0x1*-0x49c+-0x79*-0x1b+0x2c*-0x65]['x'])),_0x2efdd8=Math['min'](Math['min'](_0x41e9cb[-0x1*-0x25b7+-0x149*-0xe+-0x37b5]['y'],_0x41e9cb[0x3*-0x24a+0x198e*-0x1+0x206d]['y']),Math['min'](_0x41e9cb[-0xe*0x1a5+-0xfff*-0x1+-0x709*-0x1]['y'],_0x41e9cb[0x2*-0xbb3+0x12f6+-0x1*-0x473]['y'])),_0x196b86=Math['max'](Math['max'](_0x41e9cb[0x1ff+-0x4*0x2d8+0x157*0x7]['y'],_0x41e9cb[0x1*0x1723+-0x2300+0x1*0xbde]['y']),Math['max'](_0x41e9cb[0x137d+0x678+-0xd*0x1ff]['y'],_0x41e9cb[0x136c+0x2681+-0x39ea]['y']));return!(_0x27632b<_0x1cb272||_0x31bc6b>_0x2a35d2||_0x2efdd8>_0x67aa8c||_0x196b86<_0x3b601f);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(-0x2429*-0x1+0xa19+0x2e41*-0x1);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(0x25*-0xfe+0x1766+0xd51);}['_dirtyBatc'+'h'](){var _0x5cbb38;this['batchGroup'+'Id']!==-(0x3*-0x895+-0x1d6b+0x372b)&&((_0x5cbb38=this['system']['app']['batcher'])==null||_0x5cbb38['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Kt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Kt,'EVENT_MOUS'+'EUP','mouseup'),c(Kt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Kt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Kt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Kt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Kt,'EVENT_CLIC'+'K','click'),c(Kt,'EVENT_TOUC'+'HSTART','touchstart'),c(Kt,'EVENT_TOUC'+'HEND','touchend'),c(Kt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Kt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class NR{constructor(){this['enabled']=!(-0x17ec+-0xfd4+0x27c0);}}const zR=['enabled'];class UR extends Qe{constructor(_0x4e8c55){super(_0x4e8c55),this['id']='element',this['ComponentT'+'ype']=Kt,this['DataType']=NR,this['schema']=zR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new ce(_0x4e8c55['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':cs,'name':'element-sy'+'stem'});const _0xa7011e=this['_defaultTe'+'xture']['lock'](),_0x454a1d=new Uint8Array(-0x4d*0x6d+-0xb*-0x53+0x1d3c);_0x454a1d[0xfcf+0x1a14*-0x1+-0xb*-0xef]=0xaa9*0x1+-0xcb5*0x1+0x30b,_0x454a1d[0x1a*0x8e+0xc21+-0x1a8c]=0x198a+0x25ff+-0x3e8a,_0x454a1d[-0x10db+0x65a*-0x2+0x349*0x9]=0x119+0x5*-0x99+-0x2e3*-0x1,_0x454a1d[-0x72*-0x10+0x11b8+0xd*-0x1e9]=-0xebd*-0x2+-0x56*0x55+0x13,_0xa7011e['set'](_0x454a1d),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x4cce43,_0x54773b,_0x5138e1){_0x4cce43['_beingInit'+'ialized']=!(-0x21bf+-0x70e+0x28cd),_0x54773b['anchor']!==void(-0x1*-0xb2d+0x1*0x2194+-0x2cc1)&&(_0x54773b['anchor']instanceof ee?_0x4cce43['anchor']['copy'](_0x54773b['anchor']):_0x4cce43['anchor']['set'](_0x54773b['anchor'][0x1315+0x5d8+0x3*-0x84f],_0x54773b['anchor'][0x1*-0x21a8+0x1480+-0x463*-0x3],_0x54773b['anchor'][0x2009+0x7bf*0x5+0x3*-0x1796],_0x54773b['anchor'][-0x4*-0x17e+-0x11a*-0x8+0x13*-0xc7])),_0x54773b['pivot']!==void(-0x1*-0x23bc+0xc*-0x103+-0x1798)&&(_0x54773b['pivot']instanceof W?_0x4cce43['pivot']['copy'](_0x54773b['pivot']):_0x4cce43['pivot']['set'](_0x54773b['pivot'][-0x250f+-0x25cd*-0x1+-0x2*0x5f],_0x54773b['pivot'][0x228a+-0x1fa3+0x173*-0x2]));const _0x218f0f=Math['abs'](_0x4cce43['anchor']['x']-_0x4cce43['anchor']['z'])>0x1e6*0x1+0x1f1e+0x2*-0x1082+0.001,_0x3bdb04=Math['abs'](_0x4cce43['anchor']['y']-_0x4cce43['anchor']['w'])>-0xb1e*0x1+0x1842+0x2*-0x692+0.001;let _0x5b8433=!(0x936+-0x175f*0x1+0xe*0x103),_0x2e67c3;_0x54773b['margin']!==void(-0x4f*0x3a+0x1c*0x33+-0xa6*-0x13)&&(_0x54773b['margin']instanceof ee?_0x4cce43['margin']['copy'](_0x54773b['margin']):_0x4cce43['_margin']['set'](_0x54773b['margin'][0x18fa+-0x2*-0x97d+-0x4*0xafd],_0x54773b['margin'][0xb*0x104+-0x14f*-0xd+-0x1c2e],_0x54773b['margin'][0xaca+-0x2554*0x1+0x6a3*0x4],_0x54773b['margin'][-0x1c2d+-0x1e3e+0x33f*0x12]),_0x5b8433=!(0xa3*0x21+0x1*-0x3a3+-0x1160)),_0x54773b['left']!==void(-0x2e*-0x67+0x2e*0x25+-0x1928)&&(_0x4cce43['_margin']['x']=_0x54773b['left'],_0x5b8433=!(0x2*-0x9ae+0x1a38+0x36e*-0x2)),_0x54773b['bottom']!==void(0x3*-0x667+0x2467+-0x1*0x1132)&&(_0x4cce43['_margin']['y']=_0x54773b['bottom'],_0x5b8433=!(-0x1dca+0x33*0x39+0x126f)),_0x54773b['right']!==void(-0x15ee+-0x2228+0x3816)&&(_0x4cce43['_margin']['z']=_0x54773b['right'],_0x5b8433=!(-0xde9*0x2+0x1cd2+-0x80*0x2)),_0x54773b['top']!==void(0xd35+-0xc7f+0x1a*-0x7)&&(_0x4cce43['_margin']['w']=_0x54773b['top'],_0x5b8433=!(-0x108+0x1bb5+-0x1aad)),_0x5b8433&&(_0x4cce43['margin']=_0x4cce43['_margin']);let _0x316794=!(0x1bfe+0x2*0xed+-0x1dd7);_0x54773b['width']!==void(0x1*0x1b9f+0x1a*-0x1e+-0x831*0x3)&&!_0x218f0f?_0x4cce43['width']=_0x54773b['width']:_0x218f0f&&(_0x316794=!(-0x20bc+0x44c+0x1c70)),_0x54773b['height']!==void(-0xe*0x3f+-0x9*-0xa3+-0x249)&&!_0x3bdb04?_0x4cce43['height']=_0x54773b['height']:_0x3bdb04&&(_0x316794=!(-0x1073+0x1b*0x66+0x2f*0x1f)),_0x316794&&(_0x4cce43['anchor']=_0x4cce43['anchor']),_0x54773b['enabled']!==void(0x3*-0xb33+-0xbea+0x2d83)&&(_0x4cce43['enabled']=_0x54773b['enabled']),_0x54773b['useInput']!==void(0x718+0x11b+-0x833)&&(_0x4cce43['useInput']=_0x54773b['useInput']),_0x54773b['fitMode']!==void(-0x2*-0x11a5+-0xa07+0x1d*-0xdf)&&(_0x4cce43['fitMode']=_0x54773b['fitMode']),_0x4cce43['batchGroup'+'Id']=_0x54773b['batchGroup'+'Id']===void(-0x1*0xf58+-0x1*0x328+0x1280)||_0x54773b['batchGroup'+'Id']===null?-(-0x10bd+0x21*-0x67+0x1e05):_0x54773b['batchGroup'+'Id'],_0x54773b['layers']&&Array['isArray'](_0x54773b['layers'])&&(_0x4cce43['layers']=_0x54773b['layers']['slice'](0x22*-0x1+-0x25d1+0x25f3)),_0x54773b['type']!==void(0x1*-0x2587+-0x199*-0x13+-0xc*-0x99)&&(_0x4cce43['type']=_0x54773b['type']),_0x4cce43['type']===lf?(_0x54773b['rect']!==void(0x223*0x1+0x11*0x7d+0xa70*-0x1)&&(_0x4cce43['rect']=_0x54773b['rect']),_0x54773b['color']!==void(-0x16fd+0x1b68+-0x46b*0x1)&&(_0x2e67c3=_0x54773b['color'],_0x2e67c3 instanceof Y||(_0x2e67c3=new Y(_0x54773b['color'][0xc73+-0x3f7*0x1+-0x87c],_0x54773b['color'][0x19d8+-0x1*-0x1142+-0x2b19],_0x54773b['color'][-0x2411+-0x6e7+0x2afa*0x1])),_0x4cce43['color']=_0x2e67c3),_0x54773b['opacity']!==void(0x8f8+-0x174c+0x2*0x72a)&&(_0x4cce43['opacity']=_0x54773b['opacity']),_0x54773b['textureAss'+'et']!==void(0x3*0x24f+-0x2f0*-0x9+-0x9*0x3b5)&&(_0x4cce43['textureAss'+'et']=_0x54773b['textureAss'+'et']),_0x54773b['texture']&&(_0x4cce43['texture']=_0x54773b['texture']),_0x54773b['spriteAsse'+'t']!==void(0x31f*0x2+0xe7d+-0x14bb)&&(_0x4cce43['spriteAsse'+'t']=_0x54773b['spriteAsse'+'t']),_0x54773b['sprite']&&(_0x4cce43['sprite']=_0x54773b['sprite']),_0x54773b['spriteFram'+'e']!==void(-0x8*0x397+0xd53+0xf65)&&(_0x4cce43['spriteFram'+'e']=_0x54773b['spriteFram'+'e']),_0x54773b['pixelsPerU'+'nit']!==void(0x4f*0x59+0x74c+-0x22c3)&&_0x54773b['pixelsPerU'+'nit']!==null&&(_0x4cce43['pixelsPerU'+'nit']=_0x54773b['pixelsPerU'+'nit']),_0x54773b['materialAs'+'set']!==void(0xc3e+0x18d9*0x1+-0x9*0x41f)&&(_0x4cce43['materialAs'+'set']=_0x54773b['materialAs'+'set']),_0x54773b['material']&&(_0x4cce43['material']=_0x54773b['material']),_0x54773b['mask']!==void(0x886+0x138c+-0x1c12)&&(_0x4cce43['mask']=_0x54773b['mask'])):_0x4cce43['type']===tx&&(_0x54773b['autoWidth']!==void(0x2039*-0x1+-0x384*-0xa+0x2ef*-0x1)&&(_0x4cce43['autoWidth']=_0x54773b['autoWidth']),_0x54773b['autoHeight']!==void(-0x2c*-0x7f+-0x9*-0x1c6+0x566*-0x7)&&(_0x4cce43['autoHeight']=_0x54773b['autoHeight']),_0x54773b['rtlReorder']!==void(-0x1eb8+-0x6cd*0x4+0x39ec)&&(_0x4cce43['rtlReorder']=_0x54773b['rtlReorder']),_0x54773b['unicodeCon'+'verter']!==void(-0x1*-0x1d41+0x2238+-0x3f79)&&(_0x4cce43['unicodeCon'+'verter']=_0x54773b['unicodeCon'+'verter']),_0x54773b['text']!==null&&_0x54773b['text']!==void(0x1d9*0x5+0x807+-0x1144)?_0x4cce43['text']=_0x54773b['text']:_0x54773b['key']!==null&&_0x54773b['key']!==void(0xd*-0x1+0x3f3*0x6+-0x17a5)&&(_0x4cce43['key']=_0x54773b['key']),_0x54773b['color']!==void(-0x1*-0x155+0x261a*0x1+-0x3*0xd25)&&(_0x2e67c3=_0x54773b['color'],_0x2e67c3 instanceof Y||(_0x2e67c3=new Y(_0x2e67c3[-0x399*0x9+0x1ef1+0x17*0x10],_0x2e67c3[0x54+0x1573+-0x6*0x3a1],_0x2e67c3[0x7c7+-0xf*0xad+0x25e])),_0x4cce43['color']=_0x2e67c3),_0x54773b['opacity']!==void(-0x1991+0x7*0x524+-0x7f*0x15)&&(_0x4cce43['opacity']=_0x54773b['opacity']),_0x54773b['spacing']!==void(0xb72*0x1+0x557*-0x1+-0x61b)&&(_0x4cce43['spacing']=_0x54773b['spacing']),_0x54773b['fontSize']!==void(0xcab*-0x1+-0x711*0x1+0x2*0x9de)&&(_0x4cce43['fontSize']=_0x54773b['fontSize'],_0x54773b['lineHeight']||(_0x4cce43['lineHeight']=_0x54773b['fontSize'])),_0x54773b['lineHeight']!==void(-0x8e*-0x11+0x3*-0xa09+0x14ad)&&(_0x4cce43['lineHeight']=_0x54773b['lineHeight']),_0x54773b['maxLines']!==void(-0x1*0x573+0x11a6+-0xc33)&&(_0x4cce43['maxLines']=_0x54773b['maxLines']),_0x54773b['wrapLines']!==void(-0x4*0x8cf+0x1*0x1b1a+0x822)&&(_0x4cce43['wrapLines']=_0x54773b['wrapLines']),_0x54773b['minFontSiz'+'e']!==void(-0x619*0x1+-0xf39+0xaa9*0x2)&&(_0x4cce43['minFontSiz'+'e']=_0x54773b['minFontSiz'+'e']),_0x54773b['maxFontSiz'+'e']!==void(-0x1bbb+-0x1a5c+0xe3*0x3d)&&(_0x4cce43['maxFontSiz'+'e']=_0x54773b['maxFontSiz'+'e']),_0x54773b['autoFitWid'+'th']&&(_0x4cce43['autoFitWid'+'th']=_0x54773b['autoFitWid'+'th']),_0x54773b['autoFitHei'+'ght']&&(_0x4cce43['autoFitHei'+'ght']=_0x54773b['autoFitHei'+'ght']),_0x54773b['fontAsset']!==void(-0x1c02+-0x10d*0x1+0x1d0f)&&(_0x4cce43['fontAsset']=_0x54773b['fontAsset']),_0x54773b['font']!==void(0x170e+-0x1a*0x13e+-0x49f*-0x2)&&(_0x4cce43['font']=_0x54773b['font']),_0x54773b['alignment']!==void(0x1828+0x1*0x134f+-0x2b77)&&(_0x4cce43['alignment']=_0x54773b['alignment']),_0x54773b['outlineCol'+'or']!==void(-0x16ae+0xfc2+0x4*0x1bb)&&(_0x4cce43['outlineCol'+'or']=_0x54773b['outlineCol'+'or']),_0x54773b['outlineThi'+'ckness']!==void(0x53*-0x47+-0x3*0x33e+0x20bf*0x1)&&(_0x4cce43['outlineThi'+'ckness']=_0x54773b['outlineThi'+'ckness']),_0x54773b['shadowColo'+'r']!==void(0x943+0x11*0xe0+-0x1823)&&(_0x4cce43['shadowColo'+'r']=_0x54773b['shadowColo'+'r']),_0x54773b['shadowOffs'+'et']!==void(-0x2a*-0xd+0x16ff+0x1*-0x1921)&&(_0x4cce43['shadowOffs'+'et']=_0x54773b['shadowOffs'+'et']),_0x54773b['enableMark'+'up']!==void(-0x176d+0x3*-0xd5+0x9e*0x2a)&&(_0x4cce43['enableMark'+'up']=_0x54773b['enableMark'+'up']));const _0x4ab136=_0x4cce43['_parseUpTo'+'Screen']();_0x4ab136['screen']&&_0x4cce43['_updateScr'+'een'](_0x4ab136['screen']),super['initialize'+'ComponentD'+'ata'](_0x4cce43,_0x54773b,_0x5138e1),_0x4cce43['_beingInit'+'ialized']=!(-0xc*-0x133+0x2082+-0x2ee5),_0x4cce43['type']===lf&&_0x4cce43['_image']['_meshDirty']&&_0x4cce43['_image']['_updateMes'+'h'](_0x4cce43['_image']['mesh']);}['onAddCompo'+'nent'](_0x3af2e3,_0x196d04){_0x3af2e3['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x4b1678,_0x2880cd){_0x2880cd['onRemove']();}['cloneCompo'+'nent'](_0x485a07,_0x2e3a44){const _0x2c4b70=_0x485a07['element'],_0x4b1b9f={'enabled':_0x2c4b70['enabled'],'width':_0x2c4b70['width'],'height':_0x2c4b70['height'],'anchor':_0x2c4b70['anchor']['clone'](),'pivot':_0x2c4b70['pivot']['clone'](),'margin':_0x2c4b70['margin']['clone'](),'alignment':_0x2c4b70['alignment']&&_0x2c4b70['alignment']['clone']()||_0x2c4b70['alignment'],'autoWidth':_0x2c4b70['autoWidth'],'autoHeight':_0x2c4b70['autoHeight'],'type':_0x2c4b70['type'],'rect':_0x2c4b70['rect']&&_0x2c4b70['rect']['clone']()||_0x2c4b70['rect'],'rtlReorder':_0x2c4b70['rtlReorder'],'unicodeConverter':_0x2c4b70['unicodeCon'+'verter'],'materialAsset':_0x2c4b70['materialAs'+'set'],'material':_0x2c4b70['material'],'color':_0x2c4b70['color']&&_0x2c4b70['color']['clone']()||_0x2c4b70['color'],'opacity':_0x2c4b70['opacity'],'textureAsset':_0x2c4b70['textureAss'+'et'],'texture':_0x2c4b70['texture'],'spriteAsset':_0x2c4b70['spriteAsse'+'t'],'sprite':_0x2c4b70['sprite'],'spriteFrame':_0x2c4b70['spriteFram'+'e'],'pixelsPerUnit':_0x2c4b70['pixelsPerU'+'nit'],'spacing':_0x2c4b70['spacing'],'lineHeight':_0x2c4b70['lineHeight'],'wrapLines':_0x2c4b70['wrapLines'],'layers':_0x2c4b70['layers'],'fontSize':_0x2c4b70['fontSize'],'minFontSize':_0x2c4b70['minFontSiz'+'e'],'maxFontSize':_0x2c4b70['maxFontSiz'+'e'],'autoFitWidth':_0x2c4b70['autoFitWid'+'th'],'autoFitHeight':_0x2c4b70['autoFitHei'+'ght'],'maxLines':_0x2c4b70['maxLines'],'fontAsset':_0x2c4b70['fontAsset'],'font':_0x2c4b70['font'],'useInput':_0x2c4b70['useInput'],'fitMode':_0x2c4b70['fitMode'],'batchGroupId':_0x2c4b70['batchGroup'+'Id'],'mask':_0x2c4b70['mask'],'outlineColor':_0x2c4b70['outlineCol'+'or']&&_0x2c4b70['outlineCol'+'or']['clone']()||_0x2c4b70['outlineCol'+'or'],'outlineThickness':_0x2c4b70['outlineThi'+'ckness'],'shadowColor':_0x2c4b70['shadowColo'+'r']&&_0x2c4b70['shadowColo'+'r']['clone']()||_0x2c4b70['shadowColo'+'r'],'shadowOffset':_0x2c4b70['shadowOffs'+'et']&&_0x2c4b70['shadowOffs'+'et']['clone']()||_0x2c4b70['shadowOffs'+'et'],'enableMarkup':_0x2c4b70['enableMark'+'up']};return _0x2c4b70['key']!==void(0x869+-0xbe1+-0x378*-0x1)&&_0x2c4b70['key']!==null?_0x4b1b9f['key']=_0x2c4b70['key']:_0x4b1b9f['text']=_0x2c4b70['text'],this['addCompone'+'nt'](_0x2e3a44,_0x4b1b9f);}['getTextEle'+'mentMateri'+'al'](_0x49cf22,_0x51c673,_0x3f5a7a){const _0xaedef8=(_0x49cf22&&0x629*-0x5+0x7b*0xb+0x1985)|(_0x51c673&&-0x5*0x4f9+-0xc99+0x2578)|(_0x3f5a7a&&-0x9d9+-0x14c5+0x1ea2);let _0x392440=this['_defaultTe'+'xtMaterial'+'s'][_0xaedef8];if(_0x392440)return _0x392440;let _0x12be7d='TextMateri'+'al';return _0x392440=new _s(),_0x51c673?(_0x392440['msdfMap']=this['_defaultTe'+'xture'],_0x392440['msdfTextAt'+'tribute']=_0x3f5a7a,_0x392440['emissive']['set'](-0x13ad+-0x2178+-0x3526*-0x1,-0x8ec*-0x2+0x4c9*-0x4+-0x14d*-0x1,0x2206+0x1661+-0x3866)):(_0x12be7d='Bitmap'+_0x12be7d,_0x392440['emissive']['set'](0xcb0+0x1bd2+-0x2881,-0x1c63+-0x1ec5+-0x41*-0xe9,0xf37+0x1c27*0x1+-0x2b5d),_0x392440['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x392440['opacityMap']=this['_defaultTe'+'xture'],_0x392440['opacityMap'+'Channel']='a'),_0x49cf22&&(_0x12be7d='ScreenSpac'+'e'+_0x12be7d,_0x392440['depthTest']=!(-0x1e5+0x7bf*0x5+-0x24d5)),_0x392440['name']='default'+_0x12be7d,_0x392440['useLightin'+'g']=!(-0x782*-0x2+-0xa2b+-0x4*0x136),_0x392440['useTonemap']=!(-0x96a*0x1+0x7*0x4a9+-0x1734),_0x392440['useFog']=!(0x4*-0x377+-0x4cc*-0x7+-0x67*0x31),_0x392440['useSkybox']=!(-0xbf*0x29+-0x9f5*0x1+0x1*0x288d),_0x392440['diffuse']['set'](0x217b+-0x1199*-0x1+-0x2*0x198a,-0x25b+-0x10d*-0x15+-0x13b6,-0x1375+-0x13d8+-0x274d*-0x1),_0x392440['opacity']=0x2653+0x1*0x1b56+0x50d*-0xd+0.5,_0x392440['blendType']=dn,_0x392440['depthWrite']=!(0x87e+0x1fbb+-0x2838),_0x392440['emissiveVe'+'rtexColor']=!(0x21b0+0xb7*0x12+-0x2e8e*0x1),_0x392440['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0xaedef8]=_0x392440,_0x392440;}['_createBas'+'eImageMate'+'rial'](){const _0x44bd24=new _s();return _0x44bd24['diffuse']['set'](-0x129c+-0x108e+0x232a,-0x1ccb+0x1*-0xc85+0x2950,-0xd56*0x2+0x15fe*-0x1+0x30aa),_0x44bd24['emissive']['set'](0x17*0xdd+-0x20b0+0xcd6,-0x2666*0x1+-0x1120+0x3787,0x1fe3+-0x1*-0x6d9+-0x26bb),_0x44bd24['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x44bd24['opacityMap']=this['_defaultTe'+'xture'],_0x44bd24['opacityMap'+'Channel']='a',_0x44bd24['useLightin'+'g']=!(0x3a9+0x1*0x2153+-0x24fb*0x1),_0x44bd24['useTonemap']=!(0x79d+0xce5+0x1*-0x1481),_0x44bd24['useFog']=!(0x19*-0x1d+-0x24*-0xd7+0x14e*-0x15),_0x44bd24['useSkybox']=!(0x1c0b+0x23e6+-0x3ff0),_0x44bd24['blendType']=dn,_0x44bd24['depthWrite']=!(-0x1*-0x1f51+0x1874+-0x37c4),_0x44bd24;}['getImageEl'+'ementMater'+'ial'](_0x41d4ab,_0x2c4de,_0x3fba3c,_0x282901){return _0x41d4ab?_0x2c4de?_0x3fba3c?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=ht,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x1c1*-0x7+0x19*0xc3+-0x1f51*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x38a*0xa+0x19d7*0x1+-0x1*-0x98e,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0xf77+-0x135*0x19+0x5*0x921),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x112b*0x2+-0x5f*0x4c+0x3e8b),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x1a3*0x9+-0xe08+0x1cc4),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x2fc+-0x2*-0x98+0x1cd),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x282901?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=st,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1b2c+-0x1*0x94a+-0x1*0x11e1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x266a+0x3e1+0x228a,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(-0x1722+0x2275*-0x1+0x3998),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x8aa+-0xf0b+-0xa*-0x25f),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x1eed+0x3c8*-0x1+-0x1b24),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x5ba+0x87*0xf+0x1f*-0x12),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x752+0x17a6+-0x255*0x7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x1aa3+0x442+0x2*-0xf72,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x5b4*0x3+-0x1ad2+0x9b7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x10cb+0xa21*-0x1+-0x6a9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x1*-0x172+-0xc0*-0x1+0x1*-0x231),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(0x2349*0x1+-0xb54*-0x1+-0x2e9c),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x3fba3c?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=ht,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x940+-0x2323+0x2c64),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x282901?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=st,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x3*-0xe1+-0x1b80+0x18de),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x13e7+-0x1fef+0xc09),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x2c4de?_0x3fba3c?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=ht,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x321+0xd6*0x1f+-0x1d0a,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x23d*-0x6+-0x229f+-0x2*-0xa99),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x6*0x50d+0x14d3+0x97c),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x59f+0x12e*-0x1e+0x2904),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0x68c+0x2593+0x1*-0x2c1e),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x282901?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=st,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=-0xa2e+-0x14b*-0x1+0x8e4*0x1,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x7*0x53+0xe*-0x38+0xcc),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x1ae2+-0x2488+0x9a7),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(0x15f4+0x1687+0x2c7a*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x7*0x71+-0xe*-0x20a+-0x1974),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x3c*0x63+0x22*0xbb+-0x3009,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0xb1b*0x3+-0x203*0x12+-0x7*-0x6a),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x656*-0x3+-0x1ac5+0x7c4*0x1),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x3*-0xbf+-0x153b*0x1+0x1779),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x6*-0x4f5+-0x1*0x699+0x2458),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x3fba3c?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=ht,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x282901?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=st,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x5af24f){this['_unicodeCo'+'nverter']=_0x5af24f;}['registerRt'+'lReorder'](_0x30c0a3){this['_rtlReorde'+'r']=_0x30c0a3;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Gn='free',Hn='limited',Wn='locked',VR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Wp extends pe{constructor(_0x25e417,_0x1a5ddf){super(_0x25e417,_0x1a5ddf),b['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x740*0x1+0x294*-0xc+0x17b0),this['_linearMot'+'ionX']=Wn,this['_linearLim'+'itsX']=new W(-0x43*0x7+0x24f2+-0x231d,0x1*0x99b+-0x1fd8+0x163d),this['_linearSpr'+'ingX']=!(0xc*-0x238+-0x6ff+0x21a0),this['_linearSti'+'ffnessX']=-0x161c+-0xd*0x26b+0x3*0x11d9,this['_linearDam'+'pingX']=0x30f+0x1105+-0x1413,this['_linearEqu'+'ilibriumX']=0x15*-0x47+0xfae*0x1+-0x9db,this['_linearMot'+'ionY']=Wn,this['_linearLim'+'itsY']=new W(0x1*0x1431+-0x1a8f+0x65e,0xa39*0x3+0xd6+-0x1f81),this['_linearSpr'+'ingY']=!(-0xf55+0x1c37*0x1+-0xce1),this['_linearSti'+'ffnessY']=-0x497+0x4d3+0x1*-0x3c,this['_linearDam'+'pingY']=-0x649*0x2+-0xb*-0x37c+-0x19c1,this['_linearEqu'+'ilibriumY']=0x233f*0x1+-0x909+-0x1a36,this['_linearMot'+'ionZ']=Wn,this['_linearLim'+'itsZ']=new W(0x6b9+-0x2b*0x96+0x1*0x1279,-0x24fb*0x1+-0x25df+0x4ada),this['_linearSpr'+'ingZ']=!(-0xaf2+-0xe10+0x1903),this['_linearSti'+'ffnessZ']=-0x26f5+0x382*0x2+-0xdd*-0x25,this['_linearDam'+'pingZ']=-0x7*-0x573+0x21c+0x2840*-0x1,this['_linearEqu'+'ilibriumZ']=-0x1fbb*-0x1+0xb56*0x1+-0x13b*0x23,this['_angularMo'+'tionX']=Wn,this['_angularLi'+'mitsX']=new W(0x5*-0x7b6+-0xf*0xad+0x30b1,-0x1196+0x92c*0x1+0x86a),this['_angularSp'+'ringX']=!(-0x1*0xb89+-0x611+0x119b),this['_angularSt'+'iffnessX']=0x2249*-0x1+0x1*-0x22ed+0x4536,this['_angularDa'+'mpingX']=-0x3c5*-0x2+-0x1221+-0x6*-0x1c4,this['_angularEq'+'uilibriumX']=-0x10fa+-0xda4+0x1*0x1e9e,this['_angularMo'+'tionY']=Wn,this['_angularLi'+'mitsY']=new W(-0x1b81+0xf3d+-0x274*-0x5,0x101a+0x6a*0x5+-0x2*0x916),this['_angularSp'+'ringY']=!(-0x45+0x6ea+-0x6a4),this['_angularSt'+'iffnessY']=-0x1197+0x61*-0x2f+0x2e*0xc5,this['_angularDa'+'mpingY']=0xc2b+0xf*0x1f5+-0x2985,this['_angularEq'+'uilibriumY']=-0x1952+0x130*-0x20+0x3f52,this['_angularMo'+'tionZ']=Wn,this['_angularLi'+'mitsZ']=new W(-0x242e+-0x1225*-0x1+0x603*0x3,0x3*-0x647+0xd*-0x117+-0x180*-0x16),this['_angularSp'+'ringZ']=!(-0x4e1+0x1157+-0xc75),this['_angularEq'+'uilibriumZ']=0x1f6a+0x2184+-0x2077*0x2,this['_angularDa'+'mpingZ']=-0xe*-0x28c+-0x468+-0x1f3f*0x1,this['_angularSt'+'iffnessZ']=-0x98*-0x29+0x1c73*-0x1+-0x41b*-0x1,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x473e7d){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x473e7d,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x4cbe7e){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x4cbe7e,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x2cd10b){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x2cd10b&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x2cd10b),this['_breakForc'+'e']=_0x2cd10b);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x296378){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x296378,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x4c01bb){this['_angularLi'+'mitsX']['equals'](_0x4c01bb)||(this['_angularLi'+'mitsX']['copy'](_0x4c01bb),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x1d16a0){this['_angularMo'+'tionX']!==_0x1d16a0&&(this['_angularMo'+'tionX']=_0x1d16a0,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x5c6e36){this['_angularLi'+'mitsY']['equals'](_0x5c6e36)||(this['_angularLi'+'mitsY']['copy'](_0x5c6e36),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x54f132){this['_angularMo'+'tionY']!==_0x54f132&&(this['_angularMo'+'tionY']=_0x54f132,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x38dcee){this['_angularLi'+'mitsZ']['equals'](_0x38dcee)||(this['_angularLi'+'mitsZ']['copy'](_0x38dcee),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x2458b5){this['_angularMo'+'tionZ']!==_0x2458b5&&(this['_angularMo'+'tionZ']=_0x2458b5,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x2ac6e6){this['_linearLim'+'itsX']['equals'](_0x2ac6e6)||(this['_linearLim'+'itsX']['copy'](_0x2ac6e6),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x3a82eb){this['_linearMot'+'ionX']!==_0x3a82eb&&(this['_linearMot'+'ionX']=_0x3a82eb,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x56b2db){this['_linearLim'+'itsY']['equals'](_0x56b2db)||(this['_linearLim'+'itsY']['copy'](_0x56b2db),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x48470d){this['_linearMot'+'ionY']!==_0x48470d&&(this['_linearMot'+'ionY']=_0x48470d,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x4ea7e0){this['_linearLim'+'itsZ']['equals'](_0x4ea7e0)||(this['_linearLim'+'itsZ']['copy'](_0x4ea7e0),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x5f59c5){this['_linearMot'+'ionZ']!==_0x5f59c5&&(this['_linearMot'+'ionZ']=_0x5f59c5,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x162f1b,_0x153808){const _0x48cc6f=_0x162f1b['getTransla'+'tion'](),_0xb1bcee=new ie();_0xb1bcee['setFromMat'+'4'](_0x162f1b);const _0x48eb3a=new Ammo['btVector3'](_0x48cc6f['x'],_0x48cc6f['y'],_0x48cc6f['z']),_0x593b26=new Ammo['btQuaterni'+'on'](_0xb1bcee['x'],_0xb1bcee['y'],_0xb1bcee['z'],_0xb1bcee['w']);_0x153808['setOrigin'](_0x48eb3a),_0x153808['setRotatio'+'n'](_0x593b26),Ammo['destroy'](_0x48eb3a),Ammo['destroy'](_0x593b26);}['_updateAng'+'ularLimits'](){const _0x4985d6=this['_constrain'+'t'];if(_0x4985d6){let _0x3c1be7,_0x30aad9,_0x14fe23,_0x494aa2,_0x47128e,_0x3fe89c;this['_angularMo'+'tionX']===Hn?(_0x3c1be7=this['_angularLi'+'mitsX']['x']*z['DEG_TO_RAD'],_0x494aa2=this['_angularLi'+'mitsX']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionX']===Gn?(_0x3c1be7=0x51e+-0x9f4+0x4d7,_0x494aa2=0x1079*-0x1+0x24e0+-0x3*0x6cd):_0x3c1be7=_0x494aa2=0x66c*0x2+0xab0+-0x1788,this['_angularMo'+'tionY']===Hn?(_0x30aad9=this['_angularLi'+'mitsY']['x']*z['DEG_TO_RAD'],_0x47128e=this['_angularLi'+'mitsY']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionY']===Gn?(_0x30aad9=0x2244+0x1*0x1831+-0x204*0x1d,_0x47128e=-0x5*0x41f+0x1d73*0x1+-0x4*0x236):_0x30aad9=_0x47128e=0x7*0x4ee+0xd*0x12a+0x24*-0x161,this['_angularMo'+'tionZ']===Hn?(_0x14fe23=this['_angularLi'+'mitsZ']['x']*z['DEG_TO_RAD'],_0x3fe89c=this['_angularLi'+'mitsZ']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Gn?(_0x14fe23=-0xa0d*0x1+-0x15d*0x4+0xf82,_0x3fe89c=0x1*-0x1c04+-0x1*0x14fb+0x30ff*0x1):_0x14fe23=_0x3fe89c=-0x9bf*-0x1+-0x780+0x23f*-0x1;const _0x1c462c=new Ammo['btVector3'](_0x3c1be7,_0x30aad9,_0x14fe23);_0x4985d6['setAngular'+'LowerLimit'](_0x1c462c),_0x1c462c['setValue'](_0x494aa2,_0x47128e,_0x3fe89c),_0x4985d6['setAngular'+'UpperLimit'](_0x1c462c),Ammo['destroy'](_0x1c462c);}}['_updateLin'+'earLimits'](){const _0x10655d=this['_constrain'+'t'];if(_0x10655d){let _0x66f23c,_0x16b3e9,_0x2319b5,_0x57d5a1,_0x45873f,_0x5544c9;this['_linearMot'+'ionX']===Hn?(_0x66f23c=this['_linearLim'+'itsX']['x'],_0x57d5a1=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Gn?(_0x66f23c=-0x60a+-0xbf1+-0x2*-0x8fe,_0x57d5a1=-0x1df9+-0x25c6+0x43bf):_0x66f23c=_0x57d5a1=0x325+-0x1235*-0x1+-0x155a,this['_linearMot'+'ionY']===Hn?(_0x16b3e9=this['_linearLim'+'itsY']['x'],_0x45873f=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Gn?(_0x16b3e9=-0x1*0xb6c+-0x15ce+0x213b,_0x45873f=-0x579+-0x4e*-0x7c+-0x204f):_0x16b3e9=_0x45873f=0x613+0x3b*-0x26+0x2af,this['_linearMot'+'ionZ']===Hn?(_0x2319b5=this['_linearLim'+'itsZ']['x'],_0x5544c9=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Gn?(_0x2319b5=0x1952*0x1+-0x19*-0xf9+-0x31a2,_0x5544c9=-0x2e*-0x7+0xcaa*0x2+-0x1a96):_0x2319b5=_0x5544c9=-0x1ed7*-0x1+-0x25c7+0x128*0x6;const _0x369fa0=new Ammo['btVector3'](_0x66f23c,_0x16b3e9,_0x2319b5);_0x10655d['setLinearL'+'owerLimit'](_0x369fa0),_0x369fa0['setValue'](_0x57d5a1,_0x45873f,_0x5544c9),_0x10655d['setLinearU'+'pperLimit'](_0x369fa0),Ammo['destroy'](_0x369fa0);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x48c28c=new q(),_0x154877=this['_entityA']['rigidbody']['body'];_0x154877['activate']();const _0x37447f=this['entity']['getWorldTr'+'ansform'](),_0x39b553=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x48c28c['mul2'](_0x39b553,_0x37447f);const _0x5582fc=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x48c28c,_0x5582fc),this['_entityB']&&this['_entityB']['rigidbody']){const _0x4ddf71=this['_entityB']['rigidbody']['body'];_0x4ddf71['activate']();const _0x2a4945=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x48c28c['mul2'](_0x2a4945,_0x37447f);const _0x4fe6c6=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x48c28c,_0x4fe6c6),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x154877,_0x4ddf71,_0x5582fc,_0x4fe6c6,!this['_enableCol'+'lision']),Ammo['destroy'](_0x4fe6c6);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x154877,_0x5582fc,!this['_enableCol'+'lision']);Ammo['destroy'](_0x5582fc);const _0x1fe22a=['X','Y','Z','X','Y','Z'];for(let _0x48fa4a=-0x14c+0xf*-0x101+0x4f*0x35;_0x48fa4a<-0x1b6*-0xb+-0x59f*-0x1+-0x85*0x2f;_0x48fa4a++){const _0x51f20d=_0x48fa4a<-0x177e+0xc1c*-0x2+0x2fb9?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x48fa4a,this[_0x51f20d+'Spring'+_0x1fe22a[_0x48fa4a]]),this['_constrain'+'t']['setDamping'](_0x48fa4a,this[_0x51f20d+'Damping'+_0x1fe22a[_0x48fa4a]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x48fa4a,this[_0x51f20d+('Equilibriu'+'m')+_0x1fe22a[_0x48fa4a]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x48fa4a,this[_0x51f20d+'Stiffness'+_0x1fe22a[_0x48fa4a]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x49b94e){for(const _0x4572f7 of VR)_0x49b94e['hasOwnProp'+'erty'](_0x4572f7)&&(_0x49b94e[_0x4572f7]instanceof W?this['_'+_0x4572f7]['copy'](_0x49b94e[_0x4572f7]):this['_'+_0x4572f7]=_0x49b94e[_0x4572f7]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x57c02f,_0x5d9155,_0x16ef54){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const GR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x3ab2b9=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x2d5c37=>{['X','Y','Z']['forEach'](_0x2d94df=>{const _0x5542e3=_0x3ab2b9+_0x2d5c37+_0x2d94df,_0x538ff2='_'+_0x5542e3;let _0x441fcb=_0x3ab2b9==='linear'?0x7*-0xc5+-0x3*0x8c4+0x1*0x1faf:0x4b8*0x1+0x9*-0x449+0x16*0x18a;_0x2d94df==='Y'&&(_0x441fcb+=-0x35*-0xf+0x13*0x1f3+-0x2823),_0x2d94df==='Z'&&(_0x441fcb+=-0x2335+-0x107*-0xb+0x17ea),Object['defineProp'+'erty'](Wp['prototype'],_0x5542e3,{'get':function(){return this[_0x538ff2];},'set':function(_0x514824){this[_0x538ff2]!==_0x514824&&(this[_0x538ff2]=_0x514824,this['_constrain'+'t'][GR[_0x2d5c37]](_0x441fcb,_0x514824));}});});});});class HR{constructor(){this['enabled']=!(-0x116*0x11+0x1*0x12e5+-0x3*0x25);}}const _f=['enabled'];class WR extends Qe{constructor(_0x5dcbcf){super(_0x5dcbcf),this['id']='joint',this['app']=_0x5dcbcf,this['ComponentT'+'ype']=Wp,this['DataType']=HR,this['schema']=_f;}['initialize'+'ComponentD'+'ata'](_0x17680e,_0xdf2d57,_0x1d3030){_0x17680e['initFromDa'+'ta'](_0xdf2d57),super['initialize'+'ComponentD'+'ata'](_0x17680e,_0xdf2d57,_f);}}pe['_buildAcce'+'ssors'](Wp['prototype'],_f);class ax extends pe{constructor(){super(...arguments),c(this,'_minWidth',0x7*-0x22a+-0x18d2+-0x4ff*-0x8),c(this,'_minHeight',0x206+0x3*0x137+-0x5ab),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0xa2e*-0x1+0x2693+0x977*-0x3),c(this,'_fitHeight'+'Proportion',-0x1dbb+0x24c9+-0x70e),c(this,'_excludeFr'+'omLayout',!(0x1931*-0x1+-0x1*0x190f+-0x53*-0x9b));}set['minWidth'](_0x2482ef){_0x2482ef!==this['_minWidth']&&(this['_minWidth']=_0x2482ef,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x34a64f){_0x34a64f!==this['_minHeight']&&(this['_minHeight']=_0x34a64f,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x5a1470){_0x5a1470!==this['_maxWidth']&&(this['_maxWidth']=_0x5a1470,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x355ac4){_0x355ac4!==this['_maxHeight']&&(this['_maxHeight']=_0x355ac4,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x5a2ee6){_0x5a2ee6!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x5a2ee6,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x63d71e){_0x63d71e!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x63d71e,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x46f501){_0x46f501!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x46f501,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(-0x62*-0x1c+-0x2e*0xae+0x4*0x523);}}const ox=['enabled'];class qR extends Qe{constructor(_0x2a2ec3){super(_0x2a2ec3),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=ax,this['DataType']=$R,this['schema']=ox;}['initialize'+'ComponentD'+'ata'](_0xc1cef,_0x41da86,_0x2a9c2c){_0x41da86['enabled']!==void(-0x2643+-0x8e9*-0x2+0x1*0x1471)&&(_0xc1cef['enabled']=_0x41da86['enabled']),_0x41da86['minWidth']!==void(0x73*-0x4+0x2e9+0x3*-0x5f)&&(_0xc1cef['minWidth']=_0x41da86['minWidth']),_0x41da86['minHeight']!==void(0xbac+0x2653*-0x1+0x1aa7)&&(_0xc1cef['minHeight']=_0x41da86['minHeight']),_0x41da86['maxWidth']!==void(-0x25*-0x32+0xdd*-0x11+-0x773*-0x1)&&(_0xc1cef['maxWidth']=_0x41da86['maxWidth']),_0x41da86['maxHeight']!==void(-0x1*-0x12e2+0x21d5+-0xa8b*0x5)&&(_0xc1cef['maxHeight']=_0x41da86['maxHeight']),_0x41da86['fitWidthPr'+'oportion']!==void(0x1db2+-0x3*0x4b1+-0xf9f)&&(_0xc1cef['fitWidthPr'+'oportion']=_0x41da86['fitWidthPr'+'oportion']),_0x41da86['fitHeightP'+'roportion']!==void(-0x249d+-0x24fe+0x23b*0x21)&&(_0xc1cef['fitHeightP'+'roportion']=_0x41da86['fitHeightP'+'roportion']),_0x41da86['excludeFro'+'mLayout']!==void(-0x254d+0x10b8+0x1*0x1495)&&(_0xc1cef['excludeFro'+'mLayout']=_0x41da86['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0xc1cef,_0x41da86,_0x2a9c2c);}['cloneCompo'+'nent'](_0x25d8bf,_0x13b1ec){const _0x12956d=_0x25d8bf['layoutchil'+'d'];return this['addCompone'+'nt'](_0x13b1ec,{'enabled':_0x12956d['enabled'],'minWidth':_0x12956d['minWidth'],'minHeight':_0x12956d['minHeight'],'maxWidth':_0x12956d['maxWidth'],'maxHeight':_0x12956d['maxHeight'],'fitWidthProportion':_0x12956d['fitWidthPr'+'oportion'],'fitHeightProportion':_0x12956d['fitHeightP'+'roportion'],'excludeFromLayout':_0x12956d['excludeFro'+'mLayout']});}}pe['_buildAcce'+'ssors'](ax['prototype'],ox);const gf=-0x2475+0x22d*-0x7+-0x33b*-0x10,XR=0x14d3+-0xf76+-0x55c,yg=-0x54d+0x561*-0x5+0x2034,jR=0x9f8+-0x9*-0x44d+0x30aa*-0x1,sc={};sc[ye]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},sc[Ve]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const $p={};$p[ye]=Ve,$p[Ve]=ye;const YR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},Xt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},jt=new W();function lx(_0x30c5e7){let _0x37cd5e;const _0x55e26a=sc[_0x30c5e7],_0x815da3=sc[$p[_0x30c5e7]];function _0x93ef10(_0x57d135,_0x4d5069){return-_0x4d5069[_0x55e26a['size']]*_0x57d135['pivot'][_0x55e26a['axis']];}function _0x5c4bc3(_0x125024,_0x4bd11a){return-_0x4bd11a[_0x815da3['size']]*_0x125024['pivot'][_0x815da3['axis']];}function _0x349168(_0xd020ee,_0x658309){return _0x658309[_0x55e26a['size']]*(0x1*-0x578+-0x3*-0x583+-0x3b*0x30-_0xd020ee['pivot'][_0x55e26a['axis']]);}function _0x4a8063(_0x3ab35a,_0x2d2ddc){_0x3ab35a=_0x3ab35a['filter'](_0x302c0b),_0x37cd5e=_0x2d2ddc,jt['x']=_0x37cd5e['containerS'+'ize']['x']-_0x37cd5e['padding']['x']-_0x37cd5e['padding']['z'],jt['y']=_0x37cd5e['containerS'+'ize']['y']-_0x37cd5e['padding']['y']-_0x37cd5e['padding']['w'],_0x47daae(_0x3ab35a);const _0x20df36=_0x50a90e(_0x150c55(_0x3ab35a)),_0x41ba89=_0x4f4a9a(_0x20df36,_0x11c963(_0x20df36)),_0x4a94ab=_0x3aae98(_0x20df36,_0x41ba89);return _0x5b3b79(_0x20df36,_0x41ba89,_0x4a94ab),_0x3a943f(_0x20df36,_0x41ba89,_0x4a94ab),_0x1529c1(_0x20df36);}function _0x302c0b(_0x38ac87){const _0x488da0=_0x38ac87['entity']['layoutchil'+'d'];return!_0x488da0||!_0x488da0['enabled']||!_0x488da0['excludeFro'+'mLayout'];}function _0x47daae(_0x19d76e){for(let _0x123e47=0x223+-0x767+0x544;_0x123e47<_0x19d76e['length'];++_0x123e47){const _0x7cec46=_0x19d76e[_0x123e47],_0x34670a=_0x7cec46['anchor'];(_0x34670a['x']!==0xf4a+-0xd*-0xd6+0x3e*-0x6c||_0x34670a['y']!==-0x5f*0x69+-0x1fc0+0x1*0x46b7||_0x34670a['z']!==-0x201f+0x1a*0xc5+-0x7*-0x1bb||_0x34670a['w']!==-0x89*0x1f+-0x27*-0xe5+0x493*-0x4)&&(_0x7cec46['anchor']=ee['ZERO']);}}function _0x150c55(_0x2cde2c){if(!_0x37cd5e['wrap'])return[_0x2cde2c];const _0x401d8c=[[]],_0x40d85e=_0x60f187(_0x2cde2c);let _0x33d042=0x2*-0x40d+0x1f63*-0x1+0x277d;const _0x28c8d9=_0x37cd5e[_0x55e26a['fitting']]===yg;for(let _0x41391b=-0x4c4+0x1167+0x287*-0x5;_0x41391b<_0x2cde2c['length'];++_0x41391b){_0x401d8c[_0x401d8c['length']-(-0x1d*0x5d+0x2*-0xe5+-0x6*-0x20e)]['length']>-0x527*0x7+-0x1053+0x1c*0x1df&&(_0x33d042+=_0x37cd5e['spacing'][_0x55e26a['axis']]);const _0x209286=_0x40d85e[_0x41391b][_0x55e26a['size']];_0x33d042+=_0x209286,!_0x28c8d9&&_0x33d042>jt[_0x55e26a['axis']]&&_0x401d8c[_0x401d8c['length']-(0x1*0x6da+-0x216+-0x4c3*0x1)]['length']!==-0xd+-0x1ff8+0x2005&&(_0x33d042=_0x209286,_0x401d8c['push']([])),_0x401d8c[_0x401d8c['length']-(0xe4d+-0x184c+0xa00)]['push'](_0x2cde2c[_0x41391b]),_0x28c8d9&&_0x33d042>jt[_0x55e26a['axis']]&&_0x41391b!==_0x2cde2c['length']-(0x152b+-0xc61*-0x2+-0x2dec)&&(_0x33d042=-0x69d+-0x28e+-0x1*-0x92b,_0x401d8c['push']([]));}return _0x401d8c;}function _0x50a90e(_0x12db06){const _0xdfa9c5=_0x37cd5e['orientatio'+'n']===ye&&_0x37cd5e['reverseX']||_0x37cd5e['orientatio'+'n']===Ve&&_0x37cd5e['reverseY'],_0xbc8824=_0x37cd5e['orientatio'+'n']===ye&&_0x37cd5e['reverseY']||_0x37cd5e['orientatio'+'n']===Ve&&_0x37cd5e['reverseX'];if(_0xdfa9c5){for(let _0x41cd90=0x1*-0x2356+-0x1200+0x3556;_0x41cd90<_0x12db06['length'];++_0x41cd90)_0xdfa9c5&&_0x12db06[_0x41cd90]['reverse']();}return _0xbc8824&&_0x12db06['reverse'](),_0x12db06;}function _0x11c963(_0x38a168){const _0x3377cc=[];for(let _0x1ff126=-0x1105+0x1a1+0xf64;_0x1ff126<_0x38a168['length'];++_0x1ff126){const _0x5e25d6=_0x38a168[_0x1ff126],_0x175f61=_0x60f187(_0x5e25d6),_0x1cb1e8=_0xe300d2(_0x175f61,_0x55e26a),_0x1b1b60=_0x47c912(_0x37cd5e[_0x55e26a['fitting']],_0x1cb1e8,jt[_0x55e26a['axis']]);_0x1b1b60===Xt['APPLY_STRE'+'TCHING']?_0x4317a4(_0x175f61,_0x1cb1e8,_0x55e26a):_0x1b1b60===Xt['APPLY_SHRI'+'NKING']&&_0xfe007a(_0x175f61,_0x1cb1e8,_0x55e26a),_0x3377cc['push'](_0x175f61);}return _0x3377cc;}function _0x4f4a9a(_0x5de46c,_0x40b020){const _0x39584e=[],_0x3ae194=[];for(let _0x30bfa4=-0xa*-0x3b+-0xfb6*-0x2+0x21ba*-0x1;_0x30bfa4<_0x5de46c['length'];++_0x30bfa4){const _0x578106=_0x5de46c[_0x30bfa4];_0x578106['largestEle'+'ment']=null,_0x578106['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x5e691b=-0x1*0x1763+-0x139d*-0x1+0x8a*0x7;_0x5e691b<_0x578106['length'];++_0x5e691b){const _0x5b01b7=_0x40b020[_0x30bfa4][_0x5e691b];_0x5b01b7[_0x815da3['size']]>_0x578106['largestSiz'+'e'][_0x815da3['size']]&&(_0x578106['largestEle'+'ment']=_0x578106[_0x5e691b],_0x578106['largestSiz'+'e']=_0x5b01b7);}_0x39584e['push'](_0x578106['largestEle'+'ment']),_0x3ae194['push'](_0x578106['largestSiz'+'e']);}const _0x546357=_0xe300d2(_0x3ae194,_0x815da3),_0x4c8456=_0x47c912(_0x37cd5e[_0x815da3['fitting']],_0x546357,jt[_0x815da3['axis']]);_0x4c8456===Xt['APPLY_STRE'+'TCHING']?_0x4317a4(_0x3ae194,_0x546357,_0x815da3):_0x4c8456===Xt['APPLY_SHRI'+'NKING']&&_0xfe007a(_0x3ae194,_0x546357,_0x815da3);for(let _0x22f85e=0x1554+-0x94d*-0x1+-0x1ea1;_0x22f85e<_0x5de46c['length'];++_0x22f85e){const _0xfcd04b=_0x5de46c[_0x22f85e];for(let _0x12e59a=-0x6aa+0x2*0xad9+-0xf08;_0x12e59a<_0xfcd04b['length'];++_0x12e59a){const _0x51051d=_0x40b020[_0x22f85e][_0x12e59a],_0x101c57=_0x51051d[_0x815da3['size']],_0x5368a8=_0x5de46c['length']===-0x67c*0x2+0x7*0x15b+0x37c?jt[_0x815da3['axis']]:_0xfcd04b['largestSiz'+'e'][_0x815da3['size']],_0x37c5a0=_0x47c912(_0x37cd5e[_0x815da3['fitting']],_0x101c57,_0x5368a8);_0x37c5a0===Xt['APPLY_STRE'+'TCHING']?_0x51051d[_0x815da3['size']]=Math['min'](_0x5368a8,_0x51051d[_0x815da3['maxSize']]):_0x37c5a0===Xt['APPLY_SHRI'+'NKING']&&(_0x51051d[_0x815da3['size']]=Math['max'](_0x5368a8,_0x51051d[_0x815da3['minSize']]));}}return _0x40b020;}function _0x47c912(_0x399e89,_0x141d6b,_0x2cf5d0){switch(_0x399e89){case gf:return Xt['NONE'];case XR:return _0x141d6b<_0x2cf5d0?Xt['APPLY_STRE'+'TCHING']:Xt['NONE'];case yg:return _0x141d6b>=_0x2cf5d0?Xt['APPLY_SHRI'+'NKING']:Xt['NONE'];case jR:return _0x141d6b<_0x2cf5d0?Xt['APPLY_STRE'+'TCHING']:Xt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x399e89);}}function _0xe300d2(_0x48df7f,_0x3985ab){const _0x4bd555=_0x33d285(_0x48df7f,_0x3985ab['size']),_0x2bdc1e=(_0x48df7f['length']-(-0xa*0x23b+0x4*0x400+0x64f))*_0x37cd5e['spacing'][_0x3985ab['axis']];return _0x4bd555+_0x2bdc1e;}function _0x4317a4(_0x46d3bc,_0x4e6269,_0x38c39f){const _0xf3b49d=_0x301207(_0x46d3bc,_0x38c39f['maxSize']),_0x4a5f83=_0x2c60f9(_0x46d3bc,_0x38c39f['fittingPro'+'portion']),_0x2236dd=_0x939b9e(_0x4a5f83,_0xf3b49d);let _0x2f18b5=jt[_0x38c39f['axis']]-_0x4e6269;for(let _0x32eb62=-0x411*-0x6+0xad2+-0x2338;_0x32eb62<_0x46d3bc['length'];++_0x32eb62){const _0xa92349=_0xf3b49d[_0x32eb62],_0x274192=_0x27f5b6(_0xa92349,_0x2f18b5,_0x4a5f83,_0x2236dd),_0x2d5d2e=_0x46d3bc[_0xa92349][_0x38c39f['size']]+_0x274192,_0x4dc5cd=_0x46d3bc[_0xa92349][_0x38c39f['maxSize']],_0x466481=Math['min'](_0x2d5d2e,_0x4dc5cd);_0x46d3bc[_0xa92349][_0x38c39f['size']]=_0x466481;const _0x1775fd=Math['max'](_0x2d5d2e-_0x466481,0x12ba+-0x2411*-0x1+-0x437*0xd),_0x11fbc7=_0x274192-_0x1775fd;_0x2f18b5-=_0x11fbc7;}}function _0xfe007a(_0x622a0b,_0x1c82fa,_0x34bfa7){const _0x8ba047=_0x301207(_0x622a0b,_0x34bfa7['minSize'],!(0x1dcc+-0x3fe+0x2*-0xce7)),_0x3cb721=_0x2c60f9(_0x622a0b,_0x34bfa7['fittingPro'+'portion']),_0x24be02=_0x12c451(_0x3cb721),_0x177c42=_0x939b9e(_0x24be02,_0x8ba047);let _0x48015f=_0x1c82fa-jt[_0x34bfa7['axis']];for(let _0x452079=0xd53*-0x1+-0x1*-0xf1b+-0x1c8;_0x452079<_0x622a0b['length'];++_0x452079){const _0x2e6a09=_0x8ba047[_0x452079],_0x18c2b9=_0x27f5b6(_0x2e6a09,_0x48015f,_0x24be02,_0x177c42),_0x393441=_0x622a0b[_0x2e6a09][_0x34bfa7['size']]-_0x18c2b9,_0x106a36=_0x622a0b[_0x2e6a09][_0x34bfa7['minSize']],_0x51a89e=Math['max'](_0x393441,_0x106a36);_0x622a0b[_0x2e6a09][_0x34bfa7['size']]=_0x51a89e;const _0x1bb2a0=Math['max'](_0x51a89e-_0x393441,-0x1d93+0x49+0x1d4a),_0x457bb5=_0x18c2b9-_0x1bb2a0;_0x48015f-=_0x457bb5;}}function _0x27f5b6(_0x5ed1cc,_0x16252a,_0x1aa89a,_0x6dd36b){const _0x332639=_0x1aa89a[_0x5ed1cc],_0x3dad35=_0x6dd36b[_0x5ed1cc];return Math['abs'](_0x332639)<-0x2*0xae5+-0x19*0xdd+0x2b5f+0.00001&&Math['abs'](_0x3dad35)<-0xb0d*-0x3+0xf*-0x2d+-0x9*0x364+0.00001?_0x16252a:_0x16252a*_0x332639/_0x3dad35;}function _0x3aae98(_0x48eb4b,_0x56e2e4){const _0xaf9efd={};_0xaf9efd[_0x55e26a['axis']]=-0x2454+-0x6e*-0xb+0x1f9a,_0xaf9efd[_0x815da3['axis']]=0xad*0x1d+-0xf*-0xd+-0x145c,_0x48eb4b[_0x55e26a['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x88d31c=[];for(let _0x20ad0c=-0x1d1+-0x2*-0xdec+0x8ad*-0x3;_0x20ad0c<_0x48eb4b['length'];++_0x20ad0c){const _0x55982c=_0x48eb4b[_0x20ad0c];if(_0x55982c['length']===-0x1*-0x75e+-0x2324+0x9e*0x2d){_0x88d31c['push']([]);continue;}const _0x979518=[],_0x14de4b=_0x56e2e4[_0x20ad0c];for(let _0x545846=0x1*0x1d20+-0x1b65+-0x1bb*0x1;_0x545846<_0x55982c['length'];++_0x545846){const _0x2a7ce3=_0x55982c[_0x545846],_0x2a0dee=_0x14de4b[_0x545846];_0xaf9efd[_0x815da3['axis']]-=_0x5c4bc3(_0x2a7ce3,_0x2a0dee),_0xaf9efd[_0x55e26a['axis']]-=_0x93ef10(_0x2a7ce3,_0x2a0dee),_0x979518[_0x545846]={},_0x979518[_0x545846][_0x55e26a['axis']]=_0xaf9efd[_0x55e26a['axis']],_0x979518[_0x545846][_0x815da3['axis']]=_0xaf9efd[_0x815da3['axis']],_0xaf9efd[_0x815da3['axis']]+=_0x5c4bc3(_0x2a7ce3,_0x2a0dee),_0xaf9efd[_0x55e26a['axis']]+=_0x349168(_0x2a7ce3,_0x2a0dee)+_0x37cd5e['spacing'][_0x55e26a['axis']];}_0x55982c[_0x55e26a['size']]=_0xaf9efd[_0x55e26a['axis']]-_0x37cd5e['spacing'][_0x55e26a['axis']],_0x55982c[_0x815da3['size']]=_0x55982c['largestSiz'+'e'][_0x815da3['size']],_0x48eb4b[_0x55e26a['size']]=Math['max'](_0x48eb4b[_0x55e26a['size']],_0x55982c[_0x55e26a['size']]),_0xaf9efd[_0x55e26a['axis']]=0xc7*-0x3+-0xbc3+0xe18,_0xaf9efd[_0x815da3['axis']]+=_0x55982c[_0x815da3['size']]+_0x37cd5e['spacing'][_0x815da3['axis']],_0x88d31c['push'](_0x979518);}return _0x48eb4b[_0x815da3['size']]=_0xaf9efd[_0x815da3['axis']]-_0x37cd5e['spacing'][_0x815da3['axis']],_0x88d31c;}function _0x5b3b79(_0x369554,_0x33daef,_0x1d7b77){const _0x39a6bf=_0x37cd5e['alignment'][_0x55e26a['axis']],_0x3d3d51=_0x37cd5e['alignment'][_0x815da3['axis']],_0x515ac2=_0x37cd5e['padding'][_0x55e26a['axis']],_0xd3b66d=_0x37cd5e['padding'][_0x815da3['axis']];for(let _0x555ba6=0x1d*-0x135+0x832+-0x1*-0x1acf;_0x555ba6<_0x369554['length'];++_0x555ba6){const _0x55a0f1=_0x369554[_0x555ba6],_0x459da9=_0x33daef[_0x555ba6],_0x1496b0=_0x1d7b77[_0x555ba6],_0x5decbf=(jt[_0x55e26a['axis']]-_0x55a0f1[_0x55e26a['size']])*_0x39a6bf+_0x515ac2,_0x4b8996=(jt[_0x815da3['axis']]-_0x369554[_0x815da3['size']])*_0x3d3d51+_0xd3b66d;for(let _0x3b40e3=-0x8b*-0x2c+0x2420+-0x14e*0x2e;_0x3b40e3<_0x55a0f1['length'];++_0x3b40e3){const _0x3ceb4a=(_0x55a0f1[_0x815da3['size']]-_0x459da9[_0x3b40e3][_0x815da3['size']])*_0x37cd5e['alignment'][_0x815da3['axis']];_0x1496b0[_0x3b40e3][_0x55e26a['axis']]+=_0x5decbf,_0x1496b0[_0x3b40e3][_0x815da3['axis']]+=_0x4b8996+_0x3ceb4a;}}}function _0x3a943f(_0x1c2e5c,_0x4e3439,_0xb7cace){for(let _0x4bb1b1=-0xd6e+-0xda*0x25+-0x4*-0xb3c;_0x4bb1b1<_0x1c2e5c['length'];++_0x4bb1b1){const _0x4a03c0=_0x1c2e5c[_0x4bb1b1],_0x341c3a=_0x4e3439[_0x4bb1b1],_0x56abe1=_0xb7cace[_0x4bb1b1];for(let _0x2bffc8=-0x6*0x51b+-0x1*0x170b+0x35ad;_0x2bffc8<_0x4a03c0['length'];++_0x2bffc8){const _0x206444=_0x4a03c0[_0x2bffc8];_0x206444[_0x55e26a['calculated'+'Size']]=_0x341c3a[_0x2bffc8][_0x55e26a['size']],_0x206444[_0x815da3['calculated'+'Size']]=_0x341c3a[_0x2bffc8][_0x815da3['size']],_0x37cd5e['orientatio'+'n']===ye?_0x206444['entity']['setLocalPo'+'sition'](_0x56abe1[_0x2bffc8][_0x55e26a['axis']],_0x56abe1[_0x2bffc8][_0x815da3['axis']],_0x206444['entity']['getLocalPo'+'sition']()['z']):_0x206444['entity']['setLocalPo'+'sition'](_0x56abe1[_0x2bffc8][_0x815da3['axis']],_0x56abe1[_0x2bffc8][_0x55e26a['axis']],_0x206444['entity']['getLocalPo'+'sition']()['z']);}}}function _0x1529c1(_0x1e15ea){const _0x557852=_0x1e15ea['width'],_0x5c369c=_0x1e15ea['height'],_0x40d552=(jt['x']-_0x557852)*_0x37cd5e['alignment']['x']+_0x37cd5e['padding']['x'],_0x3afd40=(jt['y']-_0x5c369c)*_0x37cd5e['alignment']['y']+_0x37cd5e['padding']['y'];return{'bounds':new ee(_0x40d552,_0x3afd40,_0x557852,_0x5c369c)};}function _0x60f187(_0xb48d2d){const _0x547402=[];for(let _0xa18ee0=-0x150d*0x1+0x2*0x9df+0x14f;_0xa18ee0<_0xb48d2d['length'];++_0xa18ee0){const _0x23f50a=_0xb48d2d[_0xa18ee0],_0x160734=Math['max'](_0x2a9335(_0x23f50a,'minWidth'),-0x76d+0x2325+-0x6ee*0x4),_0x4cf9db=Math['max'](_0x2a9335(_0x23f50a,'minHeight'),0x10c3+0xd*0x17f+0xf*-0x26a),_0x59cf03=Math['max'](_0x2a9335(_0x23f50a,'maxWidth'),_0x160734),_0x162aac=Math['max'](_0x2a9335(_0x23f50a,'maxHeight'),_0x4cf9db),_0x187dea=_0x708dc8(_0x2a9335(_0x23f50a,'width'),_0x160734,_0x59cf03),_0x3c7c99=_0x708dc8(_0x2a9335(_0x23f50a,'height'),_0x4cf9db,_0x162aac),_0x23b4a7=_0x2a9335(_0x23f50a,'fitWidthPr'+'oportion'),_0x57f650=_0x2a9335(_0x23f50a,'fitHeightP'+'roportion');_0x547402['push']({'minWidth':_0x160734,'minHeight':_0x4cf9db,'maxWidth':_0x59cf03,'maxHeight':_0x162aac,'width':_0x187dea,'height':_0x3c7c99,'fitWidthProportion':_0x23b4a7,'fitHeightProportion':_0x57f650});}return _0x547402;}function _0x2a9335(_0x529702,_0x35c6c1){const _0x2d4740=_0x529702['entity']['layoutchil'+'d'];return _0x2d4740&&_0x2d4740['enabled']&&_0x2d4740[_0x35c6c1]!==void(0x2657+0x254a+-0x1*0x4ba1)&&_0x2d4740[_0x35c6c1]!==null?_0x2d4740[_0x35c6c1]:_0x529702[_0x35c6c1]!==void(-0x1281*0x1+-0x1fd1+0x3252)?_0x529702[_0x35c6c1]:YR[_0x35c6c1];}function _0x708dc8(_0x1b8fec,_0x35fb47,_0x5d29ee){return Math['min'](Math['max'](_0x1b8fec,_0x35fb47),_0x5d29ee);}function _0x33d285(_0x30b4e7,_0x1061b4){return _0x30b4e7['reduce']((_0x1fc3b3,_0x55dca4)=>_0x1fc3b3+_0x55dca4[_0x1061b4],0x17d2+0x1fc+-0x19ce);}function _0x2c60f9(_0x40660e,_0x3fe007){const _0x47bbc9=_0x33d285(_0x40660e,_0x3fe007),_0x382a09=[],_0x1ab386=_0x40660e['length'];if(_0x47bbc9===-0x1*-0x8ed+0xee*0x25+-0x2b53){for(let _0x1c12c2=0xa6b*0x1+-0x1fb2+0x1*0x1547;_0x1c12c2<_0x1ab386;++_0x1c12c2)_0x382a09['push']((-0xcd7+-0x6*-0x5ab+-0x152a)/_0x1ab386);}else{for(let _0x15dd77=-0x268c+-0xc*0x2a1+0x4618;_0x15dd77<_0x1ab386;++_0x15dd77)_0x382a09['push'](_0x40660e[_0x15dd77][_0x3fe007]/_0x47bbc9);}return _0x382a09;}function _0x12c451(_0x37e2ab){if(_0x37e2ab['length']===0x1*0xd8e+-0x1*-0x17c+-0xf09)return[0x1a72+-0x1cce+0x25d];const _0xbb0510=[],_0x1b63eb=_0x37e2ab['length'];for(let _0x42a141=0x1b3*0x6+-0xf8f+-0x55d*-0x1;_0x42a141<_0x1b63eb;++_0x42a141)_0xbb0510['push']((-0x12*-0x1f8+0x1b14+-0x4cf*0xd-_0x37e2ab[_0x42a141])/(_0x1b63eb-(-0x1*0x373+0x8d*0x18+-0x9c4)));return _0xbb0510;}function _0x301207(_0xda6dd6,_0x310e55,_0x50c5ac){return _0xda6dd6['forEach'](_0x1a5553),_0xda6dd6['slice']()['sort']((_0x40a92f,_0x5b6f17)=>_0x50c5ac?_0x5b6f17[_0x310e55]-_0x40a92f[_0x310e55]:_0x40a92f[_0x310e55]-_0x5b6f17[_0x310e55])['map'](_0x3d3980);}function _0x1a5553(_0x549fb9,_0x3c22b1){_0x549fb9['index']=_0x3c22b1;}function _0x3d3980(_0x189ead){return _0x189ead['index'];}function _0x939b9e(_0x1a081c,_0x366976){const _0x21ef08=[];_0x21ef08[_0x366976[_0x1a081c['length']-(0x54f+0xcb5*0x2+-0x1eb8*0x1)]]=_0x1a081c[_0x366976[_0x1a081c['length']-(-0x4*0x207+0x103d+0x410*-0x2)]];for(let _0x1c2ddd=_0x1a081c['length']-(-0x178*0x19+-0x2*-0x78d+0x15a0);_0x1c2ddd>=-0x2*0x117f+-0x22b2+0x8b6*0x8;--_0x1c2ddd)_0x21ef08[_0x366976[_0x1c2ddd]]=_0x21ef08[_0x366976[_0x1c2ddd+(0x66b*0x1+0x12b*-0x1b+-0x3b*-0x6d)]]+_0x1a081c[_0x366976[_0x1c2ddd]];return _0x21ef08;}return _0x4a8063;}const qp={};qp[ye]=lx(ye),qp[Ve]=lx(Ve);class KR{['calculateL'+'ayout'](_0x3840d2,_0x226875){const _0x478ecd=qp[_0x226875['orientatio'+'n']];if(_0x478ecd)return _0x478ecd(_0x3840d2,_0x226875);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x226875['orientatio'+'n']);}}function xg(_0x178c93){return _0x178c93['element'];}function ZR(_0x40fe01){return _0x40fe01['enabled']&&_0x40fe01['element']&&_0x40fe01['element']['enabled'];}class hx extends pe{constructor(_0x28fe2e,_0x2c0113){super(_0x28fe2e,_0x2c0113),c(this,'_orientati'+'on',ye),c(this,'_reverseX',!(-0x1173+0x1688*-0x1+-0x13fe*-0x2)),c(this,'_reverseY',!(-0x2*-0x4ae+-0x1a0b+0x10af)),c(this,'_alignment',new W(0x712*-0x2+0x1*-0x11c5+0x1fe9,0x25d3+0x247a+-0x4a4c)),c(this,'_padding',new ee()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',gf),c(this,'_heightFit'+'ting',gf),c(this,'_wrap',!(-0x1*-0x23d7+-0x17d9+-0xbfd)),c(this,'_layoutCal'+'culator',new KR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x4d388b=>{this['_listenFor'+'ReflowEven'+'ts'](_0x4d388b,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),b['assert'](_0x28fe2e['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x28fe2e['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x28fe2e['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),b['assert'](_0x28fe2e['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x28fe2e['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x28fe2e['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x35cd41){_0x35cd41!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x35cd41,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x1d7106){_0x1d7106!==this['_reverseX']&&(this['_reverseX']=_0x1d7106,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x3e42b8){_0x3e42b8!==this['_reverseY']&&(this['_reverseY']=_0x3e42b8,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x552807){_0x552807['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x552807),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x3dbd34){_0x3dbd34['equals'](this['_padding'])||(this['_padding']['copy'](_0x3dbd34),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x953157){_0x953157['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x953157),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x1631d3){_0x1631d3!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x1631d3,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x43f183){_0x43f183!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x43f183,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x2b998e){_0x2b998e!==this['_wrap']&&(this['_wrap']=_0x2b998e,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x26d5a2){return _0x26d5a2===this['entity']||this['entity']['children']['indexOf'](_0x26d5a2)!==-(-0x21*-0xb9+-0xd12+-0xac6);}['_listenFor'+'ReflowEven'+'ts'](_0x7e59fc,_0xc64a54){_0x7e59fc['element']&&(_0x7e59fc['element'][_0xc64a54]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x7e59fc['element'][_0xc64a54]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x7e59fc['element'][_0xc64a54]('resize',this['_scheduleR'+'eflow'],this),_0x7e59fc['element'][_0xc64a54]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x7e59fc['layoutchil'+'d']&&(_0x7e59fc['layoutchil'+'d'][_0xc64a54]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x7e59fc['layoutchil'+'d'][_0xc64a54]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x46a9df){this['_isSelfOrC'+'hild'](_0x46a9df)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x46a9df,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x5162d9){this['_isSelfOrC'+'hild'](_0x5162d9)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x5162d9,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x191f6c){this['_listenFor'+'ReflowEven'+'ts'](_0x191f6c,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0xbdd7ee){this['_listenFor'+'ReflowEven'+'ts'](_0xbdd7ee,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x45cbb9=xg(this['entity']),_0x10ff11=this['entity']['children']['filter'](ZR)['map'](xg);if(!_0x45cbb9||_0x10ff11['length']===0x10e5+-0x26ff*-0x1+0x3fe*-0xe)return;const _0x448fed=Math['max'](_0x45cbb9['calculated'+'Width'],-0x1f56+0xf5c+0xffa),_0x53f601=Math['max'](_0x45cbb9['calculated'+'Height'],-0x1*-0x1f25+-0xc*-0xb8+0x1*-0x27c5),_0x1e2d1b={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x448fed,_0x53f601)};this['_isPerform'+'ingReflow']=!(-0x1967*0x1+-0x1*-0x8db+0x846*0x2);const _0x15d06b=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x10ff11,_0x1e2d1b);this['_isPerform'+'ingReflow']=!(-0xf9c+-0x1476+0x2413*0x1),this['fire']('reflow',_0x15d06b);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x186a00=>{this['_listenFor'+'ReflowEven'+'ts'](_0x186a00,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class QR{constructor(){this['enabled']=!(0x1*-0x2223+-0x1d7b*0x1+0x3f9e);}}const cx=['enabled'],JR=0xd3c+0x1*0x38b+-0x1063*0x1;class eI extends Qe{constructor(_0x2f4367){super(_0x2f4367),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=hx,this['DataType']=QR,this['schema']=cx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x5bd023,_0x113694,_0x339dd8){_0x113694['enabled']!==void(-0xa97+-0xee8+0x197f)&&(_0x5bd023['enabled']=_0x113694['enabled']),_0x113694['orientatio'+'n']!==void(0x17f6+0x11f+0x1*-0x1915)&&(_0x5bd023['orientatio'+'n']=_0x113694['orientatio'+'n']),_0x113694['reverseX']!==void(0x1*0x2b9+0xe38+-0x10f1)&&(_0x5bd023['reverseX']=_0x113694['reverseX']),_0x113694['reverseY']!==void(0x2*-0x6a1+-0x25*0x6e+-0x6*-0x4dc)&&(_0x5bd023['reverseY']=_0x113694['reverseY']),_0x113694['alignment']!==void(-0x7*0x4e+0x1c69+-0x1f*0xd9)&&(_0x5bd023['alignment']=Array['isArray'](_0x113694['alignment'])?new W(_0x113694['alignment']):_0x113694['alignment']),_0x113694['padding']!==void(0x1c6a+-0x17*0x106+-0x4*0x138)&&(_0x5bd023['padding']=Array['isArray'](_0x113694['padding'])?new ee(_0x113694['padding']):_0x113694['padding']),_0x113694['spacing']!==void(-0x1a46+-0x16cb+0x3111)&&(_0x5bd023['spacing']=Array['isArray'](_0x113694['spacing'])?new W(_0x113694['spacing']):_0x113694['spacing']),_0x113694['widthFitti'+'ng']!==void(0x265+0x469*-0x1+-0x81*-0x4)&&(_0x5bd023['widthFitti'+'ng']=_0x113694['widthFitti'+'ng']),_0x113694['heightFitt'+'ing']!==void(-0x4*0x42+0x2*0xb35+-0x1562)&&(_0x5bd023['heightFitt'+'ing']=_0x113694['heightFitt'+'ing']),_0x113694['wrap']!==void(-0x97*0x36+0x7d3+0x1*0x1807)&&(_0x5bd023['wrap']=_0x113694['wrap']),super['initialize'+'ComponentD'+'ata'](_0x5bd023,_0x113694,_0x339dd8);}['cloneCompo'+'nent'](_0x524a73,_0x160197){const _0xcb0611=_0x524a73['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x160197,{'enabled':_0xcb0611['enabled'],'orientation':_0xcb0611['orientatio'+'n'],'reverseX':_0xcb0611['reverseX'],'reverseY':_0xcb0611['reverseY'],'alignment':_0xcb0611['alignment'],'padding':_0xcb0611['padding'],'spacing':_0xcb0611['spacing'],'widthFitting':_0xcb0611['widthFitti'+'ng'],'heightFitting':_0xcb0611['heightFitt'+'ing'],'wrap':_0xcb0611['wrap']});}['scheduleRe'+'flow'](_0x3fb68e){this['_reflowQue'+'ue']['indexOf'](_0x3fb68e)===-(-0x25c4+0x12ee*0x1+-0x5b*-0x35)&&this['_reflowQue'+'ue']['push'](_0x3fb68e);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0x157*-0x7+-0x126c+0x1bcd)return;let _0x5d6c9c=0x191*-0x1+-0x61c+0x7ad;for(;this['_reflowQue'+'ue']['length']>0x7b9*0x4+-0x1855*-0x1+-0x3739;){const _0x3dc32b=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x5*0x521+-0x1877+0x97*-0x2,_0x3dc32b['sort']((_0x1356c2,_0x23235b)=>_0x1356c2['entity']['graphDepth']-_0x23235b['entity']['graphDepth']);for(let _0x599526=-0x267d+0x1359+0x15e*0xe;_0x599526<_0x3dc32b['length'];++_0x599526)_0x3dc32b[_0x599526]['reflow']();if(++_0x5d6c9c>=JR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x2c3607,_0x356262){_0x356262['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}pe['_buildAcce'+'ssors'](hx['prototype'],cx);class tI{constructor(){c(this,'map',new Map());}['destroy'](_0x4d5838){this['map']['forEach'](_0x2df877=>_0x2df877['mesh']['destroy']());}}const sI=new Ht(),dx=(_0x12f986,_0x104361)=>{const _0x74b002=sI['get'](_0x12f986,()=>new tI());let _0x10c48c=_0x74b002['map']['get'](_0x104361);if(!_0x10c48c){let _0x1fde8f,_0x344b19;switch(_0x104361){case'box':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new Yu()),_0x344b19={'x':0x2,'y':0x2,'z':0x2,'uv':(-0xb36+0x1e4f*-0x1+-0x1*-0x2987)/(-0x19e4+0x2*-0x8cb+0x2b7d)};break;case'capsule':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new M1({'radius':0.5,'height':0x2})),_0x344b19={'x':Math['PI']*(-0x5a1+-0x8b4+-0xe57*-0x1),'y':Math['PI'],'z':Math['PI']*(-0x1ea+0x30*-0x5c+0x996*0x2),'uv':(0x3*-0x4c7+-0x1297*0x1+0x20ed*0x1)/(0x1bc5+-0x52*-0x2e+-0x126*0x25)+(0xfad*-0x1+-0x17b2+0x8*0x4ec)/(0xb4e+-0x1e4c+-0x7*-0x2b7)/(0x1b05*0x1+-0x4a2+-0xb3*0x20)*(0x2608+-0x10dd+-0x1529)};break;case'cone':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new P1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x344b19={'x':2.54,'y':2.54,'z':2.54,'uv':(-0x25d7+-0x1*-0x7d3+0x1e05)/(0x19e*0xa+0x3*0x5bb+-0x215a)+(-0x13ea+-0xb4e+0x1f39)/(-0x1*-0x2fb+-0xb5*-0x2f+-0x1*0x2433)/(-0x4*-0x72b+0x92f*-0x1+-0x6*0x33f)};break;case'cylinder':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new R1({'radius':0.5,'height':0x1})),_0x344b19={'x':Math['PI'],'y':(-0x1361*0x2+0x5e7*-0x5+0x4445+0.79)*(0x1*0x1ea6+0xb73+-0x5*0x86b),'z':Math['PI'],'uv':(0x1b29+0x6b*0xf+-0x1*0x216d)/(0x3*-0x940+0xf48+-0x9*-0x163)+(0x222+-0x3*0x963+-0x3b8*-0x7)/(-0x26a+0x21*-0x128+0x2895)/(0x1019+-0x215b+0x1145)*(-0x101a+0x79b*-0x2+0x1f52)};break;case'plane':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new I1({'halfExtents':new W(0x8*0x9f+0x11ea+-0x16e2+0.5,0xe2a+-0x11*-0x14b+-0x2425+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x344b19={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new N0({'radius':0.5})),_0x344b19={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x1fde8f=ke['fromGeomet'+'ry'](_0x12f986,new D1({'tubeRadius':0.2,'ringRadius':0.3})),_0x344b19={'x':Math['PI']*(-0x549+0x672*-0x3+0x189f+0.5)*(-0xd24+0x1*-0x18be+0x175*0x1a+0.5)-Math['PI']*(0x40*0x3+-0x22ef+0x222f+0.1)*(0x13*0x19+0x14c9*-0x1+0x12ee+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x104361);}_0x1fde8f['incRefCoun'+'t'](),_0x10c48c={'mesh':_0x1fde8f,'area':_0x344b19},_0x74b002['map']['set'](_0x104361,_0x10c48c);}return _0x10c48c;};class ux extends pe{constructor(_0x5e5625,_0x2e2bdc){super(_0x5e5625,_0x2e2bdc),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0x3*0xb9d+0x1f8d+-0x1*-0x34a)),c(this,'_receiveSh'+'adows',!(0xf3*0x1f+0x154b+0x10e8*-0x3)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0xe50+0x2308+-0x3158)),c(this,'_lightmapp'+'ed',!(0x22be+0x3*0x864+-0x3be9)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x1e*0x7b+-0x2227+0x2*0x1849),c(this,'isStatic',!(-0x181+-0xc47+-0xdc9*-0x1)),c(this,'_layers',[zi]),c(this,'_batchGrou'+'pId',-(0x2b6*-0x5+-0x284+0x1013)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(-0x1*-0x484+0x48c+-0x90f)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x5e5625['defaultMat'+'erial'],_0x2e2bdc['on']('remove',this['onRemoveCh'+'ild'],this),_0x2e2bdc['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2e2bdc['on']('insert',this['onInsertCh'+'ild'],this),_0x2e2bdc['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x543fc6){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x543fc6);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x471020){if(this['_customAab'+'b']=_0x471020,this['_model']){const _0x1fcec5=this['_model']['meshInstan'+'ces'];if(_0x1fcec5){for(let _0x50ae82=0xaa9+-0x33*0xa6+0x1669;_0x50ae82<_0x1fcec5['length'];_0x50ae82++)_0x1fcec5[_0x50ae82]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x4967da){if(this['_type']!==_0x4967da){if(this['_area']=null,this['_type']=_0x4967da,_0x4967da==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x2fb6f1=dx(this['system']['app']['graphicsDe'+'vice'],_0x4967da);this['_area']=_0x2fb6f1['area'];const _0xc38be9=_0x2fb6f1['mesh'],_0xead349=new Oe(),_0x27ac62=new Ui();_0x27ac62['graph']=_0xead349,_0x27ac62['meshInstan'+'ces']=[new Be(_0xc38be9,this['_material'],_0xead349)],this['model']=_0x27ac62,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x38f910){const _0x505617=this['system']['app']['assets'];let _0x146e85=_0x38f910;if(_0x38f910 instanceof he&&(_0x146e85=_0x38f910['id']),this['_asset']!==_0x146e85){if(this['_asset']){_0x505617['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x458a92=_0x505617['get'](this['_asset']);_0x458a92&&this['_unbindMod'+'elAsset'](_0x458a92);}if(this['_asset']=_0x146e85,this['_asset']){const _0x115cf5=_0x505617['get'](this['_asset']);_0x115cf5?this['_bindModel'+'Asset'](_0x115cf5):(this['model']=null,_0x505617['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x53b0c1){if(this['_model']!==_0x53b0c1){if(_0x53b0c1&&_0x53b0c1['_immutable']){b['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x214+-0xce*0x8+0x45d),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x2*0x117+0x43d+0x1*-0x66a))),this['_model']=_0x53b0c1,this['_model']){this['_model']['_immutable']=!(-0x560*-0x2+-0x815+-0x2ab*0x1);const _0x14b23f=this['_model']['meshInstan'+'ces'];for(let _0x361d6e=0x662+-0x1803+0x11a1;_0x361d6e<_0x14b23f['length'];_0x361d6e++)_0x14b23f[_0x361d6e]['castShadow']=this['_castShado'+'ws'],_0x14b23f[_0x361d6e]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x14b23f[_0x361d6e]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x5cb36e){if(_0x5cb36e!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x5cb36e,this['_model'])){const _0x3b1a31=this['_model']['meshInstan'+'ces'];for(let _0x6d42c8=-0x632+0x259+0x3d9;_0x6d42c8<_0x3b1a31['length'];_0x6d42c8++)_0x3b1a31[_0x6d42c8]['setLightma'+'pped'](_0x5cb36e);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x287317){if(this['_castShado'+'ws']===_0x287317)return;const _0x1293b2=this['_model'];if(_0x1293b2){const _0x2865e1=this['layers'],_0x3efba3=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x287317)for(let _0x59bbe7=0x10f*0x15+0x4*-0x15a+-0x10d3;_0x59bbe7<_0x2865e1['length'];_0x59bbe7++){const _0x5483b1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x59bbe7]);_0x5483b1&&_0x5483b1['removeShad'+'owCasters'](_0x1293b2['meshInstan'+'ces']);}const _0x2d16dd=_0x1293b2['meshInstan'+'ces'];for(let _0x2a93ad=0x2263+0x3db+-0x7a6*0x5;_0x2a93ad<_0x2d16dd['length'];_0x2a93ad++)_0x2d16dd[_0x2a93ad]['castShadow']=_0x287317;if(!this['_castShado'+'ws']&&_0x287317)for(let _0x2cdfef=-0x575*-0x5+0x39*-0x73+-0xa*0x2b;_0x2cdfef<_0x2865e1['length'];_0x2cdfef++){const _0x57d73c=_0x3efba3['layers']['getLayerBy'+'Id'](_0x2865e1[_0x2cdfef]);_0x57d73c&&_0x57d73c['addShadowC'+'asters'](_0x1293b2['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x287317;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x56953f){if(this['_receiveSh'+'adows']!==_0x56953f&&(this['_receiveSh'+'adows']=_0x56953f,this['_model'])){const _0x402d62=this['_model']['meshInstan'+'ces'];for(let _0x46f023=0x1a7f+-0x270d+-0x647*-0x2,_0x2fd752=_0x402d62['length'];_0x46f023<_0x2fd752;_0x46f023++)_0x402d62[_0x46f023]['receiveSha'+'dow']=_0x56953f;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x2b85ae){this['_castShado'+'wsLightmap']=_0x2b85ae;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x353921){this['_lightmapS'+'izeMultipl'+'ier']=_0x353921;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x300492){const _0x5eee1d=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x29c17c=-0x2af*-0xc+-0x74c+-0x2*0xc74;_0x29c17c<this['_layers']['length'];_0x29c17c++){const _0x323f3b=_0x5eee1d['getLayerBy'+'Id'](this['_layers'][_0x29c17c]);_0x323f3b&&_0x323f3b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x12*-0x192+-0x20fa+0x367*0x12;for(let _0x1d96a4=0x1821+-0xf2*-0x27+-0x3cff;_0x1d96a4<_0x300492['length'];_0x1d96a4++)this['_layers'][_0x1d96a4]=_0x300492[_0x1d96a4];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x1a1ddd=-0xc23+-0x1e44+0x2a67;_0x1a1ddd<this['_layers']['length'];_0x1a1ddd++){const _0x42de3f=_0x5eee1d['getLayerBy'+'Id'](this['_layers'][_0x1a1ddd]);_0x42de3f&&_0x42de3f['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x59390d){var _0x210d80,_0x20b968;this['_batchGrou'+'pId']!==_0x59390d&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0xe5b+-0x79f*0x2+0x1d99&&((_0x210d80=this['system']['app']['batcher'])==null||_0x210d80['remove'](rt['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x59390d>=0x2087+-0x1d82+0x305*-0x1&&((_0x20b968=this['system']['app']['batcher'])==null||_0x20b968['insert'](rt['MODEL'],_0x59390d,this['entity'])),_0x59390d<-0x3*0x5d9+0x3ad+-0xdde*-0x1&&this['_batchGrou'+'pId']>=0x196+0x14ee+-0x1684&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x59390d);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x336ed3){let _0x4985ec=_0x336ed3;_0x336ed3 instanceof he&&(_0x4985ec=_0x336ed3['id']);const _0x2b4095=this['system']['app']['assets'];if(_0x4985ec!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x2b4095['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x38f69c=_0x2b4095['get'](this['_materialA'+'sset']);_0x38f69c&&this['_unbindMat'+'erialAsset'](_0x38f69c);}if(this['_materialA'+'sset']=_0x4985ec,this['_materialA'+'sset']){const _0x4ae0b9=_0x2b4095['get'](this['_materialA'+'sset']);_0x4ae0b9?this['_bindMater'+'ialAsset'](_0x4ae0b9):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x2b4095['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x5065a5){this['_material']!==_0x5065a5&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x5065a5));}get['material'](){return this['_material'];}set['mapping'](_0x37d800){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x37d800||(_0x37d800={}),this['_mapping']=_0x37d800,!this['_model']))return;const _0x3ad7a5=this['_model']['meshInstan'+'ces'],_0x373bed=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0xfe3291=_0x373bed?_0x373bed['data']['mapping']:null;let _0x43aaee=null;for(let _0x5e2981=-0x1*0x167b+0x2577+0x1c*-0x89,_0x568a5e=_0x3ad7a5['length'];_0x5e2981<_0x568a5e;_0x5e2981++)if(_0x37d800[_0x5e2981]!==void(0x1175+-0x5e*-0x19+-0x1aa3))_0x37d800[_0x5e2981]?(_0x43aaee=this['system']['app']['assets']['get'](_0x37d800[_0x5e2981]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x43aaee,_0x3ad7a5[_0x5e2981],_0x5e2981)):_0x3ad7a5[_0x5e2981]['material']=this['system']['defaultMat'+'erial'];else{if(_0xfe3291){if(_0xfe3291[_0x5e2981]&&(_0xfe3291[_0x5e2981]['material']||_0xfe3291[_0x5e2981]['path'])){if(_0xfe3291[_0x5e2981]['material']!==void(0x260+-0x1f7b*0x1+0x1*0x1d1b))_0x43aaee=this['system']['app']['assets']['get'](_0xfe3291[_0x5e2981]['material']);else{if(_0xfe3291[_0x5e2981]['path']!==void(0x8*0x260+0x22ac*-0x1+0xec*0x11)){const _0x363817=this['_getMateri'+'alAssetUrl'](_0xfe3291[_0x5e2981]['path']);_0x363817&&(_0x43aaee=this['system']['app']['assets']['getByUrl'](_0x363817));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x43aaee,_0x3ad7a5[_0x5e2981],_0x5e2981);}else _0x3ad7a5[_0x5e2981]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x462899=this['system']['app']['scene']['layers'];for(let _0x2ccfab=0x767+-0xcfa*-0x3+-0x2e55*0x1;_0x2ccfab<this['_layers']['length'];_0x2ccfab++){const _0x15486f=_0x462899['getLayerBy'+'Id'](this['_layers'][_0x2ccfab]);_0x15486f&&_0x15486f['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x319db3=this['system']['app']['scene']['layers'];for(let _0x2da7b6=0x3e4*-0x5+0x162f+-0x3*0xe9;_0x2da7b6<this['_layers']['length'];_0x2da7b6++){const _0x408bc9=_0x319db3['getLayerBy'+'Id'](this['_layers'][_0x2da7b6]);_0x408bc9&&_0x408bc9['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x194408,_0x32ee21){this['addModelTo'+'Layers'](),_0x194408['off']('add',this['onLayerAdd'+'ed'],this),_0x194408['off']('remove',this['onLayerRem'+'oved'],this),_0x32ee21['on']('add',this['onLayerAdd'+'ed'],this),_0x32ee21['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x203b7b){this['layers']['indexOf'](_0x203b7b['id'])<0x1fb4+0x16b+0x1*-0x211f||_0x203b7b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x248415){this['layers']['indexOf'](_0x248415['id'])<-0x1dce+0x2187+-0x3b9||_0x248415['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x5295cf,_0x15a284,_0x5b51f0,_0x25c41a){const _0x27793f=_0x15a284+':'+_0x5b51f0;this['system']['app']['assets']['on'](_0x27793f,_0x25c41a,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x5295cf]||(this['_materialE'+'vents'][_0x5295cf]={}),this['_materialE'+'vents'][_0x5295cf][_0x27793f]={'id':_0x5b51f0,'handler':_0x25c41a};}['_unsetMate'+'rialEvents'](){const _0x159bdf=this['system']['app']['assets'],_0x41b119=this['_materialE'+'vents'];if(_0x41b119){for(let _0x2071f7=0x17b*-0x15+0x1*0xf5b+-0x4*-0x3ef,_0x3283f2=_0x41b119['length'];_0x2071f7<_0x3283f2;_0x2071f7++){if(!_0x41b119[_0x2071f7])continue;const _0x57d4e4=_0x41b119[_0x2071f7];for(const _0x3f3526 in _0x57d4e4)_0x159bdf['off'](_0x3f3526,_0x57d4e4[_0x3f3526]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x25cd5d){let _0x3d0d80=null;if(!isNaN(parseInt(_0x25cd5d,0x129a+0x19be+0x1*-0x2c4e)))_0x3d0d80=this['system']['app']['assets']['get'](_0x25cd5d);else{if(this['asset']){const _0x1d8f76=this['_getMateri'+'alAssetUrl'](_0x25cd5d);_0x1d8f76&&(_0x3d0d80=this['system']['app']['assets']['getByUrl'](_0x1d8f76));}}return _0x3d0d80;}['_getMateri'+'alAssetUrl'](_0x274bdb){if(!this['asset'])return null;const _0x4bb3eb=this['system']['app']['assets']['get'](this['asset']);return _0x4bb3eb?_0x4bb3eb['getAbsolut'+'eUrl'](_0x274bdb):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x17c737,_0x35a314,_0x2efc25){const _0x4ca82d=this['system']['app']['assets'];_0x17c737&&(_0x17c737['resource']?(_0x35a314['material']=_0x17c737['resource'],this['_setMateri'+'alEvent'](_0x2efc25,'remove',_0x17c737['id'],function(){_0x35a314['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x2efc25,'load',_0x17c737['id'],function(_0x51a136){_0x35a314['material']=_0x51a136['resource'],this['_setMateri'+'alEvent'](_0x2efc25,'remove',_0x17c737['id'],function(){_0x35a314['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x4ca82d['load'](_0x17c737)));}['onEnable'](){var _0x4c24a9;const _0x5d3a86=this['system']['app'],_0x28199e=_0x5d3a86['scene'],_0x395fc2=_0x28199e==null?void(0x1069+0x1*0xa25+-0x1a8e):_0x28199e['layers'];this['_evtLayers'+'Changed']=_0x28199e['on']('set:layers',this['onLayersCh'+'anged'],this),_0x395fc2&&(this['_evtLayerA'+'dded']=_0x395fc2['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x395fc2['on']('remove',this['onLayerRem'+'oved'],this));const _0x19b138=this['_type']==='asset';let _0x4014f9;if(this['_model']?this['addModelTo'+'Layers']():_0x19b138&&this['_asset']&&(_0x4014f9=_0x5d3a86['assets']['get'](this['_asset']),_0x4014f9&&_0x4014f9['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x4014f9)),this['_materialA'+'sset']&&(_0x4014f9=_0x5d3a86['assets']['get'](this['_materialA'+'sset']),_0x4014f9&&_0x4014f9['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x4014f9)),_0x19b138&&this['_mapping']){for(const _0x5a35b7 in this['_mapping'])this['_mapping'][_0x5a35b7]&&(_0x4014f9=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x5a35b7]),_0x4014f9&&!_0x4014f9['resource']&&_0x5d3a86['assets']['load'](_0x4014f9));}this['_batchGrou'+'pId']>=-0xd8*-0x17+0xc41+-0x5*0x655&&((_0x4c24a9=_0x5d3a86['batcher'])==null||_0x4c24a9['insert'](rt['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x8bf40e,_0x5baa9e,_0x24b37e,_0x26bdf5;const _0x547881=this['system']['app'],_0x36ce1c=_0x547881['scene']['layers'];(_0x8bf40e=this['_evtLayers'+'Changed'])==null||_0x8bf40e['off'](),this['_evtLayers'+'Changed']=null,_0x36ce1c&&((_0x5baa9e=this['_evtLayerA'+'dded'])==null||_0x5baa9e['off'](),this['_evtLayerA'+'dded']=null,(_0x24b37e=this['_evtLayerR'+'emoved'])==null||_0x24b37e['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x4f*-0x60+-0x17*-0x95+-0x1*-0x103d&&((_0x26bdf5=_0x547881['batcher'])==null||_0x26bdf5['remove'](rt['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x558d40=this['_model']['meshInstan'+'ces'];for(let _0x1bfa47=-0x14c9+0x1104+0x3c5,_0x237680=_0x558d40['length'];_0x1bfa47<_0x237680;_0x1bfa47++)_0x558d40[_0x1bfa47]['visible']=!(-0x11*0x18d+-0x97*-0x17+0xccd);}}['show'](){if(this['_model']){const _0x3f2663=this['_model']['meshInstan'+'ces'];for(let _0xddb2f8=-0xf3f+-0x23*-0x33+0x846,_0xab0ca2=_0x3f2663['length'];_0xddb2f8<_0xab0ca2;_0xddb2f8++)_0x3f2663[_0xddb2f8]['visible']=!(-0x1eb*-0x8+0xa4c+0x1*-0x19a4);}}['_bindMater'+'ialAsset'](_0x114861){if(_0x114861['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x114861['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x114861['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x114861['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x114861['resource'])this['_onMateria'+'lAssetLoad'](_0x114861);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x114861);}}['_unbindMat'+'erialAsset'](_0x5dd5ab){_0x5dd5ab['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x5dd5ab['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x5dd5ab['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x5dd5ab['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x565c95){this['system']['app']['assets']['off']('add:'+_0x565c95['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x565c95['id']&&this['_bindMater'+'ialAsset'](_0x565c95);}['_onMateria'+'lAssetLoad'](_0x522f11){this['_setMateri'+'al'](_0x522f11['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x37be78){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x156eb9){this['_onMateria'+'lAssetUnlo'+'ad'](_0x156eb9);}['_onMateria'+'lAssetChan'+'ge'](_0x41a703){}['_bindModel'+'Asset'](_0x2771fa){if(this['_unbindMod'+'elAsset'](_0x2771fa),_0x2771fa['on']('load',this['_onModelAs'+'setLoad'],this),_0x2771fa['on']('unload',this['_onModelAs'+'setUnload'],this),_0x2771fa['on']('change',this['_onModelAs'+'setChange'],this),_0x2771fa['on']('remove',this['_onModelAs'+'setRemove'],this),_0x2771fa['resource'])this['_onModelAs'+'setLoad'](_0x2771fa);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x2771fa);}}['_unbindMod'+'elAsset'](_0xab70de){_0xab70de['off']('load',this['_onModelAs'+'setLoad'],this),_0xab70de['off']('unload',this['_onModelAs'+'setUnload'],this),_0xab70de['off']('change',this['_onModelAs'+'setChange'],this),_0xab70de['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x36e22f){this['system']['app']['assets']['off']('add:'+_0x36e22f['id'],this['_onModelAs'+'setAdded'],this),_0x36e22f['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x36e22f);}['_onModelAs'+'setLoad'](_0x12355a){this['model']=_0x12355a['resource']['clone'](),this['_clonedMod'+'el']=!(-0xeef+-0x331*0x1+0x1220);}['_onModelAs'+'setUnload'](_0x6a386b){this['model']=null;}['_onModelAs'+'setChange'](_0x409dd2,_0x3a1b66,_0x4e34e8,_0x522a9a){_0x3a1b66==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x554bc6){this['model']=null;}['_setMateri'+'al'](_0x3a8459){if(this['_material']===_0x3a8459)return;this['_material']=_0x3a8459;const _0x144215=this['_model'];if(_0x144215&&this['_type']!=='asset'){const _0x27d71a=_0x144215['meshInstan'+'ces'];for(let _0x43e8eb=-0xfb*-0x19+-0x117c+-0x707,_0x4202a5=_0x27d71a['length'];_0x43e8eb<_0x4202a5;_0x43e8eb++)_0x27d71a[_0x43e8eb]['material']=_0x3a8459;}}}class iI{constructor(){this['enabled']=!(-0x1*-0xf17+0x113e*-0x2+-0x3*-0x677);}}const fx=['enabled'];class rI extends Qe{constructor(_0x5d5413){super(_0x5d5413),this['id']='model',this['ComponentT'+'ype']=ux,this['DataType']=iI,this['schema']=fx,this['defaultMat'+'erial']=cl(_0x5d5413['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x38f7f7,_0x44b739,_0x29ac43){_0x29ac43=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x44b739['batchGroup'+'Id']===null||_0x44b739['batchGroup'+'Id']===void(0xaac*-0x1+-0x18cc+0x2378))&&(_0x44b739['batchGroup'+'Id']=-(-0x639+-0x108f+0x13*0x133)),_0x44b739['layers']&&_0x44b739['layers']['length']&&(_0x44b739['layers']=_0x44b739['layers']['slice'](-0x15f1*-0x1+-0x1aac+-0x1*-0x4bb));for(let _0x4f8eb7=-0x17da+0x556+0xf*0x13c;_0x4f8eb7<_0x29ac43['length'];_0x4f8eb7++)_0x44b739['hasOwnProp'+'erty'](_0x29ac43[_0x4f8eb7])&&(_0x38f7f7[_0x29ac43[_0x4f8eb7]]=_0x44b739[_0x29ac43[_0x4f8eb7]]);_0x44b739['aabbCenter']&&_0x44b739['aabbHalfEx'+'tents']&&(_0x38f7f7['customAabb']=new ve(new A(_0x44b739['aabbCenter']),new A(_0x44b739['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x38f7f7,_0x44b739,['enabled']);}['cloneCompo'+'nent'](_0x4b9237,_0x134235){const _0x7afa49={'type':_0x4b9237['model']['type'],'asset':_0x4b9237['model']['asset'],'castShadows':_0x4b9237['model']['castShadow'+'s'],'receiveShadows':_0x4b9237['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x4b9237['model']['castShadow'+'sLightmap'],'lightmapped':_0x4b9237['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x4b9237['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x4b9237['model']['isStatic'],'enabled':_0x4b9237['model']['enabled'],'layers':_0x4b9237['model']['layers'],'batchGroupId':_0x4b9237['model']['batchGroup'+'Id'],'mapping':Eh({},_0x4b9237['model']['mapping'])};let _0x433ce1=_0x4b9237['model']['materialAs'+'set'];!(_0x433ce1 instanceof he)&&_0x433ce1!=null&&(_0x433ce1=this['app']['assets']['get'](_0x433ce1));const _0x578e8c=_0x4b9237['model']['material'];(!_0x578e8c||_0x578e8c===this['defaultMat'+'erial']||!_0x433ce1||_0x578e8c===_0x433ce1['resource'])&&(_0x7afa49['materialAs'+'set']=_0x433ce1);const _0x2625e1=this['addCompone'+'nt'](_0x134235,_0x7afa49);if(_0x4b9237['model']['model']&&_0x4b9237['model']['type']==='asset'&&!_0x4b9237['model']['asset']&&(_0x2625e1['model']=_0x4b9237['model']['model']['clone'](),_0x2625e1['_clonedMod'+'el']=!(-0x1880+-0x9*0x265+0x2e0d)),_0x7afa49['materialAs'+'set']||(_0x2625e1['material']=_0x578e8c),_0x4b9237['model']['model']){const _0xd81cd3=_0x4b9237['model']['model']['meshInstan'+'ces'],_0x805a51=_0x2625e1['model']['meshInstan'+'ces'];for(let _0x5776c7=0x3d*0xf+0x1c0*0xb+0x16d3*-0x1;_0x5776c7<_0xd81cd3['length'];_0x5776c7++)_0x805a51[_0x5776c7]['mask']=_0xd81cd3[_0x5776c7]['mask'],_0x805a51[_0x5776c7]['material']=_0xd81cd3[_0x5776c7]['material'],_0x805a51[_0x5776c7]['layer']=_0xd81cd3[_0x5776c7]['layer'],_0x805a51[_0x5776c7]['receiveSha'+'dow']=_0xd81cd3[_0x5776c7]['receiveSha'+'dow'];}return _0x4b9237['model']['customAabb']&&(_0x2625e1['customAabb']=_0x4b9237['model']['customAabb']['clone']()),_0x2625e1;}['onRemove'](_0x4cd6c4,_0x4fbff9){_0x4fbff9['onRemove']();}}pe['_buildAcce'+'ssors'](ux['prototype'],fx);const nI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],aI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],oI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],sh=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let $n;class lI extends pe{constructor(_0x302e04,_0x3812ae){super(_0x302e04,_0x3812ae),c(this,'_requested'+'Depth',!(-0x191d*-0x1+0x1091*0x2+0x163*-0x2a)),c(this,'_drawOrder',0x1*-0x11d1+-0x2093+-0x866*-0x6),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),nI['forEach'](_0x3c1ef3=>{this['on']('set_'+_0x3c1ef3,this['onSetSimpl'+'eProperty'],this);}),aI['forEach'](_0xca54a9=>{this['on']('set_'+_0xca54a9,this['onSetCompl'+'exProperty'],this);}),oI['forEach'](_0x39b1a1=>{this['on']('set_'+_0x39b1a1,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x4eb3df=this['system']['store'][this['entity']['getGuid']()];return _0x4eb3df?_0x4eb3df['data']:null;}set['enabled'](_0x22e752){this['_setValue']('enabled',_0x22e752);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x4b0334){this['_setValue']('autoPlay',_0x4b0334);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x1af3e5){this['_setValue']('numParticl'+'es',_0x1af3e5);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x2f37c2){this['_setValue']('lifetime',_0x2f37c2);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x262b0c){this['_setValue']('rate',_0x262b0c);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x369fc4){this['_setValue']('rate2',_0x369fc4);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x24881b){this['_setValue']('startAngle',_0x24881b);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x10beb5){this['_setValue']('startAngle'+'2',_0x10beb5);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x13bd22){this['_setValue']('loop',_0x13bd22);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x2db987){this['_setValue']('preWarm',_0x2db987);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x300d7b){this['_setValue']('lighting',_0x300d7b);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x1d3498){this['_setValue']('halfLamber'+'t',_0x1d3498);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x5ec10f){this['_setValue']('intensity',_0x5ec10f);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x5f88b0){this['_setValue']('depthWrite',_0x5f88b0);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0xe00a4d){this['_setValue']('noFog',_0xe00a4d);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x1d580d){this['_setValue']('depthSofte'+'ning',_0x1d580d);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x5a3693){this['_setValue']('sort',_0x5a3693);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x1c3b83){this['_setValue']('blendType',_0x1c3b83);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x5cc728){this['_setValue']('stretch',_0x5cc728);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x382e57){this['_setValue']('alignToMot'+'ion',_0x382e57);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x51500f){this['_setValue']('emitterSha'+'pe',_0x51500f);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x1051d0){this['_setValue']('emitterExt'+'ents',_0x1051d0);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x45c396){this['_setValue']('emitterExt'+'entsInner',_0x45c396);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x5e9e81){this['_setValue']('emitterRad'+'ius',_0x5e9e81);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x5cf53c){this['_setValue']('emitterRad'+'iusInner',_0x5cf53c);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x2ec283){this['_setValue']('initialVel'+'ocity',_0x2ec283);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x5170ae){this['_setValue']('wrap',_0x5170ae);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x4b81f2){this['_setValue']('wrapBounds',_0x4b81f2);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x19b992){this['_setValue']('localSpace',_0x19b992);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x18f456){this['_setValue']('screenSpac'+'e',_0x18f456);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x3cae60){this['_setValue']('colorMapAs'+'set',_0x3cae60);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x432af5){this['_setValue']('normalMapA'+'sset',_0x432af5);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0xdfe98d){this['_setValue']('mesh',_0xdfe98d);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x4300bc){this['_setValue']('meshAsset',_0x4300bc);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x2ba3e7){this['_setValue']('renderAsse'+'t',_0x2ba3e7);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x3853cb){this['_setValue']('orientatio'+'n',_0x3853cb);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x4e34b2){this['_setValue']('particleNo'+'rmal',_0x4e34b2);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x3913a7){this['_setValue']('localVeloc'+'ityGraph',_0x3913a7);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x5c7da7){this['_setValue']('localVeloc'+'ityGraph2',_0x5c7da7);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x206c5f){this['_setValue']('velocityGr'+'aph',_0x206c5f);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0xaeb39b){this['_setValue']('velocityGr'+'aph2',_0xaeb39b);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x9bb437){this['_setValue']('rotationSp'+'eedGraph',_0x9bb437);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x258f01){this['_setValue']('rotationSp'+'eedGraph2',_0x258f01);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x5afa27){this['_setValue']('radialSpee'+'dGraph',_0x5afa27);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x1f399a){this['_setValue']('radialSpee'+'dGraph2',_0x1f399a);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x1c3721){this['_setValue']('scaleGraph',_0x1c3721);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x341245){this['_setValue']('scaleGraph'+'2',_0x341245);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x51e37a){this['_setValue']('colorGraph',_0x51e37a);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x4ca2f9){this['_setValue']('colorGraph'+'2',_0x4ca2f9);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x44dfbe){this['_setValue']('alphaGraph',_0x44dfbe);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x549a4a){this['_setValue']('alphaGraph'+'2',_0x549a4a);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x1e196d){this['_setValue']('colorMap',_0x1e196d);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x91693d){this['_setValue']('normalMap',_0x91693d);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x295ded){this['_setValue']('animTilesX',_0x295ded);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x41456a){this['_setValue']('animTilesY',_0x41456a);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x11af07){this['_setValue']('animStartF'+'rame',_0x11af07);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x4a096b){this['_setValue']('animNumFra'+'mes',_0x4a096b);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x1a15f3){this['_setValue']('animNumAni'+'mations',_0x1a15f3);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x43fb6b){this['_setValue']('animIndex',_0x43fb6b);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x29edcb){this['_setValue']('randomizeA'+'nimIndex',_0x29edcb);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x1edf7a){this['_setValue']('animSpeed',_0x1edf7a);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x5e88c5){this['_setValue']('animLoop',_0x5e88c5);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x2ea79a){this['_setValue']('layers',_0x2ea79a);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x1c24a1){this['_drawOrder']=_0x1c24a1,this['emitter']&&(this['emitter']['drawOrder']=_0x1c24a1);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x4f04c8,_0x5a8678){const _0x395a6c=this['data'],_0xc50a94=_0x395a6c[_0x4f04c8];_0x395a6c[_0x4f04c8]=_0x5a8678,this['fire']('set',_0x4f04c8,_0xc50a94,_0x5a8678);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x1d26c9=0xe2*0x1f+0x1862+-0x2e0*0x12;_0x1d26c9<this['layers']['length'];_0x1d26c9++){const _0x2bd756=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1d26c9]);_0x2bd756&&(_0x2bd756['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x2bd756);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0xacb4f4=0x1*0x26ea+0xf95+0x7*-0x7c9;_0xacb4f4<this['layers']['length'];_0xacb4f4++){const _0x10b7d9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xacb4f4]);_0x10b7d9&&_0x10b7d9['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x185545,_0x138e99,_0x40df25){if(this['emitter']){for(let _0x3c2a25=-0x2107+0x734+0x19d3;_0x3c2a25<_0x138e99['length'];_0x3c2a25++){const _0x50f11d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x138e99[_0x3c2a25]);_0x50f11d&&_0x50f11d['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x3a3d6d=-0x258e+0x2000+-0x2c7*-0x2;_0x3a3d6d<_0x40df25['length'];_0x3a3d6d++){const _0x49e047=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x40df25[_0x3a3d6d]);_0x49e047&&_0x49e047['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x3592e7,_0x4a33f9){this['addMeshIns'+'tanceToLay'+'ers'](),_0x3592e7['off']('add',this['onLayerAdd'+'ed'],this),_0x3592e7['off']('remove',this['onLayerRem'+'oved'],this),_0x4a33f9['on']('add',this['onLayerAdd'+'ed'],this),_0x4a33f9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x306746){!this['emitter']||this['layers']['indexOf'](_0x306746['id'])<-0x2*-0x7ba+-0x2146*-0x1+-0x103e*0x3||_0x306746['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x485fa9){!this['emitter']||this['layers']['indexOf'](_0x485fa9['id'])<-0xbfb*-0x1+-0x171*0x1a+0x197f||_0x485fa9['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x108dc9){if(_0x108dc9['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x108dc9['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x108dc9['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x108dc9['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x108dc9['resource'])this['_onColorMa'+'pAssetLoad'](_0x108dc9);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x108dc9);}}['_unbindCol'+'orMapAsset'](_0x108252){_0x108252['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x108252['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x108252['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x108252['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x48e191){this['colorMap']=_0x48e191['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x34ae9e){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0xf36c1){this['_onColorMa'+'pAssetUnlo'+'ad'](_0xf36c1);}['_onColorMa'+'pAssetChan'+'ge'](_0x32a9e8){}['onSetColor'+'MapAsset'](_0x3111cf,_0x1c144e,_0x290a6e){const _0x2282e3=this['system']['app']['assets'];if(_0x1c144e){const _0x260343=_0x2282e3['get'](_0x1c144e);_0x260343&&this['_unbindCol'+'orMapAsset'](_0x260343);}if(_0x290a6e){_0x290a6e instanceof he&&(this['data']['colorMapAs'+'set']=_0x290a6e['id'],_0x290a6e=_0x290a6e['id']);const _0x47dfd9=_0x2282e3['get'](_0x290a6e);_0x47dfd9?this['_bindColor'+'MapAsset'](_0x47dfd9):_0x2282e3['once']('add:'+_0x290a6e,_0x96eb61=>{this['_bindColor'+'MapAsset'](_0x96eb61);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0xee6366){if(_0xee6366['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0xee6366['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0xee6366['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0xee6366['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0xee6366['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0xee6366);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xee6366);}}['_unbindNor'+'malMapAsse'+'t'](_0x27c5dc){_0x27c5dc['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x27c5dc['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x27c5dc['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x27c5dc['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x51b84b){this['normalMap']=_0x51b84b['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x378937){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x2fae50){this['_onNormalM'+'apAssetUnl'+'oad'](_0x2fae50);}['_onNormalM'+'apAssetCha'+'nge'](_0x147a68){}['onSetNorma'+'lMapAsset'](_0x4471e9,_0x33d023,_0x41dafa){const _0x22e865=this['system']['app']['assets'];if(_0x33d023){const _0x117fce=_0x22e865['get'](_0x33d023);_0x117fce&&this['_unbindNor'+'malMapAsse'+'t'](_0x117fce);}if(_0x41dafa){_0x41dafa instanceof he&&(this['data']['normalMapA'+'sset']=_0x41dafa['id'],_0x41dafa=_0x41dafa['id']);const _0x2a754a=_0x22e865['get'](_0x41dafa);_0x2a754a?this['_bindNorma'+'lMapAsset'](_0x2a754a):_0x22e865['once']('add:'+_0x41dafa,_0x4c178c=>{this['_bindNorma'+'lMapAsset'](_0x4c178c);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x4c269f){if(_0x4c269f['on']('load',this['_onMeshAss'+'etLoad'],this),_0x4c269f['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x4c269f['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x4c269f['on']('change',this['_onMeshAss'+'etChange'],this),_0x4c269f['resource'])this['_onMeshAss'+'etLoad'](_0x4c269f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4c269f);}}['_unbindMes'+'hAsset'](_0x3343a8){_0x3343a8['off']('load',this['_onMeshAss'+'etLoad'],this),_0x3343a8['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x3343a8['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x3343a8['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x499845){this['_onMeshCha'+'nged'](_0x499845['resource']);}['_onMeshAss'+'etUnload'](_0x397949){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x51c4a0){this['_onMeshAss'+'etUnload'](_0x51c4a0);}['_onMeshAss'+'etChange'](_0x1914a7){}['onSetMeshA'+'sset'](_0x53cf6e,_0xd82d20,_0x2faf84){const _0x5a9573=this['system']['app']['assets'];if(_0xd82d20){const _0x19519f=_0x5a9573['get'](_0xd82d20);_0x19519f&&this['_unbindMes'+'hAsset'](_0x19519f);}if(_0x2faf84){_0x2faf84 instanceof he&&(this['data']['meshAsset']=_0x2faf84['id'],_0x2faf84=_0x2faf84['id']);const _0x9763=_0x5a9573['get'](_0x2faf84);_0x9763&&this['_bindMeshA'+'sset'](_0x9763);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x464b92,_0x2fc46a,_0x33468d){!_0x33468d||_0x33468d instanceof he||typeof _0x33468d=='number'?this['meshAsset']=_0x33468d:this['_onMeshCha'+'nged'](_0x33468d);}['_onMeshCha'+'nged'](_0x26fa72){_0x26fa72&&!(_0x26fa72 instanceof ke)&&(_0x26fa72['meshInstan'+'ces'][-0xbbc+0x804*-0x1+0x13c0]?_0x26fa72=_0x26fa72['meshInstan'+'ces'][-0x287*-0xd+0x14e7*-0x1+-0xbf4]['mesh']:_0x26fa72=null),this['data']['mesh']=_0x26fa72,this['emitter']&&(this['emitter']['mesh']=_0x26fa72,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0xfe2294,_0x4be91e,_0x31fe2d){const _0x4db8d2=this['system']['app']['assets'];if(_0x4be91e){const _0x12c56f=_0x4db8d2['get'](_0x4be91e);_0x12c56f&&this['_unbindRen'+'derAsset'](_0x12c56f);}if(_0x31fe2d){_0x31fe2d instanceof he&&(this['data']['renderAsse'+'t']=_0x31fe2d['id'],_0x31fe2d=_0x31fe2d['id']);const _0x46a57e=_0x4db8d2['get'](_0x31fe2d);_0x46a57e&&this['_bindRende'+'rAsset'](_0x46a57e);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x30adb0){if(_0x30adb0['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x30adb0['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x30adb0['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x30adb0['resource'])this['_onRenderA'+'ssetLoad'](_0x30adb0);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x30adb0);}}['_unbindRen'+'derAsset'](_0x137a88){var _0x252004;_0x137a88['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x137a88['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x137a88['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x252004=this['_evtSetMes'+'hes'])==null||_0x252004['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2fee42){this['_onRenderC'+'hanged'](_0x2fee42['resource']);}['_onRenderA'+'ssetUnload'](_0x4c5c15){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x4f1a1b){this['_onRenderA'+'ssetUnload'](_0x4f1a1b);}['_onRenderC'+'hanged'](_0x270589){var _0x2f36f8;if(!_0x270589){this['_onMeshCha'+'nged'](null);return;}(_0x2f36f8=this['_evtSetMes'+'hes'])==null||_0x2f36f8['off'](),this['_evtSetMes'+'hes']=_0x270589['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x270589['meshes']&&this['_onRenderS'+'etMeshes'](_0x270589['meshes']);}['_onRenderS'+'etMeshes'](_0x535730){this['_onMeshCha'+'nged'](_0x535730&&_0x535730[-0xae5+-0x25ac+0x1*0x3091]);}['onSetLoop'](_0xcea19c,_0x1373cc,_0x2c22de){this['emitter']&&(this['emitter'][_0xcea19c]=_0x2c22de,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x529b34,_0x2db4c3,_0xb4a1fa){this['emitter']&&(this['emitter'][_0x529b34]=_0xb4a1fa,this['emitter']['material']['blendType']=_0xb4a1fa,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||($n||($n=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](es)),$n&&($n['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x7bb+0x17*-0x194+0x1c91)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&$n&&($n['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x17c+-0xb9*-0x1c+-0x15b7));}['onSetDepth'+'Softening'](_0x11c6b7,_0xf09b3c,_0x4b2ed5){_0xf09b3c!==_0x4b2ed5&&(_0x4b2ed5?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x11c6b7]=_0x4b2ed5)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x11c6b7]=_0x4b2ed5)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x6010bf,_0x1c9aa7,_0x2ee482){this['emitter']&&(this['emitter'][_0x6010bf]=_0x2ee482,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x140ae6,_0x24efed,_0x203ebb){this['emitter']&&(this['emitter'][_0x140ae6]=_0x203ebb,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x4d15e1,_0x65ae87,_0x14b77a){this['emitter']&&(this['emitter'][_0x4d15e1]=_0x14b77a,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x3d3531=this['system']['app']['scene'],_0x3a2812=_0x3d3531['layers'],_0x249535=this['data'];for(let _0x28a8ac=-0x19bd+0x76d*-0x1+0x212a,_0x33a47f=sh['length'];_0x28a8ac<_0x33a47f;_0x28a8ac++){let _0x3d4ba0=_0x249535[sh[_0x28a8ac]];if(_0x3d4ba0){if(!(_0x3d4ba0 instanceof he)){if(parseInt(_0x3d4ba0,-0x109e+0xf*0x1ea+0x607*-0x2)>=0xb78+0x3*-0x789+0xb23*0x1)_0x3d4ba0=this['system']['app']['assets']['get'](_0x3d4ba0);else continue;}_0x3d4ba0&&!_0x3d4ba0['resource']&&this['system']['app']['assets']['load'](_0x3d4ba0);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x4685c6=_0x249535['mesh'];_0x4685c6 instanceof ke||(_0x4685c6=null),this['emitter']=new u1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x249535['numParticl'+'es'],'emitterExtents':_0x249535['emitterExt'+'ents'],'emitterExtentsInner':_0x249535['emitterExt'+'entsInner'],'emitterRadius':_0x249535['emitterRad'+'ius'],'emitterRadiusInner':_0x249535['emitterRad'+'iusInner'],'emitterShape':_0x249535['emitterSha'+'pe'],'initialVelocity':_0x249535['initialVel'+'ocity'],'wrap':_0x249535['wrap'],'localSpace':_0x249535['localSpace'],'screenSpace':_0x249535['screenSpac'+'e'],'wrapBounds':_0x249535['wrapBounds'],'lifetime':_0x249535['lifetime'],'rate':_0x249535['rate'],'rate2':_0x249535['rate2'],'orientation':_0x249535['orientatio'+'n'],'particleNormal':_0x249535['particleNo'+'rmal'],'animTilesX':_0x249535['animTilesX'],'animTilesY':_0x249535['animTilesY'],'animStartFrame':_0x249535['animStartF'+'rame'],'animNumFrames':_0x249535['animNumFra'+'mes'],'animNumAnimations':_0x249535['animNumAni'+'mations'],'animIndex':_0x249535['animIndex'],'randomizeAnimIndex':_0x249535['randomizeA'+'nimIndex'],'animSpeed':_0x249535['animSpeed'],'animLoop':_0x249535['animLoop'],'startAngle':_0x249535['startAngle'],'startAngle2':_0x249535['startAngle'+'2'],'scaleGraph':_0x249535['scaleGraph'],'scaleGraph2':_0x249535['scaleGraph'+'2'],'colorGraph':_0x249535['colorGraph'],'colorGraph2':_0x249535['colorGraph'+'2'],'alphaGraph':_0x249535['alphaGraph'],'alphaGraph2':_0x249535['alphaGraph'+'2'],'localVelocityGraph':_0x249535['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x249535['localVeloc'+'ityGraph2'],'velocityGraph':_0x249535['velocityGr'+'aph'],'velocityGraph2':_0x249535['velocityGr'+'aph2'],'rotationSpeedGraph':_0x249535['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x249535['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x249535['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x249535['radialSpee'+'dGraph2'],'colorMap':_0x249535['colorMap'],'normalMap':_0x249535['normalMap'],'loop':_0x249535['loop'],'preWarm':_0x249535['preWarm'],'sort':_0x249535['sort'],'stretch':_0x249535['stretch'],'alignToMotion':_0x249535['alignToMot'+'ion'],'lighting':_0x249535['lighting'],'halfLambert':_0x249535['halfLamber'+'t'],'intensity':_0x249535['intensity'],'depthSoftening':_0x249535['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x4685c6,'depthWrite':_0x249535['depthWrite'],'noFog':_0x249535['noFog'],'node':this['entity'],'blendType':_0x249535['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x249535['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x2*-0x4f1+0x1dee+-0x140b));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x3d3531['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3a2812&&(this['_evtLayerA'+'dded']=_0x3a2812['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3a2812['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x249535['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x3207d6,_0x288815,_0x7b3009;const _0x2165c0=this['system']['app']['scene']['layers'];(_0x3207d6=this['_evtLayers'+'Changed'])==null||_0x3207d6['off'](),this['_evtLayers'+'Changed']=null,_0x2165c0&&((_0x288815=this['_evtLayerA'+'dded'])==null||_0x288815['off'](),this['_evtLayerA'+'dded']=null,(_0x7b3009=this['_evtLayerR'+'emoved'])==null||_0x7b3009['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x9*-0x3b+-0x1d6c+0x7*0x480)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x52d3d1=-0x7fb*-0x4+0x10f*0x16+0x3736*-0x1;_0x52d3d1<sh['length'];_0x52d3d1++){const _0x4b0768=sh[_0x52d3d1];this['data'][_0x4b0768]&&(this[_0x4b0768]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x3*0x5d4+0x204a+-0x31c5),this['emitter']['resetTime'](),this['emitter']['addTime'](-0x4d*-0xa+0x5bb+-0x8bd,!(-0xbf1+-0x2*-0x10c7+-0xb*0x1f7)));}['pause'](){this['data']['paused']=!(-0x6db+0x1445+-0x11*0xca);}['unpause'](){this['data']['paused']=!(-0x2*0x9fa+0x1b*0x12e+-0xbe5);}['play'](){this['data']['paused']=!(0x277*0x3+0x76e*-0x3+0xee6),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x63a*0x4+-0x1b8c+0x3474),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x223*-0xd+-0xd85*-0x2+-0x5f*-0x2):this['emitter']&&this['emitter']['loop']?!(-0x3*0x653+0x801+-0x68*-0x1b):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x3705a3}=this;_0x3705a3&&!_0x3705a3['inTools']&&(_0x3705a3['inTools']=!(-0x1*-0x8c9+-0x219+0x1*-0x6b0),this['rebuild']());}['rebuild'](){const _0x1ed2e0=this['enabled'];this['enabled']=!(0x677+-0xabc*-0x1+-0x3e*0x47),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1ed2e0;}}class hI{constructor(){this['numParticl'+'es']=-0x8*0x434+-0x30*0xc5+0x4691,this['rate']=0xfb8+-0xee1+-0xd6*0x1,this['rate2']=null,this['startAngle']=-0x120b*-0x1+-0xb+0x120*-0x10,this['startAngle'+'2']=null,this['lifetime']=0x137b+-0x4ff+0x725*-0x2,this['emitterExt'+'ents']=new A(),this['emitterExt'+'entsInner']=new A(),this['emitterRad'+'ius']=0x22*0x11+0x26e0+0x1*-0x2922,this['emitterRad'+'iusInner']=-0xd1b+-0x2b2*-0x1+0x41*0x29,this['emitterSha'+'pe']=qs,this['initialVel'+'ocity']=-0x120f+-0x257e*0x1+0x378d,this['wrap']=!(-0x1da*0x2+-0x1*-0x2151+-0x1d9c),this['wrapBounds']=new A(),this['localSpace']=!(-0x1f*-0x4f+0x1*-0x1b22+-0xd*-0x15a),this['screenSpac'+'e']=!(0x1759+0x2*0xc20+-0x2f98*0x1),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x353+-0x2302+-0x1*-0x1faf),this['preWarm']=!(0x1793+-0x2046+-0x1*-0x8b4),this['sort']=0x162*0x17+0x21ad*0x1+-0x417b,this['mode']=u0,this['scene']=null,this['lighting']=!(-0x1fd5+0x5*0x665+-0x23),this['halfLamber'+'t']=!(-0x2237+0x13cf+0x1*0xe69),this['intensity']=-0x4f7*0x2+0x1*-0x704+0x10f3,this['stretch']=0x3*-0xa30+0x5*-0x29c+0x2b9c,this['alignToMot'+'ion']=!(0x1eca+0x1511+-0x33da),this['depthSofte'+'ning']=-0xac2+-0x461+0xf23,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x2277+0x179f+-0x3a15),this['noFog']=!(0x665*-0x2+0x2021+-0x1356),this['orientatio'+'n']=$h,this['particleNo'+'rmal']=new A(0x251*0x8+0x692*-0x4+0x7c0,0x1a0c+0x1ba9+-0x7ac*0x7,0xb2f+-0x220c*0x1+0x16dd),this['animTilesX']=0x354*-0x8+0x1e8c+-0x3eb,this['animTilesY']=0xce1+0x894*0x4+0x2f30*-0x1,this['animStartF'+'rame']=-0x9b1+0x1e6c+-0x14bb,this['animNumFra'+'mes']=0x8*-0x46f+-0x425*0x4+0x5*0xa69,this['animNumAni'+'mations']=0x9a3+0x1ab8*0x1+-0x5e*0x63,this['animIndex']=-0xfaa*-0x1+-0x2*-0x889+-0x20bc,this['randomizeA'+'nimIndex']=!(-0x53e+-0xf7c+0x6e9*0x3),this['animSpeed']=-0x11e0+-0x2641+0x2*0x1c11,this['animLoop']=!(-0xe49*0x1+-0x141f+0x2268),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Gt,this['enabled']=!(-0x2c9*-0x6+0x63a*0x1+-0x16f0),this['paused']=!(0x1*0x1ca5+0xf20*-0x1+-0x4*0x361),this['autoPlay']=!(0x13c6+0x176+0x12e*-0x12),this['layers']=[zi];}}const cI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class dI extends Qe{constructor(_0xcaeb83){super(_0xcaeb83),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=lI,this['DataType']=hI,this['schema']=cI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x549d31,_0x493f66,_0x3e02df){const _0x541a93={};_0x3e02df=[];const _0x54cdd6=this['propertyTy'+'pes'];(_0x493f66['mesh']instanceof he||typeof _0x493f66['mesh']=='number')&&(_0x493f66['meshAsset']=_0x493f66['mesh'],delete _0x493f66['mesh']);for(const _0x53af70 in _0x493f66){if(_0x493f66['hasOwnProp'+'erty'](_0x53af70)&&(_0x3e02df['push'](_0x53af70),_0x541a93[_0x53af70]=_0x493f66[_0x53af70]),_0x54cdd6[_0x53af70]==='vec3')Array['isArray'](_0x541a93[_0x53af70])&&(_0x541a93[_0x53af70]=new A(_0x541a93[_0x53af70][-0x1af*0x7+0x136d*-0x1+0xaa*0x2f],_0x541a93[_0x53af70][0x3b5*-0x7+-0xe11*-0x1+0xbe3],_0x541a93[_0x53af70][-0x64d*0x1+0x3*-0x3ee+-0x1*-0x1219]));else{if(_0x54cdd6[_0x53af70]==='curve'){if(!(_0x541a93[_0x53af70]instanceof Ls)){const _0x559b20=_0x541a93[_0x53af70]['type'];_0x541a93[_0x53af70]=new Ls(_0x541a93[_0x53af70]['keys']),_0x541a93[_0x53af70]['type']=_0x559b20;}}else{if(_0x54cdd6[_0x53af70]==='curveset'&&!(_0x541a93[_0x53af70]instanceof Yr)){const _0x3bd33e=_0x541a93[_0x53af70]['type'];_0x541a93[_0x53af70]=new Yr(_0x541a93[_0x53af70]['keys']),_0x541a93[_0x53af70]['type']=_0x3bd33e;}}}_0x541a93['layers']&&Array['isArray'](_0x541a93['layers'])&&(_0x541a93['layers']=_0x541a93['layers']['slice'](0x1f64+-0x1d47*-0x1+-0x3cab));}super['initialize'+'ComponentD'+'ata'](_0x549d31,_0x541a93,_0x3e02df);}['cloneCompo'+'nent'](_0x23e9be,_0x403d49){const _0x32649b=_0x23e9be['particlesy'+'stem']['data'],_0x2a3b23=this['schema'],_0x31ef31={};for(let _0x242a76=0x638+0x1*0x1d2+0x2*-0x405,_0xe1dbd=_0x2a3b23['length'];_0x242a76<_0xe1dbd;_0x242a76++){const _0x5adcb7=_0x2a3b23[_0x242a76];let _0x5e2447=_0x32649b[_0x5adcb7];_0x5e2447 instanceof A||_0x5e2447 instanceof Ls||_0x5e2447 instanceof Yr?(_0x5e2447=_0x5e2447['clone'](),_0x31ef31[_0x5adcb7]=_0x5e2447):_0x5adcb7==='layers'?_0x31ef31['layers']=_0x32649b['layers']['slice'](0x14df+0x1102+0x1*-0x25e1):_0x5e2447!=null&&(_0x31ef31[_0x5adcb7]=_0x5e2447);}return this['addCompone'+'nt'](_0x403d49,_0x31ef31);}['onUpdate'](_0x4ad978){const _0x57b32b=this['store'];let _0x2107b1;const _0x184fa2=this['app']['stats']['particles'],_0x1dfc87=this['app']['scene']['layers'];for(let _0x5295ef=0x1*0xf49+0x12f+0x44*-0x3e;_0x5295ef<_0x1dfc87['layerList']['length'];_0x5295ef++)_0x1dfc87['layerList'][_0x5295ef]['requiresLi'+'ghtCube']=!(-0x29*-0x85+0x11*-0x5e+-0xf0e);for(const _0xae3a44 in _0x57b32b)if(_0x57b32b['hasOwnProp'+'erty'](_0xae3a44)){const _0x249adc=_0x57b32b[_0xae3a44],_0x22b1c3=_0x249adc['entity'],_0x247469=_0x249adc['data'];if(_0x247469['enabled']&&_0x22b1c3['enabled']){const _0x504691=_0x22b1c3['particlesy'+'stem']['emitter'];if(!(_0x504691!=null&&_0x504691['meshInstan'+'ce']['visible']))continue;if(_0x504691['lighting']){const _0x188d62=_0x247469['layers'];for(let _0x27029b=0x1f47+-0x182f+-0x718;_0x27029b<_0x188d62['length'];_0x27029b++){const _0x3067a8=_0x1dfc87['getLayerBy'+'Id'](_0x188d62[_0x27029b]);_0x3067a8&&(_0x3067a8['requiresLi'+'ghtCube']=!(-0x1e14+-0x1d0c+-0x16*-0x2b0));}}if(!_0x247469['paused']){if(_0x504691['simTime']+=_0x4ad978,_0x504691['simTime']>_0x504691['fixedTimeS'+'tep']&&(_0x2107b1=Math['floor'](_0x504691['simTime']/_0x504691['fixedTimeS'+'tep']),_0x504691['simTime']-=_0x2107b1*_0x504691['fixedTimeS'+'tep']),_0x2107b1){_0x2107b1=Math['min'](_0x2107b1,_0x504691['maxSubStep'+'s']);for(let _0x3852af=-0x1f2d*-0x1+-0xf2c+-0x11*0xf1;_0x3852af<_0x2107b1;_0x3852af++)_0x504691['addTime'](_0x504691['fixedTimeS'+'tep'],!(-0x3ea+0x2324+-0x1f39));_0x184fa2['_updatesPe'+'rFrame']+=_0x2107b1,_0x184fa2['_frameTime']+=_0x504691['_addTimeTi'+'me'],_0x504691['_addTimeTi'+'me']=0x17ef+0x1*0x1c0d+-0x2*0x19fe;}_0x504691['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x2e492c,_0x235881){_0x235881['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class uI extends qc{constructor(_0x2f0e58,_0x430235){super(),this['skin']=_0x2f0e58,this['skinInstan'+'ce']=_0x430235;}}const Ms=class Ms{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Ms['_skinInsta'+'nceCache']['forEach']((_0x723042,_0x56a933)=>{console['log'](_0x56a933['name']+':\x20Array('+_0x723042['length']+')');for(let _0x31f81b=-0x9*-0xdb+-0x253e+0x1d8b;_0x31f81b<_0x723042['length'];_0x31f81b++)console['log']('\x20\x20'+_0x31f81b+(':\x20RefCount'+'\x20')+_0x723042[_0x31f81b]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x4f7122,_0x12893d,_0x104c6e){let _0x2d7ae2=Ms['getCachedS'+'kinInstanc'+'e'](_0x4f7122,_0x12893d);return _0x2d7ae2||(_0x2d7ae2=new hl(_0x4f7122),_0x2d7ae2['resolve'](_0x12893d,_0x104c6e),Ms['addCachedS'+'kinInstanc'+'e'](_0x4f7122,_0x12893d,_0x2d7ae2)),_0x2d7ae2;}static['getCachedS'+'kinInstanc'+'e'](_0x57fb24,_0x2c9995){let _0x83457=null;const _0x56a8e4=Ms['_skinInsta'+'nceCache']['get'](_0x2c9995);if(_0x56a8e4){const _0x164877=_0x56a8e4['find'](_0x5bfa87=>_0x5bfa87['skin']===_0x57fb24);_0x164877&&(_0x164877['incRefCoun'+'t'](),_0x83457=_0x164877['skinInstan'+'ce']);}return _0x83457;}static['addCachedS'+'kinInstanc'+'e'](_0x4bea44,_0xe71564,_0x1a4733){let _0x5e0629=Ms['_skinInsta'+'nceCache']['get'](_0xe71564);_0x5e0629||(_0x5e0629=[],Ms['_skinInsta'+'nceCache']['set'](_0xe71564,_0x5e0629));let _0x18711a=_0x5e0629['find'](_0x3e623f=>_0x3e623f['skin']===_0x4bea44);_0x18711a||(_0x18711a=new uI(_0x4bea44,_0x1a4733),_0x5e0629['push'](_0x18711a)),_0x18711a['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x3b1238){if(_0x3b1238){const _0x454d31=_0x3b1238['rootBone'];if(_0x454d31){const _0x6d69e0=Ms['_skinInsta'+'nceCache']['get'](_0x454d31);if(_0x6d69e0){const _0x2e8ca1=_0x6d69e0['findIndex'](_0x399955=>_0x399955['skinInstan'+'ce']===_0x3b1238);if(_0x2e8ca1>=-0x1336+-0x23c7+0x36fd){const _0xc087=_0x6d69e0[_0x2e8ca1];_0xc087['decRefCoun'+'t'](),_0xc087['refCount']===-0x1ab0+-0xcf7*-0x1+0xdb9&&(_0x6d69e0['splice'](_0x2e8ca1,-0x1*-0x210d+0x76f+0x2b*-0xf1),_0x6d69e0['length']||Ms['_skinInsta'+'nceCache']['delete'](_0x454d31),_0x3b1238&&(_0x3b1238['destroy'](),_0xc087['skinInstan'+'ce']=null));}}}}}};c(Ms,'_skinInsta'+'nceCache',new Map());let $o=Ms;class qo{constructor(_0x350893,_0x1baee6,_0x24d4d4,_0x1e5576,_0x3f24f5){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x350893,this['parent']=_0x1baee6,this['_scope']=_0x3f24f5,this['_registry']=_0x24d4d4,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1e5576['load'],this['_onAssetAd'+'d']=_0x1e5576['add'],this['_onAssetRe'+'move']=_0x1e5576['remove'],this['_onAssetUn'+'load']=_0x1e5576['unload']);}set['id'](_0x589652){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x589652,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x44748e){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x44748e,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x4b6369,_0x314bd4,_0x140ea0,_0xbaa945,_0x307f09,_0x1781ca,_0x440230;this['id']&&((_0x4b6369=this['_evtLoadBy'+'Id'])==null||_0x4b6369['off'](),this['_evtLoadBy'+'Id']=null,(_0x314bd4=this['_evtAddByI'+'d'])==null||_0x314bd4['off'](),this['_evtAddByI'+'d']=null,(_0x140ea0=this['_evtRemove'+'ById'])==null||_0x140ea0['off'](),this['_evtRemove'+'ById']=null,(_0xbaa945=this['_evtUnload'+'ById'])==null||_0xbaa945['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x307f09=this['_evtLoadBy'+'Url'])==null||_0x307f09['off'](),this['_evtLoadBy'+'Url']=null,(_0x1781ca=this['_evtAddByU'+'rl'])==null||_0x1781ca['off'](),this['_evtAddByU'+'rl']=null,(_0x440230=this['_evtRemove'+'ByUrl'])==null||_0x440230['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x17fc83){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x17fc83);}['_onAdd'](_0xd5761e){this['asset']=_0xd5761e,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0xd5761e);}['_onRemove'](_0x225935){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x225935),this['asset']=null;}['_onUnload'](_0x418686){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x418686);}}class px extends pe{constructor(_0x25b1bd,_0x30f32f){super(_0x25b1bd,_0x30f32f),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x2*0x1167+-0x8*0x2c0+0x1*0x38ce)),c(this,'_receiveSh'+'adows',!(-0x1*0x1cdb+0x22d*-0x1+0x1f08)),c(this,'_castShado'+'wsLightmap',!(-0x1a14+-0x2012+0x6*0x9b1)),c(this,'_lightmapp'+'ed',!(0x1465+-0xa40+-0x289*0x4)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x1d25+0xc3d+0x10e9),c(this,'isStatic',!(0xffc+-0x4f*-0x53+0xf2*-0x2c)),c(this,'_batchGrou'+'pId',-(0x1530+0x173f+0xb*-0x40a)),c(this,'_layers',[zi]),c(this,'_renderSty'+'le',bo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new qo('asset',this,_0x25b1bd['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x25b1bd['defaultMat'+'erial'],_0x30f32f['on']('remove',this['onRemoveCh'+'ild'],this),_0x30f32f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x30f32f['on']('insert',this['onInsertCh'+'ild'],this),_0x30f32f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x482b91){this['_renderSty'+'le']!==_0x482b91&&(this['_renderSty'+'le']=_0x482b91,Be['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x482b91));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x15788a){this['_customAab'+'b']=_0x15788a;const _0x37ef9a=this['_meshInsta'+'nces'];if(_0x37ef9a){for(let _0xc8be93=0x1*0x15c7+-0x1d5d+0x796;_0xc8be93<_0x37ef9a['length'];_0xc8be93++)_0x37ef9a[_0xc8be93]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0xd9811f){if(this['_type']!==_0xd9811f&&(this['_area']=null,this['_type']=_0xd9811f,this['destroyMes'+'hInstances'](),_0xd9811f!=='asset')){let _0x2f1409=this['_material'];(!_0x2f1409||_0x2f1409===this['system']['defaultMat'+'erial'])&&(_0x2f1409=this['_materialR'+'eferences'][0x1b6a+0x14d*0x1e+-0x4*0x109c]&&this['_materialR'+'eferences'][0x823*0x2+0x154+-0x8cd*0x2]['asset']&&this['_materialR'+'eferences'][-0x1306*0x1+-0x1f*0x12b+0x373b]['asset']['resource']);const _0x45b17e=dx(this['system']['app']['graphicsDe'+'vice'],_0xd9811f);this['_area']=_0x45b17e['area'],this['meshInstan'+'ces']=[new Be(_0x45b17e['mesh'],_0x2f1409||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x388a0f){if(b['assert'](Array['isArray'](_0x388a0f),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x388a0f,this['_meshInsta'+'nces']){const _0x587ecd=this['_meshInsta'+'nces'];for(let _0x490fdd=-0x436+0x234+0x202;_0x490fdd<_0x587ecd['length'];_0x490fdd++)_0x587ecd[_0x490fdd]['node']||(_0x587ecd[_0x490fdd]['node']=this['entity']),_0x587ecd[_0x490fdd]['castShadow']=this['_castShado'+'ws'],_0x587ecd[_0x490fdd]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x587ecd[_0x490fdd]['renderStyl'+'e']=this['_renderSty'+'le'],_0x587ecd[_0x490fdd]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x587ecd[_0x490fdd]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0xb565e7){if(_0xb565e7!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0xb565e7;const _0x5227d8=this['_meshInsta'+'nces'];if(_0x5227d8){for(let _0x2ed2d8=-0xc1*0x1f+-0x47*0x76+0x3819;_0x2ed2d8<_0x5227d8['length'];_0x2ed2d8++)_0x5227d8[_0x2ed2d8]['setLightma'+'pped'](_0xb565e7);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x37fba5){if(this['_castShado'+'ws']!==_0x37fba5){const _0x39dd83=this['_meshInsta'+'nces'];if(_0x39dd83){const _0x33f03a=this['layers'],_0x36bf1a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x37fba5)for(let _0x48a88c=0x43c+-0x48*0x51+0x128c;_0x48a88c<_0x33f03a['length'];_0x48a88c++){const _0x86bf5c=_0x36bf1a['layers']['getLayerBy'+'Id'](this['layers'][_0x48a88c]);_0x86bf5c&&_0x86bf5c['removeShad'+'owCasters'](_0x39dd83);}for(let _0xe26f6e=0x1b2e+0x1e7f+0xb89*-0x5;_0xe26f6e<_0x39dd83['length'];_0xe26f6e++)_0x39dd83[_0xe26f6e]['castShadow']=_0x37fba5;if(!this['_castShado'+'ws']&&_0x37fba5)for(let _0x2baad1=-0x1295*0x2+0xb0b+0x1a1f;_0x2baad1<_0x33f03a['length'];_0x2baad1++){const _0xb36d89=_0x36bf1a['layers']['getLayerBy'+'Id'](_0x33f03a[_0x2baad1]);_0xb36d89&&_0xb36d89['addShadowC'+'asters'](_0x39dd83);}}this['_castShado'+'ws']=_0x37fba5;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x43e90c){if(this['_receiveSh'+'adows']!==_0x43e90c){this['_receiveSh'+'adows']=_0x43e90c;const _0xaee884=this['_meshInsta'+'nces'];if(_0xaee884){for(let _0x4cf5dd=0x2195+-0x7*-0x4ee+-0x4417;_0x4cf5dd<_0xaee884['length'];_0x4cf5dd++)_0xaee884[_0x4cf5dd]['receiveSha'+'dow']=_0x43e90c;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x559883){this['_castShado'+'wsLightmap']=_0x559883;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x4fa3f1){this['_lightmapS'+'izeMultipl'+'ier']=_0x4fa3f1;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0xd1946c){const _0x582026=this['system']['app']['scene']['layers'];let _0xc56eec;if(this['_meshInsta'+'nces']){for(let _0x5c2310=0x215f+-0xcd*0x1a+0xc8d*-0x1;_0x5c2310<this['_layers']['length'];_0x5c2310++)_0xc56eec=_0x582026['getLayerBy'+'Id'](this['_layers'][_0x5c2310]),_0xc56eec&&_0xc56eec['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x15b5*0x1+-0x2489*-0x1+-0x1a*0x92;for(let _0x1a045b=-0x991+0x13f*0xd+-0x6a2;_0x1a045b<_0xd1946c['length'];_0x1a045b++)this['_layers'][_0x1a045b]=_0xd1946c[_0x1a045b];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x399566=-0xfc*-0x1d+-0x1194+-0xaf8;_0x399566<this['_layers']['length'];_0x399566++)_0xc56eec=_0x582026['getLayerBy'+'Id'](this['_layers'][_0x399566]),_0xc56eec&&_0xc56eec['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x30b657){var _0x41e128,_0x29bcbe;this['_batchGrou'+'pId']!==_0x30b657&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x15bb+0x1fb9+0x1*-0x3574&&((_0x41e128=this['system']['app']['batcher'])==null||_0x41e128['remove'](rt['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x30b657>=-0x3a1+0x23c9+-0x2028&&((_0x29bcbe=this['system']['app']['batcher'])==null||_0x29bcbe['insert'](rt['RENDER'],_0x30b657,this['entity'])),_0x30b657<0x13fb*-0x1+0x13f1+0xa&&this['_batchGrou'+'pId']>=0x7fb+0x5f*0x13+0x3c2*-0x4&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x30b657);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x549c30){if(this['_material']!==_0x549c30&&(this['_material']=_0x549c30,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x482f0c=-0x1b*-0xa1+-0x2394*0x1+0x1299;_0x482f0c<this['_meshInsta'+'nces']['length'];_0x482f0c++)this['_meshInsta'+'nces'][_0x482f0c]['material']=_0x549c30;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x5db0b7=[]){if(this['_materialR'+'eferences']['length']>_0x5db0b7['length']){for(let _0x4393c5=_0x5db0b7['length'];_0x4393c5<this['_materialR'+'eferences']['length'];_0x4393c5++)this['_materialR'+'eferences'][_0x4393c5]['id']=null;this['_materialR'+'eferences']['length']=_0x5db0b7['length'];}for(let _0x170744=-0x36+-0xdf9+0xe2f;_0x170744<_0x5db0b7['length'];_0x170744++)if(this['_materialR'+'eferences'][_0x170744]||this['_materialR'+'eferences']['push'](new qo(_0x170744,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x5db0b7[_0x170744]){const _0x44c459=_0x5db0b7[_0x170744]instanceof he?_0x5db0b7[_0x170744]['id']:_0x5db0b7[_0x170744];this['_materialR'+'eferences'][_0x170744]['id']!==_0x44c459&&(this['_materialR'+'eferences'][_0x170744]['id']=_0x44c459),this['_materialR'+'eferences'][_0x170744]['asset']&&this['_onMateria'+'lAdded'](_0x170744,this,this['_materialR'+'eferences'][_0x170744]['asset']);}else this['_materialR'+'eferences'][_0x170744]['id']=null,this['_meshInsta'+'nces'][_0x170744]&&(this['_meshInsta'+'nces'][_0x170744]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x3e92fd=>_0x3e92fd['id']);}set['asset'](_0xfa739c){const _0x1adc96=_0xfa739c instanceof he?_0xfa739c['id']:_0xfa739c;this['_assetRefe'+'rence']['id']!==_0x1adc96&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x1adc96,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x576d79){const _0x42b991=_0x576d79 instanceof he?_0x576d79['id']:_0x576d79;this['_assetRefe'+'rence']['id']=_0x42b991;}set['rootBone'](_0xaf998f){if(this['_rootBone']!==_0xaf998f){const _0x13516f=typeof _0xaf998f=='string';if(this['_rootBone']&&_0x13516f&&this['_rootBone']['getGuid']()===_0xaf998f)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0xaf998f instanceof Oe?this['_rootBone']=_0xaf998f:_0x13516f?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0xaf998f)||null,this['_rootBone']||b['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x4c2bc9=this['_meshInsta'+'nces'];if(_0x4c2bc9){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x5a7e64=-0x5b*0x2f+-0x1453+0x2508;_0x5a7e64<_0x4c2bc9['length'];_0x5a7e64++)_0x4c2bc9[_0x5a7e64]['destroy']();this['_meshInsta'+'nces']['length']=0x1672+-0x18b6+0x244;}}['addToLayer'+'s'](){const _0x212e60=this['system']['app']['scene']['layers'];for(let _0x2fb932=-0xaa*0x11+-0x16*-0x164+-0x134e;_0x2fb932<this['_layers']['length'];_0x2fb932++){const _0x429e1d=_0x212e60['getLayerBy'+'Id'](this['_layers'][_0x2fb932]);_0x429e1d&&_0x429e1d['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x86a538=this['system']['app']['scene']['layers'];for(let _0x29c7fc=0x427*-0x7+-0x2*0xe6b+0x39e7;_0x29c7fc<this['_layers']['length'];_0x29c7fc++){const _0x2b90f2=_0x86a538['getLayerBy'+'Id'](this['_layers'][_0x29c7fc]);_0x2b90f2&&_0x2b90f2['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x4ca94b=-0x2*-0x86+-0xfee+0xee2;_0x4ca94b<this['_materialR'+'eferences']['length'];_0x4ca94b++)this['_materialR'+'eferences'][_0x4ca94b]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x53eb08,_0x1ce79e){this['addToLayer'+'s'](),_0x53eb08['off']('add',this['onLayerAdd'+'ed'],this),_0x53eb08['off']('remove',this['onLayerRem'+'oved'],this),_0x1ce79e['on']('add',this['onLayerAdd'+'ed'],this),_0x1ce79e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x42676f){this['layers']['indexOf'](_0x42676f['id'])<0x1c03+-0x81c+-0x13e7||_0x42676f['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x23973a){this['layers']['indexOf'](_0x23973a['id'])<0x18a7+-0x11*-0xbe+-0x2f*0xcb||_0x23973a['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x36f429;const _0x3706d7=this['system']['app'],_0x5cc596=_0x3706d7['scene'],_0x4afd80=_0x5cc596['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x5cc596['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4afd80&&(this['_evtLayerA'+'dded']=_0x4afd80['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4afd80['on']('remove',this['onLayerRem'+'oved'],this));const _0x2b30b6=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x2b30b6&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0xac24a8=-0x194e+-0x432*0x9+0x3f10;_0xac24a8<this['_materialR'+'eferences']['length'];_0xac24a8++)this['_materialR'+'eferences'][_0xac24a8]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0xac24a8]['asset']);this['_batchGrou'+'pId']>=-0x1ad8+0x3*-0x7c9+0x1*0x3233&&((_0x36f429=_0x3706d7['batcher'])==null||_0x36f429['insert'](rt['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x113cfd,_0x4db2bd,_0x407844,_0x180586;const _0x30c60a=this['system']['app'],_0x1db312=_0x30c60a['scene']['layers'];(_0x113cfd=this['_evtLayers'+'Changed'])==null||_0x113cfd['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x1db312&&((_0x4db2bd=this['_evtLayerA'+'dded'])==null||_0x4db2bd['off'](),this['_evtLayerA'+'dded']=null,(_0x407844=this['_evtLayerR'+'emoved'])==null||_0x407844['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x6*-0x51b+-0x7*0x50d+0x4b9&&((_0x180586=_0x30c60a['batcher'])==null||_0x180586['remove'](rt['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x2fe23c=-0xf41+0x2a7*-0xd+0x425*0xc;_0x2fe23c<this['_meshInsta'+'nces']['length'];_0x2fe23c++)this['_meshInsta'+'nces'][_0x2fe23c]['visible']=!(0x107*-0x1+-0x885+0x1e9*0x5);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x50bd6c=-0x22ff+-0x59*-0x13+0x1c64;_0x50bd6c<this['_meshInsta'+'nces']['length'];_0x50bd6c++)this['_meshInsta'+'nces'][_0x50bd6c]['visible']=!(-0x1b15+0x118d+0x14*0x7a);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x3f7801;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x2668cc=this['_assetRefe'+'rence']['asset']['resource'];(_0x3f7801=this['_evtSetMes'+'hes'])==null||_0x3f7801['off'](),this['_evtSetMes'+'hes']=_0x2668cc['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x2668cc['meshes']&&this['_onSetMesh'+'es'](_0x2668cc['meshes']);}}['_onSetMesh'+'es'](_0x528205){this['_cloneMesh'+'es'](_0x528205);}['_clearSkin'+'Instances'](){for(let _0x488169=0x57f+0x179*-0x8+-0x649*-0x1;_0x488169<this['_meshInsta'+'nces']['length'];_0x488169++){const _0x14357f=this['_meshInsta'+'nces'][_0x488169];$o['removeCach'+'edSkinInst'+'ance'](_0x14357f['skinInstan'+'ce']),_0x14357f['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Oe)for(let _0x5e3bcf=-0x4c5+0x1768+-0x12a3;_0x5e3bcf<this['_meshInsta'+'nces']['length'];_0x5e3bcf++){const _0x33aaf8=this['_meshInsta'+'nces'][_0x5e3bcf],_0x17200b=_0x33aaf8['mesh'];_0x17200b['skin']&&!_0x33aaf8['skinInstan'+'ce']&&(_0x33aaf8['skinInstan'+'ce']=$o['createCach'+'edSkinInst'+'ance'](_0x17200b['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x5ca6db){if(_0x5ca6db&&_0x5ca6db['length']){const _0x71896f=[];for(let _0xccb95a=-0x98e+-0xe64+0x17f2;_0xccb95a<_0x5ca6db['length'];_0xccb95a++){const _0x9ee88c=_0x5ca6db[_0xccb95a],_0x433f52=this['_materialR'+'eferences'][_0xccb95a]&&this['_materialR'+'eferences'][_0xccb95a]['asset']&&this['_materialR'+'eferences'][_0xccb95a]['asset']['resource'],_0x3df4a7=new Be(_0x9ee88c,_0x433f52||this['system']['defaultMat'+'erial'],this['entity']);_0x71896f['push'](_0x3df4a7),_0x9ee88c['morph']&&(_0x3df4a7['morphInsta'+'nce']=new mn(_0x9ee88c['morph']));}this['meshInstan'+'ces']=_0x71896f,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x1d1575;(_0x1d1575=this['_evtSetMes'+'hes'])==null||_0x1d1575['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x515a3f,_0x3863be,_0x3f60c8){_0x3f60c8['resource']?this['_onMateria'+'lLoad'](_0x515a3f,_0x3863be,_0x3f60c8):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x3f60c8);}['_updateMai'+'nMaterial'](_0x38996b,_0x48c237){_0x38996b===-0x1*-0x1855+-0x1*-0x853+0x4*-0x82a&&(this['material']=_0x48c237);}['_onMateria'+'lLoad'](_0x4f3bc1,_0x5a9aca,_0x5c81ca){this['_meshInsta'+'nces'][_0x4f3bc1]&&(this['_meshInsta'+'nces'][_0x4f3bc1]['material']=_0x5c81ca['resource']),this['_updateMai'+'nMaterial'](_0x4f3bc1,_0x5c81ca['resource']);}['_onMateria'+'lRemove'](_0x4a156a,_0x5aad15,_0x2f3764){this['_meshInsta'+'nces'][_0x4a156a]&&(this['_meshInsta'+'nces'][_0x4a156a]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x4a156a,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x3ec56e,_0x3b5319,_0x5c7f31){this['_meshInsta'+'nces'][_0x3ec56e]&&(this['_meshInsta'+'nces'][_0x3ec56e]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x3ec56e,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x148916,_0x8db366){_0x148916['rootBone']&&(this['rootBone']=_0x8db366[_0x148916['rootBone']['getGuid']()]);}}class fI{constructor(){this['enabled']=!(-0x89b+0x22da+-0x1a3f);}}const yf=['enabled'],Pr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class pI extends Qe{constructor(_0x3ea2ed){super(_0x3ea2ed),this['id']='render',this['ComponentT'+'ype']=px,this['DataType']=fI,this['schema']=yf,this['defaultMat'+'erial']=cl(_0x3ea2ed['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x23cbd7,_0x29e148,_0x11193c){(_0x29e148['batchGroup'+'Id']===null||_0x29e148['batchGroup'+'Id']===void(0x21a9+-0x1d95+-0x3a*0x12))&&(_0x29e148['batchGroup'+'Id']=-(0x200d+-0x7c3*-0x1+-0x27cf)),_0x29e148['layers']&&_0x29e148['layers']['length']&&(_0x29e148['layers']=_0x29e148['layers']['slice'](-0x113c+0x13d0+-0xf*0x2c));for(let _0x434b8a=-0x1446+-0x22ee+0x3734;_0x434b8a<Pr['length'];_0x434b8a++)_0x29e148['hasOwnProp'+'erty'](Pr[_0x434b8a])&&(_0x23cbd7[Pr[_0x434b8a]]=_0x29e148[Pr[_0x434b8a]]);_0x29e148['aabbCenter']&&_0x29e148['aabbHalfEx'+'tents']&&(_0x23cbd7['customAabb']=new ve(new A(_0x29e148['aabbCenter']),new A(_0x29e148['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x23cbd7,_0x29e148,yf);}['cloneCompo'+'nent'](_0x1e3b66,_0x6eb507){const _0x48c456={};for(let _0x294a7d=0x197b+-0x1*-0x26bd+-0x4038;_0x294a7d<Pr['length'];_0x294a7d++)_0x48c456[Pr[_0x294a7d]]=_0x1e3b66['render'][Pr[_0x294a7d]];_0x48c456['enabled']=_0x1e3b66['render']['enabled'],delete _0x48c456['meshInstan'+'ces'];const _0x1db5fc=this['addCompone'+'nt'](_0x6eb507,_0x48c456),_0x4b7a38=_0x1e3b66['render']['meshInstan'+'ces'],_0x28392b=_0x4b7a38['map'](_0x40eeff=>_0x40eeff['mesh']);_0x1db5fc['_onSetMesh'+'es'](_0x28392b);for(let _0x45830c=-0x577+-0x5*0x3b0+0x17e7;_0x45830c<_0x4b7a38['length'];_0x45830c++)_0x1db5fc['meshInstan'+'ces'][_0x45830c]['material']=_0x4b7a38[_0x45830c]['material'];return _0x1e3b66['render']['customAabb']&&(_0x1db5fc['customAabb']=_0x1e3b66['render']['customAabb']['clone']()),_0x1db5fc;}['onRemove'](_0x281dd4,_0xaf0960){_0xaf0960['onRemove']();}}pe['_buildAcce'+'ssors'](px['prototype'],yf);class tu{constructor(_0x2c849c,_0x1b0d45){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',-0x2384+0x4f7+-0xa2f*-0x3),(this['_construct'+'or']=_0x2c849c,this['_resize'](_0x1b0d45));}['_resize'](_0x45da66){if(_0x45da66>this['_pool']['length']){for(let _0x273377=this['_pool']['length'];_0x273377<_0x45da66;_0x273377++)this['_pool'][_0x273377]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(-0x1085*0x1+0x1fc2+0x22d*-0x7)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x127+0x1d16+0x1e3d*-0x1;}}let Yt,we,ws,qn;const mI=new ie(),_I=new ie(),ih=new A();class Ys extends pe{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x1*-0x905+-0x1*0xa0b+-0xf4*-0x14),c(this,'_angularFa'+'ctor',new A(-0x7b4+0x5*-0x2a+0x887,-0x1ab*-0xf+-0x2d5+0x9*-0x277,0x2078*-0x1+-0x8*0x392+0x3d09)),c(this,'_angularVe'+'locity',new A()),c(this,'_body',null),c(this,'_friction',0x2*0x6bb+0x2319+-0x308f*0x1+0.5),c(this,'_group',lg),c(this,'_linearDam'+'ping',0x148c+-0x26d7+0x124b),c(this,'_linearFac'+'tor',new A(-0x25fc+0xc29*-0x1+0x62*0x83,-0x2*-0xaed+0xdab+-0x11c2*0x2,-0x48a+0x12ca*0x1+0xe3f*-0x1)),c(this,'_linearVel'+'ocity',new A()),c(this,'_mask',cf),c(this,'_mass',0x79a+-0x224*-0x1+0x9*-0x115),c(this,'_restituti'+'on',-0x1c61*-0x1+0xc97+-0x28f8),c(this,'_rollingFr'+'iction',-0x1*-0x259f+0x905+0x18e*-0x1e),c(this,'_simulatio'+'nEnabled',!(0xd41+0x1f*-0xf1+-0xfef*-0x1)),c(this,'_type',ao);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Yt=new Ammo['btTransfor'+'m'](),we=new Ammo['btVector3'](),ws=new Ammo['btVector3'](),qn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Yt),Ammo['destroy'](we),Ammo['destroy'](ws),Ammo['destroy'](qn),Yt=null,we=null,ws=null,qn=null;}set['angularDam'+'ping'](_0x4d7857){this['_angularDa'+'mping']!==_0x4d7857&&(this['_angularDa'+'mping']=_0x4d7857,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x4d7857));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x1eae61){this['_angularFa'+'ctor']['equals'](_0x1eae61)||(this['_angularFa'+'ctor']['copy'](_0x1eae61),this['_body']&&this['_type']===vs&&(we['setValue'](_0x1eae61['x'],_0x1eae61['y'],_0x1eae61['z']),this['_body']['setAngular'+'Factor'](we)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x1f5f23){this['_body']&&this['_type']===vs&&(this['_body']['activate'](),we['setValue'](_0x1f5f23['x'],_0x1f5f23['y'],_0x1f5f23['z']),this['_body']['setAngular'+'Velocity'](we),this['_angularVe'+'locity']['copy'](_0x1f5f23));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===vs){const _0x48c588=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x48c588['x'](),_0x48c588['y'](),_0x48c588['z']());}return this['_angularVe'+'locity'];}set['body'](_0x266966){this['_body']!==_0x266966&&(this['_body']=_0x266966,_0x266966&&this['_simulatio'+'nEnabled']&&_0x266966['activate']());}get['body'](){return this['_body'];}set['friction'](_0x544de7){this['_friction']!==_0x544de7&&(this['_friction']=_0x544de7,this['_body']&&this['_body']['setFrictio'+'n'](_0x544de7));}get['friction'](){return this['_friction'];}set['group'](_0x24aed1){this['_group']!==_0x24aed1&&(this['_group']=_0x24aed1,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1d489a){this['_linearDam'+'ping']!==_0x1d489a&&(this['_linearDam'+'ping']=_0x1d489a,this['_body']&&this['_body']['setDamping'](_0x1d489a,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x2226ee){this['_linearFac'+'tor']['equals'](_0x2226ee)||(this['_linearFac'+'tor']['copy'](_0x2226ee),this['_body']&&this['_type']===vs&&(we['setValue'](_0x2226ee['x'],_0x2226ee['y'],_0x2226ee['z']),this['_body']['setLinearF'+'actor'](we)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x59420b){this['_body']&&this['_type']===vs&&(this['_body']['activate'](),we['setValue'](_0x59420b['x'],_0x59420b['y'],_0x59420b['z']),this['_body']['setLinearV'+'elocity'](we),this['_linearVel'+'ocity']['copy'](_0x59420b));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===vs){const _0x53e152=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x53e152['x'](),_0x53e152['y'](),_0x53e152['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x540321){this['_mask']!==_0x540321&&(this['_mask']=_0x540321,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x5cec38){if(this['_mass']!==_0x5cec38&&(this['_mass']=_0x5cec38,this['_body']&&this['_type']===vs)){const _0x235ef1=this['enabled']&&this['entity']['enabled'];_0x235ef1&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x5cec38,we),this['_body']['setMassPro'+'ps'](_0x5cec38,we),this['_body']['updateIner'+'tiaTensor'](),_0x235ef1&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x169fb9){this['_restituti'+'on']!==_0x169fb9&&(this['_restituti'+'on']=_0x169fb9,this['_body']&&this['_body']['setRestitu'+'tion'](_0x169fb9));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x22767e){this['_rollingFr'+'iction']!==_0x22767e&&(this['_rollingFr'+'iction']=_0x22767e,this['_body']&&this['_body']['setRolling'+'Friction'](_0x22767e));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x4921f6){if(this['_type']!==_0x4921f6){switch(this['_type']=_0x4921f6,this['disableSim'+'ulation'](),_0x4921f6){case vs:this['_group']=sR,this['_mask']=cg;break;case zn:this['_group']=iR,this['_mask']=cg;break;case ao:default:this['_group']=lg,this['_mask']=cf;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x4df406=this['entity'];let _0x97c1e9;if(_0x4df406['collision']&&(_0x97c1e9=_0x4df406['collision']['shape'],_0x4df406['trigger']&&(_0x4df406['trigger']['destroy'](),delete _0x4df406['trigger'])),_0x97c1e9){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0xc99c3b=this['_type']===vs?this['_mass']:-0x1cda+0x2626+-0x23*0x44;this['_getEntity'+'Transform'](Yt);const _0x2749ca=this['system']['createBody'](_0xc99c3b,_0x97c1e9,Yt);if(_0x2749ca['setRestitu'+'tion'](this['_restituti'+'on']),_0x2749ca['setFrictio'+'n'](this['_friction']),_0x2749ca['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x2749ca['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===vs){const _0x411dac=this['_linearFac'+'tor'];we['setValue'](_0x411dac['x'],_0x411dac['y'],_0x411dac['z']),_0x2749ca['setLinearF'+'actor'](we);const _0x53f470=this['_angularFa'+'ctor'];we['setValue'](_0x53f470['x'],_0x53f470['y'],_0x53f470['z']),_0x2749ca['setAngular'+'Factor'](we);}else this['_type']===zn&&(_0x2749ca['setCollisi'+'onFlags'](_0x2749ca['getCollisi'+'onFlags']()|tR),_0x2749ca['setActivat'+'ionState'](og));_0x2749ca['entity']=_0x4df406,this['body']=_0x2749ca,this['enabled']&&_0x4df406['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x35f*-0x1+0x1245*-0x1+0xee7*0x1);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x46cbd5=this['entity'];if(_0x46cbd5['collision']&&_0x46cbd5['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x3d42e6=this['_body'];if(_0x3d42e6){switch(this['system']['addBody'](_0x3d42e6,this['_group'],this['_mask']),this['_type']){case vs:this['system']['_dynamic']['push'](this),_0x3d42e6['forceActiv'+'ationState'](hf),this['syncEntity'+'ToBody']();break;case zn:this['system']['_kinematic']['push'](this),_0x3d42e6['forceActiv'+'ationState'](og);break;case ao:_0x3d42e6['forceActiv'+'ationState'](hf),this['syncEntity'+'ToBody']();break;}_0x46cbd5['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x46cbd5['collision']),_0x3d42e6['activate'](),this['_simulatio'+'nEnabled']=!(0x1c29+0x1e2+0x1*-0x1e0b);}}}['disableSim'+'ulation'](){const _0x3043d8=this['_body'];if(_0x3043d8&&this['_simulatio'+'nEnabled']){const _0x40bb1d=this['system'];let _0x1c9696=_0x40bb1d['_compounds']['indexOf'](this['entity']['collision']);_0x1c9696>-(-0x2336+-0x5bd+0x28f4)&&_0x40bb1d['_compounds']['splice'](_0x1c9696,0x2387+-0x1b64+-0x15b*0x6),_0x1c9696=_0x40bb1d['_dynamic']['indexOf'](this),_0x1c9696>-(-0x551*-0x2+-0x129b+0x7fa)&&_0x40bb1d['_dynamic']['splice'](_0x1c9696,-0x1629*0x1+0x43f*-0x4+0x2726),_0x1c9696=_0x40bb1d['_kinematic']['indexOf'](this),_0x1c9696>-(-0x101*0x1d+0x4bc+0x1862)&&_0x40bb1d['_kinematic']['splice'](_0x1c9696,-0xa3+0x9d*-0x26+0x17f2*0x1),_0x40bb1d['removeBody'](_0x3043d8),_0x3043d8['forceActiv'+'ationState'](sx),this['_simulatio'+'nEnabled']=!(-0x1493+-0x1ab4+0x17a4*0x2);}}['applyForce'](_0x572233,_0x16f0b7,_0x947f85,_0x93a0b4,_0x340eeb,_0x2d6ef0){const _0x41f6ed=this['_body'];_0x41f6ed&&(_0x41f6ed['activate'](),_0x572233 instanceof A?we['setValue'](_0x572233['x'],_0x572233['y'],_0x572233['z']):we['setValue'](_0x572233,_0x16f0b7,_0x947f85),_0x16f0b7 instanceof A?ws['setValue'](_0x16f0b7['x'],_0x16f0b7['y'],_0x16f0b7['z']):_0x93a0b4!==void(0x152b+-0xbb9*-0x3+0x3856*-0x1)?ws['setValue'](_0x93a0b4,_0x340eeb,_0x2d6ef0):ws['setValue'](0x1*0x1609+-0x391*-0x2+0x3*-0x9b9,-0x341*0xa+0x1*0x1b77+0x513,-0x563+-0xd*-0x151+-0xbba),_0x41f6ed['applyForce'](we,ws));}['applyTorqu'+'e'](_0x9a1cf5,_0x1799f6,_0x4109d3){const _0x5adbbc=this['_body'];_0x5adbbc&&(_0x5adbbc['activate'](),_0x9a1cf5 instanceof A?we['setValue'](_0x9a1cf5['x'],_0x9a1cf5['y'],_0x9a1cf5['z']):we['setValue'](_0x9a1cf5,_0x1799f6,_0x4109d3),_0x5adbbc['applyTorqu'+'e'](we));}['applyImpul'+'se'](_0x368d59,_0xd5803,_0x4ae667,_0x5e5cdc,_0x469bee,_0x3a66e5){const _0x44faaa=this['_body'];_0x44faaa&&(_0x44faaa['activate'](),_0x368d59 instanceof A?we['setValue'](_0x368d59['x'],_0x368d59['y'],_0x368d59['z']):we['setValue'](_0x368d59,_0xd5803,_0x4ae667),_0xd5803 instanceof A?ws['setValue'](_0xd5803['x'],_0xd5803['y'],_0xd5803['z']):_0x5e5cdc!==void(-0x59*-0x36+0x128b+-0x2551)?ws['setValue'](_0x5e5cdc,_0x469bee,_0x3a66e5):ws['setValue'](0x9b3*0x4+0x168+-0x2834,0x294*0x2+-0x1*0x1949+-0x1*-0x1421,-0x13d7+0xeef+0x4e8*0x1),_0x44faaa['applyImpul'+'se'](we,ws));}['applyTorqu'+'eImpulse'](_0x16f388,_0x525ac6,_0x2bce7f){const _0x2df7c2=this['_body'];_0x2df7c2&&(_0x2df7c2['activate'](),_0x16f388 instanceof A?we['setValue'](_0x16f388['x'],_0x16f388['y'],_0x16f388['z']):we['setValue'](_0x16f388,_0x525ac6,_0x2bce7f),_0x2df7c2['applyTorqu'+'eImpulse'](we));}['isStatic'](){return this['_type']===ao;}['isStaticOr'+'Kinematic'](){return this['_type']===ao||this['_type']===zn;}['isKinemati'+'c'](){return this['_type']===zn;}['_getEntity'+'Transform'](_0x6b075e){const _0x23e0e1=this['entity'],_0x16150f=_0x23e0e1['collision'];if(_0x16150f){const _0x5bddd9=_0x16150f['getShapePo'+'sition'](),_0x2a866f=_0x16150f['getShapeRo'+'tation']();we['setValue'](_0x5bddd9['x'],_0x5bddd9['y'],_0x5bddd9['z']),qn['setValue'](_0x2a866f['x'],_0x2a866f['y'],_0x2a866f['z'],_0x2a866f['w']);}else{const _0x2c9d84=_0x23e0e1['getPositio'+'n'](),_0x1ea0a6=_0x23e0e1['getRotatio'+'n']();we['setValue'](_0x2c9d84['x'],_0x2c9d84['y'],_0x2c9d84['z']),qn['setValue'](_0x1ea0a6['x'],_0x1ea0a6['y'],_0x1ea0a6['z'],_0x1ea0a6['w']);}_0x6b075e['setOrigin'](we),_0x6b075e['setRotatio'+'n'](qn);}['syncEntity'+'ToBody'](){const _0x5266f0=this['_body'];if(_0x5266f0){if(this['_getEntity'+'Transform'](Yt),_0x5266f0['setWorldTr'+'ansform'](Yt),this['_type']===zn){const _0x164aac=_0x5266f0['getMotionS'+'tate']();_0x164aac&&_0x164aac['setWorldTr'+'ansform'](Yt);}_0x5266f0['activate']();}}['_updateDyn'+'amic'](){const _0x2d45e7=this['_body'];if(_0x2d45e7['isActive']()){const _0x49a007=_0x2d45e7['getMotionS'+'tate']();if(_0x49a007){const _0x36c3b4=this['entity'];_0x49a007['getWorldTr'+'ansform'](Yt);const _0x273a2c=Yt['getOrigin'](),_0x1727ba=Yt['getRotatio'+'n'](),_0x582e76=_0x36c3b4['collision'];if(_0x582e76&&_0x582e76['_hasOffset']){const _0x4610ef=_0x582e76['data']['linearOffs'+'et'],_0x3679fa=_0x582e76['data']['angularOff'+'set'],_0x39134a=_I['copy'](_0x3679fa)['invert'](),_0x225ff6=mI['set'](_0x1727ba['x'](),_0x1727ba['y'](),_0x1727ba['z'](),_0x1727ba['w']())['mul'](_0x39134a);_0x225ff6['transformV'+'ector'](_0x4610ef,ih),_0x36c3b4['setPositio'+'n'](_0x273a2c['x']()-ih['x'],_0x273a2c['y']()-ih['y'],_0x273a2c['z']()-ih['z']),_0x36c3b4['setRotatio'+'n'](_0x225ff6);}else _0x36c3b4['setPositio'+'n'](_0x273a2c['x'](),_0x273a2c['y'](),_0x273a2c['z']()),_0x36c3b4['setRotatio'+'n'](_0x1727ba['x'](),_0x1727ba['y'](),_0x1727ba['z'](),_0x1727ba['w']());}}}['_updateKin'+'ematic'](){const _0x572d48=this['_body']['getMotionS'+'tate']();_0x572d48&&(this['_getEntity'+'Transform'](Yt),_0x572d48['setWorldTr'+'ansform'](Yt));}['teleport'](_0x19e5c9,_0x25673b,_0x1d0578,_0x4f3939,_0x592b5c,_0x3c4517){_0x19e5c9 instanceof A?this['entity']['setPositio'+'n'](_0x19e5c9):this['entity']['setPositio'+'n'](_0x19e5c9,_0x25673b,_0x1d0578),_0x25673b instanceof ie?this['entity']['setRotatio'+'n'](_0x25673b):_0x25673b instanceof A?this['entity']['setEulerAn'+'gles'](_0x25673b):_0x4f3939!==void(0x1*0x2495+-0x13df*0x1+-0x10b6)&&this['entity']['setEulerAn'+'gles'](_0x4f3939,_0x592b5c,_0x3c4517),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ys,'EVENT_CONT'+'ACT','contact'),c(Ys,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ys,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ys,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ys,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ys,'order',-(-0x2094+0xa50+0x1645));class gI{constructor(){this['enabled']=!(-0x1238+-0x1828+0x8*0x54c);}}let di,ui;class Sg{constructor(_0x12872c,_0x1f9133,_0x1e56c6,_0xe8b5a9){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x12872c,this['point']=_0x1f9133,this['normal']=_0x1e56c6,this['hitFractio'+'n']=_0xe8b5a9);}}class yI{constructor(_0x4ecbf4,_0x5074ae,_0x5d7e3e){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x1349*0x1+0x1b51+-0x101*0x8?(this['a']=_0x4ecbf4,this['b']=_0x5074ae,this['impulse']=_0x5d7e3e['impulse'],this['localPoint'+'A']=_0x5d7e3e['localPoint'],this['localPoint'+'B']=_0x5d7e3e['localPoint'+'Other'],this['pointA']=_0x5d7e3e['point'],this['pointB']=_0x5d7e3e['pointOther'],this['normal']=_0x5d7e3e['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x1d39*-0x1+0xeb2+-0x2beb,this['localPoint'+'A']=new A(),this['localPoint'+'B']=new A(),this['pointA']=new A(),this['pointB']=new A(),this['normal']=new A());}}class xI{constructor(_0x410de2=new A(),_0x376614=new A(),_0x22a7dc=new A(),_0x3ec701=new A(),_0x98132b=new A(),_0x453638=0xae0+-0x17c6+-0x2*-0x673){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x410de2,this['localPoint'+'Other']=_0x376614,this['point']=_0x22a7dc,this['pointOther']=_0x3ec701,this['normal']=_0x98132b,this['impulse']=_0x453638);}}class SI{constructor(_0x255e4a,_0x5493ca){c(this,'other'),c(this,'contacts'),(this['other']=_0x255e4a,this['contacts']=_0x5493ca);}}const mx=['enabled'];class _x extends Qe{constructor(_0x304c3b){super(_0x304c3b),c(this,'maxSubStep'+'s',-0x2a2+-0x392*0x6+0x1818),c(this,'fixedTimeS'+'tep',(0x7f*-0x1+-0xef7+0x6b*0x25)/(0xebd+0x1aeb+-0x296c)),c(this,'gravity',new A(0x3cb*-0x9+0x141f+0x17*0x9c,-(-0x4*0x91f+0xa97*0x3+-0x98*-0x8+0.8100000000000005),0x1*0xbdd+-0x53*-0x7+-0x86*0x1b)),c(this,'_gravityFl'+'oat32',new Float32Array(-0x2583+0x169f+0xee7)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x304c3b['stats']['frame'],this['ComponentT'+'ype']=Ys,this['DataType']=gI,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=mx,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x45a0e5=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x45a0e5);}else b['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');di=new Ammo['btVector3'](),ui=new Ammo['btVector3'](),Ys['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new tu(xI,0xe76*0x1+-0x18c8+-0xa53*-0x1),this['contactRes'+'ultPool']=new tu(SI,-0x994+-0x1b73+-0xa*-0x3b4),this['singleCont'+'actResultP'+'ool']=new tu(yI,-0x2161+-0x21f7+0x3*0x1673),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x360ee8,_0x5a13b1,_0x19b448){const _0x441893=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x46dabf of _0x441893)if(_0x5a13b1['hasOwnProp'+'erty'](_0x46dabf)){const _0x241ac4=_0x5a13b1[_0x46dabf];Array['isArray'](_0x241ac4)?_0x360ee8[_0x46dabf]=new A(_0x241ac4[0xd49+-0x78b*0x4+0x10e3],_0x241ac4[-0x2704*-0x1+0x224c*0x1+-0x494f*0x1],_0x241ac4[-0x1b5*-0x1+0x8ba+0x11*-0x9d]):_0x360ee8[_0x46dabf]=_0x241ac4;}super['initialize'+'ComponentD'+'ata'](_0x360ee8,_0x5a13b1,['enabled']);}['cloneCompo'+'nent'](_0x4d8b7c,_0x2010f5){const _0x29500a=_0x4d8b7c['rigidbody'],_0x5c38b4={'enabled':_0x29500a['enabled'],'mass':_0x29500a['mass'],'linearDamping':_0x29500a['linearDamp'+'ing'],'angularDamping':_0x29500a['angularDam'+'ping'],'linearFactor':[_0x29500a['linearFact'+'or']['x'],_0x29500a['linearFact'+'or']['y'],_0x29500a['linearFact'+'or']['z']],'angularFactor':[_0x29500a['angularFac'+'tor']['x'],_0x29500a['angularFac'+'tor']['y'],_0x29500a['angularFac'+'tor']['z']],'friction':_0x29500a['friction'],'rollingFriction':_0x29500a['rollingFri'+'ction'],'restitution':_0x29500a['restitutio'+'n'],'type':_0x29500a['type'],'group':_0x29500a['group'],'mask':_0x29500a['mask']};return this['addCompone'+'nt'](_0x2010f5,_0x5c38b4);}['onBeforeRe'+'move'](_0x2b82c4,_0x275df0){_0x275df0['enabled']&&(_0x275df0['enabled']=!(-0x22a5+0x1a58+0x84e)),_0x275df0['body']&&(this['destroyBod'+'y'](_0x275df0['body']),_0x275df0['body']=null);}['addBody'](_0x1acc41,_0x1b41ed,_0x12453e){_0x1b41ed!==void(-0x287*0x8+0x828+0xc10)&&_0x12453e!==void(-0xc83*0x2+0xca1+0xc65)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1acc41,_0x1b41ed,_0x12453e):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x1acc41);}['removeBody'](_0x136fc1){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x136fc1);}['createBody'](_0x1c8e04,_0x3c5144,_0x49b706){const _0x10579a=new Ammo['btVector3'](-0x244+0x1*0x557+-0x313*0x1,0xd12+-0x1362+0x650,0x1d97+0x20*0x94+-0x3017);_0x1c8e04!==0x2371+0x46+0x1*-0x23b7&&_0x3c5144['calculateL'+'ocalInerti'+'a'](_0x1c8e04,_0x10579a);const _0x4a4b9c=new Ammo['btDefaultM'+'otionState'](_0x49b706),_0x2a9cfa=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x1c8e04,_0x4a4b9c,_0x3c5144,_0x10579a),_0x2f6e1b=new Ammo['btRigidBod'+'y'](_0x2a9cfa);return Ammo['destroy'](_0x2a9cfa),Ammo['destroy'](_0x10579a),_0x2f6e1b;}['destroyBod'+'y'](_0x13a8a7){const _0x866951=_0x13a8a7['getMotionS'+'tate']();_0x866951&&Ammo['destroy'](_0x866951),Ammo['destroy'](_0x13a8a7);}['raycastFir'+'st'](_0x3b4843,_0x581b7b,_0x4dd357={}){if(_0x4dd357['filterTags']||_0x4dd357['filterCall'+'back'])return _0x4dd357['sort']=!(0x1*0x116f+0x1421+-0x2590),this['raycastAll'](_0x3b4843,_0x581b7b,_0x4dd357)[0x3eb+0xf43*-0x2+0x1a9b]||null;let _0x349408=null;di['setValue'](_0x3b4843['x'],_0x3b4843['y'],_0x3b4843['z']),ui['setValue'](_0x581b7b['x'],_0x581b7b['y'],_0x581b7b['z']);const _0x4023c3=new Ammo['ClosestRay'+'ResultCall'+'back'](di,ui);if(typeof _0x4dd357['filterColl'+'isionGroup']=='number'&&_0x4023c3['set_m_coll'+'isionFilte'+'rGroup'](_0x4dd357['filterColl'+'isionGroup']),typeof _0x4dd357['filterColl'+'isionMask']=='number'&&_0x4023c3['set_m_coll'+'isionFilte'+'rMask'](_0x4dd357['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](di,ui,_0x4023c3),_0x4023c3['hasHit']()){const _0x1f5570=_0x4023c3['get_m_coll'+'isionObjec'+'t'](),_0x4c1b32=Ammo['castObject'](_0x1f5570,Ammo['btRigidBod'+'y']);if(_0x4c1b32){const _0x5b198b=_0x4023c3['get_m_hitP'+'ointWorld'](),_0x5797e7=_0x4023c3['get_m_hitN'+'ormalWorld']();_0x349408=new Sg(_0x4c1b32['entity'],new A(_0x5b198b['x'](),_0x5b198b['y'](),_0x5b198b['z']()),new A(_0x5797e7['x'](),_0x5797e7['y'](),_0x5797e7['z']()),_0x4023c3['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x4023c3),_0x349408;}['raycastAll'](_0x5a8b46,_0x4f4e3c,_0x263e18={}){b['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x36467e=[];di['setValue'](_0x5a8b46['x'],_0x5a8b46['y'],_0x5a8b46['z']),ui['setValue'](_0x4f4e3c['x'],_0x4f4e3c['y'],_0x4f4e3c['z']);const _0x57f30b=new Ammo['AllHitsRay'+'ResultCall'+'back'](di,ui);if(typeof _0x263e18['filterColl'+'isionGroup']=='number'&&_0x57f30b['set_m_coll'+'isionFilte'+'rGroup'](_0x263e18['filterColl'+'isionGroup']),typeof _0x263e18['filterColl'+'isionMask']=='number'&&_0x57f30b['set_m_coll'+'isionFilte'+'rMask'](_0x263e18['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](di,ui,_0x57f30b),_0x57f30b['hasHit']()){const _0x16d616=_0x57f30b['get_m_coll'+'isionObjec'+'ts'](),_0x17243c=_0x57f30b['get_m_hitP'+'ointWorld'](),_0x2d4871=_0x57f30b['get_m_hitN'+'ormalWorld'](),_0x4ce2a7=_0x57f30b['get_m_hitF'+'ractions'](),_0x1d4da6=_0x16d616['size']();for(let _0x4344e1=0x3c9+-0x257f+0x21b6;_0x4344e1<_0x1d4da6;_0x4344e1++){const _0x3d4ab1=Ammo['castObject'](_0x16d616['at'](_0x4344e1),Ammo['btRigidBod'+'y']);if(_0x3d4ab1&&_0x3d4ab1['entity']){if(_0x263e18['filterTags']&&!_0x3d4ab1['entity']['tags']['has'](..._0x263e18['filterTags'])||_0x263e18['filterCall'+'back']&&!_0x263e18['filterCall'+'back'](_0x3d4ab1['entity']))continue;const _0x1d9e06=_0x17243c['at'](_0x4344e1),_0xe6d9b4=_0x2d4871['at'](_0x4344e1),_0x5a1e92=new Sg(_0x3d4ab1['entity'],new A(_0x1d9e06['x'](),_0x1d9e06['y'](),_0x1d9e06['z']()),new A(_0xe6d9b4['x'](),_0xe6d9b4['y'](),_0xe6d9b4['z']()),_0x4ce2a7['at'](_0x4344e1));_0x36467e['push'](_0x5a1e92);}}_0x263e18['sort']&&_0x36467e['sort']((_0x5a2bd3,_0x514141)=>_0x5a2bd3['hitFractio'+'n']-_0x514141['hitFractio'+'n']);}return Ammo['destroy'](_0x57f30b),_0x36467e;}['_storeColl'+'ision'](_0x19cf91,_0x4f2184){let _0x536a99=!(0x2*-0x233+-0x2551+0x29b8);const _0x31e2db=_0x19cf91['getGuid']();return this['collisions'][_0x31e2db]=this['collisions'][_0x31e2db]||{'others':[],'entity':_0x19cf91},this['collisions'][_0x31e2db]['others']['indexOf'](_0x4f2184)<0x25a9+0x9ea+-0x2f93&&(this['collisions'][_0x31e2db]['others']['push'](_0x4f2184),_0x536a99=!(-0x75e+-0x17a9+0x2f*0xa9)),this['frameColli'+'sions'][_0x31e2db]=this['frameColli'+'sions'][_0x31e2db]||{'others':[],'entity':_0x19cf91},this['frameColli'+'sions'][_0x31e2db]['others']['push'](_0x4f2184),_0x536a99;}['_createCon'+'tactPointF'+'romAmmo'](_0x6aefdb){const _0x463841=_0x6aefdb['get_m_loca'+'lPointA'](),_0x3c806d=_0x6aefdb['get_m_loca'+'lPointB'](),_0x15aa59=_0x6aefdb['getPositio'+'nWorldOnA'](),_0x493057=_0x6aefdb['getPositio'+'nWorldOnB'](),_0x5d5bd1=_0x6aefdb['get_m_norm'+'alWorldOnB'](),_0x5f545f=this['contactPoi'+'ntPool']['allocate']();return _0x5f545f['localPoint']['set'](_0x463841['x'](),_0x463841['y'](),_0x463841['z']()),_0x5f545f['localPoint'+'Other']['set'](_0x3c806d['x'](),_0x3c806d['y'](),_0x3c806d['z']()),_0x5f545f['point']['set'](_0x15aa59['x'](),_0x15aa59['y'](),_0x15aa59['z']()),_0x5f545f['pointOther']['set'](_0x493057['x'](),_0x493057['y'](),_0x493057['z']()),_0x5f545f['normal']['set'](_0x5d5bd1['x'](),_0x5d5bd1['y'](),_0x5d5bd1['z']()),_0x5f545f['impulse']=_0x6aefdb['getApplied'+'Impulse'](),_0x5f545f;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x26370a){const _0x772a57=_0x26370a['get_m_loca'+'lPointA'](),_0x55785b=_0x26370a['get_m_loca'+'lPointB'](),_0x19c426=_0x26370a['getPositio'+'nWorldOnA'](),_0x3a600a=_0x26370a['getPositio'+'nWorldOnB'](),_0xb4cc61=_0x26370a['get_m_norm'+'alWorldOnB'](),_0x753ff5=this['contactPoi'+'ntPool']['allocate']();return _0x753ff5['localPoint'+'Other']['set'](_0x772a57['x'](),_0x772a57['y'](),_0x772a57['z']()),_0x753ff5['localPoint']['set'](_0x55785b['x'](),_0x55785b['y'](),_0x55785b['z']()),_0x753ff5['pointOther']['set'](_0x19c426['x'](),_0x19c426['y'](),_0x19c426['z']()),_0x753ff5['point']['set'](_0x3a600a['x'](),_0x3a600a['y'](),_0x3a600a['z']()),_0x753ff5['normal']['set'](_0xb4cc61['x'](),_0xb4cc61['y'](),_0xb4cc61['z']()),_0x753ff5['impulse']=_0x26370a['getApplied'+'Impulse'](),_0x753ff5;}['_createSin'+'gleContact'+'Result'](_0x3a1d58,_0x2c67ce,_0x4f6049){const _0x504cb8=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x504cb8['a']=_0x3a1d58,_0x504cb8['b']=_0x2c67ce,_0x504cb8['localPoint'+'A']=_0x4f6049['localPoint'],_0x504cb8['localPoint'+'B']=_0x4f6049['localPoint'+'Other'],_0x504cb8['pointA']=_0x4f6049['point'],_0x504cb8['pointB']=_0x4f6049['pointOther'],_0x504cb8['normal']=_0x4f6049['normal'],_0x504cb8['impulse']=_0x4f6049['impulse'],_0x504cb8;}['_createCon'+'tactResult'](_0x2e71db,_0x4623d1){const _0x18127b=this['contactRes'+'ultPool']['allocate']();return _0x18127b['other']=_0x2e71db,_0x18127b['contacts']=_0x4623d1,_0x18127b;}['_cleanOldC'+'ollisions'](){for(const _0x4bab99 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x4bab99)){const _0x27cb0e=this['frameColli'+'sions'][_0x4bab99],_0x315af3=this['collisions'][_0x4bab99],_0x5a4d2c=_0x315af3['entity'],_0x10de58=_0x5a4d2c['collision'],_0x179c31=_0x5a4d2c['rigidbody'],_0x296878=_0x315af3['others'];let _0x472428=_0x296878['length'];for(;_0x472428--;){const _0x2080b2=_0x296878[_0x472428];(!_0x27cb0e||_0x27cb0e['others']['indexOf'](_0x2080b2)<0x1631+-0x68c*-0x4+0x3061*-0x1)&&(_0x296878['splice'](_0x472428,0x5*0x158+0x1a0a+-0x20c1),_0x5a4d2c['trigger']?(_0x10de58&&_0x10de58['fire']('triggerlea'+'ve',_0x2080b2),_0x2080b2['rigidbody']&&_0x2080b2['rigidbody']['fire']('triggerlea'+'ve',_0x5a4d2c)):_0x2080b2['trigger']||(_0x179c31&&_0x179c31['fire']('collisione'+'nd',_0x2080b2),_0x10de58&&_0x10de58['fire']('collisione'+'nd',_0x2080b2)));}_0x296878['length']===0x2423+0xf60+-0x1*0x3383&&delete this['collisions'][_0x4bab99];}}['_hasContac'+'tEvent'](_0xc2087a){const _0x21cdf9=_0xc2087a['collision'];if(_0x21cdf9&&(_0x21cdf9['hasEvent']('collisions'+'tart')||_0x21cdf9['hasEvent']('collisione'+'nd')||_0x21cdf9['hasEvent']('contact')))return!(-0xca*0x9+0x24f4+-0xeed*0x2);const _0x58af27=_0xc2087a['rigidbody'];return _0x58af27&&(_0x58af27['hasEvent']('collisions'+'tart')||_0x58af27['hasEvent']('collisione'+'nd')||_0x58af27['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x5dcb4b,_0x4eb66f){const _0x3bf4b9=Ammo['wrapPointe'+'r'](_0x5dcb4b,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x4afff2=_0x3bf4b9['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x2df35a=0x2001+0x1*-0x19db+-0x2*0x313;_0x2df35a<_0x4afff2;_0x2df35a++){const _0x4d8b17=_0x3bf4b9['getManifol'+'dByIndexIn'+'ternal'](_0x2df35a),_0x157934=_0x4d8b17['getBody0'](),_0x49e12b=_0x4d8b17['getBody1'](),_0x150e5a=Ammo['castObject'](_0x157934,Ammo['btRigidBod'+'y']),_0x1f81fe=Ammo['castObject'](_0x49e12b,Ammo['btRigidBod'+'y']),_0x3060cc=_0x150e5a['entity'],_0x1ce240=_0x1f81fe['entity'];if(!_0x3060cc||!_0x1ce240)continue;const _0x3ffede=_0x150e5a['getCollisi'+'onFlags'](),_0x237981=_0x1f81fe['getCollisi'+'onFlags'](),_0x10d0e6=_0x4d8b17['getNumCont'+'acts'](),_0x4d4d30=[],_0x4a0203=[];let _0x501d03;if(_0x10d0e6>-0x23d+0xe5*-0x7+0x20*0x44){if(_0x3ffede&fo||_0x237981&fo){const _0x3a390f=_0x3060cc['collision']&&(_0x3060cc['collision']['hasEvent']('triggerent'+'er')||_0x3060cc['collision']['hasEvent']('triggerlea'+'ve')),_0x3db59d=_0x1ce240['collision']&&(_0x1ce240['collision']['hasEvent']('triggerent'+'er')||_0x1ce240['collision']['hasEvent']('triggerlea'+'ve')),_0x618f26=_0x3060cc['rigidbody']&&(_0x3060cc['rigidbody']['hasEvent']('triggerent'+'er')||_0x3060cc['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x2ca4f3=_0x1ce240['rigidbody']&&(_0x1ce240['rigidbody']['hasEvent']('triggerent'+'er')||_0x1ce240['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x3a390f&&(_0x501d03=this['_storeColl'+'ision'](_0x3060cc,_0x1ce240),_0x501d03&&!(_0x237981&fo)&&_0x3060cc['collision']['fire']('triggerent'+'er',_0x1ce240)),_0x3db59d&&(_0x501d03=this['_storeColl'+'ision'](_0x1ce240,_0x3060cc),_0x501d03&&!(_0x3ffede&fo)&&_0x1ce240['collision']['fire']('triggerent'+'er',_0x3060cc)),_0x618f26&&(_0x501d03||(_0x501d03=this['_storeColl'+'ision'](_0x1ce240,_0x3060cc)),_0x501d03&&_0x3060cc['rigidbody']['fire']('triggerent'+'er',_0x1ce240)),_0x2ca4f3&&(_0x501d03||(_0x501d03=this['_storeColl'+'ision'](_0x3060cc,_0x1ce240)),_0x501d03&&_0x1ce240['rigidbody']['fire']('triggerent'+'er',_0x3060cc));}else{const _0x3d86dc=this['_hasContac'+'tEvent'](_0x3060cc),_0x186a9c=this['_hasContac'+'tEvent'](_0x1ce240),_0x2d99e2=this['hasEvent']('contact');if(_0x2d99e2||_0x3d86dc||_0x186a9c){for(let _0x2b8fbf=0x13*-0x149+0x251a+-0xcaf;_0x2b8fbf<_0x10d0e6;_0x2b8fbf++){const _0x12b3e8=_0x4d8b17['getContact'+'Point'](_0x2b8fbf),_0x1980e5=this['_createCon'+'tactPointF'+'romAmmo'](_0x12b3e8);if(_0x3d86dc||_0x186a9c){_0x4d4d30['push'](_0x1980e5);const _0x332d7e=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x12b3e8);_0x4a0203['push'](_0x332d7e);}if(_0x2d99e2){const _0x2aa900=this['_createSin'+'gleContact'+'Result'](_0x3060cc,_0x1ce240,_0x1980e5);this['fire']('contact',_0x2aa900);}}if(_0x3d86dc){const _0x5eaa2c=this['_createCon'+'tactResult'](_0x1ce240,_0x4d4d30);_0x501d03=this['_storeColl'+'ision'](_0x3060cc,_0x1ce240),_0x3060cc['collision']&&(_0x3060cc['collision']['fire']('contact',_0x5eaa2c),_0x501d03&&_0x3060cc['collision']['fire']('collisions'+'tart',_0x5eaa2c)),_0x3060cc['rigidbody']&&(_0x3060cc['rigidbody']['fire']('contact',_0x5eaa2c),_0x501d03&&_0x3060cc['rigidbody']['fire']('collisions'+'tart',_0x5eaa2c));}if(_0x186a9c){const _0xc68e50=this['_createCon'+'tactResult'](_0x3060cc,_0x4a0203);_0x501d03=this['_storeColl'+'ision'](_0x1ce240,_0x3060cc),_0x1ce240['collision']&&(_0x1ce240['collision']['fire']('contact',_0xc68e50),_0x501d03&&_0x1ce240['collision']['fire']('collisions'+'tart',_0xc68e50)),_0x1ce240['rigidbody']&&(_0x1ce240['rigidbody']['fire']('contact',_0xc68e50),_0x501d03&&_0x1ce240['rigidbody']['fire']('collisions'+'tart',_0xc68e50));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x3828a8){let _0x21bafe,_0x372284;this['_stats']['physicsSta'+'rt']=ae(),this['_gravityFl'+'oat32'][0x1*-0x1ae6+-0x288+0x1*0x1d6e]=this['gravity']['x'],this['_gravityFl'+'oat32'][0xdb4+0x1*-0x1580+-0x1*-0x7cd]=this['gravity']['y'],this['_gravityFl'+'oat32'][-0x18f5*-0x1+0x2*0x921+-0x2b35]=this['gravity']['z'];const _0x153ebc=this['dynamicsWo'+'rld']['getGravity']();(_0x153ebc['x']()!==this['_gravityFl'+'oat32'][0x900+-0x12*-0x178+-0x2370]||_0x153ebc['y']()!==this['_gravityFl'+'oat32'][0x168a*-0x1+-0x1853+0x2ede]||_0x153ebc['z']()!==this['_gravityFl'+'oat32'][-0x346*-0x1+-0xe1b+0x4b*0x25])&&(_0x153ebc['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x153ebc));const _0x2ce795=this['_triggers'];for(_0x21bafe=-0x121*0x1d+0x26b*0x7+0xfd0,_0x372284=_0x2ce795['length'];_0x21bafe<_0x372284;_0x21bafe++)_0x2ce795[_0x21bafe]['updateTran'+'sform']();const _0x1067d1=this['_compounds'];for(_0x21bafe=0xe5*-0x11+-0x1d*-0xb2+0x3*-0x1a7,_0x372284=_0x1067d1['length'];_0x21bafe<_0x372284;_0x21bafe++)_0x1067d1[_0x21bafe]['_updateCom'+'pound']();const _0x2344da=this['_kinematic'];for(_0x21bafe=0x2*-0x1367+-0x1fc6+0x4694,_0x372284=_0x2344da['length'];_0x21bafe<_0x372284;_0x21bafe++)_0x2344da[_0x21bafe]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x3828a8,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x484be8=this['_dynamic'];for(_0x21bafe=0x1*-0x14f2+-0x1f8f+0x3481,_0x372284=_0x484be8['length'];_0x21bafe<_0x372284;_0x21bafe++)_0x484be8[_0x21bafe]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x3828a8),this['_stats']['physicsTim'+'e']=ae()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](di),Ammo['destroy'](ui),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,di=null,ui=null,Ys['onAppDestr'+'oy']());}}c(_x,'EVENT_CONT'+'ACT','contact'),pe['_buildAcce'+'ssors'](Ys['prototype'],mx);const Xn='none',vI='blend',vg=new q();class gx extends pe{constructor(_0x2b84bb,_0x1cbcd7){super(_0x2b84bb,_0x1cbcd7),this['_resolutio'+'n']=new W(0x142e+0x84d+-0x19fb,0x789*0x2+-0x2710+-0x12*-0x167),this['_reference'+'Resolution']=new W(0x3*-0x697+-0x1f5c*-0x1+-0x917,-0x1180+-0x2c0+0x1580),this['_scaleMode']=Xn,this['scale']=0x40b+0x116d+-0x1577,this['_scaleBlen'+'d']=0x52+0x29c*0x4+-0xac2+0.5,this['_priority']=0x718+0x164a+0x1*-0x1d62,this['_screenSpa'+'ce']=!(0x4*0x6a1+-0x1c9+-0x18ba),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x2b84bb['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x2748d6,_0x4331fe){var _0x255f0e;if(!(_0x2748d6 instanceof je))return _0x4331fe;if(_0x2748d6['element']){const _0x50995c=_0x2748d6['element']['drawOrder'];_0x2748d6['element']['drawOrder']=_0x4331fe++,_0x2748d6['element']['_batchGrou'+'pId']>=-0x1193+0x695*-0x1+0x305*0x8&&_0x50995c!==_0x2748d6['element']['drawOrder']&&((_0x255f0e=this['system']['app']['batcher'])==null||_0x255f0e['markGroupD'+'irty'](_0x2748d6['element']['_batchGrou'+'pId']));}_0x2748d6['particlesy'+'stem']&&(_0x2748d6['particlesy'+'stem']['drawOrder']=_0x4331fe++);const _0x15867b=_0x2748d6['children'];for(let _0x52af07=-0x1bd*-0x1+-0x2223+0x16*0x179;_0x52af07<_0x15867b['length'];_0x52af07++)_0x4331fe=this['_recurseDr'+'awOrderSyn'+'c'](_0x15867b[_0x52af07],_0x4331fe);return _0x4331fe;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x10e1+-0x99f+0x1a81*0x1),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x1fc731=this['_resolutio'+'n']['x']/this['scale'],_0x45b7c1=this['_resolutio'+'n']['y']/this['scale'],_0x26ede6=-0x2*0x855+0x121a+-0x8*0x2e,_0x30eeeb=_0x1fc731,_0x20df87=-_0x45b7c1;this['_screenMat'+'rix']['setOrtho'](_0x26ede6,_0x30eeeb,_0x20df87,0xb5e+0x1*0xe53+-0x19b1,0x1972*-0x1+0x12bb+0x6b8,-(-0x101*0x1+0xa7e+-0x97c)),this['_screenSpa'+'ce']||(vg['setScale']((-0x1973*0x1+-0x1393+0x781*0x6+0.5)*_0x1fc731,(0x83*-0x7+-0xeba+-0x124f*-0x1+0.5)*_0x45b7c1,0x2582+-0x7e7+-0x1d9a),this['_screenMat'+'rix']['mul2'](vg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x302700,_0x4a3679){const _0x3dbc8b=Math['log2']((_0x302700['x']||-0x26f1+0x1*0x171b+0xfd7)/_0x4a3679['x']),_0x5a457e=Math['log2']((_0x302700['y']||0x420+-0x2117+0x4d4*0x6)/_0x4a3679['y']);return Math['pow'](0x16e9+0x1fcf+-0x95*0x5e,_0x3dbc8b*(0x16d4*0x1+0x1*-0x435+-0x129e*0x1-this['_scaleBlen'+'d'])+_0x5a457e*this['_scaleBlen'+'d']);}['_onResize'](_0x14aaa0,_0x2d5310){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x14aaa0,_0x2d5310),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0xad33b7){this['_elements']['add'](_0xad33b7);}['_unbindEle'+'ment'](_0x22c2db){this['_elements']['delete'](_0x22c2db);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x532257=>_0x532257['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x276209){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x276209['x'],_0x276209['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x346a36=>_0x346a36['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x484f41){this['_reference'+'Resolution']['set'](_0x484f41['x'],_0x484f41['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x612682=>_0x612682['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Xn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x13832a){this['_screenSpa'+'ce']=_0x13832a,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x2eed5a=>_0x2eed5a['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x599017){_0x599017!==Xn&&_0x599017!==vI&&(_0x599017=Xn),!this['_screenSpa'+'ce']&&_0x599017!==Xn&&(_0x599017=Xn),this['_scaleMode']=_0x599017,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x1e4083){this['_scaleBlen'+'d']=_0x1e4083,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x5c492d=>_0x5c492d['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x233323){_0x233323>0x8*-0x3d0+-0x1cd3*-0x1+0x2ac&&(b['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x233323+'\x20to\x20255'),_0x233323=0xfaf+-0xc35*-0x1+-0x1ae5),this['_priority']!==_0x233323&&(this['_priority']=_0x233323,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class bI{constructor(){this['enabled']=!(0x44f+0x5e*0x2+-0x50b);}}const xf=['enabled'];class wI extends Qe{constructor(_0x3e3cab){super(_0x3e3cab),this['id']='screen',this['ComponentT'+'ype']=gx,this['DataType']=bI,this['schema']=xf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x172ee9,_0x3b8c51,_0x264e74){_0x3b8c51['priority']!==void(-0x1c*0x89+0x3*0xdd+-0xa7*-0x13)&&(_0x172ee9['priority']=_0x3b8c51['priority']),_0x3b8c51['screenSpac'+'e']!==void(0x28c+0x2d7*0x9+-0x1*0x1c1b)&&(_0x172ee9['screenSpac'+'e']=_0x3b8c51['screenSpac'+'e']),_0x172ee9['cull']=_0x172ee9['screenSpac'+'e'],_0x3b8c51['scaleMode']!==void(0x3*0xc79+-0x16aa*-0x1+0x1*-0x3c15)&&(_0x172ee9['scaleMode']=_0x3b8c51['scaleMode']),_0x3b8c51['scaleBlend']!==void(0xcaa+-0x128a+0x5e0)&&(_0x172ee9['scaleBlend']=_0x3b8c51['scaleBlend']),_0x3b8c51['resolution']!==void(0x14a2+-0x9c7+-0xadb)&&(_0x3b8c51['resolution']instanceof W?_0x172ee9['_resolutio'+'n']['copy'](_0x3b8c51['resolution']):_0x172ee9['_resolutio'+'n']['set'](_0x3b8c51['resolution'][0x1268+0x5*-0x281+-0x5e3],_0x3b8c51['resolution'][0x4f6*-0x6+-0x2*-0x12bf+0x1*-0x7b9]),_0x172ee9['resolution']=_0x172ee9['_resolutio'+'n']),_0x3b8c51['referenceR'+'esolution']!==void(-0x18b2+0x98*-0x2c+0x32d2)&&(_0x3b8c51['referenceR'+'esolution']instanceof W?_0x172ee9['_reference'+'Resolution']['copy'](_0x3b8c51['referenceR'+'esolution']):_0x172ee9['_reference'+'Resolution']['set'](_0x3b8c51['referenceR'+'esolution'][-0xe33+0x1f6c*-0x1+0x2d9f],_0x3b8c51['referenceR'+'esolution'][-0xf72*-0x1+0x1c09+-0x2b7a]),_0x172ee9['referenceR'+'esolution']=_0x172ee9['_reference'+'Resolution']),_0x172ee9['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x172ee9,_0x3b8c51,xf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x1716da){const _0x532d3b=this['store'];for(const _0x171f87 in _0x532d3b)_0x532d3b[_0x171f87]['entity']['screen']['update']&&_0x532d3b[_0x171f87]['entity']['screen']['update'](_0x1716da);}['_onResize'](_0x35a3c4,_0x549667){this['windowReso'+'lution']['x']=_0x35a3c4,this['windowReso'+'lution']['y']=_0x549667;}['cloneCompo'+'nent'](_0x890567,_0x4ff923){const _0x5ad6d4=_0x890567['screen'];return this['addCompone'+'nt'](_0x4ff923,{'enabled':_0x5ad6d4['enabled'],'screenSpace':_0x5ad6d4['screenSpac'+'e'],'scaleMode':_0x5ad6d4['scaleMode'],'resolution':_0x5ad6d4['resolution']['clone'](),'referenceResolution':_0x5ad6d4['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x40bdd2,_0x248881){_0x248881['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x4f2880=this['_drawOrder'+'SyncQueue']['list']();for(let _0x46d28b=-0x2113+0x1*0x807+0x190c;_0x46d28b<_0x4f2880['length'];_0x46d28b++){const _0x34486b=_0x4f2880[_0x46d28b];_0x34486b['callback']['call'](_0x34486b['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x38f946,_0x4c4852,_0x1fe996){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x38f946)||this['_drawOrder'+'SyncQueue']['push'](_0x38f946,{'callback':_0x4c4852,'scope':_0x1fe996});}}pe['_buildAcce'+'ssors'](gx['prototype'],xf);const ji=new W(),bg=new A(),Rr=new _u(),wg=new cy(),Tg=new A(),oo=new A(),TI=new ie(),AI={'x':'y','y':'x'};class Co extends de{constructor(_0x53ed39,_0x406de4){if(super(),!_0x53ed39||!(_0x53ed39 instanceof Kt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x406de4&&_0x406de4!=='x'&&_0x406de4!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x406de4);this['_element']=_0x53ed39,this['_app']=_0x53ed39['system']['app'],this['_axis']=_0x406de4||null,this['_enabled']=!(0x259b+-0x251*-0x2+-0x2a3d),this['_dragScale']=new A(),this['_dragStart'+'MousePosit'+'ion']=new A(),this['_dragStart'+'HandlePosi'+'tion']=new A(),this['_deltaMous'+'ePosition']=new A(),this['_deltaHand'+'lePosition']=new A(),this['_isDraggin'+'g']=!(-0x20ca+0xb5a*-0x1+0x2c25),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x36f114){this['_element'][_0x36f114]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x36f114]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x36f114]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x9b3b0c){const _0x4000f6=_0x9b3b0c==='on';this['_hasDragLi'+'steners']&&_0x4000f6||(this['_app']['mouse']&&(this['_element'][_0x9b3b0c]('mousemove',this['_onMove'],this),this['_element'][_0x9b3b0c]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),be['touch']&&(this['_element'][_0x9b3b0c]('touchmove',this['_onMove'],this),this['_element'][_0x9b3b0c]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x9b3b0c]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x9b3b0c]('selectmove',this['_onMove'],this),this['_element'][_0x9b3b0c]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x4000f6);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x3ebc81){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x3ebc81['camera'],this['_calculate'+'DragScale']();const _0x444737=this['_screenToL'+'ocal'](_0x3ebc81);_0x444737&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x79f*-0x1+0x23f7+-0x1*0x2b96),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x444737),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x651+-0x19ee+-0x8*-0x408),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x3d2818){return _0x3d2818['inputSourc'+'e']?Rr['set'](_0x3d2818['inputSourc'+'e']['getOrigin'](),_0x3d2818['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x3d2818),this['_chooseRay'+'OriginAndD'+'irection']()),Tg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x1a06*0x1+0xe6e+-0x2873)),wg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),Tg),wg['intersects'+'Ray'](Rr,oo)?(TI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](oo,oo),oo['mul'](this['_dragScale']),oo):null;}['_determine'+'InputPosit'+'ion'](_0x11a51d){const _0x164716=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x11a51d['x']<'u'&&typeof _0x11a51d['y']<'u'?(ji['x']=_0x11a51d['x']*_0x164716,ji['y']=_0x11a51d['y']*_0x164716):_0x11a51d['changedTou'+'ches']?(ji['x']=_0x11a51d['changedTou'+'ches'][-0x1*0x48b+-0xcf3+-0x117e*-0x1]['x']*_0x164716,ji['y']=_0x11a51d['changedTou'+'ches'][-0xeca+-0x1*-0x18bd+-0x9f3*0x1]['y']*_0x164716):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Rr['origin']['set'](ji['x'],-ji['y'],-0x2*0x81c+-0x1c09*-0x1+-0xbd1),Rr['direction']['copy'](A['FORWARD'])):(bg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](ji['x'],ji['y'],-0x1*0x1b4f+0x13c1+0x2d*0x2b)),Rr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Rr['direction']['copy'](bg)['sub'](Rr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x221185=this['_element']['entity']['parent'];const _0x144dd7=this['_element']['screen']&&this['_element']['screen']['screen'],_0x2a0ba7=_0x144dd7&&_0x144dd7['screenSpac'+'e'],_0x45a306=_0x2a0ba7?_0x144dd7['scale']:0x3*0x2cf+0x600+-0xe6c,_0xc407e0=this['_dragScale'];for(_0xc407e0['set'](_0x45a306,_0x45a306,_0x45a306);_0x221185&&(_0xc407e0['mul'](_0x221185['getLocalSc'+'ale']()),_0x221185=_0x221185['parent'],!(_0x2a0ba7&&_0x221185['screen'])););_0xc407e0['x']=(0x1924*0x1+0x2f6*0x4+-0x1*0x24fb)/_0xc407e0['x'],_0xc407e0['y']=(0x1*-0x1cf7+0xa22*-0x1+0x271a)/_0xc407e0['y'],_0xc407e0['z']=-0x2*-0x50d+-0x1180+-0x3b3*-0x2;}['_onMove'](_0x1f532a){const {_element:_0x1725a7,_deltaMousePosition:_0x2b37cc,_deltaHandlePosition:_0x22323a,_axis:_0x2cc2a2}=this;if(_0x1725a7&&this['_isDraggin'+'g']&&this['enabled']&&_0x1725a7['enabled']&&_0x1725a7['entity']['enabled']){const _0x3ed452=this['_screenToL'+'ocal'](_0x1f532a);if(_0x3ed452){if(_0x2b37cc['sub2'](_0x3ed452,this['_dragStart'+'MousePosit'+'ion']),_0x22323a['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x2b37cc),_0x2cc2a2){const _0x4d8d84=_0x1725a7['entity']['getLocalPo'+'sition'](),_0xdcd2c8=AI[_0x2cc2a2];_0x22323a[_0xdcd2c8]=_0x4d8d84[_0xdcd2c8];}_0x1725a7['entity']['setLocalPo'+'sition'](_0x22323a),this['fire']('drag:move',_0x22323a);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x563efb){this['_enabled']=_0x563efb;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(Co,'EVENT_DRAG'+'START','drag:start'),c(Co,'EVENT_DRAG'+'END','drag:end'),c(Co,'EVENT_DRAG'+'MOVE','drag:move');const EI=-0xed4+-0x1f59+0x1*0x2e2d,Ag=-0x20e1+-0xb*-0x1d1+0xce7,CI=0x24ff*-0x1+0x902+0x1bff,MI=0x1*0x1871+-0x6*0x4ce+0x1*0x463,PI=-0x23c*0x6+-0x1961+0x5*0x7c2,lo=new W();class yx extends pe{constructor(_0xe025ec,_0x507316){super(_0xe025ec,_0x507316),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][ye]=null,this['_prevConte'+'ntSizes'][Ve]=null,this['_scroll']=new W(),this['_velocity']=new A(),this['_dragStart'+'Position']=new A(),this['_disabledC'+'ontentInpu'+'t']=!(-0xa01*-0x1+0x9c2+-0x13c2),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x490b14=this['system']['store'][this['entity']['getGuid']()];return _0x490b14?_0x490b14['data']:null;}set['enabled'](_0x2e782a){this['_setValue']('enabled',_0x2e782a);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x4d8c41){this['_setValue']('horizontal',_0x4d8c41);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x2a23e3){this['_setValue']('vertical',_0x2a23e3);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x440405){this['_setValue']('scrollMode',_0x440405);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x42cb32){this['_setValue']('bounceAmou'+'nt',_0x42cb32);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0xb6aa2f){this['_setValue']('friction',_0xb6aa2f);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x1c576f){this['_setValue']('dragThresh'+'old',_0x1c576f);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x16481a){this['_setValue']('useMouseWh'+'eel',_0x16481a);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x3ad695){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x3ad695);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x1f5773){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x1f5773);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x4b8137){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x4b8137);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x29ef07){if(this['_viewportE'+'ntity']===_0x29ef07)return;const _0x5c6c4a=typeof _0x29ef07=='string';this['_viewportE'+'ntity']&&_0x5c6c4a&&this['_viewportE'+'ntity']['getGuid']()===_0x29ef07||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x29ef07 instanceof Oe?this['_viewportE'+'ntity']=_0x29ef07:_0x5c6c4a?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x29ef07)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x5c6c4a&&_0x29ef07&&(this['data']['viewportEn'+'tity']=_0x29ef07));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0xace498){if(this['_contentEn'+'tity']===_0xace498)return;const _0xa7b56c=typeof _0xace498=='string';this['_contentEn'+'tity']&&_0xa7b56c&&this['_contentEn'+'tity']['getGuid']()===_0xace498||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0xace498 instanceof Oe?this['_contentEn'+'tity']=_0xace498:_0xa7b56c?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0xace498)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0xa7b56c&&_0xace498&&(this['data']['contentEnt'+'ity']=_0xace498));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x221eb3){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x221eb3)return;const _0x3fcdbb=typeof _0x221eb3=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x3fcdbb&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x221eb3||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x221eb3 instanceof Oe?this['_horizonta'+'lScrollbar'+'Entity']=_0x221eb3:_0x3fcdbb?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x221eb3)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][ye]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x3fcdbb&&_0x221eb3&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x221eb3));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x5d706e){if(this['_verticalS'+'crollbarEn'+'tity']===_0x5d706e)return;const _0x740bd5=typeof _0x5d706e=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x740bd5&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x5d706e||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x5d706e instanceof Oe?this['_verticalS'+'crollbarEn'+'tity']=_0x5d706e:_0x740bd5?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x5d706e)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][Ve]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x740bd5&&_0x5d706e&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x5d706e));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x1da930){this['_onSetScro'+'ll'](_0x1da930['x'],_0x1da930['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x1eb6e0,_0x1563cf){const _0x4c2e79=this['data'],_0x2df97b=_0x4c2e79[_0x1eb6e0];_0x4c2e79[_0x1eb6e0]=_0x1563cf,this['fire']('set',_0x1eb6e0,_0x2df97b,_0x1563cf);}['_toggleLif'+'ecycleList'+'eners'](_0xc99a62){this[_0xc99a62]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0xc99a62]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0xc99a62]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x4ccbbe){if(this['entity']['element']){if(_0x4ccbbe==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x4ccbbe]('resize',this['_syncAll'],this),this['entity']['element'][_0x4ccbbe](Du,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x4ccbbe==='on';}}['_onElement'+'ComponentA'+'dd'](_0x44979a){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x5edcf1){var _0x5b44af;(_0x5b44af=this['_evtElemen'+'tRemove'])==null||_0x5b44af['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x142118,_0x1c3c9b;(_0x142118=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x142118['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x1c3c9b=this['_viewportE'+'ntity'])!=null&&_0x1c3c9b['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x3722cf=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x3722cf['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x3722cf['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x1a8c77,_0x34ff4a;(_0x1a8c77=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x1a8c77['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x34ff4a=this['_evtViewpo'+'rtResize'])==null||_0x34ff4a['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x573aa6,_0x2f3748;(_0x573aa6=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x573aa6['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2f3748=this['_contentEn'+'tity'])!=null&&_0x2f3748['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x5d75a3=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x5d75a3['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x5d75a3['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x4ad701,_0xf1cffd;(_0x4ad701=this['_evtConten'+'tElementRe'+'move'])==null||_0x4ad701['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0xf1cffd=this['_evtConten'+'tResize'])==null||_0xf1cffd['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Co(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][ye]=null,this['_prevConte'+'ntSizes'][Ve]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x31647a){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0x25*0xc7+-0xa71+-0x14f*0xe),this['_setScroll'+'FromConten'+'tPosition'](_0x31647a),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x31647a),!this['_disabledC'+'ontentInpu'+'t'])){const _0x1a9bc9=_0x31647a['x']-this['_dragStart'+'Position']['x'],_0x3847bd=_0x31647a['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x1a9bc9)>this['dragThresh'+'old']||Math['abs'](_0x3847bd)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x3624e0;(_0x3624e0=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x3624e0['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x231ba6;(_0x231ba6=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x231ba6['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x5aef8f){!this['_scrollbar'+'UpdateFlag'+'s'][ye]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x5aef8f,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x5cc650){!this['_scrollbar'+'UpdateFlag'+'s'][Ve]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x5cc650);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x5b62fa;const _0x52ce11=(_0x5b62fa=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x21be+0x1*-0x1fe7+-0x3*0x9d):_0x5b62fa['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x52ce11['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x52ce11['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarPositi'+'on'](ye);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x232e46;const _0x2c43bb=(_0x232e46=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x7ac+-0x161b*-0x1+-0x1dc7*0x1):_0x232e46['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x2c43bb['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x2c43bb['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ve),this['_syncScrol'+'lbarPositi'+'on'](Ve);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x4a6fac,_0x31932f;(_0x4a6fac=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x4a6fac['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x31932f=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x31932f['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x591e9c,_0x2c82c7;(_0x591e9c=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x591e9c['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x2c82c7=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x2c82c7['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](ye);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](Ve);}['_onSetScro'+'ll'](_0xa0e7d6,_0x13e806,_0xa0f1e2){_0xa0f1e2!==!(0x2e3+-0xf09+-0x11*-0xb7)&&this['_velocity']['set'](-0x1c9f+-0x6a7+0x2346,-0x2595+-0x1*0x18aa+0x5*0xc73,-0xff+-0x373*-0xb+0x24f2*-0x1);const _0x1a9ce0=this['_updateAxi'+'s'](_0xa0e7d6,'x',ye),_0x30e6ec=this['_updateAxi'+'s'](_0x13e806,'y',Ve);(_0x1a9ce0||_0x30e6ec)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x7e9910,_0x3b3264,_0x5b02b5){const _0x423e43=_0x7e9910!==null&&Math['abs'](_0x7e9910-this['_scroll'][_0x3b3264])>0x1d43*-0x1+-0x312*-0x1+0x1a31+0.00001;return(_0x423e43||this['_isDraggin'+'g']()||_0x7e9910===0x1fce+-0x6b3+-0x191b)&&(this['_scroll'][_0x3b3264]=this['_determine'+'NewScrollV'+'alue'](_0x7e9910,_0x3b3264,_0x5b02b5),this['_syncConte'+'ntPosition'](_0x5b02b5),this['_syncScrol'+'lbarPositi'+'on'](_0x5b02b5)),_0x423e43;}['_determine'+'NewScrollV'+'alue'](_0x107a9f,_0x3b03d6,_0xd03477){if(!this['_getScroll'+'ingEnabled'](_0xd03477))return this['_scroll'][_0x3b03d6];switch(this['scrollMode']){case EI:return z['clamp'](_0x107a9f,0x30e*0x9+0x9f3+0x77d*-0x5,this['_getMaxScr'+'ollValue'](_0xd03477));case Ag:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x107a9f,_0x3b03d6,_0xd03477),_0x107a9f;case CI:return _0x107a9f;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x107a9f;}}['_syncAll'](){this['_syncConte'+'ntPosition'](ye),this['_syncConte'+'ntPosition'](Ve),this['_syncScrol'+'lbarPositi'+'on'](ye),this['_syncScrol'+'lbarPositi'+'on'](Ve),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarEnable'+'dState'](Ve);}['_syncConte'+'ntPosition'](_0x4cd5e5){if(!this['_contentEn'+'tity'])return;const _0x45b3b8=this['_getAxis'](_0x4cd5e5),_0x4e7179=this['_getSign'](_0x4cd5e5),_0x24733b=this['_prevConte'+'ntSizes'][_0x4cd5e5],_0x44eeb3=this['_getConten'+'tSize'](_0x4cd5e5);if(_0x24733b!==null&&Math['abs'](_0x24733b-_0x44eeb3)>0x1*0x1816+-0x22fd+-0x1*-0xae7+0.0001){const _0xad9d62=this['_getMaxOff'+'set'](_0x4cd5e5,_0x24733b),_0x374967=this['_getMaxOff'+'set'](_0x4cd5e5,_0x44eeb3);_0x374967===-0x17b1*-0x1+0x2c*0x90+-0x3071?this['_scroll'][_0x45b3b8]=-0x10d3*-0x2+0x8*0x471+-0x452d:this['_scroll'][_0x45b3b8]=z['clamp'](this['_scroll'][_0x45b3b8]*_0xad9d62/_0x374967,0xf6e*0x2+0x72b+0xf*-0x289,0x17*0x144+0x1387*-0x2+-0x1*-0x9f3);}const _0x1402f8=this['_scroll'][_0x45b3b8]*this['_getMaxOff'+'set'](_0x4cd5e5),_0x2dd6f7=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2dd6f7[_0x45b3b8]=_0x1402f8*_0x4e7179,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2dd6f7),this['_prevConte'+'ntSizes'][_0x4cd5e5]=_0x44eeb3;}['_syncScrol'+'lbarPositi'+'on'](_0x2d19d6){const _0x3daa29=this['_scrollbar'+'Entities'][_0x2d19d6];if(!(_0x3daa29!=null&&_0x3daa29['scrollbar']))return;const _0x4a2190=this['_getAxis'](_0x2d19d6);this['_scrollbar'+'UpdateFlag'+'s'][_0x2d19d6]=!(-0x1479+0x2b3+0x11c6),_0x3daa29['scrollbar']['value']=this['_scroll'][_0x4a2190],_0x3daa29['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x4a2190,_0x2d19d6),this['_scrollbar'+'UpdateFlag'+'s'][_0x2d19d6]=!(-0x2*-0xfe8+0x34a*0x4+0xefd*-0x3);}['_syncScrol'+'lbarEnable'+'dState'](_0x2cab4a){const _0x387903=this['_scrollbar'+'Entities'][_0x2cab4a];if(!_0x387903)return;const _0x598904=this['_getScroll'+'ingEnabled'](_0x2cab4a),_0x34463a=this['_getScroll'+'barVisibil'+'ity'](_0x2cab4a);switch(_0x34463a){case MI:_0x387903['enabled']=_0x598904;return;case PI:_0x387903['enabled']=_0x598904&&this['_contentIs'+'LargerThan'+'Viewport'](_0x2cab4a);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x34463a),_0x387903['enabled']=_0x598904;}}['_contentIs'+'LargerThan'+'Viewport'](_0xa428f6){return this['_getConten'+'tSize'](_0xa428f6)>this['_getViewpo'+'rtSize'](_0xa428f6);}['_contentPo'+'sitionToSc'+'rollValue'](_0x54aa32){const _0x5ba70c=this['_getMaxOff'+'set'](ye),_0x5a04c2=this['_getMaxOff'+'set'](Ve);return _0x5ba70c===0x140b+-0x995+0x53b*-0x2?lo['x']=-0xf3a+0xd7a+-0x38*-0x8:lo['x']=_0x54aa32['x']/_0x5ba70c,_0x5a04c2===0x15*0x6f+0x16d+0x8*-0x151?lo['y']=0x45b*-0x5+-0x1489+0x2a50:lo['y']=_0x54aa32['y']/-_0x5a04c2,lo;}['_getMaxOff'+'set'](_0x53230e,_0x48b8bb){_0x48b8bb=_0x48b8bb===void(0x1868+-0x1bb5+-0x41*-0xd)?this['_getConten'+'tSize'](_0x53230e):_0x48b8bb;const _0x4b573e=this['_getViewpo'+'rtSize'](_0x53230e);return _0x48b8bb<_0x4b573e?-this['_getViewpo'+'rtSize'](_0x53230e):_0x4b573e-_0x48b8bb;}['_getMaxScr'+'ollValue'](_0x429472){return this['_contentIs'+'LargerThan'+'Viewport'](_0x429472)?0x948+-0x1*0x207e+0x1737:-0x15e3*-0x1+0xe43+-0x2426;}['_getScroll'+'barHandleS'+'ize'](_0x1f10c4,_0x4a5437){const _0x197710=this['_getViewpo'+'rtSize'](_0x4a5437),_0x35cb46=this['_getConten'+'tSize'](_0x4a5437);if(Math['abs'](_0x35cb46)<0x2*-0xb29+0x1*0x21f5+-0xba3+0.001)return 0x11cb+-0xd*-0x251+-0x2fe7*0x1;const _0x4bfb11=Math['min'](_0x197710/_0x35cb46,-0x1*0x178d+-0x22*0xaa+0x2e22),_0x53715f=this['_toOversho'+'ot'](this['_scroll'][_0x1f10c4],_0x4a5437);return _0x53715f===0x21d1+-0x1273+-0xf5e?_0x4bfb11:_0x4bfb11/(-0xb3d+-0xd97+-0x18d5*-0x1+Math['abs'](_0x53715f));}['_getViewpo'+'rtSize'](_0x46366c){return this['_getSize'](_0x46366c,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x1ab352){return this['_getSize'](_0x1ab352,this['_contentEn'+'tity']);}['_getSize'](_0x3d2314,_0x2c53bf){return _0x2c53bf!=null&&_0x2c53bf['element']?_0x2c53bf['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x3d2314)]:0x26*-0x49+-0x2231*0x1+0x1*0x2d07;}['_getScroll'+'ingEnabled'](_0x33cbe6){if(_0x33cbe6===ye)return this['horizontal'];if(_0x33cbe6===Ve)return this['vertical'];b['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x33cbe6);}['_getScroll'+'barVisibil'+'ity'](_0x12db62){if(_0x12db62===ye)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x12db62===Ve)return this['verticalSc'+'rollbarVis'+'ibility'];b['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x12db62);}['_getSign'](_0x89853f){return _0x89853f===ye?0x335*0xb+-0xc3c+-0x170a:-(0x1*0x13ca+-0x54+0x11*-0x125);}['_getAxis'](_0x146d87){return _0x146d87===ye?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x1887eb){return _0x1887eb===ye?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarEnable'+'dState'](Ve));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Ag&&(this['_hasOversh'+'oot']('x',ye)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',ye),this['_hasOversh'+'oot']('y',Ve)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',Ve)),Math['abs'](this['_velocity']['x'])>0x263e+-0x2272+0x1e6*-0x2+0.0001||Math['abs'](this['_velocity']['y'])>-0x76*0x31+0x3*-0x9d+0x186d+0.0001){const _0x2c93cd=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x2c93cd['x']+=this['_velocity']['x'],_0x2c93cd['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x2c93cd),this['_setScroll'+'FromConten'+'tPosition'](_0x2c93cd);}this['_velocity']['x']*=-0x1eb*0x11+0x1*0x1df4+-0x4*-0xaa-this['friction'],this['_velocity']['y']*=-0xe0b*0x1+0x1*-0x102e+-0xf1d*-0x2-this['friction'];}}['_hasOversh'+'oot'](_0x2ea83a,_0x1f9b70){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x2ea83a],_0x1f9b70))>0x9a*-0x31+-0xb23+0x289d+0.001;}['_toOversho'+'ot'](_0x2de57d,_0xcccf8b){const _0xbf4ec6=this['_getMaxScr'+'ollValue'](_0xcccf8b);return _0x2de57d<-0xec3*0x1+-0x14*0x1ac+0x1011*0x3?_0x2de57d:_0x2de57d>_0xbf4ec6?_0x2de57d-_0xbf4ec6:-0x8*-0x2f0+-0xc9f+-0x5*0x22d;}['_setVeloci'+'tyFromOver'+'shoot'](_0x28f4f2,_0x389f96,_0x598960){const _0x1cf2db=this['_toOversho'+'ot'](_0x28f4f2,_0x598960)*this['_getMaxOff'+'set'](_0x598960)*this['_getSign'](_0x598960);Math['abs'](_0x1cf2db)>0x32a+-0x2*0xe56+-0x1982*-0x1&&(this['_velocity'][_0x389f96]=-_0x1cf2db/(this['bounceAmou'+'nt']*(0x1*-0xeff+0x17c9*0x1+-0x898)+(0x1b35+-0x1*0x1381+-0x7b3)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x1bc008){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x1bc008,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x1bc008)):(this['_velocity']['set'](-0x1c72+-0x1842+0x34b4,0xf0*0x7+0x8e9*-0x1+0x259*0x1,-0x2*-0x3e+-0x24fb+0x247f),this['_prevConte'+'ntDragPosi'+'tion']=_0x1bc008['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0xc57e5b){let _0xf005c1=this['_contentPo'+'sitionToSc'+'rollValue'](_0xc57e5b);this['_isDraggin'+'g']()&&(_0xf005c1=this['_applyScro'+'llValueTen'+'sion'](_0xf005c1)),this['_onSetScro'+'ll'](_0xf005c1['x'],_0xf005c1['y'],!(-0x1eea+-0xa*-0xda+0x1667));}['_applyScro'+'llValueTen'+'sion'](_0x16eaa2){let _0x46d107=this['_getMaxScr'+'ollValue'](ye),_0x4de7c1=this['_toOversho'+'ot'](_0x16eaa2['x'],ye);return _0x4de7c1>0x17+0x3c3+-0x3da?_0x16eaa2['x']=_0x46d107+(-0x11fc+0x2c*-0x6d+0x4f*0x77)*Math['log10'](-0x248f+0x1a43+0xa4d+_0x4de7c1):_0x4de7c1<-0x1*0xbf5+-0x1cde+0x28d3&&(_0x16eaa2['x']=-(-0xaf2*0x2+0x84c*-0x4+0x3715)*Math['log10'](0x16f1+-0x97*0x36+-0x7*-0x146-_0x4de7c1)),_0x46d107=this['_getMaxScr'+'ollValue'](Ve),_0x4de7c1=this['_toOversho'+'ot'](_0x16eaa2['y'],Ve),_0x4de7c1>0x315*-0x8+0x1fde+0x8e*-0xd?_0x16eaa2['y']=_0x46d107+(-0xa*-0x255+-0x7*0x4cf+0xa58)*Math['log10'](-0x172c+0x1219+0x514+_0x4de7c1):_0x4de7c1<-0x6a5+-0x14ff+0x1ba4&&(_0x16eaa2['y']=-(-0x164e+-0x17*-0x70+0xc3f)*Math['log10'](-0x1357*0x1+0x1d87*0x1+-0xa2f-_0x4de7c1)),_0x16eaa2;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0xdaa2a0){var _0x3f6f92,_0x142da0;(_0x3f6f92=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x3f6f92['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0xdaa2a0),(_0x142da0=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x142da0['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0xdaa2a0);}['_setConten'+'tDraggingE'+'nabled'](_0x3fbfef){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x3fbfef);}['_onMouseWh'+'eel'](_0x476180){var _0x586dfb;if(!this['useMouseWh'+'eel']||!((_0x586dfb=this['_contentEn'+'tity'])!=null&&_0x586dfb['element']))return;const _0x1e611b=_0x476180['event'],_0x29a820=_0x1e611b['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x43d1b1=_0x1e611b['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x4799e6=z['clamp'](this['_scroll']['x']+_0x29a820,-0x1*-0x1cc5+0x4b6*-0x8+0x8eb,this['_getMaxScr'+'ollValue'](ye)),_0x1abb9e=z['clamp'](this['_scroll']['y']+_0x43d1b1,-0x990+-0x1*0x22e1+0x2c71,this['_getMaxScr'+'ollValue'](Ve));this['scroll']=new W(_0x4799e6,_0x1abb9e);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x40a00a=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x40a00a['element']&&(_0x40a00a['element']['useInput']=!(-0x170c+0x26fc+-0xff0));}this['_disabledC'+'ontentInpu'+'t']=!(-0x3d1*-0x3+0x19eb+-0x255d);}['_disableCo'+'ntentInput'](){const _0x2b3e64=_0x3857c6=>{_0x3857c6['element']&&_0x3857c6['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x3857c6),_0x3857c6['element']['useInput']=!(0x1*0x137+-0x2f*-0x9e+-0x1e38));const _0x2dcdd7=_0x3857c6['children'];for(let _0x5a8c98=0x28e+-0xcfa+0x1d*0x5c,_0x395aa2=_0x2dcdd7['length'];_0x5a8c98<_0x395aa2;_0x5a8c98++)_0x2b3e64(_0x2dcdd7[_0x5a8c98]);};if(this['_contentEn'+'tity']){const _0x46f120=this['_contentEn'+'tity']['children'];for(let _0x3200e1=0xa53+0x12df*0x1+0x1d32*-0x1,_0x21b3f5=_0x46f120['length'];_0x3200e1<_0x21b3f5;_0x3200e1++)_0x2b3e64(_0x46f120[_0x3200e1]);}this['_disabledC'+'ontentInpu'+'t']=!(-0x19d8+-0x11ff+0x81*0x57);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x8b6*0x2+0x672+-0x17de)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x1cf7+-0x1*0x1eef+0x3be6)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x24a8*0x1+-0x12c0+-0xb15*-0x5)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x20*0x37+-0x57*0x65+0x2934));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c7898,_0x323e08){_0x3c7898['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x323e08[_0x3c7898['viewportEn'+'tity']['getGuid']()]),_0x3c7898['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x323e08[_0x3c7898['contentEnt'+'ity']['getGuid']()]),_0x3c7898['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x323e08[_0x3c7898['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x3c7898['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x323e08[_0x3c7898['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(yx,'EVENT_SETS'+'CROLL','set:scroll');const RI=-0x1416+-0x1317*-0x1+-0x35*-0x5;class II{constructor(){c(this,'enabled',!(-0x1e75+-0x3b9*0x1+0x222e)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',RI),c(this,'useMouseWh'+'eel',!(0x4*0x8ba+0xe9c+-0x3184)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(0x158d+0x4*-0x75f+0x7f0,0x182*-0x1+0x7ab*0x2+-0xdd3)),c(this,'horizontal'+'ScrollbarV'+'isibility',-0x17c5+0x1*0x1139+-0x68c*-0x1),c(this,'verticalSc'+'rollbarVis'+'ibility',-0x2336+-0x1*-0x209f+0x297),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],DI=0x2126+0xbc0*-0x1+-0x2*0xaae;class LI extends Qe{constructor(_0x1d7ba1){super(_0x1d7ba1),this['id']='scrollview',this['ComponentT'+'ype']=yx,this['DataType']=II,this['schema']=Eg,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x581761,_0x2bd7ba,_0x339cb2){_0x2bd7ba['dragThresh'+'old']===void(0x709*-0x1+0x4a1*0x1+-0xb*-0x38)&&(_0x2bd7ba['dragThresh'+'old']=DI),_0x2bd7ba['useMouseWh'+'eel']===void(0x65b*0x4+0x143*0x4+-0x1e78)&&(_0x2bd7ba['useMouseWh'+'eel']=!(-0xb36+0x95f+0x1d7)),_0x2bd7ba['mouseWheel'+'Sensitivit'+'y']===void(-0x302+0x1605+-0x1303)&&(_0x2bd7ba['mouseWheel'+'Sensitivit'+'y']=new W(0x371*-0x7+0x4ea+0x132e,0x1*-0x1a5f+-0x3f2+0x1e52)),super['initialize'+'ComponentD'+'ata'](_0x581761,_0x2bd7ba,Eg),_0x581761['viewportEn'+'tity']=_0x2bd7ba['viewportEn'+'tity'],_0x581761['contentEnt'+'ity']=_0x2bd7ba['contentEnt'+'ity'],_0x581761['horizontal'+'ScrollbarE'+'ntity']=_0x2bd7ba['horizontal'+'ScrollbarE'+'ntity'],_0x581761['verticalSc'+'rollbarEnt'+'ity']=_0x2bd7ba['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x3aa061){const _0x1cf91a=this['store'];for(const _0x16add3 in _0x1cf91a){const _0x47de31=_0x1cf91a[_0x16add3]['entity'],_0xc198d=_0x47de31['scrollview'];_0xc198d['enabled']&&_0x47de31['enabled']&&_0xc198d['onUpdate']();}}['_onRemoveC'+'omponent'](_0x5998f6,_0x3e3cb2){_0x3e3cb2['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class xx extends pe{constructor(_0x3728b0,_0x15ec4e){super(_0x3728b0,_0x15ec4e),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x252f90=this['system']['store'][this['entity']['getGuid']()];return _0x252f90?_0x252f90['data']:null;}set['enabled'](_0x2dc358){this['_setValue']('enabled',_0x2dc358);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x2a4b52){this['_setValue']('orientatio'+'n',_0x2a4b52);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x46072d){this['_setValue']('value',_0x46072d);}get['value'](){return this['data']['value'];}set['handleSize'](_0x4f9aeb){this['_setValue']('handleSize',_0x4f9aeb);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x1ab154){if(this['_handleEnt'+'ity']===_0x1ab154)return;const _0x4ee625=typeof _0x1ab154=='string';this['_handleEnt'+'ity']&&_0x4ee625&&this['_handleEnt'+'ity']['getGuid']()===_0x1ab154||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x1ab154 instanceof Oe?this['_handleEnt'+'ity']=_0x1ab154:_0x4ee625?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x1ab154)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x4ee625&&_0x1ab154&&(this['data']['handleEnti'+'ty']=_0x1ab154));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x203242,_0x93ee96){const _0x4e9278=this['data'],_0x2acb77=_0x4e9278[_0x203242];_0x4e9278[_0x203242]=_0x93ee96,this['fire']('set',_0x203242,_0x2acb77,_0x93ee96);}['_toggleLif'+'ecycleList'+'eners'](_0x1a74e3){this[_0x1a74e3]('set_value',this['_onSetValu'+'e'],this),this[_0x1a74e3]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x1a74e3]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x5790d1,_0x17f14f;(_0x5790d1=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x5790d1['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x17f14f=this['_handleEnt'+'ity'])!=null&&_0x17f14f['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x376041=this['_handleEnt'+'ity']['element'],_0x5b3d4a=this['_evtHandle'+'EntityChan'+'ges'];_0x5b3d4a['push'](_0x376041['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x5b3d4a['push'](_0x376041['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x5b3d4a['push'](_0x376041['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x5b3d4a['push'](_0x376041['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x1605c8=-0x675*0x1+0x4*-0x720+0x22f5;_0x1605c8<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x1605c8++)this['_evtHandle'+'EntityChan'+'ges'][_0x1605c8]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x4*0x3fb+-0xf*-0xef+0x1*-0x1ded;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Co(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0xa59153){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0xa59153[this['_getAxis']()]));}['_onSetValu'+'e'](_0x87c5b4,_0x4f5ca5,_0x30a5b0){Math['abs'](_0x30a5b0-_0x4f5ca5)>0x8*0x92+0xb3b+-0xfcb+0.00001&&(this['data']['value']=z['clamp'](_0x30a5b0,-0x46d+-0x8ca+0xc7*0x11,0x1e1a+0x1707+-0x3520),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0xc8df57,_0x60cb13,_0x1580ba){Math['abs'](_0x1580ba-_0x60cb13)>-0x6f*0x3+-0x93*-0x35+-0x1d22+0.00001&&(this['data']['handleSize']=z['clamp'](_0x1580ba,-0x1ecc+-0x16e0+-0xf*-0x394,0x94a+0x7*0x163+0x1ba*-0xb),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x599819,_0x32c9a3,_0x7cb4e2){var _0x3a7785;_0x7cb4e2!==_0x32c9a3&&((_0x3a7785=this['_handleEnt'+'ity'])!=null&&_0x3a7785['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=-0x11c2+-0x20c0+0x3282);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x1012c7=this['_handleEnt'+'ity'],_0x3dc073=_0x1012c7==null?void(0x187f+-0x5ce+-0x12b1):_0x1012c7['element'];if(_0x1012c7){const _0x57f4d7=_0x1012c7['getLocalPo'+'sition']();_0x57f4d7[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x1012c7['setLocalPo'+'sition'](_0x57f4d7);}_0x3dc073&&(_0x3dc073[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x1d1ec7){return _0x1d1ec7*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x5322e2){return _0x5322e2*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0xd*-0x210+-0x26f9*-0x1+-0x41c9+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===ye?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x25*-0x3+-0x1*0x110b+0x109c*0x1;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===ye?0x1d*-0x73+0x5*0x5ae+-0x1*0xf5e:-(-0x859+0x1537+-0x59*0x25);}['_getAxis'](){return this['orientatio'+'n']===ye?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===ye?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===ye?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0xb1d7c5){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0xb1d7c5);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0xe98+0x115+-0xfad*0x1));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0xf39*0x1+-0x178d+0x855));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x43eceb,_0x1d07b0){_0x43eceb['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x1d07b0[_0x43eceb['handleEnti'+'ty']['getGuid']()]);}}c(xx,'EVENT_SETV'+'ALUE','set:value');class FI{constructor(){c(this,'enabled',!(-0x1*-0x2665+-0xf1*0x1c+0xd*-0xed)),c(this,'orientatio'+'n',ye),c(this,'value',0x5*0x721+0x97a+-0x2d1f),c(this,'handleSize',-0xb30+0x1806+-0xcd6),c(this,'handleEnti'+'ty',null);}}const Cg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class kI extends Qe{constructor(_0x231212){super(_0x231212),this['id']='scrollbar',this['ComponentT'+'ype']=xx,this['DataType']=FI,this['schema']=Cg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x18f10d,_0x151947,_0x36c60a){super['initialize'+'ComponentD'+'ata'](_0x18f10d,_0x151947,Cg),_0x18f10d['handleEnti'+'ty']=_0x151947['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x3019f6){_0x3019f6['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x579229,_0x5adddd){_0x5adddd['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(0x1bd*-0x7+-0x5*-0x7c9+-0x1ac1),'startTime':0x0,'duration':0x0,'position':new A(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class sr extends de{constructor(_0x408240,_0x2434fd='Untitled',_0x1eaa45={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x408240,this['_assets']=_0x408240['system']['app']['assets'],this['_manager']=_0x408240['system']['manager'],this['name']=_0x2434fd,this['_volume']=_0x1eaa45['volume']!==void(-0xc8f+0xf74+-0x2e5)?z['clamp'](Number(_0x1eaa45['volume'])||0x81*0x2+0x18ed+-0x3*0x8a5,0x526*-0x1+-0x439+0x95f,-0x1*-0x26d3+0x1509+0x3bdb*-0x1):-0x4a2+-0xe9d+-0x4d*-0x40,this['_pitch']=_0x1eaa45['pitch']!==void(0x3*-0xcb5+-0x87c*0x2+-0x9*-0x61f)?Math['max'](-0x1*-0x16fc+0x1f64+-0x3660+0.01,Number(_0x1eaa45['pitch'])||0x11b3+0x1cda+0x1*-0x2e8d):0x118e+-0x18ba+-0x1*-0x72d,this['_loop']=!!(_0x1eaa45['loop']!==void(-0x21f5*-0x1+-0xbc*-0xf+-0x1d*0x18d)&&_0x1eaa45['loop']),this['_duration']=_0x1eaa45['duration']>-0x20d1+-0x1*-0xc5f+0x1472?_0x1eaa45['duration']:null,this['_startTime']=Math['max'](0xc93+0x159d*0x1+0x8*-0x446,Number(_0x1eaa45['startTime'])||0x1*0x2122+0x165e+-0x3780),this['_overlap']=!!_0x1eaa45['overlap'],this['_autoPlay']=!!_0x1eaa45['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x1eaa45['asset'],this['_asset']instanceof he&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x3abe07){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){b['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x57b430=_0x3abe07;if(_0x57b430||(_0x57b430=this['_createIns'+'tance'](),this['instances']['push'](_0x57b430)),this['isLoaded'])_0x57b430['play']();else{const _0x43100f=function(_0x501686){const _0x21e8e1=_0x57b430['_playWhenL'+'oaded'];_0x57b430['sound']=_0x501686,_0x21e8e1&&_0x57b430['play']();};this['off']('load',_0x43100f),this['once']('load',_0x43100f),this['load']();}return _0x57b430;}['pause'](){let _0x44ca68=!(0x382*0x5+-0x246f+0x52*0x3b);const _0x39fb8a=this['instances'];for(let _0x51c917=0x4a9+-0xde0+0x937,_0x144d37=_0x39fb8a['length'];_0x51c917<_0x144d37;_0x51c917++)_0x39fb8a[_0x51c917]['pause']()&&(_0x44ca68=!(-0xdb8+0x2004+-0x124c));return _0x44ca68;}['resume'](){let _0x1808b7=!(-0x5ba*-0x1+0x9*0xd+0x2*-0x317);const _0x58372d=this['instances'];for(let _0x5784d7=-0x23de+0x4cf*-0x1+0x28ad,_0x4f42bf=_0x58372d['length'];_0x5784d7<_0x4f42bf;_0x5784d7++)_0x58372d[_0x5784d7]['resume']()&&(_0x1808b7=!(-0x35*0x20+-0xf3f+0x15df));return _0x1808b7;}['stop'](){let _0x337d41=!(-0x5c5*-0x5+-0x953+-0x1385);const _0x708597=this['instances'];let _0x4baa30=_0x708597['length'];for(;_0x4baa30--;)_0x708597[_0x4baa30]['stop'](),_0x337d41=!(-0x11*-0xbb+-0x215+-0xa56);return _0x708597['length']=-0x2e*0x43+-0x13*0x2+0xc30,_0x337d41;}['load'](){if(!this['_hasAsset']())return;const _0x4ed80f=this['_assets']['get'](this['_asset']);if(!_0x4ed80f){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x4ed80f['off']('remove',this['_onAssetRe'+'moved'],this),_0x4ed80f['on']('remove',this['_onAssetRe'+'moved'],this),!_0x4ed80f['resource']){_0x4ed80f['off']('load',this['_onAssetLo'+'ad'],this),_0x4ed80f['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x4ed80f);return;}this['fire']('load',_0x4ed80f['resource']);}['setExterna'+'lNodes'](_0x82f7d,_0x47bc6f){if(!_0x82f7d){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x47bc6f||(_0x47bc6f=_0x82f7d),this['_firstNode']=_0x82f7d,this['_lastNode']=_0x47bc6f,!this['_overlap']){const _0x4b5565=this['instances'];for(let _0x136314=-0x3*-0x9b7+0x7*0x49d+-0x3d70,_0x2c9d7e=_0x4b5565['length'];_0x136314<_0x2c9d7e;_0x136314++)_0x4b5565[_0x136314]['setExterna'+'lNodes'](_0x82f7d,_0x47bc6f);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x5972dc=this['instances'];for(let _0x1ac13c=-0xf49+-0x2*0xcf1+0x292b,_0x62c1cc=_0x5972dc['length'];_0x1ac13c<_0x62c1cc;_0x1ac13c++)_0x5972dc[_0x1ac13c]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x5e7366=null;const _0x406641=this['_component'];let _0x292797=null;if(this['_hasAsset']()){const _0x214fe5=this['_assets']['get'](this['_asset']);_0x214fe5&&(_0x292797=_0x214fe5['resource']);}const _0x50e7fd=OI;return _0x50e7fd['volume']=this['_volume']*_0x406641['volume'],_0x50e7fd['pitch']=this['_pitch']*_0x406641['pitch'],_0x50e7fd['loop']=this['_loop'],_0x50e7fd['startTime']=this['_startTime'],_0x50e7fd['duration']=this['_duration'],_0x50e7fd['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x50e7fd['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x50e7fd['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x50e7fd['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x50e7fd['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x406641['positional']?(_0x50e7fd['position']['copy'](_0x406641['entity']['getPositio'+'n']()),_0x50e7fd['maxDistanc'+'e']=_0x406641['maxDistanc'+'e'],_0x50e7fd['refDistanc'+'e']=_0x406641['refDistanc'+'e'],_0x50e7fd['rollOffFac'+'tor']=_0x406641['rollOffFac'+'tor'],_0x50e7fd['distanceMo'+'del']=_0x406641['distanceMo'+'del'],_0x5e7366=new Kn(this['_manager'],_0x292797,_0x50e7fd)):_0x5e7366=new ls(this['_manager'],_0x292797,_0x50e7fd),this['_firstNode']&&_0x5e7366['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x5e7366;}['_onInstanc'+'ePlay'](_0x3e8a3b){this['fire']('play',_0x3e8a3b),this['_component']['fire']('play',this,_0x3e8a3b);}['_onInstanc'+'ePause'](_0x1a4661){this['fire']('pause',_0x1a4661),this['_component']['fire']('pause',this,_0x1a4661);}['_onInstanc'+'eResume'](_0x4fc515){this['fire']('resume',_0x4fc515),this['_component']['fire']('resume',this,_0x4fc515);}['_onInstanc'+'eStop'](_0x222dab){const _0x39453a=this['instances']['indexOf'](_0x222dab);_0x39453a!==-(0xbed+0x123f+-0x1e2b)&&this['instances']['splice'](_0x39453a,0x26*0xc1+-0xe0e+-0xe97),this['fire']('stop',_0x222dab),this['_component']['fire']('stop',this,_0x222dab);}['_onInstanc'+'eEnd'](_0x42f887){const _0x3651f0=this['instances']['indexOf'](_0x42f887);_0x3651f0!==-(0x1399+0xce5+-0x207d)&&this['instances']['splice'](_0x3651f0,-0x1d99+0xb21*0x3+-0x3c9),this['fire']('end',_0x42f887),this['_component']['fire']('end',this,_0x42f887);}['_onAssetAd'+'d'](_0x3d8e06){this['load']();}['_onAssetLo'+'ad'](_0x1b70be){this['load']();}['_onAssetRe'+'moved'](_0x4f32e3){_0x4f32e3['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x4f32e3['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x1fafe7){const _0x36df77=this['instances'];for(let _0xcc1f88=0x5*0x4f7+-0x12ea+-0x5e9,_0x2a5c10=_0x36df77['length'];_0xcc1f88<_0x2a5c10;_0xcc1f88++)_0x36df77[_0xcc1f88]['position']=_0x1fafe7;}set['asset'](_0x5610e0){const _0xbb630e=this['_asset'];if(_0xbb630e){this['_assets']['off']('add:'+_0xbb630e,this['_onAssetAd'+'d'],this);const _0x4694b2=this['_assets']['get'](_0xbb630e);_0x4694b2&&_0x4694b2['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x5610e0,this['_asset']instanceof he&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x45ada8){this['_autoPlay']=!!_0x45ada8;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x550b0b){if(this['_duration']=Math['max'](-0x951*-0x4+0x206b+-0x45af,Number(_0x550b0b)||0x6d*0x32+-0x137c+0x6*-0x4d)||null,!this['_overlap']){const _0x50a772=this['instances'];for(let _0xf924b=0x1*0x2441+0x1040+-0x3481*0x1,_0x715814=_0x50a772['length'];_0xf924b<_0x715814;_0xf924b++)_0x50a772[_0xf924b]['duration']=this['_duration'];}}get['duration'](){let _0x317a5c=0x90a*0x3+-0x67d+-0x14a1*0x1;if(this['_hasAsset']()){const _0x38b5ca=this['_assets']['get'](this['_asset']);_0x317a5c=_0x38b5ca!=null&&_0x38b5ca['resource']?_0x38b5ca['resource']['duration']:-0x6*-0x1e2+0x6f2+0x2*-0x91f;}return this['_duration']!=null?this['_duration']%(_0x317a5c||0x1*-0x18b+-0x72d*0x3+0x1713):_0x317a5c;}get['isLoaded'](){if(this['_hasAsset']()){const _0x5da58c=this['_assets']['get'](this['_asset']);if(_0x5da58c)return!!_0x5da58c['resource'];}return!(0x22c4+0x22f2+0x19f*-0x2b);}get['isPaused'](){const _0x328316=this['instances'],_0x56c1bf=_0x328316['length'];if(_0x56c1bf===-0x482*-0x3+0x17*-0xb3+0x28f)return!(0x1e37+-0xb32+-0x1304);for(let _0x234ff0=0x129e+0x1a18+-0x165b*0x2;_0x234ff0<_0x56c1bf;_0x234ff0++)if(!_0x328316[_0x234ff0]['isPaused'])return!(0x8be+0x11*0x9d+0xdf*-0x16);return!(0x141d+-0x10f3+-0x32a);}get['isPlaying'](){const _0x1f8630=this['instances'];for(let _0xb5b84f=-0x22f3+-0x146b+0x375e,_0x12b5b6=_0x1f8630['length'];_0xb5b84f<_0x12b5b6;_0xb5b84f++)if(_0x1f8630[_0xb5b84f]['isPlaying'])return!(0x23*0xc7+0x1*-0xd33+-0xe02);return!(-0x25ec+-0x5*0x63+-0x2*-0x13ee);}get['isStopped'](){const _0x1bc4c8=this['instances'];for(let _0x3c7997=-0x1ee+-0x47+0x235,_0x59020d=_0x1bc4c8['length'];_0x3c7997<_0x59020d;_0x3c7997++)if(!_0x1bc4c8[_0x3c7997]['isStopped'])return!(0x23*-0x17+-0x1*-0x1eca+0xdd2*-0x2);return!(0x211c+0x2417*-0x1+0x6d*0x7);}set['loop'](_0x4ec965){this['_loop']=!!_0x4ec965;const _0x4bb31d=this['instances'];for(let _0x568edf=-0x1*0x13ea+0x85*-0x26+0x27a8,_0xf6d551=_0x4bb31d['length'];_0x568edf<_0xf6d551;_0x568edf++)_0x4bb31d[_0x568edf]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x592e99){this['_overlap']=!!_0x592e99;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x178e90){if(this['_pitch']=Math['max'](Number(_0x178e90)||0xc50+-0x3*-0xb09+0x1*-0x2d6b,-0x2181+0x9*-0xfd+0x711*0x6+0.01),!this['_overlap']){const _0x36d286=this['instances'];for(let _0x35462a=0x13e7*-0x1+-0x4bd*0x1+0x13*0x14c,_0x341985=_0x36d286['length'];_0x35462a<_0x341985;_0x35462a++)_0x36d286[_0x35462a]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0xc3d407){if(this['_startTime']=Math['max'](-0x131b*0x1+-0x10a6+0x23c1,Number(_0xc3d407)||0x13*0x1d7+-0xec4+-0x1431),!this['_overlap']){const _0x1be493=this['instances'];for(let _0x2356c5=-0x2*0xbc0+0x1*-0x17db+0x1*0x2f5b,_0x3f3f5a=_0x1be493['length'];_0x2356c5<_0x3f3f5a;_0x2356c5++)_0x1be493[_0x2356c5]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x44f0f8){if(this['_volume']=z['clamp'](Number(_0x44f0f8)||-0x866+0xd*-0x248+0x260e*0x1,0x1*0x17b+-0xa7*-0x21+-0x1702,-0x1936+0x2e9+-0x1*-0x164e),!this['_overlap']){const _0x12125f=this['instances'];for(let _0x9c94fd=0x16*-0x19f+0xad*0x1f+-0x1*-0xeb7,_0x81e311=_0x12125f['length'];_0x9c94fd<_0x81e311;_0x9c94fd++)_0x12125f[_0x9c94fd]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(sr,'EVENT_PLAY','play'),c(sr,'EVENT_PAUS'+'E','pause'),c(sr,'EVENT_RESU'+'ME','resume'),c(sr,'EVENT_STOP','stop'),c(sr,'EVENT_LOAD','load');class zr extends pe{constructor(){super(...arguments),c(this,'_volume',0x1*-0x51a+-0x13*-0xf7+-0xd3a),c(this,'_pitch',0x4*0x53f+-0x61d+-0x76f*0x2),c(this,'_positiona'+'l',!(-0x1054+-0x1af3+0x2b47)),c(this,'_refDistan'+'ce',-0x1d1e*0x1+-0x55d*0x2+0x27d9),c(this,'_maxDistan'+'ce',-0x3c58+0x4d0a+0x7*0x332),c(this,'_rollOffFa'+'ctor',-0x21b1+0x9d5*0x1+0x17dd*0x1),c(this,'_distanceM'+'odel',mc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x701957,_0x2302da,_0x3ee561){const _0x34195e=this['_slots'];for(const _0x11a921 in _0x34195e){const _0x39c8fb=_0x34195e[_0x11a921];if(!_0x39c8fb['overlap']){const _0x27fd4a=_0x39c8fb['instances'];for(let _0x574c65=0x40b+0x1*-0x8bb+-0x12c*-0x4,_0xd788cf=_0x27fd4a['length'];_0x574c65<_0xd788cf;_0x574c65++)_0x27fd4a[_0x574c65][_0x701957]=_0x3ee561?_0x39c8fb[_0x701957]*_0x2302da:_0x2302da;}}}set['distanceMo'+'del'](_0x49c849){this['_distanceM'+'odel']=_0x49c849,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x49c849,!(-0xd1*-0x5+0x1b7*0xe+-0x1c16));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0xa6c657){this['_maxDistan'+'ce']=_0xa6c657,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0xa6c657,!(0x1d9c+0x30f+-0x20aa));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x4b0b60){this['_refDistan'+'ce']=_0x4b0b60,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x4b0b60,!(0x6cf+0x3*-0x125+-0x1*0x35f));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x2bd504){this['_rollOffFa'+'ctor']=_0x2bd504,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x2bd504,!(0x1*-0x1265+-0x1f*0xfe+-0x68*-0x79));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x1b1604){this['_pitch']=_0x1b1604,this['_updateSou'+'ndInstance'+'s']('pitch',_0x1b1604,!(0x61*-0x15+-0x1ce2+0x1*0x24d7));}get['pitch'](){return this['_pitch'];}set['volume'](_0x1b3144){this['_volume']=_0x1b3144,this['_updateSou'+'ndInstance'+'s']('volume',_0x1b3144,!(0x18bf*0x1+0x1d31+-0x35f0));}get['volume'](){return this['_volume'];}set['positional'](_0x1bd648){this['_positiona'+'l']=_0x1bd648;const _0x3fbe18=this['_slots'];for(const _0x4bc40d in _0x3fbe18){const _0x3d7bed=_0x3fbe18[_0x4bc40d];if(!_0x3d7bed['overlap']){const _0x580630=_0x3d7bed['instances'],_0x2cc885=_0x580630['length'];for(let _0x4db256=_0x2cc885-(0x31a+0x5*0x165+-0xa12);_0x4db256>=-0xf32+-0x2681+0x35b3;_0x4db256--){const _0x2b44b2=_0x580630[_0x4db256]['isPlaying']||_0x580630[_0x4db256]['isSuspende'+'d'],_0x1c6521=_0x580630[_0x4db256]['currentTim'+'e'];_0x2b44b2&&_0x580630[_0x4db256]['stop']();const _0x107302=_0x3d7bed['_createIns'+'tance']();_0x2b44b2&&(_0x107302['play'](),_0x107302['currentTim'+'e']=_0x1c6521),_0x580630['push'](_0x107302);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0xda50a1){const _0x4d90b5=this['_slots'];if(_0x4d90b5){for(const _0x341865 in _0x4d90b5)_0x4d90b5[_0x341865]['stop']();}const _0x2f386a={};for(const _0x3e0583 in _0xda50a1)_0xda50a1[_0x3e0583]instanceof sr?_0x2f386a[_0xda50a1[_0x3e0583]['name']]=_0xda50a1[_0x3e0583]:_0xda50a1[_0x3e0583]['name']&&(_0x2f386a[_0xda50a1[_0x3e0583]['name']]=new sr(this,_0xda50a1[_0x3e0583]['name'],_0xda50a1[_0x3e0583]));this['_slots']=_0x2f386a,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x557357=this['_slots'],_0x587c21=this['_playingBe'+'foreDisabl'+'e'];for(const _0x79539 in _0x557357){const _0xc47966=_0x557357[_0x79539];_0xc47966['autoPlay']&&_0xc47966['isStopped']?_0xc47966['play']():_0x587c21[_0x79539]?_0xc47966['resume']():_0xc47966['isLoaded']||_0xc47966['load']();}}['onDisable'](){const _0x5d665a=this['_slots'],_0x309341={};for(const _0x32ce6f in _0x5d665a)_0x5d665a[_0x32ce6f]['overlap']||_0x5d665a[_0x32ce6f]['isPlaying']&&(_0x5d665a[_0x32ce6f]['pause'](),_0x309341[_0x32ce6f]=!(-0x22e1+0x1706+0xbdb));this['_playingBe'+'foreDisabl'+'e']=_0x309341;}['onRemove'](){this['off']();}['addSlot'](_0x726ed5,_0x140e80){const _0x5e71df=this['_slots'];if(_0x5e71df[_0x726ed5])return b['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x726ed5+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x7447b5=new sr(this,_0x726ed5,_0x140e80);return _0x5e71df[_0x726ed5]=_0x7447b5,_0x7447b5['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x7447b5['play'](),_0x7447b5;}['removeSlot'](_0x4a652b){const _0x414298=this['_slots'];_0x414298[_0x4a652b]&&(_0x414298[_0x4a652b]['stop'](),delete _0x414298[_0x4a652b]);}['slot'](_0x2c9073){return this['_slots'][_0x2c9073];}['_getSlotPr'+'operty'](_0x3c8949,_0x4afcdb){if(!this['enabled']||!this['entity']['enabled'])return;const _0x3e3223=this['_slots'][_0x3c8949];if(!_0x3e3223){b['warn']('Trying\x20to\x20'+'get\x20'+_0x4afcdb+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x3c8949+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x3e3223[_0x4afcdb];}['isPlaying'](_0x255765){return this['_getSlotPr'+'operty'](_0x255765,'isPlaying')||!(-0x552+0x239c+-0x1e49*0x1);}['isLoaded'](_0x202ffe){return this['_getSlotPr'+'operty'](_0x202ffe,'isLoaded')||!(0x1*-0x1766+-0xb7*-0x1f+0x13e);}['isPaused'](_0x4d4506){return this['_getSlotPr'+'operty'](_0x4d4506,'isPaused')||!(-0x13d1+0x148f+-0xbd);}['isStopped'](_0x2079db){return this['_getSlotPr'+'operty'](_0x2079db,'isStopped')||!(-0x1*0x1885+0x6af+-0x1*-0x11d7);}['play'](_0x236a47){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x3b944f=this['_slots'][_0x236a47];return _0x3b944f?_0x3b944f['play']():(b['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x236a47+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x2c2ac7){const _0x531feb=this['_slots'];if(_0x2c2ac7){const _0x12c777=_0x531feb[_0x2c2ac7];if(!_0x12c777){b['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x2c2ac7+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x12c777['pause']();}else{for(const _0xe814fc in _0x531feb)_0x531feb[_0xe814fc]['pause']();}}['resume'](_0x1885c3){const _0x563b64=this['_slots'];if(_0x1885c3){const _0x5869ab=_0x563b64[_0x1885c3];if(!_0x5869ab){b['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x1885c3+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x5869ab['isPaused']&&_0x5869ab['resume']();}else{for(const _0xcc27a7 in _0x563b64)_0x563b64[_0xcc27a7]['resume']();}}['stop'](_0x18d58c){const _0x53e0b0=this['_slots'];if(_0x18d58c){const _0x588ed9=_0x53e0b0[_0x18d58c];if(!_0x588ed9){b['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x18d58c+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x588ed9['stop']();}else{for(const _0x24ab3b in _0x53e0b0)_0x53e0b0[_0x24ab3b]['stop']();}}}c(zr,'EVENT_PLAY','play'),c(zr,'EVENT_PAUS'+'E','pause'),c(zr,'EVENT_RESU'+'ME','resume'),c(zr,'EVENT_STOP','stop'),c(zr,'EVENT_END','end');class BI{constructor(){this['enabled']=!(-0x26af+-0x2*-0x7e7+0x16e1);}}const Sx=['enabled'];class NI extends Qe{constructor(_0x170697){super(_0x170697),this['id']='sound',this['ComponentT'+'ype']=zr,this['DataType']=BI,this['schema']=Sx,this['manager']=_0x170697['soundManag'+'er'],b['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x2d2546){this['manager']['volume']=_0x2d2546;}get['volume'](){return this['manager']['volume'];}get['context'](){return Ni()?this['manager']['context']:(b['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x40da0c,_0x104d11,_0x41c315){_0x41c315=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x486739=0x7*0x2ef+-0x267c+0x5*0x397;_0x486739<_0x41c315['length'];_0x486739++)_0x104d11['hasOwnProp'+'erty'](_0x41c315[_0x486739])&&(_0x40da0c[_0x41c315[_0x486739]]=_0x104d11[_0x41c315[_0x486739]]);super['initialize'+'ComponentD'+'ata'](_0x40da0c,_0x104d11,['enabled']);}['cloneCompo'+'nent'](_0x47775c,_0x493b1c){const _0x1961a2=_0x47775c['sound'],_0x393125=_0x1961a2['slots'],_0x4ab500={};for(const _0x1e14a7 in _0x393125){const _0x5a5004=_0x393125[_0x1e14a7];_0x4ab500[_0x1e14a7]={'name':_0x5a5004['name'],'volume':_0x5a5004['volume'],'pitch':_0x5a5004['pitch'],'loop':_0x5a5004['loop'],'duration':_0x5a5004['duration'],'startTime':_0x5a5004['startTime'],'overlap':_0x5a5004['overlap'],'autoPlay':_0x5a5004['autoPlay'],'asset':_0x5a5004['asset']};}const _0x4ff578={'distanceModel':_0x1961a2['distanceMo'+'del'],'enabled':_0x1961a2['enabled'],'maxDistance':_0x1961a2['maxDistanc'+'e'],'pitch':_0x1961a2['pitch'],'positional':_0x1961a2['positional'],'refDistance':_0x1961a2['refDistanc'+'e'],'rollOffFactor':_0x1961a2['rollOffFac'+'tor'],'slots':_0x4ab500,'volume':_0x1961a2['volume']};return this['addCompone'+'nt'](_0x493b1c,_0x4ff578);}['onUpdate'](_0x3dc6e5){const _0x4c9929=this['store'];for(const _0x323a84 in _0x4c9929)if(_0x4c9929['hasOwnProp'+'erty'](_0x323a84)){const _0x4e6e9f=_0x4c9929[_0x323a84]['entity'];if(_0x4e6e9f['enabled']){const _0xf292ef=_0x4e6e9f['sound'];if(_0xf292ef['enabled']&&_0xf292ef['positional']){const _0x4a7211=_0x4e6e9f['getPositio'+'n'](),_0x5c6ef6=_0xf292ef['slots'];for(const _0x40967b in _0x5c6ef6)_0x5c6ef6[_0x40967b]['updatePosi'+'tion'](_0x4a7211);}}}}['onBeforeRe'+'move'](_0x4fca4b,_0x1e2368){const _0x740b4=_0x1e2368['slots'];for(const _0x5e9c2e in _0x740b4)_0x740b4[_0x5e9c2e]['overlap']||_0x740b4[_0x5e9c2e]['stop']();_0x1e2368['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](zr['prototype'],Sx);const Mg='simple',Pg='animated';class Ci extends de{constructor(_0xe8990a,_0x51f465){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0xe8990a,this['_frame']=-0xaeb*-0x2+-0x1725+0x14f,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x51f465['spriteAsse'+'t'],this['name']=_0x51f465['name'],this['fps']=_0x51f465['fps']||0x1fae+-0x19fb+-0x5b3,this['loop']=_0x51f465['loop']||!(-0xa*0x9e+0x86*0x1e+-0x987),this['_playing']=!(-0x1*0x2357+0x1402+-0xd*-0x12e),this['_paused']=!(0x42c*0x5+-0x2330+0x1*0xe55),this['_time']=0x3e5*0x3+-0x33b*-0x2+0x5*-0x3a1);}get['duration'](){if(this['_sprite']){const _0x4a2306=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x4a2306);}return-0x57*0x6b+-0x9e9*0x1+0x2e46;}set['frame'](_0xd34411){this['_setFrame'](_0xd34411);const _0x612d31=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x612d31);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x248fdd){var _0x3ede69;if(this['_sprite']&&((_0x3ede69=this['_evtSetMes'+'hes'])==null||_0x3ede69['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x248fdd,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x414f83;!_0x248fdd||!_0x248fdd['atlas']?(_0x414f83=this['_component']['_meshInsta'+'nce'],_0x414f83&&(_0x414f83['deletePara'+'meter']('texture_em'+'issiveMap'),_0x414f83['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x248fdd['atlas']['texture']&&(_0x414f83=this['_component']['_meshInsta'+'nce'],_0x414f83&&(_0x414f83['setParamet'+'er']('texture_em'+'issiveMap',_0x248fdd['atlas']['texture']),_0x414f83['setParamet'+'er']('texture_op'+'acityMap',_0x248fdd['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x3e4706){const _0x2abfd9=this['_component']['system']['app']['assets'];let _0x5a2e34=_0x3e4706;if(_0x3e4706 instanceof he&&(_0x5a2e34=_0x3e4706['id']),this['_spriteAss'+'et']!==_0x5a2e34){if(this['_spriteAss'+'et']){const _0x4bdf93=_0x2abfd9['get'](this['_spriteAss'+'et']);_0x4bdf93&&this['_unbindSpr'+'iteAsset'](_0x4bdf93);}if(this['_spriteAss'+'et']=_0x5a2e34,this['_spriteAss'+'et']){const _0x54dc54=_0x2abfd9['get'](this['_spriteAss'+'et']);_0x54dc54?this['_bindSprit'+'eAsset'](_0x54dc54):(this['sprite']=null,_0x2abfd9['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x23d1d6){this['_setTime'](_0x23d1d6),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0xc7*0x1+-0x1*0x8b7+0x97f),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=-0x175*-0x13+-0x2487+0x8d8;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x364713){this['_component']['system']['app']['assets']['off']('add:'+_0x364713['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x364713['id']&&this['_bindSprit'+'eAsset'](_0x364713);}['_bindSprit'+'eAsset'](_0x26bcba){_0x26bcba['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x26bcba['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x26bcba['resource']?this['_onSpriteA'+'ssetLoad'](_0x26bcba):this['_component']['system']['app']['assets']['load'](_0x26bcba);}['_unbindSpr'+'iteAsset'](_0x325c3f){_0x325c3f&&(_0x325c3f['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x325c3f['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x325c3f['resource']&&!_0x325c3f['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x325c3f['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x565e96){if(!_0x565e96['resource'])this['sprite']=null;else{if(_0x565e96['resource']['atlas'])this['sprite']=_0x565e96['resource'];else{const _0xff6040=_0x565e96['data']['textureAtl'+'asAsset'],_0x1670ad=this['_component']['system']['app']['assets'];_0x1670ad['off']('load:'+_0xff6040,this['_onTexture'+'AtlasLoad'],this),_0x1670ad['once']('load:'+_0xff6040,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x35e41a){const _0x5e0e7f=this['_spriteAss'+'et'];_0x5e0e7f instanceof he?this['_onSpriteA'+'ssetLoad'](_0x5e0e7f):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x5e0e7f));}['_onSpriteA'+'ssetRemove'](_0x105b95){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Pi&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x166af9){if(this['fps']===0xcfb+0x8b*-0x6+-0x9b9||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x13bab0=this['fps']<0x5a6+-0x17cd+0x1227*0x1?-(0x747+0x27*-0xe+-0x524):0x1*0xf43+0xa3+0x139*-0xd,_0x1869cb=this['_time']+_0x166af9*this['_component']['speed']*_0x13bab0,_0x5e0030=this['duration'],_0x3e5235=_0x1869cb>_0x5e0030||_0x1869cb<0x12fa+0x731*0x5+-0x31*0x11f;this['_setTime'](_0x1869cb);let _0x223b8d=this['frame'];this['_sprite']?_0x223b8d=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x5e0030):_0x223b8d=-0x76*0x53+-0x1b*-0x30+0x2132,_0x223b8d!==this['_frame']&&this['_setFrame'](_0x223b8d),_0x3e5235&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x56d*0x1+0x1097+-0x1603),this['_paused']=!(0xbaa+-0x2*0x1222+-0x189b*-0x1),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x5c95e4){this['_time']=_0x5c95e4;const _0x5535b9=this['duration'];this['_time']<-0x12*0x199+-0xa2*0x30+0x57*0xae?this['loop']?this['_time']=this['_time']%_0x5535b9+_0x5535b9:this['_time']=-0x173b+0x7*0x182+0xcad:this['_time']>_0x5535b9&&(this['loop']?this['_time']%=_0x5535b9:this['_time']=_0x5535b9);}['_setFrame'](_0x24da3c){this['_sprite']?this['_frame']=z['clamp'](_0x24da3c,0x3*0x567+0x3*0x3e+-0x10ef,this['_sprite']['frameKeys']['length']-(-0x23dc+0x13*-0x18f+0x417a)):this['_frame']=_0x24da3c,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x5a8b92=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x5a8b92['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0x1c89+-0x2650+0x9c7),this['_paused']=!(-0x1de+0x1*-0x1b49+-0x3*-0x9b8),this['frame']=-0x2*0xe9e+-0x1607*0x1+0x4a9*0xb,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(-0x49*-0x6d+-0x6*-0x3f1+-0x36bb),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x13*-0x121+-0x210+0x1784),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x184a+0x1da7+-0x35f0),this['_paused']=!(0xa*0x21e+-0x1392+-0x1*0x199),this['_time']=0x1*0xdee+0x13*-0xcb+0x61*0x3,this['frame']=0xb*-0x33a+-0x1d*-0x7a+0x49*0x4c,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(Ci,'EVENT_PLAY','play'),c(Ci,'EVENT_PAUS'+'E','pause'),c(Ci,'EVENT_RESU'+'ME','resume'),c(Ci,'EVENT_STOP','stop'),c(Ci,'EVENT_END','end'),c(Ci,'EVENT_LOOP','loop');const Rg='texture_em'+'issiveMap',Ig='texture_op'+'acityMap',Dg='material_e'+'missive',Lg='material_o'+'pacity',zI='innerOffse'+'t',UI='outerScale',VI='atlasRect';class Ki extends pe{constructor(_0x458fd9,_0x27216f){super(_0x458fd9,_0x27216f),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Mg,this['_material']=_0x458fd9['defaultMat'+'erial'],this['_color']=new Y(-0x24a8+-0x2603+0x4aac,-0x1368+-0x8*0x477+-0x3721*-0x1,0x3f+-0x185c+0x2ae*0x9,0x63*0x1+-0x1*-0x1c4b+-0x1cad),this['_colorUnif'+'orm']=new Float32Array(0x6b9+-0x7e*-0x2+-0x7b2),this['_speed']=-0x1*-0xce9+-0x29*-0x12+-0x7e5*0x2,this['_flipX']=!(-0x2f9*-0x7+-0x117f+0x4d*-0xb),this['_flipY']=!(0x1f41+0x9e+-0x1fde),this['_width']=0x4*-0x98+-0x124c+0x14ad,this['_height']=-0x944*0x3+-0xb83+0x110*0x25,this['_drawOrder']=0x1dc8+0xcee+0x3e2*-0xb,this['_layers']=[zi],this['_outerScal'+'e']=new W(-0x5f3+0x3*-0xda+0x882,0x11*0x2f+-0x1*0x2e1+-0x3d),this['_outerScal'+'eUniform']=new Float32Array(0x196*-0x8+0x21ba+0x542*-0x4),this['_innerOffs'+'et']=new ee(),this['_innerOffs'+'etUniform']=new Float32Array(-0x44a+-0x6*-0x8+0x41e),this['_atlasRect']=new ee(),this['_atlasRect'+'Uniform']=new Float32Array(0x473*0x7+-0x3*0xc6f+0x14*0x4f),this['_batchGrou'+'pId']=-(-0x1*-0x1210+0xe6+0x12f5*-0x1),this['_batchGrou'+'p']=null,this['_node']=new Oe(),this['_model']=new Ui(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x27216f['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x27216f,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x1128+-0x29e*-0xb+-0x13*0x26b),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Ci(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(0xa7*-0xe+-0xa77+0xd*0x182),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x3ca2fc){this['_type']!==_0x3ca2fc&&(this['_type']=_0x3ca2fc,this['_type']===Mg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Pg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x564718){this['_currentCl'+'ip']['frame']=_0x564718;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x262e95){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x262e95;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x301af9){this['_currentCl'+'ip']['sprite']=_0x301af9;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x61b9f7){this['_material']=_0x61b9f7,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x61b9f7);}get['material'](){return this['_material'];}set['color'](_0x55974d){this['_color']['r']=_0x55974d['r'],this['_color']['g']=_0x55974d['g'],this['_color']['b']=_0x55974d['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0xb8c*-0x2+0x89c+0xe7c]=this['_color']['r'],this['_colorUnif'+'orm'][-0x11a5+-0x1336+0x24dc]=this['_color']['g'],this['_colorUnif'+'orm'][0xb03+-0x1*-0x11e+-0xc1f]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x222b43){this['_color']['a']=_0x222b43,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Lg,_0x222b43);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x330a0d){if(!_0x330a0d){for(const _0x5e41c5 in this['_clips'])this['removeClip'](_0x5e41c5);return;}for(const _0x1f8c88 in this['_clips']){let _0x27f5f1=!(-0x1fb4+-0x1f79+0x1*0x3f2e);for(const _0x37c180 in _0x330a0d)if(_0x330a0d[_0x37c180]['name']===_0x1f8c88){_0x27f5f1=!(-0x2*0x15d+-0x11fa+0x14b4),this['_clips'][_0x1f8c88]['fps']=_0x330a0d[_0x37c180]['fps'],this['_clips'][_0x1f8c88]['loop']=_0x330a0d[_0x37c180]['loop'],_0x330a0d[_0x37c180]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x1f8c88]['sprite']=_0x330a0d[_0x37c180]['sprite']:_0x330a0d[_0x37c180]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x1f8c88]['spriteAsse'+'t']=_0x330a0d[_0x37c180]['spriteAsse'+'t']);break;}_0x27f5f1||this['removeClip'](_0x1f8c88);}for(const _0x597857 in _0x330a0d)this['_clips'][_0x330a0d[_0x597857]['name']]||this['addClip'](_0x330a0d[_0x597857]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0xd5078d){this['_speed']=_0xd5078d;}get['speed'](){return this['_speed'];}set['flipX'](_0x11e5d1){this['_flipX']!==_0x11e5d1&&(this['_flipX']=_0x11e5d1,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x19f339){this['_flipY']!==_0x19f339&&(this['_flipY']=_0x19f339,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x26ee53){_0x26ee53!==this['_width']&&(this['_width']=_0x26ee53,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===st||this['sprite']['renderMode']===ht)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x11de82){_0x11de82!==this['_height']&&(this['_height']=_0x11de82,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===st||this['sprite']['renderMode']===ht)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x395546){var _0x2c2a5a,_0x469dcf;if(this['_batchGrou'+'pId']===_0x395546)return;const _0x219d9e=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x395546,this['entity']['enabled']&&_0x219d9e>=0x70*0x3+0x1389+-0x14d9&&((_0x2c2a5a=this['system']['app']['batcher'])==null||_0x2c2a5a['remove'](rt['SPRITE'],_0x219d9e,this['entity'])),this['entity']['enabled']&&_0x395546>=0x1f4d+0x2*0xdd1+-0x3aef?(_0x469dcf=this['system']['app']['batcher'])==null||_0x469dcf['insert'](rt['SPRITE'],_0x395546,this['entity']):_0x219d9e>=0x7*-0x43f+-0xf54+0x2d0d&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x257ff6){this['_autoPlayC'+'lip']=_0x257ff6 instanceof Ci?_0x257ff6['name']:_0x257ff6,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x483ed3){this['_drawOrder']=_0x483ed3,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x483ed3);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0xd45ca8){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0xd45ca8,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x22e39f;const _0x15a144=this['system']['app'],_0x4c1740=_0x15a144['scene'],_0x4f09bc=_0x4c1740['layers'];this['_evtLayers'+'Changed']=_0x4c1740['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x4f09bc&&(this['_evtLayerA'+'dded']=_0x4f09bc['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x4f09bc['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x8*-0x3c5+0x1179+-0x2fa1&&((_0x22e39f=_0x15a144['batcher'])==null||_0x22e39f['insert'](rt['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x40a073,_0x9a136a,_0x56be5a,_0x19d103;const _0x4f2225=this['system']['app'],_0x2d8b30=_0x4f2225['scene']['layers'];(_0x40a073=this['_evtLayers'+'Changed'])==null||_0x40a073['off'](),this['_evtLayers'+'Changed']=null,_0x2d8b30&&((_0x9a136a=this['_evtLayerA'+'dded'])==null||_0x9a136a['off'](),this['_evtLayerA'+'dded']=null,(_0x56be5a=this['_evtLayerR'+'emoved'])==null||_0x56be5a['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x36e*0x2+-0x109*-0x25+-0x2d29&&((_0x19d103=_0x4f2225['batcher'])==null||_0x19d103['remove'](rt['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x5cf1b8;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0xc4977b in this['_clips'])this['_clips'][_0xc4977b]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x5cf1b8=this['_node'])==null||_0x5cf1b8['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0xe64779=[this['_meshInsta'+'nce']];for(let _0x1d624a=-0x157d*0x1+0x1094+-0x4e9*-0x1,_0x40a8a9=this['_layers']['length'];_0x1d624a<_0x40a8a9;_0x1d624a++){const _0x27c5c9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1d624a]);_0x27c5c9&&_0x27c5c9['addMeshIns'+'tances'](_0xe64779);}this['_addedMode'+'l']=!(-0xd9*0x29+0x98+0x2229);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x236213=[this['_meshInsta'+'nce']];for(let _0x4e2e50=0x23ba+-0x3*0xafd+-0x1*0x2c3,_0x49e1c9=this['_layers']['length'];_0x4e2e50<_0x49e1c9;_0x4e2e50++){const _0x45be1b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4e2e50]);_0x45be1b&&_0x45be1b['removeMesh'+'Instances'](_0x236213);}this['_addedMode'+'l']=!(0x1759*-0x1+0x16cb+0xd*0xb);}['_showFrame'](_0x585ce6){if(!this['sprite'])return;const _0x231844=this['sprite']['meshes'][_0x585ce6];if(!_0x231844){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x20*-0x46+-0x721+-0x1*-0xfe2));return;}let _0x3b6e82;if(this['sprite']['renderMode']===ht?_0x3b6e82=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===st?_0x3b6e82=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x3b6e82=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Be(_0x231844,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x2428+-0x7*-0x1f7+-0x4*0xc7a),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(0x486+0x25c5+-0x2a4a),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0xae9+-0x1653+0xb6a]=this['_color']['r'],this['_colorUnif'+'orm'][0x1016*0x2+0x1*0x16db+-0x2*0x1b83]=this['_color']['g'],this['_colorUnif'+'orm'][-0x67*0x53+-0x1*0x2563+-0x46ca*-0x1]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Lg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x3b6e82&&(this['_meshInsta'+'nce']['material']=_0x3b6e82),this['_meshInsta'+'nce']['mesh']!==_0x231844&&(this['_meshInsta'+'nce']['mesh']=_0x231844,this['_meshInsta'+'nce']['visible']=!(-0xa3*0x29+-0xdfd+-0x2818*-0x1),this['_meshInsta'+'nce']['_aabbVer']=-(0x4c7*-0x7+0x369+-0xb*-0x2bb)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Rg),this['_meshInsta'+'nce']['deletePara'+'meter'](Ig)),this['sprite']['atlas']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x1e5130=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x585ce6]];if(_0x1e5130){const _0x685663=(0x158f+-0x2693+0x1106)/_0x1e5130['rect']['z'],_0x112fd8=(-0x208d+0x2*0xbe9+0x8bd)/_0x1e5130['rect']['w'];this['_innerOffs'+'et']['set'](_0x1e5130['border']['x']*_0x685663,_0x1e5130['border']['y']*_0x112fd8,_0x1e5130['border']['z']*_0x685663,_0x1e5130['border']['w']*_0x112fd8);const _0x48fedd=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x1e5130['rect']['x']/_0x48fedd['width'],_0x1e5130['rect']['y']/_0x48fedd['height'],_0x1e5130['rect']['z']/_0x48fedd['width'],_0x1e5130['rect']['w']/_0x48fedd['height']);}else this['_innerOffs'+'et']['set'](-0x18c7*0x1+0x20ed+0x826*-0x1,0x25*-0xba+0x180e+0x2d4,0x583*0x1+0x1b34+0x20b7*-0x1,-0x1ec7+-0x725+0xc*0x329);this['_innerOffs'+'etUniform'][0x943+0x1*-0xca0+0x35d]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][-0x21*-0x85+0x2*0xb15+-0x274e]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0xd*0x9d+0x269a+-0x2e91]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1*-0x393+0x1*0x12f9+-0xd*0x12f]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x2297+-0x168*0x19+0x45bf]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x2b9+0x2d0*-0x5+0x18*0x79]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x127d*-0x1+-0x1c2d*0x1+0x2eac]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1b34+-0x18*-0x14c+-0x3e9]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](VI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x2b1b7b=this['flipX']?-(-0x268f+-0x1*-0xf5f+0x1731):-0xcce+0xd26+-0x3*0x1d,_0x1133d5=this['flipY']?-(0x371*-0x9+-0x951+0x284b*0x1):-0x1124+-0x1538+0x7*0x57b,_0x45afa7=-0x35*-0x94+-0x8c*0x44+0x68c,_0x440fa7=-0x3ca+-0x407*-0x2+0xc*-0x5b;if(this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){let _0x1c6160=0x2306+-0x2624+-0x11*-0x2f,_0x1e391d=0x1fd9+0x139c+-0x3374;if(this['sprite']['atlas']){const _0x5bd808=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x5bd808&&(_0x1c6160=_0x5bd808['rect']['z'],_0x1e391d=_0x5bd808['rect']['w'],_0x45afa7=(0xe29+0x19*-0x112+0xc99+0.5-_0x5bd808['pivot']['x'])*this['_width'],_0x440fa7=(-0x1bad+0x122f+0x5a*0x1b+0.5-_0x5bd808['pivot']['y'])*this['_height']);}const _0x1c28a6=_0x1c6160/this['sprite']['pixelsPerU'+'nit'],_0x2b4d7d=_0x1e391d/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x1c28a6),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x2b4d7d)),_0x2b1b7b*=_0x1c28a6,_0x1133d5*=_0x2b4d7d,this['_outerScal'+'e']['x']/=_0x1c28a6,this['_outerScal'+'e']['y']/=_0x2b4d7d,_0x2b1b7b*=z['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x1c28a6),-0x23*0x11d+-0x1*-0x132d+0x13ca+0.0001,-0x1*0x42+0x6d1+-0x68e),_0x1133d5*=z['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x2b4d7d),-0xe99+0xb2*-0xf+0x1907+0.0001,0x141a+-0x15b5+-0x19c*-0x1),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0xa16+-0x1*0x1e32+-0x27*-0x84]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0xa7e+0x1888+-0xe09*0x1]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x2b1b7b,_0x1133d5,-0x3ea*0x7+-0x254+0x2b*0xb1),this['_node']['setLocalPo'+'sition'](_0x45afa7,_0x440fa7,-0x24f1+-0x1816+-0x1*-0x3d07);}['_updateAab'+'b'](_0x3b8a3e){return _0x3b8a3e['center']['set'](0x1cf9+0x11ac+-0x2ea5*0x1,0x2*-0x12bc+0xdd*-0xe+0x318e,0x113a+0x1*0x15d1+0x7cf*-0x5),_0x3b8a3e['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1*0x1016+-0xc63+0x1*-0x3b3+0.5),this['_outerScal'+'e']['y']*(-0x1faf+-0x1d*-0x13d+-0x43a+0.5),0x479+0x1*-0x23c5+0x1f4c+0.001),_0x3b8a3e['setFromTra'+'nsformedAa'+'bb'](_0x3b8a3e,this['_node']['getWorldTr'+'ansform']()),_0x3b8a3e;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Pg)return;const _0x25efa6=this['_clips'][this['_autoPlayC'+'lip']];_0x25efa6&&!_0x25efa6['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x25efa6['name']);}['_onLayersC'+'hanged'](_0x23e13d,_0x429ac3){_0x23e13d['off']('add',this['onLayerAdd'+'ed'],this),_0x23e13d['off']('remove',this['onLayerRem'+'oved'],this),_0x429ac3['on']('add',this['onLayerAdd'+'ed'],this),_0x429ac3['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x226436){this['layers']['indexOf'](_0x226436['id'])<0x1e41+0x1492+0x1*-0x32d3||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x226436['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x2c666d){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x2c666d['id'])<-0x1f*-0x73+0x142c+-0xcb*0x2b||_0x2c666d['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x43a028=0xc23+-0x32f*0x1+-0xbf*0xc;_0x43a028<this['layers']['length'];_0x43a028++){const _0x3ba3a9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x43a028]);_0x3ba3a9&&_0x3ba3a9['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x422e6f){const _0x425359=new Ci(this,{'name':_0x422e6f['name'],'fps':_0x422e6f['fps'],'loop':_0x422e6f['loop'],'spriteAsset':_0x422e6f['spriteAsse'+'t']});return this['_clips'][_0x422e6f['name']]=_0x425359,_0x425359['name']&&_0x425359['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x425359;}['removeClip'](_0x50967d){delete this['_clips'][_0x50967d];}['clip'](_0x546669){return this['_clips'][_0x546669];}['play'](_0x3a2789){const _0x1ad44a=this['_clips'][_0x3a2789],_0x554f7d=this['_currentCl'+'ip'];return _0x554f7d&&_0x554f7d!==_0x1ad44a&&(_0x554f7d['_playing']=!(0x13fe+-0xf*0x199+0x3fa)),this['_currentCl'+'ip']=_0x1ad44a,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x1ad44a,this['_currentCl'+'ip']['play']()):b['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x3a2789+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x1ad44a;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(Ki,'EVENT_PLAY','play'),c(Ki,'EVENT_PAUS'+'E','pause'),c(Ki,'EVENT_RESU'+'ME','resume'),c(Ki,'EVENT_STOP','stop'),c(Ki,'EVENT_END','end'),c(Ki,'EVENT_LOOP','loop');class GI{constructor(){this['enabled']=!(-0x1*0x1777+-0x23fe+-0x1*-0x3b75);}}const vx=['enabled'];class HI extends Qe{constructor(_0x748885){super(_0x748885),this['id']='sprite',this['ComponentT'+'ype']=Ki,this['DataType']=GI,this['schema']=vx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x2a94e6){this['_defaultMa'+'terial']=_0x2a94e6;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x477cf9=new ce(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Te,'name':'sprite'}),_0x7ad941=new Uint8Array(_0x477cf9['lock']());_0x7ad941[0xc*0x2c2+-0x3*0x827+-0x8a3]=_0x7ad941[-0xbf2*0x1+0x3*-0x27d+0x136a]=_0x7ad941[-0x5ed*0x1+-0x94f+0xf3e]=_0x7ad941[0xc2*-0x1d+-0x70b+0x8*0x3a1]=0x4f*-0x1c+0x94d+0x56*0x1,_0x477cf9['unlock']();const _0x56da98=new _s();_0x56da98['diffuse']['set'](0x6ab+-0x1*-0x257+-0x902,-0xe16*0x2+0xf19+-0x1*-0xd13,-0x1*0xeb7+0xdee+0xc9),_0x56da98['emissive']['set'](-0x196*0x16+-0x79c+0x2a81,-0x2*-0xd19+-0xdd5*0x1+0xe2*-0xe,0x246f+-0x175b+-0xd13),_0x56da98['emissiveMa'+'p']=_0x477cf9,_0x56da98['opacityMap']=_0x477cf9,_0x56da98['opacityMap'+'Channel']='a',_0x56da98['useLightin'+'g']=!(-0x1097+-0x13e9+-0x15*-0x1bd),_0x56da98['useTonemap']=!(0x21ef+0x21*-0xc3+0x1*-0x8cb),_0x56da98['useFog']=!(0xcf6+0x25c1+-0x32b6),_0x56da98['useSkybox']=!(0x2380+0x2168+0x44e7*-0x1),_0x56da98['blendType']=dn,_0x56da98['depthWrite']=!(0x1462+0x1*-0x2091+0x28*0x4e),_0x56da98['pixelSnap']=!(-0x1aa0+0x9*0x25c+-0x565*-0x1),_0x56da98['cull']=vt,_0x56da98['update'](),this['_defaultTe'+'xture']=_0x477cf9,this['_defaultMa'+'terial']=_0x56da98;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x4c4e93){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x4c4e93;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x1fc7e3=this['defaultMat'+'erial']['clone']();_0x1fc7e3['nineSliced'+'Mode']=ht,_0x1fc7e3['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x1fc7e3;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x40cda1){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x40cda1;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x3c1a1c=this['defaultMat'+'erial']['clone']();_0x3c1a1c['nineSliced'+'Mode']=st,_0x3c1a1c['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x3c1a1c;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x3890e8,_0x40383c,_0x3d3d1c){if(_0x40383c['enabled']!==void(-0x1*0x4c7+0x1044+0x1*-0xb7d)&&(_0x3890e8['enabled']=_0x40383c['enabled']),_0x3890e8['type']=_0x40383c['type'],_0x40383c['layers']&&Array['isArray'](_0x40383c['layers'])&&(_0x3890e8['layers']=_0x40383c['layers']['slice'](0x2115+-0x174b+-0x7*0x166)),_0x40383c['drawOrder']!==void(0x22ee+-0x22d+-0x20c1)&&(_0x3890e8['drawOrder']=_0x40383c['drawOrder']),_0x40383c['color']!==void(-0x1345+0x1b91*-0x1+-0x5*-0x95e)&&(_0x40383c['color']instanceof Y?_0x3890e8['color']['set'](_0x40383c['color']['r'],_0x40383c['color']['g'],_0x40383c['color']['b'],_0x40383c['opacity']??0x2575*-0x1+0xc2*0x7+0x38*0x93):_0x3890e8['color']['set'](_0x40383c['color'][0xd*0x3b+-0x1d78+-0x1b*-0xfb],_0x40383c['color'][-0x95c+-0x420+0xd7d],_0x40383c['color'][0x10ab+0x2*0x659+-0x5*0x5df],_0x40383c['opacity']??0x1*-0x533+-0x191*-0x8+-0x754),_0x3890e8['color']=_0x3890e8['color']),_0x40383c['opacity']!==void(-0x7*0x22e+-0x1c70+-0x7*-0x63e)&&(_0x3890e8['opacity']=_0x40383c['opacity']),_0x40383c['flipX']!==void(0x26a5+-0x35b*-0x3+-0x30b6)&&(_0x3890e8['flipX']=_0x40383c['flipX']),_0x40383c['flipY']!==void(-0x29*0x65+-0x164b+0x8*0x4cf)&&(_0x3890e8['flipY']=_0x40383c['flipY']),_0x40383c['width']!==void(-0x72+0xe62+-0xdf0*0x1)&&(_0x3890e8['width']=_0x40383c['width']),_0x40383c['height']!==void(0x200d+0x13f0+-0x1*0x33fd)&&(_0x3890e8['height']=_0x40383c['height']),_0x40383c['spriteAsse'+'t']!==void(0x9fe+-0x1*-0x1f51+-0x294f)&&(_0x3890e8['spriteAsse'+'t']=_0x40383c['spriteAsse'+'t']),_0x40383c['sprite']&&(_0x3890e8['sprite']=_0x40383c['sprite']),_0x40383c['frame']!==void(-0x858+-0x11*-0x10c+-0x974)&&(_0x3890e8['frame']=_0x40383c['frame']),_0x40383c['clips']){for(const _0x1bd78e in _0x40383c['clips'])_0x3890e8['addClip'](_0x40383c['clips'][_0x1bd78e]);}_0x40383c['speed']!==void(-0xc50+-0x1b8e+-0x3*-0xd4a)&&(_0x3890e8['speed']=_0x40383c['speed']),_0x40383c['autoPlayCl'+'ip']&&(_0x3890e8['autoPlayCl'+'ip']=_0x40383c['autoPlayCl'+'ip']),_0x3890e8['batchGroup'+'Id']=_0x40383c['batchGroup'+'Id']===void(-0x201e+-0x851+0x286f)||_0x40383c['batchGroup'+'Id']===null?-(0x10d*-0x1+0x45d*-0x8+0x23f6):_0x40383c['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x3890e8,_0x40383c,_0x3d3d1c);}['cloneCompo'+'nent'](_0x92b717,_0x52e3ea){const _0x2d0c53=_0x92b717['sprite'];return this['addCompone'+'nt'](_0x52e3ea,{'enabled':_0x2d0c53['enabled'],'type':_0x2d0c53['type'],'spriteAsset':_0x2d0c53['spriteAsse'+'t'],'sprite':_0x2d0c53['sprite'],'width':_0x2d0c53['width'],'height':_0x2d0c53['height'],'frame':_0x2d0c53['frame'],'color':_0x2d0c53['color']['clone'](),'opacity':_0x2d0c53['opacity'],'flipX':_0x2d0c53['flipX'],'flipY':_0x2d0c53['flipY'],'speed':_0x2d0c53['speed'],'clips':_0x2d0c53['clips'],'autoPlayClip':_0x2d0c53['autoPlayCl'+'ip'],'batchGroupId':_0x2d0c53['batchGroup'+'Id'],'drawOrder':_0x2d0c53['drawOrder'],'layers':_0x2d0c53['layers']['slice'](-0x67a*0x1+0x696+-0x1c)});}['onUpdate'](_0x18adc2){const _0x10d13f=this['store'];for(const _0x391ce8 in _0x10d13f)if(_0x10d13f['hasOwnProp'+'erty'](_0x391ce8)){const _0x297bba=_0x10d13f[_0x391ce8];if(_0x297bba['data']['enabled']&&_0x297bba['entity']['enabled']){const _0x1a9882=_0x297bba['entity']['sprite'];_0x1a9882['_currentCl'+'ip']&&_0x1a9882['_currentCl'+'ip']['_update'](_0x18adc2);}}}['onBeforeRe'+'move'](_0x1d9ef5,_0x31ee16){_0x31ee16['onDestroy']();}}pe['_buildAcce'+'ssors'](Ki['prototype'],vx);class aa extends pe{constructor(_0x4450f7,_0x54a86d){super(_0x4450f7,_0x54a86d),this['_oldState']=!(-0x25*-0x106+-0x1f34*0x1+-0x6aa),this['_size']=new A(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0xd2d0de){_0xd2d0de instanceof A?this['_size']['copy'](_0xd2d0de):_0xd2d0de instanceof Array&&_0xd2d0de['length']>=-0x10dc+-0x50*-0x30+-0x1df*-0x1&&this['size']['set'](_0xd2d0de[0x8c3*-0x1+-0x1a*0xc2+0x1c77],_0xd2d0de[0x1be2+0x1c4f*-0x1+-0xb*-0xa],_0xd2d0de[-0x65*-0x17+0x14d3+-0x1de4]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x3e496a,_0x426bd9,_0x509228){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x483ad6=this['enabled']&&this['entity']['enabled'];_0x483ad6!==this['_oldState']&&(this['_oldState']=_0x483ad6,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(aa,'EVENT_ENAB'+'LE','enable'),c(aa,'EVENT_DISA'+'BLE','disable'),c(aa,'EVENT_STAT'+'E','state'),c(aa,'EVENT_REMO'+'VE','remove');class WI{constructor(){this['enabled']=!(-0x1*-0x14e7+0x136c+-0x117*0x25);}}const bx=['enabled'];class $I extends Qe{constructor(_0x2bdf97){super(_0x2bdf97),this['id']='zone',this['ComponentT'+'ype']=aa,this['DataType']=WI,this['schema']=bx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x6a1a2a,_0x4abbca,_0x3bdb8c){_0x6a1a2a['enabled']=_0x4abbca['hasOwnProp'+'erty']('enabled')?!!_0x4abbca['enabled']:!(-0x319*-0x2+-0x5*0x2ef+0x879),_0x4abbca['size']&&(_0x4abbca['size']instanceof A?_0x6a1a2a['size']['copy'](_0x4abbca['size']):_0x4abbca['size']instanceof Array&&_0x4abbca['size']['length']>=-0x2445+-0x1*0x20d3+0x451b*0x1&&_0x6a1a2a['size']['set'](_0x4abbca['size'][0x9b6+0x4f*-0x65+-0x727*-0x3],_0x4abbca['size'][0x214e+0x7*0x2b9+0x2*-0x1a2e],_0x4abbca['size'][0x5b1+-0xbbd+-0x2*-0x307]));}['cloneCompo'+'nent'](_0x5061d4,_0x1104e6){const _0x5bfe24={'enabled':_0x5061d4['zone']['enabled'],'size':_0x5061d4['zone']['size']};return this['addCompone'+'nt'](_0x1104e6,_0x5bfe24);}['_onBeforeR'+'emove'](_0x534bb2,_0x4df15c){_0x4df15c['_onBeforeR'+'emove']();}}pe['_buildAcce'+'ssors'](aa['prototype'],bx);class qI{constructor(_0x1dba07,_0x147391){this['effect']=_0x1dba07,this['inputTarge'+'t']=_0x147391,this['outputTarg'+'et']=null,this['name']=_0x1dba07['constructo'+'r']['name'];}}class XI{constructor(_0x50cb2b,_0x45137f){this['app']=_0x50cb2b,this['camera']=_0x45137f,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0xf63+-0x24b+-0xd17),this['depthTarge'+'t']=null,_0x45137f['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x57cf7f,_0x11956e){const _0x578f5f=this['camera']['rect'],_0x2f766a=this['destinatio'+'nRenderTar'+'get'],_0x2bab17=this['app']['graphicsDe'+'vice'],_0x515afa=Math['floor'](_0x578f5f['z']*((_0x2f766a==null?void(0x1196+-0x1cb8+0x591*0x2):_0x2f766a['width'])??_0x2bab17['width'])),_0x3c7995=Math['floor'](_0x578f5f['w']*((_0x2f766a==null?void(-0x11*-0x8f+-0x1b7e+-0x1*-0x11ff):_0x2f766a['height'])??_0x2bab17['height']));return new ce(_0x2bab17,{'name':_0x11956e,'format':_0x57cf7f,'width':_0x515afa,'height':_0x3c7995,'mipmaps':!(0x4b9+-0x12d4+0xe1c),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});}['_createOff'+'screenTarg'+'et'](_0xc6dcc5,_0x3eb64f){const _0x10cc13=this['app']['graphicsDe'+'vice'],_0x2cd098=(this['destinatio'+'nRenderTar'+'get']??_0x10cc13['backBuffer'])['isColorBuf'+'ferSrgb'](0x1da*0x4+0x70*0x10+-0x39a*0x4),_0x3bd69d=(_0x3eb64f&&_0x10cc13['getRendera'+'bleHdrForm'+'at']([it,et],!(-0x1*0x1a37+-0x25df+-0x1*-0x4016)))??(_0x2cd098?cs:Te),_0x49b05f=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x50e197=this['_allocateC'+'olorBuffer'](_0x3bd69d,_0x49b05f);return new St({'colorBuffer':_0x50e197,'depth':_0xc6dcc5,'stencil':_0xc6dcc5&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0xc6dcc5?_0x10cc13['samples']:0x107*-0x7+-0x102a+0x175c*0x1});}['_resizeOff'+'screenTarg'+'et'](_0x40ece4){const _0x138d6d=_0x40ece4['colorBuffe'+'r']['format'],_0x56340a=_0x40ece4['colorBuffe'+'r']['name'];_0x40ece4['destroyFra'+'meBuffers'](),_0x40ece4['destroyTex'+'tureBuffer'+'s'](),_0x40ece4['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x138d6d,_0x56340a),_0x40ece4['_colorBuff'+'ers']=[_0x40ece4['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x2745f5){_0x2745f5['destroyTex'+'tureBuffer'+'s'](),_0x2745f5['destroy']();}['addEffect'](_0x1fcd7a){const _0x2a7561=this['effects'],_0x1d07ca=_0x2a7561['length']===0x4*-0x97a+-0x1*-0x351+0x2297,_0x261209=this['_createOff'+'screenTarg'+'et'](_0x1d07ca,_0x1fcd7a['hdr']),_0x1a4f03=new qI(_0x1fcd7a,_0x261209);_0x2a7561['push'](_0x1a4f03),this['_sourceTar'+'get']=_0x1a4f03['inputTarge'+'t'],_0x2a7561['length']>0xf6e*0x1+-0x78b+-0x3f1*0x2&&(_0x2a7561[_0x2a7561['length']-(0x299*-0x1+-0xba+0x355)]['outputTarg'+'et']=_0x1a4f03['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x1fcd7a,_0x1fcd7a['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x4*-0x679+0x1d41+-0x3725);}['removeEffe'+'ct'](_0x23979a){let _0x6286c2=-(0x452*0x2+-0x1c07+-0x1364*-0x1);for(let _0x481bee=-0x1fc0+-0x1a0b+0x39cb,_0x105c81=this['effects']['length'];_0x481bee<_0x105c81;_0x481bee++)if(this['effects'][_0x481bee]['effect']===_0x23979a){_0x6286c2=_0x481bee;break;}_0x6286c2>=-0x2f*-0x45+0x9*-0x1bc+0x2f1&&(_0x6286c2>-0x6b2+0x47*0x52+-0x100c?this['effects'][_0x6286c2-(-0x9f5*-0x1+0x14d0+-0x1ec4)]['outputTarg'+'et']=_0x6286c2+(0x19f0+-0x12cc+-0x723)<this['effects']['length']?this['effects'][_0x6286c2+(-0x950+0x8cb*-0x2+0x1ae7)]['inputTarge'+'t']:null:this['effects']['length']>-0x13b9+-0xaa2*-0x1+0x918&&(this['effects'][-0xf8d*0x2+-0x4ce+-0x13d*-0x1d]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1*0xc59+0x1a59+0x5*-0x7bd]['inputTarge'+'t']),this['effects'][-0x54f*0x2+0x1c1*-0x3+0xfe2]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x8*0xbc+0x19fd*0x1+-0x1fdd),this['effects'][-0x462+-0x2ed*0xb+0x1249*0x2]['hdr']),this['_sourceTar'+'get']=this['effects'][0x1*0x2405+-0x15a9*-0x1+-0x39ad]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x232*0x3+-0xb85+-0x1*-0x4f0]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x6286c2]['inputTarge'+'t']),this['effects']['splice'](_0x6286c2,0x1*-0x17e5+0x497+0x134f)),this['enabled']&&_0x23979a['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x1a1*0x11+-0x4d3*-0x5+-0xcf4*0x4&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x2303b5=0x7e7*-0x2+-0x1e60*-0x1+-0xe92,_0x4df749=this['effects']['length'];_0x2303b5<_0x4df749;_0x2303b5++){const _0xa6a4e2=this['effects'][_0x2303b5]['effect'];this['_newPostEf'+'fect']!==_0xa6a4e2&&_0xa6a4e2['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x256d48=-0xfbb+-0x805+0x17c0,_0x5d1d51=this['effects']['length'];_0x256d48<_0x5d1d51;_0x256d48++)this['effects'][_0x256d48]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0xcb6bf7=this['app']['scene']['layers']['getLayerBy'+'Id'](es);_0xcb6bf7&&(_0xcb6bf7['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1631+0x60c+0x1c3d*-0x1)));}['_releaseDe'+'pthMap'](){const _0xb8997b=this['app']['scene']['layers']['getLayerBy'+'Id'](es);_0xb8997b&&(_0xb8997b['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x1*0x14a1+0x4*-0x77+0x1*0x167e)));}['destroy'](){for(let _0x1b27fa=-0x4*0x28f+0x223d+0x5*-0x4cd,_0x30fb74=this['effects']['length'];_0x1b27fa<_0x30fb74;_0x1b27fa++)this['effects'][_0x1b27fa]['inputTarge'+'t']['destroy']();this['effects']['length']=0x3e1+0x15c5+-0x19a6,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x12f8+-0x1a00+0x2cf8),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][-0x140c*0x1+0xf25*-0x1+0x2331]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x59d037=null;const _0x4e15e3=this['effects']['length'];if(_0x4e15e3)for(let _0x230a91=-0x2f9*0x1+0x1*-0x8b8+0xbb1;_0x230a91<_0x4e15e3;_0x230a91++){const _0xbc8f9f=this['effects'][_0x230a91];let _0x524f70=_0xbc8f9f['outputTarg'+'et'];_0x230a91===_0x4e15e3-(0x6cd*0x5+-0x1*0x12b3+0xf4d*-0x1)&&(_0x59d037=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x524f70=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0xbc8f9f['name']),_0xbc8f9f['effect']['render'](_0xbc8f9f['inputTarge'+'t'],_0x524f70,_0x59d037),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(0xd4*-0x5+-0x186c+0x67*0x47),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x1db689,_0x46f81b){const _0x97696d=this['camera']['rect'],_0xbb2d7c=this['destinatio'+'nRenderTar'+'get'];_0x1db689=(_0xbb2d7c==null?void(0x1*0x1822+-0x26ea+0x2b*0x58):_0xbb2d7c['width'])??_0x1db689,_0x46f81b=(_0xbb2d7c==null?void(0x1638*0x1+0x1833+0x33*-0xe9):_0xbb2d7c['height'])??_0x46f81b,this['camera']['camera']['aspectRati'+'o']=_0x1db689*_0x97696d['z']/(_0x46f81b*_0x97696d['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x1fd856=this['app']['graphicsDe'+'vice'],_0x2f00bc=this['destinatio'+'nRenderTar'+'get'],_0x30df6a=(_0x2f00bc==null?void(-0x535*-0x7+-0x66b+0x3c1*-0x8):_0x2f00bc['width'])??_0x1fd856['width'],_0x5574bd=(_0x2f00bc==null?void(0x8e*0x1+0x1*-0x1f7+0x1*0x169):_0x2f00bc['height'])??_0x1fd856['height'],_0x8f7a66=this['camera']['rect'],_0x218a2c=Math['floor'](_0x8f7a66['z']*_0x30df6a),_0x2670ec=Math['floor'](_0x8f7a66['w']*_0x5574bd),_0x33a32e=this['effects'];for(let _0x28a755=-0x1bcd+-0x13*0x166+0x365f,_0xd1071d=_0x33a32e['length'];_0x28a755<_0xd1071d;_0x28a755++){const _0x29ef54=_0x33a32e[_0x28a755];(_0x29ef54['inputTarge'+'t']['width']!==_0x218a2c||_0x29ef54['inputTarge'+'t']['height']!==_0x2670ec)&&this['_resizeOff'+'screenTarg'+'et'](_0x29ef54['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x53f0ab,_0x9e0796,_0x36ba6c){this['enabled']&&this['resizeRend'+'erTargets']();}}class wx extends pe{constructor(_0x233f1c,_0x2a0e3b){super(_0x233f1c,_0x2a0e3b),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',0x2f9*-0xd+0x1426+0x127f),c(this,'_renderSce'+'neColorMap',-0x9d6+0x19ea+-0x1014),c(this,'_sceneDept'+'hMapReques'+'ted',!(-0x13f2+0x416*-0x7+0x102f*0x3)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x1262+-0x5b+-0x1206)),c(this,'_priority',0x1*0x999+0xc2d+-0x15c6),c(this,'_disablePo'+'stEffectsL'+'ayer',nl),c(this,'_camera',new dl()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x2a0e3b,this['_postEffec'+'ts']=new XI(_0x233f1c['app'],this));}['setShaderP'+'ass'](_0x69d7d5){const _0x268257=ti['get'](this['system']['app']['graphicsDe'+'vice']),_0x41536e=_0x69d7d5?_0x268257['allocate'](_0x69d7d5,{'isForward':!(-0x8fa+0x255*0x9+-0xc03)}):null;return this['_camera']['shaderPass'+'Info']=_0x41536e,_0x41536e['index'];}['getShaderP'+'ass'](){var _0x254b76;return(_0x254b76=this['_camera']['shaderPass'+'Info'])==null?void(0x1d5d+-0x1934+-0xd5*0x5):_0x254b76['name'];}set['renderPass'+'es'](_0xa64f02){this['_camera']['renderPass'+'es']=_0xa64f02||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0xda*0x11+0x1*-0x891+0x170b);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x778d7b){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x778d7b;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x25d453){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x25d453;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x4e11d7){this['_camera']['fogParams']=_0x4e11d7;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x5c93a1){this['_camera']['aperture']=_0x5c93a1;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x3d204f){this['_camera']['aspectRati'+'o']=_0x3d204f;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x3f2b6a){this['_camera']['aspectRati'+'oMode']=_0x3f2b6a;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x111039){this['_camera']['calculateP'+'rojection']=_0x111039;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x4556c2){this['_camera']['calculateT'+'ransform']=_0x4556c2;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x5a2a2f){this['_camera']['clearColor']=_0x5a2a2f;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x42ed03){this['_camera']['clearColor'+'Buffer']=_0x42ed03,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x28bd84){this['_camera']['clearDepth'+'Buffer']=_0x28bd84,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x12fa86){this['_camera']['clearStenc'+'ilBuffer']=_0x12fa86,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x450513){this['_camera']['cullFaces']=_0x450513;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x5ad894){this['_disablePo'+'stEffectsL'+'ayer']=_0x5ad894,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x6ae6a5){this['_camera']['farClip']=_0x6ae6a5;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x588521){this['_camera']['flipFaces']=_0x588521;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x5463ba){this['_camera']['fov']=_0x5463ba;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x24a769){this['_camera']['frustumCul'+'ling']=_0x24a769;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x30ac53){this['_camera']['horizontal'+'Fov']=_0x30ac53;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x4f1b9c){const _0x5828b9=this['_camera']['layers'],_0x150c5b=this['system']['app']['scene'];_0x5828b9['forEach'](_0x2d32ba=>{const _0x265f63=_0x150c5b['layers']['getLayerBy'+'Id'](_0x2d32ba);_0x265f63==null||_0x265f63['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x4f1b9c,this['enabled']&&this['entity']['enabled']&&_0x4f1b9c['forEach'](_0x38a76a=>{const _0x1d0674=_0x150c5b['layers']['getLayerBy'+'Id'](_0x38a76a);_0x1d0674==null||_0x1d0674['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x4a4126){this['_camera']['jitter']=_0x4a4126;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x3e16f8){this['_camera']['nearClip']=_0x3e16f8;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x5878c9){this['_camera']['orthoHeigh'+'t']=_0x5878c9;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x2a6905){this['_priority']=_0x2a6905,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x43636f){this['_camera']['projection']=_0x43636f;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x174ae1){this['_camera']['rect']=_0x174ae1,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x3cc5b4){_0x3cc5b4&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0xbfd+0x1758*-0x1+0x2355)),this['_sceneColo'+'rMapReques'+'ted']=!(0x3f+-0x15e1+0x15a2)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0xba6+-0x24af+0x5*0x502)),this['_sceneColo'+'rMapReques'+'ted']=!(0xf09+0xc95+-0x1*0x1b9d));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>0x11*0x3d+0x1607*0x1+0xd0a*-0x2;}set['renderScen'+'eDepthMap'](_0x540b5c){_0x540b5c&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(-0x1*0x1d9f+0x2a6+0x1af9*0x1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x92*-0x29+0x1*0x55d+-0x1205*-0x1)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x2*-0x5d6+-0x9d9+-0x1d2)),this['_sceneDept'+'hMapReques'+'ted']=!(0xd2f*0x1+0x47*0x26+-0x17b8));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x1*-0x11d2+-0x1*-0x1922+0x3*-0x270;}set['renderTarg'+'et'](_0x3edbb3){b['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x971+-0x1*-0xfa3+-0x1914&&b['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x3edbb3,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x194a9c){this['_camera']['scissorRec'+'t']=_0x194a9c;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x3c90f5){this['_camera']['sensitivit'+'y']=_0x3c90f5;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x3c640a){this['_camera']['shutter']=_0x3c640a;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x25245e){if(this['layers']['find'](_0x5dbf4e=>_0x5dbf4e===es)){const _0x57e3f6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x25245e?_0x57e3f6==null||_0x57e3f6['incrementC'+'ounter']():_0x57e3f6==null||_0x57e3f6['decrementC'+'ounter']();}else{if(_0x25245e)return!(0x1*-0x6bb+-0x1826+-0x3b*-0x86);}return!(-0x409+-0x9db+0x1fc*0x7);}['requestSce'+'neColorMap'](_0x60fbb7){this['_renderSce'+'neColorMap']+=_0x60fbb7?0xcc6+0x242*-0xb+0xc11:-(-0x773+-0xb*0x2b7+0x2551),b['assert'](this['_renderSce'+'neColorMap']>=0x1f78*-0x1+0xb*-0x36f+0x1*0x453d),this['_enableDep'+'thLayer'](_0x60fbb7)||b['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x51c41b){this['_renderSce'+'neDepthMap']+=_0x51c41b?0x1234+-0x1cfa+0xac7:-(0x1*-0x2681+0x2206+0x52*0xe),b['assert'](this['_renderSce'+'neDepthMap']>=0x2652+-0x1fda+0xc*-0x8a),this['_enableDep'+'thLayer'](_0x51c41b)||b['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x4ceb86=this['system']['app']['scene']['layers'];_0x4ceb86['_dirty']=!(-0x1faf+0x2602+-0x1*0x653);}['screenToWo'+'rld'](_0x5b234c,_0x29f554,_0x575abe,_0x1b66b2){const _0x313838=this['system']['app']['graphicsDe'+'vice'],{width:_0x578796,height:_0x24eacb}=_0x313838['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x5b234c,_0x29f554,_0x575abe,_0x578796,_0x24eacb,_0x1b66b2);}['worldToScr'+'een'](_0x5c3013,_0x48d29b){const _0x20edf6=this['system']['app']['graphicsDe'+'vice'],{width:_0x3964b9,height:_0x2adc3c}=_0x20edf6['clientRect'];return this['_camera']['worldToScr'+'een'](_0x5c3013,_0x3964b9,_0x2adc3c,_0x48d29b);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x476+-0xd*0x1b6+0x11c8),this['_camera']['_viewProjM'+'atDirty']=!(0x1235*0x1+0x1a1a+-0x2c4f);}['addCameraT'+'oLayers'](){const _0x5009d8=this['layers'];for(let _0x367512=0x2245*-0x1+0xc56*0x3+0x1*-0x2bd;_0x367512<_0x5009d8['length'];_0x367512++){const _0x25be48=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5009d8[_0x367512]);_0x25be48&&_0x25be48['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x198f3a=this['layers'];for(let _0x27fc27=-0x6f5+-0x1*-0xa51+-0x35c;_0x27fc27<_0x198f3a['length'];_0x27fc27++){const _0x448dba=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x198f3a[_0x27fc27]);_0x448dba&&_0x448dba['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x2c00e0,_0x197017){this['addCameraT'+'oLayers'](),_0x2c00e0['off']('add',this['onLayerAdd'+'ed'],this),_0x2c00e0['off']('remove',this['onLayerRem'+'oved'],this),_0x197017['on']('add',this['onLayerAdd'+'ed'],this),_0x197017['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x9e855d){this['layers']['indexOf'](_0x9e855d['id'])<0x777+0x8b*0x24+-0x1b03||_0x9e855d['addCamera'](this);}['onLayerRem'+'oved'](_0x5cc38e){this['layers']['indexOf'](_0x5cc38e['id'])<0x3*-0xa72+-0x160f+0x3565||_0x5cc38e['removeCame'+'ra'](this);}['onEnable'](){var _0x24323c,_0x56339b,_0x3e1e6e;const _0x4af842=this['system']['app']['scene'],_0x526e6f=_0x4af842['layers'];this['system']['addCamera'](this),(_0x24323c=this['_evtLayers'+'Changed'])==null||_0x24323c['off'](),this['_evtLayers'+'Changed']=_0x4af842['on']('set:layers',this['onLayersCh'+'anged'],this),_0x526e6f&&((_0x56339b=this['_evtLayerA'+'dded'])==null||_0x56339b['off'](),this['_evtLayerA'+'dded']=_0x526e6f['on']('add',this['onLayerAdd'+'ed'],this),(_0x3e1e6e=this['_evtLayerR'+'emoved'])==null||_0x3e1e6e['off'](),this['_evtLayerR'+'emoved']=_0x526e6f['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x21f265,_0x348311,_0x4077ec;const _0x30e471=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x21f265=this['_evtLayers'+'Changed'])==null||_0x21f265['off'](),this['_evtLayers'+'Changed']=null,_0x30e471&&((_0x348311=this['_evtLayerA'+'dded'])==null||_0x348311['off'](),this['_evtLayerA'+'dded']=null,(_0x4077ec=this['_evtLayerR'+'emoved'])==null||_0x4077ec['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x247ae5){const _0x41683a=this['system']['app']['graphicsDe'+'vice'],_0x2f8d4a=_0x247ae5?_0x247ae5['width']:_0x41683a['width'],_0x1bfc29=_0x247ae5?_0x247ae5['height']:_0x41683a['height'];return _0x2f8d4a*this['rect']['z']/(_0x1bfc29*this['rect']['w']);}['frameUpdat'+'e'](_0x387abb){this['aspectRati'+'oMode']===kp&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x387abb));}['startXr'](_0x2ef7c3,_0x209e4c,_0xdcfdbc){this['system']['app']['xr']['start'](this,_0x2ef7c3,_0x209e4c,_0xdcfdbc);}['endXr'](_0x5023f8){if(!this['_camera']['xr']){_0x5023f8&&_0x5023f8(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x5023f8);}['copy'](_0x44b2e5){this['aperture']=_0x44b2e5['aperture'],this['aspectRati'+'o']=_0x44b2e5['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x44b2e5['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x44b2e5['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x44b2e5['calculateT'+'ransform'],this['clearColor']=_0x44b2e5['clearColor'],this['clearColor'+'Buffer']=_0x44b2e5['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x44b2e5['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x44b2e5['clearStenc'+'ilBuffer'],this['cullFaces']=_0x44b2e5['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x44b2e5['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x44b2e5['farClip'],this['flipFaces']=_0x44b2e5['flipFaces'],this['fov']=_0x44b2e5['fov'],this['frustumCul'+'ling']=_0x44b2e5['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x44b2e5['horizontal'+'Fov'],this['layers']=_0x44b2e5['layers'],this['nearClip']=_0x44b2e5['nearClip'],this['orthoHeigh'+'t']=_0x44b2e5['orthoHeigh'+'t'],this['priority']=_0x44b2e5['priority'],this['projection']=_0x44b2e5['projection'],this['rect']=_0x44b2e5['rect'],this['renderTarg'+'et']=_0x44b2e5['renderTarg'+'et'],this['scissorRec'+'t']=_0x44b2e5['scissorRec'+'t'],this['sensitivit'+'y']=_0x44b2e5['sensitivit'+'y'],this['shutter']=_0x44b2e5['shutter'];}}class jI{constructor(){this['enabled']=!(-0x249f+-0x249e+0x493d);}}const Tx=['enabled'];class YI extends Qe{constructor(_0x586423){super(_0x586423),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=wx,this['DataType']=jI,this['schema']=Tx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x223ce7,_0x327076,_0x207350){_0x207350=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x7d5853=-0x6b*-0x1d+-0x673+0x16b*-0x4;_0x7d5853<_0x207350['length'];_0x7d5853++){const _0x1a40fe=_0x207350[_0x7d5853];if(_0x327076['hasOwnProp'+'erty'](_0x1a40fe)){const _0x35e9f5=_0x327076[_0x1a40fe];switch(_0x1a40fe){case'rect':case'scissorRec'+'t':Array['isArray'](_0x35e9f5)?_0x223ce7[_0x1a40fe]=new ee(_0x35e9f5[-0x300+0x19df*-0x1+0x13*0x185],_0x35e9f5[0x882*-0x1+-0x578+-0x4a9*-0x3],_0x35e9f5[0x1*0x5d5+0x1303*-0x1+-0xd30*-0x1],_0x35e9f5[-0x1dc+0x4eb*0x6+-0x1ba3]):_0x223ce7[_0x1a40fe]=_0x35e9f5;break;case'clearColor':Array['isArray'](_0x35e9f5)?_0x223ce7[_0x1a40fe]=new Y(_0x35e9f5[0x4ec+0x419*-0x2+0x346*0x1],_0x35e9f5[-0xb1*0x1a+0x26ba+-0x1*0x14bf],_0x35e9f5[-0xab5*-0x3+-0xd54+-0x12c9],_0x35e9f5[-0xc1+-0x203*-0xb+-0x155d]):_0x223ce7[_0x1a40fe]=_0x35e9f5;break;default:_0x223ce7[_0x1a40fe]=_0x35e9f5;break;}}}super['initialize'+'ComponentD'+'ata'](_0x223ce7,_0x327076,['enabled']);}['cloneCompo'+'nent'](_0x7fef9f,_0x44a28d){const _0x75910=_0x7fef9f['camera'];return this['addCompone'+'nt'](_0x44a28d,{'aspectRatio':_0x75910['aspectRati'+'o'],'aspectRatioMode':_0x75910['aspectRati'+'oMode'],'calculateProjection':_0x75910['calculateP'+'rojection'],'calculateTransform':_0x75910['calculateT'+'ransform'],'clearColor':_0x75910['clearColor'],'clearColorBuffer':_0x75910['clearColor'+'Buffer'],'clearDepthBuffer':_0x75910['clearDepth'+'Buffer'],'clearStencilBuffer':_0x75910['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x75910['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x75910['renderScen'+'eColorMap'],'cullFaces':_0x75910['cullFaces'],'enabled':_0x75910['enabled'],'farClip':_0x75910['farClip'],'flipFaces':_0x75910['flipFaces'],'fov':_0x75910['fov'],'frustumCulling':_0x75910['frustumCul'+'ling'],'horizontalFov':_0x75910['horizontal'+'Fov'],'layers':_0x75910['layers'],'renderTarget':_0x75910['renderTarg'+'et'],'nearClip':_0x75910['nearClip'],'orthoHeight':_0x75910['orthoHeigh'+'t'],'projection':_0x75910['projection'],'priority':_0x75910['priority'],'rect':_0x75910['rect'],'scissorRect':_0x75910['scissorRec'+'t'],'aperture':_0x75910['aperture'],'sensitivity':_0x75910['sensitivit'+'y'],'shutter':_0x75910['shutter'],'gammaCorrection':_0x75910['gammaCorre'+'ction'],'toneMapping':_0x75910['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x198522,_0x321521){this['removeCame'+'ra'](_0x321521),_0x321521['onRemove']();}['onAppPrere'+'nder'](){for(let _0x4c6a95=0x1*0x1a88+-0x12d4+0x3da*-0x2,_0x2b21aa=this['cameras']['length'];_0x4c6a95<_0x2b21aa;_0x4c6a95++)this['cameras'][_0x4c6a95]['onAppPrere'+'nder']();}['addCamera'](_0x13c0ef){this['cameras']['push'](_0x13c0ef),Go(this['cameras']);}['removeCame'+'ra'](_0x2c113f){const _0x3af5f0=this['cameras']['indexOf'](_0x2c113f);_0x3af5f0>=-0x1f24+0x1f*0x10c+0x70*-0x3&&(this['cameras']['splice'](_0x3af5f0,0x1*-0x1748+0x205*-0x2+0x1b53),Go(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}pe['_buildAcce'+'ssors'](wx['prototype'],Tx);class Ax{constructor(){c(this,'enabled',!(0x5f8+0xa3*-0x27+0x1*0x12dd)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(-0x1*0xcfe+-0x3*0x9b+-0x768*-0x2,0x72*0x49+0x1*-0x2f1+-0x2b*0xb0,0xacd+-0x1*0xa55+-0x77)),c(this,'intensity',0x13ad+-0x1c3a*0x1+0x88e),c(this,'luminance',-0x48+-0x6f3+-0x269*-0x3),c(this,'shape',Tt),c(this,'affectSpec'+'ularity',!(-0x1d11+-0x1*0x26af+0x43c0)),c(this,'castShadow'+'s',!(-0x19f8+-0x1*0x219c+0x3b95)),c(this,'shadowDist'+'ance',0x1ae4+0x2b1*-0x3+-0x1*0x12a9),c(this,'shadowInte'+'nsity',0x15ea+-0x1584*0x1+0x65*-0x1),c(this,'shadowReso'+'lution',-0x1462+-0x25d9*0x1+0x3e3b*0x1),c(this,'shadowBias',0x254+-0x4be+0x26a+0.05),c(this,'numCascade'+'s',0x2320*0x1+-0x5c9*0x1+-0x2*0xeab),c(this,'cascadeBle'+'nd',-0x1511*-0x1+0x267b+-0x3b8c),c(this,'bakeNumSam'+'ples',0x1fbc+0x25d*0x3+-0x26d2),c(this,'bakeArea',-0x1c1a+-0x527*0x1+0x2141*0x1),c(this,'cascadeDis'+'tribution',-0x1389*-0x1+-0x13f*-0x1+0x26*-0x8c+0.5),c(this,'normalOffs'+'etBias',0x1*-0x162b+0x1b08+-0x4dd),c(this,'range',0x13c1+0x1*0x125b+-0x2612),c(this,'innerConeA'+'ngle',-0x13ac+0x98+0x133c),c(this,'outerConeA'+'ngle',0x1*0x503+0x1907*-0x1+0x1431),c(this,'falloffMod'+'e',Cp),c(this,'shadowType',zt),c(this,'vsmBlurSiz'+'e',-0x1b5e+-0x3f7*0x1+0x1f60),c(this,'vsmBlurMod'+'e',Mp),c(this,'vsmBias',(-0x4f2+0x1046+-0xb54+0.01)*(0xee5*-0x1+-0x46*-0x86+-0x125*0x13+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0xbe7+-0x2065*0x1+0x2c4d),c(this,'cookieFall'+'off',!(0x2*0x169+-0x235d+-0x3*-0xad9)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x20e7+0x10fa+-0x31e1),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Lp),c(this,'mask',0x1a6d+-0x166*0x8+-0xf3c),c(this,'affectDyna'+'mic',!(-0xc25*-0x3+-0x1f64+-0x50b)),c(this,'affectLigh'+'tmapped',!(-0x1*0xff7+-0xec2+0x1eba)),c(this,'bake',!(0x227b+-0x1*0x2057+0x1*-0x223)),c(this,'bakeDir',!(-0x1*-0x9e+-0x4*-0x63a+-0x1986)),c(this,'isStatic',!(0xb19+0x405+-0xf1d*0x1)),c(this,'layers',[zi]),c(this,'penumbraSi'+'ze',-0x20dc+0x3f1+0x1cec),c(this,'penumbraFa'+'lloff',-0x144a+-0x1*-0x220d+0xdc2*-0x1),c(this,'shadowSamp'+'les',0xd37+-0x251e+-0x1*-0x17f7),c(this,'shadowBloc'+'kerSamples',0x26*0x3c+-0xde*0x27+-0x1*-0x18fa);}}const Mo=Object['keys'](new Ax());class KI extends pe{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(0x1*0x1e62+-0x2626*-0x1+-0x1*0x4487)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x1bb283=this['system']['store'][this['entity']['getGuid']()];return _0x1bb283?_0x1bb283['data']:null;}set['enabled'](_0x437803){this['_setValue']('enabled',_0x437803,function(_0x80109a,_0x5f5575){this['onSetEnabl'+'ed'](null,_0x5f5575,_0x80109a);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0xb5d174){this['_setValue']('light',_0xb5d174);}get['light'](){return this['data']['light'];}set['type'](_0x558225){this['_setValue']('type',_0x558225,function(_0x161954,_0x2472d5){this['system']['changeType'](this,_0x2472d5,_0x161954),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x6279ba){this['_setValue']('color',_0x6279ba,function(_0x10c01d,_0x4c36fb){this['light']['setColor'](_0x10c01d);},!(-0x2b+0x1bdd+-0x1*0x1bb2));}get['color'](){return this['data']['color'];}set['intensity'](_0x4a11ba){this['_setValue']('intensity',_0x4a11ba,function(_0x44d91d,_0x252013){this['light']['intensity']=_0x44d91d;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x1bb226){this['_setValue']('luminance',_0x1bb226,function(_0x2bda5a,_0x1b42b9){this['light']['luminance']=_0x2bda5a;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x4acac5){this['_setValue']('shape',_0x4acac5,function(_0x369bb5,_0x55ba01){this['light']['shape']=_0x369bb5;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x2e0a33){this['_setValue']('affectSpec'+'ularity',_0x2e0a33,function(_0x598ca5,_0x5b5041){this['light']['affectSpec'+'ularity']=_0x598ca5;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x116619){this['_setValue']('castShadow'+'s',_0x116619,function(_0x492be6,_0x46ce0a){this['light']['castShadow'+'s']=_0x492be6;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0xe10712){this['_setValue']('shadowDist'+'ance',_0xe10712,function(_0x86aae2,_0xe4fd10){this['light']['shadowDist'+'ance']=_0x86aae2;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x25e7cf){this['_setValue']('shadowInte'+'nsity',_0x25e7cf,function(_0x349e4e,_0x196624){this['light']['shadowInte'+'nsity']=_0x349e4e;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x157c44){this['_setValue']('shadowReso'+'lution',_0x157c44,function(_0x546b18,_0x5b7bcf){this['light']['shadowReso'+'lution']=_0x546b18;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x2a1102){this['_setValue']('shadowBias',_0x2a1102,function(_0x20782a,_0x5777bd){this['light']['shadowBias']=-(-0xc*0x336+0x1*-0xa57+0x30df+0.01)*z['clamp'](_0x20782a,0x5be+0xbad*0x1+0x5b*-0x31,0x3*0xa1b+0xa3*-0x38+0x558);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x25cfb6){this['_setValue']('numCascade'+'s',_0x25cfb6,function(_0x5435f9,_0x2df359){this['light']['numCascade'+'s']=z['clamp'](Math['floor'](_0x5435f9),0x6e2*0x1+-0x71*-0x3+-0x834,-0x1311+0x2439+0x1124*-0x1);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x2368de){this['_setValue']('cascadeBle'+'nd',_0x2368de,function(_0x1497cb,_0xfa6c02){this['light']['cascadeBle'+'nd']=z['clamp'](_0x1497cb,-0x4b8+0x1d6d+-0x18b5,-0x2151*-0x1+-0x23f5+-0x1*-0x2a5);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x2e7be3){this['_setValue']('bakeNumSam'+'ples',_0x2e7be3,function(_0x5c6aba,_0x570da9){this['light']['bakeNumSam'+'ples']=z['clamp'](Math['floor'](_0x5c6aba),0x198b+0x1*0x1502+0x12*-0x296,-0x1b8+0x3*-0x227+-0x4*-0x24b);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x38ebb7){this['_setValue']('bakeArea',_0x38ebb7,function(_0x50f15c,_0x2ded8a){this['light']['bakeArea']=z['clamp'](_0x50f15c,-0xfb3+-0x2*0x511+0x19d5,0x254c*-0x1+0xb80+0x1a80);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x391b74){this['_setValue']('cascadeDis'+'tribution',_0x391b74,function(_0x1baff2,_0x5c29c8){this['light']['cascadeDis'+'tribution']=z['clamp'](_0x1baff2,-0x113f+-0x107*0x9+0x1a7e,0xb33*-0x2+0x1*-0x209+0x1870);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0xb4c1e1){this['_setValue']('normalOffs'+'etBias',_0xb4c1e1,function(_0x26103a,_0x4368eb){this['light']['normalOffs'+'etBias']=z['clamp'](_0x26103a,-0xec4+-0x1*0x1dbb+0x2c7f,-0x19ea+0x1*0x1501+-0x11*-0x4a);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x180b7d){this['_setValue']('range',_0x180b7d,function(_0x23e3ad,_0x255478){this['light']['attenuatio'+'nEnd']=_0x23e3ad;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x2a3ab2){this['_setValue']('innerConeA'+'ngle',_0x2a3ab2,function(_0xbd4f01,_0x22bad3){this['light']['innerConeA'+'ngle']=_0xbd4f01;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x555c56){this['_setValue']('outerConeA'+'ngle',_0x555c56,function(_0x402b4c,_0x2596a8){this['light']['outerConeA'+'ngle']=_0x402b4c;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x37a409){this['_setValue']('falloffMod'+'e',_0x37a409,function(_0x2fe552,_0x2cf455){this['light']['falloffMod'+'e']=_0x2fe552;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x53ffda){this['_setValue']('shadowType',_0x53ffda,function(_0x3dd83f,_0x4a4e02){this['light']['shadowType']=_0x3dd83f;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x330dc0){this['_setValue']('vsmBlurSiz'+'e',_0x330dc0,function(_0x11334a,_0x8f304f){this['light']['vsmBlurSiz'+'e']=_0x11334a;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x749f47){this['_setValue']('vsmBlurMod'+'e',_0x749f47,function(_0x47833e,_0x5aa66a){this['light']['vsmBlurMod'+'e']=_0x47833e;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x2738b2){this['_setValue']('vsmBias',_0x2738b2,function(_0xce06b6,_0x3d4eb6){this['light']['vsmBias']=z['clamp'](_0xce06b6,0x2467*-0x1+0x175d*0x1+-0x685*-0x2,-0x49b+-0xf6f+-0x7*-0x2dd);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x2dcc0c){this['_setValue']('cookieAsse'+'t',_0x2dcc0c,function(_0x342af4,_0x73f9ff){if(!(this['_cookieAss'+'etId']&&(_0x342af4 instanceof he&&_0x342af4['id']===this['_cookieAss'+'etId']||_0x342af4===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x342af4 instanceof he)this['data']['cookieAsse'+'t']=_0x342af4['id'],this['_cookieAss'+'etId']=_0x342af4['id'],this['onCookieAs'+'setAdd'](_0x342af4);else{if(typeof _0x342af4=='number'){this['_cookieAss'+'etId']=_0x342af4;const _0x33b0e0=this['system']['app']['assets']['get'](_0x342af4);_0x33b0e0?this['onCookieAs'+'setAdd'](_0x33b0e0):(this['_cookieAss'+'etAdd']=!(-0x2064+-0x2*-0xfac+0x10c),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x40409a){this['_setValue']('cookie',_0x40409a,function(_0x18bc51,_0x59412c){this['light']['cookie']=_0x18bc51;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x58df1c){this['_setValue']('cookieInte'+'nsity',_0x58df1c,function(_0x47030e,_0x49697d){this['light']['cookieInte'+'nsity']=z['clamp'](_0x47030e,-0x17b9+0x3f5*-0x8+0x3761,-0x1*-0xf1+-0x1c23+0x1b33);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x474961){this['_setValue']('cookieFall'+'off',_0x474961,function(_0x434416,_0xfd64a0){this['light']['cookieFall'+'off']=_0x434416;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x18d0f9){this['_setValue']('cookieChan'+'nel',_0x18d0f9,function(_0x5da6c4,_0x55f170){this['light']['cookieChan'+'nel']=_0x5da6c4;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x1ef619){this['_setValue']('cookieAngl'+'e',_0x1ef619,function(_0xf17760,_0x3e57db){if(_0xf17760!==-0x1f76+0x23e0+-0x46a||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new ee());let _0x143541=-0x145f+0x1*-0x1051+0x24b1,_0x497603=-0x1ab6+-0x4b*-0x2f+0xcf2;this['cookieScal'+'e']&&(_0x143541=this['cookieScal'+'e']['x'],_0x497603=this['cookieScal'+'e']['y']);const _0x1aac96=Math['cos'](_0xf17760*z['DEG_TO_RAD']),_0x126890=Math['sin'](_0xf17760*z['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x1aac96/_0x143541,-_0x126890/_0x143541,_0x126890/_0x497603,_0x1aac96/_0x497603),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x4f0562){this['_setValue']('cookieScal'+'e',_0x4f0562,function(_0x403e30,_0x32ddcb){if(_0x403e30!==null||this['cookieAngl'+'e']!==0x43*0x7f+-0x1ee3+0x12d*-0x2){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new ee());const _0x1d5b73=_0x403e30['x'],_0xa599b7=_0x403e30['y'],_0x157ec4=Math['cos'](this['cookieAngl'+'e']*z['DEG_TO_RAD']),_0x4cd81e=Math['sin'](this['cookieAngl'+'e']*z['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x157ec4/_0x1d5b73,-_0x4cd81e/_0x1d5b73,_0x4cd81e/_0xa599b7,_0x157ec4/_0xa599b7),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x1*0x1849+-0x51f+-0x1*-0x1d68));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x3ec44b){this['_setValue']('cookieOffs'+'et',_0x3ec44b,function(_0x32afbf,_0x4b222c){this['light']['cookieOffs'+'et']=_0x32afbf;},!(-0x21bc+0x2cf+0x111*0x1d));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x5e7ba5){this['_setValue']('shadowUpda'+'teMode',_0x5e7ba5,function(_0x2585cf,_0x23bfd3){this['light']['shadowUpda'+'teMode']=_0x2585cf;},!(0x1*-0x176f+-0x981+0x20f0));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x32666f){this['_setValue']('mask',_0x32666f,function(_0x148d41,_0x27c55a){this['light']['mask']=_0x148d41;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x41f267){this['_setValue']('affectDyna'+'mic',_0x41f267,function(_0x1230cc,_0x5c00ef){_0x1230cc?this['light']['mask']|=ms:this['light']['mask']&=-(0x368+0x223b+-0x25a1),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x1bf47d){this['_setValue']('affectLigh'+'tmapped',_0x1bf47d,function(_0x43bc4c,_0x4d9794){_0x43bc4c?(this['light']['mask']|=dr,this['bake']&&(this['light']['mask']&=-(-0x1631*0x1+-0xec3*0x1+-0x277*-0xf))):(this['light']['mask']&=-(0x5cf+0x10a4+-0x1670),this['bake']&&(this['light']['mask']|=ar));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x25891f){this['_setValue']('bake',_0x25891f,function(_0x434c73,_0x2a0af4){_0x434c73?(this['light']['mask']|=ar,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x254*0xc+-0x1ced*-0x1+-0x38da))):(this['light']['mask']&=-(0xf78+0x248c+-0x33ff),this['affectLigh'+'tmapped']&&(this['light']['mask']|=dr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x124884){this['_setValue']('bakeDir',_0x124884,function(_0x2c61d4,_0x339103){this['light']['bakeDir']=_0x2c61d4;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x226153){this['_setValue']('isStatic',_0x226153,function(_0x1143e8,_0x271a00){this['light']['isStatic']=_0x1143e8;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x396712){this['_setValue']('layers',_0x396712,function(_0x5d0389,_0x4ea7b6){for(let _0x4ee224=0x957+-0x2*-0xb5+-0xac1*0x1;_0x4ee224<_0x4ea7b6['length'];_0x4ee224++){const _0x26d092=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4ea7b6[_0x4ee224]);_0x26d092&&(_0x26d092['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x26d092));}for(let _0x208e0c=-0xd79+-0x582+0x12fb;_0x208e0c<_0x5d0389['length'];_0x208e0c++){const _0x1f7ca1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5d0389[_0x208e0c]);_0x1f7ca1&&this['enabled']&&this['entity']['enabled']&&(_0x1f7ca1['addLight'](this),this['light']['addLayer'](_0x1f7ca1));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x3f9eed){this['light']['shadowUpda'+'teOverride'+'s']=_0x3f9eed;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x3fa670){this['light']['shadowSamp'+'les']=_0x3fa670;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x57cfc3){this['light']['shadowBloc'+'kerSamples']=_0x57cfc3;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x20c2de){this['light']['penumbraSi'+'ze']=_0x20c2de;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x3850ed){this['light']['penumbraFa'+'lloff']=_0x3850ed;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0xe9decd,_0x4d16ff,_0x432499,_0x2065fe){const _0x4af068=this['data'],_0x5308e7=_0x4af068[_0xe9decd];!_0x2065fe&&_0x5308e7===_0x4d16ff||(_0x4af068[_0xe9decd]=_0x4d16ff,_0x432499&&_0x432499['call'](this,_0x4d16ff,_0x5308e7));}['addLightTo'+'Layers'](){for(let _0x53c1a4=-0x1992*-0x1+0x2d*0xa0+-0x35b2;_0x53c1a4<this['layers']['length'];_0x53c1a4++){const _0x2b3bf9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x53c1a4]);_0x2b3bf9&&(_0x2b3bf9['addLight'](this),this['light']['addLayer'](_0x2b3bf9));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x507ce7=0x1855+-0xf*-0x27e+-0x3db7*0x1;_0x507ce7<this['layers']['length'];_0x507ce7++){const _0x5668d0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x507ce7]);_0x5668d0&&(_0x5668d0['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x5668d0));}}['onLayersCh'+'anged'](_0x2cc303,_0x90f283){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x2cc303['off']('add',this['onLayerAdd'+'ed'],this),_0x2cc303['off']('remove',this['onLayerRem'+'oved'],this),_0x90f283['on']('add',this['onLayerAdd'+'ed'],this),_0x90f283['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x13d31b){this['layers']['indexOf'](_0x13d31b['id'])>=-0x2*-0xa1b+0x9d+0x1*-0x14d3&&this['enabled']&&this['entity']['enabled']&&(_0x13d31b['addLight'](this),this['light']['addLayer'](_0x13d31b));}['onLayerRem'+'oved'](_0x9cdc2b){this['layers']['indexOf'](_0x9cdc2b['id'])>=0x2a6+-0x1403+-0x5*-0x379&&(_0x9cdc2b['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x9cdc2b));}['refreshPro'+'perties'](){for(let _0x4615f3=-0x2042+-0x1*-0x173b+0x907;_0x4615f3<Mo['length'];_0x4615f3++){const _0x101c23=Mo[_0x4615f3];this[_0x101c23]=this[_0x101c23];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x181a7a=!(0x5*-0x2e7+0x7*-0x4f9+0x3153);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x1*-0x1d41+0x209*0x2+0x192f),_0x181a7a=!(-0x2c7*-0xd+0xb11+-0x2f2c)),(!this['_cookieAss'+'et']['resource']||_0x181a7a)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x65ee7c){this['_cookieAss'+'etId']===_0x65ee7c['id']&&(this['_cookieAss'+'et']=_0x65ee7c,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x1*-0x1d5d+0x11f3+-0x2f4f)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x11ac92=this['system']['app']['scene'],_0x3582e1=_0x11ac92['layers'];this['light']['enabled']=!(-0x35*-0x98+0x261b+-0x4593),this['_evtLayers'+'Changed']=_0x11ac92['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3582e1&&(this['_evtLayerA'+'dded']=_0x3582e1['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3582e1['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x38daca,_0xf5ffbf,_0x45931e;const _0x1aa741=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x48a*-0x1+0xdad+0x1*-0x1236),(_0x38daca=this['_evtLayers'+'Changed'])==null||_0x38daca['off'](),this['_evtLayers'+'Changed']=null,_0x1aa741&&((_0xf5ffbf=this['_evtLayerA'+'dded'])==null||_0xf5ffbf['off'](),this['_evtLayerA'+'dded']=null,(_0x45931e=this['_evtLayerR'+'emoved'])==null||_0x45931e['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class ZI extends Qe{constructor(_0x19b559){super(_0x19b559),this['id']='light',this['ComponentT'+'ype']=KI,this['DataType']=Ax,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x2866fe,_0x33ac3e){const _0x1b4f56={..._0x33ac3e};_0x1b4f56['type']||(_0x1b4f56['type']=_0x2866fe['data']['type']),_0x2866fe['data']['type']=_0x1b4f56['type'],_0x1b4f56['layers']&&Array['isArray'](_0x1b4f56['layers'])&&(_0x1b4f56['layers']=_0x1b4f56['layers']['slice'](0x1a0c+0x250e+0x29*-0x18a)),_0x1b4f56['color']&&Array['isArray'](_0x1b4f56['color'])&&(_0x1b4f56['color']=new Y(_0x1b4f56['color'][-0x16*-0x9f+-0x1*0x47f+-0x92b],_0x1b4f56['color'][0x297+0x1319+-0x5b*0x3d],_0x1b4f56['color'][0x2244+0x9e1*0x2+0x2*-0x1b02])),_0x1b4f56['cookieOffs'+'et']&&_0x1b4f56['cookieOffs'+'et']instanceof Array&&(_0x1b4f56['cookieOffs'+'et']=new W(_0x1b4f56['cookieOffs'+'et'][0x20*-0xfa+-0x7*0x20c+0x2d94],_0x1b4f56['cookieOffs'+'et'][-0x1*-0x787+-0x918+-0x3*-0x86])),_0x1b4f56['cookieScal'+'e']&&_0x1b4f56['cookieScal'+'e']instanceof Array&&(_0x1b4f56['cookieScal'+'e']=new W(_0x1b4f56['cookieScal'+'e'][0xf1b+0x1*0x269f+-0x35ba],_0x1b4f56['cookieScal'+'e'][-0x1c7f+-0x401+0x2081])),_0x1b4f56['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x1b4f56['enabled']=_0x1b4f56['enable']),_0x1b4f56['shape']||(_0x1b4f56['shape']=Tt);const _0x308059=new Ho(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x308059['type']=qu[_0x1b4f56['type']],_0x308059['_node']=_0x2866fe['entity'],_0x2866fe['data']['light']=_0x308059,super['initialize'+'ComponentD'+'ata'](_0x2866fe,_0x1b4f56,Mo);}['_onRemoveC'+'omponent'](_0x1e95ad,_0x5c3e88){_0x5c3e88['onRemove']();}['cloneCompo'+'nent'](_0x14d9bd,_0x1c7779){const _0x2cf13a=_0x14d9bd['light'],_0x5ec39f=[];let _0x5a585a;for(let _0x44759e=0x3a9+0x6*-0x274+0xb0f;_0x44759e<Mo['length'];_0x44759e++)_0x5a585a=Mo[_0x44759e],_0x5a585a!=='light'&&(_0x2cf13a[_0x5a585a]&&_0x2cf13a[_0x5a585a]['clone']?_0x5ec39f[_0x5a585a]=_0x2cf13a[_0x5a585a]['clone']():_0x5ec39f[_0x5a585a]=_0x2cf13a[_0x5a585a]);return this['addCompone'+'nt'](_0x1c7779,_0x5ec39f);}['changeType'](_0x218114,_0x56d6a6,_0x1ec524){_0x56d6a6!==_0x1ec524&&(_0x218114['light']['type']=qu[_0x1ec524]);}}const QI=['x','y','z','w'],JI=[void(0x10b1*-0x2+-0x1b38+0x3c9a),void(0x122*-0x19+-0x1*-0x96b+0x1*0x12e7),W,A,ee];function Oa(_0x321f5e,_0x3ef195,_0x281790,_0x3bb0b9){switch(_0x3ef195['type']){case'boolean':return!!_0x281790;case'number':if(typeof _0x281790=='number')return _0x281790;if(typeof _0x281790=='string'){const _0x3bd0f8=parseInt(_0x281790,0xded+0x141d+0x1*-0x2200);return isNaN(_0x3bd0f8)?null:_0x3bd0f8;}else{if(typeof _0x281790=='boolean')return 0x1bcf+-0x9fa+0x37*-0x53+_0x281790;}return null;case'json':{const _0x97f00e={};if(Array['isArray'](_0x3ef195['schema'])){(!_0x281790||typeof _0x281790!='object')&&(_0x281790={});for(let _0x20cb56=-0x88a+0x13*-0x1cd+-0xb*-0x3e3;_0x20cb56<_0x3ef195['schema']['length'];_0x20cb56++){const _0x4a1a91=_0x3ef195['schema'][_0x20cb56];if(_0x4a1a91['name']){if(_0x4a1a91['array']){_0x97f00e[_0x4a1a91['name']]=[];const _0x3e2036=Array['isArray'](_0x281790[_0x4a1a91['name']])?_0x281790[_0x4a1a91['name']]:[];for(let _0x450cf9=0xe75*-0x1+0x3d*0x62+-0x8e5;_0x450cf9<_0x3e2036['length'];_0x450cf9++)_0x97f00e[_0x4a1a91['name']]['push'](Oa(_0x321f5e,_0x4a1a91,_0x3e2036[_0x450cf9]));}else{const _0x5ab673=_0x281790['hasOwnProp'+'erty'](_0x4a1a91['name'])?_0x281790[_0x4a1a91['name']]:_0x4a1a91['default'];_0x97f00e[_0x4a1a91['name']]=Oa(_0x321f5e,_0x4a1a91,_0x5ab673);}}}}return _0x97f00e;}case'asset':return _0x281790 instanceof he?_0x281790:typeof _0x281790=='number'?_0x321f5e['assets']['get'](_0x281790)||null:typeof _0x281790=='string'&&_0x321f5e['assets']['get'](parseInt(_0x281790,-0x1db*0x2+0x22*-0xaf+0x1afe))||null;case'entity':return _0x281790 instanceof Oe?_0x281790:typeof _0x281790=='string'?_0x321f5e['getEntityF'+'romIndex'](_0x281790):null;case'rgb':case'rgba':if(_0x281790 instanceof Y)return _0x3bb0b9 instanceof Y?(_0x3bb0b9['copy'](_0x281790),_0x3bb0b9):_0x281790['clone']();if(_0x281790 instanceof Array&&_0x281790['length']>=-0xe6c+0x615*-0x3+0x20ae&&_0x281790['length']<=-0x1295+0x1f26+-0x33*0x3f){for(let _0x318447=0x17cb+0x4*-0x48a+-0x5a3;_0x318447<_0x281790['length'];_0x318447++)if(typeof _0x281790[_0x318447]!='number')return null;return _0x3bb0b9||(_0x3bb0b9=new Y()),_0x3bb0b9['r']=_0x281790[-0x1*0x260c+0x1*0x206d+0x59f*0x1],_0x3bb0b9['g']=_0x281790[-0x16a9*-0x1+-0x466*0x1+-0x1242],_0x3bb0b9['b']=_0x281790[-0x8ae+-0xd0a+0x67*0x36],_0x3bb0b9['a']=_0x281790['length']===-0x4c*-0x9+-0x1*0x1f0+-0xb9?0x8d*-0x2b+0x19*0xf5+0x3d*-0x1:_0x281790[-0x15*0x79+0x36*-0x64+-0x296*-0xc],_0x3bb0b9;}else{if(typeof _0x281790=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x281790))return _0x3bb0b9||(_0x3bb0b9=new Y()),_0x3bb0b9['fromString'](_0x281790),_0x3bb0b9;}return null;case'vec2':case'vec3':case'vec4':{const _0x15e35a=parseInt(_0x3ef195['type']['slice'](0xb5d+-0x1d93*-0x1+0x1*-0x28ed),-0x543+-0x19ab+-0x4*-0x7be),_0x1db8fe=JI[_0x15e35a];if(_0x281790 instanceof _0x1db8fe)return _0x3bb0b9 instanceof _0x1db8fe?(_0x3bb0b9['copy'](_0x281790),_0x3bb0b9):_0x281790['clone']();if(_0x281790 instanceof Array&&_0x281790['length']===_0x15e35a){for(let _0x59f55e=0xe11+-0x1f53+-0x5e*-0x2f;_0x59f55e<_0x281790['length'];_0x59f55e++)if(typeof _0x281790[_0x59f55e]!='number')return null;_0x3bb0b9||(_0x3bb0b9=new _0x1db8fe());for(let _0x1d4a25=0xae0*-0x2+-0x6c9+0xf*0x1e7;_0x1d4a25<_0x15e35a;_0x1d4a25++)_0x3bb0b9[QI[_0x1d4a25]]=_0x281790[_0x1d4a25];return _0x3bb0b9;}return null;}case'curve':if(_0x281790){let _0x342352;if(_0x281790 instanceof Ls||_0x281790 instanceof Yr)_0x342352=_0x281790['clone']();else{const _0x65c46b=_0x281790['keys'][0x1f8e+-0xcf1+-0x129d*0x1]instanceof Array?Yr:Ls;_0x342352=new _0x65c46b(_0x281790['keys']),_0x342352['type']=_0x281790['type'];}return _0x342352;}break;}return _0x281790;}function Ex(_0x461447,_0x4958bc,_0x48fe96,_0x4e2cab){return _0x4958bc['array']?_0x48fe96['map']((_0x445e80,_0xdaec3)=>Oa(_0x461447,_0x4958bc,_0x445e80,_0x4e2cab?_0x4e2cab[_0xdaec3]:null)):Oa(_0x461447,_0x4958bc,_0x48fe96,_0x4e2cab);}function Cx(_0x4c4c19,_0x4cf12c,_0x1b0ff5,_0x16710b){if(_0x1b0ff5)for(const _0x262073 in _0x4cf12c){const _0x5526a7=_0x4cf12c[_0x262073],_0x9c7d70=_0x1b0ff5[_0x262073];_0x9c7d70!==void(-0x95*0x37+-0x1d8a+0x3d8d*0x1)&&(_0x16710b[_0x262073]=Ex(_0x4c4c19,_0x5526a7,_0x9c7d70,_0x16710b[_0x262073]));}}const ha=class ha{constructor(_0x5cbf2b){this['scriptType']=_0x5cbf2b,this['index']={};}['add'](_0x37471d,_0x20f1c7){if(this['index'][_0x37471d]){b['warn']('attribute\x20'+'\x27'+_0x37471d+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(ha['reservedNa'+'mes']['has'](_0x37471d)){b['warn']('attribute\x20'+'\x27'+_0x37471d+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x37471d]=_0x20f1c7,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x37471d,{'get':function(){return this['__attribut'+'es'][_0x37471d];},'set':function(_0x31d1b5){const _0x161af0='attr',_0x1ac796='attr:'+_0x37471d,_0x19fffd=this['__attribut'+'es'][_0x37471d];let _0x34d7b5=_0x19fffd;if(_0x19fffd&&_0x20f1c7['type']!=='json'&&_0x20f1c7['type']!=='entity'&&_0x19fffd['clone']&&(this['hasEvent'](_0x161af0)||this['hasEvent'](_0x1ac796))&&(_0x34d7b5=_0x19fffd['clone']()),_0x20f1c7['array']){if(this['__attribut'+'es'][_0x37471d]=[],_0x31d1b5){for(let _0x417e3a=0x1e66+-0x2219+0x3b3,_0x9fae16=_0x31d1b5['length'];_0x417e3a<_0x9fae16;_0x417e3a++)this['__attribut'+'es'][_0x37471d]['push'](Oa(this['app'],_0x20f1c7,_0x31d1b5[_0x417e3a],_0x19fffd?_0x19fffd[_0x417e3a]:null));}}else this['__attribut'+'es'][_0x37471d]=Oa(this['app'],_0x20f1c7,_0x31d1b5,_0x19fffd);this['fire'](_0x161af0,_0x37471d,this['__attribut'+'es'][_0x37471d],_0x34d7b5),this['fire'](_0x1ac796,this['__attribut'+'es'][_0x37471d],_0x34d7b5);}});}['remove'](_0x5db1f2){return this['index'][_0x5db1f2]?(delete this['index'][_0x5db1f2],delete this['scriptType']['prototype'][_0x5db1f2],!(-0x1a45+-0x108*0xc+0x26a5)):!(-0x1188+-0x82+0x120b);}['has'](_0xb338ba){return!!this['index'][_0xb338ba];}['get'](_0x17b78f){return this['index'][_0x17b78f]||null;}};c(ha,'assignAttr'+'ibutesToSc'+'ript',Cx),c(ha,'attributeT'+'oValue',Ex),c(ha,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Xo=ha;const Sf='initialize',vf='postInitia'+'lize',eD='update',tD='postUpdate',sD='swap';class Zt extends de{constructor(_0x277843){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x277843);}set['enabled'](_0xe85201){this['_enabled']=!!_0xe85201,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0xdbe+0x1c5c+-0x2a1a),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Sf)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x1b1*0x3+0x16fc*-0x1+0x5*0x395),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,vf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x315594){const _0x2e67b0=this['constructo'+'r'];b['assert'](_0x315594&&_0x315594['app']&&_0x315594['entity'],'script\x20['+_0x2e67b0['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x315594['app'],this['entity']=_0x315594['entity'],this['_enabled']=typeof _0x315594['enabled']=='boolean'?_0x315594['enabled']:!(-0x29*0xb2+-0xe5c+0x2ade),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0xc50+0x5*0x707+0x1*-0x2f72),this['__scriptTy'+'pe']=_0x2e67b0,this['__executio'+'nOrder']=-(-0x76d*-0x1+-0x13b*-0xd+-0x176b);}static get['scriptName'](){return this['__name'];}}c(Zt,'EVENT_ENAB'+'LE','enable'),c(Zt,'EVENT_DISA'+'BLE','disable'),c(Zt,'EVENT_STAT'+'E','state'),c(Zt,'EVENT_DEST'+'ROY','destroy'),c(Zt,'EVENT_ATTR','attr'),c(Zt,'EVENT_ERRO'+'R','error'),c(Zt,'__name',null),c(Zt,'__getScrip'+'tName',Mx);const iD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Mx(_0x386f13){if(typeof _0x386f13!='function')return;if('name'in Function['prototype'])return _0x386f13['name'];if(_0x386f13===Function||_0x386f13===Function['prototype']['constructo'+'r'])return'Function';const _0x7ecafd=(''+_0x386f13)['match'](iD);return _0x7ecafd?_0x7ecafd[0x23f+-0x2228+0xd7*0x26]:void(-0x1*-0x3b1+0xa27*0x3+-0x2226);}class ic extends Zt{constructor(_0x39af41){super(_0x39af41),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x39af41);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Xo(this)),this['__attribut'+'es'];}['initScript'](_0x4b006f){Zt['prototype']['initScript']['call'](this,_0x4b006f),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4b006f['attributes']||{};}['initScript'+'Type'](_0xbfa09a){this['initScript'](_0xbfa09a);}['__initiali'+'zeAttribut'+'es'](_0x2770ef){if(!(!_0x2770ef&&!this['__attribut'+'esRaw'])){for(const _0x2ffeca in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x2ffeca)?this[_0x2ffeca]=this['__attribut'+'esRaw'][_0x2ffeca]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x2ffeca)||(this['__scriptTy'+'pe']['attributes']['index'][_0x2ffeca]['hasOwnProp'+'erty']('default')?this[_0x2ffeca]=this['__scriptTy'+'pe']['attributes']['index'][_0x2ffeca]['default']:this[_0x2ffeca]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x274071){for(const _0xeb3d30 in _0x274071)_0x274071['hasOwnProp'+'erty'](_0xeb3d30)&&(this['prototype'][_0xeb3d30]=_0x274071[_0xeb3d30]);}}const rD=_0x19b581=>_0x19b581[0x2482+0x24ee+-0x4970]['toLowerCas'+'e']()+_0x19b581['substring'](0x12b9*-0x1+0x2*0x1cf+0x2*0x78e);class _i extends pe{constructor(_0x46f732,_0x481e05){super(_0x46f732,_0x481e05),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new Mh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new Mh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x2383*0x1+-0x1304*-0x1+0x1080),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x151*0x1+-0x59*0x59+-0x2042*-0x1),this['_enabled']=!(-0x2*-0xa97+-0x22f9+-0x21*-0x6b),this['_beingEnab'+'led']=!(0x245a+0x1a93*0x1+-0x3eec),this['_isLooping'+'ThroughScr'+'ipts']=!(0x1469+0xa5d*-0x2+0x52*0x1),this['_execution'+'Order']=-(-0x2*-0x51a+-0x149c*0x1+-0xd*-0xcd),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x58f740){this['_scriptsDa'+'ta']=_0x58f740;for(const _0x593d8f in _0x58f740){if(!_0x58f740['hasOwnProp'+'erty'](_0x593d8f))continue;const _0x5e59bc=this['_scriptsIn'+'dex'][_0x593d8f];if(_0x5e59bc){if(typeof _0x58f740[_0x593d8f]['enabled']=='boolean'&&(_0x5e59bc['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x5e59bc);}),_0x5e59bc['enabled']=!!_0x58f740[_0x593d8f]['enabled']),typeof _0x58f740[_0x593d8f]['attributes']=='object'){for(const _0x2eaf26 in _0x58f740[_0x593d8f]['attributes'])if(!Xo['reservedNa'+'mes']['has'](_0x2eaf26)){if(!_0x5e59bc['__attribut'+'es']['hasOwnProp'+'erty'](_0x2eaf26)){const _0x59bfc1=this['system']['app']['scripts']['get'](_0x593d8f);_0x59bfc1&&_0x59bfc1['attributes']['add'](_0x2eaf26,{});}_0x5e59bc[_0x2eaf26]=_0x58f740[_0x593d8f]['attributes'][_0x2eaf26];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x28fd3d){const _0x4cb447=this['_enabled'];this['_enabled']=_0x28fd3d,this['fire']('set','enabled',_0x4cb447,_0x28fd3d);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x9*-0x2b4+0xe*0x20e+0x4*-0x11c),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0x3*0x6d+-0x8*-0x22a+-0x4c*0x36);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x19d7ab=this['_beginLoop'+'ing']();for(let _0x3c6f37=-0x610+-0x261*0xd+0x1*0x24fd,_0x473680=this['scripts']['length'];_0x3c6f37<_0x473680;_0x3c6f37++){const _0x484003=this['scripts'][_0x3c6f37];_0x484003['_initializ'+'ed']&&!_0x484003['_postIniti'+'alized']&&_0x484003['enabled']&&(_0x484003['_postIniti'+'alized']=!(0xb9c+-0x226a+0x16ce),_0x484003['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x484003,vf));}this['_endLoopin'+'g'](_0x19d7ab);}['_beginLoop'+'ing'](){const _0x2219d1=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x16f0+-0x821+0x1f11),_0x2219d1;}['_endLoopin'+'g'](_0x313fd1){this['_isLooping'+'ThroughScr'+'ipts']=_0x313fd1,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x323bfc,_0x21af49,_0xab206b){this['_beingEnab'+'led']=!(0x1*0xffd+0x2*-0x11ef+-0x2d7*-0x7),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(0x2293+0x1114+-0x33a6);}['_checkStat'+'e'](){const _0x390e86=this['enabled']&&this['entity']['enabled'];if(_0x390e86===this['_oldState'])return;this['_oldState']=_0x390e86,this['fire'](_0x390e86?'enable':'disable'),this['fire']('state',_0x390e86),_0x390e86?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x1c563f=this['_beginLoop'+'ing']();for(let _0xd956ba=0x7*-0x3a9+0x2*0xb7+-0x1831*-0x1,_0x5f113b=this['scripts']['length'];_0xd956ba<_0x5f113b;_0xd956ba++){const _0x3e6c05=this['scripts'][_0xd956ba];_0x3e6c05['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x3e6c05);}),_0x3e6c05['enabled']=_0x3e6c05['_enabled'];}this['_endLoopin'+'g'](_0x1c563f);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x54e2a5=this['_beginLoop'+'ing']();for(let _0x28f50b=0x19bf+-0x266e+-0x1*-0xcaf;_0x28f50b<this['scripts']['length'];_0x28f50b++){const _0x4079fb=this['scripts'][_0x28f50b];_0x4079fb&&this['destroy'](_0x4079fb['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x54e2a5);}['_removeDes'+'troyedScri'+'pts'](){const _0x128a11=this['_destroyed'+'Scripts']['length'];if(_0x128a11){for(let _0x168621=0x8d5+0x16+-0x3*0x2f9;_0x168621<_0x128a11;_0x168621++){const _0x3c943a=this['_destroyed'+'Scripts'][_0x168621];this['_removeScr'+'iptInstanc'+'e'](_0x3c943a);}this['_destroyed'+'Scripts']['length']=-0xb92*-0x2+-0x5df+-0x1*0x1145,this['_resetExec'+'utionOrder'](0x9*-0x449+0xd5+0x25bc,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x4618cd=0x1*-0x121f+0xadb+-0x3*-0x26c,_0xcbfc6e=this['scripts']['length'];_0x4618cd<_0xcbfc6e;_0x4618cd++){const _0x13af21=this['scripts'][_0x4618cd];this['initialize'+'Attributes'](_0x13af21);}}['initialize'+'Attributes'](_0xf6ed4b){var _0x26ca7d;if(_0xf6ed4b instanceof ic)_0xf6ed4b['__initiali'+'zeAttribut'+'es']();else{const _0x482eaf=_0xf6ed4b['__scriptTy'+'pe']['__name'],_0x100f23=this['_attribute'+'DataMap']['get'](_0x482eaf);if(!_0x100f23)return;const _0x3ddc0c=(_0x26ca7d=this['system']['app']['scripts'])==null?void(0x1c7e+-0x1429+0xed*-0x9):_0x26ca7d['getSchema'](_0x482eaf);_0x3ddc0c||b['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x482eaf+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Cx(this['system']['app'],_0x3ddc0c['attributes'],_0x100f23,_0xf6ed4b);}}['_scriptMet'+'hod'](_0x392697,_0x3fc2b3,_0x472d3c){try{_0x392697[_0x3fc2b3](_0x472d3c);}catch(_0x173653){_0x392697['enabled']=!(0x901+-0x26ec+0x1dec),_0x392697['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x3fc2b3+'\x22\x20for\x20\x22'+_0x392697['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x173653),console['error'](_0x173653)),_0x392697['fire']('error',_0x173653,_0x3fc2b3),this['fire']('error',_0x392697,_0x173653,_0x3fc2b3);}}['_onInitial'+'ize'](){const _0x4ddad3=this['_scripts'],_0x37c7b5=this['_beginLoop'+'ing']();for(let _0x2c41e7=0x1707+0x1a46+-0x314d,_0x1ea86a=_0x4ddad3['length'];_0x2c41e7<_0x1ea86a;_0x2c41e7++){const _0x56b6dd=_0x4ddad3[_0x2c41e7];!_0x56b6dd['_initializ'+'ed']&&_0x56b6dd['enabled']&&(_0x56b6dd['_initializ'+'ed']=!(0x2056+-0x25bd+0x567),_0x56b6dd['initialize']&&this['_scriptMet'+'hod'](_0x56b6dd,Sf));}this['_endLoopin'+'g'](_0x37c7b5);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3bd4ec){const _0x8d474=this['_updateLis'+'t'];if(!_0x8d474['length'])return;const _0x43979a=this['_beginLoop'+'ing']();for(_0x8d474['loopIndex']=-0x17e+-0x26*0xc7+0x2*0xf84;_0x8d474['loopIndex']<_0x8d474['length'];_0x8d474['loopIndex']++){const _0x367568=_0x8d474['items'][_0x8d474['loopIndex']];_0x367568['enabled']&&this['_scriptMet'+'hod'](_0x367568,eD,_0x3bd4ec);}this['_endLoopin'+'g'](_0x43979a);}['_onPostUpd'+'ate'](_0x3611c2){const _0x4afcb7=this['_postUpdat'+'eList'];if(!_0x4afcb7['length'])return;const _0x182ef7=this['_beginLoop'+'ing']();for(_0x4afcb7['loopIndex']=0x1bb0+-0x1*-0x839+-0x23e9;_0x4afcb7['loopIndex']<_0x4afcb7['length'];_0x4afcb7['loopIndex']++){const _0x73f12=_0x4afcb7['items'][_0x4afcb7['loopIndex']];_0x73f12['enabled']&&this['_scriptMet'+'hod'](_0x73f12,tD,_0x3611c2);}this['_endLoopin'+'g'](_0x182ef7);}['_insertScr'+'iptInstanc'+'e'](_0x57e071,_0x1bad01,_0x3af590){_0x1bad01===-(0x15b7+-0x46a+-0x114c)?(this['_scripts']['push'](_0x57e071),_0x57e071['__executio'+'nOrder']=_0x3af590,_0x57e071['update']&&this['_updateLis'+'t']['append'](_0x57e071),_0x57e071['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x57e071)):(this['_scripts']['splice'](_0x1bad01,0x1533+-0x263f+-0x110c*-0x1,_0x57e071),_0x57e071['__executio'+'nOrder']=_0x1bad01,this['_resetExec'+'utionOrder'](_0x1bad01+(-0x1*-0x16cd+0x1ac8+-0x4*0xc65),_0x3af590+(-0x1*-0xb5d+0x4*0x59b+-0x439*0x8)),_0x57e071['update']&&this['_updateLis'+'t']['insert'](_0x57e071),_0x57e071['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x57e071));}['_removeScr'+'iptInstanc'+'e'](_0xe5aea2){const _0x106a94=this['_scripts']['indexOf'](_0xe5aea2);return _0x106a94===-(-0x125f+-0xc08+0x1e68)||(this['_scripts']['splice'](_0x106a94,-0x539*-0x2+-0x7*0xd1+-0x2*0x25d),_0xe5aea2['update']&&this['_updateLis'+'t']['remove'](_0xe5aea2),_0xe5aea2['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0xe5aea2)),_0x106a94;}['_resetExec'+'utionOrder'](_0x157662,_0x4be0d4){for(let _0x34625c=_0x157662;_0x34625c<_0x4be0d4;_0x34625c++)this['_scripts'][_0x34625c]['__executio'+'nOrder']=_0x34625c;}['_resolveEn'+'tityScript'+'Attribute'](_0x5ccee1,_0x1b5490,_0x2110d3,_0x2f1ebb,_0x2f2ead,_0x2087d7){if(_0x5ccee1['array']){const _0x8604a0=_0x2110d3['length'];if(!_0x8604a0)return;const _0x5b363f=_0x2110d3['slice']();for(let _0x3a9a6d=0x25ac*0x1+0x2*-0xd85+-0x1*0xaa2;_0x3a9a6d<_0x8604a0;_0x3a9a6d++){const _0x1a2e23=_0x5b363f[_0x3a9a6d]instanceof je?_0x5b363f[_0x3a9a6d]['getGuid']():_0x5b363f[_0x3a9a6d];_0x2087d7[_0x1a2e23]&&(_0x5b363f[_0x3a9a6d]=_0x2f1ebb?_0x2087d7[_0x1a2e23]['getGuid']():_0x2087d7[_0x1a2e23]);}_0x2f2ead[_0x1b5490]=_0x5b363f;}else{if(_0x2110d3 instanceof je)_0x2110d3=_0x2110d3['getGuid']();else{if(typeof _0x2110d3!='string')return;}_0x2087d7[_0x2110d3]&&(_0x2f2ead[_0x1b5490]=_0x2087d7[_0x2110d3]);}}['has'](_0x30534d){if(typeof _0x30534d=='string')return!!this['_scriptsIn'+'dex'][_0x30534d];if(!_0x30534d)return!(0x75c+-0x34f+-0x1c*0x25);const _0x508347=_0x30534d,_0x4987a4=_0x508347['__name'],_0xc03a0e=this['_scriptsIn'+'dex'][_0x4987a4];return(_0xc03a0e&&_0xc03a0e['instance'])instanceof _0x508347;}['get'](_0xe2c603){if(typeof _0xe2c603=='string'){const _0xbb6f68=this['_scriptsIn'+'dex'][_0xe2c603];return _0xbb6f68?_0xbb6f68['instance']:null;}if(!_0xe2c603)return null;const _0x563681=_0xe2c603,_0x4c61fe=_0x563681['__name'],_0x43c9ee=this['_scriptsIn'+'dex'][_0x4c61fe],_0x38a85d=_0x43c9ee&&_0x43c9ee['instance'];return _0x38a85d instanceof _0x563681?_0x38a85d:null;}['create'](_0x13774c,_0x547959={}){const _0x11e2fa=this;let _0x52a251=_0x13774c,_0x2135e4=_0x13774c;if(typeof _0x52a251=='string'?_0x52a251=this['system']['app']['scripts']['get'](_0x52a251):_0x52a251&&(_0x2135e4=_0x52a251['__name']??(_0x52a251['__name']=rD(Mx(_0x52a251)))),_0x52a251){if(!this['_scriptsIn'+'dex'][_0x2135e4]||!this['_scriptsIn'+'dex'][_0x2135e4]['instance']){const _0x9cf86=new _0x52a251({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x547959['hasOwnProp'+'erty']('enabled')?_0x547959['enabled']:!(0x206f*-0x1+0xa8+0x1fc7),'attributes':_0x547959['attributes']||{}});_0x547959['properties']&&typeof _0x547959['properties']=='object'&&Object['assign'](_0x9cf86,_0x547959['properties']),_0x9cf86 instanceof ic||this['_attribute'+'DataMap']['set'](_0x2135e4,_0x547959['attributes']);const _0x2a3df8=this['_scripts']['length'];let _0x1ddab5=-(0xb00+-0x1818+0x1df*0x7);return typeof _0x547959['ind']=='number'&&_0x547959['ind']!==-(0x22*0xf7+0x101b+-0x14*0x272)&&_0x2a3df8>_0x547959['ind']&&(_0x1ddab5=_0x547959['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x9cf86,_0x1ddab5,_0x2a3df8),this['_scriptsIn'+'dex'][_0x2135e4]={'instance':_0x9cf86,'onSwap':function(){_0x11e2fa['swap'](_0x2135e4);}},this[_0x2135e4]=_0x9cf86,_0x547959['preloading']||this['initialize'+'Attributes'](_0x9cf86),this['fire']('create',_0x2135e4,_0x9cf86),this['fire']('create:'+_0x2135e4,_0x9cf86),this['system']['app']['scripts']['on']('swap:'+_0x2135e4,this['_scriptsIn'+'dex'][_0x2135e4]['onSwap']),_0x547959['preloading']||(_0x9cf86['enabled']&&!_0x9cf86['_initializ'+'ed']&&(_0x9cf86['_initializ'+'ed']=!(0x1a39*-0x1+-0x42*-0x3d+0xa7f),_0x9cf86['initialize']&&this['_scriptMet'+'hod'](_0x9cf86,Sf)),_0x9cf86['enabled']&&!_0x9cf86['_postIniti'+'alized']&&(_0x9cf86['_postIniti'+'alized']=!(0x9*0x9f+0x1a3e+-0x1fd5),_0x9cf86['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x9cf86,vf))),_0x9cf86;}b['warn']('script\x20\x27'+_0x2135e4+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x2135e4]={'awaiting':!(-0x7bd*-0x1+-0x1*0x2cc+0x73*-0xb),'ind':this['_scripts']['length']},b['warn']('script\x20\x27'+_0x2135e4+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x2a9601){let _0x2b7b11=_0x2a9601,_0x54fcde=_0x2a9601;typeof _0x54fcde=='string'?_0x54fcde=this['system']['app']['scripts']['get'](_0x54fcde):_0x54fcde&&(_0x2b7b11=_0x54fcde['__name']);const _0x2f6fcb=this['_scriptsIn'+'dex'][_0x2b7b11];if(delete this['_scriptsIn'+'dex'][_0x2b7b11],!_0x2f6fcb)return!(0x1*0x1eb5+-0x1e0e+-0xa6);this['_attribute'+'DataMap']['delete'](_0x2b7b11);const _0x21476b=_0x2f6fcb['instance'];if(_0x21476b&&!_0x21476b['_destroyed']){if(_0x21476b['enabled']=!(0xe4c+0xbea+-0x1a35),_0x21476b['_destroyed']=!(0x21a5+0xa06+-0x2bab),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x21476b);else{const _0x55ec2b=this['_removeScr'+'iptInstanc'+'e'](_0x21476b);_0x55ec2b>=0x22cb+-0x3d*0x32+-0x16e1&&this['_resetExec'+'utionOrder'](_0x55ec2b,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x2b7b11,_0x2f6fcb['onSwap']),delete this[_0x2b7b11],this['fire']('destroy',_0x2b7b11,_0x21476b||null),this['fire']('destroy:'+_0x2b7b11,_0x21476b||null),_0x21476b&&_0x21476b['fire']('destroy'),!(0x196a+0x9f3+0x337*-0xb);}['swap'](_0x4d20df){let _0x2a4f32=_0x4d20df,_0x38e26a=_0x4d20df;typeof _0x38e26a=='string'?_0x38e26a=this['system']['app']['scripts']['get'](_0x38e26a):_0x38e26a&&(_0x2a4f32=_0x38e26a['__name']);const _0x546675=this['_scriptsIn'+'dex'][_0x2a4f32];if(!_0x546675||!_0x546675['instance'])return!(0x19a2+-0x170d+0x42*-0xa);const _0x3ba67c=_0x546675['instance'],_0x154913=this['_scripts']['indexOf'](_0x3ba67c),_0x1bdf5c=new _0x38e26a({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x3ba67c['enabled'],'attributes':_0x3ba67c['__attribut'+'es']});return _0x1bdf5c['swap']?(this['initialize'+'Attributes'](_0x1bdf5c),this['_scripts'][_0x154913]=_0x1bdf5c,this['_scriptsIn'+'dex'][_0x2a4f32]['instance']=_0x1bdf5c,this[_0x2a4f32]=_0x1bdf5c,_0x1bdf5c['__executio'+'nOrder']=_0x154913,_0x3ba67c['update']&&this['_updateLis'+'t']['remove'](_0x3ba67c),_0x3ba67c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x3ba67c),_0x1bdf5c['update']&&this['_updateLis'+'t']['insert'](_0x1bdf5c),_0x1bdf5c['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x1bdf5c),this['_scriptMet'+'hod'](_0x1bdf5c,sD,_0x3ba67c),this['fire']('swap',_0x2a4f32,_0x1bdf5c),this['fire']('swap:'+_0x2a4f32,_0x1bdf5c),!(0xf25+0xdf1+0x4d9*-0x6)):!(0x1c*0x1a+-0x26bb*-0x1+0x272*-0x11);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3ab63a,_0x351e5c){const _0x43039b=this['entity']['script'];for(const _0x40600b in _0x3ab63a['_scriptsIn'+'dex']){const _0x3a4097=this['system']['app']['scripts']['get'](_0x40600b);if(!_0x3a4097)continue;const _0x4df143=_0x3ab63a['_scriptsIn'+'dex'][_0x40600b];if(!_0x4df143||!_0x4df143['instance'])continue;const _0x1d2bec=_0x43039b[_0x40600b]['__attribut'+'esRaw'],_0x3a2d66=_0x43039b[_0x40600b]['__attribut'+'es'];if(!_0x1d2bec&&!_0x3a2d66)continue;const _0x105eab=!!_0x1d2bec,_0xcb5770=_0x4df143['instance']['__attribut'+'es'];for(const _0x33af06 in _0xcb5770){if(!_0xcb5770[_0x33af06])continue;const _0x409f69=_0x3a4097['attributes']['get'](_0x33af06);if(_0x409f69){if(_0x409f69['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x409f69,_0x33af06,_0xcb5770[_0x33af06],_0x105eab,_0x1d2bec||_0x3a2d66,_0x351e5c);else{if(_0x409f69['type']==='json'&&Array['isArray'](_0x409f69['schema'])){const _0x5096ad=_0xcb5770[_0x33af06],_0x35eb6b=_0x1d2bec?_0x1d2bec[_0x33af06]:_0x3a2d66[_0x33af06];for(let _0x35b5f5=0xa7d+-0x25ee+0x1b71;_0x35b5f5<_0x409f69['schema']['length'];_0x35b5f5++){const _0x1871a2=_0x409f69['schema'][_0x35b5f5];if(_0x1871a2['type']==='entity'){if(_0x409f69['array']){for(let _0x14148d=-0xe8a+0x1*-0x4b5+-0x17b*-0xd;_0x14148d<_0x5096ad['length'];_0x14148d++)this['_resolveEn'+'tityScript'+'Attribute'](_0x1871a2,_0x1871a2['name'],_0x5096ad[_0x14148d][_0x1871a2['name']],_0x105eab,_0x35eb6b[_0x14148d],_0x351e5c);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x1871a2,_0x1871a2['name'],_0x5096ad[_0x1871a2['name']],_0x105eab,_0x35eb6b,_0x351e5c);}}}}}}}}['move'](_0x1bd58c,_0x345f28){const _0x8cf098=this['_scripts']['length'];if(_0x345f28>=_0x8cf098||_0x345f28<0x1*0x2009+0x26f3+-0x46fc)return!(0x1c9*0xb+-0xe*0x28b+0x3fe*0x4);let _0x5397ee=_0x1bd58c,_0x5b0f77=_0x1bd58c;typeof _0x5b0f77!='string'?_0x5b0f77=_0x1bd58c['__name']:_0x5397ee=null;const _0x2aa6f7=this['_scriptsIn'+'dex'][_0x5b0f77];if(!_0x2aa6f7||!_0x2aa6f7['instance'])return!(-0x2*0x9c7+0x1cf6+-0x53*0x1d);const _0x16c4f6=_0x2aa6f7['instance'];if(_0x5397ee&&!(_0x16c4f6 instanceof _0x5397ee))return!(0x1cb1+0x15d1+-0x3281);const _0x229bf9=this['_scripts']['indexOf'](_0x16c4f6);return _0x229bf9===-(0x9db+0x127c+-0x75*0x3e)||_0x229bf9===_0x345f28?!(-0x1934+0x2e*0x4e+0xb31):(this['_scripts']['splice'](_0x345f28,0x4c9*-0x7+-0xf3+0x1*0x2272,this['_scripts']['splice'](_0x229bf9,0x2*0xe92+-0x305+0xd0f*-0x2)[-0x9db+-0xdf9+0x17d4]),this['_resetExec'+'utionOrder'](0xeb6+-0x1e6f+0xfb9,_0x8cf098),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x5b0f77,_0x16c4f6,_0x345f28,_0x229bf9),this['fire']('move:'+_0x5b0f77,_0x16c4f6,_0x345f28,_0x229bf9),!(0x3*-0x2f+0xf*0x1d3+-0x1ad0));}}c(_i,'EVENT_CREA'+'TE','create'),c(_i,'EVENT_DEST'+'ROY','destroy'),c(_i,'EVENT_ENAB'+'LE','enable'),c(_i,'EVENT_DISA'+'BLE','disable'),c(_i,'EVENT_REMO'+'VE','remove'),c(_i,'EVENT_STAT'+'E','state'),c(_i,'EVENT_MOVE','move'),c(_i,'EVENT_ERRO'+'R','error');class nD{constructor(){this['enabled']=!(-0x8fe+-0x58a+0x6*0x26c);}}const aD='_onInitial'+'izeAttribu'+'tes',oD='_onInitial'+'ize',lD='_onPostIni'+'tialize',hD='_onUpdate',cD='_onPostUpd'+'ate';let rh=-0xc8f+0x584+-0x1*-0x70b;class dD extends Qe{constructor(_0x3d255d){super(_0x3d255d),this['id']='script',this['ComponentT'+'ype']=_i,this['DataType']=nD,this['_component'+'s']=new Mh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new Mh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x26be+0x22ec+-0xc47*0x6),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x866748,_0x7ca258){if(_0x866748['_execution'+'Order']=rh++,this['_component'+'s']['append'](_0x866748),rh>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x866748['enabled']=_0x7ca258['hasOwnProp'+'erty']('enabled')?!!_0x7ca258['enabled']:!(0x1e81+-0xad2+-0x13af),_0x866748['enabled']&&_0x866748['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x866748),_0x7ca258['hasOwnProp'+'erty']('order')&&_0x7ca258['hasOwnProp'+'erty']('scripts')){_0x866748['_scriptsDa'+'ta']=_0x7ca258['scripts'];for(let _0x3afafa=0x17f*-0x19+-0x13d9+0x3940;_0x3afafa<_0x7ca258['order']['length'];_0x3afafa++)_0x866748['create'](_0x7ca258['order'][_0x3afafa],{'enabled':_0x7ca258['scripts'][_0x7ca258['order'][_0x3afafa]]['enabled'],'attributes':_0x7ca258['scripts'][_0x7ca258['order'][_0x3afafa]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x4702dc,_0x5d7084){var _0x512f4e;const _0x63ee3b=[],_0x76edac={};for(let _0x3738e6=0x17f*0xc+-0x86b*0x1+-0x989;_0x3738e6<_0x4702dc['script']['_scripts']['length'];_0x3738e6++){const _0x5c84a3=_0x4702dc['script']['_scripts'][_0x3738e6],_0x480d34=_0x5c84a3['__scriptTy'+'pe']['__name'];_0x63ee3b['push'](_0x480d34);const _0x1e63ad=((_0x512f4e=_0x4702dc['script']['_attribute'+'DataMap'])==null?void(0x1*-0x1b42+0x2*-0xa+0x1*0x1b56):_0x512f4e['get'](_0x480d34))||{};for(const _0x505e6b in _0x5c84a3['__attribut'+'es'])_0x1e63ad[_0x505e6b]=_0x5c84a3['__attribut'+'es'][_0x505e6b];_0x76edac[_0x480d34]={'enabled':_0x5c84a3['_enabled'],'attributes':_0x1e63ad};}for(const _0x2b67f0 in _0x4702dc['script']['_scriptsIn'+'dex'])_0x2b67f0['awaiting']&&_0x63ee3b['splice'](_0x2b67f0['ind'],-0x1c1e+0xa60+0x11be,_0x2b67f0);const _0x44df82={'enabled':_0x4702dc['script']['enabled'],'order':_0x63ee3b,'scripts':_0x76edac};return this['addCompone'+'nt'](_0x5d7084,_0x44df82);}['_resetExec'+'utionOrder'](){rh=0x1*0x9b5+-0x2*0xd62+0x110f;for(let _0x387fdd=0xaf1*-0x1+0x1300+0x1*-0x80f,_0x4ab4fb=this['_component'+'s']['length'];_0x387fdd<_0x4ab4fb;_0x387fdd++)this['_component'+'s']['items'][_0x387fdd]['_execution'+'Order']=rh++;}['_callCompo'+'nentMethod'](_0x4dc78a,_0x431922,_0x44a833){for(_0x4dc78a['loopIndex']=-0x9d*0x1+0x1af3+0xd2b*-0x2;_0x4dc78a['loopIndex']<_0x4dc78a['length'];_0x4dc78a['loopIndex']++)_0x4dc78a['items'][_0x4dc78a['loopIndex']][_0x431922](_0x44a833);}['_onInitial'+'ize'](){this['preloading']=!(0x6a*-0x52+0x236*-0x6+0xb*0x44b),this['_callCompo'+'nentMethod'](this['_component'+'s'],aD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD);}['_onUpdate'](_0x58ff0d){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x58ff0d);}['_onPostUpd'+'ate'](_0x4006cc){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],cD,_0x4006cc);}['_addCompon'+'entToEnabl'+'ed'](_0x8503b4){this['_enabledCo'+'mponents']['insert'](_0x8503b4);}['_removeCom'+'ponentFrom'+'Enabled'](_0x486242){this['_enabledCo'+'mponents']['remove'](_0x486242);}['_onBeforeR'+'emove'](_0x1c1982,_0xa4c365){this['_component'+'s']['items']['indexOf'](_0xa4c365)>=0x2*0xa63+-0x3df+-0x10e7*0x1&&_0xa4c365['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0xa4c365),this['_component'+'s']['remove'](_0xa4c365);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Px extends pe{constructor(_0x3b2d76,_0x4fc99f){super(_0x3b2d76,_0x4fc99f),c(this,'_layers',[zi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new qo('asset',this,_0x3b2d76['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x4fc99f['on']('remove',this['onRemoveCh'+'ild'],this),_0x4fc99f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4fc99f['on']('insert',this['onInsertCh'+'ild'],this),_0x4fc99f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0xb050da){var _0x430ad5,_0x4df969;this['_customAab'+'b']=_0xb050da,(_0x4df969=(_0x430ad5=this['_instance'])==null?void(-0x1ee4+0x1*0x106d+0xe77):_0x430ad5['meshInstan'+'ce'])==null||_0x4df969['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x13daf5){var _0x328954;if(this['destroyIns'+'tance'](),this['_instance']=_0x13daf5,(_0x328954=this['_instance'])!=null&&_0x328954['meshInstan'+'ce']){const _0x1eb9ec=this['_instance']['meshInstan'+'ce'];_0x1eb9ec['node']||(_0x1eb9ec['node']=this['entity']),_0x1eb9ec['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x1bab68){this['_materialO'+'ptions']=Object['assign']({},_0x1bab68),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0x4e3819;return(_0x4e3819=this['_instance'])==null?void(0x97d+-0x211c+0x179f*0x1):_0x4e3819['material'];}set['layers'](_0x17f22e){this['removeFrom'+'Layers'](),this['_layers']['length']=0x335*-0x5+-0x2*0x1c7+0x11*0x127;for(let _0x57c16f=0x649*0x2+-0x1*-0xc1c+-0x9*0x2be;_0x57c16f<_0x17f22e['length'];_0x57c16f++)this['_layers'][_0x57c16f]=_0x17f22e[_0x57c16f];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x258618){const _0x29b571=_0x258618 instanceof he?_0x258618['id']:_0x258618;this['_assetRefe'+'rence']['id']!==_0x29b571&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x29b571,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0xdbb88){const _0x2ee59=_0xdbb88 instanceof he?_0xdbb88['id']:_0xdbb88;this['_assetRefe'+'rence']['id']=_0x2ee59;}['destroyIns'+'tance'](){var _0x226909;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x226909=this['_instance'])==null||_0x226909['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x234627,_0x338c3d;const _0x2e49a5=(_0x234627=this['instance'])==null?void(0x404*-0x5+0x358+0x10bc):_0x234627['meshInstan'+'ce'];if(_0x2e49a5){const _0x541a26=this['system']['app']['scene']['layers'];for(let _0x193773=0x10*0xef+0x220c*0x1+-0x30fc;_0x193773<this['_layers']['length'];_0x193773++)(_0x338c3d=_0x541a26['getLayerBy'+'Id'](this['_layers'][_0x193773]))==null||_0x338c3d['addMeshIns'+'tances']([_0x2e49a5]);}}['removeFrom'+'Layers'](){var _0x5bd8c7,_0x2cabe1;const _0x4288a4=(_0x5bd8c7=this['instance'])==null?void(0x1b52+-0x87a+-0x12d8):_0x5bd8c7['meshInstan'+'ce'];if(_0x4288a4){const _0x50fb24=this['system']['app']['scene']['layers'];for(let _0x206385=0x59a+0x23*-0xf+-0x38d;_0x206385<this['_layers']['length'];_0x206385++)(_0x2cabe1=_0x50fb24['getLayerBy'+'Id'](this['_layers'][_0x206385]))==null||_0x2cabe1['removeMesh'+'Instances']([_0x4288a4]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2add92,_0x348f6b){this['addToLayer'+'s'](),_0x2add92['off']('add',this['onLayerAdd'+'ed'],this),_0x2add92['off']('remove',this['onLayerRem'+'oved'],this),_0x348f6b['on']('add',this['onLayerAdd'+'ed'],this),_0x348f6b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5622ae){this['layers']['indexOf'](_0x5622ae['id'])<0x15be+-0x1*-0x151+-0x170f||this['_instance']&&_0x5622ae['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x1bd3e4){this['layers']['indexOf'](_0x1bd3e4['id'])<-0x251*0x7+-0xa4b+0xea*0x1d||this['_instance']&&_0x1bd3e4['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x4e6884=this['system']['app']['scene'],_0x5740dc=_0x4e6884['layers'];this['_evtLayers'+'Changed']=_0x4e6884['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5740dc&&(this['_evtLayerA'+'dded']=_0x5740dc['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5740dc['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x54c369,_0xbf62d1,_0x4671c2;const _0x3678bb=this['system']['app']['scene']['layers'];(_0x54c369=this['_evtLayers'+'Changed'])==null||_0x54c369['off'](),this['_evtLayers'+'Changed']=null,_0x3678bb&&((_0xbf62d1=this['_evtLayerA'+'dded'])==null||_0xbf62d1['off'](),this['_evtLayerA'+'dded']=null,(_0x4671c2=this['_evtLayerR'+'emoved'])==null||_0x4671c2['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x10fe+-0x107*-0xa+0x7*-0x3e5));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1bb9+0x22b3+-0x3e6c));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x199bb9=this['_assetRefe'+'rence']['asset'];_0x199bb9&&(this['instance']=_0x199bb9['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class uD{constructor(){this['enabled']=!(-0x11*0x1+0x214+0x5*-0x67);}}const bf=['enabled'],Ir=['instance','asset','layers'];class fD extends Qe{constructor(_0x40e72f){super(_0x40e72f),this['id']='gsplat',this['ComponentT'+'ype']=Px,this['DataType']=uD,this['schema']=bf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x337a71,_0x4bd558,_0x303cda){_0x4bd558['layers']&&_0x4bd558['layers']['length']&&(_0x4bd558['layers']=_0x4bd558['layers']['slice'](0xa*-0x397+-0x1b43+-0x1*-0x3f29));for(let _0x11501b=-0x1c*0x1+0x936+-0x91a;_0x11501b<Ir['length'];_0x11501b++)_0x4bd558['hasOwnProp'+'erty'](Ir[_0x11501b])&&(_0x337a71[Ir[_0x11501b]]=_0x4bd558[Ir[_0x11501b]]);_0x4bd558['aabbCenter']&&_0x4bd558['aabbHalfEx'+'tents']&&(_0x337a71['customAabb']=new ve(new A(_0x4bd558['aabbCenter']),new A(_0x4bd558['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x337a71,_0x4bd558,bf);}['cloneCompo'+'nent'](_0x535da7,_0x350525){const _0x577690=_0x535da7['gsplat'],_0x42022e={};for(let _0x558a11=0x20b*-0xb+-0xc7f+0x22f8;_0x558a11<Ir['length'];_0x558a11++)_0x42022e[Ir[_0x558a11]]=_0x577690[Ir[_0x558a11]];_0x42022e['enabled']=_0x577690['enabled'],delete _0x42022e['instance'];const _0x38e093=this['addCompone'+'nt'](_0x350525,_0x42022e);return _0x38e093['instance']=_0x577690['instance']['clone'](),_0x577690['customAabb']&&(_0x38e093['customAabb']=_0x577690['customAabb']['clone']()),_0x38e093;}['onRemove'](_0x6f5fd3,_0x3d1cac){_0x3d1cac['onRemove']();}}pe['_buildAcce'+'ssors'](Px['prototype'],bf);class Xp extends de{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x4f3dac){this['decRefMesh'+'es'](),this['_meshes']=_0x4f3dac,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x4f3dac);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x43dac6;(_0x43dac6=this['_meshes'])==null||_0x43dac6['forEach']((_0x492667,_0x5b2635)=>{_0x492667&&(_0x492667['decRefCoun'+'t'](),_0x492667['refCount']<0x13f3+-0xa*0x235+0x220&&(_0x492667['destroy'](),this['_meshes'][_0x5b2635]=null));});}['incRefMesh'+'es'](){var _0x225065;(_0x225065=this['_meshes'])==null||_0x225065['forEach'](_0x5a6848=>{_0x5a6848==null||_0x5a6848['incRefCoun'+'t']();});}}c(Xp,'EVENT_SETM'+'ESHES','set:meshes');function wh(_0x2c26e2){const _0x43435d=this;if(!_0x43435d['resource'])return;const _0x2993d0=_0x2c26e2['resource'],_0x45b126=_0x2993d0['renders']&&_0x2993d0['renders'][_0x43435d['data']['renderInde'+'x']];_0x45b126&&(_0x43435d['resource']['meshes']=_0x45b126['resource']['meshes']);}function Fg(_0x10e110){const _0x92780=this;_0x92780['registry']['off']('load:'+_0x10e110['id'],wh,_0x92780),_0x92780['registry']['on']('load:'+_0x10e110['id'],wh,_0x92780),_0x92780['registry']['off']('remove:'+_0x10e110['id'],kg,_0x92780),_0x92780['registry']['once']('remove:'+_0x10e110['id'],kg,_0x92780),_0x10e110['resource']?wh['call'](_0x92780,_0x10e110):_0x92780['registry']['load'](_0x10e110);}function kg(_0x4c5d38){const _0x5ee275=this;_0x5ee275['registry']['off']('load:'+_0x4c5d38['id'],wh,_0x5ee275),_0x5ee275['resource']&&_0x5ee275['resource']['destroy']();}class pD extends Ge{constructor(_0x506e08){super(_0x506e08,'render'),this['_registry']=_0x506e08['assets'];}['open'](_0x18f743,_0x2b9b5c){return new Xp();}['patch'](_0x320fd1,_0x3c0e93){if(!_0x320fd1['data']['containerA'+'sset'])return;const _0x453506=_0x3c0e93['get'](_0x320fd1['data']['containerA'+'sset']);if(!_0x453506){_0x3c0e93['once']('add:'+_0x320fd1['data']['containerA'+'sset'],Fg,_0x320fd1);return;}Fg['call'](_0x320fd1,_0x453506);}}class Rx{constructor(_0x39abaf,_0x1d329d,_0x514328,_0x5f5a6b){this['_paths']=_0x39abaf,this['_input']=_0x1d329d,this['_output']=_0x514328,this['_interpola'+'tion']=_0x5f5a6b;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class rc{constructor(_0x49c12a,_0x9f9794){this['_component'+'s']=_0x49c12a,this['_data']=_0x9f9794;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function mD(_0x10e674,_0x448e84){let _0x470ba7;const _0x2b1ea0=(_0xd0682e,_0x438a36)=>{switch(_0x438a36){case _0x470ba7['DT_INT8']:return new Int8Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']);case _0x470ba7['DT_INT16']:return new Int16Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']/(-0x1ce0+0x3bb+0x1927));case _0x470ba7['DT_INT32']:return new Int32Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']/(-0x1*-0x693+0x1283+-0x1912));case _0x470ba7['DT_UINT8']:return new Uint8Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']);case _0x470ba7['DT_UINT16']:return new Uint16Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']/(-0x1*-0x2333+-0x17*-0x1+-0x2348*0x1));case _0x470ba7['DT_UINT32']:return new Uint32Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']/(0x1*-0xce7+0x1658+-0x96d));case _0x470ba7['DT_FLOAT32']:return new Float32Array(_0xd0682e['buffer'],_0xd0682e['byteOffset'],_0xd0682e['byteLength']/(-0x1b43+0x135a*0x1+0x7ed));}return null;},_0x325af9=_0x5c7b26=>{switch(_0x5c7b26){case _0x470ba7['DT_INT8']:return 0x2*-0x87b+0x100c+0xeb*0x1;case _0x470ba7['DT_INT16']:return 0x1aa5+-0x3*0x337+-0x10fe;case _0x470ba7['DT_INT32']:return-0x1e64+-0xbcd+-0x5*-0x871;case _0x470ba7['DT_UINT8']:return 0xaad*-0x1+-0x1681+0x212f;case _0x470ba7['DT_UINT16']:return-0x24ad+-0x984+0x2e33;case _0x470ba7['DT_UINT32']:return-0x1058+0xbe*-0x5+0x1412;case _0x470ba7['DT_FLOAT32']:return 0x2*-0xa27+-0xfe8+0x2*0x121d;}return-0x803*-0x1+-0x5*-0x400+-0xef*0x1e;},_0x37abf4=_0x1356e6=>_0x1356e6['num_compon'+'ents']()*_0x325af9(_0x1356e6['data_type']()),_0x195b9f={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x599631=(_0x36daf4,_0x50fca4)=>{const _0x595265=(_0x34f8f8,_0x366607,_0x510566)=>{_0x34f8f8[-0xe1d+0x1fa6+-0x1189]=_0x366607[0x4*-0x106+-0x45*0x62+0x1e82]-_0x510566[-0x1b*-0x10+0x77c*0x1+-0x496*0x2],_0x34f8f8[0x1*-0x3be+0x1*0x4f+0x370]=_0x366607[0x1fb1*0x1+-0xe25+-0x118b]-_0x510566[-0x246d*0x1+-0x1547+-0x11*-0x365],_0x34f8f8[-0x1e9b+0xed5+0xfc8]=_0x366607[0x1989+-0x2640+0xcb9]-_0x510566[0x530+-0xb5*0x35+0x204b];},_0x5b0a71=(_0x17d3a6,_0x122b5a,_0x8ec4c2)=>{_0x17d3a6[-0x25bb+0xe7+0x24d4]=_0x122b5a[0x1c*-0x122+0x803+0x17b6]*_0x8ec4c2[0x7c9*0x1+-0xfb*-0x4+-0x5*0x257]-_0x8ec4c2[-0x1f*0x26+-0x6b*0x53+0x274c]*_0x122b5a[0x1c*-0x9d+-0x1*-0x137+0x43*0x3d],_0x17d3a6[-0x18*0x99+-0x1df2*0x1+-0x2c4b*-0x1]=_0x122b5a[0x1e1b+0x1*0xb46+-0x7*0x5e9]*_0x8ec4c2[0x1607+-0x457*-0x3+0x1186*-0x2]-_0x8ec4c2[-0xdc6*0x2+-0xb0c+0x44a*0x9]*_0x122b5a[0xa5*0x19+0x1*-0xc04+-0x419],_0x17d3a6[-0x2042+-0x795+0x1*0x27d9]=_0x122b5a[-0x10c3+-0x67*-0x3+0x2*0x7c7]*_0x8ec4c2[0x713*0x1+0x2108+-0x281a]-_0x8ec4c2[0x607*-0x1+-0x3*-0xc6d+-0xfa0*0x2]*_0x122b5a[0x1*-0x2423+-0xcb3*-0x1+0x1771];},_0x5b96bb=(_0x2f1752,_0x23e3d8)=>{const _0x5cc7b3=_0x2f1752[_0x23e3d8+(-0x407*0x7+0x46c+-0x17c5*-0x1)],_0x2a5cc0=_0x2f1752[_0x23e3d8+(0x4cb*0x2+0x5*-0x616+0x251*0x9)],_0x33b613=_0x2f1752[_0x23e3d8+(-0x1302*0x1+0x1c86+-0x2*0x4c1)],_0x48ed8c=(0x1412+-0x1e12+0xa01)/Math['sqrt'](_0x5cc7b3*_0x5cc7b3+_0x2a5cc0*_0x2a5cc0+_0x33b613*_0x33b613);_0x2f1752[_0x23e3d8+(-0x87a+-0x60e+0xe88)]*=_0x48ed8c,_0x2f1752[_0x23e3d8+(-0x43*-0x93+0x536*0x1+0x1*-0x2bae)]*=_0x48ed8c,_0x2f1752[_0x23e3d8+(-0x265*-0xd+0xeb6*-0x1+-0x1069)]*=_0x48ed8c;},_0x2a3efe=(_0x7460c5,_0x1f6ca6,_0x1a39d9)=>{for(let _0x2888a2=0x799+0x79*-0x11+0x70;_0x2888a2<-0x2*-0xfb1+-0x1acb+-0x494;++_0x2888a2)_0x7460c5[_0x2888a2]=_0x1f6ca6[_0x1a39d9+_0x2888a2];},_0x35b143=_0x50fca4['length']/(0x509*-0x2+0x1*-0xbe1+0x15f6),_0x48768a=_0x36daf4['length']/(-0x1*0xfea+-0x82f*-0x2+-0x71),_0x6c0279=new Float32Array(_0x36daf4['length']),_0x485bcf=[-0xb38+-0xbee*0x2+0x2314,0x257d+-0x3*0x9d3+0x12*-0x72,0x2*-0x2cf+-0xb02+0x10a0],_0x5c9aff=[0x24*0x49+-0x108+-0x93c,-0x1c76*0x1+0x1a84+0x1f2,-0x2093+0x1567*-0x1+-0x8d*-0x62],_0x4a38a8=[0x9d7*0x2+0x1da2*0x1+-0x3150,-0x782+-0x2*-0xe95+-0x15a8*0x1,0xd51*0x1+-0x1*-0x1384+-0x20d5],_0xe991bb=[-0x13d*0xb+0x133*-0x14+0x259b,0x4d*0x7c+-0x764+-0x6*0x4fc,-0xb88+0x205b+-0x14d3],_0x815b1b=[-0x56+-0x2*0xf59+0xc*0x296,-0x2*0xdd9+0x1adb+0xd7,-0x5*0x583+0x34d+0x1842],_0x3fe550=[-0x358+-0x62c+-0x1*-0x984,-0x6d*0x13+0xf28+-0x43*0x1b,-0x19a+-0x755*-0x2+-0xd10];for(let _0x20bac0=0x1e98+0x1044+-0x2*0x176e;_0x20bac0<_0x35b143;++_0x20bac0){const _0x305209=_0x50fca4[_0x20bac0*(-0x1b*-0xe+0x1*0x151e+-0x1695)+(0x25*-0xd3+-0xc0e+-0xe2f*-0x3)]*(0x3e8+0x1*-0x1d43+0x195e*0x1),_0x4eb648=_0x50fca4[_0x20bac0*(0x1f26+0xc4b*0x3+0xc*-0x5ab)+(0x8ea*0x2+-0x2*-0x833+-0x2239*0x1)]*(0x1*0x525+0x1796+-0xe5c*0x2),_0x3f64ba=_0x50fca4[_0x20bac0*(-0x1cd7+0x1dd9+-0x3*0x55)+(0x1def+-0x54a+-0x18a3)]*(0x537*0x5+0x1993+0x1*-0x33a3);_0x2a3efe(_0x485bcf,_0x36daf4,_0x305209),_0x2a3efe(_0x5c9aff,_0x36daf4,_0x4eb648),_0x2a3efe(_0x4a38a8,_0x36daf4,_0x3f64ba),_0x595265(_0xe991bb,_0x5c9aff,_0x485bcf),_0x595265(_0x815b1b,_0x4a38a8,_0x485bcf),_0x5b0a71(_0x3fe550,_0xe991bb,_0x815b1b),_0x5b96bb(_0x3fe550,-0x1*0x7eb+0x1*-0x1eb+-0x9d6*-0x1);for(let _0x1b36d4=-0x7b0+0x24b4+-0x6*0x4d6;_0x1b36d4<0x1f9*-0x2+-0x79*0x2b+0x1848;++_0x1b36d4)_0x6c0279[_0x305209+_0x1b36d4]+=_0x3fe550[_0x1b36d4],_0x6c0279[_0x4eb648+_0x1b36d4]+=_0x3fe550[_0x1b36d4],_0x6c0279[_0x3f64ba+_0x1b36d4]+=_0x3fe550[_0x1b36d4];}for(let _0x20b269=-0x16d+0x96e+-0x801;_0x20b269<_0x48768a;++_0x20b269)_0x5b96bb(_0x6c0279,_0x20b269*(0x177b+-0x7ea+-0xb*0x16a));return new Uint8Array(_0x6c0279['buffer']);},_0x5a88f8=_0x52dad6=>{const _0x562e60={},_0xf2aff7=new _0x470ba7['DecoderBuf'+'fer']();_0xf2aff7['Init'](_0x52dad6,_0x52dad6['length']);const _0x21584b=new _0x470ba7['Decoder']();if(_0x21584b['GetEncoded'+'GeometryTy'+'pe'](_0xf2aff7)!==_0x470ba7['TRIANGULAR'+'_MESH'])return _0x562e60['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x562e60;const _0x25ac35=new _0x470ba7['Mesh'](),_0x32bf89=_0x21584b['DecodeBuff'+'erToMesh'](_0xf2aff7,_0x25ac35);if(!_0x32bf89||!_0x32bf89['ok']()||_0x470ba7['getPointer'](_0x25ac35)===-0xd22+0x35*0xa6+0x97*-0x24)return _0x562e60['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x562e60;const _0x2e7f09=_0x25ac35['num_faces']()*(0x381+-0x692*-0x4+-0x1dc6),_0x55e1ca=_0x25ac35['num_points']()<=0x1*-0xedd7+0x143ad*0x1+0xaa29,_0xdb0d3e=_0x2e7f09*(_0x55e1ca?0x1b*-0xaf+-0xd1c+0x1*0x1f93:0x1*-0x1633+0x1909+0x26*-0x13),_0x243886=_0x470ba7['_malloc'](_0xdb0d3e);_0x55e1ca?(_0x21584b['GetTriangl'+'esUInt16Ar'+'ray'](_0x25ac35,_0xdb0d3e,_0x243886),_0x562e60['indices']=new Uint16Array(_0x470ba7['HEAPU16']['buffer'],_0x243886,_0x2e7f09)['slice']()['buffer']):(_0x21584b['GetTriangl'+'esUInt32Ar'+'ray'](_0x25ac35,_0xdb0d3e,_0x243886),_0x562e60['indices']=new Uint32Array(_0x470ba7['HEAPU32']['buffer'],_0x243886,_0x2e7f09)['slice']()['buffer']),_0x470ba7['_free'](_0x243886);const _0x5d8030=[];for(let _0x5c6c8d=-0x147*-0x2+0x2380+-0x260e;_0x5c6c8d<_0x25ac35['num_attrib'+'utes']();++_0x5c6c8d)_0x5d8030['push'](_0x21584b['GetAttribu'+'te'](_0x25ac35,_0x5c6c8d));_0x5d8030['sort']((_0xddd7b7,_0x2a1669)=>(_0x195b9f[_0xddd7b7['attribute_'+'type']()]??_0x195b9f['length'])-(_0x195b9f[_0x2a1669['attribute_'+'type']()]??_0x195b9f['length'])),_0x562e60['attributes']=_0x5d8030['map'](_0x24f1fc=>_0x24f1fc['unique_id']());let _0x2089aa=-0x3ed*0x6+-0xb73+0x2301;const _0x1442e1=_0x5d8030['map'](_0xeb42e7=>{const _0x515b5b=_0x2089aa;return _0x2089aa+=Math['ceil'](_0x37abf4(_0xeb42e7)/(0x1e6b*-0x1+-0xc3*0x1+0x533*0x6))*(-0x1777*0x1+-0x1*-0x1c72+-0x29*0x1f),_0x515b5b;}),_0x4162cc=_0x5d8030['some'](_0x12ea83=>_0x12ea83['attribute_'+'type']()===0x1629+-0x1390+-0x298),_0x5bb501=_0x1442e1[-0x6*0x1c4+0x32*0x3b+-0xed];if(!_0x4162cc){for(let _0xb1618c=-0x1970+-0x1cd9+0x2*0x1b25;_0xb1618c<_0x1442e1['length'];++_0xb1618c)_0x1442e1[_0xb1618c]+=-0x23*0xa3+0x5*0xb+-0x95*-0x26;_0x2089aa+=0x2*0x1043+0x1e88*0x1+-0x3f02;}_0x562e60['vertices']=new ArrayBuffer(_0x25ac35['num_points']()*_0x2089aa);const _0x215c37=new Uint8Array(_0x562e60['vertices']);for(let _0x24dc6d=-0x151b+0xe27+0x6f4;_0x24dc6d<_0x25ac35['num_attrib'+'utes']();++_0x24dc6d){const _0x377a39=_0x5d8030[_0x24dc6d],_0x2ebe02=_0x37abf4(_0x377a39),_0x158ac8=_0x25ac35['num_points']()*_0x2ebe02,_0x343aaa=_0x470ba7['_malloc'](_0x158ac8);_0x21584b['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x25ac35,_0x377a39,_0x377a39['data_type'](),_0x158ac8,_0x343aaa);const _0x35c50f=new Uint8Array(_0x470ba7['HEAPU8']['buffer'],_0x343aaa,_0x158ac8);for(let _0x470133=0x1e20+0x5*-0x22a+0x161*-0xe;_0x470133<_0x25ac35['num_points']();++_0x470133)for(let _0x361905=0x1296+0x38*0x78+-0x2cd6;_0x361905<_0x2ebe02;++_0x361905)_0x215c37[_0x470133*_0x2089aa+_0x1442e1[_0x24dc6d]+_0x361905]=_0x35c50f[_0x470133*_0x2ebe02+_0x361905];if(!_0x4162cc&&_0x377a39['attribute_'+'type']()===0x9*-0x1f5+0x164b*-0x1+0x27e8){const _0x39fe7c=_0x599631(_0x2b1ea0(_0x35c50f,_0x377a39['data_type']()),_0x55e1ca?new Uint16Array(_0x562e60['indices']):new Uint32Array(_0x562e60['indices']));for(let _0x295936=0x71*0x1+0x369*0x2+-0x743;_0x295936<_0x25ac35['num_points']();++_0x295936)for(let _0x1c813c=0x4*0x986+-0xd*0xd3+-0x1b61;_0x1c813c<0x171*0x7+0x36*-0x4f+-0x71*-0xf;++_0x1c813c)_0x215c37[_0x295936*_0x2089aa+_0x5bb501+_0x1c813c]=_0x39fe7c[_0x295936*(-0x25b1*0x1+0x1b82+0xa3b)+_0x1c813c];}_0x470ba7['_free'](_0x343aaa);}return _0x470ba7['destroy'](_0x25ac35),_0x470ba7['destroy'](_0x21584b),_0x470ba7['destroy'](_0xf2aff7),_0x562e60;},_0x549456=_0x202ef4=>{const _0x42693d=_0x5a88f8(new Uint8Array(_0x202ef4['buffer']));self['postMessag'+'e']({'jobId':_0x202ef4['jobId'],'error':_0x42693d['error'],'indices':_0x42693d['indices'],'vertices':_0x42693d['vertices'],'attributes':_0x42693d['attributes']},[_0x42693d['indices'],_0x42693d['vertices']]['filter'](_0x4f933e=>_0x4f933e!=null));},_0x5380b0=[];self['onmessage']=_0x467dee=>{const _0x35990a=_0x467dee['data'];switch(_0x35990a['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x441cae,_0x3f3912)=>(WebAssembly['instantiat'+'e'](_0x35990a['module'],_0x441cae)['then'](_0x5c6bb6=>_0x3f3912(_0x5c6bb6))['catch'](_0x1baac0=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x1baac0)),{})})['then'](_0x45d6c9=>{_0x470ba7=_0x45d6c9,_0x5380b0['forEach'](_0x4a2c2c=>_0x549456(_0x4a2c2c));});break;case'decodeMesh':_0x470ba7?_0x549456(_0x35990a):_0x5380b0['push'](_0x35990a);break;}};}const Og=-0x6*0x246+-0x21b*0x12+0x338d;class _D{constructor(){this['workers']=[[],[],[]],this['jobId']=-0x5c*0x39+0x134b+0x131,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x1af1e2,_0x5a6985)=>{_0x1af1e2['postMessag'+'e']({'type':'decodeMesh','jobId':_0x5a6985['jobId'],'buffer':_0x5a6985['buffer']},[_0x5a6985['buffer']]);};}['init'](_0x378508){for(_0x378508['forEach'](_0xe533f9=>{_0xe533f9['addEventLi'+'stener']('message',_0x49796f=>{const _0x4460a3=_0x49796f['data'],_0x24a64a=this['jobCallbac'+'ks']['get'](_0x4460a3['jobId']);if(_0x24a64a&&_0x24a64a(_0x4460a3['error'],{'indices':_0x4460a3['indices'],'vertices':_0x4460a3['vertices'],'attributes':_0x4460a3['attributes']}),this['jobCallbac'+'ks']['delete'](_0x4460a3['jobId']),this['jobQueue']['length']>-0x1*0x144d+-0x185e+0x8ef*0x5){const _0x1df0e0=this['jobQueue']['shift']();this['run'](_0xe533f9,_0x1df0e0);}else{const _0x5e7941=this['workers'][0x1*-0x1be9+-0x102d+0x2c18]['indexOf'](_0xe533f9);if(_0x5e7941!==-(-0x19*-0x11+-0x196f+-0x1*-0x17c7))this['workers'][-0x25b1+-0x1965+0x3f18*0x1]['splice'](_0x5e7941,0x904+-0x610*-0x1+0xe3*-0x11),this['workers'][-0xab*0x38+-0x2*-0x102f+-0x1*-0x50b]['push'](_0xe533f9);else{const _0x192f06=this['workers'][-0x1c54+0x15cb+-0x36*-0x1f]['indexOf'](_0xe533f9);_0x192f06!==-(-0x376+-0x685*-0x5+-0x3*0x9b6)?(this['workers'][-0xd98*-0x1+-0x3*0x9c2+0xfaf]['splice'](_0x192f06,0x6c6+0xd90+0xf*-0x15b),this['workers'][0x14d6+0x121d*-0x1+-0x2b9]['push'](_0xe533f9)):b['error']('logical\x20er'+'ror');}}});}),this['workers'][0x1*0xd81+0x1*-0x23e7+-0x2*-0xb33]=_0x378508;this['jobQueue']['length']&&(this['workers'][0x53*0x67+-0x17f9+0x6*-0x192]['length']||this['workers'][-0x22b2+0x1ba6+-0x1*-0x70d]['length']);){const _0x2efc0c=this['jobQueue']['shift']();if(this['workers'][0x53c+-0x1e59+0x191d]['length']>0x1e8f*-0x1+-0x1cc9*-0x1+0xe3*0x2){const _0x8963e8=this['workers'][-0x7*0xd9+0x11c*-0xe+-0x1*-0x1577]['shift']();this['workers'][0x474*0x3+-0x1db+-0x10*0xb8]['push'](_0x8963e8),this['run'](_0x8963e8,_0x2efc0c);}else{const _0xc84aaa=this['workers'][-0xaab+0x675+0x437]['shift']();this['workers'][0x80*-0x13+-0xdcb*0x1+0x1*0x174d]['push'](_0xc84aaa),this['run'](_0xc84aaa,_0x2efc0c);}}}['enqueueJob'](_0x3adc69,_0x1d3386){const _0x54baab={'jobId':this['jobId']++,'buffer':_0x3adc69};if(this['jobCallbac'+'ks']['set'](_0x54baab['jobId'],_0x1d3386),this['workers'][-0x1c27+-0x166e+0x3295]['length']>0xccd+-0x1387+0x6ba){const _0x5da271=this['workers'][0x3b2+0xf*-0x199+0x1445]['shift']();this['workers'][0x1cd6+-0x1*-0x151f+-0x5c*0x8b]['push'](_0x5da271),this['run'](_0x5da271,_0x54baab);}else{if(this['workers'][0x617+0x3cb*0xa+0x6*-0x756]['length']>-0x866*-0x4+0x1f*0xc5+-0x3973){const _0x4bf67a=this['workers'][0x91*-0xd+0x79c+-0x3e]['shift']();this['workers'][-0x2432+0x86c+0x38*0x7f]['push'](_0x4bf67a),this['run'](_0x4bf67a,_0x54baab);}else this['jobQueue']['push'](_0x54baab);}}}const gD=_0x586fd3=>new Promise((_0x4a7224,_0x3b62a9)=>{const _0x3896a7={'cache':!(0x22f3+0x5*-0x69c+-0x1*0x1e7),'responseType':'text','retry':Og>0x2597*0x1+0x1*0x1e16+-0xd89*0x5,'maxRetries':Og};Ye['get'](_0x586fd3,_0x3896a7,(_0x27e2c2,_0x1ac96a)=>{_0x27e2c2?_0x3b62a9(_0x27e2c2):_0x4a7224(_0x1ac96a);});}),yD=_0x368b62=>{const _0x1bae5f=()=>fetch(_0x368b62)['then'](_0xc9e48a=>_0xc9e48a['arrayBuffe'+'r']())['then'](_0x1f0c56=>WebAssembly['compile'](_0x1f0c56)),_0x52e5b9=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x368b62))['catch'](_0x3c524f=>(b['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x368b62+'\x20('+_0x3c524f+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x1bae5f()));return WebAssembly['compileStr'+'eaming']?_0x52e5b9():_0x1bae5f();},Bg=-0x1*0xe7a+-0x1b3c+-0x29b7*-0x1;let Th;const xD=_0x49e367=>{if(Th)return!(-0x47*-0x51+-0x1*0x1d5f+0x1*0x6e8);if(!_0x49e367){const _0x2f4010=oy['getConfig']('DracoDecod'+'erModule');_0x2f4010?_0x49e367={'jsUrl':_0x2f4010['glueUrl'],'wasmUrl':_0x2f4010['wasmUrl'],'numWorkers':_0x2f4010['numWorkers']}:_0x49e367={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':Bg};}return!_0x49e367['jsUrl']||!_0x49e367['wasmUrl']?!(0x16c6+-0x1f47+0x882):(Th=new _D(),Promise['all']([gD(_0x49e367['jsUrl']),yD(_0x49e367['wasmUrl'])])['then'](([_0x5a74d2,_0x3fcc5b])=>{const _0x4c91a6=['/*\x20draco\x20*'+'/',_0x5a74d2,'/*\x20worker\x20'+'*/','(\x0a'+mD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x3356d0=new Blob([_0x4c91a6],{'type':'applicatio'+'n/javascri'+'pt'}),_0x198662=URL['createObje'+'ctURL'](_0x3356d0),_0x5ea5e2=Math['max'](0x30*0x47+-0x269c+0x11*0x17d,Math['min'](0x8b*-0x42+-0x2*-0x1157+0x1a*0xc,_0x49e367['numWorkers']||Bg)),_0x246231=[];for(let _0x508cca=-0x467+-0x756+0xbbd;_0x508cca<_0x5ea5e2;++_0x508cca){const _0x494672=new Worker(_0x198662);_0x494672['postMessag'+'e']({'type':'init','module':_0x3fcc5b}),_0x246231['push'](_0x494672);}Th['init'](_0x246231);}),!(0x1dc2+0x8*0xc0+-0x23c2));},SD=(_0x2a2d73,_0x46a2c5)=>xD()?(Th['enqueueJob'](_0x2a2d73,_0x46a2c5),!(-0x1c1c+-0x503*0x6+-0x2a5*-0x16)):!(-0x1a3f+-0x2b*0x72+0xf22*0x3);class vD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x77af17=>{_0x77af17['meshes']=null;});}}const Ix=_0x4c1a15=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x4c1a15),bD=_0x37fee6=>_0x37fee6['substring'](_0x37fee6['indexOf'](':')+(-0x278+-0x19*0xc+0x3a5*0x1),_0x37fee6['indexOf'](';')),jo=_0x5beb62=>{switch(_0x5beb62){case'SCALAR':return 0x6d*0x11+-0x1*-0x9b8+-0x10f4;case'VEC2':return-0x8a*-0x25+-0x17*-0x191+-0x1*0x37f7;case'VEC3':return-0x238b*0x1+0x33b*-0x2+-0x4*-0xa81;case'VEC4':return 0x1722+-0xa87+-0xc97;case'MAT2':return-0x2658+-0xa9c+0x30f8;case'MAT3':return-0x8*0x3d6+-0x2331+-0x2ff*-0x16;case'MAT4':return-0x1886+0x12a7+-0x1f*-0x31;default:return-0xf76+0x944+-0x635*-0x1;}},id=_0x590fcf=>{switch(_0x590fcf){case-0x2*-0xb2b+0x5a*0x71+-0x2*0x1508:return Fc;case 0x1*0x2467+-0x3*0x1f9+0x1*-0xa7b:return Zr;case-0x1*-0x23b1+0x2b*-0x3d+-0x570:return kc;case 0xed3+-0x36*0x8f+-0x11ad*-0x2:return rl;case-0x6*0xed+-0x2*-0xbf2+0x1ae:return Ny;case-0xc*0x27e+-0x1c61+0x6*0xd0d:return Oo;case 0xa00+0xaa*-0x25+-0x4*-0x8a6:return Re;default:return 0xfaf+0xc8+-0x1077;}},wD=_0x3aacf9=>{switch(_0x3aacf9){case-0x15*-0x1af+-0x168b*-0x1+-0x25e6:return 0x77d+0x13fc+-0x1b78;case-0x303+0x55*0x71+-0xe81:return-0x1*-0xa49+0x7e9+-0x1231;case-0xc7d*0x1+-0x1*-0x1072+0x100d:return-0x4a3+0x13*0x79+-0x456;case 0xcdf+-0x1a90+0x1*0x21b4:return 0x12c4+-0x5ea*-0x6+-0x363e;case-0x220f*0x1+0x5fb*-0x4+0x4dff:return 0x1*0xcb3+-0x2020+-0x9*-0x229;case 0x1021+-0x12f1*-0x1+-0xf0d:return 0xb0e+0x3b*0x74+-0x25c6;case-0x1283*0x1+0x113+0x2576:return-0x23f4+-0x14bf+0x38b7;default:return-0x1cc*0x15+-0x20b*0x7+0x3409;}},TD=_0x4577d3=>{switch(_0x4577d3){case 0x2b*0x1f+0x13e0*0x2+-0x18f5:return Int8Array;case 0x1dd7+-0x1a0c+0x1036:return Uint8Array;case-0x32*0xa6+-0x21ca+-0x5638*-0x1:return Int16Array;case 0x1*-0x775+-0x45*0x32+0x6*0x6d3:return Uint16Array;case-0x29*0x2f+0x1f1f+-0x394:return Int32Array;case 0x61c+-0x1c49+0x2*0x1519:return Uint32Array;case-0x76b+0x27bf+-0x46*0x2d:return Float32Array;default:return null;}},nc={'POSITION':Xe,'NORMAL':ss,'TANGENT':si,'COLOR_0':It,'JOINTS_0':Jt,'WEIGHTS_0':ei,'TEXCOORD_0':ds,'TEXCOORD_1':yn,'TEXCOORD_2':Qo,'TEXCOORD_3':Jo,'TEXCOORD_4':el,'TEXCOORD_5':tl,'TEXCOORD_6':sl,'TEXCOORD_7':il},Ng={[Xe]:-0x1763+-0x3b0+0x1b13,[ss]:0x205b+0x1685*0x1+-0x36df,[si]:-0x12ea+0x1e73+-0xb87,[It]:-0x1211*-0x1+0x6b*0x1b+-0x103*0x1d,[Jt]:0x1e2f+-0x1*0x1507+-0x924,[ei]:0x23fc+-0x4e9+-0x1f0e,[ds]:0x1*-0x498+0x1beb+-0x174d*0x1,[yn]:-0x1*-0x21ad+0x1e2e+-0x3fd4,[Qo]:0x2bf*-0x1+0x11c7+-0xf00,[Jo]:-0x4ae*-0x1+0x1dfa+0x229f*-0x1,[el]:-0x523*-0x5+-0xb3+-0xce*0x1f,[tl]:-0x250a+0x174b+0xdca,[sl]:0x9*0x102+0x107d+-0x1983,[il]:-0xc4a+0x6c2*-0x3+-0xfd*-0x21},AD=_0x4de5ab=>{switch(_0x4de5ab){case Fc:return _0x509243=>Math['max'](_0x509243/(0x15*0xc8+0x456+-0x143f),-(-0x3*0x559+0x1355+-0x349));case Zr:return _0x18347d=>_0x18347d/(-0x7b1+-0x204d+0x28fd);case kc:return _0x4ae43c=>Math['max'](_0x4ae43c/(0x1*-0x29f5+-0x178*0x20+0xd8f4),-(-0x210*0x2+-0x1*0x1acb+0x1eec));case rl:return _0x26c59d=>_0x26c59d/(-0x1641e+-0x5753+0x2bb70);default:return _0x95555c=>_0x95555c;}},wf=(_0xfc82c3,_0x17d35c,_0x14b7fc)=>{const _0x3fbe43=AD(_0x14b7fc),_0x37cba1=_0x17d35c['length'];for(let _0x3ebe06=0x2096+0x257*0xd+-0x3f01;_0x3ebe06<_0x37cba1;++_0x3ebe06)_0xfc82c3[_0x3ebe06]=_0x3fbe43(_0x17d35c[_0x3ebe06]);return _0xfc82c3;},rn=(_0x49f6ac,_0x43bf9c,_0x3e9454=!(-0x2487+0xef*-0xd+0x30ab))=>{const _0x556a00=jo(_0x49f6ac['type']),_0x57f523=TD(_0x49f6ac['componentT'+'ype']);if(!_0x57f523)return null;let _0x58d7ea;if(_0x49f6ac['sparse']){const _0xc1ec9a=_0x49f6ac['sparse'],_0x474082={'count':_0xc1ec9a['count'],'type':'SCALAR'},_0x443ab1=rn(Object['assign'](_0x474082,_0xc1ec9a['indices']),_0x43bf9c,!(-0x21dc+0x5f5+0x1*0x1be7)),_0x1b9e2e={'count':_0xc1ec9a['count'],'type':_0x49f6ac['type'],'componentType':_0x49f6ac['componentT'+'ype']},_0x214651=rn(Object['assign'](_0x1b9e2e,_0xc1ec9a['values']),_0x43bf9c,!(-0x2311+0x18f2+-0xa1f*-0x1));if(_0x49f6ac['hasOwnProp'+'erty']('bufferView')){const _0x2736b3={'bufferView':_0x49f6ac['bufferView'],'byteOffset':_0x49f6ac['byteOffset'],'componentType':_0x49f6ac['componentT'+'ype'],'count':_0x49f6ac['count'],'type':_0x49f6ac['type']};_0x58d7ea=rn(_0x2736b3,_0x43bf9c,!(0x14cb*0x1+-0x1*-0x78b+-0x1c56))['slice']();}else _0x58d7ea=new _0x57f523(_0x49f6ac['count']*_0x556a00);for(let _0x515b38=-0xe2a+0x2*0x53b+-0x3b4*-0x1;_0x515b38<_0xc1ec9a['count'];++_0x515b38){const _0x1e89f4=_0x443ab1[_0x515b38];for(let _0x324f5d=-0x13c1+0x2*-0x1036+0x342d;_0x324f5d<_0x556a00;++_0x324f5d)_0x58d7ea[_0x1e89f4*_0x556a00+_0x324f5d]=_0x214651[_0x515b38*_0x556a00+_0x324f5d];}}else{if(_0x49f6ac['hasOwnProp'+'erty']('bufferView')){const _0x490d38=_0x43bf9c[_0x49f6ac['bufferView']];if(_0x3e9454&&_0x490d38['hasOwnProp'+'erty']('byteStride')){const _0x381331=_0x556a00*_0x57f523['BYTES_PER_'+'ELEMENT'],_0x57e8d4=new ArrayBuffer(_0x49f6ac['count']*_0x381331),_0x5b7b30=new Uint8Array(_0x57e8d4);let _0x257978=-0xdd3*-0x1+-0x994+0x1*-0x43f;for(let _0x367bab=0x694+-0x1679+0xd*0x139;_0x367bab<_0x49f6ac['count'];++_0x367bab){let _0x531c0a=(_0x49f6ac['byteOffset']||-0xa15+0x12a5+0x1*-0x890)+_0x367bab*_0x490d38['byteStride'];for(let _0x4a6794=-0x2148+-0x14c0+0x3608;_0x4a6794<_0x381331;++_0x4a6794)_0x5b7b30[_0x257978++]=_0x490d38[_0x531c0a++];}_0x58d7ea=new _0x57f523(_0x57e8d4);}else _0x58d7ea=new _0x57f523(_0x490d38['buffer'],_0x490d38['byteOffset']+(_0x49f6ac['byteOffset']||0x3*0xaa5+0x198a+-0x3979),_0x49f6ac['count']*_0x556a00);}else _0x58d7ea=new _0x57f523(_0x49f6ac['count']*_0x556a00);}return _0x58d7ea;},ga=(_0x5b2864,_0x3442e9)=>{const _0x39b2a0=rn(_0x5b2864,_0x3442e9,!(-0x203b+-0x33*-0x1+-0x14*-0x19a));if(_0x39b2a0 instanceof Float32Array||!_0x5b2864['normalized'])return _0x39b2a0;const _0xe2b15f=new Float32Array(_0x39b2a0['length']);return wf(_0xe2b15f,_0x39b2a0,id(_0x5b2864['componentT'+'ype'])),_0xe2b15f;},Tf=_0x2d6ba9=>{let _0x31e8dc=_0x2d6ba9['min'],_0xd1596f=_0x2d6ba9['max'];if(!_0x31e8dc||!_0xd1596f)return null;if(_0x2d6ba9['normalized']){const _0x4e621d=id(_0x2d6ba9['componentT'+'ype']);_0x31e8dc=wf([],_0x31e8dc,_0x4e621d),_0xd1596f=wf([],_0xd1596f,_0x4e621d);}return new ve(new A((_0xd1596f[0x553+0x125e*-0x1+-0x1dd*-0x7]+_0x31e8dc[-0x1f5a+-0xb*0xd3+-0xd79*-0x3])*(0x3cc+0x1*-0xb23+0x757+0.5),(_0xd1596f[0xcb*0xd+-0x12ab+0x85d]+_0x31e8dc[0xbd8*-0x1+0x2*-0xed7+0x2987])*(0x120d*-0x1+-0x3*0xb2f+0x339a+0.5),(_0xd1596f[0x14*-0x1f3+0x1*0x20a9+0x655]+_0x31e8dc[0xf9*0x2+0x136*-0xb+0xb62])*(0x18*-0x1d+-0x1d61+0x2019+0.5)),new A((_0xd1596f[0x1*-0x23ae+0x882+0xd96*0x2]-_0x31e8dc[0x256d+-0x1188+-0x13e5])*(-0xff6+-0x2413+-0x4d*-0xad+0.5),(_0xd1596f[0x11b3+0x4ee*0x4+0x256a*-0x1]-_0x31e8dc[0x1acb+0x3*0x96b+-0x3*0x1259])*(-0x1d97+0x115d+0xc3a+0.5),(_0xd1596f[0x1091+-0x59*0x25+0x2*-0x1d9]-_0x31e8dc[-0x764+0x233c+-0x1bd6])*(0x2a5*-0xb+-0x1ded+0x3b04+0.5)));},Dx=_0x21f518=>{if(!_0x21f518['hasOwnProp'+'erty']('mode'))return Fs;switch(_0x21f518['mode']){case-0xb29+0x1111+-0x5e8:return Dc;case-0x2c7+0x1*-0x246d+0x2735:return Lc;case 0xaef+-0x1*0x118a+-0x69d*-0x1:return Py;case 0xa3b+0x1f64+0x1*-0x299c:return Ry;case-0x1c52+-0xe41+0x2a97:return Fs;case 0x1e0+0x18da+-0x3*0x8e7:return lr;case-0x142e+-0x188c+-0x1*-0x2cc0:return Kr;default:return Fs;}},ED=_0x561390=>{const _0x58bfa3=new Uint16Array(_0x561390);for(let _0xdcc86c=-0x2129+-0x230a+0x4433;_0xdcc86c<_0x561390;_0xdcc86c++)_0x58bfa3[_0xdcc86c]=_0xdcc86c;return _0x58bfa3;},CD=(_0x5ac1ed,_0x59c8cd)=>{const _0x52c4e2=_0x5ac1ed[Xe];if(!_0x52c4e2||_0x52c4e2['components']!==0x751*-0x5+0x27*0xc7+0x647)return;let _0x580fa4;if(_0x52c4e2['size']!==_0x52c4e2['stride']){const _0x4024f3=_0x52c4e2['stride']/So[_0x52c4e2['type']],_0x59b5ad=new fa[_0x52c4e2['type']](_0x52c4e2['buffer'],_0x52c4e2['offset'],_0x52c4e2['count']*_0x4024f3);_0x580fa4=new fa[_0x52c4e2['type']](_0x52c4e2['count']*(0xc56*0x1+-0x155f+0x90c));for(let _0x2071c3=-0xba0+0x665*-0x4+-0x4*-0x94d;_0x2071c3<_0x52c4e2['count'];++_0x2071c3)_0x580fa4[_0x2071c3*(-0x301*-0x9+-0xdb6+-0xd50)+(0x1*-0x99a+-0x2345+0x2cdf)]=_0x59b5ad[_0x2071c3*_0x4024f3+(0x10ad+-0x1*0xe97+0x10b*-0x2)],_0x580fa4[_0x2071c3*(0x8*-0x3f5+-0xa4e+0x29f9)+(0x1f22+0x25ee+-0x450f)]=_0x59b5ad[_0x2071c3*_0x4024f3+(-0xf6f+0x20f*-0xd+0x2a33)],_0x580fa4[_0x2071c3*(0x1524+-0x20fd+0xbdc)+(0x8a1+0x1a60+0x1*-0x22ff)]=_0x59b5ad[_0x2071c3*_0x4024f3+(-0x2179+0x8*0x1+0x2173)];}else _0x580fa4=new fa[_0x52c4e2['type']](_0x52c4e2['buffer'],_0x52c4e2['offset'],_0x52c4e2['count']*(0xfb3+-0xbf*0x1+-0x4fb*0x3));const _0x2cd491=_0x52c4e2['count'];_0x59c8cd||(_0x59c8cd=ED(_0x2cd491));const _0x525d62=B0(_0x580fa4,_0x59c8cd),_0x4198e8=new Float32Array(_0x525d62['length']);_0x4198e8['set'](_0x525d62),_0x5ac1ed[ss]={'buffer':_0x4198e8['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x2cd491,'components':0x3,'type':Re};},MD=_0x39e7e6=>{const _0x2ad232=_0x58d135=>{const _0xeb1870=[];for(let _0x38ebcb=-0xc7*0x19+0x1f01*-0x1+0x3270;_0x38ebcb<_0x58d135['_levels']['length'];++_0x38ebcb){let _0x35f78a=[];if(_0x58d135['cubemap']){for(let _0x135a4c=-0x13d*0x1f+-0xb9*-0x7+0x2154;_0x135a4c<-0x9a5*-0x1+0x1ee4+-0x2883;++_0x135a4c)_0x35f78a['push'](_0x58d135['_levels'][_0x38ebcb][_0x135a4c]);}else _0x35f78a=_0x58d135['_levels'][_0x38ebcb];_0xeb1870['push'](_0x35f78a);}return _0xeb1870;},_0x27cf4f=new ce(_0x39e7e6['device'],_0x39e7e6);return _0x27cf4f['_levels']=_0x2ad232(_0x39e7e6),_0x27cf4f;},PD=_0xc0e3f8=>{const _0x4502fd=new he(_0xc0e3f8['name']+'_clone',_0xc0e3f8['type'],_0xc0e3f8['file'],_0xc0e3f8['data'],_0xc0e3f8['options']);return _0x4502fd['loaded']=!(0x65*0x32+-0x1*0xb11+-0x8a9*0x1),_0x4502fd['resource']=MD(_0xc0e3f8['resource']),_0xc0e3f8['registry']['add'](_0x4502fd),_0x4502fd;},RD=(_0x2bc498,_0x228a0f)=>{const _0x561a80=_0x228a0f[Xe];if(!_0x561a80)return null;const _0x404b23=_0x561a80['count'],_0x3ea1ea=[];for(const _0x1b6e5c in _0x228a0f)if(_0x228a0f['hasOwnProp'+'erty'](_0x1b6e5c)){const _0x281709={'semantic':_0x1b6e5c,'components':_0x228a0f[_0x1b6e5c]['components'],'type':_0x228a0f[_0x1b6e5c]['type'],'normalize':!!_0x228a0f[_0x1b6e5c]['normalize']};Dt['isElementV'+'alid'](_0x2bc498,_0x281709)||_0x281709['components']++,_0x3ea1ea['push'](_0x281709);}_0x3ea1ea['sort']((_0x59c1f4,_0x383cdc)=>Ng[_0x59c1f4['semantic']]-Ng[_0x383cdc['semantic']]);let _0x1727dd,_0x2f75e4,_0x378736,_0x55c7e4,_0x4c4e5a,_0x3a2f00;const _0x1f7238=new Dt(_0x2bc498,_0x3ea1ea);let _0x50f7a6=!(0x147+-0x1*0x2407+0x22c0);for(_0x1727dd=-0x174a+-0xa9a+-0x3c4*-0x9;_0x1727dd<_0x1f7238['elements']['length'];++_0x1727dd)if(_0x4c4e5a=_0x1f7238['elements'][_0x1727dd],_0x55c7e4=_0x228a0f[_0x4c4e5a['name']],_0x3a2f00=_0x55c7e4['offset']-_0x561a80['offset'],_0x55c7e4['buffer']!==_0x561a80['buffer']||_0x55c7e4['stride']!==_0x4c4e5a['stride']||_0x55c7e4['size']!==_0x4c4e5a['size']||_0x3a2f00!==_0x4c4e5a['offset']){_0x50f7a6=!(0xbc*0x22+-0x208b+0x794);break;}const _0x2986d8=new fs(_0x2bc498,_0x1f7238,_0x404b23),_0x4f4f7a=_0x2986d8['lock'](),_0x46c007=new Uint32Array(_0x4f4f7a);let _0x208e94;if(_0x50f7a6)_0x208e94=new Uint32Array(_0x561a80['buffer'],_0x561a80['offset'],_0x404b23*_0x2986d8['format']['size']/(-0x2*0x8e4+-0x8f3+0x1abf)),_0x46c007['set'](_0x208e94);else{let _0x494685,_0x50849b;for(_0x1727dd=0x4a9+0x1d1c+0x85*-0x41;_0x1727dd<_0x2986d8['format']['elements']['length'];++_0x1727dd){_0x4c4e5a=_0x2986d8['format']['elements'][_0x1727dd],_0x494685=_0x4c4e5a['stride']/(0x200+-0x1ff8+0x1dfc),_0x55c7e4=_0x228a0f[_0x4c4e5a['name']],_0x50849b=_0x55c7e4['stride']/(-0x6a4*0x4+0x8*-0xbc+-0x1f*-0x10c),_0x208e94=new Uint32Array(_0x55c7e4['buffer'],_0x55c7e4['offset'],(_0x55c7e4['count']-(0x13a0+0x1*-0x613+-0xc*0x121))*_0x50849b+(_0x55c7e4['size']+(0x35*-0x47+-0x1648+0x24fe))/(0x140d+-0x1*-0x1274+0x267d*-0x1));let _0x4f0fb8=-0x1*-0x58a+0x347*0x2+-0xc18,_0x4426c0=_0x4c4e5a['offset']/(-0x19d6+-0x1*-0xc9a+0xd40);const _0x1861c4=Math['floor']((_0x55c7e4['size']+(-0x673+0x2421+-0x1dab))/(-0x1576+0xda+-0xf0*-0x16));for(_0x2f75e4=-0x1848+0x17e9+0x5f*0x1;_0x2f75e4<_0x404b23;++_0x2f75e4){for(_0x378736=0x24cc+0xbf0+-0x30bc;_0x378736<_0x1861c4;++_0x378736)_0x46c007[_0x4426c0+_0x378736]=_0x208e94[_0x4f0fb8+_0x378736];_0x4f0fb8+=_0x50849b,_0x4426c0+=_0x494685;}}}return _0x2986d8['unlock'](),_0x2986d8;},ID=(_0x47ec5f,_0x580c3b,_0x3fefd2,_0x442f96,_0x4eac72,_0xca7680)=>{const _0x5187fb={},_0x201508=[];for(const _0x2e53b0 in _0x580c3b)_0x580c3b['hasOwnProp'+'erty'](_0x2e53b0)&&nc['hasOwnProp'+'erty'](_0x2e53b0)&&(_0x5187fb[_0x2e53b0]=_0x580c3b[_0x2e53b0],_0x201508['push'](_0x2e53b0+':'+_0x580c3b[_0x2e53b0]));_0x201508['sort']();const _0x791e24=_0x201508['join']();let _0x14edf1=_0xca7680[_0x791e24];if(!_0x14edf1){const _0x2cc1d4={};for(const _0x3663ad in _0x5187fb){const _0x50c9ea=_0x442f96[_0x580c3b[_0x3663ad]],_0x487811=rn(_0x50c9ea,_0x4eac72),_0x240128=_0x4eac72[_0x50c9ea['bufferView']],_0x1f4ee2=nc[_0x3663ad],_0x53169f=jo(_0x50c9ea['type'])*wD(_0x50c9ea['componentT'+'ype']),_0x38a74a=_0x240128&&_0x240128['hasOwnProp'+'erty']('byteStride')?_0x240128['byteStride']:_0x53169f;_0x2cc1d4[_0x1f4ee2]={'buffer':_0x487811['buffer'],'size':_0x53169f,'offset':_0x487811['byteOffset'],'stride':_0x38a74a,'count':_0x50c9ea['count'],'components':jo(_0x50c9ea['type']),'type':id(_0x50c9ea['componentT'+'ype']),'normalize':_0x50c9ea['normalized']};}_0x2cc1d4['hasOwnProp'+'erty'](ss)||CD(_0x2cc1d4,_0x3fefd2),_0x14edf1=RD(_0x47ec5f,_0x2cc1d4),_0xca7680[_0x791e24]=_0x14edf1;}return _0x14edf1;},DD=(_0x12a313,_0x38ae81,_0x5df0b0,_0xa14cc8,_0x23dd11,_0x22d3d1)=>{let _0x406d6c,_0xf0e243,_0x394fb9;const _0x15de70=_0x38ae81['joints'],_0x17f2b3=_0x15de70['length'],_0x116e64=[];if(_0x38ae81['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x4f92d9=_0x38ae81['inverseBin'+'dMatrices'],_0x58daea=rn(_0x5df0b0[_0x4f92d9],_0xa14cc8,!(-0x5*0x5fb+0xa7*0xd+-0x4*-0x55b)),_0x1a5288=[];for(_0x406d6c=-0xceb*0x3+-0x77e+0x2e3f*0x1;_0x406d6c<_0x17f2b3;_0x406d6c++){for(_0xf0e243=-0x1*0x1763+-0x380+0x1*0x1ae3;_0xf0e243<0x1*-0x15c+0x217f+-0x2013;_0xf0e243++)_0x1a5288[_0xf0e243]=_0x58daea[_0x406d6c*(0x30c+-0xdeb+-0xaef*-0x1)+_0xf0e243];_0x394fb9=new q(),_0x394fb9['set'](_0x1a5288),_0x116e64['push'](_0x394fb9);}}else{for(_0x406d6c=0x281*0x7+0x1*0x1545+-0x26cc;_0x406d6c<_0x17f2b3;_0x406d6c++)_0x394fb9=new q(),_0x116e64['push'](_0x394fb9);}const _0x268389=[];for(_0x406d6c=0xdf3*-0x1+-0xda+0xecd;_0x406d6c<_0x17f2b3;_0x406d6c++)_0x268389[_0x406d6c]=_0x23dd11[_0x15de70[_0x406d6c]]['name'];const _0x54060d=_0x268389['join']('#');let _0x20a118=_0x22d3d1['get'](_0x54060d);return _0x20a118||(_0x20a118=new z0(_0x12a313,_0x116e64,_0x268389),_0x22d3d1['set'](_0x54060d,_0x20a118)),_0x20a118;},LD=(_0xa7894a,_0x45264f,_0xf0ec91,_0x5d0ac2,_0xc2e8b8,_0x152c78,_0x4bef49)=>{var _0x507f89;const _0xc22642=new ke(_0xa7894a);_0xc22642['aabb']=Tf(_0xf0ec91[_0x45264f['attributes']['POSITION']]);const _0xd2a793=[];for(const [_0x2e8e08,_0x27e78d]of Object['entries'](_0x45264f['attributes'])){const _0x4a68ba=_0xf0ec91[_0x27e78d],_0x5a5e61=nc[_0x2e8e08],_0x5778da=id(_0x4a68ba['componentT'+'ype']);_0xd2a793['push']({'semantic':_0x5a5e61,'components':jo(_0x4a68ba['type']),'type':_0x5778da,'normalize':_0x4a68ba['normalized']??(_0x5a5e61===It&&(_0x5778da===Zr||_0x5778da===rl))});}if(_0x4bef49['push'](new Promise((_0x337d0c,_0x1ae4cb)=>{const _0x158d39=_0x45264f['extensions']['KHR_draco_'+'mesh_compr'+'ession'];SD(_0x5d0ac2[_0x158d39['bufferView']]['slice']()['buffer'],(_0x33986b,_0x130684)=>{var _0x2d53d2;if(_0x33986b)console['log'](_0x33986b),_0x1ae4cb(_0x33986b);else{const _0x376c3a={};for(const [_0x53e61f,_0x2bca0c]of Object['entries'](_0x158d39['attributes']))_0x376c3a[nc[_0x53e61f]]=_0x130684['attributes']['indexOf'](_0x2bca0c);_0xd2a793['sort']((_0x192ee1,_0x44eec8)=>_0x376c3a[_0x192ee1['semantic']]-_0x376c3a[_0x44eec8['semantic']]),(_0x2d53d2=_0x45264f['attributes'])!=null&&_0x2d53d2['NORMAL']||_0xd2a793['splice'](0xa5*0x2b+-0x1025*0x1+-0xb91*0x1,0x2444+0x8f2+-0x2d36,{'semantic':'NORMAL','components':0x3,'type':Re});const _0x3015cb=new Dt(_0xa7894a,_0xd2a793),_0x33ea38=_0x130684['vertices']['byteLength']/_0x3015cb['size'],_0x5ca22e=_0x33ea38<=0x15a11+0x2*-0x39a9+0x4*0x650?Fi:or,_0x2c637e=_0x130684['indices']['byteLength']/(_0x33ea38<=-0x689*0x2d+0x1b2e3+0x7331?0x19ef+-0x22fa+0x90d:-0x238+0x196*-0x3+0xa*0xb3);b['call'](()=>{_0x33ea38!==_0xf0ec91[_0x45264f['attributes']['POSITION']]['count']&&b['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x2c637e!==_0xf0ec91[_0x45264f['indices']]['count']&&b['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x141df8=new fs(_0xa7894a,_0x3015cb,_0x33ea38,{'data':_0x130684['vertices']}),_0x513f63=new cr(_0xa7894a,_0x5ca22e,_0x2c637e,ts,_0x130684['indices']);_0xc22642['vertexBuff'+'er']=_0x141df8,_0xc22642['indexBuffe'+'r'][0x2cf+0x12a9+-0x1578]=_0x513f63,_0xc22642['primitive'][0x1*0x1fa9+0x83e+-0x27e7]['type']=Dx(_0x45264f),_0xc22642['primitive'][-0x1f*-0x3b+0xb4f*-0x3+0x1ac8]['base']=0x7*0x47d+-0x431*-0x8+-0x40f3,_0xc22642['primitive'][-0x568*-0x6+0x15c4+-0x3634]['count']=_0x513f63?_0x2c637e:_0x33ea38,_0xc22642['primitive'][0x5*0x2d2+-0x71+-0xda9]['indexed']=!!_0x513f63,_0x337d0c();}});})),(_0x507f89=_0x45264f==null?void(-0x16a*0x17+-0xdd*0x3+0x231d*0x1):_0x45264f['extensions'])!=null&&_0x507f89['KHR_materi'+'als_varian'+'ts']){const _0x5e6c0b=_0x45264f['extensions']['KHR_materi'+'als_varian'+'ts'],_0x2d8f4a={};_0x5e6c0b['mappings']['forEach'](_0x4bee46=>{_0x4bee46['variants']['forEach'](_0x11d412=>{_0x2d8f4a[_0x11d412]=_0x4bee46['material'];});}),_0xc2e8b8[_0xc22642['id']]=_0x2d8f4a;}return _0x152c78[_0xc22642['id']]=_0x45264f['material'],_0xc22642;},FD=(_0x290ff4,_0x1f4eb9,_0x95bfb7,_0x178607,_0x301fe5,_0x3ff0f1,_0x2b96b8,_0x52f86c,_0x114989)=>{const _0x20ca11=[];return _0x1f4eb9['primitives']['forEach'](_0x465adc=>{var _0x7d8524;if((_0x7d8524=_0x465adc['extensions'])!=null&&_0x7d8524['KHR_draco_'+'mesh_compr'+'ession'])_0x20ca11['push'](LD(_0x290ff4,_0x465adc,_0x95bfb7,_0x178607,_0x3ff0f1,_0x2b96b8,_0x114989));else{let _0xa3039c=_0x465adc['hasOwnProp'+'erty']('indices')?rn(_0x95bfb7[_0x465adc['indices']],_0x178607,!(0x258e+0xd+-0x259b)):null;const _0x24cf34=ID(_0x290ff4,_0x465adc['attributes'],_0xa3039c,_0x95bfb7,_0x178607,_0x301fe5),_0x20078d=Dx(_0x465adc),_0x4245cc=new ke(_0x290ff4);if(_0x4245cc['vertexBuff'+'er']=_0x24cf34,_0x4245cc['primitive'][-0x202a+0x821*0x1+0x1809]['type']=_0x20078d,_0x4245cc['primitive'][-0x113+-0x167b+0x178e]['base']=0x163*-0x19+0x23e*0x9+0xe7d,_0x4245cc['primitive'][0x17aa+0x70c+-0x1eb6]['indexed']=_0xa3039c!==null,_0xa3039c!==null){let _0xa4238d;_0xa3039c instanceof Uint8Array?_0xa4238d=yu:_0xa3039c instanceof Uint16Array?_0xa4238d=Fi:_0xa4238d=or,_0xa4238d===yu&&_0x290ff4['isWebGPU']&&(_0xa4238d=Fi,_0xa3039c=new Uint16Array(_0xa3039c));const _0x5061ca=new cr(_0x290ff4,_0xa4238d,_0xa3039c['length'],ts,_0xa3039c);_0x4245cc['indexBuffe'+'r'][-0xe48+0x11ef+0xb*-0x55]=_0x5061ca,_0x4245cc['primitive'][0x1*0x923+-0x4f*-0x15+-0xf9e]['count']=_0xa3039c['length'];}else _0x4245cc['primitive'][-0x18c+-0x16bc+0xde*0x1c]['count']=_0x24cf34['numVertice'+'s'];if(_0x465adc['hasOwnProp'+'erty']('extensions')&&_0x465adc['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x2840f0=_0x465adc['extensions']['KHR_materi'+'als_varian'+'ts'],_0x45c266={};_0x2840f0['mappings']['forEach'](_0x473bd6=>{_0x473bd6['variants']['forEach'](_0x4000ac=>{_0x45c266[_0x4000ac]=_0x473bd6['material'];});}),_0x3ff0f1[_0x4245cc['id']]=_0x45c266;}_0x2b96b8[_0x4245cc['id']]=_0x465adc['material'];let _0x5e0402=_0x95bfb7[_0x465adc['attributes']['POSITION']];if(_0x4245cc['aabb']=Tf(_0x5e0402),_0x465adc['hasOwnProp'+'erty']('targets')){const _0x2e8eea=[];_0x465adc['targets']['forEach']((_0x3c6a31,_0xc6220a)=>{const _0x16bc91={};_0x3c6a31['hasOwnProp'+'erty']('POSITION')&&(_0x5e0402=_0x95bfb7[_0x3c6a31['POSITION']],_0x16bc91['deltaPosit'+'ions']=ga(_0x5e0402,_0x178607),_0x16bc91['aabb']=Tf(_0x5e0402)),_0x3c6a31['hasOwnProp'+'erty']('NORMAL')&&(_0x5e0402=_0x95bfb7[_0x3c6a31['NORMAL']],_0x16bc91['deltaNorma'+'ls']=ga(_0x5e0402,_0x178607)),_0x1f4eb9['hasOwnProp'+'erty']('extras')&&_0x1f4eb9['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x16bc91['name']=_0x1f4eb9['extras']['targetName'+'s'][_0xc6220a]:_0x16bc91['name']=_0xc6220a['toString'](-0xa76+0x1*-0x1673+-0x23*-0xf1),_0x1f4eb9['hasOwnProp'+'erty']('weights')&&(_0x16bc91['defaultWei'+'ght']=_0x1f4eb9['weights'][_0xc6220a]),_0x16bc91['preserveDa'+'ta']=_0x52f86c['morphPrese'+'rveData'],_0x2e8eea['push'](new sd(_0x16bc91));}),_0x4245cc['morph']=new k0(_0x2e8eea,_0x290ff4,{'preferHighPrecision':_0x52f86c['morphPrefe'+'rHighPreci'+'sion']});}_0x20ca11['push'](_0x4245cc);}}),_0x20ca11;},xt=(_0x4d864e,_0x3d5216,_0x343235)=>{var _0x43a44d;let _0x4e33d2;const _0x111d73=_0x4d864e['texCoord'];if(_0x111d73){for(_0x4e33d2=0x25df+0x2441*0x1+0x944*-0x8;_0x4e33d2<_0x343235['length'];++_0x4e33d2)_0x3d5216[_0x343235[_0x4e33d2]+'MapUv']=_0x111d73;}const _0x563dcc=[0x182b+0x3*0x683+-0xaed*0x4,0x395*0x3+0x140b+-0xe*0x233],_0x142141=[-0x1*-0x1d53+0x2098+0x2*-0x1ef5,0x1*0x1d99+-0x278+-0x1b20],_0x5ea72e=(_0x43a44d=_0x4d864e['extensions'])==null?void(0xa08+-0xd*-0x35+-0xcb9):_0x43a44d['KHR_textur'+'e_transfor'+'m'];if(_0x5ea72e){const _0x1890f0=_0x5ea72e['offset']||_0x563dcc,_0x18a80e=_0x5ea72e['scale']||_0x142141,_0x2260c3=_0x5ea72e['rotation']?-_0x5ea72e['rotation']*z['RAD_TO_DEG']:-0x2465+-0x8*0x90+0x28e5,_0xf48b02=new W(_0x18a80e[-0x4bd*-0x5+0x9ba+0x6af*-0x5],_0x18a80e[-0x1001*0x1+0x1ad3+-0xad1]),_0x4882c7=new W(_0x1890f0[-0x1*-0x25b+0x7c8+-0xa23],-0x1*0x5cb+0x8e1+-0x315-_0x18a80e[-0xbe9+0x847+-0x7*-0x85]-_0x1890f0[-0x1ee3+-0x1*-0x6cd+0x1817]);for(_0x4e33d2=0xc8d+0x187e+-0x250b;_0x4e33d2<_0x343235['length'];++_0x4e33d2)_0x3d5216[_0x343235[_0x4e33d2]+'MapTiling']=_0xf48b02,_0x3d5216[_0x343235[_0x4e33d2]+'MapOffset']=_0x4882c7,_0x3d5216[_0x343235[_0x4e33d2]+('MapRotatio'+'n')]=_0x2260c3;}},kD=(_0x4a0727,_0x2e2305,_0x46c399)=>{let _0x2cfe92,_0xec2532;if(_0x4a0727['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x2cfe92=_0x4a0727['diffuseFac'+'tor'],_0x2e2305['diffuse']['set'](Math['pow'](_0x2cfe92[-0x2565+-0x4*-0x928+0xc5],(-0x1108*-0x2+0x157+0x2*-0x11b3)/(-0x4ee+0x1026+0xb36*-0x1+0.20000000000000018)),Math['pow'](_0x2cfe92[-0x1713+0x6a*0x54+-0x1*0xbb4],(-0x1*0x16a3+-0xa7+0x174b)/(-0x12*0x161+-0x1*-0x222f+-0x95b+0.20000000000000018)),Math['pow'](_0x2cfe92[0xda9+-0xb98+-0x20f],(-0xccc+-0xbf2+0x18bf)/(-0x93e*0x2+0x1ab*0x1+0x1*0x10d3+0.20000000000000018))),_0x2e2305['opacity']=_0x2cfe92[0xcba+0x1e5e+-0x2b15]):(_0x2e2305['diffuse']['set'](0x1e28+0x1344+0x1079*-0x3,-0x1b2a+-0x1c23+0x1*0x374e,-0x1264+-0x14c*0xd+0x70d*0x5),_0x2e2305['opacity']=0x1641+-0x5dc+-0x1*0x1064),_0x4a0727['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x23f0f4=_0x4a0727['diffuseTex'+'ture'];_0xec2532=_0x46c399[_0x23f0f4['index']],_0x2e2305['diffuseMap']=_0xec2532,_0x2e2305['diffuseMap'+'Channel']='rgb',_0x2e2305['opacityMap']=_0xec2532,_0x2e2305['opacityMap'+'Channel']='a',xt(_0x23f0f4,_0x2e2305,['diffuse','opacity']);}if(_0x2e2305['useMetalne'+'ss']=!(-0x15a0+0x15fd+-0x5c),_0x4a0727['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x2cfe92=_0x4a0727['specularFa'+'ctor'],_0x2e2305['specular']['set'](Math['pow'](_0x2cfe92[0x150d+0x1*0x101c+0xc63*-0x3],(-0x2*-0xacb+-0x808+-0x1*0xd8d)/(-0x8bb+-0x2*-0xd3f+0xf*-0x12f+0.20000000000000018)),Math['pow'](_0x2cfe92[0x2652+-0x1*-0x225b+-0x48ac],(0x4b*0x43+0x20bc+-0x345c)/(-0x23d2+0x1*-0x26f7+0x4acb+0.20000000000000018)),Math['pow'](_0x2cfe92[-0x16d0+-0x2008+-0x2*-0x1b6d],(0x18b+-0x1ca0+0x1b16)/(0x1f5*-0x3+0x1*0xfaa+-0x9c9+0.20000000000000018)))):_0x2e2305['specular']['set'](-0x24f5+0x1d*-0x38+0x2b4e,-0x221*-0xb+0x86e+-0x1fd8*0x1,0x1683+-0x1c*0x12b+0xa32*0x1),_0x4a0727['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x2e2305['gloss']=_0x4a0727['glossiness'+'Factor']:_0x2e2305['gloss']=-0xca5+-0x4bd*0x7+0x2dd1,_0x4a0727['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2762ae=_0x4a0727['specularGl'+'ossinessTe'+'xture'];_0x2e2305['specularEn'+'coding']='srgb',_0x2e2305['specularMa'+'p']=_0x2e2305['glossMap']=_0x46c399[_0x2762ae['index']],_0x2e2305['specularMa'+'pChannel']='rgb',_0x2e2305['glossMapCh'+'annel']='a',xt(_0x2762ae,_0x2e2305,['gloss','metalness']);}},OD=(_0x5771ad,_0x1be8b5,_0x4c336c)=>{if(_0x5771ad['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x1be8b5['clearCoat']=_0x5771ad['clearcoatF'+'actor']*(0x2419*-0x1+-0x6*0x198+-0x2da9*-0x1+0.25):_0x1be8b5['clearCoat']=-0x11ed+-0xd*-0x1f9+-0x7b8,_0x5771ad['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x36bd4e=_0x5771ad['clearcoatT'+'exture'];_0x1be8b5['clearCoatM'+'ap']=_0x4c336c[_0x36bd4e['index']],_0x1be8b5['clearCoatM'+'apChannel']='r',xt(_0x36bd4e,_0x1be8b5,['clearCoat']);}if(_0x5771ad['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x1be8b5['clearCoatG'+'loss']=_0x5771ad['clearcoatR'+'oughnessFa'+'ctor']:_0x1be8b5['clearCoatG'+'loss']=0x213c+-0x18b2+-0x88a,_0x5771ad['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x3d4ee1=_0x5771ad['clearcoatR'+'oughnessTe'+'xture'];_0x1be8b5['clearCoatG'+'lossMap']=_0x4c336c[_0x3d4ee1['index']],_0x1be8b5['clearCoatG'+'lossMapCha'+'nnel']='g',xt(_0x3d4ee1,_0x1be8b5,['clearCoatG'+'loss']);}if(_0x5771ad['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x2e0f07=_0x5771ad['clearcoatN'+'ormalTextu'+'re'];_0x1be8b5['clearCoatN'+'ormalMap']=_0x4c336c[_0x2e0f07['index']],xt(_0x2e0f07,_0x1be8b5,['clearCoatN'+'ormal']),_0x2e0f07['hasOwnProp'+'erty']('scale')&&(_0x1be8b5['clearCoatB'+'umpiness']=_0x2e0f07['scale']);}_0x1be8b5['clearCoatG'+'lossInvert']=!(0x293*0x3+0x1145+0xe*-0x1c9);},BD=(_0x420279,_0x21af14,_0x253a5e)=>{_0x21af14['useLightin'+'g']=!(-0x1715*-0x1+0x17*0x11+0x189b*-0x1),_0x21af14['emissive']['copy'](_0x21af14['diffuse']),_0x21af14['emissiveMa'+'p']=_0x21af14['diffuseMap'],_0x21af14['emissiveMa'+'pUv']=_0x21af14['diffuseMap'+'Uv'],_0x21af14['emissiveMa'+'pTiling']['copy'](_0x21af14['diffuseMap'+'Tiling']),_0x21af14['emissiveMa'+'pOffset']['copy'](_0x21af14['diffuseMap'+'Offset']),_0x21af14['emissiveMa'+'pRotation']=_0x21af14['diffuseMap'+'Rotation'],_0x21af14['emissiveMa'+'pChannel']=_0x21af14['diffuseMap'+'Channel'],_0x21af14['emissiveVe'+'rtexColor']=_0x21af14['diffuseVer'+'texColor'],_0x21af14['emissiveVe'+'rtexColorC'+'hannel']=_0x21af14['diffuseVer'+'texColorCh'+'annel'],_0x21af14['useLightin'+'g']=!(0x133e+-0xcb2+0x68b*-0x1),_0x21af14['useSkybox']=!(-0x1*-0x101+0xe5a+-0xf5a),_0x21af14['diffuse']['set'](-0x25e+-0x1*-0x2cf+-0x2*0x38,-0x4d7*-0x3+-0x20a5+0x1221,-0x1df5*0x1+0x2f*0xaf+-0x22b),_0x21af14['diffuseMap']=null,_0x21af14['diffuseVer'+'texColor']=!(0x166*0x4+-0x1bfc+0x5b*0x3f);},ND=(_0x4efdde,_0x313f96,_0x5851d5)=>{if(_0x313f96['useMetalne'+'ssSpecular'+'Color']=!(-0x3*-0x319+-0x1be8+0x129d),_0x4efdde['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x313f96['specularEn'+'coding']='srgb',_0x313f96['specularMa'+'p']=_0x5851d5[_0x4efdde['specularCo'+'lorTexture']['index']],_0x313f96['specularMa'+'pChannel']='rgb',xt(_0x4efdde['specularCo'+'lorTexture'],_0x313f96,['specular'])),_0x4efdde['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x4afdca=_0x4efdde['specularCo'+'lorFactor'];_0x313f96['specular']['set'](Math['pow'](_0x4afdca[0xde7+0xa0c+-0x17f3*0x1],(0x1380+-0x55f*-0x1+-0x18de)/(0x8*-0x209+-0x5*-0x18a+0x58*0x19+0.20000000000000018)),Math['pow'](_0x4afdca[-0x6f*-0x28+0xa63*0x1+-0x1bba],(-0x156e+-0x1918+0x2e87)/(0x11*-0x83+-0x15d*0xc+0x1911*0x1+0.20000000000000018)),Math['pow'](_0x4afdca[-0xef0+-0x143*-0x1d+-0x15a5],(-0x3*0xa1a+-0x42e+0x227d)/(-0x9e+0xb07*0x3+-0x2075+0.20000000000000018)));}else _0x313f96['specular']['set'](0x2651*0x1+0x1*0x12bf+-0x390f,0x3*0x31d+0x23*-0x4a+0x32*0x4,0x18cb+-0x29a*0x4+-0x20e*0x7);_0x4efdde['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x313f96['specularit'+'yFactor']=_0x4efdde['specularFa'+'ctor']:_0x313f96['specularit'+'yFactor']=-0x457*-0x1+0xc6d+-0x10c3*0x1,_0x4efdde['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x313f96['specularit'+'yFactorMap'+'Channel']='a',_0x313f96['specularit'+'yFactorMap']=_0x5851d5[_0x4efdde['specularTe'+'xture']['index']],xt(_0x4efdde['specularTe'+'xture'],_0x313f96,['specularit'+'yFactor']));},zD=(_0x1c45fb,_0x5cf6d1,_0x5911c8)=>{_0x1c45fb['hasOwnProp'+'erty']('ior')&&(_0x5cf6d1['refraction'+'Index']=(0x1acd+-0x1fa6*0x1+0x6*0xcf)/_0x1c45fb['ior']);},UD=(_0x1c9f92,_0xe3e85,_0x3a5ebd)=>{_0x1c9f92['hasOwnProp'+'erty']('dispersion')&&(_0xe3e85['dispersion']=_0x1c9f92['dispersion']);},VD=(_0x17beff,_0x227fb3,_0x1d9c93)=>{_0x227fb3['blendType']=Gt,_0x227fb3['useDynamic'+'Refraction']=!(-0x179f+-0x1f93+-0x3732*-0x1),_0x17beff['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x227fb3['refraction']=_0x17beff['transmissi'+'onFactor']),_0x17beff['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x227fb3['refraction'+'MapChannel']='r',_0x227fb3['refraction'+'Map']=_0x1d9c93[_0x17beff['transmissi'+'onTexture']['index']],xt(_0x17beff['transmissi'+'onTexture'],_0x227fb3,['refraction']));},GD=(_0x313433,_0x37f17c,_0x188559)=>{if(_0x37f17c['useSheen']=!(0x1515+0x33c*0x7+-0x2bb9),_0x313433['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x34735d=_0x313433['sheenColor'+'Factor'];_0x37f17c['sheen']['set'](Math['pow'](_0x34735d[-0x21e0+-0x15af+0x378f],(0xf*-0x31+0xc65+-0x1*0x985)/(-0x211d+0x10b*0x2+-0x23*-0xe3+0.20000000000000018)),Math['pow'](_0x34735d[0x376*-0x1+-0x1f6f+0x2*0x1173],(0xbc1+-0x1ffe+0x143e)/(0xb81+0x9fd+-0x157c+0.20000000000000018)),Math['pow'](_0x34735d[0x18a1+0x2*0xc93+-0x31c5],(-0xce0*0x1+0x4*0x1c9+0x5bd*0x1)/(-0x25*-0xb7+-0x202b+0x5ba+0.20000000000000018)));}else _0x37f17c['sheen']['set'](0x4d2+-0xd1b+0x425*0x2,0x15*-0x169+-0x10e+-0x25c*-0xd,-0x22c9+-0x1a08+0x3cd2);_0x313433['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x37f17c['sheenMap']=_0x188559[_0x313433['sheenColor'+'Texture']['index']],_0x37f17c['sheenEncod'+'ing']='srgb',xt(_0x313433['sheenColor'+'Texture'],_0x37f17c,['sheen'])),_0x37f17c['sheenGloss']=_0x313433['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x313433['sheenRough'+'nessFactor']:-0x2*0xf17+-0x21b6+0x3fe4,_0x313433['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x37f17c['sheenGloss'+'Map']=_0x188559[_0x313433['sheenRough'+'nessTextur'+'e']['index']],_0x37f17c['sheenGloss'+'MapChannel']='a',xt(_0x313433['sheenRough'+'nessTextur'+'e'],_0x37f17c,['sheenGloss'])),_0x37f17c['sheenGloss'+'Invert']=!(-0xc90+-0xbfa+0x188a);},HD=(_0x149d74,_0x38eab4,_0x51dd70)=>{if(_0x38eab4['blendType']=Gt,_0x38eab4['useDynamic'+'Refraction']=!(-0x3aa+-0x3*0x1e7+-0x1*-0x95f),_0x149d74['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x38eab4['thickness']=_0x149d74['thicknessF'+'actor']),_0x149d74['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x38eab4['thicknessM'+'ap']=_0x51dd70[_0x149d74['thicknessT'+'exture']['index']],_0x38eab4['thicknessM'+'apChannel']='g',xt(_0x149d74['thicknessT'+'exture'],_0x38eab4,['thickness'])),_0x149d74['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x38eab4['attenuatio'+'nDistance']=_0x149d74['attenuatio'+'nDistance']),_0x149d74['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x3c1dc0=_0x149d74['attenuatio'+'nColor'];_0x38eab4['attenuatio'+'n']['set'](Math['pow'](_0x3c1dc0[-0x1400+-0xe*0x2+0x141c*0x1],(0x1316+0x147d+-0x7ea*0x5)/(-0x22b1+-0x83*0x47+-0x4*-0x11c2+0.20000000000000018)),Math['pow'](_0x3c1dc0[-0xf7d+0x1030+-0xb2],(-0x943*-0x1+0x1efb+0x283d*-0x1)/(-0xaf3+-0x1*-0xc51+0x3*-0x74+0.20000000000000018)),Math['pow'](_0x3c1dc0[0xcab+-0x1*-0x1147+-0x1df0],(0xb57*0x1+0x1d09+0xd75*-0x3)/(0x4*0x4e4+-0x31d*0xc+-0x8e7*-0x2+0.20000000000000018)));}},WD=(_0x241190,_0x2879e1,_0x5b1da9)=>{_0x241190['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x2879e1['emissiveIn'+'tensity']=_0x241190['emissiveSt'+'rength']);},$D=(_0x1e7c8b,_0x3f1585,_0x294e29)=>{_0x3f1585['useIridesc'+'ence']=!(0xddb*0x1+0x871+-0x2*0xb26),_0x1e7c8b['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x3f1585['iridescenc'+'e']=_0x1e7c8b['iridescenc'+'eFactor']),_0x1e7c8b['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x3f1585['iridescenc'+'eMapChanne'+'l']='r',_0x3f1585['iridescenc'+'eMap']=_0x294e29[_0x1e7c8b['iridescenc'+'eTexture']['index']],xt(_0x1e7c8b['iridescenc'+'eTexture'],_0x3f1585,['iridescenc'+'e'])),_0x1e7c8b['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x3f1585['iridescenc'+'eRefractio'+'nIndex']=_0x1e7c8b['iridescenc'+'eIor']),_0x1e7c8b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x3f1585['iridescenc'+'eThickness'+'Min']=_0x1e7c8b['iridescenc'+'eThickness'+'Minimum']),_0x1e7c8b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x3f1585['iridescenc'+'eThickness'+'Max']=_0x1e7c8b['iridescenc'+'eThickness'+'Maximum']),_0x1e7c8b['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x3f1585['iridescenc'+'eThickness'+'MapChannel']='g',_0x3f1585['iridescenc'+'eThickness'+'Map']=_0x294e29[_0x1e7c8b['iridescenc'+'eThickness'+'Texture']['index']],xt(_0x1e7c8b['iridescenc'+'eThickness'+'Texture'],_0x3f1585,['iridescenc'+'eThickness']));},Lx=(_0x53cd97,_0x3f3e18)=>{const _0x4869cd=new _s();_0x53cd97['hasOwnProp'+'erty']('name')&&(_0x4869cd['name']=_0x53cd97['name']),_0x4869cd['occludeSpe'+'cular']=Vo,_0x4869cd['diffuseVer'+'texColor']=!(0x16*-0x151+0xfe1+-0xc5*-0x11),_0x4869cd['specularTi'+'nt']=!(0xf14+0x7c2+0x4a*-0x4f),_0x4869cd['specularVe'+'rtexColor']=!(-0x15aa+0x934+0xc76),_0x4869cd['specular']['set'](-0x15ad+0x26b0+-0x1102,0xe4e+-0x17*0x7f+-0x2e4,0xaef*0x3+0xa8e+0x1*-0x2b5a),_0x4869cd['gloss']=0x138c+0x5*-0x7ad+-0x96b*-0x2,_0x4869cd['glossInver'+'t']=!(0xa*-0x280+0xc*-0x33e+0x3fe8),_0x4869cd['useMetalne'+'ss']=!(-0x250f+0x2*-0x102b+0x4565);let _0x12b904,_0x233437;if(_0x53cd97['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0xc143e5=_0x53cd97['pbrMetalli'+'cRoughness'];if(_0xc143e5['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x12b904=_0xc143e5['baseColorF'+'actor'],_0x4869cd['diffuse']['set'](Math['pow'](_0x12b904[-0x2625+0x1ee+0x2437],(0x394*0x1+0xd2e+0x1*-0x10c1)/(-0x19bb+-0x1845+0x3202+0.20000000000000018)),Math['pow'](_0x12b904[-0x1*-0x24d7+0x270e+-0x4be4],(0xebe+-0x1*0x1082+-0x1*-0x1c5)/(-0xd1e+-0x1b6c+-0xa23*-0x4+0.20000000000000018)),Math['pow'](_0x12b904[-0x1a16+-0xf1e+-0x2936*-0x1],(0x743+-0x189b+0x1159)/(0x1*-0x2156+-0x493+-0x25eb*-0x1+0.20000000000000018))),_0x4869cd['opacity']=_0x12b904[0x4eb*0x7+-0x3*0xbcb+0xf7]),_0xc143e5['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x490074=_0xc143e5['baseColorT'+'exture'];_0x233437=_0x3f3e18[_0x490074['index']],_0x4869cd['diffuseMap']=_0x233437,_0x4869cd['diffuseMap'+'Channel']='rgb',_0x4869cd['opacityMap']=_0x233437,_0x4869cd['opacityMap'+'Channel']='a',xt(_0x490074,_0x4869cd,['diffuse','opacity']);}if(_0xc143e5['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x4869cd['metalness']=_0xc143e5['metallicFa'+'ctor']),_0xc143e5['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x4869cd['gloss']=_0xc143e5['roughnessF'+'actor']),_0xc143e5['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0xf6106b=_0xc143e5['metallicRo'+'ughnessTex'+'ture'];_0x4869cd['metalnessM'+'ap']=_0x4869cd['glossMap']=_0x3f3e18[_0xf6106b['index']],_0x4869cd['metalnessM'+'apChannel']='b',_0x4869cd['glossMapCh'+'annel']='g',xt(_0xf6106b,_0x4869cd,['gloss','metalness']);}}if(_0x53cd97['hasOwnProp'+'erty']('normalText'+'ure')){const _0x470731=_0x53cd97['normalText'+'ure'];_0x4869cd['normalMap']=_0x3f3e18[_0x470731['index']],xt(_0x470731,_0x4869cd,['normal']),_0x470731['hasOwnProp'+'erty']('scale')&&(_0x4869cd['bumpiness']=_0x470731['scale']);}if(_0x53cd97['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x3334c9=_0x53cd97['occlusionT'+'exture'];_0x4869cd['aoMap']=_0x3f3e18[_0x3334c9['index']],_0x4869cd['aoMapChann'+'el']='r',xt(_0x3334c9,_0x4869cd,['ao']);}if(_0x53cd97['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x12b904=_0x53cd97['emissiveFa'+'ctor'],_0x4869cd['emissive']['set'](Math['pow'](_0x12b904[-0x29*-0x1+-0x2497+0x1237*0x2],(0x1*0xb4f+-0x1bd0+0x2*0x841)/(0xde*-0x4+-0x123b+0x15b5+0.20000000000000018)),Math['pow'](_0x12b904[-0x15a8+-0x62*0x9+0x191b],(0x1d4b+0xdfa+0x736*-0x6)/(0x1ba9+-0xb3f+-0x1068+0.20000000000000018)),Math['pow'](_0x12b904[-0x5*-0x29e+0x165*0x14+-0x28f8],(-0x18ec+0x1*0x137d+0x10*0x57)/(-0x1e94+-0x3b*0x35+0x2acd*0x1+0.20000000000000018)))),_0x53cd97['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0xe11b60=_0x53cd97['emissiveTe'+'xture'];_0x4869cd['emissiveMa'+'p']=_0x3f3e18[_0xe11b60['index']],xt(_0xe11b60,_0x4869cd,['emissive']);}if(_0x53cd97['hasOwnProp'+'erty']('alphaMode'))switch(_0x53cd97['alphaMode']){case'MASK':_0x4869cd['blendType']=hs,_0x53cd97['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x4869cd['alphaTest']=_0x53cd97['alphaCutof'+'f']:_0x4869cd['alphaTest']=0x24cf+0x2604+-0x4ad3+0.5;break;case'BLEND':_0x4869cd['blendType']=Gt,_0x4869cd['depthWrite']=!(-0x54*0x67+-0x1fed+-0x2*-0x20dd);break;default:case'OPAQUE':_0x4869cd['blendType']=hs;break;}else _0x4869cd['blendType']=hs;_0x53cd97['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x4869cd['twoSidedLi'+'ghting']=_0x53cd97['doubleSide'+'d'],_0x4869cd['cull']=_0x53cd97['doubleSide'+'d']?vt:nn):(_0x4869cd['twoSidedLi'+'ghting']=!(0xbb*-0x35+-0x14e0+-0x4*-0xee6),_0x4869cd['cull']=nn);const _0x4a7eaf={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':WD,'KHR_materials_ior':zD,'KHR_materials_dispersion':UD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':kD,'KHR_materials_sheen':GD,'KHR_materials_specular':ND,'KHR_materials_transmission':VD,'KHR_materials_unlit':BD,'KHR_materials_volume':HD};if(_0x53cd97['hasOwnProp'+'erty']('extensions'))for(const _0x243679 in _0x53cd97['extensions']){const _0x2166c2=_0x4a7eaf[_0x243679];_0x2166c2!==void(0x1664+-0x8b3+-0x2bd*0x5)&&_0x2166c2(_0x53cd97['extensions'][_0x243679],_0x4869cd,_0x3f3e18);}return _0x4869cd['update'](),_0x4869cd;},qD=(_0x4a5fb1,_0x3cce4b,_0x557003,_0x209f41,_0x201022,_0x47fc86,_0x59f446)=>{const _0x22500c=_0x23c8f8=>new rc(jo(_0x23c8f8['type']),ga(_0x23c8f8,_0x209f41)),_0x3d0cfb={'STEP':q0,'LINEAR':Qu,'CUBICSPLINE':Ju},_0x170510={},_0x3bfd4e={},_0x285080={};let _0x303953=0x1*0x19ba+-0x38d*0x9+0x63c,_0x466266;for(_0x466266=-0x27*0x25+0x1914+0x1371*-0x1;_0x466266<_0x4a5fb1['samplers']['length'];++_0x466266){const _0x5bcdcd=_0x4a5fb1['samplers'][_0x466266];_0x170510['hasOwnProp'+'erty'](_0x5bcdcd['input'])||(_0x170510[_0x5bcdcd['input']]=_0x22500c(_0x557003[_0x5bcdcd['input']])),_0x3bfd4e['hasOwnProp'+'erty'](_0x5bcdcd['output'])||(_0x3bfd4e[_0x5bcdcd['output']]=_0x22500c(_0x557003[_0x5bcdcd['output']]));const _0x31e318=_0x5bcdcd['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x3d0cfb['hasOwnProp'+'erty'](_0x5bcdcd['interpolat'+'ion'])?_0x3d0cfb[_0x5bcdcd['interpolat'+'ion']]:Qu,_0x5dcb9d={'paths':[],'input':_0x5bcdcd['input'],'output':_0x5bcdcd['output'],'interpolation':_0x31e318};_0x285080[_0x466266]=_0x5dcb9d;}const _0x33ae80=[],_0x3dc0f6={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x46df82=_0x328c59=>{const _0x37744f=[];for(;_0x328c59;)_0x37744f['unshift'](_0x328c59['name']),_0x328c59=_0x328c59['parent'];return _0x37744f;},_0x548ec3=(_0x525c68,_0x2f368e,_0x3f946d)=>{const _0x17d1fb=_0x3bfd4e[_0x525c68['output']];if(!_0x17d1fb){b['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x3f946d+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x237ab8;if(_0x47fc86&&_0x47fc86[_0x2f368e['mesh']]){const _0x4b3a38=_0x47fc86[_0x2f368e['mesh']];_0x4b3a38['hasOwnProp'+'erty']('extras')&&_0x4b3a38['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x237ab8=_0x4b3a38['extras']['targetName'+'s']);}const _0x42d4b0=_0x17d1fb['data'],_0x34fcc4=_0x42d4b0['length']/_0x170510[_0x525c68['input']]['data']['length'],_0x19461c=_0x42d4b0['length']/_0x34fcc4,_0x573192=_0x19461c*(0x5*-0x1f+0xcb4+0x1*-0xc15),_0x5d196b=new ArrayBuffer(_0x573192*_0x34fcc4);for(let _0x2cd254=-0x76c+-0x64*-0x49+-0x14*0x10e;_0x2cd254<_0x34fcc4;_0x2cd254++){const _0x43655b=new Float32Array(_0x5d196b,_0x573192*_0x2cd254,_0x19461c);for(let _0x3d12d1=-0xe5*-0x19+-0x7*-0x4cd+-0x37f8;_0x3d12d1<_0x19461c;_0x3d12d1++)_0x43655b[_0x3d12d1]=_0x42d4b0[_0x3d12d1*_0x34fcc4+_0x2cd254];const _0x46830b=new rc(-0x1e0b*0x1+-0x5*0x2b1+0x2b81,_0x43655b),_0x5b16d5=_0x237ab8!=null&&_0x237ab8[_0x2cd254]?'name.'+_0x237ab8[_0x2cd254]:_0x2cd254;_0x3bfd4e[-_0x303953]=_0x46830b;const _0x47446c={'paths':[{'entityPath':_0x3f946d,'component':'graph','propertyPath':['weight.'+_0x5b16d5]}],'input':_0x525c68['input'],'output':-_0x303953,'interpolation':_0x525c68['interpolat'+'ion']};_0x303953++,_0x285080['morphCurve'+'-'+_0x466266+'-'+_0x2cd254]=_0x47446c;}};for(_0x466266=-0xba1+0x130e+-0x76d;_0x466266<_0x4a5fb1['channels']['length'];++_0x466266){const _0x2cdd40=_0x4a5fb1['channels'][_0x466266],_0x38d715=_0x2cdd40['target'],_0x5419a3=_0x285080[_0x2cdd40['sampler']],_0x13f85d=_0x201022[_0x38d715['node']],_0x16201b=_0x59f446[_0x38d715['node']],_0x3eb8ba=_0x46df82(_0x13f85d);_0x38d715['path']['startsWith']('weights')?(_0x548ec3(_0x5419a3,_0x16201b,_0x3eb8ba),_0x285080[_0x2cdd40['sampler']]['morphCurve']=!(0x2a*-0x3f+0x1e57+-0x1401)):_0x5419a3['paths']['push']({'entityPath':_0x3eb8ba,'component':'graph','propertyPath':[_0x3dc0f6[_0x38d715['path']]]});}const _0x50a1c4=[],_0x2a888b=[],_0x23b7a2=[];for(const _0x9c1786 in _0x170510)_0x50a1c4['push'](_0x170510[_0x9c1786]),_0x170510[_0x9c1786]=_0x50a1c4['length']-(0x1*-0x2338+0x1*-0xac9+-0x4e*-0x97);for(const _0x485fd8 in _0x3bfd4e)_0x2a888b['push'](_0x3bfd4e[_0x485fd8]),_0x3bfd4e[_0x485fd8]=_0x2a888b['length']-(-0x9b1+-0x387*0x9+-0x67*-0x67);for(const _0x4005d5 in _0x285080){const _0x30eae9=_0x285080[_0x4005d5];_0x30eae9['morphCurve']||(_0x23b7a2['push'](new Rx(_0x30eae9['paths'],_0x170510[_0x30eae9['input']],_0x3bfd4e[_0x30eae9['output']],_0x30eae9['interpolat'+'ion'])),_0x30eae9['paths']['length']>0xd2d*0x2+0x140a+-0x2e64&&_0x30eae9['paths'][-0x1dfc*-0x1+0x1a6*0x12+-0x3ba8]['propertyPa'+'th'][0xc9a*-0x1+0x8*0xa2+0x3c5*0x2]==='localRotat'+'ion'&&_0x30eae9['interpolat'+'ion']!==Ju&&_0x33ae80['push'](_0x23b7a2[_0x23b7a2['length']-(0x1aa9+0x85e+-0x2306)]['output']));}_0x33ae80['sort']();let _0x5977bf=null,_0x130c92;for(_0x466266=0x27f*-0x1+0x1821+-0x15a2;_0x466266<_0x33ae80['length'];++_0x466266){const _0x5a5ad0=_0x33ae80[_0x466266];if(_0x466266===-0x6e2+0x14e9+0x15*-0xab||_0x5a5ad0!==_0x5977bf){if(_0x130c92=_0x2a888b[_0x5a5ad0],_0x130c92['components']===-0xdf2+-0xa61+0x1*0x1857){const _0x3257c9=_0x130c92['data'],_0x5d7a05=_0x3257c9['length']-(-0x1e8e+-0x611+0x24a3*0x1);for(let _0x9b60d6=-0xbd*-0x3+0x1914+-0x19b*0x11;_0x9b60d6<_0x5d7a05;_0x9b60d6+=0x5*-0x10+0xd5d*0x1+0x2f*-0x47)_0x3257c9[_0x9b60d6+(0x1b09+0x14a2+-0x1*0x2fab)]*_0x3257c9[_0x9b60d6+(-0x116f+0x253f+-0x2*0x9e6)]+_0x3257c9[_0x9b60d6+(-0x129d*-0x2+0x20aa+-0x45e3)]*_0x3257c9[_0x9b60d6+(0xb43+-0x53e+-0x600)]+_0x3257c9[_0x9b60d6+(-0xee+0x47c+-0x38c)]*_0x3257c9[_0x9b60d6+(0x1*-0x83f+0xf3d*0x2+-0x1635)]+_0x3257c9[_0x9b60d6+(0x3*0x3c3+0x1a8f*-0x1+0xf49)]*_0x3257c9[_0x9b60d6+(0x2397+0xa4d+-0x2ddd)]<0x6*0x298+-0x1*0x13db+0x44b&&(_0x3257c9[_0x9b60d6+(-0xcc4+0x14d1+-0x809)]*=-(-0xdf5+0x1*-0xaf4+-0x84e*-0x3),_0x3257c9[_0x9b60d6+(0x17*0x1d+-0x3*-0xa7b+-0x2207)]*=-(0x24b5*-0x1+-0xa04+0x2eba),_0x3257c9[_0x9b60d6+(-0xcf3+-0x71*-0x11+0x578)]*=-(0xd6d+0x2ea*-0x2+-0x798),_0x3257c9[_0x9b60d6+(-0x2587+-0x178c+0x3d1a)]*=-(-0x16f7+0x23bf+-0xcc7));}_0x5977bf=_0x5a5ad0;}}let _0x1f0263=-0x1618+0x204+0x505*0x4;for(_0x466266=-0x22b0+0x1*0x1b45+0x76b;_0x466266<_0x50a1c4['length'];_0x466266++)_0x130c92=_0x50a1c4[_0x466266]['_data'],_0x1f0263=Math['max'](_0x1f0263,_0x130c92['length']===0xa8b+-0xd96+0x30b*0x1?0x2033+0x7*0x336+-0x36ad*0x1:_0x130c92[_0x130c92['length']-(-0x1*0x1dd4+-0x1*0x12c4+0x3099)]);return new ki(_0x4a5fb1['hasOwnProp'+'erty']('name')?_0x4a5fb1['name']:'animation_'+_0x3cce4b,_0x1f0263,_0x50a1c4,_0x2a888b,_0x23b7a2);},nh=new q(),jn=new A(),XD=(_0x1ea15a,_0x4b5553,_0x208feb)=>{const _0x501c81=new Oe();if(_0x1ea15a['hasOwnProp'+'erty']('name')&&_0x1ea15a['name']['length']>0xd69+0x1de7+-0x2b50?_0x501c81['name']=_0x1ea15a['name']:_0x501c81['name']='node_'+_0x4b5553,_0x1ea15a['hasOwnProp'+'erty']('matrix')&&(nh['data']['set'](_0x1ea15a['matrix']),nh['getTransla'+'tion'](jn),_0x501c81['setLocalPo'+'sition'](jn),nh['getEulerAn'+'gles'](jn),_0x501c81['setLocalEu'+'lerAngles'](jn),nh['getScale'](jn),_0x501c81['setLocalSc'+'ale'](jn)),_0x1ea15a['hasOwnProp'+'erty']('rotation')){const _0x224261=_0x1ea15a['rotation'];_0x501c81['setLocalRo'+'tation'](_0x224261[-0x1854+0x4f9*-0x7+-0x3b23*-0x1],_0x224261[-0x466*-0x1+-0x4*0x4a7+0xe37],_0x224261[-0xc8f+0x429*-0x6+0x2587],_0x224261[0xec0+0x1a15+-0x28d2]);}if(_0x1ea15a['hasOwnProp'+'erty']('translatio'+'n')){const _0x417366=_0x1ea15a['translatio'+'n'];_0x501c81['setLocalPo'+'sition'](_0x417366[0xe8*-0x5+0xae4+-0x65c],_0x417366[-0x3d+0x145f+-0x1421],_0x417366[-0x561+-0xf3e+-0x14a1*-0x1]);}if(_0x1ea15a['hasOwnProp'+'erty']('scale')){const _0x430300=_0x1ea15a['scale'];_0x501c81['setLocalSc'+'ale'](_0x430300[0x10*0xc4+-0x202c+-0x96*-0x22],_0x430300[0x1ce4+-0x3*0x662+0x9*-0x115],_0x430300[0x2*-0x4c7+0x1959+0xfc9*-0x1]);}return _0x1ea15a['hasOwnProp'+'erty']('extensions')&&_0x1ea15a['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x208feb['set'](_0x1ea15a,{'ext':_0x1ea15a['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x501c81;},jD=(_0x563939,_0xc6dc4b)=>{const _0x180611=_0x563939['type']==='orthograph'+'ic'?pa:Xs,_0x20a450=_0x180611===pa?_0x563939['orthograph'+'ic']:_0x563939['perspectiv'+'e'],_0x293aed={'enabled':!(-0xdc3+0x1*0x751+0x7f*0xd),'projection':_0x180611,'nearClip':_0x20a450['znear'],'aspectRatioMode':kp};_0x20a450['zfar']&&(_0x293aed['farClip']=_0x20a450['zfar']),_0x180611===pa?(_0x293aed['orthoHeigh'+'t']=(0xb5*0x7+0x1b2d+-0x2020+0.5)*_0x20a450['ymag'],_0x20a450['ymag']&&(_0x293aed['aspectRati'+'oMode']=Vu,_0x293aed['aspectRati'+'o']=_0x20a450['xmag']/_0x20a450['ymag'])):(_0x293aed['fov']=_0x20a450['yfov']*z['RAD_TO_DEG'],_0x20a450['aspectRati'+'o']&&(_0x293aed['aspectRati'+'oMode']=Vu,_0x293aed['aspectRati'+'o']=_0x20a450['aspectRati'+'o']));const _0x4e91a3=new je(_0x563939['name']);return _0x4e91a3['addCompone'+'nt']('camera',_0x293aed),_0x4e91a3;},YD=(_0x53ca11,_0x140466)=>{const _0x125245={'enabled':!(-0x4*0x711+-0x7b0+0x107*0x23),'type':_0x53ca11['type']==='point'?'omni':_0x53ca11['type'],'color':_0x53ca11['hasOwnProp'+'erty']('color')?new Y(_0x53ca11['color']):Y['WHITE'],'range':_0x53ca11['hasOwnProp'+'erty']('range')?_0x53ca11['range']:0xcf5+-0x605+0x201f,'falloffMode':$b,'intensity':_0x53ca11['hasOwnProp'+'erty']('intensity')?z['clamp'](_0x53ca11['intensity'],0x1*0x24d0+-0x175*0x1a+0x112*0x1,0x270f+-0x1133+-0x15da):-0x8f1+-0xf4+0x9e6};_0x53ca11['hasOwnProp'+'erty']('spot')&&(_0x125245['innerConeA'+'ngle']=_0x53ca11['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x53ca11['spot']['innerConeA'+'ngle']*z['RAD_TO_DEG']:-0x5*0x107+0xb9b*0x3+-0x1dae,_0x125245['outerConeA'+'ngle']=_0x53ca11['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x53ca11['spot']['outerConeA'+'ngle']*z['RAD_TO_DEG']:Math['PI']/(-0x1*-0xd3d+0x67a*-0x1+-0x9d*0xb)),_0x53ca11['hasOwnProp'+'erty']('intensity')&&(_0x125245['luminance']=_0x53ca11['intensity']*Ho['getLightUn'+'itConversi'+'on'](qu[_0x125245['type']],_0x125245['outerConeA'+'ngle'],_0x125245['innerConeA'+'ngle']));const _0x4a660a=new je(_0x140466['name']);return _0x4a660a['rotateLoca'+'l'](-0x1*-0x2ef+-0x9c1+0x4*0x1cb,0x1*0x17d7+-0x1e98+0x6c1,-0x463*-0x7+0x1c48+-0x3afd),_0x4a660a['addCompone'+'nt']('light',_0x125245),_0x4a660a;},KD=(_0x1770f6,_0x326054,_0x384dc8,_0x180f74)=>{if(!_0x326054['hasOwnProp'+'erty']('skins')||_0x326054['skins']['length']===-0x572+-0x3*-0x60d+-0xcb5)return[];const _0x1b5934=new Map();return _0x326054['skins']['map'](_0xe55390=>DD(_0x1770f6,_0xe55390,_0x326054['accessors'],_0x180f74,_0x384dc8,_0x1b5934));},ZD=(_0x3ea424,_0x4d6c1f,_0x15c8e1,_0x45d7d3)=>{var _0x35ec69,_0x257bfc,_0x49ebd4;const _0x14ef2e={},_0x5fe7e4={},_0x37c475={},_0x344050=[];return{'meshes':!_0x45d7d3['skipMeshes']&&((_0x35ec69=_0x4d6c1f==null?void(0xe5c+0x196+-0x1a*0x9d):_0x4d6c1f['meshes'])==null?void(-0x324+-0x167d+0x19a1):_0x35ec69['length'])&&((_0x257bfc=_0x4d6c1f==null?void(0x1*0x335+-0x2561+0x222c):_0x4d6c1f['accessors'])==null?void(-0x23b3+-0x1673*0x1+-0x2*-0x1d13):_0x257bfc['length'])&&((_0x49ebd4=_0x4d6c1f==null?void(-0x1fc3*0x1+0xf1+0x1ed2):_0x4d6c1f['bufferView'+'s'])==null?void(0x144b+-0x2ab+-0x11a0):_0x49ebd4['length'])?_0x4d6c1f['meshes']['map'](_0x426b96=>FD(_0x3ea424,_0x426b96,_0x4d6c1f['accessors'],_0x15c8e1,_0x14ef2e,_0x5fe7e4,_0x37c475,_0x45d7d3,_0x344050)):[],'meshVariants':_0x5fe7e4,'meshDefaultMaterials':_0x37c475,'promises':_0x344050};},QD=(_0x1948bb,_0x445c75,_0x42d74f)=>{var _0x4c6a05,_0xd87950,_0x123831;if(!_0x1948bb['hasOwnProp'+'erty']('materials')||_0x1948bb['materials']['length']===-0x750+-0x21f8+-0x529*-0x8)return[];const _0x2c7759=(_0x4c6a05=_0x42d74f==null?void(-0x22a7*0x1+-0x12dd*0x1+0x3584):_0x42d74f['material'])==null?void(-0x2d1*0x7+0x2*0x340+-0xc7*-0x11):_0x4c6a05['preprocess'],_0x40dba4=((_0xd87950=_0x42d74f==null?void(0x1*-0x167b+-0x1a92+0x310d):_0x42d74f['material'])==null?void(0x1489*0x1+0x137d+0x1*-0x2806):_0xd87950['process'])??Lx,_0x186c1d=(_0x123831=_0x42d74f==null?void(-0x1a05+0x1ca1+-0x29c):_0x42d74f['material'])==null?void(0x1d*-0xfb+0x2513*0x1+-0x8a4):_0x123831['postproces'+'s'];return _0x1948bb['materials']['map'](_0x3a6542=>{_0x2c7759&&_0x2c7759(_0x3a6542);const _0x2ec0c2=_0x40dba4(_0x3a6542,_0x445c75);return _0x186c1d&&_0x186c1d(_0x3a6542,_0x2ec0c2),_0x2ec0c2;});},JD=_0x3a77a3=>{if(!_0x3a77a3['hasOwnProp'+'erty']('extensions')||!_0x3a77a3['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x52639a=_0x3a77a3['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x39b362={};for(let _0x572a38=0x1a7*0x6+0x1*0x19db+-0x23c5;_0x572a38<_0x52639a['length'];_0x572a38++)_0x39b362[_0x52639a[_0x572a38]['name']]=_0x572a38;return _0x39b362;},e2=(_0xa13494,_0x1830bc,_0x3d228b,_0x4449dc)=>{var _0x3b4057,_0x45624a;if(!_0xa13494['hasOwnProp'+'erty']('animations')||_0xa13494['animations']['length']===-0x4*0x5ed+0xb4e*0x2+0x118)return[];const _0xb4f875=(_0x3b4057=_0x4449dc==null?void(0x5a+-0x1ae9+0x1a8f):_0x4449dc['animation'])==null?void(-0x1*-0xe37+-0x1*0x1d2f+0x3be*0x4):_0x3b4057['preprocess'],_0x3f6a8c=(_0x45624a=_0x4449dc==null?void(-0x487+0x3*-0x94b+0x2068):_0x4449dc['animation'])==null?void(-0x1e86+0x1b98+0x2*0x177):_0x45624a['postproces'+'s'];return _0xa13494['animations']['map']((_0x2289c2,_0x1a3e1e)=>{_0xb4f875&&_0xb4f875(_0x2289c2);const _0x4dd425=qD(_0x2289c2,_0x1a3e1e,_0xa13494['accessors'],_0x3d228b,_0x1830bc,_0xa13494['meshes'],_0xa13494['nodes']);return _0x3f6a8c&&_0x3f6a8c(_0x2289c2,_0x4dd425),_0x4dd425;});},t2=(_0x56d5f7,_0x5cc851,_0x41cdff,_0x3bb696)=>{const _0x58bbdd=_0x5cc851['accessors'];_0x41cdff['forEach']((_0xbfdfff,_0x24686f)=>{const _0x9c1c94=_0xbfdfff['ext']['attributes'];let _0x72f797;if(_0x9c1c94['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x1da07d=_0x58bbdd[_0x9c1c94['TRANSLATIO'+'N']];_0x72f797=ga(_0x1da07d,_0x3bb696);}let _0x2c7b52;if(_0x9c1c94['hasOwnProp'+'erty']('ROTATION')){const _0x16626e=_0x58bbdd[_0x9c1c94['ROTATION']];_0x2c7b52=ga(_0x16626e,_0x3bb696);}let _0x43a864;if(_0x9c1c94['hasOwnProp'+'erty']('SCALE')){const _0x15f5d3=_0x58bbdd[_0x9c1c94['SCALE']];_0x43a864=ga(_0x15f5d3,_0x3bb696);}const _0x8b77ce=(_0x72f797?_0x72f797['length']/(-0x2c5*-0x1+0x812+-0xad4):0xb*-0x67+-0x3*0xc1d+0x28c4)||(_0x2c7b52?_0x2c7b52['length']/(-0x1f44+-0x2*0x1183+0x45*0xf6):0x428+-0x1*0x1706+0x3c6*0x5)||(_0x43a864?_0x43a864['length']/(0x2*0x3e1+0x1cd3+-0x2*0x1249):-0x327+0x161e+0x1*-0x12f7);if(_0x8b77ce){const _0x24ddfb=new Float32Array(_0x8b77ce*(-0xe*-0x38+-0x11a4+-0x752*-0x2)),_0x136f8f=new A(),_0x404cfb=new ie(),_0x2c1480=new A(0xae4*0x2+0x157+-0x2*0xb8f,0x1*-0x2282+-0x15c7+0x384a,0x87e+-0xc41*-0x1+0x14be*-0x1),_0x47eac9=new q();let _0x1d89a0=0xc01+0x1*-0x22bd+0x16bc;for(let _0x1d1ea3=0x85*-0x9+0xa*-0xaa+-0x1*-0xb51;_0x1d1ea3<_0x8b77ce;_0x1d1ea3++){const _0x409140=_0x1d1ea3*(0x216+-0x203b+0x1e28);if(_0x72f797&&_0x136f8f['set'](_0x72f797[_0x409140],_0x72f797[_0x409140+(-0x1b89*0x1+-0x3*-0x37+0xf*0x1cb)],_0x72f797[_0x409140+(0xc8d*-0x3+0x4ae+0x1*0x20fb)]),_0x2c7b52){const _0x4620d0=_0x1d1ea3*(-0x2a4+-0xa67*0x1+0x1*0xd0f);_0x404cfb['set'](_0x2c7b52[_0x4620d0],_0x2c7b52[_0x4620d0+(-0x2f*-0xb1+0x30*-0xb8+0x202)],_0x2c7b52[_0x4620d0+(0x2637*0x1+-0x1d4+-0x2461*0x1)],_0x2c7b52[_0x4620d0+(0x18bd+0x63*-0x5+-0x185*0xf)]);}_0x43a864&&_0x2c1480['set'](_0x43a864[_0x409140],_0x43a864[_0x409140+(0x5db*0x6+-0xc*-0xce+-0x2cc9)],_0x43a864[_0x409140+(-0x1*0xaa7+-0x1537+0x1fe0)]),_0x47eac9['setTRS'](_0x136f8f,_0x404cfb,_0x2c1480);for(let _0xd50f4e=-0x2*0x43+-0x77d+0x1*0x803;_0xd50f4e<-0x1*-0x138f+-0x53*0x5e+0x3*0x3a9;_0xd50f4e++)_0x24ddfb[_0x1d89a0++]=_0x47eac9['data'][_0xd50f4e];}_0xbfdfff['matrices']=_0x24ddfb;}});},s2=(_0x5b1a43,_0x4d7de9,_0x453e32)=>{var _0x3745f1,_0x1d4e4a,_0x1b6b2f;if(!_0x5b1a43['hasOwnProp'+'erty']('nodes')||_0x5b1a43['nodes']['length']===-0x1249+0x1*-0x183d+0x1543*0x2)return[];const _0x4df43e=(_0x3745f1=_0x4d7de9==null?void(0x18b8+0xe73+-0x272b):_0x4d7de9['node'])==null?void(0x4cc+0x2d8+-0x7a4):_0x3745f1['preprocess'],_0x4448d5=((_0x1d4e4a=_0x4d7de9==null?void(-0x2*0xc89+0xb1b*0x1+0xdf7):_0x4d7de9['node'])==null?void(0x16*0x13a+0x7*-0xc2+-0x32*0x6f):_0x1d4e4a['process'])??XD,_0x125426=(_0x1b6b2f=_0x4d7de9==null?void(-0x28*-0x8b+-0xd3*0x27+0x11*0x9d):_0x4d7de9['node'])==null?void(-0x22dd+0x1d52+-0x21*-0x2b):_0x1b6b2f['postproces'+'s'],_0x327c0f=_0x5b1a43['nodes']['map']((_0x2ea533,_0x3a6bbb)=>{_0x4df43e&&_0x4df43e(_0x2ea533);const _0x100b18=_0x4448d5(_0x2ea533,_0x3a6bbb,_0x453e32);return _0x125426&&_0x125426(_0x2ea533,_0x100b18),_0x100b18;});for(let _0xaa9fb2=0x20c*0x10+0xcfc+-0x2*0x16de;_0xaa9fb2<_0x5b1a43['nodes']['length'];++_0xaa9fb2){const _0x40ac78=_0x5b1a43['nodes'][_0xaa9fb2];if(_0x40ac78['hasOwnProp'+'erty']('children')){const _0x312501=_0x327c0f[_0xaa9fb2],_0x306002={};for(let _0x6cdbc8=0x62a+0x69c+-0x6d*0x1e;_0x6cdbc8<_0x40ac78['children']['length'];++_0x6cdbc8){const _0x19e745=_0x327c0f[_0x40ac78['children'][_0x6cdbc8]];_0x19e745['parent']||(_0x306002['hasOwnProp'+'erty'](_0x19e745['name'])?_0x19e745['name']+=_0x306002[_0x19e745['name']]++:_0x306002[_0x19e745['name']]=0x173d+-0x7d4+-0xf68,_0x312501['addChild'](_0x19e745));}}}return _0x327c0f;},i2=(_0x15955b,_0x2eada9)=>{var _0x40b58c;const _0x152e49=[],_0x35dd6a=_0x15955b['scenes']['length'];if(_0x35dd6a===-0x11b8+0xf11+0x22*0x14&&((_0x40b58c=_0x15955b['scenes'][-0x31d+-0x6cd+0x9ea]['nodes'])==null?void(0x6d0+-0x1e5c+0x178c*0x1):_0x40b58c['length'])===0x2*-0xcd7+0x72*0x17+0xf71){const _0xd629d8=_0x15955b['scenes'][0x26c4+-0x98c+-0x1d38]['nodes'][-0x1*-0x115a+-0x26ee+0x1594];_0x152e49['push'](_0x2eada9[_0xd629d8]);}else for(let _0x43983e=-0x1e0e+-0x83+-0x5*-0x61d;_0x43983e<_0x35dd6a;_0x43983e++){const _0x528e5c=_0x15955b['scenes'][_0x43983e];if(_0x528e5c['nodes']){const _0x28cf17=new Oe(_0x528e5c['name']);for(let _0x22fe48=0x222d+-0x22c9+0x9c;_0x22fe48<_0x528e5c['nodes']['length'];_0x22fe48++){const _0x12e3fb=_0x2eada9[_0x528e5c['nodes'][_0x22fe48]];_0x28cf17['addChild'](_0x12e3fb);}_0x152e49['push'](_0x28cf17);}}return _0x152e49;},r2=(_0x53498f,_0x10342b,_0x4df42d)=>{var _0x3b0fff,_0x2d5d88,_0x2f9182;let _0x5395e7=null;if(_0x53498f['hasOwnProp'+'erty']('nodes')&&_0x53498f['hasOwnProp'+'erty']('cameras')&&_0x53498f['cameras']['length']>0x1*0x204d+-0x123e+-0xe0f*0x1){const _0x2ba82c=(_0x3b0fff=_0x4df42d==null?void(0x7f*-0x47+-0x1*-0x23b7+0x6*-0x15):_0x4df42d['camera'])==null?void(0x112f+0x173b+-0x286a):_0x3b0fff['preprocess'],_0x29cf4e=((_0x2d5d88=_0x4df42d==null?void(0xbf8+0xdcc+-0x61*0x44):_0x4df42d['camera'])==null?void(-0x1399*-0x1+-0x2*0x23a+-0xf25):_0x2d5d88['process'])??jD,_0x41c820=(_0x2f9182=_0x4df42d==null?void(0x1a*-0xca+0x1*-0x20c3+0x3547*0x1):_0x4df42d['camera'])==null?void(-0x21a9+0x1*0xec5+0x12e4):_0x2f9182['postproces'+'s'];_0x53498f['nodes']['forEach']((_0xa8422d,_0x56d21c)=>{if(_0xa8422d['hasOwnProp'+'erty']('camera')){const _0x5d80c2=_0x53498f['cameras'][_0xa8422d['camera']];if(_0x5d80c2){_0x2ba82c&&_0x2ba82c(_0x5d80c2);const _0xbc4ada=_0x29cf4e(_0x5d80c2,_0x10342b[_0x56d21c]);_0x41c820&&_0x41c820(_0x5d80c2,_0xbc4ada),_0xbc4ada&&(_0x5395e7||(_0x5395e7=new Map()),_0x5395e7['set'](_0xa8422d,_0xbc4ada));}}});}return _0x5395e7;},n2=(_0x2e5a5a,_0x54e769,_0x13d120)=>{var _0x477135,_0x2b666c,_0x313391;let _0x3d02cc=null;if(_0x2e5a5a['hasOwnProp'+'erty']('nodes')&&_0x2e5a5a['hasOwnProp'+'erty']('extensions')&&_0x2e5a5a['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x2e5a5a['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x461ac3=_0x2e5a5a['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x461ac3['length']){const _0x18802f=(_0x477135=_0x13d120==null?void(-0x23ad*-0x1+-0x38b*0x5+-0x11f6):_0x13d120['light'])==null?void(-0x190f+0x517+-0x18*-0xd5):_0x477135['preprocess'],_0x275730=((_0x2b666c=_0x13d120==null?void(0x7e5+0x1*-0x8cc+0xe7):_0x13d120['light'])==null?void(-0x1efe+0x3*-0x473+0x2c57):_0x2b666c['process'])??YD,_0x446d8e=(_0x313391=_0x13d120==null?void(0x253a+-0x21ca+-0x370):_0x13d120['light'])==null?void(0x1*0xc39+0xde6+-0x1a1f):_0x313391['postproces'+'s'];_0x2e5a5a['nodes']['forEach']((_0x386e76,_0x4ffbcc)=>{if(_0x386e76['hasOwnProp'+'erty']('extensions')&&_0x386e76['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x386e76['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x2069f5=_0x386e76['extensions']['KHR_lights'+'_punctual']['light'],_0x378043=_0x461ac3[_0x2069f5];if(_0x378043){_0x18802f&&_0x18802f(_0x378043);const _0x411edb=_0x275730(_0x378043,_0x54e769[_0x4ffbcc]);_0x446d8e&&_0x446d8e(_0x378043,_0x411edb),_0x411edb&&(_0x3d02cc||(_0x3d02cc=new Map()),_0x3d02cc['set'](_0x386e76,_0x411edb));}}});}}return _0x3d02cc;},a2=(_0x4f8045,_0x3b38a1,_0x290eba)=>{_0x4f8045['nodes']['forEach'](_0x48364c=>{_0x48364c['hasOwnProp'+'erty']('mesh')&&_0x48364c['hasOwnProp'+'erty']('skin')&&_0x3b38a1[_0x48364c['mesh']]['meshes']['forEach'](_0x21ab75=>{_0x21ab75['skin']=_0x290eba[_0x48364c['skin']];});});},o2=async(_0x5560be,_0xd5e2d4,_0x71de1b,_0x49281b,_0xa4c08a)=>{var _0x2648fa,_0x4b6c87;const _0x406418=(_0x2648fa=_0xa4c08a==null?void(-0x1f28+0x1*-0x1126+0x55e*0x9):_0xa4c08a['global'])==null?void(-0x1*0x1861+0x4*-0x775+0x3635):_0x2648fa['preprocess'],_0x56b0e3=(_0x4b6c87=_0xa4c08a==null?void(-0x7*-0xf+0x1a92+-0x1afb):_0xa4c08a['global'])==null?void(0x1965+0x111d+0x1541*-0x2):_0x4b6c87['postproces'+'s'];_0x406418&&_0x406418(_0xd5e2d4),_0xd5e2d4['asset']&&_0xd5e2d4['asset']['generator']==='PlayCanvas'&&b['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x59b567=new Map(),_0x48df1c=s2(_0xd5e2d4,_0xa4c08a,_0x59b567),_0x2007eb=i2(_0xd5e2d4,_0x48df1c),_0x1facb9=n2(_0xd5e2d4,_0x48df1c,_0xa4c08a),_0x3b0bfc=r2(_0xd5e2d4,_0x48df1c,_0xa4c08a),_0x273ec7=JD(_0xd5e2d4),_0x18a085=await Promise['all'](_0x71de1b),{meshes:_0x2b3608,meshVariants:_0x31afd4,meshDefaultMaterials:_0x5ef7c1,promises:_0x5f0e7a}=ZD(_0x5560be,_0xd5e2d4,_0x18a085,_0xa4c08a),_0x43408f=e2(_0xd5e2d4,_0x48df1c,_0x18a085,_0xa4c08a);t2(_0x5560be,_0xd5e2d4,_0x59b567,_0x18a085);const _0x2ee250=await Promise['all'](_0x49281b),_0x3f95b8=_0x2ee250['map'](_0x52d195=>_0x52d195['resource']),_0x26db54=QD(_0xd5e2d4,_0x3f95b8,_0xa4c08a),_0x5c4a22=KD(_0x5560be,_0xd5e2d4,_0x48df1c,_0x18a085),_0x4d1e4a=[];for(let _0x4d78e1=-0x17af*-0x1+0x1*-0x1a09+0x25a;_0x4d78e1<_0x2b3608['length'];_0x4d78e1++)_0x4d1e4a[_0x4d78e1]=new Xp(),_0x4d1e4a[_0x4d78e1]['meshes']=_0x2b3608[_0x4d78e1];a2(_0xd5e2d4,_0x4d1e4a,_0x5c4a22);const _0x5edfeb=new vD();return _0x5edfeb['gltf']=_0xd5e2d4,_0x5edfeb['nodes']=_0x48df1c,_0x5edfeb['scenes']=_0x2007eb,_0x5edfeb['animations']=_0x43408f,_0x5edfeb['textures']=_0x2ee250,_0x5edfeb['materials']=_0x26db54,_0x5edfeb['variants']=_0x273ec7,_0x5edfeb['meshVarian'+'ts']=_0x31afd4,_0x5edfeb['meshDefaul'+'tMaterials']=_0x5ef7c1,_0x5edfeb['renders']=_0x4d1e4a,_0x5edfeb['skins']=_0x5c4a22,_0x5edfeb['lights']=_0x1facb9,_0x5edfeb['cameras']=_0x3b0bfc,_0x5edfeb['nodeInstan'+'cingMap']=_0x59b567,_0x56b0e3&&_0x56b0e3(_0xd5e2d4,_0x5edfeb),await Promise['all'](_0x5f0e7a),_0x5edfeb;},l2=(_0x368ec1,_0x2fbc47)=>{const _0x49631c=(_0x46d7a1,_0xa0f2da)=>{switch(_0x46d7a1){case-0x2a72+-0x66b+0x56dd:return fe;case-0x1c22+-0x6*0xc16+-0x8aa7*-0x1:return at;case 0x4*-0x82e+0x3*0x953+0x2bbf:return yc;case-0xb2+0x3*-0xb56+0x49b5:return Sc;case 0x284f+-0x35*-0x14c+0x1*-0x4609:return xc;case 0x4*-0x1368+0x12ff*0x4+0x28a7:return an;default:return _0xa0f2da;}},_0x115f20=(_0x4cc60e,_0x5e639f)=>{switch(_0x4cc60e){case 0x1*0x6362+0x7*-0x1157+-0x1*-0x972e:return oe;case 0x758+0x442f*-0x1+0xc047:return zf;case 0x1d*-0x166+0x3f6e+-0x3*-0x60b:return nt;default:return _0x5e639f;}};_0x368ec1&&(_0x2fbc47=_0x2fbc47??{},_0x368ec1['minFilter']=_0x49631c(_0x2fbc47['minFilter'],an),_0x368ec1['magFilter']=_0x49631c(_0x2fbc47['magFilter'],at),_0x368ec1['addressU']=_0x115f20(_0x2fbc47['wrapS'],nt),_0x368ec1['addressV']=_0x115f20(_0x2fbc47['wrapT'],nt));};let h2=-0x39a+-0x578+0x56*0x1b;const Af=_0x167e92=>{var _0x38cfd9,_0x34cf45,_0x329276,_0x3628b7;return((_0x34cf45=(_0x38cfd9=_0x167e92['extensions'])==null?void(-0x1*-0x493+-0xe29+-0x3*-0x332):_0x38cfd9['KHR_textur'+'e_basisu'])==null?void(0x8bf+-0xca*-0xd+0x1301*-0x1):_0x34cf45['source'])??((_0x3628b7=(_0x329276=_0x167e92['extensions'])==null?void(-0x22bd+-0x17da+0x3a97):_0x329276['EXT_textur'+'e_webp'])==null?void(0x935+0x1*-0xa87+0x1a*0xd):_0x3628b7['source'])??_0x167e92['source'];},c2=(_0x4ee568,_0x4bcf3d,_0x1d183f,_0x51e9cc,_0x4a69e9)=>{var _0x2a0bff,_0x3ae5cb,_0x290fe1;if(!_0x4ee568['images']||_0x4ee568['images']['length']===-0x407*0x1+-0x14f1+-0x88*-0x2f)return[];const _0x218019=(_0x2a0bff=_0x4a69e9==null?void(-0x2*-0x1a5+0x1*-0x1c17+0x38b*0x7):_0x4a69e9['image'])==null?void(-0xdba+-0x19a7+0x2761):_0x2a0bff['preprocess'],_0x3ab0e8=(_0x3ae5cb=_0x4a69e9==null?void(0x1119+-0x1e5c+0xd43):_0x4a69e9['image'])==null?void(-0x896+-0x4fb+0xd91):_0x3ae5cb['processAsy'+'nc'],_0x16ad02=(_0x290fe1=_0x4a69e9==null?void(0x262c+-0x723+-0x1f09):_0x4a69e9['image'])==null?void(-0x1*0xc92+0x120b*0x2+-0x1784):_0x290fe1['postproces'+'s'],_0x50a1f5={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x2deeda=_0x310f59=>{const _0xeab5a6=new Set();return _0x310f59['hasOwnProp'+'erty']('materials')&&_0x310f59['materials']['forEach'](_0x3856da=>{if(_0x3856da['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x36bc11=_0x3856da['pbrMetalli'+'cRoughness'];if(_0x36bc11['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2e3bfd=_0x310f59['textures'][_0x36bc11['baseColorT'+'exture']['index']];_0xeab5a6['add'](Af(_0x2e3bfd));}}if(_0x3856da['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1c7943=_0x310f59['textures'][_0x3856da['emissiveTe'+'xture']['index']];_0xeab5a6['add'](Af(_0x1c7943));}}),_0xeab5a6;},_0x184472=(_0x56cbd2,_0x59cc5e,_0x29b673,_0x4d7648,_0x2fe1de,_0x55d42c)=>new Promise((_0x1e61c6,_0xd95a8a)=>{const _0x5a2e5e=_0x3a1f97=>{const _0x1f5611=(_0x56cbd2['name']||'gltf-textu'+'re')+'-'+h2++,_0x4ce48b={'url':_0x59cc5e||_0x1f5611};if(_0x3a1f97&&(_0x4ce48b['contents']=_0x3a1f97['slice'](-0xd*-0xd6+0x1*0x2619+-0x30f7)['buffer']),_0x4d7648){const _0x17bf9e=_0x50a1f5[_0x4d7648];_0x17bf9e&&(_0x4ce48b['filename']=_0x4ce48b['url']+'.'+_0x17bf9e);}const _0xfc718={'srgb':_0x55d42c},_0x481bfb=new he(_0x1f5611,'texture',_0x4ce48b,_0xfc718,_0x2fe1de);_0x481bfb['on']('load',_0xc20836=>_0x1e61c6(_0xc20836)),_0x481bfb['on']('error',_0x53c0cf=>_0xd95a8a(_0x53c0cf)),_0x51e9cc['add'](_0x481bfb),_0x51e9cc['load'](_0x481bfb);};_0x29b673?_0x29b673['then'](_0x4e46f3=>_0x5a2e5e(_0x4e46f3)):_0x5a2e5e(null);}),_0x586b98=_0x2deeda(_0x4ee568);return _0x4ee568['images']['map']((_0x1066d9,_0x4af721)=>{_0x218019&&_0x218019(_0x1066d9);let _0x2a32a6;return _0x3ab0e8?_0x2a32a6=new Promise((_0x2c0851,_0x583a22)=>{_0x3ab0e8(_0x1066d9,(_0x107a4d,_0x10242f)=>{_0x107a4d?_0x583a22(_0x107a4d):_0x2c0851(_0x10242f);});}):_0x2a32a6=new Promise(_0x347ff6=>{_0x347ff6(null);}),_0x2a32a6=_0x2a32a6['then'](_0x245ed7=>{const _0x2a22b7=_0x586b98['has'](_0x4af721);return _0x245ed7||(_0x1066d9['hasOwnProp'+'erty']('uri')?Ix(_0x1066d9['uri'])?_0x184472(_0x1066d9,_0x1066d9['uri'],null,bD(_0x1066d9['uri']),null,_0x2a22b7):_0x184472(_0x1066d9,ka['test'](_0x1066d9['uri'])?_0x1066d9['uri']:me['join'](_0x1d183f,_0x1066d9['uri']),null,null,{'crossOrigin':'anonymous'},_0x2a22b7):_0x1066d9['hasOwnProp'+'erty']('bufferView')&&_0x1066d9['hasOwnProp'+'erty']('mimeType')?_0x184472(_0x1066d9,null,_0x4bcf3d[_0x1066d9['bufferView']],_0x1066d9['mimeType'],null,_0x2a22b7):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x4af721)));}),_0x16ad02&&(_0x2a32a6=_0x2a32a6['then'](_0x384ed0=>(_0x16ad02(_0x1066d9,_0x384ed0),_0x384ed0))),_0x2a32a6;});},d2=(_0x38c913,_0x4866df,_0x1c977d)=>{var _0x322760,_0x537836,_0xf2414f,_0x3eb5b3,_0xecbaa5;if(!((_0x322760=_0x38c913==null?void(-0x3f5*0x8+0xe3d+0x31*0x5b):_0x38c913['images'])!=null&&_0x322760['length'])||!((_0x537836=_0x38c913==null?void(-0x12a1+0x176c+-0x4cb):_0x38c913['textures'])!=null&&_0x537836['length']))return[];const _0x752e30=(_0xf2414f=_0x1c977d==null?void(-0x1774+-0x577*-0x4+0x198):_0x1c977d['texture'])==null?void(-0x3*-0xc8d+-0x92e+0x25*-0xc5):_0xf2414f['preprocess'],_0x10293b=(_0x3eb5b3=_0x1c977d==null?void(-0x57*0x18+-0x304*-0xb+-0x1904):_0x1c977d['texture'])==null?void(0xd*-0x61+0x93*0x2+0x3c7):_0x3eb5b3['processAsy'+'nc'],_0x179d2c=(_0xecbaa5=_0x1c977d==null?void(-0x5*0x571+0x1441+-0x59*-0x14):_0x1c977d['texture'])==null?void(-0x836+-0xc37+-0x2eb*-0x7):_0xecbaa5['postproces'+'s'],_0x45bd44=new Set();return _0x38c913['textures']['map'](_0x291169=>{_0x752e30&&_0x752e30(_0x291169);let _0x30b6fc;return _0x10293b?_0x30b6fc=new Promise((_0x55e00e,_0x115d10)=>{_0x10293b(_0x291169,_0x38c913['images'],(_0x130e3b,_0x25f763)=>{_0x130e3b?_0x115d10(_0x130e3b):_0x55e00e(_0x25f763);});}):_0x30b6fc=new Promise(_0x6eeb10=>{_0x6eeb10(null);}),_0x30b6fc=_0x30b6fc['then'](_0x5b7797=>{_0x5b7797=_0x5b7797??Af(_0x291169);const _0xc65f60=_0x45bd44['has'](_0x5b7797);return _0x45bd44['add'](_0x5b7797),_0x4866df[_0x5b7797]['then'](_0x4a9913=>{const _0x47ec64=_0xc65f60?PD(_0x4a9913):_0x4a9913;return l2(_0x47ec64['resource'],(_0x38c913['samplers']??[])[_0x291169['sampler']]),_0x47ec64;});}),_0x179d2c&&(_0x30b6fc=_0x30b6fc['then'](_0x14c01b=>(_0x179d2c(_0x291169,_0x14c01b),_0x14c01b))),_0x30b6fc;});},u2=(_0x51f202,_0x3f28fc,_0xf705b7,_0x211c3e)=>{var _0x29a371,_0x337e50,_0xa6b218;if(!_0x51f202['buffers']||_0x51f202['buffers']['length']===0x5*0x6f1+0x2512+-0x1*0x47c7)return[];const _0x2be051=(_0x29a371=_0x211c3e==null?void(0x974+0x1a4+-0xb18):_0x211c3e['buffer'])==null?void(0x1*0x156b+-0x16*0x167+0x96f):_0x29a371['preprocess'],_0x5a0c77=(_0x337e50=_0x211c3e==null?void(0xd*-0xdd+-0x1*-0xf3a+-0x401):_0x211c3e['buffer'])==null?void(-0x1f06+-0x263e+0x34*0x155):_0x337e50['processAsy'+'nc'],_0x1de04b=(_0xa6b218=_0x211c3e==null?void(-0xaf8+0x164*-0xe+0x1e70):_0x211c3e['buffer'])==null?void(0xae8*0x1+0x25*-0x67+0x3fb*0x1):_0xa6b218['postproces'+'s'];return _0x51f202['buffers']['map']((_0x2e480b,_0x12ffc7)=>{_0x2be051&&_0x2be051(_0x2e480b);let _0x67676f;return _0x5a0c77?_0x67676f=new Promise((_0x30f5e9,_0x3c7036)=>{_0x5a0c77(_0x2e480b,(_0x5cef82,_0x1f4abc)=>{_0x5cef82?_0x3c7036(_0x5cef82):_0x30f5e9(_0x1f4abc);});}):_0x67676f=new Promise(_0x5b4b0d=>{_0x5b4b0d(null);}),_0x67676f=_0x67676f['then'](_0x2a315b=>{if(_0x2a315b)return _0x2a315b;if(_0x2e480b['hasOwnProp'+'erty']('uri')){if(Ix(_0x2e480b['uri'])){const _0x2016b2=atob(_0x2e480b['uri']['split'](',')[0x26e3+-0xc7f+-0x7*0x3c5]),_0x4f61f7=new Uint8Array(_0x2016b2['length']);for(let _0x1e6464=-0x890+-0x1b5+-0xef*-0xb;_0x1e6464<_0x2016b2['length'];_0x1e6464++)_0x4f61f7[_0x1e6464]=_0x2016b2['charCodeAt'](_0x1e6464);return _0x4f61f7;}return new Promise((_0x37ffda,_0x1cecfd)=>{Ye['get'](ka['test'](_0x2e480b['uri'])?_0x2e480b['uri']:me['join'](_0xf705b7,_0x2e480b['uri']),{'cache':!(0x1*0x395+0x2686+-0x2a1b),'responseType':'arraybuffe'+'r','retry':!(-0x25bf+0x1fe7+0x5d9*0x1)},(_0x6e335d,_0x369382)=>{_0x6e335d?_0x1cecfd(_0x6e335d):_0x37ffda(new Uint8Array(_0x369382));});});}return _0x3f28fc;}),_0x1de04b&&(_0x67676f=_0x67676f['then'](_0xe6efc6=>(_0x1de04b(_0x51f202['buffers'][_0x12ffc7],_0xe6efc6),_0xe6efc6))),_0x67676f;});},f2=(_0x580a26,_0xf3800)=>{const _0x54e711=JSON['parse']((_0x3eaa46=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x3eaa46);let _0x4dd265='';for(let _0x490f4c=0x1f46+0xef*0xc+-0x2a7a;_0x490f4c<_0x3eaa46['length'];_0x490f4c++)_0x4dd265+=String['fromCharCo'+'de'](_0x3eaa46[_0x490f4c]);return decodeURIComponent(escape(_0x4dd265));})(_0x580a26));if(_0x54e711['asset']&&_0x54e711['asset']['version']&&parseFloat(_0x54e711['asset']['version'])<0xe5*-0x16+-0x1*-0x1eb3+-0xb03*0x1){_0xf3800('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x54e711['asset']['version']+'\x27.');return;}_0xf3800(null,_0x54e711);},p2=(_0x109bc3,_0x1905e3)=>{const _0x4a899c=_0x109bc3 instanceof ArrayBuffer?new DataView(_0x109bc3):new DataView(_0x109bc3['buffer'],_0x109bc3['byteOffset'],_0x109bc3['byteLength']),_0x5873fd=_0x4a899c['getUint32'](0x1ad+-0x496*-0x3+0xf6f*-0x1,!(-0x34*-0x31+0x5*0x463+-0x1fe3)),_0x5ec57e=_0x4a899c['getUint32'](-0x1*-0x1a58+0x13e+0x2*-0xdc9,!(0x5f0+-0x54b+-0xa5)),_0x3f2d0d=_0x4a899c['getUint32'](-0x10ba+0x2686+0x1c*-0xc7,!(0x1*0x2124+-0xcab+-0x1479));if(_0x5873fd!==-0x2e4b1aa4+0x4c128334+0x288d03d7){_0x1905e3('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x5873fd['toString'](0xf61*-0x1+-0x1*-0x8f+-0xee2*-0x1));return;}if(_0x5ec57e!==0xc2*0x1a+0x269*-0xe+-0x1f*-0x74){_0x1905e3('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x5ec57e);return;}if(_0x3f2d0d<=-0x32a*0x1+0x1cc*0x9+-0xd02||_0x3f2d0d>_0x4a899c['byteLength']){_0x1905e3('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x3f2d0d);return;}const _0x36df22=[];let _0x45ed43=0x580+0x54d+-0x1*0xac1;for(;_0x45ed43<_0x3f2d0d;){const _0x8f1adc=_0x4a899c['getUint32'](_0x45ed43,!(0x1b6*0x1+0x1ffa+0x31*-0xb0));_0x45ed43+_0x8f1adc+(-0x177f+-0xfee*0x2+0x3763)>_0x4a899c['byteLength']&&_0x1905e3('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x8f1adc);const _0x3f7735=_0x4a899c['getUint32'](_0x45ed43+(0xf65+-0x177f+0x81e),!(0x11*-0x211+0x3d*0x97+0x6d*-0x2)),_0x466fea=new Uint8Array(_0x4a899c['buffer'],_0x4a899c['byteOffset']+_0x45ed43+(-0xd*-0x8e+-0xe4d+-0x1*-0x71f),_0x8f1adc);_0x36df22['push']({'length':_0x8f1adc,'type':_0x3f7735,'data':_0x466fea}),_0x45ed43+=_0x8f1adc+(0x1f65*0x1+0x3*0xc55+0x2bc*-0x19);}if(_0x36df22['length']!==0x1c5e+-0x106*0x26+0xa87&&_0x36df22['length']!==-0x6e7+-0x628*0x4+0xd*0x26d){_0x1905e3('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x36df22[0x1f7+-0x3d6+0x1df]['type']!==0x8478a3e7+0x2cf*0x12e37a+-0x6b363443){_0x1905e3('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x36df22[-0x131b+0x2*0x841+0x5f*0x7]['type']['toString'](0x525+0xad*0x5+-0x876));return;}if(_0x36df22['length']>0x8*-0x1d9+0x9d4+0x4f5&&_0x36df22[0x10*-0x97+-0x833*0x1+0x11a4]['type']!==-0x89a0b6+0x183e7*0x55+0x571e45){_0x1905e3('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x36df22[0x76c+-0x11*0xdc+0x731]['type']['toString'](0x249+0x1f*-0xfd+0xe35*0x2));return;}_0x1905e3(null,{'gltfChunk':_0x36df22[0x1f*-0x27+0xb00+0x647*-0x1]['data'],'binaryChunk':_0x36df22['length']===0x3*0xc69+-0x1*-0x21+0x1*-0x255a?_0x36df22[-0x45e+0x1*0xb+0x454]['data']:null});},m2=(_0x45d43e,_0x31c844,_0x1289e2)=>{const _0xc7c3f6=()=>{const _0x10410a=new Uint8Array(_0x31c844);return _0x10410a[0xe6*0x3+-0x1810+0x155e]===0x8*-0x1fd+0x30b+-0x1*-0xd44&&_0x10410a[0x3*-0x5a8+0xf6d+0x18c]===0x1daf+-0xa36+0x130d*-0x1&&_0x10410a[0x2c*0x91+0x1bbd+0x1*-0x34a7]===-0x13db+-0xab*-0x6+0x102d&&_0x10410a[-0x25ea+-0x8*-0x2c7+0xfb5*0x1]===-0x18c8+-0xe96*-0x1+0x4*0x29e;};_0x45d43e&&_0x45d43e['toLowerCas'+'e']()['endsWith']('.glb')||_0xc7c3f6()?p2(_0x31c844,_0x1289e2):_0x1289e2(null,{'gltfChunk':_0x31c844,'binaryChunk':null});},_2=(_0x28f14f,_0x522ab1,_0x471b7e)=>{var _0x9ef6bb,_0x37d5a7,_0x4912c2,_0x29d105;const _0x4e99bb=[],_0x3508e2=(_0x9ef6bb=_0x471b7e==null?void(-0x1*-0x15b+0x68a+-0x7e5):_0x471b7e['bufferView'])==null?void(-0x2632*-0x1+-0x4*0x8e0+0x45*-0xa):_0x9ef6bb['preprocess'],_0x119e73=(_0x37d5a7=_0x471b7e==null?void(0x1660+0x139f*0x1+-0x29ff):_0x471b7e['bufferView'])==null?void(0xc1a+-0x1*-0x24c3+-0x30dd):_0x37d5a7['processAsy'+'nc'],_0x1b0410=(_0x4912c2=_0x471b7e==null?void(-0x1f2f+-0x6*-0xf2+-0x3a5*-0x7):_0x471b7e['bufferView'])==null?void(-0x25b0+0x1*0x1c65+0x94b):_0x4912c2['postproces'+'s'];if(!((_0x29d105=_0x28f14f['bufferView'+'s'])!=null&&_0x29d105['length']))return _0x4e99bb;for(let _0x128746=-0x257a+0xb2d*0x3+-0x151*-0x3;_0x128746<_0x28f14f['bufferView'+'s']['length'];++_0x128746){const _0x1f1bfa=_0x28f14f['bufferView'+'s'][_0x128746];_0x3508e2&&_0x3508e2(_0x1f1bfa);let _0x1367f6;_0x119e73?_0x1367f6=new Promise((_0x3e57bf,_0x188342)=>{_0x119e73(_0x1f1bfa,_0x522ab1,(_0x483e6a,_0x867cd)=>{_0x483e6a?_0x188342(_0x483e6a):_0x3e57bf(_0x867cd);});}):_0x1367f6=new Promise(_0x33021f=>{_0x33021f(null);}),_0x1367f6=_0x1367f6['then'](_0x4061c8=>_0x4061c8||_0x522ab1[_0x1f1bfa['buffer']]['then'](_0x417cc1=>new Uint8Array(_0x417cc1['buffer'],_0x417cc1['byteOffset']+(_0x1f1bfa['byteOffset']||-0x17*0xdf+-0x3ed*-0x5+0x68),_0x1f1bfa['byteLength']))),_0x1f1bfa['hasOwnProp'+'erty']('byteStride')&&(_0x1367f6=_0x1367f6['then'](_0x42fdc3=>(_0x42fdc3['byteStride']=_0x1f1bfa['byteStride'],_0x42fdc3))),_0x1b0410&&(_0x1367f6=_0x1367f6['then'](_0x1ace0d=>(_0x1b0410(_0x1f1bfa,_0x1ace0d),_0x1ace0d))),_0x4e99bb['push'](_0x1367f6);}return _0x4e99bb;};class ac{static['parse'](_0x5c6967,_0x2dd9bd,_0x2380e8,_0x401aa4,_0x1c52e5,_0x283c99,_0x372953){m2(_0x5c6967,_0x2380e8,(_0xa89143,_0x4ada5c)=>{if(_0xa89143){_0x372953(_0xa89143);return;}f2(_0x4ada5c['gltfChunk'],(_0x199661,_0x1cc7cf)=>{if(_0x199661){_0x372953(_0x199661);return;}const _0x2d88ad=u2(_0x1cc7cf,_0x4ada5c['binaryChun'+'k'],_0x2dd9bd,_0x283c99),_0x1f4489=_2(_0x1cc7cf,_0x2d88ad,_0x283c99),_0x33dc41=c2(_0x1cc7cf,_0x1f4489,_0x2dd9bd,_0x1c52e5,_0x283c99),_0x51b32b=d2(_0x1cc7cf,_0x33dc41,_0x283c99);o2(_0x401aa4,_0x1cc7cf,_0x1f4489,_0x51b32b,_0x283c99)['then'](_0x4edc4f=>_0x372953(null,_0x4edc4f))['catch'](_0x3ff14c=>_0x372953(_0x3ff14c));});});}static['createDefa'+'ultMateria'+'l'](){return Lx({'name':'defaultGlb'+'Material'},[]);}}class g2 extends Ge{constructor(_0x2b2bf2){super(_0x2b2bf2,'animation'),this['device']=_0x2b2bf2['graphicsDe'+'vice'],this['assets']=_0x2b2bf2['assets'];}['load'](_0x5c74e8,_0x582859,_0x84dbb5){typeof _0x5c74e8=='string'&&(_0x5c74e8={'load':_0x5c74e8,'original':_0x5c74e8});const _0x1cef48={'retry':this['maxRetries']>0x25b+-0x1b76+0x191b,'maxRetries':this['maxRetries']};(_0x5c74e8['load']['startsWith']('blob:')||_0x5c74e8['load']['startsWith']('data:'))&&(me['getExtensi'+'on'](_0x5c74e8['original'])['toLowerCas'+'e']()==='.glb'?_0x1cef48['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1cef48['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x5c74e8['load'],_0x1cef48,(_0x417154,_0x1da447)=>{_0x417154?_0x582859('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x5c74e8['original']+'\x20['+_0x417154+']'):me['getExtensi'+'on'](_0x5c74e8['original'])['toLowerCas'+'e']()==='.glb'?ac['parse']('filename.g'+'lb','',_0x1da447,this['device'],this['assets'],(_0x84dbb5==null?void(0x23c6+0x3d*-0x31+0x1819*-0x1):_0x84dbb5['options'])??{},(_0x4d9f74,_0xefac64)=>{var _0x89486e;if(_0x4d9f74)_0x582859(_0x4d9f74);else{const _0x2a3026=_0xefac64['animations'];if((_0x89486e=_0x84dbb5==null?void(-0xd0c+-0xd7b+0x1a87):_0x84dbb5['data'])!=null&&_0x89486e['events']){for(let _0x8f1e33=0x44c+-0x2b6+-0xe*0x1d;_0x8f1e33<_0x2a3026['length'];_0x8f1e33++)_0x2a3026[_0x8f1e33]['events']=new K0(Object['values'](_0x84dbb5['data']['events']));}_0xefac64['destroy'](),_0x582859(null,_0x2a3026);}}):_0x582859(null,this['_parseAnim'+'ationV'+_0x1da447['animation']['version']](_0x1da447));});}['open'](_0x55112e,_0x285494,_0x336ea1){return _0x285494;}['_parseAnim'+'ationV3'](_0x25f751){const _0x2deba9=_0x25f751['animation'],_0x35e5c7=new B_();_0x35e5c7['name']=_0x2deba9['name'],_0x35e5c7['duration']=_0x2deba9['duration'];for(let _0x267884=0x5b3+0x1581+0x1*-0x1b34;_0x267884<_0x2deba9['nodes']['length'];_0x267884++){const _0x187a39=new O_(),_0x4c1fe1=_0x2deba9['nodes'][_0x267884];_0x187a39['_name']=_0x4c1fe1['name'];for(let _0x47ea37=0x133c+0x18d2+-0x2c0e*0x1;_0x47ea37<_0x4c1fe1['keys']['length'];_0x47ea37++){const _0x3024c9=_0x4c1fe1['keys'][_0x47ea37],_0x289914=_0x3024c9['time'],_0x645570=_0x3024c9['pos'],_0x108640=_0x3024c9['rot'],_0x22771f=_0x3024c9['scale'],_0x142007=new A(_0x645570[-0x1ac5+0xab4+0x1*0x1011],_0x645570[0x567+0x7*-0x25b+0xb17],_0x645570[-0x223*0x4+0x27d+0x611]),_0x2b78fa=new ie()['setFromEul'+'erAngles'](_0x108640[-0x7d3*-0x1+-0xe87+-0x1*-0x6b4],_0x108640[-0xe*0x141+0x6b*-0x21+-0x1f5a*-0x1],_0x108640[0x87*0x18+0xa*0x1c6+-0x1e62]),_0xdb605b=new A(_0x22771f[-0x1845*0x1+0x1d7*0x3+0x12c0],_0x22771f[-0x164d+-0x9de+-0x202c*-0x1],_0x22771f[-0x3db+0xe*0x257+-0x1ce5]),_0x3a9e08=new k_(_0x289914,_0x142007,_0x2b78fa,_0xdb605b);_0x187a39['_keys']['push'](_0x3a9e08);}_0x35e5c7['addNode'](_0x187a39);}return _0x35e5c7;}['_parseAnim'+'ationV4'](_0x42515f){const _0x3c4678=_0x42515f['animation'],_0x5b0ab4=new B_();_0x5b0ab4['name']=_0x3c4678['name'],_0x5b0ab4['duration']=_0x3c4678['duration'];for(let _0x2c94ca=0x56*-0x27+0x49*0x67+-0x1045;_0x2c94ca<_0x3c4678['nodes']['length'];_0x2c94ca++){const _0xcda177=new O_(),_0x3d53bf=_0x3c4678['nodes'][_0x2c94ca];_0xcda177['_name']=_0x3d53bf['name'];const _0x45d765=_0x3d53bf['defaults']['p'],_0x15c3bf=_0x3d53bf['defaults']['r'],_0x2b3ca0=_0x3d53bf['defaults']['s'];for(let _0x26ee3c=0x3*-0xbfb+-0x2639+0x4a2a;_0x26ee3c<_0x3d53bf['keys']['length'];_0x26ee3c++){const _0x14ea1e=_0x3d53bf['keys'][_0x26ee3c],_0x1c4a76=_0x14ea1e['t'],_0x27546b=_0x45d765||_0x14ea1e['p'],_0x1f1c0b=_0x15c3bf||_0x14ea1e['r'],_0x31e9b3=_0x2b3ca0||_0x14ea1e['s'],_0xdafec=new A(_0x27546b[-0x8*0xa+0x4*-0x4d5+0x13a4],_0x27546b[-0x2525*0x1+-0x1d*0x61+0x3023],_0x27546b[-0x20b*-0x7+0x597+-0x13e2]),_0xc83010=new ie()['setFromEul'+'erAngles'](_0x1f1c0b[-0x973+-0xb51+-0x6ec*-0x3],_0x1f1c0b[0x8*0x124+-0x449*-0x3+-0x15fa],_0x1f1c0b[0x213c+0x1f05*-0x1+-0x1*0x235]),_0x1c8003=new A(_0x31e9b3[0xc8*0x2b+-0x180*-0xd+-0x3518],_0x31e9b3[0x26e4+0x2*-0xc61+0xe21*-0x1],_0x31e9b3[-0x200+-0x22c2*-0x1+-0x20c0]),_0x1196ee=new k_(_0x1c4a76,_0xdafec,_0xc83010,_0x1c8003);_0xcda177['_keys']['push'](_0x1196ee);}_0x5b0ab4['addNode'](_0xcda177);}return _0x5b0ab4;}}class y2 extends Ge{constructor(_0x1f4283){super(_0x1f4283,'animclip');}['load'](_0x3213a5,_0x4eb06e){typeof _0x3213a5=='string'&&(_0x3213a5={'load':_0x3213a5,'original':_0x3213a5});const _0x3e68e2={'retry':this['maxRetries']>0x265e+0x4*0x493+-0x38aa,'maxRetries':this['maxRetries']};_0x3213a5['load']['startsWith']('blob:')&&(_0x3e68e2['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x3213a5['load'],_0x3e68e2,(_0x776449,_0x70b945)=>{_0x776449?_0x4eb06e('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x3213a5['original']+'\x20['+_0x776449+']'):_0x4eb06e(null,_0x70b945);});}['open'](_0xc2feca,_0x460d19){const _0x2a4be0=_0x460d19['name'],_0x43d042=_0x460d19['duration'],_0x4771d6=_0x460d19['inputs']['map'](_0x198396=>new rc(-0x3ad*-0x1+0x19aa+0xeab*-0x2,_0x198396)),_0x5f50f9=_0x460d19['outputs']['map'](_0xa7c809=>new rc(_0xa7c809['components'],_0xa7c809['data'])),_0x40540a=_0x460d19['curves']['map'](_0x42f53b=>new Rx([_0x42f53b['path']],_0x42f53b['inputIndex'],_0x42f53b['outputInde'+'x'],_0x42f53b['interpolat'+'ion']));return new ki(_0x2a4be0,_0x43d042,_0x4771d6,_0x5f50f9,_0x40540a);}}class x2 extends Ge{constructor(_0x3cd0e9){super(_0x3cd0e9,'animstateg'+'raph');}['load'](_0x477c03,_0x2de724){typeof _0x477c03=='string'&&(_0x477c03={'load':_0x477c03,'original':_0x477c03});const _0x230ab5={'retry':this['maxRetries']>-0x1*-0x11a3+-0x1ab0*0x1+0x14b*0x7,'maxRetries':this['maxRetries']};_0x477c03['load']['startsWith']('blob:')&&(_0x230ab5['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x477c03['load'],_0x230ab5,(_0x357140,_0x2ea2ef)=>{_0x357140?_0x2de724('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x477c03['original']+'\x20['+_0x357140+']'):_0x2de724(null,_0x2ea2ef);});}['open'](_0x3824ff,_0x2be995){return new Sh(_0x2be995);}}const su=(function(){if(typeof window>'u')return!(-0x227*0x5+-0xb6f*0x1+-0x1*-0x1633);const _0x281fc6=window['navigator']['userAgent'],_0x383556=_0x281fc6['indexOf']('MSIE\x20');if(_0x383556>-0x1933+-0x166a+0x2f9d)return parseInt(_0x281fc6['substring'](_0x383556+(-0x2*0x149+-0x3*-0x55d+0x18*-0x90),_0x281fc6['indexOf']('.',_0x383556)),-0x14a1+-0xa8d*-0x1+-0x25*-0x46);if(_0x281fc6['indexOf']('Trident/')>-0xfb*0x1+-0x15bb+0x3c9*0x6){const _0x20cf4b=_0x281fc6['indexOf']('rv:');return parseInt(_0x281fc6['substring'](_0x20cf4b+(-0x1*0x18ef+-0x1550+0x2e42),_0x281fc6['indexOf']('.',_0x20cf4b)),0x196e+-0x3*0xa39+0x547);}return!(-0x166e+-0x28e*-0xa+-0x1*0x31d);}()),S2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class v2 extends Ge{constructor(_0x2ee2c6){super(_0x2ee2c6,'audio'),this['manager']=_0x2ee2c6['soundManag'+'er'],b['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x135737){const _0x2b4a3b=me['getExtensi'+'on'](_0x135737);return S2['indexOf'](_0x2b4a3b)>-(-0x1*0xa39+0x4*-0x449+0x1b5e)||_0x135737['startsWith']('blob:');}['load'](_0x2e363e,_0x29fd69){typeof _0x2e363e=='string'&&(_0x2e363e={'load':_0x2e363e,'original':_0x2e363e});const _0x2d0175=function(_0x36d519){_0x29fd69(null,new Bb(_0x36d519));},_0x4fc374=function(_0x58aa31){let _0x2833fb='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x2e363e['original'];_0x58aa31&&(_0x2833fb+=':\x20'+(_0x58aa31['message']||_0x58aa31)),console['warn'](_0x2833fb),_0x29fd69(_0x2833fb);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x2e363e['original'])){_0x4fc374('Audio\x20form'+'at\x20for\x20'+_0x2e363e['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x2e363e['load'],_0x2d0175,_0x4fc374);}else _0x4fc374(null);}['_createSou'+'nd'](_0xfc3a59,_0x248456,_0x417f06){if(Ni()){const _0x51cf89=this['manager'];if(!_0x51cf89['context']){_0x417f06('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x48e89f={'retry':this['maxRetries']>-0x451+0x2231+-0x1de0,'maxRetries':this['maxRetries']};(_0xfc3a59['startsWith']('blob:')||_0xfc3a59['startsWith']('data:'))&&(_0x48e89f['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),Ye['get'](_0xfc3a59,_0x48e89f,(_0x3fc0b1,_0x1cdd0a)=>{if(_0x3fc0b1){_0x417f06(_0x3fc0b1);return;}_0x51cf89['context']['decodeAudi'+'oData'](_0x1cdd0a,_0x248456,_0x417f06);});}else{let _0x3995f9=null;try{_0x3995f9=new Audio();}catch{_0x417f06('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}su&&document['body']['appendChil'+'d'](_0x3995f9);const _0x3f2d50=function(){_0x3995f9['removeEven'+'tListener']('canplaythr'+'ough',_0x3f2d50),su&&document['body']['removeChil'+'d'](_0x3995f9),_0x248456(_0x3995f9);};_0x3995f9['onerror']=function(){_0x3995f9['onerror']=null,su&&document['body']['removeChil'+'d'](_0x3995f9),_0x417f06();},_0x3995f9['addEventLi'+'stener']('canplaythr'+'ough',_0x3f2d50),_0x3995f9['src']=_0xfc3a59;}}}class b2 extends Ge{constructor(_0xbbfc11){super(_0xbbfc11,'binary');}['load'](_0x31a587,_0xbc4e2e){typeof _0x31a587=='string'&&(_0x31a587={'load':_0x31a587,'original':_0x31a587}),Ye['get'](_0x31a587['load'],{'responseType':ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>0xfe9+-0x652*-0x1+-0x769*0x3,'maxRetries':this['maxRetries']},(_0x583629,_0xa7217)=>{_0x583629?_0xbc4e2e('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x31a587['original']+'\x20['+_0x583629+']'):_0xbc4e2e(null,_0xa7217);});}['openBinary'](_0x2aa22d){return _0x2aa22d['buffer'];}}class ir{constructor(_0x9130b,_0x519ae8,_0xc0ebcc,_0x376825){const _0xdca14=function(_0x33b174,_0x4622d4,_0x4cdbff){const _0x323e18=ir['createAsse'+'t'](_0x519ae8['name'],_0x33b174,_0x4622d4,_0x4cdbff);return _0xc0ebcc['add'](_0x323e18),_0x323e18;},_0x10830=[];for(let _0x4c8f4f=-0x2f+-0x23b4+-0x23e3*-0x1;_0x4c8f4f<_0x9130b['renders']['length'];++_0x4c8f4f)_0x10830['push'](_0xdca14('render',_0x9130b['renders'][_0x4c8f4f],_0x4c8f4f));const _0x413660=[];for(let _0x2884b1=-0x1*-0x1aa7+0x332*-0x1+0x4b1*-0x5;_0x2884b1<_0x9130b['materials']['length'];++_0x2884b1)_0x413660['push'](_0xdca14('material',_0x9130b['materials'][_0x2884b1],_0x2884b1));const _0x21318b=[];for(let _0xb5fc59=0x1300+0xb*-0x341+0x10cb;_0xb5fc59<_0x9130b['animations']['length'];++_0xb5fc59)_0x21318b['push'](_0xdca14('animation',_0x9130b['animations'][_0xb5fc59],_0xb5fc59));this['data']=_0x9130b,this['_model']=null,this['_assetName']=_0x519ae8['name'],this['_assets']=_0xc0ebcc,this['_defaultMa'+'terial']=_0x376825,this['renders']=_0x10830,this['materials']=_0x413660,this['textures']=_0x9130b['textures'],this['animations']=_0x21318b;}get['model'](){if(!this['_model']){const _0x64fb93=ir['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x109e1d=ir['createAsse'+'t'](this['_assetName'],'model',_0x64fb93,0x1565*-0x1+0x151f*-0x1+-0xaa1*-0x4);this['_assets']['add'](_0x109e1d),this['_model']=_0x109e1d;}return this['_model'];}static['createAsse'+'t'](_0xfb0b32,_0x52dadc,_0x1987bb,_0x195452){const _0x2bc2e6=new he(_0xfb0b32+'/'+_0x52dadc+'/'+_0x195452,_0x52dadc,{'url':''});return _0x2bc2e6['resource']=_0x1987bb,_0x2bc2e6['loaded']=!(-0x269*0xa+0xe65*-0x1+0x267f),_0x2bc2e6;}['instantiat'+'eModelEnti'+'ty'](_0x309b4d){const _0xa76bb=new je();return _0xa76bb['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x309b4d)),_0xa76bb;}['instantiat'+'eRenderEnt'+'ity'](_0x2c58f6){const _0x164352=this['_defaultMa'+'terial'],_0x4248b1=[],_0x5b9dad=function(_0x5904c9,_0x34b9f0,_0x239faa,_0xe210a5,_0x16647,_0x4ca6f3,_0x47e246,_0x5ce0b9){const _0x2b9281=_0x16647[_0x239faa['id']],_0x221f08=_0x2b9281===void(0x124c+-0x1ac*0xa+-0x194)?_0x164352:_0xe210a5[_0x2b9281],_0x263d26=new Be(_0x239faa,_0x221f08);_0x239faa['morph']&&(_0x263d26['morphInsta'+'nce']=new mn(_0x239faa['morph'])),_0x47e246['hasOwnProp'+'erty']('skin')&&_0x4248b1['push']({'meshInstance':_0x263d26,'rootBone':_0x5904c9,'entity':_0x34b9f0});const _0x48a068=_0x5ce0b9['get'](_0x47e246);if(_0x48a068){const _0x4a9a0b=_0x48a068['matrices'],_0x572a43=Dt['getDefault'+'Instancing'+'Format'](_0x239faa['device']),_0x1a1ed9=new fs(_0x239faa['device'],_0x572a43,_0x4a9a0b['length']/(0xd*0x2fb+-0x1*0x159b+-0x2*0x88a),{'data':_0x4a9a0b});_0x263d26['setInstanc'+'ing'](_0x1a1ed9),_0x263d26['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x55*-0x29+0x797+0x606);}return _0x263d26;},_0x3aad06=(_0x1a98b6,_0x34d2d2,_0x1eda93)=>{const _0x5236a0=new je();_0x34d2d2['_cloneInte'+'rnal'](_0x5236a0),_0x1a98b6||(_0x1a98b6=_0x5236a0);let _0x499a2d=null,_0x3cf059=null;for(let _0x567868=-0x871*-0x1+-0x1084+-0xd*-0x9f;_0x567868<_0x1eda93['nodes']['length'];_0x567868++)if(_0x1eda93['nodes'][_0x567868]===_0x34d2d2){const _0x2fd035=_0x1eda93['gltf']['nodes'][_0x567868];if(_0x2fd035['hasOwnProp'+'erty']('mesh')){const _0x4c38fb=_0x1eda93['renders'][_0x2fd035['mesh']]['meshes'];_0x3cf059=this['renders'][_0x2fd035['mesh']];for(let _0x1a6124=-0x551+-0xd1*-0x4+-0x5*-0x69;_0x1a6124<_0x4c38fb['length'];_0x1a6124++){const _0x22b678=_0x4c38fb[_0x1a6124];if(_0x22b678){const _0x2b4b56=_0x5b9dad(_0x1a98b6,_0x5236a0,_0x22b678,_0x1eda93['materials'],_0x1eda93['meshDefaul'+'tMaterials'],_0x1eda93['skins'],_0x2fd035,_0x1eda93['nodeInstan'+'cingMap']);_0x499a2d||(_0x499a2d=[]),_0x499a2d['push'](_0x2b4b56);}}}if(_0x1eda93['lights']){const _0x125075=_0x1eda93['lights']['get'](_0x2fd035);_0x125075&&_0x5236a0['addChild'](_0x125075['clone']());}if(_0x1eda93['cameras']){const _0x506e65=_0x1eda93['cameras']['get'](_0x2fd035);_0x506e65&&_0x506e65['camera']['system']['cloneCompo'+'nent'](_0x506e65,_0x5236a0);}}_0x499a2d&&(_0x5236a0['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x499a2d},_0x2c58f6)),_0x5236a0['render']['assignAsse'+'t'](_0x3cf059));const _0xdb165e=_0x34d2d2['children'];for(let _0x1d3e85=0x1d41+-0x594+0x1d*-0xd1;_0x1d3e85<_0xdb165e['length'];_0x1d3e85++){const _0x3c0a63=_0x3aad06(_0x1a98b6,_0xdb165e[_0x1d3e85],_0x1eda93);_0x5236a0['addChild'](_0x3c0a63);}return _0x5236a0;},_0x27e325=[];for(const _0x3f10ba of this['data']['scenes'])_0x27e325['push'](_0x3aad06(null,_0x3f10ba,this['data']));return _0x4248b1['forEach'](_0xaa0d46=>{_0xaa0d46['meshInstan'+'ce']['skinInstan'+'ce']=$o['createCach'+'edSkinInst'+'ance'](_0xaa0d46['meshInstan'+'ce']['mesh']['skin'],_0xaa0d46['rootBone'],_0xaa0d46['entity']),_0xaa0d46['meshInstan'+'ce']['node']['render']['rootBone']=_0xaa0d46['rootBone'];}),ir['createScen'+'eHierarchy'](_0x27e325,je);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x401ae5,_0x16c3f4){const _0x1ea3ad=_0x16c3f4?this['data']['variants'][_0x16c3f4]:null;if(_0x1ea3ad===void(0x2*-0xbf9+0xa39*-0x2+0x2c64)){b['warn']('No\x20variant'+'\x20named\x20'+_0x16c3f4+('\x20exists\x20in'+'\x20resource'));return;}const _0xc5bff=_0x401ae5['findCompon'+'ents']('render');for(let _0x3f2fb0=0x1336+-0x16bd+0x15*0x2b;_0x3f2fb0<_0xc5bff['length'];_0x3f2fb0++){const _0x44de7f=_0xc5bff[_0x3f2fb0];this['_applyMate'+'rialVarian'+'t'](_0x1ea3ad,_0x44de7f['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x1c572e,_0x519032){const _0x11b330=_0x519032?this['data']['variants'][_0x519032]:null;if(_0x11b330===void(0x1ffd+0xde7+-0x2de4)){b['warn']('No\x20variant'+'\x20named\x20'+_0x519032+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x11b330,_0x1c572e);}['_applyMate'+'rialVarian'+'t'](_0x4dd794,_0x17a9fe){_0x17a9fe['forEach'](_0xb3b0f1=>{if(_0x4dd794===null)_0xb3b0f1['material']=this['_defaultMa'+'terial'];else{const _0x3c4a55=this['data']['meshVarian'+'ts'][_0xb3b0f1['mesh']['id']];_0x3c4a55&&(_0xb3b0f1['material']=this['data']['materials'][_0x3c4a55[_0x4dd794]]);}b['assert'](_0xb3b0f1['material']);});}static['createScen'+'eHierarchy'](_0x8fefe8,_0x566d07){let _0x22346e=null;if(_0x8fefe8['length']===0x43*0x29+0x115a+-0x1c14)_0x22346e=_0x8fefe8[-0x3a6+-0x1c81+0x2027];else{_0x22346e=new _0x566d07('SceneGroup');for(const _0x3d6718 of _0x8fefe8)_0x22346e['addChild'](_0x3d6718);}return _0x22346e;}static['createMode'+'l'](_0x21cd44,_0x31c4ea){const _0x5959e3=function(_0x9d9f67,_0x34446d,_0x5f1f1e,_0x465a0d,_0x2d78a6,_0x2a64f4,_0x7f4061){const _0x36791d=_0x21cd44['meshDefaul'+'tMaterials'][_0x34446d['id']],_0x4f748c=_0x36791d===void(-0x1*0x667+-0x1*0x2123+0x278a)?_0x31c4ea:_0x2d78a6[_0x36791d],_0x4f1270=new Be(_0x34446d,_0x4f748c,_0x2a64f4);if(_0x34446d['morph']){const _0x48c8c7=new mn(_0x34446d['morph']);_0x4f1270['morphInsta'+'nce']=_0x48c8c7,_0x9d9f67['morphInsta'+'nces']['push'](_0x48c8c7);}if(_0x7f4061['hasOwnProp'+'erty']('skin')){const _0x2b95d9=_0x7f4061['skin'],_0x8dd087=_0x5f1f1e[_0x2b95d9];_0x34446d['skin']=_0x8dd087;const _0x3be9f3=_0x465a0d[_0x2b95d9];_0x4f1270['skinInstan'+'ce']=_0x3be9f3,_0x9d9f67['skinInstan'+'ces']['push'](_0x3be9f3);}_0x9d9f67['meshInstan'+'ces']['push'](_0x4f1270);},_0x503f7f=new Ui(),_0x537b47=[];for(const _0x354d66 of _0x21cd44['skins']){const _0x3bf9dd=new hl(_0x354d66);_0x3bf9dd['bones']=_0x354d66['bones'],_0x537b47['push'](_0x3bf9dd);}_0x503f7f['graph']=ir['createScen'+'eHierarchy'](_0x21cd44['scenes'],Oe);for(let _0x55ec62=0x9a*0x4+-0x26ef+-0x40f*-0x9;_0x55ec62<_0x21cd44['nodes']['length'];_0x55ec62++){const _0x40f36c=_0x21cd44['nodes'][_0x55ec62];if(_0x40f36c['root']===_0x503f7f['graph']){const _0x3e6185=_0x21cd44['gltf']['nodes'][_0x55ec62];if(_0x3e6185['hasOwnProp'+'erty']('mesh')){const _0x4d60ff=_0x21cd44['renders'][_0x3e6185['mesh']]['meshes'];for(let _0x406936=-0xa86+0x1*-0x1069+-0xc5*-0x23;_0x406936<_0x4d60ff['length'];_0x406936++){const _0x385243=_0x4d60ff[_0x406936];_0x385243&&_0x5959e3(_0x503f7f,_0x385243,_0x21cd44['skins'],_0x537b47,_0x21cd44['materials'],_0x40f36c,_0x3e6185);}}}}return _0x503f7f;}['destroy'](){const _0x3b23a9=this['_assets'],_0x54032c=function(_0x6fdf28){_0x3b23a9['remove'](_0x6fdf28),_0x6fdf28['unload']();},_0x686819=function(_0x934880){_0x934880['forEach'](_0x451a91=>{_0x54032c(_0x451a91);});};this['animations']&&(_0x686819(this['animations']),this['animations']=null),this['textures']&&(_0x686819(this['textures']),this['textures']=null),this['materials']&&(_0x686819(this['materials']),this['materials']=null),this['renders']&&(_0x686819(this['renders']),this['renders']=null),this['_model']&&(_0x54032c(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class w2{constructor(_0x58f2b2,_0x7825a2,_0xbd0b95){this['_device']=_0x58f2b2,this['_assets']=_0x7825a2,this['_defaultMa'+'terial']=ac['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0xbd0b95;}['_getUrlWit'+'houtParams'](_0x599ac3){return _0x599ac3['indexOf']('?')>=0x190+-0x64*0x14+-0x32*-0x20?_0x599ac3['split']('?')[0x13f2+0x1f49*0x1+0xd7*-0x3d]:_0x599ac3;}['load'](_0x1b2280,_0x27b903,_0x7d16e9){he['fetchArray'+'Buffer'](_0x1b2280['load'],(_0x2805e3,_0x23f639)=>{_0x2805e3?_0x27b903(_0x2805e3):ac['parse'](this['_getUrlWit'+'houtParams'](_0x1b2280['original']),me['extractPat'+'h'](_0x1b2280['load']),_0x23f639,this['_device'],_0x7d16e9['registry'],_0x7d16e9['options'],(_0x54d59a,_0x25461f)=>{_0x54d59a?_0x27b903(_0x54d59a):_0x27b903(null,new ir(_0x25461f,_0x7d16e9,this['_assets'],this['_defaultMa'+'terial']));});},_0x7d16e9,this['maxRetries']);}['open'](_0x20c524,_0x6f032b,_0x3c6e21){return _0x6f032b;}['patch'](_0x425d4f,_0x2a3be7){}}class T2 extends Ge{constructor(_0x4eb834){super(_0x4eb834,'container'),this['glbContain'+'erParser']=new w2(_0x4eb834['graphicsDe'+'vice'],_0x4eb834['assets'],-0x16cd+0x1*0xc2d+0xaa0),this['parsers']={};}set['maxRetries'](_0x3e87ec){this['glbContain'+'erParser']['maxRetries']=_0x3e87ec;for(const _0x1e061f in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x1e061f)&&(this['parsers'][_0x1e061f]['maxRetries']=_0x3e87ec);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x42ca41){return _0x42ca41['indexOf']('?')>=-0x17*-0x116+-0x19b+-0x1*0x175f?_0x42ca41['split']('?')[-0x213c+0x1d3*-0xa+0x337a]:_0x42ca41;}['_getParser'](_0x30756b){const _0x48f7a6=_0x30756b?me['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x30756b))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x48f7a6]||this['glbContain'+'erParser'];}['load'](_0x2166e1,_0xa1c1b9,_0x471954){typeof _0x2166e1=='string'&&(_0x2166e1={'load':_0x2166e1,'original':_0x2166e1}),this['_getParser'](_0x2166e1['original'])['load'](_0x2166e1,_0xa1c1b9,_0x471954);}['open'](_0x1220b0,_0x310c19,_0x160635){return this['_getParser'](_0x1220b0)['open'](_0x1220b0,_0x310c19,_0x160635);}}class A2 extends Ge{constructor(_0x517568){super(_0x517568,'css'),c(this,'decoder',null);}['load'](_0x2ce5dd,_0x778fff){typeof _0x2ce5dd=='string'&&(_0x2ce5dd={'load':_0x2ce5dd,'original':_0x2ce5dd}),Ye['get'](_0x2ce5dd['load'],{'retry':this['maxRetries']>-0x1582+0x23a8*-0x1+0x392a,'maxRetries':this['maxRetries']},(_0x5f1913,_0x441fe9)=>{_0x5f1913?_0x778fff('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x2ce5dd['original']+'\x20['+_0x5f1913+']'):_0x778fff(null,_0x441fe9);});}['openBinary'](_0x5c5582){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5c5582);}}class E2 extends Ge{constructor(_0xab0c19){super(_0xab0c19,'cubemap'),this['_device']=_0xab0c19['graphicsDe'+'vice'],this['_registry']=_0xab0c19['assets'],this['_loader']=_0xab0c19['loader'];}['load'](_0x3c7380,_0xf20d99,_0x57584e){this['loadAssets'](_0x57584e,_0xf20d99);}['open'](_0x3f18a5,_0x487ae8,_0x3ddd2e){return _0x3ddd2e?_0x3ddd2e['resource']:null;}['patch'](_0x1f5ef7,_0x703d84){this['loadAssets'](_0x1f5ef7,(_0x445250,_0x4efc4c)=>{_0x445250&&(_0x703d84['fire']('error',_0x1f5ef7),_0x703d84['fire']('error:'+_0x1f5ef7['id'],_0x445250,_0x1f5ef7),_0x1f5ef7['fire']('error',_0x1f5ef7));});}['getAssetId'+'s'](_0x198fe6){const _0x434cac=[];if(_0x434cac[-0x951*0x2+0x23f2+-0x1150]=_0x198fe6['file'],(_0x198fe6['loadFaces']||!_0x198fe6['file'])&&_0x198fe6['data']&&_0x198fe6['data']['textures']){for(let _0x5e8c9e=-0x160*-0x1c+-0x2*-0x1343+-0x4d06;_0x5e8c9e<0x2*-0x121d+0x944+-0x9d*-0x2c;++_0x5e8c9e)_0x434cac[_0x5e8c9e+(0x18f5+-0x754+-0x11a0)]=_0x198fe6['data']['textures'][_0x5e8c9e];}else _0x434cac[-0x119b*0x1+0x1ccb+0x199*-0x7]=_0x434cac[-0x1c13+0x1*0x1a29+-0x2*-0xf6]=_0x434cac[0x150c+-0x21d5+0x12*0xb6]=_0x434cac[-0x685+-0x783+0xe0c]=_0x434cac[-0x166*0x1a+0xa87+0x19da]=_0x434cac[-0x22f4+-0x1*0x51b+-0x1*-0x2815]=null;return _0x434cac;}['compareAss'+'etIds'](_0x44fea9,_0x52e1ac){return _0x44fea9&&_0x52e1ac?parseInt(_0x44fea9,0x19f7+-0x519+0x14d4*-0x1)===_0x44fea9||typeof _0x44fea9=='string'?_0x44fea9===_0x52e1ac:_0x44fea9['url']===_0x52e1ac['url']:_0x44fea9!==null==(_0x52e1ac!==null);}['update'](_0x57dd0d,_0x355683,_0x44b7b8){const _0x45842f=_0x57dd0d['data']||{},_0xc6826b=_0x57dd0d['_handlerSt'+'ate']['assets'],_0x42c4a1=_0x57dd0d['_resources'];let _0x14cac6,_0x40fcef,_0x1321a5;const _0x5ee659=[null,null,null,null,null,null,null],_0x101bb2=function(){return _0x45842f['hasOwnProp'+'erty']('type')?_0x45842f['type']:_0x45842f['hasOwnProp'+'erty']('rgbm')?_0x45842f['rgbm']?ln:Bi:null;};if(!_0x57dd0d['loaded']||_0x44b7b8[-0x23ad+0x5b+0x89*0x42]!==_0xc6826b[0xb*0x241+0xd*0x1cd+0x4*-0xc0d]){if(_0x44b7b8[0x1a*0x9d+-0x1f58+-0x9*-0x1b6]){if(_0x14cac6=_0x44b7b8[-0x6b2+-0x14ce+0x1b80]['resource'],_0x14cac6['cubemap']){for(_0x1321a5=0xc9e+-0x1c4*-0x7+-0x18fa;_0x1321a5<-0x8*-0x12d+-0x1cf5+-0x1393*-0x1;++_0x1321a5)_0x5ee659[_0x1321a5+(-0xaf7*-0x1+-0x1c2d*0x1+-0x1*-0x1137)]=new ce(this['_device'],{'name':_0x57dd0d['name']+('_prelitCub'+'emap')+(_0x14cac6['width']>>_0x1321a5),'cubemap':!(-0xafe+0x1513+-0xa15),'type':_0x101bb2()||_0x14cac6['type'],'width':_0x14cac6['width']>>_0x1321a5,'height':_0x14cac6['height']>>_0x1321a5,'format':_0x14cac6['format'],'levels':[_0x14cac6['_levels'][_0x1321a5]],'addressU':oe,'addressV':oe,'mipmaps':_0x1321a5===0x1*0x191a+0x952+-0x226c});}else _0x5ee659[0x17c4+0xfa*-0xd+-0xb11]=_0x14cac6;}}else _0x5ee659[-0x43+-0x1ec*0x11+-0xf8*-0x22]=_0x42c4a1[-0xccd*0x1+-0x256a+0x3238*0x1]||null,_0x5ee659[-0x1301+-0x3*0x195+0x2*0xbe1]=_0x42c4a1[-0x1cdf+-0x1496+0x3177]||null,_0x5ee659[0x4*-0x76d+0x282*-0x5+0x2a41]=_0x42c4a1[-0x1089+-0x20b+0x1297]||null,_0x5ee659[-0xfc8+0x24a1+-0x1*0x14d5]=_0x42c4a1[0x1*0x18b+0xf1c*0x1+0x1*-0x10a3]||null,_0x5ee659[-0x193a+-0xc7a+0x25b9]=_0x42c4a1[-0xd6d+0x1*-0x69c+-0x12e*-0x11]||null,_0x5ee659[0xc5f+-0x38*0x3a+0x1*0x57]=_0x42c4a1[0x23f6*0x1+0x1768+-0x2*0x1dac]||null;const _0x287d2b=_0x44b7b8['slice'](-0x580+-0x2cd+0x84e);if(!_0x57dd0d['loaded']||!this['cmpArrays'](_0x287d2b,_0xc6826b['slice'](0x892+0x4*0x8ae+-0x2b49))){if(_0x287d2b['indexOf'](null)===-(0x4ca+-0x5*-0x22f+0x14f*-0xc)){const _0x440275=_0x287d2b['map'](_0x35d4da=>_0x35d4da['resource']),_0x5e851e=[];for(_0x40fcef=-0x1*0x17c2+-0x2*-0xcdc+0x1*-0x1f6;_0x40fcef<_0x440275[-0xe75*-0x2+-0x24bb+0x57*0x17]['_levels']['length'];++_0x40fcef)_0x5e851e['push'](_0x440275['map'](_0x5211d8=>_0x5211d8['_levels'][_0x40fcef]));const _0x21cf2e=_0x440275[0x74+-0x9*-0x169+-0xd25]['format'],_0x4fe1cd=new ce(this['_device'],{'name':_0x57dd0d['name']+'_faces','cubemap':!(-0x782+0x1*0x1091+-0x3*0x305),'type':_0x101bb2()||_0x440275[0xb17*-0x3+-0x1d30+-0x3e75*-0x1]['type'],'width':_0x440275[0x1*0x1e07+0x25b3+-0x43ba]['width'],'height':_0x440275[-0x4a5*0x7+0x355+0x1d2e]['height'],'format':_0x21cf2e===ur?Te:_0x21cf2e,'mipmaps':_0x45842f['mipmaps']??!(0x5*0x781+-0x64a+0xf*-0x215),'levels':_0x5e851e,'minFilter':_0x45842f['hasOwnProp'+'erty']('minFilter')?_0x45842f['minFilter']:_0x440275[0x12c4+0x1be4+-0x2ea8]['minFilter'],'magFilter':_0x45842f['hasOwnProp'+'erty']('magFilter')?_0x45842f['magFilter']:_0x440275[-0xa93*0x1+-0x1*0x217d+0x2*0x1608]['magFilter'],'anisotropy':_0x45842f['hasOwnProp'+'erty']('anisotropy')?_0x45842f['anisotropy']:-0x1*0x84e+-0x399+0xbe8*0x1,'addressU':oe,'addressV':oe});_0x5ee659[-0xa97*-0x3+0x1292*0x2+-0x44e9]=_0x4fe1cd;}}else _0x5ee659[0x12*0x146+-0x72c+-0xc*0x150]=_0x42c4a1[-0x4da+0x909*-0x1+0xde3]||null;if(!this['cmpArrays'](_0x5ee659,_0x42c4a1)){for(_0x57dd0d['resources']=_0x5ee659,_0x57dd0d['_handlerSt'+'ate']['assetIds']=_0x355683,_0x57dd0d['_handlerSt'+'ate']['assets']=_0x44b7b8,_0x1321a5=0x12ee+0x20b0*0x1+-0x339e;_0x1321a5<_0x42c4a1['length'];++_0x1321a5)_0x42c4a1[_0x1321a5]!==null&&_0x5ee659['indexOf'](_0x42c4a1[_0x1321a5])===-(0xa8b*0x1+0xc88+0xb89*-0x2)&&_0x42c4a1[_0x1321a5]['destroy']();}for(_0x1321a5=0x2477+-0xa9*-0x3b+0x18a*-0x31;_0x1321a5<_0xc6826b['length'];++_0x1321a5)_0xc6826b[_0x1321a5]!==null&&_0x44b7b8['indexOf'](_0xc6826b[_0x1321a5])===-(-0x2590+-0x4*-0x35+0x1ef*0x13)&&_0xc6826b[_0x1321a5]['unload']();}['cmpArrays'](_0x3f4be6,_0x1686b6){if(_0x3f4be6['length']!==_0x1686b6['length'])return!(-0xc5*-0x24+0x2516+0x6b*-0x9b);for(let _0x514920=-0x1520*0x1+-0x2*-0x233+0x10ba;_0x514920<_0x3f4be6['length'];++_0x514920)if(_0x3f4be6[_0x514920]!==_0x1686b6[_0x514920])return!(0x3*0x106+-0x7d*-0x19+-0xf46);return!(-0x2be*0x4+-0x3*-0x8d6+-0xf8a);}['resolveId'](_0x4adb06){const _0x21fe6f=parseInt(_0x4adb06,-0x1f*0x63+-0xcb*-0x19+0x3e6*-0x2);return _0x21fe6f===_0x4adb06||_0x21fe6f['toString']()===_0x4adb06?_0x21fe6f:_0x4adb06;}['loadAssets'](_0x5d793f,_0x5a4f7a){_0x5d793f['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x5d793f['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x18a7a0=this,_0x2e82d1=_0x18a7a0['getAssetId'+'s'](_0x5d793f),_0x1423d5=[null,null,null,null,null,null,null],_0x588fba=_0x5d793f['_handlerSt'+'ate']['assetIds'],_0x18daed=_0x5d793f['_handlerSt'+'ate']['assets'],_0x43d592=_0x18a7a0['_registry'];let _0x2d652a=0xdf1+0x1a8d*0x1+0x47f*-0x9;const _0x4b8123=function(_0x138d90,_0x4ec8b7){_0x1423d5[_0x138d90]=_0x4ec8b7,_0x2d652a--,_0x2d652a===-0xdd*-0x17+-0x1*0x15b1+0x1d6&&(_0x18a7a0['update'](_0x5d793f,_0x2e82d1,_0x1423d5),_0x5a4f7a(null,_0x5d793f['resources']));},_0x399431=function(_0x5b00ba,_0x5c3ca8,_0x3b16a0){_0x5a4f7a(_0x5c3ca8);},_0x2af5a=function(_0x5a10f2,_0x5161cb){_0x5161cb['loaded']?_0x4b8123(_0x5a10f2,_0x5161cb):(_0x43d592['once']('load:'+_0x5161cb['id'],_0x4b8123['bind'](_0x18a7a0,_0x5a10f2)),_0x43d592['once']('error:'+_0x5161cb['id'],_0x399431['bind'](_0x18a7a0,_0x5a10f2)),_0x5161cb['loading']||_0x43d592['load'](_0x5161cb));};let _0x1bd15b;for(let _0x1aa519=0x1549+0x5d*-0x39+-0x4a*0x2;_0x1aa519<0x11e7+-0x1e1d*0x1+0xc3d;++_0x1aa519){const _0x237ea6=this['resolveId'](_0x2e82d1[_0x1aa519]);if(!_0x237ea6)_0x4b8123(_0x1aa519,null);else{if(_0x18a7a0['compareAss'+'etIds'](_0x237ea6,_0x588fba[_0x1aa519]))_0x2af5a(_0x1aa519,_0x18daed[_0x1aa519]);else{if(parseInt(_0x237ea6,-0x11a8+0x337*0x3+-0x80d*-0x1)===_0x237ea6)_0x1bd15b=_0x43d592['get'](_0x237ea6),_0x1bd15b?_0x2af5a(_0x1aa519,_0x1bd15b):setTimeout(((_0x3be366,_0x570f7b)=>{const _0x43cb61=_0x43d592['get'](_0x570f7b);_0x43cb61?_0x2af5a(_0x3be366,_0x43cb61):_0x399431(_0x3be366,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x570f7b);})['bind'](null,_0x1aa519,_0x237ea6));else{const _0x116c46=typeof _0x237ea6=='string'?{'url':_0x237ea6,'filename':_0x237ea6}:_0x237ea6,_0x16a893=_0x116c46['url']['search']('.dds')===-(0x2*0x572+-0x8e9+-0x17*0x16)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x12*0xe+-0x16df+0x3fa*0x6)}:null;_0x1bd15b=new he(_0x5d793f['name']+'_part_'+_0x1aa519,'texture',_0x116c46,_0x16a893),_0x43d592['add'](_0x1bd15b),_0x2af5a(_0x1aa519,_0x1bd15b);}}}}}}class C2 extends Ge{constructor(_0x14c955){super(_0x14c955,'folder');}['load'](_0x3974b5,_0x32c5b8){_0x32c5b8(null,null);}}class zg{constructor(_0x555454,_0x2744de){this['type']=_0x2744de&&_0x2744de['type']||tc,this['em']=-0x189e+0x127e+-0x3*-0x20b,this['textures']=_0x555454,this['intensity']=0x2629+-0x862+-0x1dc7,this['_data']=null,this['data']=_0x2744de;}set['data'](_0x1ab192){if(this['_data']=_0x1ab192,!!_0x1ab192&&(this['_data']['intensity']!==void(-0x1530+-0x12*-0x81+0xc1e)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x108e+-0x584*0x4+0x26a0)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x169d03 in this['_data']['chars'])this['_data']['chars'][_0x169d03]['map']=0x1ca7+-0x1*-0xf53+0x2bfa*-0x1;}}get['data'](){return this['_data'];}}function iu(_0x513878){return _0x513878['version']<0x3*0x9ac+-0x48*0x6c+-0x75*-0x3&&(_0x513878['version']<-0x1ca5+0x101*-0x9+-0x1*-0x25b0&&(_0x513878['info']['maps']=_0x513878['info']['maps']||[{'width':_0x513878['info']['width'],'height':_0x513878['info']['height']}]),_0x513878['chars']=Object['keys'](_0x513878['chars']||{})['reduce']((_0x5e1c08,_0x2638be)=>{const _0x13b8ef=_0x513878['chars'][_0x2638be],_0x2781cc=_0x13b8ef['letter']!==void(-0x31f+-0x2449+0x4*0x9da)?_0x13b8ef['letter']:dh['fromCodePo'+'int'](_0x2638be);return _0x513878['version']<0x322+0x29a*-0xa+0x16e4*0x1&&(_0x13b8ef['map']=_0x13b8ef['map']||-0x3cf*0xa+-0x6b2+-0x1*-0x2cc8),_0x5e1c08[_0x2781cc]=_0x13b8ef,_0x5e1c08;},{}),_0x513878['version']=-0x16cc+-0xeb9*0x2+-0x7*-0x777),_0x513878;}class M2 extends Ge{constructor(_0x32aed3){super(_0x32aed3,'font'),this['_loader']=_0x32aed3['loader'],this['maxRetries']=-0x2*0xa58+0xe51+0x65f*0x1;}['load'](_0x5493fa,_0x323e43,_0x272f91){typeof _0x5493fa=='string'&&(_0x5493fa={'load':_0x5493fa,'original':_0x5493fa});const _0x35d7db=this;me['getExtensi'+'on'](_0x5493fa['original'])==='.json'?Ye['get'](_0x5493fa['load'],{'retry':this['maxRetries']>-0x6e5*-0x1+0x266d+-0x2d52,'maxRetries':this['maxRetries']},(_0x42f9a8,_0x897152)=>{if(_0x42f9a8)_0x323e43('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x5493fa['original']+'\x20['+_0x42f9a8+']');else{const _0x269653=iu(_0x897152);_0x35d7db['_loadTextu'+'res'](_0x5493fa['load']['replace']('.json','.png'),_0x269653,(_0x3237af,_0x3fce56)=>{_0x3237af?_0x323e43(_0x3237af):_0x323e43(null,{'data':_0x269653,'textures':_0x3fce56});});}}):(_0x272f91&&_0x272f91['data']&&(_0x272f91['data']=iu(_0x272f91['data'])),this['_loadTextu'+'res'](_0x5493fa['load'],_0x272f91&&_0x272f91['data'],_0x323e43));}['_loadTextu'+'res'](_0x232cdb,_0x2a1364,_0x2ebfb0){const _0x4bd42c=_0x2a1364['info']['maps']['length'];let _0xf81da=-0x1c82+-0x606*-0x2+-0x7*-0x25a,_0xe9e986=null;const _0x308959=new Array(_0x4bd42c),_0x4e478a=this['_loader'],_0xb7e297=function(_0x594893){const _0x11d84b=function(_0x8f27e2,_0x482a9b){if(!_0xe9e986){if(_0x8f27e2){_0xe9e986=_0x8f27e2,_0x2ebfb0(_0x8f27e2);return;}_0x482a9b['upload'](),_0x308959[_0x594893]=_0x482a9b,_0xf81da++,_0xf81da===_0x4bd42c&&_0x2ebfb0(null,_0x308959);}};_0x594893===0xb34*-0x2+-0x17*0x97+-0x1*-0x23f9?_0x4e478a['load'](_0x232cdb,'texture',_0x11d84b):_0x4e478a['load'](_0x232cdb['replace']('.png',_0x594893+'.png'),'texture',_0x11d84b);};for(let _0x2543d4=-0x167*-0xe+0x214d+-0x34ef*0x1;_0x2543d4<_0x4bd42c;_0x2543d4++)_0xb7e297(_0x2543d4);}['open'](_0x36a1ea,_0x4d1b0c,_0x29c9d8){let _0x10e077;return _0x4d1b0c['textures']?_0x10e077=new zg(_0x4d1b0c['textures'],_0x4d1b0c['data']):_0x10e077=new zg(_0x4d1b0c,null),_0x10e077;}['patch'](_0x32f696,_0x4eb01b){const _0x25b5a9=_0x32f696['resource'];!_0x25b5a9['data']&&_0x32f696['data']?_0x25b5a9['data']=_0x32f696['data']:!_0x32f696['data']&&_0x25b5a9['data']&&(_0x32f696['data']=_0x25b5a9['data']),_0x32f696['data']&&(_0x32f696['data']=iu(_0x32f696['data']));}}async function P2(){const _0xf02af4=-0x1d*0xf0+0x1b8d+-0x1*0x5d+0.28209479177387814;class _0x4fc23f{constructor(_0x4f1a5f,_0x2311c1,_0x3bf102){this['x']=_0x4f1a5f,this['y']=_0x2311c1,this['z']=_0x3bf102;}}class _0x250e17{constructor(_0x288a58,_0x97b5a6,_0x2015a4,_0x455993){this['x']=_0x288a58,this['y']=_0x97b5a6,this['z']=_0x2015a4,this['w']=_0x455993;}}class _0xc13289{constructor(_0x5d3fca,_0x2c7eee,_0x14e73c,_0x248391){this['x']=_0x5d3fca,this['y']=_0x2c7eee,this['z']=_0x14e73c,this['w']=_0x248391;}['set'](_0x9e4651,_0x3a9c87,_0x599e79,_0x3262b4){this['x']=_0x9e4651,this['y']=_0x3a9c87,this['z']=_0x599e79,this['w']=_0x3262b4;}}class _0x28d2cd{constructor(_0x4686bc,_0x4a7d60,_0x2e90c3,_0x588091,_0x5d9bf3,_0x468018,_0x2830c4,_0x10e45f,_0x5c5678,_0x5ee2db,_0x425887,_0x4d71e0){const _0xcba8ac=(_0x3d1b32,_0x3f15c2)=>{const _0x16661b=(0x20*0x83+0x3*0x173+0x4*-0x52e<<_0x3f15c2)-(-0x23e4+-0x4*-0x35d+0x1671);return(_0x3d1b32&_0x16661b)/_0x16661b;},_0x4e98b5=(_0x12e2b8,_0x5b6c29)=>{_0x12e2b8['x']=_0xcba8ac(_0x5b6c29>>>0xd3+-0x1dea+0x1d2c,0x108+0xa4*-0x37+0x223f),_0x12e2b8['y']=_0xcba8ac(_0x5b6c29>>>-0x69c+-0x2c*-0x71+-0x1d3*0x7,-0x1a51+0x13df+0x5*0x14c),_0x12e2b8['z']=_0xcba8ac(_0x5b6c29,0x1b1c+-0x1d32*-0x1+0x12c1*-0x3);},_0x54e17e=(_0x4499f1,_0x4eae07)=>{_0x4499f1['x']=_0xcba8ac(_0x4eae07>>>-0x208c+-0x4*0x3ad+-0x2f58*-0x1,-0x21*0xeb+-0x1f9a+-0x53*-0xbf),_0x4499f1['y']=_0xcba8ac(_0x4eae07>>>-0x3*0xb9b+0x1*-0x1c0+-0x1*-0x24a1,-0x1a0a+-0x1485*-0x1+0x58d),_0x4499f1['z']=_0xcba8ac(_0x4eae07>>>0xa7*-0x1b+0x71*0x1d+0x4d8,-0x1*0x1d5+0x1e49+-0x1c6c),_0x4499f1['w']=_0xcba8ac(_0x4eae07,-0xa5*-0x7+-0x20a0+0x37*0x83);},_0x162291=(_0x5babc0,_0xd2c61b)=>{const _0x2f3f3a=(-0x15f0+-0x2f*0xbd+0x1f4*0x1d)/(Math['sqrt'](0x11b0*-0x1+-0x1*-0x80d+0x9a5)*(-0x96f+0x1*-0x2635+0x2fa4+0.5)),_0x17c64f=(_0xcba8ac(_0xd2c61b>>>0x12ed+-0x1a+-0x12bf,-0x45a+0xb3*-0x20+0x1ac4)-(-0x141d*0x1+0xf0e+0x7*0xb9+0.5))*_0x2f3f3a,_0x386288=(_0xcba8ac(_0xd2c61b>>>-0x1131*0x2+-0x182c+0x3a98,0x326*-0x3+-0x189+0xb05)-(0x93e+0x403*0x2+0xaa*-0x1a+0.5))*_0x2f3f3a,_0xfc62a5=(_0xcba8ac(_0xd2c61b,-0x177+-0x17*-0xb3+0x4dc*-0x3)-(-0x4*0x2f+0x789*-0x1+0x845+0.5))*_0x2f3f3a,_0x32f17e=Math['sqrt'](-0x2587*0x1+-0xc7b+0x3203-(_0x17c64f*_0x17c64f+_0x386288*_0x386288+_0xfc62a5*_0xfc62a5));switch(_0xd2c61b>>>0xb8*-0x21+-0x1fdb*-0x1+-0x1*0x805){case 0x301*0x5+0x86f+-0x1774:_0x5babc0['set'](_0x17c64f,_0x386288,_0xfc62a5,_0x32f17e);break;case 0x67*0x59+-0x1f4c+-0x482:_0x5babc0['set'](_0x32f17e,_0x386288,_0xfc62a5,_0x17c64f);break;case 0x2643+0x105b+-0x6*0x91a:_0x5babc0['set'](_0x386288,_0x32f17e,_0xfc62a5,_0x17c64f);break;case-0x20dc+0x2*-0xed7+0x3e8d:_0x5babc0['set'](_0x386288,_0xfc62a5,_0x32f17e,_0x17c64f);break;}},_0x43a20a=(_0x5d6a03,_0x1838cc,_0x165c6d)=>_0x5d6a03*(-0xc9b+-0x26c1+-0x1*-0x335d-_0x165c6d)+_0x1838cc*_0x165c6d,_0x14bfe3=[-0x17c2+0x1770+-0x55*-0x1,-0x4b3*-0x3+0x122c+0x3f*-0x83,0x1f8e+-0x1*0x1af+0x3*-0x9f0][_0x5d9bf3-(-0x1d5e+-0xe3*-0x15+-0x2b*-0x40)],_0x520a96=-0x233b+0x863*0x4+0x1b5;this['read']=_0xc6ae00=>{const _0x5d3898=Math['floor'](_0xc6ae00/(-0x1*-0x2221+0x2*-0x12cd+0xe5*0x5))*_0x4a7d60;if(_0x468018&&(_0x4e98b5(_0x468018,_0x2e90c3[_0xc6ae00*_0x520a96+(-0x1f1d+-0x1ca4+0x3*0x13eb)]),_0x468018['x']=_0x43a20a(_0x4686bc[_0x5d3898+(-0x1*-0x1a7c+0x1d*-0x25+-0x164b*0x1)],_0x4686bc[_0x5d3898+(0x7ad*0x1+-0xb9*-0x1b+-0x1b2d)],_0x468018['x']),_0x468018['y']=_0x43a20a(_0x4686bc[_0x5d3898+(0x2f3+-0x19dc+0x16ea)],_0x4686bc[_0x5d3898+(0x4*0x43+0x32*-0x88+0x1988)],_0x468018['y']),_0x468018['z']=_0x43a20a(_0x4686bc[_0x5d3898+(0x26e3+-0x1e*-0x6d+-0x1*0x33a7)],_0x4686bc[_0x5d3898+(-0x2*-0x845+0x1a98+0xd*-0x351)],_0x468018['z'])),_0x2830c4&&_0x162291(_0x2830c4,_0x2e90c3[_0xc6ae00*_0x520a96+(-0x732+-0x5f1+-0x349*-0x4)]),_0x10e45f&&(_0x4e98b5(_0x10e45f,_0x2e90c3[_0xc6ae00*_0x520a96+(-0x1*-0x102b+-0xa63*-0x2+-0x24ef*0x1)]),_0x10e45f['x']=_0x43a20a(_0x4686bc[_0x5d3898+(0x247b*-0x1+0xfd8+0x14a9)],_0x4686bc[_0x5d3898+(0x15a*0x8+-0x1241+0x77a)],_0x10e45f['x']),_0x10e45f['y']=_0x43a20a(_0x4686bc[_0x5d3898+(0x1c14+0x1cc9+-0xf*0x3ca)],_0x4686bc[_0x5d3898+(-0x38f*-0x6+0x1415+0x1*-0x2965)],_0x10e45f['y']),_0x10e45f['z']=_0x43a20a(_0x4686bc[_0x5d3898+(0x244+-0x145d+0x1221)],_0x4686bc[_0x5d3898+(-0x4*-0x90e+-0xb0d+-0x1920)],_0x10e45f['z'])),_0x5c5678&&(_0x54e17e(_0x5c5678,_0x2e90c3[_0xc6ae00*_0x520a96+(0x5a+-0x1200+-0x1*-0x11a9)]),_0x4a7d60>0x90d+-0x599+-0x368*0x1&&(_0x5c5678['x']=_0x43a20a(_0x4686bc[_0x5d3898+(0x293*0x5+0x2*0xdd2+-0xd7d*0x3)],_0x4686bc[_0x5d3898+(-0x78e+-0x3*-0x409+-0x47e)],_0x5c5678['x']),_0x5c5678['y']=_0x43a20a(_0x4686bc[_0x5d3898+(0x1*0x1dad+-0x2113+0x373)],_0x4686bc[_0x5d3898+(-0xdec*0x1+0x2a0+0xb5c)],_0x5c5678['y']),_0x5c5678['z']=_0x43a20a(_0x4686bc[_0x5d3898+(0x74a+0xc2a+-0x1366)],_0x4686bc[_0x5d3898+(-0x11*0xf1+-0x1*-0x23b7+-0x6b*0x2f)],_0x5c5678['z']))),_0x5ee2db&&(_0x4e98b5(_0x5ee2db,_0x2e90c3[_0xc6ae00*_0x520a96+(-0x24c7+0x1b9*0xd+0xe66)]),_0x5ee2db['x']=_0x43a20a(_0x4686bc[_0x5d3898+(-0x10*-0x146+-0x1e7*0xa+-0x148)],_0x4686bc[_0x5d3898+(0x681+0x8*-0x491+0x1e1c)],_0x5ee2db['x']),_0x5ee2db['y']=_0x43a20a(_0x4686bc[_0x5d3898+(-0x13*0x6a+0x1bb8+-0x13c7)],_0x4686bc[_0x5d3898+(-0x1dd0+0x47*-0x1+-0x67*-0x4b)],_0x5ee2db['y']),_0x5ee2db['z']=_0x43a20a(_0x4686bc[_0x5d3898+(0xd1*0x25+-0x29c*-0x7+-0x3b9*0xd)],_0x4686bc[_0x5d3898+(-0x615+0x4f9+0x133)],_0x5ee2db['z'])),_0x425887&&(_0x4e98b5(_0x425887,_0x2e90c3[_0xc6ae00*_0x520a96+(-0x10d*0x5+-0x1337+0x187d)]),_0x425887['x']=_0x43a20a(_0x4686bc[_0x5d3898+(-0x671*-0x1+-0x9cf*0x1+0x376)],_0x4686bc[_0x5d3898+(0x2f0+0x1bcd+-0x1ea4)],_0x425887['x']),_0x425887['y']=_0x43a20a(_0x4686bc[_0x5d3898+(0x6c3+0x388+0x1*-0xa31)],_0x4686bc[_0x5d3898+(-0x128+0x2395*0x1+-0x2252)],_0x425887['y'])),_0x4d71e0&&_0x5d9bf3>0x7b8+0x1*-0x2f5+-0x4c3){for(let _0x44c649=0x1*-0x62b+0x135c+-0xd31;_0x44c649<-0x9*-0x114+-0x1dcb+-0x1f*-0xa6;++_0x44c649)for(let _0x4c1073=0x2b9*-0x4+-0x1*-0x19f1+-0xf0d*0x1;_0x4c1073<-0x427*-0x9+-0x25*-0x3f+-0x2bb*0x11;++_0x4c1073)_0x4d71e0[_0x44c649*(0x2dc*-0xc+0x28*-0x38+0x2b1f)+_0x4c1073]=_0x4c1073<_0x14bfe3?_0x588091[(_0xc6ae00*(-0xa9f+0x7*0x4cf+0x189*-0xf)+_0x44c649)*_0x14bfe3+_0x4c1073]*((0x1*0x25f3+-0x3*-0xce5+0x109*-0x4a)/(0x203b+0x52d*-0x2+-0x14e2))-(0x1*0x227b+0x20e0*-0x1+-0x197):-0x1*0x2b6+0x48*-0x6f+0x21ee;}};}}self['onmessage']=async _0x2b737b=>{const {data:_0x425621}=_0x2b737b;switch(_0x425621['type']){case'initWorker':break;case'decompress':_0x575587(_0x425621['numSplats'],_0x425621['chunkData'],_0x425621['chunkSize'],_0x425621['vertexData'],_0x425621['shData'],_0x425621['shBands']);break;}};const _0x575587=(_0x2bae55,_0x48e2bf,_0x5b98f1,_0x29e00c,_0x2004d4,_0x280a6d)=>{const _0x25f25d=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x280a6d>-0x2691+0x188+0x2509){const _0x1d2bf5=[];for(let _0x19821b=-0x1*0x180b+-0x2*-0x122b+-0xc4b;_0x19821b<-0x8*-0x482+-0x6dd*-0x5+-0x4634;++_0x19821b)_0x1d2bf5['push']('f_rest_'+_0x19821b);_0x25f25d['splice'](_0x25f25d['indexOf']('f_dc_0')+(-0x1*-0x2062+-0x22bb+-0x12d*-0x2),0x1e0f+-0x6*0x183+-0x3*0x6ff,..._0x1d2bf5);}const _0x7cc529={};_0x25f25d['forEach'](_0x3d9c37=>{_0x7cc529[_0x3d9c37]=new Float32Array(_0x2bae55);}),console['log']('decompress');const _0x541a64=new _0x4fc23f(),_0x113b85=new _0xc13289(),_0x387aa9=new _0x4fc23f(),_0xf4299b=new _0x250e17(),_0x3efe7c=new _0x4fc23f(),_0x9434a6=new _0x4fc23f(),_0x156a39=_0x280a6d>-0x53*-0x3+-0x26f4+0x25fb?new Float32Array(0x1381+-0x52*0x10+-0xe34):null,_0x487ac4=new _0x28d2cd(_0x48e2bf,_0x5b98f1,_0x29e00c,_0x2004d4,_0x280a6d,_0x541a64,_0x113b85,_0x387aa9,_0xf4299b,_0x3efe7c,_0x9434a6,_0x156a39);for(let _0x160c74=0x250f+-0x1959+-0x1*0xbb6;_0x160c74<_0x2bae55;++_0x160c74)if(_0x487ac4['read'](_0x160c74),_0x7cc529['x'][_0x160c74]=_0x541a64['x'],_0x7cc529['y'][_0x160c74]=_0x541a64['y'],_0x7cc529['z'][_0x160c74]=_0x541a64['z'],_0x7cc529['rot_1'][_0x160c74]=_0x113b85['x'],_0x7cc529['rot_2'][_0x160c74]=_0x113b85['y'],_0x7cc529['rot_3'][_0x160c74]=_0x113b85['z'],_0x7cc529['rot_0'][_0x160c74]=_0x113b85['w'],_0x7cc529['scale_0'][_0x160c74]=_0x387aa9['x'],_0x7cc529['scale_1'][_0x160c74]=_0x387aa9['y'],_0x7cc529['scale_2'][_0x160c74]=_0x387aa9['z'],_0x7cc529['motion_0'][_0x160c74]=_0x3efe7c['x'],_0x7cc529['motion_1'][_0x160c74]=_0x3efe7c['y'],_0x7cc529['motion_2'][_0x160c74]=_0x3efe7c['z'],_0x7cc529['t_scale'][_0x160c74]=_0x9434a6['x'],_0x7cc529['t'][_0x160c74]=_0x9434a6['y'],_0x7cc529['f_dc_0'][_0x160c74]=(_0xf4299b['x']-(-0x3*-0xc53+0x2625+-0x4b1e+0.5))/_0xf02af4,_0x7cc529['f_dc_1'][_0x160c74]=(_0xf4299b['y']-(0x989+-0x202c*-0x1+-0xde7*0x3+0.5))/_0xf02af4,_0x7cc529['f_dc_2'][_0x160c74]=(_0xf4299b['z']-(0x1a32+0x1*-0x18d3+-0x15f+0.5))/_0xf02af4,_0x7cc529['opacity'][_0x160c74]=_0xf4299b['w']<=-0x1*0x199d+-0xe6b*-0x1+0xb32?-(0x138b*-0x1+0x8e*-0x10+0x1c93):_0xf4299b['w']>=-0x1*-0x8d7+0x2*0x915+-0x9*0x300?0x10ff+0x2*-0x136d+0x1603:-Math['log']((-0x65d+0x1e54+0x2*-0xbfb)/_0xf4299b['w']-(-0x2b6*0xa+0x239*0xd+-0x1c8)),_0x156a39){for(let _0x5b6d32=-0x17f8+-0x2194+-0xfe*-0x3a;_0x5b6d32<-0x93b*-0x1+-0x2*-0xcb8+-0x227e;++_0x5b6d32)_0x7cc529['f_rest_'+_0x5b6d32][_0x160c74]=_0x156a39[_0x5b6d32];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x7cc529});};}class R2 extends de{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+P2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x316151=>{if(!this['worker'])return;const {data:_0x78ba02}=_0x316151;switch(_0x78ba02['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x78ba02['data']);break;}};}['decompress'](_0x313f4d,_0x1ff50e,_0x5eacbb,_0x1698fd,_0x495129,_0x2654c4,_0x181f0c){this['chunkData']=new Float32Array(_0x1ff50e)['slice'](),this['vertexData']=new Uint32Array(_0x1698fd)['slice'](),this['shData']=new Uint8Array(_0x495129)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x313f4d,'chunkData':this['chunkData'],'chunkSize':_0x5eacbb,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x2654c4});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class I2{constructor(_0x5b9054,_0x594e62,_0x4b816a,_0x31c4b2,_0x49916f,_0x5d242e,_0x36b72a,_0x5940c7){const _0x1e700f=(_0x309818,_0x33abfd)=>{const _0x2f9bd1=(0xa7*0x25+0x11f8+-0x13d*0x22<<_0x33abfd)-(0x1*-0x20c5+0xadb+0x15eb);return(_0x309818&_0x2f9bd1)/_0x2f9bd1;},_0x538f40=(_0x50f56f,_0x1b1116)=>{_0x50f56f['x']=_0x1e700f(_0x1b1116>>>0x2*-0x3e0+-0x1*0x26b1+-0xf82*-0x3,0x1927+-0x1564+-0x38*0x11),_0x50f56f['y']=_0x1e700f(_0x1b1116>>>-0x66*-0xe+-0xaad*0x1+0x524,0x4*-0x89e+-0x4*0x213+0x2ace),_0x50f56f['z']=_0x1e700f(_0x1b1116,0x10b9+-0x1ad8+0xa2a);},_0x26e992=(_0x486ec2,_0x2da416)=>{_0x486ec2['x']=_0x1e700f(_0x2da416>>>-0x2e*0xb9+-0x13*-0x8c+0x16f2,-0x15d0+0x6a9+0xf2f),_0x486ec2['y']=_0x1e700f(_0x2da416>>>-0x431*-0x1+0x192+-0x5b3,-0x15f4+0x1b3+0x1449),_0x486ec2['z']=_0x1e700f(_0x2da416>>>0x104a+-0x19f*0x6+-0x688,0x517+-0x1*-0x592+-0xaa1),_0x486ec2['w']=_0x1e700f(_0x2da416,-0x1fe8+-0x1*0x6b1+0x26a1);},_0x355cd9=(_0x267045,_0x4044cd)=>{const _0x276d48=(0xf7*-0x12+0x1903+-0x7a4)/(Math['sqrt'](0x1*0x1be6+-0x58*-0x16+0x8dd*-0x4)*(0x11a3+0x1*0x2689+-0x382c+0.5)),_0x358ef0=(_0x1e700f(_0x4044cd>>>0x17cd+0x19e6+-0x319f,-0xb5f+0xbab+0x42*-0x1)-(-0xad0+-0x2345+0x2e15+0.5))*_0x276d48,_0xbe456d=(_0x1e700f(_0x4044cd>>>-0x251*0x1+0x552+-0x2f7,-0x8fc*-0x1+-0x1330+-0x51f*-0x2)-(0x2150+-0xf1*0x12+-0x105e+0.5))*_0x276d48,_0x191779=(_0x1e700f(_0x4044cd,0x653*-0x5+-0x7*0x32c+0x35dd)-(-0x9*-0x187+0x22b2+0x1*-0x3071+0.5))*_0x276d48,_0x50c052=Math['sqrt'](-0x1*-0x23ea+0x124c+-0x3635-(_0x358ef0*_0x358ef0+_0xbe456d*_0xbe456d+_0x191779*_0x191779));switch(_0x4044cd>>>0x1df2+0x2679+-0x444d){case-0x1d*-0x150+0xa9f*-0x2+-0x10d2:_0x267045['set'](_0x358ef0,_0xbe456d,_0x191779,_0x50c052);break;case-0x127e+0x23da+-0x115b:_0x267045['set'](_0x50c052,_0xbe456d,_0x191779,_0x358ef0);break;case-0x32*-0x9d+-0x1381*0x1+-0xb27:_0x267045['set'](_0xbe456d,_0x50c052,_0x191779,_0x358ef0);break;case 0xb5f*0x1+0x1*0x6ec+-0x1248:_0x267045['set'](_0xbe456d,_0x191779,_0x50c052,_0x358ef0);break;}},_0x1bf738=(_0x36cc41,_0x167b32,_0x36732c)=>_0x36cc41*(0x1325+-0xdbe+-0x566-_0x36732c)+_0x167b32*_0x36732c,{chunkData:_0x1bc2ab,chunkSize:_0x510b18,vertexData:_0x11ac6c,shData:_0xc76fe5,shBands:_0x400dca}=_0x5b9054,_0x33000a=[0xf1d+-0xfe6*-0x2+-0x2ee6,-0x1869*0x1+-0x1d36+0x35a7,0x1*-0x25c3+0x1*0x18db+-0xcf7*-0x1][_0x400dca-(-0x2388+0x1fd7+0x3b2)],_0x520a23=0x1e67+-0x1*0x1a4b+-0x416;this['read']=_0x63edbd=>{const _0x12e92c=Math['floor'](_0x63edbd/(0x2139+0x15b9+0x35f2*-0x1))*_0x510b18;if(_0x594e62&&(_0x538f40(_0x594e62,_0x11ac6c[_0x63edbd*_0x520a23+(-0x4*-0x4e1+0xb80*0x3+-0x3604)]),_0x594e62['x']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0xfee*-0x2+-0x2513+0x44ef)],_0x1bc2ab[_0x12e92c+(-0xf0b*0x1+0xae2+0x42c)],_0x594e62['x']),_0x594e62['y']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x183a+0x710+-0x1f49)],_0x1bc2ab[_0x12e92c+(0x1*0x19a3+-0x1*0x8c2+-0x10dd*0x1)],_0x594e62['y']),_0x594e62['z']=_0x1bf738(_0x1bc2ab[_0x12e92c+(-0xe19+0x15bc+-0x7a1)],_0x1bc2ab[_0x12e92c+(0x11*0x13+0x1*-0xc29+0xaeb)],_0x594e62['z'])),_0x4b816a&&_0x355cd9(_0x4b816a,_0x11ac6c[_0x63edbd*_0x520a23+(-0x264+-0x23da*-0x1+-0xf*0x23b)]),_0x31c4b2&&(_0x538f40(_0x31c4b2,_0x11ac6c[_0x63edbd*_0x520a23+(0x1*0x26ae+-0x199e+0x1*-0xd0e)]),_0x31c4b2['x']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x21e1+-0x1305+-0x1*0xed6)],_0x1bc2ab[_0x12e92c+(-0x1be*-0x3+0x10dd*-0x1+0xc*0xf9)],_0x31c4b2['x']),_0x31c4b2['y']=_0x1bf738(_0x1bc2ab[_0x12e92c+(-0x2*-0xd7c+0x62f+-0x2120)],_0x1bc2ab[_0x12e92c+(-0x1d*-0x73+-0x10ef+0x3f2*0x1)],_0x31c4b2['y']),_0x31c4b2['z']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x168a+-0x6*0x590+0xade)],_0x1bc2ab[_0x12e92c+(0xd1a+-0x242*0x11+0x3*0x871)],_0x31c4b2['z'])),_0x49916f&&(_0x26e992(_0x49916f,_0x11ac6c[_0x63edbd*_0x520a23+(-0x19*-0x6a+0x786+0x11dd*-0x1)]),_0x510b18>-0x1*-0x198b+0x1*-0xad+0x423*-0x6&&(_0x49916f['x']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x4fd+-0x17ff+0x3*0x65a)],_0x1bc2ab[_0x12e92c+(-0x2447+-0x8cd+0x2d23)],_0x49916f['x']),_0x49916f['y']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x3*-0x52+0x11d*0x19+-0x1ad2)],_0x1bc2ab[_0x12e92c+(0x72f*-0x4+-0x164+-0x150*-0x17)],_0x49916f['y']),_0x49916f['z']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x1ac+-0x813+-0x57*-0x13)],_0x1bc2ab[_0x12e92c+(-0x216*-0x4+0xb*0xdf+0x477*-0x4)],_0x49916f['z']))),_0x5d242e&&(_0x538f40(_0x5d242e,_0x11ac6c[_0x63edbd*_0x520a23+(0x1d8a+0x3c3+-0x2149*0x1)]),_0x5d242e['x']=_0x1bf738(_0x1bc2ab[_0x12e92c+(-0x2*0x7bf+-0x1f4c+0x1*0x2edc)],_0x1bc2ab[_0x12e92c+(0x2*0xf94+0x1154+-0x3067)],_0x5d242e['x']),_0x5d242e['y']=_0x1bf738(_0x1bc2ab[_0x12e92c+(-0x5*-0x719+0x15e+-0x24c8)],_0x1bc2ab[_0x12e92c+(-0x79d*0x5+-0x5b1*0x4+0x3ceb)],_0x5d242e['y']),_0x5d242e['z']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x10e+0x1*-0x2517+-0x1*-0x241d)],_0x1bc2ab[_0x12e92c+(0xbe6*-0x2+-0x1a94+0x3277)],_0x5d242e['z'])),_0x36b72a&&(_0x538f40(_0x36b72a,_0x11ac6c[_0x63edbd*_0x520a23+(0x18a7*0x1+-0x150d+0x7*-0x83)]),_0x36b72a['x']=_0x1bf738(_0x1bc2ab[_0x12e92c+(0x6c5+-0x197f+0x12d2)],_0x1bc2ab[_0x12e92c+(-0xa77+-0x25c5+-0x3055*-0x1)],_0x36b72a['x']),_0x36b72a['y']=_0x1bf738(_0x1bc2ab[_0x12e92c+(-0x3*-0x761+0x3*0xae9+0x36c4*-0x1)],_0x1bc2ab[_0x12e92c+(-0x21c9+-0xcde+-0xf*-0x31e)],_0x36b72a['y'])),_0x5940c7&&_0x400dca>0x2cc*0x6+-0x1*-0x949+-0x1a11){for(let _0x5e9776=-0x7dd+-0x1*-0x2697+-0x1eba;_0x5e9776<-0xea4+-0x1*-0x893+-0x4*-0x185;++_0x5e9776)for(let _0x10f60b=-0xb00+0x25ee*-0x1+0x30ee;_0x10f60b<0x263*-0x9+-0x100*0x23+0x1c45*0x2;++_0x10f60b)_0x5940c7[_0x5e9776*(0x117c+0x19*0x5e+0x3cd*-0x7)+_0x10f60b]=_0x10f60b<_0x33000a?_0xc76fe5[(_0x63edbd*(-0x17bc+-0x16a1+0x2e60)+_0x5e9776)*_0x33000a+_0x10f60b]*((-0x1d0+0xa63*-0x1+-0x1*-0xc3b)/(0x4ef*-0x7+-0x1*0x1b7c+-0xda*-0x4a))-(-0x1625+-0x1867*0x1+0x5*0x950):0x215+0x23fc+-0x2611*0x1;}};}}class D2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x3ef937,_0x19957e,_0x265a82,_0x1f07fd,_0x5923c1,_0x5a479a,_0x21065a){return new I2(this,_0x3ef937,_0x19957e,_0x265a82,_0x1f07fd,_0x5923c1,_0x5a479a,_0x21065a);}['calcAabb'](_0x1eabbd){const {chunkData:_0x2b09fc,numChunks:_0x54469e,chunkSize:_0x346d26}=this;let _0x5f400d=Math['exp'](Math['max'](_0x2b09fc[-0x226c*0x1+-0x105*-0x17+-0xb02*-0x1],_0x2b09fc[-0x857*0x3+-0x20*0x1f+0x1cef],_0x2b09fc[-0x21e8*0x1+0x4*-0x29a+0x5*0x8df])),_0x141398=_0x2b09fc[-0xddc*-0x1+0x2666+-0x3442]-_0x5f400d,_0x24ec9c=_0x2b09fc[-0x239f*0x1+0x6*-0x238+-0x74*-0x6c]-_0x5f400d,_0x1d992a=_0x2b09fc[-0x188c+0x1*0x1d5+0x16b9]-_0x5f400d,_0x325795=_0x2b09fc[-0x1*0x134f+-0x1003+0x2355]+_0x5f400d,_0x768b62=_0x2b09fc[-0x9b5*0x4+-0xd*0x7+0x1*0x2733]+_0x5f400d,_0x213d62=_0x2b09fc[-0x4f3*0x7+0x162b+0xc7f]+_0x5f400d;for(let _0x125b6b=-0x1693+0x146b*0x1+-0x4f*-0x7;_0x125b6b<_0x54469e;++_0x125b6b){const _0x3df0ee=_0x125b6b*_0x346d26;_0x5f400d=Math['exp'](Math['max'](_0x2b09fc[_0x3df0ee+(-0x125d+-0x422*0x1+-0x67*-0x38)],_0x2b09fc[_0x3df0ee+(0x2308+-0x398+-0xfb3*0x2)],_0x2b09fc[_0x3df0ee+(0x183b*-0x1+0xc83*-0x1+0x2b*0xdb)])),_0x141398=Math['min'](_0x141398,_0x2b09fc[_0x3df0ee+(0x1*0x1b94+-0x198f+-0xb*0x2f)]-_0x5f400d),_0x24ec9c=Math['min'](_0x24ec9c,_0x2b09fc[_0x3df0ee+(-0x2218+0x1b3b*-0x1+0x3d54)]-_0x5f400d),_0x1d992a=Math['min'](_0x1d992a,_0x2b09fc[_0x3df0ee+(0x25a4+0x1*-0xcfa+-0x18a8)]-_0x5f400d),_0x325795=Math['max'](_0x325795,_0x2b09fc[_0x3df0ee+(-0x7*-0x3aa+-0x109d+0x483*-0x2)]+_0x5f400d),_0x768b62=Math['max'](_0x768b62,_0x2b09fc[_0x3df0ee+(0x22d1+0x5ab+-0x8c*0x4a)]+_0x5f400d),_0x213d62=Math['max'](_0x213d62,_0x2b09fc[_0x3df0ee+(-0x1*0x38a+0xd62+-0x9d3)]+_0x5f400d);}return _0x1eabbd['center']['set']((_0x141398+_0x325795)*(0x1806+0x3d7*0x3+-0x238b+0.5),(_0x24ec9c+_0x768b62)*(0x12d4+0x1592*0x1+-0x2*0x1433+0.5),(_0x1d992a+_0x213d62)*(0xb09+0x1ac8+-0x25d1+0.5)),_0x1eabbd['halfExtent'+'s']['set']((_0x325795-_0x141398)*(-0x10c3*-0x1+0x2*0xe74+-0x2dab+0.5),(_0x768b62-_0x24ec9c)*(0x145a+-0x83*0x40+0xc66+0.5),(_0x213d62-_0x1d992a)*(-0x3*0x5bf+0x3e2+0xd5b+0.5)),!(-0xd22+0x1bf4*-0x1+-0xdb2*-0x3);}['getCenters'](_0x4b829e){const {vertexData:_0x1aa837,chunkData:_0x51f4be,numChunks:_0x180535,chunkSize:_0x5267b8}=this;let _0x43b720,_0x315824,_0x34d58b,_0x3eaa18,_0x5da0dd,_0x5a8ba5;for(let _0x1cab85=0xf7d+0x2f6+-0x1273;_0x1cab85<_0x180535;++_0x1cab85){const _0x5c5fc4=_0x1cab85*_0x5267b8;_0x43b720=_0x51f4be[_0x5c5fc4+(0x2561+0xbe7+-0x3148)],_0x315824=_0x51f4be[_0x5c5fc4+(0x2579+-0x22*-0x13+-0x27fe)],_0x34d58b=_0x51f4be[_0x5c5fc4+(0xbd2*0x1+-0x1c76+0x10a6)],_0x3eaa18=_0x51f4be[_0x5c5fc4+(0x2255+0x475+0xced*-0x3)],_0x5da0dd=_0x51f4be[_0x5c5fc4+(0x14f7*-0x1+0x1013+0x4e8)],_0x5a8ba5=_0x51f4be[_0x5c5fc4+(0xba8+0x3a1*0x6+-0x2169)];const _0x567183=Math['min'](this['numSplats'],(_0x1cab85+(-0x1*0xb16+-0x76a+0x3*0x62b))*(-0x2376+-0x1bf*-0x8+0x167e));for(let _0x4fc497=_0x1cab85*(0x19d1+-0x1689*0x1+0x4*-0x92);_0x4fc497<_0x567183;++_0x4fc497){const _0x3490d5=_0x1aa837[_0x4fc497*(-0x1bac+0x12bd+0x8f3)],_0x515aac=(_0x3490d5>>>-0x42*-0x2f+0x2633+-0x323c)/(-0x3a6*-0x8+0x209+0x2*-0xb9d),_0x16f90e=(_0x3490d5>>>-0xc5f*0x1+0x3*-0xc0a+0x3088&0x1962+0x110b*-0x2+0xcb3)/(0x1383+-0x184c+-0x1*-0x8c8),_0x5f424a=(_0x3490d5&0x1cef+-0x2533+0x1043)/(0x1*0x1df5+-0x1a*0x81+0x24*-0x3f);_0x4b829e[_0x4fc497*(-0x191*-0x11+-0x1b59+-0xbb*-0x1)+(-0x2*-0x655+0x1028+0x1cd2*-0x1)]=(0x1181+-0x6*0x123+-0xaae*0x1-_0x515aac)*_0x43b720+_0x515aac*_0x3eaa18,_0x4b829e[_0x4fc497*(0x1*-0x1783+-0x7*0x29f+0x29df)+(-0xad9+-0x35*0x41+0x379*0x7)]=(0x160b+0x600+-0x1c0a-_0x16f90e)*_0x315824+_0x16f90e*_0x5da0dd,_0x4b829e[_0x4fc497*(-0x17e9+0xfcd+0xb*0xbd)+(0x1366+0x5*-0x5b+-0x119d)]=(-0x5*0x54a+0x23d3+-0x960-_0x5f424a)*_0x34d58b+_0x5f424a*_0x5a8ba5;}}}['calcFocalP'+'oint'](_0x4b7e7a){const {chunkData:_0x43ec03,numChunks:_0x20b9d7,chunkSize:_0xb60f5d}=this;_0x4b7e7a['x']=0xbab+0x1*-0x15bb+0x17*0x70,_0x4b7e7a['y']=0x1bbd+0xf33*0x1+-0x2af0,_0x4b7e7a['z']=0x606+0x26a5+-0x2cab;for(let _0x4c0e5d=0x39*-0x6d+-0x1fb2+-0x1*-0x37f7;_0x4c0e5d<_0x20b9d7;++_0x4c0e5d){const _0x593477=_0x4c0e5d*_0xb60f5d;_0x4b7e7a['x']+=_0x43ec03[_0x593477+(0x224e+0x48a+-0x26d8)]+_0x43ec03[_0x593477+(-0x1467+-0x264b*-0x1+-0x11e1)],_0x4b7e7a['y']+=_0x43ec03[_0x593477+(-0x1a93+-0x1851+-0x65*-0x81)]+_0x43ec03[_0x593477+(-0x2*-0xdbd+-0x527*0x5+-0x1b3)],_0x4b7e7a['z']+=_0x43ec03[_0x593477+(-0x21b6+0x1e5a+0x35e)]+_0x43ec03[_0x593477+(-0x1b6*-0x16+0x2347+0x56*-0xd9)];}_0x4b7e7a['mulScalar']((-0x178d+0x1e8f*-0x1+0x361c+0.5)/_0x20b9d7);}get['isCompress'+'ed'](){return!(-0xb66+0x1cec+-0x1186);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x3eb*-0x3+-0x1235+0x1ef6));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x1e5b98;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x1e5b98=this['shData'])==null?void(-0x205+0x5*-0x4f3+0x1ac4):_0x1e5b98['length'])/this['numSplats']/(-0xcc5+0x206a+0x167*-0xe)]??0x4*0x60d+-0x2012+-0x13*-0x6a;}async['decompress'](){const _0xc89dd6=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x4ffe75}=this;if(_0x4ffe75>-0x2403+-0x663+-0x2a66*-0x1){const _0x3377ec=[];for(let _0x4a76b2=-0x1d6c+0x3*-0x3ee+0x2936;_0x4a76b2<-0x2f9*-0x1+0x1aba+0xec3*-0x2;++_0x4a76b2)_0x3377ec['push']('f_rest_'+_0x4a76b2);_0xc89dd6['splice'](_0xc89dd6['indexOf']('f_dc_0')+(0x4*0x3cb+-0xd75+-0x1b6),0x136d+0x22d7+-0x3644,..._0x3377ec);}const _0x958adc={};_0xc89dd6['forEach'](_0x1266f0=>{_0x958adc[_0x1266f0]=new Float32Array(this['numSplats']);});const _0x33790a=new R2();return _0x33790a['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x958adc),new Promise((_0x1581e7,_0xf64893)=>{_0x33790a['on']('decompress'+'ed',_0xbfc92b=>{_0x33790a['destroy'](),_0x1581e7(new Fa([{'name':'vertex','count':this['numSplats'],'properties':_0xc89dd6['map'](_0x577364=>({'name':_0x577364,'type':'float','byteSize':0x4,'storage':_0xbfc92b[_0x577364]}))}]));});});}}const L2=(_0x4fe3c7,_0x1d4893,_0xd8ae8f,_0x4d768c,_0x381168)=>{for(let _0x55e5fb=0xcc*-0x11+0x511*0x6+-0x10da;_0x55e5fb<_0x381168;++_0x55e5fb)for(let _0xf93668=0x3*0xcc9+-0x598*0x1+0x20c3*-0x1;_0xf93668<_0x4d768c;++_0xf93668)_0x4fe3c7[_0x55e5fb*_0x1d4893+_0xf93668]=_0xd8ae8f[_0x55e5fb*_0x4d768c+_0xf93668];},Ug=(_0x43a52f,_0x354e5e,_0x4b4d47,_0x38cfbf,_0x387219,_0x3ba093)=>{for(let _0x21d2a4=-0x146*-0x13+-0x97c+0x2*-0x75b;_0x21d2a4<_0x387219;++_0x21d2a4)for(let _0xad5195=-0x162a+-0x932+0x1f5c;_0xad5195<_0x38cfbf;++_0xad5195)_0x43a52f[_0x21d2a4*_0x354e5e+_0xad5195]=_0x4b4d47[_0x21d2a4*_0x38cfbf+_0xad5195+_0x3ba093];};class F2{constructor(_0x5f3989,_0x5afee5){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0x8cbdff,chunkSize:_0x3054ca,numChunks:_0x41f5e1,numSplats:_0x7900ec,vertexData:_0x305dad,shBands:_0x39f696,is4D:_0x28fc9d}=_0x5afee5;this['device']=_0x5f3989,this['numSplats']=_0x7900ec,this['numVisible'+'Splats']=_0x7900ec,this['is4D']=_0x28fc9d,this['aabb']=new ve(),_0x5afee5['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x7900ec*(0x570*0x6+-0x49*-0x7+0x229c*-0x1)),_0x5afee5['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',yt,this['evalTextur'+'eSize'](_0x7900ec));const _0x2e7a5b=this['packedText'+'ure']['lock']();Ug(_0x2e7a5b,0x69f*-0x1+0x1d52+-0x16af,_0x305dad,-0xa70*0x2+0x1*0x1a43+0x1*-0x55d,_0x7900ec,0x19b*-0x3+-0x30d*-0x4+-0x1f*0x3d),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',yt,this['evalTextur'+'eSize'](_0x7900ec));const _0x18df1f=this['packedTime'+'Texture']['lock']();Ug(_0x18df1f,0x10*-0x6a+0x998+-0x1*0x2f6,_0x305dad,0x2b6*-0x1+0x9*-0xdb+0x1*0xa6f,_0x7900ec,0x1*-0x2372+-0xdd*-0x2+0x21bc);const _0x1e3531=this['evalTextur'+'eSize'](_0x41f5e1);_0x1e3531['x']*=-0x1*0x211a+-0x23*-0xb7+-0x2*-0x40e,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',et,_0x1e3531);const _0x1ee335=this['chunkTextu'+'re']['lock']();if(L2(_0x1ee335,(-0x1b0a+0xb87+0xf87)*(0x10*-0x1+0x1*-0x491+0x8*0x95),_0x8cbdff,_0x3054ca,_0x41f5e1),_0x3054ca===0x51f+0x1ee9*0x1+-0x23fc){for(let _0x35f308=0x47f*0x5+0x2*0x9e9+-0x2a4d;_0x35f308<_0x41f5e1;++_0x35f308)_0x1ee335[_0x35f308*(-0x1f7*-0x11+0x8e*0x43+-0x467d)+(-0x3bb*-0x1+0x12fd*0x2+-0x14d3*0x2)]=0x1006+0x2*-0x8cd+-0x3*-0x87,_0x1ee335[_0x35f308*(-0x554*0x7+-0x33*-0x61+0x120d*0x1)+(0x82e+0x10ac+-0x18ca)]=0x2596+0x10*0x119+-0x3725,_0x1ee335[_0x35f308*(-0xe9b+0x1*-0x1931+0x27e0)+(-0x2184+0x1*0x8d8+0x18bd)]=0x5b8+-0xfeb+-0x4*-0x28d;}if(this['chunkTextu'+'re']['unlock'](),_0x39f696>0x2506+0x605+-0x2b0b){const {shData:_0x4796c0}=_0x5afee5,_0x48f86f=this['evalTextur'+'eSize'](_0x7900ec),_0x2060ae=this['createText'+'ure']('shTexture0',yt,_0x48f86f),_0x535e70=this['createText'+'ure']('shTexture1',yt,_0x48f86f),_0x5156f2=this['createText'+'ure']('shTexture2',yt,_0x48f86f),_0x4f0763=_0x2060ae['lock'](),_0x5c1503=_0x535e70['lock'](),_0x4b8e4c=_0x5156f2['lock'](),_0x35bbbb=new Uint8Array(_0x4f0763['buffer']),_0x440ef6=new Uint8Array(_0x5c1503['buffer']),_0x2582e1=new Uint8Array(_0x4b8e4c['buffer']),_0x5c254f=[-0x1a23*-0x1+0x5a3+-0x1fc3,-0x2587+0x1fd*-0x7+0x337a,-0x2065*-0x1+0x14fd+-0x3553][_0x39f696-(-0x124a+-0x13ce+0x3*0xcb3)];for(let _0x393853=-0x3*0xb5+-0xe6b*-0x1+-0xc4c;_0x393853<_0x7900ec;++_0x393853)for(let _0x54277f=0x10ff+0x162a+-0x2729;_0x54277f<0x4*-0x4f+-0x15fb+0x1746*0x1;++_0x54277f)_0x35bbbb[_0x393853*(-0x16af+-0x232a+0x39e9)+_0x54277f]=_0x54277f<_0x5c254f?_0x4796c0[(_0x393853*(-0xb*0x95+-0x3*0x691+0x23*0xbf)+(-0x63*0x53+0x19*0x2+0x1fe7))*_0x5c254f+_0x54277f]:0x1293+-0x1cb7*0x1+-0x185*-0x7,_0x440ef6[_0x393853*(-0x258+-0x1fa6+0x6*0x5ad)+_0x54277f]=_0x54277f<_0x5c254f?_0x4796c0[(_0x393853*(-0x1814+-0x2258+0x859*0x7)+(-0x406+-0x10a7+0x14ae))*_0x5c254f+_0x54277f]:0xfef+-0x450+-0xb20,_0x2582e1[_0x393853*(-0x1549*0x1+-0x1847+0x5b4*0x8)+_0x54277f]=_0x54277f<_0x5c254f?_0x4796c0[(_0x393853*(-0x203c+-0x189*0x5+-0x92*-0x46)+(0xe3*0x13+-0x13d*-0x7+-0x1982))*_0x5c254f+_0x54277f]:0xda1+0x825+-0x1547;_0x2060ae['unlock'](),_0x535e70['unlock'](),_0x5156f2['unlock'](),this['shTexture0']=_0x2060ae,this['shTexture1']=_0x535e70,this['shTexture2']=_0x5156f2;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x5f02df,_0x9e045e,_0xc8dea8,_0x247aca,_0x4478e2,_0x400d57;(_0x5f02df=this['packedText'+'ure'])==null||_0x5f02df['destroy'](),(_0x9e045e=this['packedTime'+'Texture'])==null||_0x9e045e['destroy'](),(_0xc8dea8=this['chunkTextu'+'re'])==null||_0xc8dea8['destroy'](),(_0x247aca=this['shTexture0'])==null||_0x247aca['destroy'](),(_0x4478e2=this['shTexture1'])==null||_0x4478e2['destroy'](),(_0x400d57=this['shTexture2'])==null||_0x400d57['destroy']();}['createMate'+'rial'](_0x3ea0a5){const _0x23eb99=U0(_0x3ea0a5);return _0x23eb99['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0xb6*-0x17+0x17e0+0x26*-0x10f)),_0x23eb99['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x23eb99['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x23eb99['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x23eb99['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x23eb99['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x23eb99['setDefine']('SH_BANDS',-0x1*0xeb7+0x1*-0x7f3+0x87*0x2b),_0x23eb99['setParamet'+'er']('shTexture0',this['shTexture0']),_0x23eb99['setParamet'+'er']('shTexture1',this['shTexture1']),_0x23eb99['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x23eb99['setDefine']('SH_BANDS',-0x210d+0x1d46*-0x1+0x3e53),_0x23eb99;}['evalTextur'+'eSize'](_0x16c915){const _0x4024bb=Math['ceil'](Math['sqrt'](_0x16c915)),_0x44727e=Math['ceil'](_0x16c915/_0x4024bb);return new W(_0x4024bb,_0x44727e);}['createText'+'ure'](_0x4828b8,_0x5a5cc9,_0x481b4b,_0x3740d3){return new ce(this['device'],{'name':_0x4828b8,'width':_0x481b4b['x'],'height':_0x481b4b['y'],'format':_0x5a5cc9,'cubemap':!(-0x1e66+0x8*-0x67+-0x39*-0x97),'mipmaps':!(-0x4*-0x202+-0x3*0x89f+0x11d6),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,..._0x3740d3?{'levels':[_0x3740d3]}:{}});}}class k2{constructor(_0x36f3b5,_0xab5655,_0x1e512a){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x36f3b5,this['splatData']=_0xab5655,this['comments']=_0x1e512a);}['destroy'](){var _0x1b3f5b;this['device']=null,this['splatData']=null,(_0x1b3f5b=this['splat'])==null||_0x1b3f5b['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new F2(this['device'],this['splatData']):new G1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x29fd7,_0x198760,_0x336591){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x198760,this['splatData']['appendGSpl'+'atData'](_0x29fd7,_0x336591,_0x198760),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x2e527d={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x2e527d);const _0x3a3a78=new je(),_0x4c1af6=_0x3a3a78['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x3a3a78['setLocalEu'+'lerAngles'](-0x150f+-0x3c7*0x2+0x1c9d,-0x51f+-0x21f1+0x2710,-0x1d14+-0x1d7a+-0x5*-0xbb6),_0x4c1af6['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x3a3a78;}['createInst'+'ance'](_0x1d8a4a={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x274800=this['createSpla'+'t']();return new Gp(_0x274800,_0x1d8a4a);}}const O2='super4d-ca'+'che-v1',B2={'maxAge':(-0x1929+-0x1543*0x1+0x2e8a)*(0x1596+0x2626+-0x4*0xee9)*(0xd79*-0x2+-0x257+0xb*0x2af)*(-0x117b*0x1+0xd*0x251+-0xc66)*(-0x193d+-0x1ac2+-0xb*-0x515),'maxSize':(-0x1875+-0x1c83+0x3502)*(-0x119a+0x3*-0x86+0x172c)*(0x17*-0xdf+0x1*-0x14a6+0x2caf)*(-0xa44*-0x1+0x2348+0x14c6*-0x2)};class N2{constructor(_0x2b029c={}){this['options']={...B2,..._0x2b029c},this['cache']=null,this['init']();}async['init'](){try{this['cache']=await caches['open'](O2);}catch(_0x38ec70){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x38ec70);}}async['get'](_0xb29578){if(!this['cache'])return null;try{const _0xd22ef3=await this['cache']['match'](_0xb29578);if(!_0xd22ef3)return null;const _0x573365=_0xd22ef3['headers']['get']('x-cache-ti'+'me');return _0x573365&&Date['now']()-parseInt(_0x573365)>this['options']['maxAge']?(await this['delete'](_0xb29578),null):(console['log']('____\x20ENGIN'+'E\x20IVAN','cache\x20hit',_0xb29578),_0xd22ef3);}catch(_0x2eca4a){return console['error']('Cache\x20get\x20'+'error:',_0x2eca4a),null;}}async['set'](_0x39145b,_0x4149f3){if(!(!this['cache']||_0x39145b['startsWith']('blob:')))try{const _0x1bab3b=_0x4149f3['clone'](),_0x58ba9d=new Headers(_0x1bab3b['headers']);_0x58ba9d['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x3b8500=new Response(await _0x1bab3b['blob'](),{'status':_0x1bab3b['status'],'statusText':_0x1bab3b['statusText'],'headers':_0x58ba9d});await this['cache']['put'](_0x39145b,_0x3b8500);}catch(_0x2d0ac0){console['error']('Cache\x20set\x20'+'error:',_0x2d0ac0);}}async['delete'](_0x2b2e69){if(this['cache'])try{await this['cache']['delete'](_0x2b2e69);}catch(_0x403638){console['error']('Cache\x20dele'+'te\x20error:',_0x403638);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0xefbcc6=>Promise['all'](_0xefbcc6['map'](_0x919a3f=>this['cache']['delete'](_0x919a3f))));}catch(_0x375313){console['error']('Cache\x20clea'+'r\x20error:',_0x375313);}}}class z2{constructor(_0x3798b1={}){this['cacheManag'+'er']=new N2(_0x3798b1['cache']),this['retryCount']=_0x3798b1['retryCount']||0x25f*0xc+-0x6b*-0xb+-0x1*0x210a,this['retryDelay']=_0x3798b1['retryDelay']||-0x8d0+0x250e+-0x26f*0xa;}async['fetch'](_0x5dcd6a,_0x5b18fc={}){const {useCache:_0x552d7b=!(0x192+-0x1*0x1ddd+0x1c4b),forceRefresh:_0xeea208=!(-0x1666+-0x25b6+0x577*0xb),..._0x52680a}=_0x5b18fc;if(_0xeea208&&await this['cacheManag'+'er']['delete'](_0x5dcd6a),_0x552d7b){const _0x4e9b13=await this['cacheManag'+'er']['get'](_0x5dcd6a);if(_0x4e9b13)return _0x4e9b13;}let _0x169c03;for(let _0x401fc3=-0x2d*0x91+-0x1*-0x2539+-0x4*0x2ef;_0x401fc3<this['retryCount'];_0x401fc3++)try{const _0xf83d10=await fetch(_0x5dcd6a,_0x52680a);if(!_0xf83d10['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0xf83d10['status']);return _0x552d7b&&await this['cacheManag'+'er']['set'](_0x5dcd6a,_0xf83d10['clone']()),_0xf83d10;}catch(_0x64a929){_0x169c03=_0x64a929,_0x401fc3<this['retryCount']-(-0x1f2a+0x4*-0x708+0x161*0x2b)&&await new Promise(_0x4062f3=>setTimeout(_0x4062f3,this['retryDelay']*(_0x401fc3+(-0xac*-0x3a+-0x33a*-0x4+-0x33df))));}throw _0x169c03;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}}const U2=new z2(),Vg=new Uint8Array([-0x65*0x61+-0x1118+0xb29*0x5,-0x1d8b+0x7dd+0x161a,0x1c5*0x8+-0x1*-0x25d9+-0x3388,-0x2*-0xba3+-0x90*0x17+0x1*-0xa4c]),Gg=new Uint8Array([0x4b2+-0x30*0x9d+0x7a*0x34,-0x59*0x11+-0x5*-0x2b3+-0x731,0x4a*-0x1a+-0xffe+0x17f0,0x50f+-0x836*0x1+0x1*0x38b,-0x4*0x606+-0xb*-0x10d+-0x4*-0x33a,-0x13*0xc1+0x1875+-0x9ba,0x2*0x130b+0xcfb*0x3+-0x4ca2,0x4fb+0x1809+-0x1*0x1ca3,0x20fa+0xc72+0x58*-0x83,-0x1*-0x1499+-0x1e6a+0xa36,0x12ce+-0x8c*0x3e+0x2*0x7c6,-0x1f5f+0x12*-0xa6+0x2b15]),Ef=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class V2{constructor(_0x486042,_0x2e3b20){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x12d9+0x26*-0xf7+0x1281*0x3),c(this,'tail',0x7fd*-0x1+-0x1d5e+-0x255b*-0x1),(this['reader']=_0x486042,this['progressFu'+'nc']=_0x2e3b20);}async['read'](){var _0x51d951;const {value:_0x49ccdc,done:_0x4ca590}=await this['reader']['read']();if(_0x4ca590)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x49ccdc),(_0x51d951=this['progressFu'+'nc'])==null||_0x51d951['call'](this,_0x49ccdc['byteLength']);}['push'](_0x547cab){if(!this['data'])this['data']=_0x547cab,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x547cab['length'];else{const _0x5b9f82=this['tail']-this['head'],_0x11c298=_0x5b9f82+_0x547cab['length'];if(this['data']['length']>=_0x11c298)this['head']>0x65d+0x17*-0x1a3+-0x1c*-0x11e?(this['data']['copyWithin'](-0x29*-0x2e+-0x1d*-0xc+-0x8ba,this['head'],this['tail']),this['data']['set'](_0x547cab,_0x5b9f82),this['head']=-0x106f+0x8b*-0xd+0x177e,this['tail']=_0x11c298):(this['data']['set'](_0x547cab,this['tail']),this['tail']+=_0x547cab['length']);else{const _0x5b2216=new Uint8Array(_0x11c298);this['head']>0x1*0x1b61+0x1*-0x8d3+-0x128e||this['tail']<this['data']['length']?_0x5b2216['set'](this['data']['subarray'](this['head'],this['tail']),-0x1*-0x925+-0x2358+0x1a33):_0x5b2216['set'](this['data'],0x91e*0x1+0x553+-0xe71),_0x5b2216['set'](_0x547cab,_0x5b9f82),this['data']=_0x5b2216,this['view']=new DataView(this['data']['buffer']),this['head']=-0x2544+-0x1718*-0x1+0xe2c*0x1,this['tail']=_0x11c298;}}}['compact'](){this['head']>-0x8cb+-0x161+0xa2c&&(this['data']['copyWithin'](-0x2*-0x2a1+0x16e6*-0x1+0x11a4,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x3*-0xceb+-0x389*-0x2+0x1faf*0x1);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x237e22=this['view']['getInt8'](this['head']);return this['head']++,_0x237e22;}['getUint8'](){const _0x58b272=this['view']['getUint8'](this['head']);return this['head']++,_0x58b272;}['getInt16'](){const _0x6d44cf=this['view']['getInt16'](this['head'],!(-0x1e+0x901*0x3+-0x1ae5));return this['head']+=-0x1*0x25f7+0x1d1f+0x8da,_0x6d44cf;}['getUint16'](){const _0x465b69=this['view']['getUint16'](this['head'],!(0x10a7+0x1*-0x1cc2+-0x1*-0xc1b));return this['head']+=-0x10f1*0x2+0x26*-0x55+-0x2e82*-0x1,_0x465b69;}['getInt32'](){const _0x35c785=this['view']['getInt32'](this['head'],!(-0x856+0x20db+0x1885*-0x1));return this['head']+=-0x81+-0x1514+0x1599,_0x35c785;}['getUint32'](){const _0xf0bcd1=this['view']['getUint32'](this['head'],!(-0x5*-0x537+-0x1144+0x5*-0x1c3));return this['head']+=-0x1003+0x13c*0x1a+-0x1011,_0xf0bcd1;}['getFloat32'](){const _0x5c626c=this['view']['getFloat32'](this['head'],!(-0xca+-0xeec+0x1*0xfb6));return this['head']+=0xf*-0xf8+0x10*0xca+0x1ec,_0x5c626c;}['getFloat64'](){const _0x443f66=this['view']['getFloat64'](this['head'],!(0x12fa+0x19cf*-0x1+0x21*0x35));return this['head']+=0x2e*0xab+0x9c6*-0x3+-0x160,_0x443f66;}}const G2=_0x1e1440=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x4fe08b=[],_0xedb9a9=[];let _0x17983f;for(let _0x27fb53=-0xb*0x22d+0x3c9+0x1427;_0x27fb53<_0x1e1440['length'];++_0x27fb53){const _0xe7960=_0x1e1440[_0x27fb53]['split']('\x20');switch(_0xe7960[0x1*0x395+0x1*0xf3f+-0x12d4]){case'comment':_0xedb9a9['push'](_0xe7960['slice'](-0x46*-0x12+-0x319+0x1d2*-0x1)['join']('\x20'));break;case'format':_0x17983f=_0xe7960[-0x3d*0x2c+-0x1*-0xfa3+-0x526*0x1];break;case'element':_0x4fe08b['push']({'name':_0xe7960[-0x4*-0x51f+-0x1f52+0xad7],'count':parseInt(_0xe7960[0x116+-0x2249+0x1*0x2135],0x1d6d*-0x1+-0x216e+0x3ee5),'properties':[]});break;case'property':{if(!Ef['has'](_0xe7960[-0x19f0+0xa3a+0xfb7]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0xe7960[-0x1*-0x17c2+0x3*0xb1b+0x2*-0x1c89]+('\x27\x20in\x20ply\x20h'+'eader'));_0x4fe08b[_0x4fe08b['length']-(-0x13b9+0x1d46+-0x98c)]['properties']['push']({'type':_0xe7960[-0x14f4+0xc9f*0x2+0x449*-0x1],'name':_0xe7960[-0x509+0x2065+0x30a*-0x9],'storage':null,'byteSize':Ef['get'](_0xe7960[-0x1341+0x16a0*0x1+-0x35e])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0xe7960[0x10*0x24a+0x52d+0x9*-0x4a5]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x4fe08b,'format':_0x17983f,'comments':_0xedb9a9};},H2=_0x277ce1=>{const _0x5b3f11=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x2643bc=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0xde38c8=new Array(-0xf95+-0x233b+0x32fd)['fill']('')['map']((_0x168097,_0x44a591)=>'f_rest_'+_0x44a591),_0x2b97e4=()=>_0x277ce1[-0x2*0x15d+0x18af*-0x1+0x1*0x1b69]['name']==='chunk'&&_0x277ce1[0x1*-0xeaa+0x1*0x1726+-0x87c]['properties']['every']((_0x28c54b,_0x451758)=>_0x28c54b['name']===_0x5b3f11[_0x451758]&&_0x28c54b['type']==='float')&&_0x277ce1[0x5*-0x256+-0x3d*-0x45+0x261*-0x2]['name']==='vertex'&&_0x277ce1[-0x1302+0x5*-0x5c5+0xbf7*0x4]['properties']['every']((_0x3b0635,_0x356998)=>_0x3b0635['name']===_0x2643bc[_0x356998]&&_0x3b0635['type']==='uint'),_0x300ef8=()=>_0x277ce1[0x163c+-0x1a4b+-0x3*-0x15b]['name']==='sh'&&[0x2683*-0x1+-0x2*0x11b3+-0xf*-0x4ee,-0x3e6*-0x4+-0xc7*0x21+0xa27,-0x8d*-0x1+-0x1*-0xae5+0x241*-0x5]['indexOf'](_0x277ce1[-0x12+-0x164d+0x1661]['properties']['length'])!==-(-0x1839+0x20fa+-0x7*0x140)&&_0x277ce1[0x10bc+-0x833+-0x887]['properties']['every']((_0x266f59,_0x378dd0)=>_0x266f59['name']===_0xde38c8[_0x378dd0]&&_0x266f59['type']==='uchar');return _0x277ce1['length']===-0x1*0x745+0x2215*0x1+-0x1ace&&_0x2b97e4()||_0x277ce1['length']===0x2173+-0x1*-0x239a+-0x450a&&_0x2b97e4()&&_0x300ef8();},W2=_0x4a216d=>_0x4a216d['length']===-0x123c+0x2498+-0x125b&&_0x4a216d[-0x28e*-0x2+-0x1f00+0x19e4]['name']==='vertex'&&_0x4a216d[-0x3*-0x9e9+-0x9*-0x34b+-0x3b5e*0x1]['properties']['every'](_0xef0592=>_0xef0592['type']==='float'),$2=async(_0x24388d,_0x2b73a6)=>{const _0x4a4aec=new D2(),_0x4742c5=_0x2b73a6[0xde3+-0x464+-0x97f]['count'],_0x1f3b12=_0x2b73a6[-0x8*-0xef+0x1*-0x21dd+0x1a65]['properties']['length'],_0x3e9b67=_0x2b73a6[-0x1*-0x17c7+0x313*-0x5+-0x867]['count'],_0x53c5be=_0x2b73a6[-0x1e32+-0x1*0xc6f+-0x282*-0x11]['properties']['some'](_0x46fc0a=>_0x46fc0a['name']==='packed_tim'+'e'),_0x38886e=_0x10c75e=>{const _0x53f436=Math['ceil'](Math['sqrt'](_0x10c75e)),_0x1c5fd4=Math['ceil'](_0x10c75e/_0x53f436);return _0x53f436*_0x1c5fd4;};_0x4a4aec['numSplats']=_0x3e9b67,_0x4a4aec['is4D']=_0x53c5be,_0x4a4aec['chunkData']=new Float32Array(_0x4742c5*_0x1f3b12),_0x4a4aec['vertexData']=new Uint32Array(_0x38886e(_0x3e9b67)*(0x1d57+-0x1c7f+0x5*-0x2a));const _0x58b687=async(_0x30bc57,_0x370d21)=>{const _0x2c9560=new Uint8Array(_0x30bc57);let _0x5e8a42=0x257e+0x8df+-0x1*0x2e5d;for(;_0x5e8a42<_0x370d21;){for(;_0x24388d['remaining']===0x1f5b+-0x17ef+-0x76c;)await _0x24388d['read']();const _0x279006=Math['min'](_0x370d21-_0x5e8a42,_0x24388d['remaining']),_0x58fd19=_0x24388d['data'];for(let _0x3c4687=0x22bc+-0xdca+-0x14f2;_0x3c4687<_0x279006;++_0x3c4687)_0x2c9560[_0x5e8a42++]=_0x58fd19[_0x24388d['head']++];}};return await _0x58b687(_0x4a4aec['chunkData']['buffer'],_0x4742c5*_0x1f3b12*(-0xcd1*-0x3+-0x1d*-0xd7+-0x3eca)),await _0x58b687(_0x4a4aec['vertexData']['buffer'],_0x3e9b67*(0x1f*-0x112+0x6d*0x7+0x1e39)*(0x1201*0x1+-0x7b4+-0xa49*0x1)),_0x2b73a6['length']===0x705+-0x7*0x456+0x1758&&(_0x4a4aec['shData']=new Uint8Array(_0x2b73a6[-0x5*0x1d5+0x1375*-0x2+0x21*0x175]['count']*_0x2b73a6[0x1c29+0x16d*0x13+-0x373e]['properties']['length']),await _0x58b687(_0x4a4aec['shData']['buffer'],_0x4a4aec['shData']['byteLength'])),_0x4a4aec;},q2=async(_0x164b37,_0x1ccaa1)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x2cd355=_0x1ccaa1[0x1bec+-0x1857+-0x395],_0x3b75a2=_0x2cd355['properties'],_0x1e0a9f=_0x3b75a2['length'],_0xe08aa1=_0x3b75a2['map'](_0x2de491=>_0x2de491['storage']),_0x52ef5d=_0x3b75a2['reduce']((_0x327132,_0x9ee9f4)=>_0x327132+_0x9ee9f4['byteSize'],-0x889+-0xa8c+0x1315);let _0x597b42=0x1*-0x51b+-0x3d*-0x5+0x3ea,_0x1cf977;const _0x480407=()=>{const _0x5f627a=_0x164b37['data']['buffer'];(_0x1cf977==null?void(-0x6e1+0x25*0xd6+-0x83*0x2f):_0x1cf977['buffer'])!==_0x5f627a&&(_0x1cf977=new Float32Array(_0x5f627a,-0x20dd+0x137a+0xd63,_0x5f627a['byteLength']/(0x1d84*-0x1+0x1c85+-0x25*-0x7)));};for(_0x480407();_0x597b42<_0x2cd355['count'];){for(;_0x164b37['remaining']<_0x52ef5d;)await _0x164b37['read'](),_0x480407();const _0x19d369=Math['min'](_0x2cd355['count']-_0x597b42,Math['floor'](_0x164b37['remaining']/_0x52ef5d));for(let _0x211418=0xeaa+-0x159e+0x6f4;_0x211418<_0x1e0a9f;++_0x211418){const _0x47e2a1=_0xe08aa1[_0x211418];for(let _0x128423=0xef8*0x1+0x5*0xe8+-0x1a0*0xc;_0x128423<_0x19d369;++_0x128423)_0x47e2a1[_0x128423+_0x597b42]=_0x1cf977[_0x128423*_0x1e0a9f+_0x211418];}_0x597b42+=_0x19d369,_0x164b37['head']+=_0x19d369*_0x52ef5d;}return new Fa(_0x1ccaa1);},X2=async(_0x2728b2,_0x225de2)=>{for(let _0x44fb9b=0x26e*-0x1+-0x267b+0x1*0x28e9;_0x44fb9b<_0x225de2['length'];++_0x44fb9b){const _0x1c4028=_0x225de2[_0x44fb9b],_0x4bc040=_0x1c4028['properties']['reduce']((_0x530808,_0xc9cdf9)=>_0x530808+_0xc9cdf9['byteSize'],0x13cb+-0x14d1+0x106),_0xed56c7=_0x1c4028['properties']['map'](_0x56edee=>{if(_0x56edee['storage'])switch(_0x56edee['type']){case'char':return(_0x2896a4,_0x4a1f2a)=>{_0x56edee['storage'][_0x4a1f2a]=_0x2896a4['getInt8']();};case'uchar':return(_0x406ae5,_0xf504d2)=>{_0x56edee['storage'][_0xf504d2]=_0x406ae5['getUint8']();};case'short':return(_0x2002f5,_0xb96a4c)=>{_0x56edee['storage'][_0xb96a4c]=_0x2002f5['getInt16']();};case'ushort':return(_0x58313d,_0x380757)=>{_0x56edee['storage'][_0x380757]=_0x58313d['getUint16']();};case'int':return(_0x23cf11,_0x183921)=>{_0x56edee['storage'][_0x183921]=_0x23cf11['getInt32']();};case'uint':return(_0x5b3c5c,_0x2680f3)=>{_0x56edee['storage'][_0x2680f3]=_0x5b3c5c['getUint32']();};case'float':return(_0x4bd195,_0x489ce3)=>{_0x56edee['storage'][_0x489ce3]=_0x4bd195['getFloat32']();};case'double':return(_0x5a0521,_0x5b02ef)=>{_0x56edee['storage'][_0x5b02ef]=_0x5a0521['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x56edee['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x2e47c6=>{_0x2e47c6['head']+=_0x56edee['byteSize'];};});let _0x3adb9c=0x1d76+0x32b+-0x20a1*0x1;for(;_0x3adb9c<_0x1c4028['count'];){for(;_0x2728b2['remaining']<_0x4bc040;)await _0x2728b2['read']();const _0x3b507f=Math['min'](_0x1c4028['count']-_0x3adb9c,Math['floor'](_0x2728b2['remaining']/_0x4bc040));for(let _0x1c19ca=-0x2*-0x6bb+-0x47*0x55+0xa1d;_0x1c19ca<_0x3b507f;++_0x1c19ca){for(let _0x315ce8=-0x15b6+0x74b*-0x1+-0x1d01*-0x1;_0x315ce8<_0x1c4028['properties']['length'];++_0x315ce8)_0xed56c7[_0x315ce8](_0x2728b2,_0x3adb9c);_0x3adb9c++;}}}return new Fa(_0x225de2);},j2=async(_0x8546b5,_0x42b1a4=null,_0x5eee8b=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x307d51=(_0x1ebf04,_0x146db1)=>{const _0x5accc2=_0x1ebf04['length']-_0x146db1['length'];let _0x3b36f9,_0x594303;for(_0x3b36f9=-0xa7+-0x1b40+-0x3*-0x94d;_0x3b36f9<=_0x5accc2;++_0x3b36f9){for(_0x594303=-0x1f5a+-0x802+0x275c;_0x594303<_0x146db1['length']&&_0x1ebf04[_0x3b36f9+_0x594303]===_0x146db1[_0x594303];++_0x594303);if(_0x594303===_0x146db1['length'])return _0x3b36f9;}return-(0x14f3*-0x1+-0x7f*-0x4+0x4*0x4be);},_0x2d116f=(_0x46e95d,_0x4b8b37)=>{if(_0x46e95d['length']<_0x4b8b37['length'])return!(-0x21dc+0xd61+0x147c);for(let _0xfa5952=0x1377+-0x170e+-0x1*-0x397;_0xfa5952<_0x4b8b37['length'];++_0xfa5952)if(_0x46e95d[_0xfa5952]!==_0x4b8b37[_0xfa5952])return!(-0xb3f+0x2160+0x8*-0x2c4);return!(0x12*-0xee+-0x26bd+0x50b*0xb);},_0x114e4d=new V2(_0x8546b5,_0x5eee8b);let _0x5c296a;for(;;){if(await _0x114e4d['read'](),_0x114e4d['tail']>=Vg['length']&&!_0x2d116f(_0x114e4d['data'],Vg))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x5c296a=_0x307d51(_0x114e4d['data'],Gg),_0x5c296a!==-(0x105c+0x368*-0x8+-0x1*-0xae5))break;}const _0x40cc52=new TextDecoder('ascii')['decode'](_0x114e4d['data']['subarray'](-0x8*0x184+-0x4*0x1b1+0x12e4,_0x5c296a))['split']('\x0a'),{elements:_0x2e6788,format:_0x11a5c5,comments:_0x9bc3b2}=G2(_0x40cc52);if(_0x11a5c5!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x114e4d['head']=_0x5c296a+Gg['length'],_0x114e4d['compact'](),{'data':await((async()=>H2(_0x2e6788)?await $2(_0x114e4d,_0x2e6788):(_0x2e6788['forEach'](_0x15a349=>{_0x15a349['properties']['forEach'](_0xe982a7=>{const _0x2bc9f1=Ef['get'](_0xe982a7['type']);if(_0x2bc9f1){const _0x9f7e70=!_0x42b1a4||_0x42b1a4(_0xe982a7['name'])?new _0x2bc9f1(_0x15a349['count']):null;_0xe982a7['storage']=_0x9f7e70;}});}),W2(_0x2e6788)?await q2(_0x114e4d,_0x2e6788):await X2(_0x114e4d,_0x2e6788)))()),'comments':_0x9bc3b2};},Y2=_0x4b1f23=>!(-0x692+0x7f*0x11+-0x1dd);class K2{constructor(_0x381f1c,_0x2078a0,_0x13f261){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x381f1c,this['assets']=_0x2078a0,this['maxRetries']=_0x13f261,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0xa9+0x52a+0x1*-0x481);}async['load'](_0x443fef,_0x5ed232,_0x1ed20c){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x443fef['load']['includes'](',')?this['urlList']=_0x443fef['load']['split'](','):this['urlList']['push'](_0x443fef['load']);const _0x2f518d=_0x1ed20c['data']['loadAllSeq']?this['urlList']['length']:0x21ed+0x22b4*0x1+-0x18*0x2dc,_0x4df416=_0x1ed20c['data']['timeOption'],_0x4736d4=_0x1ed20c['data']['events'];for(let _0x47b40e=0xa1*-0x1+-0x2511+-0x1*-0x25b2;_0x47b40e<_0x2f518d;_0x47b40e++)await this['loadGsplat'+'Data'](this['urlList'],_0x5ed232,_0x1ed20c,_0x47b40e,_0x4df416,_0x4736d4,_0x2f518d);_0x4736d4['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0xc4a647,_0x140d3f,_0x1282a7,_0x39b0d7,_0x3309ef,_0x48de9b,_0xd9a1c3){var _0x268f54;const _0x115fa9=_0xc4a647[_0x39b0d7]['trim']();try{const _0x1c3715=await U2['fetch'](_0x115fa9);if(!_0x1c3715||!_0x1c3715['body'])_0x140d3f('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x3f43c0=parseInt(_0x1c3715['headers']['get']('content-le'+'ngth')??'0',0x1d53+-0x2697+0x3*0x31a),{data:_0x189f95,comments:_0x41a8f3}=await j2(_0x1c3715['body']['getReader'](),_0x1282a7['data']['elementFil'+'ter']??Y2,_0x37b84b=>{this['totalRecei'+'ved']+=_0x37b84b,_0x1282a7&&_0x48de9b['fire']('progress',this['totalRecei'+'ved'],_0x3f43c0*_0xd9a1c3);});_0x189f95['isCompress'+'ed']||_0x1282a7['data']['reorder'],this['gsplatReso'+'urce']&&((_0x268f54=this['gsplatReso'+'urce'])!=null&&_0x268f54['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x189f95['isCompress'+'ed']&&_0x1282a7['data']['decompress']?await _0x189f95['decompress']():_0x189f95,_0x3309ef,_0x39b0d7):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new k2(this['device'],_0x189f95['isCompress'+'ed']&&_0x1282a7['data']['decompress']?await _0x189f95['decompress']():_0x189f95,_0x41a8f3),this['gsplatReso'+'urce']['timeOption']=_0x3309ef),_0x140d3f(null,this['gsplatReso'+'urce']);}}catch(_0x33bf83){_0x140d3f(_0x33bf83,null);}}['open'](_0x148ba3,_0xee7c1){return _0xee7c1;}}class Z2 extends Ge{constructor(_0x2bb618){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x2bb618,'gsplat'),this['parser']=new K2(_0x2bb618['graphicsDe'+'vice'],_0x2bb618['assets'],0xf2d+-0x535+-0x9f5);}['load'](_0x46e14f,_0x4081c8,_0x369fe5){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x46e14f=='string'&&(_0x46e14f={'load':_0x46e14f,'original':_0x46e14f}),this['parser']['load'](_0x46e14f,_0x4081c8,_0x369fe5);}['open'](_0x3ae614,_0x515533,_0x56afa5){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x3ae614,_0x515533,_0x56afa5);}}class Cf{static['setCompres'+'sedPRS'](_0x4a956f,_0x3c607f,_0x4d8358){const _0x5f50a2=_0x4d8358['singleVecs'];let _0x185a9c,_0x21a6ac;const _0x3da85e=_0x3c607f['___1'];_0x3da85e||(_0x185a9c=_0x4d8358['tripleVecs'],_0x21a6ac=_0x3c607f['___2']);let _0x1ed314=_0x3da85e?_0x3da85e[-0xd57+0x2648+-0x18f1]:_0x185a9c[_0x21a6ac];_0x4a956f['setLocalPo'+'sition'](_0x5f50a2[_0x1ed314],_0x5f50a2[_0x1ed314+(0xe*0xcf+-0x12a3+0x752)],_0x5f50a2[_0x1ed314+(0x25c3+-0x13f*-0xa+-0x3237)]),_0x1ed314=_0x3da85e?_0x3da85e[0x1778+0x1317+0x1a*-0x1a3]:_0x185a9c[_0x21a6ac+(0x2049+-0x1*0x17de+-0x86a*0x1)],_0x4a956f['setLocalEu'+'lerAngles'](_0x5f50a2[_0x1ed314],_0x5f50a2[_0x1ed314+(0x13d5+0xc*0x1a+0x704*-0x3)],_0x5f50a2[_0x1ed314+(-0x1*-0x13e1+0x1997+-0x2d76)]),_0x1ed314=_0x3da85e?_0x3da85e[-0x8f7+0x7c3*0x5+-0x1dd6]:_0x185a9c[_0x21a6ac+(-0x22b1+-0x1f7f*-0x1+0xcd*0x4)],_0x4a956f['setLocalSc'+'ale'](_0x5f50a2[_0x1ed314],_0x5f50a2[_0x1ed314+(-0x22b6+0x9*-0x15e+0x2f05)],_0x5f50a2[_0x1ed314+(0x197a+-0x1*0xa00+-0x7bc*0x2)]);}static['oneCharToK'+'ey'](_0x37d724,_0x298477){const _0x23dcf5=_0x37d724['charCodeAt'](0x21ca+0x44*0x5c+0x2*-0x1d1d)-_0x298477['fieldFirst'+'Code'];return _0x298477['fieldArray'][_0x23dcf5];}static['multCharTo'+'Key'](_0x30afe5,_0x154244){let _0x4bb3af=0x1e4*0x10+0x5dd+-0x241d;for(let _0x4a67ca=0x10c8+-0xd8d+-0x33b;_0x4a67ca<_0x30afe5['length'];_0x4a67ca++)_0x4bb3af=_0x4bb3af*_0x154244['fieldCodeB'+'ase']+_0x30afe5['charCodeAt'](_0x4a67ca)-_0x154244['fieldFirst'+'Code'];return _0x154244['fieldArray'][_0x4bb3af];}}class oc{constructor(_0x56d2ad,_0x2d49fe){this['_node']=_0x56d2ad,this['_data']=_0x2d49fe;}['run'](){const _0x3321bf=Object['prototype']['toString']['call'](this['_node']);return _0x3321bf==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x3321bf==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x7343b0){let _0x31eefc=_0x7343b0;const _0x4e72e7=_0x7343b0['length'];_0x4e72e7===-0x1*0x89e+0x243*0x2+0x419?_0x31eefc=Cf['oneCharToK'+'ey'](_0x7343b0,this['_data']):_0x4e72e7===-0x1d11+-0x64f+-0x50e*-0x7&&(_0x31eefc=Cf['multCharTo'+'Key'](_0x7343b0,this['_data'])),this['_result'][_0x31eefc]=new oc(this['_node'][_0x7343b0],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x436024){const _0x256553=new oc(_0x436024,this['_data'])['run']();this['_result']['push'](_0x256553);}}class jp{constructor(_0x340871,_0x1bb40e){this['_app']=_0x340871,this['_isTemplat'+'e']=_0x1bb40e;}['parse'](_0x5daceb){const _0x33ab50={};let _0x27e914=null;const _0x127213=_0x5daceb['compressed'+'Format'];_0x127213&&!_0x5daceb['entDecompr'+'essed']&&(_0x5daceb['entDecompr'+'essed']=!(-0x2*0xbb6+0xd53+0x5*0x205),_0x5daceb['entities']=new oc(_0x5daceb['entities'],_0x127213)['run']());for(const _0x527d9d in _0x5daceb['entities']){const _0x15096a=_0x5daceb['entities'][_0x527d9d],_0x248b55=this['_createEnt'+'ity'](_0x15096a,_0x127213);_0x33ab50[_0x527d9d]=_0x248b55,_0x15096a['parent']===null&&(_0x27e914=_0x248b55);}for(const _0x4f47ea in _0x5daceb['entities']){const _0x500683=_0x33ab50[_0x4f47ea],_0x7ab133=_0x5daceb['entities'][_0x4f47ea]['children'],_0x4152a6=_0x7ab133['length'];for(let _0x5e9bf1=0x1336*0x2+-0x621+-0x204b;_0x5e9bf1<_0x4152a6;_0x5e9bf1++){const _0x4eec55=_0x33ab50[_0x7ab133[_0x5e9bf1]];_0x4eec55&&_0x500683['addChild'](_0x4eec55);}}return this['_openCompo'+'nentData'](_0x27e914,_0x5daceb['entities']),_0x27e914;}['_createEnt'+'ity'](_0x195e5f,_0x5b39e1){const _0x8f8856=new je(_0x195e5f['name'],this['_app']);if(_0x8f8856['setGuid'](_0x195e5f['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x8f8856,_0x195e5f,_0x5b39e1),_0x8f8856['_enabled']=_0x195e5f['enabled']??!(0x3*0x6d9+0x1e03+-0x2cf*0x12),this['_isTemplat'+'e']?_0x8f8856['_template']=!(0xa8f+0x21d9+-0x58d*0x8):_0x8f8856['_enabledIn'+'Hierarchy']=_0x8f8856['_enabled'],_0x8f8856['template']=_0x195e5f['template'],_0x195e5f['tags']){for(let _0xf23114=0x797*0x3+0x222f+-0x38f4;_0xf23114<_0x195e5f['tags']['length'];_0xf23114++)_0x8f8856['tags']['add'](_0x195e5f['tags'][_0xf23114]);}return _0x8f8856;}['_setPosRot'+'Scale'](_0xdcddbb,_0x12bc61,_0x4012d6){if(_0x4012d6)Cf['setCompres'+'sedPRS'](_0xdcddbb,_0x12bc61,_0x4012d6);else{const _0x284692=_0x12bc61['position'],_0x4b87cf=_0x12bc61['rotation'],_0x47b1ac=_0x12bc61['scale'];_0xdcddbb['setLocalPo'+'sition'](_0x284692[-0x14+-0x2*0xa47+0x14a2],_0x284692[0x2629+-0x1*0xdab+-0x187d],_0x284692[0xd7c*0x1+-0x1fa*-0x7+-0x1b50]),_0xdcddbb['setLocalEu'+'lerAngles'](_0x4b87cf[-0x1b83*-0x1+-0x23dd+-0x85a*-0x1],_0x4b87cf[0x25d3+0xb*-0x2a5+0xf*-0x95],_0x4b87cf[0x1*0x25d9+-0x4*-0x38b+-0x3403]),_0xdcddbb['setLocalSc'+'ale'](_0x47b1ac[0x1577+0x68d+-0x1c04],_0x47b1ac[-0x74c+-0x1151+0x189e],_0x47b1ac[0x58b+-0x1*-0x22c6+0x284f*-0x1]);}}['_openCompo'+'nentData'](_0x2c0da9,_0x130b03){const _0x39892c=this['_app']['systems']['list'];let _0x2cb83c=_0x39892c['length'];const _0x2a4539=_0x130b03[_0x2c0da9['getGuid']()];for(let _0x421fd1=0xd*0xef+0x229e+-0x1*0x2ec1;_0x421fd1<_0x2cb83c;_0x421fd1++){const _0x237c21=_0x39892c[_0x421fd1],_0x3f12cf=_0x2a4539['components'][_0x237c21['id']];_0x3f12cf&&_0x237c21['addCompone'+'nt'](_0x2c0da9,_0x3f12cf);}_0x2cb83c=_0x2a4539['children']['length'];const _0x54efa2=_0x2c0da9['_children'];for(let _0x24dd55=0x1*-0x1efd+-0x21eb+0x40e8;_0x24dd55<_0x2cb83c;_0x24dd55++)_0x54efa2[_0x24dd55]?_0x54efa2[_0x24dd55]=this['_openCompo'+'nentData'](_0x54efa2[_0x24dd55],_0x130b03):b['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x2c0da9['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x2c0da9;}}class Fx{static['load'](_0x50d60a,_0xd1c2e8,_0x2b52b1){typeof _0x50d60a=='string'&&(_0x50d60a={'load':_0x50d60a,'original':_0x50d60a}),Ye['get'](_0x50d60a['load'],{'retry':_0xd1c2e8>-0xafe*-0x3+0xf84+-0x307e,'maxRetries':_0xd1c2e8},(_0x4d5c3f,_0x3b3fbc)=>{if(!_0x4d5c3f)_0x2b52b1(_0x4d5c3f,_0x3b3fbc);else{let _0x3ae06='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x50d60a['original'];_0x4d5c3f['message']?(_0x3ae06+=':\x20'+_0x4d5c3f['message'],_0x4d5c3f['stack']&&(_0x3ae06+='\x0a'+_0x4d5c3f['stack'])):_0x3ae06+=':\x20'+_0x4d5c3f,_0x2b52b1(_0x3ae06);}});}}class Q2 extends Ge{constructor(_0x3f0595){super(_0x3f0595,'hierarchy');}['load'](_0x2a0a6e,_0x9d452e){Fx['load'](_0x2a0a6e,this['maxRetries'],_0x9d452e);}['open'](_0x323916,_0x822384){this['_app']['systems']['script']['preloading']=!(0x20a7*-0x1+-0xb3*0x34+0x4503);const _0x4d0dd1=new jp(this['_app'],!(0xcb5+-0xdd9+-0x125*-0x1))['parse'](_0x822384);return this['_app']['systems']['script']['preloading']=!(-0x13b5+-0xd*-0x223+0x1*-0x811),_0x4d0dd1;}}class J2 extends Ge{constructor(_0x4617b4){super(_0x4617b4,'html'),c(this,'decoder',null);}['load'](_0x1d0ada,_0x278e96){typeof _0x1d0ada=='string'&&(_0x1d0ada={'load':_0x1d0ada,'original':_0x1d0ada}),Ye['get'](_0x1d0ada['load'],{'retry':this['maxRetries']>0xa1*-0x17+-0xc3b*0x1+0x1ab2,'maxRetries':this['maxRetries']},(_0x2d04ed,_0x431133)=>{_0x2d04ed?_0x278e96('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x1d0ada['original']+'\x20['+_0x2d04ed+']'):_0x278e96(null,_0x431133);});}['openBinary'](_0x3fbfee){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x3fbfee);}}class eL extends Ge{constructor(_0x103414){super(_0x103414,'json'),c(this,'decoder',null);}['load'](_0x3dfe3d,_0x215ee7){typeof _0x3dfe3d=='string'&&(_0x3dfe3d={'load':_0x3dfe3d,'original':_0x3dfe3d});const _0x3e52ab={'retry':this['maxRetries']>0x1*0x194c+0x6e+-0x4a*0x59,'maxRetries':this['maxRetries']};_0x3dfe3d['load']['startsWith']('blob:')&&(_0x3e52ab['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x3dfe3d['load'],_0x3e52ab,(_0x209ce2,_0x37ca44)=>{_0x209ce2?_0x215ee7('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x3dfe3d['original']+'\x20['+_0x209ce2+']'):_0x215ee7(null,_0x37ca44);});}['openBinary'](_0x1946ee){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x1946ee));}}class tL{constructor(){this['removeInva'+'lid']=!(-0x185c+-0x3c8+-0x1*-0x1c24),this['valid']=!(0xd*0x2bd+0x1*0x1628+-0xb8d*0x5),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Vo,Bu]),'cull':this['_createEnu'+'mValidator']([vt,nn,xo,RS]),'blendType':this['_createEnu'+'mValidator']([a0,bp,Gt,hs,dn,wp,Xc,o0,l0,h0,c0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Ih,Dh,gu,DS,LS,FS,Ri])};}['setInvalid'](_0x22d605,_0x4e0a4c){this['valid']=!(0x1121+0x18ce+-0x29ee),b['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x22d605,_0x4e0a4c[_0x22d605]),this['removeInva'+'lid']&&delete _0x4e0a4c[_0x22d605];}['validate'](_0x5430ae){const _0x425c36=Da,_0x46148f=JC,_0x2e1abe=_0x5430ae['mappingFor'+'mat']==='path';for(const _0x1c5c3d in _0x5430ae){const _0x36a55b=_0x425c36[_0x1c5c3d];if(!_0x36a55b){_0x46148f[_0x1c5c3d]?delete _0x5430ae[_0x1c5c3d]:(b['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x1c5c3d),this['valid']=!(0x1642+-0xb9e+0x7*-0x185));continue;}if(_0x36a55b['startsWith']('enum')){const _0x4fea4e=_0x36a55b['split'](':')[0x5*-0x529+0x232f+-0x961];this['enumValida'+'tors'][_0x4fea4e]&&(this['enumValida'+'tors'][_0x4fea4e](_0x5430ae[_0x1c5c3d])||this['setInvalid'](_0x1c5c3d,_0x5430ae));}else{if(_0x36a55b==='number')typeof _0x5430ae[_0x1c5c3d]!='number'&&this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='boolean')typeof _0x5430ae[_0x1c5c3d]!='boolean'&&this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='string')typeof _0x5430ae[_0x1c5c3d]!='string'&&this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='vec2')_0x5430ae[_0x1c5c3d]instanceof Array&&_0x5430ae[_0x1c5c3d]['length']===-0x2633+0x8c*0x10+0x1*0x1d75||this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='rgb')_0x5430ae[_0x1c5c3d]instanceof Array&&_0x5430ae[_0x1c5c3d]['length']===-0x1f*0x101+0x3+-0x101*-0x1f||this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='texture')_0x2e1abe?typeof _0x5430ae[_0x1c5c3d]=='string'||_0x5430ae[_0x1c5c3d]===null||_0x5430ae[_0x1c5c3d]instanceof ce||this['setInvalid'](_0x1c5c3d,_0x5430ae):typeof _0x5430ae[_0x1c5c3d]=='number'||_0x5430ae[_0x1c5c3d]===null||_0x5430ae[_0x1c5c3d]instanceof ce||this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='boundingbo'+'x')_0x5430ae[_0x1c5c3d]['center']&&_0x5430ae[_0x1c5c3d]['center']instanceof Array&&_0x5430ae[_0x1c5c3d]['center']['length']===0x58a+-0x628*-0x5+-0x41*0x8f||this['setInvalid'](_0x1c5c3d,_0x5430ae),_0x5430ae[_0x1c5c3d]['halfExtent'+'s']&&_0x5430ae[_0x1c5c3d]['halfExtent'+'s']instanceof Array&&_0x5430ae[_0x1c5c3d]['halfExtent'+'s']['length']===0x2572+-0x1cee+-0x881||this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='cubemap')typeof _0x5430ae[_0x1c5c3d]=='number'||_0x5430ae[_0x1c5c3d]===null||_0x5430ae[_0x1c5c3d]===void(0x23f2+0x10b4+0x17*-0x24a)||_0x5430ae[_0x1c5c3d]instanceof ce&&_0x5430ae[_0x1c5c3d]['cubemap']||this['setInvalid'](_0x1c5c3d,_0x5430ae);else{if(_0x36a55b==='chunks'){const _0xed3466=Object['keys'](_0x5430ae[_0x1c5c3d]);for(let _0x29b5bd=-0x147f+0x1a6e+-0x5ef;_0x29b5bd<_0xed3466['length'];_0x29b5bd++)typeof _0x5430ae[_0x1c5c3d][_0xed3466[_0x29b5bd]]!='string'&&this['setInvalid'](_0xed3466[_0x29b5bd],_0x5430ae[_0x1c5c3d]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x36a55b);}}}}}}}}}}return _0x5430ae['validated']=!(-0x1*-0xb11+-0x58*-0x47+0x2379*-0x1),this['valid'];}['_createEnu'+'mValidator'](_0x5b93cf){return function(_0x39c1b4){return _0x5b93cf['indexOf'](_0x39c1b4)>=0x1*0x1be+-0x4*-0x262+-0xd*0xde;};}}class sL{constructor(){this['_validator']=null;}['parse'](_0x3354f0){const _0x4010af=this['migrate'](_0x3354f0),_0x24e93a=this['_validate'](_0x4010af),_0x440441=new _s();return this['initialize'](_0x440441,_0x24e93a),_0x440441;}['initialize'](_0x43790b,_0x45be41){_0x45be41['validated']||(_0x45be41=this['_validate'](_0x45be41)),_0x45be41['chunks']&&(_0x43790b['chunks']={..._0x45be41['chunks']});for(const _0x53938d in _0x45be41){const _0x3c8ce5=Da[_0x53938d],_0x3b5fc1=_0x45be41[_0x53938d];if(_0x3c8ce5==='vec2')_0x43790b[_0x53938d]=new W(_0x3b5fc1[0x226b+-0x1*-0x1df5+-0x4060],_0x3b5fc1[0x22ae+0x2*-0x63f+-0x162f]);else{if(_0x3c8ce5==='rgb')_0x43790b[_0x53938d]=new Y(_0x3b5fc1[-0x1*-0xccd+-0x270f+0x1a42],_0x3b5fc1[0x223*0xa+-0x265f+0x137*0xe],_0x3b5fc1[-0x934+-0x16d6+-0x1*-0x200c]);else{if(_0x3c8ce5==='texture')_0x3b5fc1 instanceof ce?_0x43790b[_0x53938d]=_0x3b5fc1:_0x43790b[_0x53938d]instanceof ce&&typeof _0x3b5fc1=='number'&&_0x3b5fc1>-0x1dc3+-0x13*0x53+0x1a2*0x16||(_0x43790b[_0x53938d]=null);else{if(_0x3c8ce5==='cubemap')_0x3b5fc1 instanceof ce?_0x43790b[_0x53938d]=_0x3b5fc1:_0x43790b[_0x53938d]instanceof ce&&typeof _0x3b5fc1=='number'&&_0x3b5fc1>0x8b*0x36+0x1*-0x1c19+-0x1*0x139||(_0x43790b[_0x53938d]=null),_0x53938d==='cubeMap'&&!_0x3b5fc1&&(_0x43790b['prefiltere'+'dCubemaps']=null);else{if(_0x3c8ce5==='boundingbo'+'x'){const _0x1330c2=new A(_0x3b5fc1['center'][0xd53+0xc*0x2ce+-0x3*0xfa9],_0x3b5fc1['center'][-0x3e*-0x5+0xa*0x224+-0x169d],_0x3b5fc1['center'][-0x1984+0x2*-0xb89+0x3098]),_0xcc084f=new A(_0x3b5fc1['halfExtent'+'s'][-0x1*-0xf25+0x105d+-0x1f82],_0x3b5fc1['halfExtent'+'s'][-0x1*0x94f+-0x2*0x36a+-0x409*-0x4],_0x3b5fc1['halfExtent'+'s'][-0x735+-0x12e8+-0x8b5*-0x3]);_0x43790b[_0x53938d]=new ve(_0x1330c2,_0xcc084f);}else _0x43790b[_0x53938d]=_0x45be41[_0x53938d];}}}}}_0x43790b['update']();}['migrate'](_0x18cf58){_0x18cf58['shader']&&delete _0x18cf58['shader'],_0x18cf58['mapping_fo'+'rmat']&&(_0x18cf58['mappingFor'+'mat']=_0x18cf58['mapping_fo'+'rmat'],delete _0x18cf58['mapping_fo'+'rmat']);let _0x5eb499;const _0x329d57=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x5eb499=-0x8*-0x4f+0x4*0x4eb+-0x1624;_0x5eb499<_0x329d57['length'];_0x5eb499++){const _0x4374e1=_0x329d57[_0x5eb499][-0x1228*-0x1+-0x2475+0x124d],_0x574f20=_0x329d57[_0x5eb499][-0xa95*0x1+-0x62f+-0x597*-0x3];_0x18cf58[_0x4374e1]!==void(0x1442+0x1ed1+0x1*-0x3313)&&(_0x18cf58[_0x574f20]===void(-0xe9*0x12+-0xa58+0x16*0x137)&&(_0x18cf58[_0x574f20]=_0x18cf58[_0x4374e1]),delete _0x18cf58[_0x4374e1]);}const _0x203cb8=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x5eb499=-0x4*-0x5b9+-0x1*0x2c9+-0x141b*0x1;_0x5eb499<_0x203cb8['length'];_0x5eb499++){const _0x418210=_0x203cb8[_0x5eb499];_0x18cf58['hasOwnProp'+'erty'](_0x418210)&&delete _0x18cf58[_0x418210];}return _0x18cf58;}['_validate'](_0x4f8b40){return _0x4f8b40['validated']||(this['_validator']||(this['_validator']=new tL()),this['_validator']['validate'](_0x4f8b40)),_0x4f8b40;}}const iL={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class rL extends Ge{constructor(_0x3d136c){super(_0x3d136c,'material'),this['_assets']=_0x3d136c['assets'],this['_device']=_0x3d136c['graphicsDe'+'vice'],this['_parser']=new sL();}['load'](_0x3f51d5,_0xff81d0){typeof _0x3f51d5=='string'&&(_0x3f51d5={'load':_0x3f51d5,'original':_0x3f51d5}),Ye['get'](_0x3f51d5['load'],{'retry':this['maxRetries']>0xa6*-0x25+-0x2096*0x1+-0x6*-0x96e,'maxRetries':this['maxRetries']},(_0x4022fe,_0x1044ad)=>{_0x4022fe?_0xff81d0&&_0xff81d0('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x3f51d5['original']+'\x20['+_0x4022fe+']'):_0xff81d0&&(_0x1044ad['_engine']=!(-0x1c7f+-0x1ae2+0x3761),_0xff81d0(null,_0x1044ad));});}['open'](_0x3a3abd,_0x1daab5){const _0x4458c7=this['_parser']['parse'](_0x1daab5);return _0x1daab5['_engine']&&(_0x4458c7['_data']=_0x1daab5,delete _0x1daab5['_engine']),_0x4458c7;}['patch'](_0x26b99b,_0x8f0d88){_0x26b99b['resource']['_data']&&(_0x26b99b['_data']=_0x26b99b['resource']['_data'],delete _0x26b99b['resource']['_data']),_0x26b99b['data']['name']=_0x26b99b['name'],_0x26b99b['resource']['name']=_0x26b99b['name'],this['_bindAndAs'+'signAssets'](_0x26b99b,_0x8f0d88),_0x26b99b['off']('unload',this['_onAssetUn'+'load'],this),_0x26b99b['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x4f3d27){delete _0x4f3d27['data']['parameters'],delete _0x4f3d27['data']['chunks'],delete _0x4f3d27['data']['name'];}['_assignTex'+'ture'](_0x1b18ea,_0x223315,_0x58b50d){_0x223315['resource'][_0x1b18ea]=_0x58b50d;}['_getPlaceh'+'olderTextu'+'re'](_0x6ffb73){const _0x55d207=iL[_0x6ffb73];return b['assert'](_0x55d207,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x6ffb73),tn(this['_device'],_0x55d207);}['_assignPla'+'ceholderTe'+'xture'](_0x10c44e,_0x2b11d3){_0x2b11d3['resource'][_0x10c44e]=this['_getPlaceh'+'olderTextu'+'re'](_0x10c44e);}['_onTexture'+'Load'](_0x3ca1a9,_0x1a4f39,_0x33681f){this['_assignTex'+'ture'](_0x3ca1a9,_0x1a4f39,_0x33681f['resource']),_0x1a4f39['resource']['update']();}['_onTexture'+'Add'](_0x1da0d1,_0x2034ee,_0x202bda){this['_assets']['load'](_0x202bda);}['_onTexture'+'RemoveOrUn'+'load'](_0x333843,_0x33b7cd,_0x502f04){const _0x3cfbae=_0x33b7cd['resource'];_0x3cfbae&&_0x33b7cd['resource'][_0x333843]===_0x502f04['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x333843,_0x33b7cd),_0x3cfbae['update']());}['_assignCub'+'emap'](_0x21e61a,_0x5e8395,_0x1ba66c){if(_0x5e8395['resource'][_0x21e61a]=_0x1ba66c[-0x257f+0x3d9*0x6+0xe69],_0x21e61a==='cubeMap'){const _0x1ce0bf=_0x1ba66c['slice'](-0x19de+-0x12c*0x19+0x372b);_0x1ce0bf['every'](_0x34360d=>_0x34360d)?_0x5e8395['resource']['prefiltere'+'dCubemaps']=_0x1ce0bf:_0x1ce0bf[-0x1019+0x52e+0xaeb]&&(_0x5e8395['resource']['envAtlas']=_0x1ce0bf[-0xd6+0x1*-0x1b78+0x1c4e]);}}['_onCubemap'+'Load'](_0x5035e4,_0x38fac2,_0x5c5fe8){this['_assignCub'+'emap'](_0x5035e4,_0x38fac2,_0x5c5fe8['resources']),this['_parser']['initialize'](_0x38fac2['resource'],_0x38fac2['data']);}['_onCubemap'+'Add'](_0x53b8a8,_0x1bafb3,_0x21147b){this['_assets']['load'](_0x21147b);}['_onCubemap'+'RemoveOrUn'+'load'](_0x1031a7,_0x579267,_0x2b06a4){const _0x3d2ce4=_0x579267['resource'];_0x579267['data']['prefiltere'+'dCubeMap12'+'8']===_0x2b06a4['resources'][0x9*0x6c+0x155+-0x520]&&(this['_assignCub'+'emap'](_0x1031a7,_0x579267,[null,null,null,null,null,null,null]),_0x3d2ce4['update']());}['_bindAndAs'+'signAssets'](_0x282fcc,_0x5d5972){const _0x239bc8=this['_parser']['migrate'](_0x282fcc['data']),_0x5d036e=_0x282fcc['resource'],_0x3072af=_0x239bc8['mappingFor'+'mat']==='path',_0x4b2fbf=ed;let _0x7a302d,_0x2d50e3,_0x4cf4d4;for(_0x7a302d=0x981*0x1+0x43*-0x5e+0xf19;_0x7a302d<_0x4b2fbf['length'];_0x7a302d++){_0x2d50e3=_0x4b2fbf[_0x7a302d],_0x4cf4d4=_0x5d036e['_assetRefe'+'rences'][_0x2d50e3];const _0x346699=_0x239bc8[_0x2d50e3],_0x3881e9=_0x5d036e[_0x2d50e3],_0x4489c3=_0x3881e9===this['_getPlaceh'+'olderTextu'+'re'](_0x2d50e3),_0x581669=_0x239bc8['validated'];_0x346699&&(!_0x3881e9||!_0x581669||_0x4489c3)?(_0x4cf4d4||(_0x4cf4d4=new qo(_0x2d50e3,_0x282fcc,_0x5d5972,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x5d036e['_assetRefe'+'rences'][_0x2d50e3]=_0x4cf4d4),_0x3072af?_0x4cf4d4['url']=_0x282fcc['getAbsolut'+'eUrl'](_0x346699):_0x4cf4d4['id']=_0x346699,_0x4cf4d4['asset']&&(_0x4cf4d4['asset']['resource']?this['_assignTex'+'ture'](_0x2d50e3,_0x282fcc,_0x4cf4d4['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x2d50e3,_0x282fcc),_0x5d5972['load'](_0x4cf4d4['asset']))):_0x4cf4d4&&(_0x3072af?_0x4cf4d4['url']=null:_0x4cf4d4['id']=null);}const _0xe5b2e6=Np;for(_0x7a302d=-0x2*-0x1381+-0x1*0x1f4d+-0x7b5;_0x7a302d<_0xe5b2e6['length'];_0x7a302d++)_0x2d50e3=_0xe5b2e6[_0x7a302d],_0x4cf4d4=_0x5d036e['_assetRefe'+'rences'][_0x2d50e3],_0x239bc8[_0x2d50e3]&&!_0x282fcc['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x4cf4d4||(_0x4cf4d4=new qo(_0x2d50e3,_0x282fcc,_0x5d5972,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x5d036e['_assetRefe'+'rences'][_0x2d50e3]=_0x4cf4d4),_0x3072af?_0x4cf4d4['url']=_0x239bc8[_0x2d50e3]:_0x4cf4d4['id']=_0x239bc8[_0x2d50e3],_0x4cf4d4['asset']&&(_0x4cf4d4['asset']['loaded']&&this['_assignCub'+'emap'](_0x2d50e3,_0x282fcc,_0x4cf4d4['asset']['resources']),_0x5d5972['load'](_0x4cf4d4['asset'])));this['_parser']['initialize'](_0x5d036e,_0x239bc8);}}class nL{constructor(_0x15ff8e){this['_device']=_0x15ff8e['device'],this['_defaultMa'+'terial']=_0x15ff8e['defaultMat'+'erial'],this['_assets']=_0x15ff8e['assets'];}['parse'](_0x469f45,_0x2c3187,_0x2a39db){ac['parse']('filename.g'+'lb','',_0x469f45,this['_device'],this['_assets'],(_0x2a39db==null?void(-0x1947*-0x1+0xb*-0x1d6+-0x1*0x515):_0x2a39db['options'])??{},(_0x46c515,_0x5294fc)=>{if(_0x46c515)_0x2c3187(_0x46c515);else{const _0x21bbb=ir['createMode'+'l'](_0x5294fc,this['_defaultMa'+'terial']);_0x5294fc['destroy'](),_0x2c3187(null,_0x21bbb);}});}}const aL={'points':Dc,'lines':Lc,'lineloop':Py,'linestrip':Ry,'triangles':Fs,'trianglestrip':lr,'trianglefan':Kr},oL={'int8':Fc,'uint8':Zr,'int16':kc,'uint16':rl,'int32':Ny,'uint32':Oo,'float32':Re};class lL{constructor(_0x58519e){this['_device']=_0x58519e['device'],this['_defaultMa'+'terial']=_0x58519e['defaultMat'+'erial'];}['parse'](_0x4f18c1,_0x497575){const _0x16e2db=_0x4f18c1['model'];if(!_0x16e2db){_0x497575(null,null);return;}if(_0x16e2db['version']<=0x1bfc+-0x1bc*-0x7+-0x281f){_0x497575('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x271645=this['_parseNode'+'s'](_0x4f18c1),_0x1ebd43=this['_parseSkin'+'s'](_0x4f18c1,_0x271645),_0x35a8f9=this['_parseVert'+'exBuffers'](_0x4f18c1),_0x3d1ad0=this['_parseInde'+'xBuffers'](_0x4f18c1,_0x35a8f9),_0x5357ff=this['_parseMorp'+'hs'](_0x4f18c1,_0x271645,_0x35a8f9),_0x36876a=this['_parseMesh'+'es'](_0x4f18c1,_0x1ebd43['skins'],_0x5357ff['morphs'],_0x35a8f9,_0x3d1ad0['buffer'],_0x3d1ad0['data']),_0x287cec=this['_parseMesh'+'Instances'](_0x4f18c1,_0x271645,_0x36876a,_0x1ebd43['skins'],_0x1ebd43['instances'],_0x5357ff['morphs'],_0x5357ff['instances']),_0x5f306b=new Ui();_0x5f306b['graph']=_0x271645[0x3cf+-0x31*0x7f+0x52*0x40],_0x5f306b['meshInstan'+'ces']=_0x287cec,_0x5f306b['skinInstan'+'ces']=_0x1ebd43['instances'],_0x5f306b['morphInsta'+'nces']=_0x5357ff['instances'],_0x5f306b['getGraph']()['syncHierar'+'chy'](),_0x497575(null,_0x5f306b);}['_parseNode'+'s'](_0xc102fb){const _0x45452d=_0xc102fb['model'],_0x50a709=[];let _0x4f50dc;for(_0x4f50dc=-0x26fb+0x24c1*0x1+0x23a;_0x4f50dc<_0x45452d['nodes']['length'];_0x4f50dc++){const _0x247142=_0x45452d['nodes'][_0x4f50dc],_0x4be315=new Oe(_0x247142['name']);_0x4be315['setLocalPo'+'sition'](_0x247142['position'][-0x8b7+0x1*0x25b6+-0x1cff],_0x247142['position'][0x2471*0x1+0x3dd+0x21f*-0x13],_0x247142['position'][-0x3*-0x500+0xb7*0x13+0x85*-0x37]),_0x4be315['setLocalEu'+'lerAngles'](_0x247142['rotation'][-0x3f+-0x1*0x16c6+0x1705],_0x247142['rotation'][-0x22ac*0x1+0x4b8*-0x6+0x3efd],_0x247142['rotation'][-0x128d+0xcb5+0x5da]),_0x4be315['setLocalSc'+'ale'](_0x247142['scale'][-0x14ab+0x16c0+-0x215],_0x247142['scale'][-0x25c+0x13*-0x65+0x9dc],_0x247142['scale'][0x2075+0x13*0x17f+-0x3ce0]),_0x4be315['scaleCompe'+'nsation']=!!_0x247142['scaleCompe'+'nsation'],_0x50a709['push'](_0x4be315);}for(_0x4f50dc=-0x1cc4+0x17*-0x16f+0x3dbe*0x1;_0x4f50dc<_0x45452d['parents']['length'];_0x4f50dc++)_0x50a709[_0x45452d['parents'][_0x4f50dc]]['addChild'](_0x50a709[_0x4f50dc]);return _0x50a709;}['_parseSkin'+'s'](_0x2878fa,_0xc55d7b){const _0x2844a2=_0x2878fa['model'],_0x5a1a33=[],_0xb28b11=[];let _0x113e03,_0x3f4261;for(_0x113e03=-0x5f*0x1e+0x223b+-0x1719;_0x113e03<_0x2844a2['skins']['length'];_0x113e03++){const _0x4d5eb8=_0x2844a2['skins'][_0x113e03],_0x30d7f5=[];for(_0x3f4261=-0x1325+-0x826+0x1b4b;_0x3f4261<_0x4d5eb8['inverseBin'+'dMatrices']['length'];_0x3f4261++){const _0x4d5a99=_0x4d5eb8['inverseBin'+'dMatrices'][_0x3f4261];_0x30d7f5[_0x3f4261]=new q()['set'](_0x4d5a99);}const _0x422fbf=new z0(this['_device'],_0x30d7f5,_0x4d5eb8['boneNames']);_0x5a1a33['push'](_0x422fbf);const _0x3ad8cd=new hl(_0x422fbf),_0x1f972a=[];for(_0x3f4261=-0x1d96+0xe7b+0xf1b;_0x3f4261<_0x422fbf['boneNames']['length'];_0x3f4261++){const _0x5e1761=_0x422fbf['boneNames'][_0x3f4261],_0x4e646a=_0xc55d7b[-0x299+-0x1cd2+-0x1f6b*-0x1]['findByName'](_0x5e1761);_0x1f972a['push'](_0x4e646a);}_0x3ad8cd['bones']=_0x1f972a,_0xb28b11['push'](_0x3ad8cd);}return{'skins':_0x5a1a33,'instances':_0xb28b11};}['_getMorphV'+'ertexCount'](_0x490d47,_0x4a7b75,_0x58d9e4){for(let _0x58cf8d=-0x21c9+0x2503+-0x33a;_0x58cf8d<_0x490d47['meshes']['length'];_0x58cf8d++){const _0x3d7c8d=_0x490d47['meshes'][_0x58cf8d];if(_0x3d7c8d['morph']===_0x4a7b75)return _0x58d9e4[_0x3d7c8d['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x2d4db5,_0x546c68,_0x45bbe0){const _0x139f54=_0x2d4db5['model'],_0x4b3a6e=[],_0x26b5b7=[];let _0x28d227,_0x4293cd,_0x57b191,_0x150f22,_0x23f7ee,_0x446b69;if(_0x139f54['morphs']){const _0x4c404a=function(_0x55b720,_0x3d58eb,_0x5efa98){const _0x372c36=new Float32Array(_0x5efa98*(-0x2670+0x1568+0x110b));for(let _0xda4ac6=0x206d+-0x1a28+-0x645;_0xda4ac6<_0x3d58eb['length'];_0xda4ac6++){const _0x5ecabc=_0x3d58eb[_0xda4ac6]*(-0xb3*-0x32+0x363*0x5+-0x33e2);_0x372c36[_0x5ecabc]=_0x55b720[_0xda4ac6*(-0x16+0x8d7+-0x6*0x175)],_0x372c36[_0x5ecabc+(-0x205a*-0x1+0x1efd+0x79*-0x86)]=_0x55b720[_0xda4ac6*(-0x1*0x37a+-0x10*0x109+-0x1d*-0xb1)+(-0x1e3*0x7+0x45*0x7f+0x1*-0x1505)],_0x372c36[_0x5ecabc+(0x4*-0x4c8+0xc34+0x6ee)]=_0x55b720[_0xda4ac6*(-0x1eb*-0x9+0xf0e*0x1+-0x2*0x1027)+(0x1289+0x7*-0x3b9+-0x1*-0x788)];}return _0x372c36;};for(_0x28d227=-0x3*0x99d+-0xa9a+-0x1*-0x2771;_0x28d227<_0x139f54['morphs']['length'];_0x28d227++){for(_0x150f22=_0x139f54['morphs'][_0x28d227]['targets'],_0x446b69=[],_0x57b191=this['_getMorphV'+'ertexCount'](_0x139f54,_0x28d227,_0x45bbe0),_0x4293cd=0x4d9+0xb3*0x28+-0x20d1;_0x4293cd<_0x150f22['length'];_0x4293cd++){const _0x59cc2b=_0x150f22[_0x4293cd]['aabb'],_0x12fe6e=_0x59cc2b['min'],_0x4263ed=_0x59cc2b['max'],_0x3a19bb=new ve(new A((_0x4263ed[-0x239*0xd+-0xe2a+0x2b0f]+_0x12fe6e[0xe67*-0x2+-0xcf7+0x29c5])*(-0x25a9+-0x6e*-0x4+0x23f1+0.5),(_0x4263ed[-0x47*-0x18+0x18a*-0x1+0x77*-0xb]+_0x12fe6e[0x3*-0x5db+0x1fa6+-0xe14])*(0x1b9d+0x5*0x518+0x7f*-0x6b+0.5),(_0x4263ed[0x2*-0x279+0x1*-0x21d+-0x1b*-0x43]+_0x12fe6e[0x1d84+-0x1234+-0xb4e])*(0x1048*-0x1+-0xc*-0xf1+0x1d*0x2c+0.5)),new A((_0x4263ed[0xef8+0x471+0x1369*-0x1]-_0x12fe6e[-0x267d+0xb65*-0x2+0x3d47])*(-0x11b*0x11+-0x1e60+0x133*0x29+0.5),(_0x4263ed[-0x240+-0x1959+0x1b9a]-_0x12fe6e[-0x248f+-0x508+0x58*0x79])*(-0x1*0x1313+0x1a7*-0xd+0x288e+0.5),(_0x4263ed[-0x737+-0x1b06+-0x31d*-0xb]-_0x12fe6e[-0x20fc*-0x1+-0xbc3+-0x1537])*(-0x1935+0x8*0x4d1+-0xd53+0.5))),_0x2c99a7=_0x150f22[_0x4293cd]['indices'];let _0x2eef28=_0x150f22[_0x4293cd]['deltaPosit'+'ions'],_0x146b61=_0x150f22[_0x4293cd]['deltaNorma'+'ls'];_0x2c99a7&&(_0x2eef28=_0x4c404a(_0x2eef28,_0x2c99a7,_0x57b191),_0x146b61=_0x4c404a(_0x146b61,_0x2c99a7,_0x57b191)),_0x23f7ee=new sd({'deltaPositions':_0x2eef28,'deltaNormals':_0x146b61,'name':_0x150f22[_0x4293cd]['name'],'aabb':_0x3a19bb}),_0x446b69['push'](_0x23f7ee);}const _0x1819a1=new k0(_0x446b69,this['_device']);_0x4b3a6e['push'](_0x1819a1);const _0x86dc2b=new mn(_0x1819a1);_0x26b5b7['push'](_0x86dc2b);}}return{'morphs':_0x4b3a6e,'instances':_0x26b5b7};}['_parseVert'+'exBuffers'](_0x1bdf22){const _0x106a1a=_0x1bdf22['model'],_0x1f6a2d=[],_0x5930cb={'position':Xe,'normal':ss,'tangent':si,'blendWeight':ei,'blendIndices':Jt,'color':It,'texCoord0':ds,'texCoord1':yn,'texCoord2':Qo,'texCoord3':Jo,'texCoord4':el,'texCoord5':tl,'texCoord6':sl,'texCoord7':il};for(let _0x50a3c3=-0x2304+-0x1*-0x209b+0x269;_0x50a3c3<_0x106a1a['vertices']['length'];_0x50a3c3++){const _0x126c60=_0x106a1a['vertices'][_0x50a3c3],_0x105b92=[];for(const _0x5f1676 in _0x126c60){const _0x53df2c=_0x126c60[_0x5f1676];_0x105b92['push']({'semantic':_0x5930cb[_0x5f1676],'components':_0x53df2c['components'],'type':oL[_0x53df2c['type']],'normalize':_0x5930cb[_0x5f1676]===It});}const _0x3fa306=new Dt(this['_device'],_0x105b92),_0x5cf866=_0x126c60['position']['data']['length']/_0x126c60['position']['components'],_0x42611a=new fs(this['_device'],_0x3fa306,_0x5cf866),_0x410fad=new vo(_0x42611a);for(let _0x43c2af=-0x1ef4+-0x790+0x2684;_0x43c2af<_0x5cf866;_0x43c2af++){for(const _0x1f305a in _0x126c60){const _0x1ffc25=_0x126c60[_0x1f305a];switch(_0x1ffc25['components']){case-0x15f1*-0x1+-0x10d3+0x11*-0x4d:_0x410fad['element'][_0x5930cb[_0x1f305a]]['set'](_0x1ffc25['data'][_0x43c2af]);break;case 0x697*-0x1+-0x1d30+-0x23c9*-0x1:_0x410fad['element'][_0x5930cb[_0x1f305a]]['set'](_0x1ffc25['data'][_0x43c2af*(0x5b9*-0x3+0x21*-0xa1+0x25ee*0x1)],-0x1*0x12ce+-0xb*-0x10b+0x756*0x1-_0x1ffc25['data'][_0x43c2af*(-0x104a+0x1323*0x1+0x2d7*-0x1)+(-0x1a*-0x7c+0xf0*0x1d+-0x27c7)]);break;case-0xb20+-0x507*-0x5+0x8*-0x1c0:_0x410fad['element'][_0x5930cb[_0x1f305a]]['set'](_0x1ffc25['data'][_0x43c2af*(-0x14c5+-0x37*-0x1+0x1491)],_0x1ffc25['data'][_0x43c2af*(0x63*-0x5c+-0x721+0x2ab8)+(-0x202*0x1+-0x1d0e+0x1f11)],_0x1ffc25['data'][_0x43c2af*(0x2*0x9cb+0x14b5+-0x2848)+(-0x1*0xcd5+-0x2*0xda1+0x2819*0x1)]);break;case-0x193f+0x2433+-0xaf0:_0x410fad['element'][_0x5930cb[_0x1f305a]]['set'](_0x1ffc25['data'][_0x43c2af*(-0x1*-0x1299+0x102d*-0x2+0xdc5)],_0x1ffc25['data'][_0x43c2af*(-0xbc6+-0x7eb+0x1*0x13b5)+(-0x1cdb+0x5db*-0x1+0x22b7)],_0x1ffc25['data'][_0x43c2af*(0xb8a+0xc3*0x26+-0x2878)+(0x13*0x155+-0xc0a+-0xd43)],_0x1ffc25['data'][_0x43c2af*(0x2*0x871+-0x108*0x16+-0x2*-0x2e9)+(-0x18af*-0x1+0x19ea+-0x3296)]);break;}}_0x410fad['next']();}_0x410fad['end'](),_0x1f6a2d['push'](_0x42611a);}return _0x1f6a2d;}['_parseInde'+'xBuffers'](_0x5945e2,_0x7a7368){const _0x2f2a93=_0x5945e2['model'];let _0x425cc7=null,_0x4cd35f=null,_0x9e5baa,_0x90ebc5=-0x103a+-0xfb*-0x1a+0x1*-0x944;for(_0x9e5baa=-0x1da4+0xc4*-0x2b+0x3e90;_0x9e5baa<_0x2f2a93['meshes']['length'];_0x9e5baa++){const _0x223163=_0x2f2a93['meshes'][_0x9e5baa];_0x223163['indices']!==void(-0x1*-0xa58+-0x551*-0x1+-0xd3*0x13)&&(_0x90ebc5+=_0x223163['indices']['length']);}let _0x51f274=0x15cc+0x1684+-0x2c50;for(_0x9e5baa=0x2037+-0x8*-0x119+-0x28ff;_0x9e5baa<_0x7a7368['length'];_0x9e5baa++)_0x51f274=Math['max'](_0x51f274,_0x7a7368[_0x9e5baa]['numVertice'+'s']);return _0x90ebc5>-0x1211*0x2+-0x3c5+0x27e7&&(_0x51f274>0x75c0+0x88ec+0x1*0x153?(_0x425cc7=new cr(this['_device'],or,_0x90ebc5),_0x4cd35f=new Uint32Array(_0x425cc7['lock']())):(_0x425cc7=new cr(this['_device'],Fi,_0x90ebc5),_0x4cd35f=new Uint16Array(_0x425cc7['lock']()))),{'buffer':_0x425cc7,'data':_0x4cd35f};}['_parseMesh'+'es'](_0x4f25d7,_0x3f2b94,_0x3f376e,_0x12baa0,_0x50d41a,_0x363fdf){const _0x21f8c9=_0x4f25d7['model'],_0x1418ed=[];let _0x2e75bb=0x154c+-0x157f+0x33;for(let _0x8f2ff7=0x1da7+0xf*0x1e2+0x39e5*-0x1;_0x8f2ff7<_0x21f8c9['meshes']['length'];_0x8f2ff7++){const _0x4960af=_0x21f8c9['meshes'][_0x8f2ff7],_0xe70976=_0x4960af['aabb'],_0x174b98=_0xe70976['min'],_0x152988=_0xe70976['max'],_0x4892e7=new ve(new A((_0x152988[-0x1a44+-0x1be8+-0x2*-0x1b16]+_0x174b98[-0x14db+0x38d*0x1+-0x8a7*-0x2])*(0x1*-0x1bf1+0x202f+0x21f*-0x2+0.5),(_0x152988[-0x2*-0x4f+-0x25f0+0x2553]+_0x174b98[0x717*-0x2+0xb*0x33d+0x1*-0x1570])*(-0x1715*-0x1+0xfc1+-0x26d6+0.5),(_0x152988[0x1d*0x71+-0x1*-0x1079+-0xea2*0x2]+_0x174b98[-0xa5d*0x1+-0x1c26+0x2685*0x1])*(0x1*-0xc2e+-0x18d7+0x2505+0.5)),new A((_0x152988[0x854+-0x7e2*-0x1+-0x1036]-_0x174b98[-0x3*-0x3fd+0xb9f+-0x1796])*(0x1e59+0x89*0x3f+-0x4010+0.5),(_0x152988[0x1ace+-0x12f8*-0x2+0x1*-0x40bd]-_0x174b98[-0x1176+-0x827*0x1+0x199e])*(-0x198a+-0x1e3e+0x38*0xff+0.5),(_0x152988[0x6e*-0x2e+0x1193+0x233]-_0x174b98[0x5*-0x8b+0x1c5c+-0x19a3])*(0xdac+-0x12fa+-0x2a7*-0x2+0.5))),_0x317c90=_0x4960af['indices']!==void(0xce6*0x2+0x1ff+0x1bcb*-0x1),_0x33b04d=new ke(this['_device']);_0x33b04d['vertexBuff'+'er']=_0x12baa0[_0x4960af['vertices']],_0x33b04d['indexBuffe'+'r'][-0x12*0x1a6+-0x1*-0x1cae+0xfe]=_0x317c90?_0x50d41a:null,_0x33b04d['primitive'][0x16*0x15d+0x2b*-0x6b+-0xc05*0x1]['type']=aL[_0x4960af['type']],_0x33b04d['primitive'][0x12ad*-0x1+0x18c1+-0x2*0x30a]['base']=_0x317c90?_0x4960af['base']+_0x2e75bb:_0x4960af['base'],_0x33b04d['primitive'][-0xa7*0x1+-0x48a+0x531]['count']=_0x4960af['count'],_0x33b04d['primitive'][0x267*0x2+0x1c9*0xd+-0x1c03]['indexed']=_0x317c90,_0x33b04d['skin']=_0x4960af['skin']!==void(0x2083+-0xb3b+0x552*-0x4)?_0x3f2b94[_0x4960af['skin']]:null,_0x33b04d['morph']=_0x4960af['morph']!==void(0x1e88+-0x30*0xb8+-0x4*-0xfe)?_0x3f376e[_0x4960af['morph']]:null,_0x33b04d['aabb']=_0x4892e7,_0x317c90&&(_0x363fdf['set'](_0x4960af['indices'],_0x2e75bb),_0x2e75bb+=_0x4960af['indices']['length']),_0x1418ed['push'](_0x33b04d);}return _0x50d41a!==null&&_0x50d41a['unlock'](),_0x1418ed;}['_parseMesh'+'Instances'](_0x4a4902,_0x3ded31,_0x26ff39,_0x5aa979,_0x4ebdc7,_0x351319,_0x5780c6){const _0x11620f=_0x4a4902['model'],_0x28b05b=[];let _0x200763;for(_0x200763=0x8e6+0x6bd*-0x1+-0x229;_0x200763<_0x11620f['meshInstan'+'ces']['length'];_0x200763++){const _0x197522=_0x11620f['meshInstan'+'ces'][_0x200763],_0x5c84c2=_0x3ded31[_0x197522['node']],_0x3fecb8=_0x26ff39[_0x197522['mesh']],_0x4cbda0=new Be(_0x3fecb8,this['_defaultMa'+'terial'],_0x5c84c2);if(_0x3fecb8['skin']){const _0x2aefe9=_0x5aa979['indexOf'](_0x3fecb8['skin']);if(_0x2aefe9===-(-0x92b+-0x1a*-0x1+0x912))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4cbda0['skinInstan'+'ce']=_0x4ebdc7[_0x2aefe9];}if(_0x3fecb8['morph']){const _0x5df224=_0x351319['indexOf'](_0x3fecb8['morph']);if(_0x5df224===-(-0x3f*0x67+0xa7b+0x1b*0x8d))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4cbda0['morphInsta'+'nce']=_0x5780c6[_0x5df224];}_0x28b05b['push'](_0x4cbda0);}return _0x28b05b;}}class hL extends Ge{constructor(_0x147625){super(_0x147625,'model'),this['_parsers']=[],this['device']=_0x147625['graphicsDe'+'vice'],this['assets']=_0x147625['assets'],this['defaultMat'+'erial']=cl(this['device']),this['addParser'](new lL(this),(_0x33f560,_0x56fb0b)=>me['getExtensi'+'on'](_0x33f560)==='.json'),this['addParser'](new nL(this),(_0x1ce9b9,_0x52cce2)=>me['getExtensi'+'on'](_0x1ce9b9)==='.glb');}['load'](_0x1d8834,_0x405c89,_0x10733e){typeof _0x1d8834=='string'&&(_0x1d8834={'load':_0x1d8834,'original':_0x1d8834});const _0x1a71e0={'retry':this['maxRetries']>-0x692+0x1053+-0x9c1,'maxRetries':this['maxRetries']};(_0x1d8834['load']['startsWith']('blob:')||_0x1d8834['load']['startsWith']('data:'))&&(me['getExtensi'+'on'](_0x1d8834['original'])['toLowerCas'+'e']()==='.glb'?_0x1a71e0['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1a71e0['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x1d8834['load'],_0x1a71e0,(_0xaf6246,_0xcc46ab)=>{if(_0x405c89){if(_0xaf6246)_0x405c89('Error\x20load'+'ing\x20model:'+'\x20'+_0x1d8834['original']+'\x20['+_0xaf6246+']');else{for(let _0x294f52=0x88f*0x4+0x1*-0x1753+-0x3a3*0x3;_0x294f52<this['_parsers']['length'];_0x294f52++){const _0x5c223e=this['_parsers'][_0x294f52];if(_0x5c223e['decider'](_0x1d8834['original'],_0xcc46ab)){_0x5c223e['parser']['parse'](_0xcc46ab,(_0x1fe495,_0x50ff40)=>{_0x1fe495?_0x405c89(_0x1fe495):_0x405c89(null,_0x50ff40);},_0x10733e);return;}}_0x405c89('No\x20parsers'+'\x20found');}}});}['open'](_0x104824,_0x27eb16){return _0x27eb16;}['patch'](_0x5c0470,_0x333639){if(!_0x5c0470['resource'])return;const _0x127bd0=_0x5c0470['data'],_0x1b34fe=this;_0x5c0470['resource']['meshInstan'+'ces']['forEach']((_0x48e26d,_0x1650e1)=>{if(_0x127bd0['mapping']){const _0x566996=function(_0x2107c5){_0x2107c5['resource']?_0x48e26d['material']=_0x2107c5['resource']:(_0x2107c5['once']('load',_0x566996),_0x333639['load'](_0x2107c5)),_0x2107c5['once']('remove',_0x27b85a=>{_0x48e26d['material']===_0x27b85a['resource']&&(_0x48e26d['material']=_0x1b34fe['defaultMat'+'erial']);});};if(!_0x127bd0['mapping'][_0x1650e1]){_0x48e26d['material']=_0x1b34fe['defaultMat'+'erial'];return;}const _0x592f4f=_0x127bd0['mapping'][_0x1650e1]['material'],_0x334738=_0x127bd0['mapping'][_0x1650e1]['path'];let _0x50cffd;if(_0x592f4f!==void(0x1*0x9cd+-0x1d0a+0x133d))_0x592f4f?(_0x50cffd=_0x333639['get'](_0x592f4f),_0x50cffd?_0x566996(_0x50cffd):_0x333639['once']('add:'+_0x592f4f,_0x566996)):_0x48e26d['material']=_0x1b34fe['defaultMat'+'erial'];else{if(_0x334738){const _0x52eca6=_0x5c0470['getAbsolut'+'eUrl'](_0x127bd0['mapping'][_0x1650e1]['path']);_0x50cffd=_0x333639['getByUrl'](_0x52eca6),_0x50cffd?_0x566996(_0x50cffd):_0x333639['once']('add:url:'+_0x52eca6,_0x566996);}}}});}['addParser'](_0x7a925e,_0x2bcb81){this['_parsers']['push']({'parser':_0x7a925e,'decider':_0x2bcb81});}}class cL extends Ge{constructor(_0x4c565d){super(_0x4c565d,'scene');}['load'](_0x55a7ca,_0x5682b0){Fx['load'](_0x55a7ca,this['maxRetries'],_0x5682b0);}['open'](_0x5437dc,_0x582b4a){this['_app']['systems']['script']['preloading']=!(-0x1*0xccb+0x27*0x2b+-0x1*-0x63e);const _0x5d0e25=new jp(this['_app'],!(0x3*-0x29+0x1685+0x1609*-0x1))['parse'](_0x582b4a),_0x395354=this['_app']['scene'];return _0x395354['root']=_0x5d0e25,this['_app']['applyScene'+'Settings'](_0x582b4a['settings']),this['_app']['systems']['script']['preloading']=!(-0x4c3*0x5+-0x16c1+-0x83*-0x5b),_0x395354;}}const pc=class pc{static['push'](_0x4c2ba4){pc['_types']['push'](_0x4c2ba4);}};c(pc,'_types',[]);let jr=pc;const dL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),uL={};Xo['reservedNa'+'mes']['forEach']((_0x4234bb,_0x23bb17,_0x65aaea)=>{uL[_0x4234bb]=0x26ea+0x18c8+-0x3fb1;});function fL(_0x51dc76,_0x31022c,_0x3545b7){if(typeof _0x51dc76!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x51dc76+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x51dc76['prototype']instanceof Zt))throw new Error('script\x20cla'+'ss:\x20\x27'+ic['__getScrip'+'tName'](_0x51dc76)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x31022c=_0x31022c||_0x51dc76['__name']||ic['__getScrip'+'tName'](_0x51dc76),dL['has'](_0x31022c))throw new Error('script\x20nam'+'e:\x20\x27'+_0x31022c+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x51dc76['__name']=_0x31022c,Zh['getApplica'+'tion']()['scripts']['add'](_0x51dc76),jr['push'](_0x51dc76);}const pL=_0x545c7e=>_0x545c7e[0x1*0x23f8+0x831+-0x2c29]['toLowerCas'+'e']()+_0x545c7e['substring'](-0x1a*-0xb3+-0x18*0xd1+0x16b);class mL extends Ge{constructor(_0x155d66){super(_0x155d66,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x4ab841 in this['_cache']){const _0x2cfd4e=this['_cache'][_0x4ab841],_0xc80b0e=_0x2cfd4e['parentNode'];_0xc80b0e&&_0xc80b0e['removeChil'+'d'](_0x2cfd4e);}this['_cache']={};}['load'](_0x51afb5,_0x263306){typeof _0x51afb5=='string'&&(_0x51afb5={'load':_0x51afb5,'original':_0x51afb5});const _0x3c33b0=this;this['_app'];const _0x342ac8=(_0x51afb5['load'],(_0x160669,_0x1e63e0,_0x4aa42d)=>{if(_0x160669)_0x263306(_0x160669);else{const _0x2eff7c={};for(let _0xd9fb1=0x7*0x349+0x1*-0xd4e+-0x9b1;_0xd9fb1<jr['_types']['length'];_0xd9fb1++)_0x2eff7c[jr['_types'][_0xd9fb1]['name']]=jr['_types'][_0xd9fb1];jr['_types']['length']=-0xa30+-0x1ad0+0x2500,_0x263306(null,_0x2eff7c,_0x4aa42d);const _0x1cf114=_0x1e63e0['split']('&hash=')[0x809*-0x2+-0x1bc6+0x2bd8];delete _0x3c33b0['_loader']['_cache'][_a['makeKey'](_0x1cf114,'script')];}}),[_0x5d7628]=_0x51afb5['load']['split']('?');_0x5d7628['endsWith']('.mjs')?this['_loadModul'+'e'](_0x5d7628,_0x342ac8):this['_loadScrip'+'t'](_0x51afb5['load'],_0x342ac8);}['open'](_0x41f2bf,_0x26480a){return _0x26480a;}['patch'](_0x1c1e4d,_0x489f5f){}['_loadScrip'+'t'](_0x17b112,_0x1b1014){const _0x11acb8=document['head'],_0xcd7ce1=document['createElem'+'ent']('script');this['_cache'][_0x17b112]=_0xcd7ce1,_0xcd7ce1['async']=!(0x6a+0xb3b*-0x3+0x2148*0x1),_0xcd7ce1['addEventLi'+'stener']('error',_0x2607aa=>{_0x1b1014('Script:\x20'+_0x2607aa['target']['src']+('\x20failed\x20to'+'\x20load'));},!(-0x140c+-0x78e*-0x1+-0x1c9*-0x7));let _0x3ec7f3=!(0x1a1a+-0x17fb+0x21e*-0x1);_0xcd7ce1['onload']=_0xcd7ce1['onreadysta'+'techange']=function(){!_0x3ec7f3&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x3ec7f3=!(-0xf76+-0xc00+0x2*0xdbb),_0x1b1014(null,_0x17b112,_0xcd7ce1));},_0xcd7ce1['src']=_0x17b112,_0x11acb8['appendChil'+'d'](_0xcd7ce1);}['_loadModul'+'e'](_0x3cc964,_0x47d5cd){const _0x290f27=be['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x5142c8=new URL(_0x3cc964,_0x290f27);import(_0x5142c8['toString']())['then'](_0x183587=>{var _0x59cbb6,_0x42fe28;const _0xf2baf=_0x5142c8['pathname']['split']('/')['pop'](),_0x3e8c77=(_0x42fe28=(_0x59cbb6=this['_app']['assets']['find'](_0xf2baf,'script'))==null?void(0x2*-0xc8e+0x22f*0x5+0xe31):_0x59cbb6['data'])==null?void(0x198b+0x1723+0x2*-0x1857):_0x42fe28['scripts'];for(const _0x7f74d6 in _0x183587){const _0x4c58d9=_0x183587[_0x7f74d6];if(_0x4c58d9['prototype']instanceof Zt){const _0x2c619f=pL(_0x4c58d9['name']);fL(_0x4c58d9,_0x2c619f),_0x3e8c77&&this['_app']['scripts']['addSchema'](_0x2c619f,_0x3e8c77[_0x2c619f]);}}_0x47d5cd(null,_0x3cc964,null);})['catch'](_0x4824d7=>{_0x47d5cd(_0x4824d7);});}}class _L extends Ge{constructor(_0x5eaf78){super(_0x5eaf78,'shader'),c(this,'decoder',null);}['load'](_0x217e0c,_0x4ad642){typeof _0x217e0c=='string'&&(_0x217e0c={'load':_0x217e0c,'original':_0x217e0c}),Ye['get'](_0x217e0c['load'],{'retry':this['maxRetries']>0x796+0x1*0x588+-0x92*0x17,'maxRetries':this['maxRetries']},(_0x732d38,_0x4bbade)=>{_0x732d38?_0x4ad642('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x217e0c['original']+'\x20['+_0x732d38+']'):_0x4ad642(null,_0x4bbade);});}['openBinary'](_0x3b4c1d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x3b4c1d);}}function ru(_0x5930e6){const _0x682feb=this;_0x682feb['resource']&&(_0x682feb['resource']['atlas']=_0x5930e6['resource']);}function nu(_0xd14a4e){this['registry']['load'](_0xd14a4e);}class gL extends Ge{constructor(_0x19e5ec){super(_0x19e5ec,'sprite'),this['_assets']=_0x19e5ec['assets'],this['_device']=_0x19e5ec['graphicsDe'+'vice'];}['load'](_0x3a6452,_0x1065bf){typeof _0x3a6452=='string'&&(_0x3a6452={'load':_0x3a6452,'original':_0x3a6452}),me['getExtensi'+'on'](_0x3a6452['original'])==='.json'&&Ye['get'](_0x3a6452['load'],{'retry':this['maxRetries']>-0x94*-0x43+0xe3*0xa+-0x1*0x2f9a,'maxRetries':this['maxRetries']},(_0x1ddae4,_0x41d227)=>{_0x1ddae4?_0x1065bf(_0x1ddae4):_0x1065bf(null,_0x41d227);});}['open'](_0x22633f,_0x2b0ca7){const _0x203743=new A1(this['_device']);return _0x22633f&&(_0x203743['__data']=_0x2b0ca7),_0x203743;}['patch'](_0x3d9eb3,_0x430755){const _0x144084=_0x3d9eb3['resource'];if(_0x144084['__data']&&(_0x3d9eb3['data']['pixelsPerU'+'nit']=_0x144084['__data']['pixelsPerU'+'nit'],_0x3d9eb3['data']['renderMode']=_0x144084['__data']['renderMode'],_0x3d9eb3['data']['frameKeys']=_0x144084['__data']['frameKeys'],_0x144084['__data']['textureAtl'+'asAsset'])){const _0x468e02=_0x430755['getByUrl'](_0x144084['__data']['textureAtl'+'asAsset']);_0x468e02?_0x3d9eb3['data']['textureAtl'+'asAsset']=_0x468e02['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x144084['__data']['textureAtl'+'asAsset']);}_0x144084['startUpdat'+'e'](),_0x144084['renderMode']=_0x3d9eb3['data']['renderMode'],_0x144084['pixelsPerU'+'nit']=_0x3d9eb3['data']['pixelsPerU'+'nit'],_0x144084['frameKeys']=_0x3d9eb3['data']['frameKeys'],this['_updateAtl'+'as'](_0x3d9eb3),_0x144084['endUpdate'](),_0x3d9eb3['off']('change',this['_onAssetCh'+'ange'],this),_0x3d9eb3['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x1ccab7){const _0x561b51=_0x1ccab7['resource'];if(!_0x1ccab7['data']['textureAtl'+'asAsset']){_0x561b51['atlas']=null;return;}this['_assets']['off']('load:'+_0x1ccab7['data']['textureAtl'+'asAsset'],ru,_0x1ccab7),this['_assets']['on']('load:'+_0x1ccab7['data']['textureAtl'+'asAsset'],ru,_0x1ccab7);const _0x158725=this['_assets']['get'](_0x1ccab7['data']['textureAtl'+'asAsset']);_0x158725&&_0x158725['resource']?_0x561b51['atlas']=_0x158725['resource']:_0x158725?this['_assets']['load'](_0x158725):(this['_assets']['off']('add:'+_0x1ccab7['data']['textureAtl'+'asAsset'],nu,_0x1ccab7),this['_assets']['on']('add:'+_0x1ccab7['data']['textureAtl'+'asAsset'],nu,_0x1ccab7));}['_onAssetCh'+'ange'](_0x2122c7,_0x451b7d,_0xbecff5,_0x1236a5){_0x451b7d==='data'&&_0xbecff5&&_0xbecff5['textureAtl'+'asAsset']&&_0x1236a5&&_0xbecff5['textureAtl'+'asAsset']!==_0x1236a5['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x1236a5['textureAtl'+'asAsset'],ru,_0x2122c7),this['_assets']['off']('add:'+_0x1236a5['textureAtl'+'asAsset'],nu,_0x2122c7));}}class Hg{constructor(_0x5d9098,_0x2596d9){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x5d9098,this['_data']=_0x2596d9);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x3f441a=new jp(this['_app'],!(-0x172f+-0x18a7+-0x1*-0x2fd6));this['_templateR'+'oot']=_0x3f441a['parse'](this['_data']);}}class yL extends Ge{constructor(_0x2942ee){super(_0x2942ee,'template'),c(this,'decoder',null);}['load'](_0x5b6110,_0x510c05){typeof _0x5b6110=='string'&&(_0x5b6110={'load':_0x5b6110,'original':_0x5b6110});const _0xce59f4={'retry':this['maxRetries']>-0xb*0x2a5+-0x7*0x41a+0x39cd*0x1,'maxRetries':this['maxRetries']};Ye['get'](_0x5b6110['load'],_0xce59f4,(_0x1ce24a,_0x16f6b1)=>{_0x1ce24a?_0x510c05('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x5b6110['original']):_0x510c05(_0x1ce24a,_0x16f6b1);});}['open'](_0x2ea1b6,_0x2c4e59){return new Hg(this['_app'],_0x2c4e59);}['openBinary'](_0x220517){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Hg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x220517)));}}class xL extends Ge{constructor(_0x37de0f){super(_0x37de0f,'text'),c(this,'decoder',null);}['load'](_0x2ab8a5,_0x71f3a7){typeof _0x2ab8a5=='string'&&(_0x2ab8a5={'load':_0x2ab8a5,'original':_0x2ab8a5}),Ye['get'](_0x2ab8a5['load'],{'retry':this['maxRetries']>-0x5cf+0x26c6+0x61*-0x57,'maxRetries':this['maxRetries']},(_0x1288a5,_0x2f0ad8)=>{_0x1288a5?_0x71f3a7('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x2ab8a5['original']+'\x20['+_0x1288a5+']'):_0x71f3a7(null,_0x2f0ad8);});}['openBinary'](_0x5d28d4){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5d28d4);}}const ah={'repeat':nt,'clamp':oe,'mirror':zf},oh={'nearest':fe,'linear':at,'nearest_mip_nearest':yc,'linear_mip_nearest':Sc,'nearest_mip_linear':xc,'linear_mip_linear':an},SL=/^data\.frames\.(\d+)$/;class vL extends Ge{constructor(_0x37ebe7){super(_0x37ebe7,'textureatl'+'as'),this['_loader']=_0x37ebe7['loader'];}['load'](_0x40cdb3,_0x1d7dc4){typeof _0x40cdb3=='string'&&(_0x40cdb3={'load':_0x40cdb3,'original':_0x40cdb3});const _0x442f3e=this,_0x435e4a=this['_loader']['getHandler']('texture');me['getExtensi'+'on'](_0x40cdb3['original'])==='.json'?Ye['get'](_0x40cdb3['load'],{'retry':this['maxRetries']>0x22*0x7a+0x19f5+-0x2b*0xfb,'maxRetries':this['maxRetries']},(_0x153146,_0x9aba63)=>{if(_0x153146)_0x1d7dc4(_0x153146);else{const _0x2a0114=_0x40cdb3['original']['replace']('.json','.png');_0x442f3e['_loader']['load'](_0x2a0114,'texture',(_0x267bea,_0x446ab3)=>{_0x267bea?_0x1d7dc4(_0x267bea):_0x1d7dc4(null,{'data':_0x9aba63,'texture':_0x446ab3});});}}):_0x435e4a['load'](_0x40cdb3,_0x1d7dc4);}['open'](_0x1a2260,_0x49dae9,_0x564d4d){const _0x3fe86b=new E1();if(_0x49dae9['texture']&&_0x49dae9['data'])_0x3fe86b['texture']=_0x49dae9['texture'],_0x3fe86b['__data']=_0x49dae9['data'];else{const _0x1ee525=this['_loader']['getHandler']('texture')['open'](_0x1a2260,_0x49dae9,_0x564d4d);if(!_0x1ee525)return null;_0x3fe86b['texture']=_0x1ee525;}return _0x3fe86b;}['patch'](_0x1d9339,_0x2328f9){if(!_0x1d9339['resource'])return;_0x1d9339['resource']['__data']&&(_0x1d9339['resource']['__data']['minfilter']!==void(0x144a+-0x26ea+-0x95*-0x20)&&(_0x1d9339['data']['minfilter']=_0x1d9339['resource']['__data']['minfilter']),_0x1d9339['resource']['__data']['magfilter']!==void(-0x2*-0xb89+-0x22e1+0xbcf)&&(_0x1d9339['data']['magfilter']=_0x1d9339['resource']['__data']['magfilter']),_0x1d9339['resource']['__data']['addressu']!==void(-0x2*0xce9+-0x1899+-0x1*-0x326b)&&(_0x1d9339['data']['addressu']=_0x1d9339['resource']['__data']['addressu']),_0x1d9339['resource']['__data']['addressv']!==void(0x136+-0x4b4+-0x3*-0x12a)&&(_0x1d9339['data']['addressv']=_0x1d9339['resource']['__data']['addressv']),_0x1d9339['resource']['__data']['mipmaps']!==void(0x3c5*0x5+-0x31*0x52+-0x327)&&(_0x1d9339['data']['mipmaps']=_0x1d9339['resource']['__data']['mipmaps']),_0x1d9339['resource']['__data']['anisotropy']!==void(-0x301*0x8+-0x26c9+-0xd*-0x4d5)&&(_0x1d9339['data']['anisotropy']=_0x1d9339['resource']['__data']['anisotropy']),_0x1d9339['resource']['__data']['rgbm']!==void(0x24e6*-0x1+0xf5b+-0x44f*-0x5)&&(_0x1d9339['data']['rgbm']=!!_0x1d9339['resource']['__data']['rgbm']),_0x1d9339['data']['frames']=_0x1d9339['resource']['__data']['frames'],delete _0x1d9339['resource']['__data']);const _0x204d5e=_0x1d9339['resource']['texture'];if(_0x204d5e&&(_0x204d5e['name']=_0x1d9339['name'],_0x1d9339['data']['hasOwnProp'+'erty']('minfilter')&&_0x204d5e['minFilter']!==oh[_0x1d9339['data']['minfilter']]&&(_0x204d5e['minFilter']=oh[_0x1d9339['data']['minfilter']]),_0x1d9339['data']['hasOwnProp'+'erty']('magfilter')&&_0x204d5e['magFilter']!==oh[_0x1d9339['data']['magfilter']]&&(_0x204d5e['magFilter']=oh[_0x1d9339['data']['magfilter']]),_0x1d9339['data']['hasOwnProp'+'erty']('addressu')&&_0x204d5e['addressU']!==ah[_0x1d9339['data']['addressu']]&&(_0x204d5e['addressU']=ah[_0x1d9339['data']['addressu']]),_0x1d9339['data']['hasOwnProp'+'erty']('addressv')&&_0x204d5e['addressV']!==ah[_0x1d9339['data']['addressv']]&&(_0x204d5e['addressV']=ah[_0x1d9339['data']['addressv']]),_0x1d9339['data']['hasOwnProp'+'erty']('mipmaps')&&_0x204d5e['mipmaps']!==_0x1d9339['data']['mipmaps']&&(_0x204d5e['mipmaps']=_0x1d9339['data']['mipmaps']),_0x1d9339['data']['hasOwnProp'+'erty']('anisotropy')&&_0x204d5e['anisotropy']!==_0x1d9339['data']['anisotropy']&&(_0x204d5e['anisotropy']=_0x1d9339['data']['anisotropy']),_0x1d9339['data']['hasOwnProp'+'erty']('rgbm'))){const _0xe976f7=_0x1d9339['data']['rgbm']?ln:Bi;_0x204d5e['type']!==_0xe976f7&&(_0x204d5e['type']=_0xe976f7);}_0x1d9339['resource']['texture']=_0x204d5e;const _0x489fd5={};for(const _0x507e9b in _0x1d9339['data']['frames']){const _0x1c64e2=_0x1d9339['data']['frames'][_0x507e9b];_0x489fd5[_0x507e9b]={'rect':new ee(_0x1c64e2['rect']),'pivot':new W(_0x1c64e2['pivot']),'border':new ee(_0x1c64e2['border'])};}_0x1d9339['resource']['frames']=_0x489fd5,_0x1d9339['off']('change',this['_onAssetCh'+'ange'],this),_0x1d9339['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x3deeab,_0x4b4201,_0x1ad79c){let _0x74e000;if(_0x4b4201==='data'||_0x4b4201==='data.frame'+'s'){const _0x7eefa5={};for(const _0x3655b2 in _0x1ad79c['frames'])_0x74e000=_0x1ad79c['frames'][_0x3655b2],_0x7eefa5[_0x3655b2]={'rect':new ee(_0x74e000['rect']),'pivot':new W(_0x74e000['pivot']),'border':new ee(_0x74e000['border'])};_0x3deeab['resource']['frames']=_0x7eefa5;}else{const _0x475d58=_0x4b4201['match'](SL);if(_0x475d58){const _0x574740=_0x475d58[-0x1*-0x249b+-0x41*0xa+-0x2210];_0x1ad79c?(_0x3deeab['resource']['frames'][_0x574740]?(_0x74e000=_0x3deeab['resource']['frames'][_0x574740],_0x74e000['rect']['set'](_0x1ad79c['rect'][-0x4cb+-0x1198*-0x2+-0x1e65],_0x1ad79c['rect'][0x2f*-0x3a+-0x1ab4+0x255b],_0x1ad79c['rect'][-0x5*-0x13a+0x901+-0x50b*0x3],_0x1ad79c['rect'][0xa93+0x1af9+-0x3*0xc83]),_0x74e000['pivot']['set'](_0x1ad79c['pivot'][-0x23fb*-0x1+-0x5*-0x137+-0x7*0x602],_0x1ad79c['pivot'][0x8+-0x79f*-0x2+-0x517*0x3]),_0x74e000['border']['set'](_0x1ad79c['border'][0x179*-0x6+-0x16e0+0x171*0x16],_0x1ad79c['border'][-0x45e*-0x2+-0x1c1b+0x1360],_0x1ad79c['border'][-0x1*-0x1ca6+-0xdd*-0x21+-0x3921],_0x1ad79c['border'][0x18c9+-0x1809+-0xbd])):_0x3deeab['resource']['frames'][_0x574740]={'rect':new ee(_0x1ad79c['rect']),'pivot':new W(_0x1ad79c['pivot']),'border':new ee(_0x1ad79c['border'])},_0x3deeab['resource']['fire']('set:frame',_0x574740,_0x3deeab['resource']['frames'][_0x574740])):_0x3deeab['resource']['frames'][_0x574740]&&(delete _0x3deeab['resource']['frames'][_0x574740],_0x3deeab['resource']['fire']('remove:fra'+'me',_0x574740));}}}}function bL(){const _0x303276={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x193f99={'astc':_0x303276['cTFASTC_4x'+'4'],'dxt':_0x303276['cTFBC1'],'etc1':_0x303276['cTFETC1'],'etc2':_0x303276['cTFETC1'],'pvr':_0x303276['cTFPVRTC1_'+'4_RGB'],'atc':_0x303276['cTFATC_RGB'],'none':_0x303276['cTFRGB565']},_0x55095d={'astc':_0x303276['cTFASTC_4x'+'4'],'dxt':_0x303276['cTFBC3'],'etc1':_0x303276['cTFRGBA444'+'4'],'etc2':_0x303276['cTFETC2'],'pvr':_0x303276['cTFPVRTC1_'+'4_RGBA'],'atc':_0x303276['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x303276['cTFRGBA444'+'4']},_0xa9ec6e={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x803105=(_0x4ac5be,_0x788548)=>{switch(_0x4ac5be){case _0x303276['cTFETC1']:return _0x788548['formats']['etc2']?_0xa9ec6e['ETC2_RGB']:_0xa9ec6e['ETC1'];case _0x303276['cTFETC2']:return _0xa9ec6e['ETC2_RGBA'];case _0x303276['cTFBC1']:return _0xa9ec6e['DXT1'];case _0x303276['cTFBC3']:return _0xa9ec6e['DXT5'];case _0x303276['cTFPVRTC1_'+'4_RGB']:return _0xa9ec6e['PVRTC_4BPP'+'_RGB_1'];case _0x303276['cTFPVRTC1_'+'4_RGBA']:return _0xa9ec6e['PVRTC_4BPP'+'_RGBA_1'];case _0x303276['cTFASTC_4x'+'4']:return _0xa9ec6e['ASTC_4x4'];case _0x303276['cTFATC_RGB']:return _0xa9ec6e['ATC_RGB'];case _0x303276['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0xa9ec6e['ATC_RGBA'];case _0x303276['cTFRGBA32']:return _0xa9ec6e['R8_G8_B8_A'+'8'];case _0x303276['cTFRGB565']:return _0xa9ec6e['R5_G6_B5'];case _0x303276['cTFRGBA444'+'4']:return _0xa9ec6e['R4_G4_B4_A'+'4'];}},_0x322b0c=_0x30c143=>{const _0x315ccf=function(_0x4fdfc5,_0x2a6e1b){const _0x341f81=_0x4fdfc5*(0xcb3+-0x13cd+0x71a+0.00784313725490196)-(0x344*-0x6+-0x1e01*-0x1+-0xa68),_0x58e926=_0x2a6e1b*((0x22b7*-0x1+0x234a+-0x91)/(0x1e5*-0x1+-0x1fc1+0x22a5))-(-0x1ef8+0x1*-0x61+0x1f5a),_0x28fa8b=Math['sqrt'](-0x369+-0xc*0x1c9+0x18d6-Math['min'](0xb33+0x111f+-0x1c51,_0x341f81*_0x341f81+_0x58e926*_0x58e926));return Math['max'](0x1*-0x12c5+-0x17e1+0x2aa6*0x1,Math['min'](0x6b*0x2f+0x2*0xb5e+-0x2*0x14b1,Math['floor']((_0x28fa8b+(0x1*-0xcff+0x1bdb*0x1+-0xedb))*(-0x296+-0x1*0x1a3f+0xb*0x29f+0.5)*(0x1*0x9a5+-0x4*0x56b+0x1*0xd06))));};for(let _0x135bc9=-0x2462+-0x1a89+0x3eeb;_0x135bc9<_0x30c143['length'];_0x135bc9+=0x3ab+0xc6c+-0x1013){const _0x5c9514=_0x30c143[_0x135bc9+(-0xe4+0x5e*-0x22+0xd63)],_0x860f35=_0x30c143[_0x135bc9+(0x1cb3+0x13*0x133+-0x337b)];_0x30c143[_0x135bc9+(0x17*0x18b+0x2*-0x51f+-0x193f)]=_0x5c9514,_0x30c143[_0x135bc9+(0x1*-0x65+-0x132f+0x1396)]=_0x315ccf(_0x5c9514,_0x860f35),_0x30c143[_0x135bc9+(-0xe53*0x1+-0x1392+0x21e8)]=0xeb8+-0xb34+-0x285;}return _0x30c143;},_0x5dc320=_0x502b0f=>{const _0x146c66=new Uint16Array(_0x502b0f['length']/(-0x1*0x1d55+0x1afe+0x25b));for(let _0x306c38=0x1*0x1859+0x7d5*-0x2+-0x8af;_0x306c38<_0x502b0f['length'];_0x306c38+=0x3*0x22+-0xa*-0x3be+0x6*-0x64d){const _0x437c8f=_0x502b0f[_0x306c38+(0x25d7+0x7*0x491+-0x45ce)],_0x4d1e8e=_0x502b0f[_0x306c38+(-0x1*0x1164+-0x9*0x3d6+0x33eb)],_0x11011b=_0x502b0f[_0x306c38+(0x1*0x135d+-0x1b3d+0x7e2)];_0x146c66[_0x306c38/(-0x25fa+-0x1dd0+0x20e*0x21)]=(_0x437c8f&-0x1e4+-0x1bb9+0x1*0x1e95)<<-0x21cb+0xb11*0x1+0x16c2|(_0x4d1e8e&0x5*0x20d+0x2*-0x75+-0x45*0x1f)<<0xec*-0x22+-0x1022+0x2f7d|_0x11011b>>0x1208+-0x5d3*-0x5+-0x2f24;}return _0x146c66;},_0x4f394b=(_0x2f677a,_0x11848d)=>(_0x2f677a&_0x2f677a-(0x256e*-0x1+0x2*0xdad+0x1*0xa15))===0xe8*0x1d+-0x1bbf+-0x19*-0xf&&(_0x11848d&_0x11848d-(0x1345+-0x39f*0x3+0x867*-0x1))===0x3*0x9f7+-0x9ee+0x13*-0x10d,_0x5038ff=()=>typeof performance<'u'?performance['now']():-0x1876+0x1c32+-0x3bc;let _0x155b06,_0x4fbfac,_0x4e4f13;const _0x426869=(_0x2b33fe,_0x2d926b,_0x477edb)=>{if(_0x477edb){if(_0x2b33fe['formats']['astc'])return'astc';}else{if(_0x2d926b){if(_0x2b33fe['formats']['etc2'])return'etc2';}else{if(_0x2b33fe['formats']['etc2'])return'etc2';if(_0x2b33fe['formats']['etc1'])return'etc1';}}return(_0x8b9ff4=>{for(let _0x394373=-0x33b*0xa+-0x3f6+0x2444;_0x394373<_0x8b9ff4['length'];++_0x394373){const _0x5bdd0c=_0x8b9ff4[_0x394373];if(_0x2b33fe['formats'][_0x5bdd0c])return _0x5bdd0c;}return'none';})(_0x2d926b?_0x4e4f13:_0x4fbfac);},_0x115ad8=(_0x3edf2d,_0x390c10,_0x3eafd5)=>{switch(_0x3eafd5){case _0x303276['cTFETC1']:case _0x303276['cTFETC2']:return!(0x265c+-0x25b*0x4+0x1*-0x1cf0);case _0x303276['cTFBC1']:case _0x303276['cTFBC3']:return(_0x3edf2d&0x1165+0x1156*0x2+0x340e*-0x1)===-0x3*0x5a4+-0x129c+-0xc*-0x2f6&&(_0x390c10&-0x2*-0x1384+0x1cbe+-0x43c3)===-0x23*-0xa7+0x15*0x7a+-0x20d7;case _0x303276['cTFPVRTC1_'+'4_RGB']:case _0x303276['cTFPVRTC1_'+'4_RGBA']:return _0x4f394b(_0x3edf2d,_0x390c10);case _0x303276['cTFASTC_4x'+'4']:return!(0x1*0x217a+-0xc55+0x1525*-0x1);case _0x303276['cTFATC_RGB']:case _0x303276['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x1748*0x1+-0x1*-0x1431+-0x1*-0x317);}return!(-0x1*0x18df+0x22a5*-0x1+0x3b85);},_0x2c31fc=(_0x84f3b4,_0x5a843c,_0x17b2fc)=>{if(!_0x155b06['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x5598c1=_0x5038ff(),_0x743aa4=new _0x155b06['KTX2File'](new Uint8Array(_0x5a843c)),_0x4d9624=_0x743aa4['getWidth'](),_0x213c9b=_0x743aa4['getHeight'](),_0x1e7574=_0x743aa4['getLevels'](),_0x5017aa=!!_0x743aa4['getHasAlph'+'a'](),_0x33bc22=_0x743aa4['isUASTC']&&_0x743aa4['isUASTC']();if(!_0x4d9624||!_0x213c9b||!_0x1e7574)throw _0x743aa4['close'](),_0x743aa4['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x84f3b4+'\x20width='+_0x4d9624+'\x20height='+_0x213c9b+'\x20levels='+_0x1e7574);const _0x2854e9=_0x426869(_0x17b2fc['deviceDeta'+'ils'],_0x5017aa,_0x33bc22),_0x3f7f15=!!_0x17b2fc['isGGGR']&&_0x2854e9==='pvr';let _0x4b5f3e;if(_0x3f7f15?_0x4b5f3e=_0x303276['cTFRGBA32']:(_0x4b5f3e=_0x5017aa?_0x55095d[_0x2854e9]:_0x193f99[_0x2854e9],_0x115ad8(_0x4d9624,_0x213c9b,_0x4b5f3e)||(_0x4b5f3e=_0x5017aa?_0x303276['cTFRGBA32']:_0x303276['cTFRGB565'])),!_0x743aa4['startTrans'+'coding']())throw _0x743aa4['close'](),_0x743aa4['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x84f3b4);let _0x1c06fb;const _0x20dd8a=[];for(let _0x3c988b=-0x1beb+-0x3d9*-0x5+-0x1*-0x8ae;_0x3c988b<_0x1e7574;++_0x3c988b){const _0xd28198=_0x743aa4['getImageTr'+'anscodedSi'+'zeInBytes'](_0x3c988b,0x1169*0x1+-0xb69+-0x600,0x119d+0xa85*0x1+0x22a*-0xd,_0x4b5f3e),_0x284761=new Uint8Array(_0xd28198);if(!_0x743aa4['transcodeI'+'mage'](_0x284761,_0x3c988b,0x176a+0xc71+-0x23db,-0x22b3+-0x26cd+-0x1c0*-0x2a,_0x4b5f3e,0x249c+-0x123f+-0x3*0x61f,-(-0x1108+-0x510+-0x1*-0x1619),-(0xa5b*-0x3+0x1409+0xb09)))throw _0x743aa4['close'](),_0x743aa4['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x84f3b4);const _0x9ecaab=_0x4b5f3e===_0x303276['cTFRGB565']||_0x4b5f3e===_0x303276['cTFRGBA444'+'4'];_0x20dd8a['push'](_0x9ecaab?new Uint16Array(_0x284761['buffer']):_0x284761);}if(_0x743aa4['close'](),_0x743aa4['delete'](),_0x3f7f15){for(_0x4b5f3e=_0x303276['cTFRGB565'],_0x1c06fb=-0x1a15*-0x1+-0x9*0x110+0x1085*-0x1;_0x1c06fb<_0x20dd8a['length'];++_0x1c06fb)_0x20dd8a[_0x1c06fb]=_0x5dc320(_0x322b0c(_0x20dd8a[_0x1c06fb]));}return{'format':_0x803105(_0x4b5f3e,_0x17b2fc['deviceDeta'+'ils']),'width':_0x4d9624,'height':_0x213c9b,'levels':_0x20dd8a,'cubemap':!(-0x25*-0xb3+-0x22a1+-0x8c3*-0x1),'transcodeTime':_0x5038ff()-_0x5598c1,'url':_0x84f3b4,'unswizzledGGGR':_0x3f7f15};},_0x1cbd45=(_0x63c302,_0x1f6086,_0x453978)=>{const _0x3dd7c9=_0x5038ff(),_0x33a23c=new _0x155b06['BasisFile'](new Uint8Array(_0x1f6086)),_0x4702cd=_0x33a23c['getImageWi'+'dth'](0xb06+-0x1fb8+-0x2*-0xa59,-0x1a3e*0x1+-0x2561+0xb7*0x59),_0x4040cd=_0x33a23c['getImageHe'+'ight'](0x4*0x2e7+-0x1*-0xc91+-0x182d,-0x2d6*0x4+0x9*-0x2fb+0x262b),_0x43f879=_0x33a23c['getNumImag'+'es'](),_0x331c30=_0x33a23c['getNumLeve'+'ls'](0x1b*-0x3a+0x17d*0x3+0x1*0x1a7),_0x5f4d24=!!_0x33a23c['getHasAlph'+'a'](),_0x3e1745=_0x33a23c['isUASTC']&&_0x33a23c['isUASTC']();if(!_0x4702cd||!_0x4040cd||!_0x43f879||!_0x331c30)throw _0x33a23c['close'](),_0x33a23c['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x63c302+'\x20width='+_0x4702cd+'\x20height='+_0x4040cd+'\x20images='+_0x43f879+'\x20levels='+_0x331c30);const _0x1033b4=_0x426869(_0x453978['deviceDeta'+'ils'],_0x5f4d24,_0x3e1745),_0x403b36=!!_0x453978['isGGGR']&&_0x1033b4==='pvr';let _0x135eed;if(_0x403b36?_0x135eed=_0x303276['cTFRGBA32']:(_0x135eed=_0x5f4d24?_0x55095d[_0x1033b4]:_0x193f99[_0x1033b4],_0x115ad8(_0x4702cd,_0x4040cd,_0x135eed)||(_0x135eed=_0x5f4d24?_0x303276['cTFRGBA32']:_0x303276['cTFRGB565'])),!_0x33a23c['startTrans'+'coding']())throw _0x33a23c['close'](),_0x33a23c['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x63c302);let _0x9fb6a9;const _0x4e334c=[];for(let _0x5b060c=-0x1b2d*-0x1+0x1581+-0x3*0x103a;_0x5b060c<_0x331c30;++_0x5b060c){const _0x5ca35d=_0x33a23c['getImageTr'+'anscodedSi'+'zeInBytes'](0x11e1*-0x2+-0x120*-0x2+0x2182,_0x5b060c,_0x135eed),_0x5b7bfd=new Uint8Array(_0x5ca35d);if(!_0x33a23c['transcodeI'+'mage'](_0x5b7bfd,-0x37f*-0x7+0x1ae6+-0x1*0x335f,_0x5b060c,_0x135eed,-0xebf+-0xfe+0xfbd,-0xcb*-0x1f+0x1*-0x1d37+-0x2*-0x251)){if(_0x5b060c===_0x331c30-(-0x19b1+0x77a+0x1238)&&_0x5ca35d===_0x4e334c[_0x5b060c-(0x147+0xb05+0x3*-0x419)]['buffer']['byteLength'])_0x5b7bfd['set'](new Uint8Array(_0x4e334c[_0x5b060c-(0x6b+-0xf2*-0x9+-0x1*0x8ec)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x63c302);else throw _0x33a23c['close'](),_0x33a23c['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x63c302);}const _0x83dad4=_0x135eed===_0x303276['cTFRGB565']||_0x135eed===_0x303276['cTFRGBA444'+'4'];_0x4e334c['push'](_0x83dad4?new Uint16Array(_0x5b7bfd['buffer']):_0x5b7bfd);}if(_0x33a23c['close'](),_0x33a23c['delete'](),_0x403b36){for(_0x135eed=_0x303276['cTFRGB565'],_0x9fb6a9=0x1de3+0x6b*0x27+0x2e3*-0x10;_0x9fb6a9<_0x4e334c['length'];++_0x9fb6a9)_0x4e334c[_0x9fb6a9]=_0x5dc320(_0x322b0c(_0x4e334c[_0x9fb6a9]));}return{'format':_0x803105(_0x135eed,_0x453978['deviceDeta'+'ils']),'width':_0x4702cd,'height':_0x4040cd,'levels':_0x4e334c,'cubemap':!(0x10ed*0x1+-0x2*-0x4d3+0x1a92*-0x1),'transcodeTime':_0x5038ff()-_0x3dd7c9,'url':_0x63c302,'unswizzledGGGR':_0x403b36};},_0xaadc0b=(_0x457f54,_0x4ae2eb,_0xde610e)=>_0xde610e['isKTX2']?_0x2c31fc(_0x457f54,_0x4ae2eb,_0xde610e):_0x1cbd45(_0x457f54,_0x4ae2eb,_0xde610e),_0x3f6a53=(_0x3e90f3,_0x13f16,_0x58e295)=>{try{const _0x527f45=_0xaadc0b(_0x3e90f3,_0x13f16,_0x58e295);_0x527f45['levels']=_0x527f45['levels']['map'](_0x194c7f=>_0x194c7f['buffer']),self['postMessag'+'e']({'url':_0x3e90f3,'data':_0x527f45},_0x527f45['levels']);}catch(_0x3d11df){self['postMessag'+'e']({'url':_0x3e90f3,'err':_0x3d11df},null);}},_0x2336bb=(_0x25f419,_0x281bf4)=>{const _0x3389a8=(_0x55d187,_0x475642)=>(WebAssembly['instantiat'+'e'](_0x25f419['module'],_0x55d187)['then'](_0x25aace=>{_0x475642(_0x25aace);})['catch'](_0x29949e=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x29949e);}),{});self['BASIS'](_0x25f419['module']?{'instantiateWasm':_0x3389a8}:null)['then'](_0x2e7c97=>{_0x2e7c97['initialize'+'Basis'](),_0x155b06=_0x2e7c97,_0x4fbfac=_0x25f419['rgbPriorit'+'y'],_0x4e4f13=_0x25f419['rgbaPriori'+'ty'],_0x281bf4(null);});},_0xbca93c=[];self['onmessage']=_0xaf75f1=>{const _0xe01221=_0xaf75f1['data'];switch(_0xe01221['type']){case'init':_0x2336bb(_0xe01221['config'],()=>{for(let _0x1b0155=0x21eb+-0x1*0x17ce+-0xa1d;_0x1b0155<_0xbca93c['length'];++_0x1b0155)_0x3f6a53(_0xbca93c[_0x1b0155]['url'],_0xbca93c[_0x1b0155]['data'],_0xbca93c[_0x1b0155]['options']);_0xbca93c['length']=0x8*-0x4b7+0x10b*0x25+0x1*-0xdf;});break;case'transcode':_0x155b06?_0x3f6a53(_0xe01221['url'],_0xe01221['data'],_0xe01221['options']):_0xbca93c['push'](_0xe01221);break;}};}const wL=_0x3d4d70=>({'astc':!!_0x3d4d70['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x3d4d70['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x3d4d70['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x3d4d70['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x3d4d70['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x3d4d70['extCompres'+'sedTexture'+'PVRTC']}),TL=(_0x465359,_0x308d31)=>{const _0x29d8bf=_0x6d24ee=>{const _0x411985=['/*\x20basis\x20*'+'/',_0x6d24ee,'','('+bL['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x411985],{'type':'applicatio'+'n/javascri'+'pt'});},_0x41e072=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x2087e7=new WebAssembly['Module'](Uint8Array['of'](-0x1362+-0x22ec+0x364e,-0x4*-0x67f+0x2050+-0x39eb*0x1,-0x2465+0x14b7*-0x1+0x7*0x839,-0x5a9+-0x18c7+0x1*0x1edd,0x313*-0x2+-0x5e5+0xc0c,-0xa2e+-0xa16+0x1444,-0x9ff+-0x879+0x1278,-0x1cbc+-0x1*-0x1e1+0x113*0x19));if(_0x2087e7 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x2087e7)instanceof WebAssembly['Instance'];}}catch{}return!(-0x2579+0x489*-0x5+-0x9*-0x6af);},_0x347acc=(_0xabcfa4,_0x1120ac)=>{_0x308d31(null,{'workerUrl':URL['createObje'+'ctURL'](_0x29d8bf(_0xabcfa4)),'module':_0x1120ac,'rgbPriority':_0x465359['rgbPriorit'+'y'],'rgbaPriority':_0x465359['rgbaPriori'+'ty']});},_0x43edd8={'cache':!(-0x1*0x17e8+-0x7*-0x462+0x3*-0x242),'responseType':'text','retry':_0x465359['maxRetries']>-0x2*0x6e6+-0xdaf+-0x7*-0x3ed,'maxRetries':_0x465359['maxRetries']};if(_0x465359['glueUrl']&&_0x465359['wasmUrl']&&_0x41e072()){let _0xe89641=null,_0x28743a=null;Ye['get'](_0x465359['glueUrl'],_0x43edd8,(_0x329b24,_0xba664c)=>{_0x329b24?_0x308d31(_0x329b24):_0x28743a?_0x347acc(_0xba664c,_0x28743a):_0xe89641=_0xba664c;});const _0x4aed40=fetch(_0x465359['wasmUrl']),_0x2aa497=()=>{_0x4aed40['then'](_0x45a68d=>_0x45a68d['arrayBuffe'+'r']())['then'](_0x5ed957=>WebAssembly['compile'](_0x5ed957))['then'](_0xf13b49=>{_0xe89641?_0x347acc(_0xe89641,_0xf13b49):_0x28743a=_0xf13b49;})['catch'](_0x48797e=>{_0x308d31(_0x48797e,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x4aed40)['then'](_0x30c812=>{_0xe89641?_0x347acc(_0xe89641,_0x30c812):_0x28743a=_0x30c812;})['catch'](_0xc9d563=>{b['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x465359['wasmUrl']+'\x20('+_0xc9d563+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x2aa497();}):_0x2aa497();}else Ye['get'](_0x465359['fallbackUr'+'l'],_0x43edd8,(_0xa09c5b,_0x460dcd)=>{_0xa09c5b?_0x308d31(_0xa09c5b,null):_0x347acc(_0x460dcd,null);});};class AL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x495f4c,_0x3390ed,_0x59eabe,_0x280ddc){if(this['callbacks']['hasOwnProp'+'erty'](_0x495f4c))this['callbacks'][_0x495f4c]['push'](_0x59eabe);else{this['callbacks'][_0x495f4c]=[_0x59eabe];const _0x3bb09f={'url':_0x495f4c,'data':_0x3390ed,'options':_0x280ddc};this['clients']['length']>-0x1*-0x1289+0x4*-0x6fe+-0x3*-0x325?this['clients']['shift']()['run'](_0x3bb09f):this['queue']['push'](_0x3bb09f);}}['enqueueCli'+'ent'](_0x26dec2){this['queue']['length']>0xe98+0x2*-0x125f+0x1626?_0x26dec2['run'](this['queue']['shift']()):this['clients']['push'](_0x26dec2);}['handleResp'+'onse'](_0x2be881,_0x7f7432,_0x2765c1){const _0x5500ff=this['callbacks'][_0x2be881];if(_0x7f7432){for(let _0x59db60=-0x1204+-0x2346+0x354a;_0x59db60<_0x5500ff['length'];++_0x59db60)_0x5500ff[_0x59db60](_0x7f7432);}else{_0x2765c1['format']===vc||_0x2765c1['format']===bc?_0x2765c1['levels']=_0x2765c1['levels']['map'](_0x1b7539=>new Uint16Array(_0x1b7539)):_0x2765c1['levels']=_0x2765c1['levels']['map'](_0x36bae7=>new Uint8Array(_0x36bae7));for(let _0x54ad16=-0x12f0+0xa59+-0x897*-0x1;_0x54ad16<_0x5500ff['length'];++_0x54ad16)_0x5500ff[_0x54ad16](null,_0x2765c1);}delete this['callbacks'][_0x2be881];}}class EL{constructor(_0x2b3880,_0x11c5c0,_0x3e6daa){this['queue']=_0x2b3880,this['worker']=new Worker(_0x11c5c0['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x56d835=>{const _0x5d372a=_0x56d835['data'];this['queue']['handleResp'+'onse'](_0x5d372a['url'],_0x5d372a['err'],_0x5d372a['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x11c5c0}),this['eager']=_0x3e6daa;}['run'](_0x55408d){const _0xae5069=[];_0x55408d['data']instanceof ArrayBuffer&&_0xae5069['push'](_0x55408d['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x55408d['url'],'format':_0x55408d['format'],'data':_0x55408d['data'],'options':_0x55408d['options']},_0xae5069),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const CL=0x8e3+0x11a5*0x1+-0x1a87,ML=['etc2','etc1','astc','dxt','pvr','atc'],PL=['astc','dxt','etc2','pvr','atc'],RL=0x2e*0x59+-0x4f9+0x40*-0x2c,Mf=new AL();let Wg=null,Pf=!(0x2*-0x20c+-0x1d71+0x218a);function IL(_0x28abf6){if(!Pf){if(!_0x28abf6)_0x28abf6=Wg||{};else{if(_0x28abf6['lazyInit']){Wg=_0x28abf6;return;}}if(!_0x28abf6['glueUrl']||!_0x28abf6['wasmUrl']||!_0x28abf6['fallbackUr'+'l']){const _0x905946=oy['getConfig']('BASIS');_0x905946&&(_0x28abf6={'glueUrl':_0x905946['glueUrl'],'wasmUrl':_0x905946['wasmUrl'],'fallbackUrl':_0x905946['fallbackUr'+'l'],'numWorkers':_0x905946['numWorkers']});}if(_0x28abf6['glueUrl']||_0x28abf6['wasmUrl']||_0x28abf6['fallbackUr'+'l']){Pf=!(0x19c5+0x7c3+0x1d*-0x128);const _0x811c4=Math['max'](-0x1*0x2203+-0x10f*-0x17+-0xe1*-0xb,Math['min'](-0x1b1c+-0x2*-0x6e3+0xd66,_0x28abf6['numWorkers']||CL)),_0x40b00f=_0x28abf6['numWorkers']===-0x1b5d+0x1c1f*-0x1+0x3*0x127f||(_0x28abf6['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x28abf6['eagerWorke'+'rs']:!(0xe*-0xcf+-0xed*-0x26+0x6*-0x3fa));_0x28abf6['rgbPriorit'+'y']=_0x28abf6['rgbPriorit'+'y']||ML,_0x28abf6['rgbaPriori'+'ty']=_0x28abf6['rgbaPriori'+'ty']||PL,_0x28abf6['maxRetries']=_0x28abf6['hasOwnProp'+'erty']('maxRetries')?_0x28abf6['maxRetries']:RL,TL(_0x28abf6,(_0x30111a,_0x3b48a0)=>{if(_0x30111a)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x30111a);else{for(let _0xb676ce=-0x6b8+-0x3a4*-0x4+0x3ec*-0x2;_0xb676ce<_0x811c4;++_0xb676ce)Mf['enqueueCli'+'ent'](new EL(Mf,_0x3b48a0,_0x40b00f));}});}}}let au=null;function kx(_0x542e61,_0x5993ab,_0x4aeb30,_0x40009b,_0x3fa97){return IL(),au||(au={'formats':wL(_0x542e61)}),Mf['enqueueJob'](_0x5993ab,_0x4aeb30,_0x40009b,{'deviceDetails':au,'isGGGR':!!(_0x3fa97!=null&&_0x3fa97['isGGGR']),'isKTX2':!!(_0x3fa97!=null&&_0x3fa97['isKTX2'])}),Pf;}class Va{['load'](_0xe736d,_0x42e4ca,_0x39dffc){throw new Error('not\x20implem'+'ented');}['open'](_0x981c40,_0x2148d6,_0x172062){throw new Error('not\x20implem'+'ented');}}class DL extends Va{constructor(_0xd0be22,_0x1144a8){super(),this['device']=_0x1144a8,this['maxRetries']=0x23df+0x8a7*-0x4+-0x143;}['load'](_0x3d0da7,_0x5868df,_0xaa574b){const _0x37143e=this['device'],_0x5cacce=_0xd2d380=>{var _0xf1a9de,_0x1e9aa0,_0x5e91b9;kx(_0x37143e,_0x3d0da7['load'],_0xd2d380,_0x5868df,{'isGGGR':(((_0x5e91b9=(_0x1e9aa0=(_0xf1a9de=_0xaa574b==null?void(0x2673+-0x222+0x9*-0x409):_0xaa574b['file'])==null?void(-0xe41+0x93b+0x506):_0xf1a9de['variants'])==null?void(-0x1fd2+0x1c0d+0x3c5*0x1):_0x1e9aa0['basis'])==null?void(0x1271*0x2+0x1651+-0x875*0x7):_0x5e91b9['opt'])&0x3*0x7b7+0x1a*-0xeb+0x1*0xc1)!==-0x148a+-0x24e6+0x3970})||_0x5868df('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0xaa574b['name']+']('+_0xaa574b['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};he['fetchArray'+'Buffer'](_0x3d0da7['load'],(_0x37a543,_0x19e2e0)=>{_0x37a543?_0x5868df(_0x37a543):_0x5cacce(_0x19e2e0);},_0xaa574b,this['maxRetries']);}['open'](_0x180e5d,_0x22f917,_0x59d948,_0x2bb02b={}){const _0x21e39e=_0x2bb02b['srgb']?Ic(_0x22f917['format']):_0x22f917['format'],_0x1a477d=new ce(_0x59d948,{'name':_0x180e5d,'profilerHint':fr,'addressU':_0x22f917['cubemap']?oe:nt,'addressV':_0x22f917['cubemap']?oe:nt,'width':_0x22f917['width'],'height':_0x22f917['height'],'format':_0x21e39e,'cubemap':_0x22f917['cubemap'],'levels':_0x22f917['levels'],..._0x2bb02b});return _0x1a477d['upload'](),_0x1a477d;}}const Ox=new Uint8Array([0x1dd1+0x2f1*-0x7+-0x8b1,-0x3f1*0x5+-0x2237+0xd8f*0x4,0x149a+-0x56*-0x5b+-0x32de,0x5*0x407+0x1*0xf92+-0x11b7*0x2,0x3*0x707+0x6*0x3ac+-0x2b10,-0x1f28+-0x5ff+0x2531,0x1*0x2671+0x12b9*-0x1+-0x139e,0x14b2*-0x1+0x2*0x532+0xa58,0x1a*-0x6b+0x1bc7+-0x10e9,0x13b+-0x27*0xe9+0xc*0x2db,-0x1*-0xbc9+0x9e0+-0x15a9,0x1838+0x1b*0xa7+-0x29c8,-0x98a+-0x301*0xb+-0x725*-0x6,-0x16b8+0x65*-0xd+0x1c21,-0x18b+-0x11d3+0x13a2,0xb76+-0x1cb9+0x1195,-0x295*0xb+-0x35*0x5+-0xeb8*-0x2,0x1d23+0x1107+-0x2e2a,-0x1c29+-0x204+0x67*0x4b,0x7*-0x289+-0x11*-0xc9+-0xa1*-0x7,-0x24bd+0xb77+0x50e*0x5,0x1211+-0xe22+-0x3ef,0x1e89+-0x111d*0x2+0xbd*0x5,-0x2492*0x1+-0x1fe0+0x129*0x3b,-0x3*0x551+0x2154+-0x1*0x1159,0x1bf7*0x1+0x1730+0x110b*-0x3,-0x432*-0x9+-0x656*0x1+0x4*-0x7db,-0xe3*-0x10+-0x55+-0xddb,-0xc4c+-0x11cb+0x1e17,0x1*0x1091+-0x2525+0x14b3,0x1a80+0x1*0x303+-0x1d6e*0x1,-0x1d7b+-0x2cd*-0xb+0x48*-0x2,-0x1730+-0xf95*-0x2+0x27b*-0x3,-0x1c8d+0x16f*-0x2+0x1f6b,0x291*0x5+-0x7a*0x2+-0xbe1,-0x2563+0x7c7*0x3+0x2*0x707,-0x2130+-0x49d*-0x2+0x1803,0x1f07+0x6f9+-0x25b7,0xf84+0x42*0xb+-0x5*0x39e,0x3d8+-0x109*-0x1d+-0x219c,0x679+0x5f2+0x1*-0xc17,0x2440+0x84a+-0x2c12,-0x26c2+-0x1f8e+-0x1*-0x472a,-0x48a+0x13*0xb3+0x14*-0x6b,0x37*-0x4d+-0x56*-0x6+0x4f9*0x3,0x7d9+0x2dd+-0xa52,0x1cd*-0xa+-0x18e7+-0x2b4b*-0x1,-0x334+0x8b*0x27+-0x1143*0x1,0x15*-0x186+-0xd*-0x103+0x12de,0xd4b+-0xabd*0x2+0x5*0x1a3,0x1bbf+0x1fad+-0x3b6c,0x44*-0x1f+0x23e0+-0x1b4b,0x136+0x1*0xc6d+-0xda3*0x1,0x3e*0x91+0x316+0x7*-0x56b,0x9*-0x3df+-0x1*0x1a21+0x3d3b,-0x43c*0x1+0x35c+0x165,-0x1*-0x125e+0xa*-0x49+-0xef0*0x1,0x263b+-0x1c09+-0x945,0xb*0x172+0xc9d*0x2+-0x2920,-0x2009+0x2*0x79c+-0x23*-0x7b,0xce*-0x2+0x1*0x66a+0x3*-0x19a,0x73e+0x191b+-0x1*0x2059,0x2*-0x10f7+-0x559*-0x3+0x122c,0x2*0xfb3+-0x1*0x5c0+-0x1*0x1961,0x491+0x1*0x33b+-0x112*0x7,0xf23+0x3*-0x62f+0x3ae,-0x20e1+0x16*-0x1be+0x689*0xb,-0x1897+-0x2548*-0x1+0xc6f*-0x1,0x5bd+-0x117a+-0x1*-0xc1d,-0x11*-0x9b+-0x2022+0x1659]),Bx=(_0x10690b,_0x350dcb)=>{const _0x350268=new ce(_0x10690b,{'width':0x1,'height':0x1,'format':Te,'mipmaps':!(0x6ee*-0x1+-0x247d+0x2b6c),'levels':[_0x350dcb]}),_0x23137c=new St({'colorBuffer':_0x350268,'depth':!(-0x8*0x367+0x69*0x12+0x1*0x13d7)});_0x10690b['setFramebu'+'ffer'](_0x23137c['impl']['_glFrameBu'+'ffer']),_0x10690b['initRender'+'Target'](_0x23137c);const _0x124d04=new Uint8ClampedArray(-0x4c3+-0x21ef+0x26b6);return _0x10690b['gl']['readPixels'](0xa46+0xcfb*0x2+-0x243c,0x265e+-0x210d+0x1*-0x551,-0x866+-0x14dc+-0xb*-0x2a9,-0x1d1*0x5+0x3a1+0x575,_0x10690b['gl']['RGBA'],_0x10690b['gl']['UNSIGNED_B'+'YTE'],_0x124d04),_0x23137c['destroy'](),_0x350268['destroy'](),_0x124d04[-0xc05+-0x10ff+0xc*0x26b]===0x28d*-0x2+0x12*0x19b+-0x17cb&&_0x124d04[0x1*0x172d+-0x2*0x5cb+-0xb96]===-0x120b*0x2+-0xa41+0x7*0x69f&&_0x124d04[-0x1f67+0x13b1*-0x1+0x331a]===0x17*-0x144+0x2*-0x614+0x2947&&_0x124d04[0x128f*-0x1+0x1*-0x104b+-0x4b*-0x77]===0x43*0x59+-0x22f8+0x2*0x5f6;},LL=_0x4aefd7=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x5b9611=>Bx(_0x4aefd7,_0x5b9611))['catch'](_0x43071a=>!(0xd47+0x101*-0x1a+0x1*0xcd4)),FL=_0x3078c8=>new Promise((_0x55b291,_0x36d9df)=>{const _0x3cb528=new Image();_0x3cb528['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x3cb528['onload']=()=>{_0x55b291(Bx(_0x3078c8,_0x3cb528));};});class kL{static['run'](_0x3c74e1){LL(_0x3c74e1)['then'](_0x49d66c=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x49d66c);}),FL(_0x3c74e1)['then'](_0x4caf3a=>{console['log']('imgElement'+'IsCorrect='+_0x4caf3a);});}}class OL extends Va{constructor(_0x131740,_0x284006){super(),this['crossOrigi'+'n']=_0x131740['prefix']?'anonymous':null,this['maxRetries']=-0x118*0x1+-0x2069+0x2181,this['device']=_0x284006,Qs['get']('IMG_ALPHA_'+'TEST')&&kL['run'](this['device']);}['load'](_0x2e9a14,_0x5d5fcf,_0xf8e50e){var _0x327c09;const _0xd113cf=!!((_0x327c09=_0xf8e50e==null?void(0x9*0x8d+0xbb8+0x1*-0x10ad):_0xf8e50e['file'])!=null&&_0x327c09['contents']);if(_0xd113cf){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0xf8e50e['file']['contents']]),_0x5d5fcf);return;}_0x2e9a14={'load':URL['createObje'+'ctURL'](new Blob([_0xf8e50e['file']['contents']])),'original':_0x2e9a14['original']};}const _0x54dbd0=(_0x69c91b,_0x3967a3)=>{_0xd113cf&&URL['revokeObje'+'ctURL'](_0x2e9a14['load']),_0x5d5fcf(_0x69c91b,_0x3967a3);};let _0x21b5b5;_0xf8e50e&&_0xf8e50e['options']&&_0xf8e50e['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x21b5b5=_0xf8e50e['options']['crossOrigi'+'n']:ka['test'](_0x2e9a14['load'])&&(_0x21b5b5=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x2e9a14['load'],_0x2e9a14['original'],_0x21b5b5,_0x54dbd0):this['_loadImage'](_0x2e9a14['load'],_0x2e9a14['original'],_0x21b5b5,_0x54dbd0);}['open'](_0x31e08d,_0x267239,_0x3ae5b9,_0x211ef4={}){const _0x191733=new ce(_0x3ae5b9,{'name':_0x31e08d,'profilerHint':fr,'width':_0x267239['width'],'height':_0x267239['height'],'format':_0x211ef4['srgb']?cs:Te,..._0x211ef4});return _0x191733['setSource'](_0x267239),_0x191733;}['_loadImage'](_0x204b8a,_0x15a0dd,_0x4bdd96,_0x10ab11){const _0x33dc2e=new Image();_0x4bdd96&&(_0x33dc2e['crossOrigi'+'n']=_0x4bdd96);let _0x447990=-0x3*-0x99f+-0x245+0x353*-0x8;const _0x386b3e=this['maxRetries'];let _0x58f369;_0x33dc2e['onload']=function(){_0x10ab11(null,_0x33dc2e);},_0x33dc2e['onerror']=function(){if(!_0x58f369){if(_0x386b3e>0x2*0x5a7+0x13bf+-0x1f0d*0x1&&++_0x447990<=_0x386b3e){const _0x14b7cc=Math['pow'](-0x112c+-0xad9+0x1c07,_0x447990)*(0x248a+0x21e9+-0x460f);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x15a0dd+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x14b7cc+'ms...');const _0x45c8e1=_0x204b8a['indexOf']('?')>=0x1a1c+0x176e*-0x1+0xe*-0x31?'&':'?';_0x58f369=setTimeout(()=>{_0x33dc2e['src']=_0x204b8a+_0x45c8e1+'retry='+Date['now'](),_0x58f369=null;},_0x14b7cc);}else _0x10ab11('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x15a0dd+'\x27');}},_0x33dc2e['src']=_0x204b8a;}['_loadImage'+'Bitmap'](_0x4b8fe4,_0xcbb447,_0x461754,_0x3fe248){const _0x517e67={'cache':!(0x21b5*-0x1+0x338+0x1e7d),'responseType':'blob','retry':this['maxRetries']>0x172f+-0x2a1*-0x2+-0x1c71,'maxRetries':this['maxRetries']};Ye['get'](_0x4b8fe4,_0x517e67,(_0x3e9622,_0x513696)=>{_0x3e9622?_0x3fe248(_0x3e9622):this['_loadImage'+'BitmapFrom'+'Blob'](_0x513696,_0x3fe248);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x532bc8,_0x39c041){createImageBitmap(_0x532bc8,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x54c037=>_0x39c041(null,_0x54c037))['catch'](_0x3a1499=>_0x39c041(_0x3a1499));}}const ou=[-0x943ba0e3+-0x3*0x15edba53+0x12e591b87,0xdfa25641+0x426bdc7d*-0x3+0xa2d27056,0xd945b46+-0x1bc2fdb*-0x7+-0x303032*0x53],BL={0x83f0:wc,0x83f2:Hf,0x83f3:Yo,0x8d64:Cc,0x9274:$f,0x9278:qf,0x8c00:Mc,0x8c01:Ko,0x8c02:Pc,0x8c03:Zo,0x8051:ur,0x8058:Te,0x8c41:Wf,0x8c43:cs,0x8c3a:ya,0x881b:Tc,0x881a:it};function NL(_0x226943,_0x2e49f3,_0x7e22ba,_0x53e818){return _0x226943===ya?new Uint32Array(_0x2e49f3,_0x7e22ba,_0x53e818/(0x1009+0x139f+-0x2*0x11d2)):new Uint8Array(_0x2e49f3,_0x7e22ba,_0x53e818);}class zL extends Va{constructor(_0x5eaf5f){super(),this['maxRetries']=-0xa17+0x4b+0x42*0x26;}['load'](_0x100c0a,_0x26c24d,_0x26416c){he['fetchArray'+'Buffer'](_0x100c0a['load'],_0x26c24d,_0x26416c,this['maxRetries']);}['open'](_0x529767,_0x596af1,_0xda913f,_0x5b330b={}){const _0x1cb92e=this['parse'](_0x596af1);if(!_0x1cb92e)return null;const _0x1f613f=_0x5b330b['srgb']?Ic(_0x1cb92e['format']):_0x1cb92e['format'],_0x15d463=new ce(_0xda913f,{'name':_0x529767,'profilerHint':fr,'addressU':_0x1cb92e['cubemap']?oe:nt,'addressV':_0x1cb92e['cubemap']?oe:nt,'width':_0x1cb92e['width'],'height':_0x1cb92e['height'],'format':_0x1f613f,'cubemap':_0x1cb92e['cubemap'],'levels':_0x1cb92e['levels'],..._0x5b330b});return _0x15d463['upload'](),_0x15d463;}['parse'](_0xb0c82f){const _0x50ce6a=new Uint32Array(_0xb0c82f);if(ou[0x4f*-0x71+-0x3*-0xd6+-0x205d*-0x1]!==_0x50ce6a[0x235f+-0x18b9*-0x1+-0x783*0x8]||ou[0x780*-0x5+0x9cf+0x1bb2]!==_0x50ce6a[0x10ea*0x2+-0x3*-0x9bd+-0x3f0a]||ou[0x193*0x10+0x1*-0x20ed+0x7bf]!==_0x50ce6a[-0x156+-0xf19+0x1071])return b['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x58ae38={'endianness':_0x50ce6a[0xc7*-0x11+0x1*0xc85+0xb5],'glType':_0x50ce6a[0x1*0x97a+0x214e+-0x2ac4],'glTypeSize':_0x50ce6a[-0x59d+0x1ec3+-0x1921*0x1],'glFormat':_0x50ce6a[0x1335+0x22ff+0x92*-0x5f],'glInternalFormat':_0x50ce6a[0x1*-0x599+-0x2*0x2b6+-0x7*-0x194],'glBaseInternalFormat':_0x50ce6a[0x2606+0x18d*-0xd+-0x11d5],'pixelWidth':_0x50ce6a[-0x3d0*-0x5+-0x16f+-0x8cc*0x2],'pixelHeight':_0x50ce6a[-0xd8a+0x22de+-0x154a],'pixelDepth':_0x50ce6a[-0x610+0x7b*0x20+-0x317*0x3],'numberOfArrayElements':_0x50ce6a[-0x96c+0xab*0x17+-0x1f7*0x3],'numberOfFaces':_0x50ce6a[0x1f98+-0x372+-0x1c19],'numberOfMipmapLevels':_0x50ce6a[0x17*-0x55+0xb51*0x2+0x2fd*-0x5],'bytesOfKeyValueData':_0x50ce6a[0xfd+0x1f48+-0x1*0x2036]};if(_0x58ae38['pixelDepth']>-0x39*0x91+0x26a6+-0x4*0x197)return b['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x58ae38['numberOfAr'+'rayElement'+'s']!==-0x153+-0x2135+0x82*0x44)return b['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x5b36b3=BL[_0x58ae38['glInternal'+'Format']];if(_0x5b36b3===void(0x3b7*-0x7+0x3*0x587+0x24*0x43))return b['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x58ae38['glInternal'+'Format']),null;let _0x1bb7ab=-0x1f1c+-0x3*0x5b3+0x3045+_0x58ae38['bytesOfKey'+'ValueData']/(0x1d4b+0x1*0x2106+0x3e4d*-0x1);const _0x377ce7=_0x58ae38['numberOfFa'+'ces']>-0x97*0x1+0x1a6e+-0x19d6,_0x2fb3c0=[];for(let _0x4ca1e8=-0xfd4+0x30a*-0x8+0x2824;_0x4ca1e8<(_0x58ae38['numberOfMi'+'pmapLevels']||-0x4ca+-0xf0*-0x5+-0x1*-0x1b);_0x4ca1e8++){const _0xf80c88=_0x50ce6a[_0x1bb7ab++];_0x377ce7&&_0x2fb3c0['push']([]);const _0x195dbd=_0x377ce7?_0x2fb3c0[_0x4ca1e8]:_0x2fb3c0;for(let _0x2e79ee=0xc25*0x1+-0x9af+-0x3f*0xa;_0x2e79ee<(_0x377ce7?0x59*-0x5f+0xbaf+0x155e:0xef*0x1d+0x2*0xce3+-0x34d8);++_0x2e79ee)_0x195dbd['push'](NL(_0x5b36b3,_0xb0c82f,_0x1bb7ab*(0x308*0x1+-0xac1+0x7bd),_0xf80c88)),_0x1bb7ab+=_0xf80c88+(0x11d3+-0x2*0x10fa+0x2*0x812)>>-0x5*0x4ae+0x8ad*0x3+-0x29f;}return{'format':_0x5b36b3,'width':_0x58ae38['pixelWidth'],'height':_0x58ae38['pixelHeigh'+'t'],'levels':_0x2fb3c0,'cubemap':_0x377ce7};}}const UL={'KHR_DF_MODEL_UASTC':0xa6};class VL extends Va{constructor(_0x4ad350,_0xea76b1){super(),this['maxRetries']=0x18c5+-0xd*0x11b+-0xa66,this['device']=_0xea76b1;}['load'](_0x133965,_0x20e386,_0x43cfa0){he['fetchArray'+'Buffer'](_0x133965['load'],(_0x5822ee,_0xba3ec8)=>{_0x5822ee?_0x20e386(_0x5822ee,_0xba3ec8):this['parse'](_0xba3ec8,_0x133965,_0x20e386,_0x43cfa0);},_0x43cfa0,this['maxRetries']);}['open'](_0x528f7b,_0xb4bb74,_0x2fe52e,_0x181c2f={}){const _0x2db5d9=_0x181c2f['srgb']?Ic(_0xb4bb74['format']):_0xb4bb74['format'],_0x3e1221=new ce(_0x2fe52e,{'name':_0x528f7b,'profilerHint':fr,'addressU':_0xb4bb74['cubemap']?oe:nt,'addressV':_0xb4bb74['cubemap']?oe:nt,'width':_0xb4bb74['width'],'height':_0xb4bb74['height'],'format':_0x2db5d9,'cubemap':_0xb4bb74['cubemap'],'levels':_0xb4bb74['levels'],..._0x181c2f});return _0x3e1221['upload'](),_0x3e1221;}['parse'](_0x2ef802,_0xc2e50a,_0x547bcc,_0x2ee53d){var _0x135e5f,_0xf4bc4,_0x3f67c8;const _0x7ed43c=new ly(_0x2ef802),_0x163a27=[_0x7ed43c['readU32be'](),_0x7ed43c['readU32be'](),_0x7ed43c['readU32be']()];if(_0x163a27[-0x1*-0x2108+0x22cb+-0x43d3]!==0x12d38d376+-0x106*-0xedfbba+0x1d6e2*-0xcb0d||_0x163a27[-0x1585+-0x653+-0x1*-0x1bd9]!==-0x13*0x240362b+0x38db96d1+0x121a9f1b||_0x163a27[0xfeb+-0x417+-0xbd2]!==-0x3b1fc1*0x2d+-0x340fd*-0x44c+0x9736fdb)return b['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0xe2446d={'vkFormat':_0x7ed43c['readU32'](),'typeSize':_0x7ed43c['readU32'](),'pixelWidth':_0x7ed43c['readU32'](),'pixelHeight':_0x7ed43c['readU32'](),'pixelDepth':_0x7ed43c['readU32'](),'layerCount':_0x7ed43c['readU32'](),'faceCount':_0x7ed43c['readU32'](),'levelCount':_0x7ed43c['readU32'](),'supercompressionScheme':_0x7ed43c['readU32']()},_0x3a40e6={'dfdByteOffset':_0x7ed43c['readU32'](),'dfdByteLength':_0x7ed43c['readU32'](),'kvdByteOffset':_0x7ed43c['readU32'](),'kvdByteLength':_0x7ed43c['readU32'](),'sgdByteOffset':_0x7ed43c['readU64'](),'sgdByteLength':_0x7ed43c['readU64']()},_0x55c16e=[];for(let _0x3c40de=0x9*-0x3f5+0x24cb*-0x1+0x4868;_0x3c40de<Math['max'](-0x1257+0x15*-0x1bb+-0x36af*-0x1,_0xe2446d['levelCount']);++_0x3c40de)_0x55c16e['push']({'byteOffset':_0x7ed43c['readU64'](),'byteLength':_0x7ed43c['readU64'](),'uncompressedByteLength':_0x7ed43c['readU64']()});if(_0x7ed43c['readU32']()!==_0x3a40e6['kvdByteOff'+'set']-_0x3a40e6['dfdByteOff'+'set'])return b['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x7ed43c['skip'](-0x1814+-0x2240+-0x1e*-0x1f2);const _0x46abf4=_0x7ed43c['readU8']();_0x7ed43c['skip'](_0x3a40e6['dfdByteLen'+'gth']-(-0x2*-0x76+-0xe2d*0x1+0xd4a)),_0x7ed43c['skip'](_0x3a40e6['kvdByteLen'+'gth']),_0xe2446d['supercompr'+'essionSche'+'me']===-0x31*-0xa+-0xf97+0xdae||_0x46abf4===UL['KHR_DF_MOD'+'EL_UASTC']?kx(this['device'],_0xc2e50a['load'],_0x2ef802,_0x547bcc,{'isGGGR':(((_0x3f67c8=(_0xf4bc4=(_0x135e5f=_0x2ee53d==null?void(-0x9fa+-0x76*0x2+0xae6):_0x2ee53d['file'])==null?void(-0x1*0x61f+0x186a+-0x124b):_0x135e5f['variants'])==null?void(0x217f*-0x1+-0x1a7f+0x3bfe):_0xf4bc4['basis'])==null?void(-0x10dd+0x3*0x2f5+0x155*0x6):_0x3f67c8['opt'])&-0x23e8+0x12ed+0x1103)!==-0x21be+-0x8db*0x4+0x452a,'isKTX2':!(-0x7b*0x45+-0x1578+-0x369f*-0x1)})||_0x547bcc('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x2ee53d['name']+']('+_0x2ee53d['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x547bcc('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class GL extends Va{constructor(_0x284580){super(),this['maxRetries']=-0x52d*-0x3+-0x137b*-0x1+0x2*-0x1181;}['load'](_0x296062,_0x2f11b8,_0x47cbff){he['fetchArray'+'Buffer'](_0x296062['load'],_0x2f11b8,_0x47cbff,this['maxRetries']);}['open'](_0xd907f4,_0x2ec43c,_0x5b6d4a,_0x460946={}){const _0x23bcac=new Uint32Array(_0x2ec43c,-0x471+0x1ab4*0x1+-0x1643,-0x1232+-0x67*-0x9+0xeb3),_0x2b6752=_0x23bcac[0x91*0x5+-0x192a+0x1659*0x1],_0x3dd3a2=_0x23bcac[-0x1ad6+-0x1175+0x2c4e],_0xf8d040=Math['max'](_0x23bcac[0x1*-0x8bb+-0x1*0x22c6+0xae2*0x4],0x719+0x2617*0x1+0x10d*-0x2b),_0x402f48=_0x23bcac[-0x1f8c+0xf*0x232+-0x14e]===-0x1*0x1969+-0x2381*0x1+-0xb*-0x58a,_0x45e7f8=_0x23bcac[0x8de+0x45b+-0x4*0x349],_0x57d3cb=_0x23bcac[0xb91+0x258e+-0x3109],_0x30a7ac=_0x23bcac[0x1709+-0x405+0x1b8*-0xb]===0x10e9f+0x4*0x404b+-0x20f*0x85,_0x5767ee=-0x2dd9a180+0x3aedba98+-0x1*-0x24403f2c,_0x505747=-0x19833083+0x32e68b48+0x1bf0fd7f,_0x2c636b=0x1161+-0x40e+0xc2*-0x11,_0x42b974=0x1*-0x5f+0x1c76+0x1ba3*-0x1,_0x1712a0=0x44bdc3*0x1d+0x3f5d1fac+-0x1*0x15e34a7e,_0xfcbbfa=-0x44deb619+-0x1*0x3f0937e1+0x59c66*0x2047,_0x22361b=-0x137a158f+-0x4f*0x3b08c3+0x56e5fc0c,_0x5dd496=0x19689678+0x286271e4+-0x1097d40c,_0x5d8b9c=0x20ffbc9b+0x64*-0x1895cb+0x19cefb01;let _0x1107c4=!(-0x219e+0x1*-0x167f+0x16*0x28d),_0xb70322=!(-0xa1d*-0x1+-0x167f+0xc63*0x1),_0x4c1f29=!(-0x3a*0x29+-0x4ab+-0xdf6*-0x1),_0x28b6f8=!(0x3e3*-0x3+0x1cc8+0x1*-0x111e),_0x1b55e5=null,_0x2630b5=0x718+0x3*0x838+-0x15*0x183,_0xece920;if(_0x402f48?_0x45e7f8===_0x5767ee?(_0x1b55e5=wc,_0x1107c4=!(0x271*0x5+0xdc+-0xd11)):_0x45e7f8===_0x505747?(_0x1b55e5=Yo,_0x1107c4=!(-0x17ae+0x1*0x755+-0x573*-0x3)):_0x45e7f8===_0x2c636b?(_0x1b55e5=it,_0x2630b5=-0x47*-0x6f+0x1238+-0x30ff):_0x45e7f8===_0x42b974?(_0x1b55e5=et,_0x2630b5=0x14f*0x1+0x1493+-0x15de):_0x45e7f8===_0x1712a0?(_0x1b55e5=Cc,_0x1107c4=!(0x1682+0x13e9+0x2a6b*-0x1),_0xb70322=!(0x21b*0xb+-0x2609+0xee0)):_0x45e7f8===_0xfcbbfa||_0x45e7f8===_0x22361b?(_0x1b55e5=_0x45e7f8===_0xfcbbfa?Ko:Zo,_0x1107c4=!(-0x11a0+-0x17*-0x159+-0xd5f),_0x4c1f29=!(-0x18*0xca+-0x1c94+0x2f84)):(_0x45e7f8===_0x5dd496||_0x45e7f8===_0x5d8b9c)&&(_0x1b55e5=_0x45e7f8===_0x5dd496?Mc:Pc,_0x1107c4=!(0xce2+0xb4b*-0x3+0x14ff*0x1),_0x28b6f8=!(-0x1*-0x26b7+0x10ef+-0x11*0x346)):_0x57d3cb===0x3a*0x62+0x23b0+0x1*-0x39c4&&(_0x1b55e5=Te),!_0x1b55e5)return b['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0xd907f4+'.'),_0xece920=new ce(_0x5b6d4a,{'width':0x4,'height':0x4,'format':ur,'name':'dds-legacy'+'-empty'}),_0xece920;_0xece920=new ce(_0x5b6d4a,{'name':_0xd907f4,'profilerHint':fr,'addressU':_0x30a7ac?oe:nt,'addressV':_0x30a7ac?oe:nt,'width':_0x2b6752,'height':_0x3dd3a2,'format':_0x1b55e5,'cubemap':_0x30a7ac,'mipmaps':_0xf8d040>0x1d61*0x1+-0x26fc*-0x1+0x64*-0xaf,..._0x460946});let _0x20f09a=-0x1*-0x15b9+0x4*0x586+-0x2b51*0x1;const _0x215f25=_0x30a7ac?0x1*-0x192e+-0x9ad*0x3+0x363b:0x873+-0x1a+-0x6*0x164;let _0x161198;const _0x4cb2aa=-0x138e+0x4d1*0x7+0xd5*-0x11,_0x7c30ec=0x1cfd+0x20c8+-0x3dc1,_0x1ce94b=_0x45e7f8===_0x5767ee?-0x7*-0x10+-0x744+-0x6dc*-0x1:-0x1014+-0x1ac1*0x1+0x2ae5*0x1;let _0x1d807a,_0x64c603,_0x395410;for(let _0x35f5cf=0x1*0x2188+-0x7*0x34b+0xa7b*-0x1;_0x35f5cf<_0x215f25;_0x35f5cf++){let _0x543ecd=_0x2b6752,_0x24ab57=_0x3dd3a2;for(let _0x3d8bd9=-0x7*0x313+0x843+0xd42;_0x3d8bd9<_0xf8d040;_0x3d8bd9++){_0x1107c4?_0xb70322?_0x161198=Math['floor']((_0x543ecd+(0xc73+0x24bb+-0x312b))/(0x184d+0x128f+0x3*-0xe48))*Math['floor']((_0x24ab57+(-0xf9c+0x577*0x2+0x4b1))/(0x13b+0x172f+-0x1866))*(-0x15b+0x1c67+-0x1b04):_0x4c1f29?_0x161198=Math['max'](_0x543ecd,-0xd5a*0x1+0x26c*-0xd+0x2ce6)*Math['max'](_0x24ab57,0x131a+-0x1162+-0x1b0)/(0x121*-0x14+-0x1072*-0x2+-0x293*0x4):_0x28b6f8?_0x161198=Math['max'](_0x543ecd,0xf*0x3e+0x2ab*-0xa+0x1714)*Math['max'](_0x24ab57,-0xdba+-0x2*0x120e+0x31de)/(0x15b2+-0xa*-0x86+-0x1aec):(_0x1d807a=Math['floor']((_0x543ecd+_0x4cb2aa-(0x1*-0x2016+0x1*-0xbfb+-0x1609*-0x2))/_0x4cb2aa),_0x64c603=Math['floor']((_0x24ab57+_0x7c30ec-(-0x117d*-0x2+0xf8d*-0x1+0x2*-0x9b6))/_0x7c30ec),_0x395410=_0x1d807a*_0x64c603,_0x161198=_0x395410*_0x1ce94b):_0x161198=_0x543ecd*_0x24ab57*(0x155*-0x3+0x1a01+-0x15fe);const _0x2374f5=_0x1b55e5===et?new Float32Array(_0x2ec43c,_0x20f09a,_0x161198):_0x1b55e5===it?new Uint16Array(_0x2ec43c,_0x20f09a,_0x161198):new Uint8Array(_0x2ec43c,_0x20f09a,_0x161198);_0x30a7ac?(_0xece920['_levels'][_0x3d8bd9]||(_0xece920['_levels'][_0x3d8bd9]=[]),_0xece920['_levels'][_0x3d8bd9][_0x35f5cf]=_0x2374f5):_0xece920['_levels'][_0x3d8bd9]=_0x2374f5,_0x20f09a+=_0x161198*_0x2630b5,_0x543ecd=Math['max'](_0x543ecd*(-0x1f57+0x1*-0xe11+0x2d68+0.5),0x105b+0x21fc+-0x2f6*0x11),_0x24ab57=Math['max'](_0x24ab57*(0xcff*-0x2+-0xf07+0x1*0x2905+0.5),-0x40*-0x6a+-0x1*-0x7cf+-0x1127*0x2);}}return _0xece920['upload'](),_0xece920;}}class HL extends Va{constructor(_0xb284ce){super(),this['maxRetries']=-0x121e+0x9fa+0x824;}['load'](_0xac37aa,_0x2af9de,_0xdf6b50){he['fetchArray'+'Buffer'](_0xac37aa['load'],_0x2af9de,_0xdf6b50,this['maxRetries']);}['open'](_0x40173f,_0x3e4c72,_0x23f9cb,_0x1407fd={}){const _0x1babed=this['parse'](_0x3e4c72);if(!_0x1babed)return null;const _0x540b1a=new ce(_0x23f9cb,{'name':_0x40173f,'profilerHint':fr,'addressU':nt,'addressV':oe,'minFilter':fe,'magFilter':fe,'width':_0x1babed['width'],'height':_0x1babed['height'],'levels':_0x1babed['levels'],'format':Te,'type':cp,'mipmaps':!(-0x1*0x19d9+0x6*-0x76+0x29a*0xb),..._0x1407fd});return _0x540b1a['upload'](),_0x540b1a;}['parse'](_0x650618){const _0x4ad709=new ly(_0x650618);if(!_0x4ad709['readLine']()['startsWith']('#?RADIANCE'))return b['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x51684a={};for(;;){const _0x246150=_0x4ad709['readLine']();if(_0x246150['length']===0x2540+0xf38+-0x3478)break;{const _0x307224=_0x246150['split']('=');_0x307224['length']===0x4*0x902+-0x4e*0x35+-0x13e0&&(_0x51684a[_0x307224[-0x151*0xb+-0x1*-0x1f56+-0x10db]]=_0x307224[0x28+0x1fb0+-0x1fd7]);}}if(!_0x51684a['hasOwnProp'+'erty']('FORMAT'))return b['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x4bec17=_0x4ad709['readLine']()['split']('\x20');if(_0x4bec17['length']!==0x1a72+-0x1539+-0x535)return b['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x4ff3de=parseInt(_0x4bec17[0x2bd*-0x1+0x7de+-0x520],-0x363+-0xa38+-0xda5*-0x1),_0xc44021=parseInt(_0x4bec17[0x3*-0x48b+-0x5fb+0x139f],-0x885+0xbba*0x3+0x1d*-0xeb),_0x584820=this['_readPixel'+'s'](_0x4ad709,_0xc44021,_0x4ff3de,_0x4bec17[0x16c3+-0x523+-0x234*0x8]==='-Y');return _0x584820?{'width':_0xc44021,'height':_0x4ff3de,'levels':[_0x584820]}:null;}['_readPixel'+'s'](_0x34cef7,_0x5e0b91,_0xb9ba0e,_0x2a0b81){if(_0x5e0b91<0x23b*-0x1+0x2e0+-0x9d||_0x5e0b91>0xa73*0x3+-0x6b6*0x1b+0x4576*0x4)return this['_readPixel'+'sFlat'](_0x34cef7,_0x5e0b91,_0xb9ba0e);const _0xd701b5=[0xc62+-0x1ef3+-0x61*-0x31,0x1a47+-0x18a4+0x1*-0x1a3,-0x995*-0x2+0x2*-0x2fd+-0xd30,0x1460+-0x64*-0x3+-0x158c];if(_0x34cef7['readArray'](_0xd701b5),_0xd701b5[-0x1*0x1189+0x1633+0x1*-0x4aa]!==-0x25b9+-0x423*0x1+0x29de||_0xd701b5[-0xa*0x2c3+0x7*-0xa+-0x1*-0x1be5]!==0x1fd4+0x16a*0x7+0x14*-0x216||(_0xd701b5[0x1*0x1dbb+-0x15b9+0x800*-0x1]&0xb*0x53+-0xef6+-0x15*-0x91)!==-0x50e*0x2+0x1b99+-0x117d)return _0x34cef7['skip'](-(-0xba9*0x1+0x2*-0x5e6+-0x3*-0x7d3)),this['_readPixel'+'sFlat'](_0x34cef7,_0x5e0b91,_0xb9ba0e);const _0x45dfc=new ArrayBuffer(_0x5e0b91*_0xb9ba0e*(0x1163*0x1+0x10de+-0x223d)),_0x28e3f0=new Uint8Array(_0x45dfc);let _0x5cb0d8=_0x2a0b81?-0x75b*0x1+0x263b+-0x20*0xf7:_0x5e0b91*(-0x2cd*0x3+0x706+-0x1*-0x165)*(_0xb9ba0e-(-0x1d*-0xdf+-0x4bb+-0x1487)),_0x50fe6d,_0x2757e1,_0x3147f9,_0x213c2b,_0x3dd832,_0x4fb0de;for(_0x2757e1=0x1cd*-0xe+-0x1*0x25b0+0x53*0xc2;_0x2757e1<_0xb9ba0e;++_0x2757e1){if(_0x2757e1&&_0x34cef7['readArray'](_0xd701b5),(_0xd701b5[-0x12b9*0x1+-0x17a1+0x2a5c]<<0x1d*-0x25+0x2518+-0x20df)+_0xd701b5[-0x563+0x1*0xfb5+-0xa4f*0x1]!==_0x5e0b91)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x213c2b=-0xc75*-0x2+0xc2c*0x1+-0x2516;_0x213c2b<0x1978+0xda6+-0x4d*0x82;++_0x213c2b)for(_0x50fe6d=0x1b40+-0xd*-0x31+0x17*-0x14b;_0x50fe6d<_0x5e0b91;)if(_0x3dd832=_0x34cef7['readU8'](),_0x3dd832>0x12d0+-0xd40+-0x8*0xa2){if(_0x3dd832-=-0x1485+-0xc41*0x3+0x39c8,_0x50fe6d+_0x3dd832>_0x5e0b91)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x4fb0de=_0x34cef7['readU8'](),_0x3147f9=-0x1310+0x470+0xea0;_0x3147f9<_0x3dd832;++_0x3147f9)_0x28e3f0[_0x5cb0d8+_0x213c2b+(-0xee8*0x2+-0x168+0x1f3c)*_0x50fe6d++]=_0x4fb0de;}else{if(_0x3dd832===0x1214+-0xb*0x12f+-0x7*0xb9||_0x50fe6d+_0x3dd832>_0x5e0b91)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x3147f9=0x1bab+0x1bb8*-0x1+0xd;_0x3147f9<_0x3dd832;++_0x3147f9)_0x28e3f0[_0x5cb0d8+_0x213c2b+(0x138d+0x1*0x17a5+-0x2b2e*0x1)*_0x50fe6d++]=_0x34cef7['readU8']();}_0x5cb0d8+=_0x5e0b91*(-0x13d*-0xb+0x94+-0xe2f)*(_0x2a0b81?0xd*0x272+-0x1a72+-0x557:-(0x14e5+0x54e+-0x1a32));}return _0x28e3f0;}['_readPixel'+'sFlat'](_0x42b6c8,_0x21563a,_0x541aeb){return _0x42b6c8['remainingB'+'ytes']===_0x21563a*_0x541aeb*(-0x242d+-0x1822*-0x1+0x3*0x405)?new Uint8Array(_0x42b6c8['arraybuffe'+'r'],_0x42b6c8['offset']):null;}}const $g={'repeat':nt,'clamp':oe,'mirror':zf},qg={'nearest':fe,'linear':at,'nearest_mip_nearest':yc,'linear_mip_nearest':Sc,'nearest_mip_linear':xc,'linear_mip_linear':an},WL={'default':Bi,'rgbm':ln,'rgbe':cp,'rgbp':ko,'swizzleGGGR':dp},$L=function(_0x2d9681){const _0x2ea428=Li['calcMipLev'+'elsCount'](_0x2d9681['_width'],_0x2d9681['_height']),_0x2965ed=function(_0x8e4a96){return _0x8e4a96 instanceof HTMLCanvasElement||_0x8e4a96 instanceof HTMLImageElement||_0x8e4a96 instanceof HTMLVideoElement;};if(!(_0x2d9681['_format']===Te||_0x2d9681['_format']===et)||_0x2d9681['_volume']||_0x2d9681['_compresse'+'d']||_0x2d9681['_levels']['length']===0xccb+0x34b*-0x1+-0x97f||_0x2d9681['_levels']['length']===_0x2ea428||_0x2965ed(_0x2d9681['_cubemap']?_0x2d9681['_levels'][-0x1734+0xc22*-0x2+0x2f78][-0xa38+-0xb3e+-0xabb*-0x2]:_0x2d9681['_levels'][-0x17dd*0x1+0x4bf+0x131e]))return;const _0x571f1e=function(_0x537df9,_0x4506e3,_0x520dc3){const _0x2e65a5=Math['max'](-0x13fc+0x65a+0xda3*0x1,_0x537df9>>0x5d*-0x3+-0x1aa6+0x1bbe),_0x58f1eb=Math['max'](-0x6ec+-0x902+0x1*0xfef,_0x4506e3>>0xaec*0x1+-0x5dd*-0x1+-0x10c8),_0x11c9cc=new _0x520dc3['constructo'+'r'](_0x2e65a5*_0x58f1eb*(-0x11*0x1c3+0x1275+0x6*0x1eb)),_0x193617=Math['floor'](_0x537df9/_0x2e65a5),_0x3a6500=Math['floor'](_0x4506e3/_0x58f1eb),_0x23fd0d=_0x193617*_0x3a6500;for(let _0x541e29=0x1e9f+0x2*0x67b+0x3*-0xe87;_0x541e29<_0x58f1eb;++_0x541e29)for(let _0x358862=0x1*-0x2d7+-0x330+0x607;_0x358862<_0x2e65a5;++_0x358862)for(let _0x4ecd5f=0x3*-0x765+-0x455+-0x2*-0xd42;_0x4ecd5f<0x1ce5+-0x178c+0x1c7*-0x3;++_0x4ecd5f){let _0x4c100f=0x1906+-0x1*0x6ad+0xb*-0x1ab;for(let _0x161cfa=0x1c0d+-0x337*0x7+-0x5*0x11c;_0x161cfa<_0x3a6500;++_0x161cfa)for(let _0x2e2626=-0x2*-0x3fc+0x39b*0x8+-0x24d0*0x1;_0x2e2626<_0x193617;++_0x2e2626)_0x4c100f+=_0x520dc3[(_0x358862*_0x193617+_0x2e2626+(_0x541e29*_0x3a6500+_0x161cfa)*_0x537df9)*(-0x11dd+-0x2327*0x1+0x3508)+_0x4ecd5f];_0x11c9cc[(_0x358862+_0x541e29*_0x2e65a5)*(-0xcda+-0x1*0xdf6+-0x11*-0x194)+_0x4ecd5f]=_0x4c100f/_0x23fd0d;}return _0x11c9cc;};for(let _0x1aae0c=_0x2d9681['_levels']['length'];_0x1aae0c<_0x2ea428;++_0x1aae0c){const _0x592b3e=Math['max'](0x2d*0x80+0x20db+-0xd*0x442,_0x2d9681['_width']>>_0x1aae0c-(0xaf*0x17+-0x9b2+-0x606)),_0x1d3bdd=Math['max'](0x1f96*-0x1+-0x1e56+0x53*0xbf,_0x2d9681['_height']>>_0x1aae0c-(-0x25cc+0x3d*0x72+0x7*0x185));if(_0x2d9681['_cubemap']){const _0x149860=[];for(let _0x527c59=0x1aef+0x222e+-0x23*0x1bf;_0x527c59<0x23c4+0x173d*-0x1+-0xc81;++_0x527c59)_0x149860['push'](_0x571f1e(_0x592b3e,_0x1d3bdd,_0x2d9681['_levels'][_0x1aae0c-(-0x2628+0x1*-0x521+0x2b4a)][_0x527c59]));_0x2d9681['_levels']['push'](_0x149860);}else _0x2d9681['_levels']['push'](_0x571f1e(_0x592b3e,_0x1d3bdd,_0x2d9681['_levels'][_0x1aae0c-(0x5b7+-0x1069+0xab3)]));}_0x2d9681['_levelsUpd'+'ated']=_0x2d9681['_cubemap']?[[!(-0x20b1*-0x1+-0x2*-0x537+-0x2b1f*0x1),!(0xfd9+-0x9*-0x1ad+-0x1eee),!(0xa44+-0x1319*-0x1+-0x1d5d),!(-0x57d*-0x1+-0xe37+-0x45d*-0x2),!(0x1c5*-0x15+0x2d+0x24fc),!(0xe7+-0x27*0xe0+0x2139)]]:[!(-0x1028+-0x1*-0x10bd+-0x95)];};class qL extends Ge{constructor(_0xe9c428){super(_0xe9c428,'texture');const _0x7f65bb=_0xe9c428['assets'],_0xad47ed=_0xe9c428['graphicsDe'+'vice'];this['_device']=_0xad47ed,this['_assets']=_0x7f65bb,this['imgParser']=new OL(_0x7f65bb,_0xad47ed),this['parsers']={'dds':new GL(_0x7f65bb),'ktx':new zL(_0x7f65bb),'ktx2':new VL(_0x7f65bb,_0xad47ed),'basis':new DL(_0x7f65bb,_0xad47ed),'hdr':new HL(_0x7f65bb)};}set['crossOrigi'+'n'](_0x21282f){this['imgParser']['crossOrigi'+'n']=_0x21282f;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x49e005){this['imgParser']['maxRetries']=_0x49e005;for(const _0x1f6e0a in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x1f6e0a)&&(this['parsers'][_0x1f6e0a]['maxRetries']=_0x49e005);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0xb354e){return _0xb354e['indexOf']('?')>=0x227e+-0x76f*-0x1+-0x1*0x29ed?_0xb354e['split']('?')[-0x1532+-0x1102+-0x14*-0x1e9]:_0xb354e;}['_getParser'](_0xbb6927){const _0x1d775b=me['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0xbb6927))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x1d775b]||this['imgParser'];}['_getTextur'+'eOptions'](_0x1336cf){var _0xdb4492;const _0x5424f2={'profilerHint':fr};if(_0x1336cf){((_0xdb4492=_0x1336cf['name'])==null?void(0x38*0x4d+-0x23a7*-0x1+-0x347f):_0xdb4492['length'])>0x55d*-0x5+0x1bfb+0x2*-0x95&&(_0x5424f2['name']=_0x1336cf['name']);const _0x5e2998=_0x1336cf['data'];_0x5e2998['hasOwnProp'+'erty']('minfilter')&&(_0x5424f2['minFilter']=qg[_0x5e2998['minfilter']]),_0x5e2998['hasOwnProp'+'erty']('magfilter')&&(_0x5424f2['magFilter']=qg[_0x5e2998['magfilter']]),_0x5e2998['hasOwnProp'+'erty']('addressu')&&(_0x5424f2['addressU']=$g[_0x5e2998['addressu']]),_0x5e2998['hasOwnProp'+'erty']('addressv')&&(_0x5424f2['addressV']=$g[_0x5e2998['addressv']]),_0x5e2998['hasOwnProp'+'erty']('mipmaps')&&(_0x5424f2['mipmaps']=_0x5e2998['mipmaps']),_0x5e2998['hasOwnProp'+'erty']('anisotropy')&&(_0x5424f2['anisotropy']=_0x5e2998['anisotropy']),_0x5e2998['hasOwnProp'+'erty']('flipY')&&(_0x5424f2['flipY']=!!_0x5e2998['flipY']),_0x5e2998['hasOwnProp'+'erty']('srgb')&&(_0x5424f2['srgb']=!!_0x5e2998['srgb']),_0x5e2998['hasOwnProp'+'erty']('type')?_0x5424f2['type']=WL[_0x5e2998['type']]:_0x5e2998['hasOwnProp'+'erty']('rgbm')&&_0x5e2998['rgbm']?_0x5424f2['type']=ln:_0x1336cf['file']&&(_0x1336cf['file']['opt']&0x1*0xeff+-0x1*0x18e5+0x1f*0x52)!==0x11a8+0xcd+-0x69*0x2d&&(_0x5424f2['type']=dp);}return _0x5424f2;}['load'](_0x5a42bf,_0x2cdc30,_0x2b3317){typeof _0x5a42bf=='string'&&(_0x5a42bf={'load':_0x5a42bf,'original':_0x5a42bf}),this['_getParser'](_0x5a42bf['original'])['load'](_0x5a42bf,_0x2cdc30,_0x2b3317);}['open'](_0x2b9c55,_0x1c7329,_0x281f5d){if(!_0x2b9c55)return;const _0x53faa6=this['_getTextur'+'eOptions'](_0x281f5d);let _0xafc8b4=this['_getParser'](_0x2b9c55)['open'](_0x2b9c55,_0x1c7329,this['_device'],_0x53faa6);return _0xafc8b4===null?_0xafc8b4=new ce(this['_device'],{'width':0x4,'height':0x4,'format':ur}):($L(_0xafc8b4),_0x1c7329['unswizzled'+'GGGR']&&(_0x281f5d['file']['variants']['basis']['opt']&=-(-0x8da+-0x13c2+0x1ca5))),_0xafc8b4;}['patch'](_0x5a2930,_0xe056f0){const _0xcad3b7=_0x5a2930['resource'];if(!_0xcad3b7)return;const _0x182849=this['_getTextur'+'eOptions'](_0x5a2930);for(const _0xdb93b8 of Object['keys'](_0x182849))_0xcad3b7[_0xdb93b8]=_0x182849[_0xdb93b8];}}const XL='inline',jL='immersive-'+'vr',Po='immersive-'+'ar',Xg='viewer',YL='left',KL='cpu-optimi'+'zed',Nx='gpu-optimi'+'zed',zx='luminance-'+'alpha',Ux='unsigned-s'+'hort',Vx='float32';class ZL{constructor(_0x18e93d){c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0x18e93d;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x1e45a1){!this['_supported']||this['_manager']['active']||(this['_root']=_0x1e45a1);}get['root'](){return this['_root'];}}const lh=[],jg=[];class Rf extends de{constructor(_0x8be36e,_0x223d09,_0x1b5cbd,_0x56f861=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x8be36e,this['_xrHitTest'+'Source']=_0x223d09,this['_transient']=_0x1b5cbd,this['_inputSour'+'ce']=_0x56f861);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0xdc4dfc=this['manager']['hitTest']['sources'],_0x48820e=_0xdc4dfc['indexOf'](this);_0x48820e!==-(0x13a6+0x3*0x520+0xa3*-0x37)&&_0xdc4dfc['splice'](_0x48820e,0x1815+-0x1*-0xd2b+-0x253f*0x1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x4cfb82){if(this['_transient']){const _0x4849e2=_0x4cfb82['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x1ffa95=0x1*-0xecb+-0x18aa+0x2775*0x1;_0x1ffa95<_0x4849e2['length'];_0x1ffa95++){const _0x13220b=_0x4849e2[_0x1ffa95];if(!_0x13220b['results']['length'])continue;let _0x4c92f3;_0x13220b['inputSourc'+'e']&&(_0x4c92f3=this['manager']['input']['_getByInpu'+'tSource'](_0x13220b['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x13220b['results'],_0x4c92f3);}}else{const _0x46be24=_0x4cfb82['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x46be24['length'])return;this['updateHitR'+'esults'](_0x46be24);}}['updateHitR'+'esults'](_0x475c9b,_0x528b06){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x528b06)return;const _0x29e694=lh['pop']()??new A();_0x528b06?_0x29e694['copy'](_0x528b06['getOrigin']()):_0x29e694['copy'](this['manager']['camera']['getPositio'+'n']());let _0x187120=(0x1*0x544+-0xdaf+0x86c)/(-0x562+0x3b*-0x23+0x139*0xb),_0x54a6fc=null;const _0x569856=lh['pop']()??new A(),_0x59f580=jg['pop']()??new ie();for(let _0x37e635=0x30c+0xf25+-0x1231;_0x37e635<_0x475c9b['length'];_0x37e635++){const _0x18f339=_0x475c9b[_0x37e635]['getPose'](this['manager']['_reference'+'Space']),_0x475a70=_0x29e694['distance'](_0x18f339['transform']['position']);_0x475a70>=_0x187120||(_0x187120=_0x475a70,_0x54a6fc=_0x475c9b[_0x37e635],_0x569856['copy'](_0x18f339['transform']['position']),_0x59f580['copy'](_0x18f339['transform']['orientatio'+'n']));}this['fire']('result',_0x569856,_0x59f580,_0x528b06||this['_inputSour'+'ce'],_0x54a6fc),this['manager']['hitTest']['fire']('result',this,_0x569856,_0x59f580,_0x528b06||this['_inputSour'+'ce'],_0x54a6fc),lh['push'](_0x29e694),lh['push'](_0x569856),jg['push'](_0x59f580);}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_RESU'+'LT','result');class Br extends de{constructor(_0x258688){super(),c(this,'manager'),c(this,'_supported',be['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(-0x1e9c+-0x8*-0xb0+0x191d)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x2*-0x5f8+-0xcc7+0x1*0xd8)),c(this,'sources',[]),(this['manager']=_0x258688,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x544fdf=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x3*0x987+-0x310+0x1fa6);if(!_0x544fdf)return;this['_available']=_0x544fdf,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x8b*0x33+-0x1487+0x3038),this['manager']['session']['requestRef'+'erenceSpac'+'e'](Xg)['then'](_0x2bae3f=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x2bae3f})['then'](_0x5eb3af=>{_0x5eb3af['cancel'](),this['manager']['active']&&(this['_available']=!(-0x12*-0xec+-0xa*0x29+-0xefe),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1*0x1877+0x1*-0x5b9+0x1e31);for(let _0x40893c=-0x20f5+-0x1*0xd8b+0x2e80;_0x40893c<this['sources']['length'];_0x40893c++)this['sources'][_0x40893c]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x2b7efa={}){var _0x3cbbad,_0x409388;if(!this['_supported']){(_0x3cbbad=_0x2b7efa['callback'])==null||_0x3cbbad['call'](_0x2b7efa,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x409388=_0x2b7efa['callback'])==null||_0x409388['call'](_0x2b7efa,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x2b7efa['profile']&&!_0x2b7efa['spaceType']&&(_0x2b7efa['spaceType']=Xg);let _0x8fd1aa;const _0x298c6d=_0x2b7efa['offsetRay'];if(_0x298c6d){const _0x7ec51f=new DOMPoint(_0x298c6d['origin']['x'],_0x298c6d['origin']['y'],_0x298c6d['origin']['z'],-0xfd5+-0x236c+0x3342),_0x1ac753=new DOMPoint(_0x298c6d['direction']['x'],_0x298c6d['direction']['y'],_0x298c6d['direction']['z'],0xa96*0x2+0x134e+-0x287a);_0x8fd1aa=new XRRay(_0x7ec51f,_0x1ac753);}const _0x319781=_0x2b7efa['callback'];_0x2b7efa['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x2b7efa['spaceType'])['then'](_0x3215b8=>{if(!this['manager']['session']){const _0x54585c=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x319781&&_0x319781(_0x54585c),this['fire']('error',_0x54585c);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x3215b8,'entityTypes':_0x2b7efa['entityType'+'s']||void(-0x542+0x20*-0x83+0x6*0x39b),'offsetRay':_0x8fd1aa})['then'](_0x4dca7d=>{this['_onHitTest'+'Source'](_0x4dca7d,!(0x902+0xb*-0x389+0x1de2),_0x2b7efa['inputSourc'+'e'],_0x319781);})['catch'](_0x457eed=>{_0x319781&&_0x319781(_0x457eed),this['fire']('error',_0x457eed);});})['catch'](_0x33923b=>{_0x319781&&_0x319781(_0x33923b),this['fire']('error',_0x33923b);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x2b7efa['profile'],'entityTypes':_0x2b7efa['entityType'+'s']||void(0x10e1*-0x2+-0x1ba5+0x3d67),'offsetRay':_0x8fd1aa})['then'](_0x5bdf83=>{this['_onHitTest'+'Source'](_0x5bdf83,!(-0x1e9c+-0x199*-0x9+0x103b),_0x2b7efa['inputSourc'+'e'],_0x319781);})['catch'](_0x57fe91=>{_0x319781&&_0x319781(_0x57fe91),this['fire']('error',_0x57fe91);});}['_onHitTest'+'Source'](_0x4f1219,_0x48f500,_0x5034d4,_0x345289){if(!this['manager']['session']){_0x4f1219['cancel']();const _0x360c0e=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x345289&&_0x345289(_0x360c0e),this['fire']('error',_0x360c0e);return;}const _0x548762=new Rf(this['manager'],_0x4f1219,_0x48f500,_0x5034d4??null);this['sources']['push'](_0x548762),_0x345289&&_0x345289(null,_0x548762),this['fire']('add',_0x548762);}['update'](_0xeabdc5){if(this['_available']){for(let _0x263faa=-0x6aa+-0x4a3+0xb4d;_0x263faa<this['sources']['length'];_0x263faa++)this['sources'][_0x263faa]['update'](_0xeabdc5);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(Br,'EVENT_AVAI'+'LABLE','available'),c(Br,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Br,'EVENT_ADD','add'),c(Br,'EVENT_REMO'+'VE','remove'),c(Br,'EVENT_RESU'+'LT','result'),c(Br,'EVENT_ERRO'+'R','error');class If extends de{constructor(_0x481829,_0x677072){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',-0x2*0x6be+-0x5*0x19b+0x1583*0x1),c(this,'_trackable',!(0x2dc*0x3+0x2b0+-0xb43)),c(this,'_tracking',!(-0x1d*-0x55+-0x22cd+0x1*0x192d)),c(this,'_emulated',!(-0x1*-0x1ae1+-0xd29+-0xdb7)),c(this,'_pose',null),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_image']=_0x481829,this['_width']=_0x677072);}get['image'](){return this['_image'];}set['width'](_0x55ad3d){this['_width']=_0x55ad3d;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x50faa4=>(this['_bitmap']=_0x50faa4,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(If,'EVENT_TRAC'+'KED','tracked'),c(If,'EVENT_UNTR'+'ACKED','untracked');class Gx extends de{constructor(_0x31ac52){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x33*-0x7d+0x6b9+-0x1f9f)),c(this,'_images',[]),(this['_manager']=_0x31ac52,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x41851b,_0xf73e9e){if(!this['_supported']||this['_manager']['active'])return null;const _0x3acf43=new If(_0x41851b,_0xf73e9e);return this['_images']['push'](_0x3acf43),_0x3acf43;}['remove'](_0x40cb3c){if(this['_manager']['active'])return;const _0x3a05b9=this['_images']['indexOf'](_0x40cb3c);_0x3a05b9!==-(0xfb5*-0x2+-0x386*-0xb+0x757*-0x1)&&(_0x40cb3c['destroy'](),this['_images']['splice'](_0x3a05b9,0x4db*-0x1+-0x337+0xd*0x9f));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x339cfd=>{this['_available']=!(0x587*-0x1+0x149d+0x78b*-0x2);for(let _0x36b6ff=0x1e36*-0x1+0x63c+0x63*0x3e;_0x36b6ff<_0x339cfd['length'];_0x36b6ff++)this['_images'][_0x36b6ff]['_trackable']=_0x339cfd[_0x36b6ff]==='trackable';})['catch'](_0x369f69=>{this['_available']=!(0x306*0xc+0xdf3+-0x323a),this['fire']('error',_0x369f69);});}['_onSession'+'End'](){this['_available']=!(-0x2695+0x44b+0x224b);for(let _0x2f2bf1=-0x2079+-0xaca*0x2+0x360d;_0x2f2bf1<this['_images']['length'];_0x2f2bf1++){const _0x10a8fb=this['_images'][_0x2f2bf1];_0x10a8fb['_pose']=null,_0x10a8fb['_measuredW'+'idth']=0x1399*0x1+0x2144+0x119f*-0x3,_0x10a8fb['_tracking']&&(_0x10a8fb['_tracking']=!(0x13*-0xb3+-0x12d3+0x201d),_0x10a8fb['fire']('untracked'));}}['prepareIma'+'ges'](_0x5c2e01){this['_images']['length']?Promise['all'](this['_images']['map'](_0x122530=>_0x122530['prepare']()))['then'](_0x1ad36b=>{_0x5c2e01(null,_0x1ad36b);})['catch'](_0x459c98=>{_0x5c2e01(_0x459c98,null);}):_0x5c2e01(null,null);}['update'](_0x396772){if(!this['_available'])return;const _0xea2bfa=_0x396772['getImageTr'+'ackingResu'+'lts'](),_0x56ec9e={};for(let _0x1ab0c4=-0x1*0x7f4+0x1ba0+-0x2*0x9d6;_0x1ab0c4<_0xea2bfa['length'];_0x1ab0c4++){_0x56ec9e[_0xea2bfa[_0x1ab0c4]['index']]=_0xea2bfa[_0x1ab0c4];const _0xf1a9a=this['_images'][_0xea2bfa[_0x1ab0c4]['index']];_0xf1a9a['_emulated']=_0xea2bfa[_0x1ab0c4]['trackingSt'+'ate']==='emulated',_0xf1a9a['_measuredW'+'idth']=_0xea2bfa[_0x1ab0c4]['measuredWi'+'dthInMeter'+'s'],_0xf1a9a['_pose']=_0x396772['getPose'](_0xea2bfa[_0x1ab0c4]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x22015d=0x1e3b*-0x1+0x8*-0x4cf+0x44b3;_0x22015d<this['_images']['length'];_0x22015d++)this['_images'][_0x22015d]['_tracking']&&!_0x56ec9e[_0x22015d]?(this['_images'][_0x22015d]['_tracking']=!(0x447+-0x56*0x1+-0x2*0x1f8),this['_images'][_0x22015d]['fire']('untracked')):!this['_images'][_0x22015d]['_tracking']&&_0x56ec9e[_0x22015d]&&(this['_images'][_0x22015d]['_tracking']=!(-0x135e+0x1*-0x2104+0x3462),this['_images'][_0x22015d]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Gx,'EVENT_ERRO'+'R','error');class QL{constructor(_0x1170de,_0x3a33a2){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x1170de,this['_hand']=_0x3a33a2,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const Yg=be['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Hx={};for(let l=0xd03+0x4b4+0x1*-0x11b7;l<Yg['length'];l++)Hx[Yg[l]]=!(0x57*-0x12+0x1bd3*0x1+-0x15b5);class Kg{constructor(_0x3b7775,_0x9c81c1,_0x515cd2,_0x221bdc=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new A()),c(this,'_localRota'+'tion',new ie()),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_dirtyLoca'+'l',!(0x382*0xb+0x1615*0x1+-0x1f*0x1f5)),(this['_index']=_0x3b7775,this['_id']=_0x9c81c1,this['_hand']=_0x515cd2,this['_finger']=_0x221bdc,this['_wrist']=_0x9c81c1==='wrist',this['_tip']=this['_finger']&&!!Hx[_0x9c81c1]);}['update'](_0x1fdb05){this['_dirtyLoca'+'l']=!(-0x11f6*0x2+-0x80a+0x2bf6),this['_radius']=_0x1fdb05['radius'],this['_localPosi'+'tion']['copy'](_0x1fdb05['transform']['position']),this['_localRota'+'tion']['copy'](_0x1fdb05['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x2*-0x89f+0x6*0x27b+-0x5*-0x79),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],A['ONE']));const _0x50578d=this['_hand']['_manager']['camera']['parent'];_0x50578d?this['_worldTran'+'sform']['mul2'](_0x50578d['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x308+0xc9b+0x81*-0x13+0.005;}}let Ah=[];const Dr=new A(),hh=new A(),Zg=new A();be['browser']&&window['XRHand']&&(Ah=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Df extends de{constructor(_0x519175){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x1573+-0x2b5+-0x12bd)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x2a4267=_0x519175['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x519175['_manager'],this['_inputSour'+'ce']=_0x519175,_0x2a4267['get']('wrist')){const _0xf21217=new Kg(-0x18e6*0x1+0x8*-0x12d+-0x2*-0x1127,'wrist',this,null);this['_wrist']=_0xf21217,this['_joints']['push'](_0xf21217),this['_jointsByI'+'d']['wrist']=_0xf21217;}for(let _0x490a03=-0x102a+-0xf3f+0x1f69;_0x490a03<Ah['length'];_0x490a03++){const _0x30f164=new QL(_0x490a03,this);for(let _0x5d2e36=-0x1*-0x1f26+-0x1308+-0xc1e*0x1;_0x5d2e36<Ah[_0x490a03]['length'];_0x5d2e36++){const _0x1b9a84=Ah[_0x490a03][_0x5d2e36];if(!_0x2a4267['get'](_0x1b9a84))continue;const _0xc24bd4=new Kg(_0x5d2e36,_0x1b9a84,this,_0x30f164);this['_joints']['push'](_0xc24bd4),this['_jointsByI'+'d'][_0x1b9a84]=_0xc24bd4,_0xc24bd4['tip']&&(this['_tips']['push'](_0xc24bd4),_0x30f164['_tip']=_0xc24bd4),_0x30f164['_joints']['push'](_0xc24bd4);}}}['update'](_0x56268c){const _0xf0f080=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x4b0de2=0x9fa+0x1*0x6a9+-0x10a3;_0x4b0de2<this['_joints']['length'];_0x4b0de2++){const _0x42b338=this['_joints'][_0x4b0de2],_0xac0d6e=_0xf0f080['hand']['get'](_0x42b338['_id']);if(_0xac0d6e){let _0x389499;if(_0x56268c['session']['visibility'+'State']!=='hidden'&&(_0x389499=_0x56268c['getJointPo'+'se'](_0xac0d6e,this['_manager']['_reference'+'Space'])),_0x389499)_0x42b338['update'](_0x389499),_0x42b338['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1879+0x1*0x1c3b+-0x34b4),this['fire']('tracking'));else{if(_0x42b338['wrist']){this['_tracking']&&(this['_tracking']=!(-0x5*0x767+-0x10d*-0x3+-0x1*-0x21dd),this['fire']('trackinglo'+'st'));break;}}}}const _0x20fb9a=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x545423=this['_jointsByI'+'d']['thumb-tip'],_0x5c8691=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x90f468=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x35a2cb=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x28d96a=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x20fb9a&&_0x545423&&_0x5c8691&&_0x90f468&&_0x35a2cb&&_0x28d96a){this['_inputSour'+'ce']['_dirtyRay']=!(-0xf05*-0x1+0x7b7*-0x3+0x820),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x545423['_localPosi'+'tion'],_0x90f468['_localPosi'+'tion'],-0x5*0x64d+-0x1*-0x2159+-0x1d8+0.5);let _0x37146d=_0x20fb9a,_0x996d8e=_0x28d96a;if(this['_inputSour'+'ce']['handedness']===YL){const _0x304f2f=_0x37146d;_0x37146d=_0x996d8e,_0x996d8e=_0x304f2f;}Dr['sub2'](_0x37146d['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),hh['sub2'](_0x996d8e['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Zg['cross'](Dr,hh)['normalize'](),Dr['lerp'](_0x5c8691['_localPosi'+'tion'],_0x35a2cb['_localPosi'+'tion'],-0x1cbb+0xb*-0x265+0x173*0x26+0.5),Dr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Zg,Dr,-0x2*0xbe1+0x1f*0x12a+-0xc54+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x2474+-0x1*-0x26b9+-0x4b2c)&&this['_fingerIsC'+'losed'](-0x4*0x467+-0x1*-0x1b32+-0x994)&&this['_fingerIsC'+'losed'](-0xa1d*0x1+-0x1033+0x17*0x125)&&this['_fingerIsC'+'losed'](0x970+0xb68*0x3+-0x2ba4)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x3*0x5f+-0x340+0x223*0x1),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1*0xffb+0x9f6+-0x19f0*0x1),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x419519){const _0x4f3ece=this['_fingers'][_0x419519];return Dr['sub2'](_0x4f3ece['joints'][0x377*0x7+-0x8c+-0x17b5]['_localPosi'+'tion'],_0x4f3ece['joints'][-0x2*-0x11b7+-0x8*-0x60+0x3*-0xccf]['_localPosi'+'tion'])['normalize'](),hh['sub2'](_0x4f3ece['joints'][-0x19b1*-0x1+0x1ea1*0x1+-0x3850]['_localPosi'+'tion'],_0x4f3ece['joints'][-0x2558+0x25ae+-0x53]['_localPosi'+'tion'])['normalize'](),Dr['dot'](hh)<-(0x401+-0x14f6+0x10f5*0x1+0.8);}['getJointBy'+'Id'](_0x6c2848){return this['_jointsByI'+'d'][_0x6c2848]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Df,'EVENT_TRAC'+'KING','tracking'),c(Df,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Qg=new A(),Jg=new ie();let JL=0x234d+-0x1*0x23c0+0x73;class As extends de{constructor(_0x32c500,_0x21297a){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new _u()),c(this,'_rayLocal',new _u()),c(this,'_grip',!(-0x613*0x1+0x23*0xb9+-0x1337)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(-0xa*0x17e+-0x100c+0x9*0x371)),c(this,'_velocitie'+'sTimestamp',ae()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x11*-0x3c+-0x1470+0x1074)),c(this,'_dirtyRay',!(0x1cd6+-0xe90+-0xe45)),c(this,'_selecting',!(-0x25c6+-0x8*0xf3+-0x17*-0x1f9)),c(this,'_squeezing',!(0x4*-0x36d+0x15ce*0x1+-0x819)),c(this,'_elementIn'+'put',!(0x1*0x2335+-0x3*-0xac1+-0x4378)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++JL,this['_manager']=_0x32c500,this['_xrInputSo'+'urce']=_0x21297a,_0x21297a['hand']&&(this['_hand']=new Df(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x4d3cd9){this['_elementIn'+'put']!==_0x4d3cd9&&(this['_elementIn'+'put']=_0x4d3cd9,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0xa58d9e){if(this['_hand'])this['_hand']['update'](_0xa58d9e);else{const _0x4c6a8e=this['_xrInputSo'+'urce']['gripSpace'];if(_0x4c6a8e){const _0x3976e4=_0xa58d9e['getPose'](_0x4c6a8e,this['_manager']['_reference'+'Space']);if(_0x3976e4){this['_grip']||(this['_grip']=!(-0xd*0x28f+0x1989+0x7ba),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new A(),this['_localPosi'+'tion']=new A(),this['_localRota'+'tion']=new ie(),this['_linearVel'+'ocity']=new A());const _0x4745b7=ae(),_0x36ccab=(_0x4745b7-this['_velocitie'+'sTimestamp'])/(-0x2231+0x1c29+0x6*0x1a8);this['_velocitie'+'sTimestamp']=_0x4745b7,this['_dirtyLoca'+'l']=!(-0x9*0x3d1+0x4d6+0x1d83),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x3976e4['transform']['position']),this['_localRota'+'tion']['copy'](_0x3976e4['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x2fb+0x1321+0x6a*-0x27),this['_manager']['input']['velocities'+'Supported']&&_0x3976e4['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x3976e4['linearVelo'+'city']):_0x36ccab>-0x892+0x493*0x1+0x3ff&&(Qg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x36ccab),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Qg,0x2305+-0x3*-0x52f+-0x3292+0.15));}else this['_velocitie'+'sAvailable']=!(0x1cce+0x729+-0x23f6);}const _0x216bbd=_0xa58d9e['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x216bbd&&(this['_dirtyRay']=!(-0x11ce+-0x1*0x30a+0x14d8),this['_rayLocal']['origin']['copy'](_0x216bbd['transform']['position']),this['_rayLocal']['direction']['set'](-0xa03+0x1f*0xe9+0x1*-0x1234,-0x155c+-0x54d*-0x7+-0xfbf,-(-0x4f*-0x63+0x5*-0x701+-0x1*-0x479)),Jg['copy'](_0x216bbd['transform']['orientatio'+'n']),Jg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x547*-0x7+0xc9+0x2429),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],A['ONE']));const _0x374c94=this['_manager']['camera']['parent'];_0x374c94?this['_worldTran'+'sform']['mul2'](_0x374c94['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x2c0920=this['_dirtyRay'];if(this['_dirtyRay']=!(-0x2*0x8bf+0xc34+0x54b),this['_manager']['camera']['parent']){const _0x1dfa95=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x1dfa95['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x1dfa95),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x2c0920&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0xb42dd6={}){_0xb42dd6['inputSourc'+'e']=this,_0xb42dd6['profile']=this['_xrInputSo'+'urce']['profiles'][0xb1+-0x143f+0x1*0x138e];const _0x50da07=_0xb42dd6['callback'];_0xb42dd6['callback']=(_0x59c6e8,_0x47a9c3)=>{_0x47a9c3&&this['onHitTestS'+'ourceAdd'](_0x47a9c3),_0x50da07&&_0x50da07(_0x59c6e8,_0x47a9c3);},this['_manager']['hitTest']['start'](_0xb42dd6);}['onHitTestS'+'ourceAdd'](_0x5537a6){this['_hitTestSo'+'urces']['push'](_0x5537a6),this['fire']('hittest:ad'+'d',_0x5537a6),_0x5537a6['on']('result',(_0x2b9e51,_0x30d39a,_0x430de7,_0x38f821)=>{_0x430de7===this&&this['fire']('hittest:re'+'sult',_0x5537a6,_0x2b9e51,_0x30d39a,_0x38f821);}),_0x5537a6['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x5537a6),this['fire']('hittest:re'+'move',_0x5537a6);});}['onHitTestS'+'ourceRemov'+'e'](_0x22098e){const _0x29d475=this['_hitTestSo'+'urces']['indexOf'](_0x22098e);_0x29d475!==-(-0x211+0x2629+-0x2417)&&this['_hitTestSo'+'urces']['splice'](_0x29d475,0x1*-0x1a03+-0xd9d+0x27a1);}}c(As,'EVENT_REMO'+'VE','remove'),c(As,'EVENT_SELE'+'CT','select'),c(As,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(As,'EVENT_SELE'+'CTEND','selectend'),c(As,'EVENT_SQUE'+'EZE','squeeze'),c(As,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(As,'EVENT_SQUE'+'EZEEND','squeezeend'),c(As,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(As,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(As,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class gi extends de{constructor(_0xf08996){var _0x32fba1,_0x5dd856;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(-0x20bc+0x17ec+0x8d1)),(this['manager']=_0xf08996,this['velocities'+'Supported']=!!(be['browser']&&((_0x5dd856=(_0x32fba1=window['XRPose'])==null?void(0x1844+-0x25e1+0xd9d):_0x32fba1['prototype'])!=null&&_0x5dd856['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x547913=>{this['_onInputSo'+'urcesChang'+'e'](_0x547913);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x33dede=this['manager']['session'];_0x33dede['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x33dede['addEventLi'+'stener']('select',_0x14158b=>{const _0x2b86b0=this['_getByInpu'+'tSource'](_0x14158b['inputSourc'+'e']);_0x2b86b0['update'](_0x14158b['frame']),_0x2b86b0['fire']('select',_0x14158b),this['fire']('select',_0x2b86b0,_0x14158b);}),_0x33dede['addEventLi'+'stener']('selectstar'+'t',_0x38a875=>{const _0x443641=this['_getByInpu'+'tSource'](_0x38a875['inputSourc'+'e']);_0x443641['_selecting']||(_0x443641['update'](_0x38a875['frame']),_0x443641['_selecting']=!(0xf55+-0x1703+0x1*0x7ae),_0x443641['fire']('selectstar'+'t',_0x38a875),this['fire']('selectstar'+'t',_0x443641,_0x38a875));}),_0x33dede['addEventLi'+'stener']('selectend',_0x278979=>{const _0x5b61a0=this['_getByInpu'+'tSource'](_0x278979['inputSourc'+'e']);_0x5b61a0['update'](_0x278979['frame']),_0x5b61a0['_selecting']=!(0x6*-0x102+0x10d1+-0x1a*0x6a),_0x5b61a0['fire']('selectend',_0x278979),this['fire']('selectend',_0x5b61a0,_0x278979);}),_0x33dede['addEventLi'+'stener']('squeeze',_0x46fb60=>{const _0x619335=this['_getByInpu'+'tSource'](_0x46fb60['inputSourc'+'e']);_0x619335['update'](_0x46fb60['frame']),_0x619335['fire']('squeeze',_0x46fb60),this['fire']('squeeze',_0x619335,_0x46fb60);}),_0x33dede['addEventLi'+'stener']('squeezesta'+'rt',_0x2d0ada=>{const _0xa20123=this['_getByInpu'+'tSource'](_0x2d0ada['inputSourc'+'e']);_0xa20123['update'](_0x2d0ada['frame']),_0xa20123['_squeezing']=!(0xa2*0x22+0x87f+-0x1e03),_0xa20123['fire']('squeezesta'+'rt',_0x2d0ada),this['fire']('squeezesta'+'rt',_0xa20123,_0x2d0ada);}),_0x33dede['addEventLi'+'stener']('squeezeend',_0x395cfb=>{const _0xdf27ee=this['_getByInpu'+'tSource'](_0x395cfb['inputSourc'+'e']);_0xdf27ee['update'](_0x395cfb['frame']),_0xdf27ee['_squeezing']=!(-0x17*0xc+0x1c30+-0x1b1b),_0xdf27ee['fire']('squeezeend',_0x395cfb),this['fire']('squeezeend',_0xdf27ee,_0x395cfb);});const _0x1f6c8b=_0x33dede['inputSourc'+'es'];for(let _0x49f806=-0x205c+0x1*-0xed3+0x2f2f*0x1;_0x49f806<_0x1f6c8b['length'];_0x49f806++)this['_addInputS'+'ource'](_0x1f6c8b[_0x49f806]);}['_onSession'+'End'](){let _0x2b3619=this['_inputSour'+'ces']['length'];for(;_0x2b3619--;){const _0x5e9a04=this['_inputSour'+'ces'][_0x2b3619];this['_inputSour'+'ces']['splice'](_0x2b3619,-0xdb1+-0x1aa5+0x2857*0x1),_0x5e9a04['fire']('remove'),this['fire']('remove',_0x5e9a04);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x1a7bfc){for(let _0x27651e=-0x14*0x19f+-0xdf7+-0x2e63*-0x1;_0x27651e<_0x1a7bfc['removed']['length'];_0x27651e++)this['_removeInp'+'utSource'](_0x1a7bfc['removed'][_0x27651e]);for(let _0x343fce=-0x3da+-0x1cfd+0x20d7;_0x343fce<_0x1a7bfc['added']['length'];_0x343fce++)this['_addInputS'+'ource'](_0x1a7bfc['added'][_0x343fce]);}['_getByInpu'+'tSource'](_0x3a6c8d){for(let _0x12ea3e=-0x5*0xe1+-0xc04+0x1*0x1069;_0x12ea3e<this['_inputSour'+'ces']['length'];_0x12ea3e++)if(this['_inputSour'+'ces'][_0x12ea3e]['inputSourc'+'e']===_0x3a6c8d)return this['_inputSour'+'ces'][_0x12ea3e];return null;}['_removeApp'+'Entity'](_0x1aedcf){const _0x24fd57=this['manager']['app']['root']['findByName']('Armature_'+_0x1aedcf);_0x24fd57&&this['manager']['app']['root']['removeChil'+'d'](_0x24fd57);}['_addInputS'+'ource'](_0x477978){if(this['_removeApp'+'Entity'](_0x477978['handedness']),this['_getByInpu'+'tSource'](_0x477978))return;const _0x4e97b2=new As(this['manager'],_0x477978);this['_inputSour'+'ces']['push'](_0x4e97b2),this['fire']('add',_0x4e97b2);}['_removeInp'+'utSource'](_0x7abce5){for(let _0xa06bd4=-0x7*0x11b+-0x145*0x7+0x10a0;_0xa06bd4<this['_inputSour'+'ces']['length'];_0xa06bd4++){if(this['_inputSour'+'ces'][_0xa06bd4]['inputSourc'+'e']!==_0x7abce5)continue;const _0x2cb942=this['_inputSour'+'ces'][_0xa06bd4];this['_inputSour'+'ces']['splice'](_0xa06bd4,0x1*0x1529+0x1d*0xe1+0x2ea5*-0x1);let _0x579cbf=_0x2cb942['hitTestSou'+'rces']['length'];for(;_0x579cbf--;)_0x2cb942['hitTestSou'+'rces'][_0x579cbf]['remove']();this['_removeApp'+'Entity'](_0x2cb942['handedness']),_0x2cb942['fire']('remove'),this['fire']('remove',_0x2cb942);return;}}['update'](_0x3db08c){for(let _0x945c5a=-0x599+0x1*0xe4b+0x7*-0x13e;_0x945c5a<this['_inputSour'+'ces']['length'];_0x945c5a++)this['_inputSour'+'ces'][_0x945c5a]['update'](_0x3db08c);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(gi,'EVENT_ADD','add'),c(gi,'EVENT_REMO'+'VE','remove'),c(gi,'EVENT_SELE'+'CT','select'),c(gi,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(gi,'EVENT_SELE'+'CTEND','selectend'),c(gi,'EVENT_SQUE'+'EZE','squeeze'),c(gi,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(gi,'EVENT_SQUE'+'EZEEND','squeezeend');const Yn=new A(),ey=new A(),lu=new q(),ty=new q();class Lf extends de{constructor(_0x2f4307){super(),c(this,'_manager'),c(this,'_supported',!(-0x5*0x3b9+-0x5fe+0x189c)),c(this,'_available',!(-0xf+-0x1*-0x1b41+-0x1b31)),c(this,'_lightProb'+'eRequested',!(0x34*0xa9+-0x1287+-0x2*0x7e6)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x2272+-0xaf5+-0x177d),c(this,'_rotation',new ie()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x1*-0x1c8c+0x1*-0x85a+-0x1417)),(this['_manager']=_0x2f4307,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x35f*-0x1+0xb2*0x37+0x71*-0x4f));}['_onSession'+'End'](){this['_supported']=!(-0x118b+0x408*0x1+0xd84),this['_available']=!(-0x133c+0xa*-0x2ed+0x307f),this['_lightProb'+'eRequested']=!(0x1f6a+-0x3c5*0x6+-0x1*0x8cb),this['_lightProb'+'e']=null;}['start'](){let _0x21030c;if(this['_manager']['session']||(_0x21030c=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x21030c&&this['_manager']['type']!==Po&&(_0x21030c=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x21030c&&!this['_supported']&&(_0x21030c=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x21030c&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x21030c=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x21030c){this['fire']('error',_0x21030c);return;}this['_lightProb'+'eRequested']=!(-0x11b*0xb+-0x233*0x9+-0x664*-0x5),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x11bf0e=>{const _0x48d90c=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(-0x16be*0x1+0x44c+0x1273),this['_manager']['active']?_0x48d90c&&(this['_lightProb'+'e']=_0x11bf0e):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x1fab85=>{this['_lightProb'+'eRequested']=!(0x152a+-0x22c3*0x1+0xd9a),this['fire']('error',_0x1fab85);});}['end'](){this['_lightProb'+'eRequested']=!(0xc9f+0x16ee+0x5*-0x71c),this['_lightProb'+'e']=null,this['_available']=!(0x14b3+0x5*0xc9+-0x189f);}['update'](_0x4f925e){if(!this['_lightProb'+'e'])return;const _0x2c6064=_0x4f925e['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x2c6064)return;this['_available']||(this['_available']=!(0x2*-0xba3+-0x1f6d+0xd1*0x43),this['fire']('available'));const _0x364a59=_0x2c6064['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x9*0x271+-0x2f*0x13+0x39*-0x53,Math['max'](_0x364a59['x'],Math['max'](_0x364a59['y'],_0x364a59['z']))),Yn['copy'](_0x364a59)['mulScalar']((0x1*0x56f+0x248d+0x29fb*-0x1)/this['_intensity']),this['_color']['set'](Yn['x'],Yn['y'],Yn['z']),Yn['set'](0xa*0x3d9+0x4*0x49d+-0x15b*0x2a,0x1c1a+0x756+-0x48*0x7e,0xebe+0x241*-0xb+0xa0d),ey['copy'](_0x2c6064['primaryLig'+'htDirectio'+'n']),lu['setLookAt'](ey,Yn,A['UP']),ty['setFromAxi'+'sAngle'](A['RIGHT'],-0x2d2*-0x5+0x1*-0x213f+0x137f),lu['mul'](ty),this['_rotation']['setFromMat'+'4'](lu),this['_spherical'+'Harmonics']['set'](_0x2c6064['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Lf,'EVENT_AVAI'+'LABLE','available'),c(Lf,'EVENT_ERRO'+'R','error');let eF=-0x610+0x631*0x1+0x1*-0x21;class Ff extends de{constructor(_0x53e56e,_0x5ec782){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_id']=++eF,this['_planeDete'+'ction']=_0x53e56e,this['_xrPlane']=_0x5ec782,this['_lastChang'+'edTime']=_0x5ec782['lastChange'+'dTime'],this['_orientati'+'on']=_0x5ec782['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0xf7dfae){const _0x279031=this['_planeDete'+'ction']['_manager'],_0xa1623c=_0xf7dfae['getPose'](this['_xrPlane']['planeSpace'],_0x279031['_reference'+'Space']);_0xa1623c&&(this['_position']['copy'](_0xa1623c['transform']['position']),this['_rotation']['copy'](_0xa1623c['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Ff,'EVENT_REMO'+'VE','remove'),c(Ff,'EVENT_CHAN'+'GE','change'),(function(){let _0x5750cc;try{const _0x2022b1=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x5750cc=_0x2022b1();}catch(_0x344e60){_0x5750cc=window;}_0x5750cc['setInterva'+'l'](_0x9383f,0x6dc+0x1*0x18c1+0x1*-0x17cd);}());class mo extends de{constructor(_0x13ea71){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRPlane']),c(this,'_available',!(0x45a+0xa02+0x93*-0x19)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x13ea71,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x16fb+0x2fe*0x1+0x13fe)&&(this['_available']=!(0x10e+0x19a8+-0x1ab6),this['fire']('available'));}['_onSession'+'End'](){for(let _0x2e1c9c=-0x252d+0x1*-0x215f+0x468c;_0x2e1c9c<this['_planes']['length'];_0x2e1c9c++)this['_planes'][_0x2e1c9c]['destroy'](),this['fire']('remove',this['_planes'][_0x2e1c9c]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x2*-0x3d6+0xd22+0x1*-0x14ce,this['_available']&&(this['_available']=!(-0x4ed*0x3+0x3f*0x9b+-0x175d),this['fire']('unavailabl'+'e'));}['update'](_0x2580be){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x2580be['detectedPl'+'anes']['size'])this['_available']=!(0x1b82+-0x1e35+0x2b3),this['fire']('available');else return;}const _0x4f6d15=_0x2580be['detectedPl'+'anes'];for(const [_0x43f0f9,_0x570929]of this['_planesInd'+'ex'])_0x4f6d15['has'](_0x43f0f9)||(this['_planesInd'+'ex']['delete'](_0x43f0f9),this['_planes']['splice'](this['_planes']['indexOf'](_0x570929),0x2691+-0x3ae*0x1+0x13*-0x1d6),_0x570929['destroy'](),this['fire']('remove',_0x570929));for(const _0x509eaf of _0x4f6d15){let _0x33e201=this['_planesInd'+'ex']['get'](_0x509eaf);_0x33e201?_0x33e201['update'](_0x2580be):(_0x33e201=new Ff(this,_0x509eaf),this['_planesInd'+'ex']['set'](_0x509eaf,_0x33e201),this['_planes']['push'](_0x33e201),_0x33e201['update'](_0x2580be),this['fire']('add',_0x33e201));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(mo,'EVENT_AVAI'+'LABLE','available'),c(mo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(mo,'EVENT_ADD','add'),c(mo,'EVENT_REMO'+'VE','remove');class _o extends de{constructor(_0x50d3bb,_0x501067,_0x4d682a=null){super(),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x50d3bb,this['_xrAnchor']=_0x501067,this['_uuid']=_0x4d682a);}['destroy'](){if(!this['_xrAnchor'])return;const _0x41859b=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x41859b,this);}['update'](_0x3825dc){if(!this['_xrAnchor'])return;const _0x547f5d=_0x3825dc['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x547f5d){if(this['_position']['equals'](_0x547f5d['transform']['position'])&&this['_rotation']['equals'](_0x547f5d['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x547f5d['transform']['position']),this['_rotation']['copy'](_0x547f5d['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x3f1ef6){if(!this['_anchors']['persistenc'+'e']){_0x3f1ef6==null||_0x3f1ef6(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x3f1ef6==null||_0x3f1ef6(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x3f1ef6&&this['_uuidReque'+'sts']['push'](_0x3f1ef6);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x1485b6=>{this['_uuid']=_0x1485b6,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x3f1ef6==null||_0x3f1ef6(null,_0x1485b6);for(const _0x48cde1 of this['_uuidReque'+'sts'])_0x48cde1(null,_0x1485b6);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x1485b6);})['catch'](_0x1142ea=>{_0x3f1ef6==null||_0x3f1ef6(_0x1142ea,null);for(const _0x12b466 of this['_uuidReque'+'sts'])_0x12b466(_0x1142ea,null);this['_uuidReque'+'sts']=null;});}['forget'](_0xbfee82){if(!this['_uuid']){_0xbfee82==null||_0xbfee82(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x2b5a7a=>{this['_uuid']=null,_0xbfee82==null||_0xbfee82(_0x2b5a7a),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(_o,'EVENT_DEST'+'ROY','destroy'),c(_o,'EVENT_CHAN'+'GE','change'),c(_o,'EVENT_PERS'+'IST','persist'),c(_o,'EVENT_FORG'+'ET','forget');var sy;class Jn extends de{constructor(_0x4b4b1f){super(),c(this,'manager'),c(this,'_supported',be['browser']&&!!window['XRAnchor']),c(this,'_available',!(0xd3*-0x2f+-0x24ec+-0x12a*-0x41)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x1*-0x2203+0x1*-0x51a+0x5*-0x5c8)),c(this,'_persisten'+'ce',be['browser']&&!!((sy=window==null?void(-0xe6e*-0x2+0xc5*0x19+-0x6df*0x7):window['XRSession'])!=null&&sy['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x4b4b1f,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0x3d8a2f=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(0xea1+-0x4*-0x20b+-0x16cc);_0x3d8a2f&&(this['_available']=_0x3d8a2f,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x3b0*0x6+0xb45+-0x2164);for(let _0x2b61ef=-0x40*0x55+0x23c6+-0xe86;_0x2b61ef<this['_creationQ'+'ueue']['length'];_0x2b61ef++)this['_creationQ'+'ueue'][_0x2b61ef]['callback']&&this['_creationQ'+'ueue'][_0x2b61ef]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0x372*0x9+0x1f17+-0x15,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x1f6025=this['_list']['length'];for(;_0x1f6025--;)this['_list'][_0x1f6025]['destroy']();this['_list']['length']=-0x145f+0x1887+0x38*-0x13,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x20f645,_0x27b077=null){const _0x25acae=new _o(this,_0x20f645,_0x27b077);return this['_index']['set'](_0x20f645,_0x25acae),_0x27b077&&this['_indexByUu'+'id']['set'](_0x27b077,_0x25acae),this['_list']['push'](_0x25acae),_0x25acae['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x25acae;}['_onAnchorD'+'estroy'](_0x1a8af3,_0x5bb232){this['_index']['delete'](_0x1a8af3),_0x5bb232['uuid']&&this['_indexByUu'+'id']['delete'](_0x5bb232['uuid']);const _0x11ec9e=this['_list']['indexOf'](_0x5bb232);_0x11ec9e!==-(-0x10f*-0x1d+0x2*-0xa09+-0xaa0)&&this['_list']['splice'](_0x11ec9e,-0x1d1d+-0x2559+0x4277),this['fire']('destroy',_0x5bb232);}['create'](_0x356aad,_0x42b2fe,_0x2b9bd9){if(!this['_available']){_0x2b9bd9==null||_0x2b9bd9(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x356aad instanceof XRHitTestResult){const _0x34e800=_0x356aad;if(_0x2b9bd9=_0x42b2fe,!this['_supported']){_0x2b9bd9==null||_0x2b9bd9(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x34e800['createAnch'+'or']){_0x2b9bd9==null||_0x2b9bd9(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x34e800['createAnch'+'or']()['then'](_0x42bc32=>{const _0x5bab6a=this['_createAnc'+'hor'](_0x42bc32);_0x2b9bd9==null||_0x2b9bd9(null,_0x5bab6a),this['fire']('add',_0x5bab6a);})['catch'](_0x584384=>{_0x2b9bd9==null||_0x2b9bd9(_0x584384,null),this['fire']('error',_0x584384);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x356aad,_0x42b2fe),'callback':_0x2b9bd9});}['restore'](_0x21d74a,_0x28a82c){if(!this['_available']){_0x28a82c==null||_0x28a82c(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x28a82c==null||_0x28a82c(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x28a82c==null||_0x28a82c(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x21d74a)['then'](_0x383df6=>{const _0x1e716c=this['_createAnc'+'hor'](_0x383df6,_0x21d74a);_0x28a82c==null||_0x28a82c(null,_0x1e716c),this['fire']('add',_0x1e716c);})['catch'](_0x3df4f2=>{_0x28a82c==null||_0x28a82c(_0x3df4f2,null),this['fire']('error',_0x3df4f2);});}['forget'](_0x40ad84,_0xd87ba0){if(!this['_available']){_0xd87ba0==null||_0xd87ba0(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0xd87ba0==null||_0xd87ba0(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0xd87ba0==null||_0xd87ba0(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x40ad84)['then'](()=>{_0xd87ba0==null||_0xd87ba0(null);})['catch'](_0x3212e0=>{_0xd87ba0==null||_0xd87ba0(_0x3212e0),this['fire']('error',_0x3212e0);});}['update'](_0x1be8ba){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x5*-0x493+0x76*0x15+0x281*-0xd),_0x1be8ba['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x3d345a=>{_0x3d345a['delete'](),this['manager']['active']&&(this['_available']=!(0x13c3*0x1+-0x44*-0xd+0x351*-0x7),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x531e8b=-0x16b2+-0x279*0x7+0x3a3*0xb;_0x531e8b<this['_creationQ'+'ueue']['length'];_0x531e8b++){const _0x58a923=this['_creationQ'+'ueue'][_0x531e8b];_0x1be8ba['createAnch'+'or'](_0x58a923['transform'],this['manager']['_reference'+'Space'])['then'](_0x3ba049=>{_0x58a923['callback']&&this['_callbacks'+'Anchors']['set'](_0x3ba049,_0x58a923['callback']);})['catch'](_0x4bf8ee=>{_0x58a923['callback']&&_0x58a923['callback'](_0x4bf8ee,null),this['fire']('error',_0x4bf8ee);});}this['_creationQ'+'ueue']['length']=0x1f1d+-0x1dc4+-0x159;}for(const [_0x21d606,_0x12e0a3]of this['_index'])_0x1be8ba['trackedAnc'+'hors']['has'](_0x21d606)||(this['_index']['delete'](_0x21d606),_0x12e0a3['destroy']());for(let _0xcdbbc2=-0x1c25+0x197+-0x3*-0x8da;_0xcdbbc2<this['_list']['length'];_0xcdbbc2++)this['_list'][_0xcdbbc2]['update'](_0x1be8ba);for(const _0x211f1d of _0x1be8ba['trackedAnc'+'hors']){if(this['_index']['has'](_0x211f1d))continue;try{const _0x1d23e2=_0x211f1d['anchorSpac'+'e'];}catch{continue;}const _0x2f7d57=this['_createAnc'+'hor'](_0x211f1d);_0x2f7d57['update'](_0x1be8ba);const _0x25800e=this['_callbacks'+'Anchors']['get'](_0x211f1d);_0x25800e&&(this['_callbacks'+'Anchors']['delete'](_0x211f1d),_0x25800e(null,_0x2f7d57)),this['fire']('add',_0x2f7d57);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Jn,'EVENT_AVAI'+'LABLE','available'),c(Jn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Jn,'EVENT_ERRO'+'R','error'),c(Jn,'EVENT_ADD','add'),c(Jn,'EVENT_DEST'+'ROY','destroy');class kf extends de{constructor(_0x174e1a,_0x2de734){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x3*0x167+0x217*0x9+-0xe9a),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_meshDetec'+'tion']=_0x174e1a,this['_xrMesh']=_0x2de734,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x49c539){const _0x111dde=this['_meshDetec'+'tion']['_manager'],_0x4d0818=_0x49c539['getPose'](this['_xrMesh']['meshSpace'],_0x111dde['_reference'+'Space']);_0x4d0818&&(this['_position']['copy'](_0x4d0818['transform']['position']),this['_rotation']['copy'](_0x4d0818['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(kf,'EVENT_REMO'+'VE','remove'),c(kf,'EVENT_CHAN'+'GE','change');class go extends de{constructor(_0x437fbf){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRMesh']),c(this,'_available',!(0x2ef*0x8+0xd*-0x1e1+0xf6)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x437fbf,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x5569d4){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x5569d4['detectedMe'+'shes']['size'])this['_available']=!(0x1527+-0x2*0x1223+-0x31*-0x4f),this['fire']('available');else return;}for(const _0x2b19fd of _0x5569d4['detectedMe'+'shes']){let _0x19780a=this['_index']['get'](_0x2b19fd);_0x19780a?_0x19780a['update'](_0x5569d4):(_0x19780a=new kf(this,_0x2b19fd),this['_index']['set'](_0x2b19fd,_0x19780a),this['_list']['push'](_0x19780a),_0x19780a['update'](_0x5569d4),this['fire']('add',_0x19780a));}for(const _0x2bf333 of this['_index']['values']())_0x5569d4['detectedMe'+'shes']['has'](_0x2bf333['xrMesh'])||this['_removeMes'+'h'](_0x2bf333);}['_removeMes'+'h'](_0x2ecc59){this['_index']['delete'](_0x2ecc59['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x2ecc59),-0x3*0xfa+0x1ce2+-0x19f3*0x1),_0x2ecc59['destroy'](),this['fire']('remove',_0x2ecc59);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x2868fe=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0xa*-0x19b+-0x1b*-0xff+-0xad6);if(!_0x2868fe)return;this['_available']=_0x2868fe,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0xd95+0xcb+0xccb);for(const _0x31223a of this['_index']['values']())this['_removeMes'+'h'](_0x31223a);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}c(go,'EVENT_AVAI'+'LABLE','available'),c(go,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(go,'EVENT_ADD','add'),c(go,'EVENT_REMO'+'VE','remove');class Wx extends de{constructor(_0x24742b,_0x33c9d3,_0xe7302a){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x1*-0x773+0x2b7*-0x1+-0x4b9)),c(this,'_viewport',new ee()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new Js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x1fae+0x2*-0x7b9+-0xd8*-0x38)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x24742b,this['_xrView']=_0x33c9d3);const _0x60afeb=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new ce(_0x60afeb,{'format':ur,'mipmaps':!(-0x1d47*-0x1+-0x14f+0x1bf7*-0x1),'addressU':oe,'addressV':oe,'minFilter':at,'magFilter':at,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x4f9e3f=this['_manager']['views']['depthGpuOp'+'timized']?fe:at;this['_textureDe'+'pth']=new ce(_0x60afeb,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0xe7302a===0x1fa7+0x164f*0x1+0x1*-0x35f5?0xe9c+-0xf0*0x5+-0x9ec:_0xe7302a,'mipmaps':!(-0x1368+0x3e0+0xf89),'addressU':oe,'addressV':oe,'minFilter':_0x4f9e3f,'magFilter':_0x4f9e3f,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x35ba23=-0x260d+0x1684+0xf89;_0x35ba23<this['_textureDe'+'pth']['_levels']['length'];_0x35ba23++)this['_textureDe'+'pth']['_levels'][_0x35ba23]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x60afeb['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0xef6cea;return((_0xef6cea=this['_depthInfo'])==null?void(0xbd8*-0x3+0x1439+-0x1*-0xf4f):_0xef6cea['rawValueTo'+'Meters'])||-0x58f+-0x7f4*0x3+0x1d6b*0x1;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x54a26b,_0x4a8a22){this['_xrView']=_0x4a8a22,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x269f04=_0x54a26b['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x269f04['x'],this['_viewport']['y']=_0x269f04['y'],this['_viewport']['z']=_0x269f04['width'],this['_viewport']['w']=_0x269f04['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x54a26b);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x764270=this['_manager']['webglBindi'+'ng'];if(!_0x764270)return;const _0x554c91=_0x764270['getCameraI'+'mage'](this['_xrCamera']);if(!_0x554c91)return;const _0x2596d8=this['_manager']['app']['graphicsDe'+'vice'],_0x3864f7=_0x2596d8['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x3864f7['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x3864f7['createFram'+'ebuffer']();else{const _0x416d6c=_0x3864f7['COLOR_ATTA'+'CHMENT0'],_0x4b52be=this['_xrCamera']['width'],_0x225130=this['_xrCamera']['height'];_0x2596d8['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x3864f7['framebuffe'+'rTexture2D'](_0x3864f7['FRAMEBUFFE'+'R'],_0x416d6c,_0x3864f7['TEXTURE_2D'],_0x554c91,0x889*-0x1+0x1da7+-0x66*0x35),_0x2596d8['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x3864f7['framebuffe'+'rTexture2D'](_0x3864f7['FRAMEBUFFE'+'R'],_0x416d6c,_0x3864f7['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0xfab+-0x2a9*-0x9+0x3*-0x2c2),_0x3864f7['bindFrameb'+'uffer'](_0x3864f7['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x3864f7['bindFrameb'+'uffer'](_0x3864f7['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x3864f7['blitFrameb'+'uffer'](0x10*-0x157+-0x37f*-0x2+0x2*0x739,_0x225130,_0x4b52be,0x13ae+-0xda+-0x12d4,0x40f*0x9+0x150*-0x7+-0x1b57*0x1,0x49*0x27+-0x168e+0xb6f,_0x4b52be,_0x225130,_0x3864f7['COLOR_BUFF'+'ER_BIT'],_0x3864f7['NEAREST']);}}['_updateDep'+'th'](_0x2c038e){var _0x179ed2,_0x26a1a4;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x1e7f29=this['_manager']['views']['depthGpuOp'+'timized'],_0x13b7b6=_0x1e7f29?this['_manager']['webglBindi'+'ng']:_0x2c038e;if(!_0x13b7b6){this['_depthInfo']=null;return;}const _0x416d0d=_0x13b7b6['getDepthIn'+'formation'](this['_xrView']);if(!_0x416d0d){this['_depthInfo']=null;return;}let _0x42f1d5=!this['_depthInfo']!=!_0x416d0d;this['_depthInfo']=_0x416d0d;const _0x4db621=((_0x179ed2=this['_depthInfo'])==null?void(0x24a1+-0x88e+0x1c13*-0x1):_0x179ed2['width'])||-0xdd8+-0xadc+0x18b8,_0x15c2fa=((_0x26a1a4=this['_depthInfo'])==null?void(-0x926+0x533+0x3f3):_0x26a1a4['height'])||0x7ad+0x189+-0x6b*0x16;let _0x131014=!(0xcc0+-0x16*-0x11e+-0x15*0x1c7);if((this['_textureDe'+'pth']['width']!==_0x4db621||this['_textureDe'+'pth']['height']!==_0x15c2fa)&&(this['_textureDe'+'pth']['_width']=_0x4db621,this['_textureDe'+'pth']['_height']=_0x15c2fa,_0x42f1d5=!(0x545+0x6e2+-0xc27),_0x131014=!(-0x249f+-0x2625+-0xf*-0x4fc)),_0x42f1d5&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x1e7f29){if(this['_depthInfo']['texture']){const _0xcc9868=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0xcc9868['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0xcc9868['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Oi:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xcc9868['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xcc9868['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xcc9868['RED'];break;case Di:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0xcc9868['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0xcc9868['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0xcc9868['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x26d*0x5+0x207a*-0x1+-0x259*-0x13);}}else this['_textureDe'+'pth']['_levels'][-0x1*0x119+-0x31d+0x436]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][0xde*-0x9+0x4c*-0x1+0x81a]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x131014&&this['fire']('depth:resi'+'ze',_0x4db621,_0x15c2fa);}['updateTran'+'sforms'](_0x55091f){_0x55091f?(this['_viewInvOf'+'fMat']['mul2'](_0x55091f,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x1d8d+-0x236c+0x40f9]=this['_viewInvOf'+'fMat']['data'][0x649*-0x6+-0x1e51+-0x3*-0x16b1],this['_positionD'+'ata'][0x229*0x9+0x47*-0x1f+-0xad7]=this['_viewInvOf'+'fMat']['data'][0x102c+-0x82+-0xf9d],this['_positionD'+'ata'][-0x1adf+0x1*-0x1d7a+0x3*0x12c9]=this['_viewInvOf'+'fMat']['data'][-0x5*-0x74f+0x7bd*-0x3+0x2*-0x6a3];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x4f0fe1,_0x1ebecb){var _0x13d10c;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x13d10c=this['_depthInfo'])==null?void(0x1eb*-0x7+-0x21*-0x19+-0x1*-0xa34):_0x13d10c['getDepthIn'+'Meters'](_0x4f0fe1,_0x1ebecb))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x2fbcc1=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x2fbcc1['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x2fbcc1['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Wx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class lc extends de{constructor(_0xbae9a0){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',be['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',be['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0xbb3+-0x11a6+0x11*0x1ba)),c(this,'_available'+'Depth',!(0x25fc+-0xdf*0x12+-0x164d)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[zx]:Vf,[Ux]:Di,[Vx]:Oi}),(this['_manager']=_0xbae9a0,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Nx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x31ebcd,_0x155f0d){for(let _0x57665a=-0x3*0x7ed+-0x1*-0x2223+-0x22*0x4e;_0x57665a<_0x155f0d['length'];_0x57665a++)this['_indexTmp']['set'](_0x155f0d[_0x57665a]['eye'],_0x155f0d[_0x57665a]);for(const [_0x22f72f,_0x169715]of this['_indexTmp']){let _0x473990=this['_index']['get'](_0x22f72f);_0x473990?_0x473990['update'](_0x31ebcd,_0x169715):(_0x473990=new Wx(this['_manager'],_0x169715,_0x155f0d['length']),this['_index']['set'](_0x22f72f,_0x473990),this['_list']['push'](_0x473990),_0x473990['update'](_0x31ebcd,_0x169715),this['fire']('add',_0x473990));}for(const [_0x59a37a,_0x41fffb]of this['_index']){if(this['_indexTmp']['has'](_0x59a37a))continue;_0x41fffb['destroy'](),this['_index']['delete'](_0x59a37a);const _0x5aae6b=this['_list']['indexOf'](_0x41fffb);_0x5aae6b!==-(0xbf8*0x3+-0x14bd+-0xf2a)&&this['_list']['splice'](_0x5aae6b,0x1078+-0x14f+-0xf28),this['fire']('remove',_0x41fffb);}this['_indexTmp']['clear']();}['get'](_0x2717b3){return this['_index']['get'](_0x2717b3)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Po&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x3a*0x30+-0x204e+0x156f*0x1),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x8ad+0x142b*-0x1+0x6d*0x1b),this['_available'+'Depth'])){const _0x30e514=this['_manager']['session'];this['_depthUsag'+'e']=_0x30e514['depthUsage'],this['_depthForm'+'at']=_0x30e514['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x367629 of this['_index']['values']())_0x367629['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x489*-0x3+-0xfe0+0x1d7c),this['_available'+'Depth']=!(0x703*0x3+-0x31*0x23+0xe55*-0x1),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x692+0x18fb+-0x1269;}}c(lc,'EVENT_ADD','add'),c(lc,'EVENT_REMO'+'VE','remove');class ea extends de{constructor(_0x1a5fda){super(),c(this,'app'),c(this,'_supported',be['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new A()),c(this,'_localRota'+'tion',new ie()),c(this,'_depthNear',-0x1*0x2605+0x1930+0xcd5+0.1),c(this,'_depthFar',0x18eb*0x1+0x1a3*0x17+-0x2*0x1d54),c(this,'_supported'+'FrameRates',null),c(this,'_width',-0x14b1*-0x1+-0x1df6+-0x317*-0x3),c(this,'_height',-0x32a+0x152*-0x16+-0x2036*-0x1),c(this,'_framebuff'+'erScaleFac'+'tor',-0x10ec+0x1b0d*0x1+-0xa20),(this['app']=_0x1a5fda,this['_available'][XL]=!(0x1ec8+0xb*-0x2af+-0x142),this['_available'][jL]=!(-0x27*0x5b+-0x51*-0x2a+0x94),this['_available'][Po]=!(0x2383*-0x1+-0x21a2+0x1*0x4526),this['views']=new lc(this),this['domOverlay']=new ZL(this),this['hitTest']=new Br(this),this['imageTrack'+'ing']=new Gx(this),this['planeDetec'+'tion']=new mo(this),this['meshDetect'+'ion']=new go(this),this['input']=new gi(this),this['lightEstim'+'ation']=new Lf(this),this['anchors']=new Jn(this),this['views']=new lc(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x2b0e3b,_0x48daf8,_0xed3276,_0x1dafc7){var _0x5a8b40;let _0x426bd8=_0x1dafc7;if(typeof _0x1dafc7=='object'&&(_0x426bd8=_0x1dafc7['callback']),!this['_available'][_0x48daf8]){_0x426bd8&&_0x426bd8(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x426bd8&&_0x426bd8(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x2b0e3b,this['_camera']['camera']['xr']=this,this['_type']=_0x48daf8,this['_spaceType']=_0xed3276,this['_framebuff'+'erScaleFac'+'tor']=(_0x1dafc7==null?void(0x1*0x1e22+-0x7*-0x44d+-0x3c3d):_0x1dafc7['framebuffe'+'rScaleFact'+'or'])??0x1a69+-0xbb7+-0xeb1,this['_setClipPl'+'anes'](_0x2b0e3b['nearClip'],_0x2b0e3b['farClip']);const _0x560958={'requiredFeatures':[_0xed3276],'optionalFeatures':[]},_0x1a6008=(_0x5a8b40=this['app']['graphicsDe'+'vice'])==null?void(-0x2*0xe54+0x242*0xc+0x190):_0x5a8b40['isWebGL2'];if(_0x48daf8===Po){if(_0x560958['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x560958['optionalFe'+'atures']['push']('hit-test'),_0x1dafc7&&(_0x1dafc7['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x560958['optionalFe'+'atures']['push']('image-trac'+'king'),_0x1dafc7['planeDetec'+'tion']&&_0x560958['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x1dafc7['meshDetect'+'ion']&&_0x560958['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x560958['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x560958['domOverlay']={'root':this['domOverlay']['root']}),_0x1dafc7&&_0x1dafc7['anchors']&&this['anchors']['supported']&&_0x560958['optionalFe'+'atures']['push']('anchors'),_0x1dafc7&&_0x1dafc7['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x560958['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x3b5ace=[],_0xb0d8ee=[];if(_0x3b5ace['push'](Nx,KL),_0xb0d8ee['push'](Vx,zx,Ux),_0x1dafc7['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x4fe372=_0x3b5ace['indexOf'](_0x1dafc7['depthSensi'+'ng']['usagePrefe'+'rence']);_0x4fe372!==-(-0x24aa+0x578+0x1f33)&&_0x3b5ace['splice'](_0x4fe372,-0x1937+0xc7*-0x17+-0xb*-0x3eb),_0x3b5ace['unshift'](_0x1dafc7['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x1dafc7['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x2cb257=_0xb0d8ee['indexOf'](_0x1dafc7['depthSensi'+'ng']['dataFormat'+'Preference']);_0x2cb257!==-(0x90f*0x3+-0xa47+-0x1*0x10e5)&&_0xb0d8ee['splice'](_0x2cb257,-0xa*-0x37+-0x1056+0xe31),_0xb0d8ee['unshift'](_0x1dafc7['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x560958['depthSensi'+'ng']={'usagePreference':_0x3b5ace,'dataFormatPreference':_0xb0d8ee};}_0x1a6008&&_0x1dafc7&&_0x1dafc7['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x560958['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x560958['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x1dafc7&&_0x1dafc7['optionalFe'+'atures']&&(_0x560958['optionalFe'+'atures']=_0x560958['optionalFe'+'atures']['concat'](_0x1dafc7['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x6af3d7,_0x5e24ea)=>{if(_0x6af3d7){_0x426bd8&&_0x426bd8(_0x6af3d7),this['fire']('error',_0x6af3d7);return;}_0x5e24ea!==null&&(_0x560958['trackedIma'+'ges']=_0x5e24ea),this['_onStartOp'+'tionsReady'](_0x48daf8,_0xed3276,_0x560958,_0x426bd8);}):this['_onStartOp'+'tionsReady'](_0x48daf8,_0xed3276,_0x560958,_0x426bd8);}['_onStartOp'+'tionsReady'](_0x146877,_0x28d404,_0x41eace,_0x27f8dd){navigator['xr']['requestSes'+'sion'](_0x146877,_0x41eace)['then'](_0xa90fc7=>{this['_onSession'+'Start'](_0xa90fc7,_0x28d404,_0x27f8dd);})['catch'](_0x21c013=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x27f8dd&&_0x27f8dd(_0x21c013),this['fire']('error',_0x21c013);});}['end'](_0x27c932){if(!this['_session']){_0x27c932&&_0x27c932(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x27c932&&this['once']('end',_0x27c932),this['_session']['end']();}['isAvailabl'+'e'](_0x2e0c79){return this['_available'][_0x2e0c79];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x271d80 in this['_available'])this['_sessionSu'+'pportCheck'](_0x271d80);}['initiateRo'+'omCapture'](_0x4f8d58){if(!this['_session']){_0x4f8d58(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x4f8d58(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x4f8d58&&_0x4f8d58(null);})['catch'](_0x55e528=>{_0x4f8d58&&_0x4f8d58(_0x55e528);});}['updateTarg'+'etFrameRat'+'e'](_0xe5c8d8,_0x33e103){var _0x40d49f;if(!((_0x40d49f=this['_session'])!=null&&_0x40d49f['updateTarg'+'etFrameRat'+'e'])){_0x33e103==null||_0x33e103(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0xe5c8d8)['then'](()=>{_0x33e103==null||_0x33e103();})['catch'](_0x2ff3c6=>{_0x33e103==null||_0x33e103(_0x2ff3c6);});}['_sessionSu'+'pportCheck'](_0x38f360){navigator['xr']['isSessionS'+'upported'](_0x38f360)['then'](_0x5f1b2f=>{this['_available'][_0x38f360]!==_0x5f1b2f&&(this['_available'][_0x38f360]=_0x5f1b2f,this['fire']('available',_0x38f360,_0x5f1b2f),this['fire']('available:'+_0x38f360,_0x5f1b2f));})['catch'](_0x3651b0=>{this['fire']('error',_0x3651b0);});}['_onSession'+'Start'](_0x303b21,_0x579664,_0x20413c){let _0x242e7a=!(-0x2b3+0x1131*-0x1+0x13e5);this['_session']=_0x303b21;const _0x31bdf3=()=>{this['fire']('visibility'+':change',_0x303b21['visibility'+'State']);},_0x7d8847=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x31a05d=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x7d8847),this['_camera']['off']('set_farCli'+'p',_0x7d8847),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x303b21['removeEven'+'tListener']('end',_0x31a05d),_0x303b21['removeEven'+'tListener']('visibility'+'change',_0x31bdf3),_0x242e7a||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=-0x1*0x15b+-0x1*-0x270e+-0x25b3*0x1,this['_height']=0x949*-0x1+0xc*-0x25+0xb05*0x1,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x303b21['addEventLi'+'stener']('end',_0x31a05d),_0x303b21['addEventLi'+'stener']('visibility'+'change',_0x31bdf3),this['_camera']['on']('set_nearCl'+'ip',_0x7d8847),this['_camera']['on']('set_farCli'+'p',_0x7d8847),b['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x3e6773;this['fire']('frameratec'+'hange',(_0x3e6773=this['_session'])==null?void(-0x2324+0x30b*-0x2+-0x293a*-0x1):_0x3e6773['frameRate']);}),_0x303b21['requestRef'+'erenceSpac'+'e'](_0x579664)['then'](_0x516105=>{this['_reference'+'Space']=_0x516105,this['app']['tick'](),_0x20413c&&_0x20413c(null),this['fire']('start');})['catch'](_0x53d640=>{_0x242e7a=!(-0x263b*0x1+-0x4e6+-0x1*-0x2b21),_0x303b21['end'](),_0x20413c&&_0x20413c(_0x53d640),this['fire']('error',_0x53d640);});}['_setClipPl'+'anes'](_0x3d4cf0,_0x5029fa){this['_depthNear']===_0x3d4cf0&&this['_depthFar']===_0x5029fa||(this['_depthNear']=_0x3d4cf0,this['_depthFar']=_0x5029fa,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x28af88=this['app']['graphicsDe'+'vice'],_0x5ade74=_0x28af88['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x28af88['gl'],{'alpha':!(0x9fe+-0xe0a+0x206*0x2),'depth':!(-0x695*-0x3+-0x22ee+0xf2f),'stencil':!(-0x1ee1+0x1054*-0x2+0x3f89),'framebufferScaleFactor':_0x5ade74,'antialias':!(-0x21d3+-0x4af*0x2+0x2b32)}),_0x28af88!=null&&_0x28af88['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x28af88['gl']);}catch(_0x515b85){this['fire']('error',_0x515b85);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x53f17c=>{this['fire']('error',_0x53f17c);});},-0xdc+-0x81a*-0x1+-0x1*0x73e);}['update'](_0x61b256){if(!this['_session'])return!(0x1*0x18a7+0x5b6+0x1*-0x1e5c);const _0x388813=_0x61b256['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x473211=_0x61b256['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x388813||this['_height']!==_0x473211)&&(this['_width']=_0x388813,this['_height']=_0x473211,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x388813,_0x473211));const _0x293a37=_0x61b256['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x293a37)return!(-0x2*-0x167+-0x166d*0x1+0x4*0x4e8);const _0x5920de=this['views']['list']['length'];this['views']['update'](_0x61b256,_0x293a37['views']);const _0x561751=_0x293a37['transform']['position'],_0x59de73=_0x293a37['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x561751['x'],_0x561751['y'],_0x561751['z']),this['_localRota'+'tion']['set'](_0x59de73['x'],_0x59de73['y'],_0x59de73['z'],_0x59de73['w']),_0x5920de===-0x49*-0x7f+0x26e7+-0x4b1e&&this['views']['list']['length']>-0x2229+-0xe6e+0x3097){const _0x74ac0b=new q(),_0x29fc42=this['views']['list'][-0x1d52*-0x1+-0x5*-0x57d+-0x38c3];_0x74ac0b['copy'](_0x29fc42['projMat']);const _0xe4081c=_0x74ac0b['data'],_0x46c225=(0x1*0xdc7+0x1878+-0x263d)*Math['atan']((0x385*0x3+-0x19*0x109+-0x1*-0xf53)/_0xe4081c[0xcc0+0x28d*-0x2+-0x7a1])*(-0xa9+-0xd*0x1+0x16a)/Math['PI'],_0x1dc90b=_0xe4081c[-0x562*0x3+-0x1cfd+0x2d28]/_0xe4081c[-0x1960+0xda2+0xbbe],_0x11e9f6=_0xe4081c[0x1*-0x272+0x10ab*0x1+-0xe2b]/(_0xe4081c[0xfb*0xd+-0xf6*-0xc+0x1*-0x183d]+(0xbdd*-0x1+-0xf8f+-0x11*-0x19d)),_0x5eb018=_0xe4081c[-0x78d*-0x2+0x18ef+-0x17*0x1bd]/(_0xe4081c[0x10d4*0x1+0x1b8+-0x1282]-(-0x177f+-0x33*-0xab+0x1*-0xa91));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x1dc90b,'farClip':_0x11e9f6,'fov':_0x46c225,'horizontalFov':!(-0x1*-0x18d1+0xf6c+-0x283c),'nearClip':_0x5eb018});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x61b256),this['_type']===Po&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x61b256),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x61b256),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x61b256),this['anchors']['supported']&&this['anchors']['update'](_0x61b256),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x61b256),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x61b256)),this['fire']('update',_0x61b256),!(0x1245*-0x2+0x1c7+-0x1*-0x22c3);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x2202f9;return((_0x2202f9=this['_session'])==null?void(-0x1649+0x100f+0x63a):_0x2202f9['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x4d99ea){var _0x3726bd;(((_0x3726bd=this['_baseLayer'])==null?void(0x1f0b+-0x1*0x167f+-0x4*0x223):_0x3726bd['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x1*0x2288+-0x1402+0x3f*-0x3b&&b['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x4d99ea);}get['fixedFovea'+'tion'](){var _0x7a7b28;return((_0x7a7b28=this['_baseLayer'])==null?void(0x2d3+0xa6*-0x24+-0x67*-0x33):_0x7a7b28['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(ea,'EVENT_AVAI'+'LABLE','available'),c(ea,'EVENT_STAR'+'T','start'),c(ea,'EVENT_END','end'),c(ea,'EVENT_UPDA'+'TE','update'),c(ea,'EVENT_ERRO'+'R','error');class gF extends Zh{constructor(_0x2855dd,_0x2b7034={}){super(_0x2855dd);const _0x208d71=new mP();_0x208d71['graphicsDe'+'vice']=_0x2b7034['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x2855dd,_0x2b7034),this['addCompone'+'ntSystems'](_0x208d71),this['addResourc'+'eHandles'](_0x208d71),_0x208d71['elementInp'+'ut']=_0x2b7034['elementInp'+'ut'],_0x208d71['keyboard']=_0x2b7034['keyboard'],_0x208d71['mouse']=_0x2b7034['mouse'],_0x208d71['touch']=_0x2b7034['touch'],_0x208d71['gamepads']=_0x2b7034['gamepads'],_0x208d71['scriptPref'+'ix']=_0x2b7034['scriptPref'+'ix'],_0x208d71['assetPrefi'+'x']=_0x2b7034['assetPrefi'+'x'],_0x208d71['scriptsOrd'+'er']=_0x2b7034['scriptsOrd'+'er'],_0x208d71['soundManag'+'er']=new Ob(),_0x208d71['lightmappe'+'r']=bP,_0x208d71['batchManag'+'er']=uC,_0x208d71['xr']=ea,this['init'](_0x208d71);}['createDevi'+'ce'](_0x288e22,_0x4c772d){return _0x4c772d['graphicsDe'+'viceOption'+'s']||(_0x4c772d['graphicsDe'+'viceOption'+'s']={}),be['browser']&&navigator['xr']&&(_0x4c772d['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(-0xadd*0x3+-0x25f6+0x468d*0x1)),_0x4c772d['graphicsDe'+'viceOption'+'s']['alpha']=_0x4c772d['graphicsDe'+'viceOption'+'s']['alpha']||!(-0x2*-0xbf3+-0x1*0x95b+-0xe8a),new pb(_0x288e22,_0x4c772d['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x53edca){_0x53edca['componentS'+'ystems']=[_x,pR,WR,VP,XP,rI,pI,YI,ZI,dD,NI,YP,dI,wI,UR,JP,LI,kI,HI,eI,qR,$I,fD];}['addResourc'+'eHandles'](_0x542a27){_0x542a27['resourceHa'+'ndlers']=[pD,g2,y2,x2,hL,rL,qL,xL,eL,v2,mL,cL,E2,J2,A2,_L,Q2,C2,M2,b2,vL,gL,yL,T2,Z2];}}const ch=[],tF=[[],[],[]];class sF extends gs{constructor(_0x216b84,_0x4f8c54){super(_0x216b84),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x4f8c54;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x52c3ee=>{_0x52c3ee['defaultUni'+'formBuffer']['destroy'](),_0x52c3ee['destroy']();}),this['viewBindGr'+'oups']['length']=-0x11a2*0x1+0x2*-0x4e7+0x6dc*0x4;}['update'](_0x108e17,_0x273fcf,_0x62e5a1,_0x1952e4){this['camera']=_0x108e17,this['scene']=_0x273fcf,this['layers']=_0x62e5a1,this['mapping']=_0x1952e4;}['execute'](){const _0x266cec=this['device'],{renderer:_0x4356ea,camera:_0x4de452,scene:_0x10f6a9,layers:_0x594db0,mapping:_0x2bd179,renderTarget:_0x3943a3}=this,_0x395859=_0x10f6a9['layers']['layerList'],_0x3a7dfb=_0x10f6a9['layers']['subLayerEn'+'abled'],_0x7e91d4=_0x10f6a9['layers']['subLayerLi'+'st'];for(let _0x5d3524=-0x231+0x137e+0x2b*-0x67;_0x5d3524<_0x395859['length'];_0x5d3524++){const _0x1cb198=_0x395859[_0x5d3524];if(!(_0x594db0&&_0x594db0['indexOf'](_0x1cb198)<0x1b95+-0x3e*0x2d+-0x10af)&&_0x1cb198['enabled']&&_0x3a7dfb[_0x5d3524]&&_0x1cb198['camerasSet']['has'](_0x4de452['camera'])){const _0x3e3ded=_0x7e91d4[_0x5d3524];G['pushGpuMar'+'ker'](_0x266cec,_0x1cb198['name']+'('+(_0x3e3ded?'TRANSP':'OPAQUE')+')'),_0x1cb198['_clearDept'+'hBuffer']&&_0x4356ea['clear'](_0x4de452['camera'],!(0x2*0x2f+0x237f+0x66*-0x5a),!(0x1511+-0x1a9+-0x2*0x9b4),!(-0x2*0xf2b+-0x1d38+0x3b8f));const _0x33d120=_0x1cb198['meshInstan'+'ces'];for(let _0x251976=0x1857*-0x1+0x9a0+0xeb7;_0x251976<_0x33d120['length'];_0x251976++){const _0x11d482=_0x33d120[_0x251976];_0x11d482['pick']&&_0x11d482['transparen'+'t']===_0x3e3ded&&(ch['push'](_0x11d482),_0x2bd179['set'](_0x11d482['id'],_0x11d482));}ch['length']>-0x21c4+0x24*-0xa7+0x10*0x394&&(_0x10f6a9['clusteredL'+'ightingEna'+'bled']&&_0x4356ea['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x4356ea['setCameraU'+'niforms'](_0x4de452['camera'],_0x3943a3),_0x266cec['supportsUn'+'iformBuffe'+'rs']&&_0x4356ea['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x4356ea['viewUnifor'+'mFormat'],_0x4356ea['viewBindGr'+'oupFormat'],0x182d+0x4c7+-0x1cf3),_0x4356ea['renderForw'+'ard'](_0x4de452['camera'],_0x3943a3,ch,tF,Na,_0x2169dd=>{_0x266cec['setBlendSt'+'ate'](bt['NOBLEND']);}),ch['length']=0x1*-0x107b+0x1d75+-0xcfa),G['popGpuMark'+'er'](_0x266cec);}}}}const hu=new Set(),iF=new ee();let yF=class{constructor(_0x99c1bc,_0x11cef2,_0x23afd4){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(0x2007*-0x1+0x18*-0x12a+0x3bf7)),(b['assert'](_0x99c1bc),this['renderer']=_0x99c1bc['renderer'],this['device']=_0x99c1bc['graphicsDe'+'vice'],this['renderPass']=new sF(this['device'],_0x99c1bc['renderer']),this['width']=-0x25c9+-0x38a*0x4+0x33f1,this['height']=0x3e*-0x8+0xa4*-0x1a+-0x28*-0x77,this['resize'](_0x11cef2,_0x23afd4),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x1394+0x1*-0x331+-0x1062);}));}['getSelecti'+'on'](_0x12821a,_0x12fad8,_0x52f761=-0x2138+0x729+0x1a10*0x1,_0x2dbc3b=-0xb*-0x33d+0x2c9+-0x2667){const _0x5d48f0=this['device'];if(_0x5d48f0['isWebGPU'])return b['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];b['assert'](typeof _0x12821a!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x12fad8=this['renderTarg'+'et']['height']-(_0x12fad8+_0x2dbc3b);const _0x2d61e4=this['sanitizeRe'+'ct'](_0x12821a,_0x12fad8,_0x52f761,_0x2dbc3b);_0x5d48f0['setRenderT'+'arget'](this['renderTarg'+'et']),_0x5d48f0['updateBegi'+'n']();const _0x218f3a=new Uint8Array((-0x1*0x85+-0x1*-0x205d+-0x6*0x54e)*_0x2d61e4['z']*_0x2d61e4['w']);return _0x5d48f0['readPixels'](_0x2d61e4['x'],_0x2d61e4['y'],_0x2d61e4['z'],_0x2d61e4['w'],_0x218f3a),_0x5d48f0['updateEnd'](),this['decodePixe'+'ls'](_0x218f3a,this['mapping']);}['getSelecti'+'onAsync'](_0x46efd2,_0x608881,_0x5bfad1=-0x1e9c+0xb5c+0x1341*0x1,_0x4bc731=-0x1066+-0xf04+0x1f6b){var _0xc5113b;(_0xc5113b=this['device'])!=null&&_0xc5113b['isWebGL2']&&(_0x608881=this['renderTarg'+'et']['height']-(_0x608881+_0x4bc731));const _0x2d7959=this['sanitizeRe'+'ct'](_0x46efd2,_0x608881,_0x5bfad1,_0x4bc731);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x2d7959['x'],_0x2d7959['y'],_0x2d7959['z'],_0x2d7959['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x632+-0x2a8+-0x38a)})['then'](_0x21fcd6=>this['decodePixe'+'ls'](_0x21fcd6,this['mapping']));}['sanitizeRe'+'ct'](_0x552563,_0x5e73c8,_0x7d45ef,_0x228db6){const _0x2f3d28=this['renderTarg'+'et']['width'],_0x27d79f=this['renderTarg'+'et']['height'];return _0x552563=z['clamp'](Math['floor'](_0x552563),0x2*-0x289+-0x1*0x1af9+0x200b,_0x2f3d28-(-0x71*0x4d+0xc*-0x2a5+-0x41ba*-0x1)),_0x5e73c8=z['clamp'](Math['floor'](_0x5e73c8),0x1*-0x17be+-0x1984+0x18a1*0x2,_0x27d79f-(-0x1*0xd7f+-0xa0*-0x32+-0x11c0)),_0x7d45ef=Math['floor'](Math['max'](_0x7d45ef,-0x211a+0xe34+0x64d*0x3)),_0x7d45ef=Math['min'](_0x7d45ef,_0x2f3d28-_0x552563),_0x228db6=Math['floor'](Math['max'](_0x228db6,0x3*0x843+-0x2573+-0x45*-0x2f)),_0x228db6=Math['min'](_0x228db6,_0x27d79f-_0x5e73c8),iF['set'](_0x552563,_0x5e73c8,_0x7d45ef,_0x228db6);}['decodePixe'+'ls'](_0x5cfb67,_0x185f28){const _0x2f6d2e=[];if(this['deviceVali'+'d']){const _0x2b1de8=_0x5cfb67['length'];for(let _0x55a2a6=-0x139*-0x6+-0x1*-0x2285+-0x29db;_0x55a2a6<_0x2b1de8;_0x55a2a6+=0x25cb+-0x813+-0x1db4){const _0x64d122=_0x5cfb67[_0x55a2a6+(-0x2*0x4df+-0x557+0x15f*0xb)],_0x5f4e81=_0x5cfb67[_0x55a2a6+(0x16*-0x157+-0x23e4+0x415f)],_0xe8eb77=_0x5cfb67[_0x55a2a6+(0x82f*0x3+0x2*-0x91f+-0x64d)],_0x225b41=_0x5cfb67[_0x55a2a6+(0x56*0x74+0xafa*0x1+0x10a5*-0x3)]<<-0x173f*0x1+-0x244+-0x5*-0x51f|_0x64d122<<0x1ffd+-0xfc6+-0x5*0x33b|_0x5f4e81<<-0x213*-0x8+0x1*-0x377+-0xd19|_0xe8eb77;_0x225b41!==-(-0x141*-0x16+-0x7*-0x82+0x3*-0xa61)&&hu['add'](_0x185f28['get'](_0x225b41));}hu['forEach'](_0x87ee45=>{_0x87ee45&&_0x2f6d2e['push'](_0x87ee45);}),hu['clear']();}return _0x2f6d2e;}['allocateRe'+'nderTarget'](){const _0x57782a=new ce(this['device'],{'format':Te,'width':this['width'],'height':this['height'],'mipmaps':!(0x329*0x1+-0x194e+0x1626),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':'pick'});this['renderTarg'+'et']=new St({'colorBuffer':_0x57782a,'depth':!(0x100f+-0x15aa+-0x5*-0x11f)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x3d5747,_0x194435,_0x83095b){_0x83095b instanceof Fr&&(_0x83095b=[_0x83095b]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x4154fa=this['renderPass'];_0x4154fa['init'](this['renderTarg'+'et']),_0x4154fa['colorOps']['clearValue']=Y['WHITE'],_0x4154fa['colorOps']['clear']=!(-0x6e*-0x1+-0x1120+-0x859*-0x2),_0x4154fa['depthStenc'+'ilOps']['clearDepth']=!(-0x66*0x1c+-0xcb7+0x17df),_0x4154fa['update'](_0x3d5747,_0x194435,_0x83095b,this['mapping']),_0x4154fa['render']();}['resize'](_0x417a48,_0x2212cd){this['width']=Math['floor'](_0x417a48),this['height']=Math['floor'](_0x2212cd);}};class rF{constructor(_0x3bc178){this['_frameInde'+'x']=0x4*0x65e+0x183b+-0x1*0x31b3,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x251b+-0x731+-0x1de9,this['enabled']=!(0x2484+0x121d*-0x2+-0x4a*0x1),_0x3bc178['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x3bc178['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x3bc178['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x355db2){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x49ef1d=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x49ef1d,this['_frameInde'+'x']=-0x55*0x63+-0xbf8+-0xd*-0x373,this['mark'](_0x355db2);}['mark'](_0x3f95d5){if(!this['enabled'])return;const _0x2fe7c8=ae();if(this['_frameInde'+'x']>0xef*-0x1f+-0xb40+0x2831){const _0x296de2=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0xa49+-0x1*-0x494+-0xedc)];_0x296de2[0x2324+0x6dd*-0x1+0x1c46*-0x1]=_0x2fe7c8-_0x296de2[0x19bb+-0xc6b+-0xd4f];}else{if(this['_timings']['length']>0x3*0x48f+-0xafa+-0x2b3){const _0x1f3169=this['_timings'][this['_timings']['length']-(-0x2*0xce3+0x4d3*0x1+0x14f4)];_0x1f3169[0x2682+-0x2206+0x1*-0x47b]=_0x2fe7c8-_0x1f3169[-0x2099+-0x9*0x1a3+0x2f55];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x3f95d5,_0x2fe7c8]);else{const _0x18799b=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x18799b[0x1eeb+0x1*0xb63+0xa*-0x43b]=_0x3f95d5,_0x18799b[0x8ed+0x1e57+-0x2743*0x1]=_0x2fe7c8;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x1*0xbfc+0x1306+0xa56*-0x3,-(-0x1fa4+0x88c+0x49*0x51))['map'](_0x168ef9=>_0x168ef9[-0x17a4+0x19*0x184+-0xe3f]);}}class nF{constructor(_0x119235){this['device']=_0x119235,_0x119235['gpuProfile'+'r']['enabled']=!(0xe50+-0x7*0x4cd+0xb*0x1c1),this['enabled']=!(0x156d+-0x4c3*-0x1+0xd18*-0x2),this['unitsName']='ms',this['decimalPla'+'ces']=-0xb99*-0x3+0xa9*-0x2b+-0x667*0x1,this['_timings']=[];}get['timings'](){return this['_timings'][-0x1*0x24ba+0x1725+0xd95]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class aF{constructor(_0x1a23d0,_0x5a07dd,_0x3405b1,_0x2fb45f,_0x598959){this['app']=_0x1a23d0,this['values']=[],this['statNames']=_0x5a07dd,this['statNames']['length']>-0x2b+-0x2*-0x10c7+-0x2160&&(this['statNames']['length']=0x1d*0x133+0x21d0+-0x4494),this['unitsName']=_0x2fb45f,this['decimalPla'+'ces']=_0x3405b1,this['multiplier']=_0x598959||0x1ecb*-0x1+0x1*0x1416+-0x1*-0xab6;const _0x389255=(_0x54b353,_0x31917d)=>_0x54b353['split']('.')['reduce']((_0x30a51f,_0x4fd8ed)=>_0x30a51f?_0x30a51f[_0x4fd8ed]:null,_0x31917d||this);_0x1a23d0['on']('frameupdat'+'e',_0x2d2d28=>{for(let _0x4f9a83=-0xe*-0x35+0x6*0x231+-0x100c;_0x4f9a83<this['statNames']['length'];_0x4f9a83++)this['values'][_0x4f9a83]=_0x389255(this['statNames'][_0x4f9a83],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class cu{constructor(_0x1775d7,_0x1b48ec,_0x2c4186,_0x7f397b,_0x5b0bc9){this['app']=_0x1b48ec,this['name']=_0x1775d7,this['device']=_0x1b48ec['graphicsDe'+'vice'],this['timer']=_0x5b0bc9,this['watermark']=_0x2c4186,this['enabled']=!(0x77e+-0x33b*-0x7+-0x1e1a*0x1),this['textRefres'+'hRate']=_0x7f397b,this['avgTotal']=-0x1956+-0x20bb+-0x135b*-0x3,this['avgTimer']=0x78f+-0x12f9+0xb6a,this['avgCount']=0xd6*0x1+-0x1*0x1b05+-0x1*-0x1a2f,this['timingText']='',this['texture']=null,this['yOffset']=0x12aa*-0x1+0x236a+-0x10c0,this['cursor']=0x1d5e+0x755*-0x5+0x74b,this['sample']=new Uint8ClampedArray(-0x1*0x10a3+0x444+0xc63),this['sample']['set']([-0xe0a+0x3ad*-0x2+0x4a*0x4a,0x2492+-0x2*-0x99b+0x69*-0x88,-0x19ed+-0xafc*0x3+0x3ae1,0x6d7+-0xd16+-0x12*-0x67]),this['counter']=0x1b0+-0x14bf*-0x1+-0x1*0x166f,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x88b18c){const _0x4fa634=this['timer']['timings'],_0x476fcd=_0x4fa634['reduce']((_0x16cd4c,_0x4db981)=>_0x16cd4c+_0x4db981,0x1b33+-0x1*0x26ad+0xb7a);if(this['avgTotal']+=_0x476fcd,this['avgTimer']+=_0x88b18c,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x19fe*-0x1+-0x467+0x1597*-0x1,this['avgTotal']=0x1e9d+-0x144e+0x5b*-0x1d,this['avgCount']=0x1e67+-0x20*0xa2+-0xa27),this['enabled']){let _0x312db6=0xbc9+-0x5*0x589+0x9*0x1c4;const _0x4d541c=(0x5*-0x3be+-0x486*-0x6+0x86d*-0x1+0.5)*this['watermark'];for(let _0x1b8bce=0x5b4+0x23c9*-0x1+0x1e15;_0x1b8bce<_0x4fa634['length'];++_0x1b8bce)_0x312db6+=Math['floor'](_0x4fa634[_0x1b8bce]/_0x4d541c*(0x9*-0x450+-0x163f*0x1+-0x152*-0x2f)),this['sample'][_0x1b8bce]=_0x312db6;this['sample'][-0xd94+0x4e*-0xb+0x10f1]=this['watermark']/_0x4d541c*(0x1ca+0xda*-0x14+0x103d),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x61*-0x4f+-0x1*0x303+-0xc*0x23e)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x6b9*-0x1+-0x749+0xe02);}}['render'](_0x3d65ff,_0x3ec63b,_0x5a5839,_0x4107b4,_0x10cd9c){_0x3d65ff['quad'](_0x3ec63b+_0x4107b4,_0x5a5839,-_0x4107b4,_0x10cd9c,this['enabled']?this['cursor']:0x15d7+-0x3*-0xc01+-0xa*0x5c9,this['enabled']?0xb*-0x1b7+0x1623+-0x1*0x346+0.5+this['yOffset']:this['texture']['height']-(-0x1bfe*0x1+0x1252+0x9ad),-_0x4107b4,0xaaa+0x1dd6+0x1440*-0x2,this['texture'],-0x10ce+0xe7*0x1c+-0x876);}}class oF{constructor(_0x541940,_0x40e6e2){const _0x4cd147=_0xc59072=>{_0xc59072['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0xc59072['textAlign']='left',_0xc59072['textBaseli'+'ne']='alphabetic';},_0x24846e=_0x60002e=>_0x60002e==='.'||_0x60002e['length']===-0x281*0x6+-0x9d9*0x2+0xb93*0x3&&_0x60002e['charCodeAt'](-0x1*-0xd0+-0x1*-0xf6d+-0x103d)>=-0x137d+-0x2290+-0x1*-0x363d&&_0x60002e['charCodeAt'](0xf1*0xa+0x1679+-0x1fe3)<=-0xb5d*-0x1+-0xa6f*-0x3+0x5*-0x87d,_0x383b88=document['createElem'+'ent']('canvas'),_0x5af983=_0x383b88['getContext']('2d',{'alpha':!(-0x1ee7+-0x1*0x8fa+0x27e1)});_0x4cd147(_0x5af983);const _0x56d12d=new Map(),_0x4485c1=-0x1b6c+0x3b2+-0x17bf*-0x1,_0x239d5e=0x1f98+-0xd0*0x20+-0xa*0x5c;let _0x69b18=_0x4485c1,_0x5573bb=_0x4485c1;_0x40e6e2['forEach'](_0x46ab38=>{const _0x1c1d73=_0x5af983['measureTex'+'t'](_0x46ab38),_0x2c3ae8=Math['ceil'](-_0x1c1d73['actualBoun'+'dingBoxLef'+'t']),_0x43c688=Math['ceil'](_0x1c1d73['actualBoun'+'dingBoxRig'+'ht']),_0x14e63b=Math['ceil'](_0x1c1d73['actualBoun'+'dingBoxAsc'+'ent']),_0x3d34e=Math['ceil'](_0x1c1d73['actualBoun'+'dingBoxDes'+'cent']),_0x2e1a63=_0x2c3ae8+_0x43c688,_0x46ba62=_0x14e63b+_0x3d34e;_0x69b18+_0x2e1a63+_0x4485c1>=_0x239d5e&&(_0x69b18=_0x4485c1,_0x5573bb+=-0x122b+0x9*0x24d+-0x13d*0x2),_0x56d12d['set'](_0x46ab38,{'l':_0x2c3ae8,'r':_0x43c688,'a':_0x14e63b,'d':_0x3d34e,'w':_0x2e1a63,'h':_0x46ba62,'x':_0x69b18,'y':_0x5573bb}),_0x69b18+=_0x2e1a63+_0x4485c1;}),_0x383b88['width']=0x1*-0xf27+-0x9*0x335+-0x9b*-0x4c,_0x383b88['height']=z['nextPowerO'+'fTwo'](_0x5573bb+(-0xbf*0x17+-0x7*-0x494+-0xed3)+_0x4485c1),_0x4cd147(_0x5af983),_0x5af983['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x5af983['fillRect'](-0x1f32+-0x517*0x1+-0x1*-0x2449,-0x891+-0x13f8+0x5*0x5b5,_0x383b88['width'],_0x383b88['height']),_0x56d12d['forEach']((_0x5bb07e,_0x29186f)=>{_0x5af983['fillStyle']=_0x24846e(_0x29186f)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x5af983['fillText'](_0x29186f,_0x5bb07e['x']-_0x5bb07e['l'],_0x5bb07e['y']+_0x5bb07e['a']);}),this['placements']=_0x56d12d;const _0x326a45=_0x5af983['getImageDa'+'ta'](0x7*-0x475+0x2104+0x1d1*-0x1,0xe81*0x2+0x3*-0x89b+-0x331,_0x383b88['width'],_0x383b88['height'])['data'];for(let _0x161241=-0xf26+-0x8e*-0x44+-0x1692;_0x161241<_0x326a45['length'];_0x161241+=0x21e3+0x1e44+-0x1561*0x3)_0x326a45[_0x161241+(0x14f2+-0x16eb*-0x1+-0x3*0xe9e)]=_0x326a45[_0x161241+(-0x1c*-0x14+0x1*0x1c42+-0x1e72)],_0x326a45[_0x161241+(-0x1*0x469+-0x59*-0x6+0x253)]=-0x2b*-0x2b+0x8e0+-0xf1a,_0x326a45[_0x161241+(0xad7+-0x1e24+0x134e)]=-0x1*-0xdf+0xfd6+0x2*-0x7db,_0x326a45[_0x161241+(0x1660+0x1*0xeb6+-0x2a*0xe2)]=-0x106d+-0x10ef+0x6df*0x5;this['texture']=new ce(_0x541940,{'name':'mini-stats'+'-word-atla'+'s','width':_0x383b88['width'],'height':_0x383b88['height'],'mipmaps':!(0x1*0x493+0x2529+-0x9*0x4a3),'minFilter':fe,'magFilter':fe,'levels':[_0x326a45]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x4d3abd,_0xc45b41,_0x52ebbc,_0x266537){const _0x3dd820=this['placements']['get'](_0xc45b41);return _0x3dd820?(_0x4d3abd['quad'](_0x52ebbc+_0x3dd820['l']-(0x12e7*0x2+0x25*-0x2f+0x1b9*-0x12),_0x266537-_0x3dd820['d']+(0x1f15+-0x6*-0x31+-0x203a),_0x3dd820['w']+(-0xe*-0x49+-0x1321+0x3c9*0x4)*(0x1d8b+-0x3b4+-0x19d5*0x1),_0x3dd820['h']+(-0x1009*-0x2+0x4*0x5b1+-0x36d5)*(0x24f7*-0x1+-0x4*-0x871+0x335),_0x3dd820['x']-(-0x1fc1+-0x17f*0xb+0x3037),this['texture']['height']-_0x3dd820['y']-_0x3dd820['h']-(0x5*-0x503+-0x159c+-0x1756*-0x2),void(-0xd73*0x1+0x2f6*0x4+0x19b),void(0x1*0x20f+-0xb76+0x967),this['texture'],0x162+-0x14f3+-0x14e*-0xf),_0x3dd820['w']):-0x5*0x575+0x1cca+0x181*-0x1;}}const lF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',hF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class cF{constructor(_0x470069,_0x3397d3=-0x75f*-0x3+-0x2*-0x33d+0x1a97*-0x1){const _0x46963e=new Dt(_0x470069,[{'semantic':Xe,'components':0x3,'type':Re},{'semantic':ds,'components':0x4,'type':Re}]),_0x312209=new Uint16Array(_0x3397d3*(0x3*0x743+-0x135f+0x99*-0x4));for(let _0x1e1e35=0x1c91*-0x1+-0x2573+-0x19*-0x2a4;_0x1e1e35<_0x3397d3;++_0x1e1e35)_0x312209[_0x1e1e35*(0xe9*-0x2+0x87c+-0x6a4)+(-0x10*0xda+-0x4*-0x12a+-0x2*-0x47c)]=_0x1e1e35*(0x7*0x4fb+-0x1*-0x354+-0x262d),_0x312209[_0x1e1e35*(0x1d05+0x2304+-0x4003)+(-0x718+-0x642+-0xd5b*-0x1)]=_0x1e1e35*(-0x86*-0x3+0x667*-0x1+0x4d9)+(0x1*0x17ae+0x1ef4+-0x1*0x36a1),_0x312209[_0x1e1e35*(-0xaeb+-0x9b0+0x1*0x14a1)+(-0xe6f+-0x927*0x3+-0x1f*-0x15a)]=_0x1e1e35*(0x2636+0x22*-0x2c+0x2*-0x102d)+(-0x59d+0x74*0x51+0x1f15*-0x1),_0x312209[_0x1e1e35*(-0xe*0x2a8+0x6*0x4b+-0x4*-0x8dd)+(0x8c6+0xf*-0x1d9+-0x2*-0x97a)]=_0x1e1e35*(-0x189e+-0x1ef3+-0x9*-0x62d),_0x312209[_0x1e1e35*(0x690+-0x1*0xfaa+0x920)+(0x1*-0x1d71+0x65a+0x171b)]=_0x1e1e35*(-0xf62+0x21c0+-0x125a)+(0x654+-0xd8a*-0x1+-0x13dc),_0x312209[_0x1e1e35*(0x1589+0x18fa+-0x2e7d)+(-0x2301+0x24f0+-0x1ea)]=_0x1e1e35*(-0xfb8+0xaed*0x2+0xae*-0x9)+(-0x2c*0xb7+-0x1ca+-0x1*-0x2141);this['device']=_0x470069,this['buffer']=new fs(_0x470069,_0x46963e,_0x3397d3*(-0x787*0x3+0x1071+0x628),{'usage':fy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0xbf2+0x1*-0x768+0x86*0x25)),this['indexBuffe'+'r']=new cr(_0x470069,Fi,_0x3397d3*(-0x1582+0xc01*-0x3+0x1*0x398b),ts,_0x312209),this['prim']={'type':Fs,'indexed':!(-0x19b7+-0x24c1*-0x1+-0xb0a),'base':0x0,'count':0x0},this['quads']=-0x32*0x7+0x1f*-0x2c+0x6b2,this['mesh']=new ke(_0x470069),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x268d+0xc2*-0x2f+0x4a2b]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x5422fd=new La({'uniqueName':'MiniStats','vertexCode':lF,'fragmentCode':hF});this['material']=_0x5422fd,_0x5422fd['cull']=vt,_0x5422fd['depthState']=us['NODEPTH'],_0x5422fd['blendState']=new bt(!(-0x26b+-0x1266*0x2+0x2737),Ut,_c,gc,Ut,ct,ct),_0x5422fd['update'](),this['meshInstan'+'ce']=new Be(this['mesh'],_0x5422fd,new Oe('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x1b*-0xe5+-0x895*0x1+-0xf8e)},this['targetSize']={'width':_0x470069['width'],'height':_0x470069['height']};}['quad'](_0xa1836b,_0x54f67a,_0x3fb233,_0x3f26b3,_0x559a49,_0x26cd1c,_0x2e9242,_0x544253,_0x49a242,_0x552892=0xf*-0x142+0x1e2*0xe+0x7*-0x112){const _0x5f50ce=this['targetSize']['width'],_0x28a8f9=this['targetSize']['height'],_0x20ca2a=_0xa1836b/_0x5f50ce,_0x443532=_0x54f67a/_0x28a8f9,_0x481bbe=(_0xa1836b+_0x3fb233)/_0x5f50ce,_0x39361a=(_0x54f67a+_0x3f26b3)/_0x28a8f9,_0x29eb94=_0x49a242['width'],_0x3c3421=_0x49a242['height'],_0x6f0bb2=_0x559a49/_0x29eb94,_0x1cdccc=_0x26cd1c/_0x3c3421,_0x223233=(_0x559a49+(_0x2e9242??_0x3fb233))/_0x29eb94,_0x8321ba=(_0x26cd1c+(_0x544253??_0x3f26b3))/_0x3c3421;this['data']['set']([_0x20ca2a,_0x443532,_0x552892,_0x6f0bb2,_0x1cdccc,0x121f*-0x1+0x1*0x1762+-0x543,0x1149+0x156+0x129f*-0x1,_0x481bbe,_0x443532,_0x552892,_0x223233,_0x1cdccc,0x265+0xd9c+-0x10*0x100,0x140b+-0x8*0xdf+-0x1*0xd13,_0x481bbe,_0x39361a,_0x552892,_0x223233,_0x8321ba,-0x5*0x48d+-0xf90+0xa*0x3d5,0x1086+0xa44+0x1*-0x1ac9,_0x20ca2a,_0x39361a,_0x552892,_0x6f0bb2,_0x8321ba,0x8a2+0xa7*0x23+-0x1f77,0x8c5*0x1+0x48b+-0xd4f],(0x121f*0x1+0xc02+0x1*-0x1e1d)*(-0xe55+-0x3*-0x172+0x503*0x2)*this['quads']),this['quads']++,this['prim']['count']+=0x277*-0xd+0x2b*0x2+0x1fbb*0x1;}['startFrame'](){this['quads']=-0x932+0xa1*0x19+-0x687*0x1,this['prim']['count']=0x6*0x373+-0x269b*-0x1+0x3b4d*-0x1,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x584059,_0x27f3cf,_0x464754,_0x24627a,_0x1dccf8,_0x5d501a){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x1dccf8,0x1201*-0x1+-0x1513*-0x1+-0x312),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x464754),this['material']['setParamet'+'er']('wordsTex',_0x24627a),_0x584059['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x27f3cf);}}class $x{constructor(_0x4c2586,_0x2efd60){const _0x3bae0a=_0x4c2586['graphicsDe'+'vice'];_0x2efd60=_0x2efd60||$x['getDefault'+'Options'](),this['initGraphs'](_0x4c2586,_0x3bae0a,_0x2efd60);const _0x20e69d=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x37b41e=>_0x37b41e['name']))['concat'](_0x2efd60['stats']?_0x2efd60['stats']['map'](_0x1448d6=>_0x1448d6['unitsName']):[])['filter'](_0x37415b=>!!_0x37415b));this['wordAtlas']=new oF(_0x3bae0a,_0x20e69d),this['sizes']=_0x2efd60['sizes'],this['_activeSiz'+'eIndex']=_0x2efd60['startSizeI'+'ndex'];const _0x56d200=document['createElem'+'ent']('div');_0x56d200['setAttribu'+'te']('id','mini-stats'),_0x56d200['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x56d200),_0x56d200['addEventLi'+'stener']('mouseenter',_0x45947a=>{this['opacity']=-0x2405+0x124a*-0x1+-0x13c*-0x2c;}),_0x56d200['addEventLi'+'stener']('mouseleave',_0x1cadb5=>{this['opacity']=0x2155+-0x2a1+-0x1eb4+0.7;}),_0x56d200['addEventLi'+'stener']('click',_0x228b42=>{_0x228b42['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x21e7+-0x1f*0x1f+-0x25a9*-0x1))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x3bae0a['on']('resizecanv'+'as',this['updateDiv'],this),_0x3bae0a['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x4c2586['on']('postrender',this['postRender'],this),this['app']=_0x4c2586,this['drawLayer']=_0x4c2586['scene']['layers']['getLayerBy'+'Id'](nl),this['device']=_0x3bae0a,this['render2d']=new cF(_0x3bae0a),this['div']=_0x56d200,this['width']=-0x26*0x3e+-0x3*0xbb4+0x2c50,this['height']=0x3*0xac5+-0x160f+-0xa40,this['gspacing']=0x41*0x5+0x399*0x1+0x4*-0x137,this['clr']=[-0x4*-0x8fa+0x1b90+-0x3f77,0x25dd+0x1395*0x1+-0x3971,0x833*0x1+0xf*-0x263+-0x1b9b*-0x1,0xf*0x107+-0xcb3+-0x1*0x2b6+0.5],this['_enabled']=!(0x56f+-0x3*0x20c+0x1*0xb5),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x34365a=>_0x34365a['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x1214+-0x99*-0x2b+-0xd*0x35e)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x1917+-0x1*-0xffb+0x91c)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0xec8+-0x1a6*0x3+0x65*0x32)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0xe17+-0x3a*-0x9e+-0x31e3),'watermark':0x21},'gpu':{'enabled':!(-0x1f26+-0x2*0xca4+0x386e),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x42b427){this['_activeSiz'+'eIndex']=_0x42b427,this['gspacing']=this['sizes'][_0x42b427]['spacing'],this['resize'](this['sizes'][_0x42b427]['width'],this['sizes'][_0x42b427]['height'],this['sizes'][_0x42b427]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x2ce2e2){this['clr'][-0xaa6+-0xc23+-0xb66*-0x2]=_0x2ce2e2;}get['opacity'](){return this['clr'][0x5b*0x10+-0x25e+-0x34f];}get['overallHei'+'ght'](){const _0x1041d1=this['graphs'],_0x46732c=this['gspacing'];return this['height']*_0x1041d1['length']+_0x46732c*(_0x1041d1['length']-(0x5b9*-0x6+0x10fc+0x115b));}set['enabled'](_0x53777a){if(_0x53777a!==this['_enabled']){this['_enabled']=_0x53777a;for(let _0x48e246=-0x1b8f+-0xb1b*-0x1+0x15f*0xc;_0x48e246<this['graphs']['length'];++_0x48e246)this['graphs'][_0x48e246]['enabled']=_0x53777a,this['graphs'][_0x48e246]['timer']['enabled']=_0x53777a;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x538c3d,_0x57ba10,_0x51f923){if(this['graphs']=[],_0x51f923['cpu']['enabled']){const _0x5774ad=new rF(_0x538c3d),_0x567f70=new cu('CPU',_0x538c3d,_0x51f923['cpu']['watermark'],_0x51f923['textRefres'+'hRate'],_0x5774ad);this['graphs']['push'](_0x567f70);}if(_0x51f923['gpu']['enabled']){const _0x435c38=new nF(_0x57ba10),_0x30d44f=new cu('GPU',_0x538c3d,_0x51f923['gpu']['watermark'],_0x51f923['textRefres'+'hRate'],_0x435c38);this['graphs']['push'](_0x30d44f);}_0x51f923['stats']&&_0x51f923['stats']['forEach'](_0x222ea6=>{const _0x41e998=new aF(_0x538c3d,_0x222ea6['stats'],_0x222ea6['decimalPla'+'ces'],_0x222ea6['unitsName'],_0x222ea6['multiplier']),_0x503d7a=new cu(_0x222ea6['name'],_0x538c3d,_0x222ea6['watermark'],_0x51f923['textRefres'+'hRate'],_0x41e998);this['graphs']['push'](_0x503d7a);});const _0x31d5bf=_0x51f923['sizes']['reduce']((_0x1a457a,_0x1a71c1)=>_0x1a71c1['width']>_0x1a457a?_0x1a71c1['width']:_0x1a457a,-0x1*-0x10a3+0x1648+0x29*-0xf3);this['texture']=new ce(_0x57ba10,{'name':'mini-stats'+'-graph-tex'+'ture','width':z['nextPowerO'+'fTwo'](_0x31d5bf),'height':z['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x180c+0x1*-0x2fb+0x1b08),'minFilter':fe,'magFilter':fe,'addressU':nt,'addressV':nt}),this['graphs']['forEach']((_0x48c80a,_0x19439a)=>{_0x48c80a['texture']=this['texture'],_0x48c80a['yOffset']=_0x19439a;});}['render'](){const _0x5e8514=this['graphs'],_0x5aa58e=this['wordAtlas'],_0x5798e0=this['render2d'],_0x4c7aef=this['width'],_0x3e8b32=this['height'],_0x1b3480=this['gspacing'];_0x5798e0['startFrame']();for(let _0x2a40a5=-0x3*-0xe+-0x9*0x167+0x1*0xc75;_0x2a40a5<_0x5e8514['length'];++_0x2a40a5){const _0x33877d=_0x5e8514[_0x2a40a5];let _0x6477db=_0x2a40a5*(_0x3e8b32+_0x1b3480);_0x33877d['render'](_0x5798e0,-0x1*0x1e4f+-0x1*-0x17c7+0x688,_0x6477db,_0x4c7aef,_0x3e8b32);let _0x20d9f8=-0xee8+0xf*0xe3+-0x4*-0x67;_0x6477db+=_0x3e8b32-(0xd*-0xe5+0x130+0x9e*0x11),_0x20d9f8+=_0x5aa58e['render'](_0x5798e0,_0x33877d['name'],_0x20d9f8,_0x6477db)+(0xef*-0x20+0x1e8b*-0x1+0x3c75);const _0x140bc3=_0x33877d['timingText'];for(let _0xa21fc4=-0x35e+0x394*-0x8+-0x38e*-0x9;_0xa21fc4<_0x140bc3['length'];++_0xa21fc4)_0x20d9f8+=_0x5aa58e['render'](_0x5798e0,_0x140bc3[_0xa21fc4],_0x20d9f8,_0x6477db);_0x33877d['timer']['unitsName']&&(_0x20d9f8+=0x71*0x9+0x1*-0x1eb+-0x20b*0x1,_0x5aa58e['render'](_0x5798e0,_0x33877d['timer']['unitsName'],_0x20d9f8,_0x6477db));}_0x5798e0['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x3e8b32);}['resize'](_0x2d0bac,_0x5969f8,_0x19eb66){const _0x1ec171=this['graphs'];for(let _0x4c98a6=-0x2692+0x6f4*-0x5+0x4956;_0x4c98a6<_0x1ec171['length'];++_0x4c98a6)_0x1ec171[_0x4c98a6]['enabled']=_0x19eb66;this['width']=_0x2d0bac,this['height']=_0x5969f8,this['updateDiv']();}['updateDiv'](){const _0x428003=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x428003['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x428003['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x19bbd8=>_0x19bbd8['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class SF extends Zt{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'eventsList',[]),c(this,'addEvents',(_0x34a203,_0x153871,_0x5d091f)=>{_0x34a203['on'](_0x153871,_0x5d091f),this['eventsList']=this['eventsList']['concat']({'e':_0x34a203,'ty':_0x153871,'fn':_0x5d091f});}),c(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x3eb4b5,ty:_0x25a303,fn:_0x54904d})=>{_0x3eb4b5['off'](_0x25a303,_0x54904d);}),this['eventsList']=[];}),c(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x27f388=>{var _0x46d593;if(console['log']('add\x20xr\x20inp'+'ut',_0x27f388['handedness']),!((_0x46d593=_0x27f388['profiles'])!=null&&_0x46d593['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x439ed7=_0x27f388['profiles']['map'](async _0x4d1f2f=>{var _0x52d4b0;const _0x58d487=this['basePath']+'/'+_0x4d1f2f+('/profile.j'+'son');try{const _0x7c5535=await fetch(_0x58d487);if(!_0x7c5535['ok'])return null;const _0x2074f6=await _0x7c5535['json'](),_0x2d0df3=((_0x52d4b0=_0x2074f6['layouts'][_0x27f388['handedness']])==null?void(-0x194a+-0x2b*0x6f+0x2bef):_0x52d4b0['assetPath'])||'',_0x1ba6d5=this['basePath']+'/'+_0x2074f6['profileId']+'/'+_0x27f388['handedness']+_0x2d0df3['replace'](/^\/?(left|right)/,''),_0x520c97=await new Promise((_0x54e09b,_0x49315d)=>{this['app']['assets']['loadFromUr'+'l'](_0x1ba6d5,'container',(_0x3546bc,_0x3764cd)=>{_0x3546bc?_0x49315d(_0x3546bc):_0x54e09b(_0x3764cd);});});return{'profileId':_0x4d1f2f,'asset':_0x520c97};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x4d1f2f),null;}}),_0xfeabea=(await Promise['all'](_0x439ed7))['find'](_0x4dbba8=>_0x4dbba8!==null);if(_0xfeabea){const {asset:_0x476d51}=_0xfeabea,_0x2e21a3=_0x476d51['resource']['instantiat'+'eRenderEnt'+'ity']();_0x2e21a3['name']='Armature_'+_0x27f388['handedness'],this['app']['root']['addChild'](_0x2e21a3),this['preEntitie'+'s']['set'](_0x27f388,_0x2e21a3);const _0x44aeb9=new Map();if(_0x27f388['hand'])for(const _0x4842b0 of _0x27f388['hand']['joints']){const _0x52f09c=_0x2e21a3['findByName'](_0x4842b0['id']);_0x52f09c&&_0x44aeb9['set'](_0x4842b0,_0x52f09c);}this['controller'+'s']['set'](_0x27f388,{'entity':_0x2e21a3,'jointMap':_0x44aeb9});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x3d5f23=>{var _0x4e9847;const _0x3994ea=this['controller'+'s']['get'](_0x3d5f23);_0x3994ea&&((_0x4e9847=_0x3994ea['entity'])==null||_0x4e9847['destroy'](),this['app']['root']['removeChil'+'d'](_0x3994ea==null?void(-0x566*0x6+-0x9*0x20+0x2184):_0x3994ea['entity']),this['controller'+'s']['delete'](_0x3d5f23));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),c(this,'destroy',()=>{var _0x22a4dd,_0x1f1661,_0x5d358a;const _0x34a3a7=this['app'];(_0x22a4dd=this['controller'+'s'])==null||_0x22a4dd['forEach'](_0x14c4b1=>{var _0x372ace;_0x34a3a7['root']['removeChil'+'d'](_0x14c4b1==null?void(0xb1d+-0x6a+-0xb*0xf9):_0x14c4b1['entity']),(_0x372ace=_0x14c4b1['entity'])==null||_0x372ace['destroy']();}),(_0x1f1661=this['controller'+'s'])==null||_0x1f1661['clear'](),(_0x5d358a=this['preEntitie'+'s'])==null||_0x5d358a['forEach'](_0x2db380=>{_0x34a3a7['root']['removeChil'+'d'](_0x2db380),_0x2db380==null||_0x2db380['destroy']();});const _0x13cfd6=()=>{const _0x148034=_0x34a3a7['root']['findByName']('Armature_l'+'eft'),_0x51c1e9=_0x34a3a7['root']['findByName']('Armature_r'+'ight');for(_0x148034&&_0x34a3a7['root']['removeChil'+'d'](_0x148034),_0x51c1e9&&_0x34a3a7['root']['removeChil'+'d'](_0x51c1e9);_0x34a3a7['root']['findByName']('Armature_l'+'eft')||_0x34a3a7['root']['findByName']('Armature_r'+'ight');)_0x13cfd6();};_0x13cfd6();});}['update'](_0x4b64ea){var _0xba91f4;if((_0xba91f4=this['app']['xr'])!=null&&_0xba91f4['active']){for(const [_0x4fb8fd,{entity:_0x5246da,jointMap:_0x4c979b}]of this['controller'+'s'])if(_0x4fb8fd['hand']){for(const [_0x253f7f,_0x1e94ee]of _0x4c979b)_0x1e94ee['setPositio'+'n'](_0x253f7f['getPositio'+'n']()),_0x1e94ee['setRotatio'+'n'](_0x253f7f['getRotatio'+'n']());}else _0x5246da['setPositio'+'n'](_0x4fb8fd['getPositio'+'n']()),_0x5246da['setRotatio'+'n'](_0x4fb8fd['getRotatio'+'n']());}}}export{gF as A,ve as B,Y as C,SF as D,je as E,q1 as F,ph as G,tx as H,de as I,$x as J,km as K,Ap as L,Cl as M,j as N,yF as P,ie as Q,H_ as R,zt as S,p0 as T,A as V,oy as W,jL as X,ee as a,IL as b,W as c,he as d,al as e,pa as f,Xs as g,Pp as h,uF as i,fF as j,pF as k,mF as l,_F as m,Hh as n,Gh as o,Wh as p,ku as q,fh as r,Wr as s,$r as t,Rs as u,_s as v,vI as w,Xn as x,P0 as y,q as z};function _0x9383f(_0x5b795){function _0x23156c(_0x115758){if(typeof _0x115758==='string')return function(_0x31cc19){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x115758/_0x115758)['length']!==-0x2*0xb5+0x1f23+-0x1db8||_0x115758%(0x1d26+0x1180+0x1*-0x2e92)===0x7*-0x353+0x2*0xa6e+-0x269*-0x1?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x23156c(++_0x115758);}try{if(_0x5b795)return _0x23156c;else _0x23156c(0xb9+0x2*0x10a5+0x1*-0x2203);}catch(_0x44fe36){}}