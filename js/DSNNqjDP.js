const _0xb7a9ac=(function(){let _0x10018d=!![];return function(_0x11bb6d,_0xa25ed){const _0x2b33f2=_0x10018d?function(){if(_0xa25ed){const _0x56f267=_0xa25ed['apply'](_0x11bb6d,arguments);return _0xa25ed=null,_0x56f267;}}:function(){};return _0x10018d=![],_0x2b33f2;};}()),_0x2353b6=_0xb7a9ac(this,function(){return _0x2353b6['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x2353b6)['search']('(((.+)+)+)'+'+$');});_0x2353b6();const _0x21cae3=(function(){let _0x4e6d55=!![];return function(_0x51b2d0,_0x3eb6ca){const _0x23fb79=_0x4e6d55?function(){if(_0x3eb6ca){const _0x4b8d4b=_0x3eb6ca['apply'](_0x51b2d0,arguments);return _0x3eb6ca=null,_0x4b8d4b;}}:function(){};return _0x4e6d55=![],_0x23fb79;};}());(function(){_0x21cae3(this,function(){const _0x3d798b=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x3b2195=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x44b90a=_0xe71481('init');!_0x3d798b['test'](_0x44b90a+'chain')||!_0x3b2195['test'](_0x44b90a+'input')?_0x44b90a('0'):_0xe71481();})();}());const _0xfa3ec4=(function(){let _0xf982a4=!![];return function(_0x58a47b,_0x452ef4){const _0x4e307f=_0xf982a4?function(){if(_0x452ef4){const _0x4b8285=_0x452ef4['apply'](_0x58a47b,arguments);return _0x452ef4=null,_0x4b8285;}}:function(){};return _0xf982a4=![],_0x4e307f;};}()),_0x212fcc=_0xfa3ec4(this,function(){let _0x433199;try{const _0x234975=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x433199=_0x234975();}catch(_0x561987){_0x433199=window;}const _0x2a9a9b=_0x433199['console']=_0x433199['console']||{},_0x1ffa29=['log','warn','info','error','exception','table','trace'];for(let _0x39004d=-0x1403+-0x160*-0x10+-0x1*0x1fd;_0x39004d<_0x1ffa29['length'];_0x39004d++){const _0x5265a7=_0xfa3ec4['constructo'+'r']['prototype']['bind'](_0xfa3ec4),_0xf694c7=_0x1ffa29[_0x39004d],_0x875b20=_0x2a9a9b[_0xf694c7]||_0x5265a7;_0x5265a7['__proto__']=_0xfa3ec4['bind'](_0xfa3ec4),_0x5265a7['toString']=_0x875b20['toString']['bind'](_0x875b20),_0x2a9a9b[_0xf694c7]=_0x5265a7;}});_0x212fcc();var qx=Object['defineProp'+'erty'],Xx=(_0x31cece,_0x49ae4e,_0x3b5815)=>_0x49ae4e in _0x31cece?qx(_0x31cece,_0x49ae4e,{'enumerable':!(0x1cfe+-0x3b*0x13+0x189d*-0x1),'configurable':!(0x2109+-0x4*0x95+-0x1eb5),'writable':!(-0xf2+-0x1fb1+0x20a3),'value':_0x3b5815}):_0x31cece[_0x49ae4e]=_0x3b5815,c=(_0x5c4b51,_0x3a59b1,_0x86c30d)=>Xx(_0x5c4b51,typeof _0x3a59b1!='symbol'?_0x3a59b1+'':_0x3a59b1,_0x86c30d);const jx='RenderFram'+'e',nd='RenderFram'+'eTime',Yp='RenderPass',ta='RenderPass'+'Detail',xl='RenderActi'+'on',Kp='RenderTarg'+'etAlloc',Zp='TextureAll'+'oc',Qp='ShaderAllo'+'c',Yx='ShaderComp'+'ile',Kx='VRAM.Textu'+'re',Zx='VRAM.Vb',Qx='VRAM.Ib',Jx='BindGroupA'+'lloc',eS='BindGroupF'+'ormatAlloc',Es='Element',tS='Textures',Sl='GpuTimings',ho='$_CURRENT_'+'SDK_VERSIO'+'N',iy='$_CURRENT_'+'SDK_REVISI'+'ON';function Eh(_0x5ad47f,_0x32dc76){for(const _0x299333 in _0x32dc76){const _0x240341=_0x32dc76[_0x299333];Array['isArray'](_0x240341)?_0x5ad47f[_0x299333]=Eh([],_0x240341):_0x240341&&typeof _0x240341=='object'?_0x5ad47f[_0x299333]=Eh({},_0x240341):_0x5ad47f[_0x299333]=_0x240341;}return _0x5ad47f;}const sS={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x34cb2b=>{const _0x4815c0=Math['random']()*(-0x15f4+-0x8*-0x3a1+-0x704)|-0x1da8+0x1bc7+0x1e1;return(_0x34cb2b==='x'?_0x4815c0:_0x4815c0&-0x29b+0x2627+-0xb*0x33b|-0x32*-0x1f+0xc6f+-0x1275)['toString'](-0x17ea+0x72b+0x10cf);});}},me={'delimiter':'/','join'(..._0x100244){let _0x260a33=_0x100244[-0x2*-0x514+0x16*-0xed+0xa36];for(let _0x562a9b=0x817+-0x116d+0x956;_0x562a9b<_0x100244['length']-(-0x17bd+-0x25d7+0x3d95);_0x562a9b++){const _0x30422a=_0x100244[_0x562a9b],_0x40c025=_0x100244[_0x562a9b+(-0x1112+0x46e+-0x437*-0x3)];if(_0x40c025[-0x1ea0+-0x2*-0x225+0x1a56]===me['delimiter']){_0x260a33=_0x40c025;continue;}_0x30422a&&_0x40c025&&_0x30422a[_0x30422a['length']-(0xb0*-0xa+0xa*0x15c+-0x23d*0x3)]!==me['delimiter']&&_0x40c025[0x12d1*-0x1+-0x2b*0xb3+0x1871*0x2]!==me['delimiter']?_0x260a33+=me['delimiter']+_0x40c025:_0x260a33+=_0x40c025;}return _0x260a33;},'normalize'(_0x55347b){const _0x263a44=_0x55347b['startsWith'](me['delimiter']),_0x2e3d44=_0x55347b['endsWith'](me['delimiter']),_0x53ff82=_0x55347b['split']('/');let _0x7ea328='',_0x4a5880=[];for(let _0xc08a2d=-0x59*-0x34+-0x1*-0x1606+-0x281a;_0xc08a2d<_0x53ff82['length'];_0xc08a2d++)if(_0x53ff82[_0xc08a2d]!==''&&_0x53ff82[_0xc08a2d]!=='.'){if(_0x53ff82[_0xc08a2d]==='..'&&_0x4a5880['length']>-0x925*0x2+0x1a47+-0x7fd){_0x4a5880=_0x4a5880['slice'](0x2455*-0x1+0x3*-0x288+-0x5*-0x8c9,_0x4a5880['length']-(0xae5+-0x105c+0x3*0x1d3));continue;}_0xc08a2d>0x170d+-0x13*-0x129+-0x1e1*0x18&&_0x4a5880['push'](me['delimiter']),_0x4a5880['push'](_0x53ff82[_0xc08a2d]);}return _0x7ea328=_0x4a5880['join'](''),!_0x263a44&&_0x7ea328[0xa99*-0x2+-0x955+0x1e87]===me['delimiter']&&(_0x7ea328=_0x7ea328['slice'](-0x2579+-0x722+0x2c9c)),_0x2e3d44&&_0x7ea328[_0x7ea328['length']-(0x68c*0x1+0x1*-0x870+0x1e5)]!==me['delimiter']&&(_0x7ea328+=me['delimiter']),_0x7ea328;},'split'(_0x6c6ce5){const _0x43de57=_0x6c6ce5['lastIndexO'+'f'](me['delimiter']);return _0x43de57!==-(-0xd75*0x1+-0x8d8*-0x3+-0xef*0xe)?[_0x6c6ce5['substring'](-0x1d08+-0x12ea+0x2ff2,_0x43de57),_0x6c6ce5['substring'](_0x43de57+(0x1b83+0x2057+0x3bd9*-0x1))]:['',_0x6c6ce5];},'getBasename'(_0x538449){return me['split'](_0x538449)[0x11ed+-0xa5*0x15+0x1*-0x463];},'getDirectory'(_0x1c19a1){return me['split'](_0x1c19a1)[0x2*-0x124a+0x7*-0x1eb+0x3201];},'getExtension'(_0x594e21){const _0xd048c9=_0x594e21['split']('?')[-0x137b*-0x1+-0x1f4d+0xbd2]['split']('.')['pop']();return _0xd048c9!==_0x594e21?'.'+_0xd048c9:'';},'isRelativePath'(_0x3914ff){return _0x3914ff['charAt'](-0x209f+0x814*0x2+0x1077)!=='/'&&_0x3914ff['match'](/:\/\//)===null;},'extractPath'(_0x59d187){let _0x1d6201='';const _0x45ae54=_0x59d187['split']('/');let _0x55007d=-0x7*0x475+-0xd84+-0x1*-0x2cb7;if(_0x45ae54['length']>-0x1ff+0x3*0x909+-0x1*0x191b){if(me['isRelative'+'Path'](_0x59d187)){if(_0x45ae54[0x14a4+-0x201c+0xb78]==='.'){for(_0x55007d=-0x7c0+0x11d1+-0xa11;_0x55007d<_0x45ae54['length']-(-0xe44+0xed8+-0x93);++_0x55007d)_0x1d6201+=_0x55007d===0x1*-0x10bf+-0x988+0x1a47*0x1?_0x45ae54[_0x55007d]:'/'+_0x45ae54[_0x55007d];}else{if(_0x45ae54[0x3*-0x6a2+-0x4a5+0x188b]==='..'){for(_0x55007d=0x15c*0x16+0x1*-0x1712+-0x6d6;_0x55007d<_0x45ae54['length']-(0x1*0x1b70+-0x246e+0x8ff);++_0x55007d)_0x1d6201+=_0x55007d===0x475*-0x1+0x1*0x232d+-0x1*0x1eb8?_0x45ae54[_0x55007d]:'/'+_0x45ae54[_0x55007d];}else{for(_0x1d6201='.',_0x55007d=-0xda7+0xbd9+-0xe7*-0x2;_0x55007d<_0x45ae54['length']-(0xea8+-0x1d*-0xa7+-0x1*0x2192);++_0x55007d)_0x1d6201+='/'+_0x45ae54[_0x55007d];}}}else{for(_0x55007d=0x1c1a+-0x1125*0x1+-0x37*0x33;_0x55007d<_0x45ae54['length']-(-0x118a+0xbb*0x5+-0x2*-0x6f2);++_0x55007d)_0x1d6201+=_0x55007d===0x2051+-0x48d*-0x6+-0x3b9f?_0x45ae54[_0x55007d]:'/'+_0x45ae54[_0x55007d];}}return _0x1d6201;}},iS=()=>{let _0x337021=!(-0x277*0xb+-0x22b7*0x1+0x3dd5);try{const _0x4a896e=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x337021=!(-0x2b*0xb5+-0x2*-0x98f+-0x1*-0xb49),!(-0x1208*-0x1+0x1987+-0x2b8e);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x4a896e),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x4a896e);}catch{}return _0x337021;},Ti=typeof navigator<'u'?navigator['userAgent']:'',Ch=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Jp=/android/i['test'](Ti)?'android':/ip(?:[ao]d|hone)/i['test'](Ti)?'ios':/windows/i['test'](Ti)?'windows':/mac os/i['test'](Ti)?'osx':/linux/i['test'](Ti)?'linux':/cros/i['test'](Ti)?'cros':null,rS=Ch!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Ti)?'chrome':/Safari\//['test'](Ti)?'safari':/Firefox\//['test'](Ti)?'firefox':'other',nS=Ch==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>-0x2a*0x97+0x542+-0x9c2*-0x2),aS=iS(),be={'name':Jp,'browser':Ch==='browser','worker':Ch==='worker','android':Jp==='android','touch':nS,'passiveEvents':aS,'browserName':rS},ry='abcdefghij'+'klmnopqrst'+'uvwxyz',ny='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',oS=ry+ny,du=-0x601c+-0x3*0x8c1f+0x1*0x2dc79,ay=0x13332+0xc79d*-0x1+0x706a,em=0x12304+0x65*-0x1aa+-0x29*-0x25e,lS=0xb789*-0x1+0x2*-0x12a0+0xac*0x296,hS=0x3064+-0x56*-0xa6+-0x481b,tm=0x2a746+-0x1*-0x3d22d+-0x4878d,sm=-0x1ebac+0x11a02+-0x1*-0x2c3a9,cS=0x94e6*-0x2+0x32*-0xb51+-0x55399*-0x1,dS=-0x1c08b+0x38294+-0x9fe*-0x5,uS=0x65a*0x2+0xa15+0xa07,fS=-0x5e5*-0x9+-0x3ac6+-0x1c*-0x162,uu=0x9d8c+0x1187b+-0xb807,fu=-0x18276+0x15ac9+0x125bc;function pu(_0x15f885,_0x4989d1=-0x1044+0x2*0xabb+0x7*-0xbe){const _0x3c8fc1=_0x15f885['length'];if(_0x4989d1<0x171f+0xc72+-0x2391||_0x4989d1>=_0x3c8fc1)return null;const _0xcfae93=_0x15f885['charCodeAt'](_0x4989d1);if(_0x3c8fc1>-0xd*-0x10+0x1d05+-0x1dd4&&_0xcfae93>=du&&_0xcfae93<=ay){const _0x2f35e2=_0x15f885['charCodeAt'](_0x4989d1+(0xd53*0x1+-0x92b+-0x427*0x1));if(_0x2f35e2>=em&&_0x2f35e2<=lS)return{'code':(_0xcfae93-du)*(-0x1*-0x1209+-0x261b*0x1+-0x1812*-0x1)+_0x2f35e2-em+(0x2*0xa7f9+0xfa77+0x1607*-0xf),'long':!(-0x1072+-0xfb6+-0x55c*-0x6)};}return{'code':_0xcfae93,'long':!(0x296*0x6+-0x1*0xc9f+-0x2e4)};}function Yi(_0x20ee58,_0x1f2de3,_0xc772be){if(!_0x20ee58)return!(0x1d1c+-0x3aa+-0x1971*0x1);const _0x18b98c=pu(_0x20ee58);if(_0x18b98c){const _0x5264e1=_0x18b98c['code'];return _0x5264e1>=_0x1f2de3&&_0x5264e1<=_0xc772be;}return!(-0x237d+0x11*-0x197+-0x3*-0x14d7);}function pS(_0x5781a1,_0xf5274c){if(_0xf5274c===_0x5781a1['length']-(-0x2265+-0xad0+0x12*0x283))return 0x588*-0x6+0x12f3+-0x71f*-0x2;if(Yi(_0x5781a1[_0xf5274c],du,ay)){const _0x3bc601=_0x5781a1['substring'](_0xf5274c,_0xf5274c+(0x151d+0x130d*-0x2+0x10ff)),_0x33e5fd=_0x5781a1['substring'](_0xf5274c+(0x1e8e+-0xc24+-0x26*0x7c),_0xf5274c+(0x53c+0x95*-0xd+0x1*0x259));return Yi(_0x33e5fd,cS,dS)||Yi(_0x3bc601,tm,sm)&&Yi(_0x33e5fd,tm,sm)?0x63*-0x52+-0x1*-0x11ab+0xe0f:Yi(_0x33e5fd,uu,fu)?0xc7*-0x2+-0x2611*0x1+0x27a2:0xe1*-0x2+-0xe5c+0x1020;}return Yi(_0x5781a1[_0xf5274c+(-0xd*0x14c+0xb*-0xe9+0x2*0xd70)],uu,fu)?0x230a+0xa*-0x2ec+-0x5d0:0x174d+0x2316+0x1*-0x3a62;}const dh={'ASCII_LOWERCASE':ry,'ASCII_UPPERCASE':ny,'ASCII_LETTERS':oS,'format'(_0x382a1d,..._0x583b77){for(let _0xaf9612=-0x9f1*-0x1+0x1*-0x2550+0x1b5f;_0xaf9612<_0x583b77['length'];_0xaf9612++)_0x382a1d=_0x382a1d['replace']('{'+_0xaf9612+'}',_0x583b77[_0xaf9612]);return _0x382a1d;},'getCodePoint'(_0x4c696f,_0x502e98){const _0x38fb00=pu(_0x4c696f,_0x502e98);return _0x38fb00&&_0x38fb00['code'];},'getCodePoints'(_0x17679f){if(typeof _0x17679f!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x34e501=-0xa52+-0x92*-0x3d+-0x1878;const _0x2d9aa8=[];let _0x56bbce;for(;_0x56bbce=pu(_0x17679f,_0x34e501);)_0x2d9aa8['push'](_0x56bbce['code']),_0x34e501+=_0x56bbce['long']?-0x16*0x6a+0x24c8+-0x1baa:-0x9*0x14a+-0x84f*0x4+0x1*0x2cd7;return _0x2d9aa8;},'getSymbols'(_0x5f269b){if(typeof _0x5f269b!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x3a0b86=0x7ad*0x2+0x2*-0xa04+0x1*0x4ae;const _0x3b12ef=_0x5f269b['length'],_0x56c476=[];let _0x9966db=-0x23*-0x5d+0x20c7+0xf2a*-0x3,_0x27d828;for(;_0x3a0b86<_0x3b12ef;){if(_0x9966db+=pS(_0x5f269b,_0x3a0b86+_0x9966db),_0x27d828=_0x5f269b[_0x3a0b86+_0x9966db],Yi(_0x27d828,uS,fS)&&(_0x27d828=_0x5f269b[_0x3a0b86+_0x9966db++]),Yi(_0x27d828,uu,fu)&&(_0x27d828=_0x5f269b[_0x3a0b86+_0x9966db++]),_0x27d828&&_0x27d828['charCodeAt'](-0x119*0x3+-0x1*0x12bc+-0x1*-0x1607)===hS){_0x27d828=_0x5f269b[_0x3a0b86+_0x9966db++];continue;}const _0x16cbbb=_0x5f269b['substring'](_0x3a0b86,_0x3a0b86+_0x9966db);_0x56c476['push'](_0x16cbbb),_0x3a0b86+=_0x9966db,_0x9966db=0x6e2*0x5+0x223b+-0x44a5;}return _0x56c476;},'fromCodePoint'(){const _0xc58050=[];let _0x478d0f,_0x50e680,_0x2a5cc8;for(let _0x3a520d=-0x732+-0x21db+0x290d;_0x3a520d<arguments['length'];++_0x3a520d)_0x478d0f=Number(arguments[_0x3a520d]),_0x50e680=_0x478d0f-(-0x4*-0x54cf+-0x31*0x82e+0x13d92),_0x2a5cc8=_0x478d0f>-0x2*-0x5239+0x1fca6+-0x1a119?[(_0x50e680>>0x14c4+-0x8d1+-0xbe9)+(-0xa529*-0x1+0x2*0x3c1+0x2b55),_0x50e680%(0x1e5*-0x11+0x2334+0x101*0x1)+(-0xb83c+0x27*0x7d3+0x6317)]:[_0x478d0f],_0xc58050['push'](String['fromCharCo'+'de']['apply'](null,_0x2a5cc8));return _0xc58050['join']('');}},Ur=class Ur{static['set'](_0x951fb,_0x14f3c6=!(0x1486+-0x1b64+-0x125*-0x6)){_0x14f3c6?Ur['_traceChan'+'nels']['add'](_0x951fb):Ur['_traceChan'+'nels']['delete'](_0x951fb);}static['get'](_0x3f8fa7){return Ur['_traceChan'+'nels']['has'](_0x3f8fa7);}};c(Ur,'_traceChan'+'nels',new Set()),c(Ur,'stack',!(0x5d*-0x65+0x1*-0x2209+-0x3b9*-0x13));let Qs=Ur;const Mt=class Mt{static['deprecated'](_0x247b1e){Mt['_loggedMes'+'sages']['has'](_0x247b1e)||(Mt['_loggedMes'+'sages']['add'](_0x247b1e),console['warn']('DEPRECATED'+':\x20'+_0x247b1e));}static['removed'](_0x5daf9c){Mt['_loggedMes'+'sages']['has'](_0x5daf9c)||(Mt['_loggedMes'+'sages']['add'](_0x5daf9c),console['error']('REMOVED:\x20'+_0x5daf9c));}static['assertDepr'+'ecated'](_0x3aba74,_0x5c44c3){_0x3aba74||Mt['deprecated'](_0x5c44c3);}static['assert'](_0x5ba09b,..._0x2c0847){_0x5ba09b||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x2c0847);}static['assertDest'+'royed'](_0x5e440b){var _0x39ebd7;if(_0x5e440b!=null&&_0x5e440b['__alreadyD'+'estroyed']){const _0x31c93a='['+((_0x39ebd7=_0x5e440b['constructo'+'r'])==null?void(0x1cc8+-0xadb+-0x11ed):_0x39ebd7['name'])+(']\x20with\x20nam'+'e\x20[')+_0x5e440b['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Mt['_loggedMes'+'sages']['has'](_0x31c93a)||(Mt['_loggedMes'+'sages']['add'](_0x31c93a),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x31c93a,_0x5e440b));}}static['call'](_0x204ae4){_0x204ae4();}static['log'](..._0x5d4ed7){console['log'](..._0x5d4ed7);}static['logOnce'](_0x383b93,..._0x1e46a0){Mt['_loggedMes'+'sages']['has'](_0x383b93)||(Mt['_loggedMes'+'sages']['add'](_0x383b93),console['log'](_0x383b93,..._0x1e46a0));}static['warn'](..._0x39d0cc){console['warn'](..._0x39d0cc);}static['warnOnce'](_0x9870d4,..._0x2d5357){Mt['_loggedMes'+'sages']['has'](_0x9870d4)||(Mt['_loggedMes'+'sages']['add'](_0x9870d4),console['warn'](_0x9870d4,..._0x2d5357));}static['error'](..._0x2fb255){console['error'](..._0x2fb255);}static['errorOnce'](_0x1efd51,..._0x3bc45c){Mt['_loggedMes'+'sages']['has'](_0x1efd51)||(Mt['_loggedMes'+'sages']['add'](_0x1efd51),console['error'](_0x1efd51,..._0x3bc45c));}static['trace'](_0x52fd4d,..._0x3e42bf){Qs['get'](_0x52fd4d)&&(console['groupColla'+'psed'](_0x52fd4d['padEnd'](-0x1*-0x29+0x239f+-0x392*0xa,'\x20')+'|',..._0x3e42bf),console['groupEnd']());}};c(Mt,'_loggedMes'+'sages',new Set());let b=Mt;class gn{static['setName'](_0x3b9eea,_0x188c01){_0x3b9eea&&(_0x3b9eea['name']=_0x188c01);}static['setLabel'](_0x10deb4,_0x5010e9){_0x10deb4&&(_0x10deb4['label']=_0x5010e9);}static['setDestroy'+'ed'](_0x2d8db4){_0x2d8db4&&(_0x2d8db4['__alreadyD'+'estroyed']=!(-0x1*-0x7c6+0x1b5e+-0x2324));}}class mS{constructor(_0x5f11b0,_0x332c2b,_0x222292,_0x21b760,_0x1104cf=!(0xb11*0x3+-0x1*0x1553+-0xbdf)){c(this,'handler'),c(this,'name'),c(this,'callback'),c(this,'scope'),c(this,'_once'),c(this,'_removed',!(-0x24f6+-0x5*0x38b+-0x36ae*-0x1)),(this['handler']=_0x5f11b0,this['name']=_0x332c2b,this['callback']=_0x222292,this['scope']=_0x21b760,this['_once']=_0x1104cf);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x2525c3,_0x11419b,_0x2ef30d=this){return b['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x2525c3,_0x11419b,_0x2ef30d,!(-0x17cb*0x1+-0x16*-0x19f+-0xbde));}['once'](_0x5e4c65,_0x352c8b,_0x573021=this){return b['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x5e4c65,_0x352c8b,_0x573021,!(0xaa2+0x2f*0x71+-0x1f61));}set['removed'](_0x22a65a){_0x22a65a&&(this['_removed']=!(0x1c1d+0x20ea+-0x397*0x11));}get['removed'](){return this['_removed'];}}class de{constructor(){c(this,'_callbacks',new Map()),c(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x4a69b3,_0x7525e9,_0x2479ae,_0x4d10f5){if((!_0x4a69b3||typeof _0x4a69b3!='string'||!_0x7525e9)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x4a69b3+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x7525e9),this['_callbacks']['has'](_0x4a69b3)||this['_callbacks']['set'](_0x4a69b3,[]),this['_callbackA'+'ctive']['has'](_0x4a69b3)){const _0x3db92d=this['_callbackA'+'ctive']['get'](_0x4a69b3);_0x3db92d&&_0x3db92d===this['_callbacks']['get'](_0x4a69b3)&&this['_callbackA'+'ctive']['set'](_0x4a69b3,_0x3db92d['slice']());}const _0x1c5fb8=new mS(this,_0x4a69b3,_0x7525e9,_0x2479ae,_0x4d10f5);return this['_callbacks']['get'](_0x4a69b3)['push'](_0x1c5fb8),_0x1c5fb8;}['on'](_0x5b8500,_0x44628e,_0x2a02ea=this){return this['_addCallba'+'ck'](_0x5b8500,_0x44628e,_0x2a02ea,!(-0x768+0x58e*-0x4+0x1da1));}['once'](_0x3d73cd,_0x443823,_0x5061c0=this){return this['_addCallba'+'ck'](_0x3d73cd,_0x443823,_0x5061c0,!(-0x5f2*-0x2+0x87d*-0x2+0x3*0x1b2));}['off'](_0x2a3ec3,_0x47b501,_0x38d3ac){if(_0x2a3ec3)this['_callbackA'+'ctive']['has'](_0x2a3ec3)&&this['_callbackA'+'ctive']['get'](_0x2a3ec3)===this['_callbacks']['get'](_0x2a3ec3)&&this['_callbackA'+'ctive']['set'](_0x2a3ec3,this['_callbackA'+'ctive']['get'](_0x2a3ec3)['slice']());else{for(const [_0x340aa9,_0xf15d2a]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x340aa9)&&this['_callbacks']['get'](_0x340aa9)===_0xf15d2a&&this['_callbackA'+'ctive']['set'](_0x340aa9,_0xf15d2a['slice']());}if(_0x2a3ec3){if(_0x47b501){const _0x3e4157=this['_callbacks']['get'](_0x2a3ec3);if(!_0x3e4157)return this;for(let _0x4fae84=0xa1c+-0x1*-0x1987+-0xbe1*0x3;_0x4fae84<_0x3e4157['length'];_0x4fae84++)_0x3e4157[_0x4fae84]['callback']===_0x47b501&&(_0x38d3ac&&_0x3e4157[_0x4fae84]['scope']!==_0x38d3ac||(_0x3e4157[_0x4fae84]['removed']=!(0x24c2+0x7*0x3c8+-0x3f3a),_0x3e4157['splice'](_0x4fae84,0xc8b+-0x4f*-0x54+-0x9*0x446),_0x4fae84--));_0x3e4157['length']===0x30e+-0x213a+-0x2*-0xf16&&this['_callbacks']['delete'](_0x2a3ec3);}else{const _0xac02b8=this['_callbacks']['get'](_0x2a3ec3);if(_0xac02b8){for(let _0x4935f4=0x11ee+0x1a7a+-0x38*0xcb;_0x4935f4<_0xac02b8['length'];_0x4935f4++)_0xac02b8[_0x4935f4]['removed']=!(0x5*-0x3c1+0xdcd+0x4f8);this['_callbacks']['delete'](_0x2a3ec3);}}}else{for(const _0x36551b of this['_callbacks']['values']())for(let _0x6de659=-0x264e+0x16f6+0x1eb*0x8;_0x6de659<_0x36551b['length'];_0x6de659++)_0x36551b[_0x6de659]['removed']=!(-0x1ae9+-0x643*0x1+0x16*0x182);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x3191a7){const _0x5bbecd=_0x3191a7['name'];_0x3191a7['removed']=!(-0x1*-0x818+0x22f7+-0x49*0x97),this['_callbackA'+'ctive']['has'](_0x5bbecd)&&this['_callbackA'+'ctive']['get'](_0x5bbecd)===this['_callbacks']['get'](_0x5bbecd)&&this['_callbackA'+'ctive']['set'](_0x5bbecd,this['_callbackA'+'ctive']['get'](_0x5bbecd)['slice']());const _0x5971d5=this['_callbacks']['get'](_0x5bbecd);if(!_0x5971d5)return this;const _0x3f279f=_0x5971d5['indexOf'](_0x3191a7);return _0x3f279f!==-(0x1676+-0x9d7+-0xa*0x143)&&(_0x5971d5['splice'](_0x3f279f,-0x67*0x4f+0x10f0+0xeda),_0x5971d5['length']===0xc2e*-0x2+0x21f*-0x8+0xa55*0x4&&this['_callbacks']['delete'](_0x5bbecd)),this;}['fire'](_0x7be417,_0x4b68eb,_0x13272d,_0x2426ef,_0x29eba6,_0x1c7de1,_0x4ec3a1,_0x20ce1b,_0x212c18){if(!_0x7be417)return this;const _0x1d15a5=this['_callbacks']['get'](_0x7be417);if(!_0x1d15a5)return this;let _0x1d26c3;this['_callbackA'+'ctive']['has'](_0x7be417)?this['_callbackA'+'ctive']['get'](_0x7be417)!==_0x1d15a5&&(_0x1d26c3=_0x1d15a5['slice']()):this['_callbackA'+'ctive']['set'](_0x7be417,_0x1d15a5);for(let _0x2c34d7=-0x4*0x45c+-0x2*0x99f+0x24ae;(_0x1d26c3||this['_callbackA'+'ctive']['get'](_0x7be417))&&_0x2c34d7<(_0x1d26c3||this['_callbackA'+'ctive']['get'](_0x7be417))['length'];_0x2c34d7++){const _0x1174f1=(_0x1d26c3||this['_callbackA'+'ctive']['get'](_0x7be417))[_0x2c34d7];if(_0x1174f1['callback']&&(_0x1174f1['callback']['call'](_0x1174f1['scope'],_0x4b68eb,_0x13272d,_0x2426ef,_0x29eba6,_0x1c7de1,_0x4ec3a1,_0x20ce1b,_0x212c18),_0x1174f1['_once'])){const _0x1e2217=this['_callbacks']['get'](_0x7be417),_0x4bbc3b=_0x1e2217?_0x1e2217['indexOf'](_0x1174f1):-(-0x2292+0x11ce+0x10c5);if(_0x4bbc3b!==-(-0x2642+0x1c51*-0x1+0x4294)){this['_callbackA'+'ctive']['get'](_0x7be417)===_0x1e2217&&this['_callbackA'+'ctive']['set'](_0x7be417,this['_callbackA'+'ctive']['get'](_0x7be417)['slice']());const _0x26e464=this['_callbacks']['get'](_0x7be417);if(!_0x26e464)continue;_0x26e464[_0x4bbc3b]['removed']=!(-0x15c*-0xc+-0x873+-0x7dd),_0x26e464['splice'](_0x4bbc3b,0xcff+-0x215e+0x1460),_0x26e464['length']===-0x1*-0x4b5+-0x4*-0x107+-0x8d1&&this['_callbacks']['delete'](_0x7be417);}}}return _0x1d26c3||this['_callbackA'+'ctive']['delete'](_0x7be417),this;}['hasEvent'](_0x1b0556){var _0x8998de;return!!((_0x8998de=this['_callbacks']['get'](_0x1b0556))!=null&&_0x8998de['length']);}}class _S{constructor(){c(this,'_list',[]),c(this,'_index',{});}['push'](_0xcf7918,_0x112b5a){if(this['_index'][_0xcf7918])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0xcf7918);const _0x49fa95=this['_list']['push'](_0x112b5a)-(-0x2440+0x21f3+0x24e);this['_index'][_0xcf7918]=_0x49fa95;}['has'](_0x39455a){return this['_index'][_0x39455a]!==void(0x21*0xc2+-0x3*0x53f+0x945*-0x1);}['get'](_0x474b13){const _0x4aeab9=this['_index'][_0x474b13];return _0x4aeab9!==void(0x18*-0x11e+0x1e6a+0x1cd*-0x2)?this['_list'][_0x4aeab9]:null;}['remove'](_0x447c90){const _0x1e935a=this['_index'][_0x447c90];if(_0x1e935a!==void(-0x2494+0x1d92*0x1+0x702)){this['_list']['splice'](_0x1e935a,0x128c*0x2+0x23*0x4d+-0x2f9e),delete this['_index'][_0x447c90];for(_0x447c90 in this['_index']){const _0x46528c=this['_index'][_0x447c90];_0x46528c>_0x1e935a&&(this['_index'][_0x447c90]=_0x46528c-(-0x26b7+0x2235+0x483*0x1));}return!(0x8a5*-0x1+0x3*-0x685+-0x70d*-0x4);}return!(-0x852+0x7*0x15b+0x12a*-0x1);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x9*-0x90+0x1d3*-0x4+0x4*0x8f;for(const _0x2b55ba in this['_index'])delete this['_index'][_0x2b55ba];}}const gS=_0x37bd63=>{const _0x3f808d={};let _0x1af458=_0x3f808d;return()=>(_0x1af458===_0x3f808d&&(_0x1af458=_0x37bd63()),_0x1af458);},Hs=class Hs{static['loadScript'](_0x33da7c,_0x77a95b){const _0x4da68b=document['createElem'+'ent']('script');_0x4da68b['setAttribu'+'te']('src',_0x33da7c),_0x4da68b['onload']=()=>{_0x77a95b(null);},_0x4da68b['onerror']=()=>{_0x77a95b('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x33da7c+'\x27');},document['body']['appendChil'+'d'](_0x4da68b);}static['loadWasm'](_0x10bdad,_0x3f48f5,_0x214a35){const _0x36aea0=Hs['wasmSuppor'+'ted']()&&_0x3f48f5['glueUrl']&&_0x3f48f5['wasmUrl']?_0x3f48f5['glueUrl']:_0x3f48f5['fallbackUr'+'l'];_0x36aea0?Hs['loadScript'](_0x36aea0,_0x531320=>{if(_0x531320)_0x214a35(_0x531320,null);else{const _0x2aa148=window[_0x10bdad];window[_0x10bdad]=void(0x1*0x21cc+0x2426+-0x45f2),_0x2aa148({'locateFile':()=>_0x3f48f5['wasmUrl'],'onAbort':()=>{_0x214a35('wasm\x20modul'+'e\x20aborted.');}})['then'](_0xa88e81=>{_0x214a35(null,_0xa88e81);});}}):_0x214a35('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x47de3a){return Hs['modules']['hasOwnProp'+'erty'](_0x47de3a)||(Hs['modules'][_0x47de3a]={'config':null,'initializing':!(0x88d+-0x18*-0x6d+-0x12c4),'instance':null,'callbacks':[]}),Hs['modules'][_0x47de3a];}static['initialize'](_0x5d9985,_0x2a5dac){if(_0x2a5dac['initializi'+'ng'])return;const _0x12407f=_0x2a5dac['config'];(_0x12407f['glueUrl']||_0x12407f['wasmUrl']||_0x12407f['fallbackUr'+'l'])&&(_0x2a5dac['initializi'+'ng']=!(0x24ee+-0x13*-0x1e7+-0x4913),Hs['loadWasm'](_0x5d9985,_0x12407f,(_0x54bbfa,_0x4ecb0a)=>{_0x54bbfa?_0x12407f['errorHandl'+'er']?_0x12407f['errorHandl'+'er'](_0x54bbfa):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x5d9985+'\x20error='+_0x54bbfa):(_0x2a5dac['instance']=_0x4ecb0a,_0x2a5dac['callbacks']['forEach'](_0xd80028=>{_0xd80028(_0x4ecb0a);}));}));}};c(Hs,'modules',{}),c(Hs,'wasmSuppor'+'ted',gS(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0xac7131=new WebAssembly['Module'](Uint8Array['of'](-0x125+0x10d1+-0xfac,-0x1*0x1d21+0x1*0x1794+0x5ee,0x3ae+0x7*0x2e7+-0x2c*0x89,-0x1*-0x223+-0x4*0xfb+0x236*0x1,0x1*0x18d5+0x18a*-0x13+0x2*0x235,-0x30*-0x2d+-0x8fc+0x8c,-0x25bf+0x135c+-0x3*-0x621,-0x1*-0x6e2+0x2411+-0x2af3));if(_0xac7131 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0xac7131)instanceof WebAssembly['Instance'];}}catch{}return!(-0x1d2a+0x1fb9*-0x1+0x1e72*0x2);}));let Nr=Hs;class oy{static['setConfig'](_0x48f29e,_0x1d8a25){const _0x38350a=Nr['getModule'](_0x48f29e);_0x38350a['config']=_0x1d8a25,_0x38350a['callbacks']['length']>0xcc8+0x8c+-0xd54&&Nr['initialize'](_0x48f29e,_0x38350a);}static['getConfig'](_0x4f325d){var _0x18232b,_0x1a17f8;return(_0x1a17f8=(_0x18232b=Nr['modules'])==null?void(-0x5*-0x45d+-0x1*-0x26b7+-0x3c88):_0x18232b[_0x4f325d])==null?void(0x2020+0x3*0x162+0x2*-0x1223):_0x1a17f8['config'];}static['getInstanc'+'e'](_0x5010bf,_0x3b6448){const _0x324847=Nr['getModule'](_0x5010bf);_0x324847['instance']?_0x3b6448(_0x324847['instance']):(_0x324847['callbacks']['push'](_0x3b6448),_0x324847['config']&&Nr['initialize'](_0x5010bf,_0x324847));}}class ly{constructor(_0x76ca2e){c(this,'arraybuffe'+'r'),c(this,'dataView'),c(this,'offset',0x158+0x190f+-0x1a67),(this['arraybuffe'+'r']=_0x76ca2e,this['dataView']=new DataView(_0x76ca2e));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x501e85=-0x803*0x1+0x17*-0x185+0x75*0x5e){this['offset']=_0x501e85;}['skip'](_0x11ee89){this['offset']+=_0x11ee89;}['align'](_0x55a69b){this['offset']=this['offset']+_0x55a69b-(0x14ff+0x140d+-0x290b)&~(_0x55a69b-(0x558*-0x3+0x268c+-0x1683));}['_inc'](_0x761dad){return this['offset']+=_0x761dad,this['offset']-_0x761dad;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x55c62e){let _0x16de81='';for(let _0x53c5ec=0xb8*0x5+-0x1d0d+0x7*0x3a3;_0x53c5ec<_0x55c62e;++_0x53c5ec)_0x16de81+=this['readChar']();return _0x16de81;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0x228c+-0x1f99+-0x2f1),!(-0x1*-0x1+-0x25d*-0xa+-0x17a3));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x2*0x461+-0x4*-0x71f+-0x3b9*0xa),!(0x2195+-0xe00+-0x1395));}['readU64'](){return this['readU32']()+(0x35*0x17+-0xbdd+-0xd*-0x8c)**(0xab6*-0x1+-0xf16*0x1+0x19ec)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](-0x117f+-0x1*-0x1a11+-0x88e*0x1),!(0x2131+-0x1daf+-0x381));}['readArray'](_0x5e7d5e){for(let _0x2ed382=0x6ba+0x1*-0x435+-0x285;_0x2ed382<_0x5e7d5e['length'];++_0x2ed382)_0x5e7d5e[_0x2ed382]=this['readU8']();}['readLine'](){const _0x20ef92=this['dataView'];let _0x516480='';for(;!(this['offset']>=_0x20ef92['byteLength']);){const _0x25a76f=String['fromCharCo'+'de'](this['readU8']());if(_0x25a76f==='\x0a')break;_0x516480+=_0x25a76f;}return _0x516480;}}class Mh{constructor(_0x8944ab){c(this,'items',[]),c(this,'length',-0x2a4+0x3*0x47c+-0xad0),c(this,'loopIndex',-(0x2015*0x1+0xfa4+-0xc*0x3fa)),c(this,'_sortBy'),c(this,'_sortHandl'+'er'),(this['_sortBy']=_0x8944ab['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0xb005aa){let _0x21f63f=-0x515*0x3+0xa27+0x518,_0x80b67c=this['items']['length']-(-0x16*-0x13f+-0x212f+0x5c6);const _0x404257=_0xb005aa[this['_sortBy']];let _0x54ce59,_0x5cf392;for(;_0x21f63f<=_0x80b67c;)_0x54ce59=Math['floor']((_0x21f63f+_0x80b67c)/(-0xeb5+0x937*0x3+-0xcee)),_0x5cf392=this['items'][_0x54ce59][this['_sortBy']],_0x5cf392<=_0x404257?_0x21f63f=_0x54ce59+(-0xa*-0xdf+0x1468+-0x1d*0x101):_0x5cf392>_0x404257&&(_0x80b67c=_0x54ce59-(-0x1*-0x3+-0x22d3+0x22d1));return _0x21f63f;}['_doSort'](_0x572d36,_0x12e72c){const _0x2fcfa3=this['_sortBy'];return _0x572d36[_0x2fcfa3]-_0x12e72c[_0x2fcfa3];}['insert'](_0x1896ef){const _0x3b8253=this['_binarySea'+'rch'](_0x1896ef);this['items']['splice'](_0x3b8253,0x55a+0xa79*-0x1+0x51f,_0x1896ef),this['length']++,this['loopIndex']>=_0x3b8253&&this['loopIndex']++;}['append'](_0x5b7ab9){this['items']['push'](_0x5b7ab9),this['length']++;}['remove'](_0x24339b){const _0x22aff4=this['items']['indexOf'](_0x24339b);_0x22aff4<0x216b+-0x2705+0x59a||(this['items']['splice'](_0x22aff4,0x22ac+-0x23a8+-0x17*-0xb),this['length']--,this['loopIndex']>=_0x22aff4&&this['loopIndex']--);}['sort'](){const _0x4b1f79=this['loopIndex']>=-0xafb*0x2+-0x771*0x3+0x2c49?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x4b1f79!==null&&(this['loopIndex']=this['items']['indexOf'](_0x4b1f79));}}class yo extends de{constructor(_0x3616d4){super(),c(this,'_index',{}),c(this,'_list',[]),this['_parent']=_0x3616d4;}['add'](..._0x4ee9a0){let _0x2fa2cf=!(0x1*-0x3c9+0x14*0x1ca+-0x1ffe);const _0x490559=this['_processAr'+'guments'](_0x4ee9a0,!(-0xba7*-0x1+0xb5f+-0x1*0x1706));if(!_0x490559['length'])return _0x2fa2cf;for(let _0x3c7a14=-0x10d*0xa+-0x494+0xf16;_0x3c7a14<_0x490559['length'];_0x3c7a14++)this['_index'][_0x490559[_0x3c7a14]]||(_0x2fa2cf=!(0x1778+0x2363+0x487*-0xd),this['_index'][_0x490559[_0x3c7a14]]=!(0xc17+0xf6e+-0x1b85),this['_list']['push'](_0x490559[_0x3c7a14]),this['fire']('add',_0x490559[_0x3c7a14],this['_parent']));return _0x2fa2cf&&this['fire']('change',this['_parent']),_0x2fa2cf;}['remove'](..._0x4bffd1){let _0x553100=!(-0x165f+-0x12e3+0x2943);if(!this['_list']['length'])return _0x553100;const _0x193891=this['_processAr'+'guments'](_0x4bffd1,!(0x976+0x3*-0x678+-0x9f2*-0x1));if(!_0x193891['length'])return _0x553100;for(let _0x3f108d=0x1*0x7cf+-0x3*-0x59f+-0x2*0xc56;_0x3f108d<_0x193891['length'];_0x3f108d++)this['_index'][_0x193891[_0x3f108d]]&&(_0x553100=!(0x8d1+-0x1*0x236b+0xe3*0x1e),delete this['_index'][_0x193891[_0x3f108d]],this['_list']['splice'](this['_list']['indexOf'](_0x193891[_0x3f108d]),0xe34+0x1*-0x1a32+0xbff),this['fire']('remove',_0x193891[_0x3f108d],this['_parent']));return _0x553100&&this['fire']('change',this['_parent']),_0x553100;}['clear'](){if(!this['_list']['length'])return;const _0x17295c=this['_list']['slice'](0x1*0x71+0x17c5+-0xc1b*0x2);this['_list']=[],this['_index']={};for(let _0x531e4a=0x15be+-0x7fa*0x3+0x230;_0x531e4a<_0x17295c['length'];_0x531e4a++)this['fire']('remove',_0x17295c[_0x531e4a],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x44f45d){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x44f45d)):!(0x355*0x1+0x1d35+-0x2089);}['_has'](_0x59a900){if(!this['_list']['length']||!_0x59a900['length'])return!(-0x277*-0x1+-0x6b5*0x1+0x43f*0x1);for(let _0x471478=0x7b0*0x3+0x7ab+-0x1ebb;_0x471478<_0x59a900['length'];_0x471478++)if(_0x59a900[_0x471478]['length']===-0x1f7f*-0x1+-0xb87+-0x13f7){if(this['_index'][_0x59a900[_0x471478][0x3*-0x1+-0x1*0x1d75+-0x2e*-0xa4]])return!(0xf5a*-0x1+-0x1059+0xf*0x21d);}else{let _0x4290b6=!(0x1f2c+-0x156a*-0x1+-0x1a4b*0x2);for(let _0x25ec6a=0xb9+0x845+0x47f*-0x2;_0x25ec6a<_0x59a900[_0x471478]['length'];_0x25ec6a++)if(!this['_index'][_0x59a900[_0x471478][_0x25ec6a]]){_0x4290b6=!(0x3*0x7bb+-0x134*0x19+0x6e4);break;}if(_0x4290b6)return!(0x22fb+-0x23f4+-0x1*-0xf9);}return!(-0xd3*0xb+-0x1d*0x13d+0xeb*0x31);}['list'](){return this['_list']['slice'](0x1*0x14e9+0x106+0x15ef*-0x1);}['_processAr'+'guments'](_0x41f530,_0x2ef6b9){const _0x791628=[];let _0x268163=[];if(!_0x41f530||!_0x41f530['length'])return _0x791628;for(let _0x2ff02f=-0xb3*0x19+0x1ff4+-0xe79;_0x2ff02f<_0x41f530['length'];_0x2ff02f++)if(_0x41f530[_0x2ff02f]instanceof Array){_0x2ef6b9||(_0x268163=[]);for(let _0x5ce830=-0x16ee+-0x423+0x1b11;_0x5ce830<_0x41f530[_0x2ff02f]['length'];_0x5ce830++)typeof _0x41f530[_0x2ff02f][_0x5ce830]=='string'&&(_0x2ef6b9?_0x791628['push'](_0x41f530[_0x2ff02f][_0x5ce830]):_0x268163['push'](_0x41f530[_0x2ff02f][_0x5ce830]));!_0x2ef6b9&&_0x268163['length']&&_0x791628['push'](_0x268163);}else typeof _0x41f530[_0x2ff02f]=='string'&&(_0x2ef6b9?_0x791628['push'](_0x41f530[_0x2ff02f]):_0x791628['push']([_0x41f530[_0x2ff02f]]));return _0x791628;}get['size'](){return this['_list']['length'];}}c(yo,'EVENT_ADD','add'),c(yo,'EVENT_REMO'+'VE','remove'),c(yo,'EVENT_CHAN'+'GE','change');const ae=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],yS=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class ad{constructor(_0x1c012c){c(this,'scheme'),c(this,'authority'),c(this,'path'),c(this,'query'),c(this,'fragment');const _0x50a952=_0x1c012c['match'](yS);this['scheme']=_0x50a952[0x2*0x8be+0x1db8+-0x1*0x2f32],this['authority']=_0x50a952[0x405*-0x7+0x2*-0x443+0x24ad],this['path']=_0x50a952[-0x10d+-0x14aa+0x15bc],this['query']=_0x50a952[-0x4f+-0x16a9+-0x1*-0x16ff],this['fragment']=_0x50a952[0x1b84+-0x1ffa+-0x47f*-0x1];}['toString'](){let _0x3233cf='';return this['scheme']&&(_0x3233cf+=this['scheme']+':'),this['authority']&&(_0x3233cf+='//'+this['authority']),_0x3233cf+=this['path'],this['query']&&(_0x3233cf+='?'+this['query']),this['fragment']&&(_0x3233cf+='#'+this['fragment']),_0x3233cf;}['getQuery'](){const _0x35c27c={};if(this['query']){const _0x2d723e=decodeURIComponent(this['query'])['split']('&');for(const _0xb2a518 of _0x2d723e){const _0x48e54b=_0xb2a518['split']('=');_0x35c27c[_0x48e54b[0x49*-0x7b+-0xf93*-0x1+-0xc0*-0x1a]]=_0x48e54b[0x1*0x25d+0x157c+-0x2*0xbec];}}return _0x35c27c;}['setQuery'](_0x1a0f20){let _0x32bd08='';for(const _0x2ca7d4 in _0x1a0f20)_0x1a0f20['hasOwnProp'+'erty'](_0x2ca7d4)&&(_0x32bd08!==''&&(_0x32bd08+='&'),_0x32bd08+=encodeURIComponent(_0x2ca7d4)+'='+encodeURIComponent(_0x1a0f20[_0x2ca7d4]));this['query']=_0x32bd08;}}const xS=0x149+0xd08+-0xe51,Of=-0x1bc4+-0x10d3+0x2c98,im=-0x14b6+-0x160a+-0x2e*-0xee,SS=0x59d+0x10*0x2e+0x878*-0x1,z={'DEG_TO_RAD':Math['PI']/(0x1476+0x771+0xd3*-0x21),'RAD_TO_DEG':(-0x5e2*-0x1+-0x196f+0x5*0x40d)/Math['PI'],'clamp'(_0x374bb3,_0x288d5a,_0x156858){return _0x374bb3>=_0x156858?_0x156858:_0x374bb3<=_0x288d5a?_0x288d5a:_0x374bb3;},'intToBytes24'(_0x4d2815){const _0xb75bbf=_0x4d2815>>0x19b8+-0x166+-0x2d*0x8a&-0x11*-0x158+0x3aa+0x15*-0x137,_0x4f393b=_0x4d2815>>-0x279+0x211d+0xf4e*-0x2&-0x1*0xb53+-0x366+0x2*0x7dc,_0x39ed41=_0x4d2815&0x52*0x41+-0xd84+-0x1*0x64f;return[_0xb75bbf,_0x4f393b,_0x39ed41];},'intToBytes32'(_0x13e27f){const _0x24dfe8=_0x13e27f>>0x9e4+-0x1b82+0x11b6&-0x1*0xa81+0x3*-0x3d1+-0x497*-0x5,_0x7838dc=_0x13e27f>>0x37c+-0x1*-0x1778+-0x6b9*0x4&-0x2494+-0xa7*0x16+0x114f*0x3,_0x283fd2=_0x13e27f>>-0x681+-0x2*0xfb5+-0x91*-0x43&0xb9c+0x1449+-0xe*0x235,_0x279b89=_0x13e27f&0x13f2+0x1139*-0x2+0xf7f;return[_0x24dfe8,_0x7838dc,_0x283fd2,_0x279b89];},'bytesToInt24'(_0x8bf886,_0x3cb1dd,_0x493785){return _0x8bf886['length']&&(_0x493785=_0x8bf886[-0x5f3*0x5+0x423+0x199e],_0x3cb1dd=_0x8bf886[-0x144f+-0x5*-0x667+-0xbb3],_0x8bf886=_0x8bf886[-0x1*-0x1efd+0x1*0x466+-0x2363]),_0x8bf886<<0x2*-0x977+0x1129+0x1d5|_0x3cb1dd<<0x12*0x96+-0x226+-0x85e|_0x493785;},'bytesToInt32'(_0x16d1a9,_0x1b43d9,_0x19a395,_0x525b18){return _0x16d1a9['length']&&(_0x525b18=_0x16d1a9[-0x1*-0x13eb+0x13*0x20e+-0x3af2],_0x19a395=_0x16d1a9[0x23*0x59+0x1b4e+-0x2777],_0x1b43d9=_0x16d1a9[-0xd*0x10b+0x1fb+-0xb95*-0x1],_0x16d1a9=_0x16d1a9[-0x454+-0x26a9+0x2afd]),(_0x16d1a9<<-0x231+0x4*-0x199+0x8ad|_0x1b43d9<<-0x4*-0x7b9+-0xca*-0x5+-0x22c6|_0x19a395<<0x2e3+-0x1*-0x425+-0x700|_0x525b18)>>>0xd01+0x1*-0x925+-0x3dc;},'lerp'(_0x4a363e,_0x20e469,_0x5b97a2){return _0x4a363e+(_0x20e469-_0x4a363e)*z['clamp'](_0x5b97a2,-0x1*0x22e+0x8d+0x3*0x8b,0x1efe+-0x22f4*0x1+0x3f7);},'lerpAngle'(_0x195edb,_0x2ede5f,_0x3492f4){return _0x2ede5f-_0x195edb>-0x370+-0x2138+0x255c&&(_0x2ede5f-=0x19d9*0x1+-0x665+-0x120c),_0x2ede5f-_0x195edb<-(-0x27*0x5e+0x17fc+-0x2*0x47b)&&(_0x2ede5f+=0x2680+-0x1*-0x12b8+-0x37d*0x10),z['lerp'](_0x195edb,_0x2ede5f,z['clamp'](_0x3492f4,-0x1*0x144d+-0x80e+0x11*0x1ab,-0x8f0*-0x1+0x16c3+0x1*-0x1fb2));},'powerOfTwo'(_0x53f623){return _0x53f623!==0x2*-0x4d2+-0x20ee*-0x1+0x174a*-0x1&&!(_0x53f623&_0x53f623-(0x431*0x1+0x17cb+0xd*-0x227));},'nextPowerOfTwo'(_0x2e61ad){return _0x2e61ad--,_0x2e61ad|=_0x2e61ad>>-0x52d*0x1+-0x23c7+0x28f5,_0x2e61ad|=_0x2e61ad>>0xc32*0x2+-0x5fb+-0x2a1*0x7,_0x2e61ad|=_0x2e61ad>>-0x57*-0xa+-0x2c5+-0x1*0x9d,_0x2e61ad|=_0x2e61ad>>-0x24*0xf9+-0x311+0x261d,_0x2e61ad|=_0x2e61ad>>-0x177b+0xd1a+-0x3*-0x37b,_0x2e61ad++,_0x2e61ad;},'nearestPowerOfTwo'(_0x15833b){return Math['pow'](-0x148e+0x19cf+0x11*-0x4f,Math['round'](Math['log'](_0x15833b)/Math['log'](-0x1889+0x21c7*0x1+-0x93c)));},'random'(_0x197f8a,_0x411298){const _0x2d2133=_0x411298-_0x197f8a;return Math['random']()*_0x2d2133+_0x197f8a;},'smoothstep'(_0x156051,_0xa12bce,_0x3c514e){return _0x3c514e<=_0x156051?0x1799*-0x1+0x557*-0x3+0x279e:_0x3c514e>=_0xa12bce?-0x21c6+-0xd49+0x2f10:(_0x3c514e=(_0x3c514e-_0x156051)/(_0xa12bce-_0x156051),_0x3c514e*_0x3c514e*(-0x18c8+0x104*-0xe+-0x1*-0x2703-(-0x77c+-0x1*0x2401+0x2b7f)*_0x3c514e));},'smootherstep'(_0x2ce271,_0x227c86,_0x1a78db){return _0x1a78db<=_0x2ce271?0xe13+0x1a2f+-0x2*0x1421:_0x1a78db>=_0x227c86?-0xf34+-0x12b*0x1d+0x3114:(_0x1a78db=(_0x1a78db-_0x2ce271)/(_0x227c86-_0x2ce271),_0x1a78db*_0x1a78db*_0x1a78db*(_0x1a78db*(_0x1a78db*(0x46d+0x50d+-0x1e4*0x5)-(-0xb92*-0x1+-0x1213+0xf0*0x7))+(-0x7*-0x34+-0xe2*0x2+0x62)));},'roundUp'(_0x176b02,_0xea1f0){return _0xea1f0===-0x3*0x214+0x1*0xd21+-0x6e5*0x1?_0x176b02:Math['ceil'](_0x176b02/_0xea1f0)*_0xea1f0;},'between'(_0x47812c,_0x7e949a,_0xb08fac,_0x2c6dd6){const _0x263ec8=Math['min'](_0x7e949a,_0xb08fac),_0x5b3945=Math['max'](_0x7e949a,_0xb08fac);return _0x2c6dd6?_0x47812c>=_0x263ec8&&_0x47812c<=_0x5b3945:_0x47812c>_0x263ec8&&_0x47812c<_0x5b3945;}},ot=class ot{constructor(_0x8718d7=0x267+0x1171*0x1+-0x5*0x3f8,_0x2c7fc4=0x8*0x1b2+-0x7fd+0x593*-0x1,_0x4710fa=0x267*0xe+-0x21d*0x1+0x1*-0x1f85,_0x3df77=0x1003+0x1*-0x10af+0xad){c(this,'r'),c(this,'g'),c(this,'b'),c(this,'a');const _0x56ae88=_0x8718d7['length'];_0x56ae88===0x2ab*-0x2+0x56*0x22+-0x613||_0x56ae88===0x2*0xfdd+-0x1*-0x8f3+-0x28a9?(this['r']=_0x8718d7[-0xc21+0x1*-0x23c9+-0x2fea*-0x1],this['g']=_0x8718d7[-0xa*-0x4b+-0x5bf+0x2d2],this['b']=_0x8718d7[0xd7+0x1080+-0x1155],this['a']=_0x8718d7[-0x20f7+0x4*-0x1cd+-0x116*-0x25]??-0x1*-0x75a+-0x1ef7*0x1+0x179e):(this['r']=_0x8718d7,this['g']=_0x2c7fc4,this['b']=_0x4710fa,this['a']=_0x3df77);}['clone'](){const _0x264bec=this['constructo'+'r'];return new _0x264bec(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x3698bd){return this['r']=_0x3698bd['r'],this['g']=_0x3698bd['g'],this['b']=_0x3698bd['b'],this['a']=_0x3698bd['a'],this;}['equals'](_0x4b5fc1){return this['r']===_0x4b5fc1['r']&&this['g']===_0x4b5fc1['g']&&this['b']===_0x4b5fc1['b']&&this['a']===_0x4b5fc1['a'];}['set'](_0x2339aa,_0x59af01,_0x497e8a,_0x29372b=0xd*-0x2b3+-0x1a3*-0x13+0x5d*0xb){return this['r']=_0x2339aa,this['g']=_0x59af01,this['b']=_0x497e8a,this['a']=_0x29372b,this;}['lerp'](_0x1ded28,_0x3010c6,_0x5e43d6){return this['r']=_0x1ded28['r']+_0x5e43d6*(_0x3010c6['r']-_0x1ded28['r']),this['g']=_0x1ded28['g']+_0x5e43d6*(_0x3010c6['g']-_0x1ded28['g']),this['b']=_0x1ded28['b']+_0x5e43d6*(_0x3010c6['b']-_0x1ded28['b']),this['a']=_0x1ded28['a']+_0x5e43d6*(_0x3010c6['a']-_0x1ded28['a']),this;}['linear'](_0x20fea4=this){return this['r']=Math['pow'](_0x20fea4['r'],-0xb9e*0x1+-0x2221*-0x1+-0x1681*0x1+0.20000000000000018),this['g']=Math['pow'](_0x20fea4['g'],0x3*-0x89f+-0x153f+0x146*0x25+0.20000000000000018),this['b']=Math['pow'](_0x20fea4['b'],-0x5*0x19+-0x185*0xe+-0x15c5*-0x1+0.20000000000000018),this['a']=_0x20fea4['a'],this;}['gamma'](_0x58ba99=this){return this['r']=Math['pow'](_0x58ba99['r'],(0x6a9*0x4+0x2351+0x4c4*-0xd)/(0x1ce3+0xd*-0x52+-0x18b7+0.20000000000000018)),this['g']=Math['pow'](_0x58ba99['g'],(0x1f3b+0x2*0xf43+-0x3dc0)/(0x1295+-0x2297+-0x1*-0x1004+0.20000000000000018)),this['b']=Math['pow'](_0x58ba99['b'],(0xad9*-0x1+0x387+0x753)/(-0x10f*0x2+0x493*0x7+-0x1de5+0.20000000000000018)),this['a']=_0x58ba99['a'],this;}['mulScalar'](_0x223ba9){return this['r']*=_0x223ba9,this['g']*=_0x223ba9,this['b']*=_0x223ba9,this;}['fromString'](_0x264f2b){const _0x199d9b=parseInt(_0x264f2b['replace']('#','0x'),0x22*0x9e+-0xd16+-0x7d6);let _0x351e20;return _0x264f2b['length']>0x78+-0xd6a+0x1*0xcf9?_0x351e20=z['intToBytes'+'32'](_0x199d9b):(_0x351e20=z['intToBytes'+'24'](_0x199d9b),_0x351e20[-0xa7+-0x1911+0x7*0x3ad]=0x22*0xca+0x139*-0x1+-0x189c),this['set'](_0x351e20[0x17e7+-0x627+0x40*-0x47]/(0x22b7+-0x1*0xc8+0x7c*-0x44),_0x351e20[-0x25d3+0xb56*0x2+0x2*0x794]/(-0xe*0x3d+0x1*-0x3fd+0xa*0xd5),_0x351e20[0x242a+-0x75*0x9+0x1*-0x200b]/(-0x1160+-0x3*-0xb9c+-0x1075*0x1),_0x351e20[-0xe3*0x1f+0x23ea*0x1+0x167*-0x6]/(-0x923*0x2+-0x1*0x183b+-0x570*-0x8)),this;}['fromArray'](_0x2aaa8a,_0x4535d4=-0x224a+-0x1147*0x1+0x3391){return this['r']=_0x2aaa8a[_0x4535d4]??this['r'],this['g']=_0x2aaa8a[_0x4535d4+(0x15d2+-0x4ba*0x7+-0xb45*-0x1)]??this['g'],this['b']=_0x2aaa8a[_0x4535d4+(0xedb+0x1ca0*-0x1+-0x1*-0xdc7)]??this['b'],this['a']=_0x2aaa8a[_0x4535d4+(-0x3f5*-0x2+-0x1b1d+-0x1336*-0x1)]??this['a'],this;}['toString'](_0x697070,_0x531dee){const {r:_0x3c0bfa,g:_0x126e20,b:_0x183c40,a:_0x5e7c53}=this;if(_0x531dee||_0x3c0bfa>-0x1*0x15f+0x25c3+-0x2463||_0x126e20>0xae9*-0x2+-0x1fd4+0x29*0x14f||_0x183c40>-0x1b38+-0x1f90+-0x1*-0x3ac9)return _0x3c0bfa['toFixed'](-0x1*0x71b+-0x70*-0x22+-0x7c2)+',\x20'+_0x126e20['toFixed'](-0x15a9*0x1+-0x269*0x7+0x268b)+',\x20'+_0x183c40['toFixed'](0x5d1+0x21fa+-0x218*0x13)+',\x20'+_0x5e7c53['toFixed'](0x15c5+0x1*0xe5d+-0x241f);let _0x235601='#'+((-0x1*-0x258d+-0xac8+-0x1ac4<<-0x1b5+0x1d*-0x84+0x10c1)+(Math['round'](_0x3c0bfa*(-0xef3+0x4c7*-0x5+-0x21*-0x135))<<-0x2*-0xa43+0x79f*0x2+-0x14*0x1c9)+(Math['round'](_0x126e20*(0x195b*-0x1+-0x1dc6+0x3820))<<-0x83+0x13f*0x11+-0x14a4)+Math['round'](_0x183c40*(0x311*0x9+0x1870+-0x330a)))['toString'](-0x97*-0x29+-0x123b*-0x1+-0x2a5a)['slice'](-0x138a*0x1+-0x8df*-0x1+-0x4*-0x2ab);if(_0x697070===!(-0x3*0x2ea+-0x5*0x735+0x1*0x2cc7)){const _0x3414f8=Math['round'](_0x5e7c53*(-0x9df+-0x1d*-0x73+-0x229))['toString'](-0xa7b*-0x3+-0x1*-0xd8d+0xd5*-0x36);this['a']<(0x26bd+0x13e5+-0x341*0x12)/(0x1ed4+-0x39a+0x1*-0x1a3b)?_0x235601+='0'+_0x3414f8:_0x235601+=_0x3414f8;}return _0x235601;}['toArray'](_0x32d868=[],_0x1f39d9=-0xd5+-0x34b+0x60*0xb,_0x4c25fa=!(0x4*-0x773+0x1e8*0x3+0x1814)){return _0x32d868[_0x1f39d9]=this['r'],_0x32d868[_0x1f39d9+(-0x1937+-0x318*0x8+0x31f8)]=this['g'],_0x32d868[_0x1f39d9+(-0x149*0x1b+-0x25b1+0x4866)]=this['b'],_0x4c25fa&&(_0x32d868[_0x1f39d9+(0x9*0x33d+0x2561*-0x1+0x83f)]=this['a']),_0x32d868;}};c(ot,'BLACK',Object['freeze'](new ot(0xc94+-0x17*0x24+-0x958,-0xfdb+0x6*0x2f9+-0x1fb,0x59*0x1f+-0x1c37+0x1170,0x1536+-0xc93*0x3+0x1c*0x97))),c(ot,'BLUE',Object['freeze'](new ot(-0x1f97+0x244d+-0x4b6,-0x2*0xb2+0x20e*-0x11+0x2452,-0xfa5+0x1d26+-0x18*0x90,0x11f5+-0x1*-0xc1e+-0x503*0x6))),c(ot,'CYAN',Object['freeze'](new ot(-0x575*0x3+0xe4b+0x214,-0x1c0e+0x4*-0x3df+-0x47*-0x9d,-0xf*-0x1bb+-0x1*-0x1f4f+-0x3943,-0x1a08+0x2556+-0x107*0xb))),c(ot,'GRAY',Object['freeze'](new ot(-0xf79+0x15*0xe9+-0x3a4+0.5,0x5a6+0xd3a*-0x1+0x1*0x794+0.5,-0x9b5*-0x3+0x6*0x487+-0x12c3*0x3+0.5,-0x447+-0x587*-0x5+-0x175b))),c(ot,'GREEN',Object['freeze'](new ot(-0x117b*0x2+0x100b*-0x1+0x3301,-0x24fd+-0xf8*-0x2+0x230e,-0x1*0x138c+0x16e1*-0x1+0x2a6d,0x1*-0xab9+-0x379+0xe33))),c(ot,'MAGENTA',Object['freeze'](new ot(-0x2f4+-0x17b3+-0x1*-0x1aa8,0xffe*-0x1+0x1972+-0x974,0x1786+-0x1*0x96f+0x3*-0x4b2,-0xe*-0x101+0x1*0x190a+-0x2717))),c(ot,'RED',Object['freeze'](new ot(0x1*0x268d+0x15b*-0x1+0x2531*-0x1,-0x1e85+-0x632+0x24b7,-0x219b+-0x155e*-0x1+-0xf1*-0xd,0x12*-0x131+0x686*-0x3+0x2905))),c(ot,'WHITE',Object['freeze'](new ot(0x9*0x3e1+0x1*0x22a1+-0x4589,-0x1558+0x728+0x7*0x207,0x219*0x12+0xdec+0x33ad*-0x1,0x3a2+-0xa1b*0x3+0x1ab0))),c(ot,'YELLOW',Object['freeze'](new ot(-0x22b1*0x1+0xd*-0xbe+0x2c58,-0x2b*0x7b+0x131+0x1379,-0x1*-0x1547+-0xff+-0x1448,0x2b8+-0x195b+0x16a4)));let Y=ot;class hy{constructor(_0x44d929,_0x450445=0xc19+-0x49*0x56+0xc6d){c(this,'_curve'),c(this,'_left',-(-0x1e90+0x3*-0x7fa+0x367f)/(-0x7f+0x1698+-0x1619)),c(this,'_right',(0x13d0+-0x769+-0xc66)/(-0x125f*-0x1+0x14d5*-0x1+0x276)),c(this,'_recip',-0x1bfc+0xb6a*0x3+-0x3*0x216),c(this,'_p0',-0x182*-0x7+0x3e5*0xa+-0x3180),c(this,'_p1',0xfad*0x1+0x3cb+-0x1378),c(this,'_m0',0x6b4+-0x35*-0xa6+0x2912*-0x1),c(this,'_m1',-0x1ee0+-0xc91+-0x21*-0x151),(this['_curve']=_0x44d929,this['_reset'](_0x450445));}['evaluate'](_0x961b42,_0x593613=!(-0x2369+-0x1bef+0x3f59)){(_0x593613||_0x961b42<this['_left']||_0x961b42>=this['_right'])&&this['_reset'](_0x961b42);let _0x861b4;const _0x169cfd=this['_curve']['type'];if(_0x169cfd===SS)_0x861b4=this['_p0'];else{const _0x5bfd4e=this['_recip']===-0x350*0x4+-0x3d8+0x1118?-0x16c7*-0x1+-0x2163+0x4*0x2a7:(_0x961b42-this['_left'])*this['_recip'];_0x169cfd===xS?_0x861b4=z['lerp'](this['_p0'],this['_p1'],_0x5bfd4e):_0x169cfd===Of?_0x861b4=z['lerp'](this['_p0'],this['_p1'],_0x5bfd4e*_0x5bfd4e*(0x22c9+-0x21d+-0x20a9-(0x1*-0xa4e+-0xb15*0x3+0x2b8f)*_0x5bfd4e)):_0x861b4=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x5bfd4e);}return _0x861b4;}['_reset'](_0x4dd087){const _0x5c7692=this['_curve']['keys'],_0x4fc329=_0x5c7692['length'];if(!_0x4fc329)this['_left']=-(0x1047+-0x5*0x275+0x1*-0x3fd)/(0x16*0xef+0x187+0x75b*-0x3),this['_right']=(0x19*-0x118+0x109*0x1a+0x1*0x6f)/(0x198e+-0x301+-0x168d),this['_recip']=0x19ff+-0x1906+-0xf9,this['_p0']=this['_p1']=this['_m0']=this['_m1']=0x1*-0xab3+-0x7*0xcb+0x1040;else{if(_0x4dd087<_0x5c7692[0x26be+-0x1fd*-0xb+-0x3c9d][-0x1311*0x1+0x1897+0xe*-0x65])this['_left']=-(-0x2*-0x8e1+-0x1b75+0x9b4)/(-0x16*0x197+-0x999+-0x2c93*-0x1),this['_right']=_0x5c7692[0x30*-0x57+0x1*-0x207e+0x30ce][-0xfd7+0xa1*-0x25+0x2*0x138e],this['_recip']=-0xd*-0x2ef+0x1e*-0x147+-0x2f*-0x1,this['_p0']=this['_p1']=_0x5c7692[-0x17e3+0x3b*0x29+0xe70][0x49f+0x3*-0x6e2+0x12*0xe4],this['_m0']=this['_m1']=-0xb8f+0x1*-0x1ae3+0x2672;else{if(_0x4dd087>=_0x5c7692[_0x4fc329-(0xb54+-0x928*0x1+0x22b*-0x1)][-0xd*-0x1f3+-0x1bc5+-0x2*-0x137])this['_left']=_0x5c7692[_0x4fc329-(0x3*0x91f+-0x54d*0x7+0x9bf)][-0xe*0x1e9+-0x791+0x224f],this['_right']=(-0x10cd+-0x3*-0x8b4+-0x31a*0x3)/(-0x882+0x2489+-0x1c07),this['_recip']=0x53+0x18ae+-0x1*0x1901,this['_p0']=this['_p1']=_0x5c7692[_0x4fc329-(0xb82+0x283*0x4+-0x158d)][0x21df+0x1bdf+-0x3dbd],this['_m0']=this['_m1']=-0x1*0x1e47+0x3d*0x2f+-0x197*-0xc;else{let _0x35c6e4=0x12f2+0x218b+-0x5d5*0x9;for(;_0x4dd087>=_0x5c7692[_0x35c6e4+(0x1342+-0xc2*0x7+-0xdf3)][0x1036+-0x120*0xc+-0x2b6];)_0x35c6e4++;this['_left']=_0x5c7692[_0x35c6e4][0x7a6+-0x728+0x2a*-0x3],this['_right']=_0x5c7692[_0x35c6e4+(0x17f3+-0x10bb*-0x1+-0x10b*0x27)][-0xcf4*0x1+0x1a5b+-0x2f*0x49];const _0x49f671=(-0x2aa+0x1*-0xb89+0xe34)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x49f671)?_0x49f671:0xcb6+-0xbc8+-0xee,this['_p0']=_0x5c7692[_0x35c6e4][-0x21c1+0x196d+0x855],this['_p1']=_0x5c7692[_0x35c6e4+(0x163+-0xf2f+0xdcd)][0x1f11+0x1b3+-0x20c3],this['_curve']['type']===im&&this['_calcTange'+'nts'](_0x5c7692,_0x35c6e4);}}}}['_calcTange'+'nts'](_0x11ccb3,_0x3cd897){let _0x42dcf5;const _0x5dca12=_0x11ccb3[_0x3cd897],_0x10cc46=_0x11ccb3[_0x3cd897+(0x3b6+-0xb66+0x7b1)];let _0x1b232e;if(_0x3cd897===0x626*0x4+0x22d8+-0x3b70?_0x42dcf5=[_0x11ccb3[-0x5b*0x27+0x3*0x76d+0x6*-0x167][-0xa1*-0x17+0x5e*-0x3b+0x733]+(_0x11ccb3[0x18bd*-0x1+-0x2246+0x3b03][-0x1*-0x12e2+0x122d*-0x1+-0x1*0xb5]-_0x11ccb3[-0x2494+-0x79b+0x4*0xb0c][-0x1*0x1795+-0x16f*0xd+0x2a38]),_0x11ccb3[0xb*-0x2c9+-0x12*-0x4+-0x13*-0x199][-0x6*0x4ad+-0x1aa2+0x36b1*0x1]+(_0x11ccb3[0x1*0x5a8+0x2*-0x6bf+-0x2*-0x3eb][0x1977+0x1*0x23ef+-0x3d65]-_0x11ccb3[-0x1*-0x3fb+-0x1*-0x19d6+-0x1dd0][-0x186f+-0x2*0x1153+-0x2*-0x1d8b])]:_0x42dcf5=_0x11ccb3[_0x3cd897-(-0xefc*-0x2+-0x685*0x2+-0x10ed)],_0x3cd897===_0x11ccb3['length']-(-0x137d*0x2+0x58d*-0x4+0xb2*0x58)?_0x1b232e=[_0x11ccb3[_0x3cd897+(-0x3*0x2a9+-0x5cf+0xdcb)][-0x7ee+0x1*-0x40d+0xbfb]+(_0x11ccb3[_0x3cd897+(0x1cd3+-0x2022+-0x35*-0x10)][-0x1111*0x2+-0xaf*0xf+0x2c63]-_0x11ccb3[_0x3cd897][0x3*-0x3f1+0xa0+-0x3d*-0x2f]),_0x11ccb3[_0x3cd897+(0xe40+-0x1417+0x1*0x5d8)][0x2d8+0x12*-0x1fe+-0x4f*-0x6b]+(_0x11ccb3[_0x3cd897+(-0x2601+-0x17f*0x11+-0x95*-0x6d)][0x176e+-0xc+-0x1761]-_0x11ccb3[_0x3cd897][0xc99*-0x3+0x23a4+0x228])]:_0x1b232e=_0x11ccb3[_0x3cd897+(-0x3a7+-0xcfd+0x10a6)],this['_curve']['type']===im){const _0x387152=(-0x1836+0xd*-0x20b+0x32c7)*(_0x10cc46[-0x6b2+0x1b9d*0x1+-0x14eb]-_0x5dca12[0xc14+-0x1*-0x101f+-0x1c33])/(_0x10cc46[-0x2*-0x1a5+0x28b*0xb+0x35*-0x97]-_0x42dcf5[-0x1dd2+0x14c2+0x14*0x74]),_0x22d3a1=(-0x2*0x3d+0x1135+-0x10b9)*(_0x10cc46[0x29*-0x88+-0x282+0x2*0xc25]-_0x5dca12[-0x1576+0x2*-0x62b+0x21cc])/(_0x1b232e[-0x1*-0x179+0x2*0x51b+-0x3e5*0x3]-_0x5dca12[-0x5*0x631+0x2353+-0x45e]);this['_m0']=this['_curve']['tension']*(isFinite(_0x387152)?_0x387152:-0x2*-0x121a+-0x1b55+-0x8df)*(_0x10cc46[0x201f*-0x1+-0xf38+0x2f58]-_0x42dcf5[-0x1787*-0x1+0xdf*-0x21+0xbf*0x7]),this['_m1']=this['_curve']['tension']*(isFinite(_0x22d3a1)?_0x22d3a1:0x20e8+-0x2e1*-0xc+0x21ba*-0x2)*(_0x1b232e[-0x641*-0x1+-0x1918*0x1+0x86*0x24]-_0x5dca12[0x8f9*0x1+-0xe0d+0x515]);}else{const _0x324a21=(_0x10cc46[-0xa13*0x1+0x1*-0x1faf+0x29c2]-_0x5dca12[-0x34f*-0x7+0x14b*0x1a+-0x2fd*0x13])/(_0x5dca12[0x2484*0x1+-0x9c4+-0x1ac0]-_0x42dcf5[-0x7*0x35f+-0x2645+0x3dde]),_0x220a1b=(_0x10cc46[-0x1dc9+-0x3*-0x6dd+0x1*0x932]-_0x5dca12[-0x376+0x1b4d+-0x17d7])/(_0x1b232e[-0x5a4+-0x18f4+-0x4*-0x7a6]-_0x10cc46[0x1*0x96b+-0xd*0x1cf+0xe18]),_0x89d332=_0x5dca12[0x3b1*0x6+0x11*0x1b7+-0x31*0x10c]+(_0x42dcf5[0x9f8+-0x1*0x2000+0x1*0x1609]-_0x5dca12[0x2532+0x1b*0x147+-0x47ae])*(isFinite(_0x324a21)?_0x324a21:-0x240e+-0x2448+0x242b*0x2),_0x2ac84e=_0x10cc46[0x1*-0x1a61+0x2c*0x84+-0x1*-0x3b2]+(_0x1b232e[-0x8ac+0x33d*0x5+-0x784]-_0x10cc46[-0x7*0x487+-0x774+-0x2726*-0x1])*(isFinite(_0x220a1b)?_0x220a1b:-0x2*-0x104a+0x7ab*0x1+-0x1*0x283f),_0x13cd53=this['_curve']['tension'];this['_m0']=_0x13cd53*(_0x10cc46[-0xb*0x29+0x1614+-0x1450]-_0x89d332),this['_m1']=_0x13cd53*(_0x2ac84e-_0x5dca12[0x7*-0x40f+0x1fd6+-0xc*0x49]);}}['_evaluateH'+'ermite'](_0x98f9a,_0x397379,_0x2f14e,_0x5f62ad,_0x378004){const _0x48d1c9=_0x378004*_0x378004,_0x5b8a85=_0x378004+_0x378004,_0x5c3721=0xa91+-0x4*0x1fd+-0xa7*0x4-_0x378004,_0x4be6a7=_0x5c3721*_0x5c3721;return _0x98f9a*((-0x7*-0x336+-0x1*0x1731+0xb8+_0x5b8a85)*_0x4be6a7)+_0x2f14e*(_0x378004*_0x4be6a7)+_0x397379*(_0x48d1c9*(0x6*0x39c+-0x387*-0x3+0x2ee*-0xb-_0x5b8a85))+_0x5f62ad*(_0x48d1c9*(_0x378004-(-0x1c0a+0x304*-0x4+0x281b*0x1)));}}class Ls{constructor(_0x46556c){c(this,'keys',[]),c(this,'type',Of),c(this,'tension',-0xecb+-0xf3*-0x3+0x1*0xbf2+0.5),c(this,'_eval',new hy(this));if(_0x46556c){for(let _0x47d10b=-0xc83+0x1be5+-0x7b1*0x2;_0x47d10b<_0x46556c['length']-(-0x3*0x2ea+-0x18ab+0x216a);_0x47d10b+=-0x12ee+-0x20ec+0x33dc)this['keys']['push']([_0x46556c[_0x47d10b],_0x46556c[_0x47d10b+(-0x8ff*-0x1+0x1*-0x1e32+0x1534)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x592b6f,_0x3f50f8){const _0x955bbc=this['keys'],_0x246f2c=_0x955bbc['length'];let _0x32a4cf=-0x1*-0x11d9+0x23*-0xd5+0xb46;for(;_0x32a4cf<_0x246f2c&&!(_0x955bbc[_0x32a4cf][-0x50*0x24+-0x1659+0x3*0xb33]>_0x592b6f);_0x32a4cf++);const _0x4c3d2e=[_0x592b6f,_0x3f50f8];return this['keys']['splice'](_0x32a4cf,-0x18*0xd+-0xc62+-0xd9a*-0x1,_0x4c3d2e),_0x4c3d2e;}['get'](_0xdec0fd){return this['keys'][_0xdec0fd];}['sort'](){this['keys']['sort']((_0xf3f7a3,_0x331b34)=>_0xf3f7a3[0xb8e+0x1e8c*0x1+-0x2a1a]-_0x331b34[0x22c8+-0x1*-0x833+0x1*-0x2afb]);}['value'](_0x4a43ea){return this['_eval']['evaluate'](_0x4a43ea,!(0xd2a+-0x33*-0xb2+-0x30a0));}['closest'](_0x26eaee){const _0x2b158e=this['keys'],_0x4e9444=_0x2b158e['length'];let _0x3b3081=0xc7*-0x9+-0x208e+0x278f,_0x2cc5ae=null;for(let _0x29650a=0x1*0x23eb+-0x1850+0x1*-0xb9b;_0x29650a<_0x4e9444;_0x29650a++){const _0x859b48=Math['abs'](_0x26eaee-_0x2b158e[_0x29650a][0x1*-0x1d69+-0x12f3+0x305c]);if(_0x3b3081>=_0x859b48)_0x3b3081=_0x859b48,_0x2cc5ae=_0x2b158e[_0x29650a];else break;}return _0x2cc5ae;}['clone'](){const _0x1554c1=new this['constructo'+'r']();return _0x1554c1['keys']=this['keys']['map'](_0x199c16=>[..._0x199c16]),_0x1554c1['type']=this['type'],_0x1554c1['tension']=this['tension'],_0x1554c1;}['quantize'](_0x55d5e8){_0x55d5e8=Math['max'](_0x55d5e8,0x3b*0xa9+0x21*-0xd+-0x2544);const _0x30216c=new Float32Array(_0x55d5e8),_0x326ab2=(0x9d+0x15d6+-0x1672)/(_0x55d5e8-(-0x9a7+0xf*0x63+0x2f*0x15));_0x30216c[-0x5e1*-0x1+0x2*0x1216+0x869*-0x5]=this['_eval']['evaluate'](0xced+-0x1512+0x825,!(0x2*-0x189+0xbbc+-0x8aa*0x1));for(let _0x52f86e=-0xe49+-0x22d7+0x3121;_0x52f86e<_0x55d5e8;_0x52f86e++)_0x30216c[_0x52f86e]=this['_eval']['evaluate'](_0x326ab2*_0x52f86e);return _0x30216c;}['quantizeCl'+'amped'](_0x3f5289,_0x36cc0f,_0x1823bd){const _0x1a33de=this['quantize'](_0x3f5289);for(let _0x252e27=0x66a+-0x1d8*0x7+0x67e;_0x252e27<_0x1a33de['length'];++_0x252e27)_0x1a33de[_0x252e27]=Math['min'](_0x1823bd,Math['max'](_0x36cc0f,_0x1a33de[_0x252e27]));return _0x1a33de;}}class Yr{constructor(){c(this,'curves',[]),c(this,'_type',Of);if(arguments['length']>0x60d*0x1+0xba1*-0x1+0x595){for(let _0x58360e=-0x2586+-0x1bb7*-0x1+0x9cf;_0x58360e<arguments['length'];_0x58360e++)this['curves']['push'](new Ls(arguments[_0x58360e]));}else{if(arguments['length']===0x7*-0x1f9+-0xbc6+0x1*0x1995)this['curves']['push'](new Ls());else{const _0x5183f3=arguments[-0x1*-0x1a15+-0x494+-0x1581];if(typeof _0x5183f3=='number'){for(let _0x2cd02e=-0x26*-0x101+0x1*0xd95+-0x33bb;_0x2cd02e<_0x5183f3;_0x2cd02e++)this['curves']['push'](new Ls());}else{for(let _0x4e685f=0xa84+0x2125+-0x2ba9;_0x4e685f<_0x5183f3['length'];_0x4e685f++)this['curves']['push'](new Ls(_0x5183f3[_0x4e685f]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x16a803){this['_type']=_0x16a803;for(let _0x2ea82d=0x2*0x119+-0x1219+0x45*0x3b;_0x2ea82d<this['curves']['length'];_0x2ea82d++)this['curves'][_0x2ea82d]['type']=_0x16a803;}get['type'](){return this['_type'];}['get'](_0x126a7b){return this['curves'][_0x126a7b];}['value'](_0x643568,_0x109699=[]){const _0x53f6a1=this['curves']['length'];_0x109699['length']=_0x53f6a1;for(let _0x2a32e4=0x233c+-0x1bed*0x1+-0x74f;_0x2a32e4<_0x53f6a1;_0x2a32e4++)_0x109699[_0x2a32e4]=this['curves'][_0x2a32e4]['value'](_0x643568);return _0x109699;}['clone'](){const _0x23a0bd=new this['constructo'+'r']();_0x23a0bd['curves']=[];for(let _0x17a475=-0x3*-0xc01+0x1ab9*0x1+-0x3ebc;_0x17a475<this['curves']['length'];_0x17a475++)_0x23a0bd['curves']['push'](this['curves'][_0x17a475]['clone']());return _0x23a0bd['_type']=this['_type'],_0x23a0bd;}['quantize'](_0x430db8){_0x430db8=Math['max'](_0x430db8,-0x2046+0xc07+0x1441);const _0x4ea6c3=this['curves']['length'],_0xbbfc5b=new Float32Array(_0x430db8*_0x4ea6c3),_0x29ce17=(0x1a02+0x2*-0x1065+0x6c9)/(_0x430db8-(-0x21f5*0x1+-0x5*-0x5cf+-0x4eb*-0x1));for(let _0x4803a0=-0x1b63+-0x91f*0x2+-0x2da1*-0x1;_0x4803a0<_0x4ea6c3;_0x4803a0++){const _0x41e5f1=new hy(this['curves'][_0x4803a0]);for(let _0x58b2d5=0x234*-0x4+-0x21c0+0x38c*0xc;_0x58b2d5<_0x430db8;_0x58b2d5++)_0xbbfc5b[_0x58b2d5*_0x4ea6c3+_0x4803a0]=_0x41e5f1['evaluate'](_0x29ce17*_0x58b2d5);}return _0xbbfc5b;}['quantizeCl'+'amped'](_0x5d34f0,_0x2ee7a0,_0x28e3af){const _0x5ce796=this['quantize'](_0x5d34f0);for(let _0x3f59a7=0xf99+0x5ac+-0x1545;_0x3f59a7<_0x5ce796['length'];++_0x3f59a7)_0x5ce796[_0x3f59a7]=Math['min'](_0x28e3af,Math['max'](_0x2ee7a0,_0x5ce796[_0x3f59a7]));return _0x5ce796;}}let rm=-0x1cb5+0x1*-0x311+-0xa99*-0x3;const od=(-0x7*-0x326+0x1224+0x79*-0x55)/(0x6a*0x4a+0x20c8+-0x3*0x14cf),mu=new Float32Array(-0x201+-0x5*-0xca+-0x1f0),nm=new Int32Array(mu['buffer']);class Bt{static['float2Half'](_0x436122){mu[-0xefb*0x1+-0x1f*0x53+-0xc84*-0x2]=_0x436122;const _0x7213e=nm[-0x24a9+-0x7f7+0x2ca0];let _0x41dbaa=_0x7213e>>-0x2502+-0x6*0x67b+0x4bf4&-0xe552+-0x6*0x71+-0xb3fc*-0x2,_0x4e24ba=_0x7213e>>0x223b+-0x115*-0x11+0x1a4a*-0x2&-0xe*-0x10+0x80*0x42+-0x19e1;const _0xd4e654=_0x7213e>>0x1*0xa57+0x120e+0x2*-0xe27&-0x24d0+-0xd1e+0x32ed;return _0xd4e654<0x3a9+-0x1d6+-0x4*0x5b?_0x41dbaa:_0xd4e654>-0x10b1+-0x5*-0x3b9+-0x15e?(_0x41dbaa|=-0x17a*-0x20+-0x2d47+-0x9*-0xd8f,_0x41dbaa|=(_0xd4e654===-0x7a*0x2b+-0x33*0x5+-0x167c*-0x1?-0xf07+-0x1c16+0x1*0x2b1d:0x98d*0x1+0x8e8+0x49d*-0x4)&&_0x7213e&-0x910233+0x9eef61+-0x1*-0x7212d1,_0x41dbaa):_0xd4e654<-0x1*0x1cae+-0xb95*0x1+0x28b4?(_0x4e24ba|=0x1225*0x1+0x1864+-0x2289,_0x41dbaa|=(_0x4e24ba>>0x8d1*-0x4+0x1aec*-0x1+-0x1f51*-0x2-_0xd4e654)+(_0x4e24ba>>0x19*-0x110+-0x118+0x1c19-_0xd4e654&0x5*-0x644+-0x5*-0x1c6+0x1677),_0x41dbaa):(_0x41dbaa|=_0xd4e654-(0x11a2+0x373*0x8+-0x7*0x666)<<0x1*-0x16d9+-0x13a9+0x185*0x1c|_0x4e24ba>>-0xe5c+-0x1971+0x27ce,_0x41dbaa+=_0x4e24ba&0x528+0x8*-0x4d9+0x1*0x21a1,_0x41dbaa);}static['float2Byte'+'s'](_0x2673e7,_0x443be5,_0x4a1804,_0x4432d7){const _0x5357dc=(0xc32+-0xeb3*-0x2+-0x223*0x13)*_0x2673e7%(0x1c*-0x147+0x149a+-0xf2b*-0x1);if(_0x443be5[_0x4a1804+(0x230d+0x1419+-0x3726)]=Math['round']((_0x2673e7%(0x21a4*0x1+0xec3*0x1+-0x3066)-od*_0x5357dc)*(-0x767*0x2+-0x2c*-0x21+0x1*0xa21)),_0x4432d7>0x20cd+0x8da*0x1+-0x29a6){const _0x46247d=(-0x1f58c+-0x87f9*0x1+0x37b86)*_0x2673e7%(-0x24a*-0xa+-0x815*-0x3+0x1791*-0x2);if(_0x443be5[_0x4a1804+(0xd86+-0x5*0xbf+-0x9ca)]=Math['round']((_0x5357dc-od*_0x46247d)*(0x5*0x61f+-0x1ee3+-0x6d*-0x3)),_0x4432d7>0x72e+0x1c81*0x1+-0x23ad){const _0x3a144e=(-0x57ed8c+0x3e75c3*0x2+-0x29a47*-0x53)*_0x2673e7%(0x13d5+-0x55b+-0x1*0xe79);_0x443be5[_0x4a1804+(-0x1c4d+0xb1b*-0x2+-0x1*-0x3285)]=Math['round']((_0x46247d-od*_0x3a144e)*(-0x1991+0xdd*-0x5+0x1d1*0x11)),_0x4432d7>-0x1d4a+0x941+-0xa06*-0x2&&(_0x443be5[_0x4a1804+(-0x7*0xb+-0x26d8+0x1c*0x166)]=Math['round'](_0x3a144e*(-0xc36+0x1*0x3d3+0x4b1*0x2)));}}}static['float2Byte'+'sRange'](_0x211aea,_0x1a9d0e,_0x5b39cc,_0x4dec7a,_0x1786f4,_0x193d7c){(_0x211aea<_0x4dec7a||_0x211aea>_0x1786f4)&&rm&&(rm--,console['warn']('float2Byte'+'sRange\x20-\x20v'+'alue\x20to\x20pa'+'ck\x20is\x20out\x20'+'of\x20specifi'+'ed\x20range.')),_0x211aea=z['clamp']((_0x211aea-_0x4dec7a)/(_0x1786f4-_0x4dec7a),0x1fe2+-0xfbb*0x2+-0x6c,0x6b9*-0x1+-0x46*0x35+0x1538),Bt['float2Byte'+'s'](_0x211aea,_0x1a9d0e,_0x5b39cc,_0x193d7c);}static['float2RGBA'+'8'](_0x45c75e,_0x50ea0d){mu[0x1814+0x4*0x34+-0x24*0xb1]=_0x45c75e;const _0x385674=nm[-0x3b*-0x58+0xe*-0xf1+-0x71a];_0x50ea0d['r']=(_0x385674>>-0x945+-0x253c+-0x2e99*-0x1&0xd4b+0x1*0xf26+-0x1b72)/(-0x21*0x9b+-0x732+0x4b2*0x6),_0x50ea0d['g']=(_0x385674>>0x1b*0xe7+0x1437+-0x2c84&-0x109b*0x1+0x276+-0xf24*-0x1)/(-0x267d+-0x1*-0x21b7+0x5c5),_0x50ea0d['b']=(_0x385674>>-0x72d*0x3+-0x5*0x3b+0x66*0x39&0x1291*0x1+-0x46*0x81+0x11b4)/(0x17b*-0x2+0x2*0xa8b+-0x1121),_0x50ea0d['a']=(_0x385674&0x1749+0x257b*-0x1+0xf31)/(-0x130e+0x1f29+-0xb1c);}}const lt=class lt{constructor(_0x472f42=-0x94a*-0x1+-0x16d8+0xd8e,_0x226849=-0x22ba+0x39*0x4f+0x1123,_0x552bc4=0xd1+0x2*0xf17+0x17*-0x159){c(this,'x'),c(this,'y'),c(this,'z'),_0x472f42['length']===-0xe6e+-0x1*0xe5d+0x3*0x99a?(this['x']=_0x472f42[0x1803+-0xdf*-0x7+-0x1e1c],this['y']=_0x472f42[0x161*0xe+-0x4*-0x353+-0x5*0x685],this['z']=_0x472f42[0x13c+0xd42*-0x1+0xc08]):(this['x']=_0x472f42,this['y']=_0x226849,this['z']=_0x552bc4);}['add'](_0x56422d){return this['x']+=_0x56422d['x'],this['y']+=_0x56422d['y'],this['z']+=_0x56422d['z'],this;}['add2'](_0x108b1e,_0x37708b){return this['x']=_0x108b1e['x']+_0x37708b['x'],this['y']=_0x108b1e['y']+_0x37708b['y'],this['z']=_0x108b1e['z']+_0x37708b['z'],this;}['addScalar'](_0x3b9d7f){return this['x']+=_0x3b9d7f,this['y']+=_0x3b9d7f,this['z']+=_0x3b9d7f,this;}['addScaled'](_0x1dde25,_0x5a2d3b){return this['x']+=_0x1dde25['x']*_0x5a2d3b,this['y']+=_0x1dde25['y']*_0x5a2d3b,this['z']+=_0x1dde25['z']*_0x5a2d3b,this;}['clone'](){const _0x216238=this['constructo'+'r'];return new _0x216238(this['x'],this['y'],this['z']);}['copy'](_0x379b94){return this['x']=_0x379b94['x'],this['y']=_0x379b94['y'],this['z']=_0x379b94['z'],this;}['cross'](_0x404223,_0x4a66b8){const _0x28ca8d=_0x404223['x'],_0x363d31=_0x404223['y'],_0x321947=_0x404223['z'],_0x22bfb5=_0x4a66b8['x'],_0x1224c1=_0x4a66b8['y'],_0x56684b=_0x4a66b8['z'];return this['x']=_0x363d31*_0x56684b-_0x1224c1*_0x321947,this['y']=_0x321947*_0x22bfb5-_0x56684b*_0x28ca8d,this['z']=_0x28ca8d*_0x1224c1-_0x22bfb5*_0x363d31,this;}['distance'](_0x1f6014){const _0x5ba1d6=this['x']-_0x1f6014['x'],_0x8727d2=this['y']-_0x1f6014['y'],_0x5eaeeb=this['z']-_0x1f6014['z'];return Math['sqrt'](_0x5ba1d6*_0x5ba1d6+_0x8727d2*_0x8727d2+_0x5eaeeb*_0x5eaeeb);}['div'](_0x518613){return this['x']/=_0x518613['x'],this['y']/=_0x518613['y'],this['z']/=_0x518613['z'],this;}['div2'](_0x4943c0,_0x48eb6f){return this['x']=_0x4943c0['x']/_0x48eb6f['x'],this['y']=_0x4943c0['y']/_0x48eb6f['y'],this['z']=_0x4943c0['z']/_0x48eb6f['z'],this;}['divScalar'](_0x4dea1d){return this['x']/=_0x4dea1d,this['y']/=_0x4dea1d,this['z']/=_0x4dea1d,this;}['dot'](_0x4363ab){return this['x']*_0x4363ab['x']+this['y']*_0x4363ab['y']+this['z']*_0x4363ab['z'];}['equals'](_0x4a9cb8){return this['x']===_0x4a9cb8['x']&&this['y']===_0x4a9cb8['y']&&this['z']===_0x4a9cb8['z'];}['equalsAppr'+'ox'](_0x1dafa2,_0x3e33cf=-0x21c6+-0x1e89*-0x1+0x1*0x33d+0.000001){return Math['abs'](this['x']-_0x1dafa2['x'])<_0x3e33cf&&Math['abs'](this['y']-_0x1dafa2['y'])<_0x3e33cf&&Math['abs'](this['z']-_0x1dafa2['z'])<_0x3e33cf;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x290240,_0x55af26,_0x73bb53){return this['x']=_0x290240['x']+_0x73bb53*(_0x55af26['x']-_0x290240['x']),this['y']=_0x290240['y']+_0x73bb53*(_0x55af26['y']-_0x290240['y']),this['z']=_0x290240['z']+_0x73bb53*(_0x55af26['z']-_0x290240['z']),this;}['mul'](_0x23ebc8){return this['x']*=_0x23ebc8['x'],this['y']*=_0x23ebc8['y'],this['z']*=_0x23ebc8['z'],this;}['mul2'](_0x57adff,_0x3031bc){return this['x']=_0x57adff['x']*_0x3031bc['x'],this['y']=_0x57adff['y']*_0x3031bc['y'],this['z']=_0x57adff['z']*_0x3031bc['z'],this;}['mulScalar'](_0x195bc8){return this['x']*=_0x195bc8,this['y']*=_0x195bc8,this['z']*=_0x195bc8,this;}['normalize'](_0x5571f7=this){const _0x5d356b=_0x5571f7['x']*_0x5571f7['x']+_0x5571f7['y']*_0x5571f7['y']+_0x5571f7['z']*_0x5571f7['z'];if(_0x5d356b>-0xac3*0x3+0x194a+-0x255*-0x3){const _0x4f0be6=(-0x1aab+-0x9e7+0x2493)/Math['sqrt'](_0x5d356b);this['x']=_0x5571f7['x']*_0x4f0be6,this['y']=_0x5571f7['y']*_0x4f0be6,this['z']=_0x5571f7['z']*_0x4f0be6;}return this;}['floor'](_0x40b736=this){return this['x']=Math['floor'](_0x40b736['x']),this['y']=Math['floor'](_0x40b736['y']),this['z']=Math['floor'](_0x40b736['z']),this;}['ceil'](_0x453bfe=this){return this['x']=Math['ceil'](_0x453bfe['x']),this['y']=Math['ceil'](_0x453bfe['y']),this['z']=Math['ceil'](_0x453bfe['z']),this;}['round'](_0x121ad7=this){return this['x']=Math['round'](_0x121ad7['x']),this['y']=Math['round'](_0x121ad7['y']),this['z']=Math['round'](_0x121ad7['z']),this;}['min'](_0x135c84){return _0x135c84['x']<this['x']&&(this['x']=_0x135c84['x']),_0x135c84['y']<this['y']&&(this['y']=_0x135c84['y']),_0x135c84['z']<this['z']&&(this['z']=_0x135c84['z']),this;}['max'](_0xe719d1){return _0xe719d1['x']>this['x']&&(this['x']=_0xe719d1['x']),_0xe719d1['y']>this['y']&&(this['y']=_0xe719d1['y']),_0xe719d1['z']>this['z']&&(this['z']=_0xe719d1['z']),this;}['project'](_0x4f05d8){const _0x5ad1a2=this['x']*_0x4f05d8['x']+this['y']*_0x4f05d8['y']+this['z']*_0x4f05d8['z'],_0x56c925=_0x4f05d8['x']*_0x4f05d8['x']+_0x4f05d8['y']*_0x4f05d8['y']+_0x4f05d8['z']*_0x4f05d8['z'],_0x262963=_0x5ad1a2/_0x56c925;return this['x']=_0x4f05d8['x']*_0x262963,this['y']=_0x4f05d8['y']*_0x262963,this['z']=_0x4f05d8['z']*_0x262963,this;}['set'](_0x19356e,_0x379b30,_0x524982){return this['x']=_0x19356e,this['y']=_0x379b30,this['z']=_0x524982,this;}['sub'](_0x3ca52a){return this['x']-=_0x3ca52a['x'],this['y']-=_0x3ca52a['y'],this['z']-=_0x3ca52a['z'],this;}['sub2'](_0x38cd1f,_0x183d67){return this['x']=_0x38cd1f['x']-_0x183d67['x'],this['y']=_0x38cd1f['y']-_0x183d67['y'],this['z']=_0x38cd1f['z']-_0x183d67['z'],this;}['subScalar'](_0x2732f7){return this['x']-=_0x2732f7,this['y']-=_0x2732f7,this['z']-=_0x2732f7,this;}['fromArray'](_0x1b49c1,_0x83b18c=0xfdc+-0x2f9*0x1+-0xce3*0x1){return this['x']=_0x1b49c1[_0x83b18c]??this['x'],this['y']=_0x1b49c1[_0x83b18c+(0x1487+0x1*-0x1b57+0x6d1)]??this['y'],this['z']=_0x1b49c1[_0x83b18c+(-0x1*-0xa27+0x54a+0xf6f*-0x1)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x2945cc=[],_0x265fb3=0x2*0xe77+0x1b*0x14c+-0x3ff2){return _0x2945cc[_0x265fb3]=this['x'],_0x2945cc[_0x265fb3+(-0x1635+0xc01+0xc9*0xd)]=this['y'],_0x2945cc[_0x265fb3+(-0x25ab*0x1+0x2452+-0x15b*-0x1)]=this['z'],_0x2945cc;}};c(lt,'ZERO',Object['freeze'](new lt(-0x1d46+-0x20d3+-0x2f5*-0x15,0x159d+-0xb06+-0xa97,-0x112*0x1a+0x4a3*0x3+0xdeb))),c(lt,'HALF',Object['freeze'](new lt(-0x11be+0x779*-0x2+0x2*0x1058+0.5,-0x1af*0xa+-0x1ccf+-0x30b*-0xf+0.5,-0x93c+0x22c1+0x1985*-0x1+0.5))),c(lt,'ONE',Object['freeze'](new lt(0xb*0x2d6+-0x2a5*-0xb+-0x3c48,0x6*-0x416+-0xe34*-0x1+0xa51*0x1,-0x3e9+-0x12e+0x518))),c(lt,'UP',Object['freeze'](new lt(0x1407+0x109*-0x13+-0x5c,-0x1*0x261f+0x274*0xa+0xd98,0x1d33+-0x16d*0x7+0x8*-0x267))),c(lt,'DOWN',Object['freeze'](new lt(0x1*0x227f+0x1*-0x1df1+0x1*-0x48e,-(-0x257d+-0xa31+0xd*0x3ab),0xd5b+0x21f3*-0x1+0x1498))),c(lt,'RIGHT',Object['freeze'](new lt(-0x1521+0x18fe+-0x1a*0x26,-0x60*-0x59+-0x25b3*-0x1+-0x4713,0x2*0x122c+0x2569+-0x49c1*0x1))),c(lt,'LEFT',Object['freeze'](new lt(-(-0xb52+0x1c96*-0x1+0x27e9),0xbb9*0x2+0x67c+0x1dee*-0x1,0x1*0x1dc3+-0x81*0x5+-0x1b3e))),c(lt,'FORWARD',Object['freeze'](new lt(-0x6f7*0x1+0x1e1f+0x98*-0x27,0x2*-0x1271+0x4d5*0x1+-0x200d*-0x1,-(-0x1*0x188e+0x68e+0x1201)))),c(lt,'BACK',Object['freeze'](new lt(-0x1864+-0x79e+-0x2002*-0x1,0x1ad2+-0xb0f+-0xfc3,-0x10b*-0x1f+0x3be+-0x2412)));let A=lt;const oa=class oa{constructor(){c(this,'data',new Float32Array(-0xb*0x288+-0x3*-0xc04+0x33*-0x29)),this['data'][0x53*-0x21+-0x3*-0x94f+-0x113a]=this['data'][0x11d6+-0x1*-0x12ad+-0x247f]=this['data'][-0x727*-0x3+0x4*0x4c9+-0x2891]=-0x1*0x1123+0xce*0x21+0x5*-0x1e2;}['clone'](){const _0x1327b9=this['constructo'+'r'];return new _0x1327b9()['copy'](this);}['copy'](_0x44c40a){const _0x28cbe9=_0x44c40a['data'],_0x520e1c=this['data'];return _0x520e1c[-0x1f01+-0x1f*0xe5+0x2cc*0x15]=_0x28cbe9[0x1241+0x25f*-0xb+-0xa7*-0xc],_0x520e1c[0x1505+0x41f+-0x1923]=_0x28cbe9[0x15e3+-0x2109+0xb27],_0x520e1c[0x22a5+0x264b+-0xa*0x74b]=_0x28cbe9[0x6f7*-0x1+-0x22*0xca+0x21cd],_0x520e1c[-0x1*0x2203+-0x612+0x2818*0x1]=_0x28cbe9[-0x1f1c+-0x2aa*-0x4+0x1477],_0x520e1c[0x229d*-0x1+0xd*0x19c+-0x1*-0xdb5]=_0x28cbe9[-0x67*-0x4+-0x17b8*-0x1+-0x1950],_0x520e1c[-0x128+-0x2e*-0x23+-0x1*0x51d]=_0x28cbe9[-0x16ff+-0x1d68+0x346c],_0x520e1c[0x1*0x24b7+-0x23f4+-0x3f*0x3]=_0x28cbe9[-0x20*-0xb5+0xd*0x1d7+-0x2e85],_0x520e1c[0x1578+0x17f*0x7+-0xa*0x331]=_0x28cbe9[-0x102*-0x19+0x76b*0x3+0x14*-0x25f],_0x520e1c[0x57*-0x1f+0x1*0x952+0x13f]=_0x28cbe9[0xd7a+0x6*-0x513+0x1100],this;}['set'](_0x44b125){const _0x283a2c=this['data'];return _0x283a2c[-0xd4+0x1*-0x1b91+0x1c65]=_0x44b125[-0x4*-0x565+0x9*0x15b+0x1*-0x21c7],_0x283a2c[-0x3de+-0x15*-0x115+-0x12da]=_0x44b125[0x1896+0xb4+-0x1949],_0x283a2c[-0x6ea+0x1e71+-0x1785]=_0x44b125[-0x1af2+-0x1091+0x359*0xd],_0x283a2c[-0x1d*-0x5b+0x1390+0x6*-0x4fa]=_0x44b125[-0x2c7+-0x5*0x469+0x18d7],_0x283a2c[0x1*-0x96b+-0x26c6+0x3035]=_0x44b125[0x5d*0x39+-0x24*0x89+-0x16d],_0x283a2c[0x2375*0x1+0xf63+-0x32d3*0x1]=_0x44b125[0x1dc2+0x1*0x1047+-0x2e04],_0x283a2c[0x1025*-0x1+-0xd24+-0x29*-0xb7]=_0x44b125[-0x1aad*0x1+-0xb3*0x1+0x1b66],_0x283a2c[-0x1f64+-0x24af+0x441a]=_0x44b125[-0x1ce2+0x1199+0xb50],_0x283a2c[0x1*0x13d1+-0xfe*0x11+-0x2eb]=_0x44b125[0x4*0x265+-0x152+-0x83a],this;}['getX'](_0x467af7=new A()){return _0x467af7['set'](this['data'][-0x1e32+-0x4f9+0x3*0xbb9],this['data'][-0x1b50+0x221f+-0x6ce],this['data'][-0x57b+-0x2*-0x2f6+-0x6f]);}['getY'](_0x5a3b46=new A()){return _0x5a3b46['set'](this['data'][0x1*-0x6fd+-0x1265+0x1965],this['data'][0x5cc+-0x1*-0x2507+-0x2acf],this['data'][-0x5*0x6fd+0x137c+0xf7a*0x1]);}['getZ'](_0x577228=new A()){return _0x577228['set'](this['data'][-0x341*0x1+0x12b6+-0xf6f],this['data'][0x97d+0x6b6+-0x102c],this['data'][0x185+0xbf1+-0xd6e]);}['equals'](_0x128dda){const _0xe70d28=this['data'],_0x21bea6=_0x128dda['data'];return _0xe70d28[0x1*0x125e+0x1ed+-0x144b]===_0x21bea6[0x4*-0x162+-0xb73+0x10fb]&&_0xe70d28[-0x19*0x47+-0x1*-0x1ce1+0x29*-0x89]===_0x21bea6[-0x21d1+0x1*-0x224e+0x8*0x884]&&_0xe70d28[0x139f+-0xfe3+-0x2*0x1dd]===_0x21bea6[0x21dc+0x1*0x24bb+-0x4695]&&_0xe70d28[-0x1e82+0xb0*0x35+-0x5eb]===_0x21bea6[0x1e1a+0x2550+0x11*-0x3f7]&&_0xe70d28[0x1*0x19ca+-0x1b36+0x170]===_0x21bea6[0x1a41+-0xb93+0x2*-0x755]&&_0xe70d28[0x1*-0x2e+-0x1ce2+0x5d1*0x5]===_0x21bea6[-0xe09+0xd42+0xcc]&&_0xe70d28[0x212a+0x2475+0x4599*-0x1]===_0x21bea6[-0x14b1+0x1440+-0x7*-0x11]&&_0xe70d28[-0x7*0x1df+0x8f*0xf+0x4bf]===_0x21bea6[-0x1ad2+0x1*-0x17c7+0x32a0]&&_0xe70d28[0xf99+-0x26c9+0x1738]===_0x21bea6[-0xc75*-0x1+-0x2230+0x9*0x26b];}['isIdentity'](){const _0x117a9f=this['data'];return _0x117a9f[-0x1b1c+-0x13f7+0x2f13]===0x38f*0x4+-0x10dc*-0x1+-0x1f17&&_0x117a9f[-0xaed*-0x2+0x594+-0x1b6d]===-0x10d*-0xa+-0x3f0+-0x692&&_0x117a9f[-0x1696+0x2*-0xe33+0x32fe]===-0x175*0xb+0x6*-0x4c1+0x2c8d&&_0x117a9f[-0xf65*0x1+0x147d*0x1+-0x515]===-0x1102+0x16cc+-0x5ca&&_0x117a9f[-0xabd*0x3+0x1614+0xa27]===0x1910+0x1*0x200d+-0x391c&&_0x117a9f[-0x4fd*0x4+0x4cd*-0x8+0x1*0x3a61]===-0x2248+0x1e62+-0x1*-0x3e6&&_0x117a9f[0x575+-0x1ef7*0x1+-0xcc4*-0x2]===0x2334+0x17fc+-0x766*0x8&&_0x117a9f[-0x140e+0x11*0x133+-0x4e]===-0xfee+-0x6*0x113+0x2*0xb30&&_0x117a9f[-0x36c+0x1e6*0x11+-0x1cd2]===0x3e*-0x2c+0x91*0x2f+0x2*-0x7fb;}['setIdentit'+'y'](){const _0xccd4c8=this['data'];return _0xccd4c8[0x7bf+0x1*-0x1eaf+-0x10*-0x16f]=0xb1c*0x3+0x4bd*-0x7+-0x14*0x2,_0xccd4c8[-0x1693+0x1bf8+-0x564]=-0x1cdf+-0x129a*0x2+0x4213,_0xccd4c8[0x3c*-0x19+-0x2*-0xed5+-0x17cc*0x1]=0x9db+0x554+0xa9*-0x17,_0xccd4c8[0x10c3+-0xb0d+-0x5b3]=-0x525+0x1f*0xdb+-0x1560,_0xccd4c8[-0x1c*0x4f+0x95*0x1d+-0x1*0x839]=-0x706+-0xd*0x107+0x1462,_0xccd4c8[-0x169c+0x1033+0x2*0x337]=-0x22+-0x2*0x761+-0x2*-0x772,_0xccd4c8[-0x97*-0x5+-0x1*0x2261+-0xfba*-0x2]=0x21d*0x1+0x325+-0x542,_0xccd4c8[-0x949*-0x1+-0x9*0x6d+0x1*-0x56d]=0x3*0x25e+-0x1cab+0x1591*0x1,_0xccd4c8[-0x1*0x190c+0x6b1+0x3*0x621]=-0x9c*-0x35+-0x1*-0x2137+-0x4182,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x42c83f=this){const _0x12ca41=_0x42c83f['data'],_0x599ba8=this['data'];if(_0x12ca41===_0x599ba8){let _0x2ef0ac;_0x2ef0ac=_0x12ca41[-0x456+0x242b+-0x1fd4],_0x599ba8[-0x1a29*0x1+-0x1*0x1a1f+0x3449*0x1]=_0x12ca41[0x9*-0x1f+-0x258a+0x2*0x1352],_0x599ba8[0x226a+0x2d4*-0xd+0x25d]=_0x2ef0ac,_0x2ef0ac=_0x12ca41[-0x59+0xfe6+0xf8b*-0x1],_0x599ba8[0x13a5+-0x117e+-0x225]=_0x12ca41[-0x2*-0x132e+-0x1870+-0xde6],_0x599ba8[0x5f8*0x3+-0x1*0x9a8+-0x1a*0x51]=_0x2ef0ac,_0x2ef0ac=_0x12ca41[0x24*-0x112+0x2*0x1195+0x363],_0x599ba8[-0x1009+-0x1c14+0x2c22]=_0x12ca41[0x5*0x5ed+-0x1*0x125b+-0xb3f],_0x599ba8[-0x1*-0x11fb+-0x1d*-0x5e+-0x1c9a]=_0x2ef0ac;}else _0x599ba8[-0x1794+-0x587+-0x1*-0x1d1b]=_0x12ca41[-0x1*0x2249+-0xd76+0x2fbf],_0x599ba8[0xd2+-0x1bd8+-0x11*-0x197]=_0x12ca41[-0x1b37+0x2*0x19c+-0xe*-0x1b7],_0x599ba8[0x219c+-0x2*0xe02+-0x596]=_0x12ca41[0xd5e+0xa*-0x374+0x2*0xa98],_0x599ba8[0x1d*-0x13a+-0xf4b+-0x94*-0x58]=_0x12ca41[0x1*0x8ef+-0xca5+0x3b7*0x1],_0x599ba8[0x1dea+-0x962+-0x1484]=_0x12ca41[0x1dbe+-0x3f7+-0x527*0x5],_0x599ba8[0x559*-0x5+0xde7+0xcdb]=_0x12ca41[-0x1eb4+-0x50*-0x4d+0x6ab],_0x599ba8[0x1*0x1a7d+-0x155e*-0x1+-0x2fd5]=_0x12ca41[-0x2*0x7ea+0x29*0xbe+0x3a6*-0x4],_0x599ba8[0x172a+-0xb0b*-0x2+-0x2d39]=_0x12ca41[-0x1600*-0x1+-0x361*-0x1+-0x195c],_0x599ba8[0x11*-0xb5+0x14d3+-0x8c6]=_0x12ca41[-0x2583+-0x17b8+-0x1*-0x3d43];return this;}['setFromMat'+'4'](_0x12e7d8){const _0x364a28=_0x12e7d8['data'],_0x59821c=this['data'];return _0x59821c[-0x1d0b*0x1+0xe*-0xb2+0x26c7]=_0x364a28[0x6*0x5c6+0x1b70+-0x3e14],_0x59821c[-0x69+0x812+-0x7a8]=_0x364a28[0x1*-0xd21+-0x17a+0xe9c],_0x59821c[-0x22fb+0x1b*-0xd7+0x39aa]=_0x364a28[-0x1b*-0x12a+-0x3ae+0x43*-0x6a],_0x59821c[-0x8*0x86+0x6*-0x8f+-0x78d*-0x1]=_0x364a28[0x291*0x1+0xf31+0x1*-0x11be],_0x59821c[0xf89+0x5*-0x2c2+-0x1bb]=_0x364a28[0x1c*-0x85+-0xc85+0xd8b*0x2],_0x59821c[0x1*0x4f3+0xfff+-0x14ed*0x1]=_0x364a28[-0x14f7+0x2*-0x7d5+-0xb*-0x355],_0x59821c[-0x4*-0x8ce+-0x26ac+0x37a]=_0x364a28[0x1503*-0x1+0xb*-0x8f+0x1b30],_0x59821c[-0x47f*0x7+-0x1826+0x37a6]=_0x364a28[0x6*-0x44f+0x20fb+-0x718],_0x59821c[0x10ab*0x1+-0x2617+0x2*0xaba]=_0x364a28[0x1f03+0x43d+-0x1*0x2336],this;}['setFromQua'+'t'](_0x539a68){const _0x25f80b=_0x539a68['x'],_0x52f318=_0x539a68['y'],_0x3f6a64=_0x539a68['z'],_0x364752=_0x539a68['w'],_0x236de9=_0x25f80b+_0x25f80b,_0x246b01=_0x52f318+_0x52f318,_0x5833e6=_0x3f6a64+_0x3f6a64,_0x5c2aae=_0x25f80b*_0x236de9,_0x2cc4d4=_0x25f80b*_0x246b01,_0xfe0626=_0x25f80b*_0x5833e6,_0x52c287=_0x52f318*_0x246b01,_0x581ae2=_0x52f318*_0x5833e6,_0x18f19c=_0x3f6a64*_0x5833e6,_0x559b3d=_0x364752*_0x236de9,_0x504550=_0x364752*_0x246b01,_0x41dfdf=_0x364752*_0x5833e6,_0x26ed5c=this['data'];return _0x26ed5c[0x4c7*0x5+0x1cd*-0x7+0x2*-0x5a4]=0x1ece+-0x1630+-0x93*0xf-(_0x52c287+_0x18f19c),_0x26ed5c[-0x1be9+0x3*0x1f6+0x1608]=_0x2cc4d4+_0x41dfdf,_0x26ed5c[0x1*0x1e18+0xcff+0x1*-0x2b15]=_0xfe0626-_0x504550,_0x26ed5c[0x65*0x46+0x1*-0x1477+-0x724]=_0x2cc4d4-_0x41dfdf,_0x26ed5c[-0x3*0x435+0x1*0xb5+0x3fa*0x3]=-0x9*0x328+0x2*0x6d+0x19f*0x11-(_0x5c2aae+_0x18f19c),_0x26ed5c[0x2*0xbd9+-0x21a1+-0x7*-0x16c]=_0x581ae2+_0x559b3d,_0x26ed5c[0x292+0x7f5+-0xa81]=_0xfe0626+_0x504550,_0x26ed5c[-0x1d07+0x20*0x74+-0x19e*-0x9]=_0x581ae2-_0x559b3d,_0x26ed5c[-0xf11+-0xb*0x301+0x3024]=0x1d0f+-0x31d*-0x5+-0x2c9f-(_0x5c2aae+_0x52c287),this;}['invertMat4'](_0xaa29e0){const _0x7e8a2a=_0xaa29e0['data'],_0x5340b6=_0x7e8a2a[0x3*-0xa3d+-0x232b+0x41e2],_0xb62641=_0x7e8a2a[0xc24+0x1754+0x7*-0x511],_0x59b29e=_0x7e8a2a[-0xa80+0x115d+-0x3*0x249],_0x5b5dd4=_0x7e8a2a[-0x1*-0x1399+0x1e8b*-0x1+-0xaf6*-0x1],_0x5d4497=_0x7e8a2a[-0x1d52+-0x128*0x10+0x2fd7],_0x167d41=_0x7e8a2a[0xd85*0x2+0xef6+-0x6ff*0x6],_0x5ebae2=_0x7e8a2a[-0xa65+-0x159f+-0x1006*-0x2],_0x491c8e=_0x7e8a2a[-0x3*-0x18a+-0x1154*0x1+-0xcbf*-0x1],_0x102e7c=_0x7e8a2a[0x1dca+0xe93+-0x2c53],_0x554404=_0x102e7c*_0x5d4497-_0x167d41*_0x491c8e,_0x57f5a8=-_0x102e7c*_0xb62641+_0x59b29e*_0x491c8e,_0x285a92=_0x167d41*_0xb62641-_0x59b29e*_0x5d4497,_0x2a3df4=-_0x102e7c*_0x5b5dd4+_0x167d41*_0x5ebae2,_0x1fa1f3=_0x102e7c*_0x5340b6-_0x59b29e*_0x5ebae2,_0x54fb59=-_0x167d41*_0x5340b6+_0x59b29e*_0x5b5dd4,_0xbefe63=_0x491c8e*_0x5b5dd4-_0x5d4497*_0x5ebae2,_0x2665f7=-_0x491c8e*_0x5340b6+_0xb62641*_0x5ebae2,_0x27e34b=_0x5d4497*_0x5340b6-_0xb62641*_0x5b5dd4,_0x48a5f5=_0x5340b6*_0x554404+_0xb62641*_0x2a3df4+_0x59b29e*_0xbefe63;if(_0x48a5f5===-0x15eb+-0xed5+0xe0*0x2a)this['setIdentit'+'y']();else{const _0x1dd48f=(-0xb14*0x2+-0xdb*0x5+0x1a70)/_0x48a5f5,_0x211d44=this['data'];_0x211d44[0x165f+0xa54+0x1*-0x20b3]=_0x554404*_0x1dd48f,_0x211d44[-0x11b*0x23+-0x2399+0x7*0xa9d]=_0x57f5a8*_0x1dd48f,_0x211d44[-0x15*0x25+-0x6*0x38e+0x185f]=_0x285a92*_0x1dd48f,_0x211d44[-0x2*0x2d4+0x607*-0x2+0x1*0x11b9]=_0x2a3df4*_0x1dd48f,_0x211d44[-0x1*-0x17b3+-0x1*-0xcbb+0x2*-0x1235]=_0x1fa1f3*_0x1dd48f,_0x211d44[-0x2d7+-0x1*0x10c7+0x13a3]=_0x54fb59*_0x1dd48f,_0x211d44[-0x139*0x1+-0x417*0x1+0x556]=_0xbefe63*_0x1dd48f,_0x211d44[0x1bae+0x21ca+0x141*-0x31]=_0x2665f7*_0x1dd48f,_0x211d44[-0x1cd*0x1+-0x1872+0x1a47]=_0x27e34b*_0x1dd48f;}return this;}['transformV'+'ector'](_0x1bdf07,_0x3be55d=new A()){const _0x24dc9b=this['data'],{x:_0x1b781d,y:_0x5f51f2,z:_0x256ab2}=_0x1bdf07;return _0x3be55d['x']=_0x1b781d*_0x24dc9b[0xf17*-0x1+-0x418*0x8+0x1*0x2fd7]+_0x5f51f2*_0x24dc9b[-0x409+0x43*-0x92+0x4b2*0x9]+_0x256ab2*_0x24dc9b[-0x1*-0x5f1+0x11*-0x18e+0x1483*0x1],_0x3be55d['y']=_0x1b781d*_0x24dc9b[0xad9*0x1+0xb6a*0x1+0x4d*-0x4a]+_0x5f51f2*_0x24dc9b[-0x194*0x10+-0x9*0x53+0x1c2f]+_0x256ab2*_0x24dc9b[0x5*0x6d+-0x8db*0x1+-0x6c1*-0x1],_0x3be55d['z']=_0x1b781d*_0x24dc9b[0x1dd8+0x20*-0x19+-0x1ab6]+_0x5f51f2*_0x24dc9b[0x20e8+0x1*0x21eb+-0x42ce]+_0x256ab2*_0x24dc9b[-0x12ce+-0x2*-0x482+-0x6*-0x1a3],_0x3be55d;}};c(oa,'IDENTITY',Object['freeze'](new oa())),c(oa,'ZERO',Object['freeze'](new oa()['set']([-0x2401+0x1800+0xc01,-0x49*0x25+0xe6e+-0x3e1,0x365+0xad*-0x27+0x16f6,0x10a2+0x5*0x1b3+0x1*-0x1921,0x132c+-0x2*0xa75+0x1be*0x1,-0x1*0x20b6+0x5*-0x50b+0x39ed,0xaf+-0x1356+0x1*0x12a7,0x1*0x130a+0x86c+-0x1b76,-0xd59*0x1+-0x26d3+0x342c])));let Js=oa;const Pt=class Pt{constructor(_0x5c3f3c=0x5*0x220+-0xfb3+0x513,_0x47a52a=-0x4ce+-0x11ec+-0xb5d*-0x2){c(this,'x'),c(this,'y'),_0x5c3f3c['length']===0x1e8b+0x1a*0xac+-0x1*0x3001?(this['x']=_0x5c3f3c[-0x971+0x1*0x56+0x91b],this['y']=_0x5c3f3c[-0x1b0b+0xa15+-0x10f7*-0x1]):(this['x']=_0x5c3f3c,this['y']=_0x47a52a);}['add'](_0x557126){return this['x']+=_0x557126['x'],this['y']+=_0x557126['y'],this;}['add2'](_0x152211,_0xdc0fa8){return this['x']=_0x152211['x']+_0xdc0fa8['x'],this['y']=_0x152211['y']+_0xdc0fa8['y'],this;}['addScalar'](_0x255c62){return this['x']+=_0x255c62,this['y']+=_0x255c62,this;}['addScaled'](_0x272fc7,_0xc60758){return this['x']+=_0x272fc7['x']*_0xc60758,this['y']+=_0x272fc7['y']*_0xc60758,this;}['clone'](){const _0x50997b=this['constructo'+'r'];return new _0x50997b(this['x'],this['y']);}['copy'](_0x3bb561){return this['x']=_0x3bb561['x'],this['y']=_0x3bb561['y'],this;}['cross'](_0x342db3){return this['x']*_0x342db3['y']-this['y']*_0x342db3['x'];}['distance'](_0x40362c){const _0x3cd9c5=this['x']-_0x40362c['x'],_0x1f4ff4=this['y']-_0x40362c['y'];return Math['sqrt'](_0x3cd9c5*_0x3cd9c5+_0x1f4ff4*_0x1f4ff4);}['div'](_0x189342){return this['x']/=_0x189342['x'],this['y']/=_0x189342['y'],this;}['div2'](_0x575d20,_0x489f57){return this['x']=_0x575d20['x']/_0x489f57['x'],this['y']=_0x575d20['y']/_0x489f57['y'],this;}['divScalar'](_0x3e1191){return this['x']/=_0x3e1191,this['y']/=_0x3e1191,this;}['dot'](_0x6a6768){return this['x']*_0x6a6768['x']+this['y']*_0x6a6768['y'];}['equals'](_0x43b141){return this['x']===_0x43b141['x']&&this['y']===_0x43b141['y'];}['equalsAppr'+'ox'](_0x5f4eff,_0x1b3c07=0x12d1+-0x1cb1*0x1+0x1*0x9e0+0.000001){return Math['abs'](this['x']-_0x5f4eff['x'])<_0x1b3c07&&Math['abs'](this['y']-_0x5f4eff['y'])<_0x1b3c07;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x444359,_0x4b20a3,_0x372e90){return this['x']=_0x444359['x']+_0x372e90*(_0x4b20a3['x']-_0x444359['x']),this['y']=_0x444359['y']+_0x372e90*(_0x4b20a3['y']-_0x444359['y']),this;}['mul'](_0x2e9213){return this['x']*=_0x2e9213['x'],this['y']*=_0x2e9213['y'],this;}['mul2'](_0x1d4475,_0x285feb){return this['x']=_0x1d4475['x']*_0x285feb['x'],this['y']=_0x1d4475['y']*_0x285feb['y'],this;}['mulScalar'](_0x482fff){return this['x']*=_0x482fff,this['y']*=_0x482fff,this;}['normalize'](_0x19b7ac=this){const _0x25dcd7=_0x19b7ac['x']*_0x19b7ac['x']+_0x19b7ac['y']*_0x19b7ac['y'];if(_0x25dcd7>-0x431*0x8+0x1005+0x1183){const _0x7d2b56=(-0x1*-0xc09+-0x9c6*0x1+-0x242)/Math['sqrt'](_0x25dcd7);this['x']=_0x19b7ac['x']*_0x7d2b56,this['y']=_0x19b7ac['y']*_0x7d2b56;}return this;}['rotate'](_0x240681){const _0x3f8db7=Math['atan2'](this['x'],this['y'])+_0x240681*z['DEG_TO_RAD'],_0x39dcc3=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x3f8db7)*_0x39dcc3,this['y']=Math['cos'](_0x3f8db7)*_0x39dcc3,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*z['RAD_TO_DEG'];}['angleTo'](_0x5e09a2){return Math['atan2'](this['x']*_0x5e09a2['y']+this['y']*_0x5e09a2['x'],this['x']*_0x5e09a2['x']+this['y']*_0x5e09a2['y'])*z['RAD_TO_DEG'];}['floor'](_0x23f02e=this){return this['x']=Math['floor'](_0x23f02e['x']),this['y']=Math['floor'](_0x23f02e['y']),this;}['ceil'](_0x16352c=this){return this['x']=Math['ceil'](_0x16352c['x']),this['y']=Math['ceil'](_0x16352c['y']),this;}['round'](_0x28374a=this){return this['x']=Math['round'](_0x28374a['x']),this['y']=Math['round'](_0x28374a['y']),this;}['min'](_0x39ae4d){return _0x39ae4d['x']<this['x']&&(this['x']=_0x39ae4d['x']),_0x39ae4d['y']<this['y']&&(this['y']=_0x39ae4d['y']),this;}['max'](_0xfa57ed){return _0xfa57ed['x']>this['x']&&(this['x']=_0xfa57ed['x']),_0xfa57ed['y']>this['y']&&(this['y']=_0xfa57ed['y']),this;}['set'](_0x97dc6b,_0x833f9e){return this['x']=_0x97dc6b,this['y']=_0x833f9e,this;}['sub'](_0x10d65a){return this['x']-=_0x10d65a['x'],this['y']-=_0x10d65a['y'],this;}['sub2'](_0x1c4034,_0x922ae6){return this['x']=_0x1c4034['x']-_0x922ae6['x'],this['y']=_0x1c4034['y']-_0x922ae6['y'],this;}['subScalar'](_0x5aca6b){return this['x']-=_0x5aca6b,this['y']-=_0x5aca6b,this;}['fromArray'](_0x4bcf96,_0x4d2129=0x6e6+-0x22f6+0xe08*0x2){return this['x']=_0x4bcf96[_0x4d2129]??this['x'],this['y']=_0x4bcf96[_0x4d2129+(0x2212+-0x2*0x3d6+0x1a65*-0x1)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x4d06cc=[],_0xf5c084=-0x6*0x4e6+0x18b8+0x4ac){return _0x4d06cc[_0xf5c084]=this['x'],_0x4d06cc[_0xf5c084+(0x1133+-0xa1f*0x3+0xd2b*0x1)]=this['y'],_0x4d06cc;}static['angleRad'](_0x5c1061,_0x189daf){return Math['atan2'](_0x5c1061['x']*_0x189daf['y']-_0x5c1061['y']*_0x189daf['x'],_0x5c1061['x']*_0x189daf['x']+_0x5c1061['y']*_0x189daf['y']);}};c(Pt,'ZERO',Object['freeze'](new Pt(0x1*-0x1625+0x12a5+0x80*0x7,-0x1*0x1706+0xd80+0x2*0x4c3))),c(Pt,'HALF',Object['freeze'](new Pt(0xa57*0x1+-0x918+0x1d*-0xb+0.5,0x1f*0x62+0x17b2+-0x2390+0.5))),c(Pt,'ONE',Object['freeze'](new Pt(0x7*-0x2d4+0x1f89+-0xbbc,0x10*-0x1eb+-0xb0c+0x29bd))),c(Pt,'UP',Object['freeze'](new Pt(-0x1fa+-0x7*-0x49b+0x1*-0x1e43,0x63f+-0xa7b+-0xd9*-0x5))),c(Pt,'DOWN',Object['freeze'](new Pt(-0x1*-0x132d+-0x1*-0xb51+-0x1e7e,-(-0x4b9+0x148d+-0xfd3)))),c(Pt,'RIGHT',Object['freeze'](new Pt(0x361*-0x7+-0x1d1a+0x1*0x34c2,-0x1a1b+0x2*-0x251+0x1ebd*0x1))),c(Pt,'LEFT',Object['freeze'](new Pt(-(-0x1327+0xdcd*-0x1+0x1*0x20f5),0x178a+0x1*0x173c+-0x2ec6)));let W=Pt;const Zi=class Zi{constructor(_0x5c12f6=-0x1*0x145d+-0x3*-0x8eb+-0x664,_0x92bbc7=-0x1392+0x7df+0xbb3,_0x47e10b=-0x81*0x8+-0x637+0xa3f,_0x49ce4e=0x1*0x829+0x258d+-0x1*0x2db6){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x5c12f6['length']===0x21e*-0x8+0x5b5+-0xb3f*-0x1?(this['x']=_0x5c12f6[-0x1ee9+0x9*0xe9+-0x1*-0x16b8],this['y']=_0x5c12f6[0x795+0x223+-0x33d*0x3],this['z']=_0x5c12f6[-0x1*-0x23ad+-0xb89*-0x3+-0x23*0x202],this['w']=_0x5c12f6[0xb58+0xecc+-0x1a21]):(this['x']=_0x5c12f6,this['y']=_0x92bbc7,this['z']=_0x47e10b,this['w']=_0x49ce4e);}['add'](_0x18f975){return this['x']+=_0x18f975['x'],this['y']+=_0x18f975['y'],this['z']+=_0x18f975['z'],this['w']+=_0x18f975['w'],this;}['add2'](_0x5cc5f6,_0x487a0c){return this['x']=_0x5cc5f6['x']+_0x487a0c['x'],this['y']=_0x5cc5f6['y']+_0x487a0c['y'],this['z']=_0x5cc5f6['z']+_0x487a0c['z'],this['w']=_0x5cc5f6['w']+_0x487a0c['w'],this;}['addScalar'](_0x2be6b1){return this['x']+=_0x2be6b1,this['y']+=_0x2be6b1,this['z']+=_0x2be6b1,this['w']+=_0x2be6b1,this;}['addScaled'](_0x20ee7a,_0x42a12f){return this['x']+=_0x20ee7a['x']*_0x42a12f,this['y']+=_0x20ee7a['y']*_0x42a12f,this['z']+=_0x20ee7a['z']*_0x42a12f,this['w']+=_0x20ee7a['w']*_0x42a12f,this;}['clone'](){const _0x5815e8=this['constructo'+'r'];return new _0x5815e8(this['x'],this['y'],this['z'],this['w']);}['copy'](_0xa6b834){return this['x']=_0xa6b834['x'],this['y']=_0xa6b834['y'],this['z']=_0xa6b834['z'],this['w']=_0xa6b834['w'],this;}['div'](_0x2614ba){return this['x']/=_0x2614ba['x'],this['y']/=_0x2614ba['y'],this['z']/=_0x2614ba['z'],this['w']/=_0x2614ba['w'],this;}['div2'](_0x19f27f,_0xb69e5c){return this['x']=_0x19f27f['x']/_0xb69e5c['x'],this['y']=_0x19f27f['y']/_0xb69e5c['y'],this['z']=_0x19f27f['z']/_0xb69e5c['z'],this['w']=_0x19f27f['w']/_0xb69e5c['w'],this;}['divScalar'](_0x48ad3d){return this['x']/=_0x48ad3d,this['y']/=_0x48ad3d,this['z']/=_0x48ad3d,this['w']/=_0x48ad3d,this;}['dot'](_0x12af30){return this['x']*_0x12af30['x']+this['y']*_0x12af30['y']+this['z']*_0x12af30['z']+this['w']*_0x12af30['w'];}['equals'](_0x1f96b2){return this['x']===_0x1f96b2['x']&&this['y']===_0x1f96b2['y']&&this['z']===_0x1f96b2['z']&&this['w']===_0x1f96b2['w'];}['equalsAppr'+'ox'](_0x143d2d,_0x409714=0x59f*-0x5+0xdba+0x1*0xe61+0.000001){return Math['abs'](this['x']-_0x143d2d['x'])<_0x409714&&Math['abs'](this['y']-_0x143d2d['y'])<_0x409714&&Math['abs'](this['z']-_0x143d2d['z'])<_0x409714&&Math['abs'](this['w']-_0x143d2d['w'])<_0x409714;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x4188a0,_0x37da0f,_0x3c3958){return this['x']=_0x4188a0['x']+_0x3c3958*(_0x37da0f['x']-_0x4188a0['x']),this['y']=_0x4188a0['y']+_0x3c3958*(_0x37da0f['y']-_0x4188a0['y']),this['z']=_0x4188a0['z']+_0x3c3958*(_0x37da0f['z']-_0x4188a0['z']),this['w']=_0x4188a0['w']+_0x3c3958*(_0x37da0f['w']-_0x4188a0['w']),this;}['mul'](_0x5bc8f5){return this['x']*=_0x5bc8f5['x'],this['y']*=_0x5bc8f5['y'],this['z']*=_0x5bc8f5['z'],this['w']*=_0x5bc8f5['w'],this;}['mul2'](_0x5a1c75,_0x4375e7){return this['x']=_0x5a1c75['x']*_0x4375e7['x'],this['y']=_0x5a1c75['y']*_0x4375e7['y'],this['z']=_0x5a1c75['z']*_0x4375e7['z'],this['w']=_0x5a1c75['w']*_0x4375e7['w'],this;}['mulScalar'](_0x4a7016){return this['x']*=_0x4a7016,this['y']*=_0x4a7016,this['z']*=_0x4a7016,this['w']*=_0x4a7016,this;}['normalize'](_0x50fd9d=this){const _0x4164e0=_0x50fd9d['x']*_0x50fd9d['x']+_0x50fd9d['y']*_0x50fd9d['y']+_0x50fd9d['z']*_0x50fd9d['z']+_0x50fd9d['w']*_0x50fd9d['w'];if(_0x4164e0>0x6f1*-0x1+-0xd06+0x13f7*0x1){const _0x68ac2=(-0x4*0x4dc+0x1*-0x18eb+0xa7*0x44)/Math['sqrt'](_0x4164e0);this['x']=_0x50fd9d['x']*_0x68ac2,this['y']=_0x50fd9d['y']*_0x68ac2,this['z']=_0x50fd9d['z']*_0x68ac2,this['w']=_0x50fd9d['w']*_0x68ac2;}return this;}['floor'](_0x1e96e8=this){return this['x']=Math['floor'](_0x1e96e8['x']),this['y']=Math['floor'](_0x1e96e8['y']),this['z']=Math['floor'](_0x1e96e8['z']),this['w']=Math['floor'](_0x1e96e8['w']),this;}['ceil'](_0x230b23=this){return this['x']=Math['ceil'](_0x230b23['x']),this['y']=Math['ceil'](_0x230b23['y']),this['z']=Math['ceil'](_0x230b23['z']),this['w']=Math['ceil'](_0x230b23['w']),this;}['round'](_0xcbae54=this){return this['x']=Math['round'](_0xcbae54['x']),this['y']=Math['round'](_0xcbae54['y']),this['z']=Math['round'](_0xcbae54['z']),this['w']=Math['round'](_0xcbae54['w']),this;}['min'](_0x193a97){return _0x193a97['x']<this['x']&&(this['x']=_0x193a97['x']),_0x193a97['y']<this['y']&&(this['y']=_0x193a97['y']),_0x193a97['z']<this['z']&&(this['z']=_0x193a97['z']),_0x193a97['w']<this['w']&&(this['w']=_0x193a97['w']),this;}['max'](_0x1d0b5f){return _0x1d0b5f['x']>this['x']&&(this['x']=_0x1d0b5f['x']),_0x1d0b5f['y']>this['y']&&(this['y']=_0x1d0b5f['y']),_0x1d0b5f['z']>this['z']&&(this['z']=_0x1d0b5f['z']),_0x1d0b5f['w']>this['w']&&(this['w']=_0x1d0b5f['w']),this;}['set'](_0x3ab701,_0x410116,_0x53bd5f,_0x4e9d08){return this['x']=_0x3ab701,this['y']=_0x410116,this['z']=_0x53bd5f,this['w']=_0x4e9d08,this;}['sub'](_0x9d6c00){return this['x']-=_0x9d6c00['x'],this['y']-=_0x9d6c00['y'],this['z']-=_0x9d6c00['z'],this['w']-=_0x9d6c00['w'],this;}['sub2'](_0x4082ae,_0x36d071){return this['x']=_0x4082ae['x']-_0x36d071['x'],this['y']=_0x4082ae['y']-_0x36d071['y'],this['z']=_0x4082ae['z']-_0x36d071['z'],this['w']=_0x4082ae['w']-_0x36d071['w'],this;}['subScalar'](_0x13c115){return this['x']-=_0x13c115,this['y']-=_0x13c115,this['z']-=_0x13c115,this['w']-=_0x13c115,this;}['fromArray'](_0x46cf8d,_0x20e3a5=-0x1605+0x1839*-0x1+0x171f*0x2){return this['x']=_0x46cf8d[_0x20e3a5]??this['x'],this['y']=_0x46cf8d[_0x20e3a5+(0x19d*0x4+-0x1*0x23ef+0x1*0x1d7c)]??this['y'],this['z']=_0x46cf8d[_0x20e3a5+(0x5*-0x684+0x1*0x1db3+0x2e3)]??this['z'],this['w']=_0x46cf8d[_0x20e3a5+(0x1b90+-0x4*0x4f7+0xb3*-0xb)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x4c691a=[],_0x4a3961=0x1*-0x23c9+0x10a9+0x1320){return _0x4c691a[_0x4a3961]=this['x'],_0x4c691a[_0x4a3961+(0x1*-0x1a23+-0xa1*0xe+0x47*0x7e)]=this['y'],_0x4c691a[_0x4a3961+(-0x2545+0x3d*-0x29+-0x2f0c*-0x1)]=this['z'],_0x4c691a[_0x4a3961+(0xb42+-0x695*-0x3+-0x1efe)]=this['w'],_0x4c691a;}};c(Zi,'ZERO',Object['freeze'](new Zi(0x16f6+0xc5*0x15+-0x1*0x271f,0x37e*0x1+0x1d95+-0x2113*0x1,-0x1576+-0x26a7+0x3c1d,0x5*0x185+-0x1*-0x10d5+-0x186e))),c(Zi,'HALF',Object['freeze'](new Zi(0x1d36*0x1+0x12e6+-0x301c+0.5,-0x7*0xec+0x1a45+0x59*-0x39+0.5,0x2*0xcf1+-0xa*-0xfb+-0x23b0+0.5,-0x611+0x97*0x6+0x1*0x287+0.5))),c(Zi,'ONE',Object['freeze'](new Zi(-0xc11*0x3+0x1595+0x13*0xc5,-0x241c+-0x23d+0x265a,0xde+0x1a65+-0x1b42,0x1c*0x112+0x19da*0x1+-0x37d1)));let ee=Zi;const Wa=new W(),ys=new A(),zs=new A(),Us=new A(),vl=new A(),Vr=class Vr{constructor(){c(this,'data',new Float32Array(-0x2309+-0xdf9+-0x476*-0xb)),this['data'][0x115c+0x3*-0x45d+-0x445]=this['data'][0x2*-0x853+-0x23*-0xe3+-0xe5e]=this['data'][-0x78c+-0xa1*0x3c+0x2d52]=this['data'][-0x63a+-0x1603+0x1c4c]=-0x15*-0x42+0x1820+-0x1d89*0x1;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x25d3c9,_0x530588,_0x4ad92f,_0x559ecb,_0x18ae3b){_0x18ae3b?(_0x25d3c9['x']=_0x559ecb*Math['tan'](_0x530588*Math['PI']/(0x1*0x300+0x92b*0x2+-0x13ee)),_0x25d3c9['y']=_0x25d3c9['x']/_0x4ad92f):(_0x25d3c9['y']=_0x559ecb*Math['tan'](_0x530588*Math['PI']/(-0x22cc+-0x22b*0xd+-0x4063*-0x1)),_0x25d3c9['x']=_0x25d3c9['y']*_0x4ad92f);}['add2'](_0x5294fc,_0x34e64c){const _0x30ce24=_0x5294fc['data'],_0x3a64cf=_0x34e64c['data'],_0x40ab2a=this['data'];return _0x40ab2a[-0x824+-0x1f15+-0xd13*-0x3]=_0x30ce24[0x174+-0x24b1+0x233d]+_0x3a64cf[-0xe31+-0x5*-0x455+-0x778*0x1],_0x40ab2a[-0x19f*0xc+0x1a7b*-0x1+0x16f8*0x2]=_0x30ce24[-0x1f54+0x1eab+-0x22*-0x5]+_0x3a64cf[-0xbdb*0x3+-0x5*0x15+0x23fb],_0x40ab2a[0xb9*0x2+0xb6c+-0xcdc]=_0x30ce24[-0x1*-0x1be2+0x4d6+-0x2*0x105b]+_0x3a64cf[-0x17+-0x140+-0x3*-0x73],_0x40ab2a[0xe14*-0x2+0x25c*0x7+0xba7]=_0x30ce24[0x1f*0x127+-0xbf5+-0x1*0x17c1]+_0x3a64cf[-0x1*-0x10a8+-0x1b28+0x1*0xa83],_0x40ab2a[0x25c7*-0x1+-0x79b+0x2d66]=_0x30ce24[-0x1e61+0x1939+0x52c]+_0x3a64cf[0x258f+-0x232*-0x1+0x27bd*-0x1],_0x40ab2a[-0x5df+0x103*0x20+-0xf*0x1c4]=_0x30ce24[0x1*-0x125f+-0x3*-0x7a4+-0x488]+_0x3a64cf[0x13b2+0x174a+-0x287*0x11],_0x40ab2a[0x1f71+-0x8b3+-0x16b8]=_0x30ce24[-0x22e1+-0x11c7*-0x1+-0x89*-0x20]+_0x3a64cf[0x19d*0x15+-0x2693+-0x97*-0x8],_0x40ab2a[-0x584*0x4+-0x2*-0x12d1+-0xf8b]=_0x30ce24[-0x1684+0xa6*-0x2b+-0x10cf*-0x3]+_0x3a64cf[-0x22ea*-0x1+-0x2689+0x1d3*0x2],_0x40ab2a[-0x10ac+0x262b+0x1*-0x1577]=_0x30ce24[0x1*0x1def+-0x2f*0x26+-0x16ed*0x1]+_0x3a64cf[0x61b*0x5+0x226b+-0x40ea],_0x40ab2a[-0x96+0x4*-0x551+0x15e3]=_0x30ce24[-0x815+-0x26a7+0x399*0xd]+_0x3a64cf[0x1cf0+-0x2436+0x74f],_0x40ab2a[0xaa1+0xf1f+-0x892*0x3]=_0x30ce24[0xec2+0x496+-0x134e]+_0x3a64cf[-0x4a2*0x1+-0x3ab+0x7*0x131],_0x40ab2a[0x175*-0xe+-0xae*-0x2a+-0x81b]=_0x30ce24[0x18a9+-0x1518+0x1*-0x386]+_0x3a64cf[0x1aa6*-0x1+0xf2f+0xb82],_0x40ab2a[0x1610+0x1*0x240f+0x3a13*-0x1]=_0x30ce24[0x48a*0x2+-0x6ff*-0x1+0xb*-0x175]+_0x3a64cf[0x1*0x1bcd+0xa79+-0x263a],_0x40ab2a[0x2101+0xd20+0x4*-0xb85]=_0x30ce24[-0x62b+0x1964+0x332*-0x6]+_0x3a64cf[-0x1*0xc5d+-0x287*-0x6+0x40*-0xb],_0x40ab2a[0x24d8+0x47f*-0x1+0x204b*-0x1]=_0x30ce24[-0x389+-0xbb0+0xf47]+_0x3a64cf[-0x2421+-0x21*-0x107+0x248],_0x40ab2a[-0x15ff+-0xd7b*-0x1+0x893]=_0x30ce24[0xbb*0x14+-0x8b4*0x3+0xb8f]+_0x3a64cf[0x2507+0x1d49+-0x1*0x4241],this;}['add'](_0x542538){return this['add2'](this,_0x542538);}['clone'](){const _0x5b559b=this['constructo'+'r'];return new _0x5b559b()['copy'](this);}['copy'](_0xbf4281){const _0x5a2a5c=_0xbf4281['data'],_0x3b6d04=this['data'];return _0x3b6d04[0x215b+-0x648+-0x1b13]=_0x5a2a5c[-0x6*0x5ae+0xf2*0x7+0x1b76],_0x3b6d04[0x21de+0x2*-0x1011+-0x1bb]=_0x5a2a5c[-0x813+-0x11b*-0x16+-0x12*0xe7],_0x3b6d04[-0x1*-0x7c3+0xcb2+-0x1473*0x1]=_0x5a2a5c[-0x1e6a+0x21*0x11b+-0x60f],_0x3b6d04[0x10e1+-0x1*0x77f+-0x95f]=_0x5a2a5c[-0x1532+0x26dc+-0x11a7*0x1],_0x3b6d04[0x1*-0x11ea+-0x12f4+0x1*0x24e2]=_0x5a2a5c[0x1b*0x10a+-0x4f*-0x1d+-0x22d*0x11],_0x3b6d04[-0x1*0x12ff+0x21d4+0x18*-0x9e]=_0x5a2a5c[0xbca+0x2381+-0x2f46],_0x3b6d04[-0x1f69+0x82*0x45+-0x1*0x39b]=_0x5a2a5c[0x117c+-0x11*0x236+-0x1c*-0xb8],_0x3b6d04[-0xdeb*-0x1+-0x16e5+-0x901*-0x1]=_0x5a2a5c[0x1*0xe56+-0xb*0x25d+0x176*0x8],_0x3b6d04[-0x2648+-0x738+-0x4*-0xb62]=_0x5a2a5c[-0x11e3*0x1+-0x1f*-0x1+0x11cc],_0x3b6d04[-0x156b+0x18b7+0xa7*-0x5]=_0x5a2a5c[-0x1466*0x1+0x204a*0x1+-0xbdb],_0x3b6d04[0x11b+0x7cc*-0x4+-0x2bd*-0xb]=_0x5a2a5c[0x1dae+0x1e57+0x19f*-0x25],_0x3b6d04[-0x1824+0x6c7*-0x1+0x2*0xf7b]=_0x5a2a5c[0x429+-0x7*0x14b+0x4ef*0x1],_0x3b6d04[0x125e*0x1+0x19f*0x11+-0x2de1]=_0x5a2a5c[0x38c*0xa+-0x18*-0x191+-0x4904],_0x3b6d04[-0x11c*0x4+-0x1106+0x1583]=_0x5a2a5c[-0x25a9+-0x1084+-0x2*-0x1b1d],_0x3b6d04[0x134f+-0x5aa*0x1+-0xd97]=_0x5a2a5c[-0x13ab+-0x4*0x5ba+0x7*0x617],_0x3b6d04[-0xcbf+-0x1fb6+0x2c84]=_0x5a2a5c[0x1*0x18d+0x65e+-0x2*0x3ee],this;}['equals'](_0x54ae71){const _0x166ad2=this['data'],_0x558534=_0x54ae71['data'];return _0x166ad2[0x49*-0x8+0xa55*-0x3+-0x1*-0x2147]===_0x558534[0x1cd0+-0x201*0x1+-0x1acf]&&_0x166ad2[0x19*0x1b+-0x105*-0xb+-0x2c5*0x5]===_0x558534[-0xab2+-0x1076+0x1b29]&&_0x166ad2[0x3d5+-0x295+-0x13e]===_0x558534[-0x46*0x7+0xc7*-0x2a+-0x5*-0x6ea]&&_0x166ad2[0x11be+-0x44b+-0xd70]===_0x558534[0x1e24+0x8eb+0x270c*-0x1]&&_0x166ad2[0x2462+-0xb87*0x1+-0x18d7]===_0x558534[0x248+0x27b+-0x4bf*0x1]&&_0x166ad2[-0x1*-0x11d7+0x522+-0x16f4]===_0x558534[0x2274+0x1a9d+-0x3d0c]&&_0x166ad2[-0x11e8+-0x6*0x527+0x30d8]===_0x558534[-0xbf+-0x124d+0x1312]&&_0x166ad2[-0x6af+0x313*-0x5+-0x1*-0x1615]===_0x558534[0x3*-0x51b+0x945*-0x3+0x2b27]&&_0x166ad2[-0x16d*-0x12+0xf86+-0x2928]===_0x558534[0x587*0x6+-0xfc1*0x2+-0x1a0]&&_0x166ad2[-0x2*0xb87+0x1543+0x1d4]===_0x558534[0x1aeb+0x2eb*-0x3+0x77*-0x27]&&_0x166ad2[-0xcc7+-0xcf+0xda0]===_0x558534[0x1ea9+0xbd5+-0x2a74]&&_0x166ad2[0x2*0x547+0x3*0x773+0x106e*-0x2]===_0x558534[-0x14*0x15b+-0x21c0+0x3ce7]&&_0x166ad2[-0x1b4a+-0x75+0x1bcb]===_0x558534[0x59*-0x20+-0x1e42+0x296e]&&_0x166ad2[-0x6b+0x1e4+0xe*-0x1a]===_0x558534[0x1*0x2232+-0x1*0xaa9+-0x177c]&&_0x166ad2[-0x1a10+0x5*-0x8+-0x162*-0x13]===_0x558534[0x1d98+0x116b+-0x2ef5]&&_0x166ad2[0xf47+-0x1be8+0xcb0]===_0x558534[0x1107+0x57b*0x7+-0x3755];}['isIdentity'](){const _0x26461a=this['data'];return _0x26461a[0x1e7d+-0xd82+-0x10fb]===0x13f1*0x1+0x7de*-0x2+-0x434&&_0x26461a[0x10fa+-0x2d8+0xe21*-0x1]===0x5*0x6f1+0x129f+-0x3554&&_0x26461a[-0x1*0x35c+-0x895+-0x7*-0x1b5]===-0xf1*-0x21+0x675*-0x3+-0xbb2&&_0x26461a[0xf6+0x2e*0x1a+-0x59f]===0x34a+-0x16f9+-0x13af*-0x1&&_0x26461a[0x13*-0x20b+0x1db7+0x91e]===-0x1*0x1bde+-0xc8a+0x2868&&_0x26461a[-0xd7+-0xc*-0x165+-0xfe0]===-0x1afc+-0xaee+0x25eb&&_0x26461a[0x1*0x236b+0x1992+-0x3cf7]===0x9f+0x1d3b*0x1+-0x1*0x1dda&&_0x26461a[0x9d+0x5f5+0x14f*-0x5]===0x3e3+-0xd3c+0x1*0x959&&_0x26461a[0x1c5e+-0x1fdd+-0x7*-0x81]===0xc6+-0x500*0x4+0x133a&&_0x26461a[0x1faf+-0x221c+0x3*0xd2]===-0x2*0xdc+0x17*-0x77+-0x1*-0xc69&&_0x26461a[0x3*-0x6c5+0x607*-0x2+0x2067*0x1]===-0x2*0xab6+0x1924+-0x3*0x13d&&_0x26461a[0x8*0x12+-0x2*0xb20+0x15bb]===-0x1350+-0x1*-0x2565+-0x607*0x3&&_0x26461a[0x1*0x4f9+0x23b9+0x1*-0x28a6]===0xe19+0x1397+-0x21b0&&_0x26461a[-0x14*-0x1eb+-0x13cb+0x18b*-0xc]===0x2564+-0x1*0x269b+-0x137*-0x1&&_0x26461a[0x1c*-0x1f+0x107*0xb+-0x1*0x7db]===-0xacd+-0xb26*-0x2+-0xb7f&&_0x26461a[-0x6d0+-0x1*-0x1d6+0x509]===0x1*0x17d2+0xdba*-0x1+0x15*-0x7b;}['mul2'](_0x178dec,_0x164b3e){const _0x351353=_0x178dec['data'],_0x32b8df=_0x164b3e['data'],_0x792165=this['data'],_0x584cea=_0x351353[0x4a6+-0xc32+-0x7*-0x114],_0xdcca35=_0x351353[0x196b+-0x23c8+0xa5e],_0x148a2f=_0x351353[-0x8d9+0x82*0x1b+-0x4db],_0x59c0fb=_0x351353[-0x15d6+-0x1477+0x2a50],_0xde2c7=_0x351353[-0x2027*0x1+0x1d6f+0x2bc],_0x501aaa=_0x351353[0x741*-0x3+0x2*0x49c+-0x8*-0x192],_0x142ac7=_0x351353[0xb7d+-0x739*0x1+0xb5*-0x6],_0xcb1cc6=_0x351353[-0x1*-0x2d1+-0x1e58+0x2*0xdc7],_0x530ca8=_0x351353[-0x13*0x115+0x6d*-0x59+0x3a7c],_0x5e25b4=_0x351353[0x1d*0x61+0x1126+-0x1c1a],_0x28ceb4=_0x351353[-0x2ab*-0x7+-0x1ee1+-0xc3e*-0x1],_0x1b55fe=_0x351353[0x53*0x59+0x736+-0x2406],_0x46b12f=_0x351353[-0x1e4b+-0x617+-0x1237*-0x2],_0x2ad720=_0x351353[-0x2*-0xfda+-0x1fdf+0x8*0x7],_0x263bd9=_0x351353[-0x1*-0x246f+-0x17*0x56+-0x1ca7],_0x5e44df=_0x351353[-0x33f+-0x1*-0x221c+-0x2*0xf67];let _0xbb6373,_0x2af125,_0x1f3435,_0x46888;return _0xbb6373=_0x32b8df[-0xf53*0x1+0x16a*-0x2+0x1227],_0x2af125=_0x32b8df[-0x207f+0x1436+0xc4a],_0x1f3435=_0x32b8df[-0x3*-0xc5+-0xf0c+0xcbf],_0x46888=_0x32b8df[-0x20be+0x121f+-0x751*-0x2],_0x792165[-0x1227+0xe02*-0x1+-0x2029*-0x1]=_0x584cea*_0xbb6373+_0xde2c7*_0x2af125+_0x530ca8*_0x1f3435+_0x46b12f*_0x46888,_0x792165[0x1*-0xf13+0x9ad*0x3+0xdf3*-0x1]=_0xdcca35*_0xbb6373+_0x501aaa*_0x2af125+_0x5e25b4*_0x1f3435+_0x2ad720*_0x46888,_0x792165[-0x8a4+0xd83+-0x4dd]=_0x148a2f*_0xbb6373+_0x142ac7*_0x2af125+_0x28ceb4*_0x1f3435+_0x263bd9*_0x46888,_0x792165[-0x20d2*0x1+-0x403*0x8+-0x5e7*-0xb]=_0x59c0fb*_0xbb6373+_0xcb1cc6*_0x2af125+_0x1b55fe*_0x1f3435+_0x5e44df*_0x46888,_0xbb6373=_0x32b8df[-0x6*0x2fe+-0x1481*-0x1+0x289*-0x1],_0x2af125=_0x32b8df[0x2586+-0x25e7+-0x1*-0x66],_0x1f3435=_0x32b8df[0x14eb+0x21d6+-0x36bb*0x1],_0x46888=_0x32b8df[0xd86+0xa6d*-0x2+0x75b],_0x792165[0x2355*-0x1+-0x1*-0x248a+-0x3d*0x5]=_0x584cea*_0xbb6373+_0xde2c7*_0x2af125+_0x530ca8*_0x1f3435+_0x46b12f*_0x46888,_0x792165[-0xfdc+-0x1dcc+-0x1*-0x2dad]=_0xdcca35*_0xbb6373+_0x501aaa*_0x2af125+_0x5e25b4*_0x1f3435+_0x2ad720*_0x46888,_0x792165[0x19e2+0x8*-0x45c+0x904]=_0x148a2f*_0xbb6373+_0x142ac7*_0x2af125+_0x28ceb4*_0x1f3435+_0x263bd9*_0x46888,_0x792165[-0xf5e+-0x3*-0xcb5+-0x16ba]=_0x59c0fb*_0xbb6373+_0xcb1cc6*_0x2af125+_0x1b55fe*_0x1f3435+_0x5e44df*_0x46888,_0xbb6373=_0x32b8df[-0x1*0x3d7+-0x4c7+0x8a6],_0x2af125=_0x32b8df[-0x2003+0x1af7+0x515*0x1],_0x1f3435=_0x32b8df[0x1ec2+-0x1392+-0xb26],_0x46888=_0x32b8df[-0x1*0x1f8c+-0x11d3+0x316a],_0x792165[-0x17c2+0x107*0xe+0x968]=_0x584cea*_0xbb6373+_0xde2c7*_0x2af125+_0x530ca8*_0x1f3435+_0x46b12f*_0x46888,_0x792165[-0x241d+0x419*0x1+0x200d]=_0xdcca35*_0xbb6373+_0x501aaa*_0x2af125+_0x5e25b4*_0x1f3435+_0x2ad720*_0x46888,_0x792165[0x1cce+0xb39*-0x3+0xfb*0x5]=_0x148a2f*_0xbb6373+_0x142ac7*_0x2af125+_0x28ceb4*_0x1f3435+_0x263bd9*_0x46888,_0x792165[-0x2*0xfe9+-0x1d3*-0x1+-0x301*-0xa]=_0x59c0fb*_0xbb6373+_0xcb1cc6*_0x2af125+_0x1b55fe*_0x1f3435+_0x5e44df*_0x46888,_0xbb6373=_0x32b8df[-0x3*0xb61+0xe2*0x1a+0xb3b],_0x2af125=_0x32b8df[-0x2*-0x1148+0x2079+-0x42fc],_0x1f3435=_0x32b8df[-0x123*0xd+-0xd1*0x11+-0x20d*-0xe],_0x46888=_0x32b8df[-0x2*0xc5a+-0x758+0x201b],_0x792165[0x45*-0x82+0x14d8+-0x71f*-0x2]=_0x584cea*_0xbb6373+_0xde2c7*_0x2af125+_0x530ca8*_0x1f3435+_0x46b12f*_0x46888,_0x792165[-0x2f*0x2f+0xe13+-0x565*0x1]=_0xdcca35*_0xbb6373+_0x501aaa*_0x2af125+_0x5e25b4*_0x1f3435+_0x2ad720*_0x46888,_0x792165[-0x16cc+0x2e*0xd1+-0xeb4]=_0x148a2f*_0xbb6373+_0x142ac7*_0x2af125+_0x28ceb4*_0x1f3435+_0x263bd9*_0x46888,_0x792165[0x7f7*-0x1+0x76a+-0x4e*-0x2]=_0x59c0fb*_0xbb6373+_0xcb1cc6*_0x2af125+_0x1b55fe*_0x1f3435+_0x5e44df*_0x46888,this;}['mulAffine2'](_0xe15da5,_0x39555d){const _0x27bed2=_0xe15da5['data'],_0x2565cf=_0x39555d['data'],_0x371856=this['data'],_0x5a601d=_0x27bed2[0x79*-0x11+0xa*0x13d+-0x459],_0x1ba698=_0x27bed2[-0x6a9*0x3+0x82e+0xbce*0x1],_0x4d10af=_0x27bed2[-0x115*-0x1a+-0x2648+0xd*0xc8],_0x1e032a=_0x27bed2[-0x2*-0x10f3+0x1eb*0x1+0xeb*-0x27],_0x208931=_0x27bed2[0x13af+-0x1e69+-0x1*-0xabf],_0x36f60a=_0x27bed2[-0x12d*-0x1+0x1*-0x1aac+0x1985],_0xa4c817=_0x27bed2[0x24f7+0x207d*-0x1+-0x472],_0x12bbf0=_0x27bed2[0x17f+-0xb*0x34a+0x22b8],_0x407186=_0x27bed2[0x2e*-0x11+0x1*-0x18e+0x4a6],_0x15df1c=_0x27bed2[0x764+0x1d07+0x1*-0x245f],_0x13bff1=_0x27bed2[0x5*-0x621+0xdf*-0x11+0x2d81],_0x1888cc=_0x27bed2[-0x530+-0x144a+-0x13*-0x158];let _0x1cd312,_0x3473af,_0x24e9b1;return _0x1cd312=_0x2565cf[-0xc5b+-0x1*-0x202d+0x1*-0x13d2],_0x3473af=_0x2565cf[-0x1b08+-0x1e19+0x3922*0x1],_0x24e9b1=_0x2565cf[0x2295+-0xd78+-0x151b*0x1],_0x371856[0x84*-0x4a+0x1*-0x1559+0x3b81]=_0x5a601d*_0x1cd312+_0x1e032a*_0x3473af+_0xa4c817*_0x24e9b1,_0x371856[-0x202*-0xd+-0x1810+-0x1*0x209]=_0x1ba698*_0x1cd312+_0x208931*_0x3473af+_0x12bbf0*_0x24e9b1,_0x371856[0xfdd+-0x97*0x1d+0x140]=_0x4d10af*_0x1cd312+_0x36f60a*_0x3473af+_0x407186*_0x24e9b1,_0x371856[-0x120+-0x1e7c*0x1+-0x5*-0x653]=0x2*0x841+0x1e31+0x5*-0x957,_0x1cd312=_0x2565cf[-0xd56+0x16d3+-0x979],_0x3473af=_0x2565cf[-0x7e2+0x1452+-0x121*0xb],_0x24e9b1=_0x2565cf[-0x1c98+-0x6*0x158+0x24ae],_0x371856[-0xe55+-0x1ae0+-0x2939*-0x1]=_0x5a601d*_0x1cd312+_0x1e032a*_0x3473af+_0xa4c817*_0x24e9b1,_0x371856[0x1b0+-0xedc+0xd31]=_0x1ba698*_0x1cd312+_0x208931*_0x3473af+_0x12bbf0*_0x24e9b1,_0x371856[-0x501*0x4+-0x1e*0xf9+0x3138*0x1]=_0x4d10af*_0x1cd312+_0x36f60a*_0x3473af+_0x407186*_0x24e9b1,_0x371856[0x2447+0x1f*-0xbb+-0x489*0x3]=-0xe0c+0x342*0x3+-0x1*-0x446,_0x1cd312=_0x2565cf[-0x11d1+-0x2f4+0x14cd],_0x3473af=_0x2565cf[0x22d*-0x7+-0x446+-0x1*-0x138a],_0x24e9b1=_0x2565cf[-0x1e44+-0x257e*-0x1+-0x730],_0x371856[-0xc17+0x1f*0x35+-0xa*-0x92]=_0x5a601d*_0x1cd312+_0x1e032a*_0x3473af+_0xa4c817*_0x24e9b1,_0x371856[0x7c6*0x1+-0x1da4+0x3f*0x59]=_0x1ba698*_0x1cd312+_0x208931*_0x3473af+_0x12bbf0*_0x24e9b1,_0x371856[-0x371+-0x1*0x1ade+0x1e59]=_0x4d10af*_0x1cd312+_0x36f60a*_0x3473af+_0x407186*_0x24e9b1,_0x371856[-0x5*-0x18f+0xaa9+-0x623*0x3]=0x1*-0x995+0xa3+-0x479*-0x2,_0x1cd312=_0x2565cf[-0x2*-0xbe1+0x1c*0xbf+0x164d*-0x2],_0x3473af=_0x2565cf[0x2401+-0x1241*-0x2+-0x4876],_0x24e9b1=_0x2565cf[-0x1157*0x2+0x256c+0x2b*-0x10],_0x371856[-0xd8b*-0x1+0x94c+-0x1*0x16cb]=_0x5a601d*_0x1cd312+_0x1e032a*_0x3473af+_0xa4c817*_0x24e9b1+_0x15df1c,_0x371856[0x22e2+-0x21ee+0xb*-0x15]=_0x1ba698*_0x1cd312+_0x208931*_0x3473af+_0x12bbf0*_0x24e9b1+_0x13bff1,_0x371856[-0x8b2*0x4+0x3e7+0x1eef]=_0x4d10af*_0x1cd312+_0x36f60a*_0x3473af+_0x407186*_0x24e9b1+_0x1888cc,_0x371856[-0x12cd*0x1+0x89*-0x17+0x1f2b]=-0x11f+0x7e9+-0x9*0xc1,this;}['mul'](_0x3deb91){return this['mul2'](this,_0x3deb91);}['transformP'+'oint'](_0x1cac34,_0x435079=new A()){const _0x2e19de=this['data'],{x:_0x288d3a,y:_0x11fd29,z:_0x1eb00d}=_0x1cac34;return _0x435079['x']=_0x288d3a*_0x2e19de[0x5*-0x5d9+0x1813+0x52a]+_0x11fd29*_0x2e19de[-0x1*-0xf3d+-0x8*-0x2a5+-0x2461]+_0x1eb00d*_0x2e19de[0xda9+-0x18be+-0x239*-0x5]+_0x2e19de[0x1c5+0x1b3b*0x1+0xe7a*-0x2],_0x435079['y']=_0x288d3a*_0x2e19de[-0x1d00+-0x19*0x166+0x3ff7]+_0x11fd29*_0x2e19de[-0xd4f+0x9c9+0x38b]+_0x1eb00d*_0x2e19de[-0x871*0x2+0x1*-0x4eb+0x2*0xaeb]+_0x2e19de[0x1a5f+0x1e1*0xd+0x1*-0x32bf],_0x435079['z']=_0x288d3a*_0x2e19de[-0x193*-0xb+-0x23d2+0x7*0x2a5]+_0x11fd29*_0x2e19de[-0x699+0x1b9b+-0x14fc]+_0x1eb00d*_0x2e19de[0xfa3*-0x1+0x34*0x5d+-0x337]+_0x2e19de[-0x2657+-0x1b6d+0x41d2],_0x435079;}['transformV'+'ector'](_0x5504fc,_0x1b7e57=new A()){const _0x34852e=this['data'],{x:_0x2c3f4c,y:_0x27cc7c,z:_0x396c2a}=_0x5504fc;return _0x1b7e57['x']=_0x2c3f4c*_0x34852e[0x3f*-0x1+-0x201b+0x29*0xca]+_0x27cc7c*_0x34852e[0x1*0x188d+-0xb*0x1ed+-0x35a]+_0x396c2a*_0x34852e[0xefc+-0x1*0x1883+0x98f],_0x1b7e57['y']=_0x2c3f4c*_0x34852e[0x1*0xc83+0x1b5d+0x1*-0x27df]+_0x27cc7c*_0x34852e[0x12b9+0x1850+-0x2b04*0x1]+_0x396c2a*_0x34852e[-0xc92+-0xa77+0x1712],_0x1b7e57['z']=_0x2c3f4c*_0x34852e[-0x1aa5*0x1+-0xf*0x254+-0x1*-0x3d93]+_0x27cc7c*_0x34852e[0x1*-0x1efb+0xc3e*0x1+0x3*0x641]+_0x396c2a*_0x34852e[-0xa9c+-0x6*-0x4ea+-0x12d6],_0x1b7e57;}['transformV'+'ec4'](_0x5c1c44,_0x4db050=new ee()){const _0x290168=this['data'],{x:_0x550056,y:_0x3574cc,z:_0xcdb0c3,w:_0x597e5c}=_0x5c1c44;return _0x4db050['x']=_0x550056*_0x290168[0x16ca*0x1+0xbb4+-0x2*0x113f]+_0x3574cc*_0x290168[0x1fb2+-0x3*-0x24d+-0x7*0x583]+_0xcdb0c3*_0x290168[-0x1*-0x1aec+0x1*-0x419+0x48f*-0x5]+_0x597e5c*_0x290168[0xa37+0x79b*-0x3+0xca6],_0x4db050['y']=_0x550056*_0x290168[-0x47e*-0x6+0x1426+-0x1*0x2f19]+_0x3574cc*_0x290168[-0x2*0xdf8+0x1*-0x2db+0x1ed0]+_0xcdb0c3*_0x290168[-0x2*0xf84+-0xa*-0x388+-0x43f*0x1]+_0x597e5c*_0x290168[0x19*-0x59+0x1ca1+0x6a1*-0x3],_0x4db050['z']=_0x550056*_0x290168[0x346+0x17*0x14a+-0x20ea]+_0x3574cc*_0x290168[0x52*-0x31+-0x104b*-0x1+-0x7*0x15]+_0xcdb0c3*_0x290168[-0x71*-0x1d+0x1170+0x35b*-0x9]+_0x597e5c*_0x290168[0x4c4+-0x2*-0xc8e+-0x2*0xee9],_0x4db050['w']=_0x550056*_0x290168[-0x3c2+0x196+0xd*0x2b]+_0x3574cc*_0x290168[0x5b3+-0x463*-0x1+-0xa0f]+_0xcdb0c3*_0x290168[0x1707+-0x1*-0x1b0+-0xc56*0x2]+_0x597e5c*_0x290168[0x23fa+-0xc*0x2eb+0x4d*-0x3],_0x4db050;}['setLookAt'](_0x360b1c,_0x81fdd3,_0xd5d361){Us['sub2'](_0x360b1c,_0x81fdd3)['normalize'](),zs['copy'](_0xd5d361)['normalize'](),ys['cross'](zs,Us)['normalize'](),zs['cross'](Us,ys);const _0x260411=this['data'];return _0x260411[0x199+0x24e8+-0x2681]=ys['x'],_0x260411[-0x10*-0x199+-0x28*0xd5+0x7b9]=ys['y'],_0x260411[-0x223b+-0x1*0x9c7+-0x3*-0xeac]=ys['z'],_0x260411[0x12+-0x257c+0x256d]=0xa43+0x20f0+-0x1*0x2b33,_0x260411[0x1c2a+-0x1a2+-0x1a84]=zs['x'],_0x260411[-0x144d*0x1+-0x14*0x1f1+0x3b26]=zs['y'],_0x260411[0x506+-0x27*0xc9+-0x199f*-0x1]=zs['z'],_0x260411[0xd18+-0xa11*0x2+0x711]=-0x6a1+0x17e1+-0x1140,_0x260411[0x67*-0x29+0xa1a+0x66d]=Us['x'],_0x260411[-0xe32+-0x6fd*-0x5+0xf1*-0x16]=Us['y'],_0x260411[-0x22be*-0x1+0x7b5*0x1+-0x4d*0x8d]=Us['z'],_0x260411[0xf57+0x238c+-0x32d8]=-0x1468+0xffe+0x46a,_0x260411[-0x4a9*-0x7+0x26cc+-0x475f]=_0x360b1c['x'],_0x260411[-0x71*-0x41+0x1a3a+0x1*-0x36de]=_0x360b1c['y'],_0x260411[0xf70+0x26*0x21+-0x1448]=_0x360b1c['z'],_0x260411[-0x88c+-0x469*-0x7+-0x1644]=0x2055+-0x1*-0xe3+-0x2137,this;}['setFrustum'](_0x1a4220,_0x4c60fa,_0x41f7a2,_0x1139fd,_0x4ec41c,_0x2183d5){const _0x483a6c=(0x2*0xbdb+-0x1*0x1a30+0x13e*0x2)*_0x4ec41c,_0x2b1ca7=_0x4c60fa-_0x1a4220,_0x4c0342=_0x1139fd-_0x41f7a2,_0x3517f8=_0x2183d5-_0x4ec41c,_0x323112=this['data'];return _0x323112[0x197a+-0x1f9b+0x621]=_0x483a6c/_0x2b1ca7,_0x323112[0x1*0x241d+-0x1bda+-0x97*0xe]=-0x1*-0x941+-0x2e*0xd5+0x1d05,_0x323112[0x689+0x73c+-0xdc3]=-0xfff+0x1*-0x9f5+0x19f4,_0x323112[-0x8*0x4be+-0x19f8+-0x3feb*-0x1]=0x16*-0x4c+0x2045*-0x1+0x1*0x26cd,_0x323112[0x111c+0x2cd*-0x9+-0x81d*-0x1]=0x531*0x7+0x1e86+-0x42dd,_0x323112[-0x30a*0x9+-0x18eb*-0x1+0x274]=_0x483a6c/_0x4c0342,_0x323112[0x13ee+-0x6e1+0x29b*-0x5]=-0x4bf+-0x2e*-0x87+0xb9*-0x1b,_0x323112[0x97*0x1f+0x1439+-0x267b]=-0x2ab*0x1+0xe5d+-0xbb2,_0x323112[-0x3e5*0x3+-0x1*0x228b+-0x2*-0x1721]=(_0x4c60fa+_0x1a4220)/_0x2b1ca7,_0x323112[0x5cf+0x16c5+-0x1*0x1c8b]=(_0x1139fd+_0x41f7a2)/_0x4c0342,_0x323112[-0x1*0xe45+-0x289*0xa+0x1*0x27a9]=(-_0x2183d5-_0x4ec41c)/_0x3517f8,_0x323112[0x1e38+-0x1*-0x49e+0xb99*-0x3]=-(-0x13db+0x73*0x47+-0xc09),_0x323112[0x1f55*-0x1+0x1501+0xa60]=0x36e*0x7+0x11*0x207+-0x3a79,_0x323112[0x1*0x234c+0xd*-0x2ef+0x25*0x14]=0x1cdb*-0x1+0xe16+0xec5,_0x323112[-0x5aa+0x1e0*0x2+0x8*0x3f]=-_0x483a6c*_0x2183d5/_0x3517f8,_0x323112[-0x1dec+-0x16*0xb4+-0x917*-0x5]=-0x376*0x5+0x7bf+0x98f*0x1,this;}['setPerspec'+'tive'](_0x403e60,_0x4977e9,_0x17d04d,_0xea0da4,_0x835cb7){return Vr['_getPerspe'+'ctiveHalfS'+'ize'](Wa,_0x403e60,_0x4977e9,_0x17d04d,_0x835cb7),this['setFrustum'](-Wa['x'],Wa['x'],-Wa['y'],Wa['y'],_0x17d04d,_0xea0da4);}['setOrtho'](_0x3eb1fe,_0x17c930,_0x228194,_0x520ade,_0xf6d0b6,_0x4a88ab){const _0x228f39=this['data'];return _0x228f39[0x887+-0x67*0x1d+0x43*0xc]=(0xb12+-0x103c+0x52c)/(_0x17c930-_0x3eb1fe),_0x228f39[0x17c7+-0x64f*-0x2+-0x2464]=-0x15a3+-0x54f+0x1af2,_0x228f39[-0x2646+-0x601*0x5+-0x41*-0x10d]=0x1d*0xe3+0x232c+-0x3ce3,_0x228f39[-0x1*0x1f75+0x7*-0x219+0x2e27]=0xb83+-0x1*0x22de+0x175b,_0x228f39[-0xd5b+0x298+0xac7]=-0x4f*-0x20+0x17*0xb5+0x1*-0x1a23,_0x228f39[-0x2*0x29+-0x289+0x170*0x2]=(0xcf2+-0x269f*-0x1+-0xc5*0x43)/(_0x520ade-_0x228194),_0x228f39[-0x2a*0x9+0x4*-0x6ab+0x6*0x4b2]=0x1ef2+-0x6e*0x5+-0x1ccc,_0x228f39[-0x6cd+-0x2052+-0x1*-0x2726]=0x18c+0x2015+-0x21a1,_0x228f39[-0x1*-0x2bd+0x167*-0x1a+0x21c1]=-0x16c*0xa+-0x1312+0x2*0x10a5,_0x228f39[0xb56+0x1638+0x1*-0x2185]=-0x18fd+-0x1b1*-0xe+0x14f,_0x228f39[0x9b*-0x23+0x5ae*-0x4+0x2bf3*0x1]=-(0x3*0x57d+-0xc50+-0x425)/(_0x4a88ab-_0xf6d0b6),_0x228f39[0x1814+0x6*0x332+0x2b35*-0x1]=0x59*0x6d+-0x2*0x120d+-0x1cb,_0x228f39[0x4ff*0x3+-0x26*-0xbc+-0x2ad9]=-(_0x17c930+_0x3eb1fe)/(_0x17c930-_0x3eb1fe),_0x228f39[-0x1310+-0x1534+-0x2851*-0x1]=-(_0x520ade+_0x228194)/(_0x520ade-_0x228194),_0x228f39[-0x1ba9*-0x1+0x29*0x79+-0x2*0x177e]=-(_0x4a88ab+_0xf6d0b6)/(_0x4a88ab-_0xf6d0b6),_0x228f39[-0x1*0x6f3+-0x5f*0x22+0x4e8*0x4]=0xf78+0x1e*0x10b+-0x2ec1,this;}['setFromAxi'+'sAngle'](_0x1f711d,_0x3ae2c3){_0x3ae2c3*=z['DEG_TO_RAD'];const {x:_0x29ee48,y:_0x2e26e4,z:_0x592f7f}=_0x1f711d,_0x500274=Math['cos'](_0x3ae2c3),_0x49084a=Math['sin'](_0x3ae2c3),_0x461073=-0x1034+0x1a26*0x1+-0x5*0x1fd-_0x500274,_0xaf72c8=_0x461073*_0x29ee48,_0x23b694=_0x461073*_0x2e26e4,_0x116c9e=this['data'];return _0x116c9e[-0x4f0+0x7ee+-0x2fe]=_0xaf72c8*_0x29ee48+_0x500274,_0x116c9e[0x2220+-0x3b4*-0x3+-0x2d3b*0x1]=_0xaf72c8*_0x2e26e4+_0x49084a*_0x592f7f,_0x116c9e[0x21f3+-0xb3c+-0x16b5]=_0xaf72c8*_0x592f7f-_0x49084a*_0x2e26e4,_0x116c9e[-0x2*-0xf3d+0x5*0x10e+-0x23bd]=0x13b0+0x1*0x127d+-0x262d,_0x116c9e[0x1*0x25ec+-0xf*-0x1f+0x1*-0x27b9]=_0xaf72c8*_0x2e26e4-_0x49084a*_0x592f7f,_0x116c9e[-0x1c80+-0x62*0x22+0x2989]=_0x23b694*_0x2e26e4+_0x500274,_0x116c9e[0x3d*-0x35+0x6e9+-0x1ea*-0x3]=_0x23b694*_0x592f7f+_0x49084a*_0x29ee48,_0x116c9e[-0x2294+0x3+-0x36*-0xa4]=-0x1551+0xfee*0x1+0x563,_0x116c9e[-0x1*0x8a5+-0x1003*0x1+0x18b0]=_0xaf72c8*_0x592f7f+_0x49084a*_0x2e26e4,_0x116c9e[-0x265d+0x214c+-0x2*-0x28d]=_0x23b694*_0x592f7f-_0x29ee48*_0x49084a,_0x116c9e[-0xbb2+-0x2e*0x40+0x173c*0x1]=_0x461073*_0x592f7f*_0x592f7f+_0x500274,_0x116c9e[-0x2de*-0xd+0x4c4*0x2+-0x2ec3]=-0x199f+-0xf36+0x28d5,_0x116c9e[0xb31+0x1*-0x29d+-0x18*0x5b]=0xf3f*0x1+0x59b+-0x14da*0x1,_0x116c9e[-0xd68+-0x139a+0x28b*0xd]=0x1ac4+-0x1a95+0x1*-0x2f,_0x116c9e[0x1433*0x1+0x1666+-0x2a8b*0x1]=-0x198c+-0x1628+-0x11c*-0x2b,_0x116c9e[0x4d9*-0x2+-0x239d+-0x16af*-0x2]=0x4*0xab+-0xd33+-0x4*-0x2a2,this;}['setTransla'+'te'](_0x5b04ff,_0x31eb93,_0x46d68f){const _0x2acf17=this['data'];return _0x2acf17[-0x61f+0x1*0x74b+-0x12c]=-0x2*-0x71f+0x1578+-0x3*0xbe7,_0x2acf17[-0x9f*0x2b+0x17bb+0x2fb]=0x1525+-0x1cbd+0x798,_0x2acf17[-0xe09*-0x1+0x44f*-0x2+0x115*-0x5]=-0x1df5*0x1+0x7*-0x2b5+0x30e8,_0x2acf17[0x2563+-0x1*-0x1299+-0x26f*0x17]=0x7*-0x516+0xac*-0x2b+-0x82*-0x7f,_0x2acf17[-0xd81*-0x1+-0xb99*-0x1+-0xa9*0x26]=0x5fc+-0xbb6*0x1+0x1*0x5ba,_0x2acf17[0x510+-0x1fb*-0x9+-0x16de*0x1]=-0x29*-0x11+-0x1*-0xb5d+0x7*-0x203,_0x2acf17[-0x15bd+0x91*-0x4+0x1807*0x1]=-0x1*-0x1c9c+-0xb9e+-0x10fe,_0x2acf17[0xd2c+-0xdfc*0x1+0xd7]=-0xbd8*-0x1+0x118d+0x1d65*-0x1,_0x2acf17[-0x1dd8+0x1493+-0x94d*-0x1]=0x11*-0x9d+-0x2592+-0x45d*-0xb,_0x2acf17[-0x1f10+-0x11c*-0x6+0x1*0x1871]=-0xee7+-0x2307+0x7*0x722,_0x2acf17[-0x10eb+-0xe7+0x24*0x7f]=-0x23e3*-0x1+0x19d*0x15+-0x3*0x1741,_0x2acf17[0xfb*0xe+-0x31+-0xd7e]=-0x24a2+-0x4f*-0x22+0x1a24,_0x2acf17[-0x1*-0x2039+0x378+0x49*-0x7d]=_0x5b04ff,_0x2acf17[0x83*-0x13+0x1b73*0x1+-0x11ad]=_0x31eb93,_0x2acf17[-0xa85+0xb8b*-0x1+0x161e]=_0x46d68f,_0x2acf17[0x141+0x1cdf+-0x1e11*0x1]=0x158e+-0x2c1*-0x1+-0x184e*0x1,this;}['setScale'](_0x6fe972,_0x260419,_0x2717f5){const _0x24c86e=this['data'];return _0x24c86e[-0x39*-0x67+-0x374*0x5+0x1*-0x5ab]=_0x6fe972,_0x24c86e[0x3*0x761+0x1d5e+-0x3380]=-0x661+-0x5*0x66d+-0x2*-0x1341,_0x24c86e[0x15e+-0x2*0x888+-0x6*-0x29e]=-0x145a+-0x3b*0x39+0x217d*0x1,_0x24c86e[0x1*0x2671+0x649+-0x2cb7]=-0x141c+-0x12f7+-0x595*-0x7,_0x24c86e[-0x11f+-0xf4b+0x106e]=-0x4b4+-0xd*0x5c+0x28*0x3c,_0x24c86e[-0x94f+0x294*-0x6+0x18cc]=_0x260419,_0x24c86e[-0xdf*-0x6+0x31f+-0x853]=0x7ce+-0x3cd+-0x401,_0x24c86e[0x22fd+0x2*0xff3+-0x42dc]=-0x199a+-0x16b4+-0x2*-0x1827,_0x24c86e[0x5*0x117+-0x1751+-0x1d*-0x9e]=0x2*-0x951+0x836+0x74*0x17,_0x24c86e[-0x97*-0x11+0xc77+-0x1*0x1675]=0xbbd*0x1+0x141+-0xcfe,_0x24c86e[0x591+-0x1*0x2530+0x1fa9]=_0x2717f5,_0x24c86e[-0x833+-0x1a3d+0x227b]=0x259*-0x6+0x37*-0xb+0x1073*0x1,_0x24c86e[0x961+0x4f*0x47+-0x1f3e]=0x992+-0x2615+0x9*0x32b,_0x24c86e[-0x36*0xaa+-0x161b*0x1+0x5e*0x9e]=-0x59*0x22+0x1*-0x1fdc+0x2bae,_0x24c86e[-0x99+-0x3c8+-0x1*-0x46f]=-0x16b2+-0x2*-0x47+-0x1b4*-0xd,_0x24c86e[0xe81+-0x1582+0x710]=-0x1*0x404+0x10d*0x13+-0xff2,this;}['setViewpor'+'t'](_0x109d3d,_0x3c781e,_0x434b87,_0x5888ee){const _0x1b7701=this['data'];return _0x1b7701[-0x115f*-0x1+0x8d*0x35+-0x2e90]=_0x434b87*(0x1*0x2548+0x1*0x401+-0x2949+0.5),_0x1b7701[0x7*0x3d+-0x18*-0x147+-0x2052]=0xca5+0x37f*-0x9+0x12d2,_0x1b7701[-0x8e*0x43+-0x8dd*-0x2+0x1372]=-0x3d*0x6d+-0x727*-0x1+0x12d2,_0x1b7701[0x1e6*-0xc+-0x1*-0xc61+-0x3e*-0x2b]=0x357+-0x1279*0x1+0x1a*0x95,_0x1b7701[0x419*0x6+-0x3ba*0x7+0x184]=0x1*0x215b+0x1*0x134f+-0x34aa,_0x1b7701[-0xce0*-0x3+-0x13cc+0x9*-0x217]=_0x5888ee*(0x893*-0x2+-0x53*-0x57+-0xb0f+0.5),_0x1b7701[0x615+0xfd6+-0x15e5]=0x65*0x52+-0x1f*0x11b+0x1eb*0x1,_0x1b7701[-0x167a+0x567*-0x1+0x13*0x178]=-0x1*-0x239+-0x1fe0+0x1da7,_0x1b7701[-0xced+-0xf*0xcd+0x18f8]=0x18f5+-0x6fa+-0x11fb,_0x1b7701[0x27e*0x8+0x1b6+-0x159d*0x1]=0x6f8+-0x1b98+-0xa0*-0x21,_0x1b7701[0x11e1+-0x16*-0x145+0x1*-0x2dc5]=-0x1*-0x1b29+0x217b+-0x2*0x1e52+0.5,_0x1b7701[-0x859+-0xd7*0x18+-0x196*-0x12]=-0xafe+-0x1*0x22e7+0x2de5,_0x1b7701[0x1f2f+-0x229b+0x378]=_0x109d3d+_0x434b87*(-0x1bca+0xf+0xe5*0x1f+0.5),_0x1b7701[0x34d+0x13d8+-0x1718]=_0x3c781e+_0x5888ee*(0x780+-0x59*0x61+0x1a39+0.5),_0x1b7701[0x4de+0x24fe*-0x1+0x202e]=-0x43f+-0x2363+0x59*0x72+0.5,_0x1b7701[-0x1*-0x79+0x128b*0x2+-0x3c0*0xa]=0x1e01+-0xcaf+-0x1151,this;}['setReflect'+'ion'](_0x13c68e,_0x194fc7){const _0x11c1b2=_0x13c68e['x'],_0x342e85=_0x13c68e['y'],_0x4cf0bf=_0x13c68e['z'],_0x1133f1=this['data'];return _0x1133f1[0x29b*0x3+-0x4e3+0x7d*-0x6]=0x524+0x8b1+-0xdd4-(-0x7a*0xa+-0x4*-0x3be+0x3a*-0x2d)*_0x11c1b2*_0x11c1b2,_0x1133f1[0x181a+-0xe83+-0x996]=-(-0x5*-0x1d9+-0x3*0x996+-0x1387*-0x1)*_0x11c1b2*_0x342e85,_0x1133f1[0x2*0x29+0x2702+0x2752*-0x1]=-(0xc39+0x14b*-0x13+-0x20f*-0x6)*_0x11c1b2*_0x4cf0bf,_0x1133f1[-0x20b0+-0x57b*0x4+0x369f*0x1]=0x1a35+-0x22e5+0x116*0x8,_0x1133f1[0x1*-0x346+-0x18ee+0x4*0x70e]=-(0xf04+0x6f*-0x2b+0x3a3)*_0x11c1b2*_0x342e85,_0x1133f1[-0x1a21+0x1bf1+0x99*-0x3]=0x1ebb*-0x1+0x235*-0x1+-0xafb*-0x3-(0x130*-0x7+0x1d08+0xf1*-0x16)*_0x342e85*_0x342e85,_0x1133f1[-0x89*0x4+0x1169+0x515*-0x3]=-(-0xc42+0xa6f+-0x1d5*-0x1)*_0x342e85*_0x4cf0bf,_0x1133f1[0x2473+-0x2617+-0x1ab*-0x1]=0xed9+0xaa9*0x3+-0x6f*0x6c,_0x1133f1[0xa13*0x3+0x1f8+-0x2029]=-(0x671*0x4+-0xa97+0x161*-0xb)*_0x11c1b2*_0x4cf0bf,_0x1133f1[-0x1*-0x1d1e+0xc44+0x16d*-0x1d]=-(-0x17*0xd3+-0x8a8+0x1b9f)*_0x342e85*_0x4cf0bf,_0x1133f1[-0x4*0x19e+-0x1*-0x218e+-0x1b0c]=-0x19b8*0x1+-0x258d+-0x7*-0x90a-(-0x632*-0x4+-0x1928+0x7*0xe)*_0x4cf0bf*_0x4cf0bf,_0x1133f1[0x7*-0x9d+0x20ff+-0x1ca9]=-0x67*-0x54+-0xc*-0x100+-0x4*0xb73,_0x1133f1[-0x26db+-0x5b*0x11+0x2*0x1679]=-(-0x1*0xbc0+0x22d7+-0x1715)*_0x11c1b2*_0x194fc7,_0x1133f1[-0xd5a+0x57d*-0x5+0x28d8]=-(0xc1e+-0x104c+0x430)*_0x342e85*_0x194fc7,_0x1133f1[0x1bed*-0x1+0x1c8+-0x1a33*-0x1]=-(-0x1638+0x2569+0xf2f*-0x1)*_0x4cf0bf*_0x194fc7,_0x1133f1[0xf*-0x19b+0x5d5*0x6+0x3*-0x39e]=0x1a9*-0x13+-0x1017*-0x2+0x1b*-0x6,this;}['invert'](_0x5d50b2=this){const _0x58d08a=_0x5d50b2['data'],_0x119d99=_0x58d08a[0xc5e*-0x3+0x621+0x371*0x9],_0x5d5d91=_0x58d08a[-0x1a6f+-0x1c6b+0x36db],_0x350078=_0x58d08a[-0x41c+-0xdda+0x11f8],_0x4527bd=_0x58d08a[-0x15*0x189+0x23c1+-0x381*0x1],_0x1feec5=_0x58d08a[0x342*-0x5+-0x1dd7+0x2e25],_0x38c672=_0x58d08a[-0x11db+0xad*-0x1e+0x2626],_0x598d6c=_0x58d08a[0x924+0x724+-0x1042],_0x4cb2d3=_0x58d08a[0x2076+-0x4*0x83+-0x1e63],_0x3790e7=_0x58d08a[0x48*0x39+0x13ba*0x1+0x11dd*-0x2],_0x1ef36e=_0x58d08a[-0x11cf+-0x43*0x6f+0x2ee5],_0x655be4=_0x58d08a[-0x896+0x1ec3+-0x1623*0x1],_0x1a30ab=_0x58d08a[0x2308*0x1+0x1*0xffd+-0x2*0x197d],_0x2b59be=_0x58d08a[-0x260f+0x218c+-0x185*-0x3],_0x2ac79a=_0x58d08a[0x4b2+0x12ec+-0x1791],_0x357b94=_0x58d08a[0x513*0x7+-0x13d5+-0x3*0x536],_0x7c723f=_0x58d08a[-0x3*0x3+-0x259c+0x25b4],_0x166ecd=_0x119d99*_0x38c672-_0x5d5d91*_0x1feec5,_0x438a2d=_0x119d99*_0x598d6c-_0x350078*_0x1feec5,_0x44ec8e=_0x119d99*_0x4cb2d3-_0x4527bd*_0x1feec5,_0x1426de=_0x5d5d91*_0x598d6c-_0x350078*_0x38c672,_0x362681=_0x5d5d91*_0x4cb2d3-_0x4527bd*_0x38c672,_0x16abbf=_0x350078*_0x4cb2d3-_0x4527bd*_0x598d6c,_0x2b2cbb=_0x3790e7*_0x2ac79a-_0x1ef36e*_0x2b59be,_0x2c9914=_0x3790e7*_0x357b94-_0x655be4*_0x2b59be,_0x3331e4=_0x3790e7*_0x7c723f-_0x1a30ab*_0x2b59be,_0x1b396c=_0x1ef36e*_0x357b94-_0x655be4*_0x2ac79a,_0x45821e=_0x1ef36e*_0x7c723f-_0x1a30ab*_0x2ac79a,_0x2f39c5=_0x655be4*_0x7c723f-_0x1a30ab*_0x357b94,_0x5c7245=_0x166ecd*_0x2f39c5-_0x438a2d*_0x45821e+_0x44ec8e*_0x1b396c+_0x1426de*_0x3331e4-_0x362681*_0x2c9914+_0x16abbf*_0x2b2cbb;if(_0x5c7245===0x733*0x1+0x1bb9+-0x22ec)this['setIdentit'+'y']();else{const _0x5bfd34=(0x6*-0x393+0x9ba*-0x4+0x3c5b)/_0x5c7245,_0x2444ec=this['data'];_0x2444ec[0x12cd*-0x2+0x83*0x29+0x109f]=(_0x38c672*_0x2f39c5-_0x598d6c*_0x45821e+_0x4cb2d3*_0x1b396c)*_0x5bfd34,_0x2444ec[0x1ad2+0xec2+-0x2993*0x1]=(-_0x5d5d91*_0x2f39c5+_0x350078*_0x45821e-_0x4527bd*_0x1b396c)*_0x5bfd34,_0x2444ec[-0x1f6b+0x2ac+0x1cc1]=(_0x2ac79a*_0x16abbf-_0x357b94*_0x362681+_0x7c723f*_0x1426de)*_0x5bfd34,_0x2444ec[-0x1*0x23f3+-0xfd1*-0x1+-0x9*-0x23d]=(-_0x1ef36e*_0x16abbf+_0x655be4*_0x362681-_0x1a30ab*_0x1426de)*_0x5bfd34,_0x2444ec[0xe7e+-0x163a+0x7c0]=(-_0x1feec5*_0x2f39c5+_0x598d6c*_0x3331e4-_0x4cb2d3*_0x2c9914)*_0x5bfd34,_0x2444ec[-0x7a1*-0x5+0x1246+-0x3866]=(_0x119d99*_0x2f39c5-_0x350078*_0x3331e4+_0x4527bd*_0x2c9914)*_0x5bfd34,_0x2444ec[0x4*-0x65+-0x2*-0xd3+0x4*-0x3]=(-_0x2b59be*_0x16abbf+_0x357b94*_0x44ec8e-_0x7c723f*_0x438a2d)*_0x5bfd34,_0x2444ec[-0x18e5+-0x14*-0x2+0x18c4]=(_0x3790e7*_0x16abbf-_0x655be4*_0x44ec8e+_0x1a30ab*_0x438a2d)*_0x5bfd34,_0x2444ec[0x47*0x77+0x1*-0x1993+-0x2*0x3b3]=(_0x1feec5*_0x45821e-_0x38c672*_0x3331e4+_0x4cb2d3*_0x2b2cbb)*_0x5bfd34,_0x2444ec[0xa7*0x4+-0x2*-0xba9+0x3b3*-0x7]=(-_0x119d99*_0x45821e+_0x5d5d91*_0x3331e4-_0x4527bd*_0x2b2cbb)*_0x5bfd34,_0x2444ec[0xefc+-0x10d*0x10+0x1de]=(_0x2b59be*_0x362681-_0x2ac79a*_0x44ec8e+_0x7c723f*_0x166ecd)*_0x5bfd34,_0x2444ec[0x7c*-0x2f+0x126a+0x19*0x2d]=(-_0x3790e7*_0x362681+_0x1ef36e*_0x44ec8e-_0x1a30ab*_0x166ecd)*_0x5bfd34,_0x2444ec[0x2*0x998+0x135d*-0x1+0x39]=(-_0x1feec5*_0x1b396c+_0x38c672*_0x2c9914-_0x598d6c*_0x2b2cbb)*_0x5bfd34,_0x2444ec[0x177*-0x2+0x17e*-0xa+0x11e7]=(_0x119d99*_0x1b396c-_0x5d5d91*_0x2c9914+_0x350078*_0x2b2cbb)*_0x5bfd34,_0x2444ec[-0x1369+0x2181*0x1+-0xe0a]=(-_0x2b59be*_0x1426de+_0x2ac79a*_0x438a2d-_0x357b94*_0x166ecd)*_0x5bfd34,_0x2444ec[-0x8*-0x1c1+-0x23bf*-0x1+-0x637*0x8]=(_0x3790e7*_0x1426de-_0x1ef36e*_0x438a2d+_0x655be4*_0x166ecd)*_0x5bfd34;}return this;}['set'](_0x4a6d9b){const _0xf7a47e=this['data'];return _0xf7a47e[0x1*0x10f7+-0x5f3+-0x582*0x2]=_0x4a6d9b[-0x25d0+-0x5*0x4bd+0x3d81],_0xf7a47e[-0x1929*0x1+0x22e3+0x1*-0x9b9]=_0x4a6d9b[0x1061+-0x10*0x43+-0x28*0x4e],_0xf7a47e[0x5a9+0x23ea+-0x2991]=_0x4a6d9b[0x2476+-0xd49+0x172b*-0x1],_0xf7a47e[0x7*-0x213+-0x1*0x22c+-0x2*-0x85a]=_0x4a6d9b[0x1a*0xf7+-0x1fd*0x10+0x6bd],_0xf7a47e[0x17ab+0x639*0x5+-0x36c4]=_0x4a6d9b[-0x1f51*-0x1+0x1b1b+-0x3a68],_0xf7a47e[0x11ac+0x7*-0x133+-0x942]=_0x4a6d9b[-0x3b3+0xbaf*0x1+-0x1*0x7f7],_0xf7a47e[-0x1d5c*-0x1+0x2b*-0x6c+0x599*-0x2]=_0x4a6d9b[0xa*-0x84+0x1fa1+-0x1a73],_0xf7a47e[-0x1d17+-0x3*-0x905+0x20f]=_0x4a6d9b[-0x29a+0x6e2*-0x4+-0x44f*-0x7],_0xf7a47e[0x10e0+-0x2079+0xfa1*0x1]=_0x4a6d9b[0x1c8+0x1*-0x2056+0x1e96],_0xf7a47e[-0x2d7*0x7+0xfcf+-0x1*-0x41b]=_0x4a6d9b[-0x1*-0x15b5+-0x1957+0x3ab],_0xf7a47e[-0x175f+-0xc*0x176+0x28f1]=_0x4a6d9b[-0xe4*0x23+-0xc9d*0x3+-0x450d*-0x1],_0xf7a47e[-0x15de+-0x3f7*0x8+0x35a1*0x1]=_0x4a6d9b[0x38*-0x53+0x1243+-0x10],_0xf7a47e[-0xe0e+-0x1c4c+-0x3*-0xe22]=_0x4a6d9b[0x13b*-0xd+0x6*-0x3ba+-0x2667*-0x1],_0xf7a47e[0x4*-0x4ac+-0xf5a+-0x3*-0xb5d]=_0x4a6d9b[-0x316+0xa*-0x1e1+0x74f*0x3],_0xf7a47e[-0xb92+-0x1*0xae5+0x1685*0x1]=_0x4a6d9b[-0x17*-0xb1+0x1597+-0x2*0x12b8],_0xf7a47e[-0x233f+-0x2604+-0xeaa*-0x5]=_0x4a6d9b[-0x21f1+0x1*0x445+0x1dbb],this;}['setIdentit'+'y'](){const _0x1590a4=this['data'];return _0x1590a4[0x22c+-0xf35+0x47*0x2f]=0x2*0x9fa+-0x17ea+0x3f7,_0x1590a4[0x5c4+-0x1a1*-0x3+-0xaa6]=0x1a*0xc9+-0x228c+-0x86*-0x1b,_0x1590a4[0x2*0xac1+0x1233+-0x27b3]=-0x3*-0x2d7+-0x20f1+0x186c,_0x1590a4[-0x5*-0x63b+0xd5d+-0x2c81]=-0x14fd+-0x192f+-0xf64*-0x3,_0x1590a4[0xd2b+-0x788*-0x1+-0x14af]=0x4a*-0x49+-0x3*-0x2e6+0xc68,_0x1590a4[0x13f*0x1f+0x232+0x28ce*-0x1]=-0x1*0x1b4e+-0x2357+0x3ea6,_0x1590a4[-0x1*-0x78d+-0x248b+0x26b*0xc]=-0x1*0x3a3+0x3*0x262+-0x383,_0x1590a4[0x61*0x5+-0xd*-0x1d3+-0x1995]=-0x774+0xb*0x1eb+0xda5*-0x1,_0x1590a4[0x1aff+-0x115e+-0x3*0x333]=0x25b9*0x1+0x9f7+-0x7*0x6d0,_0x1590a4[-0x5b8*-0x1+-0x8c8*-0x2+0xb*-0x21d]=0x70+-0x365+0x2f5*0x1,_0x1590a4[-0x13d*-0x1b+-0xe8b+-0x7f*0x26]=0x1*0x8f3+0xc6c+-0x155e,_0x1590a4[0x1*-0x13c7+-0x1a6b+0x2e3d]=0x8b*0x24+-0x1*0x23ed+0x1061,_0x1590a4[-0x1c1*-0x1+0x6b*-0x1+-0x37*0x6]=-0x5f*-0x67+-0x30b+0x6*-0x5dd,_0x1590a4[0x180a+0x2*0x136d+-0x3ed7]=-0x27*-0x4b+0x2662*-0x1+0x1af5,_0x1590a4[0x1*-0xa1+0xe0a+-0xd5b]=0x54*0xd+-0x1b61*-0x1+-0x1fa5,_0x1590a4[0x1b09+-0x39+-0x1ac1]=0x143*-0x13+-0x9*0x121+0x2223,this;}['setTRS'](_0x85bd9c,_0x50ea2d,_0x4f61d1){const _0x5f0e9a=_0x50ea2d['x'],_0x50a65d=_0x50ea2d['y'],_0x5e629e=_0x50ea2d['z'],_0xf22bd5=_0x50ea2d['w'],_0x3b9bea=_0x4f61d1['x'],_0x44e734=_0x4f61d1['y'],_0x7b07ad=_0x4f61d1['z'],_0x18fcca=_0x5f0e9a+_0x5f0e9a,_0x51cbdf=_0x50a65d+_0x50a65d,_0x593487=_0x5e629e+_0x5e629e,_0x16ef2d=_0x5f0e9a*_0x18fcca,_0x9521f0=_0x5f0e9a*_0x51cbdf,_0x4fae5c=_0x5f0e9a*_0x593487,_0x7c63d5=_0x50a65d*_0x51cbdf,_0x35f30e=_0x50a65d*_0x593487,_0x211fa4=_0x5e629e*_0x593487,_0x1208fe=_0xf22bd5*_0x18fcca,_0x7e7947=_0xf22bd5*_0x51cbdf,_0x435969=_0xf22bd5*_0x593487,_0x45eb67=this['data'];return _0x45eb67[-0x1913+-0x719*0x3+0x172f*0x2]=(-0x3*0x79+0x2421+-0x22b5*0x1-(_0x7c63d5+_0x211fa4))*_0x3b9bea,_0x45eb67[0x2291+-0x1a*0x67+0x1*-0x181a]=(_0x9521f0+_0x435969)*_0x3b9bea,_0x45eb67[-0xf7c+0x209a+-0x111c]=(_0x4fae5c-_0x7e7947)*_0x3b9bea,_0x45eb67[0x141d+-0x100d+0x3d*-0x11]=-0xf34+-0x1561*0x1+0x5*0x751,_0x45eb67[-0x2009+-0x80b*-0x1+-0x1*-0x1802]=(_0x9521f0-_0x435969)*_0x44e734,_0x45eb67[0x8*0x305+-0x87*0x10+-0xfb3]=(0x1183+0x3e*-0x6d+0x8e4-(_0x16ef2d+_0x211fa4))*_0x44e734,_0x45eb67[-0x2*-0x8fd+-0x4*-0x2e1+0x8*-0x3af]=(_0x35f30e+_0x1208fe)*_0x44e734,_0x45eb67[-0x1*-0x75d+0x1736+-0x1e8c]=-0x1*-0xde4+0x3*0x16b+-0x1225,_0x45eb67[-0x2586+-0x5a*-0x4f+0x9c8]=(_0x4fae5c+_0x7e7947)*_0x7b07ad,_0x45eb67[0x1385*0x1+-0x130f+-0x6d]=(_0x35f30e-_0x1208fe)*_0x7b07ad,_0x45eb67[0xa3*-0xd+0x1455+0x602*-0x2]=(-0x359+0x4*-0x12+-0xa*-0x5d-(_0x16ef2d+_0x7c63d5))*_0x7b07ad,_0x45eb67[-0x1614+-0x179f*-0x1+-0x4*0x60]=0x179e+-0x17*-0xfd+-0x2e59,_0x45eb67[0x109e+0xd*-0x1e7+0x829]=_0x85bd9c['x'],_0x45eb67[0x5*0xc2+-0x1065*0x1+-0xa*-0x144]=_0x85bd9c['y'],_0x45eb67[-0x29*0x67+-0xa*-0x209+-0x3cd*0x1]=_0x85bd9c['z'],_0x45eb67[-0x514+-0x353+0x2*0x43b]=-0x17b*0xa+0xf*-0x241+0xe*0x379,this;}['transpose'](_0x15b062=this){const _0x5ae17d=_0x15b062['data'],_0x38081e=this['data'];if(_0x5ae17d===_0x38081e){let _0x3813c1;_0x3813c1=_0x5ae17d[-0x25*0xb1+-0x7*0x65+0x29*0xb1],_0x38081e[-0x1747+0xf*-0x171+0x13*0x25d]=_0x5ae17d[0x1866+0xa6+0x3*-0x858],_0x38081e[-0x251+-0x12f3+0x1548]=_0x3813c1,_0x3813c1=_0x5ae17d[-0xd5c+0x2296+-0x54e*0x4],_0x38081e[0x1fa*0xe+-0xc*0x2bb+0x51a]=_0x5ae17d[-0xe81*-0x1+-0x3*-0xab2+0x89*-0x57],_0x38081e[0x285+0x1fae+-0x222b]=_0x3813c1,_0x3813c1=_0x5ae17d[0x1fb5+0x13ba+0xcdb*-0x4],_0x38081e[-0x1*-0x1250+0x2587*-0x1+0x133a]=_0x5ae17d[0x4*-0x92+0x150f+-0x12bb],_0x38081e[-0xb*0x1d3+0x2073+0xc56*-0x1]=_0x3813c1,_0x3813c1=_0x5ae17d[0x7fe+-0x1d01+-0x5*-0x435],_0x38081e[0x1*-0x12cb+0x67b+-0x2*-0x62b]=_0x5ae17d[-0x2226+-0x13*0x167+0x3cd4],_0x38081e[0x1dc7+-0x1ba7*-0x1+-0x833*0x7]=_0x3813c1,_0x3813c1=_0x5ae17d[0x1274+-0x20ef*-0x1+-0x335c],_0x38081e[-0xd82+0x2d3+0xab6]=_0x5ae17d[-0x40c*0x2+0x1375+-0x5a8*0x2],_0x38081e[0x1*-0x3a+-0x164e*-0x1+0x1*-0x1607]=_0x3813c1,_0x3813c1=_0x5ae17d[0x38a*0x2+0xd*0x61+-0x5fb*0x2],_0x38081e[-0x8b*0x35+-0x17d1+0xf5*0x37]=_0x5ae17d[-0x3d*0x35+-0xbb*-0xd+0x330],_0x38081e[0x20e+-0x201*0x7+0xc07]=_0x3813c1;}else _0x38081e[-0x109e+-0x22c6+0x3364]=_0x5ae17d[0x10*0x8e+-0x346*-0x9+-0x2656],_0x38081e[0x1c91*-0x1+-0x10*0x125+0x22*0x161]=_0x5ae17d[-0x1c11+-0x104*0x5+-0x2129*-0x1],_0x38081e[-0x1*-0x864+0x1a0b+0x226d*-0x1]=_0x5ae17d[0x1*-0x469+0xc6b+-0x7fa],_0x38081e[-0x33*0x29+0x1f*-0x117+0x29f7]=_0x5ae17d[-0x2d6+0xa7a+-0x798],_0x38081e[0x7ca+-0x35*0x1+0xd*-0x95]=_0x5ae17d[-0x1109+0x19b3+0x3*-0x2e3],_0x38081e[0x10a8+0xf01+-0x2d*0xb4]=_0x5ae17d[0xe*-0x2c4+-0x15fd+-0x3*-0x143e],_0x38081e[0x1be3+-0x23b+-0x19a2]=_0x5ae17d[0x2*0x12c8+0x25d3+-0x4b5a],_0x38081e[0x1*-0x141d+0x1d7*-0x5+0x1d57]=_0x5ae17d[-0x2*-0xc68+-0xa*0x285+-0x3*-0x25],_0x38081e[0x36f+-0x5e7+0x280]=_0x5ae17d[0x2*0xb3f+0x1fbb+-0x3637],_0x38081e[0x7ee+-0xbe1*-0x1+-0x13c6]=_0x5ae17d[-0x1987+-0x4*0x358+0x26ed*0x1],_0x38081e[0x1048+0x19df*0x1+-0x1*0x2a1d]=_0x5ae17d[-0x1020+0xd*-0x2fb+-0x1*-0x36e9],_0x38081e[0x701+0x20f6+-0x27ec]=_0x5ae17d[-0x2*0x31a+0xa9*-0x1a+0x4*0x5db],_0x38081e[0x25c4+-0x2f*0x57+-0x15bf]=_0x5ae17d[0xd66+0x361*-0x5+0x382],_0x38081e[-0x2452+0xe8d*-0x1+-0x1976*-0x2]=_0x5ae17d[0x2584+-0x43b+-0x2142],_0x38081e[0x53e*-0x7+0x1f6*-0x11+0x4616]=_0x5ae17d[-0x490+0x1ed2+-0x1a37*0x1],_0x38081e[0x1e7*-0xa+0x10*-0x6b+-0x19c5*-0x1]=_0x5ae17d[-0x2*-0xce+-0x1f95+0x1*0x1e08];return this;}['getTransla'+'tion'](_0x1116c8=new A()){return _0x1116c8['set'](this['data'][-0x2*-0x3ce+-0x251f+0x1d8f],this['data'][-0x154*-0x2+-0xc*-0x20+0x1*-0x41b],this['data'][-0x283*-0xd+-0x1d0b+0xb6*-0x5]);}['getX'](_0x251656=new A()){return _0x251656['set'](this['data'][-0x1203+-0x31f+0x1522],this['data'][0x2*-0x673+-0x11d8+0x1ebf],this['data'][0x1a9d+-0x72d*-0x1+-0x21c8]);}['getY'](_0x4b4575=new A()){return _0x4b4575['set'](this['data'][-0x2008+0x181f+0x7ed*0x1],this['data'][-0xcb3+0x8d8+0x3e0],this['data'][0x9de+-0x9*-0x149+-0x1569]);}['getZ'](_0x6f7a4a=new A()){return _0x6f7a4a['set'](this['data'][0x6b5+0xa81+-0x112e],this['data'][0xa2a+0x74c+0x116d*-0x1],this['data'][0x124+0x243e+-0xa*0x3bc]);}['getScale'](_0x356de0=new A()){return this['getX'](ys),this['getY'](zs),this['getZ'](Us),_0x356de0['set'](ys['length'](),zs['length'](),Us['length']()),_0x356de0;}get['scaleSign'](){return this['getX'](ys),this['getY'](zs),this['getZ'](Us),ys['cross'](ys,zs),ys['dot'](Us)<-0x3*-0x777+-0x149b*-0x1+0xac*-0x40?-(-0x21ee+0x1*-0x22d8+0x44c7):-0x2528+-0x2653+0x2*0x25be;}['setFromEul'+'erAngles'](_0x5969ab,_0x3ae962,_0x3637c){_0x5969ab*=z['DEG_TO_RAD'],_0x3ae962*=z['DEG_TO_RAD'],_0x3637c*=z['DEG_TO_RAD'];const _0x25698e=Math['sin'](-_0x5969ab),_0x133b6e=Math['cos'](-_0x5969ab),_0x5a260e=Math['sin'](-_0x3ae962),_0x559d4f=Math['cos'](-_0x3ae962),_0x9829c7=Math['sin'](-_0x3637c),_0x55c2a8=Math['cos'](-_0x3637c),_0x246e81=this['data'];return _0x246e81[-0x1d*-0xb2+-0x1*-0x158f+-0x29b9]=_0x559d4f*_0x55c2a8,_0x246e81[-0x222a*0x1+-0x1*0x1be9+0x3e14]=-_0x559d4f*_0x9829c7,_0x246e81[0x256b+-0x9*-0x209+0x3fb*-0xe]=_0x5a260e,_0x246e81[0xf13+-0x14de*-0x1+-0x23ee]=0x145+-0x1d6e+0x3*0x963,_0x246e81[-0xa6*0x1+-0x716+-0x7c0*-0x1]=_0x133b6e*_0x9829c7+_0x55c2a8*_0x25698e*_0x5a260e,_0x246e81[0x19*-0x55+0x1136*0x1+0x2*-0x472]=_0x133b6e*_0x55c2a8-_0x25698e*_0x5a260e*_0x9829c7,_0x246e81[0x26f2+-0xa66*0x2+0x5*-0x3a0]=-_0x559d4f*_0x25698e,_0x246e81[-0x7*0x56+-0xaae+-0xd0f*-0x1]=0x23e9*0x1+-0x2*0x287+-0x1edb,_0x246e81[-0x226*0x6+0x840+0x4ac]=_0x25698e*_0x9829c7-_0x133b6e*_0x55c2a8*_0x5a260e,_0x246e81[-0x68+-0x1d41+0x1db2]=_0x55c2a8*_0x25698e+_0x133b6e*_0x5a260e*_0x9829c7,_0x246e81[-0x37a+0x220+0x1*0x164]=_0x133b6e*_0x559d4f,_0x246e81[0x25fa+0x32*0x5e+0x384b*-0x1]=-0x370*0x3+0xb2b*0x1+0x1*-0xdb,_0x246e81[0x1*-0xe72+0x1*-0x19f7+0x2875]=-0xa20+-0x150b+0x1f2b,_0x246e81[0x1bc5+-0x81*-0x39+-0x3871]=0x1*0x1e8c+-0xea6+-0x6e*0x25,_0x246e81[0x995+-0x1ecf+-0xaa4*-0x2]=-0x268f+0x265d+0x32,_0x246e81[0x279+-0x115a+0xef0]=-0x11cc+-0x2ca+0x2f1*0x7,this;}['getEulerAn'+'gles'](_0x5d4138=new A()){this['getScale'](vl);const _0x28d4b3=vl['x'],_0x44f4cd=vl['y'],_0x10875e=vl['z'];if(_0x28d4b3===0x1b45+0x1*0x179e+0x32e3*-0x1||_0x44f4cd===-0x3c4*-0x6+-0x5d*0x29+-0x7b3||_0x10875e===0x2168+-0x1058+-0x1110)return _0x5d4138['set'](0x4c0+0x19dc+-0x4*0x7a7,-0x1*-0x1433+0x26a2+0x1*-0x3ad5,0x140c*-0x1+-0xaf1+0x1efd);const _0x200f16=this['data'],_0x461060=Math['asin'](-_0x200f16[-0x19*0x102+-0x183c+0x3170*0x1]/_0x28d4b3),_0x4f7475=Math['PI']*(0x1*0x1f97+-0x24d7+0x540+0.5);let _0x2c30cc,_0x5cf5c0;return _0x461060<_0x4f7475?_0x461060>-_0x4f7475?(_0x2c30cc=Math['atan2'](_0x200f16[-0x17cc+0xea0+0x932]/_0x44f4cd,_0x200f16[-0xab6*0x2+-0xb5*-0x35+-0x1003]/_0x10875e),_0x5cf5c0=Math['atan2'](_0x200f16[-0x1*-0xf32+0xae4+0x1*-0x1a15]/_0x28d4b3,_0x200f16[-0x233b*-0x1+0x48f*-0x1+-0x1eac]/_0x28d4b3)):(_0x5cf5c0=0x18a3+0x257c+-0x3e1f,_0x2c30cc=-Math['atan2'](_0x200f16[0x1cb3+-0x1a11+0x43*-0xa]/_0x44f4cd,_0x200f16[0x20f8+-0x2655+0x562]/_0x44f4cd)):(_0x5cf5c0=0x2093+-0x237c+0x2e9,_0x2c30cc=Math['atan2'](_0x200f16[-0x4b8*0x2+0x1e37+-0x14c3*0x1]/_0x44f4cd,_0x200f16[-0x128a+0x1a2+0x10ed]/_0x44f4cd)),_0x5d4138['set'](_0x2c30cc,_0x461060,_0x5cf5c0)['mulScalar'](z['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};c(Vr,'IDENTITY',Object['freeze'](new Vr())),c(Vr,'ZERO',Object['freeze'](new Vr()['set']([-0x173*-0x1+0x1774+-0x19*0xff,-0xaea*-0x1+-0x1b2c+0x1042,-0x1268+-0x24cd*-0x1+-0x1265*0x1,-0x1555+0x1*0x1a45+-0x4f0,0x1b04+-0x215*-0xd+-0x3615,0x1*0x163d+-0x2e9*0x7+-0x1de,-0x1c5d*-0x1+0xa74+-0x26d1,0xce*-0x1a+0x455*0x3+-0x7ed*-0x1,-0x973+-0xa1c+-0x3*-0x685,-0x1*0x1b4f+-0xa9c*-0x2+-0x617*-0x1,0x4cc*-0x1+0x4f4+-0x28,0x135*0x11+0x9*0x2be+0xcb*-0x39,-0x32*0x41+-0x1d7*-0xd+-0xb39*0x1,0xa*-0xae+-0x148f+0x1b5b,-0x1*0xf93+-0x1d*0x14f+0x3586,0x680+-0xe05+0x4d*0x19])));let q=Vr;const la=class la{constructor(_0x3354d5=0xb3+0x1f91+-0x2044,_0x18ba44=-0x6ea+0xf04+0x7a*-0x11,_0x3e6496=0x119*-0x9+-0xc0e+0x15ef,_0x66374d=0x2d8+0x2623+0x1*-0x28fa){c(this,'x'),c(this,'y'),c(this,'z'),c(this,'w'),_0x3354d5['length']===-0xd3a+0x54b+-0x1*-0x7f3?(this['x']=_0x3354d5[0x2*0x36e+0x258a+-0x2c66],this['y']=_0x3354d5[0x1*-0xf69+-0x1215+-0x7*-0x4c9],this['z']=_0x3354d5[-0x95*0x1f+-0x796+0x1*0x19a3],this['w']=_0x3354d5[0x1627*0x1+-0x170d+-0x1*-0xe9]):(this['x']=_0x3354d5,this['y']=_0x18ba44,this['z']=_0x3e6496,this['w']=_0x66374d);}['clone'](){const _0x5630cf=this['constructo'+'r'];return new _0x5630cf(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x17e1e5=this){return this['x']=_0x17e1e5['x']*-(0x1*-0x2377+-0x1ddc+0x4154),this['y']=_0x17e1e5['y']*-(0x1*0x1565+-0xb9*-0x1d+0x1*-0x2a59),this['z']=_0x17e1e5['z']*-(-0x105*-0x23+0x67e*0x5+-0x4424),this['w']=_0x17e1e5['w'],this;}['copy'](_0x1887ef){return this['x']=_0x1887ef['x'],this['y']=_0x1887ef['y'],this['z']=_0x1887ef['z'],this['w']=_0x1887ef['w'],this;}['equals'](_0x2098f6){return this['x']===_0x2098f6['x']&&this['y']===_0x2098f6['y']&&this['z']===_0x2098f6['z']&&this['w']===_0x2098f6['w'];}['equalsAppr'+'ox'](_0x4f688c,_0x2d182c=-0xb2*-0x21+-0x159+-0x39*0x61+0.000001){return Math['abs'](this['x']-_0x4f688c['x'])<_0x2d182c&&Math['abs'](this['y']-_0x4f688c['y'])<_0x2d182c&&Math['abs'](this['z']-_0x4f688c['z'])<_0x2d182c&&Math['abs'](this['w']-_0x4f688c['w'])<_0x2d182c;}['getAxisAng'+'le'](_0xf9d8bb){let _0x5e03f0=Math['acos'](this['w'])*(-0x1*0x1369+0xa7*-0x3b+0x39e8);const _0x42c8ee=Math['sin'](_0x5e03f0/(0x1f+-0x261c+0x25ff*0x1));return _0x42c8ee!==0x1ab9*0x1+0x142f*-0x1+-0x68a?(_0xf9d8bb['x']=this['x']/_0x42c8ee,_0xf9d8bb['y']=this['y']/_0x42c8ee,_0xf9d8bb['z']=this['z']/_0x42c8ee,(_0xf9d8bb['x']<-0x2*0x105b+-0x1*0x17aa+0xb*0x520||_0xf9d8bb['y']<-0x187d+0xa56+0xe27*0x1||_0xf9d8bb['z']<0x1fae*-0x1+0x2393+-0x1*0x3e5)&&(_0xf9d8bb['x']*=-(-0x2285*0x1+-0x1*-0x721+0x1b65),_0xf9d8bb['y']*=-(-0xc01*-0x3+-0x2*-0x2ed+-0x5e*0x72),_0xf9d8bb['z']*=-(0x1249+0x1bff+-0x2e47),_0x5e03f0*=-(-0x16a7*-0x1+-0x3*-0x10f+-0x19d3))):(_0xf9d8bb['x']=0x1*0x39e+-0x5f*-0x18+0x5*-0x281,_0xf9d8bb['y']=0x2ff*-0x6+0x1f61*-0x1+-0x23*-0x169,_0xf9d8bb['z']=0x1c24+0x101c+-0x2c40),_0x5e03f0*z['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x1d265d=new A()){let _0x4a9e3d,_0x13bf7b,_0x4d227c;const _0x32e5c8=this['x'],_0x4f6711=this['y'],_0x43d7f7=this['z'],_0x11007e=this['w'],_0x57029=(-0x11*-0xce+-0x962*0x4+0x17dc)*(_0x11007e*_0x4f6711-_0x32e5c8*_0x43d7f7);return _0x57029<=-(0xe93+-0x9d6*0x2+0x519+0.99999)?(_0x4a9e3d=(0x1cb7+0x528+-0x21dd)*Math['atan2'](_0x32e5c8,_0x11007e),_0x13bf7b=-Math['PI']/(-0x899+-0x1ecd+-0x13b4*-0x2),_0x4d227c=-0x2*-0x7c9+0x30*-0x24+-0x8d2*0x1):_0x57029>=0x2e*-0x2c+-0x254b*0x1+0x2d33+0.99999?(_0x4a9e3d=(-0x1342+0x2179+-0x1*0xe35)*Math['atan2'](_0x32e5c8,_0x11007e),_0x13bf7b=Math['PI']/(0x13*-0x64+0x46a*0x5+-0xea4),_0x4d227c=-0x1cde+0x1e3a+-0x15c):(_0x4a9e3d=Math['atan2']((-0xd2d+0x1c74+-0xf45)*(_0x11007e*_0x32e5c8+_0x4f6711*_0x43d7f7),-0x206e+0x1d31+0x33e-(-0x99*-0x13+0x121e+-0x1d77)*(_0x32e5c8*_0x32e5c8+_0x4f6711*_0x4f6711)),_0x13bf7b=Math['asin'](_0x57029),_0x4d227c=Math['atan2']((-0x136f*-0x1+-0xa25*-0x1+0x5ea*-0x5)*(_0x11007e*_0x43d7f7+_0x32e5c8*_0x4f6711),-0xbb1+0x1*-0x20c8+-0x1*-0x2c7a-(-0x217b*-0x1+-0x1e06+-0x373)*(_0x4f6711*_0x4f6711+_0x43d7f7*_0x43d7f7))),_0x1d265d['set'](_0x4a9e3d,_0x13bf7b,_0x4d227c)['mulScalar'](z['RAD_TO_DEG']);}['invert'](_0xb5f3e=this){return this['conjugate'](_0xb5f3e)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['mul'](_0x1c0c3a){const _0x377d3c=this['x'],_0xfb1738=this['y'],_0x5890c5=this['z'],_0x2da64e=this['w'],_0x4ef98a=_0x1c0c3a['x'],_0x425b9e=_0x1c0c3a['y'],_0x2796a0=_0x1c0c3a['z'],_0x3cacf4=_0x1c0c3a['w'];return this['x']=_0x2da64e*_0x4ef98a+_0x377d3c*_0x3cacf4+_0xfb1738*_0x2796a0-_0x5890c5*_0x425b9e,this['y']=_0x2da64e*_0x425b9e+_0xfb1738*_0x3cacf4+_0x5890c5*_0x4ef98a-_0x377d3c*_0x2796a0,this['z']=_0x2da64e*_0x2796a0+_0x5890c5*_0x3cacf4+_0x377d3c*_0x425b9e-_0xfb1738*_0x4ef98a,this['w']=_0x2da64e*_0x3cacf4-_0x377d3c*_0x4ef98a-_0xfb1738*_0x425b9e-_0x5890c5*_0x2796a0,this;}['mulScalar'](_0x541487,_0x2c2db1=this){return this['x']=_0x2c2db1['x']*_0x541487,this['y']=_0x2c2db1['y']*_0x541487,this['z']=_0x2c2db1['z']*_0x541487,this['w']=_0x2c2db1['w']*_0x541487,this;}['mul2'](_0x35d030,_0x55cc72){const _0x419b06=_0x35d030['x'],_0x2b880a=_0x35d030['y'],_0x28837b=_0x35d030['z'],_0x1c31d7=_0x35d030['w'],_0x4c2837=_0x55cc72['x'],_0x50c482=_0x55cc72['y'],_0x306c14=_0x55cc72['z'],_0x45329e=_0x55cc72['w'];return this['x']=_0x1c31d7*_0x4c2837+_0x419b06*_0x45329e+_0x2b880a*_0x306c14-_0x28837b*_0x50c482,this['y']=_0x1c31d7*_0x50c482+_0x2b880a*_0x45329e+_0x28837b*_0x4c2837-_0x419b06*_0x306c14,this['z']=_0x1c31d7*_0x306c14+_0x28837b*_0x45329e+_0x419b06*_0x50c482-_0x2b880a*_0x4c2837,this['w']=_0x1c31d7*_0x45329e-_0x419b06*_0x4c2837-_0x2b880a*_0x50c482-_0x28837b*_0x306c14,this;}['normalize'](_0x2f2626=this){let _0x51b5ce=_0x2f2626['length']();return _0x51b5ce===-0xc44+0x137*-0x1+-0x1d*-0x77?(this['x']=this['y']=this['z']=-0x1*0x603+0x2300+-0xb5*0x29,this['w']=0x169f*0x1+-0x1392*0x1+-0x30c):(_0x51b5ce=(0x1bc8*0x1+-0x139e+-0x1*0x829)/_0x51b5ce,this['x']=_0x2f2626['x']*_0x51b5ce,this['y']=_0x2f2626['y']*_0x51b5ce,this['z']=_0x2f2626['z']*_0x51b5ce,this['w']=_0x2f2626['w']*_0x51b5ce),this;}['set'](_0x21962b,_0x408b75,_0x5703e6,_0x1c44fd){return this['x']=_0x21962b,this['y']=_0x408b75,this['z']=_0x5703e6,this['w']=_0x1c44fd,this;}['setFromAxi'+'sAngle'](_0x4c72a1,_0x237c86){_0x237c86*=(0x39*-0x2b+-0x830*0x1+0x11c3+0.5)*z['DEG_TO_RAD'];const _0x428a65=Math['sin'](_0x237c86),_0x19066f=Math['cos'](_0x237c86);return this['x']=_0x428a65*_0x4c72a1['x'],this['y']=_0x428a65*_0x4c72a1['y'],this['z']=_0x428a65*_0x4c72a1['z'],this['w']=_0x19066f,this;}['setFromEul'+'erAngles'](_0xbaac37,_0x575c0d,_0x1f61fa){if(_0xbaac37 instanceof A){const _0x4c3661=_0xbaac37;_0xbaac37=_0x4c3661['x'],_0x575c0d=_0x4c3661['y'],_0x1f61fa=_0x4c3661['z'];}const _0x494a6e=(0x4a5*0x1+-0xb84+0x6df+0.5)*z['DEG_TO_RAD'];_0xbaac37*=_0x494a6e,_0x575c0d*=_0x494a6e,_0x1f61fa*=_0x494a6e;const _0x548f0d=Math['sin'](_0xbaac37),_0xe72601=Math['cos'](_0xbaac37),_0xd727ae=Math['sin'](_0x575c0d),_0x316f09=Math['cos'](_0x575c0d),_0x58e47c=Math['sin'](_0x1f61fa),_0x5321ab=Math['cos'](_0x1f61fa);return this['x']=_0x548f0d*_0x316f09*_0x5321ab-_0xe72601*_0xd727ae*_0x58e47c,this['y']=_0xe72601*_0xd727ae*_0x5321ab+_0x548f0d*_0x316f09*_0x58e47c,this['z']=_0xe72601*_0x316f09*_0x58e47c-_0x548f0d*_0xd727ae*_0x5321ab,this['w']=_0xe72601*_0x316f09*_0x5321ab+_0x548f0d*_0xd727ae*_0x58e47c,this;}['setFromMat'+'4'](_0x4300d4){const _0x240190=_0x4300d4['data'];let _0x1cafbe=_0x240190[-0x4a*0x6e+-0x41*0x47+0x31d3],_0x1e92ed=_0x240190[0x855+0x1*0x1291+-0x1ae5],_0xef5bd6=_0x240190[0xc6f+-0x104*0x25+-0x2f*-0x89],_0x1b04eb=_0x240190[0x2694+-0x1529+-0x2d*0x63],_0x192feb=_0x240190[-0x190c*0x1+-0x1d*0x6+0x19bf],_0x28bf51=_0x240190[-0x1ad7+0x20*0x6a+0xd9d],_0x405aab=_0x240190[0x754+0x1ea2+-0x796*0x5],_0x11af00=_0x240190[-0xe69+0x8b*0x1+0xde7],_0x3e9cf4=_0x240190[-0xe9d*0x2+0x22*-0x9d+0x5*0xa06],_0x19c7e9;return _0x19c7e9=_0x1cafbe*_0x1cafbe+_0x1e92ed*_0x1e92ed+_0xef5bd6*_0xef5bd6,_0x19c7e9===0xfb1+0x1*-0x779+-0x838?this['set'](0xb3b+-0x105*-0x2+-0xd45,-0x5*0x411+-0x167b*0x1+0x2ad0,0x1*-0x959+0x5d9+0x40*0xe,0x7c*-0x4d+-0x5e3+0x2b30):(_0x19c7e9=(0x1708+0x2a*-0x4e+-0xa3b)/Math['sqrt'](_0x19c7e9),_0x1cafbe*=_0x19c7e9,_0x1e92ed*=_0x19c7e9,_0xef5bd6*=_0x19c7e9,_0x19c7e9=_0x1b04eb*_0x1b04eb+_0x192feb*_0x192feb+_0x28bf51*_0x28bf51,_0x19c7e9===-0x1f5f+0x2f*-0x62+0x315d?this['set'](0x7*0x3a3+0x1*-0x20dd+0x768,0x3*0x355+-0x1c59+0x2*0x92d,0xb44+-0x1a22+0xede,0x66b*-0x2+0x2*0xc8b+-0xc3f):(_0x19c7e9=(0x349+-0x4b9+-0x171*-0x1)/Math['sqrt'](_0x19c7e9),_0x1b04eb*=_0x19c7e9,_0x192feb*=_0x19c7e9,_0x28bf51*=_0x19c7e9,_0x19c7e9=_0x405aab*_0x405aab+_0x11af00*_0x11af00+_0x3e9cf4*_0x3e9cf4,_0x19c7e9===0x1*-0x2495+0x1e86+0x60f?this['set'](-0x1*-0x2317+-0xf*-0x1ac+-0x3c2b,-0x336+0x38e+0x2c*-0x2,0x2285+0x26c0*0x1+-0x4945,0x253b*0x1+0xa75+0x2faf*-0x1):(_0x19c7e9=(-0x1*-0xbb1+-0x25c+-0x954)/Math['sqrt'](_0x19c7e9),_0x405aab*=_0x19c7e9,_0x11af00*=_0x19c7e9,_0x3e9cf4*=_0x19c7e9,_0x3e9cf4<0x15a*-0x5+-0xfe2+0x9*0x284?_0x1cafbe>_0x192feb?this['set'](0x919+0x565*-0x5+0x11e1*0x1+_0x1cafbe-_0x192feb-_0x3e9cf4,_0x1e92ed+_0x1b04eb,_0x405aab+_0xef5bd6,_0x28bf51-_0x11af00):this['set'](_0x1e92ed+_0x1b04eb,-0x2*-0x70b+-0x858+-0x5bd-_0x1cafbe+_0x192feb-_0x3e9cf4,_0x28bf51+_0x11af00,_0x405aab-_0xef5bd6):_0x1cafbe<-_0x192feb?this['set'](_0x405aab+_0xef5bd6,_0x28bf51+_0x11af00,-0x1e3a+-0x6b4+0x24ef-_0x1cafbe-_0x192feb+_0x3e9cf4,_0x1e92ed-_0x1b04eb):this['set'](_0x28bf51-_0x11af00,_0x405aab-_0xef5bd6,_0x1e92ed-_0x1b04eb,-0x1f9c+-0x3f*0x9b+0x45c2+_0x1cafbe+_0x192feb+_0x3e9cf4),this['mulScalar']((0x71d+0x86e+0x33*-0x4e)/this['length']()))));}['setFromDir'+'ections'](_0x323899,_0x41ecc1){const _0x220857=-0x576+-0x229f*0x1+-0x2*-0x140b+_0x323899['dot'](_0x41ecc1);return _0x220857<Number['EPSILON']?Math['abs'](_0x323899['x'])>Math['abs'](_0x323899['y'])?(this['x']=-_0x323899['z'],this['y']=0xfd2+0x1*-0xf16+0x4*-0x2f,this['z']=_0x323899['x'],this['w']=-0x1*0x226d+0x6f7*-0x1+0x2964):(this['x']=0x4d5*0x3+0x1b91+-0x10*0x2a1,this['y']=-_0x323899['z'],this['z']=_0x323899['y'],this['w']=-0x19ff+0xb4d+0x1*0xeb2):(this['x']=_0x323899['y']*_0x41ecc1['z']-_0x323899['z']*_0x41ecc1['y'],this['y']=_0x323899['z']*_0x41ecc1['x']-_0x323899['x']*_0x41ecc1['z'],this['z']=_0x323899['x']*_0x41ecc1['y']-_0x323899['y']*_0x41ecc1['x'],this['w']=_0x220857),this['normalize']();}['slerp'](_0x5edb73,_0x4f0e3e,_0x18bfe4){const _0x3a48be=_0x5edb73['x'],_0x250c0d=_0x5edb73['y'],_0x341e91=_0x5edb73['z'],_0x1affb0=_0x5edb73['w'];let _0x487087=_0x4f0e3e['x'],_0xf20a7f=_0x4f0e3e['y'],_0x5b9e0e=_0x4f0e3e['z'],_0x4a4721=_0x4f0e3e['w'],_0x31139c=_0x1affb0*_0x4a4721+_0x3a48be*_0x487087+_0x250c0d*_0xf20a7f+_0x341e91*_0x5b9e0e;if(_0x31139c<-0x1*-0x1181+-0x131d+0x19c&&(_0x4a4721=-_0x4a4721,_0x487087=-_0x487087,_0xf20a7f=-_0xf20a7f,_0x5b9e0e=-_0x5b9e0e,_0x31139c=-_0x31139c),Math['abs'](_0x31139c)>=0x141e+-0x154b+0x12e)return this['w']=_0x1affb0,this['x']=_0x3a48be,this['y']=_0x250c0d,this['z']=_0x341e91,this;const _0x44deec=Math['acos'](_0x31139c),_0x18cdff=Math['sqrt'](0x14*0x43+0x577*-0x2+-0x5b3*-0x1-_0x31139c*_0x31139c);if(Math['abs'](_0x18cdff)<0x503*-0x1+0x3*0x3fb+-0x6ee+0.001)return this['w']=_0x1affb0*(0xd78*-0x1+-0x100*0x1a+0x2778+0.5)+_0x4a4721*(0x75e+-0x2*-0xec3+-0x24e4+0.5),this['x']=_0x3a48be*(0x7*0x2ff+-0x120b+-0x2ee+0.5)+_0x487087*(0x10c8+-0x5*-0x2bd+-0x10d*0x1d+0.5),this['y']=_0x250c0d*(0x91f*-0x4+-0x10b3+-0xaa3*-0x5+0.5)+_0xf20a7f*(-0x17ac+0x1*-0x1fbc+0x6ed*0x8+0.5),this['z']=_0x341e91*(-0x1efe*0x1+0x80d*-0x1+0x7cf*0x5+0.5)+_0x5b9e0e*(0x1*0x255b+0x525+-0x10*0x2a8+0.5),this;const _0x5a9896=Math['sin']((-0x17b3*0x1+-0x1df1+0x35a5-_0x18bfe4)*_0x44deec)/_0x18cdff,_0x2e870=Math['sin'](_0x18bfe4*_0x44deec)/_0x18cdff;return this['w']=_0x1affb0*_0x5a9896+_0x4a4721*_0x2e870,this['x']=_0x3a48be*_0x5a9896+_0x487087*_0x2e870,this['y']=_0x250c0d*_0x5a9896+_0xf20a7f*_0x2e870,this['z']=_0x341e91*_0x5a9896+_0x5b9e0e*_0x2e870,this;}['transformV'+'ector'](_0x5b0068,_0x3154f8=new A()){const _0x508e88=_0x5b0068['x'],_0x3b84cb=_0x5b0068['y'],_0x530349=_0x5b0068['z'],_0x1c422a=this['x'],_0x2afe85=this['y'],_0xc09e38=this['z'],_0x4d06da=this['w'],_0x225f23=_0x4d06da*_0x508e88+_0x2afe85*_0x530349-_0xc09e38*_0x3b84cb,_0x3a1e51=_0x4d06da*_0x3b84cb+_0xc09e38*_0x508e88-_0x1c422a*_0x530349,_0x134442=_0x4d06da*_0x530349+_0x1c422a*_0x3b84cb-_0x2afe85*_0x508e88,_0x510991=-_0x1c422a*_0x508e88-_0x2afe85*_0x3b84cb-_0xc09e38*_0x530349;return _0x3154f8['x']=_0x225f23*_0x4d06da+_0x510991*-_0x1c422a+_0x3a1e51*-_0xc09e38-_0x134442*-_0x2afe85,_0x3154f8['y']=_0x3a1e51*_0x4d06da+_0x510991*-_0x2afe85+_0x134442*-_0x1c422a-_0x225f23*-_0xc09e38,_0x3154f8['z']=_0x134442*_0x4d06da+_0x510991*-_0xc09e38+_0x225f23*-_0x2afe85-_0x3a1e51*-_0x1c422a,_0x3154f8;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}};c(la,'IDENTITY',Object['freeze'](new la(0x4cd*-0x8+-0x575*-0x2+-0x17*-0x132,-0x1ccd+-0x190f+0x35dc,-0x1e21+0x1367*-0x1+0x3188,0x1f0c+-0x1*-0x1ac+0x7d*-0x43))),c(la,'ZERO',Object['freeze'](new la(-0x1357+-0x1b1*-0xa+0x26d,0x1e*0x127+0x1*-0x261b+-0xb5*-0x5,0x1*-0x224f+0x1101+0x5*0x376,-0x1*-0xec2+-0x19f8+0xb36)));let ie=la;const wn=new A(),Tn=new A(),am=new A(),om=new A(),vS=new A();class ve{constructor(_0x2fbf9d,_0x23c9c0){c(this,'center',new A()),c(this,'halfExtent'+'s',new A(-0x2615+0x1*-0x261b+0x986*0x8+0.5,-0x26dd*0x1+0x11f8+0x3*0x6f7+0.5,0x4*0x4c4+-0x2482*-0x1+-0x3792+0.5)),c(this,'_min',new A()),c(this,'_max',new A()),(_0x2fbf9d&&this['center']['copy'](_0x2fbf9d),_0x23c9c0&&this['halfExtent'+'s']['copy'](_0x23c9c0));}['add'](_0x3b657a){const _0x232fc4=this['center'],_0x18ec3f=_0x232fc4['x'],_0x2685ae=_0x232fc4['y'],_0x31008a=_0x232fc4['z'],_0x4c1859=this['halfExtent'+'s'],_0x5a1bc1=_0x4c1859['x'],_0x5b9a67=_0x4c1859['y'],_0xd7c129=_0x4c1859['z'];let _0x31e61e=_0x18ec3f-_0x5a1bc1,_0x3f8f16=_0x18ec3f+_0x5a1bc1,_0x319739=_0x2685ae-_0x5b9a67,_0x287e4d=_0x2685ae+_0x5b9a67,_0x10d2df=_0x31008a-_0xd7c129,_0x4759f2=_0x31008a+_0xd7c129;const _0x4e5858=_0x3b657a['center'],_0x284806=_0x4e5858['x'],_0x274be2=_0x4e5858['y'],_0x228701=_0x4e5858['z'],_0x5eb8d5=_0x3b657a['halfExtent'+'s'],_0x148a83=_0x5eb8d5['x'],_0x5ec1ce=_0x5eb8d5['y'],_0x3d1249=_0x5eb8d5['z'],_0x57f543=_0x284806-_0x148a83,_0x2322f2=_0x284806+_0x148a83,_0x36ea6d=_0x274be2-_0x5ec1ce,_0x41380c=_0x274be2+_0x5ec1ce,_0x1de8f6=_0x228701-_0x3d1249,_0x2439f9=_0x228701+_0x3d1249;_0x57f543<_0x31e61e&&(_0x31e61e=_0x57f543),_0x2322f2>_0x3f8f16&&(_0x3f8f16=_0x2322f2),_0x36ea6d<_0x319739&&(_0x319739=_0x36ea6d),_0x41380c>_0x287e4d&&(_0x287e4d=_0x41380c),_0x1de8f6<_0x10d2df&&(_0x10d2df=_0x1de8f6),_0x2439f9>_0x4759f2&&(_0x4759f2=_0x2439f9),_0x232fc4['x']=(_0x31e61e+_0x3f8f16)*(-0x1d*0x101+0x2*-0x1047+0x3dab+0.5),_0x232fc4['y']=(_0x319739+_0x287e4d)*(0x769+-0x1*-0x11+-0x77a+0.5),_0x232fc4['z']=(_0x10d2df+_0x4759f2)*(-0x1cc0+-0x59*-0x14+0x15cc+0.5),_0x4c1859['x']=(_0x3f8f16-_0x31e61e)*(0x22ff*0x1+-0x2*-0xdf+0x2d*-0xd1+0.5),_0x4c1859['y']=(_0x287e4d-_0x319739)*(0x114f+0x12*-0x17e+0x98d+0.5),_0x4c1859['z']=(_0x4759f2-_0x10d2df)*(-0x2537*0x1+0x23d4+0x1*0x163+0.5);}['copy'](_0x18e2a7){this['center']['copy'](_0x18e2a7['center']),this['halfExtent'+'s']['copy'](_0x18e2a7['halfExtent'+'s']);}['clone'](){return new ve(this['center'],this['halfExtent'+'s']);}['intersects'](_0x50e864){const _0x5dc64d=this['getMax'](),_0x4548bf=this['getMin'](),_0x1712d4=_0x50e864['getMax'](),_0x51a6ee=_0x50e864['getMin']();return _0x4548bf['x']<=_0x1712d4['x']&&_0x5dc64d['x']>=_0x51a6ee['x']&&_0x4548bf['y']<=_0x1712d4['y']&&_0x5dc64d['y']>=_0x51a6ee['y']&&_0x4548bf['z']<=_0x1712d4['z']&&_0x5dc64d['z']>=_0x51a6ee['z'];}['_intersect'+'sRay'](_0xb3bd25,_0x12bee8){const _0x2cedcf=wn['copy'](this['getMin']())['sub'](_0xb3bd25['origin']),_0x46a4a0=Tn['copy'](this['getMax']())['sub'](_0xb3bd25['origin']),_0x5ba2de=_0xb3bd25['direction'];_0x5ba2de['x']===-0x1*0x74b+-0xa99*-0x3+-0x1880?(_0x2cedcf['x']=_0x2cedcf['x']<-0x2288+0x433*-0x7+0x3fed?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x46a4a0['x']=_0x46a4a0['x']<0x15c2+0x8dc+-0x1e9e?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2cedcf['x']/=_0x5ba2de['x'],_0x46a4a0['x']/=_0x5ba2de['x']),_0x5ba2de['y']===-0x4*-0x31a+0x1d7f+-0x277*0x11?(_0x2cedcf['y']=_0x2cedcf['y']<0x2*-0x1235+-0x1*-0xcb4+0x17b6?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x46a4a0['y']=_0x46a4a0['y']<0x2*-0x2ad+-0x52f+0x3*0x383?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2cedcf['y']/=_0x5ba2de['y'],_0x46a4a0['y']/=_0x5ba2de['y']),_0x5ba2de['z']===-0xdf2+0xb61+0x1*0x291?(_0x2cedcf['z']=_0x2cedcf['z']<0xb*0xa7+-0x1*-0x195d+0xee*-0x23?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x46a4a0['z']=_0x46a4a0['z']<-0x205f*0x1+-0x1143+0x2*0x18d1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x2cedcf['z']/=_0x5ba2de['z'],_0x46a4a0['z']/=_0x5ba2de['z']);const _0x5255c8=am['set'](Math['min'](_0x2cedcf['x'],_0x46a4a0['x']),Math['min'](_0x2cedcf['y'],_0x46a4a0['y']),Math['min'](_0x2cedcf['z'],_0x46a4a0['z'])),_0x23ac65=om['set'](Math['max'](_0x2cedcf['x'],_0x46a4a0['x']),Math['max'](_0x2cedcf['y'],_0x46a4a0['y']),Math['max'](_0x2cedcf['z'],_0x46a4a0['z'])),_0xff9c41=Math['min'](Math['min'](_0x23ac65['x'],_0x23ac65['y']),_0x23ac65['z']),_0x58e824=Math['max'](Math['max'](_0x5255c8['x'],_0x5255c8['y']),_0x5255c8['z']),_0x524506=_0xff9c41>=_0x58e824&&_0x58e824>=-0x8e9*0x1+0x1f51+-0x1668;return _0x524506&&_0x12bee8['copy'](_0xb3bd25['direction'])['mulScalar'](_0x58e824)['add'](_0xb3bd25['origin']),_0x524506;}['_fastInter'+'sectsRay'](_0x45615a){const _0x3d09fc=wn,_0xaa3cca=Tn,_0x256db0=am,_0x3cb0a0=om,_0x54995e=vS,_0x2fd092=_0x45615a['direction'];return _0x3d09fc['sub2'](_0x45615a['origin'],this['center']),_0x3cb0a0['set'](Math['abs'](_0x3d09fc['x']),Math['abs'](_0x3d09fc['y']),Math['abs'](_0x3d09fc['z'])),_0x256db0['mul2'](_0x3d09fc,_0x2fd092),!(_0x3cb0a0['x']>this['halfExtent'+'s']['x']&&_0x256db0['x']>=0x25ae+-0x1396+-0x1218||_0x3cb0a0['y']>this['halfExtent'+'s']['y']&&_0x256db0['y']>=0x171+-0xb*-0x1a+0x83*-0x5||_0x3cb0a0['z']>this['halfExtent'+'s']['z']&&_0x256db0['z']>=-0x6*-0x71+0x9*-0x1df+0x1*0xe31||(_0x54995e['set'](Math['abs'](_0x2fd092['x']),Math['abs'](_0x2fd092['y']),Math['abs'](_0x2fd092['z'])),_0xaa3cca['cross'](_0x2fd092,_0x3d09fc),_0xaa3cca['set'](Math['abs'](_0xaa3cca['x']),Math['abs'](_0xaa3cca['y']),Math['abs'](_0xaa3cca['z'])),_0xaa3cca['x']>this['halfExtent'+'s']['y']*_0x54995e['z']+this['halfExtent'+'s']['z']*_0x54995e['y'])||_0xaa3cca['y']>this['halfExtent'+'s']['x']*_0x54995e['z']+this['halfExtent'+'s']['z']*_0x54995e['x']||_0xaa3cca['z']>this['halfExtent'+'s']['x']*_0x54995e['y']+this['halfExtent'+'s']['y']*_0x54995e['x']);}['intersects'+'Ray'](_0x1cf557,_0x22e802){return _0x22e802?this['_intersect'+'sRay'](_0x1cf557,_0x22e802):this['_fastInter'+'sectsRay'](_0x1cf557);}['setMinMax'](_0x49f049,_0x3ae19a){this['center']['add2'](_0x3ae19a,_0x49f049)['mulScalar'](-0x1*-0xcb+0x7b*-0x47+0x2*0x10a9+0.5),this['halfExtent'+'s']['sub2'](_0x3ae19a,_0x49f049)['mulScalar'](0x26ad+-0xe28+-0x1885+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x1ee457){const _0x4be081=this['getMin'](),_0x576130=this['getMax']();return!(_0x1ee457['x']<_0x4be081['x']||_0x1ee457['x']>_0x576130['x']||_0x1ee457['y']<_0x4be081['y']||_0x1ee457['y']>_0x576130['y']||_0x1ee457['z']<_0x4be081['z']||_0x1ee457['z']>_0x576130['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x392ce7,_0x227fb5,_0x22c057=!(-0x2e7*0xb+-0x1966*0x1+0x3954)){const _0x44da92=_0x392ce7['center'],_0x524ff4=_0x392ce7['halfExtent'+'s'],_0x2bfc6e=_0x227fb5['data'];let _0xe6f32=_0x2bfc6e[-0x1*-0x1a7e+0x1*-0x19f1+-0x8d],_0x29c6e0=_0x2bfc6e[-0x641*0x2+0x2147+-0x14c1],_0x463e56=_0x2bfc6e[0xcc7+0x13e1+0x57*-0x60],_0x2f2e72=_0x2bfc6e[-0x2*0x12cb+0x1f*0xb3+-0x3*-0x54e],_0x520d31=_0x2bfc6e[-0xdee*0x1+0x1e3+0xc10],_0x3b8bbc=_0x2bfc6e[-0x754+-0x10+0x76d],_0x2768e3=_0x2bfc6e[0x1103+0x185*-0x9+-0x354],_0x5ca3f7=_0x2bfc6e[0xfa*-0x11+-0xb9d+0x1c3d],_0x4e08c6=_0x2bfc6e[0xca*0xe+0x1a1*0x7+-0x1*0x1669];if(_0x22c057){let _0x3e728b=_0xe6f32*_0xe6f32+_0x29c6e0*_0x29c6e0+_0x463e56*_0x463e56;if(_0x3e728b>-0x16a1+-0x15f+0x20*0xc0){const _0x406961=(-0xfca*0x1+0x7c*0x21+-0x31)/Math['sqrt'](_0x3e728b);_0xe6f32*=_0x406961,_0x29c6e0*=_0x406961,_0x463e56*=_0x406961;}if(_0x3e728b=_0x2f2e72*_0x2f2e72+_0x520d31*_0x520d31+_0x3b8bbc*_0x3b8bbc,_0x3e728b>-0x1dd5+-0x199e+0x11*0x343){const _0x5d03fc=(0x222a+0x1877+-0x86*0x70)/Math['sqrt'](_0x3e728b);_0x2f2e72*=_0x5d03fc,_0x520d31*=_0x5d03fc,_0x3b8bbc*=_0x5d03fc;}if(_0x3e728b=_0x2768e3*_0x2768e3+_0x5ca3f7*_0x5ca3f7+_0x4e08c6*_0x4e08c6,_0x3e728b>0x9*0x419+-0x244*-0xc+-0x4011){const _0x537c05=(-0x221b*-0x1+-0x10b0+-0x116a)/Math['sqrt'](_0x3e728b);_0x2768e3*=_0x537c05,_0x5ca3f7*=_0x537c05,_0x4e08c6*=_0x537c05;}}this['center']['set'](_0x2bfc6e[-0x2f+0x1475+-0x143a]+_0xe6f32*_0x44da92['x']+_0x29c6e0*_0x44da92['y']+_0x463e56*_0x44da92['z'],_0x2bfc6e[0xaed+0xc8c+0xbb6*-0x2]+_0x2f2e72*_0x44da92['x']+_0x520d31*_0x44da92['y']+_0x3b8bbc*_0x44da92['z'],_0x2bfc6e[0x8f9*-0x1+-0x1b01+-0x8*-0x481]+_0x2768e3*_0x44da92['x']+_0x5ca3f7*_0x44da92['y']+_0x4e08c6*_0x44da92['z']),this['halfExtent'+'s']['set'](Math['abs'](_0xe6f32)*_0x524ff4['x']+Math['abs'](_0x29c6e0)*_0x524ff4['y']+Math['abs'](_0x463e56)*_0x524ff4['z'],Math['abs'](_0x2f2e72)*_0x524ff4['x']+Math['abs'](_0x520d31)*_0x524ff4['y']+Math['abs'](_0x3b8bbc)*_0x524ff4['z'],Math['abs'](_0x2768e3)*_0x524ff4['x']+Math['abs'](_0x5ca3f7)*_0x524ff4['y']+Math['abs'](_0x4e08c6)*_0x524ff4['z']);}static['computeMin'+'Max'](_0x2d74a6,_0x1b9377,_0xd7ff79,_0x5c81b3=_0x2d74a6['length']/(-0x21c7*0x1+0x12a9*0x1+0xf21)){if(_0x5c81b3>-0x2*-0x1289+-0x12b1+-0x1261){let _0x149f20=_0x2d74a6[0x8b*-0x19+-0x25b2+0x3345],_0xa67f2c=_0x2d74a6[-0x9*-0x373+0x4*0x119+-0x5*0x716],_0x305bab=_0x2d74a6[-0x8e*-0x1c+0x446+-0x13cc],_0x1f99db=_0x149f20,_0x45c908=_0xa67f2c,_0x556c13=_0x305bab;const _0x573369=_0x5c81b3*(-0x18a*0x2+-0x203+0x51a);for(let _0x531220=0x1dc3+-0x11dd*0x1+-0xbe3;_0x531220<_0x573369;_0x531220+=-0x26*-0xb2+0xba4+-0x260d*0x1){const _0xf34486=_0x2d74a6[_0x531220],_0x32729f=_0x2d74a6[_0x531220+(-0x42*0x82+0x1732+0x371*0x3)],_0xcef930=_0x2d74a6[_0x531220+(-0x1d1+-0x26be+0x2891)];_0xf34486<_0x149f20&&(_0x149f20=_0xf34486),_0x32729f<_0xa67f2c&&(_0xa67f2c=_0x32729f),_0xcef930<_0x305bab&&(_0x305bab=_0xcef930),_0xf34486>_0x1f99db&&(_0x1f99db=_0xf34486),_0x32729f>_0x45c908&&(_0x45c908=_0x32729f),_0xcef930>_0x556c13&&(_0x556c13=_0xcef930);}_0x1b9377['set'](_0x149f20,_0xa67f2c,_0x305bab),_0xd7ff79['set'](_0x1f99db,_0x45c908,_0x556c13);}}['compute'](_0x30337d,_0x497eae){ve['computeMin'+'Max'](_0x30337d,wn,Tn,_0x497eae),this['setMinMax'](wn,Tn);}['intersects'+'BoundingSp'+'here'](_0x5a7953){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x5a7953)<=_0x5a7953['radius']*_0x5a7953['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x1b9b3d){const _0x585b86=this['getMin'](),_0x55bd50=this['getMax']();let _0x592203=-0x120c+0x133*0x15+-0x723;const _0x5e8bfa=['x','y','z'];for(let _0x33c1f0=0x30e+-0x5*0x26b+0x909;_0x33c1f0<-0x71*0x49+-0xc1*-0x2f+-0x1*0x333;++_0x33c1f0){let _0x2c94c1=0x1cf3+0x2*0x112d+0x1*-0x3f4d;const _0x5c6ede=_0x1b9b3d['center'][_0x5e8bfa[_0x33c1f0]],_0x2a0994=_0x585b86[_0x5e8bfa[_0x33c1f0]],_0x4c586b=_0x55bd50[_0x5e8bfa[_0x33c1f0]];let _0x4169e8=0x2*0x56d+-0x13d7+0x8fd;_0x5c6ede<_0x2a0994&&(_0x4169e8=_0x2a0994-_0x5c6ede,_0x2c94c1+=_0x4169e8*_0x4169e8),_0x5c6ede>_0x4c586b&&(_0x4169e8=_0x5c6ede-_0x4c586b,_0x2c94c1+=_0x4169e8*_0x4169e8),_0x592203+=_0x2c94c1;}return _0x592203;}['_expand'](_0x535061,_0x5b9b4a){wn['add2'](this['getMin'](),_0x535061),Tn['add2'](this['getMax'](),_0x5b9b4a),this['setMinMax'](wn,Tn);}}const bl=new A(),bS=new A();class Bf{constructor(_0x2cc88e=new A(),_0x48faa9=-0x4*-0x8fb+-0x1f36+-0x4b6+0.5){c(this,'center'),c(this,'radius'),(b['assert'](!Object['isFrozen'](_0x2cc88e),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x2cc88e,this['radius']=_0x48faa9);}['containsPo'+'int'](_0x555629){const _0x40540f=bl['sub2'](_0x555629,this['center'])['lengthSq'](),_0x30290a=this['radius'];return _0x40540f<_0x30290a*_0x30290a;}['intersects'+'Ray'](_0x1d3f0c,_0x397bf7){const _0xeeb1fd=bl['copy'](_0x1d3f0c['origin'])['sub'](this['center']),_0x9a5105=_0xeeb1fd['dot'](bS['copy'](_0x1d3f0c['direction'])['normalize']()),_0x268eeb=_0xeeb1fd['dot'](_0xeeb1fd)-this['radius']*this['radius'];if(_0x268eeb>-0x45*0x24+-0x150*-0x4+0x474&&_0x9a5105>0x4a2+-0xc1a+-0x3bc*-0x2)return!(-0x13*0xac+0x40d*-0x3+-0xb*-0x244);const _0x3334d0=_0x9a5105*_0x9a5105-_0x268eeb;if(_0x3334d0<0x3*0x2f4+0x26b*0x1+-0xb47*0x1)return!(-0x10b7*0x1+0x15cc+-0x514);const _0x529723=Math['abs'](-_0x9a5105-Math['sqrt'](_0x3334d0));return _0x397bf7&&_0x397bf7['copy'](_0x1d3f0c['direction'])['mulScalar'](_0x529723)['add'](_0x1d3f0c['origin']),!(0x1017+0x1975+-0xa63*0x4);}['intersects'+'BoundingSp'+'here'](_0x288489){bl['sub2'](_0x288489['center'],this['center']);const _0x89df4c=_0x288489['radius']+this['radius'];return bl['lengthSq']()<=_0x89df4c*_0x89df4c;}}class cy{constructor(_0x28d78a=A['UP'],_0x4008d3=-0x1843+-0x499+0x1cdc){c(this,'normal',new A()),c(this,'distance'),(this['normal']['copy'](_0x28d78a),this['distance']=_0x4008d3);}['clone'](){const _0x4c4f85=this['constructo'+'r'];return new _0x4c4f85()['copy'](this);}['copy'](_0x7c1677){return this['normal']['copy'](_0x7c1677['normal']),this['distance']=_0x7c1677['distance'],this;}['intersects'+'Line'](_0x1d4316,_0x55d959,_0x12976d){const _0x4ba127=this['distance'],_0x12d6f5=this['normal']['dot'](_0x1d4316)+_0x4ba127,_0x21e7c8=this['normal']['dot'](_0x55d959)+_0x4ba127,_0x3f6d48=_0x12d6f5/(_0x12d6f5-_0x21e7c8),_0x758c57=_0x3f6d48>=-0x1f0a+0x332*-0x9+0x3bcc*0x1&&_0x3f6d48<=0x172d*-0x1+0x1d+-0x49d*-0x5;return _0x758c57&&_0x12976d&&_0x12976d['lerp'](_0x1d4316,_0x55d959,_0x3f6d48),_0x758c57;}['intersects'+'Ray'](_0x44efbe,_0x53ff65){const _0x1df5e7=this['normal']['dot'](_0x44efbe['direction']);if(_0x1df5e7===-0x133*-0x11+0x1e2c+0x2b*-0x12d)return!(-0xbe4+-0x8e+-0xc73*-0x1);const _0x558a84=-(this['normal']['dot'](_0x44efbe['origin'])+this['distance'])/_0x1df5e7;return _0x558a84>=0xbd3+-0x8*-0x340+-0x17*0x1a5&&_0x53ff65&&_0x53ff65['copy'](_0x44efbe['direction'])['mulScalar'](_0x558a84)['add'](_0x44efbe['origin']),_0x558a84>=0x2681+0x3eb*-0x8+-0x729;}['normalize'](){const _0x2d7970=(-0x1*-0x5bf+-0x108*0x1d+0x182a)/this['normal']['length']();return this['normal']['mulScalar'](_0x2d7970),this['distance']*=_0x2d7970,this;}['set'](_0x53f712,_0x434bba,_0x45ea97,_0x442255){return this['normal']['set'](_0x53f712,_0x434bba,_0x45ea97),this['distance']=_0x442255,this;}['setFromPoi'+'ntNormal'](_0x1ae7b6,_0x4864e4){return this['normal']['copy'](_0x4864e4),this['distance']=-this['normal']['dot'](_0x1ae7b6),this;}}class wS{constructor(){c(this,'planes',[]);for(let _0x373649=0x1854+0x3a*-0x24+-0x102c;_0x373649<-0x2073*-0x1+0x1056+-0x49*0xab;_0x373649++)this['planes'][_0x373649]=new cy();}['clone'](){const _0x209c52=this['constructo'+'r'];return new _0x209c52()['copy'](this);}['copy'](_0x4fca38){for(let _0x165698=0x1429+0x446*0x4+0x231*-0x11;_0x165698<0x13c*-0x1+0x26*0x101+-0x626*0x6;_0x165698++)this['planes'][_0x165698]['copy'](_0x4fca38['planes'][_0x165698]);return this;}['setFromMat'+'4'](_0x3498ad){const [_0xee5f78,_0x284926,_0x409da3,_0x144139,_0x24daae,_0x2e1d5f,_0x33295d,_0x45ce02,_0x5d981c,_0x342f36,_0x4754a1,_0x329b2,_0x1f892f,_0x428372,_0x46aca3,_0x184ea4]=_0x3498ad['data'],_0x47632c=this['planes'];_0x47632c[-0x4*-0x8ad+-0x1def+0x1*-0x4c5]['set'](_0x144139-_0xee5f78,_0x45ce02-_0x24daae,_0x329b2-_0x5d981c,_0x184ea4-_0x1f892f)['normalize'](),_0x47632c[-0x2e8+-0x2*-0xae9+0x2f*-0x67]['set'](_0x144139+_0xee5f78,_0x45ce02+_0x24daae,_0x329b2+_0x5d981c,_0x184ea4+_0x1f892f)['normalize'](),_0x47632c[-0x21b2+-0x1*0x19a4+0xc*0x4f2]['set'](_0x144139+_0x284926,_0x45ce02+_0x2e1d5f,_0x329b2+_0x342f36,_0x184ea4+_0x428372)['normalize'](),_0x47632c[-0x1*-0x599+-0xf35+0x1*0x99f]['set'](_0x144139-_0x284926,_0x45ce02-_0x2e1d5f,_0x329b2-_0x342f36,_0x184ea4-_0x428372)['normalize'](),_0x47632c[-0xb*-0xf7+-0xd*-0x86+-0x1167]['set'](_0x144139-_0x409da3,_0x45ce02-_0x33295d,_0x329b2-_0x4754a1,_0x184ea4-_0x46aca3)['normalize'](),_0x47632c[-0x598+-0x1fa1+0x253e]['set'](_0x144139+_0x409da3,_0x45ce02+_0x33295d,_0x329b2+_0x4754a1,_0x184ea4+_0x46aca3)['normalize']();}['containsPo'+'int'](_0xbc9ee4){for(let _0x450421=0x1bf4+-0x250f+0x7*0x14d;_0x450421<-0xd*0x2a7+-0x25ff+-0x280*-0x1d;_0x450421++){const {normal:_0x5f13a3,distance:_0x13753d}=this['planes'][_0x450421];if(_0x5f13a3['dot'](_0xbc9ee4)+_0x13753d<=-0x214c+-0x34*0xad+0x4470)return!(-0x89b+-0x20*-0x2a+-0xa*-0x56);}return!(0x19fc+-0x3c*-0x1a+-0x2014);}['containsSp'+'here'](_0x2bf1d4){const {center:_0x14e214,radius:_0x55f808}=_0x2bf1d4;let _0x1769a8=0x7*-0x4b5+0x1f80+0x35*0x7;for(let _0x4b45df=-0x7da+0x166*0xe+-0xbba;_0x4b45df<-0x2500+0xdde+0x1728;_0x4b45df++){const {normal:_0x51a9db,distance:_0x4b3269}=this['planes'][_0x4b45df],_0x19bdbd=_0x51a9db['dot'](_0x14e214)+_0x4b3269;if(_0x19bdbd<=-_0x55f808)return 0x12d6*0x2+0x1*-0x42a+-0x2182;_0x19bdbd>_0x55f808&&_0x1769a8++;}return _0x1769a8===0x28e*-0x4+0x2691+0x3*-0x971?-0x2a*0x44+0x43*0x5e+-0xd70:0x9e0+0x105e*-0x1+0x67f;}}class _u{constructor(_0x50e0a2,_0x586f2d){c(this,'origin',new A()),c(this,'direction',A['FORWARD']['clone']()),(_0x50e0a2&&this['origin']['copy'](_0x50e0a2),_0x586f2d&&this['direction']['copy'](_0x586f2d));}['set'](_0x355f4b,_0x455c54){return this['origin']['copy'](_0x355f4b),this['direction']['copy'](_0x455c54),this;}['copy'](_0x10f7d0){return this['set'](_0x10f7d0['origin'],_0x10f7d0['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const mc='linear',Nf='inverse',dy='exponentia'+'l',nt=-0xcf5*0x2+-0xd25+0x3*0xd05,oe=-0xbd6+0x1*0x18c4+-0x1*0xced,zf=0x2594+-0x18f5+-0xc9d,Uf=-0x54*-0x43+-0x1724+0x128,ct=-0x1e97+-0x1b32+0x39ca,TS=-0x16*0x40+0x4db*-0x5+0x1dc9,uy=-0x664*0x3+0x1f01*-0x1+0x3231,AS=-0x197a+-0x5ea*-0x1+0x687*0x3,_c=0x1f31+-0x1a7c+0x4af*-0x1,gc=0xb50+-0x1a6*0xd+0xa26,Ut=0x44e*-0x9+0x3d*-0x53+0x3a85,ES=0x2*0x1048+0xa5f+-0x2aed,CS=0x13fa+-0x256c+-0x1*-0x1175,MS=0x23ac+0x6*0x3f3+-0x3b5a*0x1,ts=-0x11d7*0x1+-0x19f4+0x12f*0x25,Ph=0x1389+-0x1a03+0x4f*0x15,fy=0x4*0x191+-0x15b0+0xf6e*0x1,PS=-0x1de3+-0x569+0x234f,Io=0x18a7+0x21e1+-0x3a87*0x1,Do=0x52*-0x76+0x78d*0x5+0xd,Rh=-0x13bd+-0x5ad+0x196e,vt=-0x106d+0x725*-0x4+-0x29*-0x119,nn=-0x1a9c+0x2e5+0x17b8,xo=0x14bd+-0x1*-0x89b+-0x1d56,RS=-0x6*-0x15b+-0xe84+0x665,fe=0x9b*0x5+0x1e6e+0x5*-0x6b1,at=0x7f4+0x86*-0xa+-0x2b7,yc=0x654+-0x2285+0x1c33*0x1,xc=0x2485+0x24*0x81+-0x36a6,Sc=0x1*0x2151+-0x1161+-0xfec,an=-0x1*-0x1b4e+0xcf1+-0x10f*0x26,IS=0x59b*-0x1+0x436+0x165,Ih=0x756+-0x323+-0x219*0x2,Dh=0xff*0x13+-0x127a+-0x71,gu=-0xa78*0x1+0x9e9*-0x3+0x2836*0x1,DS=-0x1c5d+0xd33*-0x1+0x6ee*0x6,LS=-0x352*0xb+-0x444+-0x28cf*-0x1,FS=0x5*0x119+-0x15a6+-0x102f*-0x1,Ri=0x9*0xea+-0x2*-0xab5+-0x1d9d,yu=0x2283+-0x93a+0x1*-0x1949,Fi=-0x1b55+0xd16+-0x260*-0x6,or=-0x20c9+0x1d78+0x353,py=0x96f+0x9*0x354+-0x2763,my=-0x191b*-0x1+-0x992*-0x1+0x1156*-0x2,Vf=-0x1*-0x11b9+-0xa*0x36e+0x1095,vc=-0x909*0x1+0xd6*0x5+0x4de,Gf=-0x1*-0xda5+-0x1*-0xd4c+-0x1aed,bc=0x25be+-0x369+-0x2250,ur=-0x2f5*0x8+0x5*0xa3+-0xb*-0x1dd,Te=0x23ae+0x2360+-0x4707,wc=-0x68*0x39+-0xf*0x1c+0x18d4,Hf=-0x14d7+0x3d5+-0x1*-0x110b,Yo=0x24f0+-0x9b1+0x571*-0x5,Tc=0x1dfc+-0x429*0x9+-0x80*-0xf,it=0x1afb+-0x1*0x12d6+0x1*-0x819,Ac=0x1e92+0x23f1+-0x4276,et=0x1*-0x1f61+0x17d*0x11+0x622*0x1,Oi=-0x16d3+-0x62a+0x8f*0x34,Di=-0x15c5+0x5*0x1c9+0x3b*0x38,Ec=0xad*-0x35+-0x2*-0x11ff+-0x1c*0x1,ya=0x12f4*-0x1+0x49*-0x3b+0x23d9,Wf=0x1*-0x11d7+-0x686+0x1870,cs=0x234c+0x230a+-0x4642,Cc=0xf*0x1fb+0x260d+-0x43ad,$f=0xddd+-0x24*0xd5+0x65*0x29,qf=-0xa3d*0x3+-0xe0*-0xa+-0x2*-0xb07,Ko=0xca6+0x5*-0x471+0x9a7,Zo=-0x1*-0x829+-0x1118+0x908,Mc=-0xb9d+0x18d3*-0x1+0x248a,Pc=-0x190f+-0x11a2*0x1+0x2acc,_y=-0x6*0xe5+0x128e+-0xd14,gy=-0x1e6f+0x24a2+-0x616,yy=-0xcf*-0x23+-0x199+-0x1a96,xy=-0xf7a+-0x1ba0+0x2b39,Xf=0x257b+-0xb*-0x18e+-0x3675,Sy=0x176f+-0x1482+0x166*-0x2,jf=-0x31*-0x64+0x17a8+-0x2aaa*0x1,Yf=0x3*0xb+0xb60+0xf*-0xc2,Kf=0x3f9+-0x1*-0x248+-0x61d,on=0x135*-0x1c+-0x69*0x47+0xfc4*0x4,Zf=0x220d+0x1bb8+-0xc53*0x5,vy=-0xcf1*-0x2+0x1e13+-0x37ce,Qf=-0x2*0xc2f+-0x1ce0+0x3566*0x1,Jf=-0x7*0x322+0x151c+-0xfb*-0x1,ep=-0x1df5*-0x1+0x1670+-0x343b*0x1,tp=-0xe7a+0x8*0x1df+-0x53,sp=-0x1adc+-0x1a4b+0xb*0x4d9,by=-0x15*-0x17+0x1*0x1e5+0x47*-0xd,ip=-0xd14+0x1011+-0x2cf,Rc=0x1*-0xedb+-0x20c0+0x2fca,rp=0x888+0x786+0x7ef*-0x2,yt=0x368+0x21e+-0x555,xa=0x1f1e+-0x3*-0x745+-0x34bb,np=-0x15*0x168+-0x13*0xdb+0x2dfc,ap=0xf9d+0x63*0x1f+0xa7*-0x2a,op=-0x1b64+0x2*-0x977+0x115*0x2b,xu=-0x179f+0xc1c+0xbb9,Su=0x2421*0x1+0x1b82+-0x3f6c*0x1,vu=0x25b+-0x1307+0x439*0x4,bu=-0x83*0x3c+0x1*-0xe3+0x1fd4,wu=-0x1354*0x1+-0x3*0x218+0x19da,Tu=-0x2*0x12c5+-0x1be6+0x41af,wy=-0x799+0x2*-0x742+0x479*0x5,Ty=0x1a8+-0x6*0x2cd+0xf67,Ay=-0x1a2f*-0x1+-0x1a2a+-0x1*-0x3d,Ey=0x5f8*-0x1+0x8*0x469+-0x1d0d,Au=-0x616+0x5*0x9+0x62d,ca=-0x1b77+0x1116*-0x1+0x2cd2*0x1,At=new Map([[py,{'name':'A8','size':0x1,'ldr':!(0x13c3+0x4f9*0x3+-0x22ae)}],[ap,{'name':'R8','size':0x1,'ldr':!(0xa99*-0x3+-0x18d7*0x1+0x1*0x38a2)}],[my,{'name':'L8','size':0x1,'ldr':!(0x1922+0x8c*-0x3d+0x83a)}],[Vf,{'name':'LA8','size':0x2,'ldr':!(0x9*-0x343+0x1ecf+-0x174)}],[op,{'name':'RG8','size':0x2,'ldr':!(-0x19d9+0x1*-0x1c8d+-0x279*-0x16)}],[vc,{'name':'RGB565','size':0x2,'ldr':!(-0x2315+0x2494+-0x17f)}],[Gf,{'name':'RGBA5551','size':0x2,'ldr':!(-0x959*0x4+0x5*-0x23c+0x3090)}],[bc,{'name':'RGBA4','size':0x2,'ldr':!(-0x8b*-0x2f+-0x154e+0xd*-0x53)}],[ur,{'name':'RGB8','size':0x4,'ldr':!(-0x1be4+0x906+0x12de)}],[Te,{'name':'RGBA8','size':0x4,'ldr':!(-0x1de4+-0x2657*0x1+-0x443b*-0x1),'srgbFormat':cs}],[xa,{'name':'R16F','size':0x2}],[np,{'name':'RG16F','size':0x4}],[Tc,{'name':'RGB16F','size':0x8}],[it,{'name':'RGBA16F','size':0x8}],[Ac,{'name':'RGB32F','size':0x10}],[et,{'name':'RGBA32F','size':0x10}],[Oi,{'name':'R32F','size':0x4}],[Di,{'name':'DEPTH','size':0x4}],[ca,{'name':'DEPTH16','size':0x2}],[Ec,{'name':'DEPTHSTENC'+'IL','size':0x4}],[ya,{'name':'111110F','size':0x4}],[Wf,{'name':'SRGB8','size':0x4,'ldr':!(0x7cf+0x120b+0x3*-0x89e),'srgb':!(-0x8*-0x298+0x1*0x2497+0x1*-0x3957)}],[cs,{'name':'SRGBA8','size':0x4,'ldr':!(-0x2002+-0x1*-0x1939+0x9*0xc1),'srgb':!(0x273*0xd+-0x1a78+0xb*-0x7d)}],[xy,{'name':'BGRA8','size':0x4,'ldr':!(-0x5*0x5db+0x1*0x8d7+-0x6*-0x368)}],[wy,{'name':'SBGRA8','size':0x4,'ldr':!(-0x48+-0x1c1*-0x4+-0x6bc),'srgb':!(-0x25a0+-0x229*0xd+0x41b5)}],[wc,{'name':'DXT1','blockSize':0x8,'ldr':!(0x174a+-0x8aa*-0x1+0xa*-0x332),'srgbFormat':xu}],[Hf,{'name':'DXT3','blockSize':0x10,'ldr':!(0x101b+0x154c+-0x2567),'srgbFormat':Su}],[Yo,{'name':'DXT5','blockSize':0x10,'ldr':!(0x1*-0x3aa+0xce4+0x1*-0x93a),'srgbFormat':vu}],[Cc,{'name':'ETC1','blockSize':0x8,'ldr':!(0x1*0x962+-0xafb*0x3+0x178f)}],[$f,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(0x229e+0x6e7+-0x2985*0x1),'srgbFormat':bu}],[qf,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0xaf4*-0x3+-0x237+-0x1ea5),'srgbFormat':wu}],[Ko,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(-0x1*0x8f0+0x931*0x1+-0x41),'blockSize':0x8}],[Zo,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x2354*0x1+0x3a*-0x57+-0xf9e),'blockSize':0x8}],[Mc,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x2*0x7f1+-0x10d8+0xf6),'blockSize':0x8}],[Pc,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(0x3b2*0x5+-0x85e+0x287*-0x4),'blockSize':0x8}],[_y,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x24db+0x33f*-0xa+0x4551),'srgbFormat':Tu}],[gy,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x17*-0x169+0x16e*0x18+-0x989*0x7)}],[yy,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x1*0x975+-0x5*-0x38a+0x7*-0x3e1)}],[Ty,{'name':'BC6H_RGBF','blockSize':0x10}],[Ay,{'name':'BC6H_RGBUF','blockSize':0x10}],[Ey,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x62f+0x136e+-0x1*0xd3f),'srgbFormat':Au}],[xu,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x1d3d+-0x225*-0x2+0x18f3),'srgb':!(0x1*-0xf05+0xe19+0xec)}],[Su,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x1*0x1f37+-0x1010+0x2f47),'srgb':!(0x1*-0xbc+0x2*0xaa3+-0x2*0xa45)}],[vu,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x1b33*-0x1+0x1ca6+-0x173*0x1),'srgb':!(0x19*0xf+0x1f1b+-0x2092)}],[bu,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x1*-0x332+0xbbe+0x1*-0x88c),'srgb':!(-0x15e1+0x5b9+-0x178*-0xb)}],[wu,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x1654+-0x1*0x8fc+0x1e8*-0x7),'srgb':!(-0x1*0x24e5+-0xfbd+-0x1*-0x34a2)}],[Tu,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x11a4+-0x208a+0x2*0x773),'srgb':!(-0xb*-0x2b5+-0x57*0x57+0x1*-0x36)}],[Au,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(-0x87*0x2+0x9*0x385+-0x1e9f),'srgb':!(0x970+0x296+-0x36*0x39)}],[Xf,{'name':'R8I','size':0x1,'isInt':!(-0x1*0x1ef8+-0x1ee*0xd+0x380e)}],[Sy,{'name':'R8U','size':0x1,'isInt':!(0x13c9+-0x1c4a+-0x1*-0x881)}],[jf,{'name':'R16I','size':0x2,'isInt':!(0x3b*-0x29+-0x1f59+0x2ea*0xe)}],[Yf,{'name':'R16U','size':0x2,'isInt':!(0x20c1+-0x268f+0x5ce)}],[Kf,{'name':'R32I','size':0x4,'isInt':!(0x59*0x5a+-0x1c2d+-0x31d)}],[on,{'name':'R32U','size':0x4,'isInt':!(0x1f4c+-0x169*-0x15+-0x1*0x3ce9)}],[Zf,{'name':'RG8I','size':0x2,'isInt':!(-0x653*-0x5+-0x9*-0x2a5+-0x1bb6*0x2)}],[vy,{'name':'RG8U','size':0x2,'isInt':!(-0x53*-0x15+-0xa7*-0x25+-0x22*0xe9)}],[Qf,{'name':'RG16I','size':0x4,'isInt':!(0xb*-0x2fc+-0x2b5+0x2389)}],[Jf,{'name':'RG16U','size':0x4,'isInt':!(-0x2*-0x214+0xbe*-0x21+0x1456)}],[ep,{'name':'RG32I','size':0x8,'isInt':!(-0x245+0x1*-0x1fca+0x220f)}],[tp,{'name':'RG32U','size':0x8,'isInt':!(-0xe*-0x1fa+0x13*-0x1ea+0x8b2)}],[sp,{'name':'RGBA8I','size':0x4,'isInt':!(0x1bb1+0x2629+0x2*-0x20ed)}],[by,{'name':'RGBA8U','size':0x4,'isInt':!(0x2f*0x1d+0x1*-0x228b+0x22*0xdc)}],[ip,{'name':'RGBA16I','size':0x8,'isInt':!(-0x2584+0x537+-0x1*-0x204d)}],[Rc,{'name':'RGBA16U','size':0x8,'isInt':!(-0xaeb+-0x4*0x3b9+-0x19cf*-0x1)}],[rp,{'name':'RGBA32I','size':0x10,'isInt':!(-0x32*-0x73+-0x1*0xf4f+-0x727)}],[yt,{'name':'RGBA32U','size':0x10,'isInt':!(0x1*-0xc79+0x5*0x26a+0x67)}]]),kS=_0x364d9a=>{var _0x23f367;return((_0x23f367=At['get'](_0x364d9a))==null?void(-0x83b+0x112f+-0x8f4):_0x23f367['blockSize'])!==void(0x2*0xc23+0x203d+0x275*-0x17);},Lh=_0x21e833=>{var _0x2ec300;return((_0x2ec300=At['get'](_0x21e833))==null?void(0xe13+0x747*-0x5+0x1650):_0x2ec300['srgb'])===!(-0x2*0xca+-0x1*0x13f1+0x1585);},sa=_0x155365=>{var _0x4e229e;return((_0x4e229e=At['get'](_0x155365))==null?void(-0x664+-0x1a68+-0x1066*-0x2):_0x4e229e['isInt'])===!(-0x1d18+0x22d5+-0x71*0xd);},Ic=_0x44b76b=>{var _0x29a9b7;return((_0x29a9b7=At['get'](_0x44b76b))==null?void(0x1114+0x11c5+0x22d9*-0x1):_0x29a9b7['srgbFormat'])||_0x44b76b;},OS=_0x2cea8c=>{for(const [_0x242139,_0x2df7e2]of At)if(_0x2df7e2['srgbFormat']===_0x2cea8c)return _0x242139;return _0x2cea8c;},Cy=_0x4ebd93=>{const _0x5d60b2=At['get'](_0x4ebd93);return!!(_0x5d60b2!=null&&_0x5d60b2['ldr']&&!(_0x5d60b2!=null&&_0x5d60b2['srgb']));},My=_0x1964f5=>{switch(_0x1964f5){case Oi:case Ac:case et:return Float32Array;case Kf:case ep:case rp:return Int32Array;case on:case tp:case yt:return Uint32Array;case jf:case Qf:case ip:return Int16Array;case op:case Yf:case Jf:case Rc:case vc:case Gf:case bc:case xa:case np:case Tc:case it:return Uint16Array;case Xf:case Zf:case sp:return Int8Array;default:return Uint8Array;}},Dc=-0x2190+-0x1*-0x5f1+0x1b9f,Lc=-0x18cc+-0x1674+0x2f41,Py=0x67*0x26+0xcd1+0x1c19*-0x1,Ry=-0x105b+0x5*-0x3fb+-0x5*-0x741,Fs=-0x4c3*-0x3+0xc1*-0x20+0x9db*0x1,lr=0x1e29*-0x1+0x327*-0x9+0x3a8d,Kr=-0x90*-0xa+0xf23+0x14bd*-0x1,Xe='POSITION',ss='NORMAL',si='TANGENT',ei='BLENDWEIGH'+'T',Jt='BLENDINDIC'+'ES',It='COLOR',lm='TEXCOORD',ds='TEXCOORD0',yn='TEXCOORD1',Qo='TEXCOORD2',Jo='TEXCOORD3',el='TEXCOORD4',tl='TEXCOORD5',sl='TEXCOORD6',il='TEXCOORD7',Eu='ATTR0',Cu='ATTR1',Iy='ATTR2',Dy='ATTR3',Ly='ATTR4',BS='ATTR5',NS='ATTR6',zS='ATTR7',Lo='ATTR8',Fo='ATTR9',US='ATTR10',VS='ATTR11',lp='ATTR12',Sa='ATTR13',hp='ATTR14',va='ATTR15',Fy=0x5f*-0xd+0x2648+0x1*-0x2174,da=-0xb1+-0x137c+0x1*0x142d,GS=-0xfe+0x557*0x3+-0x1*0xf05,HS=0xf30+-0x1ee+-0x1*0xd3f,WS=-0x5b*0x28+0x1e45+-0xe4*0x12,wl=0x1a6*0x4+0x338+-0x9d0,ky=-0x1242+0x1*-0x1867+0x2aaa,ld=-0xd3+-0x8*0x2a8+0x1*0x1615,Bi='default',ln='rgbm',cp='rgbe',ko='rgbp',dp='swizzleGGG'+'R',Mu=0x75*-0x45+-0xf*0x16d+0x34ed*0x1,fr=-0x1b06+0x7b*0x36+-0x2*-0x8b,Oy=-0xb37+-0x1f*-0xa9+-0x2b*0x37,$s='2d',$S='2d-array',qS='cube',XS='3d',uh=-0x13dd+-0xb69*-0x1+-0x4*-0x21d,hd=-0xf*0x1f5+0x13fa+0x962,jS=-0x9fe*0x1+0x3cc*-0x4+-0x7c*-0x34,YS=-0x1*-0x1ba1+0x707+-0x22a5,KS=0x1024*-0x2+0xcb5+0x3b*0x55,ZS='none',Pu='cube',hm='equirect',QS='octahedral',By='glsl',Fh='wgsl',Fc=0x9ff+0x173f+-0x213e,Zr=-0x1*0x21e5+0x97*-0x34+0xf*0x44e,kc=-0x18c0+-0xed4+0x2796,rl=-0x4b3*-0x2+-0x48*-0x41+-0x1bab,Ny=-0x49c+-0x10f*-0xb+-0x3*0x257,Oo=0x1fa2+-0x13aa+-0xbf3,Re=0xa3*-0x35+-0x1c6c+0x3e31,ua=0x1667+-0x1eec+0x885,hn=-0x9a1+-0x125a+0xc7*0x24,Ks=0x156e+0x606+-0x1b72,hr=0xde8+0x7f*-0x3+-0xc68,Qt=-0x14*0x1cc+0x20*0x4+-0x2*-0x11ba,ba=-0xef*0x5+0x43e+0x72,Qr=0x1be+0x80*-0x31+0x288*0x9,Jr=-0x1c48+-0x1f*-0x1d+-0x6*-0x422,en=-0x431+0x2463+0x1*-0x202a,Bo=0x1d32+0x1d7e+-0x3aa7,No=-0x733+-0x26ef+0x2e2c,zo=-0x13e*-0x8+0x24f0+-0x2ed5,kh=-0x1*-0x17e5+0x1*0x13a2+-0x2b7b,Uo=-0x2d2*0xa+-0xdfc*0x1+0x2a3d,wa=-0x1*-0x1867+0xabc+0x503*-0x7,JS=-0x115+0x1173+-0x104f,ev=0x99*-0x18+-0x18fa+0x2762,Oc=-0xfd*-0x25+0x9ac+-0x2e2c,tv=-0x3*0x324+-0x1*-0x18c3+-0xf45,sv=0x1*0x1ff6+0x1*-0x2217+0xc*0x2f,iv=0x11d5+-0x77*0x3b+-0x9ac*-0x1,Bc=-0x59a*0x3+0x1*0x1edd+-0xdfa,Nc=0x890+-0x1c2f+0x13b5,up=-0xc05+0x14a*-0x1a+0x124*0x28,zy=0x74e+0x21a1+-0x28d7,rv=0x1fa+-0xae0+-0x7*-0x149,Ta=0x700+0x1*-0x886+0xd*0x20,Aa=0xe6f*0x1+0xcc*0x7+-0x1*0x13e8,Ea=0x6b9+0xf59+-0x15f6,Ca=-0xb1e+-0x599*0x6+0x2cd1,Ma=0x25e6+-0x85*-0x2f+-0x3e33,zc=-0x168+0x1871+-0x16ea,Uc=-0xb2*0x26+0xe1b+-0xd*-0xf5,Pa=0x473*0x2+0x61f*-0x2+0x379,Vc=0x3*0x151+-0x89f*-0x1+-0xc70,Gc=0xbda+0x8ac+-0x1463,Ra=-0xb*0x95+0xd36+-0x6ab,Hc=0xcbb*-0x3+-0xb57*0x3+0x485b,Wc=0x34+0x2a*-0xe9+0x2*0x1316,Oh=-0x4e1*0x1+0x27*-0x25+0xaab,fp=0x22b2+0x82*0x17+-0x2e38,pp=0x12b2*0x1+0x17a9*0x1+-0x2a32,nv=0x2dd+0x2*-0x11bf+-0x49*-0x73,av=-0x1b*0x165+-0x6b*0x53+-0x13*-0x3d1,ov=-0xb10+0x23*0xce+-0x16*0xc5,lv=0x1*0x1409+0xd19*0x2+-0x2e0e,hv=-0x8*0x2ca+0x11*-0x182+0x3020,cv=0x2a*0x7+0x1de+0x19*-0x1d,dv=-0x5*0x432+0x1*-0x1aaa+-0x2fd4*-0x1,uv=0x3*0x521+-0x652+-0x8e0,mp=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],fv=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],pv=new Map();fv['forEach']((_0x2a9ac5,_0x5af0e8)=>{_0x2a9ac5['forEach'](_0x54369e=>pv['set'](_0x54369e,_0x5af0e8));});const mv='webgl2',_p=-0xd7*-0x1f+0x1f*0xa9+-0x2e7f,fi=0x1f58+-0x561+0xf*-0x1bb,_v=0x15d5+0x1*-0x17d5+-0x3*-0xac,gv='ldr',Uy=-0x1*-0x1d77+0x2*-0x8d6+-0x5e5*0x2,Vy=-0x4f*0x61+-0xc8+0x1eb9,Gy=0x182e+-0x7*0x102+-0x111c,Hy=-0x91*-0xb+0x13*0x87+-0x207*0x8,Wy=-0x75d+-0x1d99*0x1+0x2506,$y=0x2*-0x3c+0x7c1+-0x729,qy=0x2323+-0x1e67+-0x47c,Xy=-0x1055+0x127*-0x1f+0x3c1*0xe,yv=0xa75+-0x17ed*-0x1+-0xb21*0x3,Bh=-0x5*-0x17+-0x5*0x42e+0x1473,jy=-0x23ab*-0x1+0xc*-0x2cf+-0x1f6,Ru=0x12ea+-0xf0c+-0x3dc*0x1,xv=['view','mesh','mesh_ub'],gp='default',fa=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],So=[-0x1be*-0x1+0x52*-0x56+-0x19cf*-0x1,-0xd93*0x1+-0x5*-0x63b+-0xb*0x199,-0x1*0x571+0x1d48+0x1*-0x17d5,0x249b*-0x1+-0x1b95+0x2eb*0x16,-0x2186+-0x3*0x1f7+0x276f*0x1,-0xd3*-0x5+0x6b5+-0x2*0x568,-0x1cd*0x13+0xe95*0x1+0x9d3*0x2,0x18c7+-0x21f5+-0x930*-0x1],Sv=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Nh=[Uint8Array,Uint16Array,Uint32Array],vv=[-0x64+0x1328*0x1+-0x12c3,0x1e9f+-0x1*-0x1c13+0x756*-0x8,-0x1eaf*0x1+-0xb*-0x251+0x538],Ae={};Ae[Xe]=-0x199*0x1+-0x55*0x5d+0x207a,Ae[ss]=0xc3*0x2c+0xd1c+-0x2e9f,Ae[ei]=0x1*0x20ab+0x18bb*0x1+-0x3964,Ae[Jt]=0xcae+0x643+-0x12ee,Ae[It]=-0x156*0x1+0x1*-0x206f+-0x117*-0x1f,Ae[ds]=0x1c09*-0x1+0x242f+-0x821,Ae[yn]=-0x63*0x5+0x47+-0x5*-0x56,Ae[Qo]=-0x18a3+0x199*-0x3+-0x1*-0x1d75,Ae[Jo]=-0x165*0x11+-0x1216+0x1*0x29d3,Ae[el]=-0xbb7+0xf20+0x1b0*-0x2,Ae[tl]=0x1*-0xcdc+-0x1*0x1aab+0x2791,Ae[sl]=0xa59*-0x2+0xee6+-0x5*-0x12b,Ae[il]=-0x20f*-0x4+-0x3d6+0x45a*-0x1,Ae[si]=-0x10c1+-0x7*0x17f+0x1*0x1b47,Ae[Eu]=-0xeb*-0x1+0x1b19+-0x28c*0xb,Ae[Cu]=-0x4b*-0x79+0x1186*0x1+-0x34f8,Ae[Iy]=-0x43*0x2b+0x1*0x1e9a+0x1357*-0x1,Ae[Dy]=-0x31*0x99+-0x683*0x1+0x59*0x67,Ae[Ly]=0x97*-0x1a+-0x2*0xa66+0x2426,Ae[BS]=-0xafd+-0x1431+0x1f33,Ae[NS]=0x396+-0x3*-0x586+-0x1422,Ae[zS]=-0x644+-0x3*0xc61+0x2b6e,Ae[Lo]=-0x275+-0x679*-0x1+-0x3fc,Ae[Fo]=-0x1805+-0x2f5*0xb+0x3895,Ae[US]=0x1acd*0x1+-0x1*-0x1d30+-0x1*0x37f3,Ae[VS]=0x96d*0x4+0x117*0x4+0x15b*-0x1f,Ae[lp]=0x2d*0x1b+0x1*-0x2216+0x1d63,Ae[Sa]=-0x2*0x28c+0x3*0x7c9+0x206*-0x9,Ae[hp]=-0x745+-0x91a+-0x91*-0x1d,Ae[va]=-0x147*-0x2+-0x3*-0x443+-0xf48;const Gi='1.51',Mi='1.55',gr='1.56',Et='1.57',cd='1.60',Se='1.62',pi='1.65',cm='1.70',dm='2.1',bv='2.3',An='2.5',Qi=class Qi{static['clearGpuMa'+'rkers'](){Qi['markers']['length']=0x8*0x3d+-0x1b32+0x194a;}static['pushGpuMar'+'ker'](_0x5315a1,_0x37cfd9){Qi['markers']['push'](_0x37cfd9),_0x5315a1['pushMarker'](_0x37cfd9);}static['popGpuMark'+'er'](_0x335249){Qi['markers']['length']&&Qi['markers']['pop'](),_0x335249['popMarker']();}static['toString'](){return Qi['markers']['join']('\x20|\x20');}};c(Qi,'markers',[]);let G=Qi,wv=0x1*-0x1f5e+-0x12ca+0x6*0x85c;const Tv={[$s]:'texture2D',[qS]:'textureCub'+'e',[XS]:'texture3D',[$S]:'texture2DA'+'rray'};class $c{constructor(_0x3e736e,_0x5e9bda){c(this,'slot',-(-0x510*-0x1+0x193+0x2*-0x351)),c(this,'scopeId',null),(this['name']=_0x3e736e,this['visibility']=_0x5e9bda);}}class yp extends $c{}class Av extends $c{constructor(_0x4c39ef,_0x3c73f6,_0x246ac7=!(-0x2*0x1007+-0x26e0+0x46ef)){super(_0x4c39ef,_0x3c73f6),c(this,'format',''),(this['readOnly']=_0x246ac7,b['assert'](_0x246ac7||!(_0x3c73f6&_p),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class yi extends $c{constructor(_0x5b9d8d,_0x1ed37f,_0x5c1fbc=$s,_0x435c79=uh,_0x5bbcec=!(0x1e2a+-0x1643+0x11*-0x77),_0x3ffa45=null){super(_0x5b9d8d,_0x1ed37f),this['textureDim'+'ension']=_0x5c1fbc,this['sampleType']=_0x435c79,this['hasSampler']=_0x5bbcec,this['samplerNam'+'e']=_0x3ffa45??_0x5b9d8d+'_sampler';}}class Ev extends $c{constructor(_0x2a1a5d,_0x93afa7=Te,_0x46070c=$s,_0x5b7d1a=!(-0x1c82+-0x18a*-0x7+-0x11bc*-0x1),_0x35937b=!(0x2*-0x68+0x1d47+0xe3b*-0x2)){super(_0x2a1a5d,_v),this['format']=_0x93afa7,this['textureDim'+'ension']=_0x46070c,this['write']=_0x5b7d1a,this['read']=_0x35937b;}}class Yy{constructor(_0x1aa57d,_0x17914b){c(this,'uniformBuf'+'ferFormats',[]),c(this,'textureFor'+'mats',[]),c(this,'storageTex'+'tureFormat'+'s',[]),c(this,'storageBuf'+'ferFormats',[]),(this['id']=wv++,gn['setName'](this,'BindGroupF'+'ormat_'+this['id']),b['assert'](_0x17914b));let _0x316527=0x15b3+0x1169+0x1*-0x271c;_0x17914b['forEach'](_0x21e0fe=>{_0x21e0fe['slot']=_0x316527++,_0x21e0fe instanceof yi&&_0x21e0fe['hasSampler']&&_0x316527++,_0x21e0fe instanceof yp?this['uniformBuf'+'ferFormats']['push'](_0x21e0fe):_0x21e0fe instanceof yi?this['textureFor'+'mats']['push'](_0x21e0fe):_0x21e0fe instanceof Ev?this['storageTex'+'tureFormat'+'s']['push'](_0x21e0fe):_0x21e0fe instanceof Av?this['storageBuf'+'ferFormats']['push'](_0x21e0fe):b['assert']('Invalid\x20bi'+'nd\x20format',_0x21e0fe);}),this['device']=_0x1aa57d;const _0x220d01=_0x1aa57d['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x579ec4,_0x1687eb)=>this['bufferForm'+'atsMap']['set'](_0x579ec4['name'],_0x1687eb)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x12475b,_0x133d4f)=>{this['textureFor'+'matsMap']['set'](_0x12475b['name'],_0x133d4f),_0x12475b['scopeId']=_0x220d01['resolve'](_0x12475b['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x403c55,_0x1268f0)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x403c55['name'],_0x1268f0),_0x403c55['scopeId']=_0x220d01['resolve'](_0x403c55['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x305595,_0x23b604)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x305595['name'],_0x23b604),_0x305595['scopeId']=_0x220d01['resolve'](_0x305595['name']);}),this['impl']=_0x1aa57d['createBind'+'GroupForma'+'tImpl'](this),b['trace'](eS,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+G['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x1562db){const _0x5bc0d8=this['textureFor'+'matsMap']['get'](_0x1562db);return _0x5bc0d8!==void(-0x8*0x26e+0xec*0x1+0x3b4*0x5)?this['textureFor'+'mats'][_0x5bc0d8]:null;}['getStorage'+'Texture'](_0xaea759){const _0x21fa58=this['storageTex'+'tureFormat'+'sMap']['get'](_0xaea759);return _0x21fa58!==void(0x14dd*-0x1+-0x1a6b+0x11*0x2c8)?this['storageTex'+'tureFormat'+'s'][_0x21fa58]:null;}['getShaderD'+'eclaration'+'Textures'](_0x137057){let _0x1fff04='';return this['textureFor'+'mats']['forEach'](_0x4b3b69=>{let _0x10806f=Tv[_0x4b3b69['textureDim'+'ension']];b['assert'](_0x10806f,'Unsupporte'+'d\x20texture\x20'+'type',_0x4b3b69['textureDim'+'ension']);const _0x24b041=_0x10806f==='texture2DA'+'rray',_0x1d92de=_0x4b3b69['sampleType']===KS?'u':_0x4b3b69['sampleType']===YS?'i':'';_0x10806f=''+_0x1d92de+_0x10806f;let _0x356a82='',_0x320bed='';_0x24b041&&(_0x356a82='_texture',_0x320bed='#define\x20'+_0x4b3b69['name']+'\x20'+_0x1d92de+('sampler2DA'+'rray(')+_0x4b3b69['name']+_0x356a82+',\x20'+_0x4b3b69['name']+'_sampler)\x0a'),_0x1fff04+='layout(set'+'\x20=\x20'+_0x137057+(',\x20binding\x20'+'=\x20')+_0x4b3b69['slot']+')\x20uniform\x20'+_0x10806f+'\x20'+_0x4b3b69['name']+_0x356a82+';\x0a',_0x4b3b69['hasSampler']&&(_0x1fff04+='layout(set'+'\x20=\x20'+_0x137057+(',\x20binding\x20'+'=\x20')+(_0x4b3b69['slot']+(0x204+-0x36e*0x2+0x4d9))+(')\x20uniform\x20'+'sampler\x20')+_0x4b3b69['name']+'_sampler;\x0a'),_0x1fff04+=_0x320bed;}),_0x1fff04;}['loseContex'+'t'](){}}class Ht{constructor(){c(this,'_cache',new Map());}['get'](_0x23bae7,_0xa1fd85){return this['_cache']['has'](_0x23bae7)||(this['_cache']['set'](_0x23bae7,_0xa1fd85()),_0x23bae7['on']('destroy',()=>{this['remove'](_0x23bae7);}),_0x23bae7['on']('devicelost',()=>{var _0x2de723,_0x1e95cf;(_0x1e95cf=(_0x2de723=this['_cache']['get'](_0x23bae7))==null?void(0x1d3+-0x10*-0x170+-0x18d3):_0x2de723['loseContex'+'t'])==null||_0x1e95cf['call'](_0x2de723,_0x23bae7);})),this['_cache']['get'](_0x23bae7);}['remove'](_0x24090e){var _0x168996,_0x36eb99;(_0x36eb99=(_0x168996=this['_cache']['get'](_0x24090e))==null?void(-0xb4*0xd+0x1*-0x641+0xf65):_0x168996['destroy'])==null||_0x36eb99['call'](_0x168996,_0x24090e),this['_cache']['delete'](_0x24090e);}}class Li{static['calcLevelD'+'imension'](_0x2cf828,_0xde3e45){return Math['max'](_0x2cf828>>_0xde3e45,-0x2399*0x1+-0x1093+-0x1*-0x342d);}static['calcMipLev'+'elsCount'](_0x553a15,_0x3f5298,_0x5da3bd=-0x11ad+0x4b4*-0x1+-0xf*-0x17e){return 0xece+0x1d0+-0x109d+Math['floor'](Math['log2'](Math['max'](_0x553a15,_0x3f5298,_0x5da3bd)));}static['calcLevelG'+'puSize'](_0x528afb,_0x4eebcd,_0x589027,_0x33822c){var _0x236f37;const _0x27d65f=At['get'](_0x33822c);b['assert'](_0x27d65f!==void(-0x24f*-0x3+-0xb9b+0x2*0x257),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x33822c);const _0x460218=((_0x236f37=At['get'](_0x33822c))==null?void(-0x1693+-0x1902+-0x3a9*-0xd):_0x236f37['size'])??0x940+0x6*0x443+0x22d2*-0x1;if(_0x460218>-0x740+0x18c6+-0x1186)return _0x528afb*_0x4eebcd*_0x589027*_0x460218;const _0x5c6301=_0x27d65f['blockSize']??-0x11c8+-0xac+0x4*0x49d;let _0x40d323=Math['floor']((_0x528afb+(-0x1394+-0x18a*0x9+-0x4c7*-0x7))/(-0x135f*-0x2+-0x87*-0x18+-0x1*0x3362));const _0x30b57e=Math['floor']((_0x4eebcd+(0x871*-0x1+0xb7e+0x30a*-0x1))/(-0x25*-0x99+0x34a*-0x7+0xed)),_0x2700f9=Math['floor']((_0x589027+(0x322+-0x17*-0xfa+0x6f*-0x3b))/(-0x7a9+-0x19*-0x17f+-0x1dba));return(_0x33822c===Ko||_0x33822c===Zo)&&(_0x40d323=Math['max'](Math['floor'](_0x40d323/(-0x222+0x2f0*-0x2+-0x402*-0x2)),0x1681+-0x1dbc+0x73c)),_0x40d323*_0x30b57e*_0x2700f9*_0x5c6301;}static['calcGpuSiz'+'e'](_0x1998c2,_0x1a6d30,_0x45e659,_0x3b4cee,_0x557913,_0x81f024){let _0x4611d3=0x1*-0x10cf+-0x1cac+0x1*0x2d7b;for(;_0x4611d3+=Li['calcLevelG'+'puSize'](_0x1998c2,_0x1a6d30,_0x45e659,_0x3b4cee),!(!_0x557913||_0x1998c2===0x1de7+0xefd+-0x2ce3&&_0x1a6d30===-0x793*-0x2+-0xe40+-0xe5&&_0x45e659===0x1*-0x55b+-0x958+0x4*0x3ad);)_0x1998c2=Math['max'](_0x1998c2>>0x25f7+-0x192f+-0xcc7,0x30c+0x12e5+-0x15f0),_0x1a6d30=Math['max'](_0x1a6d30>>0x1*0x997+-0xbfe*0x2+-0xe66*-0x1,-0x5d8+-0xb88+0x1161),_0x45e659=Math['max'](_0x45e659>>-0x12fe*0x2+-0x1*0x23ea+0x49e7*0x1,0x2*0x1df+0x2*-0xb19+0x1275);return _0x4611d3*(_0x81f024?0x1*-0x20b5+-0x1e87+-0x6*-0xa8b:-0x129d+-0x2*-0x2a7+-0x30*-0x47);}}let Cv=-0x130c+0x1*0x7cf+0x19b*0x7;class ce{constructor(_0x22bceb,_0x966982={}){c(this,'name'),c(this,'_gpuSize',-0x1cc8+-0xbb0+0x206*0x14),c(this,'id',Cv++),c(this,'_invalid',!(-0x1769+0x1121+0x1*0x649)),c(this,'_lockedLev'+'el',-(-0x6eb+-0xd*-0x19e+0x13*-0xbe)),c(this,'_lockedMod'+'e',wl),c(this,'renderVers'+'ionDirty',0x1*0x75e+0x18dd+-0x203b),c(this,'_storage',!(0x1*0x18cc+-0x1*-0x2b9+-0x1b84)),c(this,'_numLevels',0x3*0x60a+0x2*-0x3e+0x2*-0x8d1),c(this,'_numLevels'+'Requested');var _0x3ed94b;this['device']=_0x22bceb,b['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),b['assert'](!_0x966982['width']||Number['isInteger'](_0x966982['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x966982),b['assert'](!_0x966982['height']||Number['isInteger'](_0x966982['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x966982),b['assert'](!_0x966982['depth']||Number['isInteger'](_0x966982['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x966982),this['name']=_0x966982['name']??'',this['_width']=Math['floor'](_0x966982['width']??0x1f56+-0xe24*-0x1+-0x2d76),this['_height']=Math['floor'](_0x966982['height']??-0x7a9+-0x99f+-0x1ec*-0x9),this['_format']=_0x966982['format']??Te,this['_compresse'+'d']=kS(this['_format']),this['_integerFo'+'rmat']=sa(this['_format']),this['_integerFo'+'rmat']&&(_0x966982['minFilter']=fe,_0x966982['magFilter']=fe),this['_volume']=_0x966982['volume']??!(-0x1cac+0xef+-0x43*-0x6a),this['_depth']=Math['floor'](_0x966982['depth']??0x5ae*-0x1+0x25d8+-0x2029),this['_arrayLeng'+'th']=Math['floor'](_0x966982['arrayLengt'+'h']??-0xb*-0x305+0x3cf+-0x2506),this['_storage']=_0x966982['storage']??!(0xea*-0x2+0x190*-0xf+0x1945),this['_cubemap']=_0x966982['cubemap']??!(0x1624+0x12*-0x226+0x1089),this['_flipY']=_0x966982['flipY']??!(-0x25d3+0x14ba+-0x88d*-0x2),this['_premultip'+'lyAlpha']=_0x966982['premultipl'+'yAlpha']??!(-0x1*0x12b9+-0xb9*0xe+-0x8*-0x39b),this['_mipmaps']=_0x966982['mipmaps']??!(0x869+0x1a05+-0xe2*0x27),this['_numLevels'+'Requested']=_0x966982['numLevels'],_0x966982['numLevels']!==void(-0x15e1+-0x13e6+-0x9b*-0x45)&&(this['_numLevels']=_0x966982['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x966982['minFilter']??an,this['_magFilter']=_0x966982['magFilter']??at,this['_anisotrop'+'y']=_0x966982['anisotropy']??0x1ebc+0x761+-0x261c,this['_addressU']=_0x966982['addressU']??nt,this['_addressV']=_0x966982['addressV']??nt,this['_addressW']=_0x966982['addressW']??nt,this['_compareOn'+'Read']=_0x966982['compareOnR'+'ead']??!(0x2*0x9fb+0x2632+-0x3a27),this['_compareFu'+'nc']=_0x966982['compareFun'+'c']??Ih,this['type']=_0x966982['hasOwnProp'+'erty']('type')?_0x966982['type']:Bi,b['assert'](!_0x966982['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),b['assert'](!_0x966982['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=ZS,this['_cubemap']?this['projection']=Pu:_0x966982['projection']&&_0x966982['projection']!==Pu&&(this['projection']=_0x966982['projection']),this['profilerHi'+'nt']=_0x966982['profilerHi'+'nt']??-0x2117+0x2189+-0x72,this['_levels']=_0x966982['levels'];const _0x608632=!!_0x966982['levels'];this['_levels']||(this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null]),this['recreateIm'+'pl'](_0x608632),_0x22bceb['textures']['push'](this),b['trace'](Zp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x3ed94b=At['get'](this['format']))==null?void(-0x1ac0+-0x1236+0x2cf6):_0x3ed94b['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){b['trace'](Zp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x2b58fb=this['device'];if(_0x2b58fb){const _0x24f00b=_0x2b58fb['textures']['indexOf'](this);_0x24f00b!==-(-0x1ae0+0x68d*0x1+0x1454)&&_0x2b58fb['textures']['splice'](_0x24f00b,-0xc92+0x1*0x1987+-0xcf4*0x1),_0x2b58fb['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x2b58fb),this['adjustVram'+'SizeTracki'+'ng'](_0x2b58fb['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x5612d4=!(-0x11c5*0x1+0x15eb+-0x426)){var _0x12cf0c;const {device:_0x42c999}=this;(_0x12cf0c=this['impl'])==null||_0x12cf0c['destroy'](_0x42c999),this['impl']=null,this['impl']=_0x42c999['createText'+'ureImpl'](this),this['dirtyAll'](),_0x5612d4&&this['upload']();}['resize'](_0x58c50a,_0x1d3d0b,_0x2f2751=0x15e7+-0x17b5+-0x1*-0x1cf){const _0x5d6562=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x5d6562['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x5d6562),this['_width']=Math['floor'](_0x58c50a),this['_height']=Math['floor'](_0x1d3d0b),this['_depth']=Math['floor'](_0x2f2751),this['_updateNum'+'Level'](),this['impl']=_0x5d6562['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x52b424,_0x5abbb0){b['trace'](Kx,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x5abbb0+('\x20vram.text'+'ure:\x20')+_0x52b424['tex']+'\x20=>\x20'+(_0x52b424['tex']+_0x5abbb0)),_0x52b424['tex']+=_0x5abbb0,this['profilerHi'+'nt']===Mu?_0x52b424['texShadow']+=_0x5abbb0:this['profilerHi'+'nt']===fr?_0x52b424['texAsset']+=_0x5abbb0:this['profilerHi'+'nt']===Oy&&(_0x52b424['texLightma'+'p']+=_0x5abbb0);}['propertyCh'+'anged'](_0x1fc4a2){this['impl']['propertyCh'+'anged'](_0x1fc4a2),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x5e1891=this['mipmaps']?Li['calcMipLev'+'elsCount'](this['width'],this['height']):-0x2593*0x1+0x120d*0x2+0x17a,_0x22d6aa=this['_numLevels'+'Requested'];_0x22d6aa!==void(0xd*0x1d3+-0x9*0x3f7+0x4*0x2fe)&&_0x22d6aa>_0x5e1891&&b['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x5e1891,this),this['_numLevels']=Math['min'](_0x22d6aa??_0x5e1891,_0x5e1891),this['_mipmaps']=this['_numLevels']>0x251b+-0x21b2+0x368*-0x1;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0xbbe859){this['_minFilter']!==_0xbbe859&&(sa(this['_format'])?b['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0xbbe859,this['propertyCh'+'anged'](Uy)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x5c82db){this['_magFilter']!==_0x5c82db&&(sa(this['_format'])?b['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x5c82db,this['propertyCh'+'anged'](Vy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0xc468b8){this['_addressU']!==_0xc468b8&&(this['_addressU']=_0xc468b8,this['propertyCh'+'anged'](Gy));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x485ccf){this['_addressV']!==_0x485ccf&&(this['_addressV']=_0x485ccf,this['propertyCh'+'anged'](Hy));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x2979ed){if(!this['_volume']){b['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x2979ed!==this['_addressW']&&(this['_addressW']=_0x2979ed,this['propertyCh'+'anged'](Wy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0xae5ab6){this['_compareOn'+'Read']!==_0xae5ab6&&(this['_compareOn'+'Read']=_0xae5ab6,this['propertyCh'+'anged']($y));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x3729fd){this['_compareFu'+'nc']!==_0x3729fd&&(this['_compareFu'+'nc']=_0x3729fd,this['propertyCh'+'anged'](qy));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x221d4b){this['_anisotrop'+'y']!==_0x221d4b&&(this['_anisotrop'+'y']=_0x221d4b,this['propertyCh'+'anged'](Xy));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x4583e6){this['_mipmaps']!==_0x4583e6&&(this['device']['isWebGPU']?b['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):sa(this['_format'])?b['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x4583e6,_0x4583e6&&(this['_needsMipm'+'apsUpload']=!(-0x1a8b+0x130b+0x8*0xf0)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x3eb0bc=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x1d33+-0x30a*-0xb+-0x1*0x43a);return Li['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x3eb0bc,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x1601+0x1*-0x259a+0x1*0x3b9b;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['srgb'](_0x58363e){var _0x4e7bbc,_0x1f9aee,_0xc2e507,_0x4118f7;const _0x399d35=Lh(this['format']);if(_0x58363e!==_0x399d35){if(_0x58363e){const _0x3f7652=Ic(this['format']);this['_format']!==_0x3f7652&&(b['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x4e7bbc=At['get'](this['format']))==null?void(0xee3+-0x92b*0x1+-0x5b8):_0x4e7bbc['name'])+'\x20->\x20'+((_0x1f9aee=At['get'](_0x3f7652))==null?void(0xc1e+0x1*0x23b3+-0x2fd1):_0x1f9aee['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x3f7652,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x2019+-0xde3*0x1+0x2*0x16fe));}else{const _0x4eb1b7=OS(this['format']);this['_format']!==_0x4eb1b7&&(b['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0xc2e507=At['get'](this['format']))==null?void(-0x9d2*0x2+-0x1*0x2335+0x36d9*0x1):_0xc2e507['name'])+'\x20->\x20'+((_0x4118f7=At['get'](_0x4eb1b7))==null?void(0x2ed*-0x1+0x1*0x2ce+0x1f):_0x4118f7['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x4eb1b7,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x24c*0xb+-0x1*0x1b82+-0xc1*-0x46));}}}get['srgb'](){return Lh(this['format']);}set['flipY'](_0x3c1e3a){this['_flipY']!==_0x3c1e3a&&(this['_flipY']=_0x3c1e3a,this['_needsUplo'+'ad']=!(0x11c5+0xd28+-0x1eed));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x360735){this['_premultip'+'lyAlpha']!==_0x360735&&(this['_premultip'+'lyAlpha']=_0x360735,this['_needsUplo'+'ad']=!(-0x75+0x4*-0x93b+0x2561));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return z['powerOfTwo'](this['_width'])&&z['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case ln:return'rgbm';case cp:return'rgbe';case ko:return'rgbp';}return Cy(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x49a*0x3+-0x397*-0x5+0x1fc1*-0x1),!(0x749*-0x1+-0x2415+0x2b5e),!(0x2082+-0x201d+0x1*-0x65),!(0x1*0x2105+0x941+-0x2a46),!(0x2b*-0x85+-0x450*-0x4+-0x1*-0x517),!(-0x246+0x195*0x12+-0x1a34)]]:[!(0xc7*-0x25+-0x187d+0x3540)],this['_needsUplo'+'ad']=!(0x18e6+-0xa8c+0xe5a*-0x1),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x10a5+-0x2*0x355+-0x9fa),this['propertyCh'+'anged'](yv);}['lock'](_0x5dedc0={}){_0x5dedc0['level']??(_0x5dedc0['level']=0x1913+0x86*-0x26+0x52f*-0x1),_0x5dedc0['face']??(_0x5dedc0['face']=-0xb8d+-0x6*0xde+0x10c1),_0x5dedc0['mode']??(_0x5dedc0['mode']=ld),b['assert'](this['_lockedMod'+'e']===wl,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),b['assert'](_0x5dedc0['mode']===ky||_0x5dedc0['mode']===ld,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x5dedc0['mode'],this['_lockedLev'+'el']=_0x5dedc0['level'];const _0x1b57a8=this['cubemap']?this['_levels'][_0x5dedc0['face']]:this['_levels'];if(_0x1b57a8[_0x5dedc0['level']]===null){const _0x557c6a=Math['max'](0x109+-0x2608+0x2500,this['_width']>>_0x5dedc0['level']),_0x16d637=Math['max'](-0x1*-0x14c7+0x1*-0x1813+0x34d,this['_height']>>_0x5dedc0['level']),_0x968759=Math['max'](-0x448+-0x22b+0x19d*0x4,this['_depth']>>_0x5dedc0['level']),_0x644a4a=new ArrayBuffer(Li['calcLevelG'+'puSize'](_0x557c6a,_0x16d637,_0x968759,this['_format']));_0x1b57a8[_0x5dedc0['level']]=new(My(this['_format']))(_0x644a4a);}return _0x1b57a8[_0x5dedc0['level']];}['setSource'](_0x2d49fa,_0x38e034=-0x40*0x35+0x1*-0x2ea+0x102a){let _0x183c02=!(-0x14c2+0x646+0xe7d*0x1),_0x9ec13b,_0x122fd8;if(this['_cubemap']){if(_0x2d49fa[-0x1e09+0x48d*-0x4+0x303d]){_0x9ec13b=_0x2d49fa[0xc97*-0x2+0x3*-0x323+0x2297]['width']||-0x827*0x4+0x18*-0x14d+0x331*0x14,_0x122fd8=_0x2d49fa[-0x1dc4+-0x63*0x64+-0x3c*-0x124]['height']||0x1661+-0x20d+-0x4*0x515;for(let _0x394514=0x17e2+0x551*-0x3+-0x7ef;_0x394514<-0x2*0x8cd+-0x1d63+0x1d*0x19f;_0x394514++){const _0x52d7c4=_0x2d49fa[_0x394514];if(!_0x52d7c4||_0x52d7c4['width']!==_0x9ec13b||_0x52d7c4['height']!==_0x122fd8||!this['device']['_isBrowser'+'Interface'](_0x52d7c4)){_0x183c02=!(-0x7*0x2e7+0x182d*0x1+-0x13*0x34);break;}}}else _0x183c02=!(0x2c2*-0x3+0x1*-0x151e+0x1d64);if(!_0x183c02){for(let _0x48facf=-0x3*-0x14e+0x1e93*-0x1+-0x20d*-0xd;_0x48facf<0x24d1+-0x2ab*0x6+-0x11*0x139;_0x48facf++)this['_levels'][_0x38e034][_0x48facf]!==_0x2d49fa[_0x48facf]&&(this['_levelsUpd'+'ated'][_0x38e034][_0x48facf]=!(0x1755+-0x1f*-0xd9+0x1*-0x319c));}}else this['device']['_isBrowser'+'Interface'](_0x2d49fa)||(_0x183c02=!(-0x1e0d*0x1+0x21aa+-0x39d)),_0x183c02||(_0x2d49fa!==this['_levels'][_0x38e034]&&(this['_levelsUpd'+'ated'][_0x38e034]=!(0x26e3*0x1+0x17ff+-0x3ee2)),_0x2d49fa instanceof HTMLVideoElement?(_0x9ec13b=_0x2d49fa['videoWidth'],_0x122fd8=_0x2d49fa['videoHeigh'+'t']):(_0x9ec13b=_0x2d49fa['width'],_0x122fd8=_0x2d49fa['height']));if(_0x183c02){if(this['_width']=0x1069+-0x100c+-0x59,this['_height']=-0x9bc*-0x1+-0x1cfa+0x1342,this['_cubemap']){for(let _0x4de8a2=0x210b+-0x2507*0x1+0x14*0x33;_0x4de8a2<-0x455*-0x7+0x73c+-0x2589;_0x4de8a2++)this['_levels'][_0x38e034][_0x4de8a2]=null,this['_levelsUpd'+'ated'][_0x38e034][_0x4de8a2]=!(-0xb*0x343+-0x47*-0x47+-0x250*-0x7);}else this['_levels'][_0x38e034]=null,this['_levelsUpd'+'ated'][_0x38e034]=!(0x1793+-0x90+-0x1703);}else _0x38e034===-0x1ff*0x1+-0x75b+0x95a&&(this['_width']=_0x9ec13b,this['_height']=_0x122fd8),this['_levels'][_0x38e034]=_0x2d49fa;(this['_invalid']!==_0x183c02||!_0x183c02)&&(this['_invalid']=_0x183c02,this['upload']());}['getSource'](_0x113613=-0x2143+-0x4*-0x304+0x1533){return this['_levels'][_0x113613];}['unlock'](){this['_lockedMod'+'e']===wl&&b['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===ld&&this['upload'](),this['_lockedLev'+'el']=-(0xa04*0x1+-0xe96*0x2+0x1329),this['_lockedMod'+'e']=wl;}['upload'](){var _0x520a84,_0x15e462;this['_needsUplo'+'ad']=!(-0xa73+0x155*0x11+0xe*-0xdf),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x15e462=(_0x520a84=this['impl'])['uploadImme'+'diate'])==null||_0x15e462['call'](_0x520a84,this['device'],this);}['read'](_0x55da6c,_0x5374bf,_0x29d573,_0x432376,_0x513589={}){var _0x1950d6,_0x6a9127;return(_0x6a9127=(_0x1950d6=this['impl'])['read'])==null?void(0x1f2+-0x98*0x3d+0x2246):_0x6a9127['call'](_0x1950d6,_0x55da6c,_0x5374bf,_0x29d573,_0x432376,_0x513589);}}const Mv={'white':[0x60*0x22+-0x3*0xc76+0x88b*0x3,0x1ff4+-0x1ed1+0x1*-0x24,-0x535+0x17f1*-0x1+0x1e25,-0x2b*-0xcf+-0x235a+0x194],'gray':[-0x229b+-0x41*0x5+0x2460,0x1734+-0x2475+0x7*0x1f7,0x8*-0x26e+0x4d2*0x5+-0x52*0xd,-0x296*-0xb+0x1*-0x6f3+0x29*-0x80],'black':[0x19cb+0x16*0x14b+-0x363d,0x1*-0x1153+0x1*-0xad5+0x1c28,-0x168b+-0x1*0x1195+0x2820,0x1*-0x92+-0x26cf+0x2860],'normal':[0x23e+-0x2b8+-0x1*-0xfa,0x1*-0x16e1+0x139*-0x9+0x2262,-0x107*-0x4+0x1e17+-0x2134,-0xce1+0xb53+0x28d],'pink':[0x23c9+-0x16e2+-0xbe8,-0x5ab*-0x2+-0x26c7+0x1bf1,0x1*-0x180f+-0x6*-0x6+-0x3*-0x84e,-0xaa3*0x2+0x5ec*-0x5+0x33e1]};class Pv{constructor(){c(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x514ee7=>{_0x514ee7['destroy']();});}}const Rv=new Ht(),tn=(_0x4c5c0d,_0x49ec00)=>{const _0x3d2469=Rv['get'](_0x4c5c0d,()=>new Pv());if(!_0x3d2469['map']['has'](_0x49ec00)){const _0x333c21=new ce(_0x4c5c0d,{'name':'built-in-t'+'exture-'+_0x49ec00,'width':0x1,'height':0x1,'format':Te}),_0x2d49bf=_0x333c21['lock'](),_0x5494bc=Mv[_0x49ec00];b['assert'](_0x5494bc,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x49ec00+('\x27\x20not\x20foun'+'d')),_0x2d49bf['set'](_0x5494bc),_0x333c21['unlock'](),_0x3d2469['map']['set'](_0x49ec00,_0x333c21);}return _0x3d2469['map']['get'](_0x49ec00);};let Iv=0x8a7*-0x1+0xfa7+-0x4*0x1c0;class Ky{constructor(){c(this,'bindGroup'),c(this,'offsets',[]);}}class xp{constructor(_0x25f7d3,_0x3ad217,_0x3b5f87){c(this,'renderVers'+'ionUpdated',-(-0x2053+-0x1488+0x34dc)),c(this,'uniformBuf'+'fers'),c(this,'uniformBuf'+'ferOffsets',[]),(this['id']=Iv++,this['device']=_0x25f7d3,this['format']=_0x3ad217,this['dirty']=!(-0xc73*-0x1+0x1*0xab5+0x98*-0x27),this['impl']=_0x25f7d3['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x3b5f87,_0x3b5f87&&this['setUniform'+'Buffer'](gp,_0x3b5f87),b['trace'](Jx,'Alloc:\x20Id\x20'+this['id'],this,_0x3ad217));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x46ba49,_0x508ae1){const _0x166c41=this['format']['bufferForm'+'atsMap']['get'](_0x46ba49);b['assert'](_0x166c41!==void(0xf7f+-0x1*-0xd9b+-0x1d1a),'Setting\x20a\x20'+'uniform\x20['+_0x46ba49+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['uniformBuf'+'fers'][_0x166c41]!==_0x508ae1&&(this['uniformBuf'+'fers'][_0x166c41]=_0x508ae1,this['dirty']=!(-0x1d5a+-0x1*0x236b+0x3*0x1597));}['setStorage'+'Buffer'](_0x4b158f,_0xa16db){const _0x3fd38c=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x4b158f);b['assert'](_0x3fd38c!==void(-0x3*-0x8+0x378+-0x390),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x4b158f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageBuf'+'fers'][_0x3fd38c]!==_0xa16db&&(this['storageBuf'+'fers'][_0x3fd38c]=_0xa16db,this['dirty']=!(0x6fb*-0x1+0x1719+0x2*-0x80f));}['setTexture'](_0x178b96,_0x22c9af){const _0x503b3b=this['format']['textureFor'+'matsMap']['get'](_0x178b96);b['assert'](_0x503b3b!==void(-0x1*0x17b9+0x1af5+-0x33c),'Setting\x20a\x20'+'texture\x20['+_0x178b96+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['textures'][_0x503b3b]!==_0x22c9af?(this['textures'][_0x503b3b]=_0x22c9af,this['dirty']=!(-0xf5b+-0x18cd+0x808*0x5)):this['renderVers'+'ionUpdated']<_0x22c9af['renderVers'+'ionDirty']&&(this['dirty']=!(0x8b*0x17+0x1179+-0x1df6));}['setStorage'+'Texture'](_0x385077,_0x46d292){const _0x22f4bc=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x385077);b['assert'](_0x22f4bc!==void(0x1d7b*-0x1+-0x1*0x26+0x1da1),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x385077+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+G['toString']()+']',this),this['storageTex'+'tures'][_0x22f4bc]!==_0x46d292?(this['storageTex'+'tures'][_0x22f4bc]=_0x46d292,this['dirty']=!(0x23*-0x56+0x50b*0x7+0x178b*-0x1)):this['renderVers'+'ionUpdated']<_0x46d292['renderVers'+'ionDirty']&&(this['dirty']=!(0x976+-0x1*0x1f39+0x15c3));}['updateUnif'+'ormBuffers'](){for(let _0xb65d46=-0xaf3+0x1159*-0x1+0x713*0x4;_0xb65d46<this['uniformBuf'+'fers']['length'];_0xb65d46++)this['uniformBuf'+'fers'][_0xb65d46]['update']();}['update'](){const {textureFormats:_0x338228,storageTextureFormats:_0x4906db,storageBufferFormats:_0xf082b6}=this['format'];for(let _0x2e7901=0x657+0x7c2+0x9*-0x191;_0x2e7901<_0x338228['length'];_0x2e7901++){const _0x4768da=_0x338228[_0x2e7901];let _0x11baca=_0x4768da['scopeId']['value'];_0x11baca||(_0x4768da['name']==='uSceneDept'+'hMap'&&(b['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x11baca=tn(this['device'],'white')),_0x4768da['name']==='uSceneColo'+'rMap'&&(b['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x11baca=tn(this['device'],'pink')),_0x11baca||(b['errorOnce']('Texture\x20'+_0x4768da['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+G['toString']()+']'),_0x11baca=tn(this['device'],'pink'))),this['setTexture'](_0x4768da['name'],_0x11baca);}for(let _0x50a8d1=0x21cb+0x70a+-0x28d5;_0x50a8d1<_0x4906db['length'];_0x50a8d1++){const _0x10a376=_0x4906db[_0x50a8d1],_0x204249=_0x10a376['scopeId']['value'];b['assert'](_0x204249,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x10a376['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Texture'](_0x10a376['name'],_0x204249);}for(let _0x14650a=-0x2543+0x1*-0xdcd+0x3310;_0x14650a<_0xf082b6['length'];_0x14650a++){const _0x19060a=_0xf082b6[_0x14650a],_0x19c7e0=_0x19060a['scopeId']['value'];b['assert'](_0x19c7e0,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x19060a['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+G['toString']()+']',this),this['setStorage'+'Buffer'](_0x19060a['name'],_0x19c7e0);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x118835=-0x14ed+0x414+-0x13*-0xe3;_0x118835<this['uniformBuf'+'fers']['length'];_0x118835++){const _0x1158d2=this['uniformBuf'+'fers'][_0x118835];this['uniformBuf'+'ferOffsets'][_0x118835]=_0x1158d2['offset'],this['renderVers'+'ionUpdated']<_0x1158d2['renderVers'+'ionDirty']&&(this['dirty']=!(-0xb3e+0xc2*0x1f+0x70*-0x1c));}this['dirty']&&(this['dirty']=!(0xa6*-0x20+-0x115*-0x15+-0x1f8),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const Ue={'set'(_0x138eaa,_0x48ba07,_0x316c18,_0x5cc606=-0x1d*-0xa0+-0xdbf+-0x460){return _0x138eaa&~(_0x5cc606<<_0x316c18)|_0x48ba07<<_0x316c18;},'get'(_0x4dcd88,_0x295eef,_0xf829d9=0x119*-0x15+-0x1347+0x2a55){return _0x4dcd88>>_0x295eef&_0xf829d9;},'all'(_0x58f4ad,_0xe4cdf5,_0x36ca63=-0x157f+-0xc*-0x15+0x4*0x521){const _0x25eb91=_0x36ca63<<_0xe4cdf5;return(_0x58f4ad&_0x25eb91)===_0x25eb91;},'any'(_0x425b3b,_0x562ce3,_0x5b6a84=-0xec*-0xd+0x6*-0x373+-0x1*-0x8b7){return(_0x425b3b&_0x5b6a84<<_0x562ce3)!==-0x1*-0x1392+0x2442+-0x37d4;}},Tl=-0x328+-0xdd7+0x1106,Hi=-0x13cd+-0x19f7+0x2dd3,um=0x260*-0x1+0x2473+-0x2213,fm=-0x20c0+0x8b8*0x1+-0x5*-0x4cf,pm=-0x527*-0x1+0x133*-0x1a+0x1a0e,mm=0x2532*-0x1+0x1*-0xd8d+0x1965*0x2,_m=0x4bb+-0x1cf*-0x7+0x27a*-0x7,gm=0x1886*-0x1+-0x511*0x5+-0x1*-0x31ed,Iu=-0xd*0x2b+0xe54+-0xc0f,ym=0x2456*-0x1+-0x1*-0x2475+0x4*-0x2,xm=-0x2242+-0x1c03+-0x1f*-0x203,Sm=0x235*0x2+-0x18e*-0x19+-0x2b2f,vm=0xd*-0x1d6+0x16d9+-0x7*-0x29,Dv=0xeec+0x1df9*0x1+-0x2cd6,Lv=Iu,Ws=class Ws{constructor(_0x5f0ac9=!(0xccc+-0x2c8+-0xa03),_0x1a5d6c=Ut,_0x2e1deb=ct,_0x44c2a2=Uf,_0x5147d4,_0x983169,_0x4acc39,_0x221211=!(0x1d9f*-0x1+0x581*-0x4+-0x33a3*-0x1),_0x1a4c03=!(-0x6e2*0x1+0x1511*-0x1+0x1bf3),_0x319a1b=!(0xe14+-0xd2b*-0x2+-0x286a),_0x337a9f=!(0xc*0xef+-0x137d+0x2c3*0x3)){c(this,'target0',0x1169+-0x1838+-0x3*-0x245),(this['setColorBl'+'end'](_0x1a5d6c,_0x2e1deb,_0x44c2a2),this['setAlphaBl'+'end'](_0x5147d4??_0x1a5d6c,_0x983169??_0x2e1deb,_0x4acc39??_0x44c2a2),this['setColorWr'+'ite'](_0x221211,_0x1a4c03,_0x319a1b,_0x337a9f),this['blend']=_0x5f0ac9);}set['blend'](_0x1a2a4a){this['target0']=Ue['set'](this['target0'],_0x1a2a4a?0xe4f+0x239*0x11+0x5*-0xa6b:-0x26a8+0x4c7*0x5+0xec5,vm);}get['blend'](){return Ue['all'](this['target0'],vm);}['setColorBl'+'end'](_0xef04bf,_0x15e7cc,_0x3c23a){this['target0']=Ue['set'](this['target0'],_0xef04bf,um,Tl),this['target0']=Ue['set'](this['target0'],_0x15e7cc,fm,Hi),this['target0']=Ue['set'](this['target0'],_0x3c23a,pm,Hi);}['setAlphaBl'+'end'](_0x12c1a5,_0x22308f,_0x20ffb5){this['target0']=Ue['set'](this['target0'],_0x12c1a5,mm,Tl),this['target0']=Ue['set'](this['target0'],_0x22308f,_m,Hi),this['target0']=Ue['set'](this['target0'],_0x20ffb5,gm,Hi);}['setColorWr'+'ite'](_0x1f8588,_0x1f4b7c,_0x177496,_0x1bc1a3){this['redWrite']=_0x1f8588,this['greenWrite']=_0x1f4b7c,this['blueWrite']=_0x177496,this['alphaWrite']=_0x1bc1a3;}get['colorOp'](){return Ue['get'](this['target0'],um,Tl);}get['colorSrcFa'+'ctor'](){return Ue['get'](this['target0'],fm,Hi);}get['colorDstFa'+'ctor'](){return Ue['get'](this['target0'],pm,Hi);}get['alphaOp'](){return Ue['get'](this['target0'],mm,Tl);}get['alphaSrcFa'+'ctor'](){return Ue['get'](this['target0'],_m,Hi);}get['alphaDstFa'+'ctor'](){return Ue['get'](this['target0'],gm,Hi);}set['redWrite'](_0x481b09){this['target0']=Ue['set'](this['target0'],_0x481b09?-0x1663*0x1+0x7*0x16+0x15ca:-0x334+0x1*-0x1cdf+-0x77*-0x45,Iu);}get['redWrite'](){return Ue['all'](this['target0'],Iu);}set['greenWrite'](_0x520afd){this['target0']=Ue['set'](this['target0'],_0x520afd?-0x3*-0x70a+0xf*0xc9+0x4*-0x839:0x13e+0x2607*-0x1+0xc43*0x3,ym);}get['greenWrite'](){return Ue['all'](this['target0'],ym);}set['blueWrite'](_0x4542ed){this['target0']=Ue['set'](this['target0'],_0x4542ed?-0x1*0x234b+-0x10f1*0x2+0x452e:-0x10f*0x4+0x1*-0x2dd+0x719,xm);}get['blueWrite'](){return Ue['all'](this['target0'],xm);}set['alphaWrite'](_0x193813){this['target0']=Ue['set'](this['target0'],_0x193813?-0x1c13+-0x21aa+0x3dbe:-0xd41+0x7*-0x53+0xf86,Sm);}get['alphaWrite'](){return Ue['all'](this['target0'],Sm);}get['allWrite'](){return Ue['get'](this['target0'],Lv,Dv);}['copy'](_0x280127){return this['target0']=_0x280127['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x16d668){return this['target0']===_0x16d668['target0'];}};c(Ws,'NOBLEND',Object['freeze'](new Ws())),c(Ws,'NOWRITE',Object['freeze'](new Ws(void(0x1bef+0x5*0x467+-0x31f2),void(-0x2*-0xead+-0xa*-0x2c1+-0x38e4),void(-0x1c4b*0x1+0x4*0x146+0x1733),void(-0x59*0xb+-0xadd+0xeb0),void(-0xc28+-0xc*0x167+0x1cfc),void(0x1804+0x1a24+-0x3228),void(0x1915+-0x20b6+0x3f*0x1f),!(-0x107*-0x5+-0x220a*0x1+0x1ce8),!(-0x25aa+0x8d5+0x1cd6),!(-0x807+0x94*-0x33+0x2584),!(0x1*0x14d1+-0x1d66+0x896)))),c(Ws,'ALPHABLEND',Object['freeze'](new Ws(!(-0x26a3*0x1+-0xd6*0x7+0x2c7d),Ut,_c,gc))),c(Ws,'ADDBLEND',Object['freeze'](new Ws(!(0xaf*0x23+-0xcd8+-0xb15),Ut,ct,ct)));let bt=Ws;class Sp{constructor(){c(this,'map',new Map()),c(this,'id',-0x15b5*0x1+-0x1b7*-0x9+0x49*0x16);}['get'](_0x50e238){let _0x18eb8a=this['map']['get'](_0x50e238);return _0x18eb8a===void(0x175e+0x16af+-0x2e0d*0x1)&&(_0x18eb8a=this['id']++,this['map']['set'](_0x50e238,_0x18eb8a)),_0x18eb8a;}}const Fv=new Sp(),bm=0x1*0xa19+-0x10cf+0x159*0x5,wm=0xdd1+0x1aad+-0x287e*0x1,Tm=0x1165+-0x9ee+-0x774,Ji=class Ji{constructor(_0x4df77d=gu,_0x191777=!(0x2b*-0x2f+-0x658*-0x1+0x18d)){c(this,'data',-0xe4*0x1b+0x3f3+0x1419),c(this,'_depthBias',0x5*-0x52d+-0x7f*0x10+0x21d1),c(this,'_depthBias'+'Slope',0x389*-0x5+-0x10d*0xd+0x1f56),c(this,'key',-0x18f+0x12a7*0x1+-0x1118),(this['func']=_0x4df77d,this['write']=_0x191777);}set['test'](_0x4be2fa){this['func']=_0x4be2fa?gu:Ri,this['updateKey']();}get['test'](){return this['func']!==Ri;}set['write'](_0x479301){this['data']=Ue['set'](this['data'],_0x479301?0x1aec+0x21ac+-0x3c97:0x1814+0x2*-0x2b3+-0x12ae,Tm),this['updateKey']();}get['write'](){return Ue['all'](this['data'],Tm);}set['func'](_0x174b55){this['data']=Ue['set'](this['data'],_0x174b55,wm,bm),this['updateKey']();}get['func'](){return Ue['get'](this['data'],wm,bm);}set['depthBias'](_0x395b80){this['_depthBias']=_0x395b80,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x18e44d){this['_depthBias'+'Slope']=_0x18e44d,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x57b97e){return this['data']=_0x57b97e['data'],this['_depthBias']=_0x57b97e['_depthBias'],this['_depthBias'+'Slope']=_0x57b97e['_depthBias'+'Slope'],this['key']=_0x57b97e['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x42bd3d,_depthBias:_0x658b44,_depthBiasSlope:_0x28eaf2}=this,_0x40ca9a=_0x42bd3d+'-'+_0x658b44+'-'+_0x28eaf2;this['key']=Fv['get'](_0x40ca9a);}['equals'](_0xfb26ac){return this['key']===_0xfb26ac['key'];}};c(Ji,'DEFAULT',Object['freeze'](new Ji())),c(Ji,'NODEPTH',Object['freeze'](new Ji(Ri,!(-0x83c+0x2142+0x7*-0x393)))),c(Ji,'WRITEDEPTH',Object['freeze'](new Ji(Ri,!(0x4f0+-0x162b+-0x113b*-0x1))));let us=Ji;class Zy{constructor(){c(this,'globalId',0x1*0x1bb3+0x2352+-0x3f05),c(this,'revision',0x10c3+0x1*-0x5ad+-0x42*0x2b);}['equals'](_0x5d55e7){return this['globalId']===_0x5d55e7['globalId']&&this['revision']===_0x5d55e7['revision'];}['copy'](_0x4eeff4){this['globalId']=_0x4eeff4['globalId'],this['revision']=_0x4eeff4['revision'];}['reset'](){this['globalId']=0x1f30+0x1c82+-0x3bb2,this['revision']=-0x2*-0x5d5+-0x2211*0x1+0x1667;}}let Am=0x14d2+-0x1*-0x1cb5+-0x3187;class kv{constructor(){Am++,this['version']=new Zy(),this['version']['globalId']=Am;}['increment'](){this['version']['revision']++;}}class Ov{constructor(_0x52abbf){this['name']=_0x52abbf,this['value']=null,this['versionObj'+'ect']=new kv();}['toJSON'](_0x5238b8){}['setValue'](_0x18554a){this['value']=_0x18554a,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class Bv{constructor(_0x502193){this['name']=_0x502193,this['variables']=new Map();}['resolve'](_0x547046){return this['variables']['has'](_0x547046)||this['variables']['set'](_0x547046,new Ov(_0x547046)),this['variables']['get'](_0x547046);}['removeValu'+'e'](_0x41fb99){for(const _0x163ef0 in this['variables']){const _0x5d7980=this['variables'][_0x163ef0];_0x5d7980['value']===_0x41fb99&&(_0x5d7980['value']=null);}}}let Nv=0x1*-0x74f+0xb89+-0x43a;class fs{constructor(_0x36a448,_0x408a95,_0x11cdef,_0x2eb699){c(this,'usage',ts),(b['assert'](arguments['length']<=-0x444*0x6+0xdbe+0xbde&&(!_0x2eb699||typeof _0x2eb699=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x2eb699==null?void(0x3be*-0x1+-0x1*-0x22da+-0x1f1c):_0x2eb699['usage'])??ts,this['device']=_0x36a448,this['format']=_0x408a95,this['numVertice'+'s']=_0x11cdef,this['id']=Nv++,this['impl']=_0x36a448['createVert'+'exBufferIm'+'pl'](this,_0x408a95,_0x2eb699),this['numBytes']=_0x408a95['verticesBy'+'teSize']?_0x408a95['verticesBy'+'teSize']:_0x408a95['size']*_0x11cdef,this['adjustVram'+'SizeTracki'+'ng'](_0x36a448['_vram'],this['numBytes']));const _0x465685=_0x2eb699==null?void(-0x1d8f+0x2302+0x573*-0x1):_0x2eb699['data'];_0x465685?this['setData'](_0x465685):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x1978ea=this['device'],_0x17f255=_0x1978ea['buffers']['indexOf'](this);_0x17f255!==-(-0xd*-0x125+0x41a+-0x12fa)&&_0x1978ea['buffers']['splice'](_0x17f255,0x7e1*-0x1+-0x1049+0x1*0x182b),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x1978ea),this['adjustVram'+'SizeTracki'+'ng'](_0x1978ea['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x5bc58f,_0xc1c6eb){b['trace'](Zx,this['id']+'\x20size:\x20'+_0xc1c6eb+'\x20vram.vb:\x20'+_0x5bc58f['vb']+'\x20=>\x20'+(_0x5bc58f['vb']+_0xc1c6eb)),_0x5bc58f['vb']+=_0xc1c6eb;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x1c0ec5){return _0x1c0ec5['byteLength']!==this['numBytes']?(b['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x1c0ec5['byteLength']),!(-0x2*0x1eb+-0x41*-0x21+-0x2*0x245)):(this['storage']=_0x1c0ec5,this['unlock'](),!(0x956+0x2556+-0x2eac));}}function cn(_0x5e8a86){if(_0x5e8a86==null)return-0x4*-0x933+0xe3c+-0x3308;let _0x45ec62=-0xcb8+-0x2200+0x2eb8;for(let _0x198425=-0x3*0x2f5+0x24be+0x593*-0x5,_0x4fd49b=_0x5e8a86['length'];_0x198425<_0x4fd49b;_0x198425++)_0x45ec62=(_0x45ec62<<-0xa7d+0x2116+-0x14*0x121)-_0x45ec62+_0x5e8a86['charCodeAt'](_0x198425),_0x45ec62|=-0x245e+-0x1be5+0x4043;return _0x45ec62;}function Qy(_0x4da491){let _0x4a58f1=-0x10bb4e9*-0x3f+0x6*0x136a8f7d+-0x35444480;for(let _0x1d7b4e=-0x1c1c+0xaf5+0x1127;_0x1d7b4e<_0x4da491['length'];_0x1d7b4e++)_0x4a58f1^=_0x4da491[_0x1d7b4e],_0x4a58f1*=0x7*0xe3987+0x1*0xe6aebd+0x4a3fdb*-0x1;return _0x4a58f1>>>0x1c60+0xcba+0x148d*-0x2;}const zv=new Sp(),Uv=[0xa7*-0x3+-0xf13+0x110a,0x1a25*0x1+0x5c7+-0x1fe8,-0x14af*-0x1+-0x2290+0x3*0x4a3,-0x509*-0x7+0x1a*0x83+-0x3081,-0x1*-0x25c4+0xe2f+-0x33e3],Vv=new Ht();class Dt{constructor(_0x342380,_0x2bd725,_0xc55ef){this['device']=_0x342380,this['_elements']=[],this['hasUv0']=!(-0x1227+0x176b+-0x543),this['hasUv1']=!(-0x2ad*-0x1+-0x1*-0xef4+-0x11a0),this['hasColor']=!(-0x100f+0x897+0x779),this['hasTangent'+'s']=!(0x19d1+-0x1a37+0x67),this['verticesBy'+'teSize']=-0x93*-0x2+-0x5*-0x521+-0x1acb,this['vertexCoun'+'t']=_0xc55ef,this['interleave'+'d']=_0xc55ef===void(0x1*-0x1933+0x11d1+0x762),this['instancing']=!(-0x5*0x2b7+0x620*0x2+0x55*0x4),this['size']=_0x2bd725['reduce']((_0x5bb46a,_0xb45965)=>_0x5bb46a+Math['ceil'](_0xb45965['components']*So[_0xb45965['type']]/(0x1905+0x93c*0x1+-0x223d))*(-0x49d+0x1e0a+-0x1969),0x1*0xa5a+0x1*0x8c6+0xcc*-0x18);let _0x235036=0x1ae9*-0x1+-0x1*0x2543+0x402c,_0x170c56;for(let _0x1a640e=0x1*-0x1edc+-0xcb9+-0x3*-0xe87,_0x2103a1=_0x2bd725['length'];_0x1a640e<_0x2103a1;_0x1a640e++){const _0x1f5f48=_0x2bd725[_0x1a640e];_0x170c56=_0x1f5f48['components']*So[_0x1f5f48['type']],b['assert'](Dt['isElementV'+'alid'](_0x342380,_0x1f5f48),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1f5f48['semantic']+'\x20:\x20'+Sv[_0x1f5f48['type']]+'\x20x\x20'+_0x1f5f48['components']),_0xc55ef&&(_0x235036=z['roundUp'](_0x235036,_0x170c56),b['assert'](_0x170c56%(-0x1*-0x16c+0x1e7*0x11+-0x21bf)===-0x2313+-0x1d*-0x133+0x2*0x26,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x170c56));const _0x4291c1=_0x1f5f48['asInt']??!(-0x162d+-0xb*-0x193+0x4dd),_0x28fc52=_0x4291c1?!(-0x17c2+0x1*-0xf44+0x2707):_0x1f5f48['normalize']??!(-0x16c7+0xa7b+0xc4d),_0x1f8adc={'name':_0x1f5f48['semantic'],'offset':_0xc55ef?_0x235036:_0x1f5f48['hasOwnProp'+'erty']('offset')?_0x1f5f48['offset']:_0x235036,'stride':_0xc55ef?_0x170c56:_0x1f5f48['hasOwnProp'+'erty']('stride')?_0x1f5f48['stride']:this['size'],'dataType':_0x1f5f48['type'],'numComponents':_0x1f5f48['components'],'normalize':_0x28fc52,'size':_0x170c56,'asInt':_0x4291c1};this['_elements']['push'](_0x1f8adc),_0xc55ef?_0x235036+=_0x170c56*_0xc55ef:_0x235036+=Math['ceil'](_0x170c56/(-0x14fe+0x8c6*-0x1+0xee4*0x2))*(-0x1039+0x1780+-0x743),_0x1f5f48['semantic']===ds?this['hasUv0']=!(0x3*-0xb24+-0x17c*0x17+0x4390):_0x1f5f48['semantic']===yn?this['hasUv1']=!(-0x1255+-0x2019+0x1937*0x2):_0x1f5f48['semantic']===It?this['hasColor']=!(0x14cb+0x1*0x13f6+0x1*-0x28c1):_0x1f5f48['semantic']===si&&(this['hasTangent'+'s']=!(0x7db*-0x4+-0x11e2+0x314e));}_0xc55ef&&(this['verticesBy'+'teSize']=_0x235036),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x5699d7){return Vv['get'](_0x5699d7,()=>new Dt(_0x5699d7,[{'semantic':lp,'components':0x4,'type':Re},{'semantic':Sa,'components':0x4,'type':Re},{'semantic':hp,'components':0x4,'type':Re},{'semantic':va,'components':0x4,'type':Re}]));}static['isElementV'+'alid'](_0x42da78,_0x365727){const _0x55323f=_0x365727['components']*So[_0x365727['type']];return!(_0x42da78['isWebGPU']&&!Uv['includes'](_0x55323f));}['update'](){b['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x3ce987=[],_0x1a019d=[],_0x540323=this['_elements']['length'];for(let _0x34d9dc=0x1a02+0x11dd+0x1*-0x2bdf;_0x34d9dc<_0x540323;_0x34d9dc++){const {name:_0x570c10,dataType:_0x3aa60b,numComponents:_0x54f943,normalize:_0xeb27f9,offset:_0x579244,stride:_0xfc45a8,size:_0x4dde98,asInt:_0x2baed6}=this['_elements'][_0x34d9dc],_0x5ae075=_0x570c10+_0x3aa60b+_0x54f943+_0xeb27f9+_0x2baed6;_0x3ce987['push'](_0x5ae075);const _0x535cce=_0x5ae075+_0x579244+_0xfc45a8+_0x4dde98;_0x1a019d['push'](_0x535cce);}_0x3ce987['sort']();const _0x5ca89a=_0x3ce987['join']();this['batchingHa'+'sh']=cn(_0x5ca89a),this['shaderProc'+'essingHash'+'String']=_0x5ca89a,this['renderingH'+'ashString']=_0x1a019d['join']('_'),this['renderingH'+'ash']=zv['get'](this['renderingH'+'ashString']);}}const Gv=new Sp(),hc=class hc{constructor(_0xdfa82b={}){c(this,'_func'),c(this,'_ref'),c(this,'_fail'),c(this,'_zfail'),c(this,'_zpass'),c(this,'_readMask'),c(this,'_writeMask'),c(this,'_dirty',!(0x1d04+-0x381*-0x3+0xd2d*-0x3)),c(this,'_key'),(this['_func']=_0xdfa82b['func']??Ri,this['_ref']=_0xdfa82b['ref']??0xfcd+-0x73*0x1d+-0x5*0x8e,this['_readMask']=_0xdfa82b['readMask']??0x53*-0x6b+0x8*0x4b2+-0x1e0,this['_writeMask']=_0xdfa82b['writeMask']??-0x14fc+0x238a+-0xd8f,this['_fail']=_0xdfa82b['fail']??da,this['_zfail']=_0xdfa82b['zfail']??da,this['_zpass']=_0xdfa82b['zpass']??da,this['_evalKey']());}set['func'](_0x437618){this['_func']=_0x437618,this['_dirty']=!(0x4ca*-0x7+-0x37f*-0x4+0x138a);}get['func'](){return this['_func'];}set['ref'](_0xec412d){this['_ref']=_0xec412d,this['_dirty']=!(-0x657*0x1+0x467+-0x4*-0x7c);}get['ref'](){return this['_ref'];}set['fail'](_0x4f35ea){this['_fail']=_0x4f35ea,this['_dirty']=!(0x1*0x2ed+0xe17+-0x1104);}get['fail'](){return this['_fail'];}set['zfail'](_0x156333){this['_zfail']=_0x156333,this['_dirty']=!(0x116e+-0x920+-0x2*0x427);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x315713){this['_zpass']=_0x315713,this['_dirty']=!(0xf*0x139+0xfb5*-0x1+0x2*-0x151);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x43fe7c){this['_readMask']=_0x43fe7c,this['_dirty']=!(-0x53*-0x2c+-0x1d*-0x6b+0x1a63*-0x1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x5a1833){this['_writeMask']=_0x5a1833,this['_dirty']=!(-0x1*0x2f+-0xbf3+0x1*0xc22);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x1c2bb6,_ref:_0x1d4d81,_fail:_0x416056,_zfail:_0x1eef5c,_zpass:_0x4a0fcc,_readMask:_0x1595af,_writeMask:_0x8d042f}=this,_0x3ade23=_0x1c2bb6+','+_0x1d4d81+','+_0x416056+','+_0x1eef5c+','+_0x4a0fcc+','+_0x1595af+','+_0x8d042f;this['_key']=Gv['get'](_0x3ade23),this['_dirty']=!(-0x23fb*-0x1+0x21d9+0xd*-0x55f);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0x5477cb){return this['_func']=_0x5477cb['_func'],this['_ref']=_0x5477cb['_ref'],this['_readMask']=_0x5477cb['_readMask'],this['_writeMask']=_0x5477cb['_writeMask'],this['_fail']=_0x5477cb['_fail'],this['_zfail']=_0x5477cb['_zfail'],this['_zpass']=_0x5477cb['_zpass'],this['_dirty']=_0x5477cb['_dirty'],this['_key']=_0x5477cb['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};c(hc,'DEFAULT',Object['freeze'](new hc()));let Zs=hc;const cc=class cc extends de{constructor(_0x133844,_0x2abca1){var _0x4bf896,_0x2eb3d1,_0x10e38d,_0x3e5a75,_0x2c89af,_0x37c8f2;super(),c(this,'canvas'),c(this,'backBuffer',null),c(this,'backBuffer'+'Size',new W()),c(this,'backBuffer'+'Format'),c(this,'backBuffer'+'Antialias',!(0x1*0x1661+0x2494+-0x2ae*0x16)),c(this,'isWebGPU',!(-0xb0f+-0x358+0xe68)),c(this,'isWebGL2',!(-0x960+-0x287*0x9+-0x4*-0x808)),c(this,'isHdr',!(0x1a45*-0x1+-0xdd*-0x22+-0x314*0x1)),c(this,'scope'),c(this,'maxAnisotr'+'opy'),c(this,'maxCubeMap'+'Size'),c(this,'maxTexture'+'Size'),c(this,'maxVolumeS'+'ize'),c(this,'maxColorAt'+'tachments',0xe94+0x1*-0xeaa+0x1*0x17),c(this,'precision'),c(this,'samples'),c(this,'maxSamples',0x1f2a+0x1*0x10e2+-0x300b),c(this,'supportsSt'+'encil'),c(this,'supportsCo'+'mpute',!(0xed2+-0xa74+-0x45d)),c(this,'supportsSt'+'orageTextu'+'reRead',!(-0x3d7*-0x3+0x2685+-0x1*0x3209)),c(this,'renderTarg'+'et',null),c(this,'shaders',[]),c(this,'textures',[]),c(this,'targets',new Set()),c(this,'renderVers'+'ion',-0x1*0x4fd+0xa1d+-0x520),c(this,'renderPass'+'Index'),c(this,'insideRend'+'erPass',!(-0x1b73+0xe0+0x1a94)),c(this,'supportsUn'+'iformBuffe'+'rs',!(0x1a63+-0x1861+-0x201)),c(this,'supportsCl'+'ipDistance'+'s',!(-0x24*0x101+-0x34e+-0x2773*-0x1)),c(this,'textureFlo'+'atRenderab'+'le'),c(this,'textureHal'+'fFloatRend'+'erable'),c(this,'textureRG1'+'1B10Render'+'able',!(-0x1*0x231b+0x5d*-0x56+0x425a)),c(this,'textureFlo'+'atFilterab'+'le',!(-0x1cef+0x1309+0x9e7)),c(this,'quadVertex'+'Buffer'),c(this,'blendState',new bt()),c(this,'depthState',new us()),c(this,'stencilEna'+'bled',!(0x4cd*0x1+-0x2*0x17b+-0x1d6)),c(this,'stencilFro'+'nt',new Zs()),c(this,'stencilBac'+'k',new Zs()),c(this,'dynamicBuf'+'fers'),c(this,'gpuProfile'+'r'),c(this,'defaultCle'+'arOptions',{'color':[0x2*-0xe9b+0x1175+0xbc1,-0x1fdf*0x1+0x73d*0x5+-0x452,-0x22e0+0xa85+0x185b,0x1*0x8f7+-0xd1f*0x1+0x5*0xd5],'depth':0x1,'stencil':0x0,'flags':Io|Do}),c(this,'clientRect',{'width':0x0,'height':0x0}),c(this,'_shadersDi'+'rty',!(0x19f*-0x10+0x2102+-0x711)),(this['canvas']=_0x133844,this['initOption'+'s']={..._0x2abca1},(_0x4bf896=this['initOption'+'s'])['alpha']??(_0x4bf896['alpha']=!(-0x2522+-0x6d3*-0x2+-0x5df*-0x4)),(_0x2eb3d1=this['initOption'+'s'])['depth']??(_0x2eb3d1['depth']=!(-0xf96+-0x1b2d+-0x7b*-0x59)),(_0x10e38d=this['initOption'+'s'])['stencil']??(_0x10e38d['stencil']=!(-0x2225+0x7*0xf9+-0x1*-0x1b56)),(_0x3e5a75=this['initOption'+'s'])['antialias']??(_0x3e5a75['antialias']=!(0x13*-0x28+0x9d3*0x2+-0x10ae)),(_0x2c89af=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x2c89af['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x37c8f2=this['initOption'+'s'])['displayFor'+'mat']??(_0x37c8f2['displayFor'+'mat']=gv),this['_maxPixelR'+'atio']=be['browser']?Math['min'](-0x5d*0xc+-0x1*0x326+0x3*0x281,window['devicePixe'+'lRatio']):0x2312+0x22b7+-0x45c8,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x1c*0x20+0x87d+-0x4fd,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x6b+0x1*0x116f+-0x21*0x84,this['_primsPerF'+'rame']=[]);for(let _0x4c70da=Dc;_0x4c70da<=Kr;_0x4c70da++)this['_primsPerF'+'rame'][_0x4c70da]=0x1e80+0xf85+-0x2e05;this['_renderTar'+'getCreatio'+'nTime']=0x68e+0x1d90+-0x241e,this['scope']=new Bv('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x1*0x2606+-0x1*0xb05+-0x1b01*0x1);}['postInit'](){const _0x4da033=new Dt(this,[{'semantic':Xe,'components':0x2,'type':Re}]),_0x5a5125=new Float32Array([-(-0x309*0x6+0xa81*0x3+0x94*-0x17),-(0x62a+0x106b+-0x1694),0x15f1+-0x2*0x28f+-0x10d2,-(-0x61*-0x35+0x11c0+-0x25d4),-(0xc6d+0x3*0x32f+-0x15f9),-0xdbf+-0x13c*0x17+0x2a24,-0x21ef+0x678+-0xc*-0x24a,0x1d66+0x23b5+0x208d*-0x2]);this['quadVertex'+'Buffer']=new fs(this,_0x4da033,-0x82f*-0x3+-0x1*0x166d+-0x10e*0x2,{'data':_0x5a5125});}['destroy'](){var _0x140c13,_0x5f4024,_0x11f044;this['fire']('destroy'),(_0x140c13=this['quadVertex'+'Buffer'])==null||_0x140c13['destroy'](),this['quadVertex'+'Buffer']=null,(_0x5f4024=this['dynamicBuf'+'fers'])==null||_0x5f4024['destroy'](),this['dynamicBuf'+'fers']=null,(_0x11f044=this['gpuProfile'+'r'])==null||_0x11f044['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x4fdf9d){this['fire']('destroy:sh'+'ader',_0x4fdf9d);const _0x3d323b=this['shaders']['indexOf'](_0x4fdf9d);_0x3d323b!==-(-0x230f+0x1a76+-0x6*-0x16f)&&this['shaders']['splice'](_0x3d323b,0x19a2+-0x445*0x5+-0x448*0x1);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x56f5c1;this['contextLos'+'t']=!(-0x14d3+-0x1*-0x835+0x13*0xaa),this['backBuffer'+'Size']['set'](-(-0x4b1*0x5+0x2*-0x30b+-0x7c*-0x3d),-(0x2*-0x21e+-0x2b*0x59+0x998*0x2));for(const _0x14e4bb of this['textures'])_0x14e4bb['loseContex'+'t']();for(const _0x34f448 of this['buffers'])_0x34f448['loseContex'+'t']();for(const _0x24034f of this['targets'])_0x24034f['loseContex'+'t']();(_0x56f5c1=this['gpuProfile'+'r'])==null||_0x56f5c1['loseContex'+'t']();}['restoreCon'+'text'](){var _0x363beb,_0x4a9f4f;this['contextLos'+'t']=!(-0xcd9+-0x5f6+0x12d0),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x4662cc of this['buffers'])_0x4662cc['unlock']();(_0x4a9f4f=(_0x363beb=this['gpuProfile'+'r'])==null?void(-0x15c5+0xff5+-0x1f0*-0x3):_0x363beb['restoreCon'+'text'])==null||_0x4a9f4f['call'](_0x363beb);}['toJSON'](_0x319e66){}['initialize'+'ContextCac'+'hes'](){this['indexBuffe'+'r']=null,this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x11a1*-0x1+-0x1f9+-0xa7*0x18),this['shaderAsyn'+'cCompile']=!(0xed4+0x996*-0x4+0x1785),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new bt(),this['depthState']=new us(),this['cullMode']=nn,this['vx']=this['vy']=this['vw']=this['vh']=0x1*0xa5a+-0x26da+-0xe40*-0x2,this['sx']=this['sy']=this['sw']=this['sh']=-0x111a+-0x55*-0x9+0xe1d,this['blendColor']=new Y(0x1a39+-0x1f81+0x152*0x4,-0xe23+0x1*-0xd85+0x3b*0x78,0x510+-0x3*-0x651+-0x9*0x2ab,-0x2d*0x4f+0x98c+0x457);}['setStencil'+'State'](_0xe77204,_0xf3085e){b['assert'](!(0xb*0x22f+-0x871*-0x1+0x2075*-0x1));}['setBlendSt'+'ate'](_0x4c5fb4){b['assert'](!(-0x2158+0x1afb*0x1+-0x5*-0x146));}['setBlendCo'+'lor'](_0x512af9,_0x1789c0,_0x202c2d,_0x566ddb){b['assert'](!(-0x20f1+-0x166*-0x11+0x496*0x2));}['setDepthSt'+'ate'](_0x133687){b['assert'](!(-0x1e*0xfb+-0x1b95*0x1+-0x72*-0x80));}['setCullMod'+'e'](_0x1d7b75){b['assert'](!(-0x1d6b+0x27*-0x5+0x1*0x1e2f));}['setRenderT'+'arget'](_0x4e4f11){this['renderTarg'+'et']=_0x4e4f11;}['setIndexBu'+'ffer'](_0x19ccab){this['indexBuffe'+'r']=_0x19ccab;}['setVertexB'+'uffer'](_0x57193f){_0x57193f&&this['vertexBuff'+'ers']['push'](_0x57193f);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=-0x6f3*-0x3+-0x1*-0x68e+-0x1b67;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x4cf2fd){if(_0x4cf2fd['initialize'+'d'])return;const _0x126612=ae();this['fire']('fbo:create',{'timestamp':_0x126612,'target':this}),_0x4cf2fd['init'](),this['targets']['add'](_0x4cf2fd),this['_renderTar'+'getCreatio'+'nTime']+=ae()-_0x126612;}['_isBrowser'+'Interface'](_0x35a83a){return this['_isImageBr'+'owserInter'+'face'](_0x35a83a)||this['_isImageCa'+'nvasInterf'+'ace'](_0x35a83a)||this['_isImageVi'+'deoInterfa'+'ce'](_0x35a83a);}['_isImageBr'+'owserInter'+'face'](_0x406c7a){return typeof ImageBitmap<'u'&&_0x406c7a instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x406c7a instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x51ba14){return typeof HTMLCanvasElement<'u'&&_0x51ba14 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x53973d){return typeof HTMLVideoElement<'u'&&_0x53973d instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x2cd599,_0xfa9aec){const _0x31dd36=Math['min'](this['_maxPixelR'+'atio'],be['browser']?window['devicePixe'+'lRatio']:-0x1*0x1326+0xf57+0x3d0),_0x19bd7b=Math['floor'](_0x2cd599*_0x31dd36),_0xc8e662=Math['floor'](_0xfa9aec*_0x31dd36);(_0x19bd7b!==this['canvas']['width']||_0xc8e662!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x19bd7b,_0xc8e662);}['setResolut'+'ion'](_0x1da3f3,_0x541c1e){this['canvas']['width']=_0x1da3f3,this['canvas']['height']=_0x541c1e,this['fire'](cc['EVENT_RESI'+'ZE'],_0x1da3f3,_0x541c1e);}['updateClie'+'ntRect'](){if(be['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0xb7aced=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0xb7aced['width'],this['clientRect']['height']=_0xb7aced['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x391549){b['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return b['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(-0x1*-0x29f+-0x1599+0x12fb);}set['maxPixelRa'+'tio'](_0x4a515d){this['_maxPixelR'+'atio']=_0x4a515d;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x1ae09f){}['endRenderP'+'ass'](_0x3adde9){}['startCompu'+'tePass'](_0x2e476e){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x23b7+-0x695+-0x1d22,this['renderVers'+'ion']++,b['call'](()=>{if(Qs['get'](tS)){const _0x413af5=this['textures']['slice']();_0x413af5['sort']((_0xb49100,_0x30ea02)=>_0x30ea02['gpuSize']-_0xb49100['gpuSize']),b['log']('Textures:\x20'+_0x413af5['length']);let _0x21c5b6=0x3fd+-0x2cd*-0x2+-0x997;_0x413af5['forEach']((_0xa09918,_0x53ca15)=>{const _0x52c387=_0xa09918['gpuSize'];_0x21c5b6+=_0x52c387,b['log'](_0x53ca15+'.\x20'+_0xa09918['name']+'\x20'+_0xa09918['width']+'x'+_0xa09918['height']+'\x20VRAM:\x20'+(_0x52c387/(-0x13d*0x7+-0x112b*0x1+0x26*0xc9)/(0x58e*-0x3+-0x5*-0x4a3+-0x285))['toFixed'](-0x2a2+0x1d82+-0x1ade)+'\x20MB');}),b['log']('Total:\x20'+(_0x21c5b6/(-0x1333+0x1ccf+0x2*-0x2ce)/(0x542+0x5*0x24e+-0xcc8))['toFixed'](0x1379*0x1+0xc65*0x1+-0x1*0x1fdc)+'MB');}});}['frameEnd'](){}['computeDis'+'patch'](_0x29552c,_0x329232='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0xf01065=[ya,it,et],_0x51734a=!(0x148*-0x4+-0x11*0x95+0x301*0x5),_0x2b689e=0x1b63+0x3a9*-0x2+-0xd6*0x18){for(let _0x443bd4=-0x1ddc+-0x16de+0x31a*0x11;_0x443bd4<_0xf01065['length'];_0x443bd4++){const _0x5aba6a=_0xf01065[_0x443bd4];switch(_0x5aba6a){case ya:{if(this['textureRG1'+'1B10Render'+'able'])return _0x5aba6a;break;}case it:if(this['textureHal'+'fFloatRend'+'erable'])return _0x5aba6a;break;case et:if(this['isWebGPU']&&_0x2b689e>0x11*0x7+0x1793+-0x1809)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x51734a||this['textureFlo'+'atFilterab'+'le']))return _0x5aba6a;break;}}}};c(cc,'EVENT_RESI'+'ZE','resizecanv'+'as');let zh=cc,Hv=-0x12d1*0x2+-0x4*-0x833+0x4d6;class St{constructor(_0x28f34f={}){c(this,'name'),c(this,'_device'),c(this,'_colorBuff'+'er'),c(this,'_colorBuff'+'ers'),c(this,'_depthBuff'+'er'),c(this,'_depth'),c(this,'_stencil'),c(this,'_samples'),c(this,'autoResolv'+'e'),c(this,'_face'),c(this,'_mipLevel'),c(this,'_mipmaps'),c(this,'flipY');var _0xb6179d,_0x22335e,_0x514b77,_0x196906,_0x4d3580,_0x4f5bd6;b['assert'](!(_0x28f34f instanceof zh),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=Hv++;const _0x280156=((_0xb6179d=_0x28f34f['colorBuffe'+'r'])==null?void(0x174*0xb+-0x177f+0x783):_0xb6179d['device'])??((_0x22335e=_0x28f34f['colorBuffe'+'rs'])==null?void(0xcb2+0x222+-0xd*0x124):_0x22335e[0x3f*0x2+-0x1*-0x1009+-0x1087]['device'])??((_0x514b77=_0x28f34f['depthBuffe'+'r'])==null?void(0xac1+-0x1*-0x2f+-0x46*0x28):_0x514b77['device'])??_0x28f34f['graphicsDe'+'vice'];b['assert'](_0x280156,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x280156;const {maxSamples:_0x2d37eb}=this['_device'];if(this['_samples']=Math['min'](_0x28f34f['samples']??-0xbb6+-0x2025+0x2bdc,_0x2d37eb),_0x280156['isWebGPU']&&(this['_samples']=this['_samples']>0x5f3+-0x10e6+0xaf4?_0x2d37eb:0x18cd+0x1105*0x2+0x3ad6*-0x1),this['_colorBuff'+'er']=_0x28f34f['colorBuffe'+'r'],_0x28f34f['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x28f34f['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x28f34f['depthBuffe'+'r'],this['_face']=_0x28f34f['face']??0x4*0x773+0x1860+-0x1*0x362c,this['_depthBuff'+'er']){const _0x46cd51=this['_depthBuff'+'er']['_format'];_0x46cd51===Di||_0x46cd51===ca?(this['_depth']=!(0x17da+-0x85*-0x17+0x27*-0xeb),this['_stencil']=!(0x19b9+0x93*0x23+-0x1*0x2dd1)):_0x46cd51===Ec?(this['_depth']=!(0xc2*0x28+0x14*0x8+0x5*-0x630),this['_stencil']=!(-0x1462+-0x675+-0x1ad7*-0x1)):_0x46cd51===Oi&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0x11a5+0x15a1*-0x1+-0x3fd*-0x1?(this['_depth']=!(-0x2009+0x3*-0xa9f+0x3fe6),this['_stencil']=!(0x199a+0x2fe*0x3+-0x2293)):(b['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x1337+-0x1fd7+-0x330f*-0x1),this['_stencil']=!(-0x2491+0x205*-0x1+0x2697));}else this['_depth']=_0x28f34f['depth']??!(0xa3e+0x19*-0xfc+0xe5e),this['_stencil']=_0x28f34f['stencil']??!(-0x2*0x94f+0x1*0x855+0xa4a);_0x28f34f['colorBuffe'+'rs']&&(b['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x28f34f['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x28f34f['colorBuffe'+'rs'][-0x2fe*0x9+-0x550+0x203e])),this['autoResolv'+'e']=_0x28f34f['autoResolv'+'e']??!(0x1*-0x23b+-0x9bd+0xbf8),this['name']=_0x28f34f['name'],this['name']||(this['name']=(_0x196906=this['_colorBuff'+'er'])==null?void(-0x1ca1+0x55a*-0x3+-0x117*-0x29):_0x196906['name']),this['name']||(this['name']=(_0x4d3580=this['_depthBuff'+'er'])==null?void(0x1509+-0x4e0+-0x24f*0x7):_0x4d3580['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x28f34f['flipY']??!(0x44*0x47+0x9e*0x11+-0x2ab*0xb),this['_mipLevel']=_0x28f34f['mipLevel']??0x53*0x69+0x1aa1+-0x3cac,this['_mipLevel']>0x16e8+0x23a4+-0x3a8c&&this['_depth']&&(b['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x28f34f}),this['_mipLevel']=-0x85*0x7+-0xb*-0x7a+-0x89*0x3),this['_mipmaps']=_0x28f34f['mipLevel']===void(-0x1807+0x2*0x9f1+0x425*0x1),this['validateMr'+'t'](),this['impl']=_0x280156['createRend'+'erTargetIm'+'pl'](this),b['trace'](Kp,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x4f5bd6=this['_colorBuff'+'ers'])!=null&&_0x4f5bd6['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){b['trace'](Kp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0xfd9311=this['_device'];_0xfd9311&&(_0xfd9311['targets']['delete'](this),_0xfd9311['renderTarg'+'et']===this&&_0xfd9311['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x188849=this['_device'];_0x188849&&this['impl']['destroy'](_0x188849);}['destroyTex'+'tureBuffer'+'s'](){var _0x29a950,_0x10c78c;(_0x29a950=this['_depthBuff'+'er'])==null||_0x29a950['destroy'](),this['_depthBuff'+'er']=null,(_0x10c78c=this['_colorBuff'+'ers'])==null||_0x10c78c['forEach'](_0x3e7033=>{_0x3e7033['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x381893,_0x358afb){var _0x208843,_0x15ac75;if(this['width']!==_0x381893||this['height']!==_0x358afb){if(this['mipLevel']>0x37d+-0x160*0xe+-0x327*-0x5){b['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x535762=this['_device'];this['destroyFra'+'meBuffers'](),_0x535762['renderTarg'+'et']===this&&_0x535762['setRenderT'+'arget'](null),(_0x208843=this['_depthBuff'+'er'])==null||_0x208843['resize'](_0x381893,_0x358afb),(_0x15ac75=this['_colorBuff'+'ers'])==null||_0x15ac75['forEach'](_0x423d17=>{_0x423d17['resize'](_0x381893,_0x358afb);}),this['validateMr'+'t'](),this['impl']=_0x535762['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){b['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x1ac041,height:_0x175da8,cubemap:_0x421a4c,volume:_0x246aab}=this['_colorBuff'+'ers'][-0xb3a+0x26bd+0x1b83*-0x1];for(let _0x598cf1=0x156d+0x1*0x1b02+0x2*-0x1837;_0x598cf1<this['_colorBuff'+'ers']['length'];_0x598cf1++){const _0x41ba92=this['_colorBuff'+'ers'][_0x598cf1];b['assert'](_0x41ba92['width']===_0x1ac041,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),b['assert'](_0x41ba92['height']===_0x175da8,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),b['assert'](_0x41ba92['cubemap']===_0x421a4c,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),b['assert'](_0x41ba92['volume']===_0x246aab,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x30eb6e=!(0x2*-0x4f+0x2284+-0x10f3*0x2),_0x1c7b44=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0xf*0x6b+0x1849+-0x601*0x3&&(G['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x30eb6e?'[color]':'')+':'+(_0x1c7b44?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x30eb6e,_0x1c7b44),G['popGpuMark'+'er'](this['_device']));}['copy'](_0x2c8cef,_0x21823d,_0x22e0d1){if(!this['_device']){if(_0x2c8cef['_device'])this['_device']=_0x2c8cef['_device'];else return b['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x2532+0x1970+-0x3ea1);}G['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x2c8cef['name']+'->'+this['name']);const _0x495bfe=this['_device']['copyRender'+'Target'](_0x2c8cef,this,_0x21823d,_0x22e0d1);return G['popGpuMark'+'er'](this['_device']),_0x495bfe;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x10d6ec){var _0x6f5a33;return(_0x6f5a33=this['_colorBuff'+'ers'])==null?void(0x1*0x1ed1+-0xe87*0x1+-0x104a):_0x6f5a33[_0x10d6ec];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x302837,_0x39036e;let _0x242b15=((_0x302837=this['_colorBuff'+'er'])==null?void(-0x11e5+0x4f*0x5+0x105a):_0x302837['width'])||((_0x39036e=this['_depthBuff'+'er'])==null?void(-0x1c2b*-0x1+-0x1*-0xf13+-0x87*0x52):_0x39036e['width'])||this['_device']['width'];return this['_mipLevel']>0x8e+-0x357*-0x8+-0x1b46*0x1&&(_0x242b15=Li['calcLevelD'+'imension'](_0x242b15,this['_mipLevel'])),_0x242b15;}get['height'](){var _0x3516ba,_0x3059f6;let _0xd45e15=((_0x3516ba=this['_colorBuff'+'er'])==null?void(-0x7b*0x2b+-0x2*-0xc63+-0x27*0x1b):_0x3516ba['height'])||((_0x3059f6=this['_depthBuff'+'er'])==null?void(0x6a1*0x2+-0x484+-0x8be):_0x3059f6['height'])||this['_device']['height'];return this['_mipLevel']>0xe00+0x1c97+0x1*-0x2a97&&(_0xd45e15=Li['calcLevelD'+'imension'](_0xd45e15,this['_mipLevel'])),_0xd45e15;}['isColorBuf'+'ferSrgb'](_0x985b69=0x45d*-0x8+0x19ca+0x91e){if(this['device']['backBuffer']===this)return Lh(this['device']['backBuffer'+'Format']);const _0x3ce76c=this['getColorBu'+'ffer'](_0x985b69);return _0x3ce76c?Lh(_0x3ce76c['format']):!(-0x1*-0x1c3d+0x200+-0x1e3c);}}const Wv={'equals'(_0x2cc5ec,_0x2de7d0){if(_0x2cc5ec['length']!==_0x2de7d0['length'])return!(0xe78+-0xd03*0x1+-0x174);for(let _0x4a22ee=-0x1*0x18a7+0x9f8+0xb3*0x15;_0x4a22ee<_0x2cc5ec['length'];_0x4a22ee++)if(_0x2cc5ec[_0x4a22ee]!==_0x2de7d0[_0x4a22ee])return!(-0x21f5+0x1115*-0x2+0x4420);return!(0x139+-0x5ea*0x6+0x4e5*0x7);}};class qc{constructor(){c(this,'_refCount',-0xa6b+0x1175+-0x70a);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class $v extends qc{constructor(_0x3fc951){super(),c(this,'object'),(this['object']=_0x3fc951,this['incRefCoun'+'t']());}}class qv{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x1de51e=>{var _0x56c695;(_0x56c695=_0x1de51e['object'])==null||_0x56c695['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x20aa3a){const _0x33c7af=this['cache']['get'](_0x20aa3a);return _0x33c7af?(_0x33c7af['incRefCoun'+'t'](),_0x33c7af['object']):null;}['set'](_0x470f13,_0x35d555){b['assert'](!this['cache']['has'](_0x470f13),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x470f13,'object':_0x35d555}),this['cache']['set'](_0x470f13,new $v(_0x35d555));}['release'](_0x9288f6){var _0x3ffc84;const _0x5f336c=this['cache']['get'](_0x9288f6);_0x5f336c?(_0x5f336c['decRefCoun'+'t'](),_0x5f336c['refCount']===-0xb*0x2c1+-0x8d*0x13+0x28c2&&(this['cache']['delete'](_0x9288f6),(_0x3ffc84=_0x5f336c['object'])==null||_0x3ffc84['destroy']())):b['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x9288f6});}}class Xv extends qv{['loseContex'+'t'](_0x5c6583){this['clear']();}}const jv=new Ht(),dd=_0x518172=>jv['get'](_0x518172,()=>new Xv()),dt=[];dt[Ks]=-0x1a06+0xb*-0xc7+0x1*0x2294,dt[hr]=-0x496*-0x1+-0x77a+0x1*0x2e6,dt[Qt]=-0x1*-0x4a8+-0x199*-0x15+-0x2632,dt[ba]=0xd*0x300+0x14dd+-0x3bd9,dt[hn]=-0xf*0x1e7+-0x82+0x1d0c,dt[Qr]=0x25*-0xa3+0x2e*-0x61+0x1*0x28ff,dt[Jr]=-0x7e8+0x2351+-0xe*0x1f5,dt[en]=-0x41*0x8b+-0x9*-0x133+-0x20b*-0xc,dt[ua]=0x937*0x3+-0x1bbb*0x1+-0x1*-0x17,dt[Bo]=0x5*-0x574+-0x1e4a+0x3990,dt[No]=-0xec*-0x21+-0x5d*-0x3f+-0x354c,dt[zo]=0x1cd0+0xa3*-0x37+0x3*0x213,dt[kh]=-0x53*-0x23+-0x173b+0xbea,dt[Uo]=-0x4c4*-0x1+0x1ceb+-0x21a3,dt[wa]=0x1d63+-0x1*-0xedb+-0x2c2e,dt[Ta]=-0x1634+0xc19*-0x3+-0xd*-0x480,dt[Aa]=-0x1835*-0x1+-0x1222*0x2+0xc11*0x1,dt[Ea]=-0x20a0+-0xb6c*-0x3+-0x1a1,dt[Ca]=0x17f*-0x5+-0x10b7+0x1836;class wt{constructor(_0x1c0e7a,_0x503818,_0x4bb40e=0x2*0x12a1+-0x3*0x8bf+0x7*-0x193){c(this,'name'),c(this,'type'),c(this,'byteSize'),c(this,'offset'),c(this,'scopeId'),c(this,'count'),c(this,'numCompone'+'nts');if(this['shortName']=_0x1c0e7a,this['name']=_0x4bb40e?_0x1c0e7a+'[0]':_0x1c0e7a,this['type']=_0x503818,this['numCompone'+'nts']=dt[_0x503818],b['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x503818+'\x20used\x20for\x20'+_0x1c0e7a),this['updateType']=_0x503818,_0x4bb40e>-0x1047*-0x1+0x394*0x5+-0x222b)switch(_0x503818){case Ks:this['updateType']=Oc;break;case hn:this['updateType']=Ma;break;case Ta:this['updateType']=zc;break;case ua:this['updateType']=Uc;break;case hr:this['updateType']=Bc;break;case Qr:this['updateType']=Pa;break;case Aa:this['updateType']=Vc;break;case Bo:this['updateType']=Gc;break;case Qt:this['updateType']=Nc;break;case Jr:this['updateType']=Ra;break;case Ea:this['updateType']=Hc;break;case No:this['updateType']=Wc;break;case ba:this['updateType']=up;break;case en:this['updateType']=Oh;break;case Ca:this['updateType']=fp;break;case zo:this['updateType']=pp;break;case wa:this['updateType']=zy;break;default:b['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+mp[_0x503818]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x1c0e7a+'\x27.'),b['call'](()=>{this['invalid']=!(0x50b+-0x3*-0x9ff+-0x2308);});break;}this['count']=_0x4bb40e,b['assert'](!isNaN(_0x4bb40e),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x1c0e7a+'['+_0x4bb40e+']'),b['call'](()=>{isNaN(_0x4bb40e)&&(this['invalid']=!(-0x1*0x1f42+0x1b65*-0x1+0x3aa7));});let _0x5d4189=this['numCompone'+'nts'];_0x4bb40e&&(_0x5d4189=z['roundUp'](_0x5d4189,-0x1d34+-0x1*-0x2704+-0x6*0x1a2)),this['byteSize']=_0x5d4189*(0x156*0x13+-0x76c+-0x11f2),_0x4bb40e&&(this['byteSize']*=_0x4bb40e),b['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x503818+'\x20used\x20for\x20'+_0x1c0e7a);}get['isArrayTyp'+'e'](){return this['count']>0x2628+0x63*0x4f+-0x63f*0xb;}['calculateO'+'ffset'](_0x408783){let _0x1d75cc=this['byteSize']<=0x1*0x147+0xd76*0x1+-0xeb5?this['byteSize']:0x4*-0x727+-0x1*-0x2501+0x855*-0x1;this['count']&&(_0x1d75cc=0x1a46+0x333*-0xb+-0x79*-0x13),_0x408783=z['roundUp'](_0x408783,_0x1d75cc),this['offset']=_0x408783/(0x4fe+-0x11b8+0x1d2*0x7);}}class Jy{constructor(_0x1c2983,_0x148f75){c(this,'byteSize',-0x243b+-0x1f1c+0x4357),c(this,'map',new Map()),(this['scope']=_0x1c2983['scope'],this['uniforms']=_0x148f75);let _0x3c2287=-0x127*0xa+0x13b+0xa4b;for(let _0x2230f1=0x1c9*0xf+-0xb15+0x52*-0x31;_0x2230f1<_0x148f75['length'];_0x2230f1++){const _0xfc8fc9=_0x148f75[_0x2230f1];_0xfc8fc9['calculateO'+'ffset'](_0x3c2287),_0x3c2287=_0xfc8fc9['offset']*(-0x1380+0x7b6+-0x1*-0xbce)+_0xfc8fc9['byteSize'],_0xfc8fc9['scopeId']=this['scope']['resolve'](_0xfc8fc9['name']),this['map']['set'](_0xfc8fc9['name'],_0xfc8fc9);}this['byteSize']=z['roundUp'](_0x3c2287,-0x70f+-0xa52+0x1171);}['get'](_0x1318de){return this['map']['get'](_0x1318de);}['getShaderD'+'eclaration'](_0x405975,_0x597f3a){const _0x506ce4=xv[_0x405975];let _0x54d162='layout(set'+'\x20=\x20'+_0x405975+(',\x20binding\x20'+'=\x20')+_0x597f3a+(',\x20std140)\x20'+'uniform\x20ub'+'_')+_0x506ce4+'\x20{\x0a';return this['uniforms']['forEach'](_0x5c3983=>{const _0x56743c=mp[_0x5c3983['type']];b['assert'](_0x56743c['length']>0x2248*0x1+0xf7f+0x31c7*-0x1,'Uniform\x20ty'+'pe\x20'+_0x5c3983['type']+('\x20is\x20not\x20ha'+'ndled.')),_0x54d162+='\x20\x20\x20\x20'+_0x56743c+'\x20'+_0x5c3983['shortName']+(_0x5c3983['count']?'['+_0x5c3983['count']+']':'')+';\x0a';}),_0x54d162+'};\x0a';}}const yr='Preprocess'+'or',xs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,ud=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,Em=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,fd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,pd=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,md=/(endif|else|elif)([ \t][^\r\n]+)?\r?(?:\n|$)/g,Cm=/([\w-]+)/,Yv=/(!|\s)?defined\(([\w-]+)\)/,Kv=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,Zv=/[|&+-]/g,_d=/include[ \t]+"([\w-]+)"\r?(?:\n|$)/g,Cs=class Cs{static['run'](_0x1fbba5,_0x83f994=new Map(),_0x5b158f={}){Cs['sourceName']=_0x5b158f['sourceName'],_0x1fbba5=this['stripComme'+'nts'](_0x1fbba5),_0x1fbba5=_0x1fbba5['split'](/\r?\n/)['map'](_0x44f4c8=>_0x44f4c8['trimEnd']())['join']('\x0a');const _0x3833ff=new Map();if(_0x5b158f['stripUnuse'+'dColorAtta'+'chments']){const _0x5b9866=new Map(),_0x2ef620=/(pcFragColor[1-8])\b/g,_0x16cf23=_0x1fbba5['match'](_0x2ef620);_0x16cf23==null||_0x16cf23['forEach'](_0x5d2a4c=>{const _0x5ced4c=parseInt(_0x5d2a4c['charAt'](_0x5d2a4c['length']-(-0xb0*0x2b+-0x190a+-0x1*-0x369b)),-0x22b6*0x1+0x35f*0x1+0x1f61);_0x5b9866['set'](_0x5ced4c,(_0x5b9866['get'](_0x5ced4c)??0x52*-0x13+0x2ea*-0x5+0xa54*0x2)+(-0x1*-0x9d+0x1df*0xd+-0x1*0x18ef));}),_0x5b9866['forEach']((_0x6445d9,_0x286810)=>{_0x6445d9===0x12+-0x5bf*0x5+0x1*0x1caa&&_0x3833ff['set']('REMOVE_COL'+'OR_ATTACHM'+'ENT_'+_0x286810,'');});}_0x1fbba5=this['_preproces'+'s'](_0x1fbba5,_0x3833ff,_0x83f994,_0x5b158f['stripDefin'+'es']);const _0xb3cfa5=new Map();_0x3833ff['forEach']((_0x5e99e4,_0x4bcd51)=>{Number['isInteger'](parseFloat(_0x5e99e4))&&!_0x5e99e4['includes']('.')&&_0xb3cfa5['set'](_0x4bcd51,_0x5e99e4);});const _0x5ac00b=new Map();return _0x3833ff['forEach']((_0x10d921,_0x1ba533)=>{_0x1ba533['startsWith']('__INJECT_')&&_0x5ac00b['set'](_0x1ba533,_0x10d921);}),_0x1fbba5=this['stripComme'+'nts'](_0x1fbba5),_0x1fbba5=this['RemoveEmpt'+'yLines'](_0x1fbba5),_0x1fbba5=this['processArr'+'aySize'](_0x1fbba5,_0xb3cfa5),_0x1fbba5=this['injectDefi'+'nes'](_0x1fbba5,_0x5ac00b),_0x1fbba5;}static['stripComme'+'nts'](_0x5dabe7){return _0x5dabe7['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0xea2bb1,_0x5894b4){return _0xea2bb1!==null&&_0x5894b4['forEach']((_0x2cbb0f,_0x5aa348)=>{_0xea2bb1=_0xea2bb1['replace'](new RegExp('\x5c['+_0x5aa348+'\x5c]','g'),'['+_0x2cbb0f+']');}),_0xea2bb1;}static['injectDefi'+'nes'](_0x10b009,_0x4ec138){if(_0x10b009!==null&&_0x4ec138['size']>0x2b*-0xa6+0xe0c+-0x142*-0xb){const _0x2e95fa=_0x10b009['split']('\x0a');_0x4ec138['forEach']((_0x412428,_0x2172de)=>{const _0x17e02e=new RegExp('\x5cb'+_0x2172de+'\x5cb','g');for(let _0x41832e=0x1*0x178f+0x1e18+0xabb*-0x5;_0x41832e<_0x2e95fa['length'];_0x41832e++)_0x2e95fa[_0x41832e]['includes']('#')||(_0x2e95fa[_0x41832e]=_0x2e95fa[_0x41832e]['replace'](_0x17e02e,_0x412428));}),_0x10b009=_0x2e95fa['join']('\x0a');}return _0x10b009;}static['RemoveEmpt'+'yLines'](_0x1e8ef1){return _0x1e8ef1!==null&&(_0x1e8ef1=_0x1e8ef1['split'](/\r?\n/)['map'](_0x3b2233=>_0x3b2233['trim']()===''?'':_0x3b2233)['join']('\x0a'),_0x1e8ef1=_0x1e8ef1['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x1e8ef1;}static['_preproces'+'s'](_0x490df9,_0x288dbb=new Map(),_0x1892b0,_0x39d879){const _0x487d6c=_0x490df9,_0x77808=[];let _0x5119e3=!(0xbe*0x32+0x2523+-0x4a3e),_0x4e9119;for(;(_0x4e9119=xs['exec'](_0x490df9))!==null;){const _0x57baaa=_0x4e9119[-0x1d2b+0x121a+0xb12];switch(_0x57baaa){case'define':{ud['lastIndex']=_0x4e9119['index'];const _0x16e1f6=ud['exec'](_0x490df9);b['assert'](_0x16e1f6,'Invalid\x20['+_0x57baaa+']:\x20'+_0x490df9['substring'](_0x4e9119['index'],_0x4e9119['index']+(-0x2*-0x134b+0x1b8c+-0x41be))+'...'),_0x5119e3||(_0x5119e3=_0x16e1f6===null);const _0x252a6d=_0x16e1f6[0x1f09+0x217e+-0x4086];Cm['lastIndex']=_0x16e1f6['index'];const _0x552408=Cm['exec'](_0x252a6d)[0x2*0xf56+-0x1b27+-0x384];let _0x11d713=_0x252a6d['substring'](_0x552408['length'])['trim']();_0x11d713===''&&(_0x11d713='true');const _0xe7c3d4=Cs['_keep'](_0x77808);_0xe7c3d4&&(_0x288dbb['set'](_0x552408,_0x11d713),_0x39d879&&(_0x490df9=_0x490df9['substring'](0x3d5*-0x6+0x76b+0x531*0x3,_0x16e1f6['index']-(0x1*-0x7d8+-0x1482+0x1c5b))+_0x490df9['substring'](ud['lastIndex']),xs['lastIndex']=_0x16e1f6['index']-(0x3*-0x62a+0x377*-0x3+0x4*0x739))),b['trace'](yr,_0x57baaa+':\x20['+_0x552408+']\x20'+_0x11d713+'\x20'+(_0xe7c3d4?'':'IGNORED')),_0x39d879||(xs['lastIndex']=_0x16e1f6['index']+_0x16e1f6[-0x1839+0x1037*0x1+0x802]['length']);break;}case'undef':{fd['lastIndex']=_0x4e9119['index'];const _0xb72fc4=fd['exec'](_0x490df9),_0x3e3eda=_0xb72fc4[0x1e2b+-0x1f04+0xda]['trim'](),_0x5ae68a=Cs['_keep'](_0x77808);_0x5ae68a&&(_0x288dbb['delete'](_0x3e3eda),_0x39d879&&(_0x490df9=_0x490df9['substring'](0x19bd+-0x17c7*0x1+0x1f6*-0x1,_0xb72fc4['index']-(0xd15+0x1*-0x125d+0x1c3*0x3))+_0x490df9['substring'](fd['lastIndex']),xs['lastIndex']=_0xb72fc4['index']-(0x379*-0x1+0x21*0x40+-0x4c6))),b['trace'](yr,_0x57baaa+':\x20['+_0x3e3eda+']\x20'+(_0x5ae68a?'':'IGNORED')),_0x39d879||(xs['lastIndex']=_0xb72fc4['index']+_0xb72fc4[-0x17*0xb0+0x79f*0x1+-0x9*-0xe9]['length']);break;}case'extension':{Em['lastIndex']=_0x4e9119['index'];const _0x4368de=Em['exec'](_0x490df9);if(b['assert'](_0x4368de,'Invalid\x20['+_0x57baaa+']:\x20'+_0x490df9['substring'](_0x4e9119['index'],_0x4e9119['index']+(-0x26b3+0x12*-0x1eb+0xeb9*0x5))+'...'),_0x5119e3||(_0x5119e3=_0x4368de===null),_0x4368de){const _0x375d6d=_0x4368de[-0x33f*0x4+0x1174+0x1*-0x477],_0x2a5cb7=Cs['_keep'](_0x77808);_0x2a5cb7&&_0x288dbb['set'](_0x375d6d,'true'),b['trace'](yr,_0x57baaa+':\x20['+_0x375d6d+']\x20'+(_0x2a5cb7?'':'IGNORED'));}xs['lastIndex']=_0x4368de['index']+_0x4368de[-0x2213+-0x26e+0x26f*0xf]['length'];break;}case'ifdef':case'ifndef':case'if':{pd['lastIndex']=_0x4e9119['index'];const _0x322db0=pd['exec'](_0x490df9),_0x241b30=_0x322db0[0x1*0x25a6+-0x1ad5+0x1*-0xacf],_0x129eb5=Cs['evaluate'](_0x241b30,_0x288dbb);_0x5119e3||(_0x5119e3=_0x129eb5['error']);let _0x27d8d7=_0x129eb5['result'];_0x57baaa==='ifndef'&&(_0x27d8d7=!_0x27d8d7),_0x77808['push']({'anyKeep':_0x27d8d7,'keep':_0x27d8d7,'start':_0x4e9119['index'],'end':pd['lastIndex']}),b['trace'](yr,_0x57baaa+':\x20['+_0x241b30+']\x20=>\x20'+_0x27d8d7),xs['lastIndex']=_0x322db0['index']+_0x322db0[0x2243+0xdf9*-0x1+-0xe*0x173]['length'];break;}case'endif':case'else':case'elif':{md['lastIndex']=_0x4e9119['index'];const _0x168469=md['exec'](_0x490df9),_0x39c82f=_0x77808['pop'](),_0x3a1f6b=_0x39c82f['keep']?_0x490df9['substring'](_0x39c82f['end'],_0x4e9119['index']):'';b['trace'](yr,_0x57baaa+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x3a1f6b!=='')),_0x490df9=_0x490df9['substring'](0x43*-0xa+-0x1f3*0xb+0x3*0x805,_0x39c82f['start'])+_0x3a1f6b+_0x490df9['substring'](md['lastIndex']),xs['lastIndex']=_0x39c82f['start']+_0x3a1f6b['length'];const _0x30eb96=_0x168469[-0x11a5*-0x1+-0x1c9f+0xafb];if(_0x30eb96==='else'||_0x30eb96==='elif'){let _0x10126f=!(-0x1a3*-0x6+0x1f30+-0x2901);if(!_0x39c82f['anyKeep']){if(_0x30eb96==='else')_0x10126f=!_0x39c82f['keep'];else{const _0x30a7c8=Cs['evaluate'](_0x168469[-0x1b89+0xd*0x2e7+-0xa30],_0x288dbb);_0x10126f=_0x30a7c8['result'],_0x5119e3||(_0x5119e3=_0x30a7c8['error']);}}_0x77808['push']({'anyKeep':_0x39c82f['anyKeep']||_0x10126f,'keep':_0x10126f,'start':xs['lastIndex'],'end':xs['lastIndex']}),b['trace'](yr,_0x57baaa+':\x20['+_0x168469[0x1ed1+0xa61*-0x1+-0x1*0x146e]+']\x20=>\x20'+_0x10126f);}break;}case'include':{_d['lastIndex']=_0x4e9119['index'];const _0x3563a1=_d['exec'](_0x490df9);_0x5119e3||(_0x5119e3=_0x3563a1===null),b['assert'](_0x3563a1,'Invalid\x20['+_0x57baaa+']:\x20'+_0x490df9['substring'](_0x4e9119['index'],_0x4e9119['index']+(0xa11+-0x23a1+0x19f4*0x1))+'...');const _0x12039b=_0x3563a1[0x1167*-0x2+0x112e*-0x2+0x1*0x452b]['trim'](),_0x1abf1c=Cs['_keep'](_0x77808);if(_0x1abf1c){const _0x16deb4=_0x1892b0==null?void(0x54f+0x4*0xec+0x149*-0x7):_0x1892b0['get'](_0x12039b);_0x16deb4!==void(-0x1c2+-0x40*0x2f+-0x2*-0x6c1)?(_0x490df9=_0x490df9['substring'](-0x285*-0x9+0xa9f+-0x214c,_0x3563a1['index']-(0x1ee8+-0x136*0x4+-0x1a0f))+_0x16deb4+_0x490df9['substring'](_d['lastIndex']),xs['lastIndex']=_0x3563a1['index']-(-0x1cc6+-0xa41+0x2708)):(console['error']('Include\x20\x22'+_0x12039b+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Cs['sourceName'],{'source':_0x487d6c}),_0x5119e3=!(0x3*-0x1f3+0xc16+-0x1*0x63d));}b['trace'](yr,_0x57baaa+':\x20['+_0x12039b+']\x20'+(_0x1abf1c?'':'IGNORED'));break;}}}return _0x5119e3?(console['warn']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x487d6c}),_0x487d6c):_0x490df9;}static['_keep'](_0x467047){for(let _0x373776=-0x5e*0x47+-0x1*0x1ff7+-0x3a09*-0x1;_0x373776<_0x467047['length'];_0x373776++)if(!_0x467047[_0x373776]['keep'])return!(-0x5b+0x128+-0xcc);return!(0x1*0x1b64+0x2*0x47+-0x1bf2);}static['evaluate'](_0x642a5a,_0x550bd5){const _0x528c07=Zv['exec'](_0x642a5a)===null;b['assert'](_0x528c07,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x642a5a);let _0x593fff=!(-0x17df+-0x515*-0x7+-0x257*0x5);const _0x93866b=Yv['exec'](_0x642a5a);_0x93866b&&(_0x593fff=_0x93866b[0xf8d+0x175a+-0x2*0x1373]==='!',_0x642a5a=_0x93866b[-0x104f+0x9d*-0x25+0x2702]);const _0x514372=Kv['exec'](_0x642a5a);if(_0x514372){const _0x11b3bf=_0x550bd5['get'](_0x514372[0x221e+0xbf+0x2e*-0xc2])??_0x514372[0x152c+0x819+-0x1d44],_0x38150b=_0x550bd5['get'](_0x514372[-0x1f49*-0x1+0x1b7a+0xbc*-0x50])??_0x514372[0x89f+-0x2*0xdb7+0x12d2],_0x4cee1f=_0x514372[0x21*0x79+-0x1e1c+0x19d*0x9];let _0x1b3212=!(0x4b*0x6+-0x1*0x1549+0x1388);switch(_0x4cee1f){case'==':_0x1b3212=_0x11b3bf===_0x38150b;break;case'!=':_0x1b3212=_0x11b3bf!==_0x38150b;break;case'<':_0x1b3212=_0x11b3bf<_0x38150b;break;case'<=':_0x1b3212=_0x11b3bf<=_0x38150b;break;case'>':_0x1b3212=_0x11b3bf>_0x38150b;break;case'>=':_0x1b3212=_0x11b3bf>=_0x38150b;break;}return{'result':_0x1b3212,'error':!_0x528c07};}_0x642a5a=_0x642a5a['trim']();let _0x1860f9=_0x550bd5['has'](_0x642a5a);return _0x593fff&&(_0x1860f9=!_0x1860f9),{'result':_0x1860f9,'error':!_0x528c07};}};c(Cs,'sourceName');let Uh=Cs;const e0='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pc_fragC'+'olor;\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_1'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_1\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_2\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'2\x0alayout(l'+'ocation\x20=\x20'+'2)\x20out\x20hig'+'hp\x20outType'+'_2\x20pc_frag'+'Color2;\x0a#e'+'ndif\x0a#endi'+'f\x0a\x0a#ifndef'+'\x20REMOVE_CO'+'LOR_ATTACH'+'MENT_3\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_3\x0a'+'layout(loc'+'ation\x20=\x203)'+'\x20out\x20highp'+'\x20outType_3'+'\x20pc_fragCo'+'lor3;\x0a#end'+'if\x0a#endif\x0a'+'\x0a#ifndef\x20R'+'EMOVE_COLO'+'R_ATTACHME'+'NT_4\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'c_fragColo'+'r4;\x0a#endif'+'\x0a#endif\x0a\x0a#'+'ifndef\x20REM'+'OVE_COLOR_'+'ATTACHMENT'+'_5\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_5\x0alayo'+'ut(locatio'+'n\x20=\x205)\x20out'+'\x20highp\x20out'+'Type_5\x20pc_'+'fragColor5'+';\x0a#endif\x0a#'+'endif\x0a\x0a#if'+'ndef\x20REMOV'+'E_COLOR_AT'+'TACHMENT_6'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_6\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'#endif\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20REMOVE_'+'COLOR_ATTA'+'CHMENT_7\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'7\x0alayout(l'+'ocation\x20=\x20'+'7)\x20out\x20hig'+'hp\x20outType'+'_7\x20pc_frag'+'Color7;\x0a#e'+'ndif\x0a#endi'+('f\x0a\x0a#define'+'\x20gl_FragCo'+'lor\x20pc_fra'+'gColor\x0a\x0a#d'+'efine\x20pcFr'+'agColor0\x20p'+'c_fragColo'+'r\x0a#define\x20'+'pcFragColo'+'r1\x20pc_frag'+'Color1\x0a#de'+'fine\x20pcFra'+'gColor2\x20pc'+'_fragColor'+'2\x0a#define\x20'+'pcFragColo'+'r3\x20pc_frag'+'Color3\x0a#de'+'fine\x20pcFra'+'gColor4\x20pc'+'_fragColor'+'4\x0a#define\x20'+'pcFragColo'+'r5\x20pc_frag'+'Color5\x0a#de'+'fine\x20pcFra'+'gColor6\x20pc'+'_fragColor'+'6\x0a#define\x20'+'pcFragColo'+'r7\x20pc_frag'+'Color7\x0a\x0a#d'+'efine\x20vary'+'ing\x20in\x0a\x0a#d'+'efine\x20text'+'ure2D\x20text'+'ure\x0a#defin'+'e\x20texture2'+'DBias\x20text'+'ure\x0a#defin'+'e\x20textureC'+'ube\x20textur'+'e\x0a#define\x20'+'texture2DP'+'roj\x20textur'+'eProj\x0a#def'+'ine\x20textur'+'e2DLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+'ure2DProjL'+'od\x20texture'+'ProjLod\x0a#d'+'efine\x20text'+'ureCubeLod'+'\x20textureLo'+'d\x0a#define\x20'+'texture2DG'+'rad\x20textur'+'eGrad\x0a#def'+'ine\x20textur'+'e2DProjGra'+'d\x20textureP'+'rojGrad\x0a#d'+'efine\x20text'+'ureCubeGra'+'d\x20textureG'+'rad\x0a#defin'+'e\x20utexture'+'2D\x20texture'+'\x0a#define\x20i'+'texture2D\x20'+'texture\x0a\x0a/'+'/\x20deprecat'+'ed\x20defines'+'\x0a#define\x20t'+'exture2DLo'+'dEXT\x20textu'+'re2DLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xture2DLod'+'_instead\x0a#'+'define\x20tex'+'ture2DProj'+'LodEXT\x20tex'+'ture2DProj'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjLod'+'\x0a#define\x20t'+'extureCube'+'LodEXT\x20tex'+'tureCubeLo'+'dEXT_is_no'+'_longer_su'+'pported_us')+('e_textureC'+'ubeLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DGradEXT\x20'+'texture2DG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DGrad_in'+'stead\x0a#def'+'ine\x20textur'+'e2DProjGra'+'dEXT\x20textu'+'re2DProjGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'2DProjGrad'+'_instead\x0a#'+'define\x20tex'+'tureCubeGr'+'adEXT\x20text'+'ureCubeGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_textureC'+'ubeGrad_in'+'stead\x0a\x0a//\x20'+'sample\x20sha'+'dows\x20using'+'\x20textureGr'+'ad\x20to\x20remo'+'ve\x20derivat'+'ives\x20in\x20th'+'e\x20dynamic\x20'+'loops\x20(whi'+'ch\x20are\x20use'+'d\x20by\x0a//\x20cl'+'ustered\x20li'+'ghting)\x20-\x20'+'as\x20DirectX'+'\x20shader\x20co'+'mpiler\x20tri'+'es\x20to\x20unro'+'ll\x20the\x20loo'+'ps\x20and\x20tak'+'es\x20long\x20ti'+'me\x0a//\x20to\x20c'+'ompile\x20the'+'\x20shader.\x20U'+'sing\x20textu'+'reLod\x20woul'+'d\x20be\x20even\x20'+'better,\x20bu'+'t\x20WebGl\x20do'+'es\x20not\x20tra'+'nslate\x20it\x20'+'to\x0a//\x20lod\x20'+'instructio'+'n\x20for\x20Dire'+'ctX\x20correc'+'tly\x20and\x20us'+'es\x20SampleC'+'mp\x20instead'+'\x20of\x20Sample'+'CmpLevelZe'+'ro\x20or\x20simi'+'lar.\x0a#defi'+'ne\x20texture'+'Shadow(res'+',\x20uv)\x20text'+'ureGrad(re'+'s,\x20uv,\x20vec'+'2(1,\x201),\x20v'+'ec2(1,\x201))'+'\x0a\x0a//\x20pass\x20'+'/\x20accept\x20s'+'hadow\x20map\x20'+'or\x20texture'+'\x20as\x20a\x20func'+'tion\x20param'+'eter,\x20on\x20w'+'ebgl\x20this\x20'+'is\x20simply\x20'+'passed\x20as\x20'+'is\x0a//\x20but\x20'+'this\x20is\x20ne'+'eded\x20for\x20W'+'ebGPU\x0a#def'+'ine\x20SHADOW'+'MAP_PASS(n'+'ame)\x20name\x0a'+'#define\x20SH'+'ADOWMAP_AC'+'CEPT(name)'+'\x20sampler2D')+('Shadow\x20nam'+'e\x0a#define\x20'+'TEXTURE_PA'+'SS(name)\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20sampler'+'2D\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'_HIGHP(nam'+'e)\x20highp\x20s'+'ampler2D\x20n'+'ame\x0a\x0a#defi'+'ne\x20GL2\x0a'),t0='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',s0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pc_fragCol'+'or;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pc_fr'+'agColor1;\x0a'+'layout(loc'+'ation\x20=\x202)'+'\x20out\x20highp'+'\x20outType_2'+'\x20pc_fragCo'+'lor2;\x0alayo'+'ut(locatio'+'n\x20=\x203)\x20out'+'\x20highp\x20out'+'Type_3\x20pc_'+'fragColor3'+';\x0alayout(l'+'ocation\x20=\x20'+'4)\x20out\x20hig'+'hp\x20outType'+'_4\x20pc_frag'+'Color4;\x0ala'+'yout(locat'+'ion\x20=\x205)\x20o'+'ut\x20highp\x20o'+'utType_5\x20p'+'c_fragColo'+'r5;\x0alayout'+'(location\x20'+'=\x206)\x20out\x20h'+'ighp\x20outTy'+'pe_6\x20pc_fr'+'agColor6;\x0a'+'layout(loc'+'ation\x20=\x207)'+'\x20out\x20highp'+'\x20outType_7'+'\x20pc_fragCo'+'lor7;\x0a\x0a#de'+'fine\x20gl_Fr'+'agColor\x20pc'+'_fragColor'+'\x0a\x0a#define\x20'+'pcFragColo'+'r0\x20pc_frag'+'Color\x0a#def'+('ine\x20pcFrag'+'Color1\x20pc_'+'fragColor1'+'\x0a#define\x20p'+'cFragColor'+'2\x20pc_fragC'+'olor2\x0a#def'+'ine\x20pcFrag'+'Color3\x20pc_'+'fragColor3'+'\x0a#define\x20p'+'cFragColor'+'4\x20pc_fragC'+'olor4\x0a#def'+'ine\x20pcFrag'+'Color5\x20pc_'+'fragColor5'+'\x0a#define\x20p'+'cFragColor'+'6\x20pc_fragC'+'olor6\x0a#def'+'ine\x20pcFrag'+'Color7\x20pc_'+'fragColor7'+'\x0a\x0a#define\x20'+'texture2D('+'res,\x20uv)\x20t'+'exture(sam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a#defin'+'e\x20texture2'+'DBias(res,'+'\x20uv,\x20bias)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20bias'+')\x0a#define\x20'+'texture2DL'+'od(res,\x20uv'+',\x20lod)\x20tex'+'tureLod(sa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv,\x20lod)\x0a'+'#define\x20te'+'xtureCube('+'res,\x20uv)\x20t'+'exture(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20textur'+'eCubeLod(r'+'es,\x20uv,\x20lo'+'d)\x20texture'+'Lod(sample'+'rCube(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x20lod)\x0a#d'+'efine\x20text'+'ureShadow('+'res,\x20uv)\x20t'+'extureLod('+'sampler2DS'+'hadow(res,'+'\x20res\x20##\x20_s'+'ampler),\x20u'+'v,\x200.0)\x0a#d'+'efine\x20itex'+'ture2D(res'+',\x20uv)\x20text'+'ure(isampl'+'er2D(res,\x20'+'res\x20##\x20_sa'+'mpler),\x20uv'+')\x0a#define\x20'+'utexture2D'+'(res,\x20uv)\x20'+'texture(us'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a\x0a//\x20'+'deprecated'+'\x20defines\x0a#'+'define\x20tex'+'ture2DLodE'+'XT\x20texture'+'2DLodEXT_i'+'s_no_longe'+'r_supporte'+'d_use_text'+'ure2DLod_i')+('nstead\x0a#de'+'fine\x20textu'+'re2DProjLo'+'dEXT\x20textu'+'re2DProjLo'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DProjLod\x0a#'+'define\x20tex'+'tureCubeLo'+'dEXT\x20textu'+'reCubeLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eLod_inste'+'ad\x0a#define'+'\x20texture2D'+'GradEXT\x20te'+'xture2DGra'+'dEXT_is_no'+'_longer_su'+'pported_us'+'e_texture2'+'DGrad_inst'+'ead\x0a#defin'+'e\x20texture2'+'DProjGradE'+'XT\x20texture'+'2DProjGrad'+'EXT_is_no_'+'longer_sup'+'ported_use'+'_texture2D'+'ProjGrad_i'+'nstead\x0a#de'+'fine\x20textu'+'reCubeGrad'+'EXT\x20textur'+'eCubeGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'textureCub'+'eGrad_inst'+'ead\x0a\x0a//\x20TO'+'DO:\x20implem'+'ent\x20other\x20'+'texture\x20sa'+'mpling\x20mac'+'ros\x0a//\x20#de'+'fine\x20textu'+'re2DProj\x20t'+'extureProj'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a//\x20#de'+'fine\x20textu'+'re2DGrad\x20t'+'extureGrad'+'\x0a//\x20#defin'+'e\x20texture2'+'DProjGrad\x20'+'texturePro'+'jGrad\x0a//\x20#'+'define\x20tex'+'tureCubeGr'+'ad\x20texture'+'Grad\x0a\x0a//\x20p'+'ass\x20/\x20acce'+'pt\x20shadow\x20'+'map\x20as\x20a\x20f'+'unction\x20pa'+'rameter,\x20p'+'asses\x20both'+'\x20the\x20textu'+'re\x20as\x20well'+'\x20as\x20sample'+'r\x0a//\x20as\x20th'+'e\x20combined'+'\x20sampler\x20c'+'an\x20be\x20only'+'\x20created\x20a'+'t\x20a\x20point\x20'+'of\x20use\x0a#de'+'fine\x20SHADO'+'WMAP_PASS('+'name)\x20name'+',\x20name\x20##\x20'+'_sampler\x0a#'+'define\x20SHA'+'DOWMAP_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp')+('ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_PAS'+'S(name)\x20na'+'me,\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT(name)\x20'+'texture2D\x20'+'name,\x20samp'+'ler\x20name\x20#'+'#\x20_sampler'+'\x0a#define\x20T'+'EXTURE_ACC'+'EPT_HIGHP\x20'+'TEXTURE_AC'+'CEPT\x0a\x0a#def'+'ine\x20GL2\x0a#d'+'efine\x20WEBG'+'PU\x0a'),i0='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',Mm='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',Qv={'vertex_position':Xe,'vertex_normal':ss,'vertex_tangent':si,'vertex_texCoord0':ds,'vertex_texCoord1':yn,'vertex_texCoord2':Qo,'vertex_texCoord3':Jo,'vertex_texCoord4':el,'vertex_texCoord5':tl,'vertex_texCoord6':sl,'vertex_texCoord7':il,'vertex_color':It,'vertex_boneIndices':Jt,'vertex_boneWeights':ei};class Ft{static['createDefi'+'nition'](_0x4f4f8e,_0x15af7a){b['assert'](_0x15af7a),b['assert'](!_0x15af7a['vertexDefi'+'nes']||_0x15af7a['vertexDefi'+'nes']instanceof Map),b['assert'](!_0x15af7a['vertexIncl'+'udes']||_0x15af7a['vertexIncl'+'udes']instanceof Map),b['assert'](!_0x15af7a['fragmentDe'+'fines']||_0x15af7a['fragmentDe'+'fines']instanceof Map),b['assert'](!_0x15af7a['fragmentIn'+'cludes']||_0x15af7a['fragmentIn'+'cludes']instanceof Map);const _0x50a210=(_0xd01b44,_0x408888,_0x62d746,_0x1c1088)=>{const _0x36dc37=_0x4f4f8e['isWebGPU']?_0xd01b44:_0x408888;let _0x441197='';if(!_0x62d746){let _0x46b4a0=_0x1c1088['fragmentOu'+'tputTypes']??'vec4';Array['isArray'](_0x46b4a0)||(_0x46b4a0=[_0x46b4a0]);for(let _0x58ae89=-0x204d+0x1918+0x735;_0x58ae89<_0x4f4f8e['maxColorAt'+'tachments'];_0x58ae89++){_0x441197+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x58ae89+'\x0a';const _0x5c2081=_0x46b4a0[_0x58ae89]??'vec4';_0x441197+='#define\x20ou'+'tType_'+_0x58ae89+'\x20'+_0x5c2081+'\x0a';}}return _0x441197+_0x36dc37;},_0x11434b=_0x15af7a['name']??'Untitled';let _0xf4f6d0,_0x523631;return _0x15af7a['shaderLang'+'uage']===Fh?(_0xf4f6d0=_0x15af7a['vertexCode'],_0x523631=_0x15af7a['fragmentCo'+'de']):(_0xf4f6d0=Ft['versionCod'+'e'](_0x4f4f8e)+_0x50a210(i0,t0,!(0x26a+-0x1*0x1a1e+-0x5ed*-0x4),_0x15af7a)+Ft['getDefines'+'Code'](_0x15af7a['vertexDefi'+'nes'])+Ft['precisionC'+'ode'](_0x4f4f8e)+'\x0a'+Mm+Ft['getShaderN'+'ameCode'](_0x11434b)+_0x15af7a['vertexCode'],_0x523631=(_0x15af7a['fragmentPr'+'eamble']||'')+Ft['versionCod'+'e'](_0x4f4f8e)+_0x50a210(s0,e0,!(0x72*-0x4+-0x2225*-0x1+-0x205c),_0x15af7a)+Ft['getDefines'+'Code'](_0x15af7a['fragmentDe'+'fines'])+Ft['precisionC'+'ode'](_0x4f4f8e)+'\x0a'+Mm+Ft['getShaderN'+'ameCode'](_0x11434b)+(_0x15af7a['fragmentCo'+'de']||Ft['dummyFragm'+'entCode']())),{'name':_0x11434b,'shaderLanguage':_0x15af7a['shaderLang'+'uage']??By,'attributes':_0x15af7a['attributes'],'vshader':_0xf4f6d0,'vincludes':_0x15af7a['vertexIncl'+'udes'],'fincludes':_0x15af7a['fragmentIn'+'cludes'],'fshader':_0x523631,'useTransformFeedback':_0x15af7a['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x15af7a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x15af7a['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x40a99f){let _0x2a68e0='';return _0x40a99f==null||_0x40a99f['forEach']((_0x370bb7,_0x493e10)=>{_0x2a68e0+='#define\x20'+_0x493e10+'\x20'+_0x370bb7+'\x0a';}),_0x2a68e0;}static['getShaderN'+'ameCode'](_0x5a8f31){return'#define\x20SH'+'ADER_NAME\x20'+_0x5a8f31+'\x0a';}static['dummyFragm'+'entCode'](){return'void\x20main('+'void)\x20{gl_'+'FragColor\x20'+'=\x20vec4(0.0'+');}';}static['versionCod'+'e'](_0x4e20cb){return _0x4e20cb['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x2a7cfb,_0x3a5671){_0x3a5671&&_0x3a5671!=='highp'&&_0x3a5671!=='mediump'&&_0x3a5671!=='lowp'&&(_0x3a5671=null),_0x3a5671&&(_0x3a5671==='highp'&&_0x2a7cfb['maxPrecisi'+'on']!=='highp'&&(_0x3a5671='mediump'),_0x3a5671==='mediump'&&_0x2a7cfb['maxPrecisi'+'on']==='lowp'&&(_0x3a5671='lowp'));const _0x29f49d=_0x3a5671||_0x2a7cfb['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x29f49d+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x29f49d+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x29f49d+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x29f49d+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x29f49d+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x29f49d+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x29f49d+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x3644d7){const _0x560c60={};let _0x22307d=-0x1669*-0x1+-0xd2d+-0x49e*0x2,_0x45ec85=_0x3644d7['indexOf']('attribute');for(;_0x45ec85>=-0xb3a+-0xb*0x14c+0x197e&&!(_0x45ec85>-0x32f+0x1839+-0x150a&&_0x3644d7[_0x45ec85-(0x11c8*0x2+-0x10eb+-0x4a9*0x4)]==='/');){let _0x2df6eb=!(0x118*0x13+0x1*0x11fb+-0x386*0xb);if(_0x45ec85>0x1a85+0x249e+-0x3f23){let _0x59bcac=_0x3644d7['lastIndexO'+'f']('\x0a',_0x45ec85);_0x59bcac=_0x59bcac!==-(0x236d+-0x23c6+-0xf*-0x6)?_0x59bcac+(-0x24be*-0x1+0xda9+-0x3266):-0x10d5+0x8f8*0x2+-0x1*0x11b,_0x3644d7['substring'](_0x59bcac,_0x45ec85)['includes']('#')&&(_0x2df6eb=!(0x1*-0x20ef+-0x2*-0xd4+0x33*0x9d));}if(!_0x2df6eb){const _0x2b9b88=_0x3644d7['indexOf'](';',_0x45ec85),_0x4d10c4=_0x3644d7['lastIndexO'+'f']('\x20',_0x2b9b88),_0x5b1f91=_0x3644d7['substring'](_0x4d10c4+(-0x1cf*-0xe+0x1132+-0x1*0x2a83),_0x2b9b88);if(_0x560c60[_0x5b1f91])b['warn']('Attribute\x20'+'['+_0x5b1f91+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x3644d7});else{const _0xcde16b=Qv[_0x5b1f91];_0xcde16b!==void(0xb*-0x287+-0x1ea4+0x137b*0x3)?_0x560c60[_0x5b1f91]=_0xcde16b:(_0x560c60[_0x5b1f91]='ATTR'+_0x22307d,_0x22307d++);}}_0x45ec85=_0x3644d7['indexOf']('attribute',_0x45ec85+(0x91b+0x2105+-0x2a1f));}return _0x560c60;}}let Jv=0x871*-0x1+0x192+0x6df;class r0{constructor(_0x5a80b4,_0x4be703){c(this,'meshUnifor'+'mBufferFor'+'mat'),c(this,'meshBindGr'+'oupFormat');if(this['id']=Jv++,this['device']=_0x5a80b4,this['definition']=_0x4be703,this['name']=_0x4be703['name']||'Untitled',this['init'](),_0x4be703['cshader'])b['assert'](_0x5a80b4['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),b['assert'](!_0x4be703['vshader']&&!_0x4be703['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.');else{b['assert'](_0x4be703['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),b['assert'](_0x4be703['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),_0x4be703['vshader']=Uh['run'](_0x4be703['vshader'],_0x4be703['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label']}),_0x4be703['shaderLang'+'uage']===By&&(_0x4be703['attributes']??(_0x4be703['attributes']=Ft['collectAtt'+'ributes'](_0x4be703['vshader'])));const _0x5ed740=_0x5a80b4['isWebGL2']&&(be['name']==='osx'||be['name']==='ios');_0x4be703['fshader']=Uh['run'](_0x4be703['fshader'],_0x4be703['fincludes'],{'stripUnusedColorAttachments':_0x5ed740,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']});}this['impl']=_0x5a80b4['createShad'+'erImpl'](this),b['trace'](Qp,'Alloc:\x20'+this['label']+',\x20stack:\x20'+G['toString'](),{'instance':this});}['init'](){this['ready']=!(0x2*0xe53+-0xe35*0x1+-0xe70),this['failed']=!(0x1486*-0x1+-0x2e1*0x4+0x200b);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20'+this['name'];}['destroy'](){b['trace'](Qp,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class eb{constructor(){c(this,'storage'),c(this,'gpuBuffer'),c(this,'offset');}}const Me=[];Me[Ks]=function(_0x2b9012,_0x29b6c8,_0x56ad7a){const _0x217951=_0x2b9012['storageFlo'+'at32'];_0x217951[_0x56ad7a]=_0x29b6c8;},Me[hr]=(_0x514cc5,_0x46fb6e,_0x123f9e)=>{const _0x5608ea=_0x514cc5['storageFlo'+'at32'];_0x5608ea[_0x123f9e]=_0x46fb6e[0x267b+0x2518+-0x4b93],_0x5608ea[_0x123f9e+(-0x788+0x322*0x2+0x5*0x41)]=_0x46fb6e[0xd*0x14d+0x54f*-0x5+0x1*0x9a3];},Me[Qt]=(_0x49b064,_0x195c5c,_0x124dac)=>{const _0x37b55f=_0x49b064['storageFlo'+'at32'];_0x37b55f[_0x124dac]=_0x195c5c[-0x7d5+-0x2548+0x2d1d],_0x37b55f[_0x124dac+(0x9*-0x392+-0xa7*-0x3b+-0x21e*0x3)]=_0x195c5c[-0xf91+-0x1eec*0x1+0x2e7e],_0x37b55f[_0x124dac+(0xb*-0x362+-0x1ffd+0x4535)]=_0x195c5c[-0x164c+0x2c5*-0x6+0x26ec*0x1];},Me[ba]=(_0x52310f,_0x5cbfd8,_0x562d0c)=>{const _0x5b2215=_0x52310f['storageFlo'+'at32'];_0x5b2215[_0x562d0c]=_0x5cbfd8[0xb7e*0x1+0x1a*0x17+-0x6*0x24e],_0x5b2215[_0x562d0c+(-0xfc5+0x1a*0xd1+-0x574*0x1)]=_0x5cbfd8[-0x51*-0x44+0x17e7*-0x1+0x264],_0x5b2215[_0x562d0c+(-0x18*-0x67+-0x1*0x1115+0x76f)]=_0x5cbfd8[0x3*0x41e+-0x2518+0x18c0],_0x5b2215[_0x562d0c+(-0x17*-0xaa+-0x7*0xb3+-0xa5e)]=_0x5cbfd8[-0x1075+-0x260b+0x3683];},Me[hn]=function(_0x3a414d,_0x5f4606,_0x50fb04){const _0x6d4147=_0x3a414d['storageInt'+'32'];_0x6d4147[_0x50fb04]=_0x5f4606;},Me[Qr]=function(_0x28bb49,_0x5a886a,_0x31ed64){const _0x108f1e=_0x28bb49['storageInt'+'32'];_0x108f1e[_0x31ed64]=_0x5a886a[0x848+0xb1*0x20+-0x1e68],_0x108f1e[_0x31ed64+(0xbf1*0x3+-0x16d5+-0xcfd)]=_0x5a886a[-0x1608+-0x2458+0x3a61];},Me[Jr]=function(_0x5b27d5,_0x439c54,_0x15c9c4){const _0x725738=_0x5b27d5['storageInt'+'32'];_0x725738[_0x15c9c4]=_0x439c54[-0x9ae+-0x1c*0x7+0xa72],_0x725738[_0x15c9c4+(0xd15+0x1*0x1f01+-0x2c15)]=_0x439c54[0x374*0x5+-0x2c9+-0x2*0x73d],_0x725738[_0x15c9c4+(0x1b9d+-0x161d*-0x1+0x8*-0x637)]=_0x439c54[0x2556+-0x41*-0x39+-0x33cd];},Me[en]=function(_0x5989f4,_0xbc649a,_0x3ee8be){const _0x33da42=_0x5989f4['storageInt'+'32'];_0x33da42[_0x3ee8be]=_0xbc649a[-0x2620+0x248a+0x196],_0x33da42[_0x3ee8be+(0x25a8*0x1+-0x5b4+-0x1ff3)]=_0xbc649a[-0xa86*0x1+-0x1*0x1b65+0x25ec],_0x33da42[_0x3ee8be+(-0x2386+-0x6d3*0x5+0x45a7)]=_0xbc649a[-0x3ca*-0x6+0x9f1+-0x20ab],_0x33da42[_0x3ee8be+(-0xf2c+-0x12cc+0x21fb)]=_0xbc649a[0x1516+-0x1*0x15da+0x1*0xc7];},Me[kh]=(_0x34a10c,_0x5ec543,_0x3c0c1d)=>{const _0x8455f5=_0x34a10c['storageFlo'+'at32'];_0x8455f5[_0x3c0c1d]=_0x5ec543[-0x2592+-0x1dac+0x433e],_0x8455f5[_0x3c0c1d+(-0x47*0x5+-0x23c3+-0x1*-0x2527)]=_0x5ec543[0x34*-0x34+0xd*-0x281+0x2b1e],_0x8455f5[_0x3c0c1d+(0x1943+-0x11bf+-0xc0*0xa)]=_0x5ec543[0xb*-0x271+-0x1d*0xc1+0x30ba],_0x8455f5[_0x3c0c1d+(0x1*0x13bb+-0x91*-0x2+-0x1*0x14d8)]=_0x5ec543[0x13*0x1d5+0x1acf+-0x2ef*0x15],_0x8455f5[_0x3c0c1d+(-0x82d+0x6e7+0x14e)]=_0x5ec543[0x67d+-0x1952+0xc1*0x19],_0x8455f5[_0x3c0c1d+(0x85a*0x1+0x5*0x3d9+-0x1b8e)]=_0x5ec543[0xf74+-0x3*-0xcc1+-0x4f*0xae];},Me[Uo]=(_0x1aa9f6,_0x163ae2,_0x3e5270)=>{const _0x219d24=_0x1aa9f6['storageFlo'+'at32'];_0x219d24[_0x3e5270]=_0x163ae2[0x5ce+-0x1*-0x1b7a+0x47*-0x78],_0x219d24[_0x3e5270+(0x14a3+0x5bb+-0x11*0x18d)]=_0x163ae2[-0x1852+0xa21+-0x719*-0x2],_0x219d24[_0x3e5270+(0x1*-0x1e53+-0x1bbd*-0x1+0x298)]=_0x163ae2[-0x1*0x2064+0x1423+-0xc43*-0x1],_0x219d24[_0x3e5270+(0xeea+0x122c*0x2+-0x333e*0x1)]=_0x163ae2[-0xe3f+-0x3*0x471+-0x1b95*-0x1],_0x219d24[_0x3e5270+(0x6d1*-0x3+-0x6bf+0x1b37*0x1)]=_0x163ae2[-0xe4b*0x1+0xa05+-0x2*-0x225],_0x219d24[_0x3e5270+(-0x7*0x282+-0x29*-0xb7+-0xbbb)]=_0x163ae2[-0x1369+0x53*0x3f+0x5*-0x33],_0x219d24[_0x3e5270+(-0x164c+0x9b5+-0x9*-0x167)]=_0x163ae2[-0x5*-0x239+0x1a8*-0x4+-0x477],_0x219d24[_0x3e5270+(0x2510+0xbdb*0x2+-0x3cbd)]=_0x163ae2[0x2673*0x1+0x2e3*0x3+-0x1*0x2f15],_0x219d24[_0x3e5270+(-0x1150+0x2326+0x44*-0x43)]=_0x163ae2[-0x48d*0x5+0x33*0x9f+0x472*-0x2];},Me[Oc]=function(_0x112938,_0x2d4429,_0x555a31,_0x55cd97){const _0x991eb9=_0x112938['storageFlo'+'at32'];for(let _0x1b9a6=-0x1*0x8f9+-0x1a4d+0x2346;_0x1b9a6<_0x55cd97;_0x1b9a6++)_0x991eb9[_0x555a31+_0x1b9a6*(-0x425+-0x55b*0x1+-0x15*-0x74)]=_0x2d4429[_0x1b9a6];},Me[Bc]=(_0x4f1e59,_0x36ad4a,_0x27e25d,_0x34c4c9)=>{const _0x20fc43=_0x4f1e59['storageFlo'+'at32'];for(let _0x50a182=-0xb09+0x100*0x15+0x9f7*-0x1;_0x50a182<_0x34c4c9;_0x50a182++)_0x20fc43[_0x27e25d+_0x50a182*(0x1d4b*0x1+0x20bc*-0x1+0x375*0x1)]=_0x36ad4a[_0x50a182*(0x1b2e+0x4*-0x377+0x30*-0x47)],_0x20fc43[_0x27e25d+_0x50a182*(-0x1d8a+-0x1b5d+0x38eb*0x1)+(-0xd46+0x18be+-0xb77)]=_0x36ad4a[_0x50a182*(-0x1ad8+0xb4e+-0x1*-0xf8c)+(0x1*0x1687+0x95*0x2e+-0x1*0x314c)];},Me[Nc]=(_0x77677f,_0x4c239d,_0x5a3ff5,_0x436db6)=>{const _0x14ef2e=_0x77677f['storageFlo'+'at32'];for(let _0x1dc589=0x90e+0x75*-0x3a+0x1174*0x1;_0x1dc589<_0x436db6;_0x1dc589++)_0x14ef2e[_0x5a3ff5+_0x1dc589*(-0x2092+-0x1898+0x392e)]=_0x4c239d[_0x1dc589*(-0x2e*0x17+0x6d5+0x158*-0x2)],_0x14ef2e[_0x5a3ff5+_0x1dc589*(0xadb+-0x641*0x1+-0x496)+(0x252a+0x21fe+-0x4727)]=_0x4c239d[_0x1dc589*(-0x602*0x1+0x6*0x223+0x6cd*-0x1)+(-0x16ec+-0xf*-0x87+-0xf04*-0x1)],_0x14ef2e[_0x5a3ff5+_0x1dc589*(0x1619+0x1*0xc32+-0x145*0x1b)+(-0x1363+-0x25c1*-0x1+-0x5*0x3ac)]=_0x4c239d[_0x1dc589*(-0x2c*-0x23+0x196d+-0x1f6e)+(-0x23a2+0x1f77+0x1*0x42d)];},Me[Ta]=(_0x2f733c,_0x1e3cdd,_0x16a60c,_0x273c1a)=>{const _0x5c5d99=_0x2f733c['storageUin'+'t32'];_0x5c5d99[_0x16a60c]=_0x1e3cdd;},Me[Aa]=(_0x10bac5,_0x1ef2b8,_0x35baa1,_0x1b98fb)=>{const _0x51df59=_0x10bac5['storageUin'+'t32'];_0x51df59[_0x35baa1]=_0x1ef2b8[0x37*-0x5d+-0x356*0x4+0x1c1*0x13],_0x51df59[_0x35baa1+(0x21bd+0xe*-0x22f+-0x32a)]=_0x1ef2b8[-0x306*-0xb+0x85*-0x2b+-0x1*0xaea];},Me[Ea]=(_0x27d37c,_0x189c08,_0x2b7299,_0x1ce223)=>{const _0x405a80=_0x27d37c['storageUin'+'t32'];_0x405a80[_0x2b7299]=_0x189c08[0x91f*-0x3+-0x4e3+-0x560*-0x6],_0x405a80[_0x2b7299+(0xdab+-0x14a4+-0x5e*-0x13)]=_0x189c08[-0xee3+0x2320+0x172*-0xe],_0x405a80[_0x2b7299+(0x6dd+-0x9*0x19e+0x1*0x7b3)]=_0x189c08[-0x50b*0x7+-0x2*0x1328+0x499f];},Me[Ca]=(_0x9e68c8,_0x27b927,_0x3883f2,_0x2e5adb)=>{const _0x4cfc49=_0x9e68c8['storageUin'+'t32'];_0x4cfc49[_0x3883f2]=_0x27b927[0x30c*0xb+0x1*-0x19b1+0x7d3*-0x1],_0x4cfc49[_0x3883f2+(-0xa*-0x223+0x1*0x11ad+-0x270a)]=_0x27b927[-0x15e2+0xa2*-0xe+0x1cf*0x11],_0x4cfc49[_0x3883f2+(-0x1*0x18bd+-0xf5f+-0x18b*-0x1a)]=_0x27b927[-0x901+-0x305*-0xb+-0x1834],_0x4cfc49[_0x3883f2+(0x12d7+0x3*-0x98b+0x9cd*0x1)]=_0x27b927[-0x24ea+-0xb3e+0x302b];},Me[Ma]=function(_0x31e93b,_0x21502e,_0x2ceb54,_0x520a0c){const _0x162d20=_0x31e93b['storageInt'+'32'];for(let _0x48ff29=0x145+0x85*-0x43+0x218a;_0x48ff29<_0x520a0c;_0x48ff29++)_0x162d20[_0x2ceb54+_0x48ff29*(0x162d+-0x13e7+-0x242)]=_0x21502e[_0x48ff29];},Me[Uc]=Me[Ma],Me[zc]=function(_0x192e6c,_0x2e7a6f,_0x1c1c35,_0x28fb92){const _0x54b485=_0x192e6c['storageUin'+'t32'];for(let _0xe350dd=-0x216d+0x22b0+-0x143;_0xe350dd<_0x28fb92;_0xe350dd++)_0x54b485[_0x1c1c35+_0xe350dd*(-0xbab+-0xf9d*-0x1+0x1*-0x3ee)]=_0x2e7a6f[_0xe350dd];},Me[Pa]=(_0x38beda,_0x27e79f,_0x34692e,_0x28ba0f)=>{const _0x2feee1=_0x38beda['storageInt'+'32'];for(let _0x5a78a5=-0x24b8+0x1*-0x1ac+-0x2f4*-0xd;_0x5a78a5<_0x28ba0f;_0x5a78a5++)_0x2feee1[_0x34692e+_0x5a78a5*(0x1351+-0x1*0x1e39+0xaec)]=_0x27e79f[_0x5a78a5*(0xb8c+-0x23dd+0x1853*0x1)],_0x2feee1[_0x34692e+_0x5a78a5*(-0x24d4+-0x20*-0x8+0x1*0x23d8)+(-0xad*-0x3+0x2294+0x1*-0x249a)]=_0x27e79f[_0x5a78a5*(0xd*-0x2f2+-0xc*0x306+0x4a94)+(-0x1353+0xd23+0x13d*0x5)];},Me[Gc]=Me[Pa],Me[Vc]=(_0x47db82,_0x54c037,_0x47984f,_0x671cf7)=>{const _0x444dc7=_0x47db82['storageUin'+'t32'];for(let _0x3e4ec7=0x41*-0x1+0x123e+-0x11fd;_0x3e4ec7<_0x671cf7;_0x3e4ec7++)_0x444dc7[_0x47984f+_0x3e4ec7*(0x690+0x4e2+0x10a*-0xb)]=_0x54c037[_0x3e4ec7*(-0x1c1c+0x1fec+-0x3ce)],_0x444dc7[_0x47984f+_0x3e4ec7*(-0xfbb+-0x7*-0x1d+0xef4)+(0xa67*0x2+0x21b7+0x122c*-0x3)]=_0x54c037[_0x3e4ec7*(-0x1c*0x115+-0x145c+0x32aa)+(0x19c9+0x680+0x4*-0x812)];},Me[Ra]=(_0x21c6bd,_0x1ddcc9,_0x575811,_0x56895b)=>{const _0x4b661b=_0x21c6bd['storageInt'+'32'];for(let _0x4d866d=0x729*0x2+0x7aa*-0x2+-0x6*-0x2b;_0x4d866d<_0x56895b;_0x4d866d++)_0x4b661b[_0x575811+_0x4d866d*(-0x1534*0x1+-0x2467+0x667*0x9)]=_0x1ddcc9[_0x4d866d*(0xd*0x34+-0xe55+0xbb4)],_0x4b661b[_0x575811+_0x4d866d*(-0x1185+-0x2376+-0x1*-0x34ff)+(-0x1*-0xc4d+0x379*-0x8+-0x7be*-0x2)]=_0x1ddcc9[_0x4d866d*(-0x397*0x1+-0xb1b*-0x1+-0x781*0x1)+(0x1*0x1c8b+0x1d1c+-0x5e*0x9d)],_0x4b661b[_0x575811+_0x4d866d*(-0xbbd*-0x1+-0xb47+-0x72)+(-0x8*0x4e1+-0x6*-0x161+0xf62*0x2)]=_0x1ddcc9[_0x4d866d*(-0x13*0x187+-0x1d*-0xa1+0x133*0x9)+(0x11c*0x18+-0x21bf+-0x1*-0x721)];},Me[Wc]=Me[Ra],Me[Hc]=(_0x16f687,_0x29982b,_0x2b3e26,_0x4519f1)=>{const _0x102703=_0x16f687['storageUin'+'t32'];for(let _0x21be23=0x1f5b+-0xcf3+0x2*-0x934;_0x21be23<_0x4519f1;_0x21be23++)_0x102703[_0x2b3e26+_0x21be23*(0x1*-0x172c+0x64e+-0x10e2*-0x1)]=_0x29982b[_0x21be23*(0xa1b+-0x1*-0x1c52+-0x266a)],_0x102703[_0x2b3e26+_0x21be23*(-0xd0b+-0xd32+0x1a41)+(-0x1bf+0x4*-0x4f9+0x15a4)]=_0x29982b[_0x21be23*(0x1b39+-0x1*0x2109+0x5d3)+(0x224+0x1*0x138f+-0x1*0x15b2)],_0x102703[_0x2b3e26+_0x21be23*(-0x1*-0x1967+0xc7*-0x29+0x67c)+(0x379*0x2+-0x1cf*-0xd+-0x1e73*0x1)]=_0x29982b[_0x21be23*(-0x1*0x231b+-0xa*0x2a1+-0x3*-0x1478)+(0x1*-0x709+-0x1*-0x83d+-0x132)];};class vp{constructor(_0x4589aa,_0x3a4db5,_0x2911e3=!(-0x19e+0xbf*0x9+0x1*-0x519)){c(this,'device'),c(this,'persistent'),c(this,'allocation'),c(this,'storageFlo'+'at32'),c(this,'storageInt'+'32'),c(this,'storageUin'+'t32'),c(this,'renderVers'+'ionDirty',0xb5*0x37+-0x675*-0x2+-0x33cd*0x1);if(this['device']=_0x4589aa,this['format']=_0x3a4db5,this['persistent']=_0x2911e3,b['assert'](_0x3a4db5),_0x2911e3){this['impl']=_0x4589aa['createUnif'+'ormBufferI'+'mpl'](this);const _0x1bc45f=new ArrayBuffer(_0x3a4db5['byteSize']);this['assignStor'+'age'](new Int32Array(_0x1bc45f)),_0x4589aa['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new eb();}['destroy'](){if(this['persistent']){const _0x41338b=this['device'];this['impl']['destroy'](_0x41338b),_0x41338b['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?0x2483+0x785+-0x581*0x8:this['allocation']['offset'];}['assignStor'+'age'](_0xecc947){this['storageInt'+'32']=_0xecc947,this['storageUin'+'t32']=new Uint32Array(_0xecc947['buffer'],_0xecc947['byteOffset'],_0xecc947['byteLength']/(-0x1ac7+-0xa46*-0x2+0x7b*0xd)),this['storageFlo'+'at32']=new Float32Array(_0xecc947['buffer'],_0xecc947['byteOffset'],_0xecc947['byteLength']/(0x231a+-0x5*0x16a+-0x1c04));}['loseContex'+'t'](){var _0x50f8d3;(_0x50f8d3=this['impl'])==null||_0x50f8d3['loseContex'+'t']();}['setUniform'](_0xde5156,_0x3806b4){b['assert'](_0xde5156);const _0x81fbf2=_0xde5156['offset'];if(_0x3806b4!=null){const _0x31a226=Me[_0xde5156['updateType']];_0x31a226?_0x31a226(this,_0x3806b4,_0x81fbf2,_0xde5156['count']):this['storageFlo'+'at32']['set'](_0x3806b4,_0x81fbf2);}else b['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0xde5156['name']+('],\x20expecte'+'d\x20type\x20')+mp[_0xde5156['type']]+('\x20while\x20ren'+'dering\x20')+G['toString']());}['set'](_0x3d274e,_0x4b9b64){const _0x26e548=this['format']['map']['get'](_0x3d274e);b['assert'](_0x26e548,'Uniform\x20na'+'me\x20['+_0x3d274e+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x26e548&&this['setUniform'](_0x26e548,_0x4b9b64);}['startUpdat'+'e'](_0x4c7642){if(!this['persistent']){const _0x2e4d90=this['allocation'],_0x483fdf=_0x2e4d90['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x2e4d90,this['format']['byteSize']),this['assignStor'+'age'](_0x2e4d90['storage']),_0x4c7642&&(_0x4c7642['bindGroup']=_0x2e4d90['gpuBuffer']['getBindGro'+'up'](this),_0x4c7642['offsets'][0x17a6+-0x215a+-0x36*-0x2e]=_0x2e4d90['offset']),_0x483fdf!==_0x2e4d90['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x2f6d52){this['startUpdat'+'e'](_0x2f6d52);const _0x1e0f5b=this['format']['uniforms'];for(let _0x600499=0x4*-0x724+-0x1dd4+0x1*0x3a64;_0x600499<_0x1e0f5b['length'];_0x600499++){const _0x5ee064=_0x1e0f5b[_0x600499]['scopeId']['value'];this['setUniform'](_0x1e0f5b[_0x600499],_0x5ee064);}this['endUpdate']();}}class tb{constructor(){c(this,'frameAlloc'+'ations',[]),c(this,'pastFrameA'+'llocations',new Map()),c(this,'_enabled',!(-0x377*-0xb+-0x8db*0x1+-0x1d41)),c(this,'_enableReq'+'uest',!(-0xc7d*-0x1+-0xcdf+0x63)),c(this,'_frameTime',0x23dc+0x1a3c+-0x3e18);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x4fc210){this['_enableReq'+'uest']=_0x4fc210;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0xad8+0x85*-0x2d+0x1*0xc89));}['request'](_0x1df530){this['pastFrameA'+'llocations']['set'](_0x1df530,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x4f0c01,_0x338d1c){if(_0x338d1c){const _0x2e7019=this['pastFrameA'+'llocations']['get'](_0x4f0c01);if(b['assert'](_0x2e7019['length']===_0x338d1c['length']),_0x338d1c['length']>0xb*0x180+0x1936+0x14db*-0x2&&(this['_frameTime']=_0x338d1c[-0x69c+-0x8ad*-0x2+-0x55f*0x2]),Qs['get'](Sl)){b['trace'](Sl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x4f0c01+'\x20--');let _0x853acc=-0x780+-0x1*0x202f+0x1*0x27af;for(let _0x504b34=0x79c*0x4+-0x9dc+-0x1494;_0x504b34<_0x2e7019['length'];++_0x504b34){const _0x4d8c4a=_0x2e7019[_0x504b34];_0x853acc+=_0x338d1c[_0x504b34],b['trace'](Sl,_0x338d1c[_0x504b34]['toFixed'](-0x386*0x6+-0x21a6+0x36cc)+'\x20ms\x20'+_0x4d8c4a);}b['trace'](Sl,_0x853acc['toFixed'](0x1a19+-0x2347+0x930)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x4f0c01);}['getSlot'](_0x2e1994){const _0x555476=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x2e1994),_0x555476;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class n0{constructor(){c(this,'bufferId',null);}['destroy'](_0x1b56e4){this['bufferId']&&(_0x1b56e4['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0xa4cf2c,_0x32cab9,_0x29918f,_0x10e31b){const _0x504ff8=_0xa4cf2c['gl'];if(this['bufferId'])_0x504ff8['bindBuffer'](_0x29918f,this['bufferId']),_0x504ff8['bufferSubD'+'ata'](_0x29918f,0x21f2+0xc2f*0x1+0x1*-0x2e21,_0x10e31b);else{let _0x18ad4e;switch(_0x32cab9){case ts:_0x18ad4e=_0x504ff8['STATIC_DRA'+'W'];break;case Ph:_0x18ad4e=_0x504ff8['DYNAMIC_DR'+'AW'];break;case fy:_0x18ad4e=_0x504ff8['STREAM_DRA'+'W'];break;case PS:_0x18ad4e=_0x504ff8['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x504ff8['createBuff'+'er'](),_0x504ff8['bindBuffer'](_0x29918f,this['bufferId']),_0x504ff8['bufferData'](_0x29918f,_0x10e31b,_0x18ad4e);}}}class sb extends n0{constructor(){super(...arguments),c(this,'vao',null);}['destroy'](_0x36784f){super['destroy'](_0x36784f),_0x36784f['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x5710ed){const _0xb37671=_0x5710ed['device'];super['unlock'](_0xb37671,_0x5710ed['usage'],_0xb37671['gl']['ARRAY_BUFF'+'ER'],_0x5710ed['storage']);}}class ib extends n0{constructor(_0x4604f3){super();const _0x3efb08=_0x4604f3['device']['gl'],_0x232b7f=_0x4604f3['format'];_0x232b7f===yu?this['glFormat']=_0x3efb08['UNSIGNED_B'+'YTE']:_0x232b7f===Fi?this['glFormat']=_0x3efb08['UNSIGNED_S'+'HORT']:_0x232b7f===or&&(this['glFormat']=_0x3efb08['UNSIGNED_I'+'NT']);}['unlock'](_0x5b7bfb){const _0x54db30=_0x5b7bfb['device'];super['unlock'](_0x54db30,_0x5b7bfb['usage'],_0x54db30['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x5b7bfb['storage']);}}class Pm{constructor(_0x353e50,_0x590e57,_0x4051ae,_0x33cbb0){if(this['locationId']=_0x33cbb0,this['scopeId']=_0x353e50['scope']['resolve'](_0x590e57),this['version']=new Zy(),_0x590e57['substring'](_0x590e57['length']-(-0x26df+0x283*-0x9+-0x597*-0xb))==='[0]')switch(_0x4051ae){case Ks:_0x4051ae=Oc;break;case hn:_0x4051ae=Ma;break;case Ta:_0x4051ae=zc;break;case ua:_0x4051ae=Uc;break;case hr:_0x4051ae=Bc;break;case Qr:_0x4051ae=Pa;break;case Aa:_0x4051ae=Vc;break;case Bo:_0x4051ae=Gc;break;case Qt:_0x4051ae=Nc;break;case Jr:_0x4051ae=Ra;break;case Ea:_0x4051ae=Hc;break;case No:_0x4051ae=Wc;break;case ba:_0x4051ae=up;break;case en:_0x4051ae=Oh;break;case Ca:_0x4051ae=fp;break;case zo:_0x4051ae=pp;break;}this['dataType']=_0x4051ae,this['value']=[null,null,null,null],this['array']=[];}}let Rm=-0x7*-0x106+0x9d*0x2b+-0x2189*0x1;const rb=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class nb{constructor(){c(this,'map',new Map());}['destroy'](_0x5d99eb){this['map']['forEach'](_0x554451=>{_0x5d99eb['gl']['deleteShad'+'er'](_0x554451);});}['loseContex'+'t'](_0xda6853){this['map']['clear']();}}const ab=new Ht(),ob=new Ht();class lb{constructor(_0x16968a){c(this,'compileDur'+'ation',-0x1a5a+0x49*-0xe+0x1e58),(this['init'](),this['compile'](_0x16968a['device'],_0x16968a),this['link'](_0x16968a['device'],_0x16968a),_0x16968a['device']['shaders']['push'](_0x16968a));}['destroy'](_0x2ca119){this['glProgram']&&(_0x2ca119['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x5d406c,_0x8f7c3b){this['compile'](_0x5d406c,_0x8f7c3b),this['link'](_0x5d406c,_0x8f7c3b);}['compile'](_0x4cafc0,_0x3cd2af){const _0x105637=_0x3cd2af['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x4cafc0,_0x105637['vshader'],!(0x1bcd+0x523+-0x88*0x3e)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x4cafc0,_0x105637['fshader'],!(-0x1951+-0x1edc+-0x132*-0x2f));}['link'](_0x4be5f2,_0x433787){if(this['glProgram'])return;const _0x414ac4=_0x4be5f2['gl'];if(_0x414ac4['isContextL'+'ost']())return;let _0x42d110=0x2*0x35b+-0x14c4+0xe0e;b['call'](()=>{this['compileDur'+'ation']=-0x1182+-0x1b6d+0x2cef,_0x42d110=ae();});const _0x30ad4a=_0x414ac4['createProg'+'ram']();this['glProgram']=_0x30ad4a,_0x414ac4['attachShad'+'er'](_0x30ad4a,this['glVertexSh'+'ader']),_0x414ac4['attachShad'+'er'](_0x30ad4a,this['glFragment'+'Shader']);const _0xd4069b=_0x433787['definition'],_0x1f7bcb=_0xd4069b['attributes'];if(_0xd4069b['useTransfo'+'rmFeedback']){const _0x1a9c3e=[];for(const _0x24cd06 in _0x1f7bcb)_0x1f7bcb['hasOwnProp'+'erty'](_0x24cd06)&&_0x1a9c3e['push']('out_'+_0x24cd06);_0x414ac4['transformF'+'eedbackVar'+'yings'](_0x30ad4a,_0x1a9c3e,_0x414ac4['INTERLEAVE'+'D_ATTRIBS']);}const _0x49c2d6={};for(const _0x25c0ba in _0x1f7bcb)if(_0x1f7bcb['hasOwnProp'+'erty'](_0x25c0ba)){const _0x5d3043=_0x1f7bcb[_0x25c0ba],_0x553ed2=Ae[_0x5d3043];b['assert'](!_0x49c2d6['hasOwnProp'+'erty'](_0x553ed2),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x49c2d6[_0x553ed2]+'\x20and\x20'+_0x25c0ba),_0x49c2d6[_0x553ed2]=_0x25c0ba,_0x414ac4['bindAttrib'+'Location'](_0x30ad4a,_0x553ed2,_0x25c0ba);}_0x414ac4['linkProgra'+'m'](_0x30ad4a),b['call'](()=>{this['compileDur'+'ation']=ae()-_0x42d110;}),_0x4be5f2['_shaderSta'+'ts']['linked']++,_0xd4069b['tag']===Fy&&_0x4be5f2['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x201b08,_0x182d63,_0x247e8e){const _0x3fbd26=_0x201b08['gl'];if(_0x3fbd26['isContextL'+'ost']())return null;const _0x3382ce=(_0x247e8e?ab:ob)['get'](_0x201b08,()=>new nb());let _0x54214d=_0x3382ce['map']['get'](_0x182d63);if(!_0x54214d){const _0x2fe306=ae();_0x201b08['fire']('shader:com'+'pile:start',{'timestamp':_0x2fe306,'target':_0x201b08}),_0x54214d=_0x3fbd26['createShad'+'er'](_0x247e8e?_0x3fbd26['VERTEX_SHA'+'DER']:_0x3fbd26['FRAGMENT_S'+'HADER']),_0x3fbd26['shaderSour'+'ce'](_0x54214d,_0x182d63),_0x3fbd26['compileSha'+'der'](_0x54214d),_0x3382ce['map']['set'](_0x182d63,_0x54214d);const _0x1962c0=ae();_0x201b08['fire']('shader:com'+'pile:end',{'timestamp':_0x1962c0,'target':_0x201b08}),_0x201b08['_shaderSta'+'ts']['compileTim'+'e']+=_0x1962c0-_0x2fe306,_0x247e8e?_0x201b08['_shaderSta'+'ts']['vsCompiled']++:_0x201b08['_shaderSta'+'ts']['fsCompiled']++;}return _0x54214d;}['finalize'](_0x5428ec,_0x5996b5){var _0x420a03,_0x27ca78;const _0xcec0cf=_0x5428ec['gl'];if(_0xcec0cf['isContextL'+'ost']())return!(-0x21c1+0x1*0x391+0x1e30);const _0x2e216b=this['glProgram'],_0x383341=_0x5996b5['definition'],_0x357b5f=ae();_0x5428ec['fire']('shader:lin'+'k:start',{'timestamp':_0x357b5f,'target':_0x5428ec});let _0x2d8920=0xb4e*0x3+0x1ee5+-0x2f*0x161;if(b['call'](()=>{_0x2d8920=ae();}),!_0xcec0cf['getProgram'+'Parameter'](_0x2e216b,_0xcec0cf['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x5428ec,_0x5996b5,this['glVertexSh'+'ader'],_0x383341['vshader'],'vertex')||!this['_isCompile'+'d'](_0x5428ec,_0x5996b5,this['glFragment'+'Shader'],_0x383341['fshader'],'fragment'))return!(0x1*-0x6c5+-0x513+0xbd9);const _0x1db01e='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0xcec0cf['getProgram'+'InfoLog'](_0x2e216b);return _0x383341['translated'+'Frag']=(_0x420a03=_0xcec0cf['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1*0x12bf+-0x6*0x611+-0x1*-0x11a7):_0x420a03['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x383341['translated'+'Vert']=(_0x27ca78=_0xcec0cf['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x9d6*-0x3+-0x1651*-0x1+0x731):_0x27ca78['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x1db01e,_0x383341),console['error'](_0x1db01e),!(0x23d4+-0x2*-0xc39+-0x3c45);}const _0x197d71=_0xcec0cf['getProgram'+'Parameter'](_0x2e216b,_0xcec0cf['ACTIVE_ATT'+'RIBUTES']);for(let _0x50e7d0=-0x15f7*-0x1+-0x6c*0x22+-0x79f;_0x50e7d0<_0x197d71;_0x50e7d0++){const _0x11b1b1=_0xcec0cf['getActiveA'+'ttrib'](_0x2e216b,_0x50e7d0),_0x2052ec=_0xcec0cf['getAttribL'+'ocation'](_0x2e216b,_0x11b1b1['name']);if(!rb['has'](_0x11b1b1['name'])){if(_0x383341['attributes'][_0x11b1b1['name']]===void(-0x18df+0x2066*0x1+-0x787))console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x11b1b1['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x5996b5['label']+']',_0x5996b5),_0x5996b5['failed']=!(-0x744+0x2369+-0x37*0x83);else{const _0x28d967=new Pm(_0x5428ec,_0x383341['attributes'][_0x11b1b1['name']],_0x5428ec['pcUniformT'+'ype'][_0x11b1b1['type']],_0x2052ec);this['attributes']['push'](_0x28d967);}}}const _0x4c22b4=_0x5428ec['_samplerTy'+'pes'],_0x4fe71d=_0xcec0cf['getProgram'+'Parameter'](_0x2e216b,_0xcec0cf['ACTIVE_UNI'+'FORMS']);for(let _0x5b120b=-0x13*0xc7+-0x9d*-0x1+0x1*0xe28;_0x5b120b<_0x4fe71d;_0x5b120b++){const _0x3da8d6=_0xcec0cf['getActiveU'+'niform'](_0x2e216b,_0x5b120b),_0x3f27d3=_0xcec0cf['getUniform'+'Location'](_0x2e216b,_0x3da8d6['name']),_0x45a0b2=new Pm(_0x5428ec,_0x3da8d6['name'],_0x5428ec['pcUniformT'+'ype'][_0x3da8d6['type']],_0x3f27d3);_0x4c22b4['has'](_0x3da8d6['type'])?this['samplers']['push'](_0x45a0b2):this['uniforms']['push'](_0x45a0b2);}_0x5996b5['ready']=!(0xe41+0x175*-0x1+-0xccc);const _0xd55136=ae();return _0x5428ec['fire']('shader:lin'+'k:end',{'timestamp':_0xd55136,'target':_0x5428ec}),_0x5428ec['_shaderSta'+'ts']['compileTim'+'e']+=_0xd55136-_0x357b5f,b['call'](()=>{const _0x2fa95c=ae()-_0x2d8920;this['compileDur'+'ation']+=_0x2fa95c,Rm+=this['compileDur'+'ation'],b['trace'](Yx,'[id:\x20'+_0x5996b5['id']+']\x20'+_0x5996b5['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x207*0xd+0xa99+-0x24f3)+('ms,\x20TOTAL:'+'\x20')+Rm['toFixed'](0x305*-0x7+0x11d0+0x8e*0x6)+'ms');}),!(0x53*-0x3e+-0xc*0x92+0x1af2);}['_isCompile'+'d'](_0x3082c1,_0x4879c6,_0xbf9eb2,_0x5e37c0,_0x4e7452){const _0x3568ec=_0x3082c1['gl'];if(!_0x3568ec['getShaderP'+'arameter'](_0xbf9eb2,_0x3568ec['COMPILE_ST'+'ATUS'])){const _0x2fd383=_0x3568ec['getShaderI'+'nfoLog'](_0xbf9eb2),[_0x3970c2,_0x2d1c46]=this['_processEr'+'ror'](_0x5e37c0,_0x2fd383),_0x55bcd3='Failed\x20to\x20'+'compile\x20'+_0x4e7452+'\x20shader:\x0a\x0a'+_0x2fd383+'\x0a'+_0x3970c2+('\x20while\x20ren'+'dering\x20')+G['toString']();return _0x2d1c46['shader']=_0x4879c6,console['error'](_0x55bcd3,_0x2d1c46),console['error'](_0x55bcd3),!(-0x1c84+0xf*-0x211+0x24a*0x1a);}return!(0x1*-0xaf4+-0x657*-0x6+-0x2*0xd8b);}['isLinked'](_0x447232){const {extParallelShaderCompile:_0x535411}=_0x447232;return _0x535411?_0x447232['gl']['getProgram'+'Parameter'](this['glProgram'],_0x535411['COMPLETION'+'_STATUS_KH'+'R']):!(0xda4+-0xbf5*0x2+0xa46);}['_processEr'+'ror'](_0x2468c0,_0x163676){const _0x5e3f7b={};let _0x23734a='';if(_0x2468c0){const _0xb968e2=_0x2468c0['split']('\x0a');let _0x1661cf=-0x23f2+0xe65*0x2+0x1ca*0x4,_0x543998=_0xb968e2['length'];if(_0x163676&&_0x163676['startsWith']('ERROR:')){const _0x31b9c9=_0x163676['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x31b9c9&&(_0x5e3f7b['message']=_0x31b9c9[-0x2ef*-0xc+0xc1c+0x1*-0x2f4d],_0x5e3f7b['line']=parseInt(_0x31b9c9[-0x341*-0x9+0x48*-0x2b+0x35*-0x53],0x667+-0x230f+0x1*0x1cb2),_0x1661cf=Math['max'](0x1*-0x25bd+0x3*-0x76+-0x5*-0x7d3,_0x5e3f7b['line']-(-0x2*0x31b+-0x1e7c+0x24b8)),_0x543998=Math['min'](_0xb968e2['length'],_0x5e3f7b['line']+(0x456+0x66*-0x1+-0x3eb)));}for(let _0x769fa8=_0x1661cf;_0x769fa8<_0x543998;_0x769fa8++)_0x23734a+=_0x769fa8+(-0x1a57+-0x1f51+-0x1d*-0x1fd)+':\x09'+_0xb968e2[_0x769fa8]+'\x0a';_0x5e3f7b['source']=_0x2468c0;}return[_0x23734a,_0x5e3f7b];}}function Im(_0x12851e,_0x42e549){const _0x46f05a=_0x12851e['width'],_0x261c6a=_0x12851e['height'];if(_0x46f05a>_0x42e549||_0x261c6a>_0x42e549){const _0x10d041=_0x42e549/Math['max'](_0x46f05a,_0x261c6a),_0x2cd0dd=Math['floor'](_0x46f05a*_0x10d041),_0xff7915=Math['floor'](_0x261c6a*_0x10d041);b['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x42e549+('.\x20Resizing'+'\x20from\x20')+_0x46f05a+',\x20'+_0x261c6a+'\x20to\x20'+_0x2cd0dd+',\x20'+_0xff7915+'.');const _0x21b184=document['createElem'+'ent']('canvas');return _0x21b184['width']=_0x2cd0dd,_0x21b184['height']=_0xff7915,_0x21b184['getContext']('2d')['drawImage'](_0x12851e,0x21d*-0x1+-0x1743+0x1960,-0x1e1a+0x7ef+-0x5*-0x46f,_0x46f05a,_0x261c6a,0x17de+0x14e3+-0x2cc1,0x24bd+-0x225d+-0x260,_0x2cd0dd,_0xff7915),_0x21b184;}return _0x12851e;}class hb{constructor(_0x243ce3){c(this,'_glTexture',null),c(this,'_glTarget'),c(this,'_glFormat'),c(this,'_glInterna'+'lFormat'),c(this,'_glPixelTy'+'pe'),c(this,'_glCreated'),c(this,'dirtyParam'+'eterFlags',-0x17*-0xd9+-0x51d+-0xe62),this['texture']=_0x243ce3;}['destroy'](_0x27c19d){if(this['_glTexture']){for(let _0x3554eb=0xbf5*0x1+0x3*0x80d+-0x2*0x120e;_0x3554eb<_0x27c19d['textureUni'+'ts']['length'];_0x3554eb++){const _0x188efb=_0x27c19d['textureUni'+'ts'][_0x3554eb];for(let _0x1d6fb8=-0x136a+0x1b29+-0x7bf;_0x1d6fb8<_0x188efb['length'];_0x1d6fb8++)_0x188efb[_0x1d6fb8]===this['_glTexture']&&(_0x188efb[_0x1d6fb8]=null);}_0x27c19d['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x2bcaa7){this['dirtyParam'+'eterFlags']|=_0x2bcaa7;}['initialize'](_0x1eb1b1,_0x411f78){const _0x22d087=_0x1eb1b1['gl'];switch(this['_glTexture']=_0x22d087['createText'+'ure'](),this['_glTarget']=_0x411f78['_cubemap']?_0x22d087['TEXTURE_CU'+'BE_MAP']:_0x411f78['_volume']?_0x22d087['TEXTURE_3D']:_0x411f78['array']?_0x22d087['TEXTURE_2D'+'_ARRAY']:_0x22d087['TEXTURE_2D'],_0x411f78['_format']){case py:this['_glFormat']=_0x22d087['ALPHA'],this['_glInterna'+'lFormat']=_0x22d087['ALPHA'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case my:this['_glFormat']=_0x22d087['LUMINANCE'],this['_glInterna'+'lFormat']=_0x22d087['LUMINANCE'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case Vf:this['_glFormat']=_0x22d087['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x22d087['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x22d087['RED'],this['_glInterna'+'lFormat']=_0x22d087['R8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case op:this['_glFormat']=_0x22d087['RG'],this['_glInterna'+'lFormat']=_0x22d087['RG8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case vc:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x22d087['RGB'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT_5_6_5'];break;case Gf:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x22d087['RGBA'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case bc:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x22d087['RGBA'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case ur:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x22d087['RGB8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case Te:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x22d087['RGBA8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case xy:case wy:b['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case wc:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case Hf:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case Yo:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case Cc:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case Ko:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Zo:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case Mc:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case Pc:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case $f:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case qf:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case _y:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case gy:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case yy:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case Ty:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case Ay:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case Ey:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case xu:this['_glFormat']=_0x22d087['SRGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case Su:this['_glFormat']=_0x22d087['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case vu:this['_glFormat']=_0x22d087['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case bu:this['_glFormat']=_0x22d087['SRGB'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case wu:this['_glFormat']=_0x22d087['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Tu:this['_glFormat']=_0x22d087['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Au:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x1eb1b1['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case xa:this['_glFormat']=_0x22d087['RED'],this['_glInterna'+'lFormat']=_0x22d087['R16F'],this['_glPixelTy'+'pe']=_0x22d087['HALF_FLOAT'];break;case np:this['_glFormat']=_0x22d087['RG'],this['_glInterna'+'lFormat']=_0x22d087['RG16F'],this['_glPixelTy'+'pe']=_0x22d087['HALF_FLOAT'];break;case Tc:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x22d087['RGB16F'],this['_glPixelTy'+'pe']=_0x22d087['HALF_FLOAT'];break;case it:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x22d087['RGBA16F'],this['_glPixelTy'+'pe']=_0x22d087['HALF_FLOAT'];break;case Ac:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x22d087['RGB32F'],this['_glPixelTy'+'pe']=_0x22d087['FLOAT'];break;case et:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x22d087['RGBA32F'],this['_glPixelTy'+'pe']=_0x22d087['FLOAT'];break;case Oi:this['_glFormat']=_0x22d087['RED'],this['_glInterna'+'lFormat']=_0x22d087['R32F'],this['_glPixelTy'+'pe']=_0x22d087['FLOAT'];break;case Di:this['_glFormat']=_0x22d087['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x22d087['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x22d087['FLOAT'];break;case ca:this['_glFormat']=_0x22d087['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x22d087['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT'];break;case Ec:this['_glFormat']=_0x22d087['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x22d087['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_I'+'NT_24_8'];break;case ya:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x22d087['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case Wf:this['_glFormat']=_0x22d087['RGB'],this['_glInterna'+'lFormat']=_0x22d087['SRGB8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case cs:this['_glFormat']=_0x22d087['RGBA'],this['_glInterna'+'lFormat']=_0x22d087['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case Xf:this['_glFormat']=_0x22d087['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x22d087['R8I'],this['_glPixelTy'+'pe']=_0x22d087['BYTE'];break;case Sy:this['_glFormat']=_0x22d087['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x22d087['R8UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case jf:this['_glFormat']=_0x22d087['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x22d087['R16I'],this['_glPixelTy'+'pe']=_0x22d087['SHORT'];break;case Yf:this['_glFormat']=_0x22d087['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x22d087['R16UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT'];break;case Kf:this['_glFormat']=_0x22d087['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x22d087['R32I'],this['_glPixelTy'+'pe']=_0x22d087['INT'];break;case on:this['_glFormat']=_0x22d087['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x22d087['R32UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_I'+'NT'];break;case Zf:this['_glFormat']=_0x22d087['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x22d087['RG8I'],this['_glPixelTy'+'pe']=_0x22d087['BYTE'];break;case vy:this['_glFormat']=_0x22d087['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x22d087['RG8UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case Qf:this['_glFormat']=_0x22d087['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x22d087['RG16I'],this['_glPixelTy'+'pe']=_0x22d087['SHORT'];break;case Jf:this['_glFormat']=_0x22d087['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x22d087['RG16UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT'];break;case ep:this['_glFormat']=_0x22d087['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x22d087['RG32I'],this['_glPixelTy'+'pe']=_0x22d087['INT'];break;case tp:this['_glFormat']=_0x22d087['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x22d087['RG32UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_I'+'NT'];break;case sp:this['_glFormat']=_0x22d087['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x22d087['RGBA8I'],this['_glPixelTy'+'pe']=_0x22d087['BYTE'];break;case by:this['_glFormat']=_0x22d087['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x22d087['RGBA8UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_B'+'YTE'];break;case ip:this['_glFormat']=_0x22d087['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x22d087['RGBA16I'],this['_glPixelTy'+'pe']=_0x22d087['SHORT'];break;case Rc:this['_glFormat']=_0x22d087['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x22d087['RGBA16UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_S'+'HORT'];break;case rp:this['_glFormat']=_0x22d087['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x22d087['RGBA32I'],this['_glPixelTy'+'pe']=_0x22d087['INT'];break;case yt:this['_glFormat']=_0x22d087['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x22d087['RGBA32UI'],this['_glPixelTy'+'pe']=_0x22d087['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x2*-0x112d+-0x18e9+0x4b8*-0x2);}['upload'](_0x4c3de4,_0x1529e4){b['assert'](_0x1529e4['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x1529e4);const _0x5e0e58=_0x4c3de4['gl'];if(!_0x1529e4['_needsUplo'+'ad']&&(_0x1529e4['_needsMipm'+'apsUpload']&&_0x1529e4['_mipmapsUp'+'loaded']||!_0x1529e4['pot']))return;let _0x227a68=0x10e*-0xd+-0x2177*0x1+0x2f2d,_0x3e4771,_0x6bf94a;const _0x20df10=_0x1529e4['numLevels'];for(_0x1529e4['array']&&_0x5e0e58['texStorage'+'3D'](_0x5e0e58['TEXTURE_2D'+'_ARRAY'],_0x20df10,this['_glInterna'+'lFormat'],_0x1529e4['_width'],_0x1529e4['_height'],_0x1529e4['_arrayLeng'+'th']);_0x1529e4['_levels'][_0x227a68]||_0x227a68===-0x9c1*-0x1+0x1fcc+-0x298d;){if(!_0x1529e4['_needsUplo'+'ad']&&_0x227a68===-0xf4a*0x1+0x1df5*0x1+0x1*-0xeab){_0x227a68++;continue;}else{if(_0x227a68&&(!_0x1529e4['_needsMipm'+'apsUpload']||!_0x1529e4['_mipmaps']))break;}if(_0x3e4771=_0x1529e4['_levels'][_0x227a68],_0x6bf94a=(0xc*0x291+-0x1a28+-0x1*0x4a3)/Math['pow'](-0x18d+-0xf1d+0xc2*0x16,_0x227a68),_0x227a68===0x1*0x1f42+-0x1*-0x1a5d+-0x399e&&!_0x1529e4['_compresse'+'d']&&!_0x1529e4['_integerFo'+'rmat']&&_0x1529e4['_levels']['length']<_0x20df10&&(_0x5e0e58['generateMi'+'pmap'](this['_glTarget']),_0x1529e4['_mipmapsUp'+'loaded']=!(-0x1d5d*0x1+0x550+0x180d*0x1)),_0x1529e4['_cubemap']){let _0x54bd33;if(_0x4c3de4['_isBrowser'+'Interface'](_0x3e4771[0x111c+0x1116+-0x2232]))for(_0x54bd33=-0x2f+-0x45e+0x48d;_0x54bd33<-0x44d+-0x1d89+-0x10ee*-0x2;_0x54bd33++){if(!_0x1529e4['_levelsUpd'+'ated'][0x109+-0xe06+-0x19*-0x85][_0x54bd33])continue;let _0xdcab1d=_0x3e4771[_0x54bd33];_0x4c3de4['_isImageBr'+'owserInter'+'face'](_0xdcab1d)&&(_0xdcab1d['width']>_0x4c3de4['maxCubeMap'+'Size']||_0xdcab1d['height']>_0x4c3de4['maxCubeMap'+'Size'])&&(_0xdcab1d=Im(_0xdcab1d,_0x4c3de4['maxCubeMap'+'Size']),_0x227a68===-0x23b6*-0x1+-0x185e+-0xb58&&(_0x1529e4['_width']=_0xdcab1d['width'],_0x1529e4['_height']=_0xdcab1d['height'])),_0x4c3de4['setUnpackF'+'lipY'](!(-0x475*-0x1+0x1*0x6d5+-0x141*0x9)),_0x4c3de4['setUnpackP'+'remultiply'+'Alpha'](_0x1529e4['_premultip'+'lyAlpha']),this['_glCreated']?_0x5e0e58['texSubImag'+'e2D'](_0x5e0e58['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54bd33,_0x227a68,0x2218+0x15f5+-0x380d,0x1e77+0x1*0x7d3+-0x264a,this['_glFormat'],this['_glPixelTy'+'pe'],_0xdcab1d):_0x5e0e58['texImage2D'](_0x5e0e58['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54bd33,_0x227a68,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0xdcab1d);}else for(_0x6bf94a=(0x1a77+0x41*-0xf+-0x1*0x16a7)/Math['pow'](-0xad*0x27+0x8f5*-0x1+0x1*0x2352,_0x227a68),_0x54bd33=-0x1ac*0x11+-0x85f+0x24cb*0x1;_0x54bd33<-0x198e+0x2b*-0xad+0x36a3;_0x54bd33++){if(!_0x1529e4['_levelsUpd'+'ated'][-0x490+-0x1f*0x2f+0xa41][_0x54bd33])continue;const _0x218d0e=_0x3e4771[_0x54bd33];_0x1529e4['_compresse'+'d']?this['_glCreated']&&_0x218d0e?_0x5e0e58['compressed'+'TexSubImag'+'e2D'](_0x5e0e58['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54bd33,_0x227a68,-0x5*0x6bb+0x4d3+0x1cd4,0x708+-0x7e5+0xdd,Math['max'](_0x1529e4['_width']*_0x6bf94a,0x1cad*0x1+-0x3e*-0x49+0x172d*-0x2),Math['max'](_0x1529e4['_height']*_0x6bf94a,0x81*0x4b+-0x1*0x4f+0x1*-0x257b),this['_glInterna'+'lFormat'],_0x218d0e):_0x5e0e58['compressed'+'TexImage2D'](_0x5e0e58['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54bd33,_0x227a68,this['_glInterna'+'lFormat'],Math['max'](_0x1529e4['_width']*_0x6bf94a,-0xfe2+0x1b*-0xf1+0x294e),Math['max'](_0x1529e4['_height']*_0x6bf94a,0xe95+-0x1d79*-0x1+-0xeaf*0x3),-0x1*-0x229f+0x10d*-0x23+0x228,_0x218d0e):(_0x4c3de4['setUnpackF'+'lipY'](!(0x41b*-0x7+0xcef+-0xfcf*-0x1)),_0x4c3de4['setUnpackP'+'remultiply'+'Alpha'](_0x1529e4['_premultip'+'lyAlpha']),this['_glCreated']&&_0x218d0e?_0x5e0e58['texSubImag'+'e2D'](_0x5e0e58['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54bd33,_0x227a68,0x162*-0x5+0xc13+-0x1*0x529,0xd6*0x9+0x129+0x75*-0x13,Math['max'](_0x1529e4['_width']*_0x6bf94a,0x35*-0x51+0x23ae+0x6e*-0x2c),Math['max'](_0x1529e4['_height']*_0x6bf94a,-0x1*-0x1a99+-0x230b*0x1+-0x67*-0x15),this['_glFormat'],this['_glPixelTy'+'pe'],_0x218d0e):_0x5e0e58['texImage2D'](_0x5e0e58['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x54bd33,_0x227a68,this['_glInterna'+'lFormat'],Math['max'](_0x1529e4['_width']*_0x6bf94a,-0x1a60+-0xaeb*-0x2+0x48b),Math['max'](_0x1529e4['_height']*_0x6bf94a,-0x6f7*0x5+0x247*-0x2+0x2762),0x16cb+0xa34+-0x20ff,this['_glFormat'],this['_glPixelTy'+'pe'],_0x218d0e));}}else{if(_0x1529e4['_volume'])_0x1529e4['_compresse'+'d']?_0x5e0e58['compressed'+'TexImage3D'](_0x5e0e58['TEXTURE_3D'],_0x227a68,this['_glInterna'+'lFormat'],Math['max'](_0x1529e4['_width']*_0x6bf94a,0x1*0x12f4+0x2*-0xeec+0xae5*0x1),Math['max'](_0x1529e4['_height']*_0x6bf94a,-0x1344+0xb43+0x802),Math['max'](_0x1529e4['_depth']*_0x6bf94a,0x4*0x141+0x8ef*0x3+0x10*-0x1fd),-0x1580+-0x15c4+-0xe6c*-0x3,_0x3e4771):(_0x4c3de4['setUnpackF'+'lipY'](!(0x120c+-0x50*-0x1e+-0x1b6b)),_0x4c3de4['setUnpackP'+'remultiply'+'Alpha'](_0x1529e4['_premultip'+'lyAlpha']),_0x5e0e58['texImage3D'](_0x5e0e58['TEXTURE_3D'],_0x227a68,this['_glInterna'+'lFormat'],Math['max'](_0x1529e4['_width']*_0x6bf94a,-0x1199+-0x24b4+0x364e),Math['max'](_0x1529e4['_height']*_0x6bf94a,0x6*0x1ac+0xfef+0xcfb*-0x2),Math['max'](_0x1529e4['_depth']*_0x6bf94a,0xaba+-0x1*0x2183+0x16ca),-0x6*0x655+0x1c3a+0x9c4,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3e4771));else{if(_0x1529e4['array']&&typeof _0x3e4771=='object'){if(_0x1529e4['_arrayLeng'+'th']===_0x3e4771['length']){if(_0x1529e4['_compresse'+'d']){for(let _0x29573e=-0x347*-0x1+0x67a+-0xb*0xe3;_0x29573e<_0x1529e4['_arrayLeng'+'th'];_0x29573e++)_0x5e0e58['compressed'+'TexSubImag'+'e3D'](_0x5e0e58['TEXTURE_2D'+'_ARRAY'],_0x227a68,-0x21e6*0x1+0x1*-0x224d+0xd*0x53f,0x15d8+-0xa67+-0x65*0x1d,_0x29573e,Math['max'](Math['floor'](_0x1529e4['_width']*_0x6bf94a),-0x22b9+0x1*0xaad+-0x2f*-0x83),Math['max'](Math['floor'](_0x1529e4['_height']*_0x6bf94a),-0x1*-0x975+0xbf5*0x1+-0x1569),-0x7*0x587+-0x25e5+0x4c97,this['_glInterna'+'lFormat'],_0x3e4771[_0x29573e]);}else{for(let _0x641d9a=0x1051+0x247d+-0x34ce;_0x641d9a<_0x1529e4['_arrayLeng'+'th'];_0x641d9a++)_0x5e0e58['texSubImag'+'e3D'](_0x5e0e58['TEXTURE_2D'+'_ARRAY'],_0x227a68,0x8b7+0x1*-0x23d6+-0x1b1f*-0x1,0x5*0x77b+-0x1*0x1792+-0xdd5,_0x641d9a,Math['max'](Math['floor'](_0x1529e4['_width']*_0x6bf94a),-0x12cc+0x8*-0x1db+0x3*0xb37),Math['max'](Math['floor'](_0x1529e4['_height']*_0x6bf94a),-0x8*0x4d6+-0x1*-0x1b7e+-0x3d*-0x2f),-0xb2d+-0x24fe+0x302c,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3e4771[_0x641d9a]);}}}else{if(_0x4c3de4['_isBrowser'+'Interface'](_0x3e4771)){_0x4c3de4['_isImageBr'+'owserInter'+'face'](_0x3e4771)&&(_0x3e4771['width']>_0x4c3de4['maxTexture'+'Size']||_0x3e4771['height']>_0x4c3de4['maxTexture'+'Size'])&&(_0x3e4771=Im(_0x3e4771,_0x4c3de4['maxTexture'+'Size']),_0x227a68===-0x4d*0x61+0x1*0x1439+-0x1*-0x8f4&&(_0x1529e4['_width']=_0x3e4771['width'],_0x1529e4['_height']=_0x3e4771['height']));const _0x3a9782=_0x3e4771['width']||_0x3e4771['videoWidth'],_0x4ef6e9=_0x3e4771['height']||_0x3e4771['videoHeigh'+'t'];_0x4c3de4['setUnpackF'+'lipY'](_0x1529e4['_flipY']),_0x4c3de4['setUnpackP'+'remultiply'+'Alpha'](_0x1529e4['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1529e4['_width']===_0x3a9782&&_0x1529e4['_height']===_0x4ef6e9&&!_0x4c3de4['_isImageVi'+'deoInterfa'+'ce'](_0x3e4771)?_0x5e0e58['texSubImag'+'e2D'](_0x5e0e58['TEXTURE_2D'],_0x227a68,0x1*0x125a+0x1efc+-0x3156,-0x2*0x116a+-0x115d+0x3431,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3e4771):(_0x5e0e58['texImage2D'](_0x5e0e58['TEXTURE_2D'],_0x227a68,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x3e4771),_0x227a68===-0x76b+-0x16e1*-0x1+-0x1*0xf76&&(_0x1529e4['_width']=_0x3a9782,_0x1529e4['_height']=_0x4ef6e9));}else _0x6bf94a=(-0xc77+0x112a+0x1*-0x4b2)/Math['pow'](-0x35b*0xb+-0x23da+0x48c5*0x1,_0x227a68),_0x1529e4['_compresse'+'d']?this['_glCreated']&&_0x3e4771?_0x5e0e58['compressed'+'TexSubImag'+'e2D'](_0x5e0e58['TEXTURE_2D'],_0x227a68,0x1*-0x17f6+-0x2*0xbb6+0x2f62,-0x1*0x2425+-0x3*-0xc15+-0x2*0xd,Math['max'](Math['floor'](_0x1529e4['_width']*_0x6bf94a),0x2025*0x1+0x257*-0xa+0x8be*-0x1),Math['max'](Math['floor'](_0x1529e4['_height']*_0x6bf94a),0x245*0x1+-0x13d*0x11+0x7*0x2af),this['_glInterna'+'lFormat'],_0x3e4771):_0x5e0e58['compressed'+'TexImage2D'](_0x5e0e58['TEXTURE_2D'],_0x227a68,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x1529e4['_width']*_0x6bf94a),0x83*0x3b+-0x16ea*0x1+0x746*-0x1),Math['max'](Math['floor'](_0x1529e4['_height']*_0x6bf94a),-0x1*0x167+-0xd42*-0x1+0x2*-0x5ed),-0xb79+0x1ca2+-0x1129,_0x3e4771):(_0x4c3de4['setUnpackF'+'lipY'](!(-0xefa+-0x109a+0xf*0x21b)),_0x4c3de4['setUnpackP'+'remultiply'+'Alpha'](_0x1529e4['_premultip'+'lyAlpha']),this['_glCreated']&&_0x3e4771?_0x5e0e58['texSubImag'+'e2D'](_0x5e0e58['TEXTURE_2D'],_0x227a68,-0x2*-0x182+-0x3e0*0x1+0xdc,0x1cd+0xe09+0x7eb*-0x2,Math['max'](_0x1529e4['_width']*_0x6bf94a,-0x15b5+-0x10*0x241+0x39c6),Math['max'](_0x1529e4['_height']*_0x6bf94a,-0xd91+0xc0f+-0x3*-0x81),this['_glFormat'],this['_glPixelTy'+'pe'],_0x3e4771):_0x5e0e58['texImage2D'](_0x5e0e58['TEXTURE_2D'],_0x227a68,this['_glInterna'+'lFormat'],Math['max'](_0x1529e4['_width']*_0x6bf94a,0x1a07+0x1*0x7f6+-0x21fc),Math['max'](_0x1529e4['_height']*_0x6bf94a,0x122e+-0x473*-0x1+-0x16a0),-0x2485+-0x3f1*-0x1+0x684*0x5,this['_glFormat'],this['_glPixelTy'+'pe'],_0x3e4771));_0x227a68===0x9eb*-0x3+0x2370+-0x5af?_0x1529e4['_mipmapsUp'+'loaded']=!(0xa50+-0xc37*0x1+0x1e8):_0x1529e4['_mipmapsUp'+'loaded']=!(0x59*-0x53+-0xf1b+0x11*0x296);}}}_0x227a68++;}if(_0x1529e4['_needsUplo'+'ad']){if(_0x1529e4['_cubemap']){for(let _0x47cd20=0x110a+-0x3*0x193+0x41b*-0x3;_0x47cd20<-0x18c7+0x1042*0x2+-0x1*0x7b7;_0x47cd20++)_0x1529e4['_levelsUpd'+'ated'][0x99+0xda2+-0xe3b][_0x47cd20]=!(-0x27a+0x7*0x49d+-0x13e*0x18);}else _0x1529e4['_levelsUpd'+'ated'][-0x1*0xca6+0x1*0x24e5+-0x183f]=!(0x5fb*0x1+-0x2504+-0x2*-0xf85);}!_0x1529e4['_compresse'+'d']&&!_0x1529e4['_integerFo'+'rmat']&&_0x1529e4['_mipmaps']&&_0x1529e4['_needsMipm'+'apsUpload']&&_0x1529e4['_levels']['length']===0x33f+-0xb*0x1b1+-0x45*-0x39&&(_0x5e0e58['generateMi'+'pmap'](this['_glTarget']),_0x1529e4['_mipmapsUp'+'loaded']=!(-0x89*0x31+0xfd4*-0x2+0x39e1)),_0x1529e4['_gpuSize']&&_0x1529e4['adjustVram'+'SizeTracki'+'ng'](_0x4c3de4['_vram'],-_0x1529e4['_gpuSize']),_0x1529e4['_gpuSize']=_0x1529e4['gpuSize'],_0x1529e4['adjustVram'+'SizeTracki'+'ng'](_0x4c3de4['_vram'],_0x1529e4['_gpuSize']),this['_glCreated']=!(0x37e*-0x2+-0x200b+0x2707);}['read'](_0x3269ef,_0x1d1021,_0x1886b7,_0x1e67b3,_0x2c6a80){const _0x41f63d=this['texture'];return _0x41f63d['device']['readTextur'+'eAsync'](_0x41f63d,_0x3269ef,_0x1d1021,_0x1886b7,_0x1e67b3,_0x2c6a80);}}class cb{constructor(_0x585bd4,_0x4ce5b5){c(this,'msaaFB'),c(this,'resolveFB'),(this['msaaFB']=_0x585bd4,this['resolveFB']=_0x4ce5b5);}['destroy'](_0x152b14){this['msaaFB']&&(_0x152b14['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x152b14['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class db{constructor(){c(this,'_glFrameBu'+'ffer',null),c(this,'_glDepthBu'+'ffer',null),c(this,'_glResolve'+'FrameBuffe'+'r',null),c(this,'colorMrtFr'+'amebuffers',null),c(this,'_glMsaaCol'+'orBuffers',[]),c(this,'_glMsaaDep'+'thBuffer',null),c(this,'msaaDepthB'+'ufferKey'),c(this,'suppliedCo'+'lorFramebu'+'ffer'),c(this,'_isInitial'+'ized',!(-0x1d1d+0x11f2*0x2+-0x6c6));}['destroy'](_0x1c7d96){var _0x16ec02;const _0x319ee9=_0x1c7d96['gl'];this['_isInitial'+'ized']=!(0x260d+-0x1f99*-0x1+-0x45a5),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x319ee9['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x319ee9['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x319ee9['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x38e212=>{_0x319ee9['deleteRend'+'erbuffer'](_0x38e212);}),this['_glMsaaCol'+'orBuffers']['length']=0x12b*0x13+0x187d+0x32*-0xef,(_0x16ec02=this['colorMrtFr'+'amebuffers'])==null||_0x16ec02['forEach'](_0x76c06b=>{_0x76c06b['destroy'](_0x319ee9);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&dd(_0x1c7d96)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0x21d2+0x157*0x1a+0x895*-0x8);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x4aad8a,_0x58190b){var _0x54d94d,_0x1ddf2e;const _0x46a2d4=_0x4aad8a['gl'];b['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0x18*0x17f+-0x3*-0x2bb+-0x9f*0x47);const _0xb04518=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x2*-0xc7+0xa74+-0x1*0xc02))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{b['call'](()=>{(_0x58190b['width']<=-0xb*-0x27b+0x3*0x3f5+-0x2728||_0x58190b['height']<=-0x247c+0x24*-0x49+0x2ec0)&&b['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x58190b['width']+'\x20x\x20'+_0x58190b['height'],_0x58190b);}),this['_glFrameBu'+'ffer']=_0x46a2d4['createFram'+'ebuffer'](),_0x4aad8a['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x77173b=((_0x54d94d=_0x58190b['_colorBuff'+'ers'])==null?void(-0x102e*-0x1+0xc23+-0x1c51):_0x54d94d['length'])??-0xf9e+-0x574+0x1512,_0x21497f=_0x46a2d4['COLOR_ATTA'+'CHMENT0'];for(let _0x117753=-0x13f9+-0x15e9+-0x6*-0x6fb;_0x117753<_0x77173b;++_0x117753){const _0x763d48=_0x58190b['getColorBu'+'ffer'](_0x117753);_0x763d48&&(_0x763d48['impl']['_glTexture']||(_0x763d48['_width']=Math['min'](_0x763d48['width'],_0x4aad8a['maxRenderB'+'ufferSize']),_0x763d48['_height']=Math['min'](_0x763d48['height'],_0x4aad8a['maxRenderB'+'ufferSize']),_0x4aad8a['setTexture'](_0x763d48,-0x1ae8+-0x19f4+0x34dc)),_0x46a2d4['framebuffe'+'rTexture2D'](_0x46a2d4['FRAMEBUFFE'+'R'],_0x21497f+_0x117753,_0x763d48['_cubemap']?_0x46a2d4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x58190b['_face']:_0x46a2d4['TEXTURE_2D'],_0x763d48['impl']['_glTexture'],_0x58190b['mipLevel']),_0xb04518['push'](_0x21497f+_0x117753));}_0x46a2d4['drawBuffer'+'s'](_0xb04518);const _0x2293b5=_0x58190b['_depthBuff'+'er'];if(_0x2293b5||_0x58190b['_depth']){const _0x4e0a99=_0x58190b['_stencil']?_0x46a2d4['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x46a2d4['DEPTH_ATTA'+'CHMENT'];if(_0x2293b5)_0x2293b5['impl']['_glTexture']||(_0x2293b5['_width']=Math['min'](_0x2293b5['width'],_0x4aad8a['maxRenderB'+'ufferSize']),_0x2293b5['_height']=Math['min'](_0x2293b5['height'],_0x4aad8a['maxRenderB'+'ufferSize']),_0x4aad8a['setTexture'](_0x2293b5,-0xd06+-0x153d+0x2243)),_0x46a2d4['framebuffe'+'rTexture2D'](_0x46a2d4['FRAMEBUFFE'+'R'],_0x4e0a99,_0x2293b5['_cubemap']?_0x46a2d4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x58190b['_face']:_0x46a2d4['TEXTURE_2D'],_0x58190b['_depthBuff'+'er']['impl']['_glTexture'],_0x58190b['mipLevel']);else{if(!(_0x58190b['_samples']>0x3b+-0x2*-0x1361+-0x26fc)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x46a2d4['createRend'+'erbuffer']());const _0x539230=_0x58190b['_stencil']?_0x46a2d4['DEPTH24_ST'+'ENCIL8']:_0x46a2d4['DEPTH_COMP'+'ONENT32F'];_0x46a2d4['bindRender'+'buffer'](_0x46a2d4['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x46a2d4['renderbuff'+'erStorage'](_0x46a2d4['RENDERBUFF'+'ER'],_0x539230,_0x58190b['width'],_0x58190b['height']),_0x46a2d4['framebuffe'+'rRenderbuf'+'fer'](_0x46a2d4['FRAMEBUFFE'+'R'],_0x4e0a99,_0x46a2d4['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x46a2d4['bindRender'+'buffer'](_0x46a2d4['RENDERBUFF'+'ER'],null);}}}b['call'](()=>this['_checkFbo'](_0x4aad8a,_0x58190b));}if(_0x58190b['_samples']>0x4b1*0x5+0x2204+0x18*-0x265){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x46a2d4['createFram'+'ebuffer'](),_0x4aad8a['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x5522af=((_0x1ddf2e=_0x58190b['_colorBuff'+'ers'])==null?void(-0x849+0x1217+-0x4e7*0x2):_0x1ddf2e['length'])??0x1536+-0x122d+-0x309;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1*-0x239b+-0xd1e+-0x167d)){const _0x2153f5=_0x46a2d4['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x2153f5);const _0x51f23b=_0x4aad8a['backBuffer'+'Format']===Te?_0x46a2d4['RGBA8']:_0x46a2d4['RGB8'];_0x46a2d4['bindRender'+'buffer'](_0x46a2d4['RENDERBUFF'+'ER'],_0x2153f5),_0x46a2d4['renderbuff'+'erStorageM'+'ultisample'](_0x46a2d4['RENDERBUFF'+'ER'],_0x58190b['_samples'],_0x51f23b,_0x58190b['width'],_0x58190b['height']),_0x46a2d4['framebuffe'+'rRenderbuf'+'fer'](_0x46a2d4['FRAMEBUFFE'+'R'],_0x46a2d4['COLOR_ATTA'+'CHMENT0'],_0x46a2d4['RENDERBUFF'+'ER'],_0x2153f5);}else for(let _0x4a086a=-0x3b7+0x513+-0x15c;_0x4a086a<_0x5522af;++_0x4a086a){const _0x162c5c=_0x58190b['getColorBu'+'ffer'](_0x4a086a);if(_0x162c5c){const _0x14d457=_0x46a2d4['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x14d457),_0x46a2d4['bindRender'+'buffer'](_0x46a2d4['RENDERBUFF'+'ER'],_0x14d457),_0x46a2d4['renderbuff'+'erStorageM'+'ultisample'](_0x46a2d4['RENDERBUFF'+'ER'],_0x58190b['_samples'],_0x162c5c['impl']['_glInterna'+'lFormat'],_0x58190b['width'],_0x58190b['height']),_0x46a2d4['framebuffe'+'rRenderbuf'+'fer'](_0x46a2d4['FRAMEBUFFE'+'R'],_0x46a2d4['COLOR_ATTA'+'CHMENT0']+_0x4a086a,_0x46a2d4['RENDERBUFF'+'ER'],_0x14d457);}}if(_0x58190b['_depth']){b['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x26e6ed=_0x58190b['_stencil']?_0x46a2d4['DEPTH24_ST'+'ENCIL8']:_0x46a2d4['DEPTH_COMP'+'ONENT32F'],_0x467706=_0x58190b['_stencil']?_0x46a2d4['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x46a2d4['DEPTH_ATTA'+'CHMENT'];let _0x88231d;const _0x359f7e=_0x58190b['_depthBuff'+'er'];_0x359f7e&&(_0x88231d=_0x359f7e['id']+':'+_0x58190b['width']+':'+_0x58190b['height']+':'+_0x58190b['_samples']+':'+_0x26e6ed+':'+_0x467706,this['_glMsaaDep'+'thBuffer']=dd(_0x4aad8a)['get'](_0x88231d)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x46a2d4['createRend'+'erbuffer'](),_0x46a2d4['bindRender'+'buffer'](_0x46a2d4['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x46a2d4['renderbuff'+'erStorageM'+'ultisample'](_0x46a2d4['RENDERBUFF'+'ER'],_0x58190b['_samples'],_0x26e6ed,_0x58190b['width'],_0x58190b['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x46a2d4['deleteRend'+'erbuffer'](this);},_0x359f7e&&dd(_0x4aad8a)['set'](_0x88231d,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x88231d,_0x46a2d4['framebuffe'+'rRenderbuf'+'fer'](_0x46a2d4['FRAMEBUFFE'+'R'],_0x467706,_0x46a2d4['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}b['call'](()=>this['_checkFbo'](_0x4aad8a,_0x58190b,'MSAA')),_0x5522af>-0x1*0x2548+-0x12aa+-0x1*-0x37f3&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x4aad8a,_0x58190b,_0x5522af),_0x4aad8a['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x46a2d4['drawBuffer'+'s'](_0xb04518));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x3e19e2,_0x5ae7ac,_0x3639c8){const _0x322b84=_0x3e19e2['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x2a4fcb=-0x29*0xe9+-0x11a7+-0x1b7c*-0x2;_0x2a4fcb<_0x3639c8;++_0x2a4fcb){const _0x2973ab=_0x5ae7ac['getColorBu'+'ffer'](_0x2a4fcb),_0x41bcaf=_0x322b84['createFram'+'ebuffer']();_0x3e19e2['setFramebu'+'ffer'](_0x41bcaf);const _0x3cf17c=this['_glMsaaCol'+'orBuffers'][_0x2a4fcb];_0x322b84['bindRender'+'buffer'](_0x322b84['RENDERBUFF'+'ER'],_0x3cf17c),_0x322b84['renderbuff'+'erStorageM'+'ultisample'](_0x322b84['RENDERBUFF'+'ER'],_0x5ae7ac['_samples'],_0x2973ab['impl']['_glInterna'+'lFormat'],_0x5ae7ac['width'],_0x5ae7ac['height']),_0x322b84['framebuffe'+'rRenderbuf'+'fer'](_0x322b84['FRAMEBUFFE'+'R'],_0x322b84['COLOR_ATTA'+'CHMENT0'],_0x322b84['RENDERBUFF'+'ER'],_0x3cf17c),_0x322b84['drawBuffer'+'s']([_0x322b84['COLOR_ATTA'+'CHMENT0']]),b['call'](()=>this['_checkFbo'](_0x3e19e2,_0x5ae7ac,'MSAA-MRT-s'+'rc'+_0x2a4fcb));const _0x4cf015=_0x322b84['createFram'+'ebuffer']();_0x3e19e2['setFramebu'+'ffer'](_0x4cf015),_0x322b84['framebuffe'+'rTexture2D'](_0x322b84['FRAMEBUFFE'+'R'],_0x322b84['COLOR_ATTA'+'CHMENT0'],_0x2973ab['_cubemap']?_0x322b84['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x5ae7ac['_face']:_0x322b84['TEXTURE_2D'],_0x2973ab['impl']['_glTexture'],0xbca+-0xbd5+0x1*0xb),this['colorMrtFr'+'amebuffers'][_0x2a4fcb]=new cb(_0x41bcaf,_0x4cf015),b['call'](()=>this['_checkFbo'](_0x3e19e2,_0x5ae7ac,'MSAA-MRT-d'+'st'+_0x2a4fcb));}}['_checkFbo'](_0x58b1b4,_0x46b54e,_0xe80bdb=''){const _0x327b46=_0x58b1b4['gl'],_0x50d702=_0x327b46['checkFrame'+'bufferStat'+'us'](_0x327b46['FRAMEBUFFE'+'R']);let _0x5cce94;switch(_0x50d702){case _0x327b46['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x5cce94='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x327b46['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x5cce94='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x327b46['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x5cce94='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x327b46['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x5cce94='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}b['assert'](!_0x5cce94,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x5cce94+(',\x20render\x20t'+'arget:\x20')+_0x46b54e['name']+'\x20'+_0xe80bdb,_0x46b54e);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0xb*0x1b7+0x307*0xb+-0x4be*0xb,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(0x128c+0x7f*-0xd+-0xc19),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0x337*-0x7+0x4b8+0x11c9),this['_isInitial'+'ized']=!(0x1afa+-0x1d19+0x220);}['internalRe'+'solve'](_0x1fc69a,_0x1138d1,_0x2730e8,_0x5776b8,_0x14fb5f){b['assert'](_0x1138d1!==_0x2730e8,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x1fc69a['setScissor'](-0x1447+-0x6c3*0x3+0xb*0x3b0,-0x1*0x1b55+0x1e67+-0x312*0x1,_0x5776b8['width'],_0x5776b8['height']);const _0x5e1890=_0x1fc69a['gl'];_0x5e1890['bindFrameb'+'uffer'](_0x5e1890['READ_FRAME'+'BUFFER'],_0x1138d1),_0x5e1890['bindFrameb'+'uffer'](_0x5e1890['DRAW_FRAME'+'BUFFER'],_0x2730e8),_0x5e1890['blitFrameb'+'uffer'](0x1*0xaf9+-0x1abe+0xfc5,0x153*0x1+0x3e*-0xd+0x1d3*0x1,_0x5776b8['width'],_0x5776b8['height'],0x25c4*0x1+0x1b28+0x103b*-0x4,0x691*-0x4+-0x21b0+-0x6*-0x9fe,_0x5776b8['width'],_0x5776b8['height'],_0x14fb5f,_0x5e1890['NEAREST']);}['resolve'](_0x3e62c2,_0x1c36ca,_0x20d908,_0x22ddc9){const _0xa9c446=_0x3e62c2['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x20d908)for(let _0x253c37=-0x15c7+0xb85+0xa42;_0x253c37<this['colorMrtFr'+'amebuffers']['length'];_0x253c37++){const _0x1af12e=this['colorMrtFr'+'amebuffers'][_0x253c37];G['pushGpuMar'+'ker'](_0x3e62c2,'RESOLVE-MR'+'T'+_0x253c37),this['internalRe'+'solve'](_0x3e62c2,_0x1af12e['msaaFB'],_0x1af12e['resolveFB'],_0x1c36ca,_0xa9c446['COLOR_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x3e62c2);}_0x22ddc9&&(G['pushGpuMar'+'ker'](_0x3e62c2,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x3e62c2,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1c36ca,_0xa9c446['DEPTH_BUFF'+'ER_BIT']),G['popGpuMark'+'er'](_0x3e62c2));}else G['pushGpuMar'+'ker'](_0x3e62c2,'RESOLVE'),this['internalRe'+'solve'](_0x3e62c2,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1c36ca,(_0x20d908?_0xa9c446['COLOR_BUFF'+'ER_BIT']:0x807+-0x16*0xdd+0xaf7)|(_0x22ddc9?_0xa9c446['DEPTH_BUFF'+'ER_BIT']:0x2298+-0x1107+-0x5db*0x3)),G['popGpuMark'+'er'](_0x3e62c2);_0xa9c446['bindFrameb'+'uffer'](_0xa9c446['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class ub{constructor(){c(this,'renderVers'+'ion'),c(this,'queries',[]);}['destroy'](_0x5b8fc4){this['queries']['forEach'](_0x207f06=>_0x5b8fc4['deleteQuer'+'y'](_0x207f06)),this['queries']=null;}}class fb extends tb{constructor(_0x4f4d34){super(),c(this,'device'),c(this,'freeQuerie'+'s',[]),c(this,'frameQueri'+'es',[]),c(this,'previousFr'+'ameQueries',[]),c(this,'timings',[]),(this['device']=_0x4f4d34,this['ext']=_0x4f4d34['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x13e0e5=>this['device']['gl']['deleteQuer'+'y'](_0x13e0e5)),this['frameQueri'+'es']['forEach'](_0x3a575e=>this['device']['gl']['deleteQuer'+'y'](_0x3a575e)),this['previousFr'+'ameQueries']['forEach'](_0x10611e=>_0x10611e['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x2d7b22){if(this['ext']){const _0x1a680d=this['getSlot'](_0x2d7b22),_0x52745b=this['getQuery']();return this['frameQueri'+'es'][_0x1a680d]=_0x52745b,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x52745b),_0x1a680d;}}['end'](_0x55fe6f){_0x55fe6f!==void(0x24c9+0x1d97+-0x4260)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x25a24f=this['ext'],_0x24c045=this['device']['gl'],_0x53410b=this['device']['renderVers'+'ion'],_0x366d76=this['frameQueri'+'es'];if(_0x366d76['length']>-0xce4+0x1e0c*0x1+-0x1128){this['frameQueri'+'es']=[];const _0x5f45ae=new ub();_0x5f45ae['queries']=_0x366d76,_0x5f45ae['renderVers'+'ion']=_0x53410b,this['previousFr'+'ameQueries']['push'](_0x5f45ae);}if(this['previousFr'+'ameQueries']['length']>0xc57*-0x3+0x224*0x3+0x175*0x15){const _0x47364b=this['previousFr'+'ameQueries'][0x1*0x1c3+0x1df1+0xfda*-0x2],_0x39fddf=_0x47364b['queries'],_0x2fcdea=_0x39fddf[_0x39fddf['length']-(-0x125d+0x246c+0x2*-0x907)],_0x40e1db=_0x24c045['getQueryPa'+'rameter'](_0x2fcdea,_0x24c045['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x224969=_0x24c045['getParamet'+'er'](_0x25a24f['GPU_DISJOI'+'NT_EXT']);if(_0x40e1db&&!_0x224969){this['previousFr'+'ameQueries']['shift']();const _0x314dfb=this['timings'];_0x314dfb['length']=0x5ba*-0x5+-0x15dd+-0x3*-0x10d5;for(let _0x262c74=-0x1*0x92f+-0x1b5*-0xc+0xb4d*-0x1;_0x262c74<_0x39fddf['length'];_0x262c74++){const _0x2c295f=_0x39fddf[_0x262c74],_0x554646=_0x24c045['getQueryPa'+'rameter'](_0x2c295f,_0x24c045['QUERY_RESU'+'LT']);_0x314dfb[_0x262c74]=_0x554646*(0x18bd+-0xcdb+-0xbe2*0x1+0.000001),this['freeQuerie'+'s']['push'](_0x2c295f);}this['report'](_0x47364b['renderVers'+'ion'],_0x314dfb);}_0x224969&&(this['previousFr'+'ameQueries']['forEach'](_0xf4f102=>{this['report'](_0xf4f102['renderVers'+'ion'],null),_0xf4f102['destroy'](_0x24c045);}),this['previousFr'+'ameQueries']['length']=0x1*0xed2+0x66d+-0x153f);}super['request'](_0x53410b);}}}const En=[];class pb extends zh{constructor(_0x56cb77,_0x555f0f={}){super(_0x56cb77,_0x555f0f),c(this,'gl'),c(this,'_defaultFr'+'amebuffer',null),c(this,'_defaultFr'+'amebufferC'+'hanged',!(0x1ba4+-0x4c5*0x1+-0x16de)),(_0x555f0f=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x2*-0x1219+0x1f7+-0x2628),this['_contextLo'+'stHandler']=_0x1b376a=>{_0x1b376a['preventDef'+'ault'](),this['loseContex'+'t'](),b['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{b['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x141fda=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x141fda&&_0x141fda['includes']('AppleWebKi'+'t')&&(_0x141fda['includes']('15.4')||_0x141fda['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x555f0f['antialias']=!(-0xb*0x2f+0x2237+-0x2031),b['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),be['browserNam'+'e']==='firefox'){const _0x5d9155=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x2490dc=_0x5d9155?_0x5d9155[0xd6*-0x22+-0x179a+0x3407]:null;if(_0x2490dc){const _0x467942=parseFloat(_0x2490dc);(be['name']==='windows'&&(_0x467942>=-0x292+0x8b1+-0x5a7||_0x467942===0x49*-0x3+0x1e0b+-0x1cbd)||be['name']==='android'&&_0x467942>=0x7e*-0x16+0x2702+-0x1baa)&&(_0x555f0f['antialias']=!(0x1cf1+0x58f+-0x227f),b['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+be['name']+('\x20platform\x20'+'version\x20')+_0x2490dc));}}this['backBuffer'+'Antialias']=_0x555f0f['antialias']??!(0x2166+0x6c*0x16+-0x2aad),_0x555f0f['antialias']=!(0x35*0x7e+0x6de*0x1+-0xf1*0x23);const _0x34a229=_0x555f0f['gl']??_0x56cb77['getContext']('webgl2',_0x555f0f);if(!_0x34a229)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x34a229,this['isWebGL2']=!(0xa79*0x2+0x1*-0x439+-0x10b9),this['_deviceTyp'+'e']=mv,this['updateBack'+'bufferForm'+'at'](null);const _0x4c78d2=be['browserNam'+'e']==='chrome',_0x6e137c=be['browserNam'+'e']==='safari',_0x3c70cc=be['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0x495+0x1b*0xb7+0x17e1*-0x1);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x6e137c,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x3c70cc&&_0x4c78d2&&!_0x555f0f['alpha'],_0x56cb77['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x692+-0xa3*-0x1f+0x2*-0x695)),_0x56cb77['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1827*0x1+-0x40d*-0x2+0x100e)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x6e137c&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x34a229['SAMPLER_2D'],_0x34a229['SAMPLER_CU'+'BE'],_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x34a229['INT_SAMPLE'+'R_2D'],_0x34a229['SAMPLER_2D'+'_SHADOW'],_0x34a229['SAMPLER_CU'+'BE_SHADOW'],_0x34a229['SAMPLER_3D'],_0x34a229['INT_SAMPLE'+'R_3D'],_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x34a229['SAMPLER_2D'+'_ARRAY'],_0x34a229['INT_SAMPLE'+'R_2D_ARRAY'],_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x34a229['REPEAT'],_0x34a229['CLAMP_TO_E'+'DGE'],_0x34a229['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x34a229['FUNC_ADD'],_0x34a229['FUNC_SUBTR'+'ACT'],_0x34a229['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x34a229['MIN'],_0x34a229['MAX']],this['glBlendFun'+'ctionColor']=[_0x34a229['ZERO'],_0x34a229['ONE'],_0x34a229['SRC_COLOR'],_0x34a229['ONE_MINUS_'+'SRC_COLOR'],_0x34a229['DST_COLOR'],_0x34a229['ONE_MINUS_'+'DST_COLOR'],_0x34a229['SRC_ALPHA'],_0x34a229['SRC_ALPHA_'+'SATURATE'],_0x34a229['ONE_MINUS_'+'SRC_ALPHA'],_0x34a229['DST_ALPHA'],_0x34a229['ONE_MINUS_'+'DST_ALPHA'],_0x34a229['CONSTANT_C'+'OLOR'],_0x34a229['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x34a229['ZERO'],_0x34a229['ONE'],_0x34a229['SRC_COLOR'],_0x34a229['ONE_MINUS_'+'SRC_COLOR'],_0x34a229['DST_COLOR'],_0x34a229['ONE_MINUS_'+'DST_COLOR'],_0x34a229['SRC_ALPHA'],_0x34a229['SRC_ALPHA_'+'SATURATE'],_0x34a229['ONE_MINUS_'+'SRC_ALPHA'],_0x34a229['DST_ALPHA'],_0x34a229['ONE_MINUS_'+'DST_ALPHA'],_0x34a229['CONSTANT_A'+'LPHA'],_0x34a229['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x34a229['NEVER'],_0x34a229['LESS'],_0x34a229['EQUAL'],_0x34a229['LEQUAL'],_0x34a229['GREATER'],_0x34a229['NOTEQUAL'],_0x34a229['GEQUAL'],_0x34a229['ALWAYS']],this['glStencilO'+'p']=[_0x34a229['KEEP'],_0x34a229['ZERO'],_0x34a229['REPLACE'],_0x34a229['INCR'],_0x34a229['INCR_WRAP'],_0x34a229['DECR'],_0x34a229['DECR_WRAP'],_0x34a229['INVERT']],this['glClearFla'+'g']=[-0x51a+-0x1c8f+0x21a9,_0x34a229['COLOR_BUFF'+'ER_BIT'],_0x34a229['DEPTH_BUFF'+'ER_BIT'],_0x34a229['COLOR_BUFF'+'ER_BIT']|_0x34a229['DEPTH_BUFF'+'ER_BIT'],_0x34a229['STENCIL_BU'+'FFER_BIT'],_0x34a229['STENCIL_BU'+'FFER_BIT']|_0x34a229['COLOR_BUFF'+'ER_BIT'],_0x34a229['STENCIL_BU'+'FFER_BIT']|_0x34a229['DEPTH_BUFF'+'ER_BIT'],_0x34a229['STENCIL_BU'+'FFER_BIT']|_0x34a229['COLOR_BUFF'+'ER_BIT']|_0x34a229['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x16d8*0x1+-0x5*0x227+-0xc15,_0x34a229['BACK'],_0x34a229['FRONT'],_0x34a229['FRONT_AND_'+'BACK']],this['glFilter']=[_0x34a229['NEAREST'],_0x34a229['LINEAR'],_0x34a229['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x34a229['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x34a229['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x34a229['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x34a229['POINTS'],_0x34a229['LINES'],_0x34a229['LINE_LOOP'],_0x34a229['LINE_STRIP'],_0x34a229['TRIANGLES'],_0x34a229['TRIANGLE_S'+'TRIP'],_0x34a229['TRIANGLE_F'+'AN']],this['glType']=[_0x34a229['BYTE'],_0x34a229['UNSIGNED_B'+'YTE'],_0x34a229['SHORT'],_0x34a229['UNSIGNED_S'+'HORT'],_0x34a229['INT'],_0x34a229['UNSIGNED_I'+'NT'],_0x34a229['FLOAT'],_0x34a229['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x34a229['BOOL']]=ua,this['pcUniformT'+'ype'][_0x34a229['INT']]=hn,this['pcUniformT'+'ype'][_0x34a229['FLOAT']]=Ks,this['pcUniformT'+'ype'][_0x34a229['FLOAT_VEC2']]=hr,this['pcUniformT'+'ype'][_0x34a229['FLOAT_VEC3']]=Qt,this['pcUniformT'+'ype'][_0x34a229['FLOAT_VEC4']]=ba,this['pcUniformT'+'ype'][_0x34a229['INT_VEC2']]=Qr,this['pcUniformT'+'ype'][_0x34a229['INT_VEC3']]=Jr,this['pcUniformT'+'ype'][_0x34a229['INT_VEC4']]=en,this['pcUniformT'+'ype'][_0x34a229['BOOL_VEC2']]=Bo,this['pcUniformT'+'ype'][_0x34a229['BOOL_VEC3']]=No,this['pcUniformT'+'ype'][_0x34a229['BOOL_VEC4']]=zo,this['pcUniformT'+'ype'][_0x34a229['FLOAT_MAT2']]=kh,this['pcUniformT'+'ype'][_0x34a229['FLOAT_MAT3']]=Uo,this['pcUniformT'+'ype'][_0x34a229['FLOAT_MAT4']]=wa,this['pcUniformT'+'ype'][_0x34a229['SAMPLER_2D']]=JS,this['pcUniformT'+'ype'][_0x34a229['SAMPLER_CU'+'BE']]=ev,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT']]=Ta,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_VEC2']]=Aa,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_VEC3']]=Ea,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_VEC4']]=Ca,this['pcUniformT'+'ype'][_0x34a229['SAMPLER_2D'+'_SHADOW']]=tv,this['pcUniformT'+'ype'][_0x34a229['SAMPLER_CU'+'BE_SHADOW']]=sv,this['pcUniformT'+'ype'][_0x34a229['SAMPLER_2D'+'_ARRAY']]=rv,this['pcUniformT'+'ype'][_0x34a229['SAMPLER_3D']]=iv,this['pcUniformT'+'ype'][_0x34a229['INT_SAMPLE'+'R_2D']]=nv,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=av,this['pcUniformT'+'ype'][_0x34a229['INT_SAMPLE'+'R_CUBE']]=ov,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=lv,this['pcUniformT'+'ype'][_0x34a229['INT_SAMPLE'+'R_3D']]=hv,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=cv,this['pcUniformT'+'ype'][_0x34a229['INT_SAMPLE'+'R_2D_ARRAY']]=dv,this['pcUniformT'+'ype'][_0x34a229['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=uv,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x34a229['TEXTURE_2D']]=0xb7b*-0x3+0x13*-0xb5+0x2fe0,this['targetToSl'+'ot'][_0x34a229['TEXTURE_CU'+'BE_MAP']]=0x9*0x1c6+-0x1*0x1984+0x98f,this['targetToSl'+'ot'][_0x34a229['TEXTURE_3D']]=-0x1*0xa37+0x2175*-0x1+0x2bae;let _0x2a4e12,_0x74b41b,_0x31219c,_0x5a8975,_0x405e70;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][ua]=function(_0x347b44,_0x204c3b){_0x347b44['value']!==_0x204c3b&&(_0x34a229['uniform1i'](_0x347b44['locationId'],_0x204c3b),_0x347b44['value']=_0x204c3b);},this['commitFunc'+'tion'][hn]=this['commitFunc'+'tion'][ua],this['commitFunc'+'tion'][Ks]=function(_0x4dd95e,_0x3a7c9d){_0x4dd95e['value']!==_0x3a7c9d&&(_0x34a229['uniform1f'](_0x4dd95e['locationId'],_0x3a7c9d),_0x4dd95e['value']=_0x3a7c9d);},this['commitFunc'+'tion'][hr]=function(_0x1a80db,_0x49b76c){_0x405e70=_0x1a80db['value'],_0x2a4e12=_0x49b76c[0x1ef8*-0x1+-0x529*-0x5+0x52b],_0x74b41b=_0x49b76c[-0x97*-0x3d+0x9f1+-0x92f*0x5],(_0x405e70[0xabd+0x9b7+-0x7*0x2ec]!==_0x2a4e12||_0x405e70[-0xb9d+-0x1ce2+0x2880]!==_0x74b41b)&&(_0x34a229['uniform2fv'](_0x1a80db['locationId'],_0x49b76c),_0x405e70[-0xe40+-0xa*0xb8+0x1570]=_0x2a4e12,_0x405e70[0x9*0x313+0x1*0xa3f+-0x25e9*0x1]=_0x74b41b);},this['commitFunc'+'tion'][Qt]=function(_0x361ab6,_0x5a16e2){_0x405e70=_0x361ab6['value'],_0x2a4e12=_0x5a16e2[0x1003*-0x1+-0x67*-0x5f+-0x1636],_0x74b41b=_0x5a16e2[0x2*-0x875+0x7be*0x2+-0x16f*-0x1],_0x31219c=_0x5a16e2[0xd1a+-0x5b*0x13+-0x657],(_0x405e70[-0x3d2+0xbd3+-0x2ab*0x3]!==_0x2a4e12||_0x405e70[-0x3*-0xa7f+0x6c+0x2*-0xff4]!==_0x74b41b||_0x405e70[0xab8+0x22ea*-0x1+-0x4*-0x60d]!==_0x31219c)&&(_0x34a229['uniform3fv'](_0x361ab6['locationId'],_0x5a16e2),_0x405e70[0x2370+0x11b*-0x10+0x8*-0x238]=_0x2a4e12,_0x405e70[0x3*-0x95f+-0x1888+0x24a*0x17]=_0x74b41b,_0x405e70[-0x1625+-0x8b*-0x33+0x1*-0x58a]=_0x31219c);},this['commitFunc'+'tion'][ba]=function(_0x1c20d3,_0x23a801){_0x405e70=_0x1c20d3['value'],_0x2a4e12=_0x23a801[0x2*-0x7b2+-0x2b3+0x1217],_0x74b41b=_0x23a801[-0x154e+-0x188+0x16d7],_0x31219c=_0x23a801[-0x4*0x96d+0x16f8+0xebe],_0x5a8975=_0x23a801[-0x246b+0x5*0x3e7+0x10eb],(_0x405e70[0x5f*0xf+0x24a9+-0xeb*0x2e]!==_0x2a4e12||_0x405e70[-0x181d+0x126b+0x5b3*0x1]!==_0x74b41b||_0x405e70[-0x1*-0xf29+-0x989*0x1+-0x2*0x2cf]!==_0x31219c||_0x405e70[-0x2*-0x1271+-0x62a*-0x3+-0x375d*0x1]!==_0x5a8975)&&(_0x34a229['uniform4fv'](_0x1c20d3['locationId'],_0x23a801),_0x405e70[-0xb87*-0x3+0xdd0+0x3065*-0x1]=_0x2a4e12,_0x405e70[0x24be+-0x1d*-0xb+-0x25fc]=_0x74b41b,_0x405e70[-0x1e32+-0x7*0x3bb+0x3851]=_0x31219c,_0x405e70[0x195b+-0x11d1*-0x1+-0x2b29]=_0x5a8975);},this['commitFunc'+'tion'][Qr]=function(_0x19f811,_0x5c5de0){_0x405e70=_0x19f811['value'],_0x2a4e12=_0x5c5de0[0x24a6*-0x1+0x252d*-0x1+0x49d3*0x1],_0x74b41b=_0x5c5de0[0x1fb6+-0x1*0x190c+0x1*-0x6a9],(_0x405e70[0x85b+0x121*-0x3+-0x6*0xd4]!==_0x2a4e12||_0x405e70[-0x151*-0x5+-0x1267+-0xbd3*-0x1]!==_0x74b41b)&&(_0x34a229['uniform2iv'](_0x19f811['locationId'],_0x5c5de0),_0x405e70[-0x1f81+-0x3*-0x8c5+0x532]=_0x2a4e12,_0x405e70[-0x1*-0x2405+0x3*0x2eb+-0x2cc5]=_0x74b41b);},this['commitFunc'+'tion'][Bo]=this['commitFunc'+'tion'][Qr],this['commitFunc'+'tion'][Jr]=function(_0x562551,_0x2a2f67){_0x405e70=_0x562551['value'],_0x2a4e12=_0x2a2f67[0x26b2+0x4c6+-0x2b78],_0x74b41b=_0x2a2f67[0x395*-0x4+0x11f4+-0x39f],_0x31219c=_0x2a2f67[0x1f*0x53+-0x2d4*0x8+0xc95*0x1],(_0x405e70[0x3a2+0x1*-0x247d+0x20db]!==_0x2a4e12||_0x405e70[0x1*-0x343+0x22f1+-0x1fad]!==_0x74b41b||_0x405e70[-0x265d*-0x1+0x58f*0x5+-0x4226]!==_0x31219c)&&(_0x34a229['uniform3iv'](_0x562551['locationId'],_0x2a2f67),_0x405e70[-0xb*0x242+-0x12c7*-0x1+0x21*0x2f]=_0x2a4e12,_0x405e70[-0x5*-0x259+0x22e1+-0x2e9d]=_0x74b41b,_0x405e70[0x236f+0xfd8+0x3*-0x1117]=_0x31219c);},this['commitFunc'+'tion'][No]=this['commitFunc'+'tion'][Jr],this['commitFunc'+'tion'][en]=function(_0x24427d,_0x5a4380){_0x405e70=_0x24427d['value'],_0x2a4e12=_0x5a4380[-0x1399+0x6a2+0xcf7],_0x74b41b=_0x5a4380[0x228c+-0x40e*0x9+-0x1f3*-0x1],_0x31219c=_0x5a4380[0x23a5+0x1e3+0x12c3*-0x2],_0x5a8975=_0x5a4380[-0x2207+-0x1bc5+0x1*0x3dcf],(_0x405e70[-0x1*0x1f8d+0x6*-0x63b+0x1*0x44ef]!==_0x2a4e12||_0x405e70[0x93*0xd+0x104e+0xc*-0x1fb]!==_0x74b41b||_0x405e70[-0x1ccf+0x4ae+0x1823]!==_0x31219c||_0x405e70[-0x27*-0x8a+0xc1d+-0x2120]!==_0x5a8975)&&(_0x34a229['uniform4iv'](_0x24427d['locationId'],_0x5a4380),_0x405e70[0x5*0x6d5+-0x1703+-0x1*0xb26]=_0x2a4e12,_0x405e70[-0xdf8+-0x1053+0x1e4c]=_0x74b41b,_0x405e70[-0x20*0xe4+-0x2094+0x3d16]=_0x31219c,_0x405e70[-0x1e42+-0xe71+0x2cb6*0x1]=_0x5a8975);},this['commitFunc'+'tion'][zo]=this['commitFunc'+'tion'][en],this['commitFunc'+'tion'][kh]=function(_0x4d3046,_0x5c85a6){_0x34a229['uniformMat'+'rix2fv'](_0x4d3046['locationId'],!(0x2039*-0x1+0xf*-0x17b+-0x366f*-0x1),_0x5c85a6);},this['commitFunc'+'tion'][Uo]=function(_0x18e80f,_0x1f8a49){_0x34a229['uniformMat'+'rix3fv'](_0x18e80f['locationId'],!(-0x1*0x77f+0x1211+0xa91*-0x1),_0x1f8a49);},this['commitFunc'+'tion'][wa]=function(_0x11aad7,_0x3025bb){_0x34a229['uniformMat'+'rix4fv'](_0x11aad7['locationId'],!(-0x1975+0x4*0x8f5+-0xa5e),_0x3025bb);},this['commitFunc'+'tion'][Oc]=function(_0xb4864e,_0x7f8e23){_0x34a229['uniform1fv'](_0xb4864e['locationId'],_0x7f8e23);},this['commitFunc'+'tion'][Bc]=function(_0x106ea6,_0xaa1232){_0x34a229['uniform2fv'](_0x106ea6['locationId'],_0xaa1232);},this['commitFunc'+'tion'][Nc]=function(_0x4f5908,_0x53b0de){_0x34a229['uniform3fv'](_0x4f5908['locationId'],_0x53b0de);},this['commitFunc'+'tion'][up]=function(_0x2cd716,_0x4d8136){_0x34a229['uniform4fv'](_0x2cd716['locationId'],_0x4d8136);},this['commitFunc'+'tion'][Ta]=function(_0x10db9c,_0x3a829b){_0x10db9c['value']!==_0x3a829b&&(_0x34a229['uniform1ui'](_0x10db9c['locationId'],_0x3a829b),_0x10db9c['value']=_0x3a829b);},this['commitFunc'+'tion'][Aa]=function(_0x48b0d5,_0x6ff139){_0x405e70=_0x48b0d5['value'],_0x2a4e12=_0x6ff139[0x1*0x1286+-0x1e5c+0xbd6],_0x74b41b=_0x6ff139[0x9*0x19d+-0x4e3+-0x5*0x1ed],(_0x405e70[-0x238*0xc+0x1fca*0x1+-0x52a]!==_0x2a4e12||_0x405e70[0x1*0x2275+-0x1fcc+-0x2a8]!==_0x74b41b)&&(_0x34a229['uniform2ui'+'v'](_0x48b0d5['locationId'],_0x6ff139),_0x405e70[-0x1356*-0x2+-0x1e74+-0x838]=_0x2a4e12,_0x405e70[-0x16fc+-0x382*0x8+0x7*0x74b]=_0x74b41b);},this['commitFunc'+'tion'][Ea]=function(_0x7528c,_0x1cce7f){_0x405e70=_0x7528c['value'],_0x2a4e12=_0x1cce7f[0x1835*-0x1+0x1915+-0xe0],_0x74b41b=_0x1cce7f[0x1145+0x1bd2+-0x18e*0x1d],_0x31219c=_0x1cce7f[0x25e0+0xf05+-0x34e3],(_0x405e70[0x309+0x3*0x41f+-0xf66]!==_0x2a4e12||_0x405e70[0x2*-0xb99+0x1496+-0x1*-0x29d]!==_0x74b41b||_0x405e70[-0x19dd+0xa08+0xfd7*0x1]!==_0x31219c)&&(_0x34a229['uniform3ui'+'v'](_0x7528c['locationId'],_0x1cce7f),_0x405e70[0x120d+-0x353+-0xeba]=_0x2a4e12,_0x405e70[-0x20c8+-0x1*-0x2567+-0x49e]=_0x74b41b,_0x405e70[-0x5c9+0x329*-0x7+0x1bea]=_0x31219c);},this['commitFunc'+'tion'][Ca]=function(_0x2c991b,_0x3c0c8b){_0x405e70=_0x2c991b['value'],_0x2a4e12=_0x3c0c8b[0x1fc2+0xddb*0x1+0x2d9d*-0x1],_0x74b41b=_0x3c0c8b[-0xf22+0x76c+-0x1*-0x7b7],_0x31219c=_0x3c0c8b[0x1742+0x24f2+-0x5*0xc0a],_0x5a8975=_0x3c0c8b[0x13e*-0xe+0x289*-0x3+0x1902],(_0x405e70[0x3*0x27f+-0x1c6b*0x1+-0x72*-0x2f]!==_0x2a4e12||_0x405e70[0x10c*0x6+0x161+-0x46*0x1c]!==_0x74b41b||_0x405e70[-0x8*0x2d9+-0x1818+0x2ee2*0x1]!==_0x31219c||_0x405e70[-0x3*-0x797+-0x2ac+0xa0b*-0x2]!==_0x5a8975)&&(_0x34a229['uniform4ui'+'v'](_0x2c991b['locationId'],_0x3c0c8b),_0x405e70[0xfb+0x14b0+0x3*-0x739]=_0x2a4e12,_0x405e70[-0x167f+-0x1b35+-0x9f1*-0x5]=_0x74b41b,_0x405e70[-0x1*0x18d9+-0x14f7+0x2dd2]=_0x31219c,_0x405e70[0x4*-0x11+0x1987+0xca0*-0x2]=_0x5a8975);},this['commitFunc'+'tion'][Ma]=function(_0x5087a8,_0x3160fa){_0x34a229['uniform1iv'](_0x5087a8['locationId'],_0x3160fa);},this['commitFunc'+'tion'][zc]=function(_0x5e1f0a,_0x5699f3){_0x34a229['uniform1ui'+'v'](_0x5e1f0a['locationId'],_0x5699f3);},this['commitFunc'+'tion'][Uc]=this['commitFunc'+'tion'][Ma],this['commitFunc'+'tion'][Pa]=function(_0x1a75cd,_0x4951ea){_0x34a229['uniform2iv'](_0x1a75cd['locationId'],_0x4951ea);},this['commitFunc'+'tion'][Vc]=function(_0x1bee84,_0x51c5bd){_0x34a229['uniform2ui'+'v'](_0x1bee84['locationId'],_0x51c5bd);},this['commitFunc'+'tion'][Gc]=this['commitFunc'+'tion'][Pa],this['commitFunc'+'tion'][Ra]=function(_0x2acbe1,_0x3803f5){_0x34a229['uniform3iv'](_0x2acbe1['locationId'],_0x3803f5);},this['commitFunc'+'tion'][Hc]=function(_0x523efb,_0x4e58a9){_0x34a229['uniform3ui'+'v'](_0x523efb['locationId'],_0x4e58a9);},this['commitFunc'+'tion'][Wc]=this['commitFunc'+'tion'][Ra],this['commitFunc'+'tion'][Oh]=function(_0x239729,_0x2863af){_0x34a229['uniform4iv'](_0x239729['locationId'],_0x2863af);},this['commitFunc'+'tion'][fp]=function(_0x237394,_0x5e915c){_0x34a229['uniform4ui'+'v'](_0x237394['locationId'],_0x5e915c);},this['commitFunc'+'tion'][pp]=this['commitFunc'+'tion'][Oh],this['commitFunc'+'tion'][zy]=function(_0x415987,_0x474b7c){_0x34a229['uniformMat'+'rix4fv'](_0x415987['locationId'],!(-0x15b5+-0xeb6+0x246c),_0x474b7c);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new fb(this);}['destroy'](){super['destroy']();const _0x3977b1=this['gl'];this['feedback']&&_0x3977b1['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0x27*-0xd6+0xb0f+0x1fc*-0x16)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x1085*-0x2+0x435*0x1+0x1*-0x253e)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x336101){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new St({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x336101;}['updateBack'+'bufferForm'+'at'](_0x374fc9){const _0xe70037=this['gl'];_0xe70037['bindFrameb'+'uffer'](_0xe70037['FRAMEBUFFE'+'R'],_0x374fc9);const _0x72dee6=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x72dee6?Te:ur;}['updateBack'+'buffer'](){const _0x29b354=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x29b354)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x795+0x531*-0x7+0x1cc3),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x4a874e,_0x50e230){return new sb();}['createInde'+'xBufferImp'+'l'](_0x44958f){return new ib(_0x44958f);}['createShad'+'erImpl'](_0x231c21){return new lb(_0x231c21);}['createText'+'ureImpl'](_0x1b7e32){return new hb(_0x1b7e32);}['createRend'+'erTargetIm'+'pl'](_0x1a76d6){return new db();}['pushMarker'](_0x9a4c5){if(be['browser']&&window['spector']){const _0x3dbc81=G['toString']();window['spector']['setMarker'](_0x3dbc81+'\x20#');}}['popMarker'](){if(be['browser']&&window['spector']){const _0x23b490=G['toString']();_0x23b490['length']?window['spector']['setMarker'](_0x23b490+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0xfca0a4=this['gl'];let _0x3f818b='highp';if(_0xfca0a4['getShaderP'+'recisionFo'+'rmat']){const _0x4ecb9e=_0xfca0a4['getShaderP'+'recisionFo'+'rmat'](_0xfca0a4['VERTEX_SHA'+'DER'],_0xfca0a4['HIGH_FLOAT']),_0x5497c4=_0xfca0a4['getShaderP'+'recisionFo'+'rmat'](_0xfca0a4['VERTEX_SHA'+'DER'],_0xfca0a4['MEDIUM_FLO'+'AT']),_0x18b192=_0xfca0a4['getShaderP'+'recisionFo'+'rmat'](_0xfca0a4['FRAGMENT_S'+'HADER'],_0xfca0a4['HIGH_FLOAT']),_0xf78e49=_0xfca0a4['getShaderP'+'recisionFo'+'rmat'](_0xfca0a4['FRAGMENT_S'+'HADER'],_0xfca0a4['MEDIUM_FLO'+'AT']);if(_0x4ecb9e&&_0x5497c4&&_0x18b192&&_0xf78e49){const _0x29a5a1=_0x4ecb9e['precision']>0xad*-0x5+0xacb+0x76a*-0x1&&_0x18b192['precision']>0xb3e*0x2+0x21fa+-0x3876,_0x3ff7f1=_0x5497c4['precision']>0x86e*-0x2+0x3f*0x98+-0x148c&&_0xf78e49['precision']>-0x4*-0x636+-0xc3b*-0x3+0xb1*-0x59;_0x29a5a1||(_0x3ff7f1?(_0x3f818b='mediump',b['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x3f818b='lowp',b['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x3f818b;}['getExtensi'+'on'](){for(let _0x45f74e=-0x505*0x5+0x1763*0x1+0x1b6;_0x45f74e<arguments['length'];_0x45f74e++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x45f74e])!==-(0x527*-0x2+-0x64*0x5e+0x2f07))return this['gl']['getExtensi'+'on'](arguments[_0x45f74e]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x5be87e=this['gl'];this['supportedE'+'xtensions']=_0x5be87e['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x1*0x290+0x153d+-0x12ad),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc'),this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float');}['initialize'+'Capabiliti'+'es'](){const _0x5bcca6=this['gl'];let _0x541d0d;const _0x56704d=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x40d441=_0x5bcca6['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x40d441==null?void(-0xe2e+0x83b*-0x3+0x26df):_0x40d441['antialias'])??!(-0x442+0x13fa+0x95*-0x1b),this['supportsSt'+'encil']=(_0x40d441==null?void(0x6*-0x538+-0x190d*-0x1+0x643*0x1):_0x40d441['stencil'])??!(-0x7ae+-0x2*-0x1102+-0x1a55),this['maxTexture'+'Size']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_3D_TEX'+'TURE_SIZE']),_0x541d0d=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x541d0d?_0x5bcca6['getParamet'+'er'](_0x541d0d['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x541d0d?_0x5bcca6['getParamet'+'er'](_0x541d0d['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x33b90c=/\bMali-G52+/,_0x3b13df=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x56704d['match'](_0x3b13df))&&!this['unmaskedRe'+'nderer']['match'](_0x33b90c),_0x541d0d=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x541d0d?_0x5bcca6['getParamet'+'er'](_0x541d0d['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x1*-0x198d+-0xd27*0x2+-0x1*-0xc2;const _0x41d8cb=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x41d8cb?_0x5bcca6['getParamet'+'er'](_0x5bcca6['MAX_SAMPLE'+'S']):0x80a+-0xb5e+0x355,this['maxSamples']=Math['min'](this['maxSamples'],-0x22ac+0x4*-0x4cb+0x9*0x5fc),this['samples']=_0x41d8cb&&this['backBuffer'+'Antialias']?this['maxSamples']:0x2c7+0x15f1+-0x25*0xab,this['supportsAr'+'eaLights']=!be['android'],this['maxTexture'+'s']<=-0xb63+-0xa81*-0x2+-0x5*0x1eb&&(this['supportsAr'+'eaLights']=!(0x61a*0x6+-0x10a+0xbdb*-0x3));}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x2cdf32=this['gl'];_0x2cdf32['disable'](_0x2cdf32['BLEND']),_0x2cdf32['blendFunc'](_0x2cdf32['ONE'],_0x2cdf32['ZERO']),_0x2cdf32['blendEquat'+'ion'](_0x2cdf32['FUNC_ADD']),_0x2cdf32['colorMask'](!(-0x11a5+0x14*0x185+-0xcbf),!(0x90e+0x978+-0x1286*0x1),!(-0x1*-0x19d1+-0x1974+-0x5d),!(-0xe*0x97+0x2b9*-0x8+0xf05*0x2)),_0x2cdf32['blendColor'](0x19*-0x92+0x21ff+0x1*-0x13bd,-0x1*-0x626+-0x1ed3+0x18ad,-0x20bd*0x1+0x6e6*0x1+-0x3b1*-0x7,-0x198*-0x3+0x2587*-0x1+0x65*0x53),_0x2cdf32['enable'](_0x2cdf32['CULL_FACE']),this['cullFace']=_0x2cdf32['BACK'],_0x2cdf32['cullFace'](_0x2cdf32['BACK']),_0x2cdf32['enable'](_0x2cdf32['DEPTH_TEST']),_0x2cdf32['depthFunc'](_0x2cdf32['LEQUAL']),_0x2cdf32['depthMask'](!(0xe3*-0x13+0x260c+-0x1533)),this['stencil']=!(0x1*-0xfcd+-0x9d*0x25+-0x447*-0x9),_0x2cdf32['disable'](_0x2cdf32['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Ri,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x1*-0x1c13+-0x46*0x85+0x84b,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=0x16e7+-0x13*0x185+0x6f7,_0x2cdf32['stencilFun'+'c'](_0x2cdf32['ALWAYS'],0xa0a+-0x231f+0x1915,0x222e+-0x15e+-0x1fd1),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=da,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=da,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=da,this['stencilWri'+'teMaskFron'+'t']=-0xecd+-0x1b7d+0x62f*0x7,this['stencilWri'+'teMaskBack']=-0xcd*0xd+0x1809+-0xca1,_0x2cdf32['stencilOp'](_0x2cdf32['KEEP'],_0x2cdf32['KEEP'],_0x2cdf32['KEEP']),_0x2cdf32['stencilMas'+'k'](0x3d*-0x9f+-0xe*0x166+-0x1d3b*-0x2),this['alphaToCov'+'erage']=!(-0x1933+0xed3+0xa61),this['raster']=!(0xf84+0x49*-0x5a+-0x6*-0x1b1),_0x2cdf32['disable'](_0x2cdf32['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x2cdf32['disable'](_0x2cdf32['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x980+0x1599+-0x1*0xc18),_0x2cdf32['disable'](_0x2cdf32['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=0xe32+-0x1bd4+0xda3,_0x2cdf32['clearDepth'](-0x79d*-0x1+-0x20aa+0x190e),this['clearColor']=new Y(-0x2688+0x2105+0x583,-0x1f0*0x9+-0x1369*-0x1+-0x1f9,0x9*0x52+0x1435+-0x1717,0x25d2+-0x23e+0x33c*-0xb),_0x2cdf32['clearColor'](0x25e8+0xd28+-0x3310,0x7d2+0x16*-0x142+-0x2a*-0x79,0x41f+-0x159f+0x7*0x280,0x144b+-0x2207*0x1+0xdbc),this['clearStenc'+'il']=-0x19c0+-0xddc+0x279c,_0x2cdf32['clearStenc'+'il'](0xbf*0x2f+-0xf2*-0x13+0xa9b*-0x5),_0x2cdf32['hint'](_0x2cdf32['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x2cdf32['NICEST']),_0x2cdf32['enable'](_0x2cdf32['SCISSOR_TE'+'ST']),_0x2cdf32['pixelStore'+'i'](_0x2cdf32['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x2cdf32['NONE']),this['unpackFlip'+'Y']=!(-0x11f8+-0x56*-0x2+0x67*0x2b),_0x2cdf32['pixelStore'+'i'](_0x2cdf32['UNPACK_FLI'+'P_Y_WEBGL'],!(0x209c+0x14*0x150+-0x3adb)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x445+0x22*-0xe+0x622),_0x2cdf32['pixelStore'+'i'](_0x2cdf32['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(0x2c*0x39+0x2656+-0x3021)),_0x2cdf32['pixelStore'+'i'](_0x2cdf32['UNPACK_ALI'+'GNMENT'],0x1a7*-0x12+-0x313+-0x2*-0x1069);}['initTextur'+'eUnits'](_0xcc18e3=0x5*-0xe3+0x14e*-0x19+0x251d){this['textureUni'+'ts']=[];for(let _0x1b512c=0x19a8+-0x16c5*0x1+-0x2e3;_0x1b512c<_0xcc18e3;_0x1b512c++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x194e+0x2*-0x8ab+-0x7f8,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x46f6a6 of this['shaders'])_0x46f6a6['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x48fbd4 of this['shaders'])_0x48fbd4['restoreCon'+'text']();}['setViewpor'+'t'](_0xb15548,_0x12a827,_0x5771f3,_0x3cb1fb){(this['vx']!==_0xb15548||this['vy']!==_0x12a827||this['vw']!==_0x5771f3||this['vh']!==_0x3cb1fb)&&(this['gl']['viewport'](_0xb15548,_0x12a827,_0x5771f3,_0x3cb1fb),this['vx']=_0xb15548,this['vy']=_0x12a827,this['vw']=_0x5771f3,this['vh']=_0x3cb1fb);}['setScissor'](_0x38eeb0,_0x5a991a,_0x45cdfd,_0x1cb5c2){(this['sx']!==_0x38eeb0||this['sy']!==_0x5a991a||this['sw']!==_0x45cdfd||this['sh']!==_0x1cb5c2)&&(this['gl']['scissor'](_0x38eeb0,_0x5a991a,_0x45cdfd,_0x1cb5c2),this['sx']=_0x38eeb0,this['sy']=_0x5a991a,this['sw']=_0x45cdfd,this['sh']=_0x1cb5c2);}['setFramebu'+'ffer'](_0x71d7c4){if(this['activeFram'+'ebuffer']!==_0x71d7c4){const _0x1ef9fb=this['gl'];_0x1ef9fb['bindFrameb'+'uffer'](_0x1ef9fb['FRAMEBUFFE'+'R'],_0x71d7c4),this['activeFram'+'ebuffer']=_0x71d7c4;}}['copyRender'+'Target'](_0x9a20c0,_0x4ae9cb,_0xa9bfea,_0x46a8be){var _0x22d749,_0x5265c0;const _0x2971df=this['gl'];if(_0x9a20c0===this['backBuffer']&&(_0x9a20c0=null),_0xa9bfea){if(_0x4ae9cb){if(_0x9a20c0){if(!_0x9a20c0['_colorBuff'+'er']||!_0x4ae9cb['_colorBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x30*0x26+0x16c6+-0x1de5);if(_0x9a20c0['_colorBuff'+'er']['_format']!==_0x4ae9cb['_colorBuff'+'er']['_format'])return b['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(-0x1*-0x138b+-0x7af+-0x5*0x25f);}}else{if(!_0x9a20c0['_colorBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0xda7+0x8a5*-0x3+0xc49);}}if(_0x46a8be&&_0x9a20c0&&!_0x9a20c0['_depth']){if(!_0x9a20c0['_depthBuff'+'er']||!_0x4ae9cb['_depthBuff'+'er'])return b['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x26b6*-0x1+0x3*0x873+-0x9*0x71e);if(_0x9a20c0['_depthBuff'+'er']['_format']!==_0x4ae9cb['_depthBuff'+'er']['_format'])return b['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0x71b*-0x5+-0xdc+0x1d*-0x132);}G['pushGpuMar'+'ker'](this,'COPY-RT');const _0x54a78a=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x4ae9cb,this['updateBegi'+'n']();const _0x1d72ee=_0x9a20c0?_0x9a20c0['impl']['_glFrameBu'+'ffer']:(_0x22d749=this['backBuffer'])==null?void(-0x59*0x17+0xfde+-0x7df):_0x22d749['impl']['_glFrameBu'+'ffer'],_0x2f84ef=_0x4ae9cb?_0x4ae9cb['impl']['_glFrameBu'+'ffer']:(_0x5265c0=this['backBuffer'])==null?void(0x1*0x14+-0x67*-0x2+-0xe2):_0x5265c0['impl']['_glFrameBu'+'ffer'];b['assert'](_0x1d72ee!==_0x2f84ef,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x2971df['bindFrameb'+'uffer'](_0x2971df['READ_FRAME'+'BUFFER'],_0x1d72ee),_0x2971df['bindFrameb'+'uffer'](_0x2971df['DRAW_FRAME'+'BUFFER'],_0x2f84ef);const _0x43024e=_0x9a20c0?_0x9a20c0['width']:_0x4ae9cb?_0x4ae9cb['width']:this['width'],_0x2d859c=_0x9a20c0?_0x9a20c0['height']:_0x4ae9cb?_0x4ae9cb['height']:this['height'];return _0x2971df['blitFrameb'+'uffer'](-0x1*-0x20c2+0x25d9+0x19*-0x2d3,-0x161*-0x14+0x3d5+-0x1f69,_0x43024e,_0x2d859c,-0x7*-0x3d6+0x7dd*0x1+-0x22b7,0x3*-0x70e+0x22a8+-0x1*0xd7e,_0x43024e,_0x2d859c,(_0xa9bfea?_0x2971df['COLOR_BUFF'+'ER_BIT']:-0xb*0x298+-0x59f+0x2227)|(_0x46a8be?_0x2971df['DEPTH_BUFF'+'ER_BIT']:0x1a8f+-0x1c*-0x82+-0x28c7),_0x2971df['NEAREST']),this['renderTarg'+'et']=_0x54a78a,_0x2971df['bindFrameb'+'uffer'](_0x2971df['FRAMEBUFFE'+'R'],_0x54a78a?_0x54a78a['impl']['_glFrameBu'+'ffer']:null),G['popGpuMark'+'er'](this),!(0x2704+0x1*-0x1ddd+-0x927);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x1e5c3d){const _0x28612b=_0x1e5c3d['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x28612b,b['assert'](_0x28612b),G['pushGpuMar'+'ker'](this,'Pass:'+_0x1e5c3d['name']+'\x20RT:'+_0x28612b['name']),G['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x54f9aa,height:_0x41b466}=_0x28612b;this['setViewpor'+'t'](0x1ea1+0x9*-0x37+-0x1cb2,-0x10b2*-0x2+0x257*0x8+-0x341c,_0x54f9aa,_0x41b466),this['setScissor'](0x12af*-0x1+0xeb+0x3*0x5ec,-0xccd+0xa23*0x2+-0x779*0x1,_0x54f9aa,_0x41b466);const _0x12706b=_0x1e5c3d['colorOps'],_0xb4177e=_0x1e5c3d['depthStenc'+'ilOps'];if(_0x12706b!=null&&_0x12706b['clear']||_0xb4177e['clearDepth']||_0xb4177e['clearStenc'+'il']){let _0x1f599d=0x1d*0x27+0x21be+-0x2629;const _0x6f96c5={};_0x12706b!=null&&_0x12706b['clear']&&(_0x1f599d|=Io,_0x6f96c5['color']=[_0x12706b['clearValue']['r'],_0x12706b['clearValue']['g'],_0x12706b['clearValue']['b'],_0x12706b['clearValue']['a']]),_0xb4177e['clearDepth']&&(_0x1f599d|=Do,_0x6f96c5['depth']=_0xb4177e['clearDepth'+'Value']),_0xb4177e['clearStenc'+'il']&&(_0x1f599d|=Rh,_0x6f96c5['stencil']=_0xb4177e['clearStenc'+'ilValue']),_0x6f96c5['flags']=_0x1f599d,this['clear'](_0x6f96c5);}b['call'](()=>{this['insideRend'+'erPass']&&b['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(-0x10c2+-0x859*-0x4+0x2*-0x851),G['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x5e6c85){var _0x1607ae;G['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x368b31=this['renderTarg'+'et'],_0x5691d2=_0x5e6c85['colorArray'+'Ops']['length'];if(_0x368b31){En['length']=0xc6b+0x1928+-0x2593;const _0x1a53b0=this['gl'];for(let _0x293185=-0xa0b*0x1+0x1*0x1ad5+-0xe*0x133;_0x293185<_0x5691d2;_0x293185++){const _0x286069=_0x5e6c85['colorArray'+'Ops'][_0x293185];_0x286069['store']||_0x286069['resolve']||En['push'](_0x1a53b0['COLOR_ATTA'+'CHMENT0']+_0x293185);}_0x368b31!==this['backBuffer']&&(_0x5e6c85['depthStenc'+'ilOps']['storeDepth']||En['push'](_0x1a53b0['DEPTH_ATTA'+'CHMENT']),_0x5e6c85['depthStenc'+'ilOps']['storeStenc'+'il']||En['push'](_0x1a53b0['STENCIL_AT'+'TACHMENT'])),En['length']>-0x1c*0x11+-0x13c4+0x15a0&&_0x5e6c85['fullSizeCl'+'earRect']&&_0x1a53b0['invalidate'+'Framebuffe'+'r'](_0x1a53b0['DRAW_FRAME'+'BUFFER'],En),_0x5691d2&&((_0x1607ae=_0x5e6c85['colorOps'])!=null&&_0x1607ae['resolve'])&&_0x5e6c85['samples']>-0xc6+0x1559+-0x1492&&_0x368b31['autoResolv'+'e']&&_0x368b31['resolve'](!(0x1142+-0x14c*-0x2+0x2a*-0x79),!(0x350*0xb+0xf91*0x2+-0x4391)),_0x368b31['depthBuffe'+'r']&&_0x5e6c85['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x5e6c85['samples']>0x1*0x1631+-0x2085+0xa55&&_0x368b31['autoResolv'+'e']&&_0x368b31['resolve'](!(-0x922*0x4+0x1e08+-0x3*-0x22b),!(0x2001+0x653+-0x2654));for(let _0x1e550f=0x22c4+-0x66*0x40+-0x944;_0x1e550f<_0x5691d2;_0x1e550f++)if(_0x5e6c85['colorArray'+'Ops'][_0x1e550f]['genMipmaps']){const _0x41c52e=_0x368b31['_colorBuff'+'ers'][_0x1e550f];_0x41c52e&&_0x41c52e['impl']['_glTexture']&&_0x41c52e['mipmaps']&&(G['pushGpuMar'+'ker'](this,'MIPS'+_0x1e550f),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x663*0x4+-0xc*0xb2+0x21e5)),this['bindTextur'+'e'](_0x41c52e),this['gl']['generateMi'+'pmap'](_0x41c52e['impl']['_glTarget']),G['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0xadc+-0x24dc+-0x3*-0x8ab),G['popGpuMark'+'er'](this),G['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x117580){this['_defaultFr'+'amebuffer']!==_0x117580&&(this['_defaultFr'+'amebuffer']=_0x117580,this['_defaultFr'+'amebufferC'+'hanged']=!(0xe6*0x2+0x1b2a+0x151*-0x16));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(G['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x3daeee=-0x3*-0x2ef+-0x5*0x48d+0xdf4;_0x3daeee<this['textureUni'+'ts']['length'];++_0x3daeee)for(let _0x1f5cb0=-0x21*0x1d+0x25*0x11+0x148*0x1;_0x1f5cb0<0xa4*-0x33+-0x1d95+0x3e44;++_0x1f5cb0)this['textureUni'+'ts'][_0x3daeee][_0x1f5cb0]=null;}const _0x1a368f=this['renderTarg'+'et']??this['backBuffer'];b['assert'](_0x1a368f);const _0x1191b1=_0x1a368f['impl'];_0x1191b1['initialize'+'d']||this['initRender'+'Target'](_0x1a368f),this['setFramebu'+'ffer'](_0x1191b1['_glFrameBu'+'ffer']),G['popGpuMark'+'er'](this);}['updateEnd'](){G['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x53104e=this['renderTarg'+'et'];if(_0x53104e&&_0x53104e!==this['backBuffer']){_0x53104e['_samples']>-0x15d6+-0x1dc3+0x19cd*0x2&&_0x53104e['autoResolv'+'e']&&_0x53104e['resolve']();const _0x55b102=_0x53104e['_colorBuff'+'er'];_0x55b102&&_0x55b102['impl']['_glTexture']&&_0x55b102['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x85a*0x1+0x6ef*-0x1+-0x26*-0x67)),this['bindTextur'+'e'](_0x55b102),this['gl']['generateMi'+'pmap'](_0x55b102['impl']['_glTarget']));}G['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x4cf15c){if(this['unpackFlip'+'Y']!==_0x4cf15c){this['unpackFlip'+'Y']=_0x4cf15c;const _0x5071f7=this['gl'];_0x5071f7['pixelStore'+'i'](_0x5071f7['UNPACK_FLI'+'P_Y_WEBGL'],_0x4cf15c);}}['setUnpackP'+'remultiply'+'Alpha'](_0x1f5356){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x1f5356){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x1f5356;const _0x46de8b=this['gl'];_0x46de8b['pixelStore'+'i'](_0x46de8b['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x1f5356);}}['activeText'+'ure'](_0x1169d1){this['textureUni'+'t']!==_0x1169d1&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x1169d1),this['textureUni'+'t']=_0x1169d1);}['bindTextur'+'e'](_0x26dc2a){const _0x58b516=_0x26dc2a['impl'],_0x3f0a64=_0x58b516['_glTarget'],_0xf0c260=_0x58b516['_glTexture'],_0x547c64=this['textureUni'+'t'],_0x13d5cd=this['targetToSl'+'ot'][_0x3f0a64];this['textureUni'+'ts'][_0x547c64][_0x13d5cd]!==_0xf0c260&&(this['gl']['bindTextur'+'e'](_0x3f0a64,_0xf0c260),this['textureUni'+'ts'][_0x547c64][_0x13d5cd]=_0xf0c260);}['bindTextur'+'eOnUnit'](_0x2b5931,_0x44b847){const _0x1d3751=_0x2b5931['impl'],_0x5ad6ac=_0x1d3751['_glTarget'],_0x248e78=_0x1d3751['_glTexture'],_0x26b2d8=this['targetToSl'+'ot'][_0x5ad6ac];this['textureUni'+'ts'][_0x44b847][_0x26b2d8]!==_0x248e78&&(this['activeText'+'ure'](_0x44b847),this['gl']['bindTextur'+'e'](_0x5ad6ac,_0x248e78),this['textureUni'+'ts'][_0x44b847][_0x26b2d8]=_0x248e78);}['setTexture'+'Parameters'](_0x254b3d){const _0x2b4d49=this['gl'],_0xba4532=_0x254b3d['impl']['dirtyParam'+'eterFlags'],_0x1979e1=_0x254b3d['impl']['_glTarget'];if(_0xba4532&Uy){let _0x317b60=_0x254b3d['_minFilter'];(!_0x254b3d['_mipmaps']||_0x254b3d['_compresse'+'d']&&_0x254b3d['_levels']['length']===0x20b9+0x17*-0x153+-0x243)&&(_0x317b60===yc||_0x317b60===xc?_0x317b60=fe:(_0x317b60===Sc||_0x317b60===an)&&(_0x317b60=at)),_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x317b60]);}if(_0xba4532&Vy&&_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x254b3d['_magFilter']]),_0xba4532&Gy&&_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x254b3d['_addressU']]),_0xba4532&Hy&&_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x254b3d['_addressV']]),_0xba4532&Wy&&_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x254b3d['_addressW']]),_0xba4532&$y&&_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_CO'+'MPARE_MODE'],_0x254b3d['_compareOn'+'Read']?_0x2b4d49['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x2b4d49['NONE']),_0xba4532&qy&&_0x2b4d49['texParamet'+'eri'](_0x1979e1,_0x2b4d49['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x254b3d['_compareFu'+'nc']]),_0xba4532&Xy){const _0x221525=this['extTexture'+'FilterAnis'+'otropic'];_0x221525&&_0x2b4d49['texParamet'+'erf'](_0x1979e1,_0x221525['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],z['clamp'](Math['round'](_0x254b3d['_anisotrop'+'y']),0x1585+0x9*-0x2dd+0x441,this['maxAnisotr'+'opy']));}}['setTexture'](_0x18374b,_0x11a12a){const _0x469817=_0x18374b['impl'];_0x469817['_glTexture']||_0x469817['initialize'](this,_0x18374b),_0x469817['dirtyParam'+'eterFlags']>0x579+-0x51*0x1d+0x3b4||_0x18374b['_needsUplo'+'ad']||_0x18374b['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x11a12a),this['bindTextur'+'e'](_0x18374b),_0x469817['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x18374b),_0x469817['dirtyParam'+'eterFlags']=0x1ce1*-0x1+0x53*-0x3+0x1dda),(_0x18374b['_needsUplo'+'ad']||_0x18374b['_needsMipm'+'apsUpload'])&&(_0x469817['upload'](this,_0x18374b),_0x18374b['_needsUplo'+'ad']=!(0x8*-0x242+0x14f4+-0x2e3),_0x18374b['_needsMipm'+'apsUpload']=!(-0xd65+-0x17fd+-0x11*-0x233))):this['bindTextur'+'eOnUnit'](_0x18374b,_0x11a12a);}['createVert'+'exArray'](_0x4f3fa5){let _0x66766,_0x3cf09d;const _0x10b900=_0x4f3fa5['length']>-0x1*0x2141+0x1352*-0x2+0x1*0x47e6;if(_0x10b900){_0x66766='';for(let _0x36c0b8=-0x14*-0x32+-0x16e2+0x12fa;_0x36c0b8<_0x4f3fa5['length'];_0x36c0b8++){const _0x254fe2=_0x4f3fa5[_0x36c0b8];_0x66766+=_0x254fe2['id']+_0x254fe2['format']['renderingH'+'ash'];}_0x3cf09d=this['_vaoMap']['get'](_0x66766);}if(!_0x3cf09d){const _0x3904de=this['gl'];_0x3cf09d=_0x3904de['createVert'+'exArray'](),_0x3904de['bindVertex'+'Array'](_0x3cf09d),_0x3904de['bindBuffer'](_0x3904de['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x47c943=!(0xa8f+-0x84f+0x23f*-0x1);for(let _0x1ebd63=0x1a17*0x1+-0x1194+0x883*-0x1;_0x1ebd63<_0x4f3fa5['length'];_0x1ebd63++){const _0x20a732=_0x4f3fa5[_0x1ebd63];_0x3904de['bindBuffer'](_0x3904de['ARRAY_BUFF'+'ER'],_0x20a732['impl']['bufferId']);const _0x51d4a6=_0x20a732['format']['elements'];for(let _0x2eff56=-0x80c*0x1+0x117+0x6f5;_0x2eff56<_0x51d4a6['length'];_0x2eff56++){const _0x58b07d=_0x51d4a6[_0x2eff56],_0x40ef22=Ae[_0x58b07d['name']];_0x40ef22===0x1*0xd03+-0x2482+0x4b3*0x5&&(_0x47c943=!(-0x5c4+-0x1*-0x1b55+-0x1591)),_0x58b07d['asInt']?_0x3904de['vertexAttr'+'ibIPointer'](_0x40ef22,_0x58b07d['numCompone'+'nts'],this['glType'][_0x58b07d['dataType']],_0x58b07d['stride'],_0x58b07d['offset']):_0x3904de['vertexAttr'+'ibPointer'](_0x40ef22,_0x58b07d['numCompone'+'nts'],this['glType'][_0x58b07d['dataType']],_0x58b07d['normalize'],_0x58b07d['stride'],_0x58b07d['offset']),_0x3904de['enableVert'+'exAttribAr'+'ray'](_0x40ef22),_0x20a732['format']['instancing']&&_0x3904de['vertexAttr'+'ibDivisor'](_0x40ef22,-0x25af+0x18e6+-0x665*-0x2);}}_0x3904de['bindVertex'+'Array'](null),_0x3904de['bindBuffer'](_0x3904de['ARRAY_BUFF'+'ER'],null),_0x10b900&&this['_vaoMap']['set'](_0x66766,_0x3cf09d),_0x47c943||b['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x3cf09d;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](){const _0x55829d=this['gl'];let _0x585adf;if(this['vertexBuff'+'ers']['length']===0x1823+0x7ae*-0x3+-0x118){const _0x74081e=this['vertexBuff'+'ers'][0x10*-0x185+-0x25*0x2e+0x1ef6];b['assert'](_0x74081e['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x74081e['impl']['vao']||(_0x74081e['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x585adf=_0x74081e['impl']['vao'];}else _0x585adf=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x585adf&&(this['boundVao']=_0x585adf,_0x55829d['bindVertex'+'Array'](_0x585adf)),this['clearVerte'+'xBuffer']();const _0x14a76f=this['indexBuffe'+'r']?this['indexBuffe'+'r']['impl']['bufferId']:null;_0x55829d['bindBuffer'](_0x55829d['ELEMENT_AR'+'RAY_BUFFER'],_0x14a76f);}['draw'](_0x291754,_0x4b4131,_0x127930){const _0xb61f5=this['gl'];if(this['activateSh'+'ader'](this),!this['shaderVali'+'d'])return;let _0x261185,_0x32e57e,_0x50661c,_0xff3a74,_0x22edae,_0x1d17cd,_0x117f7e,_0x4ece71;const _0x120f82=this['shader'];if(!_0x120f82)return;const _0x500426=_0x120f82['impl']['samplers'],_0x286234=_0x120f82['impl']['uniforms'];_0x127930||this['setBuffers']();let _0x4a720f=0x1*0x1b56+0x24c9+-0x401f*0x1;for(let _0xd06b0a=-0x1741+-0x3*-0xcae+-0xec9,_0x485da4=_0x500426['length'];_0xd06b0a<_0x485da4;_0xd06b0a++){if(_0x261185=_0x500426[_0xd06b0a],_0x32e57e=_0x261185['scopeId']['value'],!_0x32e57e){const _0x3743ca=_0x261185['scopeId']['name'];b['assert'](_0x3743ca!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),b['assert'](_0x3743ca!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x3743ca==='uSceneDept'+'hMap'&&(b['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x32e57e=tn(this,'white')),_0x3743ca==='uSceneColo'+'rMap'&&(b['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+G['toString']()+']'),_0x32e57e=tn(this,'pink')),_0x32e57e||(b['errorOnce']('Shader\x20'+_0x120f82['name']+'\x20requires\x20'+_0x3743ca+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+G['toString']()+']'),_0x32e57e=tn(this,'pink'));}if(_0x32e57e instanceof ce)_0x50661c=_0x32e57e,this['setTexture'](_0x50661c,_0x4a720f),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x2a*-0x9a+0x3c9+-0x157d*-0x1&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x50661c?b['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x50661c}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x50661c&&b['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x50661c})),_0x261185['slot']!==_0x4a720f&&(_0xb61f5['uniform1i'](_0x261185['locationId'],_0x4a720f),_0x261185['slot']=_0x4a720f),_0x4a720f++;else{_0x261185['array']['length']=-0x1cf*0x8+0x52*-0x19+-0x167a*-0x1,_0xff3a74=_0x32e57e['length'];for(let _0x4533b0=0xf1c*-0x2+-0xb12*-0x1+0x1326;_0x4533b0<_0xff3a74;_0x4533b0++)_0x50661c=_0x32e57e[_0x4533b0],this['setTexture'](_0x50661c,_0x4a720f),_0x261185['array'][_0x4533b0]=_0x4a720f,_0x4a720f++;_0xb61f5['uniform1iv'](_0x261185['locationId'],_0x261185['array']);}}for(let _0x506d7e=-0x17*-0x10d+-0x2*-0xd95+-0x3355*0x1,_0x129049=_0x286234['length'];_0x506d7e<_0x129049;_0x506d7e++)_0x22edae=_0x286234[_0x506d7e],_0x1d17cd=_0x22edae['scopeId'],_0x117f7e=_0x22edae['version'],_0x4ece71=_0x1d17cd['versionObj'+'ect']['version'],(_0x117f7e['globalId']!==_0x4ece71['globalId']||_0x117f7e['revision']!==_0x4ece71['revision'])&&(_0x117f7e['globalId']=_0x4ece71['globalId'],_0x117f7e['revision']=_0x4ece71['revision'],_0x1d17cd['value']!==null&&this['commitFunc'+'tion'][_0x22edae['dataType']](_0x22edae,_0x1d17cd['value']));this['transformF'+'eedbackBuf'+'fer']&&(_0xb61f5['bindBuffer'+'Base'](_0xb61f5['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x349*0x1+-0x1f45+0x1bfc,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0xb61f5['beginTrans'+'formFeedba'+'ck'](_0xb61f5['POINTS']));const _0x57ca17=this['glPrimitiv'+'e'][_0x291754['type']],_0x20dfe9=_0x291754['count'],_0x1b914a=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery');let _0xbc1d58=_0xb61f5['createQuer'+'y']();if(_0x1b914a?_0xb61f5['beginQuery'](_0x1b914a['TIME_ELAPS'+'ED_EXT'],_0xbc1d58):_0xbc1d58=null,_0x291754['indexed']){const _0x155ea7=this['indexBuffe'+'r'];b['assert'](_0x155ea7['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x42b186=_0x155ea7['impl']['glFormat'],_0x4c346c=_0x291754['base']*_0x155ea7['bytesPerIn'+'dex'];_0x4b4131>-0x1101+-0x614*0x3+0x233d?_0xb61f5['drawElemen'+'tsInstance'+'d'](_0x57ca17,_0x20dfe9,_0x42b186,_0x4c346c,_0x4b4131):_0xb61f5['drawElemen'+'ts'](_0x57ca17,_0x20dfe9,_0x42b186,_0x4c346c);}else{const _0x3f0c3d=_0x291754['base'];_0x4b4131>0x20c3*-0x1+-0x1c8+0x228b?_0xb61f5['drawArrays'+'Instanced'](_0x57ca17,_0x3f0c3d,_0x20dfe9,_0x4b4131):_0xb61f5['drawArrays'](_0x57ca17,_0x3f0c3d,_0x20dfe9);}_0x1b914a&&_0xb61f5['endQuery'](_0x1b914a['TIME_ELAPS'+'ED_EXT']);let _0x1eea5b=function(_0x4ebf6b,_0x3799fb){return new Promise(_0x36ee9f=>{const _0x1eb455=performance['now'](),_0xb9642c=()=>{if(_0x3799fb||_0x36ee9f(0x1*0xdf3+0x4*-0x602+0xa15),_0x4ebf6b['getQueryPa'+'rameter'](_0x3799fb,_0x4ebf6b['QUERY_RESU'+'LT_AVAILAB'+'LE'])){const _0x177573=_0x4ebf6b['getQueryPa'+'rameter'](_0x3799fb,_0x4ebf6b['QUERY_RESU'+'LT']);_0x4ebf6b['deleteQuer'+'y'](_0x3799fb),_0x36ee9f(_0x177573);}else{const _0x4d92d8=performance['now']()-_0x1eb455,_0xd881aa=_0x4d92d8<-0x1381+0x1dcc+-0x177*0x7?-0x95*-0x36+0xfa6+-0x17*0x20c:_0x4d92d8<0x1*0x11e7+0x26e6+-0x3869?0x1*-0x2205+-0x1796*0x1+0x399c*0x1:0xe*0x283+0xc*-0x1ce+-0x6bf*0x2;setTimeout(_0xb9642c,_0xd881aa);}};_0xb9642c();});};Promise['all']([_0x1eea5b(_0xb61f5,_0xbc1d58)])['then'](_0x3ba358=>{const _0x4bfd50=_0x3ba358[-0x64f+0x85*0x46+-0x1e0f]/(0x53*0x45ca+0x1d8084+0x25*-0xff1a),_0x2e518b=_0x3ba358[0x1*0x496+-0xe41+0x9ac]?_0x3ba358[0x44e+-0x759+0x41*0xc]/(-0x1d3c45+-0x3*0x72d77+0x4206ea):'';window['drawReaste'+'rize']=_0x4bfd50,console['log']('Draw\x20call\x20'+'with\x20raste'+'rize\x20took\x20'+_0x4bfd50+'\x20ms',_0x2e518b?'draw\x20call\x20'+'without\x20ra'+'sterize\x20to'+'ok\x20'+_0x2e518b+'\x20ms':'');}),this['transformF'+'eedbackBuf'+'fer']&&(_0xb61f5['endTransfo'+'rmFeedback'](),_0xb61f5['bindBuffer'+'Base'](_0xb61f5['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x4*0x27b+-0x2*-0xf8e+-0x2908,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x291754['type']]+=_0x291754['count']*(_0x4b4131>-0x17*-0x127+-0x12d*-0x1f+-0x5*0xc97?_0x4b4131:0x8db*0x3+-0x1d50+-0xb0*-0x4);}['clear'](_0x216a6c){const _0x168fd3=this['defaultCle'+'arOptions'];_0x216a6c=_0x216a6c||_0x168fd3;const _0x288cfe=_0x216a6c['flags']??_0x168fd3['flags'];if(_0x288cfe!==-0x17f9*-0x1+0x38c+-0x1b85){const _0x1be312=this['gl'];if(_0x288cfe&Io){const _0x3d7331=_0x216a6c['color']??_0x168fd3['color'],_0x5baf08=_0x3d7331[-0x22b7+-0xd*0x11c+0x3123],_0x5629ee=_0x3d7331[-0x1*-0x22fc+0x564+0x285f*-0x1],_0x221ab1=_0x3d7331[-0x129e+-0x3*0x6d9+0x272b],_0xb84703=_0x3d7331[-0x2281+0x2286+-0x2],_0x4029c8=this['clearColor'];(_0x5baf08!==_0x4029c8['r']||_0x5629ee!==_0x4029c8['g']||_0x221ab1!==_0x4029c8['b']||_0xb84703!==_0x4029c8['a'])&&(this['gl']['clearColor'](_0x5baf08,_0x5629ee,_0x221ab1,_0xb84703),this['clearColor']['set'](_0x5baf08,_0x5629ee,_0x221ab1,_0xb84703)),this['setBlendSt'+'ate'](bt['NOBLEND']);}if(_0x288cfe&Do){const _0x1b71ee=_0x216a6c['depth']??_0x168fd3['depth'];_0x1b71ee!==this['clearDepth']&&(this['gl']['clearDepth'](_0x1b71ee),this['clearDepth']=_0x1b71ee),this['setDepthSt'+'ate'](us['WRITEDEPTH']);}if(_0x288cfe&Rh){const _0x668cf8=_0x216a6c['stencil']??_0x168fd3['stencil'];_0x668cf8!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x668cf8),this['clearStenc'+'il']=_0x668cf8),_0x1be312['stencilMas'+'k'](0x946+0x3*0x5b3+-0xcb*0x20),this['stencilWri'+'teMaskFron'+'t']=0x2081+-0x16cd+0x8b5*-0x1,this['stencilWri'+'teMaskBack']=-0xa4d+-0xd8*-0x1d+0xd2c*-0x1;}_0x1be312['clear'](this['glClearFla'+'g'][_0x288cfe]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x5e9cdb,_0x24842b,_0x58fcbc,_0x446f79,_0x4b6266){const _0x5d30d3=this['gl'];_0x5d30d3['readPixels'](_0x5e9cdb,_0x24842b,_0x58fcbc,_0x446f79,_0x5d30d3['RGBA'],_0x5d30d3['UNSIGNED_B'+'YTE'],_0x4b6266);}async['readPixels'+'Async'](_0x76ff87,_0x49e460,_0x1a22ca,_0x1aa5f9,_0x2344f5){var _0x59c7fa;const _0x40fa39=this['gl'],_0x1322d7=(_0x51acac,_0x5763dd)=>{const _0x541d60=_0x40fa39['fenceSync'](_0x40fa39['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],0x2319+0x1*0x1066+-0x337f);return this['submit'](),new Promise((_0x2ebd2b,_0x378d14)=>{function _0x42db84(){const _0x278d91=_0x40fa39['clientWait'+'Sync'](_0x541d60,_0x51acac,0x251e*0x1+-0x2283+-0x1d*0x17);_0x278d91===_0x40fa39['WAIT_FAILE'+'D']?(_0x40fa39['deleteSync'](_0x541d60),_0x378d14(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed'))):_0x278d91===_0x40fa39['TIMEOUT_EX'+'PIRED']?setTimeout(_0x42db84,_0x5763dd):(_0x40fa39['deleteSync'](_0x541d60),_0x2ebd2b());}_0x42db84();});},_0x599245=(_0x59c7fa=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x2*-0x250+-0x1653+-0xc5*-0x17):_0x59c7fa['impl'],_0x388a0d=(_0x599245==null?void(-0x254e+-0x1945+0x3e93):_0x599245['_glFormat'])??_0x40fa39['RGBA'],_0x4a0e2d=(_0x599245==null?void(-0x1fe4+0x5*-0x395+0x31cd):_0x599245['_glPixelTy'+'pe'])??_0x40fa39['UNSIGNED_B'+'YTE'],_0x14582f=_0x40fa39['createBuff'+'er']();return _0x40fa39['bindBuffer'](_0x40fa39['PIXEL_PACK'+'_BUFFER'],_0x14582f),_0x40fa39['bufferData'](_0x40fa39['PIXEL_PACK'+'_BUFFER'],_0x2344f5['byteLength'],_0x40fa39['STREAM_REA'+'D']),_0x40fa39['readPixels'](_0x76ff87,_0x49e460,_0x1a22ca,_0x1aa5f9,_0x388a0d,_0x4a0e2d,0x25f7+-0x1*-0x1994+-0x1*0x3f8b),_0x40fa39['bindBuffer'](_0x40fa39['PIXEL_PACK'+'_BUFFER'],null),await _0x1322d7(0x97a+0xd9*0xf+0x12b*-0x13,0x1d40+-0x195*-0x8+-0x4*0xa75),_0x40fa39['bindBuffer'](_0x40fa39['PIXEL_PACK'+'_BUFFER'],_0x14582f),_0x40fa39['getBufferS'+'ubData'](_0x40fa39['PIXEL_PACK'+'_BUFFER'],0xd0d*0x1+-0xa67+-0x3*0xe2,_0x2344f5),_0x40fa39['bindBuffer'](_0x40fa39['PIXEL_PACK'+'_BUFFER'],null),_0x40fa39['deleteBuff'+'er'](_0x14582f),_0x2344f5;}['readTextur'+'eAsync'](_0x208a8c,_0x2226f1,_0x49055e,_0x1bef34,_0x19cec7,_0x2b5de4){const _0x25d470=_0x2b5de4['face']??-0x5*0x5b3+-0x1881+0x3500,_0x230a3e=_0x2b5de4['renderTarg'+'et']??new St({'colorBuffer':_0x208a8c,'depth':!(-0xc2e+0x621*-0x6+0x1*0x30f5),'face':_0x25d470});b['assert'](_0x230a3e['colorBuffe'+'r']===_0x208a8c);const _0x17cf11=new ArrayBuffer(Li['calcLevelG'+'puSize'](_0x1bef34,_0x19cec7,-0x8f*0xe+0x513+-0x16*-0x20,_0x208a8c['_format'])),_0x269869=_0x2b5de4['data']??new(My(_0x208a8c['_format']))(_0x17cf11);return this['setRenderT'+'arget'](_0x230a3e),this['initRender'+'Target'](_0x230a3e),new Promise((_0x3fa868,_0x5d49ed)=>{this['readPixels'+'Async'](_0x2226f1,_0x49055e,_0x1bef34,_0x19cec7,_0x269869)['then'](_0x267f16=>{_0x2b5de4['renderTarg'+'et']||_0x230a3e['destroy'](),_0x3fa868(_0x267f16);})['catch'](_0x5d49ed);});}['setAlphaTo'+'Coverage'](_0x51da4a){this['alphaToCov'+'erage']!==_0x51da4a&&(this['alphaToCov'+'erage']=_0x51da4a,_0x51da4a?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x20a7bb){if(this['transformF'+'eedbackBuf'+'fer']!==_0x20a7bb){this['transformF'+'eedbackBuf'+'fer']=_0x20a7bb;const _0x53f39a=this['gl'];_0x20a7bb?(this['feedback']||(this['feedback']=_0x53f39a['createTran'+'sformFeedb'+'ack']()),_0x53f39a['bindTransf'+'ormFeedbac'+'k'](_0x53f39a['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x53f39a['bindTransf'+'ormFeedbac'+'k'](_0x53f39a['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x291360){this['raster']!==_0x291360&&(this['raster']=_0x291360,_0x291360?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x3eeedc){if(this['stencil']!==_0x3eeedc){const _0x51fea2=this['gl'];_0x3eeedc?_0x51fea2['enable'](_0x51fea2['STENCIL_TE'+'ST']):_0x51fea2['disable'](_0x51fea2['STENCIL_TE'+'ST']),this['stencil']=_0x3eeedc;}}['setStencil'+'Func'](_0x5c3f35,_0x4c29a4,_0x57ab7c){(this['stencilFun'+'cFront']!==_0x5c3f35||this['stencilRef'+'Front']!==_0x4c29a4||this['stencilMas'+'kFront']!==_0x57ab7c||this['stencilFun'+'cBack']!==_0x5c3f35||this['stencilRef'+'Back']!==_0x4c29a4||this['stencilMas'+'kBack']!==_0x57ab7c)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x5c3f35],_0x4c29a4,_0x57ab7c),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x5c3f35,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x4c29a4,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x57ab7c);}['setStencil'+'FuncFront'](_0x1a609a,_0x5d0227,_0x4c3c77){if(this['stencilFun'+'cFront']!==_0x1a609a||this['stencilRef'+'Front']!==_0x5d0227||this['stencilMas'+'kFront']!==_0x4c3c77){const _0x36f232=this['gl'];_0x36f232['stencilFun'+'cSeparate'](_0x36f232['FRONT'],this['glComparis'+'on'][_0x1a609a],_0x5d0227,_0x4c3c77),this['stencilFun'+'cFront']=_0x1a609a,this['stencilRef'+'Front']=_0x5d0227,this['stencilMas'+'kFront']=_0x4c3c77;}}['setStencil'+'FuncBack'](_0x1b87c7,_0x5e1843,_0x31b8f6){if(this['stencilFun'+'cBack']!==_0x1b87c7||this['stencilRef'+'Back']!==_0x5e1843||this['stencilMas'+'kBack']!==_0x31b8f6){const _0x3e522a=this['gl'];_0x3e522a['stencilFun'+'cSeparate'](_0x3e522a['BACK'],this['glComparis'+'on'][_0x1b87c7],_0x5e1843,_0x31b8f6),this['stencilFun'+'cBack']=_0x1b87c7,this['stencilRef'+'Back']=_0x5e1843,this['stencilMas'+'kBack']=_0x31b8f6;}}['setStencil'+'Operation'](_0x2bcb72,_0x15988a,_0x326cb9,_0x2f0a96){(this['stencilFai'+'lFront']!==_0x2bcb72||this['stencilZfa'+'ilFront']!==_0x15988a||this['stencilZpa'+'ssFront']!==_0x326cb9||this['stencilFai'+'lBack']!==_0x2bcb72||this['stencilZfa'+'ilBack']!==_0x15988a||this['stencilZpa'+'ssBack']!==_0x326cb9)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x2bcb72],this['glStencilO'+'p'][_0x15988a],this['glStencilO'+'p'][_0x326cb9]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x2bcb72,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x15988a,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x326cb9),(this['stencilWri'+'teMaskFron'+'t']!==_0x2f0a96||this['stencilWri'+'teMaskBack']!==_0x2f0a96)&&(this['gl']['stencilMas'+'k'](_0x2f0a96),this['stencilWri'+'teMaskFron'+'t']=_0x2f0a96,this['stencilWri'+'teMaskBack']=_0x2f0a96);}['setStencil'+'OperationF'+'ront'](_0x2c7d10,_0x1a1644,_0x3513c0,_0xbd91b1){(this['stencilFai'+'lFront']!==_0x2c7d10||this['stencilZfa'+'ilFront']!==_0x1a1644||this['stencilZpa'+'ssFront']!==_0x3513c0)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x2c7d10],this['glStencilO'+'p'][_0x1a1644],this['glStencilO'+'p'][_0x3513c0]),this['stencilFai'+'lFront']=_0x2c7d10,this['stencilZfa'+'ilFront']=_0x1a1644,this['stencilZpa'+'ssFront']=_0x3513c0),this['stencilWri'+'teMaskFron'+'t']!==_0xbd91b1&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0xbd91b1),this['stencilWri'+'teMaskFron'+'t']=_0xbd91b1);}['setStencil'+'OperationB'+'ack'](_0x4142d2,_0x168b8a,_0x401f9f,_0x2e10f6){(this['stencilFai'+'lBack']!==_0x4142d2||this['stencilZfa'+'ilBack']!==_0x168b8a||this['stencilZpa'+'ssBack']!==_0x401f9f)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x4142d2],this['glStencilO'+'p'][_0x168b8a],this['glStencilO'+'p'][_0x401f9f]),this['stencilFai'+'lBack']=_0x4142d2,this['stencilZfa'+'ilBack']=_0x168b8a,this['stencilZpa'+'ssBack']=_0x401f9f),this['stencilWri'+'teMaskBack']!==_0x2e10f6&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x2e10f6),this['stencilWri'+'teMaskBack']=_0x2e10f6);}['setBlendSt'+'ate'](_0x26f8e7){const _0x32c550=this['blendState'];if(!_0x32c550['equals'](_0x26f8e7)){const _0x44ff34=this['gl'],{blend:_0x5f4812,colorOp:_0x1e71cd,alphaOp:_0x2541f1,colorSrcFactor:_0xddec6a,colorDstFactor:_0x42d5f2,alphaSrcFactor:_0x8671e7,alphaDstFactor:_0x13624c}=_0x26f8e7;if(_0x32c550['blend']!==_0x5f4812&&(_0x5f4812?_0x44ff34['enable'](_0x44ff34['BLEND']):_0x44ff34['disable'](_0x44ff34['BLEND'])),_0x32c550['colorOp']!==_0x1e71cd||_0x32c550['alphaOp']!==_0x2541f1){const _0x16f3f4=this['glBlendEqu'+'ation'];_0x44ff34['blendEquat'+'ionSeparat'+'e'](_0x16f3f4[_0x1e71cd],_0x16f3f4[_0x2541f1]);}(_0x32c550['colorSrcFa'+'ctor']!==_0xddec6a||_0x32c550['colorDstFa'+'ctor']!==_0x42d5f2||_0x32c550['alphaSrcFa'+'ctor']!==_0x8671e7||_0x32c550['alphaDstFa'+'ctor']!==_0x13624c)&&_0x44ff34['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0xddec6a],this['glBlendFun'+'ctionColor'][_0x42d5f2],this['glBlendFun'+'ctionAlpha'][_0x8671e7],this['glBlendFun'+'ctionAlpha'][_0x13624c]),_0x32c550['allWrite']!==_0x26f8e7['allWrite']&&this['gl']['colorMask'](_0x26f8e7['redWrite'],_0x26f8e7['greenWrite'],_0x26f8e7['blueWrite'],_0x26f8e7['alphaWrite']),_0x32c550['copy'](_0x26f8e7);}}['setBlendCo'+'lor'](_0xa8ac42,_0x840f6e,_0x119f0f,_0x10a934){const _0x385c14=this['blendColor'];(_0xa8ac42!==_0x385c14['r']||_0x840f6e!==_0x385c14['g']||_0x119f0f!==_0x385c14['b']||_0x10a934!==_0x385c14['a'])&&(this['gl']['blendColor'](_0xa8ac42,_0x840f6e,_0x119f0f,_0x10a934),_0x385c14['set'](_0xa8ac42,_0x840f6e,_0x119f0f,_0x10a934));}['setStencil'+'State'](_0x4bbe97,_0x2084fd){_0x4bbe97||_0x2084fd?(this['setStencil'+'Test'](!(0x4c5*-0x1+0x95*-0x36+0x2433)),_0x4bbe97===_0x2084fd?(this['setStencil'+'Func'](_0x4bbe97['func'],_0x4bbe97['ref'],_0x4bbe97['readMask']),this['setStencil'+'Operation'](_0x4bbe97['fail'],_0x4bbe97['zfail'],_0x4bbe97['zpass'],_0x4bbe97['writeMask'])):(_0x4bbe97??(_0x4bbe97=Zs['DEFAULT']),this['setStencil'+'FuncFront'](_0x4bbe97['func'],_0x4bbe97['ref'],_0x4bbe97['readMask']),this['setStencil'+'OperationF'+'ront'](_0x4bbe97['fail'],_0x4bbe97['zfail'],_0x4bbe97['zpass'],_0x4bbe97['writeMask']),_0x2084fd??(_0x2084fd=Zs['DEFAULT']),this['setStencil'+'FuncBack'](_0x2084fd['func'],_0x2084fd['ref'],_0x2084fd['readMask']),this['setStencil'+'OperationB'+'ack'](_0x2084fd['fail'],_0x2084fd['zfail'],_0x2084fd['zpass'],_0x2084fd['writeMask']))):this['setStencil'+'Test'](!(0x20f3*-0x1+0x3e1+0x1d13));}['setDepthSt'+'ate'](_0x169cfa){const _0x1c8be6=this['depthState'];if(!_0x1c8be6['equals'](_0x169cfa)){const _0x5ab87f=this['gl'],_0x4a8b4e=_0x169cfa['write'];_0x1c8be6['write']!==_0x4a8b4e&&_0x5ab87f['depthMask'](_0x4a8b4e);let {func:_0x220ea7,test:_0x3402e7}=_0x169cfa;!_0x3402e7&&_0x4a8b4e&&(_0x3402e7=!(-0x26b+-0x1*0x184d+0x1ab8),_0x220ea7=Ri),_0x1c8be6['func']!==_0x220ea7&&_0x5ab87f['depthFunc'](this['glComparis'+'on'][_0x220ea7]),_0x1c8be6['test']!==_0x3402e7&&(_0x3402e7?_0x5ab87f['enable'](_0x5ab87f['DEPTH_TEST']):_0x5ab87f['disable'](_0x5ab87f['DEPTH_TEST']));const {depthBias:_0x1bceb7,depthBiasSlope:_0x4567f8}=_0x169cfa;_0x1bceb7||_0x4567f8?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x94f*-0x3+0x10ed*0x1+-0x2*0x166d),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5ab87f['polygonOff'+'set'](_0x4567f8,_0x1bceb7)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x1ad*-0x3+-0x2400+0x2908),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x1c8be6['copy'](_0x169cfa);}}['setCullMod'+'e'](_0x16e23b){if(this['cullMode']!==_0x16e23b){if(_0x16e23b===vt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===vt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x49dba6=this['glCull'][_0x16e23b];this['cullFace']!==_0x49dba6&&(this['gl']['cullFace'](_0x49dba6),this['cullFace']=_0x49dba6);}this['cullMode']=_0x16e23b;}}['setShader'](_0x38fd5c,_0x1f16de=!(-0x255e+-0xa13+0x2f72*0x1)){_0x38fd5c!==this['shader']&&(this['shader']=_0x38fd5c,this['shaderAsyn'+'cCompile']=_0x1f16de,this['shaderVali'+'d']=void(0xe59+0x7e2+-0x163b),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](_0x3eb5ab){const {shader:_0xa468cf}=this,{impl:_0x2b3ff3}=_0xa468cf;this['shaderVali'+'d']===void(-0xa85+0x8*-0x355+-0x1f*-0x133)&&(_0xa468cf['failed']?this['shaderVali'+'d']=!(-0xf21*-0x2+-0x2201+0x3c0):_0xa468cf['ready']||(this['shaderAsyn'+'cCompile']?_0x2b3ff3['isLinked'](_0x3eb5ab)?_0x2b3ff3['finalize'](this,_0xa468cf)||(_0xa468cf['failed']=!(0xf0+0x4*-0x820+0x1f90),this['shaderVali'+'d']=!(-0x1723+0x2101+-0x19*0x65)):this['shaderVali'+'d']=!(0x9*-0x3f3+-0x1eb6+0x6*0xb0b):_0x2b3ff3['finalize'](this,_0xa468cf)||(_0xa468cf['failed']=!(-0x2dd+0x16bf+-0x13e2),this['shaderVali'+'d']=!(-0x2078+-0xa1f*-0x1+-0xb2d*-0x2)))),this['shaderVali'+'d']===void(-0x79*0x38+-0x3f5*-0x2+0x128e)&&(this['gl']['useProgram'](_0x2b3ff3['glProgram']),this['shaderVali'+'d']=!(0x1*0x2072+-0x2092+0x10*0x2));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x5c5f01=this['gl'];this['_vaoMap']['forEach']((_0x201995,_0x31c965,_0x3e40b4)=>{_0x5c5f01['deleteVert'+'exArray'](_0x201995);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x4af949){_0x4af949?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x30f2e0=-0x66*-0x58+0x18d0*0x1+-0x3b7c){const _0x38c27f=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x38c27f['loseContex'+'t'](),setTimeout(()=>_0x38c27f['restoreCon'+'text'](),_0x30f2e0);}}let mb=-0x1e39+0xe3*0xf+0x10ec;class cr{constructor(_0x35277a,_0x5dcd98,_0x19ce94,_0x5e8bc9=ts,_0x2556de,_0x540486){this['device']=_0x35277a,this['format']=_0x5dcd98,this['numIndices']=_0x19ce94,this['usage']=_0x5e8bc9,this['id']=mb++,this['impl']=_0x35277a['createInde'+'xBufferImp'+'l'](this,_0x540486);const _0x4fdc12=vv[_0x5dcd98];this['bytesPerIn'+'dex']=_0x4fdc12,this['numBytes']=this['numIndices']*_0x4fdc12,_0x2556de?this['setData'](_0x2556de):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x35277a['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x4d47a5=this['device'],_0x4a070b=_0x4d47a5['buffers']['indexOf'](this);_0x4a070b!==-(-0x1909+0xee4+-0x1*-0xa26)&&_0x4d47a5['buffers']['splice'](_0x4a070b,0x4*0x742+-0x1a44*0x1+-0x1*0x2c3),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x4d47a5),this['adjustVram'+'SizeTracki'+'ng'](_0x4d47a5['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x574027,_0x50644a){b['trace'](Qx,this['id']+'\x20size:\x20'+_0x50644a+'\x20vram.ib:\x20'+_0x574027['ib']+'\x20=>\x20'+(_0x574027['ib']+_0x50644a)),_0x574027['ib']+=_0x50644a;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x310c39){return _0x310c39['byteLength']!==this['numBytes']?(b['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x310c39['byteLength']),!(0xc2f*0x1+0x2eb+0x305*-0x5)):(this['storage']=_0x310c39,this['unlock'](),!(0x1c1c+0xe2*0x1+-0x1cfe));}['_lockTyped'+'Array'](){const _0x5a2b9e=this['lock']();return this['format']===or?new Uint32Array(_0x5a2b9e):this['format']===Fi?new Uint16Array(_0x5a2b9e):new Uint8Array(_0x5a2b9e);}['writeData'](_0x2a0998,_0x1d2104){const _0x49f110=this['_lockTyped'+'Array']();if(_0x2a0998['length']>_0x1d2104){if(ArrayBuffer['isView'](_0x2a0998))_0x2a0998=_0x2a0998['subarray'](-0x4*-0x626+-0x1a96+-0xa*-0x33,_0x1d2104),_0x49f110['set'](_0x2a0998);else{for(let _0x1302d4=-0xd07+-0x617*-0x5+0x5*-0x37c;_0x1302d4<_0x1d2104;_0x1302d4++)_0x49f110[_0x1302d4]=_0x2a0998[_0x1302d4];}}else _0x49f110['set'](_0x2a0998);this['unlock']();}['readData'](_0x55b218){const _0x58c0c8=this['_lockTyped'+'Array'](),_0x4266f4=this['numIndices'];if(ArrayBuffer['isView'](_0x55b218))_0x55b218['set'](_0x58c0c8);else{_0x55b218['length']=-0x1ab*-0x17+-0x22c6+-0x397*0x1;for(let _0x5cc563=0x12c*0x4+-0x2257+0x1da7*0x1;_0x5cc563<_0x4266f4;_0x5cc563++)_0x55b218[_0x5cc563]=_0x58c0c8[_0x5cc563];}return _0x4266f4;}}class _b{constructor(){c(this,'clearValue',new Y(-0x1145*-0x1+0xfe9+-0x212e,0x1006+-0x1e5*-0xf+-0x2c71,-0x1d1e+0x19c1+0x35d*0x1,0x6fd+-0x1*0xa3d+0x7*0x77)),c(this,'clearValue'+'Linear',new Y(-0x1*0x90+0x1927+-0x1897*0x1,0x1877+-0x1b43*0x1+0x2cc,-0x2f*-0x3e+0x65c+0x2*-0x8df,0x17b0+0x2e2+0x3*-0x8db)),c(this,'clear',!(-0x1129*-0x1+-0x891+-0x3*0x2dd)),c(this,'store',!(-0x1d33+0x1d62*0x1+-0x2e)),c(this,'resolve',!(0x43*-0x38+-0x1abb+0x2963)),c(this,'genMipmaps',!(0x2054+0x20bd+0x1*-0x4110));}}class gb{constructor(){c(this,'clearDepth'+'Value',-0x16*0x18a+0x26e6+0x509*-0x1),c(this,'clearStenc'+'ilValue',-0x80*-0x20+-0x5ce+-0xa32),c(this,'clearDepth',!(-0x1bc4+0x5b*-0x4d+-0x3724*-0x1)),c(this,'clearStenc'+'il',!(-0x160*-0x11+0xbb1*-0x3+-0x4*-0x2ed)),c(this,'storeDepth',!(-0x377*-0x1+-0x1*-0xf7b+-0x12f1)),c(this,'resolveDep'+'th',!(0xac5*-0x1+0xb*-0x119+-0x16d9*-0x1)),c(this,'storeStenc'+'il',!(-0x2377*0x1+-0x41e*-0x4+0x1300));}}class gs{constructor(_0x4b3e3f){c(this,'_name'),c(this,'device'),c(this,'_enabled',!(-0x5*-0x469+-0x571*0x1+-0x84e*0x2)),c(this,'_skipStart',!(-0x232b+0x2a1*-0x6+0x1979*0x2)),c(this,'_skipEnd',!(-0x569*-0x5+-0x11e1*0x1+0x92b*-0x1)),c(this,'executeEna'+'bled',!(-0x13*-0x1b7+-0x2*-0x9a3+-0x33db)),c(this,'renderTarg'+'et'),c(this,'_options'),c(this,'samples',-0x1d10+-0x1d8b+0x3*0x1389),c(this,'colorArray'+'Ops',[]),c(this,'depthStenc'+'ilOps'),c(this,'requiresCu'+'bemaps',!(-0x16bf+-0x198c+0x13d*0x27)),c(this,'fullSizeCl'+'earRect',!(0x175f+0x10*-0x1de+0x681)),c(this,'beforePass'+'es',[]),c(this,'afterPasse'+'s',[]),(b['assert'](_0x4b3e3f),this['device']=_0x4b3e3f);}get['colorOps'](){return this['colorArray'+'Ops'][0x2221+0x15*-0x9b+-0x2*0xab5];}set['name'](_0x3f15e8){this['_name']=_0x3f15e8;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x7a2f9e){b['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x7a2f9e;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x3c839d){b['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x3c839d;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x4b63cb){this['_options']=_0x4b63cb,_0x4b63cb&&(this['scaleX']=this['scaleX']??0x6f2+-0x1904+-0x295*-0x7,this['scaleY']=this['scaleY']??-0x854*0x2+-0x24fe+0x35a7);}get['options'](){return this['_options'];}['init'](_0x3fd27a=null,_0x74b48e){this['options']=_0x74b48e,this['renderTarg'+'et']=_0x3fd27a,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x83*-0x4a+-0x45*-0x15+0x2036),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x38d1aa,_0x57703f,_0x36092a,_0x423d4c;const _0x59610d=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new gb(),_0x59610d!=null&&_0x59610d['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0xca*-0x12+0x166e+0x9*-0x412));const _0x22fcb7=_0x59610d?((_0x38d1aa=_0x59610d['_colorBuff'+'ers'])==null?void(-0x1fc6+-0x2e9*0x7+0x3425):_0x38d1aa['length'])??-0xf49+-0x75a*-0x1+0x7ef*0x1:-0x1f1f+0xe84+0x1*0x109c;this['colorArray'+'Ops']['length']=0xaf*-0x38+0x1*-0x1307+-0x11*-0x35f;for(let _0x26927d=0x511*-0x6+0x1d9f+0xc7;_0x26927d<_0x22fcb7;_0x26927d++){const _0x56dbe6=new _b();this['colorArray'+'Ops'][_0x26927d]=_0x56dbe6,this['samples']===0x11ed*-0x1+-0x1*0x1279+0x2467&&(_0x56dbe6['store']=!(-0x5*0x2a2+0x263f+0x1*-0x1915),_0x56dbe6['resolve']=!(0xd*0x21+0x13ec+-0x1598));const _0x183c90=(_0x36092a=(_0x57703f=this['renderTarg'+'et'])==null?void(-0x14*-0x10b+0xfeb+-0x1*0x24c7):_0x57703f['_colorBuff'+'ers'])==null?void(0x6a+-0x1258+0x2d*0x66):_0x36092a[_0x26927d];if((_0x423d4c=this['renderTarg'+'et'])!=null&&_0x423d4c['mipmaps']&&(_0x183c90!=null&&_0x183c90['mipmaps'])){const _0x6587bc=sa(_0x183c90['_format']);_0x56dbe6['genMipmaps']=!_0x6587bc;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x20bf58=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x4ea8b4=Math['floor'](_0x20bf58['width']*this['scaleX']),_0x49ca28=Math['floor'](_0x20bf58['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x4ea8b4,_0x49ca28);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x4d0a5e){this['_enabled']!==_0x4d0a5e&&(this['_enabled']=_0x4d0a5e,_0x4d0a5e?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x1aa2a6){const _0x7175a7=this['colorArray'+'Ops']['length'];for(let _0x25a73d=-0x26e+0x2421*-0x1+0x268f;_0x25a73d<_0x7175a7;_0x25a73d++){const _0x223fa7=this['colorArray'+'Ops'][_0x25a73d];_0x1aa2a6&&(_0x223fa7['clearValue']['copy'](_0x1aa2a6),_0x223fa7['clearValue'+'Linear']['linear'](_0x1aa2a6)),_0x223fa7['clear']=!!_0x1aa2a6;}}['setClearDe'+'pth'](_0x52c947){_0x52c947&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x52c947),this['depthStenc'+'ilOps']['clearDepth']=_0x52c947!==void(0x8*-0x72+0x1*-0x13b4+0x1744);}['setClearSt'+'encil'](_0xc9d88a){_0xc9d88a&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0xc9d88a),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0xc9d88a!==void(-0x48e+0x7*0x25c+-0xbf6);}['render'](){if(this['enabled']){const _0x4a07a5=this['device'],_0x597d4d=this['renderTarg'+'et']!==void(0x1*0x79a+-0xabc+0x322);b['call'](()=>{this['log'](_0x4a07a5,_0x4a07a5['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x597d4d&&!this['_skipStart']&&_0x4a07a5['startRende'+'rPass'](this),this['execute'](),_0x597d4d&&!this['_skipEnd']&&_0x4a07a5['endRenderP'+'ass'](this)),this['after'](),_0x4a07a5['renderPass'+'Index']++;}}['log'](_0x33f82a,_0x219e3f=0x130c*0x2+0x840+-0x2e58){var _0x230115,_0x3e738f,_0x103b05;if(Qs['get'](Yp)||Qs['get'](ta)){const _0xbb1b6f=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x33f82a['backBuffer']:null),_0x2d029c=!!(_0xbb1b6f!=null&&_0xbb1b6f['impl']['assignedCo'+'lorTexture'])||(_0xbb1b6f==null?void(0x17d8+0x181d+-0x1*0x2ff5):_0xbb1b6f['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x956+-0x1e55+0x27ab),_0x32a818=((_0x230115=_0xbb1b6f==null?void(0x199*-0x1+-0x18e4+0x1a7d*0x1):_0xbb1b6f['_colorBuff'+'ers'])==null?void(0x1*0x278+0x29d*-0x2+0x2*0x161):_0x230115['length'])??(_0x2d029c?0x7a0+-0x1299*-0x2+-0x413*0xb:-0x3e*0x1d+-0x3b*0x59+0x173*0x13),_0xffa1ee=_0xbb1b6f==null?void(-0x2289+0x1*0x138c+-0x3*-0x4ff):_0xbb1b6f['depth'],_0x3c621b=_0xbb1b6f==null?void(0x5*0x4ed+-0x212c+0x88b):_0xbb1b6f['stencil'],_0x8c91ca=_0xbb1b6f==null?void(0x21b5+-0x1374+-0x29*0x59):_0xbb1b6f['mipLevel'],_0x12ca2c=_0xbb1b6f?'\x20RT:\x20'+(_0xbb1b6f?_0xbb1b6f['name']:'NULL')+'\x20'+(_0x32a818>-0x371*0xb+0xe89+0x1752?'[Color'+(_0x32a818>-0xaa1*0x1+-0xb*-0x283+-0x10ff?'\x20x\x20'+_0x32a818:'')+']':'')+(_0xffa1ee?'[Depth]':'')+(_0x3c621b?'[Stencil]':'')+'\x20'+_0xbb1b6f['width']+'\x20x\x20'+_0xbb1b6f['height']+(this['samples']>0x1dd8+-0xe53*-0x1+-0x2c2b?'\x20samples:\x20'+this['samples']:'')+(_0x8c91ca>0x72c*0x5+0x34f+-0x272b?'\x20mipLevel:'+'\x20'+_0x8c91ca:''):'',_0x114de3=this['_skipStart']?'++':_0x219e3f['toString']()['padEnd'](0xf6a+0x1d*-0x7f+0x1d*-0x9,'\x20');b['trace'](Yp,_0x114de3+':\x20'+this['name']['padEnd'](0xf13+-0x94*-0x13+-0x19fb,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x12ca2c['padEnd'](-0x38*0x3f+-0x2dc+0x4e*0x37));for(let _0x275ee4=0x82e+0x17*-0x2f+0x1*-0x3f5;_0x275ee4<_0x32a818;_0x275ee4++){const _0x432d88=this['colorArray'+'Ops'][_0x275ee4],_0x5814e5=(_0x3e738f=At['get'](_0x2d029c?_0x33f82a['backBuffer'+'Format']:_0xbb1b6f['getColorBu'+'ffer'](_0x275ee4)['format']))==null?void(0xbbd*-0x1+0x5c*-0x2c+0x1*0x1b8d):_0x3e738f['name'];b['trace'](ta,'\x20\x20\x20\x20color['+_0x275ee4+']:\x20'+(_0x432d88['clear']?'clear':'load')+'->'+(_0x432d88['store']?'store':'discard')+'\x20'+(_0x432d88['resolve']?'resolve\x20':'')+(_0x432d88['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x5814e5+']\x20'+(_0x432d88['clear']?'[clear:\x20'+_0x432d88['clearValue']['toString'](!(0x1ae3*0x1+-0xa7*-0x2+-0x1*0x1c31),!(-0x232*-0xf+0x768+-0x6b9*0x6))+']':''));}if(this['depthStenc'+'ilOps']){const _0x14cb8e=''+(_0xbb1b6f['depthBuffe'+'r']?'\x20[format:\x20'+((_0x103b05=At['get'](_0xbb1b6f['depthBuffe'+'r']['format']))==null?void(0x1*0x267a+-0x21*-0x58+-0x31d2):_0x103b05['name'])+']':'');_0xffa1ee&&b['trace'](ta,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x14cb8e+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x3c621b&&b['trace'](ta,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x14cb8e+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function yb(_0x281b4c){this['array'][this['index']]=_0x281b4c;}function xb(_0x300c3b,_0x5654d7){this['array'][this['index']]=_0x300c3b,this['array'][this['index']+(-0x1*-0x137c+-0x7fd+-0xb7e)]=_0x5654d7;}function Sb(_0x463f85,_0x196c32,_0x44aaf1){this['array'][this['index']]=_0x463f85,this['array'][this['index']+(-0xaef*0x3+-0x1402+-0x69a*-0x8)]=_0x196c32,this['array'][this['index']+(-0x2d5+-0x3f*0x49+0x14ce)]=_0x44aaf1;}function vb(_0x21db6c,_0x16e360,_0x32f829,_0xcdd051){this['array'][this['index']]=_0x21db6c,this['array'][this['index']+(-0x840+0xe5d+-0x61c)]=_0x16e360,this['array'][this['index']+(-0x61*-0x11+-0x17f7+-0x2*-0x8c4)]=_0x32f829,this['array'][this['index']+(-0x1f7a+-0x19*-0x1b+0x2*0xe6d)]=_0xcdd051;}function bb(_0x484d93,_0x3d4420,_0x36230b){this['array'][_0x484d93]=_0x3d4420[_0x36230b];}function wb(_0x1ecb8a,_0x2a60cf,_0x2686ec){this['array'][_0x1ecb8a]=_0x2a60cf[_0x2686ec],this['array'][_0x1ecb8a+(0x4*0x96d+-0x3a*-0x37+0x1*-0x3229)]=_0x2a60cf[_0x2686ec+(0x80e*0x2+-0x26b6+0x789*0x3)];}function Tb(_0x895efc,_0x44be9e,_0x591959){this['array'][_0x895efc]=_0x44be9e[_0x591959],this['array'][_0x895efc+(-0x1304+0xb*0x201+0x12*-0x2b)]=_0x44be9e[_0x591959+(0x12fa*0x1+-0x3*-0x1cf+0x1866*-0x1)],this['array'][_0x895efc+(-0x57*-0x2+-0x1*-0x21bd+-0x17f*0x17)]=_0x44be9e[_0x591959+(0xeae+-0x3ba+-0xaf2)];}function Ab(_0x416bfa,_0x3fbc70,_0x10351f){this['array'][_0x416bfa]=_0x3fbc70[_0x10351f],this['array'][_0x416bfa+(0x11d9+0x1f3a+-0xb*0x476)]=_0x3fbc70[_0x10351f+(-0x2372+0x1ebc+-0x1*-0x4b7)],this['array'][_0x416bfa+(0x1*-0x142f+-0x86+0x14b7)]=_0x3fbc70[_0x10351f+(-0x2f3+0x1afa+0x1805*-0x1)],this['array'][_0x416bfa+(-0x9a3+0x1f7*0x1+0x7af)]=_0x3fbc70[_0x10351f+(-0x67*0x5+0x38a+-0x184)];}function Eb(_0x357d3d,_0x519f0a,_0x3f8d18){_0x519f0a[_0x3f8d18]=this['array'][_0x357d3d];}function Cb(_0x15eba5,_0x4998ed,_0x760c57){_0x4998ed[_0x760c57]=this['array'][_0x15eba5],_0x4998ed[_0x760c57+(-0x1391+-0x1019+0x23ab*0x1)]=this['array'][_0x15eba5+(-0x1*-0x2d4+-0x1f23+0x1c50)];}function Mb(_0x1e2489,_0x18a5ad,_0x38ca64){_0x18a5ad[_0x38ca64]=this['array'][_0x1e2489],_0x18a5ad[_0x38ca64+(0x2681*0x1+-0x1672+-0x100e)]=this['array'][_0x1e2489+(0x27a*0x4+-0x1*-0x25ae+-0x2f95)],_0x18a5ad[_0x38ca64+(-0x10*-0x109+0x1*0x1697+-0x2725)]=this['array'][_0x1e2489+(-0x1baf+0xa52*-0x3+0x3aa7)];}function Pb(_0x55a352,_0x48e6af,_0x38d17c){_0x48e6af[_0x38d17c]=this['array'][_0x55a352],_0x48e6af[_0x38d17c+(0x15d2+-0x1*-0x15c1+0x3f6*-0xb)]=this['array'][_0x55a352+(0x228e+-0xd71+-0x1c*0xc1)],_0x48e6af[_0x38d17c+(-0x400*-0x8+-0x7*-0xf1+-0x2695)]=this['array'][_0x55a352+(-0x7*-0x4e7+-0x425*0x4+-0x11bb)],_0x48e6af[_0x38d17c+(0x1*-0xa2+0xfa6+-0xa7*0x17)]=this['array'][_0x55a352+(-0x2384+0x1291+0x10f6)];}class Rb{constructor(_0x151935,_0x15c297,_0x254c51){switch(this['index']=0xa5a+0xf59+0x19b3*-0x1,this['numCompone'+'nts']=_0x15c297['numCompone'+'nts'],_0x254c51['interleave'+'d']?this['array']=new fa[_0x15c297['dataType']](_0x151935,_0x15c297['offset']):this['array']=new fa[_0x15c297['dataType']](_0x151935,_0x15c297['offset'],_0x254c51['vertexCoun'+'t']*_0x15c297['numCompone'+'nts']),this['stride']=_0x15c297['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x15c297['numCompone'+'nts']){case 0x1*0x12c4+0x1*-0x1f99+0xcd6*0x1:this['set']=yb,this['getToArray']=Eb,this['setFromArr'+'ay']=bb;break;case-0x24db+-0x3*0x450+0x31cd:this['set']=xb,this['getToArray']=Cb,this['setFromArr'+'ay']=wb;break;case-0xf99+-0xa52+-0x1*-0x19ee:this['set']=Sb,this['getToArray']=Mb,this['setFromArr'+'ay']=Tb;break;case 0x3c*-0x3+-0x44*0x53+0x16c4:this['set']=vb,this['getToArray']=Pb,this['setFromArr'+'ay']=Ab;break;}}['get'](_0x2bd0d7){return this['array'][this['index']+_0x2bd0d7];}['set'](_0x40c5b3,_0x2d15da,_0x2e79d7,_0x5c81da){}['getToArray'](_0x4deed0,_0xcb0e3f,_0xc0c758){}['setFromArr'+'ay'](_0x4feadc,_0x521910,_0x5eb6c1){}}class vo{constructor(_0x4ddc10){this['vertexBuff'+'er']=_0x4ddc10,this['vertexForm'+'atSize']=_0x4ddc10['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x551ea0=this['vertexBuff'+'er']['getFormat']();for(let _0x5666f8=-0x22af*0x1+-0x1953+0x3c02;_0x5666f8<_0x551ea0['elements']['length'];_0x5666f8++){const _0x6fe035=_0x551ea0['elements'][_0x5666f8];this['accessors'][_0x5666f8]=new Rb(this['buffer'],_0x6fe035,_0x551ea0),this['element'][_0x6fe035['name']]=this['accessors'][_0x5666f8];}}['next'](_0x25d731=0x168c+0x1*-0x4a+-0x1641){let _0x3f53cb=0x303*0x3+0x1aa6+0x3*-0xbe5;const _0x5824a6=this['accessors'],_0x2c0ca5=this['accessors']['length'];for(;_0x3f53cb<_0x2c0ca5;){const _0x1361f7=_0x5824a6[_0x3f53cb++];_0x1361f7['index']+=_0x25d731*_0x1361f7['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x4cb1a4,_0x257d37,_0x43444e){const _0x136a6f=this['element'][_0x4cb1a4];if(_0x136a6f){_0x43444e>this['vertexBuff'+'er']['numVertice'+'s']&&(b['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x43444e+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x43444e=this['vertexBuff'+'er']['numVertice'+'s']);const _0x5126f4=_0x136a6f['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x2f4d49=-0x1*-0x1a00+-0x2*0xb6f+0x1*-0x322;for(let _0x4124a0=-0x46*-0x5f+0x2e*0x9d+-0x8*0x6c6;_0x4124a0<_0x43444e;_0x4124a0++)_0x136a6f['setFromArr'+'ay'](_0x2f4d49,_0x257d37,_0x4124a0*_0x5126f4),_0x2f4d49+=_0x136a6f['stride'];}else{if(_0x257d37['length']>_0x43444e*_0x5126f4){const _0x22e363=_0x43444e*_0x5126f4;if(ArrayBuffer['isView'](_0x257d37))_0x257d37=_0x257d37['subarray'](0x1288+-0x102b*-0x2+-0x2*0x196f,_0x22e363),_0x136a6f['array']['set'](_0x257d37);else{for(let _0xc3b07f=0x256c+0x1db4+-0x4320;_0xc3b07f<_0x22e363;_0xc3b07f++)_0x136a6f['array'][_0xc3b07f]=_0x257d37[_0xc3b07f];}}else _0x136a6f['array']['set'](_0x257d37);}}}['readData'](_0xb77592,_0x135e30){const _0x409dda=this['element'][_0xb77592];let _0x40c02b=-0x2*0x6d9+0xb15*0x2+-0x1*0x878;if(_0x409dda){_0x40c02b=this['vertexBuff'+'er']['numVertice'+'s'];let _0x128ca1;const _0x47280a=_0x409dda['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x135e30)&&(_0x135e30['length']=0x14b2+0x939*-0x1+-0xb79),_0x409dda['index']=-0x5b*-0x6d+-0x1bf5+0xaca*-0x1;let _0x32b669=0x5b2+0x1226+-0x38*0x6d;for(_0x128ca1=-0x136*-0x20+0xa*-0x166+-0x27a*0xa;_0x128ca1<_0x40c02b;_0x128ca1++)_0x409dda['getToArray'](_0x32b669,_0x135e30,_0x128ca1*_0x47280a),_0x32b669+=_0x409dda['stride'];}else{if(ArrayBuffer['isView'](_0x135e30))_0x135e30['set'](_0x409dda['array']);else{_0x135e30['length']=0x23da+-0x20e3*0x1+-0x2f7;const _0x47dbdf=_0x40c02b*_0x47280a;for(_0x128ca1=0x222a+-0x2*0x21d+-0x1df0;_0x128ca1<_0x47dbdf;_0x128ca1++)_0x135e30[_0x128ca1]=_0x409dda['array'][_0x128ca1];}}}return _0x40c02b;}}const Dm='mousedown',Lm='mousemove',Fm='mouseup',Du='mousewheel',Ib=-(0x1d29+-0x16b7+-0x671);class Db{constructor(_0x21106b,_0x4e75d9){c(this,'key',null),c(this,'element',null),c(this,'event',null),_0x4e75d9&&(this['key']=_0x4e75d9['keyCode'],this['element']=_0x4e75d9['target'],this['event']=_0x4e75d9);}}const Al=new Db();function gd(_0xd8781c){return Al['key']=_0xd8781c['keyCode'],Al['element']=_0xd8781c['target'],Al['event']=_0xd8781c,Al;}function El(_0x484780){return typeof _0x484780=='string'?_0x484780['toUpperCas'+'e']()['charCodeAt'](-0x9fd+0x8*0x2bf+-0x1*0xbfb):_0x484780;}const Lb={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class km extends de{constructor(_0x548eca,_0x34f3a6={}){super(),c(this,'_element',null),c(this,'_keymap',{}),c(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x548eca&&this['attach'](_0x548eca),this['preventDef'+'ault']=_0x34f3a6['preventDef'+'ault']||!(0x870+0x5*0x156+-0x49*0x35),this['stopPropag'+'ation']=_0x34f3a6['stopPropag'+'ation']||!(0xaf*0x24+-0x1d23+0x122*0x4));}['attach'](_0x1e2350){this['_element']&&this['detach'](),this['_element']=_0x1e2350,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x2a9+0x21a2+0x2*-0x1225)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(0x13dc+-0x1*0x25bf+-0x4*-0x479)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0xcf7*0x2+0x1*0x1a96+-0xa7)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x787+-0x1*-0x91d+-0x1*0x10a3)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x1be9*-0x1+-0x1e6*0x3+0xb34*0x3));}['detach'](){if(!this['_element']){b['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x339*-0x6+-0xae6+-0x86f)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(0x1*-0x120e+-0xa3*-0x17+0x36a));}['toKeyIdent'+'ifier'](_0x5b51cb){_0x5b51cb=El(_0x5b51cb);const _0x1b970e=Lb[_0x5b51cb['toString']()];if(_0x1b970e)return _0x1b970e;let _0x3296af=_0x5b51cb['toString'](0x1*-0x1db8+0x815+0x15b3)['toUpperCas'+'e']();const _0x33e803=_0x3296af['length'];for(let _0x5531a5=-0x1fed+-0xd2b*0x2+-0x13*-0x311;_0x5531a5<-0x206b*0x1+0x10*0x266+-0x1*0x5f1-_0x33e803;_0x5531a5++)_0x3296af='0'+_0x3296af;return'U+'+_0x3296af;}['_handleKey'+'Down'](_0x36c67b){const _0x1b4bcc=_0x36c67b['keyCode']||_0x36c67b['charCode'];if(_0x1b4bcc===void(-0x73e+0x2*0x7a0+-0x19a*0x5))return;const _0x55d5af=this['toKeyIdent'+'ifier'](_0x1b4bcc);this['_keymap'][_0x55d5af]=!(-0x1323+-0x7e+0xc9*0x19),this['fire']('keydown',gd(_0x36c67b)),this['preventDef'+'ault']&&_0x36c67b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x36c67b['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x52532f){const _0x4394db=_0x52532f['keyCode']||_0x52532f['charCode'];if(_0x4394db===void(-0x20fd+-0xc73*-0x2+0x817))return;const _0x368d40=this['toKeyIdent'+'ifier'](_0x4394db);delete this['_keymap'][_0x368d40],this['fire']('keyup',gd(_0x52532f)),this['preventDef'+'ault']&&_0x52532f['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x52532f['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x259b9d){this['fire']('keypress',gd(_0x259b9d)),this['preventDef'+'ault']&&_0x259b9d['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x259b9d['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x4e5007 in this['_lastmap'])delete this['_lastmap'][_0x4e5007];for(const _0x2a005d in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x2a005d)&&(this['_lastmap'][_0x2a005d]=this['_keymap'][_0x2a005d]);}['isPressed'](_0x5ad396){const _0x388f54=El(_0x5ad396),_0x4ac19e=this['toKeyIdent'+'ifier'](_0x388f54);return!!this['_keymap'][_0x4ac19e];}['wasPressed'](_0x2e336d){const _0x15a009=El(_0x2e336d),_0x50cd17=this['toKeyIdent'+'ifier'](_0x15a009);return!!this['_keymap'][_0x50cd17]&&!this['_lastmap'][_0x50cd17];}['wasRelease'+'d'](_0x3c8774){const _0x139756=El(_0x3c8774),_0x58b503=this['toKeyIdent'+'ifier'](_0x139756);return!this['_keymap'][_0x58b503]&&!!this['_lastmap'][_0x58b503];}}c(km,'EVENT_KEYD'+'OWN','keydown'),c(km,'EVENT_KEYU'+'P','keyup');function Lu(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ia{constructor(_0x485438,_0x200e67){c(this,'x',-0xec*0x27+-0x45+0x2439),c(this,'y',0x1*0x1aab+-0x6*-0x3df+-0x31e5*0x1),c(this,'dx',-0x262f+-0x11c6+0x37f5),c(this,'dy',-0x13a1+-0x3*0x865+-0x1*-0x2cd0),c(this,'button',Ib),c(this,'wheelDelta',0x795+-0xea1+-0x70c*-0x1),c(this,'element'),c(this,'ctrlKey',!(0x28*-0x6+0x1*0x1ed9+-0x27e*0xc)),c(this,'altKey',!(0x225e+-0xbe+-0x219f)),c(this,'shiftKey',!(0x3*-0xb83+0xc7*0x2+0x20fc)),c(this,'metaKey',!(-0x70c+-0xa*-0x5e+-0x5*-0xad)),c(this,'event');let _0x687d44={'x':0x0,'y':0x0};if(_0x200e67){if(_0x200e67 instanceof ia)throw Error('Expected\x20M'+'ouseEvent');_0x687d44=_0x485438['_getTarget'+'Coords'](_0x200e67);}else _0x200e67={};if(_0x687d44)this['x']=_0x687d44['x'],this['y']=_0x687d44['y'];else{if(Lu())this['x']=0xad3+0x4*-0x449+0x651,this['y']=-0x21e5*-0x1+-0x1*0x1841+-0x9a4;else return;}_0x200e67['type']==='wheel'&&(_0x200e67['deltaY']>-0x4*-0x209+-0x25*-0xce+-0x25ea?this['wheelDelta']=-0x9*0x1c+0x159*-0xc+0x1129:_0x200e67['deltaY']<-0x11*-0x10f+-0xde3+-0x41c&&(this['wheelDelta']=-(-0xc9*-0x13+0x130f+0x3*-0xb53))),Lu()?(this['dx']=_0x200e67['movementX']||_0x200e67['webkitMove'+'mentX']||_0x200e67['mozMovemen'+'tX']||-0x1fdb+0x1dcb+0x8*0x42,this['dy']=_0x200e67['movementY']||_0x200e67['webkitMove'+'mentY']||_0x200e67['mozMovemen'+'tY']||0x1ab*-0x7+0x1*0xf24+-0x377*0x1):(this['dx']=this['x']-_0x485438['_lastX'],this['dy']=this['y']-_0x485438['_lastY']),(_0x200e67['type']==='mousedown'||_0x200e67['type']==='mouseup')&&(this['button']=_0x200e67['button']),this['buttons']=_0x485438['_buttons']['slice'](-0x34e+0x42b*-0x2+-0x95*-0x14),this['element']=_0x200e67['target'],this['ctrlKey']=_0x200e67['ctrlKey']??!(-0x242a+-0x12*-0x41+0x1f99),this['altKey']=_0x200e67['altKey']??!(0x325*-0xa+0x28b*0xf+-0x6b2),this['shiftKey']=_0x200e67['shiftKey']??!(0x7f*0x32+0xcd*-0x15+-0x1*0x7fc),this['metaKey']=_0x200e67['metaKey']??!(-0x17d9+0x19f7+-0x21d),this['event']=_0x200e67;}}class Cl extends de{constructor(_0x5a775f){super(),c(this,'_lastX',0x1874+0x1*-0x13f7+-0x47d),c(this,'_lastY',-0x2476+0x35+0x1*0x2441),c(this,'_buttons',[!(-0x2242+0x4cb*0x5+0xa4c),!(-0x101a+0x36*-0x97+-0x2ff5*-0x1),!(0x330+0x2*-0xe47+0x195f)]),c(this,'_lastbutto'+'ns',[!(0x1ea8+-0x7b9+-0x496*0x5),!(-0x409*-0x7+0x17f6*0x1+0x1a*-0x202),!(-0x4ad+0x1f2c+-0x1a7e)]),c(this,'_target',null),c(this,'_attached',!(-0x40e+-0x173a+0x5*0x575)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x2bc47c=>{_0x2bc47c['preventDef'+'ault']();},this['attach'](_0x5a775f));}static['isPointerL'+'ocked'](){return Lu();}['attach'](_0x3ba089){if(this['_target']=_0x3ba089,this['_attached'])return;this['_attached']=!(0x115a+-0x5aa+-0xbb0);const _0x977eb6={'passive':!(-0x6fc*0x5+-0x736+0x43*0xa1)},_0x1291a1=be['passiveEve'+'nts']?_0x977eb6:!(0x2592+0x1fd*-0x11+0x1*-0x3c4);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x1291a1),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x1291a1),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x1291a1),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x1291a1);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x2699*0x1+0xa2*0x2e+0x97e),this['_target']=null;const _0x9650f={'passive':!(0x3*-0xd2+-0x43*0x5b+0x1a48)},_0x3c960e=be['passiveEve'+'nts']?_0x9650f:!(-0xc*0x307+0x2d*-0x25+0x2ad6);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x3c960e),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x3c960e),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x3c960e),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x3c960e);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x18ab68,_0x1f691b){if(!document['body']['requestPoi'+'nterLock']){_0x1f691b&&_0x1f691b();return;}const _0x1579bf=()=>{_0x18ab68(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x1579bf);},_0x4ebd79=()=>{_0x1f691b(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x4ebd79);};_0x18ab68&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x1579bf,!(0x1*-0xf8f+-0x24a*0x1+-0x11da*-0x1)),_0x1f691b&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x4ebd79,!(-0x2d1+-0x1db5+0x2087)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0xf747d2){if(!document['exitPointe'+'rLock'])return;const _0x51566e=()=>{_0xf747d2(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x51566e);};_0xf747d2&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x51566e,!(0x251+0x283+-0x4d3)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0xf37+0x1b80+-0xe3d*0x3]=this['_buttons'][0x24f8+0x1*-0x23cf+-0x21*0x9],this['_lastbutto'+'ns'][-0x6d*-0x56+-0x1*0x1759+-0xd44]=this['_buttons'][0xcd0+0x3d*0x5e+0x1*-0x2335],this['_lastbutto'+'ns'][0x1c3f+0x2e*0xb9+0x1*-0x3d7b]=this['_buttons'][-0x16a1+-0x21f*0x1+-0x2*-0xc61];}['isPressed'](_0x56f279){return this['_buttons'][_0x56f279];}['wasPressed'](_0x49561c){return this['_buttons'][_0x49561c]&&!this['_lastbutto'+'ns'][_0x49561c];}['wasRelease'+'d'](_0x3cf1dc){return!this['_buttons'][_0x3cf1dc]&&this['_lastbutto'+'ns'][_0x3cf1dc];}['_handleUp'](_0x11bcaf){this['_buttons'][_0x11bcaf['button']]=!(-0x25b2+-0xeb6+0x3469);const _0x81fdf1=new ia(this,_0x11bcaf);_0x81fdf1['event']&&this['fire'](Fm,_0x81fdf1);}['_handleDow'+'n'](_0x4933f5){this['_buttons'][_0x4933f5['button']]=!(-0x1f*0x59+0x19d8+0xcb*-0x13);const _0x54979a=new ia(this,_0x4933f5);_0x54979a['event']&&this['fire'](Dm,_0x54979a);}['_handleMov'+'e'](_0x2313f5){const _0xc45f=new ia(this,_0x2313f5);_0xc45f['event']&&(this['fire'](Lm,_0xc45f),this['_lastX']=_0xc45f['x'],this['_lastY']=_0xc45f['y']);}['_handleWhe'+'el'](_0x210beb){const _0x5000d3=new ia(this,_0x210beb);_0x5000d3['event']&&this['fire'](Du,_0x5000d3);}['_getTarget'+'Coords'](_0x15b507){const _0x4de99c=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x48967f=Math['floor'](_0x4de99c['left']),_0x4596f9=Math['floor'](_0x4de99c['top']);return _0x15b507['clientX']<_0x48967f||_0x15b507['clientX']>=_0x48967f+this['_target']['clientWidt'+'h']||_0x15b507['clientY']<_0x4596f9||_0x15b507['clientY']>=_0x4596f9+this['_target']['clientHeig'+'ht']?null:{'x':_0x15b507['clientX']-_0x48967f,'y':_0x15b507['clientY']-_0x4596f9};}}c(Cl,'EVENT_MOUS'+'EMOVE',Lm),c(Cl,'EVENT_MOUS'+'EDOWN',Dm),c(Cl,'EVENT_MOUS'+'EUP',Fm),c(Cl,'EVENT_MOUS'+'EWHEEL',Du);const Ee=class Ee{['get'](_0x2078bb,_0x52f80d,_0x58945c){return typeof _0x52f80d=='function'&&(_0x58945c=_0x52f80d,_0x52f80d={}),this['request']('GET',_0x2078bb,_0x52f80d,_0x58945c);}['post'](_0x601545,_0x47164d,_0x532537,_0x1132a1){return typeof _0x532537=='function'&&(_0x1132a1=_0x532537,_0x532537={}),_0x532537['postdata']=_0x47164d,this['request']('POST',_0x601545,_0x532537,_0x1132a1);}['put'](_0x1f1bc2,_0x144df1,_0x36df99,_0x3df12f){return typeof _0x36df99=='function'&&(_0x3df12f=_0x36df99,_0x36df99={}),_0x36df99['postdata']=_0x144df1,this['request']('PUT',_0x1f1bc2,_0x36df99,_0x3df12f);}['del'](_0x1f0aba,_0x10064c,_0x1e5e3c){return typeof _0x10064c=='function'&&(_0x1e5e3c=_0x10064c,_0x10064c={}),this['request']('DELETE',_0x1f0aba,_0x10064c,_0x1e5e3c);}['request'](_0x5a256c,_0x551f20,_0x29f598,_0x5677cb){let _0x241f4d,_0x210b70,_0x59fd7c,_0x5b686a=!(0x1f73+-0x5e2+0x199*-0x10);if(typeof _0x29f598=='function'&&(_0x5677cb=_0x29f598,_0x29f598={}),_0x29f598['retry']&&(_0x29f598=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x29f598)),_0x29f598['callback']=_0x5677cb,_0x29f598['async']==null&&(_0x29f598['async']=!(-0x141d*0x1+-0x80+0x1*0x149d)),_0x29f598['headers']==null&&(_0x29f598['headers']={}),_0x29f598['postdata']!=null){if(_0x29f598['postdata']instanceof Document)_0x59fd7c=_0x29f598['postdata'];else{if(_0x29f598['postdata']instanceof FormData)_0x59fd7c=_0x29f598['postdata'];else{if(_0x29f598['postdata']instanceof Object){let _0x218617=_0x29f598['headers']['Content-Ty'+'pe'];switch(_0x218617===void(0x1bf5+-0x55*-0x29+0x2992*-0x1)&&(_0x29f598['headers']['Content-Ty'+'pe']=Ee['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x218617=_0x29f598['headers']['Content-Ty'+'pe']),_0x218617){case Ee['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x59fd7c='';let _0x4f019f=!(0x1d7b+0x1c67+-0x39e2);for(const _0x1b613a in _0x29f598['postdata'])if(_0x29f598['postdata']['hasOwnProp'+'erty'](_0x1b613a)){_0x4f019f?_0x4f019f=!(0x21b1+-0xa6d*0x1+-0x1743):_0x59fd7c+='&';const _0x21d8eb=encodeURIComponent(_0x1b613a),_0xbedfbe=encodeURIComponent(_0x29f598['postdata'][_0x1b613a]);_0x59fd7c+=_0x21d8eb+'='+_0xbedfbe;}break;}default:case Ee['ContentTyp'+'e']['JSON']:_0x218617==null&&(_0x29f598['headers']['Content-Ty'+'pe']=Ee['ContentTyp'+'e']['JSON']),_0x59fd7c=JSON['stringify'](_0x29f598['postdata']);break;}}else _0x59fd7c=_0x29f598['postdata'];}}}if(_0x29f598['cache']===!(0x1*-0x10dc+-0x1c13*0x1+0xb3c*0x4)){const _0x72a1dd=ae();_0x241f4d=new ad(_0x551f20),_0x241f4d['query']?_0x241f4d['query']=_0x241f4d['query']+'&ts='+_0x72a1dd:_0x241f4d['query']='ts='+_0x72a1dd,_0x551f20=_0x241f4d['toString']();}_0x29f598['query']&&(_0x241f4d=new ad(_0x551f20),_0x210b70=Eh(_0x241f4d['getQuery'](),_0x29f598['query']),_0x241f4d['setQuery'](_0x210b70),_0x551f20=_0x241f4d['toString']());const _0x26c5fc=new XMLHttpRequest();_0x26c5fc['open'](_0x5a256c,_0x551f20,_0x29f598['async']),_0x26c5fc['withCreden'+'tials']=_0x29f598['withCreden'+'tials']!==void(-0x112f+0x273*0x5+0x4f0)?_0x29f598['withCreden'+'tials']:!(0x1a8e*0x1+0x2*0x388+-0x219d),_0x26c5fc['responseTy'+'pe']=_0x29f598['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x551f20);for(const _0x596e36 in _0x29f598['headers'])_0x29f598['headers']['hasOwnProp'+'erty'](_0x596e36)&&_0x26c5fc['setRequest'+'Header'](_0x596e36,_0x29f598['headers'][_0x596e36]);_0x26c5fc['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x5a256c,_0x551f20,_0x29f598,_0x26c5fc);},_0x26c5fc['onerror']=()=>{this['_onError'](_0x5a256c,_0x551f20,_0x29f598,_0x26c5fc),_0x5b686a=!(-0x88a*-0x3+-0x223*0xb+0x1*-0x21d);};try{_0x26c5fc['send'](_0x59fd7c);}catch(_0xc06e1e){_0x5b686a||_0x29f598['error'](_0x26c5fc['status'],_0x26c5fc,_0xc06e1e);}return _0x26c5fc;}['_guessResp'+'onseType'](_0x331abd){const _0x51a502=new ad(_0x331abd),_0x23a548=me['getExtensi'+'on'](_0x51a502['path'])['toLowerCas'+'e']();return Ee['binaryExte'+'nsions']['indexOf'](_0x23a548)>=0x1160+0x1445+-0x25a5?Ee['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x23a548==='.json'?Ee['ResponseTy'+'pe']['JSON']:_0x23a548==='.xml'?Ee['ResponseTy'+'pe']['DOCUMENT']:Ee['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x5c1231){return[Ee['ContentTyp'+'e']['BASIS'],Ee['ContentTyp'+'e']['BIN'],Ee['ContentTyp'+'e']['DDS'],Ee['ContentTyp'+'e']['GLB'],Ee['ContentTyp'+'e']['MP3'],Ee['ContentTyp'+'e']['MP4'],Ee['ContentTyp'+'e']['OGG'],Ee['ContentTyp'+'e']['OPUS'],Ee['ContentTyp'+'e']['WAV']]['indexOf'](_0x5c1231)>=0x18ff+-0x23d5+0xad6;}['_isBinaryR'+'esponseTyp'+'e'](_0x58e495){return _0x58e495===Ee['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x58e495===Ee['ResponseTy'+'pe']['BLOB']||_0x58e495===Ee['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x2d5c73,_0x4de6e6,_0xd1b5a8,_0x1683f3){if(_0x1683f3['readyState']===0x1*0x202a+-0x2+0x16*-0x176)switch(_0x1683f3['status']){case-0x1e*0xfa+0x2614+-0x8*0x119:{_0x1683f3['responseUR'+'L']&&_0x1683f3['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x2d5c73,_0x4de6e6,_0xd1b5a8,_0x1683f3):this['_onError'](_0x2d5c73,_0x4de6e6,_0xd1b5a8,_0x1683f3);break;}case 0x4*-0x399+-0x4c*-0x12+0x2*0x4ea:case 0x10c*-0x5+0x1c86+-0x1681*0x1:case 0xc*0xf5+0x10d*0x10+-0x1b7e:case 0x127*-0x16+0x142e+-0x197*-0x4:{this['_onSuccess'](_0x2d5c73,_0x4de6e6,_0xd1b5a8,_0x1683f3);break;}default:{this['_onError'](_0x2d5c73,_0x4de6e6,_0xd1b5a8,_0x1683f3);break;}}}['_onSuccess'](_0x55c5bf,_0x2250a2,_0x173cb6,_0x1548db){let _0x4b5080,_0x458b78;const _0x13722a=_0x1548db['getRespons'+'eHeader']('Content-Ty'+'pe');_0x13722a&&(_0x458b78=_0x13722a['split'](';')[-0x1*0xa29+0x34b*0x1+0x6*0x125]['trim']());try{this['_isBinaryC'+'ontentType'](_0x458b78)||this['_isBinaryR'+'esponseTyp'+'e'](_0x1548db['responseTy'+'pe'])?_0x4b5080=_0x1548db['response']:_0x458b78===Ee['ContentTyp'+'e']['JSON']||_0x2250a2['split']('?')[-0x18fd+-0xa3*0x30+-0x1*-0x378d]['endsWith']('.json')?_0x4b5080=JSON['parse'](_0x1548db['responseTe'+'xt']):_0x1548db['responseTy'+'pe']===Ee['ResponseTy'+'pe']['DOCUMENT']||_0x458b78===Ee['ContentTyp'+'e']['XML']?_0x4b5080=_0x1548db['responseXM'+'L']:_0x4b5080=_0x1548db['responseTe'+'xt'],_0x173cb6['callback'](null,_0x4b5080);}catch(_0x83e96){_0x173cb6['callback'](_0x83e96);}}['_onError'](_0xd11db2,_0x3f0ce1,_0x2a7f9b,_0x5457be){if(!_0x2a7f9b['retrying']){if(_0x2a7f9b['retry']&&_0x2a7f9b['retries']<_0x2a7f9b['maxRetries']){_0x2a7f9b['retries']++,_0x2a7f9b['retrying']=!(0x78*-0x29+0x6*-0x664+0x3990);const _0x16adad=z['clamp'](Math['pow'](0x2552+0x4fa+-0x2a4a,_0x2a7f9b['retries'])*Ee['retryDelay'],-0x12ff+-0x2677+-0x1cbb*-0x2,_0x2a7f9b['maxRetryDe'+'lay']||-0xa*0x3b3+-0x2108+-0x6*-0xeed);console['log'](_0xd11db2+':\x20'+_0x3f0ce1+'\x20-\x20Error\x20'+_0x5457be['status']+('.\x20Retrying'+'\x20in\x20')+_0x16adad+'\x20ms'),setTimeout(()=>{_0x2a7f9b['retrying']=!(0x2*0xa0c+0xdcb+-0x21e2),this['request'](_0xd11db2,_0x3f0ce1,_0x2a7f9b,_0x2a7f9b['callback']);},_0x16adad);}else _0x2a7f9b['callback'](_0x5457be['status']===0x97d+-0x7*-0x74+-0xca9?'Network\x20er'+'ror':_0x5457be['status'],null);}}};c(Ee,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),c(Ee,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),c(Ee,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),c(Ee,'retryDelay',-0x21f*-0xd+-0x1444+0x6eb*-0x1);let ps=Ee;const Ye=new ps();function Ni(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}class Vh{constructor(_0x21c6ab,_0x28eacf,_0x5ef942={}){if(this['volume']=_0x5ef942['volume']??-0x6b*0x49+-0x1726+-0x2*-0x1ad5,this['loop']=_0x5ef942['loop']??!(0x1e7d+0x719*-0x5+0x501*0x1),this['pitch']=_0x5ef942['pitch']??-0x1ca6+-0x6*0x2e7+0x2e11,this['sound']=_0x28eacf,this['paused']=!(-0x623+0x1668*0x1+-0x4*0x411),this['suspended']=!(-0x1b0f+0x3*-0x1d2+-0x16a*-0x17),this['manager']=_0x21c6ab,this['source']=null,Ni()){this['startTime']=-0x5*-0x3b1+-0x19*-0x133+-0xc1c*0x4,this['startOffse'+'t']=-0x126e+-0x19a5*-0x1+0x1*-0x737;const _0x20aad2=_0x21c6ab['context'];this['gain']=_0x20aad2['createGain']();}else _0x28eacf['audio']&&(this['source']=_0x28eacf['audio']['cloneNode'](!(-0x1f8b+-0x1113*-0x1+-0xc3*-0x13)),this['source']['pause']());}['getVolume'](){return this['volume'];}['getLoop'](){return this['loop'];}['setLoop'](_0x3e0aee){this['loop']=_0x3e0aee,this['source']&&(this['source']['loop']=_0x3e0aee);}['getPitch'](){return this['pitch'];}['onManagerV'+'olumeChang'+'e'](){this['setVolume'](this['getVolume']());}['onManagerS'+'uspend'](){this['isPlaying']()&&!this['suspended']&&(this['suspended']=!(-0x1d2*-0x1+0x1b70+-0x1d42),this['pause']());}['onManagerR'+'esume'](){this['suspended']&&(this['suspended']=!(0x1a27+0x933+-0x2359*0x1),this['unpause']());}['play'](){if(this['source'])throw new Error('Call\x20stop('+')\x20before\x20c'+'alling\x20pla'+'y()');this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](-0x95f*-0x1+-0x2*0x10f7+0x188f,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']());}['pause'](){this['source']&&(this['paused']=!(-0x2602+0x2*0xa0d+0x11e8),this['startOffse'+'t']+=this['manager']['context']['currentTim'+'e']-this['startTime'],this['source']['stop'](-0x18b6+-0x177f+-0x29*-0x12d),this['source']=null);}['unpause'](){if(this['source']||!this['paused']){console['warn']('Call\x20pause'+'()\x20before\x20'+'unpausing.');return;}this['_createSou'+'rce'](),this['source']&&(this['startTime']=this['manager']['context']['currentTim'+'e'],this['source']['start'](0x13b*-0x9+-0x1*0xf59+-0xd36*-0x2,this['startOffse'+'t']%this['source']['buffer']['duration']),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['paused']=!(-0x22c6+-0x156a+0x3831));}['stop'](){this['source']&&(this['source']['stop'](0x3*-0x32f+0x15ce+-0xc41),this['source']=null),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);}['setVolume'](_0x221298){_0x221298=z['clamp'](_0x221298,-0x772*0x1+-0x2*-0xcf7+-0x2a4*0x7,0xe39+-0x791+-0x6a7),this['volume']=_0x221298,this['gain']&&(this['gain']['gain']['value']=_0x221298*this['manager']['volume']);}['setPitch'](_0x4e8069){this['pitch']=_0x4e8069,this['source']&&(this['source']['playbackRa'+'te']['value']=_0x4e8069);}['isPlaying'](){return!this['paused']&&this['source']['playbackSt'+'ate']===this['source']['PLAYING_ST'+'ATE'];}['getDuratio'+'n'](){return this['source']?this['source']['buffer']['duration']:0x4f*0x3+-0x67*0x3b+-0x2da*-0x8;}['_createSou'+'rce'](){const _0x4e907b=this['manager']['context'];this['sound']['buffer']&&(this['source']=_0x4e907b['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['gain']),this['gain']['connect'](_0x4e907b['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this)));}}Ni()||Object['assign'](Vh['prototype'],{'play':function(){this['source']&&(this['paused']=!(0x25*0xa9+-0x1*-0x26dd+-0x11*0x3b9),this['setVolume'](this['volume']),this['setLoop'](this['loop']),this['setPitch'](this['pitch']),this['source']['play']()),this['manager']['on']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['on']('suspend',this['onManagerS'+'uspend'],this),this['manager']['on']('resume',this['onManagerR'+'esume'],this),this['manager']['suspended']&&this['onManagerS'+'uspend']();},'pause':function(){this['source']&&(this['paused']=!(-0x24fb+0x1cbb+0x840),this['source']['pause']());},'unpause':function(){this['source']&&(this['paused']=!(0x1ec3+-0x1f8d+0x7*0x1d),this['source']['play']());},'stop':function(){this['source']&&this['source']['pause'](),this['manager']['off']('volumechan'+'ge',this['onManagerV'+'olumeChang'+'e'],this),this['manager']['off']('suspend',this['onManagerS'+'uspend'],this),this['manager']['off']('resume',this['onManagerR'+'esume'],this);},'setVolume':function(_0x226945){_0x226945=z['clamp'](_0x226945,0x194c+-0x735+-0x1217,-0xac4*0x1+-0xc9*0x9+-0x2*-0x8eb),this['volume']=_0x226945,this['source']&&(this['source']['volume']=_0x226945*this['manager']['volume']);},'setPitch':function(_0x116857){this['pitch']=_0x116857,this['source']&&(this['source']['playbackRa'+'te']=_0x116857);},'getDuration':function(){return this['source']&&!isNaN(this['source']['duration'])?this['source']['duration']:-0x1*0x1daa+0x40*0x19+-0x51*-0x4a;},'isPlaying':function(){return!this['source']['paused'];}});const Fb=0x6*0xf8+-0x15*-0x5+0x20d7;class Fu extends Vh{constructor(_0x1e6693,_0x309ff1,_0x3c3434){super(_0x1e6693,_0x309ff1,_0x3c3434),this['position']=new A(),this['velocity']=new A(),Ni()?this['panner']=_0x1e6693['context']['createPann'+'er']():(this['maxDistanc'+'e']=Fb,this['minDistanc'+'e']=0xafb+0x1a4c+-0x2546,this['rollOffFac'+'tor']=-0x1db3+-0x1d*0xd8+0x1b16*0x2,this['distanceMo'+'del']=Nf);}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x637b89){this['position']['copy'](_0x637b89);const _0x1c066e=this['panner'];'positionX'in _0x1c066e?(_0x1c066e['positionX']['value']=_0x637b89['x'],_0x1c066e['positionY']['value']=_0x637b89['y'],_0x1c066e['positionZ']['value']=_0x637b89['z']):_0x1c066e['setPositio'+'n']&&_0x1c066e['setPositio'+'n'](_0x637b89['x'],_0x637b89['y'],_0x637b89['z']);}['getVelocit'+'y'](){return b['warn']('Channel3d#'+'getVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity'];}['setVelocit'+'y'](_0x51852a){b['warn']('Channel3d#'+'setVelocit'+'y\x20is\x20not\x20i'+'mplemented'+'.'),this['velocity']['copy'](_0x51852a);}['getMaxDist'+'ance'](){return this['panner']['maxDistanc'+'e'];}['setMaxDist'+'ance'](_0x3f1b16){this['panner']['maxDistanc'+'e']=_0x3f1b16;}['getMinDist'+'ance'](){return this['panner']['refDistanc'+'e'];}['setMinDist'+'ance'](_0x534f74){this['panner']['refDistanc'+'e']=_0x534f74;}['getRollOff'+'Factor'](){return this['panner']['rolloffFac'+'tor'];}['setRollOff'+'Factor'](_0x42eb11){this['panner']['rolloffFac'+'tor']=_0x42eb11;}['getDistanc'+'eModel'](){return this['panner']['distanceMo'+'del'];}['setDistanc'+'eModel'](_0x289377){this['panner']['distanceMo'+'del']=_0x289377;}['_createSou'+'rce'](){const _0x39628c=this['manager']['context'];this['source']=_0x39628c['createBuff'+'erSource'](),this['source']['buffer']=this['sound']['buffer'],this['source']['connect'](this['panner']),this['panner']['connect'](this['gain']),this['gain']['connect'](_0x39628c['destinatio'+'n']),this['loop']||(this['source']['onended']=this['pause']['bind'](this));}}if(!Ni()){let l=new A();const t=function(_0x4ee7e1,_0x4ad401,_0x5b481c,_0x204cce,_0x24b7c5,_0x302deb){l=l['sub2'](_0x4ee7e1,_0x4ad401);const _0x11a686=l['length']();if(_0x11a686<_0x5b481c)return-0x2159+0x21a+0x1f40;if(_0x11a686>_0x204cce)return 0x269e+0x2083+-0x4721;let _0x273569=-0x1c67*-0x1+-0x1636+-0x631;return _0x302deb===mc?_0x273569=0x1344+0x11b5+-0xe*0x2a4-_0x24b7c5*(_0x11a686-_0x5b481c)/(_0x204cce-_0x5b481c):_0x302deb===Nf?_0x273569=_0x5b481c/(_0x5b481c+_0x24b7c5*(_0x11a686-_0x5b481c)):_0x302deb===dy&&(_0x273569=Math['pow'](_0x11a686/_0x5b481c,-_0x24b7c5)),z['clamp'](_0x273569,-0x4c2*0x8+0x4e3+0x212d,-0x1cda+-0xd*-0x2+0x1cc1);};Object['assign'](Fu['prototype'],{'setPosition':function(_0x444413){if(this['position']['copy'](_0x444413),this['source']){const _0x484740=this['manager']['listener']['getPositio'+'n'](),_0x555e53=t(_0x484740,this['position'],this['minDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x14fe60=this['getVolume']();this['source']['volume']=_0x14fe60*_0x555e53;}},'getMaxDistance':function(){return this['maxDistanc'+'e'];},'setMaxDistance':function(_0x5638bb){this['maxDistanc'+'e']=_0x5638bb;},'getMinDistance':function(){return this['minDistanc'+'e'];},'setMinDistance':function(_0x1f7bfe){this['minDistanc'+'e']=_0x1f7bfe;},'getRollOffFactor':function(){return this['rollOffFac'+'tor'];},'setRollOffFactor':function(_0x31a94c){this['rollOffFac'+'tor']=_0x31a94c;},'getDistanceModel':function(){return this['distanceMo'+'del'];},'setDistanceModel':function(_0x553c5a){this['distanceMo'+'del']=_0x553c5a;}});}class kb{constructor(_0x4e5341){c(this,'_manager'),c(this,'position',new A()),c(this,'orientatio'+'n',new q()),this['_manager']=_0x4e5341;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x30d06e){this['position']['copy'](_0x30d06e);const _0x38997c=this['listener'];_0x38997c&&('positionX'in _0x38997c?(_0x38997c['positionX']['value']=_0x30d06e['x'],_0x38997c['positionY']['value']=_0x30d06e['y'],_0x38997c['positionZ']['value']=_0x30d06e['z']):_0x38997c['setPositio'+'n']&&_0x38997c['setPositio'+'n'](_0x30d06e['x'],_0x30d06e['y'],_0x30d06e['z']));}['setOrienta'+'tion'](_0x8ba0fe){this['orientatio'+'n']['copy'](_0x8ba0fe);const _0x16fd58=this['listener'];if(_0x16fd58){const _0x5ad146=_0x8ba0fe['data'];'forwardX'in _0x16fd58?(_0x16fd58['forwardX']['value']=-_0x5ad146[-0x16a+-0x11*0x1b7+0x1e99],_0x16fd58['forwardY']['value']=-_0x5ad146[0x25d8+0x2*-0x1345+0xbb],_0x16fd58['forwardZ']['value']=-_0x5ad146[-0xeb6+0x2*0x7b9+-0xb2],_0x16fd58['upX']['value']=_0x5ad146[-0xbf0+-0x521*0x1+-0x1115*-0x1],_0x16fd58['upY']['value']=_0x5ad146[0x2f*-0x2+0x95*-0x37+-0x1033*-0x2],_0x16fd58['upZ']['value']=_0x5ad146[0x114a+-0xba9*0x1+-0x59b]):_0x16fd58['setOrienta'+'tion']&&_0x16fd58['setOrienta'+'tion'](-_0x5ad146[-0x1def+-0x180c+0x3603],-_0x5ad146[-0x245*-0x11+0x382+0x2a0e*-0x1],-_0x5ad146[-0x1127*-0x1+0xeb0+-0x1fcd],_0x5ad146[-0xff9+-0x15c3+-0x4b8*-0x8],_0x5ad146[-0x468+0x117d+-0xd10],_0x5ad146[0x4d*0x2f+0x1526+-0x2343]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0xdb52f0=this['_manager']['context'];return _0xdb52f0?_0xdb52f0['listener']:null;}}const Ml='running',Om=['click','touchstart','mousedown'];class Ob extends de{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||b['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x134*-0x4+0x3*-0x688+0x1869),this['listener']=new kb(this),this['_volume']=0xff7*-0x1+-0x5a5+0x1*0x159d;}set['volume'](_0x324635){_0x324635=z['clamp'](_0x324635,-0x1f1a+0x146b+0x223*0x5,0x1bf*-0x7+0x6b*0x29+-0x4e9),this['_volume']=_0x324635,this['fire']('volumechan'+'ge',_0x324635);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ml&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0xfe1+0x23*-0xeb+0x1040),this['_context']&&this['_context']['state']===Ml&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x15bb+0x1*-0xfd7+-0x1*0x5e3),this['_context']&&this['_context']['state']!==Ml&&this['_resume']());}['destroy'](){var _0x168d2c;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x168d2c=this['_context'])==null||_0x168d2c['close'](),this['_context']=null);}['playSound'](_0x1b8f88,_0x47f0d7={}){let _0x1c67e9=null;return Vh&&(_0x1c67e9=new Vh(this,_0x1b8f88,_0x47f0d7),_0x1c67e9['play']()),_0x1c67e9;}['playSound3'+'d'](_0x3dcfe8,_0x34b1cb,_0x2c66e4={}){let _0x1e8cfe=null;return Fu&&(_0x1e8cfe=new Fu(this,_0x3dcfe8,_0x2c66e4),_0x1e8cfe['setPositio'+'n'](_0x34b1cb),_0x2c66e4['volume']&&_0x1e8cfe['setVolume'](_0x2c66e4['volume']),_0x2c66e4['loop']&&_0x1e8cfe['setLoop'](_0x2c66e4['loop']),_0x2c66e4['maxDistanc'+'e']&&_0x1e8cfe['setMaxDist'+'ance'](_0x2c66e4['maxDistanc'+'e']),_0x2c66e4['minDistanc'+'e']&&_0x1e8cfe['setMinDist'+'ance'](_0x2c66e4['minDistanc'+'e']),_0x2c66e4['rollOffFac'+'tor']&&_0x1e8cfe['setRollOff'+'Factor'](_0x2c66e4['rollOffFac'+'tor']),_0x2c66e4['distanceMo'+'del']&&_0x1e8cfe['setDistanc'+'eModel'](_0x2c66e4['distanceMo'+'del']),_0x1e8cfe['play']()),_0x1e8cfe;}['_resume'](){this['_context']['resume']()['then'](()=>{const _0xbc28f6=this['_context']['createBuff'+'erSource']();_0xbc28f6['buffer']=this['_context']['createBuff'+'er'](-0x2111+0x6*0xf7+0x1b48,-0x883+-0x11bd*-0x2+-0x1af6,this['_context']['sampleRate']),_0xbc28f6['connect'](this['_context']['destinatio'+'n']),_0xbc28f6['start'](0x17*-0x195+-0x10e7*-0x2+0x295),_0xbc28f6['onended']=_0x21e9cb=>{_0xbc28f6['disconnect'](0x1f16+0x1*-0x25e5+-0xf9*-0x7),this['fire']('resume');};},_0x307ba0=>{b['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x307ba0);})['catch'](_0x3eb537=>{b['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x3eb537);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x368607=>{b['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x368607);})['catch'](_0x2766c8=>{b['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x2766c8);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ml&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){Om['forEach'](_0x3e7dcc=>{window['addEventLi'+'stener'](_0x3e7dcc,this['_unlockHan'+'dlerFunc'],!(-0x1*0x1292+-0x14af+0x32*0xc9));});}['_removeUnl'+'ockListene'+'rs'](){Om['forEach'](_0x1952f9=>{window['removeEven'+'tListener'](_0x1952f9,this['_unlockHan'+'dlerFunc'],!(0x124*0x19+0xa49*-0x2+-0x7f1));});}}class Bb{constructor(_0x52b661){c(this,'audio'),c(this,'buffer'),_0x52b661 instanceof Audio?this['audio']=_0x52b661:this['buffer']=_0x52b661;}get['duration'](){let _0x12dd7b=-0xc37+-0x1414+0x7*0x49d;return this['buffer']?_0x12dd7b=this['buffer']['duration']:this['audio']&&(_0x12dd7b=this['audio']['duration']),_0x12dd7b||-0x5e2+0x13a3+-0x7*0x1f7;}}const kt=-0xe9f+-0x261+0x1100,ra=-0x23d9+0x2521+-0x6d*0x3,Ps=-0x199e+-0x1*0x108d+-0xb7*-0x3b;function Ot(_0x91796b,_0x5ec274){return _0x91796b%_0x5ec274||0x151b+0x16aa*-0x1+0x3*0x85;}class ls extends de{constructor(_0x3fbeb0,_0x462260,_0x2ef16e){super(),c(this,'source',null),(this['_manager']=_0x3fbeb0,this['_volume']=_0x2ef16e['volume']!==void(0x23cf+0x4*0x3f6+-0x33a7)?z['clamp'](Number(_0x2ef16e['volume'])||-0x1ddc+-0x2*-0x7ed+0xe02,0x77b+-0x1062+0x1*0x8e7,-0x68*-0x25+0x479+-0x10*0x138):-0xc93+0xb1e+-0xbb*-0x2,this['_pitch']=_0x2ef16e['pitch']!==void(0x1a72+-0x9ef+0x3*-0x581)?Math['max'](-0xc33+-0x55d*0x2+0x16ed+0.01,Number(_0x2ef16e['pitch'])||-0x1d5c+0x1e8e+-0x132):-0x11*0x22b+0x1*-0x5e3+0x2abf,this['_loop']=!!(_0x2ef16e['loop']!==void(-0x1*0xa7+-0x1f6a+-0x1*-0x2011)&&_0x2ef16e['loop']),this['_sound']=_0x462260,this['_state']=Ps,this['_suspended']=!(-0x2399+0xaa4*0x1+0x18f6),this['_suspendEn'+'dEvent']=-0x751*-0x1+0x7*0x23f+-0x170a,this['_suspendIn'+'stanceEven'+'ts']=!(0x1956+-0x42b*-0x1+-0x76*0x40),this['_playWhenL'+'oaded']=!(0x222a*0x1+-0x1fa7+0x1*-0x283),this['_startTime']=Math['max'](-0xd2*0x16+-0x51*-0xb+0xe91,Number(_0x2ef16e['startTime'])||-0x1f31+0x29e*-0xd+0x23*0x1dd),this['_duration']=Math['max'](-0x46d+0x1ac*-0x2+0x7c5,Number(_0x2ef16e['duration'])||-0x1a*-0x14+-0x2*-0xe9b+-0x1f3e),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x2ef16e['onPlay'],this['_onPauseCa'+'llback']=_0x2ef16e['onPause'],this['_onResumeC'+'allback']=_0x2ef16e['onResume'],this['_onStopCal'+'lback']=_0x2ef16e['onStop'],this['_onEndCall'+'back']=_0x2ef16e['onEnd'],Ni()?(this['_startedAt']=-0x59*0x6e+-0x15b*-0xd+0x149f*0x1,this['_currentTi'+'me']=-0x685*-0x1+0x2634+-0x6b*0x6b,this['_currentOf'+'fset']=0x2*-0x24b+0x5*0x35f+0x9*-0x15d,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x2e4+0xfcc+-0x12af*0x1),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(0x26*0x4d+-0x1*0x2405+0x1898),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x3ae0bf){if(!(_0x3ae0bf<-0x13b8+0x4e1+-0x1d*-0x83)){if(this['_state']===kt){const _0x403cb9=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0x3*-0x7aa+0x25ec+-0xeee),this['stop'](),this['_startOffs'+'et']=_0x3ae0bf,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x403cb9;}else this['_startOffs'+'et']=_0x3ae0bf,this['_currentTi'+'me']=_0x3ae0bf;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===ra?this['_currentTi'+'me']:this['_state']===Ps||!this['source']?0x13a7*0x1+-0x1*0xe9b+-0x286*0x2:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x127fe3){this['_duration']=Math['max'](-0xe*-0x22a+0x1*-0x17c5+-0x22d*0x3,Number(_0x127fe3)||-0x1f*-0xac+-0x4d*-0x69+-0x3469);const _0x230c68=this['_state']===kt;this['stop'](),_0x230c68&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?Ot(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x9df+-0x13*-0x1d+-0xc06;}get['isPaused'](){return this['_state']===ra;}get['isPlaying'](){return this['_state']===kt;}get['isStopped'](){return this['_state']===Ps;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0xfc31b){this['_loop']=!!_0xfc31b,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x1b8e48){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x1b8e48)||-0x3a2+0x4*0x66e+-0x1616,-0x673*-0x6+0xd3e+-0x67e*0x8+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x4e3bfd){this['_sound']=_0x4e3bfd,this['_state']!==Ps?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x505bba){this['_startTime']=Math['max'](0x25e3*0x1+-0x1221+-0x13c2,Number(_0x505bba)||0x13c3*-0x1+0x1424+0x61*-0x1);const _0x312664=this['_state']===kt;this['stop'](),_0x312664&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x4ccda1){_0x4ccda1=z['clamp'](_0x4ccda1,0xd*-0x6d+0xc7d+-0x4*0x1bd,0x1*0x1b4d+-0x1ec5+0x379),this['_volume']=_0x4ccda1,this['gain']&&(this['gain']['gain']['value']=_0x4ccda1*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1fa0+0x5dc+0x61*0x44){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===kt&&!this['_suspended']&&(this['_suspended']=!(-0x233b+0x1782*-0x1+0x3abd),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0xd6e+0x91*-0x7+-0x2*0x4bb),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Ps&&this['stop'](),this['_state']=kt,this['_playWhenL'+'oaded']=!(-0x1*0x13ac+-0x7f*0x45+-0x19*-0x228),this['_waitingCo'+'ntextSuspe'+'nsion']?!(-0x1223*-0x1+-0x23ac+0x2*0x8c5):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x82a+0x12dc+-0x1b06),!(0x1bff+0x1ff4+-0x3bf2)):(this['_playAudio'+'Immediate'](),!(-0x44*-0x47+-0x4*0x59d+0x398));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x1cf2+0x2403+-0x710),this['_state']!==kt)return;this['source']||this['_createSou'+'rce']();let _0x42012f=Ot(this['_startOffs'+'et'],this['duration']);_0x42012f=Ot(this['_startTime']+_0x42012f,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0x14d1+0x1*-0x1726+-0x255*-0x1,_0x42012f,this['_duration']):this['source']['start'](0x3*-0x835+-0x121a+0x1*0x2ab9,_0x42012f),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0x1*-0x232e+0x2f*0x6b+-0xf89*-0x1,this['_currentOf'+'fset']=_0x42012f,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x188a*0x1+-0xb3*-0xc+0x1*-0x20ed),this['_state']!==kt?!(-0xce1+-0xc3f+0x1921):(this['_state']=ra,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x2564+0x23b4+0x1b0),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x1*-0x1ae2+-0x867*-0x1+-0x2349));}['resume'](){if(this['_state']!==ra)return!(-0x5c1*-0x4+-0x14e7+-0x21c);let _0xaac42f=this['currentTim'+'e'];return this['_state']=kt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0xaac42f=Ot(this['_startOffs'+'et'],this['duration']),_0xaac42f=Ot(this['_startTime']+_0xaac42f,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](0x542*-0x1+-0x140a+0x194c,_0xaac42f,this['_duration']):this['source']['start'](-0xcd*0x3+0x4c*-0x71+0x23f3,_0xaac42f),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0xaac42f,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0xe79+0x7e8*0x1+0x692),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x11ea+-0x2*0xdbf+0x2d68);}['stop'](){if(this['_playWhenL'+'oaded']=!(-0xeae+-0x221*0xa+0x23f9*0x1),this['_state']===Ps)return!(0x34a*0x4+-0x8df*-0x2+0x1ee5*-0x1);const _0x38170=this['_state']===kt;return this['_state']=Ps,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x2*0x7f6+-0x142c+-0xf*-0x268,this['_currentTi'+'me']=-0x1b7c+0x1fbb+0x1*-0x43f,this['_currentOf'+'fset']=0x13*-0x1df+-0x368*0x8+0x3ecd,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x38170&&this['source']&&this['source']['stop'](-0x1*0x212e+0x3*-0x409+-0x1*-0x2d49),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x68e+-0x908+-0x23*-0x72);}['setExterna'+'lNodes'](_0x2e3de1,_0x25b117){if(!_0x2e3de1){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x25b117||(_0x25b117=_0x2e3de1);const _0x54677b=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x2e3de1&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x54677b),this['_firstNode']=_0x2e3de1,this['_connector'+'Node']['connect'](_0x2e3de1)),this['_lastNode']!==_0x25b117&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x54677b),this['_lastNode']=_0x25b117,this['_lastNode']['connect'](_0x54677b));}['clearExter'+'nalNodes'](){const _0x4929ce=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x4929ce),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x4929ce);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x2d3041=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x2d3041['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=Ot(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],Ot(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=Ot((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===kt&&(this['source']['stop'](0x3c7*-0x1+-0x7e5*-0x1+-0x41e),this['source']=null);}}c(ls,'EVENT_PLAY','play'),c(ls,'EVENT_PAUS'+'E','pause'),c(ls,'EVENT_RESU'+'ME','resume'),c(ls,'EVENT_STOP','stop'),c(ls,'EVENT_END','end'),Ni()||(Object['assign'](ls['prototype'],{'play':function(){return this['_state']!==Ps&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x3d3+0x1d02+-0x20d4):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=kt,this['_playWhenL'+'oaded']=!(0x1*-0x1d92+-0x1*0x1009+-0x3cd*-0xc),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0x83*-0x31+0x40f*-0x3+-0xce6));},'pause':function(){return!this['source']||this['_state']!==kt?!(-0x2*0x865+0x1*-0x17e9+0x28b4):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(0x14af+0x18ef+-0x2d9d),this['_state']=ra,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0x2c1*0x2+0x2*-0xf3e+0x23fe));},'resume':function(){return!this['source']||this['_state']!==ra?!(-0x1a*-0x12a+-0x6b0*-0x1+-0x24f3):(this['_state']=kt,this['_playWhenL'+'oaded']=!(0x6d*0x2+0x2089+-0x2*0x10b1),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1b*0x136+-0x5*-0x34a+-0xc49*0x4));},'stop':function(){return!this['source']||this['_state']===Ps?!(0x3ea*0x1+-0x1b15*0x1+0xb96*0x2):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*0x17b7+-0xf2a*0x2+0x360c),this['_state']=Ps,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0xecb*0x1+0x11*0x1b1+-0x2*0x6fb));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x3*0xb73+0x38f*-0x1+-0x1eca);let _0x434c78=Ot(this['_startOffs'+'et'],this['duration']);_0x434c78=Ot(this['_startTime']+_0x434c78,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x434c78;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x3d7+0x1447+-0x1*0x106f),this['source']=this['_sound']['audio']['cloneNode'](!(-0xa9*-0x2f+0x117d+-0x3084)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>Ot(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=Ot(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](ls['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x4d8ac9){_0x4d8ac9=z['clamp'](_0x4d8ac9,-0xc82+0x1e5+-0xd*-0xd1,0xe72+-0x3*-0x1d5+-0x13f0),this['_volume']=_0x4d8ac9,this['source']&&(this['source']['volume']=_0x4d8ac9*this['_manager']['volume']);}}),Object['defineProp'+'erty'](ls['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x38fbf2){this['_pitch']=Math['max'](Number(_0x38fbf2)||0xe6a+-0x6f9+-0x5*0x17d,-0x1f0f+0x17b4+0x75b+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](ls['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x2216c8){this['stop'](),this['_sound']=_0x2216c8;}}),Object['defineProp'+'erty'](ls['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Ps||!this['source']?0x2de*0x3+0x13d9*0x1+-0x1c73:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0xac5449){_0xac5449<-0x1*-0x607+0x175e*-0x1+-0x1157*-0x1||(this['_startOffs'+'et']=_0xac5449,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=Ot(this['_startTime']+Ot(_0xac5449,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Nb=-0x1*-0x4702+-0x36e1+0x16ef;class Kn extends ls{constructor(_0x11a24e,_0x3ce62e,_0x434ca1={}){super(_0x11a24e,_0x3ce62e,_0x434ca1),c(this,'_position',new A()),c(this,'_velocity',new A()),(_0x434ca1['position']&&(this['position']=_0x434ca1['position']),this['maxDistanc'+'e']=_0x434ca1['maxDistanc'+'e']!==void(-0x23a6+-0x250c+0x48b2)?Number(_0x434ca1['maxDistanc'+'e']):Nb,this['refDistanc'+'e']=_0x434ca1['refDistanc'+'e']!==void(0x4*-0x4a9+0x1a35*0x1+-0x791)?Number(_0x434ca1['refDistanc'+'e']):-0xbcb+-0x11e7+-0x1*-0x1db3,this['rollOffFac'+'tor']=_0x434ca1['rollOffFac'+'tor']!==void(-0x2147+-0x95*-0xb+-0x1ae*-0x10)?Number(_0x434ca1['rollOffFac'+'tor']):0x166*-0x12+-0x1*0x4df+-0x4*-0x783,this['distanceMo'+'del']=_0x434ca1['distanceMo'+'del']!==void(0x2*0x95f+-0x246c+-0x2*-0x8d7)?_0x434ca1['distanceMo'+'del']:mc);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x410004){this['_position']['copy'](_0x410004);const _0x27a5c2=this['panner'];'positionX'in _0x27a5c2?(_0x27a5c2['positionX']['value']=_0x410004['x'],_0x27a5c2['positionY']['value']=_0x410004['y'],_0x27a5c2['positionZ']['value']=_0x410004['z']):_0x27a5c2['setPositio'+'n']&&_0x27a5c2['setPositio'+'n'](_0x410004['x'],_0x410004['y'],_0x410004['z']);}get['position'](){return this['_position'];}set['velocity'](_0x30cc42){b['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x30cc42);}get['velocity'](){return b['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x38691e){this['panner']['maxDistanc'+'e']=_0x38691e;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x1c89ae){this['panner']['refDistanc'+'e']=_0x1c89ae;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x3c9dd4){this['panner']['rolloffFac'+'tor']=_0x3c9dd4;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x344f65){this['panner']['distanceMo'+'del']=_0x344f65;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Ni()){let l=new A();const t=function(_0x2b6a1e,_0x49146b,_0x330b86,_0x10d33b,_0x1d4513,_0x443da5){l=l['sub2'](_0x2b6a1e,_0x49146b);const _0x3bb120=l['length']();if(_0x3bb120<_0x330b86)return 0xec9+-0x1f7*-0x9+-0x2077;if(_0x3bb120>_0x10d33b)return-0x1a61+-0x116*0x15+0x312f;let _0x376c18=0x2*0x46a+0x1f7e+-0x1429*0x2;return _0x443da5===mc?_0x376c18=0x10a5+-0x1*-0x26a3+0x35*-0x10b-_0x1d4513*(_0x3bb120-_0x330b86)/(_0x10d33b-_0x330b86):_0x443da5===Nf?_0x376c18=_0x330b86/(_0x330b86+_0x1d4513*(_0x3bb120-_0x330b86)):_0x443da5===dy&&(_0x376c18=Math['pow'](_0x3bb120/_0x330b86,-_0x1d4513)),z['clamp'](_0x376c18,-0x6df*-0x1+0x5*0x4e0+-0x1f3f,-0x1*-0x1696+-0x5ce+-0x1*0x10c7);};Object['defineProp'+'erty'](Kn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x105adc){if(this['_position']['copy'](_0x105adc),this['source']){const _0x10691b=this['_manager']['listener']['getPositio'+'n'](),_0x3b449c=t(_0x10691b,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x11d45b=this['volume'];this['source']['volume']=_0x11d45b*_0x3b449c*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](Kn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x20b738){this['_maxDistan'+'ce']=_0x20b738;}}),Object['defineProp'+'erty'](Kn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x55f010){this['_refDistan'+'ce']=_0x55f010;}}),Object['defineProp'+'erty'](Kn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x4bdeea){this['_rollOffFa'+'ctor']=_0x4bdeea;}}),Object['defineProp'+'erty'](Kn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x595427){this['_distanceM'+'odel']=_0x595427;}});}const a0=0xe56*-0x1+-0x1300+0x2156,bp=0xa29+-0x52a+-0x12*0x47,Gt=-0xfcd+-0xb*-0xa1+0x1*0x8e4,hs=-0xe*0xe3+-0x1800+-0x1*-0x246d,dn=0x6fa+0x53e+-0xc34,wp=0x1f26+0xc84+-0x2ba5,Xc=-0x829*0x3+-0x3b*0x87+0x379e,o0=0xae+0x83*-0x6+0x26b,l0=0x220b+-0x19*0x83+-0x308*0x7,h0=0x1435+-0x1*-0x217f+-0x35ab,c0=0x1ad4+0x1*0x1f67+-0x3a31*0x1,Ba='none',zb='linear',Tp=-0x11c8+-0xec*-0x22+-0xd8e,Ub=0x22e*-0x2+-0x1874+0x1cd0,Vb=-0x1*0x61d+0x25d5+-0xfdb*0x2,d0=-0x1b7c+-0x43*-0x8a+-0x893,zi=-0x8*0x4a2+-0x11d2+0x36e2,es=0x4*0x7fc+-0x26ed+0xa*0xb3,Ap=-0x7e2+-0xfcd+0x17b1,Ep=0x100+0x122f+-0x132c,nl=0x2*-0x376+-0x13e+0x82e,le=0x115*0x7+-0x1*-0x222b+0xdea*-0x3,Le=-0x7*0x151+0x189f+-0xf67,Fe=0x447*-0x6+0x16f7*0x1+0x2b5,Tt=0x3*0x235+0xebe+-0x155d,Gb=-0x818+-0xf3d+0x1756,Hb=0x40b+-0x1124+0xd1b,Wb=0x1*0x1f81+0x13f9*0x1+-0x3377,Cp=0xcbb+-0x2407*0x1+-0x7*-0x354,$b=0xd9*0x2a+-0xe*0x20b+-0x255*0x3,zt=0x1059+-0x1ab*0xe+0x701,Wr=-0x716*-0x2+-0x2f*0x8b+-0x39*-0x33,$r=0x1564+-0x2656+0x5a7*0x3,fh=-0x237d+0x7d5+0x1bac,Gh=0x1a7a+-0x1fb3*0x1+0x53e,Rs=-0x16d7+0x892+0xe4b,Hh=-0x540+0x12fe+-0xdb7,Wh=-0x19cc*-0x1+-0x4f*0x66+0x56*0x11,ku=0x1537*0x1+0x260e*-0x1+0x10e0,nr=new Map([[Gh,{'name':'PCF1_32F','format':Di,'pcf':!(0x2149+-0x1*-0x2f9+-0x15*0x1ba)}],[zt,{'name':'PCF3_32F','format':Di,'pcf':!(-0xdad+0x2279+0x2*-0xa66)}],[fh,{'name':'PCF5_32F','format':Di,'pcf':!(-0x1*-0xca5+-0x1fe6+0x1341)}],[Hh,{'name':'PCF1_16F','format':ca,'pcf':!(-0xd6b+-0x3*-0x917+-0x6*0x24f)}],[Wh,{'name':'PCF3_16F','format':ca,'pcf':!(-0x18e8+0xfe7+0x901)}],[ku,{'name':'PCF5_16F','format':ca,'pcf':!(0x7c8+0x1cb0+-0x2478)}],[Wr,{'name':'VSM_16F','format':it,'vsm':!(-0x3e*-0x13+-0x719+-0x3*-0xd5)}],[$r,{'name':'VSM_32F','format':et,'vsm':!(0x1dec+0x6d2+0x2*-0x125f)}],[Rs,{'name':'PCSS_32F','format':Oi,'pcss':!(0xf2c+0x1c87+-0x3f9*0xb)}]]),Mp=-0x3*0x515+-0x245c*-0x1+-0x1c*0xc1,Ou=-0x18*-0x16f+-0x1058+0x4*-0x484,u0=-0xfe2+-0x2a*-0xd8+0x1*-0x138e,qs=-0x1*-0x1f3+-0x263c*-0x1+-0x282f,qb=-0x2*-0x9eb+0x1b1d+-0x2ef2,$h=-0xce6+0x1*0x20af+0x13c9*-0x1,Xb=-0x5*0x601+0x2b*0x77+0xa09,Xs=0x460*0x2+0x4*-0x25c+0x2c*0x4,pa=-0xc4a+-0x500+0x114b,bo=0x19c8+-0xdae+-0xc1a,Lr=0x5*0x97+0x1*0x1021+-0x1313,Pl=-0x7c3*-0x1+-0x1905+-0x374*-0x5,f0=0x33*0x61+0x1*0xc9+-0x42*0x4e,jb=0x4b5+0xb52+0xe*-0x125,Bm='mul',al=-0x1e16+0x2*0xc75+0x52c,ph=-0x15d1+-0x25c1+0x3b93,Yb={[al]:'NONE',[ph]:'SRGB'},Pp=0x141b+-0xbc0*0x1+0x2c9*-0x3,uF=0x14ac+-0x2*-0x7bb+-0x1*0x2421,fF=-0x24ab+-0x1b0b+-0x4*-0xfee,pF=0x3d*-0x1a+-0x1*-0xc11+-0x5dc,mF=0x2d*-0x10+0x1*0x1f83+-0x1caf,_F=-0x1052+0xfdf+0x78,p0=0xa*-0x2e7+-0x210e*0x1+-0x2*-0x1f0d,m0=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],Kb=-0x50*-0x1c+0x4e*-0x7f+0x2*0xef9,Vo=-0x3e*0x5+0x3*0x2f7+-0x7ae,Bu=-0x2026+0x11aa+0xe7e,Rp=0x1*0x1d69+-0x2511+0x7a9,jc=0x20c1+0xc27+-0x2ce6,_0=-0x1*0x638+-0x58*-0x47+-0x122c,g0=-0x121*0x8+-0x2017+0x2927,y0=-0xa0+-0x6*-0xf1+-0x4f6,Yc=-0x20ae+0x5*0x479+0xa71,Nu=0xbb2+0x1*-0x983+-0xb*0x2d,x0=-0xe*-0x17f+-0x1*0x25bd+0x114b,Ip=-0xc4b+0x1ef4+-0xb*0x19b,Dp=-0x2293+0x1bc1+0x8d2,Kc=-0x23*-0xaf+-0x1063+0x3*-0x12e,Zc=0x8bd+-0x1*-0x292+0x34f*-0x1,S0=0x13cd+-0x912*-0x4+-0x2815*0x1,Qc=0x3cbc+-0x1*-0x2ecd+-0x4b89,zu=0x3a78+0x1*0x6ae6+-0x655e,ks=0x232c+0xd34+-0x3060,un=-0x147a*-0x1+0x41e*0x4+-0x24f1,Lp=0x485*-0x8+-0x7b9+0x1*0x2be3,Ii=0x1*-0x1f4b+-0x15c*0xe+0xd*0x3df,Uu=-0x6b9*-0x1+0x301*0xd+0x1*-0x2dc5,ms=-0x14*-0x3a+0x123e+0x16c5*-0x1,dr=-0x823+-0xd9a*0x2+0x1*0x2359,ar=-0x1d7*0xd+0x1*-0x11e7+0x29d6,xn=-0x196e+0x1783+0x1eb*0x1,ol=-0x1f72+0x48c+-0x1*-0x1ae7,ll=0x2232+0x25e1+-0x4811,Na=0xe00+0x906+-0x1703,Fp=-0x1c*-0x141+-0x5ea+0xa6*-0x2d,Pi=-0x47*-0x5c+0x4*0x5c1+-0x3088,ht=0x101f*-0x1+0x1b7d*-0x1+0x37*0xcb,st=0x2*0x185+0x2*-0x1ff+0xf6,mh=0x1a8f+0x2003+-0x1d*0x205,Rl=-0x81d+-0x1b10+0x232d,_h=-0x672+0xd*0x1b9+-0xff3,Zb=-0xf9e*-0x1+-0x848+0x755*-0x1,Qb=0x2c*-0xa0+0x2*0xb47+0x4f4*0x1,Nm=-0xc4b*0x2+-0x8b*-0x3b+-0x2*0x3b8,Jb=0x1c25+0x1a*-0xc+-0x1ae9,ew=-0x3*0x5c3+0x69c*-0x1+-0x2*-0xbf5,kp=0x4a2*0x1+-0x1*-0x1bb2+-0x2054,Vu=-0x1c93+0x174a+0x54a,ye=0x5*-0x3a4+-0x182*0x17+0x34e2*0x1,Ve=0x24c1+-0x1b*0xf4+-0x1d6*0x6,wo='infinite',tw='box',sw='dome',Os='none',zm='bayer8',iw='prerender',rw='postrender',nw='prerender:'+'layer',aw='postrender'+':layer',ow='precull',lw='postcull';class Jc{constructor(_0x323b48,_0x1d0804,_0x442963){c(this,'uniformFor'+'mats',[]),c(this,'bindGroupF'+'ormats',[]),c(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][Bh]=_0x323b48,this['bindGroupF'+'ormats'][Bh]=_0x1d0804,this['vertexForm'+'at']=_0x442963);}['hasUniform'](_0xe25873){for(let _0x2fc368=0x1140+0x8*-0x21d+0xb*-0x8;_0x2fc368<this['uniformFor'+'mats']['length'];_0x2fc368++){const _0x480ff5=this['uniformFor'+'mats'][_0x2fc368];if(_0x480ff5!=null&&_0x480ff5['get'](_0xe25873))return!(0x17d5*-0x1+0xd*0x3+0x17ae);}return!(0x10b7+0x1450+0x1283*-0x2);}['hasTexture'](_0x75c44f){for(let _0x386441=-0x2e1*-0x1+-0x3a5+0xc4;_0x386441<this['bindGroupF'+'ormats']['length'];_0x386441++){const _0x55eabc=this['bindGroupF'+'ormats'][_0x386441];if(_0x55eabc!=null&&_0x55eabc['getTexture'](_0x75c44f))return!(-0x885+0xa1c+-0x197);}return!(-0x2*0xf6b+0x13d*-0x13+0x365e);}['getVertexE'+'lement'](_0x425a4b){var _0x3bb9af;return(_0x3bb9af=this['vertexForm'+'at'])==null?void(-0x2*-0x2a1+-0x24a7+-0x39*-0x8d):_0x3bb9af['elements']['find'](_0x337fa6=>_0x337fa6['name']===_0x425a4b);}['generateKe'+'y'](_0xc86c59){var _0x1366f6;let _0x295332=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0xc86c59['isWebGPU']&&(_0x295332+=(_0x1366f6=this['vertexForm'+'at'])==null?void(-0x1890+-0x1793*0x1+0x3023):_0x1366f6['shaderProc'+'essingHash'+'String']),_0x295332;}}const hw='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',cw='\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20li'+'ght_global'+'Ambient;\x0a}'+'\x0a',dw='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20normaliz'+'e(cubeMapR'+'otate(worl'+'dNormal)\x20*'+'\x20vec3(-1.0'+',\x201.0,\x201.0'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+'28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20raw'+'\x20=\x20texture'+'2D(texture'+'_envAtlas,'+'\x20uv);\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'r\x20=\x20$DECOD'+'E(raw);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a}\x0a',uw='\x0auniform\x20v'+'ec3\x20ambien'+'tSH[9];\x0a\x0av'+'oid\x20addAmb'+'ient(vec3\x20'+'worldNorma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[0]\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[1]\x20*\x20'+'n.x\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[3]\x20*\x20n.'+'z\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[4]\x20*\x20n.x'+'\x20*\x20n.z\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[5]\x20'+'*\x20n.z\x20*\x20n.'+'y\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[6]\x20*\x20n.y'+'\x20*\x20n.x\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[8]\x20*'+'\x20(n.x\x20*\x20n.'+'x\x20-\x20n.y\x20*\x20'+'n.y);\x0a\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(max'+'(color,\x20ve'+'c3(0.0)));'+'\x0a}\x0a',fw='\x0a\x0a#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20AO_INTEN'+'SITY\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'AO_INTENSI'+'TY\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'aoIntensit'+'y;\x0a#endif\x0a'+'\x0avoid\x20getA'+'O()\x20{\x0a\x20\x20\x20\x20'+'dAo\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ao'+'Base\x20=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'ddAoDetail'+'(aoBase);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAo\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'$VC);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20A'+'O_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'material_a'+'oIntensity'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',pw='\x0afloat\x20add'+'AoDetail(f'+'loat\x20ao)\x20{'+'\x0a#ifdef\x20MA'+'PTEXTURE\x0a\x20'+'\x20\x20\x20float\x20a'+'oDetail\x20=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20return\x20de'+'tailMode_$'+'DETAILMODE'+'(vec3(ao),'+'\x20vec3(aoDe'+'tail)).r;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ao;'+'\x0a#endif\x0a}\x0a',mw='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',_w='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x20\x20\x20\x20spec'+'Occ\x20=\x20mix('+'1.0,\x20specO'+'cc,\x20materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20dRef'+'lection\x20*='+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x0a#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20sSpe'+'cularLight'+'\x20*=\x20specOc'+'c;\x0a\x20\x20\x20\x20sRe'+'flection\x20*'+'=\x20specOcc;'+'\x0a#endif\x0a}\x0a',gw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20//\x20appr'+'oximated\x20s'+'pecular\x20oc'+'clusion\x20fr'+'om\x20AO\x0a\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'//\x20http://'+'research.t'+'ri-ace.com'+'/Data/cede'+'c2011_Real'+'timePBR_Im'+'plementati'+'on_e.pptx\x0a'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01*'+'specPow)\x20-'+'\x201.0\x20+\x20ao)'+';\x0a\x0a\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20specO'+'cc;\x0a\x20\x20\x20\x20dR'+'eflection\x20'+'*=\x20specOcc'+';\x0a\x20\x20\x20\x20\x0a#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20s'+'Reflection'+'\x20*=\x20specOc'+'c;\x0a#endif\x0a'+'}\x0a',yw='\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20dSpecul'+'arLight\x20*='+'\x20ao;\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20*=\x20ao;\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'sSpecularL'+'ight\x20*=\x20ao'+';\x0a\x20\x20\x20\x20sRef'+'lection\x20*='+'\x20ao;\x0a#endi'+'f\x0a}\x0a',xw='\x0auniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x0avoid\x20occl'+'udeSpecula'+'r(float\x20gl'+'oss,\x20float'+'\x20ao,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20float\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20ao'+',\x20material'+'_occludeSp'+'ecularInte'+'nsity);\x0a\x20\x20'+'\x20\x20dSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20*=\x20sp'+'ecOcc;\x0a\x0a#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20s'+'SpecularLi'+'ght\x20*=\x20spe'+'cOcc;\x0a\x20\x20\x20\x20'+'sReflectio'+'n\x20*=\x20specO'+'cc;\x0a#endif'+'\x0a}\x0a',Sw='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',vw='\x0aattribute'+'\x20vec4\x20vert'+'ex_tangent'+';\x0aattribut'+'e\x20vec2\x20ver'+'tex_texCoo'+'rd0;\x0aattri'+'bute\x20vec2\x20'+'vertex_tex'+'Coord1;\x0aat'+'tribute\x20ve'+'c4\x20vertex_'+'color;\x0a\x0ave'+'c3\x20dPositi'+'onW;\x0amat4\x20'+'dModelMatr'+'ix;\x0a\x0a#incl'+'ude\x20\x22trans'+'formCoreVS'+'\x22\x0a',bw='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',ww='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a',Tw='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',Aw='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',Ew='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0auni'+'form\x20float'+'\x20weight[SA'+'MPLES];\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20moments'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20vU'+'v0\x20-\x20pixel'+'Offset\x20*\x20('+'float(SAMP'+'LES)\x20*\x200.5'+');\x0a\x20\x20\x20\x20for'+'\x20(int\x20i=0;'+'\x20i<SAMPLES'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20c\x20=\x20text'+'ure2D(sour'+'ce,\x20uv\x20+\x20p'+'ixelOffset'+'\x20*\x20float(i'+'));\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20+=\x20c.xyz'+'\x20*\x20weight['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20mome'+'nts\x20+=\x20c.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20GA'+'USS\x0a\x20\x20\x20\x20mo'+'ments\x20/=\x20f'+'loat(SAMPL'+'ES);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(moments.x'+',\x20moments.'+'y,\x20moments'+'.z,\x201.0);\x0a'+'}\x0a',Cw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoat;'+'\x0a#endif\x0a\x0av'+'oid\x20getCle'+'arCoat()\x20{'+'\x0a\x20\x20\x20\x20ccSpe'+'cularity\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20*=\x20ma'+'terial_cle'+'arCoat;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ccS'+'pecularity'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',Mw='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'clearCoatG'+'loss;\x0a#end'+'if\x0a\x0avoid\x20g'+'etClearCoa'+'tGlossines'+'s()\x20{\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPFLOAT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20*='+'\x20material_'+'clearCoatG'+'loss;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20ccGlos'+'siness\x20*=\x20'+'saturate(v'+'VertexColo'+'r.$VC);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPINVERT'+'\x0a\x20\x20\x20\x20ccGlo'+'ssiness\x20=\x20'+'1.0\x20-\x20ccGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20ccGl'+'ossiness\x20+'+'=\x200.000000'+'1;\x0a}\x0a',Pw='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_clearCoa'+'tBumpiness'+';\x0a#endif\x0a\x0a'+'void\x20getCl'+'earCoatNor'+'mal()\x20{\x0a#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20norma'+'lMap\x20=\x20unp'+'ackNormal('+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+'));\x0a\x20\x20\x20\x20no'+'rmalMap\x20=\x20'+'mix(vec3(0'+'.0,\x200.0,\x201'+'.0),\x20norma'+'lMap,\x20mate'+'rial_clear'+'CoatBumpin'+'ess);\x0a\x20\x20\x20\x20'+'ccNormalW\x20'+'=\x20normaliz'+'e(dTBN\x20*\x20n'+'ormalMap);'+'\x0a#else\x0a\x20\x20\x20'+'\x20ccNormalW'+'\x20=\x20dVertex'+'NormalW;\x0a#'+'endif\x0a}\x0a',Rw='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.z'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if(vAbs.'+'y\x20>=\x20vAbs.'+'x)\x20{\x20\x20//\x20t'+'op\x20index\x202'+',\x20bottom\x20i'+'ndex\x203\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20face'+'Index\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x203.0\x20:\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2(di'+'r.x,\x20dir.y'+'\x20<\x200.0\x20?\x20-'+'dir.z\x20:\x20di'+'r.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.y\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x20\x20\x20\x20'+'//\x20left\x20/\x20'+'right\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.x\x20<\x200.0\x20?'+'\x201.0\x20:\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.x;\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x\x20<\x200.0\x20?'+'\x20dir.z\x20:\x20-'+'dir.z,\x20-di'+'r.y);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset.x\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.y\x20=\x20di'+'r.x\x20<\x200.0\x20'+'?\x201.0\x20:\x200.'+'0;\x0a\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20return'+'\x20uv\x20*\x20ma\x20+'+'\x200.5;\x0a}\x0a\x0a/'+'/\x20converts'+'\x20unnormali'+'zed\x20direct'+'ion\x20vector'+'\x20to\x20a\x20text'+'ure\x20coordi'+'nate\x20for\x20a'+'\x20cubemap\x20f'+'ace\x20stored'+'\x20within\x20te'+'xture\x20atla'+'s\x20describe'+'d\x20by\x20the\x20v'+'iewport\x0ave'+'c2\x20getCube'+'mapAtlasCo'+'ordinates('+'const\x20vec3'+'\x20omniAtlas'+'Viewport,\x20'+'float\x20shad'+'owEdgePixe'+'ls,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20const'+'\x20vec3\x20dir)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20faceIn'+'dex;\x0a\x20\x20\x20\x20v'+'ec2\x20tileOf'+'fset;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'getCubemap'+'FaceCoordi'+'nates(dir,'+'\x20faceIndex'+',\x20tileOffs'+'et);\x0a\x0a\x20\x20\x20\x20'+'//\x20move\x20uv'+'\x20coordinat'+'es\x20inwards'+'\x20inside\x20to'+'\x20compensat'+'e\x20for\x20larg'+'er\x20fov\x20whe'+'n\x20renderin'+'g\x20shadow\x20i'+'nto\x20atlas\x0a'+'\x20\x20\x20\x20float\x20'+'atlasFaceS'+'ize\x20=\x20omni'+'AtlasViewp'+'ort.z;\x0a\x20\x20\x20'+'\x20float\x20til'+'eSize\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20float\x20o'+'ffset\x20=\x20sh'+'adowEdgePi'+'xels\x20/\x20til'+'eSize;\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20vec2(1.0\x20'+'-\x20offset\x20*'+'\x202.0)\x20+\x20ve'+'c2(offset\x20'+'*\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20scal'+'e\x20uv\x20coord'+'inates\x20to\x20'+'cube\x20face\x20'+'area\x20withi'+'n\x20the\x20view'+'port\x0a\x20\x20\x20\x20u'+'v\x20*=\x20atlas'+'FaceSize;\x0a'+'\x0a\x20\x20\x20\x20//\x20of'+'fset\x20into\x20'+'face\x20of\x20th')+('e\x20atlas\x20(3'+'x3\x20grid)\x0a\x20'+'\x20\x20\x20uv\x20+=\x20t'+'ileOffset\x20'+'*\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20the'+'\x20atlas\x20vie'+'wport\x0a\x20\x20\x20\x20'+'uv\x20+=\x20omni'+'AtlasViewp'+'ort.xy;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'uv;\x0a}\x0a'),Iw='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20bool\x20is'+'Rgb,\x20vec4\x20'+'cookieChan'+'nel)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20pixe'+'l\x20=\x20mix(ve'+'c4(1.0),\x20t'+'exture2DLo'+'d(tex,\x20uv,'+'\x200.0),\x20int'+'ensity);\x0a\x20'+'\x20\x20\x20return\x20'+'isRgb\x20==\x20t'+'rue\x20?\x20pixe'+'l.rgb\x20:\x20ve'+'c3(dot(pix'+'el,\x20cookie'+'Channel));'+'\x0a}\x0a\x0a//\x20get'+'Cookie2D\x20f'+'or\x20cluster'+'ed\x20lightin'+'g\x20includin'+'g\x20channel\x20'+'selector\x0av'+'ec3\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_ACCEPT('+'tex),\x20mat4'+'\x20transform'+',\x20vec3\x20wor'+'ldPosition'+',\x20float\x20in'+'tensity,\x20b'+'ool\x20isRgb,'+'\x20vec4\x20cook'+'ieChannel)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(TEXTURE_P'+'ASS(tex),\x20'+'projPos.xy'+'\x20/\x20projPos'+'.w,\x20intens'+'ity,\x20isRgb'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20bool\x20isR'+'gb,\x20vec4\x20c'+'ookieChann'+'el,\x20float\x20'+'shadowText'+'ureResolut'+'ion,\x20float'+'\x20shadowEdg'+'ePixels,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+('lution,\x20di'+'r);\x0a\x20\x20\x20\x20re'+'turn\x20_getC'+'ookieClust'+'ered(TEXTU'+'RE_PASS(te'+'x),\x20uv,\x20in'+'tensity,\x20i'+'sRgb,\x20cook'+'ieChannel)'+';\x0a}\x0a'),Dw='\x0a//\x20Cluste'+'red\x20Omni\x20S'+'ampling\x20us'+'ing\x20atlas\x0a'+'\x0avoid\x20_get'+'ShadowCoor'+'dPerspZbuf'+'fer(mat4\x20s'+'hadowMatri'+'x,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20wPo'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20projPo'+'s\x20=\x20shadow'+'Matrix\x20*\x20v'+'ec4(wPos,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'projPos.xy'+'z\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'dShadowCoo'+'rd\x20=\x20projP'+'os.xyz;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0avo'+'id\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(mat4\x20sha'+'dowMatrix,'+'\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20wPos\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y;\x0a\x20'+'\x20\x20\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20inout\x20ve'+'c3\x20lightDi'+'r,\x20vec3\x20li'+'ghtDirNorm'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20float\x20dis'+'tScale\x20=\x20l'+'ength(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20vec3\x20wPos'+'\x20=\x20vPositi'+'onW\x20+\x20norm'+'al\x20*\x20shado'+'wParams.y\x20'+'*\x20clamp(1.'+'0\x20-\x20dot(no'+'rmal,\x20-lig'+'htDirNorm)'+',\x200.0,\x201.0'+')\x20*\x20distSc'+'ale;\x20//0.0'+'2\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20wPo'+'s\x20-\x20lightP'+'os;\x0a\x20\x20\x20\x20re'+'turn\x20dir;\x0a'+'}\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x0afloat\x20ge'+'tShadowOmn'+'iClustered'+'PCF1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+('dgePixels,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'hadowTextu'+'reResoluti'+'on\x20=\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20getCu'+'bemapAtlas'+'Coordinate'+'s(omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20s'+'hadowTextu'+'reResoluti'+'on,\x20lightD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'v,\x20shadowZ'+'));\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF3(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'5)\x0a\x0afloat\x20'+'getShadowO'+'mniCluster'+'edPCF5(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec4')+('\x20shadowPar'+'ams,\x20vec3\x20'+'omniAtlasV'+'iewport,\x20f'+'loat\x20shado'+'wEdgePixel'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20vec3(uv'+',\x20shadowZ)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a}\x0a\x0a#en'+'dif\x0a\x0a//\x20Cl'+'ustered\x20Sp'+'ot\x20Samplin'+'g\x20using\x20at'+'las\x0a\x0a#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x0afloat\x20'+'getShadowS'+'potCluster'+'edPCF1(SHA'+'DOWMAP_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20text'+'ureShadow('+'shadowMap,'+'\x20shadowCoo'+'rd);\x0a}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0afloat'+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms)\x20{\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA'+'DOWMAP_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a}\x0a\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF5)'+'\x0a\x0afloat\x20ge'+'tShadowSpo'+'tClustered')+('PCF5(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a}\x0a#en'+'dif\x0a'),Lw='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20clust'+'erWorldTex'+'ture;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ure8;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'lightsText'+'ureFloat;\x0a'+'\x0a//\x20comple'+'x\x20ifdef\x20ex'+'pression\x20a'+'re\x20not\x20sup'+'ported,\x20ha'+'ndle\x20it\x20he'+'re\x0a//\x20defi'+'ned(CLUSTE'+'R_COOKIES)'+'\x20||\x20define'+'d(CLUSTER_'+'SHADOWS)\x0a#'+'if\x20defined'+'(CLUSTER_C'+'OOKIES)\x0a\x20\x20'+'\x20\x20#define\x20'+'CLUSTER_CO'+'OKIES_OR_S'+'HADOWS\x0a#en'+'dif\x0a#if\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x20\x20\x20\x20#de'+'fine\x20CLUST'+'ER_COOKIES'+'_OR_SHADOW'+'S\x0a#endif\x0a\x0a'+'#ifdef\x20CLU'+'STER_SHADO'+'WS\x0a\x20\x20\x20\x20//\x20'+'TODO:\x20when'+'\x20VSM\x20shado'+'w\x20is\x20suppo'+'rted,\x20it\x20n'+'eeds\x20to\x20us'+'e\x20sampler2'+'D\x20in\x20webgl'+'2\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2DShadow\x20'+'shadowAtla'+'sTexture;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20CLUST'+'ER_COOKIES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20cookieA'+'tlasTextur'+'e;\x0a#endif\x0a'+'\x0auniform\x20i'+'nt\x20cluster'+'MaxCells;\x0a'+'\x0a//\x201.0\x20if'+'\x20clustered'+'\x20lighting\x20'+'can\x20be\x20ski'+'pped\x20(0\x20li'+'ghts\x20in\x20th'+'e\x20clusters'+')\x0auniform\x20'+'float\x20clus'+'terSkip;\x0a\x0a'+'uniform\x20ve'+'c3\x20cluster'+'CellsCount'+'ByBoundsSi'+'ze;\x0aunifor'+'m\x20vec3\x20clu'+'sterTextur'+'eSize;\x0auni'+'form\x20vec3\x20'+'clusterBou'+'ndsMin;\x0aun'+'iform\x20vec3'+'\x20clusterBo'+'undsDelta;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsDot;'+'\x0auniform\x20v'+'ec3\x20cluste'+'rCellsMax;'+'\x0auniform\x20v'+'ec2\x20cluste'+'rCompressi'+'onLimit0;\x0a'+('uniform\x20ve'+'c2\x20shadowA'+'tlasParams'+';\x0a\x0a//\x20stru'+'cture\x20stor'+'ing\x20light\x20'+'properties'+'\x20of\x20a\x20clus'+'tered\x20ligh'+'t\x0a//\x20it\x27s\x20'+'sorted\x20to\x20'+'have\x20all\x20v'+'ectors\x20ali'+'gned\x20to\x204\x20'+'floats\x20to\x20'+'limit\x20padd'+'ing\x0astruct'+'\x20ClusterLi'+'ghtData\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20s'+'izes\x20/\x20ori'+'entation\x0a\x20'+'\x20\x20\x20vec3\x20ha'+'lfWidth;\x0a\x0a'+'\x20\x20\x20\x20//\x20typ'+'e\x20of\x20the\x20l'+'ight\x20(spot'+'\x20or\x20omni)\x0a'+'\x20\x20\x20\x20float\x20'+'lightType;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'sizes\x20/\x20or'+'ientation\x0a'+'\x20\x20\x20\x20vec3\x20h'+'alfHeight;'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20int\x20l'+'ightIndex;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20position\x0a'+'\x20\x20\x20\x20vec3\x20p'+'osition;\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20fl'+'oat\x20shape;'+'\x0a\x0a\x20\x20\x20\x20//\x20w'+'orld\x20space'+'\x20direction'+'\x20(spot\x20lig'+'ht\x20only)\x0a\x20'+'\x20\x20\x20vec3\x20di'+'rection;\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20follow\x20'+'mode\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ffMode;\x0a\x0a\x20'+'\x20\x20\x20//\x20colo'+'r\x0a\x20\x20\x20\x20vec3'+'\x20color;\x0a\x0a\x20'+'\x20\x20\x20//\x200.0\x20'+'if\x20the\x20lig'+'ht\x20doesn\x27t'+'\x20cast\x20shad'+'ows\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'tlas\x20viewp'+'ort\x20for\x20om'+'ni\x20light\x20s'+'hadow\x20and\x20'+'cookie\x20(.x'+'y\x20is\x20offse'+'t\x20to\x20the\x20v'+'iewport\x20sl'+'ot,\x20.z\x20is\x20'+'size\x20of\x20th'+'e\x20face\x20in\x20'+'the\x20atlas)'+'\x0a\x20\x20\x20\x20vec3\x20'+'omniAtlasV'+'iewport;\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'float\x20rang'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20channel\x20m'+'ask\x20-\x20one\x20'+'of\x20the\x20cha'+'nnels\x20has\x20'+'1,\x20the\x20oth'+'ers\x20are\x200\x0a'+'\x20\x20\x20\x20vec4\x20c')+('ookieChann'+'elMask;\x0a\x0a\x20'+'\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20inner\x20'+'and\x20outer\x20'+'angle\x20cosi'+'ne\x0a\x20\x20\x20\x20flo'+'at\x20innerCo'+'neAngleCos'+';\x0a\x20\x20\x20\x20floa'+'t\x20outerCon'+'eAngleCos;'+'\x0a\x0a\x20\x20\x20\x20//\x201'+'.0\x20if\x20the\x20'+'light\x20has\x20'+'a\x20cookie\x20t'+'exture\x0a\x20\x20\x20'+'\x20float\x20coo'+'kie;\x0a\x0a\x20\x20\x20\x20'+'//\x201.0\x20if\x20'+'cookie\x20tex'+'ture\x20is\x20rg'+'b,\x20otherwi'+'se\x20it\x20is\x20u'+'sing\x20a\x20sin'+'gle\x20channe'+'l\x20selectab'+'le\x20by\x20cook'+'ieChannelM'+'ask\x0a\x20\x20\x20\x20fl'+'oat\x20cookie'+'Rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20intensi'+'ty\x20of\x20the\x20'+'cookie\x0a\x20\x20\x20'+'\x20float\x20coo'+'kieIntensi'+'ty;\x0a\x0a\x20\x20\x20\x20/'+'/\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20flo'+'at\x20mask;\x0a}'+';\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0am'+'at4\x20lightP'+'rojectionM'+'atrix;\x0a\x0a//'+'\x20macros\x20fo'+'r\x20light\x20pr'+'operties\x0a#'+'define\x20isC'+'lusteredLi'+'ghtCastSha'+'dow(light)'+'\x20(\x20light.s'+'hadowInten'+'sity\x20>\x200.0')+('\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kie(light)'+'\x20(light.co'+'okie\x20>\x200.5'+'\x20)\x0a#define'+'\x20isCluster'+'edLightCoo'+'kieRgb(lig'+'ht)\x20(light'+'.cookieRgb'+'\x20>\x200.5\x20)\x0a#'+'define\x20isC'+'lusteredLi'+'ghtSpot(li'+'ght)\x20(\x20lig'+'ht.lightTy'+'pe\x20>\x200.5\x20)'+'\x0a#define\x20i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight)\x20(\x20li'+'ght.fallof'+'fMode\x20<\x200.'+'5\x20)\x0a\x0a//\x20ma'+'cros\x20to\x20te'+'st\x20light\x20s'+'hape\x0a//\x20No'+'te:\x20Follow'+'ing\x20functi'+'ons\x20need\x20t'+'o\x20be\x20calle'+'d\x20serially'+'\x20in\x20listed'+'\x20order\x20as\x20'+'they\x20do\x20no'+'t\x20test\x20bot'+'h\x20\x27>\x27\x20and\x20'+'\x27<\x27\x0a#defin'+'e\x20isCluste'+'redLightAr'+'ea(light)\x20'+'(\x20light.sh'+'ape\x20>\x200.1\x20'+')\x0a#define\x20'+'isClustere'+'dLightRect'+'(light)\x20(\x20'+'light.shap'+'e\x20<\x200.3\x20)\x0a'+'#define\x20is'+'ClusteredL'+'ightDisk(l'+'ight)\x20(\x20li'+'ght.shape\x20'+'<\x200.6\x20)\x0a\x0a/'+'/\x20macro\x20to'+'\x20test\x20ligh'+'t\x20mask\x20(me'+'sh\x20accepts'+'\x20dynamic\x20v'+'s\x20lightmap'+'ped\x20lights'+')\x0a#ifdef\x20C'+'LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20//\x20accept'+'\x20lights\x20ma'+'rked\x20as\x20dy'+'namic\x20or\x20b'+'oth\x20dynami'+'c\x20and\x20ligh'+'tmapped\x0a\x20\x20'+'\x20\x20#define\x20'+'acceptLigh'+'tMask(ligh'+'t)\x20(\x20light'+'.mask\x20<\x200.'+'75)\x0a#else\x0a'+'\x20\x20\x20\x20//\x20acc'+'ept\x20lights'+'\x20marked\x20as'+'\x20lightmapp'+'ed\x20or\x20both'+'\x20dynamic\x20a'+'nd\x20lightma'+'pped\x0a\x20\x20\x20\x20#'+'define\x20acc'+'eptLightMa'+'sk(light)\x20'+'(\x20light.ma'+'sk\x20>\x200.25)'+'\x0a#endif\x0a\x0av'+'ec4\x20decode'+'ClusterLow'+'Range4Vec4'+'(vec4\x20d0,\x20')+('vec4\x20d1,\x20v'+'ec4\x20d2,\x20ve'+'c4\x20d3)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bytes2'+'floatRange'+'4(d0,\x20-2.0'+',\x202.0),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20byte'+'s2floatRan'+'ge4(d1,\x20-2'+'.0,\x202.0),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20by'+'tes2floatR'+'ange4(d2,\x20'+'-2.0,\x202.0)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'bytes2floa'+'tRange4(d3'+',\x20-2.0,\x202.'+'0)\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avec4\x20sa'+'mpleLights'+'Texture8(c'+'onst\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData,\x20'+'int\x20index)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20texelF'+'etch(light'+'sTexture8,'+'\x20ivec2(ind'+'ex,\x20cluste'+'rLightData'+'.lightInde'+'x),\x200);\x0a}\x0a'+'\x0avec4\x20samp'+'leLightTex'+'tureF(cons'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20int'+'\x20index)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(lightsTe'+'xtureFloat'+',\x20ivec2(in'+'dex,\x20clust'+'erLightDat'+'a.lightInd'+'ex),\x200);\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightCore('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData,'+'\x20float\x20lig'+'htIndex)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20l'+'ight\x20index'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.lightInd'+'ex\x20=\x20int(l'+'ightIndex)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'shared\x20dat'+'a\x20from\x208bi'+'t\x20texture\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightInfo\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_FL'+'AGS);\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.lig'+'htType\x20=\x20l'+'ightInfo.x'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shape\x20='+'\x20lightInfo'+'.y;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.fallo'+'ffMode\x20=\x20l'+'ightInfo.z'+';\x0a\x20\x20\x20\x20clus'+'terLightDa')+('ta.shadowI'+'ntensity\x20='+'\x20lightInfo'+'.w;\x0a\x0a\x20\x20\x20\x20/'+'/\x20color\x0a\x20\x20'+'\x20\x20vec4\x20col'+'orA\x20=\x20samp'+'leLightsTe'+'xture8(clu'+'sterLightD'+'ata,\x20CLUST'+'ER_TEXTURE'+'_8_COLOR_A'+');\x0a\x20\x20\x20\x20vec'+'4\x20colorB\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_CO'+'LOR_B);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.c'+'olor\x20=\x20vec'+'3(bytes2fl'+'oat2(color'+'A.xy),\x20byt'+'es2float2('+'colorA.zw)'+',\x20bytes2fl'+'oat2(color'+'B.xy))\x20*\x20c'+'lusterComp'+'ressionLim'+'it0.y;\x0a\x0a\x20\x20'+'\x20\x20//\x20cooki'+'e\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.cookie\x20'+'=\x20colorB.z'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.mask\x20=\x20c'+'olorB.w;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20l'+'ightPosRan'+'ge\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_POSITION_'+'RANGE);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.p'+'osition\x20=\x20'+'lightPosRa'+'nge.xyz;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'range\x20=\x20li'+'ghtPosRang'+'e.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20ve'+'c4\x20lightDi'+'r_Unused\x20='+'\x20sampleLig'+'htTextureF'+'(clusterLi'+'ghtData,\x20C'+'LUSTER_TEX'+'TURE_F_SPO'+'T_DIRECTIO'+'N);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.direc'+'tion\x20=\x20lig'+'htDir_Unus'+'ed.xyz;\x0a}\x0a'+'\x0avoid\x20deco'+'deClusterL'+'ightSpot(i'+'nout\x20Clust'+'erLightDat'+'a\x20clusterL'+'ightData)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20cos\x20angle'+'s\x0a\x20\x20\x20\x20vec4'+'\x20coneAngle'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste')+('rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'SPOT_ANGLE'+'S);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20bytes'+'2float2(co'+'neAngle.xy'+')\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20byte'+'s2float2(c'+'oneAngle.z'+'w)\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_F_'+'PROJ_MAT_0'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_AREA_D'+'ATA_WIDTH)'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20CL'+'USTER_TEXT'+'URE_F_AREA'+'_DATA_HEIG'+'HT).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20CLU'+'STER_TEXTU'+'RE_F_PROJ_'+'MAT_0);\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_F_PR'+'OJ_MAT_1);'+'\x0a\x20\x20\x20\x20vec4\x20')+('m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20CLUSTER'+'_TEXTURE_F'+'_PROJ_MAT_'+'2);\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_F_PROJ_M'+'AT_3);\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'4\x20biases\x20='+'\x20sampleLig'+'htsTexture'+'8(clusterL'+'ightData,\x20'+'CLUSTER_TE'+'XTURE_8_SH'+'ADOW_BIAS)'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.shadowB'+'ias\x20=\x20byte'+'s2floatRan'+'ge2(biases'+'.xy,\x20-1.0,'+'\x2020.0),\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.s'+'hadowNorma'+'lBias\x20=\x20by'+'tes2float2'+'(biases.zw'+');\x0a}\x0a\x0avoid'+'\x20decodeClu'+'sterLightC'+'ookieData('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20cookieA'+'\x20=\x20sampleL'+'ightsTextu'+'re8(cluste'+'rLightData'+',\x20CLUSTER_'+'TEXTURE_8_'+'COOKIE_A);'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'cookieA.x;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieRg'+'b\x20=\x20cookie'+'A.y;\x0a\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.coo'+'kieChannel'+'Mask\x20=\x20sam'+'pleLightsT'+'exture8(cl'+'usterLight'+'Data,\x20CLUS'+'TER_TEXTUR'+'E_8_COOKIE'+'_B);\x0a}\x0a\x0avo'+'id\x20evaluat'+'eLight(\x0a\x20\x20'+'\x20\x20ClusterL'+'ightData\x20l'+'ight,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v')+('iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20vec3\x20c'+'learcoatRe'+'flectionDi'+'r,\x0a#endif\x0a'+'\x20\x20\x20\x20float\x20'+'gloss,\x20\x0a\x20\x20'+'\x20\x20vec3\x20spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'geometricN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20mat3\x20tbn'+',\x20\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20vec3\x20cle'+'arcoat_wor'+'ldNormal,\x0a'+'\x20\x20\x20\x20float\x20'+'clearcoat_'+'gloss,\x0a\x20\x20\x20'+'\x20float\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20float\x20'+'iridescenc'+'e_intensit'+'y\x0a)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cook'+'ieAttenuat'+'ion\x20=\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20float\x20dif'+'fuseAttenu'+'ation\x20=\x201.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20falloff'+'Attenuatio'+'n\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20omni'+'\x20part\x20of\x20t'+'he\x20light\x0a\x20'+'\x20\x20\x20getLigh'+'tDirPoint('+'light.posi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20//\x20dist'+'ance\x20atten'+'uation\x0a\x20\x20\x20'+'\x20if\x20(isClu'+'steredLigh'+'tArea(ligh'+'t))\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20area\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20decodeCl'+'usterLight'+'AreaData(l'+'ight);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20h'+'andle\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightRect'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(light.p'+'osition,\x20l'+'ight.halfW'+'idth,\x20ligh'+'t.halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(isClus'+'teredLight'+'Disk(light'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cal'+'cDiskLight'+'Values(lig'+'ht.positio'+'n,\x20light.h')+('alfWidth,\x20'+'light.half'+'Height);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x20//\x20s'+'phere\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcSphereLi'+'ghtValues('+'light.posi'+'tion,\x20ligh'+'t.halfWidt'+'h,\x20light.h'+'alfHeight)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20falloffAt'+'tenuation\x20'+'=\x20getFallo'+'ffWindow(l'+'ight.range'+',\x20dLightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightFallo'+'ffLinear(l'+'ight))\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20=\x20'+'getFalloff'+'Linear(lig'+'ht.range,\x20'+'dLightDirW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffI'+'nvSquared('+'light.rang'+'e,\x20dLightD'+'irW);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20C'+'LUSTER_ARE'+'ALIGHTS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightAre'+'a(light))\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtRect(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20diffus'+'eAttenuati'+'on\x20=\x20getRe'+'ctLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20dLi'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(isCl'+'usteredLig'+'htDisk(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getDis'+'kLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirW,\x20dL'+'ightDirNor'+'mW)\x20*\x2016.0')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'alloffAtte'+'nuation\x20*='+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW);\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isCluste'+'redLightSp'+'ot(light))'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_COO'+'KIES_OR_SH'+'ADOWS)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'falloffAtt'+'enuation\x20>'+'\x200.00001)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x20/\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightCast'+'Shadow(lig'+'ht)\x20||\x20isC'+'lusteredLi'+'ghtCookie('+'light))\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'shared\x20sha'+'dow\x20/\x20cook'+'ie\x20data\x20de'+'pends\x20on\x20l'+'ight\x20type\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'isClustere'+'dLightSpot'+'(light))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightP'+'rojectionM'+'atrixData('+'light);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tOmniAtlas'+'Viewport(l'+'ight);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adowTextur'+'eResolutio'+'n\x20=\x20shadow'+'AtlasParam'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dowEdgePix'+'els\x20=\x20shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(isClus'+'teredLight'+'Cookie(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dec'+'odeCluster'+'LightCooki'+'eData(ligh'+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(i'+'sClustered'+'LightSpot('+'light))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightProjec'+'tionMatrix'+',\x20vPositio'+'nW,\x20light.'+'cookieInte'+'nsity,\x20isC'+'lusteredLi'+'ghtCookieR'+'gb(light),'+'\x20light.coo'+'kieChannel'+'Mask);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookieC'+'ubeCluster'+'ed(TEXTURE'+'_PASS(cook'+'ieAtlasTex'+'ture),\x20dLi'+'ghtDirW,\x20l'+'ight.cooki'+'eIntensity'+',\x20isCluste'+'redLightCo'+'okieRgb(li'+'ght),\x20ligh'+'t.cookieCh'+'annelMask,'+'\x20shadowTex'+'tureResolu'+'tion,\x20shad'+'owEdgePixe'+'ls,\x20light.'+'omniAtlasV'+'iewport);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_SHAD'+'OWS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightCas'+'tShadow(li'+'ght))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightShad'+'owData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shadowPar'+'ams\x20=\x20vec4'+'(shadowTex'+'tureResolu'+'tion,\x20ligh'+'t.shadowNo'+'rmalBias,\x20'+'light.shad'+'owBias,\x201.'+'0\x20/\x20light.'+'range);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(isClust'+'eredLightS'+'pot(light)'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tShadowCoo'+'rdPerspZbu'+'fferNormal'+'Offset(lig'+'htProjecti'+'onMatrix,\x20'+'shadowPara'+'ms,\x20geomet'+'ricNormal)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF1)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wSpotClust'+'eredPCF1(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20dShad'+'owCoord,\x20s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCF3(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20dShado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el')+('if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadow\x20=\x20'+'getShadowS'+'potCluster'+'edPCF5(SHA'+'DOWMAP_PAS'+'S(shadowAt'+'lasTexture'+'),\x20dShadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCSS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowSp'+'otClustere'+'dPCSS(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20dShadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20*=\x20mi'+'x(1.0,\x20sha'+'dow,\x20light'+'.shadowInt'+'ensity);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20omn'+'i\x20shadow\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20normal'+'OffsetPoin'+'tShadow(sh'+'adowParams'+',\x20dLightPo'+'sW,\x20dLight'+'DirW,\x20dLig'+'htDirNormW'+',\x20geometri'+'cNormal);\x20'+'\x20//\x20normal'+'Bias\x20adjus'+'ted\x20for\x20di'+'stance\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF1)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owOmniClus'+'teredPCF1('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owParams,\x20'+'light.omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20dir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20d'+'efined(CLU')+('STER_SHADO'+'W_TYPE_PCF'+'3)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F3(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF5)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF5(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,'+'\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20*'+'=\x20mix(1.0,'+'\x20shadow,\x20l'+'ight.shado'+'wIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20d'+'iffuse\x20/\x20s'+'pecular\x20/\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_AREALIG'+'HTS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isC'+'lusteredLi'+'ghtArea(li'+'ght))\x20{\x20//'+'\x20area\x20ligh'+'t\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ar'+'ea\x20light\x20d'+'iffuse\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20areaDiff'+'use\x20=\x20(dif'+'fuseAttenu'+'ation\x20*\x20fa'+'lloffAtten'+'uation)\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20area'+'Diffuse\x20=\x20'+'mix(areaDi'+'ffuse,\x20vec'+'3(0),\x20dLTC'+'SpecFres);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20diffu'+'se\x20-\x20it\x20do'+'es\x20not\x20mix'+'\x20diffuse\x20l'+'ighting\x20in'+'to\x20specula'+'r\x20attenuat'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20+=\x20are'+'aDiffuse;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x20a'+'nd\x20clear\x20c'+'oat\x20are\x20ma'+'terial\x20set'+'tings\x20and\x20'+'get\x20includ'+'ed\x20by\x20a\x20de'+'fine\x20based'+'\x20on\x20the\x20ma'+'terial\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'rea\x20light\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20areaLight'+'Specular;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(isCluster'+'edLightRec'+'t(light))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getRectL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(isClust'+'eredLightD'+'isk(light)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'r\x20=\x20getDis'+'kLightSpec'+'ular(world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'\x20=\x20getSphe'+'reLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20are'+'aLightSpec'+'ular\x20*\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt')+('tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20specul'+'ar\x20clear\x20c'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'areaLightS'+'pecularCC;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isCl'+'usteredLig'+'htRect(lig'+'ht))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'SpecularCC'+'\x20=\x20getRect'+'LightSpecu'+'lar(clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(is'+'ClusteredL'+'ightDisk(l'+'ight))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20areaLig'+'htSpecular'+'CC\x20=\x20getDi'+'skLightSpe'+'cular(clea'+'rcoat_worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x20//'+'\x20sphere\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getSph'+'ereLightSp'+'ecular(cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ar'+'eaLightSpe'+'cularCC\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x20\x20\x20\x20//\x20pu'+'nctual\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20p'+'unctual\x20li'+'ght\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20pun'+'ctualDiffu'+'se\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20')+('cookieAtte'+'nuation;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_AREA'+'LIGHTS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'punctualDi'+'ffuse\x20=\x20mi'+'x(punctual'+'Diffuse,\x20v'+'ec3(0),\x20sp'+'ecularity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20punctual'+'Diffuse;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20halfDir'+'\x20=\x20normali'+'ze(-dLight'+'DirNormW\x20+'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spe'+'cular\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpecularL'+'ight\x20+=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getLigh'+'tSpecular('+'halfDir,\x20r'+'eflectionD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20dLight'+'DirNormW,\x20'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20s'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20getLig'+'htSpecular'+'(halfDir,\x20'+'clearcoatR'+'eflectionD'+'ir,\x20clearc'+'oat_worldN'+'ormal,\x20vie'+'wDir,\x20dLig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20getFresne'+'lCC(dot(vi'+'ewDir,\x20hal'+'fDir));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'SpecularLi'+'ght\x20+=\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20clearco'+'atReflecti'+'onDir,\x20cle'+'arcoat_wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20clear'+'coat_gloss'+',\x20tbn)\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20')+('light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20+=\x20getL'+'ightSpecul'+'arSheen(ha'+'lfDir,\x20wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LightDirNo'+'rmW,\x20sheen'+'_gloss)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20Write\x20to\x20'+'global\x20att'+'enuation\x20v'+'alues\x20(for'+'\x20lightmapp'+'er)\x0a\x20\x20\x20\x20dA'+'tten\x20=\x20fal'+'loffAttenu'+'ation;\x0a\x20\x20\x20'+'\x20dAttenD\x20='+'\x20diffuseAt'+'tenuation;'+'\x0a\x20\x20\x20\x20dAtte'+'n3\x20=\x20cooki'+'eAttenuati'+'on;\x0a}\x0a\x0avoi'+'d\x20evaluate'+'ClusterLig'+'ht(\x0a\x20\x20\x20\x20fl'+'oat\x20lightI'+'ndex,\x20\x0a\x20\x20\x20'+'\x20vec3\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iewDir,\x20\x0a\x20'+'\x20\x20\x20vec3\x20re'+'flectionDi'+'r,\x20\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr')+('om\x20texture'+'s\x0a\x20\x20\x20\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData;'+'\x0a\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCore(cl'+'usterLight'+'Data,\x20ligh'+'tIndex);\x0a\x0a'+'\x20\x20\x20\x20//\x20eva'+'luate\x20ligh'+'t\x20if\x20it\x20us'+'es\x20accepte'+'d\x20light\x20ma'+'sk\x0a\x20\x20\x20\x20if\x20'+'(acceptLig'+'htMask(clu'+'sterLightD'+'ata))\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre')+('snel,\x0a#end'+'if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l')+('ightCellIn'+'dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20a'+'lpha\x20chann'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20lightInde'+'x\x20=\x20texelF'+'etch(clust'+'erWorldTex'+'ture,\x20ivec'+'2(int(clus'+'terU)\x20+\x20li'+'ghtCellInd'+'ex,\x20cluste'+'rV),\x200).x;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ghtIndex\x20<'+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndex\x20*\x202'+'55.0,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20viewDir'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cle'+'arcoatRefl'+'ectionDir,'+'\x0a#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'ometricNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),Fw='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion.rgb)\x20'+'*\x20clearcoa'+'tSpeculari'+'ty;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20ret;\x0a}\x0a',kw='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),Ow='\x0auniform\x20v'+'ec3\x20envBox'+'Min;\x0aunifo'+'rm\x20vec3\x20en'+'vBoxMax;\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x20\x20\x20\x20nr'+'dir\x20=\x20cube'+'MapRotate('+'nrdir);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20rb'+'max\x20=\x20(env'+'BoxMax\x20-\x20v'+'PositionW)'+'\x20/\x20nrdir;\x0a'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20rbminmax;'+'\x0a\x20\x20\x20\x20rbmin'+'max.x\x20=\x20nr'+'dir.x>0.0?'+'\x20rbmax.x\x20:'+'\x20rbmin.x;\x0a'+'\x20\x20\x20\x20rbminm'+'ax.y\x20=\x20nrd'+'ir.y>0.0?\x20'+'rbmax.y\x20:\x20'+'rbmin.y;\x0a\x20'+'\x20\x20\x20rbminma'+'x.z\x20=\x20nrdi'+'r.z>0.0?\x20r'+'bmax.z\x20:\x20r'+'bmin.z;\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'a\x20=\x20min(mi'+'n(rbminmax'+'.x,\x20rbminm'+'ax.y),\x20rbm'+'inmax.z);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'posonbox\x20='+'\x20vPosition'+'W\x20+\x20nrdir\x20'+'*\x20fa;\x0a\x20\x20\x20\x20'+'vec3\x20envBo'+'xPos\x20=\x20(en'+'vBoxMin\x20+\x20'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20return\x20n'+'ormalize(p'+'osonbox\x20-\x20'+'envBoxPos)'+';\x0a}\x0a',Bw='\x0avec3\x20cube'+'MapProject'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cubeMa'+'pRotate(di'+'r);\x0a}\x0a',Nw='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',zw='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',Uw='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',v0='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0a#endif\x0a',Vw='\x0avec3\x20deta'+'ilMode_mul'+'(vec3\x20c1,\x20'+'vec3\x20c2)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20c1\x20*\x20c2;'+'\x0a}\x0a\x0avec3\x20d'+'etailMode_'+'add(vec3\x20c'+'1,\x20vec3\x20c2'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20c1\x20+\x20'+'c2;\x0a}\x0a\x0a//\x20'+'https://en'+'.wikipedia'+'.org/wiki/'+'Blend_mode'+'s#Screen\x0av'+'ec3\x20detail'+'Mode_scree'+'n(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x201.0\x20-\x20('+'1.0\x20-\x20c1)*'+'(1.0\x20-\x20c2)'+';\x0a}\x0a\x0a//\x20ht'+'tps://en.w'+'ikipedia.o'+'rg/wiki/Bl'+'end_modes#'+'Overlay\x0ave'+'c3\x20detailM'+'ode_overla'+'y(vec3\x20c1,'+'\x20vec3\x20c2)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20mix(1.0'+'\x20-\x202.0*(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0*c1*c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a',Gw='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20vec3\x20albe'+'doBase\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20d'+'Albedo\x20*=\x20'+'addAlbedoD'+'etail(albe'+'doBase);\x0a#'+'endif\x0a\x0a#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dA'+'lbedo\x20*=\x20g'+'ammaCorrec'+'tInput(sat'+'urate(vVer'+'texColor.$'+'VC));\x0a#end'+'if\x0a}\x0a',Hw='\x0avec3\x20addA'+'lbedoDetai'+'l(vec3\x20alb'+'edo)\x20{\x0a#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+'Detail\x20=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20r'+'eturn\x20deta'+'ilMode_$DE'+'TAILMODE(a'+'lbedo,\x20alb'+'edoDetail)'+';\x0a#else\x0a\x20\x20'+'\x20\x20return\x20a'+'lbedo;\x0a#en'+'dif\x0a}\x0a',Ww='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPTEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20$DECODE(t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.$VC'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',b0='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),$w='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',qw='\x0a',Xw='\x0a//\x20the\x20en'+'vAtlas\x20is\x20'+'fixed\x20at\x205'+'12\x20pixels.'+'\x20every\x20equ'+'irect\x20is\x20g'+'enerated\x20w'+'ith\x201\x20pixe'+'l\x20boundary'+'.\x0aconst\x20fl'+'oat\x20atlasS'+'ize\x20=\x20512.'+'0;\x0aconst\x20f'+'loat\x20seamS'+'ize\x20=\x201.0\x20'+'/\x20atlasSiz'+'e;\x0a\x0a//\x20map'+'\x20a\x20normali'+'zed\x20equire'+'ct\x20UV\x20to\x20t'+'he\x20given\x20r'+'ectangle\x20('+'taking\x201\x20p'+'ixel\x20seam\x20'+'into\x20accou'+'nt).\x0avec2\x20'+'mapUv(vec2'+'\x20uv,\x20vec4\x20'+'rect)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2(mix(re'+'ct.x\x20+\x20sea'+'mSize,\x20rec'+'t.x\x20+\x20rect'+'.z\x20-\x20seamS'+'ize,\x20uv.x)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'x(rect.y\x20+'+'\x20seamSize,'+'\x20rect.y\x20+\x20'+'rect.w\x20-\x20s'+'eamSize,\x20u'+'v.y));\x0a}\x0a\x0a'+'//\x20map\x20a\x20n'+'ormalized\x20'+'equirect\x20U'+'V\x20and\x20roug'+'hness\x20leve'+'l\x20to\x20the\x20c'+'orrect\x20atl'+'as\x20rect.\x0av'+'ec2\x20mapRou'+'ghnessUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0avec2\x20ma'+'pShinyUv(v'+'ec2\x20uv,\x20fl'+'oat\x20level)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20t\x20=\x201.0'+'\x20/\x20exp2(le'+'vel);\x0a\x20\x20\x20\x20'+'return\x20map'+'Uv(uv,\x20vec'+'4(1.0\x20-\x20t,'+'\x201.0\x20-\x20t,\x20'+'t,\x20t\x20*\x200.5'+'));\x0a}\x0a',jw='\x0avec3\x20proc'+'essEnviron'+'ment(vec3\x20'+'color)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',Yw='\x0auniform\x20f'+'loat\x20skybo'+'xIntensity'+';\x0a\x0avec3\x20pr'+'ocessEnvir'+'onment(vec'+'3\x20color)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'skyboxInte'+'nsity;\x0a}\x0a',Kw='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(\x20satur'+'ate(\x201.0\x20-'+'\x20square(\x20s'+'qrDist\x20*\x20s'+'quare(invR'+'adius)\x20)\x20)'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getFall'+'offInvSqua'+'red(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20fallo'+'ff\x20=\x201.0\x20/'+'\x20(sqrDist\x20'+'+\x201.0);\x0a\x20\x20'+'\x20\x20float\x20in'+'vRadius\x20=\x20'+'1.0\x20/\x20ligh'+'tRadius;\x0a\x0a'+'\x20\x20\x20\x20fallof'+'f\x20*=\x2016.0;'+'\x0a\x20\x20\x20\x20fallo'+'ff\x20*=\x20squa'+'re(\x20satura'+'te(\x201.0\x20-\x20'+'square(\x20sq'+'rDist\x20*\x20sq'+'uare(invRa'+'dius)\x20)\x20)\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20fallo'+'ff;\x0a}\x0a',Zw='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',Qw='\x0a//\x20float\x20'+'unpacking\x20'+'functional'+'ity,\x20compl'+'imentary\x20t'+'o\x20float-pa'+'cking.js\x0af'+'loat\x20bytes'+'2float2(ve'+'c2\x20data)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(data'+',\x20vec2(1.0'+',\x201.0\x20/\x2025'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2float3(v'+'ec3\x20data)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(dat'+'a,\x20vec3(1.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x2065025.0)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oat4(vec4\x20'+'data)\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'ot(data,\x20v'+'ec4(1.0,\x201'+'.0\x20/\x20255.0'+',\x201.0\x20/\x2065'+'025.0,\x201.0'+'\x20/\x201658137'+'5.0));\x0a}\x0a\x0a'+'float\x20byte'+'s2floatRan'+'ge2(vec2\x20d'+'ata,\x20float'+'\x20min,\x20floa'+'t\x20max)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'mix(min,\x20m'+'ax,\x20bytes2'+'float2(dat'+'a));\x0a}\x0a\x0afl'+'oat\x20bytes2'+'floatRange'+'3(vec3\x20dat'+'a,\x20float\x20m'+'in,\x20float\x20'+'max)\x20{\x0a\x20\x20\x20'+'\x20return\x20mi'+'x(min,\x20max'+',\x20bytes2fl'+'oat3(data)'+');\x0a}\x0a\x0afloa'+'t\x20bytes2fl'+'oatRange4('+'vec4\x20data,'+'\x20float\x20min'+',\x20float\x20ma'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'min,\x20max,\x20'+'bytes2floa'+'t4(data));'+'\x0a}\x0a\x0afloat\x20'+'mantissaEx'+'ponent2Flo'+'at(vec4\x20pa'+'ck)\x0a{\x0a\x20\x20\x20\x20'+'float\x20valu'+'e\x20=\x20bytes2'+'floatRange'+'3(pack.xyz'+',\x20-1.0,\x201.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20expone'+'nt\x20=\x20floor'+'(pack.w\x20*\x20'+'255.0\x20-\x2012'+'7.0);\x0a\x20\x20\x20\x20'+'return\x20val'+'ue\x20*\x20exp2('+'exponent);'+'\x0a}\x0a',Jw='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'#endif\x20//\x20'+'FLOAT_AS_U'+'INT\x0a',eT='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',tT='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20max(cosT'+'heta,\x200.0)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20max('+'cosTheta,\x20'+'0.0),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',sT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',iT='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy*0.5+0.5'+';\x0a}\x0a',rT='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',nT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPFLOA'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20dGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.$VC);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPINVERT\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x201.'+'0\x20-\x20dGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',aT='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20c'+'enterProj.'+'z\x20=\x20clamp('+'centerProj'+'.z,\x20-abs(c'+'enterProj.'+'w),\x20abs(ce'+'nterProj.w'+'));\x0a\x0a\x20\x20\x20\x20c'+'enter.view'+'\x20=\x20centerV'+'iew.xyz\x20/\x20'+'centerView'+'.w;\x0a\x20\x20\x20\x20ce'+'nter.proj\x20'+'=\x20centerPr'+'oj;\x0a\x20\x20\x20\x20ce'+'nter.projM'+'at00\x20=\x20mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',oT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(splatCo'+'lor,\x20sourc'+'e.uv,\x200);\x0a'+'}\x0a\x0a',lT='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latThresho'+'ld;\x0a\x0afloat'+'\x20readThres'+'hold(in\x20Sp'+'latSource\x20'+'source)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20texelFetc'+'h(splatThr'+'eshold,\x20so'+'urce.uv,\x200'+').r;\x0a}\x0a\x0a',hT='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ememt\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a};\x0a\x0a#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20==\x201\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20SH_COE'+'FFS\x203\x0a\x20\x20\x20\x20'+'#elif\x20SH_B'+'ANDS\x20==\x202\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20SH_C'+'OEFFS\x208\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'_BANDS\x20==\x20'+'3\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20SH'+'_COEFFS\x2015'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+'D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+('include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latCompres'+'sedSHVS\x22\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22gspl'+'atThreshol'+'dVS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatSHVS\x22'+'\x0a#endif\x0a\x0a#'+'include\x20\x22g'+'splatSourc'+'eVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCenterVS\x22'+'\x0a#include\x20'+'\x22gsplatCor'+'nerVS\x22\x0a#in'+'clude\x20\x22gsp'+'latOutputV'+'S\x22\x0a\x0a//\x20mod'+'ify\x20the\x20ga'+'ussian\x20cor'+'ner\x20so\x20it\x20'+'excludes\x20g'+'aussian\x20re'+'gions\x20with'+'\x20alpha\x0a//\x20'+'less\x20than\x20'+'e^{-4}\x0a//\x20'+'clipMaring'+'\x20is\x20the\x20mi'+'nimum\x20alph'+'a\x20value\x20fo'+'r\x20the\x20frag'+'ment\x20to\x20be'+'\x20included\x0a'+'void\x20clipC'+'orner(inou'+'t\x20SplatCor'+'ner\x20corner'+',\x20float\x20al'+'pha,\x20float'+'\x20clipMargi'+'nal)\x20{\x0a\x20\x20\x20'+'\x20float\x20cli'+'p\x20=\x20min(1.'+'0,\x20sqrt(lo'+'g(alpha\x20/\x20'+'clipMargin'+'al)\x20/\x204.0)'+');\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20*=\x20clip;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20*=\x20cli'+'p;\x0a}\x0a\x0a//\x20s'+'pherical\x20H'+'armonics\x0a\x0a'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a#d'+'efine\x20SH_C'+'1\x200.488602'+'5119029199'+'f\x0a\x0a#if\x20SH_'+'BANDS\x20>\x201\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C2_0\x20'+'1.09254843'+'05920792f\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C2_1\x20'+'-1.0925484'+'305920792f'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SH_C2_2'+'\x200.3153915'+'6525252005'+'f\x0a\x20\x20\x20\x20#def'+'ine\x20SH_C2_'+'3\x20-1.09254'+'8430592079'+'2f\x0a\x20\x20\x20\x20#de'+'fine\x20SH_C2'+'_4\x200.54627'+'4215296039'+'6f\x0a#endif\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20#define\x20')+('SH_C3_0\x20-0'+'.590043589'+'9266435f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_1\x202'+'.890611442'+'640554f\x0a\x20\x20'+'\x20\x20#define\x20'+'SH_C3_2\x20-0'+'.457045799'+'4644658f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_3\x200'+'.373176332'+'5901154f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_4\x20-'+'0.45704579'+'94644658f\x0a'+'\x20\x20\x20\x20#defin'+'e\x20SH_C3_5\x20'+'1.44530572'+'1320277f\x0a\x20'+'\x20\x20\x20#define'+'\x20SH_C3_6\x20-'+'0.59004358'+'99266435f\x0a'+'#endif\x0a\x0a//'+'\x20see\x20https'+'://github.'+'com/graphd'+'eco-inria/'+'gaussian-s'+'platting/b'+'lob/main/u'+'tils/sh_ut'+'ils.py\x0avec'+'3\x20evalSH(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20vec3\x20'+'dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'sh\x20coeffic'+'ients\x0a\x20\x20\x20\x20'+'vec3\x20sh[SH'+'_COEFFS];\x0a'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20readSHDat'+'a(source,\x20'+'sh,\x20scale)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20dir'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20f'+'loat\x20z\x20=\x20d'+'ir.z;\x0a\x0a\x20\x20\x20'+'\x20//\x201st\x20de'+'gree\x0a\x20\x20\x20\x20v'+'ec3\x20result'+'\x20=\x20SH_C1\x20*'+'\x20(-sh[0]\x20*'+'\x20y\x20+\x20sh[1]'+'\x20*\x20z\x20-\x20sh['+'2]\x20*\x20x);\x0a\x0a'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20//\x202nd\x20de'+'gree\x0a\x20\x20\x20\x20f'+'loat\x20xx\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20yy\x20'+'=\x20y\x20*\x20y;\x0a\x20'+'\x20\x20\x20float\x20z'+'z\x20=\x20z\x20*\x20z;'+'\x0a\x20\x20\x20\x20float'+'\x20xy\x20=\x20x\x20*\x20'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20yz\x20=\x20y\x20'+'*\x20z;\x0a\x20\x20\x20\x20f'+'loat\x20xz\x20=\x20'+'x\x20*\x20z;\x0a\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[3]\x20*\x20(S'+'H_C2_0\x20*\x20x'+'y)\x20*\x20\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[4'+']\x20*\x20(SH_C2'+'_1\x20*\x20yz)\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[6]\x20*\x20(S'+'H_C2_3\x20*\x20x')+('z)\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a#endif'+'\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x202\x0a\x20'+'\x20\x20\x20//\x203rd\x20'+'degree\x0a\x20\x20\x20'+'\x20result\x20+='+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[9]\x20\x20*\x20('+'SH_C3_1\x20*\x20'+'xy\x20*\x20z)\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[10]\x20*\x20(SH'+'_C3_2\x20*\x20y\x20'+'*\x20(4.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[11]'+'\x20*\x20(SH_C3_'+'3\x20*\x20z\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'3.0\x20*\x20xx\x20-'+'\x203.0\x20*\x20yy)'+')\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20*'+'\x20(SH_C3_4\x20'+'*\x20x\x20*\x20(4.0'+'\x20*\x20zz\x20-\x20xx'+'\x20-\x20yy))\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[14]\x20'+'*\x20(SH_C3_6'+'\x20*\x20x\x20*\x20(xx'+'\x20-\x203.0\x20*\x20y'+'y));\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20result'+'\x20*\x20scale;\x0a'+'}\x0a#endif\x0a'),cT='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'mat3\x20quatT'+'oMat3(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.x;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.y;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.w'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20')+('=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec')+('3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat'+'a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex')+('ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu'+'nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),dT='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),uT='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0a\x0a//\x20calc'+'ulate\x20the\x20'+'clip-space'+'\x20offset\x20fr'+'om\x20the\x20cen'+'ter\x20for\x20th'+'is\x20gaussia'+'n\x0abool\x20ini'+'tCorner(Sp'+'latSource\x20'+'source,\x20Sp'+'latCenter\x20'+'center,\x20ou'+'t\x20SplatCor'+'ner\x20corner'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20vec'+'3\x20covA,\x20co'+'vB;\x0a\x20\x20\x20\x20re'+'adCovarian'+'ce(source,'+'\x20covA,\x20cov'+'B);\x0a\x0a\x20\x20\x20\x20m'+'at3\x20Vrk\x20=\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20covA.x'+',\x20covA.y,\x20'+'covA.z,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.y,\x20covB.x'+',\x20covB.y,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.z,\x20covB'+'.y,\x20covB.z'+'\x0a\x20\x20\x20\x20);\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ocal\x20=\x20vie'+'wport.x\x20*\x20'+'center.pro'+'jMat00;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20camera_p'+'arams.w\x20=='+'\x201.0\x20?\x20vec'+'3(0.0,\x200.0'+',\x201.0)\x20:\x20c'+'enter.view'+'.xyz;\x0a\x20\x20\x20\x20'+'float\x20J1\x20='+'\x20focal\x20/\x20v'+'.z;\x0a\x20\x20\x20\x20ve'+'c2\x20J2\x20=\x20-J'+'1\x20/\x20v.z\x20*\x20'+'v.xy;\x0a\x20\x20\x20\x20'+'mat3\x20J\x20=\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20J1,\x200.0'+',\x20J2.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x200.0,'+'\x20J1,\x20J2.y,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x200'+'.0,\x200.0,\x200'+'.0\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'W\x20=\x20transp'+'ose(mat3(c'+'enter.mode'+'lView));\x0a\x20'+'\x20\x20\x20mat3\x20T\x20'+'=\x20W\x20*\x20J;\x0a\x20'+'\x20\x20\x20mat3\x20co'+'v\x20=\x20transp'+'ose(T)\x20*\x20V'+'rk\x20*\x20T;\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'iagonal1\x20='+'\x20cov[0][0]'+'\x20+\x200.3;\x0a\x20\x20'+'\x20\x20float\x20of'+'fDiagonal\x20'+('=\x20cov[0][1'+'];\x0a\x20\x20\x20\x20flo'+'at\x20diagona'+'l2\x20=\x20cov[1'+'][1]\x20+\x200.3'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20mid\x20=\x200'+'.5\x20*\x20(diag'+'onal1\x20+\x20di'+'agonal2);\x0a'+'\x20\x20\x20\x20float\x20'+'radius\x20=\x20l'+'ength(vec2'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20float\x20lam'+'bda1\x20=\x20mid'+'\x20+\x20radius;'+'\x0a\x20\x20\x20\x20float'+'\x20lambda2\x20='+'\x20max(mid\x20-'+'\x20radius,\x200'+'.1);\x0a\x20\x20\x20\x20i'+'f\x20(pointCl'+'oudModeEna'+'bled\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20lam'+'bda1\x20=\x20lam'+'bda2\x20=\x202.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20l'+'1\x20=\x202.0\x20*\x20'+'min(sqrt(2'+'.0\x20*\x20lambd'+'a1),\x201024.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20l2\x20=\x202'+'.0\x20*\x20min(s'+'qrt(2.0\x20*\x20'+'lambda2),\x20'+'1024.0);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20'+'\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20per'+'form\x20cull\x20'+'against\x20x/'+'y\x20axes\x0a\x20\x20\x20'+'\x20if\x20(any(g'+'reaterThan'+'(abs(cente'+'r.proj.xy)'+'\x20-\x20vec2(l1'+',\x20l2)\x20/\x20vi'+'ewport\x20*\x20c'+'enter.proj'+'.w,\x20center'+'.proj.ww))'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20f'+'alse;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'2\x20diagonal'+'Vector\x20=\x20n'+'ormalize(v'+'ec2(offDia'+'gonal,\x20lam'+'bda1\x20-\x20dia'+'gonal1));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20scale\x20=\x201'+'.0;\x0a\x20\x20\x20\x20if'+'(uSplatSca'+'le\x20>\x200.0\x20&'+'&\x20uSplatSc'+'ale\x20<=\x201.2'+'){\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale\x20=\x20u'+'SplatScale'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20vec2\x20v1\x20'+'=\x20scale\x20*\x20'+'l1\x20*\x20diago'+'nalVector;'+'\x0a\x20\x20\x20\x20vec2\x20'+'v2\x20=\x20scale'+'\x20*\x20l2\x20*\x20ve'+'c2(diagona'+'lVector.y,')+('\x20-diagonal'+'Vector.x);'+'\x0a\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20(source.'+'cornerUV.x'+'\x20*\x20v1\x20+\x20so'+'urce.corne'+'rUV.y\x20*\x20v2'+')\x20/\x20viewpo'+'rt\x20*\x20cente'+'r.proj.w;\x0a'+'\x20\x20\x20\x20corner'+'.uv\x20=\x20sour'+'ce.cornerU'+'V;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a'),fT='\x0a\x0auniform\x20'+'highp\x20usam'+'pler2D\x20tra'+'nsformA;\x0au'+'niform\x20hig'+'hp\x20sampler'+'2D\x20transfo'+'rmB;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformR;'+'\x0a\x0a#ifdef\x20I'+'S_4D\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformTS'+'peed;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'transformT'+';\x0a#endif\x0a\x0a'+'//\x20work\x20va'+'lues\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(tA.xyz);'+'\x0a}\x0a\x0amat3\x20q'+'uatToMat3('+'vec4\x20R)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'x\x20=\x20R.w;\x0a\x20'+'\x20\x20\x20float\x20y'+'\x20=\x20R.x;\x0a\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20R.y;\x0a\x20\x20\x20'+'\x20float\x20w\x20='+'\x20R.z;\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x202.0'+'\x20*\x20(z\x20*\x20z\x20'+'+\x20w\x20*\x20w),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20+\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x202.0\x20*\x20(y\x20'+'*\x20w\x20-\x20x\x20*\x20'+'z),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(y\x20*\x20z'+'\x20-\x20x\x20*\x20w),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x201'+'.0\x20-\x202.0\x20*'+'\x20(y\x20*\x20y\x20+\x20'+('w\x20*\x20w),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20+\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x202'+'.0\x20*\x20(y\x20*\x20'+'w\x20+\x20x\x20*\x20z)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x202.0\x20'+'*\x20(z\x20*\x20w\x20-'+'\x20x\x20*\x20y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'y\x20*\x20y\x20+\x20z\x20'+'*\x20z)\x0a\x20\x20\x20\x20)'+';\x0a}\x0a\x0avec4\x20'+'unpackRota'+'tion(vec3\x20'+'packed)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(pack'+'ed.xyz,\x20sq'+'rt(1.0\x20-\x20d'+'ot(packed,'+'\x20packed)))'+';\x0a}\x0a\x0a//\x20sa'+'mple\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadCovaria'+'nce(in\x20Spl'+'atSource\x20s'+'ource,\x20out'+'\x20vec3\x20covA'+',\x20out\x20vec3'+'\x20covB)\x20{\x0a\x20'+'\x20\x20\x20vec4\x20tB'+'\x20=\x20texelFe'+'tch(transf'+'ormB,\x20sour'+'ce.uv,\x200);'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20tR\x20=\x20texe'+'lFetch(tra'+'nsformR,\x20s'+'ource.uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20mat3\x20rot'+'\x20=\x20quatToM'+'at3(unpack'+'Rotation(t'+'R));\x0a\x20\x20\x20\x20v'+'ec3\x20scale\x20'+'=\x20tB.xyz;\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a\x0a//\x20sampl'+'e\x204D\x20covar'+'iance\x20vect'+'ors\x0avoid\x20r'+'eadFTGSCov'+'ariance(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'covA,\x20out\x20'+'vec3\x20covB,'+'out\x20vec4\x20c'+'ovariance4'+'D)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u')+('v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormT,\x20sour'+'ce.uv,\x200).'+'xy;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20muT\x20=\x20tD'+'ata.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20tScale\x20=\x20'+'tData.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20mar'+'ginal\x20=\x20co'+'mputeMargi'+'nalT(time,'+'\x20muT,\x20tSca'+'le);\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20mar'+'ginal;\x0a}\x0a\x0a'+'vec3\x20readC'+'enter4D(Sp'+'latSource\x20'+'source,\x20fl'+'oat\x20time)\x20'+'{\x0a\x20\x20\x20\x20uvec'+'4\x20tA\x20=\x20tex'+'elFetch(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20v'+'ec3\x20splatC'+'enter\x20\x20=\x20u'+'intBitsToF'+'loat(tA.xy'+'z);\x0a\x20\x20\x20\x20#i'+'fdef\x20IS_4D'+'\x0a\x20\x20\x20\x20if(mu'+'T\x20>\x20-5.0\x20&')+('&\x20muT\x20<\x2040'+'.0){\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'vingSpeed\x20'+'=\x20texelFet'+'ch(transfo'+'rmTSpeed,\x20'+'source.uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20splatOff'+'set\x20=\x20movi'+'ngSpeed\x20*\x20'+'(time\x20-\x20mu'+'T);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20splatCen'+'ter\x20+=\x20spl'+'atOffset;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'platCenter'+';\x0a}\x0a'),pT='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',mT='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20fl'+'oat\x20id;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20uni'+'form\x20vec4\x20'+'uColor;\x0a#e'+'ndif\x0a\x0avary'+'ing\x20medium'+'p\x20vec2\x20gau'+'ssianUV;\x0av'+'arying\x20med'+'iump\x20vec4\x20'+'gaussianCo'+'lor;\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20di'+'scard;\x0a}\x0a',_T='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),gT='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',yT='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0a\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianUV;\x0ava'+'rying\x20medi'+'ump\x20vec4\x20g'+'aussianCol'+'or;\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20float\x20mar'+'ginal\x20=\x20ge'+'tMarginalT'+'(source,\x20u'+'Time);\x0a\x20\x20\x20'+'\x20if\x20(margi'+'nal\x20<\x200.05'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20disc'+'ardVec;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ve'+'c3\x20modelCe'+'nter\x20=\x20rea'+'dCenter(so'+'urce);\x0a\x20\x20\x20'+'\x20vec3\x20mode'+'lCenter\x20=\x20'+'readCenter'+'4D(source,'+'\x20uTime);\x0a\x0a'+'\x20\x20\x20\x20SplatC'+'enter\x20cent'+'er;\x0a\x20\x20\x20\x20if'+'\x20(!initCen'+'ter(modelC'+'enter,\x20cen'+'ter))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20project\x20'+'center\x20to\x20'+'screen\x20spa'+'ce\x0a\x20\x20\x20\x20Spl'+'atCorner\x20c'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(sou'+'rce,\x20cente'+'r,\x20corner,'+'\x20pointClou'+'dModeEnabl'+'ed))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20colo'+'r\x0a\x20\x20\x20\x20vec4'+'\x20clr\x20=\x20rea'+('dColor(sou'+'rce);\x0a\x20\x20\x20\x20'+'float\x20thre'+'shold\x20=\x20re'+'adThreshol'+'d(source);'+'\x0a\x20\x20\x20\x20if(ma'+'rginal\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.w\x20'+'*=\x20margina'+'l;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20if(clr.'+'w\x20<\x20thresh'+'old)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20d'+'iscardVec;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20//\x20'+'evaluate\x20s'+'pherical\x20h'+'armonics\x0a\x20'+'\x20\x20\x20#if\x20SH_'+'BANDS\x20>\x200\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20model'+'-space\x20vie'+'w\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20normalize'+'(center.vi'+'ew\x20*\x20mat3('+'center.mod'+'elView));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'r.xyz\x20+=\x20e'+'valSH(sour'+'ce,\x20dir);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20clip'+'Corner(cor'+'ner,\x20clr.w'+',\x20threshol'+'d);\x0a\x0a\x20\x20\x20\x20/'+'/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr.a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20//\x20w'+'rite\x20outpu'+'t\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'center.pro'+'j\x20+\x20vec4(c'+'orner.offs'+'et,\x200,\x200);'+'\x0a\x20\x20\x20\x20gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20gaussia'+'nColor\x20=\x20v'+'ec4(prepar'+'eOutputFro'+'mGamma(max'+'(clr.xyz,\x20'+'0.0)),\x20clr'+'.w);\x0a\x20\x20\x20\x20/'+'/gaussianC'+'olor\x20=\x20vec'+'4(center.p'+'roj.w,\x20cen'+'ter.proj.w'+',\x20center.p'+'roj.w,\x201.0'+');\x0a\x20\x20\x20\x20gau'+'ssianColor'+'\x20=\x20clamp(g'+'aussianCol'+'or,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20id'+'\x20=\x20float(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a'),xT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0a#ifndef'+'\x20PI\x0a#defin'+'e\x20PI\x203.141'+'59265\x0a#end'+'if\x0a\x0afloat\x20'+'iridescenc'+'e_iorToFre'+'snel(float'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20incidentI'+'or)\x20/\x20(tra'+'nsmittedIo'+'r\x20+\x20incide'+'ntIor),\x202.'+'0);\x0a}\x0a\x0avec'+'3\x20iridesce'+'nce_iorToF'+'resnel(vec'+'3\x20transmit'+'tedIor,\x20fl'+'oat\x20incide'+'ntIor)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow((trans'+'mittedIor\x20'+'-\x20vec3(inc'+'identIor))'+'\x20/\x20(transm'+'ittedIor\x20+'+'\x20vec3(inci'+'dentIor)),'+'\x20vec3(2.0)'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'ToIor(vec3'+'\x20f0)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20sqrt'+'F0\x20=\x20sqrt('+'f0);\x0a\x20\x20\x20\x20r'+'eturn\x20(vec'+'3(1.0)\x20+\x20s'+'qrtF0)\x20/\x20('+'vec3(1.0)\x20'+'-\x20sqrtF0);'+'\x0a}\x0a\x0avec3\x20i'+'ridescence'+'_sensitivi'+'ty(float\x20o'+'pd,\x20vec3\x20s'+'hift)\x20{\x0a\x20\x20'+'\x20\x20float\x20ph'+'ase\x20=\x202.0\x20'+'*\x20PI\x20*\x20opd'+'\x20*\x201.0e-9;'+'\x0a\x20\x20\x20\x20const'+'\x20vec3\x20val\x20'+'=\x20vec3(5.4'+'856e-13,\x204'+'.4201e-13,'+'\x205.2481e-1'+'3);\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20p'+'os\x20=\x20vec3('+'1.6810e+06'+',\x201.7953e+'+'06,\x202.2084'+'e+06);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20var\x20=\x20ve'+'c3(4.3278e'+'+09,\x209.304'+'6e+09,\x206.6'+'121e+09);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'xyz\x20=\x20val\x20'+'*\x20sqrt(2.0'+'\x20*\x20PI\x20*\x20va'+'r)\x20*\x20cos(p'+'os\x20*\x20phase'+'\x20+\x20shift)\x20'+'*\x20exp(-pow'+'(phase,\x202.'+'0)\x20*\x20var);'+'\x0a\x20\x20\x20\x20xyz.x'+'\x20+=\x209.7470'+'e-14\x20*\x20sqr'+'t(2.0\x20*\x20PI'+'\x20*\x204.5282e'+('+09)\x20*\x20cos'+'(2.2399e+0'+'6\x20*\x20phase\x20'+'+\x20shift[0]'+')\x20*\x20exp(-4'+'.5282e+09\x20'+'*\x20pow(phas'+'e,\x202.0));\x0a'+'\x20\x20\x20\x20xyz\x20/='+'\x20vec3(1.06'+'85e-07);\x0a\x0a'+'\x20\x20\x20\x20const\x20'+'mat3\x20XYZ_T'+'O_REC709\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x203.240'+'4542,\x20-0.9'+'692660,\x20\x200'+'.0556434,\x0a'+'\x20\x20\x20\x20\x20\x20\x20-1.'+'5371385,\x20\x20'+'1.8760108,'+'\x20-0.204025'+'9,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-0.4985314'+',\x20\x200.04155'+'60,\x20\x201.057'+'2252\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20XYZ_TO'+'_REC709\x20*\x20'+'xyz;\x0a}\x0a\x0afl'+'oat\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'float\x20f0)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20clam'+'p(1.0\x20-\x20co'+'sTheta,\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20float\x20x'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20float'+'\x20x5\x20=\x20x\x20*\x20'+'x2\x20*\x20x2;\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(1.0\x20'+'-\x20f0)\x20*\x20x5'+';\x0a}\x20\x0a\x0avec3'+'\x20iridescen'+'ce_fresnel'+'(float\x20cos'+'Theta,\x20vec'+'3\x20f0)\x20{\x0a\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20clamp(1.'+'0\x20-\x20cosThe'+'ta,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20x2\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20float\x20x5\x20'+'=\x20x\x20*\x20x2\x20*'+'\x20x2;\x20\x0a\x20\x20\x20\x20'+'return\x20f0\x20'+'+\x20(vec3(1.'+'0)\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0ave'+'c3\x20calcIri'+'descence(f'+'loat\x20outsi'+'deIor,\x20flo'+'at\x20cosThet'+'a,\x20vec3\x20ba'+'se_f0,\x20flo'+'at\x20iridesc'+'enceThickn'+'ess)\x20{\x0a\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'or\x20=\x20mix(o'+'utsideIor,'+'\x20material_'+'iridescenc'+'eRefractio'+'nIndex,\x20sm'+'oothstep(0'+'.0,\x200.03,\x20'+'iridescenc'+'eThickness'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20sinThe'+'ta2Sq\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c')+('osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'float\x20cosT'+'heta2Sq\x20=\x20'+'1.0\x20-\x20sinT'+'heta2Sq;\x0a\x0a'+'\x20\x20\x20\x20if\x20(co'+'sTheta2Sq\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20vec3(1'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20cosTheta'+'2\x20=\x20sqrt(c'+'osTheta2Sq'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20r0\x20=\x20i'+'ridescence'+'_iorToFres'+'nel(irides'+'cenceIor,\x20'+'outsideIor'+');\x0a\x20\x20\x20\x20flo'+'at\x20r12\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta,\x20r'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20r21\x20=\x20'+'r12;\x0a\x20\x20\x20\x20f'+'loat\x20t121\x20'+'=\x201.0\x20-\x20r1'+'2;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20phi12\x20'+'=\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor\x20'+'?\x20PI\x20:\x200.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20phi21\x20=\x20'+'PI\x20-\x20phi12'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20baseIor\x20'+'=\x20iridesce'+'nce_fresne'+'lToIor(bas'+'e_f0\x20+\x20vec'+'3(0.0001))'+';\x0a\x20\x20\x20\x20vec3'+'\x20r1\x20=\x20irid'+'escence_io'+'rToFresnel'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20vec3\x20r23\x20'+'=\x20iridesce'+'nce_fresne'+'l(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ph'+'i23\x20=\x20vec3'+'(0.0);\x0a\x20\x20\x20'+'\x20if\x20(baseI'+'or[0]\x20<\x20ir'+'idescenceI'+'or)\x20phi23['+'0]\x20=\x20PI;\x0a\x20'+'\x20\x20\x20if\x20(bas'+'eIor[1]\x20<\x20'+'iridescenc'+'eIor)\x20phi2'+'3[1]\x20=\x20PI;'+'\x0a\x20\x20\x20\x20if\x20(b'+'aseIor[2]\x20'+'<\x20iridesce'+'nceIor)\x20ph'+'i23[2]\x20=\x20P'+'I;\x0a\x20\x20\x20\x20flo'+'at\x20opd\x20=\x202'+'.0\x20*\x20iride'+'scenceIor\x20'+'*\x20iridesce'+'nceThickne'+'ss\x20*\x20cosTh'+'eta2;\x0a\x20\x20\x20\x20'+'vec3\x20phi\x20='+'\x20vec3(phi2'+'1)\x20+\x20phi23'+';\x20\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20r123Sq\x20'+'=\x20clamp(r1'+'2\x20*\x20r23,\x201'+'e-5,\x200.999'+'9);\x0a\x20\x20\x20\x20ve'+'c3\x20r123\x20=\x20'+'sqrt(r123S'+'q);\x0a\x20\x20\x20\x20ve'+'c3\x20rs\x20=\x20po')+('w(t121,\x202.'+'0)\x20*\x20r23\x20/'+'\x20(1.0\x20-\x20r1'+'23Sq);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20c0\x20'+'=\x20r12\x20+\x20rs'+';\x0a\x20\x20\x20\x20vec3'+'\x20i\x20=\x20c0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20c'+'m\x20=\x20rs\x20-\x20t'+'121;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20m\x20'+'=\x201;\x20m\x20<=\x20'+'2;\x20m++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cm'+'\x20*=\x20r123;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20sm\x20=\x202.'+'0\x20*\x20irides'+'cence_sens'+'itivity(fl'+'oat(m)\x20*\x20o'+'pd,\x20float('+'m)\x20*\x20phi);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'\x20+=\x20cm\x20*\x20s'+'m;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'max(i,\x20vec'+'3(0.0));\x0a}'+'\x0a\x0avec3\x20get'+'Iridescenc'+'e(float\x20co'+'sTheta,\x20ve'+'c3\x20specula'+'rity,\x20floa'+'t\x20iridesce'+'nceThickne'+'ss)\x20{\x0a\x20\x20\x20\x20'+'return\x20cal'+'cIridescen'+'ce(1.0,\x20co'+'sTheta,\x20sp'+'ecularity,'+'\x20iridescen'+'ceThicknes'+'s);\x0a}\x0a'),ST='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'iridescenc'+'e;\x0a#endif\x0a'+'\x0avoid\x20getI'+'ridescence'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPF'+'LOAT\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20materi'+'al_iridesc'+'ence;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20irides'+'cence\x20*=\x20t'+'exture2DBi'+'as($SAMPLE'+'R,\x20$UV,\x20te'+'xtureBias)'+'.$CH;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dIridesc'+'ence\x20=\x20iri'+'descence;\x20'+'\x0a}\x0a',vT='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0aun'+'iform\x20floa'+'t\x20material'+'_iridescen'+'ceThicknes'+'sMin;\x0a#end'+'if\x0a\x0avoid\x20g'+'etIridesce'+'nceThickne'+'ss()\x20{\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20float\x20'+'blend\x20=\x20te'+'xture2DBia'+'s($SAMPLER'+',\x20$UV,\x20tex'+'tureBias).'+'$CH;\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceThic'+'kness\x20=\x20mi'+'x(material'+'_iridescen'+'ceThicknes'+'sMin,\x20mate'+'rial_iride'+'scenceThic'+'knessMax,\x20'+'blend);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',bT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'refraction'+'Index;\x0a#en'+'dif\x0a\x0avoid\x20'+'getIor()\x20{'+'\x0a#ifdef\x20MA'+'PFLOAT\x0a\x20\x20\x20'+'\x20dIor\x20=\x20ma'+'terial_ref'+'ractionInd'+'ex;\x0a#else\x0a'+'\x20\x20\x20\x20dIor\x20='+'\x201.0\x20/\x201.5'+';\x0a#endif\x0a}'+'\x0a',wT='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDir,\x20'+'vec3\x20light'+'DirNorm)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20max(dot('+'worldNorma'+'l,\x20-lightD'+'irNorm),\x200'+'.0);\x0a}\x0a',TT='\x0avoid\x20getL'+'ightDirPoi'+'nt(vec3\x20li'+'ghtPosW)\x20{'+'\x0a\x20\x20\x20\x20dLigh'+'tDirW\x20=\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20normali'+'ze(dLightD'+'irW);\x0a\x20\x20\x20\x20'+'dLightPosW'+'\x20=\x20lightPo'+'sW;\x0a}\x0a',AT='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20lightmap;'+'\x0a}\x0a',ET='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x20\x20\x20\x20if\x20(do'+'t(dir,\x20dir'+')\x20<\x200.0001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20l'+'ightmap;\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20vlig'+'ht\x20=\x20satur'+'ate(dot(di'+'r,\x20-vertex'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20flight'+'\x20=\x20saturat'+'e(dot(dir,'+'\x20-worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20nlight\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20+'+'=\x20lightmap'+'\x20*\x20nlight\x20'+'*\x202.0;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20halfDir\x20='+'\x20normalize'+'(-dir\x20+\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20specularL'+'ight\x20=\x20lig'+'htmap\x20*\x20ge'+'tLightSpec'+'ular(halfD'+'ir,\x20reflec'+'tionDir,\x20w'+'orldNormal'+',\x20viewDir,'+'\x20dir,\x20glos'+'s,\x20tbn);\x0a\x0a'+'#ifdef\x20LIT'+'_SPECULAR_'+'FRESNEL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(dot'+'(viewDir,\x20'+'halfDir),\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20specula'+'rity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20);\x0a#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),CT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_lig'+'htMap;\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_dirLigh'+'tMap;\x0a\x0avoi'+'d\x20getLight'+'Map()\x20{\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20=\x20$DECOD'+'E(texture2'+'DBias(text'+'ure_lightM'+'ap,\x20$UV,\x20t'+'extureBias'+')).$CH;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20textur'+'e2DBias(te'+'xture_dirL'+'ightMap,\x20$'+'UV,\x20textur'+'eBias).xyz'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20dirDot'+'\x20=\x20dot(dir'+',\x20dir);\x0a\x20\x20'+'\x20\x20dLightma'+'pDir\x20=\x20(di'+'rDot\x20>\x200.0'+'01)\x20?\x20dir\x20'+'/\x20sqrt(dir'+'Dot)\x20:\x20vec'+'3(0.0);\x0a}\x0a',MT='\x0avoid\x20getL'+'ightMap()\x20'+'{\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20MAPTEXTUR'+'E\x0a\x20\x20\x20\x20dLig'+'htmap\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.$VC'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',PT='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'material_a'+'nisotropy\x20'+'*\x20roughnes'+'s;\x0a\x20\x0a\x20\x20\x20\x20f'+'loat\x20at\x20=\x20'+'max((rough'+'ness\x20+\x20ani'+'sotropy),\x20'+'roughness\x20'+'/\x204.0);\x0a\x20\x20'+'\x20\x20float\x20ab'+'\x20=\x20max((ro'+'ughness\x20-\x20'+'anisotropy'+'),\x20roughne'+'ss\x20/\x204.0);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20NoH\x20=\x20do'+'t(worldNor'+'mal,\x20h);\x0a\x20'+'\x20\x20\x20float\x20T'+'oH\x20=\x20dot(t'+'bn[0],\x20h);'+'\x0a\x20\x20\x20\x20float'+'\x20BoH\x20=\x20dot'+'(tbn[1],\x20h'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20a2\x20=\x20a'+'t\x20*\x20ab;\x0a\x20\x20'+'\x20\x20vec3\x20v\x20='+'\x20vec3(ab\x20*'+'\x20ToH,\x20at\x20*'+'\x20BoH,\x20a2\x20*'+'\x20NoH);\x0a\x20\x20\x20'+'\x20float\x20v2\x20'+'=\x20dot(v,\x20v'+');\x0a\x20\x20\x20\x20flo'+'at\x20w2\x20=\x20a2'+'\x20/\x20v2;\x0a\x20\x20\x20'+'\x20float\x20D\x20='+'\x20a2\x20*\x20w2\x20*'+'\x20w2\x20*\x20(1.0'+'\x20/\x20PI);\x0a\x0a\x20'+'\x20\x20\x20float\x20T'+'oV\x20=\x20dot(t'+'bn[0],\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20float\x20BoV'+'\x20=\x20dot(tbn'+'[1],\x20viewD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20ToL\x20='+'\x20dot(tbn[0'+'],\x20-lightD'+'irNorm);\x0a\x20'+'\x20\x20\x20float\x20B'+'oL\x20=\x20dot(t'+'bn[1],\x20-li'+'ghtDirNorm'+');\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20NoL\x20'+'=\x20dot(worl'+'dNormal,\x20-'+'lightDirNo'+'rm);\x0a\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daV\x20=\x20NoL\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oV,\x20ab\x20*\x20B'+'oV,\x20NoV));'+('\x0a\x20\x20\x20\x20float'+'\x20lambdaL\x20='+'\x20NoV\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToL,\x20a'+'b\x20*\x20BoL,\x20N'+'oL));\x0a\x20\x20\x20\x20'+'float\x20G\x20=\x20'+'0.5\x20/\x20(lam'+'bdaV\x20+\x20lam'+'bdaL);\x0a\x0a\x20\x20'+'\x20\x20return\x20D'+'\x20*\x20G;\x0a}\x0a\x0af'+'loat\x20getLi'+'ghtSpecula'+'r(vec3\x20h,\x20'+'vec3\x20reflD'+'ir,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDirN'+'orm,\x20float'+'\x20gloss,\x20ma'+'t3\x20tbn)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20calcLight'+'Specular(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir,\x20h,'+'\x20lightDirN'+'orm,\x20tbn);'+'\x0a}\x0a'),RT='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',IT='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',DT='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'h(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a#def'+'ine\x20CAMERA'+'PLANES\x0auni'+'form\x20vec4\x20'+'camera_par'+'ams;\x20//\x20x:'+'\x201\x20/\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20\x20y:\x20camer'+'a_far,\x20\x20\x20\x20'+'\x20z:\x20camera'+'_near,\x20\x20\x20\x20'+'\x20\x20\x20\x20w:\x20is_'+'ortho\x0a#end'+'if\x0a\x0afloat\x20'+'linearizeD'+'epth(float'+'\x20z)\x20{\x0a\x20\x20\x20\x20'+'return\x20lin'+'earizeDept'+'h(z,\x20camer'+'a_params);'+'\x0a}\x0a#endif\x0a',LT='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),FT='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avec2\x20ccL'+'TCUV;\x0a#end'+'if\x0avec2\x20ge'+'tLTCLightU'+'V(float\x20gl'+'oss,\x20vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x0a{\x0a\x20'+'\x20\x20\x20float\x20r'+'oughness\x20='+'\x20max((1.0\x20'+'-\x20gloss)\x20*'+'\x20(1.0\x20-\x20gl'+'oss),\x200.00'+'1);\x0a\x20\x20\x20\x20re'+'turn\x20LTC_U'+'v(\x20worldNo'+'rmal,\x20view'+'Dir,\x20rough'+'ness\x20);\x0a}\x0a'+'\x0a//used\x20fo'+'r\x20energy\x20c'+'onservatio'+'n\x20and\x20to\x20m'+'odulate\x20sp'+'ecular\x0avec'+'3\x20dLTCSpec'+'Fres;\x0a#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0avec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0avec3\x20g'+'etLTCLight'+'SpecFres(v')+('ec2\x20uv,\x20ve'+'c3\x20specula'+'rity)\x0a{\x0a\x20\x20'+'\x20\x20vec4\x20t2\x20'+'=\x20texture2'+'DLod(areaL'+'ightsLutTe'+'x2,\x20uv,\x200.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20specu'+'larity\x20*\x20t'+'2.x\x20+\x20(\x20ve'+'c3(\x201.0\x20)\x20'+'-\x20specular'+'ity)\x20*\x20t2.'+'y;\x0a}\x0a\x0avoid'+'\x20calcLTCLi'+'ghtValues('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'specularit'+'y,\x20float\x20c'+'learcoatGl'+'oss,\x20vec3\x20'+'clearcoatW'+'orldNormal'+',\x20float\x20cl'+'earcoatSpe'+'cularity)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'UV\x20=\x20getLT'+'CLightUV(g'+'loss,\x20worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20dLTCSpe'+'cFres\x20=\x20ge'+'tLTCLightS'+'pecFres(dL'+'TCUV,\x20spec'+'ularity);\x20'+'\x0a\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20ccL'+'TCUV\x20=\x20get'+'LTCLightUV'+'(clearcoat'+'Gloss,\x20cle'+'arcoatWorl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20ccLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(c'+'cLTCUV,\x20ve'+'c3(clearco'+'atSpecular'+'ity));\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20calcRect'+'LightValue'+'s(vec3\x20lig'+'htPos,\x20vec'+'3\x20halfWidt'+'h,\x20vec3\x20ha'+'lfHeight)\x0a'+'{\x0a\x20\x20\x20\x20dLTC'+'Coords\x20=\x20g'+'etLTCLight'+'Coords(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0avoid\x20ca'+'lcDiskLigh'+'tValues(ve'+'c3\x20lightPo'+'s,\x20vec3\x20ha'+'lfWidth,\x20v'+'ec3\x20halfHe'+'ight)\x0a{\x0a\x20\x20'+'\x20\x20calcRect'+'LightValue'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0avo'+'id\x20calcSph'+'ereLightVa'+'lues(vec3\x20'+'lightPos,\x20'+'vec3\x20halfW'+'idth,\x20vec3'+'\x20halfHeigh'+'t)\x0a{\x0a\x20\x20\x20\x20d'+'LTCCoords\x20')+('=\x20getSpher'+'eLightCoor'+'ds(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0a\x0a'+'//\x20An\x20exte'+'nded\x20versi'+'on\x20of\x20the\x20'+'implementa'+'tion\x20from\x0a'+'//\x20\x22How\x20to'+'\x20solve\x20a\x20c'+'ubic\x20equat'+'ion,\x20revis'+'ited\x22\x0a//\x20h'+'ttp://mome'+'ntsingraph'+'ics.de/?p='+'105\x0avec3\x20S'+'olveCubic('+'vec4\x20Coeff'+'icient)\x0a{\x0a'+'\x20\x20\x20\x20float\x20'+'pi\x20=\x203.141'+'59;\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t.xyz\x20/=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20//'+'\x20Divide\x20mi'+'ddle\x20coeff'+'icients\x20by'+'\x20three\x0a\x20\x20\x20'+'\x20Coefficie'+'nt.yz\x20/=\x203'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20A\x20=\x20C'+'oefficient'+'.w;\x0a\x20\x20\x20\x20fl'+'oat\x20B\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20C\x20=\x20Coe'+'fficient.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20D\x20=\x20Coef'+'ficient.x;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20Hessian\x20a'+'nd\x20the\x20dis'+'criminant\x0a'+'\x20\x20\x20\x20vec3\x20D'+'elta\x20=\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-Coeffici'+'ent.z\x20*\x20Co'+'efficient.'+'z\x20+\x20Coeffi'+'cient.y,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-Co'+'efficient.'+'y\x20*\x20Coeffi'+'cient.z\x20+\x20'+'Coefficien'+'t.x,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dot(vec'+'2(Coeffici'+'ent.z,\x20-Co'+'efficient.'+'y),\x20Coeffi'+'cient.xy)\x0a'+'\x20\x20\x20\x20);\x0a\x0a\x20\x20'+'\x20\x20float\x20Di'+'scriminant'+'\x20=\x20dot(vec'+'2(4.0\x20*\x20De'+'lta.x,\x20-De'+'lta.y),\x20De'+'lta.zy);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20R'+'ootsA,\x20Roo'+'tsD;\x0a\x0a\x20\x20\x20\x20'+'vec2\x20xlc,\x20'+'xsc;\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20A\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_a\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_a\x20=\x20Delt'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_a\x20=\x20-2.0\x20'+'*\x20B\x20*\x20Delt')+('a.x\x20+\x20Delt'+'a.y;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Tak'+'e\x20the\x20cubi'+'c\x20root\x20of\x20'+'a\x20normaliz'+'ed\x20complex'+'\x20number\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20Theta\x20=\x20'+'atan(sqrt('+'Discrimina'+'nt),\x20-D_a)'+'\x20/\x203.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_1a\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_a)\x20*\x20c'+'os(Theta);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_3a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20xl;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20((x_1a\x20+'+'\x20x_3a)\x20>\x202'+'.0\x20*\x20B)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xl\x20=\x20x_1a;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xl\x20='+'\x20x_3a;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xlc\x20'+'=\x20vec2(xl\x20'+'-\x20B,\x20A);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Algorit'+'hm\x20D\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20A_d\x20='+'\x20D;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20C_'+'d\x20=\x20Delta.'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20D_d'+'\x20=\x20-D\x20*\x20De'+'lta.y\x20+\x202.'+'0\x20*\x20C\x20*\x20De'+'lta.z;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(D\x20*'+'\x20sqrt(Disc'+'riminant),'+'\x20-D_d)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'_1d\x20=\x202.0\x20'+'*\x20sqrt(-C_'+'d)\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_3d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta\x20+\x20('+'2.0\x20/\x203.0)'+'\x20*\x20pi);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20xs;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(x'+'_1d\x20+\x20x_3d'+'\x20<\x202.0\x20*\x20C'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20xs\x20=\x20x'+'_1d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'xs\x20=\x20x_3d;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xsc\x20=\x20vec2'+'(-D,\x20xs\x20+\x20'+'C);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20E\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20float'+'\x20F\x20=\x20-xlc.')+('x\x20*\x20xsc.y\x20'+'-\x20xlc.y\x20*\x20'+'xsc.x;\x0a\x20\x20\x20'+'\x20float\x20G\x20='+'\x20\x20xlc.x\x20*\x20'+'xsc.x;\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xmc'+'\x20=\x20vec2(C\x20'+'*\x20F\x20-\x20B\x20*\x20'+'G,\x20-B\x20*\x20F\x20'+'+\x20C\x20*\x20E);\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'Root\x20=\x20vec'+'3(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.yxz'+';\x0a\x20\x20\x20\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20R'+'oot.xyz\x20=\x20'+'Root.xzy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20Root;\x0a}\x0a'+'\x0afloat\x20LTC'+'_EvaluateD'+'isk(vec3\x20N'+',\x20vec3\x20V,\x20'+'vec3\x20P,\x20ma'+'t3\x20Minv,\x20C'+'oords\x20poin'+'ts)\x0a{\x0a\x20\x20\x20\x20'+'//\x20constru'+'ct\x20orthono'+'rmal\x20basis'+'\x20around\x20N\x0a'+'\x20\x20\x20\x20vec3\x20T'+'1,\x20T2;\x0a\x20\x20\x20'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'T2\x20=\x20cross'+'(N,\x20T1);\x0a\x0a'+'\x20\x20\x20\x20//\x20rot'+'ate\x20area\x20l'+'ight\x20in\x20(T'+'1,\x20T2,\x20N)\x20'+'basis\x0a\x20\x20\x20\x20'+'//mat3\x20R\x20='+'\x20transpose'+'(mat3(T1,\x20'+'T2,\x20N));\x0a\x20'+'\x20\x20\x20mat3\x20R\x20'+'=\x20transpos'+'eMat3(\x20mat'+'3(\x20T1,\x20T2,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20//\x20polyg'+'on\x20(alloca'+'te\x205\x20verti'+'ces\x20for\x20cl'+'ipping)\x0a\x20\x20'+'\x20\x20vec3\x20L_['+'\x203\x20];\x0a\x20\x20\x20\x20'+'L_[\x200\x20]\x20=\x20'+'R\x20*\x20(\x20poin'+'ts.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20L_[\x201\x20]\x20='+'\x20R\x20*\x20(\x20poi'+'nts.coord1'+'\x20-\x20P\x20);\x0a\x20\x20'+'\x20\x20L_[\x202\x20]\x20'+'=\x20R\x20*\x20(\x20po'+'ints.coord'+'2\x20-\x20P\x20);\x0a\x0a'+'\x20\x20\x20\x20vec3\x20L'+'o_i\x20=\x20vec3'+'(0);\x0a\x0a\x20\x20\x20\x20'+'//\x20init\x20el'+'lipse\x0a\x20\x20\x20\x20'+'vec3\x20C\x20\x20=\x20'+'0.5\x20*\x20(L_['+'0]\x20+\x20L_[2]'+');\x0a\x20\x20\x20\x20vec'+'3\x20V1\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[2]);\x0a')+('\x20\x20\x20\x20vec3\x20V'+'2\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[0]);\x0a\x0a\x20\x20'+'\x20\x20C\x20\x20=\x20Min'+'v\x20*\x20C;\x0a\x20\x20\x20'+'\x20V1\x20=\x20Minv'+'\x20*\x20V1;\x0a\x20\x20\x20'+'\x20V2\x20=\x20Minv'+'\x20*\x20V2;\x0a\x0a\x20\x20'+'\x20\x20//if(dot'+'(cross(V1,'+'\x20V2),\x20C)\x20>'+'\x200.0)\x0a\x20\x20\x20\x20'+'//\x20\x20\x20\x20retu'+'rn\x200.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20float\x20a,'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20d11\x20=\x20'+'dot(V1,\x20V1'+');\x0a\x20\x20\x20\x20flo'+'at\x20d22\x20=\x20d'+'ot(V2,\x20V2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d12\x20=\x20do'+'t(V1,\x20V2);'+'\x0a\x20\x20\x20\x20if\x20(a'+'bs(d12)\x20/\x20'+'sqrt(d11\x20*'+'\x20d22)\x20>\x200.'+'0001)\x0a\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20tr\x20='+'\x20d11\x20+\x20d22'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20det\x20'+'=\x20-d12\x20*\x20d'+'12\x20+\x20d11\x20*'+'\x20d22;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20us'+'e\x20sqrt\x20mat'+'rix\x20to\x20sol'+'ve\x20for\x20eig'+'envalues\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20det'+'\x20=\x20sqrt(de'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x200.5\x20*\x20sq'+'rt(tr\x20-\x202.'+'0\x20*\x20det);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x200.'+'5\x20*\x20sqrt(t'+'r\x20+\x202.0\x20*\x20'+'det);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_max\x20=\x20(u'+'\x20+\x20v)\x20*\x20(u'+'\x20+\x20v);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20e_min\x20=\x20('+'u\x20-\x20v)\x20*\x20('+'u\x20-\x20v);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20V1_,\x20V2_'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(d11\x20>'+'\x20d22)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12\x20*\x20'+'V1\x20+\x20(e_ma'+'x\x20-\x20d11)\x20*'+'\x20V2;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V2_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_min'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20V'+'1_\x20=\x20d12*V'+'2\x20+\x20(e_max'+'\x20-\x20d22)*V1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20V2_\x20=\x20'+'d12*V2\x20+\x20('+'e_min\x20-\x20d2'+'2)*V1;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20a\x20=\x20'+'1.0\x20/\x20e_ma'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20b\x20=\x201.0\x20/'+'\x20e_min;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20='+'\x20normalize'+'(V1_);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V2\x20=\x20'+'normalize('+'V2_);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1,\x20V1);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2,\x20V2);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'*=\x20sqrt(a)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'V2\x20*=\x20sqrt'+'(b);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20V3\x20=\x20norm'+'alize(cros'+'s(V1,\x20V2))'+';\x0a\x20\x20\x20\x20if\x20('+'dot(C,\x20V3)'+'\x20<\x200.0)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V3\x20*'+'=\x20-1.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20L'+'\x20\x20=\x20dot(V3'+',\x20C);\x0a\x20\x20\x20\x20'+'float\x20x0\x20='+'\x20dot(V1,\x20C'+')\x20/\x20L;\x0a\x20\x20\x20'+'\x20float\x20y0\x20'+'=\x20dot(V2,\x20'+'C)\x20/\x20L;\x0a\x0a\x20'+'\x20\x20\x20float\x20E'+'1\x20=\x20invers'+'esqrt(a);\x0a'+'\x20\x20\x20\x20float\x20'+'E2\x20=\x20inver'+'sesqrt(b);'+'\x0a\x0a\x20\x20\x20\x20a\x20*='+'\x20L\x20*\x20L;\x0a\x20\x20'+'\x20\x20b\x20*=\x20L\x20*'+'\x20L;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x0a\x20\x20\x20'+'\x20float\x20c1\x20'+'=\x20a\x20*\x20b\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0\x20+\x20y0\x20'+'*\x20y0)\x20-\x20a\x20'+'-\x20b;\x0a\x20\x20\x20\x20f'+'loat\x20c2\x20=\x20'+'1.0\x20-\x20a\x20*\x20'+'(1.0\x20+\x20x0\x20'+'*\x20x0)\x20-\x20b\x20'+'*\x20(1.0\x20+\x20y'+'0\x20*\x20y0);\x0a\x20'+'\x20\x20\x20float\x20c'+'3\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oots\x20=\x20Sol'+'veCubic(ve'+'c4(c0,\x20c1,'+'\x20c2,\x20c3));'+'\x0a\x20\x20\x20\x20float'+'\x20e1\x20=\x20root'+'s.x;\x0a\x20\x20\x20\x20f'+'loat\x20e2\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20float\x20e'+'3\x20=\x20roots.'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20avgDir\x20'+'=\x20vec3(a\x20*'+'\x20x0\x20/\x20(a\x20-'+'\x20e2),\x20b\x20*\x20'+'y0\x20/\x20(b\x20-\x20'+'e2),\x201.0);'+'\x0a\x0a\x20\x20\x20\x20mat3'+'\x20rotate\x20=\x20'+'mat3(V1,\x20V'+'2,\x20V3);\x0a\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20rotate\x20*'+'\x20avgDir;\x0a\x20'+'\x20\x20\x20avgDir\x20'+'=\x20normaliz'+'e(avgDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20L1\x20=\x20sqr'+'t(-e2\x20/\x20e3'+');\x0a\x20\x20\x20\x20flo'+'at\x20L2\x20=\x20sq'+'rt(-e2\x20/\x20e')+('1);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20formF'+'actor\x20=\x20ma'+'x(0.0,\x20L1\x20'+'*\x20L2\x20*\x20inv'+'ersesqrt(('+'1.0\x20+\x20L1\x20*'+'\x20L1)\x20*\x20(1.'+'0\x20+\x20L2\x20*\x20L'+'2)));\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20const'+'\x20float\x20LUT'+'_SIZE\x20=\x2064'+'.0;\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'LUT_SCALE\x20'+'=\x20(\x20LUT_SI'+'ZE\x20-\x201.0\x20)'+'\x20/\x20LUT_SIZ'+'E;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_BIAS\x20=\x20'+'0.5\x20/\x20LUT_'+'SIZE;\x0a\x0a\x20\x20\x20'+'\x20//\x20use\x20ta'+'bulated\x20ho'+'rizon-clip'+'ped\x20sphere'+'\x0a\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20vec2('+'avgDir.z\x20*'+'\x200.5\x20+\x200.5'+',\x20formFact'+'or);\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv*LUT'+'_SCALE\x20+\x20L'+'UT_BIAS;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'scale\x20=\x20te'+'xture2DLod'+'(areaLight'+'sLutTex2,\x20'+'uv,\x200.0).w'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20formFa'+'ctor*scale'+';\x0a}\x0a\x0afloat'+'\x20getRectLi'+'ghtDiffuse'+'(vec3\x20worl'+'dNormal,\x20v'+'ec3\x20viewDi'+'r,\x20vec3\x20li'+'ghtDir,\x20ve'+'c3\x20lightDi'+'rNorm)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Evalua'+'teRect(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'vPositionW'+',\x20mat3(\x201.'+'0\x20),\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Diffuse(ve'+'c3\x20worldNo'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'at3(\x201.0\x20)'+',\x20dLTCCoor'+'ds\x20);\x0a}\x0a\x0af'+'loat\x20getSp'+'hereLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20/'+'/\x20NB:\x20this'+'\x20could\x20be\x20'+'improved\x20f'+'urther\x20wit'+'h\x20distance'+'\x20based\x20wra')+('p\x20lighting'+'\x0a\x20\x20\x20\x20float'+'\x20falloff\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20getLightD'+'iffuse(wor'+'ldNormal,\x20'+'viewDir,\x20l'+'ightDir,\x20l'+'ightDirNor'+'m)\x20*\x20fallo'+'ff;\x0a}\x0a\x0amat'+'3\x20getLTCLi'+'ghtInvMat('+'vec2\x20uv)\x0a{'+'\x0a\x20\x20\x20\x20vec4\x20'+'t1\x20=\x20textu'+'re2DLod(ar'+'eaLightsLu'+'tTex1,\x20uv,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3(\x20t'+'1.x,\x200,\x20t1'+'.y\x20),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3(\x20'+'\x20\x20\x200,\x201,\x20\x20'+'\x20\x200\x20),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3('+'\x20t1.z,\x200,\x20'+'t1.w\x20)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0aflo'+'at\x20calcRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir,\x20vec'+'2\x20uv)\x20{\x0a\x20\x20'+'\x20\x20mat3\x20mIn'+'v\x20=\x20getLTC'+'LightInvMa'+'t(uv);\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'mInv,\x20dLTC'+'Coords\x20);\x0a'+'}\x0a\x0afloat\x20g'+'etRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20calcR'+'ectLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir,\x20d'+'LTCUV);\x0a}\x0a'+'\x0afloat\x20cal'+'cDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec2\x20uv)\x20'+'{\x0a\x20\x20\x20\x20mat3'+'\x20mInv\x20=\x20ge'+'tLTCLightI'+'nvMat(uv);'+'\x0a\x20\x20\x20\x20retur'+'n\x20LTC_Eval'+'uateDisk(\x20'+'worldNorma'+'l,\x20viewDir'+',\x20vPositio'+'nW,\x20mInv,\x20'+'dLTCCoords'+'\x20);\x0a}\x0a\x0aflo'+'at\x20getDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular')+('(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a\x0afloat'+'\x20getSphere'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcDiskLig'+'htSpecular'+'(worldNorm'+'al,\x20viewDi'+'r,\x20dLTCUV)'+';\x0a}\x0a'),kT='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'metalness;'+'\x0a#endif\x0a\x0av'+'oid\x20getMet'+'alness()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20metalness'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPFLOAT\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20mate'+'rial_metal'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'APTEXTURE\x0a'+'\x20\x20\x20\x20metaln'+'ess\x20*=\x20tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias).$'+'CH;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'VERTEX\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20satura'+'te(vVertex'+'Color.$VC)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dM'+'etalness\x20='+'\x20metalness'+';\x0a}\x0a',OT='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifdef\x20'+'UNIFORM_TE'+'XT_PARAMET'+'ERS\x0aunifor'+'m\x20vec4\x20out'+'line_color'+';\x0auniform\x20'+'float\x20outl'+'ine_thickn'+'ess;\x0aunifo'+'rm\x20vec4\x20sh'+'adow_color'+';\x0auniform\x20'+'vec2\x20shado'+'w_offset;\x0a'+'#else\x0avary'+'ing\x20vec4\x20o'+'utline_col'+'or;\x0avaryin'+'g\x20float\x20ou'+'tline_thic'+'kness;\x0avar'+'ying\x20vec4\x20'+'shadow_col'+'or;\x0avaryin'+'g\x20vec2\x20sha'+'dow_offset'+';\x0a#endif\x0a\x0a'+'vec4\x20apply'+'Msdf(vec4\x20'+'color)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20Con'+'vert\x20to\x20li'+'near\x20space'+'\x20before\x20pr'+'ocessing\x0a\x20'+'\x20\x20\x20//\x20TODO'+':\x20ideally\x20'+'this\x20would'+'\x20receive\x20t'+'he\x20color\x20i'+'n\x20linear\x20s'+'pace,\x20but\x20'+'that\x20would'+'\x20require\x20l'+'arger\x20chan'+'ges\x0a\x20\x20\x20\x20//'+'\x20on\x20the\x20en'+'gine\x20side,'+'\x20with\x20the\x20'+('way\x20premul'+'tiplied\x20al'+'pha\x20is\x20han'+'dled\x20as\x20we'+'ll.\x0a\x20\x20\x20\x20co'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctInput(co'+'lor.rgb);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20the\x20f'+'ield\x0a\x20\x20\x20\x20v'+'ec3\x20tsampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20vUv0).rgb'+';\x0a\x20\x20\x20\x20vec2'+'\x20uvShdw\x20=\x20'+'vUv0\x20-\x20sha'+'dow_offset'+';\x0a\x20\x20\x20\x20vec3'+'\x20ssample\x20='+'\x20texture2D'+'(texture_m'+'sdfMap,\x20uv'+'Shdw).rgb;'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20the\x20sign'+'ed\x20distanc'+'e\x20value\x0a\x20\x20'+'\x20\x20float\x20si'+'gDist\x20=\x20me'+'dian(tsamp'+'le.r,\x20tsam'+'ple.g,\x20tsa'+'mple.b);\x0a\x20'+'\x20\x20\x20float\x20s'+'igDistShdw'+'\x20=\x20median('+'ssample.r,'+'\x20ssample.g'+',\x20ssample.'+'b);\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20limit\x20-\x20'+'smaller\x20va'+'lue\x20makes\x20'+'for\x20sharpe'+'r\x20but\x20more'+'\x20aliased\x20t'+'ext,\x20espec'+'ially\x20on\x20a'+'ngles\x0a\x20\x20\x20\x20'+'//\x20too\x20lar'+'ge\x20value\x20('+'0.5)\x20creat'+'es\x20a\x20dark\x20'+'glow\x20aroun'+'d\x20the\x20lett'+'ers\x0a\x20\x20\x20\x20fl'+'oat\x20smooth'+'ingMax\x20=\x200'+'.2;\x0a\x0a\x20\x20\x20\x20/'+'/\x20smoothin'+'g\x20depends\x20'+'on\x20size\x20of'+'\x20texture\x20o'+'n\x20screen\x0a\x20'+'\x20\x20\x20vec2\x20w\x20'+'=\x20fwidth(v'+'Uv0);\x0a\x20\x20\x20\x20'+'float\x20smoo'+'thing\x20=\x20cl'+'amp(w.x\x20*\x20'+'font_textu'+'reWidth\x20/\x20'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mapMi'+'n\x20=\x200.05;\x0a'+'\x20\x20\x20\x20float\x20'+'mapMax\x20=\x20c'+'lamp(1.0\x20-'+'\x20font_sdfI'+'ntensity,\x20'+'mapMin,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20remap\x20to'+'\x20a\x20smaller'+'\x20range\x20(us'+'ed\x20on\x20smal'+'ler\x20font\x20s'+'izes)\x0a\x20\x20\x20\x20'+'float\x20sigD'+'istInner\x20='+'\x20map(mapMi'+'n,\x20mapMax,')+('\x20sigDist);'+'\x0a\x20\x20\x20\x20float'+'\x20sigDistOu'+'tline\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'kness);\x0a\x20\x20'+'\x20\x20sigDistS'+'hdw\x20=\x20map('+'mapMin,\x20ma'+'pMax,\x20sigD'+'istShdw\x20+\x20'+'outline_th'+'ickness);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20center\x20=\x20'+'0.5;\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20smoothin'+'g\x20and\x20use\x20'+'to\x20generat'+'e\x20opacity\x0a'+'\x20\x20\x20\x20float\x20'+'inside\x20=\x20s'+'moothstep('+'center-smo'+'othing,\x20ce'+'nter+smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20float'+'\x20outline\x20='+'\x20smoothste'+'p(center-s'+'moothing,\x20'+'center+smo'+'othing,\x20si'+'gDistOutli'+'ne);\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'w\x20=\x20smooth'+'step(cente'+'r-smoothin'+'g,\x20center+'+'smoothing,'+'\x20sigDistSh'+'dw);\x0a\x0a\x20\x20\x20\x20'+'vec4\x20tcolo'+'r\x20=\x20(outli'+'ne\x20>\x20insid'+'e)\x20?\x20outli'+'ne\x20*\x20vec4('+'outline_co'+'lor.a\x20*\x20ou'+'tline_colo'+'r.rgb,\x20out'+'line_color'+'.a)\x20:\x20vec4'+'(0.0);\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(tcolor'+',\x20color,\x20i'+'nside);\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'olor\x20=\x20(sh'+'adow\x20>\x20out'+'line)\x20?\x20sh'+'adow\x20*\x20vec'+'4(shadow_c'+'olor.a\x20*\x20s'+'hadow_colo'+'r.rgb,\x20sha'+'dow_color.'+'a)\x20:\x20tcolo'+'r;\x0a\x20\x20\x20\x20tco'+'lor\x20=\x20mix('+'scolor,\x20tc'+'olor,\x20outl'+'ine);\x0a\x0a\x20\x20\x20'+'\x20//\x20Conver'+'t\x20back\x20to\x20'+'gamma\x20spac'+'e\x20before\x20r'+'eturning\x0a\x20'+'\x20\x20\x20tcolor.'+'rgb\x20=\x20gamm'+'aCorrectOu'+'tput(tcolo'+'r.rgb);\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),BT='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',NT='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',zT='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',UT='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0a#ifdef\x20'+'MORPHING_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_INT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20morphNo'+'rmalTex;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20morphNorm'+'alTex;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0avec3'+'\x20getLocalN'+'ormal(vec3'+'\x20vertexNor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20loc'+'alNormal\x20='+'\x20vertex_no'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20m'+'orphUV\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'MORPHING_I'+'NT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'morphNorma'+'l\x20=\x20vec3(t'+'exelFetch('+'morphNorma'+'lTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20morphN'+'ormal\x20=\x20te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localNo'+'rmal\x20+=\x20mo'+'rphNormal;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Normal;\x0a}\x0a'+'\x0a#ifdef\x20SK'+'IN\x0a\x20\x20\x20\x20mat'+'3\x20getNorma'+'lMatrix(ma'+'t4\x20modelMa'+'trix)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3(mo'+'delMatrix['+'0].xyz,\x20mo'+'delMatrix['+'1].xyz,\x20mo'+'delMatrix['+'2].xyz);\x0a\x20'+'\x20\x20\x20}\x0a#elif'+'\x20defined(I'+'NSTANCING)'+'\x0a\x20\x20\x20\x20mat3\x20'+'getNormalM'+'atrix(mat4'+'\x20modelMatr'+'ix)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20mat3(mode'+'lMatrix[0]'+'.xyz,\x20mode'+'lMatrix[1]'+'.xyz,\x20mode'+'lMatrix[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20}\x0a#else\x0a\x20'+('\x20\x20\x20mat3\x20ge'+'tNormalMat'+'rix(mat4\x20m'+'odelMatrix'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),VT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0av'+'ec3\x20blendN'+'ormals(vec'+'3\x20n1,\x20vec3'+'\x20n2)\x20{\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20n1\x20+='+'\x20vec3(0,\x200'+',\x201);\x0a\x20\x20\x20\x20'+'n2\x20*=\x20vec3'+'(-1,\x20-1,\x201'+');\x0a\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a}\x0a#end'+'if\x0a\x0avec3\x20a'+'ddNormalDe'+'tail(vec3\x20'+'normalMap)'+'\x20{\x0a#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20vec3\x20'+'normalDeta'+'ilMap\x20=\x20un'+'packNormal'+'(texture2D'+'Bias($SAMP'+'LER,\x20$UV,\x20'+'textureBia'+'s));\x0a\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20r'+'eturn\x20blen'+'dNormals(n'+'ormalMap,\x20'+'normalDeta'+'ilMap);\x0a#e'+'lse\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lMap;\x0a#end'+'if\x0a}\x0a',GT='\x0a#ifdef\x20MA'+'PTEXTURE\x0au'+'niform\x20flo'+'at\x20materia'+'l_bumpines'+'s;\x0a#endif\x0a'+'\x0avoid\x20getN'+'ormal()\x20{\x0a'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20vec3\x20nor'+'malMap\x20=\x20u'+'npackNorma'+'l(texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as));\x0a\x20\x20\x20\x20'+'normalMap\x20'+'=\x20mix(vec3'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malMap,\x20ma'+'terial_bum'+'piness);\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20addNormal'+'Detail(nor'+'malMap));\x0a'+'#else\x0a\x20\x20\x20\x20'+'dNormalW\x20='+'\x20dVertexNo'+'rmalW;\x0a#en'+'dif\x0a}\x0a',HT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20normal;\x0a\x20'+'\x20\x20\x20normal.'+'xy\x20=\x20nmap.'+'wy\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'normal.z\x20='+'\x20sqrt(1.0\x20'+'-\x20saturate'+'(dot(norma'+'l.xy,\x20norm'+'al.xy)));\x0a'+'\x20\x20\x20\x20return'+'\x20normal;\x0a}'+'\x0a',WT='\x0avec3\x20unpa'+'ckNormal(v'+'ec4\x20nmap)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20nmap.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a}\x0a',$T='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MAP'+'TEXTURE\x0a\x20\x20'+'\x20\x20dAlpha\x20*'+'=\x20texture2'+'DBias($SAM'+'PLER,\x20$UV,'+'\x20textureBi'+'as).$CH;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPVERTE'+'X\x0a\x20\x20\x20\x20dAlp'+'ha\x20*=\x20clam'+'p(vVertexC'+'olor.$VC,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',qT='\x0a\x0auniform\x20'+'vec4\x20blueN'+'oiseJitter'+';\x0a\x0a#ifdef\x20'+'DITHER_BLU'+'ENOISE\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20b'+'lueNoiseTe'+'x32;\x0a#endi'+'f\x0a\x0avoid\x20op'+'acityDithe'+'r(float\x20al'+'pha,\x20float'+'\x20id)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20DI'+'THER_BAYER'+'8\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20bayer'+'8(floor(mo'+'d(gl_FragC'+'oord.xy\x20+\x20'+'blueNoiseJ'+'itter.xy\x20+'+'\x20id,\x208.0))'+')\x20/\x2064.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20DIT'+'HER_BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20DITHER_IG'+'NNOISE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20https://w'+'ww.iryoku.'+'com/next-g'+'eneration-'+'post-proce'+'ssing-in-c'+'all-of-dut'+'y-advanced'+'-warfare/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20mag'+'ic\x20=\x20vec3('+'0.06711056'+',\x200.005837'+'15,\x2052.982'+'9189);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20fract(m'+'agic.z\x20*\x20f'+'ract(dot(g'+'l_FragCoor'+'d.xy\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+',\x20magic.xy'+')));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'convert\x20th'+'e\x20noise\x20to'+'\x20linear\x20sp'+'ace,\x20as\x20th'+'at\x20is\x20spec'+'ified\x20in\x20s'+'RGB\x20space\x20'+'(stores\x20pe'+'rceptual\x20v'+'alues)\x0a\x20\x20\x20'+'\x20noise\x20=\x20p'+'ow(noise,\x20'+'2.2);\x0a\x0a\x20\x20\x20'+'\x20if\x20(alpha'+'\x20<\x20noise)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a}\x0a',XT='\x0a',jT='\x0agl_FragCo'+'lor.a\x20=\x20li'+'tArgs_opac'+'ity;\x0a',YT='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x201.0;\x0a',KT='\x0agl_FragCo'+'lor.rgb\x20*='+'\x20litArgs_o'+'pacity;\x0agl'+'_FragColor'+'.a\x20=\x20litAr'+'gs_opacity'+';\x0a',ZT='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',QT='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20sheen'+'Color\x20*=\x20$'+'DECODE(tex'+'ture2DBias'+'($SAMPLER,'+'\x20$UV,\x20text'+'ureBias)).'+'$CH;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MA'+'PVERTEX\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sSpeculari'+'ty\x20=\x20sheen'+'Color;\x0a}\x0a',JT='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPT'+'EXTURE\x0a\x20\x20\x20'+'\x20sheenGlos'+'siness\x20*=\x20'+'texture2DB'+'ias($SAMPL'+'ER,\x20$UV,\x20t'+'extureBias'+').$CH;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPVERTEX\x0a'+'\x20\x20\x20\x20sheenG'+'lossiness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.$VC);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPINV'+'ERT\x0a\x20\x20\x20\x20sh'+'eenGlossin'+'ess\x20=\x201.0\x20'+'-\x20sheenGlo'+'ssiness;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sheen'+'Glossiness'+'\x20+=\x200.0000'+'001;\x0a\x20\x20\x20\x20s'+'Glossiness'+'\x20=\x20sheenGl'+'ossiness;\x0a'+'}\x0a',eA='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias($'+'SAMPLER,\x20$'+'UV,\x20textur'+'eBias).$CH'+';\x0a\x20\x20\x20\x20heig'+'ht\x20=\x20heigh'+'t\x20*\x20parall'+'axScale\x20-\x20'+'parallaxSc'+'ale*0.5;\x0a\x20'+'\x20\x20\x20vec3\x20vi'+'ewDirT\x20=\x20d'+'ViewDirW\x20*'+'\x20dTBN;\x0a\x0a\x20\x20'+'\x20\x20viewDirT'+'.z\x20+=\x200.42'+';\x0a\x20\x20\x20\x20dUvO'+'ffset\x20=\x20he'+'ight\x20*\x20(vi'+'ewDirT.xy\x20'+'/\x20viewDirT'+'.z);\x0a}\x0a',tA='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a#de'+'fine\x20CAMER'+'APLANES\x0aun'+'iform\x20vec4'+'\x20camera_pa'+'rams;\x0a#end'+'if\x0a\x0aunifor'+'m\x20float\x20so'+'ftening;\x0au'+'niform\x20flo'+'at\x20colorMu'+'lt;\x0a\x0afloat'+'\x20saturate('+'float\x20x)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tex\x20\x20=\x20t'+'exture2D(c'+'olorMap,\x20v'+'ec2(texCoo'+'rdsAlphaLi'+'fe.x,\x201.0\x20'+'-\x20texCoord'+'sAlphaLife'+'.y));\x0a\x20\x20\x20\x20'+'vec4\x20ramp\x20'+'=\x20texture2'+'D(colorPar'+'am,\x20vec2(t'+'exCoordsAl'+'phaLife.w,'+'\x200.0));\x0a\x20\x20'+'\x20\x20ramp.rgb'+'\x20*=\x20colorM'+'ult;\x0a\x0a\x20\x20\x20\x20'+'ramp.a\x20+=\x20'+'texCoordsA'+'lphaLife.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20rgb\x20=\x20te'+'x.rgb\x20*\x20ra'+'mp.rgb;\x0a\x20\x20'+'\x20\x20float\x20a\x20'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',sA='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x20meshLo'+'calPos\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20q'+'uadXY\x20=\x20me'+'shLocalPos'+'.xy;\x0a\x20\x20\x20\x20f'+'loat\x20nlife'+'\x20=\x20clamp(i'+'nLife\x20/\x20pa'+'rticleLife'+'time,\x200.0,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'amDiv;\x0a\x20\x20\x20'+'\x20vec4\x20para'+'ms\x20=\x20tex1D'+'lod_lerp(T'+'EXTURE_PAS'+'S(internal'+'Tex2),\x20vec'+'2(nlife,\x200'+'),\x20paramDi'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x20params.y'+';\x0a\x20\x20\x20\x20floa'+'t\x20scaleDiv'+'\x20=\x20paramDi'+'v.x;\x0a\x20\x20\x20\x20f'+'loat\x20alpha'+'Div\x20=\x20para'+'mDiv.z;\x0a\x0a\x20'+'\x20\x20\x20scale\x20+'+'=\x20(scaleDi'+'v\x20*\x202.0\x20-\x20'+'1.0)\x20*\x20sca'+'leDivMult\x20'+'*\x20fract(rn'+'dFactor*10'+'000.0);\x0a\x0a#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(quad'+'XY\x20*\x20-0.5\x20'+'+\x200.5,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#else\x0a\x20\x20\x20\x20'+'texCoordsA'+'lphaLife\x20='+'\x20vec4(part'+'icle_uv,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20alphaD'+'ivMult\x20*\x20f'+'ract(rndFa'+'ctor*1000.'+'0),\x20nlife)'+';\x0a#endif\x0a\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'\x20=\x20inPos;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x0a'+'\x20\x20\x20\x20mat2\x20r'+'otMatrix;\x0a'),iA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',rA='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',nA='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',aA='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',oA='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y*(1.'+'0/255.0)\x20+'+'\x20rg.x;\x0a}\x0a\x0a'+'float\x20deco'+'deFloatRGB'+'A(\x20vec4\x20rg'+'ba\x20)\x20{\x0a\x20\x20r'+'eturn\x20dot('+'\x20rgba,\x20vec'+'4(1.0,\x201.0'+'/255.0,\x201.'+'0/65025.0,'+'\x201.0/16058'+'1375.0)\x20);'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+'rticles\x20-\x20'+('1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),lA='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',hA='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),cA='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',dA='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',uA='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',fA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',pA='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',mA='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',_A='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',gA='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),yA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',xA='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',SA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',vA='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',bA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0aa'+'ttribute\x20v'+'ec2\x20partic'+'le_vertexD'+'ata5;\x0a#els'+'e\x0aattribut'+'e\x20vec4\x20par'+'ticle_vert'+'exData5;\x0a#'+'endif\x0a\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wProjectio'+'n;\x0auniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0auniform\x20m'+'at4\x20matrix'+'_viewInver'+'se;\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20lif'+'etime;\x0auni'+'form\x20float'+'\x20stretch;\x0a'+'uniform\x20fl'+'oat\x20seed;\x0a'+'uniform\x20ve'+'c3\x20wrapBou'+'nds;\x0aunifo'+'rm\x20vec3\x20em'+'itterScale'+';\x0auniform\x20'+'vec3\x20faceT'+('angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0a\x0a#ifdef'+'\x20PARTICLE_'+'GPU\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex1;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+'rnalTex2;\x0a'+'#endif\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0a\x0avarying'+'\x20vec4\x20texC'+'oordsAlpha'+'Life;\x0a\x0avec'+'2\x20rotate(v'+'ec2\x20quadXY'+',\x20float\x20pR'+'otation,\x20o'+'ut\x20mat2\x20ro'+'tMatrix)\x0a{'+'\x0a\x20\x20\x20\x20float'+'\x20c\x20=\x20cos(p'+'Rotation);'+'\x0a\x20\x20\x20\x20float'+'\x20s\x20=\x20sin(p'+'Rotation);'+'\x0a\x20\x20\x20\x20//vec'+'4\x20rotation'+'Matrix\x20=\x20v'+'ec4(c,\x20-s,'+'\x20s,\x20c);\x0a\x0a\x20'+'\x20\x20\x20mat2\x20m\x20'+'=\x20mat2(c,\x20'+'-s,\x20s,\x20c);'+'\x0a\x20\x20\x20\x20rotMa'+'trix\x20=\x20m;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20m\x20*\x20quad'+'XY;\x0a}\x0a\x0avec'+'3\x20billboar'+'d(vec3\x20Ins'+'tanceCoord'+'s,\x20vec2\x20qu'+'adXY)\x0a{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20-matrix'+'_viewInver'+'se[0].xyz\x20'+'*\x20quadXY.x'+'\x20+\x20-matrix'+'_viewInver'+'se[1].xyz\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avec3\x20cust'+'omFace(vec'+'3\x20Instance'+'Coords,\x20ve'+'c2\x20quadXY)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20pos\x20=\x20fa'+'ceTangent\x20'+'*\x20quadXY.x'+'\x20+\x20faceBin'+'orm\x20*\x20quad'+'XY.y;\x0a\x20\x20\x20\x20'+'return\x20pos'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x0a{\x0a\x20\x20\x20\x20vec'+'3\x20particle'+'Pos\x20=\x20part'+'icle_verte'+'xData.xyz;'+'\x0a\x20\x20\x20\x20vec3\x20'+'inPos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20vec3\x20'+'vertPos\x20=\x20'+'particle_v'+'ertexData3'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20inVel'+'\x20=\x20vec3(pa'+'rticle_ver'+'texData2.w'+',\x20particle'+'_vertexDat')+('a3.w,\x20part'+'icle_verte'+'xData5.x);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20id\x20=\x20flo'+'or(particl'+'e_vertexDa'+'ta4);\x0a\x20\x20\x20\x20'+'float\x20rndF'+'actor\x20=\x20fr'+'act(sin(id'+'\x20+\x201.0\x20+\x20s'+'eed));\x0a\x20\x20\x20'+'\x20vec3\x20rndF'+'actor3\x20=\x20v'+'ec3(rndFac'+'tor,\x20fract'+'(rndFactor'+'*10.0),\x20fr'+'act(rndFac'+'tor*100.0)'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20normalize'+'((mat3(mat'+'rix_view)\x20'+'*\x20inVel).x'+'y);\x20//\x20sho'+'uld\x20be\x20rem'+'oved\x20by\x20co'+'mpiler\x20if\x20'+'align/stre'+'tch\x20is\x20not'+'\x20used\x0a\x0a\x20\x20\x20'+'\x20vec2\x20quad'+'XY\x20=\x20vertP'+'os.xy;\x0a\x0a#i'+'fdef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_vertexD'+'ata5.zw,\x20p'+'article_ve'+'rtexData2.'+'z,\x20particl'+'e_vertexDa'+'ta.w);\x0a#el'+'se\x0a\x20\x20\x20\x20tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4(quadXY\x20'+'*\x20-0.5\x20+\x200'+'.5,\x20partic'+'le_vertexD'+'ata2.z,\x20pa'+'rticle_ver'+'texData.w)'+';\x0a#endif\x0a\x20'+'\x20\x20\x20mat2\x20ro'+'tMatrix;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'inAngle\x20=\x20'+'particle_v'+'ertexData2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20particl'+'ePosMoved\x20'+'=\x20vec3(0.0'+');\x0a\x20\x20\x20\x20vec'+'3\x20meshLoca'+'lPos\x20=\x20par'+'ticle_vert'+'exData3.xy'+'z;\x0a'),wA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',TA='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',AA='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',EA='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',CA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal*0'+'.5+0.5;\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'Normal\x20=\x20-'+'normal*0.5'+'+0.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'*=\x20negNorm'+'al;\x0a\x20\x20\x20\x20po'+'sNormal\x20*='+'\x20posNormal'+';\x0a',MA='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a#if'+'def\x20USE_ME'+'SH\x0aattribu'+'te\x20vec2\x20pa'+'rticle_uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20mesh\x20UV\x0a'+'#endif\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ewProjecti'+'on;\x0aunifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0auniform\x20m'+'at3\x20matrix'+'_normal;\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iewInverse'+';\x0a\x0a#ifndef'+'\x20VIEWMATRI'+'X\x0a#define\x20'+'VIEWMATRIX'+'\x0auniform\x20m'+'at4\x20matrix'+'_view;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20float\x20n'+'umParticle'+'s;\x0auniform'+'\x20float\x20num'+'ParticlesP'+'ot;\x0aunifor'+'m\x20float\x20gr'+'aphSampleS'+'ize;\x0aunifo'+'rm\x20float\x20g'+'raphNumSam'+'ples;\x0aunif'+'orm\x20float\x20'+'stretch;\x0au'+'niform\x20vec'+'3\x20wrapBoun'+'ds;\x0aunifor'+'m\x20vec3\x20emi'+'tterScale;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rPos;\x0aunif'+'orm\x20vec3\x20f'+'aceTangent'+';\x0auniform\x20'+'vec3\x20faceB'+'inorm;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20de'+'ltaRandomn'+'essStatic;'+'\x0auniform\x20f'+'loat\x20scale'+'DivMult;\x0au'+'niform\x20flo'+'at\x20alphaDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20delta;\x0aun'+'iform\x20samp'+'ler2D\x20part'+'icleTexOUT'+';\x0auniform\x20'+'sampler2D\x20'+'particleTe'+'xIN;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20samp'+'ler2D\x20inte'+('rnalTex1;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex2'+';\x0a#endif\x0a\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x0a'+'#endif\x0a\x0ava'+'rying\x20vec4'+'\x20texCoords'+'AlphaLife;'+'\x0a\x0avec3\x20inP'+'os;\x0avec3\x20i'+'nVel;\x0afloa'+'t\x20inAngle;'+'\x0abool\x20inSh'+'ow;\x0afloat\x20'+'inLife;\x0a'),PA='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',RA='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',IA='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',DA='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',LA='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',FA='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',kA='\x0a\x20\x20\x20\x20inAng'+'le\x20=\x20atan('+'velocityV.'+'x,\x20velocit'+'yV.y);\x20//\x20'+'not\x20the\x20fa'+'stest\x20way,'+'\x20but\x20easie'+'r\x20to\x20plug\x20'+'in;\x20TODO:\x20'+'create\x20rot'+'\x20matrix\x20ri'+'ght\x20from\x20v'+'ectors\x0a\x0a',OA='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',BA='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',NA='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',zA='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',UA='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',VA='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x202'+'55.0,\x201.0\x20'+'/\x20255.0,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20con'+'st\x20uvec4\x20s'+'hifts\x20=\x20uv'+'ec4(16,\x208,'+'\x200,\x2024);\x0a\x20'+'\x20\x20\x20uvec4\x20c'+'ol\x20=\x20(uvec'+'4(meshInst'+'anceId)\x20>>'+'\x20shifts)\x20&'+'\x20uvec4(0xf'+'f);\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'col)\x20*\x20inv'+';\x0a}\x0a',GA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',HA='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x20\x20\x20\x20f'+'loat\x20aniso'+'tropy\x20=\x20ma'+'terial_ani'+'sotropy\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cDirection'+'\x20=\x20anisotr'+'opy\x20>=\x200.0'+'\x20?\x20tbn[1]\x20'+':\x20tbn[0];\x0a'+'\x20\x20\x20\x20vec3\x20a'+'nisotropic'+'Tangent\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicNo'+'rmal\x20=\x20cro'+'ss(anisotr'+'opicTangen'+'t,\x20anisotr'+'opicDirect'+'ion);\x0a\x20\x20\x20\x20'+'vec3\x20bentN'+'ormal\x20=\x20no'+'rmalize(mi'+'x(normaliz'+'e(worldNor'+'mal),\x20norm'+'alize(anis'+'otropicNor'+'mal),\x20anis'+'otropy));\x0a'+'\x20\x20\x20\x20dReflD'+'irW\x20=\x20refl'+'ect(-viewD'+'ir,\x20bentNo'+'rmal);\x0a}\x0a',WA='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',$A='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20$DE'+'CODE(textu'+'reCube(tex'+'ture_cubeM'+'ap,\x20lookup'+'Vec));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',qA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20sa'+'mplerCube\x20'+'texture_cu'+'beMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20dir\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r)\x20*\x20vec3('+'-1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20f'+'loat\x20level'+'\x20=\x20saturat'+'e(1.0\x20-\x20gl'+'oss)\x20*\x205.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20ilevel\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20f'+'loat\x20fleve'+'l\x20=\x20level\x20'+'-\x20ilevel;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'sharp\x20=\x20$D'+'ECODE_CUBE'+'MAP(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'oughA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20mapRou'+'ghnessUv(u'+'v,\x20ilevel)'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20roughB\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',XA='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0auni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a#endif\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_reflect'+'ivity;\x0a\x0a//'+'\x20calculate'+'\x20mip\x20level'+'\x20for\x20shiny'+'\x20reflectio'+'n\x20given\x20eq'+'uirect\x20coo'+'rds\x20uv.\x0afl'+'oat\x20shinyM'+'ipLevel(ve'+'c2\x20uv)\x20{\x0a\x20'+'\x20\x20\x20vec2\x20dx'+'\x20=\x20dFdx(uv'+');\x0a\x20\x20\x20\x20vec'+'2\x20dy\x20=\x20dFd'+'y(uv);\x0a\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20secon'+'d\x20dF\x20at\x2018'+'0\x20degrees\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v2\x20=\x20vec2('+'fract(uv.x'+'\x20+\x200.5),\x20u'+'v.y);\x0a\x20\x20\x20\x20'+'vec2\x20dx2\x20='+'\x20dFdx(uv2)'+';\x0a\x20\x20\x20\x20vec2'+'\x20dy2\x20=\x20dFd'+'y(uv2);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20min\x20'+'of\x20both\x20se'+'ts\x20of\x20dF\x20t'+'o\x20handle\x20d'+'iscontinui'+'ty\x20at\x20the\x20'+'azim\x20edge\x0a'+'\x20\x20\x20\x20float\x20'+'maxd\x20=\x20min'+'(max(dot(d'+'x,\x20dx),\x20do'+'t(dy,\x20dy))'+',\x20max(dot('+'dx2,\x20dx2),'+'\x20dot(dy2,\x20'+'dy2)));\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(0.5\x20'+'*\x20log2(max'+'d)\x20-\x201.0\x20+'+'\x20textureBi'+'as,\x200.0,\x205'+'.0);\x0a}\x0a\x0ave'+'c3\x20calcRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3(-1.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20toSphe'+'ricalUv(di'+'r);\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20roughnes'+'s\x20level\x0a\x20\x20'+'\x20\x20float\x20le'+'vel\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20f'+'loat\x20ileve'+'l\x20=\x20floor('+'level);\x0a\x0a\x20'+'\x20\x20\x20//\x20acce'+'ssing\x20the\x20'+'shiny\x20(top'+'\x20level)\x20re'+'flection\x20-'+'\x20perform\x20m'+'anual\x20mipm'+'ap\x20lookup\x0a'+'\x20\x20\x20\x20float\x20'+('level2\x20=\x20s'+'hinyMipLev'+'el(uv\x20*\x20at'+'lasSize);\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel2\x20=\x20'+'floor(leve'+'l2);\x0a\x0a\x20\x20\x20\x20'+'vec2\x20uv0,\x20'+'uv1;\x0a\x20\x20\x20\x20f'+'loat\x20weigh'+'t;\x0a\x20\x20\x20\x20if\x20'+'(ilevel\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20mapShiny'+'Uv(uv,\x20ile'+'vel2);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20mapShinyU'+'v(uv,\x20ilev'+'el2\x20+\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'weight\x20=\x20l'+'evel2\x20-\x20il'+'evel2;\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20accessing'+'\x20rough\x20ref'+'lection\x20-\x20'+'just\x20sampl'+'e\x20the\x20same'+'\x20part\x20twic'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20uv1\x20'+'=\x20mapRough'+'nessUv(uv,'+'\x20ilevel);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20we'+'ight\x20=\x200.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20li'+'nearA\x20=\x20$D'+'ECODE(text'+'ure2D(text'+'ure_envAtl'+'as,\x20uv0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'linearB\x20=\x20'+'$DECODE(te'+'xture2D(te'+'xture_envA'+'tlas,\x20uv1)'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear0\x20'+'=\x20mix(line'+'arA,\x20linea'+'rB,\x20weight'+');\x0a\x20\x20\x20\x20vec'+'3\x20linear1\x20'+'=\x20$DECODE('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0avo'+'id\x20addRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x20\x20\x20\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20+=\x20ve'+'c4(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20mater'+'ial_reflec'+'tivity);\x0a}'+'\x0a'),jA='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0auniform\x20'+'sampler2D\x20'+'texture_sp'+'hereMap;\x0au'+'niform\x20flo'+'at\x20materia'+'l_reflecti'+'vity;\x0a\x0avec'+'3\x20calcRefl'+'ection(vec'+'3\x20reflDir,'+'\x20float\x20glo'+'ss)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20reflD'+'irV\x20=\x20(mat'+'3(matrix_v'+'iew)\x20*\x20ref'+'lDir).xyz;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x202.0\x20'+'*\x20sqrt(\x20do'+'t(reflDirV'+'.xy,\x20reflD'+'irV.xy)\x20+\x20'+'(reflDirV.'+'z+1.0)*(re'+'flDirV.z+1'+'.0)\x20);\x0a\x20\x20\x20'+'\x20vec2\x20sphe'+'reMapUv\x20=\x20'+'reflDirV.x'+'y\x20/\x20m\x20+\x200.'+'5;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20$DECO'+'DE(texture'+'2D(texture'+'_sphereMap'+',\x20sphereMa'+'pUv));\x0a}\x0a\x0a'+'void\x20addRe'+'flection(v'+'ec3\x20reflDi'+'r,\x20float\x20g'+'loss)\x20{\x20\x20\x20'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20+=\x20'+'vec4(calcR'+'eflection('+'reflDir,\x20g'+'loss),\x20mat'+'erial_refl'+'ectivity);'+'\x0a}\x0a',YA='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',KA='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',ZA='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20DISPERSIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20based\x20o'+'n\x20the\x20disp'+'ersion\x20mat'+'erial\x20prop'+'erty,\x20calc'+'ulate\x20modi'+'fied\x20refra'+'ction\x20inde'+'x\x20values\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'for\x20R\x20and\x20'+'B\x20channels'+'\x20and\x20evalu'+'ate\x20the\x20re'+'fraction\x20c'+'olor\x20for\x20t'+'hem.\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20h'+'alfSpread\x20'+'=\x20(1.0\x20/\x20r'+'efractionI'+'ndex\x20-\x201.0')+(')\x20*\x200.025\x20'+'*\x20dispersi'+'on;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20r'+'efractionI'+'ndexR\x20=\x20re'+'fractionIn'+'dex\x20-\x20half'+'Spread;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'actionVect'+'or\x20=\x20norma'+'lize(refra'+'ct(-viewDi'+'r,\x20worldNo'+'rmal,\x20refr'+'actionInde'+'xR))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20refracti'+'on.r\x20=\x20eva'+'lRefractio'+'nColor(ref'+'ractionVec'+'tor,\x20gloss'+',\x20refracti'+'onIndexR).'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dexB\x20=\x20ref'+'ractionInd'+'ex\x20+\x20halfS'+'pread;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ctionVecto'+'r\x20=\x20normal'+'ize(refrac'+'t(-viewDir'+',\x20worldNor'+'mal,\x20refra'+'ctionIndex'+'B))\x20*\x20scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'n.b\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndexB).b'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20Transmitt'+'ance\x20is\x20ou'+'r\x20final\x20re'+'fraction\x20c'+'olor\x0a\x20\x20\x20\x20v'+'ec3\x20transm'+'ittance;\x0a\x20'+'\x20\x20\x20if\x20(mat'+'erial_invA'+'ttenuation'+'Distance\x20!'+'=\x200.0)\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20atte'+'nuation\x20=\x20'+'-log(mater'+'ial_attenu'+'ation)\x20*\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'transmitta'+'nce\x20=\x20exp('+'-attenuati'+'on\x20*\x20lengt'+'h(refracti'+'onVector))'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20else\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20transmitt'+'ance\x20=\x20ref'+'raction;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20f'+'resnel\x20eff'+'ect\x20on\x20ref'+'raction\x0a\x20\x20'+'\x20\x20vec3\x20fre'+'snel\x20=\x20vec'+'3(1.0)\x20-\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view')+('Dir,\x20world'+'Normal),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20specular'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20,\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceIn'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20mix(dD'+'iffuseLigh'+'t,\x20refract'+'ion\x20*\x20tran'+'smittance\x20'+'*\x20fresnel,'+'\x20transmiss'+'ion);\x0a}\x0a'),QA='\x0a//\x20This\x20s'+'hader\x20requ'+'ires\x20the\x20f'+'ollowing\x20#'+'DEFINEs:\x0a/'+'/\x0a//\x20PROCE'+'SS_FUNC\x20-\x20'+'must\x20be\x20on'+'e\x20of\x20repro'+'ject,\x20pref'+'ilter\x0a//\x20D'+'ECODE_FUNC'+'\x20-\x20must\x20be'+'\x20one\x20of\x20de'+'codeRGBM,\x20'+'decodeRGBE'+',\x20decodeGa'+'mma\x20or\x20dec'+'odeLinear\x0a'+'//\x20ENCODE_'+'FUNC\x20-\x20mus'+'t\x20be\x20one\x20o'+'f\x20encodeRG'+'BM,\x20encode'+'RGBE,\x20enci'+'deGamma\x20or'+'\x20encodeLin'+'ear\x0a//\x20SOU'+'RCE_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20samp'+'leCubemap,'+'\x20sampleEqu'+'irect,\x20sam'+'pleOctahed'+'ral\x0a//\x20TAR'+'GET_FUNC\x20-'+'\x20must\x20be\x20o'+'ne\x20of\x20getD'+'irectionCu'+'bemap,\x20get'+'DirectionE'+'quirect,\x20g'+'etDirectio'+'nOctahedra'+'l\x0a//\x0a//\x20Wh'+'en\x20filteri'+'ng:\x0a//\x20NUM'+'_SAMPLES\x20-'+'\x20number\x20of'+'\x20samples\x0a/'+'/\x20NUM_SAMP'+'LES_SQRT\x20-'+'\x20sqrt\x20of\x20n'+'umber\x20of\x20s'+'amples\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0a\x0a//'+'\x20source\x0a#i'+'fdef\x20CUBEM'+'AP_SOURCE\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplerC'+'ube\x20source'+'Cube;\x0a#els'+'e\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20source'+'Tex;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'//\x20samples'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20samples'+'Tex;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20samplesT'+'exInverseS'+'ize;\x0a#endi'+'f\x0a\x0a//\x20para'+'ms:\x0a//\x20x\x20-'+'\x20target\x20cu'+'bemap\x20face'+'\x200..6\x0a//\x20y'+'\x20-\x20target\x20'+'image\x20tota'+'l\x20pixels\x0a/'+'/\x20z\x20-\x20sour'+'ce\x20cubemap'+'\x20size\x0aunif'+'orm\x20vec3\x20p'+'arams;\x0a\x0afl'+'oat\x20target'+'Face()\x20{\x20r'+'eturn\x20para'+'ms.x;\x20}\x0afl'+'oat\x20target'+'TotalPixel'+('s()\x20{\x20retu'+'rn\x20params.'+'y;\x20}\x0afloat'+'\x20sourceTot'+'alPixels()'+'\x20{\x20return\x20'+'params.z;\x20'+'}\x0a\x0afloat\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afloat\x20'+'saturate(f'+'loat\x20x)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0a')+v0+'\x0a'+b0+('\x0a\x0a//--\x20sup'+'ported\x20pro'+'jections\x0a\x0a'+'vec3\x20modif'+'ySeams(vec'+'3\x20dir,\x20flo'+'at\x20scale)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20adir\x20=\x20ab'+'s(dir);\x0a\x20\x20'+'\x20\x20float\x20M\x20'+'=\x20max(max('+'adir.x,\x20ad'+'ir.y),\x20adi'+'r.z);\x0a\x20\x20\x20\x20'+'return\x20dir'+'\x20/\x20M\x20*\x20vec'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.x\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20adir'+'.y\x20==\x20M\x20?\x20'+'1.0\x20:\x20scal'+'e,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20adir.z\x20=='+'\x20M\x20?\x201.0\x20:'+'\x20scale\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'3\x20fromSphe'+'rical(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(cos(uv.'+'y)\x20*\x20sin(u'+'v.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sin(uv.y'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'os(uv.y)\x20*'+'\x20cos(uv.x)'+');\x0a}\x0a\x0avec3'+'\x20getDirect'+'ionEquirec'+'t()\x20{\x0a\x20\x20\x20\x20'+'return\x20fro'+'mSpherical'+'((vec2(vUv'+'0.x,\x201.0\x20-'+'\x20vUv0.y)\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20vec2(P'+'I,\x20PI\x20*\x200.'+'5));\x0a}\x0a\x0a//'+'\x20octahedra'+'l\x20code,\x20ba'+'sed\x20on\x20htt'+'ps://jcgt.'+'org/publis'+'hed/0003/0'+'2/01/\x0a//\x20\x22'+'Survey\x20of\x20'+'Efficient\x20'+'Representa'+'tions\x20for\x20'+'Independen'+'t\x20Unit\x20Vec'+'tors\x22\x20by\x20C'+'igolle,\x20Do'+'now,\x20Evang'+'elakos,\x20Ma'+'ra,\x20McGuir'+'e,\x20Meyer\x0a\x0a'+'float\x20sign'+'NotZero(fl'+'oat\x20k){\x0a\x20\x20'+'\x20\x20return(k'+'\x20>=\x200.0)\x20?'+'\x201.0\x20:\x20-1.'+'0;\x0a}\x0a\x0avec2'+'\x20signNotZe'+'ro(vec2\x20v)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(s'+'ignNotZero'+'(v.x),\x20sig'+'nNotZero(v'+'.y));\x0a}\x0a\x0a/'+('/\x20Returns\x20'+'a\x20unit\x20vec'+'tor.\x20Argum'+'ent\x20o\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'packed\x20via'+'\x20octEncode'+',\x20on\x20the\x20['+'-1,\x20+1]\x20sq'+'uare\x0avec3\x20'+'octDecode('+'vec2\x20o)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'\x20=\x20vec3(o.'+'x,\x201.0\x20-\x20a'+'bs(o.x)\x20-\x20'+'abs(o.y),\x20'+'o.y);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v.xz\x20'+'=\x20(1.0\x20-\x20a'+'bs(v.zx))\x20'+'*\x20signNotZ'+'ero(v.xz);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0avec3\x20'+'getDirecti'+'onOctahedr'+'al()\x20{\x0a\x20\x20\x20'+'\x20return\x20oc'+'tDecode(ve'+'c2(vUv0.x,'+'\x201.0\x20-\x20vUv'+'0.y)\x20*\x202.0'+'\x20-\x201.0);\x0a}'+'\x0a\x0a//\x20Assum'+'es\x20that\x20v\x20'+'is\x20a\x20unit\x20'+'vector.\x20Th'+'e\x20result\x20i'+'s\x20an\x20octah'+'edral\x20vect'+'or\x20on\x20the\x20'+'[-1,\x20+1]\x20s'+'quare\x0avec2'+'\x20octEncode'+'(in\x20vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20l1norm'+'\x20=\x20abs(v.x'+')\x20+\x20abs(v.'+'y)\x20+\x20abs(v'+'.z);\x0a\x20\x20\x20\x20v'+'ec2\x20result'+'\x20=\x20v.xz\x20*\x20'+'(1.0\x20/\x20l1n'+'orm);\x0a\x20\x20\x20\x20'+'if\x20(v.y\x20<\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20=\x20(1.0\x20-'+'\x20abs(resul'+'t.yx))\x20*\x20s'+'ignNotZero'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20ve'+'c4\x20sampleC'+'ubemap(vec'+'3\x20dir)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCube(sour'+'ceCube,\x20mo'+'difySeams('+'dir,\x201.0))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleCubema'+'p(vec2\x20sph'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20sampl'+'eCubemap(f'+'romSpheric'+'al(sph));\x0a')+('}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleCu'+'bemap(vec3'+'\x20dir,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureCube'+'Lod(source'+'Cube,\x20modi'+'fySeams(di'+'r,\x201.0),\x20m'+'ipLevel);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leCubemap('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleC'+'ubemap(fro'+'mSpherical'+'(sph),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a#else\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleEqui'+'rect(vec2\x20'+'sph)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20sph\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'(toSpheric'+'al(dir));\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20samp'+'leEquirect'+'(vec2\x20sph,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sph'+'\x20/\x20vec2(PI'+'\x20*\x202.0,\x20PI'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'e2DLod(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sam'+'pleEquirec'+'t(toSpheri'+'cal(dir),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleOctah'+'edral(vec2'+'\x20sph)\x20{\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleOctahed'+'ral(vec3\x20d'+'ir,\x20float\x20'+'mipLevel)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'octEncode('+'dir)\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20texture'+'2DLod(sour'+'ceTex,\x20vec'+'2(uv.x,\x201.'+'0\x20-\x20uv.y),'+'\x20mipLevel)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sa'+'mpleOctahe'+'dral(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getD'+'irectionCu'+'bemap()\x20{\x0a'+'\x20\x20\x20\x20vec2\x20s'+'t\x20=\x20vUv0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20floa'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20vec;\x0a\x20\x20'+'\x20\x20if\x20(face'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'1,\x20-st.y,\x20'+'-st.x);\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(face\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec\x20'+'=\x20vec3(-1,'+'\x20-st.y,\x20st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'1,\x20st.y);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x203.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3(st.x'+',\x20-st.y,\x201'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(-st.x'+',\x20-st.y,\x20-'+'1);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(modifySe'+'ams(vec,\x201'+'.0));\x0a}\x0a\x0am'+'at3\x20matrix'+'FromVector'+'(vec3\x20n)\x20{'+'\x20//\x20frisva'+'d\x0a\x20\x20\x20\x20floa'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20f'+'loat\x20b\x20=\x20-')+('n.x\x20*\x20n.y\x20'+'*\x20a;\x0a\x20\x20\x20\x20v'+'ec3\x20b1\x20=\x20v'+'ec3(1.0\x20-\x20'+'n.x\x20*\x20n.x\x20'+'*\x20a,\x20b,\x20-n'+'.x);\x0a\x20\x20\x20\x20v'+'ec3\x20b2\x20=\x20v'+'ec3(b,\x201.0'+'\x20-\x20n.y\x20*\x20n'+'.y\x20*\x20a,\x20-n'+'.y);\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'(b1,\x20b2,\x20n'+');\x0a}\x0a\x0amat3'+'\x20matrixFro'+'mVectorSlo'+'w(vec3\x20n)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20up\x20=\x20(1.0'+'\x20-\x20abs(n.y'+')\x20<=\x200.000'+'0001)\x20?\x20ve'+'c3(0.0,\x200.'+'0,\x20n.y\x20>\x200'+'.0\x20?\x201.0\x20:'+'\x20-1.0)\x20:\x20v'+'ec3(0.0,\x201'+'.0,\x200.0);\x0a'+'\x20\x20\x20\x20vec3\x20x'+'\x20=\x20normali'+'ze(cross(u'+'p,\x20n));\x0a\x20\x20'+'\x20\x20vec3\x20y\x20='+'\x20cross(n,\x20'+'x);\x0a\x20\x20\x20\x20re'+'turn\x20mat3('+'x,\x20y,\x20n);\x0a'+'}\x0a\x0avec4\x20re'+'project()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'NUM_SAMPLE'+'S\x20<=\x201)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20single\x20sa'+'mple\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(DECODE_F'+'UNC(SOURCE'+'_FUNC(TARG'+'ET_FUNC())'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'lti\x20sample'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20t\x20=\x20TA'+'RGET_FUNC('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20tu\x20='+'\x20dFdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tv\x20=\x20dF'+'dy(t);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'u\x20=\x200.0;\x20u'+'\x20<\x20NUM_SAM'+'PLES_SQRT;'+'\x20++u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(float'+'\x20v\x20=\x200.0;\x20'+'v\x20<\x20NUM_SA'+'MPLES_SQRT'+';\x20++v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20DECOD'+'E_FUNC(SOU'+'RCE_FUNC(n'+'ormalize(t'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20tu\x20*\x20(u'+'\x20/\x20NUM_SAM'+'PLES_SQRT\x20'+'-\x200.5)\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'v\x20*\x20(v\x20/\x20N'+'UM_SAMPLES'+'_SQRT\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ENCO'+'DE_FUNC(re'+'sult\x20/\x20(NU'+'M_SAMPLES_'+'SQRT\x20*\x20NUM'+'_SAMPLES_S'+'QRT));\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0avec4'+'\x20unpackFlo'+'at\x20=\x20vec4('+'1.0,\x201.0\x20/'+'\x20255.0,\x201.'+'0\x20/\x2065025.'+'0,\x201.0\x20/\x201'+'6581375.0)'+';\x0a\x0a#ifdef\x20'+'USE_SAMPLE'+'S_TEX\x0a\x20\x20\x20\x20'+'void\x20unpac'+'kSample(in'+'t\x20i,\x20out\x20v'+'ec3\x20L,\x20out'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20u\x20=\x20(fl'+'oat(i\x20*\x204)'+'\x20+\x200.5)\x20*\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20v'+'\x20=\x20(floor('+'u)\x20+\x200.5)\x20'+'*\x20samplesT'+'exInverseS'+'ize.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20raw.x\x20'+'=\x20dot(text'+'ure2D(samp'+'lesTex,\x20ve'+'c2(u,\x20v)),'+'\x20unpackFlo'+'at);\x20u\x20+=\x20'+'samplesTex'+'InverseSiz'+'e.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20raw.y\x20='+'\x20dot(textu'+'re2D(sampl'+'esTex,\x20vec'+'2(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20s'+'amplesTexI'+'nverseSize'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20raw.z\x20=\x20'+'dot(textur'+'e2D(sample'+'sTex,\x20vec2'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20sa'+'mplesTexIn'+'verseSize.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20raw.w\x20=\x20d'+'ot(texture'+'2D(samples'+'Tex,\x20vec2('+'u,\x20v)),\x20un'+'packFloat)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20L.xyz\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mi'+'pLevel\x20=\x20r'+'aw.w\x20*\x208.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20conv'+'olve\x20an\x20en'+'vironment\x20'+'given\x20pre-'+'generated\x20'+'samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp')+('les()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el))\x20*\x20L.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20totalW'+'eight\x20+=\x20L'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'ENCODE_FUN'+'C(result\x20/'+'\x20totalWeig'+'ht);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'nweighted\x20'+'version\x20of'+'\x20prefilter'+'Samples\x0a\x20\x20'+'\x20\x20vec4\x20pre'+'filterSamp'+'lesUnweigh'+'ted()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onstruct\x20v'+'ector\x20spac'+'e\x20given\x20ta'+'rget\x20direc'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mat3\x20ve'+'cSpace\x20=\x20m'+'atrixFromV'+'ectorSlow('+'TARGET_FUN'+'C());\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'L;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20mip'+'Level;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20result\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20total'+'Weight\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20NUM_SAMP'+'LES;\x20++i)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unpack'+'Sample(i,\x20'+'L,\x20mipLeve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20DECO'+'DE_FUNC(SO'+'URCE_FUNC('+'vecSpace\x20*'+'\x20L,\x20mipLev'+'el));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20ENCODE_F'+'UNC(result'+'\x20/\x20float(N'+'UM_SAMPLES'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20PROCE'+'SS_FUNC();'+'\x0a}\x0a')),JA='\x0a\x0avec4\x20Sam'+'pleTexture'+'CatmullRom'+'(TEXTURE_A'+'CCEPT(tex)'+',\x20vec2\x20uv,'+'\x20vec2\x20texS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20//\x20We\x27re\x20'+'going\x20to\x20s'+'ample\x20a\x20a\x20'+'4x4\x20grid\x20o'+'f\x20texels\x20s'+'urrounding'+'\x20the\x20targe'+'t\x20UV\x20coord'+'inate.\x20We\x27'+'ll\x20do\x20this'+'\x20by\x20roundi'+'ng\x0a\x20\x20\x20\x20//\x20'+'down\x20the\x20s'+'ample\x20loca'+'tion\x20to\x20ge'+'t\x20the\x20exac'+'t\x20center\x20o'+'f\x20our\x20\x22sta'+'rting\x22\x20tex'+'el.\x20The\x20st'+'arting\x20tex'+'el\x20will\x20be'+'\x20at\x0a\x20\x20\x20\x20//'+'\x20location\x20'+'[1,\x201]\x20in\x20'+'the\x20grid,\x20'+'where\x20[0,\x20'+'0]\x20is\x20the\x20'+'top\x20left\x20c'+'orner.\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePos\x20=\x20uv'+'\x20*\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos1\x20='+'\x20floor(sam'+'plePos\x20-\x200'+'.5)\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20//\x20C'+'ompute\x20the'+'\x20fractiona'+'l\x20offset\x20f'+'rom\x20our\x20st'+'arting\x20tex'+'el\x20to\x20our\x20'+'original\x20s'+'ample\x20loca'+'tion,\x20whic'+'h\x20we\x27ll\x0a\x20\x20'+'\x20\x20//\x20feed\x20'+'into\x20the\x20C'+'atmull-Rom'+'\x20spline\x20fu'+'nction\x20to\x20'+'get\x20our\x20fi'+'lter\x20weigh'+'ts.\x0a\x20\x20\x20\x20ve'+'c2\x20f\x20=\x20sam'+'plePos\x20-\x20t'+'exPos1;\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20the\x20Ca'+'tmull-Rom\x20'+'weights\x20us'+'ing\x20the\x20fr'+'actional\x20o'+'ffset\x20that'+'\x20we\x20calcul'+'ated\x20earli'+'er.\x0a\x20\x20\x20\x20//'+'\x20These\x20equ'+'ations\x20are'+'\x20pre-expan'+'ded\x20based\x20'+'on\x20our\x20kno'+'wledge\x20of\x20'+'where\x20the\x20'+'texels\x20wil'+'l\x20be\x20locat'+'ed,\x0a\x20\x20\x20\x20//'+'\x20which\x20let'+'s\x20us\x20avoid'+'\x20having\x20to'+'\x20evaluate\x20'+'a\x20piece-wi'+'se\x20functio'+'n.\x0a\x20\x20\x20\x20vec'+'2\x20w0\x20=\x20f\x20*'+'\x20(-0.5\x20+\x20f'+'\x20*\x20(1.0\x20-\x20'+'0.5\x20*\x20f));'+'\x0a\x20\x20\x20\x20vec2\x20'+('w1\x20=\x201.0\x20+'+'\x20f\x20*\x20f\x20*\x20('+'-2.5\x20+\x201.5'+'\x20*\x20f);\x0a\x20\x20\x20'+'\x20vec2\x20w2\x20='+'\x20f\x20*\x20(0.5\x20'+'+\x20f\x20*\x20(2.0'+'\x20-\x201.5\x20*\x20f'+'));\x0a\x20\x20\x20\x20ve'+'c2\x20w3\x20=\x20f\x20'+'*\x20f\x20*\x20(-0.'+'5\x20+\x200.5\x20*\x20'+'f);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Work\x20out'+'\x20weighting'+'\x20factors\x20a'+'nd\x20samplin'+'g\x20offsets\x20'+'that\x20will\x20'+'let\x20us\x20use'+'\x20bilinear\x20'+'filtering\x20'+'to\x0a\x20\x20\x20\x20//\x20'+'simultaneo'+'usly\x20evalu'+'ate\x20the\x20mi'+'ddle\x202\x20sam'+'ples\x20from\x20'+'the\x204x4\x20gr'+'id.\x0a\x20\x20\x20\x20ve'+'c2\x20w12\x20=\x20w'+'1\x20+\x20w2;\x0a\x20\x20'+'\x20\x20vec2\x20off'+'set12\x20=\x20w2'+'\x20/\x20(w1\x20+\x20w'+'2);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'the\x20final\x20'+'UV\x20coordin'+'ates\x20we\x27ll'+'\x20use\x20for\x20s'+'ampling\x20th'+'e\x20texture\x0a'+'\x20\x20\x20\x20vec2\x20t'+'exPos0\x20=\x20('+'texPos1\x20-\x20'+'1.0)\x20/\x20tex'+'Size;\x0a\x20\x20\x20\x20'+'vec2\x20texPo'+'s3\x20=\x20(texP'+'os1\x20+\x202.0)'+'\x20/\x20texSize'+';\x0a\x20\x20\x20\x20vec2'+'\x20texPos12\x20'+'=\x20(texPos1'+'\x20+\x20offset1'+'2)\x20/\x20texSi'+'ze;\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20result'+'\x20=\x20vec4(0.'+'0);\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos0.x'+',\x20texPos0.'+'y),\x200.0)\x20*'+'\x20w0.x\x20*\x20w0'+'.y;\x0a\x20\x20\x20\x20re'+'sult\x20+=\x20te'+'xture2DLod'+'(tex,\x20vec2'+'(texPos12.'+'x,\x20texPos0'+'.y),\x200.0)\x20'+'*\x20w12.x\x20*\x20'+'w0.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos3'+'.x,\x20texPos'+'0.y),\x200.0)'+'\x20*\x20w3.x\x20*\x20'+'w0.y;\x0a\x0a\x20\x20\x20'+'\x20result\x20+='+'\x20texture2D'+'Lod(tex,\x20v'+'ec2(texPos'+'0.x,\x20texPo'+'s12.y),\x200.'+'0)\x20*\x20w0.x\x20'+'*\x20w12.y;\x0a\x20'+'\x20\x20\x20result\x20'+'+=\x20texture'+'2DLod(tex,'+'\x20vec2(texP'+'os12.x,\x20te'+'xPos12.y),'+'\x200.0)\x20*\x20w1')+('2.x\x20*\x20w12.'+'y;\x0a\x20\x20\x20\x20res'+'ult\x20+=\x20tex'+'ture2DLod('+'tex,\x20vec2('+'texPos3.x,'+'\x20texPos12.'+'y),\x200.0)\x20*'+'\x20w3.x\x20*\x20w1'+'2.y;\x0a\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos0'+'.x,\x20texPos'+'3.y),\x200.0)'+'\x20*\x20w0.x\x20*\x20'+'w3.y;\x0a\x20\x20\x20\x20'+'result\x20+=\x20'+'texture2DL'+'od(tex,\x20ve'+'c2(texPos1'+'2.x,\x20texPo'+'s3.y),\x200.0'+')\x20*\x20w12.x\x20'+'*\x20w3.y;\x0a\x20\x20'+'\x20\x20result\x20+'+'=\x20texture2'+'DLod(tex,\x20'+'vec2(texPo'+'s3.x,\x20texP'+'os3.y),\x200.'+'0)\x20*\x20w3.x\x20'+'*\x20w3.y;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'),eE='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a#define\x20S'+'CREENSIZE\x0a'+'uniform\x20ve'+'c4\x20uScreen'+'Size;\x0a#end'+'if\x0a\x0a#ifnde'+'f\x20VIEWMATR'+'IX\x0a#define'+'\x20VIEWMATRI'+'X\x0auniform\x20'+'mat4\x20matri'+'x_view;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20LINEAR'+'IZE_DEPTH\x0a'+'#ifndef\x20CA'+'MERAPLANES'+'\x0a#define\x20C'+'AMERAPLANE'+'S\x0auniform\x20'+'vec4\x20camer'+'a_params;\x20'+'//\x20x:\x201\x20/\x20'+'camera_far'+',\x20\x20\x20\x20\x20\x20y:\x20'+'camera_far'+',\x20\x20\x20\x20\x20z:\x20c'+'amera_near'+',\x20\x20\x20\x20\x20\x20\x20\x20w'+':\x20is_ortho'+'\x0a#endif\x0a\x0a#'+'define\x20LIN'+'EARIZE_DEP'+'TH\x0afloat\x20l'+'inearizeDe'+'pth(float\x20'+'z)\x20{\x0a\x20\x20\x20\x20i'+'f\x20(camera_'+'params.w\x20='+'=\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(camera_'+'params.z\x20*'+'\x20camera_pa'+'rams.y)\x20/\x20'+'(camera_pa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'_params.z\x20'+'-\x20camera_p'+'arams.y));'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20camer'+'a_params.z'+'\x20+\x20z\x20*\x20(ca'+'mera_param'+'s.y\x20-\x20came'+'ra_params.'+'z);\x0a}\x0a#end'+'if\x20//\x20LINE'+'ARIZE_DEPT'+'H\x0a\x0afloat\x20d'+'elinearize'+'Depth(floa'+'t\x20linearDe'+'pth)\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'a_params.w'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20(cam'+'era_params'+'.y\x20*\x20(came'+'ra_params.'+'z\x20-\x20linear'+'Depth))\x20/\x20'+'(linearDep'+'th\x20*\x20(came'+'ra_params.'+'z\x20-\x20camera'+'_params.y)'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20(linearDe'+'pth\x20-\x20came'+'ra_params.'+'z)\x20/\x20(came'+'ra_params.'+'y\x20-\x20camera'+'_params.z)'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0a//\x20Retrie'+('ves\x20render'+'ed\x20linear\x20'+'camera\x20dep'+'th\x20by\x20UV\x0af'+'loat\x20getLi'+'nearScreen'+'Depth(vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'ENE_DEPTHM'+'AP_LINEAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SCENE'+'_DEPTHMAP_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20textu'+'re2D(uScen'+'eDepthMap,'+'\x20uv).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ivec2'+'\x20textureSi'+'ze\x20=\x20textu'+'reSize(uSc'+'eneDepthMa'+'p,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20texel'+'\x20=\x20ivec2(u'+'v\x20*\x20vec2(t'+'extureSize'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20data\x20=\x20te'+'xelFetch(u'+'SceneDepth'+'Map,\x20texel'+',\x200);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20intBit'+'s\x20=\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.r\x20*\x20255.'+'0)\x20<<\x2024u)'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'uint(data.'+'g\x20*\x20255.0)'+'\x20<<\x2016u)\x20|'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(ui'+'nt(data.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20uint(d'+'ata.a\x20*\x2025'+'5.0);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uint'+'BitsToFloa'+'t(intBits)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20lineariz'+'eDepth(tex'+'ture2D(uSc'+'eneDepthMa'+'p,\x20uv).r);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#ifnd'+'ef\x20VERTEXS'+'HADER\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20un'+'der\x20the\x20cu'+'rrent\x20pixe'+'l\x0afloat\x20ge'+'tLinearScr'+'eenDepth()'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20gl_'+'FragCoord.'+'xy\x20*\x20uScre'+'enSize.zw;'+'\x0a\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a}\x0a'+'#endif\x0a\x0a//'+'\x20Generates'+'\x20linear\x20ca'+'mera\x20depth')+('\x20for\x20the\x20g'+'iven\x20world'+'\x20position\x0a'+'float\x20getL'+'inearDepth'+'(vec3\x20pos)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(matr'+'ix_view\x20*\x20'+'vec4(pos,\x20'+'1.0)).z;\x0a}'+'\x0a'),tE='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avoid\x20'+'fadeShadow'+'(vec4\x20shad'+'owCascadeD'+'istances)\x20'+'{\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20//\x20if\x20'+'the\x20pixel\x20'+'is\x20past\x20th'+'e\x20shadow\x20d'+'istance,\x20r'+'emove\x20shad'+'ow\x0a\x20\x20\x20\x20//\x20'+'this\x20enfor'+'ces\x20straig'+'ht\x20line\x20in'+'stead\x20of\x20c'+'orner\x20of\x20s'+'hadow\x20whic'+'h\x20moves\x20wh'+'en\x20camera\x20'+'rotates\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x201.'+'0\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20if\x20(de'+'pth\x20>\x20shad'+'owCascadeD'+'istances.w'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dShadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a}\x0a'),sE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20s'+'hadowCoord'+'.z,\x20shadow'+'Params.y,\x20'+'exponent);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potVSM$(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec4\x20sh'+'adowParams'+',\x20float\x20ex'+'ponent,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20VSM$'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord.xy'+',\x20shadowPa'+'rams.x,\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a',iE='\x0afloat\x20VSM'+'$(TEXTURE_'+'ACCEPT(tex'+'),\x20vec2\x20te'+'xCoords,\x20f'+'loat\x20resol'+'ution,\x20flo'+'at\x20Z,\x20floa'+'t\x20vsmBias,'+'\x20float\x20exp'+'onent)\x20{\x0a\x20'+'\x20\x20\x20float\x20p'+'ixelSize\x20='+'\x201.0\x20/\x20res'+'olution;\x0a\x20'+'\x20\x20\x20texCoor'+'ds\x20-=\x20vec2'+'(pixelSize'+');\x0a\x20\x20\x20\x20vec'+'3\x20s00\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20s1'+'0\x20=\x20textur'+'e2D(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize,\x200))'+'.xyz;\x0a\x20\x20\x20\x20'+'vec3\x20s01\x20='+'\x20texture2D'+'(tex,\x20texC'+'oords\x20+\x20ve'+'c2(0,\x20pixe'+'lSize)).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20s11\x20=\x20te'+'xture2D(te'+'x,\x20texCoor'+'ds\x20+\x20vec2('+'pixelSize)'+').xyz;\x0a\x20\x20\x20'+'\x20vec2\x20fr\x20='+'\x20fract(tex'+'Coords\x20*\x20r'+'esolution)'+';\x0a\x20\x20\x20\x20vec3'+'\x20h0\x20=\x20mix('+'s00,\x20s10,\x20'+'fr.x);\x0a\x20\x20\x20'+'\x20vec3\x20h1\x20='+'\x20mix(s01,\x20'+'s11,\x20fr.x)'+';\x0a\x20\x20\x20\x20vec3'+'\x20moments\x20='+'\x20mix(h0,\x20h'+'1,\x20fr.y);\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'float\x20getS'+'hadowVSM$('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M$(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Params.x,\x20'+'shadowCoor'+'d.z,\x20shado'+'wParams.y,'+'\x20exponent)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'SpotVSM$(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec3'+'\x20shadowCoo'+'rd,\x20vec4\x20s'+'hadowParam'+'s,\x20float\x20e'+'xponent,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+('return\x20VSM'+'$(TEXTURE_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord.x'+'y,\x20shadowP'+'arams.x,\x20l'+'ength(ligh'+'tDir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'),rE='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epth(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa'+'dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam')+('pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light')+('Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow')+('Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowPo'+'intPCSS(sa'+'mplerCube\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SSCube(sha'+'dowMap,\x20sh'+'adowParams'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'hadowSearc'+'hArea.x,\x20l'+'ightDir);\x0a'+'}\x0a\x0a#endif\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c2\x20shadowS'+'earchArea,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSS(TEXTUR'+'E_PASS(sha'+'dowMap),\x20s'+'hadowCoord'+',\x20cameraPa'+'rams,\x20shad'+'owSearchAr'+'ea);\x0a}\x0a\x0a'),nE='\x0a\x0avec3\x20get'+'ShadowSamp'+'leCoord$LI'+'GHT(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'vec3\x20surfa'+'cePosition'+'\x20=\x20worldPo'+'sition;\x0a\x0a#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'POINT\x0a\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20d'+'istScale\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sur'+'facePositi'+'on\x20=\x20surfa'+'cePosition'+'\x20+\x20normal\x20'+'*\x20shadowPa'+'rams.y\x20*\x20c'+'lamp(1.0\x20-'+'\x20dot(norma'+'l,\x20-lightD'+'irNorm),\x200'+'.0,\x201.0)\x20*'+'\x20distScale'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'lightDir\x20='+'\x20surfacePo'+'sition\x20-\x20l'+'ightPos;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20#e'+'ndif\x0a#else'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dist'+'Scale\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20distSca'+'le\x20=\x20abs(d'+'ot(vPositi'+'onW\x20-\x20ligh'+'tPos,\x20ligh'+'tDirNorm))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20surface'+'Position\x20='+'\x20surfacePo'+('sition\x20+\x20n'+'ormal\x20*\x20sh'+'adowParams'+'.y\x20*\x20clamp'+'(1.0\x20-\x20dot'+'(normal,\x20-'+'lightDirNo'+'rm),\x200.0,\x20'+'1.0)\x20*\x20dis'+'tScale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20positi'+'onInShadow'+'Space\x20=\x20sh'+'adowTransf'+'orm\x20*\x20vec4'+'(surfacePo'+'sition,\x201.'+'0);\x0a\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_O'+'RTHO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20positio'+'nInShadowS'+'pace.z\x20=\x20s'+'aturate(po'+'sitionInSh'+'adowSpace.'+'z)\x20-\x200.000'+'1;\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/=\x20pos'+'itionInSha'+'dowSpace.w'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20positi'+'onInShadow'+'Space.z\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SHADOW_'+'SAMPLE_Z_B'+'IAS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.z\x20+=\x20g'+'etShadowBi'+'as(shadowP'+'arams.x,\x20s'+'hadowParam'+'s.z);\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20surfa'+'cePosition'+';\x0a}\x0a'),aE='\x0a\x0a/**\x0a\x20*\x20S'+'oft\x20direct'+'ional\x20shad'+'ows\x20PCSS\x20-'+'\x20with\x20and\x20'+'without\x20bl'+'ocker\x20sear'+'ch.\x0a\x20*/\x0a\x0ah'+'ighp\x20float'+'\x20fractSinR'+'and(\x20const'+'\x20in\x20vec2\x20u'+'v\x20)\x20{\x0a\x20\x20\x20\x20'+'const\x20high'+'p\x20float\x20a\x20'+'=\x2012.9898,'+'\x20b\x20=\x2078.23'+'3,\x20c\x20=\x20437'+'58.5453;\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20dt\x20=\x20'+'dot(uv.xy,'+'\x20vec2(a,\x20b'+')),\x20sn\x20=\x20m'+'od(dt,\x20PI)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20fract(s'+'in(sn)\x20*\x20c'+');\x0a}\x0a\x0a//\x20s'+'truct\x20to\x20h'+'old\x20precom'+'puted\x20cons'+'tants\x20and\x20'+'current\x20st'+'ate\x0astruct'+'\x20PoissonDi'+'skData\x20{\x0a\x20'+'\x20\x20\x20float\x20i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20fl'+'oat\x20angleS'+'tep;\x0a\x20\x20\x20\x20f'+'loat\x20initi'+'alAngle;\x0a\x20'+'\x20\x20\x20float\x20c'+'urrentRadi'+'us;\x0a\x20\x20\x20\x20fl'+'oat\x20curren'+'tAngle;\x0a};'+'\x0a\x0a//\x20prepa'+'re\x20the\x20Poi'+'sson\x20disk\x20'+'constants\x20'+'and\x20initia'+'lize\x20the\x20c'+'urrent\x20sta'+'te\x20in\x20the\x20'+'struct\x0avoi'+'d\x20prepareP'+'oissonCons'+'tants(out\x20'+'PoissonDis'+'kData\x20data'+',\x20int\x20samp'+'leCount,\x20i'+'nt\x20numRing'+'s,\x20float\x20r'+'andomSeed)'+'\x20{\x0a\x20\x20\x20\x20con'+'st\x20float\x20p'+'i2\x20=\x206.283'+'18530718;\x0a'+'\x20\x20\x20\x20data.i'+'nvNumSampl'+'es\x20=\x201.0\x20/'+'\x20float(sam'+'pleCount);'+'\x0a\x20\x20\x20\x20data.'+'angleStep\x20'+'=\x20pi2\x20*\x20fl'+'oat(numRin'+'gs)\x20*\x20data'+'.invNumSam'+'ples;\x0a\x20\x20\x20\x20'+'data.initi'+'alAngle\x20=\x20'+'randomSeed'+'\x20*\x20pi2;\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20=\x20data.in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20dat'+'a.currentA'+'ngle\x20=\x20dat'+'a.initialA'+'ngle;\x0a}\x0a\x0a/'+'/\x20generate'+'\x20a\x20Poisson'+'\x20sample\x20us'+('ing\x20the\x20pr'+'ecomputed\x20'+'struct\x0avec'+'2\x20generate'+'PoissonSam'+'ple(inout\x20'+'PoissonDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20offset\x20'+'=\x20vec2(cos'+'(data.curr'+'entAngle),'+'\x20sin(data.'+'currentAng'+'le))\x20*\x20pow'+'(data.curr'+'entRadius,'+'\x200.75);\x0a\x20\x20'+'\x20\x20data.cur'+'rentRadius'+'\x20+=\x20data.i'+'nvNumSampl'+'es;\x0a\x20\x20\x20\x20da'+'ta.current'+'Angle\x20+=\x20d'+'ata.angleS'+'tep;\x0a\x20\x20\x20\x20r'+'eturn\x20offs'+'et;\x0a}\x0a\x0avoi'+'d\x20PCSSFind'+'Blocker(TE'+'XTURE_ACCE'+'PT(shadowM'+'ap),\x20out\x20f'+'loat\x20avgBl'+'ockerDepth'+',\x20out\x20int\x20'+'numBlocker'+'s,\x0a\x20\x20\x20\x20vec'+'2\x20shadowCo'+'ords,\x20floa'+'t\x20z,\x20int\x20s'+'hadowBlock'+'erSamples,'+'\x20float\x20pen'+'umbraSize,'+'\x20float\x20inv'+'ShadowMapS'+'ize,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'PoissonDis'+'kData\x20pois'+'sonData;\x0a\x20'+'\x20\x20\x20prepare'+'PoissonCon'+'stants(poi'+'ssonData,\x20'+'shadowBloc'+'kerSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'searchWidt'+'h\x20=\x20penumb'+'raSize\x20*\x20i'+'nvShadowMa'+'pSize;\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckerSum\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20n'+'umBlockers'+'\x20=\x200;\x0a\x0a\x20\x20\x20'+'\x20for(\x20int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20shadowBlo'+'ckerSample'+'s;\x20++i\x20)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20poisso'+'nUV\x20=\x20gene'+'ratePoisso'+'nSample(po'+'issonData)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20sampl'+'eUV\x20=\x20shad'+'owCoords\x20+'+'\x20poissonUV'+'\x20*\x20searchW'+'idth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowMapD'+'epth\x20=\x20tex'+'ture2DLod('+'shadowMap,'+'\x20sampleUV,'+'\x200.0).r;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20')+('(\x20shadowMa'+'pDepth\x20<\x20z'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20blo'+'ckerSum\x20+='+'\x20shadowMap'+'Depth;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20n'+'umBlockers'+'++;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20avgBlo'+'ckerDepth\x20'+'=\x20blockerS'+'um\x20/\x20float'+'(numBlocke'+'rs);\x0a}\x0a\x0afl'+'oat\x20PCSSFi'+'lter(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec2\x20uv,'+'\x20float\x20rec'+'eiverDepth'+',\x20int\x20shad'+'owSamples,'+'\x20float\x20fil'+'terRadius,'+'\x20float\x20ran'+'domSeed)\x20{'+'\x0a\x20\x0a\x20\x20\x20\x20Poi'+'ssonDiskDa'+'ta\x20poisson'+'Data;\x0a\x20\x20\x20\x20'+'preparePoi'+'ssonConsta'+'nts(poisso'+'nData,\x20sha'+'dowSamples'+',\x2011,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'sum\x20=\x200.0f'+';\x0a\x20\x20\x20\x20for\x20'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowSamples'+';\x20++i\x20)\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20poi'+'ssonUV\x20=\x20g'+'eneratePoi'+'ssonSample'+'(poissonDa'+'ta);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sa'+'mpleUV\x20=\x20u'+'v\x20+\x20poisso'+'nUV\x20*\x20filt'+'erRadius;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20depth\x20'+'=\x20texture2'+'DLod(shado'+'wMap,\x20samp'+'leUV,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sum\x20+=\x20s'+'tep(receiv'+'erDepth,\x20d'+'epth);\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20ret'+'urn\x20sum\x20/\x20'+'float(shad'+'owSamples)'+';\x0a}\x20\x0a\x0afloa'+'t\x20getPenum'+'bra(float\x20'+'dblocker,\x20'+'float\x20drec'+'eiver,\x20flo'+'at\x20penumbr'+'aSize,\x20flo'+'at\x20penumbr'+'aFalloff)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20dist\x20=\x20d'+'receiver\x20-'+'\x20dblocker;'+'\x0a\x20\x20\x20\x20float'+'\x20penumbra\x20'+'=\x201.0\x20-\x20po'+'w(1.0\x20-\x20di'+'st,\x20penumb'+'raFalloff)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20penumbr'+'a\x20*\x20penumb'+'raSize;\x0a}\x0a'+'\x0afloat\x20PCS')+('SDirection'+'al(TEXTURE'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoords,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams)'+'\x20{\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'shadowCoor'+'ds.z;\x0a\x20\x20\x20\x20'+'float\x20rand'+'omSeed\x20=\x20f'+'ractSinRan'+'d(gl_FragC'+'oord.xy);\x0a'+'\x20\x20\x20\x20int\x20sh'+'adowSample'+'s\x20=\x20int(so'+'ftShadowPa'+'rams.x);\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowBlocker'+'Samples\x20=\x20'+'int(softSh'+'adowParams'+'.y);\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'braSize\x20=\x20'+'softShadow'+'Params.z;\x0a'+'\x20\x20\x20\x20float\x20'+'penumbraFa'+'lloff\x20=\x20so'+'ftShadowPa'+'rams.w;\x0a\x0a\x20'+'\x20\x20\x20//\x20norm'+'alized\x20inv'+'erse\x20shado'+'w\x20map\x20size'+'\x20to\x20preser'+'ve\x20the\x20sha'+'dow\x20softne'+'ss\x20regardl'+'ess\x20of\x20the'+'\x20shadow\x20re'+'solution\x0a\x20'+'\x20\x20\x20int\x20sha'+'dowMapSize'+'\x20=\x20texture'+'Size(shado'+'wMap,\x200).x'+';\x0a\x20\x20\x20\x20floa'+'t\x20invShado'+'wMapSize\x20='+'\x201.0\x20/\x20flo'+'at(shadowM'+'apSize);\x0a\x20'+'\x20\x20\x20invShad'+'owMapSize\x20'+'*=\x20float(s'+'hadowMapSi'+'ze)\x20/\x202048'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20penum'+'bra;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20avgBl'+'ockerDepth'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'numBlocker'+'s\x20=\x200;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20PCSSF'+'indBlocker'+'(TEXTURE_P'+'ASS(shadow'+'Map),\x20avgB'+'lockerDept'+'h,\x20numBloc'+'kers,\x20shad'+'owCoords.x'+'y,\x20receive'+'rDepth,\x20sh'+'adowBlocke'+'rSamples,\x20')+('penumbraSi'+'ze,\x20invSha'+'dowMapSize'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ear'+'ly\x20out\x20whe'+'n\x20no\x20block'+'ers\x20are\x20pr'+'esent\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(nu'+'mBlockers\x20'+'<\x201)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x201.0f;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20penumbra'+'\x20size\x20is\x20b'+'ased\x20on\x20th'+'e\x20blocker\x20'+'depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20getPe'+'numbra(avg'+'BlockerDep'+'th,\x20shadow'+'Coords.z,\x20'+'penumbraSi'+'ze,\x20penumb'+'raFalloff)'+';\x0a\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nstant\x20fil'+'ter\x20size,\x20'+'no\x20contact'+'\x20hardening'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'penumbraSi'+'ze;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20filterRad'+'ius\x20=\x20penu'+'mbra\x20*\x20inv'+'ShadowMapS'+'ize;\x0a\x0a\x20\x20\x20\x20'+'//\x20filteri'+'ng\x0a\x20\x20\x20\x20ret'+'urn\x20PCSSFi'+'lter(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowSa'+'mples,\x20fil'+'terRadius,'+'\x20randomSee'+'d);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCSS(TEX'+'TURE_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec4\x20came'+'raParams,\x20'+'vec4\x20softS'+'hadowParam'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20PCSSDirec'+'tional(TEX'+'TURE_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP'+'arams);\x0a}\x0a'+'\x0a'),oE='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x0a\x20\x20\x20'+'\x20base_uv\x20-'+'=\x20vec2(0.5'+');\x0a\x20\x20\x20\x20bas'+'e_uv\x20*=\x20sh'+'adowMapSiz'+'eInv;\x0a\x0a\x20\x20\x20'+'\x20float\x20sum'+'\x20=\x200.0;\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'w0\x20=\x20(3.0\x20'+'-\x202.0\x20*\x20s)'+';\x0a\x20\x20\x20\x20floa'+'t\x20uw1\x20=\x20(1'+'.0\x20+\x202.0\x20*'+'\x20s);\x0a\x0a\x20\x20\x20\x20'+'float\x20u0\x20='+'\x20(2.0\x20-\x20s)'+'\x20/\x20uw0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20u1\x20=\x20s'+'\x20/\x20uw1\x20+\x201'+'.0;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20vw0\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20float\x20vw'+'1\x20=\x20(1.0\x20+'+'\x202.0\x20*\x20t);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20v0\x20=\x20(2.'+'0\x20-\x20t)\x20/\x20v'+'w0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20float\x20'+'v1\x20=\x20t\x20/\x20v'+'w1\x20+\x201.0;\x0a'+'\x0a\x20\x20\x20\x20u0\x20=\x20'+'u0\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'0\x20=\x20v0\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20u1\x20=\x20u'+'1\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20v1'+'\x20=\x20v1\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw0\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v0,\x20'+'z));\x0a\x20\x20\x20\x20s'+('um\x20+=\x20uw1\x20'+'*\x20vw0\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v0,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw0\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u0,\x20v1'+',\x20z));\x0a\x20\x20\x20'+'\x20sum\x20+=\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSha'+'dow(shadow'+'Map,\x20vec3('+'u1,\x20v1,\x20z)'+');\x0a\x0a\x20\x20\x20\x20su'+'m\x20*=\x201.0f\x20'+'/\x2016.0;\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF3x3(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F3x3(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado'+'wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF3'+'x3(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF3x3(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowPCF1'+'x1(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20textureS'+'hadow(shad'+'owMap,\x20sha'+'dowCoord);'+'\x0a}\x0a\x0afloat\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20shadow'+'Coord);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a#ifndef\x20W'+'EBGPU\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh')+('adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict'+'\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wPointPCF1'+'x1(sampler'+'CubeShadow'+'\x20shadowMap'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'float\x20shad'+'owZ\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(lightDi'+'r,\x20shadowZ'+'));\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPointPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec3\x20sh'+'adowCoord,')+('\x20vec4\x20shad'+'owParams,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPoi'+'ntPCF3x3(s'+'hadowMap,\x20'+'shadowPara'+'ms,\x20lightD'+'ir);\x0a}\x0a\x0a#e'+'ndif\x0a'),lE='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF5x5('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF5x5(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad')+('owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF5x5('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a'),hE='\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+'\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+('01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a'),cE='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0au'+'niform\x20vec'+'4\x20texture_'+'poseMapSiz'+'e;\x0a\x0amat4\x20g'+'etBoneMatr'+'ix(const\x20i'+'n\x20float\x20i)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20j\x20=\x20i\x20*'+'\x203.0;\x0a\x20\x20\x20\x20'+'float\x20dx\x20='+'\x20texture_p'+'oseMapSize'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20dy\x20=\x20t'+'exture_pos'+'eMapSize.w'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20y\x20=\x20flo'+'or(j\x20*\x20dx)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20j\x20-\x20'+'(y\x20*\x20textu'+'re_poseMap'+'Size.x);\x0a\x20'+'\x20\x20\x20y\x20=\x20dy\x20'+'*\x20(y\x20+\x200.5'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20read\x20elem'+'ents\x20of\x204x'+'3\x20matrix\x0a\x20'+'\x20\x20\x20vec4\x20v1'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x200.5),'+'\x20y));\x0a\x20\x20\x20\x20'+'vec4\x20v2\x20=\x20'+'texture2D('+'texture_po'+'seMap,\x20vec'+'2(dx\x20*\x20(x\x20'+'+\x201.5),\x20y)'+');\x0a\x20\x20\x20\x20vec'+'4\x20v3\x20=\x20tex'+'ture2D(tex'+'ture_poseM'+'ap,\x20vec2(d'+'x\x20*\x20(x\x20+\x202'+'.5),\x20y));\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',dE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0aunifor'+'m\x20vec4\x20tex'+'ture_poseM'+'apSize;\x0a\x0av'+'oid\x20getBon'+'eMatrix(co'+'nst\x20in\x20flo'+'at\x20index,\x20'+'out\x20vec4\x20v'+'1,\x20out\x20vec'+'4\x20v2,\x20out\x20'+'vec4\x20v3)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20i\x20=\x20floa'+'t(index);\x0a'+'\x20\x20\x20\x20float\x20'+'j\x20=\x20i\x20*\x203.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20dx\x20=\x20te'+'xture_pose'+'MapSize.z;'+'\x0a\x20\x20\x20\x20float'+'\x20dy\x20=\x20text'+'ure_poseMa'+'pSize.w;\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20fl'+'oat\x20y\x20=\x20fl'+'oor(j\x20*\x20dx'+');\x0a\x20\x20\x20\x20flo'+'at\x20x\x20=\x20j\x20-'+'\x20(y\x20*\x20text'+'ure_poseMa'+'pSize.x);\x0a'+'\x20\x20\x20\x20y\x20=\x20dy'+'\x20*\x20(y\x20+\x200.'+'5);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20ele'+'ments\x20of\x204'+'x3\x20matrix\x0a'+'\x20\x20\x20\x20v1\x20=\x20t'+'exture2D(t'+'exture_pos'+'eMap,\x20vec2'+'(dx\x20*\x20(x\x20+'+'\x200.5),\x20y))'+';\x0a\x20\x20\x20\x20v2\x20='+'\x20texture2D'+'(texture_p'+'oseMap,\x20ve'+'c2(dx\x20*\x20(x'+'\x20+\x201.5),\x20y'+'));\x0a\x20\x20\x20\x20v3'+'\x20=\x20texture'+'2D(texture'+'_poseMap,\x20'+'vec2(dx\x20*\x20'+'(x\x20+\x202.5),'+'\x20y));\x0a}\x0a\x0am'+'at4\x20getSki'+'nMatrix(co'+'nst\x20in\x20vec'+'4\x20indices,'+'\x20const\x20in\x20'+'vec4\x20weigh'+'ts)\x20{\x0a\x20\x20\x20\x20'+'//\x20get\x204\x20b'+'one\x20matric'+'es\x0a\x20\x20\x20\x20vec'+'4\x20a1,\x20a2,\x20'+'a3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(indices.'+'x,\x20a1,\x20a2,'+'\x20a3);\x0a\x0a\x20\x20\x20'+'\x20vec4\x20b1,\x20'+'b2,\x20b3;\x0a\x20\x20'+'\x20\x20getBoneM'+'atrix(indi'+'ces.y,\x20b1,'+'\x20b2,\x20b3);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'c1,\x20c2,\x20c3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'indices.z,'+'\x20c1,\x20c2,\x20c'+'3);\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20d1,\x20d2'+',\x20d3;\x0a\x20\x20\x20\x20'+('getBoneMat'+'rix(indice'+'s.w,\x20d1,\x20d'+'2,\x20d3);\x0a\x0a\x20'+'\x20\x20\x20//\x20mult'+'iply\x20them\x20'+'by\x20weights'+'\x20and\x20add\x20u'+'p\x20to\x20get\x20f'+'inal\x204x3\x20m'+'atrix\x0a\x20\x20\x20\x20'+'vec4\x20v1\x20=\x20'+'a1\x20*\x20weigh'+'ts.x\x20+\x20b1\x20'+'*\x20weights.'+'y\x20+\x20c1\x20*\x20w'+'eights.z\x20+'+'\x20d1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20vec4\x20v2\x20='+'\x20a2\x20*\x20weig'+'hts.x\x20+\x20b2'+'\x20*\x20weights'+'.y\x20+\x20c2\x20*\x20'+'weights.z\x20'+'+\x20d2\x20*\x20wei'+'ghts.w;\x0a\x20\x20'+'\x20\x20vec4\x20v3\x20'+'=\x20a3\x20*\x20wei'+'ghts.x\x20+\x20b'+'3\x20*\x20weight'+'s.y\x20+\x20c3\x20*'+'\x20weights.z'+'\x20+\x20d3\x20*\x20we'+'ights.w;\x0a\x0a'+'\x20\x20\x20\x20//\x20add'+'\x20up\x20weight'+'s\x0a\x20\x20\x20\x20floa'+'t\x20one\x20=\x20do'+'t(weights,'+'\x20vec4(1.0)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20transpose'+'\x20to\x204x4\x20ma'+'trix\x0a\x20\x20\x20\x20r'+'eturn\x20mat4'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.x,\x20v2.x'+',\x20v3.x,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.y,\x20v2.y,'+'\x20v3.y,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.z,\x20v2.z,\x20'+'v3.z,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'w,\x20v2.w,\x20v'+'3.w,\x20one\x0a\x20'+'\x20\x20\x20);\x0a}\x0a'),uE='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22envMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20var'+'ying\x20vec3\x20'+'vViewDir;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20float\x20sk'+'yboxHighli'+'ghtMultipl'+'ier;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'_CUBEMAP\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20vWorld'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat3\x20'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20pr'+'ojectedSky'+'domeCenter'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20env-atlas'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_en'+'vAtlas;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'mipLevel;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SKY_CUBEM'+'AP\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SKYMESH'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20get\x20vecto'+'r\x20from\x20wor'+'ld\x20space\x20p'+'os\x20to\x20trip'+'od\x20origin\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20envDir\x20=\x20'+'normalize('+'vWorldPos\x20'+'-\x20projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20envDir'+'\x20*\x20cubeMap'+'RotationMa'+'trix;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dir'+'\x20=\x20vViewDi'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dir.'+'x\x20*=\x20-1.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20__I'+'NJECT_SKYB'+('OX_DECODE_'+'FNC(textur'+'eCube(text'+'ure_cubeMa'+'p,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dir\x20'+'=\x20vViewDir'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20toS'+'phericalUv'+'(normalize'+'(dir));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20line'+'ar\x20=\x20__INJ'+'ECT_SKYBOX'+'_DECODE_FN'+'C(texture2'+'D(texture_'+'envAtlas,\x20'+'mapRoughne'+'ssUv(uv,\x20m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'our\x20HDR\x20en'+'codes\x20valu'+'es\x20up\x20to\x206'+'4,\x20so\x20allo'+'w\x20extra\x20br'+'ightness\x20f'+'or\x20the\x20cli'+'pped\x20value'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(any(gr'+'eaterThanE'+'qual(linea'+'r,\x20vec3(64'+'.0))))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20linear\x20*='+'\x20skyboxHig'+'hlightMult'+'iplier;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x20\x20\x20\x20}\x0a'),fE='\x0aattribute'+'\x20vec3\x20aPos'+'ition;\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a#de'+'fine\x20VIEWM'+'ATRIX\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'t4\x20matrix_'+'projection'+'Skybox;\x0aun'+'iform\x20mat3'+'\x20cubeMapRo'+'tationMatr'+'ix;\x0a\x0avaryi'+'ng\x20vec3\x20vV'+'iewDir;\x0a\x0a#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_mo'+'del;\x0a\x20\x20\x20\x20v'+'arying\x20vec'+'3\x20vWorldPo'+'s;\x0a#endif\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x0a'+'\x20\x20\x20\x20mat4\x20v'+'iew\x20=\x20matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20SKYMESH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4\x20worldPo'+'s\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'WorldPos\x20='+'\x20worldPos.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20mat'+'rix_projec'+'tionSkybox'+'\x20*\x20view\x20*\x20'+'worldPos;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20view\x20*\x20v'+'ec4(aPosit'+'ion,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ViewDir\x20=\x20'+'aPosition\x20'+'*\x20cubeMapR'+'otationMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Force'+'\x20skybox\x20to'+'\x20far\x20Z,\x20re'+'gardless\x20o'+'f\x20the\x20clip'+'\x20planes\x20on'+'\x20the\x20camer'+'a\x0a\x20\x20\x20\x20//\x20S'+'ubtract\x20a\x20'+'tiny\x20fudge'+'\x20factor\x20to'+'\x20ensure\x20fl'+'oating\x20poi'+'nt\x20errors\x20'+'don\x27t\x0a\x20\x20\x20\x20'+'//\x20still\x20p'+'ush\x20pixels'+'\x20beyond\x20fa'+'r\x20Z.\x20See:\x0a'+'\x20\x20\x20\x20//\x20htt'+'ps://commu'+'nity.khron'+'os.org/t/s'+'kybox-prob'+'lem/61857\x0a'+'\x0a\x20\x20\x20\x20gl_Po'+'sition.z\x20='+'\x20gl_Positi'+('on.w\x20-\x201.0'+'e-7;\x0a}\x0a'),pE='\x0a\x0a#ifdef\x20M'+'APCOLOR\x0aun'+'iform\x20vec3'+'\x20material_'+'specular;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularity()\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20specularC'+'olor\x20=\x20vec'+'3(1,1,1);\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MAPCOLOR'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20material'+'_specular;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20$DEC'+'ODE(textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias)).$CH'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPVE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularCol'+'or\x20*=\x20satu'+'rate(vVert'+'exColor.$V'+'C);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20specu'+'larColor;\x0a'+'}\x0a',mE='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0acon'+'st\x20float\x20P'+'I\x20=\x203.1415'+'9265358979'+'3;\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+'\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'Uv(vec3\x20di'+'r)\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'(dir)\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20re'+'turn\x20vec2('+'uv.x,\x201.0\x20'+'-\x20uv.y);\x0a}'+'\x0a',_E='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_speculari'+'tyFactor;\x0a'+'#endif\x0a\x0avo'+'id\x20getSpec'+'ularityFac'+'tor()\x20{\x0a\x20\x20'+'\x20\x20float\x20sp'+'ecularityF'+'actor\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'MAPTEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larityFact'+'or\x20*=\x20text'+'ure2DBias('+'$SAMPLER,\x20'+'$UV,\x20textu'+'reBias).$C'+'H;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20MAPV'+'ERTEX\x0a\x20\x20\x20\x20'+'specularit'+'yFactor\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dSpec'+'ularityFac'+'tor\x20=\x20spec'+'ularityFac'+'tor;\x0a}\x0a',gE='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',yE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4(0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20vec3(0'+');\x0a\x20\x20\x20\x20ccR'+'eflection\x20'+'=\x20vec3(0);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a',xE='\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20get'+'Position()'+';\x0a',SE='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vUv0;\x0a\x20\x20\x20\x20'+'nineSliced'+'Uv.y\x20=\x201.0'+'\x20-\x20nineSli'+'cedUv.y;\x0a\x0a',vE='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',bE='\x0afloat\x20exp'+'onent\x20=\x20VS'+'M_EXPONENT'+';\x0a\x0adepth\x20='+'\x202.0\x20*\x20dep'+'th\x20-\x201.0;\x0a'+'depth\x20=\x20\x20e'+'xp(exponen'+'t\x20*\x20depth)'+';\x0agl_FragC'+'olor\x20=\x20vec'+'4(depth,\x20d'+'epth*depth'+',\x201.0,\x201.0'+');\x0a',wE='\x0avec3\x20getT'+'angent()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a}'+'\x0a\x0avec3\x20get'+'Binormal()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'vNormalW,\x20'+'vTangentW)'+'\x20*\x20vertex_'+'tangent.w;'+'\x0a}\x0a',TE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20dTBN\x20=\x20ma'+'t3(normali'+'ze(tangent'+'),\x20normali'+'ze(binorma'+'l),\x20normal'+'ize(normal'+'));\x0a}\x0a',AE='\x0auniform\x20f'+'loat\x20tbnBa'+'sis;\x0a\x0a//\x20h'+'ttp://www.'+'thetenthpl'+'anet.de/ar'+'chives/118'+'0\x0avoid\x20get'+'TBN(vec3\x20t'+'angent,\x20ve'+'c3\x20binorma'+'l,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20$UV;\x0a\x0a\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20ve'+'c3\x20dp1\x20=\x20d'+'Fdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20vec3\x20dp'+'2\x20=\x20dFdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20vec2'+'\x20duv2\x20=\x20dF'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20so'+'lve\x20the\x20li'+'near\x20syste'+'m\x0a\x20\x20\x20\x20vec3'+'\x20dp2perp\x20='+'\x20cross(\x20dp'+'2,\x20normal\x20'+');\x0a\x20\x20\x20\x20vec'+'3\x20dp1perp\x20'+'=\x20cross(\x20n'+'ormal,\x20dp1'+'\x20);\x0a\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20ve'+'c3\x20B\x20=\x20dp2'+'perp\x20*\x20duv'+'1.y\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.y;\x0a\x0a\x20\x20\x20\x20/'+'/\x20construc'+'t\x20a\x20scale-'+'invariant\x20'+'frame\x0a\x20\x20\x20\x20'+'float\x20deno'+'m\x20=\x20max(\x20d'+'ot(T,T),\x20d'+'ot(B,B)\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20invmax\x20=\x20'+'(denom\x20==\x20'+'0.0)\x20?\x200.0'+'\x20:\x20tbnBasi'+'s\x20/\x20sqrt(\x20'+'denom\x20);\x0a\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'}\x0a',EE='\x0avoid\x20getT'+'BN(vec3\x20ta'+'ngent,\x20vec'+'3\x20binormal'+',\x20vec3\x20nor'+'mal)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20cross(nor'+'mal,\x20vObje'+'ctSpaceUpW'+');\x0a\x20\x20\x20\x20vec'+'3\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(dot(B,B'+')==0.0)\x20//'+'\x20deal\x20with'+'\x20case\x20when'+'\x20vObjectSp'+'aceUpW\x20nor'+'mal\x20are\x20pa'+'rallel\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20maj'+'or=max(max'+'(normal.x,'+'\x20normal.y)'+',\x20normal.z'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'1,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.y\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(0,'+'0,1));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x20if\x20(norm'+'al.z\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B=c'+'ross(norma'+'l,\x20vec3(1,'+'0,0));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'=cross(nor'+'mal,\x20B);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'dTBN\x20=\x20mat'+'3(normaliz'+'e(T),\x20norm'+'alize(B),\x20'+'normalize('+'normal));\x0a'+'}\x0a',CE='\x0a#ifdef\x20MA'+'PFLOAT\x0auni'+'form\x20float'+'\x20material_'+'thickness;'+'\x0a#endif\x0a\x0av'+'oid\x20getThi'+'ckness()\x20{'+'\x0a\x20\x20\x20\x20dThic'+'kness\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPFL'+'OAT\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20material'+'_thickness'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MAPTE'+'XTURE\x0a\x20\x20\x20\x20'+'dThickness'+'\x20*=\x20textur'+'e2DBias($S'+'AMPLER,\x20$U'+'V,\x20texture'+'Bias).$CH;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPVER'+'TEX\x0a\x20\x20\x20\x20dT'+'hickness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.$VC);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',ME='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',PE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',RE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',IE='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',DE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',LE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',FE='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',kE='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',OE='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20vec4'+'(vertex_te'+'xCoord1.xy'+'\x20*\x202.0\x20-\x201'+'.0,\x200.5,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.y\x20*=\x20-1'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20sc'+'reenPos.y\x20'+'*=\x20project'+'ionFlipY;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'IXELSNAP\x0a\x20'+'\x20\x20\x20//\x20snap'+'\x20vertex\x20to'+'\x20a\x20pixel\x20b'+'oundary\x0a\x20\x20'+'\x20\x20screenPo'+'s.xy\x20=\x20(sc'+'reenPos.xy'+'\x20*\x200.5)\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20s'+'creenPos.x'+'y\x20*=\x20uScre'+'enSize.xy;'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20scree'+'nPos.xy\x20*='+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20screenPos'+'.xy\x20=\x20(scr'+'eenPos.xy\x20'+'*\x202.0)\x20-\x201'+'.0;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}'+'\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),BE='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat3'+'\x20matrix_no'+'rmal;\x0a\x0a#if'+'def\x20MORPHI'+'NG\x0a\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'morph_tex_'+'params;\x0a\x20\x20'+'\x20\x20attribut'+'e\x20uint\x20mor'+'ph_vertex_'+'id;\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20getTe'+'xtureMorph'+'Coords()\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20turn\x20mo'+'rph_vertex'+'_id\x20into\x20i'+'nt\x20grid\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20iv'+'ec2\x20textur'+'eSize\x20=\x20iv'+'ec2(morph_'+'tex_params'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20int\x20morph'+'GridV\x20=\x20in'+'t(morph_ve'+'rtex_id)\x20/'+'\x20textureSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20mo'+'rphGridU\x20='+'\x20int(morph'+'_vertex_id'+')\x20-\x20(morph'+'GridV\x20*\x20te'+'xtureSize.'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20W'+'EBGPU\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20flipY\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20m'+'orphGridV\x20'+'=\x20textureS'+'ize.y\x20-\x20mo'+'rphGridV\x20-'+'\x201;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20ivec2('+'morphGridU'+',\x20morphGri'+'dV);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MORPHIN'+'G_POSITION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec3\x20aabbSi'+'ze;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20us'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20mor'+'phPosition'+'Tex;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20defi'+'ned(BATCH)'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22skinB'+'atchVS\x22\x0a\x0a\x20'+('\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#elif\x20'+'defined(SK'+'IN)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inVS\x22\x0a\x0a\x20\x20\x20'+'\x20mat4\x20getM'+'odelMatrix'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'matrix_mod'+'el\x20*\x20getSk'+'inMatrix(v'+'ertex_bone'+'Indices,\x20v'+'ertex_bone'+'Weights);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#el'+'if\x20defined'+'(INSTANCIN'+'G)\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22tr'+'ansformIns'+'tancingVS\x22'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel;\x0a\x20\x20\x20\x20'+'}\x0a\x0a#endif\x0a'+'\x0avec3\x20getL'+'ocalPositi'+'on(vec3\x20ve'+'rtexPositi'+'on)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lPos\x20=\x20ver'+'texPositio'+'n;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphPos\x20=\x20'+'vec3(texel'+'Fetch(morp'+'hPositionT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz)\x20/\x20'+'65535.0\x20*\x20'+'aabbSize\x20+'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20texelFet'+'ch(morphPo'+'sitionTex,'+'\x20ivec2(mor'+'phUV),\x200).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos\x20+='+'\x20morphPos;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20re'+'turn\x20local'+'Pos;\x0a}\x0a\x0a'),NE='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',zE='\x0a\x0a#ifdef\x20M'+'APFLOAT\x0aun'+'iform\x20floa'+'t\x20material'+'_refractio'+'n;\x0a#endif\x0a'+'\x0avoid\x20getR'+'efraction('+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20refrac'+'tion\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPFLO'+'AT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20MAPTEX'+'TURE\x0a\x20\x20\x20\x20r'+'efraction\x20'+'*=\x20texture'+'2DBias($SA'+'MPLER,\x20$UV'+',\x20textureB'+'ias).$CH;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20MAPVERT'+'EX\x0a\x20\x20\x20\x20ref'+'raction\x20*='+'\x20saturate('+'vVertexCol'+'or.$VC);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20dTran'+'smission\x20='+'\x20refractio'+'n;\x0a}\x0a',UE='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',VE='\x0a#ifdef\x20NI'+'NESLICED\x0av'+'ec2\x20getUv0'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20v'+'ertex_posi'+'tion.xz;\x0a\x0a'+'\x20\x20\x20\x20//\x20off'+'set\x20inner\x20'+'vertices\x20i'+'nside\x0a\x20\x20\x20\x20'+'//\x20(origin'+'al\x20vertice'+'s\x20must\x20be\x20'+'in\x20[-1;1]\x20'+'range)\x0a\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'vec2\x20negat'+'iveUnitOff'+'set\x20=\x20clam'+'p(-vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'uv\x20+=\x20(-po'+'sitiveUnit'+'Offset\x20*\x20i'+'nnerOffset'+'.xy\x20+\x20nega'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.z'+'w)\x20*\x20verte'+'x_texCoord'+'0.xy;\x0a\x0a\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x0a\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20uv;\x0a}\x0a#e'+'lse\x0avec2\x20g'+'etUv0()\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vertex_te'+'xCoord0;\x0a}'+'\x0a#endif\x0a',GE='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',HE='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',WE='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'#define\x20VI'+'EWMATRIX\x0au'+'niform\x20mat'+'4\x20matrix_v'+'iew;\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tViewNorma'+'l()\x20{\x0a\x20\x20\x20\x20'+'return\x20mat'+'3(matrix_v'+'iew)\x20*\x20vNo'+'rmalW;\x0a}\x0a',j={'alphaTestPS':hw,'ambientConstantPS':cw,'ambientEnvPS':dw,'ambientSHPS':uw,'aoPS':fw,'aoDetailMapPS':pw,'aoDiffuseOccPS':mw,'aoSpecOccPS':_w,'aoSpecOccConstPS':gw,'aoSpecOccConstSimplePS':yw,'aoSpecOccSimplePS':xw,'basePS':Sw,'baseVS':vw,'baseNineSlicedPS':bw,'baseNineSlicedVS':ww,'baseNineSlicedTiledPS':Tw,'bayerPS':Aw,'blurVSMPS':Ew,'clearCoatPS':Cw,'clearCoatGlossPS':Mw,'clearCoatNormalPS':Pw,'clusteredLightCookiesPS':Iw,'clusteredLightShadowsPS':Dw,'clusteredLightUtilsPS':Rw,'clusteredLightPS':Lw,'combinePS':Fw,'cookiePS':kw,'cubeMapProjectBoxPS':Ow,'cubeMapProjectNonePS':Bw,'cubeMapRotatePS':Nw,'debugOutputPS':zw,'debugProcessFrontendPS':Uw,'detailModesPS':Vw,'diffusePS':Gw,'diffuseDetailMapPS':Hw,'decodePS':v0,'emissivePS':Ww,'encodePS':b0,'endPS':$w,'endVS':qw,'envAtlasPS':Xw,'envConstPS':jw,'envMultiplyPS':Yw,'falloffInvSquaredPS':Kw,'falloffLinearPS':Zw,'floatUnpackingPS':Qw,'floatAsUintPS':Jw,'fogPS':eT,'fresnelSchlickPS':tT,'fullscreenQuadPS':sT,'fullscreenQuadVS':iT,'gammaPS':rT,'gles3PS':e0,'gles3VS':t0,'glossPS':nT,'gsplatCenterVS':aT,'gsplatCornerVS':uT,'gsplatColorVS':oT,'gsplatThresholdVS':lT,'gsplatCommonVS':hT,'gsplatCompressedDataVS':cT,'gsplatCompressedSHVS':dT,'gsplatDataVS':fT,'gsplatOutputVS':pT,'gsplatPS':mT,'gsplatSHVS':_T,'gsplatSourceVS':gT,'gsplatVS':yT,'iridescenceDiffractionPS':xT,'iridescencePS':ST,'iridescenceThicknessPS':vT,'iorPS':bT,'lightDiffuseLambertPS':wT,'lightDirPointPS':TT,'lightmapAddPS':AT,'lightmapDirAddPS':ET,'lightmapDirPS':CT,'lightmapSinglePS':MT,'lightSpecularAnisoGGXPS':PT,'lightSpecularBlinnPS':RT,'lightSheenPS':IT,'linearizeDepthPS':DT,'litShaderArgsPS':LT,'ltcPS':FT,'metalnessPS':kT,'metalnessModulatePS':BT,'msdfPS':OT,'msdfVS':NT,'normalVS':zT,'normalCoreVS':UT,'normalDetailMapPS':VT,'normalMapPS':GT,'normalXYPS':HT,'normalXYZPS':WT,'opacityPS':$T,'opacityDitherPS':qT,'outputPS':XT,'outputAlphaPS':jT,'outputAlphaOpaquePS':YT,'outputAlphaPremulPS':KT,'outputTex2DPS':ZT,'sheenPS':QT,'sheenGlossPS':JT,'parallaxPS':eA,'particlePS':tA,'particleVS':sA,'particleAnimFrameClampVS':iA,'particleAnimFrameLoopVS':rA,'particleAnimTexVS':nA,'particleInputFloatPS':aA,'particleInputRgba8PS':oA,'particleOutputFloatPS':lA,'particleOutputRgba8PS':hA,'particleUpdaterAABBPS':cA,'particleUpdaterEndPS':dA,'particleUpdaterInitPS':uA,'particleUpdaterNoRespawnPS':fA,'particleUpdaterOnStopPS':pA,'particleUpdaterRespawnPS':mA,'particleUpdaterSpherePS':_A,'particleUpdaterStartPS':gA,'particle_billboardVS':yA,'particle_blendAddPS':xA,'particle_blendMultiplyPS':SA,'particle_blendNormalPS':vA,'particle_cpuVS':bA,'particle_cpu_endVS':wA,'particle_customFaceVS':TA,'particle_endPS':AA,'particle_endVS':EA,'particle_halflambertPS':CA,'particle_initVS':MA,'particle_lambertPS':PA,'particle_lightingPS':RA,'particle_localShiftVS':IA,'particle_meshVS':DA,'particle_normalVS':LA,'particle_normalMapPS':FA,'particle_pointAlongVS':kA,'particle_softPS':OA,'particle_softVS':BA,'particle_stretchVS':NA,'particle_TBNVS':zA,'particle_wrapVS':UA,'pickPS':VA,'reflDirPS':GA,'reflDirAnisoPS':HA,'reflectionCCPS':WA,'reflectionCubePS':$A,'reflectionEnvHQPS':qA,'reflectionEnvPS':XA,'reflectionSpherePS':jA,'reflectionSheenPS':YA,'refractionCubePS':KA,'refractionDynamicPS':ZA,'reprojectPS':QA,'sampleCatmullRomPS':JA,'screenDepthPS':eE,'shadowCascadesPS':tE,'shadowEVSMPS':sE,'shadowEVSMnPS':iE,'shadowPCSSPS':rE,'shadowSampleCoordPS':nE,'shadowSoftPS':aE,'shadowStandardPS':oE,'shadowStandardGL2PS':lE,'shadowVSM_commonPS':hE,'skinBatchVS':cE,'skinVS':dE,'skyboxPS':uE,'skyboxVS':fE,'specularPS':pE,'sphericalPS':mE,'specularityFactorPS':_E,'spotPS':gE,'startPS':yE,'startVS':xE,'startNineSlicedPS':SE,'startNineSlicedTiledPS':vE,'storeEVSMPS':bE,'tangentBinormalVS':wE,'TBNPS':TE,'TBNderivativePS':AE,'TBNObjectSpacePS':EE,'thicknessPS':CE,'tonemappingPS':ME,'tonemappingAcesPS':PE,'tonemappingAces2PS':RE,'tonemappingFilmicPS':IE,'tonemappingHejlPS':DE,'tonemappingLinearPS':LE,'tonemappingNeutralPS':FE,'tonemappingNonePS':kE,'transformVS':OE,'transformCoreVS':BE,'transformInstancingVS':NE,'transmissionPS':zE,'twoSidedLightingPS':UE,'uv0VS':VE,'uv1VS':GE,'viewDirPS':HE,'viewNormalVS':WE,'webgpuPS':s0,'webgpuVS':i0},w0=new Ht();function za(_0xc079b7){const _0x392d3f=w0['get'](_0xc079b7);return b['assert'](_0x392d3f),_0x392d3f;}function $E(_0xb5f983,_0x4e845b){b['assert'](_0x4e845b),w0['get'](_0xb5f983,()=>_0x4e845b);}class Nt{static['begin'](){return'void\x20main('+'void)\x0a{\x0a';}static['end'](){return'}\x0a';}static['definesHas'+'h'](_0x3a52ae){const _0x20c15e=Array['from'](_0x3a52ae)['sort']((_0x4e9539,_0x29b0bd)=>_0x4e9539[0xaed*0x1+-0x1d22+0x4f*0x3b]>_0x29b0bd[-0xe72+-0x6a*0x15+0x1724]?-0x2c0+-0xd0f+-0x3f4*-0x4:-(0x51*-0x2f+0x1fd5+0x1*-0x10f5));return cn(JSON['stringify'](_0x20c15e));}}const qE=new Ht();class XE{constructor(_0x2b0331,_0x2e4bc0,_0xd05c70={}){c(this,'index'),c(this,'name'),c(this,'defines',new Map()),(b['assert'](/^[a-z]\w*$/i['test'](_0x2b0331),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x2b0331),this['name']=_0x2b0331,this['index']=_0x2e4bc0,Object['assign'](this,_0xd05c70),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x18c920;this['isShadow']?_0x18c920='SHADOW':this['isForward']?_0x18c920='FORWARD':this['index']===ll?_0x18c920='DEPTH':this['index']===Na&&(_0x18c920='PICK'),this['defines']['set'](_0x18c920+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class ti{constructor(){c(this,'passesName'+'d',new Map()),c(this,'passesInde'+'xed',[]),c(this,'nextIndex',0x4e0*0x3+0x1c1+0x257*-0x7);const _0x156d6a=(_0x354cdc,_0xe0c4d3,_0x38d4ef)=>{const _0x927a0b=this['allocate'](_0x354cdc,_0x38d4ef);b['assert'](_0x927a0b['index']===_0xe0c4d3);};_0x156d6a('forward',xn,{'isForward':!(-0x13e8+0x1f79*-0x1+0x3361)}),_0x156d6a('prepass',ol),_0x156d6a('depth',ll),_0x156d6a('pick',Na),_0x156d6a('shadow',Fp);}static['get'](_0x562e32){return b['assert'](_0x562e32),qE['get'](_0x562e32,()=>new ti());}['allocate'](_0x2a3704,_0x1f8670){let _0x1df943=this['passesName'+'d']['get'](_0x2a3704);return _0x1df943===void(0xca9*0x2+-0xe83*0x2+0x3b4)&&(_0x1df943=new XE(_0x2a3704,this['nextIndex'],_0x1f8670),this['passesName'+'d']['set'](_0x1df943['name'],_0x1df943),this['passesInde'+'xed'][_0x1df943['index']]=_0x1df943,this['nextIndex']++),_0x1df943;}['getByIndex'](_0x3c50e4){const _0x5c3313=this['passesInde'+'xed'][_0x3c50e4];return b['assert'](_0x5c3313),_0x5c3313;}['getByName'](_0x5f2106){return this['passesName'+'d']['get'](_0x5f2106);}}function Bs(_0x45ecc3,_0x4f5c3d,_0x423b50,_0x46bcdc,_0xf23e6a,_0x41ebc0=!(-0x1*-0x3cb+0x714+-0xade),_0x48666a={}){b['assert'](!(-0xc77+0x2173*0x1+-0x14fc)),typeof _0x41ebc0=='boolean'?_0x48666a['useTransfo'+'rmFeedback']=_0x41ebc0:typeof _0x41ebc0=='object'&&(_0x48666a={..._0x48666a,..._0x41ebc0});const _0x4d354c=za(_0x45ecc3);let _0x293350=_0x4d354c['getCachedS'+'hader'](_0x46bcdc);return _0x293350||(_0x293350=new r0(_0x45ecc3,Ft['createDefi'+'nition'](_0x45ecc3,{..._0x48666a,'name':_0x46bcdc,'vertexCode':_0x4f5c3d,'fragmentCode':_0x423b50,'attributes':_0xf23e6a})),_0x4d354c['setCachedS'+'hader'](_0x46bcdc,_0x293350)),_0x293350;}class jE extends Nt{constructor(_0x37e013,_0x31bd3f){super(),this['key']=_0x37e013,this['shaderDefi'+'nition']=_0x31bd3f;}['generateKe'+'y'](_0x125785){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x3d42a3,_0x5a80b5){return this['shaderDefi'+'nition'];}}function YE(_0x55b511,_0x16498b){b['assert'](_0x55b511);const _0x141206=_0x55b511['definition'],_0x268f17=(_0x141206['name']??'shader')+'-id-'+_0x55b511['id'],_0x502fa3=new jE(_0x268f17,_0x141206),_0x166a1f='shader',_0x4b4f37=za(_0x55b511['device']);b['assert'](!_0x4b4f37['isRegister'+'ed'](_0x166a1f)),_0x4b4f37['register'](_0x166a1f,_0x502fa3);const _0x1cfdac=_0x4b4f37['getProgram'](_0x166a1f,{},_0x16498b);return _0x55b511['definition']['shaderLang'+'uage']===Fh&&(_0x1cfdac['meshUnifor'+'mBufferFor'+'mat']=_0x141206['meshUnifor'+'mBufferFor'+'mat'],_0x1cfdac['meshBindGr'+'oupFormat']=_0x141206['meshBindGr'+'oupFormat']),_0x4b4f37['unregister'](_0x166a1f),_0x1cfdac;}const Op=(_0x235d0e,_0x178ae5)=>{const _0x4b1a52=new Map(_0x235d0e['defines']);return _0x178ae5['cameraShad'+'erParams']['defines']['forEach']((_0xf54f21,_0x43b418)=>_0x4b1a52['set'](_0x43b418,_0xf54f21)),ti['get'](_0x178ae5['device'])['getByIndex'](_0x178ae5['pass'])['defines']['forEach']((_0x25e875,_0x1a66ee)=>_0x4b1a52['set'](_0x1a66ee,_0x25e875)),_0x4b1a52;},KE={'type':lr,'base':0x0,'count':0x4,'indexed':!(-0xb65*0x1+-0x11*-0x1bb+-0x1*0x1205)},$a=new ee(),qa=new ee(),yd=new Ky();class Gu{constructor(_0x1673da){c(this,'uniformBuf'+'fer'),c(this,'bindGroup');const _0x22cf38=_0x1673da['device'];if(this['shader']=_0x1673da,b['assert'](_0x1673da),_0x22cf38['supportsUn'+'iformBuffe'+'rs']){const _0x224ed1=new Jc();this['shader']=YE(_0x1673da,_0x224ed1);const _0x459721=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x459721&&(this['uniformBuf'+'fer']=new vp(_0x22cf38,_0x459721,!(0xc4+0xcef+-0xdb2)));const _0x1c1e97=this['shader']['meshBindGr'+'oupFormat'];b['assert'](_0x1c1e97),this['bindGroup']=new xp(_0x22cf38,_0x1c1e97),gn['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x5037fc,_0x5ef59e;(_0x5037fc=this['uniformBuf'+'fer'])==null||_0x5037fc['destroy'](),this['uniformBuf'+'fer']=null,(_0x5ef59e=this['bindGroup'])==null||_0x5ef59e['destroy'](),this['bindGroup']=null;}['render'](_0x58f47b,_0x27eb2c){const _0x3bfb74=this['shader']['device'];G['pushGpuMar'+'ker'](_0x3bfb74,'QuadRender'),_0x58f47b&&($a['set'](_0x3bfb74['vx'],_0x3bfb74['vy'],_0x3bfb74['vw'],_0x3bfb74['vh']),qa['set'](_0x3bfb74['sx'],_0x3bfb74['sy'],_0x3bfb74['sw'],_0x3bfb74['sh']),_0x27eb2c=_0x27eb2c??_0x58f47b,_0x3bfb74['setViewpor'+'t'](_0x58f47b['x'],_0x58f47b['y'],_0x58f47b['z'],_0x58f47b['w']),_0x3bfb74['setScissor'](_0x27eb2c['x'],_0x27eb2c['y'],_0x27eb2c['z'],_0x27eb2c['w'])),_0x3bfb74['setVertexB'+'uffer'](_0x3bfb74['quadVertex'+'Buffer'],0x25*0x7d+-0x59*-0xd+-0x1696);const _0x4d62ad=this['shader'];if(_0x3bfb74['setShader'](_0x4d62ad),_0x3bfb74['supportsUn'+'iformBuffe'+'rs']){_0x3bfb74['setBindGro'+'up'](Bh,_0x3bfb74['emptyBindG'+'roup']);const _0x3fdfc8=this['bindGroup'];_0x3fdfc8['update'](),_0x3bfb74['setBindGro'+'up'](jy,_0x3fdfc8);const _0x18368b=this['uniformBuf'+'fer'];_0x18368b?(_0x18368b['update'](yd),_0x3bfb74['setBindGro'+'up'](Ru,yd['bindGroup'],yd['offsets'])):_0x3bfb74['setBindGro'+'up'](Ru,_0x3bfb74['emptyBindG'+'roup']);}_0x3bfb74['draw'](KE),_0x58f47b&&(_0x3bfb74['setViewpor'+'t']($a['x'],$a['y'],$a['z'],$a['w']),_0x3bfb74['setScissor'](qa['x'],qa['y'],qa['z'],qa['w'])),G['popGpuMark'+'er'](_0x3bfb74);}}class ZE extends gs{constructor(_0x1cdf33,_0x4a9e78,_0xaf228c,_0x355df9){super(_0x1cdf33),this['quad']=_0x4a9e78,this['rect']=_0xaf228c,this['scissorRec'+'t']=_0x355df9;}['execute'](){const {device:_0x30ff11}=this;G['pushGpuMar'+'ker'](_0x30ff11,this['name']+':'+this['quad']['shader']['name']),_0x30ff11['setCullMod'+'e'](vt),_0x30ff11['setDepthSt'+'ate'](us['NODEPTH']),_0x30ff11['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),G['popGpuMark'+'er'](_0x30ff11);}}const QE=new ee();function fn(_0x4e6a7f,_0x4dcd26,_0x374169,_0x24b101,_0x28085b){b['assert'](_0x4dcd26!==void(0x2*0x461+-0x17ff+0xf3d));const _0xbc04b2=arguments[0x1ac0+0x1112+-0x2bcd];b['call'](()=>{_0xbc04b2!==void(0x561+-0x9b*-0x4+-0x7cd)&&b['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x22cc8e=new Gu(_0x374169);_0x24b101||(_0x24b101=QE,_0x24b101['x']=-0x16c2+-0x123a+0x28fc,_0x24b101['y']=0xa03+-0x1b3+-0x850,_0x24b101['z']=_0x4dcd26?_0x4dcd26['width']:_0x4e6a7f['width'],_0x24b101['w']=_0x4dcd26?_0x4dcd26['height']:_0x4e6a7f['height']);const _0x23de60=new ZE(_0x4e6a7f,_0x22cc8e,_0x24b101,_0x28085b);_0x23de60['init'](_0x4dcd26),_0x23de60['colorOps']['clear']=!(-0x1eb*-0x13+-0x213c*0x1+-0xa4*0x5),_0x23de60['depthStenc'+'ilOps']['clearDepth']=!(0x3*0xbd1+-0x18*0xf4+-0x649*0x2),_0x4e6a7f['isWebGPU']&&_0x4dcd26===null&&_0x4e6a7f['samples']>0xb8e+0x6b*-0xb+-0x6f4&&(_0x23de60['colorOps']['store']=!(0x1*0x89f+0x24c7+0x37e*-0xd)),_0x23de60['render'](),_0x22cc8e['destroy']();}class Um{constructor(_0x21d97c,_0x383eea,_0x4fc7ae){c(this,'_aabb',new ve()),c(this,'origMeshIn'+'stances'),c(this,'meshInstan'+'ce',null),c(this,'dynamic'),c(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x21d97c,this['dynamic']=_0x383eea,this['batchGroup'+'Id']=_0x4fc7ae);}['destroy'](_0x50a09d,_0x56d4dc){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x50a09d,_0x56d4dc),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x10f711,_0x596bc3){for(let _0x138758=-0x13bb+0x20ad+-0x679*0x2;_0x138758<_0x596bc3['length'];_0x138758++){const _0x59b2b1=_0x10f711['layers']['getLayerBy'+'Id'](_0x596bc3[_0x138758]);_0x59b2b1&&_0x59b2b1['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0xf22a48,_0x43d014){for(let _0x49ea74=0x1608+0x16bb+-0x2cc3;_0x49ea74<_0x43d014['length'];_0x49ea74++){const _0x23c94a=_0xf22a48['layers']['getLayerBy'+'Id'](_0x43d014[_0x49ea74]);_0x23c94a&&_0x23c94a['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][0x1472+0x13*0x8e+-0x1efc]['aabb']);for(let _0xfc4c22=0x85e+-0x1136+0x8d9;_0xfc4c22<this['origMeshIn'+'stances']['length'];_0xfc4c22++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0xfc4c22]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x12fc+0x1*-0x1f73+0x1*0x326f;}get['model'](){b['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class rt{constructor(_0x1a3b31,_0x5193ab,_0x51187a,_0x1d2df8,_0x193888=[zi]){c(this,'_ui',!(0xba6+0x257*0x1+-0xdfc)),c(this,'_sprite',!(0x10a*0x11+-0x6*-0x1bb+-0x959*0x3)),c(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),c(this,'id'),c(this,'name'),c(this,'dynamic'),c(this,'maxAabbSiz'+'e'),c(this,'layers'),(this['id']=_0x1a3b31,this['name']=_0x5193ab,this['dynamic']=_0x51187a,this['maxAabbSiz'+'e']=_0x1d2df8,this['layers']=_0x193888);}}c(rt,'MODEL','model'),c(rt,'ELEMENT','element'),c(rt,'SPRITE','sprite'),c(rt,'RENDER','render');const Vm=new q();class hl{constructor(_0x48a866){c(this,'bones'),c(this,'boneTextur'+'eSize'),(this['_dirty']=!(0x222e+0x1cf4+0x3f22*-0x1),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0x199*-0x15+-0x1*-0x20be+0xd0),this['_updateBef'+'oreCull']=!(0x34*-0x65+0x1d62*-0x1+-0x1*-0x31e6),_0x48a866&&this['initSkin'](_0x48a866));}set['rootBone'](_0x11aca2){this['_rootBone']=_0x11aca2;}get['rootBone'](){return this['_rootBone'];}['init'](_0x150477,_0x37c756){const _0x209657=_0x37c756*(0x22f8+-0x30e*0x4+-0x16bd);let _0x18fe7b=Math['ceil'](Math['sqrt'](_0x209657));_0x18fe7b=z['roundUp'](_0x18fe7b,-0x25dc+-0xd55*-0x2+0xb35);const _0x20b1b7=Math['ceil'](_0x209657/_0x18fe7b);this['boneTextur'+'e']=new ce(_0x150477,{'width':_0x18fe7b,'height':_0x20b1b7,'format':et,'mipmaps':!(-0x9e*-0x1f+-0x1156+0x99*-0x3),'minFilter':fe,'magFilter':fe,'name':'skin'}),this['boneTextur'+'eSize']=[_0x18fe7b,_0x20b1b7,(-0x202e+0x13a8+0xc87)/_0x18fe7b,(-0x4e3+0x1e7f+0x199b*-0x1)/_0x20b1b7],this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':ky}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x3d28e9,_0x33cb48){this['rootBone']=_0x3d28e9;const _0x5e1bfd=this['skin'],_0x3a81db=[];for(let _0x56fec0=-0x526*-0x1+-0x223b+-0x1*-0x1d15;_0x56fec0<_0x5e1bfd['boneNames']['length'];_0x56fec0++){const _0x166e15=_0x5e1bfd['boneNames'][_0x56fec0];let _0x57e4e8=_0x3d28e9['findByName'](_0x166e15);_0x57e4e8||(b['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x166e15+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x33cb48['name']+(',\x20rootBone'+':\x20')+_0x3d28e9['name']),_0x57e4e8=_0x33cb48),_0x3a81db['push'](_0x57e4e8);}this['bones']=_0x3a81db;}['initSkin'](_0x916484){this['skin']=_0x916484,this['bones']=[];const _0x21af7d=_0x916484['inverseBin'+'dPose']['length'];this['init'](_0x916484['device'],_0x21af7d),this['matrices']=[];for(let _0x2d5bc1=-0x4f4*-0x1+0x1296*0x1+0x83*-0x2e;_0x2d5bc1<_0x21af7d;_0x2d5bc1++)this['matrices'][_0x2d5bc1]=new q();}['uploadBone'+'s'](_0x245fd7){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x51ce41,_0x387664){if(this['_skinUpdat'+'eIndex']!==_0x387664){this['_skinUpdat'+'eIndex']=_0x387664,Vm['copy'](_0x51ce41['getWorldTr'+'ansform']())['invert']();for(let _0x6ea177=this['bones']['length']-(-0x145e+0x1*0x1d9f+0x128*-0x8);_0x6ea177>=0x1a55+-0x683+0x13d2*-0x1;_0x6ea177--)this['matrices'][_0x6ea177]['mulAffine2'](Vm,this['bones'][_0x6ea177]['getWorldTr'+'ansform']()),this['matrices'][_0x6ea177]['mulAffine2'](this['matrices'][_0x6ea177],this['skin']['inverseBin'+'dPose'][_0x6ea177]);}}['updateMatr'+'ices'](_0x195697,_0x1f80a0){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x195697,_0x1f80a0);}['updateMatr'+'ixPalette'](_0x39afe9,_0x47a2fa){this['_updateMat'+'rices'](_0x39afe9,_0x47a2fa);const _0x510225=this['matrixPale'+'tte'],_0x2d5d4a=this['bones']['length'];for(let _0x512ed6=0xa9*0x2f+0x1ccd+-0x3bd4*0x1;_0x512ed6<_0x2d5d4a;_0x512ed6++){const _0x3c610e=this['matrices'][_0x512ed6]['data'],_0x5a790c=_0x512ed6*(0x24ba+0x222f+0x179f*-0x3);_0x510225[_0x5a790c]=_0x3c610e[-0x470+0x1*-0x14e9+-0x9*-0x2d1],_0x510225[_0x5a790c+(0xbb6*-0x3+-0x3c3*0x5+0x35f2)]=_0x3c610e[-0x7f2+-0x3*-0x485+-0x599],_0x510225[_0x5a790c+(-0x1*0xb2a+-0x1884+-0x1*-0x23b0)]=_0x3c610e[0x99+-0x616+0x585],_0x510225[_0x5a790c+(-0x1c1a+0x192e+0x2ef)]=_0x3c610e[0x139b+-0x1d8*0x14+0x1151],_0x510225[_0x5a790c+(-0x1bc1+0x1919+0x2ac)]=_0x3c610e[-0x17b6+-0x8b4+0x206b],_0x510225[_0x5a790c+(0x8*0xa3+-0x223f+0x1d2c)]=_0x3c610e[-0xc05+0xfd8+0x1e7*-0x2],_0x510225[_0x5a790c+(0x73*-0x19+0x1*-0x421+0xf62)]=_0x3c610e[0x72d+0x766+-0xe8a],_0x510225[_0x5a790c+(0x1df+-0x15c5*-0x1+0x5*-0x4b9)]=_0x3c610e[0x5f2+0x8d2+-0x1*0xeb7],_0x510225[_0x5a790c+(0xee6+-0x2*0x842+0x1*0x1a6)]=_0x3c610e[-0x1f4a+0x1e16+-0x3e*-0x5],_0x510225[_0x5a790c+(-0x1ffa+0x1*0x1af+-0x4*-0x795)]=_0x3c610e[-0x1*-0x815+0x1f03+-0x6*0x683],_0x510225[_0x5a790c+(-0x18c8+0x1f7c+0x2*-0x355)]=_0x3c610e[0x17a2+-0x2210+-0x1*-0xa78],_0x510225[_0x5a790c+(0x980+0xbf8+-0x156d*0x1)]=_0x3c610e[0x1*0x611+0x5*-0x4cf+0x1208];}this['uploadBone'+'s'](this['skin']['device']);}}class Gm extends hl{constructor(_0x14111f,_0x45a59a,_0x48e492){super();const _0x1b4f84=_0x45a59a['length'];this['init'](_0x14111f,_0x1b4f84),this['device']=_0x14111f,this['rootNode']=_0x48e492,this['bones']=_0x45a59a;}['updateMatr'+'ices'](_0x42621a,_0x5d76ec){}['updateMatr'+'ixPalette'](_0x2ea798,_0x51a64d){const _0x14d7ea=this['matrixPale'+'tte'],_0x4229e4=this['bones']['length'];for(let _0x3512cc=0x83b+-0x281*0xf+0x1d54;_0x3512cc<_0x4229e4;_0x3512cc++){const _0x532442=this['bones'][_0x3512cc]['getWorldTr'+'ansform']()['data'],_0xe810e0=_0x3512cc*(-0x6*-0x23f+-0x189d*0x1+0xb2f);_0x14d7ea[_0xe810e0]=_0x532442[-0x265f*0x1+0x2277+0x64*0xa],_0x14d7ea[_0xe810e0+(0x1f8+-0x623+-0x164*-0x3)]=_0x532442[-0x9fb+-0x23ff+0x2dfe],_0x14d7ea[_0xe810e0+(0x13a3+0x4*0x6cd+-0x2ed5)]=_0x532442[-0x1*0xcb5+0x40*-0x47+0x1e7d],_0x14d7ea[_0xe810e0+(0x10f3+0x18b2+0x92*-0x49)]=_0x532442[-0x165*-0x3+0x1*0x1387+0x1d2*-0xd],_0x14d7ea[_0xe810e0+(-0x1*-0x19bd+-0xc5*-0x2c+-0x3b95)]=_0x532442[0x2027+-0xe*-0x2b4+0x2*-0x22ff],_0x14d7ea[_0xe810e0+(0x1*0xce3+0x1472+-0x2150)]=_0x532442[0x7*-0x1ad+0x4f3+0x6cd*0x1],_0x14d7ea[_0xe810e0+(-0x262e+0x14fd+0x153*0xd)]=_0x532442[0x1e39+-0xece+0xb3*-0x16],_0x14d7ea[_0xe810e0+(0x1aa7+-0xe72+-0x617*0x2)]=_0x532442[0x7*0x422+0x1ca*-0xb+-0x933],_0x14d7ea[_0xe810e0+(-0x1*0x1237+-0xf40+0x217f)]=_0x532442[-0x25f3+-0x180+0x2775],_0x14d7ea[_0xe810e0+(0x6*0x43b+0xb*-0x55+-0x15b2)]=_0x532442[0x673+-0x4c+-0x621],_0x14d7ea[_0xe810e0+(-0x2028+0x189b+0x1*0x797)]=_0x532442[-0xe2e+-0x957*0x1+0x25*0xa3],_0x14d7ea[_0xe810e0+(0xaef*0x3+0x1f06+-0x2*0x1fe4)]=_0x532442[0xc1*0x1+-0x2184+0x20d1*0x1];}this['uploadBone'+'s'](this['device']);}}let JE=0x116e+-0x1f*-0x10b+0x1*-0x31c3;class js{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x6*-0x43e+-0x2179*0x1+0x806),this['verticesUs'+'age']=ts,this['indicesUsa'+'ge']=ts,this['maxVertice'+'s']=0x262f+-0x2*0x117b+0x21*-0x19,this['maxIndices']=0xca7+-0x5fd*-0x2+-0x1e5*0xd,this['vertexCoun'+'t']=0x4ae*0x5+0x643+0x1da9*-0x1,this['indexCount']=0x3*-0x6ba+-0x1*0x10f+0x153d,this['vertexStre'+'amsUpdated']=!(0x3fb*-0x6+0x4cd*0x3+0x97c),this['indexStrea'+'mUpdated']=!(-0x17dc+0x1b65+-0x4*0xe2),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x234ed4,_0x4bfc17){this['vertexCoun'+'t']?b['assert'](this['vertexCoun'+'t']===_0x234ed4,'Vertex\x20str'+'eam\x20'+_0x4bfc17+'\x20has\x20'+_0x234ed4+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x234ed4;}}c(js,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x4*-0x637+0x2*0xa8f+-0x691*0x7),c(js,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x6*0x147+-0x2*0xc8b+0x116f),c(js,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x2197+-0x322+0x24bb),c(js,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',-0x1c34+-0x1*-0x106f+0x1*0xbc9);class eC{constructor(_0x8f8289,_0x5e799b,_0xb0c350,_0x20470c,_0x2d0a4f){this['data']=_0x8f8289,this['componentC'+'ount']=_0x5e799b,this['dataType']=_0xb0c350,this['dataTypeNo'+'rmalize']=_0x20470c,this['asInt']=_0x2d0a4f;}}class ke extends qc{constructor(_0x2df94e,_0x1d02f5){super(),c(this,'indexBuffe'+'r',[null]),c(this,'vertexBuff'+'er',null),c(this,'primitive',[{'type':0x0,'base':0x0,'count':0x0}]),c(this,'skin',null),c(this,'boneAabb',null),c(this,'_aabbVer',-0x1*0x1a57+-0x1*0x168d+-0x2*-0x1872),c(this,'_aabb',new ve()),c(this,'_geometryD'+'ata',null),c(this,'_morph',null),c(this,'_storageIn'+'dex',!(0x1a5*0xd+-0x1b38*0x1+0x5d8)),c(this,'_storageVe'+'rtex',!(0x1f82+0x592+-0x2513)),(this['id']=JE++,b['assert'](_0x2df94e,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x2df94e,this['_storageIn'+'dex']=(_0x1d02f5==null?void(0xed1*-0x1+0x20a4+0x1*-0x11d3):_0x1d02f5['storageInd'+'ex'])||!(0xbd3*0x1+-0x9a4*0x4+0x3d2*0x7),this['_storageVe'+'rtex']=(_0x1d02f5==null?void(-0x227+-0x3*0xb1f+-0x4*-0x8e1):_0x1d02f5['storageVer'+'tex'])||!(0x9b9*-0x2+-0x3*0x745+0x2942));}static['fromGeomet'+'ry'](_0x69bef1,_0x3e80f9,_0x53412e={}){const _0x91fdc1=new ke(_0x69bef1,_0x53412e),{positions:_0x584d1b,normals:_0x5ca88a,tangents:_0x1451e3,colors:_0x5f0c84,uvs:_0x102608,uvs1:_0x275380,blendIndices:_0x158d2c,blendWeights:_0x2c215d,indices:_0x2b1d7d}=_0x3e80f9;return _0x584d1b&&_0x91fdc1['setPositio'+'ns'](_0x584d1b),_0x5ca88a&&_0x91fdc1['setNormals'](_0x5ca88a),_0x1451e3&&_0x91fdc1['setVertexS'+'tream'](si,_0x1451e3,0x200a*0x1+0x2*-0x60a+-0x13f2),_0x5f0c84&&_0x91fdc1['setColors3'+'2'](_0x5f0c84),_0x102608&&_0x91fdc1['setUvs'](0x2128+0xaa6+0xe*-0x321,_0x102608),_0x275380&&_0x91fdc1['setUvs'](0x3*0x7dd+-0x57*0x16+-0x101c,_0x275380),_0x158d2c&&_0x91fdc1['setVertexS'+'tream'](Jt,_0x158d2c,0x3e1+-0x2267+0x1e8a*0x1,_0x158d2c['length']/(0x37c*0xb+0x1970+-0x3fc0),Zr),_0x2c215d&&_0x91fdc1['setVertexS'+'tream'](ei,_0x2c215d,0x1*0x2564+-0xb*-0x388+-0x4c38),_0x2b1d7d&&_0x91fdc1['setIndices'](_0x2b1d7d),_0x91fdc1['update'](),_0x91fdc1;}set['morph'](_0x2a5fda){_0x2a5fda!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x2a5fda,_0x2a5fda&&_0x2a5fda['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x111acf){this['_aabb']=_0x111acf,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x2df5a2=this['morph'];_0x2df5a2&&(this['morph']=null,_0x2df5a2['refCount']<0x3*0x93+0x6*-0x65a+-0x919*-0x4&&_0x2df5a2['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x4605e3=-0x2*-0xfd1+-0xc0e+0x4*-0x4e5;_0x4605e3<this['indexBuffe'+'r']['length'];_0x4605e3++)this['_destroyIn'+'dexBuffer'](_0x4605e3);this['indexBuffe'+'r']['length']=0x1*-0xc5f+-0x1bf3+0x2852,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x3a03fa){this['indexBuffe'+'r'][_0x3a03fa]&&(this['indexBuffe'+'r'][_0x3a03fa]['destroy'](),this['indexBuffe'+'r'][_0x3a03fa]=null);}['_initBoneA'+'abbs'](_0x349355){this['boneAabb']=[],this['boneUsed']=[];let _0x124472,_0xd1b429,_0x28bf1e,_0xbd72c5,_0x60e203;const _0x408e1c=[],_0x2e2ae7=[],_0x1dbcc5=this['boneUsed'],_0x2416d9=this['skin']['boneNames']['length'];let _0x59d36d,_0x24cbc9,_0x11afd8;for(let _0x531e43=0x1b0b+0x1ee9*0x1+-0x39f4;_0x531e43<_0x2416d9;_0x531e43++)_0x408e1c[_0x531e43]=new A(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x2e2ae7[_0x531e43]=new A(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x163875=new vo(this['vertexBuff'+'er']),_0xcf3de4=_0x163875['element'][Xe],_0x591d3e=_0x163875['element'][ei],_0x472433=_0x163875['element'][Jt],_0x3e3814=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x14561c=0x1a2c+-0x1*-0x13f+-0x1b6b;_0x14561c<_0x3e3814;_0x14561c++){for(let _0x5131be=0x10ed+-0x21*-0xe9+0x177b*-0x2;_0x5131be<0x1a8*-0x4+-0x389*-0x1+0x31b;_0x5131be++)if(_0x591d3e['array'][_0x591d3e['index']+_0x5131be]>0x22a3+0x2*-0xeed+-0x19*0x31){const _0x4c8663=_0x472433['array'][_0x472433['index']+_0x5131be];if(_0x1dbcc5[_0x4c8663]=!(-0xffd+-0x1e09+0x2e06),_0x124472=_0xcf3de4['array'][_0xcf3de4['index']],_0xd1b429=_0xcf3de4['array'][_0xcf3de4['index']+(0x17df+-0x2421+0xc43)],_0x28bf1e=_0xcf3de4['array'][_0xcf3de4['index']+(-0x1*-0x709+-0x441+-0x2c6)],_0xbd72c5=_0x2e2ae7[_0x4c8663],_0x60e203=_0x408e1c[_0x4c8663],_0x60e203['x']>_0x124472&&(_0x60e203['x']=_0x124472),_0x60e203['y']>_0xd1b429&&(_0x60e203['y']=_0xd1b429),_0x60e203['z']>_0x28bf1e&&(_0x60e203['z']=_0x28bf1e),_0xbd72c5['x']<_0x124472&&(_0xbd72c5['x']=_0x124472),_0xbd72c5['y']<_0xd1b429&&(_0xbd72c5['y']=_0xd1b429),_0xbd72c5['z']<_0x28bf1e&&(_0xbd72c5['z']=_0x28bf1e),_0x349355){let _0x2f7e4c=_0x59d36d=_0x124472,_0xe9a827=_0x24cbc9=_0xd1b429,_0x4a86e8=_0x11afd8=_0x28bf1e;for(let _0x1f3490=-0x296*0xb+-0x3cd+0x203f;_0x1f3490<_0x349355['length'];_0x1f3490++){const _0x37cca5=_0x349355[_0x1f3490],_0x536a2f=_0x37cca5['deltaPosit'+'ions'][_0x14561c*(-0x8c3+0x412*0x2+-0x2*-0x51)],_0x4a0ca5=_0x37cca5['deltaPosit'+'ions'][_0x14561c*(0x630+0x1b69+-0x2196)+(0x1f99+0x17ff+-0x85*0x6b)],_0x4f1d70=_0x37cca5['deltaPosit'+'ions'][_0x14561c*(-0x5c2+0x1*0x123+0x4a2)+(0xd*0x13f+0xfad+-0x1fde)];_0x536a2f<-0x1*0x1840+0xd99*-0x1+0x1*0x25d9?_0x2f7e4c+=_0x536a2f:_0x59d36d+=_0x536a2f,_0x4a0ca5<0x1*0x1ba9+-0x34e*0x5+-0xb23?_0xe9a827+=_0x4a0ca5:_0x24cbc9+=_0x4a0ca5,_0x4f1d70<0x1214+-0x919+-0x8fb?_0x4a86e8+=_0x4f1d70:_0x11afd8+=_0x4f1d70;}_0x60e203['x']>_0x2f7e4c&&(_0x60e203['x']=_0x2f7e4c),_0x60e203['y']>_0xe9a827&&(_0x60e203['y']=_0xe9a827),_0x60e203['z']>_0x4a86e8&&(_0x60e203['z']=_0x4a86e8),_0xbd72c5['x']<_0x59d36d&&(_0xbd72c5['x']=_0x59d36d),_0xbd72c5['y']<_0x24cbc9&&(_0xbd72c5['y']=_0x24cbc9),_0xbd72c5['z']<_0x11afd8&&(_0xbd72c5['z']=_0x11afd8);}}_0x163875['next']();}const _0x3d6f1c=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x4c44c4=>_0x4c44c4['name']===Xe);if(_0x3d6f1c&&_0x3d6f1c['normalize']){const _0x32ed01=((()=>{switch(_0x3d6f1c['dataType']){case Fc:return _0x142c64=>Math['max'](_0x142c64/(-0x20cf+-0x260+0x23ae),-(-0xe9b*-0x1+-0xcb5*0x3+0x1785));case Zr:return _0x19f010=>_0x19f010/(-0xbb*0x4+0x217+0x75*0x4);case kc:return _0x5efa72=>Math['max'](_0x5efa72/(0xfb54+0x2f*0x1ba+-0x4429*0x3),-(-0xdd*0x2d+0x2*0x7c+0x25e2));case rl:return _0x14e7b6=>_0x14e7b6/(0x1*-0x182be+0x79*0x381+0xdac4);default:return _0x2d58a2=>_0x2d58a2;}})());for(let _0x250f54=0x3f9*-0x7+-0x1a51+0x3620;_0x250f54<_0x2416d9;_0x250f54++)if(_0x1dbcc5[_0x250f54]){const _0x3bb979=_0x408e1c[_0x250f54],_0x42253d=_0x2e2ae7[_0x250f54];_0x3bb979['set'](_0x32ed01(_0x3bb979['x']),_0x32ed01(_0x3bb979['y']),_0x32ed01(_0x3bb979['z'])),_0x42253d['set'](_0x32ed01(_0x42253d['x']),_0x32ed01(_0x42253d['y']),_0x32ed01(_0x42253d['z']));}}for(let _0x54100f=-0x10cd+-0x1c88+0x37*0xd3;_0x54100f<_0x2416d9;_0x54100f++){const _0xe45865=new ve();_0xe45865['setMinMax'](_0x408e1c[_0x54100f],_0x2e2ae7[_0x54100f]),this['boneAabb']['push'](_0xe45865);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new js(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x1c03*-0x1+0x1*-0x1cb5+0xa*0x5ac&&this['indexBuffe'+'r'][0xabc+0x11a7*-0x1+0x6eb]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x3*-0xa93+-0x1da+-0x9f5*0x3]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][-0x17d6+-0x24ab+0x1*0x3c81]['numIndices']));}['clear'](_0x4947fd,_0x30e98a,_0x4d8dd1=0xab7*-0x3+-0x1*-0xad4+0x3*0x71b,_0x2eee6b=0x1b8*-0x11+-0x2209+0x3f41*0x1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(-0xcb*0x27+0xc*-0x299+0x3e19),this['_geometryD'+'ata']['maxVertice'+'s']=_0x4d8dd1,this['_geometryD'+'ata']['maxIndices']=_0x2eee6b,this['_geometryD'+'ata']['verticesUs'+'age']=_0x4947fd?ts:Ph,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x30e98a?ts:Ph;}['setVertexS'+'tream'](_0x180431,_0x48ba3e,_0x1936ed,_0x492869,_0x3a1a47=Re,_0x95307a=!(0x1861+-0xb4b*0x2+-0x1ca*0x1),_0x368191=!(-0x1a6f*-0x1+0xb31+-0x259f)){this['_initGeome'+'tryData']();const _0x54aa78=_0x492869||_0x48ba3e['length']/_0x1936ed;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x54aa78,_0x180431),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x8c3+-0x2c*-0x2b+0x15f),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x180431]=new eC(_0x48ba3e,_0x1936ed,_0x3a1a47,_0x95307a,_0x368191);}['getVertexS'+'tream'](_0x50e349,_0x57ec75){let _0x4142fa=-0x12bf+-0x1e38+0x30f7,_0x520edf=!(-0x15ef+0x1*0x1b29+-0x539);if(this['_geometryD'+'ata']){const _0x10e551=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x50e349];_0x10e551&&(_0x520edf=!(-0x26aa+-0x8*0x3a1+0x43b2*0x1),_0x4142fa=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x57ec75)?_0x57ec75['set'](_0x10e551['data']):(_0x57ec75['length']=-0x1e*0x57+0x15c0+-0x1*0xb8e,_0x57ec75['push'](_0x10e551['data'])));}return _0x520edf||this['vertexBuff'+'er']&&(_0x4142fa=new vo(this['vertexBuff'+'er'])['readData'](_0x50e349,_0x57ec75)),_0x4142fa;}['setPositio'+'ns'](_0x1fa018,_0x374c90=js['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x1c61c4){this['setVertexS'+'tream'](Xe,_0x1fa018,_0x374c90,_0x1c61c4,Re,!(-0x1*-0x2509+0x3d3+-0x28db));}['setNormals'](_0x5eb189,_0xeeab8d=js['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x19b7d1){this['setVertexS'+'tream'](ss,_0x5eb189,_0xeeab8d,_0x19b7d1,Re,!(0x8e+0x1*-0x245d+-0x1*-0x23d0));}['setUvs'](_0x44f8a4,_0x51477a,_0x13392d=js['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x397acb){this['setVertexS'+'tream'](lm+_0x44f8a4,_0x51477a,_0x13392d,_0x397acb,Re,!(-0x25a4+0x1*-0x18ce+0x3e73));}['setColors'](_0x9c6495,_0x4c50b9=js['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x39ae79){this['setVertexS'+'tream'](It,_0x9c6495,_0x4c50b9,_0x39ae79,Re,!(-0x104*-0x12+0x1b90+-0x2dd7*0x1));}['setColors3'+'2'](_0x15226b,_0x24f1fb){this['setVertexS'+'tream'](It,_0x15226b,js['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x24f1fb,Zr,!(-0xf3e+-0x2264+-0x2*-0x18d1));}['setIndices'](_0x22ee6a,_0x33377b){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x6d*0x47+0x5b3+0x92*-0x3f),this['_geometryD'+'ata']['indices']=_0x22ee6a,this['_geometryD'+'ata']['indexCount']=_0x33377b||_0x22ee6a['length'];}['getPositio'+'ns'](_0x440717){return this['getVertexS'+'tream'](Xe,_0x440717);}['getNormals'](_0x26a4ab){return this['getVertexS'+'tream'](ss,_0x26a4ab);}['getUvs'](_0x98a85a,_0xadea9c){return this['getVertexS'+'tream'](lm+_0x98a85a,_0xadea9c);}['getColors'](_0x2a54f4){return this['getVertexS'+'tream'](It,_0x2a54f4);}['getIndices'](_0x259652){let _0x29ed71=-0xedb*-0x1+0x1250+-0x212b;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x4aca69=this['_geometryD'+'ata']['indices'];if(_0x29ed71=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x259652))_0x259652['set'](_0x4aca69);else{_0x259652['length']=0x1b80+0x1437+-0x2fb7;for(let _0x37eaae=0x1bb1+0x22c3+-0x4*0xf9d,_0x4419b9=_0x4aca69['length'];_0x37eaae<_0x4419b9;_0x37eaae++)_0x259652['push'](_0x4aca69[_0x37eaae]);}}else this['indexBuffe'+'r']['length']>0x1*0xb2d+0x2de*0x1+-0xe0b&&this['indexBuffe'+'r'][-0x7b0+-0x1b46+0x22f6]&&(_0x29ed71=this['indexBuffe'+'r'][-0x2028+0x1e6e+-0x11*-0x1a]['readData'](_0x259652));return _0x29ed71;}['update'](_0x402722=Fs,_0xdc3250=!(0x2581+0x1*0x2245+-0x2*0x23e3)){if(this['_geometryD'+'ata']){if(_0xdc3250){const _0xdb26ac=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Xe];_0xdb26ac&&_0xdb26ac['componentC'+'ount']===0x1623+-0x4a4+-0x117c&&(this['_aabb']['compute'](_0xdb26ac['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x4cb56c=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x4cb56c=!(-0x1*-0x14b6+0x2061+-0x1*0x3517),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x4cb56c&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x5e7f4f=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x5e7f4f=!(0x1*0x1462+-0x2482+0x1*0x1020),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x5e7f4f&&this['indexBuffe'+'r']['length']>-0x485*-0x1+0x13*-0xad+-0x2*-0x429&&this['indexBuffe'+'r'][-0xb*-0x108+-0x9b2+0x1*-0x1a6]&&(this['indexBuffe'+'r'][-0x18ad+0x279*-0x1+0x1b26]['destroy'](),this['indexBuffe'+'r'][0x6*-0x13+0x3*-0xc6d+0x3*0xc93]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x475+-0x16c8+-0x13*-0x16f]['type']=_0x402722,this['indexBuffe'+'r']['length']>0x2*-0xaa2+0x1391*0x1+-0x1b3*-0x1&&this['indexBuffe'+'r'][-0x1a54+-0x139c+0x2df0]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x60b*0x5+0x4*0x6e2+-0x1*0x39bf]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x2691+-0x142b+0x3abc]['indexed']=!(-0x6a1+-0x1688+0x1d29)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x9ec+-0x14*0xf7+0x1d38]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x2f+0x0+-0x2f]['indexed']=!(-0x1d*-0xd4+-0x2*-0x9c5+-0x2b8d)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x12b1+-0x1125*-0x1+-0x23d6,this['_geometryD'+'ata']['indexCount']=0x1d57+-0x2*0x562+-0x1*0x1293,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0xfbe+0x981+0x167*-0x12),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x2059+0x201+0x1e59),this['_geometryD'+'ata']['recreate']=!(-0xb86+-0xf0a+0x3*0x8db),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x5cf523){const _0x54336a=[];for(const _0x166fcf in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x50526b=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x166fcf];_0x54336a['push']({'semantic':_0x166fcf,'components':_0x50526b['componentC'+'ount'],'type':_0x50526b['dataType'],'normalize':_0x50526b['dataTypeNo'+'rmalize'],'asInt':_0x50526b['asInt']});}return new Dt(this['device'],_0x54336a,_0x5cf523);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x343704=this['_geometryD'+'ata']['maxVertice'+'s'],_0x392c99=this['_buildVert'+'exFormat'](_0x343704);this['vertexBuff'+'er']=new fs(this['device'],_0x392c99,_0x343704,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x3ae6c1=new vo(this['vertexBuff'+'er']),_0x4c5f66=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x517147 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x2ae7ef=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x517147];_0x3ae6c1['writeData'](_0x517147,_0x2ae7ef['data'],_0x4c5f66),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x517147];}_0x3ae6c1['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=-0x25ed+0x3*0x2ba+-0x1dbf*-0x1||!this['indexBuffe'+'r'][-0xbff*-0x2+-0x1*-0x1ed7+-0x36d5]){const _0x453799=this['_geometryD'+'ata']['maxVertice'+'s'],_0x807ab8=_0x453799>0x49*-0x469+0x102b*0x4+0x20144||_0x453799===0x552*-0x1+-0x1b*-0x1d+0xc1*0x3?or:Fi,_0x319dad=this['_storageIn'+'dex']?{'storage':!(-0x2210+-0x1f81+0x15db*0x3)}:void(-0x13a7+0xd5f+0x43*0x18);this['indexBuffe'+'r'][-0x170*-0xc+0x7c3*-0x5+0x158f*0x1]=new cr(this['device'],_0x807ab8,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x437+-0x118a*-0x1+-0x471*0x3),_0x319dad);}const _0xaa65a8=this['_geometryD'+'ata']['indices'];_0xaa65a8&&(this['indexBuffe'+'r'][-0x13f*0x9+-0x11fb*-0x1+-0x2*0x362]['writeData'](_0xaa65a8,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x32c345){_0x32c345===Lr?this['generateWi'+'reframe']():_0x32c345===Pl&&(this['primitive'][Pl]={'type':Dc,'base':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x5*-0x67+0x1d2c*0x1+-0x1f2f,'indexed':!(0x1e03+-0x452*-0x1+-0x2254)});}['updateRend'+'erStates'](){this['primitive'][Pl]&&this['prepareRen'+'derState'](Pl),this['primitive'][Lr]&&this['prepareRen'+'derState'](Lr);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer'](Lr);const _0x153ba6=this['vertexBuff'+'er']['numVertice'+'s'],_0x5ae3a1=[];let _0x37b4c1;if(this['indexBuffe'+'r']['length']>0x5fb*0x4+-0x1a21+-0x5*-0x71&&this['indexBuffe'+'r'][-0x7c3+-0x169*0x8+-0x7d*-0x27]){const _0x1ca53f=[[0x2508+-0xdab+0x1*-0x175d,0x4*0x409+-0x2ac*-0x4+0x7*-0x3d5],[-0x2*0xe30+0x5*-0x16f+-0x7*-0x514,-0xc8c+0x1*0x1985+-0x1*0xcf7],[0xa9f+-0x4*-0x6+-0xab5,0x2489+-0x2a4*0x2+-0x1f41]],_0x2a8ba7=this['primitive'][bo]['base'],_0x4a242f=this['primitive'][bo]['count'],_0x584065=this['indexBuffe'+'r'][bo],_0x9f0042=new Nh[_0x584065['format']](_0x584065['storage']),_0x2b375e=new Set();for(let _0x7967ee=_0x2a8ba7;_0x7967ee<_0x2a8ba7+_0x4a242f;_0x7967ee+=-0x1eb1+0x194e+-0x2*-0x2b3)for(let _0x12ad76=-0x4e4*-0x6+-0x25d9*-0x1+-0x4331;_0x12ad76<0x9*-0x21b+0xb*-0x2cc+-0x86*-0x5f;_0x12ad76++){const _0x5d5414=_0x9f0042[_0x7967ee+_0x1ca53f[_0x12ad76][0x8cd*-0x1+-0xa7*-0x3b+0x5*-0x5f0]],_0x5e1ccb=_0x9f0042[_0x7967ee+_0x1ca53f[_0x12ad76][-0x1da4+-0x6*0x6f+-0x41*-0x7f]],_0x5847c0=_0x5d5414>_0x5e1ccb?_0x5e1ccb*_0x153ba6+_0x5d5414:_0x5d5414*_0x153ba6+_0x5e1ccb;_0x2b375e['has'](_0x5847c0)||(_0x2b375e['add'](_0x5847c0),_0x5ae3a1['push'](_0x5d5414,_0x5e1ccb));}_0x37b4c1=_0x584065['format'];}else{for(let _0x1c11d7=-0x1931+-0x3b7*-0xa+-0xbf5;_0x1c11d7<_0x153ba6;_0x1c11d7+=0x126a*-0x2+-0x1*-0x164c+0xe8b)_0x5ae3a1['push'](_0x1c11d7,_0x1c11d7+(0x2ce+-0x1e1e+0x1b51),_0x1c11d7+(0x6f*0x11+0x235d+-0x2abb),_0x1c11d7+(0x5*0x182+-0x1ae2+0x2*0x9ad),_0x1c11d7+(-0x3*-0x8bd+-0x13*-0xe2+-0x2afb),_0x1c11d7);_0x37b4c1=_0x5ae3a1['length']>-0x4*-0x67a3+-0x3d1*0x1+-0x9abc?or:Fi;}const _0x4d566e=new cr(this['vertexBuff'+'er']['device'],_0x37b4c1,_0x5ae3a1['length']);new Nh[_0x4d566e['format']](_0x4d566e['storage'])['set'](_0x5ae3a1),_0x4d566e['unlock'](),this['primitive'][Lr]={'type':Lc,'base':0x0,'count':_0x5ae3a1['length'],'indexed':!(-0x24c9+-0xc0b*0x1+-0x4e2*-0xa)},this['indexBuffe'+'r'][Lr]=_0x4d566e;}}const Hm=new q(),xd=new A(),Wm=new ie(),Sd=new ie(),$m=new A(),qm=new A(),tC=new q(),sC=new ie(),Wt=new A(),Xa=new q(),$t=new ie(),Cn=new ie(),Xm=new q(),vd=new A(),Il=new A();function jm(_0x2cd308,_0x440b7e){return _0x2cd308 instanceof Function?_0x2cd308:_0x56c0b0=>{let _0x517795=_0x56c0b0[_0x2cd308];return _0x517795 instanceof Function&&(_0x517795=_0x517795()),_0x517795===_0x440b7e;};}function T0(_0x42f22e,_0xbe7a27){if(_0xbe7a27(_0x42f22e))return _0x42f22e;const _0x26d854=_0x42f22e['_children'],_0x12d90d=_0x26d854['length'];for(let _0x1184c8=-0x15*0x51+-0x1*-0x1594+-0xeef;_0x1184c8<_0x12d90d;++_0x1184c8){const _0x3a8950=T0(_0x26d854[_0x1184c8],_0xbe7a27);if(_0x3a8950)return _0x3a8950;}return null;}class Oe extends de{constructor(_0x33416c='Untitled'){super(),c(this,'name'),c(this,'tags',new yo(this)),c(this,'localPosit'+'ion',new A()),c(this,'localRotat'+'ion',new ie()),c(this,'localScale',new A(0x2171+-0x1*0x2186+0x16,0xdc6+-0x1*0x14e1+0x71c,-0x2141*0x1+0x1ab7*-0x1+-0x3bf9*-0x1)),c(this,'localEuler'+'Angles',new A()),c(this,'position',new A()),c(this,'rotation',new ie()),c(this,'eulerAngle'+'s',new A()),c(this,'_scale',null),c(this,'localTrans'+'form',new q()),c(this,'_dirtyLoca'+'l',!(-0x1fd3+-0x11*0x59+-0x1*-0x25bd)),c(this,'_aabbVer',0x25e4+-0x17*-0x161+-0x67*0xad),c(this,'_frozen',!(-0x1e65+-0x1*-0xddc+0x108a)),c(this,'worldTrans'+'form',new q()),c(this,'_dirtyWorl'+'d',!(0x234b+-0x1*-0x1a8b+-0x3dd5)),c(this,'_worldScal'+'eSign',-0xb46+-0x9ad*-0x1+0x199),c(this,'_normalMat'+'rix',new Js()),c(this,'_dirtyNorm'+'al',!(-0x1849+0x4f*-0x61+0x3638)),c(this,'_right',null),c(this,'_up',null),c(this,'_forward',null),c(this,'_parent',null),c(this,'_children',[]),c(this,'_graphDept'+'h',-0xa4*-0x2b+0x212d+-0x3cb9),c(this,'_enabled',!(0x1a79+0x1*-0x9b1+-0x10c8)),c(this,'_enabledIn'+'Hierarchy',!(-0xe4*-0x13+-0x227e+0x1193)),c(this,'scaleCompe'+'nsation',!(0x9fe*-0x2+0x2166+0xd69*-0x1)),this['name']=_0x33416c;}get['right'](){return this['_right']||(this['_right']=new A()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new A()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new A()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x49*-0x2c+0x26cb*0x1+-0x1a3e));}get['normalMatr'+'ix'](){const _0x4d1126=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x4d1126['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x16f*0x19+-0x1*-0x603+-0x29d9*0x1)),_0x4d1126;}set['enabled'](_0x4b89ef){var _0x5104e6;this['_enabled']!==_0x4b89ef&&(this['_enabled']=_0x4b89ef,(_0x4b89ef&&((_0x5104e6=this['_parent'])!=null&&_0x5104e6['enabled'])||!_0x4b89ef)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x4b89ef));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x402e74=this['_parent'];if(!_0x402e74)return'';let _0x241e12=this['name'];for(;_0x402e74&&_0x402e74['_parent'];)_0x241e12=_0x402e74['name']+'/'+_0x241e12,_0x402e74=_0x402e74['_parent'];return _0x241e12;}get['root'](){let _0x1ce376=this;for(;_0x1ce376['_parent'];)_0x1ce376=_0x1ce376['_parent'];return _0x1ce376;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x2dd357,_0x369172){_0x2dd357['_onHierarc'+'hyStateCha'+'nged'](_0x369172);const _0x1145e7=_0x2dd357['_children'];for(let _0x23ad02=-0x1*0x14e1+0x2700+0x121f*-0x1,_0x3a87eb=_0x1145e7['length'];_0x23ad02<_0x3a87eb;_0x23ad02++)_0x1145e7[_0x23ad02]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x1145e7[_0x23ad02],_0x369172);}['_onHierarc'+'hyStateCha'+'nged'](_0x450d95){this['_enabledIn'+'Hierarchy']=_0x450d95,_0x450d95&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x28d54d){_0x28d54d['name']=this['name'];const _0x307cdb=this['tags']['_list'];_0x28d54d['tags']['clear']();for(let _0x1f45c2=-0x156d*0x1+-0x1dea+0x3357;_0x1f45c2<_0x307cdb['length'];_0x1f45c2++)_0x28d54d['tags']['add'](_0x307cdb[_0x1f45c2]);_0x28d54d['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x28d54d['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x28d54d['localScale']['copy'](this['localScale']),_0x28d54d['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x28d54d['position']['copy'](this['position']),_0x28d54d['rotation']['copy'](this['rotation']),_0x28d54d['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x28d54d['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x28d54d['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x28d54d['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x28d54d['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x28d54d['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x28d54d['_aabbVer']=this['_aabbVer']+(0x234c+-0x1*-0x38b+-0x26d6),_0x28d54d['_enabled']=this['_enabled'],_0x28d54d['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x28d54d['_enabledIn'+'Hierarchy']=!(-0x1*0x472+0x161*0x17+-0x1b44);}['clone'](){const _0x868958=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x868958),_0x868958;}['copy'](_0x528872){return _0x528872['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x4bc44f=this['_children'];for(;_0x4bc44f['length'];){const _0x1dc838=_0x4bc44f['pop']();_0x1dc838['_parent']=null,_0x1dc838['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x1c23e1,_0x5912b8){const _0x70bf0a=[],_0x98ed60=jm(_0x1c23e1,_0x5912b8);return this['forEach'](_0x562ed5=>{_0x98ed60(_0x562ed5)&&_0x70bf0a['push'](_0x562ed5);}),_0x70bf0a;}['findOne'](_0x33d9b5,_0xfac5b9){const _0x5ee967=jm(_0x33d9b5,_0xfac5b9);return T0(this,_0x5ee967);}['findByTag'](){const _0x147901=arguments,_0x2ce272=[],_0xd49ca5=(_0x4755d3,_0x360664)=>{_0x360664&&_0x4755d3['tags']['has'](..._0x147901)&&_0x2ce272['push'](_0x4755d3);for(let _0x2f5e21=0x11f8+0xa57*0x2+0x6*-0x671;_0x2f5e21<_0x4755d3['_children']['length'];_0x2f5e21++)_0xd49ca5(_0x4755d3['_children'][_0x2f5e21],!(0xdb6+0x1b8d+-0x2943));};return _0xd49ca5(this,!(0x4fd+-0xad*0xb+0x21*0x13)),_0x2ce272;}['findByName'](_0x148533){return this['findOne']('name',_0x148533);}['findByPath'](_0x5f0b04){const _0x32c7d9=Array['isArray'](_0x5f0b04)?_0x5f0b04:_0x5f0b04['split']('/');let _0x3b3096=this;for(let _0x1db539=-0x585+0x5ad+-0x4*0xa,_0x3e0e1c=_0x32c7d9['length'];_0x1db539<_0x3e0e1c;++_0x1db539)if(_0x3b3096=_0x3b3096['children']['find'](_0x32b93c=>_0x32b93c['name']===_0x32c7d9[_0x1db539]),!_0x3b3096)return null;return _0x3b3096;}['forEach'](_0x50711b,_0xfcd862){_0x50711b['call'](_0xfcd862,this);const _0x228966=this['_children'],_0x524bb4=_0x228966['length'];for(let _0x240668=-0x554+0x212e+-0x1bda;_0x240668<_0x524bb4;++_0x240668)_0x228966[_0x240668]['forEach'](_0x50711b,_0xfcd862);}['isDescenda'+'ntOf'](_0x410fe6){let _0x5aefb1=this['_parent'];for(;_0x5aefb1;){if(_0x5aefb1===_0x410fe6)return!(-0xb4*0x22+-0x8d7+0x20bf*0x1);_0x5aefb1=_0x5aefb1['_parent'];}return!(0x1*-0x10c3+0xa8e+0x2*0x31b);}['isAncestor'+'Of'](_0x40d074){return _0x40d074['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x3ce*0x1+0xfc3+-0x1fe*0x6)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new A()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===-0xdb7*0x2+0x19d9+0x3*0x87&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x54715d;(_0x54715d=this['_parent'])==null||_0x54715d['removeChil'+'d'](this);}['reparent'](_0x1fe568,_0x31eb4d){this['remove'](),_0x1fe568&&(_0x31eb4d>=-0x17bc+0x1*0xa13+-0x1*-0xda9?_0x1fe568['insertChil'+'d'](this,_0x31eb4d):_0x1fe568['addChild'](this));}['setLocalEu'+'lerAngles'](_0xd7f97e,_0x583812,_0x32de74){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0xd7f97e,_0x583812,_0x32de74),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x2ac903,_0x1cb137,_0x1e37bd){_0x2ac903 instanceof A?this['localPosit'+'ion']['copy'](_0x2ac903):this['localPosit'+'ion']['set'](_0x2ac903,_0x1cb137,_0x1e37bd),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x53c6f2,_0x31d877,_0x2911f7,_0x1952f3){_0x53c6f2 instanceof ie?this['localRotat'+'ion']['copy'](_0x53c6f2):this['localRotat'+'ion']['set'](_0x53c6f2,_0x31d877,_0x2911f7,_0x1952f3),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0xad561b,_0x4901d2,_0x32c402){_0xad561b instanceof A?this['localScale']['copy'](_0xad561b):this['localScale']['set'](_0xad561b,_0x4901d2,_0x32c402),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1a89*-0x1+0xf*-0x4f+-0x1*-0x1f2a),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0xa3dfa7=this['_parent'];for(;_0xa3dfa7;)_0xa3dfa7['_frozen']=!(0x1*-0xc8c+-0x115b+0x18*0x13f),_0xa3dfa7=_0xa3dfa7['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x3e*-0x61+0x192b+-0x1ac),this['_dirtyWorl'+'d']=!(-0x3eb+-0x22ed+0x26d8);for(let _0x3b0454=0x26e6+0xb16+-0x31fc;_0x3b0454<this['_children']['length'];_0x3b0454++)this['_children'][_0x3b0454]['_dirtyWorl'+'d']||this['_children'][_0x3b0454]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0xe69*-0x1+-0x24c*-0x7+-0x1ab),this['_worldScal'+'eSign']=0x278+-0x1d*0xb5+0x39*0x51,this['_aabbVer']++;}['setPositio'+'n'](_0x416031,_0x362abb,_0x4a344d){_0x416031 instanceof A?Wt['copy'](_0x416031):Wt['set'](_0x416031,_0x362abb,_0x4a344d),this['_parent']===null?this['localPosit'+'ion']['copy'](Wt):(Xa['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),Xa['transformP'+'oint'](Wt,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0x46d7a7,_0x2c8dbc,_0x314f2c,_0x3254e1){if(_0x46d7a7 instanceof ie?$t['copy'](_0x46d7a7):$t['set'](_0x46d7a7,_0x2c8dbc,_0x314f2c,_0x3254e1),this['_parent']===null)this['localRotat'+'ion']['copy']($t);else{const _0x1c0897=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x1c0897)['invert'](),this['localRotat'+'ion']['copy'](Cn)['mul']($t);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x14ddc4,_0x242425){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x14ddc4),this['localRotat'+'ion']['copy'](_0x242425);else{const _0x451a5f=this['_parent']['getWorldTr'+'ansform']();Xa['copy'](_0x451a5f)['invert'](),Xa['transformP'+'oint'](_0x14ddc4,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](Xa)['mul'](_0x242425);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x3cf6f4,_0x3d2392,_0x5f13fd){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x3cf6f4,_0x3d2392,_0x5f13fd),this['_parent']!==null){const _0x2e97c0=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x2e97c0)['invert'](),this['localRotat'+'ion']['mul2'](Cn,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x25d414){this['_prepareIn'+'sertChild'](_0x25d414),this['_children']['push'](_0x25d414),this['_onInsertC'+'hild'](_0x25d414);}['addChildAn'+'dSaveTrans'+'form'](_0x543e84){const _0x2b7650=_0x543e84['getPositio'+'n'](),_0x1ac016=_0x543e84['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x543e84),_0x543e84['setPositio'+'n'](tC['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x2b7650)),_0x543e84['setRotatio'+'n'](sC['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x1ac016)),this['_children']['push'](_0x543e84),this['_onInsertC'+'hild'](_0x543e84);}['insertChil'+'d'](_0xffe1c4,_0x1f1b4d){this['_prepareIn'+'sertChild'](_0xffe1c4),this['_children']['splice'](_0x1f1b4d,-0x3ef+0x358*0x5+-0x3*0x443,_0xffe1c4),this['_onInsertC'+'hild'](_0xffe1c4);}['_prepareIn'+'sertChild'](_0x80dc3){_0x80dc3['remove'](),b['assert'](_0x80dc3!==this,'GraphNode\x20'+(_0x80dc3==null?void(-0x1d85+-0x1d10+0x3a95):_0x80dc3['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),b['assert'](!this['isDescenda'+'ntOf'](_0x80dc3),'GraphNode\x20'+(_0x80dc3==null?void(-0x1ba5+-0x20d+0x1db2):_0x80dc3['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x4dea0e,_0x23b785,_0x4aac28){this['fire'](_0x4dea0e,_0x4aac28);for(let _0x191b3c=0x2422+-0xc1+0x2361*-0x1;_0x191b3c<this['_children']['length'];_0x191b3c++)this['_children'][_0x191b3c]['_fireOnHie'+'rarchy'](_0x23b785,_0x23b785,_0x4aac28);}['_onInsertC'+'hild'](_0x54a5bf){_0x54a5bf['_parent']=this;const _0x4525ca=_0x54a5bf['_enabled']&&this['enabled'];_0x54a5bf['_enabledIn'+'Hierarchy']!==_0x4525ca&&(_0x54a5bf['_enabledIn'+'Hierarchy']=_0x4525ca,_0x54a5bf['_notifyHie'+'rarchyStat'+'eChanged'](_0x54a5bf,_0x4525ca)),_0x54a5bf['_updateGra'+'phDepth'](),_0x54a5bf['_dirtifyWo'+'rld'](),this['_frozen']&&_0x54a5bf['_unfreezeP'+'arentToRoo'+'t'](),_0x54a5bf['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x54a5bf);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x2*-0xbe3+0x2*-0xf71+-0x1*-0x36a9):-0x6*0x122+0xbb*-0x2c+-0x2*-0x1378;for(let _0x3d7059=-0x6b5*0x3+0xe59+-0x5c6*-0x1,_0x54abd9=this['_children']['length'];_0x3d7059<_0x54abd9;_0x3d7059++)this['_children'][_0x3d7059]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x3a9a33){const _0x9e5574=this['_children']['indexOf'](_0x3a9a33);_0x9e5574!==-(0x3*-0xb61+0x8e*0x34+-0x153*-0x4)&&(this['_children']['splice'](_0x9e5574,0x1d*-0x12a+0xac1+0x1702),_0x3a9a33['_parent']=null,_0x3a9a33['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x3a9a33));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x1be1+-0x179b*-0x1+-0x337b*0x1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x48bd3c;const _0x2810d8=this['_parent'];let _0x5ba2bd=this['localScale'],_0x2324a4=_0x2810d8;if(_0x2324a4){for(;_0x2324a4&&_0x2324a4['scaleCompe'+'nsation'];)_0x2324a4=_0x2324a4['_parent'];_0x2324a4&&(_0x2324a4=_0x2324a4['_parent'],_0x2324a4&&(_0x48bd3c=_0x2324a4['worldTrans'+'form']['getScale'](),$m['mul2'](_0x48bd3c,this['localScale']),_0x5ba2bd=$m));}Sd['setFromMat'+'4'](_0x2810d8['worldTrans'+'form']),Wm['mul2'](Sd,this['localRotat'+'ion']);let _0x3f1192=_0x2810d8['worldTrans'+'form'];_0x2810d8['scaleCompe'+'nsation']&&(qm['mul2'](_0x48bd3c,_0x2810d8['getLocalSc'+'ale']()),Hm['setTRS'](_0x2810d8['worldTrans'+'form']['getTransla'+'tion'](xd),Sd,qm),_0x3f1192=Hm),_0x3f1192['transformP'+'oint'](this['localPosit'+'ion'],xd),this['worldTrans'+'form']['setTRS'](xd,Wm,_0x5ba2bd);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x6e*-0x39+0xd38+0xb47*0x1);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x1*0x1+-0x20c9+0x20ca),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x5ad0ab=this['_children'];for(let _0x2cb068=0x852+-0x15e3+0xd91,_0x18d575=_0x5ad0ab['length'];_0x2cb068<_0x18d575;_0x2cb068++)_0x5ad0ab[_0x2cb068]['syncHierar'+'chy']();}['lookAt'](_0x22c86b,_0x46c462,_0x2cf021,_0x5bf08a=0x19*-0x15+-0x1167+0x1*0x1374,_0x2c616f=-0x7*-0x142+-0x122f*0x2+0x1b91*0x1,_0x4ce5ea=0xaa*-0x5+-0x1181*0x1+-0x1*-0x14d3){if(_0x22c86b instanceof A)vd['copy'](_0x22c86b),_0x46c462 instanceof A?Il['copy'](_0x46c462):Il['copy'](A['UP']);else{if(_0x2cf021===void(-0x2477+0x1722+-0xd55*-0x1))return;vd['set'](_0x22c86b,_0x46c462,_0x2cf021),Il['set'](_0x5bf08a,_0x2c616f,_0x4ce5ea);}Xm['setLookAt'](this['getPositio'+'n'](),vd,Il),$t['setFromMat'+'4'](Xm),this['setRotatio'+'n']($t);}['translate'](_0x57cec8,_0x5d9edb,_0x12d05f){_0x57cec8 instanceof A?Wt['copy'](_0x57cec8):Wt['set'](_0x57cec8,_0x5d9edb,_0x12d05f),Wt['add'](this['getPositio'+'n']()),this['setPositio'+'n'](Wt);}['translateL'+'ocal'](_0x5766e3,_0x2e61cf,_0x5adba1){_0x5766e3 instanceof A?Wt['copy'](_0x5766e3):Wt['set'](_0x5766e3,_0x2e61cf,_0x5adba1),this['localRotat'+'ion']['transformV'+'ector'](Wt,Wt),this['localPosit'+'ion']['add'](Wt),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x3d6962,_0x1a4206,_0x348888){if($t['setFromEul'+'erAngles'](_0x3d6962,_0x1a4206,_0x348888),this['_parent']===null)this['localRotat'+'ion']['mul2']($t,this['localRotat'+'ion']);else{const _0x4f873c=this['getRotatio'+'n'](),_0x198e26=this['_parent']['getRotatio'+'n']();Cn['copy'](_0x198e26)['invert'](),$t['mul2'](Cn,$t),this['localRotat'+'ion']['mul2']($t,_0x4f873c);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x1fe85b,_0x190cea,_0x58a93d){$t['setFromEul'+'erAngles'](_0x1fe85b,_0x190cea,_0x58a93d),this['localRotat'+'ion']['mul']($t),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const A0=new Ht();function cl(_0x471904){const _0x412da3=A0['get'](_0x471904);return b['assert'](_0x412da3),_0x412da3;}function iC(_0x30f2d0,_0x38bc37){b['assert'](_0x38bc37),A0['get'](_0x30f2d0,()=>_0x38bc37);}class rC{constructor(){c(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x38f2d7,_0xe03f22)=>{_0xe03f22['destroy']();}),this['cache']['clear']();}['incRef'](_0x44b3e0){const _0x385f10=(this['cache']['get'](_0x44b3e0)||0x1d47+-0x1654+0x3*-0x251)+(0x1d4e+0x1521+-0x326e);this['cache']['set'](_0x44b3e0,_0x385f10);}['decRef'](_0xaf5d4f){if(_0xaf5d4f){let _0x5ae4cf=this['cache']['get'](_0xaf5d4f);_0x5ae4cf&&(_0x5ae4cf--,_0x5ae4cf===-0x95f*-0x2+-0x5e9+-0xcd5?(this['cache']['delete'](_0xaf5d4f),_0xaf5d4f['destroy']()):this['cache']['set'](_0xaf5d4f,_0x5ae4cf));}}}class Ai{static['incRef'](_0x5a1c45){this['cache']['incRef'](_0x5a1c45);}static['decRef'](_0x24d2cd){this['cache']['decRef'](_0x24d2cd);}static['destroy'](){this['cache']['destroy']();}}c(Ai,'cache',new rC());let nC=0x1*-0x20ef+0x58+0xadd*0x3;const aC=new ve(),Dl=new ve(),bd=new Bf(),wd=new Set(),xr=new Uint32Array(-0x1ff6*-0x1+-0x1ef2+0x80*-0x2);class oC{constructor(_0x58fa72){c(this,'vertexBuff'+'er',null),c(this,'_destroyVe'+'rtexBuffer',!(-0x1457+0x14d3+-0x7b)),this['count']=_0x58fa72;}['destroy'](){var _0x2a3fc0;this['_destroyVe'+'rtexBuffer']&&((_0x2a3fc0=this['vertexBuff'+'er'])==null||_0x2a3fc0['destroy']()),this['vertexBuff'+'er']=null;}}class lC{constructor(){c(this,'shader'),c(this,'bindGroup',null),c(this,'uniformBuf'+'fer',null),c(this,'hashes');}['getBindGro'+'up'](_0x3137b4){if(!this['bindGroup']){const _0x12b219=this['shader'];b['assert'](_0x12b219);const _0x5a655d=_0x12b219['meshBindGr'+'oupFormat'];b['assert'](_0x5a655d),this['bindGroup']=new xp(_0x3137b4,_0x5a655d),gn['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x4ff90a){if(!this['uniformBuf'+'fer']){const _0x3ab771=this['shader'];b['assert'](_0x3ab771);const _0xab9220=_0x3ab771['meshUnifor'+'mBufferFor'+'mat'];b['assert'](_0xab9220),this['uniformBuf'+'fer']=new vp(_0x4ff90a,_0xab9220,!(-0x11*-0x24b+-0x1e28+-0x8d2));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x545407,_0x1b5e49;(_0x545407=this['bindGroup'])==null||_0x545407['destroy'](),this['bindGroup']=null,(_0x1b5e49=this['uniformBuf'+'fer'])==null||_0x1b5e49['destroy'](),this['uniformBuf'+'fer']=null;}}const Gr=class Gr{constructor(_0x5cf865,_0x18de3f,_0x2317e6=null){c(this,'castShadow',!(-0x247c+-0xe*0x237+-0x437f*-0x1)),c(this,'cull',!(0x3*0x17f+-0x102c+-0x1*-0xbaf)),c(this,'drawOrder',-0x119c+-0x551*-0x6+-0xe4a),c(this,'node'),c(this,'visible',!(0x1ce0+-0xac4+-0x121c)),c(this,'visibleThi'+'sFrame',!(0x3*-0x405+-0x1028+-0x408*-0x7)),c(this,'flipFacesF'+'actor',0x1086+-0x14fa+0x475*0x1),c(this,'gsplatInst'+'ance',null),c(this,'id',nC++),c(this,'isVisibleF'+'unc',null),c(this,'instancing'+'Data',null),c(this,'parameters',{}),c(this,'pick',!(-0x11ed+0x10f4+-0xf9*-0x1)),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'transparen'+'t',!(0x12*0x9a+-0x77*-0x7+-0xe14)),c(this,'_aabb',new ve()),c(this,'_aabbVer',-(0x7*-0x4bc+-0x1*0x82f+0x2954)),c(this,'_aabbMeshV'+'er',-(-0x12af+-0x1932+0x15f1*0x2)),c(this,'_customAab'+'b',null),c(this,'_updateAab'+'b',!(0x15c8+-0xb7a+-0x527*0x2)),c(this,'_updateAab'+'bFunc',null),c(this,'_key',[0x6da*0x3+-0x322+0x14*-0xdf,0x2523+-0x10fd*-0x1+-0x3620]),c(this,'_layer',d0),c(this,'_material',null),c(this,'_skinInsta'+'nce',null),c(this,'_morphInst'+'ance',null),c(this,'_receiveSh'+'adow',!(-0x78*-0x4e+0x82b+-0x2cbb*0x1)),c(this,'_renderSty'+'le',bo),c(this,'_screenSpa'+'ce',!(-0x1*0x659+0xb42+-0x274*0x2)),c(this,'_shaderCac'+'he',new Map()),c(this,'_shaderDef'+'s',ms<<-0x1*-0x26e+0x1*0xf83+-0x11e1),c(this,'_calculate'+'SortDistan'+'ce',null);if(b['assert'](!(_0x5cf865 instanceof Oe),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x2317e6,this['_mesh']=_0x5cf865,_0x5cf865['incRefCoun'+'t'](),this['material']=_0x18de3f,_0x5cf865['vertexBuff'+'er']){const _0xe11531=_0x5cf865['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0xe11531['hasUv0']?_0:-0x59e*-0x1+0x24cc+-0x1535*0x2,this['_shaderDef'+'s']|=_0xe11531['hasUv1']?g0:0x107*-0xb+0x1095+-0x548,this['_shaderDef'+'s']|=_0xe11531['hasColor']?y0:-0x1d57+-0xe9*-0x24+0x1*-0x36d,this['_shaderDef'+'s']|=_0xe11531['hasTangent'+'s']?Dp:0x2047+-0x26*0xfe+0x3*0x1cf;}this['updateKey']();}set['renderStyl'+'e'](_0x410845){this['_renderSty'+'le']=_0x410845,this['mesh']['prepareRen'+'derState'](_0x410845);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x3d853b){_0x3d853b!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x3d853b,_0x3d853b&&_0x3d853b['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x3a7c21){this['_aabb']=_0x3a7c21;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x2e9748=this['_customAab'+'b'],_0x568add=!!_0x2e9748;if(!_0x2e9748){if(_0x2e9748=aC,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x1d8ed5=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x1d8ed5);}const _0x19a58f=this['mesh']['boneUsed'];let _0x2dd9ad=!(0x33b+0xd2c+-0x1067);for(let _0x143b4e=-0x29+-0xd60+0x3f*0x37;_0x143b4e<this['mesh']['boneAabb']['length'];_0x143b4e++)_0x19a58f[_0x143b4e]&&(Dl['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x143b4e],this['skinInstan'+'ce']['matrices'][_0x143b4e]),_0x2dd9ad?(_0x2dd9ad=!(-0x1cf8+0xe*-0xf5+0x2a5f),_0x2e9748['center']['copy'](Dl['center']),_0x2e9748['halfExtent'+'s']['copy'](Dl['halfExtent'+'s'])):_0x2e9748['add'](Dl));_0x568add=!(-0x229*0x8+-0x1*0x1c27+0x3*0xf25);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x2e9748['center']['copy'](this['mesh']['aabb']['center']),_0x2e9748['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x2e9748['center']['set'](0x181c+0x15d*0xd+-0x29d5*0x1,0xb4d*-0x1+0x2f*0x71+0x6*-0x193,-0xb*-0x371+-0x15ea+-0x7*0x247),_0x2e9748['halfExtent'+'s']['set'](-0x2709+0x1ec+-0x3*-0xc5f,-0x1ffd+0xca2*0x2+-0x6b9*-0x1,-0xb0e+-0xab9+0x1*0x15c7)),this['mesh']&&this['mesh']['morph']){const _0x5f0c89=this['mesh']['morph']['aabb'];_0x2e9748['_expand'](_0x5f0c89['getMin'](),_0x5f0c89['getMax']());}_0x568add=!(0x1904+0x6a*0x25+0x6b9*-0x6),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x568add&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x2e9748,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x179e4a=>{_0x179e4a['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x3600af,_0x20048f,_0x1fe769,_0x4a0593,_0x49beca,_0x4a33d5,_0x255128){var _0x2c9594;const _0x3823b3=this['_shaderDef'+'s'];xr[-0x1*0x10d7+0x16b*-0x17+-0x83e*-0x6]=_0x3600af,xr[0x20b*-0x7+-0x2c*0xb3+0x2d12]=_0x20048f,xr[-0x7cf+0x1c4d+0x4c*-0x45]=_0x3823b3,xr[0x15cb+-0x1d6b+-0x1*-0x7a3]=_0x4a0593['hash'];const _0x42966=Qy(xr);let _0x482ee6=this['_shaderCac'+'he']['get'](_0x42966);if(!_0x482ee6){const _0xd79e52=this['_material'];if(_0x482ee6=new lC(),_0x482ee6['shader']=_0xd79e52['variants']['get'](_0x42966),_0x482ee6['hashes']=new Uint32Array(xr),!_0x482ee6['shader']){G['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x32e9b2=_0xd79e52['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x1fe769,'objDefs':_0x3823b3,'cameraShaderParams':_0x4a0593,'pass':_0x3600af,'sortedLights':_0x255128,'viewUniformFormat':_0x49beca,'viewBindGroupFormat':_0x4a33d5,'vertexFormat':(_0x2c9594=this['mesh']['vertexBuff'+'er'])==null?void(0x1091+-0xe*0x2a7+0x1491):_0x2c9594['format']});G['popGpuMark'+'er'](this['mesh']['device']),_0xd79e52['variants']['set'](_0x42966,_0x32e9b2),_0x482ee6['shader']=_0x32e9b2;}this['_shaderCac'+'he']['set'](_0x42966,_0x482ee6);}return b['call'](()=>{Wv['equals'](_0x482ee6['hashes'],xr)||b['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x482ee6;}set['material'](_0x23ae11){this['clearShade'+'rs']();const _0x19f359=this['_material'];_0x19f359&&_0x19f359['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x23ae11,_0x23ae11&&(_0x23ae11['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x23ae11['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}set['layer'](_0x18591d){this['_layer']=_0x18591d,this['updateKey']();}get['layer'](){return this['_layer'];}['_updateSha'+'derDefs'](_0x35f071){_0x35f071!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x35f071,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x443c25){this['_calculate'+'SortDistan'+'ce']=_0x443c25;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x3daf55){this['_receiveSh'+'adow']!==_0x3daf55&&(this['_receiveSh'+'adow']=_0x3daf55,this['_updateSha'+'derDefs'](_0x3daf55?this['_shaderDef'+'s']&-(-0x5*-0x445+-0x2265+0xd0e):this['_shaderDef'+'s']|Rp));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0xc619b6){this['_updateSha'+'derDefs'](_0xc619b6?this['_shaderDef'+'s']|zu:this['_shaderDef'+'s']&-(-0x68b2+-0x1661+-0x2fc5*-0x4));}get['batching'](){return(this['_shaderDef'+'s']&zu)!==0x995*-0x1+0x33*-0x5b+0x1bb6;}set['skinInstan'+'ce'](_0x2eca20){this['_skinInsta'+'nce']=_0x2eca20,this['_updateSha'+'derDefs'](_0x2eca20?this['_shaderDef'+'s']|jc:this['_shaderDef'+'s']&-(-0x49*0x13+0x1272+-0xd04)),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x4249aa){var _0x48bc9e;(_0x48bc9e=this['_morphInst'+'ance'])==null||_0x48bc9e['destroy'](),this['_morphInst'+'ance']=_0x4249aa;let _0xe113b9=this['_shaderDef'+'s'];_0xe113b9=_0x4249aa&&_0x4249aa['morph']['morphPosit'+'ions']?_0xe113b9|Kc:_0xe113b9&-(-0x181+-0x2*0x3b9+-0x2*-0x67a),_0xe113b9=_0x4249aa&&_0x4249aa['morph']['morphNorma'+'ls']?_0xe113b9|Zc:_0xe113b9&-(-0xb+-0x248c*-0x1+0x1c8*-0x10),_0xe113b9=_0x4249aa&&_0x4249aa['morph']['intRenderF'+'ormat']?_0xe113b9|Qc:_0xe113b9&-(-0xa22*-0x1+0x2b0c+-0x3*0x70f),this['_updateSha'+'derDefs'](_0xe113b9);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x152242){this['_screenSpa'+'ce']!==_0x152242&&(this['_screenSpa'+'ce']=_0x152242,this['_updateSha'+'derDefs'](_0x152242?this['_shaderDef'+'s']|Ip:this['_shaderDef'+'s']&-(-0x146+-0x19f3+0x1c3a)));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x1cf37c){this['_key'][Ii]=_0x1cf37c;}get['key'](){return this['_key'][Ii];}set['mask'](_0xaf5d87){const _0x2cf6b4=this['_shaderDef'+'s']&0x32*0x237+-0x1be54+0x24f95;this['_updateSha'+'derDefs'](_0x2cf6b4|_0xaf5d87<<0x17b3+0x11e2+0x9*-0x49d);}get['mask'](){return this['_shaderDef'+'s']>>0xae*-0x1f+-0xb7*-0x1+0x146b;}set['instancing'+'Count'](_0x35a6bd){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x35a6bd);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x1*0x2467+-0x2633+0xc6f*0x6;}['destroy'](){var _0x2c3504,_0x2adafe,_0x361fee;const _0x8b00aa=this['mesh'];_0x8b00aa&&(this['mesh']=null,_0x8b00aa['refCount']<0x5*-0x1ad+-0x7*0x2c+0x996&&_0x8b00aa['destroy']()),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][0x19*-0x71+0x14f3+-0x9ea],null),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][0x2676+0x1a3f+-0x40b4],null),(_0x2c3504=this['_skinInsta'+'nce'])==null||_0x2c3504['destroy'](),this['_skinInsta'+'nce']=null,(_0x2adafe=this['morphInsta'+'nce'])==null||_0x2adafe['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x361fee=this['instancing'+'Data'])==null||_0x361fee['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x46075f,_0x411791){if(_0x46075f){for(let _0x36194d=-0x915+-0x25a5+0x2eba;_0x36194d<_0x46075f['length'];_0x36194d++){_0x46075f[_0x36194d]['_renderSty'+'le']=_0x411791;const _0x183d7b=_0x46075f[_0x36194d]['mesh'];wd['has'](_0x183d7b)||(wd['add'](_0x183d7b),_0x183d7b['prepareRen'+'derState'](_0x411791));}wd['clear']();}}['_isVisible'](_0x1f1a8a){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x1f1a8a):(bd['center']=this['aabb']['center'],bd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x1f1a8a['frustum']['containsSp'+'here'](bd)>-0x195+0x30a*-0xb+0x2303):!(-0x9e*-0x4+0xc8*0x9+-0x97f);}['updateKey'](){const _0x8bab80=this['material'],_0x453f60=_0x8bab80['alphaToCov'+'erage']||_0x8bab80['alphaTest']?Gt:_0x8bab80['blendType'];this['_key'][Ii]=(this['layer']&0x1c74+-0x2227+0x5c2)<<-0x154+-0xa6a+0x1*0xbd9|(_0x453f60===hs?0x2*-0x2e6+0x1*-0xeb7+0x1484:-0x7b*0x5+-0x1*-0x20ac+0x1e45*-0x1)<<-0x1ec8*-0x1+0x13*0x98+-0x29f6|(_0x8bab80['id']&-0x908e9*0x40+-0x4*-0xe30b55+-0x1*-0xb60ceb)<<-0x2649+0x1*-0x65d+-0x17d*-0x1e;}['setInstanc'+'ing'](_0x2ef68f,_0x449e64=!(0x15d4+-0x125e+-0x375)){_0x2ef68f?(this['instancing'+'Data']=new oC(_0x2ef68f['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x2ef68f,_0x2ef68f['format']['instancing']=!(-0x216*-0x6+0x95e+-0x15e2),this['cull']=_0x449e64):(this['instancing'+'Data']=null,this['cull']=!(0x118+-0x1*0x1d63+-0x1*-0x1c4b)),this['_updateSha'+'derDefs'](_0x2ef68f?this['_shaderDef'+'s']|Yc:this['_shaderDef'+'s']&-(-0x24ad+-0x2eb*0x5+0x3365));}['ensureMate'+'rial'](_0x50b79d){this['material']||(b['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=cl(_0x50b79d));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x1daf5e){return this['parameters'][_0x1daf5e];}['setParamet'+'er'](_0x1596ad,_0x49587a,_0x4abd79=-0x17b111*0x86f+0x2c7801b0+0x19b564cae){const _0x32e626=this['parameters'][_0x1596ad];_0x32e626?(_0x32e626['data']=_0x49587a,_0x32e626['passFlags']=_0x4abd79):this['parameters'][_0x1596ad]={'scopeId':null,'data':_0x49587a,'passFlags':_0x4abd79};}['setRealtim'+'eLightmap'](_0x728905,_0x5f0641){const _0x23df90=this['getParamet'+'er'](_0x728905);_0x23df90!==_0x5f0641&&(_0x23df90&&Ai['decRef'](_0x23df90['data']),_0x5f0641?(Ai['incRef'](_0x5f0641),this['setParamet'+'er'](_0x728905,_0x5f0641)):this['deletePara'+'meter'](_0x728905));}['deletePara'+'meter'](_0x3fdebc){this['parameters'][_0x3fdebc]&&delete this['parameters'][_0x3fdebc];}['setParamet'+'ers'](_0x32793d,_0x4eed75){const _0x2e19a3=this['parameters'];for(const _0x561bdb in _0x2e19a3){const _0x39c482=_0x2e19a3[_0x561bdb];_0x39c482['passFlags']&_0x4eed75&&(_0x39c482['scopeId']||(_0x39c482['scopeId']=_0x32793d['scope']['resolve'](_0x561bdb)),_0x39c482['scopeId']['setValue'](_0x39c482['data']));}}['setLightma'+'pped'](_0x20e809){_0x20e809?this['mask']=(this['mask']|dr)&-(0x7*-0x6a+-0xc8+0x3b4):(this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][0x60d*0x1+-0x2024+0x1a17],null),this['setRealtim'+'eLightmap'](Gr['lightmapPa'+'ramNames'][-0xae9+0x4ac+0x63e],null),this['_shaderDef'+'s']&=-(-0x1227+-0x16fd+0x39e5),this['mask']=(this['mask']|ms)&-(0x2*-0x52f+-0xf48+0x19ad));}['setCustomA'+'abb'](_0x59f06b){_0x59f06b?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x59f06b):this['_customAab'+'b']=_0x59f06b['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x24b0+0x1b9b+0xd*-0x4f2)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};c(Gr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let Be=Gr;const hC=[0x416*-0x8+-0x177b+0x12b9*0x3,0x9d3*-0x2+0xa*-0xe2+0x1*0x1c7b,0x2159*-0x1+-0x1773+-0x1*-0x38cf,0x72*-0x2c+-0x38d+0x1727*0x1,-0x1*0x599+0x19e*0x1+0x3fe,0x1579*0x1+-0x2672+0x10fa],cC=[-0x3ce*0x9+-0x1*-0x2603+-0x3c5,-0x7de*0x1+0x3*-0x509+0x1*0x16fa,-0x4b8*0x2+-0x52a+-0x2b*-0x57,0x2a*-0xc6+-0xba*-0x3+-0xa1a*-0x3,0x200a+-0x1*0x1180+-0xe87,0x7*0x389+0x99e+0x1*-0x225b],Ym=new Js();function Km(_0x12d3e1,_0x263267){if(_0x12d3e1&&!_0x263267||!_0x12d3e1&&_0x263267)return!(0x82d*0x2+-0x244+-0x23*0x67);if(_0x12d3e1=_0x12d3e1['data'],_0x263267=_0x263267['data'],_0x12d3e1===_0x263267)return!(-0x268a*-0x1+-0x16f0+-0xf9a*0x1);if(_0x12d3e1 instanceof Float32Array&&_0x263267 instanceof Float32Array){if(_0x12d3e1['length']!==_0x263267['length'])return!(0x52*-0x4c+-0x329*0x8+0x7*0x717);for(let _0x1f0a4b=-0x535*-0x7+0x387+-0x27fa;_0x1f0a4b<_0x12d3e1['length'];_0x1f0a4b++)if(_0x12d3e1[_0x1f0a4b]!==_0x263267[_0x1f0a4b])return!(0xa*-0x296+-0x161c+-0x2ff9*-0x1);return!(0xe76+-0x60d*-0x1+0x1*-0x1483);}return!(-0x57d+-0x9f3+0xf71);}function dC(_0x2d0c75,_0x351954){for(const _0x2d339a in _0x2d0c75)if(_0x2d0c75['hasOwnProp'+'erty'](_0x2d339a)&&!Km(_0x2d0c75[_0x2d339a],_0x351954[_0x2d339a]))return!(-0x20eb+-0x1*0x50b+0x25f7);for(const _0x3dc06e in _0x351954)if(_0x351954['hasOwnProp'+'erty'](_0x3dc06e)&&!Km(_0x351954[_0x3dc06e],_0x2d0c75[_0x3dc06e]))return!(-0x1a99+-0x6*0x9f+-0xc*-0x287);return!(-0x40f*0x7+-0x559*-0x1+0x1710);}function Td(_0x57f1a8){return _0x57f1a8['node']['worldTrans'+'form']['scaleSign'];}class uC{constructor(_0x581602,_0x216b38,_0xee4eb9){this['device']=_0x581602,this['rootNode']=_0x216b38,this['scene']=_0xee4eb9,this['_init']=!(0x3*-0x739+0x1f+-0x72f*-0x3),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x351+-0x2253*-0x1+0x36c*-0xb,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x3cf5ab,_0xed29b9,_0x16c552,_0xbb0bfc,_0xf1c9d3){if(_0xbb0bfc===void(0x2424*0x1+0x44*0x67+0x40*-0xfe)&&(_0xbb0bfc=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xbb0bfc]){b['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xbb0bfc+('\x20already\x20e'+'xists.'));return;}const _0x4c6057=new rt(_0xbb0bfc,_0x3cf5ab,_0xed29b9,_0x16c552,_0xf1c9d3);return this['_batchGrou'+'ps'][_0xbb0bfc]=_0x4c6057,_0x4c6057;}['removeGrou'+'p'](_0x319146){if(!this['_batchGrou'+'ps'][_0x319146]){b['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x319146+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x2097e8=[];for(let _0x2b3af8=0x1bf5+0xe3d+-0x2a32;_0x2b3af8<this['_batchList']['length'];_0x2b3af8++)this['_batchList'][_0x2b3af8]['batchGroup'+'Id']===_0x319146?this['destroyBat'+'ch'](this['_batchList'][_0x2b3af8]):_0x2097e8['push'](this['_batchList'][_0x2b3af8]);this['_batchList']=_0x2097e8,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x319146),delete this['_batchGrou'+'ps'][_0x319146];}['markGroupD'+'irty'](_0xd8b7d5){this['_dirtyGrou'+'ps']['indexOf'](_0xd8b7d5)<-0xcdf*-0x1+0x211*-0xd+0xdfe&&this['_dirtyGrou'+'ps']['push'](_0xd8b7d5);}['getGroupBy'+'Name'](_0xa238e7){const _0x38e805=this['_batchGrou'+'ps'];for(const _0x3b4c66 in _0x38e805)if(_0x38e805['hasOwnProp'+'erty'](_0x3b4c66)&&_0x38e805[_0x3b4c66]['name']===_0xa238e7)return _0x38e805[_0x3b4c66];return null;}['getBatches'](_0x155d44){const _0x57ec9e=[],_0x9991a0=this['_batchList']['length'];for(let _0x5cafd5=0x89c*-0x1+0x1dd6+-0x13*0x11e;_0x5cafd5<_0x9991a0;_0x5cafd5++){const _0x27c2dc=this['_batchList'][_0x5cafd5];_0x27c2dc['batchGroup'+'Id']===_0x155d44&&_0x57ec9e['push'](_0x27c2dc);}return _0x57ec9e;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3a6153,_0x12857c){if(_0x3a6153['enabled']){_0x3a6153['model']&&_0x3a6153['model']['batchGroup'+'Id']===_0x12857c&&(_0x3a6153['model']['batchGroup'+'Id']=-(0x1cf9*0x1+-0xcee+0x805*-0x2)),_0x3a6153['render']&&_0x3a6153['render']['batchGroup'+'Id']===_0x12857c&&(_0x3a6153['render']['batchGroup'+'Id']=-(-0x2471+0x1*-0x12af+0x3721)),_0x3a6153['element']&&_0x3a6153['element']['batchGroup'+'Id']===_0x12857c&&(_0x3a6153['element']['batchGroup'+'Id']=-(-0x11a4+-0x15df+0x2784)),_0x3a6153['sprite']&&_0x3a6153['sprite']['batchGroup'+'Id']===_0x12857c&&(_0x3a6153['sprite']['batchGroup'+'Id']=-(-0x5*0x78b+0x35*0xa7+-0x325*-0x1));for(let _0x5a6d29=-0x16eb+0x268a+0x1*-0xf9f;_0x5a6d29<_0x3a6153['_children']['length'];_0x5a6d29++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3a6153['_children'][_0x5a6d29],_0x12857c);}}['insert'](_0x281bdf,_0x76ee83,_0x5c9d84){const _0x2bfba7=this['_batchGrou'+'ps'][_0x76ee83];b['assert'](_0x2bfba7,'Invalid\x20ba'+'tch\x20'+_0x76ee83+'\x20insertion'),_0x2bfba7&&_0x2bfba7['_obj'][_0x281bdf]['indexOf'](_0x5c9d84)<-0x6eb*0x4+-0x16f8+0x32a4&&(_0x2bfba7['_obj'][_0x281bdf]['push'](_0x5c9d84),this['markGroupD'+'irty'](_0x76ee83));}['remove'](_0x217399,_0x325efc,_0x16b852){const _0x101129=this['_batchGrou'+'ps'][_0x325efc];if(b['assert'](_0x101129,'Invalid\x20ba'+'tch\x20'+_0x325efc+'\x20insertion'),_0x101129){const _0x47de4f=_0x101129['_obj'][_0x217399]['indexOf'](_0x16b852);_0x47de4f>=-0x18b4+0x2147+-0x893&&(_0x101129['_obj'][_0x217399]['splice'](_0x47de4f,-0x1*-0x172d+-0xb*0x26+0x397*-0x6),this['markGroupD'+'irty'](_0x325efc));}}['_extractRe'+'nder'](_0x239f95,_0x4d02a5,_0x5c7db3,_0x29c8e4){return _0x239f95['render']&&(_0x4d02a5=_0x29c8e4[_0x239f95['render']['batchGroup'+'Id']]=_0x4d02a5['concat'](_0x239f95['render']['meshInstan'+'ces']),_0x239f95['render']['removeFrom'+'Layers']()),_0x4d02a5;}['_extractMo'+'del'](_0x41ab8b,_0x24b371,_0x195a70,_0x5f141d){return _0x41ab8b['model']&&_0x41ab8b['model']['model']&&(_0x24b371=_0x5f141d[_0x41ab8b['model']['batchGroup'+'Id']]=_0x24b371['concat'](_0x41ab8b['model']['meshInstan'+'ces']),_0x41ab8b['model']['removeMode'+'lFromLayer'+'s'](),_0x41ab8b['model']['_batchGrou'+'p']=_0x195a70),_0x24b371;}['_extractEl'+'ement'](_0x11b475,_0x1041b5,_0x554880){if(!_0x11b475['element'])return;let _0x323584=!(0x4dc+-0x1f92+0x3d1*0x7);_0x11b475['element']['_text']&&_0x11b475['element']['_text']['_model']['meshInstan'+'ces']['length']>0x11fe+0x1f*0x123+0x1*-0x353b?(_0x1041b5['push'](_0x11b475['element']['_text']['_model']['meshInstan'+'ces'][0x1c0e+0x212e+0x2*-0x1e9e]),_0x11b475['element']['removeMode'+'lFromLayer'+'s'](_0x11b475['element']['_text']['_model']),_0x323584=!(-0x21b4+0x1*-0x22d+-0xa7*-0x37)):_0x11b475['element']['_image']&&(_0x1041b5['push'](_0x11b475['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x11b475['element']['removeMode'+'lFromLayer'+'s'](_0x11b475['element']['_image']['_renderabl'+'e']['model']),_0x11b475['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x1041b5['push'](_0x11b475['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x11b475['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x11b475['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x11b475['element']['_dirtifyMa'+'sk'](),_0x11b475['element']['_onPrerend'+'er']())),_0x323584=!(0x2e7*-0xc+0x2591+-0x2bd*0x1)),_0x323584&&(_0x554880['_ui']=!(-0x1ae5+0x44c*-0x2+-0x719*-0x5),_0x11b475['element']['_batchGrou'+'p']=_0x554880);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x565c1e,_0x482874){for(let _0x22636d=0x2*0x1d2+-0x2*-0x116+-0x5d0;_0x22636d<_0x482874['length'];_0x22636d++){const _0x59b62d=_0x482874[_0x22636d],_0x179091=this['_batchGrou'+'ps'][_0x59b62d];if(!_0x179091)continue;let _0x2a7047=_0x565c1e[_0x59b62d];_0x2a7047||(_0x2a7047=_0x565c1e[_0x59b62d]=[]);for(let _0x3070f7=-0x1716+-0x138a+0x2aa0;_0x3070f7<_0x179091['_obj']['model']['length'];_0x3070f7++)_0x2a7047=this['_extractMo'+'del'](_0x179091['_obj']['model'][_0x3070f7],_0x2a7047,_0x179091,_0x565c1e);for(let _0x5312cf=-0xa7*0x8+0x192d+-0xd*0x189;_0x5312cf<_0x179091['_obj']['render']['length'];_0x5312cf++)_0x2a7047=this['_extractRe'+'nder'](_0x179091['_obj']['render'][_0x5312cf],_0x2a7047,_0x179091,_0x565c1e);for(let _0x25e851=0x607+-0x6ca+-0x1*-0xc3;_0x25e851<_0x179091['_obj']['element']['length'];_0x25e851++)this['_extractEl'+'ement'](_0x179091['_obj']['element'][_0x25e851],_0x2a7047,_0x179091);for(let _0x3d3a7c=-0x1904+-0x2561+0x1*0x3e65;_0x3d3a7c<_0x179091['_obj']['sprite']['length'];_0x3d3a7c++){const _0xb23b9c=_0x179091['_obj']['sprite'][_0x3d3a7c];_0xb23b9c['sprite']&&_0xb23b9c['sprite']['_meshInsta'+'nce']&&(_0x179091['dynamic']||_0xb23b9c['sprite']['sprite']['_renderMod'+'e']===Pi)&&(_0x2a7047['push'](_0xb23b9c['sprite']['_meshInsta'+'nce']),_0xb23b9c['sprite']['removeMode'+'lFromLayer'+'s'](),_0x179091['_sprite']=!(-0x294*-0x8+0xbbb+-0xb*0x2f1),_0xb23b9c['sprite']['_batchGrou'+'p']=_0x179091);}}}['generate'](_0x270c47){const _0x37a8bf={};_0x270c47||(_0x270c47=Object['keys'](this['_batchGrou'+'ps']));const _0x2a8048=[];for(let _0x37b4b8=-0xa8f+-0x1*-0x2353+-0x14*0x13d;_0x37b4b8<this['_batchList']['length'];_0x37b4b8++){if(_0x270c47['indexOf'](this['_batchList'][_0x37b4b8]['batchGroup'+'Id'])<0x6ff+0x18e7+-0x1fe6){_0x2a8048['push'](this['_batchList'][_0x37b4b8]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x37b4b8]);}if(this['_batchList']=_0x2a8048,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x37a8bf,_0x270c47),_0x270c47===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x1ac0+0xb6+0x1*0x1a0a;else{const _0x3aa12e=[];for(let _0x256d06=-0x175*0xa+-0x1*-0x23b+0xc57;_0x256d06<this['_dirtyGrou'+'ps']['length'];_0x256d06++)_0x270c47['indexOf'](this['_dirtyGrou'+'ps'][_0x256d06])<0x31*-0xbd+0xeea+0x1543&&_0x3aa12e['push'](this['_dirtyGrou'+'ps'][_0x256d06]);this['_dirtyGrou'+'ps']=_0x3aa12e;}let _0x11684e,_0x277800,_0x5c6e7d,_0xc535c3;for(const _0xbfc89c in _0x37a8bf)if(_0x37a8bf['hasOwnProp'+'erty'](_0xbfc89c)){if(_0x11684e=_0x37a8bf[_0xbfc89c],_0x5c6e7d=this['_batchGrou'+'ps'][_0xbfc89c],!_0x5c6e7d){b['error']('batch\x20grou'+'p\x20'+_0xbfc89c+'\x20not\x20found');continue;}_0x277800=this['prepare'](_0x11684e,_0x5c6e7d['dynamic'],_0x5c6e7d['maxAabbSiz'+'e'],_0x5c6e7d['_ui']||_0x5c6e7d['_sprite']);for(let _0x293f56=-0xa53+-0x11f8+0x1c4b*0x1;_0x293f56<_0x277800['length'];_0x293f56++)_0xc535c3=this['create'](_0x277800[_0x293f56],_0x5c6e7d['dynamic'],parseInt(_0xbfc89c,-0xdc6+-0x120*-0x1a+-0xf70)),_0xc535c3&&_0xc535c3['addToLayer'+'s'](this['scene'],_0x5c6e7d['layers']);}}['prepare'](_0x8ddb8d,_0xe2622e,_0x47e34c=Number['POSITIVE_I'+'NFINITY'],_0x40fc1a){if(_0x8ddb8d['length']===0x1298+0xd8b+-0x2023)return[];const _0x1eaabe=_0x47e34c*(-0x1*0x1dad+0x10*-0x1fe+0x3d8d+0.5),_0x4fae12=-0x11a3+0x1*0x7b7+0xdec,_0x33ba80=0x22d1*-0xce297+-0x4156f7b8+0x7*0x6dfe4992,_0x2f84e0=new ve(),_0x5afd6b=new ve();let _0xbc1a0f=null,_0x3a9c30;const _0xecb9b5=[];let _0x3023a1=-0xcba+0xc57+0x1*0x63;_0x40fc1a&&_0x8ddb8d['sort']((_0x1a3433,_0x2799b5)=>_0x1a3433['drawOrder']-_0x2799b5['drawOrder']);let _0x221366=_0x8ddb8d,_0x542e99;const _0x556da4=_0x40fc1a?function(_0x3b34cb){_0xbc1a0f?_0xbc1a0f['add'](_0x3b34cb['aabb']):_0xbc1a0f=_0x3b34cb['aabb']['clone'](),_0x542e99['push'](_0x3b34cb);}:function(_0x1d61da){_0x542e99['push'](_0x1d61da);};for(;_0x221366['length']>-0x18e1+-0x1aca+-0x1*-0x33ab;){_0xecb9b5[_0x3023a1]=[_0x221366[-0x5f8*-0x1+-0x11a0+0xba8]],_0x542e99=[];const _0x5e1864=_0x221366[-0x1*0x2537+-0x191+0x26c8]['material'],_0x40b567=_0x221366[-0x22f9+-0xcd+0x11e3*0x2]['layer'],_0x1f8fcb=_0x221366[0xf4f+0x11f2*-0x2+0x1495]['_shaderDef'+'s'],_0x24dc11=_0x221366[0x196f+0x1993+0x2*-0x1981]['parameters'],_0x1c1782=_0x221366[-0x1*-0x1031+0x80*0x43+-0x31b1*0x1]['stencilFro'+'nt'];let _0x1f2971=_0x221366[-0x3ab*0x8+-0x1c9+0x1f21]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x327d23=_0x221366[0x1263+-0x3ac*0xa+-0x169*-0xd]['drawOrder'];_0x2f84e0['copy'](_0x221366[0xe34+-0xea+0xe*-0xf3]['aabb']);const _0x1d8a8f=Td(_0x221366[0x259e+0x1*0x1f4d+-0x44eb]),_0x39311d=_0x221366[0x1*0x8e3+-0x1*0x1132+-0x2c5*-0x3]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x36ba4d=_0x221366[0x11ea+0x998*0x2+-0x251a]['mesh']['primitive'][0x1999+-0x1209+-0x790]['indexed'];_0xbc1a0f=null;for(let _0x179e5f=0x1*0x1348+0x160+0x11*-0x137;_0x179e5f<_0x221366['length'];_0x179e5f++){const _0x41d199=_0x221366[_0x179e5f];if(_0xe2622e&&_0xecb9b5[_0x3023a1]['length']>=_0x4fae12){_0x542e99=_0x542e99['concat'](_0x221366['slice'](_0x179e5f));break;}if(_0x5e1864!==_0x41d199['material']||_0x40b567!==_0x41d199['layer']||_0x39311d!==_0x41d199['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x36ba4d!==_0x41d199['mesh']['primitive'][0x1012+-0x5*0x178+-0x8ba]['indexed']||_0x1f8fcb!==_0x41d199['_shaderDef'+'s']||_0x1f2971+_0x41d199['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x33ba80){_0x556da4(_0x41d199);continue;}if(_0x5afd6b['copy'](_0x2f84e0),_0x5afd6b['add'](_0x41d199['aabb']),_0x5afd6b['halfExtent'+'s']['x']>_0x1eaabe||_0x5afd6b['halfExtent'+'s']['y']>_0x1eaabe||_0x5afd6b['halfExtent'+'s']['z']>_0x1eaabe){_0x556da4(_0x41d199);continue;}if(_0x1c1782&&(!(_0x3a9c30=_0x41d199['stencilFro'+'nt'])||_0x1c1782['func']!==_0x3a9c30['func']||_0x1c1782['zpass']!==_0x3a9c30['zpass'])){_0x556da4(_0x41d199);continue;}if(_0x1d8a8f!==Td(_0x41d199)){_0x556da4(_0x41d199);continue;}if(!dC(_0x24dc11,_0x41d199['parameters'])){_0x556da4(_0x41d199);continue;}if(_0x40fc1a&&_0xbc1a0f&&_0xbc1a0f['intersects'](_0x41d199['aabb'])&&_0x41d199['drawOrder']!==_0x327d23){_0x556da4(_0x41d199);continue;}_0x2f84e0['add'](_0x41d199['aabb']),_0x1f2971+=_0x41d199['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0xecb9b5[_0x3023a1]['push'](_0x41d199);}_0x3023a1++,_0x221366=_0x542e99;}return _0xecb9b5;}['collectBat'+'chedMeshDa'+'ta'](_0xb757e3,_0xd0ca54){let _0x57a3b3=null,_0xd77cac=-0x133e+0x1d79*-0x1+0x30b7,_0x24ae25=0x1951+0x69d*-0x1+-0xe*0x156,_0x11f41a=null;for(let _0x2080c5=0x171c+-0xbf*0x34+-0x7d8*-0x2;_0x2080c5<_0xb757e3['length'];_0x2080c5++)if(_0xb757e3[_0x2080c5]['visible']){const _0x43def4=_0xb757e3[_0x2080c5]['mesh'],_0x2edcf2=_0x43def4['vertexBuff'+'er']['numVertice'+'s'];if(_0xd77cac+=_0x2edcf2,_0x43def4['primitive'][0x251b+-0x170d+-0x101*0xe]['indexed'])_0x24ae25+=_0x43def4['primitive'][-0x76f+0x1*0xd21+-0x5b2]['count'];else{const _0x31da1f=_0x43def4['primitive'][0x239+0x141+-0x37a]['type'];(_0x31da1f===Kr||_0x31da1f===lr)&&_0x43def4['primitive'][0x76b+-0x3*0x7a2+0x3*0x529]['count']===-0x203e*0x1+-0x2259+-0x3eb*-0x11&&(_0x24ae25+=-0x1*0x9b8+-0x14eb+0x1ea9);}if(!_0x57a3b3){_0x11f41a=_0xb757e3[_0x2080c5]['material'],_0x57a3b3={};const _0x2cac73=_0x43def4['vertexBuff'+'er']['format']['elements'];for(let _0x4d2223=-0x1290+0x5*-0x479+0x28ed;_0x4d2223<_0x2cac73['length'];_0x4d2223++){const _0xe6fe0f=_0x2cac73[_0x4d2223]['name'];_0x57a3b3[_0xe6fe0f]={'numComponents':_0x2cac73[_0x4d2223]['numCompone'+'nts'],'dataType':_0x2cac73[_0x4d2223]['dataType'],'normalize':_0x2cac73[_0x4d2223]['normalize'],'count':0x0};}_0xd0ca54&&(_0x57a3b3[Jt]={'numComponents':0x1,'dataType':Re,'normalize':!(0x1*0x611+-0x166a+-0x12b*-0xe),'count':0x0});}}return{'streams':_0x57a3b3,'batchNumVerts':_0xd77cac,'batchNumIndices':_0x24ae25,'material':_0x11f41a};}['create'](_0x34f93a,_0x697a5d,_0x585edc){const _0x2902f0=ae();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x15d5+0x3*-0x196+-0x1113));let _0x2fd028=null,_0x347cce,_0x30bf2d,_0x50d6a9,_0x34bd49=null;const _0x32017a=this['collectBat'+'chedMeshDa'+'ta'](_0x34f93a,_0x697a5d);if(_0x32017a['streams']){const _0x9e7e39=_0x32017a['streams'];let _0x1165f0=_0x32017a['material'];const _0x24ed63=_0x32017a['batchNumVe'+'rts'],_0x5b5c52=_0x32017a['batchNumIn'+'dices'];_0x34bd49=new Um(_0x34f93a,_0x697a5d,_0x585edc),this['_batchList']['push'](_0x34bd49);let _0x5850ab,_0x2c2d54,_0x242e77,_0x1ae445=0x1*-0x10fd+-0xdb8+-0x463*-0x7,_0x9e4862=0xcad+0x34d*0x5+-0x1d2e,_0x9ef344;const _0x4e1424=_0x24ed63<=0x1c9fe+-0xc93d+-0xc2*0x1?Uint16Array:Uint32Array,_0x4339e1=new _0x4e1424(_0x5b5c52);for(_0x347cce in _0x9e7e39)_0x2fd028=_0x9e7e39[_0x347cce],_0x2fd028['typeArrayT'+'ype']=fa[_0x2fd028['dataType']],_0x2fd028['elementByt'+'eSize']=So[_0x2fd028['dataType']],_0x2fd028['buffer']=new _0x2fd028['typeArrayT'+'ype'](_0x24ed63*_0x2fd028['numCompone'+'nts']);for(let _0x41f650=0x830+0x178c+-0x1fbc;_0x41f650<_0x34f93a['length'];_0x41f650++)if(_0x34f93a[_0x41f650]['visible']){_0x30bf2d=_0x34f93a[_0x41f650]['mesh'],_0x50d6a9=_0x30bf2d['vertexBuff'+'er']['numVertice'+'s'],_0x697a5d||(_0x9ef344=_0x34f93a[_0x41f650]['node']['getWorldTr'+'ansform']());for(_0x347cce in _0x9e7e39)if(_0x347cce!==Jt){_0x2fd028=_0x9e7e39[_0x347cce];const _0x335fad=new _0x2fd028['typeArrayT'+'ype'](_0x2fd028['buffer']['buffer'],_0x2fd028['elementByt'+'eSize']*_0x2fd028['count']),_0x547960=_0x30bf2d['getVertexS'+'tream'](_0x347cce,_0x335fad)*_0x2fd028['numCompone'+'nts'];if(_0x2fd028['count']+=_0x547960,!_0x697a5d&&_0x2fd028['numCompone'+'nts']>=-0x1*-0x1b65+-0x74f*0x4+0x1da){if(_0x347cce===Xe){const _0x310b2f=_0x9ef344['data'],_0x42da72=_0x310b2f[0x1711+0x213*-0x2+0xa7*-0x1d],_0x5af276=_0x310b2f[0xc1a*-0x3+0x49*0x83+-0x4*0x43],_0x2cb56f=_0x310b2f[-0x2384+0xb*0x297+0x709],_0x17bd9a=_0x310b2f[-0x1c8b*0x1+-0x26a+0x1ef9],_0x1a9476=_0x310b2f[-0xe4e+0x6*-0x624+0x332b],_0x5a7728=_0x310b2f[-0x1*0x837+0x2b9*-0xb+0x2630],_0x228d84=_0x310b2f[-0x4*0x871+0x2*0xc23+0x35*0x2e],_0x20f10e=_0x310b2f[-0x20a8+0x23f6+-0x345],_0x3008da=_0x310b2f[0x23d1+0x1*-0x136d+0x82d*-0x2],_0x31a455=_0x310b2f[-0x1*-0x261a+0x3*-0x9fd+-0x817],_0x1639b4=_0x310b2f[-0x1*0x11f2+-0x1e61+-0x1830*-0x2],_0x51c433=_0x310b2f[-0x212d+0xc60+0x14db];let _0x4fa79e,_0x567447,_0x147efe;for(let _0x3c978f=0x8c9+-0x1cd*-0x3+-0x8*0x1c6;_0x3c978f<_0x547960;_0x3c978f+=_0x2fd028['numCompone'+'nts'])_0x4fa79e=_0x335fad[_0x3c978f],_0x567447=_0x335fad[_0x3c978f+(0x2*-0x43e+-0x1e2c+0xce3*0x3)],_0x147efe=_0x335fad[_0x3c978f+(-0x535+-0x6b+0x5a2)],_0x335fad[_0x3c978f]=_0x4fa79e*_0x42da72+_0x567447*_0x17bd9a+_0x147efe*_0x228d84+_0x31a455,_0x335fad[_0x3c978f+(-0x1*0x1877+-0x7f6*0x1+0x1037*0x2)]=_0x4fa79e*_0x5af276+_0x567447*_0x1a9476+_0x147efe*_0x20f10e+_0x1639b4,_0x335fad[_0x3c978f+(-0x4c0*0x8+0x1af8+0xb0a)]=_0x4fa79e*_0x2cb56f+_0x567447*_0x5a7728+_0x147efe*_0x3008da+_0x51c433;}else{if(_0x347cce===ss||_0x347cce===si){Ym['invertMat4'](_0x9ef344)['transpose']();const [_0x315460,_0x5e57a7,_0x1cb653,_0x2d962c,_0x2ea260,_0xa797c8,_0x68c49,_0x24373b,_0x22fb7f]=Ym['data'];let _0x372c27,_0x23f5bb,_0x404373;for(let _0x265381=0xc22+0xd*-0x25+-0x7d*0x15;_0x265381<_0x547960;_0x265381+=_0x2fd028['numCompone'+'nts'])_0x372c27=_0x335fad[_0x265381],_0x23f5bb=_0x335fad[_0x265381+(-0x1bd8+0x14d5*-0x1+0x30ae)],_0x404373=_0x335fad[_0x265381+(-0x90f*-0x1+-0x1fb+-0x712)],_0x335fad[_0x265381]=_0x372c27*_0x315460+_0x23f5bb*_0x2d962c+_0x404373*_0x68c49,_0x335fad[_0x265381+(-0x138e+-0x461+0x17f0)]=_0x372c27*_0x5e57a7+_0x23f5bb*_0x2ea260+_0x404373*_0x24373b,_0x335fad[_0x265381+(-0x819+-0xe8b+-0xdf*-0x1a)]=_0x372c27*_0x1cb653+_0x23f5bb*_0xa797c8+_0x404373*_0x22fb7f;}}}}if(_0x697a5d){_0x2fd028=_0x9e7e39[Jt];for(let _0x48d87c=0x1e5*-0x1+-0x5b*0x43+-0x892*-0x3;_0x48d87c<_0x50d6a9;_0x48d87c++)_0x2fd028['buffer'][_0x2fd028['count']++]=_0x41f650;}if(_0x30bf2d['primitive'][-0x7c4*0x1+-0x1cb5*0x1+0x1*0x2479]['indexed']){_0x5850ab=_0x30bf2d['primitive'][-0x12f9+-0x1fbe+0x32b7]['base'],_0x2c2d54=_0x30bf2d['primitive'][-0x20af+-0x16db*-0x1+-0x4ea*-0x2]['count'];const _0x9bcf2d=_0x30bf2d['indexBuffe'+'r'][0x3*-0x79f+0x449+0x1294]['getFormat']();_0x242e77=new Nh[_0x9bcf2d](_0x30bf2d['indexBuffe'+'r'][-0x59e*0x4+-0x108*-0x3+0x1360]['storage']);}else{const _0x40435c=_0x30bf2d['primitive'][-0x24f4+0x1*0x269f+0x7*-0x3d]['type'];if(_0x40435c===Kr||_0x40435c===lr){if(_0x30bf2d['primitive'][0x3*-0x67a+0x22e5*-0x1+0x1*0x3653]['count']===0x5cf*0x2+0x3*0x11f+-0xef7)_0x5850ab=0x1*-0xe3b+-0xafd+0x1938,_0x2c2d54=0x13f4*0x1+0x1*0x1093+-0x2481,_0x242e77=_0x40435c===Kr?hC:cC;else{_0x2c2d54=-0xe4a+-0x1*-0x1efe+-0x10b4;continue;}}}for(let _0x1e0142=-0xcce+-0x2585+0x3253*0x1;_0x1e0142<_0x2c2d54;_0x1e0142++)_0x4339e1[_0x1e0142+_0x9e4862]=_0x242e77[_0x5850ab+_0x1e0142]+_0x1ae445;_0x9e4862+=_0x2c2d54,_0x1ae445+=_0x50d6a9;}_0x30bf2d=new ke(this['device']);for(_0x347cce in _0x9e7e39)_0x2fd028=_0x9e7e39[_0x347cce],_0x30bf2d['setVertexS'+'tream'](_0x347cce,_0x2fd028['buffer'],_0x2fd028['numCompone'+'nts'],void(-0x2e*-0x97+0x27*0x97+0x3223*-0x1),_0x2fd028['dataType'],_0x2fd028['normalize']);_0x4339e1['length']>0x1232+0x346*-0x8+0x3ff*0x2&&_0x30bf2d['setIndices'](_0x4339e1),_0x30bf2d['update'](Fs,!(-0x2*0x48b+-0x49a*0x2+0x124b)),_0x697a5d&&(_0x1165f0=_0x1165f0['clone'](),_0x1165f0['update']());const _0x28ac34=new Be(_0x30bf2d,_0x1165f0,this['rootNode']);_0x28ac34['castShadow']=_0x34bd49['origMeshIn'+'stances'][0xf6a+0x56*-0xd+-0x65*0x1c]['castShadow'],_0x28ac34['parameters']=_0x34bd49['origMeshIn'+'stances'][-0x148d+0x1a3*0xb+0xa3*0x4]['parameters'],_0x28ac34['layer']=_0x34bd49['origMeshIn'+'stances'][0xf05*0x2+0x35*0x25+-0x25b3]['layer'],_0x28ac34['_shaderDef'+'s']=_0x34bd49['origMeshIn'+'stances'][-0x6b0+0x2ca+0x3e6]['_shaderDef'+'s'],_0x28ac34['batching']=!(-0x6a9+0x22*-0x89+0x18db),_0x28ac34['cull']=_0x34bd49['origMeshIn'+'stances'][-0x1724+0x58b+-0x1*-0x1199]['cull'];const _0x990527=this['_batchGrou'+'ps'][_0x585edc];if(_0x990527&&_0x990527['_ui']&&(_0x28ac34['cull']=!(0x6*0x5e5+-0x266*0x1+-0x20f7)),_0x697a5d){const _0x52aa5b=[];for(let _0x2bea29=-0x1*0x1a13+0x2*0x46a+0x373*0x5;_0x2bea29<_0x34bd49['origMeshIn'+'stances']['length'];_0x2bea29++)_0x52aa5b['push'](_0x34bd49['origMeshIn'+'stances'][_0x2bea29]['node']);_0x28ac34['skinInstan'+'ce']=new Gm(this['device'],_0x52aa5b,this['rootNode']);}_0x28ac34['_updateAab'+'b']=!(-0xbaa+0xae*0x30+-0x14f5),_0x28ac34['drawOrder']=_0x34bd49['origMeshIn'+'stances'][0x118d*0x1+-0x1b*-0x7+0x925*-0x2]['drawOrder'],_0x28ac34['stencilFro'+'nt']=_0x34bd49['origMeshIn'+'stances'][0x8e7+-0x998*0x3+0x13e1]['stencilFro'+'nt'],_0x28ac34['stencilBac'+'k']=_0x34bd49['origMeshIn'+'stances'][0x1*0xccd+0x16*-0x17e+-0x6ad*-0x3]['stencilBac'+'k'],_0x28ac34['flipFacesF'+'actor']=Td(_0x34bd49['origMeshIn'+'stances'][0x18c1+0x1e8c+-0x374d]),_0x28ac34['castShadow']=_0x34bd49['origMeshIn'+'stances'][-0x1*-0x1bc5+0x4ce+-0x1*0x2093]['castShadow'],_0x34bd49['meshInstan'+'ce']=_0x28ac34,_0x34bd49['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=ae()-_0x2902f0,_0x34bd49;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0xe46+0x134+0xd12&&this['generate'](this['_dirtyGrou'+'ps']);const _0x3ecd21=ae();for(let _0x495ed4=-0xb*-0x30a+0x31a+-0x29c*0xe;_0x495ed4<this['_batchList']['length'];_0x495ed4++)this['_batchList'][_0x495ed4]['dynamic']&&this['_batchList'][_0x495ed4]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=ae()-_0x3ecd21;}['clone'](_0xbb734d,_0x118371){const _0x45f28d=new Um(_0x118371,_0xbb734d['dynamic'],_0xbb734d['batchGroup'+'Id']);this['_batchList']['push'](_0x45f28d);const _0x340505=[];for(let _0x271bdf=-0x2029+-0x21*-0x11c+-0x473;_0x271bdf<_0x118371['length'];_0x271bdf++)_0x340505['push'](_0x118371[_0x271bdf]['node']);return _0x45f28d['meshInstan'+'ce']=new Be(_0xbb734d['meshInstan'+'ce']['mesh'],_0xbb734d['meshInstan'+'ce']['material'],_0xbb734d['meshInstan'+'ce']['node']),_0x45f28d['meshInstan'+'ce']['_updateAab'+'b']=!(-0x1750+-0x4f6+0x17d*0x13),_0x45f28d['meshInstan'+'ce']['parameters']=_0x118371[-0x1*-0x1da5+-0x1aaf+-0x2f6*0x1]['parameters'],_0x45f28d['meshInstan'+'ce']['cull']=_0x118371[0xc5+0x1*-0x2134+0x206f*0x1]['cull'],_0x45f28d['meshInstan'+'ce']['layer']=_0x118371[-0xa11+0x7c3*-0x4+0x291d]['layer'],_0xbb734d['dynamic']&&(_0x45f28d['meshInstan'+'ce']['skinInstan'+'ce']=new Gm(this['device'],_0x340505,this['rootNode'])),_0x45f28d['meshInstan'+'ce']['castShadow']=_0xbb734d['meshInstan'+'ce']['castShadow'],_0x45f28d;}['destroyBat'+'ch'](_0x2a61c9){_0x2a61c9['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x2a61c9['batchGroup'+'Id']]['layers']);}}const Zm='uSceneColo'+'rMap';class fC extends gs{constructor(){super(...arguments),c(this,'colorRende'+'rTarget',null),c(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x379b83,_0x534a91,_0x1ed4f3){if((_0x379b83==null?void(0xb47*-0x2+0x1*-0x25d9+0x3c67):_0x379b83['colorBuffe'+'r']['format'])!==_0x1ed4f3)return!(0xca8+-0x15f5+0x94d);const _0x6b03b1=(_0x534a91==null?void(0xbf9+0x22d8+-0x2ed1):_0x534a91['width'])||this['device']['width'],_0x306526=(_0x534a91==null?void(0x1edd*0x1+0x25+-0x1f02):_0x534a91['height'])||this['device']['height'];return!_0x379b83||_0x6b03b1!==_0x379b83['width']||_0x306526!==_0x379b83['height'];}['allocateRe'+'nderTarget'](_0x29d006,_0x626b89,_0x102ebe,_0x519b8e){const _0x2315c1=new ce(_0x102ebe,{'name':Zm,'format':_0x519b8e,'width':_0x626b89?_0x626b89['colorBuffe'+'r']['width']:_0x102ebe['width'],'height':_0x626b89?_0x626b89['colorBuffe'+'r']['height']:_0x102ebe['height'],'mipmaps':!(-0xc79+-0x2216*-0x1+-0x159d),'minFilter':an,'magFilter':at,'addressU':oe,'addressV':oe});return _0x29d006?(_0x29d006['destroyFra'+'meBuffers'](),_0x29d006['_colorBuff'+'er']=_0x2315c1,_0x29d006['_colorBuff'+'ers']=[_0x2315c1]):_0x29d006=new St({'name':'ColorGrabR'+'T','colorBuffer':_0x2315c1,'depth':!(0x5e3+0x5*0x5b3+-0x2261),'stencil':!(-0x142a+0x635+0x1*0xdf6),'autoResolve':!(-0x2*0xe55+-0x1fed+0x22a*0x1c)}),_0x29d006;}['releaseRen'+'derTarget'](_0x52d457){_0x52d457&&(_0x52d457['destroyTex'+'tureBuffer'+'s'](),_0x52d457['destroy']());}['frameUpdat'+'e'](){const _0x4c3bdc=this['device'],_0x555c06=this['source'],_0x49a778=(_0x555c06==null?void(0x1*-0x1705+-0xa39+0x213e):_0x555c06['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x555c06==null?void(0x1*0x59f+-0x26fa+0x215b):_0x555c06['colorBuffe'+'r'],_0x49a778)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x555c06,_0x4c3bdc,_0x49a778));const _0x4b6c2d=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4c3bdc['scope']['resolve'](Zm)['setValue'](_0x4b6c2d);}['execute'](){const _0x6e2912=this['device'];G['pushGpuMar'+'ker'](_0x6e2912,'GRAB-COLOR');const _0x1081ae=this['source'],_0x2c1f0d=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x6e2912['isWebGPU']?(_0x6e2912['copyRender'+'Target'](_0x1081ae,this['colorRende'+'rTarget'],!(-0x1267+-0x3f*-0x6+0x10ed*0x1),!(-0x839*0x1+0x55f*0x7+-0x1d5f)),_0x6e2912['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x6e2912['copyRender'+'Target'](_0x1081ae,this['colorRende'+'rTarget'],!(-0x3df*-0x2+0xcb4+-0x1472),!(0x1f31+0x216+-0x1*0x2146)),_0x6e2912['activeText'+'ure'](_0x6e2912['maxCombine'+'dTextures']-(-0x1*0x23ae+0x1da*0x12+0x25b)),_0x6e2912['bindTextur'+'e'](_0x2c1f0d),_0x6e2912['gl']['generateMi'+'pmap'](_0x2c1f0d['impl']['_glTarget'])),G['popGpuMark'+'er'](_0x6e2912);}}const Qm='uSceneDept'+'hMap';class pC extends gs{constructor(_0x120254,_0x2eb7e2){super(_0x120254),c(this,'depthRende'+'rTarget',null),c(this,'camera',null),this['camera']=_0x2eb7e2;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x42e2d6,_0xac4d57){const _0x49507b=(_0xac4d57==null?void(0x522+-0x667+0x19*0xd):_0xac4d57['width'])||this['device']['width'],_0x3e8ab2=(_0xac4d57==null?void(0x44c+0x2*0x9e8+0xc0e*-0x2):_0xac4d57['height'])||this['device']['height'];return!_0x42e2d6||_0x49507b!==_0x42e2d6['width']||_0x3e8ab2!==_0x42e2d6['height'];}['allocateRe'+'nderTarget'](_0x48120e,_0x1d300a,_0x20bcb0,_0x29a5b3,_0x117e0f){const _0x53a48b=new ce(_0x20bcb0,{'name':Qm,'format':_0x29a5b3,'width':_0x1d300a?_0x1d300a['colorBuffe'+'r']['width']:_0x20bcb0['width'],'height':_0x1d300a?_0x1d300a['colorBuffe'+'r']['height']:_0x20bcb0['height'],'mipmaps':!(-0x1b7*0x2+-0x6*0x31c+0x1617),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});return _0x48120e?(_0x48120e['destroyFra'+'meBuffers'](),_0x117e0f?_0x48120e['_depthBuff'+'er']=_0x53a48b:(_0x48120e['_colorBuff'+'er']=_0x53a48b,_0x48120e['_colorBuff'+'ers']=[_0x53a48b])):_0x48120e=new St({'name':'DepthGrabR'+'T','colorBuffer':_0x117e0f?null:_0x53a48b,'depthBuffer':_0x117e0f?_0x53a48b:null,'depth':!_0x117e0f,'stencil':_0x20bcb0['supportsSt'+'encil'],'autoResolve':!(-0xd*-0x5+0x467+-0x4a7)}),_0x48120e;}['releaseRen'+'derTarget'](_0x4e8cab){_0x4e8cab&&(_0x4e8cab['destroyTex'+'tureBuffer'+'s'](),_0x4e8cab['destroy']());}['before'](){var _0x186620,_0x3a2fea;const _0x80961d=this['camera'],_0x5100e7=this['device'],_0x297adf=(_0x80961d==null?void(0x38e+-0xc23+0x895):_0x80961d['renderTarg'+'et'])??_0x5100e7['backBuffer'];let _0x5ea466=!(0x555+0xf*0x2+0x9*-0x9b),_0xd2856b=_0x297adf['stencil']?Ec:Di;_0x5100e7['isWebGPU']&&_0x297adf['samples']>0x133a+-0x9bf+0x97a*-0x1&&(_0xd2856b=Oi,_0x5ea466=!(-0x53*0x63+0x176c+0xb*0xca));const _0x59b680=((_0x186620=_0x80961d['renderTarg'+'et'])==null?void(0x1d*0x106+-0x1b71+-0x23d):_0x186620['depthBuffe'+'r'])??((_0x3a2fea=_0x80961d['renderTarg'+'et'])==null?void(-0x5b*0x11+0xfc9+-0x9be):_0x3a2fea['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x59b680)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x80961d['renderTarg'+'et'],_0x5100e7,_0xd2856b,_0x5ea466));const _0x2a665d=_0x5ea466?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x5100e7['scope']['resolve'](Qm)['setValue'](_0x2a665d);}['execute'](){const _0x29feed=this['device'];if(G['pushGpuMar'+'ker'](_0x29feed,'GRAB-DEPTH'),_0x29feed['isWebGL2']&&_0x29feed['renderTarg'+'et']['samples']>0x10*0x193+-0x2437*0x1+0x2c2*0x4){const _0x1c0660=_0x29feed['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0xd3d09c=this['depthRende'+'rTarget'];_0x29feed['renderTarg'+'et']=_0xd3d09c,_0x29feed['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x29feed,_0x1c0660,_0xd3d09c['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x29feed['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x29feed['copyRender'+'Target'](_0x29feed['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x249b*0x1+-0x1*0x111+-0x2389),!(0x11d3+0x1dd4+-0x2fa7*0x1));G['popGpuMark'+'er'](_0x29feed);}}class E0{constructor(){c(this,'_gammaCorr'+'ection',ph),c(this,'_toneMappi'+'ng',Pp),c(this,'_srgbRende'+'rTarget',!(0x1691*0x1+-0x1d7c+0x6ec)),c(this,'_ssaoEnabl'+'ed',!(0x1b4*0x1+0x2156+-0x2309)),c(this,'_fog',Ba),c(this,'_sceneDept'+'hMapLinear',!(0x1dba+-0x1b90+-0x4f*0x7)),c(this,'_hash'),c(this,'_defines',new Map()),c(this,'_definesDi'+'rty',!(0x9b0+-0x146*-0x15+-0x246e*0x1));}get['hash'](){if(this['_hash']===void(-0xd*0x224+0x493*-0x7+0x3bd9)){const _0x13b5c7=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=cn(_0x13b5c7);}return this['_hash'];}get['defines'](){const _0x2a83b5=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(0x19*0xd7+-0x21e*0x7+-0x4f*0x14),_0x2a83b5['clear'](),this['_sceneDept'+'hMapLinear']&&_0x2a83b5['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(-0xe7f+0x1*0x1058+-0xb*0x2b)),_0x2a83b5['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x2a83b5['set']('TONEMAP',m0[this['_toneMappi'+'ng']]),_0x2a83b5['set']('GAMMA',Yb[this['shaderOutp'+'utGamma']])),_0x2a83b5;}['markDirty'](){this['_hash']=void(0xb9f+-0x17*0xf5+0x8c*0x13),this['_definesDi'+'rty']=!(0x8*0x304+-0x2308+0xae8);}set['fog'](_0x2ca51b){this['_fog']!==_0x2ca51b&&(this['_fog']=_0x2ca51b,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x532a84){this['_ssaoEnabl'+'ed']!==_0x532a84&&(this['_ssaoEnabl'+'ed']=_0x532a84,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x4d0777){this['_gammaCorr'+'ectionAssi'+'gned']=!(0x12*0x141+-0x2*-0xf32+-0x34f6),this['_gammaCorr'+'ection']!==_0x4d0777&&(this['_gammaCorr'+'ection']=_0x4d0777,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x256a78){this['_toneMappi'+'ng']!==_0x256a78&&(this['_toneMappi'+'ng']=_0x256a78,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x4bef32){this['_srgbRende'+'rTarget']!==_0x4bef32&&(this['_srgbRende'+'rTarget']=_0x4bef32,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x48ce7d){this['_sceneDept'+'hMapLinear']!==_0x48ce7d&&(this['_sceneDept'+'hMapLinear']=_0x48ce7d,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===ph&&!this['_srgbRende'+'rTarget']?ph:al;}}const Mn=new A(),ja=new A(),Jm=new A(),e_=new q(),mC=[new A(),new A(),new A(),new A(),new A(),new A(),new A(),new A()];class dl{constructor(){c(this,'shaderPass'+'Info',null),c(this,'renderPass'+'ColorGrab',null),c(this,'renderPass'+'DepthGrab',null),c(this,'fogParams',null),c(this,'shaderPara'+'ms',new E0()),c(this,'renderPass'+'es',[]),c(this,'jitter',0x1609+0x2*0xc7+-0x1797),(this['_aspectRat'+'io']=(-0x907*0x4+-0x17*0x1a7+0x4a2d)/(-0x4c5+0x1d34+-0x1866),this['_aspectRat'+'ioMode']=kp,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new Y(0xa6*0x2+-0x224a+0x20fe+0.75,-0xa*0x2b+-0x1355+0x1503+0.75,-0x22a6+0x1*0x1b23+0x783+0.75,-0x2e9+-0x1e15*-0x1+-0x1b2b),this['_clearColo'+'rBuffer']=!(0x5*0x779+-0x12e5+0xc*-0x18a),this['_clearDept'+'h']=0x87*-0x18+-0x18d5+0x257e*0x1,this['_clearDept'+'hBuffer']=!(0x92*-0x13+0x4ca*-0x2+0x43*0x4e),this['_clearSten'+'cil']=-0xa8a+-0x8eb+0x1375*0x1,this['_clearSten'+'cilBuffer']=!(-0x26b7+0xd57*-0x1+0x340e),this['_cullFaces']=!(-0x15d1+0xa57*0x1+-0xb7a*-0x1),this['_farClip']=-0x1945*-0x1+0x204f+-0xe5*0x3c,this['_flipFaces']=!(0xe2e+0x918*-0x3+0xd1b),this['_fov']=-0x10a*0x13+0x1f5d+0x1*-0xb72,this['_frustumCu'+'lling']=!(-0x2*-0x123b+-0x15*0x1d+-0x2215),this['_horizonta'+'lFov']=!(0x106d+-0x2687+0x1*0x161b),this['_layers']=[zi,es,Ap,nl,Ep],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0xc22+0x1e03+0x1*-0x2a25+0.1,this['_node']=null,this['_orthoHeig'+'ht']=-0x5*0x139+0xf1f*0x1+0x23e*-0x4,this['_projectio'+'n']=Xs,this['_rect']=new ee(-0x57a+0x839+-0x2bf*0x1,0x4*-0x526+-0x1053+-0x1*-0x24eb,0x2385+-0x160a+-0xd7a,-0x193+0xeb5+-0xd21),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new ee(0xb9*0x2c+-0x7*-0x3ab+-0x3979,0x3*0x69d+-0xe0+-0x12f7,0x12d*-0x17+-0x9c2*-0x2+0x788,-0x3a*0x7+-0x19d5+-0x1b6c*-0x1),this['_scissorRe'+'ctClear']=!(-0x3*-0x943+-0x1c19*-0x1+0x37e1*-0x1),this['_aperture']=0x2ce+-0x1*0xecd+0xc0f,this['_shutter']=(-0x314*-0x2+-0x1d58*0x1+0x1731)/(-0x1*-0x293+-0x2394+0xb*0x35b),this['_sensitivi'+'ty']=-0x100c+-0x1*-0xa0c+0x13d*0x8,this['_projMat']=new q(),this['_projMatDi'+'rty']=!(0x1240+0x1e9+-0x1429),this['_projMatSk'+'ybox']=new q(),this['_viewMat']=new q(),this['_viewMatDi'+'rty']=!(-0xeac+0x97*0xc+0x798),this['_viewProjM'+'at']=new q(),this['_viewProjM'+'atDirty']=!(0x12ef+0x7*0x50c+-0x1df*0x1d),this['_shaderMat'+'ricesVersi'+'on']=0x5e*0x1d+0x720+-0x1c7*0xa,this['_viewProjI'+'nverse']=new q(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new q(),this['_jitters']=[0x1*0x87+0xf0e+0xf95*-0x1,-0x34*0x1+-0x7*0x16f+-0xa3d*-0x1,0x31*-0x93+-0xe*-0x2f+0x23*0xbb,-0x1a7b+0x5fc*-0x1+0x2077],this['frustum']=new wS(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0x3ad326,_0x229949;(_0x3ad326=this['renderPass'+'ColorGrab'])==null||_0x3ad326['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x229949=this['renderPass'+'DepthGrab'])==null||_0x229949['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x49+-0x1*-0x232f+-0x5d1*0x6;}['_storeShad'+'erMatrices'](_0xe55f97,_0x3d969f,_0x305b56,_0x2ef59f){this['_shaderMat'+'ricesVersi'+'on']!==_0x2ef59f&&(this['_shaderMat'+'ricesVersi'+'on']=_0x2ef59f,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0xe55f97),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new q()),this['_viewProjC'+'urrent']['copy'](_0xe55f97),this['_viewProjI'+'nverse']['invert'](_0xe55f97),this['_jitters'][0x2b*-0xd3+0x2464+0xf1*-0x1]=this['_jitters'][-0x25d1+0x13bf+0x1212],this['_jitters'][0xa13*0x1+0x1*0x1c3d+0x7a9*-0x5]=this['_jitters'][0x229+-0xe43*0x1+0xc1b],this['_jitters'][-0x11*0x22e+0x7c4+0x1d4a]=_0x3d969f,this['_jitters'][-0x1ce8+-0x1fcc+-0x1*-0x3cb5]=_0x305b56);}get['fullSizeCl'+'earRect'](){const _0x520ca4=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x520ca4['x']===-0x1*0x1aab+-0xbe1+0x1346*0x2&&_0x520ca4['y']===0x2263*-0x1+0x1047+0x3d*0x4c&&_0x520ca4['z']===-0x16af+-0x1d53+-0x1*-0x3403&&_0x520ca4['w']===0x8c3*0x2+0x29*0x69+0xb72*-0x3;}set['aspectRati'+'o'](_0x596cf4){this['_aspectRat'+'io']!==_0x596cf4&&(this['_aspectRat'+'io']=_0x596cf4,this['_projMatDi'+'rty']=!(-0x140b+-0x13e0+0x27eb));}get['aspectRati'+'o'](){var _0x44849e;return(_0x44849e=this['xr'])!=null&&_0x44849e['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x485f3d){this['_aspectRat'+'ioMode']!==_0x485f3d&&(this['_aspectRat'+'ioMode']=_0x485f3d,this['_projMatDi'+'rty']=!(0x1d61*-0x1+0xa01*0x3+-0xa2));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x37f85e){this['_calculate'+'Projection']=_0x37f85e,this['_projMatDi'+'rty']=!(0x7f*0x8+0x1c71+-0x2069);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0xcf1a25){this['_calculate'+'Transform']=_0xcf1a25;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x5f0fc3){this['_clearColo'+'r']['copy'](_0x5f0fc3);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0xc07ae9){this['_clearColo'+'rBuffer']=_0xc07ae9;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x531bc6){this['_clearDept'+'h']=_0x531bc6;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x1c213f){this['_clearDept'+'hBuffer']=_0x1c213f;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x2e4da1){this['_clearSten'+'cil']=_0x2e4da1;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x4e59d4){this['_clearSten'+'cilBuffer']=_0x4e59d4;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x48d1dc){this['_cullFaces']=_0x48d1dc;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x4e3fc8){this['_farClip']!==_0x4e3fc8&&(this['_farClip']=_0x4e3fc8,this['_projMatDi'+'rty']=!(0x1379+0x2696+-0x3a0f));}get['farClip'](){var _0x520c03;return(_0x520c03=this['xr'])!=null&&_0x520c03['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x39341a){this['_flipFaces']=_0x39341a;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x530acd){this['_fov']!==_0x530acd&&(this['_fov']=_0x530acd,this['_projMatDi'+'rty']=!(-0x1d*-0x12f+-0xd8e+-0x14c5));}get['fov'](){var _0x408776;return(_0x408776=this['xr'])!=null&&_0x408776['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x44f06c){this['_frustumCu'+'lling']=_0x44f06c;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x1021ee){this['_horizonta'+'lFov']!==_0x1021ee&&(this['_horizonta'+'lFov']=_0x1021ee,this['_projMatDi'+'rty']=!(-0x23f+-0x24e7*0x1+0x2726));}get['horizontal'+'Fov'](){var _0x5f0df1;return(_0x5f0df1=this['xr'])!=null&&_0x5f0df1['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x5f40b8){this['_layers']=_0x5f40b8['slice'](0x16c+-0x1*-0x1c61+-0x1dcd),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x265bea){this['_nearClip']!==_0x265bea&&(this['_nearClip']=_0x265bea,this['_projMatDi'+'rty']=!(0x4a4+-0x7de+-0x33a*-0x1));}get['nearClip'](){var _0x356865;return(_0x356865=this['xr'])!=null&&_0x356865['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x35fcbc){this['_node']=_0x35fcbc;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0x19047e){this['_orthoHeig'+'ht']!==_0x19047e&&(this['_orthoHeig'+'ht']=_0x19047e,this['_projMatDi'+'rty']=!(-0x1*0x2375+-0x27+0x239c));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x9bffec){this['_projectio'+'n']!==_0x9bffec&&(this['_projectio'+'n']=_0x9bffec,this['_projMatDi'+'rty']=!(-0x690+-0x647*-0x2+-0x5fe));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x2c5461){this['_rect']['copy'](_0x2c5461);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x83a482){this['_renderTar'+'get']=_0x83a482;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x17f7bb){this['_scissorRe'+'ct']['copy'](_0x17f7bb);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x4c1692=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x4c1692)['invert'](),this['_viewMatDi'+'rty']=!(-0x26bd+-0x19a8+0x4066);}return this['_viewMat'];}set['aperture'](_0x9683d9){this['_aperture']=_0x9683d9;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x362c0e){this['_sensitivi'+'ty']=_0x362c0e;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x36f96f){this['_shutter']=_0x36f96f;}get['shutter'](){return this['_shutter'];}set['xr'](_0x248d01){this['_xr']!==_0x248d01&&(this['_xr']=_0x248d01,this['_projMatDi'+'rty']=!(-0xc06+0x3*-0x957+0x280b));}get['xr'](){return this['_xr'];}['clone'](){return new dl()['copy'](this);}['copy'](_0x427403){return this['_aspectRat'+'io']=_0x427403['_aspectRat'+'io'],this['_farClip']=_0x427403['_farClip'],this['_fov']=_0x427403['_fov'],this['_horizonta'+'lFov']=_0x427403['_horizonta'+'lFov'],this['_nearClip']=_0x427403['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x427403['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x427403['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x427403['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x427403['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x427403['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x427403['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x427403['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x427403['calculateT'+'ransform'],this['clearColor']=_0x427403['clearColor'],this['clearColor'+'Buffer']=_0x427403['clearColor'+'Buffer'],this['clearDepth']=_0x427403['clearDepth'],this['clearDepth'+'Buffer']=_0x427403['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x427403['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x427403['clearStenc'+'ilBuffer'],this['cullFaces']=_0x427403['cullFaces'],this['flipFaces']=_0x427403['flipFaces'],this['frustumCul'+'ling']=_0x427403['frustumCul'+'ling'],this['layers']=_0x427403['layers'],this['orthoHeigh'+'t']=_0x427403['orthoHeigh'+'t'],this['projection']=_0x427403['projection'],this['rect']=_0x427403['rect'],this['renderTarg'+'et']=_0x427403['renderTarg'+'et'],this['scissorRec'+'t']=_0x427403['scissorRec'+'t'],this['aperture']=_0x427403['aperture'],this['shutter']=_0x427403['shutter'],this['sensitivit'+'y']=_0x427403['sensitivit'+'y'],this['shaderPass'+'Info']=_0x427403['shaderPass'+'Info'],this['jitter']=_0x427403['jitter'],this['_projMatDi'+'rty']=!(0x131e+0x1657+0x1*-0x2975),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x2efcd4,_0x15da6c){var _0x174d10;_0x15da6c?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new fC(_0x2efcd4)):((_0x174d10=this['renderPass'+'ColorGrab'])==null||_0x174d10['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x5a2956,_0x504265,_0x1536df){var _0x28af67;_0x1536df?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new pC(_0x5a2956,this)):((_0x28af67=this['renderPass'+'DepthGrab'])==null||_0x28af67['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x1*0xee2+-0x185a+0x7*0x59b));}['worldToScr'+'een'](_0x2490ff,_0xf45ff6,_0x58aa04,_0x1b1010=new A()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x2490ff,_0x1b1010);const _0xe5ade8=this['_viewProjM'+'at']['data'],_0x18c1b7=_0x2490ff['x']*_0xe5ade8[-0x1a*-0x73+0x1a6f+-0x261a]+_0x2490ff['y']*_0xe5ade8[0x1e57+-0x14b9*0x1+0x1*-0x997]+_0x2490ff['z']*_0xe5ade8[0x27e*-0x3+-0x16b*0x2+0xb*0xf1]+(-0x2208+0xb65+0x16a4)*_0xe5ade8[-0x1c5a*0x1+-0x231+-0xf4d*-0x2];return _0x1b1010['x']=(_0x1b1010['x']/_0x18c1b7+(-0x16a7*0x1+0x1060*0x1+-0x1*-0x648))*(-0x18af+0x782+0x112d+0.5)*_0xf45ff6,_0x1b1010['y']=(-0xca2+0x136+0xb6d-_0x1b1010['y']/_0x18c1b7)*(0x208b+0x2172+0x9*-0x755+0.5)*_0x58aa04,_0x1b1010;}['screenToWo'+'rld'](_0x3a2a84,_0x2dfc62,_0x4c1fe4,_0x26aefd,_0x50bd31,_0xb201a3=new A()){const _0x101fa7=this['farClip']-this['nearClip'];if(Mn['set'](_0x3a2a84/_0x26aefd,(_0x50bd31-_0x2dfc62)/_0x50bd31,_0x4c1fe4/_0x101fa7),Mn['mulScalar'](-0x84e*0x3+0x75+0x1877),Mn['sub'](A['ONE']),this['_projectio'+'n']===Xs){q['_getPerspe'+'ctiveHalfS'+'ize'](ja,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ja['x']*=Mn['x'],ja['y']*=Mn['y'];const _0x5993da=this['_node']['getWorldTr'+'ansform']();ja['z']=-this['nearClip'],_0x5993da['transformP'+'oint'](ja,Jm);const _0x42b9df=this['_node']['getPositio'+'n']();_0xb201a3['sub2'](Jm,_0x42b9df),_0xb201a3['normalize'](),_0xb201a3['mulScalar'](_0x4c1fe4),_0xb201a3['add'](_0x42b9df);}else this['_updateVie'+'wProjMat'](),e_['copy'](this['_viewProjM'+'at'])['invert'](),e_['transformP'+'oint'](Mn,_0xb201a3);return _0xb201a3;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===Xs)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x4bac40=this['_orthoHeig'+'ht'],_0x1fbd25=_0x4bac40*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x1fbd25,_0x1fbd25,-_0x4bac40,_0x4bac40,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(0x1ce9+-0xfeb+-0x7*0x1db);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x30463b=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0x1130+0x80*0x16+0x694)/this['_sensitivi'+'ty']);return(-0xa*-0x368+-0x1*0xd89+-0x1486)/(Math['pow'](0x3b2+0x2fe+-0x6ae,_0x30463b)*(0x1305*0x1+0x1399*-0x1+0x95+0.19999999999999996));}['getScreenS'+'ize'](_0x553884){if(this['_projectio'+'n']===Xs){const _0x1c439a=this['_node']['getPositio'+'n']()['distance'](_0x553884['center']);if(_0x1c439a<_0x553884['radius'])return-0x5b0+-0x1eaf+-0xc*-0x308;const _0x541b0a=Math['asin'](_0x553884['radius']/_0x1c439a),_0x52d891=Math['tan'](_0x541b0a),_0x5880bb=Math['tan'](this['fov']/(-0x31d+0x1*0xd0a+0x1*-0x9eb)*z['DEG_TO_RAD']);return Math['min'](_0x52d891/_0x5880bb,0x356+-0x2028+0x1cd3);}return z['clamp'](_0x553884['radius']/this['_orthoHeig'+'ht'],0x1*0x377+0x9f5+-0x35b*0x4,0x1*0x728+0xdec+0x19f*-0xd);}['getFrustum'+'Corners'](_0x48c003=this['nearClip'],_0x4b5c56=this['farClip']){const _0x3b1055=this['fov']*Math['PI']/(0x314+0x419+-0x679);let _0x2584c0,_0x414151;this['projection']===Xs?this['horizontal'+'Fov']?(_0x2584c0=_0x48c003*Math['tan'](_0x3b1055/(0x814+-0x1e86*0x1+0x1674)),_0x414151=_0x2584c0/this['aspectRati'+'o']):(_0x414151=_0x48c003*Math['tan'](_0x3b1055/(-0x185e*0x1+-0x3b9*-0x8+-0x568)),_0x2584c0=_0x414151*this['aspectRati'+'o']):(_0x414151=this['_orthoHeig'+'ht'],_0x2584c0=_0x414151*this['aspectRati'+'o']);const _0x526b6e=mC;return _0x526b6e[0xab5+-0x5*-0x665+-0x2aae]['x']=_0x2584c0,_0x526b6e[0xb74*-0x1+0x192e+0xdba*-0x1]['y']=-_0x414151,_0x526b6e[-0x2287+0x1*0x113e+0x1149]['z']=-_0x48c003,_0x526b6e[0x25f6+0x2067+-0x465c]['x']=_0x2584c0,_0x526b6e[-0x1060+0x1e95+-0xe34]['y']=_0x414151,_0x526b6e[-0x242+-0x94f*-0x2+-0x1*0x105b]['z']=-_0x48c003,_0x526b6e[-0x1*-0x14cf+0x1bf7*0x1+-0x1862*0x2]['x']=-_0x2584c0,_0x526b6e[-0x1*-0x1757+-0x3*0x27e+-0x21*0x7b]['y']=_0x414151,_0x526b6e[-0x141*0x6+0x7*0x536+-0x1cf2]['z']=-_0x48c003,_0x526b6e[-0x1bcd+-0xcf2+0x28c2]['x']=-_0x2584c0,_0x526b6e[0x461*-0x5+0x185*0x19+-0x1015]['y']=-_0x414151,_0x526b6e[-0x751*-0x1+0x1dde+-0x94b*0x4]['z']=-_0x48c003,this['_projectio'+'n']===Xs&&(this['horizontal'+'Fov']?(_0x2584c0=_0x4b5c56*Math['tan'](_0x3b1055/(0x15b2*-0x1+-0x5*0x66+0x6*0x3f3)),_0x414151=_0x2584c0/this['aspectRati'+'o']):(_0x414151=_0x4b5c56*Math['tan'](_0x3b1055/(0x15db+-0x15a0+0x1*-0x39)),_0x2584c0=_0x414151*this['aspectRati'+'o'])),_0x526b6e[0x19fc+0x1b15+-0x350d]['x']=_0x2584c0,_0x526b6e[-0x1875+-0x12fc+-0x59*-0x7d]['y']=-_0x414151,_0x526b6e[0x1f9b+0xadd*-0x3+-0x1*-0x100]['z']=-_0x4b5c56,_0x526b6e[0xfa7*0x1+0x570+-0x1f*0xae]['x']=_0x2584c0,_0x526b6e[-0x26*0x4+0x51*-0x31+0x2*0x80f]['y']=_0x414151,_0x526b6e[0x1c3*0x15+0x21a*0x6+0x1*-0x3196]['z']=-_0x4b5c56,_0x526b6e[-0xa0*-0x1c+-0x169a+0x520]['x']=-_0x2584c0,_0x526b6e[0x4f*-0x4+0x1e3a+-0x1cf8]['y']=_0x414151,_0x526b6e[0x1f47+-0x9a9*-0x1+-0x2*0x1475]['z']=-_0x4b5c56,_0x526b6e[-0xf52+-0x1*-0x2231+0x12d8*-0x1]['x']=-_0x2584c0,_0x526b6e[0x6*0x1fd+0xbde+-0x17c5]['y']=-_0x414151,_0x526b6e[-0x77*0xb+-0x1*-0x2612+-0x20ee*0x1]['z']=-_0x4b5c56,_0x526b6e;}['setXrPrope'+'rties'](_0x44966d){Object['assign'](this['_xrPropert'+'ies'],_0x44966d),this['_projMatDi'+'rty']=!(-0x4b9*-0x4+-0x3*-0x2bd+-0x3*0x909);}}const t_=new q(),s_=new q(),i_=new q(),er=class er{static['create'](_0x356711,_0x2a92f2,_0x3d2a50){const _0x4ff361=new dl();switch(_0x4ff361['node']=new Oe(_0x356711),_0x4ff361['aspectRati'+'o']=0x420+-0x1f*-0x9+-0x536,_0x4ff361['aspectRati'+'oMode']=Vu,_0x4ff361['_scissorRe'+'ctClear']=!(0x8d8+0x1*0xe04+0x214*-0xb),_0x2a92f2){case Le:_0x4ff361['node']['setRotatio'+'n'](er['pointLight'+'Rotations'][_0x3d2a50]),_0x4ff361['fov']=0x1141+-0x1ef0+0xe09,_0x4ff361['projection']=Xs;break;case Fe:_0x4ff361['projection']=Xs;break;case le:_0x4ff361['projection']=pa;break;}return _0x4ff361;}static['evalSpotCo'+'okieMatrix'](_0xa885c8){let _0x34974c=er['_spotCooki'+'eCamera'];_0x34974c||(_0x34974c=er['create']('SpotCookie'+'Camera',Fe),er['_spotCooki'+'eCamera']=_0x34974c),_0x34974c['fov']=_0xa885c8['_outerCone'+'Angle']*(0xa9*-0x32+-0x282*-0x2+0x70*0x40);const _0x5ce795=_0x34974c['_node'];_0x5ce795['setPositio'+'n'](_0xa885c8['_node']['getPositio'+'n']()),_0x5ce795['setRotatio'+'n'](_0xa885c8['_node']['getRotatio'+'n']()),_0x5ce795['rotateLoca'+'l'](-(0xffb+-0xa15+-0xa*0x8e),-0x4*-0x8c2+0x261b+0x4f*-0xed,-0x6f4+0x1*0x1456+-0xd62),t_['setTRS'](_0x5ce795['getPositio'+'n'](),_0x5ce795['getRotatio'+'n'](),A['ONE'])['invert'](),s_['mul2'](_0x34974c['projection'+'Matrix'],t_);const _0x562c77=_0xa885c8['cookieMatr'+'ix'],_0x5ed2e2=_0xa885c8['atlasViewp'+'ort'];return i_['setViewpor'+'t'](_0x5ed2e2['x'],_0x5ed2e2['y'],_0x5ed2e2['z'],_0x5ed2e2['w']),_0x562c77['mul2'](i_,s_),_0x562c77;}};c(er,'pointLight'+'Rotations',[new ie()['setFromEul'+'erAngles'](-0x2e*-0xd3+0x19*0x11f+-0x1*0x41f1,0x26d6+0x1000+-0x367c,-0x1*-0x1906+0x13b0+-0x2b*0x106),new ie()['setFromEul'+'erAngles'](0x7ba*-0x5+-0xfa5+0x7*0x7c1,-(0x120d+0x295*0xd+-0x3344),0xb75+0x1df*-0x5+-0x166),new ie()['setFromEul'+'erAngles'](0x1127+-0x119c+-0xcf*-0x1,-0x258d*0x1+0x1*0x466+0x2127,-0x19e9+0x3*0x88b+0x48),new ie()['setFromEul'+'erAngles'](-(0x269c+0x1cbb+0x1*-0x42fd),0x875+0x12b*0x17+-0x2352,0x1286*0x1+-0xf3c+-0x34a),new ie()['setFromEul'+'erAngles'](-0x231c+0x52*-0x6f+-0x2d*-0x192,0xc11+0x103f+0x13*-0x174,0xa1d+-0xc64+0x2fb),new ie()['setFromEul'+'erAngles'](0x1*0x1df1+0x1*-0x732+-0x16bf,-0x117b+0x1*0x1361+0x1*-0x1e6,0x2*0x64b+-0x5f8+0x2*-0x2f5)]),c(er,'_spotCooki'+'eCamera',null);let Ia=er;const r_=-0x1194+0x4bd*0x5+0x5*-0x139+0.000001,is=new A(),Sr=new Float32Array(-0x9*0x18d+-0x1*-0x2353+-0x1558),_C=new A(-(-0x1*0x2205+0x6*0x22a+0x167*0xf+0.5),-0x4c6*-0x3+-0x1432+0x5e0,-0x7*0x1cf+0x2ee+0x9bb*0x1),gC=new A(0x1*-0x1e0e+-0xad*-0x9+0x143*0x13,0x1*0xeef+-0x1d59+0xe6a,0x1*-0xe51+0x1e7e*0x1+-0x102d+0.5),vr={'FLAGS':0x0,'COLOR_A':0x1,'COLOR_B':0x2,'SPOT_ANGLES':0x3,'SHADOW_BIAS':0x4,'COOKIE_A':0x5,'COOKIE_B':0x6,'COUNT':0x7},pt={'POSITION_RANGE':0x0,'SPOT_DIRECTION':0x1,'PROJ_MAT_0':0x2,'ATLAS_VIEWPORT':0x2,'PROJ_MAT_1':0x3,'PROJ_MAT_2':0x4,'PROJ_MAT_3':0x5,'AREA_DATA_WIDTH':0x6,'AREA_DATA_HEIGHT':0x7,'COUNT':0x8};let Ad;class C0{constructor(_0x2ac0bd){c(this,'areaLights'+'Enabled',!(-0x186b+0x2622+-0xdb6)),(this['device']=_0x2ac0bd,this['cookiesEna'+'bled']=!(-0x2f0+0x2*0x943+-0xf95),this['shadowsEna'+'bled']=!(0x74f+0x1036+0xac*-0x23),this['areaLights'+'Enabled']=!(0x1d*0x8f+0x3e*-0x15+0xc*-0xed),this['maxLights']=-0x31*-0x45+0x1*-0x7e1+-0x455*0x1);const _0x43c90a=vr['COUNT'];this['lights8']=new Uint8ClampedArray((0x15f6+-0x153b*-0x1+-0x2b2d)*_0x43c90a*this['maxLights']),this['lightsText'+'ure8']=this['createText'+'ure'](this['device'],_0x43c90a,this['maxLights'],Te,'LightsText'+'ure8'),this['_lightsTex'+'ture8Id']=this['device']['scope']['resolve']('lightsText'+'ure8');const _0x20ce80=pt['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x1522+-0xb5*-0x2a+-0x88c)*_0x20ce80*this['maxLights']),this['lightsText'+'ureFloat']=this['createText'+'ure'](this['device'],_0x20ce80,this['maxLights'],et,'LightsText'+'ureFloat'),this['_lightsTex'+'tureFloatI'+'d']=this['device']['scope']['resolve']('lightsText'+'ureFloat'),this['invMaxColo'+'rValue']=0x332*-0x1+-0xcfc*-0x3+-0x23c2,this['invMaxAtte'+'nuation']=-0x4c8+0x13*-0x66+0x62d*0x2,this['boundsMin']=new A(),this['boundsDelt'+'a']=new A();}static['getShaderD'+'efines'](){const _0x4c4ca6=(_0x1f93ca,_0x12fe12)=>Object['keys'](_0x1f93ca)['map'](_0x1eacdc=>'#define\x20'+_0x12fe12+_0x1eacdc+'\x20'+_0x1f93ca[_0x1eacdc])['join']('\x0a');return Ad||(Ad='\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4c4ca6(vr,'CLUSTER_TE'+'XTURE_8_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x4c4ca6(pt,'CLUSTER_TE'+'XTURE_F_')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')),Ad;}['destroy'](){var _0x2b2b81,_0x761f05;(_0x2b2b81=this['lightsText'+'ure8'])==null||_0x2b2b81['destroy'](),this['lightsText'+'ure8']=null,(_0x761f05=this['lightsText'+'ureFloat'])==null||_0x761f05['destroy'](),this['lightsText'+'ureFloat']=null;}['createText'+'ure'](_0x65151c,_0xe914f9,_0x214a24,_0x133dad,_0x4b4267){return new ce(_0x65151c,{'name':_0x4b4267,'width':_0xe914f9,'height':_0x214a24,'mipmaps':!(-0x6df*-0x5+-0xac9*0x1+-0x1791*0x1),'format':_0x133dad,'addressU':oe,'addressV':oe,'type':Bi,'magFilter':fe,'minFilter':fe,'anisotropy':0x1});}['setCompres'+'sionRanges'](_0x122dd8,_0x53cd38){this['invMaxColo'+'rValue']=(-0x8c1+0x1be*0x15+-0x2*0xdea)/_0x53cd38,this['invMaxAtte'+'nuation']=(0x141f+-0x1ef4+0xad6)/_0x122dd8;}['setBounds'](_0x4e8570,_0x2d4c5a){this['boundsMin']['copy'](_0x4e8570),this['boundsDelt'+'a']['copy'](_0x2d4c5a);}['uploadText'+'ures'](){this['lightsText'+'ureFloat']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ureFloat']['unlock'](),this['lightsText'+'ure8']['lock']()['set'](this['lights8']),this['lightsText'+'ure8']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'ture8Id']['setValue'](this['lightsText'+'ure8']),this['_lightsTex'+'tureFloatI'+'d']['setValue'](this['lightsText'+'ureFloat']);}['getSpotDir'+'ection'](_0x4c99bc,_0x5e3dc3){_0x5e3dc3['_node']['getWorldTr'+'ansform']()['getY'](_0x4c99bc)['mulScalar'](-(-0xe*-0x10d+0x17*-0x106+0x8d5)),_0x4c99bc['normalize']();}['getLightAr'+'eaSizes'](_0x166584){const _0x21d695=_0x166584['_node']['getWorldTr'+'ansform']();return _0x21d695['transformV'+'ector'](_C,is),Sr[0x1*0x4dc+0xf06+0xa*-0x1fd]=is['x'],Sr[-0x1294+0x3e*0x74+-0x1e7*0x5]=is['y'],Sr[0x258a+-0x14a6+-0x10e2]=is['z'],_0x21d695['transformV'+'ector'](gC,is),Sr[0xaff+0x16e7+-0x21e3]=is['x'],Sr[-0x4f*0x4+0x1307+-0x5ed*0x3]=is['y'],Sr[-0x162e+0x272*-0x5+0x226d]=is['z'],Sr;}['addLightDa'+'taFlags'](_0x321dff,_0xb2b811,_0x2cc0c3,_0x18257f,_0x5b41a3,_0x35ff54){_0x321dff[_0xb2b811+(-0x20*0xec+0x23*0x3c+0x154c)]=_0x18257f?0x58*0x51+-0x18e0+-0x1f9:0x7ad*-0x5+0x135*0xb+0x36*0x77,_0x321dff[_0xb2b811+(0x11e6+-0x12aa+0xc5)]=this['areaLights'+'Enabled']?_0x2cc0c3['_shape']*(-0x1*-0x2217+-0x9c0*0x1+-0x371*0x7):-0x1f*-0xa9+0x36f+0x7*-0x36a,_0x321dff[_0xb2b811+(0xc70*0x3+0x32b+-0x2879)]=_0x2cc0c3['_falloffMo'+'de']*(-0xabc*-0x1+0x6*-0x51a+0x14df),_0x321dff[_0xb2b811+(-0x60*-0x43+0x834+-0x2151)]=_0x5b41a3?_0x35ff54*(0x1*0x1da2+0x21*0x79+-0x2c3c):0x1555+0x9d5+0xf95*-0x2;}['addLightDa'+'taColor'](_0x110608,_0x1314e9,_0x48862e,_0x53e2fd){const _0x4e8b55=this['invMaxColo'+'rValue'],_0x501389=_0x48862e['_colorLine'+'ar'];Bt['float2Byte'+'s'](_0x501389[-0x314+-0x12*0x153+0x1aea]*_0x4e8b55,_0x110608,_0x1314e9+(-0x1d*-0xab+-0x13eb+0x8c),0x20ed*0x1+0x5f1*-0x2+-0x1509*0x1),Bt['float2Byte'+'s'](_0x501389[0x1c9a+-0xc82+0x55d*-0x3]*_0x4e8b55,_0x110608,_0x1314e9+(-0x24cc+0x1ff*-0xd+0x3ec1),0x1*0x6d8+-0x17e5+-0xb*-0x18d),Bt['float2Byte'+'s'](_0x501389[0x1779+-0x1d44+0x5cd]*_0x4e8b55,_0x110608,_0x1314e9+(0x1997+0x95f*0x3+-0x35b0),0x1*0x902+-0x15c2+0x661*0x2),_0x110608[_0x1314e9+(0x265c+-0x12c7+0x3*-0x685)]=_0x53e2fd?0xeb7*-0x2+0x2474*-0x1+-0x525*-0xd:-0x368*-0x1+0x12df*-0x1+0xf77;const _0x3e6ac5=!!(_0x48862e['mask']&ms),_0x242288=!!(_0x48862e['mask']&dr);_0x110608[_0x1314e9+(0xb*0x5c+0x1329+-0x1716)]=_0x3e6ac5&&_0x242288?0xd22+-0xa96+0x4b*-0x7:_0x242288?-0xd51+-0x968+-0x18*-0xfd:0x7d9*0x2+0x1b1a+-0x2c*0xf9;}['addLightDa'+'taSpotAngl'+'es'](_0x5a2586,_0x5d3db0,_0x2fe42b){Bt['float2Byte'+'s'](_0x2fe42b['_innerCone'+'AngleCos']*(-0x2*-0x187+0x62*0x4d+0x1*-0x2088+0.5-r_)+(0x15d*0xe+0x24e9+-0x37ff+0.5),_0x5a2586,_0x5d3db0+(-0x14b9*-0x1+0x2185+-0x35*0x106),0x1897+-0x9f*0x22+-0x377),Bt['float2Byte'+'s'](_0x2fe42b['_outerCone'+'AngleCos']*(0x7*0x1ba+-0x1b*-0xe9+-0x1*0x24a9+0.5-r_)+(-0x529+-0x4bf+0x9e8+0.5),_0x5a2586,_0x5d3db0+(0xada+-0xaf2*-0x3+-0x1*0x2bae),-0x1*0x169a+0x94*0x2+0x1574);}['addLightDa'+'taShadowBi'+'as'](_0xe207c5,_0x50d83f,_0x353598){const _0x5d0f2f=_0x353598['getRenderD'+'ata'](null,-0x217+-0xa67*-0x1+-0x850),_0x2c6ff3=_0x353598['_getUnifor'+'mBiasValue'+'s'](_0x5d0f2f);Bt['float2Byte'+'sRange'](_0x2c6ff3['bias'],_0xe207c5,_0x50d83f,-(-0x1af6*-0x1+-0xc7e+0x211*-0x7),0x1002+-0xd53*-0x1+-0x1d41*0x1,-0xc12+0x1481+0x1*-0x86d),Bt['float2Byte'+'s'](_0x2c6ff3['normalBias'],_0xe207c5,_0x50d83f+(0x1*0x1adf+0x1d*-0xb+-0x199e),-0x1*-0x1ef7+0x1f95+0xc82*-0x5);}['addLightDa'+'taCookies'](_0x7f986,_0x2188e6,_0x1523b8){const _0x265b95=_0x1523b8['_cookieCha'+'nnel']==='rgb';if(_0x7f986[_0x2188e6+(0x205f*-0x1+0x7d6+-0x1*-0x1889)]=Math['floor'](_0x1523b8['cookieInte'+'nsity']*(-0xbb7*-0x3+-0x170c+0x196*-0x7)),_0x7f986[_0x2188e6+(-0x52d+0x1*0xac+0x482)]=_0x265b95?0x1df0*0x1+-0x3e*0x4f+-0x9cf:0x8c*-0x3d+-0x457*-0x6+-0x2*-0x3a9,!_0x265b95){const _0x5cb0d0=_0x1523b8['_cookieCha'+'nnel'];_0x7f986[_0x2188e6+(0x18b+0x5fa+0x71*-0x11)]=_0x5cb0d0==='rrr'?0x60*-0x18+0x12c9+0x4b*-0x1e:-0x66a+-0xedd*-0x2+-0x1750,_0x7f986[_0x2188e6+(-0x114a*-0x2+-0x8*-0x2cf+-0x1*0x3907)]=_0x5cb0d0==='ggg'?-0x15b0+0x1ed*-0xf+0x1*0x3392:-0x1faa+0x145e+-0xb4c*-0x1,_0x7f986[_0x2188e6+(-0x1eb*-0x9+-0x30b*0x2+-0xb27*0x1)]=_0x5cb0d0==='bbb'?0x59*-0xc+0x2*0xc51+-0x1377:0x1ccf+0x38b+0x52*-0x65,_0x7f986[_0x2188e6+(0x22b4+0x1*-0x10c9+-0x11e4)]=_0x5cb0d0==='aaa'?-0xb*-0xc7+-0xb5e+0x3d0:0x5d5*-0x1+0x11e4+-0xc0f*0x1;}}['addLightDa'+'ta'](_0x5bb3d3,_0x1f0d7c){const _0xe37c83=_0x5bb3d3['_type']===Fe,_0x210987=_0x5bb3d3['atlasViewp'+'ortAllocat'+'ed'],_0x506c3c=this['cookiesEna'+'bled']&&!!_0x5bb3d3['_cookie']&&_0x210987,_0x5890f8=this['areaLights'+'Enabled']&&_0x5bb3d3['shape']!==Tt,_0x486e9b=this['shadowsEna'+'bled']&&_0x5bb3d3['castShadow'+'s']&&_0x210987,_0x56d396=_0x5bb3d3['_node']['getPositio'+'n']();let _0xee71ac=null,_0x2531d1=null;_0xe37c83?_0x486e9b?_0xee71ac=_0x5bb3d3['getRenderD'+'ata'](null,-0x1845+-0x258e+0x3dd3)['shadowMatr'+'ix']:_0x506c3c&&(_0xee71ac=Ia['evalSpotCo'+'okieMatrix'](_0x5bb3d3)):(_0x486e9b||_0x506c3c)&&(_0x2531d1=_0x5bb3d3['atlasViewp'+'ort']);const _0x250a39=this['lights8'],_0x34994d=_0x1f0d7c*this['lightsText'+'ure8']['width']*(-0xde*-0x1c+0x183e+-0x3082);this['addLightDa'+'taFlags'](_0x250a39,_0x34994d+(0xe63+-0xce8*-0x1+0x1*-0x1b47)*vr['FLAGS'],_0x5bb3d3,_0xe37c83,_0x486e9b,_0x5bb3d3['shadowInte'+'nsity']),this['addLightDa'+'taColor'](_0x250a39,_0x34994d+(-0x18f0+-0x1*-0xdff+0xb*0xff)*vr['COLOR_A'],_0x5bb3d3,_0x506c3c),_0xe37c83&&this['addLightDa'+'taSpotAngl'+'es'](_0x250a39,_0x34994d+(-0x285+-0x291+0x51a)*vr['SPOT_ANGLE'+'S'],_0x5bb3d3),_0x5bb3d3['castShadow'+'s']&&this['addLightDa'+'taShadowBi'+'as'](_0x250a39,_0x34994d+(-0x234+-0x1*0x1730+0x1968)*vr['SHADOW_BIA'+'S'],_0x5bb3d3),_0x506c3c&&this['addLightDa'+'taCookies'](_0x250a39,_0x34994d+(-0x1985+-0x2092+0x3a1b)*vr['COOKIE_A'],_0x5bb3d3);const _0x1252ae=this['lightsFloa'+'t'],_0x1b9976=_0x1f0d7c*this['lightsText'+'ureFloat']['width']*(0x2*-0xa9f+-0x1662+0x2ba4);if(_0x1252ae[_0x1b9976+(-0x2*0x62b+0x11*-0x23b+0x2f5*0x11)*pt['POSITION_R'+'ANGE']+(-0x1bf9+0x71*-0x1d+0x266*0x11)]=_0x56d396['x'],_0x1252ae[_0x1b9976+(0x1c12+-0xb35+-0x10d9)*pt['POSITION_R'+'ANGE']+(0x1ade+-0x1727+0x1*-0x3b6)]=_0x56d396['y'],_0x1252ae[_0x1b9976+(-0x1*-0x22e6+0xd9e+0x40*-0xc2)*pt['POSITION_R'+'ANGE']+(0x1626+-0x1e59+0x1*0x835)]=_0x56d396['z'],_0x1252ae[_0x1b9976+(-0x16a1+0x265*-0x3+0x1dd4*0x1)*pt['POSITION_R'+'ANGE']+(-0x1*0x15ad+0x14ef+0xc1)]=_0x5bb3d3['attenuatio'+'nEnd'],_0xe37c83&&(this['getSpotDir'+'ection'](is,_0x5bb3d3),_0x1252ae[_0x1b9976+(-0x2202+0xd55+0x14b1)*pt['SPOT_DIREC'+'TION']+(0x1c60+0xefc+-0x2b5c)]=is['x'],_0x1252ae[_0x1b9976+(0x2a2+0x1ca1+0x13*-0x1a5)*pt['SPOT_DIREC'+'TION']+(-0x15e8*-0x1+-0x4*0x2e0+-0x1*0xa67)]=is['y'],_0x1252ae[_0x1b9976+(-0x3*-0x388+0x1*-0x377+0x3*-0x25f)*pt['SPOT_DIREC'+'TION']+(0x13*0x145+0x129a+-0x2ab7)]=is['z']),_0xee71ac){const _0x53ebe0=_0xee71ac['data'];for(let _0x1e9940=0x2125+-0xeb4+0x1271*-0x1;_0x1e9940<0x14be+-0x2*-0x12fd+-0x3aa8;_0x1e9940++)_0x1252ae[_0x1b9976+(-0xcb3+0x1c05+-0xf4e)*pt['PROJ_MAT_0']+_0x1e9940]=_0x53ebe0[_0x1e9940];}if(_0x2531d1&&(_0x1252ae[_0x1b9976+(0x1038+-0x241*0xe+0xf5a)*pt['ATLAS_VIEW'+'PORT']+(-0x1611*-0x1+-0x2dc+-0x1335)]=_0x2531d1['x'],_0x1252ae[_0x1b9976+(0xf31+-0x3c*0x26+-0x645)*pt['ATLAS_VIEW'+'PORT']+(-0x1111+-0x11ae*-0x1+-0x9c)]=_0x2531d1['y'],_0x1252ae[_0x1b9976+(0x59*0x25+0x118e+-0x1e67)*pt['ATLAS_VIEW'+'PORT']+(-0x6*0x86+-0x122a+0x58*0x3e)]=_0x2531d1['z']/(0x1*-0x252f+0x221f*-0x1+0x4751*0x1)),_0x5890f8){const _0x65d03=this['getLightAr'+'eaSizes'](_0x5bb3d3);_0x1252ae[_0x1b9976+(-0x2f7*0xb+0x92*-0x3b+0x4247)*pt['AREA_DATA_'+'WIDTH']+(-0x1*-0x107+0x8bb+-0x1*0x9c2)]=_0x65d03[0x2218+0x10*0x1da+0xfee*-0x4],_0x1252ae[_0x1b9976+(0x293*-0xd+-0x1c24+0x3d9f)*pt['AREA_DATA_'+'WIDTH']+(0x15ce+0x3c3*0x2+-0x1d53)]=_0x65d03[-0xde9+-0x115+-0x1*-0xeff],_0x1252ae[_0x1b9976+(0x5*-0x562+-0x3*0xbb6+0x3e10)*pt['AREA_DATA_'+'WIDTH']+(0x691+-0x7*-0x1fe+-0x1481)]=_0x65d03[0x1892+0x4f6+-0x1d86],_0x1252ae[_0x1b9976+(0x3c8+0xa19+0x27*-0x5b)*pt['AREA_DATA_'+'HEIGHT']+(0x1bf*-0x10+0x2316+-0x6*0x131)]=_0x65d03[0x2046+-0xa22*-0x3+0x3*-0x14e3],_0x1252ae[_0x1b9976+(-0x23ac+-0x2*0x32e+0x17*0x1d4)*pt['AREA_DATA_'+'HEIGHT']+(-0x17b2+-0x1d*0x9d+0x12*0x24e)]=_0x65d03[-0x355*0x1+-0xd61+-0x85d*-0x2],_0x1252ae[_0x1b9976+(0xadd*0x2+0x461*-0x6+-0x92*-0x8)*pt['AREA_DATA_'+'HEIGHT']+(0x6d8*0x4+-0x14*-0x171+-0x3832)]=_0x65d03[-0x17c+-0x1*0x1fe8+0x2169];}}}const Ll=new A(),Fl=new A(),kl=new A(),Ed=new ve(),n_=-0x1*-0x24fe+-0x1b43+0x9bb*-0x1+0.000001,a_=0x32*0x3d+0x13a2*-0x1+0x17*0x108;class o_{constructor(){this['light']=null,this['min']=new A(),this['max']=new A();}}class Hu{constructor(_0x34a7a8){c(this,'clusterTex'+'ture'),(this['device']=_0x34a7a8,this['name']='Untitled',this['reportCoun'+'t']=0x1*0x61+0xa63*-0x1+0xa02,this['boundsMin']=new A(),this['boundsMax']=new A(),this['boundsDelt'+'a']=new A(),this['_cells']=new A(-0xb*-0x4f+-0x1fbe+0x1c5a,0x1*-0x1863+-0xd18+0x257c,0x10b*0x1+0x2204+0x281*-0xe),this['_cellsLimi'+'t']=new A(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=-0x59e*0x6+-0x1d83+0x3f3b,this['_maxAttenu'+'ation']=0x101f*0x2+-0xd62+-0x12dc,this['_maxColorV'+'alue']=-0x83*-0x3e+0x1dee+-0x3da8,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new o_()),this['lightsBuff'+'er']=new C0(_0x34a7a8),this['registerUn'+'iforms'](_0x34a7a8));}set['maxCellLig'+'htCount'](_0x1b47bb){_0x1b47bb!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x1b47bb,this['_cellsDirt'+'y']=!(0x6*-0x270+0x1783*0x1+-0x8e3));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x325601){Ll['copy'](_0x325601)['floor'](),this['_cells']['equals'](Ll)||(this['_cells']['copy'](Ll),this['_cellsLimi'+'t']['copy'](Ll)['sub'](A['ONE']),this['_cellsDirt'+'y']=!(-0x2149*-0x1+-0x2*0xc99+0x1*-0x817));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x112593){this['_clusterSk'+'ipId']=_0x112593['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x112593['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x112593['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x112593['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x16*0x16f+-0xbd1*-0x2+-0x3729),this['_clusterBo'+'undsMinId']=_0x112593['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(0x25d*0x7+-0x189*-0x8+-0x4*0x734),this['_clusterBo'+'undsDeltaI'+'d']=_0x112593['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x248+0xe04+0x1*-0xbb9),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x112593['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x8*0x19f+-0x16d1+0x9dc),this['_clusterCe'+'llsDotId']=_0x112593['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x6c4*-0x3+0x458+0x1*0xff7),this['_clusterCe'+'llsMaxId']=_0x112593['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x17a+-0x236*0x1+0x3b3),this['_clusterCo'+'mpressionL'+'imit0Id']=_0x112593['scope']['resolve']('clusterCom'+'pressionLi'+'mit0'),this['_clusterCo'+'mpressionL'+'imit0Data']=new Float32Array(-0x1*-0x1a7a+-0x1b76+0xfe);}['updatePara'+'ms'](_0x87d465){_0x87d465&&(this['cells']=_0x87d465['cells'],this['maxCellLig'+'htCount']=_0x87d465['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x87d465['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x87d465['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x87d465['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0x11ed+-0x20*0xe5+0x1*0xab4);const _0x5131b2=this['_cells']['x'],_0x155665=this['_cells']['y'],_0xf45be0=this['_cells']['z'],_0x514556=_0x5131b2*_0x155665*_0xf45be0,_0x505135=this['maxCellLig'+'htCount']*_0x514556;let _0x577e62=Math['ceil'](Math['sqrt'](_0x505135));_0x577e62=z['roundUp'](_0x577e62,this['maxCellLig'+'htCount']);const _0x13f053=Math['ceil'](_0x505135/_0x577e62);b['assert'](_0x577e62<=a_&&_0x13f053<=a_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x5b8+-0x1dfe+-0x28d*-0xe]=_0x5131b2,this['_clusterCe'+'llsMaxData'][-0x4d*-0xf+-0x1d7e+0x18fc]=_0x155665,this['_clusterCe'+'llsMaxData'][0x1d38+0x1968+0x1b4f*-0x2]=_0xf45be0,this['_clusterCe'+'llsDotData'][0xc72+0x249a+0x310c*-0x1]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x6*-0x2c3+-0x50*-0x64+-0x1*0x2fd1]=_0x5131b2*_0xf45be0*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1aff*-0x1+0x14c4+0x63d]=_0x5131b2*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x505135),this['counts']=new Int32Array(_0x514556),this['_clusterTe'+'xtureSizeD'+'ata'][0x1c69+-0x1391+-0x8d8]=_0x577e62,this['_clusterTe'+'xtureSizeD'+'ata'][-0x1a*0xa7+-0x1eae+0x2fa5]=(0x1c81+0x15*0x102+0x31aa*-0x1)/_0x577e62,this['_clusterTe'+'xtureSizeD'+'ata'][-0x4c*-0x75+0x65*-0x7+0x7*-0x491]=(0x12f*0xd+0x1c1c+0x13*-0x24a)/_0x13f053,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x577e62,_0x13f053,ap,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0xbd2*-0x2+-0x16de+0x2e83?-0x225a*0x1+0x76e+-0x2*-0xd76:-0xe56+-0x1f7b+0x73*0x66),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x2de822=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*-0xaeb+0x12e4+-0xd*0x9d]=this['_cells']['x']/_0x2de822['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x16f6+-0xa6*0x2d+-0x639*-0x1]=this['_cells']['y']/_0x2de822['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x1*0x169c+0x1532*-0x1+-0x168]=this['_cells']['z']/_0x2de822['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x123c+0x1f2c+-0xcf0]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][-0x868*-0x4+0x1343*0x1+-0x34e2]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0x3*0x4d9+0x17b2+-0x925*0x1]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][-0xc9f+-0x1b90+0x3*0xd65]=_0x2de822['x'],this['_clusterBo'+'undsDeltaD'+'ata'][0xeb*-0x22+-0x1339+0x3270]=_0x2de822['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x161*0x1+0x2*0x771+-0x1041]=_0x2de822['z'],this['_clusterCo'+'mpressionL'+'imit0Data'][-0x1c29+0x5bf*-0x2+0x27a7*0x1]=this['_maxAttenu'+'ation'],this['_clusterCo'+'mpressionL'+'imit0Data'][0xa02+-0x2d8+-0x729]=this['_maxColorV'+'alue'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']),this['_clusterCo'+'mpressionL'+'imit0Id']['setValue'](this['_clusterCo'+'mpressionL'+'imit0Data']);}['evalLightC'+'ellMinMax'](_0x44310a,_0x469ba7,_0x5e1d31){_0x469ba7['copy'](_0x44310a['min']),_0x469ba7['sub'](this['boundsMin']),_0x469ba7['div'](this['boundsDelt'+'a']),_0x469ba7['mul2'](_0x469ba7,this['cells']),_0x469ba7['floor'](),_0x5e1d31['copy'](_0x44310a['max']),_0x5e1d31['sub'](this['boundsMin']),_0x5e1d31['div'](this['boundsDelt'+'a']),_0x5e1d31['mul2'](_0x5e1d31,this['cells']),_0x5e1d31['ceil'](),_0x469ba7['max'](A['ZERO']),_0x5e1d31['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x5ba2c4){const _0x2c7936=this['lightsBuff'+'er']['maxLights'],_0x1812eb=this['_usedLight'+'s'];let _0x466950=-0x87b+0x12d*-0x1d+0x2a95;_0x5ba2c4['forEach'](_0x139db8=>{const _0x2a2bf3=!!(_0x139db8['mask']&(ms|dr)),_0x2eb734=_0x139db8['type']===Fe&&_0x139db8['_outerCone'+'Angle']===-0x7*0xb6+0xb*0x319+0x3*-0x9b3;if(_0x139db8['enabled']&&_0x139db8['type']!==le&&_0x139db8['visibleThi'+'sFrame']&&_0x139db8['intensity']>0x1aae+-0x20ef+-0x1*-0x641&&_0x2a2bf3&&!_0x2eb734){if(_0x466950<_0x2c7936){let _0x367e21;_0x466950<_0x1812eb['length']?_0x367e21=_0x1812eb[_0x466950]:(_0x367e21=new o_(),_0x1812eb['push'](_0x367e21)),_0x367e21['light']=_0x139db8,_0x139db8['getBoundin'+'gBox'](Ed),_0x367e21['min']['copy'](Ed['getMin']()),_0x367e21['max']['copy'](Ed['getMax']()),_0x466950++;}else b['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x2c7936-(0x2ab+0x1*0x19c7+-0x1c71))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x1812eb['length']=_0x466950;}['evaluateBo'+'unds'](){const _0x2e0250=this['_usedLight'+'s'],_0x25fa5b=this['boundsMin'],_0x10fe57=this['boundsMax'];if(_0x2e0250['length']>0x6b*-0x2d+0x1a5*-0x2+-0x45*-0x52){_0x25fa5b['copy'](_0x2e0250[0x1*-0xcd+0xad*0x22+-0x162c]['min']),_0x10fe57['copy'](_0x2e0250[0xb*-0x337+0x5*0x7bd+-0x353]['max']);for(let _0x3aa729=0x1bbb+0x2*-0x100f+0x4b*0xf;_0x3aa729<_0x2e0250['length'];_0x3aa729++)_0x25fa5b['min'](_0x2e0250[_0x3aa729]['min']),_0x10fe57['max'](_0x2e0250[_0x3aa729]['max']);}else _0x25fa5b['set'](-0x2f*-0xa7+-0xa09+0x1*-0x14a0,0x1*-0x213d+0x1e5f+-0x2*-0x16f,0x121*0x17+0x1e8c+-0x3883),_0x10fe57['set'](-0x1776+-0x3c2*-0x5+0x4ad,-0x208d+-0x1b6b+0x3bf9,-0x199*0x1+0x96+0x1a*0xa);this['boundsDelt'+'a']['sub2'](_0x10fe57,_0x25fa5b),this['lightsBuff'+'er']['setBounds'](_0x25fa5b,this['boundsDelt'+'a']);}['evaluateCo'+'mpressionL'+'imits'](){let _0x12aa9f=0xd*-0x2ea+-0xd21+-0x3*-0x1101,_0x365db7=-0x3*0x6b0+-0x1342+0x2752;const _0x1d0b5e=this['_usedLight'+'s'];for(let _0x53de62=-0x1c46*-0x1+-0x6d3*-0x2+-0x29eb;_0x53de62<_0x1d0b5e['length'];_0x53de62++){const _0x18e634=_0x1d0b5e[_0x53de62]['light'];_0x12aa9f=Math['max'](_0x18e634['attenuatio'+'nEnd'],_0x12aa9f);const _0x56d68f=_0x18e634['_colorLine'+'ar'];_0x365db7=Math['max'](_0x56d68f[-0x1742+0x7*-0x4ea+0x39a8],_0x365db7),_0x365db7=Math['max'](_0x56d68f[-0x141*0x12+0x1eff+-0x86c],_0x365db7),_0x365db7=Math['max'](_0x56d68f[-0x1e94+-0x3e8+0x227e],_0x365db7);}this['_maxAttenu'+'ation']=_0x12aa9f+n_,this['_maxColorV'+'alue']=_0x365db7+n_,this['lightsBuff'+'er']['setCompres'+'sionRanges'](this['_maxAttenu'+'ation'],this['_maxColorV'+'alue']);}['updateClus'+'ters'](_0x22453a){this['counts']['fill'](-0x101*-0x11+-0xd*0x2cf+-0x1*-0x1372),this['clusters']['fill'](0x1*-0x1f91+0x1d2d+-0x264*-0x1),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x22453a?_0x22453a['areaLights'+'Enabled']:!(-0xbfb*-0x3+-0x6*-0x2bd+0x1a2f*-0x2);const _0x61cc5c=this['_cells']['x'],_0x465cba=this['_cells']['z'],_0x27a67e=this['counts'],_0x5207d6=this['_maxCellLi'+'ghtCount'],_0x535209=this['clusters'],_0x40434c=this['maxCellLig'+'htCount'];let _0x35b27d=!(0x1*-0x1a7b+0x2608+-0xb8c);const _0x59bdd0=this['_usedLight'+'s'];for(let _0xe3c5c6=0x3a7+0x4ef*0x3+0x1*-0x1273;_0xe3c5c6<_0x59bdd0['length'];_0xe3c5c6++){const _0x487be8=_0x59bdd0[_0xe3c5c6],_0x3fa013=_0x487be8['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x3fa013,_0xe3c5c6),this['evalLightC'+'ellMinMax'](_0x487be8,Fl,kl);const _0x43ea76=Fl['x'],_0x3e6630=kl['x'],_0x5b7947=Fl['y'],_0x44bba5=kl['y'],_0x215587=Fl['z'],_0x23435a=kl['z'];for(let _0x3e65ca=_0x43ea76;_0x3e65ca<=_0x3e6630;_0x3e65ca++)for(let _0x4b8bed=_0x215587;_0x4b8bed<=_0x23435a;_0x4b8bed++)for(let _0x22860d=_0x5b7947;_0x22860d<=_0x44bba5;_0x22860d++){const _0x195125=_0x3e65ca+_0x61cc5c*(_0x4b8bed+_0x22860d*_0x465cba),_0x15a9ba=_0x27a67e[_0x195125];_0x15a9ba<_0x5207d6?(_0x535209[_0x40434c*_0x195125+_0x15a9ba]=_0xe3c5c6,_0x27a67e[_0x195125]=_0x15a9ba+(0x12ad+0xa9b+-0x1d47)):_0x35b27d=!(-0x102*-0x6+-0x2666+0x2*0x102d);}}_0x35b27d&&this['reportCoun'+'t']<0x9e*0x22+-0x1c5f+0x768&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x1228+-0x1*-0x6a3+-0x18c7?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x16ee1f,_0xb83567=null){this['updatePara'+'ms'](_0xb83567),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x16ee1f),this['evaluateBo'+'unds'](),this['evaluateCo'+'mpressionL'+'imits'](),this['updateClus'+'ters'](_0xb83567),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const l_=0x6b*0x48+-0xb14*-0x1+-0x1*0x292a+0.39996322972865306,ul={'circlePoint'(_0x4aa682){const _0x407fe1=Math['sqrt'](Math['random']()),_0x1c7b90=Math['random']()*(-0x24da+-0x2db*-0x8+-0x45*-0x34)*Math['PI'];_0x4aa682['x']=_0x407fe1*Math['cos'](_0x1c7b90),_0x4aa682['y']=_0x407fe1*Math['sin'](_0x1c7b90);},'circlePointDeterministic'(_0x13742a,_0x531636,_0x549cc5){const _0x27a304=_0x531636*l_,_0x5c378=Math['sqrt'](_0x531636)/Math['sqrt'](_0x549cc5);_0x13742a['x']=_0x5c378*Math['cos'](_0x27a304),_0x13742a['y']=_0x5c378*Math['sin'](_0x27a304);},'spherePointDeterministic'(_0x1edcf7,_0x5c8c05,_0x5027e0,_0x23db6a=-0x1bed*-0x1+0x24c6+-0x40b3,_0x17a192=-0x12e5*0x2+0xa79+0x2*0xda9){_0x23db6a=0x1f1a*-0x1+-0x7bd+0x26d8-(0x1982+-0x1d5c+0x3dc)*_0x23db6a,_0x17a192=-0x7f*-0x1+-0x1*0x395+0x317-(0x219*-0x5+0x219a+-0x171b)*_0x17a192;const _0x31cdbf=z['lerp'](_0x23db6a,_0x17a192,_0x5c8c05/_0x5027e0),_0x18199d=Math['sqrt'](-0x1d94+-0x1*-0x19+0x1d7c-_0x31cdbf*_0x31cdbf),_0x58fd35=l_*_0x5c8c05;_0x1edcf7['x']=Math['cos'](_0x58fd35)*_0x18199d,_0x1edcf7['y']=_0x31cdbf,_0x1edcf7['z']=Math['sin'](_0x58fd35)*_0x18199d;},'radicalInverse'(_0x19f01d){let _0x572bc9=(_0x19f01d<<-0x151c+0x2e3*-0x5+-0x71f*-0x5|_0x19f01d>>>-0x2381*-0x1+0x8c9+-0x2c3a)>>>0x1294+-0x1*0x136d+0xd9*0x1;return _0x572bc9=((_0x572bc9&-0x622152ad+0x98709709+-0x8b2e9*-0x391)<<0x1*0x1be9+-0xa3f+0x19b*-0xb|(_0x572bc9&-0x1*-0x8c412bdd+-0x1217d72e5*0x1+0x13fe6f1b2)>>>0x7*0x58f+-0x11*0xa1+-0x1c37)>>>0x983+0x2d*-0x12+0x19*-0x41,_0x572bc9=((_0x572bc9&0x203d3412*-0x3+-0x336eb*0x1352+0x113f*0xc2d91)<<-0xcc6+0xdae*-0x2+0x2824|(_0x572bc9&0xc827b956+0xdc954699+-0x1*0xd7f03323)>>>-0x1*0x175b+-0x2a+0x1787)>>>0x17*0x199+-0x154e+-0xf71,_0x572bc9=((_0x572bc9&0xd21261*-0x19+0x1*-0x5284efd+-0x28bb2985*-0x1)<<0x1764+0x1840+-0x2fa0|(_0x572bc9&0xc*-0x194b3924+-0x10*-0x1194a58f+0x1072d45b0)>>>-0x3*-0x493+0x351*0x4+-0x5*0x565)>>>0x1*0x15c1+-0x18*-0x20+-0x1*0x18c1,_0x572bc9=((_0x572bc9&-0x4aa924+-0x2fef3e*0x8+-0x21f587*-0x15)<<-0xd08*-0x1+0x1be1+0x5*-0x82d|(_0x572bc9&-0x1822c9de+-0xb*0x64d1121+0x742681c3*0x3)>>>0x7d*-0x2f+-0x219a+0x3895)>>>0x20cb+0x1c37*0x1+-0x3d02,_0x572bc9*(-0x1508+-0x23e8+-0x2*-0x1c78+2.3283064365386963e-10);}},yC={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP'},xC={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Ds{static['decodeFunc'](_0x496eb6){return yC[_0x496eb6]||'decodeGamm'+'a';}static['encodeFunc'](_0x1c8bd3){return xC[_0x1c8bd3]||'encodeGamm'+'a';}static['getScreenD'+'epthChunk'](_0x3d241a,_0x454f96){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+(_0x454f96['sceneDepth'+'MapLinear']?'#define\x20SC'+'ENE_DEPTHM'+'AP_LINEAR':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0x3d241a['textureFlo'+'atRenderab'+'le']?'#define\x20SC'+'ENE_DEPTHM'+'AP_FLOAT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+j['screenDept'+'hPS']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20';}}const h_=_0x375ccb=>{switch(_0x375ccb){case Pu:return'Cubemap';case QS:return'Octahedral';default:return'Equirect';}},Ol=(_0x5f245e,_0x28b258,_0x270243)=>{if(_0x5f245e<=-0x5bd+-0x67*-0x3d+-0x1*0x12ce)_0x28b258[_0x270243+(-0xde+0x23e3+0x701*-0x5)]=-0x1b86+-0x1*-0x21+0x1b65,_0x28b258[_0x270243+(-0x1bde+0x16a3+-0x2*-0x29e)]=0x1ca1+-0x5*-0x62c+-0x1*0x3b7d,_0x28b258[_0x270243+(-0x2*0x50b+-0x2447+0x2e5f)]=-0x3*-0x2f5+0x229+-0x8*0x161,_0x28b258[_0x270243+(-0x1*0x1a17+0x1819+-0x201*-0x1)]=0x1e2*0x10+0xa0c+-0x282c;else{if(_0x5f245e>=-0x1*-0x1fff+-0xbca+-0x1434)_0x28b258[_0x270243+(0x19ab+0x1b44+0x34ef*-0x1)]=0x21ab+0x1690+-0x1f9*0x1c,_0x28b258[_0x270243+(-0x390*-0x2+-0x6*0x660+0x1f21)]=0x2691+-0x1*-0x1065+-0x36f6,_0x28b258[_0x270243+(0x13d7+0x2249+0x1b0f*-0x2)]=0x1e82+-0x1501+-0x981,_0x28b258[_0x270243+(0x20b0*0x1+-0x205*0x7+-0x128a)]=0x6ac*0x3+0x1e2e+-0x101*0x32;else{let _0x59a700=(0x258+-0x1bd1+0x197a)*_0x5f245e%(0x2f4+0x1*0x1601+-0x18f4),_0x185f85=(-0x1bb+0x265c+-0x23a2*0x1)*_0x5f245e%(0x111b*-0x1+0x10c*0xa+-0x19*-0x44),_0x522557=(-0x98fd+-0xc7*-0x19f+0x91*0x95)*_0x5f245e%(-0x4bb*0x5+-0x11f3+0x299b*0x1);const _0x4709d4=(-0x32faeb+0x388*0x2635+0xa912c2)*_0x5f245e%(-0x13a8+0x1efc*0x1+-0xb53);_0x59a700-=_0x185f85/(0x10+-0x2b7+-0x2*-0x1d3),_0x185f85-=_0x522557/(-0x5ca+-0x83f*0x1+0xf08),_0x522557-=_0x4709d4/(0x6e6*-0x3+0x16b7+-0x1*0x106),_0x28b258[_0x270243+(-0x1895+-0xe9b+0x1*0x2730)]=Math['min'](0x13a6+-0x1*0x18f5+0x64e,Math['floor'](_0x59a700*(0xc83*0x1+-0x5*0x6d3+0x169c))),_0x28b258[_0x270243+(-0x1d18+0x2b4+0x1a65)]=Math['min'](0x1*-0x207+0x2cb*0x5+-0xaf1*0x1,Math['floor'](_0x185f85*(0x181b+0x2*0xbe1+-0x5d*0x81))),_0x28b258[_0x270243+(-0x14e8+0x24da+-0x11*0xf0)]=Math['min'](0x1*-0x2342+-0x13c3+0x3804,Math['floor'](_0x522557*(0x170b+-0x1557+-0xb4))),_0x28b258[_0x270243+(0x1e5*0x13+0x7*0x423+-0x947*0x7)]=Math['min'](-0x5*0x48f+-0x1*-0xdd3+0x9f7,Math['floor'](_0x4709d4*(-0x8*-0x134+0x25ab+-0x2e4b)));}}},SC=_0x22a9b4=>{const _0x1b5491=_0x22a9b4['length'],_0x2fedb9=Math['min'](_0x1b5491,0x97*0x35+-0x1*0x140f+0x1*-0x934),_0x5e498f=Math['ceil'](_0x1b5491/_0x2fedb9),_0x3f5ef4=new Uint8Array(_0x2fedb9*_0x5e498f*(-0x87b+0x1b88+0x1*-0x1309));let _0x5d9eda=-0x2202+0x1*-0x83c+-0x2a3e*-0x1;for(let _0x4e50ee=0x45a+0x61*0x31+-0x16eb;_0x4e50ee<_0x1b5491;_0x4e50ee+=-0x159*-0x7+0x3bb+-0x66*0x21)Ol(_0x22a9b4[_0x4e50ee+(-0x1473+0xc1e+-0xed*-0x9)]*(0xa93+-0x118f+0x6fc+0.5)+(0x18ca+0x1d05*-0x1+0x43b+0.5),_0x3f5ef4,_0x5d9eda+(-0xb3*-0x17+-0x1*-0xa46+0x3*-0x8c9)),Ol(_0x22a9b4[_0x4e50ee+(0xa5*-0x25+0x6a*0x21+0xa30*0x1)]*(-0x259b+0x2296+-0x305*-0x1+0.5)+(0xd96*-0x2+0xa62+0x10ca+0.5),_0x3f5ef4,_0x5d9eda+(-0x7ca+-0xeb3+0x337*0x7)),Ol(_0x22a9b4[_0x4e50ee+(-0x2f*-0x1+0x1a*0xfc+0x9*-0x2dd)]*(-0x1ce0+0x18*0x71+0x1248+0.5)+(-0x114d*-0x2+-0x6*0xa2+-0x1ece*0x1+0.5),_0x3f5ef4,_0x5d9eda+(-0x57b+0x1741+-0x11be)),Ol(_0x22a9b4[_0x4e50ee+(-0x1bb*-0x14+0x9*0x3fb+-0x466c)]/(-0x1787+0x13cd*0x1+0x3c2),_0x3f5ef4,_0x5d9eda+(-0x1*0xf3d+-0x1df7+0x2d40)),_0x5d9eda+=0x4c2*0x8+-0x7*-0x373+-0x3e25;return{'width':_0x2fedb9,'height':_0x5e498f,'data':_0x3f5ef4};},vC=(_0x598291,_0x5022df,_0x3f9611,_0x54ece4)=>{const _0x4a59a1=_0x3f9611*(0xd*0x25d+0x12eb+-0x31a2)*Math['PI'],_0x4143c7=Math['pow'](0x7a8+-0x2585+0x1dde-_0x5022df,(0xf46+-0x153b+0x5f6)/(_0x54ece4+(-0x13*0x191+-0x1*0x19be+-0x31*-0x122))),_0x50fbf6=Math['sqrt'](0x78b+-0x3*0x9bf+-0x1f9*-0xb-_0x4143c7*_0x4143c7);_0x598291['set'](Math['cos'](_0x4a59a1)*_0x50fbf6,Math['sin'](_0x4a59a1)*_0x50fbf6,_0x4143c7)['normalize']();},bC=(_0x123c71,_0x1d11d6,_0x444be1)=>{const _0xa542a2=_0x444be1*(-0x2*-0xd51+-0x7*-0x189+-0x255f)*Math['PI'],_0x2a574e=Math['sqrt'](0x3d9+-0x870+0x498-_0x1d11d6),_0x2e4745=Math['sqrt'](_0x1d11d6);_0x123c71['set'](Math['cos'](_0xa542a2)*_0x2e4745,Math['sin'](_0xa542a2)*_0x2e4745,_0x2a574e)['normalize']();},wC=(_0x4bff35,_0x1b21c7,_0xae4787,_0x49af91)=>{const _0x6d0ec=_0xae4787*(0x683*-0x1+0x170d+-0x17*0xb8)*Math['PI'],_0x4711a0=Math['sqrt']((0x2665+0x5*0x1ab+-0x1*0x2ebb-_0x1b21c7)/(0x322+-0x52c+0x20b*0x1+(_0x49af91*_0x49af91-(-0x16b+-0xa74*-0x1+-0x2*0x484))*_0x1b21c7)),_0x46f57b=Math['sqrt'](0x21c+0x4a5*-0x1+0x28a-_0x4711a0*_0x4711a0);_0x4bff35['set'](Math['cos'](_0x6d0ec)*_0x46f57b,Math['sin'](_0x6d0ec)*_0x46f57b,_0x4711a0)['normalize']();},TC=(_0x4140f9,_0x577dd5)=>{const _0x1241e5=_0x4140f9*_0x577dd5,_0x119d57=_0x577dd5/(-0xee7*-0x2+0x3*0x9e9+-0x4f6*0xc-_0x4140f9*_0x4140f9+_0x1241e5*_0x1241e5);return _0x119d57*_0x119d57*((-0x117e+-0xb7*-0x17+0x10e)/Math['PI']);},AC=(_0x489390,_0x19570b)=>{const _0x218601=new A(),_0xe8b81e=[];for(let _0xb89e89=-0xd6*-0x9+-0x1642+0xebc;_0xb89e89<_0x489390;++_0xb89e89)vC(_0x218601,_0xb89e89/_0x489390,ul['radicalInv'+'erse'](_0xb89e89),_0x19570b),_0xe8b81e['push'](_0x218601['x'],_0x218601['y'],_0x218601['z'],0x1*0xc04+0x8f9*0x1+-0x14fd);return _0xe8b81e;},EC=(_0x4d5840,_0xcce79d)=>{const _0x662ac9=_0xcce79d/_0x4d5840,_0x3b80fc=new A(),_0x8bebe8=[];for(let _0x230867=-0x1*-0x20a2+0xf5b*0x1+0x999*-0x5;_0x230867<_0x4d5840;++_0x230867){bC(_0x3b80fc,_0x230867/_0x4d5840,ul['radicalInv'+'erse'](_0x230867));const _0x5001a6=_0x3b80fc['z']/Math['PI'],_0x4da60a=(-0x20da+0x24ad+-0x59*0xb+0.5)*Math['log2'](_0x662ac9/_0x5001a6);_0x8bebe8['push'](_0x3b80fc['x'],_0x3b80fc['y'],_0x3b80fc['z'],_0x4da60a);}return _0x8bebe8;},CC={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},MC=(_0x30c41a,_0x48f03a)=>{const _0x141fb4=CC[_0x30c41a];return _0x141fb4&&_0x141fb4[_0x48f03a]||_0x30c41a;},PC=(_0x5e734e,_0x8d3bc,_0x1643cd)=>{const _0x38b48c=_0x1643cd/_0x5e734e,_0x128abe=0x99*0x1+0x65c+0x2*-0x37a-Math['log2'](_0x8d3bc)/(-0x35*0xf+-0x1*0xcbb+0xfe1),_0xe24e4=_0x128abe*_0x128abe,_0x345e63=new A(),_0x5d7e0f=new A(),_0x3c12f6=new A(-0x235a+-0x1*0x2475+-0x47cf*-0x1,0x3*0x79d+0x545+-0x7*0x404,-0x9bc+0x2*0x9f3+-0x11*0x99),_0x466f05=[],_0x42b65f=MC(_0x5e734e,_0x8d3bc);for(let _0x45dee4=0x7*0x18a+0x1*-0x1665+0x11*0xaf;_0x45dee4<_0x42b65f;++_0x45dee4){wC(_0x345e63,_0x45dee4/_0x42b65f,ul['radicalInv'+'erse'](_0x45dee4),_0xe24e4);const _0x462ce4=_0x345e63['z'];if(_0x5d7e0f['set'](_0x345e63['x'],_0x345e63['y'],_0x345e63['z'])['mulScalar']((0x5ac+-0x6*0xb8+-0x15a)*_0x462ce4)['sub'](_0x3c12f6),_0x5d7e0f['z']>0x2000+0x1198*0x2+-0x4330){const _0x42c6ff=TC(Math['min'](0x19c1+0xd*-0x130+-0xa50,_0x462ce4),_0xe24e4)/(-0x25ee+-0x49*-0x22+0x1c40)+(0x268a+-0x59*-0x4d+-0x414f+0.001),_0x2dc447=(-0x1459*0x1+-0x242e+0x3887+0.5)*Math['log2'](_0x38b48c/_0x42c6ff);_0x466f05['push'](_0x5d7e0f['x'],_0x5d7e0f['y'],_0x5d7e0f['z'],_0x2dc447);}}for(;_0x466f05['length']<_0x5e734e*(0x1*-0xecc+-0x14f*-0x15+-0xcab);)_0x466f05['push'](-0x3a8*0x9+0x25c+0x1e8c,-0x210+-0x1b*0xfb+0xf*0x1e7,-0x1*-0x14ce+-0x1373+-0x15b,-0x1*-0x1056+-0x1b83*0x1+0xb2d);return _0x466f05;},RC=(_0x428a36,_0x3b3d37,_0x283d1d)=>{const _0x1db0be=SC(_0x283d1d);return new ce(_0x428a36,{'name':_0x3b3d37,'width':_0x1db0be['width'],'height':_0x1db0be['height'],'mipmaps':!(0x23d7+0x1c0f+-0x3fe5),'minFilter':fe,'magFilter':fe,'levels':[_0x1db0be['data']]});};class M0{constructor(_0x45bc4e=!(-0x1a81+0xf4d*0x2+-0x419*0x1)){c(this,'map',new Map()),this['destroyCon'+'tent']=_0x45bc4e;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x3f6e61,_0x3d8437)=>{_0x3f6e61['destroy']();});}['get'](_0x4375d6,_0x4a1de6){if(!this['map']['has'](_0x4375d6)){const _0x21db0d=_0x4a1de6();return this['map']['set'](_0x4375d6,_0x21db0d),_0x21db0d;}return this['map']['get'](_0x4375d6);}}const IC=new M0(!(0x13a2+-0xf40+-0x3b*0x13)),DC=new Ht(),Bp=(_0x51250c,_0x5d8bab,_0x21f602)=>DC['get'](_0x51250c,()=>new M0())['get'](_0x5d8bab,()=>RC(_0x51250c,_0x5d8bab,IC['get'](_0x5d8bab,_0x21f602))),LC=(_0x143b7c,_0x2b7154,_0xa9e1ed)=>{const _0x32967f='lambert-sa'+'mples-'+_0x2b7154+'-'+_0xa9e1ed;return Bp(_0x143b7c,_0x32967f,()=>EC(_0x2b7154,_0xa9e1ed));},FC=(_0x2a8bcb,_0x427ca3,_0x2e1659)=>{const _0xcca89a='phong-samp'+'les-'+_0x427ca3+'-'+_0x2e1659;return Bp(_0x2a8bcb,_0xcca89a,()=>AC(_0x427ca3,_0x2e1659));},kC=(_0x1147f6,_0x16da71,_0x27777f,_0x58b0fa)=>{const _0x27f331='ggx-sample'+'s-'+_0x16da71+'-'+_0x27777f+'-'+_0x58b0fa;return Bp(_0x1147f6,_0x27f331,()=>PC(_0x16da71,_0x27777f,_0x58b0fa));},OC='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0aunifor'+'m\x20vec4\x20uvM'+'od;\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20vU'+'v0\x20=\x20getIm'+'ageEffectU'+'V((vertex_'+'position.x'+'y\x20*\x200.5\x20+\x20'+'0.5)\x20*\x20uvM'+'od.xy\x20+\x20uv'+'Mod.zw);\x0a}'+'\x0a';function ii(_0x4599b9,_0x28595c,_0x54a22f={}){var _0x3c92f7,_0x1aa82a;b['assert'](_0x4599b9 instanceof ce&&_0x28595c instanceof ce,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x154108=_0x54a22f['seamPixels']??-0x24e4+0x10*-0x110+0x35e4,_0x1cc59e=(((_0x3c92f7=_0x54a22f['rect'])==null?void(-0x1487+0x1f21*0x1+-0xa9a):_0x3c92f7['z'])??_0x28595c['width'])-_0x154108*(-0x121*-0xf+-0x1ef3+0x167*0xa),_0x9de77f=(((_0x1aa82a=_0x54a22f['rect'])==null?void(0x59*0x6d+0x2362+-0x4947):_0x1aa82a['w'])??_0x28595c['height'])-_0x154108*(0x1*0x1ec3+-0x25f2+0x1*0x731);if(_0x1cc59e<-0x1*0x3b9+-0x105*0x20+0x245a||_0x9de77f<0x1ddf+-0x9a6+-0x50e*0x4)return!(0x1942+0x2319+0x6*-0xa0f);const _0x464ff0={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x4d5f8a=_0x54a22f['hasOwnProp'+'erty']('specularPo'+'wer')?_0x54a22f['specularPo'+'wer']:0x81e+0x4b7+0x2*-0x66a,_0x5e5f0f=_0x54a22f['hasOwnProp'+'erty']('face')?_0x54a22f['face']:null,_0x55dd02=_0x54a22f['hasOwnProp'+'erty']('distributi'+'on')?_0x54a22f['distributi'+'on']:_0x4d5f8a===0xb*-0x314+-0x1462*0x1+-0x607*-0x9?'none':'phong',_0x1ba813=_0x464ff0[_0x55dd02]||'reproject',_0xdfe0a7=_0x1ba813['startsWith']('prefilterS'+'amples'),_0x1a3f5b=Ds['decodeFunc'](_0x4599b9['encoding']),_0x1534be=Ds['encodeFunc'](_0x28595c['encoding']),_0x1b0ac3='sample'+h_(_0x4599b9['projection']),_0x1a92df='getDirecti'+'on'+h_(_0x28595c['projection']),_0x139182=_0x54a22f['hasOwnProp'+'erty']('numSamples')?_0x54a22f['numSamples']:-0x1*-0x12ae+-0xcb*-0x2+0x56c*-0x3,_0x399458=_0x1ba813+'_'+_0x1a3f5b+'_'+_0x1534be+'_'+_0x1b0ac3+'_'+_0x1a92df+'_'+_0x139182,_0x86b74f=_0x4599b9['device'];let _0x5df117=za(_0x86b74f)['getCachedS'+'hader'](_0x399458);if(!_0x5df117){const _0xecdeee='#define\x20PR'+'OCESS_FUNC'+'\x20'+_0x1ba813+'\x0a'+(_0xdfe0a7?'#define\x20US'+'E_SAMPLES_'+'TEX\x0a':'')+(_0x4599b9['cubemap']?'#define\x20CU'+'BEMAP_SOUR'+'CE\x0a':'')+('#define\x20DE'+'CODE_FUNC\x20')+_0x1a3f5b+('\x0a#define\x20E'+'NCODE_FUNC'+'\x20')+_0x1534be+('\x0a#define\x20S'+'OURCE_FUNC'+'\x20')+_0x1b0ac3+('\x0a#define\x20T'+'ARGET_FUNC'+'\x20')+_0x1a92df+('\x0a#define\x20N'+'UM_SAMPLES'+'\x20')+_0x139182+('\x0a#define\x20N'+'UM_SAMPLES'+'_SQRT\x20')+Math['round'](Math['sqrt'](_0x139182))['toFixed'](-0x1f7+-0x2cc+0x3d*0x14)+'\x0a';_0x5df117=Bs(_0x86b74f,OC,_0xecdeee+'\x0a'+j['reprojectP'+'S'],_0x399458);}G['pushGpuMar'+'ker'](_0x86b74f,'ReprojectT'+'exture'),_0x86b74f['setBlendSt'+'ate'](bt['NOBLEND']);const _0x4fe360=_0x86b74f['scope']['resolve'](_0x4599b9['cubemap']?'sourceCube':'sourceTex');b['assert'](_0x4fe360),_0x4fe360['setValue'](_0x4599b9);const _0x219788=_0x86b74f['scope']['resolve']('params'),_0x4e80f9=_0x86b74f['scope']['resolve']('uvMod');_0x154108>-0x6f2+-0xeec*-0x1+0x2*-0x3fd?_0x4e80f9['setValue']([(_0x1cc59e+_0x154108*(-0x120+0x1630+-0x436*0x5))/_0x1cc59e,(_0x9de77f+_0x154108*(-0x2683*-0x1+-0x7be+-0x1ec3))/_0x9de77f,-_0x154108/_0x1cc59e,-_0x154108/_0x9de77f]):_0x4e80f9['setValue']([-0xa5b+-0x1*-0xe2f+-0xb*0x59,-0xdcc+-0xf9b+0x1d68,0x1*0x6f7+0x3c5+0x1*-0xabc,-0x1a35+-0x7*0x4cb+-0x1de1*-0x2]);const _0x62c4bc=[0x1*0xe14+-0x1158+0x344,_0x28595c['width']*_0x28595c['height']*(_0x28595c['cubemap']?-0xf*0x286+-0x1604*0x1+0x3be4:0x194*0x9+0x2089+-0x2ebc),_0x4599b9['width']*_0x4599b9['height']*(_0x4599b9['cubemap']?0xee1+0xd85*-0x1+0x13*-0x12:0x269b+0x17db+0x1*-0x3e75)];if(_0xdfe0a7){const _0x531068=_0x4599b9['width']*_0x4599b9['height']*(_0x4599b9['cubemap']?-0x7a8+-0x1*0x210e+0x28bc:-0x410*0x3+-0x9c8+0x4b*0x4b),_0x2325c4=_0x55dd02==='ggx'?kC(_0x86b74f,_0x139182,_0x4d5f8a,_0x531068):_0x55dd02==='lambert'?LC(_0x86b74f,_0x139182,_0x531068):FC(_0x86b74f,_0x139182,_0x4d5f8a);_0x86b74f['scope']['resolve']('samplesTex')['setValue'](_0x2325c4),_0x86b74f['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x1*-0x346+-0x1*0x153e+0x1885)/_0x2325c4['width'],(-0x1579+-0x1ed5+0x7*0x779)/_0x2325c4['height']]);}for(let _0x4d463f=-0x1d26+-0x9*-0x288+0x65e;_0x4d463f<(_0x28595c['cubemap']?0xdc2+-0x1035*-0x1+-0x3*0x9fb:-0x107e+0x1f3c*-0x1+0x2fbb);_0x4d463f++)if(_0x5e5f0f===null||_0x4d463f===_0x5e5f0f){const _0x4d2bac=new St({'colorBuffer':_0x28595c,'face':_0x4d463f,'depth':!(0x1e72+-0x7e2*-0x3+0xe3*-0x3d),'flipY':_0x86b74f['isWebGPU']});_0x62c4bc[0x3b*-0x13+0x2286+0x1e25*-0x1]=_0x4d463f,_0x219788['setValue'](_0x62c4bc),fn(_0x86b74f,_0x4d2bac,_0x5df117,_0x54a22f==null?void(0x20ad+0x12a0+-0x334d):_0x54a22f['rect']),_0x4d2bac['destroy']();}return G['popGpuMark'+'er'](_0x86b74f),!(-0x3*-0x3bf+0x16cc+-0x2209);}const Cd=(_0x47a788,_0x31d26d=0x1985+-0x1dc2+0x1*0x43d)=>-0x2af+0xd5d+0x3*-0x38f+Math['floor'](Math['log2'](Math['max'](_0x47a788,_0x31d26d))),BC=_0x554f6c=>_0x554f6c['textureHal'+'fFloatRend'+'erable'],NC=_0x163bee=>_0x163bee['textureFlo'+'atRenderab'+'le'],zC=_0x3d4e38=>BC(_0x3d4e38)?it:NC(_0x3d4e38)?et:Te,UC=_0x485be8=>Te,VC=(_0xd4fd24,_0x5d9b16,_0x483e72,_0x1d1916)=>new ce(_0xd4fd24,{'name':'lighting-'+_0x5d9b16,'cubemap':!(0x11e7*-0x1+-0x46e+0x1655),'width':_0x5d9b16,'height':_0x5d9b16,'format':_0x483e72,'type':ko,'addressU':oe,'addressV':oe,'mipmaps':!(0x1*0x16+-0xd*-0x1ad+-0x15de)});class P0{static['generateSk'+'yboxCubema'+'p'](_0x55c705,_0xf1bc28){const _0x232957=_0x55c705['device'];G['pushGpuMar'+'ker'](_0x232957,'genSkyboxC'+'ubemap');const _0xa9bd06=VC(_0x232957,_0xf1bc28||(_0x55c705['cubemap']?_0x55c705['width']:_0x55c705['width']/(0xa7*-0x15+-0x4*0xed+0x116b*0x1)),Te);return ii(_0x55c705,_0xa9bd06,{'numSamples':0x400}),G['popGpuMark'+'er'](_0x232957),_0xa9bd06;}static['generateLi'+'ghtingSour'+'ce'](_0x3c9d1c,_0x53887e){const _0x5d977e=_0x3c9d1c['device'];G['pushGpuMar'+'ker'](_0x5d977e,'genLightin'+'gSource');const _0xa4a8cd=zC(_0x5d977e),_0x5527c8=(_0x53887e==null?void(-0x21f4+0x25d9*0x1+-0x3e5):_0x53887e['target'])||new ce(_0x5d977e,{'name':'lighting-s'+'ource','cubemap':!(-0x19d9+0x21eb+-0x812*0x1),'width':(_0x53887e==null?void(-0x1592+0x4a*0x6e+-0xa3a):_0x53887e['size'])||0xe*-0x14f+0x9b7+0x91b,'height':(_0x53887e==null?void(0x1e3a+-0x8c5*-0x1+-0x26ff):_0x53887e['size'])||-0xc*-0x70+-0x3e4*0x8+0x1a60,'format':_0xa4a8cd,'type':_0xa4a8cd===Te?ko:Bi,'addressU':oe,'addressV':oe,'mipmaps':!(-0x18af+-0x1*-0x2e1+-0x1*-0x15ce)});return ii(_0x3c9d1c,_0x5527c8,{'numSamples':_0x3c9d1c['mipmaps']?-0x1137+0xfcc+0x1c*0xd:-0x1b4c*0x1+-0x7be+0x107*0x26}),G['popGpuMark'+'er'](_0x5d977e),_0x5527c8;}static['generateAt'+'las'](_0x444fba,_0x59b8ab){const _0x803eaa=_0x444fba['device'],_0x39307e=UC();G['pushGpuMar'+'ker'](_0x803eaa,'genAtlas');const _0x4f1906=(_0x59b8ab==null?void(-0xcbc*0x1+0x1d6e+-0x10b2):_0x59b8ab['target'])||new ce(_0x803eaa,{'name':'envAtlas','width':(_0x59b8ab==null?void(-0x9ad*-0x1+0x16f2+-0x4a9*0x7):_0x59b8ab['size'])||-0x16fe+-0x30*0xc4+0x7*0x8d2,'height':(_0x59b8ab==null?void(-0x1c29+0xad*0x17+-0xaa*-0x13):_0x59b8ab['size'])||-0x912*-0x2+0x569+0x1*-0x158d,'format':_0x39307e,'type':ko,'projection':hm,'addressU':oe,'addressV':oe,'mipmaps':!(-0x21*-0xa5+0x112*0x18+-0x2ef4)});G['pushGpuMar'+'ker'](_0x803eaa,'mipmaps');const _0x5561fc=_0x4f1906['width']/(0x1e71+0x245a+0x40cb*-0x1),_0x35af0d=new ee(-0x175a+-0x170f*-0x1+0x4b,-0x2*0x11a5+0x1e03+0x547,(-0x97c+-0x2594+-0x10*-0x311)*_0x5561fc,(-0x106c+-0xd*-0x12d+0x1*0x223)*_0x5561fc),_0x2f4f4b=Cd(-0x1*0x18fa+-0x224a+-0x1d*-0x214)-Cd(0xfe5+0xbb*-0x25+0x1*0xb26);for(let _0x16db5e=-0xaf4+-0x1*0x12f1+0x1de5*0x1;_0x16db5e<_0x2f4f4b;++_0x16db5e)ii(_0x444fba,_0x4f1906,{'numSamples':0x1,'rect':_0x35af0d,'seamPixels':_0x5561fc}),_0x35af0d['x']+=_0x35af0d['w'],_0x35af0d['y']+=_0x35af0d['w'],_0x35af0d['z']=Math['max'](-0x1*0x19fe+0x2*0xdc1+-0x9*0x2b,Math['floor'](_0x35af0d['z']*(-0x1e3f+-0xb*0x2+0x1e55+0.5))),_0x35af0d['w']=Math['max'](-0x16f6+-0x1f18+0x360f,Math['floor'](_0x35af0d['w']*(-0x735*-0x1+0x1436+-0x1b6b*0x1+0.5)));G['popGpuMark'+'er'](_0x803eaa),G['pushGpuMar'+'ker'](_0x803eaa,'reflection'+'s'),_0x35af0d['set'](0x215f+-0x101*-0x21+0xe*-0x4c0,(0x225a*-0x1+0x103a+-0x660*-0x3)*_0x5561fc,(0x2*0x138+-0x252b+0xbe9*0x3)*_0x5561fc,(0x8cf+0x613*-0x5+0x2*0xb08)*_0x5561fc);for(let _0x2f91eb=0x2083+0x64e+-0x26d0;_0x2f91eb<-0x1eea*-0x1+-0x4*-0x7bb+-0x3dcf;++_0x2f91eb)ii(_0x444fba,_0x4f1906,{'numSamples':(_0x59b8ab==null?void(-0x2ae+0x2*-0x326+0x8fa):_0x59b8ab['numReflect'+'ionSamples'])||-0xa6e*0x1+-0xb60+-0x1*-0x19ce,'distribution':(_0x59b8ab==null?void(0x55e*0x4+-0x1d5*-0x15+-0x2d*0x155):_0x59b8ab['distributi'+'on'])||'ggx','specularPower':Math['max'](0x73b*-0x2+0x1*-0x7a0+0x1617,-0xc7*-0x15+0x7*0x24d+-0x186e>>_0x2f91eb*(0x1039*-0x2+-0x1*0x463+0x24d7)),'rect':_0x35af0d,'seamPixels':_0x5561fc}),_0x35af0d['y']+=_0x35af0d['w'],_0x35af0d['z']=Math['max'](-0xbfa+0x228+-0x1f7*-0x5,Math['floor'](_0x35af0d['z']*(-0x176f+0x2268+0xaf9*-0x1+0.5))),_0x35af0d['w']=Math['max'](-0x26a5*0x1+-0x4ed+0x2b93,Math['floor'](_0x35af0d['w']*(-0x3*0xcfb+-0xa41*-0x3+0x82e+0.5)));return G['popGpuMark'+'er'](_0x803eaa),G['pushGpuMar'+'ker'](_0x803eaa,'ambient'),_0x35af0d['set']((0x11d5+-0x7bb*0x1+0x99a*-0x1)*_0x5561fc,(0x16cc+-0x750+-0xdfc)*_0x5561fc,(-0x1a93*0x1+-0x102*-0x14+0x6ab)*_0x5561fc,(-0x2275*0x1+-0x1f4a+0x41df)*_0x5561fc),ii(_0x444fba,_0x4f1906,{'numSamples':(_0x59b8ab==null?void(0x10ed+-0x76f+-0x97e):_0x59b8ab['numAmbient'+'Samples'])||0x15af+0x221f*0x1+-0x1*0x2fce,'distribution':'lambert','rect':_0x35af0d,'seamPixels':_0x5561fc}),G['popGpuMark'+'er'](_0x803eaa),G['popGpuMark'+'er'](_0x803eaa),_0x4f1906;}static['generatePr'+'efilteredA'+'tlas'](_0x2ef7d3,_0x46ebd3){const _0x4d65b2=_0x2ef7d3[-0xb1c+-0x4f5+-0x1011*-0x1]['device'],_0x3fc73b=_0x2ef7d3[0x12b+-0xb*-0x33d+0x22a*-0x11]['format'],_0x37dd30=_0x2ef7d3[-0x3*-0x8e9+-0x16a4+-0x417]['type'];G['pushGpuMar'+'ker'](_0x4d65b2,'genPrefilt'+'eredAtlas');const _0x51101f=(_0x46ebd3==null?void(0x48f+0xb*0xa7+-0x2*0x5de):_0x46ebd3['target'])||new ce(_0x4d65b2,{'name':'envPrefilt'+'eredAtlas','width':(_0x46ebd3==null?void(-0x9ad*-0x1+0x1543+-0xa5*0x30):_0x46ebd3['size'])||0x2410+0x2*0x71f+0x304e*-0x1,'height':(_0x46ebd3==null?void(0x264e+-0x1a0a+-0x5*0x274):_0x46ebd3['size'])||0x24cd*-0x1+0x1d*-0x8e+-0x36e3*-0x1,'format':_0x3fc73b,'type':_0x37dd30,'projection':hm,'addressU':oe,'addressV':oe,'mipmaps':!(0x5*-0x145+0x15d*-0x1b+-0xe63*-0x3)});G['pushGpuMar'+'ker'](_0x4d65b2,'mipmaps');const _0x504fc1=_0x51101f['width']/(-0xb*-0x2ea+0x2*-0x15d+0x2c*-0x9f),_0x5e8307=new ee(-0x16c9+-0x1529+-0xe1*-0x32,0x2*-0x623+-0x3ba+0x10*0x100,(-0x22a*-0xd+-0x47*-0x1e+-0x2274)*_0x504fc1,(0x1a2b+-0x490+-0x149b)*_0x504fc1),_0x4db812=Cd(-0xb1+0x1*0x1051+0xda0*-0x1);for(let _0x406b5f=-0xcd*0x25+-0xe*-0x55+0x18fb;_0x406b5f<_0x4db812;++_0x406b5f)ii(_0x2ef7d3[-0x2f0+0x1aa0+-0x17b0],_0x51101f,{'numSamples':0x1,'rect':_0x5e8307,'seamPixels':_0x504fc1}),_0x5e8307['x']+=_0x5e8307['w'],_0x5e8307['y']+=_0x5e8307['w'],_0x5e8307['z']=Math['max'](0x7f0+-0xac5*-0x3+-0x283e,Math['floor'](_0x5e8307['z']*(-0x1*-0x23d5+0x5*0x749+-0x4842+0.5))),_0x5e8307['w']=Math['max'](-0xca9+-0x1d22+0xa*0x42e,Math['floor'](_0x5e8307['w']*(0x248*0x2+0xe9+-0x1d3*0x3+0.5)));G['popGpuMark'+'er'](_0x4d65b2),G['pushGpuMar'+'ker'](_0x4d65b2,'reflection'+'s'),_0x5e8307['set'](0x1e47*0x1+-0x16bd+-0x78a*0x1,(0x1d5b+0x1*0x25f+0x36a*-0x9)*_0x504fc1,(0x4c8+-0x15a4*-0x1+0x2*-0xcb6)*_0x504fc1,(0x22a*0xe+-0x2191+0x3c5)*_0x504fc1);for(let _0x4ce571=-0x6*-0x70+-0x8*-0xcd+0x1*-0x907;_0x4ce571<_0x2ef7d3['length'];++_0x4ce571)ii(_0x2ef7d3[_0x4ce571],_0x51101f,{'numSamples':0x1,'rect':_0x5e8307,'seamPixels':_0x504fc1}),_0x5e8307['y']+=_0x5e8307['w'],_0x5e8307['z']=Math['max'](0x1*-0x190b+0x138b+0x581*0x1,Math['floor'](_0x5e8307['z']*(-0x1f0d+-0x8d*-0xd+0x17e4+0.5))),_0x5e8307['w']=Math['max'](0x6c8+0x1*-0x1782+-0x1*-0x10bb,Math['floor'](_0x5e8307['w']*(0x2*0xdfd+0x1380+-0x2f7a+0.5)));return G['popGpuMark'+'er'](_0x4d65b2),G['pushGpuMar'+'ker'](_0x4d65b2,'ambient'),_0x5e8307['set']((0x15ec+0xaa5*-0x1+-0x1f*0x59)*_0x504fc1,(-0x493*-0x5+-0x18f3+-0x1*-0x394)*_0x504fc1,(-0x122f+-0x1*-0x88a+0x9e5)*_0x504fc1,(0x1eb*-0x9+0x1b3e+0x349*-0x3)*_0x504fc1),_0x46ebd3!=null&&_0x46ebd3['legacyAmbi'+'ent']?ii(_0x2ef7d3[0xa9d*-0x2+-0x1272+-0xd3b*-0x3],_0x51101f,{'numSamples':0x1,'rect':_0x5e8307,'seamPixels':_0x504fc1}):ii(_0x2ef7d3[-0x1fc1+0x1bf3+0x1e7*0x2],_0x51101f,{'numSamples':(_0x46ebd3==null?void(0xafb+-0x1db9+0x12be):_0x46ebd3['numSamples'])||-0x91*-0x22+-0x8e8+0x2*-0x12d,'distribution':'lambert','rect':_0x5e8307,'seamPixels':_0x504fc1}),G['popGpuMark'+'er'](_0x4d65b2),G['popGpuMark'+'er'](_0x4d65b2),_0x51101f;}}const GC={'aoPS':Et,'clearCoatPS':Et,'clearCoatGlossPS':cd,'clearCoatNormalPS':Et,'diffusePS':Et,'diffuseDetailMapPS':Et,'emissivePS':Et,'glossPS':cd,'lightmapDirPS':Mi,'lightmapSinglePS':Mi,'metalnessPS':Et,'normalMapPS':Et,'normalDetailMapPS':Et,'opacityPS':Et,'parallaxPS':Et,'sheenPS':Et,'sheenGlossPS':cd,'specularPS':Et,'specularityFactorPS':Et,'thicknessPS':Et,'transmissionPS':Et,'normalVertexPS':Mi,'startPS':Mi,'ambientConstantPS':Se,'ambientEnvPS':Se,'ambientSHPS':Se,'aoDiffuseOccPS':Se,'aoSpecOccPS':Se,'aoSpecOccConstPS':Se,'aoSpecOccConstSimplePS':Se,'aoSpecOccSimplePS':Se,'clusteredLightPS':Se,'clusteredLightShadowPS':Se,'combinePS':Se,'falloffInvSquaredPS':Se,'falloffLinearPS':Se,'lightDiffuseLambertPS':Se,'lightSheenPS':Se,'lightSpecularAnisoGGXPS':Se,'lightSpecularBlinnPS':Se,'ltcPS':Se,'reflDirPS':Se,'reflDirAnisoPS':Se,'reflectionCCPS':Se,'reflectionCubePS':Se,'reflectionEnvPS':Se,'reflectionEnvHQPS':Se,'reflectionSheenPS':Se,'reflectionSpherePS':Se,'shadowCommonPS':Se,'shadowCoordPS':Se,'shadowCoordPerspZBufferPS':Se,'shadowEVSMPS':Se,'shadowEVSMnPS':Se,'shadowStandardPS':Se,'shadowStandardGL2PS':Se,'spotPS':Se,'TBNPS':Se,'TBNObjectSpacePS':Se,'TBNderivativePS':Se,'endPS':pi,'metalnessModulatePS':pi,'outputAlphaPS':pi,'outputAlphaPremulPS':pi,'fresnelSchlickPS':pi,'iridescenceDiffractionPS':pi,'lightmapAddPS':pi,'lightmapDirAddPS':pi,'refractionCubePS':cm,'refractionDynamicPS':cm},HC={'ambientPrefilteredCubePS':Gi,'ambientPrefilteredCubeLodPS':Gi,'dpAtlasQuadPS':Gi,'genParaboloidPS':Gi,'prefilterCubemapPS':Gi,'reflectionDpAtlasPS':Gi,'reflectionPrefilteredCubePS':Gi,'reflectionPrefilteredCubeLodPS':Gi,'refractionPS':gr,'combineClearCoatPS':gr,'combineDiffusePS':gr,'combineDiffuseSpecularPS':gr,'combineDiffuseSpecularNoReflPS':gr,'combineDiffuseSpecularNoReflSeparateAmbientPS':gr,'combineDiffuseSpecularOldPS':gr,'lightmapSingleVertPS':Mi,'normalMapFastPS':Mi,'specularAaNonePS':Mi,'specularAaToksvigPS':Mi,'specularAaToksvigFastPS':Mi,'skyboxEnvPS':dm,'skyboxHDRPS':dm,'shadowVSM8PS':bv,'fogExpPS':An,'fogExp2PS':An,'fogLinearPS':An,'fogNonePS':An,'gamma1_0PS':An,'gamma2_2PS':An},WC=(_0x42a7bf,_0x457d08)=>{const _0x568a0f=_0x42a7bf['split']('.')['map'](_0x30438c=>parseInt(_0x30438c,0x63*-0x38+0x1*-0x147f+0x2a31)),_0x318b90=_0x457d08['split']('.')['map'](_0xa8b557=>parseInt(_0xa8b557,-0x1*0x1051+0x1*-0x3c6+-0x1*-0x1421));return _0x568a0f[0x291*-0xf+-0x149+0x27c8]<_0x318b90[-0x8c4+-0x1af0+0x8ed*0x4]||_0x568a0f[0x107f+0x3*-0xed+-0xdb8]===_0x318b90[-0x1bd+0x1358+-0x119b]&&_0x568a0f[-0x17f+-0x146*-0x15+0x193e*-0x1]<_0x318b90[-0x12c9+-0x22d+0x14f7];},$C=_0x36bfb0=>{const _0x23d5a5=_0x36bfb0['APIVersion'];for(const _0x1cc6d5 in _0x36bfb0)if(_0x1cc6d5!=='APIVersion'){if(j['hasOwnProp'+'erty'](_0x1cc6d5)){const _0x1caa9d=GC[_0x1cc6d5];_0x1caa9d&&(!_0x23d5a5||WC(_0x23d5a5,_0x1caa9d))&&b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1cc6d5+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1caa9d+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x23d5a5||'-')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}else{const _0x4fa641=HC[_0x1cc6d5];_0x4fa641?b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1cc6d5+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x4fa641+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.')):b['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x1cc6d5+('\x27\x20is\x20not\x20s'+'upported.'));}}};class rr{constructor(){c(this,'code','');}['append'](..._0x3de8fc){_0x3de8fc['forEach'](_0x5361d2=>{_0x5361d2['endsWith']('\x0a')?this['code']+=_0x5361d2:this['code']+=_0x5361d2+'\x0a';});}['prepend'](..._0xfd7db2){_0xfd7db2['forEach'](_0x1fedcb=>{_0x1fedcb['endsWith']('\x0a')?this['code']=_0x1fedcb+this['code']:this['code']=_0x1fedcb+'\x0a'+this['code'];});}}const Md={'vertex_normal':ss,'vertex_tangent':si,'vertex_texCoord0':ds,'vertex_texCoord1':yn,'vertex_color':It,'vertex_boneWeights':ei,'vertex_boneIndices':Jt},c_={'vVertexColor':'vec4','vPositionW':'vec3','vNormalV':'vec3','vNormalW':'vec3','vTangentW':'vec3','vBinormalW':'vec3','vObjectSpaceUpW':'vec3','vUv0':'vec2','vUv1':'vec2','vLinearDepth':'float'};class qC{constructor(_0x5b0a62,_0x5987c0){if(this['device']=_0x5b0a62,this['options']=_0x5987c0,this['attributes']={'vertex_position':Xe},_0x5987c0['userAttrib'+'utes']){for(const [_0x2f77aa,_0x2b2d48]of Object['entries'](_0x5987c0['userAttrib'+'utes']))this['attributes'][_0x2b2d48]=_0x2f77aa;}if(_0x5987c0['chunks']){const _0x121df0=_0x5987c0['chunks'];$C(_0x121df0),this['chunks']=Object['create'](j);for(const _0x17340f in j)if(_0x121df0['hasOwnProp'+'erty'](_0x17340f)){const _0x3fa0eb=_0x121df0[_0x17340f];for(const _0x2c8238 in Md)Md['hasOwnProp'+'erty'](_0x2c8238)&&_0x3fa0eb['indexOf'](_0x2c8238)>=-0x7a*-0x39+0x139+-0x1c63&&(this['attributes'][_0x2c8238]=Md[_0x2c8238]);this['chunks'][_0x17340f]=_0x3fa0eb;}}else this['chunks']=j;this['shaderPass'+'Info']=ti['get'](this['device'])['getByIndex'](_0x5987c0['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x5987c0['lights']['length']>0x22d6+0x15cd+-0x38a3||_0x5987c0['dirLightMa'+'pEnabled']||_0x5987c0['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=!!_0x5987c0['reflection'+'Source'],this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x5987c0['useSpecula'+'r']||_0x5987c0['ambientSH']||_0x5987c0['useHeights']||_0x5987c0['enableGGXS'+'pecular']||_0x5987c0['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x5987c0['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x5987c0['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x5987c0['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x5987c0['useDynamic'+'Refraction'],this['varyings']='',this['varyingDef'+'ines']='',this['vshader']=null,this['frontendDe'+'cl']=null,this['frontendCo'+'de']=null,this['frontendFu'+'nc']=null,this['lightingUv']=null,this['defines']=[],this['fshader']=null;}['_vsAddBase'+'Code'](_0x492927,_0x298b35,_0x16c98f){return _0x492927+=_0x298b35['baseVS'],(_0x16c98f['nineSliced'+'Mode']===ht||_0x16c98f['nineSliced'+'Mode']===st)&&(_0x492927+=_0x298b35['baseNineSl'+'icedVS']),_0x492927;}['_setMapTra'+'nsform'](_0x53b83f,_0x40a7f0,_0x54c210,_0x3689ff){const _0x981a9f=_0x54c210+_0x3689ff*(-0x20a5+-0x1bb3+0x4*0xf2f);if(!_0x53b83f[0x1796+0x26b0+-0xa1*0x63][_0x981a9f]){const _0x5b1bb7='texture_'+_0x40a7f0+('MapTransfo'+'rm');_0x53b83f[0x19fe+0x1aae+-0x34ac]+='uniform\x20ve'+'c3\x20'+_0x5b1bb7+'0;\x0a',_0x53b83f[0x1*-0x1afb+-0x299+0x1d94]+='uniform\x20ve'+'c3\x20'+_0x5b1bb7+'1;\x0a',_0x53b83f[0x183*-0x16+0xaa9*0x1+0x169a]+='varying\x20ve'+'c2\x20vUV'+_0x3689ff+'_'+_0x54c210+';\x0a',_0x53b83f[0x1b42+-0x23b*0x4+-0x1254]+='\x20\x20\x20vUV'+_0x3689ff+'_'+_0x54c210+('\x20=\x20vec2(do'+'t(vec3(uv')+_0x3689ff+',\x201),\x20'+_0x5b1bb7+('0),\x20dot(ve'+'c3(uv')+_0x3689ff+',\x201),\x20'+_0x5b1bb7+'1));\x0a',_0x53b83f[0x1*-0x80c+0x1b3+0x65c][_0x981a9f]=!(0x34*-0x47+-0x1*0x1b55+0x29c1);}return _0x53b83f;}['_fsGetBase'+'Code'](){const _0x500bf5=this['options'],_0x15b84e=this['chunks'];let _0x3789a2=this['chunks']['basePS'];return _0x500bf5['nineSliced'+'Mode']===ht?_0x3789a2+=_0x15b84e['baseNineSl'+'icedPS']:_0x500bf5['nineSliced'+'Mode']===st&&(_0x3789a2+=_0x15b84e['baseNineSl'+'icedTiledP'+'S']),_0x3789a2;}['_fsGetStar'+'tCode'](_0x3cf6f2,_0x33d92f,_0x5b69e0,_0x4f4a8e){let _0x2c39cc=_0x5b69e0['startPS'];return _0x4f4a8e['nineSliced'+'Mode']===ht?_0x2c39cc+=_0x5b69e0['startNineS'+'licedPS']:_0x4f4a8e['nineSliced'+'Mode']===st&&(_0x2c39cc+=_0x5b69e0['startNineS'+'licedTiled'+'PS']),_0x2c39cc;}['_getLightS'+'ourceShape'+'String'](_0x1e85e5){switch(_0x1e85e5){case Gb:return'Rect';case Hb:return'Disk';case Wb:return'Sphere';default:return'';}}['generateVe'+'rtexShader'](_0x4d225e,_0x2a5fbd,_0x1cd255){const _0x34d0fd=this['device'],_0x280d6e=this['options'],_0x877991=this['chunks'];let _0x4390f5='',_0x107419='',_0x2285bf='';_0x4390f5=this['_vsAddBase'+'Code'](_0x4390f5,_0x877991,_0x280d6e),_0x107419+='\x20\x20\x20vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a',this['options']['linearDept'+'h']&&(_0x2285bf+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_view;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x107419+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'linear\x20dep'+'th\x20from\x20th'+'e\x20worldPos'+'ition,\x20see'+'\x20getLinear'+'Depth\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vLinearD'+'epth\x20=\x20-(m'+'atrix_view'+'\x20*\x20vec4(vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),this['options']['useInstanc'+'ing']&&this['chunks']['transformI'+'nstancingV'+'S']===j['transformI'+'nstancingV'+'S']&&(this['attributes']['instance_l'+'ine1']=lp,this['attributes']['instance_l'+'ine2']=Sa,this['attributes']['instance_l'+'ine3']=hp,this['attributes']['instance_l'+'ine4']=va),_0x4390f5+=_0x877991['transformV'+'S'],this['needsNorma'+'l']&&(_0x4390f5+=_0x877991['normalCore'+'VS'],_0x4390f5+=_0x877991['normalVS']),this['needsNorma'+'l']&&(this['attributes']['vertex_nor'+'mal']=ss,_0x107419+='\x20\x20\x20vNormal'+'W\x20=\x20getNor'+'mal();\x0a',_0x280d6e['reflection'+'Source']==='sphereMap'&&_0x34d0fd['fragmentUn'+'iformsCoun'+'t']<=-0x1a6a*-0x1+-0xc6c*-0x2+-0x3332&&(_0x4390f5+=_0x877991['viewNormal'+'VS'],_0x107419+='\x20\x20\x20vNormal'+'V\x20\x20\x20\x20=\x20get'+'ViewNormal'+'();\x0a'),_0x280d6e['hasTangent'+'s']&&(_0x280d6e['useHeights']||_0x280d6e['useNormals']||_0x280d6e['enableGGXS'+'pecular'])?(this['attributes']['vertex_tan'+'gent']=si,_0x4390f5+=_0x877991['tangentBin'+'ormalVS'],_0x107419+='\x20\x20\x20vTangen'+'tW\x20\x20\x20=\x20get'+'Tangent();'+'\x0a',_0x107419+='\x20\x20\x20vBinorm'+'alW\x20\x20=\x20get'+'Binormal()'+';\x0a'):_0x280d6e['enableGGXS'+'pecular']&&(_0x107419+='\x20\x20\x20vObject'+'SpaceUpW\x20='+'\x20normalize'+'(dNormalMa'+'trix\x20*\x20vec'+'3(0,\x201,\x200)'+');\x0a'));const _0x263660=0x1cf0+0x8de+-0xec*0x29;for(let _0x4ebfa5=-0x9e*-0x25+0x1f5f*-0x1+0x889;_0x4ebfa5<_0x263660;_0x4ebfa5++)_0x4d225e[_0x4ebfa5]&&(this['attributes']['vertex_tex'+'Coord'+_0x4ebfa5]='TEXCOORD'+_0x4ebfa5,_0x4390f5+=_0x877991['uv'+_0x4ebfa5+'VS'],_0x107419+='\x20\x20\x20vec2\x20uv'+_0x4ebfa5+'\x20=\x20getUv'+_0x4ebfa5+'();\x0a'),_0x2a5fbd[_0x4ebfa5]&&(_0x107419+='\x20\x20\x20vUv'+_0x4ebfa5+'\x20=\x20uv'+_0x4ebfa5+';\x0a');const _0x2272a5=[_0x4390f5,this['varyings'],_0x107419,[]];_0x1cd255['forEach'](_0xf039bc=>{this['_setMapTra'+'nsform'](_0x2272a5,_0xf039bc['name'],_0xf039bc['id'],_0xf039bc['uv']);}),_0x4390f5=_0x2272a5[-0x1*-0x6a4+-0x269c+0x1ff8],this['varyings']=_0x2272a5[-0x956+-0x2498+0x2def],_0x107419=_0x2272a5[0x1*-0xf7+-0x10ee+0x11e7*0x1],_0x280d6e['vertexColo'+'rs']&&(this['attributes']['vertex_col'+'or']=It,_0x107419+='\x20\x20\x20vVertex'+'Color\x20=\x20ve'+'rtex_color'+';\x0a'),_0x280d6e['useMsdf']&&_0x280d6e['msdfTextAt'+'tribute']&&(this['attributes']['vertex_out'+'lineParame'+'ters']=Lo,this['attributes']['vertex_sha'+'dowParamet'+'ers']=Fo,_0x107419+='\x20\x20\x20\x20unpack'+'MsdfParams'+'();\x0a',_0x4390f5+=_0x877991['msdfVS']),(_0x280d6e['useMorphPo'+'sition']||_0x280d6e['useMorphNo'+'rmal'])&&(_0x2285bf+='#define\x20MO'+'RPHING\x0a',_0x280d6e['useMorphTe'+'xtureBased'+'Int']&&(_0x2285bf+='#define\x20MO'+'RPHING_INT'+'\x0a'),_0x280d6e['useMorphPo'+'sition']&&(_0x2285bf+='#define\x20MO'+'RPHING_POS'+'ITION\x0a'),_0x280d6e['useMorphNo'+'rmal']&&(_0x2285bf+='#define\x20MO'+'RPHING_NOR'+'MAL\x0a'),this['attributes']['morph_vert'+'ex_id']=va),_0x280d6e['skin']?(this['attributes']['vertex_bon'+'eIndices']=Jt,_0x280d6e['batch']?_0x2285bf+='#define\x20BA'+'TCH\x0a':(this['attributes']['vertex_bon'+'eWeights']=ei,_0x2285bf+='#define\x20SK'+'IN\x0a')):_0x280d6e['useInstanc'+'ing']&&(_0x2285bf+='#define\x20IN'+'STANCING\x0a'),_0x280d6e['screenSpac'+'e']&&(_0x2285bf+='#define\x20SC'+'REENSPACE\x0a'),_0x280d6e['pixelSnap']&&(_0x2285bf+='#define\x20PI'+'XELSNAP\x0a'),_0x4390f5+='\x0a',_0x4390f5+=_0x877991['startVS'],_0x4390f5+=_0x107419,_0x4390f5+=_0x877991['endVS'],_0x4390f5+='}',Object['keys'](c_)['forEach'](_0x57f856=>{_0x4390f5['indexOf'](_0x57f856)>=0xe42+-0x173b+0x1*0x8f9&&(this['varyings']+='varying\x20'+c_[_0x57f856]+'\x20'+_0x57f856+';\x0a',this['varyingDef'+'ines']+='#define\x20VA'+'RYING_'+_0x57f856['toUpperCas'+'e']()+'\x0a');}),this['vshader']=_0x2285bf+this['varyings']+_0x4390f5;}['_fsGetBegi'+'nCode'](){let _0x325d6a='';for(let _0x37b651=-0x1e3b+0x8*0x26c+0xadb;_0x37b651<this['defines']['length'];_0x37b651++)_0x325d6a+='#define\x20'+this['defines'][_0x37b651]+'\x0a';return _0x325d6a;}['_fsGetPick'+'PassCode'](){return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+this['_fsGetBegi'+'nCode']()+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyings']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['varyingDef'+'ines']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendDe'+'cl']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['frontendCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+this['chunks']['pickPS']+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')+this['frontendFu'+'nc']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20getPickO'+'utput();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20');}['_fsGetDept'+'hPassCode'](){let _0x5ca95a=this['_fsGetBegi'+'nCode']();return _0x5ca95a+=this['varyings'],_0x5ca95a+=this['varyingDef'+'ines'],_0x5ca95a+=this['frontendDe'+'cl'],_0x5ca95a+=this['frontendCo'+'de'],_0x5ca95a+=Nt['begin'](),_0x5ca95a+=this['frontendFu'+'nc'],_0x5ca95a+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0,\x201'+'.0,\x201.0,\x201'+'.0);\x0a',_0x5ca95a+=Nt['end'](),_0x5ca95a;}['_fsGetPreP'+'assCode'](){let _0x5132c2=this['_fsGetBegi'+'nCode']();return _0x5132c2+=this['varyings'],_0x5132c2+=this['varyingDef'+'ines'],_0x5132c2+=this['chunks']['floatAsUin'+'tPS'],_0x5132c2+=this['frontendDe'+'cl'],_0x5132c2+=this['frontendCo'+'de'],_0x5132c2+=Nt['begin'](),_0x5132c2+=this['frontendFu'+'nc'],_0x5132c2+=this['device']['textureFlo'+'atRenderab'+'le']?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(vLinear'+'Depth,\x201.0'+',\x201.0,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2uint(v'+'LinearDept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20',_0x5132c2+=Nt['end'](),_0x5132c2;}['_fsGetShad'+'owPassCode'](){const _0xfa1825=this['options'],_0x5033e3=this['chunks'],_0x53b201=this['varyings'],_0x35675d=this['shaderPass'+'Info']['lightType'];let _0x4d9816=this['shaderPass'+'Info']['shadowType'];_0x35675d!==le&&_0xfa1825['clusteredL'+'ightingEna'+'bled']&&(_0x4d9816===Wr||_0x4d9816===$r||_0x4d9816===Rs)&&(_0x4d9816=zt);const _0x28033d=nr['get'](_0x4d9816);b['assert'](_0x28033d);const _0x3b14d0=(_0x28033d==null?void(0x1*0x805+-0xe85+0x1a*0x40):_0x28033d['vsm'])??!(0xd01+0x20f+-0xf0f),_0x761e80=(_0x28033d==null?void(-0x5fc+-0x1*-0x18ad+-0x12b1):_0x28033d['pcss'])??!(-0x2269+-0x18e7+0xbdd*0x5);let _0x18a553=this['_fsGetBegi'+'nCode']();_0x4d9816===$r?_0x18a553+='#define\x20VS'+'M_EXPONENT'+'\x2015.0\x0a\x0a':_0x4d9816===Wr&&(_0x18a553+='#define\x20VS'+'M_EXPONENT'+'\x205.54\x0a\x0a'),_0x35675d!==le&&(_0x18a553+='uniform\x20ve'+'c3\x20view_po'+'sition;\x0a',_0x18a553+='uniform\x20fl'+'oat\x20light_'+'radius;\x0a'),_0x18a553+=_0x53b201,_0x18a553+=this['varyingDef'+'ines'],_0x18a553+=this['frontendDe'+'cl'],_0x18a553+=this['frontendCo'+'de'],_0x4d9816===Rs&&(_0x18a553+=j['linearizeD'+'epthPS']),_0x18a553+=Nt['begin'](),_0x18a553+=this['frontendFu'+'nc'];const _0x301314=_0x35675d===le||!_0x3b14d0&&_0x35675d===Fe;let _0x4a3e90=!(-0x1a51*-0x1+-0x6bf+0x1391*-0x1);return _0x301314?(_0x18a553+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20gl'+'_FragCoord'+'.z;\x0a',_0x761e80&&_0x35675d!==le&&(_0x18a553+='\x20\x20\x20\x20depth\x20'+'=\x20lineariz'+'eDepth(dep'+'th,\x20camera'+'_params);\x0a')):(_0x18a553+='\x20\x20\x20\x20float\x20'+'depth\x20=\x20mi'+'n(distance'+'(view_posi'+'tion,\x20vPos'+'itionW)\x20/\x20'+'light_radi'+'us,\x200.9999'+'9);\x0a',_0x4a3e90=!(0x7*-0x35f+0xa65*-0x2+0x409*0xb)),_0x3b14d0?_0x18a553+=_0x5033e3['storeEVSMP'+'S']:_0x761e80?_0x18a553+='\x20\x20\x20\x20gl_Fra'+'gColor.r\x20='+'\x20depth;\x0a':(_0x4a3e90&&(_0x18a553+='\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a'),_0x18a553+='\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(1.0);\x0a'),_0x18a553+=Nt['end'](),_0x18a553;}['_fsGetLitP'+'assCode'](){var _0x170423;const _0x3b37b2=this['device'],_0x34a365=this['options'],_0x178d4e=this['chunks'],_0x7e188d=new rr(),_0x5797ee=new rr(),_0x51bbe1=new rr(),_0x3aafed=new rr();_0x34a365['opacityFad'+'esSpecular']===!(-0xcd1*-0x1+0x2*-0x10e2+0x14f4)&&_0x7e188d['append']('uniform\x20fl'+'oat\x20materi'+'al_alphaFa'+'de;'),_0x34a365['useSpecula'+'r']&&(this['defines']['push']('LIT_SPECUL'+'AR'),this['reflection'+'s']&&this['defines']['push']('LIT_REFLEC'+'TIONS'),_0x34a365['useClearCo'+'at']&&this['defines']['push']('LIT_CLEARC'+'OAT'),_0x34a365['fresnelMod'+'el']>-0x1b2d+-0x3*-0xc02+-0x5*0x1c5&&this['defines']['push']('LIT_SPECUL'+'AR_FRESNEL'),_0x34a365['useSheen']&&this['defines']['push']('LIT_SHEEN'),_0x34a365['useIridesc'+'ence']&&this['defines']['push']('LIT_IRIDES'+'CENCE'));const _0x4933bb=[];let _0x13bc92=-0x183f*-0x1+0x1ef6+-0x3735,_0x42b1e9=!(-0x1638+0x25*0xb3+-0x3a6),_0x47829d=!(-0x1*-0x61+0x457*0x2+-0x90e),_0xe93f=!(-0x3*-0x237+0x1001+-0x16a5*0x1),_0x434a6a=_0x34a365['lights']['some'](_0x1db9b9=>_0x1db9b9['_shape']&&_0x1db9b9['_shape']!==Tt);_0x34a365['clusteredL'+'ightingEna'+'bled']&&_0x34a365['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&(_0x434a6a=!(-0x136c+0x3cf+-0xf9d*-0x1)),(_0x434a6a||_0x34a365['clusteredL'+'ightingEna'+'bled'])&&(_0x7e188d['append']('#define\x20AR'+'EA_LIGHTS'),_0x7e188d['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;'),_0x7e188d['append']('uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'2;'));for(let _0x159e16=0x7*-0x332+0x25*-0x10b+0x3cf5*0x1;_0x159e16<_0x34a365['lights']['length'];_0x159e16++){const _0x2ffd2c=_0x34a365['lights'][_0x159e16],_0x2f955c=_0x2ffd2c['_type'];if(_0x34a365['clusteredL'+'ightingEna'+'bled']&&_0x2f955c!==le)continue;const _0x5801cc=_0x434a6a&&_0x2ffd2c['_shape']?_0x2ffd2c['_shape']:Tt;_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+'_color;'),_0x2ffd2c['_shadowTyp'+'e']===Rs&&_0x2ffd2c['castShadow'+'s']&&!_0x34a365['noShadow']&&(_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_shadowSea'+'rchArea;')),_0x7e188d['append']('uniform\x20ve'+'c4\x20light'+_0x159e16+('_cameraPar'+'ams;')),_0x2f955c===le&&_0x7e188d['append']('uniform\x20ve'+'c4\x20light'+_0x159e16+('_softShado'+'wParams;'))),_0x2f955c===le?_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+('_direction'+';')):(_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+'_position;'),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+'_radius;'),_0x2f955c===Fe&&(_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+('_direction'+';')),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_innerCone'+'Angle;')),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_outerCone'+'Angle;')))),_0x5801cc!==Tt&&(_0x2f955c===le&&_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+'_position;'),_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+('_halfWidth'+';')),_0x7e188d['append']('uniform\x20ve'+'c3\x20light'+_0x159e16+('_halfHeigh'+'t;'))),_0x2ffd2c['castShadow'+'s']&&!_0x34a365['noShadow']&&(_0x7e188d['append']('uniform\x20ma'+'t4\x20light'+_0x159e16+('_shadowMat'+'rix;')),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_shadowInt'+'ensity;')),_0x2f955c===le&&(_0x7e188d['append']('uniform\x20ma'+'t4\x20light'+_0x159e16+('_shadowMat'+'rixPalette'+'[4];')),_0x7e188d['append']('uniform\x20ve'+'c4\x20light'+_0x159e16+('_shadowCas'+'cadeDistan'+'ces;')),_0x7e188d['append']('uniform\x20in'+'t\x20light'+_0x159e16+('_shadowCas'+'cadeCount;')),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_shadowCas'+'cadeBlend;'))),_0x7e188d['append']('uniform\x20ve'+'c4\x20light'+_0x159e16+('_shadowPar'+'ams;')),_0x2f955c===le&&(_0x42b1e9=!(0x25c4+0x1653+0x1*-0x3c17)),_0x2f955c===Le?_0x7e188d['append']('uniform\x20'+(_0x2ffd2c['_isPcf']?'samplerCub'+'eShadow':'samplerCub'+'e')+'\x20light'+_0x159e16+('_shadowMap'+';')):_0x7e188d['append']('uniform\x20'+(_0x2ffd2c['_isPcf']?'sampler2DS'+'hadow':'sampler2D')+'\x20light'+_0x159e16+('_shadowMap'+';')),_0x13bc92++,_0x4933bb[_0x2ffd2c['_shadowTyp'+'e']]=!(0x214b*-0x1+-0x1f34+0x407f),_0x2ffd2c['_isVsm']&&(_0x47829d=!(-0x1d*-0x12b+0xe81*-0x1+-0x135e)),_0x2ffd2c['_shadowTyp'+'e']===Rs&&(_0xe93f=!(-0x1*0x9e3+0x4*-0x8f8+0xf41*0x3))),_0x2ffd2c['_cookie']&&(_0x2ffd2c['_cookie']['_cubemap']?_0x2f955c===Le&&(_0x7e188d['append']('uniform\x20sa'+'mplerCube\x20'+'light'+_0x159e16+'_cookie;'),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_cookieInt'+'ensity;')),(!_0x2ffd2c['castShadow'+'s']||_0x34a365['noShadow'])&&_0x7e188d['append']('uniform\x20ma'+'t4\x20light'+_0x159e16+('_shadowMat'+'rix;'))):_0x2f955c===Fe&&(_0x7e188d['append']('uniform\x20sa'+'mpler2D\x20li'+'ght'+_0x159e16+'_cookie;'),_0x7e188d['append']('uniform\x20fl'+'oat\x20light'+_0x159e16+('_cookieInt'+'ensity;')),(!_0x2ffd2c['castShadow'+'s']||_0x34a365['noShadow'])&&_0x7e188d['append']('uniform\x20ma'+'t4\x20light'+_0x159e16+('_shadowMat'+'rix;')),_0x2ffd2c['_cookieTra'+'nsform']&&(_0x7e188d['append']('uniform\x20ve'+'c4\x20light'+_0x159e16+('_cookieMat'+'rix;')),_0x7e188d['append']('uniform\x20ve'+'c2\x20light'+_0x159e16+('_cookieOff'+'set;')))));}const _0x4bc0e1=this['needsNorma'+'l']&&(_0x34a365['useNormals']||_0x34a365['useClearCo'+'atNormals']||_0x34a365['enableGGXS'+'pecular']&&!_0x34a365['useHeights']);if(_0x4bc0e1&&(_0x34a365['hasTangent'+'s']?_0x5797ee['append'](_0x178d4e['TBNPS']):_0x34a365['useNormals']||_0x34a365['useClearCo'+'atNormals']?_0x5797ee['append'](_0x178d4e['TBNderivat'+'ivePS']['replace'](/\$UV/g,this['lightingUv'])):_0x5797ee['append'](_0x178d4e['TBNObjectS'+'pacePS']),_0x34a365['twoSidedLi'+'ghting']&&_0x5797ee['append'](_0x178d4e['twoSidedLi'+'ghtingPS'])),_0x5797ee['append'](_0x178d4e['sphericalP'+'S']),_0x5797ee['append'](_0x178d4e['decodePS']),_0x5797ee['append'](_0x178d4e['gammaPS']),_0x5797ee['append'](_0x178d4e['tonemappin'+'gPS']),_0x5797ee['append'](_0x178d4e['fogPS']),_0x5797ee['append'](this['frontendCo'+'de']),_0x34a365['useCubeMap'+'Rotation']&&_0x7e188d['append']('#define\x20CU'+'BEMAP_ROTA'+'TION'),this['needsNorma'+'l']&&(_0x5797ee['append'](_0x178d4e['cubeMapRot'+'atePS']),_0x5797ee['append'](_0x34a365['cubeMapPro'+'jection']>-0x1*0x91e+-0x8e2+0x1200?_0x178d4e['cubeMapPro'+'jectBoxPS']:_0x178d4e['cubeMapPro'+'jectNonePS']),_0x5797ee['append'](_0x34a365['skyboxInte'+'nsity']?_0x178d4e['envMultipl'+'yPS']:_0x178d4e['envConstPS'])),(this['lighting']&&_0x34a365['useSpecula'+'r']||this['reflection'+'s'])&&(_0x34a365['useMetalne'+'ss']&&_0x5797ee['append'](_0x178d4e['metalnessM'+'odulatePS']),_0x34a365['fresnelMod'+'el']===Tp&&_0x5797ee['append'](_0x178d4e['fresnelSch'+'lickPS']),_0x34a365['useIridesc'+'ence']&&_0x5797ee['append'](_0x178d4e['iridescenc'+'eDiffracti'+'onPS'])),_0x34a365['useAo'])switch(_0x5797ee['append'](_0x178d4e['aoDiffuseO'+'ccPS']),_0x34a365['occludeSpe'+'cular']){case Vo:_0x5797ee['append'](_0x34a365['occludeSpe'+'cularFloat']?_0x178d4e['aoSpecOccS'+'implePS']:_0x178d4e['aoSpecOccC'+'onstSimple'+'PS']);break;case Bu:_0x5797ee['append'](_0x34a365['occludeSpe'+'cularFloat']?_0x178d4e['aoSpecOccP'+'S']:_0x178d4e['aoSpecOccC'+'onstPS']);break;}_0x34a365['reflection'+'Source']==='envAtlasHQ'?(_0x5797ee['append'](_0x178d4e['envAtlasPS']),_0x5797ee['append'](_0x178d4e['reflection'+'EnvHQPS']['replace'](/\$DECODE_CUBEMAP/g,Ds['decodeFunc'](_0x34a365['reflection'+'CubemapEnc'+'oding']))['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x34a365['reflection'+'Encoding'])))):_0x34a365['reflection'+'Source']==='envAtlas'?(_0x5797ee['append'](_0x178d4e['envAtlasPS']),_0x5797ee['append'](_0x178d4e['reflection'+'EnvPS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x34a365['reflection'+'Encoding'])))):_0x34a365['reflection'+'Source']==='cubeMap'?_0x5797ee['append'](_0x178d4e['reflection'+'CubePS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x34a365['reflection'+'Encoding']))):_0x34a365['reflection'+'Source']==='sphereMap'&&_0x5797ee['append'](_0x178d4e['reflection'+'SpherePS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x34a365['reflection'+'Encoding']))),this['reflection'+'s']&&(_0x34a365['useClearCo'+'at']&&_0x5797ee['append'](_0x178d4e['reflection'+'CCPS']),_0x34a365['useSheen']&&_0x5797ee['append'](_0x178d4e['reflection'+'SheenPS'])),_0x34a365['useRefract'+'ion']&&(_0x34a365['useDynamic'+'Refraction']?(_0x34a365['dispersion']&&(_0x7e188d['append']('uniform\x20fl'+'oat\x20materi'+'al_dispers'+'ion;'),_0x7e188d['append']('#define\x20DI'+'SPERSION\x0a')),_0x5797ee['append'](_0x178d4e['refraction'+'DynamicPS'])):this['reflection'+'s']&&_0x5797ee['append'](_0x178d4e['refraction'+'CubePS'])),_0x34a365['useSheen']&&_0x5797ee['append'](_0x178d4e['lightSheen'+'PS']),_0x34a365['clusteredL'+'ightingEna'+'bled']&&(_0x5797ee['append'](_0x178d4e['clusteredL'+'ightUtilsP'+'S']),_0x34a365['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x5797ee['append'](_0x178d4e['clusteredL'+'ightCookie'+'sPS']),_0x34a365['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x34a365['noShadow']&&(_0x4933bb[zt]=!(-0x22e0+0xe78+0x1468*0x1),_0x4933bb[fh]=!(-0xe92+0x2290+-0x6*0x355),_0x4933bb[Rs]=!(-0x5*-0x3b3+-0x5*-0x31b+-0x1a*0x14f))),(_0x13bc92>-0xb23+-0x1491+0x1fb4||_0x34a365['clusteredL'+'ightingEna'+'bled'])&&(_0x42b1e9&&_0x5797ee['append'](_0x178d4e['shadowCasc'+'adesPS']),(_0x4933bb[Gh]||_0x4933bb[zt]||_0x4933bb[Hh]||_0x4933bb[Wh])&&_0x5797ee['append'](_0x178d4e['shadowStan'+'dardPS']),(_0x4933bb[fh]||_0x4933bb[ku])&&_0x5797ee['append'](_0x178d4e['shadowStan'+'dardGL2PS']),_0x47829d&&(_0x5797ee['append'](_0x178d4e['shadowVSM_'+'commonPS']),_0x4933bb[Wr]&&_0x5797ee['append'](_0x178d4e['shadowEVSM'+'PS']['replace'](/\$/g,'16')),_0x4933bb[$r]&&_0x5797ee['append'](_0x3b37b2['extTexture'+'FloatLinea'+'r']?_0x178d4e['shadowEVSM'+'PS']['replace'](/\$/g,'32'):_0x178d4e['shadowEVSM'+'nPS']['replace'](/\$/g,'32'))),_0xe93f&&(_0x5797ee['append'](_0x178d4e['linearizeD'+'epthPS']),_0x5797ee['append'](_0x178d4e['shadowPCSS'+'PS']),_0x5797ee['append'](_0x178d4e['shadowSoft'+'PS']))),_0x34a365['enableGGXS'+'pecular']&&_0x5797ee['append']('uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opy;'),this['lighting']&&(_0x5797ee['append'](_0x178d4e['lightDiffu'+'seLambertP'+'S']),(_0x434a6a||_0x34a365['clusteredL'+'ightingAre'+'aLightsEna'+'bled'])&&_0x5797ee['append'](_0x178d4e['ltcPS']));let _0x20a931=!(0x123d+-0x2*0xf34+0xc2c);_0x34a365['useSpecula'+'r']&&(this['lighting']&&_0x5797ee['append'](_0x34a365['enableGGXS'+'pecular']?_0x178d4e['lightSpecu'+'larAnisoGG'+'XPS']:_0x178d4e['lightSpecu'+'larBlinnPS']),!_0x34a365['fresnelMod'+'el']&&!this['reflection'+'s']&&!_0x34a365['diffuseMap'+'Enabled']&&(_0x7e188d['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x7e188d['append']('#define\x20LI'+'T_OLD_AMBI'+'ENT'),_0x20a931=!(0x1b70+0x330+-0x10*0x1ea))),_0x5797ee['append'](_0x178d4e['combinePS']),_0x34a365['lightMapEn'+'abled']&&_0x5797ee['append'](_0x34a365['useSpecula'+'r']&&_0x34a365['dirLightMa'+'pEnabled']?_0x178d4e['lightmapDi'+'rAddPS']:_0x178d4e['lightmapAd'+'dPS']);const _0x2f5450=!_0x34a365['lightMapEn'+'abled']||_0x34a365['lightMapWi'+'thoutAmbie'+'nt'];_0x2f5450&&(_0x34a365['ambientSou'+'rce']==='ambientSH'?_0x5797ee['append'](_0x178d4e['ambientSHP'+'S']):_0x34a365['ambientSou'+'rce']==='envAtlas'?(_0x34a365['reflection'+'Source']!=='envAtlas'&&_0x34a365['reflection'+'Source']!=='envAtlasHQ'&&_0x5797ee['append'](_0x178d4e['envAtlasPS']),_0x5797ee['append'](_0x178d4e['ambientEnv'+'PS']['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x34a365['ambientEnc'+'oding'])))):_0x5797ee['append'](_0x178d4e['ambientCon'+'stantPS'])),_0x20a931||_0x7e188d['append']('uniform\x20ve'+'c3\x20materia'+'l_ambient;'),_0x34a365['useMsdf']&&(_0x34a365['msdfTextAt'+'tribute']||_0x7e188d['append']('#define\x20UN'+'IFORM_TEXT'+'_PARAMETER'+'S'),_0x5797ee['append'](_0x178d4e['msdfPS'])),this['needsNorma'+'l']&&(_0x5797ee['append'](_0x178d4e['viewDirPS']),_0x34a365['useSpecula'+'r']&&_0x5797ee['append'](_0x34a365['enableGGXS'+'pecular']?_0x178d4e['reflDirAni'+'soPS']:_0x178d4e['reflDirPS']));let _0x22955d=!(0x2026+0x4*0x236+-0x28fd),_0x4bc016=!(-0x1f04+0x640+-0x18c5*-0x1),_0x21e1ef=!(0x1c27+-0x1283*-0x2+0x184*-0x2b),_0x10d887=!(0x83f+-0x214a+-0x190c*-0x1),_0x1518c2=!(-0xbe1*-0x1+-0xd3*-0x11+-0x19e3),_0x5ae851;if(_0x34a365['clusteredL'+'ightingEna'+'bled']&&this['lighting']){if(_0x10d887=!(0xd*0x1+0xd14+0x1*-0xd21),_0x22955d=!(-0x15*-0x5e+-0x1e3a+-0x20c*-0xb),_0x4bc016=!(-0x2215+0x46f*0x5+0xbea*0x1),_0x1518c2=!(0xa8d*-0x1+-0x2316+0x685*0x7),_0x5797ee['append'](_0x178d4e['floatUnpac'+'kingPS']),_0x34a365['lightMaskD'+'ynamic']&&_0x7e188d['append']('#define\x20CL'+'USTER_MESH'+'_DYNAMIC_L'+'IGHTS'),_0x34a365['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x7e188d['append']('#define\x20CL'+'USTER_COOK'+'IES'),_0x34a365['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x34a365['noShadow']){const _0xdf51af=(_0x170423=nr['get'](_0x34a365['clusteredL'+'ightingSha'+'dowType']))==null?void(-0x63d*0x1+0x2*-0x1038+0x26ad):_0x170423['name'];b['assert'](_0xdf51af);const _0x7ebea6=_0xdf51af['substring'](0x1530+0x8f*0x8+0x4*-0x66a,-0x7a2+-0xa46+-0x8f6*-0x2);_0x7e188d['append']('#define\x20CL'+'USTER_SHAD'+'OWS'),_0x7e188d['append']('#define\x20CL'+'USTER_SHAD'+'OW_TYPE_'+_0x7ebea6);}_0x34a365['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x7e188d['append']('#define\x20CL'+'USTER_AREA'+'LIGHTS'),_0x7e188d['append'](C0['getShaderD'+'efines']()),_0x34a365['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x34a365['noShadow']&&_0x5797ee['append'](_0x178d4e['clusteredL'+'ightShadow'+'sPS']),_0x5797ee['append'](_0x178d4e['clusteredL'+'ightPS']);}if(_0x3aafed['append'](this['_fsGetStar'+'tCode'](_0x3aafed,_0x3b37b2,_0x178d4e,_0x34a365)),this['needsNorma'+'l']&&(_0x3aafed['append']('\x20\x20\x20\x20dVerte'+'xNormalW\x20='+'\x20normalize'+'(vNormalW)'+';'),(_0x34a365['useHeights']||_0x34a365['useNormals'])&&_0x34a365['hasTangent'+'s']&&(_0x3aafed['append']('\x20\x20\x20\x20dTange'+'ntW\x20=\x20vTan'+'gentW;'),_0x3aafed['append']('\x20\x20\x20\x20dBinor'+'malW\x20=\x20vBi'+'normalW;')),_0x3aafed['append']('\x20\x20\x20\x20getVie'+'wDir();'),_0x4bc0e1&&(_0x3aafed['append']('\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'),_0x34a365['twoSidedLi'+'ghting']&&_0x3aafed['append']('\x20\x20\x20\x20handle'+'TwoSidedLi'+'ghting();'))),_0x3aafed['append'](this['frontendFu'+'nc']),_0x34a365['ssao']&&(_0x5797ee['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec2\x20ssaoT'+'extureSize'+'Inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20'),_0x51bbe1['append']('litArgs_ao'+'\x20*=\x20textur'+'e2DLod(ssa'+'oTexture,\x20'+'gl_FragCoo'+'rd.xy\x20*\x20ss'+'aoTextureS'+'izeInv,\x200.'+'0).r;')),this['needsNorma'+'l']&&(_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20\x20getRef'+'lDir(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_gloss'+',\x20dTBN);'),_0x34a365['useClearCo'+'at']&&_0x51bbe1['append']('\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));')),(this['lighting']&&_0x34a365['useSpecula'+'r']||this['reflection'+'s'])&&(_0x34a365['useMetalne'+'ss']&&(_0x51bbe1['append']('\x20\x20\x20\x20float\x20'+'f0\x20=\x201.0\x20/'+'\x20litArgs_i'+'or;\x20f0\x20=\x20('+'f0\x20-\x201.0)\x20'+'/\x20(f0\x20+\x201.'+'0);\x20f0\x20*=\x20'+'f0;'),_0x51bbe1['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20getS'+'pecularMod'+'ulate(litA'+'rgs_specul'+'arity,\x20lit'+'Args_albed'+'o,\x20litArgs'+'_metalness'+',\x20f0);'),_0x51bbe1['append']('\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);')),_0x34a365['useIridesc'+'ence']&&_0x51bbe1['append']('\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+'ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);')),_0x2f5450&&(_0x51bbe1['append']('\x20\x20\x20\x20addAmb'+'ient(litAr'+'gs_worldNo'+'rmal);'),_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);'),_0x34a365['separateAm'+'bient']&&_0x51bbe1['append']('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20dAmb'+'ientLight\x20'+'=\x20dDiffuse'+'Light;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20vec3(0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20')),_0x20a931||_0x51bbe1['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20material_'+'ambient;'),_0x34a365['useAo']&&!_0x34a365['occludeDir'+'ect']&&_0x51bbe1['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),_0x34a365['lightMapEn'+'abled']&&_0x51bbe1['append']('\x20\x20\x20\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ligh'+'tmapDir,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dReflDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dTBN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);'),this['lighting']||this['reflection'+'s']){this['reflection'+'s']&&(_0x34a365['useClearCo'+'at']&&(_0x51bbe1['append']('\x20\x20\x20\x20addRef'+'lectionCC('+'ccReflDirW'+',\x20litArgs_'+'clearcoat_'+'gloss);'),_0x34a365['fresnelMod'+'el']>-0x18b9+-0x4aa+0x1d63?(_0x51bbe1['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));'),_0x51bbe1['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20ccFres'+'nel;')):_0x51bbe1['append']('\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;')),_0x34a365['useSpecula'+'rityFactor']&&_0x51bbe1['append']('\x20\x20\x20\x20ccRefl'+'ection.rgb'+'\x20*=\x20litArg'+'s_specular'+'ityFactor;'),_0x34a365['useSheen']&&_0x51bbe1['append']('\x20\x20\x20\x20addRef'+'lectionShe'+'en(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_sheen_g'+'loss);'),_0x51bbe1['append']('\x20\x20\x20\x20addRef'+'lection(dR'+'eflDirW,\x20l'+'itArgs_glo'+'ss);'),_0x34a365['fresnelMod'+'el']>-0x42*-0x63+0x12fd*-0x2+0xc74?_0x51bbe1['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_gloss,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'):_0x51bbe1['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'ty;'),_0x34a365['useSpecula'+'rityFactor']&&_0x51bbe1['append']('\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*=\x20litArgs'+'_speculari'+'tyFactor;')),_0x434a6a&&(_0x51bbe1['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'y;'),_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20\x20calcLT'+'CLightValu'+'es(litArgs'+'_gloss,\x20li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW,\x20'+'litArgs_sp'+'ecularity,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20lit'+'Args_clear'+'coat_specu'+'larity);'));for(let _0x4072b4=0x1533+-0x15*0x29+0x5f2*-0x3;_0x4072b4<_0x34a365['lights']['length'];_0x4072b4++){const _0x100d86=_0x34a365['lights'][_0x4072b4],_0x45d88e=_0x100d86['_type'];if(_0x34a365['clusteredL'+'ightingEna'+'bled']&&_0x45d88e!==le)continue;_0x5ae851=!(0x1*0x5e2+-0x2*0x234+-0x179);const _0x22be5f=_0x434a6a&&_0x100d86['_shape']?_0x100d86['shape']:Tt,_0x451989=_0x434a6a&&_0x100d86['_shape']?this['_getLightS'+'ourceShape'+'String'](_0x22be5f):'';if(_0x22be5f!==Tt&&_0x51bbe1['append']('\x20\x20\x20\x20calc'+_0x451989+('LightValue'+'s(light')+_0x4072b4+('_position,'+'\x20light')+_0x4072b4+('_halfWidth'+',\x20light')+_0x4072b4+('_halfHeigh'+'t);')),_0x45d88e===le?(_0x51bbe1['append']('\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light'+_0x4072b4+('_direction'+';')),_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20=\x201.0;')):(_0x100d86['_cookie']&&(_0x45d88e===Fe&&!_0x100d86['_cookie']['_cubemap']||_0x45d88e===Le&&_0x100d86['_cookie']['_cubemap'])&&(_0x1518c2=!(0xa*0x346+0x7*0x311+-0x6f*0x7d),_0x5ae851=!(0xd*0xfb+-0x1193+0x4d4)),_0x51bbe1['append']('\x20\x20\x20\x20getLig'+'htDirPoint'+'(light'+_0x4072b4+('_position)'+';')),_0x22955d=!(0x4b*-0xe+-0x1*0x14db+0x1*0x18f5),_0x5ae851&&(_0x45d88e===Fe?_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kie2D'+(_0x100d86['_cookieFal'+'loff']?'':'Clip')+(_0x100d86['_cookieTra'+'nsform']?'Xform':'')+'(light'+_0x4072b4+('_cookie,\x20l'+'ight')+_0x4072b4+('_shadowMat'+'rix,\x20light')+_0x4072b4+('_cookieInt'+'ensity')+(_0x100d86['_cookieTra'+'nsform']?',\x20light'+_0x4072b4+('_cookieMat'+'rix,\x20light')+_0x4072b4+('_cookieOff'+'set'):'')+').'+_0x100d86['_cookieCha'+'nnel']+';'):_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'3\x20=\x20getCoo'+'kieCube(li'+'ght'+_0x4072b4+('_cookie,\x20l'+'ight')+_0x4072b4+('_shadowMat'+'rix,\x20light')+_0x4072b4+('_cookieInt'+'ensity).')+_0x100d86['_cookieCha'+'nnel']+';')),_0x22be5f===Tt?_0x100d86['_falloffMo'+'de']===Cp?(_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offLinear('+'light'+_0x4072b4+('_radius,\x20d'+'LightDirW)'+';')),_0x4bc016=!(-0x233d+-0xbc5*0x1+0x446*0xb)):(_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offInvSqua'+'red(light'+_0x4072b4+('_radius,\x20d'+'LightDirW)'+';')),_0x21e1ef=!(0x12*0x189+-0x1*-0x1eab+-0xc7*0x4b)):(_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'light'+_0x4072b4+('_radius,\x20d'+'LightDirW)'+';')),_0x21e1ef=!(0x2*-0x66a+-0x15fa+0x22ce)),_0x51bbe1['append']('\x20\x20\x20\x20if\x20(dA'+'tten\x20>\x200.0'+'0001)\x20{'),_0x45d88e===Fe&&(_0x5ae851&&!_0x100d86['_cookieFal'+'loff']||(_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getSpo'+'tEffect(li'+'ght'+_0x4072b4+('_direction'+',\x20light')+_0x4072b4+('_innerCone'+'Angle,\x20lig'+'ht')+_0x4072b4+('_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);')),_0x10d887=!(0x2*-0x11f9+0x271*-0xf+0x4891)))),_0x22be5f!==Tt?_0x45d88e===le?_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'):_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'D\x20=\x20get'+_0x451989+('LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;')):_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20getLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi'+'rW,\x20dLight'+'DirNormW);'),_0x100d86['castShadow'+'s']&&!_0x34a365['noShadow']){const _0xa4d362=nr['get'](_0x100d86['_shadowTyp'+'e']);b['assert'](_0xa4d362);const _0x1df791=_0x100d86['_shadowTyp'+'e']===Rs,_0x506bea=_0xa4d362==null?void(0x2021+-0x214+-0x1e0d):_0xa4d362['vsm'],_0x400b98=_0xa4d362==null?void(0x1042+0x74b+-0x178d):_0xa4d362['pcf'];let _0x3546bf=null,_0x5586a7;switch(_0x100d86['_shadowTyp'+'e']){case Wr:_0x3546bf='VSM16',_0x5586a7='5.54';break;case $r:_0x3546bf='VSM32',_0x5586a7='15.0';break;case Gh:case Hh:_0x3546bf='PCF1x1';break;case fh:case ku:_0x3546bf='PCF5x5';break;case Rs:_0x3546bf='PCSS';break;case zt:case Wh:default:_0x3546bf='PCF3x3';break;}if(_0x3546bf!==null){_0x100d86['_normalOff'+'setBias']&&!_0x100d86['_isVsm']&&_0x5797ee['append']('#define\x20SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET'),_0x45d88e===le&&_0x5797ee['append']('#define\x20SH'+'ADOW_SAMPL'+'E_ORTHO'),(_0x400b98||_0x1df791||_0x3b37b2['isWebGPU'])&&_0x5797ee['append']('#define\x20SH'+'ADOW_SAMPL'+'E_SOURCE_Z'+'BUFFER'),_0x45d88e===Le&&_0x5797ee['append']('#define\x20SH'+'ADOW_SAMPL'+'E_POINT');const _0x413d99=_0x178d4e['shadowSamp'+'leCoordPS'];_0x5797ee['append'](_0x413d99['replace']('$LIGHT',_0x4072b4)),_0x5797ee['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_NORMAL_OF'+'FSET'),_0x5797ee['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_ORTHO'),_0x5797ee['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_SOURCE_ZB'+'UFFER'),_0x5797ee['append']('#undef\x20SHA'+'DOW_SAMPLE'+'_POINT');let _0x3e2cdf='light'+_0x4072b4+('_shadowMat'+'rix');_0x45d88e===le&&_0x100d86['numCascade'+'s']>-0x26*0xe3+-0x3e8+0x3*0xc89&&(_0x51bbe1['append']('int\x20cascad'+'eIndex'+_0x4072b4+('\x20=\x20getShad'+'owCascadeI'+'ndex(light')+_0x4072b4+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x4072b4+('_shadowCas'+'cadeCount)'+';')),_0x100d86['cascadeBle'+'nd']>0x5cb*0x3+0x187+0x37*-0x58&&_0x51bbe1['append']('cascadeInd'+'ex'+_0x4072b4+('\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex')+_0x4072b4+',\x20light'+_0x4072b4+('_shadowCas'+'cadeDistan'+'ces,\x20light')+_0x4072b4+('_shadowCas'+'cadeCount,'+'\x20light')+_0x4072b4+('_shadowCas'+'cadeBlend)'+';')),_0x51bbe1['append']('mat4\x20casca'+'deShadowMa'+'t'+_0x4072b4+'\x20=\x20light'+_0x4072b4+('_shadowMat'+'rixPalette'+'[cascadeIn'+'dex')+_0x4072b4+'];'),_0x3e2cdf='cascadeSha'+'dowMat'+_0x4072b4),_0x51bbe1['append']('\x20\x20\x20\x20dShado'+'wCoord\x20=\x20g'+'etShadowSa'+'mpleCoord'+_0x4072b4+'('+_0x3e2cdf+',\x20light'+_0x4072b4+('_shadowPar'+'ams,\x20vPosi'+'tionW,\x20dLi'+'ghtPosW,\x20d'+'LightDirW,'+'\x20dLightDir'+'NormW,\x20dVe'+'rtexNormal'+'W);')),_0x45d88e===le&&_0x51bbe1['append']('\x20\x20\x20\x20fadeSh'+'adow(light'+_0x4072b4+('_shadowCas'+'cadeDistan'+'ces);'));let _0xf2ff3e='SHADOWMAP_'+'PASS(light'+_0x4072b4+('_shadowMap'+'),\x20dShadow'+'Coord,\x20lig'+'ht')+_0x4072b4+('_shadowPar'+'ams');if(_0x506bea)_0xf2ff3e=_0xf2ff3e+',\x20'+_0x5586a7+(',\x20dLightDi'+'rW');else{if(_0x1df791){let _0x23e1cc=_0x45d88e===le?'light'+_0x4072b4+('_softShado'+'wParams'):'vec2(light'+_0x4072b4+('_shadowSea'+'rchArea)');_0x22be5f!==Tt&&(_0x23e1cc='vec2(lengt'+'h(light'+_0x4072b4+('_halfWidth'+'),\x20length('+'light')+_0x4072b4+('_halfHeigh'+'t))\x20*\x20ligh'+'t')+_0x4072b4+('_shadowSea'+'rchArea')),_0xf2ff3e=_0xf2ff3e+',\x20light'+_0x4072b4+('_cameraPar'+'ams,\x20')+_0x23e1cc+(',\x20dLightDi'+'rW');}}_0x45d88e===Le?(_0x3546bf='Point'+_0x3546bf,_0x1df791||(_0xf2ff3e=_0xf2ff3e+(',\x20dLightDi'+'rW'))):_0x45d88e===Fe&&(_0x3546bf='Spot'+_0x3546bf),_0x51bbe1['append']('\x20\x20\x20\x20float\x20'+'shadow'+_0x4072b4+('\x20=\x20getShad'+'ow')+_0x3546bf+'('+_0xf2ff3e+');'),_0x51bbe1['append']('\x20\x20\x20\x20dAtten'+'\x20*=\x20mix(1.'+'0,\x20shadow'+_0x4072b4+',\x20light'+_0x4072b4+('_shadowInt'+'ensity);'));}}if(_0x22be5f!==Tt?_0x34a365['useSpecula'+'r']?_0x51bbe1['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20((dAttenD'+'\x20*\x20dAtten)'+'\x20*\x20light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20dLTCSpecF'+'res);')):_0x51bbe1['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAttenD\x20'+'*\x20dAtten)\x20'+'*\x20light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+';'):_0x434a6a&&_0x34a365['useSpecula'+'r']?_0x51bbe1['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20(dAtten\x20*'+'\x20light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+(')\x20*\x20(1.0\x20-'+'\x20litArgs_s'+'pecularity'+');')):_0x51bbe1['append']('\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+';'),_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20\x20dHalfD'+'irW\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);'),_0x100d86['affectSpec'+'ularity']){if(_0x22be5f!==Tt)_0x34a365['useClearCo'+'at']&&_0x51bbe1['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20ccLTCSp'+'ecFres\x20*\x20g'+'et'+_0x451989+('LightSpecu'+'lar(litArg'+'s_clearcoa'+'t_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+';'),_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20dLTCSpec'+'Fres\x20*\x20get'+_0x451989+('LightSpecu'+'lar(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW)\x20*\x20dA'+'tten\x20*\x20lig'+'ht')+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+';');else{let _0x4395ac=!(0x1934+-0x9a6+-0xf8d);_0x45d88e===le&&_0x34a365['fresnelMod'+'el']>-0x1dd9+0xa89*0x3+-0x1c2&&(_0x4395ac=!(0x4cf+0x1f64+-0x2433)),_0x34a365['useClearCo'+'at']&&_0x51bbe1['append']('\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'dHalfDirW,'+'\x20ccReflDir'+'W,\x20litArgs'+'_clearcoat'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20dLigh'+'tDirNormW,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20dTBN'+')\x20*\x20dAtten'+'\x20*\x20light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+(_0x4395ac?'\x20*\x20getFres'+'nelCC(dot('+'dViewDirW,'+'\x20dHalfDirW'+'));':';')),_0x34a365['useSheen']&&_0x51bbe1['append']('\x20\x20\x20\x20sSpecu'+'larLight\x20+'+'=\x20getLight'+'SpecularSh'+'een(dHalfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3'+';':';')),_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20+'+'=\x20getLight'+'Specular(d'+'HalfDirW,\x20'+'dReflDirW,'+'\x20litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dLightD'+'irNormW,\x20l'+'itArgs_glo'+'ss,\x20dTBN)\x20'+'*\x20dAtten\x20*'+'\x20light'+_0x4072b4+'_color'+(_0x5ae851?'\x20*\x20dAtten3':'')+(_0x4395ac?'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20*\x20'+'getFresnel'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(dVie'+'wDirW,\x20dHa'+'lfDirW),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_iridesce'+'nce_intens'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20);':'*\x20litArgs_'+'specularit'+'y;'));}}_0x45d88e!==le&&_0x51bbe1['append']('\x20\x20\x20\x20}');}_0x34a365['clusteredL'+'ightingEna'+'bled']&&this['lighting']&&(_0x4bc016=!(0x150f+0x20dc+0x141*-0x2b),_0x21e1ef=!(0x99+0x43*-0x2f+0x4*0x2ed),_0x22955d=!(0xdc9+0x438*0x9+-0x1*0x33c1),_0x51bbe1['append']('\x20\x20\x20\x20addClu'+'steredLigh'+'ts(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dVie'+'wDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'ReflDirW,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dVe'+'rtexNormal'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_shee'+'n_gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);'))),_0x434a6a&&(_0x34a365['useClearCo'+'at']&&_0x51bbe1['append']('\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_specular'+'ity\x20=\x201.0;'),_0x34a365['useSpecula'+'r']&&_0x51bbe1['append']('\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20vec3'+'(1);')),_0x34a365['useRefract'+'ion']&&_0x51bbe1['append']('\x20\x20\x20\x20addRef'+'raction(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ViewDirW,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_thickne'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_transm'+'ission,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_dis'+'persion\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20);');}_0x34a365['useAo']&&(_0x34a365['occludeDir'+'ect']&&_0x51bbe1['append']('\x20\x20\x20\x20occlud'+'eDiffuse(l'+'itArgs_ao)'+';'),(_0x34a365['occludeSpe'+'cular']===Vo||_0x34a365['occludeSpe'+'cular']===Bu)&&_0x51bbe1['append']('\x20\x20\x20\x20occlud'+'eSpecular('+'litArgs_gl'+'oss,\x20litAr'+'gs_ao,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW);')),_0x34a365['useSpecula'+'rityFactor']&&_0x51bbe1['append']('\x20\x20\x20\x20dSpecu'+'larLight\x20*'+'=\x20litArgs_'+'specularit'+'yFactor;'),_0x34a365['opacityFad'+'esSpecular']===!(0x1432*0x1+-0x109c*0x1+-0x83*0x7)&&((_0x34a365['blendType']===Gt||_0x34a365['blendType']===dn)&&(_0x51bbe1['append']('float\x20spec'+'Lum\x20=\x20dot('+'(dSpecular'+'Light\x20+\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a)'+',\x20vec3(\x200.'+'2126,\x200.71'+'52,\x200.0722'+'\x20));'),_0x51bbe1['append']('#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20specLum\x20'+'+=\x20dot(ccS'+'pecularLig'+'ht\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20+\x20ccR'+'eflection.'+'rgb\x20*\x20litA'+'rgs_clearc'+'oat_specul'+'arity,\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'#endif'),_0x51bbe1['append']('litArgs_op'+'acity\x20=\x20cl'+'amp(litArg'+'s_opacity\x20'+'+\x20gammaCor'+'rectInput('+'specLum),\x20'+'0.0,\x201.0);')),_0x51bbe1['append']('litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;')),_0x51bbe1['append'](_0x178d4e['endPS']),_0x34a365['blendType']===Gt||_0x34a365['blendType']===Xc||_0x34a365['alphaToCov'+'erage']?_0x51bbe1['append'](_0x178d4e['outputAlph'+'aPS']):_0x34a365['blendType']===dn?_0x51bbe1['append'](_0x178d4e['outputAlph'+'aPremulPS']):_0x51bbe1['append'](_0x178d4e['outputAlph'+'aOpaquePS']),_0x34a365['useMsdf']&&_0x51bbe1['append']('\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20a'+'pplyMsdf(g'+'l_FragColo'+'r);'),_0x51bbe1['append'](_0x178d4e['outputPS']),_0x51bbe1['append'](_0x178d4e['debugOutpu'+'tPS']),_0x22955d&&_0x5797ee['prepend'](_0x178d4e['lightDirPo'+'intPS']),_0x4bc016&&_0x5797ee['prepend'](_0x178d4e['falloffLin'+'earPS']),_0x21e1ef&&_0x5797ee['prepend'](_0x178d4e['falloffInv'+'SquaredPS']),_0x10d887&&_0x5797ee['prepend'](_0x178d4e['spotPS']),_0x1518c2&&!_0x34a365['clusteredL'+'ightingEna'+'bled']&&_0x5797ee['prepend'](_0x178d4e['cookiePS']);let _0x3c9966='';const _0x14bf89='void\x20evalu'+'ateBackend'+'()\x20{\x0a'+_0x51bbe1['code']+'\x0a}';_0x5797ee['append'](_0x14bf89),_0x3aafed['append'](_0x178d4e['debugProce'+'ssFrontend'+'PS']),_0x3aafed['append']('\x20\x20\x20\x20evalua'+'teBackend('+');'),_0x3aafed['append'](Nt['end']());const _0x50080e=_0x7e188d['code']+_0x5797ee['code']+_0x3aafed['code'];return _0x50080e['includes']('dTBN')&&(_0x3c9966+='mat3\x20dTBN;'+'\x0a'),_0x50080e['includes']('dVertexNor'+'malW')&&(_0x3c9966+='vec3\x20dVert'+'exNormalW;'+'\x0a'),_0x50080e['includes']('dTangentW')&&(_0x3c9966+='vec3\x20dTang'+'entW;\x0a'),_0x50080e['includes']('dBinormalW')&&(_0x3c9966+='vec3\x20dBino'+'rmalW;\x0a'),_0x50080e['includes']('dViewDirW')&&(_0x3c9966+='vec3\x20dView'+'DirW;\x0a'),_0x50080e['includes']('dReflDirW')&&(_0x3c9966+='vec3\x20dRefl'+'DirW;\x0a'),_0x50080e['includes']('dHalfDirW')&&(_0x3c9966+='vec3\x20dHalf'+'DirW;\x0a'),_0x50080e['includes']('ccReflDirW')&&(_0x3c9966+='vec3\x20ccRef'+'lDirW;\x0a'),_0x50080e['includes']('dLightDirN'+'ormW')&&(_0x3c9966+='vec3\x20dLigh'+'tDirNormW;'+'\x0a'),_0x50080e['includes']('dLightDirW')&&(_0x3c9966+='vec3\x20dLigh'+'tDirW;\x0a'),_0x50080e['includes']('dLightPosW')&&(_0x3c9966+='vec3\x20dLigh'+'tPosW;\x0a'),_0x50080e['includes']('dShadowCoo'+'rd')&&(_0x3c9966+='vec3\x20dShad'+'owCoord;\x0a'),_0x50080e['includes']('dReflectio'+'n')&&(_0x3c9966+='vec4\x20dRefl'+'ection;\x0a'),_0x50080e['includes']('dDiffuseLi'+'ght')&&(_0x3c9966+='vec3\x20dDiff'+'useLight;\x0a'),_0x50080e['includes']('dSpecularL'+'ight')&&(_0x3c9966+='vec3\x20dSpec'+'ularLight;'+'\x0a'),_0x50080e['includes']('dAtten')&&(_0x3c9966+='float\x20dAtt'+'en;\x0a'),_0x50080e['includes']('dAttenD')&&(_0x3c9966+='float\x20dAtt'+'enD;\x0a'),_0x50080e['includes']('dAtten3')&&(_0x3c9966+='vec3\x20dAtte'+'n3;\x0a'),_0x50080e['includes']('dMsdf')&&(_0x3c9966+='vec4\x20dMsdf'+';\x0a'),_0x50080e['includes']('ccFresnel')&&(_0x3c9966+='float\x20ccFr'+'esnel;\x0a'),_0x50080e['includes']('ccReflecti'+'on')&&(_0x3c9966+='vec3\x20ccRef'+'lection;\x0a'),_0x50080e['includes']('ccSpecular'+'Light')&&(_0x3c9966+='vec3\x20ccSpe'+'cularLight'+';\x0a'),_0x50080e['includes']('ccSpecular'+'ityNoFres')&&(_0x3c9966+='float\x20ccSp'+'ecularityN'+'oFres;\x0a'),_0x50080e['includes']('sSpecularL'+'ight')&&(_0x3c9966+='vec3\x20sSpec'+'ularLight;'+'\x0a'),_0x50080e['includes']('sReflectio'+'n')&&(_0x3c9966+='vec3\x20sRefl'+'ection;\x0a'),this['_fsGetBegi'+'nCode']()+this['varyings']+this['varyingDef'+'ines']+this['_fsGetBase'+'Code']()+_0x3c9966+this['frontendDe'+'cl']+_0x50080e;}['generateFr'+'agmentShad'+'er'](_0x4fc67e,_0x5c5aaa,_0x2303c8,_0x2ecc64){const _0x2e856d=this['options'];this['frontendDe'+'cl']=_0x4fc67e,this['frontendCo'+'de']=_0x5c5aaa,this['frontendFu'+'nc']=_0x2303c8,this['lightingUv']=_0x2ecc64,_0x2e856d['pass']===Na?this['fshader']=this['_fsGetPick'+'PassCode']():_0x2e856d['pass']===ll?this['fshader']=this['_fsGetDept'+'hPassCode']():_0x2e856d['pass']===ol?this['fshader']=this['_fsGetPreP'+'assCode']():this['shadowPass']?this['fshader']=this['_fsGetShad'+'owPassCode']():_0x2e856d['customFrag'+'mentShader']?this['fshader']=this['_fsGetBegi'+'nCode']()+_0x2e856d['customFrag'+'mentShader']:this['fshader']=this['_fsGetLitP'+'assCode'](),b['assert'](!this['fshader']['includes']('litShaderA'+'rgs'),'Automatic\x20'+'compatibil'+'ity\x20with\x20s'+'haders\x20usi'+'ng\x20litShad'+'erArgs\x20has'+'\x20been\x20remo'+'ved.\x20Pleas'+'e\x20update\x20t'+'he\x20shader\x20'+'to\x20use\x20the'+'\x20new\x20syste'+'m.');}}class XC{constructor(){c(this,'hasTangent'+'s',!(-0x24ff+0x1*0x1fde+-0xdb*-0x6)),c(this,'chunks',{}),c(this,'pass',0x1ea2*0x1+0x1732+0x41*-0xd4),c(this,'alphaTest',!(-0x4cd*0x7+0xc48+0x1554)),c(this,'blendType',hs),c(this,'separateAm'+'bient',!(-0x76f*0x3+0x185b+0x69*-0x5)),c(this,'screenSpac'+'e',!(-0x1*-0x12fd+0x2101+-0x33fd)),c(this,'skin',!(-0x53+0x1966*0x1+-0x1912)),c(this,'batch',!(0x17*-0x15+-0x1d2f*0x1+-0xb9*-0x2b)),c(this,'useInstanc'+'ing',!(-0x4*-0x829+-0x228d+0x1ea)),c(this,'useMorphPo'+'sition',!(0x2583+0x1db4+-0x4336)),c(this,'useMorphNo'+'rmal',!(0x1*-0x1ab9+-0x1498+-0x9*-0x542)),c(this,'useMorphTe'+'xtureBased'+'Int',!(-0x6b*0x37+-0x1cd5+0x33d3)),c(this,'nineSliced'+'Mode',-0x1ade+-0x14c9+0x1*0x2fa7),c(this,'clusteredL'+'ightingEna'+'bled',!(0xc53+0x247d*-0x1+0x182a)),c(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0xbd*-0x21+0x1c6b+-0x1*0x40d)),c(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0x17*0x5b+-0x1*0x776+0xfa4)),c(this,'clusteredL'+'ightingSha'+'dowType',0x175*0x1+0x739*0x1+-0x457*0x2),c(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(-0x715+0x24d3+0x1dbd*-0x1)),c(this,'vertexColo'+'rs',!(0x1*-0x243+-0xb78*0x2+0x4*0x64d)),c(this,'lightMapEn'+'abled',!(-0x1c7*0xc+-0x7d*0x4+0x7c3*0x3)),c(this,'dirLightMa'+'pEnabled',!(-0x8f3*0x2+0x271+-0xf76*-0x1)),c(this,'useHeights',!(-0xfee*-0x2+-0x20d2+0xf7)),c(this,'useNormals',!(0x2d0+0x1*0x253a+-0x2809)),c(this,'useClearCo'+'atNormals',!(0x1f*0xc1+-0x1*-0x20e+0x4*-0x65b)),c(this,'useAo',!(0x4*-0x913+0x749*0x2+0x15bb)),c(this,'diffuseMap'+'Enabled',!(-0x1*0x1b4b+-0xda1+0x28ed)),c(this,'customFrag'+'mentShader',null),c(this,'pixelSnap',!(-0x185e+-0x853*-0x3+-0x1*0x9a)),c(this,'ambientSH',!(-0x3*0xc7d+0x82+-0x53*-0x72)),c(this,'ssao',!(0x161*-0xf+0x3*0xf9+-0x1*-0x11c5)),c(this,'twoSidedLi'+'ghting',!(0x71e*0x1+0xda9+-0x14c6)),c(this,'occludeDir'+'ect',!(-0xd*-0x2a1+-0x88*-0xa+0x26*-0x10a)),c(this,'occludeSpe'+'cular',0x2*-0xc2f+-0x24ad+0x3d0b),c(this,'occludeSpe'+'cularFloat',!(0x1*0x22b3+-0xe9c+-0x1416)),c(this,'useMsdf',!(0x739+0x257b+-0x2cb3)),c(this,'msdfTextAt'+'tribute',!(0x3*0x176+-0x1*-0xb76+-0x5*0x32b)),c(this,'alphaToCov'+'erage',!(0xe59+-0xd1a+0x2*-0x9f)),c(this,'opacityFad'+'esSpecular',!(0x505+0x1be9+-0x20ed*0x1)),c(this,'opacityDit'+'her',Os),c(this,'opacitySha'+'dowDither',Os),c(this,'cubeMapPro'+'jection',-0x1ddf+-0x1*0xe75+0x2c54),c(this,'useSpecula'+'r',!(-0x178e+-0xc1*-0x12+-0x1*-0x9fd)),c(this,'useSpecula'+'rityFactor',!(-0x1*0xc+0xa61+-0xa54)),c(this,'enableGGXS'+'pecular',!(-0x26*0xb5+0x259+0x1886)),c(this,'fresnelMod'+'el',0x1a+-0xd91+0xd77),c(this,'useRefract'+'ion',!(-0x22cd+-0x16a7+0x3975)),c(this,'useClearCo'+'at',!(0xb1d+-0x44c+0x4*-0x1b4)),c(this,'useSheen',!(0x218b+-0x18e6*-0x1+-0xbb*0x50)),c(this,'useIridesc'+'ence',!(-0xcfa+-0x3d7*0x2+-0x6e3*-0x3)),c(this,'useMetalne'+'ss',!(0x2471+0x2*-0x3a1+-0x1d2e)),c(this,'useDynamic'+'Refraction',!(0x850+0x46e*0x6+-0x22e3)),c(this,'dispersion',!(-0x6ce*-0x1+0x15*-0xcb+-0x1*-0x9da)),c(this,'fog',Ba),c(this,'gamma',al),c(this,'toneMap',-(-0x2624*-0x1+-0x16e+-0x24b5)),c(this,'reflection'+'Source',null),c(this,'reflection'+'Encoding',null),c(this,'reflection'+'CubemapEnc'+'oding',null),c(this,'ambientSou'+'rce','constant'),c(this,'ambientEnc'+'oding',null),c(this,'skyboxInte'+'nsity',-0x1812+0x2c1*-0x4+0x2317),c(this,'useCubeMap'+'Rotation',!(-0x2*0x403+-0x1e1a+0x2621)),c(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x248c*-0x1+0x19c7+0xac6)),c(this,'lights',[]),c(this,'noShadow',!(0x161+0xb59+-0x1*0xcb9)),c(this,'lightMaskD'+'ynamic',0xe53+0x9*-0x399+0x907*0x2),c(this,'userAttrib'+'utes',{}),c(this,'linearDept'+'h',!(0x2a9+-0x259f*0x1+-0x1*-0x22f7));}}class qh{constructor(){c(this,'defines',new Map()),c(this,'forceUv1',!(0xec6+0x2009*-0x1+0x1144)),c(this,'specularTi'+'nt',!(0x366+0x5*0x1ee+-0x9f*0x15)),c(this,'metalnessT'+'int',!(-0x115e+0x2c5*0x4+0x64b)),c(this,'glossTint',!(0x769*-0x1+-0x15b8+-0xe2*-0x21)),c(this,'emissiveEn'+'coding','linear'),c(this,'lightMapEn'+'coding','linear'),c(this,'packedNorm'+'al',!(0x22a6+-0x1bd1+-0x6d4)),c(this,'glossInver'+'t',!(0x145f+-0xf0+-0x136e)),c(this,'sheenGloss'+'Invert',!(-0x1eb8+-0x1*-0x26c7+-0x407*0x2)),c(this,'clearCoatG'+'lossInvert',!(0xc4d*-0x3+-0xe3b+0x3323)),c(this,'useAO',!(0x2527*0x1+-0x25fb+-0x3*-0x47)),c(this,'litOptions',new XC());}get['pass'](){return this['litOptions']['pass'];}}const Wu={'generateKey'(_0x40f793){return'lit'+Object['keys'](_0x40f793)['sort']()['map'](_0x113820=>_0x113820==='chunks'?Wu['generateCh'+'unksKey'](_0x40f793):_0x113820==='lights'?Wu['generateLi'+'ghtsKey'](_0x40f793):_0x113820+_0x40f793[_0x113820])['join']('\x0a');},'generateLightsKey'(_0x5a4121){return'lights:'+_0x5a4121['lights']['map'](_0x123795=>!_0x5a4121['clusteredL'+'ightingEna'+'bled']||_0x123795['_type']===le?_0x123795['key']+',':'')['join']('');},'generateChunksKey'(_0x1b8ff4){return'chunks:\x0a'+Object['keys'](_0x1b8ff4['chunks']??{})['sort']()['map'](_0x3c6ab7=>_0x3c6ab7+_0x1b8ff4['chunks'][_0x3c6ab7])['join']('');}},ma=[],Pd=_0x27f4e9=>Object['keys'](_0x27f4e9)['filter'](_0x861b9c=>_0x861b9c!=='litOptions')['sort']();class jC extends Nt{constructor(){super(...arguments),c(this,'optionsCon'+'text',new qh()),c(this,'optionsCon'+'textMin',new qh());}['generateKe'+'y'](_0x5e18d1){let _0x497244;return _0x5e18d1===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Pd(_0x5e18d1)),_0x497244=this['propsMin']):_0x5e18d1===this['optionsCon'+'text']?(this['props']||(this['props']=Pd(_0x5e18d1)),_0x497244=this['props']):_0x497244=Pd(_0x5e18d1),'standard:\x0a'+Nt['definesHas'+'h'](_0x5e18d1['defines'])+'\x0a'+_0x497244['map'](_0xef26b3=>_0xef26b3+_0x5e18d1[_0xef26b3])['join']('\x0a')+Wu['generateKe'+'y'](_0x5e18d1['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0xc88e3c,_0x225138,_0x48ef0f){const _0x1a7f59=_0x48ef0f[_0xc88e3c],_0x59831b=_0x48ef0f[_0x225138],_0x1fee22=_0x48ef0f['litOptions']['pass']===xn;let _0x42d4fc;return _0x1fee22&&_0x48ef0f['litOptions']['nineSliced'+'Mode']===ht||_0x1fee22&&_0x48ef0f['litOptions']['nineSliced'+'Mode']===st?_0x42d4fc='nineSliced'+'Uv':(_0x1a7f59===0x183e+0x948+-0x2186?_0x42d4fc='vUv'+_0x59831b:_0x42d4fc='vUV'+_0x59831b+'_'+_0x1a7f59,_0x48ef0f['heightMap']&&_0xc88e3c!=='heightMapT'+'ransform'&&(_0x42d4fc+='\x20+\x20dUvOffs'+'et')),_0x42d4fc;}['_addMapDef'](_0x153440,_0x56ae87){return _0x56ae87?'#define\x20'+_0x153440+'\x0a':'#undef\x20'+_0x153440+'\x0a';}['_addMapDef'+'s'](_0x199deb,_0xaf6fa,_0x1c6353,_0x55ce95,_0x4db20c){return this['_addMapDef']('MAPFLOAT',_0x199deb)+this['_addMapDef']('MAPCOLOR',_0xaf6fa)+this['_addMapDef']('MAPVERTEX',_0x1c6353)+this['_addMapDef']('MAPTEXTURE',_0x55ce95)+this['_addMapDef']('MAPINVERT',_0x4db20c);}['_addMap'](_0x8cebe8,_0x5141f5,_0x5cc007,_0x34030c,_0x5095ed,_0x460984=null){const _0x564691=_0x8cebe8+'Map',_0x138875=_0x564691+'Uv',_0xc80a23=_0x564691+'Identifier',_0x550299=_0x564691+'Transform',_0x3a8377=_0x564691+'Channel',_0x2b28ff=_0x8cebe8+('VertexColo'+'rChannel'),_0x1bff8c=_0x8cebe8+'Tint',_0x4b81ab=_0x8cebe8+('VertexColo'+'r'),_0x26c22d=_0x8cebe8+'Mode',_0x1b8953=_0x8cebe8+'Invert',_0x2d5b09=_0x5cc007[_0x1bff8c],_0x576335=_0x5cc007[_0x4b81ab],_0x5e3914=_0x5cc007[_0x564691],_0x4fcb47=_0x5cc007[_0xc80a23],_0x53e740=_0x5cc007[_0x26c22d];let _0x37cdec=_0x34030c[_0x5141f5];if(_0x5e3914){const _0x3f4aa4=this['_getUvSour'+'ceExpressi'+'on'](_0x550299,_0x138875,_0x5cc007);if(_0x37cdec=_0x37cdec['replace'](/\$UV/g,_0x3f4aa4)['replace'](/\$CH/g,_0x5cc007[_0x3a8377]),_0x5095ed&&_0x37cdec['search'](/\$SAMPLER/g)!==-(-0x1*0x13ad+0x1af*0x1+0x11ff)){let _0x5f3780='texture_'+_0x564691;const _0x556e2e=_0x5095ed[_0x4fcb47];_0x556e2e?_0x5f3780=_0x556e2e:_0x5095ed[_0x4fcb47]=_0x5f3780,_0x37cdec=_0x37cdec['replace'](/\$SAMPLER/g,_0x5f3780);}if(_0x460984&&(_0x5cc007[_0x3a8377]==='aaa'?_0x37cdec=_0x37cdec['replace'](/\$DECODE/g,'passThroug'+'h'):_0x37cdec=_0x37cdec['replace'](/\$DECODE/g,Ds['decodeFunc'](_0x460984)),_0x37cdec['indexOf']('$texture2D'+'SAMPLE'))){const _0x4f56d3={'linear':'texture2D','srgb':'texture2DS'+'RGB','rgbm':'texture2DR'+'GBM','rgbe':'texture2DR'+'GBE'};_0x37cdec=_0x37cdec['replace'](/\$texture2DSAMPLE/g,_0x4f56d3[_0x460984]||'texture2D');}}_0x576335&&(_0x37cdec=_0x37cdec['replace'](/\$VC/g,_0x5cc007[_0x2b28ff])),_0x53e740&&(_0x37cdec=_0x37cdec['replace'](/\$DETAILMODE/g,_0x53e740));const _0x8cf9cf=!!(_0x2d5b09&-0x2649+0x66e*0x2+0x87a*0x3),_0x13d64e=!!(_0x2d5b09&-0xd*0x2ed+0x20ae+0x1*0x55d),_0x561817=!!_0x5cc007[_0x1b8953];return _0x37cdec=this['_addMapDef'+'s'](_0x8cf9cf,_0x13d64e,_0x576335,_0x5e3914,_0x561817)+_0x37cdec,_0x37cdec['replace'](/\$/g,'');}['_correctCh'+'annel'](_0x1f07c4,_0x37b53d,_0x209a7d){if(_0x209a7d[_0x1f07c4]>-0x40+0x2333+-0x22f3){if(_0x209a7d[_0x1f07c4]<_0x37b53d['length'])return _0x37b53d['substring'](0x1586+-0x4a5*-0x4+0xae*-0x3b,_0x209a7d[_0x1f07c4]);if(_0x209a7d[_0x1f07c4]>_0x37b53d['length']){let _0x325ccb=_0x37b53d;const _0x1b3520=_0x325ccb['charAt'](_0x325ccb['length']-(0x182c+0x1b10*0x1+-0x333b)),_0x179bd0=_0x209a7d[_0x1f07c4]-_0x325ccb['length'];for(let _0x46fc2b=-0x33e+0x17*0x35+-0x1*0x185;_0x46fc2b<_0x179bd0;_0x46fc2b++)_0x325ccb+=_0x1b3520;return _0x325ccb;}return _0x37b53d;}}['createShad'+'erDefiniti'+'on'](_0x4130aa,_0x5300d6){const _0x35d104=ti['get'](_0x4130aa)['getByIndex'](_0x5300d6['litOptions']['pass'])['isForward'],_0x45a70d=new qC(_0x4130aa,_0x5300d6['litOptions']),_0x566f75=[],_0x4942f3=[],_0x11e62d=[],_0x445015=0x1*-0xfc7+-0x9*-0x342+-0xd89*0x1,_0x4788c5={};for(const _0x36c756 in ma){const _0x3a2c1f=_0x36c756+'Map';if(_0x5300d6[_0x36c756+('VertexColo'+'r')]){const _0x5c362f=_0x36c756+('VertexColo'+'rChannel');_0x5300d6[_0x5c362f]=this['_correctCh'+'annel'](_0x36c756,_0x5300d6[_0x5c362f],ma);}if(_0x5300d6[_0x3a2c1f]){const _0x85cad3=_0x3a2c1f+'Channel',_0x2ff8f7=_0x3a2c1f+'Transform',_0x584bf9=_0x3a2c1f+'Uv';_0x5300d6[_0x584bf9]=Math['min'](_0x5300d6[_0x584bf9],_0x445015-(0x185*0x2+-0xbcb+0x8c2)),_0x5300d6[_0x85cad3]=this['_correctCh'+'annel'](_0x36c756,_0x5300d6[_0x85cad3],ma);const _0x299154=_0x5300d6[_0x584bf9];_0x566f75[_0x299154]=!(0x121a+-0x1904+0x76*0xf),_0x4942f3[_0x299154]=_0x4942f3[_0x299154]||_0x5300d6[_0x3a2c1f]&&!_0x5300d6[_0x2ff8f7],_0x5300d6[_0x2ff8f7]&&_0x11e62d['push']({'name':_0x36c756,'id':_0x5300d6[_0x2ff8f7],'uv':_0x5300d6[_0x584bf9]});}}_0x5300d6['forceUv1']&&(_0x566f75[-0x115*-0x2+0xc9*0x2+-0x3bb*0x1]=!(-0x8*-0x329+0x1f16+0x2*-0x1c2f),_0x4942f3[0x2276+-0x15df+0x2*-0x64b]=_0x4942f3[-0x257*-0x6+-0x1a4a+0x1*0xc41]!==void(0x95*-0x39+0xdd*-0xb+0x2aac)?_0x4942f3[0x1486+-0x20ee+-0x1*-0xc69]:!(0x19d1+-0x1eef+0x51e)),_0x45a70d['generateVe'+'rtexShader'](_0x566f75,_0x4942f3,_0x11e62d),_0x5300d6['litOptions']['fresnelMod'+'el']=_0x5300d6['litOptions']['fresnelMod'+'el']===0x1671+-0x1*0x18fb+-0x19*-0x1a?Tp:_0x5300d6['litOptions']['fresnelMod'+'el'];const _0x16349c=new rr(),_0x33b152=new rr(),_0x2a4270=new rr(),_0xeec11f=new rr();let _0x554e42='';if(_0x5300d6['litOptions']['nineSliced'+'Mode']===st?_0x16349c['append']('const\x20floa'+'t\x20textureB'+'ias\x20=\x20-100'+'0.0;'):_0x16349c['append']('uniform\x20fl'+'oat\x20textur'+'eBias;'),_0x35d104){if(_0x5300d6['heightMap']&&(_0x16349c['append']('vec2\x20dUvOf'+'fset;'),_0x33b152['append'](this['_addMap']('height','parallaxPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getParalla'+'x();')),_0x5300d6['litOptions']['blendType']!==hs||_0x5300d6['litOptions']['alphaTest']||_0x5300d6['litOptions']['alphaToCov'+'erage']||_0x5300d6['litOptions']['opacityDit'+'her']!==Os){_0x16349c['append']('float\x20dAlp'+'ha;'),_0x33b152['append'](this['_addMap']('opacity','opacityPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getOpacity'+'();'),_0xeec11f['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x5300d6['litOptions']['alphaTest']&&(_0x33b152['append'](_0x45a70d['chunks']['alphaTestP'+'S']),_0x2a4270['append']('alphaTest('+'dAlpha);'));const _0x38e67b=_0x5300d6['litOptions']['opacityDit'+'her'];_0x38e67b!==Os&&(_0x38e67b===zm&&_0x16349c['append'](_0x45a70d['chunks']['bayerPS']),_0x16349c['append']('#define\x20DI'+'THER_'+_0x38e67b['toUpperCas'+'e']()+'\x0a'),_0x16349c['append'](_0x45a70d['chunks']['opacityDit'+'herPS']),_0x2a4270['append']('opacityDit'+'her(dAlpha'+',\x200.0);'));}else _0x16349c['append']('float\x20dAlp'+'ha\x20=\x201.0;');if(_0x45a70d['needsNorma'+'l']){if((_0x5300d6['normalMap']||_0x5300d6['clearCoatN'+'ormalMap'])&&(_0x33b152['append'](_0x5300d6['packedNorm'+'al']?_0x45a70d['chunks']['normalXYPS']:_0x45a70d['chunks']['normalXYZP'+'S']),!_0x5300d6['litOptions']['hasTangent'+'s'])){const _0x4d785c=_0x5300d6['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x554e42=this['_getUvSour'+'ceExpressi'+'on'](_0x4d785c+'Transform',_0x4d785c+'Uv',_0x5300d6);}_0x16349c['append']('vec3\x20dNorm'+'alW;'),_0x33b152['append'](this['_addMap']('normalDeta'+'il','normalDeta'+'ilMapPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x33b152['append'](this['_addMap']('normal','normalMapP'+'S',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getNormal('+');'),_0xeec11f['append']('litArgs_wo'+'rldNormal\x20'+'=\x20dNormalW'+';');}if(_0x45a70d['needsScene'+'Color']&&_0x16349c['append']('uniform\x20sa'+'mpler2D\x20uS'+'ceneColorM'+'ap;'),_0x45a70d['needsScree'+'nSize']&&_0x16349c['append']('uniform\x20ve'+'c4\x20uScreen'+'Size;'),_0x45a70d['needsTrans'+'forms']&&(_0x16349c['append']('uniform\x20ma'+'t4\x20matrix_'+'viewProjec'+'tion;'),_0x16349c['append']('uniform\x20ma'+'t4\x20matrix_'+'model;')),(_0x5300d6['diffuseDet'+'ail']||_0x5300d6['aoDetail'])&&_0x33b152['append'](_0x45a70d['chunks']['detailMode'+'sPS']),_0x16349c['append']('vec3\x20dAlbe'+'do;'),_0x5300d6['diffuseDet'+'ail']&&_0x33b152['append'](this['_addMap']('diffuseDet'+'ail','diffuseDet'+'ailMapPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5,_0x5300d6['diffuseDet'+'ailEncodin'+'g'])),_0x33b152['append'](this['_addMap']('diffuse','diffusePS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5,_0x5300d6['diffuseEnc'+'oding'])),_0x2a4270['append']('getAlbedo('+');'),_0xeec11f['append']('litArgs_al'+'bedo\x20=\x20dAl'+'bedo;'),_0x5300d6['litOptions']['useRefract'+'ion']&&(_0x16349c['append']('float\x20dTra'+'nsmission;'),_0x33b152['append'](this['_addMap']('refraction','transmissi'+'onPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getRefract'+'ion();'),_0xeec11f['append']('litArgs_tr'+'ansmission'+'\x20=\x20dTransm'+'ission;'),_0x16349c['append']('float\x20dThi'+'ckness;'),_0x33b152['append'](this['_addMap']('thickness','thicknessP'+'S',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getThickne'+'ss();'),_0xeec11f['append']('litArgs_th'+'ickness\x20=\x20'+'dThickness'+';'),_0x5300d6['litOptions']['dispersion']&&_0xeec11f['append']('litArgs_di'+'spersion\x20='+'\x20material_'+'dispersion'+';')),_0x5300d6['litOptions']['useIridesc'+'ence']&&(_0x16349c['append']('float\x20dIri'+'descence;'),_0x33b152['append'](this['_addMap']('iridescenc'+'e','iridescenc'+'ePS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getIridesc'+'ence();'),_0xeec11f['append']('litArgs_ir'+'idescence_'+'intensity\x20'+'=\x20dIridesc'+'ence;'),_0x16349c['append']('float\x20dIri'+'descenceTh'+'ickness;'),_0x33b152['append'](this['_addMap']('iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getIridesc'+'enceThickn'+'ess();'),_0xeec11f['append']('litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;')),_0x45a70d['lighting']&&_0x5300d6['litOptions']['useSpecula'+'r']||_0x45a70d['reflection'+'s']?(_0x16349c['append']('vec3\x20dSpec'+'ularity;'),_0x16349c['append']('float\x20dGlo'+'ssiness;'),_0x5300d6['litOptions']['useSheen']&&(_0x16349c['append']('vec3\x20sSpec'+'ularity;'),_0x33b152['append'](this['_addMap']('sheen','sheenPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5,_0x5300d6['sheenEncod'+'ing'])),_0x2a4270['append']('getSheen()'+';'),_0xeec11f['append']('litArgs_sh'+'een_specul'+'arity\x20=\x20sS'+'pecularity'+';'),_0x16349c['append']('float\x20sGlo'+'ssiness;'),_0x33b152['append'](this['_addMap']('sheenGloss','sheenGloss'+'PS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getSheenGl'+'ossiness()'+';'),_0xeec11f['append']('litArgs_sh'+'een_gloss\x20'+'=\x20sGlossin'+'ess;')),_0x5300d6['litOptions']['useMetalne'+'ss']&&(_0x16349c['append']('float\x20dMet'+'alness;'),_0x33b152['append'](this['_addMap']('metalness','metalnessP'+'S',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getMetalne'+'ss();'),_0xeec11f['append']('litArgs_me'+'talness\x20=\x20'+'dMetalness'+';'),_0x16349c['append']('float\x20dIor'+';'),_0x33b152['append'](this['_addMap']('ior','iorPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getIor();'),_0xeec11f['append']('litArgs_io'+'r\x20=\x20dIor;')),_0x5300d6['litOptions']['useSpecula'+'rityFactor']&&(_0x16349c['append']('float\x20dSpe'+'cularityFa'+'ctor;'),_0x33b152['append'](this['_addMap']('specularit'+'yFactor','specularit'+'yFactorPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getSpecula'+'rityFactor'+'();'),_0xeec11f['append']('litArgs_sp'+'ecularityF'+'actor\x20=\x20dS'+'pecularity'+'Factor;')),_0x5300d6['useSpecula'+'rColor']?_0x33b152['append'](this['_addMap']('specular','specularPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5,_0x5300d6['specularEn'+'coding'])):_0x33b152['append']('void\x20getSp'+'ecularity('+')\x20{\x20dSpecu'+'larity\x20=\x20v'+'ec3(1);\x20}'),_0x33b152['append'](this['_addMap']('gloss','glossPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getGlossin'+'ess();'),_0x2a4270['append']('getSpecula'+'rity();'),_0xeec11f['append']('litArgs_sp'+'ecularity\x20'+'=\x20dSpecula'+'rity;'),_0xeec11f['append']('litArgs_gl'+'oss\x20=\x20dGlo'+'ssiness;')):(_0x16349c['append']('vec3\x20dSpec'+'ularity\x20=\x20'+'vec3(0.0);'),_0x16349c['append']('float\x20dGlo'+'ssiness\x20=\x20'+'0.0;')),_0x5300d6['aoDetail']&&_0x33b152['append'](this['_addMap']('aoDetail','aoDetailMa'+'pPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),(_0x5300d6['aoMap']||_0x5300d6['aoVertexCo'+'lor']||_0x5300d6['useAO'])&&(_0x16349c['append']('float\x20dAo;'),_0x33b152['append'](this['_addMap']('ao','aoPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getAO();'),_0xeec11f['append']('litArgs_ao'+'\x20=\x20dAo;')),_0x16349c['append']('vec3\x20dEmis'+'sion;'),_0x33b152['append'](this['_addMap']('emissive','emissivePS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5,_0x5300d6['emissiveEn'+'coding'])),_0x2a4270['append']('getEmissio'+'n();'),_0xeec11f['append']('litArgs_em'+'ission\x20=\x20d'+'Emission;'),_0x5300d6['litOptions']['useClearCo'+'at']&&(_0x16349c['append']('float\x20ccSp'+'ecularity;'),_0x16349c['append']('float\x20ccGl'+'ossiness;'),_0x16349c['append']('vec3\x20ccNor'+'malW;'),_0x33b152['append'](this['_addMap']('clearCoat','clearCoatP'+'S',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x33b152['append'](this['_addMap']('clearCoatG'+'loss','clearCoatG'+'lossPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x33b152['append'](this['_addMap']('clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getClearCo'+'at();'),_0x2a4270['append']('getClearCo'+'atGlossine'+'ss();'),_0x2a4270['append']('getClearCo'+'atNormal()'+';'),_0xeec11f['append']('litArgs_cl'+'earcoat_sp'+'ecularity\x20'+'=\x20ccSpecul'+'arity;'),_0xeec11f['append']('litArgs_cl'+'earcoat_gl'+'oss\x20=\x20ccGl'+'ossiness;'),_0xeec11f['append']('litArgs_cl'+'earcoat_wo'+'rldNormal\x20'+'=\x20ccNormal'+'W;')),_0x5300d6['lightMap']||_0x5300d6['lightVerte'+'xColor']){const _0x4266da=_0x5300d6['dirLightMa'+'p']&&_0x5300d6['litOptions']['useSpecula'+'r'],_0x20eb5d=_0x4266da?'lightmapDi'+'rPS':'lightmapSi'+'nglePS';_0x16349c['append']('vec3\x20dLigh'+'tmap;'),_0x4266da&&_0x16349c['append']('vec3\x20dLigh'+'tmapDir;'),_0x33b152['append'](this['_addMap']('light',_0x20eb5d,_0x5300d6,_0x45a70d['chunks'],_0x4788c5,_0x5300d6['lightMapEn'+'coding'])),_0x2a4270['append']('getLightMa'+'p();'),_0xeec11f['append']('litArgs_li'+'ghtmap\x20=\x20d'+'Lightmap;'),_0x4266da&&_0xeec11f['append']('litArgs_li'+'ghtmapDir\x20'+'=\x20dLightma'+'pDir;');}b['assert'](_0x33b152['code']['indexOf']('texture2DS'+'RGB')===-(0x21*0xe7+-0x1*-0x1999+-0x375f)&&_0x33b152['code']['indexOf']('texture2DR'+'GBM')===-(-0xa95+-0xafa+0x1590)&&_0x33b152['code']['indexOf']('texture2DR'+'GBE')===-(-0x1e21+0x113f+0xce3),'Shader\x20chu'+'nk\x20macro\x20$'+'texture2DS'+'AMPLE(XXX)'+'\x20is\x20deprec'+'ated.\x20Plea'+'se\x20use\x20$DE'+'CODE(textu'+'re2D(XXX))'+'\x20instead.');}else{const _0x533d1c=_0x5300d6['litOptions']['opacitySha'+'dowDither'];(_0x5300d6['litOptions']['alphaTest']||_0x533d1c)&&(_0x16349c['append']('float\x20dAlp'+'ha;'),_0x33b152['append'](this['_addMap']('opacity','opacityPS',_0x5300d6,_0x45a70d['chunks'],_0x4788c5)),_0x2a4270['append']('getOpacity'+'();'),_0xeec11f['append']('litArgs_op'+'acity\x20=\x20dA'+'lpha;'),_0x5300d6['litOptions']['alphaTest']&&(_0x33b152['append'](_0x45a70d['chunks']['alphaTestP'+'S']),_0x2a4270['append']('alphaTest('+'dAlpha);')),_0x533d1c!==Os&&(_0x533d1c===zm&&_0x16349c['append'](_0x45a70d['chunks']['bayerPS']),_0x16349c['append']('#define\x20DI'+'THER_'+_0x533d1c['toUpperCas'+'e']()+'\x0a'),_0x16349c['append'](_0x45a70d['chunks']['opacityDit'+'herPS']),_0x2a4270['append']('opacityDit'+'her(dAlpha'+',\x200.0);')));}_0x16349c['append'](_0x45a70d['chunks']['litShaderA'+'rgsPS']),_0x33b152['append']('void\x20evalu'+'ateFronten'+'d()\x20{\x20\x0a'+_0x2a4270['code']+'\x0a'+_0xeec11f['code']+'\x0a\x20}\x0a'),_0x2a4270['code']='evaluateFr'+'ontend();';for(const _0x1a943a in _0x4788c5)_0x16349c['append']('uniform\x20sa'+'mpler2D\x20'+_0x4788c5[_0x1a943a]+';');_0x2a4270['code']='\x0a'+_0x2a4270['code']['split']('\x0a')['map'](_0x243dcc=>'\x20\x20\x20\x20'+_0x243dcc)['join']('\x0a')+'\x0a\x0a',_0x45a70d['generateFr'+'agmentShad'+'er'](_0x16349c['code'],_0x33b152['code'],_0x2a4270['code'],_0x554e42);const _0x4dfc76=new Map(Object['entries']({...Object['getPrototy'+'peOf'](_0x45a70d['chunks']),..._0x45a70d['chunks'],..._0x5300d6['litOptions']['chunks']})),_0x23a3ce=new Map(_0x5300d6['defines']),_0x3bcb0f=Ft['createDefi'+'nition'](_0x4130aa,{'name':'StandardSh'+'ader','attributes':_0x45a70d['attributes'],'vertexCode':_0x45a70d['vshader'],'fragmentCode':_0x45a70d['fshader'],'vertexIncludes':_0x4dfc76,'fragmentIncludes':_0x4dfc76,'fragmentDefines':_0x23a3ce,'vertexDefines':_0x23a3ce});return _0x45a70d['shaderPass'+'Info']['isForward']&&(_0x3bcb0f['tag']=Fy),_0x3bcb0f;}}const Rd=new jC(),Vt=[];Vt[a0]={'src':ct,'dst':ct,'op':ES},Vt[hs]={'src':ct,'dst':Uf,'op':Ut},Vt[Gt]={'src':_c,'dst':gc,'op':Ut,'alphaSrc':ct},Vt[dn]={'src':ct,'dst':gc,'op':Ut},Vt[bp]={'src':ct,'dst':ct,'op':Ut},Vt[Xc]={'src':_c,'dst':ct,'op':Ut},Vt[o0]={'src':uy,'dst':TS,'op':Ut},Vt[l0]={'src':AS,'dst':ct,'op':Ut},Vt[wp]={'src':uy,'dst':Uf,'op':Ut},Vt[h0]={'src':ct,'dst':ct,'op':CS},Vt[c0]={'src':ct,'dst':ct,'op':MS};let YC=0x257e+0x3*-0x4a3+-0x1795;class Sn{constructor(){c(this,'meshInstan'+'ces',[]),c(this,'name','Untitled'),c(this,'userId',''),c(this,'id',YC++),c(this,'variants',new Map()),c(this,'defines',new Map()),c(this,'_definesDi'+'rty',!(0x1b82+-0x7*0x393+-0x27c)),c(this,'parameters',{}),c(this,'alphaTest',-0x1*0x1d53+-0x22bd+0x4010),c(this,'alphaToCov'+'erage',!(-0x23bd+-0x12fe+-0x7c*-0x71)),c(this,'_blendStat'+'e',new bt()),c(this,'_depthStat'+'e',new us()),c(this,'cull',nn),c(this,'stencilFro'+'nt',null),c(this,'stencilBac'+'k',null),c(this,'_chunks',{}),c(this,'_dirtyShad'+'er',!(0x1*0x8b6+-0x1b2b+0x1275)),c(this,'_shaderVer'+'sion',0x110*0x1f+-0x1434+0x2*-0x65e),c(this,'_scene',null),c(this,'dirty',!(0x802+-0xa77+-0x275*-0x1)),new.target===Sn&&b['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}set['chunks'](_0x2860b6){this['_dirtyShad'+'er']=!(0x9fd*-0x3+-0x89*0x26+-0x4f*-0xa3),this['_chunks']=_0x2860b6;}get['chunks'](){return this['_dirtyShad'+'er']=!(0x1*-0x268a+0x10*0x20e+0x5aa),this['_chunks'];}set['depthBias'](_0x40a06a){this['_depthStat'+'e']['depthBias']=_0x40a06a;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x58511f){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x58511f;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x460f61){this['_blendStat'+'e']['redWrite']=_0x460f61;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x5106ff){this['_blendStat'+'e']['greenWrite']=_0x5106ff;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x36ef37){this['_blendStat'+'e']['blueWrite']=_0x36ef37;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x131d6a){this['_blendStat'+'e']['alphaWrite']=_0x131d6a;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x3aef34=this['transparen'+'t'],_0x21d154=this['meshInstan'+'ces'];for(let _0x6f88aa=0x7*0x452+0xee*-0x1d+-0x7*0x78;_0x6f88aa<_0x21d154['length'];_0x6f88aa++)_0x21d154[_0x6f88aa]['transparen'+'t']=_0x3aef34;}set['blendState'](_0x819a34){this['_blendStat'+'e']['copy'](_0x819a34),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x1e5c17){const _0x2f84b9=Vt[_0x1e5c17];b['assert'](_0x2f84b9,'Unknown\x20bl'+'end\x20mode\x20'+_0x1e5c17),this['_blendStat'+'e']['setColorBl'+'end'](_0x2f84b9['op'],_0x2f84b9['src'],_0x2f84b9['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x2f84b9['alphaOp']??_0x2f84b9['op'],_0x2f84b9['alphaSrc']??_0x2f84b9['src'],_0x2f84b9['alphaDst']??_0x2f84b9['dst']);const _0x50bff9=_0x1e5c17!==hs;this['_blendStat'+'e']['blend']!==_0x50bff9&&(this['_blendStat'+'e']['blend']=_0x50bff9,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return hs;const {colorOp:_0xe4758,colorSrcFactor:_0x5d9b4c,colorDstFactor:_0x405d39,alphaOp:_0x5c6a2c,alphaSrcFactor:_0x4b4945,alphaDstFactor:_0x4bd0f4}=this['_blendStat'+'e'];for(let _0x5e7e7e=0x1*-0x92b+0x1ad5+-0x11aa*0x1;_0x5e7e7e<Vt['length'];_0x5e7e7e++){const _0x1765c9=Vt[_0x5e7e7e];if(_0x1765c9['src']===_0x5d9b4c&&_0x1765c9['dst']===_0x405d39&&_0x1765c9['op']===_0xe4758&&_0x1765c9['src']===_0x4b4945&&_0x1765c9['dst']===_0x4bd0f4&&_0x1765c9['op']===_0x5c6a2c)return _0x5e7e7e;}return Gt;}set['depthState'](_0x32fbf7){this['_depthStat'+'e']['copy'](_0x32fbf7);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x3dde0d){this['_depthStat'+'e']['test']=_0x3dde0d;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x97ed89){this['_depthStat'+'e']['func']=_0x97ed89;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x154c75){this['_depthStat'+'e']['write']=_0x154c75;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x336f33){var _0x5abb5a;this['name']=_0x336f33['name'],this['alphaTest']=_0x336f33['alphaTest'],this['alphaToCov'+'erage']=_0x336f33['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x336f33['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x336f33['_depthStat'+'e']),this['cull']=_0x336f33['cull'],this['stencilFro'+'nt']=(_0x5abb5a=_0x336f33['stencilFro'+'nt'])==null?void(0xd0+-0x180b+0x173b):_0x5abb5a['clone'](),_0x336f33['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x336f33['stencilFro'+'nt']===_0x336f33['stencilBac'+'k']?this['stencilFro'+'nt']:_0x336f33['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0xab4ed6 in _0x336f33['parameters'])_0x336f33['parameters']['hasOwnProp'+'erty'](_0xab4ed6)&&this['_setParame'+'terSimple'](_0xab4ed6,_0x336f33['parameters'][_0xab4ed6]['data']);this['defines']['clear'](),_0x336f33['defines']['forEach']((_0x4112f2,_0x274eda)=>this['defines']['set'](_0x274eda,_0x4112f2));const _0x33b04b=_0x336f33['_chunks'];for(const _0x2f3330 in _0x33b04b)_0x33b04b['hasOwnProp'+'erty'](_0x2f3330)&&(this['_chunks'][_0x2f3330]=_0x33b04b[_0x2f3330]);return this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x1526f3=this['meshInstan'+'ces'];for(let _0x3bb817=-0x1e38+0x3e3*0x3+-0x128f*-0x1;_0x3bb817<_0x1526f3['length'];_0x3bb817++)_0x1526f3[_0x3bb817]['updateKey']();}['updateUnif'+'orms'](_0x150929,_0x49a651){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x383015){b['assert'](!(0x1eb*0x7+0x26eb+-0x3457),'Not\x20implem'+'ented');}['update'](){this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0xd*0x28d+0x7f0*-0x2+0x310a),this['clearVaria'+'nts']()),this['dirty']=!(0x1a*0xa7+-0x1a8f+0x999);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x1dbc0e=this['meshInstan'+'ces'],_0x8da743=_0x1dbc0e['length'];for(let _0x4d98e1=-0x1e11+0x49*-0x2+-0x1*-0x1ea3;_0x4d98e1<_0x8da743;_0x4d98e1++)_0x1dbc0e[_0x4d98e1]['clearShade'+'rs']();}['getParamet'+'er'](_0x45515c){return this['parameters'][_0x45515c];}['_setParame'+'terSimple'](_0x4e4a6e,_0x2fb348){b['call'](()=>{_0x2fb348===void(0x6c7+0x1*-0xdfb+0x1*0x734)&&b['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4e4a6e+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'));});const _0x47adbc=this['parameters'][_0x4e4a6e];_0x47adbc?_0x47adbc['data']=_0x2fb348:this['parameters'][_0x4e4a6e]={'scopeId':null,'data':_0x2fb348};}['setParamet'+'er'](_0x775a52,_0x330a7a){if(_0x330a7a===void(0x1033+0xc3b+0x2*-0xe37)&&typeof _0x775a52=='object'){const _0x4f8c24=_0x775a52;if(_0x4f8c24['length']){for(let _0x15f193=-0x25d5+-0x66+0x1*0x263b;_0x15f193<_0x4f8c24['length'];_0x15f193++)this['setParamet'+'er'](_0x4f8c24[_0x15f193]);return;}_0x775a52=_0x4f8c24['name'],_0x330a7a=_0x4f8c24['value'];}this['_setParame'+'terSimple'](_0x775a52,_0x330a7a);}['deletePara'+'meter'](_0x10fac9){this['parameters'][_0x10fac9]&&delete this['parameters'][_0x10fac9];}['setParamet'+'ers'](_0x1e1d13,_0x1627ba){const _0x3a09be=this['parameters'];_0x1627ba===void(0x2e*0x5b+0xcde+-0x1d38)&&(_0x1627ba=_0x3a09be);for(const _0x2e76fa in _0x1627ba){const _0x469a9d=_0x3a09be[_0x2e76fa];_0x469a9d&&(_0x469a9d['scopeId']||(_0x469a9d['scopeId']=_0x1e1d13['scope']['resolve'](_0x2e76fa)),_0x469a9d['scopeId']['setValue'](_0x469a9d['data']));}}['setDefine'](_0x25bfe4,_0x138b4c){let _0x39c24b=!(0xd9*0x3+0x1*-0x243a+0xc4*0x2c);const {defines:_0xfc5d33}=this;_0x138b4c!==void(-0x1*0x3a7+-0x48b+-0x1*-0x832)&&_0x138b4c!==!(0x1348+-0x13*-0x157+0x165e*-0x2)?(_0x39c24b=!_0xfc5d33['has'](_0x25bfe4)||_0xfc5d33['get'](_0x25bfe4)!==_0x138b4c,_0xfc5d33['set'](_0x25bfe4,_0x138b4c)):(_0x39c24b=_0xfc5d33['has'](_0x25bfe4),_0xfc5d33['delete'](_0x25bfe4)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x39c24b);}['getDefine'](_0x587cb0){return this['defines']['has'](_0x587cb0);}['destroy'](){this['variants']['clear']();for(let _0x1094b9=-0x1cbe+0x280*0x1+-0x2*-0xd1f;_0x1094b9<this['meshInstan'+'ces']['length'];_0x1094b9++){const _0x2df206=this['meshInstan'+'ces'][_0x1094b9];if(_0x2df206['clearShade'+'rs'](),_0x2df206['_material']=null,_0x2df206['mesh']){const _0x5999bb=cl(_0x2df206['mesh']['device']);this!==_0x5999bb&&(_0x2df206['material']=_0x5999bb);}else b['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0xae4+0x266c+0x838*-0x6;}['addMeshIns'+'tanceRef'](_0x1f7c9f){this['meshInstan'+'ces']['push'](_0x1f7c9f);}['removeMesh'+'InstanceRe'+'f'](_0x157403){const _0x1350ae=this['meshInstan'+'ces'],_0x5d4417=_0x1350ae['indexOf'](_0x157403);_0x5d4417!==-(-0x4*0x199+-0x4bf*-0x4+0x125*-0xb)&&_0x1350ae['splice'](_0x5d4417,0x94b+-0xc0f+-0x2c5*-0x1);}}class Is{static['update'](_0x2b64b2,_0x501c85,_0x370387,_0x5db6af,_0x3f9f43,_0x16203e,_0x3c634f){Is['updateShar'+'edOptions'](_0x2b64b2,_0x501c85,_0x370387,_0x3f9f43,_0x16203e),Is['updateMate'+'rialOption'+'s'](_0x2b64b2,_0x501c85),Is['updateEnvO'+'ptions'](_0x2b64b2,_0x501c85,_0x370387,_0x5db6af),Is['updateLigh'+'tingOption'+'s'](_0x2b64b2,_0x501c85,_0x3f9f43,_0x3c634f);}static['updateShar'+'edOptions'](_0x40e87d,_0x2816af,_0xbd9aa3,_0x4a833d,_0x5d9310){_0x40e87d['chunks']=_0x2816af['chunks'],_0x40e87d['pass']=_0x5d9310,_0x40e87d['alphaTest']=_0x2816af['alphaTest']>-0x11e+0x25*0x97+-0x3*0x6e7,_0x40e87d['blendType']=_0x2816af['blendType'],_0x40e87d['screenSpac'+'e']=_0x4a833d&&(_0x4a833d&Ip)!==0x1275+-0x1d2c+-0xd3*-0xd,_0x40e87d['skin']=_0x4a833d&&(_0x4a833d&jc)!==0x41a+-0x10b2+0xc98,_0x40e87d['useInstanc'+'ing']=_0x4a833d&&(_0x4a833d&Yc)!==0x43*-0xf+0x1*0xa63+-0x676,_0x40e87d['useMorphPo'+'sition']=_0x4a833d&&(_0x4a833d&Kc)!==-0x1*0x13f7+0x1f20+-0xb29,_0x40e87d['useMorphNo'+'rmal']=_0x4a833d&&(_0x4a833d&Zc)!==-0x1417+0x1*-0xa25+0x1e3c,_0x40e87d['useMorphTe'+'xtureBased'+'Int']=_0x4a833d&&(_0x4a833d&Qc)!==-0x1f4*0xe+-0x2303+0x3e5b,_0x40e87d['hasTangent'+'s']=_0x4a833d&&(_0x4a833d&Dp)!==0xd31+0x19be+-0x26ef,_0x40e87d['nineSliced'+'Mode']=_0x2816af['nineSliced'+'Mode']||Pi,_0x2816af['useLightin'+'g']&&_0xbd9aa3['clusteredL'+'ightingEna'+'bled']?(_0x40e87d['clusteredL'+'ightingEna'+'bled']=!(0x4*-0x91c+-0x61e+0x2a8e),_0x40e87d['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0xbd9aa3['lighting']['cookiesEna'+'bled'],_0x40e87d['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0xbd9aa3['lighting']['shadowsEna'+'bled'],_0x40e87d['clusteredL'+'ightingSha'+'dowType']=_0xbd9aa3['lighting']['shadowType'],_0x40e87d['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0xbd9aa3['lighting']['areaLights'+'Enabled']):(_0x40e87d['clusteredL'+'ightingEna'+'bled']=!(-0x10e1+-0x227*-0xc+-0x8f2),_0x40e87d['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x2*0x37+0x13d5*-0x1+0x1444*0x1),_0x40e87d['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x628*0x2+-0x251*-0xd+-0x11cc),_0x40e87d['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x2427+-0x23f3*0x1+0x33*-0x1));}static['updateMate'+'rialOption'+'s'](_0x26c610,_0x25e0aa){_0x26c610['separateAm'+'bient']=!(-0x224d+-0x1c91*0x1+-0x5*-0xc93),_0x26c610['customFrag'+'mentShader']=null,_0x26c610['pixelSnap']=_0x25e0aa['pixelSnap'],_0x26c610['ambientSH']=_0x25e0aa['ambientSH'],_0x26c610['twoSidedLi'+'ghting']=_0x25e0aa['twoSidedLi'+'ghting'],_0x26c610['occludeDir'+'ect']=_0x25e0aa['occludeDir'+'ect'],_0x26c610['occludeSpe'+'cular']=_0x25e0aa['occludeSpe'+'cular'],_0x26c610['occludeSpe'+'cularFloat']=_0x25e0aa['occludeSpe'+'cularInten'+'sity']!==-0x5*-0x10d+-0x2525+-0x5*-0x661,_0x26c610['useMsdf']=!(-0x1*0x791+0x147f+-0x44f*0x3),_0x26c610['msdfTextAt'+'tribute']=!(-0x1642*0x1+-0x1bd1*0x1+0x3214),_0x26c610['alphaToCov'+'erage']=_0x25e0aa['alphaToCov'+'erage'],_0x26c610['opacityFad'+'esSpecular']=_0x25e0aa['opacityFad'+'esSpecular'],_0x26c610['opacityDit'+'her']=_0x25e0aa['opacityDit'+'her'],_0x26c610['cubeMapPro'+'jection']=f0,_0x26c610['useSpecula'+'r']=_0x25e0aa['hasSpecula'+'r'],_0x26c610['useSpecula'+'rityFactor']=_0x25e0aa['hasSpecula'+'rityFactor'],_0x26c610['enableGGXS'+'pecular']=_0x25e0aa['ggxSpecula'+'r'],_0x26c610['fresnelMod'+'el']=_0x25e0aa['fresnelMod'+'el'],_0x26c610['useRefract'+'ion']=_0x25e0aa['hasRefract'+'ion'],_0x26c610['useClearCo'+'at']=_0x25e0aa['hasClearCo'+'at'],_0x26c610['useSheen']=_0x25e0aa['hasSheen'],_0x26c610['useIridesc'+'ence']=_0x25e0aa['hasIrrides'+'cence'],_0x26c610['useMetalne'+'ss']=_0x25e0aa['hasMetalne'+'ss'],_0x26c610['useDynamic'+'Refraction']=_0x25e0aa['dynamicRef'+'raction'],_0x26c610['dispersion']=_0x25e0aa['dispersion']>-0x1*-0x188f+-0x251b+0xc8c,_0x26c610['vertexColo'+'rs']=!(0x10*0x11c+-0x83+-0x113c),_0x26c610['lightMapEn'+'abled']=_0x25e0aa['hasLightin'+'g'],_0x26c610['dirLightMa'+'pEnabled']=_0x25e0aa['dirLightMa'+'p'],_0x26c610['useHeights']=_0x25e0aa['hasHeights'],_0x26c610['useNormals']=_0x25e0aa['hasNormals'],_0x26c610['useClearCo'+'atNormals']=_0x25e0aa['hasClearCo'+'atNormals'],_0x26c610['useAo']=_0x25e0aa['hasAo'],_0x26c610['diffuseMap'+'Enabled']=_0x25e0aa['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x309dac,_0x351695,_0x5328eb,_0x24d0f6){_0x309dac['fog']=_0x351695['useFog']?_0x24d0f6['fog']:Ba,_0x309dac['gamma']=_0x24d0f6['shaderOutp'+'utGamma'],_0x309dac['toneMap']=_0x351695['useTonemap']?_0x24d0f6['toneMappin'+'g']:p0,_0x351695['useSkybox']&&_0x5328eb['envAtlas']&&_0x5328eb['skybox']?(_0x309dac['reflection'+'Source']='envAtlasHQ',_0x309dac['reflection'+'Encoding']=_0x5328eb['envAtlas']['encoding'],_0x309dac['reflection'+'CubemapEnc'+'oding']=_0x5328eb['skybox']['encoding']):_0x351695['useSkybox']&&_0x5328eb['envAtlas']?(_0x309dac['reflection'+'Source']='envAtlas',_0x309dac['reflection'+'Encoding']=_0x5328eb['envAtlas']['encoding']):_0x351695['useSkybox']&&_0x5328eb['skybox']?(_0x309dac['reflection'+'Source']='cubeMap',_0x309dac['reflection'+'Encoding']=_0x5328eb['skybox']['encoding']):(_0x309dac['reflection'+'Source']=null,_0x309dac['reflection'+'Encoding']=null),_0x351695['ambientSH']?(_0x309dac['ambientSou'+'rce']='ambientSH',_0x309dac['ambientEnc'+'oding']=null):_0x309dac['reflection'+'Source']&&_0x5328eb['envAtlas']?(_0x309dac['ambientSou'+'rce']='envAtlas',_0x309dac['ambientEnc'+'oding']=_0x5328eb['envAtlas']['encoding']):(_0x309dac['ambientSou'+'rce']='constant',_0x309dac['ambientEnc'+'oding']=null);const _0x391fc7=!!_0x309dac['reflection'+'Source'];_0x309dac['skyboxInte'+'nsity']=_0x391fc7,_0x309dac['useCubeMap'+'Rotation']=_0x391fc7&&_0x5328eb['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x3c7eb7,_0x1af1d3,_0x28f057,_0x3ef6ed){if(_0x3c7eb7['lightMapWi'+'thoutAmbie'+'nt']=!(0x1*0x1ae4+-0x2202+0x71f*0x1),_0x1af1d3['useLightin'+'g']){const _0x25f8f5=[],_0x8bb73a=_0x28f057?_0x28f057>>-0x37f+0xe92+-0xb03:ms;_0x3c7eb7['lightMaskD'+'ynamic']=!!(_0x8bb73a&ms),_0x3c7eb7['lightMapWi'+'thoutAmbie'+'nt']=!(0x68c*-0x5+-0x129+0x21e6),_0x3ef6ed&&(Is['collectLig'+'hts'](le,_0x3ef6ed[le],_0x25f8f5,_0x8bb73a),Is['collectLig'+'hts'](Le,_0x3ef6ed[Le],_0x25f8f5,_0x8bb73a),Is['collectLig'+'hts'](Fe,_0x3ef6ed[Fe],_0x25f8f5,_0x8bb73a)),_0x3c7eb7['lights']=_0x25f8f5;}else _0x3c7eb7['lights']=[];(_0x3c7eb7['lights']['length']===-0x1ccd+0x173*0x15+-0x1a2||(_0x28f057&Rp)!==-0xca3*-0x2+0x1894+-0x31da)&&(_0x3c7eb7['noShadow']=!(0x4e7+-0xa*-0xed+0x1*-0xe29));}static['collectLig'+'hts'](_0x5191c6,_0x5da0b8,_0x1c0093,_0x3630a4){for(let _0x32fbc2=0x2242+-0x130a+-0xf38;_0x32fbc2<_0x5da0b8['length'];_0x32fbc2++){const _0x379e75=_0x5da0b8[_0x32fbc2];_0x379e75['enabled']&&_0x379e75['mask']&_0x3630a4&&_0x1c0093['push'](_0x379e75);}}}const d_=(_0xdc349,_0x71b157)=>{if(_0xdc349['length']!==_0x71b157['length'])return!(-0x337*-0x2+-0x12e3+0xc76);for(let _0x3ce874=0x2256+-0xa+-0x224c;_0x3ce874<_0xdc349['length'];++_0x3ce874)if(_0xdc349[_0x3ce874]!==_0x71b157[_0x3ce874])return!(-0x26bb+0x1*-0x16e5+-0x9*-0x6d9);return!(-0x1ddb+0x186+0x1c55);},KC=_0x517fec=>_0x517fec['r']!==0x1011*-0x1+-0xeb6+0x1*0x1ec8||_0x517fec['g']!==0x7b6+0x6*0xb5+-0xbf3||_0x517fec['b']!==0x153*0x10+0x1987+-0x1*0x2eb6,ZC=_0x165384=>_0x165384['r']!==0x1fe0+-0x19e8*-0x1+-0x39c8||_0x165384['g']!==0x262e+-0xd*-0x217+-0x4159||_0x165384['b']!==0x1a06*-0x1+0x31*0x59+0x8fd;class QC{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x29384e,_0x487cdf,_0x4ad485,_0x478063,_0x150487,_0x43964c){this['_updateSha'+'redOptions'](_0x29384e,_0x487cdf,_0x4ad485,_0x478063,_0x150487),this['_updateMin'+'Options'](_0x29384e,_0x4ad485,_0x150487),this['_updateUVO'+'ptions'](_0x29384e,_0x4ad485,_0x478063,!(-0x22d7*0x1+-0x204e+0x4325*0x1));}['updateRef'](_0x5b1b46,_0x502419,_0x59a957,_0xf2073f,_0x3777fa,_0x238dad,_0x3b166b){this['_updateSha'+'redOptions'](_0x5b1b46,_0x502419,_0xf2073f,_0x3777fa,_0x238dad),this['_updateEnv'+'Options'](_0x5b1b46,_0xf2073f,_0x502419,_0x59a957),this['_updateMat'+'erialOptio'+'ns'](_0x5b1b46,_0xf2073f),_0x5b1b46['litOptions']['hasTangent'+'s']=_0x3777fa&&(_0x3777fa&Dp)!==-0x2*-0xcf1+-0x16f0+0x1d*-0x1a,this['_updateLig'+'htOptions'](_0x5b1b46,_0x502419,_0xf2073f,_0x3777fa,_0x3b166b),this['_updateUVO'+'ptions'](_0x5b1b46,_0xf2073f,_0x3777fa,!(0x1ea8+0x10*0x86+0x67*-0x61),_0x59a957);}['_updateSha'+'redOptions'](_0x54c043,_0x44336f,_0xb58fee,_0x2bec43,_0xf858a){_0x54c043['forceUv1']=_0xb58fee['forceUv1'],_0xb58fee['userAttrib'+'utes']&&(_0x54c043['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0xb58fee['userAttrib'+'utes']['entries']())),_0x54c043['litOptions']['chunks']=_0xb58fee['chunks']||{},_0x54c043['litOptions']['pass']=_0xf858a,_0x54c043['litOptions']['alphaTest']=_0xb58fee['alphaTest']>-0xbee+0x19e5+-0xdf7,_0x54c043['litOptions']['blendType']=_0xb58fee['blendType'],_0x54c043['litOptions']['screenSpac'+'e']=_0x2bec43&&(_0x2bec43&Ip)!==0xd91*-0x2+-0x10d3+0x2bf5,_0x54c043['litOptions']['skin']=_0x2bec43&&(_0x2bec43&jc)!==-0x18f2+-0x1*0x1dc5+0x1*0x36b7,_0x54c043['litOptions']['batch']=_0x2bec43&&(_0x2bec43&zu)!==0x1c86+0x2*-0x131d+0x9b4,_0x54c043['litOptions']['useInstanc'+'ing']=_0x2bec43&&(_0x2bec43&Yc)!==-0x18d4+-0x2240+0x3b14,_0x54c043['litOptions']['useMorphPo'+'sition']=_0x2bec43&&(_0x2bec43&Kc)!==0x10*0xcf+-0xa62+-0x28e,_0x54c043['litOptions']['useMorphNo'+'rmal']=_0x2bec43&&(_0x2bec43&Zc)!==-0x89*-0x24+-0x624+-0xd20,_0x54c043['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x2bec43&&(_0x2bec43&Qc)!==-0x2*0xa1e+0x16*0xdf+-0x1*-0x112,_0x54c043['litOptions']['nineSliced'+'Mode']=_0xb58fee['nineSliced'+'Mode']||0x4*-0xa7+0x127a+0x7ef*-0x2,_0x44336f['clusteredL'+'ightingEna'+'bled']&&_0xb58fee['useLightin'+'g']?(_0x54c043['litOptions']['clusteredL'+'ightingEna'+'bled']=!(-0x12e+-0xe3c*0x1+0xf6a),_0x54c043['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x44336f['lighting']['cookiesEna'+'bled'],_0x54c043['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x44336f['lighting']['shadowsEna'+'bled'],_0x54c043['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x44336f['lighting']['shadowType'],_0x54c043['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x44336f['lighting']['areaLights'+'Enabled']):(_0x54c043['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x184d+-0x3bb*0x3+0x1*-0xd1b),_0x54c043['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0xd83+0x1*-0x2347+0x1*0x30cb),_0x54c043['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x15bc*0x1+0x6*-0x5d6+0x38c1),_0x54c043['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x178*-0x2+-0x1c96+0x19a7));}['_updateUVO'+'ptions'](_0x12197d,_0x35351c,_0xa006e3,_0x1d589b,_0x13a492){let _0x33604a=!(-0x1*0x28c+0x14fa+-0x126d),_0x3f80cc=!(-0x4*-0x351+-0x1*0x1bd7+0xe94),_0x56c511=!(0x1*0x13c+-0x23cf+0x2294);_0xa006e3&&(_0x33604a=(_0xa006e3&_0)!==-0x23*-0x2b+0x1f98+-0x2579*0x1,_0x3f80cc=(_0xa006e3&g0)!==0x367+0x21a3+0x1*-0x250a,_0x56c511=(_0xa006e3&y0)!==-0x372+0x10c+0x266),_0x12197d['litOptions']['vertexColo'+'rs']=!(0x986+-0x11*-0x8f+-0x1304),this['_mapXForms']=[];const _0xd592df={};for(const _0x4af574 in ma)this['_updateTex'+'Options'](_0x12197d,_0x35351c,_0x4af574,_0x33604a,_0x3f80cc,_0x56c511,_0x1d589b,_0xd592df);this['_mapXForms']=null,_0x12197d['litOptions']['ssao']=_0x13a492==null?void(0x1d4+-0x1d3+-0x1):_0x13a492['ssaoEnable'+'d'],_0x12197d['useAO']=_0x12197d['litOptions']['ssao'],_0x12197d['litOptions']['lightMapEn'+'abled']=_0x12197d['lightMap'],_0x12197d['litOptions']['dirLightMa'+'pEnabled']=_0x12197d['dirLightMa'+'p'],_0x12197d['litOptions']['useHeights']=_0x12197d['heightMap'],_0x12197d['litOptions']['useNormals']=_0x12197d['normalMap'],_0x12197d['litOptions']['useClearCo'+'atNormals']=_0x12197d['clearCoatN'+'ormalMap'],_0x12197d['litOptions']['useAo']=_0x12197d['aoMap']||_0x12197d['aoVertexCo'+'lor']||_0x12197d['litOptions']['ssao'],_0x12197d['litOptions']['diffuseMap'+'Enabled']=_0x12197d['diffuseMap'];}['_updateTex'+'Options'](_0x2c53a2,_0x106545,_0xb895e9,_0x1fbcef,_0x52a34c,_0x2b3228,_0x46359b,_0x1241be){const _0x146c23=_0xb895e9==='opacity';if(!_0x46359b||_0x146c23){const _0x41d6ad=_0xb895e9+'Map',_0x51b5f1=_0xb895e9+('VertexColo'+'r'),_0x1dfe6c=_0xb895e9+('VertexColo'+'rChannel'),_0x338a51=_0x41d6ad+'Channel',_0x336837=_0x41d6ad+'Transform',_0x52536d=_0x41d6ad+'Uv',_0x2b3001=_0x41d6ad+'Identifier';if(_0xb895e9!=='light'&&(_0x2c53a2[_0x41d6ad]=!(-0x85*0x1d+-0xa00+0x1912),_0x2c53a2[_0x2b3001]=void(-0x136e+0x156d*-0x1+0x28db),_0x2c53a2[_0x338a51]='',_0x2c53a2[_0x336837]=0x1ac+-0x20c+0x18*0x4,_0x2c53a2[_0x52536d]=0x1f29+0x2505+-0x6*0xb5d),_0x2c53a2[_0x51b5f1]=!(0xd3*0x20+0xf88+-0x29e7),_0x2c53a2[_0x1dfe6c]='',_0x146c23&&_0x106545['blendType']===hs&&_0x106545['alphaTest']===0x220a*0x1+-0x102b+-0x11df&&!_0x106545['alphaToCov'+'erage']&&_0x106545['opacityDit'+'her']===Os)return;if(_0xb895e9!=='height'&&_0x106545[_0x51b5f1]&&_0x2b3228&&(_0x2c53a2[_0x51b5f1]=_0x106545[_0x51b5f1],_0x2c53a2[_0x1dfe6c]=_0x106545[_0x1dfe6c],_0x2c53a2['litOptions']['vertexColo'+'rs']=!(0x1122+-0x9d*-0x31+0x2f*-0x101)),_0x106545[_0x41d6ad]){let _0x2056d4=!(0x3*0x65f+-0x60*-0x1f+0xb7*-0x2b);if(_0x106545[_0x52536d]===0x1050+0x22f7+-0x3347&&!_0x1fbcef&&(_0x2056d4=!(0x6c8+0xa7*0x39+-0x2bf6)),_0x106545[_0x52536d]===-0x46d*0x8+-0xd4a+-0x3bf*-0xd&&!_0x52a34c&&(_0x2056d4=!(0x2*0x556+0x5*0x46f+-0x20d6)),_0x2056d4){const _0x32724d=_0x106545[_0x41d6ad]['id'];let _0x41c46e=_0x1241be[_0x32724d];_0x41c46e===void(-0x45d*-0x1+-0x1fd9+-0x1b7c*-0x1)&&(_0x1241be[_0x32724d]=_0xb895e9,_0x41c46e=_0xb895e9),_0x2c53a2[_0x41d6ad]=!!_0x106545[_0x41d6ad],_0x2c53a2[_0x2b3001]=_0x41c46e,_0x2c53a2[_0x336837]=this['_getMapTra'+'nsformID'](_0x106545['getUniform'](_0x336837),_0x106545[_0x52536d]),_0x2c53a2[_0x338a51]=_0x106545[_0x338a51],_0x2c53a2[_0x52536d]=_0x106545[_0x52536d];}}}}['_updateMin'+'Options'](_0x7aec40,_0x26743f,_0x10a9a0){const _0x5e2393=_0x10a9a0===ol;_0x7aec40['litOptions']['opacitySha'+'dowDither']=_0x5e2393?_0x26743f['opacityDit'+'her']:_0x26743f['opacitySha'+'dowDither'],_0x7aec40['litOptions']['linearDept'+'h']=_0x5e2393,_0x7aec40['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x48b702,_0x550bdf){var _0x1b08d4,_0x20b385,_0x5bc214,_0x382ed8;const _0x43e053=!!(_0x550bdf['useMetalne'+'ss']||_0x550bdf['specularMa'+'p']||_0x550bdf['sphereMap']||_0x550bdf['cubeMap']||ZC(_0x550bdf['specular'])||_0x550bdf['specularit'+'yFactor']>-0x1fbe+-0x40*0x2+0x203e&&_0x550bdf['useMetalne'+'ss']||_0x550bdf['enableGGXS'+'pecular']||_0x550bdf['clearCoat']>0x1404+-0xad4+0x62*-0x18),_0x495d14=!_0x550bdf['useMetalne'+'ss']||_0x550bdf['useMetalne'+'ssSpecular'+'Color'],_0xcc6a21=_0x43e053&&(_0x550bdf['specularTi'+'nt']||!_0x550bdf['specularMa'+'p']&&!_0x550bdf['specularVe'+'rtexColor'])&&KC(_0x550bdf['specular']),_0x4ffecd=_0x43e053&&_0x550bdf['useMetalne'+'ssSpecular'+'Color']&&(_0x550bdf['specularit'+'yFactorTin'+'t']||_0x550bdf['specularit'+'yFactor']<-0x1d79+-0x8c8+0x2642&&!_0x550bdf['specularit'+'yFactorMap']),_0x1524f2=_0x550bdf['normalMap']?_0x550bdf['normalMap']['format']===Yo||_0x550bdf['normalMap']['type']===dp:!(0x7*0x51b+0x23b4+-0x4770),_0x4c91de=(_0x54f4db,_0x32b54e)=>Math['abs'](_0x54f4db-_0x32b54e)<0xad9*0x2+0x4a9+0x207*-0xd+0.0001;_0x48b702['specularTi'+'nt']=_0xcc6a21?-0x1*0xf7+0x1ff1+-0x1ef8:-0xa7d+0x1f*-0x5+0xb18,_0x48b702['specularit'+'yFactorTin'+'t']=_0x4ffecd?0x15*0x93+-0x24aa+-0x9*-0x2bc:0x1cfb+-0xbdf+-0x111c*0x1,_0x48b702['metalnessT'+'int']=_0x550bdf['useMetalne'+'ss']&&_0x550bdf['metalness']<0x21f8+0x501*-0x1+-0x1cf6?-0x7e1+-0xf31*0x1+-0x7b1*-0x3:0x15e+-0x10aa+-0x164*-0xb,_0x48b702['glossTint']=0x1*0x3e8+-0x1001+-0x2*-0x60d,_0x48b702['diffuseEnc'+'oding']=(_0x1b08d4=_0x550bdf['diffuseMap'])==null?void(-0x6d9*0x5+-0x4*-0x469+0x25f*0x7):_0x1b08d4['encoding'],_0x48b702['diffuseDet'+'ailEncodin'+'g']=(_0x20b385=_0x550bdf['diffuseDet'+'ailMap'])==null?void(-0x1dc2+0xae4*0x1+0x12de):_0x20b385['encoding'],_0x48b702['emissiveEn'+'coding']=(_0x5bc214=_0x550bdf['emissiveMa'+'p'])==null?void(-0x172a+0x1*0x3b2+-0x1c*-0xb2):_0x5bc214['encoding'],_0x48b702['lightMapEn'+'coding']=(_0x382ed8=_0x550bdf['lightMap'])==null?void(0x1c7b+-0x1eb7*-0x1+-0x3b32):_0x382ed8['encoding'],_0x48b702['packedNorm'+'al']=_0x1524f2,_0x48b702['refraction'+'Tint']=_0x4c91de(_0x550bdf['refraction'],0x13*-0xd1+-0x1*0x39b+-0xb*-0x1bd)?0x1245+0xe06+-0x204b:-0xa0d*0x1+-0x5*-0xd1+0x5f9,_0x48b702['refraction'+'IndexTint']=_0x4c91de(_0x550bdf['refraction'+'Index'],(0xf63+0x1467*-0x1+0x505)/(-0x70*0x13+-0x1dbc+-0xcaf*-0x3+0.5))?0x907*0x2+-0x824+0x36*-0x2f:-0x53*0x25+0x62c+0x5d4,_0x48b702['thicknessT'+'int']=_0x550bdf['useDynamic'+'Refraction']&&_0x550bdf['thickness']!==0x2e3*0x8+-0x1230+0x5*-0xfb?-0x1ee1+0x1501+-0x34b*-0x3:-0x10f1+-0x1ca4+-0x1*-0x2d95,_0x48b702['specularEn'+'coding']=_0x550bdf['specularEn'+'coding']||'linear',_0x48b702['sheenEncod'+'ing']=_0x550bdf['sheenEncod'+'ing']||'linear',_0x48b702['aoMapUv']=_0x550bdf['aoUvSet'],_0x48b702['aoDetail']=!!_0x550bdf['aoMap'],_0x48b702['diffuseDet'+'ail']=!!_0x550bdf['diffuseMap'],_0x48b702['normalDeta'+'il']=!!_0x550bdf['normalMap'],_0x48b702['diffuseDet'+'ailMode']=_0x550bdf['diffuseDet'+'ailMode'],_0x48b702['aoDetailMo'+'de']=_0x550bdf['aoDetailMo'+'de'],_0x48b702['clearCoatT'+'int']=_0x4c91de(_0x550bdf['clearCoat'],-0x504*0x7+-0x2*0xf47+-0x41ab*-0x1)?-0x5*-0x173+0xd*-0x114+-0x6c5*-0x1:-0x4c0+-0x1*-0xe59+-0x998,_0x48b702['clearCoatG'+'loss']=!!_0x550bdf['clearCoatG'+'loss'],_0x48b702['clearCoatG'+'lossTint']=_0x550bdf['clearCoatG'+'loss']!==-0x2257*0x1+0x89*0xe+-0x1eb*-0xe?-0x11*-0x4c+0x214*-0x4+-0x1b*-0x1f:0x21b3+-0x18ad+-0x5*0x1ce,_0x48b702['iorTint']=_0x4c91de(_0x550bdf['refraction'+'Index'],(0x654+0xc17+-0x126a)/(-0x1423+-0x2428+-0x3*-0x12c4+0.5))?-0xeae+-0x1730+0x25de:-0x259*0xb+-0x70a+0x20de,_0x48b702['iridescenc'+'eTint']=_0x550bdf['iridescenc'+'e']!==-0x23b*0x2+-0x715*-0x2+-0x9b3?0xabb+0x3*0x687+-0x1e4f:0x1*0x24c3+0x131*-0x14+0x4d*-0x2b,_0x48b702['glossInver'+'t']=_0x550bdf['glossInver'+'t'],_0x48b702['sheenGloss'+'Invert']=_0x550bdf['sheenGloss'+'Invert'],_0x48b702['clearCoatG'+'lossInvert']=_0x550bdf['clearCoatG'+'lossInvert'],_0x48b702['useSpecula'+'rColor']=_0x495d14,_0x48b702['litOptions']['separateAm'+'bient']=!(-0x1313+0x10d2+0x242),_0x48b702['litOptions']['customFrag'+'mentShader']=_0x550bdf['customFrag'+'mentShader'],_0x48b702['litOptions']['pixelSnap']=_0x550bdf['pixelSnap'],_0x48b702['litOptions']['ambientSH']=!!_0x550bdf['ambientSH'],_0x48b702['litOptions']['twoSidedLi'+'ghting']=_0x550bdf['twoSidedLi'+'ghting'],_0x48b702['litOptions']['occludeSpe'+'cular']=_0x550bdf['occludeSpe'+'cular'],_0x48b702['litOptions']['occludeSpe'+'cularFloat']=_0x550bdf['occludeSpe'+'cularInten'+'sity']!==0x146+-0x270e*0x1+0x25c9,_0x48b702['litOptions']['useMsdf']=!!_0x550bdf['msdfMap'],_0x48b702['litOptions']['msdfTextAt'+'tribute']=!!_0x550bdf['msdfTextAt'+'tribute'],_0x48b702['litOptions']['alphaToCov'+'erage']=_0x550bdf['alphaToCov'+'erage'],_0x48b702['litOptions']['opacityFad'+'esSpecular']=_0x550bdf['opacityFad'+'esSpecular'],_0x48b702['litOptions']['opacityDit'+'her']=_0x550bdf['opacityDit'+'her'],_0x48b702['litOptions']['cubeMapPro'+'jection']=_0x550bdf['cubeMapPro'+'jection'],_0x48b702['litOptions']['occludeDir'+'ect']=_0x550bdf['occludeDir'+'ect'],_0x48b702['litOptions']['useSpecula'+'r']=_0x43e053,_0x48b702['litOptions']['useSpecula'+'rityFactor']=(_0x4ffecd||!!_0x550bdf['specularit'+'yFactorMap'])&&_0x550bdf['useMetalne'+'ssSpecular'+'Color'],_0x48b702['litOptions']['enableGGXS'+'pecular']=_0x550bdf['enableGGXS'+'pecular'],_0x48b702['litOptions']['fresnelMod'+'el']=_0x550bdf['fresnelMod'+'el'],_0x48b702['litOptions']['useRefract'+'ion']=(_0x550bdf['refraction']||!!_0x550bdf['refraction'+'Map'])&&(_0x550bdf['useDynamic'+'Refraction']||!!_0x48b702['litOptions']['reflection'+'Source']),_0x48b702['litOptions']['useClearCo'+'at']=!!_0x550bdf['clearCoat'],_0x48b702['litOptions']['useSheen']=_0x550bdf['useSheen'],_0x48b702['litOptions']['useIridesc'+'ence']=_0x550bdf['useIridesc'+'ence']&&_0x550bdf['iridescenc'+'e']!==-0x2593+0x5*-0x75a+0x4a55,_0x48b702['litOptions']['useMetalne'+'ss']=_0x550bdf['useMetalne'+'ss'],_0x48b702['litOptions']['useDynamic'+'Refraction']=_0x550bdf['useDynamic'+'Refraction'],_0x48b702['litOptions']['dispersion']=_0x550bdf['dispersion']>0x16ae+0x200e+-0x36bc;}['_updateEnv'+'Options'](_0x18bea7,_0x4502d5,_0x5d3828,_0x4d9228){_0x18bea7['litOptions']['fog']=_0x4502d5['useFog']?_0x4d9228['fog']:Ba,_0x18bea7['litOptions']['gamma']=_0x4d9228['shaderOutp'+'utGamma'],_0x18bea7['litOptions']['toneMap']=_0x4502d5['useTonemap']?_0x4d9228['toneMappin'+'g']:p0;let _0xb91ec5=!(-0x21f5*0x1+-0x4*0x5dd+0x396a*0x1);if(_0x4502d5['envAtlas']&&_0x4502d5['cubeMap']?(_0x18bea7['litOptions']['reflection'+'Source']='envAtlasHQ',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x4502d5['envAtlas']['encoding'],_0x18bea7['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x4502d5['cubeMap']['encoding']):_0x4502d5['envAtlas']?(_0x18bea7['litOptions']['reflection'+'Source']='envAtlas',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x4502d5['envAtlas']['encoding']):_0x4502d5['cubeMap']?(_0x18bea7['litOptions']['reflection'+'Source']='cubeMap',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x4502d5['cubeMap']['encoding']):_0x4502d5['sphereMap']?(_0x18bea7['litOptions']['reflection'+'Source']='sphereMap',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x4502d5['sphereMap']['encoding']):_0x4502d5['useSkybox']&&_0x5d3828['envAtlas']&&_0x5d3828['skybox']?(_0x18bea7['litOptions']['reflection'+'Source']='envAtlasHQ',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x5d3828['envAtlas']['encoding'],_0x18bea7['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x5d3828['skybox']['encoding'],_0xb91ec5=!(-0x1*0x22b7+0x1*-0x247b+0x4732)):_0x4502d5['useSkybox']&&_0x5d3828['envAtlas']?(_0x18bea7['litOptions']['reflection'+'Source']='envAtlas',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x5d3828['envAtlas']['encoding'],_0xb91ec5=!(0x3*-0x3f3+0x119+0xac0)):_0x4502d5['useSkybox']&&_0x5d3828['skybox']?(_0x18bea7['litOptions']['reflection'+'Source']='cubeMap',_0x18bea7['litOptions']['reflection'+'Encoding']=_0x5d3828['skybox']['encoding'],_0xb91ec5=!(0x1b3d+0x1b04+-0x3641)):(_0x18bea7['litOptions']['reflection'+'Source']=null,_0x18bea7['litOptions']['reflection'+'Encoding']=null),_0x4502d5['ambientSH'])_0x18bea7['litOptions']['ambientSou'+'rce']='ambientSH',_0x18bea7['litOptions']['ambientEnc'+'oding']=null;else{const _0x46cc91=_0x4502d5['envAtlas']||(_0x4502d5['useSkybox']&&_0x5d3828['envAtlas']?_0x5d3828['envAtlas']:null);_0x46cc91&&!_0x4502d5['sphereMap']?(_0x18bea7['litOptions']['ambientSou'+'rce']='envAtlas',_0x18bea7['litOptions']['ambientEnc'+'oding']=_0x46cc91['encoding']):(_0x18bea7['litOptions']['ambientSou'+'rce']='constant',_0x18bea7['litOptions']['ambientEnc'+'oding']=null);}_0x18bea7['litOptions']['skyboxInte'+'nsity']=_0xb91ec5,_0x18bea7['litOptions']['useCubeMap'+'Rotation']=_0xb91ec5&&_0x5d3828['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x310d9c,_0xdd8fe0,_0x39079c,_0x5df175,_0x3cf9d8){if(_0x310d9c['lightMap']=!(-0x1107*0x1+0x4*0x2f6+0x1*0x530),_0x310d9c['lightMapCh'+'annel']='',_0x310d9c['lightMapUv']=-0x1e98+-0x1ce5*0x1+0x3b7d,_0x310d9c['lightMapTr'+'ansform']=-0x6c3*-0x3+-0x19b+-0x12ae,_0x310d9c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x105a+0x983+0x6d8),_0x310d9c['dirLightMa'+'p']=!(-0x3*-0xb8f+-0xf26+-0x1386),_0x5df175&&(_0x310d9c['litOptions']['noShadow']=(_0x5df175&Rp)!==0x1b81+0x2544+0x1597*-0x3,(_0x5df175&Nu)!==0xa14+-0x20c9*-0x1+-0x1*0x2add&&(_0x310d9c['lightMapEn'+'coding']=_0xdd8fe0['lightmapPi'+'xelFormat']===Te?'rgbm':'linear',_0x310d9c['lightMap']=!(0x25*0xc1+0x1c9*-0x13+0x606),_0x310d9c['lightMapCh'+'annel']='rgb',_0x310d9c['lightMapUv']=-0x1dc8+-0x1413+0x31dc,_0x310d9c['lightMapTr'+'ansform']=0x16e8+-0x26fe+0x1016*0x1,_0x310d9c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x39079c['lightMap'],(_0x5df175&x0)!==-0x1bcf+0x1a58+0x177&&(_0x310d9c['dirLightMa'+'p']=!(0xcff+-0x12db+0x5dc)),(_0x5df175&S0)!==0x1*-0x926+0x1bb5+-0x128f&&(_0x310d9c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3b8*-0xa+0x21d6+0x35b)))),_0x39079c['useLightin'+'g']){const _0x2ea799=[],_0x918859=_0x5df175?_0x5df175>>-0x28d+0x7b*-0x5+-0x6*-0xd6:ms;_0x310d9c['litOptions']['lightMaskD'+'ynamic']=!!(_0x918859&ms),_0x3cf9d8&&(Is['collectLig'+'hts'](le,_0x3cf9d8[le],_0x2ea799,_0x918859),Is['collectLig'+'hts'](Le,_0x3cf9d8[Le],_0x2ea799,_0x918859),Is['collectLig'+'hts'](Fe,_0x3cf9d8[Fe],_0x2ea799,_0x918859)),_0x310d9c['litOptions']['lights']=_0x2ea799;}else _0x310d9c['litOptions']['lights']=[];_0x310d9c['litOptions']['lights']['length']===-0x377*0x1+-0x1d4d+-0x1062*-0x2&&(_0x310d9c['litOptions']['noShadow']=!(0x2*-0xd09+-0x16d3*-0x1+0x33f));}['_getMapTra'+'nsformID'](_0xca85b5,_0x92b583){if(!_0xca85b5)return-0x23cf+0x11f*0xd+-0x2*-0xa9e;let _0x5db3a6=this['_mapXForms'][_0x92b583];_0x5db3a6||(_0x5db3a6=[],this['_mapXForms'][_0x92b583]=_0x5db3a6);for(let _0x19294f=0x1324+-0x1437+0x113;_0x19294f<_0x5db3a6['length'];_0x19294f++)if(d_(_0x5db3a6[_0x19294f][-0x1106+-0xd8a+-0xa3*-0x30]['value'],_0xca85b5[0x13d*-0xd+-0x13*-0xd9+-0x2]['value'])&&d_(_0x5db3a6[_0x19294f][0x1799*-0x1+0xe40*0x2+-0x4e6]['value'],_0xca85b5[-0xa*0xfc+0x2633+-0x2*0xe2d]['value']))return _0x19294f+(-0x2a5*-0x9+0x189*-0x19+0xe95);return _0x5db3a6['push'](_0xca85b5);}}function Ze(_0x18c2f1,_0xbc8f63=!(-0x13ee+0xa*0xc7+0xc28),_0x419560=!(0xaf2*0x1+0xeda+-0x673*0x4)){const _0xa27a1f={};return _0xa27a1f[_0x18c2f1+'Map']='texture',_0xa27a1f[_0x18c2f1+'MapTiling']='vec2',_0xa27a1f[_0x18c2f1+'MapOffset']='vec2',_0xa27a1f[_0x18c2f1+('MapRotatio'+'n')]='number',_0xa27a1f[_0x18c2f1+'MapUv']='number',_0xbc8f63&&(_0xa27a1f[_0x18c2f1+'MapChannel']='string',_0x419560&&(_0xa27a1f[_0x18c2f1+('VertexColo'+'r')]='boolean',_0xa27a1f[_0x18c2f1+('VertexColo'+'rChannel')]='string')),_0xa27a1f;}const Da={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...Ze('ao'),...Ze('aoDetail',!(-0x7b5+0x151*0x17+0x6b*-0x36),!(-0x13b6*0x1+0x1*-0x3fe+0x17b5)),'aoDetailMode':'string','diffuse':'rgb',...Ze('diffuse'),...Ze('diffuseDet'+'ail',!(0x9*0x31c+0x2*0x376+-0x22e8),!(0x1*0x133+0x25d9+-0x270b)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...Ze('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...Ze('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','anisotropy':'number','metalnessTint':'boolean',...Ze('metalness'),'useMetalnessSpecularColor':'boolean','shininess':'number','gloss':'number','glossInvert':'boolean',...Ze('gloss'),'clearCoat':'number',...Ze('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...Ze('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...Ze('clearCoatN'+'ormal',!(0x1c20+0x6c0+-0x1*0x22df)),'useSheen':'boolean','sheen':'rgb',...Ze('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...Ze('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...Ze('emissive'),'emissiveIntensity':'number',...Ze('normal',!(-0x26fd+-0x1c9*-0x2+-0x2*-0x11b6)),'bumpiness':'number',...Ze('normalDeta'+'il',!(-0xb37+-0x244d+-0x5*-0x981)),'normalDetailMapBumpiness':'number',...Ze('height',!(-0x137e+0xca8+0x6d6*0x1),!(-0x142e+-0x10+0x143f)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...Ze('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...Ze('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...Ze('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...Ze('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...Ze('iridescenc'+'eThickness'),...Ze('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean'},ed=[];for(const l in Da)Da[l]==='texture'&&ed['push'](l);const Np=[];for(const l in Da)Da[l]==='cubemap'&&Np['push'](l);const JC={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean'},gh={},R0={};let Ya=new Set();const Bl=new Y();class _s extends Sn{constructor(){super(),c(this,'userAttrib'+'utes',new Map()),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new QC(),this['reset']());}['reset'](){Object['keys'](gh)['forEach'](_0x397d79=>{this['_'+_0x397d79]=gh[_0x397d79]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x5bccae){return super['copy'](_0x5bccae),Object['keys'](gh)['forEach'](_0x32c4c6=>{this[_0x32c4c6]=_0x5bccae[_0x32c4c6];}),this['userAttrib'+'utes']=new Map(_0x5bccae['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x558ae6,_0x524e70){this['userAttrib'+'utes']['set'](_0x524e70,_0x558ae6);}['_setParame'+'ter'](_0x1f036b,_0x3d9d48){Ya['add'](_0x1f036b),this['setParamet'+'er'](_0x1f036b,_0x3d9d48);}['_setParame'+'ters'](_0x7cf7be){_0x7cf7be['forEach'](_0x2c494b=>{this['_setParame'+'ter'](_0x2c494b['name'],_0x2c494b['value']);});}['_processPa'+'rameters'](_0xf7bd45){const _0x1346fd=this[_0xf7bd45];_0x1346fd['forEach'](_0x47e0d1=>{Ya['has'](_0x47e0d1)||delete this['parameters'][_0x47e0d1];}),this[_0xf7bd45]=Ya,Ya=_0x1346fd,Ya['clear']();}['_updateMap'](_0x5772e8){const _0x44d144=_0x5772e8+'Map',_0x5d2265=this[_0x44d144];if(_0x5d2265){this['_setParame'+'ter']('texture_'+_0x44d144,_0x5d2265);const _0x474394=_0x44d144+'Transform',_0x3e6eee=this['getUniform'](_0x474394);_0x3e6eee&&this['_setParame'+'ters'](_0x3e6eee);}}['_allocUnif'+'orm'](_0x47f1d1,_0x95e95b){let _0x27b1ec=this['_uniformCa'+'che'][_0x47f1d1];return _0x27b1ec||(_0x27b1ec=_0x95e95b(),this['_uniformCa'+'che'][_0x47f1d1]=_0x27b1ec),_0x27b1ec;}['getUniform'](_0x3f0f06,_0x48da3f,_0x40f6b0){return R0[_0x3f0f06](this,_0x48da3f,_0x40f6b0);}['updateUnif'+'orms'](_0x592e54,_0xe63291){const _0x2f4d47=_0x274ae4=>this['getUniform'](_0x274ae4,_0x592e54,_0xe63291);this['_setParame'+'ter']('material_a'+'mbient',_0x2f4d47('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x2f4d47('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<0x312*-0x7+-0xa*-0xbf+0xe09)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2f4d47('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x2f4d47('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x2f4d47('specular')),this['enableGGXS'+'pecular']&&this['_setParame'+'ter']('material_a'+'nisotropy',this['anisotropy']),this['clearCoat']>-0x1*-0x159d+0x567*0x7+-0x3b6e&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),b['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x26cd+0x13f8+-0x33*0x127&&this['emissive']['g']===-0x107f*0x2+-0x2*-0x1dc+-0x1*-0x1d46&&this['emissive']['b']===0x7a8*0x4+0x77e+0x22*-0x11f&&b['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+G['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x2f4d47('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0x2*0x4c7+0x9*-0x41b+0x2e81&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0x1f1*-0x1+0x25*0x49+-0x89c&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x2f4d47('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x1863+-0x528*-0x2+-0x22b3?0x22e6+-0x828+-0x1abe:(0x1200+0x2434+-0x3633)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(0x7ed+0x2*-0x782+0x2*0x38c)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===jb&&this['_setParame'+'ter'](_0x2f4d47('cubeMapPro'+'jectionBox'));for(const _0x35781d in ma)this['_updateMap'](_0x35781d);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x2f4d47('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x592e54,_0xe63291);}['updateEnvU'+'niforms'](_0x3c78a2,_0x483e37){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x483e37['envAtlas']&&_0x483e37['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x483e37['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x483e37['skybox'])):_0x483e37['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x483e37['envAtlas']):_0x483e37['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x483e37['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x46f9df){const {device:_0x48ef59,scene:_0x409087,pass:_0x4a8234,objDefs:_0x5b9d37,sortedLights:_0x2d87c2,cameraShaderParams:_0xc3cfc5}=_0x46f9df;this['updateEnvU'+'niforms'](_0x48ef59,_0x409087);const _0x6e8c3c=ti['get'](_0x48ef59)['getByIndex'](_0x4a8234),_0x1b5b4f=_0x4a8234===ll||_0x4a8234===Na||_0x4a8234===ol||_0x6e8c3c['isShadow'];let _0x53daa9=_0x1b5b4f?Rd['optionsCon'+'textMin']:Rd['optionsCon'+'text'];_0x53daa9['defines']=Op(this,_0x46f9df),_0x1b5b4f?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x53daa9,_0x409087,this,_0x5b9d37,_0x4a8234,_0x2d87c2):this['shaderOptB'+'uilder']['updateRef'](_0x53daa9,_0x409087,_0xc3cfc5,this,_0x5b9d37,_0x4a8234,_0x2d87c2),_0x53daa9['defines']['set']('TONEMAP',m0[_0x53daa9['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x53daa9=this['onUpdateSh'+'ader'](_0x53daa9));const _0x18e27e=new Jc(_0x46f9df['viewUnifor'+'mFormat'],_0x46f9df['viewBindGr'+'oupFormat'],_0x46f9df['vertexForm'+'at']),_0x5c24ff=za(_0x48ef59);_0x5c24ff['register']('standard',Rd);const _0x4dc1f8=_0x5c24ff['getProgram']('standard',_0x53daa9,_0x18e27e,this['userId']);return this['_dirtyShad'+'er']=!(-0xe2+0x1*0x735+-0x652),_0x4dc1f8;}['destroy'](){for(const _0x359407 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x359407]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}c(_s,'TEXTURE_PA'+'RAMETERS',ed),c(_s,'CUBEMAP_PA'+'RAMETERS',Np);const td=(_0x910ece,_0x5b049b)=>{R0[_0x910ece]=_0x5b049b;},zp=(_0x5d1457,_0x16b995,_0x2cee58,_0x54f9ee)=>{Object['defineProp'+'erty'](_s['prototype'],_0x5d1457,{'get':_0x54f9ee||function(){return this['_'+_0x5d1457];},'set':_0x2cee58}),gh[_0x5d1457]={'value':_0x16b995};},eM=_0x3b238b=>{const _0x3b2a79='_'+_0x3b238b['name'],_0x3e3e3d=_0x3b238b['dirtyShade'+'rFunc']||(()=>!(0x224a+0x66+-0x22b0)),_0x149e47=function(_0xe0b466){const _0x36022c=this[_0x3b2a79];_0x36022c!==_0xe0b466&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x3e3e3d(_0x36022c,_0xe0b466),this[_0x3b2a79]=_0xe0b466);};zp(_0x3b238b['name'],()=>_0x3b238b['defaultVal'+'ue'],_0x149e47,_0x3b238b['getterFunc']);},tM=_0x195929=>{const _0x4a2a95='_'+_0x195929['name'],_0x5b1898=_0x195929['dirtyShade'+'rFunc']||(()=>!(-0x153a+0x18a*0x2+0x1226)),_0x2d7afd=function(_0x659fa){const _0x176e53=this[_0x4a2a95];_0x176e53['equals'](_0x659fa)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x5b1898(_0x176e53,_0x659fa),this[_0x4a2a95]=_0x176e53['copy'](_0x659fa));};zp(_0x195929['name'],()=>_0x195929['defaultVal'+'ue']['clone'](),_0x2d7afd,_0x195929['getterFunc']);},os=_0x32f9eb=>_0x32f9eb['defaultVal'+'ue']&&_0x32f9eb['defaultVal'+'ue']['clone']?tM(_0x32f9eb):eM(_0x32f9eb);function qe(_0x259876,_0x561d92='rgb',_0x44ab48=!(-0x15*-0x19f+0x93b+-0x2b46),_0x4e0815=-0x97a*0x4+-0x1476+0x3a5e){ma[_0x259876]=_0x561d92['length']||-(-0x1*-0x1ffd+-0x1*0x200f+0x1*0x13),os({'name':_0x259876+'Map','defaultValue':null,'dirtyShaderFunc':(_0xe9257f,_0x2fc926)=>!!_0xe9257f!=!!_0x2fc926||_0xe9257f&&(_0xe9257f['type']!==_0x2fc926['type']||_0xe9257f['format']!==_0x2fc926['format'])}),os({'name':_0x259876+'MapTiling','defaultValue':new W(-0x26ca+0x559*0x4+-0x1*-0x1167,0xa*0x43+0x7*0x207+0xef*-0x12)}),os({'name':_0x259876+'MapOffset','defaultValue':new W(0xa*-0x279+-0xdcc*-0x2+-0x2de,0x1cbe+0x2*-0x985+-0x9b4)}),os({'name':_0x259876+('MapRotatio'+'n'),'defaultValue':0x0}),os({'name':_0x259876+'MapUv','defaultValue':_0x4e0815}),_0x561d92&&(os({'name':_0x259876+'MapChannel','defaultValue':_0x561d92}),_0x44ab48&&(os({'name':_0x259876+('VertexColo'+'r'),'defaultValue':!(-0x25ec+-0x118c+-0x1*-0x3779)}),os({'name':_0x259876+('VertexColo'+'rChannel'),'defaultValue':_0x561d92})));const _0x4e789b=_0x259876+'MapTiling',_0x474022=_0x259876+'MapOffset',_0x5ad8b7=_0x259876+('MapRotatio'+'n'),_0x12b8ad=_0x259876+('MapTransfo'+'rm');td(_0x12b8ad,(_0xc25664,_0x3ece0e,_0x198b97)=>{const _0x8f0e8a=_0xc25664[_0x4e789b],_0x327c05=_0xc25664[_0x474022],_0x143b98=_0xc25664[_0x5ad8b7];if(_0x8f0e8a['x']===0x8bf*0x1+0x73f+0xffd*-0x1&&_0x8f0e8a['y']===-0xb7f+-0x1e76+0x83*0x52&&_0x327c05['x']===0x2*-0xfc6+-0xb*-0x1fd+0x1*0x9ad&&_0x327c05['y']===-0x11dc+-0x872*0x4+0x33a4&&_0x143b98===0x1*0x220f+-0x1369*-0x1+-0x4*0xd5e)return null;const _0x1f0f17=_0xc25664['_allocUnif'+'orm'](_0x12b8ad,()=>[{'name':'texture_'+_0x12b8ad+'0','value':new Float32Array(-0x1*0x1262+0x3*0x2e3+0x9bc)},{'name':'texture_'+_0x12b8ad+'1','value':new Float32Array(0x167b+0x4*0x845+-0x378c)}]),_0x507156=Math['cos'](_0x143b98*z['DEG_TO_RAD']),_0x2d65f4=Math['sin'](_0x143b98*z['DEG_TO_RAD']),_0x345e99=_0x1f0f17[0x20fd+-0x1*0x782+-0x197b]['value'];_0x345e99[0x1020+-0x1*0x2105+-0x19*-0xad]=_0x507156*_0x8f0e8a['x'],_0x345e99[-0x188+0x42*-0x79+0x20bb]=-_0x2d65f4*_0x8f0e8a['y'],_0x345e99[0xb2c+-0x18f5*0x1+0xdcb]=_0x327c05['x'];const _0x269350=_0x1f0f17[-0xb*0x2a9+-0x9*0x1d+0x1e49]['value'];return _0x269350[-0x1fc7+-0x1*-0x542+0x1a85]=_0x2d65f4*_0x8f0e8a['x'],_0x269350[-0x1897*-0x1+0x262+-0x1af8]=_0x507156*_0x8f0e8a['y'],_0x269350[-0xb*0x2ed+0x1ad9+0x558]=0x1ddb+-0x260a+0x830-_0x8f0e8a['y']-_0x327c05['y'],_0x1f0f17;});}function Pn(_0x26eb4e,_0x11c5a9){os({'name':_0x26eb4e,'defaultValue':_0x11c5a9,'getterFunc':function(){return this['_dirtyShad'+'er']=!(-0x1967+0x29*0xbe+-0x507),this['_'+_0x26eb4e];}}),td(_0x26eb4e,(_0x5933f1,_0x6a2692,_0x45c7b5)=>{const _0x48579e=_0x5933f1['_allocUnif'+'orm'](_0x26eb4e,()=>new Float32Array(0x908+0xa82+0x1*-0x1387)),_0x321cd0=_0x5933f1[_0x26eb4e];return Bl['linear'](_0x321cd0),_0x48579e[0xf80+0x1*0x207d+-0x3f*0xc3]=Bl['r'],_0x48579e[0x1*-0x1bfe+-0x4*-0x8c3+0x5f*-0x13]=Bl['g'],_0x48579e[-0x1*0x1c2d+-0xe89+0x2*0x155c]=Bl['b'],_0x48579e;});}function Ie(_0x3d1232,_0x5f5434,_0x185c31){os({'name':_0x3d1232,'defaultValue':_0x5f5434,'dirtyShaderFunc':(_0x138e39,_0x405955)=>(_0x138e39===-0x23e8+-0x530+0x2918||_0x138e39===0x24*0xe1+-0x6c*0x1f+0x1*-0x128f)!=(_0x405955===0x77*0xd+0x774+-0xd7f||_0x405955===-0x227*-0x3+-0x1*-0x817+-0x49*0x33)}),td(_0x3d1232,_0x185c31);}function Ka(_0x129e81,_0x500e34){os({'name':_0x129e81,'defaultValue':null,'dirtyShaderFunc':(_0x4f90bd,_0x239a69)=>!!_0x4f90bd==!!_0x239a69}),td(_0x129e81,_0x500e34);}function Ce(_0x3c8f6c,_0xb5669b){os({'name':_0x3c8f6c,'defaultValue':_0xb5669b});}function sM(){Pn('ambient',new Y(0x4d6*-0x1+0x1*-0x1fcd+0x24a4,-0x9a8+-0xc29+-0x26*-0x93,-0x20be+-0x7*-0x12d+0x1884)),Pn('diffuse',new Y(0xd8+0xb43+-0xc1a,-0x2*0x251+-0x2552+0x29f5,0x5*0x161+-0x54e+-0xcb*0x2)),Pn('specular',new Y(-0x3*0x9ad+0x12*-0x3d+-0x3*-0xb1b,-0xa8c+-0x205b+0x621*0x7,-0x23d5+-0x145c+0x1*0x3831)),Pn('emissive',new Y(-0x204b+0x20a+0x1e41,-0x7*-0x124+-0x4*0x16c+-0x24c,-0x2644+0x1037+0x160d*0x1)),Pn('sheen',new Y(-0x7f*-0xb+-0x7*0x291+0xc83,-0x2f+0x8*0x45d+-0x457*0x8,0x5f6+-0x1141+-0x1e2*-0x6)),Pn('attenuatio'+'n',new Y(-0xd4*-0x25+-0x2001+0x46*0x5,-0x1*-0x143f+-0xe2d+-0x611,-0x122a+-0x1179+0x23a4*0x1)),Ie('emissiveIn'+'tensity',0x267f+0x3b*-0x23+-0x1e6d),Ie('specularit'+'yFactor',0x1*0x1ca5+-0x3d*0x26+-0x1396),Ie('sheenGloss',0xb0*-0x1d+0xac1+-0x92f*-0x1),Ie('gloss',0x58*-0x65+0x1ee6+0xa3*0x6+0.25),Ie('aoIntensit'+'y',0x6df+0x6b2+-0xd90),Ie('heightMapF'+'actor',-0xf1c+0xaee*-0x2+0x765*0x5,(_0x1c7413,_0xa53978,_0x4ce97f)=>_0x1c7413['heightMapF'+'actor']*(0x1*0x16fe+-0x6*0x281+-0x2*0x3fc+0.025)),Ie('opacity',-0x1*-0xf05+0x791+-0x1695),Ie('alphaFade',0x1*-0xfb6+0x90f+0x3*0x238),Ie('alphaTest',0xa4*0x1f+0xc3*-0x1b+-0x1*-0xb5),Ie('bumpiness',-0x221*0x1+0x14*0x1c9+0x1*-0x2192),Ie('normalDeta'+'ilMapBumpi'+'ness',0xa7c+-0x98*0x10+-0xfb*0x1),Ie('reflectivi'+'ty',0x2241+0x210d+-0x434d),Ie('occludeSpe'+'cularInten'+'sity',0x5*0x6b+0x2598+-0x27ae),Ie('refraction',-0x973+-0xe*0xa1+0x1241),Ie('refraction'+'Index',(-0x3ce+-0x1fc8+-0x3*-0xbdd)/(0x4*0x14c+0x4e3*-0x7+0x1d06+0.5)),Ie('dispersion',0x24b9+-0x212d+-0x38c),Ie('thickness',0x18e3+-0x782+0x1*-0x1161),Ie('attenuatio'+'nDistance',-0xac7+0x1*0x117a+0x31*-0x23),Ie('metalness',0x1c81+-0x1fbf+0x33f),Ie('anisotropy',0x1*0x1cd+-0x1169+0xf9c),Ie('clearCoat',0x1d3e+-0x18*0x56+-0x152e),Ie('clearCoatG'+'loss',-0x10*0x165+-0x89e+-0x1eef*-0x1),Ie('clearCoatB'+'umpiness',0xb2f+0x108f+-0x1bbd),Ie('aoUvSet',0x12c6+-0x1*-0x982+-0x1c48,null),Ie('iridescenc'+'e',0x18f2+-0x1916+0x24),Ie('iridescenc'+'eRefractio'+'nIndex',(0x1*0x2302+-0x1bee+-0x713)/(0x1137+-0x2605+-0x2f9*-0x7+0.5)),Ie('iridescenc'+'eThickness'+'Min',-0x6*0x29c+-0x1e3a+-0x7*-0x68e),Ie('iridescenc'+'eThickness'+'Max',-0x9*-0x33d+-0x26*0x16+-0x19e1),Ka('ambientSH'),Ka('cubeMapPro'+'jectionBox',(_0x201dce,_0x1d79a0,_0x51b0f4)=>{const _0x2dd6aa=_0x201dce['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x2*-0x1044+0x1e67*0x1+0x224)},{'name':'envBoxMax','value':new Float32Array(-0x84*-0x3b+0x93a+-0x49*0x8b)}]),_0x5ecfa8=_0x201dce['cubeMapPro'+'jectionBox']['getMin'](),_0x4c9417=_0x2dd6aa[-0x4a3+0xf18*0x1+-0xa75]['value'];_0x4c9417[0x1e77+-0x878+-0x15ff]=_0x5ecfa8['x'],_0x4c9417[0x1*0x1360+0x1d6d+-0x30cc]=_0x5ecfa8['y'],_0x4c9417[0x2447+0xc5*0x5+0x806*-0x5]=_0x5ecfa8['z'];const _0x3412aa=_0x201dce['cubeMapPro'+'jectionBox']['getMax'](),_0x35291f=_0x2dd6aa[-0x4*0x4a8+0x11f0+-0x3*-0x3b]['value'];return _0x35291f[0x372+-0x8*-0x16b+-0x2*0x765]=_0x3412aa['x'],_0x35291f[0x11f*-0x7+0xa14+-0x23a]=_0x3412aa['y'],_0x35291f[-0x338+-0xdab+0x10e5]=_0x3412aa['z'],_0x2dd6aa;}),Ce('specularTi'+'nt',!(-0x1*-0x526+-0x47*0x85+-0x1fbe*-0x1)),Ce('specularit'+'yFactorTin'+'t',!(-0x2*-0x11fb+0x1*-0x1d71+-0x684)),Ce('useMetalne'+'ss',!(0x110c+-0x1*0x415+-0x452*0x3)),Ce('useMetalne'+'ssSpecular'+'Color',!(0x1c86+0x223c+-0x3ec1)),Ce('useSheen',!(0xdb0+0x26f*0x4+-0x176b*0x1)),Ce('enableGGXS'+'pecular',!(-0x760+0xf5c+-0x7fb)),Ce('occludeDir'+'ect',!(-0x1494+0xd*-0x89+0x1b8a)),Ce('opacityFad'+'esSpecular',!(0x2125+0x5d1+-0x1*0x26f6)),Ce('occludeSpe'+'cular',Vo),Ce('fresnelMod'+'el',Tp),Ce('useDynamic'+'Refraction',!(-0x2644+0x1df6+0x84f)),Ce('cubeMapPro'+'jection',f0),Ce('customFrag'+'mentShader',null),Ce('useFog',!(0x6*-0x36a+-0x254e+0x39ca)),Ce('useLightin'+'g',!(-0xc15+0x8*-0x203+0x1c2d)),Ce('useTonemap',!(-0xd5b*-0x1+0x1603*0x1+-0x235e)),Ce('useSkybox',!(0x262+0x7*0x3ad+0x1*-0x1c1d)),Ce('forceUv1',!(0xb54*0x3+-0x19*-0xe+-0x2359)),Ce('pixelSnap',!(0xd6a*-0x1+0x172b+-0x30*0x34)),Ce('twoSidedLi'+'ghting',!(0x1*-0x22a8+-0x2515+0x47be)),Ce('nineSliced'+'Mode',void(0x6f*-0x31+0x1c5d+-0x71e)),Ce('msdfTextAt'+'tribute',!(-0x626*-0x1+-0x1dc9+0x17a4)),Ce('useIridesc'+'ence',!(-0xea3*0x1+-0xfae*0x2+0x2e00)),Ce('glossInver'+'t',!(-0x1a6b+-0x108a+0x2af6)),Ce('sheenGloss'+'Invert',!(0x3e0+0xc78+-0x1057)),Ce('clearCoatG'+'lossInvert',!(-0x6*-0x50c+0x1*-0x1873+-0x5d4)),Ce('opacityDit'+'her',Os),Ce('opacitySha'+'dowDither',Os),qe('diffuse'),qe('specular'),qe('emissive'),qe('thickness','g'),qe('specularit'+'yFactor','g'),qe('normal',''),qe('metalness','g'),qe('gloss','g'),qe('opacity','a'),qe('refraction','g'),qe('height','g',!(-0x3*-0x15b+-0x16*-0x16b+-0x2342)),qe('ao','g'),qe('light','rgb',!(-0x1*-0xb14+-0x51*0x13+-0x511),-0x19f9+0x221d+-0x823),qe('msdf',''),qe('diffuseDet'+'ail','rgb',!(-0x409*0x9+0x2317+-0x5*-0x3f)),qe('normalDeta'+'il',''),qe('aoDetail','g',!(-0x251b+0x7*-0x7+0x254d)),qe('clearCoat','g'),qe('clearCoatG'+'loss','g'),qe('clearCoatN'+'ormal',''),qe('sheen','rgb'),qe('sheenGloss','g'),qe('iridescenc'+'e','g'),qe('iridescenc'+'eThickness','g'),Ce('diffuseDet'+'ailMode',Bm),Ce('aoDetailMo'+'de',Bm),Ka('cubeMap'),Ka('sphereMap'),Ka('envAtlas');const _0x341545=function(){return this['_prefilter'+'edCubemaps'];},_0x2856b5=function(_0x46f2d4){const _0x29125c=this['_prefilter'+'edCubemaps'];_0x46f2d4=_0x46f2d4||[];let _0x42b368=!(0x13*-0x172+0x23f+-0x21a*-0xc),_0x229a11=!(-0x2*-0x28d+0x1*-0xd06+0x7ec);for(let _0x414528=0x2*0xf22+-0x1*0x1b52+-0x2f2;_0x414528<0xd*-0x2ce+-0x8c1+0x2d3d;++_0x414528){const _0x389a09=_0x46f2d4[_0x414528]||null;_0x29125c[_0x414528]!==_0x389a09&&(_0x29125c[_0x414528]=_0x389a09,_0x42b368=!(0x3d1+-0xd*-0x16f+-0x1674*0x1)),_0x229a11=_0x229a11&&!!_0x29125c[_0x414528];}_0x42b368&&(_0x229a11?this['envAtlas']=P0['generatePr'+'efilteredA'+'tlas'](_0x29125c,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0xcbf+0x1eb1+0x22c*-0x14));},_0x31f524=[null,null,null,null,null,null];zp('prefiltere'+'dCubemaps',()=>_0x31f524['slice'](),_0x2856b5,_0x341545);}sM();const gt=class gt{static['render'](_0x1d7669,_0x267afc){const _0x456bbb=_0x267afc['device'],_0x9f7dc7=_0x1d7669['cells'],_0x2097ce=_0x1d7669['lightsBuff'+'er'],_0x4c349b=_0x2097ce['boundsMin'],_0x5de4d9=_0x2097ce['boundsDelt'+'a'],_0x45e409=_0x4c349b['clone']()['add'](_0x5de4d9),_0xd69ed1=_0x2097ce['boundsDelt'+'a']['clone']()['div'](_0x9f7dc7),_0x50fc95=gt['gridPositi'+'ons'],_0x370a6b=gt['gridColors'],_0x386064=new Y(0x202d+-0x2*-0xc0a+-0x3841*0x1+0.3,0x1a97*-0x1+0x2335+-0x2*0x44f+0.3,-0x1*-0x92a+0x793+0x5*-0x359+0.3),_0x48d508=(_0x33e8f7,_0x20c6d1,_0x4f217f,_0x576295,_0x36e709,_0x2999d7,_0x8f26c0,_0x2b042e,_0x46a40f)=>{for(let _0x7fc4a3=-0x1fce+0x18ca*-0x1+0x4*0xe26;_0x7fc4a3<=_0x33e8f7;_0x7fc4a3++)for(let _0x2e4cd2=-0x339+-0xc29+0x16*0xb3;_0x2e4cd2<=_0x20c6d1;_0x2e4cd2++){const _0x58a457=_0x4f217f+_0x7fc4a3*_0x576295,_0x2975c1=_0x36e709+_0x2e4cd2*_0x2999d7;_0x46a40f===0x27*0x1f+0x1*0x257f+-0x2a38?_0x50fc95['push'](_0x58a457,_0x8f26c0,_0x2975c1,_0x58a457,_0x2b042e,_0x2975c1):_0x46a40f===0x7bb+0x5d6+-0xd90?_0x50fc95['push'](_0x58a457,_0x2975c1,_0x8f26c0,_0x58a457,_0x2975c1,_0x2b042e):_0x46a40f===-0x10*0x235+0x814+0x1b3e&&_0x50fc95['push'](_0x8f26c0,_0x58a457,_0x2975c1,_0x2b042e,_0x58a457,_0x2975c1);}};if(_0x48d508(_0x9f7dc7['x'],_0x9f7dc7['z'],_0x4c349b['x'],_0xd69ed1['x'],_0x4c349b['z'],_0xd69ed1['z'],_0x4c349b['y'],_0x45e409['y'],0x1c2b*-0x1+0x1a41+0xa*0x31),_0x48d508(_0x9f7dc7['x'],_0x9f7dc7['y'],_0x4c349b['x'],_0xd69ed1['x'],_0x4c349b['y'],_0xd69ed1['y'],_0x4c349b['z'],_0x45e409['z'],-0x2166+0xd77+0x13f0),_0x48d508(_0x9f7dc7['y'],_0x9f7dc7['z'],_0x4c349b['y'],_0xd69ed1['y'],_0x4c349b['z'],_0xd69ed1['z'],_0x4c349b['x'],_0x45e409['x'],0x7c*0xd+0x123*0x8+0xf62*-0x1),_0x50fc95['length']){const _0x2998f8=_0x50fc95['length']/(-0x4e2*0x3+-0x235d+0x3206*0x1);if(_0x2998f8!==_0x370a6b['length']/(-0x1df8+-0x1e2*-0x2+0x1a38*0x1)){_0x370a6b['length']=0x26e0+0x26f8+-0x4dd8;for(let _0x497ae7=0x2*-0x184+-0x1*0x1b52+0x1e5a;_0x497ae7<_0x2998f8;_0x497ae7++)_0x370a6b['push'](_0x386064['r'],_0x386064['g'],_0x386064['b'],_0x386064['a']);}_0x267afc['drawLineAr'+'rays'](_0x50fc95,_0x370a6b),_0x50fc95['length']=0xe0a+-0x1*0xd22+0x8*-0x1d;}let _0x2b3ccb=gt['mesh'];_0x2b3ccb||(_0x2b3ccb=new ke(_0x456bbb),_0x2b3ccb['clear'](!(-0x1*0x1d5d+-0x2c8+0x2025),!(0x1849+0x29*-0x43+-0xd8e)),gt['mesh']=_0x2b3ccb);const _0x415583=[],_0x41a38c=[],_0x4be242=[],_0x49de95=_0x1d7669['_cells']['x'],_0x128330=_0x1d7669['_cells']['z'],_0x28e38d=_0x1d7669['counts'],_0x102c4c=_0x1d7669['_maxCellLi'+'ghtCount'],_0x1b343f=new A(),_0x4e083a=new A(),_0xdbea5c=new A(),_0x1e9955=_0x5de4d9['clone']()['div'](_0x9f7dc7);let _0xb085ad=-0x165c+-0x24cf+0x11*0x37b;for(let _0x491388=-0x12a0+0x1*-0x26d5+0x3975;_0x491388<_0x9f7dc7['x'];_0x491388++)for(let _0x3b712d=0x1*-0x6f8+-0x1*0x1345+0x1a3d;_0x3b712d<_0x9f7dc7['z'];_0x3b712d++)for(let _0x27dfa0=0x26f5*0x1+-0x936+-0x5*0x5f3;_0x27dfa0<_0x9f7dc7['y'];_0x27dfa0++){const _0x26eeb5=_0x491388+_0x49de95*(_0x3b712d+_0x27dfa0*_0x128330),_0x4d7717=_0x28e38d[_0x26eeb5];if(_0x4d7717>-0x3*-0x167+-0x1b+-0x23*0x1e){_0x1b343f['x']=_0x4c349b['x']+_0x1e9955['x']*_0x491388,_0x1b343f['y']=_0x4c349b['y']+_0x1e9955['y']*_0x27dfa0,_0x1b343f['z']=_0x4c349b['z']+_0x1e9955['z']*_0x3b712d,_0x4e083a['add2'](_0x1b343f,_0x1e9955),_0x415583['push'](_0x1b343f['x'],_0x1b343f['y'],_0x4e083a['z']),_0x415583['push'](_0x4e083a['x'],_0x1b343f['y'],_0x4e083a['z']),_0x415583['push'](_0x4e083a['x'],_0x4e083a['y'],_0x4e083a['z']),_0x415583['push'](_0x1b343f['x'],_0x4e083a['y'],_0x4e083a['z']),_0x415583['push'](_0x4e083a['x'],_0x1b343f['y'],_0x1b343f['z']),_0x415583['push'](_0x1b343f['x'],_0x1b343f['y'],_0x1b343f['z']),_0x415583['push'](_0x1b343f['x'],_0x4e083a['y'],_0x1b343f['z']),_0x415583['push'](_0x4e083a['x'],_0x4e083a['y'],_0x1b343f['z']),_0xdbea5c['lerp'](gt['colorLow'],gt['colorHigh'],_0x4d7717/_0x102c4c)['round']();for(let _0x46d9a5=0x172c+-0x1a77+0x34b;_0x46d9a5<-0x23da+0xafd+0x18e5;_0x46d9a5++)_0x41a38c['push'](_0xdbea5c['x'],_0xdbea5c['y'],_0xdbea5c['z'],0x1*0x3c8+0x1260+-0x1627);_0x4be242['push'](_0xb085ad*(-0x178*0x14+0x5*0x16c+0x1*0x164c)+(-0x11*0x6b+-0x1408*0x1+0x1b23),_0xb085ad*(-0x50e*-0x2+0x1*-0x95f+0xb5*-0x1)+(-0x24cb+-0x106*-0x12+0x1260),_0xb085ad*(0xab*0x3+-0x16e9+0x14f0)+(0x1ca5*0x1+-0x184a+-0x458*0x1)),_0x4be242['push'](_0xb085ad*(0x1fd7+-0x3*0x3f+0x1*-0x1f12)+(-0x2ed*-0x1+-0x3d9+0xef),_0xb085ad*(-0x262a+-0xef*0x4+0x29ee)+(-0x24fb*-0x1+0x19d*-0x5+-0x1ce9),_0xb085ad*(-0x18fd+0xe3c*0x2+-0x373)+(0xb13+-0x1f24+0x1413)),_0x4be242['push'](_0xb085ad*(0x8ac+-0x1*-0x24a9+-0x2d4d)+(-0x1*-0x243e+0x1103+-0x353d),_0xb085ad*(-0x4*0x358+-0x19f*-0xb+-0xb*0x67)+(-0x427+0x10*-0x257+0xa67*0x4),_0xb085ad*(-0x1ae2+0x1708+-0x1*-0x3e2)+(-0x1f3a+0xd*0x2a3+-0x306)),_0x4be242['push'](_0xb085ad*(-0x19d*-0x9+0xf*0x16a+-0x23b3)+(-0xd*0x27a+-0x1195*-0x2+-0x2f1),_0xb085ad*(0x1715*0x1+-0x2252+0xb45)+(-0x1*-0x1387+-0x1240+-0x142),_0xb085ad*(-0x977+0x2254+-0x18d5)+(0x1a58+-0x1ec1+-0xe3*-0x5)),_0x4be242['push'](_0xb085ad*(-0x184*-0x6+-0xf3+-0x81d)+(-0x21*0x2c+-0x48b*0x4+-0x1*-0x17db),_0xb085ad*(-0x1af*-0x7+0x1c*0x120+-0x2b41*0x1)+(-0x8ac+0x50*-0x64+-0x13*-0x21a),_0xb085ad*(-0x98e*-0x1+-0x1a48+0x10c2)+(0x1b27*-0x1+-0x1f9d*0x1+0x3aca)),_0x4be242['push'](_0xb085ad*(-0x7*-0x379+0x395*0x4+0x1*-0x269b)+(0x6*-0x510+0x1*-0x4b2+0x118a*0x2),_0xb085ad*(-0x1ac*0x15+-0x219f+-0x25f*-0x1d)+(0x453*0x2+0x5*-0x739+0x3*0x92a),_0xb085ad*(-0x1*-0x8e9+0x3e*0x34+-0x1579)+(-0x1151+0x9e2+0x53*0x17)),_0x4be242['push'](_0xb085ad*(-0x1987+0x1efc+0x1*-0x56d)+(0xa6c+0x262+-0xccd),_0xb085ad*(0x26b5+0x4c*0x79+-0x4a99)+(-0x1d32+0x2*-0x120d+0x414c),_0xb085ad*(-0x1102*-0x1+-0x1e6e+0xd74)+(0x1*-0x28+-0x1407*0x1+0x1*0x1433)),_0x4be242['push'](_0xb085ad*(0x144f+0x815*0x1+-0x974*0x3)+(0x1d*0xa0+-0xf2d+-0x1*0x2f3),_0xb085ad*(-0x220b*0x1+-0x228a+0x449d)+(-0x812+-0x1*-0x1d7d+0xb*-0x1f2),_0xb085ad*(0x11ce+-0x1722+0x7*0xc4)+(0x211e+0x18a2+0xa*-0x5c6)),_0x4be242['push'](_0xb085ad*(0xcbd*-0x1+0x5a*0x43+-0xac9)+(-0x2289+-0x1981+-0x1*-0x3c0b),_0xb085ad*(0x1*0x1c68+-0xc8e*0x1+-0xf*0x10e)+(-0x1ead+-0x1c19*-0x1+0x298),_0xb085ad*(-0x1*-0x872+-0xac4+-0x1*-0x25a)+(-0x109c+-0x49d*-0x7+-0xfad)),_0x4be242['push'](_0xb085ad*(0x1*0x10e3+-0x1b1*0xf+0x884)+(0x1*0x1877+0x8a5*0x4+-0x3b07*0x1),_0xb085ad*(0xdcf+-0x103*-0x15+-0x2306)+(0x16f1+-0x4*0x549+-0x1c6),_0xb085ad*(0x137*0x2+0x8f*-0x31+0x18f9)+(-0x19*-0x35+-0x1*0x26ff+-0x6c4*-0x5)),_0x4be242['push'](_0xb085ad*(-0x44d*-0x3+0xa12*0x2+-0x9*0x3ab)+(0x3d9+-0x74*-0x11+-0x1ec*0x6),_0xb085ad*(-0x1033+0x261+0xdda)+(-0x2*0x49c+0x15af+0xc77*-0x1),_0xb085ad*(-0x5*0x575+0x109d+0xab4)+(-0x827*-0x4+-0xf42+-0x1154)),_0x4be242['push'](_0xb085ad*(0xe0e+0x4*-0x741+0xefe)+(0x7a*0x29+0x1ae+-0x1538),_0xb085ad*(0x10+0x8f*-0x7+0x3e1)+(-0x233f+0x4*-0x9ad+0x49f6),_0xb085ad*(-0x8f9*0x1+0x166b+-0xd6a)+(0x1bd6+-0x15*-0x196+-0x1*0x3d1e)),_0xb085ad++;}}if(_0xb085ad){if(_0x2b3ccb['setPositio'+'ns'](_0x415583),_0x2b3ccb['setColors3'+'2'](_0x41a38c),_0x2b3ccb['setIndices'](_0x4be242),_0x2b3ccb['update'](Fs,!(-0x1a0+0xc2b+-0x8e*0x13)),!gt['meshInstan'+'ce']){const _0x56fc6=new _s();_0x56fc6['useLightin'+'g']=!(-0xd6e+0xa1d+0x352),_0x56fc6['emissive']=new Y(-0x201b+0x1*0x19d1+0x64b,0x71b*-0x5+0x1830+0x84*0x16,-0xa13+0x1785+-0x3*0x47b),_0x56fc6['emissiveVe'+'rtexColor']=!(0x23f5+0xabb+-0x2eb0),_0x56fc6['blendType']=Xc,_0x56fc6['depthWrite']=!(0x1165+0x188d+0x4a9*-0x9),_0x56fc6['update']();const _0x2b6008=new Oe('WorldClust'+'ersDebug');_0x2b6008['worldTrans'+'form']=q['IDENTITY'],_0x2b6008['_dirtyWorl'+'d']=_0x2b6008['_dirtyNorm'+'al']=!(0x2483+-0xb68+-0x3f*0x66),gt['meshInstan'+'ce']=new Be(_0x2b3ccb,_0x56fc6,_0x2b6008),gt['meshInstan'+'ce']['cull']=!(-0x2517+-0x10*-0x242+-0x1f*-0x8);}const _0x17cdd9=gt['meshInstan'+'ce'];_0x267afc['immediate']['drawMesh'](_0x17cdd9['material'],_0x17cdd9['node']['worldTrans'+'form'],null,_0x17cdd9,_0x267afc['defaultDra'+'wLayer']);}}};c(gt,'gridPositi'+'ons',[]),c(gt,'gridColors',[]),c(gt,'mesh',null),c(gt,'meshInstan'+'ce',null),c(gt,'colorLow',new A(-0xac0+-0x856+0xb5*0x1b,0x29*0xe5+-0x3cd*-0x4+-0x33e0,0x199c+0x779+0x108a*-0x2)),c(gt,'colorHigh',new A(0x1942+0x1*-0x1825+-0xf5,0x84b*-0x1+0x21b5+0xcb5*-0x2,0x2639+-0x3*0x8ba+-0xc0b*0x1));let $u=gt;const iM='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Ei=null;const I0=()=>{if(!Ei){const _0x4681cc=atob(iM);Ei=Uint8Array['from'](_0x4681cc,_0x3cef87=>_0x3cef87['charCodeAt'](-0x24e0+0x1*-0x231f+-0xa49*-0x7));}},rM=()=>(I0(),Ei);class nM{constructor(_0x15a5cf=-0x7fd+-0x343+0xb40){c(this,'seed',-0x20*0x11b+-0x2f6*-0x8+-0xbb*-0x10),(this['seed']=_0x15a5cf*(-0x1e96+0x199a+-0x14*-0x40),I0());}['_next'](){this['seed']=(this['seed']+(-0xbbf+0x2680+0x25*-0xb9))%Ei['length'];}['value'](){return this['_next'](),Ei[this['seed']]/(0x29*-0x37+-0x65*-0x29+0xe9*-0x7);}['vec4'](_0x119ca9=new ee()){return this['_next'](),_0x119ca9['set'](Ei[this['seed']],Ei[this['seed']+(0x1a8+0x21cb*-0x1+0x2024)],Ei[this['seed']+(0x475*0x1+0xb57+-0xfca)],Ei[this['seed']+(-0x232+0x13b+0xfa)])['mulScalar']((0x1bf4+-0x1*-0x127b+-0x6a2*0x7)/(0xd*-0xa3+-0x1*-0x18ba+-0xf74*0x1));}}const aM=[new A(-(-0x253c+-0x2e*-0xa3+0x7f3),0x13*-0xab+-0x2248+0x2ef9,0x22d*0x1+0x1613+-0x1840),new A(0x24cd*-0x1+-0x1*0x208b+0x1b1*0x29,-0xaad+0x174a*-0x1+0x21f7,-0x10c7+0x24f*0x5+0x53c),new A(0x849+-0x15fa+0x1*0xdb1,-(-0x1748+-0x1238+-0x55*-0x7d),-0xf2e+0xc86+0x28*0x11),new A(0x1*-0x21dd+0x68f+0x1b4e*0x1,-0x12eb+-0xd6+0x119*0x12,0x222a*0x1+-0x12+-0x2218),new A(0xbc9*0x1+-0x381+0x4*-0x212,-0xb*0x215+-0x366*-0x9+-0x7af*0x1,-(0xea8+-0xa4b+-0x5d*0xc)),new A(-0x1deb+0xf3*-0x1e+0x3a65,-0x1356+-0x7ce+0x243*0xc,0x5c9+0x2*-0xfb5+0x19a2)];class oM{constructor(){c(this,'colors',new Float32Array((0x4*0x751+0x214c+-0x3e8a)*(0x2*0xd1e+-0x3*0x335+-0x109a)));}['update'](_0x5cad3b,_0x2475f1){const _0x29428c=this['colors'],{r:_0x575570,g:_0x35c849,b:_0x2bf85f}=_0x5cad3b;for(let _0x3c2183=0x1794+0xc40*0x2+-0x3014;_0x3c2183<-0x900+-0x17e8+-0x5*-0x696;_0x3c2183++)_0x29428c[_0x3c2183*(-0x21ca+0x1d5e+-0xe3*-0x5)]=_0x575570,_0x29428c[_0x3c2183*(0x6e2+0x1fef+-0x26ce)+(0x8*0x146+-0x2581+0x1b52)]=_0x35c849,_0x29428c[_0x3c2183*(0x23e5+-0x1a13+-0x345*0x3)+(0x1*-0x621+-0x2648+0x2c6b)]=_0x2bf85f;for(let _0x435738=-0x8*0x175+-0xcb4+0x185c;_0x435738<_0x2475f1['length'];_0x435738++){const _0x6df8cb=_0x2475f1[_0x435738];if(_0x6df8cb['_type']===le)for(let _0x2b9356=-0x2*0x404+-0x20de*-0x1+-0x18d6;_0x2b9356<-0x2059+-0x1267*-0x1+0xdf8;_0x2b9356++){const _0x1478bd=Math['max'](aM[_0x2b9356]['dot'](_0x6df8cb['_direction']),0xe87+0x1f79*0x1+0x1*-0x2e00)*_0x6df8cb['_intensity'],_0x58dd16=_0x6df8cb['_color'];_0x29428c[_0x2b9356*(0x2*0xb41+-0x940+-0xd3f*0x1)]+=_0x58dd16['r']*_0x1478bd,_0x29428c[_0x2b9356*(-0xacb+-0xb0*-0xb+0x33e)+(0x1b1d*-0x1+0x3e*-0x97+0x3fb0)]+=_0x58dd16['g']*_0x1478bd,_0x29428c[_0x2b9356*(-0x2440+0xb*0x2a+0x2275)+(-0x2bd*-0x8+0x67c+-0x1c62)]+=_0x58dd16['b']*_0x1478bd;}}}}const lM=(_0x28adf4,_0x135799,_0x5b8369,_0xd3f440)=>{const _0x127032=new ce(_0x28adf4,{'name':''+_0x135799+_0x5b8369,'width':_0x5b8369,'height':_0x5b8369,'format':Te,'addressU':nt,'addressV':nt,'type':Bi,'magFilter':fe,'minFilter':fe,'anisotropy':0x1,'mipmaps':!(-0x622*0x4+-0x1cac+-0x101*-0x35)});return _0x127032['lock']()['set'](_0xd3f440),_0x127032['unlock'](),_0x127032;},hM=new Ht(),cM=_0x4daa7c=>hM['get'](_0x4daa7c,()=>{const _0x109078=rM(),_0xa24c86=Math['sqrt'](_0x109078['length']/(0x1b37+0x1c7d+0x36*-0x108));return lM(_0x4daa7c,'BlueNoise',_0xa24c86,_0x109078);});class pn{constructor(_0xe0f332,_0x3d537b){this['texture']=_0xe0f332,this['cached']=!(0x303*0x7+-0x12d*-0xc+-0x2330),this['renderTarg'+'ets']=_0x3d537b;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x2b6648=this['renderTarg'+'ets'];for(let _0x2382f5=-0x512+0x256b*0x1+-0x2059;_0x2382f5<_0x2b6648['length'];_0x2382f5++)_0x2b6648[_0x2382f5]['destroy']();this['renderTarg'+'ets']['length']=0x8*0x445+-0x138e+0xb2*-0x15;}static['getShadowF'+'iltering'](_0x299b6d,_0x579aad){return _0x579aad===$r?_0x299b6d['extTexture'+'FloatLinea'+'r']?at:fe:at;}static['create'](_0x2a8eb3,_0x2e68ef){let _0x645520=null;return _0x2e68ef['_type']===Le?_0x645520=this['createCube'+'map'](_0x2a8eb3,_0x2e68ef['_shadowRes'+'olution'],_0x2e68ef['_shadowTyp'+'e']):_0x645520=this['create2dMa'+'p'](_0x2a8eb3,_0x2e68ef['_shadowRes'+'olution'],_0x2e68ef['_shadowTyp'+'e']),_0x645520;}static['createAtla'+'s'](_0x43cac5,_0x3d90b2,_0x3aad25){const _0x573e4b=this['create2dMa'+'p'](_0x43cac5,_0x3d90b2,_0x3aad25),_0x25c38e=_0x573e4b['renderTarg'+'ets'],_0x399a44=_0x25c38e[0x12b1+0x1cce+-0x2f7f*0x1];for(let _0x215a5a=0xcd2*-0x3+0x2c7*0x2+0x20e8;_0x215a5a<-0x9fe+-0x1fbb+-0x29be*-0x1;_0x215a5a++)_0x25c38e['push'](_0x399a44);return _0x573e4b;}static['create2dMa'+'p'](_0x353fa3,_0x4f0737,_0x960ad6){var _0x23c293;const _0x491b3d=nr['get'](_0x960ad6);b['assert'](_0x491b3d);let _0x6246d0=_0x491b3d['format'];_0x6246d0===Oi&&!_0x353fa3['textureFlo'+'atRenderab'+'le']&&_0x353fa3['textureHal'+'fFloatRend'+'erable']&&(_0x6246d0=xa);const _0x1d3a21=(_0x23c293=At['get'](_0x6246d0))==null?void(-0x4*-0xbf+-0xee2+-0x1*-0xbe6):_0x23c293['name'],_0x2f9e46=this['getShadowF'+'iltering'](_0x353fa3,_0x960ad6),_0x3e2c2b=new ce(_0x353fa3,{'profilerHint':Mu,'format':_0x6246d0,'width':_0x4f0737,'height':_0x4f0737,'mipmaps':!(0x1*-0x1c61+-0x3af*0x5+0x1*0x2ecd),'minFilter':_0x2f9e46,'magFilter':_0x2f9e46,'addressU':oe,'addressV':oe,'name':'ShadowMap2'+'D_'+_0x1d3a21});let _0x39409d=null;return _0x491b3d!=null&&_0x491b3d['pcf']?(_0x3e2c2b['compareOnR'+'ead']=!(0x10f1+-0x1*0x1c49+0xf2*0xc),_0x3e2c2b['compareFun'+'c']=Ih,_0x39409d=new St({'depthBuffer':_0x3e2c2b})):_0x39409d=new St({'colorBuffer':_0x3e2c2b,'depth':!(-0x2*0x114a+-0x20c0+-0x21aa*-0x2)}),_0x353fa3['isWebGPU']&&(_0x39409d['flipY']=!(0x3*-0x153+-0x23*-0xe2+0x1*-0x1aed)),new pn(_0x3e2c2b,[_0x39409d]);}static['createCube'+'map'](_0x43670f,_0x21d9b6,_0x2cf355){var _0x3cd3c1;const _0x234f54=nr['get'](_0x2cf355);b['assert'](_0x234f54);const _0x17725c=(_0x3cd3c1=At['get'](_0x234f54['format']))==null?void(-0x22*-0x104+-0x1*0xe5f+-0xd*0x18d):_0x3cd3c1['name'],_0x68a16a=_0x2cf355===Rs,_0x189f21=_0x68a16a?fe:at,_0x5cf1cb=new ce(_0x43670f,{'profilerHint':Mu,'format':_0x234f54==null?void(0x2046+0x223d+-0x1*0x4283):_0x234f54['format'],'width':_0x21d9b6,'height':_0x21d9b6,'cubemap':!(-0xaf3*0x3+-0x6e*0x49+0x4037*0x1),'mipmaps':!(-0x141*0x1b+-0x3*0xa14+0x4018),'minFilter':_0x189f21,'magFilter':_0x189f21,'addressU':oe,'addressV':oe,'name':'ShadowMapC'+'ube_'+_0x17725c});_0x68a16a||(_0x5cf1cb['compareOnR'+'ead']=!(0x1fb+-0xe07+0xc0c),_0x5cf1cb['compareFun'+'c']=Ih);const _0x528226=[];for(let _0x4dfb00=0xec2+-0xbd7+-0x2eb;_0x4dfb00<0x59c+-0x35*0x75+0xd*0x16f;_0x4dfb00++)_0x68a16a?_0x528226['push'](new St({'colorBuffer':_0x5cf1cb,'face':_0x4dfb00,'depth':!(0x2386+-0x1705+-0x61*0x21)})):_0x528226['push'](new St({'depthBuffer':_0x5cf1cb,'face':_0x4dfb00}));return new pn(_0x5cf1cb,_0x528226);}}const dM=[],uM=[],ri=new ee(),Id=new ee();class Dd{constructor(_0x3c28c3){this['size']=Math['floor'](_0x3c28c3['w']*(-0x2411+0x287+0x258a)),this['used']=!(-0x1*0x869+0x6dc+0xc7*0x2),this['lightId']=-(0x30c*-0xb+0x79a+0x19eb),this['rect']=_0x3c28c3;}}class fM{constructor(_0xbd244d){this['device']=_0xbd244d,this['version']=-0x122a+-0x1708+0x2933,this['shadowAtla'+'sResolutio'+'n']=0x1c30+-0x6*0x643+0xa*0x1bd,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=0x9b*0x26+0x29*-0xd+-0x14ea,this['cookieAtla'+'sResolutio'+'n']=-0x1752+-0xc8c+0x23e2,this['cookieAtla'+'s']=new ce(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':cs,'cubemap':!(-0x22f*-0x11+-0x225c*-0x1+0x51b*-0xe),'mipmaps':!(-0x1a5+0x5*-0x59f+0x1dc1),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe}),this['cookieRend'+'erTarget']=new St({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x9a2+-0x3*0x8ac+0x5*0x347),'flipY':!(0x16f6+-0x1dc3+-0x6cd*-0x1)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new W(-0x2683+0x1d5d+0x926,-0x1*0x15b5+0x3*-0x50d+0x24dc),new W(-0x153f+0x89*-0x1f+0x25d6,0x1*0xf06+-0x78b*0x1+-0x16*0x57),new W(0x10*0x109+-0x4d*-0x7b+-0x358e,0x1*0xbb5+-0x53*0xf+-0x2*0x36c),new W(0x1cf*0x5+0xdcf+-0x16d9,-0x17b6+-0x9ad+0x2164),new W(-0x91c*-0x3+0x357*-0x5+0xa9f*-0x1,-0x16f*0xa+0xc5f*-0x1+0x1ab5),new W(0x1aa1+0x1*0xc73+0x6*-0x683,-0xb7*-0x2e+-0x9c6+-0x5b*0x41)],this['scissorVec']=new ee(),this['allocateSh'+'adowAtlas'](-0x1996+-0x2130+0x3ac7),this['allocateCo'+'okieAtlas'](-0x118d*-0x1+-0x125*-0x17+-0x2bdf),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x2aeab2;(_0x2aeab2=this['shadowAtla'+'s'])==null||_0x2aeab2['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x210e75,_0x524c78;(_0x210e75=this['cookieAtla'+'s'])==null||_0x210e75['destroy'](),this['cookieAtla'+'s']=null,(_0x524c78=this['cookieRend'+'erTarget'])==null||_0x524c78['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x517053,_0x595e90=zt){var _0x747ae3;const _0x493bcd=(_0x747ae3=this['shadowAtla'+'s'])==null?void(0x1609*-0x1+-0xd4f*0x1+-0x3*-0xbc8):_0x747ae3['texture']['format'],_0x555d6e=nr['get'](_0x595e90)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x517053||_0x493bcd!==_0x555d6e){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=pn['createAtla'+'s'](this['device'],_0x517053,_0x595e90),this['shadowAtla'+'s']['cached']=!(-0xbb7*-0x2+0x5dc+-0x1d4a);const _0x512c37=(-0x3b+-0x1*-0x170f+-0x2*0xb68)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x512c37,_0x512c37,-(0x14fb+0xc9b+-0x2194)*_0x512c37,-(-0x5db+0x133d*-0x2+-0x1*-0x2c57)*_0x512c37);}}['allocateCo'+'okieAtlas'](_0x1837f3){this['cookieAtla'+'s']['width']!==_0x1837f3&&(this['cookieRend'+'erTarget']['resize'](_0x1837f3,_0x1837f3),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x1c04+0x25ea+-0x9e4),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x10da35=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x598*-0x3+0x1*0x125+0x1*-0x11ed]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x10da35),this['_shadowAtl'+'asParams'][0xf80+0x21aa+-0x312a]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][0x1b2f+-0xf*0x1d2+0x4*0x8]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x55ca79,_0x33bf21){let _0x44611d=_0x33bf21['atlasSplit'];if(!_0x44611d){const _0x565e11=Math['ceil'](Math['sqrt'](_0x55ca79));_0x44611d=uM,_0x44611d[0x96d+-0x11c5+0x858]=_0x565e11,_0x44611d['length']=0x443+0x1852+0xe4a*-0x2;}if(!((_0x8d20ce,_0x2e46e7)=>_0x8d20ce['length']===_0x2e46e7['length']&&_0x8d20ce['every']((_0x53c158,_0x1968fd)=>_0x53c158===_0x2e46e7[_0x1968fd]))(_0x44611d,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x74*-0x1+0x1*0x236c+0x8f8*-0x4,this['atlasSplit']['length']=0x8c6+0x1e6b*-0x1+0x15a5*0x1,this['atlasSplit']['push'](..._0x44611d);const _0x35681=this['atlasSplit'][0x1d5a+-0x1*-0xf48+-0x2ca2];if(_0x35681>0x17cf+-0x2040+0x872){const _0x1a4cb7=(-0x8f5*-0x2+-0xafd*-0x2+-0x27e3)/_0x35681;for(let _0x4c0ba6=-0x88*-0x47+-0xc+-0x4*0x96b;_0x4c0ba6<_0x35681;_0x4c0ba6++)for(let _0x537e2d=-0x3c5+-0xffd+0x13c2;_0x537e2d<_0x35681;_0x537e2d++){const _0x37b3c2=new ee(_0x4c0ba6*_0x1a4cb7,_0x537e2d*_0x1a4cb7,_0x1a4cb7,_0x1a4cb7),_0x5c77fe=this['atlasSplit'][0xc9c*-0x1+0xd*-0x2eb+0x328c+_0x4c0ba6*_0x35681+_0x537e2d];if(_0x5c77fe>-0xb*0x51+0x1*0x445+-0xc9){for(let _0x273fef=-0x32f+-0x21c5+-0x4*-0x93d;_0x273fef<_0x5c77fe;_0x273fef++)for(let _0x1212b4=-0x69d*-0x4+0x2*-0xb35+0x2f*-0x16;_0x1212b4<_0x5c77fe;_0x1212b4++){const _0x9eaac8=_0x1a4cb7/_0x5c77fe,_0x1d13aa=new ee(_0x37b3c2['x']+_0x273fef*_0x9eaac8,_0x37b3c2['y']+_0x1212b4*_0x9eaac8,_0x9eaac8,_0x9eaac8);this['slots']['push'](new Dd(_0x1d13aa));}}else this['slots']['push'](new Dd(_0x37b3c2));}}else this['slots']['push'](new Dd(new ee(0x743+-0x252f+0x1dec*0x1,-0xa6*-0x4+-0x1*0x7d9+0x5*0x10d,-0x2215+-0x19+0x222f,-0x1d*-0x10+-0x2548+-0x2379*-0x1)));this['slots']['sort']((_0x14ed47,_0x38a148)=>_0x38a148['size']-_0x14ed47['size']);}}['collectLig'+'hts'](_0x50b294,_0x21f62f){const _0x428d33=_0x21f62f['cookiesEna'+'bled'],_0x3bb3fb=_0x21f62f['shadowsEna'+'bled'];let _0x1ca749=!(0x7c*-0x1+0x2f*-0x8d+0x34c*0x8),_0x47c5f1=!(0x248c+0x207a*0x1+-0x1*0x4505);const _0x1d0bc9=dM;return _0x1d0bc9['length']=-0x11*-0x124+0x2089+-0x33ed,(_0x428d33||_0x3bb3fb)&&(_0x1c275f=>{for(let _0x5c4330=0x1a90+-0x456+-0x472*0x5;_0x5c4330<_0x1c275f['length'];_0x5c4330++){const _0x15cd20=_0x1c275f[_0x5c4330];if(_0x15cd20['visibleThi'+'sFrame']){const _0x576051=_0x3bb3fb&&_0x15cd20['castShadow'+'s'],_0x246988=_0x428d33&&!!_0x15cd20['cookie'];_0x1ca749||(_0x1ca749=_0x576051),_0x47c5f1||(_0x47c5f1=_0x246988),(_0x576051||_0x246988)&&_0x1d0bc9['push'](_0x15cd20);}}})(_0x50b294),_0x1d0bc9['sort']((_0x4d78bd,_0x5c769a)=>_0x5c769a['maxScreenS'+'ize']-_0x4d78bd['maxScreenS'+'ize']),_0x1ca749&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x21f62f['shadowType']),_0x47c5f1&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x1ca749||_0x47c5f1)&&this['subdivide'](_0x1d0bc9['length'],_0x21f62f),_0x1d0bc9;}['setupSlot'](_0x21dff9,_0x270e2e){_0x21dff9['atlasViewp'+'ort']['copy'](_0x270e2e);const _0x47bda4=_0x21dff9['numShadowF'+'aces'];for(let _0x4844df=0xf8*0x17+0x2199+0xb2d*-0x5;_0x4844df<_0x47bda4;_0x4844df++)if(_0x21dff9['castShadow'+'s']||_0x21dff9['_cookie']){if(ri['copy'](_0x270e2e),Id['copy'](_0x270e2e),_0x21dff9['_type']===Fe&&ri['add'](this['scissorVec']),_0x21dff9['_type']===Le){const _0x4fe33b=ri['z']/(-0x83e*-0x3+-0x26df+0xe28*0x1),_0x401bc4=this['cubeSlotsO'+'ffsets'][_0x4844df];ri['x']+=_0x4fe33b*_0x401bc4['x'],ri['y']+=_0x4fe33b*_0x401bc4['y'],ri['z']=_0x4fe33b,ri['w']=_0x4fe33b,Id['copy'](ri);}if(_0x21dff9['castShadow'+'s']){const _0x38db3f=_0x21dff9['getRenderD'+'ata'](null,_0x4844df);_0x38db3f['shadowView'+'port']['copy'](ri),_0x38db3f['shadowScis'+'sor']['copy'](Id);}}}['assignSlot'](_0x12dc91,_0x5ebbd0,_0x2b0f02){_0x12dc91['atlasViewp'+'ortAllocat'+'ed']=!(-0xd*0x9e+-0xc7f+0x1485);const _0x2f5277=this['slots'][_0x5ebbd0];_0x2f5277['lightId']=_0x12dc91['id'],_0x2f5277['used']=!(0x2f9+0x19ec+0x1*-0x1ce5),_0x2b0f02&&(_0x12dc91['atlasSlotU'+'pdated']=!(-0x1*-0x26fa+-0xce3*-0x1+-0x33dd),_0x12dc91['atlasVersi'+'on']=this['version'],_0x12dc91['atlasSlotI'+'ndex']=_0x5ebbd0);}['update'](_0x582835,_0x125f73){this['shadowAtla'+'sResolutio'+'n']=_0x125f73['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x125f73['cookieAtla'+'sResolutio'+'n'];const _0x48276c=this['collectLig'+'hts'](_0x582835,_0x125f73);if(_0x48276c['length']>0x20ed+0x2317+-0x4404){const _0x1cc397=this['slots'];for(let _0x36ef15=0x199d+-0x14f4+-0x4a9;_0x36ef15<_0x1cc397['length'];_0x36ef15++)_0x1cc397[_0x36ef15]['used']=!(-0x5b6+-0xa4*-0xd+-0x29d);const _0x530b93=Math['min'](_0x48276c['length'],_0x1cc397['length']);for(let _0x84e3e5=-0x1776+0x1b*0x53+0xeb5;_0x84e3e5<_0x530b93;_0x84e3e5++){const _0x530dbd=_0x48276c[_0x84e3e5];_0x530dbd['castShadow'+'s']&&(_0x530dbd['_shadowMap']=this['shadowAtla'+'s']);const _0x4004d3=_0x1cc397[_0x530dbd['atlasSlotI'+'ndex']];if(_0x530dbd['atlasVersi'+'on']===this['version']&&_0x530dbd['id']===(_0x4004d3==null?void(0x4b1*-0x2+-0x7*0x13+0x3*0x34d):_0x4004d3['lightId'])){const _0x5a332f=_0x1cc397[_0x530dbd['atlasSlotI'+'ndex']];_0x5a332f['size']===_0x1cc397[_0x84e3e5]['size']&&!_0x5a332f['used']&&this['assignSlot'](_0x530dbd,_0x530dbd['atlasSlotI'+'ndex'],!(0x1051*0x1+0x2*0x26b+-0x1526));}}let _0x14399c=-0x2*0xd06+-0x20ef+-0x3afb*-0x1;for(let _0x374999=-0x6*-0x654+0x397*-0x6+-0x1*0x106e;_0x374999<_0x530b93;_0x374999++){for(;_0x14399c<_0x1cc397['length']&&_0x1cc397[_0x14399c]['used'];)_0x14399c++;const _0x255584=_0x48276c[_0x374999];_0x255584['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x255584,_0x14399c,!(0x4*-0x3c3+-0x65*-0x22+0xd1*0x2));const _0x19928a=_0x1cc397[_0x255584['atlasSlotI'+'ndex']];this['setupSlot'](_0x255584,_0x19928a['rect']);}}this['updateUnif'+'orms']();}}class pM{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x4d5e17=>{_0x4d5e17['forEach'](_0x2fddb6=>{_0x2fddb6['destroy']();});}),this['cache']['clear']();}['getKey'](_0x195585){const _0x48a4a4=_0x195585['_type']===Le,_0x419555=_0x195585['_shadowTyp'+'e'],_0x2645d8=_0x195585['_shadowRes'+'olution'];return _0x48a4a4+'-'+_0x419555+'-'+_0x2645d8;}['get'](_0x40aa1a,_0x33abf7){const _0x267b9b=this['getKey'](_0x33abf7),_0x5e1e08=this['cache']['get'](_0x267b9b);if(_0x5e1e08&&_0x5e1e08['length'])return _0x5e1e08['pop']();const _0x3b5344=pn['create'](_0x40aa1a,_0x33abf7);return _0x3b5344['cached']=!(0x1*-0x2c5+0x1*0x247+0x6*0x15),_0x3b5344;}['add'](_0x24e7e2,_0x2530d5){const _0x41df8c=this['getKey'](_0x24e7e2),_0x5e2707=this['cache']['get'](_0x41df8c);_0x5e2707?_0x5e2707['push'](_0x2530d5):this['cache']['set'](_0x41df8c,[_0x2530d5]);}}class mM extends gs{constructor(_0x1399c1,_0x2717d3,_0x1ffe0d,_0x7af18,_0x5f102c){super(_0x1399c1),gn['setName'](this,this['name']+'-'+_0x1ffe0d['_node']['name']),this['requiresCu'+'bemaps']=!(0x219c+0x2070+-0x420b),this['shadowRend'+'erer']=_0x2717d3,this['light']=_0x1ffe0d,this['face']=_0x7af18,this['applyVsm']=_0x5f102c,this['shadowCame'+'ra']=_0x2717d3['prepareFac'+'e'](_0x1ffe0d,null,_0x7af18),_0x2717d3['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0xe96+-0x17f8+0x268e));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0xed3+0x1*-0xf27+0x55));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class _M{constructor(_0x4a1c49,_0x3d064c){c(this,'shadowLigh'+'ts',[]),c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x4a1c49,this['shadowRend'+'erer']=_0x3d064c,this['device']=_0x4a1c49['device']);}['cull'](_0x1c3960,_0x58dd98,_0x1e22cf=null){const _0x2e2eeb=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x1c3960['visibleThi'+'sFrame']=!(0xffb*-0x1+0x163d*-0x1+-0x8*-0x4c7),_0x2e2eeb||_0x1c3960['_shadowMap']||(_0x1c3960['_shadowMap']=pn['create'](this['device'],_0x1c3960));const _0x4f606d=_0x1c3960['_type'],_0x419dac=_0x4f606d===Fe?-0x268+0x50*-0x1f+0xc19*0x1:-0x4*-0x4f0+0x2492+-0x384c;for(let _0x5d7bb1=-0x101b+0x25*0x52+0x441;_0x5d7bb1<_0x419dac;_0x5d7bb1++){const _0xaa98e7=_0x1c3960['getRenderD'+'ata'](null,_0x5d7bb1),_0x9fdcf9=_0xaa98e7['shadowCame'+'ra'];_0x9fdcf9['nearClip']=_0x1c3960['attenuatio'+'nEnd']/(-0x19*0xa3+-0x1efa+0x99*0x55),_0x9fdcf9['farClip']=_0x1c3960['attenuatio'+'nEnd'];const _0x2997f2=_0x9fdcf9['_node'],_0x32df58=_0x1c3960['_node'];if(_0x2997f2['setPositio'+'n'](_0x32df58['getPositio'+'n']()),_0x4f606d===Fe)_0x9fdcf9['fov']=_0x1c3960['_outerCone'+'Angle']*(0x1466+0xbce+-0x2032),_0x2997f2['setRotatio'+'n'](_0x32df58['getRotatio'+'n']()),_0x2997f2['rotateLoca'+'l'](-(-0x1*-0xcbb+-0x6*0x4ab+0xfa1),0xec*0xe+-0x48e+-0x2*0x42d,-0x1*0x1fe7+0xca3+0x1344);else{if(_0x4f606d===Le){if(_0x2e2eeb){const _0x17325f=(0x1286*-0x2+-0x2651+-0xe3*-0x55)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x1c3960['atlasViewp'+'ort']['z']/(0x7*-0x482+-0x29b+0x222c))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x9fdcf9['fov']=Math['atan'](0x188b+-0xb72*0x1+-0x1a3*0x8+_0x17325f)*z['RAD_TO_DEG']*(-0x19*0xe3+0x1*-0xfc+0x1729);}else _0x9fdcf9['fov']=0x1a6b*0x1+0x5ab*-0x5+0x246*0x1;}}this['renderer']['updateCame'+'raFrustum'](_0x9fdcf9),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x58dd98,_0x1c3960,_0xaa98e7['visibleCas'+'ters'],_0x9fdcf9,_0x1e22cf);}}['prepareLig'+'hts'](_0x4d7d87,_0x19fafe){let _0x51134e;for(let _0x1a394e=-0x1fb3+-0x13*-0x34+0x1bd7*0x1;_0x1a394e<_0x19fafe['length'];_0x1a394e++){const _0x49a7ac=_0x19fafe[_0x1a394e];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x49a7ac)&&_0x49a7ac['atlasViewp'+'ortAllocat'+'ed']){_0x4d7d87['push'](_0x49a7ac);for(let _0x7618b=-0x2*-0x10d+-0x1afd+0x18e3;_0x7618b<_0x49a7ac['numShadowF'+'aces'];_0x7618b++)_0x51134e=this['shadowRend'+'erer']['prepareFac'+'e'](_0x49a7ac,null,_0x7618b);}}return _0x51134e;}['buildNonCl'+'usteredRen'+'derPasses'](_0x51000f,_0x595c50){for(let _0x324ae3=0x3a*0x17+0x18a6+-0x1ddc;_0x324ae3<_0x595c50['length'];_0x324ae3++){const _0x18cd1f=_0x595c50[_0x324ae3];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x18cd1f)){const _0x16e187=_0x18cd1f['_type']===Fe,_0x54dd86=_0x18cd1f['numShadowF'+'aces'];for(let _0x3a0c6b=0xc19*0x2+-0x60d*0x1+-0x1225;_0x3a0c6b<_0x54dd86;_0x3a0c6b++){const _0x3a7f85=new mM(this['device'],this['shadowRend'+'erer'],_0x18cd1f,_0x3a0c6b,_0x16e187);_0x51000f['addRenderP'+'ass'](_0x3a7f85);}}}}}class gM extends gs{constructor(_0x44d5db,_0x22c846,_0x57a9ef,_0x524619,_0x33b480){super(_0x44d5db),gn['setName'](this,this['name']+'-'+_0x57a9ef['_node']['name']),this['shadowRend'+'erer']=_0x22c846,this['light']=_0x57a9ef,this['camera']=_0x524619,this['allCascade'+'sRendering']=_0x33b480;}['execute'](){const {light:_0x39618b,camera:_0x3b863e,shadowRenderer:_0x244373,allCascadesRendering:_0xc913d3}=this,_0x41488c=_0x39618b['numShadowF'+'aces'],_0x5bf369=_0x39618b['shadowUpda'+'teOverride'+'s'];for(let _0x51b228=0x2*-0x113f+0x2*0xce0+0x2*0x45f;_0x51b228<_0x41488c;_0x51b228++)(_0x5bf369==null?void(0x1496+0xd12+0x21a8*-0x1):_0x5bf369[_0x51b228])!==ks&&_0x244373['renderFace'](_0x39618b,_0x3b863e,_0x51b228,!_0xc913d3),(_0x5bf369==null?void(0x21d4+0x3b*0x59+-0x3657):_0x5bf369[_0x51b228])===un&&(_0x5bf369[_0x51b228]=ks);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const Nl=new ve(),ni=new A(),u_=new q(),ze=[new A(),new A(),new A(),new A(),new A(),new A(),new A(),new A()],Ld={'min':0x0,'max':0x0};function yM(_0x4ba4cb,_0x2d6bcb,_0x18051c){ze[-0x8ba+-0x1d*0x116+0x2838]['x']=ze[0x2498+0x165a+-0x3af1*0x1]['x']=ze[0x1*0x1d7c+0xc*-0x2cd+-0x2e*-0x17]['x']=ze[-0xb06+0x38e+-0x17f*-0x5]['x']=_0x2d6bcb['x'],ze[-0x61*0x5f+0x7ca+0x1c36]['y']=ze[-0x2146+-0x3*0x281+0x28cc]['y']=ze[0x615+-0x1*0x22c6+0x1cb8]['y']=ze[0xa90+0x1*-0x434+0x1*-0x657]['y']=_0x2d6bcb['y'],ze[-0x3*0x3+-0x167*0x7+0x9dc]['z']=ze[0xcc*-0x12+-0x11b8+-0x17*-0x165]['z']=ze[-0x1d59+0x12c8*-0x1+0x3027]['z']=ze[-0x1f28+-0x15a0+0x34cf]['z']=_0x2d6bcb['z'],ze[-0x13e6+-0x1*-0x16ed+0x303*-0x1]['x']=ze[0x1050+-0x1825+0x7da]['x']=ze[-0x1*0x24a7+0x3d*0x35+-0xe4*-0x1b]['x']=ze[-0x859*0x3+-0x2*0x31c+0x1f4a]['x']=_0x18051c['x'],ze[0x1*0xc82+-0xcbd+0x3b]['y']=ze[-0x14e5+-0x9a3*0x1+-0x3*-0xa2e]['y']=ze[0x3e*-0x1d+0x1*0x1965+-0x125b]['y']=ze[0x25aa+0x1693+-0xc0b*0x5]['y']=_0x18051c['y'],ze[-0x58d+-0xeab*-0x1+-0x91e]['z']=ze[-0x5*-0x167+0x1dfe*0x1+0x80*-0x4a]['z']=ze[0x1*-0x116b+-0x1ee0+0x304f]['z']=ze[-0x8f6+-0x25d0+0x2ecb]['z']=_0x18051c['z'];let _0x44921f=-0x40751760b+-0xdd03ef6d+-0x1*-0x738614977,_0x363f6a=-(-0x103c*0x37034+-0x28bb*-0x9e15+0x272b6aed8);for(let _0x14d0fc=-0xf*-0x1cd+-0x4ff+-0x1604;_0x14d0fc<0x177*0x1+0x15cd+0x1*-0x173c;++_0x14d0fc){_0x4ba4cb['transformP'+'oint'](ze[_0x14d0fc],ze[_0x14d0fc]);const _0x5b3357=ze[_0x14d0fc]['z'];_0x5b3357<_0x44921f&&(_0x44921f=_0x5b3357),_0x5b3357>_0x363f6a&&(_0x363f6a=_0x5b3357);}return Ld['min']=_0x44921f,Ld['max']=_0x363f6a,Ld;}class xM{constructor(_0x2d33df,_0x5b15cb){c(this,'renderer'),c(this,'shadowRend'+'erer'),c(this,'device'),(this['renderer']=_0x2d33df,this['shadowRend'+'erer']=_0x5b15cb,this['device']=_0x2d33df['device']);}['cull'](_0x35511d,_0x2a0dfa,_0x5a5790,_0x1e259f=null){_0x35511d['visibleThi'+'sFrame']=!(0x372*-0x4+0x12c8+-0x10*0x50),_0x35511d['_shadowMap']||(_0x35511d['_shadowMap']=pn['create'](this['device'],_0x35511d));const _0x283a51=_0x5a5790['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x35511d,_0x283a51,Math['min'](_0x5a5790['_farClip'],_0x35511d['shadowDist'+'ance']));const _0x5ccd25=_0x35511d['shadowUpda'+'teOverride'+'s'];for(let _0xbfc854=-0x1*0x29b+0x20a1+-0x501*0x6;_0xbfc854<_0x35511d['numCascade'+'s']&&(_0x5ccd25==null?void(0x1*-0x1bb+-0x4f*0x17+0x8d4):_0x5ccd25[_0xbfc854])!==ks;_0xbfc854++){const _0x5dc127=_0x35511d['getRenderD'+'ata'](_0x5a5790,_0xbfc854),_0x1e89db=_0x5dc127['shadowCame'+'ra'];_0x1e89db['renderTarg'+'et']=_0x35511d['_shadowMap']['renderTarg'+'ets'][-0x1*-0x26c6+0x5c7+-0x8e9*0x5],_0x5dc127['shadowView'+'port']['copy'](_0x35511d['cascades'][_0xbfc854]),_0x5dc127['shadowScis'+'sor']['copy'](_0x35511d['cascades'][_0xbfc854]);const _0x4647ad=_0x1e89db['_node'],_0x4802f3=_0x35511d['_node'];_0x4647ad['setPositio'+'n'](_0x4802f3['getPositio'+'n']()),_0x4647ad['setRotatio'+'n'](_0x4802f3['getRotatio'+'n']()),_0x4647ad['rotateLoca'+'l'](-(-0x639+-0x17e4+0x1e77),-0x103e+0xb*0x183+-0x63,0x10fc+0x21ed+0x1*-0x32e9);const _0x1c6775=_0xbfc854===0x2223+0xf8b*-0x2+-0x30d?_0x283a51:_0x35511d['_shadowCas'+'cadeDistan'+'ces'][_0xbfc854-(-0x11e5+0x158+-0xd*-0x146)],_0x46f653=_0x35511d['_shadowCas'+'cadeDistan'+'ces'][_0xbfc854],_0x4eb46d=_0x5a5790['getFrustum'+'Corners'](_0x1c6775,_0x46f653);ni['set'](0x4ef*-0x6+-0x711*0x3+0x32cd,0x1*-0x2669+0x49*-0x50+-0x7*-0x8bf,0x20c7+-0x1*-0x229d+0x13*-0x38c);const _0x2995ad=_0x5a5790['node']['getWorldTr'+'ansform']();for(let _0x3b1506=0x32f+0x2204+-0x2533;_0x3b1506<0x449*-0x2+0x23fd+0x13*-0x171;_0x3b1506++)_0x2995ad['transformP'+'oint'](_0x4eb46d[_0x3b1506],_0x4eb46d[_0x3b1506]),ni['add'](_0x4eb46d[_0x3b1506]);ni['mulScalar']((-0x3*-0x274+0xa73*0x1+-0x56*0x35)/(-0x45*0x5+-0x172*0x6+0xa0d));let _0xde9199=0x112d+0x31*0x2b+0x2*-0xcb4;for(let _0x585b33=-0x47*-0x61+0xbea*-0x1+-0xefd;_0x585b33<-0xc*0x24b+0x4e*0x53+0x242;_0x585b33++){const _0x4865f4=_0x4eb46d[_0x585b33]['sub'](ni)['length']();_0x4865f4>_0xde9199&&(_0xde9199=_0x4865f4);}const _0x439b74=_0x4647ad['right'],_0xee6330=_0x4647ad['up'],_0x4e440d=_0x4647ad['forward'],_0x7b9a52=(-0x2*0x45f+-0x2*0x10ad+0x2a18+0.25)*_0x35511d['_shadowRes'+'olution']/_0xde9199,_0x1489d9=Math['ceil'](ni['dot'](_0xee6330)*_0x7b9a52)/_0x7b9a52,_0x3ce2b8=Math['ceil'](ni['dot'](_0x439b74)*_0x7b9a52)/_0x7b9a52,_0x4e0d43=_0xee6330['mulScalar'](_0x1489d9),_0xec500a=_0x439b74['mulScalar'](_0x3ce2b8),_0x1d7755=ni['dot'](_0x4e440d),_0xaa0ae2=_0x4e440d['mulScalar'](_0x1d7755);ni['add2'](_0x4e0d43,_0xec500a)['add'](_0xaa0ae2),_0x4647ad['setPositio'+'n'](ni),_0x4647ad['translateL'+'ocal'](0x1eaa+0xa13*-0x1+0x6dd*-0x3,0x9b6*-0x2+-0x392*-0x1+0x2*0x7ed,0xa08f4+0xc6b16+-0x731ca),_0x1e89db['nearClip']=-0x48*0x48+-0x7*0x1e7+0x2191+0.01,_0x1e89db['farClip']=0x12a5ff*-0x3+0x2ae09d+-0x2e*-0xf290,_0x1e89db['orthoHeigh'+'t']=_0xde9199,this['renderer']['updateCame'+'raFrustum'](_0x1e89db),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x2a0dfa,_0x35511d,_0x5dc127['visibleCas'+'ters'],_0x1e89db,_0x1e259f);let _0x401fca=!(0x13ff*0x1+0x3*-0x6e8+0xb9);const _0x113419=_0x5dc127['visibleCas'+'ters'];for(let _0x45c378=0x1b4+0x1*-0x55+0x75*-0x3;_0x45c378<_0x113419['length'];_0x45c378++){const _0x3b580f=_0x113419[_0x45c378];_0x401fca?(_0x401fca=!(-0x3be+0x73b+-0x37c),Nl['copy'](_0x3b580f['aabb'])):Nl['add'](_0x3b580f['aabb']);}u_['copy'](_0x4647ad['getWorldTr'+'ansform']())['invert']();const _0x537fd7=yM(u_,Nl['getMin'](),Nl['getMax']());_0x4647ad['translateL'+'ocal'](-0x811+0x5*-0x550+0x5*0x6ed,0x19+-0x1b9d+-0xdc2*-0x2,_0x537fd7['max']+(0x24b*0x5+0x10be*-0x1+-0x1*-0x547+0.1)),_0x1e89db['farClip']=_0x537fd7['max']-_0x537fd7['min']+(-0x1ab*-0x15+0x142c+-0x3733+0.2),_0x5dc127['projection'+'Compensati'+'on']=_0xde9199;}}['generateSp'+'litDistanc'+'es'](_0x2e30f4,_0x440e98,_0x26762f){_0x2e30f4['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x26762f);for(let _0x37cb38=0x7b*0x33+-0x3*0x8a3+0x169;_0x37cb38<_0x2e30f4['numCascade'+'s'];_0x37cb38++){const _0x446059=_0x37cb38/_0x2e30f4['numCascade'+'s'],_0xd53f44=_0x440e98+(_0x26762f-_0x440e98)*_0x446059,_0x174bea=_0x440e98*(_0x26762f/_0x440e98)**_0x446059,_0x34910a=z['lerp'](_0xd53f44,_0x174bea,_0x2e30f4['cascadeDis'+'tribution']);_0x2e30f4['_shadowCas'+'cadeDistan'+'ces'][_0x37cb38-(-0x3e*0x25+-0x1bde+0x24d5)]=_0x34910a;}}['getLightRe'+'nderPass'](_0x417813,_0x1b54cd){b['assert'](_0x417813&&_0x417813['_type']===le);let _0x352271=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x417813)){const _0x4edb2f=_0x417813['numShadowF'+'aces'],_0x3312fc=_0x417813['shadowUpda'+'teOverride'+'s'];let _0x5f516=!(0x196c+-0x1795*-0x1+-0xd*0x3c5),_0x164357;for(let _0x460170=-0x1*0x1f1+-0x17b*0x1+0x36c;_0x460170<_0x4edb2f;_0x460170++)(_0x3312fc==null?void(-0x1369+-0x371+0x16da):_0x3312fc[_0x460170])===ks&&(_0x5f516=!(0xb*-0x197+0x7bd*-0x1+0x1*0x193b)),_0x164357=this['shadowRend'+'erer']['prepareFac'+'e'](_0x417813,_0x1b54cd,_0x460170);_0x352271=new gM(this['device'],this['shadowRend'+'erer'],_0x417813,_0x1b54cd,_0x5f516),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x352271,_0x164357,_0x5f516);}return _0x352271;}}const Fd=new Set(),f_=new q(),p_=new q(),br=new Float32Array(-0x1457+0x5*0x6fe+-0xe9d),Za=new ee(0xe31+0x74a+-0x157a,0x55*-0x35+-0x261d+-0x1*-0x37b7,0x137e+0xcb1+-0x202f,0x1904+0x934+0x14*-0x1b6),m_=new q();function SM(_0x53f0c7,_0x30f2fd){return Math['exp'](-(_0x53f0c7*_0x53f0c7)/((0x2*-0xa93+-0xcf0+-0x1*-0x2218)*_0x30f2fd*_0x30f2fd));}function vM(_0x1616fa){const _0x346682=(_0x1616fa-(-0x2c*-0xb5+0xfe2+-0x17*0x20b))/(-0x225f+0x1*-0x1b09+-0xa3d*-0x6),_0x55923e=(_0x1616fa-(0x4b*-0x5d+0x199e+-0xd1*-0x2))*(0x1*0x25a0+0xc3*-0x1+-0x24dd+0.5),_0x261570=new Array(_0x1616fa);let _0x3d6f07=0x1319*0x2+-0x7c*-0x2b+-0x3b06;for(let _0x1d7f85=0x7c1*0x3+-0x170*-0x13+-0x3293;_0x1d7f85<_0x1616fa;++_0x1d7f85)_0x261570[_0x1d7f85]=SM(_0x1d7f85-_0x55923e,_0x346682),_0x3d6f07+=_0x261570[_0x1d7f85];for(let _0x17b99a=0xc3+0x7*0x1ac+0x1*-0xc77;_0x17b99a<_0x1616fa;++_0x17b99a)_0x261570[_0x17b99a]/=_0x3d6f07;return _0x261570;}class D0{constructor(_0x50f886,_0x473ee6){c(this,'shadowPass'+'Cache',[]),(this['device']=_0x50f886['device'],this['renderer']=_0x50f886,this['lightTextu'+'reAtlas']=_0x473ee6);const _0x1c75fc=this['device']['scope'];this['sourceId']=_0x1c75fc['resolve']('source'),this['pixelOffse'+'tId']=_0x1c75fc['resolve']('pixelOffse'+'t'),this['weightId']=_0x1c75fc['resolve']('weight[0]'),this['blurVsmSha'+'derCode']=[j['blurVSMPS'],'#define\x20GA'+'USS\x0a'+j['blurVSMPS']],this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x1c75fc['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new bt(),this['blendState'+'NoWrite']=new bt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(0xc72+-0x18f5*-0x1+-0x2566),!(-0x464+0x24db+-0x2076),!(0x7*0xd9+-0x235d+-0x5e3*-0x5),!(0x214f+-0x11*-0x7+-0x41*0x85));}static['createShad'+'owCamera'](_0x1acef7,_0x43e320,_0x326e5c){const _0x553024=Ia['create']('ShadowCame'+'ra',_0x43e320,_0x326e5c),_0x4d2c2b=nr['get'](_0x1acef7);b['assert'](_0x4d2c2b);const _0x3b4017=(_0x4d2c2b==null?void(0x2369+-0x20a7*-0x1+-0x1104*0x4):_0x4d2c2b['vsm'])??!(-0x2289+0x11f*0x9+-0x1*-0x1873),_0x54aed1=(_0x4d2c2b==null?void(-0xeb*0x20+-0x124e+0x2fae):_0x4d2c2b['pcf'])??!(0xbff+-0x4a4+-0x75a*0x1);return _0x3b4017?_0x553024['clearColor']=new Y(-0xe5d+-0x2*-0xcf2+0xb87*-0x1,-0x2d*0x51+-0x167f*-0x1+-0x2*0x421,-0xb9*0xb+-0x1049+0x814*0x3,-0x1342+0x1da*-0x10+-0x2*-0x1871):_0x553024['clearColor']=new Y(-0x1e3f*-0x1+0x1408+-0x3246,0x1*0xbeb+-0xf7c+-0x2*-0x1c9,0xc5*-0x1f+-0x1*0x14ca+0x27b*0x12,-0x2657+0x165c+0xba*0x16),_0x553024['clearDepth'+'Buffer']=!(-0x20f7+-0x3*0x803+0x100*0x39),_0x553024['clearStenc'+'ilBuffer']=!(0x1*-0x1d4c+-0xdcc+0x2b19),_0x553024['clearColor'+'Buffer']=!_0x54aed1,_0x553024;}['_cullShado'+'wCastersIn'+'ternal'](_0x59e99d,_0x519eb0,_0x1f7cb2){const _0xde1f3=_0x59e99d['length'];for(let _0x17e8c6=0x21dd*0x1+-0x1927+-0x8b6;_0x17e8c6<_0xde1f3;_0x17e8c6++){const _0x4ceffe=_0x59e99d[_0x17e8c6];_0x4ceffe['castShadow']&&(!_0x4ceffe['cull']||_0x4ceffe['_isVisible'](_0x1f7cb2))&&(_0x4ceffe['visibleThi'+'sFrame']=!(0xa83+0x1e2d+-0x28b0),_0x519eb0['push'](_0x4ceffe));}}['cullShadow'+'Casters'](_0x352d51,_0x10fc1c,_0x4bbbb4,_0x3ffb61,_0x2ae9c8){if(_0x4bbbb4['length']=0x25da+0xb0+-0x268a,_0x2ae9c8)this['_cullShado'+'wCastersIn'+'ternal'](_0x2ae9c8,_0x4bbbb4,_0x3ffb61);else{const _0x2c21d4=_0x352d51['layerList'],_0x1217d5=_0x2c21d4['length'];for(let _0x4b8a41=0x1d9f+-0x754*-0x4+-0x3aef;_0x4b8a41<_0x1217d5;_0x4b8a41++){const _0x190a0c=_0x2c21d4[_0x4b8a41];_0x190a0c['_lightsSet']['has'](_0x10fc1c)&&(Fd['has'](_0x190a0c)||(Fd['add'](_0x190a0c),this['_cullShado'+'wCastersIn'+'ternal'](_0x190a0c['shadowCast'+'ers'],_0x4bbbb4,_0x3ffb61)));}Fd['clear']();}_0x4bbbb4['sort'](this['renderer']['sortCompar'+'eDepth']);}['setupRende'+'rState'](_0x5e5814,_0x1c8f81){const _0x2bba11=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x1c8f81['_isPcf']:_0x1c8f81['_isPcf']&&_0x1c8f81['_type']!==Le;_0x5e5814['setBlendSt'+'ate'](_0x2bba11?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x5e5814['setDepthSt'+'ate'](_0x1c8f81['shadowDept'+'hState']),_0x5e5814['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x294ad7,_0x2fbefe,_0x14fd76,_0xb81bfe){const _0x2e2600=_0x2fbefe['_node'];_0x294ad7['_type']!==le&&(this['renderer']['dispatchVi'+'ewPos'](_0x2e2600['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x294ad7['attenuatio'+'nEnd'])),f_['setTRS'](_0x2e2600['getPositio'+'n'](),_0x2e2600['getRotatio'+'n'](),A['ONE'])['invert'](),p_['mul2'](_0x2fbefe['projection'+'Matrix'],f_);const _0x4b1b3e=_0x14fd76['shadowView'+'port'];_0x2fbefe['rect']=_0x4b1b3e,_0x2fbefe['scissorRec'+'t']=_0x14fd76['shadowScis'+'sor'],m_['setViewpor'+'t'](_0x4b1b3e['x'],_0x4b1b3e['y'],_0x4b1b3e['z'],_0x4b1b3e['w']),_0x14fd76['shadowMatr'+'ix']['mul2'](m_,p_),_0x294ad7['_type']===le&&_0x294ad7['_shadowMat'+'rixPalette']['set'](_0x14fd76['shadowMatr'+'ix']['data'],_0xb81bfe*(0x3*-0x15d+-0x14b*-0x2+-0x1*-0x191));}['getShadowP'+'ass'](_0xd54393){var _0x53feba;const _0x478d88=_0xd54393['_type'],_0x53547a=_0xd54393['_shadowTyp'+'e'];let _0xce1e82=(_0x53feba=this['shadowPass'+'Cache'][_0x478d88])==null?void(0x1870+-0xf*-0xc5+-0x23fb):_0x53feba[_0x53547a];if(!_0xce1e82){const _0x139b4d='ShadowPass'+'_'+_0x478d88+'_'+_0x53547a;_0xce1e82=ti['get'](this['device'])['allocate'](_0x139b4d,{'isShadow':!(-0x32f+-0xc79+0xfa8),'lightType':_0x478d88,'shadowType':_0x53547a}),this['shadowPass'+'Cache'][_0x478d88]||(this['shadowPass'+'Cache'][_0x478d88]=[]),this['shadowPass'+'Cache'][_0x478d88][_0x53547a]=_0xce1e82;}return _0xce1e82['index'];}['submitCast'+'ers'](_0x4becd1,_0x1d1e8e,_0x11e8da){const _0x4dccf3=this['device'],_0x437179=this['renderer'],_0x3b2e44=_0x437179['scene'],_0x5f5726=0xd6*0x2b+0x5*-0x305+-0x17*0xe8<<Fp,_0xd2c038=this['getShadowP'+'ass'](_0x1d1e8e),_0x544a9b=_0x11e8da['shaderPara'+'ms'],_0xdac199=_0x11e8da['renderTarg'+'et']['flipY']?-(-0x1*-0x203d+0x467*0x1+-0x24a3):0x1*-0x1cee+-0x65*-0x47+0xec,_0x2be944=_0x4becd1['length'];for(let _0x98f304=0xc4d*0x1+0xd05+-0x1952;_0x98f304<_0x2be944;_0x98f304++){const _0x23b961=_0x4becd1[_0x98f304],_0xb4ef7b=_0x23b961['mesh'];_0x23b961['ensureMate'+'rial'](_0x4dccf3);const _0x4fb7a6=_0x23b961['material'];G['pushGpuMar'+'ker'](_0x4dccf3,'Node:\x20'+_0x23b961['node']['name']+(',\x20Material'+':\x20')+_0x4fb7a6['name']),_0x437179['setBaseCon'+'stants'](_0x4dccf3,_0x4fb7a6),_0x437179['setSkinnin'+'g'](_0x4dccf3,_0x23b961),_0x4fb7a6['dirty']&&(_0x4fb7a6['updateUnif'+'orms'](_0x4dccf3,_0x3b2e44),_0x4fb7a6['dirty']=!(-0x1*-0xb15+-0x12bd+0x7a9)),_0x437179['setupCullM'+'ode'](!(-0x1f07+-0xbe4+-0x1*-0x2aeb),_0xdac199,_0x23b961),_0x4fb7a6['setParamet'+'ers'](_0x4dccf3),_0x23b961['setParamet'+'ers'](_0x4dccf3,_0x5f5726);const _0xf3f8ef=_0x23b961['getShaderI'+'nstance'](_0xd2c038,-0x7a9*-0x1+-0x1b*0x2b+-0x320,_0x3b2e44,_0x544a9b,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x245276=_0xf3f8ef['shader'];b['assert'](_0x245276,'no\x20shader\x20'+'for\x20pass\x20'+_0xd2c038,_0x4fb7a6),_0x23b961['_key'][Uu]=_0x245276['id'],_0x4dccf3['setShader'](_0x245276),_0x437179['setVertexB'+'uffers'](_0x4dccf3,_0xb4ef7b),_0x437179['setMorphin'+'g'](_0x4dccf3,_0x23b961['morphInsta'+'nce']),this['renderer']['setupMeshU'+'niformBuff'+'ers'](_0xf3f8ef,_0x23b961);const _0x5b587e=_0x23b961['renderStyl'+'e'];_0x4dccf3['setIndexBu'+'ffer'](_0xb4ef7b['indexBuffe'+'r'][_0x5b587e]),_0x437179['drawInstan'+'ce'](_0x4dccf3,_0x23b961,_0xb4ef7b,_0x5b587e),_0x437179['_shadowDra'+'wCalls']++,G['popGpuMark'+'er'](_0x4dccf3);}}['needsShado'+'wRendering'](_0x60dea0){const _0x409a6d=_0x60dea0['enabled']&&_0x60dea0['castShadow'+'s']&&_0x60dea0['shadowUpda'+'teMode']!==ks&&_0x60dea0['visibleThi'+'sFrame'];return _0x60dea0['shadowUpda'+'teMode']===un&&(_0x60dea0['shadowUpda'+'teMode']=ks),_0x409a6d&&(this['renderer']['_shadowMap'+'Updates']+=_0x60dea0['numShadowF'+'aces']),_0x409a6d;}['getLightRe'+'nderData'](_0x102c29,_0x194ad8,_0x31ea7c){return _0x102c29['getRenderD'+'ata'](_0x102c29['_type']===le?_0x194ad8:null,_0x31ea7c);}['setupRende'+'rPass'](_0x354a24,_0x597efa,_0x58396a){const _0x5cf4f4=_0x597efa['renderTarg'+'et'];_0x354a24['init'](_0x5cf4f4),_0x354a24['depthStenc'+'ilOps']['clearDepth'+'Value']=0x16a*0x16+-0x14*-0x8d+-0x107*0x29,_0x354a24['depthStenc'+'ilOps']['clearDepth']=_0x58396a,_0x5cf4f4['depthBuffe'+'r']?_0x354a24['depthStenc'+'ilOps']['storeDepth']=!(0x1509+-0x84e*-0x1+-0x1d57):(_0x354a24['colorOps']['clearValue']['copy'](_0x597efa['clearColor']),_0x354a24['colorOps']['clear']=_0x58396a,_0x354a24['depthStenc'+'ilOps']['storeDepth']=!(-0x1add+0x15e3+0x4fb)),_0x354a24['requiresCu'+'bemaps']=!(0xd9b+-0xab7+-0x2e3);}['prepareFac'+'e'](_0x499c72,_0x3b10da,_0x4d633f){const _0x2527b6=_0x499c72['_type'],_0x11e09b=this['getLightRe'+'nderData'](_0x499c72,_0x3b10da,_0x4d633f)['shadowCame'+'ra'],_0x14fbd5=_0x2527b6===le?-0x1cc7+-0x6e9+0x23b0:_0x4d633f;return _0x11e09b['renderTarg'+'et']=_0x499c72['_shadowMap']['renderTarg'+'ets'][_0x14fbd5],_0x11e09b;}['renderFace'](_0x5460f4,_0x22c932,_0x209e0d,_0x462a84,_0xdab4c=!(-0x179f*0x1+0x13f*-0x3+0x1b5c)){const _0x2cc29b=this['device'],_0xd18719=ae();G['pushGpuMar'+'ker'](_0x2cc29b,'SHADOW\x20'+_0x5460f4['_node']['name']+'\x20FACE\x20'+_0x209e0d);const _0x33e983=this['getLightRe'+'nderData'](_0x5460f4,_0x22c932,_0x209e0d),_0x3ffc2a=_0x33e983['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x5460f4,_0x3ffc2a,_0x33e983,_0x209e0d);const _0x30518c=_0x3ffc2a['renderTarg'+'et'],_0x1536da=this['renderer'];_0x1536da['setCameraU'+'niforms'](_0x3ffc2a,_0x30518c),_0x2cc29b['supportsUn'+'iformBuffe'+'rs']&&_0x1536da['setupViewU'+'niformBuff'+'ers'](_0x33e983['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],-0xafb*0x2+-0x1a70+-0x1*-0x3067),_0xdab4c?(_0x1536da['setupViewp'+'ort'](_0x3ffc2a,_0x30518c),_0x462a84&&_0x1536da['clear'](_0x3ffc2a)):_0x1536da['clearView'](_0x3ffc2a,_0x30518c,!(0x7a*0x11+-0x1bc8+0x13ae),!(-0xdaf*0x1+-0x1d8c+-0x2b3c*-0x1)),this['setupRende'+'rState'](_0x2cc29b,_0x5460f4),this['submitCast'+'ers'](_0x33e983['visibleCas'+'ters'],_0x5460f4,_0x3ffc2a),G['popGpuMark'+'er'](_0x2cc29b),_0x1536da['_shadowMap'+'Time']+=ae()-_0xd18719;}['render'](_0x1296c0,_0x16909f,_0x26a3bb=!(0x1b0b+0x103*0x17+0x14*-0x284)){if(this['needsShado'+'wRendering'](_0x1296c0)){const _0x4b44f3=_0x1296c0['numShadowF'+'aces'];for(let _0x18455e=-0x49*0x3a+-0x8*-0x2de+-0x666;_0x18455e<_0x4b44f3;_0x18455e++)this['prepareFac'+'e'](_0x1296c0,_0x16909f,_0x18455e),this['renderFace'](_0x1296c0,_0x16909f,_0x18455e,!(-0x1af9+-0xd20+0x2819),_0x26a3bb);this['renderVsm'](_0x1296c0,_0x16909f);}}['renderVsm'](_0x499a5c,_0x409de6){_0x499a5c['_isVsm']&&_0x499a5c['_vsmBlurSi'+'ze']>0xfd5+-0x3c7*-0x7+-0x2a45&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x499a5c['_type']===le)&&this['applyVsmBl'+'ur'](_0x499a5c,_0x409de6);}['getVsmBlur'+'Shader'](_0x1d6ea5,_0x371c19){const _0x2498c9=this['blurVsmSha'+'der'];let _0x48298f=_0x2498c9[_0x1d6ea5][_0x371c19];if(!_0x48298f){this['blurVsmWei'+'ghts'][_0x371c19]=vM(_0x371c19);const _0x2cf9a6=j['fullscreen'+'QuadVS'];let _0x4d04cb='#define\x20SA'+'MPLES\x20'+_0x371c19+'\x0a';_0x4d04cb+=this['blurVsmSha'+'derCode'][_0x1d6ea5];const _0x416f38='blurVsm'+_0x1d6ea5+_0x371c19;_0x48298f=Bs(this['device'],_0x2cf9a6,_0x4d04cb,_0x416f38),_0x2498c9[_0x1d6ea5][_0x371c19]=_0x48298f;}return _0x48298f;}['applyVsmBl'+'ur'](_0x5d1ae1,_0x5584c4){const _0x3e9d6b=this['device'];G['pushGpuMar'+'ker'](_0x3e9d6b,'VSM\x20'+_0x5d1ae1['_node']['name']),_0x3e9d6b['setBlendSt'+'ate'](bt['NOBLEND']);const _0x46c385=_0x5d1ae1['getRenderD'+'ata'](_0x5d1ae1['_type']===le?_0x5584c4:null,-0x7ec+-0x18a*0x17+0x2b52)['shadowCame'+'ra']['renderTarg'+'et'],_0x1e9a7b=this['renderer']['shadowMapC'+'ache']['get'](_0x3e9d6b,_0x5d1ae1),_0x3527ea=_0x1e9a7b['renderTarg'+'ets'][-0x102c+-0x698*-0x1+0x994],_0xf9b43a=_0x5d1ae1['vsmBlurMod'+'e'],_0x16d7eb=_0x5d1ae1['_vsmBlurSi'+'ze'],_0x3f3efc=this['getVsmBlur'+'Shader'](_0xf9b43a,_0x16d7eb);Za['z']=_0x5d1ae1['_shadowRes'+'olution']-(-0x2*-0x8f2+0x76*0x49+0x8*-0x671),Za['w']=Za['z'],this['sourceId']['setValue'](_0x46c385['colorBuffe'+'r']),br[-0x1*-0x1a27+0xb*0x1fd+0x1002*-0x3]=(-0x211a+-0x1*0x59f+0x26ba)/_0x5d1ae1['_shadowRes'+'olution'],br[0x86d+0x3bc*0x5+-0x1b18*0x1]=0x3*0x31+-0x3*0x5b8+0x1095,this['pixelOffse'+'tId']['setValue'](br),_0xf9b43a===Mp&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x16d7eb]),fn(_0x3e9d6b,_0x3527ea,_0x3f3efc,null,Za),this['sourceId']['setValue'](_0x3527ea['colorBuffe'+'r']),br[-0x7*-0x16+0x1665+-0x16fe]=br[-0x25d8+0x15ae+0x1*0x102a],br[0x3fa*0x1+-0x20b3+0x1cb9]=0x1d0c+-0x94b*-0x2+-0x2fa2,this['pixelOffse'+'tId']['setValue'](br),fn(_0x3e9d6b,_0x46c385,_0x3f3efc,null,Za),this['renderer']['shadowMapC'+'ache']['add'](_0x5d1ae1,_0x1e9a7b),G['popGpuMark'+'er'](_0x3e9d6b);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new Jy(this['device'],[new wt('matrix_vie'+'wProjectio'+'n',wa)]),this['viewBindGr'+'oupFormat']=new Yy(this['device'],[new yp(gp,_p|fi)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const zl=[];class bM{constructor(_0x374f4c){c(this,'_empty',null),c(this,'_allocated',[]),c(this,'_clusters',new Map()),this['device']=_0x374f4c;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x1eec71=>{_0x1eec71['destroy']();}),this['_allocated']['length']=0x604+-0x596+-0x6e;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x5e2a44=new Hu(this['device']);_0x5e2a44['name']='ClusterEmp'+'ty',_0x5e2a44['update']([]),this['_empty']=_0x5e2a44;}return this['_empty'];}['assign'](_0x26520f){const _0x1bef98=this['empty'];zl['push'](...this['_allocated']),this['_allocated']['length']=0x267f+-0x2317+-0x368,this['_clusters']['clear']();const _0x5174a5=_0x26520f['length'];for(let _0x54b74b=-0x35b+0x1*-0x15b5+0x1910;_0x54b74b<_0x5174a5;_0x54b74b++){const _0x5480ea=_0x26520f[_0x54b74b]['renderActi'+'ons'];if(_0x5480ea){const _0x448edd=_0x5480ea['length'];for(let _0x40bf76=-0x117a+0x7c6+0x9b4;_0x40bf76<_0x448edd;_0x40bf76++){const _0x53cb9d=_0x5480ea[_0x40bf76];_0x53cb9d['lightClust'+'ers']=null;const _0x2a70c9=_0x53cb9d['layer'];if(_0x2a70c9['hasCluster'+'edLights']&&_0x2a70c9['meshInstan'+'ces']['length']){const _0x1ca4fd=_0x2a70c9['getLightId'+'Hash'](),_0x151a46=this['_clusters']['get'](_0x1ca4fd);let _0x2f9b48=_0x151a46==null?void(0x1d*-0xf4+-0x1a1f+-0x1*-0x35c3):_0x151a46['lightClust'+'ers'];_0x2f9b48||(_0x2f9b48=zl['pop']()??new Hu(this['device']),gn['setName'](_0x2f9b48,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x2f9b48),this['_clusters']['set'](_0x1ca4fd,_0x53cb9d)),_0x53cb9d['lightClust'+'ers']=_0x2f9b48;}_0x53cb9d['lightClust'+'ers']||(_0x53cb9d['lightClust'+'ers']=_0x1bef98);}}}zl['forEach'](_0x317b02=>_0x317b02['destroy']()),zl['length']=-0x1*0x4f2+-0x21d0+-0x2*-0x1361;}['update'](_0x426e7b,_0x57f509){this['assign'](_0x426e7b),this['_clusters']['forEach'](_0xc7ce01=>{const _0x47db7a=_0xc7ce01['layer'];_0xc7ce01['lightClust'+'ers']['update'](_0x47db7a['clusteredL'+'ightsSet'],_0x57f509);});}}const __='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}',wM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}',TM='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}',Wi=new ee(),kd=[];class Up extends gs{constructor(_0x276042,_0x360fa6){super(_0x276042),c(this,'_quadRende'+'rer2D',null),c(this,'_quadRende'+'rerCube',null),c(this,'_filteredL'+'ights',[]),(this['_cubeSlots'+'Offsets']=_0x360fa6,this['requiresCu'+'bemaps']=!(0xf2*0xa+0x1fd8+0x1f*-0x155),this['blitTextur'+'eId']=_0x276042['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x276042['scope']['resolve']('invViewPro'+'j'));}['destroy'](){var _0x52975e,_0x47108f;(_0x52975e=this['_quadRende'+'rer2D'])==null||_0x52975e['destroy'](),this['_quadRende'+'rer2D']=null,(_0x47108f=this['_quadRende'+'rerCube'])==null||_0x47108f['destroy'](),this['_quadRende'+'rerCube']=null;}static['create'](_0x2dfcc3,_0x2a9f15){b['assert'](_0x2dfcc3);const _0x34ea97=new Up(_0x2dfcc3['device'],_0x2a9f15);return _0x34ea97['init'](_0x2dfcc3),_0x34ea97['colorOps']['clear']=!(0x1629+-0x14b4*-0x1+0x4*-0xab7),_0x34ea97['depthStenc'+'ilOps']['clearDepth']=!(0x9bf*0x1+-0x1*-0x1231+0x1*-0x1bef),_0x34ea97;}['update'](_0x905a8){const _0x1cce10=this['_filteredL'+'ights'];this['filter'](_0x905a8,_0x1cce10),this['executeEna'+'bled']=_0x1cce10['length']>-0x23*-0x10f+-0x1f6a*-0x1+-0x4477;}['filter'](_0x22f0f6,_0x55221b){for(let _0x63878=-0x1ae3*-0x1+-0x3*0x199+-0x1618;_0x63878<_0x22f0f6['length'];_0x63878++){const _0x193d26=_0x22f0f6[_0x63878];_0x193d26['_type']!==le&&_0x193d26['atlasViewp'+'ortAllocat'+'ed']&&_0x193d26['atlasSlotU'+'pdated']&&_0x193d26['enabled']&&_0x193d26['cookie']&&_0x193d26['visibleThi'+'sFrame']&&_0x55221b['push'](_0x193d26);}}['initInvVie'+'wProjMatri'+'ces'](){if(!kd['length'])for(let _0x386ff9=0x42e+0xa*-0x392+0x1f86;_0x386ff9<-0x2687+-0x265c+0x4ce9;_0x386ff9++){const _0x15342d=Ia['create'](null,Le,_0x386ff9),_0x567e38=_0x15342d['projection'+'Matrix'],_0x40416a=_0x15342d['node']['getLocalTr'+'ansform']()['clone']()['invert']();kd[_0x386ff9]=new q()['mul2'](_0x567e38,_0x40416a)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x3ba209=Bs(this['device'],__,wM,'cookieRend'+'erer2d');this['_quadRende'+'rer2D']=new Gu(_0x3ba209);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x506f45=Bs(this['device'],__,TM,'cookieRend'+'ererCube');this['_quadRende'+'rerCube']=new Gu(_0x506f45);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x139e37=this['device'];_0x139e37['setBlendSt'+'ate'](bt['NOBLEND']),_0x139e37['setCullMod'+'e'](vt),_0x139e37['setDepthSt'+'ate'](us['NODEPTH']),_0x139e37['setStencil'+'State']();const _0x59d98a=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x3eb27d=this['_cubeSlots'+'Offsets'],_0xab676c=this['_filteredL'+'ights'];for(let _0x1d5cdf=-0x161+-0x2*-0x4b2+0x803*-0x1;_0x1d5cdf<_0xab676c['length'];_0x1d5cdf++){const _0x5aba6c=_0xab676c[_0x1d5cdf];G['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x5aba6c['_node']['name']);const _0x3a4b26=_0x5aba6c['numShadowF'+'aces'],_0x10d6ba=_0x3a4b26>0x1e53+0x935+0x2787*-0x1?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x3a4b26>-0x527*-0x6+-0x701*0x4+0xf7*-0x3&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x5aba6c['cookie']);for(let _0xc99cf9=-0x130c+0x1245+0x1*0xc7;_0xc99cf9<_0x3a4b26;_0xc99cf9++){if(Wi['copy'](_0x5aba6c['atlasViewp'+'ort']),_0x3a4b26>0xe9b+0x23*-0xb6+-0x178*-0x7){const _0x10f159=Wi['z']/(-0x259*0xd+0x131e*-0x2+0x146*0x36),_0x59973f=_0x3eb27d[_0xc99cf9];Wi['x']+=_0x10f159*_0x59973f['x'],Wi['y']+=_0x10f159*_0x59973f['y'],Wi['z']=_0x10f159,Wi['w']=_0x10f159,this['invViewPro'+'jId']['setValue'](kd[_0xc99cf9]['data']);}Wi['mulScalar'](_0x59d98a),_0x10d6ba['render'](Wi);}G['popGpuMark'+'er'](_0x139e37);}_0xab676c['length']=0x1a02+0x1563+-0x2f65;}}class AM extends gs{constructor(_0x382250,_0x580789,_0x5ee5cf){super(_0x382250),this['requiresCu'+'bemaps']=!(-0x9a0+-0x1*0x1d+0x9be),this['shadowRend'+'erer']=_0x580789,this['shadowRend'+'ererLocal']=_0x5ee5cf;}['update'](_0xe69a2){const _0x1b0296=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x361b1e=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x1b0296,_0xe69a2),_0x149f7e=_0x1b0296['length'];this['enabled']=_0x149f7e>-0x194e+0x8a1+-0x10ad*-0x1,_0x149f7e&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x361b1e,!(0x4b2*-0x7+0x62*0x36+0x9*0x15b));}['execute'](){const _0x39e7ac=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x896a9c=_0x39e7ac['length'];for(let _0x3fb40e=0x2*0x8ad+0xf8a+-0x20e4;_0x3fb40e<_0x896a9c;_0x3fb40e++){const _0x4cfc3e=_0x39e7ac[_0x3fb40e];for(let _0x1c50e5=0x2f5*-0x1+-0xd87+0x107c;_0x1c50e5<_0x4cfc3e['numShadowF'+'aces'];_0x1c50e5++)this['shadowRend'+'erer']['renderFace'](_0x4cfc3e,null,_0x1c50e5,!(0x1*-0x11b1+0xe5*-0xd+-0x1*-0x1d52));}_0x39e7ac['length']=-0xd*0x86+-0x270d+0x1*0x2ddb;}}class EM extends gs{constructor(_0x25cd5d,_0xb88ac1,_0x31eef3,_0x29d495,_0x4b04ce){super(_0x25cd5d),this['renderer']=_0xb88ac1,this['frameGraph']=null,this['cookiesRen'+'derPass']=Up['create'](_0x4b04ce['cookieRend'+'erTarget'],_0x4b04ce['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new AM(_0x25cd5d,_0x31eef3,_0x29d495),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x2d71da,_0x4e881f,_0x1b6bed,_0x3a6268,_0xe40610){this['frameGraph']=_0x2d71da,this['cookiesRen'+'derPass']['enabled']=_0x1b6bed,_0x1b6bed&&this['cookiesRen'+'derPass']['update'](_0x3a6268),this['shadowRend'+'erPass']['enabled']=_0x4e881f,_0x4e881f&&this['shadowRend'+'erPass']['update'](_0xe40610);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x4e56c2=ae(),{renderer:_0x7df1e0}=this,{scene:_0x32645b}=_0x7df1e0;_0x7df1e0['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x32645b['lighting']),_0x7df1e0['_lightClus'+'tersTime']+=ae()-_0x4e56c2,_0x7df1e0['_lightClus'+'ters']=_0x7df1e0['worldClust'+'ersAllocat'+'or']['count'];}}let Od=-0x2*0x10ab+-0x5e0+-0x1*-0x2736;const $i=new q(),qi=new q(),Rn=new q(),g_=new Js(),Bd=new Bf(),y_=new q()['setScale'](-0x13*-0xca+0x2447+-0x3344,-(-0x16ff+-0x2*0xc9d+-0x2*-0x181d),0x14a8+-0x1a08+0x561),Nd=new Set(),zd=new Set(),Ud=new Ky(),x_=new q()['set']([-0x232e+-0x9*-0x169+0xb3f*0x2,0x1*-0xf61+-0x1*0x1b7c+-0x1*-0x2add,0x10b*0x21+-0x1*0x1461+0x2*-0x705,-0x773+0x179f+-0x102c,-0x1787*0x1+-0x2*-0x10c1+-0x9fb,-0x2*-0x1152+0x2515+0xcc*-0x5a,-0x2503*0x1+0x2*0x90e+-0x12e7*-0x1,-0x6*0x247+0x1*-0x191b+0x26c5,-0x1e6f+0x11df+0xc90,-0x1736+0x1*-0x42+0x1778,0x1855+-0x6aa+-0x11ab+0.5,0x1*-0x23c9+0x1597*-0x1+0x11*0x360,0x1413+0xd*0x117+-0x223e,-0x2*-0xea6+-0x2006+0x15d*0x2,-0x9da*0x3+0x10bd+-0x11*-0xc1+0.5,-0x27*-0x1+0x1006+-0x102c]),S_=[new W(-0x10d4+-0x1*0x1882+0x2956+0.5,0x2494*-0x1+-0x9*-0x2fc+0x9b8+0.333333),new W(-0x1*-0x2547+0x1db7+-0x42fe+0.25,-0xf54+-0xb60+-0xd5a*-0x2+0.666667),new W(0x7ca+-0x1ebc+0x16f2+0.75,-0x1d99+-0xde7*0x1+0x2b80+0.111111),new W(0x63f+0x4a3+-0x1*0xae2+0.125,-0x887+-0x2202+0x2a89+0.444444),new W(-0x4c+0x1*0x3cf+-0x383+0.625,-0x6*-0x5d2+0x14fb+-0x37e7+0.777778),new W(0x1639*0x1+-0x315+0x7*-0x2bc+0.375,-0x1*-0xf13+-0x96a+-0xa1*0x9+0.222222),new W(0x1*0x2330+-0x1b*-0x19+-0x17*0x1a5+0.875,-0x297+0x2588+-0x22f1+0.555556),new W(-0x251e*-0x1+0x19*0x100+-0x2*0x1f0f+0.0625,0x71*-0x1d+-0x191a+0x25e7+0.888889),new W(0x86*-0x6+0x1*-0x1795+-0x1*-0x1ab9+0.5625,0x75+0x1*0x6e1+-0x756+0.037037),new W(0x8e*-0x7+-0x7e5+0xbc7+0.3125,0xe95+0x15b9+-0x2*0x1227+0.37037),new W(0x1*-0x2417+-0x126e*0x1+0x3685+0.8125,0x18e9*-0x1+-0x83d*-0x1+-0x2c*-0x61+0.703704),new W(0x6d*0x4f+0x1832+-0x8d*0x69+0.1875,0xc4c+-0x1*0xe1+-0xb6b+0.148148),new W(-0x11e6+-0x1*-0x1107+-0xdf*-0x1+0.6875,-0x17*-0x47+0x3d*-0x26+0x2ad*0x1+0.481481),new W(-0x1*-0x255d+0x827+-0x2d84+0.4375,-0xe7*-0x1f+0x1a75+0x1b37*-0x2+0.814815),new W(-0x17*0xe5+-0x1e46+0x32d9*0x1+0.9375,0x18a8+-0x22*-0x3d+-0x20c2+0.259259),new W(0x881*-0x1+-0x576*0x3+0x18e3+0.03125,-0x4*0x623+-0x1ad2+0x335e+0.592593)],CM=new q(),MM=new q(),PM=new q(),RM=new q(),IM=new q(),DM=new q(),In=new Set(),Vd=[],Gd=[];class LM{constructor(_0x15d26d){c(this,'clustersDe'+'bugRendere'+'d',!(0x1*-0x12ef+0xa4c+0xe*0x9e)),c(this,'processing'+'MeshInstan'+'ces',new Set()),c(this,'worldClust'+'ersAllocat'+'or'),c(this,'lights',[]),c(this,'localLight'+'s',[]),c(this,'cameraDirS'+'hadowLight'+'s',new Map()),c(this,'dirLightSh'+'adows',new Map()),c(this,'blueNoise',new nM(-0x558+-0x405+0x9d8)),(this['device']=_0x15d26d,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new bM(_0x15d26d),this['lightTextu'+'reAtlas']=new fM(_0x15d26d),this['shadowMapC'+'ache']=new pM(),this['shadowRend'+'erer']=new D0(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new _M(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new xM(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new EM(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x895*0x3+0x7d*0x2d+0x3c6,this['_morphTime']=0x4e9*-0x1+0x2045+0x19c*-0x11,this['_cullTime']=0x62*0x34+-0x1*-0x7cc+0x3*-0x93c,this['_shadowMap'+'Time']=0x1f*-0x3a+0x3*0x2e7+-0x1af*0x1,this['_lightClus'+'tersTime']=-0x1d7b*0x1+-0x100*0x12+-0x11*-0x2cb,this['_layerComp'+'ositionUpd'+'ateTime']=-0x555+-0xceb*-0x1+-0x796,this['_shadowDra'+'wCalls']=0x4cb+-0x791+0x2c6,this['_skinDrawC'+'alls']=-0x1601+0x3c*-0x38+-0x17*-0x187,this['_instanced'+'DrawCalls']=0x7d*-0x44+-0xcad+0x2de1,this['_shadowMap'+'Updates']=0x1a95*-0x1+-0xf67*0x2+0x3963,this['_numDrawCa'+'llsCulled']=-0x36b+0x1fef*-0x1+0x235a,this['_camerasRe'+'ndered']=-0x11c5+0x896+-0x92f*-0x1,this['_lightClus'+'ters']=0x1*0x24b9+0x155*-0x9+-0x18bc);const _0x501ae9=_0x15d26d['scope'];this['boneTextur'+'eId']=_0x501ae9['resolve']('texture_po'+'seMap'),this['boneTextur'+'eSizeId']=_0x501ae9['resolve']('texture_po'+'seMapSize'),this['modelMatri'+'xId']=_0x501ae9['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x501ae9['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x501ae9['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1*-0xf10+0x1*0x377+-0x1284),this['viewPosId']=_0x501ae9['resolve']('view_posit'+'ion'),this['projId']=_0x501ae9['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x501ae9['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x501ae9['resolve']('matrix_vie'+'w'),this['viewId3']=_0x501ae9['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x501ae9['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x501ae9['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x501ae9['resolve']('tbnBasis'),this['nearClipId']=_0x501ae9['resolve']('camera_nea'+'r'),this['farClipId']=_0x501ae9['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0xf*0x43+0x1da2+0x19b1*-0x1),this['cameraPara'+'msId']=_0x501ae9['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x501ae9['resolve']('view_index'),this['blueNoiseJ'+'itterVersi'+'on']=0x104a+0x2a9+-0x31*0x63,this['blueNoiseJ'+'itterVec']=new ee(),this['blueNoiseJ'+'itterData']=new Float32Array(0x24b8+0xff9+-0x34ad),this['blueNoiseJ'+'itterId']=_0x501ae9['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x501ae9['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x501ae9['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x501ae9['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x501ae9['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x501ae9['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x4*0x1ac+0x24e8+-0xe88*0x3),this['morphPosit'+'ionTex']=_0x501ae9['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x501ae9['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x501ae9['resolve']('morph_tex_'+'params'),this['lightCube']=new oM(),this['constantLi'+'ghtCube']=_0x501ae9['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['sortCompar'+'e'](_0x4ede1a,_0x1b69ec){if(_0x4ede1a['layer']===_0x1b69ec['layer']){if(_0x4ede1a['drawOrder']&&_0x1b69ec['drawOrder'])return _0x4ede1a['drawOrder']-_0x1b69ec['drawOrder'];if(_0x4ede1a['zdist']&&_0x1b69ec['zdist'])return _0x1b69ec['zdist']-_0x4ede1a['zdist'];if(_0x4ede1a['zdist2']&&_0x1b69ec['zdist2'])return _0x4ede1a['zdist2']-_0x1b69ec['zdist2'];}return _0x1b69ec['_key'][Ii]-_0x4ede1a['_key'][Ii];}['sortCompar'+'eMesh'](_0x51ca1e,_0x447c5b){if(_0x51ca1e['layer']===_0x447c5b['layer']){if(_0x51ca1e['drawOrder']&&_0x447c5b['drawOrder'])return _0x51ca1e['drawOrder']-_0x447c5b['drawOrder'];if(_0x51ca1e['zdist']&&_0x447c5b['zdist'])return _0x447c5b['zdist']-_0x51ca1e['zdist'];}const _0x2603ee=_0x51ca1e['_key'][Ii],_0x3022a4=_0x447c5b['_key'][Ii];return _0x2603ee===_0x3022a4&&_0x51ca1e['mesh']&&_0x447c5b['mesh']?_0x447c5b['mesh']['id']-_0x51ca1e['mesh']['id']:_0x3022a4-_0x2603ee;}['sortCompar'+'eDepth'](_0x1ee52f,_0x166f7e){const _0x43622b=_0x1ee52f['_key'][Uu],_0x27170f=_0x166f7e['_key'][Uu];return _0x43622b===_0x27170f&&_0x1ee52f['mesh']&&_0x166f7e['mesh']?_0x166f7e['mesh']['id']-_0x1ee52f['mesh']['id']:_0x27170f-_0x43622b;}['setupViewp'+'ort'](_0x554af8,_0x54809a){const _0x2776bc=this['device'],_0x196b5c=_0x54809a?_0x54809a['width']:_0x2776bc['width'],_0x1b1335=_0x54809a?_0x54809a['height']:_0x2776bc['height'],_0x3e6161=_0x554af8['rect'];let _0x4d2200=Math['floor'](_0x3e6161['x']*_0x196b5c),_0x502a01=Math['floor'](_0x3e6161['y']*_0x1b1335),_0x306c13=Math['floor'](_0x3e6161['z']*_0x196b5c),_0x3c6bb9=Math['floor'](_0x3e6161['w']*_0x1b1335);if(_0x2776bc['setViewpor'+'t'](_0x4d2200,_0x502a01,_0x306c13,_0x3c6bb9),_0x554af8['_scissorRe'+'ctClear']){const _0x20cf2f=_0x554af8['scissorRec'+'t'];_0x4d2200=Math['floor'](_0x20cf2f['x']*_0x196b5c),_0x502a01=Math['floor'](_0x20cf2f['y']*_0x1b1335),_0x306c13=Math['floor'](_0x20cf2f['z']*_0x196b5c),_0x3c6bb9=Math['floor'](_0x20cf2f['w']*_0x1b1335);}_0x2776bc['setScissor'](_0x4d2200,_0x502a01,_0x306c13,_0x3c6bb9);}['setCameraU'+'niforms'](_0x172fe4,_0x3e08cc){var _0x31f788,_0x5b79e6;const _0x515e7c=_0x3e08cc==null?void(0xd49+0x178f+-0x24d8):_0x3e08cc['flipY'];let _0x4e10c3=-0xaa*0x1b+0xfb1+-0x2*-0x11f;if(_0x172fe4['xr']&&_0x172fe4['xr']['session']){const _0x53fbe2=((_0x5b79e6=(_0x31f788=_0x172fe4['_node'])==null?void(0xd*0xd+0x327*-0xb+0x881*0x4):_0x31f788['parent'])==null?void(0xadd+0x6a4+-0x1181):_0x5b79e6['getWorldTr'+'ansform']())||null,_0x129fa7=_0x172fe4['xr']['views'];_0x4e10c3=_0x129fa7['list']['length'];for(let _0x3b947c=-0x4a*0xf+0x6*0x48e+-0x6d*0x36;_0x3b947c<_0x4e10c3;_0x3b947c++){const _0x267803=_0x129fa7['list'][_0x3b947c];_0x267803['updateTran'+'sforms'](_0x53fbe2),_0x172fe4['frustum']['setFromMat'+'4'](_0x267803['projViewOf'+'fMat']);}}else{let _0x341de3=_0x172fe4['projection'+'Matrix'];_0x172fe4['calculateP'+'rojection']&&_0x172fe4['calculateP'+'rojection'](_0x341de3,Rl);let _0x23800c=_0x172fe4['getProject'+'ionMatrixS'+'kybox']();_0x515e7c&&(_0x341de3=CM['mul2'](y_,_0x341de3),_0x23800c=MM['mul2'](y_,_0x23800c)),this['device']['isWebGPU']&&(_0x341de3=PM['mul2'](x_,_0x341de3),_0x23800c=RM['mul2'](x_,_0x23800c));const {jitter:_0x282151}=_0x172fe4;let _0x17d84c=0x2379+-0xfe2+-0x1397,_0x453a56=-0x8b6+-0x31*0x7a+-0x156*-0x18;if(_0x282151>0x166e+0x4*0xa5+-0x1902){const _0x3371b6=_0x3e08cc?_0x3e08cc['width']:this['device']['width'],_0x3cf1cb=_0x3e08cc?_0x3e08cc['height']:this['device']['height'],_0x4576fa=S_[this['device']['renderVers'+'ion']%S_['length']];_0x17d84c=_0x282151*(_0x4576fa['x']*(0x25ab+-0x54d+-0x4*0x817)-(0x3ad+-0x2524+0x2178))/_0x3371b6,_0x453a56=_0x282151*(_0x4576fa['y']*(-0x4b7+-0x1*0x141e+-0x1*-0x18d7)-(-0x66+-0x17*-0xf1+-0x1540))/_0x3cf1cb,_0x341de3=IM['copy'](_0x341de3),_0x341de3['data'][0xd*-0x287+-0x1*-0x196d+0x776]=_0x17d84c,_0x341de3['data'][0x15b3+-0x1178*-0x2+0x2d*-0x142]=_0x453a56,_0x23800c=DM['copy'](_0x23800c),_0x23800c['data'][0x1*-0x1fc1+0x4*0x862+-0x1bf]=_0x17d84c,_0x23800c['data'][0xf*-0x52+-0xe46+0x131d]=_0x453a56,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x917015=_0x282151>0x1517+-0x1433*-0x1+0x12e*-0x23?this['blueNoiseJ'+'itterVec']:ee['ZERO'];if(this['blueNoiseJ'+'itterData'][0x1*-0x1fee+0x1*0x23db+-0x3ed]=_0x917015['x'],this['blueNoiseJ'+'itterData'][0x1cfa*-0x1+0x11b1+0xaa*0x11]=_0x917015['y'],this['blueNoiseJ'+'itterData'][0x6f5*0x2+0x243+-0x102b]=_0x917015['z'],this['blueNoiseJ'+'itterData'][0xd42+-0xc2b+0x114*-0x1]=_0x917015['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x341de3['data']),this['projSkybox'+'Id']['setValue'](_0x23800c['data']),_0x172fe4['calculateT'+'ransform'])_0x172fe4['calculateT'+'ransform'](qi,Rl);else{const _0x5ba407=_0x172fe4['_node']['getPositio'+'n'](),_0x4e966c=_0x172fe4['_node']['getRotatio'+'n']();qi['setTRS'](_0x5ba407,_0x4e966c,A['ONE']);}this['viewInvId']['setValue'](qi['data']),Rn['copy'](qi)['invert'](),this['viewId']['setValue'](Rn['data']),g_['setFromMat'+'4'](Rn),this['viewId3']['setValue'](g_['data']),$i['mul2'](_0x341de3,Rn),this['viewProjId']['setValue']($i['data']),_0x172fe4['_storeShad'+'erMatrices']($i,_0x17d84c,_0x453a56,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x515e7c?-(-0x7*-0x373+-0x1875+0x51):0x794+-0x1*0x949+0x6*0x49),this['dispatchVi'+'ewPos'](_0x172fe4['_node']['getPositio'+'n']()),_0x172fe4['frustum']['setFromMat'+'4']($i);}this['tbnBasis']['setValue'](_0x515e7c?-(0x1*0x26b+0x7db+-0xa45):-0x11b7+-0x126f+0x2427);const _0x5e43c9=_0x172fe4['_nearClip'],_0x2caa23=_0x172fe4['_farClip'];return this['nearClipId']['setValue'](_0x5e43c9),this['farClipId']['setValue'](_0x2caa23),this['cameraPara'+'ms'][-0x16ef+-0x18c9+0x2fb8]=(0x2135+-0xcae*0x1+-0x1486*0x1)/_0x2caa23,this['cameraPara'+'ms'][0x31*0x81+-0x1*-0xd81+0x3*-0xcbb]=_0x2caa23,this['cameraPara'+'ms'][0x9e5+-0x4*-0x3bc+0x1f*-0xcd]=_0x5e43c9,this['cameraPara'+'ms'][-0x11da+-0x156f+0xa*0x3ee]=_0x172fe4['projection']===pa?0x91+-0x263a+0x25aa:0x1a24+0xd8c*-0x2+-0x3d*-0x4,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x172fe4['getExposur'+'e']():this['scene']['exposure']),_0x4e10c3;}['clear'](_0x3b47ac,_0x2ccebf,_0x4bb4b3,_0x22733f){const _0x218970=(_0x2ccebf??_0x3b47ac['_clearColo'+'rBuffer']?Io:0x19*-0xf4+-0x1ac9+-0x73b*-0x7)|(_0x4bb4b3??_0x3b47ac['_clearDept'+'hBuffer']?Do:-0x1*0x1f52+0xacc*0x1+0x2*0xa43)|(_0x22733f??_0x3b47ac['_clearSten'+'cilBuffer']?Rh:-0x23a7*0x1+0x1cd9+-0x1*-0x6ce);if(_0x218970){const _0x41c57d=this['device'];G['pushGpuMar'+'ker'](_0x41c57d,'CLEAR'),_0x41c57d['clear']({'color':[_0x3b47ac['_clearColo'+'r']['r'],_0x3b47ac['_clearColo'+'r']['g'],_0x3b47ac['_clearColo'+'r']['b'],_0x3b47ac['_clearColo'+'r']['a']],'depth':_0x3b47ac['_clearDept'+'h'],'stencil':_0x3b47ac['_clearSten'+'cil'],'flags':_0x218970}),G['popGpuMark'+'er'](_0x41c57d);}}['setCamera'](_0x37ff80,_0xe5d991,_0x14a4e6,_0x49239a=null){this['setCameraU'+'niforms'](_0x37ff80,_0xe5d991),this['clearView'](_0x37ff80,_0xe5d991,_0x14a4e6,!(-0x18fb+-0x155d+0x945*0x5));}['clearView'](_0x58457f,_0x119339,_0x3601ec,_0x876f77){const _0x26c683=this['device'];if(G['pushGpuMar'+'ker'](_0x26c683,'CLEAR-VIEW'),_0x26c683['setRenderT'+'arget'](_0x119339),_0x26c683['updateBegi'+'n'](),_0x876f77&&(_0x26c683['setColorWr'+'ite'](!(-0x3ce*0x4+-0xdb9+0x1f*0xef),!(-0x1cbc+0x2588+-0x8cc),!(0xb2*0x7+-0x173*0x4+0xee),!(-0x6*0x4f9+-0x1*0x23c9+0x419f*0x1)),_0x26c683['setDepthWr'+'ite'](!(0xb*0xa3+-0x1d39+0x1638))),this['setupViewp'+'ort'](_0x58457f,_0x119339),_0x3601ec){const _0x3c9d0d=_0x58457f['_clearOpti'+'ons'];_0x26c683['clear'](_0x3c9d0d||{'color':[_0x58457f['_clearColo'+'r']['r'],_0x58457f['_clearColo'+'r']['g'],_0x58457f['_clearColo'+'r']['b'],_0x58457f['_clearColo'+'r']['a']],'depth':_0x58457f['_clearDept'+'h'],'flags':(_0x58457f['_clearColo'+'rBuffer']?Io:0x1*-0x1627+-0xb64+0x1*0x218b)|(_0x58457f['_clearDept'+'hBuffer']?Do:-0x7*-0x398+0x110f+-0x2a37)|(_0x58457f['_clearSten'+'cilBuffer']?Rh:-0x8da+-0x1a79*-0x1+0x15b*-0xd),'stencil':_0x58457f['_clearSten'+'cil']});}G['popGpuMark'+'er'](_0x26c683);}['setupCullM'+'ode'](_0xb5f42e,_0x354963,_0x2461a1){const _0x23605c=_0x2461a1['material'];let _0x1a13c6=vt;if(_0xb5f42e){let _0x5c6b13=-0x5bd+-0x1bd1+0x1*0x218f;(_0x23605c['cull']===xo||_0x23605c['cull']===nn)&&(_0x5c6b13=_0x354963*_0x2461a1['flipFacesF'+'actor']*_0x2461a1['node']['worldScale'+'Sign']),_0x5c6b13<0x1b7b+0x9be+-0x1*0x2539?_0x1a13c6=_0x23605c['cull']===xo?nn:xo:_0x1a13c6=_0x23605c['cull'];}this['device']['setCullMod'+'e'](_0x1a13c6),_0x1a13c6===vt&&_0x23605c['cull']===vt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x2461a1['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x26168a){if(_0x26168a['xr']&&_0x26168a['xr']['views']['list']['length']){const _0x4571f7=_0x26168a['xr']['views']['list'][-0x2*0xf6b+0x244a+-0x574];$i['mul2'](_0x4571f7['projMat'],_0x4571f7['viewOffMat']),_0x26168a['frustum']['setFromMat'+'4']($i);return;}const _0x54838d=_0x26168a['projection'+'Matrix'];if(_0x26168a['calculateP'+'rojection']&&_0x26168a['calculateP'+'rojection'](_0x54838d,Rl),_0x26168a['calculateT'+'ransform'])_0x26168a['calculateT'+'ransform'](qi,Rl);else{const _0x54c001=_0x26168a['_node']['getPositio'+'n'](),_0x3b7bd9=_0x26168a['_node']['getRotatio'+'n']();qi['setTRS'](_0x54c001,_0x3b7bd9,A['ONE']),this['viewInvId']['setValue'](qi['data']);}Rn['copy'](qi)['invert'](),$i['mul2'](_0x54838d,Rn),_0x26168a['frustum']['setFromMat'+'4']($i);}['setBaseCon'+'stants'](_0x35eab0,_0x105055){_0x35eab0['setCullMod'+'e'](_0x105055['cull']),_0x105055['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x105055['opacityMap']),(_0x105055['opacityMap']||_0x105055['alphaTest']>-0x17*-0x3b+0x1adb+-0x2028)&&this['alphaTestI'+'d']['setValue'](_0x105055['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x33870d){Od++;const _0x4f14d9=_0x33870d['length'];if(_0x4f14d9===-0x7*-0x25+0x45*0x5e+-0x1a59)return;const _0x4d3a80=ae();for(let _0x2f7432=-0x297*-0xe+-0x14d*0xf+-0x10bf;_0x2f7432<_0x4f14d9;_0x2f7432++){const _0x569a28=_0x33870d[_0x2f7432]['skinInstan'+'ce'];_0x569a28&&(_0x569a28['updateMatr'+'ices'](_0x33870d[_0x2f7432]['node'],Od),_0x569a28['_dirty']=!(0x16*0x11+0xe87+0x1*-0xffd));}this['_skinTime']+=ae()-_0x4d3a80;}['updateGpuS'+'kinMatrice'+'s'](_0x1faa38){const _0x135782=ae();for(const _0x7e30d9 of _0x1faa38){const _0x39c080=_0x7e30d9['skinInstan'+'ce'];_0x39c080&&_0x39c080['_dirty']&&(_0x39c080['updateMatr'+'ixPalette'](_0x7e30d9['node'],Od),_0x39c080['_dirty']=!(-0xb*-0x53+-0x15a6+0x1*0x1216));}this['_skinTime']+=ae()-_0x135782;}['updateMorp'+'hing'](_0x59c41f){const _0x373a9a=ae();for(const _0x1ad729 of _0x59c41f){const _0x28b3ea=_0x1ad729['morphInsta'+'nce'];_0x28b3ea&&_0x28b3ea['_dirty']&&_0x28b3ea['update']();}this['_morphTime']+=ae()-_0x373a9a;}['updateGSpl'+'ats'](_0x380f01){var _0x4a7afa;for(const _0xe824a1 of _0x380f01)(_0x4a7afa=_0xe824a1['gsplatInst'+'ance'])==null||_0x4a7afa['update']();}['gpuUpdate'](_0x1a02c0){this['updateGpuS'+'kinMatrice'+'s'](_0x1a02c0),this['updateMorp'+'hing'](_0x1a02c0),this['updateGSpl'+'ats'](_0x1a02c0);}['setVertexB'+'uffers'](_0x52cd35,_0x2cda47){_0x52cd35['setVertexB'+'uffer'](_0x2cda47['vertexBuff'+'er']);}['setMorphin'+'g'](_0x2385aa,_0x226b0c){_0x226b0c&&(_0x226b0c['prepareRen'+'dering'](_0x2385aa),_0x2385aa['setVertexB'+'uffer'](_0x226b0c['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x226b0c['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x226b0c['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x226b0c['_texturePa'+'rams']));}['setSkinnin'+'g'](_0xd1804,_0x3cf4fb){const _0x51b4fa=_0x3cf4fb['skinInstan'+'ce'];if(_0x51b4fa){this['_skinDrawC'+'alls']++;const _0x4d0c07=_0x51b4fa['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x4d0c07),this['boneTextur'+'eSizeId']['setValue'](_0x51b4fa['boneTextur'+'eSize']);}}['dispatchVi'+'ewPos'](_0x1abce1){const _0x4c151f=this['viewPos'];_0x4c151f[-0x15b*-0x7+-0x1*0x158b+0xc0e]=_0x1abce1['x'],_0x4c151f[0x1*0x1c79+0x252b*0x1+-0x41a3]=_0x1abce1['y'],_0x4c151f[-0x1*-0x4a+0x1*-0x21b2+0x149*0x1a]=_0x1abce1['z'],this['viewPosId']['setValue'](_0x4c151f);}['initViewBi'+'ndGroupFor'+'mat'](_0x3690fc){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x1e8389=[new wt('matrix_vie'+'wProjectio'+'n',wa),new wt('cubeMapRot'+'ationMatri'+'x',Uo),new wt('view_posit'+'ion',Qt),new wt('skyboxInte'+'nsity',Ks),new wt('exposure',Ks),new wt('textureBia'+'s',Ks)];_0x3690fc&&_0x1e8389['push'](new wt('clusterCel'+'lsCountByB'+'oundsSize',Qt),new wt('clusterTex'+'tureSize',Qt),new wt('clusterBou'+'ndsMin',Qt),new wt('clusterBou'+'ndsDelta',Qt),new wt('clusterCel'+'lsDot',Qt),new wt('clusterCel'+'lsMax',Qt),new wt('clusterCom'+'pressionLi'+'mit0',hr),new wt('shadowAtla'+'sParams',hr),new wt('clusterMax'+'Cells',hn),new wt('clusterSki'+'p',Ks)),this['viewUnifor'+'mFormat']=new Jy(this['device'],_0x1e8389);const _0xffbbd5=[new yp(gp,_p|fi),new yi('lightsText'+'ureFloat',fi,$s,hd),new yi('lightsText'+'ure8',fi,$s,hd),new yi('shadowAtla'+'sTexture',fi,$s,jS),new yi('cookieAtla'+'sTexture',fi,$s,uh),new yi('areaLights'+'LutTex1',fi,$s,uh),new yi('areaLights'+'LutTex2',fi,$s,uh)];_0x3690fc&&_0xffbbd5['push'](new yi('clusterWor'+'ldTexture',fi,$s,hd)),this['viewBindGr'+'oupFormat']=new Yy(this['device'],_0xffbbd5);}}['setupViewU'+'niformBuff'+'ers'](_0x339e2,_0x28a900,_0x456128,_0xacca19){b['assert'](Array['isArray'](_0x339e2),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const _0xba970e=this['device'];for(b['assert'](_0xacca19===-0xdd7+-0x48f+0x1267,'This\x20code\x20'+'does\x20not\x20h'+'andle\x20the\x20'+'viewCount\x20'+'yet');_0x339e2['length']<_0xacca19;){const _0x40e516=new vp(_0xba970e,_0x28a900,!(-0x121d*0x1+-0x1c64+0x2e82)),_0x38fee7=new xp(_0xba970e,_0x456128,_0x40e516);gn['setName'](_0x38fee7,'ViewBindGr'+'oup_'+_0x38fee7['id']),_0x339e2['push'](_0x38fee7);}const _0x46c544=_0x339e2[0x1*0x1544+0xc62*-0x3+0xfe2];_0x46c544['defaultUni'+'formBuffer']['update'](),_0x46c544['update'](),_0xba970e['setBindGro'+'up'](Bh,_0x46c544);}['setupMeshU'+'niformBuff'+'ers'](_0x524d9a,_0x345846){const _0x55f74a=this['device'];if(_0x55f74a['supportsUn'+'iformBuffe'+'rs']){this['modelMatri'+'xId']['setValue'](_0x345846['node']['worldTrans'+'form']['data']),this['normalMatr'+'ixId']['setValue'](_0x345846['node']['normalMatr'+'ix']['data']);const _0x6318c2=_0x524d9a['getBindGro'+'up'](_0x55f74a);_0x6318c2['update'](),_0x55f74a['setBindGro'+'up'](jy,_0x6318c2),_0x524d9a['getUniform'+'Buffer'](_0x55f74a)['update'](Ud),_0x55f74a['setBindGro'+'up'](Ru,Ud['bindGroup'],Ud['offsets']);}}['drawInstan'+'ce'](_0x199c10,_0x441753,_0x381cdf,_0x2645c4,_0x5c41c7){const _0x6e932c=_0x441753['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x6e932c['data']),_0x5c41c7&&this['normalMatr'+'ixId']['setValue'](_0x441753['node']['normalMatr'+'ix']['data']);const _0x5ec91b=_0x441753['instancing'+'Data'];_0x5ec91b?_0x5ec91b['count']>-0x10cd+0x7*0x214+0x241?(this['_instanced'+'DrawCalls']++,_0x199c10['setVertexB'+'uffer'](_0x5ec91b['vertexBuff'+'er']),_0x199c10['draw'](_0x381cdf['primitive'][_0x2645c4],_0x5ec91b['count'])):_0x199c10['clearVerte'+'xBuffer']():_0x199c10['draw'](_0x381cdf['primitive'][_0x2645c4]);}['drawInstan'+'ce2'](_0x545431,_0x55cba0,_0x2e1862,_0xfd3761){const _0x340c8b=_0x55cba0['instancing'+'Data'];_0x340c8b?_0x340c8b['count']>-0x79+0x3*0xaef+0x4*-0x815?(this['_instanced'+'DrawCalls']++,_0x545431['draw'](_0x2e1862['primitive'][_0xfd3761],_0x340c8b['count'],!(0x7fa+0x1*0x17e3+-0x1fdd*0x1))):_0x545431['clearVerte'+'xBuffer']():_0x545431['draw'](_0x2e1862['primitive'][_0xfd3761],void(0x5*0x799+0x1d41*-0x1+0x8bc*-0x1),!(0x1e4a+0xfb2+0x6d*-0x6c));}['cull'](_0x89ea3d,_0x1a8004,_0x57e713){const _0x33bf5d=ae(),_0x4becf6=_0x57e713['opaque'];_0x4becf6['length']=-0xbc4+0x1c27+0x1*-0x1063;const _0x3380e4=_0x57e713['transparen'+'t'];_0x3380e4['length']=-0xc8*0x25+-0x194b+0x177*0x25;const _0x42c505=_0x89ea3d['frustumCul'+'ling'],_0x83e5a7=_0x1a8004['length'];for(let _0x5c104c=0x951+-0x26df+0x61*0x4e;_0x5c104c<_0x83e5a7;_0x5c104c++){const _0x1d3f36=_0x1a8004[_0x5c104c];_0x1d3f36['visible']&&(!_0x42c505||!_0x1d3f36['cull']||_0x1d3f36['_isVisible'](_0x89ea3d))&&(_0x1d3f36['visibleThi'+'sFrame']=!(-0x1c75+0x304+0x1971),(_0x1d3f36['transparen'+'t']?_0x3380e4:_0x4becf6)['push'](_0x1d3f36),(_0x1d3f36['skinInstan'+'ce']||_0x1d3f36['morphInsta'+'nce']||_0x1d3f36['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x1d3f36),_0x1d3f36['gsplatInst'+'ance']&&_0x1d3f36['gsplatInst'+'ance']['cameras']['push'](_0x89ea3d)));}this['_cullTime']+=ae()-_0x33bf5d,this['_numDrawCa'+'llsCulled']+=_0x42c505?_0x83e5a7:-0x2*-0x7d+0xf7b+0xb*-0x17f;}['collectLig'+'hts'](_0x3a2ea2){this['lights']['length']=0x1cfb+0xe6d*-0x2+-0x21,this['localLight'+'s']['length']=-0x1bbf+-0x24b9*-0x1+-0x8fa;const _0x368c5d=this['scene']['_stats'];_0x368c5d['dynamicLig'+'hts']=-0x45*-0x49+0x3f1*0x8+-0x1*0x3335,_0x368c5d['bakedLight'+'s']=0xb26+-0x127c+-0x3ab*-0x2;const _0x5da6e8=_0x3a2ea2['layerList']['length'];for(let _0x352d27=-0x7b*-0xb+0x58*0xd+-0x9c1;_0x352d27<_0x5da6e8;_0x352d27++){const _0xb07d35=_0x3a2ea2['layerList'][_0x352d27];if(!zd['has'](_0xb07d35)){zd['add'](_0xb07d35);const _0x461629=_0xb07d35['_lights'];for(let _0x37147a=-0x541*0x5+-0x143a+0x2e7f;_0x37147a<_0x461629['length'];_0x37147a++){const _0x262a12=_0x461629[_0x37147a];Nd['has'](_0x262a12)||(Nd['add'](_0x262a12),this['lights']['push'](_0x262a12),_0x262a12['_type']!==le&&this['localLight'+'s']['push'](_0x262a12),(_0x262a12['mask']&ms||_0x262a12['mask']&dr)&&_0x368c5d['dynamicLig'+'hts']++,_0x262a12['mask']&ar&&_0x368c5d['bakedLight'+'s']++);}}}_0x368c5d['lights']=this['lights']['length'],Nd['clear'](),zd['clear']();}['cullLights'](_0x504a6e,_0x54205a){const _0x3c3a68=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x383347=this['scene']['physicalUn'+'its'];for(let _0x12f0f4=0xb7d+-0x350+-0x12b*0x7;_0x12f0f4<_0x54205a['length'];_0x12f0f4++){const _0x1f3f2e=_0x54205a[_0x12f0f4];if(_0x1f3f2e['enabled']){if(_0x1f3f2e['_type']!==le){if(_0x1f3f2e['getBoundin'+'gSphere'](Bd),_0x504a6e['frustum']['containsSp'+'here'](Bd)){_0x1f3f2e['visibleThi'+'sFrame']=!(0x29*0x1b+0x1df4+-0x1*0x2247),_0x1f3f2e['usePhysica'+'lUnits']=_0x383347;const _0x2deac4=_0x504a6e['getScreenS'+'ize'](Bd);_0x1f3f2e['maxScreenS'+'ize']=Math['max'](_0x1f3f2e['maxScreenS'+'ize'],_0x2deac4);}else _0x3c3a68||_0x1f3f2e['castShadow'+'s']&&!_0x1f3f2e['shadowMap']&&(_0x1f3f2e['visibleThi'+'sFrame']=!(-0x1*0x3b3+-0xc10+0xfc3));}else _0x1f3f2e['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x4d0989){const _0x5916a1=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x36e8e3=-0x10fb+-0x16c2+0x27bd;_0x36e8e3<this['localLight'+'s']['length'];_0x36e8e3++){const _0x17bdaa=this['localLight'+'s'][_0x36e8e3];_0x17bdaa['_type']!==le&&(_0x5916a1?_0x17bdaa['atlasSlotU'+'pdated']&&_0x17bdaa['shadowUpda'+'teMode']===ks&&(_0x17bdaa['shadowUpda'+'teMode']=un):_0x17bdaa['shadowUpda'+'teMode']===ks&&_0x17bdaa['castShadow'+'s']&&(_0x17bdaa['getRenderD'+'ata'](null,0xd3d*-0x1+0xc65+0xd8)['shadowCame'+'ra']['renderTarg'+'et']||(_0x17bdaa['shadowUpda'+'teMode']=un)),_0x17bdaa['visibleThi'+'sFrame']&&_0x17bdaa['castShadow'+'s']&&_0x17bdaa['shadowUpda'+'teMode']!==ks&&this['_shadowRen'+'dererLocal']['cull'](_0x17bdaa,_0x4d0989));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x142d3e=_0x4d0989['cameras'];for(let _0x4c8bc5=-0x5e3+-0x1ba7+-0x1*-0x218a;_0x4c8bc5<_0x142d3e['length'];_0x4c8bc5++){const _0x3069db=_0x142d3e[_0x4c8bc5];if(_0x3069db['enabled']){const _0x380d0f=_0x3069db['camera'];let _0x22a9bd;const _0x36e6a7=_0x380d0f['layers'];for(let _0x3e0e7f=0x1*-0x1253+0x11ce+0x85;_0x3e0e7f<_0x36e6a7['length'];_0x3e0e7f++){const _0x345e15=_0x4d0989['getLayerBy'+'Id'](_0x36e6a7[_0x3e0e7f]);if(_0x345e15){const _0x5bfc6f=_0x345e15['splitLight'+'s'][le];for(let _0x5ba682=-0x2*0x839+0x4*-0x66e+0x606*0x7;_0x5ba682<_0x5bfc6f['length'];_0x5ba682++){const _0x1ecc1a=_0x5bfc6f[_0x5ba682];_0x1ecc1a['castShadow'+'s']&&!In['has'](_0x1ecc1a)&&(In['add'](_0x1ecc1a),_0x22a9bd=_0x22a9bd??[],_0x22a9bd['push'](_0x1ecc1a),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x1ecc1a,_0x4d0989,_0x380d0f));}}}_0x22a9bd&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x380d0f,_0x22a9bd),In['clear']();}}}['cullCompos'+'ition'](_0x2d2ac4){const _0x4af479=ae(),{scene:_0x241cd3}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x1870ff=_0x2d2ac4['cameras']['length'];this['_camerasRe'+'ndered']+=_0x1870ff;for(let _0x482edf=0x9bb*-0x1+0xd*0x239+-0x132a*0x1;_0x482edf<_0x1870ff;_0x482edf++){const _0x21d601=_0x2d2ac4['cameras'][_0x482edf];_0x241cd3==null||_0x241cd3['fire'](ow,_0x21d601);const _0x2e5d41=_0x21d601['renderTarg'+'et'];_0x21d601['frameUpdat'+'e'](_0x2e5d41),this['updateCame'+'raFrustum'](_0x21d601['camera']);const _0x56694c=_0x21d601['layers'];for(let _0xa9ddef=0x4e*0x5d+-0x1*0x1f5b+0x305*0x1;_0xa9ddef<_0x56694c['length'];_0xa9ddef++){const _0x1424b6=_0x2d2ac4['getLayerBy'+'Id'](_0x56694c[_0xa9ddef]);if(_0x1424b6&&_0x1424b6['enabled']){this['cullLights'](_0x21d601['camera'],_0x1424b6['_lights']);const _0x2cff34=_0x1424b6['getCulledI'+'nstances'](_0x21d601['camera']);this['cull'](_0x21d601['camera'],_0x1424b6['meshInstan'+'ces'],_0x2cff34);}}_0x241cd3==null||_0x241cd3['fire'](lw,_0x21d601);}_0x241cd3['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x2d2ac4),this['_cullTime']+=ae()-_0x4af479;}['updateShad'+'ers'](_0x3e3b1e,_0x508309){const _0x159230=_0x3e3b1e['length'];for(let _0x2dc8b5=-0xd2*0x11+-0x7*-0x239+-0x19d;_0x2dc8b5<_0x159230;_0x2dc8b5++){const _0x175c25=_0x3e3b1e[_0x2dc8b5]['material'];if(_0x175c25&&!In['has'](_0x175c25)&&(In['add'](_0x175c25),_0x175c25['getShaderV'+'ariant']!==Sn['prototype']['getShaderV'+'ariant'])){if(_0x508309&&(!_0x175c25['useLightin'+'g']||_0x175c25['emitter']&&!_0x175c25['emitter']['lighting']))continue;_0x175c25['clearVaria'+'nts']();}}In['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](cM(this['device']));}['beginFrame'](_0x5ecb4e){const _0x33ce8d=this['scene'],_0x1589cc=_0x33ce8d['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x33b9f1=-0xf6e*-0x2+-0x8e*-0xd+-0x2612;const _0x5cf79b=_0x5ecb4e['layerList'],_0xc4ed8a=_0x5cf79b['length'];for(let _0x3063c5=-0x1bd9+0xafa+0x10df;_0x3063c5<_0xc4ed8a;_0x3063c5++){const _0x313cc6=_0x5cf79b[_0x3063c5]['meshInstan'+'ces'],_0x341513=_0x313cc6['length'];_0x33b9f1+=_0x341513;for(let _0x552465=0xd1*-0x14+-0x12b9*0x1+-0xbaf*-0x3;_0x552465<_0x341513;_0x552465++){const _0x20f117=_0x313cc6[_0x552465];_0x20f117['visibleThi'+'sFrame']=!(0x34*0x6c+-0xc*0x283+-0xbf*-0xb),_0x1589cc&&Vd['push'](_0x20f117),_0x20f117['skinInstan'+'ce']&&Gd['push'](_0x20f117);}}if(_0x33ce8d['_stats']['meshInstan'+'ces']=_0x33b9f1,_0x1589cc){const _0x2c1ff4=!_0x33ce8d['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](Vd,_0x2c1ff4),_0x33ce8d['updateShad'+'ers']=!(-0x230f+0x1dc7+-0x7b*-0xb),this['device']['_shadersDi'+'rty']=!(-0x1a31+-0x1*-0xdf9+0xc39),_0x33ce8d['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](Gd),Vd['length']=-0x26ee+0x242+-0x24ac*-0x1,Gd['length']=0x2348+-0x50*-0x2f+-0xa4*0x4e;const _0x5d5c36=this['lights'],_0x4693b8=_0x5d5c36['length'];for(let _0x453c75=0x20a7+-0xfa7*-0x1+-0x12*0x2af;_0x453c75<_0x4693b8;_0x453c75++)_0x5d5c36[_0x453c75]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x3f383e){const _0x55cff5=ae(),_0x41978d=_0x3f383e['layerList']['length'],_0x36dc5d=this['scene']['_shaderVer'+'sion'];for(let _0x5c2a54=-0x6fa+-0x243f+-0x2b39*-0x1;_0x5c2a54<_0x41978d;_0x5c2a54++){const _0xbd3f12=_0x3f383e['layerList'][_0x5c2a54];_0xbd3f12['_shaderVer'+'sion']=_0x36dc5d,_0xbd3f12['_skipRende'+'rCounter']=-0x174d+-0x157a+0x2cc7,_0xbd3f12['_forwardDr'+'awCalls']=0x20b9+0x9c8+0xe2b*-0x3,_0xbd3f12['_shadowDra'+'wCalls']=0x1565+-0x5ff*-0x1+0xdb2*-0x2,_0xbd3f12['_renderTim'+'e']=-0x189c+0x83*-0x1f+0x2879;}_0x3f383e['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=ae()-_0x55cff5;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(0x94b+0x16cc+-0x2016),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class L0{constructor(){c(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1ea+0xe4*-0xc+0xc9b),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0xb47*-0x3+0xce*0x26+0x342*0x1),this['clearDepth']=!(0x7ff+-0x215f+-0x59*-0x49),this['clearStenc'+'il']=!(-0x2*-0x88d+0xe9*0x1f+0x1d*-0x190),this['triggerPos'+'tprocess']=!(0x6dc*0x3+-0x9e*0x38+0xdfd),this['firstCamer'+'aUse']=!(-0x1f4+-0x171*-0xb+-0xde6*0x1),this['lastCamera'+'Use']=!(0x1352*-0x2+0x12d3+0x13d2),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x14a6+-0x247a+-0x3921*-0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x4a6c25=>{_0x4a6c25['defaultUni'+'formBuffer']['destroy'](),_0x4a6c25['destroy']();}),this['viewBindGr'+'oups']['length']=0x19*-0x5c+-0x26d8+-0x2fd4*-0x1;}['setupClear'+'s'](_0x55ba69,_0x554c66){this['clearColor']=(_0x55ba69==null?void(0xda3+-0x8*-0x3+0x2bf*-0x5):_0x55ba69['clearColor'+'Buffer'])||_0x554c66['clearColor'+'Buffer'],this['clearDepth']=(_0x55ba69==null?void(-0x14bc+-0x1*-0x1011+0x4ab):_0x55ba69['clearDepth'+'Buffer'])||_0x554c66['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x55ba69==null?void(-0x108+-0x1313*-0x1+-0x120b):_0x55ba69['clearStenc'+'ilBuffer'])||_0x554c66['clearStenc'+'ilBuffer'];}}class FM extends gs{constructor(_0x3f81cc,_0x1a65a4,_0x191801,_0x23ff50){super(_0x3f81cc),c(this,'layerCompo'+'sition'),c(this,'scene'),c(this,'renderer'),c(this,'renderActi'+'ons',[]),c(this,'gammaCorre'+'ction'),c(this,'toneMappin'+'g'),c(this,'noDepthCle'+'ar',!(0x248f+0x2f3+-0xd2b*0x3)),(this['layerCompo'+'sition']=_0x1a65a4,this['scene']=_0x191801,this['renderer']=_0x23ff50);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x2+-0x25*0x62+-0x3*-0x4b8;}['addRenderA'+'ction'](_0x5acc79){this['renderActi'+'ons']['push'](_0x5acc79);}['addLayer'](_0xd8b66,_0x5c89aa,_0x1c12ae,_0x3886b6=!(0x2039+0x17b2+-0x37eb)){b['assert'](_0xd8b66),b['assert'](this['renderTarg'+'et']!==void(-0x2487+-0x1fa6+-0x1f*-0x233),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),b['assert'](_0xd8b66['camera']['layersSet']['has'](_0x5c89aa['id']),'Camera\x20'+_0xd8b66['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x5c89aa['name']+'.');const _0x48cb95=new L0();if(_0x48cb95['renderTarg'+'et']=this['renderTarg'+'et'],_0x48cb95['camera']=_0xd8b66,_0x48cb95['layer']=_0x5c89aa,_0x48cb95['transparen'+'t']=_0x1c12ae,_0x3886b6){const _0x2f7c07=this['renderActi'+'ons']['length']===-0x7b1+0x125*0x7+-0x52;_0x48cb95['setupClear'+'s'](_0x2f7c07?_0xd8b66:void(-0x24fe+-0x859+-0x49*-0x9f),_0x5c89aa);}this['addRenderA'+'ction'](_0x48cb95);}['addLayers'](_0x499240,_0x7014f,_0x1be941,_0x345c22,_0x4e2419,_0x5c97e2=!(0x1e6a+0xc4c*0x1+-0x2ab6)){const {layerList:_0x4632c9,subLayerList:_0x29e733}=_0x499240;let _0x434870=_0x345c22,_0x2e7ebc=_0x1be941;for(;_0x2e7ebc<_0x4632c9['length'];){const _0x3d3c45=_0x4632c9[_0x2e7ebc],_0xaad173=_0x29e733[_0x2e7ebc];if(_0x7014f['camera']['layersSet']['has'](_0x3d3c45['id'])&&(this['addLayer'](_0x7014f,_0x3d3c45,_0xaad173,_0x434870),_0x434870=!(0x34*0x22+-0x1c3a+0x1553)),_0x2e7ebc++,_0x3d3c45['id']===_0x4e2419&&_0xaad173===_0x5c97e2)break;}return _0x2e7ebc;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x160370,renderActions:_0x63abbe}=this;for(let _0x37115c=-0x1*0x176f+0x1*0xd87+0x9e8;_0x37115c<_0x63abbe['length'];_0x37115c++){const _0x45e57f=_0x63abbe[_0x37115c]['camera']['camera'],_0x4c34f6=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x45e57f);if(_0x4c34f6)for(let _0x5be534=-0x1d5+-0x81f+0xe*0xb6;_0x5be534<_0x4c34f6['length'];_0x5be534++){const _0xa90991=_0x4c34f6[_0x5be534];if(_0x160370['dirLightSh'+'adows']['get'](_0xa90991)!==_0x45e57f){_0x160370['dirLightSh'+'adows']['set'](_0xa90991,_0x45e57f);const _0x17eb0f=_0x160370['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0xa90991,_0x45e57f);_0x17eb0f&&this['beforePass'+'es']['push'](_0x17eb0f);}}}}['updateClea'+'rs'](){const _0x1a05ef=this['renderActi'+'ons'][0x2bf+0x2339+-0x25f8];if(_0x1a05ef){const _0x37592c=_0x1a05ef['camera']['camera'],_0x3a4daa=_0x37592c['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x3a4daa&&_0x1a05ef['clearColor']?_0x37592c['clearColor']:void(0x5*0x513+0xee7+-0xa*0x407)),this['setClearDe'+'pth'](_0x3a4daa&&_0x1a05ef['clearDepth']&&!this['noDepthCle'+'ar']?_0x37592c['clearDepth']:void(0x1b4b+0x1a2*0x9+-0x29fd)),this['setClearSt'+'encil'](_0x3a4daa&&_0x1a05ef['clearStenc'+'il']?_0x37592c['clearStenc'+'il']:void(0x1d82+0x77*-0x47+-0x1*-0x37f));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x425469}=this;for(let _0x50b1c3=0x217f+0x185f*-0x1+-0x920;_0x50b1c3<_0x425469['length'];_0x50b1c3++){const _0x3d6dc5=_0x425469[_0x50b1c3];_0x3d6dc5['firstCamer'+'aUse']&&this['scene']['fire'](iw,_0x3d6dc5['camera']);}}['execute'](){const {layerComposition:_0x57391b,renderActions:_0x2ab314}=this;for(let _0x3bf14b=-0x5ab*0x6+-0x21d1+0x43d3;_0x3bf14b<_0x2ab314['length'];_0x3bf14b++){const _0x451503=_0x2ab314[_0x3bf14b],_0x29a69d=_0x451503['layer'];b['call'](()=>{_0x57391b['getLayerBy'+'Name'](_0x29a69d['name'])||b['warnOnce']('Layer\x20'+_0x29a69d['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x57391b['isEnabled'](_0x29a69d,_0x451503['transparen'+'t'])&&this['renderRend'+'erAction'](_0x451503,_0x3bf14b===0xa81+-0xb49+-0x2*-0x64);}}['after'](){for(let _0x524ad6=-0x348+0xb8c+-0x844;_0x524ad6<this['renderActi'+'ons']['length'];_0x524ad6++){const _0x14134c=this['renderActi'+'ons'][_0x524ad6];_0x14134c['lastCamera'+'Use']&&this['scene']['fire'](rw,_0x14134c['camera']);}this['beforePass'+'es']['length']=-0x1d65+0x493+0x18d2;}['renderRend'+'erAction'](_0x3db6ba,_0x49748a){var _0x19bbae;const {renderer:_0x180360,scene:_0x207038}=this,_0x23bf26=_0x180360['device'],{layer:_0x1b8138,transparent:_0x110695,camera:_0x596ada}=_0x3db6ba;G['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x596ada?_0x596ada['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x1b8138['name']+'('+(_0x110695?'TRANSP':'OPAQUE')+')');const _0x118bff=ae();if(_0x596ada){const _0x3cd997=_0x596ada['gammaCorre'+'ction'],_0x1ed19f=_0x596ada['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x122*-0x9+0xaa3+-0x71*0x1)&&(_0x596ada['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0x229d+-0xad0+0x2d6d)&&(_0x596ada['toneMappin'+'g']=this['toneMappin'+'g']),_0x207038['fire'](nw,_0x596ada,_0x1b8138,_0x110695);const _0x30be5e={'lightClusters':_0x3db6ba['lightClust'+'ers']},_0x47fbc3=((_0x19bbae=_0x596ada['camera']['shaderPass'+'Info'])==null?void(-0x1*-0x1165+0x4*0x70+-0x1325):_0x19bbae['index'])??xn;(!_0x49748a||!_0x596ada['camera']['fullSizeCl'+'earRect'])&&(_0x30be5e['clearColor']=_0x3db6ba['clearColor'],_0x30be5e['clearDepth']=_0x3db6ba['clearDepth'],_0x30be5e['clearStenc'+'il']=_0x3db6ba['clearStenc'+'il']);const _0x58b0a1=_0x3db6ba['renderTarg'+'et']??_0x23bf26['backBuffer'];_0x180360['renderForw'+'ardLayer'](_0x596ada['camera'],_0x58b0a1,_0x1b8138,_0x110695,_0x47fbc3,_0x3db6ba['viewBindGr'+'oups'],_0x30be5e),_0x23bf26['setBlendSt'+'ate'](bt['NOBLEND']),_0x23bf26['setStencil'+'State'](null,null),_0x23bf26['setAlphaTo'+'Coverage'](!(0x1f13*0x1+0xcb2+0x4*-0xaf1)),_0x207038['fire'](aw,_0x596ada,_0x1b8138,_0x110695),this['gammaCorre'+'ction']!==void(0x2493+-0x6d*-0x56+0x1*-0x4931)&&(_0x596ada['gammaCorre'+'ction']=_0x3cd997),this['toneMappin'+'g']!==void(0xa31*0x2+-0xab+-0x13b7)&&(_0x596ada['toneMappin'+'g']=_0x1ed19f);}G['popGpuMark'+'er'](this['device']),_0x1b8138['_renderTim'+'e']+=ae()-_0x118bff;}['log'](_0x24d2dc,_0x34919b){if(super['log'](_0x24d2dc,_0x34919b),Qs['get'](ta)){const {layerComposition:_0x429aed}=this;this['renderActi'+'ons']['forEach']((_0x579976,_0x2fa517)=>{const _0x225fea=_0x579976['layer'],_0x6b5df0=_0x225fea['enabled']&&_0x429aed['isEnabled'](_0x225fea,_0x579976['transparen'+'t']),_0x588032=_0x579976['camera'];b['trace'](ta,'\x20\x20\x20\x20'+_0x2fa517+':'+('\x20Cam:\x20'+(_0x588032?_0x588032['entity']['name']:'-'))['padEnd'](0xaf2+0xb55*0x2+-0x2186,'\x20')+('\x20Lay:\x20'+_0x225fea['name'])['padEnd'](-0x2637*0x1+-0x43f*-0x3+-0x1*-0x1990,'\x20')+(_0x579976['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x6b5df0?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x225fea['meshInstan'+'ces']['length'])['padEnd'](-0x6f3+0x2685+0x1f8d*-0x1,'\x20'));});}}}class kM extends gs{constructor(_0x59fd70,_0x1c4cee,_0x154e95){super(_0x59fd70),this['renderer']=_0x1c4cee,this['renderActi'+'on']=_0x154e95,this['requiresCu'+'bemaps']=!(0x1*-0x21bd+0x317*-0x9+0x8cb*0x7);}['execute'](){const _0x19cfc0=this['renderActi'+'on'],_0x42ea48=_0x19cfc0['camera'];b['assert'](_0x19cfc0['triggerPos'+'tprocess']&&_0x42ea48['onPostproc'+'essing']),_0x42ea48['onPostproc'+'essing']();}}const OM=[[],[],[]],Xi=new Y(),wr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x18d7*-0x1+-0x1*0xd9f+0x669*0x6,this['shaderInst'+'ances']['length']=-0x1694+-0x1fdb+0x366f,this['isNewMater'+'ial']['length']=0x2560+0x88f*0x4+-0x479c,this['lightMaskC'+'hanged']['length']=-0x168*-0x3+-0xb*-0x29d+-0x61*0x57;}};function BM(_0x4ce5ac){const _0x2bf7f8=[];for(let _0x4bc170=0x4e1*0x7+0x18d*-0xb+0x1118*-0x1;_0x4bc170<_0x4ce5ac;++_0x4bc170){const _0x22abb0=Math['sqrt'](_0x4bc170+(0x151*0x1b+-0x10af*0x1+-0x11c*0x11+0.5))/Math['sqrt'](_0x4ce5ac);_0x2bf7f8['push'](_0x22abb0);}return _0x2bf7f8;}function NM(_0x483cc1){const _0x31742d=[];for(let _0x25712f=-0x3d1+0x99b+-0x5ca;_0x25712f<_0x483cc1;_0x25712f++){const _0x23349f=_0x25712f/_0x483cc1,_0x2cc2e8=Math['sqrt'](_0x23349f*_0x23349f);_0x31742d['push'](_0x2cc2e8);}return _0x31742d;}const vi=class vi extends LM{constructor(_0x363bc3){super(_0x363bc3);const _0xa881e6=this['device'];this['_forwardDr'+'awCalls']=0x1f07+-0x3bb*-0x1+-0x5cb*0x6,this['_materialS'+'witches']=0x1*-0x1fd+0x26a9*-0x1+0x1d9*0x16,this['_depthMapT'+'ime']=0x25e5*-0x1+0x3e*-0x7e+-0x1*-0x4469,this['_forwardTi'+'me']=-0x2*0x7a2+-0x1*-0xfee+-0xaa,this['_sortTime']=0x30*0xb3+0x2187+-0x4317;const _0xa8796f=_0xa881e6['scope'];this['fogColorId']=_0xa8796f['resolve']('fog_color'),this['fogStartId']=_0xa8796f['resolve']('fog_start'),this['fogEndId']=_0xa8796f['resolve']('fog_end'),this['fogDensity'+'Id']=_0xa8796f['resolve']('fog_densit'+'y'),this['ambientId']=_0xa8796f['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0xa8796f['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0xa8796f['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0xa8796f['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0xa8796f['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0xa8796f['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(0x251a+-0x44*0x5+-0x23c2),this['fogColor']=new Float32Array(-0x1*-0x1889+0x19*-0x91+-0xa5d),this['ambientCol'+'or']=new Float32Array(-0x1393+-0x4*0x410+0x11eb*0x2),this['pcssDiskSa'+'mples']=BM(0x2025+-0x53+0x54b*-0x6),this['pcssSphere'+'Samples']=NM(-0xaf1+-0x1897+-0x473*-0x8);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x4ab4c3){const _0x2e0bde=this['ambientCol'+'or'];if(Xi['linear'](_0x4ab4c3['ambientLig'+'ht']),_0x2e0bde[-0x9eb*-0x3+-0x1d69*0x1+0x2*-0x2c]=Xi['r'],_0x2e0bde[0x112a+-0x21bc+0x1*0x1093]=Xi['g'],_0x2e0bde[0x19a*-0x1+0x2e*0xad+0x62*-0x4d]=Xi['b'],_0x4ab4c3['physicalUn'+'its']){for(let _0x1d6318=0x331+0xfe2+-0x1313;_0x1d6318<-0x11ff+0x140b+0x1*-0x209;_0x1d6318++)_0x2e0bde[_0x1d6318]*=_0x4ab4c3['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x2e0bde),this['skyboxInte'+'nsityId']['setValue'](_0x4ab4c3['physicalUn'+'its']?_0x4ab4c3['skyboxLumi'+'nance']:_0x4ab4c3['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x4ab4c3['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0xe9d4e8,_0x30bdf5){const _0x39c666='light'+_0x30bdf5;this['lightColor'+'Id'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_color'),this['lightDir'][_0x30bdf5]=new Float32Array(-0x22*-0x77+-0x1959+0x2*0x4c7),this['lightDirId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_direction'),this['lightShado'+'wMapId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_radius'),this['lightPos'][_0x30bdf5]=new Float32Array(0x109c+0x1*0x1607+-0x26a0),this['lightPosId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_position'),this['lightWidth'][_0x30bdf5]=new Float32Array(-0x5e7*0x3+-0x1163+0x231b),this['lightWidth'+'Id'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_halfWidth'),this['lightHeigh'+'t'][_0x30bdf5]=new Float32Array(-0x23c6+-0xcc7+0x3090),this['lightHeigh'+'tId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+'_cookie'),this['lightCooki'+'eIntId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x30bdf5]=_0xe9d4e8['resolve'](_0x39c666+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x244b7b,_0x827a00,_0x6e9527,_0x2f5b05,_0x276f53){this['lightPos'][_0x827a00][0x1bc1+0x37f*-0x2+-0x427*0x5]=_0x2f5b05['x']-_0x6e9527['x']*_0x276f53,this['lightPos'][_0x827a00][-0x3f7+-0x1*0x163d+0x1a35]=_0x2f5b05['y']-_0x6e9527['y']*_0x276f53,this['lightPos'][_0x827a00][0x24cc+-0x11c7+-0x1f*0x9d]=_0x2f5b05['z']-_0x6e9527['z']*_0x276f53,this['lightPosId'][_0x827a00]['setValue'](this['lightPos'][_0x827a00]);const _0x516235=_0x244b7b['transformV'+'ector'](new A(-(-0x867*-0x3+0x1d6e*-0x1+-0x2f*-0x17+0.5),-0x1782+0xbe1+0xba1,0xb*0x47+-0x3*0x556+0xcf5));this['lightWidth'][_0x827a00][0xd63*-0x2+-0x106d+-0x1*-0x2b33]=_0x516235['x']*_0x276f53,this['lightWidth'][_0x827a00][0x21*-0x12f+0x1a91+0x7*0x1c9]=_0x516235['y']*_0x276f53,this['lightWidth'][_0x827a00][0x2f2*0x6+-0x45c+-0xd4e*0x1]=_0x516235['z']*_0x276f53,this['lightWidth'+'Id'][_0x827a00]['setValue'](this['lightWidth'][_0x827a00]);const _0x1fd9d4=_0x244b7b['transformV'+'ector'](new A(-0xbc0+0x26+-0x9*-0x14a,-0xb41+0x8*0x42+0xd*0xb5,-0x34*-0x3+-0x97*-0x31+0x1*-0x1d83+0.5));this['lightHeigh'+'t'][_0x827a00][0x2262+0x85+-0x22e7]=_0x1fd9d4['x']*_0x276f53,this['lightHeigh'+'t'][_0x827a00][-0x1c4e+-0x1ee3*-0x1+-0x294]=_0x1fd9d4['y']*_0x276f53,this['lightHeigh'+'t'][_0x827a00][0xb*0x355+-0x3*0x7bf+0x16*-0x9c]=_0x1fd9d4['z']*_0x276f53,this['lightHeigh'+'tId'][_0x827a00]['setValue'](this['lightHeigh'+'t'][_0x827a00]);}['dispatchDi'+'rectLights'](_0x5ab5cb,_0x237302,_0x4c3a8b){let _0x2739b8=-0x2d3*0x7+0xce7+0x6de;const _0x33408=this['device']['scope'];for(let _0x41d141=0x17eb+0x4*0x5d4+-0x2f3b;_0x41d141<_0x5ab5cb['length'];_0x41d141++){if(!(_0x5ab5cb[_0x41d141]['mask']&_0x237302))continue;const _0x4003ed=_0x5ab5cb[_0x41d141],_0x41349d=_0x4003ed['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2739b8]||this['_resolveLi'+'ght'](_0x33408,_0x2739b8),this['lightColor'+'Id'][_0x2739b8]['setValue'](_0x4003ed['_colorLine'+'ar']),_0x41349d['getY'](_0x4003ed['_direction'])['mulScalar'](-(-0x1cb7*0x1+-0x1*-0x2041+0x5*-0xb5)),_0x4003ed['_direction']['normalize'](),this['lightDir'][_0x2739b8][-0x193f+0x19b1*-0x1+0x32f0]=_0x4003ed['_direction']['x'],this['lightDir'][_0x2739b8][-0x13*0x91+0x20*-0x7+0xba4]=_0x4003ed['_direction']['y'],this['lightDir'][_0x2739b8][0x1019*0x1+-0x792+0x3*-0x2d7]=_0x4003ed['_direction']['z'],this['lightDirId'][_0x2739b8]['setValue'](this['lightDir'][_0x2739b8]),_0x4003ed['shape']!==Tt&&this['setLTCDire'+'ctionalLig'+'ht'](_0x41349d,_0x2739b8,_0x4003ed['_direction'],_0x4c3a8b['_node']['getPositio'+'n'](),_0x4c3a8b['farClip']),_0x4003ed['castShadow'+'s']){const _0x54e4ca=_0x4003ed['getRenderD'+'ata'](_0x4c3a8b,0xca3*0x3+-0x3*0xb57+-0x3e4),_0x5f357c=_0x4003ed['_getUnifor'+'mBiasValue'+'s'](_0x54e4ca);this['lightShado'+'wMapId'][_0x2739b8]['setValue'](_0x54e4ca['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x2739b8]['setValue'](_0x54e4ca['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x2739b8]['setValue'](_0x4003ed['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x2739b8]['setValue'](_0x4003ed['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x2739b8]['setValue'](_0x4003ed['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x2739b8]['setValue'](0x921+0xceb+-0x160b-_0x4003ed['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x2739b8]['setValue'](_0x4003ed['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x2739b8]['setValue'](_0x4003ed['_softShado'+'wParams']),_0x54e4ca['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x2739b8]['setValue'](_0x4003ed['penumbraSi'+'ze']/_0x54e4ca['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x54e4ca['projection'+'Compensati'+'on']);const _0x4ba33a=_0x4003ed['_shadowCam'+'eraParams'];_0x4ba33a['length']=0x1*-0x13a3+-0x1*0x1c99+0x3040,_0x4ba33a[-0x6*0x58+-0x804+-0x56*-0x1e]=-0x61*-0x3d+-0x18*0x10d+0x21b,_0x4ba33a[0x235+-0x2537+-0x2303*-0x1]=_0x54e4ca['shadowCame'+'ra']['_farClip'],_0x4ba33a[-0x2*0x60a+-0x2*0x241+-0x3*-0x588]=_0x54e4ca['shadowCame'+'ra']['_nearClip'],_0x4ba33a[-0x23d0+-0xb*-0xe2+0x1a1d]=-0x2d9*-0x5+0x1465+-0xf*0x24f,this['lightCamer'+'aParamsId'][_0x2739b8]['setValue'](_0x4ba33a);const _0xc88a67=_0x4003ed['_shadowRen'+'derParams'];_0xc88a67['length']=0x1*0xcfa+-0x13ed+0x6f7,_0xc88a67[-0x17ee*0x1+0x301*-0x3+0x3*0xafb]=_0x4003ed['_shadowRes'+'olution'],_0xc88a67[0x14dc+0x2438+-0x3913]=_0x5f357c['normalBias'],_0xc88a67[0x3b*-0x13+-0x137*-0x1a+-0x21*0xd3]=_0x5f357c['bias'],_0xc88a67[0x2396+0x11*0x1+0x8e9*-0x4]=0x612+-0x1*-0x187d+-0x1e8f*0x1,this['lightShado'+'wParamsId'][_0x2739b8]['setValue'](_0xc88a67);}_0x2739b8++;}return _0x2739b8;}['setLTCPosi'+'tionalLigh'+'t'](_0x1e5a03,_0x15d71c){const _0x197b2a=_0x1e5a03['transformV'+'ector'](new A(-(-0x17e8+-0xc78+0xc*0x308+0.5),-0x972+0x411+-0x1*-0x561,0x9f5+-0x1f3*0xd+0xf62));this['lightWidth'][_0x15d71c][-0x1098+0x5*0xc3+0xcc9]=_0x197b2a['x'],this['lightWidth'][_0x15d71c][-0x200b+0x23d*0xb+0x76d]=_0x197b2a['y'],this['lightWidth'][_0x15d71c][0x1*0x1277+-0x1b6e*-0x1+-0x2de3]=_0x197b2a['z'],this['lightWidth'+'Id'][_0x15d71c]['setValue'](this['lightWidth'][_0x15d71c]);const _0x3ce319=_0x1e5a03['transformV'+'ector'](new A(-0x386*0x4+-0x3*-0x64e+-0x269*0x2,0x174c+0x7fa+-0x1f46*0x1,0xf11+0xd27+-0x1c38+0.5));this['lightHeigh'+'t'][_0x15d71c][-0x258+0x136*-0x1f+0x27e2]=_0x3ce319['x'],this['lightHeigh'+'t'][_0x15d71c][-0x1*-0x1cdc+-0x3*-0x756+-0x1c1*0x1d]=_0x3ce319['y'],this['lightHeigh'+'t'][_0x15d71c][-0x1*0xb8d+0x182*0x1+0xa0d]=_0x3ce319['z'],this['lightHeigh'+'tId'][_0x15d71c]['setValue'](this['lightHeigh'+'t'][_0x15d71c]);}['dispatchOm'+'niLight'](_0x2704f8,_0x41b3b0,_0x3a34d2){const _0x3249a9=_0x41b3b0['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x3a34d2]||this['_resolveLi'+'ght'](_0x2704f8,_0x3a34d2),this['lightRadiu'+'sId'][_0x3a34d2]['setValue'](_0x41b3b0['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x3a34d2]['setValue'](_0x41b3b0['_colorLine'+'ar']),_0x3249a9['getTransla'+'tion'](_0x41b3b0['_position']),this['lightPos'][_0x3a34d2][0x1747+0x1*0x1bdb+-0x3322]=_0x41b3b0['_position']['x'],this['lightPos'][_0x3a34d2][-0x36*-0x51+-0xbfc+-0x519]=_0x41b3b0['_position']['y'],this['lightPos'][_0x3a34d2][0x2*0x2b0+0x9da+-0xf38]=_0x41b3b0['_position']['z'],this['lightPosId'][_0x3a34d2]['setValue'](this['lightPos'][_0x3a34d2]),_0x41b3b0['shape']!==Tt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x3249a9,_0x3a34d2),_0x41b3b0['castShadow'+'s']){const _0x167585=_0x41b3b0['getRenderD'+'ata'](null,0x2aa+-0xb26+0x87c);this['lightShado'+'wMapId'][_0x3a34d2]['setValue'](_0x167585['shadowBuff'+'er']);const _0x3a66a5=_0x41b3b0['_getUnifor'+'mBiasValue'+'s'](_0x167585),_0x4c15cc=_0x41b3b0['_shadowRen'+'derParams'];_0x4c15cc['length']=0x113f+0x1f*0x11b+-0x40*0xce,_0x4c15cc[-0x258d*0x1+0x217+-0x2*-0x11bb]=_0x41b3b0['_shadowRes'+'olution'],_0x4c15cc[-0x7*0x137+-0x1*-0x1cfd+0x147b*-0x1]=_0x3a66a5['normalBias'],_0x4c15cc[0x2672+0x1421*0x1+-0x3a91]=_0x3a66a5['bias'],_0x4c15cc[-0x15ac+-0x1c9+-0x4*-0x5de]=(0x1f7b+-0x180c+-0x76e)/_0x41b3b0['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x3a34d2]['setValue'](_0x4c15cc),this['lightShado'+'wIntensity'][_0x3a34d2]['setValue'](_0x41b3b0['shadowInte'+'nsity']);const _0x2f27ee=_0x41b3b0['penumbraSi'+'ze']/_0x167585['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x3a34d2]['setValue'](_0x2f27ee);const _0x39c621=_0x41b3b0['_shadowCam'+'eraParams'];_0x39c621['length']=0x2*-0x70b+0x1d28+-0xf0e,_0x39c621[0x2321+-0x2*0x2e2+0x1*-0x1d5d]=0x2*0xd21+-0x49d+-0x737*0x3,_0x39c621[0x7fe+0x15bd+-0x1dba]=_0x167585['shadowCame'+'ra']['_farClip'],_0x39c621[0x2272+0x1a3*0x1+0x2413*-0x1]=_0x167585['shadowCame'+'ra']['_nearClip'],_0x39c621[0x1b66+0xfbc+-0x2b1f]=-0x1841*-0x1+-0x17ea+0x1*-0x57,this['lightCamer'+'aParamsId'][_0x3a34d2]['setValue'](_0x39c621);}_0x41b3b0['_cookie']&&(this['lightCooki'+'eId'][_0x3a34d2]['setValue'](_0x41b3b0['_cookie']),this['lightShado'+'wMatrixId'][_0x3a34d2]['setValue'](_0x3249a9['data']),this['lightCooki'+'eIntId'][_0x3a34d2]['setValue'](_0x41b3b0['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x3d5038,_0x57e69e,_0x441f5e){const _0x4fffb2=_0x57e69e['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x441f5e]||this['_resolveLi'+'ght'](_0x3d5038,_0x441f5e),this['lightInAng'+'leId'][_0x441f5e]['setValue'](_0x57e69e['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x441f5e]['setValue'](_0x57e69e['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x441f5e]['setValue'](_0x57e69e['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x441f5e]['setValue'](_0x57e69e['_colorLine'+'ar']),_0x4fffb2['getTransla'+'tion'](_0x57e69e['_position']),this['lightPos'][_0x441f5e][-0x1f9*0x4+-0x4*-0x815+-0x2e*0x88]=_0x57e69e['_position']['x'],this['lightPos'][_0x441f5e][-0x1031+-0x17b9+0x3a1*0xb]=_0x57e69e['_position']['y'],this['lightPos'][_0x441f5e][0x15*0x96+-0x10b*0x1+0x2b*-0x43]=_0x57e69e['_position']['z'],this['lightPosId'][_0x441f5e]['setValue'](this['lightPos'][_0x441f5e]),_0x57e69e['shape']!==Tt&&this['setLTCPosi'+'tionalLigh'+'t'](_0x4fffb2,_0x441f5e),_0x4fffb2['getY'](_0x57e69e['_direction'])['mulScalar'](-(0x6*0x551+0x12ba+-0x329f)),_0x57e69e['_direction']['normalize'](),this['lightDir'][_0x441f5e][0x1eee+0x79b+-0x2689]=_0x57e69e['_direction']['x'],this['lightDir'][_0x441f5e][0xf73+0x1627+-0x2599]=_0x57e69e['_direction']['y'],this['lightDir'][_0x441f5e][0x1*-0x198f+-0x2121+0x3ab2]=_0x57e69e['_direction']['z'],this['lightDirId'][_0x441f5e]['setValue'](this['lightDir'][_0x441f5e]),_0x57e69e['castShadow'+'s']){const _0x28616a=_0x57e69e['getRenderD'+'ata'](null,-0x105d+0x216+0xe47);this['lightShado'+'wMapId'][_0x441f5e]['setValue'](_0x28616a['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x441f5e]['setValue'](_0x28616a['shadowMatr'+'ix']['data']);const _0x14ca57=_0x57e69e['_getUnifor'+'mBiasValue'+'s'](_0x28616a),_0x4b0715=_0x57e69e['_shadowRen'+'derParams'];_0x4b0715['length']=-0x591+0xf16*0x2+-0x1897,_0x4b0715[0x1*-0x133+0x1ad8+-0x19a5]=_0x57e69e['_shadowRes'+'olution'],_0x4b0715[-0xef*-0xd+-0x1*0x14f6+0x8d4]=_0x14ca57['normalBias'],_0x4b0715[0x2436+-0x391*0x6+-0xece]=_0x14ca57['bias'],_0x4b0715[0x1*-0x13d6+-0x10c3+0x249c]=(0x347+-0x1673+0x1*0x132d)/_0x57e69e['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x441f5e]['setValue'](_0x4b0715),this['lightShado'+'wIntensity'][_0x441f5e]['setValue'](_0x57e69e['shadowInte'+'nsity']);const _0x18d8bf=_0x57e69e['penumbraSi'+'ze']/_0x28616a['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x115dca=_0x28616a['shadowCame'+'ra']['_fov']*Math['PI']/(-0xd*-0x17b+-0x7*-0x443+-0x3060),_0x3d6cb7=(-0x1fd6+-0x4*0x445+-0x6fd*-0x7)/Math['tan'](_0x115dca/(0x1a85+-0x997+-0x10ec));this['lightShado'+'wSearchAre'+'aId'][_0x441f5e]['setValue'](_0x18d8bf*_0x3d6cb7);const _0x5bf651=_0x57e69e['_shadowCam'+'eraParams'];_0x5bf651['length']=0x196+0x1*-0x329+0x25*0xb,_0x5bf651[0x89*0xf+-0xae8+0x2e1]=-0x1*-0x437+0x20c+0x643*-0x1,_0x5bf651[0x2156+-0xe3*0xc+-0x16b1]=_0x28616a['shadowCame'+'ra']['_farClip'],_0x5bf651[0x1055*-0x2+0x19ba+0xe*0x7f]=_0x28616a['shadowCame'+'ra']['_nearClip'],_0x5bf651[-0x4b8*0x8+0x139e*-0x1+0x3961]=-0x179d+-0x86e*-0x2+0x6c1,this['lightCamer'+'aParamsId'][_0x441f5e]['setValue'](_0x5bf651);}if(_0x57e69e['_cookie']){if(!_0x57e69e['castShadow'+'s']){const _0x1dcbe2=Ia['evalSpotCo'+'okieMatrix'](_0x57e69e);this['lightShado'+'wMatrixId'][_0x441f5e]['setValue'](_0x1dcbe2['data']);}this['lightCooki'+'eId'][_0x441f5e]['setValue'](_0x57e69e['_cookie']),this['lightCooki'+'eIntId'][_0x441f5e]['setValue'](_0x57e69e['cookieInte'+'nsity']),_0x57e69e['_cookieTra'+'nsform']&&(_0x57e69e['_cookieTra'+'nsformUnif'+'orm'][0x1e4b+0x2631+-0x2*0x223e]=_0x57e69e['_cookieTra'+'nsform']['x'],_0x57e69e['_cookieTra'+'nsformUnif'+'orm'][0x20a6+-0x3*0x617+-0xe60]=_0x57e69e['_cookieTra'+'nsform']['y'],_0x57e69e['_cookieTra'+'nsformUnif'+'orm'][0x260e*-0x1+0x15bd+0x1053]=_0x57e69e['_cookieTra'+'nsform']['z'],_0x57e69e['_cookieTra'+'nsformUnif'+'orm'][0xe41+0xf5+-0xf33]=_0x57e69e['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x441f5e]['setValue'](_0x57e69e['_cookieTra'+'nsformUnif'+'orm']),_0x57e69e['_cookieOff'+'setUniform'][0xb*0x377+0xcdc+0x32f9*-0x1]=_0x57e69e['_cookieOff'+'set']['x'],_0x57e69e['_cookieOff'+'setUniform'][0x11ac+0x73a+0x18e5*-0x1]=_0x57e69e['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x441f5e]['setValue'](_0x57e69e['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x5687ea,_0x33fbd2,_0x53d688){let _0x5bf885=_0x53d688;const _0x3b920d=this['device']['scope'],_0x50cb17=_0x5687ea[Le],_0x32c7a5=_0x50cb17['length'];for(let _0x14f72b=-0x2274+-0x40e+-0x1*-0x2682;_0x14f72b<_0x32c7a5;_0x14f72b++){const _0x530a8b=_0x50cb17[_0x14f72b];_0x530a8b['mask']&_0x33fbd2&&(this['dispatchOm'+'niLight'](_0x3b920d,_0x530a8b,_0x5bf885),_0x5bf885++);}const _0x407979=_0x5687ea[Fe],_0x255460=_0x407979['length'];for(let _0x1e0be7=-0x13*-0x12c+0x1284+-0x28c8;_0x1e0be7<_0x255460;_0x1e0be7++){const _0x1e0f37=_0x407979[_0x1e0be7];_0x1e0f37['mask']&_0x33fbd2&&(this['dispatchSp'+'otLight'](_0x3b920d,_0x1e0f37,_0x5bf885),_0x5bf885++);}}['renderForw'+'ardPrepare'+'Materials'](_0xebb713,_0x343e76,_0x4408cb,_0x409379,_0x3fb53b,_0xce3f8c){const _0x4ea735=_0xebb713['fog']??this['scene']['fog'],_0xaa7bc8=_0xebb713['shaderPara'+'ms'];_0xaa7bc8['fog']=_0x4ea735['type'],_0xaa7bc8['srgbRender'+'Target']=(_0x343e76==null?void(-0x1f40+-0x1378+0x32b8):_0x343e76['isColorBuf'+'ferSrgb'](0x22e3+0x1dd2*0x1+0xcf1*-0x5))??!(0x204e+-0x2*-0x100+0xb6f*-0x3);const _0x7daf5=(_0xb151a9,_0x3e6165,_0x4f54b5,_0x36a64a)=>{wr['drawCalls']['push'](_0xb151a9),wr['shaderInst'+'ances']['push'](_0x3e6165),wr['isNewMater'+'ial']['push'](_0x4f54b5),wr['lightMaskC'+'hanged']['push'](_0x36a64a);};wr['clear']();const _0x1df020=this['device'],_0x585c24=this['scene'],_0x4257ae=_0x585c24['clusteredL'+'ightingEna'+'bled'],_0x3013f2=(_0x3fb53b==null?void(-0x223e+-0x1403+0x3641):_0x3fb53b['getLightHa'+'sh'](_0x4257ae))??0x16e1+0x1042+-0x2723;let _0x42883d=null,_0x28cddf,_0x4561ea;const _0x1a2c3f=_0x4408cb['length'];for(let _0x3dd43a=-0x161c+0x38*-0x5+0x1734;_0x3dd43a<_0x1a2c3f;_0x3dd43a++){const _0x587244=_0x4408cb[_0x3dd43a];if(_0xebb713===vi['skipRender'+'Camera']){if(vi['_skipRende'+'rCounter']>=vi['skipRender'+'After'])continue;vi['_skipRende'+'rCounter']++;}if(_0x3fb53b){if(_0x3fb53b['_skipRende'+'rCounter']>=_0x3fb53b['skipRender'+'After'])continue;_0x3fb53b['_skipRende'+'rCounter']++;}_0x587244['ensureMate'+'rial'](_0x1df020);const _0x490661=_0x587244['material'],_0x5ed5f2=_0x587244['_shaderDef'+'s'],_0x34a783=_0x587244['mask'];_0x490661&&_0x490661===_0x42883d&&_0x5ed5f2!==_0x28cddf&&(_0x42883d=null),_0x490661!==_0x42883d&&(this['_materialS'+'witches']++,_0x490661['_scene']=_0x585c24,_0x490661['dirty']&&(G['pushGpuMar'+'ker'](_0x1df020,'Node:\x20'+_0x587244['node']['name']+(',\x20Material'+':\x20')+_0x490661['name']),_0x490661['updateUnif'+'orms'](_0x1df020,_0x585c24),_0x490661['dirty']=!(0x173e*0x1+0x2107+-0x3844),G['popGpuMark'+'er'](_0x1df020)));const _0x158b98=_0x587244['getShaderI'+'nstance'](_0xce3f8c,_0x3013f2,_0x585c24,_0xaa7bc8,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x409379);_0x7daf5(_0x587244,_0x158b98,_0x490661!==_0x42883d,!_0x42883d||_0x34a783!==_0x4561ea),_0x42883d=_0x490661,_0x28cddf=_0x5ed5f2,_0x4561ea=_0x34a783;}return wr;}['renderForw'+'ardInterna'+'l'](_0x1bc3ff,_0x5cd373,_0x30d626,_0x7abdf6,_0x4d4459,_0x53801b){const _0x32942a=this['device'],_0x171af6=this['scene'],_0x3fad98=0x1*0xae6+-0x233b*0x1+-0x46*-0x59<<_0x7abdf6,_0x2bb13a=_0x53801b?-(-0x14d*0x9+0xd4*0x1f+-0x1*0xdf6):-0x3ef+0x28+0x2c*0x16,_0x269bbf=_0x171af6['clusteredL'+'ightingEna'+'bled'],_0x357682=_0x5cd373['drawCalls']['length'];for(let _0x518c55=0x621+0x25d6*0x1+-0x5*0x8cb;_0x518c55<_0x357682;_0x518c55++){const _0x56670e=_0x5cd373['drawCalls'][_0x518c55],_0x2787f6=_0x5cd373['isNewMater'+'ial'][_0x518c55],_0xe54133=_0x5cd373['lightMaskC'+'hanged'][_0x518c55],_0x137abd=_0x5cd373['shaderInst'+'ances'][_0x518c55],_0x7563cb=_0x56670e['material'],_0x3fad34=_0x56670e['mask'];if(_0x2787f6){if(_0x32942a['setShader'](_0x137abd['shader'],!(-0x1*0x26b6+-0x27a+-0xb9*-0x39)),_0x7563cb['setParamet'+'ers'](_0x32942a),_0xe54133){const _0x4c70a9=this['dispatchDi'+'rectLights'](_0x30d626[le],_0x3fad34,_0x1bc3ff);_0x269bbf||this['dispatchLo'+'calLights'](_0x30d626,_0x3fad34,_0x4c70a9);}this['alphaTestI'+'d']['setValue'](_0x7563cb['alphaTest']),_0x32942a['setBlendSt'+'ate'](_0x7563cb['blendState']),_0x32942a['setDepthSt'+'ate'](_0x7563cb['depthState']),_0x32942a['setAlphaTo'+'Coverage'](_0x7563cb['alphaToCov'+'erage']);}G['pushGpuMar'+'ker'](_0x32942a,'Node:\x20'+_0x56670e['node']['name']+(',\x20Material'+':\x20')+_0x7563cb['name']),this['setupCullM'+'ode'](_0x1bc3ff['_cullFaces'],_0x2bb13a,_0x56670e);const _0xbb2cf9=_0x56670e['stencilFro'+'nt']??_0x7563cb['stencilFro'+'nt'],_0x238b99=_0x56670e['stencilBac'+'k']??_0x7563cb['stencilBac'+'k'];_0x32942a['setStencil'+'State'](_0xbb2cf9,_0x238b99),_0x56670e['setParamet'+'ers'](_0x32942a,_0x3fad98),_0x32942a['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x56670e['id']);const _0x54c273=_0x56670e['mesh'];this['setVertexB'+'uffers'](_0x32942a,_0x54c273),this['setMorphin'+'g'](_0x32942a,_0x56670e['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x32942a,_0x56670e),this['setupMeshU'+'niformBuff'+'ers'](_0x137abd,_0x56670e);const _0x2d6c11=_0x56670e['renderStyl'+'e'];if(_0x32942a['setIndexBu'+'ffer'](_0x54c273['indexBuffe'+'r'][_0x2d6c11]),_0x4d4459==null||_0x4d4459(_0x56670e,_0x518c55),_0x1bc3ff['xr']&&_0x1bc3ff['xr']['session']&&_0x1bc3ff['xr']['views']['list']['length']){const _0x25f22f=_0x1bc3ff['xr']['views'];for(let _0x55c71b=0x19c9+0x2337+-0x8*0x7a0;_0x55c71b<_0x25f22f['list']['length'];_0x55c71b++){const _0x5da9b3=_0x25f22f['list'][_0x55c71b];_0x32942a['setViewpor'+'t'](_0x5da9b3['viewport']['x'],_0x5da9b3['viewport']['y'],_0x5da9b3['viewport']['z'],_0x5da9b3['viewport']['w']),this['projId']['setValue'](_0x5da9b3['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x5da9b3['projMat']['data']),this['viewId']['setValue'](_0x5da9b3['viewOffMat']['data']),this['viewInvId']['setValue'](_0x5da9b3['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x5da9b3['viewMat3']['data']),this['viewProjId']['setValue'](_0x5da9b3['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x5da9b3['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x55c71b),_0x55c71b===0x1306+0x2017*0x1+-0x331d?this['drawInstan'+'ce'](_0x32942a,_0x56670e,_0x54c273,_0x2d6c11,!(0x1625+-0x2*-0x116c+-0x38fd)):this['drawInstan'+'ce2'](_0x32942a,_0x56670e,_0x54c273,_0x2d6c11),this['_forwardDr'+'awCalls']++;}}else this['drawInstan'+'ce'](_0x32942a,_0x56670e,_0x54c273,_0x2d6c11,!(-0x1462+0x205+-0x3*-0x61f)),this['_forwardDr'+'awCalls']++;_0x518c55<_0x357682-(-0xd74+-0x10b*0x16+-0x1*-0x2467)&&!_0x5cd373['isNewMater'+'ial'][_0x518c55+(-0x203f*0x1+-0x8a1+-0x5*-0x82d)]&&_0x7563cb['setParamet'+'ers'](_0x32942a,_0x56670e['parameters']),G['popGpuMark'+'er'](_0x32942a);}}['renderForw'+'ard'](_0x3ff2e3,_0x384c25,_0x47d7df,_0x508390,_0x5f7150,_0x1084a4,_0x5ccdae,_0x5ae572){const _0x12d599=ae(),_0x45dca2=this['renderForw'+'ardPrepare'+'Materials'](_0x3ff2e3,_0x384c25,_0x47d7df,_0x508390,_0x5ccdae,_0x5f7150);this['renderForw'+'ardInterna'+'l'](_0x3ff2e3,_0x45dca2,_0x508390,_0x5f7150,_0x1084a4,_0x5ae572),wr['clear'](),this['_forwardTi'+'me']+=ae()-_0x12d599;}['renderForw'+'ardLayer'](_0x322310,_0x41cccc,_0x24cc14,_0x567b8f,_0x22c77e,_0x4b068c,_0x3579d3={}){const {scene:_0x7d691,device:_0x2fcfff}=this,_0x8dd830=_0x7d691['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x322310,_0x41cccc);let _0x348000,_0x558b9d;if(_0x24cc14){const _0x21170f=ae();_0x24cc14['sortVisibl'+'e'](_0x322310,_0x567b8f),this['_sortTime']+=ae()-_0x21170f;const _0x80f787=_0x24cc14['getCulledI'+'nstances'](_0x322310);_0x348000=_0x567b8f?_0x80f787['transparen'+'t']:_0x80f787['opaque'],_0x7d691['immediate']['onPreRende'+'rLayer'](_0x24cc14,_0x348000,_0x567b8f),_0x24cc14['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x7d691['ambientLig'+'ht'],_0x24cc14['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x558b9d=_0x24cc14['splitLight'+'s'];}else _0x348000=_0x3579d3['meshInstan'+'ces'],_0x558b9d=_0x3579d3['splitLight'+'s']??OM;if(b['assert'](_0x348000,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x8dd830){const _0x416b61=_0x3579d3['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x416b61['activate'](),_0x24cc14&&!this['clustersDe'+'bugRendere'+'d']&&_0x7d691['lighting']['debugLayer']===_0x24cc14['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0xd09+0x490+0x879),$u['render'](_0x416b61,this['scene']));}_0x7d691['_activeCam'+'era']=_0x322310;const _0x1dd97e=_0x322310['fog']??this['scene']['fog'];this['setFogCons'+'tants'](_0x1dd97e);const _0xfe84d4=this['setCameraU'+'niforms'](_0x322310,_0x41cccc);_0x2fcfff['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x4b068c,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0xfe84d4);const _0x479da2=_0x3579d3['clearColor']??!(-0x49d*0x1+0x1*0xf65+0x1f*-0x59),_0xfab838=_0x3579d3['clearDepth']??!(0x29a+-0x50*-0x76+-0x2779),_0x307c68=_0x3579d3['clearStenc'+'il']??!(0x735+-0x254d+0x1e19);(_0x479da2||_0xfab838||_0x307c68)&&this['clear'](_0x322310,_0x479da2,_0xfab838,_0x307c68);const _0x57c136=!!(_0x322310['_flipFaces']^(_0x41cccc==null?void(-0x110*-0x8+-0x2030+0x17b0):_0x41cccc['flipY'])),_0x202349=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x322310,_0x41cccc,_0x348000,_0x558b9d,_0x22c77e,null,_0x24cc14,_0x57c136),_0x24cc14&&(_0x24cc14['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x202349);}['setFogCons'+'tants'](_0xff12e1){if(_0xff12e1['type']!==Ba){Xi['linear'](_0xff12e1['color']);const _0x558a11=this['fogColor'];_0x558a11[0x2508+0x1*0x1ca5+0x41ad*-0x1]=Xi['r'],_0x558a11[0x2274+-0x11d1+-0x10a2]=Xi['g'],_0x558a11[0x1fc2+0x7a*-0x2e+-0x9d4]=Xi['b'],this['fogColorId']['setValue'](_0x558a11),_0xff12e1['type']===zb?(this['fogStartId']['setValue'](_0xff12e1['start']),this['fogEndId']['setValue'](_0xff12e1['end'])):this['fogDensity'+'Id']['setValue'](_0xff12e1['density']);}}['setSceneCo'+'nstants'](){const _0x4d1cbb=this['scene'];this['dispatchGl'+'obalLights'](_0x4d1cbb);const _0x316e02=this['device'];this['_screenSiz'+'e'][0xf*-0x21e+-0x1*0xc41+0x2c03]=_0x316e02['width'],this['_screenSiz'+'e'][0x30d+0x8*-0x12a+0x644]=_0x316e02['height'],this['_screenSiz'+'e'][-0x10c*0xa+0x2*-0x6a7+0x2*0xbe4]=(0x2476+-0xabb+-0x19ba)/_0x316e02['width'],this['_screenSiz'+'e'][0x2601+0x18d9+-0x3ed7*0x1]=(0x7*0x25c+-0x1a28+0x9a5)/_0x316e02['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x56bb34,_0x3630fc){const _0xa4c4a4=this['scene'];if(_0x56bb34['reset'](),_0xa4c4a4['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x25cde1,cookiesEnabled:_0x1e05c3}=_0xa4c4a4['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x56bb34,_0x25cde1,_0x1e05c3,this['lights'],this['localLight'+'s']),_0x56bb34['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x56bb34,this['localLight'+'s']);let _0x3f0188=0x829+-0x23ba+0x1b91,_0x3083ec=!(0x1*-0x1a2d+-0x219a+-0x1*-0x3bc7),_0x12a724=null;const _0x20da01=_0x3630fc['_renderAct'+'ions'];for(let _0x321426=_0x3f0188;_0x321426<_0x20da01['length'];_0x321426++){const _0x3914f1=_0x20da01[_0x321426],{layer:_0x25a4b6,camera:_0x1c425c}=_0x3914f1;if(_0x3914f1['useCameraP'+'asses'])b['call'](()=>{_0x1c425c['postEffect'+'s']['effects']['length']>-0xbcf*-0x2+-0xfcb*0x1+0x1*-0x7d3&&b['warnOnce']('Camera\x20\x27'+_0x1c425c['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x1c425c['camera']['renderPass'+'es']['forEach'](_0x34735c=>{_0x56bb34['addRenderP'+'ass'](_0x34735c);});else{const _0x5817b1=_0x25a4b6['id']===es,_0x1b50a=_0x5817b1&&(_0x1c425c['renderScen'+'eColorMap']||_0x1c425c['renderScen'+'eDepthMap']);_0x3083ec&&(_0x3083ec=!(0x10*-0x16+0x1f*-0x1+-0x6*-0x40),_0x3f0188=_0x321426,_0x12a724=_0x3914f1['renderTarg'+'et']);const _0x52da71=_0x20da01[_0x321426+(-0x156*-0x15+-0x154c+-0x6c1)],_0x3a4dc0=(_0x52da71?!_0x52da71['useCameraP'+'asses']&&_0x52da71['layer']['id']===es:!(-0xe30+0x1118+-0x2e7))&&(_0x1c425c['renderScen'+'eColorMap']||_0x1c425c['renderScen'+'eDepthMap']),_0x164e95=_0x52da71?_0x52da71['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x52da71['camera']['camera']):!(-0xdc4+-0x48*0x4a+-0xb87*-0x3);if(!_0x52da71||_0x52da71['renderTarg'+'et']!==_0x12a724||_0x164e95||_0x3a4dc0||_0x1b50a){if(_0x5817b1&&_0x3f0188===_0x321426||this['addMainRen'+'derPass'](_0x56bb34,_0x3630fc,_0x12a724,_0x3f0188,_0x321426),_0x5817b1){if(_0x1c425c['renderScen'+'eColorMap']){const _0x452a82=_0x1c425c['camera']['renderPass'+'ColorGrab'];_0x452a82['source']=_0x1c425c['renderTarg'+'et'],_0x56bb34['addRenderP'+'ass'](_0x452a82);}_0x1c425c['renderScen'+'eDepthMap']&&_0x56bb34['addRenderP'+'ass'](_0x1c425c['camera']['renderPass'+'DepthGrab']);}if(_0x3914f1['triggerPos'+'tprocess']&&(_0x1c425c!=null&&_0x1c425c['onPostproc'+'essing'])){const _0x3433ab=new kM(this['device'],this,_0x3914f1);_0x56bb34['addRenderP'+'ass'](_0x3433ab);}_0x3083ec=!(0x2*-0x118a+-0x12da+0x35ee);}}}}['addMainRen'+'derPass'](_0x330a9c,_0x34da0b,_0x52780e,_0x317d64,_0x4da1e7){const _0x4251c0=new FM(this['device'],_0x34da0b,this['scene'],this);_0x4251c0['init'](_0x52780e);const _0x387ade=_0x34da0b['_renderAct'+'ions'];for(let _0x568e7d=_0x317d64;_0x568e7d<=_0x4da1e7;_0x568e7d++)_0x4251c0['addRenderA'+'ction'](_0x387ade[_0x568e7d]);_0x330a9c['addRenderP'+'ass'](_0x4251c0);}['update'](_0x1b290b){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x1b290b),this['collectLig'+'hts'](_0x1b290b),this['beginFrame'](_0x1b290b),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x1b290b),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};c(vi,'skipRender'+'Camera',null),c(vi,'_skipRende'+'rCounter',-0xf0a+0x19d4+-0xaca),c(vi,'skipRender'+'After',-0x1f6*0x1+-0x1*-0x58f+-0x399);let Xh=vi,Hd=-0xbb*-0x12+-0x147e+0x758;const Qa=[],Ul=new Set();function zM(_0x33f37c,_0x269979){return _0x33f37c['drawOrder']-_0x269979['drawOrder'];}function UM(_0x3606b0,_0x1105d4){const _0x74baa5=_0x3606b0['_key'][Ii],_0x45e7b3=_0x1105d4['_key'][Ii];return _0x74baa5===_0x45e7b3&&_0x3606b0['mesh']&&_0x1105d4['mesh']?_0x1105d4['mesh']['id']-_0x3606b0['mesh']['id']:_0x45e7b3-_0x74baa5;}function VM(_0x35a661,_0x164209){return _0x164209['zdist']-_0x35a661['zdist'];}function GM(_0x5b8d25,_0x71f736){return _0x5b8d25['zdist']-_0x71f736['zdist'];}const HM=[null,zM,UM,VM,GM];class WM{constructor(){c(this,'opaque',[]),c(this,'transparen'+'t',[]);}}class Fr{constructor(_0x5e076d={}){c(this,'meshInstan'+'ces',[]),c(this,'meshInstan'+'cesSet',new Set()),c(this,'shadowCast'+'ers',[]),c(this,'shadowCast'+'ersSet',new Set()),c(this,'_visibleIn'+'stances',new WeakMap()),c(this,'_lights',[]),c(this,'_lightsSet',new Set()),c(this,'_clustered'+'LightsSet',new Set()),c(this,'_splitLigh'+'ts',[[],[],[]]),c(this,'_splitLigh'+'tsDirty',!(0x40*0x7d+0x7ce+-0x270e)),c(this,'requiresLi'+'ghtCube',!(0x113+-0x9*0x449+0x1d*0x14b)),c(this,'cameras',[]),c(this,'camerasSet',new Set()),c(this,'_dirtyComp'+'osition',!(-0x1055+-0x5ca+0x1620)),(_0x5e076d['id']!==void(0x1*-0x24b3+0xd*0x251+0x696)?(this['id']=_0x5e076d['id'],Hd=Math['max'](this['id']+(0x22a3+0x14e7+-0x3789*0x1),Hd)):this['id']=Hd++,this['name']=_0x5e076d['name'],this['_enabled']=_0x5e076d['enabled']??!(-0x2630+-0x2bd*-0x7+0x657*0x3),this['_refCounte'+'r']=this['_enabled']?0x1db9+-0xd2e+-0x108a:-0x1994+-0x131e+0x2*0x1659,this['opaqueSort'+'Mode']=_0x5e076d['opaqueSort'+'Mode']??Qb,this['transparen'+'tSortMode']=_0x5e076d['transparen'+'tSortMode']??Nm,_0x5e076d['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5e076d['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5e076d['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5e076d['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5e076d['clearStenc'+'ilBuffer'],this['onEnable']=_0x5e076d['onEnable'],this['onDisable']=_0x5e076d['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0x2e7*-0x3+-0xc*-0x1cf+0x615*-0x5,this['_lightHash'+'Dirty']=!(0x6*0x130+-0x1b56+0x1437),this['_lightIdHa'+'sh']=0x20f+-0x704*-0x2+-0x1017,this['_lightIdHa'+'shDirty']=!(-0xe*0xc7+0x7*0x31c+-0x5*0x22d),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x16ef+-0x25*0x6f+-0x1*-0x26fa,this['_renderTim'+'e']=0x19d*-0x5+0x27*-0xdb+0x296e*0x1,this['_forwardDr'+'awCalls']=0xe3c+-0x4a*-0x2d+-0x1b3e,this['_shadowDra'+'wCalls']=0x75+0x1*-0xb57+0xae2,this['_shaderVer'+'sion']=-(0xe21*0x1+-0x2678+0x1858));}set['enabled'](_0x1cda0f){_0x1cda0f!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(0x7*-0x329+-0x2fa+0x1919),this['_enabled']=_0x1cda0f,_0x1cda0f?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x8e4f7d){this['_clearColo'+'rBuffer']=_0x8e4f7d,this['_dirtyComp'+'osition']=!(-0x4*0x13e+-0x1*-0x29b+0xb*0x37);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x554cf0){this['_clearDept'+'hBuffer']=_0x554cf0,this['_dirtyComp'+'osition']=!(0x2b7*0xc+-0x144*-0x9+0x18*-0x1d5);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x1fae09){this['_clearSten'+'cilBuffer']=_0x1fae09,this['_dirtyComp'+'osition']=!(0x1c2e+0xa*-0x278+0x6*-0x95);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x17ba+-0x196b+0x3125*0x1;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x68f+0x1*-0x10bd+-0xe*-0x1aa&&(this['_enabled']=!(0x5*-0x6d+0x7ba+-0x599),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x75a+-0x9*-0x169+0x11d*-0x12)this['_enabled']=!(-0x9*0x344+0x20ac+-0x1*0x347),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x1c0*-0x2+0x72f+-0xaaf){b['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0xc1bc16,_0x47245a){const _0x25b507=this['meshInstan'+'ces'],_0x53e457=this['meshInstan'+'cesSet'];for(let _0x4e3784=0x1583+-0x1*-0x175b+-0x2cde;_0x4e3784<_0xc1bc16['length'];_0x4e3784++){const _0xc5c824=_0xc1bc16[_0x4e3784];_0x53e457['has'](_0xc5c824)||(_0x25b507['push'](_0xc5c824),_0x53e457['add'](_0xc5c824),Ul['add'](_0xc5c824['material']));}if(_0x47245a||this['addShadowC'+'asters'](_0xc1bc16),Ul['size']>0x1758+0x15ba+-0x2d12){const _0xf19a43=this['_shaderVer'+'sion'];Ul['forEach'](_0x1a9b96=>{_0xf19a43>=-0x5*-0x1a6+0x2513*-0x1+-0x1*-0x1cd5&&_0x1a9b96['_shaderVer'+'sion']!==_0xf19a43&&(_0x1a9b96['getShaderV'+'ariant']!==Sn['prototype']['getShaderV'+'ariant']&&_0x1a9b96['clearVaria'+'nts'](),_0x1a9b96['_shaderVer'+'sion']=_0xf19a43);}),Ul['clear']();}}['removeMesh'+'Instances'](_0xb30721,_0x417c30){const _0x3f7f43=this['meshInstan'+'ces'],_0x3e65bd=this['meshInstan'+'cesSet'];for(let _0x49623e=-0x174c+0x1338+0x2*0x20a;_0x49623e<_0xb30721['length'];_0x49623e++){const _0x4cb48d=_0xb30721[_0x49623e];if(_0x3e65bd['has'](_0x4cb48d)){_0x3e65bd['delete'](_0x4cb48d);const _0x541e0d=_0x3f7f43['indexOf'](_0x4cb48d);_0x541e0d>=-0x2627+-0x603+0x1615*0x2&&_0x3f7f43['splice'](_0x541e0d,0x6e*0x52+-0xc8c+0x1*-0x16af);}}_0x417c30||this['removeShad'+'owCasters'](_0xb30721);}['addShadowC'+'asters'](_0x18db13){const _0x433efb=this['shadowCast'+'ers'],_0x367ae9=this['shadowCast'+'ersSet'];for(let _0x3046de=0x136b+-0x23d1*-0x1+0x586*-0xa;_0x3046de<_0x18db13['length'];_0x3046de++){const _0x279e6d=_0x18db13[_0x3046de];_0x279e6d['castShadow']&&!_0x367ae9['has'](_0x279e6d)&&(_0x367ae9['add'](_0x279e6d),_0x433efb['push'](_0x279e6d));}}['removeShad'+'owCasters'](_0x1e9415){const _0x1d5fde=this['shadowCast'+'ers'],_0x32ee67=this['shadowCast'+'ersSet'];for(let _0x46a54a=0x18be+-0x84b*0x1+-0x1073;_0x46a54a<_0x1e9415['length'];_0x46a54a++){const _0x46a06f=_0x1e9415[_0x46a54a];if(_0x32ee67['has'](_0x46a06f)){_0x32ee67['delete'](_0x46a06f);const _0x843593=_0x1d5fde['indexOf'](_0x46a06f);_0x843593>=0x145d+0xc23+-0x2080&&_0x1d5fde['splice'](_0x843593,0x17a7+0x1*-0x1066+-0x740);}}}['clearMeshI'+'nstances'](_0x3bc31d=!(0x142e+0x1dcc+-0x31f9)){this['meshInstan'+'ces']['length']=0x98f+0x552+-0xee1,this['meshInstan'+'cesSet']['clear'](),_0x3bc31d||(this['shadowCast'+'ers']['length']=0x16bb+-0x221*-0x3+-0x1d1e,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x1082+0x1796+0x714*-0x1),this['_lightIdHa'+'shDirty']=!(-0x1d66+0x1*-0xfde+0x2d44),this['_splitLigh'+'tsDirty']=!(-0x1*-0x2+-0x180f*-0x1+0x65*-0x3d);}['hasLight'](_0x12eaae){return this['_lightsSet']['has'](_0x12eaae);}['addLight'](_0x2cd395){const _0x3dcfd3=_0x2cd395['light'];this['_lightsSet']['has'](_0x3dcfd3)||(this['_lightsSet']['add'](_0x3dcfd3),this['_lights']['push'](_0x3dcfd3),this['markLights'+'Dirty']()),_0x3dcfd3['type']!==le&&this['_clustered'+'LightsSet']['add'](_0x3dcfd3);}['removeLigh'+'t'](_0x3d98c4){const _0x4007fc=_0x3d98c4['light'];this['_lightsSet']['has'](_0x4007fc)&&(this['_lightsSet']['delete'](_0x4007fc),this['_lights']['splice'](this['_lights']['indexOf'](_0x4007fc),-0x1*-0x641+0x4*0x749+0x14*-0x1c5),this['markLights'+'Dirty']()),_0x4007fc['type']!==le&&this['_clustered'+'LightsSet']['delete'](_0x4007fc);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x4c03a3=>_0x4c03a3['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=0x2f*-0x6b+0x81f+-0x19*-0x76,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x66b*-0x2+-0xb67+0x183e);const _0x129e2d=this['_splitLigh'+'ts'];for(let _0x509771=-0x228c+0xc85+0x1607*0x1;_0x509771<_0x129e2d['length'];_0x509771++)_0x129e2d[_0x509771]['length']=0x11dd+-0xe01+0x3dc*-0x1;const _0x3f45b2=this['_lights'];for(let _0x3d5bb8=0x14*-0x2+-0x49b+0x4c3;_0x3d5bb8<_0x3f45b2['length'];_0x3d5bb8++){const _0x219e72=_0x3f45b2[_0x3d5bb8];_0x219e72['enabled']&&_0x129e2d[_0x219e72['_type']]['push'](_0x219e72);}for(let _0xa5a7af=0x1*-0x918+-0x19b8+0x22d0*0x1;_0xa5a7af<_0x129e2d['length'];_0xa5a7af++)_0x129e2d[_0xa5a7af]['sort']((_0x5c5eaf,_0x5980f8)=>_0x5c5eaf['key']-_0x5980f8['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x41c852,_0x43f2b0,_0x341bf9){let _0x4025d3=-0x250*0xe+0x112+0x1f4e;const _0x2e3915=this['_lights'];for(let _0x16ed8a=0xc0d+0x3*0x50e+-0x1b37*0x1;_0x16ed8a<_0x2e3915['length'];_0x16ed8a++){const _0x4ac250=_0x2e3915[_0x16ed8a]['type']!==le;(_0x41c852&&_0x4ac250||_0x43f2b0&&!_0x4ac250)&&Qa['push'](_0x341bf9?_0x2e3915[_0x16ed8a]['id']:_0x2e3915[_0x16ed8a]['key']);}return Qa['length']>-0x2097+-0x83b+-0x19*-0x1a2&&(Qa['sort'](),_0x4025d3=Qy(Qa),Qa['length']=-0x1*-0x23b1+-0x95e*0x1+-0x1a53),_0x4025d3;}['getLightHa'+'sh'](_0xc85042){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x1*0x382+0x1f0f+-0x1b8c),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0xc85042,!(0x220*0x1+-0x4bb+0x29b*0x1),!(-0x219b+-0x12e2+0x347e))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x973*-0x2+0x913+-0x8*0x37f),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x795*0x4+0x3*-0x751+0x861*-0x1),!(0x1afc+0x148f+0x17c5*-0x2),!(0x87*-0x47+0xd65*0x2+0xaa7))),this['_lightIdHa'+'sh'];}['addCamera'](_0x1b70f3){this['camerasSet']['has'](_0x1b70f3['camera'])||(this['camerasSet']['add'](_0x1b70f3['camera']),this['cameras']['push'](_0x1b70f3),this['_dirtyComp'+'osition']=!(-0x1cbb+-0x179c+0x3457));}['removeCame'+'ra'](_0x539a61){if(this['camerasSet']['has'](_0x539a61['camera'])){this['camerasSet']['delete'](_0x539a61['camera']);const _0xd21f1=this['cameras']['indexOf'](_0x539a61);this['cameras']['splice'](_0xd21f1,0xaaa+0x5d8+-0x5*0x34d),this['_dirtyComp'+'osition']=!(0x512*-0x3+-0x1eb*-0xb+-0x1*0x5e3);}}['clearCamer'+'as'](){this['cameras']['length']=-0x2028+-0x1dad+-0x1*-0x3dd5,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x2208+0x1*0x38+0x21d*0x10);}['_calculate'+'SortDistan'+'ces'](_0x5d40c6,_0x235270,_0x2e93a6,_0x36962d){for(let _0x1d1ee3=0x103f*0x2+0xe2a+0x1754*-0x2;_0x1d1ee3<_0x235270;_0x1d1ee3++){const _0x2f93d9=_0x5d40c6[_0x1d1ee3];if(_0x2f93d9['layer']<=Vb)continue;if(_0x2f93d9['calculateS'+'ortDistanc'+'e']){_0x2f93d9['zdist']=_0x2f93d9['calculateS'+'ortDistanc'+'e'](_0x2f93d9,_0x2e93a6,_0x36962d);continue;}const _0x1c7982=_0x2f93d9['aabb']['center'],_0x5ef739=_0x1c7982['x']-_0x2e93a6['x'],_0x1c26b5=_0x1c7982['y']-_0x2e93a6['y'],_0x2212c3=_0x1c7982['z']-_0x2e93a6['z'];_0x2f93d9['zdist']=_0x5ef739*_0x36962d['x']+_0x1c26b5*_0x36962d['y']+_0x2212c3*_0x36962d['z'];}}['getCulledI'+'nstances'](_0x394c28){let _0x8cac7f=this['_visibleIn'+'stances']['get'](_0x394c28);return _0x8cac7f||(_0x8cac7f=new WM(),this['_visibleIn'+'stances']['set'](_0x394c28,_0x8cac7f)),_0x8cac7f;}['sortVisibl'+'e'](_0x255012,_0xe325ce){const _0x25f5d7=_0xe325ce?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x25f5d7===_h)return;const _0x27cd72=this['getCulledI'+'nstances'](_0x255012),_0xfb875c=_0xe325ce?_0x27cd72['transparen'+'t']:_0x27cd72['opaque'],_0x2f518=_0x255012['node'];if(_0x25f5d7===ew){const _0x14714=_0x2f518['getPositio'+'n'](),_0x145f59=_0x2f518['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0xfb875c,_0xfb875c['length'],_0x14714,_0x145f59),this['customSort'+'Callback']&&_0xfb875c['sort'](this['customSort'+'Callback']);}else{if(_0x25f5d7===Nm||_0x25f5d7===Jb){const _0xf0bcbe=_0x2f518['getPositio'+'n'](),_0xcea2d=_0x2f518['forward'];this['_calculate'+'SortDistan'+'ces'](_0xfb875c,_0xfb875c['length'],_0xf0bcbe,_0xcea2d);}_0xfb875c['sort'](HM[_0x25f5d7]);}}}const $M=(_0x34ce37,_0x11f44a)=>_0x34ce37['priority']-_0x11f44a['priority'],Go=_0x310aa2=>_0x310aa2['sort']($M);class v_ extends de{constructor(_0x53ff08='Untitled'){super(),c(this,'layerList',[]),c(this,'layerIdMap',new Map()),c(this,'layerNameM'+'ap',new Map()),c(this,'layerOpaqu'+'eIndexMap',new Map()),c(this,'layerTrans'+'parentInde'+'xMap',new Map()),c(this,'subLayerLi'+'st',[]),c(this,'subLayerEn'+'abled',[]),c(this,'cameras',[]),c(this,'_renderAct'+'ions',[]),c(this,'_dirty',!(0x9*0x95+0x1ec1*0x1+0xf9*-0x25)),(this['name']=_0x53ff08,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x489928=>_0x489928['destroy']()),this['_renderAct'+'ions']['length']=0x21ad*-0x1+0xcc2+0x14eb;}['_update'](){const _0x14d980=this['layerList']['length'];if(!this['_dirty']){for(let _0x1035b7=-0x14b*0x1d+0x2*0x286+0x2073;_0x1035b7<_0x14d980;_0x1035b7++)if(this['layerList'][_0x1035b7]['_dirtyComp'+'osition']){this['_dirty']=!(-0x1af*0x2+0x1cb3+-0x1955);break;}}if(this['_dirty']){this['_dirty']=!(0x1791*-0x1+0x1c*-0x4d+0x1ffe),this['cameras']['length']=0x33*0x2b+0x2219*0x1+-0x2aaa;for(let _0xcd7aca=0x2343+0x109f+0x2*-0x19f1;_0xcd7aca<_0x14d980;_0xcd7aca++){const _0x408a4f=this['layerList'][_0xcd7aca];_0x408a4f['_dirtyComp'+'osition']=!(0x1*0x1961+-0x15c6+-0x39a);for(let _0x2e9927=-0x21df+-0x6e7+0x28c6;_0x2e9927<_0x408a4f['cameras']['length'];_0x2e9927++){const _0x1a7890=_0x408a4f['cameras'][_0x2e9927];this['cameras']['indexOf'](_0x1a7890)<0x32b*-0xa+0x14*0xe+0xa*0x30f&&this['cameras']['push'](_0x1a7890);}}this['cameras']['length']>-0x1f37+-0x27f*-0x7+0x9*0x187&&Go(this['cameras']);let _0x382322=0xb9b*-0x1+-0x32*-0x86+-0x4db*0x3;this['destroyRen'+'derActions']();for(let _0x4269ab=-0x1f4b+0xbb+0x4*0x7a4;_0x4269ab<this['cameras']['length'];_0x4269ab++){const _0x1f7351=this['cameras'][_0x4269ab];if(_0x1f7351['camera']['renderPass'+'es']['length']>-0x1e*-0x7f+0x9a0+-0x2*0xc41){this['addDummyRe'+'nderAction'](_0x382322,_0x1f7351),_0x382322++;continue;}let _0x25cfe4=!(0x2*0x27+-0x3d*-0x89+-0x20f3);const _0x8c9f5f=_0x382322;let _0x15d027=null,_0x14f8ac=!(-0x493*-0x1+0xb*0x335+0x27d9*-0x1);for(let _0x5571f3=-0x1d26+0x12a4+-0x1*-0xa82;_0x5571f3<_0x14d980;_0x5571f3++){const _0x43ddb5=this['layerList'][_0x5571f3];if(_0x43ddb5['enabled']&&this['subLayerEn'+'abled'][_0x5571f3]&&_0x43ddb5['cameras']['length']>0x1413+-0x744*0x3+0x1b9&&_0x1f7351['layers']['indexOf'](_0x43ddb5['id'])>=-0x1*0x1ea2+-0x202d*-0x1+-0x18b){!_0x14f8ac&&_0x43ddb5['id']===_0x1f7351['disablePos'+'tEffectsLa'+'yer']&&(_0x14f8ac=!(-0x13c5+-0x845+0x1c0a),_0x15d027&&(_0x15d027['triggerPos'+'tprocess']=!(0x1a2e+-0xbfd+-0xe31)));const _0x1de9ff=this['subLayerLi'+'st'][_0x5571f3];_0x15d027=this['addRenderA'+'ction'](_0x382322,_0x43ddb5,_0x1de9ff,_0x1f7351,_0x25cfe4,_0x14f8ac),_0x382322++,_0x25cfe4=!(-0x81d+-0x2b*-0x6d+-0xa31);}}_0x8c9f5f<_0x382322&&(_0x15d027['lastCamera'+'Use']=!(-0x4*-0x1bb+0xa48+-0x1134)),!_0x14f8ac&&_0x15d027&&(_0x15d027['triggerPos'+'tprocess']=!(0x1442+-0x1*0x47+-0x13fb)),_0x1f7351['renderTarg'+'et']&&_0x1f7351['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x8c9f5f-(0x4*0x376+0x22da+-0x30b1),_0x1f7351);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0xac8930){b['assert'](this['_renderAct'+'ions']['length']===_0xac8930);const _0x4c8fbc=new L0();return this['_renderAct'+'ions']['push'](_0x4c8fbc),_0x4c8fbc;}['addDummyRe'+'nderAction'](_0x5046df,_0x301607){const _0x51b1f7=this['getNextRen'+'derAction'](_0x5046df);_0x51b1f7['camera']=_0x301607,_0x51b1f7['useCameraP'+'asses']=!(0x12c2+-0x1*-0xa3+-0x1365);}['addRenderA'+'ction'](_0x89dd00,_0x2aac7a,_0x33f319,_0x4243c1,_0x5d2aba,_0x561b3e){let _0x392974=_0x2aac7a['id']!==es?_0x4243c1['renderTarg'+'et']:null,_0x36c334=!(0x236f+-0x1*-0x22cb+-0x4639);const _0x86a313=this['_renderAct'+'ions'];for(let _0x41ba5d=_0x89dd00-(0x1*-0x394+0x21d1+-0x1e3c);_0x41ba5d>=0x1*0xd8e+-0x24cb*-0x1+-0x1*0x3259;_0x41ba5d--)if(_0x86a313[_0x41ba5d]['camera']===_0x4243c1&&_0x86a313[_0x41ba5d]['renderTarg'+'et']===_0x392974){_0x36c334=!(-0x3*0x86b+0x16b8+0xb*0x3b);break;}_0x561b3e&&_0x4243c1['postEffect'+'sEnabled']&&(_0x392974=null);const _0x32add9=this['getNextRen'+'derAction'](_0x89dd00);_0x32add9['triggerPos'+'tprocess']=!(0x25e3+0x6*-0x35d+-0x11b4),_0x32add9['layer']=_0x2aac7a,_0x32add9['transparen'+'t']=_0x33f319,_0x32add9['camera']=_0x4243c1,_0x32add9['renderTarg'+'et']=_0x392974,_0x32add9['firstCamer'+'aUse']=_0x5d2aba,_0x32add9['lastCamera'+'Use']=!(-0xa*-0x3b7+-0x2*-0xd1c+-0x151f*0x3);const _0x398aa3=_0x5d2aba||!_0x36c334,_0xf50cb2=_0x2aac7a['clearColor'+'Buffer']||_0x2aac7a['clearDepth'+'Buffer']||_0x2aac7a['clearStenc'+'ilBuffer'];return(_0x398aa3||_0xf50cb2)&&_0x32add9['setupClear'+'s'](_0x398aa3?_0x4243c1:void(-0x4d1+-0x11db+0x16ac*0x1),_0x2aac7a),_0x32add9;}['propagateR'+'enderTarge'+'t'](_0x5641f5,_0x2eaba4){for(let _0x377784=_0x5641f5;_0x377784>=0x86+-0xae2+0xa5c;_0x377784--){const _0x23f716=this['_renderAct'+'ions'][_0x377784],_0x2e26e9=_0x23f716['layer'];if(_0x23f716['renderTarg'+'et']&&_0x2e26e9['id']!==es)break;if(_0x2e26e9['id']===es)continue;if(_0x23f716['useCameraP'+'asses'])break;const _0x317e11=_0x23f716==null?void(0x21fc+-0x6b*0x23+-0x135b):_0x23f716['camera']['camera'];if(_0x317e11&&(!_0x2eaba4['camera']['rect']['equals'](_0x317e11['rect'])||!_0x2eaba4['camera']['scissorRec'+'t']['equals'](_0x317e11['scissorRec'+'t'])))break;_0x23f716['renderTarg'+'et']=_0x2eaba4['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(Qs['get'](xl)){b['trace'](xl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x1dcc4e=0x1*0xcd5+-0x12*0xe+-0x151*0x9;_0x1dcc4e<this['_renderAct'+'ions']['length'];_0x1dcc4e++){const _0x279a34=this['_renderAct'+'ions'][_0x1dcc4e],_0x3ccfa1=_0x279a34['camera'];if(_0x279a34['useCameraP'+'asses'])b['trace'](xl,_0x1dcc4e+('CustomPass'+'es\x20Cam:\x20')+(_0x3ccfa1?_0x3ccfa1['entity']['name']:'-'));else{const _0xaa194=_0x279a34['layer'],_0x39565a=_0xaa194['enabled']&&this['isEnabled'](_0xaa194,_0x279a34['transparen'+'t']),_0x3e8429=(_0x279a34['clearColor']?'Color\x20':'.....\x20')+(_0x279a34['clearDepth']?'Depth\x20':'.....\x20')+(_0x279a34['clearStenc'+'il']?'Stencil':'.......');b['trace'](xl,_0x1dcc4e+('\x20Cam:\x20'+(_0x3ccfa1?_0x3ccfa1['entity']['name']:'-'))['padEnd'](-0x1*-0x585+-0xf4*0x1a+-0x1*-0x1359,'\x20')+('\x20Lay:\x20'+_0xaa194['name'])['padEnd'](0x6b*0x1d+0xb*-0x119+0xa*0x1,'\x20')+(_0x279a34['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x39565a?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x279a34['renderTarg'+'et']?_0x279a34['renderTarg'+'et']['name']:'-'))['padEnd'](-0x960+0x269a+0x17*-0x144,'\x20')+'\x20Clear:\x20'+_0x3e8429+(_0x279a34['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x279a34['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x279a34['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0xd6679f){const _0x5a5ab3=this['layerIdMap']['get'](_0xd6679f['id'])===_0xd6679f;return b['assert'](!_0x5a5ab3,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0xd6679f['name']),_0x5a5ab3;}['_isSublaye'+'rAdded'](_0x1f6c3b,_0x5ddd0c){return(_0x5ddd0c?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x1f6c3b)!==void(-0x1*-0x1c64+0x248d+-0x1db*0x23)?(b['error']('Sublayer\x20'+_0x1f6c3b['name']+(',\x20transpar'+'ent:\x20')+_0x5ddd0c+('\x20is\x20alread'+'y\x20added.')),!(-0x2b*-0x1+-0x1127*-0x2+-0x6e5*0x5)):!(0x18ef+-0x1*-0x1ef3+-0x37e1);}['push'](_0xc30c5c){this['_isLayerAd'+'ded'](_0xc30c5c)||(this['layerList']['push'](_0xc30c5c),this['layerList']['push'](_0xc30c5c),this['_opaqueOrd'+'er'][_0xc30c5c['id']]=this['subLayerLi'+'st']['push'](!(0xca1+-0x17*-0x1a5+-0x3273))-(-0x1*0x220c+0x26ab+-0x49e),this['_transpare'+'ntOrder'][_0xc30c5c['id']]=this['subLayerLi'+'st']['push'](!(-0x13*0x119+-0x1*0x2345+-0x1*-0x3820))-(-0x7*-0x590+0x2ac+-0x1*0x299b),this['subLayerEn'+'abled']['push'](!(0x1c5a+0x7*-0x20b+-0xe0d*0x1)),this['subLayerEn'+'abled']['push'](!(-0xab9+0x1*-0x1472+-0x4f*-0x65)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xb*-0x34a+-0x4*-0x5f7+0xc52),this['fire']('add',_0xc30c5c));}['insert'](_0x375293,_0x1f2a80){if(this['_isLayerAd'+'ded'](_0x375293))return;this['layerList']['splice'](_0x1f2a80,-0x1*0x1264+-0xf20+-0xf*-0x23c,_0x375293,_0x375293),this['subLayerLi'+'st']['splice'](_0x1f2a80,0x19b3+0x1b65+-0x3518,!(-0x914*-0x4+0xe*0xa3+0x1*-0x2d39),!(0x1e35+-0x14a+0x2a1*-0xb));const _0x3fb777=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x1f2a80,_0x3fb777-(-0x75e*0x2+0x1*-0x7ed+0x16aa)),this['_updateTra'+'nsparentOr'+'der'](_0x1f2a80,_0x3fb777-(0x400+-0x12b0+-0x1*-0xeb1)),this['subLayerEn'+'abled']['splice'](_0x1f2a80,0x1db3*0x1+0x1*0x20c5+-0x3e78,!(-0xa34+0x1f9b+-0x1567),!(-0xb55+-0x993+0x14e8)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x100+0x20*-0x73+0xd60),this['fire']('add',_0x375293);}['remove'](_0x15640c){let _0x31b8c5=this['layerList']['indexOf'](_0x15640c);for(delete this['_opaqueOrd'+'er'][_0x31b8c5],delete this['_transpare'+'ntOrder'][_0x31b8c5];_0x31b8c5>=-0x2*-0x1301+0xac*-0x31+-0x516;)this['layerList']['splice'](_0x31b8c5,-0x24*-0x34+0x217b+-0x28ca),this['subLayerLi'+'st']['splice'](_0x31b8c5,0xa*-0x38b+0x16*-0x9d+-0x30ed*-0x1),this['subLayerEn'+'abled']['splice'](_0x31b8c5,-0x1*0x127d+-0x1e9*0x5+0x1c0b),_0x31b8c5=this['layerList']['indexOf'](_0x15640c),this['_dirty']=!(-0x11e4+0x23b6+-0x11d2),this['fire']('remove',_0x15640c);const _0x33a7ac=this['layerList']['length'];this['_updateOpa'+'queOrder'](0xc44+0x4*0x40f+-0x1c80,_0x33a7ac-(-0x7*0x469+0x2041+-0x161)),this['_updateTra'+'nsparentOr'+'der'](0x1*0xdab+0x9db+-0x1*0x1786,_0x33a7ac-(0x18eb+0xa2a*0x2+-0x2d3e)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x50f57c){this['_isSublaye'+'rAdded'](_0x50f57c,!(0x1699+0xfbf*-0x1+-0x6d9))||(this['layerList']['push'](_0x50f57c),this['_opaqueOrd'+'er'][_0x50f57c['id']]=this['subLayerLi'+'st']['push'](!(0x9f1+-0x7*0x86+-0x646))-(-0x153d+0x3*-0x101+-0x7*-0x377),this['subLayerEn'+'abled']['push'](!(-0x51*0x67+0x15*0xfa+0xc15)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x229c+0x652+0x3e*-0xa9),this['fire']('add',_0x50f57c));}['insertOpaq'+'ue'](_0xb7a8be,_0x262ffc){if(this['_isSublaye'+'rAdded'](_0xb7a8be,!(0x1*-0x2682+0x13bc+0x12c7)))return;this['layerList']['splice'](_0x262ffc,-0xd3b+0x463*0x7+0x1*-0x117a,_0xb7a8be),this['subLayerLi'+'st']['splice'](_0x262ffc,0x12*-0x201+0x227f+0x193,!(0x4*-0x493+-0x1d*-0xb3+-0x1fa));const _0x3cc233=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x262ffc,_0x3cc233-(0x14a6+0xf0b+0x23b*-0x10)),this['subLayerEn'+'abled']['splice'](_0x262ffc,-0x3*0x425+0x513+0x75c,!(-0x18*-0x29+0xfb*-0x16+0x11ba)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1975+0xe33+0xb42),this['fire']('add',_0xb7a8be);}['removeOpaq'+'ue'](_0x35e450){for(let _0x3cf150=-0xc66*-0x2+0x193*-0x16+-0x2*-0x4eb,_0x2deb67=this['layerList']['length'];_0x3cf150<_0x2deb67;_0x3cf150++)if(this['layerList'][_0x3cf150]===_0x35e450&&!this['subLayerLi'+'st'][_0x3cf150]){this['layerList']['splice'](_0x3cf150,-0x19b5*0x1+-0x1dd9+0x1*0x378f),this['subLayerLi'+'st']['splice'](_0x3cf150,0x65b+0x5*0x67b+-0x26c1),_0x2deb67--,this['_updateOpa'+'queOrder'](_0x3cf150,_0x2deb67-(-0x11*0x14b+0x2*0x5f4+0x3c*0x2b)),this['subLayerEn'+'abled']['splice'](_0x3cf150,0x1205+-0x23a6+-0x7a*-0x25),this['_dirty']=!(-0x707+-0x6ca+0xdd1),this['layerList']['indexOf'](_0x35e450)<0x4*0x59+-0x377+-0x3b*-0x9&&this['fire']('remove',_0x35e450);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x982533){this['_isSublaye'+'rAdded'](_0x982533,!(0x340+0x6b1+-0x9f1))||(this['layerList']['push'](_0x982533),this['_transpare'+'ntOrder'][_0x982533['id']]=this['subLayerLi'+'st']['push'](!(-0xa07+0x2148+-0x1741*0x1))-(-0x1*-0x13b6+-0x738+-0xc7d),this['subLayerEn'+'abled']['push'](!(-0x12f1*-0x1+-0x1c8*0x7+-0x679)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x5dc+-0xe3*-0x1+-0x4f9*-0x1),this['fire']('add',_0x982533));}['insertTran'+'sparent'](_0x47adb4,_0x184e40){if(this['_isSublaye'+'rAdded'](_0x47adb4,!(-0x2063*-0x1+0x1121+-0x3184)))return;this['layerList']['splice'](_0x184e40,-0xe66+-0x1329+0x218f,_0x47adb4),this['subLayerLi'+'st']['splice'](_0x184e40,0x17e6*0x1+0x88*0x1e+-0x1*0x27d6,!(0x1343+0x1ece+-0x3211));const _0x39d140=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x184e40,_0x39d140-(0x24ba+0x7*-0x33d+0xe*-0x101)),this['subLayerEn'+'abled']['splice'](_0x184e40,-0xdf8+-0x234c+0x3144,!(0x1*0x8ba+0xf6b+-0x373*0x7)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x31*-0x8f+-0x157d*0x1+0x30dc),this['fire']('add',_0x47adb4);}['removeTran'+'sparent'](_0x37e179){for(let _0xb26bab=0x19f4+-0x771+-0x2a5*0x7,_0x378597=this['layerList']['length'];_0xb26bab<_0x378597;_0xb26bab++)if(this['layerList'][_0xb26bab]===_0x37e179&&this['subLayerLi'+'st'][_0xb26bab]){this['layerList']['splice'](_0xb26bab,-0x1d5c+-0x1*-0x11e9+0x4*0x2dd),this['subLayerLi'+'st']['splice'](_0xb26bab,-0x3*-0x6d3+0x10f1*0x1+0x2569*-0x1),_0x378597--,this['_updateTra'+'nsparentOr'+'der'](_0xb26bab,_0x378597-(-0x17*0x121+0x1999+0x5f)),this['subLayerEn'+'abled']['splice'](_0xb26bab,-0x23ca+0x11bb+-0x10*-0x121),this['_dirty']=!(0xc1*0x22+0x160e+-0x2fb0),this['layerList']['indexOf'](_0x37e179)<-0x161+-0xe66+-0x1*-0xfc7&&this['fire']('remove',_0x37e179);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x335a1d){return this['layerOpaqu'+'eIndexMap']['get'](_0x335a1d)??-(-0x1b81+-0x14*0x193+-0x12*-0x347);}['getTranspa'+'rentIndex'](_0x443177){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x443177)??-(-0xa*-0x3ae+0x1c53+-0x411e);}['isEnabled'](_0x42825f,_0x4b50a4){if(_0x42825f['enabled']){const _0x408051=_0x4b50a4?this['getTranspa'+'rentIndex'](_0x42825f):this['getOpaqueI'+'ndex'](_0x42825f);if(_0x408051>=0x3c9*0x1+0x3ed+-0x2a*0x2f)return this['subLayerEn'+'abled'][_0x408051];}return!(-0xf20+0x7*0x525+0x129*-0x12);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0xf30ccb=0x1b4*0x1+-0x288+0xd4;_0xf30ccb<this['layerList']['length'];_0xf30ccb++){const _0x32ff3b=this['layerList'][_0xf30ccb];this['layerIdMap']['set'](_0x32ff3b['id'],_0x32ff3b),this['layerNameM'+'ap']['set'](_0x32ff3b['name'],_0x32ff3b),(this['subLayerLi'+'st'][_0xf30ccb]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x32ff3b,_0xf30ccb);}}['getLayerBy'+'Id'](_0x4a170d){return this['layerIdMap']['get'](_0x4a170d)??null;}['getLayerBy'+'Name'](_0x223381){return this['layerNameM'+'ap']['get'](_0x223381)??null;}['_updateOpa'+'queOrder'](_0x11b1eb,_0x1e3c10){for(let _0x4c7fd9=_0x11b1eb;_0x4c7fd9<=_0x1e3c10;_0x4c7fd9++)this['subLayerLi'+'st'][_0x4c7fd9]===!(0x10*-0xf1+0x5*0x343+-0x6a*0x3)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x4c7fd9]['id']]=_0x4c7fd9);}['_updateTra'+'nsparentOr'+'der'](_0x505acb,_0x4a3228){for(let _0x324cf6=_0x505acb;_0x324cf6<=_0x4a3228;_0x324cf6++)this['subLayerLi'+'st'][_0x324cf6]===!(-0x1aa*0x1+-0x18bf+0x1a69)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x324cf6]['id']]=_0x324cf6);}['_sortLayer'+'sDescendin'+'g'](_0x2e83db,_0x5d0ae9,_0x2cf758){let _0x21ad33=-(0x302*0x8+0x123d+-0x2a4c),_0x149a4c=-(0x14e0+-0xdca+-0x31*0x25);for(let _0x30f47f=-0x1449+0x1b24+-0x41*0x1b,_0x4dfe28=_0x2e83db['length'];_0x30f47f<_0x4dfe28;_0x30f47f++){const _0x9fa60d=_0x2e83db[_0x30f47f];_0x2cf758['hasOwnProp'+'erty'](_0x9fa60d)&&(_0x21ad33=Math['max'](_0x21ad33,_0x2cf758[_0x9fa60d]));}for(let _0x44a9bb=0x1fbc+-0x16d9+-0xd*0xaf,_0x1aaa30=_0x5d0ae9['length'];_0x44a9bb<_0x1aaa30;_0x44a9bb++){const _0xc50c93=_0x5d0ae9[_0x44a9bb];_0x2cf758['hasOwnProp'+'erty'](_0xc50c93)&&(_0x149a4c=Math['max'](_0x149a4c,_0x2cf758[_0xc50c93]));}return _0x21ad33===-(-0x6d9+-0x21*-0x73+-0x7f9)&&_0x149a4c!==-(-0x1c98+0x1*-0x699+0x385*0xa)?0x156c+0x24dc+-0x3a47:_0x149a4c===-(0x7dc*0x3+-0x4d*-0x52+-0x303d)&&_0x21ad33!==-(0x1220+-0x1*-0x4ff+0x16*-0x10d)?-(-0x4d4+-0x5*-0x30b+0x3*-0x376):_0x149a4c-_0x21ad33;}['sortTransp'+'arentLayer'+'s'](_0x43d2b6,_0x287d18){return this['_sortLayer'+'sDescendin'+'g'](_0x43d2b6,_0x287d18,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0xa1faa2,_0x48a159){return this['_sortLayer'+'sDescendin'+'g'](_0xa1faa2,_0x48a159,this['_opaqueOrd'+'er']);}}const Vl=new A(),ai={'bias':0x0,'normalBias':0x0},Ja=new Y(),Wd={'r':0x0,'g':0x1,'b':0x2,'a':0x3},qu={'directional':le,'omni':Le,'point':Le,'spot':Fe},qM=[[new ee(0x4af+-0x2680+0x21d1,-0x1*0x25f0+0x4*-0x7dc+0x128*0x3c,-0x19d5+-0x13a8+0x2*0x16bf,0x1c2c*-0x1+-0x330+0x103*0x1f)],[new ee(-0x181d*-0x1+-0x14f8+-0x325,-0x4df*-0x4+0x27*-0x9e+0x496,0x1*-0x10de+-0xd6d+-0x205*-0xf+0.5,-0x1b11+0x1*0xdb0+0xd61+0.5),new ee(0x2f*-0x17+0xfc7*-0x1+0x1400,0x78e*-0x1+-0x2f9+0xb*0xf5+0.5,0x55*0x36+0x1a00+-0x2bee+0.5,-0x1ca*-0x5+-0x118e+0x89c+0.5)],[new ee(0x3*0x6f3+0x92*-0x9+0x95*-0x1b,-0x2*-0xd67+0x128e+-0x1*0x2d5c,-0xbba+0x1*0x13af+-0x7f5+0.5,-0x454+-0x763+0xbb7+0.5),new ee(0x1111*-0x1+0x1d*-0x92+-0x1*-0x219b,-0x71*0x17+0x11ab+-0x784+0.5,0x1e52+0x2277+-0x40c9+0.5,0x7a2+-0x4a*0x71+-0x321*-0x8+0.5),new ee(0xb*-0x51+-0x16eb+0x1a66+0.5,-0x1e82+-0x1c*0x1+0x1e9e,-0x46c+-0x1259+0x16c5+0.5,0x1e94+0x1a29+-0x38bd+0.5)],[new ee(0x175*0x13+-0x231a+0x9*0xd3,0x3*-0x85a+-0xe6b*-0x1+0xaa3,0xfa9*0x1+0x4b*0x23+0x1*-0x19ea+0.5,0x11e9+-0x11f3+-0x1*-0xa+0.5),new ee(0x1887+0xca3+-0x252a,0x16f*0x3+-0x1*0x2499+-0x6*-0x562+0.5,-0xd77+0x13fa+-0x683+0.5,-0x25f+0x6ca*-0x1+0x929+0.5),new ee(0x1b2+0x247*-0xf+0x1*0x2077+0.5,-0x2500+-0xbf0+0x30f0,-0x1*0x143d+0x2e*0x6a+0x131*0x1+0.5,0x80*-0x35+-0x1*-0x427+0x773*0x3+0.5),new ee(0x1562+0x21cd+-0x372f+0.5,0x2*-0x139+0x1*-0x21db+0x1*0x244d+0.5,0x1469+-0x7eb+-0xc7e+0.5,-0x4b*-0x69+-0x9ee+0x14d5*-0x1+0.5)]];let XM=-0x1e51+0x8*0x385+-0x1*-0x229;class jM{constructor(_0x181318,_0x566e8f,_0x5acff1){this['light']=_0x5acff1,this['camera']=_0x181318,this['shadowCame'+'ra']=D0['createShad'+'owCamera'](_0x5acff1['_shadowTyp'+'e'],_0x5acff1['_type'],_0x566e8f),this['shadowMatr'+'ix']=new q(),this['shadowView'+'port']=new ee(-0xd73+-0x5ff+0x1372*0x1,0x2479+-0x1*0x1073+-0x1406,0x1*-0x21f+0xe8b*0x2+0x11*-0x196,-0x1e+-0x9*-0x219+-0x12c2),this['shadowScis'+'sor']=new ee(-0x4b*-0x59+-0x5c5+-0x71*0x2e,0x10*0x12f+-0x2035+0xd45,-0x16*0xb2+0x22a7*-0x1+0x1*0x31f4,-0x25e9+-0xb1+0x269b),this['projection'+'Compensati'+'on']=0x16f8+0x10b7*0x2+-0x3866,this['face']=_0x566e8f,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x11eef6=>{_0x11eef6['defaultUni'+'formBuffer']['destroy'](),_0x11eef6['destroy']();}),this['viewBindGr'+'oups']['length']=0x1bc3+0x1*0x176e+0xa3d*-0x5;}get['shadowBuff'+'er'](){const _0x48b3a8=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x48b3a8?this['light']['_isPcf']?_0x48b3a8['depthBuffe'+'r']:_0x48b3a8['colorBuffe'+'r']:null;}}class Ho{constructor(_0x2b3030,_0x552f90){c(this,'layers',new Set()),c(this,'clusteredL'+'ighting'),c(this,'shadowDept'+'hState',us['DEFAULT']['clone']()),(this['device']=_0x2b3030,this['clusteredL'+'ighting']=_0x552f90,this['id']=XM++,this['_type']=le,this['_color']=new Y(-0x2*0xd54+-0x8*0x362+-0x6*-0x8f4+0.8,0x8*0x15b+0x1f12+-0xb9*0x3a+0.8,0x99*-0x23+0x85f+0xc8c+0.8),this['_intensity']=0x14fc+0xa25+-0x1f20,this['_affectSpe'+'cularity']=!(-0x196*0xc+0x87d*0x1+0x1*0xa8b),this['_luminance']=0x1*-0x2201+-0x2*0x6e2+0x2fc5,this['_castShado'+'ws']=!(0x1eb5+0x1ec5*-0x1+0x11*0x1),this['_enabled']=!(-0x32*0x3+-0x628+0x6bf),this['_mask']=ms,this['isStatic']=!(-0x1a5d+-0x1963+0x1*0x33c1),this['key']=-0x1111+0x1799*-0x1+-0xf*-0x2b6,this['bakeDir']=!(0x1944+0x1607*-0x1+-0x33d),this['bakeNumSam'+'ples']=0x5*0x5d1+0x10d+-0x1e21,this['bakeArea']=0xa2d*-0x3+0x3*-0x47+0x1f5c,this['attenuatio'+'nStart']=0x1e0a+-0x4c7*-0x6+-0x3aaa,this['attenuatio'+'nEnd']=0x1540+-0x1910+0x3da,this['_falloffMo'+'de']=Cp,this['_shadowTyp'+'e']=zt,this['_vsmBlurSi'+'ze']=-0x1bc5+0x4f4+0x16dc,this['vsmBlurMod'+'e']=Mp,this['vsmBias']=(-0x1e85+0x24c8+0xe5*-0x7+0.01)*(0xdfa+0x11e3+-0xa9f*0x3+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=0x1*0x17ee+-0x1374+-0x479,this['_cookieFal'+'loff']=!(-0x1*0x789+-0x134e+0x1ad7),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0xa24*0x1+0x23be+-0x16ef*0x2),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x1068+0x23c5*0x1+-0x135b),this['_cookieTra'+'nsformSet']=!(-0x133c+0x200b*0x1+-0xcce),this['_cookieOff'+'setSet']=!(-0x10b1+0x2272+-0x8e*0x20),this['_innerCone'+'Angle']=-0xf01+-0x1a82+-0x1*-0x29ab,this['_outerCone'+'Angle']=0x138*0x4+-0xdf0+-0x5*-0x1d9,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=0xdf9*0x1+-0x1f4b*0x1+0x1153,this['_cascadeBl'+'end']=-0x1*-0x1cce+0x65*-0x22+-0xf64,this['cascadeDis'+'tribution']=0x448+-0x52d*-0x1+-0x975+0.5,this['_shape']=Tt,this['_colorLine'+'ar']=new Float32Array(0x929+0x5*0x7c+0x2*-0x5c9),this['_updateLin'+'earColor'](),this['_position']=new A(-0x5e*0x5+-0x1db6+0x1f8c,-0x55*-0x71+0x7a2*0x3+0x3c6b*-0x1,-0x1*-0x50d+0x1ff6+0x19*-0x17b),this['_direction']=new A(-0x1*-0x10d3+0x4d*0x2d+-0x1e5c,0x1*-0x125+0x12*0x91+-0x90d,0x8*-0x5e+-0x7a3+0xa93*0x1),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0x1025*0x1+0xcde+0x3fb)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(-0x1d10+0x1d1f+-0xf),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x4fb+0xa5e+-0xf31,this['_shadowRes'+'olution']=-0x2*0xa9+-0x32+0x2c2*0x2,this['_shadowBia'+'s']=-(-0x2*0xb0d+0x1b93+-0x579+0.0005),this['shadowInte'+'nsity']=0x1*0xf82+0x221c+-0x319d,this['_normalOff'+'setBias']=-0x1417+0x264+0x17*0xc5,this['shadowUpda'+'teMode']=Lp,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x641*0x4+0x24c+-0x1b4f),this['_isPcf']=!(-0x1*0x11ed+0x2ed+0x50*0x30),this['_softShado'+'wParams']=new Float32Array(0xced*-0x2+0x7*0x4db+-0x15*0x63),this['shadowSamp'+'les']=0xe*0x1af+-0x93b*0x1+-0xe47,this['shadowBloc'+'kerSamples']=0x26ea+0x351+-0x2a2b,this['penumbraSi'+'ze']=0x1*0x4fa+-0x903+0x40a,this['penumbraFa'+'lloff']=-0x362+0x265*-0x8+0xc7*0x1d,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x4c3+0x931*-0x1+0x46f),this['atlasVersi'+'on']=-0x66d+-0x24ba+0x2b27,this['atlasSlotI'+'ndex']=-0x2f1+0x6cd+-0x3dc,this['atlasSlotU'+'pdated']=!(0x631+0xbc*-0x10+0x590),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x5a7*-0x5+0x1069*0x2+0x1e8a*-0x2),this['maxScreenS'+'ize']=0x1*-0x10dd+-0x1c08+-0x9*-0x4fd,this['_updateSha'+'dowBias']());}['destroy'](){this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x4b0ab1=-0x9*-0x3a1+-0x795+-0x6*0x42e;_0x4b0ab1<this['_renderDat'+'a']['length'];_0x4b0ab1++)this['_renderDat'+'a'][_0x4b0ab1]['destroy']();this['_renderDat'+'a']['length']=-0x16f6*0x1+-0x1e08+0x6*0x8d5;}}['addLayer'](_0x1bd651){this['layers']['add'](_0x1bd651);}['removeLaye'+'r'](_0x872cc4){this['layers']['delete'](_0x872cc4);}set['shadowSamp'+'les'](_0x3a5df9){this['_softShado'+'wParams'][0x23d9+0x404+0x9d*-0x41]=_0x3a5df9;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x2c*0x8+-0xa35+0x77*0x13];}set['shadowBloc'+'kerSamples'](_0x126efb){this['_softShado'+'wParams'][0x2*0x133a+-0x14d8+-0x119b]=_0x126efb;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0x381*-0x1+-0x213b+0x1dbb];}set['shadowBias'](_0x1d3b58){this['_shadowBia'+'s']!==_0x1d3b58&&(this['_shadowBia'+'s']=_0x1d3b58,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x1e08f7){(!this['cascades']||this['numCascade'+'s']!==_0x1e08f7)&&(this['cascades']=qM[_0x1e08f7-(0x18f2+0x137*0x15+0x1*-0x3274)],this['_shadowMat'+'rixPalette']=new Float32Array((0xf50+0xa2d+-0x1979)*(0x14e3+0x291*-0xd+0xc8a)),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(0xaad+-0x1d45+0x4a7*0x4),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x1725a9){this['_cascadeBl'+'end']!==_0x1725a9&&(this['_cascadeBl'+'end']=_0x1725a9,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x1991d7){this['_shadowMap']!==_0x1991d7&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x1991d7);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x3b40d3){this['_mask']!==_0x3b40d3&&(this['_mask']=_0x3b40d3,this['updateKey']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x2a4bc4=this['_type'];return _0x2a4bc4===le?this['numCascade'+'s']:_0x2a4bc4===Le?-0x1*-0x82a+0x1e1c+-0x2*0x1320:0x9ca*-0x1+-0x27*0xbd+-0x2696*-0x1;}set['type'](_0xe9f4ea){if(this['_type']===_0xe9f4ea)return;this['_type']=_0xe9f4ea,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey']();const _0x246d47=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x246d47;}get['type'](){return this['_type'];}set['shape'](_0x109de8){if(this['_shape']===_0x109de8)return;this['_shape']=_0x109de8,this['_destroySh'+'adowMap'](),this['updateKey']();const _0x1eac03=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x1eac03;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x29c8b2){this['_usePhysic'+'alUnits']!==_0x29c8b2&&(this['_usePhysic'+'alUnits']=_0x29c8b2,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x22b997){if(this['_shadowTyp'+'e']===_0x22b997)return;const _0x1fdfe6=this['device'];_0x22b997===Rs&&!_0x1fdfe6['textureFlo'+'atRenderab'+'le']&&!_0x1fdfe6['textureHal'+'fFloatRend'+'erable']&&(_0x22b997=zt),this['_type']===Le&&_0x22b997!==Gh&&_0x22b997!==zt&&_0x22b997!==Hh&&_0x22b997!==Wh&&_0x22b997!==Rs&&(_0x22b997=zt),_0x22b997===$r&&(!_0x1fdfe6['textureFlo'+'atRenderab'+'le']||!_0x1fdfe6['textureFlo'+'atFilterab'+'le'])&&(_0x22b997=Wr),_0x22b997===Wr&&!_0x1fdfe6['textureHal'+'fFloatRend'+'erable']&&(_0x22b997=zt);const _0x392892=nr['get'](_0x22b997);this['_isVsm']=(_0x392892==null?void(0x21d2+-0x39b*-0x4+-0x19*0x1ee):_0x392892['vsm'])??!(0x9e*-0x19+-0xba6+0x1b15),this['_isPcf']=(_0x392892==null?void(0x1*-0x1558+0x1f06+-0x9ae):_0x392892['pcf'])??!(0x2165+0xa39+0x8b9*-0x5),this['_shadowTyp'+'e']=_0x22b997,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x4da538){this['_enabled']!==_0x4da538&&(this['_enabled']=_0x4da538,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x69f8b2){this['_castShado'+'ws']!==_0x69f8b2&&(this['_castShado'+'ws']=_0x69f8b2,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==ar&&this['_mask']!==-0xe4*0xf+-0x7bf*-0x1+0x59d;}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===ar;}set['shadowReso'+'lution'](_0x27e180){this['_shadowRes'+'olution']!==_0x27e180&&(this['_type']===Le?_0x27e180=Math['min'](_0x27e180,this['device']['maxCubeMap'+'Size']):_0x27e180=Math['min'](_0x27e180,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x27e180,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x454410){this['_vsmBlurSi'+'ze']!==_0x454410&&(_0x454410%(0x5c3*0x1+0x2164+-0x2725)===-0x1*-0x91d+0x1b7c+-0x2499&&_0x454410++,this['_vsmBlurSi'+'ze']=_0x454410);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x641818){if(this['_normalOff'+'setBias']!==_0x641818){const _0x22b50a=!this['_normalOff'+'setBias']&&_0x641818||this['_normalOff'+'setBias']&&!_0x641818;this['_normalOff'+'setBias']=_0x641818,_0x22b50a&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x30346e){this['_falloffMo'+'de']!==_0x30346e&&(this['_falloffMo'+'de']=_0x30346e,this['updateKey']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x50b963){this['_innerCone'+'Angle']!==_0x50b963&&(this['_innerCone'+'Angle']=_0x50b963,this['_innerCone'+'AngleCos']=Math['cos'](_0x50b963*Math['PI']/(0xbfc+0x4*-0x5b8+0xb98)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x500581){this['_outerCone'+'Angle']!==_0x500581&&(this['_outerCone'+'Angle']=_0x500581,this['_updateOut'+'erAngle'](_0x500581),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x5616e2){this['_penumbraS'+'ize']=_0x5616e2,this['_softShado'+'wParams'][0x1*0x8cd+-0x191a*-0x1+-0x21e5]=_0x5616e2;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x2f705a){this['_softShado'+'wParams'][-0x1e0b+0xb41+0x12cd]=_0x2f705a;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x6d7+0x2*0xdd1+-0x14c8];}['_updateOut'+'erAngle'](_0x44258c){const _0x34a385=_0x44258c*Math['PI']/(-0xbaa+0x14eb+-0x88d);this['_outerCone'+'AngleCos']=Math['cos'](_0x34a385),this['_outerCone'+'AngleSin']=Math['sin'](_0x34a385);}set['intensity'](_0x2a2fdd){this['_intensity']!==_0x2a2fdd&&(this['_intensity']=_0x2a2fdd,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x2649b1){this['_type']===le&&(this['_affectSpe'+'cularity']=_0x2649b1,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x1c106e){this['_luminance']!==_0x1c106e&&(this['_luminance']=_0x1c106e,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new q()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new ee(-0x97f*-0x1+0xf*0xec+-0x1753,0x5ba+0x5*0x607+0x1*-0x23dd,-0x1503+0x90*-0x2+-0x1624*-0x1,-0x1554+-0x1200+-0x2755*-0x1)),this['_atlasView'+'port'];}set['cookie'](_0x537034){this['_cookie']!==_0x537034&&(this['_cookie']=_0x537034,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x3c481c){this['_cookieFal'+'loff']!==_0x3c481c&&(this['_cookieFal'+'loff']=_0x3c481c,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x2644e3){if(this['_cookieCha'+'nnel']!==_0x2644e3){if(_0x2644e3['length']<0x19ae+0x2197+-0x3b42){const _0x244297=_0x2644e3['charAt'](_0x2644e3['length']-(-0x1*-0x1123+0x572+-0x1694)),_0xb454a2=-0x13b7+0x7a3+-0x5*-0x26b-_0x2644e3['length'];for(let _0x1b33ae=-0x1549+0x1221+0x328;_0x1b33ae<_0xb454a2;_0x1b33ae++)_0x2644e3+=_0x244297;}this['_cookieCha'+'nnel']=_0x2644e3,this['updateKey']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x4a67dc){this['_cookieTra'+'nsform']!==_0x4a67dc&&(this['_cookieTra'+'nsform']=_0x4a67dc,this['_cookieTra'+'nsformSet']=!!_0x4a67dc,_0x4a67dc&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new W(),this['_cookieOff'+'setSet']=!(-0x2*-0xdc9+-0xc7d+-0x2*0x78a)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0xa81438){if(this['_cookieOff'+'set']===_0xa81438)return;!!(this['_cookieTra'+'nsformSet']||_0xa81438)&&!_0xa81438&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x2200+0x1705+0x3905*-0x1,0x1*0xd06+-0x1*-0x165b+-0x2361*0x1):this['_cookieOff'+'set']=_0xa81438,this['_cookieOff'+'setSet']=!!_0xa81438,_0xa81438&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new ee(-0x4a*0x46+-0x1e49*0x1+0x2*0x1943,-0x2485*-0x1+0x24d0+0x26*-0x1ee,-0xb65*-0x1+0x1*-0x957+-0x20e,0x3*-0x266+-0x1*-0x72a+-0x2*-0x4),this['_cookieTra'+'nsformSet']=!(0x1*0x1025+-0x1162*0x2+0x10*0x12a)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===le&&this['_enabled'],this['maxScreenS'+'ize']=0x16*0xfd+-0x6b*0x4a+0x930,this['atlasViewp'+'ortAllocat'+'ed']=!(0xfc0+0x2099+-0x7*0x6e8),this['atlasSlotU'+'pdated']=!(0x1b37*0x1+-0x1a5*0xf+-0x28b);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===ks&&(this['shadowUpda'+'teMode']=un),this['shadowUpda'+'teOverride'+'s']){for(let _0x49c50c=-0x1*-0x1b91+0x1e59+-0x39ea;_0x49c50c<this['shadowUpda'+'teOverride'+'s']['length'];_0x49c50c++)this['shadowUpda'+'teOverride'+'s'][_0x49c50c]===ks&&(this['shadowUpda'+'teOverride'+'s'][_0x49c50c]=un);}}['getRenderD'+'ata'](_0xdfd8d7,_0x323b2c){for(let _0x3612c7=0x270*-0xb+0x1fb*-0x4+-0xc*-0x2e5;_0x3612c7<this['_renderDat'+'a']['length'];_0x3612c7++){const _0x5cb967=this['_renderDat'+'a'][_0x3612c7];if(_0x5cb967['camera']===_0xdfd8d7&&_0x5cb967['face']===_0x323b2c)return _0x5cb967;}const _0x57e645=new jM(_0xdfd8d7,_0x323b2c,this);return this['_renderDat'+'a']['push'](_0x57e645),_0x57e645;}['clone'](){const _0x552046=new Ho(this['device'],this['clusteredL'+'ighting']);return _0x552046['type']=this['_type'],_0x552046['setColor'](this['_color']),_0x552046['intensity']=this['_intensity'],_0x552046['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x552046['luminance']=this['_luminance'],_0x552046['castShadow'+'s']=this['castShadow'+'s'],_0x552046['_enabled']=this['_enabled'],_0x552046['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x552046['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x552046['falloffMod'+'e']=this['_falloffMo'+'de'],_0x552046['shadowType']=this['_shadowTyp'+'e'],_0x552046['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x552046['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x552046['vsmBias']=this['vsmBias'],_0x552046['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x552046['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x552046['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x552046['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x552046['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x552046['numCascade'+'s']=this['numCascade'+'s'],_0x552046['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x552046['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x552046['shape']=this['_shape'],_0x552046['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x552046['shadowBias']=this['shadowBias'],_0x552046['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x552046['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x552046['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x552046['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x552046['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x552046['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x552046['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x552046['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x552046;}static['getLightUn'+'itConversi'+'on'](_0x141b5a,_0x2979a1=Math['PI']/(-0x52f+-0x3*0x2ee+-0xdfd*-0x1),_0x452c82=-0xc17+0x167d+0xb*-0xf2){switch(_0x141b5a){case Fe:{const _0xfadbf2=Math['cos'](_0x2979a1),_0x20d708=Math['cos'](_0x452c82);return(-0x1cd0+-0x3*0x709+0x31ed)*Math['PI']*(0xb45+0x1684*-0x1+0x12*0xa0-_0x20d708+(_0x20d708-_0xfadbf2)/(-0xb9d+0x34d*0x7+-0x15*0x8c));}case Le:return(-0x76+0x15*-0x1a6+0x1*0x2318)*Math['PI'];case le:return 0x2267+0x1c21+-0x3e87*0x1;}}['_getUnifor'+'mBiasValue'+'s'](_0x1fd22a){const _0x43e4b2=_0x1fd22a['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Le:ai['bias']=this['shadowBias'],ai['normalBias']=this['_normalOff'+'setBias'];break;case Fe:this['_isVsm']?ai['bias']=-(-0xa*-0x1b1+0x1f49+-0x3033+0.00001)*(-0x1555+-0x16c1+0x2c2a):ai['bias']=this['shadowBias']*(0x2*0x1159+-0x1059+-0x1245),ai['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x20d0+-0x64d+0x7d4*0x5)):this['_normalOff'+'setBias'];break;case le:this['_isVsm']?ai['bias']=-(-0x199*-0xb+-0x26cb+0x1538+0.00001)*(0x6d5*-0x5+-0x1b*0x89+0x616*0x8):ai['bias']=this['shadowBias']/_0x43e4b2*(0x189b*0x1+0x15*0xe+-0x195d),ai['normalBias']=this['_isVsm']?this['vsmBias']/(_0x43e4b2/(-0x15b0+-0xc9*-0x1a+0x14d)):this['_normalOff'+'setBias'];break;}return ai;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x378de1){if(this['_type']===Fe){const _0x1847f9=this['attenuatio'+'nEnd'],_0x1d0abe=this['_outerCone'+'Angle'],_0x410e8d=this['_outerCone'+'AngleCos'],_0x3cbdec=this['_node'];Vl['copy'](_0x3cbdec['up']),_0x1d0abe>-0x1105+0x1*-0x1bed+0x2d1f?(_0x378de1['radius']=_0x1847f9*this['_outerCone'+'AngleSin'],Vl['mulScalar'](-_0x1847f9*_0x410e8d)):(_0x378de1['radius']=_0x1847f9/((-0x3*0x993+-0x2*-0xd85+-0x1*-0x1b1)*_0x410e8d),Vl['mulScalar'](-_0x378de1['radius'])),_0x378de1['center']['add2'](_0x3cbdec['getPositio'+'n'](),Vl);}else this['_type']===Le&&(_0x378de1['center']=this['_node']['getPositio'+'n'](),_0x378de1['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x4bc733){if(this['_type']===Fe){const _0x1cb2bc=this['attenuatio'+'nEnd'],_0x503b45=this['_outerCone'+'Angle'],_0x158183=this['_node'],_0x1803c6=Math['abs'](Math['sin'](_0x503b45*z['DEG_TO_RAD'])*_0x1cb2bc);_0x4bc733['center']['set'](-0x331*-0x2+0x13fb+0x1*-0x1a5d,-_0x1cb2bc*(-0x1*0x8a3+0x51b*-0x7+-0x4*-0xb18+0.5),0x36*0xd+0xd4a+0x201*-0x8),_0x4bc733['halfExtent'+'s']['set'](_0x1803c6,_0x1cb2bc*(0x17b1+0x1*0x1994+-0x3145+0.5),_0x1803c6),_0x4bc733['setFromTra'+'nsformedAa'+'bb'](_0x4bc733,_0x158183['getWorldTr'+'ansform'](),!(0xba0*0x2+0x5*0x581+-0x32c5));}else this['_type']===Le&&(_0x4bc733['center']['copy'](this['_node']['getPositio'+'n']()),_0x4bc733['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Le&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x11b3*0x1+-0x18e1*0x1+0x2a94,this['shadowDept'+'hState']['depthBiasS'+'lope']=-0x9f0+0xd78+0x71*-0x8;else{const _0x1ddbaf=this['shadowBias']*-(0x2564+-0x1f39+-0x243);this['shadowDept'+'hState']['depthBias']=_0x1ddbaf,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x1ddbaf;}}['_updateLin'+'earColor'](){let _0x5b6b29=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x5b6b29=this['_luminance']/Ho['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*z['DEG_TO_RAD'],this['_innerCone'+'Angle']*z['DEG_TO_RAD']));const _0x4114f1=this['_color'],_0x19d945=this['_colorLine'+'ar'];_0x5b6b29>=0x1*-0x4a1+0x1*-0x1418+0x18ba?Ja['linear'](_0x4114f1)['mulScalar'](_0x5b6b29):Ja['copy'](_0x4114f1)['mulScalar'](_0x5b6b29)['linear'](),_0x19d945[-0xaef+0xee8+0x3*-0x153]=Ja['r'],_0x19d945[0xf73*0x2+0xe5*-0x1+-0x1e00]=Ja['g'],_0x19d945[-0xd3*-0x2f+0x14*-0x56+0xb*-0x2e9]=Ja['b'];}['setColor'](){arguments['length']===0xa1e+0x28*-0x25+-0x455*0x1?this['_color']['set'](arguments[0x1f2d+-0x2b1*-0x1+-0x21de*0x1]['r'],arguments[0x4b7*-0x4+0x1*-0x1ff8+0x32d4]['g'],arguments[0x5b8+-0x17c4+0x120c]['b']):arguments['length']===0x5*0x59d+-0x15+-0x1bf9&&this['_color']['set'](arguments[-0x3f0+0x1b96+0x3*-0x7e2],arguments[0x1f*0xd+-0x1f2d*-0x1+-0x20bf],arguments[-0x6f9+0x25c4+-0x1ec9]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x5b65fa=>{_0x5b65fa['hasLight'](this)&&_0x5b65fa['markLights'+'Dirty']();});}['updateKey'](){let _0x13f6ea=this['_type']<<-0x760+0x42*0x5+-0x1*-0x633|this['_shadowTyp'+'e']<<0x1*-0x1309+-0x17*-0x3e+0xd90|this['_falloffMo'+'de']<<-0x5b8+-0x577+0xb46|(this['_normalOff'+'setBias']!==-0x1*0x269d+0x1703+-0x7cd*-0x2?0x1a74+-0x1*0x2643+0xbd0:0x24af+0x9*-0x308+-0x53*0x1d)<<-0xfb4+0x820*-0x3+0x282a*0x1|(this['_cookie']?-0x2fe*0xb+-0x15ad+-0x6d3*-0x8:0x962+0x1d6b+-0x26cd)<<-0xb74*-0x1+0x4*-0x868+-0x1b*-0xd3|(this['_cookieFal'+'loff']?-0xbd9+-0x1292+0xec*0x21:-0x8fc+-0x199+0xa95)<<0xc36*0x2+0x269e*-0x1+0xae*0x15|Wd[this['_cookieCha'+'nnel']['charAt'](-0x41d*0x8+-0x1414+0x34fc)]<<-0x1*0x1b83+-0xa1*-0x29+0x1cc|(this['_cookieTra'+'nsform']?-0x1189*-0x1+-0xeb2+-0x79*0x6:0x1b04+0x49*-0xd+0x15f*-0x11)<<0x3*0x539+0xa9f*-0x3+-0x1b*-0x9a|this['_shape']<<0x16f6+0x79a*0x5+-0x2*0x1e77|(this['numCascade'+'s']>-0x2bb*0x1+0x16f5*0x1+0xa1d*-0x2?-0x1*0x15eb+0xa27+-0x17*-0x83:-0xcd1+-0xc72+0x1943)<<0x128+-0x10c1+0xfa2|(this['_cascadeBl'+'end']>0x9*-0x1ca+-0x288+0x12a2?-0xc27+-0xc*-0x30+0x4f4*0x2:-0x1710+0x2b*0x2f+0xf2b)<<0x11*-0x10b+-0x23e4*-0x1+-0x27*0x77|(this['affectSpec'+'ularity']?0x6*0x5bc+-0x1d93+-0x4d4:-0x13e3+-0xd29+0x234*0xf)<<-0xe36*-0x2+-0x8ed+-0x8*0x26f|this['mask']<<0x21e6+-0x1*-0x1bcd+-0x3*0x148f|(this['_castShado'+'ws']?-0x144e+0x143*-0x1+0x1592:-0x7a5+0x7da+0x35*-0x1)<<-0x1cc5+0x2*-0x12a0+0x4208;this['_cookieCha'+'nnel']['length']===-0x2186*-0x1+-0x1*0x1dc5+0x1df*-0x2&&(_0x13f6ea|=Wd[this['_cookieCha'+'nnel']['charAt'](-0x112f+-0x23b*0x10+0x34e0)]<<0xb4f+0x1307+-0x1e46,_0x13f6ea|=Wd[this['_cookieCha'+'nnel']['charAt'](-0xb*-0x65+-0x1*-0x291+0x373*-0x2)]<<0x1*0x1fe1+-0x11*-0x1e0+0x3fb3*-0x1),_0x13f6ea!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x13f6ea;}}class F0{constructor(_0x17998c,_0x35e6f1,_0x5b3c04){c(this,'_areaLight'+'sEnabled',!(-0xd*0x191+-0x1f6d+0x33cb*0x1)),c(this,'_cells',new A(0x1db+-0x67f*-0x3+-0x2*0xaa7,0xa98+-0x1*-0xf9f+-0x1a34*0x1,0x1e77*0x1+-0x1474+0x45*-0x25)),c(this,'_maxLights'+'PerCell',0x1f3*-0xb+-0x1*-0x2133+-0xac3),c(this,'_shadowsEn'+'abled',!(0x1*0x297+-0xa9c+0x805)),c(this,'_shadowTyp'+'e',zt),c(this,'_shadowAtl'+'asResoluti'+'on',-0x1*-0x1a4d+0x229e+-0x13*0x2c9),c(this,'_cookiesEn'+'abled',!(-0x1e72+0x1*-0x912+0x97*0x43)),c(this,'_cookieAtl'+'asResoluti'+'on',0x5b*0x3f+0x631+0xa*-0x20f),c(this,'debugLayer'),c(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x17998c,this['_maxTextur'+'eSize']=_0x35e6f1,this['_dirtyLigh'+'tsFnc']=_0x5b3c04);}['applySetti'+'ngs'](_0x52bd43){this['shadowsEna'+'bled']=_0x52bd43['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x52bd43['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x52bd43['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x52bd43['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x52bd43['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x52bd43['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x52bd43['lightingSh'+'adowType']??this['shadowType'],_0x52bd43['lightingCe'+'lls']&&(this['cell']=new A(_0x52bd43['lightingCe'+'lls']));}set['cells'](_0x101388){this['_cells']['copy'](_0x101388);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x56f8e4){this['_maxLights'+'PerCell']=z['clamp'](_0x56f8e4,0xce7+-0x3*-0x71+-0xe39,-0x222c+0x2b0+0x207b);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x264996){this['_cookieAtl'+'asResoluti'+'on']=z['clamp'](_0x264996,-0x6fd+-0x1be9+0x2*0x1183,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x2f599b){this['_shadowAtl'+'asResoluti'+'on']=z['clamp'](_0x2f599b,0x5*0x43f+0x1bee+-0x3109,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x5a633f){this['_shadowTyp'+'e']!==_0x5a633f&&(this['_shadowTyp'+'e']=_0x5a633f,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x19a455){this['_cookiesEn'+'abled']!==_0x19a455&&(this['_cookiesEn'+'abled']=_0x19a455,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x51f08b){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x51f08b&&(this['_areaLight'+'sEnabled']=_0x51f08b,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x289b0a){this['_shadowsEn'+'abled']!==_0x289b0a&&(this['_shadowsEn'+'abled']=_0x289b0a,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}const YM='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20',KM=new bt(!(-0x3*0xb1b+0x65*0x19+0x1774),Ut,ct,ct);class mn{constructor(_0x444dde){c(this,'shaderCach'+'e',[]),(this['morph']=_0x444dde,_0x444dde['incRefCoun'+'t'](),this['device']=_0x444dde['device'],this['_weights']=[],this['_weightMap']=new Map());for(let _0x3b075d=-0x136*0x1c+-0x53*0x1+-0x17d*-0x17;_0x3b075d<_0x444dde['_targets']['length'];_0x3b075d++){const _0x29c1a2=_0x444dde['_targets'][_0x3b075d];_0x29c1a2['name']&&this['_weightMap']['set'](_0x29c1a2['name'],_0x3b075d),this['setWeight'](_0x3b075d,_0x29c1a2['defaultWei'+'ght']);}this['_activeTar'+'gets']=[],this['maxSubmitC'+'ount']=this['device']['maxTexture'+'s'],this['_shaderMor'+'phWeights']=new Float32Array(this['maxSubmitC'+'ount']);const _0x483b5a=(_0x1cad92,_0x47f849)=>(this[_0x47f849]=_0x444dde['_createTex'+'ture'](_0x1cad92,_0x444dde['_renderTex'+'tureFormat']),new St({'colorBuffer':this[_0x47f849],'depth':!(-0xb2b+0x1a34+-0xf08)}));_0x444dde['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x483b5a('MorphRTPos','texturePos'+'itions')),_0x444dde['morphNorma'+'ls']&&(this['rtNormals']=_0x483b5a('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x444dde['morphTextu'+'reWidth'],_0x444dde['morphTextu'+'reHeight']]);const _0x236d6f=_0x444dde['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x236d6f['x']*(0x1a9d*0x1+-0x1147*0x1+-0x952),_0x236d6f['y']*(0xa3f+-0xf*-0x133+-0x1c38),_0x236d6f['z']*(-0x10b5+0x8f5*-0x1+0x19ae)]);const _0xe94943=_0x444dde['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0xe94943['x']*(0x1dfa+-0x1ff3+0x1fb*0x1),_0xe94943['y']*(0x1d73+0x6*-0x21d+-0x10c3),_0xe94943['z']*(-0xce9+-0x15b7+0x1a*0x155)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0x7*0x4c9+-0x460+-0x1*-0x25e1,-0x2565+-0x1*0x187f+0x3de6,0x18*-0x164+0x1*-0x1839+0x399b]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x2e3+-0x15a3*-0x1+-0x12bf),-(-0xe39+-0x1e*0x4+0xeb2),-(-0x1d8+-0x2a6+0x47f)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin');for(let _0x80841f=-0x1088+0xa80+0x608;_0x80841f<this['maxSubmitC'+'ount'];_0x80841f++)this['morphBlend'+'Tex'+_0x80841f]=this['device']['scope']['resolve']('morphBlend'+'Tex'+_0x80841f);this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['zeroTextur'+'es']=!(-0xe09+-0x187b+0x13*0x207);}['destroy'](){this['shader']=null;const _0x50a2cf=this['morph'];_0x50a2cf&&(this['morph']=null,_0x50a2cf['decRefCoun'+'t'](),_0x50a2cf['refCount']<-0x25aa+0x2569+0x42&&_0x50a2cf['destroy']()),this['rtPosition'+'s']&&(this['rtPosition'+'s']['destroy'](),this['rtPosition'+'s']=null),this['texturePos'+'itions']&&(this['texturePos'+'itions']['destroy'](),this['texturePos'+'itions']=null),this['rtNormals']&&(this['rtNormals']['destroy'](),this['rtNormals']=null),this['textureNor'+'mals']&&(this['textureNor'+'mals']['destroy'](),this['textureNor'+'mals']=null);}['clone'](){return new mn(this['morph']);}['_getWeight'+'Index'](_0xecbcc2){if(typeof _0xecbcc2=='string'){const _0x4e316b=this['_weightMap']['get'](_0xecbcc2);return _0x4e316b===void(0xf64+-0x1*-0x1155+0x20b9*-0x1)&&b['error']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0xecbcc2+'.'),_0x4e316b;}return _0xecbcc2;}['getWeight'](_0x170d5a){const _0x257a72=this['_getWeight'+'Index'](_0x170d5a);return this['_weights'][_0x257a72];}['setWeight'](_0x5760ba,_0x5a352d){const _0x33183b=this['_getWeight'+'Index'](_0x5760ba);b['assert'](_0x33183b>=-0x2f2*0xb+-0x1536+0x4*0xd67&&_0x33183b<this['morph']['_targets']['length']),this['_weights'][_0x33183b]=_0x5a352d,this['_dirty']=!(-0x628+0x142+0x4e6);}['_getFragme'+'ntShader'](_0xe6ffef){let _0x2369f7='',_0x3f40db='';for(let _0xe724b6=-0x20b*-0x8+-0xc10*-0x2+-0x2878;_0xe724b6<_0xe6ffef;_0xe724b6++)_0x2369f7+='uniform\x20hi'+'ghp\x20sample'+'r2D\x20morphB'+'lendTex'+_0xe724b6+';',_0x3f40db+='color.xyz\x20'+'+=\x20morphFa'+'ctor['+_0xe724b6+(']\x20*\x20textur'+'e2D(morphB'+'lendTex')+_0xe724b6+(',\x20uv0).xyz'+';');return'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20'+(this['morph']['intRenderF'+'ormat']?'#define\x20MO'+'RPH_INT':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+(_0xe6ffef>-0x2c*0xb2+0xc65+0x1233*0x1?'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r['+_0xe6ffef+'];':'')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')+_0x2369f7+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPH_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec3\x20'+'aabbSize;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'void\x20main\x20'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20highp'+'\x20vec4\x20colo'+'r\x20=\x20vec4(0'+',\x200,\x200,\x201)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20')+_0x3f40db+('\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'.xyz\x20=\x20(co'+'lor.xyz\x20-\x20'+'aabbMin)\x20/'+'\x20aabbSize\x20'+'*\x2065535.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20uvec'+'4(color);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20col'+'or;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['_getShader'](_0xe6e998){let _0x3a0b3b=this['shaderCach'+'e'][_0xe6e998];if(!_0x3a0b3b){const _0x5cac35=this['_getFragme'+'ntShader'](_0xe6e998),_0x7ce1f=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';_0x3a0b3b=Bs(this['device'],YM,_0x5cac35,'textureMor'+'ph'+_0xe6e998,void(0x615+-0x1318+0xd03),{'fragmentOutputTypes':[_0x7ce1f]}),this['shaderCach'+'e'][_0xe6e998]=_0x3a0b3b;}return _0x3a0b3b;}['_updateTex'+'tureRender'+'Target'](_0x5e7c45,_0x50298f,_0x5e1138){const _0x4f5460=this['device'],_0x391d84=(_0x18962e,_0x212820)=>{this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),_0x4f5460['setBlendSt'+'ate'](_0x212820?KM:bt['NOBLEND']);const _0x315880=this['_getShader'](_0x18962e);fn(_0x4f5460,_0x5e7c45,_0x315880);};this['setAabbUni'+'forms'](_0x5e1138);let _0x1b31e7=-0x26a3+0x1*-0x81b+0x3e*0xc1,_0x680824=!(-0xee1*0x1+0x825+0x6bd);const _0x2b7e9f=this['_activeTar'+'gets']['length'];for(let _0x124944=-0xb9+-0x1*0x26dd+0x12*0x233;_0x124944<_0x2b7e9f;_0x124944++){const _0x1c84e9=this['_activeTar'+'gets'][_0x124944],_0x878c8b=_0x1c84e9['target'][_0x50298f];_0x878c8b&&(this['morphBlend'+'Tex'+_0x1b31e7]['setValue'](_0x878c8b),this['_shaderMor'+'phWeights'][_0x1b31e7]=_0x1c84e9['weight'],_0x1b31e7++,_0x1b31e7>=this['maxSubmitC'+'ount']&&(_0x391d84(_0x1b31e7,_0x680824),_0x1b31e7=0x1d36+0x1*-0x66b+-0x799*0x3,_0x680824=!(0xc1*0x28+-0x228*-0xa+0x2*-0x19dc)));}(_0x1b31e7>-0x10e0+0x23e3*-0x1+0x34c3||_0x2b7e9f===-0x11d3+-0x14ef*0x1+0x26c2&&!this['zeroTextur'+'es'])&&_0x391d84(_0x1b31e7,_0x680824);}['_updateTex'+'tureMorph'](){const _0x58d194=this['device'];G['pushGpuMar'+'ker'](_0x58d194,'MorphUpdat'+'e'),(this['_activeTar'+'gets']['length']>-0x7a*0x3a+0x1dcf+-0x6f*0x5||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],'texturePos'+'itions',!(0x1f5*0x2+-0x64b*-0x2+-0x1080)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],'textureNor'+'mals',!(-0xc*0x2f3+0x724+-0x1c41*-0x1)),this['zeroTextur'+'es']=this['_activeTar'+'gets']['length']===-0x1caa+-0x258c+0x4236),G['popGpuMark'+'er'](_0x58d194);}['setAabbUni'+'forms'](_0x2882cf=!(0x1e78+0x144*-0x14+0x58*-0xf)){this['aabbSizeId']['setValue'](_0x2882cf?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x2882cf?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x10d2b0){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(-0x3*0xbae+-0x1*0xb39+0x292*0x12);const _0x2a4a47=this['morph']['_targets'];let _0x1f4325=0x2196+-0x1*-0x2639+-0x1*0x47cf;const _0x2b83ca=-0x16*-0xf+0x1589+-0x16d3+0.00001;for(let _0x32aa78=0x8*-0x26d+0x669*0x3+0x2d;_0x32aa78<_0x2a4a47['length'];_0x32aa78++){const _0x103ac8=Math['abs'](this['getWeight'](_0x32aa78));if(_0x103ac8>_0x2b83ca){this['_activeTar'+'gets']['length']<=_0x1f4325&&(this['_activeTar'+'gets'][_0x1f4325]={});const _0x4a4e5e=this['_activeTar'+'gets'][_0x1f4325++];_0x4a4e5e['absWeight']=_0x103ac8,_0x4a4e5e['weight']=this['getWeight'](_0x32aa78),_0x4a4e5e['target']=_0x2a4a47[_0x32aa78];}}this['_activeTar'+'gets']['length']=_0x1f4325,this['morph']['intRenderF'+'ormat']&&this['_activeTar'+'gets']['length']>this['maxSubmitC'+'ount']&&(this['_activeTar'+'gets']['sort']((_0x5c6e7b,_0x3eaacd)=>_0x5c6e7b['absWeight']<_0x3eaacd['absWeight']?-0x1b6d+-0x542+0x416*0x8:_0x3eaacd['absWeight']<_0x5c6e7b['absWeight']?-(-0x1dde*0x1+0x2257+0xd*-0x58):0x27*0x77+0x4*-0x344+-0x511),this['_activeTar'+'gets']['length']=this['maxSubmitC'+'ount']),this['_updateTex'+'tureMorph']();}}class Ui{constructor(){c(this,'graph',null),c(this,'meshInstan'+'ces',[]),c(this,'skinInstan'+'ces',[]),c(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=0x1*-0x9a9+0x362*0xa+0x17*-0x10d,this['_immutable']=!(0x149+0x1f68+-0x4*0x82c));}['getGraph'](){return this['graph'];}['setGraph'](_0xf02c00){this['graph']=_0xf02c00;}['getCameras'](){return this['cameras'];}['setCameras'](_0x291267){this['cameras']=_0x291267;}['getLights'](){return this['lights'];}['setLights'](_0xe855d0){this['lights']=_0xe855d0;}['getMateria'+'ls'](){const _0x5d7a74=[];for(let _0x489f71=-0x2579*-0x1+-0x1201+-0x26f*0x8;_0x489f71<this['meshInstan'+'ces']['length'];_0x489f71++){const _0x2b892c=this['meshInstan'+'ces'][_0x489f71];_0x5d7a74['indexOf'](_0x2b892c['material'])===-(0xaa8+0x15d7+-0x103f*0x2)&&_0x5d7a74['push'](_0x2b892c['material']);}return _0x5d7a74;}['clone'](){const _0x14ca95=[],_0x348b84=[],_0x5f72d4=function(_0x5901a9){const _0x17159a=_0x5901a9['clone']();_0x14ca95['push'](_0x5901a9),_0x348b84['push'](_0x17159a);for(let _0x1514b4=0x4be*-0x1+-0x14a6+0x1964;_0x1514b4<_0x5901a9['_children']['length'];_0x1514b4++)_0x17159a['addChild'](_0x5f72d4(_0x5901a9['_children'][_0x1514b4]));return _0x17159a;},_0xce1802=_0x5f72d4(this['graph']),_0xa8324c=[],_0x10d616=[],_0x55c539=[];for(let _0x2b1fcd=0x5be+0x1*0xffa+-0x116*0x14;_0x2b1fcd<this['skinInstan'+'ces']['length'];_0x2b1fcd++){const _0x424923=this['skinInstan'+'ces'][_0x2b1fcd]['skin'],_0x5d360d=new hl(_0x424923),_0x44d4ed=[];for(let _0x365720=0x2033*0x1+0x1a1*0xf+0x38a2*-0x1;_0x365720<_0x424923['boneNames']['length'];_0x365720++){const _0x41a0ce=_0x424923['boneNames'][_0x365720],_0x2eabde=_0xce1802['findByName'](_0x41a0ce);_0x44d4ed['push'](_0x2eabde);}_0x5d360d['bones']=_0x44d4ed,_0x10d616['push'](_0x5d360d);}for(let _0x4785a3=-0x226b+0x6b*-0x3b+0x3b14*0x1;_0x4785a3<this['morphInsta'+'nces']['length'];_0x4785a3++){const _0x199b9b=this['morphInsta'+'nces'][_0x4785a3]['morph'],_0x5ac3f3=new mn(_0x199b9b);_0x55c539['push'](_0x5ac3f3);}for(let _0x221e8d=0xf5e+0x203*-0xf+-0xecf*-0x1;_0x221e8d<this['meshInstan'+'ces']['length'];_0x221e8d++){const _0x29ff21=this['meshInstan'+'ces'][_0x221e8d],_0x5d7204=_0x14ca95['indexOf'](_0x29ff21['node']),_0x4e1745=new Be(_0x29ff21['mesh'],_0x29ff21['material'],_0x348b84[_0x5d7204]);if(_0x29ff21['skinInstan'+'ce']){const _0x11a8c5=this['skinInstan'+'ces']['indexOf'](_0x29ff21['skinInstan'+'ce']);_0x4e1745['skinInstan'+'ce']=_0x10d616[_0x11a8c5];}if(_0x29ff21['morphInsta'+'nce']){const _0x584141=this['morphInsta'+'nces']['indexOf'](_0x29ff21['morphInsta'+'nce']);_0x4e1745['morphInsta'+'nce']=_0x55c539[_0x584141];}_0xa8324c['push'](_0x4e1745);}const _0x6b33d=new Ui();return _0x6b33d['graph']=_0xce1802,_0x6b33d['meshInstan'+'ces']=_0xa8324c,_0x6b33d['skinInstan'+'ces']=_0x10d616,_0x6b33d['morphInsta'+'nces']=_0x55c539,_0x6b33d['getGraph']()['syncHierar'+'chy'](),_0x6b33d;}['destroy'](){const _0x33379e=this['meshInstan'+'ces'];for(let _0x1076d0=0x1a92+-0x13a2*-0x1+-0x2e34;_0x1076d0<_0x33379e['length'];_0x1076d0++)_0x33379e[_0x1076d0]['destroy']();this['meshInstan'+'ces']['length']=-0x9fb+-0x4f*-0xc+0x647;}['generateWi'+'reframe'](){Be['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],Lr);}}class k0 extends qc{constructor(_0x4946e0,_0x94b5ce,{preferHighPrecision:_0x46b460=!(-0x9*0x371+0x11b9*0x2+-0x478)}={}){super(),c(this,'_aabb'),c(this,'preferHigh'+'Precision'),(b['assert'](_0x94b5ce,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x94b5ce,this['preferHigh'+'Precision']=_0x46b460,b['assert'](_0x4946e0['every'](_0x407a18=>!_0x407a18['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x4946e0['slice']());const _0xce7736=this['device'],_0x18086f=_0xce7736['textureHal'+'fFloatRend'+'erable']?it:void(-0x2626+0x1788+0x74f*0x2),_0x360c22=_0xce7736['textureFlo'+'atRenderab'+'le']?et:void(-0x1805+0x2351*0x1+-0xb4c);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x360c22??_0x18086f:_0x18086f??_0x360c22,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??Rc,this['intRenderF'+'ormat']=sa(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Ac:it,this['_init'](),this['_updateMor'+'phFlags']();}get['aabb'](){if(!this['_aabb']){const _0x3ff755=new A(),_0x14bcfa=new A();for(let _0x430b1a=0x1*-0x1a9b+0xb*0x277+-0x82;_0x430b1a<this['_targets']['length'];_0x430b1a++){const _0x32b98a=this['_targets'][_0x430b1a]['aabb'];_0x3ff755['min'](_0x32b98a['getMin']()),_0x14bcfa['max'](_0x32b98a['getMax']());}this['_aabb']=new ve(),this['_aabb']['setMinMax'](_0x3ff755,_0x14bcfa);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x311d75=-0xbb*0xa+0xb72+-0x424;_0x311d75<this['_targets']['length'];_0x311d75++)this['_targets'][_0x311d75]['_postInit']();}['_findSpars'+'eSet'](_0x5a0adb,_0x121866,_0x4a0be4){let _0x4edd4b=-0xf35+0x3fe+-0x167*-0x8;const _0x180e6e=_0x5a0adb[0x2*-0x136+-0x1f14+0x2180*0x1]['length'];for(let _0x3f6e0f=-0x1132+0x989+0x7a9;_0x3f6e0f<_0x180e6e;_0x3f6e0f+=-0x2580+0x382*-0x2+-0x2c87*-0x1){let _0x5b1870=!(-0x4d*0x9+0xf1e+-0x4*0x31a);for(let _0x4a89aa=-0xec6+0x17f9*0x1+0x5*-0x1d7;_0x4a89aa<_0x5a0adb['length'];_0x4a89aa++){const _0x493620=_0x5a0adb[_0x4a89aa];if(_0x493620[_0x3f6e0f]!==-0xc41*0x1+0xc6c+-0x2b||_0x493620[_0x3f6e0f+(-0x747+-0x1597+0x1cdf)]!==-0x1205*-0x1+0x1045+-0x224a||_0x493620[_0x3f6e0f+(0x18f5*0x1+-0x209a+0x1*0x7a7)]!==0x1a2f+0x20a1*-0x1+0x672){_0x5b1870=!(0x3*0xc8f+0xb47*-0x3+-0x3d8);break;}}_0x5b1870?(_0x121866['push'](_0x4edd4b),_0x4a0be4['push'](_0x3f6e0f/(0x1*0x12ad+0x2d*0x2+-0x1304)),_0x4edd4b++):_0x121866['push'](0x259c+-0xe61+-0x139*0x13);}return _0x4edd4b;}['_initTextu'+'reBased'](){const _0x305be1=[],_0x404988=[];for(let _0x3d7a33=-0x101a+0xf95+0x85;_0x3d7a33<this['_targets']['length'];_0x3d7a33++){const _0x1ccc41=this['_targets'][_0x3d7a33];_0x1ccc41['options']['deltaPosit'+'ions']&&(_0x305be1['push'](_0x1ccc41['options']['deltaPosit'+'ions']),_0x404988['push']({'target':_0x1ccc41,'name':'texturePos'+'itions'})),_0x1ccc41['options']['deltaNorma'+'ls']&&(_0x305be1['push'](_0x1ccc41['options']['deltaNorma'+'ls']),_0x404988['push']({'target':_0x1ccc41,'name':'textureNor'+'mals'}));}const _0x451209=[],_0x35d950=[],_0x507ead=this['_findSpars'+'eSet'](_0x305be1,_0x451209,_0x35d950),_0x26bef8=this['device']['maxTexture'+'Size'];let _0x1647c2=Math['ceil'](Math['sqrt'](_0x507ead));_0x1647c2=Math['min'](_0x1647c2,_0x26bef8);const _0x5e7cd8=Math['ceil'](_0x507ead/_0x1647c2);if(_0x5e7cd8>_0x26bef8)return!(-0x17c3+0x25c2+-0xdfe);this['morphTextu'+'reWidth']=_0x1647c2,this['morphTextu'+'reHeight']=_0x5e7cd8;let _0x1dbea3=!(-0x433*-0x5+-0x4*-0x91+-0x1a*0xe5),_0x45c0a9=0x20f0+-0x1a52+-0x69b;const _0x54d079=Bt['float2Half'];this['_textureFo'+'rmat']===it&&(_0x1dbea3=!(0x816+-0x1*-0x26a9+-0x2ebf),_0x45c0a9=-0x1f09+0xa53*0x1+-0x14ba*-0x1);const _0xbe9b01=[];for(let _0x46da09=0x1*0x2089+-0x2532+0x4a9*0x1;_0x46da09<_0x305be1['length'];_0x46da09++)_0xbe9b01['push'](this['_createTex'+'ture']('MorphTarge'+'t',this['_textureFo'+'rmat']));for(let _0x51f209=-0x24d6+-0x3*0x5b+0x25e7;_0x51f209<_0x305be1['length'];_0x51f209++){const _0x1b4230=_0x305be1[_0x51f209],_0x474dd4=_0xbe9b01[_0x51f209],_0x269482=_0x474dd4['lock']();if(_0x1dbea3)for(let _0x126f04=-0x107*0x3+0x5*-0x407+0x1738;_0x126f04<_0x35d950['length'];_0x126f04++){const _0x2336f9=_0x35d950[_0x126f04]*(0x2538*0x1+0x20*0xb5+-0x3bd5),_0x4a9fad=_0x126f04*_0x45c0a9+_0x45c0a9;_0x269482[_0x4a9fad]=_0x54d079(_0x1b4230[_0x2336f9]),_0x269482[_0x4a9fad+(0x26*0xca+-0x1467+-0x994*0x1)]=_0x54d079(_0x1b4230[_0x2336f9+(-0x8cb*-0x3+-0xe6*0x25+0x6de*0x1)]),_0x269482[_0x4a9fad+(0xb*0x2a2+0x1bad+-0x38a1*0x1)]=_0x54d079(_0x1b4230[_0x2336f9+(0x32*-0x22+0x2342+-0x1c9c)]);}else for(let _0x42ad0d=0x2045+-0x1*0x277+-0x1dce;_0x42ad0d<_0x35d950['length'];_0x42ad0d++){const _0x42ae38=_0x35d950[_0x42ad0d]*(0xf19+0xcef*0x3+-0x1f*0x1bd),_0xbb4834=_0x42ad0d*_0x45c0a9+_0x45c0a9;_0x269482[_0xbb4834]=_0x1b4230[_0x42ae38],_0x269482[_0xbb4834+(0xa31*-0x3+-0xcb4+0x4*0xad2)]=_0x1b4230[_0x42ae38+(-0x13*-0x1bb+-0x1*-0x35+-0x2115)],_0x269482[_0xbb4834+(0x2078+0x19b7+0x3a2d*-0x1)]=_0x1b4230[_0x42ae38+(-0x135a+0xdb2+0x5aa)];}_0x474dd4['unlock'](),_0x404988[_0x51f209]['target']['_setTextur'+'e'](_0x404988[_0x51f209]['name'],_0x474dd4);}const _0x1f5d0f=[{'semantic':va,'components':0x1,'type':Oo,'asInt':!(-0x1*0xeb3+-0x212e+0x2fe1)}];return this['vertexBuff'+'erIds']=new fs(this['device'],new Dt(this['device'],_0x1f5d0f,_0x451209['length']),_0x451209['length'],{'data':new Uint32Array(_0x451209)}),!(0x806+-0x1*0x1607+0xe01);}['destroy'](){var _0x204b49;(_0x204b49=this['vertexBuff'+'erIds'])==null||_0x204b49['destroy'](),this['vertexBuff'+'erIds']=null;for(let _0x502f4f=0x1e39+0x1*0xa3+0x64*-0x4f;_0x502f4f<this['_targets']['length'];_0x502f4f++)this['_targets'][_0x502f4f]['destroy']();this['_targets']['length']=-0x1*0x244e+0xb*-0x27+-0x1cf*-0x15;}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x197c+-0x67*-0x56+-0x1*0x91d),this['_morphNorm'+'als']=!(-0x1de+0x13aa+-0x11cb*0x1);for(let _0x239eb=-0x1*-0x76a+0x395*0x4+-0x15be;_0x239eb<this['_targets']['length'];_0x239eb++){const _0x19de0a=this['_targets'][_0x239eb];_0x19de0a['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0xe46+-0x100f*-0x1+-0x1c9*0x1)),_0x19de0a['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(0x17eb*-0x1+-0x3*0xbd3+-0x16a*-0x2a));}}['_createTex'+'ture'](_0x54e3f5,_0x1a58bd){return new ce(this['device'],{'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x1a58bd,'cubemap':!(-0x5*-0x60d+-0x25f+-0xb7*0x27),'mipmaps':!(0x2*-0x283+0x150a+-0x1003),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':_0x54e3f5});}}class sd{constructor(_0x22d7f8){c(this,'used',!(-0xa*-0x205+-0x5f*0xf+-0x1*0xea0)),(b['assert'](arguments['length']===-0x34c*0x7+-0x3*0xa0a+0x3533*0x1),this['options']=_0x22d7f8,this['_name']=_0x22d7f8['name'],this['_defaultWe'+'ight']=_0x22d7f8['defaultWei'+'ght']||0x2501+-0x2243*0x1+0x27*-0x12,this['_aabb']=_0x22d7f8['aabb'],this['deltaPosit'+'ions']=_0x22d7f8['deltaPosit'+'ions']);}['destroy'](){var _0x2aac94,_0x3a01a1;(_0x2aac94=this['texturePos'+'itions'])==null||_0x2aac94['destroy'](),this['texturePos'+'itions']=null,(_0x3a01a1=this['textureNor'+'mals'])==null||_0x3a01a1['destroy'](),this['textureNor'+'mals']=null;}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new ve(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}get['morphPosit'+'ions'](){return!!this['texturePos'+'itions'];}get['morphNorma'+'ls'](){return!!this['textureNor'+'mals'];}['clone'](){return b['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new sd(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0xefe+-0x2641+-0x7c1*-0x3);}['_setTextur'+'e'](_0x2785a0,_0x19b275){this[_0x2785a0]=_0x19b275;}}let oi,b_=-0x95c+-0x26fa+-0x339*-0xf;const re=-0xaa3*-0x3+-0x170b+-0xce*0xb,$d=new q(),qd=new q(),Vs=new A(),He=new A(),Ss=new A(),Dn=new A(),qt=new A(),tt=new A(),Ln=new A(),Fn=new A(),eo=new A(),w_=new A(),Ct=new A(),Gl=new A(),Tr=new A();function na(_0x1e9cce){return _0x1e9cce-Math['floor'](_0x1e9cce);}function ZM(_0x27f41b){return Math['max'](Math['min'](_0x27f41b,-0x503*0x6+0x44f+0x1*0x19c4),0x5*0x41+-0xd87*0x1+0xc42);}function Xd(_0x439fbf,_0x2dce4e){return _0x439fbf-_0x2dce4e*Math['floor'](_0x439fbf/_0x2dce4e);}function QM(_0xce2589){let _0x1ab27b=na(_0xce2589),_0x6f87b1=na((-0xab7+0x1a7c+-0x1f*0x7a)*_0xce2589),_0xdd443a=na((-0x1c60+0x1b435*-0x1+0x2ce96)*_0xce2589),_0x4bb3fe=na((0x22*0x2a006a+-0xc18acff+0x92c6a*0x1c1)*_0xce2589);return _0x1ab27b-=_0x6f87b1/(0x21d8+-0x4c5+-0x1c14),_0x6f87b1-=_0xdd443a/(0x1747+-0xb17+0x23d*-0x5),_0xdd443a-=_0x4bb3fe/(-0x1f28+-0x56*0x37+0xd*0x3e5),_0x4bb3fe-=_0x4bb3fe/(0x89*-0x15+-0x2*0xcb5+0x25a6),[_0x1ab27b,_0x6f87b1,_0xdd443a,_0x4bb3fe];}function Hl(_0x288e09){let _0x2670f2=na(_0x288e09),_0x523c3b=na((-0x177f+-0xb11+0x238f*0x1)*_0x288e09);return _0x2670f2-=_0x523c3b/(0x136e+0x43*0x91+-0x2*0x1c31),_0x523c3b-=_0x523c3b/(-0xea0+0xb18+0x487),[_0x2670f2,_0x523c3b];}class JM{constructor(_0x2c8cf7){this['_emitter']=_0x2c8cf7;}['calcSpawnP'+'osition'](_0x1ff39d,_0x3d97d4,_0x2434b1,_0x59adfc,_0x971564){const _0x160b21=this['_emitter'],_0x1ea96d=Math['random'](),_0x34ede1=Math['random'](),_0x56b4d9=Math['random'](),_0x76ad6d=Math['random']();if(_0x160b21['useCpu']&&(_0x1ff39d[_0x971564*re+(-0x399*-0x7+0x398+0x35*-0x8b)+_0x160b21['numParticl'+'esPot']*(0x646+0xa61*0x3+-0x2567)*re]=_0x1ea96d,_0x1ff39d[_0x971564*re+(0x1dfb+-0x3d*0x74+0x17*-0x1a)+_0x160b21['numParticl'+'esPot']*(0x72*-0x8+0x101e+-0x323*0x4)*re]=_0x34ede1,_0x1ff39d[_0x971564*re+(-0x1*-0x579+-0x32+-0x545)+_0x160b21['numParticl'+'esPot']*(-0x4*-0x57a+0xb19+-0x20ff)*re]=_0x56b4d9),He['x']=_0x1ea96d-(-0x5*0x374+-0x34+0x1178+0.5),He['y']=_0x34ede1-(0x3da+-0x1e0f*0x1+0x1a35+0.5),He['z']=_0x56b4d9-(0xfbf*0x1+0x16*-0x191+-0x1*-0x12b7+0.5),_0x160b21['emitterSha'+'pe']===qs){const _0x3345eb=Math['max'](Math['abs'](He['x']),Math['max'](Math['abs'](He['y']),Math['abs'](He['z']))),_0x3adbb2=_0x3345eb+(0xa*-0x57+-0x1*-0x2d1+-0x95*-0x1+0.5-_0x3345eb)*_0x2434b1[0x1*0x1622+-0xea1+0x11*-0x71],_0x266b27=_0x3345eb+(0x176d+-0x6ce*0x3+0x101*-0x3+0.5-_0x3345eb)*_0x2434b1[0x54c+0x3*0x1af+0x8*-0x14b],_0x102d13=_0x3345eb+(0x1*-0x2665+0x674+0x1ff1+0.5-_0x3345eb)*_0x2434b1[0x1*0x5ce+0x14b9+0x8d7*-0x3];He['x']=_0x3adbb2*(_0x3345eb===Math['abs'](He['x'])?Math['sign'](He['x']):(0x1f33*-0x1+-0x1c64+0x49*0xd1)*He['x']),He['y']=_0x266b27*(_0x3345eb===Math['abs'](He['y'])?Math['sign'](He['y']):(-0x20d6+0x1dfd+0x2db)*He['y']),He['z']=_0x102d13*(_0x3345eb===Math['abs'](He['z'])?Math['sign'](He['z']):(-0xbb+-0xde+-0x1*-0x19b)*He['z']),_0x160b21['localSpace']?Vs['copy'](_0x3d97d4['transformP'+'oint'](He)):Vs['copy'](_0x59adfc)['add'](_0x3d97d4['transformP'+'oint'](He));}else{He['normalize']();const _0x5a1705=_0x160b21['emitterRad'+'ius']===-0xecc+-0x1213*-0x1+0x1*-0x347?-0x1d53+-0x457*0x5+-0x6*-0x881:_0x160b21['emitterRad'+'iusInner']/_0x160b21['emitterRad'+'ius'],_0x3a20f7=_0x76ad6d*(-0x1*0x3f7+-0x1*0x26d5+0x1*0x2acd-_0x5a1705)+_0x5a1705;_0x160b21['localSpace']?Vs['copy'](He['mulScalar'](_0x3a20f7*_0x160b21['emitterRad'+'ius'])):Vs['copy'](_0x59adfc)['add'](He['mulScalar'](_0x3a20f7*_0x160b21['emitterRad'+'ius']));}let _0x2bb691=-z['lerp'](_0x160b21['rate'],_0x160b21['rate2'],_0x1ea96d)*_0x971564;if(_0x160b21['pack8']){const _0xcdc8fa=(Vs['x']-_0x160b21['worldBound'+'s']['center']['x'])/_0x160b21['worldBound'+'sSize']['x']+(0x2387+-0x2*-0x9b8+0x1*-0x36f7+0.5),_0x5665e7=(Vs['y']-_0x160b21['worldBound'+'s']['center']['y'])/_0x160b21['worldBound'+'sSize']['y']+(0x117b+-0x2b6*0xb+-0x9*-0x15f+0.5),_0x522443=(Vs['z']-_0x160b21['worldBound'+'s']['center']['z'])/_0x160b21['worldBound'+'sSize']['z']+(0x7c*-0x4+0x25bd+-0x23cd+0.5);let _0x38916c=z['lerp'](_0x160b21['startAngle']*z['DEG_TO_RAD'],_0x160b21['startAngle'+'2']*z['DEG_TO_RAD'],_0x1ea96d);_0x38916c=_0x38916c%(Math['PI']*(-0x7*0x4f7+-0x4cd+0x2790))/(Math['PI']*(-0x1dfe+0x2335*-0x1+-0x1*-0x4135));const _0x3f0be6=Hl(_0xcdc8fa);_0x1ff39d[_0x971564*re]=_0x3f0be6[0x3*0x191+0x2466+-0x2919],_0x1ff39d[_0x971564*re+(0x1*-0x15dc+-0x3*-0x31d+0xc86)]=_0x3f0be6[-0x249c+0x4*-0x47+0x25b9];const _0x14a75c=Hl(_0x5665e7);_0x1ff39d[_0x971564*re+(0x11e8+0xd3*0x21+-0x5*0x905)]=_0x14a75c[0x1*0x18da+0x1813*0x1+-0x1f5*0x19],_0x1ff39d[_0x971564*re+(0x47*0x48+-0x3e5+-0x1010)]=_0x14a75c[0x2e1+0x1273+-0x1553];const _0xd3a5b=Hl(_0x522443);_0x1ff39d[_0x971564*re+(0x608*-0x4+0x19c*-0x8+0x94*0x40)+_0x160b21['numParticl'+'esPot']*re]=_0xd3a5b[0x92*-0x1d+0x1cce+-0x5*0x274],_0x1ff39d[_0x971564*re+(0x23a7+-0x580+-0x2*0xf13)+_0x160b21['numParticl'+'esPot']*re]=_0xd3a5b[0x16*-0x63+-0x4ab*0x4+0x1b2f];const _0x24d6d9=Hl(_0x38916c);_0x1ff39d[_0x971564*re+(-0xaa*-0x2+0xb*-0x18b+-0xfa7*-0x1)+_0x160b21['numParticl'+'esPot']*re]=_0x24d6d9[0x18e5*-0x1+0x1*0x12a+-0x1b*-0xe1],_0x1ff39d[_0x971564*re+(0xbd5+0x1*0xd76+-0x1948)+_0x160b21['numParticl'+'esPot']*re]=_0x24d6d9[-0x143c+-0x603+-0xa8*-0x28];const _0x407f75=-0x2366+0x246*0x6+0x741*0x3;_0x1ff39d[_0x971564*re+(-0x6cd+-0x6*0x3a6+-0x2c*-0xa7)+_0x160b21['numParticl'+'esPot']*re*(0x1*-0xd33+0x5*0x87+-0x3*-0x386)]=_0x407f75;const _0x3755b3=Math['max'](_0x160b21['lifetime'],(_0x160b21['numParticl'+'es']-(-0x1930+-0x15bd+0x2eee))*Math['max'](_0x160b21['rate'],_0x160b21['rate2'])),_0x577051=_0x160b21['lifetime']+(0x2*0x1a1+-0x85*-0x38+-0xa9*0x31);_0x2bb691=(_0x2bb691+_0x3755b3)/(_0x3755b3+_0x577051);const _0x3cca92=QM(_0x2bb691);_0x1ff39d[_0x971564*re+(-0x26ef*0x1+0x5*0x11f+0x2154)+_0x160b21['numParticl'+'esPot']*re*(0xc*-0x199+-0xac5+0x1df4)]=_0x3cca92[-0x2*-0xdf7+-0x1400+0x5*-0x196],_0x1ff39d[_0x971564*re+(0x1c0c+0xdf+0x1cea*-0x1)+_0x160b21['numParticl'+'esPot']*re*(0xcb*0x10+0x2ec*-0x7+0x1*0x7c7)]=_0x3cca92[-0x19*0xcb+-0x1c28+0x2ffc],_0x1ff39d[_0x971564*re+(0x2370+0x7a1*-0x2+-0x142c)+_0x160b21['numParticl'+'esPot']*re*(-0x1983+0x363+0x1623)]=_0x3cca92[0x1*-0x561+-0x15*-0x11b+-0x11d4],_0x1ff39d[_0x971564*re+(0x26fa+-0x14bc+-0x123b)+_0x160b21['numParticl'+'esPot']*re*(0x1c*-0x35+-0x13*0x18d+-0x7*-0x50a)]=_0x3cca92[0x158d+0xd99+-0x101*0x23];}else _0x1ff39d[_0x971564*re]=Vs['x'],_0x1ff39d[_0x971564*re+(-0x1726+-0x1*-0x4ff+0x1228)]=Vs['y'],_0x1ff39d[_0x971564*re+(-0x1a35+-0x1dad*-0x1+-0x376)]=Vs['z'],_0x1ff39d[_0x971564*re+(0x18f3+-0x8f2+-0xffe)]=z['lerp'](_0x160b21['startAngle']*z['DEG_TO_RAD'],_0x160b21['startAngle'+'2']*z['DEG_TO_RAD'],_0x1ea96d),_0x1ff39d[_0x971564*re+(-0x2f*0x58+0x1dd9+-0xdae)+_0x160b21['numParticl'+'esPot']*re]=_0x2bb691;}['update'](_0xf536df,_0x1dee65,_0x23be64,_0x3cc734,_0x408db0,_0x1a7f4b,_0x2fa465,_0x5d3207){let _0x327746,_0x1c5cf3,_0x39f3a9;const _0x10c58e=this['_emitter'];if(_0x10c58e['meshInstan'+'ce']['node']){const _0x5a86c6=_0x10c58e['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x4fb208=0x6*-0x19c+0x17a4+-0xdfc;_0x4fb208<0x1202+-0x5b2+-0xc44;_0x4fb208++)$d['data'][_0x4fb208]=_0x5a86c6['data'][_0x4fb208];qd['copy']($d),qd['invert'](),oi=_0x10c58e['meshInstan'+'ce']['node']['localScale'],b_=Math['max'](Math['max'](oi['x'],oi['y']),oi['z']);}_0x1a7f4b=_0x10c58e['meshInstan'+'ce']['node']===null||_0x10c58e['localSpace']?A['ZERO']:_0x10c58e['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x3892d7=_0x10c58e['camera']?_0x10c58e['camera']['_node']['getPositio'+'n']():A['ZERO'],_0x180d3d=_0x10c58e['useMesh']?0x9*-0x179+-0x203f+0x2d91:-0x41*0x4f+-0x135c*-0x2+-0x129a;let _0x3450a5,_0x492ccc,_0x55e503,_0x186427,_0x3c74b4,_0x395fa0,_0x5eb9db,_0x53aad8,_0x5319b0;const _0x462888=_0x10c58e['precision']-(-0x233e+0x8*0x482+-0xd1*0x1);for(let _0x4092c0=-0x1*-0x10ad+-0x13b+-0xf72;_0x4092c0<_0x10c58e['numParticl'+'es'];_0x4092c0++){const _0x752be=Math['floor'](_0x10c58e['vbCPU'][_0x4092c0*_0x10c58e['numParticl'+'eVerts']*(_0x10c58e['useMesh']?-0x1*0x21ce+0x1f5+0x1fdf:0x4d*0xb+-0x290+-0xbb)+(0x1652+0x54+-0x16a3)]),_0x2b8b70=_0x23be64[_0x752be*re+(-0x236d+-0x1438+0x37a5)+_0x10c58e['numParticl'+'esPot']*(0x158e+-0xb19*-0x3+-0x1*0x36d7)*re];Ss['x']=_0x2b8b70,Ss['y']=_0x23be64[_0x752be*re+(0x108b+0x41*0x1d+-0x17e7)+_0x10c58e['numParticl'+'esPot']*(-0x138f+0x197*0xf+-0x1*0x448)*re],Ss['z']=_0x23be64[_0x752be*re+(-0x542+0x2*0x1e4+0x17c)+_0x10c58e['numParticl'+'esPot']*(0xb*-0x92+0x22*-0xb4+0x8*0x3c6)*re];const _0x1b3c77=_0x10c58e['rate']+(_0x10c58e['rate2']-_0x10c58e['rate'])*_0x2b8b70,_0x587ef3=_0x10c58e['lifetime'];let _0x4c12ca=_0x23be64[_0x752be*re+(0x921+0x5*0x703+0x1*-0x2c2d)+_0x10c58e['numParticl'+'esPot']*re]+_0x2fa465;const _0x10248d=ZM(_0x4c12ca/_0x587ef3);let _0x1e6aeb=-0x9e2+-0x1007+-0xb*-0x25b,_0x15af28=0x1a85+0x1e9d+-0xce*0x47;const _0x34a516=-0x1*-0x2a9+-0x1625+0x74*0x2b;(_0x4c12ca-_0x2fa465<=-0x100*-0x1f+0x19a8+-0x38a8||_0x4c12ca>=_0x587ef3)&&this['calcSpawnP'+'osition'](_0x23be64,_0x3cc734,_0x408db0,_0x1a7f4b,_0x752be);let _0x531b55=_0x4c12ca>-0x200+-0x82*-0xb+-0x396&&_0x4c12ca<_0x587ef3;_0x531b55&&(_0x39f3a9=_0x10248d*_0x462888,_0x3450a5=Math['floor'](_0x39f3a9),_0x492ccc=Math['ceil'](_0x39f3a9),_0x39f3a9%=-0x1bf7*-0x1+-0x76d*0x1+-0x1489,_0x327746=_0x10c58e['qRotSpeed'][_0x3450a5],_0x1c5cf3=_0x10c58e['qRotSpeed'][_0x492ccc],_0x55e503=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qRotSpeed2'][_0x3450a5],_0x1c5cf3=_0x10c58e['qRotSpeed2'][_0x492ccc],_0x186427=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qScale'][_0x3450a5],_0x1c5cf3=_0x10c58e['qScale'][_0x492ccc],_0x1e6aeb=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qScale2'][_0x3450a5],_0x1c5cf3=_0x10c58e['qScale2'][_0x492ccc],_0x3c74b4=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qAlpha'][_0x3450a5],_0x1c5cf3=_0x10c58e['qAlpha'][_0x492ccc],_0x395fa0=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qAlpha2'][_0x3450a5],_0x1c5cf3=_0x10c58e['qAlpha2'][_0x492ccc],_0x5eb9db=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qRadialSpe'+'ed'][_0x3450a5],_0x1c5cf3=_0x10c58e['qRadialSpe'+'ed'][_0x492ccc],_0x53aad8=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qRadialSpe'+'ed2'][_0x3450a5],_0x1c5cf3=_0x10c58e['qRadialSpe'+'ed2'][_0x492ccc],_0x5319b0=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x53aad8+=(_0x5319b0-_0x53aad8)*(_0x2b8b70*(-0x1b*0x16d+0x1*0x268f+0x54)%(-0x1d*0x43+-0x22dd+0x2a75)),Dn['x']=_0x23be64[_0x752be*re],Dn['y']=_0x23be64[_0x752be*re+(-0x3d7*-0x7+-0x2*-0x1df+-0x1e9e)],Dn['z']=_0x23be64[_0x752be*re+(-0xfd3+-0x199*-0x4+0x971)],_0x10c58e['localSpace']?eo['copy'](Dn):eo['copy'](Dn)['sub'](_0x1a7f4b),eo['normalize']()['mulScalar'](_0x53aad8),_0x3450a5*=0xe*-0x81+0xc17+-0x2*0x283,_0x492ccc*=0x16a3+-0x1*-0x8a0+0x140*-0x19,_0x327746=_0x10c58e['qLocalVelo'+'city'][_0x3450a5],_0x1c5cf3=_0x10c58e['qLocalVelo'+'city'][_0x492ccc],tt['x']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qLocalVelo'+'city'][_0x3450a5+(-0x7ed*-0x1+0x1381*0x2+0x2*-0x1777)],_0x1c5cf3=_0x10c58e['qLocalVelo'+'city'][_0x492ccc+(0x14c9+-0x5dc+-0xeec*0x1)],tt['y']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qLocalVelo'+'city'][_0x3450a5+(0x820*0x3+0x14*0x12c+-0x2fce)],_0x1c5cf3=_0x10c58e['qLocalVelo'+'city'][_0x492ccc+(0x1*0x2402+0xb4d+-0x1*0x2f4d)],tt['z']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qLocalVelo'+'city2'][_0x3450a5],_0x1c5cf3=_0x10c58e['qLocalVelo'+'city2'][_0x492ccc],Fn['x']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qLocalVelo'+'city2'][_0x3450a5+(0x8*0x2dc+-0x11*0xe3+-0x7cc)],_0x1c5cf3=_0x10c58e['qLocalVelo'+'city2'][_0x492ccc+(0xe62+0x13*0x1d1+0x30e4*-0x1)],Fn['y']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qLocalVelo'+'city2'][_0x3450a5+(0x1968+-0x102+0xdf*-0x1c)],_0x1c5cf3=_0x10c58e['qLocalVelo'+'city2'][_0x492ccc+(0x1b4c+-0x125*0xd+-0xc69)],Fn['z']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qVelocity'][_0x3450a5],_0x1c5cf3=_0x10c58e['qVelocity'][_0x492ccc],qt['x']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qVelocity'][_0x3450a5+(-0x1508+0x6e3+-0x713*-0x2)],_0x1c5cf3=_0x10c58e['qVelocity'][_0x492ccc+(0x20a2+-0x1de4+-0x2bd*0x1)],qt['y']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qVelocity'][_0x3450a5+(0x2432+-0x2f5+-0x213b)],_0x1c5cf3=_0x10c58e['qVelocity'][_0x492ccc+(-0x1c9a+-0xba3+0x283f*0x1)],qt['z']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qVelocity2'][_0x3450a5],_0x1c5cf3=_0x10c58e['qVelocity2'][_0x492ccc],Ln['x']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qVelocity2'][_0x3450a5+(0x1db5+-0xfe9+0x6b*-0x21)],_0x1c5cf3=_0x10c58e['qVelocity2'][_0x492ccc+(0x1*0x213f+-0x53*0x7+-0x1ef9)],Ln['y']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,_0x327746=_0x10c58e['qVelocity2'][_0x3450a5+(-0x6a*-0x1f+0xa5*0x11+0x1*-0x17c9)],_0x1c5cf3=_0x10c58e['qVelocity2'][_0x492ccc+(-0x8e1+0x1d1b+0x50e*-0x4)],Ln['z']=_0x327746+(_0x1c5cf3-_0x327746)*_0x39f3a9,tt['x']+=(Fn['x']-tt['x'])*Ss['x'],tt['y']+=(Fn['y']-tt['y'])*Ss['y'],tt['z']+=(Fn['z']-tt['z'])*Ss['z'],_0x10c58e['initialVel'+'ocity']>-0x169*-0x6+0xd6*-0x7+-0x29c&&(_0x10c58e['emitterSha'+'pe']===qb?(He['copy'](Ss)['mulScalar'](-0x21f8*0x1+0x1b3a+0x6c0)['sub'](A['ONE'])['normalize'](),tt['add'](He['mulScalar'](_0x10c58e['initialVel'+'ocity']))):tt['add'](A['FORWARD']['mulScalar'](_0x10c58e['initialVel'+'ocity']))),qt['x']+=(Ln['x']-qt['x'])*Ss['x'],qt['y']+=(Ln['y']-qt['y'])*Ss['y'],qt['z']+=(Ln['z']-qt['z'])*Ss['z'],_0x55e503+=(_0x186427-_0x55e503)*Ss['y'],_0x1e6aeb=(_0x1e6aeb+(_0x3c74b4-_0x1e6aeb)*(_0x2b8b70*(0x6c*-0x37+0x1*-0x4976+0x43dd*0x2)%(-0xd36*-0x1+0x3f3*-0x2+-0x54f)))*b_,_0x15af28=(_0x5eb9db-_0x395fa0)*(_0x2b8b70*(0x1*-0x1ae5+0x115*-0x1a+-0x3aef*-0x1)%(-0x2608+0x1*0x2250+0x1*0x3b9)),_0x10c58e['meshInstan'+'ce']['node']&&(_0x10c58e['localSpace']?(tt['x']/=oi['x'],tt['y']/=oi['y'],tt['z']/=oi['z']):$d['transformP'+'oint'](tt,tt)),_0x10c58e['localSpace']?(qd['transformP'+'oint'](qt,qt),tt['add'](qt)['add'](eo)):(tt['add'](qt['mul'](oi)),tt['add'](eo['mul'](oi))),Gl['copy'](tt),w_['copy'](Dn)['add'](tt['mulScalar'](_0x2fa465)),Ct['copy'](w_),_0x23be64[_0x752be*re]=Ct['x'],_0x23be64[_0x752be*re+(-0xff3*0x2+-0x1*0xb0f+0x2f*0xea)]=Ct['y'],_0x23be64[_0x752be*re+(-0x454*-0x7+-0x5ac+-0x189e)]=Ct['z'],_0x23be64[_0x752be*re+(-0x1922*0x1+0xfac+0x979)]+=_0x55e503*_0x2fa465,_0x10c58e['wrap']&&_0x10c58e['wrapBounds']&&(_0x10c58e['localSpace']||Ct['sub'](_0x1a7f4b),Ct['x']=Xd(Ct['x'],_0x10c58e['wrapBounds']['x'])-_0x10c58e['wrapBounds']['x']*(0x2*0x1c1+-0x197d*-0x1+-0x1cff+0.5),Ct['y']=Xd(Ct['y'],_0x10c58e['wrapBounds']['y'])-_0x10c58e['wrapBounds']['y']*(0x2454+-0x5*-0x53a+0xd*-0x4ce+0.5),Ct['z']=Xd(Ct['z'],_0x10c58e['wrapBounds']['z'])-_0x10c58e['wrapBounds']['z']*(0x3*0x93e+0x1ffe+-0x5b*0xa8+0.5),_0x10c58e['localSpace']||Ct['add'](_0x1a7f4b)),_0x10c58e['sort']>-0x19c3+-0x134+0x1af7&&(_0x10c58e['sort']===0xb71+-0x1*-0x118d+-0x1cfd?(Tr['copy'](Ct)['sub'](_0x3892d7),_0x10c58e['particleDi'+'stance'][_0x752be]=-(Tr['x']*Tr['x']+Tr['y']*Tr['y']+Tr['z']*Tr['z'])):_0x10c58e['sort']===-0x27a+-0x64d+0x8c9?_0x10c58e['particleDi'+'stance'][_0x752be]=_0x4c12ca:_0x10c58e['sort']===0x149c+0x14*-0x1ee+0x11ff&&(_0x10c58e['particleDi'+'stance'][_0x752be]=-_0x4c12ca))),_0x5d3207?_0x4c12ca<0x1c3e+0x2523+-0x1*0x4161&&(_0x23be64[_0x752be*re+(-0x7*-0x320+-0x1*-0xe6+-0x16c3)+_0x10c58e['numParticl'+'esPot']*(0x76*-0x41+-0x13*-0x43+0x2c7*0x9)*re]=-(0x67b+0x69*-0x53+0x1b91*0x1)):(_0x4c12ca>=_0x587ef3&&(_0x4c12ca-=Math['max'](_0x587ef3,(_0x10c58e['numParticl'+'es']-(0x513+-0x2*-0x6ad+-0x4*0x49b))*_0x1b3c77),_0x23be64[_0x752be*re+(0x169c+-0x18b+0x1*-0x150e)+_0x10c58e['numParticl'+'esPot']*(-0x1f67*0x1+0x1*0x26d5+-0x13*0x64)*re]=_0x10c58e['loop']?0x101*-0xc+0x2366+-0x1759:-(-0x196+-0x2482+0x2619)),_0x4c12ca<0x1*0x11ba+-0x140*0x10+0x6*0x61&&_0x10c58e['loop']&&(_0x23be64[_0x752be*re+(-0xf5*0xf+-0x668+0x14c6)+_0x10c58e['numParticl'+'esPot']*(0x232f+0x3f3+-0x4e4*0x8)*re]=0x1629+-0x1*-0x21b3+-0xb5*0x4f)),_0x23be64[_0x752be*re+(0x1c3f+0x17f3+0x3*-0x1165)+_0x10c58e['numParticl'+'esPot']*(0x76c+-0x2a2+-0x132*0x4)*re]<-0xe62+-0x1e*0x109+0x2d70&&(_0x531b55=!(-0x1dcd+-0x511+0x4f*0x71)),_0x23be64[_0x752be*re+(0x833*-0x1+-0x1c06+0x243c)+_0x10c58e['numParticl'+'esPot']*re]=_0x4c12ca;for(let _0x3b301e=0x3*0x96+0x104e+-0x1210;_0x3b301e<_0x10c58e['numParticl'+'eVerts'];_0x3b301e++){const _0x2e2245=(_0x4092c0*_0x10c58e['numParticl'+'eVerts']+_0x3b301e)*(_0x10c58e['useMesh']?-0x1*-0x10a8+-0xf34*0x2+0xdc6:0x2115+-0x1718+-0x9f9);let _0x3d2543=_0x10c58e['vbCPU'][_0x2e2245],_0x2062f7=_0x10c58e['vbCPU'][_0x2e2245+(0x1*-0x30f+-0x3d3+-0x29*-0x2b)],_0x259bf6=_0x10c58e['vbCPU'][_0x2e2245+(0x346+0x10ed+-0x1431)];_0x531b55||(_0x3d2543=_0x2062f7=_0x259bf6=-0x776*-0x5+-0xe6c+0x1*-0x16e2);const _0x43ec7f=_0x4092c0*_0x10c58e['numParticl'+'eVerts']*_0x180d3d+_0x3b301e*_0x180d3d;_0xf536df[_0x43ec7f]=Ct['x'],_0xf536df[_0x43ec7f+(0x15bd+0x1829+-0x2de5)]=Ct['y'],_0xf536df[_0x43ec7f+(0x1*-0xe84+0x452*0x7+-0xfb8)]=Ct['z'],_0xf536df[_0x43ec7f+(-0x1*0xef6+0x10f*0xd+-0x2*-0x9b)]=_0x10248d,_0xf536df[_0x43ec7f+(-0x2004+0x844*-0x4+-0x2*-0x208c)]=_0x10c58e['alignToMot'+'ion']?_0x34a516:_0x23be64[_0x752be*re+(-0x668*0x6+-0x13f2+0x54f*0xb)],_0xf536df[_0x43ec7f+(0x889+-0x21e0+0x195c)]=_0x1e6aeb,_0xf536df[_0x43ec7f+(0xc*0xd+-0x1307+0x1*0x1271)]=_0x15af28,_0xf536df[_0x43ec7f+(-0x1*-0xd31+-0x7*-0x83+0x595*-0x3)]=Gl['x'],_0xf536df[_0x43ec7f+(-0x2390+0x1626+-0x6b9*-0x2)]=_0x3d2543,_0xf536df[_0x43ec7f+(0x2*0xfc1+-0x199f+-0x5da)]=_0x2062f7,_0xf536df[_0x43ec7f+(0x47d*0x4+-0x1eeb+0xd01)]=_0x259bf6,_0xf536df[_0x43ec7f+(0x653*0x6+0x20a9+-0x4690)]=Gl['y'],_0xf536df[_0x43ec7f+(0x2123+0x1baf+-0x3cc6*0x1)]=_0x752be,_0xf536df[_0x43ec7f+(0x122*0x1f+0x6b*-0x17+0x4*-0x65d)]=Gl['z'],_0xf536df[_0x43ec7f+(-0x1745+0x1ea6+0x5*-0x177)]=_0x10c58e['vbCPU'][_0x2e2245+(-0x480+-0x1244+0x16c7)],_0x10c58e['useMesh']&&(_0xf536df[_0x43ec7f+(0x7*-0x449+-0x4d*-0x25+0x1*0x12ed)]=_0x10c58e['vbCPU'][_0x2e2245+(0xc22+-0x761+0x4bd*-0x1)],_0xf536df[_0x43ec7f+(0x1*-0x205e+-0x26*0x4+0x2106)]=_0x10c58e['vbCPU'][_0x2e2245+(-0x4b*-0x53+-0x2077*-0x1+-0x38c3)]);}}if(_0x10c58e['sort']>Ou&&_0x10c58e['camera']){const _0xbef60d=_0x10c58e['useMesh']?0x3b*0x47+-0x1*-0xac1+-0x2*0xd8c:-0x6*-0x574+-0x1*0x1bd1+-0x9*0x8b,_0x74769c=_0x10c58e['particleDi'+'stance'];for(let _0x10f51d=0x102+-0x7*-0x416+-0x1d9c;_0x10f51d<_0x10c58e['numParticl'+'es'];_0x10f51d++)_0x1dee65[_0x10f51d][-0x1*-0x23b+-0x6c6+0x1*0x48b]=_0x10f51d,_0x1dee65[_0x10f51d][0x4e7*0x2+0x206e+-0x2a3b]=_0x74769c[Math['floor'](_0x10c58e['vbCPU'][_0x10f51d*_0x10c58e['numParticl'+'eVerts']*_0xbef60d+(0x2*-0x375+0x1f8b+-0x189e)])];_0x10c58e['vbOld']['set'](_0x10c58e['vbCPU']),_0x1dee65['sort']((_0x39f7d6,_0x37e6d5)=>_0x39f7d6[-0x1619+0x1*0x11e3+0xd*0x53]-_0x37e6d5[-0x136d+0x1246+0x128]);for(let _0x380600=-0x2*-0xdd3+0xb41+-0x26e7;_0x380600<_0x10c58e['numParticl'+'es'];_0x380600++){const _0x5780f7=_0x1dee65[_0x380600][-0x10fe+0x1*-0x1f99+-0x6f1*-0x7]*_0x10c58e['numParticl'+'eVerts']*_0xbef60d,_0x54b464=_0x380600*_0x10c58e['numParticl'+'eVerts']*_0xbef60d;for(let _0x4b474f=0x2*0xbb9+0x147*0x4+-0x2db*0xa;_0x4b474f<_0x10c58e['numParticl'+'eVerts']*_0xbef60d;_0x4b474f++)_0x10c58e['vbCPU'][_0x54b464+_0x4b474f]=_0x10c58e['vbOld'][_0x5780f7+_0x4b474f];}}}}const T_=new Js(),A_=new Js(),E_=new Js();class e1{constructor(_0x52ca7e,_0x1e236a){this['_emitter']=_0x52ca7e,this['frameRando'+'mUniform']=new Float32Array(-0xea*-0x1+-0x3*-0x22d+0x76e*-0x1),this['emitterPos'+'Uniform']=new Float32Array(-0x1*0xb53+0x1*-0xf62+0x1ab8),this['emitterSca'+'leUniform']=new Float32Array([-0xb3*-0x2b+0x414+-0xbe*0x2e,-0xc1d+0x79*0x5+0x9c1,-0x1702+-0x1f5b*-0x1+-0x2c8*0x3]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0xa2+0x12ba+-0x1359),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x1472+0x19*-0x125+0x1889*0x2),this['inBoundsSi'+'zeUniform']=new Float32Array(0xae2+0x220d*-0x1+0xb97*0x2),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x7*-0x301+0x362*-0x9+0x96e),this['constantPa'+'rticleTexI'+'N']=_0x1e236a['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x1e236a['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x1e236a['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x1e236a['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x1e236a['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x1e236a['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x1e236a['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x1e236a['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x1e236a['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x1e236a['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x1e236a['scope']['resolve']('delta'),this['constantRa'+'te']=_0x1e236a['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x1e236a['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x1e236a['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x1e236a['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x1e236a['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x1e236a['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x1e236a['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x1e236a['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x1e236a['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x1e236a['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x1e236a['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x1e236a['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x1e236a['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x1e236a['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x1e236a['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x1e236a['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x1e236a['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x1e236a['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x1e236a['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x1e236a['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x1e236a['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x1e236a['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x1e236a['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x1e236a['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x1e236a['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x1e236a['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x348+0x569*0x5+-0x1e55]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1157*0x1+-0xe1e+-0x8*0x67]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][-0x1*-0x1d98+0x2029*0x1+-0x3dbf]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x2265+0x7a9*0x3+0xc*-0x4c8]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][0x2184+0xed+0x2270*-0x1]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x1ea8+-0x184c*0x1+0x3*-0x21e]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0xd8c+0x4*0x80f+-0x12b0]=Math['random'](),this['frameRando'+'mUniform'][0x7b*-0x4+-0x18cb*-0x1+-0x16de]=Math['random'](),this['frameRando'+'mUniform'][-0x1c3e+-0x1*-0xf35+0xd0b]=Math['random']();}['update'](_0x11f9f0,_0x21bffa,_0x412f06,_0x3e25e5,_0x597302){G['pushGpuMar'+'ker'](_0x11f9f0,'ParticleGP'+'U');const _0x2348b2=this['_emitter'];_0x11f9f0['setBlendSt'+'ate'](bt['NOBLEND']),_0x11f9f0['setDepthSt'+'ate'](us['NODEPTH']),_0x11f9f0['setCullMod'+'e'](vt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x90+0x1e1*0xf+0x236*-0xd)/_0x2348b2['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x2348b2['precision']),this['constantNu'+'mParticles']['setValue'](_0x2348b2['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x2348b2['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x2348b2['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x2348b2['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x2348b2['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x2348b2['internalTe'+'x3']);const _0x4cfab8=_0x2348b2['meshInstan'+'ce']['node'],_0x4b1f14=_0x4cfab8===null?A['ONE']:_0x4cfab8['localScale'];if(_0x2348b2['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x43b*-0x6+0x160*-0x10+-0x362]=_0x2348b2['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][-0xd*0x1fb+-0x1e79+0x3839]=_0x2348b2['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x1c7b*0x1+-0x176f*-0x1+-0x33e8]=_0x2348b2['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0xc0d*0x1+-0xd13+-0x10c*-0x18]=_0x2348b2['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0x2403+0x1c43*-0x1+0x295*-0x3]=_0x2348b2['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0x221*0xd+-0x635+-0x1576]=_0x2348b2['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x2cbffc=_0x2348b2['maxVel']*Math['max'](Math['max'](_0x4b1f14['x'],_0x4b1f14['y']),_0x4b1f14['z']);_0x2cbffc=Math['max'](_0x2cbffc,-0x1*-0x23dd+0x14e4+0x718*-0x8),this['constantMa'+'xVel']['setValue'](_0x2cbffc);}const _0x10603b=_0x4cfab8===null||_0x2348b2['localSpace']?A['ZERO']:_0x4cfab8['getPositio'+'n'](),_0x48a485=_0x4cfab8===null?q['IDENTITY']:_0x4cfab8['getWorldTr'+'ansform']();_0x2348b2['emitterSha'+'pe']===qs?(T_['setFromMat'+'4'](_0x21bffa),this['constantSp'+'awnBounds']['setValue'](T_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x412f06)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x2348b2['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x2348b2['emitterRad'+'ius']===-0xf0f+-0xd44+-0x1c53*-0x1?0x5*-0x431+0x11f+-0x9eb*-0x2:_0x2348b2['emitterRad'+'iusInner']/_0x2348b2['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x2348b2['initialVel'+'ocity']),A_['setFromMat'+'4'](_0x48a485),E_['invertMat4'](_0x48a485),this['emitterPos'+'Uniform'][-0x1*-0x2335+0x1dca+-0x40ff]=_0x10603b['x'],this['emitterPos'+'Uniform'][-0x70*-0x32+-0x42f+-0x11b0]=_0x10603b['y'],this['emitterPos'+'Uniform'][0x4*0x2d9+-0x1268+0x706]=_0x10603b['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x3e25e5),this['constantRa'+'te']['setValue'](_0x2348b2['rate']),this['constantRa'+'teDiv']['setValue'](_0x2348b2['rate2']-_0x2348b2['rate']),this['constantSt'+'artAngle']['setValue'](_0x2348b2['startAngle']*z['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x2348b2['startAngle'+'2']*z['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x2348b2['seed']),this['constantLi'+'fetime']['setValue'](_0x2348b2['lifetime']),this['emitterSca'+'leUniform'][-0x23f3+-0x9e1+0x4*0xb75]=_0x4b1f14['x'],this['emitterSca'+'leUniform'][0x1a90+-0x191*0x16+-0x121*-0x7]=_0x4b1f14['y'],this['emitterSca'+'leUniform'][-0x1ca1+-0x579+0x221c]=_0x4b1f14['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](A_['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](E_['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x2348b2['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x2348b2['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x2348b2['rotSpeedUM'+'ax'][0x2*0x1eb+-0x25*0x25+0x183]);let _0x534f95=_0x2348b2['swapTex']?_0x2348b2['particleTe'+'xOUT']:_0x2348b2['particleTe'+'xIN'];_0x534f95=_0x2348b2['beenReset']?_0x2348b2['particleTe'+'xStart']:_0x534f95;const _0x5e9885=_0x2348b2['swapTex']?_0x2348b2['particleTe'+'xIN']:_0x2348b2['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x534f95),fn(_0x11f9f0,_0x2348b2['swapTex']?_0x2348b2['rtParticle'+'TexIN']:_0x2348b2['rtParticle'+'TexOUT'],_0x597302?_0x2348b2['shaderPart'+'icleUpdate'+'OnStop']:_0x2348b2['loop']?_0x2348b2['shaderPart'+'icleUpdate'+'Respawn']:_0x2348b2['shaderPart'+'icleUpdate'+'NoRespawn']),_0x2348b2['material']['setParamet'+'er']('particleTe'+'xOUT',_0x534f95),_0x2348b2['material']['setParamet'+'er']('particleTe'+'xIN',_0x5e9885),_0x2348b2['beenReset']=!(-0xed*-0x1b+-0x13c5+0x539*-0x1),_0x2348b2['swapTex']=!_0x2348b2['swapTex'],_0x2348b2['prevWorldB'+'oundsSize']['copy'](_0x2348b2['worldBound'+'sSize']),_0x2348b2['prevWorldB'+'oundsCente'+'r']['copy'](_0x2348b2['worldBound'+'s']['center']),_0x2348b2['pack8']&&this['_setInputB'+'ounds'](),G['popGpuMark'+'er'](_0x11f9f0);}}class t1 extends Nt{['generateKe'+'y'](_0x418998){let _0x31c6ea='particle_'+Nt['definesHas'+'h'](_0x418998['defines'])+'_';for(const _0x590d27 in _0x418998)_0x418998['hasOwnProp'+'erty'](_0x590d27)&&(_0x31c6ea+=_0x418998[_0x590d27]);return _0x31c6ea;}['_animTex'](_0x200b94){let _0x58ac26='';return _0x58ac26+=_0x200b94['animTexLoo'+'p']?j['particleAn'+'imFrameLoo'+'pVS']:j['particleAn'+'imFrameCla'+'mpVS'],_0x58ac26+=j['particleAn'+'imTexVS'],_0x58ac26;}['createShad'+'erDefiniti'+'on'](_0x8613ff,_0x5a4a28){const _0x2a620f='#define\x20PA'+'RTICLE_'+(_0x5a4a28['useCpu']?'CPU':'GPU')+'\x0a';let _0x5d31ea='#define\x20PA'+'RTICLE\x0a'+_0x2a620f,_0x60c0af='#define\x20VE'+'RTEXSHADER'+'\x0a'+_0x2a620f;_0x5a4a28['mesh']&&(_0x60c0af+='#define\x20US'+'E_MESH\x0a'),_0x5a4a28['localSpace']&&(_0x60c0af+='#define\x20LO'+'CAL_SPACE\x0a'),_0x5a4a28['screenSpac'+'e']&&(_0x60c0af+='#define\x20SC'+'REEN_SPACE'+'\x0a'),_0x5a4a28['animTex']&&(_0x60c0af+='\x0auniform\x20v'+'ec2\x20animTe'+'xTilesPara'+'ms;\x0a'),_0x5a4a28['animTex']&&(_0x60c0af+='\x0auniform\x20v'+'ec4\x20animTe'+'xParams;\x0a'),_0x5a4a28['animTex']&&(_0x60c0af+='\x0auniform\x20v'+'ec2\x20animTe'+'xIndexPara'+'ms;\x0a'),_0x5a4a28['normal']===0x1a82+0x1*0x2cd+0x1*-0x1d4d&&(_0x60c0af+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x5a4a28['normal']===-0x3*-0xbc5+-0x903+-0x1a4b&&(_0x60c0af+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a'),_0x5a4a28['soft']&&(_0x60c0af+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a');const _0x2a5166=_0x5a4a28['customFace']?j['particle_c'+'ustomFaceV'+'S']:j['particle_b'+'illboardVS'];_0x5a4a28['useCpu']?(_0x5a4a28['soft']>-0x1bca*-0x1+-0x1*0x675+-0x1555&&(_0x60c0af+=j['screenDept'+'hPS']),_0x60c0af+=j['particle_c'+'puVS'],_0x5a4a28['localSpace']&&(_0x60c0af+=j['particle_l'+'ocalShiftV'+'S']),_0x5a4a28['animTex']&&(_0x60c0af+=this['_animTex'](_0x5a4a28)),_0x5a4a28['alignToMot'+'ion']&&(_0x60c0af+=j['particle_p'+'ointAlongV'+'S']),_0x60c0af+=_0x5a4a28['mesh']?j['particle_m'+'eshVS']:_0x2a5166,_0x5a4a28['normal']===0x344*0x6+-0x24cd+0x1136&&(_0x60c0af+=j['particle_n'+'ormalVS']),_0x5a4a28['normal']===-0x18c0+-0x1184+0x2a46&&(_0x60c0af+=j['particle_T'+'BNVS']),_0x5a4a28['stretch']>0x28*-0x61+0x2*0x566+0x45c&&(_0x60c0af+=j['particle_s'+'tretchVS']),_0x60c0af+=j['particle_c'+'pu_endVS'],_0x5a4a28['soft']>0xd*-0x2df+0x17e7*0x1+0x2*0x6b6&&(_0x60c0af+=j['particle_s'+'oftVS'])):(_0x60c0af+=j['particle_i'+'nitVS'],_0x60c0af+=_0x5a4a28['pack8']?j['particleIn'+'putRgba8PS']:j['particleIn'+'putFloatPS'],_0x5a4a28['soft']>-0xc2*0x20+-0x1*0xcf4+0x2534&&(_0x60c0af+=j['screenDept'+'hPS']),_0x60c0af+=j['particleVS'],_0x5a4a28['localSpace']&&(_0x60c0af+=j['particle_l'+'ocalShiftV'+'S']),_0x5a4a28['animTex']&&(_0x60c0af+=this['_animTex'](_0x5a4a28)),_0x5a4a28['wrap']&&(_0x60c0af+=j['particle_w'+'rapVS']),_0x5a4a28['alignToMot'+'ion']&&(_0x60c0af+=j['particle_p'+'ointAlongV'+'S']),_0x60c0af+=_0x5a4a28['mesh']?j['particle_m'+'eshVS']:_0x2a5166,_0x5a4a28['normal']===-0x1*-0x130d+-0x3*-0x3d6+0x2*-0xf47&&(_0x60c0af+=j['particle_n'+'ormalVS']),_0x5a4a28['normal']===0x1d*0x7+-0xeeb+0xe22&&(_0x60c0af+=j['particle_T'+'BNVS']),_0x5a4a28['stretch']>0x1140+-0x5*0x141+-0xafb&&(_0x60c0af+=j['particle_s'+'tretchVS']),_0x60c0af+=j['particle_e'+'ndVS'],_0x5a4a28['soft']>0x1b4+0x16f7+-0x18ab&&(_0x60c0af+=j['particle_s'+'oftVS'])),_0x60c0af+='}\x0a',_0x5a4a28['normal']>0x577+-0x1439+-0x1*-0xec2&&(_0x5a4a28['normal']===0xe8+-0x7b6+0x6cf?_0x5d31ea+='\x0avarying\x20v'+'ec3\x20Normal'+';\x0a':_0x5a4a28['normal']===-0x151*0x15+0x1e5a+-0x2b3&&(_0x5d31ea+='\x0avarying\x20m'+'at3\x20Partic'+'leMat;\x0a'),_0x5d31ea+='\x0auniform\x20v'+'ec3\x20lightC'+'ube[6];\x0a'),_0x5a4a28['soft']&&(_0x5d31ea+='\x0avarying\x20f'+'loat\x20vDept'+'h;\x0a'),_0x5d31ea+=j['decodePS'],_0x5d31ea+='#include\x20\x22'+'gammaPS\x22\x0a',_0x5d31ea+='#include\x20\x22'+'tonemappin'+'gPS\x22\x0a',_0x5d31ea+='#include\x20\x22'+'fogPS\x22\x0a',_0x5a4a28['normal']===0xc8e+-0x277*0xd+0x1f*0xa1&&(_0x5d31ea+='\x0auniform\x20s'+'ampler2D\x20n'+'ormalMap;\x0a'),_0x5a4a28['soft']>0x42d*0x1+-0x2238+-0x1e0b*-0x1&&(_0x5d31ea+=j['screenDept'+'hPS']),_0x5d31ea+=j['particlePS'],_0x5a4a28['soft']>0x2100+0x32*-0x18+-0x1c50&&(_0x5d31ea+=j['particle_s'+'oftPS']),_0x5a4a28['normal']===-0x4*0x61f+0x14d6+-0xb*-0x55&&(_0x5d31ea+='\x0avec3\x20norm'+'al\x20=\x20Norma'+'l;\x0a'),_0x5a4a28['normal']===-0x230c+0x19*0x18+0x4f*0x6a&&(_0x5d31ea+=j['particle_n'+'ormalMapPS']),_0x5a4a28['normal']>0x1*0x1845+0x4de*0x1+0x1*-0x1d23&&(_0x5d31ea+=_0x5a4a28['halflamber'+'t']?j['particle_h'+'alflambert'+'PS']:j['particle_l'+'ambertPS']),_0x5a4a28['normal']>0xb12*-0x2+-0x65b*-0x1+0xfc9&&(_0x5d31ea+=j['particle_l'+'ightingPS']),_0x5a4a28['blend']===Gt?_0x5d31ea+=j['particle_b'+'lendNormal'+'PS']:_0x5a4a28['blend']===bp?_0x5d31ea+=j['particle_b'+'lendAddPS']:_0x5a4a28['blend']===wp&&(_0x5d31ea+=j['particle_b'+'lendMultip'+'lyPS']),_0x5d31ea+=j['particle_e'+'ndPS'];const _0x111bfc=new Map(Object['entries']({...j,..._0x5a4a28['chunks']}));return Ft['createDefi'+'nition'](_0x8613ff,{'name':'ParticleSh'+'ader','vertexCode':_0x60c0af,'fragmentCode':_0x5d31ea,'fragmentDefines':_0x5a4a28['defines'],'fragmentIncludes':_0x111bfc,'vertexDefines':_0x5a4a28['defines']});}}const s1=new t1();class i1 extends Sn{constructor(_0x2e9f01){super(),c(this,'emitter',null),(this['emitter']=_0x2e9f01,b['assert'](_0x2e9f01));}['getShaderV'+'ariant'](_0x955d0b){const {device:_0x593831,scene:_0x3969a3,cameraShaderParams:_0x50db2d}=_0x955d0b,{emitter:_0x1cda8b}=this,_0x5d4fee={'defines':Op(this,_0x955d0b),'pass':xn,'useCpu':this['emitter']['useCpu'],'normal':_0x1cda8b['lighting']?_0x1cda8b['normalMap']!==null?0x7c+0x93b+0x163*-0x7:-0x211b+0x1*0x7d7+0x1945:0x9*-0x191+-0x6*-0x457+-0xbf1,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'gamma':(_0x50db2d==null?void(0x65d+0x1a*0xef+-0x1*0x1ea3):_0x50db2d['shaderOutp'+'utGamma'])??al,'toneMap':(_0x50db2d==null?void(0x1*-0x7eb+0x49*0x2b+-0x458):_0x50db2d['toneMappin'+'g'])??Pp,'fog':_0x3969a3&&!this['emitter']['noFog']?_0x3969a3['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x1cda8b['inTools']?!(-0xa0d+0x15ed+-0x3*0x3f5):this['emitter']['screenSpac'+'e'],'blend':this['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==$h},_0x176663=new Jc(_0x955d0b['viewUnifor'+'mFormat'],_0x955d0b['viewBindGr'+'oupFormat'],_0x955d0b['vertexForm'+'at']),_0x2cac1e=za(_0x593831);return _0x2cac1e['register']('particle',s1),_0x2cac1e['getProgram']('particle',_0x5d4fee,_0x176663,this['userId']);}}const C_=[[-(0x1*-0x25b5+-0x1*-0x1c1+-0x107*-0x23),-(-0x1b7b+0xc72+0xaf*0x16)],[-0x1*-0x20cb+0xbf5+-0x8f3*0x5,-(0x1*-0x18bf+-0x1f61+0x3821*0x1)],[0x1267*0x1+-0x7*0x539+0x1229,-0x21f*0x11+-0xa*0x251+0x18f*0x26],[-(-0x9*0x19+-0x14*-0x7f+-0x90a),0x2467*0x1+0x1*0x1f83+-0x43e9*0x1]];function rs(_0x1bd098,_0x26c5ad,_0x6a4ca5,_0x161a24,_0x2936ea=et,_0x5501b5,_0x35ea8c){let _0x57d280=fe;_0x35ea8c&&(_0x2936ea===Te||_0x2936ea===cs)&&(_0x57d280=at);const _0x15fbde=new ce(_0x1bd098,{'width':_0x26c5ad,'height':_0x6a4ca5,'format':_0x2936ea,'cubemap':!(0x4*-0x559+-0x307*-0x8+-0x2d3),'mipmaps':!(0x1e3*-0x7+-0x616+0xf7*0x14),'minFilter':_0x57d280,'magFilter':_0x57d280,'addressU':oe,'addressV':oe,'name':'ParticleSy'+'stemTextur'+'e'}),_0x5cb5bc=_0x15fbde['lock']();if(_0x2936ea===Te||_0x2936ea===cs){const _0x2cc013=new Uint8Array(_0x161a24['length']);for(let _0x366315=0x7*0x252+0x19*0xc7+-0x23ad*0x1;_0x366315<_0x161a24['length'];_0x366315++)_0x2cc013[_0x366315]=_0x161a24[_0x366315]*_0x5501b5*(-0x1e99+0x266a+-0x246*0x3);_0x161a24=_0x2cc013;}return _0x5cb5bc['set'](_0x161a24),_0x15fbde['unlock'](),_0x15fbde;}function M_(_0x421a91){return Math['max'](Math['min'](_0x421a91,-0xfb6*-0x2+0x8e1*-0x3+-0x4c8),0x5b5+0x1*0x1609+-0x35*0x86);}const P_=new Ls([0x1b59+-0x962+-0x11f7,-0x1e32+-0x1491+-0x1*-0x32c3,0xd70+-0x1*0x1422+0x6b3,-0x319*-0x1+0x8b*0x20+0x6d3*-0x3]),R_=new Ls([0x185e+-0x2c*-0x79+0xf0e*-0x3,-0x1bca+-0x1ecd+0x14*0x2ee,0x7*-0x479+-0x243f+0x5*0xd83,0x5d5+0x1210+-0x17e4]),I_=new Yr([-0xf01+-0xaf1*-0x1+-0x5*-0xd0,0x18b5+-0x1*0x1646+0x7*-0x59,0x16ca+-0xa+0x9*-0x287,-0x261f*0x1+-0x71*0x3b+0x402a],[0x11a2+0xbab+-0x1d4d,-0x7*-0x47b+-0x1a3*-0x1+0x6*-0x580,-0x2047+0x18b7+0x791,0x1*-0x19ce+0x1*-0x92+0x4*0x698],[0x3e6*0x7+0x29*0x8f+0x10bb*-0x3,0x11fe+0x1971+-0x2b6f,0x1*-0x171b+0xb85+0x17*0x81,-0xffa+-0xc41+0x323*0x9]),r1=new Yr([-0x266e+0x1*-0x28d+0x28fb,-0x1a25+0x9*0x12c+0xf9a,-0x3c6+-0x1a6d+0x1e34,-0x117b+0x1ac4+-0x948],[0x4cd*-0x7+-0x4*0x1a6+-0x2833*-0x1,0x590+-0x15d6+-0x56d*-0x3,0x206*0x1+-0x1ec5+0x1cc0,-0x2*0xf01+-0x443*-0x5+-0x8b4*-0x1],[-0x1d21+-0x1a7*0x16+0x417b*0x1,-0x22c1+-0x577*-0x1+0x1d4b,-0xe*0x2c2+0xd77+0x1926,0x1eb*0xb+-0xcdd+-0x83b]);let li=0x7*0x24d+-0x1c9e+0xc85;const Wl=0xd05+-0x20c8+0x13c7*0x1,hi=new Float32Array(0xb39+0x1da+0x130*-0xb),Ar=new q(),D_=new A(),$l=new A(),ql=new A();let Xu,yh;function ne(_0x4fd678,_0x59b200){yh[_0x4fd678]!==void(-0x12a9*0x2+-0x2af+0x3a3*0xb)&&yh[_0x4fd678]!==null?Xu[_0x4fd678]=yh[_0x4fd678]:Xu[_0x4fd678]=_0x59b200;}function O0(_0x576023,_0xc3ccf5,_0x56e069){return(_0x576023*(-0x1a06+0x432+-0x16d3*-0x1)<<-0x20e3*0x1+-0x557*0x3+0x30f8|_0xc3ccf5*(-0x2*0xc7+0x22*0x11d+0x1*-0x234d)<<0x2*-0x1279+-0x14c1+0x1*0x39bb|_0x56e069*(-0xaff+-0x32d+0xf2b))/(0x176a*-0x1+-0x87d+-0x1fe8*-0x1<<0x615+0x8ac+-0xea9);}function L_(_0x35bf36,_0x4dcc39){const _0x437b87=_0x35bf36['length']/(0x60c+0x8be+-0xec7),_0x5181b7=new Array(_0x437b87*(-0xc5*0x24+0x1*-0x2197+0x3d4f));for(let _0x159a22=-0xe9*0x19+0x464*0x8+-0xc5f;_0x159a22<_0x437b87;_0x159a22++)_0x5181b7[_0x159a22*(0x7dc*-0x2+0x8*0x17b+-0x6*-0xa6)]=_0x35bf36[_0x159a22*(0x1*0x262+-0x1fe2+0x1d83)],_0x5181b7[_0x159a22*(-0x6d3+0xe1f+-0x748)+(0xd88+-0x2*-0xae9+-0x1*0x2359)]=_0x35bf36[_0x159a22*(0x2006*-0x1+-0x1*-0x219b+-0x192)+(-0x26d7+-0x2107+0x47df)],_0x5181b7[_0x159a22*(0x23fe+0x7*-0x2b9+-0x10eb)+(0x930+0xf95*0x1+-0x18c3)]=_0x35bf36[_0x159a22*(-0x14f*-0x1+-0x6dc+-0xb2*-0x8)+(-0x7f3*-0x1+0x65*0x35+-0x1cda)],_0x5181b7[_0x159a22*(0xb5e+0x1c84+-0x27de)+(0x1*-0x1dcb+-0x193b+0x3709)]=O0(_0x4dcc39[_0x159a22*(0xce5*0x1+-0x23*-0xe6+-0x2c54)],_0x4dcc39[_0x159a22*(-0x207f+-0x1ead*-0x1+0x1d5)+(0x209f*-0x1+-0x15d1+0x3671)],_0x4dcc39[_0x159a22*(-0x1bbb+0x435*0x7+-0x1b5)+(-0xf6b+-0x1ba6+-0x1*-0x2b13)]);return _0x5181b7;}function n1(_0x441919,_0x3ba539){const _0x1e291c=new Array(_0x3ba539['length']*(0x1946+0x3*0x745+-0x2f11));for(let _0x3317a9=-0x232*-0x2+0x4d+-0x4b1;_0x3317a9<_0x3ba539['length'];_0x3317a9++)_0x1e291c[_0x3317a9*(-0x29*0xe5+0x2342+0x16f)]=_0x441919[_0x3317a9*(0x1b68+-0x222a+0x6c5*0x1)],_0x1e291c[_0x3317a9*(-0x2*-0x617+-0x4d6*-0x2+-0x15d6)+(-0x15cc+0x11f*-0x19+0x31d4)]=_0x441919[_0x3317a9*(0x158f*0x1+-0xfe+-0x148e)+(0x801+0x1*0x1433+-0x1c33)],_0x1e291c[_0x3317a9*(0x748+-0x1bd4+0x1490)+(0x1284+0x248e+-0x3710)]=_0x441919[_0x3317a9*(0x86b+0x29*0xc3+-0x27a3)+(0xff*-0x5+-0x1a0b*0x1+-0x8*-0x3e1)],_0x1e291c[_0x3317a9*(-0x1*-0x197b+0xcdf+0x132b*-0x2)+(0x175c+-0x230b*0x1+0x6*0x1f3)]=_0x3ba539[_0x3317a9];return _0x1e291c;}function a1(_0x3d34a7,_0x37869d,_0x43e804,_0x24a48f,_0x5d9504){const _0x3c13a2=new Array(_0x3d34a7['length']*(-0x5b0+-0x11*0x218+0x294c));for(let _0x364f3e=0x61f*-0x5+0x13e0+0x43*0x29;_0x364f3e<_0x3d34a7['length'];_0x364f3e++)_0x3c13a2[_0x364f3e*(0xe6e+-0x269f+0x1835)]=_0x3d34a7[_0x364f3e],_0x3c13a2[_0x364f3e*(0x1*0x14e3+-0x84a+-0xc95)+(0x57+0x2525+-0x257b)]=_0x37869d[_0x364f3e],_0x3c13a2[_0x364f3e*(-0xee+0xdbe*-0x2+-0x2*-0xe37)+(0x10*0x8b+-0x3e5+-0x1*0x4c9)]=0x13bf+-0x2*-0xe00+0x2cf*-0x11,_0x3c13a2[_0x364f3e*(-0x440*0x7+-0x2*-0xf3e+-0xb8)+(-0xfb0+-0x266+0x1219)]=O0(_0x43e804[_0x364f3e],_0x24a48f[_0x364f3e],_0x5d9504[_0x364f3e]);return _0x3c13a2;}function o1(_0x23aa23,_0x210ccd){const _0x15dbed=new Array(_0x23aa23['length']*(0x26d9+0x57*-0x2c+-0x1*0x17e1));for(let _0x1ea181=0x1*0x23ff+-0xfc4+-0x143b;_0x1ea181<_0x23aa23['length'];_0x1ea181++)_0x15dbed[_0x1ea181*(0xa6*-0x2e+0x712+-0x1*-0x16c6)]=_0x23aa23[_0x1ea181],_0x15dbed[_0x1ea181*(-0x1*0x23bf+-0x3d*0x15+0x28c4)+(-0x4*0x301+0x11e8+-0xb*0x89)]=_0x210ccd[_0x1ea181],_0x15dbed[_0x1ea181*(0x9b1*0x4+-0x1*0xc51+-0x1a6f)+(-0x4*0x2ea+0x24b*-0xd+0x2979)]=0x982+0x27*-0xa7+-0xfef*-0x1,_0x15dbed[_0x1ea181*(0x1319+-0x14e5+0x1d0)+(0x1dfe+-0xb3e*0x1+-0x12bd)]=-0xda*0x8+0x145c+0x484*-0x3;return _0x15dbed;}function l1(_0x4f42a6){const _0xb8eedc=Math['max'](_0x4f42a6['rate'],_0x4f42a6['rate2'])*_0x4f42a6['numParticl'+'es']+_0x4f42a6['lifetime'];return Date['now']()+_0xb8eedc*(-0x2464+-0x19fa+-0x4246*-0x1);}function h1(_0x31f0ba,_0x22e7b6){const _0x1def08=new Float32Array(_0x31f0ba['length']);for(let _0x979c2c=0xd83+-0x107b*-0x1+-0x1dfe*0x1;_0x979c2c<_0x31f0ba['length'];_0x979c2c++)_0x1def08[_0x979c2c]=_0x31f0ba[_0x979c2c]-_0x22e7b6[_0x979c2c];return _0x1def08;}function kr(_0x1e82b4,_0x1cecf0){const _0x3ab237=_0x1cecf0['length'],_0x1335a2=_0x1e82b4['length']/_0x3ab237;for(let _0xbf8e44=-0x1b*-0x5c+-0x1*-0x118d+-0x1*0x1b41;_0xbf8e44<_0x1335a2;_0xbf8e44++)for(let _0x5f1ba5=-0x172b*0x1+0x4b1*0x3+0x4*0x246;_0x5f1ba5<_0x3ab237;_0x5f1ba5++){const _0x526ef0=Math['abs'](_0x1e82b4[_0xbf8e44*_0x3ab237+_0x5f1ba5]);_0x1cecf0[_0x5f1ba5]=Math['max'](_0x1cecf0[_0x5f1ba5],_0x526ef0);}}function c1(_0x29fd22,_0x205aed){const _0x582015=_0x205aed['length'],_0x5ac973=_0x29fd22['length']/_0x582015;for(let _0x5c813b=-0x95b*0x4+0x2286+-0x2*-0x173;_0x5c813b<_0x5ac973;_0x5c813b++)for(let _0x620d86=0x1*-0x133c+-0x1360*-0x1+0x24*-0x1;_0x620d86<_0x582015;_0x620d86++)_0x29fd22[_0x5c813b*_0x582015+_0x620d86]/=_0x205aed[_0x620d86]===0x1d*0x3d+-0x52b*0x1+-0x1be?-0xb00+-0x4*0x566+0x2099:_0x205aed[_0x620d86],_0x29fd22[_0x5c813b*_0x582015+_0x620d86]*=-0x1840+0xbf*0x21+-0x5f+0.5,_0x29fd22[_0x5c813b*_0x582015+_0x620d86]+=-0x59*0x6b+-0x13ed+0x3920+0.5;}function Er(_0x1f7a62,_0x281ae6,_0x507e40){const _0x563837=h1(_0x281ae6,_0x1f7a62);return kr(_0x563837,_0x507e40),c1(_0x563837,_0x507e40),_0x563837;}const d1=new Ht();class u1{constructor(_0x4b929b,_0x469ef2){c(this,'material',null),c(this,'internalTe'+'x0',null),c(this,'internalTe'+'x1',null),c(this,'internalTe'+'x2',null),c(this,'colorParam',null),this['graphicsDe'+'vice']=_0x4b929b;const _0x3c444b=_0x4b929b,_0x4cbedc=-0xa*-0xdf+0x1ead*0x1+-0x2743;this['precision']=_0x4cbedc,this['_addTimeTi'+'me']=0x18*0x12a+0x23b2+0x3*-0x1536,Xu=this,yh=_0x469ef2,ne('numParticl'+'es',0xe60+0xcc1+0x4*-0x6c8),this['numParticl'+'es']>_0x4b929b['maxTexture'+'Size']&&(b['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x4b929b['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x4b929b['maxTexture'+'Size']),ne('rate',-0x22ef+-0x7c5+-0x2ab5*-0x1),ne('rate2',this['rate']),ne('lifetime',0x1b*0x9a+0x24ac+-0x34b8),ne('emitterExt'+'ents',new A(-0x71*-0x28+0x27*0xb6+-0x2d62,-0x579*0x5+0x1*-0xbe3+0x2740,-0x1ed4*0x1+0x20ea+-0x216)),ne('emitterExt'+'entsInner',new A(-0x814+0x697*0x1+0x17d*0x1,0x1562+-0x23b5*0x1+-0x1*-0xe53,-0x18d2+0x19c2*0x1+-0x5*0x30)),ne('emitterRad'+'ius',0x303+0x3df*-0x1+-0x5*-0x2c),ne('emitterRad'+'iusInner',-0x127e+0x12eb*0x1+-0x6d),ne('emitterSha'+'pe',qs),ne('initialVel'+'ocity',0x6f0+0x1012+-0x1701),ne('wrap',!(-0x3e2+-0x7af+-0x2*-0x5c9)),ne('localSpace',!(0x231a+0x8fd+0x13*-0x252)),ne('screenSpac'+'e',!(-0x238a+0x192c+0xa5f)),ne('wrapBounds',null),ne('colorMap',this['defaultPar'+'amTexture']),ne('normalMap',null),ne('loop',!(0x1e7c*-0x1+-0x13*0xbf+-0x1*-0x2ca9)),ne('preWarm',!(0x3*0xc93+-0x156+-0x1231*0x2)),ne('sort',Ou),ne('mode',u0),ne('scene',null),ne('lighting',!(0x1b7a+0x1cd6+-0x384f)),ne('halfLamber'+'t',!(-0x17a5*-0x1+-0x60*0x35+-0x3c4)),ne('intensity',0x2452+0x1*-0x17bf+-0xc92),ne('stretch',0x2693+0x103*-0xd+-0x196c),ne('alignToMot'+'ion',!(0x7*0x455+0x1212+-0x2*0x1832)),ne('depthSofte'+'ning',0x6*0x2ad+-0x8aa*0x3+0x9f0),ne('mesh',null),ne('particleNo'+'rmal',new A(-0x1b*0x15f+0x238f+-0xbb*-0x2,-0x1635+0xfce+0x668,-0x4*-0x7ed+-0x10ca+0x53*-0x2e)),ne('orientatio'+'n',$h),ne('depthWrite',!(-0xb8*0xf+-0x4*-0x54a+-0xa5f)),ne('noFog',!(-0x1b94+0x21c+0x1979*0x1)),ne('blendType',Gt),ne('node',null),ne('startAngle',0x434+-0x22ef+0x1*0x1ebb),ne('startAngle'+'2',this['startAngle']),ne('animTilesX',0x2503+-0x7*-0x2e8+0x98f*-0x6),ne('animTilesY',0xafe*0x1+-0x243*0xf+-0x8*-0x2de),ne('animStartF'+'rame',-0x16bd+-0x80f+0x291*0xc),ne('animNumFra'+'mes',-0x25*-0xb3+-0xda0+-0xc3e),ne('animNumAni'+'mations',0x1bd9+-0x2*-0x25+-0x1c22),ne('animIndex',-0x1*-0x22e1+0x1418+-0x36f9),ne('randomizeA'+'nimIndex',!(-0x185*-0x1+0x1*0x11b1+-0x1335)),ne('animSpeed',-0x1*-0x129b+-0x1*0x15fa+0x360),ne('animLoop',!(-0x81f*0x4+0xb*-0x141+0x167*0x21)),this['_gpuUpdate'+'r']=new e1(this,_0x3c444b),this['_cpuUpdate'+'r']=new JM(this),this['emitterPos'+'Uniform']=new Float32Array(0x17f6*-0x1+0x53e*0x5+0xbf*-0x3),this['wrapBounds'+'Uniform']=new Float32Array(0x17d1+-0x378+-0x89*0x26),this['emitterSca'+'leUniform']=new Float32Array([0xe*0x5c+0x155c+0xc1*-0x23,-0x13b1+-0x2582+-0xe*-0x416,0x1d93*0x1+-0x9eb*-0x1+-0x277d]),ne('colorGraph',r1),ne('colorGraph'+'2',this['colorGraph']),ne('scaleGraph',R_),ne('scaleGraph'+'2',this['scaleGraph']),ne('alphaGraph',R_),ne('alphaGraph'+'2',this['alphaGraph']),ne('localVeloc'+'ityGraph',I_),ne('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),ne('velocityGr'+'aph',I_),ne('velocityGr'+'aph2',this['velocityGr'+'aph']),ne('rotationSp'+'eedGraph',P_),ne('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),ne('radialSpee'+'dGraph',P_),ne('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x1ab8+-0x15be+0x3078),this['animParams']=new Float32Array(0x560+0x402+-0x95e),this['animIndexP'+'arams']=new Float32Array(0x29*-0xa3+-0xc0d+0x1315*0x2),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x1c96*0x1+-0x1*-0x1625+-0x32ba),this['useMesh']=!(0x1*-0x13a3+-0x11c6+0x2569),this['useCpu']=!_0x4b929b['supportsGp'+'uParticles'],this['pack8']=!(0x2465+-0x1*-0x1228+0x122f*-0x3),this['localBound'+'s']=new ve(),this['worldBound'+'sNoTrail']=new ve(),this['worldBound'+'sTrail']=[new ve(),new ve()],this['worldBound'+'s']=new ve(),this['worldBound'+'sSize']=new A(),this['prevWorldB'+'oundsSize']=new A(),this['prevWorldB'+'oundsCente'+'r']=new A(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new A(),this['worldBound'+'sAdd']=new A(),this['timeToSwit'+'chBounds']=-0x23e3*-0x1+0x17b8+-0x3b9b,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=0x3c+-0x1*-0x1779+-0x17b5,this['numParticl'+'eIndices']=0xa*-0x14e+-0x1a27+0x2733,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=0x75b+-0x1*0x2a6+-0x4b5,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x252a+0x755*-0x3+0x3b2a)/(0x1e31+0x15cb+-0x33c0),this['maxSubStep'+'s']=-0x22ca+-0x1567*0x1+0x5*0xb3f,this['simTime']=-0x2c6+0xedb+-0xc15*0x1,this['simTimeTot'+'al']=0x7*-0x1cd+-0x1*0x1349+0x1fe4,this['beenReset']=!(0x1*-0x419+-0x160a+0x3bc*0x7),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return b['assert'](this['graphicsDe'+'vice']),d1['get'](this['graphicsDe'+'vice'],()=>{const _0x3107e0=new Float32Array(-0x48c+-0x2226+0x5*0x88a);for(let _0x190fb0=-0x3d3+-0x2*-0x34c+-0x2c5;_0x190fb0<0xbc1*-0x1+-0x1e1*-0x7+-0x156;_0x190fb0++)for(let _0x4c5abc=-0x17c1+0x982+0x7*0x209;_0x4c5abc<-0xd24+0x24c6+0x35e*-0x7;_0x4c5abc++){const _0x2ee473=_0x4c5abc+(0x954+-0x49a*0x2+-0x1f*0x1)-(-0x3bc+-0x20f+0x5d3+0.5),_0x57812e=_0x190fb0+(-0xd*-0x17f+0x1*0x2042+-0x33b4)-(-0x17f7+-0xa*-0xd7+0xf99+0.5),_0x1456bf=M_(0xffb*-0x1+0x3*-0x13e+0x13b6-M_(Math['sqrt'](_0x2ee473*_0x2ee473+_0x57812e*_0x57812e)/(-0x247*0x5+-0xcc9*0x1+0x183c))-(0x15a6+-0xb*0x187+-0x11*0x49+0.5)),_0xe27ed9=_0x190fb0*(0xb10+-0x765*-0x1+0x115*-0x11)+_0x4c5abc;_0x3107e0[_0xe27ed9*(-0x864+0x7fa*0x2+0x6*-0x142)]=0x1405+-0x3*0x21e+-0xdaa,_0x3107e0[_0xe27ed9*(0xa*0x33e+-0xcf4*-0x1+-0x2d5c)+(0x1*0x1e21+-0xc9d+0x1183*-0x1)]=-0x2bd*0x6+0x7f3+-0xb5*-0xc,_0x3107e0[_0xe27ed9*(-0xd67*-0x1+0x17e9+-0x254c)+(0x119f+-0x2e*-0x33+-0x1ac7)]=0x24+-0x1090+0x1*0x106d,_0x3107e0[_0xe27ed9*(0x1873+0x1*0x1799+-0xc02*0x4)+(-0x998+0xaee+-0x153)]=_0x1456bf;}const _0x22fe70=rs(this['graphicsDe'+'vice'],-0xfa7+0x2228+-0x1271,-0x137d+-0x2673*0x1+-0x2*-0x1d00,_0x3107e0,cs,0xf*0x22c+-0x2609+0x576,!(-0x175*0x13+0x12a3+0x90c));return _0x22fe70['minFilter']=at,_0x22fe70['magFilter']=at,_0x22fe70;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x2369+-0x270b+0x4a75)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x5e*-0x2f+0x1844+0xa3*-0xb)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x11eb+-0x1ea3+-0x191*-0x1f)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(-0x1a3*0x11+-0xcc3+0x2897)),this['worldBound'+'sAdd']['x']+=-0x1*-0xf63+-0x768+0x2a9*-0x3+0.5,this['worldBound'+'sAdd']['y']+=-0x295+-0x9a4+-0xc39*-0x1+0.5,this['worldBound'+'sAdd']['z']+=-0x1*-0x1113+0x143e+-0x2551+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x2a8708=!(0xd19+0x1*-0x8ed+-0xb*0x61);this['emitterSha'+'pe']===qs?_0x2a8708=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x2a8708=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x2a8708&&this['calculateL'+'ocalBounds']();}const _0x452ec8=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x452ec8),this['worldBound'+'sTrail'][0x14*-0x1df+-0x1228+0x3794]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x4*0x88+0x267b+-0x245a]['add'](this['worldBound'+'sNoTrail']);const _0x5a5f34=this['simTimeTot'+'al'];_0x5a5f34>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x2376+0x2*-0xe4f+0x4014]['copy'](this['worldBound'+'sTrail'][0x1*-0x2186+-0x1*0xe98+0x301f]),this['worldBound'+'sTrail'][-0x1*-0xa1f+-0x3*0x81b+0xe33]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x5a5f34+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0xc40*-0x3+-0xd73+-0x174d]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x21f9+0x169e+0xb5d),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x452ec8),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x452ec8)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0xf*-0x18f+0x9*0x3c5+-0xa8b-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0xf*-0x1f9+-0x40+-0x1d57]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x1ff6+-0xa0e+0x1*0x2a05]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x1813+-0x2007+0x3fa*0x2]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0xb*-0x45+0x14ab+-0x2f3*0x6),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x1*0x1c0d+0x22a*0x11+-0x40d7,this['timeToSwit'+'chBounds']=-0x15b8+0x21f0+0x44*-0x2e);}['calculateL'+'ocalBounds'](){let _0x2453b6=Number['MAX_VALUE'],_0x58cb40=Number['MAX_VALUE'],_0x20f253=Number['MAX_VALUE'],_0x385e38=-Number['MAX_VALUE'],_0x326ba1=-Number['MAX_VALUE'],_0x42f65f=-Number['MAX_VALUE'],_0x4fc3d1=0x2*-0x12df+0x11*0x191+0xb1d,_0x5ede20=-0x1451*0x1+-0x2225+0x3676;const _0x3d2ce0=this['lifetime']/this['precision'],_0x5d0f7f=[this['qVelocity'],this['qVelocity2']],_0x1f0ec5=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x5081bd=[0x1445+-0x23c1+0xf7c,-0x104+0x1a50+-0x194c],_0x299a62=[-0x603+0x991+0x1a*-0x23,0x43*0x1d+0xd*-0x101+0x1*0x576],_0x42ab70=[0x81*0x13+-0x22be*-0x1+-0x2c51,0x5d5*0x3+0x259b+-0x125e*0x3],_0x31644a=[-0x4*0x78b+-0x10c3+-0x1bd*-0x1b,-0x7ed*-0x1+-0x19a6+0x11b9],_0x5ec983=[-0x482*-0x1+-0x5ae*0x6+0xa*0x2f5,0x13b+0x2f*0x8+-0x2b3];let _0x28ef6c,_0x141d22,_0x1b152e;for(let _0x3c4d8f=0x10ed+-0xa0*0x20+0x313;_0x3c4d8f<this['precision']+(0x1*-0x4f3+-0x14e7+0x19db);_0x3c4d8f++){const _0x594cde=Math['min'](_0x3c4d8f,this['precision']-(-0x330+-0x17d9+0x1b0a));for(let _0x9f337c=-0x268d+0xe09*-0x2+0x429f;_0x9f337c<-0x1*-0x1af2+0x3*-0x6de+-0x656;_0x9f337c++)_0x28ef6c=_0x1f0ec5[_0x9f337c][_0x594cde*(-0x201*-0x10+-0x25*-0xd3+-0xfa3*0x4)+(-0x1e9e+0x204f+-0x1b1*0x1)]*_0x3d2ce0+_0x5081bd[_0x9f337c],_0x141d22=_0x1f0ec5[_0x9f337c][_0x594cde*(0x24a9+0x91*0x1+0x1*-0x2537)+(0x4*0x37+0x1e5c+0x3d*-0x83)]*_0x3d2ce0+_0x299a62[_0x9f337c],_0x1b152e=_0x1f0ec5[_0x9f337c][_0x594cde*(-0x33+0xeb1+-0xe7b)+(-0x21ab+0x64*0x12+0x1aa5*0x1)]*_0x3d2ce0+_0x42ab70[_0x9f337c],_0x2453b6=Math['min'](_0x28ef6c,_0x2453b6),_0x58cb40=Math['min'](_0x141d22,_0x58cb40),_0x20f253=Math['min'](_0x1b152e,_0x20f253),_0x385e38=Math['max'](_0x28ef6c,_0x385e38),_0x326ba1=Math['max'](_0x141d22,_0x326ba1),_0x42f65f=Math['max'](_0x1b152e,_0x42f65f),_0x5081bd[_0x9f337c]=_0x28ef6c,_0x299a62[_0x9f337c]=_0x141d22,_0x42ab70[_0x9f337c]=_0x1b152e;for(let _0x200381=0x1*-0x1b93+0x3*0x811+-0x1b0*-0x2;_0x200381<-0x3*-0x6ec+-0x1ca2+0x7e0;_0x200381++)_0x5ec983[_0x200381]+=_0x3d2ce0*Math['sqrt'](_0x5d0f7f[_0x200381][_0x594cde*(-0x3e*-0x1+-0x5a0+0x565)+(0x11c4*0x1+-0x68b+-0x11*0xa9)]*_0x5d0f7f[_0x200381][_0x594cde*(0xd80+0xf5*-0x3+-0x3*0x38a)+(0xef3*-0x2+-0x1*0xf80+0x2d66)]+_0x5d0f7f[_0x200381][_0x594cde*(-0x599*0x1+0x5*0x326+-0xa22)+(0x36*-0x1e+-0x6*0x115+0xcd3)]*_0x5d0f7f[_0x200381][_0x594cde*(0x1*0xaae+0x1ae6+-0x2591)+(0x21ac*0x1+-0x1*-0x633+-0x27de)]+_0x5d0f7f[_0x200381][_0x594cde*(0x4*0x5a0+0x1*0xdd5+-0x2452)+(-0x11*-0xad+0x1b42+-0x26bd)]*_0x5d0f7f[_0x200381][_0x594cde*(-0x2630+0xca7+0x198c)+(-0x27*0xcd+-0x13b*-0xc+0x1*0x1079)]);_0x31644a[-0x244f+0x1be2+0x86d]+=this['qRadialSpe'+'ed'][_0x594cde]*_0x3d2ce0,_0x31644a[0x1*0x1863+0x12ee+-0x2b50]+=this['qRadialSpe'+'ed2'][_0x594cde]*_0x3d2ce0,_0x4fc3d1=Math['max'](_0x4fc3d1,Math['max'](Math['abs'](_0x31644a[0x1145*-0x1+-0x7*0x1b1+-0x4*-0x747]),Math['abs'](_0x31644a[-0x1d40+-0x5c9*-0x1+0x1778]))),_0x5ede20=Math['max'](_0x5ede20,this['qScale'][_0x594cde]);}this['emitterSha'+'pe']===qs?(_0x28ef6c=this['emitterExt'+'ents']['x']*(-0x1118+-0x1fdd+0x1*0x30f5+0.5),_0x141d22=this['emitterExt'+'ents']['y']*(-0x1*-0x259+-0x1ab5+0x185c+0.5),_0x1b152e=this['emitterExt'+'ents']['z']*(-0x1b9+-0xdb5+0xf6e+0.5)):(_0x28ef6c=this['emitterRad'+'ius'],_0x141d22=this['emitterRad'+'ius'],_0x1b152e=this['emitterRad'+'ius']);const _0x3785b5=Math['max'](_0x5ec983[0x2*-0xa52+0x8d*0x43+-0x1043],_0x5ec983[-0xd*-0x23b+0x1*-0x603+-0x16fb]);$l['x']=_0x2453b6-_0x5ede20-_0x28ef6c-_0x4fc3d1-_0x3785b5,$l['y']=_0x58cb40-_0x5ede20-_0x141d22-_0x4fc3d1-_0x3785b5,$l['z']=_0x20f253-_0x5ede20-_0x1b152e-_0x4fc3d1-_0x3785b5,ql['x']=_0x385e38+_0x5ede20+_0x28ef6c+_0x4fc3d1+_0x3785b5,ql['y']=_0x326ba1+_0x5ede20+_0x141d22+_0x4fc3d1+_0x3785b5,ql['z']=_0x42f65f+_0x5ede20+_0x1b152e+_0x4fc3d1+_0x3785b5,this['localBound'+'s']['setMinMax']($l,ql);}['rebuild'](){const _0x2c0406=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===qs?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>Ou||_0x2c0406['maxVertexT'+'extures']<=0x58f*-0x4+-0x113+-0x2*-0xba8||_0x2c0406['fragmentUn'+'iformsCoun'+'t']<0xfa1+0x1*0x2219+-0x317a||_0x2c0406['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x2c0406['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],li=this['useCpu']||this['pack8']?0x60d*0x3+0x10b8+0x22db*-0x1:-0x227c+0x1*0x1493+0xdeb,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=z['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?q['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1df9*-0x1+0x1055+0x2*-0x1727]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][0x31*0xa5+-0xe5*-0x1e+-0x3a6a]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x5e5+-0x16bc+-0x1*-0x10d9),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x56a17c=0x9dd+-0x1991+0x5*0x324;_0x56a17c<this['numParticl'+'es'];_0x56a17c++)this['vbToSort'][_0x56a17c]=[0x25b9+0x226c+-0x1*0x4825,0x13f8+0x8b5+-0x1cad];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*li*Wl);const _0x30b231=this['node']===null||this['localSpace']?A['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===qs&&(this['node']===null||this['localSpace']?Ar['setTRS'](A['ZERO'],ie['IDENTITY'],this['spawnBound'+'s']):Ar['setTRS'](A['ZERO'],this['node']['getRotatio'+'n'](),D_['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),hi[0x77f+-0x1eb6*0x1+0x1737]=this['emitterExt'+'ents']['x']!==0x1a63+-0x1057*-0x2+-0x1*0x3b11?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x1*-0x8a7+-0x1*-0x1a1e+0x9*-0x3dd,hi[0x1739+0x12bf*0x1+-0x29f7]=this['emitterExt'+'ents']['y']!==0x87b+0x11c5+-0x1a40?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x3*-0xae1+-0x1955+-0x5*0x176,hi[-0x160f+0x1*-0xc5+0xb6b*0x2]=this['emitterExt'+'ents']['z']!==-0x1*0x5d6+-0xf*-0x1a+-0x8*-0x8a?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x1*0x1855+0xc91+0xc*0xfb);for(let _0x505a3a=-0x9cc+-0x1*0xcc9+0x1695*0x1;_0x505a3a<this['numParticl'+'es'];_0x505a3a++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ar,hi,_0x30b231,_0x505a3a),this['useCpu']&&(this['particleTe'+'x'][_0x505a3a*Wl+(0x11*-0x9f+0x2061+-0x15cf*0x1)+this['numParticl'+'esPot']*(0x29d+-0x2241+0x1*0x1fa6)*Wl]=-0x150b+0x192e*0x1+-0x422);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*li*Wl);for(let _0x2f45f2=0x2c*-0x49+-0x5ff+0x128b;_0x2f45f2<this['particleTe'+'xStart']['length'];_0x2f45f2++)this['particleTe'+'xStart'][_0x2f45f2]=this['particleTe'+'x'][_0x2f45f2];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=rs(_0x2c0406,this['numParticl'+'esPot'],li,this['particleTe'+'x'],Te,-0x7*0x57b+0x12fd*-0x2+0x4c58,!(-0x1*0x1643+-0x1*0xec2+0x1283*0x2)),this['particleTe'+'xOUT']=rs(_0x2c0406,this['numParticl'+'esPot'],li,this['particleTe'+'x'],Te,0x1*0x1f75+0xf6*0x27+0x16fa*-0x3,!(-0xd2b*0x1+-0x1e6c+0x2b98)),this['particleTe'+'xStart']=rs(_0x2c0406,this['numParticl'+'esPot'],li,this['particleTe'+'xStart'],Te,-0xd3*0xd+0x79d*-0x1+0x1255,!(0x1cd5+0xad8+0x13d6*-0x2))):(this['particleTe'+'xIN']=rs(_0x2c0406,this['numParticl'+'esPot'],li,this['particleTe'+'x']),this['particleTe'+'xOUT']=rs(_0x2c0406,this['numParticl'+'esPot'],li,this['particleTe'+'x']),this['particleTe'+'xStart']=rs(_0x2c0406,this['numParticl'+'esPot'],li,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new St({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x1ef7*0x1+-0x2*0xd5e+0x2*-0x21d)}),this['rtParticle'+'TexOUT']=new St({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0xd7+0x1*-0x99d+0xa75)}),this['swapTex']=!(-0x1550+0xb*-0x2c5+0x33c8));const _0x33b671=(this['localSpace']?'#define\x20LO'+'CAL_SPACE\x0a':'')+j['particleUp'+'daterInitP'+'S']+(this['pack8']?j['particleIn'+'putRgba8PS']+j['particleOu'+'tputRgba8P'+'S']:j['particleIn'+'putFloatPS']+j['particleOu'+'tputFloatP'+'S'])+(this['emitterSha'+'pe']===qs?j['particleUp'+'daterAABBP'+'S']:j['particleUp'+'daterSpher'+'ePS'])+j['particleUp'+'daterStart'+'PS'],_0x483e23=_0x33b671+j['particleUp'+'daterRespa'+'wnPS']+j['particleUp'+'daterEndPS'],_0x15db54=_0x33b671+j['particleUp'+'daterNoRes'+'pawnPS']+j['particleUp'+'daterEndPS'],_0x3aaf70=_0x33b671+j['particleUp'+'daterOnSto'+'pPS']+j['particleUp'+'daterEndPS'],_0x6e53c7='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'];this['shaderPart'+'icleUpdate'+'Respawn']=Bs(_0x2c0406,j['fullscreen'+'QuadVS'],_0x483e23,'ParticleUp'+'dateRespaw'+'n-'+_0x6e53c7),this['shaderPart'+'icleUpdate'+'NoRespawn']=Bs(_0x2c0406,j['fullscreen'+'QuadVS'],_0x15db54,'ParticleUp'+'dateNoResp'+'awn-'+_0x6e53c7),this['shaderPart'+'icleUpdate'+'OnStop']=Bs(_0x2c0406,j['fullscreen'+'QuadVS'],_0x3aaf70,'ParticleUp'+'dateStop-'+_0x6e53c7),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0x5fd+0x1b5*-0x1+0x4e*-0xe,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x1*0x119d+0x2688+-0x14eb]['numIndices']:0x8ab+0x4d2*-0x7+-0x101*-0x19,this['_allocate'](this['numParticl'+'es']);const _0x5637b3=new ke(_0x2c0406);_0x5637b3['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x5637b3['indexBuffe'+'r'][0x105b+-0x1*-0x251e+-0x5f1*0x9]=this['indexBuffe'+'r'],_0x5637b3['primitive'][0x5*-0x48b+0x1a45+-0x82*0x7]['type']=Fs,_0x5637b3['primitive'][0x212f+-0x443+-0x1cec]['base']=0x144e*0x1+-0x1887+-0x439*-0x1,_0x5637b3['primitive'][-0x6*0x17d+0x25c*0x8+-0x2*0x4f9]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x5637b3['primitive'][0xc8*0x1f+-0x1c16+-0xc6*-0x5]['indexed']=!(0x27*-0x96+0x332+-0x4ea*-0x4),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x4b32c6=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1*0x1df+0xc22+-0xa43);this['meshInstan'+'ce']=new Be(_0x5637b3,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x1d8*0xd+0x581+-0x1d78),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x21f1*0x1+-0x13*-0x6d+-0x2a08),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(0x1*-0x16d3+-0x1353+-0x3*-0xe0d),this['meshInstan'+'ce']['visible']=_0x4b32c6,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0xc9d*0x1+0x20ea+0x144d*-0x1,!(-0x2c*0x6d+0x459*-0x5+0x287a)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0xd30+0x1a45+-0xd14&&(this['animTilesX']>-0x1*0x1d8b+0x10ac+-0x67*-0x20||this['animTilesY']>0x3b*0x56+-0x1a47+0x676*0x1)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x5c2ed2=this['precision'],_0x37693c=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x5c2ed2),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x5c2ed2),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x5c2ed2,0x80*-0x21+-0x1be7+0x1*0x2c67,0x1c9b*-0x1+0x1ea*0x5+-0x130a*-0x1),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x5c2ed2),this['qScale']=this['scaleGraph']['quantize'](_0x5c2ed2),this['qAlpha']=this['alphaGraph']['quantize'](_0x5c2ed2),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x5c2ed2),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x5c2ed2),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x5c2ed2),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x5c2ed2,-0x9*0x30+-0x26b3+0x2863,0x3*0x475+-0x1*0x13e6+0x688),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x5c2ed2),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x5c2ed2),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x5c2ed2),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x5c2ed2);for(let _0x37d65c=0x157+0x4c4+-0x61b;_0x37d65c<_0x5c2ed2;_0x37d65c++)this['qRotSpeed'][_0x37d65c]*=z['DEG_TO_RAD'],this['qRotSpeed2'][_0x37d65c]*=z['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0xb5*0x27+-0x7*-0x21d+0x28f*0x5),this['velocityUM'+'ax']=new Float32Array(0x1*-0x11db+-0x2*0xe24+0x2e26),this['colorUMax']=new Float32Array(0xc38+-0x24d5+0x18a0),this['rotSpeedUM'+'ax']=[-0x43*0x6e+-0x1e95+-0x3b5f*-0x1],this['scaleUMax']=[0x1f1b*-0x1+0x529*0x5+0x54e],this['alphaUMax']=[-0x17de+0x5e3+0x11fb],this['radialSpee'+'dUMax']=[0x6e3*0x1+-0x141b+0xd38],this['qLocalVelo'+'cityDiv']=Er(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Er(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Er(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Er(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Er(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Er(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Er(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x219cbe=[0x2012+-0x25ed+-0x1*-0x5db,-0x1a66+-0x7*-0x92+-0x6*-0x3bc,-0x83e+-0x2b*-0x1b+-0x1*-0x3b5];kr(this['qVelocity'],_0x219cbe);const _0x2e6027=[0x15bd+0x47e*-0x3+-0x843,-0x9f4*0x1+-0x4*0x2f9+-0x748*-0x3,-0x138d+-0x7a2+0x1b2f];kr(this['qVelocity2'],_0x2e6027);const _0x1fcf03=[-0x2556+-0xc*0x1a3+0x66*0x8f,0xe3*0x17+0x2653*-0x1+0x99*0x1e,-0xd32+-0x2d4+0x1*0x1006];kr(this['qLocalVelo'+'city'],_0x1fcf03);const _0x273f05=[-0x89*-0x34+-0x185e*-0x1+-0x22*0x189,-0x1312+0x1e34+-0x4b*0x26,-0x3*0x9f+0x606*0x4+-0x163b];kr(this['qLocalVelo'+'city2'],_0x273f05);const _0x108873=[-0x15*-0x9d+0x176a+-0x244b];kr(this['qRadialSpe'+'ed'],_0x108873);const _0x191593=[-0x2*0xcc3+-0x756+-0x6*-0x57a];kr(this['qRadialSpe'+'ed2'],_0x191593);let _0x20671d=Math['max'](_0x219cbe[0x1b42+0x25be+0x68*-0xa0],_0x2e6027[0x51a+-0x181c+-0x32b*-0x6]);_0x20671d=Math['max'](_0x20671d,_0x219cbe[-0x1*0xc88+0x1107+-0x47e]),_0x20671d=Math['max'](_0x20671d,_0x2e6027[-0x22c2+-0x2160+0x4423*0x1]),_0x20671d=Math['max'](_0x20671d,_0x219cbe[-0x1*-0x2572+0x190f+-0x3e7f]),_0x20671d=Math['max'](_0x20671d,_0x2e6027[0x1*0xa0e+0x25a6+0x2fb2*-0x1]);let _0x52f622=Math['max'](_0x1fcf03[0x15e5*-0x1+0x3b*0x77+-0x588],_0x273f05[0x1bf5+0x14b0+-0x30a5]);_0x52f622=Math['max'](_0x52f622,_0x1fcf03[0x212*0xa+0x1*-0x903+-0xbb0]),_0x52f622=Math['max'](_0x52f622,_0x273f05[0x1*0x62+0x1151+0x6*-0x2f3]),_0x52f622=Math['max'](_0x52f622,_0x1fcf03[0x21fb*0x1+-0x1*-0x148d+-0x3686]),_0x52f622=Math['max'](_0x52f622,_0x273f05[0xa28+-0x1db+-0xc1*0xb]);const _0xc62eb5=Math['max'](_0x108873[-0x3*0x77f+0x313*0x4+0xa31*0x1],_0x191593[0x3*-0xacf+-0x12fd*0x1+0x336a]);this['maxVel']=_0x20671d+_0x52f622+_0xc62eb5;}this['useCpu']||(this['internalTe'+'x0']=rs(_0x37693c,_0x5c2ed2,-0x148*0x4+0x11ef+-0xcce,L_(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=rs(_0x37693c,_0x5c2ed2,0x1b78+0x4a2+0x9*-0x391,L_(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=rs(_0x37693c,_0x5c2ed2,-0x72*-0x32+-0x133d+0x56*-0x9,a1(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=rs(_0x37693c,_0x5c2ed2,0x22c4+-0x1*0x39b+0x1f28*-0x1,o1(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=rs(_0x37693c,_0x5c2ed2,-0x178c+0x1b0c+-0x37f,n1(this['qColor'],this['qAlpha']),cs,0xd7b+-0x564+0x17*-0x5a,!(0x1413+-0x1b04+-0x1*-0x6f1));}['_setMateri'+'alTextures'](){this['colorMap']&&(b['call'](()=>{Cy(this['colorMap']['format'])&&b['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x234f7c=new i1(this);return _0x234f7c['name']='EmitterMat'+'erial:'+this['node']['name'],_0x234f7c['cull']=vt,_0x234f7c['alphaWrite']=!(-0x5*0x28d+0x2*-0x270+0x11a2),_0x234f7c['blendType']=this['blendType'],_0x234f7c['depthWrite']=this['depthWrite'],_0x234f7c;}['resetMater'+'ial'](){const _0x5aa917=this['material'];_0x5aa917['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x5aa917['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x5aa917['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x5aa917['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x5aa917['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x5aa917['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x5aa917['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x5aa917['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x5aa917['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x5aa917['setParamet'+'er']('colorParam',this['colorParam']),_0x5aa917['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x5aa917['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x5aa917['setParamet'+'er']('lifetime',this['lifetime']),_0x5aa917['setParamet'+'er']('rate',this['rate']),_0x5aa917['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x5aa917['setParamet'+'er']('seed',this['seed']),_0x5aa917['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x1*-0x292+0x66b+-0x3d9]),_0x5aa917['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x1*0x12a1+0x1*0x2137+0x1*-0xe96]),_0x5aa917['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x1*0x25+0x1db4+-0x1d8f]),_0x5aa917['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x5aa917['setParamet'+'er']('graphSampl'+'eSize',(0x23e3+0x1ab9*0x1+-0x3e9b)/this['precision']),_0x5aa917['setParamet'+'er']('emitterSca'+'le',new Float32Array([-0x2*-0x89b+0x20ef+-0x3224,0xeeb+-0x158f+0x6a5,-0x2*-0xb0b+-0x5d*0x6a+0x349*0x5])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x5aa917['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x5aa917['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x5aa917['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x36*-0x22+0x919+-0x1ed]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][0xe4e+-0x948*0x1+-0x505]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][0x2*-0x635+-0x1711+0x237d]=this['wrapBounds']['z'],_0x5aa917['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0xa33+0x23a1*0x1+-0x2dd4&&_0x5aa917['setParamet'+'er']('softening',(0x236f*-0x1+-0xd45+-0x1*-0x30b5)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x103a+-0xce1*0x2+-0x2*-0x1530))),this['stretch']>0x1088+0x7*0x445+0x3*-0xf79&&(_0x5aa917['cull']=vt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x563078,_0x528cf3;if(this['orientatio'+'n']===$h)_0x563078=new Float32Array([0x24d1+0xeaa+-0x337a,0x1871+-0x65b+-0x1216,0x1*0x24e1+-0x26bc+0x19*0x13]),_0x528cf3=new Float32Array([0x2*-0xb24+-0x1a98+0x30e0,-0x2*0xf12+-0x161*0x19+0x11*0x3cd,-0x9*-0x3e7+-0x5*-0x3e0+0x1f*-0x1c2]);else{let _0x176b0b;this['orientatio'+'n']===Xb?_0x176b0b=this['particleNo'+'rmal']['normalize']():_0x176b0b=(this['node']===null?q['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x602184=new A(-0x1*-0x283+-0x5d6+0x354,0x14ca+0xf9e*0x2+-0x3406,0x67*0x5f+-0x621+-0x2018);Math['abs'](_0x602184['dot'](_0x176b0b))===-0xba1+-0x281*0x1+0xe23&&_0x602184['set'](-0x280*-0x2+0x3d*0x78+-0x2198,0x8*-0x37a+0xd3*0x21+0x9d,0xe*-0xfc+-0xd*0x176+-0x3*-0xaed);const _0x2bdfbf=new A()['cross'](_0x176b0b,_0x602184)['normalize']();_0x602184['cross'](_0x2bdfbf,_0x176b0b)['normalize'](),_0x563078=new Float32Array([_0x602184['x'],_0x602184['y'],_0x602184['z']]),_0x528cf3=new Float32Array([_0x2bdfbf['x'],_0x2bdfbf['y'],_0x2bdfbf['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x563078),this['material']['setParamet'+'er']('faceBinorm',_0x528cf3);}['_allocate'](_0x499884){const _0x222724=_0x499884*this['numParticl'+'eVerts'],_0x57c37e=_0x499884*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(-0x2*0x12fb+0x4*-0x662+0xe*0x489)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x222724){const _0x4d8dac=[];this['useCpu']?_0x4d8dac['push']({'semantic':Eu,'components':0x4,'type':Re},{'semantic':Cu,'components':0x4,'type':Re},{'semantic':Iy,'components':0x4,'type':Re},{'semantic':Dy,'components':0x1,'type':Re},{'semantic':Ly,'components':this['useMesh']?-0x1b28+0x112+0x1*0x1a1a:-0x1475*0x1+-0x6*-0x3b3+-0x1bb,'type':Re}):(_0x4d8dac['push']({'semantic':Eu,'components':0x4,'type':Re}),this['useMesh']&&_0x4d8dac['push']({'semantic':Cu,'components':0x2,'type':Re}));const _0x58fcce=new Dt(this['graphicsDe'+'vice'],_0x4d8dac);this['vertexBuff'+'er']=new fs(this['graphicsDe'+'vice'],_0x58fcce,_0x222724,{'usage':Ph}),this['indexBuffe'+'r']=new cr(this['graphicsDe'+'vice'],or,_0x57c37e);const _0x13bcb1=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x242bb1,_0x3a271f,_0x555048;if(this['useMesh']){_0x242bb1=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x3a271f=_0x242bb1['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0xe83ed7=-0xc8c+0x4d9*0x8+-0x17*0x124;_0xe83ed7<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0xe83ed7++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0xe83ed7]['name']===ds){_0x555048=this['mesh']['vertexBuff'+'er']['format']['elements'][_0xe83ed7]['offset']/(0x792+-0x5*0x71f+-0xa7*-0x2b);break;}}for(let _0x2cf3cb=0x128d*0x2+-0x3*-0x47f+-0x3297;_0x2cf3cb<_0x222724;_0x2cf3cb++){const _0xb89fc6=Math['floor'](_0x2cf3cb/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x1382e7=_0x2cf3cb%this['numParticl'+'eVerts'];_0x13bcb1[_0x2cf3cb*(0x11d1+-0x11*0x51+-0xc6a)]=_0x242bb1[_0x1382e7*_0x3a271f],_0x13bcb1[_0x2cf3cb*(-0x1*0x13b6+0x2618+0xeb*-0x14)+(0x2ed*0x7+0x1*0x11f9+-0x243*0x11)]=_0x242bb1[_0x1382e7*_0x3a271f+(-0xd18+-0x156c+0x2285)],_0x13bcb1[_0x2cf3cb*(0xe2b+-0x725*0x1+-0x700)+(0x1*-0x26b+0x3*-0x189+-0x1*-0x708)]=_0x242bb1[_0x1382e7*_0x3a271f+(-0xa8a+0x7*-0x301+0x1f93)],_0x13bcb1[_0x2cf3cb*(0xff1+-0x1211+0x226)+(-0x2ae*-0x7+-0x736*-0x4+-0x2f97)]=_0xb89fc6,_0x13bcb1[_0x2cf3cb*(-0x4b*0x1e+0x14f1+-0xc21)+(0x2270+0xb0c+-0x2d78)]=_0x242bb1[_0x1382e7*_0x3a271f+_0x555048+(-0x31a+-0xd97+0x1*0x10b1)],_0x13bcb1[_0x2cf3cb*(-0x22*0xa7+0xfd1*-0x2+-0x11f2*-0x3)+(-0x78d*-0x5+0x1a*0x106+-0x238*0x1d)]=0x11*-0x36+-0xbcf+-0x36*-0x49-_0x242bb1[_0x1382e7*_0x3a271f+_0x555048+(0x1287+0x164b+-0x81*0x51)];}else{const _0x10861d=_0x2cf3cb%(0x1*-0x1eb+-0xf34+0x1123);_0x13bcb1[_0x2cf3cb*(0x2*-0x842+-0x19e3+-0x2a6b*-0x1)]=C_[_0x10861d][0x118*-0x14+-0xaf7*0x3+0x36c5],_0x13bcb1[_0x2cf3cb*(-0x552+0x7bc+0x133*-0x2)+(0xc5b+-0xc05+0x55*-0x1)]=C_[_0x10861d][0x19fe+0x1184+-0x2b81],_0x13bcb1[_0x2cf3cb*(-0x1854+-0x1*-0x1e8f+-0x637)+(-0x263f+-0x1f40+0x7b9*0x9)]=0x42f*-0x3+-0x6bc*0x5+0x1*0x2e39,_0x13bcb1[_0x2cf3cb*(0x63*0x21+0x2ff+0x136*-0xd)+(0x1*0x475+-0x13f6+-0x3*-0x52c)]=_0xb89fc6;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x13bcb1),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x23ee63=0x2cf+0x1f1+-0x26*0x20;const _0x3500f8=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x17b18d=this['mesh']['indexBuffe'+'r'][0x1640+0x2*0x112d+0xf*-0x3c6];_0x242bb1=new Nh[_0x17b18d['format']](_0x17b18d['lock']());}for(let _0x4d0c61=0xec+-0x1735+0x1649;_0x4d0c61<_0x499884;_0x4d0c61++)if(this['useMesh']){for(let _0x16fb63=0x21*-0xc3+0x907*0x2+-0x7*-0x103;_0x16fb63<this['numParticl'+'eIndices'];_0x16fb63++)_0x3500f8[_0x4d0c61*this['numParticl'+'eIndices']+_0x16fb63]=_0x242bb1[_0x16fb63]+_0x4d0c61*this['numParticl'+'eVerts'];}else{const _0x359f0c=_0x4d0c61*(-0x25*-0xef+-0x192a+-0x31f*0x3);_0x3500f8[_0x23ee63++]=_0x359f0c,_0x3500f8[_0x23ee63++]=_0x359f0c+(0x2b4*0x1+0x2ad*0x2+-0x3*0x2af),_0x3500f8[_0x23ee63++]=_0x359f0c+(0x14dc+-0x1376+-0x164),_0x3500f8[_0x23ee63++]=_0x359f0c,_0x3500f8[_0x23ee63++]=_0x359f0c+(-0xbeb+0x17c*-0x11+-0x54f*-0x7),_0x3500f8[_0x23ee63++]=_0x359f0c+(-0x1a74+0x3be+-0x16b9*-0x1);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x1*0x1aad+0x60e*0x6+-0x3f01]['unlock']();}}['reset'](){if(this['beenReset']=!(0x3d+0x85f*0x3+-0x195a),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x5b0a03=0x2a5*-0xa+-0xcd*0x2b+0x3ce1;_0x5b0a03<this['particleTe'+'xStart']['length'];_0x5b0a03++)this['particleTe'+'x'][_0x5b0a03]=this['particleTe'+'xStart'][_0x5b0a03];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x486409=this['loop'];this['loop']=!(-0x49*0x56+0x10eb+0x79b),this['addTime'](0x1*-0x1b91+0x2549+0x4*-0x26e,!(0x1439+0xd5e*0x1+-0x2196)),this['loop']=_0x486409,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x5daef3){const _0x2a66c8=_0x5daef3/this['lifetime'],_0x58f1e9=Math['min'](Math['floor'](_0x2a66c8*this['precision']),this['precision']),_0x526ff3=_0x5daef3/_0x58f1e9;for(let _0x11dee4=0x6cd+-0x1b*-0xbb+0xa*-0x2a7;_0x11dee4<_0x58f1e9;_0x11dee4++)this['addTime'](_0x526ff3,!(0x6e*0x4f+0x1910+-0x3b01));}['resetTime'](){this['endTime']=l1(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x21a700,_0x4c4d03){const _0x56ee5c=this['graphicsDe'+'vice'],_0xea62e5=ae();if(this['simTimeTot'+'al']+=_0x21a700,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x561c77=this['animTilesP'+'arams'];_0x561c77[0x13c5+0x59*-0xb+-0xff2]=(0x39e*0x8+-0x8*0x19a+-0x1*0x101f)/this['animTilesX'],_0x561c77[0xc17+-0x91b+-0x2fb]=(-0x1*-0xc47+0x544+-0x8c5*0x2)/this['animTilesY'];const _0x8cbe4e=this['animParams'];_0x8cbe4e[0xcf0+-0xeb*-0x19+-0x23e3]=this['animStartF'+'rame'],_0x8cbe4e[0x97*-0x1b+0x1e0+0xe0e]=this['animNumFra'+'mes']*this['animSpeed'],_0x8cbe4e[-0xaa*0x2e+-0x1e93+-0x1*-0x3d21]=this['animNumFra'+'mes']-(0x3*-0x13c+-0x188b*0x1+0x40*0x71),_0x8cbe4e[0x75c+-0x1*0x2638+0x1edf]=this['animNumAni'+'mations']-(-0x16e2+-0x12fd+-0x218*-0x14);const _0x22cb30=this['animIndexP'+'arams'];_0x22cb30[-0x174a+0x9*0x385+0x863*-0x1]=this['animIndex'],_0x22cb30[0x35*0x1a+-0x16*0x176+0x1ac3]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===qs&&(hi[-0xc43+0x296+-0x1*-0x9ad]=this['emitterExt'+'ents']['x']!==0xfe9+0x2222+-0x320b?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x613+-0x1774+-0x1*-0x1161,hi[-0x491+-0x2*-0xae3+-0x1134]=this['emitterExt'+'ents']['y']!==0x12d7*0x2+0x2168+-0x4716?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0xb*-0x32a+-0x15b1+-0x1*-0x387f,hi[0x81*-0x24+-0x11*-0x6d+0xae9]=this['emitterExt'+'ents']['z']!==-0xc57+0x7c*0x49+-0x1705?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x16e9+0x1*0x1f99+-0x8b0,this['meshInstan'+'ce']['node']===null?Ar['setTRS'](A['ZERO'],ie['IDENTITY'],this['emitterExt'+'ents']):Ar['setTRS'](A['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),D_['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x432e0e;const _0x28a54d=this['meshInstan'+'ce']['node']===null?A['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x3e*-0x43+0x30f*0x1+-0x1*-0xd2b]=_0x28a54d['x'],this['emitterSca'+'leUniform'][-0x1b5a+-0xe11+0xf1*0x2c]=_0x28a54d['y'],this['emitterSca'+'leUniform'][0x5e9*-0x3+-0xbfa+0x1db7]=_0x28a54d['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x432e0e=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x1*0xcb5+0x20db+-0x16c8*0x2]=_0x432e0e['x'],this['emitterPos'+'Uniform'][0x18c5+-0x194f+0x1*0x8b]=_0x432e0e['y'],this['emitterPos'+'Uniform'][0x1d22+0x1*0x1b7+-0x5*0x62b]=_0x432e0e['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x56ee5c,Ar,hi,_0x21a700,_0x4c4d03);else{const _0x41ef7b=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x41ef7b,this['vbToSort'],this['particleTe'+'x'],Ar,hi,_0x432e0e,_0x21a700,_0x4c4d03);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x5*0x1eb+0x18*0x10b+0x114f*-0x2)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=ae()-_0xea62e5;}['_destroyRe'+'sources'](){var _0x157cef,_0x2eda0a,_0x28cd20,_0x54595f,_0x1cf1e1,_0x46bf77,_0x40fb43,_0x187c05,_0x3532ed,_0x2faa4b,_0x12e605,_0x393cfb;(_0x157cef=this['particleTe'+'xIN'])==null||_0x157cef['destroy'](),this['particleTe'+'xIN']=null,(_0x2eda0a=this['particleTe'+'xOUT'])==null||_0x2eda0a['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x28cd20=this['rtParticle'+'TexIN'])==null||_0x28cd20['destroy'](),this['rtParticle'+'TexIN']=null,(_0x54595f=this['rtParticle'+'TexOUT'])==null||_0x54595f['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x1cf1e1=this['internalTe'+'x0'])==null||_0x1cf1e1['destroy'](),this['internalTe'+'x0']=null,(_0x46bf77=this['internalTe'+'x1'])==null||_0x46bf77['destroy'](),this['internalTe'+'x1']=null,(_0x40fb43=this['internalTe'+'x2'])==null||_0x40fb43['destroy'](),this['internalTe'+'x2']=null,(_0x187c05=this['internalTe'+'x3'])==null||_0x187c05['destroy'](),this['internalTe'+'x3']=null,(_0x3532ed=this['colorParam'])==null||_0x3532ed['destroy'](),this['colorParam']=null,(_0x2faa4b=this['vertexBuff'+'er'])==null||_0x2faa4b['destroy'](),this['vertexBuff'+'er']=void(-0x1*-0x1ea1+-0x1814+-0xd*0x81),(_0x12e605=this['indexBuffe'+'r'])==null||_0x12e605['destroy'](),this['indexBuffe'+'r']=void(0xf7*0x20+-0x436+-0x1aaa*0x1),(_0x393cfb=this['material'])==null||_0x393cfb['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class f1 extends Nt{['generateKe'+'y'](_0x26dfc7){const _0x36f82a=_0x26dfc7['shaderDesc'],_0x1618cc=_0x36f82a['vertexCode']?cn(_0x36f82a['vertexCode']):-0xd2c*-0x2+-0xd*0x1e5+-0x1b7,_0x48e7e5=_0x36f82a['fragmentCo'+'de']?cn(_0x36f82a['fragmentCo'+'de']):-0x3*0xd1+0xb3*-0x35+0x2782,_0x260eb4=Nt['definesHas'+'h'](_0x26dfc7['defines']);let _0x4363ec=_0x36f82a['uniqueName']+'_'+_0x1618cc+'_'+_0x48e7e5+'_'+_0x260eb4;return _0x26dfc7['skin']&&(_0x4363ec+='_skin'),_0x26dfc7['useInstanc'+'ing']&&(_0x4363ec+='_inst'),_0x26dfc7['useMorphPo'+'sition']&&(_0x4363ec+='_morphp'),_0x26dfc7['useMorphNo'+'rmal']&&(_0x4363ec+='_morphn'),_0x26dfc7['useMorphTe'+'xtureBased'+'Int']&&(_0x4363ec+='_morphi'),_0x4363ec;}['createAttr'+'ibutesDefi'+'nition'](_0xe224c5,_0x74ceec){const _0x35f86a=_0x74ceec['shaderDesc']['attributes'],_0x25b9ee=_0x35f86a?{..._0x35f86a}:void(0x11b7+-0x829*-0x1+-0x19e0);_0x74ceec['skin']&&(_0x25b9ee['vertex_bon'+'eWeights']=ei,_0x25b9ee['vertex_bon'+'eIndices']=Jt),(_0x74ceec['useMorphPo'+'sition']||_0x74ceec['useMorphNo'+'rmal'])&&(_0x25b9ee['morph_vert'+'ex_id']=va),_0xe224c5['attributes']=_0x25b9ee;}['createVert'+'exDefiniti'+'on'](_0x2d91fd,_0x998674,_0x4e281e){const _0x279c37=_0x998674['shaderDesc'];if(_0x2d91fd['shaderLang'+'uage']===Fh)_0x2d91fd['vertexCode']=_0x279c37['vertexCode'];else{const _0x34868b=new Map(_0x4e281e),_0x1399bd=new Map(_0x998674['defines']);_0x34868b['set']('transformI'+'nstancingV'+'S',''),_0x998674['skin']&&_0x1399bd['set']('SKIN',!(0x1*-0x236d+-0x377+0x26e4)),_0x998674['useInstanc'+'ing']&&_0x1399bd['set']('INSTANCING',!(-0x1*0xa93+-0x1*-0xf80+-0x4ed)),(_0x998674['useMorphPo'+'sition']||_0x998674['useMorphNo'+'rmal'])&&(_0x1399bd['set']('MORPHING',!(-0x69+0xbc4+-0xb5b)),_0x998674['useMorphTe'+'xtureBased'+'Int']&&_0x1399bd['set']('MORPHING_I'+'NT',!(0x328*0xa+-0x17a1*0x1+-0x7ef)),_0x998674['useMorphPo'+'sition']&&_0x1399bd['set']('MORPHING_P'+'OSITION',!(0x6d9+0x1567+-0x1c40)),_0x998674['useMorphNo'+'rmal']&&_0x1399bd['set']('MORPHING_N'+'ORMAL',!(0x107*-0x7+0x16*-0x4d+0xdcf))),_0x2d91fd['vertexCode']=_0x279c37['vertexCode'],_0x2d91fd['vertexIncl'+'udes']=_0x34868b,_0x2d91fd['vertexDefi'+'nes']=_0x1399bd;}}['createFrag'+'mentDefini'+'tion'](_0xda9e18,_0x50bb78,_0x5400db){const _0x421af2=_0x50bb78['shaderDesc'];if(_0xda9e18['shaderLang'+'uage']===Fh)_0xda9e18['fragmentCo'+'de']=_0x421af2['fragmentCo'+'de'];else{const _0x45aeb6=new Map(_0x5400db),_0x1b255f=new Map(_0x50bb78['defines']);_0xda9e18['fragmentCo'+'de']=_0x421af2['fragmentCo'+'de'],_0xda9e18['fragmentIn'+'cludes']=_0x45aeb6,_0xda9e18['fragmentDe'+'fines']=_0x1b255f;}}['createShad'+'erDefiniti'+'on'](_0x379f60,_0x1470eb){const _0x282245=_0x1470eb['shaderDesc'],_0x41245f={'name':'ShaderMate'+'rial-'+_0x282245['uniqueName'],'shaderLanguage':_0x282245['shaderLang'+'uage'],'fragmentOutputTypes':_0x282245['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x282245['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x282245['meshBindGr'+'oupFormat']},_0x30eacf=new Map(Object['entries']({...j,..._0x1470eb['chunks']}));return this['createAttr'+'ibutesDefi'+'nition'](_0x41245f,_0x1470eb),this['createVert'+'exDefiniti'+'on'](_0x41245f,_0x1470eb,_0x30eacf),this['createFrag'+'mentDefini'+'tion'](_0x41245f,_0x1470eb,_0x30eacf),Ft['createDefi'+'nition'](_0x379f60,_0x41245f);}}const p1=new f1();class La extends Sn{constructor(_0x3154b4){super(),c(this,'_shaderDes'+'c'),this['shaderDesc']=_0x3154b4;}set['shaderDesc'](_0x253d27){_0x253d27&&(b['assert'](_0x253d27['vertexCode'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'vertexCode'),b['assert'](_0x253d27['fragmentCo'+'de'],'ShaderMate'+'rial:\x20shad'+'erDesc\x20mus'+'t\x20contain\x20'+'fragmentCo'+'de')),this['_shaderDes'+'c']=_0x253d27?{..._0x253d27}:void(-0x1d8b+-0x76b+-0x629*-0x6),this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x81c74e){return super['copy'](_0x81c74e),this['shaderDesc']=_0x81c74e['shaderDesc'],this;}['getShaderV'+'ariant'](_0x346ee5){const {objDefs:_0x49de67}=_0x346ee5,_0x488e1e={'defines':Op(this,_0x346ee5),'skin':(_0x49de67&jc)!==0x2c7+-0x1*-0xcda+0xfa1*-0x1,'useInstancing':(_0x49de67&Yc)!==-0x22d2+0x96b*-0x1+0x2c3d,'useMorphPosition':(_0x49de67&Kc)!==0x28*-0xcc+-0x23d6+0x43b6,'useMorphNormal':(_0x49de67&Zc)!==-0xb4+-0x1*-0x2041+-0x1f8d,'useMorphTextureBasedInt':(_0x49de67&Qc)!==-0xa04+-0x193c+0x2340,'pass':_0x346ee5['pass'],'gamma':_0x346ee5['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x346ee5['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x346ee5['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'chunks':this['chunks']??{}},_0x1ac6b9=new Jc(_0x346ee5['viewUnifor'+'mFormat'],_0x346ee5['viewBindGr'+'oupFormat'],_0x346ee5['vertexForm'+'at']),_0x47c61=za(_0x346ee5['device']);return _0x47c61['register']('shader-mat'+'erial',p1),_0x47c61['getProgram']('shader-mat'+'erial',_0x488e1e,_0x1ac6b9,this['userId']);}}const B0=(_0x35e09c,_0x43728e)=>{const _0x5b55a3=_0x43728e['length']/(-0x454*0x1+0x927*0x1+-0x4d0),_0x131592=_0x35e09c['length']/(-0x5*0x769+0x1f4c+-0x6*-0xf6),_0x565db0=new A(),_0x530cda=new A(),_0x13c875=new A(),_0x41f128=new A(),_0x5c8926=new A(),_0x75c66b=new A(),_0x45ce1b=[];for(let _0x275e70=0x33*-0x99+0x1*-0x261e+-0x409*-0x11;_0x275e70<_0x35e09c['length'];_0x275e70++)_0x45ce1b[_0x275e70]=-0x1728+0x3c7+0x1361;for(let _0x565967=0x124e+0x1d*-0xac+0x12e;_0x565967<_0x5b55a3;_0x565967++){const _0x251c9b=_0x43728e[_0x565967*(0x1*0x22be+-0x3bc+-0x1eff)],_0xd10e43=_0x43728e[_0x565967*(-0x1af+-0x11*0x207+0x2429)+(0x5*0x799+0xa1b*0x2+-0x3a32)],_0x214474=_0x43728e[_0x565967*(-0x1*0x9ad+0x20*-0x6e+0x1770)+(-0x1d*-0x57+0xb5c*-0x2+0xcdf)];_0x565db0['set'](_0x35e09c[_0x251c9b*(0x2594+-0x14b4+-0x3*0x59f)],_0x35e09c[_0x251c9b*(0x8b3+0x1ece+0xa*-0x3f3)+(0x13c7+-0x21a4+0xdde)],_0x35e09c[_0x251c9b*(-0x168e+0x135*0xa+0xa7f*0x1)+(-0x453*0x3+-0x1*-0xda4+0xa9*-0x1)]),_0x530cda['set'](_0x35e09c[_0xd10e43*(-0x3*-0x9f+0x2030+-0x220a)],_0x35e09c[_0xd10e43*(0x3*0xaba+0x1a26+0x3a51*-0x1)+(-0x1a80+0xd0*0x21+-0x1*0x4f)],_0x35e09c[_0xd10e43*(0x21d9+-0x8*0x45b+-0x3*-0x56)+(0x68f+-0xbcb*-0x1+-0x1258)]),_0x13c875['set'](_0x35e09c[_0x214474*(-0x1584+0xd*0x2e3+-0x1000)],_0x35e09c[_0x214474*(-0x4d*-0xf+0x693+-0xb13)+(0x6*0x281+0x1f1b+-0x2e20)],_0x35e09c[_0x214474*(-0xfd0+0x2599+-0x15c6)+(-0x1*0x13af+0x21b9+-0xe08)]),_0x41f128['sub2'](_0x530cda,_0x565db0),_0x5c8926['sub2'](_0x13c875,_0x565db0),_0x75c66b['cross'](_0x41f128,_0x5c8926)['normalize'](),_0x45ce1b[_0x251c9b*(0x2*-0x34c+-0xa7+-0x3a1*-0x2)]+=_0x75c66b['x'],_0x45ce1b[_0x251c9b*(-0x22b7+-0x267b*-0x1+-0x3c1*0x1)+(-0x19*-0x187+0x4f1+-0x245*0x13)]+=_0x75c66b['y'],_0x45ce1b[_0x251c9b*(-0x2707+-0x53e*-0x3+0x10*0x175)+(-0x31a*-0x3+0x1*-0xc8e+0x116*0x3)]+=_0x75c66b['z'],_0x45ce1b[_0xd10e43*(0x1*-0x139+0xbb8+-0xf4*0xb)]+=_0x75c66b['x'],_0x45ce1b[_0xd10e43*(-0xe*0xef+-0x131a+0x202f)+(-0x19d2+0x1839+0x19a)]+=_0x75c66b['y'],_0x45ce1b[_0xd10e43*(-0x300+-0x13a8+-0x16ab*-0x1)+(-0x181*0x1+-0x1adc+0x1c5f)]+=_0x75c66b['z'],_0x45ce1b[_0x214474*(0xe+-0xa0c*0x2+0x57*0x3b)]+=_0x75c66b['x'],_0x45ce1b[_0x214474*(-0x1388+0x25a9+0x6*-0x305)+(-0x1*-0x180e+0x26*0x32+-0x1f79)]+=_0x75c66b['y'],_0x45ce1b[_0x214474*(-0xa97+-0x1346+0x1de*0x10)+(0x23e2+-0x42d*-0x5+-0x38c1)]+=_0x75c66b['z'];}for(let _0x1133b4=0x7*0x49d+0xa*0x380+-0x434b;_0x1133b4<_0x131592;_0x1133b4++){const _0x5569db=_0x45ce1b[_0x1133b4*(-0x75a+-0x161e+-0x1d7b*-0x1)],_0x1c2d07=_0x45ce1b[_0x1133b4*(0x1490+0x20da+0x9*-0x5ef)+(-0x34*0x19+0x1*-0x359+-0x86e*-0x1)],_0x49a399=_0x45ce1b[_0x1133b4*(-0x4a9+-0xdb0+-0x497*-0x4)+(0x11e4+-0x1*0x5+0x10d*-0x11)],_0xa5210d=(-0x16b3*0x1+0xd*-0x1de+0x2efa)/Math['sqrt'](_0x5569db*_0x5569db+_0x1c2d07*_0x1c2d07+_0x49a399*_0x49a399);_0x45ce1b[_0x1133b4*(-0x4b8*0x7+-0x16dc+0x37e7)]*=_0xa5210d,_0x45ce1b[_0x1133b4*(0x43*-0x8d+-0x9d7+0x2ec1*0x1)+(0x3c+0x26eb+-0x1*0x2726)]*=_0xa5210d,_0x45ce1b[_0x1133b4*(0x6*-0x5fb+-0x74c+0x2b31)+(0x901+-0x5d6+-0x329)]*=_0xa5210d;}return _0x45ce1b;},pr=(_0x115ee7,_0x213c90,_0x63a22f,_0x1b5148)=>{const _0x2f5df1=_0x1b5148['length']/(0xc58+0x629*-0x1+-0x62c),_0x566fe2=_0x115ee7['length']/(0x1*-0x2582+-0x1632+0x1*0x3bb7),_0x3c48d8=new A(),_0x272e94=new A(),_0x37a9be=new A(),_0x5202b1=new W(),_0x4accdd=new W(),_0x2b07a8=new W(),_0x5a1f64=new A(),_0x1ac2d6=new A(),_0x5e874b=new Float32Array(_0x566fe2*(0x15b1*-0x1+-0xbf*-0x3+-0x1c5*-0xb)),_0x2aee64=new Float32Array(_0x566fe2*(-0x12f*0x16+-0x2301+-0xc36*-0x5)),_0x1774da=[];for(let _0x79002=-0x1e*-0x131+-0x309+-0x20b5;_0x79002<_0x2f5df1;_0x79002++){const _0x5bbfcf=_0x1b5148[_0x79002*(-0x12b7*-0x2+0x40b+-0x2976)],_0x54f745=_0x1b5148[_0x79002*(0x1*-0x1b43+-0xf25+0x1*0x2a6b)+(0x135+0x1a5c+-0x1b90)],_0x14befd=_0x1b5148[_0x79002*(-0x217d+-0x2*0x859+0x3232*0x1)+(-0x539+-0x19b5+0x1ef0)];_0x3c48d8['set'](_0x115ee7[_0x5bbfcf*(0x1335+0xd*-0xe3+-0x7ab)],_0x115ee7[_0x5bbfcf*(0x13c1+0x1f4e+-0x330c)+(-0x1e48+-0xc8f*-0x1+0x11ba)],_0x115ee7[_0x5bbfcf*(0x1*0x4b+-0x305*-0x4+-0xc5c)+(0x10cd+-0x119b+0x1a*0x8)]),_0x272e94['set'](_0x115ee7[_0x54f745*(0xc75*-0x3+-0x4e6*-0x1+0x207c)],_0x115ee7[_0x54f745*(-0xfa3+-0x1*0x2277+0x321d)+(0x1*-0x122b+-0x206c+0x3298)],_0x115ee7[_0x54f745*(-0xa33+0x5ef+-0xf*-0x49)+(0x5*0xa+0x1*-0x20c2+0x2092)]),_0x37a9be['set'](_0x115ee7[_0x14befd*(-0x12ae+0x22d*0x5+0x7d0)],_0x115ee7[_0x14befd*(0x254b+-0x2ec*0x1+-0x6*0x5ba)+(-0x161*-0x18+-0x312*-0x3+-0x2a4d)],_0x115ee7[_0x14befd*(-0x55+0x205d*0x1+-0x2005)+(-0x1*0x1b76+0x49*-0x5d+-0x3*-0x11ff)]),_0x5202b1['set'](_0x63a22f[_0x5bbfcf*(0xe54+-0x1*-0xe2+-0xf34)],_0x63a22f[_0x5bbfcf*(-0x1*-0xcf2+0x872+-0x1562)+(-0x161b+-0x1aad*0x1+-0x30c9*-0x1)]),_0x4accdd['set'](_0x63a22f[_0x54f745*(-0x937*0x1+-0x8b2+0x11eb)],_0x63a22f[_0x54f745*(0x3*-0x65d+-0x1491+0x27aa)+(0xa*0x323+0x447+-0x23a4)]),_0x2b07a8['set'](_0x63a22f[_0x14befd*(-0x1496+-0xee5+-0x237d*-0x1)],_0x63a22f[_0x14befd*(0xa99+0xe25+-0x18bc)+(0x2*0xf0f+0x261+-0x103f*0x2)]);const _0x4ae60c=_0x272e94['x']-_0x3c48d8['x'],_0x18931b=_0x37a9be['x']-_0x3c48d8['x'],_0x5d10fc=_0x272e94['y']-_0x3c48d8['y'],_0x290aa0=_0x37a9be['y']-_0x3c48d8['y'],_0x22dc0f=_0x272e94['z']-_0x3c48d8['z'],_0x20e823=_0x37a9be['z']-_0x3c48d8['z'],_0x1a2f91=_0x4accdd['x']-_0x5202b1['x'],_0x1daccb=_0x2b07a8['x']-_0x5202b1['x'],_0x2841c2=_0x4accdd['y']-_0x5202b1['y'],_0x453927=_0x2b07a8['y']-_0x5202b1['y'],_0x512676=_0x1a2f91*_0x453927-_0x1daccb*_0x2841c2;if(_0x512676===0x1*0x9c9+-0x154b+-0x3d6*-0x3)_0x5a1f64['set'](-0x3*-0xbb6+0x2*-0xeca+-0x58e,0x527+-0x2e7*0x6+0x9d*0x14,-0x607*0x1+-0x164c+0x1c53),_0x1ac2d6['set'](0x2*0x11ec+-0xf6*0xf+-0x156d,0x6*-0x105+0x84a+-0x22c,0x1*0x21c1+0x1aea+-0x3cab);else{const _0x3d6d74=(0x1151+0x2338+-0x4*0xd22)/_0x512676;_0x5a1f64['set']((_0x453927*_0x4ae60c-_0x2841c2*_0x18931b)*_0x3d6d74,(_0x453927*_0x5d10fc-_0x2841c2*_0x290aa0)*_0x3d6d74,(_0x453927*_0x22dc0f-_0x2841c2*_0x20e823)*_0x3d6d74),_0x1ac2d6['set']((_0x1a2f91*_0x18931b-_0x1daccb*_0x4ae60c)*_0x3d6d74,(_0x1a2f91*_0x290aa0-_0x1daccb*_0x5d10fc)*_0x3d6d74,(_0x1a2f91*_0x20e823-_0x1daccb*_0x22dc0f)*_0x3d6d74);}_0x5e874b[_0x5bbfcf*(-0x18c1+0xb57*0x1+0xd6d)+(-0x5dd+-0xf27+0x1504)]+=_0x5a1f64['x'],_0x5e874b[_0x5bbfcf*(0xf6b*0x2+0x609+-0x24dc)+(0x3*-0x658+0x16d6+-0x3cd)]+=_0x5a1f64['y'],_0x5e874b[_0x5bbfcf*(-0x2*-0x115f+0x8c+-0x2347)+(-0x2*0xcdf+-0x79d*-0x2+0xa86)]+=_0x5a1f64['z'],_0x5e874b[_0x54f745*(0x11ff*0x1+-0x1d0b+0xb0f)+(0x1*-0xcf9+-0xe48+0x1*0x1b41)]+=_0x5a1f64['x'],_0x5e874b[_0x54f745*(0x439*0x9+0x2618+-0x4c16)+(0x156b+0x58d+-0xd*0x213)]+=_0x5a1f64['y'],_0x5e874b[_0x54f745*(0x1104+-0x933+-0x25*0x36)+(0x1*0x739+-0xa*-0x1f6+-0x1ad3)]+=_0x5a1f64['z'],_0x5e874b[_0x14befd*(-0xb95*-0x1+-0x167*0xa+-0x13a*-0x2)+(0x1c2b+-0x1562+-0x3*0x243)]+=_0x5a1f64['x'],_0x5e874b[_0x14befd*(0xc9b+-0x7*0x2d1+0x71f)+(-0x1*0xfd1+-0x4bb+0x148d)]+=_0x5a1f64['y'],_0x5e874b[_0x14befd*(0x477+0x3e*-0x53+0xfa6*0x1)+(0x1ee5*-0x1+0x1*-0x19cc+0x38b3*0x1)]+=_0x5a1f64['z'],_0x2aee64[_0x5bbfcf*(-0xc5*-0x17+0x20a5*0x1+-0xa11*0x5)+(-0x16*0x134+0x31*0x59+0x96f)]+=_0x1ac2d6['x'],_0x2aee64[_0x5bbfcf*(0x1a0a+0x3b*0x29+-0x26*0xef)+(0x3*0x1df+0x2af*0x9+-0x1dc3)]+=_0x1ac2d6['y'],_0x2aee64[_0x5bbfcf*(-0x11*-0x1c1+-0xfe7*-0x1+-0x1*0x2db5)+(-0xbe3+0x1*-0x208d+0x2c72)]+=_0x1ac2d6['z'],_0x2aee64[_0x54f745*(-0x95*-0x1d+0x23d5*0x1+-0x34b3)+(0xd0+0x1d*-0x5f+0x9f3)]+=_0x1ac2d6['x'],_0x2aee64[_0x54f745*(0x7*-0x4cc+-0x1cd8+0x1*0x3e6f)+(-0x7c0*0x1+-0xd1*0x25+0xe2*0x2b)]+=_0x1ac2d6['y'],_0x2aee64[_0x54f745*(0x4*0x41b+0x20af+0x3118*-0x1)+(0x1d*0x95+0x1d*-0x21+-0xd22)]+=_0x1ac2d6['z'],_0x2aee64[_0x14befd*(0x178d*0x1+-0x1*0xc75+0xb15*-0x1)+(0x1389+-0xd00+-0x689)]+=_0x1ac2d6['x'],_0x2aee64[_0x14befd*(0x89e+-0x12b3*-0x2+-0x2e01*0x1)+(-0x1*-0x254b+-0x1*0x2fd+-0x224d)]+=_0x1ac2d6['y'],_0x2aee64[_0x14befd*(-0x2676+-0x2188+0x4801)+(-0xf63+0x5bd+0x9a8)]+=_0x1ac2d6['z'];}const _0x36fdb8=new A(),_0x23aa4b=new A(),_0x571f00=new A(),_0x2a972a=new A();for(let _0x487ae1=0x25ed+-0x12b+-0x24c2;_0x487ae1<_0x566fe2;_0x487ae1++){_0x571f00['set'](_0x213c90[_0x487ae1*(-0x1888+-0x1*-0x67f+0x120c)],_0x213c90[_0x487ae1*(0xe03*-0x2+-0x1*-0xb24+0x10e5)+(0x3cc+-0xbc*0x9+-0x7*-0x67)],_0x213c90[_0x487ae1*(0x13*-0x112+0x1eea+-0x21d*0x5)+(-0x1e64+0x1*-0x121c+0x3082)]),_0x36fdb8['set'](_0x5e874b[_0x487ae1*(0x7a9+0x920+-0x10c6)],_0x5e874b[_0x487ae1*(-0x1d1d*0x1+-0x1*-0xbaa+-0x8bb*-0x2)+(-0x66e+-0x1*0x23de+-0x31*-0xdd)],_0x5e874b[_0x487ae1*(-0x7*-0x4fd+-0x20e*0xb+0x627*-0x2)+(0xd6*0x1+-0xbc8+0xaf4)]),_0x23aa4b['set'](_0x2aee64[_0x487ae1*(-0x1*0x2064+0x226f+0x1*-0x208)],_0x2aee64[_0x487ae1*(0x913+-0x1608+0x2*0x67c)+(0x1c16*-0x1+0x17f7+-0x30*-0x16)],_0x2aee64[_0x487ae1*(-0x22d4+0x2394+-0xbd)+(0x2205*-0x1+-0x1ce9+-0x350*-0x13)]);const _0x46601a=_0x571f00['dot'](_0x36fdb8);_0x2a972a['copy'](_0x571f00)['mulScalar'](_0x46601a),_0x2a972a['sub2'](_0x36fdb8,_0x2a972a)['normalize'](),_0x1774da[_0x487ae1*(-0x1*-0x1c11+0x4c4+-0x20d1*0x1)]=_0x2a972a['x'],_0x1774da[_0x487ae1*(0x5c*-0x22+0x420+0xad*0xc)+(-0x7a2*-0x2+0x659+-0x159c)]=_0x2a972a['y'],_0x1774da[_0x487ae1*(0x3*0x17a+0x1376+0x17e*-0x10)+(0xd*-0x2e7+0x755*0x1+-0x1e68*-0x1)]=_0x2a972a['z'],_0x2a972a['cross'](_0x571f00,_0x36fdb8),_0x1774da[_0x487ae1*(-0x3*0xa27+-0x3*0x917+0x13*0x30a)+(-0x11+-0x2603+-0xc7*-0x31)]=_0x2a972a['dot'](_0x23aa4b)<-0x2370+-0x1*-0x60d+0x1d63?-(0x14f1+0x38*-0xac+0x18*0xb2):-0x2e*0x5d+0xc3e*0x2+-0xd*0x99;}return _0x1774da;};class _n{constructor(){c(this,'positions'),c(this,'normals'),c(this,'colors'),c(this,'uvs'),c(this,'uvs1'),c(this,'blendIndic'+'es'),c(this,'blendWeigh'+'ts'),c(this,'tangents'),c(this,'indices');}['calculateN'+'ormals'](){b['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),b['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=B0(this['positions'],this['indices']);}['calculateT'+'angents'](){b['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),b['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),b['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),b['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const ju=(-0x1ea9+0x25cd*-0x1+0x447a)/(0x17*-0x177+0x14b5+-0x69e*-0x2),F_=-0x1*-0xaf6+-0x222f+0x173a-ju*(0x1f2b*0x1+0xf6d+-0x2*0x174b);class Yu extends _n{constructor(_0x1cb14e={}){super();const _0x361b34=_0x1cb14e['halfExtent'+'s']??new A(-0x22fb+0x2*-0x220+0x79*0x53+0.5,-0x266*-0x5+-0x1240+0x321*0x2+0.5,0xa9a+-0xaa9*0x1+-0x1*-0xf+0.5),_0x269db5=_0x1cb14e['widthSegme'+'nts']??0x222a*0x1+0x1b7a+-0x3da3*0x1,_0x48c95b=_0x1cb14e['lengthSegm'+'ents']??-0x3*-0x2e+0x139*0x19+-0x1f1a,_0x56c174=_0x1cb14e['heightSegm'+'ents']??0x1247*-0x2+-0x1dfb+0x3ea*0x11,_0x29fe53=_0x1cb14e['yOffset']??-0x4*0x963+0x116c+-0x1420*-0x1,_0x20fa92=-_0x361b34['y']+_0x29fe53,_0x4b2580=_0x361b34['y']+_0x29fe53,_0x5596ae=[new A(-_0x361b34['x'],_0x20fa92,_0x361b34['z']),new A(_0x361b34['x'],_0x20fa92,_0x361b34['z']),new A(_0x361b34['x'],_0x4b2580,_0x361b34['z']),new A(-_0x361b34['x'],_0x4b2580,_0x361b34['z']),new A(_0x361b34['x'],_0x20fa92,-_0x361b34['z']),new A(-_0x361b34['x'],_0x20fa92,-_0x361b34['z']),new A(-_0x361b34['x'],_0x4b2580,-_0x361b34['z']),new A(_0x361b34['x'],_0x4b2580,-_0x361b34['z'])],_0x54678f=[[-0x114e+-0x1e1b+-0x35*-0xe5,0x2136*-0x1+0x556+0x1be1,-0x799+0x1*-0xcbb+0x1457],[-0x37*0x74+-0xe2f+0x5*0x7d3,0x187*0x3+0x1be9+-0x2079,0x1*-0x1637+-0x1*0x1e97+0x34d5],[-0x1*-0x201b+-0x569+-0x1aaf,0x102b+0x6de+-0x1707,0x2*-0xc67+-0x2341*-0x1+-0x9d*0x11],[0x93d+0x2*-0x124d+-0x71*-0x3e,-0xc36+0x1e2+0x4*0x295,0xc3*0x1d+-0x4cb*0x6+-0x1d*-0x3b],[-0xb*-0xa1+0x57d*-0x5+0x1487,0xe99*0x2+0x85b+0x3*-0xc83,-0x242b+0x1*0x10a0+-0x37*-0x5b],[-0x1902+0x1a9c+-0x87*0x3,-0x20ab+0x48d+0x1c1e,-0xe*-0x238+0x1*0x201b+-0x3f25]],_0x18f7c6=[[-0xa*-0x322+0x1d5a+-0x3cae,0x8*-0x14c+0xde5+0x11*-0x35,-0x1d6*0x11+-0x7*0x65+0x21fa*0x1],[-0x2146+-0xad*-0x13+0x146f,0x1f*-0x58+0x2256+0x1*-0x17ae,-(-0x24ec+-0x67*-0x49+-0x78e*-0x1)],[0xc8+0x2*0x703+-0xece,-0x9*-0x2e3+-0x2*0x7ed+-0xa20,0x1b*0xb0+0x166f+-0x28ff],[-0x5e2+0x355*0x2+-0x2*0x64,-(0xb07+-0x16*0x7f+-0x1c),-0x2100+-0xff3+0x1051*0x3],[0x1*0x19f5+-0x684+-0x1370,-0x10ed+0x1979+-0x223*0x4,0x1c*0x139+0x19ae+-0x3bea],[-(0x1c62+0x4*0x425+0x2cf5*-0x1),-0xa7*-0x2b+0x1288+0x9f*-0x4b,0xeaa+-0x1def+0xf45]],_0x541475={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x427574=[],_0x51783f=[],_0x5a3503=[],_0x2ccbc4=[];let _0x5224dc=0x3d*0x9f+0x4*0x901+-0x49e7*0x1;const _0x5db225=(_0x359343,_0x1d030e,_0x5e6170)=>{const _0x67c6fd=new A(),_0x3a8289=new A(),_0x52ae25=new A(),_0x117318=new A();for(let _0x5d9a36=-0x3c*0x69+-0x114e*-0x2+-0xa00;_0x5d9a36<=_0x1d030e;_0x5d9a36++)for(let _0x54c82e=-0x1e8*-0x6+-0xec4+0x354;_0x54c82e<=_0x5e6170;_0x54c82e++){_0x67c6fd['lerp'](_0x5596ae[_0x54678f[_0x359343][-0xb13+0x4d*-0x7+0xd2e]],_0x5596ae[_0x54678f[_0x359343][-0x1ccf+-0x80*-0x4c+-0x930]],_0x5d9a36/_0x1d030e),_0x3a8289['lerp'](_0x5596ae[_0x54678f[_0x359343][-0xab5+0x1*0x19a2+0x1*-0xeed]],_0x5596ae[_0x54678f[_0x359343][0x1*0x73+0xc41*0x2+-0x18f3*0x1]],_0x54c82e/_0x5e6170),_0x52ae25['sub2'](_0x3a8289,_0x5596ae[_0x54678f[_0x359343][-0x1*-0x210d+-0x3*-0x3b8+-0x2c35]]),_0x117318['add2'](_0x67c6fd,_0x52ae25);let _0x448afb=_0x5d9a36/_0x1d030e,_0x3d1692=_0x54c82e/_0x5e6170;_0x427574['push'](_0x117318['x'],_0x117318['y'],_0x117318['z']),_0x51783f['push'](_0x18f7c6[_0x359343][-0xa57*0x3+-0x1243*-0x1+0x661*0x2],_0x18f7c6[_0x359343][-0x1d5*0xd+-0x1*0x1a11+0x31e3],_0x18f7c6[_0x359343][0x835*-0x1+-0x1294+-0x13*-0x169]),_0x5a3503['push'](_0x448afb,-0xca2+0x1cc6+-0x1023-_0x3d1692),_0x448afb=_0x448afb*F_+ju,_0x3d1692=_0x3d1692*F_+ju,_0x448afb/=0x4*-0x3ec+0x11*0x95+0x1*0x5ce,_0x3d1692/=0x9e2+0x16ab+-0xee*0x23,_0x448afb+=_0x359343%(-0x21ff*0x1+0xee3+0x131f*0x1)/(0xa7f*-0x2+0x131f+0x1e2),_0x3d1692+=Math['floor'](_0x359343/(0x10df*-0x2+0x88*-0x43+0x4559))/(0x108c+0x243c+-0x34c5),_0x5d9a36<_0x1d030e&&_0x54c82e<_0x5e6170&&(_0x2ccbc4['push'](_0x5224dc+_0x5e6170+(-0x36f*-0xb+0x2*-0xdb1+-0x6*0x1bb),_0x5224dc+(0x7bd*-0x3+-0x4*0x712+0x3380),_0x5224dc),_0x2ccbc4['push'](_0x5224dc+_0x5e6170+(-0x1c86+-0xc07*0x2+0x3495),_0x5224dc+_0x5e6170+(-0xfe*0xd+-0x3*-0x28d+-0x541*-0x1),_0x5224dc+(-0x2*0x8f6+0xd*-0x277+0x31f8))),_0x5224dc++;}};_0x5db225(_0x541475['FRONT'],_0x269db5,_0x56c174),_0x5db225(_0x541475['BACK'],_0x269db5,_0x56c174),_0x5db225(_0x541475['TOP'],_0x269db5,_0x48c95b),_0x5db225(_0x541475['BOTTOM'],_0x269db5,_0x48c95b),_0x5db225(_0x541475['RIGHT'],_0x48c95b,_0x56c174),_0x5db225(_0x541475['LEFT'],_0x48c95b,_0x56c174),this['positions']=_0x427574,this['normals']=_0x51783f,this['uvs']=_0x5a3503,this['uvs1']=_0x5a3503,this['indices']=_0x2ccbc4,_0x1cb14e['calculateT'+'angents']&&(this['tangents']=pr(_0x427574,_0x51783f,_0x5a3503,_0x2ccbc4));}}class N0 extends _n{constructor(_0x353e41={}){super();const _0x4ba057=_0x353e41['radius']??-0xfff+-0xf2*-0x10+-0x1*-0xdf+0.5,_0xc68e9c=_0x353e41['latitudeBa'+'nds']??-0x1d62+-0xf7+-0x1e69*-0x1,_0x5a99f3=_0x353e41['longitudeB'+'ands']??0xa4*0x39+0x3*0xcfb+-0x1*0x4b65,_0x237672=[],_0x2da838=[],_0x20cc4f=[],_0x1e2ae4=[];for(let _0x2a5f8b=0xc5c+0xb5c*-0x3+0x15b8;_0x2a5f8b<=_0xc68e9c;_0x2a5f8b++){const _0x25bed3=_0x2a5f8b*Math['PI']/_0xc68e9c,_0x55f86c=Math['sin'](_0x25bed3),_0x1a10c7=Math['cos'](_0x25bed3);for(let _0x6b5235=-0x131b+0x1553+-0x238;_0x6b5235<=_0x5a99f3;_0x6b5235++){const _0x13f3c4=_0x6b5235*(0x31f*0xc+-0x20b1+-0x4c1*0x1)*Math['PI']/_0x5a99f3-Math['PI']/(0x1*0x209c+-0x1*-0x1f4b+-0x5cf*0xb),_0x1f5338=Math['sin'](_0x13f3c4),_0x3e1bed=Math['cos'](_0x13f3c4)*_0x55f86c,_0x171b1e=_0x1a10c7,_0x341d48=_0x1f5338*_0x55f86c,_0xe6bc46=0x1f*-0x107+-0x3*-0x4e9+0x111f-_0x6b5235/_0x5a99f3,_0x9e5033=0x1e46+0x1c0e+0x67b*-0x9-_0x2a5f8b/_0xc68e9c;_0x237672['push'](_0x3e1bed*_0x4ba057,_0x171b1e*_0x4ba057,_0x341d48*_0x4ba057),_0x2da838['push'](_0x3e1bed,_0x171b1e,_0x341d48),_0x20cc4f['push'](_0xe6bc46,0xfca+0x1f7c+-0x2f45-_0x9e5033);}}for(let _0x26d61c=-0x4*0x5b1+-0x183*0x5+0x1e53;_0x26d61c<_0xc68e9c;++_0x26d61c)for(let _0x1b05a3=-0x41b*-0x5+0x14d4+-0x3*0xdc9;_0x1b05a3<_0x5a99f3;++_0x1b05a3){const _0x28a330=_0x26d61c*(_0x5a99f3+(0x1704+-0x1e2f*-0x1+-0x3532))+_0x1b05a3,_0x4483a6=_0x28a330+_0x5a99f3+(0x1948+-0xb58+-0xdef);_0x1e2ae4['push'](_0x28a330+(-0x13c6+0x1dae+-0x27*0x41),_0x4483a6,_0x28a330),_0x1e2ae4['push'](_0x28a330+(-0x9f3+-0xdc*-0x29+-0x652*0x4),_0x4483a6+(-0x1*-0x1822+0x934+-0x2155),_0x4483a6);}this['positions']=_0x237672,this['normals']=_0x2da838,this['uvs']=_0x20cc4f,this['uvs1']=_0x20cc4f,this['indices']=_0x1e2ae4,_0x353e41['calculateT'+'angents']&&(this['tangents']=pr(_0x237672,_0x2da838,_0x20cc4f,_0x1e2ae4));}}class m1 extends N0{constructor(_0x1207d7={}){const _0x28ef0d=_0x1207d7['latitudeBa'+'nds']??0x6d3+0x1bad+0x3a*-0x98,_0x282c0c=_0x1207d7['longitudeB'+'ands']??0x22a2+0x2481+-0x4713;super({'radius':0.5,'latitudeBands':_0x28ef0d,'longitudeBands':_0x282c0c});const _0x44247e=-0x1*-0x2b3+0x14a7+-0x175a*0x1+0.1,_0x293e3e=0x1404+0x116f+-0x2573+0.95,_0x4de5e5=_0x293e3e*_0x293e3e,_0x4d1539=this['positions'];for(let _0x31f7bc=0x21*-0x2c+-0xe7e+-0x142a*-0x1;_0x31f7bc<_0x4d1539['length'];_0x31f7bc+=0x21a7+0x1*-0x1750+0x295*-0x4){const _0x1feb9d=_0x4d1539[_0x31f7bc]/(-0x181f+0x2323+0x234*-0x5+0.5);let _0x1f34a5=_0x4d1539[_0x31f7bc+(-0x18fd*0x1+0x1e31+-0x533)]/(0x9a0+-0x23a1+0x1a01+0.5);const _0x4420cb=_0x4d1539[_0x31f7bc+(-0xb7*0x36+-0xa*-0x218+0x46b*0x4)]/(-0x23c3+-0x154b+0x390e+0.5);_0x1f34a5<0x2e*-0xc6+0x9e4+0x19b0&&(_0x1f34a5*=0x1128+-0x18d3+0x7ab+0.3,_0x1feb9d*_0x1feb9d+_0x4420cb*_0x4420cb<_0x4de5e5&&(_0x1f34a5=-(0x1*-0x2077+-0x4*0x392+0x2ebf+0.1))),_0x1f34a5+=_0x44247e,_0x1f34a5*=0x2*-0x8a1+-0x1*0x1ef2+0x3034+0.5,_0x4d1539[_0x31f7bc+(-0x97*-0xd+-0x9e*0x1d+0xa3c)]=_0x1f34a5;}}}class To{static['create'](_0x4e01b8,_0x41a67a){switch(_0x41a67a){case tw:return To['box'](_0x4e01b8);case sw:return To['dome'](_0x4e01b8);}return b['assert'](_0x41a67a===wo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x41a67a),To['infinite'](_0x4e01b8);}static['infinite'](_0x474555){return ke['fromGeomet'+'ry'](_0x474555,new Yu(_0x474555));}static['box'](_0x2dd6b4){return ke['fromGeomet'+'ry'](_0x2dd6b4,new Yu({'yOffset':0.5}));}static['dome'](_0x131215){const _0x51d7fe=new m1({'latitudeBands':0x32,'longitudeBands':0x32});return _0x51d7fe['normals']=void(0x32c*0x9+0x1f1*-0x2+-0x18aa),_0x51d7fe['uvs']=void(-0x1d3*-0x6+-0x5*-0x5e1+0x1c1*-0x17),ke['fromGeomet'+'ry'](_0x131215,_0x51d7fe);}}class _1{constructor(_0x4f3168,_0x2bc0ce,_0x55445c,_0xe434d7,_0x48a60b){c(this,'meshInstan'+'ce',null);const _0x1ec450=new La({'uniqueName':'SkyMateria'+'l','vertexCode':j['skyboxVS'],'fragmentCode':j['skyboxPS'],'attributes':{'aPosition':Xe}});_0x1ec450['setDefine']('__INJECT_S'+'KYBOX_DECO'+'DE_FNC',Ds['decodeFunc'](_0xe434d7['encoding'])),_0x48a60b!==wo&&_0x1ec450['setDefine']('SKYMESH',''),_0xe434d7['cubemap']&&_0x1ec450['setDefine']('SKY_CUBEMA'+'P',''),_0x1ec450['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2bc0ce['skyboxHigh'+'lightMulti'+'plier']),_0xe434d7['cubemap']?_0x1ec450['setParamet'+'er']('texture_cu'+'beMap',_0xe434d7):(_0x1ec450['setParamet'+'er']('texture_en'+'vAtlas',_0xe434d7),_0x1ec450['setParamet'+'er']('mipLevel',_0x2bc0ce['skyboxMip'])),_0x1ec450['cull']=xo,_0x1ec450['depthWrite']=!(0xe92+-0x114d*0x1+0x2bc);const _0x34489c=_0x2bc0ce['layers']['getLayerBy'+'Id'](Ap);if(_0x34489c){const _0x52560d=To['create'](_0x4f3168,_0x48a60b),_0x216769=new Be(_0x52560d,_0x1ec450,_0x55445c);this['meshInstan'+'ce']=_0x216769,_0x216769['cull']=!(0xeb5+0x4c3+-0x1377),_0x216769['pick']=!(0x5f*0x25+0x29*0x6f+-0x1f81),_0x34489c['addMeshIns'+'tances']([_0x216769]),this['skyLayer']=_0x34489c;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}}class g1{constructor(_0x38c622){c(this,'_type',wo),c(this,'_center',new A(0x3*-0x3e1+-0x1e*-0xd5+-0xd53,0x1*0x1e23+0x255d+-0x437f,0x2a7*-0x8+0x3*-0xa46+0x340a)),c(this,'skyMesh',null),c(this,'node',new Oe('SkyMeshNod'+'e')),(this['device']=_0x38c622['device'],this['scene']=_0x38c622,this['center']=new A(0x4aa*-0x1+-0x1e04+0x22ae,0x1445+-0x2*-0x256+0xc*-0x214,-0x1200+-0x1278+0x123c*0x2),this['centerArra'+'y']=new Float32Array(0x1774+0xe*0x23b+-0x36ab),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x162705){this['type']=_0x162705['skyType']??wo,this['node']['setLocalPo'+'sition'](new A(_0x162705['skyMeshPos'+'ition']??[-0x90a+0x1fd0+-0x16c6,0x1851+0x1dc*-0x9+-0x795,-0x64a+0x261b+-0x1fd1])),this['node']['setLocalEu'+'lerAngles'](new A(_0x162705['skyMeshRot'+'ation']??[-0x1f*0x107+-0x8a*0x45+0x450b,0x1129+0x691+-0x17ba,-0x257+-0x1873+-0x1aca*-0x1])),this['node']['setLocalSc'+'ale'](new A(_0x162705['skyMeshSca'+'le']??[-0x200b+-0xf82+0x2f8e,-0xbe0+0x249e+-0x18bd*0x1,-0x2b6*-0x1+0x46f*0x1+-0x724])),_0x162705['skyCenter']&&(this['_center']=new A(_0x162705['skyCenter']));}set['type'](_0x121c2a){this['_type']!==_0x121c2a&&(this['_type']=_0x121c2a,this['scene']['updateShad'+'ers']=!(-0x1f87+0x14b6+0xad1),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x1493db){this['_center']['copy'](_0x1493db);}get['center'](){return this['_center'];}['updateSkyM'+'esh'](){const _0x2abfaf=this['scene']['_getSkybox'+'Tex']();_0x2abfaf&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new _1(this['device'],this['scene'],this['node'],_0x2abfaf,this['type']),this['scene']['fire']('set:skybox',_0x2abfaf));}['resetSkyMe'+'sh'](){var _0x12e5c7;(_0x12e5c7=this['skyMesh'])==null||_0x12e5c7['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==wo){const {center:_0x1d9f86,centerArray:_0x16968c}=this,_0x565247=new A();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x1d9f86,_0x565247),_0x16968c[0x2*0x218+-0x186b+-0x143b*-0x1]=_0x565247['x'],_0x16968c[0x43a*0x8+-0x817+-0x8*0x337]=_0x565247['y'],_0x16968c[0x6ea+0xcd7+-0x13bf]=_0x565247['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x16968c);}}}const jh=new Oe();jh['worldTrans'+'form']=q['IDENTITY'],jh['_dirtyWorl'+'d']=jh['_dirtyNorm'+'al']=!(0xa*0x9c+0x1*-0x1933+0x131c);class y1{constructor(_0x3459b6,_0x30205e,_0x5a3d78){this['material']=_0x30205e,this['layer']=_0x5a3d78,this['positions']=[],this['colors']=[],this['mesh']=new ke(_0x3459b6),this['meshInstan'+'ce']=null;}['addLines'](_0x304675,_0x3cd084){const _0xbb8cd1=this['positions'],_0x12ee11=_0x304675['length'];for(let _0x4cff5a=-0x91d+0x237d+-0x2*0xd30;_0x4cff5a<_0x12ee11;_0x4cff5a++){const _0x48ebee=_0x304675[_0x4cff5a];_0xbb8cd1['push'](_0x48ebee['x'],_0x48ebee['y'],_0x48ebee['z']);}const _0x4b9855=this['colors'];if(_0x3cd084['length'])for(let _0x20365b=0x1*-0x230b+-0x9c3+0x5*0x8f6;_0x20365b<_0x12ee11;_0x20365b++){const _0x18afec=_0x3cd084[_0x20365b];_0x4b9855['push'](_0x18afec['r'],_0x18afec['g'],_0x18afec['b'],_0x18afec['a']);}else{for(let _0x4e9139=0x1*-0x228f+-0xec*-0x6+0x3*0x9ad;_0x4e9139<_0x12ee11;_0x4e9139++)_0x4b9855['push'](_0x3cd084['r'],_0x3cd084['g'],_0x3cd084['b'],_0x3cd084['a']);}}['addLinesAr'+'rays'](_0xcf906,_0x5b4903){const _0x3e1e82=this['positions'];for(let _0x39eec4=0x1059+0x48d+-0x32*0x6b;_0x39eec4<_0xcf906['length'];_0x39eec4+=-0x3*-0xc27+0x1afe+-0x3f70)_0x3e1e82['push'](_0xcf906[_0x39eec4],_0xcf906[_0x39eec4+(0x11a0+0xda7+-0x1f46)],_0xcf906[_0x39eec4+(-0x3*-0x755+-0x20d7+-0x56d*-0x2)]);const _0x2bb5e5=this['colors'];if(_0x5b4903['length']){for(let _0x26ffd9=-0xf6+0x1a57*0x1+0x49*-0x59;_0x26ffd9<_0x5b4903['length'];_0x26ffd9+=0x1*0x250a+-0x1c71+0xa9*-0xd)_0x2bb5e5['push'](_0x5b4903[_0x26ffd9],_0x5b4903[_0x26ffd9+(0x1*0xc05+0xbfa+0x25*-0xa6)],_0x5b4903[_0x26ffd9+(0xa86+0x999+-0x141d)],_0x5b4903[_0x26ffd9+(-0x44+0x13b3+-0x136c)]);}else{const _0x3a0018=_0xcf906['length']/(-0x2dd+0x65*-0x40+-0xa*-0x2d0);for(let _0xe5896b=0x3*-0x613+0x882*-0x2+-0x1*-0x233d;_0xe5896b<_0x3a0018;_0xe5896b++)_0x2bb5e5['push'](_0x5b4903['r'],_0x5b4903['g'],_0x5b4903['b'],_0x5b4903['a']);}}['onPreRende'+'r'](_0x31d2de,_0x32be05){this['positions']['length']>-0x15e5+-0x2629*-0x1+-0x2b6*0x6&&this['material']['transparen'+'t']===_0x32be05&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](Lc,!(-0x1b93+0x1cbe+-0x95*0x2)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new Be(this['mesh'],this['material'],jh)),_0x31d2de['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x238*-0x4+-0x55*-0x2e+-0x1826,this['colors']['length']=0xa91+-0xb9e+0x10d;}}class x1{constructor(_0x1760ec){this['device']=_0x1760ec,this['map']=new Map();}['getBatch'](_0x1dd97d,_0x1b67b1){let _0x54fa6d=this['map']['get'](_0x1dd97d);return _0x54fa6d||(_0x54fa6d=new y1(this['device'],_0x1dd97d,_0x1b67b1),this['map']['set'](_0x1dd97d,_0x54fa6d)),_0x54fa6d;}['onPreRende'+'r'](_0x57240a,_0x4b187e){this['map']['forEach'](_0x1645ce=>{_0x1645ce['onPreRende'+'r'](_0x57240a,_0x4b187e);});}['clear'](){this['map']['forEach'](_0x66542c=>_0x66542c['clear']());}}const ns=[],kn=new A(),S1={'uniqueName':'ImmediateL'+'ine','vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec3\x20vertex'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20mat4\x20m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20matrix'+'_viewProje'+'ction;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20='+'\x20vertex_co'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20matrix_vi'+'ewProjecti'+'on\x20*\x20matri'+'x_model\x20*\x20'+'vec4(verte'+'x_position'+',\x201);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','fragmentCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20','attributes':{'vertex_position':Xe,'vertex_color':It}};class v1{constructor(_0x205d9e){c(this,'shaderDesc'+'s',new Map()),(this['device']=_0x205d9e,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x2b1100){const _0x17c9db=new La(S1);return _0x17c9db['blendType']=Gt,_0x17c9db['depthTest']=_0x2b1100,_0x17c9db['update'](),_0x17c9db;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0xc*0x200+0x8b6+0xf4a*0x1))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x1d41+0x127b+0xac7))),this['_materialN'+'oDepth'];}['getBatch'](_0x4ea44d,_0x260a48){let _0x739502=this['batchesMap']['get'](_0x4ea44d);_0x739502||(_0x739502=new x1(this['device']),this['batchesMap']['set'](_0x4ea44d,_0x739502)),this['allBatches']['add'](_0x739502);const _0x7ac87d=_0x260a48?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x739502['getBatch'](_0x7ac87d,_0x4ea44d);}['getShaderD'+'esc'](_0x19c71c,_0x2c3979){return this['shaderDesc'+'s']['has'](_0x19c71c)||this['shaderDesc'+'s']['set'](_0x19c71c,{'uniqueName':'DebugShade'+'r:'+_0x19c71c,'vertexCode':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20vertex_p'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20vec2'+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'0\x20=\x20vertex'+'_position.'+'xy\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentCode':_0x2c3979,'attributes':{'vertex_position':Xe}}),this['shaderDesc'+'s']['get'](_0x19c71c);}['getTexture'+'ShaderDesc'](_0x27f43b){const _0x2429b9=Ds['decodeFunc'](_0x27f43b);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x27f43b,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x2429b9+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'+j['screenDept'+'hPS']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain()\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'depth\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(uv0)'+')\x20*\x20camera'+'_params.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(gam'+'maCorrectO'+'utput(vec3'+'(depth)),\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20'));}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new ke(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x110e+-0x198b*0x1+-0xf*-0x2d7+0.5),-(-0x1*0x596+0x487*0x3+-0x7ff+0.5),0x1*0x68f+-0x13*0x193+-0x1*-0x175a,-0x2448+-0x763*-0x2+0x2*0xac1+0.5,-(-0x3*0x21a+0x3*-0x20b+0xc6f+0.5),-0xf8*0x2+-0xfa9+0x1199,-(0x1e89*-0x1+-0x228d+-0x3*-0x15b2+0.5),-0x164a+0x3*-0x226+0x1cbc+0.5,-0xb*-0x178+-0x1*0x2628+0x4*0x580,-0x1*-0x25fa+0x1f0d+-0x4507*0x1+0.5,-0x36*-0x2+-0x2*0x43b+0x80a+0.5,-0xf99+-0xd2d+-0x2*-0xe63]),this['quadMesh']['update'](lr)),this['quadMesh'];}['drawMesh'](_0x2b9c17,_0x3ea550,_0x55955a,_0x42eaef,_0x2481e0){if(!_0x42eaef){const _0x447f30=this['getGraphNo'+'de'](_0x3ea550);_0x42eaef=new Be(_0x55955a,_0x2b9c17,_0x447f30);}let _0x2f5533=this['layerMeshI'+'nstances']['get'](_0x2481e0);_0x2f5533||(_0x2f5533=[],this['layerMeshI'+'nstances']['set'](_0x2481e0,_0x2f5533)),_0x2f5533['push'](_0x42eaef);}['drawWireAl'+'ignedBox'](_0x4fb806,_0x57fd6c,_0x378a58,_0x44a759,_0x588821,_0x396e21){if(_0x396e21){const _0x230b76=(_0x38ea61,_0x2bc3a1,_0x2c12c2)=>{kn['set'](_0x38ea61,_0x2bc3a1,_0x2c12c2),_0x396e21['transformP'+'oint'](kn,kn),ns['push'](kn['x'],kn['y'],kn['z']);};_0x230b76(_0x4fb806['x'],_0x4fb806['y'],_0x4fb806['z']),_0x230b76(_0x4fb806['x'],_0x57fd6c['y'],_0x4fb806['z']),_0x230b76(_0x4fb806['x'],_0x57fd6c['y'],_0x4fb806['z']),_0x230b76(_0x57fd6c['x'],_0x57fd6c['y'],_0x4fb806['z']),_0x230b76(_0x57fd6c['x'],_0x57fd6c['y'],_0x4fb806['z']),_0x230b76(_0x57fd6c['x'],_0x4fb806['y'],_0x4fb806['z']),_0x230b76(_0x57fd6c['x'],_0x4fb806['y'],_0x4fb806['z']),_0x230b76(_0x4fb806['x'],_0x4fb806['y'],_0x4fb806['z']),_0x230b76(_0x4fb806['x'],_0x4fb806['y'],_0x57fd6c['z']),_0x230b76(_0x4fb806['x'],_0x57fd6c['y'],_0x57fd6c['z']),_0x230b76(_0x4fb806['x'],_0x57fd6c['y'],_0x57fd6c['z']),_0x230b76(_0x57fd6c['x'],_0x57fd6c['y'],_0x57fd6c['z']),_0x230b76(_0x57fd6c['x'],_0x57fd6c['y'],_0x57fd6c['z']),_0x230b76(_0x57fd6c['x'],_0x4fb806['y'],_0x57fd6c['z']),_0x230b76(_0x57fd6c['x'],_0x4fb806['y'],_0x57fd6c['z']),_0x230b76(_0x4fb806['x'],_0x4fb806['y'],_0x57fd6c['z']),_0x230b76(_0x4fb806['x'],_0x4fb806['y'],_0x4fb806['z']),_0x230b76(_0x4fb806['x'],_0x4fb806['y'],_0x57fd6c['z']),_0x230b76(_0x4fb806['x'],_0x57fd6c['y'],_0x4fb806['z']),_0x230b76(_0x4fb806['x'],_0x57fd6c['y'],_0x57fd6c['z']),_0x230b76(_0x57fd6c['x'],_0x57fd6c['y'],_0x4fb806['z']),_0x230b76(_0x57fd6c['x'],_0x57fd6c['y'],_0x57fd6c['z']),_0x230b76(_0x57fd6c['x'],_0x4fb806['y'],_0x4fb806['z']),_0x230b76(_0x57fd6c['x'],_0x4fb806['y'],_0x57fd6c['z']);}else ns['push'](_0x4fb806['x'],_0x4fb806['y'],_0x4fb806['z'],_0x4fb806['x'],_0x57fd6c['y'],_0x4fb806['z'],_0x4fb806['x'],_0x57fd6c['y'],_0x4fb806['z'],_0x57fd6c['x'],_0x57fd6c['y'],_0x4fb806['z'],_0x57fd6c['x'],_0x57fd6c['y'],_0x4fb806['z'],_0x57fd6c['x'],_0x4fb806['y'],_0x4fb806['z'],_0x57fd6c['x'],_0x4fb806['y'],_0x4fb806['z'],_0x4fb806['x'],_0x4fb806['y'],_0x4fb806['z'],_0x4fb806['x'],_0x4fb806['y'],_0x57fd6c['z'],_0x4fb806['x'],_0x57fd6c['y'],_0x57fd6c['z'],_0x4fb806['x'],_0x57fd6c['y'],_0x57fd6c['z'],_0x57fd6c['x'],_0x57fd6c['y'],_0x57fd6c['z'],_0x57fd6c['x'],_0x57fd6c['y'],_0x57fd6c['z'],_0x57fd6c['x'],_0x4fb806['y'],_0x57fd6c['z'],_0x57fd6c['x'],_0x4fb806['y'],_0x57fd6c['z'],_0x4fb806['x'],_0x4fb806['y'],_0x57fd6c['z'],_0x4fb806['x'],_0x4fb806['y'],_0x4fb806['z'],_0x4fb806['x'],_0x4fb806['y'],_0x57fd6c['z'],_0x4fb806['x'],_0x57fd6c['y'],_0x4fb806['z'],_0x4fb806['x'],_0x57fd6c['y'],_0x57fd6c['z'],_0x57fd6c['x'],_0x57fd6c['y'],_0x4fb806['z'],_0x57fd6c['x'],_0x57fd6c['y'],_0x57fd6c['z'],_0x57fd6c['x'],_0x4fb806['y'],_0x4fb806['z'],_0x57fd6c['x'],_0x4fb806['y'],_0x57fd6c['z']);this['getBatch'](_0x588821,_0x44a759)['addLinesAr'+'rays'](ns,_0x378a58),ns['length']=-0x51a*0x5+0x51*-0x36+-0x4*-0xaa6;}['drawWireSp'+'here'](_0xa41e1a,_0xfa20b0,_0x2739bf,_0x505ac0,_0x5617f2,_0x56f2de){const _0x3e2b98=(0x502+-0xc*-0x191+-0x17cc)*Math['PI']/_0x505ac0;let _0x216d80=0xd08+-0x18ad+-0x10f*-0xb;for(let _0x5f0e9d=0x10a1+0x200b+-0x59*0x8c;_0x5f0e9d<_0x505ac0;_0x5f0e9d++){const _0x1638e8=Math['sin'](_0x216d80),_0x35206f=Math['cos'](_0x216d80);_0x216d80+=_0x3e2b98;const _0x4c10c3=Math['sin'](_0x216d80),_0x25ebe6=Math['cos'](_0x216d80);ns['push'](_0xa41e1a['x']+_0xfa20b0*_0x1638e8,_0xa41e1a['y'],_0xa41e1a['z']+_0xfa20b0*_0x35206f),ns['push'](_0xa41e1a['x']+_0xfa20b0*_0x4c10c3,_0xa41e1a['y'],_0xa41e1a['z']+_0xfa20b0*_0x25ebe6),ns['push'](_0xa41e1a['x']+_0xfa20b0*_0x1638e8,_0xa41e1a['y']+_0xfa20b0*_0x35206f,_0xa41e1a['z']),ns['push'](_0xa41e1a['x']+_0xfa20b0*_0x4c10c3,_0xa41e1a['y']+_0xfa20b0*_0x25ebe6,_0xa41e1a['z']),ns['push'](_0xa41e1a['x'],_0xa41e1a['y']+_0xfa20b0*_0x1638e8,_0xa41e1a['z']+_0xfa20b0*_0x35206f),ns['push'](_0xa41e1a['x'],_0xa41e1a['y']+_0xfa20b0*_0x4c10c3,_0xa41e1a['z']+_0xfa20b0*_0x25ebe6);}this['getBatch'](_0x56f2de,_0x5617f2)['addLinesAr'+'rays'](ns,_0x2739bf),ns['length']=-0x20f*-0x1+0xf*0xa3+-0xb9c;}['getGraphNo'+'de'](_0x239403){const _0x368565=new Oe('ImmediateD'+'ebug');return _0x368565['worldTrans'+'form']=_0x239403,_0x368565['_dirtyWorl'+'d']=_0x368565['_dirtyNorm'+'al']=!(-0x1465+0xf7*0xe+0x6e4),_0x368565;}['onPreRende'+'rLayer'](_0x2d3294,_0x30a424,_0xd7a8ed){if(this['batchesMap']['forEach']((_0x1c9ebf,_0x57b059)=>{_0x57b059===_0x2d3294&&_0x1c9ebf['onPreRende'+'r'](_0x30a424,_0xd7a8ed);}),!this['updatedLay'+'ers']['has'](_0x2d3294)){this['updatedLay'+'ers']['add'](_0x2d3294);const _0xda00cd=this['layerMeshI'+'nstances']['get'](_0x2d3294);if(_0xda00cd){for(let _0x2aef87=0x22ba+-0x535*0x5+-0x8b1;_0x2aef87<_0xda00cd['length'];_0x2aef87++)_0x30a424['push'](_0xda00cd[_0x2aef87]);_0xda00cd['length']=0x1835+-0x44a+-0x13eb;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x30ce0c=>_0x30ce0c['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class b1{constructor(){c(this,'type',Ba),c(this,'color',new Y(0x2*-0x17b+0x709*-0x2+0x1108,0xe0b+-0x1*-0x26b3+0x9d*-0x56,-0x588+0x3e*0x2b+-0x4e2)),c(this,'density',-0xa24*-0x2+0x1*0x16d3+-0x2b1b),c(this,'start',0x7ce+0x1*0xd08+-0x14d5),c(this,'end',0x8*-0x44c+-0x8bb+0x19f*0x1d);}}class mi extends de{constructor(_0x57f657){super(),c(this,'ambientBak'+'e',!(-0x2508+-0x1e81*0x1+-0x1c7*-0x26)),c(this,'ambientBak'+'eOcclusion'+'Brightness',-0x8*0x237+-0xed1+0x1*0x2089),c(this,'ambientBak'+'eOcclusion'+'Contrast',-0x507+-0x5*-0x153+-0x198),c(this,'ambientLig'+'ht',new Y(0x1d37+-0x1*0x262b+0x8f4,-0x1b69+0x10*-0x1b+-0x27*-0xbf,0x1*0xc62+0x13c6+-0x6*0x55c)),c(this,'ambientLum'+'inance',-0x1327+-0x1*0x2c9+0x15f0*0x1),c(this,'exposure',0x10d9+-0x401*-0x3+-0x1cdb),c(this,'lightmapSi'+'zeMultipli'+'er',0x10fe+0x243a*0x1+0x2cd*-0x13),c(this,'lightmapMa'+'xResolutio'+'n',-0x1a1*-0x5+0x2566+-0x258b*0x1),c(this,'lightmapMo'+'de',mh),c(this,'lightmapFi'+'lterEnable'+'d',!(-0x578*-0x2+0x11dd*0x1+-0x1ccc)),c(this,'lightmapHD'+'R',!(-0x1a3b+-0xde7+0xd61*0x3)),c(this,'root',null),c(this,'physicalUn'+'its',!(0x1f56+-0x7ff*0x3+-0x14*0x5e)),c(this,'_envAtlas',null),c(this,'_skyboxCub'+'eMap',null),c(this,'_fogParams',new b1()),(b['assert'](_0x57f657,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x57f657,this['_gravity']=new A(0x527*-0x2+0xe8b+0x5*-0xd9,-(0xebd+0x1420+-0x22d4+0.8000000000000007),-0xaf+0x2*-0xaab+0x1605),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0x187d+-0x8*-0x100+-0x207c,this['_skyboxLum'+'inance']=0x1e2*0xe+0x1b4a+-0x35a6,this['_skyboxMip']=0xc73*-0x2+-0x1d22+0x7*0x7b8,this['_skyboxHig'+'hlightMult'+'iplier']=-0x1*-0x222b+0x605*-0x3+-0x101b,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x7*-0x41+0x3c4*0x4+-0x86b*0x2),this['_skyboxRot'+'ation']=new ie(),this['_skyboxRot'+'ationMat3']=new Js(),this['_skyboxRot'+'ationMat4']=new q(),this['_ambientBa'+'keNumSampl'+'es']=-0x100b+-0x906*-0x4+-0x2*0xa06,this['_ambientBa'+'keSpherePa'+'rt']=-0x1f6e+-0x18ba+0x3828+0.4,this['_lightmapF'+'ilterRange']=0x2c9*-0xd+-0x1b6f+-0x5ca*-0xb,this['_lightmapF'+'ilterSmoot'+'hness']=0x22*-0x5d+0xa91*-0x3+0x2c0d+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x51+0x1c69+-0x2*0xe5d),this['_lightingP'+'arams']=new F0(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(-0x10e2+0xc85+0x45d);}),this['_sky']=new g1(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(0x12*-0x78+0x2311+-0x1*0x1aa1),this['_shaderVer'+'sion']=0x23b7+-0x21aa*-0x1+-0x4561*0x1,this['immediate']=new v1(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Ep);}set['ambientBak'+'eNumSample'+'s'](_0x8b26c8){this['_ambientBa'+'keNumSampl'+'es']=z['clamp'](Math['floor'](_0x8b26c8),0x752+-0x1*-0x9e3+-0x1134,0x1406+-0x731*0x1+0x1*-0xbd6);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x56b9fd){this['_ambientBa'+'keSpherePa'+'rt']=z['clamp'](_0x56b9fd,-0xe20+-0x6e3+0x1503*0x1+0.001,-0x20e*-0x1+-0x1ba1+0x1994);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x221ed6){if(this['device']['isWebGPU']&&!_0x221ed6){b['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x221ed6){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x221ed6;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x20b968){_0x20b968!==this['_envAtlas']&&(this['_envAtlas']=_0x20b968,_0x20b968&&(_0x20b968['addressU']=oe,_0x20b968['addressV']=oe,_0x20b968['minFilter']=at,_0x20b968['magFilter']=at,_0x20b968['mipmaps']=!(-0x3*0x7f4+-0x488*-0x3+0xa45)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x1f7b5b){const _0x3f1fe0=this['_layers'];this['_layers']=_0x1f7b5b,this['fire']('set:layers',_0x3f1fe0,_0x1f7b5b);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x563127){this['_lightmapF'+'ilterRange']=Math['max'](_0x563127,-0x89d+0x1ec2+-0x1625+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x426318){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x426318,0xfe9*-0x1+0x3*-0x333+0x1982+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0xf6568d){_0xf6568d=_0xf6568d||[];const _0x559df0=this['_prefilter'+'edCubemaps'];(_0x559df0['length']!==_0xf6568d['length']||_0x559df0['some']((_0x25ebde,_0x35b279)=>_0x25ebde!==_0xf6568d[_0x35b279]))&&(_0xf6568d['length']===0xb*-0x279+0x6ab*0x1+-0x2*-0xa47&&_0xf6568d['every'](_0x238caf=>!!_0x238caf)?(this['_internalE'+'nvAtlas']=P0['generatePr'+'efilteredA'+'tlas'](_0xf6568d,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0xf6568d['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x577253){_0x577253!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x577253,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x1e91bd){_0x1e91bd!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x1e91bd,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x357353){_0x357353!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x357353,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x551ef4){_0x551ef4!==this['_skyboxMip']&&(this['_skyboxMip']=_0x551ef4,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x3ad2ef){_0x3ad2ef!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x3ad2ef,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x4877a8){if(!this['_skyboxRot'+'ation']['equals'](_0x4877a8)){const _0x3cb6ff=_0x4877a8['equals'](ie['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x4877a8),_0x3cb6ff?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](A['ZERO'],_0x4877a8,A['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x3cb6ff&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x976*-0x4+0x23d+0x239b),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x48ec9a,_0x13318d,_0x2a72bf=Y['WHITE'],_0x21f43e=!(0x11df+-0x3e5+-0xdfa),_0x55af58=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x55af58,_0x21f43e)['addLines']([_0x48ec9a,_0x13318d],[_0x2a72bf,_0x2a72bf]);}['drawLines'](_0x5b38fc,_0x2f2d96,_0x365c25=!(-0x856+0x20c*-0xd+-0x7*-0x4fe),_0x52f6d7=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x52f6d7,_0x365c25)['addLines'](_0x5b38fc,_0x2f2d96);}['drawLineAr'+'rays'](_0xd9754c,_0x586a2e,_0x4aeeb9=!(0x10fd*0x1+0x4c5+-0x15c2),_0x4cc5ec=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x4cc5ec,_0x4aeeb9)['addLinesAr'+'rays'](_0xd9754c,_0x586a2e);}['applySetti'+'ngs'](_0x28cd26){const _0x41529b=_0x28cd26['physics'],_0x38b0f1=_0x28cd26['render'];this['_gravity']['set'](_0x41529b['gravity'][0xbe9*-0x1+-0x21e*0x6+0x189d],_0x41529b['gravity'][-0xcfc+-0x235+0x30a*0x5],_0x41529b['gravity'][-0x1fed+-0x19b8+0x39a7]),this['ambientLig'+'ht']['set'](_0x38b0f1['global_amb'+'ient'][-0x8f5*-0x1+-0x22*-0xc7+-0x2363],_0x38b0f1['global_amb'+'ient'][-0x93c+0x2322+-0x3b3*0x7],_0x38b0f1['global_amb'+'ient'][0x59*0x39+-0x2*0x4f7+-0x9e1]),this['ambientLum'+'inance']=_0x38b0f1['ambientLum'+'inance'],this['fog']['type']=_0x38b0f1['fog'],this['fog']['color']['set'](_0x38b0f1['fog_color'][0x86e*-0x2+0x6a8+0xa34*0x1],_0x38b0f1['fog_color'][0x1f3*-0x1+-0x1973+0x57b*0x5],_0x38b0f1['fog_color'][-0x6e9+0x1157*0x2+-0x1bc3]),this['fog']['start']=_0x38b0f1['fog_start'],this['fog']['end']=_0x38b0f1['fog_end'],this['fog']['density']=_0x38b0f1['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x38b0f1['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x38b0f1['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x38b0f1['lightmapMo'+'de'],this['exposure']=_0x38b0f1['exposure'],this['_skyboxInt'+'ensity']=_0x38b0f1['skyboxInte'+'nsity']??-0x1378+0x733+0xc46,this['_skyboxLum'+'inance']=_0x38b0f1['skyboxLumi'+'nance']??0x9776+-0x7d3c+0x33e6,this['_skyboxMip']=_0x38b0f1['skyboxMip']??0x16f+0x1*-0xec3+-0x4*-0x355,_0x38b0f1['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new ie()['setFromEul'+'erAngles'](_0x38b0f1['skyboxRota'+'tion'][-0x7b2+0x97*0x3b+-0x1b*0x101],_0x38b0f1['skyboxRota'+'tion'][-0xe6a+-0x29*-0x23+0x8d0],_0x38b0f1['skyboxRota'+'tion'][-0x2426*-0x1+-0x7*-0x209+-0x3263*0x1])),this['sky']['applySetti'+'ngs'](_0x38b0f1),this['clusteredL'+'ightingEna'+'bled']=_0x38b0f1['clusteredL'+'ightingEna'+'bled']??!(0x1c40+-0xac1+0x1*-0x117e),this['lighting']['applySetti'+'ngs'](_0x38b0f1),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x52dd57=>{_0x38b0f1['hasOwnProp'+'erty'](_0x52dd57)&&(this[_0x52dd57]=_0x38b0f1[_0x52dd57]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x11135b=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x11135b[[-0x2*0x131b+0x1950+0xce6,0x2ce*0x5+-0x1*0x245f+0x165a,0x1054+-0x4a*-0x26+-0x1b4d,0x8*-0x3b3+-0xf1c+0x6a*0x6c,-0x2a1*0x3+-0x21bb*0x1+-0xb*-0x3c9,-0x5*0x54b+-0x1ca*0x4+0x21a5][this['_skyboxMip']]]||this['_envAtlas']||_0x11135b[-0x10a7+0x1cc0+-0xc19]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x11135b[0x2018+-0xe07*0x1+-0x1211]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x137*-0x13+0x7e*-0x1+0x1697*-0x1);}['setSkybox'](_0x2249f1){_0x2249f1?(this['skybox']=_0x2249f1[0x8*-0x22d+-0x1*-0x5db+-0xb8d*-0x1]||null,_0x2249f1[-0x174f+0x220d+-0x1*0xabd]&&!_0x2249f1[0x1db*0xc+0x1aa+-0x17ed]['cubemap']?this['envAtlas']=_0x2249f1[0x11a1+0x9ff*-0x1+-0x7a1]:this['prefiltere'+'dCubemaps']=_0x2249f1['slice'](0x1*-0x1145+0x2164+-0x2*0x80f)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Te;}}c(mi,'EVENT_SETL'+'AYERS','set:layers'),c(mi,'EVENT_SETS'+'KYBOX','set:skybox'),c(mi,'EVENT_PRER'+'ENDER','prerender'),c(mi,'EVENT_POST'+'RENDER','postrender'),c(mi,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),c(mi,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),c(mi,'EVENT_PREC'+'ULL','precull'),c(mi,'EVENT_POST'+'CULL','postcull');class z0{constructor(_0x32cf9a,_0x21d0f3,_0x21e991){this['device']=_0x32cf9a,this['inverseBin'+'dPose']=_0x21d0f3,this['boneNames']=_0x21e991;}}const w1=[-0x2493+0x4d5*-0x7+0x4666,-0x1a4+-0x1*-0x1acd+0x863*-0x3,0x22*0xe7+-0x1697+0x1e*-0x45,-0x21*-0x19+-0x215b*-0x1+-0x1*0x2494,0x26b1+0x4*-0x5d6+-0xf59,-0x62e+-0x1040+0x166f,-0x1*-0x1c0b+-0x3*0x185+-0x177c,-0x1ad*0x3+0x13d6+-0xecf,0x12c1+-0x1b1c*-0x1+0x496*-0xa,-0x2*0x12b6+-0xaa*0x26+-0x7d5*-0x8,0x1f9+-0x16b6+0x14bd,-0x1*-0x296+0x28b*-0xe+0x6b*0x4f],T1=[-0x1a80+0x2ed+0x47*0x55,0xca2+0x1ddb*0x1+-0x2a7c,0x26d3+-0x1b34+-0xb9c,-0x2709+0x2*-0x1e+0x2747,-0x687+0x1c63+0x77*-0x2f,0x23df+0x1ef2+0x85a*-0x8];class A1 extends de{constructor(_0x4bae0e,_0x228bfb){super(),this['_device']=_0x4bae0e,this['_pixelsPer'+'Unit']=_0x228bfb&&_0x228bfb['pixelsPerU'+'nit']!==void(-0x89*-0x33+0x131a+-0x2e65)?_0x228bfb['pixelsPerU'+'nit']:-0x8fb+0x1*0xc77+0x51*-0xb,this['_renderMod'+'e']=_0x228bfb&&_0x228bfb['renderMode']!==void(0x10c7*-0x1+0x13a3+-0x2dc)?_0x228bfb['renderMode']:Pi,this['_atlas']=_0x228bfb&&_0x228bfb['atlas']!==void(0xfe7+-0x25f3+0x44*0x53)?_0x228bfb['atlas']:null,this['_frameKeys']=_0x228bfb&&_0x228bfb['frameKeys']!==void(0x261f+0x15eb+-0x3c0a)?_0x228bfb['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(-0xc*0x47+-0x97*-0x30+0x1*-0x18fb),this['_meshesDir'+'ty']=!(-0xa50+0x16be+-0x1*0xc6d),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x39524e){this['_frameKeys']=_0x39524e,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2f3*-0xb+-0x581*0x4+0x3675):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x39524e);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x414d93){_0x414d93!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x414d93,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x1202+0x92+0x1294*-0x1):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x414d93));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x45068b){this['_pixelsPer'+'Unit']!==_0x45068b&&(this['_pixelsPer'+'Unit']=_0x45068b,this['fire']('set:pixels'+'PerUnit',_0x45068b),this['_atlas']&&this['_frameKeys']&&this['renderMode']===Pi&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x3d7+-0x1*0x20a1+0x2478):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x3cd916){if(this['_renderMod'+'e']===_0x3cd916)return;const _0x116c67=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x3cd916,this['fire']('set:render'+'Mode',_0x3cd916),(_0x116c67===Pi||_0x3cd916===Pi)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0xa*-0x314+-0x14ce+0x6*0x899):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x35048a=this['_meshes']['length'];for(let _0x432693=-0x1*-0x2671+-0x23*-0x35+-0x2db0;_0x432693<_0x35048a;_0x432693++){const _0x4f2205=this['_meshes'][_0x432693];_0x4f2205&&_0x4f2205['destroy']();}const _0x379bcd=this['_frameKeys']['length'];this['_meshes']=new Array(_0x379bcd);const _0x358c64=this['renderMode']===ht||this['_renderMod'+'e']===st?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x51dee7=0x17db+0x1569+-0x2d44;_0x51dee7<_0x379bcd;_0x51dee7++){const _0x3f224e=this['_atlas']['frames'][this['_frameKeys'][_0x51dee7]];this['_meshes'][_0x51dee7]=_0x3f224e?_0x358c64['call'](this,_0x3f224e):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x413535){const _0x3a4c1d=_0x413535['rect'],_0x1509c2=this['_atlas']['texture']['width'],_0x5a0c33=this['_atlas']['texture']['height'],_0x2ebc6c=_0x3a4c1d['z']/this['_pixelsPer'+'Unit'],_0x107703=_0x3a4c1d['w']/this['_pixelsPer'+'Unit'],_0x4e5c57=_0x413535['pivot']['x'],_0x49bd7f=_0x413535['pivot']['y'],_0x2f2584=[-_0x4e5c57*_0x2ebc6c,-_0x49bd7f*_0x107703,0x20b7+-0x1*0xf7+-0x1fc0,(-0x1df*-0xb+0x1586+-0x2a1a-_0x4e5c57)*_0x2ebc6c,-_0x49bd7f*_0x107703,-0x39f+-0x12e5*-0x2+0x1*-0x222b,(-0xe97+0x2e*0x80+-0x10d*0x8-_0x4e5c57)*_0x2ebc6c,(0x1b05+0x95*-0x2+-0x44f*0x6-_0x49bd7f)*_0x107703,0x14a+-0xc87+0xb3d,-_0x4e5c57*_0x2ebc6c,(-0x71+0x8*0x284+-0x13ae-_0x49bd7f)*_0x107703,0x14db*-0x1+0x2516+-0x569*0x3],_0xb619df=_0x3a4c1d['x']/_0x1509c2,_0xf5ddeb=0x22ae+-0x1202+-0x10ab-_0x3a4c1d['y']/_0x5a0c33,_0x1c5676=(_0x3a4c1d['x']+_0x3a4c1d['z'])/_0x1509c2,_0x54bdca=-0x708+-0x6*-0x2a9+-0x8ed-(_0x3a4c1d['y']+_0x3a4c1d['w'])/_0x5a0c33,_0xaa1ed=[_0xb619df,_0xf5ddeb,_0x1c5676,_0xf5ddeb,_0x1c5676,_0x54bdca,_0xb619df,_0x54bdca],_0x22ffd2=new _n();return _0x22ffd2['positions']=_0x2f2584,_0x22ffd2['normals']=w1,_0x22ffd2['uvs']=_0xaa1ed,_0x22ffd2['indices']=T1,ke['fromGeomet'+'ry'](this['_device'],_0x22ffd2);}['_create9Sl'+'iceMesh'](){const _0x5383a8=W['ONE'],_0x504f79=0x1c26*-0x1+0xca8+0x3*0x52b,_0x5f2953=0x38*-0x7+-0xd59+0xee4,_0x355467=[],_0x47d66c=[],_0x1d65b1=[],_0x4b817c=[];let _0x2b3849=0x2*-0x870+-0xdf*0x25+0x311b;for(let _0x24e9fb=-0x2347+0x103a+0x130d;_0x24e9fb<=_0x504f79;_0x24e9fb++){const _0x3f914f=_0x24e9fb===0x1811+0xa*0x2c1+-0x339b||_0x24e9fb===_0x504f79?0xc7f+-0x1*0x1bd7+0xf58*0x1:-0x1f85+-0xa90+-0x2a16*-0x1;for(let _0x14f81a=-0x3aa+-0x6cf*0x1+0x1*0xa79;_0x14f81a<=_0x5f2953;_0x14f81a++){const _0x9fb0a2=-_0x5383a8['x']+(0x46c+0x16e0+-0x1b4a)*_0x5383a8['x']*(_0x24e9fb<=0x1*-0x283+-0x200*-0x12+-0x1*0x217c?-0x3*0x529+0x1*0x192d+0x92*-0x11:0x6f7*-0x5+0x1d7d+0x559)/_0x504f79,_0x28c30c=0x1f98+-0x212b+-0xd*-0x1f,_0x57b2a5=-(-_0x5383a8['y']+(0x19*-0x18b+-0xe5b+0x34f0)*_0x5383a8['y']*(_0x14f81a<=-0x26ee+0x524+0x21cb?0x3*0x1d8+0x1f1c+-0x24a4:0x1df9*-0x1+0xdff*-0x1+0x2bfb)/_0x5f2953),_0xf012=_0x14f81a===0x11*-0xa7+0x8c7+0x250||_0x14f81a===_0x5f2953?-0x2048+0x1ac2+0x586:0xbc*0x29+-0x75*0x2b+-0xa74;_0x355467['push'](-_0x9fb0a2,_0x28c30c,_0x57b2a5),_0x47d66c['push'](0x1ec5+0x1b*-0x151+-0x263*-0x2,0x1*-0x237a+0x91+0x6d*0x52,0xe*0x28e+-0x1519+-0x5*0x2ef),_0x1d65b1['push'](_0x3f914f,_0xf012),_0x24e9fb<_0x504f79&&_0x14f81a<_0x5f2953&&(_0x4b817c['push'](_0x2b3849+_0x5f2953+(-0x1*0x222d+-0x1423*0x1+0x3651),_0x2b3849+(-0x13d*-0x17+0x11e3+0x1*-0x2e5d),_0x2b3849),_0x4b817c['push'](_0x2b3849+_0x5f2953+(-0x13e1*0x1+-0x13db*0x1+0x27bd),_0x2b3849+_0x5f2953+(0x1d*0xa2+0x461*0x4+-0x23dc),_0x2b3849+(0x2*0x581+-0x2142+-0x1*-0x1641))),_0x2b3849++;}}const _0x8facb7=new _n();return _0x8facb7['positions']=_0x355467,_0x8facb7['normals']=_0x47d66c,_0x8facb7['uvs']=_0x1d65b1,_0x8facb7['indices']=_0x4b817c,ke['fromGeomet'+'ry'](this['_device'],_0x8facb7);}['_onSetFram'+'es'](_0x47f00e){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x161+0x7c6+-0x47*0x21):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x7ffcf8,_0x5320db){const _0x40a2a=this['_frameKeys']['indexOf'](_0x7ffcf8);_0x40a2a<0x1b28+-0x71+0x3d1*-0x7||(_0x5320db?this['renderMode']===Pi&&(this['_meshes'][_0x40a2a]=this['_createSim'+'pleMesh'](_0x5320db)):this['_meshes'][_0x40a2a]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x598862){const _0x9a8c18=this['_frameKeys']['indexOf'](_0x598862);_0x9a8c18<-0x1a05+0xa70+-0xf95*-0x1||(this['_meshes'][_0x9a8c18]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x58b+-0x123d+0x2*0xbe4),this['_meshesDir'+'ty']=!(0x1286+-0x1a51*-0x1+0x779*-0x6);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x1*0x210a+-0x1c3b+0x3e*0xfd),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x1f1b+0x20db+-0x3ff5);}['destroy'](){for(const _0x581967 of this['_meshes'])_0x581967&&_0x581967['destroy']();this['_meshes']['length']=0x154c+0x11*0x139+-0x2a15;}}class E1 extends de{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x31dcea){this['_texture']=_0x31dcea,this['fire']('set:textur'+'e',_0x31dcea);}get['texture'](){return this['_texture'];}set['frames'](_0x96c68d){this['_frames']=_0x96c68d,this['fire']('set:frames',_0x96c68d);}get['frames'](){return this['_frames'];}['setFrame'](_0x2aba92,_0x324d54){let _0x150ef1=this['_frames'][_0x2aba92];_0x150ef1?(_0x150ef1['rect']['copy'](_0x324d54['rect']),_0x150ef1['pivot']['copy'](_0x324d54['pivot']),_0x150ef1['border']['copy'](_0x324d54['border'])):(_0x150ef1={'rect':_0x324d54['rect']['clone'](),'pivot':_0x324d54['pivot']['clone'](),'border':_0x324d54['border']['clone']()},this['_frames'][_0x2aba92]=_0x150ef1),this['fire']('set:frame',_0x2aba92['toString'](),_0x150ef1);}['removeFram'+'e'](_0x4ab31a){const _0x247e10=this['_frames'][_0x4ab31a];_0x247e10&&(delete this['_frames'][_0x4ab31a],this['fire']('remove:fra'+'me',_0x4ab31a['toString'](),_0x247e10));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class k_{constructor(_0x3cd9ed,_0x56c43d,_0x3ca137,_0x50ba50){this['time']=_0x3cd9ed,this['position']=_0x56c43d,this['rotation']=_0x3ca137,this['scale']=_0x50ba50;}}class O_{constructor(){this['_name']='',this['_keys']=[];}}class B_{constructor(){c(this,'name',''),c(this,'duration',0x3*-0x3f5+-0x64b+0x122a),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x2fa471){return this['_nodeDict'][_0x2fa471];}['addNode'](_0x4b687b){this['_nodes']['push'](_0x4b687b),this['_nodeDict'][_0x4b687b['_name']]=_0x4b687b;}get['nodes'](){return this['_nodes'];}}class C1{constructor(){this['_written']=!(-0xba9+-0x243e+-0x15*-0x248),this['_name']='',this['_keyFrames']=[],this['_quat']=new ie(),this['_pos']=new A(),this['_scale']=new A(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x4abf3f){this['_targetNod'+'e']=_0x4abf3f;}}class jd{constructor(_0x1d3d20){c(this,'looping',!(-0x71*0x17+-0x43f*0x6+0x23a1)),(this['_animation']=null,this['_time']=-0x2425+-0x14f5+0x391a,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x299f40=_0x1e344c=>{const _0x3b8217=new C1();_0x3b8217['_name']=_0x1e344c['name'],this['_interpola'+'tedKeys']['push'](_0x3b8217),this['_interpola'+'tedKeyDict'][_0x1e344c['name']]=_0x3b8217,this['_currKeyIn'+'dices'][_0x1e344c['name']]=-0x20db+-0xbb*0x1b+0x2a1*0x14;for(let _0x39e865=0xa0*0x1f+0x6*0x1d4+-0x796*0x4;_0x39e865<_0x1e344c['_children']['length'];_0x39e865++)_0x299f40(_0x1e344c['_children'][_0x39e865]);};_0x299f40(_0x1d3d20);}set['animation'](_0x3b0600){this['_animation']=_0x3b0600,this['currentTim'+'e']=-0x191d+0x2589+-0xc*0x109;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x40719f){this['_time']=_0x40719f;const _0x50200b=this['_interpola'+'tedKeys']['length'];for(let _0x2b7870=-0x223f+-0x1746+0x3985;_0x2b7870<_0x50200b;_0x2b7870++){const _0x289623=this['_interpola'+'tedKeys'][_0x2b7870]['_name'];this['_currKeyIn'+'dices'][_0x289623]=0x6ca+-0x1e95+0x17cb;}this['addTime'](0x191*0xd+-0x1ab*-0x5+-0x1*0x1cb4),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x4c2797){if(this['_animation']!==null){const _0x18501b=this['_animation']['_nodes'],_0x22095b=this['_animation']['duration'];if(this['_time']===_0x22095b&&!this['looping'])return;if(this['_time']+=_0x4c2797,this['_time']>_0x22095b){this['_time']=this['looping']?-0x1514+0x1e02+0x3*-0x2fa:_0x22095b;for(let _0x51c5cd=0xe*-0x1ad+-0x10cf+0x2845;_0x51c5cd<_0x18501b['length'];_0x51c5cd++){const _0x111971=_0x18501b[_0x51c5cd]['_name'];this['_currKeyIn'+'dices'][_0x111971]=-0x44*-0x83+-0x1*0x1f42+-0x38a;}}else{if(this['_time']<0x2f*0x22+0x463+-0x1*0xaa1){this['_time']=this['looping']?_0x22095b:-0x1b5e+0x16a0+-0x25f*-0x2;for(let _0xab14c1=0x606+-0x24*-0xf4+-0x2856;_0xab14c1<_0x18501b['length'];_0xab14c1++){const _0x270efd=_0x18501b[_0xab14c1],_0x5f0579=_0x270efd['_name'];this['_currKeyIn'+'dices'][_0x5f0579]=_0x270efd['_keys']['length']-(0x1*0x18c7+-0xfbc+-0x909);}}}const _0x255800=_0x4c2797>=0x5*-0x83+-0x1a9*-0xe+-0x14af?0x552*0x4+-0x880+-0xcc7:-(-0x1c55+-0x1*-0x1073+0xbe3);for(let _0x4396bc=0x1507+0xc15+0x146*-0x1a;_0x4396bc<_0x18501b['length'];_0x4396bc++){const _0x4e4fb5=_0x18501b[_0x4396bc],_0x27d317=_0x4e4fb5['_name'],_0x509179=_0x4e4fb5['_keys'],_0x15ec0a=this['_interpola'+'tedKeyDict'][_0x27d317];if(_0x15ec0a===void(-0x277*0x2+-0x6b+0x1*0x559)){b['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x27d317);continue;}let _0x2eb5fc=!(-0x1b10+-0x1032+0x2b43);if(_0x509179['length']!==0x1142*-0x1+-0x2f+0x1172)for(let _0x420005=this['_currKeyIn'+'dices'][_0x27d317];_0x420005<_0x509179['length']-(-0x455+0x341+0x115*0x1)&&_0x420005>=-0x1*0x2f5+0x1*0x17ad+0x68*-0x33;_0x420005+=_0x255800){const _0x44adc2=_0x509179[_0x420005],_0x710ca5=_0x509179[_0x420005+(0xb3b+0x3b9*0x8+-0x1481*0x2)];if(_0x44adc2['time']<=this['_time']&&_0x710ca5['time']>=this['_time']){const _0x576247=(this['_time']-_0x44adc2['time'])/(_0x710ca5['time']-_0x44adc2['time']);_0x15ec0a['_pos']['lerp'](_0x44adc2['position'],_0x710ca5['position'],_0x576247),_0x15ec0a['_quat']['slerp'](_0x44adc2['rotation'],_0x710ca5['rotation'],_0x576247),_0x15ec0a['_scale']['lerp'](_0x44adc2['scale'],_0x710ca5['scale'],_0x576247),_0x15ec0a['_written']=!(-0x13*-0x68+0x5a3*0x3+-0x5*0x4ed),this['_currKeyIn'+'dices'][_0x27d317]=_0x420005,_0x2eb5fc=!(-0x1d0e+-0x1ab+-0x2cb*-0xb);break;}}(_0x509179['length']===0x44e*0x5+-0x455*0x7+0x8ce||!_0x2eb5fc&&this['_time']===-0xec9+-0xe9*0x5+0x19*0xc6&&this['looping'])&&(_0x15ec0a['_pos']['copy'](_0x509179[0x1859+-0x5d2+0x99*-0x1f]['position']),_0x15ec0a['_quat']['copy'](_0x509179[0x2f*-0x4d+-0x307+-0x152*-0xd]['rotation']),_0x15ec0a['_scale']['copy'](_0x509179[-0x326+0x17da+-0x14b4]['scale']),_0x15ec0a['_written']=!(0x1a12+0x247+-0x1c59));}}}['blend'](_0x4bc3e4,_0x43566e,_0x1790ca){const _0x53d8b7=this['_interpola'+'tedKeys']['length'];for(let _0x439215=-0xf*-0x63+-0x15b5*0x1+0xfe8;_0x439215<_0x53d8b7;_0x439215++){const _0x18974c=_0x4bc3e4['_interpola'+'tedKeys'][_0x439215],_0x3f9a70=_0x43566e['_interpola'+'tedKeys'][_0x439215],_0x449751=this['_interpola'+'tedKeys'][_0x439215];_0x18974c['_written']&&_0x3f9a70['_written']?(_0x449751['_quat']['slerp'](_0x18974c['_quat'],_0x43566e['_interpola'+'tedKeys'][_0x439215]['_quat'],_0x1790ca),_0x449751['_pos']['lerp'](_0x18974c['_pos'],_0x43566e['_interpola'+'tedKeys'][_0x439215]['_pos'],_0x1790ca),_0x449751['_scale']['lerp'](_0x18974c['_scale'],_0x3f9a70['_scale'],_0x1790ca),_0x449751['_written']=!(-0x1d*0x83+-0x1b94+0x2a6b)):_0x18974c['_written']?(_0x449751['_quat']['copy'](_0x18974c['_quat']),_0x449751['_pos']['copy'](_0x18974c['_pos']),_0x449751['_scale']['copy'](_0x18974c['_scale']),_0x449751['_written']=!(0xb66+0xc*-0xa3+0x2*-0x1e1)):_0x3f9a70['_written']&&(_0x449751['_quat']['copy'](_0x3f9a70['_quat']),_0x449751['_pos']['copy'](_0x3f9a70['_pos']),_0x449751['_scale']['copy'](_0x3f9a70['_scale']),_0x449751['_written']=!(0x355+-0x35d+0x1*0x8));}}['setGraph'](_0x26a974){if(this['graph']=_0x26a974,_0x26a974)for(let _0x2a4980=-0x21e0+0x4d*-0x61+0x1*0x3f0d;_0x2a4980<this['_interpola'+'tedKeys']['length'];_0x2a4980++){const _0x48d7aa=this['_interpola'+'tedKeys'][_0x2a4980],_0x2976e1=_0x26a974['findByName'](_0x48d7aa['_name']);this['_interpola'+'tedKeys'][_0x2a4980]['setTarget'](_0x2976e1);}else{for(let _0xae26c4=-0x3*-0xac+0x309*-0x1+0x105;_0xae26c4<this['_interpola'+'tedKeys']['length'];_0xae26c4++)this['_interpola'+'tedKeys'][_0xae26c4]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x377206=-0x1025*0x1+0x2216+0x11f1*-0x1;_0x377206<this['_interpola'+'tedKeys']['length'];_0x377206++){const _0x3c6381=this['_interpola'+'tedKeys'][_0x377206];if(_0x3c6381['_written']){const _0x4c0cbf=_0x3c6381['getTarget']();_0x4c0cbf['localPosit'+'ion']['copy'](_0x3c6381['_pos']),_0x4c0cbf['localRotat'+'ion']['copy'](_0x3c6381['_quat']),_0x4c0cbf['localScale']['copy'](_0x3c6381['_scale']),_0x4c0cbf['_dirtyLoca'+'l']||_0x4c0cbf['_dirtifyLo'+'cal'](),_0x3c6381['_written']=!(-0x237d+-0x3a1+-0x271f*-0x1);}}}}const Ts=(0x2509+-0x1833+-0x669*0x2)/(-0x7*-0x3d3+0xc03+-0x2688),Gs=0x1*0x7bb+0x1bbd+0x7*-0x511-Ts*(0x1ce+0x10e3+0x1*-0x12af);class Vp extends _n{constructor(_0x50137f,_0x143ee2,_0x1daf62,_0x434c82,_0x4c365d,_0x17fc5a){super();const _0x52e855=new A(),_0x46cdec=new A(),_0x47089b=new A(),_0x242342=new A(),_0x32fb28=new A(),_0x113153=new A(),_0x2d743d=[],_0x5ac4d0=[],_0x28b063=[],_0x59e811=[],_0x2217fc=[];let _0x2bb693;if(_0x1daf62>0xe56+-0x23*-0x5f+-0x1b53){for(let _0x2981bf=-0x6+-0x1*0x1052+0x1058;_0x2981bf<=_0x434c82;_0x2981bf++)for(let _0x58335e=0x1*-0x21b7+0x12d9+-0x15a*-0xb;_0x58335e<=_0x4c365d;_0x58335e++){const _0x3a9fda=_0x58335e/_0x4c365d*(-0x45c+-0x5d*0x3f+0x1b41)*Math['PI']-Math['PI'],_0xcf8a9b=Math['sin'](_0x3a9fda),_0x517397=Math['cos'](_0x3a9fda);_0x32fb28['set'](_0xcf8a9b*_0x50137f,-_0x1daf62/(-0x1e0f+-0x1*-0x260d+0x1ff*-0x4),_0x517397*_0x50137f),_0x242342['set'](_0xcf8a9b*_0x143ee2,_0x1daf62/(-0x3*0x821+0x2f5*-0x8+0x300d),_0x517397*_0x143ee2),_0x52e855['lerp'](_0x32fb28,_0x242342,_0x2981bf/_0x434c82),_0x46cdec['sub2'](_0x242342,_0x32fb28)['normalize'](),_0x113153['set'](_0x517397,0x64b*0x1+0x17d8+0x1*-0x1e23,-_0xcf8a9b),_0x47089b['cross'](_0x113153,_0x46cdec)['normalize'](),_0x2d743d['push'](_0x52e855['x'],_0x52e855['y'],_0x52e855['z']),_0x5ac4d0['push'](_0x47089b['x'],_0x47089b['y'],_0x47089b['z']);let _0x323c16=_0x58335e/_0x4c365d,_0x65f753=_0x2981bf/_0x434c82;_0x28b063['push'](_0x323c16,-0x1*-0x12b3+-0xb37+-0x77b-_0x65f753);const _0x3524ab=_0x65f753;if(_0x65f753=_0x323c16,_0x323c16=_0x3524ab,_0x323c16=_0x323c16*Gs+Ts,_0x65f753=_0x65f753*Gs+Ts,_0x323c16/=-0x1738+-0x1b9e+0x32d9,_0x59e811['push'](_0x323c16,-0x1*0x2709+-0x9*-0xd7+-0x1*-0x1f7b-_0x65f753),_0x2981bf<_0x434c82&&_0x58335e<_0x4c365d){const _0x19dd9e=_0x2981bf*(_0x4c365d+(0x2f8+-0xd9c+0xaa5))+_0x58335e,_0x3b1fbb=_0x2981bf*(_0x4c365d+(0xd01+-0x1f*-0x53+-0x170d))+(_0x58335e+(0x2253+0xe0b+-0x305d*0x1)),_0x56bd73=(_0x2981bf+(0x23fc+0x151f*0x1+-0x1*0x391a))*(_0x4c365d+(-0xfe1+-0xfd*-0x1+-0x7b*-0x1f))+_0x58335e,_0x2ba4ef=(_0x2981bf+(0xfc1+0x1df8+-0x2db8))*(_0x4c365d+(-0xc*0x270+0xa99*0x1+0x954*0x2))+(_0x58335e+(-0x57*-0x40+0x1f62+-0x3521));_0x2217fc['push'](_0x19dd9e,_0x3b1fbb,_0x56bd73),_0x2217fc['push'](_0x3b1fbb,_0x2ba4ef,_0x56bd73);}}}if(_0x17fc5a){const _0x8728db=Math['floor'](_0x4c365d/(-0x76b*0x1+0xdf4+-0x687)),_0x1e74d1=_0x4c365d,_0xdebf96=_0x1daf62/(-0xcc0+-0x653*0x3+0x1fbb);for(let _0x327470=-0x16ea+0x61*0x4+0x1566;_0x327470<=_0x8728db;_0x327470++){const _0x21cac3=_0x327470*Math['PI']*(-0x2132+-0x2d0*-0x3+0x18c2+0.5)/_0x8728db,_0x3d4daa=Math['sin'](_0x21cac3),_0x3edb1f=Math['cos'](_0x21cac3);for(let _0x1350c6=-0x50b*-0x2+-0x1*0x6b7+-0x35f;_0x1350c6<=_0x1e74d1;_0x1350c6++){const _0x4e123d=_0x1350c6*(0xef*0x16+0x22ee*0x1+0x3e*-0xe5)*Math['PI']/_0x1e74d1-Math['PI']/(-0x2499+-0x8*-0x18b+-0x1*-0x1843),_0x5ce41c=Math['sin'](_0x4e123d),_0x14ff9a=Math['cos'](_0x4e123d)*_0x3d4daa,_0x508de8=_0x3edb1f,_0x1e5ed5=_0x5ce41c*_0x3d4daa;let _0x25947f=-0x1726+-0x5e9+-0x3*-0x9b0-_0x1350c6/_0x1e74d1,_0x368ed7=-0x960+-0x1d36+0x2697-_0x327470/_0x8728db;_0x2d743d['push'](_0x14ff9a*_0x143ee2,_0x508de8*_0x143ee2+_0xdebf96,_0x1e5ed5*_0x143ee2),_0x5ac4d0['push'](_0x14ff9a,_0x508de8,_0x1e5ed5),_0x28b063['push'](_0x25947f,0x2d3*0xd+-0x1ab1*-0x1+-0x3f67-_0x368ed7),_0x25947f=_0x25947f*Gs+Ts,_0x368ed7=_0x368ed7*Gs+Ts,_0x25947f/=0x3*0xacf+-0xaac+-0x17*0xf2,_0x368ed7/=0x379*0x3+0x2349*0x1+-0x7*0x687,_0x25947f+=(0x1*-0x557+0x1*-0xdbc+0x4c5*0x4)/(0x3*-0x866+-0x2084+0x39b9),_0x59e811['push'](_0x25947f,0x22*0xb4+-0x26f1+0xf0a-_0x368ed7);}}_0x2bb693=(_0x434c82+(-0x432+-0x18d*0x1+0x5c0))*(_0x4c365d+(-0xe*-0x161+0xd*-0x2fc+0x137f));for(let _0x21cff2=0x1192+0x1*-0x70e+-0xa84;_0x21cff2<_0x8728db;++_0x21cff2)for(let _0x52c12d=0x1*-0x2147+0x10*0x1f5+0x1f7;_0x52c12d<_0x1e74d1;++_0x52c12d){const _0xf3c24e=_0x21cff2*(_0x1e74d1+(-0x1645+0x4f7*-0x7+0x3907*0x1))+_0x52c12d,_0x1ee06f=_0xf3c24e+_0x1e74d1+(-0x2695+0x457+0x223f);_0x2217fc['push'](_0x2bb693+_0xf3c24e+(0xdb*0x23+0x2480+-0x10*0x427),_0x2bb693+_0x1ee06f,_0x2bb693+_0xf3c24e),_0x2217fc['push'](_0x2bb693+_0xf3c24e+(-0x5*-0x33b+0x355*-0x5+0x83),_0x2bb693+_0x1ee06f+(0xb3*0x8+0xfc*-0x25+0x1ed5),_0x2bb693+_0x1ee06f);}for(let _0x1590a9=0x1542+-0x8b*-0x10+-0x1df2;_0x1590a9<=_0x8728db;_0x1590a9++){const _0xd44a53=Math['PI']*(0x11c5+0x1*-0xbcb+-0x5fa+0.5)+_0x1590a9*Math['PI']*(-0x539+-0xa41+0x236*0x7+0.5)/_0x8728db,_0x2aee34=Math['sin'](_0xd44a53),_0x1811fa=Math['cos'](_0xd44a53);for(let _0x294d9f=-0x1fac+0x6d3*-0x2+0x2d52;_0x294d9f<=_0x1e74d1;_0x294d9f++){const _0x39b0f5=_0x294d9f*(-0x15b*-0x3+0xf9d+-0x13ac)*Math['PI']/_0x1e74d1-Math['PI']/(0x213b+0x1c3*-0xb+-0xdd8),_0x58cd7e=Math['sin'](_0x39b0f5),_0x520cd4=Math['cos'](_0x39b0f5)*_0x2aee34,_0x2f5d1a=_0x1811fa,_0x2982c8=_0x58cd7e*_0x2aee34;let _0x128672=0xeb9+-0x1*-0x2b6+-0x116e-_0x294d9f/_0x1e74d1,_0x5e34e5=-0xfba+-0x1*-0xce9+-0x169*-0x2-_0x1590a9/_0x8728db;_0x2d743d['push'](_0x520cd4*_0x143ee2,_0x2f5d1a*_0x143ee2-_0xdebf96,_0x2982c8*_0x143ee2),_0x5ac4d0['push'](_0x520cd4,_0x2f5d1a,_0x2982c8),_0x28b063['push'](_0x128672,0x1c81+0x1*-0x923+-0x135d-_0x5e34e5),_0x128672=_0x128672*Gs+Ts,_0x5e34e5=_0x5e34e5*Gs+Ts,_0x128672/=-0x1d*0x13+0x20b5+0x1e8b*-0x1,_0x5e34e5/=-0x3ab*0x1+-0x769+0xb17,_0x128672+=(0xc65+0x2617+0x7*-0x736)/(-0xde9+0x6e4+0x708),_0x59e811['push'](_0x128672,0x2b*-0xa+-0x827*-0x4+-0x1eed-_0x5e34e5);}}_0x2bb693=(_0x434c82+(0x246c+-0x1*-0x21b3+-0x5*0xe06))*(_0x4c365d+(0x2c1*-0xb+-0x1611+0x23*0x17f))+(_0x1e74d1+(-0x1*0x12b9+-0x1*0xb65+0x1e1f))*(_0x8728db+(-0x2501*-0x1+0x1*-0x687+-0x1e79));for(let _0x10e3b9=0xf21+0x119a+-0x15*0x18f;_0x10e3b9<_0x8728db;++_0x10e3b9)for(let _0x5454c7=-0x2f*0xa9+-0xf97+0x2e9e;_0x5454c7<_0x1e74d1;++_0x5454c7){const _0x403846=_0x10e3b9*(_0x1e74d1+(-0x3*-0x59d+-0xfd5+0x1*-0x101))+_0x5454c7,_0x559779=_0x403846+_0x1e74d1+(0x1*0x107d+-0x245f+0x13e3);_0x2217fc['push'](_0x2bb693+_0x403846+(0x2a0+-0xd42+0xaa3),_0x2bb693+_0x559779,_0x2bb693+_0x403846),_0x2217fc['push'](_0x2bb693+_0x403846+(-0x9a4+0x1f53+-0x15ae),_0x2bb693+_0x559779+(0x4*0x5b1+-0x2*0x405+-0x1*0xeb9),_0x2bb693+_0x559779);}}else{if(_0x2bb693=(_0x434c82+(0x22e1+-0x1cbf+-0x621))*(_0x4c365d+(0xc0e+0xc*0x16f+0x1d41*-0x1)),_0x50137f>0x93*-0x42+-0x14f6*-0x1+0x1*0x10f0)for(let _0x988c81=-0x282+0x455*0x6+-0x7d4*0x3;_0x988c81<_0x4c365d;_0x988c81++){const _0xfd4dd9=_0x988c81/_0x4c365d*(0x1308+0x1f1e+0x4*-0xc89)*Math['PI'],_0x244dc2=Math['sin'](_0xfd4dd9),_0x3e8196=-_0x1daf62/(-0x8c0+-0x1736+-0x2*-0xffc),_0x47a5c6=Math['cos'](_0xfd4dd9);let _0x549705=0x9*-0x37f+0xeda*-0x2+0x3c*0x105-(_0x244dc2+(-0xd5b+0x4*-0x5e6+0x24f4))/(0x135c+0x2a*-0x9b+0x614),_0xffbddf=(_0x47a5c6+(0x5d8+0x5*0x64e+-0x255d*0x1))/(0x2406+0x1f02+-0x4306);_0x2d743d['push'](_0x244dc2*_0x50137f,_0x3e8196,_0x47a5c6*_0x50137f),_0x5ac4d0['push'](0x1*-0x1184+0xd67+0x1*0x41d,-(0xf4b*-0x1+-0x7c5*0x5+0x1*0x3625),0x3d*0x47+-0x409*-0x4+-0x27*0xd9),_0x28b063['push'](_0x549705,-0x1*-0x647+-0x15f*0x12+0x1268-_0xffbddf),_0x549705=_0x549705*Gs+Ts,_0xffbddf=_0xffbddf*Gs+Ts,_0x549705/=-0xd0a+-0xb64+0x1871*0x1,_0xffbddf/=0xa23+-0x29c*-0x2+0x3d6*-0x4,_0x549705+=(-0x1613*0x1+0xaab+0xb69*0x1)/(-0x125b+-0x12c1+0x251f),_0x59e811['push'](_0x549705,0x22c6+0x6*0x38a+-0x3801-_0xffbddf),_0x988c81>-0x2325+-0x95b+0x2c81*0x1&&_0x2217fc['push'](_0x2bb693,_0x2bb693+_0x988c81,_0x2bb693+_0x988c81-(0x2*0xeab+0x31*-0x5b+-0x262*0x5));}if(_0x2bb693+=_0x4c365d,_0x143ee2>0xac*0xb+0x842*-0x2+0x920)for(let _0xbdbdbc=-0x22ba+-0x1d14+-0x1fe7*-0x2;_0xbdbdbc<_0x4c365d;_0xbdbdbc++){const _0xcffaed=_0xbdbdbc/_0x4c365d*(0x120b+0x2511+-0x371a)*Math['PI'],_0x294a95=Math['sin'](_0xcffaed),_0x51a116=_0x1daf62/(0x544+-0x1d08+0x17c6),_0x7223ab=Math['cos'](_0xcffaed);let _0x16d197=-0x32*0x7d+0x20b*0x13+0xc2*-0x13-(_0x294a95+(0x2163+-0x3*-0xa13+-0x3f9b))/(-0x7*-0x107+-0xb16+0x3e7),_0xdbe963=(_0x7223ab+(0x3*-0x2c0+-0x1*-0x15bb+0x19*-0x8a))/(-0x346*-0x9+-0x141e*0x1+-0x956);_0x2d743d['push'](_0x294a95*_0x143ee2,_0x51a116,_0x7223ab*_0x143ee2),_0x5ac4d0['push'](-0x13de+0x39d*0x1+0x1041,-0x22c1+-0x1f*0xf1+-0x1*-0x3ff1,-0xa3*-0xb+-0x2e*-0x1+-0x72f),_0x28b063['push'](_0x16d197,-0xe*0x173+-0x235e+0x1*0x37a9-_0xdbe963),_0x16d197=_0x16d197*Gs+Ts,_0xdbe963=_0xdbe963*Gs+Ts,_0x16d197/=-0x76*0x13+0x1f9c+-0x16d7,_0xdbe963/=-0x25c4+0x782*-0x2+0x34cb,_0x16d197+=(0x25cb+0x10*-0x100+0x8f*-0x27)/(0x1*-0xe35+-0x2031+0x2e69),_0x59e811['push'](_0x16d197,-0x234b+-0x177*0x19+0x3c9*0x13-_0xdbe963),_0xbdbdbc>-0x1442+-0x5bf+0x1a02&&_0x2217fc['push'](_0x2bb693,_0x2bb693+_0xbdbdbc-(0x1169*0x1+-0x164a+-0x32*-0x19),_0x2bb693+_0xbdbdbc);}}this['positions']=_0x2d743d,this['normals']=_0x5ac4d0,this['uvs']=_0x28b063,this['uvs1']=_0x59e811,this['indices']=_0x2217fc;}}class M1 extends Vp{constructor(_0x27a2f2={}){const _0x1b31e2=_0x27a2f2['radius']??-0x8a7+0x10f3*0x1+-0x84c+0.3,_0x45fdde=_0x27a2f2['height']??-0x9*0x251+-0x1*-0xec+0x13ee,_0x18918e=_0x27a2f2['heightSegm'+'ents']??-0x5d7+0x1c89+-0x16b1*0x1,_0x19724c=_0x27a2f2['sides']??-0x371*-0xa+0x3*-0xac5+-0x207;super(_0x1b31e2,_0x1b31e2,_0x45fdde-(-0x1d58+0x94f+0x140b)*_0x1b31e2,_0x18918e,_0x19724c,!(0xec9+-0x546+-0x1*0x983)),_0x27a2f2['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class P1 extends Vp{constructor(_0x1663f9={}){const _0x9bcd1f=_0x1663f9['baseRadius']??0xcc5+0x25a*-0x3+-0x5b7+0.5,_0x97685d=_0x1663f9['peakRadius']??-0x29*-0xe9+-0x1b0c+-0xa45,_0x38fd7a=_0x1663f9['height']??-0xf54+-0x3*-0x634+-0x347,_0x51d556=_0x1663f9['heightSegm'+'ents']??0x1b18+0x1198+-0x2cab,_0x5160ac=_0x1663f9['capSegment'+'s']??-0x1c1*0x3+0x20d5+-0x1b80;super(_0x9bcd1f,_0x97685d,_0x38fd7a,_0x51d556,_0x5160ac,!(-0x6c*0x2b+0x23a8+0x1*-0x1183)),_0x1663f9['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class R1 extends Vp{constructor(_0x4d78c6={}){const _0x111fbd=_0x4d78c6['radius']??0x812+0x1733+-0x1f45+0.5,_0x235ee9=_0x4d78c6['height']??-0x2432+-0x2005+0x4438,_0x2b296e=_0x4d78c6['heightSegm'+'ents']??-0xb73*0x3+-0x1f72+-0x750*-0x9,_0x4b10c9=_0x4d78c6['capSegment'+'s']??0x2405+-0x31*0xbf+0x9e;super(_0x111fbd,_0x111fbd,_0x235ee9,_0x2b296e,_0x4b10c9,!(-0x1*-0x9a1+-0x377+-0x629*0x1)),_0x4d78c6['calculateT'+'angents']&&(this['tangents']=pr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class I1 extends _n{constructor(_0x2a57be={}){super();const _0x5cba2f=_0x2a57be['halfExtent'+'s']??new W(0x4*-0x492+0x25c5+-0x137d*0x1+0.5,0x3cd+-0xef9+0x5*0x23c+0.5),_0x4d5822=_0x2a57be['widthSegme'+'nts']??0x1a2*0x17+0x24aa+-0xed7*0x5,_0x278daf=_0x2a57be['lengthSegm'+'ents']??0x3*0x67e+0x1fbb+-0x9c*0x54,_0x3a83c4=[],_0x55bf86=[],_0x509b99=[],_0xa9d487=[];let _0x9c1e93=-0x602*0x3+-0x1992+0x2b98;for(let _0x3bb6e1=-0x488+-0x38c+-0x5e*-0x16;_0x3bb6e1<=_0x4d5822;_0x3bb6e1++)for(let _0xc26880=-0x5*0x6a1+-0x1a27+0x3b4c;_0xc26880<=_0x278daf;_0xc26880++){const _0x420eaa=-_0x5cba2f['x']+(-0x980+-0x2*-0xe96+-0x13aa)*_0x5cba2f['x']*_0x3bb6e1/_0x4d5822,_0x18628d=0x1f*0x21+0x22a1+0xce0*-0x3,_0xf97406=-(-_0x5cba2f['y']+(0x230b*0x1+0x2*-0x5c9+0x1*-0x1777)*_0x5cba2f['y']*_0xc26880/_0x278daf),_0x3c389f=_0x3bb6e1/_0x4d5822,_0x55bb85=_0xc26880/_0x278daf;_0x3a83c4['push'](_0x420eaa,_0x18628d,_0xf97406),_0x55bf86['push'](-0x1376+-0x761+-0x1*-0x1ad7,-0x191b*-0x1+0xb8*0x14+-0x277a,-0x1a9a+0x751+0x1349),_0x509b99['push'](_0x3c389f,0xb17*-0x1+-0xde4+0x6*0x42a-_0x55bb85),_0x3bb6e1<_0x4d5822&&_0xc26880<_0x278daf&&(_0xa9d487['push'](_0x9c1e93+_0x278daf+(-0x7*-0x1bf+-0x548*0x4+0x8e8),_0x9c1e93+(-0x1*0x18c1+0x14df+0x1*0x3e3),_0x9c1e93),_0xa9d487['push'](_0x9c1e93+_0x278daf+(-0x1*0x1bb3+-0x923*-0x1+0x1*0x1291),_0x9c1e93+_0x278daf+(-0x11*-0x1a5+0x1*-0x1447+-0x3d6*0x2),_0x9c1e93+(-0x1*-0x187f+-0x63e+-0x92*0x20))),_0x9c1e93++;}this['positions']=_0x3a83c4,this['normals']=_0x55bf86,this['uvs']=_0x509b99,this['uvs1']=_0x509b99,this['indices']=_0xa9d487,_0x2a57be['calculateT'+'angents']&&(this['tangents']=pr(_0x3a83c4,_0x55bf86,_0x509b99,_0xa9d487));}}class D1 extends _n{constructor(_0x5604eb={}){super();const _0x266152=_0x5604eb['tubeRadius']??0x1*0x14c6+0x3b3*0x1+-0xb3*0x23+0.2,_0x125840=_0x5604eb['ringRadius']??-0xa*0x162+0x17ee+-0x2*0x50d+0.3,_0x448046=(_0x5604eb['sectorAngl'+'e']??-0x4b2+0x2006+0x54*-0x4f)*z['DEG_TO_RAD'],_0x5f0a43=_0x5604eb['segments']??0x1a2f+0xd8d*0x1+-0x279e*0x1,_0x58d41b=_0x5604eb['sides']??-0x29*0xa9+0x6ab+-0x2*-0xa3d,_0x50c4f9=[],_0x4e6441=[],_0x434515=[],_0x59254b=[];for(let _0x223370=-0x205b+0x76*-0x2a+0x33b7;_0x223370<=_0x58d41b;_0x223370++)for(let _0x3a2464=-0x11*-0x14b+-0x5c5+0x2*-0x81b;_0x3a2464<=_0x5f0a43;_0x3a2464++){const _0x395804=Math['cos'](_0x448046*_0x3a2464/_0x5f0a43)*(_0x125840+_0x266152*Math['cos']((0x1*-0x815+-0x1*0x12d1+-0x8*-0x35d)*Math['PI']*_0x223370/_0x58d41b)),_0x1be757=Math['sin']((0x773*-0x3+-0xa10+0x206b)*Math['PI']*_0x223370/_0x58d41b)*_0x266152,_0x3495aa=Math['sin'](_0x448046*_0x3a2464/_0x5f0a43)*(_0x125840+_0x266152*Math['cos']((0x124a*-0x2+0x1*-0x1e5b+-0x42f1*-0x1)*Math['PI']*_0x223370/_0x58d41b)),_0x3d2f41=Math['cos'](_0x448046*_0x3a2464/_0x5f0a43)*Math['cos']((0x19f2+-0x9*-0x427+-0x355*0x13)*Math['PI']*_0x223370/_0x58d41b),_0x5d35ab=Math['sin']((0x499*-0x8+0x1c1d+0x8ad)*Math['PI']*_0x223370/_0x58d41b),_0x11788f=Math['sin'](_0x448046*_0x3a2464/_0x5f0a43)*Math['cos']((-0x4b3*0x6+-0x1c91*-0x1+0x1*-0x5d)*Math['PI']*_0x223370/_0x58d41b),_0x366bc7=_0x223370/_0x58d41b,_0xf13b6a=0x1*-0x1855+-0x1e72+0x36c8*0x1-_0x3a2464/_0x5f0a43;if(_0x50c4f9['push'](_0x395804,_0x1be757,_0x3495aa),_0x4e6441['push'](_0x3d2f41,_0x5d35ab,_0x11788f),_0x434515['push'](_0x366bc7,-0x3*-0x7a7+0xdcb+-0x24bf-_0xf13b6a),_0x223370<_0x58d41b&&_0x3a2464<_0x5f0a43){const _0x40ac23=_0x223370*(_0x5f0a43+(-0x5a9+-0x26fb+0x2ca5*0x1))+_0x3a2464,_0x179ff5=(_0x223370+(-0x13*-0x1ca+0x1f7e+0x417b*-0x1))*(_0x5f0a43+(-0x1b84+-0x23b*0x11+-0x15d0*-0x3))+_0x3a2464,_0x449a2e=_0x223370*(_0x5f0a43+(0x135*-0x7+0x9ee+-0x3f*0x6))+(_0x3a2464+(0x8f0+0x10e4*-0x1+0x15*0x61)),_0x5a8099=(_0x223370+(0xfdb+0x1ec3+-0x2e9d*0x1))*(_0x5f0a43+(-0x8*0x16e+0x17b+0x4b*0x22))+(_0x3a2464+(-0x1f9+0x194*0x11+-0x18da));_0x59254b['push'](_0x40ac23,_0x179ff5,_0x449a2e),_0x59254b['push'](_0x179ff5,_0x5a8099,_0x449a2e);}}this['positions']=_0x50c4f9,this['normals']=_0x4e6441,this['uvs']=_0x434515,this['uvs1']=_0x434515,this['indices']=_0x59254b,_0x5604eb['calculateT'+'angents']&&(this['tangents']=pr(_0x50c4f9,_0x4e6441,_0x434515,_0x59254b));}}class L1{constructor(_0x9fddcc,_0x53562a){c(this,'processedC'+'ache',new Map()),c(this,'definition'+'sCache',new Map()),c(this,'_generator'+'s',new Map()),(this['_device']=_0x9fddcc,this['_isClearin'+'gCache']=!(-0x28*-0x79+0x2296+0x1*-0x357d),this['_precached']=!(-0xa13+-0x210f+-0x3*-0xe61),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new qh(),this['_defaultSt'+'dMatOption'+'Min']=new qh());const _0x158d96=new E0();_0x53562a['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x158d96,_0x53562a,null,[],xn,null),_0x53562a['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x53562a,null,Fp,null),_0x9fddcc['on']('destroy:sh'+'ader',_0x4f4427=>{this['removeFrom'+'Cache'](_0x4f4427);});}['destroy'](){this['clearCache']();}['register'](_0x5f3317,_0x19e992){this['_generator'+'s']['has'](_0x5f3317)||this['_generator'+'s']['set'](_0x5f3317,_0x19e992);}['unregister'](_0x1ed1a8){this['_generator'+'s']['has'](_0x1ed1a8)&&this['_generator'+'s']['delete'](_0x1ed1a8);}['isRegister'+'ed'](_0x3801f0){return this['_generator'+'s']['has'](_0x3801f0);}['generateSh'+'aderDefini'+'tion'](_0x5c6601,_0x5e6917,_0x4994a5,_0xa3f9aa){var _0x192103,_0x258f61;let _0x204776=this['definition'+'sCache']['get'](_0x4994a5);if(!_0x204776){let _0xbb80c;(_0x192103=_0xa3f9aa['litOptions'])!=null&&_0x192103['lights']&&(_0xbb80c=_0xa3f9aa['litOptions']['lights'],_0xa3f9aa['litOptions']['lights']=_0xbb80c['map'](_0x133750=>{const _0x335a0e=_0x133750['clone']?_0x133750['clone']():_0x133750;return _0x335a0e['key']=_0x133750['key'],_0x335a0e;})),this['storeNewPr'+'ogram'](_0x5e6917,_0xa3f9aa),(_0x258f61=_0xa3f9aa['litOptions'])!=null&&_0x258f61['lights']&&(_0xa3f9aa['litOptions']['lights']=_0xbb80c),this['_precached']&&b['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x5e6917+'\x20key\x20'+_0x4994a5+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x46e868=this['_device'];_0x204776=_0x5c6601['createShad'+'erDefiniti'+'on'](_0x46e868,_0xa3f9aa),_0x204776['name']=_0x204776['name']??(_0xa3f9aa['pass']?_0x5e6917+'-pass:'+_0xa3f9aa['pass']:_0x5e6917),this['definition'+'sCache']['set'](_0x4994a5,_0x204776);}return _0x204776;}['getCachedS'+'hader'](_0x4770c8){return this['processedC'+'ache']['get'](_0x4770c8);}['setCachedS'+'hader'](_0x228609,_0x3fc9b9){this['processedC'+'ache']['set'](_0x228609,_0x3fc9b9);}['getProgram'](_0x12e620,_0xcfe888,_0x32cbde,_0x25cc90){const _0x396321=this['_generator'+'s']['get'](_0x12e620);if(!_0x396321)return b['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x12e620),null;const _0xfef3be=_0x396321['generateKe'+'y'](_0xcfe888),_0x25fa83=cn(_0xfef3be),_0x4edfd4=_0x32cbde['generateKe'+'y'](this['_device']),_0x32334e=cn(_0x4edfd4),_0x402913=_0x25fa83+'#'+_0x32334e;let _0x5bc8f8=this['getCachedS'+'hader'](_0x402913);if(!_0x5bc8f8){const _0x3c1aab=this['generateSh'+'aderDefini'+'tion'](_0x396321,_0x12e620,_0x25fa83,_0xcfe888);b['assert'](_0x3c1aab);let _0xcfe2dc='',_0x49ae5d;_0xcfe888['pass']!==void(0x9f7*-0x1+-0xe9*-0x8+-0x2af*-0x1)&&(_0x49ae5d=ti['get'](this['_device'])['getByIndex'](_0xcfe888['pass']),_0xcfe2dc='-'+_0x49ae5d['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x25cc90,'shaderPassInfo':_0x49ae5d,'definition':_0x3c1aab});const _0x52e60d={'name':''+_0x3c1aab['name']+_0xcfe2dc+'-proc','attributes':_0x3c1aab['attributes'],'vshader':_0x3c1aab['vshader'],'vincludes':_0x3c1aab['vincludes'],'fincludes':_0x3c1aab['fincludes'],'fshader':_0x3c1aab['fshader'],'processingOptions':_0x32cbde,'shaderLanguage':_0x3c1aab['shaderLang'+'uage'],'meshUniformBufferFormat':_0x3c1aab['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x3c1aab['meshBindGr'+'oupFormat']};_0x5bc8f8=new r0(this['_device'],_0x52e60d),b['call'](()=>{_0x5bc8f8['_generatio'+'nKey']=_0xfef3be,_0x5bc8f8['_processin'+'gKey']=_0x4edfd4;}),this['setCachedS'+'hader'](_0x402913,_0x5bc8f8);}return _0x5bc8f8;}['storeNewPr'+'ogram'](_0x229a04,_0xe7204a){let _0x36b0b2={};if(_0x229a04==='standard'){const _0xfac12c=this['_getDefaul'+'tStdMatOpt'+'ions'](_0xe7204a['pass']);for(const _0x31d040 in _0xe7204a)(_0xe7204a['hasOwnProp'+'erty'](_0x31d040)&&_0xfac12c[_0x31d040]!==_0xe7204a[_0x31d040]||_0x31d040==='pass')&&(_0x36b0b2[_0x31d040]=_0xe7204a[_0x31d040]);for(const _0x250083 in _0xe7204a['litOptions'])_0x36b0b2[_0x250083]=_0xe7204a['litOptions'][_0x250083];}else _0x36b0b2=_0xe7204a;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x229a04,'options':_0x36b0b2}));}['dumpProgra'+'ms'](){let _0x4bae06='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x4bae06+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][0x13f3+-0x19*-0x2c+-0x183f]&&(_0x4bae06+='\x0a\x09'+this['_programsC'+'ollection'][-0x3*0x33d+-0x4a*-0x85+-0x1cbb*0x1]);for(let _0x2dcc20=-0x4f8+-0xfe5*0x1+0x1*0x14de;_0x2dcc20<this['_programsC'+'ollection']['length'];++_0x2dcc20)_0x4bae06+=',\x0a\x09'+this['_programsC'+'ollection'][_0x2dcc20];_0x4bae06+='\x0a];\x0a',_0x4bae06+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x4bae06+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+ho+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+iy+'\x22)\x0a',_0x4bae06+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x44d473=document['createElem'+'ent']('a');_0x44d473['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x4bae06)),_0x44d473['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x44d473['style']['display']='none',document['body']['appendChil'+'d'](_0x44d473),_0x44d473['click'](),document['body']['removeChil'+'d'](_0x44d473);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x226c*-0x1+0x3b*0x49+-0x333f),this['processedC'+'ache']['forEach'](_0x5ac89f=>{_0x5ac89f['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0xc7*-0x1+0x72e+-0x666);}['removeFrom'+'Cache'](_0x4c1bbc){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x51d75c,_0x52d851)=>{_0x4c1bbc===_0x51d75c&&this['processedC'+'ache']['delete'](_0x52d851);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x52e6fb){const _0x3d0a3a=ti['get'](this['_device'])['getByIndex'](_0x52e6fb);return _0x52e6fb===ll||_0x52e6fb===Na||_0x52e6fb===ol||_0x3d0a3a['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x3cc839){if(_0x3cc839){const _0xa3c973=new Array(_0x3cc839['length']);for(let _0x4f5979=-0x153a+-0x40+0x157a;_0x4f5979<_0x3cc839['length'];_0x4f5979++){if(_0x3cc839[_0x4f5979]['name']==='standard'){const _0x967e88=_0x3cc839[_0x4f5979]['options'],_0x4753f9=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x967e88['pass']);for(const _0x155284 in _0x4753f9)_0x4753f9['hasOwnProp'+'erty'](_0x155284)&&_0x967e88[_0x155284]===void(-0x1a60+-0x2309+0x3d69)&&(_0x967e88[_0x155284]=_0x4753f9[_0x155284]);}_0xa3c973[_0x4f5979]=this['getProgram'](_0x3cc839[_0x4f5979]['name'],_0x3cc839[_0x4f5979]['options']);}}this['_precached']=!(0xdb9*0x1+-0x1acc+0xd13);}}const F1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001?'+'\x20(1.0/255.'+'0)\x20:\x200.0);'+'\x0a\x20\x20\x20\x20}\x0a',k1='\x0a#ifdef\x20LI'+'GHTMAP_RGB'+'M\x0a\x20\x20\x20\x20gl_F'+'ragColor.r'+'gb\x20=\x20dDiff'+'useLight;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20pow(gl_'+'FragColor.'+'rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.rgb\x20/='+'\x208.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x20cla'+'mp(\x20max(\x20m'+'ax(\x20gl_Fra'+'gColor.r,\x20'+'gl_FragCol'+'or.g\x20),\x20ma'+'x(\x20gl_Frag'+'Color.b,\x201'+'.0\x20/\x20255.0'+'\x20)\x20),\x200.0,'+'1.0\x20);\x0a\x20\x20\x20'+'\x20gl_FragCo'+'lor.a\x20=\x20ce'+'il(gl_Frag'+'Color.a\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.rgb\x20/=\x20'+'gl_FragCol'+'or.a;\x0a#els'+'e\x0a\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(dDif'+'fuseLight,'+'\x201.0);\x0a#en'+'dif\x0a',O1='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',B1='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a//\x20fi'+'lter\x20size\x0a'+'#define\x20MS'+'IZE\x2015\x0a\x0ava'+'rying\x20vec2'+'\x20vUv0;\x0auni'+'form\x20sampl'+'er2D\x20sourc'+'e;\x0auniform'+'\x20vec2\x20pixe'+'lOffset;\x0au'+'niform\x20vec'+'2\x20sigmas;\x0a'+'uniform\x20fl'+'oat\x20bZnorm'+';\x0auniform\x20'+'float\x20kern'+'el[MSIZE];'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20texture2'+'DLod(sourc'+'e,\x20vUv0,\x200'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20lightma'+'p\x20specific'+'\x20optimizat'+'ion\x20-\x20skip'+'\x20pixels\x20th'+'at\x20were\x20no'+'t\x20baked\x0a\x20\x20'+'\x20\x20//\x20this\x20'+'also\x20allow'+'s\x20dilate\x20f'+'ilter\x20that'+'\x20work\x20on\x20t'+'he\x20output\x20'+'of\x20this\x20to'+'\x20work\x20corr'+'ectly,\x20as\x20'+'it\x20depends'+'\x20on\x20.a\x20bei'+'ng\x20zero\x0a\x20\x20'+'\x20\x20//\x20to\x20di'+'late,\x20whic'+'h\x20the\x20foll'+'owing\x20blur')+('\x20filter\x20wo'+'uld\x20otherw'+'ise\x20modify'+'\x0a\x20\x20\x20\x20if\x20(!'+'isUsed(pix'+'el))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'pixel;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ra'+'nge\x20sigma\x20'+'-\x20controls'+'\x20blurrines'+'s\x20based\x20on'+'\x20a\x20pixel\x20d'+'istance\x0a\x20\x20'+'\x20\x20float\x20si'+'gma\x20=\x20sigm'+'as.x;\x0a\x0a\x20\x20\x20'+'\x20//\x20domain'+'\x20sigma\x20-\x20c'+'ontrols\x20bl'+'urriness\x20b'+'ased\x20on\x20a\x20'+'pixel\x20simi'+'larity\x20(to'+'\x20preserve\x20'+'edges)\x0a\x20\x20\x20'+'\x20float\x20bSi'+'gma\x20=\x20sigm'+'as.y;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20pixe'+'lHdr\x20=\x20dec'+'ode(pixel)'+';\x0a\x20\x20\x20\x20vec3'+'\x20accumulat'+'edHdr\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20float\x20a'+'ccumulated'+'Factor\x20=\x200'+'.000001;\x20\x20'+'//\x20avoid\x20d'+'ivision\x20by'+'\x20zero\x0a\x0a\x20\x20\x20'+'\x20//\x20read\x20o'+'ut\x20the\x20tex'+'els\x0a\x20\x20\x20\x20co'+'nst\x20int\x20kS'+'ize\x20=\x20(MSI'+'ZE-1)/2;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x20-kSi'+'ze;\x20i\x20<=\x20k'+'Size;\x20++i)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'j\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20++j)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'ample\x20the\x20'+'pixel\x20with'+'\x20offset\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20coord'+'\x20=\x20vUv0\x20+\x20'+'vec2(float'+'(i),\x20float'+'(j))\x20*\x20pix'+'elOffset;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec4\x20pix'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20coord,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x20-\x20only\x20u'+'se\x20baked\x20p'+'ixels\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(isUsed(p'+'ix))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20hd'+'r\x20=\x20decode'+'(pix);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bil'+'ateral\x20fac'+'tors\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fac'+'tor\x20=\x20kern')+('el[kSize\x20+'+'\x20j]\x20*\x20kern'+'el[kSize\x20+'+'\x20i];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20factor\x20*='+'\x20normpdf3('+'hdr\x20-\x20pixe'+'lHdr,\x20bSig'+'ma)\x20*\x20bZno'+'rm;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20accumu'+'late\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20accumulat'+'edHdr\x20+=\x20f'+'actor\x20*\x20hd'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ccumulated'+'Factor\x20+=\x20'+'factor;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20fi'+'nalHDR\x20=\x20a'+'ccumulated'+'Hdr\x20/\x20accu'+'mulatedFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20HDR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(fina'+'lHDR,\x201.0)'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20encod'+'eRGBM(fina'+'lHDR);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),Ao={'bakeDirLmEndPS':F1,'bakeLmEndPS':k1,'dilatePS':O1,'bilateralDeNoisePS':B1},On=new q(),N_=new ie(),Yd=new ve(),z_=new ve(),N1=new Y(-0x1606*0x1+-0x9c2+0x1fc9,-0x583+0x940+0x4*-0xef,-0x47*0x10+0x1ae+0x2c2,0x1679+-0x2*0xf8d+0x8a1*0x1+0.4),Kd=0xa6*0x26+0xa57+0xc7*-0x2d+0.28209479177387814;class z1{constructor(_0x40ab78,_0x3da588,_0x2a4052,_0x533823,_0xd96aa0,_0x5c8de2){const _0x2c5a76=_0x40ab78['getProp']('x'),_0x392601=_0x40ab78['getProp']('y'),_0xa9c231=_0x40ab78['getProp']('z'),_0x1b534f=_0x40ab78['getProp']('rot_1'),_0x45133c=_0x40ab78['getProp']('rot_2'),_0xefddac=_0x40ab78['getProp']('rot_3'),_0x3007d8=_0x40ab78['getProp']('rot_0'),_0x12c5a9=_0x40ab78['getProp']('motion_0'),_0x54aa53=_0x40ab78['getProp']('motion_1'),_0x3ca0ea=_0x40ab78['getProp']('motion_2'),_0x411f87=_0x40ab78['getProp']('scale_0'),_0x2daf97=_0x40ab78['getProp']('scale_1'),_0xd820c5=_0x40ab78['getProp']('scale_2'),_0x10b19f=_0x40ab78['getProp']('f_dc_0'),_0x17990a=_0x40ab78['getProp']('f_dc_1'),_0x20c31a=_0x40ab78['getProp']('f_dc_2'),_0xe6655e=_0x40ab78['getProp']('opacity'),_0x119307=_0x16b18c=>{if(_0x16b18c>-0x3*-0xd+0x623+-0x64a)return(-0x37*-0x16+-0xcd*0x2+-0x31f*0x1)/(-0x47d*0x5+0x10*-0x1d8+0x33f2+Math['exp'](-_0x16b18c));const _0x162680=Math['exp'](_0x16b18c);return _0x162680/(-0x1*-0x24f2+0x81c+-0x2d0d*0x1+_0x162680);};this['read']=_0x30b5cb=>{_0x3da588&&(_0x3da588['x']=_0x2c5a76[_0x30b5cb],_0x3da588['y']=_0x392601[_0x30b5cb],_0x3da588['z']=_0xa9c231[_0x30b5cb]),_0x2a4052&&_0x2a4052['set'](_0x1b534f[_0x30b5cb],_0x45133c[_0x30b5cb],_0xefddac[_0x30b5cb],_0x3007d8[_0x30b5cb]),_0x533823&&_0x533823['set'](Math['exp'](_0x411f87[_0x30b5cb]),Math['exp'](_0x2daf97[_0x30b5cb]),Math['exp'](_0xd820c5[_0x30b5cb])),_0x5c8de2&&_0x12c5a9&&_0x5c8de2['set'](_0x12c5a9[_0x30b5cb],_0x54aa53[_0x30b5cb],_0x3ca0ea[_0x30b5cb]),_0xd96aa0&&_0xd96aa0['set'](-0x2*-0x1330+0x1e6*-0x3+-0x20ae+0.5+_0x10b19f[_0x30b5cb]*Kd,0x1*-0x26a7+0x2d*-0xaa+0x4489+0.5+_0x17990a[_0x30b5cb]*Kd,-0x8b7+0xb16+-0x25f+0.5+_0x20c31a[_0x30b5cb]*Kd,_0x119307(_0xe6655e[_0x30b5cb]));};}}const U_=(_0x3bdda4,_0x1c00e9,_0x5f0346)=>{N_['set'](_0x5f0346['x'],_0x5f0346['y'],_0x5f0346['z'],_0x5f0346['w'])['normalize'](),_0x3bdda4['setTRS'](_0x1c00e9,N_,A['ONE']);};class Fa{constructor(_0x12f331){c(this,'elements'),c(this,'numSplats'),c(this,'is4D');var _0x327039,_0xc0bfce,_0x5e7b6a;this['elements']=_0x12f331,this['numSplats']=(_0x327039=this['getElement']('vertex'))==null?void(0x1*0xb9b+-0xa*0x33b+0x14b3):_0x327039['count'],this['is4D']=!!((_0x5e7b6a=(_0xc0bfce=this['getElement']('vertex'))==null?void(-0xf1*0x14+0x7*0x211+0x45d):_0xc0bfce['properties']['find'](_0x5e6bf0=>_0x5e6bf0['name']==='t'))!=null&&_0x5e7b6a['storage']);}['appendGSpl'+'atData'](_0x2b21e1,_0x3f6088,_0x2ec2c3){const _0x465e75=this['getElement']('vertex')['properties'];_0x465e75['find'](_0x48c1c0=>_0x48c1c0['name']==='time_index')||_0x465e75['push']({'type':'float','name':'time_index','storage':new Float32Array(this['numSplats']),'byteSize':0x4}),this['numSplats']+=_0x2b21e1['numSplats'];for(let _0x154b96=-0x1*-0xb85+0xb*-0x147+0x1b*0x18;_0x154b96<_0x465e75['length'];_0x154b96++){const _0x1c2975=_0x465e75[_0x154b96],_0x1881c6=_0x2b21e1['getElement']('vertex')['properties']['find'](_0x199a55=>_0x199a55['name']===_0x1c2975['name']);if(_0x1c2975['name']==='time_index'){const _0x13a3ac=new Float32Array(this['numSplats']);_0x13a3ac['fill'](_0x3f6088),_0x13a3ac['set'](_0x1c2975['storage'],-0x1693+-0x6*-0x4af+-0x1*0x587),_0x1c2975['storage']=_0x13a3ac;}else{if(_0x1881c6&&_0x1c2975['name']==='t'){const _0x1e0996=new Float32Array(this['numSplats']);if(_0x1e0996['set'](_0x1c2975['storage'],-0xc31+0x13d8+0x7a7*-0x1),_0x2ec2c3){for(let _0x56c8e2=_0x1c2975['storage']['length'];_0x56c8e2<this['numSplats'];_0x56c8e2++)_0x1e0996[_0x56c8e2]=_0x1881c6['storage'][_0x56c8e2-_0x1c2975['storage']['length']]+_0x2ec2c3[(0x22ae+0x1f9a+-0x4246)*_0x3f6088];}else _0x1e0996['set'](_0x1881c6['storage'],_0x1c2975['storage']['length']);_0x1c2975['storage']=_0x1e0996;}else{if(_0x1881c6){const _0x3c704f=new Float32Array(this['numSplats']);_0x3c704f['set'](_0x1c2975['storage'],-0x1*-0x23e+-0x1*-0x2eb+-0x529),_0x3c704f['set'](_0x1881c6['storage'],_0x1c2975['storage']['length']),_0x1c2975['storage']=_0x3c704f;}}}}}static['calcSplatA'+'abb'](_0x45c43d,_0x2be971,_0x4f14e3,_0x3b8ba8){U_(On,_0x2be971,_0x4f14e3),Yd['center']['set'](0x1d8a+-0x24eb*-0x1+-0x4275,0xf*-0xff+-0xbd2+0x1ac3,-0x6*-0x221+-0x2068+0x9d1*0x2),Yd['halfExtent'+'s']['set'](_0x3b8ba8['x']*(-0x1*0x1e6e+-0x1952+0x27*0x16e),_0x3b8ba8['y']*(0x7*-0x35e+-0x1be9+0x337d),_0x3b8ba8['z']*(0x2fb+0xf12+-0x120b)),_0x45c43d['setFromTra'+'nsformedAa'+'bb'](Yd,On);}['getProp'](_0x166dc7,_0x4087cd='vertex'){var _0x49467f,_0x52f6f0;return(_0x52f6f0=(_0x49467f=this['getElement'](_0x4087cd))==null?void(0x34e+0x886*0x3+-0x18*0x134):_0x49467f['properties']['find'](_0x2babe4=>_0x2babe4['name']===_0x166dc7))==null?void(-0xcfb+-0x7*-0x246+-0x1*0x2ef):_0x52f6f0['storage'];}['getElement'](_0x1491cc){return this['elements']['find'](_0xee79a4=>_0xee79a4['name']===_0x1491cc);}['addProp'](_0xb2ece,_0x5d7e5b){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0xb2ece,'storage':_0x5d7e5b,'byteSize':0x4});}['createIter'](_0xb09349,_0x392760,_0x5d77df,_0x3033a0,_0x33a1b0){return new z1(this,_0xb09349,_0x392760,_0x5d77df,_0x3033a0,_0x33a1b0);}['calcAabb'](_0x2e74ad,_0x536523){let _0x21042b,_0x1112d7,_0xe3006a,_0x1e696c,_0x2e93a4,_0x325697,_0x44499e=!(0x1*0xfe5+0x1*-0x1f38+0xf53);const _0xeaad74=this['getProp']('x'),_0x307aec=this['getProp']('y'),_0x59150f=this['getProp']('z'),_0x4ac7aa=this['getProp']('scale_0'),_0x3e0fb7=this['getProp']('scale_1'),_0x259eae=this['getProp']('scale_2');for(let _0x1403e8=0x1a2a+0x7*0xa6+-0xf*0x20c;_0x1403e8<this['numSplats'];++_0x1403e8){if(_0x536523&&!_0x536523(_0x1403e8))continue;const _0x169765=(-0x1ca5+0x14*0x1d+0x1a63)*Math['exp'](Math['max'](_0x4ac7aa[_0x1403e8],_0x3e0fb7[_0x1403e8],_0x259eae[_0x1403e8])),_0x50017c=_0xeaad74[_0x1403e8],_0x2fbd84=_0x307aec[_0x1403e8],_0x59d9d7=_0x59150f[_0x1403e8];_0x44499e?(_0x44499e=!(-0x3*0x8bf+0x6cd*0x5+-0x7c3),_0x21042b=_0x50017c-_0x169765,_0x1112d7=_0x2fbd84-_0x169765,_0xe3006a=_0x59d9d7-_0x169765,_0x1e696c=_0x50017c+_0x169765,_0x2e93a4=_0x2fbd84+_0x169765,_0x325697=_0x59d9d7+_0x169765):(_0x21042b=Math['min'](_0x21042b,_0x50017c-_0x169765),_0x1112d7=Math['min'](_0x1112d7,_0x2fbd84-_0x169765),_0xe3006a=Math['min'](_0xe3006a,_0x59d9d7-_0x169765),_0x1e696c=Math['max'](_0x1e696c,_0x50017c+_0x169765),_0x2e93a4=Math['max'](_0x2e93a4,_0x2fbd84+_0x169765),_0x325697=Math['max'](_0x325697,_0x59d9d7+_0x169765));}return _0x44499e||(_0x2e74ad['center']['set']((_0x21042b+_0x1e696c)*(-0x90c+-0x2456+0x2d62+0.5),(_0x1112d7+_0x2e93a4)*(0x821*0x1+-0x234f+0x1b2e+0.5),(_0xe3006a+_0x325697)*(0xfe2*-0x2+0x1efd+0xc7+0.5)),_0x2e74ad['halfExtent'+'s']['set']((_0x1e696c-_0x21042b)*(0x2254+-0xdd2+-0x1482*0x1+0.5),(_0x2e93a4-_0x1112d7)*(-0x1df4+0x2*0x945+0xb6a*0x1+0.5),(_0x325697-_0xe3006a)*(-0xbf*0x1d+-0x742+0x1ce5+0.5))),!_0x44499e;}['calcAabbEx'+'act'](_0x23dd87,_0x117130){const _0x115787=new A(),_0x4682f9=new ie(),_0x53c4e7=new A(),_0x37f7ce=this['createIter'](_0x115787,_0x4682f9,_0x53c4e7);let _0x44fb3c=!(-0x126c+-0x169d+0x2909*0x1);for(let _0x48af3b=-0x3*-0x840+0x19a9+-0x3269;_0x48af3b<this['numSplats'];++_0x48af3b)_0x117130&&!_0x117130(_0x48af3b)||(_0x37f7ce['read'](_0x48af3b),_0x44fb3c?(_0x44fb3c=!(-0x1a6b+-0x5*-0x6a+0x185a),Fa['calcSplatA'+'abb'](_0x23dd87,_0x115787,_0x4682f9,_0x53c4e7)):(Fa['calcSplatA'+'abb'](z_,_0x115787,_0x4682f9,_0x53c4e7),_0x23dd87['add'](z_)));return!_0x44fb3c;}['getCenters'](_0x53fbf6){const _0x478980=this['getProp']('x'),_0x31e265=this['getProp']('y'),_0x409d49=this['getProp']('z');for(let _0x1f6e12=0x1406*0x1+0x1*0x1d24+-0x1f*0x196;_0x1f6e12<this['numSplats'];++_0x1f6e12)_0x53fbf6[_0x1f6e12*(-0x1dfd+0x21e4+-0x3e4)+(0xdaf+-0xef*-0xf+-0x1bb0)]=_0x478980[_0x1f6e12],_0x53fbf6[_0x1f6e12*(-0x3*-0x9ff+-0x16*0xab+-0x28c*0x6)+(-0x9*0x297+-0x5*-0x5d5+-0x5d9)]=_0x31e265[_0x1f6e12],_0x53fbf6[_0x1f6e12*(-0x1ea+-0x5bd+0x7aa)+(-0x9b4+-0x11d5+0x1*0x1b8b)]=_0x409d49[_0x1f6e12];}['getMuT'](){const _0x203cf7=this['getProp']('t');if(!_0x203cf7)return;const _0x169b5f=new Float32Array(this['numSplats']);for(let _0x2e5cc6=-0x5b*0x60+0x1ef3*-0x1+0x4113;_0x2e5cc6<this['numSplats'];++_0x2e5cc6)_0x169b5f[_0x2e5cc6]=_0x203cf7[_0x2e5cc6];return _0x169b5f;}['getTScale'](){const _0x2f78de=this['getProp']('t_scale');if(!_0x2f78de)return;const _0x4246fc=new Float32Array(this['numSplats']);for(let _0x4cbd16=0x1167+-0x1ad8+0x1*0x971;_0x4cbd16<this['numSplats'];++_0x4cbd16)_0x4246fc[_0x4cbd16]=Math['exp'](_0x2f78de[_0x4cbd16]);return _0x4246fc;}['getMotion'](_0x10bb68){const _0x51320b=this['getProp']('motion_0'),_0x467844=this['getProp']('motion_1'),_0x4468e3=this['getProp']('motion_2');if(!(!_0x51320b||!_0x467844||!_0x4468e3)){for(let _0x4b3e2a=0xaa+-0x173f+0x1695;_0x4b3e2a<this['numSplats'];++_0x4b3e2a)_0x10bb68[_0x4b3e2a*(0xf29*-0x1+-0x91c+0x1bc*0xe)+(0xb38*0x3+0x1d41+-0x3ee9)]=_0x51320b[_0x4b3e2a],_0x10bb68[_0x4b3e2a*(-0xc54*0x1+-0x123e+-0x1*-0x1e95)+(0x1bb6+0x6*-0x3b9+-0x55f)]=_0x467844[_0x4b3e2a],_0x10bb68[_0x4b3e2a*(-0xcc3+0x1fa4+-0x12de)+(-0x195b*0x1+0x234+0x1729)]=_0x4468e3[_0x4b3e2a];}}['getTimeInd'+'ex'](_0x316ddb){const _0x16e9e8=this['getProp']('time_index');_0x16e9e8&&_0x316ddb['set'](_0x16e9e8,0x1*-0xd22+0x1c4e*-0x1+0x2970);}['calcFocalP'+'oint'](_0x1e8af4,_0x4f738c){const _0x432674=this['getProp']('x'),_0x39ffb4=this['getProp']('y'),_0x479b78=this['getProp']('z'),_0x665d87=this['getProp']('scale_0'),_0x5a1832=this['getProp']('scale_1'),_0x27a039=this['getProp']('scale_2');_0x1e8af4['x']=0x162e+-0x2*-0x251+-0x1ad0,_0x1e8af4['y']=-0x2170+0x4*0x223+-0x76*-0x36,_0x1e8af4['z']=-0x2*0x6cd+0xa4e+0x34c;let _0x4bf3b1=0x18*-0x14a+0x3*0x21f+0x1893;for(let _0x338b83=-0x22b+0x116+0x115;_0x338b83<this['numSplats'];++_0x338b83){if(_0x4f738c&&!_0x4f738c(_0x338b83))continue;const _0x37fbfd=(-0x6*0x3cc+-0xcde+0x23a7)/(0xc69+-0x877*0x3+0xcfd+Math['exp'](Math['max'](_0x665d87[_0x338b83],_0x5a1832[_0x338b83],_0x27a039[_0x338b83])));_0x1e8af4['x']+=_0x432674[_0x338b83]*_0x37fbfd,_0x1e8af4['y']+=_0x39ffb4[_0x338b83]*_0x37fbfd,_0x1e8af4['z']+=_0x479b78[_0x338b83]*_0x37fbfd,_0x4bf3b1+=_0x37fbfd;}_0x1e8af4['mulScalar']((0x1523+0x2706+0x5*-0xc08)/_0x4bf3b1);}['renderWire'+'frameBound'+'s'](_0x4f9550,_0x21ceef){const _0x4fa2e1=new A(),_0x3f2a84=new ie(),_0x4ee8c0=new A(),_0x17dcd7=new A(),_0x5c7ecb=new A(),_0x2a636e=this['createIter'](_0x4fa2e1,_0x3f2a84,_0x4ee8c0);for(let _0x449870=-0x1*-0x159e+-0x5d*0x64+0x21a*0x7;_0x449870<this['numSplats'];++_0x449870)_0x2a636e['read'](_0x449870),U_(On,_0x4fa2e1,_0x3f2a84),On['mul2'](_0x21ceef,On),_0x17dcd7['set'](_0x4ee8c0['x']*-(0x1c*-0x5d+-0x13*-0x15d+-0xfb9),_0x4ee8c0['y']*-(0x5*0x4be+0x1f66+0x371a*-0x1),_0x4ee8c0['z']*-(0x1b55*-0x1+0x1b0e+0x49)),_0x5c7ecb['set'](_0x4ee8c0['x']*(-0x3c9*0x3+-0x5*-0x1a2+0x333),_0x4ee8c0['y']*(-0x97*0x1d+-0x12+0x112f),_0x4ee8c0['z']*(0x11c*0x8+-0x3d7*-0x2+-0x108c)),_0x4f9550['immediate']['drawWireAl'+'ignedBox'](_0x17dcd7,_0x5c7ecb,N1,!(0xb66*0x1+-0x12ef*-0x2+0xc*-0x41b),_0x4f9550['defaultDra'+'wLayer'],On);}get['isCompress'+'ed'](){return!(-0x12*-0x16d+0x6fe+0xd*-0x283);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x54bc24=0x4d0+0x1ece+-0x239e;_0x54bc24<0xe4d+0xa*0x104+0xc*-0x206;++_0x54bc24)if(!this['getProp']('f_rest_'+_0x54bc24))return _0x54bc24;return-0x1c13+-0x2*-0xe78+-0xb0;})())]??0x25a3+0x2a4+-0x2847;}['calcMorton'+'Order'](){const _0x4f8bbd=_0x5e4aae=>{let _0xe63400=_0x5e4aae[-0x60a+-0xc58+-0x1*-0x1262],_0x3eae78=_0x5e4aae[-0xe4+-0x43*-0x2f+-0xb69];for(let _0x21ea25=0x2*-0x5b+0x6be*0x1+0x1*-0x607;_0x21ea25<_0x5e4aae['length'];_0x21ea25++)_0x5e4aae[_0x21ea25]<_0xe63400&&(_0xe63400=_0x5e4aae[_0x21ea25]),_0x5e4aae[_0x21ea25]>_0x3eae78&&(_0x3eae78=_0x5e4aae[_0x21ea25]);return{'min':_0xe63400,'max':_0x3eae78};},_0x14d446=(_0x375a22,_0x556dfe,_0x4d3f13)=>{const _0x144d78=_0x1878b3=>(_0x1878b3&=-0x163*0x15+0x1c38+-0x13*-0x42,_0x1878b3=(_0x1878b3^_0x1878b3<<0x7d*-0x43+-0x24cd*0x1+-0x49*-0xf4)&-0x1451afdf*-0x7+-0xd525dbbb+-0x1*-0x145ea0da1,_0x1878b3=(_0x1878b3^_0x1878b3<<-0x184e*-0x1+0x225d+0x11*-0x373)&0x49df0d8+-0xa6972*0x54+0x1*0x1cd989f,_0x1878b3=(_0x1878b3^_0x1878b3<<0x1add+-0xc*0xe0+-0x1059)&-0x7*-0x83d88+-0xa21486*0x8+0x7e3263b,_0x1878b3=(_0x1878b3^_0x1878b3<<-0xa55+0x1*0x211f+-0x16c8)&-0xe9d584e+0x10b150c3+0x71099d4,_0x1878b3);return(_0x144d78(_0x4d3f13)<<0x2*-0x23e+0x2*0x935+-0xdec)+(_0x144d78(_0x556dfe)<<0x2*0x305+-0x979+0x370)+_0x144d78(_0x375a22);},_0x1cc3e0=this['getProp']('x'),_0x19cea7=this['getProp']('y'),_0x1e58a3=this['getProp']('z'),{min:_0x3929dd,max:_0x4ce488}=_0x4f8bbd(_0x1cc3e0),{min:_0x319832,max:_0x1d4e85}=_0x4f8bbd(_0x19cea7),{min:_0x13e2b4,max:_0x3d8e55}=_0x4f8bbd(_0x1e58a3),_0x20626d=_0x3929dd===_0x4ce488?-0xf38+-0x2*-0xd34+-0xb30:(-0x21cc+0x1f0d*-0x1+0x8d*0x7d)/(_0x4ce488-_0x3929dd),_0x41fa37=_0x319832===_0x1d4e85?0x4f*0x4a+-0x34*0x34+0xc46*-0x1:(0x5*0x2b9+0x7*0x2d7+-0x1d7e)/(_0x1d4e85-_0x319832),_0x31172b=_0x13e2b4===_0x3d8e55?-0x2c7*0x1+-0x1537*-0x1+0x5*-0x3b0:(0x7*0x593+-0x3*-0x3ed+-0x4ae*0xa)/(_0x3d8e55-_0x13e2b4),_0x30a2dc=new Map();for(let _0x40788e=0x1dbe+0xd4d+-0x2b0b;_0x40788e<this['numSplats'];_0x40788e++){const _0x5092fe=Math['floor']((_0x1cc3e0[_0x40788e]-_0x3929dd)*_0x20626d),_0xb619f9=Math['floor']((_0x19cea7[_0x40788e]-_0x319832)*_0x41fa37),_0x57f588=Math['floor']((_0x1e58a3[_0x40788e]-_0x13e2b4)*_0x31172b),_0x4ed431=_0x14d446(_0x5092fe,_0xb619f9,_0x57f588),_0x386725=_0x30a2dc['get'](_0x4ed431);_0x386725?_0x386725['push'](_0x40788e):_0x30a2dc['set'](_0x4ed431,[_0x40788e]);}const _0x33e88f=Array['from'](_0x30a2dc['keys']())['sort']((_0x28fb10,_0x26b23e)=>_0x28fb10-_0x26b23e),_0x76904f=new Uint32Array(this['numSplats']);let _0x5a9660=0x1ed9*0x1+0x2f*-0x88+0x12d*-0x5;for(let _0x5501cd=-0x1*0x1d3+-0x242a+0x25fd;_0x5501cd<_0x33e88f['length'];++_0x5501cd){const _0x460b2b=_0x30a2dc['get'](_0x33e88f[_0x5501cd]);for(let _0x7a5e22=0x6b6+-0x23e2+0x1d2c;_0x7a5e22<_0x460b2b['length'];++_0x7a5e22)_0x76904f[_0x5a9660++]=_0x460b2b[_0x7a5e22];}return _0x76904f;}['reorder'](_0x3f091d){const _0x5dcb40=new Map(),_0x545a97=_0x48990a=>{if(_0x5dcb40['has'](_0x48990a)){const _0x16420e=_0x5dcb40['get'](_0x48990a);return _0x5dcb40['delete'](_0x48990a),_0x16420e;}return new ArrayBuffer(_0x48990a);},_0x37b61e=_0x5061d7=>{_0x5dcb40['set'](_0x5061d7['byteLength'],_0x5061d7);},_0x4c2589=_0x3cf364=>{const _0x4ed62a=new _0x3cf364['constructo'+'r'](_0x545a97(_0x3cf364['byteLength']));for(let _0x45d3e8=0x90e+0x20f7+-0x2a05;_0x45d3e8<_0x3f091d['length'];_0x45d3e8++)_0x4ed62a[_0x45d3e8]=_0x3cf364[_0x3f091d[_0x45d3e8]];return _0x37b61e(_0x3cf364['buffer']),_0x4ed62a;};this['elements']['forEach'](_0x32b497=>{_0x32b497['properties']['forEach'](_0x29a68c=>{_0x29a68c['storage']&&(_0x29a68c['storage']=_0x4c2589(_0x29a68c['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const U0=(_0x4df25b={})=>{console['log']('____\x20ENGIN'+'E\x20IVAN','gsplat-mat'+'erial\x20crea'+'teGSplatMa'+'terial');const _0x23eddc=_0x4df25b['dither']??Os,_0xc0caf0=_0x23eddc!==Os,_0x35f779=new La({'uniqueName':'SplatMater'+'ial','vertexCode':_0x4df25b['vertex']??j['gsplatVS'],'fragmentCode':_0x4df25b['fragment']??j['gsplatPS'],'attributes':{'vertex_position':Xe,'vertex_id_attrib':Sa}});return _0x35f779['setDefine']('DITHER_'+_0x23eddc['toUpperCas'+'e'](),''),_0x35f779['cull']=vt,_0x35f779['blendType']=_0xc0caf0?hs:Gt,_0x35f779['depthWrite']=_0xc0caf0,_0x35f779['update'](),_0x35f779;};async function U1(){self['onmessage']=async _0x3f1c19=>{const {data:_0x5cc6fa}=_0x3f1c19;switch(_0x5cc6fa['type']){case'initWorker':break;case'updateSHDa'+'ta':_0x45cf43(_0x5cc6fa['numSplats'],_0x5cc6fa['shBands'],_0x5cc6fa['SHData']);break;}};const _0x45cf43=(_0x5eb9e7,_0x4f4b83,_0x40ccfc)=>{const _0x3e3b68=new Uint32Array(_0x5eb9e7*(-0x647*0x1+0xa7d+0x6*-0xb3)),_0x57bf93=new Uint32Array(_0x5eb9e7*(0x351*0x4+0x1c81+-0x15*0x1fd)),_0xcc8fb=new Uint32Array(_0x5eb9e7*(-0x226c+-0x10ed*0x2+0x444a)),_0x238d46=new Uint32Array(_0x5eb9e7*(-0x4*-0x308+0x425*-0x9+0x1931)),_0x15b008={0x1:0x3,0x2:0x8,0x3:0xf}[_0x4f4b83],_0x4895c1=_0x40ccfc,_0x3bad01=-0xfe5+-0x1b52+0x3336,_0x4d3804=-0x24b*-0x10+0x2556+-0x4607,_0x5e5070=new Float32Array(-0x172f+-0x332+0x1a62),_0x59d762=new Uint32Array(_0x5e5070['buffer']),_0x2e6207=new Array(_0x15b008*(0x1*0x1787+0xa63+0x1*-0x21e7))['fill'](0x18b2+-0x1e4c+0x59a);for(let _0x405e0c=-0x24ef+-0x8fb*0x1+0x2*0x16f5;_0x405e0c<_0x5eb9e7;++_0x405e0c){for(let _0x3b6fe9=0x1f*-0x5c+0x1390+-0x2*0x436;_0x3b6fe9<_0x15b008;++_0x3b6fe9)_0x2e6207[_0x3b6fe9*(0xb*-0x13c+-0x3*-0x36f+-0x1*-0x34a)]=_0x4895c1[_0x3b6fe9][_0x405e0c],_0x2e6207[_0x3b6fe9*(0x50b+0xf98+-0x14a0)+(0xaba+0x5*0x1d3+-0xfe*0x14)]=_0x4895c1[_0x3b6fe9+_0x15b008][_0x405e0c],_0x2e6207[_0x3b6fe9*(-0x1eff+-0xcd2+-0x42*-0xaa)+(0x2144*-0x1+-0x8db*0x1+-0x1*-0x2a21)]=_0x4895c1[_0x3b6fe9+_0x15b008*(-0x402+-0x691+0xa95)][_0x405e0c];let _0x5495c7=_0x2e6207[-0x1*-0x1c73+0x617*-0x1+-0x165c];for(let _0x51eb28=-0x99b+-0x1fe7*-0x1+-0x164b;_0x51eb28<_0x15b008*(0x1c07+-0x2699+0xa95);++_0x51eb28)_0x5495c7=Math['max'](_0x5495c7,Math['abs'](_0x2e6207[_0x51eb28]));if(_0x5495c7!==-0x1356+-0x1d*0xac+0x26d2){for(let _0x28d8a3=0xaf*-0x1e+-0x8ee+0x1d70;_0x28d8a3<_0x15b008;++_0x28d8a3)_0x2e6207[_0x28d8a3*(-0xc61*0x1+0x144f+-0x7eb)+(-0xef4+0x1*0x14ca+-0x5d6)]=Math['max'](0x2327*0x1+-0x1ef1+0x1*-0x436,Math['min'](_0x3bad01,Math['floor']((_0x2e6207[_0x28d8a3*(0x5*0x3f7+0x23*-0x19+-0x1065)+(-0x125*-0x1a+0x19d5+-0x3797)]/_0x5495c7*(0x17d+-0x2*-0x671+0xd*-0x11b+0.5)+(0xc*-0x2b9+0x16de+0x9ce+0.5))*_0x3bad01+(0x2580+0x448*0x5+0x82*-0x74+0.5)))),_0x2e6207[_0x28d8a3*(0x2*0xb15+0x1d4a+-0x3371)+(-0xe8d*0x1+-0xfe*-0x4+0x10f*0xa)]=Math['max'](0xe4e+0xd0c*0x1+-0x1b5a,Math['min'](_0x4d3804,Math['floor']((_0x2e6207[_0x28d8a3*(-0xae*0x27+-0x24a2+0x3f27)+(-0x1b4*0x4+0x53d+-0x194*-0x1)]/_0x5495c7*(0x1*-0xd7c+0xc15+0x1*0x167+0.5)+(-0xf8a*0x2+-0x4*0x3cd+-0x1*-0x2e48+0.5))*_0x4d3804+(-0x992+0xcb*-0x1d+0x4a7*0x7+0.5)))),_0x2e6207[_0x28d8a3*(-0xb*0x2f6+0x5a*0x26+-0x103*-0x13)+(0x1*-0x110b+-0x1d9c+-0x955*-0x5)]=Math['max'](0x1050+0x130c*-0x2+0x15c8,Math['min'](_0x3bad01,Math['floor']((_0x2e6207[_0x28d8a3*(-0x1123+-0x2eb+-0xb*-0x1d3)+(-0xa*-0x327+0xf2e+-0x2eb2)]/_0x5495c7*(0x1*0x18fb+0x139*-0x19+0x596+0.5)+(0x267e+-0x1384+-0x12fa+0.5))*_0x3bad01+(-0x1ad7+-0x5*0x1e2+-0x1*-0x2441+0.5))));_0x5e5070[0x28c*0xe+-0x417*0x1+-0x1f91]=_0x5495c7,_0x3e3b68[_0x405e0c*(0x1be*-0x1+0x181*0x13+-0x1ad1)+(0x1*0x277+-0x11*0xca+0xaf3)]=_0x59d762[0x2103+0x1*0x264b+-0x474e],_0x3e3b68[_0x405e0c*(-0x16c0+-0xd6d+0x2431)+(-0x1551+0x52c+0x1026)]=_0x2e6207[0xfee+-0x14ff+-0x511*-0x1]<<0x1d9d+0x13*-0x1c8+-0x114*-0x4|_0x2e6207[0x40*0x8b+-0xe3*0x17+0xb*-0x14e]<<-0x1300+0x2243+-0xf38|_0x2e6207[-0x1*-0xbc3+-0x1dfe+0x123d],_0x3e3b68[_0x405e0c*(0x1560+-0x5bd+-0x535*0x3)+(0x4*-0x9bb+-0x189*-0x1+0x2565)]=_0x2e6207[-0xb8b+-0x25a9+-0x3137*-0x1]<<-0x5f6+-0x245a+-0x2a65*-0x1|_0x2e6207[0x1*0x1ddb+-0x2431+0x2*0x32d]<<-0x13*0x4e+0xb*-0x11d+-0x485*-0x4|_0x2e6207[-0x13*-0x185+0x12*0xfc+-0x2e92],_0x3e3b68[_0x405e0c*(-0x25b0+-0x1067+0x361b)+(-0x1f4f+0x50d*-0x7+-0xd*-0x521)]=_0x2e6207[-0x2f*0x8d+-0x1f3e+0x1*0x3927]<<0x106d+0x134+-0x118c|_0x2e6207[0x26d4+-0x6d+-0x4*0x998]<<-0x52*0x52+0x82e*-0x2+0x3*0xe39|_0x2e6207[-0x4*0x2eb+0x2457+-0x7*0x385],_0x4f4b83>-0x6e1+-0x92*-0x1+0xca*0x8&&(_0x57bf93[_0x405e0c*(-0x1cba*-0x1+0xd19*-0x2+-0x284)+(-0xa3a+0x309*-0x5+0x1967)]=_0x2e6207[0x1414+0x1c2d+-0x3038]<<-0x5fa*-0x4+-0x1f*-0x139+-0x3dba|_0x2e6207[-0x2567*0x1+-0x1b26*0x1+-0x1*-0x4097]<<-0x3*0xdf+0xfcf*-0x1+0x1277|_0x2e6207[-0x31*-0x25+0x56d*-0x5+0x1417],_0x57bf93[_0x405e0c*(-0x3*0x103+-0x3*0x2e8+0x17*0x83)+(0x1e8b+0xf65+-0x1*0x2def)]=_0x2e6207[-0x121e+-0x23*-0x53+0x6d1]<<0x15b*-0x9+0x1*-0x35e+-0x2*-0x7d3|_0x2e6207[-0x61e+0x1*-0x1021+0x164c]<<0x3*0x1c9+0x1*0x9c7+-0xf17|_0x2e6207[-0x34e+-0x1*-0xfa7+0xc4b*-0x1],_0x57bf93[_0x405e0c*(-0x203c+0x1471+-0xbcf*-0x1)+(-0x5cc*-0x3+0xc9*-0x16+-0x1c)]=_0x2e6207[0xf5b*0x2+0x1f*-0xd1+-0x558]<<-0xfb7+-0x17b2+0x277e|_0x2e6207[0xd05*0x3+0xd1e+-0x341d]<<0x25c3+0x5f2*0x3+-0x378e*0x1|_0x2e6207[-0x1e71+-0x1071+0x2ef3],_0x57bf93[_0x405e0c*(0x744+0x5c2+-0xd02)+(0x4*-0x93f+0x2*-0x5c5+0x3089)]=_0x2e6207[0xeba+0x728*-0x4+0xdf8]<<0x1d31+-0x10f*-0x1a+-0x16*0x293|_0x2e6207[0x176f+-0xfb3+-0x25*0x35]<<0xa25+0x7af+-0x11c9|_0x2e6207[0x3*-0x2d5+-0xc98+0x152b],_0x4f4b83>-0x1*-0xc7c+-0x1c1*0x2+0x2*-0x47c?(_0xcc8fb[_0x405e0c*(-0xfba+0x273+0xd4b)+(0x1*0x207e+-0x6c0+-0x5*0x526)]=_0x2e6207[-0xe*-0x16c+-0x1c4f+-0x1*-0x87c]<<0x1128+0x815*-0x4+0xf41|_0x2e6207[0x1ed4+-0x1777+-0x747]<<0xca1+-0x501+-0x795|_0x2e6207[-0x5d*-0x17+0xbf0+-0x6bc*0x3],_0xcc8fb[_0x405e0c*(-0x2347+0x1483*0x1+0xec8)+(0x5*0x2da+0x575+-0xae*0x1d)]=_0x2e6207[-0x2*-0x2ea+-0x1*0xedd+0x921]<<0x47b*0x4+0xaca+-0x1ca1|_0x2e6207[-0xf2+-0x2f+0x9d*0x2]<<0x1*-0xd99+-0xb2c+0x2*0xc68|_0x2e6207[-0x1c*-0x8+-0x1b26+0x1a60*0x1],_0xcc8fb[_0x405e0c*(0x20e4+-0x7aa+-0x1936)+(0x89d+-0x15*0x19d+-0xa*-0x287)]=_0x2e6207[-0x14*-0x58+0x4ab+-0x2*0x5b8]<<0x2207+0x1471*-0x1+0xd81*-0x1|_0x2e6207[0xc2+-0xcfe+0xc58]<<0x263b+0x110*0x4+-0x8*0x54e|_0x2e6207[0x1b*-0xca+-0xf8+0x1663],_0xcc8fb[_0x405e0c*(-0xd98+0x328*0x9+0x4*-0x3b3)+(0x428+-0x6c2+0x29d)]=_0x2e6207[0x53+0x1*-0xaa1+0xa6c]<<-0x1251+-0x103a+-0x4*-0x8a8|_0x2e6207[-0x202+0x14dd+-0x12bc]<<-0x1*-0xed5+0x701+-0x15cb|_0x2e6207[0x80*-0x24+0x2582*-0x1+0x37a2*0x1],_0x238d46[_0x405e0c*(-0x130a+-0x660*-0x3+0x6*-0x3)+(-0xf*-0x27c+0xd81+-0x29*0x13d)]=_0x2e6207[-0x146b+-0x10e+-0x1*-0x159a]<<0x1*0x809+-0x240d+0x1c19*0x1|_0x2e6207[0x1248+-0x23e1+0x11bb]<<-0x363+-0x25e0+0x294e|_0x2e6207[0x1fff+-0x6fd+0x18df*-0x1],_0x238d46[_0x405e0c*(-0x110d+0xe3*0x1+0x102e)+(-0xf1c+-0x475+0x1392)]=_0x2e6207[-0x1d28+0x11a3+0xba9]<<0x219+-0x1*-0x408+-0x60c|_0x2e6207[0x19b7+-0x25db+0xc49]<<-0xc26+0x15dd+-0x9ac*0x1|_0x2e6207[0x114c+0x11bc+0xa*-0x37d],_0x238d46[_0x405e0c*(-0xc*0x237+0x1ab1*0x1+-0x19)+(-0x2521+0x159f+0xf84)]=_0x2e6207[-0x1bad*0x1+-0x1225+-0x2df9*-0x1]<<0x532*-0x1+0x37e+-0x1*-0x1c9|_0x2e6207[-0x5*-0x543+-0x22a6+-0x2d5*-0x3]<<0x1900+-0x17e5+-0x110|_0x2e6207[0x1bb*0x15+-0x1d29+-0x1*0x705],_0x238d46[_0x405e0c*(0x1b5b+0x1d15+-0x386c)+(-0x6a7+-0x2*0xac1+-0x964*-0x3)]=_0x2e6207[0xf22+-0x10e7+-0xf*-0x21]<<-0x1f*-0x1f+0x2*0x1223+-0x27f2|_0x2e6207[-0x1aa5+0x24cc+-0x3*0x354]<<0x1*-0x734+-0x4*0x37c+0x1ed*0xb|_0x2e6207[-0x41*-0x2b+-0x1*-0x95b+-0x141a]):_0xcc8fb[_0x405e0c]=_0x2e6207[0x5b*0x49+0x1*-0x4d4+-0x150a]<<-0x1*0x776+-0x1*0x109d+0x60a*0x4|_0x2e6207[0x9*0x19d+-0x3*0x24b+-0x78e]<<-0x124b+0xcb5+-0x1*-0x5a1|_0x2e6207[-0xd81+0x2*-0x6f5+-0x7*-0x3ee]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata','sh1to3Data':_0x3e3b68,'sh4to7Data':_0x57bf93,'sh8to11Data':_0xcc8fb,'sh12to15Data':_0x238d46},[_0x3e3b68['buffer'],_0x57bf93['buffer'],_0xcc8fb['buffer'],_0x238d46['buffer']]);};}class V1 extends de{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+U1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x103528=>{if(!this['worker'])return;const {data:_0x45a7ac}=_0x103528;switch(_0x45a7ac['type']){case'updatedSHD'+'ata':this['fire']('updatedSHD'+'ata',_0x45a7ac['sh1to3Data'],_0x45a7ac['sh4to7Data'],_0x45a7ac['sh8to11Dat'+'a'],_0x45a7ac['sh12to15Da'+'ta']);break;}};}['updateSHDa'+'ta'](_0x3a664a,_0xf29934,_0x180b84){var _0x2b8622;(_0x2b8622=this['worker'])==null||_0x2b8622['postMessag'+'e']({'type':'updateSHDa'+'ta','numSplats':_0x3a664a,'shBands':_0xf29934,'SHData':_0x180b84});}['destroy'](){var _0x282cbf;this['worker']&&((_0x282cbf=this['worker'])==null||_0x282cbf['terminate'](),this['worker']=null);}}const V_=(_0x5f367f,_0x2e2f73)=>{const _0x35515b=[];for(let _0x58ff92=-0x10f4+-0x20be+-0x2*-0x18d9;_0x58ff92<_0x2e2f73;++_0x58ff92)_0x35515b['push'](_0x5f367f['getProp']('f_rest_'+_0x58ff92));return _0x35515b;};class G1{constructor(_0x586d71,_0x13212b){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'timeOption'),c(this,'centers'),c(this,'muT'),c(this,'tScale'),c(this,'motion'),c(this,'timeIndex'),c(this,'opacity'),c(this,'threshold'),c(this,'aabb'),c(this,'colorTextu'+'re'),c(this,'transformA'+'Texture'),c(this,'transformB'+'Texture'),c(this,'transformR'+'Texture'),c(this,'transformT'+'SpeedTextu'+'re'),c(this,'transformT'+'Texture'),c(this,'is4D'),c(this,'shBands'),c(this,'sh1to3Text'+'ure'),c(this,'sh4to7Text'+'ure'),c(this,'sh8to11Tex'+'ture'),c(this,'sh12to15Te'+'xture'),c(this,'updateData'+'Worker'),console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat');const _0x4382b=_0x13212b['numSplats'];this['device']=_0x586d71,this['numSplats']=_0x4382b,this['numSplatsV'+'isible']=_0x4382b,this['updateData'+'Worker']=new V1(),this['centers']=new Float32Array(_0x13212b['numSplats']*(-0x956*0x2+0x26e0+-0x1431)),this['motion']=new Float32Array(_0x13212b['numSplats']*(0x1ebc+-0x1272+-0xc47)),this['timeIndex']=new Float32Array(_0x13212b['numSplats']),_0x13212b['getCenters'](this['centers']),_0x13212b['getMotion'](this['motion']),_0x13212b['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x13212b['getMuT'](this['timeOption']),this['tScale']=_0x13212b['getTScale'](),this['is4D']=_0x13212b['is4D'],this['aabb']=new ve(),_0x13212b['calcAabb'](this['aabb']);const _0x272403=this['evalTextur'+'eSize'](_0x4382b);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',it,_0x272403),this['thresholdT'+'exture']=this['createText'+'ure']('splatThres'+'hold',xa,_0x272403),this['transformA'+'Texture']=this['createText'+'ure']('transformA',yt,_0x272403),this['transformB'+'Texture']=this['createText'+'ure']('transformB',it,_0x272403),this['transformR'+'Texture']=this['createText'+'ure']('transformR',et,_0x272403),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',et,_0x272403),this['transformT'+'Texture']=this['createText'+'ure']('transformT',et,_0x272403)),this['updateColo'+'rData'](_0x13212b),this['updateThre'+'sholdData'](_0x13212b),this['updateTran'+'sformData'](_0x13212b),this['shBands']=_0x13212b['shBands'],this['shBands']>0x31*-0x26+0x283*0x3+-0x43&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',yt,_0x272403),this['shBands']>0x9*0xa+0x785+0x35*-0x26&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',yt,_0x272403),this['shBands']>-0x2154+0x439+-0x1d1d*-0x1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',yt,_0x272403),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',yt,_0x272403)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',on,_0x272403)),this['updateSHDa'+'ta'](_0x13212b));}['updateData'](_0x5e0735){console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplat');const _0x271d8f=_0x5e0735['numSplats'];this['numSplats']=_0x271d8f,this['numSplatsV'+'isible']=_0x271d8f,this['centers']=new Float32Array(_0x5e0735['numSplats']*(-0x170a+-0x1f7a+0x3687)),this['motion']=new Float32Array(_0x5e0735['numSplats']*(0x1c1a+-0x1aa3+-0x174)),this['timeIndex']=new Float32Array(_0x5e0735['numSplats']),_0x5e0735['getCenters'](this['centers']),_0x5e0735['getMotion'](this['motion']),_0x5e0735['getTimeInd'+'ex'](this['timeIndex']),this['muT']=_0x5e0735['getMuT'](this['timeOption']),this['tScale']=_0x5e0735['getTScale'](),this['is4D']=_0x5e0735['is4D'],this['aabb']=new ve(),_0x5e0735['calcAabb'](this['aabb']);const _0x20757d=this['evalTextur'+'eSize'](_0x271d8f);this['colorTextu'+'re']=this['createText'+'ure']('splatColor',it,_0x20757d),this['thresholdT'+'exture']=this['createText'+'ure']('splatThres'+'hold',xa,_0x20757d),this['transformA'+'Texture']=this['createText'+'ure']('transformA',yt,_0x20757d),this['transformB'+'Texture']=this['createText'+'ure']('transformB',it,_0x20757d),this['transformR'+'Texture']=this['createText'+'ure']('transformR',et,_0x20757d),this['is4D']&&(this['transformT'+'SpeedTextu'+'re']=this['createText'+'ure']('transformT'+'Speed',et,_0x20757d),this['transformT'+'Texture']=this['createText'+'ure']('transformT',et,_0x20757d)),this['updateColo'+'rData'](_0x5e0735),this['updateTran'+'sformData'](_0x5e0735),this['updateThre'+'sholdData'](_0x5e0735),this['shBands']=_0x5e0735['shBands'],this['shBands']>-0x19*0xea+-0x676*-0x1+0x419*0x4&&(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',yt,_0x20757d),this['shBands']>-0xd2d+0x2662+-0x1934&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',yt,_0x20757d),this['shBands']>-0x1d0e+-0x965+0x2675?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',yt,_0x20757d),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',yt,_0x20757d)):this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',on,_0x20757d)),this['updateSHDa'+'ta'](_0x5e0735));}['destroy'](){var _0x39f57c,_0x2124a4,_0xe7f6c8,_0xe6ea57,_0x3628ed,_0x5193e5,_0x3b0b14,_0x36426a,_0x363292,_0x4f696c,_0x5d8082;(_0x39f57c=this['colorTextu'+'re'])==null||_0x39f57c['destroy'](),(_0x2124a4=this['thresholdT'+'exture'])==null||_0x2124a4['destroy'](),(_0xe7f6c8=this['transformA'+'Texture'])==null||_0xe7f6c8['destroy'](),(_0xe6ea57=this['transformB'+'Texture'])==null||_0xe6ea57['destroy'](),(_0x3628ed=this['transformR'+'Texture'])==null||_0x3628ed['destroy'](),(_0x5193e5=this['transformT'+'SpeedTextu'+'re'])==null||_0x5193e5['destroy'](),(_0x3b0b14=this['transformT'+'Texture'])==null||_0x3b0b14['destroy'](),(_0x36426a=this['sh1to3Text'+'ure'])==null||_0x36426a['destroy'](),(_0x363292=this['sh4to7Text'+'ure'])==null||_0x363292['destroy'](),(_0x4f696c=this['sh8to11Tex'+'ture'])==null||_0x4f696c['destroy'](),(_0x5d8082=this['sh12to15Te'+'xture'])==null||_0x5d8082['destroy']();}['createMate'+'rial'](_0x4035ad){console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.cre'+'ateMateria'+'l');const _0xb5ff12=U0(_0x4035ad);return _0xb5ff12['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0xb5ff12['setParamet'+'er']('splatThres'+'hold',this['thresholdT'+'exture']),_0xb5ff12['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0xb5ff12['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0xb5ff12['setParamet'+'er']('transformR',this['transformR'+'Texture']),this['transformT'+'SpeedTextu'+'re']&&_0xb5ff12['setParamet'+'er']('transformT'+'Speed',this['transformT'+'SpeedTextu'+'re']),this['transformT'+'Texture']&&_0xb5ff12['setParamet'+'er']('transformT',this['transformT'+'Texture']),_0xb5ff12['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0xb5ff12['setDefine']('SH_BANDS',this['shBands']),_0xb5ff12['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0xb5ff12['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0xb5ff12['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0xb5ff12['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0xb5ff12['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']),_0xb5ff12;}['evalTextur'+'eSize'](_0x429064){const _0x36eac5=Math['ceil'](Math['sqrt'](_0x429064)),_0x3d8913=Math['ceil'](_0x429064/_0x36eac5);return new W(_0x36eac5,_0x3d8913);}['createText'+'ure'](_0x12fae6,_0x18f4c3,_0x5c39d4){return new ce(this['device'],{'name':_0x12fae6,'width':_0x5c39d4['x'],'height':_0x5c39d4['y'],'format':_0x18f4c3,'cubemap':!(-0xf33+-0x5*0x46+0x25e*0x7),'mipmaps':!(0x2346+0x1*0x21a1+0x2273*-0x2),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});}['updateThre'+'sholdData'](_0x3a0f8e){console['log']('____\x20ENGIN'+'E\x20IVAN','updateThre'+'sholdData');const _0x5cb25f=this['thresholdT'+'exture'],_0x5a0043=(-0x1cea+0x2393+0x6a8*-0x1)/(-0x2e*0x84+0xd2e+0xb89),_0x23d2dc=new URL(location['href'])['searchPara'+'ms']['get']('cutoff');if(!_0x5cb25f)return;const _0x9fc061=Bt['float2Half'],_0x2addb5=_0x5cb25f['lock']();let _0x2bc3e8=_0x3a0f8e['getProp']('cf');if(!_0x2bc3e8){_0x2bc3e8=new Float32Array(_0x3a0f8e['numSplats']);for(let _0x240c25=-0x1034+0x1*-0x1599+0x25cd;_0x240c25<_0x3a0f8e['numSplats'];++_0x240c25)_0x2bc3e8[_0x240c25]=_0x23d2dc?Number(_0x23d2dc):-0x1*0x1474+0xbfb*0x1+0x879;}this['threshold']=_0x2bc3e8;for(let _0x48ace1=0x1a0b+-0x1*-0x151+-0x2*0xdae;_0x48ace1<this['numSplats'];++_0x48ace1){const _0x3b4db6=_0x2bc3e8?_0x2bc3e8[_0x48ace1]*(-0x17d0+-0x20e5*0x1+-0x39b3*-0x1)/(-0x1*0x13d5+-0xdc3*-0x1+0x711)+(-0x1ff2*-0x1+0x5*0x6e1+0x11*-0x3e7+0.00392156862745098):_0x5a0043;_0x2addb5[_0x48ace1]=_0x9fc061(_0x3b4db6);}_0x5cb25f['unlock']();}['updateColo'+'rData'](_0x2e3039){console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x16aa3b=this['colorTextu'+'re'];if(!_0x16aa3b)return;const _0x447c11=Bt['float2Half'],_0x500f0a=_0x16aa3b['lock'](),_0x26d399=_0x2e3039['getProp']('f_dc_0'),_0x2c0adc=_0x2e3039['getProp']('f_dc_1'),_0x3f1a75=_0x2e3039['getProp']('f_dc_2'),_0x292f40=_0x2e3039['getProp']('opacity'),_0x3610cd=0x1be0+0x1*0x2685+0x1*-0x4265+0.28209479177387814;this['opacity']=new Float32Array(this['numSplats']);for(let _0x28ea26=-0x179b+-0x1f*0x83+-0x2778*-0x1;_0x28ea26<this['numSplats'];++_0x28ea26){const _0x28507c=_0x26d399[_0x28ea26]*_0x3610cd+(0x1235*-0x2+-0xcf2+0x315c+0.5),_0x5dc120=_0x2c0adc[_0x28ea26]*_0x3610cd+(0x157b+0x1183+-0x26fe+0.5),_0x440020=_0x3f1a75[_0x28ea26]*_0x3610cd+(-0xa*0x1c1+-0x1941+0x139*0x23+0.5),_0x26ab4f=(-0x1*0x232d+0x243f+-0xd*0x15)/(0x1049+-0x59f*0x6+-0x16*-0xcb+Math['exp'](-_0x292f40[_0x28ea26]));this['opacity'][_0x28ea26]=_0x26ab4f,_0x500f0a[_0x28ea26*(-0x1f7*0xd+0x26bf+0x698*-0x2)+(0x933+0x1d13+0x1aa*-0x17)]=_0x447c11(_0x28507c),_0x500f0a[_0x28ea26*(-0x223a+0xdd9*0x2+-0x1a3*-0x4)+(-0x39*0x7+-0x1f0d*-0x1+-0x1d7d*0x1)]=_0x447c11(_0x5dc120),_0x500f0a[_0x28ea26*(0x14*-0x4+0x20a9+-0x2055)+(-0x88d*-0x2+0x2242+-0x19ad*0x2)]=_0x447c11(_0x440020),_0x500f0a[_0x28ea26*(-0x3*-0x351+0x1ee1+-0x28d*0x10)+(0xc5*0x13+0xf1*-0x1+-0xdab)]=_0x447c11(_0x26ab4f);}_0x16aa3b['unlock']();}['updateTran'+'sformData'](_0x2898eb){var _0x394c93,_0x1374de,_0x28d20e,_0x33aae2;console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData');const _0xa9be95=Bt['float2Half'];if(!this['transformA'+'Texture'])return;const _0x5672b6=this['transformA'+'Texture']['lock'](),_0x3ff511=new Float32Array(_0x5672b6['buffer']),_0xba2f12=this['transformR'+'Texture']['lock'](),_0x12bd47=new Float32Array(_0xba2f12['buffer']),_0x2d138b=this['transformB'+'Texture']['lock'](),_0x1f14d6=(_0x394c93=this['transformT'+'SpeedTextu'+'re'])==null?void(0x179e+-0x1d97+0x1*0x5f9):_0x394c93['lock']();let _0x28555a;_0x1f14d6&&(_0x28555a=new Float32Array(_0x1f14d6['buffer']));const _0x48ea22=(_0x1374de=this['transformT'+'Texture'])==null?void(0xa6c+0x1*-0xb1+-0x9bb):_0x1374de['lock']();let _0x1b0e24;_0x48ea22&&(_0x1b0e24=new Float32Array(_0x48ea22['buffer']));const _0x2bf0f8=new A(),_0x10c890=new ie(),_0x1a488b=new A(),_0x341a9d=new A(),_0x533d40=_0x2898eb['createIter'](_0x2bf0f8,_0x10c890,_0x1a488b,null,_0x341a9d),_0x1cab19=_0x2898eb['getProp']('t'),_0x3021a2=_0x2898eb['getProp']('t_scale');for(let _0x3aca84=-0xe86+0x1*-0x15b7+0x243d;_0x3aca84<this['numSplats'];_0x3aca84++)_0x533d40['read'](_0x3aca84),_0x10c890['normalize'](),_0x10c890['w']<0x20e8+0x1*0x13be+0x2e*-0x125&&_0x10c890['mulScalar'](-(0x2378*-0x1+0x19b1+0x9c8)),_0x3ff511[_0x3aca84*(-0x466*-0x5+0x2cc+-0x18c6)+(-0x346+-0xe8c+-0x1*-0x11d2)]=_0x2bf0f8['x'],_0x3ff511[_0x3aca84*(0x3*-0x464+-0x4dc+0x120c)+(-0x4e2*0x6+0x268d+-0x940)]=_0x2bf0f8['y'],_0x3ff511[_0x3aca84*(0x2096+0x41f*-0x5+-0xbf7)+(0xf0f+-0x2c3+-0xc4a)]=_0x2bf0f8['z'],_0x2d138b[_0x3aca84*(-0xcf1*0x2+0x172*0x8+0xe56)+(0x201c+0x2c8+-0x22e4)]=_0xa9be95(_0x1a488b['x']),_0x2d138b[_0x3aca84*(-0x25d6+-0x1*0x4f5+-0x1*-0x2acf)+(-0x3a*-0x1+0xf6b+-0xfa4)]=_0xa9be95(_0x1a488b['y']),_0x2d138b[_0x3aca84*(-0x25f7+-0x19ae+0x3fa9)+(-0x158e+-0x1*0x269+0x17f9)]=_0xa9be95(_0x1a488b['z']),_0x12bd47[_0x3aca84*(0x65*-0x52+-0xf8b+0x2fe9)+(0x841+-0xfc0+-0x13*-0x65)]=_0x10c890['x'],_0x12bd47[_0x3aca84*(-0x1*0xd3a+-0xd9*0x2e+0x343c)+(-0x851+-0x1*0x21ec+0x1*0x2a3e)]=_0x10c890['y'],_0x12bd47[_0x3aca84*(0x209+-0x1a44+0x3*0x815)+(-0x1*-0x1010+-0xce3*-0x1+-0x1cf1)]=_0x10c890['z'],this['is4D']&&_0x28555a&&_0x1b0e24&&(_0x28555a[_0x3aca84*(0x1*0x1ab+-0x2099+0x1ef2)+(-0x99*-0x29+-0x10a0+0x1*-0x7e1)]=_0x341a9d['x'],_0x28555a[_0x3aca84*(-0x142*0x1b+0xb77+0x1683)+(0x1d1b*0x1+0x230d+-0x4027)]=_0x341a9d['y'],_0x28555a[_0x3aca84*(0xc15*-0x1+-0x17ba+0x23d3*0x1)+(0x1*-0x109f+-0x1*-0x9fa+0x6a7)]=_0x341a9d['z'],_0x1b0e24[_0x3aca84*(0x7c5+0x16*0xe3+0x3e5*-0x7)+(-0x155b+0xb*0xb5+0xd94)]=_0x1cab19?_0x1cab19[_0x3aca84]:0x19f3+0x80b+-0x26*0xe5,_0x1b0e24[_0x3aca84*(0x2*-0xbdd+0x1b1a+-0x2b*0x14)+(0x15c0+0x2*-0x1255+0x39*0x43)]=_0x3021a2?Math['exp'](_0x3021a2[_0x3aca84]):0x1feb*0x1+-0x5c1*-0x1+-0x4*0x96b);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x28d20e=this['transformT'+'SpeedTextu'+'re'])==null||_0x28d20e['unlock'](),(_0x33aae2=this['transformT'+'Texture'])==null||_0x33aae2['unlock']();}['updateSHDa'+'ta'](_0x39c0d4){var _0x4ebae7,_0x20cb37,_0x447383,_0x35ba23,_0x2cc11d,_0x141d90,_0x151842;console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta');const _0x41e2fc=(_0x4ebae7=this['sh1to3Text'+'ure'])==null?void(-0x1*-0x3dc+0x3*-0x9ef+0x19f1):_0x4ebae7['lock'](),_0x5cb4a6=(_0x20cb37=this['sh4to7Text'+'ure'])==null?void(0x1315+0x14a+-0x145f):_0x20cb37['lock'](),_0xb0c3b2=(_0x447383=this['sh8to11Tex'+'ture'])==null?void(0x1ff1+0x6a*-0x3d+0x1*-0x6af):_0x447383['lock'](),_0x40064b=(_0x35ba23=this['sh12to15Te'+'xture'])==null?void(0x6b6*0x1+0x9a3*0x1+-0xf*0x117):_0x35ba23['lock'](),_0x27cd92={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x15c4bb=V_(_0x39c0d4,_0x27cd92*(-0x1a8c+0x220b+-0x3be*0x2)),_0x279950=0xe02+0x158+-0x75b,_0x3b5ccd=0x1af5*0x1+-0x1*0x1976+0x280,_0x38aa7b=new Float32Array(-0x1*0xcc+-0xc07+0xcd4),_0x35f3be=new Uint32Array(_0x38aa7b['buffer']),_0x3f1c20=new Array(_0x27cd92*(0x129d+-0x4f8+0x2*-0x6d1))['fill'](-0x253d+0xb*0x353+0xac);for(let _0x362d66=-0x2b5+0x1744+0x115*-0x13;_0x362d66<_0x39c0d4['numSplats'];++_0x362d66){for(let _0x45bb56=0x29*0xef+0xaae+-0x30f5;_0x45bb56<_0x27cd92;++_0x45bb56)_0x3f1c20[_0x45bb56*(-0x67*0x13+-0x82a*0x4+0x78*0x56)]=_0x15c4bb[_0x45bb56][_0x362d66],_0x3f1c20[_0x45bb56*(-0x1*-0x10fc+-0x269d+0x15a4)+(-0x4*-0x7a0+-0x125+0x121*-0x1a)]=_0x15c4bb[_0x45bb56+_0x27cd92][_0x362d66],_0x3f1c20[_0x45bb56*(0x11*-0x1bb+-0xc42+-0x74*-0x5c)+(-0xe74+0x929+-0x17*-0x3b)]=_0x15c4bb[_0x45bb56+_0x27cd92*(-0x7b*0x31+0x1*-0x1a17+0x31a4)][_0x362d66];let _0x5a3018=_0x3f1c20[-0x14d7+0xe95*0x1+0x642];for(let _0x47a6d7=-0xa89*0x3+-0x10bf+0x305b;_0x47a6d7<_0x27cd92*(-0x1e23+-0xfde*0x2+0x1*0x3de2);++_0x47a6d7)_0x5a3018=Math['max'](_0x5a3018,Math['abs'](_0x3f1c20[_0x47a6d7]));if(_0x5a3018!==-0x19*-0x110+-0x2636+0xba6){for(let _0x36eed7=-0x43*0x19+-0xaf*0x21+-0x2e9*-0xa;_0x36eed7<_0x27cd92;++_0x36eed7)_0x3f1c20[_0x36eed7*(0x1240+-0x20ce+-0x71*-0x21)+(0x22dd+-0x15*0x15f+-0x612)]=Math['max'](-0x1*-0x3b2+-0x531+-0x1*-0x17f,Math['min'](_0x279950,Math['floor']((_0x3f1c20[_0x36eed7*(-0xf6c+-0x29*-0xd3+-0x125c*0x1)+(0x1792+-0x2297+-0x7*-0x193)]/_0x5a3018*(-0x196c+-0xd3*0x14+0x29e8+0.5)+(0x1be6*-0x1+-0x2*-0x119a+0x1*-0x74e+0.5))*_0x279950+(-0x7*0x298+-0x1e58+-0x20*-0x184+0.5)))),_0x3f1c20[_0x36eed7*(-0x7*-0x127+0x1f2b+-0x2739)+(0xd46+0x1ce0+-0x2a25)]=Math['max'](0x794*-0x5+-0x5b*0x35+0x12e9*0x3,Math['min'](_0x3b5ccd,Math['floor']((_0x3f1c20[_0x36eed7*(0x2*-0x694+-0x1*0x5d1+0x195*0xc)+(0x1*0x1258+-0xc53+-0x604)]/_0x5a3018*(0x31a*0xa+0xc46+0x15a5*-0x2+0.5)+(-0x23b+0xe40+-0xc05*0x1+0.5))*_0x3b5ccd+(0x1*-0x1ba3+0x245d*-0x1+0x4000+0.5)))),_0x3f1c20[_0x36eed7*(-0x15*0x86+0xc39*0x1+-0x138)+(-0x1fcc+0x1297+0xd37)]=Math['max'](0x18e2+0x1*-0x114b+-0x797,Math['min'](_0x279950,Math['floor']((_0x3f1c20[_0x36eed7*(-0x2f*0x7a+0x1bff+0xb*-0x82)+(0x1f1e*-0x1+-0xf84+0x3*0xf8c)]/_0x5a3018*(-0x859*-0x4+-0x126b+-0xef9+0.5)+(0x1*0x6fd+0x1c9e+-0x239b+0.5))*_0x279950+(0xdf*0x1+-0x20e5+0x2006+0.5))));_0x38aa7b[-0x6fe+0x17d4+-0x10d6]=_0x5a3018,_0x41e2fc[_0x362d66*(-0x3*-0x1d4+0x7*0x337+0x1f*-0xe7)+(0x1373*-0x1+-0x253b+0x38ae)]=_0x35f3be[-0x5de+-0x14a*0x4+0xb06],_0x41e2fc[_0x362d66*(-0x1*0x7d0+-0x1039*-0x1+-0x865)+(0x1186+0x23ce+-0x49*0xbb)]=_0x3f1c20[-0xc*-0x1ed+-0x125a+-0x4c2]<<0xeb*0xb+-0x2bd+0x51*-0x17|_0x3f1c20[-0x2*-0x777+0x1e94+-0x2d81]<<0xbff+0x1ae4+-0x26d8|_0x3f1c20[0x1*-0x8e3+-0x1980+0x2265],_0x41e2fc[_0x362d66*(-0xf71+0x1519*-0x1+-0x248e*-0x1)+(-0x28d*-0x5+-0x15*0x165+-0x845*-0x2)]=_0x3f1c20[-0xb3d+0x1ae6+-0xfa6]<<-0x2b*0x29+0x31c+0x26*0x1a|_0x3f1c20[0x9f*0x36+-0x1*0x14a3+-0xce3]<<0x1917+-0x4df+0x409*-0x5|_0x3f1c20[0x68*0x13+0x1*-0xc3b+0x244*0x2],_0x41e2fc[_0x362d66*(-0x1d13+-0x6*0x454+-0x370f*-0x1)+(0x365*-0x1+-0x1aaf+-0x1e17*-0x1)]=_0x3f1c20[0x1*-0x5e+0x27c*0x4+-0x98c]<<-0x851+0xe27+0x3*-0x1eb|_0x3f1c20[-0x2*-0xe48+-0x3*-0xcc5+0x1648*-0x3]<<-0xbf7+-0x12a+0x4*0x34b|_0x3f1c20[0x15a6+0x3*-0x4af+-0xd*0x95],this['shBands']>0x1*-0x167+0x5c7+-0x45f&&(_0x5cb4a6[_0x362d66*(-0x1*-0x841+0x1*-0x63f+0x1fe*-0x1)+(0xe6+0x5cc+-0x2*0x359)]=_0x3f1c20[0x59b+0x4f*-0x37+0x1a1*0x7]<<0x264c+-0xd12+-0x1925*0x1|_0x3f1c20[-0x5d1*-0x2+0xc64+-0x17fc]<<0x1cec*0x1+0x5*-0x21e+-0x124b|_0x3f1c20[0x1d4+0x19e9+0x5*-0x58a],_0x5cb4a6[_0x362d66*(-0x1f0f+0x231e+-0x40b)+(0x2352+0x3b*-0x31+0xf*-0x19a)]=_0x3f1c20[0x3b9*-0x9+0x6*-0x185+0x2aab]<<-0x1*-0x11b1+-0x1060+-0x13c|_0x3f1c20[0x1cb0+-0xd55*0x1+-0xf4e]<<0xfd*-0x7+0x142*-0x7+0x2*0x7e2|_0x3f1c20[-0x1f*-0xf1+0xfdb+-0x2cfc],_0x5cb4a6[_0x362d66*(-0x6cf+-0x1*0x7ad+0xe80)+(-0xcb*-0x17+-0x95*-0x23+0x12*-0x225)]=_0x3f1c20[0x1*0x261b+-0x9ac+-0x1c60]<<0x1200+0xc31+0x787*-0x4|_0x3f1c20[0x2459*0x1+-0x69d+0x4f2*-0x6]<<-0x1*-0x143b+-0x17*-0xde+0x2822*-0x1|_0x3f1c20[-0x1557*0x1+0x18f9+-0x391],_0x5cb4a6[_0x362d66*(0x1*-0x4c7+0x469+-0x62*-0x1)+(0x1*-0xd7e+-0x86+-0x13*-0xbd)]=_0x3f1c20[-0x625+0x29a+-0x1*-0x39d]<<0xbf*0x25+-0x258e+0xa08|_0x3f1c20[0x2074+0x245d+-0x44be]<<0x1*0x35f+0x7d*0x8+-0x1*0x73c|_0x3f1c20[0xf*0x147+0x4*0x4b2+-0x3*0xc9f],this['shBands']>-0x8*-0x242+0x2410+-0x361e?(_0xb0c3b2[_0x362d66*(-0xb0b+0xdc+0xa33)+(0x5f*0x56+-0x2274+0xa*0x41)]=_0x3f1c20[-0x7c9*-0x1+-0x1*-0x21f0+-0x29a4]<<0x19*0x30+0xa*0x233+-0x1a99|_0x3f1c20[-0xe27*0x1+0x1*-0x1fc9+0x2b*0x112]<<-0xe*0x1a6+-0xf45+0x2664|_0x3f1c20[0x7bb*0x5+0x40*-0x1c+-0xfc8*0x2],_0xb0c3b2[_0x362d66*(0x2164+-0x509+-0x5ab*0x5)+(0x1a98+-0x86b*0x1+-0x122c)]=_0x3f1c20[-0x489*0x8+0x7*0xb0+0x1f90]<<0x394+-0x1a*-0x20+-0x6bf*0x1|_0x3f1c20[0x1c8c+-0x16b8*-0x1+-0x332b]<<-0x1e3*-0x2+-0x42*-0x4d+-0x1795*0x1|_0x3f1c20[0xc11*-0x1+-0xa*0x36d+0x2e6d],_0xb0c3b2[_0x362d66*(0x5*-0x7c3+-0x10f6*0x2+-0xb*-0x69d)+(0xd20+-0x1*0xd57+0x39)]=_0x3f1c20[0xd7*0x13+0xf40+0xf8d*-0x2]<<0x51f*0x1+0x1e53+-0x235d|_0x3f1c20[0x14f1+-0x5*-0x11+-0x152a]<<0x1*-0x1841+-0x208f+0x38db|_0x3f1c20[-0x3*-0x6e2+-0xd25+-0x1*0x764],_0xb0c3b2[_0x362d66*(-0xaa5*0x2+-0x5*-0x287+0x1*0x8ab)+(0x7b2+0x1540+-0x1*0x1cef)]=_0x3f1c20[0x1*0x226c+0x1eb7+0x5*-0xd01]<<0x7*-0x2f5+-0x3*0x8aa+-0x2ec6*-0x1|_0x3f1c20[0x1*0xeb3+-0x1f53+0x10bf]<<0x26a9+0x2384+-0xc5b*0x6|_0x3f1c20[-0x1fd*-0x5+0x1*-0x12ca+0x8f9],_0x40064b[_0x362d66*(0x301*-0x1+-0x14e3*-0x1+0x2*-0x8ef)+(0x6df*0x3+-0x22c8+0xe2b)]=_0x3f1c20[0x1429*0x1+0x1*-0x170a+0x302]<<0x22d9*0x1+0x392+0x1*-0x2656|_0x3f1c20[-0x213*-0x1+0x1be8*-0x1+0x19f7]<<0x1d6b+-0x7*0x3ff+-0x167*0x1|_0x3f1c20[0x2152+0x4e5+-0x2614],_0x40064b[_0x362d66*(0x391+0x41b*0x7+0x2*-0x1025)+(-0x1046*-0x2+-0x14*0x1cc+-0x365*-0x1)]=_0x3f1c20[0x1e3+-0x1894+0x16d5]<<0x6bb*-0x1+-0x183b+-0x1*-0x1f0b|_0x3f1c20[-0x83*-0x18+-0xf05+0x2e2]<<-0x5de+0x1*0xb2+-0xf*-0x59|_0x3f1c20[0x41*-0x3b+-0xcd+0xfee],_0x40064b[_0x362d66*(-0x1*-0x25a6+-0x101*-0x17+-0x3cb9)+(-0x2*0xfd+0x9d*-0x6+0x5aa)]=_0x3f1c20[0x2e8+0x1fa5*-0x1+0x1ce4]<<-0x3*0x748+0xbc6+0xa27|_0x3f1c20[-0xa0b+0x1*-0xfb5+0x19e8]<<-0x1bfb+-0x1d*-0xb7+0x1*0x74b|_0x3f1c20[0x25c4+0xecd*0x1+0x4e*-0xac],_0x40064b[_0x362d66*(0xc6d*0x1+0x1d63*0x1+0x5*-0x85c)+(-0x128f+-0x71*-0x29+0x79)]=_0x3f1c20[-0x13ea+0xd*-0x1dd+0x2c4d]<<0x226a+-0x1*0x23b2+0x15d|_0x3f1c20[0x1e7c+0x4b2*-0x3+-0x103b]<<0x70d+0x1001+0x89*-0x2b|_0x3f1c20[-0x16f*-0x1+0x1be0+-0x1d23*0x1]):_0xb0c3b2[_0x362d66]=_0x3f1c20[0x13ea+-0x1ff6+-0xf*-0xcf]<<-0xda8+0xe70+0x1*-0xb3|_0x3f1c20[-0x146d+0x1*-0x72+0x14f5]<<-0x1696+0x9eb+0xcb6*0x1|_0x3f1c20[-0x9cd*-0x2+-0x26f1*-0x1+0x1d*-0x204]);}}this['sh1to3Text'+'ure']['unlock'](),(_0x2cc11d=this['sh4to7Text'+'ure'])==null||_0x2cc11d['unlock'](),(_0x141d90=this['sh8to11Tex'+'ture'])==null||_0x141d90['unlock'](),(_0x151842=this['sh12to15Te'+'xture'])==null||_0x151842['unlock']();}['updateSHDa'+'taByWorker'](_0x1e021e){const _0x2e97cb={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x2d050b=V_(_0x1e021e,_0x2e97cb*(-0xc73+0x614+0x662));this['updateData'+'Worker']['updateSHDa'+'ta'](_0x1e021e['numSplats'],this['shBands'],_0x2d050b),this['updateData'+'Worker']['on']('updatedSHD'+'ata',(_0x46d9b7,_0x2cf547,_0xfdcf85,_0x4595ad)=>{var _0x2885d7,_0x95fc91,_0x33a4ae,_0x3ee341,_0xc769a8,_0x1225ac,_0x8e0f79,_0x3bf1cb,_0x417872,_0x499a9a;const _0x531176=(_0x2885d7=this['sh1to3Text'+'ure'])==null?void(0xc6+0x1265+-0x132b):_0x2885d7['lock']();if(new Uint32Array(_0x531176['buffer'])['set'](_0x46d9b7),(_0x95fc91=this['sh1to3Text'+'ure'])==null||_0x95fc91['unlock'](),this['shBands']>-0x255a*0x1+-0x238f+-0x81a*-0x9){const _0x4023dd=(_0x33a4ae=this['sh4to7Text'+'ure'])==null?void(0x2429*0x1+0x1*-0x12e6+-0x3*0x5c1):_0x33a4ae['lock']();if(new Uint32Array(_0x4023dd['buffer'])['set'](_0x2cf547),(_0x3ee341=this['sh4to7Text'+'ure'])==null||_0x3ee341['unlock'](),this['shBands']>-0xdb*0x13+0x23eb+0x88*-0x25){const _0x271973=(_0xc769a8=this['sh8to11Tex'+'ture'])==null?void(0xc*-0xe5+-0x1*0x1940+0x23fc):_0xc769a8['lock']();new Uint32Array(_0x271973['buffer'])['set'](_0xfdcf85),(_0x1225ac=this['sh8to11Tex'+'ture'])==null||_0x1225ac['unlock']();const _0xcd3a20=(_0x8e0f79=this['sh12to15Te'+'xture'])==null?void(-0x11c+0x30a*-0x1+0x426):_0x8e0f79['lock']();new Uint32Array(_0xcd3a20['buffer'])['set'](_0x4595ad),(_0x3bf1cb=this['sh12to15Te'+'xture'])==null||_0x3bf1cb['unlock']();}else{const _0x21836d=(_0x417872=this['sh8to11Tex'+'ture'])==null?void(0xdf*0x1+-0x1e91+0x1db2):_0x417872['lock']();new Uint32Array(_0x21836d['buffer'])['set'](_0xfdcf85),(_0x499a9a=this['sh8to11Tex'+'ture'])==null||_0x499a9a['unlock']();}}});}}async function H1(){let _0x3d2878=0x141*-0x14+0xe73+0xaa5;class _0x3839be{constructor(_0x290d63,_0x31b527){this['lChild']=_0x290d63,this['rChild']=_0x31b527,this['indexes']=[];}['setLeftChi'+'ld'](_0x4bf179){this['lChild']=_0x4bf179;}['setRightCh'+'ild'](_0x49d051){this['rChild']=_0x49d051;}}class _0x22ba3b{constructor(_0x543bb6,_0x4a91b8,_0x249007,_0x501a0c){this['maxDepth']=_0x543bb6,this['timeScaleR'+'aio']=_0x501a0c,this['minTime']=Math['floor'](_0x4a91b8*_0x501a0c),this['maxTime']=Math['ceil'](_0x249007*_0x501a0c),this['rootNode']=new _0x3839be(null,null);}['insertNode'](_0x3db63d,_0x3cfc4b,_0x42793f){_0x3db63d=Math['floor'](_0x3db63d*this['timeScaleR'+'aio']),_0x3cfc4b=Math['ceil'](_0x3cfc4b*this['timeScaleR'+'aio']),this['_insertNod'+'e'](this['rootNode'],_0x3db63d,_0x3cfc4b,_0x42793f,this['minTime'],this['maxTime'],-0x1800+-0x1edb+0x36db);}['_insertNod'+'e'](_0x5d0fcd,_0x35a397,_0x44e68c,_0x4277ca,_0x896d6f,_0x5d949b,_0x41d3cf){if(_0x35a397<=_0x896d6f&&_0x5d949b<=_0x44e68c){_0x5d0fcd['indexes']['push'](_0x4277ca);return;}if(_0x41d3cf>=this['maxDepth']){_0x5d0fcd['indexes']['push'](_0x4277ca);return;}let _0x483c89=Math['floor']((_0x896d6f+_0x5d949b)/(-0x201d*0x1+-0x7d*-0x2e+0x1*0x9a9));_0x35a397<=_0x483c89&&(_0x5d0fcd['lChild']==null&&(_0x5d0fcd['lChild']=new _0x3839be(null,null)),this['_insertNod'+'e'](_0x5d0fcd['lChild'],_0x35a397,_0x44e68c,_0x4277ca,_0x896d6f,_0x483c89,_0x41d3cf+(-0x24f*-0xe+-0x16cb*0x1+0x4c3*-0x2))),_0x44e68c>_0x483c89&&(_0x5d0fcd['rChild']==null&&(_0x5d0fcd['rChild']=new _0x3839be(null,null)),this['_insertNod'+'e'](_0x5d0fcd['rChild'],_0x35a397,_0x44e68c,_0x4277ca,_0x483c89+(0x1582+0x127d+0x13ff*-0x2),_0x5d949b,_0x41d3cf+(-0xcc6+-0x226e+0x971*0x5)));}['gatherInde'+'xesNumber'](_0x4dd093){_0x4dd093=Math['floor'](_0x4dd093*this['timeScaleR'+'aio']);let _0x39d96b=this['minTime'],_0x5ee53=this['maxTime'],_0x29fc6b=this['rootNode'],_0x4ba178=0xf*-0x97+-0x6a6+0xf7f*0x1;for(;!(_0x4dd093<_0x39d96b||_0x4dd093>_0x5ee53||_0x29fc6b==null||(_0x29fc6b['indexes']['length']>-0x88*0x14+-0xd6*0x26+0x2a64&&(_0x4ba178=_0x4ba178+_0x29fc6b['indexes']['length']),_0x39d96b==_0x5ee53));){let _0x24f216=Math['floor']((_0x39d96b+_0x5ee53)/(-0x17dc+0x13*0x5+0x3*0x7d5));_0x4dd093<=_0x24f216?(_0x5ee53=_0x24f216,_0x29fc6b=_0x29fc6b['lChild']):(_0x39d96b=_0x24f216+(-0xb*0x163+-0x222b+-0x316d*-0x1),_0x29fc6b=_0x29fc6b['rChild']);}return _0x4ba178;}['gatherInde'+'xes'](_0x42b27c,_0x59067c,_0x27389c){_0x42b27c=Math['floor'](_0x42b27c*this['timeScaleR'+'aio']);let _0x5e7f7b=this['minTime'],_0x16b855=this['maxTime'],_0x5a8088=this['rootNode'],_0x35ed04=0x101+-0x8c9+0x53*0x18;for(;!(_0x42b27c<_0x5e7f7b||_0x42b27c>_0x16b855||_0x5a8088==null);){if(_0x5a8088['indexes']&&_0x5a8088['indexes']['length']>0x2695+-0x23d3*0x1+-0x2c2){const _0x2a2113=_0x5a8088['indexes']['length'],_0x3ffa32=_0x2a2113*_0x3d2878;new Uint32Array(_0x59067c,_0x27389c,_0x2a2113)['set'](_0x5a8088['indexes']),_0x35ed04+=_0x5a8088['indexes']['length'],_0x27389c+=_0x3ffa32;}if(_0x5e7f7b==_0x16b855)break;let _0x94b5b5=Math['floor']((_0x5e7f7b+_0x16b855)/(0x14af+0x1*-0xcc2+0x1*-0x7eb));_0x42b27c<=_0x94b5b5?(_0x16b855=_0x94b5b5,_0x5a8088=_0x5a8088['lChild']):(_0x5e7f7b=_0x94b5b5+(-0x19c6+0x1bcd+0x1*-0x206),_0x5a8088=_0x5a8088['rChild']);}return _0x35ed04;}}let _0x1b2c82=null,_0x18b5bd=null,_0x1f7ea7=null,_0x4245c0=null,_0x156ff4=null,_0x44c035=null,_0x2de227=null,_0x3054c9=null,_0xd964e0=null,_0x921f44=null,_0x524dca=null,_0x2250b3=null,_0x48def6=null,_0x460f03=null,_0x2e620b=null,_0x19ba7e=null,_0xb344f2=null,_0x16c5dd=null,_0x5b8411=null,_0x17f445=null,_0x32f800=null,_0x3941d5=null,_0x4f1b27=null,_0x5bddf1=null,_0x4f7c8b=null,_0x4e763e=null,_0x5906f4=null,_0x28a0a4=Float32Array['BYTES_PER_'+'ELEMENT'],_0x72d81c=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x3114a7=0xbe6+0x137*-0x19+0x1279,_0x4a691f=!(0x232*0x4+0x515*-0x1+-0x3b3),_0x1dd006,_0x374fac,_0x23dafb={'x':0x0,'y':0x0,'z':0x0},_0x5e566b={'x':0x0,'y':0x0,'z':0x0},_0x21f678=!(0x25b1*0x1+-0xe*-0x15e+-0x38d5),_0x43798e=!(0x76d*-0x3+-0x8d*0x43+-0x6d*-0x8b),_0x4eee69=!(-0x4d*0x3b+-0x20ac+-0x1936*-0x2),_0x4d77cb=0xa7f+-0x1cae+0x299*0x7,_0x16af43=-0x2123+0x1653+0x568*0x2,_0x36b3b3=!(-0xbc0+0x450+0x771),_0x2d7278=null,_0x26ca73=!(-0x21f0+0x3*0x565+0x11c2),_0x717a03=0x1*-0x25ab+0x2192+0x419+0.03,_0x11fe7d=Math['sqrt'](-(-0x3*-0xa33+0x123d*-0x2+-0x1*-0x5e3)*Math['log'](_0x717a03)),_0x44459c=0x3fdd+-0xef*-0x18+0xa9bb,_0xd7bd65=new _0x22ba3b(-0xd*-0x282+-0x1858+-0x832,-0x169*0x18+0x1f3e+0x12*0x25,0x97b*-0x2+-0x5*-0x5d1+-0xa1a,_0x44459c/(0x200a+-0x11c9+-0xe3c));self['onmessage']=async _0xac78b6=>{const {data:_0x13431a}=_0xac78b6;switch(_0x13431a['type']){case'initWorker':_0x3114a7=_0x13431a['numSplats'],_0x50f475(),_0x4a691f=_0x13431a['is4d'],await _0x5f0cf8(_0x13431a['sortWasmUr'+'l']),_0x1b9c79(),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x13431a['dataReady']){if(_0x44c035&&_0x13431a['centers']&&_0x44c035['length']===_0x13431a['centers']['length']){const _0x386eb1=new Float32Array(_0x13431a['centers']);_0x44c035['set'](_0x386eb1);}if(_0x921f44&&_0x13431a['timeIndex']&&_0x921f44['length']===_0x13431a['timeIndex']['length']){const _0x14126e=new Uint32Array(_0x13431a['timeIndex']);_0x921f44['set'](_0x14126e);}if(_0x48def6&&_0x13431a['motion']&&_0x48def6['length']===_0x13431a['motion']['length']){const _0x5e780d=new Float32Array(_0x13431a['motion']);_0x48def6['set'](_0x5e780d);}if(_0x4a691f&&_0x524dca&&_0x2250b3&&_0x13431a['muT']&&_0x13431a['tScale']&&_0x524dca['length']===_0x13431a['muT']['length']&&_0x2250b3['length']===_0x13431a['tScale']['length']){_0x524dca['set'](_0x13431a['muT']),_0x2250b3['set'](_0x13431a['tScale']);let _0x5d50dc=function(_0x137b09,_0x40d147){return _0x137b09>_0x40d147?_0x137b09:_0x40d147;};for(let _0xe2e322=-0x25ec+-0x1*0x221b+0x1*0x4807;_0xe2e322<_0x524dca['length'];++_0xe2e322)_0x11fe7d=Math['sqrt'](-(0x1046+0x5b6+-0xafd*0x2)*Math['log'](_0x5d50dc(_0x717a03,_0x13431a['threshold'][_0xe2e322]/(_0x13431a['opacity'][_0xe2e322]+(0xfdf+0x108e+-0x206d+1e-9))))),_0xd7bd65['insertNode'](_0x13431a['muT'][_0xe2e322]-_0x5d50dc(_0x11fe7d*_0x13431a['tScale'][_0xe2e322],-0x37*0x49+-0xd1*-0x1f+0xe0*-0xb+0.6),_0x13431a['muT'][_0xe2e322]+_0x11fe7d*_0x13431a['tScale'][_0xe2e322],_0xe2e322);}if(_0x2de227){for(let _0x18356f=0x1e55*-0x1+0x1ba1+-0x1*-0x2b4;_0x18356f<_0x2de227['length'];++_0x18356f)_0x2de227[_0x18356f]=_0x18356f;}_0x156ff4&&_0x13431a['timeOption']&&_0x156ff4['set'](_0x13431a['timeOption']),setTimeout(()=>{_0x5479a7();},-0x137*-0xd+0x12ae+-0x2279);}break;case'setTime':_0x1dd006=_0x13431a['time'],_0x4465b3();break;case'setUseTemp'+'oralSort':_0x21f678=_0x13431a['useTempora'+'lSort'];break;case'sort':if(!_0x1f7ea7)return;_0x1f7ea7[-0x1f*0x3c+0x1d6a+0xb13*-0x2]=_0x13431a['cameraPosi'+'tion']['x'],_0x1f7ea7[-0x35*0x29+0x167b*0x1+-0xdfd]=_0x13431a['cameraPosi'+'tion']['y'],_0x1f7ea7[-0x23fa+-0x105e+0x345a]=_0x13431a['cameraPosi'+'tion']['z'],_0x4245c0[-0x2625*-0x1+0x20bb+0xe*-0x510]=_0x13431a['cameraDire'+'ction']['x'],_0x4245c0[-0x22ed+0x8*0xbf+0x1*0x1cf6]=_0x13431a['cameraDire'+'ction']['y'],_0x4245c0[0x17d6+0xbe6+-0x23ba]=_0x13431a['cameraDire'+'ction']['z'],_0x4465b3();break;}};const _0x4465b3=()=>{_0x2d7278&&clearTimeout(_0x2d7278),_0x2d7278=setTimeout(()=>{_0x2d7278=null,_0x3b9aff();},-0x21ff+-0x7b*0x3d+0x3f4e);},_0x50f475=()=>{_0x16af43=Math['max'](0x11*0x59+0x163b+-0x1c1a,Math['min'](0x1*0xd54+-0x2301+0x15c1,Math['round'](Math['log2'](_0x3114a7/(-0xa54+0x140e+0x16*-0x71))))),_0x4d77cb=(-0x19e3+-0x111c+0x2b01)**_0x16af43+(-0x16e4+0x1e83+-0x79e);},_0x1b9c79=()=>(_0x460f03=-0xb*-0x263+0x2606+-0x4047,_0x2e620b=_0x460f03+_0x3114a7*_0x28a0a4*(-0x428+0xe4d+-0xa22),_0x32f800=_0x2e620b+(0x7e9+-0x3*0x30e+0x1a5)*_0x28a0a4*(-0x158e+-0x1d39+-0x32c9*-0x1),_0x3941d5=_0x32f800+_0x3114a7*_0x72d81c,_0x4f1b27=_0x3941d5+(-0x81f+-0x243c+0x2c5e)*_0x28a0a4,_0x5bddf1=_0x4f1b27+(0x1714+0x44*0x75+0xa7*-0x53)*_0x28a0a4,_0x4f7c8b=_0x5bddf1+(0x6*-0x10+-0x36*-0xa3+-0x21ff)*_0x28a0a4,_0x4e763e=_0x4f7c8b+(-0x2695+-0xd*0x23b+0x4397)*_0x28a0a4,_0x5906f4=_0x4e763e+_0x3114a7*_0x72d81c,_0x16c5dd=_0x5906f4+_0x4d77cb*_0x72d81c,_0x44c035=new Float32Array(_0x18b5bd,_0x460f03,_0x3114a7*(-0x2*0x1ab+-0x2*-0xe60+0x7*-0x3a1)),_0x156ff4=new Float32Array(_0x18b5bd,_0x2e620b,(-0x19ce+0x1*-0x1d30+0x3762)*(0x1b36+-0xd54+-0xde0)),_0x2de227=new Uint32Array(_0x18b5bd,_0x32f800,_0x3114a7),_0x3054c9=new Uint32Array(_0x2de227),_0x1f7ea7=new Float32Array(_0x18b5bd,_0x3941d5,0x7*0x3e9+-0x46b+-0x16f1*0x1),_0x4245c0=new Float32Array(_0x18b5bd,_0x4f1b27,0x10a2*0x1+-0x1533+0x494),_0xd964e0=new Uint32Array(_0x18b5bd,_0x16c5dd,_0x3114a7),_0x4a691f&&(_0x5b8411=_0x16c5dd+_0x3114a7*_0x72d81c,_0x17f445=_0x5b8411+_0x3114a7*_0x28a0a4,_0xb344f2=_0x17f445+_0x3114a7*_0x28a0a4,_0x19ba7e=_0xb344f2+_0x3114a7*(-0x23a+0x1*0x2456+0x2b*-0xcb)*_0x28a0a4,_0x524dca=new Float32Array(_0x18b5bd,_0x5b8411,_0x3114a7),_0x2250b3=new Float32Array(_0x18b5bd,_0x17f445,_0x3114a7),_0x48def6=new Float32Array(_0x18b5bd,_0xb344f2,_0x3114a7*(-0x10fa+-0xe23+0x60*0x53)),_0x921f44=new Uint32Array(_0x18b5bd,_0x19ba7e,_0x3114a7)),{'sharedMemory':_0x18b5bd,'layout':{'timeOptionPtr':_0x2e620b,'timeIndexPtr':_0x19ba7e,'centersPtr':_0x460f03,'motionPtr':_0xb344f2,'muTPtr':_0x5b8411,'tScalePtr':_0x17f445,'orderPtr':_0x32f800,'cameraPositionPtr':_0x3941d5,'cameraDirectionPtr':_0x4f1b27,'boundMinPtr':_0x5bddf1,'boundMaxPtr':_0x4f7c8b,'distancesPtr':_0x4e763e,'countBufferPtr':_0x5906f4,'indexPtr':_0x16c5dd}}),_0x5f0cf8=async _0x33b6a1=>{let _0x36ca7a=_0x3114a7*_0x28a0a4*(-0x50d*-0x4+0x894+-0x5*0x5c1);_0x36ca7a+=_0x3114a7*_0x72d81c,_0x36ca7a+=(0x39a*-0x2+0x5d+-0x1*-0x6da)*_0x28a0a4,_0x36ca7a+=(-0x1980+0x16f1+0x292)*_0x28a0a4,_0x36ca7a+=(0x3*-0x851+-0x1*-0x19e3+-0x3*0x4f)*_0x28a0a4,_0x36ca7a+=(-0x14*-0x1af+0x3fa+-0x5*0x787)*_0x28a0a4,_0x36ca7a+=_0x3114a7*_0x28a0a4,_0x36ca7a+=_0x4d77cb*_0x72d81c,_0x36ca7a+=_0x3114a7*_0x72d81c,_0x36ca7a+=(0x266*-0x1+-0x81*-0x35+-0x9d*0x27)*_0x28a0a4*(0x1*0x1989+0x1*0x1330+0x2cb7*-0x1),_0x36ca7a+=_0x3114a7*_0x72d81c,_0x4a691f&&(_0x36ca7a+=_0x3114a7*_0x28a0a4,_0x36ca7a+=_0x3114a7*_0x28a0a4,_0x36ca7a+=_0x3114a7*_0x28a0a4*(0xb79+0x213f+-0x7*0x663));const _0x2da2e9=(0xf20+-0x1*0x301+-0x3*0x3f5)*(0x1b38+-0x746+-0xff2),_0x4edfec=Math['ceil'](_0x36ca7a/_0x2da2e9),_0x51df84={'env':{'memory':new WebAssembly['Memory']({'initial':_0x4edfec,'maximum':_0x4edfec,'shared':!(-0x9b5*-0x4+-0x19*0xfa+-0xe6a)}),'pthread_self':function(){return-0xb*-0x373+0xb9*-0x17+-0x1552*0x1;},'emscripten_builtin_memalign':function(){return-0x13c4+-0x5*-0x147+-0x5*-0x2ad;},'emscripten_get_now':function(){return performance['now']();},'loggerVec3':(_0x48bf11,_0x339492,_0x4e2bb3,_0x2b7389)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x48bf11+']\x200:'+_0x339492+'\x201:'+_0x4e2bb3+'\x202:'+_0x2b7389);},'loggerFloat':(_0x275bf7,_0x29e4d4)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x275bf7+']\x20a:'+_0x29e4d4);},'loggerValue':(_0x187892,_0x3754a6,_0x54373a,_0x528937,_0x5dbbde)=>{console['log']('C++\x20logger'+'Value\x20['+_0x187892+']\x20minDist:'+_0x3754a6+'\x20maxDist:'+_0x54373a+'\x20range:'+_0x528937+'\x20divider:'+_0x5dbbde);},'loggerCamera':(_0xfd82a6,_0x65bf97,_0x2f2bf6,_0x41c7b5,_0x5af02d,_0xfa4fc7,_0x377ac0)=>{console['log']('C++\x20logger'+'Camera\x20['+_0xfd82a6+']\x20x:'+_0x65bf97+'\x20y:'+_0x2f2bf6+'\x20z:'+_0x41c7b5+'\x20dx:'+_0x5af02d+'\x20dy:'+_0xfa4fc7+'\x20dz:'+_0x377ac0);},'loggerBound':(_0x5c5dde,_0x56394c,_0x5e41cf,_0x309f3a,_0x5b56da,_0x1330f7)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x5c5dde+'\x20minY:'+_0x56394c+'\x20minZ:'+_0x5e41cf+'\x20maxX:'+_0x309f3a+'\x20maxY:'+_0x5b56da+'\x20maxZ:'+_0x1330f7);},'loggerDebug':_0xcb3934=>{}}};try{const _0x5f092d=await(await fetch(_0x33b6a1))['arrayBuffe'+'r']();return _0x1b2c82=(await WebAssembly['instantiat'+'e'](_0x5f092d,_0x51df84))['instance'],_0x18b5bd=_0x51df84['env']['memory']['buffer'],_0x1b2c82;}catch(_0x5a16ab){throw console['error']('WASM'+':',_0x5a16ab),_0x5a16ab;}},_0x5479a7=()=>{if(!_0x1b2c82)return;const {calcAABB:_0x5eca37}=_0x1b2c82['exports'];_0x5eca37(_0x460f03,_0x5bddf1,_0x4f7c8b,_0x3114a7);},_0x3b9aff=()=>{if(!_0x1b2c82||_0x32f800===null||_0x460f03===null||_0x3941d5===null||_0x4f1b27===null||_0x5bddf1===null||_0x4f7c8b===null)return;const _0x379a2b=_0x1f7ea7[-0x6e6+0x1*0x1f43+-0x185d],_0x340b61=_0x1f7ea7[-0x13*0x8b+0x147e+-0xa2c],_0xecab4a=_0x1f7ea7[-0x43*-0x65+0x2*-0xfb0+0x4f3*0x1],_0x2190b7=_0x4245c0[-0x934+-0xbb1+0x6f7*0x3],_0x3fadd1=_0x4245c0[-0x1*-0x518+0x5*0x11b+-0xa9e],_0x4d3256=_0x4245c0[-0x1*0x26a4+-0x1a35+0x1*0x40db],_0x2900f2=-0x1669*-0x1+-0xb*0x24a+0x2c5+0.001;if(!_0x43798e&&Math['abs'](_0x379a2b-_0x23dafb['x'])<_0x2900f2&&Math['abs'](_0x340b61-_0x23dafb['y'])<_0x2900f2&&Math['abs'](_0xecab4a-_0x23dafb['z'])<_0x2900f2&&Math['abs'](_0x2190b7-_0x5e566b['x'])<_0x2900f2&&Math['abs'](_0x3fadd1-_0x5e566b['y'])<_0x2900f2&&Math['abs'](_0x4d3256-_0x5e566b['z'])<_0x2900f2&&Math['abs'](_0x1dd006-_0x374fac)<0x1*0xd79+-0x1*0x17b7+-0xa3e*-0x1+0.01)return;if(_0x4eee69){_0x36b3b3=!(-0x17dd+-0x2235+-0x3a12*-0x1);return;}let _0x1b0af4=0x1013+-0x1fda+0x7*0x241;if(performance['now'](),_0x4a691f&&_0x5b8411&&_0x17f445)_0x1b0af4=_0xd7bd65['gatherInde'+'xes'](_0x1dd006,_0x18b5bd,_0x16c5dd);else{if(_0x26ca73)_0x1b0af4=_0x3114a7;else{for(let _0xdad476=-0x1d55+-0xebb+0x2c10;_0xdad476<_0x3114a7;++_0xdad476)_0xd964e0[_0x1b0af4]=_0xdad476,++_0x1b0af4;_0x26ca73=!(0x2*0x52a+0xf21*-0x2+0x2*0x9f7);}}performance['now'](),_0x4eee69=!(0x214a+0x2ed*0xd+-0x24d*0x1f),_0x43798e=!(0x1df6+-0x86*-0x12+-0x2761),_0x374fac=_0x1dd006,_0x23dafb['x']=_0x379a2b,_0x23dafb['y']=_0x340b61,_0x23dafb['z']=_0xecab4a,_0x5e566b['x']=_0x2190b7,_0x5e566b['y']=_0x3fadd1,_0x5e566b['z']=_0x4d3256,_0x36b3b3=!(0x4*0x745+-0x4d+-0x1cc6);const {sortIndexes:_0xbdefd9}=_0x1b2c82['exports'];try{let _0x31d851=_0xbdefd9(_0x32f800,_0x460f03,_0xb344f2,_0x5b8411,_0x17f445,_0x3941d5,_0x4f1b27,_0x5bddf1,_0x4f7c8b,_0x4e763e,_0x5906f4,_0x16c5dd,_0x1dd006,_0x21f678,_0x4a691f,_0x1b0af4,_0x4d77cb,_0x16af43,_0x2e620b,_0x19ba7e);_0x3054c9['set'](_0x2de227),self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x31d851-(-0x1*-0x377+0x266e+-0x29e5),'order':_0x3054c9});}catch(_0x2c2acf){console['error'](':',_0x2c2acf),self['postMessag'+'e']({'type':'error','error':_0x2c2acf['message']});}_0x4eee69=!(0x1c22+-0xd*-0x2d+0x2*-0xf35),_0x36b3b3&&_0x4465b3();};}class W1 extends de{constructor(_0x44f2fc,_0x1e0f75=!(-0x322*0xa+-0x6af+0x2603)){super(),c(this,'worker',null),c(this,'numSplats',0x36*0x3f+0x194*0x12+-0x9*0x4a2),c(this,'is4d',!(-0x1*-0x1dfb+-0xa*0x30b+-0x17*-0x5)),c(this,'sortStartT'+'ime',-0x2*-0x5ad+-0x7*0x37f+0xd1f),c(this,'orderTextu'+'re'),(this['numSplats']=_0x44f2fc,this['is4d']=_0x1e0f75,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+H1['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x1f0eae=>{if(!this['worker'])return;const {data:_0x42877b}=_0x1f0eae;switch(_0x42877b['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':if(_0x42877b['order']){const _0x4998c2=this['orderTextu'+'re']['lock']();new Uint32Array(_0x4998c2['buffer'])['set'](_0x42877b['order']),this['orderTextu'+'re']['unlock']();}let _0x135ebd=0x2*0xeca+0x20f+-0x1fa3*0x1;this['sortStartT'+'ime']!==-0x26fb+0x888+0x1e73&&(_0x135ebd=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x1f0eae['data']['count'],_0x135ebd),this['sortStartT'+'ime']=0x1*-0x180f+0x59d+0x1272;break;case'error':console['error']('Worker:',_0x42877b['error']),this['fire']('error',_0x42877b['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/test-cut'+'off-sorter'+'.wasm','numSplats':this['numSplats'],'is4d':this['is4d']});}['initData'](_0x1de5a6,_0x412254,_0x43dbb8,_0x1bc4b7,_0xcab49f,_0x2094d5,_0x558f76,_0x27946f,_0x19aed7){var _0xd58a14;(!_0x558f76||_0x558f76['length']===-0x655*0x3+-0x1*-0x22a5+0x2*-0x7d3)&&(_0x558f76=[0x24eb+0x7c6*0x3+-0x3c3d*0x1,-0x11*-0x1cd+0x651+-0x24b2]),this['orderTextu'+'re']=_0x1de5a6,(_0xd58a14=this['worker'])==null||_0xd58a14['postMessag'+'e']({'type':'initData','centers':_0x412254,'muT':_0x43dbb8,'tScale':_0x1bc4b7,'motion':_0xcab49f,'timeIndex':_0x2094d5,'timeOption':_0x558f76,'dataReady':!(-0x961+0x16e4+0x481*-0x3),'opacity':_0x27946f,'threshold':_0x19aed7});}['resize'](_0x1fc48f){this['destroy'](),this['numSplats']=_0x1fc48f,this['_initWorke'+'r']();}['setCamera'](_0x516fdb,_0x5953e5){this['worker']&&(this['sortStartT'+'ime']===-0x16e4+0x227f+-0xb9b&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x516fdb['x'],'y':_0x516fdb['y'],'z':_0x516fdb['z']},'cameraDirection':{'x':_0x5953e5['x'],'y':_0x5953e5['y'],'z':_0x5953e5['z']}}));}['setCurrent'+'Time'](_0x333d9a){this['worker']&&(this['sortStartT'+'ime']===0x1560+0x10*-0x61+-0xf50&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x333d9a}));}['setUseTemp'+'oralSort'](_0x4b6da9){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x4b6da9});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const $1=new q(),Bn=new A(),Nn=new A(),Xl=[-0x2bf*0x5+0x21ab+-0x13f0,-0x1*-0x15d1+0x110*0x4+-0x1a11];class Gp{constructor(_0x5235bf,_0xeb5696){c(this,'splat'),c(this,'mesh'),c(this,'meshInstan'+'ce'),c(this,'material'),c(this,'orderTextu'+'re'),c(this,'options',{}),c(this,'sorter',null),c(this,'time',-0x132a+0x345+0x1*0xfe5),c(this,'lastCamera'+'Position',new A()),c(this,'lastCamera'+'Direction',new A()),c(this,'cameras',[]),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x5235bf['numSplats']),this['splat']=_0x5235bf,this['options']=Object['assign'](this['options'],_0xeb5696));const _0x11c277=_0x5235bf['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',on,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0xc7f0ba=-0x244c+0xd7f+-0x4a9*-0x5,_0x25e807=Math['ceil'](_0x5235bf['numSplats']/_0xc7f0ba)*_0xc7f0ba/_0xc7f0ba,_0x4d2ea7=new Uint32Array(_0x25e807);for(let _0x40e93d=0x25*-0xfb+0x2065*-0x1+0x44ac;_0x40e93d<_0x25e807;++_0x40e93d)_0x4d2ea7[_0x40e93d]=_0x40e93d*_0xc7f0ba;const _0x502a1a=new Dt(_0x11c277,[{'semantic':Sa,'components':0x1,'type':Oo,'asInt':!(0x64*0x47+0x1*-0xd83+-0x14b*0xb)}]),_0x5caaf5=new fs(_0x11c277,_0x502a1a,_0x25e807,{'usage':ts,'data':_0x4d2ea7['buffer']}),_0x535c7d=new Float32Array((0x25ea+0x7*0x89+0x1*-0x299d)*_0xc7f0ba),_0x489f16=new Uint32Array((0x2552+-0x12c0+-0x2*0x946)*_0xc7f0ba);for(let _0x3bf0d5=-0x460+0x1632+0x1*-0x11d2;_0x3bf0d5<_0xc7f0ba;++_0x3bf0d5){_0x535c7d['set']([-(0x119d+0x641*-0x1+0x143*-0x9),-(-0x26+0x11c4+0x1b*-0xa7),_0x3bf0d5,-0x1fce+0xcd7*-0x3+0x4654,-(-0x3*-0x7c1+-0x1*0x44b+-0x12f7*0x1),_0x3bf0d5,0xb6a+-0x97e+-0x1eb,-0x503*-0x3+-0x2*-0x101f+0x7e1*-0x6,_0x3bf0d5,-(0x8*-0x4af+0x1933+0x2*0x623),0xe*0x8b+0xe87*-0x1+-0x377*-0x2,_0x3bf0d5],_0x3bf0d5*(0x1c51*0x1+-0x31c+-0x1929));const _0x4784b7=_0x3bf0d5*(0xcbd+0x10d8+-0x3*0x9db);_0x489f16['set']([0x7ab*-0x2+-0x89*0x1+0xfdf*0x1+_0x4784b7,0x794*-0x3+0x1770+0x1*-0xb3+_0x4784b7,0x2066+0xac3*0x3+-0x40ad+_0x4784b7,0x12ec+-0xfa0+0x34c*-0x1+_0x4784b7,0x435*0x1+-0x2e*-0xcd+-0x2909+_0x4784b7,-0x133*0x1+0x1b0d+-0x19d7+_0x4784b7],_0x3bf0d5*(-0x182c+0x1699+0x1*0x199));}const _0x71290=new ke(_0x11c277);_0x71290['setPositio'+'ns'](_0x535c7d,0x1*-0xf1d+-0x18a*0x19+0x359a*0x1),_0x71290['setIndices'](_0x489f16),_0x71290['update'](),this['mesh']=_0x71290,this['mesh']['aabb']['copy'](_0x5235bf['aabb']),this['meshInstan'+'ce']=new Be(this['mesh'],this['material']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x5caaf5,!(-0x11e0+-0x1*0x26cb+0x38ab)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x4*0xec+0x5c0+0x12e*-0x8,(!_0xeb5696['dither']||_0xeb5696['dither']===Os)&&(this['sorter']=new W1(this['splat']['numSplats'],this['splat']['is4D']),this['sorter']['on']('initialize'+'d',()=>{var _0x59e2ee;(_0x59e2ee=this['sorter'])==null||_0x59e2ee['initData'](this['orderTextu'+'re'],_0x5235bf['centers'],_0x5235bf['muT'],_0x5235bf['tScale'],_0x5235bf['motion'],_0x5235bf['timeIndex'],_0x5235bf['timeOption'],_0x5235bf['opacity'],_0x5235bf['threshold']);}),this['sorter']['on']('updated',_0x1451a1=>{this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x1451a1/_0xc7f0ba),this['material']['setParamet'+'er']('numSplats',_0x1451a1);}));}['updateData'](_0x5b7580){var _0x18a58c;console['log']('____\x20ENGIN'+'E\x20IVAN','updateData'+'\x20GSplatIns'+'tance',_0x5b7580['numSplats']),this['splat']=_0x5b7580;const _0x5eff7e=_0x5b7580['device'];this['orderTextu'+'re']=this['splat']['createText'+'ure']('splatOrder',on,this['splat']['evalTextur'+'eSize'](this['splat']['numSplats'])),this['createMate'+'rial'](this['options']);const _0x20bdcc=-0x5c6*-0x5+-0x187a+-0xa6*0x6,_0x34fdc6=Math['ceil'](_0x5b7580['numSplats']/_0x20bdcc)*_0x20bdcc/_0x20bdcc,_0x23f083=new Uint32Array(_0x34fdc6);for(let _0x5cc69c=-0x2344+0x1b43*0x1+0x801;_0x5cc69c<_0x34fdc6;++_0x5cc69c)_0x23f083[_0x5cc69c]=_0x5cc69c*_0x20bdcc;const _0x1ac1e7=new Dt(_0x5eff7e,[{'semantic':Sa,'components':0x1,'type':Oo,'asInt':!(0xcb3*-0x1+0x8dd*-0x4+-0x1*-0x3027)}]),_0x25ea0a=new fs(_0x5eff7e,_0x1ac1e7,_0x34fdc6,{'usage':ts,'data':_0x23f083['buffer']});this['mesh']['aabb']['copy'](_0x5b7580['aabb']),this['meshInstan'+'ce']['setInstanc'+'ing'](_0x25ea0a,!(-0x21*-0x10c+0x8bb+-0x2b47)),this['meshInstan'+'ce']['instancing'+'Count']=-0x201+-0xf53*-0x1+-0xd52,(_0x18a58c=this['sorter'])==null||_0x18a58c['resize'](_0x5b7580['numSplats']);}['releaseSeq'](_0x1d2984){console['log']('____\x20ENGIN'+'E\x20IVAN','releaseSeq',_0x1d2984);}['destroy'](){var _0x225c07,_0x4a0101,_0x226e69;(_0x225c07=this['material'])==null||_0x225c07['destroy'](),(_0x4a0101=this['meshInstan'+'ce'])==null||_0x4a0101['destroy'](),(_0x226e69=this['sorter'])==null||_0x226e69['destroy']();}['clone'](){return new Gp(this['splat'],this['options']);}['createMate'+'rial'](_0x1644f6){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.crea'+'teMaterial'),this['material']=this['splat']['createMate'+'rial'](_0x1644f6),this['material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=this['material']);}['updateView'+'port'](){const _0x3c0c0a=this['splat']['device'];if(Xl[-0xc90+-0x932+0x15c2*0x1]=_0x3c0c0a['width'],Xl[0x359*-0x6+-0x175c+0x2b73]=_0x3c0c0a['height'],this['cameras']['length']>0x236f+0xec9+-0x3238){const _0x43e84f=this['cameras'][0x1c81*-0x1+0x1fb4*-0x1+0x3c35]['xr'];_0x43e84f&&_0x43e84f['active']&&_0x43e84f['views']['list']['length']===-0x2*-0x55e+0x3e9*-0x2+-0x2e8&&(Xl[0xe*-0x52+0xf40+-0x1a*0x6a]/=-0x632+0x1111*-0x1+-0x353*-0x7);}this['material']['setParamet'+'er']('viewport',Xl);}['sort'](_0x60da85){if(this['sorter']){this['sorter']['setCurrent'+'Time'](this['time']);const _0x75f9fa=_0x60da85['getWorldTr'+'ansform']();_0x75f9fa['getTransla'+'tion'](Bn),_0x75f9fa['getZ'](Nn);const _0x2b2e45=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x29f3dc=$1['invert'](_0x2b2e45);_0x29f3dc['transformP'+'oint'](Bn,Bn),_0x29f3dc['transformV'+'ector'](Nn,Nn),(!Bn['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Nn['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Bn),this['lastCamera'+'Direction']['copy'](Nn),this['sorter']['setCamera'](Bn,Nn));}this['updateView'+'port']();}['update'](){if(this['cameras']['length']>-0x1*-0xd96+-0x6*0x169+-0x520){const _0x56be5c=this['cameras'][-0x17c8+0x1*0x4df+0x12e9];this['sort'](_0x56be5c['_node']),this['cameras']['length']=0xb9*-0x32+0x1b*-0x2f+-0x2917*-0x1;}}['updateTime'](_0x4fead4){this['time']=_0x4fead4;}}const q1='FILL_WINDO'+'W',G_='KEEP_ASPEC'+'T',H_='AUTO',X1='FIXED';let V0;function sn(){return V0;}function Ku(_0x50a353){V0=_0x50a353;}class j1{constructor(){c(this,'renderPass'+'es',[]),c(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x5d5ec7){b['assert'](_0x5d5ec7),_0x5d5ec7['frameUpdat'+'e']();const _0x42d561=_0x5d5ec7['beforePass'+'es'];for(let _0x5b7bb3=0xed*-0x7+-0xe16+-0x195*-0xd;_0x5b7bb3<_0x42d561['length'];_0x5b7bb3++){const _0x449bf1=_0x42d561[_0x5b7bb3];_0x449bf1['enabled']&&this['addRenderP'+'ass'](_0x449bf1);}_0x5d5ec7['enabled']&&this['renderPass'+'es']['push'](_0x5d5ec7);const _0x57caf2=_0x5d5ec7['afterPasse'+'s'];for(let _0xa27d9f=0x147d*0x1+-0x1501+-0x84*-0x1;_0xa27d9f<_0x57caf2['length'];_0xa27d9f++){const _0x25520f=_0x57caf2[_0xa27d9f];_0x25520f['enabled']&&this['addRenderP'+'ass'](_0x25520f);}}['reset'](){this['renderPass'+'es']['length']=0x1*-0x79f+0x23fc+0x35*-0x89;}['compile'](){const _0x54ffcd=this['renderTarg'+'etMap'],_0x595cfa=this['renderPass'+'es'];for(let _0x35dfbb=0x129d+0x23a1+0x1b1f*-0x2;_0x35dfbb<_0x595cfa['length'];_0x35dfbb++){const _0x5be12d=_0x595cfa[_0x35dfbb],_0x2e9ac7=_0x5be12d['renderTarg'+'et'];if(_0x2e9ac7!==void(0xe7e+0x1188+-0x2006)){const _0x1ecaee=_0x54ffcd['get'](_0x2e9ac7);if(_0x1ecaee){const _0x43311d=_0x5be12d['colorArray'+'Ops']['length'];for(let _0x422f0f=-0xe8a+0x16a+0xd20*0x1;_0x422f0f<_0x43311d;_0x422f0f++)_0x5be12d['colorArray'+'Ops'][_0x422f0f]['clear']||(_0x1ecaee['colorArray'+'Ops'][_0x422f0f]['store']=!(0x15*0x124+0x9*0x16b+-0x24b7));_0x5be12d['depthStenc'+'ilOps']['clearDepth']||(_0x1ecaee['depthStenc'+'ilOps']['storeDepth']=!(-0x263+-0xb64+0x1*0xdc7)),_0x5be12d['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x1ecaee['depthStenc'+'ilOps']['storeStenc'+'il']=!(0x1*0xacf+-0xd3*-0x15+-0x1c1e));}_0x54ffcd['set'](_0x2e9ac7,_0x5be12d);}}for(let _0x463a94=0xdb1+-0x1b*0x139+0x2*0x9a9;_0x463a94<_0x595cfa['length']-(0x2*-0xf43+-0x34a+-0x21d1*-0x1);_0x463a94++){const _0x4a314d=_0x595cfa[_0x463a94],_0x4da2c2=_0x4a314d['renderTarg'+'et'],_0x30916f=_0x595cfa[_0x463a94+(-0x211*0x2+0x665+-0x2*0x121)],_0x447dcf=_0x30916f['renderTarg'+'et'];_0x4da2c2!==_0x447dcf||_0x4da2c2===void(0x196f+0x77a+0x20e9*-0x1)||_0x30916f['depthStenc'+'ilOps']['clearDepth']||_0x30916f['depthStenc'+'ilOps']['clearStenc'+'il']||_0x30916f['colorArray'+'Ops']['some'](_0x3e0cd2=>_0x3e0cd2['clear'])||_0x4a314d['afterPasse'+'s']['length']>-0x23c9+-0x1aad+0x3e76||_0x30916f['beforePass'+'es']['length']>-0x11*0xc1+0x2070+-0x139f||(_0x4a314d['_skipEnd']=!(0x26f1+-0x3*0x62+-0x25cb),_0x30916f['_skipStart']=!(0xcc7+-0xc11+-0xb6));}let _0x5f78a5=null,_0x545b38=null;for(let _0x438ad1=-0x1aab*-0x1+-0xb*-0xc7+-0x2338;_0x438ad1<_0x595cfa['length'];_0x438ad1++){const _0x4ff5fc=_0x595cfa[_0x438ad1],_0x4bd1a6=_0x4ff5fc['renderTarg'+'et'],_0xe24b48=_0x4bd1a6==null?void(-0xe5*0x29+-0x2*0x80c+0x3*0x1197):_0x4bd1a6['colorBuffe'+'r'];if(_0xe24b48!=null&&_0xe24b48['cubemap']){if(_0x5f78a5===_0xe24b48){const _0x20dda8=_0x545b38['colorArray'+'Ops']['length'];for(let _0x1a556e=0x88b+-0x1245+0x9ba;_0x1a556e<_0x20dda8;_0x1a556e++)_0x545b38['colorArray'+'Ops'][_0x1a556e]['mipmaps']=!(0x146a+-0x1*0x1204+-0x265*0x1);}_0x5f78a5=_0x4bd1a6['colorBuffe'+'r'],_0x545b38=_0x4ff5fc;}else _0x4ff5fc['requiresCu'+'bemaps']&&(_0x5f78a5=null,_0x545b38=null);}_0x54ffcd['clear']();}['render'](_0x4e3819){this['compile']();const _0x23783e=this['renderPass'+'es'];for(let _0x194a33=-0xa7b+-0x1*0x98b+0x1406;_0x194a33<_0x23783e['length'];_0x194a33++)_0x23783e[_0x194a33]['render']();}}class Y1{constructor(_0x37ee61,_0xfdb991){this['texture0']=_0x37ee61,this['texture1']=_0xfdb991;}['destroy'](){var _0x25a5a5,_0x153f5d;(_0x25a5a5=this['texture0'])==null||_0x25a5a5['destroy'](),(_0x153f5d=this['texture1'])==null||_0x153f5d['destroy']();}}const W_=new Ht();class qr{static['createText'+'ure'](_0x3ddffa,_0x48a114,_0x50b329,_0x119329=''){return new ce(_0x3ddffa,{'name':'AreaLightL'+'UT'+_0x119329,'width':_0x50b329,'height':_0x50b329,'format':_0x48a114,'addressU':oe,'addressV':oe,'type':Bi,'magFilter':at,'minFilter':fe,'anisotropy':0x1,'mipmaps':!(-0x128a+0x14b*0x1d+-0x4*0x4bd)});}static['applyTextu'+'res'](_0x2a7243,_0x11f5d9,_0x24124f){W_['remove'](_0x2a7243),W_['get'](_0x2a7243,()=>new Y1(_0x11f5d9,_0x11f5d9===_0x24124f?null:_0x24124f)),_0x2a7243['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x11f5d9),_0x2a7243['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x24124f);}static['createPlac'+'eholder'](_0xe1cbef){const _0x5a4466=qr['createText'+'ure'](_0xe1cbef,it,0xba1+0x1*-0xe3e+0x29f*0x1,'placeholde'+'r');_0x5a4466['lock']()['fill'](0x1686+-0xd6+-0x1*0x15b0),_0x5a4466['unlock'](),qr['applyTextu'+'res'](_0xe1cbef,_0x5a4466,_0x5a4466);}static['set'](_0x57628b,_0x239b23,_0x2d24ee){function _0x296e5e(_0x121e1f,_0x12ccbb,_0x53b023){const _0x25fa1b=qr['createText'+'ure'](_0x121e1f,_0x53b023,0x12b*-0x7+-0x14d5+0x1d42);return _0x25fa1b['lock']()['set'](_0x12ccbb),_0x25fa1b['unlock'](),_0x25fa1b;}function _0x4ad505(_0x33436a){const _0x20f991=_0x33436a['length'],_0x3faac8=new Uint16Array(_0x20f991),_0x418810=Bt['float2Half'];for(let _0x5edfea=-0x2f0+0x4c*0x1+-0x1a*-0x1a;_0x5edfea<_0x20f991;_0x5edfea++)_0x3faac8[_0x5edfea]=_0x418810(_0x33436a[_0x5edfea]);return _0x3faac8;}const _0x229a78=_0x239b23,_0x2aa044=_0x2d24ee,_0x113db1=_0x4ad505(_0x229a78),_0x19d7fd=_0x4ad505(_0x2aa044),_0x348f65=_0x296e5e(_0x57628b,_0x113db1,it),_0x3654bc=_0x296e5e(_0x57628b,_0x19d7fd,it);qr['applyTextu'+'res'](_0x57628b,_0x348f65,_0x3654bc);}}const Yh='en-US',Kh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Hp={};function mr(_0x17dda6,_0x352c63){for(let _0x38216b=-0xbfa*0x3+-0xa6c+0x2e5a,_0x1fdeee=_0x17dda6['length'];_0x38216b<_0x1fdeee;_0x38216b++)Hp[_0x17dda6[_0x38216b]]=_0x352c63;}function xi(_0x58a225){const _0x2130b4=_0x58a225['indexOf']('-');return _0x2130b4!==-(-0xef2+-0xfde+0x467*0x7)?_0x58a225['substring'](0x6*0x669+-0x1cbe+0x2*-0x4dc,_0x2130b4):_0x58a225;}function K1(_0x530722,_0x195bdf){const _0x468df1=_0x530722['indexOf']('-');return _0x468df1!==-(-0x1*0xdc9+0x1450+0x343*-0x2)?_0x195bdf+_0x530722['substring'](_0x468df1):_0x195bdf;}function G0(_0xd49257,_0x25f173){if(_0x25f173[_0xd49257])return _0xd49257;let _0x19061d=Kh[_0xd49257];if(_0x19061d&&_0x25f173[_0x19061d])return _0x19061d;const _0x4186c6=xi(_0xd49257);return _0x19061d=Kh[_0x4186c6],_0x25f173[_0x19061d]?_0x19061d:_0x25f173[_0x4186c6]?_0x4186c6:Yh;}mr(['ja','ko','th','vi','zh','id'],_0x1b4b6e=>0x7b*-0x13+0x58a*-0x3+-0x1fb*-0xd),mr(['fa','hi'],_0xa4d2ce=>_0xa4d2ce>=-0x1*-0x2413+-0x7ab+-0x1c68&&_0xa4d2ce<=-0x15ee+0x26e3+-0x10f4?0xa89+-0x10f*0x7+-0x320:-0x2663+0x181e+0xe46),mr(['fr','pt'],_0x330655=>_0x330655>=0x12f0+0xc42+-0x1f32&&_0x330655<0xf98+-0x10e8+0x152?0x15fc+0x1cf6+-0x2*0x1979:0x14dc+-0x1*-0x1bf8+-0x30d3),mr(['da'],_0x274c2f=>_0x274c2f===-0x1*-0xe98+-0x3*-0xcf7+-0x357c||!Number['isInteger'](_0x274c2f)&&_0x274c2f>=-0x95*-0x38+0x25f4*0x1+-0x468c&&_0x274c2f<=-0xeb+-0x1201+0x12ed?-0x1261+-0xceb+0x1f4c:0x1641+-0x199f+0x35f),mr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x41e8ea=>_0x41e8ea===0xe4d+-0x1120+0x2d4?-0x194d+-0x1c*-0x122+0x66b*-0x1:-0xf1d+0x14c2*0x1+-0x4*0x169),mr(['ru','uk'],_0x43b837=>{if(Number['isInteger'](_0x43b837)){const _0x344b45=_0x43b837%(-0x746*-0x2+0x1*0x1cf4+0x2*-0x15bb),_0x310ccb=_0x43b837%(0x1c31+0x1df3+-0x39c0);if(_0x344b45===0x5*0x129+0x17c*0x12+-0x2084&&_0x310ccb!==0x1d50+-0x47*-0x41+-0x2f4c)return 0x2224+0x1*0xc1f+0x1*-0x2e43;if(_0x344b45>=0xa1f+-0x20e1+0x16c4&&_0x344b45<=-0x7*0x106+0x188f*0x1+-0x1161&&(_0x310ccb<-0x1b*0x41+0xd*-0x272+0x26b1||_0x310ccb>0xa57*-0x1+0x332*-0x3+-0xb*-0x1d1))return-0x1cfb+-0x1184*0x2+0x2*0x2002;if(_0x344b45===0x1f7d+0x128*-0x1f+0x45b||_0x344b45>=-0x2710+0x12d7+0x143e&&_0x344b45<=-0x9f3*0x1+-0x1bf7*0x1+-0x1*-0x25f3||_0x310ccb>=-0x24b7+-0x5*-0x3c7+0x3d*0x4b&&_0x310ccb<=0x1f6a+-0x1*0x224e+-0x1d*-0x1a)return 0x8d7+-0x19*0x125+0x13c8;}return 0x375*-0xa+0x20c7*0x1+0x42*0x7;}),mr(['pl'],_0x4ff360=>{if(Number['isInteger'](_0x4ff360)){if(_0x4ff360===0x54b+-0x1*-0xf18+0xa31*-0x2)return-0x2*0xaca+0x22fb+-0xd67;const _0x2ad35a=_0x4ff360%(0x193*-0x5+-0x7*0x4c1+0x2930),_0x58a855=_0x4ff360%(0xbbc+-0x5f*0x2f+-0x1*-0x619);if(_0x2ad35a>=0xc63*0x1+-0x5*-0x2bf+-0x1a1c&&_0x2ad35a<=-0x2*0x617+0x1*-0x13ad+-0x1fdf*-0x1&&(_0x58a855<0x276+-0x1787*-0x1+-0x19f1||_0x58a855>0x241*0x3+-0x237c+-0x35*-0x8b))return 0x11e3+0x1bf0+0x5*-0x92a;if(_0x2ad35a>=0xeae+0xce*-0x2b+-0xff*-0x14&&_0x2ad35a<=-0x6b*-0x35+-0x124d+-0x3d9||_0x2ad35a>=0x2*-0x891+0xb7e+0x5a9&&_0x2ad35a<=-0x7b6+-0x3*0x1a5+0xcae||_0x58a855>=-0x22b9+-0x6aa+0x296f&&_0x58a855<=-0xc*0x1b6+-0xc4e+0x14*0x1a5)return-0x6*-0x475+-0x61*-0x20+0x33d*-0xc;}return-0x525+-0x3f8+0x920;}),mr(['ar'],_0x8ff2d9=>{if(_0x8ff2d9===-0x13d*0x1+-0x1*-0xf95+0x4*-0x396)return-0x32*0x17+-0xc19*0x1+-0x1*-0x1097;if(_0x8ff2d9===-0x2*-0x7f5+0x2d*-0x56+-0xcb*0x1)return 0x86a*0x1+-0x268f+-0x1*-0x1e26;if(_0x8ff2d9===-0xbfb+0x7a4*0x3+-0xaef)return-0xd96*-0x2+0xf3d+-0x2a67*0x1;if(Number['isInteger'](_0x8ff2d9)){const _0x21c6c0=_0x8ff2d9%(-0x2*-0x106e+0xee+-0x2166);if(_0x21c6c0>=-0x1*-0x9a9+0x2109+-0x2aaf&&_0x21c6c0<=-0x6*0xbf+-0xe02+0x1286)return 0x17f6+0x10*0x223+-0x3a23;if(_0x21c6c0>=-0x2*-0x1037+0x1355+-0x2*0x19dc&&_0x21c6c0<=-0x9*-0xfd+0x1*-0x939+0x1*0xb7)return 0xc87*0x2+0x2*-0xf01+0x4f8;}return 0x20ee+-0x52+0x39f*-0x9;});const Z1=Hp[xi(Yh)];function Zd(_0x13f5c5){return Hp[_0x13f5c5]||Z1;}const ka=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class Q1{constructor(_0x2baf3d='',_0x17d82d='',_0x42fe08=null,_0x2fb562=null,_0x23d4a0=null,_0x35cb2a=null){this['url']=_0x2baf3d,this['filename']=_0x17d82d,this['hash']=_0x42fe08,this['size']=_0x2fb562,this['opt']=_0x23d4a0,this['contents']=_0x35cb2a;}['equals'](_0x123151){return this['url']===_0x123151['url']&&this['filename']===_0x123151['filename']&&this['hash']===_0x123151['hash']&&this['size']===_0x123151['size']&&this['opt']===_0x123151['opt']&&this['contents']===_0x123151['contents'];}}let J1=-(-0xb0f+0xf36+-0x426);const eP={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},$_=['pvr','dxt','etc2','etc1','basis'];class he extends de{constructor(_0x489fd4,_0x36a326,_0x59f188,_0x2ec34c,_0x3d8c40){super(),this['_id']=J1--,this['_name']=_0x489fd4||'',this['type']=_0x36a326,this['tags']=new yo(this),this['_preload']=!(0x150*0x3+0xa24+-0xe13*0x1),this['_file']=null,this['_data']=_0x2ec34c||{},this['options']=_0x3d8c40||{},this['_resources']=[],this['urlObject']=null,this['_i18n']={},this['loaded']=!(0x384*-0x9+0x13d1+-0x2f5*-0x4),this['loading']=!(0x2709+-0x26bb+-0x4d),this['registry']=null,_0x59f188&&(this['file']=_0x59f188);}set['id'](_0x28ca3f){this['_id']=_0x28ca3f;}get['id'](){return this['_id'];}set['name'](_0x443b2f){if(this['_name']===_0x443b2f)return;const _0x20b767=this['_name'];this['_name']=_0x443b2f,this['fire']('name',this,this['_name'],_0x20b767);}get['name'](){return this['_name'];}set['file'](_0x1fdb70){var _0x2388b0,_0x3eab06;if(_0x1fdb70&&_0x1fdb70['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(-0x1a98+-0x1f*0x25+0x1f14)){const _0x28766d=((_0x3eab06=(_0x2388b0=this['registry'])==null?void(-0x9*-0x1de+0x1345*-0x1+0x277*0x1):_0x2388b0['_loader'])==null?void(0x634*0x4+0x20f5+-0x283*0x17):_0x3eab06['_app'])||sn(),_0x4fe883=_0x28766d==null?void(-0x15e2+-0x853*0x1+0x1e35):_0x28766d['graphicsDe'+'vice'];if(_0x4fe883)for(let _0x98347d=-0x80d+-0x1c1c+0x2429,_0x1952f1=$_['length'];_0x98347d<_0x1952f1;_0x98347d++){const _0x371ea1=$_[_0x98347d];if(_0x1fdb70['variants'][_0x371ea1]&&_0x4fe883[eP[_0x371ea1]]){_0x1fdb70=_0x1fdb70['variants'][_0x371ea1];break;}if(_0x28766d['enableBund'+'les']){const _0x5acd52=_0x28766d['bundles']['listBundle'+'sForAsset'](this);if(_0x5acd52&&_0x5acd52['find'](_0x1d0ff0=>{var _0x3ef2f1;return(_0x3ef2f1=_0x1d0ff0==null?void(-0x503*0x3+0x2d*0x98+-0x3*0x3e5):_0x1d0ff0['file'])==null?void(0x9*0x15d+-0x1dff+-0x11ba*-0x1):_0x3ef2f1['variants'][_0x371ea1];}))break;}}}const _0x221013=this['_file'],_0x277fbe=_0x1fdb70?new Q1(_0x1fdb70['url'],_0x1fdb70['filename'],_0x1fdb70['hash'],_0x1fdb70['size'],_0x1fdb70['opt'],_0x1fdb70['contents']):null;(!!_0x277fbe!=!!_0x221013||_0x277fbe&&!_0x277fbe['equals'](_0x221013))&&(this['_file']=_0x277fbe,this['fire']('change',this,'file',_0x277fbe,_0x221013),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x3eaeb2){const _0x38c87e=this['_data'];this['_data']=_0x3eaeb2,_0x3eaeb2!==_0x38c87e&&(this['fire']('change',this,'data',_0x3eaeb2,_0x38c87e),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x47fb87){const _0x4a874b=this['_resources'][0x10*0xc1+0x3*-0x949+0x1*0xfcb];this['_resources'][-0x3f*-0x1a+-0x1*-0x1269+-0x18cf]=_0x47fb87,this['fire']('change',this,'resource',_0x47fb87,_0x4a874b);}get['resource'](){return this['_resources'][0x5d*0x3e+0x1*-0x2626+0x32*0x50];}set['resources'](_0x30236b){const _0x3a1d45=this['_resources'];this['_resources']=_0x30236b,this['fire']('change',this,'resources',_0x30236b,_0x3a1d45);}get['resources'](){return this['_resources'];}set['preload'](_0x2a0e7){_0x2a0e7=!!_0x2a0e7,this['_preload']!==_0x2a0e7&&(this['_preload']=_0x2a0e7,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0x4fe6e9){_0x4fe6e9=!!_0x4fe6e9,(!this['hasOwnProp'+'erty']('_loadFaces')||_0x4fe6e9!==this['_loadFaces'])&&(this['_loadFaces']=_0x4fe6e9,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x443ead=this['file'];if(!_0x443ead||!_0x443ead['url'])return null;let _0xd146b1=_0x443ead['url'];if(this['registry']&&this['registry']['prefix']&&!ka['test'](_0xd146b1)&&(_0xd146b1=this['registry']['prefix']+_0xd146b1),this['type']!=='script'&&_0x443ead['hash']){const _0x1a854d=_0xd146b1['indexOf']('?')!==-(0x99e+0xb4b+-0x14e8)?'&':'?';_0xd146b1+=_0x1a854d+'t='+_0x443ead['hash'];}return _0xd146b1;}['getAbsolut'+'eUrl'](_0x69af4a){if(_0x69af4a['startsWith']('blob:')||_0x69af4a['startsWith']('data:'))return _0x69af4a;const _0x5aa525=me['getDirecto'+'ry'](this['file']['url']);return me['join'](_0x5aa525,_0x69af4a);}['getLocaliz'+'edAssetId'](_0x382cd0){return _0x382cd0=G0(_0x382cd0,this['_i18n']),this['_i18n'][_0x382cd0]||null;}['addLocaliz'+'edAssetId'](_0x48709e,_0x50cea9){this['_i18n'][_0x48709e]=_0x50cea9,this['fire']('add:locali'+'zed',_0x48709e,_0x50cea9);}['removeLoca'+'lizedAsset'+'Id'](_0x4a3136){const _0x1ae59d=this['_i18n'][_0x4a3136];_0x1ae59d&&(delete this['_i18n'][_0x4a3136],this['fire']('remove:loc'+'alized',_0x4a3136,_0x1ae59d));}['ready'](_0x163896,_0x3517f1){_0x3517f1=_0x3517f1||this,this['loaded']?_0x163896['call'](_0x3517f1,this):this['once']('load',_0x414a84=>{_0x163896['call'](_0x3517f1,_0x414a84);});}['reload'](){this['loaded']&&(this['loaded']=!(0x2074+-0x9ed*0x2+-0xc99),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0xf2e+0x7*-0x587+-0x11f5*-0x3)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x29a8e6=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x4e9*0x1+-0x23b*0xf+-0x37d*-0xb),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x5c5f05=0x657+0x17c2+-0x1e19;_0x5c5f05<_0x29a8e6['length'];++_0x5c5f05){const _0xe368ff=_0x29a8e6[_0x5c5f05];_0xe368ff&&_0xe368ff['destroy']&&_0xe368ff['destroy']();}}static['fetchArray'+'Buffer'](_0xb278b8,_0x2c1f4c,_0x14acc5,_0x4286e5=-0xd52+-0xd7*-0x3+0xacd*0x1){var _0x115b22;(_0x115b22=_0x14acc5==null?void(0x751+-0x1a40+-0x25*-0x83):_0x14acc5['file'])!=null&&_0x115b22['contents']?setTimeout(()=>{_0x2c1f4c(null,_0x14acc5['file']['contents']);}):Ye['get'](_0xb278b8,{'cache':!(-0xc30+0x96*0x17+-0x42*0x5),'responseType':'arraybuffe'+'r','retry':_0x4286e5>-0x79*0x3c+-0x12a7+0x967*0x5,'maxRetries':_0x4286e5},_0x2c1f4c);}}c(he,'EVENT_LOAD','load'),c(he,'EVENT_UNLO'+'AD','unload'),c(he,'EVENT_REMO'+'VE','remove'),c(he,'EVENT_ERRO'+'R','error'),c(he,'EVENT_CHAN'+'GE','change'),c(he,'EVENT_PROG'+'RESS','progress'),c(he,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),c(he,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class tP{constructor(_0x100016=null){c(this,'_index',{}),c(this,'_key'),this['_key']=_0x100016;}['addItem'](_0x48a82a){const _0x492250=_0x48a82a['tags']['_list'];for(const _0x2568dd of _0x492250)this['add'](_0x2568dd,_0x48a82a);}['removeItem'](_0xed5fb6){const _0x43e741=_0xed5fb6['tags']['_list'];for(const _0x3237bb of _0x43e741)this['remove'](_0x3237bb,_0xed5fb6);}['add'](_0x12b8dd,_0x4fd5b1){this['_index'][_0x12b8dd]&&this['_index'][_0x12b8dd]['list']['indexOf'](_0x4fd5b1)!==-(0x3*0x836+-0x1*-0x4cf+-0x6*0x4e8)||(this['_index'][_0x12b8dd]||(this['_index'][_0x12b8dd]={'list':[]},this['_key']&&(this['_index'][_0x12b8dd]['keys']={})),this['_index'][_0x12b8dd]['list']['push'](_0x4fd5b1),this['_key']&&(this['_index'][_0x12b8dd]['keys'][_0x4fd5b1[this['_key']]]=_0x4fd5b1));}['remove'](_0x2cf446,_0x3ac85d){if(!this['_index'][_0x2cf446]||this['_key']&&!this['_index'][_0x2cf446]['keys'][_0x3ac85d[this['_key']]])return;const _0x3d58bc=this['_index'][_0x2cf446]['list']['indexOf'](_0x3ac85d);_0x3d58bc!==-(-0x2*-0x2f5+0x3*0xa59+0xac*-0x37)&&(this['_index'][_0x2cf446]['list']['splice'](_0x3d58bc,-0x13a1+-0xb5e*0x2+0x2a5e),this['_key']&&delete this['_index'][_0x2cf446]['keys'][_0x3ac85d[this['_key']]],this['_index'][_0x2cf446]['list']['length']===0x193a+0x61+-0x13*0x159&&delete this['_index'][_0x2cf446]);}['find'](_0x2d7e8c){const _0x356831={},_0x5948f6=[];let _0x236349,_0x32af73,_0x13a738,_0x5c7c76,_0x125e3c;const _0x549009=(_0x176a79,_0x2c6bce)=>this['_index'][_0x176a79]['list']['length']-this['_index'][_0x2c6bce]['list']['length'];for(let _0x1232b7=0x1c81*-0x1+0xeb9*-0x2+0x39f3;_0x1232b7<_0x2d7e8c['length'];_0x1232b7++){if(_0x32af73=_0x2d7e8c[_0x1232b7],_0x32af73 instanceof Array){if(_0x32af73['length']===0xda6+0x1587+0x5*-0x709)continue;if(_0x32af73['length']===-0x43f*-0x7+-0x1fca+0x109*0x2)_0x32af73=_0x32af73[0x1580+0x1bb*0x11+0x1*-0x32eb];else{_0x125e3c=!(0x1c35+-0x3*-0xa7f+-0x3bb1);for(let _0x12ffae=-0x793+-0xd54+0x14e7;_0x12ffae<_0x32af73['length'];_0x12ffae++)if(!this['_index'][_0x32af73[_0x12ffae]]){_0x125e3c=!(-0x8e+0x1*0x6b9+-0x62b);break;}if(_0x125e3c)continue;_0x13a738=_0x32af73['slice'](-0x1ca4+0x313+0x3a7*0x7)['sort'](_0x549009),_0x5c7c76=_0x13a738['slice'](0x4b7*-0x4+-0x895+0x1b72),_0x5c7c76['length']===-0x5*-0x467+-0x1852+-0x250*-0x1&&(_0x5c7c76=_0x5c7c76[0x2e*0xba+-0x9ce+0xbcf*-0x2]);for(let _0x4a77b3=0x1*-0x228a+-0x16c8+0x3952;_0x4a77b3<this['_index'][_0x13a738[-0x1*0x1307+0x15f8+-0x2f1*0x1]]['list']['length'];_0x4a77b3++)_0x236349=this['_index'][_0x13a738[0x1823+0x25c8+-0x3deb]]['list'][_0x4a77b3],(this['_key']?!_0x356831[_0x236349[this['_key']]]:_0x5948f6['indexOf'](_0x236349)===-(-0x106a+-0x253f+0x35aa*0x1))&&_0x236349['tags']['has'](_0x5c7c76)&&(this['_key']&&(_0x356831[_0x236349[this['_key']]]=!(-0x1f*0x2+-0x1eaa+0x1ee8)),_0x5948f6['push'](_0x236349));continue;}}if(_0x32af73&&typeof _0x32af73=='string'&&this['_index'][_0x32af73]){for(let _0x116d2a=-0x1b45+-0x196a+0x34af*0x1;_0x116d2a<this['_index'][_0x32af73]['list']['length'];_0x116d2a++)_0x236349=this['_index'][_0x32af73]['list'][_0x116d2a],this['_key']?_0x356831[_0x236349[this['_key']]]||(_0x356831[_0x236349[this['_key']]]=!(-0x16f*-0x1a+0x15d6+-0x3b1c),_0x5948f6['push'](_0x236349)):_0x5948f6['indexOf'](_0x236349)===-(-0x3db*0x3+0x443*-0x6+0x2524)&&_0x5948f6['push'](_0x236349);}}return _0x5948f6;}}class co extends de{constructor(_0x3bd996){super(),c(this,'_assets',new Set()),c(this,'_loader'),c(this,'_idToAsset',new Map()),c(this,'_urlToAsse'+'t',new Map()),c(this,'_nameToAss'+'et',new Map()),c(this,'_tags',new tP('_id')),c(this,'prefix',null),c(this,'bundles',null),this['_loader']=_0x3bd996;}['list'](_0x35a17c={}){const _0x5e701c=Array['from'](this['_assets']);return _0x35a17c['preload']!==void(-0x2c*-0x70+0xf8*-0x1e+0x8*0x13a)?_0x5e701c['filter'](_0xb4dd7a=>_0xb4dd7a['preload']===_0x35a17c['preload']):_0x5e701c;}['add'](_0x2a644f){var _0x5d24ae,_0x663011;this['_assets']['has'](_0x2a644f)||(this['_assets']['add'](_0x2a644f),this['_idToAsset']['set'](_0x2a644f['id'],_0x2a644f),(_0x5d24ae=_0x2a644f['file'])!=null&&_0x5d24ae['url']&&this['_urlToAsse'+'t']['set'](_0x2a644f['file']['url'],_0x2a644f),this['_nameToAss'+'et']['has'](_0x2a644f['name'])||this['_nameToAss'+'et']['set'](_0x2a644f['name'],new Set()),this['_nameToAss'+'et']['get'](_0x2a644f['name'])['add'](_0x2a644f),_0x2a644f['on']('name',this['_onNameCha'+'nge'],this),_0x2a644f['registry']=this,this['_tags']['addItem'](_0x2a644f),_0x2a644f['tags']['on']('add',this['_onTagAdd'],this),_0x2a644f['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x2a644f),this['fire']('add:'+_0x2a644f['id'],_0x2a644f),(_0x663011=_0x2a644f['file'])!=null&&_0x663011['url']&&this['fire']('add:url:'+_0x2a644f['file']['url'],_0x2a644f),_0x2a644f['preload']&&this['load'](_0x2a644f));}['remove'](_0x1b4ae9){var _0x3acc5f,_0x3a926c;if(!this['_assets']['has'](_0x1b4ae9))return!(-0x3*0x15a+0x2542+-0x2133);if(this['_assets']['delete'](_0x1b4ae9),this['_idToAsset']['delete'](_0x1b4ae9['id']),(_0x3acc5f=_0x1b4ae9['file'])!=null&&_0x3acc5f['url']&&this['_urlToAsse'+'t']['delete'](_0x1b4ae9['file']['url']),_0x1b4ae9['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x1b4ae9['name'])){const _0x3b2270=this['_nameToAss'+'et']['get'](_0x1b4ae9['name']);_0x3b2270['delete'](_0x1b4ae9),_0x3b2270['size']===-0x12*-0xfb+0x1*-0x25d9+0x1433*0x1&&this['_nameToAss'+'et']['delete'](_0x1b4ae9['name']);}return this['_tags']['removeItem'](_0x1b4ae9),_0x1b4ae9['tags']['off']('add',this['_onTagAdd'],this),_0x1b4ae9['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x1b4ae9['fire']('remove',_0x1b4ae9),this['fire']('remove',_0x1b4ae9),this['fire']('remove:'+_0x1b4ae9['id'],_0x1b4ae9),(_0x3a926c=_0x1b4ae9['file'])!=null&&_0x3a926c['url']&&this['fire']('remove:url'+':'+_0x1b4ae9['file']['url'],_0x1b4ae9),!(0x1a24+-0x1aaf+-0x8b*-0x1);}['get'](_0x18e4c5){return this['_idToAsset']['get'](Number(_0x18e4c5));}['getByUrl'](_0x3e60d8){return this['_urlToAsse'+'t']['get'](_0x3e60d8);}['load'](_0x1549c4,_0x17ec7c){if((_0x1549c4['loading']||_0x1549c4['loaded'])&&!(_0x17ec7c!=null&&_0x17ec7c['force']))return;const _0x15b89d=_0x1549c4['file'],_0x5b6683=()=>{this['fire']('load',_0x1549c4),this['fire']('load:'+_0x1549c4['id'],_0x1549c4),_0x15b89d&&_0x15b89d['url']&&this['fire']('load:url:'+_0x15b89d['url'],_0x1549c4),_0x1549c4['fire']('load',_0x1549c4);},_0x7f384d=_0x4df691=>{if(_0x4df691 instanceof Array?_0x1549c4['resources']=_0x4df691:_0x1549c4['resource']=_0x4df691,this['_loader']['patch'](_0x1549c4,this),_0x1549c4['type']==='bundle'){const _0x2be6d1=_0x1549c4['data']['assets'];for(let _0xdfa82a=0x2*-0x114a+0x115*-0x1c+0x15a*0x30;_0xdfa82a<_0x2be6d1['length'];_0xdfa82a++){const _0x33e453=this['_idToAsset']['get'](_0x2be6d1[_0xdfa82a]);_0x33e453&&!_0x33e453['loaded']&&this['load'](_0x33e453,{'force':!(0x5df+0x3*-0x948+-0x271*-0x9)});}_0x1549c4['resource']['loaded']?_0x5b6683():(this['fire']('load:start',_0x1549c4),this['fire']('load:start'+':'+_0x1549c4['id'],_0x1549c4),_0x15b89d&&_0x15b89d['url']&&this['fire']('load:start'+':url:'+_0x15b89d['url'],_0x1549c4),_0x1549c4['fire']('load:start',_0x1549c4),_0x1549c4['resource']['on']('load',_0x5b6683));}else _0x5b6683();},_0x4a83f6=(_0x8445fe,_0x524276,_0x57b471)=>{if(_0x1549c4['loaded']=!(-0x157f+-0xf31+0x8*0x496),_0x1549c4['loading']=!(-0x1*-0x24fe+-0x1537+-0xfc6),_0x8445fe)this['fire']('error',_0x8445fe,_0x1549c4),this['fire']('error:'+_0x1549c4['id'],_0x8445fe,_0x1549c4),_0x1549c4['fire']('error',_0x8445fe,_0x1549c4);else{if(_0x1549c4['type']==='script'){const _0x1fe257=this['_loader']['getHandler']('script');_0x1fe257['_cache'][_0x1549c4['id']]&&_0x1fe257['_cache'][_0x1549c4['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x1fe257['_cache'][_0x1549c4['id']]),_0x1fe257['_cache'][_0x1549c4['id']]=_0x57b471;}_0x7f384d(_0x524276);}};if(_0x15b89d||_0x1549c4['type']==='cubemap'){this['fire']('load:start',_0x1549c4),this['fire']('load:'+_0x1549c4['id']+':start',_0x1549c4),_0x1549c4['loading']=!(0x1309+-0x1392+0x89);const _0x4291bc=_0x1549c4['getFileUrl']();if(_0x1549c4['type']==='bundle'){const _0x16a4ed=_0x1549c4['data']['assets'];for(let _0xa273bb=-0x25f5+-0xeb9*-0x2+0x883*0x1;_0xa273bb<_0x16a4ed['length'];_0xa273bb++){const _0x4d5faf=this['_idToAsset']['get'](_0x16a4ed[_0xa273bb]);_0x4d5faf&&(_0x4d5faf['loaded']||_0x4d5faf['resource']||_0x4d5faf['loading']||(_0x4d5faf['loading']=!(0x2057+0x36*-0x6+-0x5*0x637)));}}this['_loader']['load'](_0x4291bc,_0x1549c4['type'],_0x4a83f6,_0x1549c4,_0x17ec7c);}else{const _0x360bda=this['_loader']['open'](_0x1549c4['type'],_0x1549c4['data']);_0x1549c4['loaded']=!(-0x1*-0x141b+-0x223f+-0xa*-0x16a),_0x7f384d(_0x360bda);}}['loadFromUr'+'l'](_0x4cc90f,_0x156f03,_0x4711ad){this['loadFromUr'+'lAndFilena'+'me'](_0x4cc90f,null,_0x156f03,_0x4711ad);}['loadFromUr'+'lAndFilena'+'me'](_0x259a61,_0x2a115f,_0x4bd01c,_0x1b492b){const _0x2757d9=me['getBasenam'+'e'](_0x2a115f||_0x259a61),_0x3a823f={'filename':_0x2a115f||_0x2757d9,'url':_0x259a61};let _0x447648=this['getByUrl'](_0x259a61);if(!_0x447648)_0x447648=new he(_0x2757d9,_0x4bd01c,_0x3a823f),this['add'](_0x447648);else{if(_0x447648['loaded']){_0x1b492b(_0x447648['loadFromUr'+'lError']||null,_0x447648);return;}}const _0xb47f57=_0x5a27ea=>{_0x5a27ea['once']('load',_0x4a8ee0=>{_0x4bd01c==='material'?this['_loadTextu'+'res'](_0x4a8ee0,(_0x3e0019,_0x3331fd)=>{_0x1b492b(_0x3e0019,_0x4a8ee0);}):_0x1b492b(null,_0x4a8ee0);}),_0x5a27ea['once']('error',_0x357eeb=>{_0x357eeb&&(this['loadFromUr'+'lError']=_0x357eeb),_0x1b492b(_0x357eeb,_0x5a27ea);}),this['load'](_0x5a27ea);};_0x447648['resource']?_0x1b492b(null,_0x447648):_0x4bd01c==='model'?this['_loadModel'](_0x447648,_0xb47f57):_0xb47f57(_0x447648);}['_loadModel'](_0x384a5f,_0x13e942){const _0x15fdb6=_0x384a5f['getFileUrl'](),_0x59c6cc=me['getExtensi'+'on'](_0x15fdb6);if(_0x59c6cc==='.json'||_0x59c6cc==='.glb'){const _0x447425=me['getDirecto'+'ry'](_0x15fdb6),_0x3c1a2f=me['getBasenam'+'e'](_0x15fdb6),_0x357d76=me['join'](_0x447425,_0x3c1a2f['replace'](_0x59c6cc,'.mapping.j'+'son'));this['_loader']['load'](_0x357d76,'json',(_0x278dd1,_0x180087)=>{_0x278dd1?(_0x384a5f['data']={'mapping':[]},_0x13e942(_0x384a5f)):this['_loadMater'+'ials'](_0x384a5f,_0x180087,(_0x15142c,_0x46e9ea)=>{_0x384a5f['data']=_0x180087,_0x13e942(_0x384a5f);});});}else _0x13e942(_0x384a5f);}['_loadMater'+'ials'](_0x566fff,_0x5a9754,_0x23fabc){const _0x441a77=[];let _0x1f8857=0x7f1+-0x1*-0x1b3d+0x5dd*-0x6;const _0x54d222=(_0x3257da,_0x473514)=>{this['_loadTextu'+'res'](_0x473514,(_0x3266ae,_0x1be4ae)=>{_0x441a77['push'](_0x473514),_0x441a77['length']===_0x1f8857&&_0x23fabc(null,_0x441a77);});};for(let _0x145f0c=0x22f7+-0x1*-0x1006+0xe5*-0x39;_0x145f0c<_0x5a9754['mapping']['length'];_0x145f0c++){const _0x4462e4=_0x5a9754['mapping'][_0x145f0c]['path'];if(_0x4462e4){_0x1f8857++;const _0x2886be=_0x566fff['getAbsolut'+'eUrl'](_0x4462e4);this['loadFromUr'+'l'](_0x2886be,'material',_0x54d222);}}_0x1f8857===0x17e4+0x229*0x1+-0x1a0d&&_0x23fabc(null,_0x441a77);}['_loadTextu'+'res'](_0x3ba523,_0x3823c9){const _0x17d778=[];let _0x152bd8=-0x59f*0x1+0xa*-0x12e+0x116b;const _0x12cdfa=_0x3ba523['data'];if(_0x12cdfa['mappingFor'+'mat']!=='path'){b['warn']('Skipping:\x20'+_0x3ba523['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x3823c9(null,_0x17d778);return;}const _0x12726d=(_0x243ae7,_0x389bec)=>{_0x243ae7&&console['error'](_0x243ae7),_0x17d778['push'](_0x389bec),_0x17d778['length']===_0x152bd8&&_0x3823c9(null,_0x17d778);},_0x203646=ed;for(let _0x47114b=0x3*-0x183+0xe32+0x1*-0x9a9;_0x47114b<_0x203646['length'];_0x47114b++){const _0xf6c403=_0x12cdfa[_0x203646[_0x47114b]];if(_0xf6c403&&typeof _0xf6c403=='string'){_0x152bd8++;const _0x1eeb97=_0x3ba523['getAbsolut'+'eUrl'](_0xf6c403);this['loadFromUr'+'l'](_0x1eeb97,'texture',_0x12726d);}}_0x152bd8===0x3bd+0x262d*-0x1+0x2270&&_0x3823c9(null,_0x17d778);}['_onTagAdd'](_0x4e1d59,_0x4d345b){this['_tags']['add'](_0x4e1d59,_0x4d345b);}['_onTagRemo'+'ve'](_0x229ef7,_0x2fbd6c){this['_tags']['remove'](_0x229ef7,_0x2fbd6c);}['_onNameCha'+'nge'](_0x4d64d5,_0x225518,_0x178f46){if(this['_nameToAss'+'et']['has'](_0x178f46)){const _0x401ae2=this['_nameToAss'+'et']['get'](_0x178f46);_0x401ae2['delete'](_0x4d64d5),_0x401ae2['size']===-0xb*-0x305+-0x25b1+-0x23d*-0x2&&this['_nameToAss'+'et']['delete'](_0x178f46);}this['_nameToAss'+'et']['has'](_0x4d64d5['name'])||this['_nameToAss'+'et']['set'](_0x4d64d5['name'],new Set()),this['_nameToAss'+'et']['get'](_0x4d64d5['name'])['add'](_0x4d64d5);}['findByTag'](..._0x4b8bf3){return this['_tags']['find'](_0x4b8bf3);}['filter'](_0x30a18f){return Array['from'](this['_assets'])['filter'](_0x533d15=>_0x30a18f(_0x533d15));}['find'](_0x2c930b,_0x1642b4){const _0x1b2bb5=this['_nameToAss'+'et']['get'](_0x2c930b);if(!_0x1b2bb5)return null;for(const _0x5842be of _0x1b2bb5)if(!_0x1642b4||_0x5842be['type']===_0x1642b4)return _0x5842be;return null;}['findAll'](_0xe450bb,_0xcfe528){const _0x3c8099=this['_nameToAss'+'et']['get'](_0xe450bb);if(!_0x3c8099)return[];const _0xf4b1a3=Array['from'](_0x3c8099);return _0xcfe528?_0xf4b1a3['filter'](_0x2b8620=>_0x2b8620['type']===_0xcfe528):_0xf4b1a3;}}c(co,'EVENT_LOAD','load'),c(co,'EVENT_ADD','add'),c(co,'EVENT_REMO'+'VE','remove'),c(co,'EVENT_ERRO'+'R','error');class sP{constructor(_0x3f671b){c(this,'_idToBundl'+'e',new Map()),c(this,'_assetToBu'+'ndles',new Map()),c(this,'_urlsToBun'+'dles',new Map()),c(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x3f671b,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x19263a){if(_0x19263a['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x19263a['id'],_0x19263a),this['_assets']['on']('load:start'+':'+_0x19263a['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x19263a['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x19263a['id'],this['_onBundleE'+'rror'],this);const _0x5124b8=_0x19263a['data']['assets'];for(let _0x466623=0x12cb+0x400+-0x16cb;_0x466623<_0x5124b8['length'];_0x466623++)this['_indexAsse'+'tInBundle'](_0x5124b8[_0x466623],_0x19263a);}else this['_assetToBu'+'ndles']['has'](_0x19263a['id'])&&this['_indexAsse'+'tFileUrls'](_0x19263a);}['_unbindAss'+'etEvents'](_0x5110f2){this['_assets']['off']('load:start'+':'+_0x5110f2,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x5110f2,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x5110f2,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x2012e5,_0x397849){let _0xc43379=this['_assetToBu'+'ndles']['get'](_0x2012e5);_0xc43379||(_0xc43379=new Set(),this['_assetToBu'+'ndles']['set'](_0x2012e5,_0xc43379)),_0xc43379['add'](_0x397849);const _0x5ddee9=this['_assets']['get'](_0x2012e5);_0x5ddee9&&this['_indexAsse'+'tFileUrls'](_0x5ddee9);}['_indexAsse'+'tFileUrls'](_0xc296d6){const _0x558f96=this['_getAssetF'+'ileUrls'](_0xc296d6);if(_0x558f96)for(let _0x298fa3=0x1919+-0x4*-0x737+-0x35f5;_0x298fa3<_0x558f96['length'];_0x298fa3++){const _0x3baf8c=this['_assetToBu'+'ndles']['get'](_0xc296d6['id']);_0x3baf8c&&this['_urlsToBun'+'dles']['set'](_0x558f96[_0x298fa3],_0x3baf8c);}}['_getAssetF'+'ileUrls'](_0x2b6129){let _0x2af24e=_0x2b6129['getFileUrl']();if(!_0x2af24e)return null;_0x2af24e=_0x2af24e['split']('?')[0x1dc6+0x731+-0x24f7*0x1];const _0x513ad2=[_0x2af24e];if(_0x2b6129['type']==='font'){const _0x59aab3=_0x2b6129['data']['info']['maps']['length'];for(let _0x109476=-0x2652+0x11*-0x1ed+0x4710;_0x109476<_0x59aab3;_0x109476++)_0x513ad2['push'](_0x2af24e['replace']('.png',_0x109476+'.png'));}return _0x513ad2;}['_onAssetRe'+'move'](_0x504aae){if(_0x504aae['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x504aae['id']),this['_unbindAss'+'etEvents'](_0x504aae['id']);const _0x5b1c1e=_0x504aae['data']['assets'];for(let _0x176887=-0x3*-0xb2d+0xd57+-0x2ede;_0x176887<_0x5b1c1e['length'];_0x176887++){const _0x42c7a8=this['_assetToBu'+'ndles']['get'](_0x5b1c1e[_0x176887]);if(_0x42c7a8&&(_0x42c7a8['delete'](_0x504aae),_0x42c7a8['size']===-0x33*-0xc3+0x207d+0x17*-0x31a)){this['_assetToBu'+'ndles']['delete'](_0x5b1c1e[_0x176887]);for(const [_0x5bf0a4,_0x50e9ba]of this['_urlsToBun'+'dles'])_0x50e9ba===_0x42c7a8&&this['_urlsToBun'+'dles']['delete'](_0x5bf0a4);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x504aae['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x504aae['id']))return;this['_assetToBu'+'ndles']['delete'](_0x504aae['id']);const _0x5b499e=this['_getAssetF'+'ileUrls'](_0x504aae);if(!_0x5b499e)return;for(let _0x3bf3f0=-0x1ada*0x1+-0x2*0xfe+-0x1*-0x1cd6;_0x3bf3f0<_0x5b499e['length'];_0x3bf3f0++)this['_urlsToBun'+'dles']['delete'](_0x5b499e[_0x3bf3f0]);}}['_onBundleL'+'oadStart'](_0x7530f7){_0x7530f7['resource']['on']('add',(_0x17c0d4,_0x13e622)=>{const _0xd25e07=this['_fileReque'+'sts']['get'](_0x17c0d4);if(_0xd25e07){for(let _0xa742ab=0x1*-0x1503+-0xcd9+0x21dc;_0xa742ab<_0xd25e07['length'];_0xa742ab++)_0xd25e07[_0xa742ab](null,_0x13e622);this['_fileReque'+'sts']['delete'](_0x17c0d4);}});}['_onBundleL'+'oad'](_0x3b0554){if(!_0x3b0554['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x3b0554['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0xee4ad4,_0x4f6904]of this['_fileReque'+'sts']){const _0x17a0c1=this['_urlsToBun'+'dles']['get'](_0xee4ad4);if(!_0x17a0c1||!_0x17a0c1['has'](_0x3b0554))continue;const _0x153b3c=decodeURIComponent(_0xee4ad4);let _0x5e1cf1,_0x40c97d;if(_0x3b0554['resource']['has'](_0x153b3c))_0x40c97d=_0x3b0554['resource']['get'](_0x153b3c);else{if(_0x3b0554['resource']['loaded'])_0x5e1cf1='Bundle\x20'+_0x3b0554['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0xee4ad4;else continue;}for(let _0x307471=-0xbb*0x2b+-0x1f2f+0x1f4c*0x2;_0x307471<_0x4f6904['length'];_0x307471++)_0x4f6904[_0x307471](_0x5e1cf1,_0x5e1cf1||_0x40c97d);this['_fileReque'+'sts']['delete'](_0xee4ad4);}}['_onBundleE'+'rror'](_0x4ea536){for(const [_0x50b144,_0x4ce82f]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x50b144)){for(let _0x4a9e4c=-0x207e+0xb*-0x38d+0x478d;_0x4a9e4c<_0x4ce82f['length'];_0x4a9e4c++)_0x4ce82f[_0x4a9e4c](_0x4ea536);this['_fileReque'+'sts']['delete'](_0x50b144);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x319bd5){const _0x43a890=this['_urlsToBun'+'dles']['get'](_0x319bd5);if(!_0x43a890)return null;let _0xfe5923=null;for(const _0x1e465e of _0x43a890){if(_0x1e465e['loaded']&&_0x1e465e['resource'])return _0x1e465e;_0x1e465e['loading']&&(_0xfe5923=_0x1e465e);}return _0xfe5923;}['listBundle'+'sForAsset'](_0x580ad0){const _0xa493b8=this['_assetToBu'+'ndles']['get'](_0x580ad0['id']);return _0xa493b8?Array['from'](_0xa493b8):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0xe7ac77){return this['_urlsToBun'+'dles']['has'](_0xe7ac77);}['urlIsLoade'+'dOrLoading'](_0x581ec3){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x581ec3);}['loadUrl'](_0x11dc50,_0x27068b){const _0x276c26=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x11dc50);if(!_0x276c26){_0x27068b('URL\x20'+_0x11dc50+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x276c26['loaded']){const _0x5f31ba=decodeURIComponent(_0x11dc50);if(_0x276c26['resource']['has'](_0x5f31ba)){_0x27068b(null,_0x276c26['resource']['get'](_0x5f31ba));return;}else{if(_0x276c26['resource']['loaded']){_0x27068b('Bundle\x20'+_0x276c26['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x11dc50);return;}}}let _0x5a2787=this['_fileReque'+'sts']['get'](_0x11dc50);_0x5a2787||(_0x5a2787=[],this['_fileReque'+'sts']['set'](_0x11dc50,_0x5a2787)),_0x5a2787['push'](_0x27068b);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x31beda of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x31beda);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class iP extends de{constructor(){super(),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'joint'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'zone'),this['list']=[];}['add'](_0x1d002f){const _0x4ec2fa=_0x1d002f['id'];if(this[_0x4ec2fa])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x4ec2fa+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x4ec2fa]=_0x1d002f,this['list']['push'](_0x1d002f);}['remove'](_0x386122){const _0x230988=_0x386122['id'];if(!this[_0x230988])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x230988+('\x27\x20register'+'ed'));delete this[_0x230988];const _0x15117a=this['list']['indexOf'](this[_0x230988]);_0x15117a!==-(-0xaa*-0x2b+0x126b+-0x2ef8)&&this['list']['splice'](_0x15117a,0x151f+0x2*-0x66b+-0x848);}['destroy'](){this['off']();for(let _0x2d6212=-0x2451*0x1+0x1*0x47+0x240a;_0x2d6212<this['list']['length'];_0x2d6212++)this['list'][_0x2d6212]['destroy']();}}class Zu extends de{constructor(){super(...arguments),c(this,'_index',new Map()),c(this,'_loaded',!(0x9b4+-0x10*0x85+-0x163));}['addFile'](_0x1bae8a,_0x418c4c){this['_index']['has'](_0x1bae8a)||(this['_index']['set'](_0x1bae8a,_0x418c4c),this['fire']('add',_0x1bae8a,_0x418c4c));}['has'](_0x421f4b){return this['_index']['has'](_0x421f4b);}['get'](_0x49f828){return this['_index']['get'](_0x49f828)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x39dacf){!_0x39dacf||this['_loaded']||(this['_loaded']=!(0xd2d*-0x1+0x3e7+0x946),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}c(Zu,'EVENT_ADD','add'),c(Zu,'EVENT_LOAD','load');class rP extends de{constructor(_0x2f3554,_0x45775d=''){super(),c(this,'headerSize',-0x1e56*-0x1+0x12ac*-0x1+0x9aa*-0x1),c(this,'paddingSiz'+'e',0x2182*0x1+0x15d+-0x33*0xa5),c(this,'bytesRead',-0x2*-0xdcd+0x33f*0x1+-0x35*0x95),c(this,'bytesRecei'+'ved',0x6d*-0x27+-0x6*0x44c+0x3*0xe21),c(this,'headerRead',!(0xcbb+0x2*0x9cf+-0x2058)),c(this,'reader',null),c(this,'data',new Uint8Array(0x225e+-0x187f+-0x9df)),c(this,'decoder',null),c(this,'prefix',''),c(this,'fileName',''),c(this,'fileSize',0x108+0x6*0x23b+-0xe6a),c(this,'fileType',''),c(this,'ustarForma'+'t',''),(this['prefix']=_0x45775d||'',this['reader']=_0x2f3554['body']['getReader'](),this['reader']['read']()['then'](_0x107712=>{this['pump'](_0x107712['done'],_0x107712['value']);})['catch'](_0xbf6063=>{this['fire']('error',_0xbf6063);}));}['pump'](_0x1131bd,_0x278302){if(_0x1131bd)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x278302['byteLength'];const _0x3c52a2=new Uint8Array(this['data']['length']+_0x278302['length']);for(_0x3c52a2['set'](this['data']),_0x3c52a2['set'](_0x278302,this['data']['length']),this['data']=_0x3c52a2;this['readFile'](););return this['reader']['read']()['then'](_0x4d255d=>{this['pump'](_0x4d255d['done'],_0x4d255d['value']);})['catch'](_0x45948a=>{this['fire']('error',_0x45948a);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x24de+0x2d9*-0x8+0x1dd3*0x2);const _0x1f6b75=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x4e5d47=this['decoder']['decode'](_0x1f6b75);if(this['fileName']=_0x4e5d47['substring'](-0x219*-0x7+0x1c28+-0x2ad7,0x9e6+-0x10fc+0x77a)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x4e5d47['substring'](0xafc+0xbb0+-0x1630,0xaf0+0x3*-0x478+0x300),-0x1565*0x1+0x86+-0x14e7*-0x1),this['fileType']=_0x4e5d47['substring'](0x1*0x1e3a+-0x1a22+-0x37c,0x89c+0xa*-0x285+0x1133),this['ustarForma'+'t']=_0x4e5d47['substring'](-0x1706*0x1+-0x1*-0x4cb+0x2*0x99e,0x59*-0x3+0x17f5*0x1+-0x15e3),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x7*-0x3ef+-0x2299+0x3e23)){const _0x3c7454=_0x4e5d47['substring'](0xad8+-0x167+-0x818,0x2*-0x251+0xb19+-0x483)['replace'](/\0/g,'');_0x3c7454['length']>-0x12ac+0x12fd*-0x2+0x38a6&&(this['fileName']=_0x3c7454['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x1a89+-0xe55+-0x76*-0x5d;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x19*0x50+0x18cb+-0xd6*0x27);if(this['fileType']===''||this['fileType']==='0'){const _0x2e04e4=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x5cc73f={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x2e04e4};this['fire']('file',_0x5cc73f);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(0x2ef*0x7+0x1c45+-0x1*0x30cd);const _0x54384b=this['bytesRead']%this['paddingSiz'+'e'];return _0x54384b!==0x84d*0x1+-0x188d+0x50*0x34&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x54384b),!(-0x3*-0x50c+0x18*0x53+-0x16ec);}return!(-0x2380+0x251b+-0x19a);}}class Ge{constructor(_0x4096b9,_0x37bfb6){c(this,'handlerTyp'+'e',''),c(this,'_app'),c(this,'_maxRetrie'+'s',0x1*0x2534+-0x2099+-0x3*0x189),(this['_app']=_0x4096b9,this['handlerTyp'+'e']=_0x37bfb6);}set['maxRetries'](_0x4e78f8){this['_maxRetrie'+'s']=_0x4e78f8;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x18153b,_0x4c952a,_0x42919f){}['open'](_0x4de271,_0xc984ab,_0x28f2d4){return _0xc984ab;}['patch'](_0x1cd6c6,_0x538ac8){}}class nP extends Ge{constructor(_0x474a34){super(_0x474a34,'bundle'),this['_assets']=_0x474a34['assets'];}['_fetchRetr'+'ies'](_0x2c6464,_0x551c73,_0x45b55e=0x1*0x23a7+-0x10b7*0x1+-0x12f0){return new Promise((_0x5a1476,_0x1ed284)=>{const _0x1f9dd5=()=>{fetch(_0x2c6464,_0x551c73)['then'](_0x5a1476)['catch'](_0x224a3a=>{_0x45b55e++,_0x45b55e<this['maxRetries']?(b['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x45b55e),_0x1f9dd5()):_0x1ed284(_0x224a3a);});};_0x1f9dd5();});}['load'](_0x1a51ac,_0x269c9b){typeof _0x1a51ac=='string'&&(_0x1a51ac={'load':_0x1a51ac,'original':_0x1a51ac}),this['_fetchRetr'+'ies'](_0x1a51ac['load'],{'mode':'cors','credentials':'include'},this['maxRetries'])['then'](_0x468b5b=>{const _0x268d64=new Zu();_0x269c9b(null,_0x268d64);const _0x1b9af3=new rP(_0x468b5b,this['_assets']['prefix']);_0x1b9af3['on']('file',_0x2332fc=>{_0x268d64['addFile'](_0x2332fc['name'],_0x2332fc['data']);}),_0x1b9af3['on']('done',()=>{_0x268d64['loaded']=!(-0x591*0x6+0x1cd*-0x2+-0x8*-0x4a0);}),_0x1b9af3['on']('error',_0x55c421=>{b['error'](_0x55c421),_0x269c9b(_0x55c421);});})['catch'](_0x4c4919=>{b['error'](_0x4c4919),_0x269c9b(_0x4c4919);});}['open'](_0x2d367e,_0xb4445){return _0xb4445;}}class _a{constructor(_0x31c0ea){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x31c0ea;}['addHandler'](_0x5ad75a,_0x51dadf){this['_handlers'][_0x5ad75a]=_0x51dadf,_0x51dadf['_loader']=this;}['removeHand'+'ler'](_0x3f836d){delete this['_handlers'][_0x3f836d];}['getHandler'](_0x223cde){return this['_handlers'][_0x223cde];}static['makeKey'](_0x58e297,_0x426bb4){return _0x58e297+'-'+_0x426bb4;}['load'](_0x1fb74b,_0x22367e,_0x43ce2d,_0x26a157,_0x50acde){var _0x4b9fca;const _0x503a56=this['_handlers'][_0x22367e];if(!_0x503a56){const _0xd14de9='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x22367e+('\x27\x20when\x20loa'+'ding\x20[')+_0x1fb74b+']';b['errorOnce'](_0xd14de9),_0x43ce2d(_0xd14de9);return;}if(!_0x1fb74b){this['_loadNull'](_0x503a56,_0x43ce2d,_0x26a157);return;}const _0xea2303=_a['makeKey'](_0x1fb74b,_0x22367e);if(this['_cache'][_0xea2303]!==void(0x1f*0xfb+0x4dc+-0x2341))_0x43ce2d(null,this['_cache'][_0xea2303]);else{if(this['_requests'][_0xea2303])this['_requests'][_0xea2303]['push'](_0x43ce2d);else{this['_requests'][_0xea2303]=[_0x43ce2d];const _0x144cbd=this,_0x4062fc=function(_0xe8acc9,_0x571d15){if(_0xe8acc9){_0x144cbd['_onFailure'](_0xea2303,_0xe8acc9);return;}if(_0x571d15['load']instanceof DataView){if(_0x503a56['openBinary']){if(!_0x144cbd['_requests'][_0xea2303])return;try{const _0x5223c2=_0x503a56['openBinary'](_0x571d15['load']);_0x144cbd['_onSuccess'](_0xea2303,_0x5223c2);}catch(_0x7a8a21){_0x144cbd['_onFailure'](_0xea2303,_0x7a8a21);}return;}_0x571d15['load']=URL['createObje'+'ctURL'](new Blob([_0x571d15['load']])),_0x26a157&&(_0x26a157['urlObject']&&URL['revokeObje'+'ctURL'](_0x26a157['urlObject']),_0x26a157['urlObject']=_0x571d15['load']);}_0x503a56['load'](_0x571d15,(_0x463ea8,_0x1c002d,_0x56d0c6)=>{if(_0x144cbd['_requests'][_0xea2303]){if(_0x463ea8){_0x144cbd['_onFailure'](_0xea2303,_0x463ea8);return;}try{_0x144cbd['_onSuccess'](_0xea2303,_0x503a56['open'](_0x571d15['original'],_0x1c002d,_0x26a157),_0x56d0c6);}catch(_0xd170a6){_0x144cbd['_onFailure'](_0xea2303,_0xd170a6);}}},_0x26a157);},_0x3f8b90=_0x1fb74b['split']('?')[0x1b04+-0x39d+-0x1767];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x3f8b90)&&!(_0x50acde&&_0x50acde['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x3f8b90)){const _0x3b3d82=this['_app']['bundles']['listBundle'+'sForAsset'](_0x26a157);let _0x2c58da;_0x50acde&&_0x50acde['bundlesFil'+'ter']&&(_0x2c58da=_0x50acde['bundlesFil'+'ter'](_0x3b3d82)),_0x2c58da||(_0x3b3d82==null||_0x3b3d82['sort']((_0x2c03de,_0x4b6a18)=>_0x2c03de['file']['size']-_0x4b6a18['file']['size']),_0x2c58da=_0x3b3d82==null?void(-0x8*-0x24b+-0x1*-0x161b+-0x2873):_0x3b3d82[0x34d*-0x2+0xb58+0x2*-0x25f]),_0x2c58da&&((_0x4b9fca=this['_app']['assets'])==null||_0x4b9fca['load'](_0x2c58da));}this['_app']['bundles']['loadUrl'](_0x3f8b90,(_0x54e9b1,_0x50c549)=>{_0x4062fc(_0x54e9b1,{'load':_0x50c549,'original':_0x3f8b90});});}else _0x4062fc(null,{'load':_0x1fb74b,'original':_0x26a157&&_0x26a157['file']['filename']||_0x1fb74b});}}}['_loadNull'](_0x46139c,_0x468070,_0x967150){const _0x81eb6a=function(_0x16d0a2,_0x517612,_0x528325){if(_0x16d0a2)_0x468070(_0x16d0a2);else try{_0x468070(null,_0x46139c['open'](null,_0x517612,_0x967150),_0x528325);}catch(_0x561594){_0x468070(_0x561594);}};_0x46139c['load'](null,_0x81eb6a,_0x967150);}['_onSuccess'](_0x24d9ba,_0x3b5e9c,_0x359838){_0x3b5e9c!==null?this['_cache'][_0x24d9ba]=_0x3b5e9c:delete this['_cache'][_0x24d9ba];for(let _0x23b5c7=-0x1*-0x1357+-0x2*-0x8e7+-0x2525;_0x23b5c7<this['_requests'][_0x24d9ba]['length'];_0x23b5c7++)this['_requests'][_0x24d9ba][_0x23b5c7](null,_0x3b5e9c,_0x359838);delete this['_requests'][_0x24d9ba];}['_onFailure'](_0x26c48d,_0x1276cd){if(console['error'](_0x1276cd),this['_requests'][_0x26c48d]){for(let _0xd72020=0x9*0x24f+-0x20ba+0xbf3;_0xd72020<this['_requests'][_0x26c48d]['length'];_0xd72020++)this['_requests'][_0x26c48d][_0xd72020](_0x1276cd);delete this['_requests'][_0x26c48d];}}['open'](_0x2abbf3,_0x592b0d){const _0xa33d25=this['_handlers'][_0x2abbf3];return _0xa33d25?_0xa33d25['open'](null,_0x592b0d):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x2abbf3),_0x592b0d);}['patch'](_0x49b834,_0x23899b){const _0xd086f3=this['_handlers'][_0x49b834['type']];if(!_0xd086f3){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x49b834['type']);return;}_0xd086f3['patch']&&_0xd086f3['patch'](_0x49b834,_0x23899b);}['clearCache'](_0xbc73a4,_0x2dbd4e){const _0x50e5ce=_a['makeKey'](_0xbc73a4,_0x2dbd4e);delete this['_cache'][_0x50e5ce];}['getFromCac'+'he'](_0x400ed0,_0x3a4a81){const _0x2687e0=_a['makeKey'](_0x400ed0,_0x3a4a81);if(this['_cache'][_0x2687e0])return this['_cache'][_0x2687e0];}['enableRetr'+'y'](_0x309bbf=-0x85*-0x29+0x1*0x479+-0x1*0x19c1){_0x309bbf=Math['max'](-0x1887+0x2399+-0x6d*0x1a,_0x309bbf)||-0x14ae+-0xe3*-0x25+-0x26d*0x5;for(const _0x31ec5c in this['_handlers'])this['_handlers'][_0x31ec5c]['maxRetries']=_0x309bbf;}['disableRet'+'ry'](){for(const _0x2f5053 in this['_handlers'])this['_handlers'][_0x2f5053]['maxRetries']=-0x2462*0x1+0x2511+-0xaf;}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class aP{['_validate'](_0x244ed4){if(!_0x244ed4['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x244ed4['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x244ed4['header']['version']!==0x1*0x1265+-0x18e4+0x680)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x244ed4['data']){if(!Array['isArray'](_0x244ed4['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0xb1cb2b=0x6f*0xa+-0x1bfe+0x8*0x2f5,_0x382c90=_0x244ed4['data']['length'];_0xb1cb2b<_0x382c90;_0xb1cb2b++){const _0x305542=_0x244ed4['data'][_0xb1cb2b];if(!_0x305542['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xb1cb2b+('].info\x22\x20fi'+'eld'));if(!_0x305542['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xb1cb2b+('].info.loc'+'ale\x22\x20field'));if(typeof _0x305542['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0xb1cb2b+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x305542['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xb1cb2b+('].messages'+'\x22\x20field'));}}['parse'](_0x28f986){return this['_validate'](_0x28f986),_0x28f986['data'];}}class oP extends de{constructor(_0x5204b3){super(),this['locale']=Yh,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x5204b3,this['_assets']=[],this['_parser']=new aP();}set['assets'](_0x362692){const _0x3f27a2={};for(let _0x300d9d=0x1ca+-0x1*-0x1fce+-0x2198,_0x1aafc5=_0x362692['length'];_0x300d9d<_0x1aafc5;_0x300d9d++){const _0x5c22ea=_0x362692[_0x300d9d]instanceof he?_0x362692[_0x300d9d]['id']:_0x362692[_0x300d9d];_0x3f27a2[_0x5c22ea]=!(-0x15*-0x15b+-0x28b+-0xcf6*0x2);}let _0x715b2=this['_assets']['length'];for(;_0x715b2--;){const _0x245503=this['_assets'][_0x715b2];if(!_0x3f27a2[_0x245503]){this['_app']['assets']['off']('add:'+_0x245503,this['_onAssetAd'+'d'],this);const _0x502176=this['_app']['assets']['get'](_0x245503);_0x502176&&this['_onAssetRe'+'move'](_0x502176),this['_assets']['splice'](_0x715b2,-0x4*-0x740+-0x2377+-0x8*-0xcf);}}for(const _0x36c7f3 in _0x3f27a2){const _0x560753=parseInt(_0x36c7f3,-0x1311*-0x2+-0x3e9*0x4+-0x1674);if(this['_assets']['indexOf'](_0x560753)!==-(0x1ea+0x17c7*0x1+-0x19b0))continue;this['_assets']['push'](_0x560753);const _0x5edfbd=this['_app']['assets']['get'](_0x560753);_0x5edfbd?this['_onAssetAd'+'d'](_0x5edfbd):this['_app']['assets']['once']('add:'+_0x560753,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x3909f2){if(this['_locale']===_0x3909f2)return;let _0x12105b=xi(_0x3909f2);if(_0x12105b==='in'&&(_0x12105b='id',_0x3909f2=K1(_0x3909f2,_0x12105b),this['_locale']===_0x3909f2))return;const _0xd17b=this['_locale'];this['_locale']=_0x3909f2,this['_lang']=_0x12105b,this['_pluralFn']=Zd(this['_lang']),this['fire']('set:locale',_0x3909f2,_0xd17b);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x1e2338,_0x33127a){return G0(_0x1e2338,_0x33127a);}['findAvaila'+'bleLocale'](_0x27a028){if(this['_translati'+'ons'][_0x27a028])return _0x27a028;const _0x1562c8=xi(_0x27a028);return this['_findFallb'+'ackLocale'](_0x27a028,_0x1562c8);}['getText'](_0x2fee9e,_0x5d602b){let _0x34a06d=_0x2fee9e,_0x50f787;_0x5d602b||(_0x5d602b=this['_locale'],_0x50f787=this['_lang']);let _0x2ce013=this['_translati'+'ons'][_0x5d602b];return _0x2ce013||(_0x50f787||(_0x50f787=xi(_0x5d602b)),_0x5d602b=this['_findFallb'+'ackLocale'](_0x5d602b,_0x50f787),_0x2ce013=this['_translati'+'ons'][_0x5d602b]),_0x2ce013&&_0x2ce013['hasOwnProp'+'erty'](_0x2fee9e)&&(_0x34a06d=_0x2ce013[_0x2fee9e],Array['isArray'](_0x34a06d)&&(_0x34a06d=_0x34a06d[-0x117+0x641+-0x52a]),_0x34a06d==null&&(_0x34a06d=_0x2fee9e)),_0x34a06d;}['getPluralT'+'ext'](_0x27bd20,_0x30de0f,_0x4d7176){let _0x17e4e2=_0x27bd20,_0x5a230d,_0x293bd4;_0x4d7176?(_0x5a230d=xi(_0x4d7176),_0x293bd4=Zd(_0x5a230d)):(_0x4d7176=this['_locale'],_0x5a230d=this['_lang'],_0x293bd4=this['_pluralFn']);let _0x4a329d=this['_translati'+'ons'][_0x4d7176];if(_0x4a329d||(_0x4d7176=this['_findFallb'+'ackLocale'](_0x4d7176,_0x5a230d),_0x5a230d=xi(_0x4d7176),_0x293bd4=Zd(_0x5a230d),_0x4a329d=this['_translati'+'ons'][_0x4d7176]),_0x4a329d&&_0x4a329d[_0x27bd20]&&_0x293bd4){const _0x51286a=_0x293bd4(_0x30de0f);_0x17e4e2=_0x4a329d[_0x27bd20][_0x51286a],_0x17e4e2==null&&(_0x17e4e2=_0x27bd20);}return _0x17e4e2;}['addData'](_0x213343){let _0xc53d5c;try{_0xc53d5c=this['_parser']['parse'](_0x213343);}catch(_0x4637ae){console['error'](_0x4637ae);return;}for(let _0x15eb9d=0x12ed+0x118e+-0x247b,_0x5427a5=_0xc53d5c['length'];_0x15eb9d<_0x5427a5;_0x15eb9d++){const _0x522cd7=_0xc53d5c[_0x15eb9d],_0x254aa7=_0x522cd7['info']['locale'],_0x4e9142=_0x522cd7['messages'];if(!this['_translati'+'ons'][_0x254aa7]){this['_translati'+'ons'][_0x254aa7]={};const _0x1794b3=xi(_0x254aa7);this['_available'+'Langs'][_0x1794b3]||(this['_available'+'Langs'][_0x1794b3]=_0x254aa7);}Object['assign'](this['_translati'+'ons'][_0x254aa7],_0x4e9142),this['fire']('data:add',_0x254aa7,_0x4e9142);}}['removeData'](_0x4da95b){let _0x3c667a;try{_0x3c667a=this['_parser']['parse'](_0x4da95b);}catch(_0x515e9b){console['error'](_0x515e9b);return;}for(let _0x3f2217=-0x423+0x1684*-0x1+0x1aa7,_0x418ca1=_0x3c667a['length'];_0x3f2217<_0x418ca1;_0x3f2217++){const _0x47c45a=_0x3c667a[_0x3f2217],_0x1871d0=_0x47c45a['info']['locale'],_0x3b23b3=this['_translati'+'ons'][_0x1871d0];if(!_0x3b23b3)continue;const _0x182fa6=_0x47c45a['messages'];for(const _0x5a68fd in _0x182fa6)delete _0x3b23b3[_0x5a68fd];Object['keys'](_0x3b23b3)['length']===0x2359*-0x1+0x421+0x1f38&&(delete this['_translati'+'ons'][_0x1871d0],delete this['_available'+'Langs'][xi(_0x1871d0)]),this['fire']('data:remov'+'e',_0x1871d0,_0x182fa6);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x929536,_0x17332c){let _0x4b74e7=Kh[_0x929536];return _0x4b74e7&&this['_translati'+'ons'][_0x4b74e7]||(_0x4b74e7=Kh[_0x17332c],_0x4b74e7&&this['_translati'+'ons'][_0x4b74e7])||(_0x4b74e7=this['_available'+'Langs'][_0x17332c],_0x4b74e7&&this['_translati'+'ons'][_0x4b74e7])?_0x4b74e7:Yh;}['_onAssetAd'+'d'](_0x321a4e){_0x321a4e['on']('load',this['_onAssetLo'+'ad'],this),_0x321a4e['on']('change',this['_onAssetCh'+'ange'],this),_0x321a4e['on']('remove',this['_onAssetRe'+'move'],this),_0x321a4e['on']('unload',this['_onAssetUn'+'load'],this),_0x321a4e['resource']&&this['_onAssetLo'+'ad'](_0x321a4e);}['_onAssetLo'+'ad'](_0x2470e2){this['addData'](_0x2470e2['resource']);}['_onAssetCh'+'ange'](_0x555e66){_0x555e66['resource']&&this['addData'](_0x555e66['resource']);}['_onAssetRe'+'move'](_0x57a219){_0x57a219['off']('load',this['_onAssetLo'+'ad'],this),_0x57a219['off']('change',this['_onAssetCh'+'ange'],this),_0x57a219['off']('remove',this['_onAssetRe'+'move'],this),_0x57a219['off']('unload',this['_onAssetUn'+'load'],this),_0x57a219['resource']&&this['removeData'](_0x57a219['resource']),this['_app']['assets']['once']('add:'+_0x57a219['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x3bb5c3){_0x3bb5c3['resource']&&this['removeData'](_0x3bb5c3['resource']);}}class lP extends de{constructor(_0x179e42){super(),c(this,'_scripts',{}),c(this,'_list',[]),c(this,'_scriptSch'+'emas',new Map()),this['app']=_0x179e42;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0xb645d3,_0x10258e){_0x10258e&&this['_scriptSch'+'emas']['set'](_0xb645d3,_0x10258e);}['getSchema'](_0x2861f7){return this['_scriptSch'+'emas']['get'](_0x2861f7);}['add'](_0x23eb7f){const _0x591718=_0x23eb7f['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x591718)?(setTimeout(()=>{if(_0x23eb7f['prototype']['swap']){const _0x3c76ef=this['_scripts'][_0x591718],_0x43a4e2=this['_list']['indexOf'](_0x3c76ef);this['_list'][_0x43a4e2]=_0x23eb7f,this['_scripts'][_0x591718]=_0x23eb7f,this['fire']('swap',_0x591718,_0x23eb7f),this['fire']('swap:'+_0x591718,_0x23eb7f);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x591718+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x13b7*0x1+-0x44*-0x5c+-0x2c26)):(this['_scripts'][_0x591718]=_0x23eb7f,this['_list']['push'](_0x23eb7f),this['fire']('add',_0x591718,_0x23eb7f),this['fire']('add:'+_0x591718,_0x23eb7f),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x591718)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x254a48=this['app']['systems']['script']['_component'+'s'];let _0x5f4278;const _0x109620=[],_0x33b139=[];for(_0x254a48['loopIndex']=-0xbec+-0x23f0+0x2fdc;_0x254a48['loopIndex']<_0x254a48['length'];_0x254a48['loopIndex']++){const _0xb9628c=_0x254a48['items'][_0x254a48['loopIndex']];if(_0xb9628c['_scriptsIn'+'dex'][_0x591718]&&_0xb9628c['_scriptsIn'+'dex'][_0x591718]['awaiting']){_0xb9628c['_scriptsDa'+'ta']&&_0xb9628c['_scriptsDa'+'ta'][_0x591718]&&(_0x5f4278=_0xb9628c['_scriptsDa'+'ta'][_0x591718]['attributes']);const _0x39c8c4=_0xb9628c['create'](_0x591718,{'preloading':!(0x99c+-0x3e9+-0x5b3),'ind':_0xb9628c['_scriptsIn'+'dex'][_0x591718]['ind'],'attributes':_0x5f4278});_0x39c8c4&&_0x109620['push'](_0x39c8c4);for(const _0xef2080 of _0xb9628c['scripts'])_0xb9628c['initialize'+'Attributes'](_0xef2080);}}for(let _0xc0e776=0x78f+0x1c84+-0x2413;_0xc0e776<_0x109620['length'];_0xc0e776++)_0x109620[_0xc0e776]['enabled']&&(_0x109620[_0xc0e776]['_initializ'+'ed']=!(-0x343*-0x7+-0x163*-0x8+0x1*-0x21ed),_0x33b139['push'](_0x109620[_0xc0e776]),_0x109620[_0xc0e776]['initialize']&&_0x109620[_0xc0e776]['initialize']());for(let _0x175400=0x4e0+0x6ee+-0xbce;_0x175400<_0x33b139['length'];_0x175400++)!_0x33b139[_0x175400]['enabled']||_0x33b139[_0x175400]['_postIniti'+'alized']||(_0x33b139[_0x175400]['_postIniti'+'alized']=!(-0x10f3+-0x1a*0x3+0x1141*0x1),_0x33b139[_0x175400]['postInitia'+'lize']&&_0x33b139[_0x175400]['postInitia'+'lize']());}),!(-0x1838+0x167e*0x1+0x1ba));}['remove'](_0x1c41c1){let _0x57174f=_0x1c41c1,_0x478aad=_0x1c41c1;if(typeof _0x478aad!='string'?_0x478aad=_0x57174f['__name']:_0x57174f=this['get'](_0x478aad),this['get'](_0x478aad)!==_0x57174f)return!(-0x1b37+-0x1d5a+0x3892);delete this['_scripts'][_0x478aad];const _0x995f1b=this['_list']['indexOf'](_0x57174f);return this['_list']['splice'](_0x995f1b,0x8ae+0x1804+-0x20b1),this['fire']('remove',_0x478aad,_0x57174f),this['fire']('remove:'+_0x478aad,_0x57174f),!(-0x5c+0x2*-0x650+-0x115*-0xc);}['get'](_0x255f35){return this['_scripts'][_0x255f35]||null;}['has'](_0x812c60){if(typeof _0x812c60=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x812c60);if(!_0x812c60)return!(-0x2193+0x16e7+0xaad);const _0x4909e8=_0x812c60['__name'];return this['_scripts'][_0x4909e8]===_0x812c60;}['list'](){return this['_list'];}}const hP=(_0x171474,_0x3343b2)=>_0x171474['constructo'+'r']['order']-_0x3343b2['constructo'+'r']['order'],cP=_0x3386ec=>_0x3386ec['sort'](hP),to=[],H0=[],dP=()=>H0['pop']()??[],q_=_0x5af3c3=>{_0x5af3c3['length']=0x1c6a+-0x1d63+-0xf9*-0x1,H0['push'](_0x5af3c3);},dc=class dc extends Oe{constructor(_0x4310d5,_0x19adcc=sn()){super(_0x4310d5),c(this,'anim'),c(this,'animation'),c(this,'audioliste'+'ner'),c(this,'button'),c(this,'camera'),c(this,'collision'),c(this,'element'),c(this,'gsplat'),c(this,'layoutchil'+'d'),c(this,'layoutgrou'+'p'),c(this,'light'),c(this,'model'),c(this,'particlesy'+'stem'),c(this,'render'),c(this,'rigidbody'),c(this,'screen'),c(this,'script'),c(this,'scrollbar'),c(this,'scrollview'),c(this,'sound'),c(this,'sprite'),c(this,'c',{}),c(this,'_app'),c(this,'_destroyin'+'g',!(-0x231b+-0x3b2*-0x1+-0x1*-0x1f6a)),c(this,'_guid',null),c(this,'_template',!(0xff9+0x9a3+-0x5*0x51f)),(b['assert'](_0x19adcc,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x19adcc);}['addCompone'+'nt'](_0x183a3e,_0x39208e){const _0x2ce416=this['_app']['systems'][_0x183a3e];return _0x2ce416?this['c'][_0x183a3e]?(b['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x183a3e+('\x27\x20componen'+'t')),null):_0x2ce416['addCompone'+'nt'](this,_0x39208e):(b['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x183a3e+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x5c776b){const _0x3060f3=this['_app']['systems'][_0x5c776b];if(!_0x3060f3){b['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x5c776b+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x5c776b]){b['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x5c776b+('\x27\x20componen'+'t'));return;}_0x3060f3['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x404003){const _0x38b423=this['findOne'](_0x7f4cea=>{var _0x1c6a04;return(_0x1c6a04=_0x7f4cea['c'])==null?void(0x1f39*0x1+-0x1414+-0xb25):_0x1c6a04[_0x404003];});return _0x38b423&&_0x38b423['c'][_0x404003];}['findCompon'+'ents'](_0x3bb0bd){return this['find'](_0x491f8c=>{var _0x1a7c74;return(_0x1a7c74=_0x491f8c['c'])==null?void(-0x57f+0x266*0xe+-0x1*0x1c15):_0x1a7c74[_0x3bb0bd];})['map'](_0x2ec727=>_0x2ec727['c'][_0x3bb0bd]);}['findScript'](_0x22705c){const _0x382a87=this['findOne'](_0x37c19a=>{var _0x20f4dd,_0x20c40d;return(_0x20c40d=(_0x20f4dd=_0x37c19a['c'])==null?void(0x1836+-0x8*-0x330+-0x31b6):_0x20f4dd['script'])==null?void(0x1bd*-0x14+-0x1159+0x341d):_0x20c40d['has'](_0x22705c);});return _0x382a87==null?void(0x1bcc+-0x3*-0xbe1+0x1*-0x3f6f):_0x382a87['c']['script']['get'](_0x22705c);}['findScript'+'s'](_0xb14917){return this['find'](_0x252fe8=>{var _0x18c93a,_0xccd94b;return(_0xccd94b=(_0x18c93a=_0x252fe8['c'])==null?void(-0x1821+-0x386+0x1ba7):_0x18c93a['script'])==null?void(-0x114*0xf+0x49+0xfe3):_0xccd94b['has'](_0xb14917);})['map'](_0x5dff5c=>_0x5dff5c['c']['script']['get'](_0xb14917));}['getGuid'](){return this['_guid']||this['setGuid'](sS['create']()),this['_guid'];}['setGuid'](_0x177b94){const _0x3b61e2=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x3b61e2[this['_guid']],this['_guid']=_0x177b94,_0x3b61e2[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x426fbc,_0x392d10){let _0x1731e3=!(-0xcb*-0x1b+0xee7+-0x743*0x5);_0x426fbc===this&&to['length']===-0x1d79+-0x157f+0x32f8&&(_0x1731e3=!(0x8b*0x46+0x17d3+-0x1*0x3dd5)),_0x426fbc['_beingEnab'+'led']=!(-0x3*0x8ac+0x8*-0x427+0x3b3c),_0x426fbc['_onHierarc'+'hyStateCha'+'nged'](_0x392d10),_0x426fbc['_onHierarc'+'hyStatePos'+'tChanged']&&to['push'](_0x426fbc);const _0x5671f5=_0x426fbc['_children'];for(let _0x1d5625=-0x1*-0x186e+0x1da4*0x1+-0x1b09*0x2,_0x140ee5=_0x5671f5['length'];_0x1d5625<_0x140ee5;_0x1d5625++)_0x5671f5[_0x1d5625]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x5671f5[_0x1d5625],_0x392d10);if(_0x426fbc['_beingEnab'+'led']=!(-0xd8b*0x2+-0x8b*0x9+0x1ffa),_0x1731e3){for(let _0x3fa5ec=0xb34+-0x1*0x216a+0x2*0xb1b;_0x3fa5ec<to['length'];_0x3fa5ec++)to[_0x3fa5ec]['_onHierarc'+'hyStatePos'+'tChanged']();to['length']=0x11bc+-0xf3e*-0x1+0xafe*-0x3;}}['_onHierarc'+'hyStateCha'+'nged'](_0x40cc2c){super['_onHierarc'+'hyStateCha'+'nged'](_0x40cc2c);const _0x2efeba=this['_getSorted'+'Components']();for(let _0x29342d=-0xdcc*0x2+0xebd+0xcdb*0x1;_0x29342d<_0x2efeba['length'];_0x29342d++){const _0xfff709=_0x2efeba[_0x29342d];_0xfff709['enabled']&&(_0x40cc2c?_0xfff709['onEnable']():_0xfff709['onDisable']());}q_(_0x2efeba);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x1bac42=this['_getSorted'+'Components']();for(let _0xce0e8a=0xee*-0x19+-0x20d6+0x3814;_0xce0e8a<_0x1bac42['length'];_0xce0e8a++)_0x1bac42[_0xce0e8a]['onPostStat'+'eChange']();q_(_0x1bac42);}['findByGuid'](_0x216ada){if(this['_guid']===_0x216ada)return this;const _0x4e13fe=this['_app']['_entityInd'+'ex'][_0x216ada];return _0x4e13fe&&(_0x4e13fe===this||_0x4e13fe['isDescenda'+'ntOf'](this))?_0x4e13fe:null;}['destroy'](){this['_destroyin'+'g']=!(0x2*0x1216+-0x15ff+-0xe2d);for(const _0x40f47d in this['c'])this['c'][_0x40f47d]['enabled']=!(0x902+0x2622+0x1*-0x2f23);for(const _0x5ddfdf in this['c'])this['c'][_0x5ddfdf]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x3*0x977+-0x112c+-0x2*0x59c);}['clone'](){const _0x3dbfdc={},_0x416768=this['_cloneRecu'+'rsively'](_0x3dbfdc);return _0x3dbfdc[this['getGuid']()]=_0x416768,W0(this,this,_0x416768,_0x3dbfdc),_0x416768;}['_getSorted'+'Components'](){const _0x32abf4=this['c'],_0x6924a0=dP();let _0x2c954c=0x1*0xe9b+0x58f+-0x142a;for(const _0x57a2df in _0x32abf4)if(_0x32abf4['hasOwnProp'+'erty'](_0x57a2df)){const _0x56288d=_0x32abf4[_0x57a2df];_0x2c954c|=_0x56288d['constructo'+'r']['order']!==0x219f+0x1*0x16ca+-0x1*0x3869,_0x6924a0['push'](_0x56288d);}return _0x2c954c&&_0x6924a0['length']>-0x56a+0x6ab+-0x1*0x140&&cP(_0x6924a0),_0x6924a0;}['_cloneRecu'+'rsively'](_0x391477){const _0x272a83=new this['constructo'+'r'](void(-0x1*0x841+-0x2406+0x1*0x2c47),this['_app']);super['_cloneInte'+'rnal'](_0x272a83);for(const _0x5912ff in this['c'])this['c'][_0x5912ff]['system']['cloneCompo'+'nent'](this,_0x272a83);for(let _0x379b72=-0x111*-0x10+0x8c8+-0x19d8;_0x379b72<this['_children']['length'];_0x379b72++){const _0x243595=this['_children'][_0x379b72];if(_0x243595 instanceof dc){const _0xc66350=_0x243595['_cloneRecu'+'rsively'](_0x391477);_0x272a83['addChild'](_0xc66350),_0x391477[_0x243595['getGuid']()]=_0xc66350;}}return _0x272a83;}};c(dc,'EVENT_DEST'+'ROY','destroy');let je=dc;function W0(_0x1d0dee,_0x2a6995,_0x430340,_0x52a406){if(_0x2a6995 instanceof je){const _0x2b2572=_0x2a6995['c'];for(const _0x3808cf in _0x2b2572){const _0x1afb0b=_0x2b2572[_0x3808cf],_0x43568e=_0x1afb0b['system']['getPropert'+'iesOfType']('entity');for(let _0x44f716=0xbc1*0x1+0x1da+-0xd9b,_0x5c7bd5=_0x43568e['length'];_0x44f716<_0x5c7bd5;_0x44f716++){const _0x3d5ac0=_0x43568e[_0x44f716]['name'],_0x54ace2=_0x1afb0b[_0x3d5ac0];if(!!_0x1d0dee['findByGuid'](_0x54ace2)){const _0x5dfe48=_0x52a406[_0x54ace2]['getGuid']();_0x5dfe48?_0x430340['c'][_0x3808cf][_0x3d5ac0]=_0x5dfe48:b['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x2b2572['script']&&_0x430340['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b2572['script'],_0x52a406),_0x2b2572['render']&&_0x430340['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b2572['render'],_0x52a406),_0x2b2572['button']&&_0x430340['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b2572['button'],_0x52a406),_0x2b2572['scrollview']&&_0x430340['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b2572['scrollview'],_0x52a406),_0x2b2572['scrollbar']&&_0x430340['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b2572['scrollbar'],_0x52a406),_0x2b2572['anim']&&_0x430340['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2b2572['anim'],_0x52a406);const _0x2777ac=_0x2a6995['children']['filter'](_0x2741bc=>_0x2741bc instanceof je),_0x2dfeb8=_0x430340['children']['filter'](_0x2d6497=>_0x2d6497 instanceof je);for(let _0x5c757c=0x1*-0x2091+-0xd*-0x217+0x2b3*0x2,_0x46c77e=_0x2777ac['length'];_0x5c757c<_0x46c77e;_0x5c757c++)W0(_0x1d0dee,_0x2777ac[_0x5c757c],_0x2dfeb8[_0x5c757c],_0x52a406);}}class X_{constructor(_0x19b424,_0x185a64){c(this,'name'),c(this,'url'),c(this,'data',null),c(this,'_loading',!(-0x70+-0x6*0x14a+0x82d)),c(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x19b424,this['url']=_0x185a64);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class uP{constructor(_0x249cb7){c(this,'_app'),c(this,'_list',[]),c(this,'_index',{}),c(this,'_urlIndex',{}),this['_app']=_0x249cb7;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0xf90e8a,_0x35bb17){if(this['_index']['hasOwnProp'+'erty'](_0xf90e8a))return b['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0xf90e8a),!(-0x69*0x57+0x16*-0x22+0x269c);const _0x5c8d88=new X_(_0xf90e8a,_0x35bb17),_0x34584e=this['_list']['push'](_0x5c8d88);return this['_index'][_0x5c8d88['name']]=_0x34584e-(-0x1538+0x2*-0x6fb+0x232f),this['_urlIndex'][_0x5c8d88['url']]=_0x34584e-(-0xa33+0x285*0x1+0x7af),!(-0x1ed*0x1+0xef*-0x16+0x1677);}['find'](_0x519f10){return this['_index']['hasOwnProp'+'erty'](_0x519f10)?this['_list'][this['_index'][_0x519f10]]:null;}['findByUrl'](_0x1afa08){return this['_urlIndex']['hasOwnProp'+'erty'](_0x1afa08)?this['_list'][this['_urlIndex'][_0x1afa08]]:null;}['remove'](_0x44525d){if(this['_index']['hasOwnProp'+'erty'](_0x44525d)){const _0x1061f1=this['_index'][_0x44525d];let _0x3dc1ae=this['_list'][_0x1061f1];delete this['_urlIndex'][_0x3dc1ae['url']],delete this['_index'][_0x44525d],this['_list']['splice'](_0x1061f1,-0x49*0x25+0xdc1*0x1+0x15*-0x27);for(let _0xc6695e=0x22f6+-0x1873+0x9*-0x12b;_0xc6695e<this['_list']['length'];_0xc6695e++)_0x3dc1ae=this['_list'][_0xc6695e],this['_index'][_0x3dc1ae['name']]=_0xc6695e,this['_urlIndex'][_0x3dc1ae['url']]=_0xc6695e;}}['_loadScene'+'Data'](_0x25f5b9,_0x3c1ef1,_0xe90b40){const _0x2fe20f=this['_app'];let _0x2a656a=_0x25f5b9;if(typeof _0x25f5b9=='string'&&(_0x25f5b9=this['findByUrl'](_0x2a656a)||this['find'](_0x2a656a)||new X_('Untitled',_0x2a656a)),_0x2a656a=_0x25f5b9['url'],!_0x2a656a){_0xe90b40('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x25f5b9['loaded']){_0xe90b40(null,_0x25f5b9);return;}_0x2fe20f['assets']&&_0x2fe20f['assets']['prefix']&&!ka['test'](_0x2a656a)&&(_0x2a656a=me['join'](_0x2fe20f['assets']['prefix'],_0x2a656a)),_0x25f5b9['_onLoadedC'+'allbacks']['push'](_0xe90b40),_0x25f5b9['_loading']||_0x2fe20f['loader']['getHandler']('hierarchy')['load'](_0x2a656a,(_0x33a44e,_0x4dd752)=>{_0x25f5b9['data']=_0x4dd752,_0x25f5b9['_loading']=!(-0x14c7+0x259*-0x5+0x2085);for(let _0x1a1022=0x107b*0x1+0x1006*-0x1+-0x75;_0x1a1022<_0x25f5b9['_onLoadedC'+'allbacks']['length'];_0x1a1022++)_0x25f5b9['_onLoadedC'+'allbacks'][_0x1a1022](_0x33a44e,_0x25f5b9);_0x3c1ef1||(_0x25f5b9['data']=null),_0x25f5b9['_onLoadedC'+'allbacks']['length']=0x11e3+-0x1ab*0x16+0x12cf;}),_0x25f5b9['_loading']=!(0x2*0xdf1+-0xf87+-0xc5b);}['loadSceneD'+'ata'](_0x4d1a52,_0x34e024){this['_loadScene'+'Data'](_0x4d1a52,!(-0x1*0x2582+0x1153*-0x2+-0x2*-0x2414),_0x34e024);}['unloadScen'+'eData'](_0x6b1ce0){typeof _0x6b1ce0=='string'&&(_0x6b1ce0=this['findByUrl'](_0x6b1ce0)),_0x6b1ce0&&(_0x6b1ce0['data']=null);}['_loadScene'+'Hierarchy'](_0x5c6162,_0x219049,_0x5e2c1f){this['_loadScene'+'Data'](_0x5c6162,!(-0x5d*0x4c+-0x248*0x3+0x2275),(_0x52024e,_0x1806fa)=>{if(_0x52024e){_0x5e2c1f&&_0x5e2c1f(_0x52024e);return;}_0x219049&&_0x219049(_0x1806fa);const _0x47368b=this['_app'],_0x593015=()=>{const _0x28527a=_0x47368b['loader']['getHandler']('hierarchy');_0x47368b['systems']['script']['preloading']=!(0x1*-0xa25+0x8a3+0xc1*0x2);const _0x2389e6=_0x28527a['open'](_0x1806fa['url'],_0x1806fa['data']);_0x47368b['systems']['script']['preloading']=!(-0xec4+-0x3*0x7c7+0x261a),_0x47368b['loader']['clearCache'](_0x1806fa['url'],'hierarchy'),_0x47368b['root']['addChild'](_0x2389e6),_0x47368b['systems']['fire']('initialize',_0x2389e6),_0x47368b['systems']['fire']('postInitia'+'lize',_0x2389e6),_0x47368b['systems']['fire']('postPostIn'+'itialize',_0x2389e6),_0x5e2c1f&&_0x5e2c1f(null,_0x2389e6);};_0x47368b['_preloadSc'+'ripts'](_0x1806fa['data'],_0x593015);});}['loadSceneH'+'ierarchy'](_0x209f73,_0x23ca0a){this['_loadScene'+'Hierarchy'](_0x209f73,null,_0x23ca0a);}['loadSceneS'+'ettings'](_0x421f4c,_0x564505){this['_loadScene'+'Data'](_0x421f4c,!(-0xf*-0x20b+-0x1083+-0xe21),(_0x23ddf0,_0x13035f)=>{_0x23ddf0?_0x564505&&_0x564505(_0x23ddf0):(this['_app']['applyScene'+'Settings'](_0x13035f['data']['settings']),_0x564505&&_0x564505(null));});}['changeScen'+'e'](_0x377f42,_0x5ca6da){const _0xc61ed6=this['_app'],_0x22e55e=_0x27ab33=>{const {children:_0x3f30f8}=_0xc61ed6['root'];for(;_0x3f30f8['length'];)_0x3f30f8[0xc05+0x1*-0x1993+-0x15b*-0xa]['destroy']();_0xc61ed6['applyScene'+'Settings'](_0x27ab33['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x377f42,_0x22e55e,_0x5ca6da);}['loadScene'](_0x55f848,_0x38eece){const _0x19511e=this['_app'],_0x19b5cf=_0x19511e['loader']['getHandler']('scene');_0x19511e['assets']&&_0x19511e['assets']['prefix']&&!ka['test'](_0x55f848)&&(_0x55f848=me['join'](_0x19511e['assets']['prefix'],_0x55f848)),_0x19b5cf['load'](_0x55f848,(_0x57c54c,_0x4edd69)=>{if(_0x57c54c)_0x38eece&&_0x38eece(_0x57c54c);else{const _0x2af3ce=()=>{_0x19511e['systems']['script']['preloading']=!(0x4*0x751+-0xd81+-0xfc3);const _0x3ea8c6=_0x19b5cf['open'](_0x55f848,_0x4edd69),_0x59f627=this['findByUrl'](_0x55f848);_0x59f627&&!_0x59f627['loaded']&&(_0x59f627['data']=_0x4edd69),_0x19511e['systems']['script']['preloading']=!(0x110f*0x1+-0x1*-0xd8f+-0x1e9d),_0x19511e['loader']['clearCache'](_0x55f848,'scene'),_0x19511e['loader']['patch']({'resource':_0x3ea8c6,'type':'scene'},_0x19511e['assets']),_0x19511e['root']['addChild'](_0x3ea8c6['root']),_0x19511e['systems']['rigidbody']&&typeof Ammo<'u'&&_0x19511e['systems']['rigidbody']['gravity']['set'](_0x3ea8c6['_gravity']['x'],_0x3ea8c6['_gravity']['y'],_0x3ea8c6['_gravity']['z']),_0x38eece&&_0x38eece(null,_0x3ea8c6);};_0x19511e['_preloadSc'+'ripts'](_0x4edd69,_0x2af3ce);}});}}class fP{constructor(_0x3033dd){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x3033dd['_shaderSta'+'ts'],this['vram']=_0x3033dd['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return sn()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x11d52e;return(_0x11d52e=sn()['lightmappe'+'r'])==null?void(0x117d+0xc9b+-0x1e18):_0x11d52e['stats'];}get['batcher'](){const _0x1c969c=sn()['_batcher'];return _0x1c969c?_0x1c969c['_stats']:null;}}const Hr=class Hr extends de{constructor(_0x1a8aa1){super(),c(this,'_batcher',null),c(this,'_destroyRe'+'quested',!(-0x1f14*-0x1+-0x221a+0x307)),c(this,'_inFrameUp'+'date',!(-0x2*-0x949+-0x73*0x42+0xb15*0x1)),c(this,'_libraries'+'Loaded',!(-0xce*-0x1e+-0xeea+0x3*-0x313)),c(this,'_fillMode',G_),c(this,'_resolutio'+'nMode',X1),c(this,'_allowResi'+'ze',!(-0x10f+0x1eeb+-0x1ddc)),c(this,'_skyboxAss'+'et',null),c(this,'_soundMana'+'ger'),c(this,'_visibilit'+'yChangeHan'+'dler'),c(this,'_entityInd'+'ex',{}),c(this,'_inTools',!(0xacd+0x155b*0x1+-0x2027)),c(this,'_scriptPre'+'fix',''),c(this,'_time',0x1*0x1395+-0x1*0x141e+-0x1*-0x89),c(this,'enableBund'+'les',typeof TextDecoder<'u'),c(this,'frameReque'+'stId'),c(this,'timeScale',-0xec3+0x551*0x6+-0x1122),c(this,'maxDeltaTi'+'me',-0x11e1+-0x1a7*0x1+0x1388+0.1),c(this,'frame',0xb71+0x11b1+-0x9b6*0x3),c(this,'frameGraph',new j1()),c(this,'renderer'),c(this,'scriptsOrd'+'er',[]),c(this,'stats'),c(this,'autoRender',!(-0x1c27+0x761*-0x1+-0x2388*-0x1)),c(this,'renderNext'+'Frame',!(0x271*-0xd+-0x2*0xffb+0x54f*0xc)),c(this,'graphicsDe'+'vice'),c(this,'root'),c(this,'scene'),c(this,'lightmappe'+'r',null),c(this,'loader',new _a(this)),c(this,'assets'),c(this,'bundles'),c(this,'scenes',new uP(this)),c(this,'scripts',new lP(this)),c(this,'systems',new iP()),c(this,'i18n',new oP(this)),c(this,'keyboard',null),c(this,'mouse',null),c(this,'touch',null),c(this,'gamepads',null),c(this,'elementInp'+'ut',null),c(this,'xr',null),((ho==null?void(0x127*-0xe+0xce*-0x6+0x14f6):ho['indexOf']('$'))<-0x6*0x521+0x2*0x5ad+0x136c&&b['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+ho+'\x20'+iy),Hr['_applicati'+'ons'][_0x1a8aa1['id']]=this,Ku(this),this['root']=new je(),this['root']['_enabledIn'+'Hierarchy']=!(0xa99*-0x1+-0x589+0x1*0x1022));}['init'](_0x22eef8){const {assetPrefix:_0x1a1aad,batchManager:_0x30b241,componentSystems:_0x53a2e4,elementInput:_0x4f6613,gamepads:_0x5ee0cc,graphicsDevice:_0x35467c,keyboard:_0x7d9d4d,lightmapper:_0x4961b4,mouse:_0x44f282,resourceHandlers:_0x55bf85,scriptsOrder:_0x53949d,scriptPrefix:_0x481822,soundManager:_0x410085,touch:_0x599aa9,xr:_0x2ec4c2}=_0x22eef8;b['assert'](_0x35467c,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x35467c,this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new fP(_0x35467c),this['_soundMana'+'ger']=_0x410085,this['scene']=new mi(_0x35467c),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new co(this['loader']),_0x1a1aad&&(this['assets']['prefix']=_0x1a1aad),this['bundles']=new sP(this['assets']),this['scriptsOrd'+'er']=_0x53949d||[],this['defaultLay'+'erWorld']=new Fr({'name':'World','id':zi}),this['defaultLay'+'erDepth']=new Fr({'name':'Depth','id':es,'enabled':!(0x509*0x4+0x1de6+-0x3209),'opaqueSortMode':_h}),this['defaultLay'+'erSkybox']=new Fr({'name':'Skybox','id':Ap,'opaqueSortMode':_h}),this['defaultLay'+'erUi']=new Fr({'name':'UI','id':nl,'transparentSortMode':Zb}),this['defaultLay'+'erImmediat'+'e']=new Fr({'name':'Immediate','id':Ep,'opaqueSortMode':_h});const _0x56532e=new v_('default');_0x56532e['pushOpaque'](this['defaultLay'+'erWorld']),_0x56532e['pushOpaque'](this['defaultLay'+'erDepth']),_0x56532e['pushOpaque'](this['defaultLay'+'erSkybox']),_0x56532e['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x56532e['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x56532e['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x56532e['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x56532e,qr['createPlac'+'eholder'](_0x35467c),this['renderer']=new Xh(_0x35467c),this['renderer']['scene']=this['scene'],_0x4961b4&&(this['lightmappe'+'r']=new _0x4961b4(_0x35467c,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x30b241&&(this['_batcher']=new _0x30b241(_0x35467c,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x7d9d4d||null,this['mouse']=_0x44f282||null,this['touch']=_0x599aa9||null,this['gamepads']=_0x5ee0cc||null,_0x4f6613&&(this['elementInp'+'ut']=_0x4f6613,this['elementInp'+'ut']['app']=this),this['xr']=_0x2ec4c2?new _0x2ec4c2(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x481822||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new nP(this)),_0x55bf85['forEach'](_0x59aa82=>{const _0x5532c5=new _0x59aa82(this);this['loader']['addHandler'](_0x5532c5['handlerTyp'+'e'],_0x5532c5);}),_0x53a2e4['forEach'](_0x231cf8=>{this['systems']['add'](new _0x231cf8(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x1cbe+0x2396+-0x6d8)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x626+-0x2a1*0xa+0x2071))):document['mozHidden']!==void(0xa43+0x1727+-0x216a)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xd*-0x6b+-0x1*-0x93b+-0xea9))):document['msHidden']!==void(-0x1*-0x14f+-0x1307+0x11b8)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x6b6*-0x1+0x2685+0x169d*-0x2))):document['webkitHidd'+'en']!==void(-0x2c9*-0xa+-0x179f+-0x43b)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x289*0x2+0x1137+-0x1648)))),this['tick']=pP(this);}static['getApplica'+'tion'](_0x12d8fd){return _0x12d8fd?Hr['_applicati'+'ons'][_0x12d8fd]:sn();}['_initDefau'+'ltMaterial'](){const _0x3e8480=new _s();_0x3e8480['name']='Default\x20Ma'+'terial',iC(this['graphicsDe'+'vice'],_0x3e8480);}['_initProgr'+'amLibrary'](){const _0x2a1afe=new L1(this['graphicsDe'+'vice'],new _s());$E(this['graphicsDe'+'vice'],_0x2a1afe);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return b['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x3292dd,_0x4103b3){Ye['get'](_0x3292dd,(_0x1d21d3,_0xa38bf4)=>{if(_0x1d21d3){_0x4103b3(_0x1d21d3);return;}const _0x33423f=_0xa38bf4['applicatio'+'n_properti'+'es'],_0x1cb884=_0xa38bf4['scenes'],_0x3940f6=_0xa38bf4['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x33423f,_0x59ca75=>{this['_parseScen'+'es'](_0x1cb884),this['_parseAsse'+'ts'](_0x3940f6),_0x4103b3(_0x59ca75||null);});});}['preload'](_0x4a3f19){this['fire']('preload:st'+'art');const _0x5e2e58=this['assets']['list']({'preload':!(-0xb*0x2d1+-0x3e*-0x2f+0x1399)});if(_0x5e2e58['length']===0x742*-0x4+-0x6cd*-0x3+0x8a1){this['fire']('preload:en'+'d'),_0x4a3f19();return;}let _0x30921c=-0xc3e+0x297*0xe+0x74*-0x35;const _0x5bbde2=()=>{_0x30921c++,this['fire']('preload:pr'+'ogress',_0x30921c/_0x5e2e58['length']),_0x30921c===_0x5e2e58['length']&&(this['fire']('preload:en'+'d'),_0x4a3f19());};_0x5e2e58['forEach'](_0x5cf955=>{_0x5cf955['loaded']?_0x5bbde2():(_0x5cf955['once']('load',_0x5bbde2),_0x5cf955['once']('error',_0x5bbde2),this['assets']['load'](_0x5cf955));});}['_preloadSc'+'ripts'](_0x2fbaf0,_0x2335f5){_0x2335f5();}['_parseAppl'+'icationPro'+'perties'](_0xc48c06,_0x4aefcd){if(typeof _0xc48c06['maxAssetRe'+'tries']=='number'&&_0xc48c06['maxAssetRe'+'tries']>0x95f+0x1*-0x2149+-0x1*-0x17ea&&this['loader']['enableRetr'+'y'](_0xc48c06['maxAssetRe'+'tries']),_0xc48c06['useDeviceP'+'ixelRatio']||(_0xc48c06['useDeviceP'+'ixelRatio']=_0xc48c06['use_device'+'_pixel_rat'+'io']),_0xc48c06['resolution'+'Mode']||(_0xc48c06['resolution'+'Mode']=_0xc48c06['resolution'+'_mode']),_0xc48c06['fillMode']||(_0xc48c06['fillMode']=_0xc48c06['fill_mode']),this['_width']=_0xc48c06['width'],this['_height']=_0xc48c06['height'],_0xc48c06['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0xc48c06['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0xc48c06['fillMode'],this['_width'],this['_height']),_0xc48c06['layers']&&_0xc48c06['layerOrder']){const _0x3cdaf6=new v_('applicatio'+'n'),_0x452db1={};for(const _0x4d210f in _0xc48c06['layers']){const _0x38bf64=_0xc48c06['layers'][_0x4d210f];_0x38bf64['id']=parseInt(_0x4d210f,0x26ad+0x227a+-0x491d),_0x38bf64['enabled']=_0x38bf64['id']!==es,_0x452db1[_0x4d210f]=new Fr(_0x38bf64);}for(let _0xaac598=-0x216e*0x1+-0xd*0x3b+0x246d,_0x4c2ee6=_0xc48c06['layerOrder']['length'];_0xaac598<_0x4c2ee6;_0xaac598++){const _0x1187d5=_0xc48c06['layerOrder'][_0xaac598],_0x548854=_0x452db1[_0x1187d5['layer']];_0x548854&&(_0x1187d5['transparen'+'t']?_0x3cdaf6['pushTransp'+'arent'](_0x548854):_0x3cdaf6['pushOpaque'](_0x548854),_0x3cdaf6['subLayerEn'+'abled'][_0xaac598]=_0x1187d5['enabled']);}this['scene']['layers']=_0x3cdaf6;}if(_0xc48c06['batchGroup'+'s']){const _0x5a2bf1=this['batcher'];if(_0x5a2bf1)for(let _0x4bb2d9=0x2*-0x116+-0x1a30+-0x16b*-0x14,_0x52e76c=_0xc48c06['batchGroup'+'s']['length'];_0x4bb2d9<_0x52e76c;_0x4bb2d9++){const _0xf2e659=_0xc48c06['batchGroup'+'s'][_0x4bb2d9];_0x5a2bf1['addGroup'](_0xf2e659['name'],_0xf2e659['dynamic'],_0xf2e659['maxAabbSiz'+'e'],_0xf2e659['id'],_0xf2e659['layers']);}}_0xc48c06['i18nAssets']&&(this['i18n']['assets']=_0xc48c06['i18nAssets']),this['_loadLibra'+'ries'](_0xc48c06['libraries'],_0x4aefcd);}['_loadLibra'+'ries'](_0x523822,_0x418e1f){const _0x23caa9=_0x523822['length'];let _0x3eeea9=_0x23caa9;const _0x504ce4=/^https?:\/\//;if(_0x23caa9){const _0x3cfb9a=(_0x364bfd,_0x4b762d)=>{_0x3eeea9--,_0x364bfd?_0x418e1f(_0x364bfd):_0x3eeea9===0x108*-0x21+-0x559*-0x6+0xf9*0x2&&(this['onLibrarie'+'sLoaded'](),_0x418e1f(null));};for(let _0x1ee2ac=-0x16c*-0x2+0x1ed2+-0x21aa;_0x1ee2ac<_0x23caa9;++_0x1ee2ac){let _0x142982=_0x523822[_0x1ee2ac];!_0x504ce4['test'](_0x142982['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x142982=me['join'](this['_scriptPre'+'fix'],_0x142982)),this['loader']['load'](_0x142982,'script',_0x3cfb9a);}}else this['onLibrarie'+'sLoaded'](),_0x418e1f(null);}['_parseScen'+'es'](_0x4cb35d){if(_0x4cb35d){for(let _0x3470ba=-0x12b9+-0x1a99+0x2d52;_0x3470ba<_0x4cb35d['length'];_0x3470ba++)this['scenes']['add'](_0x4cb35d[_0x3470ba]['name'],_0x4cb35d[_0x3470ba]['url']);}}['_parseAsse'+'ts'](_0x4ba989){const _0x531bc1=[],_0x4f0248={},_0x2bb0b6={};for(let _0x2861c7=-0x1*0x184f+0x77*-0x9+-0x7*-0x412;_0x2861c7<this['scriptsOrd'+'er']['length'];_0x2861c7++){const _0x2220c7=this['scriptsOrd'+'er'][_0x2861c7];_0x4ba989[_0x2220c7]&&(_0x4f0248[_0x2220c7]=!(0x1*-0x114a+-0x1f85+-0x30cf*-0x1),_0x531bc1['push'](_0x4ba989[_0x2220c7]));}if(this['enableBund'+'les']){for(const _0x32f70e in _0x4ba989)_0x4ba989[_0x32f70e]['type']==='bundle'&&(_0x2bb0b6[_0x32f70e]=!(-0x5f3*0x1+-0x315*-0x8+-0x12b5),_0x531bc1['push'](_0x4ba989[_0x32f70e]));}for(const _0x24da6d in _0x4ba989)_0x4f0248[_0x24da6d]||_0x2bb0b6[_0x24da6d]||_0x531bc1['push'](_0x4ba989[_0x24da6d]);for(let _0x49b1eb=0x1f1*0x11+0x1df4+-0xe3*0x47;_0x49b1eb<_0x531bc1['length'];_0x49b1eb++){const _0x3904f3=_0x531bc1[_0x49b1eb],_0x59893a=new he(_0x3904f3['name'],_0x3904f3['type'],_0x3904f3['file'],_0x3904f3['data']);if(_0x59893a['id']=parseInt(_0x3904f3['id'],0xc13*0x2+-0x2048+0x82c),_0x59893a['preload']=_0x3904f3['preload']?_0x3904f3['preload']:!(-0x113f+0x22b7*-0x1+0x33f7),_0x59893a['loaded']=_0x3904f3['type']==='script'&&_0x3904f3['data']&&_0x3904f3['data']['loadingTyp'+'e']>0x212a+-0x131e+0x3e*-0x3a,_0x59893a['tags']['add'](_0x3904f3['tags']),_0x3904f3['i18n']){for(const _0x2c2146 in _0x3904f3['i18n'])_0x59893a['addLocaliz'+'edAssetId'](_0x2c2146,_0x3904f3['i18n'][_0x2c2146]);}this['assets']['add'](_0x59893a);}}['start'](){b['call'](()=>{b['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x26bf+-0xb63*0x1+-0x1*-0x3222);}),this['frame']=-0x25b5*-0x1+-0x6b9*0x1+-0x1efc,this['fire']('start',{'timestamp':ae(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x244dcb){this['controller']&&this['controller']['update'](_0x244dcb),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x3b4a51){this['frame']++,this['graphicsDe'+'vice']['updateClie'+'ntRect'](),this['stats']['frame']['updateStar'+'t']=ae(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x3b4a51),this['systems']['fire']('animationU'+'pdate',_0x3b4a51),this['systems']['fire']('postUpdate',_0x3b4a51),this['fire']('update',_0x3b4a51),this['inputUpdat'+'e'](_0x3b4a51),this['stats']['frame']['updateTime']=ae()-this['stats']['frame']['updateStar'+'t'];}['frameStart'](){this['graphicsDe'+'vice']['frameStart']();}['frameEnd'](){this['graphicsDe'+'vice']['frameEnd']();}['render'](){this['stats']['frame']['renderStar'+'t']=ae(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),Xh['_skipRende'+'rCounter']=-0x49*0x1+-0x1*0x1819+0x1862,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=ae()-this['stats']['frame']['renderStar'+'t'];}['renderComp'+'osition'](_0x3aa899){G['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x3aa899),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x3aa899),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x3408a4,_0x45cfcc,_0x5c2990){const _0x21be61=this['stats']['frame'];_0x21be61['dt']=_0x45cfcc,_0x21be61['ms']=_0x5c2990,_0x3408a4>_0x21be61['_timeToCou'+'ntFrames']?(_0x21be61['fps']=_0x21be61['_fpsAccum'],_0x21be61['_fpsAccum']=-0x1037+0x8aa+0x78d,_0x21be61['_timeToCou'+'ntFrames']=_0x3408a4+(-0x1*0x2243+-0x381+0x29ac)):_0x21be61['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x1d34+-0x22c2+0x58e;}['_fillFrame'+'Stats'](){let _0x170d55=this['stats']['frame'];_0x170d55['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x170d55['materials']=this['renderer']['_materialS'+'witches'],_0x170d55['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x170d55['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x170d55['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x170d55['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x170d55['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x129435=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x170d55['triangles']=_0x129435[Fs]/(0x5de*-0x1+-0x25d4+0x2bb5)+Math['max'](_0x129435[lr]-(0xe06+0xb*-0x303+-0x131d*-0x1),0x22a9+-0x34*0xc+-0x2039)+Math['max'](_0x129435[Kr]-(0x2b7+0xf3*-0x16+-0x3*-0x60f),0x91*0x43+0xc1b+-0x320e*0x1),_0x170d55['cullTime']=this['renderer']['_cullTime'],_0x170d55['sortTime']=this['renderer']['_sortTime'],_0x170d55['skinTime']=this['renderer']['_skinTime'],_0x170d55['morphTime']=this['renderer']['_morphTime'],_0x170d55['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x170d55['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x170d55['otherPrimi'+'tives']=0x8ec+-0x183b*0x1+0xf4f*0x1;for(let _0x38f788=-0x19aa+0x437+0x1573;_0x38f788<_0x129435['length'];_0x38f788++)_0x38f788<Fs&&(_0x170d55['otherPrimi'+'tives']+=_0x129435[_0x38f788]),_0x129435[_0x38f788]=-0x257e+-0x12f*0x9+-0x1a9*-0x1d;this['renderer']['_camerasRe'+'ndered']=-0x23ee+-0x128a+0x3678,this['renderer']['_materialS'+'witches']=0xb1+-0x1a*0x4a+0x6d3,this['renderer']['_shadowMap'+'Updates']=-0x20fc+0x2*0x245+0x1c72,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x1f61+0x2410+-0x4371,this['renderer']['_cullTime']=0x1*0x1323+0x2d2*0xc+-0xb*0x4d1,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=-0x20f7+0x1b62+0x595,this['renderer']['_lightClus'+'tersTime']=0x218f+-0x15e7+-0xba8,this['renderer']['_sortTime']=-0x1*-0x2285+-0x1490+-0xdf5,this['renderer']['_skinTime']=0x1*0xab9+-0xae3+-0x6*-0x7,this['renderer']['_morphTime']=0x1d*0xef+0xf2f+0x1*-0x2a42,this['renderer']['_shadowMap'+'Time']=-0x1a60+0x872+0x11ee,this['renderer']['_depthMapT'+'ime']=0x1*-0x62f+-0x3*0x9e7+0x8f9*0x4,this['renderer']['_forwardTi'+'me']=0x66*-0x50+-0x5c6*-0x6+-0x2c4,_0x170d55=this['stats']['drawCalls'],_0x170d55['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x170d55['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x170d55['depth']=-0x20fc+0x35*-0x1b+-0x1*-0x2693,_0x170d55['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x170d55['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x170d55['immediate']=0x5c5+-0x74a+0x1*0x185,_0x170d55['instanced']=0x28*0xeb+-0x1bb*0x1+-0x22fd,_0x170d55['removedByI'+'nstancing']=-0xab+-0x2*0xa7f+-0x5*-0x455,_0x170d55['misc']=_0x170d55['total']-(_0x170d55['forward']+_0x170d55['shadow']),this['renderer']['_depthDraw'+'Calls']=0xd9*-0x20+-0x51a*0x1+0x203a,this['renderer']['_shadowDra'+'wCalls']=-0x507+-0x49*-0x25+-0x2c3*0x2,this['renderer']['_forwardDr'+'awCalls']=0x3c*-0x1b+0x1135+-0x22d*0x5,this['renderer']['_numDrawCa'+'llsCulled']=0x1cd2+-0x1833+-0x49f,this['renderer']['_skinDrawC'+'alls']=0x22fa+-0xdd2+0x2a5*-0x8,this['renderer']['_immediate'+'Rendered']=-0x1553+0xc*0x1f1+-0x1f9,this['renderer']['_instanced'+'DrawCalls']=0x5*-0x86+-0x822*0x2+0x12e2,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x170d55=this['stats']['particles'],_0x170d55['updatesPer'+'Frame']=_0x170d55['_updatesPe'+'rFrame'],_0x170d55['frameTime']=_0x170d55['_frameTime'],_0x170d55['_updatesPe'+'rFrame']=0x4e*0x6c+-0x76e*-0x3+0x5*-0xb0a,_0x170d55['_frameTime']=-0x1609+-0x1*0xf47+0x2550;}['setCanvasF'+'illMode'](_0x407fb0,_0x3dd02e,_0x4f7e44){this['_fillMode']=_0x407fb0,this['resizeCanv'+'as'](_0x3dd02e,_0x4f7e44);}['setCanvasR'+'esolution'](_0x530df4,_0x32cf8d,_0x10afa7){this['_resolutio'+'nMode']=_0x530df4,_0x530df4===H_&&_0x32cf8d===void(0x1d18+-0x17*-0x1c+-0x7e7*0x4)&&(_0x32cf8d=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x10afa7=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x32cf8d,_0x10afa7);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x209fc8,_0x277c10){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x3cc209=window['innerWidth'],_0x360b6b=window['innerHeigh'+'t'];if(this['_fillMode']===G_){const _0x341f9c=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x1c89ec=_0x3cc209/_0x360b6b;_0x341f9c>_0x1c89ec?(_0x209fc8=_0x3cc209,_0x277c10=_0x209fc8/_0x341f9c):(_0x277c10=_0x360b6b,_0x209fc8=_0x277c10*_0x341f9c);}else this['_fillMode']===q1&&(_0x209fc8=_0x3cc209,_0x277c10=_0x360b6b);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x209fc8+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x277c10+'px',this['updateCanv'+'asSize'](),{'width':_0x209fc8,'height':_0x277c10};}['updateCanv'+'asSize'](){var _0x21bf4b;if(!(!this['_allowResi'+'ze']||(_0x21bf4b=this['xr'])!=null&&_0x21bf4b['active'])&&this['_resolutio'+'nMode']===H_){const _0x505a14=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x505a14['clientWidt'+'h'],_0x505a14['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1d64+-0xb35*-0x1+0x122f),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x488465){let _0x6457a4;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x3d95ec,_0x1d3d6e,_0xed37a4]=_0x488465['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x3d95ec,_0x1d3d6e,_0xed37a4);}this['scene']['applySetti'+'ngs'](_0x488465),_0x488465['render']['hasOwnProp'+'erty']('skybox')&&(_0x488465['render']['skybox']?(_0x6457a4=this['assets']['get'](_0x488465['render']['skybox']),_0x6457a4?this['setSkybox'](_0x6457a4):this['assets']['once']('add:'+_0x488465['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x30a4b9,_0x5ebe2e){_0x30a4b9&&_0x5ebe2e?qr['set'](this['graphicsDe'+'vice'],_0x30a4b9,_0x5ebe2e):b['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x38ea46){if(_0x38ea46!==this['_skyboxAss'+'et']){const _0x459872=()=>{this['setSkybox'](null);},_0x3617ea=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x3617ea,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x459872,this),this['_skyboxAss'+'et']['off']('change',_0x3617ea,this)),this['_skyboxAss'+'et']=_0x38ea46,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x3617ea,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x459872,this),this['_skyboxAss'+'et']['on']('change',_0x3617ea,this),this['scene']['skyboxMip']===-0xd21*-0x1+-0x75a*0x4+0x1047&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x1d74+0x1*0x1d7b+-0x3aef)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x3617ea();}}['_firstBake'](){var _0x2f7238;(_0x2f7238=this['lightmappe'+'r'])==null||_0x2f7238['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x18ad9f;(_0x18ad9f=this['batcher'])==null||_0x18ad9f['generate']();}['_processTi'+'mestamp'](_0x3d13e7){return _0x3d13e7;}['drawLine'](_0x1c27d7,_0x133df3,_0xfc0b5e,_0x242fd6,_0x26230b){this['scene']['drawLine'](_0x1c27d7,_0x133df3,_0xfc0b5e,_0x242fd6,_0x26230b);}['drawLines'](_0x3391ec,_0x31143e,_0x1e6ae3=!(0x4e5*-0x7+-0xa*-0x2d8+-0x15*-0x47),_0x3ed9ad=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x3391ec,_0x31143e,_0x1e6ae3,_0x3ed9ad);}['drawLineAr'+'rays'](_0x300365,_0x3d533a,_0x488657=!(-0xe76+0x1de3*-0x1+0x2c59),_0x583e3f=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x300365,_0x3d533a,_0x488657,_0x583e3f);}['drawWireSp'+'here'](_0x524e06,_0x3e3056,_0x2de01c=Y['WHITE'],_0x317d49=-0x2*-0x1231+0x4c0+0x290e*-0x1,_0x476598=!(0x55*-0x29+-0x1c04+0x1*0x29a1),_0x382627=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x524e06,_0x3e3056,_0x2de01c,_0x317d49,_0x476598,_0x382627);}['drawWireAl'+'ignedBox'](_0x1a398f,_0x5293cd,_0x18eaa7=Y['WHITE'],_0x534a1f=!(0x13*0x16b+0x3*-0xcd7+0xb94),_0x180541=this['scene']['defaultDra'+'wLayer'],_0x5e8458){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x1a398f,_0x5293cd,_0x18eaa7,_0x534a1f,_0x180541,_0x5e8458);}['drawMeshIn'+'stance'](_0x134a1f,_0x3dfffc=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x134a1f,_0x3dfffc);}['drawMesh'](_0xd9e14c,_0x4dc97e,_0x290811,_0x6a400=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x4dc97e,_0x290811,_0xd9e14c,null,_0x6a400);}['drawQuad'](_0x57168e,_0xc6156d,_0x55035e=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0xc6156d,_0x57168e,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x55035e);}['drawTextur'+'e'](_0x369037,_0x5f3acc,_0x2c8a5b,_0x1a1b21,_0xa95e99,_0x303970,_0xfabd63=this['scene']['defaultDra'+'wLayer'],_0x20121a=!(-0x18c+0x4c5*0x3+-0xcc3)){if(_0x20121a===!(-0x504+0x1*-0x26d6+0x2bdb)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x5969bb=new q();_0x5969bb['setTRS'](new A(_0x369037,_0x5f3acc,0x14af+-0xf63+-0x1c4*0x3),ie['IDENTITY'],new A(_0x2c8a5b,-_0x1a1b21,-0x957+-0x6fa+-0x1*-0x1051)),_0x303970||(_0x303970=new La(),_0x303970['cull']=vt,_0x303970['setParamet'+'er']('colorMap',_0xa95e99),_0x303970['shaderDesc']=_0x20121a?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0xa95e99['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x303970['update']()),this['drawQuad'](_0x5969bb,_0x303970,_0xfabd63);}['drawDepthT'+'exture'](_0x130510,_0xff5270,_0x141f1d,_0x6a9034,_0x5e5cc5=this['scene']['defaultDra'+'wLayer']){const _0x1ced01=new La();_0x1ced01['cull']=vt,_0x1ced01['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x1ced01['update'](),this['drawTextur'+'e'](_0x130510,_0xff5270,_0x141f1d,_0x6a9034,null,_0x1ced01,_0x5e5cc5);}['destroy'](){var _0x5aad3b,_0x3e5b2a,_0x2f8e6e,_0x2da3ac;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0xf68+0x1*-0x79+-0x1*0xeef);return;}const _0x5cf0c0=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x34c*-0x1+0x2*0xa24+0x1e3*-0x9)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x230b+0x11d*-0x12+0x3716*0x1)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2*0x5e9+0x2057+0x1a*-0xca)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0xbe8+-0x2056+0x1*0x2c3f))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0xaf2899=this['assets']['list']();for(let _0x3a4d6e=0x25e1*0x1+-0xb45*0x1+-0x1a9c;_0x3a4d6e<_0xaf2899['length'];_0x3a4d6e++)_0xaf2899[_0x3a4d6e]['unload'](),_0xaf2899[_0x3a4d6e]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x5047b4=this['loader']['getHandler']('script');_0x5047b4==null||_0x5047b4['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x5aad3b=this['lightmappe'+'r'])==null||_0x5aad3b['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x3e5b2a=this['xr'])==null||_0x3e5b2a['end'](),(_0x2f8e6e=this['xr'])==null||_0x2f8e6e['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x2da3ac=this['_soundMana'+'ger'])==null||_0x2da3ac['destroy'](),this['_soundMana'+'ger']=null,Hr['_applicati'+'ons'][_0x5cf0c0]=null,sn()===this&&Ku(null),Hr['cancelTick'](this);}static['cancelTick'](_0x339d62){_0x339d62['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x339d62['frameReque'+'stId']),_0x339d62['frameReque'+'stId']=void(0x179a+0x2184+0x3*-0x130a));}['getEntityF'+'romIndex'](_0x5d718f){return this['_entityInd'+'ex'][_0x5d718f];}['_registerS'+'ceneImmedi'+'ate'](_0x19a770){this['on']('postrender',_0x19a770['immediate']['onPostRend'+'er'],_0x19a770['immediate']);}};c(Hr,'_applicati'+'ons',{});let Zh=Hr;const Qd={},pP=function(_0x3fac4c){const _0x2e1570=_0x3fac4c;return function(_0x164648,_0x565125){var _0x2a7ea2,_0x1d1fbe,_0x28a977,_0x1a2ff8;if(!_0x2e1570['graphicsDe'+'vice'])return;_0x2e1570['frameReque'+'stId']&&((_0x1d1fbe=(_0x2a7ea2=_0x2e1570['xr'])==null?void(-0x22bb+0x764+0x1b57*0x1):_0x2a7ea2['session'])==null||_0x1d1fbe['cancelAnim'+'ationFrame'](_0x2e1570['frameReque'+'stId']),cancelAnimationFrame(_0x2e1570['frameReque'+'stId']),_0x2e1570['frameReque'+'stId']=null),_0x2e1570['_inFrameUp'+'date']=!(0xab*0x21+-0x1b5*0x13+-0xbe*-0xe),Ku(_0x2e1570);const _0x5624e3=_0x2e1570['_processTi'+'mestamp'](_0x164648)||ae(),_0x2461c8=_0x5624e3-(_0x2e1570['_time']||_0x5624e3);let _0x228cb8=_0x2461c8/(0xef5+-0x2b*0x43+0x34*0x1);if(_0x228cb8=z['clamp'](_0x228cb8,-0x4d*0x65+-0x553+-0xa*-0x392,_0x2e1570['maxDeltaTi'+'me']),_0x228cb8*=_0x2e1570['timeScale'],_0x2e1570['_time']=_0x5624e3,(_0x28a977=_0x2e1570['xr'])!=null&&_0x28a977['session']?_0x2e1570['frameReque'+'stId']=_0x2e1570['xr']['session']['requestAni'+'mationFram'+'e'](_0x2e1570['tick']):_0x2e1570['frameReque'+'stId']=be['browser']||be['worker']?requestAnimationFrame(_0x2e1570['tick']):null,_0x2e1570['graphicsDe'+'vice']['contextLos'+'t'])return;_0x2e1570['_fillFrame'+'StatsBasic'](_0x5624e3,_0x228cb8,_0x2461c8),_0x2e1570['_fillFrame'+'Stats'](),_0x2e1570['fire']('frameupdat'+'e',_0x2461c8);let _0x14d09d=!(0x6*0x17e+0xd+0x1*-0x901);_0x565125?(_0x14d09d=(_0x1a2ff8=_0x2e1570['xr'])==null?void(-0xf05+0x13d*-0xf+0x2198):_0x1a2ff8['update'](_0x565125),_0x2e1570['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x565125['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x2e1570['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,_0x14d09d&&(b['trace'](jx,'----\x20Frame'+'\x20'+_0x2e1570['frame']),b['trace'](nd,'--\x20UpdateS'+'tart\x20'+ae()['toFixed'](-0x1c82+-0x119f*0x1+0x5d*0x7f)+'ms'),_0x2e1570['update'](_0x228cb8),_0x2e1570['fire']('framerende'+'r'),(_0x2e1570['autoRender']||_0x2e1570['renderNext'+'Frame'])&&(b['trace'](nd,'--\x20RenderS'+'tart\x20'+ae()['toFixed'](-0x77b*-0x5+0x2e4+-0x2849)+'ms'),_0x2e1570['updateCanv'+'asSize'](),_0x2e1570['frameStart'](),_0x2e1570['render'](),_0x2e1570['frameEnd'](),_0x2e1570['renderNext'+'Frame']=!(0x1a5+-0x15c8+0x1424),b['trace'](nd,'--\x20RenderE'+'nd\x20'+ae()['toFixed'](0x548+0x120*-0x4+-0xc6)+'ms')),Qd['timestamp']=ae(),Qd['target']=_0x2e1570,_0x2e1570['fire']('frameend',Qd)),_0x2e1570['_inFrameUp'+'date']=!(-0x1bec+0x18c*0xa+0xc75),_0x2e1570['_destroyRe'+'quested']&&_0x2e1570['destroy']();};};class mP{constructor(){c(this,'elementInp'+'ut'),c(this,'keyboard'),c(this,'mouse'),c(this,'touch'),c(this,'gamepads'),c(this,'scriptPref'+'ix'),c(this,'assetPrefi'+'x'),c(this,'scriptsOrd'+'er'),c(this,'soundManag'+'er'),c(this,'graphicsDe'+'vice'),c(this,'lightmappe'+'r'),c(this,'batchManag'+'er'),c(this,'xr'),c(this,'componentS'+'ystems',[]),c(this,'resourceHa'+'ndlers',[]);}}const so=new Bf();class $0{constructor(_0x25f3d7,_0x500af0,_0x2fde9c){this['scene']=_0x25f3d7,this['light']=_0x500af0,this['store'](),_0x500af0['numCascade'+'s']=-0x85*-0x30+0x4*0x12b+0x247*-0xd,this['scene']['clusteredL'+'ightingEna'+'bled']&&(_0x500af0['castShadow'+'s']=_0x500af0['bakeShadow'+'s']&&_0x2fde9c['shadowsEna'+'bled']),_0x500af0['type']!==le&&(_0x500af0['_node']['getWorldTr'+'ansform'](),_0x500af0['getBoundin'+'gSphere'](so),this['lightBound'+'s']=new ve(),this['lightBound'+'s']['center']['copy'](so['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](so['radius'],so['radius'],so['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x3b31f3=this['light'];_0x3b31f3['mask']=this['mask'],_0x3b31f3['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x3b31f3['enabled']=this['enabled'],_0x3b31f3['intensity']=this['intensity'],_0x3b31f3['_node']['setLocalRo'+'tation'](this['rotation']),_0x3b31f3['numCascade'+'s']=this['numCascade'+'s'],_0x3b31f3['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1*-0x17f2+0x129a*0x2+-0x6a1*0x2),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0xabc26e){const _0x3368b5=this['light'];_0x3368b5['enabled']=!(0x786+0x18c4+-0x2049),_0x3368b5['shadowMap']&&(_0x3368b5['shadowMap']['cached']&&_0xabc26e['add'](_0x3368b5,_0x3368b5['shadowMap']),_0x3368b5['shadowMap']=null);}}const jl=new W();class _P extends $0{constructor(_0x3c7f59,_0x22bce5){super(_0x3c7f59['scene'],_0x22bce5,_0x3c7f59['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===le?this['light']['bakeNumSam'+'ples']:0x317*0xa+0x7*-0x2b7+0xbe4*-0x1;}['prepareVir'+'tualLight'](_0x358a5c,_0xf8b3f7){const _0x2e7e25=this['light'];if(_0x2e7e25['_node']['setLocalRo'+'tation'](this['rotation']),_0x358a5c>0x5*0x749+-0x1f*-0xa3+-0x382a){const _0x46efe5=_0x2e7e25['bakeArea'];ul['circlePoin'+'tDetermini'+'stic'](jl,_0x358a5c,_0xf8b3f7),jl['mulScalar'](_0x46efe5*(0x511*0x6+0x2706+-0x5c9*0xc+0.5)),_0x2e7e25['_node']['rotateLoca'+'l'](jl['x'],-0x3cf+0x11ed+-0x2*0x70f,jl['y']);}_0x2e7e25['_node']['getWorldTr'+'ansform']();const _0x5d0c98=0x1ed7+0x602*0x3+-0x30db+0.20000000000000018,_0xcadeb3=Math['pow'](this['intensity'],_0x5d0c98);_0x2e7e25['intensity']=Math['pow'](_0xcadeb3/_0xf8b3f7,(0x1*0x22db+-0x1*-0x1059+-0x3333)/_0x5d0c98);}}const j_=new A();class Y_ extends $0{constructor(_0x1832fe){const _0x50e594=_0x1832fe['scene'],_0x52f895=new je('AmbientLig'+'ht');_0x52f895['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x26d5+0x2243+0x492),'affectLightmapped':!(0x823*0x1+0x1*-0x25be+0x1d9c),'bake':!(-0x1*-0xc9a+0x65b+-0x1*0x12f5),'bakeNumSamples':_0x50e594['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x5*0x28d+-0x1*0x1efc+0x2bbd),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':zt,'color':Y['WHITE'],'intensity':0x1,'bakeDir':!(-0x1516+0x164f+-0x138)}),super(_0x50e594,_0x52f895['light']['light'],_0x1832fe['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x195d94,_0x3ba1c4){ul['spherePoin'+'tDetermini'+'stic'](j_,_0x195d94,_0x3ba1c4,-0x1676+-0x817*-0x1+0xe5f,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](j_['mulScalar'](-(-0x1*-0x8bb+-0x786*0x1+-0x134))),this['light']['_node']['rotateLoca'+'l'](0x1*0xb3+-0x1*0x22d8+-0x227f*-0x1,-0x1241*0x1+-0xcb*-0x24+-0xa4b,-0x5*0x718+-0x22ca*-0x1+0x3*0x3a);const _0xf55be7=-0x1*0x1849+0x3df*-0x5+0x2ba6+0.20000000000000018,_0x3de424=(-0x1eb5*0x1+-0x2003*-0x1+-0x14c)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x406608=Math['pow'](_0x3de424,_0xf55be7);this['light']['intensity']=Math['pow'](_0x406608/_0x3ba1c4,(0x6*-0x2f7+0x622+0xba9)/_0xf55be7);}}class Yl{constructor(_0x12fc68,_0x163f37=null){this['node']=_0x12fc68,this['component']=_0x12fc68['render']||_0x12fc68['model'],_0x163f37=_0x163f37||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x163f37,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const K_=-0x56e+0x1a1e*0x1+-0x14a1;class gP{constructor(_0x4bb84d){this['device']=_0x4bb84d,this['shaderDila'+'te']=Bs(_0x4bb84d,j['fullscreen'+'QuadVS'],Ao['dilatePS'],'lmDilate'),this['constantTe'+'xSource']=_0x4bb84d['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x4bb84d['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(0x19f2+0x10e8+-0x2ad8),this['shaderDeno'+'ise']=[],this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null;}['setSourceT'+'exture'](_0x1614d6){this['constantTe'+'xSource']['setValue'](_0x1614d6);}['prepare'](_0x291f63,_0x915f9b){this['pixelOffse'+'t'][0x53d+0x2138+-0x2675]=(-0x13*-0x39+0x1*-0x412+0x28*-0x1)/_0x291f63,this['pixelOffse'+'t'][-0x24b7+-0x696*0x5+0x45a6]=(-0x1ae6+-0x1d*-0x85+0xbd6)/_0x915f9b,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x5cf95d,_0x542e4c,_0x150004){const _0x4f8bdd=_0x150004?-0x17fe+0x2360+-0x2f*0x3e:-0x1be7+0x582+-0x7a*-0x2f;if(!this['shaderDeno'+'ise'][_0x4f8bdd]){const _0x39f62c='lmBilatera'+'lDeNoise-'+(_0x150004?'hdr':'rgbm'),_0x80f2ad=_0x150004?'#define\x20HD'+'R\x0a':'';this['shaderDeno'+'ise'][_0x4f8bdd]=Bs(this['device'],j['fullscreen'+'QuadVS'],_0x80f2ad+Ao['bilateralD'+'eNoisePS'],_0x39f62c),this['sigmas']=new Float32Array(0x834*0x1+0x1*-0xd06+0x4d4),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1*0x2374+-0xafa+0x1737*0x2]=_0x5cf95d,this['sigmas'][-0xd05+-0x1070+0x1a3*0x12]=_0x542e4c,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x5cf95d,_0x542e4c);}['getDenoise'](_0x3fae22){const _0x2b9ef8=_0x3fae22?-0x63c+0x1fdc+-0x19a0:-0x2437+0x3*0x502+-0xa99*-0x2;return this['shaderDeno'+'ise'][_0x2b9ef8];}['getDilate'](_0x27298d,_0x23de55){const _0x1f56a8=_0x23de55?-0x5*0x1ab+0xb63*-0x1+0x13ba:0xe46+-0x8b*-0x33+0x14fb*-0x2;if(!this['shaderDila'+'te'][_0x1f56a8]){const _0x15ff42='lmDilate-'+(_0x23de55?'hdr':'rgbm'),_0x13ba42=_0x23de55?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x1f56a8]=Bs(_0x27298d,j['fullscreen'+'QuadVS'],_0x13ba42+Ao['dilatePS'],_0x15ff42);}return this['shaderDila'+'te'][_0x1f56a8];}['evaluateDe'+'noiseUnifo'+'rms'](_0x356138,_0x1153e9){function _0x49bc29(_0x261fc6,_0x54e565){return(-0x1*0x2149+-0x5b9+-0x2*-0x1381+0.39894)*Math['exp'](-(0x15d+0x1e60+0xd*-0x271+0.5)*_0x261fc6*_0x261fc6/(_0x54e565*_0x54e565))/_0x54e565;}this['kernel']=this['kernel']||new Float32Array(K_);const _0x175883=this['kernel'],_0x34713d=Math['floor']((K_-(0x3*-0x1b7+0x355*-0x9+-0x23*-0x101))/(0x250*0xf+0x1d*0x7a+0x1840*-0x2));for(let _0x5957b3=0x18f+-0x7d*-0x4d+-0x2728;_0x5957b3<=_0x34713d;++_0x5957b3){const _0x3b1f15=_0x49bc29(_0x5957b3,_0x356138);_0x175883[_0x34713d+_0x5957b3]=_0x3b1f15,_0x175883[_0x34713d-_0x5957b3]=_0x3b1f15;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x5b1667=(-0x5ee+0x5*-0x101+-0xaf4*-0x1)/_0x49bc29(0x2*0x30b+-0x22*0x2f+0x28,_0x1153e9);this['bZnorm']['setValue'](_0x5b1667);}}class yP extends gs{constructor(_0x4a50fc,_0x635f49,_0x295bbb,_0x310c88,_0x2b37d4,_0x4eb8de){super(_0x4a50fc),c(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x635f49,this['camera']=_0x295bbb,this['worldClust'+'ers']=_0x310c88,this['receivers']=_0x2b37d4,this['lightArray']=_0x4eb8de);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x13f5ee=>{_0x13f5ee['defaultUni'+'formBuffer']['destroy'](),_0x13f5ee['destroy']();}),this['viewBindGr'+'oups']['length']=0xa4f*0x3+-0x14a1+-0xa4c;}['execute'](){const _0x3aecc0=this['device'];G['pushGpuMar'+'ker'](_0x3aecc0,'Lightmappe'+'r');const {renderer:_0x12f0d4,camera:_0x223522,receivers:_0x5d8e9c,renderTarget:_0x4316d2,worldClusters:_0x12edfd,lightArray:_0x17ed18}=this;_0x12f0d4['renderForw'+'ardLayer'](_0x223522,_0x4316d2,null,void(0x2630+0xb18+-0x3148),xn,this['viewBindGr'+'oups'],{'meshInstances':_0x5d8e9c,'splitLights':_0x17ed18,'lightClusters':_0x12edfd}),G['popGpuMark'+'er'](_0x3aecc0);}}const xP=0x1*-0x1e79+0x1ecb+0x7ae,SP=0x2477+-0x77e+-0x1*0x1cf9,vP=0x2381+-0xa3+0x4b*-0x77,Kl=new A();class bP{constructor(_0x452d72,_0x187cc0,_0x466367,_0x4179d0,_0x2bdb0f){this['device']=_0x452d72,this['root']=_0x187cc0,this['scene']=_0x466367,this['renderer']=_0x4179d0,this['assets']=_0x2bdb0f,this['shadowMapC'+'ache']=_0x4179d0['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0xdd7+-0x211*-0x6+-0x5*-0x4a),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new Y(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x44838c;Ai['decRef'](this['blackTex']),this['blackTex']=null,Ai['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x44838c=this['camera'])==null||_0x44838c['destroy'](),this['camera']=null;}['initBake'](_0x34f58f){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Te,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x8d3+0x61b*0x3+0xc1*-0x24),this['lightmapFi'+'lters']=new gP(_0x34f58f),this['constantBa'+'keDir']=_0x34f58f['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new ce(this['device'],{'width':0x4,'height':0x4,'format':Te,'type':ln,'name':'lightmapBl'+'ack'}),Ai['incRef'](this['blackTex']);const _0x574ecb=new dl();_0x574ecb['clearColor']['set'](0xdea+0x27*-0x79+-0x59*-0xd,-0x806+-0x70a+-0x788*-0x2,-0x31*-0x77+-0xbf1+-0xad6,-0x3*-0x911+0x1af4+-0x3627),_0x574ecb['clearColor'+'Buffer']=!(-0x2b0*0xe+0x14ce+-0x2*-0x869),_0x574ecb['clearDepth'+'Buffer']=!(0x1*-0x7b5+-0x25*-0xc7+-0x150d),_0x574ecb['clearStenc'+'ilBuffer']=!(-0x2*0x3ad+0xcf4+-0x599),_0x574ecb['frustumCul'+'ling']=!(-0x1725+-0x266e+-0x233*-0x1c),_0x574ecb['projection']=pa,_0x574ecb['aspectRati'+'o']=-0x29*0x61+-0x3*0x560+0x1faa,_0x574ecb['node']=new Oe(),this['camera']=_0x574ecb,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=al,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=Pp;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x2deffc=new F0(_0x34f58f['supportsAr'+'eaLights'],_0x34f58f['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x2deffc;const _0x1920af=this['scene']['lighting'];_0x2deffc['shadowsEna'+'bled']=_0x1920af['shadowsEna'+'bled'],_0x2deffc['shadowAtla'+'sResolutio'+'n']=_0x1920af['shadowAtla'+'sResolutio'+'n'],_0x2deffc['cookiesEna'+'bled']=_0x1920af['cookiesEna'+'bled'],_0x2deffc['cookieAtla'+'sResolutio'+'n']=_0x1920af['cookieAtla'+'sResolutio'+'n'],_0x2deffc['areaLights'+'Enabled']=_0x1920af['areaLights'+'Enabled'],_0x2deffc['cells']=new A(0x4f4*-0x2+0x353+-0xd3*-0x8,-0x9f*-0x2e+0x4ab*-0x7+-0x41e*-0x1,-0x60a+-0x1089+-0xe*-0x19d),_0x2deffc['maxLightsP'+'erCell']=-0x1*0x2b1+0x1097+-0xde2,this['worldClust'+'ers']=new Hu(_0x34f58f),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x5d1502){this['materials']=[];function _0x2f958c(_0x409143){Ai['decRef'](_0x409143['colorBuffe'+'r']),_0x409143['destroy']();}this['renderTarg'+'ets']['forEach'](_0x59a296=>{_0x2f958c(_0x59a296);}),this['renderTarg'+'ets']['clear'](),_0x5d1502['forEach'](_0x1b843a=>{_0x1b843a['renderTarg'+'ets']['forEach'](_0x3b7ceb=>{_0x2f958c(_0x3b7ceb);}),_0x1b843a['renderTarg'+'ets']['length']=0x3d*-0x6e+0x8f*0x41+-0xa19;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x20a44b,_0x37e117,_0x47b27f,_0x74d819){const _0x2078dc=new _s();_0x2078dc['name']='lmMaterial'+'-pass:'+_0x47b27f+'-ambient:'+_0x74d819,_0x2078dc['chunks']['APIVersion']=pi;const _0x5db7fb='#define\x20UV'+'1LAYOUT\x0a';if(_0x2078dc['chunks']['transformV'+'S']=_0x5db7fb+j['transformV'+'S'],_0x47b27f===SP){let _0x18ab82=Ao['bakeLmEndP'+'S'];_0x74d819?_0x18ab82='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20((d'+'DiffuseLig'+'ht\x20-\x200.5)\x20'+'*\x20max('+_0x37e117['ambientBak'+'eOcclusion'+'Contrast']['toFixed'](0x1276*0x2+0xfcf+-0x34ba)+('\x20+\x201.0,\x200.'+'0))\x20+\x200.5;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20ve'+'c3(')+_0x37e117['ambientBak'+'eOcclusion'+'Brightness']['toFixed'](0x1*0x18d7+-0x6e3*0x2+0x10*-0xb1)+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20s'+'aturate(dD'+'iffuseLigh'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20*='+'\x20dAmbientL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20')+_0x18ab82:_0x2078dc['ambient']=new Y(0x99*-0x1b+0x43c*-0x1+0x145f,0xa4*0x1c+-0x2c9*-0xb+-0x5*0x9b7,-0x84b+0x5*0x251+0x34a*-0x1),_0x2078dc['chunks']['basePS']=j['basePS']+(this['bakeHDR']?'':'\x0a#define\x20L'+'IGHTMAP_RG'+'BM\x0a'),_0x2078dc['chunks']['endPS']=_0x18ab82,_0x2078dc['lightMap']=this['blackTex'];}else _0x2078dc['chunks']['basePS']=j['basePS']+('\x0auniform\x20s'+'ampler2D\x20t'+'exture_dir'+'LightMap;\x0a'+'uniform\x20fl'+'oat\x20bakeDi'+'r;\x0a'),_0x2078dc['chunks']['endPS']=Ao['bakeDirLmE'+'ndPS'];return _0x2078dc['chunks']['outputAlph'+'aPS']='\x0a',_0x2078dc['chunks']['outputAlph'+'aOpaquePS']='\x0a',_0x2078dc['chunks']['outputAlph'+'aPremulPS']='\x0a',_0x2078dc['cull']=vt,_0x2078dc['forceUv1']=!(-0xd9f+0x681+0x71e*0x1),_0x2078dc['update'](),_0x2078dc;}['createMate'+'rials'](_0x2c40c4,_0x58d9c5,_0x867cbe){for(let _0x233dda=-0x1*-0x10fa+0x1263+-0x235d;_0x233dda<_0x867cbe;_0x233dda++)this['passMateri'+'als'][_0x233dda]||(this['passMateri'+'als'][_0x233dda]=this['createMate'+'rialForPas'+'s'](_0x2c40c4,_0x58d9c5,_0x233dda,!(0x16ae+0x5a*0x44+-0x19*0x1dd)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2c40c4,_0x58d9c5,0x2177+0x95*-0x5+0xf47*-0x2,!(-0x57*-0x63+0x1b15+-0x3cba)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x54300c){return _0x54300c['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xaba+-0x1af*-0x17+-0x1*0x3173),_0x54300c['litOptions']['separateAm'+'bient']=!(0x1*-0x16ef+0xea*0x5+0x125d),_0x54300c;});}['createText'+'ure'](_0x98e721,_0x23e925){return new ce(this['device'],{'profilerHint':Oy,'width':_0x98e721,'height':_0x98e721,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0xcc9*-0x1+-0xaf6*-0x1+0x6*-0x3f5),'type':this['bakeHDR']?Bi:ln,'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':_0x23e925});}['collectMod'+'els'](_0x446b76,_0x19826b,_0x1a8c97){var _0x2024f9,_0x239398,_0x5060d6;if(!_0x446b76['enabled'])return;let _0x488254;if((_0x2024f9=_0x446b76['model'])!=null&&_0x2024f9['model']&&((_0x239398=_0x446b76['model'])!=null&&_0x239398['enabled'])&&(_0x1a8c97&&_0x1a8c97['push'](new Yl(_0x446b76)),_0x446b76['model']['lightmappe'+'d']&&_0x19826b&&(_0x488254=_0x446b76['model']['model']['meshInstan'+'ces'])),(_0x5060d6=_0x446b76['render'])!=null&&_0x5060d6['enabled']&&(_0x1a8c97&&_0x1a8c97['push'](new Yl(_0x446b76)),_0x446b76['render']['lightmappe'+'d']&&_0x19826b&&(_0x488254=_0x446b76['render']['meshInstan'+'ces'])),_0x488254){let _0x15820d=!(0x2*-0x121d+-0x24a2+0x1237*0x4);for(let _0x323407=0xb2e*0x1+0x226c+-0x2d9a;_0x323407<_0x488254['length'];_0x323407++)if(!_0x488254[_0x323407]['mesh']['vertexBuff'+'er']['format']['hasUv1']){b['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x446b76['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x15820d=!(-0xb8*-0x1d+0x1*-0x2172+-0x7*-0x1cd);break;}if(_0x15820d){const _0x1563a3=[];for(let _0xb91bb8=0x172+-0x919+0x7a7;_0xb91bb8<_0x488254['length'];_0xb91bb8++){const _0x5a4c01=_0x488254[_0xb91bb8]['mesh'];this['_tempSet']['has'](_0x5a4c01)?_0x19826b['push'](new Yl(_0x446b76,[_0x488254[_0xb91bb8]])):_0x1563a3['push'](_0x488254[_0xb91bb8]),this['_tempSet']['add'](_0x5a4c01);}this['_tempSet']['clear'](),_0x1563a3['length']>0x543*0x7+0xb1*0x10+-0x43*0xb7&&_0x19826b['push'](new Yl(_0x446b76,_0x1563a3));}}for(let _0x575235=-0x1271+-0x359*0x6+0x2687;_0x575235<_0x446b76['_children']['length'];_0x575235++)this['collectMod'+'els'](_0x446b76['_children'][_0x575235],_0x19826b,_0x1a8c97);}['prepareSha'+'dowCasters'](_0xa00048){const _0x416cb5=[];for(let _0x3c2767=-0x1c0c+-0x1c81*0x1+0x388d;_0x3c2767<_0xa00048['length'];_0x3c2767++){const _0x15cacc=_0xa00048[_0x3c2767]['component'];if(_0x15cacc['castShadow'+'s']=_0x15cacc['castShadow'+'sLightmap'],_0x15cacc['castShadow'+'sLightmap']){const _0x33eb26=_0xa00048[_0x3c2767]['meshInstan'+'ces'];for(let _0x28017b=-0x17c1+0x3ef*-0x2+0x1*0x1f9f;_0x28017b<_0x33eb26['length'];_0x28017b++)_0x33eb26[_0x28017b]['visibleThi'+'sFrame']=!(-0x2243+-0x3*0xb6a+0x4481),_0x416cb5['push'](_0x33eb26[_0x28017b]);}}return _0x416cb5;}['updateTran'+'sforms'](_0x2a2231){for(let _0x2691ea=0x7*0x56+0x2431+-0x268b;_0x2691ea<_0x2a2231['length'];_0x2691ea++){const _0x5e213c=_0x2a2231[_0x2691ea]['meshInstan'+'ces'];for(let _0x2e84ba=-0x2*-0x5db+-0xa57+-0x15f;_0x2e84ba<_0x5e213c['length'];_0x2e84ba++)_0x5e213c[_0x2e84ba]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x4d6d1c){let _0x410e59;const _0x3e6df8=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x5*-0x57a+0x4*0x925+-0xe*0xa7,_0x396f37=Kl;let _0x3c510d,_0x461592;_0x4d6d1c['model']?(_0x461592=_0x4d6d1c['model']['lightmapSi'+'zeMultipli'+'er'],_0x4d6d1c['model']['asset']?(_0x410e59=this['assets']['get'](_0x4d6d1c['model']['asset'])['data'],_0x410e59['area']&&(_0x3c510d=_0x410e59['area'])):_0x4d6d1c['model']['_area']&&(_0x410e59=_0x4d6d1c['model'],_0x410e59['_area']&&(_0x3c510d=_0x410e59['_area']))):_0x4d6d1c['render']&&(_0x461592=_0x4d6d1c['render']['lightmapSi'+'zeMultipli'+'er'],_0x4d6d1c['render']['type']!=='asset'&&_0x4d6d1c['render']['_area']&&(_0x410e59=_0x4d6d1c['render'],_0x410e59['_area']&&(_0x3c510d=_0x410e59['_area'])));const _0x80f294={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x3c510d&&(_0x80f294['x']=_0x3c510d['x'],_0x80f294['y']=_0x3c510d['y'],_0x80f294['z']=_0x3c510d['z'],_0x80f294['uv']=_0x3c510d['uv']);const _0x5dac2b=_0x461592||-0x1*-0x22a8+0x171b+0x39c2*-0x1;_0x80f294['x']*=_0x5dac2b,_0x80f294['y']*=_0x5dac2b,_0x80f294['z']*=_0x5dac2b;const _0x332ae7=_0x4d6d1c['render']||_0x4d6d1c['model'],_0x324df5=this['computeNod'+'eBounds'](_0x332ae7['meshInstan'+'ces']);_0x396f37['copy'](_0x324df5['halfExtent'+'s']);let _0x37cf46=_0x80f294['x']*_0x396f37['y']*_0x396f37['z']+_0x80f294['y']*_0x396f37['x']*_0x396f37['z']+_0x80f294['z']*_0x396f37['x']*_0x396f37['y'];return _0x37cf46/=_0x80f294['uv'],_0x37cf46=Math['sqrt'](_0x37cf46),Math['min'](z['nextPowerO'+'fTwo'](_0x37cf46*_0x3e6df8),this['scene']['lightmapMa'+'xResolutio'+'n']||xP);}['setLightma'+'pping'](_0x15a4d2,_0x38b6ba,_0x9124b2,_0x311a50){for(let _0x5d79c2=0x19*-0xb7+0xa4b+-0x61*-0x14;_0x5d79c2<_0x15a4d2['length'];_0x5d79c2++){const _0x2ca721=_0x15a4d2[_0x5d79c2],_0x6ccf2f=_0x2ca721['meshInstan'+'ces'];for(let _0x3da34a=-0x233+-0xfa4+-0x11d7*-0x1;_0x3da34a<_0x6ccf2f['length'];_0x3da34a++){const _0x47184b=_0x6ccf2f[_0x3da34a];if(_0x47184b['setLightma'+'pped'](_0x38b6ba),_0x38b6ba){_0x311a50&&(_0x47184b['_shaderDef'+'s']|=_0x311a50),_0x47184b['mask']=dr;for(let _0x2c83f5=0x1ef6+0x4*0x815+-0x3f4a;_0x2c83f5<_0x9124b2;_0x2c83f5++){const _0x3f4c4e=_0x2ca721['renderTarg'+'ets'][_0x2c83f5]['colorBuffe'+'r'];_0x3f4c4e['minFilter']=at,_0x3f4c4e['magFilter']=at,_0x47184b['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][_0x2c83f5],_0x3f4c4e);}}}}}['bake'](_0x4cecdd,_0x1cb63b=mh){const _0xf224d0=this['device'],_0x12c50e=ae();this['scene']['_updateSky'+'Mesh'](),_0xf224d0['fire']('lightmappe'+'r:start',{'timestamp':_0x12c50e,'target':this}),this['stats']['renderPass'+'es']=0x1bb1+-0x9*-0x2d2+-0x3513,this['stats']['shadowMapT'+'ime']=-0x5*-0x130+0x2*0xaac+-0x1b48,this['stats']['forwardTim'+'e']=0x26ad+0x8e7+0x14*-0x261;const _0x22c118=_0xf224d0['_shaderSta'+'ts']['linked'],_0x2447d7=_0xf224d0['_renderTar'+'getCreatio'+'nTime'],_0x48102a=_0xf224d0['_shaderSta'+'ts']['compileTim'+'e'],_0x3b9a9e=[],_0x1d3adb=[];if(_0x4cecdd){for(let _0x9c60c5=-0xd*-0x10d+-0x1c13+0xa*0x171;_0x9c60c5<_0x4cecdd['length'];_0x9c60c5++)this['collectMod'+'els'](_0x4cecdd[_0x9c60c5],_0x3b9a9e,null);this['collectMod'+'els'](this['root'],null,_0x1d3adb);}else this['collectMod'+'els'](this['root'],_0x3b9a9e,_0x1d3adb);if(G['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x3b9a9e['length']>0xdbd+-0x1978+0xd*0xe7){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x4c3693=_0x1cb63b===mh?0x916*-0x1+-0xa97*-0x3+-0x87*0x2b:0x4ff+-0x2128+0x1c2a;this['setLightma'+'pping'](_0x3b9a9e,!(0xbd6+-0x253f*0x1+0x1*0x196a),_0x4c3693),this['initBake'](_0xf224d0),this['bakeIntern'+'al'](_0x4c3693,_0x3b9a9e,_0x1d3adb);let _0xed89ad=Nu;_0x1cb63b===mh&&(_0xed89ad|=x0),this['scene']['ambientBak'+'e']&&(_0xed89ad|=S0),this['setLightma'+'pping'](_0x3b9a9e,!(-0xf05+0x1475+-0x570),_0x4c3693,_0xed89ad),this['finishBake'](_0x3b9a9e);}G['popGpuMark'+'er'](this['device']);const _0x552b69=ae();this['stats']['totalRende'+'rTime']=_0x552b69-_0x12c50e,this['stats']['shadersLin'+'ked']=_0xf224d0['_shaderSta'+'ts']['linked']-_0x22c118,this['stats']['compileTim'+'e']=_0xf224d0['_shaderSta'+'ts']['compileTim'+'e']-_0x48102a,this['stats']['fboTime']=_0xf224d0['_renderTar'+'getCreatio'+'nTime']-_0x2447d7,this['stats']['lightmapCo'+'unt']=_0x3b9a9e['length'],_0xf224d0['fire']('lightmappe'+'r:end',{'timestamp':_0x552b69,'target':this});}['allocateTe'+'xtures'](_0x10b692,_0x4bf636){for(let _0x1d2b41=-0x23f8+0xcf1+0x1707;_0x1d2b41<_0x10b692['length'];_0x1d2b41++){const _0x447083=_0x10b692[_0x1d2b41],_0x562fe0=this['calculateL'+'ightmapSiz'+'e'](_0x447083['node']);for(let _0x2d8336=0x1c5*-0x1+0x8c4+-0x6ff;_0x2d8336<_0x4bf636;_0x2d8336++){const _0x329a8a=this['createText'+'ure'](_0x562fe0,'lightmappe'+'r_lightmap'+'_'+_0x1d2b41);Ai['incRef'](_0x329a8a),_0x447083['renderTarg'+'ets'][_0x2d8336]=new St({'colorBuffer':_0x329a8a,'depth':!(0x2185+0x1*-0x84e+-0x1936)});}if(!this['renderTarg'+'ets']['has'](_0x562fe0)){const _0x4b07e8=this['createText'+'ure'](_0x562fe0,'lightmappe'+'r_temp_lig'+'htmap_'+_0x562fe0);Ai['incRef'](_0x4b07e8),this['renderTarg'+'ets']['set'](_0x562fe0,new St({'colorBuffer':_0x4b07e8,'depth':!(0x184+-0x240f+-0x6*-0x5c2)}));}}}['prepareLig'+'htsToBake'](_0x1d9973,_0x455c7d){if(this['scene']['ambientBak'+'e']){const _0x443471=new Y_(this);_0x455c7d['push'](_0x443471);}const _0x35b9d8=this['renderer']['lights'];for(let _0x487c55=-0x1be*0x3+0x1529+-0x1*0xfef;_0x487c55<_0x35b9d8['length'];_0x487c55++){const _0x583c46=_0x35b9d8[_0x487c55],_0x3bdc28=new _P(this,_0x583c46);_0x1d9973['push'](_0x3bdc28),_0x583c46['enabled']&&(_0x583c46['mask']&ar)!==0x17*0xb5+0x1*-0x215c+0x1*0x1119&&(_0x583c46['mask']=ar|dr|ms,_0x583c46['shadowUpda'+'teMode']=_0x583c46['type']===le?Lp:un,_0x455c7d['push'](_0x3bdc28));}_0x455c7d['sort']();}['restoreLig'+'hts'](_0x49c0c7){for(let _0x3ba795=0x129b+0x168*-0x9+-0x5f3*0x1;_0x3ba795<_0x49c0c7['length'];_0x3ba795++)_0x49c0c7[_0x3ba795]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x1*-0x8a7+-0x796*0x4+0x43*0x95,0x2ea*0x5+0xfa2+-0x1e34,0x51d*0x6+-0x2606+0x758),this['renderer']['setSceneCo'+'nstants']();}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x20af87){const _0x24f037=new ve();if(_0x20af87['length']>0x2231+0x18*0xc+-0x1*0x2351){_0x24f037['copy'](_0x20af87[0x68*0x1b+-0x1b0b+0x1013]['aabb']);for(let _0xf7ce4a=0x131*-0x17+-0x19f1+0x3559;_0xf7ce4a<_0x20af87['length'];_0xf7ce4a++)_0x24f037['add'](_0x20af87[_0xf7ce4a]['aabb']);}return _0x24f037;}['computeNod'+'esBounds'](_0x144363){for(let _0x3c995a=0x1*-0x25fe+-0x2*0x104b+0x4694;_0x3c995a<_0x144363['length'];_0x3c995a++){const _0x4d085e=_0x144363[_0x3c995a]['meshInstan'+'ces'];_0x144363[_0x3c995a]['bounds']=this['computeNod'+'eBounds'](_0x4d085e);}}['computeBou'+'nds'](_0x203f47){const _0x592b29=new ve();for(let _0x58fd64=-0x1e0c+-0x2387+0x4193;_0x58fd64<_0x203f47['length'];_0x58fd64++){_0x592b29['copy'](_0x203f47[0x13ee+0x135*-0x5+0x1*-0xde5]['aabb']);for(let _0x4f9aec=-0x247+0x28b+-0x1*0x43;_0x4f9aec<_0x203f47['length'];_0x4f9aec++)_0x592b29['add'](_0x203f47[_0x4f9aec]['aabb']);}return _0x592b29;}['backupMate'+'rials'](_0x58f4f9){for(let _0x4f095b=0x2db+0x4dd+-0x7b8;_0x4f095b<_0x58f4f9['length'];_0x4f095b++)this['materials'][_0x4f095b]=_0x58f4f9[_0x4f095b]['material'];}['restoreMat'+'erials'](_0x4a8647){for(let _0x858319=0x2358+-0x11fa*-0x2+0x4e*-0xea;_0x858319<_0x4a8647['length'];_0x858319++)_0x4a8647[_0x858319]['material']=this['materials'][_0x858319];}['lightCamer'+'aPrepare'](_0x1d156e,_0x3808e6){const _0x1cbc9e=_0x3808e6['light'];let _0x22d4d3;return _0x1cbc9e['type']===Fe&&(_0x22d4d3=_0x1cbc9e['getRenderD'+'ata'](null,0xc1*0xe+-0x1b78+-0x2*-0x875)['shadowCame'+'ra'],_0x22d4d3['_node']['setPositio'+'n'](_0x1cbc9e['_node']['getPositio'+'n']()),_0x22d4d3['_node']['setRotatio'+'n'](_0x1cbc9e['_node']['getRotatio'+'n']()),_0x22d4d3['_node']['rotateLoca'+'l'](-(-0x23df+0xdca+-0x166f*-0x1),-0x1df5*-0x1+0x1e90+0x3c85*-0x1,-0x11*0x175+-0x45f+0x1d24),_0x22d4d3['projection']=Xs,_0x22d4d3['nearClip']=_0x1cbc9e['attenuatio'+'nEnd']/(-0x251*-0x1+0x25c7+-0x304*0xc),_0x22d4d3['farClip']=_0x1cbc9e['attenuatio'+'nEnd'],_0x22d4d3['aspectRati'+'o']=-0x1100+0x52*0x27+0x483*0x1,_0x22d4d3['fov']=_0x1cbc9e['_outerCone'+'Angle']*(0x1193+-0xb11*0x1+-0x680),this['renderer']['updateCame'+'raFrustum'](_0x22d4d3)),_0x22d4d3;}['lightCamer'+'aPrepareAn'+'dCull'](_0x22d4f2,_0x58acdd,_0x189383,_0xda82b7){const _0x5d85e4=_0x22d4f2['light'];let _0x442d44=!(-0x7b2+-0x1*-0x25c8+-0x1e16);if(_0x5d85e4['type']===le){Kl['copy'](_0xda82b7['center']),Kl['y']+=_0xda82b7['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](Kl),this['camera']['node']['setEulerAn'+'gles'](-(0x19fa+0x2*-0x3b0+-0x1240),-0x21ed+-0x3b*0x2b+0x2bd6,-0xd19+0xb*0x143+-0xc8),this['camera']['nearClip']=-0x34f+0x1*0x8ec+0x1*-0x59d,this['camera']['farClip']=_0xda82b7['halfExtent'+'s']['y']*(0x8db*0x2+0x7b8+0x196c*-0x1);const _0x4954f8=Math['max'](_0xda82b7['halfExtent'+'s']['x'],_0xda82b7['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x4954f8;}else _0x22d4f2['lightBound'+'s']['intersects'](_0x58acdd['bounds'])||(_0x442d44=!(0x1*-0x13e1+-0x2118+0x34fa));if(_0x5d85e4['type']===Fe){let _0x35435b=!(0x245f+-0xed5+-0x1589);const _0x32b819=_0x58acdd['meshInstan'+'ces'];for(let _0x1847d2=-0x66f+-0x51*0x3b+0x191a;_0x1847d2<_0x32b819['length'];_0x1847d2++)if(_0x32b819[_0x1847d2]['_isVisible'](_0x189383)){_0x35435b=!(-0x10*0xa7+0x4*0x245+-0x4*-0x57);break;}_0x35435b||(_0x442d44=!(0x129d*-0x1+0x17fd+-0x55f));}return _0x442d44;}['setupLight'+'Array'](_0x7e63e2,_0x17d49a){_0x7e63e2[le]['length']=0x1f67*0x1+0xd55+-0x2cbc*0x1,_0x7e63e2[Le]['length']=-0x826+0x1785+-0xf5f,_0x7e63e2[Fe]['length']=0x9e5*0x3+-0x91*-0x27+-0x33c6,_0x7e63e2[_0x17d49a['type']][-0xe7f+0x2678+0x11*-0x169]=_0x17d49a,_0x17d49a['visibleThi'+'sFrame']=!(0xee2+0x89e*0x4+-0x315a);}['renderShad'+'owMap'](_0x2caa8f,_0x2163e6,_0x2c4d16,_0x30e836){const _0x1004e5=_0x30e836['light'],_0x48ad06=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x37180f=_0x1004e5['castShadow'+'s']&&(!_0x48ad06||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x2163e6&&_0x37180f){if(!_0x1004e5['shadowMap']&&!_0x48ad06&&(_0x1004e5['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x1004e5)),_0x1004e5['type']===le){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x1004e5,_0x2caa8f,this['camera'],_0x2c4d16);const _0x404b0f=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x1004e5,this['camera']);_0x404b0f==null||_0x404b0f['render']();}else{if(this['device']['isWebGPU'])return b['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x19c4+0x8d*0x1d+-0x6d*-0x17);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x1004e5,_0x2caa8f,_0x2c4d16),this['renderer']['shadowRend'+'erer']['render'](_0x1004e5,this['camera'],!(0xddb+-0x1*0x1ec7+-0x10ed*-0x1));}}return!(0x47d*0x8+-0x2500+0x7*0x28);}['postproces'+'sTextures'](_0x55f702,_0x408e5c,_0x4a0c9a){const _0x27a6d1=this['lightmapFi'+'lters']['getDilate'](_0x55f702,this['bakeHDR']);let _0x14dcf2;const _0x12da16=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x12da16&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x14dcf2=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x55f702['setBlendSt'+'ate'](bt['NOBLEND']),_0x55f702['setDepthSt'+'ate'](us['NODEPTH']),_0x55f702['setStencil'+'State'](null,null);for(let _0x3c0483=0x6*0x59e+-0x204e+-0x166;_0x3c0483<_0x408e5c['length'];_0x3c0483++){const _0x46cd7f=_0x408e5c[_0x3c0483];G['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x3c0483);for(let _0x325349=0x1af+-0x122c+0x107d;_0x325349<_0x4a0c9a;_0x325349++){const _0x35c3da=_0x46cd7f['renderTarg'+'ets'][_0x325349],_0x5ab723=_0x35c3da['colorBuffe'+'r'],_0x3d597d=this['renderTarg'+'ets']['get'](_0x5ab723['width']),_0x71b3c4=_0x3d597d['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x5ab723['width'],_0x5ab723['height']);for(let _0x26431b=0x2d*-0xce+0x1*-0x26b+0x1f*0x13f;_0x26431b<0x1a3c*0x1+0x99f*0x2+-0x1*0x2d79;_0x26431b++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x5ab723),fn(_0x55f702,_0x3d597d,_0x12da16&&_0x325349===-0xb28+0x432+0x6f6&&_0x26431b===0x5*-0x64f+-0x3*-0xaee+-0x13f?_0x14dcf2:_0x27a6d1),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x71b3c4),fn(_0x55f702,_0x35c3da,_0x27a6d1);}G['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x53e733,_0x507d1f,_0xf24347){const _0x18c297=this['scene'],_0x1bcda4=_0x18c297['layers'],_0x5502c0=this['device'],_0x1adf96=_0x18c297['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x5502c0,_0x18c297,_0x53e733),this['setupScene'](),_0x1bcda4['_update'](),this['computeNod'+'esBounds'](_0x507d1f),this['allocateTe'+'xtures'](_0x507d1f,_0x53e733),this['renderer']['collectLig'+'hts'](_0x1bcda4);const _0x12c8b2=[],_0x2511b4=[];this['prepareLig'+'htsToBake'](_0x12c8b2,_0x2511b4),this['updateTran'+'sforms'](_0xf24347);const _0x1cbbbf=this['prepareSha'+'dowCasters'](_0xf24347);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x1cbbbf),this['renderer']['gpuUpdate'](_0x1cbbbf);const _0x39034d=this['computeBou'+'nds'](_0x1cbbbf);let _0x27e510,_0x414364,_0x3523c5,_0x134f66;for(_0x27e510=-0x1*0xf71+-0x8*-0x1f2+0x1f*-0x1;_0x27e510<_0x507d1f['length'];_0x27e510++)for(_0x3523c5=_0x507d1f[_0x27e510]['meshInstan'+'ces'],_0x414364=-0x231e+0xef4+-0xb2*-0x1d;_0x414364<_0x3523c5['length'];_0x414364++)_0x134f66=_0x3523c5[_0x414364],_0x134f66['setLightma'+'pped'](!(-0x1df2+-0xfe7+-0x1*-0x2dda)),_0x134f66['mask']=ar,_0x134f66['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][-0x1d76+-0x64*-0x4+-0x2*-0xdf3],this['blackTex']),_0x134f66['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][0x10*-0x24f+-0x1*0x2461+0x4952],this['blackTex']);for(_0x414364=0xa31*0x2+0x1*0x2687+0x1*-0x3ae9;_0x414364<_0x2511b4['length'];_0x414364++)_0x2511b4[_0x414364]['light']['enabled']=!(0x1136+-0x1059+-0xdc);const _0x53f9da=[[],[],[]];let _0x234ddf,_0x426a5e,_0xac273e=!(0x1*0x1387+0x1*0x1645+0x29cb*-0x1);for(_0x27e510=-0x20*0x1f+0xbd8*-0x1+-0x3ee*-0x4;_0x27e510<_0x2511b4['length'];_0x27e510++){const _0x278077=_0x2511b4[_0x27e510],_0x131bae=_0x278077 instanceof Y_,_0x37ed3c=_0x278077['light']['type']===le;let _0x5818bf=_0x278077['numVirtual'+'Lights'];_0x53e733>-0x182b+-0x16ed*0x1+0x2f19&&_0x5818bf>-0x446+-0x1*-0x26ab+-0x2264&&_0x278077['light']['bakeDir']&&(_0x5818bf=-0xa3*-0x1+0x1f99+-0x203b,b['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x437114=-0x3*-0xc1+-0x20*-0xef+-0x2023;_0x437114<_0x5818bf;_0x437114++){G['pushGpuMar'+'ker'](_0x5502c0,'Light:'+_0x278077['light']['_node']['name']+':'+_0x437114),_0x5818bf>-0xf43+-0x35b*0x1+0x129f*0x1&&_0x278077['prepareVir'+'tualLight'](_0x437114,_0x5818bf),_0x278077['startBake']();let _0x20c1c3=!(-0x2017*-0x1+-0x1*0xce5+-0x1331);const _0x497de2=this['lightCamer'+'aPrepare'](_0x5502c0,_0x278077);for(_0x426a5e=0x4f*0x33+0xd31*-0x2+0xaa5;_0x426a5e<_0x507d1f['length'];_0x426a5e++){const _0x31fafb=_0x507d1f[_0x426a5e];if(_0x3523c5=_0x31fafb['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x278077,_0x31fafb,_0x497de2,_0x39034d))continue;this['setupLight'+'Array'](_0x53f9da,_0x278077['light']);const _0x54f6ca=_0x37ed3c?[]:[_0x278077['light']];for(_0x1adf96&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x54f6ca,this['lightingPa'+'rams']),_0x20c1c3=this['renderShad'+'owMap'](_0x1bcda4,_0x20c1c3,_0x1cbbbf,_0x278077),_0x1adf96&&this['worldClust'+'ers']['update'](_0x54f6ca,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x3523c5),_0x234ddf=-0x8d0+0x9*0x455+-0x1*0x1e2d;_0x234ddf<_0x53e733&&!(_0x234ddf>-0x1*-0x2499+-0xc*0x30+-0x2259&&_0x437114>0x1*0x22b5+0x6e4+-0x2999*0x1||_0x131bae&&_0x234ddf>0x2b*-0x65+0x3c3*-0x4+0x667*0x5);_0x234ddf++){G['pushGpuMar'+'ker'](_0x5502c0,'LMPass:'+_0x234ddf);const _0x5ce446=_0x31fafb['renderTarg'+'ets'][_0x234ddf],_0x4ee811=_0x31fafb['renderTarg'+'ets'][_0x234ddf]['colorBuffe'+'r']['width'],_0x472d5f=this['renderTarg'+'ets']['get'](_0x4ee811),_0x36b324=_0x472d5f['colorBuffe'+'r'];_0x234ddf===0x1*0x1203+0x24e6+-0x36e9?_0xac273e=_0x18c297['updateShad'+'ers']:_0xac273e&&(_0x18c297['updateShad'+'ers']=!(0x247c+0xb7+-0x1*0x2533));let _0x196c22=this['passMateri'+'als'][_0x234ddf];for(_0x131bae&&_0x437114+(0x53e*-0x3+0x1*-0x9df+0x199a)===_0x5818bf&&_0x234ddf===-0x11ea+-0x3c3+0x15ad&&(_0x196c22=this['ambientAOM'+'aterial']),_0x414364=0x2145+0x1*-0x2317+-0x1d2*-0x1;_0x414364<_0x3523c5['length'];_0x414364++)_0x3523c5[_0x414364]['material']=_0x196c22;if(this['renderer']['updateShad'+'ers'](_0x3523c5),_0x234ddf===vP&&this['constantBa'+'keDir']['setValue'](_0x278077['light']['bakeDir']?0x90*-0x3+-0x1*0x60d+-0x3df*-0x2:0x208*0x8+0xe01*0x1+-0x1*0x1e41),_0x5502c0['isWebGPU']){const _0x28fd3e=new yP(_0x5502c0,this['renderer'],this['camera'],_0x1adf96?this['worldClust'+'ers']:null,_0x3523c5,_0x53f9da);_0x28fd3e['init'](_0x472d5f),_0x28fd3e['render'](),_0x28fd3e['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x472d5f,!(0x23d8+0x1519+-0x38f1)),_0x1adf96&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x5*0x2e3+0x539*0x1+0x936,this['renderer']['_shadowMap'+'Time']=-0xd13+-0x1b28+0x283b,this['renderer']['renderForw'+'ard'](this['camera'],_0x472d5f,_0x3523c5,_0x53f9da,xn),_0x5502c0['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x31fafb['renderTarg'+'ets'][_0x234ddf]=_0x472d5f,this['renderTarg'+'ets']['set'](_0x4ee811,_0x5ce446),_0x414364=0x7*-0xe8+0x1e8e+-0x1836;_0x414364<_0x3523c5['length'];_0x414364++)_0x134f66=_0x3523c5[_0x414364],_0x134f66['setRealtim'+'eLightmap'](Be['lightmapPa'+'ramNames'][_0x234ddf],_0x36b324),_0x134f66['_shaderDef'+'s']|=Nu;G['popGpuMark'+'er'](_0x5502c0);}this['restoreMat'+'erials'](_0x3523c5);}_0x278077['endBake'](this['shadowMapC'+'ache']),G['popGpuMark'+'er'](_0x5502c0);}}for(this['postproces'+'sTextures'](_0x5502c0,_0x507d1f,_0x53e733),_0x426a5e=0x2089*0x1+0x4*0x5a6+-0x3721;_0x426a5e<_0xf24347['length'];_0x426a5e++)_0xf24347[_0x426a5e]['restore']();this['restoreLig'+'hts'](_0x12c8b2),this['restoreSce'+'ne'](),_0x1adf96||this['shadowMapC'+'ache']['clear']();}}const uc=class uc extends de{constructor(_0x5c243e,_0x2282c8){super(),c(this,'system'),c(this,'entity'),(this['system']=_0x5c243e,this['entity']=_0x2282c8,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x376e4e,_0x2ecef9,_0x2043b4){this['fire']('set_'+_0x376e4e,_0x376e4e,_0x2ecef9,_0x2043b4);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x21051c,_0xa14374){_0xa14374['forEach'](_0x2db323=>{const _0x51f1e3=typeof _0x2db323=='object'?_0x2db323['name']:_0x2db323;Object['defineProp'+'erty'](_0x21051c,_0x51f1e3,{'get':function(){return this['data'][_0x51f1e3];},'set':function(_0x50f43b){const _0x17dbc0=this['data'],_0x434627=_0x17dbc0[_0x51f1e3];_0x17dbc0[_0x51f1e3]=_0x50f43b,this['fire']('set',_0x51f1e3,_0x434627,_0x50f43b);},'configurable':!(0x125d*-0x1+-0x61e+-0x829*-0x3)});}),_0x21051c['_accessors'+'Built']=!(-0xd38+0x1443+-0x70b);}['buildAcces'+'sors'](_0x38687f){uc['_buildAcce'+'ssors'](this,_0x38687f);}['onSetEnabl'+'ed'](_0x60cb55,_0x169f0f,_0x5dd5f4){_0x169f0f!==_0x5dd5f4&&this['entity']['enabled']&&(_0x5dd5f4?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x1f6eba=this['system']['store'][this['entity']['getGuid']()];return _0x1f6eba?_0x1f6eba['data']:null;}set['enabled'](_0x4ab254){}get['enabled'](){return!(0x1c96+0x1dce+-0x3a64);}};c(uc,'order',0x883+0x202*-0x2+0x47f*-0x1);let pe=uc;class Qe extends de{constructor(_0x2e9d06){super(),this['app']=_0x2e9d06,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x5223fe,_0x395200={}){const _0x3a0192=new this['ComponentT'+'ype'](this,_0x5223fe),_0x4d3488=new this['DataType']();return this['store'][_0x5223fe['getGuid']()]={'entity':_0x5223fe,'data':_0x4d3488},_0x5223fe[this['id']]=_0x3a0192,_0x5223fe['c'][this['id']]=_0x3a0192,this['initialize'+'ComponentD'+'ata'](_0x3a0192,_0x395200,[]),this['fire']('add',_0x5223fe,_0x3a0192),_0x3a0192;}['removeComp'+'onent'](_0x5dcc25){const _0x37e74f=this['id'],_0x5bf840=this['store'][_0x5dcc25['getGuid']()],_0x30c8fb=_0x5dcc25['c'][_0x37e74f];_0x30c8fb['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x5dcc25,_0x30c8fb),delete this['store'][_0x5dcc25['getGuid']()],_0x5dcc25[_0x37e74f]=void(0x6a*0x17+0x14*0x1b1+-0x166*0x1f),delete _0x5dcc25['c'][_0x37e74f],this['fire']('remove',_0x5dcc25,_0x5bf840['data']);}['cloneCompo'+'nent'](_0x5ab67c,_0x427808){const _0xc3e2ea=this['store'][_0x5ab67c['getGuid']()];return this['addCompone'+'nt'](_0x427808,_0xc3e2ea['data']);}['initialize'+'ComponentD'+'ata'](_0x234db2,_0x59fdad={},_0x34454e){for(let _0x2e4d43=-0xc4f+-0x20a6+-0x1*-0x2cf5,_0x57250f=_0x34454e['length'];_0x2e4d43<_0x57250f;_0x2e4d43++){const _0x44eff9=_0x34454e[_0x2e4d43];let _0x41a129,_0x1f1eb4;typeof _0x44eff9=='object'?(_0x41a129=_0x44eff9['name'],_0x1f1eb4=_0x44eff9['type']):(_0x41a129=_0x44eff9,_0x1f1eb4=void(-0xeb1+0x1bb*-0xd+0x7*0x550));let _0x1d51ec=_0x59fdad[_0x41a129];_0x1d51ec!==void(0x300+0x1f75*-0x1+-0x1c75*-0x1)?(_0x1f1eb4!==void(-0x6b*0x53+0xb9f+0x1712)&&(_0x1d51ec=wP(_0x1d51ec,_0x1f1eb4)),_0x234db2[_0x41a129]=_0x1d51ec):_0x234db2[_0x41a129]=_0x234db2['data'][_0x41a129];}_0x234db2['enabled']&&_0x234db2['entity']['enabled']&&_0x234db2['onEnable']();}['getPropert'+'iesOfType'](_0xfcbb6c){const _0x3753f0=[];return(this['schema']||[])['forEach'](_0x45ff59=>{_0x45ff59&&typeof _0x45ff59=='object'&&_0x45ff59['type']===_0xfcbb6c&&_0x3753f0['push'](_0x45ff59);}),_0x3753f0;}['destroy'](){this['off']();}}function wP(_0x4f70e5,_0x3d8ca9){if(!_0x4f70e5)return _0x4f70e5;switch(_0x3d8ca9){case'rgb':return _0x4f70e5 instanceof Y?_0x4f70e5['clone']():new Y(_0x4f70e5[0x206c+0x1c98+0xa*-0x61a],_0x4f70e5[0x1b6b+0x1d04+-0xe9*0x3e],_0x4f70e5[-0x1*0x22a3+0x1e18+0x48d*0x1]);case'rgba':return _0x4f70e5 instanceof Y?_0x4f70e5['clone']():new Y(_0x4f70e5[-0x1*-0x28d+0xd51+-0xfde],_0x4f70e5[0xca7*-0x2+0x2*0x1136+-0x91d],_0x4f70e5[-0x132f*-0x1+-0x4*0x3d3+-0x3e1],_0x4f70e5[-0x1df2+0x11*0x1fc+-0x3c7]);case'vec2':return _0x4f70e5 instanceof W?_0x4f70e5['clone']():new W(_0x4f70e5[0x662+0x1*0x1b41+-0x21a3],_0x4f70e5[-0x1*0x18be+0x2048+-0x789]);case'vec3':return _0x4f70e5 instanceof A?_0x4f70e5['clone']():new A(_0x4f70e5[0x543*0x1+-0x211e+0x949*0x3],_0x4f70e5[0x17*-0x2e+-0x209*0x13+0x2ace*0x1],_0x4f70e5[0x1dc1+0x16b1+-0x3470]);case'vec4':return _0x4f70e5 instanceof ee?_0x4f70e5['clone']():new ee(_0x4f70e5[0x1991+-0x508+-0x1489],_0x4f70e5[0x78d+0x13f3+-0x1b7f],_0x4f70e5[0x7*-0x1a6+0x2e*-0x84+0x2344],_0x4f70e5[-0x2*-0xe9b+0x1*0xb2d+-0x26*0x110]);case'boolean':case'number':case'string':return _0x4f70e5;case'entity':return _0x4f70e5;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x3d8ca9);}}const q0=-0x7*0xb9+-0x14*-0x1c1+-0x1e05,Qu=0x596+-0x1532*0x1+0x23b*0x7,Ju=-0xd*-0x29f+-0x1*0x1026+-0x11eb;class TP{constructor(){this['_left']=(-0x1ea5+0x1f65+-0xbf)/(-0x1*-0x23b+-0x1cb5+0x1a7a),this['_right']=-(0x1aec+-0x9*0xb9+-0x146a)/(0x1*0xe5+-0x131*0x3+0x7*0x62),this['_len']=-0x1*0x9a9+0x1e07*0x1+-0x365*0x6,this['_recip']=-0xa85+0xeb*0xc+-0x7f,this['_p0']=0x2042+-0x59*-0x31+-0x314b,this['_p1']=0x6b9*-0x2+-0x1481+0x21f3,this['_t']=-0x223*0x4+0x104a+-0x1*0x7be,this['_hermite']={'valid':!(0x8bd*0x4+-0x44*0x29+0x805*-0x3),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x5adf32,_0x2875aa){if(_0x5adf32<this['_left']||_0x5adf32>=this['_right']){const _0x3ca105=_0x2875aa['length'];if(!_0x3ca105)this['_left']=-(0x1*-0x2077+0x135a*-0x2+0x71e*0xa)/(0xd*0x209+0x105a+-0x2acf),this['_right']=(0x1da9+0x26ed+-0x4495)/(0x1ae2+-0x1*0xd1f+-0xdc3),this['_len']=-0x1*-0x1072+0xca8+-0x1d1a,this['_recip']=0x26a9*-0x1+0x2338+-0x371*-0x1,this['_p0']=this['_p1']=0x5*0x4bd+0x828+-0x1fd9*0x1;else{if(_0x5adf32<_0x2875aa[-0x7ff+0xcac+-0x4ad])this['_left']=-(0xa24+0x60b*0x2+0x1639*-0x1)/(-0x7c*0x7+-0xd6*-0x1b+0x3d6*-0x5),this['_right']=_0x2875aa[-0x1*-0x1cf9+0x47a*-0x8+-0x67*-0x11],this['_len']=0x25fa*0x1+-0x3cc*-0x4+-0x352a,this['_recip']=-0x12*0x119+-0xab4+0x1e76,this['_p0']=this['_p1']=0x194+-0xa63*-0x2+-0x165a;else{if(_0x5adf32>=_0x2875aa[_0x3ca105-(-0xb57*0x3+0x15fb+-0x1*-0xc0b)])this['_left']=_0x2875aa[_0x3ca105-(-0x2*0x12f2+-0x7af+0x2d94)],this['_right']=(-0x13e+-0x117a+0x12b9*0x1)/(-0x98e+0x19ef+-0x1061),this['_len']=0x188d+-0xc75+-0xc18,this['_recip']=-0xaaf+-0x2555+0x2*0x1802,this['_p0']=this['_p1']=_0x3ca105-(-0x2585+-0x1c9*-0xb+0x11e3);else{const _0x1740ed=this['_findKey'](_0x5adf32,_0x2875aa);this['_left']=_0x2875aa[_0x1740ed],this['_right']=_0x2875aa[_0x1740ed+(0x937+-0xe*0x3d+-0x5e0)],this['_len']=this['_right']-this['_left'];const _0x2d75c2=(-0x43*0x75+-0x1b13+0x39b3*0x1)/this['_len'];this['_recip']=isFinite(_0x2d75c2)?_0x2d75c2:0x208c+-0x503*0x1+-0x1b89,this['_p0']=_0x1740ed,this['_p1']=_0x1740ed+(0x2*-0xf9a+-0xa9a+-0x5f9*-0x7);}}}}this['_t']=this['_recip']===0x1*0x2419+-0x20cc+-0x34d?0x931*-0x1+-0x702+0x1033:(_0x5adf32-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x264f+-0x1f57+-0xb*-0x655);}['_findKey'](_0x355108,_0x1c052c){let _0x29986d=-0x51+0x25*0x4f+-0xb1a;for(;_0x355108>=_0x1c052c[_0x29986d+(0x1bab*0x1+0x64*0x41+-0x1*0x350e)];)_0x29986d++;return _0x29986d;}['eval'](_0x127da5,_0x29b1d3,_0x3d9774){const _0x546aa5=_0x3d9774['_data'],_0x2336da=_0x3d9774['_component'+'s'],_0x16e24e=this['_p0']*_0x2336da;if(_0x29b1d3===q0){for(let _0x30a89f=0xbdb+0x371*-0x7+0xc3c;_0x30a89f<_0x2336da;++_0x30a89f)_0x127da5[_0x30a89f]=_0x546aa5[_0x16e24e+_0x30a89f];}else{const _0x54372d=this['_t'],_0x58a0f5=this['_p1']*_0x2336da;switch(_0x29b1d3){case Qu:for(let _0x517c6a=-0x58d+-0x106*0x13+0x18ff;_0x517c6a<_0x2336da;++_0x517c6a)_0x127da5[_0x517c6a]=z['lerp'](_0x546aa5[_0x16e24e+_0x517c6a],_0x546aa5[_0x58a0f5+_0x517c6a],_0x54372d);break;case Ju:{const _0x310053=this['_hermite'];if(!_0x310053['valid']){const _0x230548=_0x54372d*_0x54372d,_0x79d872=_0x54372d+_0x54372d,_0x388327=-0xc2f*0x1+-0x5e7*0x3+0x1de5-_0x54372d,_0x7e96=_0x388327*_0x388327;_0x310053['valid']=!(-0x2*-0x69e+0x340+-0x107c),_0x310053['p0']=(0x1283*-0x2+-0xb79+0x3080+_0x79d872)*_0x7e96,_0x310053['m0']=_0x54372d*_0x7e96,_0x310053['p1']=_0x230548*(0x2*0x1319+-0x2*0x9bd+-0x12b5-_0x79d872),_0x310053['m1']=_0x230548*(_0x54372d-(-0x1242+0x486+0xdbd));}const _0x1eb0cd=(this['_p0']*(-0x1d84*0x1+0x12e+0x1c59)+(-0x1b7c+0x8ec+-0x2a7*-0x7))*_0x2336da,_0x485354=(this['_p0']*(-0x2577+0x7a7*0x1+0x1dd3)+(-0x1b27+0x2*-0x107+0x1*0x1d37))*_0x2336da,_0x3e9cf0=(this['_p1']*(-0x7e4+0x1256+-0xa6f)+(-0x164f+-0x20ff*0x1+0x374f))*_0x2336da,_0xe10b97=(this['_p1']*(-0x1*0x2101+0x152*-0x9+0x2ce6)+(-0x511*0x3+-0x24be+0x33f1))*_0x2336da;for(let _0x561aea=-0x2c6+-0x22e2+0x4b5*0x8;_0x561aea<_0x2336da;++_0x561aea)_0x127da5[_0x561aea]=_0x310053['p0']*_0x546aa5[_0x1eb0cd+_0x561aea]+_0x310053['m0']*_0x546aa5[_0x485354+_0x561aea]*this['_len']+_0x310053['p1']*_0x546aa5[_0x3e9cf0+_0x561aea]+_0x310053['m1']*_0x546aa5[_0xe10b97+_0x561aea]*this['_len'];break;}}}}}class Z_{constructor(_0x1573bb){this['_name']=_0x1573bb['name']+'Snapshot',this['_time']=-(0x1ceb+-0x9e+-0x1c4c),this['_cache']=[],this['_results']=[];for(let _0x1b69cf=-0x7cf*-0x4+0x54*0x9+-0x2230;_0x1b69cf<_0x1573bb['_inputs']['length'];++_0x1b69cf)this['_cache'][_0x1b69cf]=new TP();const _0xba1f80=_0x1573bb['_curves'],_0x4d526a=_0x1573bb['_outputs'];for(let _0x4e5e8a=0x25f8+-0x1928+0x1*-0xcd0;_0x4e5e8a<_0xba1f80['length'];++_0x4e5e8a){const _0x56278c=_0xba1f80[_0x4e5e8a],_0x12c83b=_0x4d526a[_0x56278c['_output']],_0x9f7276=[];for(let _0x29fd14=-0x120e+-0x1947+-0x1*-0x2b55;_0x29fd14<_0x12c83b['_component'+'s'];++_0x29fd14)_0x9f7276[_0x29fd14]=-0x12ae+0x2257+-0x13*0xd3;this['_results'][_0x4e5e8a]=_0x9f7276;}}}const Ro=class Ro{constructor(_0xfb3d5e,_0x5a6b7e,_0x39dfcb,_0x47c263,_0x5deb61,_0x54b9e8){this['_name']=_0xfb3d5e['name'],this['_track']=_0xfb3d5e,this['_snapshot']=new Z_(_0xfb3d5e),this['_playing']=_0x47c263,this['_time']=_0x5a6b7e,this['_speed']=_0x39dfcb,this['_loop']=_0x5deb61,this['_blendWeig'+'ht']=-0x1472+0x255f*-0x1+-0x1*-0x39d2,this['_blendOrde'+'r']=-0x19c4*0x1+-0x35f+0x1d23*0x1,this['_eventHand'+'ler']=_0x54b9e8,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0x112fc0){this['_name']=_0x112fc0;}get['name'](){return this['_name'];}set['track'](_0x45d082){this['_track']=_0x45d082,this['_snapshot']=new Z_(_0x45d082);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x4128d5){this['_time']=_0x4128d5,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x2b20ee){const _0xa932de=Math['sign'](_0x2b20ee)!==Math['sign'](this['_speed']);this['_speed']=_0x2b20ee,_0xa932de&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x18e893){this['_loop']=_0x18e893;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x26e062){this['_blendWeig'+'ht']=_0x26e062;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x35cdc3){this['_blendOrde'+'r']=_0x35cdc3;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x2a0bbe){this['_eventCurs'+'or']=_0x2a0bbe;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x5*0x311+-0x6cf+0x1624:this['_track']['events']['length']-(0x1179+0xaa4+-0x1c1c);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<-0x1cdf+0x5b*0x1+0x5b4*0x5;}['nextEventA'+'headOfTime'](_0x5a6fea){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x5a6fea:this['nextEvent']['time']>=_0x5a6fea:!(0x18da+0x87b+-0x2154);}['nextEventB'+'ehindTime'](_0x4604dc){return this['nextEvent']?_0x4604dc===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x4604dc:this['nextEvent']['time']<=_0x4604dc:this['isReverse']?this['nextEvent']['time']>_0x4604dc:this['nextEvent']['time']<_0x4604dc:!(0x22c+0x2190+-0x23bb);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0xf3b+-0x1*-0x10ad+-0x171):-0x2*-0x10+-0x39e*-0x8+0x136*-0x18;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(-0x45*-0x21+0x751*0x1+-0x1035):-0xb96+-0x26b+0xb*0x146,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x102c*0x1+0x2*0xd45+-0xa5e:this['_eventCurs'+'or']<0x1*-0xf4d+0x1bf+-0x2*-0x6c7&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x2321*-0x1+-0x14d5+-0xe4b));}['clipFrameT'+'ime'](_0x3f8d2a){const _0x3e1199=Ro['eventFrame'];_0x3e1199['start']=0x464+-0xa7*-0x31+-0x245b,_0x3e1199['end']=_0x3f8d2a,_0x3e1199['residual']=-0x9f7+-0x1693+0x46*0x77,this['isReverse']?_0x3f8d2a<-0xdc1*-0x2+0x10f8+-0x2c7a&&(_0x3e1199['start']=this['track']['duration'],_0x3e1199['end']=-0x138b*-0x1+0xcd5+-0x2060,_0x3e1199['residual']=_0x3f8d2a+this['track']['duration']):_0x3f8d2a>this['track']['duration']&&(_0x3e1199['start']=-0x242c+0x100a+0x1422,_0x3e1199['end']=this['track']['duration'],_0x3e1199['residual']=_0x3f8d2a-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x195f0f,_0x5c5205){return this['nextEventA'+'headOfTime'](_0x195f0f)&&this['nextEventB'+'ehindTime'](_0x5c5205)?(this['fireNextEv'+'ent'](),!(0x8b*-0x5+-0x1775+0x1a2c)):!(-0x1f2d+0x2*0x7f3+-0x518*-0x3);}['activeEven'+'tsForFrame'](_0x143539,_0x1d090f){const _0xbfa35c=Ro['eventFrame'];this['clipFrameT'+'ime'](_0x1d090f);const _0x393fdf=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x143539,_0xbfa35c['end'])&&_0x393fdf!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0xbfa35c['residual'])>0x118*0x17+0x310+0x54*-0x56&&this['activeEven'+'tsForFrame'](_0xbfa35c['start'],_0xbfa35c['residual']);}['progressFo'+'rTime'](_0x12f32c){return _0x12f32c*this['_speed']/this['_track']['duration'];}['_update'](_0x357de4){if(this['_playing']){let _0x22769e=this['_time'];const _0x6c69a4=this['_track']['duration'],_0x2f3f10=this['_speed'],_0x29b2c4=this['_loop'];this['_track']['events']['length']>0x1d69+0x4ac+-0x15d*0x19&&_0x6c69a4>-0x18*-0x13c+0x1aa1+-0x3841*0x1&&this['activeEven'+'tsForFrame'](_0x22769e,_0x22769e+_0x2f3f10*_0x357de4),_0x22769e+=_0x2f3f10*_0x357de4,_0x2f3f10>=-0x912+0x7f8+0x1*0x11a?_0x22769e>_0x6c69a4&&(_0x29b2c4?_0x22769e=_0x22769e%_0x6c69a4||0x1473+-0x16e+-0x1305:(_0x22769e=this['_track']['duration'],this['pause']())):_0x22769e<0x674+0xf6f+-0xd*0x1af&&(_0x29b2c4?_0x22769e=_0x6c69a4+(_0x22769e%_0x6c69a4||-0x1437+-0x2*-0x7f+0x1339):(_0x22769e=0x1157+-0x1e59+0xd02,this['pause']())),this['_time']=_0x22769e;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(0x573+0x3*-0xacc+0x8fb*0x3),this['_time']=-0x14ac+0x19a7+-0x11*0x4b;}['stop'](){this['_playing']=!(-0xc1*0xd+-0x46c+0xe3a),this['_time']=0x126+0x1*-0x124d+0x1127;}['pause'](){this['_playing']=!(0x15d*0x1+0x1455+-0x15b1);}['resume'](){this['_playing']=!(-0x5df+0x7*-0x1f7+0x13a0);}['reset'](){this['_time']=0xf2f+0xd2e+-0x1c5d;}};c(Ro,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Qh=Ro;const X0='NONE',AP='PREV_STATE',EP='NEXT_STATE',CP='PREV_STATE'+'_NEXT_STAT'+'E',MP='NEXT_STATE'+'_PREV_STAT'+'E',PP='GREATER_TH'+'AN',RP='LESS_THAN',IP='GREATER_TH'+'AN_EQUAL_T'+'O',DP='LESS_THAN_'+'EQUAL_TO',LP='EQUAL_TO',FP='NOT_EQUAL_'+'TO',Q_='INTEGER',J_='FLOAT',eg='BOOLEAN',xh='TRIGGER',kP='1D',OP='2D_DIRECTI'+'ONAL',BP='2D_CARTESI'+'AN',NP='DIRECT',uo='START',ef='END',Or='ANY',Jh=[uo,ef,Or],j0='OVERWRITE',zP='ADDITIVE';class Rt{static['dot'](_0x4a9cd1,_0x57d813){const _0x5257f3=_0x4a9cd1['length'];let _0x4669ee=0x2*0x659+-0x1*-0xe5+0x31*-0x47;for(let _0x5319ce=-0x6cb+0xe6f*-0x1+0x153a;_0x5319ce<_0x5257f3;++_0x5319ce)_0x4669ee+=_0x4a9cd1[_0x5319ce]*_0x57d813[_0x5319ce];return _0x4669ee;}static['normalize'](_0x38a157){let _0x3f565e=Rt['dot'](_0x38a157,_0x38a157);if(_0x3f565e>0x1*-0x5db+0x883*-0x1+0xe5e*0x1){_0x3f565e=(-0x4*0x18e+-0x1463+0x1a9c)/Math['sqrt'](_0x3f565e);const _0x9d12d3=_0x38a157['length'];for(let _0x416949=0xb1e+0xe59+0x87d*-0x3;_0x416949<_0x9d12d3;++_0x416949)_0x38a157[_0x416949]*=_0x3f565e;}}static['set'](_0x50b81c,_0x1b325e,_0x56c02d){const _0x3a8f9d=_0x50b81c['length'];if(_0x56c02d==='quaternion'){let _0x11745b=Rt['dot'](_0x1b325e,_0x1b325e);_0x11745b>0x1*0x2347+-0x22d*0x7+-0x503*0x4&&(_0x11745b=(0x3*-0x16f+-0x197+-0x5e5*-0x1)/Math['sqrt'](_0x11745b));for(let _0x59aeb9=-0x8*-0x48f+-0x1b4+0x19*-0x164;_0x59aeb9<_0x3a8f9d;++_0x59aeb9)_0x50b81c[_0x59aeb9]=_0x1b325e[_0x59aeb9]*_0x11745b;}else{for(let _0x28ba79=-0x2*0xf7a+0x67e+0x1876;_0x28ba79<_0x3a8f9d;++_0x28ba79)_0x50b81c[_0x28ba79]=_0x1b325e[_0x28ba79];}}static['blendVec'](_0x2e5872,_0x2d66bb,_0x250035,_0x5d7147){const _0x2641db=_0x5d7147?-0x616*-0x2+0x1310+-0x1f3b:0x2227+-0x12*-0x217+-0x47c4-_0x250035,_0x433df6=_0x2e5872['length'];for(let _0x89a52e=-0x1b08+-0x22*0xc5+0x3532;_0x89a52e<_0x433df6;++_0x89a52e)_0x2e5872[_0x89a52e]=_0x2e5872[_0x89a52e]*_0x2641db+_0x2d66bb[_0x89a52e]*_0x250035;}static['blendQuat'](_0x38a7da,_0x3a5a44,_0x2dab2e,_0x479fd3){const _0x5424f6=_0x38a7da['length'],_0x2eaad9=_0x479fd3?0x4c1*-0x3+-0x14*-0x184+-0x100c:0x4*0x7cf+-0x22f1+-0x19*-0x26-_0x2dab2e;Rt['dot'](_0x38a7da,_0x3a5a44)<-0x3*0xc5f+0x1f9+-0x2b4*-0xd&&(_0x2dab2e=-_0x2dab2e);for(let _0x47d947=0x469*-0x1+-0x24f5+0x295e;_0x47d947<_0x5424f6;++_0x47d947)_0x38a7da[_0x47d947]=_0x38a7da[_0x47d947]*_0x2eaad9+_0x3a5a44[_0x47d947]*_0x2dab2e;_0x479fd3||Rt['normalize'](_0x38a7da);}static['blend'](_0x457e53,_0x49d66b,_0xbaab38,_0x3adb98,_0x197290){_0x3adb98==='quaternion'?Rt['blendQuat'](_0x457e53,_0x49d66b,_0xbaab38,_0x197290):Rt['blendVec'](_0x457e53,_0x49d66b,_0xbaab38,_0x197290);}static['stableSort'](_0x5dc5f3,_0x481143){const _0x4a5977=_0x5dc5f3['length'];for(let _0x4342b1=0x1750+-0x1ea9*0x1+0x759;_0x4342b1<_0x4a5977-(0x1701+0x2*-0x230+-0x8*0x254);++_0x4342b1)for(let _0x1e04b3=_0x4342b1+(0x7*-0x376+-0x335*-0x4+0xb67*0x1);_0x1e04b3<_0x4a5977;++_0x1e04b3)if(_0x481143(_0x5dc5f3[_0x1e04b3],_0x5dc5f3[_0x4342b1])){const _0x2d4095=_0x5dc5f3[_0x4342b1];_0x5dc5f3[_0x4342b1]=_0x5dc5f3[_0x1e04b3],_0x5dc5f3[_0x1e04b3]=_0x2d4095;}}}const We=class We{constructor(_0x27c58b,_0x1b58cb){this['_component']=_0x27c58b,this['mask']=new Int8Array(_0x27c58b['layers']['length']),this['weights']=new Float32Array(_0x27c58b['layers']['length']),this['totalWeigh'+'t']=-0x2d*0x87+-0x7*0x214+0x2647,this['counter']=-0xcd8+-0x2608*0x1+0x32e0,this['layerCount'+'er']=0x1c6c+0x2685+0x42f1*-0x1,this['valueType']=_0x1b58cb,this['dirty']=!(0x218b+-0x19d9+-0x7b2),this['value']=_0x1b58cb===We['TYPE_QUAT']?[-0x1e45+0xa2b*-0x2+0x5*0xa1f,-0x1971+-0x2b3*-0x1+-0xb5f*-0x2,-0x1f*-0x85+0x43*0x6+0x1*-0x11ad,0x348+-0x9fa*0x1+0x6b3]:[-0x3*0x60+-0x1b75+-0x987*-0x3,0x9e*-0x1f+0x1746+-0x424,0x175a+-0x13d7*-0x1+-0x2b31*0x1],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x532d32){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===-0x8c+-0x2bd*-0xb+-0x1d93||!this['mask'][_0x532d32]?-0x1*-0x709+0x25e6+-0x2cef:this['_normalize'+'Weights']?this['weights'][_0x532d32]/this['totalWeigh'+'t']:z['clamp'](this['weights'][_0x532d32],-0xb16+-0x130e+-0x4*-0x789,0x1*-0x20d4+0xc8f+0x5*0x40e);}['_layerBlen'+'dType'](_0x1cde21){return this['_component']['layers'][_0x1cde21]['blendType'];}['setMask'](_0x24d817,_0x41c4d5){this['mask'][_0x24d817]=_0x41c4d5,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x24d817]['blendType']===j0&&(this['mask']=this['mask']['fill'](0x1*-0x1d03+-0x1287+0x2f8a,0x1*-0xd23+-0xef*-0x1f+-0xfce,_0x24d817)),this['dirty']=!(0x9aa*-0x4+-0x1*-0x121+0xd*0x2e3));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0xcd+0x2291*-0x1+-0x1*-0x235e;for(let _0x41c4eb=0x1081+0xccf+0x1c*-0x10c;_0x41c4eb<this['weights']['length'];_0x41c4eb++)this['weights'][_0x41c4eb]=this['_component']['layers'][_0x41c4eb]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x41c4eb]*this['weights'][_0x41c4eb];this['dirty']=!(-0x1a2*0x5+0x5e1+-0x125*-0x2);}['updateValu'+'e'](_0x5d2357,_0x29eca5){if(this['counter']===-0x9c+0x137d+-0x1*0x12e1&&(Rt['set'](this['value'],We['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Rt['blend'](this['value'],this['baseValue'],-0x44+0x206f+-0x202a,this['valueType'])),!(!this['mask'][_0x5d2357]||this['getWeight'](_0x5d2357)===-0x63a+-0xe8a*0x2+0x234e)){if(this['_layerBlen'+'dType'](_0x5d2357)===zP&&!this['_normalize'+'Weights']){if(this['valueType']===We['TYPE_QUAT']){const _0x27de29=We['q1']['set'](this['value'][-0xfb*-0x10+0x593+-0x1543],this['value'][-0xa0b+0x4*-0x2a8+-0x3*-0x6e4],this['value'][-0x8*0x125+0x129a+-0x970],this['value'][-0x20ec+-0x16fe+0x37ed]),_0x585ebd=We['q2']['set'](this['baseValue'][0x17e*-0x13+0x1*0x9bf+0x129b],this['baseValue'][0x1017*-0x1+0x1805+-0x7ed],this['baseValue'][0xf53+0x1*-0x1d56+-0xe05*-0x1],this['baseValue'][-0x24f2+-0x22a4+0x1*0x4799]),_0x45e878=We['q3']['set'](_0x29eca5[0xdf*0x2b+0x1e95*-0x1+-0x6e0],_0x29eca5[0xcbc+0x1*-0x258b+0x18d0],_0x29eca5[0x125f*0x2+0x1d12+-0x41ce],_0x29eca5[0x702+-0x4ad+0x12*-0x21]),_0x4adf88=_0x585ebd['invert']()['mul'](_0x45e878);_0x4adf88['slerp'](ie['IDENTITY'],_0x4adf88,this['getWeight'](_0x5d2357)),_0x27de29['mul'](_0x4adf88),We['quatArr'][0xe6*0xe+0x37c*-0x7+0x54*0x24]=_0x27de29['x'],We['quatArr'][-0x33*-0x67+-0x1dd1+0x94d]=_0x27de29['y'],We['quatArr'][-0x1245*-0x1+-0x2395*-0x1+0x35d8*-0x1]=_0x27de29['z'],We['quatArr'][0x128b+-0x3a1*-0xa+-0x923*0x6]=_0x27de29['w'],Rt['set'](this['value'],We['quatArr'],this['valueType']);}else We['vecArr'][0x1*-0x193a+-0xc16+0x2550]=_0x29eca5[-0x1*-0x713+-0x2709+0x1ff6]-this['baseValue'][-0xa73+-0x1114*0x2+0x2c9b],We['vecArr'][-0x966*-0x3+-0x1fad+0x4*0xdf]=_0x29eca5[-0x1a*-0x92+-0x5be*0x3+0x267*0x1]-this['baseValue'][-0x1d0*-0x8+0x2421+0xa20*-0x5],We['vecArr'][-0x18ce+-0xff5+-0x1*-0x28c5]=_0x29eca5[-0x6f+-0xf1*-0x5+-0x444]-this['baseValue'][-0x85*0x45+0x1*-0x1bed+0x3fc8],Rt['blend'](this['value'],We['vecArr'],this['getWeight'](_0x5d2357),this['valueType'],!(-0xa2*-0x1+-0xf10+0x737*0x2));}else Rt['blend'](this['value'],_0x29eca5,this['getWeight'](_0x5d2357),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};c(We,'TYPE_QUAT','quaternion'),c(We,'TYPE_VEC3','vector3'),c(We,'q1',new ie()),c(We,'q2',new ie()),c(We,'q3',new ie()),c(We,'quatArr',[0x1cae+0x1*-0x26f1+0xa43*0x1,0x210+0x261f+-0x282f,-0xb1a+-0x1f18+0x2a32,0x166a+0x141f+-0x8*0x551]),c(We,'vecArr',[0x1832*0x1+-0x35d+-0x14d5,-0x1*-0xbe7+-0x88e*0x3+0xdc3,0x4*0x689+-0xac8+0x4*-0x3d7]),c(We,'IDENTITY_Q'+'UAT_ARR',[-0xa*-0x15c+-0x5db*0x3+-0x153*-0x3,0x15dc+0x887+0x1e63*-0x1,0x2156+0x212d+-0x4283,-0x234f+0x208d+-0x7*-0x65]);let Eo=We;class Y0{constructor(_0x1bd4a0){this['_binder']=_0x1bd4a0,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0xf0ab5){const _0x1a290c=this['_targets'],_0x2efc2d=this['_binder'],_0x3aeee3=_0xf0ab5['track']['curves'],_0x3637f1=_0xf0ab5['snapshot'],_0x481cc5=[],_0x3d8243=[];for(let _0x4ed5aa=0x1*-0x22cb+0x1064+0x1267;_0x4ed5aa<_0x3aeee3['length'];++_0x4ed5aa){const _0x298f88=_0x3aeee3[_0x4ed5aa]['paths'];for(let _0x7967cb=-0xc20+0x66a*-0x4+-0x68*-0x5d;_0x7967cb<_0x298f88['length'];++_0x7967cb){const _0x27a89d=_0x298f88[_0x7967cb],_0x541ba6=_0x2efc2d['resolve'](_0x27a89d);let _0x43d478=_0x1a290c[_0x541ba6&&_0x541ba6['targetPath']||null];if(!_0x43d478&&_0x541ba6){_0x43d478={'target':_0x541ba6,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x5a8d88=0x137d+-0xbe8+0x3*-0x287;_0x5a8d88<_0x43d478['target']['components'];++_0x5a8d88)_0x43d478['value']['push'](-0xf8c+-0x110*-0x17+-0x8e4);if(_0x1a290c[_0x541ba6['targetPath']]=_0x43d478,_0x2efc2d['animCompon'+'ent']){if(!_0x2efc2d['animCompon'+'ent']['targets'][_0x541ba6['targetPath']]){let _0x22b4ab;_0x541ba6['targetPath']['substring'](_0x541ba6['targetPath']['length']-(-0x8c3*0x1+-0x2178+0x1c3*0x18))==='localRotat'+'ion'?_0x22b4ab=Eo['TYPE_QUAT']:_0x22b4ab=Eo['TYPE_VEC3'],_0x2efc2d['animCompon'+'ent']['targets'][_0x541ba6['targetPath']]=new Eo(_0x2efc2d['animCompon'+'ent'],_0x22b4ab);}_0x2efc2d['animCompon'+'ent']['targets'][_0x541ba6['targetPath']]['layerCount'+'er']++,_0x2efc2d['animCompon'+'ent']['targets'][_0x541ba6['targetPath']]['setMask'](_0x2efc2d['layerIndex'],-0x1a5*0x4+0x1*0xae5+-0x6*0xb8);}}_0x43d478&&(_0x43d478['curves']++,_0x481cc5['push'](_0x3637f1['_results'][_0x4ed5aa]),_0x3d8243['push'](_0x43d478));}}this['_clips']['push'](_0xf0ab5),this['_inputs']['push'](_0x481cc5),this['_outputs']['push'](_0x3d8243);}['removeClip'](_0x56403b){const _0x3da0b2=this['_targets'],_0xe84fea=this['_binder'],_0xf4b88c=this['_clips'],_0x1585c1=_0xf4b88c[_0x56403b]['track']['curves'];for(let _0x217c58=-0x232e+0x221+-0x1*-0x210d;_0x217c58<_0x1585c1['length'];++_0x217c58){const _0x1256e1=_0x1585c1[_0x217c58]['paths'];for(let _0xd4c221=0x135e+-0x12d0+-0x8e;_0xd4c221<_0x1256e1['length'];++_0xd4c221){const _0x39a805=_0x1256e1[_0xd4c221],_0x24fdff=this['_binder']['resolve'](_0x39a805);_0x24fdff&&(_0x24fdff['curves']--,_0x24fdff['curves']===-0x11ad+0x879+0x934&&(_0xe84fea['unresolve'](_0x39a805),delete _0x3da0b2[_0x24fdff['targetPath']],_0xe84fea['animCompon'+'ent']&&_0xe84fea['animCompon'+'ent']['targets'][_0x24fdff['targetPath']]['layerCount'+'er']--));}}_0xf4b88c['splice'](_0x56403b,0x7e*-0x23+0x4*-0x82e+-0x1*-0x31f3),this['_inputs']['splice'](_0x56403b,0x55*-0x17+-0x2*0xb71+0x1*0x1e86),this['_outputs']['splice'](_0x56403b,0x1*-0x1e0e+-0x1*-0x1be7+0x228);}['removeClip'+'s'](){for(;this['_clips']['length']>-0xfb*-0x1e+-0x2316*-0x1+-0x3*0x1580;)this['removeClip'](-0x1f5b+-0x1703+0x365e);}['updateClip'+'Track'](_0xe1c964,_0x492491){this['_clips']['forEach'](_0x5ce3ff=>{_0x5ce3ff['name']['includes'](_0xe1c964)&&(_0x5ce3ff['track']=_0x492491);}),this['rebind']();}['findClip'](_0x5f2009){const _0xe23dd0=this['_clips'];for(let _0x1db3da=-0x7*0x491+0x1b29+0x4ce;_0x1db3da<_0xe23dd0['length'];++_0x1db3da){const _0x288d36=_0xe23dd0[_0x1db3da];if(_0x288d36['name']===_0x5f2009)return _0x288d36;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x494abb=[...this['clips']];this['removeClip'+'s'](),_0x494abb['forEach'](_0x4587f3=>{this['addClip'](_0x4587f3);});}['assignMask'](_0x439d53){return this['_binder']['assignMask'](_0x439d53);}['update'](_0x401e95,_0x357e71=!(-0x386*-0x1+0xf73+0x3*-0x653)){const _0x5a3949=this['_clips'],_0x1f0165=_0x5a3949['map']((_0x1b7f04,_0x4fd6c1)=>_0x4fd6c1);Rt['stableSort'](_0x1f0165,(_0x526807,_0x10ca64)=>_0x5a3949[_0x526807]['blendOrder']<_0x5a3949[_0x10ca64]['blendOrder']);for(let _0x4cff40=-0x85a*-0x2+-0x1*0x327+-0xd8d;_0x4cff40<_0x1f0165['length'];++_0x4cff40){const _0x24cb2d=_0x1f0165[_0x4cff40],_0x24d015=_0x5a3949[_0x24cb2d],_0xba2ba5=this['_inputs'][_0x24cb2d],_0x37cf59=this['_outputs'][_0x24cb2d],_0x1b50fc=_0x24d015['blendWeigh'+'t'];if(_0x1b50fc>0x906+-0x1c07+-0x5*-0x3cd&&_0x24d015['_update'](_0x401e95),!_0x357e71)break;let _0x6b09ed,_0x453195,_0x1bc0d9;if(_0x1b50fc>=-0x11cb+-0x1f87*0x1+0xcf*0x3d){for(let _0x53713a=-0x913+0xfab+-0x8*0xd3;_0x53713a<_0xba2ba5['length'];++_0x53713a)_0x6b09ed=_0xba2ba5[_0x53713a],_0x453195=_0x37cf59[_0x53713a],_0x1bc0d9=_0x453195['value'],Rt['set'](_0x1bc0d9,_0x6b09ed,_0x453195['target']['type']),_0x453195['blendCount'+'er']++;}else{if(_0x1b50fc>-0x1*0x1f66+-0x16ef+0x3655){for(let _0x3b7af8=0x1*-0x132d+0x199c+-0x3d*0x1b;_0x3b7af8<_0xba2ba5['length'];++_0x3b7af8)_0x6b09ed=_0xba2ba5[_0x3b7af8],_0x453195=_0x37cf59[_0x3b7af8],_0x1bc0d9=_0x453195['value'],_0x453195['blendCount'+'er']===0x21dc+0x2684+-0x4860?Rt['set'](_0x1bc0d9,_0x6b09ed,_0x453195['target']['type']):Rt['blend'](_0x1bc0d9,_0x6b09ed,_0x1b50fc,_0x453195['target']['type']),_0x453195['blendCount'+'er']++;}}}const _0x1906e0=this['_targets'],_0x5c5faf=this['_binder'];for(const _0x1415b7 in _0x1906e0)if(_0x1906e0['hasOwnProp'+'erty'](_0x1415b7)){const _0x4099b3=_0x1906e0[_0x1415b7];if(_0x5c5faf['animCompon'+'ent']&&_0x4099b3['target']['isTransfor'+'m']){const _0x5c21c0=_0x5c5faf['animCompon'+'ent']['targets'][_0x1415b7];_0x5c21c0['counter']===_0x5c21c0['layerCount'+'er']&&(_0x5c21c0['counter']=0x1b58+-0xd7a+-0xdde),_0x5c21c0['path']||(_0x5c21c0['path']=_0x1415b7,_0x5c21c0['baseValue']=_0x4099b3['target']['get'](),_0x5c21c0['setter']=_0x4099b3['target']['set']),_0x5c21c0['updateValu'+'e'](_0x5c5faf['layerIndex'],_0x4099b3['value']),_0x5c21c0['counter']++;}else _0x4099b3['target']['set'](_0x4099b3['value']);_0x4099b3['blendCount'+'er']=0xe3*-0x1+0xa3*0x39+-0x8da*0x4;}this['_binder']['update'](_0x401e95);}}class K0{constructor(_0x3c3713){this['_events']=[..._0x3c3713],this['_events']['sort']((_0x34c51c,_0x2ebb7e)=>_0x34c51c['time']-_0x2ebb7e['time']);}get['events'](){return this['_events'];}}const fc=class fc{constructor(_0x57422c,_0x68d3f6,_0x39cf48,_0x5a118c,_0x2b0d5d,_0x49508e=new K0([])){this['_name']=_0x57422c,this['_duration']=_0x68d3f6,this['_inputs']=_0x39cf48,this['_outputs']=_0x5a118c,this['_curves']=_0x2b0d5d,this['_animEvent'+'s']=_0x49508e;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x3a562d){this['_animEvent'+'s']=_0x3a562d;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x4a4d44,_0xbaee79){_0xbaee79['_time']=_0x4a4d44;const _0x8b736b=this['_inputs'],_0x1fdf11=this['_outputs'],_0x1dd56d=this['_curves'],_0x4d7a88=_0xbaee79['_cache'],_0x36c827=_0xbaee79['_results'];for(let _0x4547ab=0x137*0x7+0x4*0x2ef+-0x143d;_0x4547ab<_0x8b736b['length'];++_0x4547ab)_0x4d7a88[_0x4547ab]['update'](_0x4a4d44,_0x8b736b[_0x4547ab]['_data']);for(let _0x228379=0x46+0x52+-0x2*0x4c;_0x228379<_0x1dd56d['length'];++_0x228379){const _0xbd584d=_0x1dd56d[_0x228379],_0x53d5fa=_0x1fdf11[_0xbd584d['_output']],_0x55de7c=_0x36c827[_0x228379];_0x4d7a88[_0xbd584d['_input']]['eval'](_0x55de7c,_0xbd584d['_interpola'+'tion'],_0x53d5fa);}}};c(fc,'EMPTY',Object['freeze'](new fc('empty',Number['MAX_VALUE'],[],[],[])));let ki=fc;class Xr{static['joinPath'](_0x5c09d3,_0x558b4d){_0x558b4d=_0x558b4d||'.';const _0x2b63a2=function(_0x539ff2){return _0x539ff2['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x558b4d,'g'),'\x5c'+_0x558b4d);};return _0x5c09d3['map'](_0x2b63a2)['join'](_0x558b4d);}static['splitPath'](_0x26424d,_0x4ee97e){_0x4ee97e=_0x4ee97e||'.';const _0x5d08e3=[];let _0x3635a1='',_0x3eff29=-0x194c+0x1b3e*0x1+-0x1f2;for(;_0x3eff29<_0x26424d['length'];){let _0x362813=_0x26424d[_0x3eff29++];_0x362813==='\x5c'&&_0x3eff29<_0x26424d['length']?(_0x362813=_0x26424d[_0x3eff29++],_0x362813==='\x5c'||_0x362813===_0x4ee97e?_0x3635a1+=_0x362813:_0x3635a1+='\x5c'+_0x362813):_0x362813===_0x4ee97e?(_0x5d08e3['push'](_0x3635a1),_0x3635a1=''):_0x3635a1+=_0x362813;}return _0x3635a1['length']>-0x6dc*-0x4+-0xbd*-0x6+-0x1*0x1fde&&_0x5d08e3['push'](_0x3635a1),_0x5d08e3;}static['encode'](_0x53002c,_0x482137,_0x114768){return(Array['isArray'](_0x53002c)?_0x53002c['join']('/'):_0x53002c)+'/'+_0x482137+'/'+(Array['isArray'](_0x114768)?_0x114768['join']('/'):_0x114768);}['resolve'](_0x5e272f){return null;}['unresolve'](_0x243fad){}['update'](_0x2ec8dc){}}class tf{constructor(_0x409c7f,_0x44e694,_0x2e242b,_0x58eb3c){_0x409c7f['set']?(this['_set']=_0x409c7f['set'],this['_get']=_0x409c7f['get']):this['_set']=_0x409c7f,this['_type']=_0x44e694,this['_component'+'s']=_0x2e242b,this['_targetPat'+'h']=_0x58eb3c,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x18*0x95+-0x2*0xf98+0x1145))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xf3f+0x1ca6+-0x2bd8))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x1abd+0x1417+0x6b0))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class tr{constructor(_0x1c45e8){c(this,'_isPathInM'+'ask',(_0x2d85ee,_0x1b4eef)=>{const _0x5e3259=this['_mask'][_0x2d85ee];if(_0x5e3259){if(_0x5e3259['children']||_0x1b4eef&&_0x5e3259['value']!==!(0xfb9+-0x195d+-0x3*-0x337))return!(-0x2123+0x11*-0x24+0x2387);}else return!(0x1*0x11b8+0x1*-0x1393+0x1dc);return!(0x202f+-0x26fb*0x1+-0x6cd*-0x1);});if(this['graph']=_0x1c45e8,!_0x1c45e8)return;this['_mask']=null;const _0x41d4da={},_0x10bd40=function(_0x25a33d){_0x41d4da[_0x25a33d['name']]=_0x25a33d;for(let _0x2cea8e=0xc4e+-0x18c6+-0x38*-0x39;_0x2cea8e<_0x25a33d['children']['length'];++_0x2cea8e)_0x10bd40(_0x25a33d['children'][_0x2cea8e]);};_0x10bd40(_0x1c45e8),this['nodes']=_0x41d4da,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x2170c9=function(_0x3f3a10){let _0x19ecab=_0x3f3a10;for(;_0x19ecab&&!(_0x19ecab instanceof je);)_0x19ecab=_0x19ecab['parent'];let _0x56ec62;return _0x19ecab&&(_0x19ecab['render']?_0x56ec62=_0x19ecab['render']['meshInstan'+'ces']:_0x19ecab['model']&&(_0x56ec62=_0x19ecab['model']['meshInstan'+'ces'])),_0x56ec62;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x6490a4){const _0x1fa45f=_0x6490a4['localPosit'+'ion'],_0x4b9416=function(_0x519b00){_0x1fa45f['set'](..._0x519b00);};return tr['createAnim'+'Target'](_0x4b9416,'vector',0x11a2+-0x1*-0x222f+-0x33ce,_0x6490a4,'localPosit'+'ion');},'localRotation':function(_0x4554d1){const _0x2d8baf=_0x4554d1['localRotat'+'ion'],_0xaca5e3=function(_0xae7447){_0x2d8baf['set'](..._0xae7447);};return tr['createAnim'+'Target'](_0xaca5e3,'quaternion',-0x6fe+0x4c1*0x4+-0x3a*0x35,_0x4554d1,'localRotat'+'ion');},'localScale':function(_0x541ce7){const _0x408aad=_0x541ce7['localScale'],_0x215677=function(_0x4d714a){_0x408aad['set'](..._0x4d714a);};return tr['createAnim'+'Target'](_0x215677,'vector',0x69e+-0x11*0x22b+0x1e40,_0x541ce7,'localScale');},'weight':function(_0x55f591,_0x22be6d){_0x22be6d['indexOf']('name.')===0x4*-0x9a+0x83*0x17+0x8d*-0x11?_0x22be6d=_0x22be6d['replace']('name.',''):_0x22be6d=Number(_0x22be6d);const _0x47baaa=_0x2170c9(_0x55f591);let _0x3051d2;if(_0x47baaa){for(let _0x1afa68=-0x2309*0x1+-0x1cf1+0x3ffa;_0x1afa68<_0x47baaa['length'];++_0x1afa68)if(_0x47baaa[_0x1afa68]['node']['name']===_0x55f591['name']&&_0x47baaa[_0x1afa68]['morphInsta'+'nce']){const _0x1cd35f=_0x47baaa[_0x1afa68]['morphInsta'+'nce'],_0x484445=_0x43fa71=>{_0x1cd35f['setWeight'](_0x22be6d,_0x43fa71[0x1*0x1e5f+0x7c9*0x5+-0x454c*0x1]);};_0x3051d2||(_0x3051d2=[]),_0x3051d2['push'](_0x484445);}}if(_0x3051d2){const _0x1bb70a=_0x2de879=>{for(let _0x3ff44f=0x155+0x240f+0x959*-0x4;_0x3ff44f<_0x3051d2['length'];++_0x3ff44f)_0x3051d2[_0x3ff44f](_0x2de879);};return tr['createAnim'+'Target'](_0x1bb70a,'number',0x1791+-0x16b3+0xd*-0x11,_0x55f591,'weight.'+_0x22be6d);}return null;},'materialTexture':(_0x46ec68,_0x541358)=>{const _0x516e38=_0x2170c9(_0x46ec68);if(_0x516e38){let _0x4ea731;for(let _0x19cb50=-0x2*-0x37+-0x1*0x14f0+0x15*0xfa;_0x19cb50<_0x516e38['length'];++_0x19cb50)if(_0x516e38[_0x19cb50]['node']['name']===_0x46ec68['name']){_0x4ea731=_0x516e38[_0x19cb50];break;}if(_0x4ea731){const _0x50938f=_0x53bc8e=>{const _0x2ac267=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x53bc8e[-0x2099*-0x1+-0x736+0x1963*-0x1]);_0x2ac267&&_0x2ac267['resource']&&_0x2ac267['type']==='texture'&&(_0x4ea731['material'][_0x541358]=_0x2ac267['resource'],_0x4ea731['material']['update']());};return tr['createAnim'+'Target'](_0x50938f,'vector',0x1375+0x1*0xe9b+-0x220f,_0x46ec68,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0xbe3f47){if(!this['_mask'])return!(0x1fe4+0x1*0x1119+-0x30fd);const _0x29a58a=[_0xbe3f47['entityPath'][-0x31+-0x116*0x17+0x192b],this['graph']['name']];for(let _0x464baa=-0xf5*0x23+-0x2*-0x10c1+-0x1*0x3;_0x464baa<_0x29a58a['length'];++_0x464baa){let _0x341b6e=_0x29a58a[_0x464baa];if(this['_isPathInM'+'ask'](_0x341b6e,_0xbe3f47['entityPath']['length']===0x8b*-0x3c+0x193+0x1f02))return!(-0x1d71*-0x1+0x2b9+-0x202a);for(let _0x5d265f=-0x2264+-0xe03+0x3068;_0x5d265f<_0xbe3f47['entityPath']['length'];_0x5d265f++)if(_0x341b6e+='/'+_0xbe3f47['entityPath'][_0x5d265f],this['_isPathInM'+'ask'](_0x341b6e,_0x5d265f===_0xbe3f47['entityPath']['length']-(-0xe33+-0x26bf+0x5*0xa97)))return!(0x1*0x2333+-0x7ed+-0x1b46);}return!(-0x1602+-0x67*0x5d+0x3b6e);}['findNode'](_0x42a6ec){if(!this['_isPathAct'+'ive'](_0x42a6ec))return null;let _0x381ced;if(this['graph']&&(_0x381ced=this['graph']['findByPath'](_0x42a6ec['entityPath']),_0x381ced||(_0x381ced=this['graph']['findByPath'](_0x42a6ec['entityPath']['slice'](0xc6b*-0x3+-0x1d7+0x2719)))),!_0x381ced){_0x381ced=this['nodes'][_0x42a6ec['entityPath'][_0x42a6ec['entityPath']['length']-(0x1820+-0x1045*0x1+-0x7da)]||''];const _0x303e11=Xr['encode'](_0x42a6ec['entityPath'][_0x42a6ec['entityPath']['length']-(0x311*-0x7+-0x979+0x1ef1)]||'','graph',_0x42a6ec['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x303e11]===-0xbe8+0x1*0x4db+0x70e&&b['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x303e11+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x303e11])?this['visitedFal'+'lbackGraph'+'Paths'][_0x303e11]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x303e11]=-0x1cfe+0x1*0x1385+-0x61*-0x19;}return _0x381ced;}static['createAnim'+'Target'](_0x4d8077,_0x655d5b,_0x322a62,_0xfad22,_0x55fa41,_0x5d2fc2){const _0x16a2b4=Xr['encode'](_0xfad22['path'],_0x5d2fc2||'entity',_0x55fa41);return new tf(_0x4d8077,_0x655d5b,_0x322a62,_0x16a2b4);}['resolve'](_0x30e4ed){const _0x4cb2d1=Xr['encode'](_0x30e4ed['entityPath'],_0x30e4ed['component'],_0x30e4ed['propertyPa'+'th']);let _0x35be0b=this['targetCach'+'e'][_0x4cb2d1];if(_0x35be0b)return _0x35be0b;const _0x2b8f42=this['findNode'](_0x30e4ed);if(!_0x2b8f42)return null;const _0x5d6726=this['handlers'][_0x30e4ed['propertyPa'+'th']];return!_0x5d6726||(_0x35be0b=_0x5d6726(_0x2b8f42),!_0x35be0b)?null:(this['targetCach'+'e'][_0x4cb2d1]=_0x35be0b,this['nodeCounts'][_0x2b8f42['path']]?this['nodeCounts'][_0x2b8f42['path']]++:(this['activeNode'+'s']['push'](_0x2b8f42),this['nodeCounts'][_0x2b8f42['path']]=-0x1ad2*-0x1+0x5*0x6f1+-0x5*0xc4e),_0x35be0b);}['unresolve'](_0x3aa4be){if(_0x3aa4be['component']!=='graph')return;const _0x51c2ec=this['nodes'][_0x3aa4be['entityPath'][_0x3aa4be['entityPath']['length']-(-0xd*0x163+0x7*-0x2c5+0x256b)]||''];if(this['nodeCounts'][_0x51c2ec['path']]--,this['nodeCounts'][_0x51c2ec['path']]===-0x1c3f+-0x26c4*-0x1+-0xa85){const _0x299fe5=this['activeNode'+'s'],_0x550a66=_0x299fe5['indexOf'](_0x51c2ec['node']),_0x24a23e=_0x299fe5['length'];_0x550a66<_0x24a23e-(0x1c87+0x1b78+-0x37fe)&&(_0x299fe5[_0x550a66]=_0x299fe5[_0x24a23e-(0x21e9+0x1472+-0x365a)]),_0x299fe5['pop']();}}['update'](_0x58e583){const _0x743af3=this['activeNode'+'s'];for(let _0x402e26=0xe82+-0x65*0x3a+0x218*0x4;_0x402e26<_0x743af3['length'];++_0x402e26)_0x743af3[_0x402e26]['_dirtifyLo'+'cal']();}['assignMask'](_0xdc8a99){return _0xdc8a99!==this['_mask']?(this['_mask']=_0xdc8a99,!(0x1e4*-0x14+0x2*-0x1106+0x47dc)):!(-0x4ba+-0xade+0xf99*0x1);}}class Z0 extends pe{constructor(){super(...arguments),c(this,'_animation'+'s',{}),c(this,'_assets',[]),c(this,'_loop',!(-0x1*0x1fb5+-0x13*0x61+0x26e8)),c(this,'animEvalua'+'tor',null),c(this,'model',null),c(this,'skeleton',null),c(this,'fromSkel',null),c(this,'toSkel',null),c(this,'animations'+'Index',{}),c(this,'prevAnim',null),c(this,'currAnim',null),c(this,'blend',-0x1a6f+0x25b3+-0xb44),c(this,'blending',!(-0x7*0x3d7+0xc4*-0x1f+0x329e)),c(this,'blendSpeed',0x1f1d+-0x23db+-0x4be*-0x1),c(this,'activate',!(0x105a+-0x25b+0x1*-0xdff)),c(this,'speed',0x12b3+-0x13a3+-0xf1*-0x1);}set['animations'](_0x525180){this['_animation'+'s']=_0x525180,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x214ea7){const _0x1f1d7c=this['_assets'];if(_0x1f1d7c&&_0x1f1d7c['length']){for(let _0x21f54a=0x1453+-0x28c+-0x11c7;_0x21f54a<_0x1f1d7c['length'];_0x21f54a++)if(_0x1f1d7c[_0x21f54a]){const _0x3bd870=this['system']['app']['assets']['get'](_0x1f1d7c[_0x21f54a]);if(_0x3bd870){_0x3bd870['off']('change',this['onAssetCha'+'nged'],this),_0x3bd870['off']('remove',this['onAssetRem'+'oved'],this);const _0x36d3db=this['animations'+'Index'][_0x3bd870['id']];this['currAnim']===_0x36d3db&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x36d3db],delete this['animations'+'Index'][_0x3bd870['id']];}}}this['_assets']=_0x214ea7;const _0x303c0c=_0x214ea7['map'](_0x39590f=>_0x39590f instanceof he?_0x39590f['id']:_0x39590f);this['loadAnimat'+'ionAssets'](_0x303c0c);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x26b9f5){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x26b9f5,this['skeleton']['addTime'](-0x3fa*0x6+-0x1a34+0x3210),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x25ff42=this['animEvalua'+'tor']['clips'];for(let _0x4e304e=-0xc8b+-0x1a9+0xe34;_0x4e304e<_0x25ff42['length'];++_0x4e304e)_0x25ff42[_0x4e304e]['time']=_0x26b9f5;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x92332d=this['animEvalua'+'tor']['clips'];if(_0x92332d['length']>-0x4b1*0x3+0x7f*0x15+0x3a8)return _0x92332d[_0x92332d['length']-(-0x14ab+-0x1*-0x26b2+-0x1206)]['time'];}return-0x107*-0x1+0x122+0x229*-0x1;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(b['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x37*-0x24+0xde+-0x89a);}set['loop'](_0x204000){if(this['_loop']=_0x204000,this['skeleton']&&(this['skeleton']['looping']=_0x204000),this['animEvalua'+'tor']){for(let _0x57b1dc=0x89c+0x17*-0x3b+-0x34f;_0x57b1dc<this['animEvalua'+'tor']['clips']['length'];++_0x57b1dc)this['animEvalua'+'tor']['clips'][_0x57b1dc]['loop']=_0x204000;}}get['loop'](){return this['_loop'];}['play'](_0x211bb8,_0x26d97b=0xc*-0x18e+-0xdb8+0x818*0x4){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x211bb8]){b['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x211bb8+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x211bb8,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x118b8b=this['animations'][this['prevAnim']],_0x236d49=this['animations'][this['currAnim']];if(this['blending']=_0x26d97b>-0xcc8+-0xfed*0x1+-0x1cb5*-0x1&&!!this['prevAnim'],this['blending']&&(this['blend']=0x2155+0x12e5+-0x343a,this['blendSpeed']=(-0x4*0x3cb+-0x2647+0x3574)/_0x26d97b),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x118b8b,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x236d49):this['skeleton']['animation']=_0x236d49),this['animEvalua'+'tor']){const _0x1f2bfb=this['animEvalua'+'tor'];if(this['blending']){for(;_0x1f2bfb['clips']['length']>-0x2688+0x2211+0x478;)_0x1f2bfb['removeClip'](-0x12c*0x2+0x1b*0xf+0xc3);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x565db4=new Qh(this['animations'][this['currAnim']],-0x4b0+0x1835+-0x1385,0xe49+0x1*-0x1e19+-0xfd1*-0x1,!(0x2f7*0x2+-0x1a4+-0x44a),this['loop']);_0x565db4['name']=this['currAnim'],_0x565db4['blendWeigh'+'t']=this['blending']?-0x1*0x79c+0x443+0x359:-0x14e+0xd*0x209+0xae*-0x25,_0x565db4['reset'](),this['animEvalua'+'tor']['addClip'](_0x565db4);}}this['playing']=!(0x10b1*0x1+-0x11*0x5b+-0xaa6);}}['getAnimati'+'on'](_0x57e5a1){return this['animations'][_0x57e5a1];}['setModel'](_0xd00fa1){_0xd00fa1!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0xd00fa1,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x2c194c=this['entity']['model'];if(_0x2c194c){const _0xa9d84a=_0x2c194c['model'];_0xa9d84a&&_0xa9d84a!==this['model']&&this['setModel'](_0xa9d84a);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x3cc70d=Object['keys'](this['_animation'+'s']);_0x3cc70d['length']>-0x1*-0x1e51+-0xd9*-0x1a+-0x407*0xd&&this['play'](_0x3cc70d[0x12*0x19c+0x190a+-0x1f*0x1be]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x2698c1=this['model'],_0x5b414c=this['animations'];let _0x4a0064=!(0x1*0x1516+0xb62+-0x2077*0x1),_0x4638c9=!(-0x25a7+0x65e*0x4+0xc30);for(const _0x546f68 in _0x5b414c)_0x5b414c['hasOwnProp'+'erty'](_0x546f68)&&(_0x5b414c[_0x546f68]['constructo'+'r']===ki?_0x4638c9=!(-0x16*0x25+-0x14b1*-0x1+-0x1183):_0x4a0064=!(0x2*-0xad5+-0xa48*0x1+-0x8d*-0x3a));const _0x4bbc6b=_0x2698c1['getGraph']();_0x4a0064?(this['fromSkel']=new jd(_0x4bbc6b),this['toSkel']=new jd(_0x4bbc6b),this['skeleton']=new jd(_0x4bbc6b),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4bbc6b)):_0x4638c9&&(this['animEvalua'+'tor']=new Y0(new tr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x328d3b){if(!_0x328d3b||!_0x328d3b['length'])return;const _0x2a0e57=this['system']['app']['assets'],_0x5d7c01=_0x3f421b=>{if(_0x3f421b['resources']['length']>0x2304+0x11*0x1b1+0x5cc*-0xb){for(let _0x3c2aff=0x1bc0+-0x84b*0x4+-0x15b*-0x4;_0x3c2aff<_0x3f421b['resources']['length'];_0x3c2aff++)this['animations'][_0x3f421b['resources'][_0x3c2aff]['name']]=_0x3f421b['resources'][_0x3c2aff],this['animations'+'Index'][_0x3f421b['id']]=_0x3f421b['resources'][_0x3c2aff]['name'];}else this['animations'][_0x3f421b['name']]=_0x3f421b['resource'],this['animations'+'Index'][_0x3f421b['id']]=_0x3f421b['name'];this['animations']=this['animations'];},_0x4ccc54=_0x589884=>{_0x589884['off']('change',this['onAssetCha'+'nged'],this),_0x589884['on']('change',this['onAssetCha'+'nged'],this),_0x589884['off']('remove',this['onAssetRem'+'oved'],this),_0x589884['on']('remove',this['onAssetRem'+'oved'],this),_0x589884['resource']?_0x5d7c01(_0x589884):(_0x589884['once']('load',_0x5d7c01,this),this['enabled']&&this['entity']['enabled']&&_0x2a0e57['load'](_0x589884));};for(let _0xa53ae3=0x442+0xa*-0x6f+-0x4*-0x5,_0x313e13=_0x328d3b['length'];_0xa53ae3<_0x313e13;_0xa53ae3++){const _0xec7605=_0x2a0e57['get'](_0x328d3b[_0xa53ae3]);_0xec7605?_0x4ccc54(_0xec7605):_0x2a0e57['on']('add:'+_0x328d3b[_0xa53ae3],_0x4ccc54);}}['onAssetCha'+'nged'](_0x264ff3,_0x3c54dd,_0x64d93f,_0x18b3f4){if(_0x3c54dd==='resource'||_0x3c54dd==='resources'){if(_0x3c54dd==='resources'&&_0x64d93f&&_0x64d93f['length']===0x642+0x12b+-0x76d&&(_0x64d93f=null),_0x64d93f){let _0x1a01da=!(0x1d6+0x29*0xdf+-0x258c*0x1);if(_0x64d93f['length']>0x1*-0x761+-0x1d09+0x246b){if(_0x18b3f4&&_0x18b3f4['length']>-0x11c6+0x5*0x35+0x10be){for(let _0x2b9af2=0xcbb*-0x3+0x1*0x154+0x24dd*0x1;_0x2b9af2<_0x18b3f4['length'];_0x2b9af2++)delete this['animations'][_0x18b3f4[_0x2b9af2]['name']];}else delete this['animations'][_0x264ff3['name']];_0x1a01da=!(0x1476+0x1*0x26c3+-0xa*0x5ec);for(let _0x59dbc6=-0x2637+-0x838*-0x2+0x1*0x15c7;_0x59dbc6<_0x64d93f['length'];_0x59dbc6++)this['animations'][_0x64d93f[_0x59dbc6]['name']]=_0x64d93f[_0x59dbc6],!_0x1a01da&&this['currAnim']===_0x64d93f[_0x59dbc6]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x1a01da=!(0x210a+0x1923+-0x3a2d),this['play'](_0x64d93f[_0x59dbc6]['name']));_0x1a01da||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x18b3f4&&_0x18b3f4['length']>0xeb4*0x1+-0x1e51+0xf9e){for(let _0x5d5e00=0x82*0x15+0x23b*0xb+-0x2333;_0x5d5e00<_0x18b3f4['length'];_0x5d5e00++)delete this['animations'][_0x18b3f4[_0x5d5e00]['name']];}this['animations'][_0x264ff3['name']]=_0x64d93f[0xd8e*-0x2+-0x71*0x4+0x1ce0]||_0x64d93f,_0x1a01da=!(-0x187d+0x131d+0x561),this['currAnim']===_0x264ff3['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x1a01da=!(0x6cd+0x4*-0x26e+0x2eb),this['play'](_0x264ff3['name'])),_0x1a01da||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x264ff3['id']]=_0x264ff3['name'];}else{if(_0x18b3f4['length']>-0x3df+0x1fe0+-0x1*0x1c00){for(let _0x14d934=-0x263b+-0x1*-0x1eaf+0x78c;_0x14d934<_0x18b3f4['length'];_0x14d934++)delete this['animations'][_0x18b3f4[_0x14d934]['name']],this['currAnim']===_0x18b3f4[_0x14d934]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x264ff3['name']],this['currAnim']===_0x264ff3['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x264ff3['id']];}}}['onAssetRem'+'oved'](_0x421577){if(_0x421577['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x421577['resources']['length']>-0x1057*0x2+0x88f+0x1820){for(let _0x81387d=-0x25dd+-0x14f1+0x3ace;_0x81387d<_0x421577['resources']['length'];_0x81387d++)delete this['animations'][_0x421577['resources'][_0x81387d]['name']],this['currAnim']===_0x421577['resources'][_0x81387d]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x421577['name']],this['currAnim']===_0x421577['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x421577['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(0x2024+0x26*-0x67+-0x10d9),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x255d+0x2*0xad+0x11*-0x247,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x4232df=0x1*-0x1de+-0x159a+-0x8*-0x2ef;_0x4232df<this['animEvalua'+'tor']['clips']['length'];++_0x4232df)this['animEvalua'+'tor']['clips'][_0x4232df]['stop']();this['animEvalua'+'tor']['update'](-0x23a8+0x1255+0x1153),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x44b922=this['assets'],_0x203d6f=this['system']['app']['assets'];if(_0x44b922)for(let _0x459417=0x470*0x6+-0x36*-0x1a+-0xa*0x336,_0x1177d0=_0x44b922['length'];_0x459417<_0x1177d0;_0x459417++){let _0x5eebfe=_0x44b922[_0x459417];_0x5eebfe instanceof he||(_0x5eebfe=_0x203d6f['get'](_0x5eebfe)),_0x5eebfe&&!_0x5eebfe['resource']&&_0x203d6f['load'](_0x5eebfe);}if(this['activate']&&!this['currAnim']){const _0x47e63f=Object['keys'](this['animations']);_0x47e63f['length']>-0x1ac4+0x267f+-0xd*0xe7&&this['play'](_0x47e63f[-0x1cb4+0x12f6+0x9be]);}}['onBeforeRe'+'move'](){for(let _0x2eea30=0x12*-0x4+0x7ef+-0x7a7;_0x2eea30<this['assets']['length'];_0x2eea30++){let _0x559ed6=this['assets'][_0x2eea30];typeof _0x559ed6=='number'&&(_0x559ed6=this['system']['app']['assets']['get'](_0x559ed6)),_0x559ed6&&(_0x559ed6['off']('change',this['onAssetCha'+'nged'],this),_0x559ed6['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x54e328){if(this['blending']&&(this['blend']+=_0x54e328*this['blendSpeed'],this['blend']>=-0x2*0x1c1+0x9d6+-0x1*0x653&&(this['blend']=-0x2347+0x7*-0x459+0x41b7)),this['playing']){const _0x9bd162=this['skeleton'];if(_0x9bd162!==null&&this['model']!==null){if(this['blending'])_0x9bd162['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x7b47ff=_0x54e328*this['speed'];_0x9bd162['addTime'](_0x7b47ff),this['speed']>-0x7de+0x2313+-0x1b35&&_0x9bd162['_time']===_0x9bd162['animation']['duration']&&!this['loop']?this['playing']=!(-0x3*0x3fa+0x4e7*-0x3+0x554*0x5):this['speed']<-0x254d+-0xd*0x287+0xa*0x704&&_0x9bd162['_time']===-0x1d29+0x7*0x3e5+0xa2*0x3&&!this['loop']&&(this['playing']=!(0xc9d*0x1+-0x3*-0x359+-0x16a7));}this['blending']&&this['blend']===-0x3a6+-0x1061+0x1408&&(_0x9bd162['animation']=this['toSkel']['animation']),_0x9bd162['updateGrap'+'h']();}}const _0x3b2543=this['animEvalua'+'tor'];if(_0x3b2543){for(let _0xed592e=-0x1b1*0x1+-0x1ce0+0x1e91;_0xed592e<_0x3b2543['clips']['length'];++_0xed592e){const _0x1d8d76=_0x3b2543['clips'][_0xed592e];_0x1d8d76['speed']=this['speed'],this['playing']?_0x1d8d76['resume']():_0x1d8d76['pause']();}this['blending']&&_0x3b2543['clips']['length']>0x13a5+0x41+-0x1*0x13e5&&(_0x3b2543['clips'][-0x179d+-0x2598+0x3d36]['blendWeigh'+'t']=this['blend']),_0x3b2543['update'](_0x54e328);}this['blending']&&this['blend']===0x538+-0x1a4f+0x1518&&(this['blending']=!(-0x180a*-0x1+-0xec+-0x171d));}}class UP{constructor(){this['enabled']=!(0x125*0x7+-0x140d+0xc0a);}}const sf=['enabled'];class VP extends Qe{constructor(_0x4326a6){super(_0x4326a6),this['id']='animation',this['ComponentT'+'ype']=Z0,this['DataType']=UP,this['schema']=sf,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2902b9,_0x53b4f7,_0x5f128e){_0x5f128e=['activate','enabled','loop','speed','assets'];for(const _0x229819 of _0x5f128e)_0x53b4f7['hasOwnProp'+'erty'](_0x229819)&&(_0x2902b9[_0x229819]=_0x53b4f7[_0x229819]);super['initialize'+'ComponentD'+'ata'](_0x2902b9,_0x53b4f7,sf);}['cloneCompo'+'nent'](_0x5d7357,_0x118e62){this['addCompone'+'nt'](_0x118e62,{}),_0x118e62['animation']['assets']=_0x5d7357['animation']['assets']['slice'](),_0x118e62['animation']['speed']=_0x5d7357['animation']['speed'],_0x118e62['animation']['loop']=_0x5d7357['animation']['loop'],_0x118e62['animation']['activate']=_0x5d7357['animation']['activate'],_0x118e62['animation']['enabled']=_0x5d7357['animation']['enabled'];const _0x1d4857={},_0x51e60e=_0x5d7357['animation']['animations'];for(const _0x27ae11 in _0x51e60e)_0x51e60e['hasOwnProp'+'erty'](_0x27ae11)&&(_0x1d4857[_0x27ae11]=_0x51e60e[_0x27ae11]);_0x118e62['animation']['animations']=_0x1d4857;const _0x13462d={},_0x3a06e7=_0x5d7357['animation']['animations'+'Index'];for(const _0x8433a1 in _0x3a06e7)_0x3a06e7['hasOwnProp'+'erty'](_0x8433a1)&&(_0x13462d[_0x8433a1]=_0x3a06e7[_0x8433a1]);return _0x118e62['animation']['animations'+'Index']=_0x13462d,_0x118e62['animation'];}['onBeforeRe'+'move'](_0x3c3b5d,_0x261823){_0x261823['onBeforeRe'+'move']();}['onUpdate'](_0xff1ada){const _0x3bebab=this['store'];for(const _0x1f63e5 in _0x3bebab)if(_0x3bebab['hasOwnProp'+'erty'](_0x1f63e5)){const _0x3e6726=_0x3bebab[_0x1f63e5];_0x3e6726['data']['enabled']&&_0x3e6726['entity']['enabled']&&_0x3e6726['entity']['animation']['update'](_0xff1ada);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](Z0['prototype'],sf);class Wo{constructor(_0x27ff66,_0x45b67d,_0x504d5f,_0x24a111,_0x382059=0x79b+-0x1*0x925+-0x4f*-0x5){this['_state']=_0x27ff66,this['_parent']=_0x45b67d,this['_name']=_0x504d5f,Array['isArray'](_0x24a111)?(this['_point']=new W(_0x24a111[-0xb50+-0x263*-0x10+0x560*-0x5],_0x24a111[0x6*0x595+-0x269a+0x51d]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x24a111,this['_pointLeng'+'th']=_0x24a111),this['_speed']=_0x382059,this['_weightedS'+'peed']=-0x16*-0x79+-0xf2e+-0xf5*-0x5,this['_weight']=-0xaeb+-0x109*-0x1+0x9e3,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x26b1c0){this['_weight']=_0x26b1c0;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x57fd88=this['_state']['totalWeigh'+'t'];return _0x57fd88===-0xa4a+-0x1280+0x6e*0x43?-0xbb+-0x15de*-0x1+0x305*-0x7:this['weight']/_0x57fd88;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x11c32e){this['_weightedS'+'peed']=_0x11c32e;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x22cb6c){this['_animTrack']=_0x22cb6c;}get['animTrack'](){return this['_animTrack'];}}class Ua extends Wo{constructor(_0x43d884,_0x3e790e,_0x19a963,_0x21ac6a,_0x3cec8d,_0x2f3087,_0x39e55c,_0xbe174b,_0x317960){super(_0x43d884,_0x3e790e,_0x19a963,_0x21ac6a),this['_parameter'+'s']=_0x3cec8d,this['_parameter'+'Values']=new Array(_0x3cec8d['length']),this['_children']=[],this['_findParam'+'eter']=_0x317960,this['_syncAnima'+'tions']=_0x39e55c!==!(0x239f*0x1+-0x1b68*-0x1+-0x3f06),this['_pointCach'+'e']={};for(let _0x79c376=-0x1*0xfac+0x1*0x604+0x9a8;_0x79c376<_0x2f3087['length'];_0x79c376++){const _0x4f16ab=_0x2f3087[_0x79c376];_0x4f16ab['children']?this['_children']['push'](_0xbe174b(_0x4f16ab['type'],_0x43d884,this,_0x4f16ab['name'],-0x679*0x3+-0x22da+0x3646,_0x4f16ab['parameter']?[_0x4f16ab['parameter']]:_0x4f16ab['parameters'],_0x4f16ab['children'],_0x4f16ab['syncAnimat'+'ions'],_0xbe174b,_0x317960)):this['_children']['push'](new Wo(_0x43d884,this,_0x4f16ab['name'],_0x4f16ab['point'],_0x4f16ab['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x436462){for(let _0x82a910=-0x8bd+-0x1f1c+-0x27d9*-0x1;_0x82a910<this['_children']['length'];_0x82a910++)if(this['_children'][_0x82a910]['name']===_0x436462)return this['_children'][_0x82a910];return null;}['updatePara'+'meterValue'+'s'](){let _0x93b64f=!(0x1*-0x751+-0x2004+0x2755);for(let _0x3df51b=-0x2*-0x731+0x2*0xc2f+-0x26c0;_0x3df51b<this['_parameter'+'Values']['length'];_0x3df51b++){const _0xc98c3a=this['_findParam'+'eter'](this['_parameter'+'s'][_0x3df51b])['value'];this['_parameter'+'Values'][_0x3df51b]!==_0xc98c3a&&(this['_parameter'+'Values'][_0x3df51b]=_0xc98c3a,_0x93b64f=!(0x9ba+0x109+-0xac2));}return _0x93b64f;}['getNodeWei'+'ghtedDurat'+'ion'](_0x3f372b){return this['_children'][_0x3f372b]['animTrack']['duration']/this['_children'][_0x3f372b]['speedMulti'+'plier']*this['_children'][_0x3f372b]['weight'];}['getNodeCou'+'nt'](){let _0x437e3=-0x191a+0x3f4+0x1526*0x1;for(let _0x318370=-0x7ff*-0x2+0x205*0x9+0x1*-0x222b;_0x318370<this['_children']['length'];_0x318370++)this['_children'][_0x318370]['constructo'+'r']===Ua?_0x437e3+=this['_children'][_0x318370]['getNodeCou'+'nt']():_0x437e3++;return _0x437e3;}}class GP extends Ua{constructor(_0x199e6a,_0x1572f3,_0x2b869b,_0x4c32b7,_0x2183ba,_0x3dfc50,_0x1a7149,_0xd050fa,_0x428243){_0x3dfc50['sort']((_0x3dbb9f,_0x3f1eb4)=>_0x3dbb9f['point']-_0x3f1eb4['point']),super(_0x199e6a,_0x1572f3,_0x2b869b,_0x4c32b7,_0x2183ba,_0x3dfc50,_0x1a7149,_0xd050fa,_0x428243);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5707b7=-0x2216+0x1cff+0x517*0x1;this['_children'][0xf1+-0x2*0x757+0xdbd]['weight']=-0x44*0x65+-0x5*-0x1b7+0x1241;for(let _0x10fc07=-0x1556+-0x3bb+-0x3*-0x85b;_0x10fc07<this['_children']['length'];_0x10fc07++){const _0xd6d298=this['_children'][_0x10fc07];if(_0x10fc07!==this['_children']['length']-(0x219a+-0x22e5+0x1*0x14c)){const _0x23094d=this['_children'][_0x10fc07+(0x808*-0x2+-0x1*-0xb5a+0x1*0x4b7)];if(_0xd6d298['point']===_0x23094d['point'])_0xd6d298['weight']=-0x2*0x1229+0x44*0x68+0x8b2+0.5,_0x23094d['weight']=0x109b+-0x1d8*-0x2+-0x144b*0x1+0.5;else{if(z['between'](this['_parameter'+'Values'][-0x2be+0x73*-0x49+0x2389],_0xd6d298['point'],_0x23094d['point'],!(-0x1c*0x92+0xc45+0x3b3))){const _0x3f63b4=Math['abs'](_0xd6d298['point']-_0x23094d['point']),_0x100088=Math['abs'](_0xd6d298['point']-this['_parameter'+'Values'][-0x1f07*0x1+0x1*-0x329+-0x223*-0x10]),_0x59e014=(_0x3f63b4-_0x100088)/_0x3f63b4;_0xd6d298['weight']=_0x59e014,_0x23094d['weight']=0x12c7+0x230f+-0x1*0x35d5-_0x59e014;}else _0x23094d['weight']=-0x2da+-0x14cb*-0x1+-0x11f1;}}this['_syncAnima'+'tions']&&(_0x5707b7+=_0xd6d298['animTrack']['duration']/_0xd6d298['absoluteSp'+'eed']*_0xd6d298['weight']);}if(this['_syncAnima'+'tions'])for(let _0x22a84f=0x4*0x2ab+0x12de+-0x1d8a;_0x22a84f<this['_children']['length'];_0x22a84f++){const _0x5b12e4=this['_children'][_0x22a84f];_0x5b12e4['weightedSp'+'eed']=_0x5b12e4['animTrack']['duration']/_0x5b12e4['absoluteSp'+'eed']/_0x5707b7;}}}const bi=class bi extends Ua{['pointDista'+'nceCache'](_0x1c5d00,_0x2f3b7a){const _0x55dd9b=''+_0x1c5d00+_0x2f3b7a;return this['_pointCach'+'e'][_0x55dd9b]||(this['_pointCach'+'e'][_0x55dd9b]=this['_children'][_0x2f3b7a]['point']['clone']()['sub'](this['_children'][_0x1c5d00]['point'])),this['_pointCach'+'e'][_0x55dd9b];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x357148,_0x35cc76;bi['_p']['set'](...this['_parameter'+'Values']),_0x357148=0xf10+-0x1fb+-0xd15,_0x35cc76=0x98*-0x28+0x1*-0x6c9+-0x1*-0x1e89;for(let _0x1734b9=0x1d26+0x20bf+-0xc61*0x5;_0x1734b9<this['_children']['length'];_0x1734b9++){const _0x353429=this['_children'][_0x1734b9],_0x5b2241=_0x353429['point'];bi['_pip']['set'](bi['_p']['x'],bi['_p']['y'])['sub'](_0x5b2241);let _0x3efa18=Number['MAX_VALUE'];for(let _0x148e18=-0x12c5+0x2617+-0x9a9*0x2;_0x148e18<this['_children']['length'];_0x148e18++){if(_0x1734b9===_0x148e18)continue;const _0x1fad82=this['pointDista'+'nceCache'](_0x1734b9,_0x148e18),_0x4b9a6e=z['clamp'](0xb*0x2d7+0x1bd8+-0x3b14-bi['_pip']['dot'](_0x1fad82)/_0x1fad82['lengthSq'](),0x18e8+0x9e2+-0x22ca,0x291+-0x4c*0x4d+0x144c);_0x4b9a6e<_0x3efa18&&(_0x3efa18=_0x4b9a6e);}_0x353429['weight']=_0x3efa18,_0x357148+=_0x3efa18,this['_syncAnima'+'tions']&&(_0x35cc76+=_0x353429['animTrack']['duration']/_0x353429['absoluteSp'+'eed']*_0x353429['weight']);}for(let _0x495b38=0x4d*0x6a+0x7*0x2a7+0x9*-0x59b;_0x495b38<this['_children']['length'];_0x495b38++){const _0x108f8a=this['_children'][_0x495b38];_0x108f8a['weight']=_0x108f8a['_weight']/_0x357148,this['_syncAnima'+'tions']&&(_0x108f8a['weightedSp'+'eed']=_0x108f8a['animTrack']['duration']/_0x108f8a['absoluteSp'+'eed']/_0x35cc76);}}};c(bi,'_p',new W()),c(bi,'_pip',new W());let rf=bi;const wi=class wi extends Ua{['pointCache'](_0x1e1cc1,_0x541f7e){const _0x4e47fd=''+_0x1e1cc1+_0x541f7e;return this['_pointCach'+'e'][_0x4e47fd]||(this['_pointCach'+'e'][_0x4e47fd]=new W((this['_children'][_0x541f7e]['pointLengt'+'h']-this['_children'][_0x1e1cc1]['pointLengt'+'h'])/((this['_children'][_0x541f7e]['pointLengt'+'h']+this['_children'][_0x1e1cc1]['pointLengt'+'h'])/(0x1*-0x1ef1+0x1a1c+0x4d7)),W['angleRad'](this['_children'][_0x1e1cc1]['point'],this['_children'][_0x541f7e]['point'])*(-0x20f9+-0x21*0x25+-0x40*-0x97))),this['_pointCach'+'e'][_0x4e47fd];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x5a6d8c,_0x523052;wi['_p']['set'](...this['_parameter'+'Values']);const _0x3bf050=wi['_p']['length']();_0x5a6d8c=-0x1b9d+0x1*0x13a6+0x1*0x7f7,_0x523052=-0xef9+0x2*-0x50+-0x1*-0xf99;for(let _0x4f1d36=-0x1238+-0x2*0x113b+-0x1*-0x34ae;_0x4f1d36<this['_children']['length'];_0x4f1d36++){const _0x31a792=this['_children'][_0x4f1d36],_0x1a538e=_0x31a792['point'],_0x42bb95=_0x31a792['pointLengt'+'h'];let _0x28fdcf=Number['MAX_VALUE'];for(let _0x3e6532=-0x22*0x25+0x10b5*0x1+-0xbcb*0x1;_0x3e6532<this['_children']['length'];_0x3e6532++){if(_0x4f1d36===_0x3e6532)continue;const _0x47c5b8=this['pointCache'](_0x4f1d36,_0x3e6532),_0x48792e=this['_children'][_0x3e6532]['pointLengt'+'h'];wi['_pip']['set']((_0x3bf050-_0x42bb95)/((_0x48792e+_0x42bb95)/(-0x9e2+-0xcaa*-0x1+-0x2c6)),W['angleRad'](_0x1a538e,wi['_p'])*(-0xd43*-0x2+0x2b4*-0x1+-0x17d0));const _0x593b39=z['clamp'](0x1ddb+-0x183*-0x8+-0x29f2-Math['abs'](wi['_pip']['dot'](_0x47c5b8)/_0x47c5b8['lengthSq']()),-0x38*-0x7d+-0x60d*-0x6+-0x3fa6,0x9d8+0x116*-0xd+0x447);_0x593b39<_0x28fdcf&&(_0x28fdcf=_0x593b39);}_0x31a792['weight']=_0x28fdcf,_0x5a6d8c+=_0x28fdcf,this['_syncAnima'+'tions']&&(_0x523052+=_0x31a792['animTrack']['duration']/_0x31a792['absoluteSp'+'eed']*_0x31a792['weight']);}for(let _0x3645ae=-0x1fc2+0x759+0x1869;_0x3645ae<this['_children']['length'];_0x3645ae++){const _0x16c489=this['_children'][_0x3645ae];if(_0x16c489['weight']=_0x16c489['_weight']/_0x5a6d8c,this['_syncAnima'+'tions']){const _0x427b19=_0x16c489['animTrack']['duration']/_0x523052*_0x5a6d8c;_0x16c489['weightedSp'+'eed']=_0x16c489['absoluteSp'+'eed']*_0x427b19;}}}};c(wi,'_p',new W()),c(wi,'_pip',new W());let nf=wi;class HP extends Ua{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x15486c=-0x1be*-0x6+-0x653+-0x421,_0x466354=-0x1*-0x19ef+0x1*0xcdb+-0x296*0xf;for(let _0x156043=0x2*0x120e+-0x2*0x7e4+-0x1454;_0x156043<this['_children']['length'];_0x156043++)if(_0x15486c+=Math['max'](this['_parameter'+'Values'][_0x156043],0x20c4+0x1f7e+-0x2021*0x2),this['_syncAnima'+'tions']){const _0x471fa1=this['_children'][_0x156043];_0x466354+=_0x471fa1['animTrack']['duration']/_0x471fa1['absoluteSp'+'eed']*_0x471fa1['weight'];}for(let _0xa7fd89=-0x31*-0x19+-0x1*-0x664+-0xb2d;_0xa7fd89<this['_children']['length'];_0xa7fd89++){const _0x23f949=this['_children'][_0xa7fd89],_0xeb661e=Math['max'](this['_parameter'+'Values'][_0xa7fd89],-0x125*0xb+0xc*0x4+-0x27b*-0x5);_0x15486c?(_0x23f949['weight']=_0xeb661e/_0x15486c,this['_syncAnima'+'tions']&&(_0x23f949['weightedSp'+'eed']=_0x23f949['animTrack']['duration']/_0x23f949['absoluteSp'+'eed']/_0x466354)):(_0x23f949['weight']=0x1*0x1a2b+0x18ea+0x1*-0x3315,this['_syncAnima'+'tions']&&(_0x23f949['weightedSp'+'eed']=0xcad+0x25f*-0xd+0x1226));}}}class tg{constructor(_0x278abc,_0x26ae29,_0x276448=-0x50a*-0x7+0x11fe+-0x11c1*0x3,_0x4633cf=!(0x5e3+-0x797+0x1b4),_0x4ad7c9){c(this,'_animation'+'s',{}),c(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x278abc,this['_name']=_0x26ae29,this['_speed']=_0x276448,this['_loop']=_0x4633cf,this['_hasAnimat'+'ions']=!(0xe*0x1d9+-0x1*-0x16f0+-0x1f*0x193),_0x4ad7c9?this['_blendTree']=this['_createTre'+'e'](_0x4ad7c9['type'],this,null,_0x26ae29,0x11b5+-0x180f+0x65b,_0x4ad7c9['parameter']?[_0x4ad7c9['parameter']]:_0x4ad7c9['parameters'],_0x4ad7c9['children'],_0x4ad7c9['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new Wo(this,null,_0x26ae29,-0x2a7+-0x201d+0x22c5,_0x276448));}['_createTre'+'e'](_0x5cfeba,_0x1daa08,_0x270147,_0x46e478,_0x5605ea,_0x1683ae,_0x374fe1,_0x1e440a,_0x198751,_0x35522e){switch(_0x5cfeba){case kP:return new GP(_0x1daa08,_0x270147,_0x46e478,_0x5605ea,_0x1683ae,_0x374fe1,_0x1e440a,_0x198751,_0x35522e);case BP:return new rf(_0x1daa08,_0x270147,_0x46e478,_0x5605ea,_0x1683ae,_0x374fe1,_0x1e440a,_0x198751,_0x35522e);case OP:return new nf(_0x1daa08,_0x270147,_0x46e478,_0x5605ea,_0x1683ae,_0x374fe1,_0x1e440a,_0x198751,_0x35522e);case NP:return new HP(_0x1daa08,_0x270147,_0x46e478,_0x5605ea,_0x1683ae,_0x374fe1,_0x1e440a,_0x198751,_0x35522e);}b['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x5cfeba);}['_getNodeFr'+'omPath'](_0x50f2a1){let _0x4030e9=this['_blendTree'];for(let _0x49d1a5=-0x1843+0x1f9d*-0x1+-0x1*-0x37e1;_0x49d1a5<_0x50f2a1['length'];_0x49d1a5++)_0x4030e9=_0x4030e9['getChild'](_0x50f2a1[_0x49d1a5]);return _0x4030e9;}['addAnimati'+'on'](_0x174c91,_0x3c942e){const _0x3da6ca=_0x174c91['join']('.'),_0x4d6029=this['_animation'+'List']['findIndex'](_0xd6033b=>_0xd6033b['path']===_0x3da6ca);if(_0x4d6029>=0x84+-0x3a2*-0x6+-0x1650)this['_animation'+'List'][_0x4d6029]['animTrack']=_0x3c942e;else{const _0x4adc4b=this['_getNodeFr'+'omPath'](_0x174c91);_0x4adc4b['animTrack']=_0x3c942e,this['_animation'+'List']['push'](_0x4adc4b);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0xb*0x254+0x1d4d+0x1*-0x36e9&&this['_animation'+'List']['every'](_0x547941=>_0x547941['animTrack']&&_0x547941['animTrack']!==ki['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x5d9681){this['_animation'+'List']=_0x5d9681,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x4ac545){this['_speed']=_0x4ac545;}get['speed'](){return this['_speed'];}set['loop'](_0x445750){this['_loop']=_0x445750;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===Wo?0x1b5*0xb+0x1fba+-0x80*0x65:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Jh['indexOf'](this['name'])!==-(0x101*-0x1c+-0x17e*-0x5+0x14a7)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x973+0x1aa4+-0x1*0x1131){const _0x510c37=this['name']+'.'+this['animations'][-0x1a13+-0x13cc+0x2ddf*0x1]['animTrack']['name'],_0xcb801c=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x510c37);if(_0xcb801c)return _0xcb801c['loop'];}return!(-0x2573*-0x1+0x6e8+-0x162d*0x2);}get['totalWeigh'+'t'](){let _0xa24efe=-0x653*-0x1+0x32*-0x7b+0x11b3;for(let _0x10ec88=-0x7a*0x24+-0xfee*-0x1+0x13a;_0x10ec88<this['animations']['length'];_0x10ec88++)_0xa24efe+=this['animations'][_0x10ec88]['weight'];return _0xa24efe;}get['timelineDu'+'ration'](){let _0x40dcb1=0x57d+0xeb1+0x2e2*-0x7;for(let _0xc14ac6=-0x4*0x171+-0xb67+0x112b;_0xc14ac6<this['animations']['length'];_0xc14ac6++){const _0x516e3d=this['animations'][_0xc14ac6];_0x516e3d['animTrack']['duration']>_0x40dcb1&&(_0x40dcb1=_0x516e3d['animTrack']['duration']);}return _0x40dcb1;}}class ec{constructor({from:_0x2260ea,to:_0x33ffcd,time:_0x9e8ca3=0xb32+-0x1b*0x31+-0x1*0x607,priority:_0x4d0e69=-0x1bdb+0x23e7*0x1+0x2*-0x406,conditions:_0x5317a5=[],exitTime:_0xdddb39=null,transitionOffset:_0x31871c=null,interruptionSource:_0x336cf0=X0}){this['_from']=_0x2260ea,this['_to']=_0x33ffcd,this['_time']=_0x9e8ca3,this['_priority']=_0x4d0e69,this['_condition'+'s']=_0x5317a5,this['_exitTime']=_0xdddb39,this['_transitio'+'nOffset']=_0x31871c,this['_interrupt'+'ionSource']=_0x336cf0;}get['from'](){return this['_from'];}set['to'](_0x2cd734){this['_to']=_0x2cd734;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class WP{constructor(_0x2069da,_0x16d98b,_0x7124bc,_0x31877f,_0x1f4aa6,_0xf1b07a,_0x2fddfe){c(this,'_states',{}),c(this,'_stateName'+'s',[]),c(this,'_findTrans'+'itionsFrom'+'StateCache',{}),c(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),c(this,'_previousS'+'tateName',null),c(this,'_activeSta'+'teName',uo),c(this,'_activeSta'+'teDuration',-0x55c+0x1*0x143f+-0xee3),c(this,'_activeSta'+'teDuration'+'Dirty',!(0x1*-0x58f+0xf75*-0x1+0x1504)),c(this,'_playing',!(-0x1*0x1e2e+-0x12e7+-0x188b*-0x2)),c(this,'_activate'),c(this,'_transitio'+'ns'),c(this,'_currTrans'+'itionTime',0x60c*-0x3+0x41d+0xe08),c(this,'_totalTran'+'sitionTime',0x1d09+0x54*0x47+0x1a2a*-0x2),c(this,'_isTransit'+'ioning',!(-0x199c+-0x1c*-0x88+0xabd*0x1)),c(this,'_transitio'+'nInterrupt'+'ionSource',X0),c(this,'_transitio'+'nPreviousS'+'tates',[]),c(this,'_timeInSta'+'te',-0xb8f+0x5*-0x323+-0x1*-0x1b3e),c(this,'_timeInSta'+'teBefore',-0xba8+-0x1564+-0x8d*-0x3c),c(this,'findParame'+'ter',_0x578333=>this['_findParam'+'eter'](_0x578333)),(this['_animEvalu'+'ator']=_0x2069da,this['_eventHand'+'ler']=_0x1f4aa6,this['_findParam'+'eter']=_0xf1b07a,this['_consumeTr'+'igger']=_0x2fddfe);for(let _0x3b1ca6=-0x377*-0x4+0x16b5+-0x2491;_0x3b1ca6<_0x16d98b['length'];_0x3b1ca6++)this['_states'][_0x16d98b[_0x3b1ca6]['name']]=new tg(this,_0x16d98b[_0x3b1ca6]['name'],_0x16d98b[_0x3b1ca6]['speed'],_0x16d98b[_0x3b1ca6]['loop'],_0x16d98b[_0x3b1ca6]['blendTree']),this['_stateName'+'s']['push'](_0x16d98b[_0x3b1ca6]['name']);this['_transitio'+'ns']=_0x7124bc['map'](_0x22739f=>new ec({..._0x22739f})),this['_activate']=_0x31877f;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x553209){this['_activeSta'+'teName']=_0x553209;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x4bff4b){this['_previousS'+'tateName']=_0x4bff4b;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x1471f6=!(0x17ee+-0x125e+0x4*-0x164);for(let _0x39b774=0x15b9+-0x14ce+-0x2f*0x5;_0x39b774<this['_stateName'+'s']['length'];_0x39b774++)this['_states'][this['_stateName'+'s'][_0x39b774]]['playable']||(_0x1471f6=!(-0x2*0x118b+-0x2ab*-0x7+0x106a));return _0x1471f6;}set['playing'](_0x59b9c4){this['_playing']=_0x59b9c4;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x55205d=0x487+-0xb*0x1f5+0x1100;for(let _0x330640=-0x2f*-0x3a+0x1*0x20b0+0x3*-0xe72;_0x330640<this['activeStat'+'eAnimation'+'s']['length'];_0x330640++){const _0x2db408=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x330640]['name']);_0x2db408&&(_0x55205d=Math['max'](_0x55205d,_0x2db408['track']['duration']));}this['_activeSta'+'teDuration']=_0x55205d,this['_activeSta'+'teDuration'+'Dirty']=!(-0x20*-0x2+-0x1cd8+0x1c99*0x1);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x47bfe1){this['_timeInSta'+'teBefore']=_0x47bfe1,this['_timeInSta'+'te']=_0x47bfe1;for(let _0x53342a=0x711*0x2+0x283*-0xf+-0x35d*-0x7;_0x53342a<this['activeStat'+'eAnimation'+'s']['length'];_0x53342a++){const _0x323b94=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x53342a]['name']);_0x323b94&&(_0x323b94['time']=_0x47bfe1);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x3e34af){return this['_animEvalu'+'ator']['assignMask'](_0x3e34af);}['_findState'](_0x5a0712){return this['_states'][_0x5a0712];}['_getActive'+'StateProgr'+'essForTime'](_0x454196){if(this['activeStat'+'eName']===uo||this['activeStat'+'eName']===ef||this['activeStat'+'eName']===Or)return-0x3a3+-0x26*0x1f+0x83e;const _0x458d98=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][-0x192*-0x16+-0x1eed+0x1*-0x39f]['name']);return _0x458d98?_0x458d98['progressFo'+'rTime'](_0x454196):null;}['_findTrans'+'itionsFrom'+'State'](_0x29633a){let _0x163ead=this['_findTrans'+'itionsFrom'+'StateCache'][_0x29633a];return _0x163ead||(_0x163ead=this['_transitio'+'ns']['filter'](_0x547cec=>_0x547cec['from']===_0x29633a),Go(_0x163ead),this['_findTrans'+'itionsFrom'+'StateCache'][_0x29633a]=_0x163ead),_0x163ead;}['_findTrans'+'itionsBetw'+'eenStates'](_0x475a5e,_0x29c7b4){let _0xc535ab=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x475a5e+'->'+_0x29c7b4];return _0xc535ab||(_0xc535ab=this['_transitio'+'ns']['filter'](_0x2c207c=>_0x2c207c['from']===_0x475a5e&&_0x2c207c['to']===_0x29c7b4),Go(_0xc535ab),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x475a5e+'->'+_0x29c7b4]=_0xc535ab),_0xc535ab;}['_transitio'+'nHasCondit'+'ionsMet'](_0x6c0ff6){const _0x4ac429=_0x6c0ff6['conditions'];for(let _0x5b7855=-0x383+0xc*-0x312+0x285b*0x1;_0x5b7855<_0x4ac429['length'];_0x5b7855++){const _0x5c1494=_0x4ac429[_0x5b7855],_0x29ba28=this['_findParam'+'eter'](_0x5c1494['parameterN'+'ame']);switch(_0x5c1494['predicate']){case PP:if(!(_0x29ba28['value']>_0x5c1494['value']))return!(0xac8+-0x227e+0x17b7);break;case RP:if(!(_0x29ba28['value']<_0x5c1494['value']))return!(-0x133*0x7+0x1c82+-0x27*0x84);break;case IP:if(!(_0x29ba28['value']>=_0x5c1494['value']))return!(-0x3*-0x9a3+-0x15bf+-0x27*0x2f);break;case DP:if(!(_0x29ba28['value']<=_0x5c1494['value']))return!(0x16*0xb2+0x1*-0x1373+0x428);break;case LP:if(_0x29ba28['value']!==_0x5c1494['value'])return!(-0x68e+0x2*-0xc0f+0x1ead);break;case FP:if(_0x29ba28['value']===_0x5c1494['value'])return!(0x186a+-0x219+0x7*-0x330);break;}}return!(-0x204a+-0x1*0x5db+0x2625);}['_findTrans'+'ition'](_0x502fc2,_0x3b25b4){let _0x282080=[];if(_0x502fc2&&_0x3b25b4)_0x282080=_0x282080['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x502fc2,_0x3b25b4));else{if(!this['_isTransit'+'ioning'])_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case AP:_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case EP:_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case CP:_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;case MP:_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x282080=_0x282080['concat'](this['_findTrans'+'itionsFrom'+'State'](Or));break;}}if(_0x282080=_0x282080['filter'](_0x1d4413=>{if(_0x1d4413['to']===this['activeStat'+'eName'])return!(-0x13*0x83+0x1*-0x11c5+0x1b7f);if(_0x1d4413['hasExitTim'+'e']){let _0x2806f4=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x2986cd=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x1d4413['exitTime']<-0x1832+0x1402*-0x1+0x2c35&&this['activeStat'+'e']['loop']&&(_0x2806f4-=Math['floor'](_0x2806f4),_0x2986cd-=Math['floor'](_0x2986cd)),_0x2986cd===_0x2806f4){if(_0x2986cd!==_0x1d4413['exitTime'])return null;}else{if(!(_0x1d4413['exitTime']>_0x2806f4&&_0x1d4413['exitTime']<=_0x2986cd))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x1d4413);}),_0x282080['length']>0x1060+-0x2680+0x8*0x2c4){const _0x524efe=_0x282080[-0x2051*0x1+-0x6*0x15b+-0x817*-0x5];if(_0x524efe['to']===ef){const _0xd19d87=this['_findTrans'+'itionsFrom'+'State'](uo)[-0x1d*0x98+-0x1*0x1d63+0xf89*0x3];_0x524efe['to']=_0xd19d87['to'];}return _0x524efe;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x411fd3){let _0x5e1d2,_0xe66623,_0x4d04cc;this['previousSt'+'ate']=_0x411fd3['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x411fd3['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0xd2*-0x26+-0x811+-0x29*-0xf5);for(let _0x2e9b9c=-0x5*0x18b+-0x137*0x6+0xf01;_0x2e9b9c<_0x411fd3['conditions']['length'];_0x2e9b9c++){const _0x197582=_0x411fd3['conditions'][_0x2e9b9c];this['_findParam'+'eter'](_0x197582['parameterN'+'ame'])['type']===xh&&this['_consumeTr'+'igger'](_0x197582['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x562e2a=Math['min'](this['_totalTran'+'sitionTime']!==0x182d+-0x10c9*0x2+0x965?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x813+0x1*-0x16a1+-0x1*-0xe8f,-0x337*-0x1+0x450*0x9+-0x2a06);for(let _0x4ad2f4=0x1cb2+0x11b*-0x17+-0x345;_0x4ad2f4<this['_transitio'+'nPreviousS'+'tates']['length'];_0x4ad2f4++){this['_isTransit'+'ioning']?_0x4ad2f4!==this['_transitio'+'nPreviousS'+'tates']['length']-(-0x5*-0x4bf+-0xa*-0x127+-0x178*0x18)?this['_transitio'+'nPreviousS'+'tates'][_0x4ad2f4]['weight']*=-0x1999+-0x1a3*-0xf+-0x10d*-0x1-_0x562e2a:this['_transitio'+'nPreviousS'+'tates'][_0x4ad2f4]['weight']=_0x562e2a:this['_transitio'+'nPreviousS'+'tates'][_0x4ad2f4]['weight']=0x1b13*0x1+-0x168e+-0x4*0x121,_0x5e1d2=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x4ad2f4]['name']);for(let _0x5948cb=-0x1952+0x117c+0x7d6;_0x5948cb<_0x5e1d2['animations']['length'];_0x5948cb++)_0xe66623=_0x5e1d2['animations'][_0x5948cb],_0x4d04cc=this['_animEvalu'+'ator']['findClip'](_0xe66623['name']+'.previous.'+_0x4ad2f4),_0x4d04cc||(_0x4d04cc=this['_animEvalu'+'ator']['findClip'](_0xe66623['name']),_0x4d04cc['name']=_0xe66623['name']+'.previous.'+_0x4ad2f4),_0x4ad2f4!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x263+-0x1c90+0x1a2e)&&_0x4d04cc['pause']();}}this['_isTransit'+'ioning']=!(-0x1e29+0x16*0x1a5+-0x605),this['_totalTran'+'sitionTime']=_0x411fd3['time'],this['_currTrans'+'itionTime']=-0x860*-0x1+-0x231d+0x1abd,this['_transitio'+'nInterrupt'+'ionSource']=_0x411fd3['interrupti'+'onSource'];const _0x1e0634=this['activeStat'+'e'],_0x2f023f=_0x411fd3['transition'+'Offset']&&_0x411fd3['transition'+'Offset']>-0xa3d+-0x1e7b+0x517*0x8&&_0x411fd3['transition'+'Offset']<0x2*0x755+-0x3*0x502+0x5d;let _0x5b03fa=0x2*0x70b+0x4ef+-0x21d*0x9,_0x59259e=0x2551+-0xbb*-0x31+0x1247*-0x4;if(_0x2f023f){const _0x32ceba=_0x1e0634['timelineDu'+'ration']*_0x411fd3['transition'+'Offset'];_0x5b03fa=_0x32ceba,_0x59259e=_0x32ceba;}this['_timeInSta'+'te']=_0x5b03fa,this['_timeInSta'+'teBefore']=_0x59259e;for(let _0x593651=0x150e+0x3*0x61b+-0x275f;_0x593651<_0x1e0634['animations']['length'];_0x593651++){if(_0x4d04cc=this['_animEvalu'+'ator']['findClip'](_0x1e0634['animations'][_0x593651]['name']),_0x4d04cc)_0x4d04cc['reset']();else{const _0x45b972=Number['isFinite'](_0x1e0634['animations'][_0x593651]['speed'])?_0x1e0634['animations'][_0x593651]['speed']:_0x1e0634['speed'];_0x4d04cc=new Qh(_0x1e0634['animations'][_0x593651]['animTrack'],this['_timeInSta'+'te'],_0x45b972,!(-0x133*-0xe+-0x1*-0x17ad+-0x2877*0x1),_0x1e0634['loop'],this['_eventHand'+'ler']),_0x4d04cc['name']=_0x1e0634['animations'][_0x593651]['name'],this['_animEvalu'+'ator']['addClip'](_0x4d04cc);}if(_0x411fd3['time']>-0x111c+0x50a+0xce*0xf?_0x4d04cc['blendWeigh'+'t']=-0x2591*0x1+0x1626+-0xf6b*-0x1:_0x4d04cc['blendWeigh'+'t']=_0x1e0634['animations'][_0x593651]['normalized'+'Weight'],_0x4d04cc['play'](),_0x2f023f)_0x4d04cc['time']=_0x1e0634['timelineDu'+'ration']*_0x411fd3['transition'+'Offset'];else{const _0x1baaa2=_0x1e0634['speed']>=0x2*0xdb9+-0xdec+-0xd86?0x3c*-0x5b+-0xbc2+0x2116:this['activeStat'+'eDuration'];_0x4d04cc['time']=_0x1baaa2;}}}['_transitio'+'nToState'](_0x1144d5){if(!this['_findState'](_0x1144d5))return;let _0x76ae2e=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x1144d5);_0x76ae2e||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x76ae2e=new ec({'from':null,'to':_0x1144d5})),this['updateStat'+'eFromTrans'+'ition'](_0x76ae2e);}['assignAnim'+'ation'](_0x5ac1b8,_0x2037b0,_0x14494c,_0x3fb629){const _0x28f3df=_0x5ac1b8['split']('.');let _0x10db82=this['_findState'](_0x28f3df[-0xcd6+0x89*0x3c+-0x1346]);_0x10db82||(_0x10db82=new tg(this,_0x28f3df[-0xa82+-0xf13+0x1995],_0x14494c),this['_states'][_0x28f3df[0x1f5*-0x10+-0x3b9*-0x1+-0x3f1*-0x7]]=_0x10db82,this['_stateName'+'s']['push'](_0x28f3df[-0x15b5+0x1dd6+-0x821])),_0x10db82['addAnimati'+'on'](_0x28f3df,_0x2037b0),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x10db82['name'],_0x2037b0),_0x14494c!==void(0x21af+0xb*0x359+-0x4682)&&(_0x10db82['speed']=_0x14494c),_0x3fb629!==void(0x1*0x17d7+-0x3a4+0x1*-0x1433)&&(_0x10db82['loop']=_0x3fb629),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(0x1cf3*-0x1+-0x95b*0x1+-0x1*-0x264e);}['removeNode'+'Animations'](_0x1d6ac1){if(Jh['indexOf'](_0x1d6ac1)!==-(-0x3*-0x833+0x2*0x7cd+-0x2832))return!(0xd4+-0x2627+-0x4*-0x955);const _0x411266=this['_findState'](_0x1d6ac1);return _0x411266?(_0x411266['animations']=[],!(-0x21d*0x5+0x1ac9+-0x1038)):(b['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x1d6ac1),!(-0x962+-0x2304+0x1*0x2c67));}['play'](_0x1b443d){_0x1b443d&&this['_transitio'+'nToState'](_0x1b443d),this['_playing']=!(-0x1735+-0xa15+0x214a);}['pause'](){this['_playing']=!(-0x1f65+0x49f+0x3*0x8ed);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=uo,this['_playing']=!(-0x6*-0x2d+-0xddd+0xcd0),this['_currTrans'+'itionTime']=0x255d+0x1538+-0x2e*0x146,this['_totalTran'+'sitionTime']=-0x173b*-0x1+0x15ca+-0x2d04,this['_isTransit'+'ioning']=!(-0x13*-0x1d6+0x9d*-0x29+-0x9bc),this['_timeInSta'+'te']=0xcdb*-0x2+0x5*-0x4a0+-0x10a*-0x2f,this['_timeInSta'+'teBefore']=0x81*-0x19+-0x1085*-0x1+-0x3ec,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x17d500){if(!this['_playing'])return;let _0x4b1968,_0x530376,_0x21719c;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x17d500*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x17d500=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x49a2c3=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x49a2c3&&this['updateStat'+'eFromTrans'+'ition'](_0x49a2c3),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x17d500,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x4cb7b=this['_totalTran'+'sitionTime']!==0x3e1*0x3+0x1521+-0x1*0x20c4?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x218c+0x389+-0xc5c*0x3;for(let _0x48fe21=0x8db*-0x1+-0x8a*-0x20+0x7*-0x133;_0x48fe21<this['_transitio'+'nPreviousS'+'tates']['length'];_0x48fe21++){_0x4b1968=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x48fe21]['name']);const _0x36460a=this['_transitio'+'nPreviousS'+'tates'][_0x48fe21]['weight'];for(let _0x1d86f4=-0x3c4*0x7+-0x1462+-0x2ebe*-0x1;_0x1d86f4<_0x4b1968['animations']['length'];_0x1d86f4++)_0x530376=_0x4b1968['animations'][_0x1d86f4],_0x21719c=this['_animEvalu'+'ator']['findClip'](_0x530376['name']+'.previous.'+_0x48fe21),_0x21719c&&(_0x21719c['blendWeigh'+'t']=(-0x12*0xcc+-0x1*-0x817+-0x1*-0x642-_0x4cb7b)*_0x530376['normalized'+'Weight']*_0x36460a);}_0x4b1968=this['activeStat'+'e'];for(let _0x44ab06=0x1*-0x11d1+0x1a13+-0x842;_0x44ab06<_0x4b1968['animations']['length'];_0x44ab06++)_0x530376=_0x4b1968['animations'][_0x44ab06],this['_animEvalu'+'ator']['findClip'](_0x530376['name'])['blendWeigh'+'t']=_0x4cb7b*_0x530376['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x1cb0*-0x1+0xb3*-0x19+0x2e2c);const _0x4129f2=this['activeStat'+'eAnimation'+'s']['length'],_0x4a4863=this['_animEvalu'+'ator']['clips']['length'];for(let _0x4bab8e=0x7*-0x73+0xe67*0x1+-0xb42;_0x4bab8e<_0x4a4863-_0x4129f2;_0x4bab8e++)this['_animEvalu'+'ator']['removeClip'](-0x8*0x3ab+-0x7e*-0x22+0x2*0x64e);this['_transitio'+'nPreviousS'+'tates']=[],_0x4b1968=this['activeStat'+'e'];for(let _0x24e870=0x1c6c+0x22d*-0xe+0x6*0x57;_0x24e870<_0x4b1968['animations']['length'];_0x24e870++)_0x530376=_0x4b1968['animations'][_0x24e870],_0x21719c=this['_animEvalu'+'ator']['findClip'](_0x530376['name']),_0x21719c&&(_0x21719c['blendWeigh'+'t']=_0x530376['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==Wo){_0x4b1968=this['activeStat'+'e'];for(let _0x58d126=-0x1913+-0x4f*0x3d+0x2be6*0x1;_0x58d126<_0x4b1968['animations']['length'];_0x58d126++)_0x530376=_0x4b1968['animations'][_0x58d126],_0x21719c=this['_animEvalu'+'ator']['findClip'](_0x530376['name']),_0x21719c&&(_0x21719c['blendWeigh'+'t']=_0x530376['normalized'+'Weight'],_0x530376['parent']['syncAnimat'+'ions']&&(_0x21719c['speed']=_0x530376['speed']));}}this['_animEvalu'+'ator']['update'](_0x17d500,this['activeStat'+'e']['hasAnimati'+'ons']);}}const Jd=new W(),Zl=new A(),io=new ee(),ro=new Y(),no=new ie();class Si extends tr{constructor(_0x364e53,_0x1826ac,_0x2b13c4,_0x5d48c4,_0x2b050f){super(_0x1826ac),this['animCompon'+'ent']=_0x364e53,this['_mask']=_0x5d48c4,this['layerName']=_0x2b13c4,this['layerIndex']=_0x2b050f;}static['_packFloat'](_0xfe793f){return _0xfe793f[-0x8*-0x78+0x141e+0x1d6*-0xd];}static['_packBoole'+'an'](_0x2bfedd){return!!_0x2bfedd[-0x6b6*0x1+0x2*0xd3d+0x17*-0xdc];}static['_packVec2'](_0xe577ee){return Jd['x']=_0xe577ee[0xb93*-0x2+-0x1009*0x2+0x174*0x26],Jd['y']=_0xe577ee[0x3*-0xc26+0x2619*-0x1+0x4a8c],Jd;}static['_packVec3'](_0x3858b0){return Zl['x']=_0x3858b0[0x17b1+0x17f4+-0x2fa5*0x1],Zl['y']=_0x3858b0[0x1545+0x12ef*0x1+0x1*-0x2833],Zl['z']=_0x3858b0[0x1fb2+-0x1e68+-0x148],Zl;}static['_packVec4'](_0x2fbbdd){return io['x']=_0x2fbbdd[-0x192c+0x7ae+-0x2*-0x8bf],io['y']=_0x2fbbdd[0x2*0x16a+0x5a*-0xe+0x219],io['z']=_0x2fbbdd[-0x5*0xc1+-0x392+0x13*0x63],io['w']=_0x2fbbdd[0x213+0xca0+0x4*-0x3ac],io;}static['_packColor'](_0x1af067){return ro['r']=_0x1af067[0x1*0x4cf+0x2235+-0x2704],ro['g']=_0x1af067[-0xa15*-0x1+0x1820*0x1+-0x2234],ro['b']=_0x1af067[-0x29*-0xb5+-0x26*0x2b+-0x1699],ro['a']=_0x1af067[-0x98e+0x15a6+-0xc15],ro;}static['_packQuat'](_0x37a50b){return no['x']=_0x37a50b[0x183e+-0x1a77+0x239*0x1],no['y']=_0x37a50b[-0x1c3f*-0x1+-0x3*0x437+-0xf99],no['z']=_0x37a50b[0xe4*0x2+0x23f*-0x5+0x9*0x10d],no['w']=_0x37a50b[0x48*0x6+0x13a2+-0x154f],no;}['resolve'](_0x5c82d1){const _0x344d06=Xr['encode'](_0x5c82d1['entityPath'],_0x5c82d1['component'],_0x5c82d1['propertyPa'+'th']);let _0x49da34=this['targetCach'+'e'][_0x344d06];if(_0x49da34)return _0x49da34;let _0x123128,_0x5955e3,_0x300d16;switch(_0x5c82d1['component']){case'entity':_0x123128=this['_getEntity'+'FromHierar'+'chy'](_0x5c82d1['entityPath']),_0x300d16=Xr['encode'](_0x123128['path'],'entity',_0x5c82d1['propertyPa'+'th']),_0x5955e3=_0x123128;break;case'graph':if(_0x5955e3=this['findNode'](_0x5c82d1),!_0x5955e3)return null;_0x300d16=Xr['encode'](_0x5955e3['path'],'graph',_0x5c82d1['propertyPa'+'th']);break;default:if(_0x123128=this['_getEntity'+'FromHierar'+'chy'](_0x5c82d1['entityPath']),_0x5955e3=_0x123128['findCompon'+'ent'](_0x5c82d1['component']),!_0x5955e3)return null;_0x300d16=Xr['encode'](_0x123128['path'],_0x5c82d1['component'],_0x5c82d1['propertyPa'+'th']);break;}return _0x49da34=this['_createAni'+'mTargetFor'+'Property'](_0x5955e3,_0x5c82d1['propertyPa'+'th'],_0x300d16),this['targetCach'+'e'][_0x344d06]=_0x49da34,_0x49da34;}['update'](_0x4cbcda){const _0x162ec8=this['activeNode'+'s'];if(_0x162ec8){for(let _0x26595d=0x1bfb+-0x7*-0x76+-0x1f35;_0x26595d<_0x162ec8['length'];_0x26595d++)_0x162ec8[_0x26595d]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x52f69f){if(!this['animCompon'+'ent']['entity']['name']===_0x52f69f[0xec*-0xb+0x1*0xb77+-0x153])return null;const _0x43d4e1=this['animCompon'+'ent']['entity'];return _0x52f69f['length']===-0x2*-0xd3+-0x2*0x11d4+0x2203?_0x43d4e1:_0x43d4e1['_parent']['findByPath'](_0x52f69f);}['_resolvePa'+'th'](_0x2da5a8,_0x57b4e7,_0x359bb2){const _0x29a973=_0x57b4e7['length']-(_0x359bb2?0x3*-0xb99+-0x6*0x4ee+0x405f:0x25f0+-0x145f+0x1190*-0x1);for(let _0x352c74=-0x1524+-0xc01+0x2125;_0x352c74<_0x29a973;_0x352c74++)_0x2da5a8=_0x2da5a8[_0x57b4e7[_0x352c74]];return _0x2da5a8;}['_setter'](_0x5512a5,_0x3c274d,_0x135d32){const _0x5c3bc3=this['_resolvePa'+'th'](_0x5512a5,_0x3c274d),_0x1c6350=_0x3c274d[_0x3c274d['length']-(-0x1102+-0x26d9+0x37dc)],_0x569f8e='set'+_0x1c6350['substring'](0x2182*-0x1+0xac*0x10+-0x1*-0x16c2,0x5*-0x179+0x12f9+-0xb9b*0x1)['toUpperCas'+'e']()+_0x1c6350['substring'](0x5*-0x455+0x3c*-0x61+0x1*0x2c66);if(_0x5c3bc3[_0x569f8e]){let _0x2de57c=_0x5c3bc3['get'+_0x1c6350['substring'](-0x189*-0x2+-0x644+-0x2*-0x199,0x118b+0x1*-0x239+0x51b*-0x3)['toUpperCas'+'e']()+_0x1c6350['substring'](-0x6ee+0x11*0x22a+0x1ddb*-0x1)]['bind'](_0x5c3bc3)();_0x2de57c=[_0x2de57c['x'],_0x2de57c['y'],_0x2de57c['z'],_0x2de57c['w']];const _0x2029f1=_0x5c3bc3[_0x569f8e]['bind'](_0x5c3bc3);return{'set':_0x5f58af=>{_0x2029f1(_0x135d32(_0x5f58af));},'get':()=>_0x2de57c};}const _0x3e3820=_0x5c3bc3[_0x1c6350];if(typeof _0x3e3820=='object'&&_0x3e3820['hasOwnProp'+'erty']('copy'))return function(_0x44dd6d){_0x3e3820['copy'](_0x135d32(_0x44dd6d));};if([W,A,ee,Y,ie]['indexOf'](_0x5c3bc3['constructo'+'r'])!==-(0x18e2+-0x105c+0x1*-0x885)&&_0x3c274d['length']>-0x7d0+0x1*-0x1eb2+0x2683){const _0x27eb86=_0x3c274d['length']>0x3*0xc1f+-0x26fa*-0x1+-0x4b55?this['_resolvePa'+'th'](_0x5512a5,_0x3c274d['slice'](0xb04+0x9*-0xea+-0x2ca*0x1,-(0x679+0xa*0x161+-0x1442))):_0x5512a5,_0x28e203=_0x3c274d[_0x3c274d['length']-(0x2*0x1368+-0x101b+-0x16b3)];return function(_0x17dc25){_0x5c3bc3[_0x1c6350]=_0x135d32(_0x17dc25),_0x27eb86[_0x28e203]=_0x5c3bc3;};}return function(_0x208804){_0x5c3bc3[_0x1c6350]=_0x135d32(_0x208804);};}['_createAni'+'mTargetFor'+'Property'](_0x5329e6,_0x437938,_0x4ae231){if(this['handlers']&&_0x437938[0xf*-0x49+0xce5*-0x1+0x112c]['startsWith']('weight.'))return this['handlers']['weight'](_0x5329e6,_0x437938[-0x6b*-0x2+-0x563*-0x1+-0x639]['replace']('weight.',''));if(this['handlers']&&_0x437938[-0x964+-0x8fe*-0x1+0x66]==='material'&&_0x437938['length']===0x699*0x1+0x7e2+0x5*-0x2e5){const _0x189d00=_0x437938[0x1606*0x1+0x2120+-0x3725];if(_0x189d00['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x5329e6,_0x189d00);}const _0x2e12fc=this['_resolvePa'+'th'](_0x5329e6,_0x437938,!(0x142b+0x175c+-0x2b87*0x1));if(typeof _0x2e12fc>'u')return null;let _0xf7b582,_0x174da1,_0x45138f;if(typeof _0x2e12fc=='number')_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packFloat']),_0x174da1='vector',_0x45138f=-0x11e+-0x287*-0xe+-0x2243;else{if(typeof _0x2e12fc=='boolean')_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packBoole'+'an']),_0x174da1='vector',_0x45138f=-0x300+0x1*-0x13a7+0x16a8;else{if(typeof _0x2e12fc=='object')switch(_0x2e12fc['constructo'+'r']){case W:_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packVec2']),_0x174da1='vector',_0x45138f=-0x1*-0x1454+-0x11*0x59+0x7*-0x20f;break;case A:_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packVec3']),_0x174da1='vector',_0x45138f=-0xe43+-0x3+0xe49;break;case ee:_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packVec4']),_0x174da1='vector',_0x45138f=-0x1*-0xf1f+0x1*-0x19b1+0xa96;break;case Y:_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packColor']),_0x174da1='vector',_0x45138f=0xdb7*-0x1+-0x1*-0xb51+0x3*0xce;break;case ie:_0xf7b582=this['_setter'](_0x5329e6,_0x437938,Si['_packQuat']),_0x174da1='quaternion',_0x45138f=-0x1de0*0x1+0x984+-0x4*-0x518;break;default:return null;}}}return _0x437938['indexOf']('material')!==-(0x130f+0x67*-0x49+0xa51)?new tf(_0x391c1e=>{_0xf7b582(_0x391c1e),_0x5329e6['material']['update']();},_0x174da1,_0x45138f,_0x4ae231):new tf(_0xf7b582,_0x174da1,_0x45138f,_0x4ae231);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x3ccbcd={},_0x23fb8f=function(_0x228309){_0x3ccbcd[_0x228309['name']]=_0x228309;for(let _0x41544c=0x2bc+-0xa58+0x79c;_0x41544c<_0x228309['children']['length'];++_0x41544c)_0x23fb8f(_0x228309['children'][_0x41544c]);};_0x23fb8f(this['graph']),this['nodes']=_0x3ccbcd;}}class $P{constructor(_0x4ecac7,_0x27d286,_0x4215b5,_0x337c9f=-0x652*0x4+-0x17*0xfb+-0xd*-0x3ae,_0x4d4e1b=j0){c(this,'_name'),c(this,'_controlle'+'r'),c(this,'_component'),c(this,'_weight'),c(this,'_blendType'),c(this,'_mask',null),c(this,'_blendTime',0xf8f*-0x1+0x104a*0x1+-0xbb),c(this,'_blendTime'+'Elapsed',0x1d8d*-0x1+-0x703+-0x492*-0x8),c(this,'_startingW'+'eight',0x11f4+0x106e*0x1+0x2*-0x1131),c(this,'_targetWei'+'ght',-0xd21+-0xd4a+-0x1*-0x1a6b),(this['_name']=_0x4ecac7,this['_controlle'+'r']=_0x27d286,this['_component']=_0x4215b5,this['_weight']=_0x337c9f,this['_blendType']=_0x4d4e1b);}get['name'](){return this['_name'];}set['playing'](_0x500157){this['_controlle'+'r']['playing']=_0x500157;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x59049e){const _0x29532d=this['_controlle'+'r'],_0x2a35b7=_0x29532d['playing'];_0x29532d['playing']=!(0x1*0x1b23+-0x251f+0x9fc),_0x29532d['activeStat'+'eCurrentTi'+'me']=_0x59049e,_0x2a35b7||_0x29532d['update'](-0x1fe4+-0x1*0x1fe1+-0x28d*-0x19),_0x29532d['playing']=_0x2a35b7;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0xf0fe96){this['_weight']=_0xf0fe96,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x560691){_0x560691!==this['_blendType']&&(this['_blendType']=_0x560691,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x153c89){this['_controlle'+'r']['assignMask'](_0x153c89)&&this['_component']['rebind'](),this['_mask']=_0x153c89;}get['mask'](){return this['_mask'];}['play'](_0x370b5b){this['_controlle'+'r']['play'](_0x370b5b);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x398614){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=z['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x398614):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=-0x1e*0x5f+0x2*0x81e+-0x51a,this['_blendTime'+'Elapsed']=0x1a9d+0xf89+-0xa*0x437,this['_startingW'+'eight']=0x12d*0x13+0xc0a+-0x2261,this['_targetWei'+'ght']=-0x2567*-0x1+0x11a4+-0x370b)),this['_controlle'+'r']['update'](_0x398614);}['blendToWei'+'ght'](_0x4bd5da,_0x19c255){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x4bd5da,this['_blendTime']=Math['max'](-0x5bc+-0x9*-0x17e+0xc5*-0xa,_0x19c255),this['_blendTime'+'Elapsed']=0x1057*0x1+-0x375*-0x1+-0x13cc;}['assignAnim'+'ation'](_0x428fac,_0x11b5ab,_0x4504f0,_0x35a8a4){if(!(_0x11b5ab instanceof ki)){b['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x428fac,_0x11b5ab,_0x4504f0,_0x35a8a4),this['_controlle'+'r']['_transitio'+'ns']['length']===-0x1ecd+0xcb4+0x71*0x29&&this['_controlle'+'r']['_transitio'+'ns']['push'](new ec({'from':'START','to':_0x428fac})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(0x890+-0x5eb+-0x2a5));}['removeNode'+'Animations'](_0x4deca3){this['_controlle'+'r']['removeNode'+'Animations'](_0x4deca3)&&(this['_component']['playing']=!(-0x8*-0x200+-0x1adb*-0x1+-0x2*0x156d));}['getAnimati'+'onAsset'](_0x468fe5){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x468fe5];}['transition'](_0x3c5dc7,_0x29e4d5=-0x1*-0x172c+-0x1f8a+-0x85e*-0x1,_0x153ba8=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new ec({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x3c5dc7,'time':_0x29e4d5,'transitionOffset':_0x153ba8}));}}class Sh{constructor(_0x52921a){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x52921a['layers']))this['_layers']=_0x52921a['layers'];else for(const _0x17d283 in _0x52921a['layers']){const _0x22f1a4=_0x52921a['layers'][_0x17d283],_0x1f6fc3={'name':_0x22f1a4['name'],'blendType':_0x22f1a4['blendType'],'weight':_0x22f1a4['weight'],'states':[],'transitions':[]};for(let _0x24a406=-0x1fca+-0x1f97*0x1+0x3f61;_0x24a406<_0x22f1a4['states']['length'];_0x24a406++)_0x1f6fc3['states']['push'](_0x52921a['states'][_0x22f1a4['states'][_0x24a406]]);for(let _0x151619=-0xf*0xa7+0x1819+-0xe50*0x1;_0x151619<_0x22f1a4['transition'+'s']['length'];_0x151619++){const _0xd07b16=_0x52921a['transition'+'s'][_0x22f1a4['transition'+'s'][_0x151619]];if(_0xd07b16['conditions']&&!Array['isArray'](_0xd07b16['conditions'])){const _0x40551d=Object['keys'](_0xd07b16['conditions']),_0x2385bb=[];for(let _0x441477=0x1992+-0x1d81+0x13*0x35;_0x441477<_0x40551d['length'];_0x441477++){const _0x23c2d1=_0xd07b16['conditions'][_0x40551d[_0x441477]];_0x23c2d1['parameterN'+'ame']&&_0x2385bb['push'](_0x23c2d1);}_0xd07b16['conditions']=_0x2385bb;}Number['isInteger'](_0xd07b16['from'])&&(_0xd07b16['from']=_0x52921a['states'][_0xd07b16['from']]['name']),Number['isInteger'](_0xd07b16['to'])&&(_0xd07b16['to']=_0x52921a['states'][_0xd07b16['to']]['name']),_0x1f6fc3['transition'+'s']['push'](_0xd07b16);}this['_layers']['push'](_0x1f6fc3);}for(const _0x13ca9f in _0x52921a['parameters']){const _0x278d9a=_0x52921a['parameters'][_0x13ca9f];this['_parameter'+'s'][_0x278d9a['name']]={'type':_0x278d9a['type'],'value':_0x278d9a['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class Q0 extends pe{constructor(){super(...arguments),c(this,'_stateGrap'+'hAsset',null),c(this,'_animation'+'Assets',{}),c(this,'_speed',-0x1*-0x1f9d+0x1*0x76d+-0x2709),c(this,'_activate',!(0x1*0xd2d+-0x2218+-0x7*-0x2fd)),c(this,'_playing',!(-0xb8a*-0x2+0xd*0x65+-0x70d*0x4)),c(this,'_rootBone',null),c(this,'_stateGrap'+'h',null),c(this,'_layers',[]),c(this,'_layerIndi'+'ces',{}),c(this,'_parameter'+'s',{}),c(this,'_targets',{}),c(this,'_consumedT'+'riggers',new Set()),c(this,'_normalize'+'Weights',!(-0xeb*-0x19+-0x85a*-0x3+-0x3000)),c(this,'findParame'+'ter',_0x2d8284=>this['_parameter'+'s'][_0x2d8284]),c(this,'consumeTri'+'gger',_0xf35c65=>{this['_consumedT'+'riggers']['add'](_0xf35c65);});}set['stateGraph'+'Asset'](_0x4f642d){if(_0x4f642d===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x438213,_0x1892e0;_0x4f642d instanceof he?(_0x438213=_0x4f642d['id'],_0x1892e0=this['system']['app']['assets']['get'](_0x438213),_0x1892e0||(this['system']['app']['assets']['add'](_0x4f642d),_0x1892e0=this['system']['app']['assets']['get'](_0x438213))):(_0x438213=_0x4f642d,_0x1892e0=this['system']['app']['assets']['get'](_0x438213)),!(!_0x1892e0||this['_stateGrap'+'hAsset']===_0x438213)&&(_0x1892e0['resource']?(this['_stateGrap'+'h']=_0x1892e0['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x1892e0['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x1892e0['once']('load',_0x1238bd=>{this['_stateGrap'+'h']=_0x1238bd['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x1892e0['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x1892e0)),this['_stateGrap'+'hAsset']=_0x438213);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x18ad9a){this['_normalize'+'Weights']=_0x18ad9a,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2077c1){this['_animation'+'Assets']=_0x2077c1,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x9313ed){this['_speed']=_0x9313ed;}get['speed'](){return this['_speed'];}set['activate'](_0x39748d){this['_activate']=_0x39748d;}get['activate'](){return this['_activate'];}set['playing'](_0x2a0026){this['_playing']=_0x2a0026;}get['playing'](){return this['_playing'];}set['rootBone'](_0x339c80){if(typeof _0x339c80=='string'){const _0x27f9dd=this['entity']['root']['findByGuid'](_0x339c80);b['assert'](_0x27f9dd,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x339c80+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x27f9dd;}else _0x339c80 instanceof je?this['_rootBone']=_0x339c80:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x554bb0){this['_stateGrap'+'h']=_0x554bb0;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x3e2a39){this['_layerIndi'+'ces']=_0x3e2a39;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x30efd9){this['_parameter'+'s']=_0x30efd9;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x169990){this['_targets']=_0x169990;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x17dc03=0x820+-0x2147+0x1927;_0x17dc03<this['_layers']['length'];_0x17dc03++)if(!this['_layers'][_0x17dc03]['playable'])return!(-0x1f4a+-0x103b+0x2f86);return!(-0x1bf9*0x1+0x2e*-0x10+0x35*0x95);}get['baseLayer'](){return this['_layers']['length']>-0x1a6b+-0x52*-0x1d+0x36d*0x5?this['_layers'][0x10b*0x1d+0x1*0xe27+-0x2c66]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x5a45b5){const _0x98f794=this['animationA'+'ssets'],_0x1c00e4=this['layers']['map'](_0x51d820=>_0x51d820['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Sh(_0x5a45b5['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x98f794,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x4eddd1,_0x20468d)=>{_0x4eddd1['mask']=_0x1c00e4[_0x20468d];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x4c42ed=Object['values'](this['_targets']);for(let _0x48d340=-0x424*-0x4+-0x21a1+0x1111;_0x48d340<_0x4c42ed['length'];_0x48d340++)_0x4c42ed[_0x48d340]['dirty']=!(0x9*0x1+0x64*0x10+-0x649);}['_addLayer']({name:_0x3cc328,states:_0x343fbe,transitions:_0x45866a,weight:_0x5cd188,mask:_0x1d3945,blendType:_0x35c770}){let _0x1d7b0f;this['rootBone']?_0x1d7b0f=this['rootBone']:_0x1d7b0f=this['entity'];const _0x39a586=this['_layers']['length'],_0x544363=new Si(this,_0x1d7b0f,_0x3cc328,_0x1d3945,_0x39a586),_0x3f9b7b=new Y0(_0x544363),_0x42ca55=new WP(_0x3f9b7b,_0x343fbe,_0x45866a,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new $P(_0x3cc328,_0x42ca55,this,_0x5cd188,_0x35c770)),this['_layerIndi'+'ces'][_0x3cc328]=_0x39a586,this['_layers'][_0x39a586];}['addLayer'](_0x41c36e,_0x442d43,_0x233bc6,_0x3f0976){const _0x49f7cf=this['findAnimat'+'ionLayer'](_0x41c36e);if(_0x49f7cf)return _0x49f7cf;const _0x2e6295=[{'name':'START','speed':0x1}],_0x12e406=[];return this['_addLayer']({'name':_0x41c36e,'states':_0x2e6295,'transitions':_0x12e406,'weight':_0x442d43,'mask':_0x233bc6,'blendType':_0x3f0976});}['_assignPar'+'ameters'](_0x1695a2){this['_parameter'+'s']={};const _0x3af67a=Object['keys'](_0x1695a2['parameters']);for(let _0x1f3be0=0xc6*0x5+-0x803+0x425;_0x1f3be0<_0x3af67a['length'];_0x1f3be0++){const _0x15e58c=_0x3af67a[_0x1f3be0];this['_parameter'+'s'][_0x15e58c]={'type':_0x1695a2['parameters'][_0x15e58c]['type'],'value':_0x1695a2['parameters'][_0x15e58c]['value']};}}['loadStateG'+'raph'](_0x2bc7ca){this['_stateGrap'+'h']=_0x2bc7ca,this['_assignPar'+'ameters'](_0x2bc7ca),this['_layers']=[];let _0x419d5e=!(0xdaa+-0x1*0x1f5a+0x11b1);for(let _0x1f4d1a=0x26a6+0x5*0x2dd+-0x34f7;_0x1f4d1a<_0x2bc7ca['layers']['length'];_0x1f4d1a++){const _0x341bb6=_0x2bc7ca['layers'][_0x1f4d1a];this['_addLayer']({..._0x341bb6}),_0x341bb6['states']['some'](_0x1aa101=>_0x1aa101['blendTree'])&&(_0x419d5e=!(-0xb*-0x15b+-0xd12*0x1+-0x1d7));}_0x419d5e||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x20fa1=0x2174+-0x27d*0xe+0x162;_0x20fa1<this['_layers']['length'];_0x20fa1++){const _0x2aaf2f=this['_layers'][_0x20fa1],_0x30130a=_0x2aaf2f['name'];for(let _0x16659f=0x25*0xce+-0x2323+0x55d*0x1;_0x16659f<_0x2aaf2f['states']['length'];_0x16659f++){const _0x4a993e=_0x2aaf2f['states'][_0x16659f];if(Jh['indexOf'](_0x4a993e)===-(-0x12*-0x1e7+0x19e*0x7+0x6d*-0x6b)){const _0x485760=_0x30130a+':'+_0x4a993e;this['_animation'+'Assets'][_0x485760]||(this['_animation'+'Assets'][_0x485760]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0xe4cb6b=0x1487+-0x125c+-0x22b;_0xe4cb6b<this['_layers']['length'];_0xe4cb6b++){const _0x3aaaa9=this['_layers'][_0xe4cb6b];for(let _0x4b57f6=-0x200d+0x1b9c+0x471;_0x4b57f6<_0x3aaaa9['states']['length'];_0x4b57f6++){const _0x393195=_0x3aaaa9['states'][_0x4b57f6];if(Jh['indexOf'](_0x393195)!==-(0x89*-0x2f+0x1fdd*0x1+-0x6b5))continue;const _0xfa4fd=this['_animation'+'Assets'][_0x3aaaa9['name']+':'+_0x393195];if(!_0xfa4fd||!_0xfa4fd['asset']){this['findAnimat'+'ionLayer'](_0x3aaaa9['name'])['assignAnim'+'ation'](_0x393195,ki['EMPTY']);continue;}const _0x367ca3=_0xfa4fd['asset'],_0x248a14=this['system']['app']['assets']['get'](_0x367ca3);_0x248a14&&(_0x248a14['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x3aaaa9['name'],_0x393195,_0x248a14):(_0x248a14['once']('load',function(_0x514d36,_0x5495f8){return function(_0x2754fa){this['onAnimatio'+'nAssetLoad'+'ed'](_0x514d36,_0x5495f8,_0x2754fa);}['bind'](this);}['bind'](this)(_0x3aaaa9['name'],_0x393195)),this['system']['app']['assets']['load'](_0x248a14)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x5b69d1,_0x2132c1,_0x12d372){this['findAnimat'+'ionLayer'](_0x5b69d1)['assignAnim'+'ation'](_0x2132c1,_0x12d372['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x260d+-0x1*-0x14de+0x1130),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x1bcbf1=-0x45e*0x8+0x4e3+0x7*0x44b;_0x1bcbf1<this['_layers']['length'];_0x1bcbf1++){const _0x1e9b23=this['_layers'][_0x1bcbf1]['playing'];this['_layers'][_0x1bcbf1]['reset'](),this['_layers'][_0x1bcbf1]['playing']=_0x1e9b23;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x1ad7cf=>{this['_targets'][_0x1ad7cf]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x57b0a7=-0x1*-0x1e7+0x13*-0x1f1+0x22fc;_0x57b0a7<this['_layers']['length'];_0x57b0a7++)this['_layers'][_0x57b0a7]['rebind']();}['findAnimat'+'ionLayer'](_0x4be91a){const _0x3efbae=this['_layerIndi'+'ces'][_0x4be91a];return this['_layers'][_0x3efbae]||null;}['addAnimati'+'onState'](_0x230960,_0x5f3623,_0x5a6f64=0x1484+-0xb*-0x91+-0x1abe,_0x3cd9a5=!(0x2*-0xec9+0x38a+0x1a08*0x1),_0x1c3e6e='Base'){var _0x396206;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Sh({'layers':[{'name':_0x1c3e6e,'states':[{'name':'START','speed':0x1},{'name':_0x230960,'speed':_0x5a6f64,'loop':_0x3cd9a5,'defaultState':!(-0x2ab*-0x2+0xf3*-0x23+0x1be3)}],'transitions':[{'from':'START','to':_0x230960}]}],'parameters':{}}));const _0x3fa11f=this['findAnimat'+'ionLayer'](_0x1c3e6e);_0x3fa11f?_0x3fa11f['assignAnim'+'ation'](_0x230960,_0x5f3623,_0x5a6f64,_0x3cd9a5):(_0x396206=this['addLayer'](_0x1c3e6e))==null||_0x396206['assignAnim'+'ation'](_0x230960,_0x5f3623,_0x5a6f64,_0x3cd9a5);}['assignAnim'+'ation'](_0x5036ec,_0x5f2ad1,_0x30870c,_0x1b3b24=0xd6*-0x1+0x16db*-0x1+0xbd9*0x2,_0x75b8e3=!(-0x264+0x1746+0xb*-0x1e6)){if(!this['_stateGrap'+'h']&&_0x5036ec['indexOf']('.')===-(-0x516+-0x1c5*0x3+-0xf2*-0xb)){this['loadStateG'+'raph'](new Sh({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x5036ec,'speed':_0x1b3b24,'loop':_0x75b8e3,'defaultState':!(0x83*-0x1d+-0x2*0xac+-0x3*-0x565)}],'transitions':[{'from':'START','to':_0x5036ec}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x5036ec,_0x5f2ad1);return;}const _0x2be2ae=_0x30870c?this['findAnimat'+'ionLayer'](_0x30870c):this['baseLayer'];if(!_0x2be2ae){b['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x2be2ae['assignAnim'+'ation'](_0x5036ec,_0x5f2ad1,_0x1b3b24,_0x75b8e3);}['removeNode'+'Animations'](_0x489979,_0xc7e640){const _0x51254a=_0xc7e640?this['findAnimat'+'ionLayer'](_0xc7e640):this['baseLayer'];if(!_0x51254a){b['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x51254a['removeNode'+'Animations'](_0x489979);}['getParamet'+'erValue'](_0x5a024a,_0x3000de){const _0x45d0f7=this['_parameter'+'s'][_0x5a024a];if(_0x45d0f7&&_0x45d0f7['type']===_0x3000de)return _0x45d0f7['value'];b['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x5a024a+('\x22\x20of\x20type\x20'+'\x22')+_0x3000de+'\x22');}['setParamet'+'erValue'](_0x48efc7,_0x3b106c,_0xd46ad7){const _0x13042e=this['_parameter'+'s'][_0x48efc7];if(_0x13042e&&_0x13042e['type']===_0x3b106c){_0x13042e['value']=_0xd46ad7;return;}b['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x48efc7+('\x22\x20of\x20type\x20'+'\x22')+_0x3b106c+'\x22');}['getFloat'](_0x30b4d2){return this['getParamet'+'erValue'](_0x30b4d2,J_);}['setFloat'](_0x5048c8,_0x2bf4f6){this['setParamet'+'erValue'](_0x5048c8,J_,_0x2bf4f6);}['getInteger'](_0x50e420){return this['getParamet'+'erValue'](_0x50e420,Q_);}['setInteger'](_0x1f622d,_0x3b4d17){typeof _0x3b4d17=='number'&&_0x3b4d17%(0x1bb1+0x2*0x6dd+-0x296a)===-0x10d3+0x9d5+0x6fe*0x1?this['setParamet'+'erValue'](_0x1f622d,Q_,_0x3b4d17):b['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x1f622d,_0x3b4d17);}['getBoolean'](_0x5335c3){return this['getParamet'+'erValue'](_0x5335c3,eg);}['setBoolean'](_0xc693d3,_0x256f41){this['setParamet'+'erValue'](_0xc693d3,eg,!!_0x256f41);}['getTrigger'](_0x17e0c3){return this['getParamet'+'erValue'](_0x17e0c3,xh);}['setTrigger'](_0x4c95d0,_0xc671cb=!(0x1e36+0x5*-0xfd+-0x4d*0x54)){this['setParamet'+'erValue'](_0x4c95d0,xh,!(-0x1e*-0x5b+0x4*0x529+-0xfa7*0x2)),_0xc671cb&&this['_consumedT'+'riggers']['add'](_0x4c95d0);}['resetTrigg'+'er'](_0x19e501){this['setParamet'+'erValue'](_0x19e501,xh,!(-0x7f+0x70+0x10));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x51c4f){for(let _0x55c87a=-0x1*0x2f0+-0x1b7b+0x1e6b;_0x55c87a<this['layers']['length'];_0x55c87a++)this['layers'][_0x55c87a]['update'](_0x51c4f*this['speed']);this['_consumedT'+'riggers']['forEach'](_0xf8849=>{this['parameters'][_0xf8849]['value']=!(-0x2493*-0x1+-0x1faa+-0x4e8);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1d1171,_0x3e9446){_0x1d1171['rootBone']&&_0x3e9446[_0x1d1171['rootBone']['getGuid']()]?this['rootBone']=_0x3e9446[_0x1d1171['rootBone']['getGuid']()]:this['rebind']();}}class qP{constructor(){this['enabled']=!(0x810+-0x168b+0x1*0xe7b);}}const af=['enabled'];class XP extends Qe{constructor(_0x1d082f){super(_0x1d082f),this['id']='anim',this['ComponentT'+'ype']=Q0,this['DataType']=qP,this['schema']=af,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4ed61d,_0x228e5a,_0x331507){super['initialize'+'ComponentD'+'ata'](_0x4ed61d,_0x228e5a,af);const _0x285686=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x228e5a)['forEach'](_0x17dea1=>{_0x285686['includes'](_0x17dea1)||(_0x4ed61d[_0x17dea1]=_0x228e5a[_0x17dea1]);}),_0x228e5a['stateGraph']&&(_0x4ed61d['stateGraph']=_0x228e5a['stateGraph'],_0x4ed61d['loadStateG'+'raph'](_0x4ed61d['stateGraph'])),_0x228e5a['layers']&&_0x228e5a['layers']['forEach']((_0x409b85,_0x5c76d4)=>{_0x409b85['_controlle'+'r']['states']['forEach'](_0x36955f=>{_0x409b85['_controlle'+'r']['_states'][_0x36955f]['_animation'+'List']['forEach'](_0x3e7ffa=>{if(!_0x3e7ffa['animTrack']||_0x3e7ffa['animTrack']===ki['EMPTY']){const _0x497ca5=this['app']['assets']['get'](_0x409b85['_component']['_animation'+'Assets'][_0x409b85['name']+':'+_0x3e7ffa['name']]['asset']);_0x497ca5&&!_0x497ca5['loaded']&&_0x497ca5['once']('load',()=>{_0x4ed61d['layers'][_0x5c76d4]['assignAnim'+'ation'](_0x3e7ffa['name'],_0x497ca5['resource']);});}else _0x4ed61d['layers'][_0x5c76d4]['assignAnim'+'ation'](_0x3e7ffa['name'],_0x3e7ffa['animTrack']);});});}),_0x228e5a['animationA'+'ssets']&&(_0x4ed61d['animationA'+'ssets']=Object['assign'](_0x4ed61d['animationA'+'ssets'],_0x228e5a['animationA'+'ssets'])),_0x228e5a['masks']&&Object['keys'](_0x228e5a['masks'])['forEach'](_0x456395=>{if(_0x4ed61d['layers'][_0x456395]){const _0x36d72e=_0x228e5a['masks'][_0x456395]['mask'],_0x487228={};Object['keys'](_0x36d72e)['forEach'](_0x29e371=>{_0x487228[decodeURI(_0x29e371)]=_0x36d72e[_0x29e371];}),_0x4ed61d['layers'][_0x456395]['mask']=_0x487228;}});}['onAnimatio'+'nUpdate'](_0x3a4061){const _0x199787=this['store'];for(const _0xcaa5bb in _0x199787)if(_0x199787['hasOwnProp'+'erty'](_0xcaa5bb)){const _0x47df48=_0x199787[_0xcaa5bb]['entity']['anim'];_0x47df48['data']['enabled']&&_0x47df48['entity']['enabled']&&_0x47df48['playing']&&_0x47df48['update'](_0x3a4061);}}['cloneCompo'+'nent'](_0x72262c,_0x3f4a2c){let _0x2bb7c5;(!_0x72262c['anim']['rootBone']||_0x72262c['anim']['rootBone']===_0x72262c)&&(_0x2bb7c5={},_0x72262c['anim']['layers']['forEach']((_0x5e8f4a,_0x79a797)=>{if(_0x5e8f4a['mask']){const _0x441405={};Object['keys'](_0x5e8f4a['mask'])['forEach'](_0x2577ab=>{const _0x2f06a2=_0x2577ab['split']('/');_0x2f06a2['shift']();const _0x5ac581=[_0x3f4a2c['name'],..._0x2f06a2]['join']('/');_0x441405[_0x5ac581]=_0x5e8f4a['mask'][_0x2577ab];}),_0x2bb7c5[_0x79a797]={'mask':_0x441405};}}));const _0x39e50e={'enabled':_0x72262c['anim']['enabled'],'stateGraphAsset':_0x72262c['anim']['stateGraph'+'Asset'],'animationAssets':_0x72262c['anim']['animationA'+'ssets'],'speed':_0x72262c['anim']['speed'],'activate':_0x72262c['anim']['activate'],'playing':_0x72262c['anim']['playing'],'rootBone':_0x72262c['anim']['rootBone'],'stateGraph':_0x72262c['anim']['stateGraph'],'layers':_0x72262c['anim']['layers'],'layerIndices':_0x72262c['anim']['layerIndic'+'es'],'parameters':_0x72262c['anim']['parameters'],'normalizeWeights':_0x72262c['anim']['normalizeW'+'eights'],'masks':_0x2bb7c5};return this['addCompone'+'nt'](_0x3f4a2c,_0x39e50e);}['onBeforeRe'+'move'](_0x48f523,_0x542d96){_0x542d96['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}pe['_buildAcce'+'ssors'](Q0['prototype'],af);class J0 extends pe{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x15f764=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x15f764);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class jP{constructor(){this['enabled']=!(-0x1f6d+0x2701*0x1+0x2*-0x3ca);}}const ex=['enabled'];class YP extends Qe{constructor(_0x38dc65){super(_0x38dc65),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=J0,this['DataType']=jP,this['schema']=ex,this['manager']=_0x38dc65['soundManag'+'er'],b['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4410f4,_0xd3d9d4,_0x3e44fb){_0x3e44fb=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x4410f4,_0xd3d9d4,_0x3e44fb);}['onUpdate'](_0x3a4a47){if(this['current']){const _0x231951=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x231951);const _0x4fe7f8=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x4fe7f8);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](J0['prototype'],ex);const of=-0x33+-0x1c63+0x1c96*0x1,sg=0x1036*-0x2+0xfb1+0x10bc,vh='group',lf='image',tx='text',bh='stretch',KP='contain',ZP='cover',Je={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},fl={};fl[Je['DEFAULT']]='_defaultTi'+'nt',fl[Je['HOVER']]='hoverTint',fl[Je['PRESSED']]='pressedTin'+'t',fl[Je['INACTIVE']]='inactiveTi'+'nt';const pl={};pl[Je['DEFAULT']]='_defaultSp'+'riteAsset',pl[Je['HOVER']]='hoverSprit'+'eAsset',pl[Je['PRESSED']]='pressedSpr'+'iteAsset',pl[Je['INACTIVE']]='inactiveSp'+'riteAsset';const ml={};ml[Je['DEFAULT']]='_defaultSp'+'riteFrame',ml[Je['HOVER']]='hoverSprit'+'eFrame',ml[Je['PRESSED']]='pressedSpr'+'iteFrame',ml[Je['INACTIVE']]='inactiveSp'+'riteFrame';class _t extends pe{constructor(_0x5e6203,_0x469450){super(_0x5e6203,_0x469450),c(this,'_visualSta'+'te',Je['DEFAULT']),c(this,'_isHoverin'+'g',!(-0x17b*0x4+-0x7ae+-0x3*-0x489)),c(this,'_hoveringC'+'ounter',0x90*0x2f+-0xb96*-0x3+-0x3d32),c(this,'_isPressed',!(0x1*0x7db+-0x4*-0x3d5+-0x172e)),c(this,'_defaultTi'+'nt',new Y(0x1931+0x1060+0x850*-0x5,0x35a*0x1+-0x1cb6+0x195d*0x1,-0x55*-0x71+-0x274+-0x2310,0x1af4+-0x178*-0x9+-0x282b)),c(this,'_defaultSp'+'riteAsset',null),c(this,'_defaultSp'+'riteFrame',0x995*0x3+-0x131+-0x1b8e),c(this,'_imageEnti'+'ty',null),c(this,'_evtElemen'+'tAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),c(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),c(this,'_evtImageE'+'ntityEleme'+'ntColor',null),c(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),c(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=Je['DEFAULT'],this['_isHoverin'+'g']=!(-0x844+-0x1*0x7ed+0x2*0x819),this['_hoveringC'+'ounter']=-0xa43+-0xfb0+-0xd*-0x1ff,this['_isPressed']=!(-0x1*-0x2299+0x18bf+0xb*-0x565),this['_defaultTi'+'nt']=new Y(0x154+0x2651+-0x27a4*0x1,0x9bb+0x1*0x24a9+-0x2e63,0x1d*-0x91+-0x1967+0x29d5,-0x193+-0xfb*0x25+-0xb*-0x371),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x3c+-0xb54+0xb18,this['_toggleLif'+'ecycleList'+'eners']('on',_0x5e6203));}get['data'](){const _0x28527d=this['system']['store'][this['entity']['getGuid']()];return _0x28527d?_0x28527d['data']:null;}set['enabled'](_0x5adc80){this['_setValue']('enabled',_0x5adc80);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x375ed8){this['_setValue']('active',_0x375ed8);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x2eee45){if(this['_imageEnti'+'ty']!==_0x2eee45){const _0x59e503=typeof _0x2eee45=='string';if(this['_imageEnti'+'ty']&&_0x59e503&&this['_imageEnti'+'ty']['getGuid']()===_0x2eee45)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x2eee45 instanceof Oe?this['_imageEnti'+'ty']=_0x2eee45:_0x59e503?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x2eee45)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x59e503&&_0x2eee45&&(this['data']['imageEntit'+'y']=_0x2eee45);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x2e083e){this['_setValue']('hitPadding',_0x2e083e);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x451b78){this['_setValue']('transition'+'Mode',_0x451b78);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x47cf20){this['_setValue']('hoverTint',_0x47cf20);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x1440ff){this['_setValue']('pressedTin'+'t',_0x1440ff);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x248b28){this['_setValue']('inactiveTi'+'nt',_0x248b28);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x1d621f){this['_setValue']('fadeDurati'+'on',_0x1d621f);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0xa7fd47){this['_setValue']('hoverSprit'+'eAsset',_0xa7fd47);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x264f28){this['_setValue']('hoverSprit'+'eFrame',_0x264f28);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x480279){this['_setValue']('pressedSpr'+'iteAsset',_0x480279);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x101d57){this['_setValue']('pressedSpr'+'iteFrame',_0x101d57);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x15dec3){this['_setValue']('inactiveSp'+'riteAsset',_0x15dec3);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x2db16a){this['_setValue']('inactiveSp'+'riteFrame',_0x2db16a);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x95396e,_0x4ed912){const _0x3d2f59=this['data'],_0x28d3a1=_0x3d2f59[_0x95396e];_0x3d2f59[_0x95396e]=_0x4ed912,this['fire']('set',_0x95396e,_0x28d3a1,_0x4ed912);}['_toggleLif'+'ecycleList'+'eners'](_0x1532e4,_0x28d8ff){var _0x3bfa87;this[_0x1532e4]('set_active',this['_onSetActi'+'ve'],this),this[_0x1532e4]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x1532e4]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x1532e4]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x1532e4==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x3bfa87=this['_evtElemen'+'tAdd'])==null||_0x3bfa87['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x374e27,_0x1fe2ec,_0x327619){_0x1fe2ec!==_0x327619&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x313bdf,_0x2673cf,_0x15fbb3){_0x2673cf!==_0x15fbb3&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x2673cf),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x110824,_0x2b13f5,_0xdc9f47){_0x2b13f5!==_0xdc9f47&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x114d16,_0x33d3d3;(_0x114d16=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x114d16['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x33d3d3=this['_imageEnti'+'ty'])!=null&&_0x33d3d3['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x3027d6=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x3027d6['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x3027d6['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x3027d6['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x3027d6['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x3027d6['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x477d1c,_0x3a408b,_0x1cdbf4,_0x553957,_0x3fec50;(_0x477d1c=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x477d1c['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x3a408b=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x3a408b['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x1cdbf4=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x1cdbf4['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x553957=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x553957['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x3fec50=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x3fec50['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x19ff67){if(this['entity']['element']){const _0x1538a6=_0x19ff67==='on';if(_0x1538a6&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x19ff67]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x19ff67]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x19ff67]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x19ff67]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x19ff67]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x19ff67]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x19ff67]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x19ff67]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x19ff67]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x19ff67]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x19ff67]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x19ff67]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x19ff67]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x19ff67]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x1538a6;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x5a4099;const _0x2dd39b=(_0x5a4099=this['_imageEnti'+'ty'])==null?void(0x1c25+0x8ca+-0x24ef):_0x5a4099['element'];!_0x2dd39b||_0x2dd39b['type']===vh||(this['_storeDefa'+'ultColor'](_0x2dd39b['color']),this['_storeDefa'+'ultOpacity'](_0x2dd39b['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x2dd39b['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x2dd39b['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x4599fb){this['_defaultTi'+'nt']['r']=_0x4599fb['r'],this['_defaultTi'+'nt']['g']=_0x4599fb['g'],this['_defaultTi'+'nt']['b']=_0x4599fb['b'];}['_storeDefa'+'ultOpacity'](_0x46f4dc){this['_defaultTi'+'nt']['a']=_0x46f4dc;}['_storeDefa'+'ultSpriteA'+'sset'](_0x59652b){this['_defaultSp'+'riteAsset']=_0x59652b;}['_storeDefa'+'ultSpriteF'+'rame'](_0x3f6831){this['_defaultSp'+'riteFrame']=_0x3f6831;}['_onSetColo'+'r'](_0x40eb80){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x40eb80),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x46608d){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x46608d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x2fc16e){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x2fc16e),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x37c31c){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x37c31c),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x5ef247){this['_isHoverin'+'g']=!(-0x1c8e+-0x138d+-0x3*-0x1009),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x5ef247);}['_onMouseLe'+'ave'](_0x3b9ef5){this['_isHoverin'+'g']=!(0x19ab*-0x1+0xbf*-0x2a+0x1c81*0x2),this['_isPressed']=!(-0x20*0x11d+0xa13+0x198e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x3b9ef5);}['_onMouseDo'+'wn'](_0x447a57){this['_isPressed']=!(-0x208d+-0x9e0+0x2a6d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x447a57);}['_onMouseUp'](_0x33f97d){this['_isPressed']=!(-0x2473+-0x1ff+0x2673),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x33f97d);}['_onTouchSt'+'art'](_0x402065){this['_isPressed']=!(-0x1*-0x15e7+0x25c2+0x3ba9*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x402065);}['_onTouchEn'+'d'](_0x1b6eeb){_0x1b6eeb['event']['preventDef'+'ault'](),this['_isPressed']=!(0xe*0x157+-0x8e1*0x1+-0x9e0),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x1b6eeb);}['_onTouchLe'+'ave'](_0x4d568f){this['_isPressed']=!(-0x1d9c+-0x1bac+-0x3949*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x4d568f);}['_onTouchCa'+'ncel'](_0x6c283e){this['_isPressed']=!(-0x1e7*-0x7+0x192a*0x1+-0x267a),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x6c283e);}['_onSelectS'+'tart'](_0x1c4623){this['_isPressed']=!(-0xed*-0x1+0x2ed*-0x6+-0x1*-0x10a1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x1c4623);}['_onSelectE'+'nd'](_0x92781c){this['_isPressed']=!(-0x58a*0x1+-0x9*0x15e+0x1*0x11d9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x92781c);}['_onSelectE'+'nter'](_0x5a6d0c){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x1*0x15f2+0x1971+0x5*-0x97a&&(this['_isHoverin'+'g']=!(0x4*0x331+-0x35*-0x3b+-0x18fb),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x5a6d0c);}['_onSelectL'+'eave'](_0x3db187){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x1*0x17bf+-0x76*-0x3d+-0x33dd&&(this['_isHoverin'+'g']=!(0x22b7*-0x1+0x1cfb+0x5bd),this['_isPressed']=!(-0x22d6*0x1+-0x1461*-0x1+0xe76),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x3db187);}['_onClick'](_0x122146){this['_fireIfAct'+'ive']('click',_0x122146);}['_fireIfAct'+'ive'](_0x42e04c,_0x144609){this['data']['active']&&this['fire'](_0x42e04c,_0x144609);}['_updateVis'+'ualState'](_0x565c79){const _0x3b4aee=this['_visualSta'+'te'],_0x5115ab=this['_determine'+'VisualStat'+'e']();if((_0x3b4aee!==_0x5115ab||_0x565c79)&&this['enabled'])switch(this['_visualSta'+'te']=_0x5115ab,_0x3b4aee===Je['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x3b4aee===Je['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x5115ab===Je['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x5115ab===Je['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case of:{const _0x5acd29=fl[this['_visualSta'+'te']],_0x1a577f=this[_0x5acd29];this['_applyTint'](_0x1a577f);break;}case sg:{const _0x1a75b1=pl[this['_visualSta'+'te']],_0x5c1ee3=ml[this['_visualSta'+'te']],_0x1e1a28=this[_0x1a75b1],_0x37279c=this[_0x5c1ee3];this['_applySpri'+'te'](_0x1e1a28,_0x37279c);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0x1045+0x231*-0x8+0x21cd));}['_resetToDe'+'faultVisua'+'lState'](_0x3da9f2){var _0x351eb7;if((_0x351eb7=this['_imageEnti'+'ty'])!=null&&_0x351eb7['element'])switch(_0x3da9f2){case of:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case sg:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return Je['PRESSED'];if(this['_isHoverin'+'g'])return Je['HOVER'];}else return Je['INACTIVE'];return Je['DEFAULT'];}['_applySpri'+'te'](_0x4805a0,_0x2adf48){var _0x29a828;const _0x38f890=(_0x29a828=this['_imageEnti'+'ty'])==null?void(-0x1*-0x1110+0x158e+-0x269e):_0x29a828['element'];_0x38f890&&(_0x2adf48=_0x2adf48||0x2363+0x10e5+-0x3448*0x1,this['_isApplyin'+'gSprite']=!(0x175*0x16+0x6e5+0x3b*-0xa9),_0x38f890['spriteAsse'+'t']!==_0x4805a0&&(_0x38f890['spriteAsse'+'t']=_0x4805a0),_0x38f890['spriteFram'+'e']!==_0x2adf48&&(_0x38f890['spriteFram'+'e']=_0x2adf48),this['_isApplyin'+'gSprite']=!(0x11d2+0x766+0x1937*-0x1));}['_applyTint'](_0x42f561){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x2*0x5ab+-0xe3*0xb+0x1*0x1517?this['_applyTint'+'Immediatel'+'y'](_0x42f561):this['_applyTint'+'WithTween'](_0x42f561);}['_applyTint'+'Immediatel'+'y'](_0x5da267){var _0x13e801;const _0x9f921f=(_0x13e801=this['_imageEnti'+'ty'])==null?void(-0x21cf+0x1675+-0x5ad*-0x2):_0x13e801['element'];if(!_0x5da267||!_0x9f921f||_0x9f921f['type']===vh)return;const _0x3ad24c=ig(_0x5da267);this['_isApplyin'+'gTint']=!(0x5b*0x6b+0x995+-0x2f9e),_0x3ad24c['equals'](_0x9f921f['color'])||(_0x9f921f['color']=_0x3ad24c),_0x9f921f['opacity']!==_0x5da267['a']&&(_0x9f921f['opacity']=_0x5da267['a']),this['_isApplyin'+'gTint']=!(0x192a+0x75f*-0x1+-0x11ca);}['_applyTint'+'WithTween'](_0x4ffad0){var _0x52bf3f;const _0x534fb9=(_0x52bf3f=this['_imageEnti'+'ty'])==null?void(0x17f6+0x103+-0x18f9):_0x52bf3f['element'];if(!_0x4ffad0||!_0x534fb9||_0x534fb9['type']===vh)return;const _0x58fd0e=ig(_0x4ffad0),_0x58a916=_0x534fb9['color'],_0x125fe9=_0x534fb9['opacity'];_0x58fd0e['equals'](_0x58a916)&&_0x4ffad0['a']===_0x125fe9||(this['_tweenInfo']={'startTime':ae(),'from':new Y(_0x58a916['r'],_0x58a916['g'],_0x58a916['b'],_0x125fe9),'to':_0x4ffad0['clone'](),'lerpColor':new Y()});}['_updateTin'+'tTween'](){const _0x89d359=ae()-this['_tweenInfo']['startTime'];let _0x11fe25=this['fadeDurati'+'on']===0x21d7*0x1+-0x41c*0x3+-0x1583?0xf51+-0xfb9+-0x1*-0x69:_0x89d359/this['fadeDurati'+'on'];if(_0x11fe25=z['clamp'](_0x11fe25,-0x54e+-0x14d8+0x1a26,0xde8+-0xf*0x15b+-0x2*-0x337),Math['abs'](_0x11fe25-(-0x13*-0x33+0x23da+-0x2*0x13d1))>0x97*-0x40+-0xa02+0x2fc2+0.00001){const _0x42974b=this['_tweenInfo']['lerpColor'];_0x42974b['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x11fe25),this['_applyTint'+'Immediatel'+'y'](new Y(_0x42974b['r'],_0x42974b['g'],_0x42974b['b'],_0x42974b['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x1ae1+-0x2301+0x3de3*0x1),this['_hoveringC'+'ounter']=-0x8cd+0x1388+-0x1*0xabb,this['_isPressed']=!(-0x1cf*-0x7+0x129c*0x1+0x1d*-0x114),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x2784e2,_0x58313e){_0x2784e2['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x58313e[_0x2784e2['imageEntit'+'y']['getGuid']()]);}}c(_t,'EVENT_MOUS'+'EDOWN','mousedown'),c(_t,'EVENT_MOUS'+'EUP','mouseup'),c(_t,'EVENT_MOUS'+'EENTER','mouseenter'),c(_t,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(_t,'EVENT_CLIC'+'K','click'),c(_t,'EVENT_TOUC'+'HSTART','touchstart'),c(_t,'EVENT_TOUC'+'HEND','touchend'),c(_t,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),c(_t,'EVENT_TOUC'+'HLEAVE','touchleave'),c(_t,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(_t,'EVENT_SELE'+'CTEND','selectend'),c(_t,'EVENT_SELE'+'CTENTER','selectente'+'r'),c(_t,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),c(_t,'EVENT_HOVE'+'RSTART','hoverstart'),c(_t,'EVENT_HOVE'+'REND','hoverend'),c(_t,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),c(_t,'EVENT_PRES'+'SEDEND','pressedend');function ig(_0x2b959c){return new Y(_0x2b959c['r'],_0x2b959c['g'],_0x2b959c['b']);}class QP{constructor(){this['enabled']=!(-0x59*0x1+0xa0*0x3e+-0x2667),this['active']=!(0x4c*0x2+-0x81*-0x4a+-0x25e2),this['imageEntit'+'y']=null,this['hitPadding']=new ee(),this['transition'+'Mode']=of,this['hoverTint']=new Y(0x2e+0x77c+0x2*-0x3d5+0.75,-0xb9+-0x2*-0x19+0xf*0x9+0.75,0x156*-0x1a+0x1ace+0x7ee+0.75),this['pressedTin'+'t']=new Y(0x19e9+0x1272+-0x2c5b+0.5,0x2f*-0xa7+0x78b*-0x5+-0x20*-0x223+0.5,0x1fb6+0x21*0xb6+-0x372c+0.5),this['inactiveTi'+'nt']=new Y(0x1f70+-0x33b+-0x1c35+0.25,0x1*0x161b+0x454*0x7+-0xa7b*0x5+0.25,-0x22a9+0x21f5*-0x1+0x449e+0.25),this['fadeDurati'+'on']=-0xe15+0x525*-0x2+0x185f,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0x143*-0x6+-0xb23+0x12b5,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x134f+-0xec0+-0x48f,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x6ec*-0x2+0x1fff*0x1+0x1*-0x2dd7;}}const rg=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class JP extends Qe{constructor(_0x2989c2){super(_0x2989c2),this['id']='button',this['ComponentT'+'ype']=_t,this['DataType']=QP,this['schema']=rg,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x36eea3,_0xbee9ce,_0xf980cf){_0x36eea3['imageEntit'+'y']=_0xbee9ce['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x36eea3,_0xbee9ce,rg);}['onUpdate'](_0x4b1a65){const _0x2748f8=this['store'];for(const _0x1a8965 in _0x2748f8){const _0x3acb8f=_0x2748f8[_0x1a8965]['entity'],_0x2aaa89=_0x3acb8f['button'];_0x2aaa89['enabled']&&_0x3acb8f['enabled']&&_0x2aaa89['onUpdate']();}}['_onRemoveC'+'omponent'](_0x4e2866,_0x4ef5ee){_0x4ef5ee['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const ng=new A(),ag=new ie();class Zn extends pe{constructor(_0x155054,_0x222796){super(_0x155054,_0x222796),c(this,'_compoundP'+'arent',null),c(this,'_hasOffset',!(0x1*-0x11ce+-0x1f67+0x3136)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x3cc538=this['system']['store'][this['entity']['getGuid']()];return _0x3cc538?_0x3cc538['data']:null;}set['enabled'](_0x33c787){this['_setValue']('enabled',_0x33c787);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x3e803a){this['_setValue']('type',_0x3e803a);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x59e1fc){this['_setValue']('halfExtent'+'s',_0x59e1fc);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x3bb4cb){this['_setValue']('linearOffs'+'et',_0x3bb4cb);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x5eb6f6){this['_setValue']('angularOff'+'set',_0x5eb6f6);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0xf8bac5){this['_setValue']('radius',_0xf8bac5);}get['radius'](){return this['data']['radius'];}set['axis'](_0x488e74){this['_setValue']('axis',_0x488e74);}get['axis'](){return this['data']['axis'];}set['height'](_0x548c1b){this['_setValue']('height',_0x548c1b);}get['height'](){return this['data']['height'];}set['asset'](_0x13b785){this['_setValue']('asset',_0x13b785);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x431fc4){this['_setValue']('renderAsse'+'t',_0x431fc4);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x51eddb){this['_setValue']('convexHull',_0x51eddb);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0xaa8acb){this['_setValue']('shape',_0xaa8acb);}get['shape'](){return this['data']['shape'];}set['model'](_0x14a4f1){this['_setValue']('model',_0x14a4f1);}get['model'](){return this['data']['model'];}set['render'](_0x3c2c){this['_setValue']('render',_0x3c2c);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x278a27){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x278a27);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x451670,_0xf7f68b){const _0x252367=this['data'],_0x20815a=_0x252367[_0x451670];_0x252367[_0x451670]=_0xf7f68b,this['fire']('set',_0x451670,_0x20815a,_0xf7f68b);}['onSetType'](_0x58fcec,_0x507b6d,_0x1efdcd){_0x507b6d!==_0x1efdcd&&this['system']['changeType'](this,_0x507b6d,_0x1efdcd);}['onSetHalfE'+'xtents'](_0x38e13f,_0x573114,_0x3f2a85){const _0x2a0962=this['data']['type'];this['data']['initialize'+'d']&&_0x2a0962==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x3ddc89,_0xe25c26,_0x3e82d6){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](A['ZERO'])||!this['data']['angularOff'+'set']['equals'](ie['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x58e7a7,_0x1a4de1,_0x501179){const _0x5f4986=this['data']['type'];this['data']['initialize'+'d']&&(_0x5f4986==='sphere'||_0x5f4986==='capsule'||_0x5f4986==='cylinder'||_0x5f4986==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0xf77706,_0x26f0bf,_0x5ea0ce){const _0x7289d2=this['data']['type'];this['data']['initialize'+'d']&&(_0x7289d2==='capsule'||_0x7289d2==='cylinder'||_0x7289d2==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0xf80a62,_0x18d539,_0x2fad40){const _0x112950=this['data']['type'];this['data']['initialize'+'d']&&(_0x112950==='capsule'||_0x112950==='cylinder'||_0x112950==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x16ad45,_0x4d5388,_0x5a6857){const _0x4df321=this['system']['app']['assets'];if(_0x4d5388){const _0x8d6713=_0x4df321['get'](_0x4d5388);_0x8d6713&&_0x8d6713['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x5a6857){_0x5a6857 instanceof he&&(this['data']['asset']=_0x5a6857['id']);const _0x26bc56=_0x4df321['get'](this['data']['asset']);_0x26bc56&&(_0x26bc56['off']('remove',this['onAssetRem'+'oved'],this),_0x26bc56['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5a6857||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x1048a0,_0x29ee84,_0x5c6887){const _0x2263ad=this['system']['app']['assets'];if(_0x29ee84){const _0x2f55f5=_0x2263ad['get'](_0x29ee84);_0x2f55f5&&_0x2f55f5['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x5c6887){_0x5c6887 instanceof he&&(this['data']['renderAsse'+'t']=_0x5c6887['id']);const _0x367598=_0x2263ad['get'](this['data']['renderAsse'+'t']);_0x367598&&(_0x367598['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x367598['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x5c6887||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x31c551,_0x4d9246,_0x2bc846){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x35b230,_0x5914e1,_0xc5d8be){this['onSetModel'](_0x35b230,_0x5914e1,_0xc5d8be);}['onAssetRem'+'oved'](_0x185b9d){_0x185b9d['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x185b9d['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x5425b8){_0x5425b8['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x5425b8['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0xbf83d6){const _0x56c619=this['data']['shape'],_0x5502f6=_0x56c619['getNumChil'+'dShapes']();for(let _0x1dbb4f=-0x10e6+0x1cb7*0x1+-0xbd1;_0x1dbb4f<_0x5502f6;_0x1dbb4f++){const _0x3f3574=_0x56c619['getChildSh'+'ape'](_0x1dbb4f);if(Ammo['getPointer'](_0x3f3574)===Ammo['getPointer'](_0xbf83d6))return _0x1dbb4f;}return null;}['_onInsert'](_0x3136c4){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x13a56c=this['entity']['parent'];for(;_0x13a56c;){if(_0x13a56c['collision']&&_0x13a56c['collision']['type']==='compound'){_0x13a56c['collision']['shape']['getNumChil'+'dShapes']()===-0x2591+0xd*-0x29+-0x27a6*-0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x13a56c['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x13a56c=_0x13a56c['parent'];}}}}}['_updateCom'+'pound'](){const _0x82d507=this['entity'];if(_0x82d507['_dirtyWorl'+'d']){let _0x14fc88=_0x82d507['_dirtyLoca'+'l'],_0x4e25f0=_0x82d507;for(;_0x4e25f0&&!_0x14fc88&&!(_0x4e25f0['collision']&&_0x4e25f0['collision']===this['_compoundP'+'arent']);)_0x4e25f0['_dirtyLoca'+'l']&&(_0x14fc88=!(-0x8*-0x166+-0x1c11+0x10e1)),_0x4e25f0=_0x4e25f0['parent'];if(_0x14fc88){_0x82d507['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x82d507);const _0xf3942c=this['_compoundP'+'arent']['entity']['rigidbody'];_0xf3942c&&_0xf3942c['activate']();}}}['getShapePo'+'sition'](){const _0x4fe08f=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x48b5bd=this['entity']['getRotatio'+'n'](),_0x2f780c=this['data']['linearOffs'+'et'];return ag['copy'](_0x48b5bd)['transformV'+'ector'](_0x2f780c,ng),ng['add'](_0x4fe08f);}return _0x4fe08f;}['getShapeRo'+'tation'](){const _0x15d48e=this['entity']['getRotatio'+'n']();return this['_hasOffset']?ag['copy'](_0x15d48e)['mul'](this['data']['angularOff'+'set']):_0x15d48e;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x34b57a=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x34b57a&&(!_0x34b57a['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x4d*-0xa+-0x2*-0x75f+-0xbbc)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x217eca=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x217eca,this['data']['shape']),Ammo['destroy'](_0x217eca),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}c(Zn,'EVENT_CONT'+'ACT','contact'),c(Zn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Zn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Zn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Zn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class eR{constructor(){this['enabled']=!(0x1*-0x2359+-0x3*-0x724+-0x1*-0xded),this['type']='box',this['halfExtent'+'s']=new A(0x32e+-0x250a+0x2c*0xc5+0.5,0x862+-0x1*0x1481+0xc1f*0x1+0.5,0x1*0x1b62+-0x18cc+-0x296+0.5),this['linearOffs'+'et']=new A(),this['angularOff'+'set']=new ie(),this['radius']=-0x251+-0x1*0x1ac3+0x1d14+0.5,this['axis']=-0x6a5+-0x17f+0x825,this['height']=0x374*-0x1+-0x23a+0x5b0,this['convexHull']=!(-0xc*-0x340+-0x11a6+-0x1559),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(-0x9*-0x342+-0x1ac+-0x1ba6),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x1817*0x1+0x11*0x123+-0x2b69);}}const ao='static',vs='dynamic',zn='kinematic',tR=-0x29b*-0xd+0x32a+-0x2507*0x1,fo=-0x1af*-0x17+0x1110+-0x3*0x1297,hf=-0x117e+0xfc7*0x2+-0xe0f,og=-0x1*-0x20ef+0x6*-0x574+-0x1*0x33,sx=-0x10c*-0x8+0x171b+0xfbb*-0x2,sR=0x52*-0x79+0x1*-0x200d+-0x46d*-0x10,lg=-0xa7f+-0x5*-0x1e7+0xfe,iR=0x1ef6+0x1951+0x12c1*-0x3,hg=0x2b9*-0x4+-0x681*0x4+0x24f8,cg=0xb*0x1d5d+-0x6*-0x2b03+-0x14512,cf=-0x11b03+0x6747+0x7*0x3e3f;let bs,Cr,Un;class ix{constructor(_0x144692,_0x43628c,_0x3d2ab8){this['entity']=_0x43628c['entity'],this['component']=_0x43628c,this['app']=_0x144692,typeof Ammo<'u'&&!bs&&(bs=new Ammo['btVector3'](),Cr=new Ammo['btQuaterni'+'on'](),Un=new Ammo['btTransfor'+'m']()),this['initialize'](_0x3d2ab8);}['initialize'](_0x3e63e5){const _0x41fb82=this['entity'],_0x20b3c1=_0x3e63e5['shape'];if(_0x20b3c1&&typeof Ammo<'u'){_0x41fb82['trigger']&&_0x41fb82['trigger']['destroy']();const _0x53c13d=0x8d8+0x19f6+-0x22cd,_0x55b9f1=this['component'];if(_0x55b9f1){const _0x1afacd=_0x55b9f1['getShapePo'+'sition'](),_0x1e1ca6=_0x55b9f1['getShapeRo'+'tation']();bs['setValue'](_0x1afacd['x'],_0x1afacd['y'],_0x1afacd['z']),Cr['setValue'](_0x1e1ca6['x'],_0x1e1ca6['y'],_0x1e1ca6['z'],_0x1e1ca6['w']);}else{const _0x1d54ee=_0x41fb82['getPositio'+'n'](),_0x5bac61=_0x41fb82['getRotatio'+'n']();bs['setValue'](_0x1d54ee['x'],_0x1d54ee['y'],_0x1d54ee['z']),Cr['setValue'](_0x5bac61['x'],_0x5bac61['y'],_0x5bac61['z'],_0x5bac61['w']);}Un['setOrigin'](bs),Un['setRotatio'+'n'](Cr);const _0x4f1b17=this['app']['systems']['rigidbody']['createBody'](_0x53c13d,_0x20b3c1,Un);_0x4f1b17['setRestitu'+'tion'](0x4e5*0x1+-0x19f*0x13+0x19e8),_0x4f1b17['setFrictio'+'n'](-0x2*-0x126a+0x1937+0x3e0b*-0x1),_0x4f1b17['setDamping'](0x7a*0x20+0x923+-0x1*0x1863,-0x23a+0x5*0x4cf+-0x15d1),bs['setValue'](0xd2e*0x2+-0x12b9+0x17*-0x55,-0xc09+-0x2*0x11e8+0x2fd9,-0x22b+0x2225*0x1+-0x1ffa),_0x4f1b17['setLinearF'+'actor'](bs),_0x4f1b17['setAngular'+'Factor'](bs),_0x4f1b17['setCollisi'+'onFlags'](_0x4f1b17['getCollisi'+'onFlags']()|fo),_0x4f1b17['entity']=_0x41fb82,this['body']=_0x4f1b17,this['component']['enabled']&&_0x41fb82['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x2d72ec){const _0x1dcaf2=this['component'];if(_0x1dcaf2){const _0x336c1a=_0x1dcaf2['getShapePo'+'sition'](),_0x46b1f8=_0x1dcaf2['getShapeRo'+'tation']();bs['setValue'](_0x336c1a['x'],_0x336c1a['y'],_0x336c1a['z']),Cr['setValue'](_0x46b1f8['x'],_0x46b1f8['y'],_0x46b1f8['z'],_0x46b1f8['w']);}else{const _0x5819ff=this['entity']['getPositio'+'n'](),_0x477903=this['entity']['getRotatio'+'n']();bs['setValue'](_0x5819ff['x'],_0x5819ff['y'],_0x5819ff['z']),Cr['setValue'](_0x477903['x'],_0x477903['y'],_0x477903['z'],_0x477903['w']);}_0x2d72ec['setOrigin'](bs),_0x2d72ec['setRotatio'+'n'](Cr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Un);const _0x3c3dc2=this['body'];_0x3c3dc2['setWorldTr'+'ansform'](Un),_0x3c3dc2['activate']();}['enable'](){const _0x1af9fc=this['body'];if(!_0x1af9fc)return;const _0x5ee6d0=this['app']['systems']['rigidbody'];_0x5ee6d0['_triggers']['indexOf'](this)<0x2e*-0x6d+-0x5a3+0x24b*0xb&&(_0x5ee6d0['addBody'](_0x1af9fc,hg,cf^hg),_0x5ee6d0['_triggers']['push'](this)),_0x1af9fc['forceActiv'+'ationState'](hf),this['updateTran'+'sform']();}['disable'](){const _0x58dd91=this['body'];if(!_0x58dd91)return;const _0x21fd44=this['app']['systems']['rigidbody'],_0x22cfb7=_0x21fd44['_triggers']['indexOf'](this);_0x22cfb7>-(0x5d4*-0x2+-0x3d7*0x1+0xf80)&&(_0x21fd44['removeBody'](_0x58dd91),_0x21fd44['_triggers']['splice'](_0x22cfb7,0x1d26+-0x72e*0x4+-0x6d)),_0x58dd91['forceActiv'+'ationState'](sx);}}const Ql=new q(),rR=new A(),nR=new A(),Mr=new ie(),dg=new Oe(),aR=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class vn{constructor(_0xb58b3b){this['system']=_0xb58b3b;}['beforeInit'+'ialize'](_0x5908b1,_0x282c6e){_0x282c6e['shape']=null,_0x282c6e['model']=new Ui(),_0x282c6e['model']['graph']=new Oe();}['afterIniti'+'alize'](_0x13b6c7,_0x2347d1){this['recreatePh'+'ysicalShap'+'es'](_0x13b6c7),_0x13b6c7['data']['initialize'+'d']=!(-0x13*-0x17d+0x6*-0x6d+-0x19b9);}['reset'](_0x417900,_0x1ba5ca){this['beforeInit'+'ialize'](_0x417900,_0x1ba5ca),this['afterIniti'+'alize'](_0x417900,_0x1ba5ca);}['recreatePh'+'ysicalShap'+'es'](_0x5e1d1d){const _0x1ede73=_0x5e1d1d['entity'],_0x2588c3=_0x5e1d1d['data'];if(typeof Ammo<'u'){_0x1ede73['trigger']&&(_0x1ede73['trigger']['destroy'](),delete _0x1ede73['trigger']),_0x2588c3['shape']&&(_0x5e1d1d['_compoundP'+'arent']&&(_0x5e1d1d!==_0x5e1d1d['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x5e1d1d['_compoundP'+'arent'],_0x2588c3['shape']),_0x5e1d1d['_compoundP'+'arent']['entity']['rigidbody']&&_0x5e1d1d['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x2588c3)),_0x2588c3['shape']=this['createPhys'+'icalShape'](_0x5e1d1d['entity'],_0x2588c3);const _0x46cc61=!_0x5e1d1d['_compoundP'+'arent'];if(_0x2588c3['type']==='compound'&&(!_0x5e1d1d['_compoundP'+'arent']||_0x5e1d1d===_0x5e1d1d['_compoundP'+'arent']))_0x5e1d1d['_compoundP'+'arent']=_0x5e1d1d,_0x1ede73['forEach'](this['_addEachDe'+'scendant'],_0x5e1d1d);else{if(_0x2588c3['type']!=='compound'&&!_0x5e1d1d['rigidbody']){_0x5e1d1d['_compoundP'+'arent']=null;let _0x285dbb=_0x1ede73['parent'];for(;_0x285dbb;){if(_0x285dbb['collision']&&_0x285dbb['collision']['type']==='compound'){_0x5e1d1d['_compoundP'+'arent']=_0x285dbb['collision'];break;}_0x285dbb=_0x285dbb['parent'];}}}_0x5e1d1d['_compoundP'+'arent']&&_0x5e1d1d!==_0x5e1d1d['_compoundP'+'arent']&&(_0x46cc61&&_0x5e1d1d['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x6ad+-0x44b+-0x131*0x2?this['system']['recreatePh'+'ysicalShap'+'es'](_0x5e1d1d['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x1ede73,!(0x18c7+0x1*0x21a7+-0x3a6e)),_0x5e1d1d['_compoundP'+'arent']['entity']['rigidbody']&&_0x5e1d1d['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x1ede73['rigidbody']?(_0x1ede73['rigidbody']['disableSim'+'ulation'](),_0x1ede73['rigidbody']['createBody'](),_0x1ede73['enabled']&&_0x1ede73['rigidbody']['enabled']&&_0x1ede73['rigidbody']['enableSimu'+'lation']()):_0x5e1d1d['_compoundP'+'arent']||(_0x1ede73['trigger']?_0x1ede73['trigger']['initialize'](_0x2588c3):_0x1ede73['trigger']=new ix(this['system']['app'],_0x5e1d1d,_0x2588c3));}}['createPhys'+'icalShape'](_0x3943af,_0x661130){}['updateTran'+'sform'](_0x168bcd,_0x36ac57,_0x40e7ba,_0x3f5091){_0x168bcd['entity']['trigger']&&_0x168bcd['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x134895){_0x134895['shape']&&(Ammo['destroy'](_0x134895['shape']),_0x134895['shape']=null);}['beforeRemo'+'ve'](_0x4bb0f2,_0x10b50f){_0x10b50f['data']['shape']&&(_0x10b50f['_compoundP'+'arent']&&!_0x10b50f['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x10b50f['_compoundP'+'arent'],_0x10b50f['data']['shape']),_0x10b50f['_compoundP'+'arent']['entity']['rigidbody']&&_0x10b50f['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x10b50f['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x10b50f['data']));}['remove'](_0x533d19,_0x3d1ece){_0x533d19['rigidbody']&&_0x533d19['rigidbody']['body']&&_0x533d19['rigidbody']['disableSim'+'ulation'](),_0x533d19['trigger']&&(_0x533d19['trigger']['destroy'](),delete _0x533d19['trigger']);}['clone'](_0xfd6422,_0x20b2bf){const _0x165bf6=this['system']['store'][_0xfd6422['getGuid']()],_0x82425d={'enabled':_0x165bf6['data']['enabled'],'type':_0x165bf6['data']['type'],'halfExtents':[_0x165bf6['data']['halfExtent'+'s']['x'],_0x165bf6['data']['halfExtent'+'s']['y'],_0x165bf6['data']['halfExtent'+'s']['z']],'linearOffset':[_0x165bf6['data']['linearOffs'+'et']['x'],_0x165bf6['data']['linearOffs'+'et']['y'],_0x165bf6['data']['linearOffs'+'et']['z']],'angularOffset':[_0x165bf6['data']['angularOff'+'set']['x'],_0x165bf6['data']['angularOff'+'set']['y'],_0x165bf6['data']['angularOff'+'set']['z'],_0x165bf6['data']['angularOff'+'set']['w']],'radius':_0x165bf6['data']['radius'],'axis':_0x165bf6['data']['axis'],'height':_0x165bf6['data']['height'],'convexHull':_0x165bf6['data']['convexHull'],'asset':_0x165bf6['data']['asset'],'renderAsset':_0x165bf6['data']['renderAsse'+'t'],'model':_0x165bf6['data']['model'],'render':_0x165bf6['data']['render'],'checkVertexDuplicates':_0x165bf6['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x20b2bf,_0x82425d);}}class oR extends vn{['createPhys'+'icalShape'](_0x1a7bfe,_0x25ab18){if(typeof Ammo<'u'){const _0xa300b5=_0x25ab18['halfExtent'+'s'],_0x8d1f17=new Ammo['btVector3'](_0xa300b5?_0xa300b5['x']:0xc3b*0x1+-0xf89+-0x1*-0x34e+0.5,_0xa300b5?_0xa300b5['y']:-0x1*0x30b+-0x2267*-0x1+-0x24*0xdf+0.5,_0xa300b5?_0xa300b5['z']:-0x1*-0x9e3+-0x26da+0x1cf7+0.5),_0x199054=new Ammo['btBoxShape'](_0x8d1f17);return Ammo['destroy'](_0x8d1f17),_0x199054;}}}class lR extends vn{['createPhys'+'icalShape'](_0x2da689,_0x42e35d){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x42e35d['radius']);}}class hR extends vn{['createPhys'+'icalShape'](_0x116d1a,_0x4a7801){const _0x10f9eb=_0x4a7801['axis']??0x1*-0x7b5+0xe62+-0x6ac,_0x42f64e=_0x4a7801['radius']??-0x2*-0x5bc+-0x1fd*0x11+0x1655+0.5,_0x3211b3=Math['max']((_0x4a7801['height']??0xb3f*0x2+-0xb*0x352+0xe0a)-(-0x42f+-0x18*0x15a+0x24a1)*_0x42f64e,0x1*0x19c9+0x1*0x1556+-0x2f1f);let _0x5788a8=null;if(typeof Ammo<'u')switch(_0x10f9eb){case-0x206b+0x143*0x1+0x1f28:_0x5788a8=new Ammo['btCapsuleS'+'hapeX'](_0x42f64e,_0x3211b3);break;case-0x245d+-0x1*-0x1502+-0x7ae*-0x2:_0x5788a8=new Ammo['btCapsuleS'+'hape'](_0x42f64e,_0x3211b3);break;case-0x7*0x2e1+-0xf*0x2b+0x16ae:_0x5788a8=new Ammo['btCapsuleS'+'hapeZ'](_0x42f64e,_0x3211b3);break;}return _0x5788a8;}}class cR extends vn{['createPhys'+'icalShape'](_0x5e9b5b,_0x49ad6a){const _0x401d59=_0x49ad6a['axis']??-0xc19*0x2+0xd4e+0xae5,_0x5bbc03=_0x49ad6a['radius']??0xa*0x250+0xcf9+-0x2419+0.5,_0x3cfc24=_0x49ad6a['height']??-0x8b5*-0x2+0x2358+-0x49*0xb9;let _0x39da2f=null,_0x264a7e=null;if(typeof Ammo<'u')switch(_0x401d59){case 0x6b+-0x13bb+0x1350:_0x39da2f=new Ammo['btVector3'](_0x3cfc24*(0x4ff*0x4+0x5*-0x634+0xb08+0.5),_0x5bbc03,_0x5bbc03),_0x264a7e=new Ammo['btCylinder'+'ShapeX'](_0x39da2f);break;case-0x1122+-0xc*-0x227+-0x8b1:_0x39da2f=new Ammo['btVector3'](_0x5bbc03,_0x3cfc24*(0x2516+-0x1*0xde1+-0x1735+0.5),_0x5bbc03),_0x264a7e=new Ammo['btCylinder'+'Shape'](_0x39da2f);break;case-0x1*0x1dd7+-0x1*0x2365+-0x952*-0x7:_0x39da2f=new Ammo['btVector3'](_0x5bbc03,_0x5bbc03,_0x3cfc24*(-0x4*0xe2+-0x1*-0x11cb+-0x3*0x4c1+0.5)),_0x264a7e=new Ammo['btCylinder'+'ShapeZ'](_0x39da2f);break;}return _0x39da2f&&Ammo['destroy'](_0x39da2f),_0x264a7e;}}class dR extends vn{['createPhys'+'icalShape'](_0x1e2909,_0x7afbfd){const _0x9fdf2=_0x7afbfd['axis']??0x7ac+-0x1*0xcbd+-0x3b*-0x16,_0x4986b7=_0x7afbfd['radius']??-0x1*0xbb3+-0x37b+0xf2e+0.5,_0x28d7bb=_0x7afbfd['height']??-0x1bc4+0x23b7+-0x12*0x71;let _0x5bd34e=null;if(typeof Ammo<'u')switch(_0x9fdf2){case 0x746+0x111f*-0x1+0x9d9:_0x5bd34e=new Ammo['btConeShap'+'eX'](_0x4986b7,_0x28d7bb);break;case 0x1b+0x1628+-0x32e*0x7:_0x5bd34e=new Ammo['btConeShap'+'e'](_0x4986b7,_0x28d7bb);break;case 0x24ca+0x204e+-0x25*0x1de:_0x5bd34e=new Ammo['btConeShap'+'eZ'](_0x4986b7,_0x28d7bb);break;}return _0x5bd34e;}}class uR extends vn{['beforeInit'+'ialize'](_0x428721,_0x46a0e2){}['createAmmo'+'Hull'](_0x16400c,_0x23f05b,_0x400a44,_0xb2baa9){const _0x3ae42d=new Ammo['btConvexHu'+'llShape'](),_0x2c723c=new Ammo['btVector3'](),_0x859a35=[];_0x16400c['getPositio'+'ns'](_0x859a35);for(let _0x2c5a72=0x49*-0x72+-0x2126+0x41a8;_0x2c5a72<_0x859a35['length'];_0x2c5a72+=-0xc99+-0x2301+0x1*0x2f9d)_0x2c723c['setValue'](_0x859a35[_0x2c5a72]*_0xb2baa9['x'],_0x859a35[_0x2c5a72+(0x16*0x1b7+0x1*0x2527+-0x4ae0)]*_0xb2baa9['y'],_0x859a35[_0x2c5a72+(-0x1e12+0x1*0x4f+-0x1dc5*-0x1)]*_0xb2baa9['z']),_0x3ae42d['addPoint'](_0x2c723c,!(0x233d*-0x1+-0x9*-0x69+-0x1f8d*-0x1));Ammo['destroy'](_0x2c723c),_0x3ae42d['recalcLoca'+'lAabb'](),_0x3ae42d['setMargin'](0x1ddb+-0x126+-0x1cb5+0.01);const _0xb52d2a=this['system']['_getNodeTr'+'ansform'](_0x23f05b);_0x400a44['addChildSh'+'ape'](_0xb52d2a,_0x3ae42d),Ammo['destroy'](_0xb52d2a);}['createAmmo'+'Mesh'](_0x4c38ed,_0x4f5a3c,_0x3ec50c,_0x38a2b2,_0x1eb0d3=!(0x7fa*-0x2+-0x14c8+0x125e*0x2)){const _0x4ac85d=this['system'];let _0x42c64d;if(_0x4ac85d['_triMeshCa'+'che'][_0x4c38ed['id']])_0x42c64d=_0x4ac85d['_triMeshCa'+'che'][_0x4c38ed['id']];else{const _0x57ac61=_0x4c38ed['vertexBuff'+'er'],_0xfc84cf=_0x57ac61['getFormat']();let _0x3fd3a5,_0x358f3c;for(let _0x5e41f4=-0x2148+-0x8ea+0xb*0x3d6;_0x5e41f4<_0xfc84cf['elements']['length'];_0x5e41f4++){const _0x55a415=_0xfc84cf['elements'][_0x5e41f4];if(_0x55a415['name']===Xe){_0x358f3c=new Float32Array(_0x57ac61['lock'](),_0x55a415['offset']),_0x3fd3a5=_0x55a415['stride']/(0x6b*0x57+0xa*0x331+-0x5*0xda7);break;}}const _0x5e6e11=[];_0x4c38ed['getIndices'](_0x5e6e11);const _0x2b7e85=_0x4c38ed['primitive'][-0x262a+-0x2ee+-0x5*-0x838]['count']/(-0x1*-0x1e61+-0x9be+-0x14a0),_0x560144=new Ammo['btVector3']();let _0x356554,_0x24da95,_0x3eec10;const _0x489faa=_0x4c38ed['primitive'][-0x2087+0x258f+-0x508]['base'];_0x42c64d=new Ammo['btTriangle'+'Mesh'](),_0x4ac85d['_triMeshCa'+'che'][_0x4c38ed['id']]=_0x42c64d;const _0x2e41bc=new Map();b['assert'](typeof _0x42c64d['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x192b89=_0x42c64d['getIndexed'+'MeshArray']();_0x192b89['at'](0x529*-0x3+-0x4f6*0x1+0x1471)['m_numTrian'+'gles']=_0x2b7e85;const _0x5be9b9=_0x38a2b2?_0x38a2b2['x']:0x20d8+-0x828+-0x18af,_0x331ee1=_0x38a2b2?_0x38a2b2['y']:-0xc4d+-0x1615*0x1+0x2263,_0x3c9768=_0x38a2b2?_0x38a2b2['z']:0xad3+-0x24b+-0x887,_0x172038=_0x3b0917=>{const _0x127c61=_0x358f3c[_0x3b0917*_0x3fd3a5]*_0x5be9b9,_0x2b1d8d=_0x358f3c[_0x3b0917*_0x3fd3a5+(-0x4c1+-0x1744+0x22*0xd3)]*_0x331ee1,_0x19a11a=_0x358f3c[_0x3b0917*_0x3fd3a5+(-0x7*0x125+0x14d0+-0xccb*0x1)]*_0x3c9768;let _0x15e8f5;if(_0x1eb0d3){const _0x3a32aa=_0x127c61+':'+_0x2b1d8d+':'+_0x19a11a;if(_0x15e8f5=_0x2e41bc['get'](_0x3a32aa),_0x15e8f5!==void(0x3b3*0x1+-0x23ce+-0x201b*-0x1))return _0x15e8f5;_0x560144['setValue'](_0x127c61,_0x2b1d8d,_0x19a11a),_0x15e8f5=_0x42c64d['findOrAddV'+'ertex'](_0x560144,!(-0x2*-0xad7+0x2074+-0x3621)),_0x2e41bc['set'](_0x3a32aa,_0x15e8f5);}else _0x560144['setValue'](_0x127c61,_0x2b1d8d,_0x19a11a),_0x15e8f5=_0x42c64d['findOrAddV'+'ertex'](_0x560144,!(0x2550+0x23a4+-0xe97*0x5));return _0x15e8f5;};for(let _0x282fda=0x43*-0x35+0x9*0x1e7+0x1a0*-0x2;_0x282fda<_0x2b7e85;_0x282fda++)_0x356554=_0x172038(_0x5e6e11[_0x489faa+_0x282fda*(0x506*0x5+-0x3*-0x8cb+0x293*-0x14)]),_0x24da95=_0x172038(_0x5e6e11[_0x489faa+_0x282fda*(-0xe7d*0x1+-0x406+-0x2*-0x943)+(-0xa3f+-0x2*-0x6d4+-0x368)]),_0x3eec10=_0x172038(_0x5e6e11[_0x489faa+_0x282fda*(0x3*-0xb57+0x1*-0x1156+0x335e)+(0x2301+-0x1fa4+-0x35b)]),_0x42c64d['addIndex'](_0x356554),_0x42c64d['addIndex'](_0x24da95),_0x42c64d['addIndex'](_0x3eec10);Ammo['destroy'](_0x560144);}const _0x21ffff=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x42c64d,!(0x1*-0x2b9+-0x13*-0x83+0x700*-0x1));if(!_0x38a2b2){const _0x5ed105=_0x4ac85d['_getNodeSc'+'aling'](_0x4f5a3c);_0x21ffff['setLocalSc'+'aling'](_0x5ed105),Ammo['destroy'](_0x5ed105);}const _0x5d00c4=_0x4ac85d['_getNodeTr'+'ansform'](_0x4f5a3c);_0x3ec50c['addChildSh'+'ape'](_0x5d00c4,_0x21ffff),Ammo['destroy'](_0x5d00c4);}['createPhys'+'icalShape'](_0x548772,_0x407052){if(!(typeof Ammo>'u')&&(_0x407052['model']||_0x407052['render'])){const _0x1f4d11=new Ammo['btCompound'+'Shape'](),_0x194d71=_0x548772['getWorldTr'+'ansform']()['getScale']();if(_0x407052['render']){const _0x2fbc6f=_0x407052['render']['meshes'];for(let _0x38c1b0=-0x25*0x3b+0x1*0x1fa5+-0x171e;_0x38c1b0<_0x2fbc6f['length'];_0x38c1b0++)_0x407052['convexHull']?this['createAmmo'+'Hull'](_0x2fbc6f[_0x38c1b0],dg,_0x1f4d11,_0x194d71):this['createAmmo'+'Mesh'](_0x2fbc6f[_0x38c1b0],dg,_0x1f4d11,_0x194d71,_0x407052['checkVerte'+'xDuplicate'+'s']);}else{if(_0x407052['model']){const _0x16cc3a=_0x407052['model']['meshInstan'+'ces'];for(let _0x4eae56=-0xc42*0x2+0x1309+-0x17*-0x3d;_0x4eae56<_0x16cc3a['length'];_0x4eae56++)this['createAmmo'+'Mesh'](_0x16cc3a[_0x4eae56]['mesh'],_0x16cc3a[_0x4eae56]['node'],_0x1f4d11,null,_0x407052['checkVerte'+'xDuplicate'+'s']);const _0x432979=new Ammo['btVector3'](_0x194d71['x'],_0x194d71['y'],_0x194d71['z']);_0x1f4d11['setLocalSc'+'aling'](_0x432979),Ammo['destroy'](_0x432979);}}return _0x1f4d11;}}['recreatePh'+'ysicalShap'+'es'](_0x5d69c9){const _0x25b7d5=_0x5d69c9['data'];if((_0x25b7d5['renderAsse'+'t']||_0x25b7d5['asset'])&&_0x5d69c9['enabled']&&_0x5d69c9['entity']['enabled']){this['loadAsset'](_0x5d69c9,_0x25b7d5['renderAsse'+'t']||_0x25b7d5['asset'],_0x25b7d5['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x5d69c9);}['loadAsset'](_0x206526,_0x352660,_0x1b90ab){const _0x1b4fa8=_0x206526['data'],_0x6d118e=this['system']['app']['assets'],_0x4c6608=_0x1b4fa8[_0x1b90ab],_0x11c268=_0x1d38ba=>{_0x1b4fa8[_0x1b90ab]===_0x4c6608&&(_0x1b4fa8[_0x1b90ab]=_0x1d38ba['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x206526));},_0x1e2b2b=_0x2dab67=>{_0x2dab67['ready'](_0x4216f0=>{if(_0x4216f0['data']['containerA'+'sset']){const _0x169e7f=_0x6d118e['get'](_0x4216f0['data']['containerA'+'sset']);_0x169e7f['loaded']?_0x11c268(_0x4216f0):(_0x169e7f['ready'](()=>{_0x11c268(_0x4216f0);}),_0x6d118e['load'](_0x169e7f));}else _0x11c268(_0x4216f0);}),_0x6d118e['load'](_0x2dab67);},_0x4038fe=_0x6d118e['get'](_0x352660);_0x4038fe?_0x1e2b2b(_0x4038fe):_0x6d118e['once']('add:'+_0x352660,_0x1e2b2b);}['doRecreate'+'PhysicalSh'+'ape'](_0x39ccb4){const _0x1a5c17=_0x39ccb4['entity'],_0x2b9ba4=_0x39ccb4['data'];_0x2b9ba4['model']||_0x2b9ba4['render']?(this['destroySha'+'pe'](_0x2b9ba4),_0x2b9ba4['shape']=this['createPhys'+'icalShape'](_0x1a5c17,_0x2b9ba4),_0x1a5c17['rigidbody']?(_0x1a5c17['rigidbody']['disableSim'+'ulation'](),_0x1a5c17['rigidbody']['createBody'](),_0x1a5c17['enabled']&&_0x1a5c17['rigidbody']['enabled']&&_0x1a5c17['rigidbody']['enableSimu'+'lation']()):_0x1a5c17['trigger']?_0x1a5c17['trigger']['initialize'](_0x2b9ba4):_0x1a5c17['trigger']=new ix(this['system']['app'],_0x39ccb4,_0x2b9ba4)):(this['beforeRemo'+'ve'](_0x1a5c17,_0x39ccb4),this['remove'](_0x1a5c17,_0x2b9ba4));}['updateTran'+'sform'](_0x5dcfa3,_0x43d72a,_0x483e89,_0x47e500){if(_0x5dcfa3['shape']){const _0x40f972=_0x5dcfa3['entity']['getWorldTr'+'ansform']()['getScale'](),_0x90489=_0x5dcfa3['shape']['getLocalSc'+'aling']();(_0x40f972['x']!==_0x90489['x']()||_0x40f972['y']!==_0x90489['y']()||_0x40f972['z']!==_0x90489['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x5dcfa3);}super['updateTran'+'sform'](_0x5dcfa3,_0x43d72a,_0x483e89,_0x47e500);}['destroySha'+'pe'](_0x2f4e8a){if(!_0x2f4e8a['shape'])return;const _0x4e8684=_0x2f4e8a['shape']['getNumChil'+'dShapes']();for(let _0x332abe=0x3b*-0xa+-0x34c*0xa+0x2346;_0x332abe<_0x4e8684;_0x332abe++){const _0x59196b=_0x2f4e8a['shape']['getChildSh'+'ape'](_0x332abe);Ammo['destroy'](_0x59196b);}Ammo['destroy'](_0x2f4e8a['shape']),_0x2f4e8a['shape']=null;}}class fR extends vn{['createPhys'+'icalShape'](_0x307fcd,_0x52b272){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x48b95b){!_0x48b95b['collision']||_0x48b95b['rigidbody']||(_0x48b95b['collision']['_compoundP'+'arent']=this,_0x48b95b!==this['entity']&&_0x48b95b['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x48b95b['collision']));}['_updateEac'+'hDescendan'+'t'](_0x5b0364){_0x5b0364['collision']&&_0x5b0364['collision']['_compoundP'+'arent']===this&&(_0x5b0364['collision']['_compoundP'+'arent']=null,_0x5b0364!==this['entity']&&!_0x5b0364['rigidbody']&&_0x5b0364['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x5b0364['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x346d0f){!_0x346d0f['collision']||_0x346d0f['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x346d0f,!(-0x16f+-0x22b2+0x2422));}}class pR extends Qe{constructor(_0x5c55b3){super(_0x5c55b3),this['id']='collision',this['ComponentT'+'ype']=Zn,this['DataType']=eR,this['schema']=aR,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x16e275,_0x37e057,_0x139cb4){_0x139cb4=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x183b29={};for(let _0x125193=0x1436+-0x3fc+-0x3e*0x43,_0x1eb833=_0x139cb4['length'];_0x125193<_0x1eb833;_0x125193++){const _0x240bb6=_0x139cb4[_0x125193];_0x183b29[_0x240bb6]=_0x37e057[_0x240bb6];}let _0x4384c3;if(_0x37e057['hasOwnProp'+'erty']('asset')?(_0x4384c3=_0x139cb4['indexOf']('model'),_0x4384c3!==-(0x19b8+-0x1a6*0xd+-0x449)&&_0x139cb4['splice'](_0x4384c3,-0x21*0xad+0x65*0x7+0x138b*0x1),_0x4384c3=_0x139cb4['indexOf']('render'),_0x4384c3!==-(0x1218+0x16da+-0x28f1*0x1)&&_0x139cb4['splice'](_0x4384c3,-0x1*-0x126d+0xa*0x77+-0x1712)):_0x37e057['hasOwnProp'+'erty']('model')&&(_0x4384c3=_0x139cb4['indexOf']('asset'),_0x4384c3!==-(0x1*0x1fc4+0x1*0xc95+-0x8*0x58b)&&_0x139cb4['splice'](_0x4384c3,0xd26+0x17f3+-0x2518)),_0x183b29['type']||(_0x183b29['type']=_0x16e275['data']['type']),_0x16e275['data']['type']=_0x183b29['type'],Array['isArray'](_0x183b29['halfExtent'+'s'])&&(_0x183b29['halfExtent'+'s']=new A(_0x183b29['halfExtent'+'s'])),Array['isArray'](_0x183b29['linearOffs'+'et'])&&(_0x183b29['linearOffs'+'et']=new A(_0x183b29['linearOffs'+'et'])),Array['isArray'](_0x183b29['angularOff'+'set'])){const _0x4a0bc5=_0x183b29['angularOff'+'set'];_0x4a0bc5['length']===-0xd*-0x10d+-0x2664+0xc5f*0x2?_0x183b29['angularOff'+'set']=new ie()['setFromEul'+'erAngles'](_0x4a0bc5[0x5c1*0x2+-0x1cbe*0x1+0x89e*0x2],_0x4a0bc5[-0xd6a+-0x2611*-0x1+-0x18a6],_0x4a0bc5[-0xc45*0x1+0x20a4*-0x1+0x2ceb]):_0x183b29['angularOff'+'set']=new ie(_0x183b29['angularOff'+'set']);}const _0x5a275f=this['_createImp'+'lementatio'+'n'](_0x183b29['type']);_0x5a275f['beforeInit'+'ialize'](_0x16e275,_0x183b29),super['initialize'+'ComponentD'+'ata'](_0x16e275,_0x183b29,_0x139cb4),_0x5a275f['afterIniti'+'alize'](_0x16e275,_0x183b29);}['_createImp'+'lementatio'+'n'](_0x58d95b){if(this['implementa'+'tions'][_0x58d95b]===void(-0x5*0x143+0x6d2+-0x83*0x1)){let _0x3754b3;switch(_0x58d95b){case'box':_0x3754b3=new oR(this);break;case'sphere':_0x3754b3=new lR(this);break;case'capsule':_0x3754b3=new hR(this);break;case'cylinder':_0x3754b3=new cR(this);break;case'cone':_0x3754b3=new dR(this);break;case'mesh':_0x3754b3=new uR(this);break;case'compound':_0x3754b3=new fR(this);break;default:b['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x58d95b);}this['implementa'+'tions'][_0x58d95b]=_0x3754b3;}return this['implementa'+'tions'][_0x58d95b];}['_getImplem'+'entation'](_0x8b74ed){return this['implementa'+'tions'][_0x8b74ed['collision']['data']['type']];}['cloneCompo'+'nent'](_0x2be898,_0x355efa){return this['_getImplem'+'entation'](_0x2be898)['clone'](_0x2be898,_0x355efa);}['onBeforeRe'+'move'](_0x4e1849,_0x1f6f9c){this['implementa'+'tions'][_0x1f6f9c['data']['type']]['beforeRemo'+'ve'](_0x4e1849,_0x1f6f9c),_0x1f6f9c['onBeforeRe'+'move']();}['onRemove'](_0x250829,_0x3a2cd0){this['implementa'+'tions'][_0x3a2cd0['type']]['remove'](_0x250829,_0x3a2cd0);}['updateComp'+'oundChildT'+'ransform'](_0x5f5061,_0x33be0e){const _0xc00e1d=_0x5f5061['collision']['_compoundP'+'arent'];if(_0xc00e1d!==_0x5f5061['collision']&&_0x5f5061['enabled']&&_0x5f5061['collision']['enabled']&&(_0x5f5061['_dirtyLoca'+'l']||_0x33be0e)){const _0x183369=this['_getNodeTr'+'ansform'](_0x5f5061,_0xc00e1d['entity']),_0x4c3cfc=_0xc00e1d['getCompoun'+'dChildShap'+'eIndex'](_0x5f5061['collision']['shape']);_0x4c3cfc===null?_0xc00e1d['shape']['addChildSh'+'ape'](_0x183369,_0x5f5061['collision']['data']['shape']):_0xc00e1d['shape']['updateChil'+'dTransform'](_0x4c3cfc,_0x183369,!(-0x1b40+0x1*-0x1850+0x3390)),Ammo['destroy'](_0x183369);}}['_removeCom'+'poundChild'](_0x12c8a0,_0x3c62c5){if(_0x12c8a0['shape']['getNumChil'+'dShapes']()!==0x1*-0x172e+-0x14f6+-0x14*-0x235){if(_0x12c8a0['shape']['removeChil'+'dShape'])_0x12c8a0['shape']['removeChil'+'dShape'](_0x3c62c5);else{const _0x137e8b=_0x12c8a0['getCompoun'+'dChildShap'+'eIndex'](_0x3c62c5);_0x137e8b!==null&&_0x12c8a0['shape']['removeChil'+'dShapeByIn'+'dex'](_0x137e8b);}}}['onTransfor'+'mChanged'](_0x1f71ca,_0x2699a6,_0x4658dd,_0xccf422){this['implementa'+'tions'][_0x1f71ca['data']['type']]['updateTran'+'sform'](_0x1f71ca,_0x2699a6,_0x4658dd,_0xccf422);}['changeType'](_0x20c2e7,_0x538ee5,_0x349bd6){this['implementa'+'tions'][_0x538ee5]['beforeRemo'+'ve'](_0x20c2e7['entity'],_0x20c2e7),this['implementa'+'tions'][_0x538ee5]['remove'](_0x20c2e7['entity'],_0x20c2e7['data']),this['_createImp'+'lementatio'+'n'](_0x349bd6)['reset'](_0x20c2e7,_0x20c2e7['data']);}['recreatePh'+'ysicalShap'+'es'](_0x4b0589){this['implementa'+'tions'][_0x4b0589['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x4b0589);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5f54be,_0x479f7c){if(_0x5f54be===_0x479f7c){const _0x288ce0=_0x5f54be['getWorldTr'+'ansform']()['getScale']();Ql['setScale'](_0x288ce0['x'],_0x288ce0['y'],_0x288ce0['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5f54be['parent'],_0x479f7c),Ql['mul'](_0x5f54be['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x4a6d00){const _0x15b0e2=_0x4a6d00['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x15b0e2['x'],_0x15b0e2['y'],_0x15b0e2['z']);}['_getNodeTr'+'ansform'](_0x362086,_0x229294){let _0x1538d8,_0x5d5624;_0x229294?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x362086,_0x229294),_0x1538d8=rR,_0x5d5624=Mr,Ql['getTransla'+'tion'](_0x1538d8),_0x5d5624['setFromMat'+'4'](Ql)):(_0x1538d8=_0x362086['getPositio'+'n'](),_0x5d5624=_0x362086['getRotatio'+'n']());const _0x3ef6c3=new Ammo['btQuaterni'+'on'](),_0x7589b3=new Ammo['btTransfor'+'m']();_0x7589b3['setIdentit'+'y']();const _0x499dac=_0x7589b3['getOrigin'](),_0x5c0336=_0x362086['collision'];if(_0x5c0336&&_0x5c0336['_hasOffset']){const _0x438fd9=_0x5c0336['data']['linearOffs'+'et'],_0x1642bd=_0x5c0336['data']['angularOff'+'set'],_0x1ad41f=nR;Mr['copy'](_0x5d5624)['transformV'+'ector'](_0x438fd9,_0x1ad41f),_0x1ad41f['add'](_0x1538d8),Mr['copy'](_0x5d5624)['mul'](_0x1642bd),_0x499dac['setValue'](_0x1ad41f['x'],_0x1ad41f['y'],_0x1ad41f['z']),_0x3ef6c3['setValue'](Mr['x'],Mr['y'],Mr['z'],Mr['w']);}else _0x499dac['setValue'](_0x1538d8['x'],_0x1538d8['y'],_0x1538d8['z']),_0x3ef6c3['setValue'](_0x5d5624['x'],_0x5d5624['y'],_0x5d5624['z'],_0x5d5624['w']);return _0x7589b3['setRotatio'+'n'](_0x3ef6c3),Ammo['destroy'](_0x3ef6c3),_0x7589b3;}['destroy'](){for(const _0x4dafef in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x4dafef]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Jl=new Y(),mR=new Ht();class _R{constructor(_0x482622,_0xf8fe0a,_0x15b715){this['_entity']=_0x482622,this['_element']=_0x482622['element'],this['model']=new Ui(),this['node']=new Oe(),this['model']['graph']=this['node'],this['mesh']=_0xf8fe0a,this['meshInstan'+'ce']=new Be(this['mesh'],_0x15b715,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x482622['name'],this['meshInstan'+'ce']['castShadow']=!(0x21fc+0x1794+0x7*-0x839),this['meshInstan'+'ce']['receiveSha'+'dow']=!(0x4fd*-0x3+0x11b3*0x1+-0x2bb),this['_meshDirty']=!(-0x250f+0xd7f*0x1+-0x7db*-0x3),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x285fc0,_0xc36158;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x285fc0=this['meshInstan'+'ce'])==null||_0x285fc0['destroy'](),this['meshInstan'+'ce']=null,(_0xc36158=this['unmaskMesh'+'Instance'])==null||_0xc36158['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x401a68){this['meshInstan'+'ce']&&(this['mesh']=_0x401a68,this['meshInstan'+'ce']['mesh']=_0x401a68,this['meshInstan'+'ce']['visible']=!!_0x401a68,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x401a68),this['forceUpdat'+'eAabb']());}['setMask'](_0x6ef2cf){var _0xc3ede3;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x6ef2cf){this['unmaskMesh'+'Instance']=new Be(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x2*-0x11b1+-0x1938+0x9*-0x121),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x11ce+-0x256b*0x1+0x139e),this['unmaskMesh'+'Instance']['pick']=!(0x3*0x9ee+-0x1ccd*0x1+0x6*-0x2a),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x66949e in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x66949e,this['meshInstan'+'ce']['parameters'][_0x66949e]['data']);}else{const _0x461c8d=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x461c8d>=0x1d08+-0x1d89+-0x3*-0x2b&&this['model']['meshInstan'+'ces']['splice'](_0x461c8d,-0x15ec+0x1*-0x189d+0x206*0x17);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x6ef2cf||((_0xc3ede3=this['unmaskMesh'+'Instance'])==null||_0xc3ede3['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x267132){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x267132,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x267132));}['setParamet'+'er'](_0x52122c,_0x2e559d){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x52122c,_0x2e559d),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x52122c,_0x2e559d));}['deletePara'+'meter'](_0x46a6d8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x46a6d8),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x46a6d8));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x204196=function(_0x3eb117){let _0x579803;const _0x58f980=_0x3eb117['children'],_0x329dff=_0x58f980['length'];if(_0x329dff){for(let _0x18a909=-0x1*-0x1a7e+-0x2a*-0xd3+-0x3d1c;_0x18a909<_0x329dff;_0x18a909++)_0x58f980[_0x18a909]['element']&&(_0x579803=_0x58f980[_0x18a909]);if(!_0x579803)return null;const _0x2aaffa=_0x204196(_0x579803);return _0x2aaffa||_0x579803;}return null;};if(this['unmaskMesh'+'Instance']){const _0x42fa45=_0x204196(this['_entity']);_0x42fa45&&_0x42fa45['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x42fa45['element']['drawOrder']+_0x42fa45['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),b['trace'](Es,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x5221e6){this['meshInstan'+'ce']&&(b['trace'](Es,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x5221e6),this['meshInstan'+'ce']['drawOrder']=_0x5221e6);}['setCull'](_0x23f7a7){if(!this['meshInstan'+'ce'])return;const _0x290b7e=this['_element'];let _0x7cb9c9=null;_0x23f7a7&&_0x290b7e['_isScreenS'+'pace']()&&(_0x7cb9c9=function(_0x48a0dd){return _0x290b7e['isVisibleF'+'orCamera'](_0x48a0dd);}),this['meshInstan'+'ce']['cull']=_0x23f7a7,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x7cb9c9,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x23f7a7,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x7cb9c9);}['setScreenS'+'pace'](_0x122549){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x122549,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x122549));}['setLayer'](_0x10f2e6){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x10f2e6,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x10f2e6));}['forceUpdat'+'eAabb'](_0x31eb95){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0xb6d+-0x717*0x4+0x10f0),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x327+0x30*0x48+-0x10a6)));}['setAabbFun'+'c'](_0x441386){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x441386,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x441386));}}class gR{constructor(_0x44f1d1){c(this,'_evtSetMes'+'hes',null),(this['_element']=_0x44f1d1,this['_entity']=_0x44f1d1['entity'],this['_system']=_0x44f1d1['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x947+-0x5a+0x1c9*-0x5,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x1*-0x74f+0x1*-0x641+0x17*0x97),this['_rect']=new ee(0x7*0x2c3+-0x1*0x1a6b+0x716,-0x2128*0x1+0xd4d+-0x12b*-0x11,-0x6c1*-0x2+0x1195+-0x1f16*0x1,-0x1*0x16cd+-0x1*-0x14f6+-0x1d8*-0x1),this['_mask']=!(-0x2103+-0xfa*0x1b+-0x2b3*-0x16),this['_maskRef']=0xb*-0x31a+-0xc32+0x3*0xf70,this['_outerScal'+'e']=new W(),this['_outerScal'+'eUniform']=new Float32Array(0x15*0x119+-0x622*0x2+-0x1f*0x59),this['_innerOffs'+'et']=new ee(),this['_innerOffs'+'etUniform']=new Float32Array(0x259*0x1+0xabb+-0xd10),this['_atlasRect']=new ee(),this['_atlasRect'+'Uniform']=new Float32Array(-0xe5*0x1d+-0x1*-0x2329+0x2*-0x49a),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new _R(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new Y(0xacd+0x13c4+-0x1e90,0xc85*0x1+-0x1a15+0xd91*0x1,0x220e+-0x3a2*-0x4+0x3095*-0x1,0x1*0x53b+0x16c1+-0x1bfb),this['_colorUnif'+'orm']=new Float32Array([0x13fc+-0x7b6+-0xc45,0x6*0x11f+0x1*-0x1d71+-0x2d7*-0x8,-0x1fc4+0x175a+0x86b]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',-0xa03+0x6b*0x1+-0x3*-0x333),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x10b14b){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x15b708){this['_updateMat'+'erial'](_0x15b708);}['_onScreenC'+'hange'](_0x4c3499,_0x287462){_0x4c3499?this['_updateMat'+'erial'](_0x4c3499['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x122c*-0x1+0x1c7d+-0x2c*0x3c));}['_onDrawOrd'+'erChange'](_0x13da1d){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x13da1d),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(-0xe*0x1b2+0x3*-0x499+-0x1*-0x2588);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st);}['_updateMat'+'erial'](_0x138960){const _0x2016ba=!!this['_mask'],_0x3ae942=!!(this['sprite']&&this['sprite']['renderMode']===ht),_0x1347f7=!!(this['sprite']&&this['sprite']['renderMode']===st);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x138960,_0x2016ba,_0x3ae942,_0x1347f7)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x138960),this['_renderabl'+'e']['setLayer'](_0x138960?Ub:d0));}['_createMes'+'h'](){const _0x312e73=this['_element'],_0x5f4e92=_0x312e73['calculated'+'Width'],_0x4e2658=_0x312e73['calculated'+'Height'],_0x13c5e1=this['_rect'],_0x4c4fdf=this['_system']['app']['graphicsDe'+'vice'],_0x11ae04=new Float32Array([_0x5f4e92,-0x22da+-0x2632+-0xdc*-0x55,-0xa0b+-0x32*-0x7+-0x8ad*-0x1,-0x1bb2+-0x59*0x61+-0x6d3*-0x9,-0x23ba+-0x194c+0x3d06,-0x1*0x8e1+-0x3ff+0xce1,_0x13c5e1['x']+_0x13c5e1['z'],-0x25c2+0x1ee8+0x6db-_0x13c5e1['y'],_0x5f4e92,_0x4e2658,-0x212*-0x5+-0x98d+-0xcd,-0x246f+-0x623+0x2a92,0x1*0x1223+-0x1*-0x1a8d+-0x2cb0,0x115c*-0x1+-0x1a3e+0x2b9b,_0x13c5e1['x']+_0x13c5e1['z'],0x1*0x1eef+-0x1*0x22fe+0x2*0x208-(_0x13c5e1['y']+_0x13c5e1['w']),0x209*0xd+0x1*-0xa13+0x3*-0x576,-0xb08+-0xd*0x169+-0x1d5d*-0x1,0x59*0x42+-0x1909+-0x1*-0x217,-0x2365+-0x599*-0x2+0x1833,-0x1414+0x3*0xbe1+0x7*-0x239,0x1da1+0x106*-0x12+-0xb34,_0x13c5e1['x'],0x267c+0x17ae+-0x3e29*0x1-_0x13c5e1['y'],0x8e*0x1e+0x1b3e+-0x15f1*0x2,_0x4e2658,-0x2431+0x1491+0xfa0,0x2*0xbdd+-0x1*0x10c7+0x251*-0x3,0x3*0x23e+0x1*0x266f+0x41b*-0xb,0x1eb2+-0x2c+-0x1e85*0x1,_0x13c5e1['x'],0x1674+-0x26*0xef+-0x1*-0xd07-(_0x13c5e1['y']+_0x13c5e1['w'])]),_0xe1274d=mR['get'](_0x4c4fdf,()=>new Dt(_0x4c4fdf,[{'semantic':Xe,'components':0x3,'type':Re},{'semantic':ss,'components':0x3,'type':Re},{'semantic':ds,'components':0x2,'type':Re}])),_0x45df35=new fs(_0x4c4fdf,_0xe1274d,-0x1*-0x47+0xf9a+-0xfdd,{'data':_0x11ae04['buffer']}),_0x9fa92b=new ke(_0x4c4fdf);return _0x9fa92b['vertexBuff'+'er']=_0x45df35,_0x9fa92b['primitive'][0x52f+0x504+-0xa33]['type']=lr,_0x9fa92b['primitive'][0x1*0x133a+-0x97*0x1f+-0x1*0xf1]['base']=-0x1533+-0xa92+0x3*0xa97,_0x9fa92b['primitive'][0xc*-0x1e5+-0x22dc+0x13*0x308]['count']=-0x5*-0x37d+-0x1*0x1fe6+-0x41*-0x39,_0x9fa92b['primitive'][0x1460+-0x4d6*0x1+-0xf8a]['indexed']=!(-0x1*0x16cd+0x22de+-0xc10),_0x9fa92b['aabb']['setMinMax'](A['ZERO'],new A(_0x5f4e92,_0x4e2658,-0x1a10+0x1*0x17ac+0x264)),this['_updateMes'+'h'](_0x9fa92b),_0x9fa92b;}['_updateMes'+'h'](_0x3193a6){const _0x39e708=this['_element'];let _0x40a7a0=_0x39e708['calculated'+'Width'],_0x36253b=_0x39e708['calculated'+'Height'];if(_0x39e708['fitMode']!==bh&&this['_targetAsp'+'ectRatio']>0xb*0x91+-0x49*-0x7a+-0x2905){const _0x3597e9=_0x39e708['calculated'+'Width']/_0x39e708['calculated'+'Height'];_0x39e708['fitMode']===KP&&_0x3597e9>this['_targetAsp'+'ectRatio']||_0x39e708['fitMode']===ZP&&_0x3597e9<this['_targetAsp'+'ectRatio']?_0x40a7a0=_0x39e708['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x36253b=_0x39e708['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x4365da=_0x39e708['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x4365da),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){const _0x46939b=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x292029=(0x1b8a+0x7a2*0x1+-0x232a)/_0x46939b['rect']['z'],_0x1fb5df=(-0x37a*0xb+0x2489+-0x1b7*-0x1)/_0x46939b['rect']['w'];this['_innerOffs'+'et']['set'](_0x46939b['border']['x']*_0x292029,_0x46939b['border']['y']*_0x1fb5df,_0x46939b['border']['z']*_0x292029,_0x46939b['border']['w']*_0x1fb5df);const _0x5c4140=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x46939b['rect']['x']/_0x5c4140['width'],_0x46939b['rect']['y']/_0x5c4140['height'],_0x46939b['rect']['z']/_0x5c4140['width'],_0x46939b['rect']['w']/_0x5c4140['height']);const _0xe3b5d7=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x1c438d=_0x46939b['rect']['z']/_0xe3b5d7,_0x352055=_0x46939b['rect']['w']/_0xe3b5d7;this['_outerScal'+'e']['set'](Math['max'](_0x40a7a0,this['_innerOffs'+'et']['x']*_0x1c438d),Math['max'](_0x36253b,this['_innerOffs'+'et']['y']*_0x352055));let _0x3f4865=_0x1c438d,_0xca50b1=_0x352055;this['_outerScal'+'e']['x']/=_0x1c438d,this['_outerScal'+'e']['y']/=_0x352055,_0x3f4865*=z['clamp'](_0x40a7a0/(this['_innerOffs'+'et']['x']*_0x1c438d),-0x1*0x13c6+0x3*0x2ba+0xe*0xd4+0.0001,-0x2620+0x13e9*0x1+0x4*0x48e),_0xca50b1*=z['clamp'](_0x36253b/(this['_innerOffs'+'et']['y']*_0x352055),-0x3f5+0x2596+-0x21a1+0.0001,-0xde0*-0x1+-0x1*-0x1837+-0x2616),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][-0x24d0+0x2651+-0x23*0xb]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x2284*0x1+-0x7bb*0x3+-0xb52]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0xc05+0x1*-0x6af+0x12b6]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x175e+-0x283+0x14d8*-0x1]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1b11*0x1+0x574*-0x4+0x30e1]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x12a*-0x4+0x257e*-0x1+0x20d7]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x455+0x3*0x20e+-0xa7d]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x1*0xb3b+0x2408+-0x18ca]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][-0x1*-0x41c+-0xb21+0x3*0x257]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1*-0x24d4+-0xc2*0x2b+-0x1f*0x23]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x3f4865,_0xca50b1,0x440+-0x183b+0x13fc),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x1222+0x21ef+-0x3411+0.5-_0x39e708['pivot']['x'])*_0x40a7a0,(0x3*-0xf4+-0x11a2+0x147e+0.5-_0x39e708['pivot']['y'])*_0x36253b,0x838+0x5*0x2f5+0x97*-0x27));}else{const _0x2627be=_0x3193a6['vertexBuff'+'er'],_0x21eeba=new Float32Array(_0x2627be['lock']()),_0x8c5869=_0x39e708['pivot']['x'],_0x47a6d9=_0x39e708['pivot']['y'];_0x21eeba[-0x17*-0x49+-0x5f*0x1+-0x90*0xb]=_0x40a7a0-_0x8c5869*_0x40a7a0,_0x21eeba[0xeaf+0x194e+-0x27fc]=0x1140+0x31*0x5c+0x61*-0x5c-_0x47a6d9*_0x36253b,_0x21eeba[-0x4a*0x3f+0x1cfe*-0x1+0x2f3c]=_0x40a7a0-_0x8c5869*_0x40a7a0,_0x21eeba[0x1c24+0x2238+-0x3e53]=_0x36253b-_0x47a6d9*_0x36253b,_0x21eeba[-0x2db+0x305*-0xb+0x2422]=0x1*0x2356+0x1*-0xa12+0x4*-0x651-_0x8c5869*_0x40a7a0,_0x21eeba[-0xc9*-0x11+-0x1dcb+0x1083]=0x213*-0xc+-0x3c4+0x1c*0x106-_0x47a6d9*_0x36253b,_0x21eeba[-0xbb*0x1+-0x4*-0x85a+-0x1b7*0x13]=0x1d58+-0xb*0x29d+-0x99-_0x8c5869*_0x40a7a0,_0x21eeba[0x70b+0xcaa+-0x139c]=_0x36253b-_0x47a6d9*_0x36253b;let _0x214081=-0xc9*0x3+0x185a+0x233*-0xa,_0x425a16=0x335*0x2+0x310+-0x1e5*0x5,_0x52c573=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x4a67c2=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x4a67c2&&(_0x52c573=_0x4a67c2['rect'],_0x214081=this['_sprite']['atlas']['texture']['width'],_0x425a16=this['_sprite']['atlas']['texture']['height']);}_0x21eeba[-0x3f0+0x1*0x1774+-0x137e]=(_0x52c573['x']+_0x52c573['z'])/_0x214081,_0x21eeba[0x770+-0x1308+0xb9f]=0x47*0x7a+0x2467+0x26c*-0x1d-_0x52c573['y']/_0x425a16,_0x21eeba[0x42+-0x2*0xad9+0x157e]=(_0x52c573['x']+_0x52c573['z'])/_0x214081,_0x21eeba[0x13*0x61+-0x2521+0x355*0x9]=0x128d*0x2+0x1266+-0x377f-(_0x52c573['y']+_0x52c573['w'])/_0x425a16,_0x21eeba[0x42f+0x416+0x1*-0x82f]=_0x52c573['x']/_0x214081,_0x21eeba[0x85c+-0xaf1*-0x2+0xf9*-0x1f]=0x4*0x787+-0x15eb+0x83*-0x10-_0x52c573['y']/_0x425a16,_0x21eeba[0x20fe+-0x5*-0x10a+-0x2612]=_0x52c573['x']/_0x214081,_0x21eeba[0x218*0x7+0x247f+0x17*-0x238]=-0xac7+0xa*-0xbc+0x1d*0xa0-(_0x52c573['y']+_0x52c573['w'])/_0x425a16,_0x2627be['unlock']();const _0x3ebea9=new A(-0x1f22+0xddc+0x1146-_0x8c5869*_0x40a7a0,0x496*0x1+-0x8b3+0x41d-_0x47a6d9*_0x36253b,-0x25e+0x1b*-0x15a+0x26dc),_0x46da53=new A(_0x40a7a0-_0x8c5869*_0x40a7a0,_0x36253b-_0x47a6d9*_0x36253b,0x17f5+0x665*-0x1+-0x1190);_0x3193a6['aabb']['setMinMax'](_0x3ebea9,_0x46da53),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](0x2d5*-0x1+0x2ee*0x5+-0x90*0x15,0x258a*-0x1+-0xaec+0x3077,0x6d*-0x4c+-0x20e*-0x10+-0x83),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0x12cf+-0x154+-0x117b*0x1,0x247b+0x439+-0x28b4,-0xc0b+-0x1*-0x15c5+0x53*-0x1e),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x5c0+-0x7d*0x7+-0x254*0x1);}['_updateSpr'+'ite'](){let _0x3b26c2=!(-0xf4*-0x11+0x11eb+0x1*-0x221e),_0x933c70=null;if(this['_targetAsp'+'ectRatio']=-(0x108f+0x1*0x22e7+-0x3375*0x1),this['_sprite']&&this['_sprite']['atlas']){_0x933c70=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x3b26c2=this['_sprite']['renderMode']===ht||this['_sprite']['renderMode']===st;const _0x72fc2=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x72fc2==null?void(-0x18d1+-0x1492+0x2d63):_0x72fc2['rect']['w'])>-0x3*0x4b3+-0x1*-0x1a5d+-0xc44&&(this['_targetAsp'+'ectRatio']=_0x72fc2['rect']['z']/_0x72fc2['rect']['w']);}this['mesh']=_0x3b26c2?_0x933c70:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x9bc*-0x4+-0x126f*0x2+0x4bce):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x114b09){return _0x114b09['center']['set'](0x1778+0xa79+-0x21f1,-0xf47*0x1+0x6*-0x654+0x13d*0x2b,-0x11b5+-0x1*0x64f+-0x1*-0x1804),_0x114b09['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x2b*0x86+0x3f5+-0x1a77+0.5),this['_outerScal'+'e']['y']*(0x1cf9+0x22b4*-0x1+0x5bb+0.5),-0x7b7+0x64b+0x16c+0.001),_0x114b09['setFromTra'+'nsformedAa'+'bb'](_0x114b09,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x114b09;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x3e7324=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x3e7324),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x3eb9fb){this['material']=_0x3eb9fb['resource'];}['_onMateria'+'lAdded'](_0x10c7c5){this['_system']['app']['assets']['off']('add:'+_0x10c7c5['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x10c7c5['id']&&this['_bindMater'+'ialAsset'](_0x10c7c5);}['_bindMater'+'ialAsset'](_0x362dc6){this['_entity']['enabled']&&(_0x362dc6['on']('load',this['_onMateria'+'lLoad'],this),_0x362dc6['on']('change',this['_onMateria'+'lChange'],this),_0x362dc6['on']('remove',this['_onMateria'+'lRemove'],this),_0x362dc6['resource']?this['_onMateria'+'lLoad'](_0x362dc6):this['_system']['app']['assets']['load'](_0x362dc6));}['_unbindMat'+'erialAsset'](_0x4a23a0){_0x4a23a0['off']('load',this['_onMateria'+'lLoad'],this),_0x4a23a0['off']('change',this['_onMateria'+'lChange'],this),_0x4a23a0['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x5aeccd){this['_system']['app']['assets']['off']('add:'+_0x5aeccd['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x5aeccd['id']&&this['_bindTextu'+'reAsset'](_0x5aeccd);}['_bindTextu'+'reAsset'](_0x522dae){this['_entity']['enabled']&&(_0x522dae['on']('load',this['_onTexture'+'Load'],this),_0x522dae['on']('change',this['_onTexture'+'Change'],this),_0x522dae['on']('remove',this['_onTexture'+'Remove'],this),_0x522dae['resource']?this['_onTexture'+'Load'](_0x522dae):this['_system']['app']['assets']['load'](_0x522dae));}['_unbindTex'+'tureAsset'](_0x2b0030){_0x2b0030['off']('load',this['_onTexture'+'Load'],this),_0x2b0030['off']('change',this['_onTexture'+'Change'],this),_0x2b0030['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x523a74){this['texture']=_0x523a74['resource'];}['_onTexture'+'Change'](_0x259427){}['_onTexture'+'Remove'](_0x3e43eb){}['_onSpriteA'+'ssetAdded'](_0x29129f){this['_system']['app']['assets']['off']('add:'+_0x29129f['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x29129f['id']&&this['_bindSprit'+'eAsset'](_0x29129f);}['_bindSprit'+'eAsset'](_0x1ab456){this['_entity']['enabled']&&(_0x1ab456['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x1ab456['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x1ab456['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x1ab456['resource']?this['_onSpriteA'+'ssetLoad'](_0x1ab456):this['_system']['app']['assets']['load'](_0x1ab456));}['_unbindSpr'+'iteAsset'](_0x339567){_0x339567['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x339567['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x339567['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x339567['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x339567['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x408248){if(!_0x408248||!_0x408248['resource'])this['sprite']=null;else{if(_0x408248['resource']['atlas'])this['sprite']=_0x408248['resource'];else{const _0x5a0c58=_0x408248['data']['textureAtl'+'asAsset'];if(_0x5a0c58){const _0x409c5f=this['_system']['app']['assets'];_0x409c5f['off']('load:'+_0x5a0c58,this['_onTexture'+'AtlasLoad'],this),_0x409c5f['once']('load:'+_0x5a0c58,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x3ff2e9){this['_onSpriteA'+'ssetLoad'](_0x3ff2e9);}['_onSpriteA'+'ssetRemove'](_0x7eb076){}['_bindSprit'+'e'](_0x5b48f8){this['_evtSetMes'+'hes']=_0x5b48f8['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x5b48f8['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x5b48f8['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x5b48f8['atlas']&&_0x5b48f8['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x4e0b5d){var _0x2fb5e3;(_0x2fb5e3=this['_evtSetMes'+'hes'])==null||_0x2fb5e3['off'](),this['_evtSetMes'+'hes']=null,_0x4e0b5d['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x4e0b5d['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x4e0b5d['atlas']&&_0x4e0b5d['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=z['clamp'](this['_spriteFra'+'me'],-0x1fde+-0x193d*-0x1+-0x1*-0x6a1,this['_sprite']['frameKeys']['length']-(0x224f+0x232d+-0x93*0x79))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==Pi&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x88b93f){const _0x1b08e6=this['_spriteAss'+'et'];_0x1b08e6 instanceof he?this['_onSpriteA'+'ssetLoad'](_0x1b08e6):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x1b08e6));}['onEnable'](){if(this['_materialA'+'sset']){const _0x354ec1=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x354ec1&&_0x354ec1['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x354ec1);}if(this['_textureAs'+'set']){const _0x433258=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x433258&&_0x433258['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x433258);}if(this['_spriteAss'+'et']){const _0x423293=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x423293&&_0x423293['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x423293);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x26e031){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x26e031,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x26e031;let _0x93c90c=-0x1c18+-0x1f34+0xc*0x4f1;if(this['_element']['maskedBy']&&(_0x93c90c=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0x17005b=new Zs({'ref':_0x93c90c+(0x1005+0x25*0x5+-0x1*0x10bd),'func':Dh,'zpass':WS});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0x17005b,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0x17005b;}}['_updateRen'+'derableEmi'+'ssive'](){Jl['linear'](this['_color']),this['_colorUnif'+'orm'][0x2*-0xc69+-0x1f91+0x3863*0x1]=Jl['r'],this['_colorUnif'+'orm'][-0x2405*0x1+0x25bf+-0x1b9]=Jl['g'],this['_colorUnif'+'orm'][0x2605*-0x1+-0x2c*-0xb2+-0x1*-0x76f]=Jl['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x448e2c){this['_color']===_0x448e2c&&b['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x392c38,g:_0x263d68,b:_0x844f3a}=_0x448e2c;(this['_color']['r']!==_0x392c38||this['_color']['g']!==_0x263d68||this['_color']['b']!==_0x844f3a)&&(this['_color']['r']=_0x392c38,this['_color']['g']=_0x263d68,this['_color']['b']=_0x844f3a,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x1e3e52){_0x1e3e52!==this['_color']['a']&&(this['_color']['a']=_0x1e3e52,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x1e3e52)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x1e3e52);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x4d8560){this['_rect']===_0x4d8560&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x464e64,_0x139a10,_0x55a1d6,_0x334956;_0x4d8560 instanceof ee?(_0x464e64=_0x4d8560['x'],_0x139a10=_0x4d8560['y'],_0x55a1d6=_0x4d8560['z'],_0x334956=_0x4d8560['w']):(_0x464e64=_0x4d8560[-0x2515*-0x1+0x20*-0x47+0x3*-0x967],_0x139a10=_0x4d8560[-0x5a9*0x2+0x113+0xa40],_0x55a1d6=_0x4d8560[0xd*-0x133+-0xadb*0x1+-0x1*-0x1a74],_0x334956=_0x4d8560[0x194f+0x22d+0x21d*-0xd]),!(_0x464e64===this['_rect']['x']&&_0x139a10===this['_rect']['y']&&_0x55a1d6===this['_rect']['z']&&_0x334956===this['_rect']['w'])&&(this['_rect']['set'](_0x464e64,_0x139a10,_0x55a1d6,_0x334956),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x2180+-0xc2d*-0x2+0x926):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x3260ec=this['_system']['app']['assets'];_0x3260ec['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x4ed3ef=_0x3260ec['get'](this['_materialA'+'sset']);_0x4ed3ef&&(_0x4ed3ef['off']('load',this['_onMateria'+'lLoad'],this),_0x4ed3ef['off']('change',this['_onMateria'+'lChange'],this),_0x4ed3ef['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x8ee6d4){if(this['_material']!==_0x8ee6d4){if(!_0x8ee6d4){const _0x753531=this['_element']['_isScreenS'+'pace']();this['mask']?_0x8ee6d4=_0x753531?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x8ee6d4=_0x753531?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x8ee6d4,this['_materialA'+'sset']){const _0x133736=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x133736||_0x133736['resource']!==_0x8ee6d4)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x8ee6d4&&(this['_renderabl'+'e']['setMateria'+'l'](_0x8ee6d4),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x269873){const _0xe383c7=this['_system']['app']['assets'];let _0x329985=_0x269873;if(_0x269873 instanceof he&&(_0x329985=_0x269873['id']),this['_materialA'+'sset']!==_0x329985){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x329985,this['_materialA'+'sset']){const _0x2dea17=_0xe383c7['get'](this['_materialA'+'sset']);_0x2dea17?this['_bindMater'+'ialAsset'](_0x2dea17):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x329985,_0xe383c7['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x329985;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x32c4e1){if(this['_texture']!==_0x32c4e1){if(this['_textureAs'+'set']){const _0x53eb34=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x53eb34&&_0x53eb34['resource']!==_0x32c4e1&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x32c4e1,_0x32c4e1){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x10948b=this['_texture']['width']/this['_texture']['height'];_0x10948b!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x10948b,this['_element']['fitMode']!==bh&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x8e*-0x1a+-0x19f*0x7+0x19c6),this['_element']['fitMode']!==bh&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x6af6){const _0x40fd21=this['_system']['app']['assets'];let _0x30d441=_0x6af6;if(_0x6af6 instanceof he&&(_0x30d441=_0x6af6['id']),this['_textureAs'+'set']!==_0x30d441){if(this['_textureAs'+'set']){_0x40fd21['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x83c9bd=_0x40fd21['get'](this['_textureAs'+'set']);_0x83c9bd&&(_0x83c9bd['off']('load',this['_onTexture'+'Load'],this),_0x83c9bd['off']('change',this['_onTexture'+'Change'],this),_0x83c9bd['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x30d441,this['_textureAs'+'set']){const _0x365eed=_0x40fd21['get'](this['_textureAs'+'set']);_0x365eed?this['_bindTextu'+'reAsset'](_0x365eed):(this['texture']=null,_0x40fd21['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x38cdd1){const _0x72eeff=this['_system']['app']['assets'];let _0x44dd5f=_0x38cdd1;if(_0x38cdd1 instanceof he&&(_0x44dd5f=_0x38cdd1['id']),this['_spriteAss'+'et']!==_0x44dd5f){if(this['_spriteAss'+'et']){_0x72eeff['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x115af6=_0x72eeff['get'](this['_spriteAss'+'et']);_0x115af6&&this['_unbindSpr'+'iteAsset'](_0x115af6);}if(this['_spriteAss'+'et']=_0x44dd5f,this['_spriteAss'+'et']){const _0x3b9c2d=_0x72eeff['get'](this['_spriteAss'+'et']);_0x3b9c2d?this['_bindSprit'+'eAsset'](_0x3b9c2d):(this['sprite']=null,_0x72eeff['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x44dd5f);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0xfb24d4){if(this['_sprite']!==_0xfb24d4){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x13143e=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x13143e&&_0x13143e['resource']!==_0xfb24d4&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0xfb24d4,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=z['clamp'](this['_spriteFra'+'me'],0x629+-0x5d*0x52+0x17a1,this['_sprite']['frameKeys']['length']-(-0x20f*0x8+-0x22*0x86+0x11b*0x1f))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x44d722){const _0x434b97=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=z['clamp'](_0x44d722,-0x26*0x4c+0x2*0x702+0x1c*-0x19,this['_sprite']['frameKeys']['length']-(0x231*-0x5+0x1*0x12b2+-0x7bc)):this['_spriteFra'+'me']=_0x44d722,this['_spriteFra'+'me']!==_0x434b97&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x44d722);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x5c22e1){this['_renderabl'+'e']['setMesh'](_0x5c22e1),this['_defaultMe'+'sh']===_0x5c22e1?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x4c8a89){this['_mask']!==_0x4c8a89&&(this['_mask']=_0x4c8a89,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x2e4c61){this['_pixelsPer'+'Unit']!==_0x2e4c61&&(this['_pixelsPer'+'Unit']=_0x2e4c61,this['_sprite']&&(this['_sprite']['renderMode']===ht||this['_sprite']['renderMode']===st)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class yR extends de{constructor(_0x18c0e2){super(),this['_app']=_0x18c0e2,_0x18c0e2['i18n']['on']('set:locale',this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x1a*-0xcb+0x19de+0x11*-0x4f),this['_disableLo'+'calization']=!(-0xd32+-0x8*-0xaa+-0x2a1*-0x3),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x37e49f){const _0x5c901a=_0x37e49f instanceof he?_0x37e49f['id']:_0x37e49f;this['_defaultAs'+'set']!==_0x5c901a&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x5c901a,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x2a369f){const _0x4ab2af=_0x2a369f instanceof he?_0x2a369f['id']:_0x2a369f;this['_localized'+'Asset']!==_0x4ab2af&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x4ab2af,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x2b3698){this['_autoLoad']!==_0x2b3698&&(this['_autoLoad']=_0x2b3698,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0xb3eca8){this['_disableLo'+'calization']!==_0xb3eca8&&(this['_disableLo'+'calization']=_0xb3eca8,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x7722d9=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x7722d9?this['_onDefault'+'AssetAdd'](_0x7722d9):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x1f09d3=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1f09d3&&(_0x1f09d3['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1f09d3['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x1f09d3['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x60111a){this['_defaultAs'+'set']===_0x60111a['id']&&(_0x60111a['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x60111a['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x60111a['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x342799){this['_defaultAs'+'set']===_0x342799['id']&&(_0x342799['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x342799['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x36cac5=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x36cac5&&(_0x36cac5['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x36cac5['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x36cac5['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x36cac5['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x36cac5):this['_app']['assets']['load'](_0x36cac5));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x5b9061=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x5b9061&&(_0x5b9061['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x5b9061['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x5b9061['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x3297e9){this['_localized'+'Asset']===_0x3297e9['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0xad258e){this['fire']('load',_0xad258e);}['_onLocaliz'+'edAssetCha'+'nge'](_0x319b8b,_0x73a563,_0x52515f,_0x263911){this['fire']('change',_0x319b8b,_0x73a563,_0x52515f,_0x263911);}['_onLocaliz'+'edAssetRem'+'ove'](_0x585ed3){this['_localized'+'Asset']===_0x585ed3['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x585ed3);}['_onLocaleA'+'dd'](_0x4862dc,_0xd92185){this['_app']['i18n']['locale']===_0x4862dc&&this['_onSetLoca'+'le'](_0x4862dc);}['_onLocaleR'+'emove'](_0x1a867b,_0x47ab00){this['_app']['i18n']['locale']===_0x1a867b&&this['_onSetLoca'+'le'](_0x1a867b);}['_onSetLoca'+'le'](_0x2e8e54){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x3148cb=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x3148cb||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0xf9cdc3=_0x3148cb['getLocaliz'+'edAssetId'](_0x2e8e54);if(!_0xf9cdc3){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0xf9cdc3;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off']('set:locale',this['_onSetLoca'+'le'],this),this['off']();}}const tc='msdf',xR='bitmap',po=0x8*-0x9+-0x1d81+0x3d*0x7d,Qn=-0xde3+0x241+0xba3,df=-0xdff+0x83d+0x2e2*0x2,rx=0x187d+-0x3*0x193+0x185*-0xd,uf=-0xc9d*-0x1+0x1422+-0x20bb,ff=0x1d1e+-0x1ce7+0x1*-0x32,pf=0x1*0x252b+0x29f*0xe+-0x49d7*0x1,mf=-0x1eac+0x42e+0x1a85,ug=0x1d82+0x1*0x21d9+0x4df*-0xd,SR='\x20\x09\x0a\x0d\x0b\x0c',vR=/[\w|/]/;class bR{constructor(_0x4cd2db){this['_symbols']=_0x4cd2db,this['_index']=0x2fb+0x1431*-0x1+0x1136,this['_last']=0x1*-0xd40+-0x5*0x4e5+0x25b9,this['_cur']=this['_symbols']['length']>-0x1f3b+0x852+-0x187*-0xf?this['_symbols'][0x17e3+-0x24a8+-0x1*-0xcc5]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0xe4b9b2=this['_read']();for(;_0xe4b9b2===ug;)_0xe4b9b2=this['_read']();return _0xe4b9b2!==po&&_0xe4b9b2!==Qn&&(this['_last']=this['_index']),_0xe4b9b2;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0xbac4ed=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x59da62=this['read'](),_0x78a9d0='';for(;_0x78a9d0+=(_0x78a9d0['length']>-0xc1*0x6+-0xe9f+-0x179*-0xd?'\x0a':'')+_0xbac4ed[_0x59da62]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x59da62===po||_0x59da62===Qn);)_0x59da62=this['read']();return _0x78a9d0;}['_read'](){return this['_buf']=[],this['_eof']()?po:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0xf11+0x136b+-0x45a?df:po;case'[':return this['_mode']='tag',this['_buf']['length']>-0x1dbe+0x1320+0xa9e?df:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',Qn;case'[':return this['_store'](),rx;case']':return this['_store'](),this['_mode']='text',uf;case'=':return this['_store'](),ff;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',Qn);}}['_whitespac'+'e'](){for(this['_store']();SR['indexOf'](this['_cur'])!==-(-0x7*-0x50b+0x21*-0x8+-0x2244);)this['_store']();return ug;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',Qn;case'\x22':return this['_next'](),pf;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return mf;}['_isIdentif'+'ierSymbol'](_0x46194b){return _0x46194b['length']===0x148b+-0x215d+0xcd3&&_0x46194b['match'](vR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x49d1a8){this['_buf']['push'](_0x49d1a8);}}class wR{constructor(_0x490e68){this['_scanner']=new bR(_0x490e68),this['_error']=null;}['parse'](_0x55807f,_0x55ac48){for(;;)switch(this['_scanner']['read']()){case po:return!(-0x21fd+0x192*-0x15+0x4f*0xd9);case Qn:return!(-0x258+0x1375+-0x111c);case df:Array['prototype']['push']['apply'](_0x55807f,this['_scanner']['buf']());break;case rx:if(!this['_parseTag'](_0x55807f,_0x55ac48))return!(-0xf63+-0x3c7*-0x5+-0x37f);break;default:return!(0x16b1+-0x1d40+0x10*0x69);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x3ed992,_0x16e092){let _0x1093e4=this['_scanner']['read']();if(_0x1093e4!==mf)return this['_error']='expected\x20i'+'dentifier',!(0x2b8+0x28*-0x24+0x2e9);const _0x10f2f0=this['_scanner']['buf']()['join']('');if(_0x10f2f0[0x1717+0x2*0x936+-0x2983*0x1]==='/'){for(let _0x21b414=_0x16e092['length']-(-0x21b0+0x6f*-0x1b+-0x791*-0x6);_0x21b414>=0x159e+-0x36f*0x2+-0xec0;--_0x21b414)if(_0x10f2f0==='/'+_0x16e092[_0x21b414]['name']&&_0x16e092[_0x21b414]['end']===null)return _0x16e092[_0x21b414]['end']=_0x3ed992['length'],_0x1093e4=this['_scanner']['read'](),_0x1093e4!==uf?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x48b+0xd8a+-0x8fe)):!(0x1*0x1523+0x3e*-0xe+0xb*-0x19d);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0xd72*0x1+0x3ae+0x3d*0x29);}const _0x1e010f={'name':_0x10f2f0,'value':null,'attributes':{},'start':_0x3ed992['length'],'end':null};if(_0x1093e4=this['_scanner']['read'](),_0x1093e4===ff){if(_0x1093e4=this['_scanner']['read'](),_0x1093e4!==pf)return this['_error']='expected\x20s'+'tring',!(0x2072*0x1+0x1004+-0x9b1*0x5);_0x1e010f['value']=this['_scanner']['buf']()['join'](''),_0x1093e4=this['_scanner']['read']();}for(;;){switch(_0x1093e4){case uf:return _0x16e092['push'](_0x1e010f),!(-0x1*0x6d+-0x457*-0x3+-0xc98);case mf:{const _0x1c36ab=this['_scanner']['buf']()['join']('');if(_0x1093e4=this['_scanner']['read'](),_0x1093e4!==ff)return this['_error']='expected\x20e'+'quals',!(0x1d9+-0x112e+0xf56);if(_0x1093e4=this['_scanner']['read'](),_0x1093e4!==pf)return this['_error']='expected\x20s'+'tring',!(-0x8c7+-0x7f7*-0x3+-0xf1d);const _0x165cc1=this['_scanner']['buf']()['join']('');_0x1e010f['attributes'][_0x1c36ab]=_0x165cc1;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x21bf+0x248*0x8+0x4*0x3e0);}_0x1093e4=this['_scanner']['read']();}}}function nx(_0x3e9eb5,_0x18032e){for(const _0x4f9fe3 in _0x18032e){if(!_0x18032e['hasOwnProp'+'erty'](_0x4f9fe3))continue;const _0xbc5707=_0x18032e[_0x4f9fe3];_0xbc5707 instanceof Object?(_0x3e9eb5['hasOwnProp'+'erty'](_0x4f9fe3)||(_0x3e9eb5[_0x4f9fe3]={}),nx(_0x3e9eb5[_0x4f9fe3],_0x18032e[_0x4f9fe3])):_0x3e9eb5[_0x4f9fe3]=_0xbc5707;}}function TR(_0x8c2547){if(_0x8c2547['length']===0x1471*-0x1+-0x2661+-0x1*-0x3ad2)return null;const _0x5db449={};for(let _0x27741a=-0x68f+0x11b*0x2+-0x35*-0x15;_0x27741a<_0x8c2547['length'];++_0x27741a){const _0x32f0fc=_0x8c2547[_0x27741a],_0x4569ce={};_0x4569ce[_0x32f0fc['name']]={'value':_0x32f0fc['value'],'attributes':_0x32f0fc['attributes']},nx(_0x5db449,_0x4569ce);}return _0x5db449;}function AR(_0x37e032,_0x2a64fc){if(_0x37e032['length']===0x1b5d+-0xce*0x1+-0x1*0x1a8f)return null;const _0x20a7b3={};for(let _0x49a552=0x1*0x1c49+0xc*-0x22+0x1ab1*-0x1;_0x49a552<_0x37e032['length'];++_0x49a552){const _0x5e3a9c=_0x37e032[_0x49a552];_0x20a7b3['hasOwnProp'+'erty'](_0x5e3a9c['start'])?_0x20a7b3[_0x5e3a9c['start']]['open']===null?_0x20a7b3[_0x5e3a9c['start']]['open']=[_0x5e3a9c]:_0x20a7b3[_0x5e3a9c['start']]['open']['push'](_0x5e3a9c):_0x20a7b3[_0x5e3a9c['start']]={'open':[_0x5e3a9c],'close':null},_0x20a7b3['hasOwnProp'+'erty'](_0x5e3a9c['end'])?_0x20a7b3[_0x5e3a9c['end']]['close']===null?_0x20a7b3[_0x5e3a9c['end']]['close']=[_0x5e3a9c]:_0x20a7b3[_0x5e3a9c['end']]['close']['push'](_0x5e3a9c):_0x20a7b3[_0x5e3a9c['end']]={'open':null,'close':[_0x5e3a9c]};}let _0x2efef2=[];function _0x3ea117(_0x26d6d8){_0x2efef2=_0x2efef2['filter'](_0x2744d8=>_0x26d6d8['find'](_0x3e7b50=>_0x3e7b50===_0x2744d8)===void(-0x22ad+-0x1819+0x3ac6));}function _0x220e0c(_0x1140b7){for(let _0x33cf84=0x2*0x6be+0xf07+-0x1c83;_0x33cf84<_0x1140b7['length'];++_0x33cf84)_0x2efef2['push'](_0x1140b7[_0x33cf84]);}const _0x625048=Object['keys'](_0x20a7b3)['sort']((_0x365d00,_0x11acdc)=>_0x365d00-_0x11acdc),_0x1c2c8d=[];for(let _0x335437=-0x2db*-0x2+-0x471+-0x145;_0x335437<_0x625048['length'];++_0x335437){const _0x5dd332=_0x20a7b3[_0x625048[_0x335437]];_0x5dd332['close']!==null&&_0x3ea117(_0x5dd332['close']),_0x5dd332['open']!==null&&_0x220e0c(_0x5dd332['open']),_0x1c2c8d['push']({'start':_0x625048[_0x335437],'tags':TR(_0x2efef2)});}const _0x3d29d3=[];let _0x2be964=null;for(let _0x5666e5=0x2e0+-0x6*-0x413+-0x1b52;_0x5666e5<_0x1c2c8d['length'];++_0x5666e5){const _0x2a965d=_0x1c2c8d[_0x5666e5];for(;_0x3d29d3['length']<_0x2a965d['start'];)_0x3d29d3['push'](_0x2be964?_0x2be964['tags']:null);_0x2be964=_0x2a965d;}for(;_0x3d29d3['length']<_0x2a64fc;)_0x3d29d3['push'](null);return _0x3d29d3;}function ER(_0x221537){const _0x488678=new wR(_0x221537),_0x293dfd=[],_0x5c8131=[];if(!_0x488678['parse'](_0x293dfd,_0x5c8131))return console['warn'](_0x488678['error']()),{'symbols':_0x221537,'tags':null};const _0x2fd950=_0x5c8131['find'](_0x255b4f=>_0x255b4f['end']===null);if(_0x2fd950)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x2fd950['name']+'\x27'),{'symbols':_0x221537,'tags':null};const _0x31c39e=AR(_0x5c8131,_0x293dfd['length']);return{'symbols':_0x293dfd,'tags':_0x31c39e};}class CR{static['evaluate'](_0x4029f0){return ER(_0x4029f0);}}class MR{constructor(){this['count']=-0x15ec+0x309+0x12e3,this['quad']=0x1a14+0x1cee+-0x3702,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function PR(_0xec938f,_0x316ed5){const _0x26e9ba=new ke(_0xec938f);return _0x26e9ba['setPositio'+'ns'](_0x316ed5['positions']),_0x26e9ba['setNormals'](_0x316ed5['normals']),_0x26e9ba['setColors3'+'2'](_0x316ed5['colors']),_0x26e9ba['setUvs'](-0x1c*-0xbc+0x1*-0x1ed6+-0x1*-0xa46,_0x316ed5['uvs']),_0x26e9ba['setIndices'](_0x316ed5['indices']),_0x26e9ba['setVertexS'+'tream'](Lo,_0x316ed5['outlines'],0x8*0x14e+-0x121+0x154*-0x7,void(-0x988+-0x11*-0x19+0x7df),Re,!(0x1bcf+0x5ec+-0x21ba)),_0x26e9ba['setVertexS'+'tream'](Fo,_0x316ed5['shadows'],-0xd0+-0x262d+-0x34*-0xc0,void(-0x37*-0x96+-0x1*-0x1a8f+-0x3ac9),Re,!(0x9*-0x3cb+-0x13b*-0x11+0xd39)),_0x26e9ba['update'](),_0x26e9ba;}const fg=/^[\r\n]$/,RR=/^[ \t]$/,pg=/^[ \t\-]|\u200b$/,IR=/^[a-z0-9]$/i,mg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,DR=/^[]$/,LR=['','','','','','','','','','','','',''],FR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},_g=new Y(),kR=new W(),De=new Y();class OR{constructor(_0x340873){this['_element']=_0x340873,this['_system']=_0x340873['system'],this['_entity']=_0x340873['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new yR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x19b0+0xb13+-0x24c3),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new Y(0x19c3+-0x11b*0x13+-0x4c1*0x1,-0x1*0x25d4+-0x1*0x4b1+-0x1*-0x2a86,0xada+-0x11f6+-0x3*-0x25f,-0x12e1+-0x2591+0x12d1*0x3),this['_colorUnif'+'orm']=new Float32Array(-0x6ec+-0x5*0x60d+0x2a8*0xe),this['_spacing']=0x21d9*-0x1+0x1ad5+0x705,this['_fontSize']=-0x2e*0xb3+-0x14f8+0x3542,this['_fontMinY']=-0x1413*0x1+-0x520*-0x2+0x9d3,this['_fontMaxY']=0x236e+-0x797*0x2+-0x1440,this['_originalF'+'ontSize']=0x907+-0x4f*0x37+-0x812*-0x1,this['_maxFontSi'+'ze']=0x25f*-0xb+-0x4f9*0x7+0xdc*0x47,this['_minFontSi'+'ze']=-0x1d33+-0x921*0x3+0x389e*0x1,this['_autoFitWi'+'dth']=!(0x1e5*0x6+0xe5*-0x21+-0x48a*-0x4),this['_autoFitHe'+'ight']=!(-0x1*0x3b7+0x1*0x74b+-0x393),this['_maxLines']=-(-0x248+-0xe3*0x3+-0x2*-0x279),this['_lineHeigh'+'t']=0xa14+-0x1e4e+-0x412*-0x5,this['_scaledLin'+'eHeight']=0x114a+0x11e1+-0x230b,this['_wrapLines']=!(-0x5f4+0x1318+-0xd23),this['_drawOrder']=0x26*-0x81+-0x1efe+0x3224,this['_alignment']=new W(-0x4cf*0x3+-0xb*0xdf+0x1802+0.5,0x9b*-0x13+0x259e+-0x1a1d+0.5),this['_autoWidth']=!(0x3*0x69b+-0x67*0x5f+0x49a*0x4),this['_autoHeigh'+'t']=!(-0x174c+0x1b6*-0x14+0x132c*0x3),this['width']=-0x2122+-0x2253+-0x7*-0x9a3,this['height']=0x2*-0x3e2+-0xce9+0x14ad,this['_node']=new Oe(),this['_model']=new Ui(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x3*0x557+-0xe41*-0x1+0x1c4),this['_aabb']=new ve(),this['_noResize']=!(0x1*0xdb7+-0x136c+0x2b*0x22),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x10d*-0x1+0x7ab*0x4+-0x1d9e),this['_unicodeCo'+'nverter']=!(-0x1*0xaee+-0x23ad+0x2e9c*0x1),this['_rtl']=!(0x1d9*0x11+0x210e+-0x4076),this['_outlineCo'+'lor']=new Y(0xc*-0x2b4+-0x2*-0x2ed+0x1a96,-0xc0a+-0x8*-0x24f+-0x66e,-0x6*0x2ba+-0xb63+0x1*0x1bbf,0x1b37+-0x3*-0xc83+-0x19*0x297),this['_outlineCo'+'lorUniform']=new Float32Array(0x1633*0x1+-0x245*0x10+-0x1*-0xe21),this['_outlineTh'+'icknessSca'+'le']=0x1b17+-0x25af+0xa98+0.2,this['_outlineTh'+'ickness']=-0x4*-0x926+0x1*0x1756+0x6*-0x9fd,this['_shadowCol'+'or']=new Y(-0x1*-0x1267+-0x1e03+-0xb9c*-0x1,-0x173b+-0x1*-0xfdd+0x2*0x3af,-0x5cc+-0x1*0xd3b+0x1*0x1307,0x2*-0x934+-0x120f+-0x123c*-0x2),this['_shadowCol'+'orUniform']=new Float32Array(0x1cd5+0x11bf+0x5d2*-0x8),this['_shadowOff'+'setScale']=-0x19b0+0x1*0x23d3+0x1*-0xa23+0.005,this['_shadowOff'+'set']=new W(-0xdba+-0x25*0xaf+0x2705,-0x25*-0xa3+-0x9*0x31c+0x46d),this['_shadowOff'+'setUniform']=new Float32Array(0x773*0x5+0x5*-0xb7+-0x8b*0x3e),this['_enableMar'+'kup']=!(0x1e*0x12+0xbf3+0x101*-0xe),this['_onScreenC'+'hange'](this['_element']['screen']),_0x340873['on']('resize',this['_onParentR'+'esize'],this),_0x340873['on']('set:screen',this['_onScreenC'+'hange'],this),_0x340873['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x340873['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x340873['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x5a9+0x25*-0x8+-0x481,this['_rangeEnd']=0x1*-0x4aa+-0x1132*-0x1+0x644*-0x2;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off']('set:locale',this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x1fc9d8,_0x542a7c){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x32f090){_0x32f090?this['_updateMat'+'erial'](_0x32f090['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x2d*-0x14+-0x1b*0xc1+0x10d8));}['_onScreenS'+'paceChange'](_0x1264b1){this['_updateMat'+'erial'](_0x1264b1);}['_onDrawOrd'+'erChange'](_0x421383){if(this['_drawOrder']=_0x421383,this['_model']){for(let _0x2fbae8=0x20a7+0x6*0x7c+0x1*-0x238f,_0xd54688=this['_model']['meshInstan'+'ces']['length'];_0x2fbae8<_0xd54688;_0x2fbae8++)this['_model']['meshInstan'+'ces'][_0x2fbae8]['drawOrder']=_0x421383;}}['_onPivotCh'+'ange'](_0x2f3560){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x24ac6c){if(this['_i18nKey']){if(this['fontAsset']){const _0x55afff=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x55afff||!_0x55afff['resource']||_0x55afff['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x55953b,_0x5575bb){this['_i18nKey']&&_0x5575bb[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x17bb36){if(this['unicodeCon'+'verter']){const _0x13cc69=this['_system']['getUnicode'+'Converter']();_0x13cc69?_0x17bb36=_0x13cc69(_0x17bb36):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x17bb36&&(this['_font']&&this['_updateTex'+'t'](_0x17bb36),this['_text']=_0x17bb36);}['_updateTex'+'t'](_0x4d8c43){let _0x5e008a;if(_0x4d8c43===void(0x65e+-0x204e+0x10*0x19f)&&(_0x4d8c43=this['_text']),this['_symbols']=dh['getSymbols'](_0x4d8c43['normalize']?_0x4d8c43['normalize']('NFC'):_0x4d8c43),this['_symbols']['length']===0x2*-0xd6c+0x595+-0x1543*-0x1&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x26deee=CR['evaluate'](this['_symbols']);this['_symbols']=_0x26deee['symbols'],_0x5e008a=_0x26deee['tags']||[];}if(this['_rtlReorde'+'r']){const _0x2cc7c5=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x2cc7c5){const _0x28e71d=_0x2cc7c5(this['_symbols']);this['_rtl']=_0x28e71d['rtl'],this['_symbols']=_0x28e71d['mapping']['map'](function(_0x2d15d9){return this['_symbols'][_0x2d15d9];},this),_0x5e008a&&(_0x5e008a=_0x28e71d['mapping']['map'](_0x29711f=>_0x5e008a[_0x29711f]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1616*0x1+-0x1*-0x26ef+-0x10d8*0x1);const _0x1705fe=(_0x3a1761,_0x3e0ace)=>_0x3a1761['toString'](!(-0x2b9*-0xa+-0x2229+-0x1*-0x6ef))['toLowerCas'+'e']()+':'+_0x3e0ace['toFixed'](0xcdf+0x1019*-0x1+-0xcf*-0x4),_0x1dee3a=(_0x1150a2,_0x25722e)=>_0x1150a2['toString'](!(-0x1*0x145c+0x1*-0x54f+0x19ab))['toLowerCas'+'e']()+':'+_0x25722e['x']['toFixed'](0x15*-0x1a2+-0x1*0x7+-0x57*-0x65)+':'+_0x25722e['y']['toFixed'](-0xfc8+0x1*-0x2464+0x342e);if(_0x5e008a){const _0x3d476d={},_0x219f54={},_0x236a61={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x1b29+0x1925+0x47*-0xb9)),Math['round'](this['_color']['g']*(0x215f+0x709*-0x1+-0x1957)),Math['round'](this['_color']['b']*(0xd0a+-0x1*-0x17d7+-0x23e2))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x6e3+-0x115f+0xb7b)),Math['round'](this['_outlineCo'+'lor']['g']*(0x343*-0x1+0x859*-0x1+-0x1*-0xc9b)),Math['round'](this['_outlineCo'+'lor']['b']*(0x796+-0x295*-0x2+0x3eb*-0x3)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x13c7+0xbd7*-0x2+0x2c74)),Math['round'](this['_outlineTh'+'ickness']*(0x145d*0x1+-0x2*0xdcf+0x840))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1d*-0x152+-0x1cbf+-0x881*-0x8)),Math['round'](this['_shadowCol'+'or']['g']*(0xd70*-0x1+0x2501+-0x1692)),Math['round'](this['_shadowCol'+'or']['b']*(0xc28*0x2+0x1f7b+-0x7*0x7d4)),Math['round'](this['_shadowCol'+'or']['a']*(-0x1d9d+0x1d0b+0x191)),Math['round'](this['_shadowOff'+'set']['x']*(0x36b*0xb+-0x1ca*-0xd+0x3c5c*-0x1)),Math['round'](this['_shadowOff'+'set']['y']*(0x1*0x19f5+-0x1416+-0x560))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x3d476d[this['_color']['toString'](!(0x979+0xefb*-0x1+0x583))['toLowerCas'+'e']()]=0xffc+0x1*-0x1777+-0x5*-0x17f,_0x219f54[_0x1705fe(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0xd89+-0x1bec*0x1+0xe63*0x1,_0x236a61[_0x1dee3a(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0x7*-0x50d+0x1ec8+-0x4223;for(let _0x3d276b=0x17*0x112+-0x7c3*-0x1+-0x399*0x9,_0x1e2561=this['_symbols']['length'];_0x3d276b<_0x1e2561;++_0x3d276b){const _0x18164b=_0x5e008a[_0x3d276b];let _0x3bc32c=-0x61f+0xe14*0x1+-0x15*0x61;if(_0x18164b&&_0x18164b['color']&&_0x18164b['color']['value']){const _0x56ac86=_0x18164b['color']['value'];if(_0x56ac86['length']===-0x224*0xf+0x13d+0x1ee6&&_0x56ac86[-0x1006+0xf7d+-0x89*-0x1]==='#'){const _0x286b72=_0x56ac86['substring'](-0x1d67+-0x1b48+0x38b0)['toLowerCas'+'e']();_0x3d476d['hasOwnProp'+'erty'](_0x286b72)?_0x3bc32c=_0x3d476d[_0x286b72]:/^[0-9a-f]{6}$/['test'](_0x286b72)&&(_0x3bc32c=this['_colorPale'+'tte']['length']/(-0x7*0x3df+0x15d0+0x2*0x2a6),_0x3d476d[_0x286b72]=_0x3bc32c,this['_colorPale'+'tte']['push'](parseInt(_0x286b72['substring'](0x3*-0x13e+-0x647*-0x2+-0x8d4*0x1,0x109d+0x1332*-0x2+-0x1fb*-0xb),0x1709+0x6*0xa+0xd*-0x1c9)),this['_colorPale'+'tte']['push'](parseInt(_0x286b72['substring'](0x1838+-0x14d*0x9+0xc81*-0x1,0x3*-0xc83+0x8e1+0xa*0x2de),0x6a*-0x35+-0x2b6+0xe*0x1c4)),this['_colorPale'+'tte']['push'](parseInt(_0x286b72['substring'](-0x2*-0x1eb+0x20e3+-0x24b5,0xc33+0x10d9+-0x1d06),0x941+-0x19e+-0x793)));}}this['_symbolCol'+'ors']['push'](_0x3bc32c);let _0x571820=0x5*-0x361+-0x1aa2+0x2b87;if(_0x18164b&&_0x18164b['outline']&&(_0x18164b['outline']['attributes']['color']||_0x18164b['outline']['attributes']['thickness'])){let _0x4df4bc=_0x18164b['outline']['attributes']['color']?_g['fromString'](_0x18164b['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0xf33ca3=Number(_0x18164b['outline']['attributes']['thickness']);(Number['isNaN'](_0x4df4bc['r'])||Number['isNaN'](_0x4df4bc['g'])||Number['isNaN'](_0x4df4bc['b'])||Number['isNaN'](_0x4df4bc['a']))&&(_0x4df4bc=this['_outlineCo'+'lor']),Number['isNaN'](_0xf33ca3)&&(_0xf33ca3=this['_outlineTh'+'ickness']);const _0x31f242=_0x1705fe(_0x4df4bc,_0xf33ca3);_0x219f54['hasOwnProp'+'erty'](_0x31f242)?_0x571820=_0x219f54[_0x31f242]:(_0x571820=this['_outlinePa'+'lette']['length']/(-0x1*0x6bd+-0x1*0xc4b+0x1*0x130d),_0x219f54[_0x31f242]=_0x571820,this['_outlinePa'+'lette']['push'](Math['round'](_0x4df4bc['r']*(-0x1*-0xedf+0x25fb+-0x33db)),Math['round'](_0x4df4bc['g']*(-0x21f3+-0x11*-0x1df+0x323)),Math['round'](_0x4df4bc['b']*(-0x1f3f+0x2*0x121e+-0x3fe)),Math['round'](_0x4df4bc['a']*(0x2498+-0x12d1+0x18*-0xb3)),Math['round'](_0xf33ca3*(0xa94+0x1*-0xe76+0x4e1*0x1))));}this['_symbolOut'+'lineParams']['push'](_0x571820);let _0x3d3be2=0x12d*0xe+-0x24db+0xe3*0x17;if(_0x18164b&&_0x18164b['shadow']&&(_0x18164b['shadow']['attributes']['color']||_0x18164b['shadow']['attributes']['offset']||_0x18164b['shadow']['attributes']['offsetX']||_0x18164b['shadow']['attributes']['offsetY'])){let _0x235e34=_0x18164b['shadow']['attributes']['color']?_g['fromString'](_0x18164b['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x4736bf=Number(_0x18164b['shadow']['attributes']['offset']),_0x4a0668=Number(_0x18164b['shadow']['attributes']['offsetX']),_0x164069=Number(_0x18164b['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x235e34['r'])||Number['isNaN'](_0x235e34['g'])||Number['isNaN'](_0x235e34['b'])||Number['isNaN'](_0x235e34['a']))&&(_0x235e34=this['_shadowCol'+'or']);const _0x11af2f=kR['set'](Number['isNaN'](_0x4a0668)?Number['isNaN'](_0x4736bf)?this['_shadowOff'+'set']['x']:_0x4736bf:_0x4a0668,Number['isNaN'](_0x164069)?Number['isNaN'](_0x4736bf)?this['_shadowOff'+'set']['y']:_0x4736bf:_0x164069),_0x2cf6a1=_0x1dee3a(_0x235e34,_0x11af2f);_0x236a61['hasOwnProp'+'erty'](_0x2cf6a1)?_0x3d3be2=_0x236a61[_0x2cf6a1]:(_0x3d3be2=this['_shadowPal'+'ette']['length']/(-0xe51+-0x1fc4+0x2e1b),_0x236a61[_0x2cf6a1]=_0x3d3be2,this['_shadowPal'+'ette']['push'](Math['round'](_0x235e34['r']*(-0x20ed+0x3c4*-0x2+0x2974)),Math['round'](_0x235e34['g']*(0x3e1+-0x8dc+0x5fa)),Math['round'](_0x235e34['b']*(0x485+0x12b*0x1+0x1*-0x4b1)),Math['round'](_0x235e34['a']*(-0x4e6+-0x30e*0x8+0x1e55)),Math['round'](_0x11af2f['x']*(0x2*-0x48b+0x1456+-0xac1)),Math['round'](_0x11af2f['y']*(0x1*-0x822+0x87b*-0x1+0x111c))));}this['_symbolSha'+'dowParams']['push'](_0x3d3be2);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x391235=this['_calculate'+'CharsPerTe'+'xture']();let _0x47a603=!(-0xb*0x32e+0x2*-0x1cf+0x2699);const _0x2c149c=this['_element'],_0x4dd63e=_0x2c149c['_isScreenS'+'pace'](),_0x5aea7a=_0x2c149c['_isScreenC'+'ulled'](),_0x15172e=function(_0x39b063){return _0x2c149c['isVisibleF'+'orCamera'](_0x39b063);};for(let _0x4a83a5=0xdcc+-0xa11+0x3bb*-0x1,_0x777a28=this['_meshInfo']['length'];_0x4a83a5<_0x777a28;_0x4a83a5++){const _0x1b4a43=_0x391235[_0x4a83a5]||0x1c98+-0x2d5*0xc+0x564,_0x342da9=this['_meshInfo'][_0x4a83a5];if(_0x342da9['count']!==_0x1b4a43){if(_0x47a603||(_0x2c149c['removeMode'+'lFromLayer'+'s'](this['_model']),_0x47a603=!(-0x1ff9+0x1*0xd79+0x10*0x128)),_0x342da9['count']=_0x1b4a43,_0x342da9['positions']['length']=_0x342da9['normals']['length']=_0x1b4a43*(0x1*0x1631+-0x6b*-0x33+0x55*-0x83)*(-0x5a*0x4f+-0x13f4+0x15*0x246),_0x342da9['indices']['length']=_0x1b4a43*(0x7*0x13d+-0x1*0x1906+0x105e)*(0xcce+-0x21b9+0x1*0x14ed),_0x342da9['uvs']['length']=_0x1b4a43*(0x2411+-0x7ec*0x3+-0xc4b)*(0x396+-0xbf7+-0x133*-0x7),_0x342da9['colors']['length']=_0x1b4a43*(-0x3fe*0x1+0x751*0x3+-0x11f1)*(-0x4*0x85d+0x19b2+-0x3e3*-0x2),_0x342da9['outlines']['length']=_0x1b4a43*(0x32*-0x4+-0xc42+0xd0e*0x1)*(0x194f+0x1d3a+-0x7*0x7ca),_0x342da9['shadows']['length']=_0x1b4a43*(-0x7db+0x8b*0x2f+-0x11a6)*(-0x1b7+-0x6*0x2e8+0x132a),_0x342da9['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x342da9['meshInstan'+'ce']),_0x1b4a43===-0x1de2+-0x4*0x82+0x1fea){_0x342da9['meshInstan'+'ce']=null;continue;}for(let _0x1861f4=0x1f7*-0x2+0x2c*-0x5c+0x26*0x85;_0x1861f4<_0x1b4a43;_0x1861f4++)_0x342da9['indices'][_0x1861f4*(-0xec*0xa+-0x21cf+0x2b0a)*(0x8*-0x413+-0x21d5+0x1625*0x3)+(0x256a+-0x1*0x183f+0xd2b*-0x1)]=_0x1861f4*(-0x22eb+-0x1*0xf3a+-0x3229*-0x1),_0x342da9['indices'][_0x1861f4*(0x244c+0x3d*-0x53+0x841*-0x2)*(0x230a+0x386+-0x268e)+(-0x165+0xe82+0x1*-0xd1c)]=_0x1861f4*(-0x335+0xc91*-0x2+-0x7*-0x40d)+(0x99c*0x2+-0x1d4*-0xd+-0x2afb),_0x342da9['indices'][_0x1861f4*(-0x1*-0x22c3+-0x231c+0x5c)*(0x1f1*-0x7+-0x10*-0x12f+-0x557)+(-0x83a+0x288+0x5b4)]=_0x1861f4*(0x182a+0x21ea+-0x3a10)+(-0x1d2a+-0x932+-0xd1*-0x2f),_0x342da9['indices'][_0x1861f4*(-0x4*-0x1c0+0x2e*0x22+-0xd19)*(-0xa27+0x1*0x1eb5+-0x148c)+(0x9d1+0x1*0x1204+-0x4a3*0x6)]=_0x1861f4*(0x4*-0x8b3+-0x5*0x3d1+0x1*0x35e5)+(0x1251+0xe5a+-0x20a9),_0x342da9['indices'][_0x1861f4*(0x1c8d*-0x1+0x117e*0x2+-0x66c)*(0x1*-0x99b+0x1532+-0x5*0x251)+(-0x20e7+0x653*-0x1+0x273e)]=_0x1861f4*(-0xd1c+-0x141f+0x213f)+(0x2242+-0xf*0x19f+-0x9ee),_0x342da9['indices'][_0x1861f4*(-0x484*0x2+-0x5*-0x65b+-0x48c*0x5)*(0x2308+-0x1c4a+-0x6bc)+(-0xd*-0x91+-0x1598+0xe40)]=_0x1861f4*(-0x15fb+0x23*0xbf+0x11*-0x3e)+(0x491+0xd91+0x33*-0x5b),_0x342da9['normals'][_0x1861f4*(-0x1c70+0x6*-0x544+0xfc*0x3d)*(-0x1*0x1bab+0x1*0x1369+-0x49*-0x1d)+(0x551*-0x2+-0x1*0x1c0b+0x26ad)]=-0x1447+-0x1*0xcfb+0x2142,_0x342da9['normals'][_0x1861f4*(0x208e+0x1*-0x120d+-0xe7d)*(0x387*-0x1+0xd91*0x2+0x28*-0x97)+(0x8c8+0x1*0x72f+-0xff6)]=0x1*-0xbcf+0x805+0x3ca,_0x342da9['normals'][_0x1861f4*(-0x419*0x6+-0x264e+0x3ee8)*(-0x52*-0x3+0x2fe*-0x8+0x16fd)+(0x488*0x4+0xce*0x2f+0x2*-0x1bf8)]=-(0x482*0x3+-0x3a4*0x5+0x4af*0x1),_0x342da9['normals'][_0x1861f4*(0x990+-0x35*-0x73+-0x215b)*(-0xd9c*0x1+0x5ff+-0x8*-0xf4)+(-0x1dd6*0x1+-0x1*-0x2615+-0x83c)]=-0x408+-0x1d4*0xf+0x1f74,_0x342da9['normals'][_0x1861f4*(-0xc1*-0x11+0x215e+-0x2e2b)*(-0x87*0x29+-0x1*0x24fa+0x79*0x7c)+(-0x25dc+-0x5*0x5cf+0x42eb*0x1)]=0x1bd0+-0x2c8+-0x1908,_0x342da9['normals'][_0x1861f4*(0x21fe+0x20e1+-0x1*0x42db)*(-0x5*-0x749+-0x19b3+-0x1*0xab7)+(0x1*-0xa37+0x1bdd+-0x11a1)]=-(0xe84+0x3*0x899+-0x43*0x9a),_0x342da9['normals'][_0x1861f4*(-0xd*0x65+-0xc*0x215+-0x9*-0x359)*(0x787*0x3+0xb31+-0x21c3)+(-0x5*0x40f+-0x9d8+-0x7*-0x44f)]=-0x5c7*0x4+-0x1*-0x100f+0x70d,_0x342da9['normals'][_0x1861f4*(-0xef3+-0x2*0x1154+0x319f)*(-0x80*-0x40+-0x13f7+-0xc06)+(-0x3ed+0x26cb*-0x1+0x2abf*0x1)]=0x1b7d+-0x1b7*0x10+0x1*-0xd,_0x342da9['normals'][_0x1861f4*(0xff5+0x7c9+-0x17ba*0x1)*(-0x2*0x977+-0x5b*-0x4d+-0x86e)+(0x1eaf*0x1+0x263c+0x44e3*-0x1)]=-(-0x3b*-0xa7+0xe4*-0x20+-0x9fc),_0x342da9['normals'][_0x1861f4*(-0x256b*-0x1+0x2*-0x11db+-0x1b1)*(0x21b1+0x1*0xcdb+-0x2e89)+(0x23ab+0xc62+-0x3004)]=-0x3ae+-0x1*0x1633+0x35*0x7d,_0x342da9['normals'][_0x1861f4*(0x1637*-0x1+-0x1*0x159+-0x3ee*-0x6)*(-0x189b*-0x1+-0x295*0x2+-0x1*0x136e)+(0x1*-0x25a2+-0xb92+0x313e)]=-0x259a+-0x1dd4+0x436e*0x1,_0x342da9['normals'][_0x1861f4*(-0xf42+0x212e+0x4*-0x47a)*(-0x57*-0x1f+0x26dc+-0x3162)+(-0x222b+0xaf0+0x6*0x3e1)]=-(0x276+0xe6c*-0x2+0x547*0x5);const _0x377097=PR(this['_system']['app']['graphicsDe'+'vice'],_0x342da9),_0x420b61=new Be(_0x377097,this['_material'],this['_node']);if(_0x420b61['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x420b61['castShadow']=!(-0x1f18+0x50b*0x7+-0x434),_0x420b61['receiveSha'+'dow']=!(0x1*-0x20e3+-0x1*0x473+0x2557),_0x420b61['cull']=!_0x4dd63e,_0x420b61['screenSpac'+'e']=_0x4dd63e,_0x420b61['drawOrder']=this['_drawOrder'],_0x5aea7a&&(_0x420b61['cull']=!(-0x141f+0x3ad+-0x1a5*-0xa),_0x420b61['isVisibleF'+'unc']=_0x15172e),this['_setTextur'+'eParams'](_0x420b61,this['_font']['textures'][_0x4a83a5]),_0x420b61['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x420b61['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x420b61['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x420b61['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x420b61['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x4a83a5]['width']),_0x420b61['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x420b61['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x420b61['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x1432+-0xd50*0x1+0x2*-0x371]=0x58f+-0x168d+0x10fe,this['_shadowOff'+'setUniform'][-0x38b+-0x5*0x5bc+0x2038]=-0x1951+-0x10bd+0x2a0e;else{const _0x1e47ff=-this['_font']['data']['info']['maps'][_0x4a83a5]['width']/this['_font']['data']['info']['maps'][_0x4a83a5]['height'];this['_shadowOff'+'setUniform'][-0x11df+0x1399+-0x2*0xdd]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0xde3*-0x1+-0x315+0x229*-0x5]=_0x1e47ff*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x420b61['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x342da9['meshInstan'+'ce']=_0x420b61,this['_model']['meshInstan'+'ces']['push'](_0x420b61);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x47a603&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x1f89+-0x1a1*0x3+0x8e2*-0x3,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x3994fe){_0x3994fe['destroy']();const _0x49aa00=this['_model']['meshInstan'+'ces']['indexOf'](_0x3994fe);_0x49aa00!==-(0x23c0+-0x23f*0x1+-0x2180)&&this['_model']['meshInstan'+'ces']['splice'](_0x49aa00,0x194e*0x1+-0x7d3*-0x3+-0x30c6);}['_setMateri'+'al'](_0x55d5f2){if(this['_material']=_0x55d5f2,this['_model'])for(let _0x3699aa=-0x1345+-0x1378+0x2f*0xd3,_0x69e383=this['_model']['meshInstan'+'ces']['length'];_0x3699aa<_0x69e383;_0x3699aa++){const _0x338a59=this['_model']['meshInstan'+'ces'][_0x3699aa];_0x338a59['material']=_0x55d5f2;}}['_updateMat'+'erial'](_0x97284b){const _0xdc632=this['_element'],_0x239251=_0xdc632['_isScreenC'+'ulled'](),_0x13cd82=function(_0x43198d){return _0xdc632['isVisibleF'+'orCamera'](_0x43198d);},_0x305971=this['_font']&&this['_font']['type']===tc;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x97284b,_0x305971,this['_enableMar'+'kup']),this['_model'])for(let _0x3791d6=-0x2*0x944+-0x26ae+0x1c9b*0x2,_0xff4e34=this['_model']['meshInstan'+'ces']['length'];_0x3791d6<_0xff4e34;_0x3791d6++){const _0x173cc6=this['_model']['meshInstan'+'ces'][_0x3791d6];_0x173cc6['cull']=!_0x97284b,_0x173cc6['material']=this['_material'],_0x173cc6['screenSpac'+'e']=_0x97284b,_0x239251?(_0x173cc6['cull']=!(0x3c4*-0x8+-0x4c3+-0x2af*-0xd),_0x173cc6['isVisibleF'+'unc']=_0x13cd82):_0x173cc6['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x1e7a+0x34b*0xb+-0x42b3]=0x885*0x2+-0x1*0x69d+-0xa6c,this['_colorUnif'+'orm'][-0x43b+-0x16d1+0x1b0d]=-0x4*-0x16d+0x1e78+-0x242b*0x1,this['_colorUnif'+'orm'][0x1*-0x22a+0x1751+-0x1525]=0x17ed+-0x17d2*0x1+0x1*-0x1a):(De['linear'](this['_color']),this['_colorUnif'+'orm'][-0x6d*-0x5b+0xa0d*-0x1+0x1cb2*-0x1]=De['r'],this['_colorUnif'+'orm'][-0x3*-0x5de+0x3d*-0x1+-0x115c]=De['g'],this['_colorUnif'+'orm'][-0x1*-0xe59+-0x1ed2+0x107b]=De['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][-0x1937*-0x1+0x21d7+-0x3b0e]=0xd*0x301+-0x23cc+-0x11*0x31,this['_outlineCo'+'lorUniform'][0x6*-0x13a+0x1*0x1ab1+0x1*-0x1354]=-0x1*-0x83+-0x1*0x145f+0x7c*0x29,this['_outlineCo'+'lorUniform'][0x75f*0x1+-0x23ae+0x1c51]=0x3*0x8dd+0x2*-0x5b3+-0xf31,this['_outlineCo'+'lorUniform'][-0x1be1+0x1be*0x15+-0x8b2]=-0xaab+0x1b50+-0x10a4):(De['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x7fb+0x17*-0x12b+0x22d8]=De['r'],this['_outlineCo'+'lorUniform'][0x2621+0xc*-0x21e+-0xcb8]=De['g'],this['_outlineCo'+'lorUniform'][-0x1af1+0xdd2*0x2+-0xb1]=De['b'],this['_outlineCo'+'lorUniform'][0x21a2+0x1220+-0x33bf*0x1]=De['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][0x1*-0xc02+0x1b2c+-0xf2a]=-0x472*-0x2+0x28f+0x3*-0x3d1,this['_shadowCol'+'orUniform'][-0x152+0x11d9+-0x1086]=0x474+0x604+-0x43*0x28,this['_shadowCol'+'orUniform'][0x149f*0x1+0x26*0x41+-0x1e43]=0x53e*-0x6+0xf58+-0x1*-0x101c,this['_shadowCol'+'orUniform'][-0x359*-0x6+0x21b0+-0x35c3]=0xadd+0x225+0x12*-0xb9):(De['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x1d99+-0x249a+0x4233]=De['r'],this['_shadowCol'+'orUniform'][0xaa8+-0x26fb+0x1c54]=De['g'],this['_shadowCol'+'orUniform'][0x2409+0x139f+-0x37a6]=De['b'],this['_shadowCol'+'orUniform'][0x5*0x3d9+0x18bf+0x1*-0x2bf9]=De['a']);}['_isWordBou'+'ndary'](_0x5229ab){return pg['test'](_0x5229ab);}['_isValidNe'+'xtChar'](_0x58b354){return _0x58b354!==null&&!DR['test'](_0x58b354);}['_isNextCJK'+'Boundary'](_0x1ff747,_0x574048){return mg['test'](_0x1ff747)&&(pg['test'](_0x574048)||IR['test'](_0x574048));}['_isNextCJK'+'WholeWord'](_0xb5101f){return mg['test'](_0xb5101f);}['_updateMes'+'hes'](){const _0xf819f4=this['_font']['data'],_0x2e92db=this,_0x588baf=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x2399d2=this['_maxFontSi'+'ze'],_0x20e7a7=this['_shouldAut'+'oFit']();_0x20e7a7&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x55f4b7=0xf7d+0x268a+-0x35e7,_0x16dcd2=this['_symbols']['length'];let _0x4b023c=-0x83b+-0xe51+-0x784*-0x3,_0x22a62e=-0x15a0+0x130d+0x293,_0x25a707=-0x243*-0x3+0x13d7+-0x1aa0,_0x2d26f8=0x1c20+-0xd0d+0x1*-0xf13,_0x353a20=0x2*0xedd+-0x23a+-0x1b7f,_0x4fa2c5=0x123b+-0x1*0x1396+0x15b,_0x24056e=-0x8ce+0x2098+-0x17ca,_0x3302f8=0x4*-0x3cb+-0x12ad+0x21d9,_0x36ef08=0x20ae+0x1*0xafb+-0x2ba9,_0x5a0749=-0x1002+0x47*-0x4a+0x1c*0x14e,_0x55cc2d=-0x2528+0x1b7f+0x9a9*0x1;const _0x28ace9=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0x1*0x2312+-0x1*0x153d+0x3c1*0xf+0.0001;let _0x1a5aea=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x28ace9||!this['_wrapLines'])&&(_0x1a5aea=Number['POSITIVE_I'+'NFINITY']);let _0x220009=-0x3*-0x12e+-0x14e9+0x115f,_0x1c2985=0x788+-0x425*0x1+-0x1*0x363,_0xba0e74,_0x35e633,_0x3606b8,_0x380f03;function _0x6f1167(_0x1a0019,_0x37b011,_0x5b5bbb){_0x2e92db['_lineWidth'+'s']['push'](Math['abs'](_0x5b5bbb));const _0x38f473=_0x3302f8>_0x37b011?_0x37b011+(0x10a+-0x16d2+0x1fb*0xb):_0x3302f8,_0x4920a2=_0x3302f8>_0x37b011?_0x3302f8+(0x353*-0xb+-0x19bd+-0xd*-0x4cb):_0x37b011,_0x1c18c0=_0x1a0019['slice'](_0x38f473,_0x4920a2);if(_0x55cc2d){let _0x5cc133=_0x1c18c0['length'];for(;_0x5cc133--&&_0x55cc2d>-0x23*-0x77+-0x1*-0x2075+-0x3f*0xc6;)fg['test'](_0x1c18c0[_0x5cc133])&&(_0x1c18c0['splice'](_0x5cc133,0x23c4+0x204c+-0x440f),_0x55cc2d--);}_0x2e92db['_lineConte'+'nts']['push'](_0x1c18c0['join']('')),_0x4b023c=0x37b*0xa+-0x7*0x17a+-0x61e*0x4,_0x22a62e-=_0x2e92db['_scaledLin'+'eHeight'],_0x353a20++,_0x36ef08=-0x26b4+0x257b+0x139,_0x5a0749=-0x197+-0x1*-0x12a1+-0x110a,_0x55cc2d=-0x1*0x14a1+-0x26bc+-0x87b*-0x7,_0x4fa2c5=0xb63+0x23dc+0x5*-0x973,_0x3302f8=_0x37b011;}let _0x41f760=!(-0x1*0x2131+-0x16bb+0x37ec);for(;_0x41f760;){_0x41f760=!(-0xb3*0x7+0x8e4+-0x3fe),_0x20e7a7?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||-0x8*-0x125+0x18a4+-0x21cc+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x24cf+0x1648+-0x3b17,this['height']=0x1*-0x19a9+0x1*-0x29b+0x1c44,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x4b023c=0x28*0x26+0x1f9c+0x12c6*-0x2,_0x22a62e=0x1b66+0x1831+-0x3397,_0x25a707=0x1511+-0x1d*0x85+-0x18*0x40,_0x2d26f8=-0x1213+-0x99f+0x1bb2,_0x353a20=-0x1*0x26b3+0x1*0x1ded+0x2ed*0x3,_0x4fa2c5=0x104e+0x1*0x1f7+0x1245*-0x1,_0x24056e=0x25e3+-0x93f+0x729*-0x4,_0x3302f8=-0x1e67+0x1e1d+0x2*0x25,_0x36ef08=0x7e3+0x18fa+-0x20dd,_0x5a0749=0xf4+0x1e98+-0x1f8c,_0x55cc2d=0x166+-0x1*0x12b5+-0xd3*-0x15;const _0x1cd509=this['_fontSize']/_0x55f4b7;_0x220009=this['_fontMinY']*_0x1cd509,_0x1c2985=this['_fontMaxY']*_0x1cd509;for(let _0x383dfc=0x81*0x49+0x1*0xce5+-0x31ae;_0x383dfc<this['_meshInfo']['length'];_0x383dfc++)this['_meshInfo'][_0x383dfc]['quad']=0x1c08+0x1495+-0x309d,this['_meshInfo'][_0x383dfc]['lines']={};let _0x24bbef=-0x1a9c+0x1*-0x338+-0xd*-0x25f,_0x259de9=0x1*0x12eb+-0x20e9+-0xefd*-0x1,_0x31c41a=-0x18f2*-0x1+0x1*-0x2a5+0x71a*-0x3,_0x582fd5=-0x183e+0x1*-0x20f9+-0x3a36*-0x1+(0x254*-0x4+0x11*-0xc+0xb1b)*(-0xe*-0xad+0x1*0x26ef+-0xb*0x44f),_0x3b0239=-0x1492+0x1c89+-0x6f8+(-0x6*0x464+0x146f+0x68*0x11)*(0x89*-0x39+-0x1236+-0x3d3*-0xd),_0x8c3793=0x1a*0xf8+-0x244a*0x1+0xb1a,_0x5b7316=-0x1ce7+-0x2cd*-0x1+0x1b19+(-0xce6+-0x2*-0x2c0+-0x865*-0x1)*(0x2ec+0x1310+-0x14fc),_0x5bf654=-0x1b4c+-0x2f*-0xca+-0x8cb+(-0x181a+0x3b*-0x74+0x33d5)*(-0x2258+0xb*0x17f+0x12e3),_0x36df7f=-0x1dba+0x1a4d+0xfb*0x4+(0x1*0x107+0x1a06+-0xb*0x26a)*(-0x1dd7+-0x252b+0x4402);for(let _0x176d60=0x1*0x17af+0x1*-0xa97+-0xd18;_0x176d60<_0x16dcd2;_0x176d60++){if(_0xba0e74=this['_symbols'][_0x176d60],_0x380f03=_0x176d60+(0x2*0x108b+-0x13fc+-0xd19)>=_0x16dcd2?null:this['_symbols'][_0x176d60+(-0x9c4+-0x3d*-0x56+-0x3*0x393)],fg['test'](_0xba0e74)){_0x55cc2d++,(!this['_wrapLines']||this['_maxLines']<0x2c*-0x2+0x1dc1*0x1+0x1d69*-0x1||_0x353a20<this['_maxLines'])&&(_0x6f1167(this['_symbols'],_0x176d60,_0x2d26f8),_0x24056e=_0x176d60+(-0xda9*0x2+0xbd1+0xf82),_0x3302f8=_0x176d60+(0x20c7+0x2406+-0x44cc));continue;}let _0x549f31=-0x829*-0x1+-0x2078+0x184f,_0x328fc1=0x1*0x1ebf+-0x1e7e+-0x41,_0x5b0d86=0x717*0x1+-0x5*-0x491+-0x14*0x17f,_0x435ab2=0x12d*-0x1d+-0x1c4c+0x7*0x8ea,_0x3b841f,_0x177587;if(_0x35e633=_0xf819f4['chars'][_0xba0e74],!_0x35e633){if(LR['indexOf'](_0xba0e74)!==-(-0x1169*0x2+-0x702+0x29d5))_0x35e633=FR;else{if(_0xf819f4['chars']['\x20'])_0x35e633=_0xf819f4['chars']['\x20'];else for(const _0x3c89d1 in _0xf819f4['chars']){_0x35e633=_0xf819f4['chars'][_0x3c89d1];break;}_0xf819f4['missingCha'+'rs']||(_0xf819f4['missingCha'+'rs']=new Set()),_0xf819f4['missingCha'+'rs']['has'](_0xba0e74)||(console['warn']('Character\x20'+'\x27'+_0xba0e74+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0xf819f4['info']['face']),_0xf819f4['missingCha'+'rs']['add'](_0xba0e74));}}if(_0x35e633){let _0x2bfb92=0xc*-0x13+-0x50f+0x5f3;if(_0x5a0749>0x1ba3+-0x1f09+0x366){const _0xed5d59=this['_font']['data']['kerning'];if(_0xed5d59){const _0x20d0d4=_0xed5d59[dh['getCodePoi'+'nt'](this['_symbols'][_0x176d60-(-0x12*0xab+0x21d0+-0x15c9)])||-0x667+0x6*-0x182+-0x7*-0x235];_0x20d0d4&&(_0x2bfb92=_0x20d0d4[dh['getCodePoi'+'nt'](this['_symbols'][_0x176d60])||0x16*-0xa6+0x22ff+0x1*-0x14bb]||0xd0*0x1c+0x1*0x190f+0x1*-0x2fcf);}}_0x3b841f=_0x35e633['scale']||0x63f+-0x7c6+0x188,_0x177587=(_0x35e633['width']+_0x35e633['height'])/(-0x1e23+-0xd65+-0x1*-0x2b8a),_0x435ab2=_0x1cd509*_0x177587/_0x3b841f,_0x5b0d86=(_0x35e633['xadvance']+_0x2bfb92)*_0x1cd509,_0x549f31=(_0x35e633['xoffset']-_0x2bfb92)*_0x1cd509,_0x328fc1=_0x35e633['yoffset']*_0x1cd509;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0xba0e74+'\x27');const _0x5c74a0=RR['test'](_0xba0e74),_0xa8ced6=_0x35e633&&_0x35e633['map']||-0x26*-0xce+0x3*-0xae5+-0x7*-0x4d,_0xa51445=-this['_font']['data']['info']['maps'][_0xa8ced6]['width']/this['_font']['data']['info']['maps'][_0xa8ced6]['height'],_0x3bbd74=this['_meshInfo'][_0xa8ced6],_0x1e72e3=_0x4b023c+this['_spacing']*_0x5b0d86;if(_0x1e72e3>_0x1a5aea&&_0x5a0749>0x1169*0x2+-0x22e9+0x17&&!_0x5c74a0&&(this['_maxLines']<-0x209*0x8+0xd21+-0x3*-0x10d||_0x353a20<this['_maxLines'])){if(_0x36ef08===-0x24b7+0x8fa+0x1bbd)_0x24056e=_0x176d60,_0x6f1167(this['_symbols'],_0x176d60,_0x2d26f8);else{const _0x546b18=Math['max'](_0x176d60-_0x24056e,0x1b6d+0xc1*0xf+-0x26bc);if(this['_meshInfo']['length']<=0x16f6+-0x1a8*0x13+0x883)_0x3bbd74['lines'][_0x353a20-(0x7*0x44+-0x2*0x114b+0x4ad*0x7)]-=_0x546b18,_0x3bbd74['quad']-=_0x546b18;else{const _0x2b806d=_0x24056e,_0x43bd03=_0x176d60;for(let _0x57b834=_0x2b806d;_0x57b834<_0x43bd03;_0x57b834++){const _0x5e9af3=this['_symbols'][_0x57b834],_0x17f928=_0xf819f4['chars'][_0x5e9af3],_0xcb611a=this['_meshInfo'][_0x17f928&&_0x17f928['map']||-0x1eb*0x2+0x13ef+0x13d*-0xd];_0xcb611a['lines'][_0x353a20-(0x5*-0x3e+-0x1b86+0x1cbd)]-=-0x164e+0x1b36+0x5*-0xfb,_0xcb611a['quad']-=0x1ed1+0xcdb+0x7*-0x63d;}}_0x176d60-=_0x546b18+(-0x8*-0x32+-0x1aae+0x6d*0x3b),_0x6f1167(this['_symbols'],_0x24056e,_0x4fa2c5);continue;}}_0x3606b8=_0x3bbd74['quad'],_0x3bbd74['lines'][_0x353a20-(0x24ca+-0x10d2+-0x1*0x13f7)]=_0x3606b8;let _0x36b16f=_0x4b023c-_0x549f31,_0x279cba=_0x36b16f+_0x435ab2;const _0x59578b=_0x22a62e-_0x328fc1,_0x299376=_0x59578b+_0x435ab2;if(this['_rtl']){const _0x1824c6=_0x435ab2-_0x549f31-this['_spacing']*_0x5b0d86-_0x549f31;_0x36b16f-=_0x1824c6,_0x279cba-=_0x1824c6;}_0x3bbd74['positions'][_0x3606b8*(0x8d3+-0x11c*-0x20+-0x2c4f)*(0xe31+-0x12f9+-0x199*-0x3)+(0x1f67+0x189e+0x3805*-0x1)]=_0x36b16f,_0x3bbd74['positions'][_0x3606b8*(0x26a5+-0x1dec+-0x8b5)*(0x1*-0x1c73+-0x10*-0x8+0x1bf6)+(-0x1bc6+0x17c3+-0x1*-0x404)]=_0x59578b,_0x3bbd74['positions'][_0x3606b8*(-0x265e+-0xcf7*0x1+0x3359)*(-0x1d*-0xa9+-0x1dbe+-0xc2*-0xe)+(0x270+-0x13*-0x39+0xb*-0x9b)]=_0x25a707,_0x3bbd74['positions'][_0x3606b8*(0x63e+0x1*-0xdf+0x55b*-0x1)*(-0x6*-0x38d+-0xc35+-0x916)+(0x645+0x309*-0x3+0x9*0x51)]=_0x279cba,_0x3bbd74['positions'][_0x3606b8*(0x13*0xa3+0xf*-0x165+0x8d6)*(-0xf40*0x1+-0xa9*0x2f+0x1725*0x2)+(-0x17*-0x159+0xe87+0x91a*-0x5)]=_0x59578b,_0x3bbd74['positions'][_0x3606b8*(0xc43+0x1ff*0xf+-0x2a30)*(-0x1543+0xe*-0xe9+-0x137*-0x1c)+(0x1c24*0x1+0x200*-0x12+0x1*0x7e1)]=_0x25a707,_0x3bbd74['positions'][_0x3606b8*(0x11ff*-0x1+0xb2c+0x6d7)*(0x142e+0x617+-0x1a42)+(0x12d+0x1*0x1315+-0x143c)]=_0x279cba,_0x3bbd74['positions'][_0x3606b8*(-0x3*-0x8bd+0x157b+-0x2fae)*(-0x1*-0x7ff+0x1a*-0xfb+0x9*0x1f2)+(-0x1abd+0x186e+0x2e*0xd)]=_0x299376,_0x3bbd74['positions'][_0x3606b8*(0x1513+-0x292+-0x1*0x127d)*(-0x1bbf+0x20f4+-0x532)+(-0x2*0x213+-0x427*0x7+0x213f)]=_0x25a707,_0x3bbd74['positions'][_0x3606b8*(0x1*-0x23fa+-0x2220+0x461e)*(-0x8*-0x4be+0x144+-0x2731)+(0x5e*0xe+0x219*-0xf+0x1a5c)]=_0x36b16f,_0x3bbd74['positions'][_0x3606b8*(-0x1a37+-0x680+0x20bb)*(0xaa4+0x1395+0x2*-0xf1b)+(0x26d3+-0x21f2+-0x4d7)]=_0x299376,_0x3bbd74['positions'][_0x3606b8*(-0x100d+-0x3*-0x9af+0x33f*-0x4)*(0x1592*-0x1+0xcec+-0x8a9*-0x1)+(0xea5+0x2*0x419+-0x16cc)]=_0x25a707,this['width']=Math['max'](this['width'],_0x1e72e3);let _0x57c809;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x57c809=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x1c8+-0x182+0x34a+0.0001)),_0x57c809=z['clamp'](_0x57c809,_0x588baf,_0x2399d2),_0x57c809!==this['_element']['fontSize'])){this['_fontSize']=_0x57c809,_0x41f760=!(0xd*-0xe6+0xf2a+-0x37c);break;}if(this['height']=Math['max'](this['height'],_0x1c2985-(_0x22a62e+_0x220009)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x57c809=z['clamp'](this['_fontSize']-(-0x3a1*-0x1+-0x1ce3+0x1943),_0x588baf,_0x2399d2),_0x57c809!==this['_element']['fontSize'])){this['_fontSize']=_0x57c809,_0x41f760=!(-0x3*-0x73f+-0x1505+-0xb8);break;}_0x4b023c+=this['_spacing']*_0x5b0d86,_0x5c74a0||(_0x2d26f8=_0x4b023c),(this['_isWordBou'+'ndary'](_0xba0e74)||this['_isValidNe'+'xtChar'](_0x380f03)&&(this['_isNextCJK'+'Boundary'](_0xba0e74,_0x380f03)||this['_isNextCJK'+'WholeWord'](_0x380f03)))&&(_0x36ef08++,_0x4fa2c5=_0x2d26f8,_0x24056e=_0x176d60+(0x10f3*0x1+-0x1*0xc68+-0x48a)),_0x5a0749++;const _0x5250bd=this['_getUv'](_0xba0e74);if(_0x3bbd74['uvs'][_0x3606b8*(-0x1*0xb99+-0xa*-0x373+0x16e1*-0x1)*(-0x10d3+-0x1124+-0xdf*-0x27)+(0xc*0x18b+-0x5*-0x78b+0x383b*-0x1)]=_0x5250bd[0x3a1*-0x8+-0x14c5+0x31cd],_0x3bbd74['uvs'][_0x3606b8*(0x1411+0xc07+-0x2014)*(0x2235+0x9b5+-0x4*0xafa)+(-0x218c+0xc10+0x157d)]=-0x1a5*-0x1+-0x27e*-0x4+-0xb9c-_0x5250bd[0x177d+-0x1e78+0x6fc],_0x3bbd74['uvs'][_0x3606b8*(0xe*-0x2ba+0xe0*-0xe+0x3270)*(0x14*-0x154+-0x1e7f+0x3911)+(-0x15c9+-0x1f0b+0x2*0x1a6b)]=_0x5250bd[0xa49+-0x5c9+0x73*-0xa],_0x3bbd74['uvs'][_0x3606b8*(-0x12d3+-0x17d*0x1+-0x1454*-0x1)*(-0x3*0x377+-0x668+0x10cf)+(0x1*0x11b+0x23c5+-0x1*0x24dd)]=-0x16f5+-0x1559+0x39*0xc7-_0x5250bd[-0xd5f+0x1*0x15dc+0x3*-0x2d4],_0x3bbd74['uvs'][_0x3606b8*(-0xb53*-0x1+-0x691+-0x4be)*(-0x2e7*0x1+0xc1*0x20+0x1*-0x1537)+(-0xe*0x2b4+-0x2282+0x1*0x485e)]=_0x5250bd[0xbc0+0x1a*0x2a+-0x1002],_0x3bbd74['uvs'][_0x3606b8*(0x11c5+0x5*0x13f+-0x17fc)*(-0x1f48+-0xc*-0x1a+0x1e12)+(-0x1486+-0x69+0x14f4)]=-0x2*0xe7f+0x100b*-0x1+0xa*0x481-_0x5250bd[0x2640+0x265a+-0x4c97],_0x3bbd74['uvs'][_0x3606b8*(-0x76b+0xc1b*0x2+0x10c7*-0x1)*(0x1208+0x5e2*0x1+-0x88*0x2d)+(0x1*0x1ac5+0x575+-0x80d*0x4)]=_0x5250bd[-0x1c8d+-0x6*-0x53b+-0x2d5],_0x3bbd74['uvs'][_0x3606b8*(-0x14d+0x1*0x15da+-0x1489)*(0x1*0x1f24+-0x1fbd+0x9b)+(-0x7cc*-0x4+0x15b2+0x1*-0x34db)]=-0x1d*-0x141+-0x25*0x1d+-0x202b-_0x5250bd[-0x1666+-0x1e55+0x34be],this['_symbolCol'+'ors']){const _0x2c541f=this['_symbolCol'+'ors'][_0x176d60]*(0x1a16+-0x1a44*0x1+0x31);_0x24bbef=this['_colorPale'+'tte'][_0x2c541f],_0x259de9=this['_colorPale'+'tte'][_0x2c541f+(-0x2589*-0x1+-0x2672+0xea)],_0x31c41a=this['_colorPale'+'tte'][_0x2c541f+(0xf0b+-0x253*0x7+0x13c)];}if(_0x3bbd74['colors'][_0x3606b8*(0xe6d+0x9f*0x1+-0x4*0x3c2)*(-0x17cd+0x3*-0xbcb+0x3b32*0x1)+(-0x1*-0x124+-0x21c1*0x1+0x209d)]=_0x24bbef,_0x3bbd74['colors'][_0x3606b8*(-0xea1+0x55*0x52+-0xc95*0x1)*(-0x1a06+-0x2e6+0x1cf0)+(0x1e7c+-0x4*0x155+-0x1927*0x1)]=_0x259de9,_0x3bbd74['colors'][_0x3606b8*(0x24f2*0x1+0x128a+-0x3778)*(0x81*0x14+-0x22f2+0x18e2)+(-0xe7c+-0x6d9*-0x4+-0x1a*0x7f)]=_0x31c41a,_0x3bbd74['colors'][_0x3606b8*(-0x1f*-0xd3+-0x84c+0x3*-0x5bf)*(-0x1*-0x1053+0x2348+-0x3397)+(0xbf3+0xd*-0xc0+-0x7*0x50)]=-0x111b+0x34*-0x46+0x2052,_0x3bbd74['colors'][_0x3606b8*(0x2*0x751+-0x6d*-0x1+-0x1*0xf0b)*(-0x5f9+0x1ec4+0x18c7*-0x1)+(0x86a*0x2+0x1cb6+0x2*-0x16c3)]=_0x24bbef,_0x3bbd74['colors'][_0x3606b8*(-0x304+0x1c0a+0x6*-0x42b)*(0x14*-0xf1+-0x626*-0x5+0xbe6*-0x1)+(-0xe2a+0x49*-0x4+-0x1*-0xf53)]=_0x259de9,_0x3bbd74['colors'][_0x3606b8*(0x21e+0x203*-0x13+0x241f)*(-0x6*-0x5c2+0x1eaf+-0x13b*0x35)+(0x8e5+-0x89*-0xd+0x4*-0x3f5)]=_0x31c41a,_0x3bbd74['colors'][_0x3606b8*(-0x12f9*0x1+-0xd38+0x2035)*(-0xbfd+0xcd*0x13+0x1*-0x336)+(0x226e+0x642+0x5cf*-0x7)]=-0x7a*-0xc+-0xc14*0x3+0x1f83,_0x3bbd74['colors'][_0x3606b8*(-0x5f8+0x1a21+0xbf*-0x1b)*(-0x24fa*-0x1+0x791*-0x3+-0x4c1*0x3)+(0x7d8*0x2+0xa3f+0x19e7*-0x1)]=_0x24bbef,_0x3bbd74['colors'][_0x3606b8*(0x5e3*0x1+0x210+-0x7ef)*(-0x35*0x6b+-0x2*0x107+0xd*0x1dd)+(-0x2418+0x15f0+0xe31)]=_0x259de9,_0x3bbd74['colors'][_0x3606b8*(-0xf30+0x1d2c+0x4*-0x37e)*(0x1bf5+0xaf6+-0x26e7)+(-0xe04+0x2514+-0x1706)]=_0x31c41a,_0x3bbd74['colors'][_0x3606b8*(-0x23e9*0x1+-0x81a*-0x2+-0x9*-0x231)*(0x1c76+0x16d+0x1ddf*-0x1)+(-0x1*-0xbc0+-0x1fdd+0x1428)]=0x23d6+0x2*-0x9d1+-0xf35,_0x3bbd74['colors'][_0x3606b8*(0x136c*0x1+-0x63*-0x13+-0x1ac1*0x1)*(0xc37+0x15b0+-0x21e3)+(-0x1c36+-0x2112+-0x32*-0x13a)]=_0x24bbef,_0x3bbd74['colors'][_0x3606b8*(0x18a9+0x1494+-0x2d39)*(0x2e9+0x1f1b*0x1+-0x44*0x80)+(0x1*0xac+0x9d*-0x25+-0x46a*-0x5)]=_0x259de9,_0x3bbd74['colors'][_0x3606b8*(-0x242f+0x16db*-0x1+0x3b0e)*(0x258f+-0x7*0x72+-0x226d)+(0xe4f+-0x5f1*-0x6+-0x7*0x721)]=_0x31c41a,_0x3bbd74['colors'][_0x3606b8*(0x1db2+-0xc31*0x1+-0x117d)*(-0x97b*0x2+0x10b*-0x2+0x1510)+(0xdcc+-0x89*0xd+-0x6c8)]=-0x130e+0x111d+0x2f*0x10,this['_symbolOut'+'lineParams']){const _0x11dc45=this['_symbolOut'+'lineParams'][_0x176d60]*(-0x1*-0x1af9+0xe4*-0x2+-0x192c);_0x582fd5=this['_outlinePa'+'lette'][_0x11dc45]+this['_outlinePa'+'lette'][_0x11dc45+(0x1d32+0x2*-0x14b+-0x1a9b)]*(-0xdbf+0x19*0x1f+-0x64*-0x1e),_0x3b0239=this['_outlinePa'+'lette'][_0x11dc45+(-0x1a6f+0x961*-0x1+0x23d2)]+this['_outlinePa'+'lette'][_0x11dc45+(-0x1a4*0x7+-0x1*0x2077+0x2bf6)]*(0x5*0x15a+-0x14f*0x7+-0xd*-0x43),_0x8c3793=this['_outlinePa'+'lette'][_0x11dc45+(-0x16cd+-0x313*-0x5+0x2*0x3b9)];}if(_0x3bbd74['outlines'][_0x3606b8*(0xb92+-0x1783+0xbf5)*(-0x127f*0x1+-0x22bd*0x1+0x353f)+(0x1*0x1f67+0x2*0x3b6+-0x26d3)]=_0x582fd5,_0x3bbd74['outlines'][_0x3606b8*(0x2468+0xe*-0x24d+-0x42e)*(0x1f8c+0x11c0+-0x3149)+(0x4a0+-0x43c+-0x63)]=_0x3b0239,_0x3bbd74['outlines'][_0x3606b8*(-0x2cd*0x1+-0x2*0xf79+-0x2b*-0xc9)*(0x3b*0x49+-0xc2f*-0x3+-0x13*0x2cf)+(-0x24a9+-0xf5f+0x340a)]=_0x8c3793,_0x3bbd74['outlines'][_0x3606b8*(-0x6fb+-0x1c06*0x1+0x2305)*(0xcf5+0x19b4+-0x26a6)+(-0x241+-0x2*0x1369+0x1*0x2916)]=_0x582fd5,_0x3bbd74['outlines'][_0x3606b8*(-0x3eb*0x4+0x8*0x67+0x8*0x18f)*(0x1f40+-0x1ce0+0x37*-0xb)+(-0x1c19+-0x1*0x1ff7+0x5*0xc04)]=_0x3b0239,_0x3bbd74['outlines'][_0x3606b8*(-0x3e*-0x43+-0x1748+0x712*0x1)*(0x1*-0x1f9d+0xa9*-0x28+0x3a08)+(0x19e5+-0xa*0x101+-0xfd6)]=_0x8c3793,_0x3bbd74['outlines'][_0x3606b8*(-0x22*0xd9+-0x1402+0x30d8)*(-0x359*0x2+0xe6c+-0x7b7)+(-0x8c9+0x100d*0x1+0x9*-0xce)]=_0x582fd5,_0x3bbd74['outlines'][_0x3606b8*(-0x60f+-0x28e+0x8a1)*(-0x1*0x173d+-0x1462+0x2ba2)+(-0x12d3*0x1+-0x1732*0x1+-0x2*-0x1506)]=_0x3b0239,_0x3bbd74['outlines'][_0x3606b8*(0x8b8+-0x1*0x11+0xb*-0xc9)*(-0x1*0x1b16+-0x3c9*0x4+0x2a3d)+(-0x1f6b+0xc19*0x2+0x26b*0x3)]=_0x8c3793,_0x3bbd74['outlines'][_0x3606b8*(0x833+-0x20ff+0x18d0)*(0xd3*0xa+-0x179*0x4+0x257*-0x1)+(0x10*-0x8e+-0x1cc4+-0x3*-0xc8f)]=_0x582fd5,_0x3bbd74['outlines'][_0x3606b8*(0x1*0x208b+-0x2170+0xe9)*(-0x1*0xc1d+-0x22fe+-0x2f1e*-0x1)+(0x55+0x1eb7+-0x1f02)]=_0x3b0239,_0x3bbd74['outlines'][_0x3606b8*(-0x3*0x7e2+-0x227f+0x3a29)*(-0xb3e+-0x5*0x17f+-0x1*-0x12bc)+(-0x1fa0+-0x9*0x259+0x34cc)]=_0x8c3793,this['_symbolSha'+'dowParams']){const _0x185dac=this['_symbolSha'+'dowParams'][_0x176d60]*(0x3*0x856+0x17a4+0x10*-0x30a);_0x5b7316=this['_shadowPal'+'ette'][_0x185dac]+this['_shadowPal'+'ette'][_0x185dac+(0x8*-0x70+0x1da0+-0x9*0x2e7)]*(-0x86a+0x2*-0xe57+0x2618),_0x5bf654=this['_shadowPal'+'ette'][_0x185dac+(0x40*-0xd+-0x1*0x1d99+0x20db)]+this['_shadowPal'+'ette'][_0x185dac+(-0x12d6+0x5*0x5e+0xd*0x14f)]*(-0x61*-0x3b+-0x329*0x1+-0x1*0x1232),_0x36df7f=this['_shadowPal'+'ette'][_0x185dac+(0x36c*0x8+-0x2*0xfac+0x3fc)]+(0x15f8+-0x4*0x74b+0x7b3)+Math['round'](_0xa51445*this['_shadowPal'+'ette'][_0x185dac+(-0xfbd+0x19*-0xb7+0x1*0x21a1)]+(-0x2335+-0x8*-0xf5+0xe06*0x2))*(-0x10*0x37+0x1*0x1526+-0x592*0x3);}_0x3bbd74['shadows'][_0x3606b8*(0xfde+0x127c+-0xf*0x24a)*(-0x309*-0x9+-0x2238+0x375*0x2)+(0x15*0x61+-0xb28+-0x27*-0x15)]=_0x5b7316,_0x3bbd74['shadows'][_0x3606b8*(-0x1*-0x1f6f+-0x7*0x3d7+-0x1*0x48a)*(-0x1a92+-0xb58+0x25ed)+(-0x169*0x2+-0x1d5*-0xf+-0x18a8)]=_0x5bf654,_0x3bbd74['shadows'][_0x3606b8*(0x1d70+-0x182a+-0x2*0x2a1)*(-0x5fb*0x1+-0x8*0x314+0x1e9e)+(-0x758+-0x94d+0x10a7)]=_0x36df7f,_0x3bbd74['shadows'][_0x3606b8*(0x1c60+-0x1972+-0x2ea)*(-0x22a7*-0x1+0x5e9+-0x288d)+(-0x59*0x4d+-0x1639+0x3101)]=_0x5b7316,_0x3bbd74['shadows'][_0x3606b8*(-0xbb1*-0x1+-0x1362+0x7b5)*(-0x15*0xb3+-0x11*0x4a+0x139c)+(0x2188+-0xbf5+-0x158f)]=_0x5bf654,_0x3bbd74['shadows'][_0x3606b8*(0x25ff+0x1*-0x7d+-0x257e)*(0x1bc6+-0x5*0x6fe+-0x13*-0x61)+(-0x221f+-0x1*-0x230b+-0x21*0x7)]=_0x36df7f,_0x3bbd74['shadows'][_0x3606b8*(0xeca*0x1+-0x1*-0x18b+-0x1051)*(-0x14a5+0x1*-0xdfb+0x22a3)+(-0x3*-0x665+0xe15+-0x213e)]=_0x5b7316,_0x3bbd74['shadows'][_0x3606b8*(0x2237*-0x1+-0x1069*0x1+0x32a4*0x1)*(-0xd5e+0x1abc+-0xd5b)+(0x21d4+0xcbf*-0x1+-0x150e)]=_0x5bf654,_0x3bbd74['shadows'][_0x3606b8*(0x14f*-0x8+-0x1e*-0x1a+0x770)*(-0x1c25+-0xe0c+-0x2a34*-0x1)+(-0x28f*-0x1+0x2e1*0xa+0x1*-0x1f51)]=_0x36df7f,_0x3bbd74['shadows'][_0x3606b8*(0xcae*-0x1+-0x1f*0xdd+0x2775)*(0x53*0x15+-0x16e2*0x1+0x80b*0x2)+(0x231c+0x4b4*-0x6+-0x6db)]=_0x5b7316,_0x3bbd74['shadows'][_0x3606b8*(-0x1f36+0x1697+0x21*0x43)*(-0x1de9+0x1444+-0x4*-0x26a)+(0x54*-0x7+-0xa7a+0xcd0)]=_0x5bf654,_0x3bbd74['shadows'][_0x3606b8*(-0x2*-0x529+-0x2*0x133+-0x7e8*0x1)*(0xe1d*-0x1+-0x2eb+0x110b)+(0xa44+0x4f*-0x47+0xbb0)]=_0x36df7f,_0x3bbd74['quad']++;}_0x41f760||_0x3302f8<_0x16dcd2&&_0x6f1167(this['_symbols'],_0x16dcd2,_0x4b023c);}this['_noResize']=!(0x1408+0x95f+-0x1d67),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(0x6bb*-0x3+0x1*0xcb6+0x4*0x1df);const _0x5edecb=this['_element']['pivot']['x'],_0x58eada=this['_element']['pivot']['y'],_0x2ad5dc=this['_alignment']['x'],_0x50e277=this['_alignment']['y'];for(let _0x3048b1=0x1*-0xbb9+-0xb7b+0x1734;_0x3048b1<this['_meshInfo']['length'];_0x3048b1++){if(this['_meshInfo'][_0x3048b1]['count']===-0x1cfa+-0x1e5*0x7+0x3d7*0xb)continue;let _0x5861bc=0x1e*-0x8d+-0x94c+0x19d2;for(const _0x42c65b in this['_meshInfo'][_0x3048b1]['lines']){const _0x791a1d=this['_meshInfo'][_0x3048b1]['lines'][_0x42c65b],_0x490bc0=this['_lineWidth'+'s'][parseInt(_0x42c65b,0x1149+-0x25ed+-0x14ae*-0x1)],_0x58dfa1=-_0x5edecb*this['_element']['calculated'+'Width']+_0x2ad5dc*(this['_element']['calculated'+'Width']-_0x490bc0)*(this['_rtl']?-(-0x20aa+-0x1d10+-0x3dbb*-0x1):-0x9*0x1+-0xdbe+0xdc8),_0x48b4bf=(-0x2*-0xd7b+0xd4e*-0x1+0x3*-0x48d-_0x58eada)*this['_element']['calculated'+'Height']-_0x1c2985-(0x10f1+0x17c6+0x28b6*-0x1-_0x50e277)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x56e8f1=_0x5861bc;_0x56e8f1<=_0x791a1d;_0x56e8f1++)this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(-0x1*-0x1fc+-0xe09*-0x2+-0x1e0a)*(-0x66a+-0x261f+-0x4*-0xb23)]+=_0x58dfa1,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(0x3a3+-0x22af+0x2*0xf88)*(0x16e5*0x1+0x550+0x3*-0x966)+(-0x158f*0x1+0x1*0x160d+-0x7b)]+=_0x58dfa1,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(-0x3*-0x239+-0x877+-0x4*-0x74)*(-0x12c+-0x1af5+0x1c24)+(-0x152+0xc13+-0xabb)]+=_0x58dfa1,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(-0x81*-0x24+0x229b+-0x34bb*0x1)*(-0xf0f+-0x177d+0x1*0x268f)+(0x4a8+-0x241e+0x1f7f)]+=_0x58dfa1,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(0x1464+-0x2*0xb1d+0x1da)*(0x7*-0x67+-0x24c1+-0x2795*-0x1)+(0x2*0xbd4+-0x158d+-0x21a)]+=_0x48b4bf,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(0x363*0x8+-0x4*-0x7d1+-0x8*0x74b)*(-0xb44+0x32f*-0xb+0x2e4c)+(0x39*0xd+-0x38*0xad+0x22f7)]+=_0x48b4bf,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(0x1aba+-0x7*0x42d+0x285)*(-0x3a*0x29+0x849+0x104)+(0x3*0x815+0x755*0x4+0x5c*-0x95)]+=_0x48b4bf,this['_meshInfo'][_0x3048b1]['positions'][_0x56e8f1*(-0x5b4+0x19a*-0xe+0x1c24)*(0x552*-0x7+-0x15f6+-0x3*-0x13bd)+(0xbbf*-0x1+0xa98+0x131)]+=_0x48b4bf;if(this['_rtl'])for(let _0x5c7ffa=_0x5861bc;_0x5c7ffa<=_0x791a1d;_0x5c7ffa++){const _0x3045fe=_0x5c7ffa*(0x2079+-0x1*0x187e+-0x7f7)*(-0x1*0x4a9+-0x1622+0x1ace);for(let _0xa8a30a=-0x2238+0x1c11+0x15*0x4b;_0xa8a30a<-0x15b*0x1b+0x5d7*-0x2+0x304b;++_0xa8a30a)this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+_0xa8a30a*(0x1*-0x2ab+0x151f+0x1*-0x1271)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+_0xa8a30a*(0xd9+0x19ed*-0x1+-0x3*-0x85d)]+_0x58dfa1*(-0x2*-0xe25+-0x1fbe+-0x1bb*-0x2);const _0x42be72=this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(0x1a87*0x1+-0x518+-0x156c)],_0x183c71=this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(-0x1275+-0x4fb+0x1776)];this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(-0x2a*0x62+0x255a+-0x1543)]=this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(-0x16ff+0x1c5c+-0x55d*0x1)],this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(-0x455*0x1+-0xe10+0x126b)]=this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(-0xc35+-0x1533+0x1*0x2171)],this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(0x15cb+0x4c8+-0x1a93)]=_0x42be72,this['_meshInfo'][_0x3048b1]['positions'][_0x3045fe+(0x22d5+-0xdd5*-0x1+-0x30a1)]=_0x183c71;}_0x5861bc=_0x791a1d+(0xbd+-0x1*0xe2f+0xd73);}const _0x5e5974=this['_meshInfo'][_0x3048b1]['count']*(-0x101*0x11+0x99b+-0xae*-0xb),_0x29cf65=this['_meshInfo'][_0x3048b1]['quad']*(-0x271*-0x1+-0x2a2+0x35),_0x5b422d=new vo(this['_meshInfo'][_0x3048b1]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0xb47e91=-0x19f9+0xc5f*-0x3+0x286*0x19;_0xb47e91<_0x5e5974;_0xb47e91++)_0xb47e91>=_0x29cf65?(_0x5b422d['element'][Xe]['set'](-0x2ab*0x8+-0x266e+-0x3bc6*-0x1,0x20c6+0x1b5b+-0x15*0x2dd,0x47*0x12+-0x1*0x25a5+0x20a7),_0x5b422d['element'][ds]['set'](-0xfaa+0x15*0x7+0xf17*0x1,0x10f7*0x1+-0x2*-0x80d+0x69d*-0x5),_0x5b422d['element'][It]['set'](0x2b3*0x4+0xd*-0x1d+-0x953,0xb0f+0x17cb+0x3*-0xb9e,-0x3*0x450+-0x696+0x1386,0xeab+0x249d+-0x669*0x8),_0x5b422d['element'][Lo]['set'](-0x2151+-0x22ed*-0x1+-0x19c,0x6c5*-0x2+0x73d+0x64d,0xe89+0xb3b+-0xce2*0x2,-0x58*0x6c+-0x1f*-0xc4+0xd64),_0x5b422d['element'][Fo]['set'](-0x66a+-0x120c+-0x1876*-0x1,-0x2277+0xb33+0x1744,0xd7+-0x2*0xe82+0x1c2d,-0x1*0x1005+0x912+0x6f3)):(_0x5b422d['element'][Xe]['set'](this['_meshInfo'][_0x3048b1]['positions'][_0xb47e91*(0x5*-0x6f6+-0xde1+0x17*0x21e)+(-0xa*-0x2f3+0xef2+-0x2c70)],this['_meshInfo'][_0x3048b1]['positions'][_0xb47e91*(0x427*0x7+0x1994+-0x36a2)+(0x4ee+0x75b+0x2*-0x624)],this['_meshInfo'][_0x3048b1]['positions'][_0xb47e91*(-0xe*-0xb2+-0x10b9*0x1+0x700)+(-0x83d+-0x281*0x1+0x56*0x20)]),_0x5b422d['element'][ds]['set'](this['_meshInfo'][_0x3048b1]['uvs'][_0xb47e91*(-0x1177+-0x185d+0x29d6)+(-0x1*0x15fd+-0x65f+0x1c5c)],this['_meshInfo'][_0x3048b1]['uvs'][_0xb47e91*(-0xcb4+0x1fb4+-0x12fe*0x1)+(0x2de*-0x3+-0xc85+0x152*0x10)]),_0x5b422d['element'][It]['set'](this['_meshInfo'][_0x3048b1]['colors'][_0xb47e91*(0x1*-0x1d+-0x23ca+0x23eb)+(0x68*-0x24+0x1ebe+-0x101e)],this['_meshInfo'][_0x3048b1]['colors'][_0xb47e91*(0x8c8+0x11*0x8b+-0x11ff)+(0x1bc5+-0xa7a+0x1*-0x114a)],this['_meshInfo'][_0x3048b1]['colors'][_0xb47e91*(0x15e+-0x2*0x9f7+0x1294)+(-0x1ffd+0x1*0xbb3+-0x144c*-0x1)],this['_meshInfo'][_0x3048b1]['colors'][_0xb47e91*(-0x61d*-0x2+0x19b0+-0x25e6)+(-0x159f+0x6a6+0xefc)]),_0x5b422d['element'][Lo]['set'](this['_meshInfo'][_0x3048b1]['outlines'][_0xb47e91*(-0x1f*0x3b+0x9*-0x3e+0x956)+(-0x2487+-0x1d03+0x418a)],this['_meshInfo'][_0x3048b1]['outlines'][_0xb47e91*(0x14*-0x4+0x237b+-0x28*0xe1)+(0x838+0x3*-0x753+0xdc2)],this['_meshInfo'][_0x3048b1]['outlines'][_0xb47e91*(0x33f*-0x7+-0x1e92+0x1*0x354e)+(-0x22a*0x10+0x2259+-0x1*-0x49)]),_0x5b422d['element'][Fo]['set'](this['_meshInfo'][_0x3048b1]['shadows'][_0xb47e91*(-0x25f3+-0x90*0x2f+0x4066)+(-0xaf4+-0x1d66+0x285a)],this['_meshInfo'][_0x3048b1]['shadows'][_0xb47e91*(-0x110f+-0x2006+0x3118)+(0x5*0x79f+0xd*0x1e2+-0x3e94)],this['_meshInfo'][_0x3048b1]['shadows'][_0xb47e91*(-0xa51+0xc6d*-0x2+0x232e)+(-0x43d+-0x13ee+0x80f*0x3)])),_0x5b422d['next']();_0x5b422d['end'](),this['_meshInfo'][_0x3048b1]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x3048b1]['positions']),this['_meshInfo'][_0x3048b1]['meshInstan'+'ce']['_aabbVer']=-(-0x230e+-0x1828+-0x3b37*-0x1);}this['_aabbDirty']=!(0x4b*0x37+-0xc2*0x10+0x1*-0x3fd);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x31f052){this['font']!==_0x31f052['resource']&&(this['font']=_0x31f052['resource']);}['_onFontCha'+'nge'](_0x284ae1,_0x20bbc5,_0x2df9c2,_0x22671b){if(_0x20bbc5==='data'){this['_font']['data']=_0x2df9c2;const _0x361abe=this['_font']['data']['info']['maps']['length'];for(let _0xd91bb4=0xfe5+0x1*-0x557+0xa8e*-0x1;_0xd91bb4<_0x361abe;_0xd91bb4++){if(!this['_meshInfo'][_0xd91bb4])continue;const _0x233366=this['_meshInfo'][_0xd91bb4]['meshInstan'+'ce'];_0x233366&&(_0x233366['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x233366['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x233366['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0xd91bb4]['width']));}}}['_onFontRem'+'ove'](_0x43378c){}['_setTextur'+'eParams'](_0x4bb54b,_0xf5d121){this['_font']&&(this['_font']['type']===tc?(_0x4bb54b['deletePara'+'meter']('texture_em'+'issiveMap'),_0x4bb54b['deletePara'+'meter']('texture_op'+'acityMap'),_0x4bb54b['setParamet'+'er']('texture_ms'+'dfMap',_0xf5d121)):this['_font']['type']===xR&&(_0x4bb54b['deletePara'+'meter']('texture_ms'+'dfMap'),_0x4bb54b['setParamet'+'er']('texture_em'+'issiveMap',_0xf5d121),_0x4bb54b['setParamet'+'er']('texture_op'+'acityMap',_0xf5d121)));}['_getPxRang'+'e'](_0x388fc9){const _0x2df810=Object['keys'](this['_font']['data']['chars']);for(let _0x38c2c9=0xa19*0x3+0xe3*-0x1b+-0x3*0x21e;_0x38c2c9<_0x2df810['length'];_0x38c2c9++){const _0x282303=this['_font']['data']['chars'][_0x2df810[_0x38c2c9]];if(_0x282303['range'])return(_0x282303['scale']||0x13*-0x19b+0x1*-0xfb8+0x2e3a)*_0x282303['range'];}return-0x3d*-0x13+0x19*-0xb3+-0x2*-0x67b;}['_getUv'](_0x296479){const _0x17c01c=this['_font']['data'];if(!_0x17c01c['chars'][_0x296479]){const _0x3463e4='\x20';return _0x17c01c['chars'][_0x3463e4]?this['_getUv'](_0x3463e4):[-0x10da+0x6e5+-0x1*-0x9f5,-0x5*0x16f+-0x258*-0x2+0x27b*0x1,-0x1*0x15f7+0xc90+-0x53*-0x1d,0x19c*0x5+0xf6b+-0x1777];}const _0x291e4c=_0x17c01c['chars'][_0x296479]['map'],_0x3ede51=_0x17c01c['info']['maps'][_0x291e4c]['width'],_0x4c40ad=_0x17c01c['info']['maps'][_0x291e4c]['height'],_0x2e75dc=_0x17c01c['chars'][_0x296479]['x'],_0x4ff019=_0x17c01c['chars'][_0x296479]['y'],_0x2c39b6=_0x2e75dc,_0x22a750=_0x4ff019,_0x4f493a=_0x2e75dc+_0x17c01c['chars'][_0x296479]['width'],_0x486046=_0x4ff019-_0x17c01c['chars'][_0x296479]['height'],_0x2c2c37=-0x2505+0x2561*-0x1+-0x15*-0x38b-_0x17c01c['chars'][_0x296479]['height']/_0x4c40ad;return[_0x2c39b6/_0x3ede51,_0x2c2c37-_0x22a750/_0x4c40ad,_0x4f493a/_0x3ede51,_0x2c2c37-_0x486046/_0x4c40ad];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0x1077+-0x898+-0x7df),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x4bd*-0x7+0x3*-0x77f+0x37a9),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x19d20d){if(this['_model']){const _0x5ef0e4=this['_model']['meshInstan'+'ces'];for(let _0x3951ea=-0xe40+-0xe5d*0x1+0x5*0x5b9;_0x3951ea<_0x5ef0e4['length'];_0x3951ea++)_0x5ef0e4[_0x3951ea]['stencilFro'+'nt']=_0x19d20d,_0x5ef0e4[_0x3951ea]['stencilBac'+'k']=_0x19d20d;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x1ff8fe){const _0x552509={};_0x1ff8fe===void(0x24bf+-0x1*0x277+0x892*-0x4)&&(_0x1ff8fe=this['_symbols']['length']);for(let _0x39ed9d=-0x14c5+-0x14df+-0x2*-0x14d2,_0x114715=_0x1ff8fe;_0x39ed9d<_0x114715;_0x39ed9d++){const _0x496a77=this['_symbols'][_0x39ed9d];let _0x3717b0=this['_font']['data']['chars'][_0x496a77];_0x3717b0||(_0x3717b0=this['_font']['data']['chars']['\x20'],_0x3717b0||(_0x3717b0=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0xc1*-0x17+0x15fa+-0x2751]]));const _0x1b3a51=_0x3717b0['map'];_0x552509[_0x1b3a51]?_0x552509[_0x1b3a51]++:_0x552509[_0x1b3a51]=0x13*-0x167+0x20e1+-0x63b;}return _0x552509;}['_updateRen'+'derRange'](){const _0x442a73=this['_rangeStar'+'t']===-0x1*-0x1e2b+-0x1c56+-0x1d5?-0x61+-0x296*-0x2+-0x4cb*0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0xdc0600=this['_rangeEnd']===-0x1*0xe09+0x7*-0x2b4+0x20f5?-0x2*-0xd06+0xe73+-0x287f:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x335a71=-0x1294+0x1550+-0x2bc,_0x5d3c9b=this['_meshInfo']['length'];_0x335a71<_0x5d3c9b;_0x335a71++){const _0x3829d2=_0x442a73[_0x335a71]||0x935+-0x6f0+-0x7*0x53,_0x23e0c3=_0xdc0600[_0x335a71]||-0x238d+0x1164*-0x2+0x4655,_0xd42a1f=this['_meshInfo'][_0x335a71]['meshInstan'+'ce'];if(_0xd42a1f){const _0xbb9f72=_0xd42a1f['mesh'];_0xbb9f72&&(_0xbb9f72['primitive'][0x21fa+-0x9c5+-0x1835]['base']=_0x3829d2*(-0x233a+-0xe2b+0xc5a*0x4)*(-0x1*-0x249d+0x2*0xe04+-0x40a3),_0xbb9f72['primitive'][0x4d5*-0x5+-0x1a*0x119+0x34b3]['count']=(_0x23e0c3-_0x3829d2)*(-0x425+-0x46b*0x1+0x893)*(0x1*-0x2329+0x1*0x1b7+0x2*0x10ba));}}}set['text'](_0x1310c2){this['_i18nKey']=null;const _0x3e909f=_0x1310c2!=null&&_0x1310c2['toString']()||'';this['_setText'](_0x3e909f);}get['text'](){return this['_text'];}set['key'](_0x2c40b3){const _0x4daf11=_0x2c40b3!==null?_0x2c40b3['toString']():null;this['_i18nKey']!==_0x4daf11&&(this['_i18nKey']=_0x4daf11,_0x4daf11?(this['_fontAsset']['disableLoc'+'alization']=!(0x1bf4+-0x144d+-0x7a6),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x4*0x82c+-0x1eea+0x3f9a));}get['key'](){return this['_i18nKey'];}set['color'](_0x5140e0){const _0x52d998=_0x5140e0['r'],_0x1b5bfd=_0x5140e0['g'],_0x1b7768=_0x5140e0['b'];if(this['_color']===_0x5140e0&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x52d998&&this['_color']['g']===_0x1b5bfd&&this['_color']['b']===_0x1b7768)&&(this['_color']['r']=_0x52d998,this['_color']['g']=_0x1b5bfd,this['_color']['b']=_0x1b7768,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_color']),this['_colorUnif'+'orm'][0x1bb5*-0x1+-0x1*-0x16a+0x7f*0x35]=De['r'],this['_colorUnif'+'orm'][0xeea+-0xcb3+-0x236]=De['g'],this['_colorUnif'+'orm'][-0xfdb*-0x1+0x7d0+-0x17a9]=De['b'];for(let _0x432285=0x2*-0x5+0x23c2+-0x23b8,_0x59ed08=this['_model']['meshInstan'+'ces']['length'];_0x432285<_0x59ed08;_0x432285++)this['_model']['meshInstan'+'ces'][_0x432285]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x3cbc1b){if(this['_color']['a']!==_0x3cbc1b&&(this['_color']['a']=_0x3cbc1b,this['_model'])){for(let _0x3dee77=-0x2f9*-0xa+-0x3b*-0x6d+0x36d9*-0x1,_0x1b23c5=this['_model']['meshInstan'+'ces']['length'];_0x3dee77<_0x1b23c5;_0x3dee77++)this['_model']['meshInstan'+'ces'][_0x3dee77]['setParamet'+'er']('material_o'+'pacity',_0x3cbc1b);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3cbc1b);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x49dcf0){const _0xb60344=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x49dcf0,this['_scaledLin'+'eHeight']=_0x49dcf0,_0xb60344!==_0x49dcf0&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x5eb40c){const _0x506a19=this['_wrapLines'];this['_wrapLines']=_0x5eb40c,_0x506a19!==_0x5eb40c&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x3e38d5){const _0x164ce1=this['_spacing'];this['_spacing']=_0x3e38d5,_0x164ce1!==_0x3e38d5&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x827d8e){const _0x935947=this['_fontSize'];this['_fontSize']=_0x827d8e,this['_originalF'+'ontSize']=_0x827d8e,_0x935947!==_0x827d8e&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x5a988c){this['_fontAsset']['defaultAss'+'et']=_0x5a988c;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x5dd054){let _0x25257b;if(this['_font']&&(_0x25257b=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x5dd054,this['_fontMinY']=-0x3*0x39f+-0x143e*0x1+0x1f1b,this['_fontMaxY']=0x18b8*-0x1+0xb6b+0xd4d,!_0x5dd054)return;const _0x5a2f16=this['_font']['data'];for(const _0x45f8a4 in _0x5a2f16['chars']){const _0x4bf0db=_0x5a2f16['chars'][_0x45f8a4];_0x4bf0db['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x4bf0db['bounds'][-0x1*-0xfd6+-0x9*0x3c9+0xc*0x185]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x4bf0db['bounds'][-0xbdf+-0x2519+0x1*0x30fb]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x5dd054['type']!==_0x25257b){const _0x10fac2=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x10fac2);}for(let _0x20be03=-0x1aae+0x35e*-0x6+0x2ee2*0x1,_0x4dae2d=this['_font']['textures']['length'];_0x20be03<_0x4dae2d;_0x20be03++)if(!this['_meshInfo'][_0x20be03])this['_meshInfo'][_0x20be03]=new MR();else{const _0x154bf5=this['_meshInfo'][_0x20be03]['meshInstan'+'ce'];_0x154bf5&&(_0x154bf5['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x154bf5['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x154bf5['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x20be03]['width']),this['_setTextur'+'eParams'](_0x154bf5,this['_font']['textures'][_0x20be03]));}let _0x382429=!(0x16c4+0x2e*-0xcc+0xde5);for(let _0x3845f5=this['_font']['textures']['length'];_0x3845f5<this['_meshInfo']['length'];_0x3845f5++)this['_meshInfo'][_0x3845f5]['meshInstan'+'ce']&&(_0x382429||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x382429=!(-0x7*0x81+0x14d4+-0x114d)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x3845f5]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x2ff536){_0x2ff536 instanceof W?this['_alignment']['set'](_0x2ff536['x'],_0x2ff536['y']):this['_alignment']['set'](_0x2ff536[-0x2567+-0xb9e+-0x3105*-0x1],_0x2ff536[-0x2*0x113d+-0xe4b+0x30c6]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x2b49b7){const _0xdaa52e=this['_autoWidth'];if(this['_autoWidth']=_0x2b49b7,_0x2b49b7&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x50*-0xb+-0x42c*-0x1+-0xbc+0.0001&&(this['_element']['width']=this['width']),_0xdaa52e!==_0x2b49b7){const _0x2e944a=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x2e944a!==this['_fontSize']&&(this['_fontSize']=_0x2e944a,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x44ca1f){const _0x3490dd=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x44ca1f,_0x44ca1f&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1*-0x1597+-0x370+-0x95*-0x2b+0.0001&&(this['_element']['height']=this['height']),_0x3490dd!==_0x44ca1f){const _0x337acd=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x337acd!==this['_fontSize']&&(this['_fontSize']=_0x337acd,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x4848ab){this['_rtlReorde'+'r']!==_0x4848ab&&(this['_rtlReorde'+'r']=_0x4848ab,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x86688f){this['_unicodeCo'+'nverter']!==_0x86688f&&(this['_unicodeCo'+'nverter']=_0x86688f,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x2bb5d1=!(-0x1f0a+-0x3*0x4a8+0xa7*0x45);for(let _0x3b1089=0x2b*-0x9f+0xb2*-0x17+0x2ab3;_0x3b1089<this['_meshInfo']['length'];_0x3b1089++)this['_meshInfo'][_0x3b1089]['meshInstan'+'ce']&&(_0x2bb5d1?this['_aabb']['add'](this['_meshInfo'][_0x3b1089]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x3b1089]['meshInstan'+'ce']['aabb']),_0x2bb5d1=!(0x20b9*0x1+0x13c*0x1e+-0x45c1)));this['_aabbDirty']=!(-0x1*-0x1a21+-0x2*-0x5d0+-0x4b8*0x8);}return this['_aabb'];}set['outlineCol'+'or'](_0x4a6ee4){const _0x461de7=_0x4a6ee4 instanceof Y?_0x4a6ee4['r']:_0x4a6ee4[-0x1d8a+0x2*0x104e+0x312*-0x1],_0x438f98=_0x4a6ee4 instanceof Y?_0x4a6ee4['g']:_0x4a6ee4[-0x124d*-0x1+0x405+0x1651*-0x1],_0x5e4973=_0x4a6ee4 instanceof Y?_0x4a6ee4['b']:_0x4a6ee4[0x1*-0xfa7+-0x1*-0x1b65+0x1*-0xbbc],_0x138dee=_0x4a6ee4 instanceof Y?_0x4a6ee4['a']:_0x4a6ee4[0x145*-0x1+0x109d+-0xf55];if(this['_outlineCo'+'lor']===_0x4a6ee4&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x461de7&&this['_outlineCo'+'lor']['g']===_0x438f98&&this['_outlineCo'+'lor']['b']===_0x5e4973&&this['_outlineCo'+'lor']['a']===_0x138dee)&&(this['_outlineCo'+'lor']['r']=_0x461de7,this['_outlineCo'+'lor']['g']=_0x438f98,this['_outlineCo'+'lor']['b']=_0x5e4973,this['_outlineCo'+'lor']['a']=_0x138dee,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x47f*-0x3+0xd0c+0x71*0x1]=De['r'],this['_outlineCo'+'lorUniform'][0xa7b*-0x3+-0xb4+-0x66e*-0x5]=De['g'],this['_outlineCo'+'lorUniform'][0xc7*-0x16+-0xde0+0x1efc]=De['b'],this['_outlineCo'+'lorUniform'][0x7*0x459+-0x43*0x95+0x893]=De['a'];for(let _0x3300b9=-0x8fa+-0x17f6*0x1+0x20f0,_0x571929=this['_model']['meshInstan'+'ces']['length'];_0x3300b9<_0x571929;_0x3300b9++)this['_model']['meshInstan'+'ces'][_0x3300b9]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x5a3ed7){const _0x570ca3=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x5a3ed7,_0x570ca3!==_0x5a3ed7&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x33ef44=-0xeef+0x1850+0x157*-0x7,_0x442965=this['_model']['meshInstan'+'ces']['length'];_0x33ef44<_0x442965;_0x33ef44++)this['_model']['meshInstan'+'ces'][_0x33ef44]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x2d7780){const _0xb90962=_0x2d7780 instanceof Y?_0x2d7780['r']:_0x2d7780[0x19a7+0x23f2*-0x1+0xa4b],_0x34c998=_0x2d7780 instanceof Y?_0x2d7780['g']:_0x2d7780[-0x3*-0x8cf+0x313*0x5+-0x29cb],_0x1acad9=_0x2d7780 instanceof Y?_0x2d7780['b']:_0x2d7780[0x1ca2+0x1f30+0xb0*-0x57],_0x2a6682=_0x2d7780 instanceof Y?_0x2d7780['a']:_0x2d7780[0x4d*-0x11+-0x28*-0xc9+-0x1a48];if(this['_shadowCol'+'or']===_0x2d7780&&b['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0xb90962&&this['_shadowCol'+'or']['g']===_0x34c998&&this['_shadowCol'+'or']['b']===_0x1acad9&&this['_shadowCol'+'or']['a']===_0x2a6682)&&(this['_shadowCol'+'or']['r']=_0xb90962,this['_shadowCol'+'or']['g']=_0x34c998,this['_shadowCol'+'or']['b']=_0x1acad9,this['_shadowCol'+'or']['a']=_0x2a6682,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{De['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x434*-0x3+-0x2475+0xb9*0x21]=De['r'],this['_shadowCol'+'orUniform'][-0x16f3+-0x3+0x16f7]=De['g'],this['_shadowCol'+'orUniform'][-0x70b+-0x2608+0x3*0xf07]=De['b'],this['_shadowCol'+'orUniform'][-0x722+-0x76c+0xe91]=De['a'];for(let _0x154f36=-0x3*0x850+-0x241c+0x3d0c,_0x57a024=this['_model']['meshInstan'+'ces']['length'];_0x154f36<_0x57a024;_0x154f36++)this['_model']['meshInstan'+'ces'][_0x154f36]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x2253d3){const _0x429684=_0x2253d3 instanceof W?_0x2253d3['x']:_0x2253d3[0xf*0xf7+0x1677+-0x49e*0x8],_0x42408c=_0x2253d3 instanceof W?_0x2253d3['y']:_0x2253d3[0x89*0x3e+0x14b7+-0x35e4];if(!(this['_shadowOff'+'set']['x']===_0x429684&&this['_shadowOff'+'set']['y']===_0x42408c)&&(this['_shadowOff'+'set']['set'](_0x429684,_0x42408c),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xf8e29b=-0x23*-0x38+-0x2077+0x18cf,_0x8dc9ec=this['_model']['meshInstan'+'ces']['length'];_0xf8e29b<_0x8dc9ec;_0xf8e29b++){const _0x5a127a=-this['_font']['data']['info']['maps'][_0xf8e29b]['width']/this['_font']['data']['info']['maps'][_0xf8e29b]['height'];this['_shadowOff'+'setUniform'][-0x30*0xe+0x883+-0x5e3]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x5*-0x23+-0x1*0x1f6d+0x1*0x1ebf]=_0x5a127a*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xf8e29b]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x578f69){this['_minFontSi'+'ze']!==_0x578f69&&(this['_minFontSi'+'ze']=_0x578f69,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x31903c){this['_maxFontSi'+'ze']!==_0x31903c&&(this['_maxFontSi'+'ze']=_0x31903c,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x27ab29){this['_autoFitWi'+'dth']!==_0x27ab29&&(this['_autoFitWi'+'dth']=_0x27ab29,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x16cb5d){this['_autoFitHe'+'ight']!==_0x16cb5d&&(this['_autoFitHe'+'ight']=_0x16cb5d,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x4ec2c1){this['_maxLines']!==_0x4ec2c1&&(_0x4ec2c1===null&&this['_maxLines']===-(-0x54+0x1daa+-0x1d55*0x1)||(this['_maxLines']=_0x4ec2c1===null?-(-0x13*-0x1eb+-0x10d0+-0x13a0):_0x4ec2c1,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x437b7a){if(_0x437b7a=!!_0x437b7a,this['_enableMar'+'kup']===_0x437b7a)return;this['_enableMar'+'kup']=_0x437b7a,this['font']&&this['_updateTex'+'t']();const _0x2595bd=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x2595bd);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x5060fe){return this['_colorPale'+'tte']['slice'](_0x5060fe*(-0x13af+-0xe9e+0x2250),_0x5060fe*(-0x1*-0xfa1+0x182*0x16+-0x30ca)+(0xe7d+0x1a+-0xe94));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x2c851d){return this['_outlinePa'+'lette']['slice'](_0x2c851d*(-0x3b7+-0x16c3*0x1+0x15*0x143),_0x2c851d*(0xc2*-0x14+-0x1*-0x10e5+-0xdc*0x2)+(-0x257+0x251b+-0x1*0x22bf));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0xc990be){return this['_shadowPal'+'ette']['slice'](_0xc990be*(0x18e*0xf+-0x232*-0x1+0x1f6*-0xd),_0xc990be*(0x1a89+0xec0+0x3*-0xdc1)+(-0x25*-0x2a+-0x17d*-0x2+-0x6*0x181));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x324a92){_0x324a92=Math['max'](-0x1227+0x1044+0x1e3,Math['min'](_0x324a92,this['_symbols']['length'])),_0x324a92!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x324a92,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x474b8f){_0x474b8f=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x474b8f,this['_symbols']['length'])),_0x474b8f!==this['_rangeEnd']&&(this['_rangeEnd']=_0x474b8f,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const eu=new A(),gg=new q(),ci=new A(),BR=new A(),as=new q(),eh=new q(),th=new q(),Vn=new q();class Kt extends pe{constructor(_0x4e0161,_0x3e26d){super(_0x4e0161,_0x3e26d),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(-0x135e+-0xf*0x269+0x3786),this['_anchor']=new ee(),this['_localAnch'+'or']=new ee(),this['_pivot']=new W(),this['_width']=this['_calculate'+'dWidth']=-0x6b7+-0x10eb+0x17c2,this['_height']=this['_calculate'+'dHeight']=0x1*-0x1393+0x5*-0x143+-0x1*-0x1a02,this['_margin']=new ee(-0x16b9+-0x179*-0xb+0x14e*0x5,0x1d3b+-0x566*-0x4+-0x1*0x32d3,-(0x1198+0x1*-0x95+-0x3*0x5a1),-(0x18d3+-0x1*0x1357+-0xe*0x62)),this['_modelTran'+'sform']=new q(),this['_screenToW'+'orld']=new q(),this['_anchorTra'+'nsform']=new q(),this['_anchorDir'+'ty']=!(-0xa26*-0x3+0x1*0x6d+-0x1edf),this['_parentWor'+'ldTransfor'+'m']=new q(),this['_screenTra'+'nsform']=new q(),this['_screenCor'+'ners']=[new A(),new A(),new A(),new A()],this['_canvasCor'+'ners']=[new W(),new W(),new W(),new W()],this['_worldCorn'+'ers']=[new A(),new A(),new A(),new A()],this['_cornersDi'+'rty']=!(0x623*-0x5+-0x16*0xfd+0x346d),this['_canvasCor'+'nersDirty']=!(0x173+-0x2*-0x12d3+-0x2719),this['_worldCorn'+'ersDirty']=!(0xa0*-0x32+0x2*-0xb7b+0x9*0x606),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=vh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x74a*-0x5+-0x97*0x13+0x2fa7,this['_fitMode']=bh,this['_useInput']=!(-0x1*0x2359+-0x1*-0x1375+0xfe5),this['_layers']=[nl],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(-0x7b*-0xd+-0x181b+-0x1*-0x11dd),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x2130+0x1490+0x140*-0x2b,this['_maskOffse'+'t']=0x1*-0x240f+0x1273+0x467*0x4+0.5,this['_maskedBy']=null);}get['data'](){const _0x1c46ec=this['system']['store'][this['entity']['getGuid']()];return _0x1c46ec?_0x1c46ec['data']:null;}set['enabled'](_0xa33151){const _0x16eb8b=this['data'],_0x3fa7fe=_0x16eb8b['enabled'];_0x16eb8b['enabled']=_0xa33151,this['fire']('set','enabled',_0x3fa7fe,_0xa33151);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x49a+-0x21f9+0x2693+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x2*0x1042+-0x41c+-0x12*0x194+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x430367){_0x430367 instanceof ee?this['_anchor']['copy'](_0x430367):this['_anchor']['set'](..._0x430367),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x190c+0x184e+-0x315a),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x8c4073){var _0x224a2f,_0x411121;this['_batchGrou'+'pId']!==_0x8c4073&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x5c0+-0x1283*-0x1+-0xcc3&&((_0x224a2f=this['system']['app']['batcher'])==null||_0x224a2f['remove'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x8c4073>=-0x2512+0x15b3+-0xf5f*-0x1&&((_0x411121=this['system']['app']['batcher'])==null||_0x411121['insert'](rt['ELEMENT'],_0x8c4073,this['entity'])),_0x8c4073<0xd7*0x27+0x1c84+-0x1*0x3d45&&this['_batchGrou'+'pId']>=-0xdee+0x11bd+-0xf*0x41&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x8c4073);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x358f0b){this['_margin']['y']=_0x358f0b;const _0x39895e=this['entity']['getLocalPo'+'sition'](),_0x4c2d45=this['_absTop'],_0x2fc1f5=this['_localAnch'+'or']['y']+_0x358f0b;this['_setHeight'](_0x4c2d45-_0x2fc1f5),_0x39895e['y']=_0x358f0b+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x39895e);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x558360){this['_setCalcul'+'atedWidth'](_0x558360,!(-0x20f*-0xb+0x36*-0x7c+0x383));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x55840d){this['_setCalcul'+'atedHeight'](_0x55840d,!(-0x1f9e+-0x2004+0x3fa2));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x510e6b=this['system']['app']['graphicsDe'+'vice'],_0x3456fc=this['screenCorn'+'ers'],_0x2f35b8=_0x510e6b['canvas']['clientWidt'+'h']/_0x510e6b['width'],_0x4e593d=_0x510e6b['canvas']['clientHeig'+'ht']/_0x510e6b['height'];for(let _0x2cfd7c=0x1a4d*-0x1+0x1a3b+-0x9*-0x2;_0x2cfd7c<0x174*0x14+0x2*0x1215+-0x4136;_0x2cfd7c++)this['_canvasCor'+'ners'][_0x2cfd7c]['set'](_0x3456fc[_0x2cfd7c]['x']*_0x2f35b8,(_0x510e6b['height']-_0x3456fc[_0x2cfd7c]['y'])*_0x4e593d);return this['_canvasCor'+'nersDirty']=!(-0x9d*-0x27+-0x1a*-0x109+-0x196a*0x2),this['_canvasCor'+'ners'];}set['drawOrder'](_0x3c45b6){let _0x10da5b=0x1ce0+0x1268+0x8*-0x5e9;this['screen']&&(_0x10da5b=this['screen']['screen']['priority']),_0x3c45b6>0xdeddd1+-0x18df7b6+-0x54*-0x521d5&&(b['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x3c45b6=-0xc2e63a+-0x7*-0xc3b21+-0x3ce163*-0x6),this['_drawOrder']=(_0x10da5b<<-0x63*0x61+0x1470+0x112b)+_0x3c45b6,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x366cfe){this['_height']=_0x366cfe,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x366cfe,!(0xf*0x286+-0x5*0xda+-0x2198)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x4dc778){if(this['_addedMode'+'ls']['length'])for(let _0x163072=-0x23b9+-0x3*0xa49+0x10a5*0x4;_0x163072<this['_layers']['length'];_0x163072++){const _0x3fb6d8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x163072]);if(_0x3fb6d8){for(let _0x144d3f=0x19fa+0x10*-0x202+-0x1*-0x626;_0x144d3f<this['_addedMode'+'ls']['length'];_0x144d3f++)_0x3fb6d8['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x144d3f]['meshInstan'+'ces']);}}if(this['_layers']=_0x4dc778,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x4eafbf=-0xc15+0x41*0xd+-0x8c8*-0x1;_0x4eafbf<this['_layers']['length'];_0x4eafbf++){const _0x4169df=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4eafbf]);if(_0x4169df){for(let _0x1fb125=-0x335*0x4+0xd06+-0x32;_0x1fb125<this['_addedMode'+'ls']['length'];_0x1fb125++)_0x4169df['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x1fb125]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x36d2ac){this['_margin']['x']=_0x36d2ac;const _0x277bc9=this['entity']['getLocalPo'+'sition'](),_0x11a541=this['_absRight'],_0x49fd00=this['_localAnch'+'or']['x']+_0x36d2ac;this['_setWidth'](_0x11a541-_0x49fd00),_0x277bc9['x']=_0x36d2ac+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x277bc9);}get['left'](){return this['_margin']['x'];}set['margin'](_0x5430da){this['_margin']['copy'](_0x5430da),this['_calculate'+'Size'](!(0xe8f+0x1e25*0x1+0x2cb4*-0x1),!(-0x225*-0xc+0xd*-0x24f+0x447)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x76d141){const {pivot:_0x10584a,margin:_0x4d1964}=this,_0x1a5b53=_0x10584a['x'],_0x51f811=_0x10584a['y'];_0x76d141 instanceof W?_0x10584a['copy'](_0x76d141):_0x10584a['set'](..._0x76d141);const _0x419eaf=_0x4d1964['x']+_0x4d1964['z'],_0x88de66=_0x10584a['x']-_0x1a5b53;_0x4d1964['x']+=_0x419eaf*_0x88de66,_0x4d1964['z']-=_0x419eaf*_0x88de66;const _0xc614de=_0x4d1964['y']+_0x4d1964['w'],_0x4f560a=_0x10584a['y']-_0x51f811;_0x4d1964['y']+=_0xc614de*_0x4f560a,_0x4d1964['w']-=_0xc614de*_0x4f560a,this['_anchorDir'+'ty']=!(-0x522*0x3+-0x629+0x158f),this['_cornersDi'+'rty']=!(0x4bf*0x2+0x52d+-0xeab),this['_worldCorn'+'ersDirty']=!(0x151*0x1+-0x2c4+0x173),this['_calculate'+'Size'](!(0x33*0x21+0xc24+-0x12b6),!(-0xba7*0x1+-0x3*-0x885+0xde7*-0x1)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x10584a);}get['pivot'](){return this['_pivot'];}set['right'](_0x58b2ae){this['_margin']['z']=_0x58b2ae;const _0x575b93=this['entity']['getLocalPo'+'sition'](),_0x2ff48a=this['_absLeft'],_0x586c65=this['_localAnch'+'or']['z']-_0x58b2ae;this['_setWidth'](_0x586c65-_0x2ff48a),_0x575b93['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x58b2ae-this['_calculate'+'dWidth']*(-0x1840+-0xe2*-0x22+-0x5c3-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x575b93);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x57de0f=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0xfcf+0x1a82+-0x391*0x3];this['_screenCor'+'ners'][0x9d*0x16+-0x1*-0x51b+-0x1299]['set'](this['_absLeft'],this['_absBottom'],0x2f6*-0xc+0xd12+0x1676),this['_screenCor'+'ners'][0xa*-0x6+0x1*-0x1c33+-0xe*-0x208]['set'](this['_absRight'],this['_absBottom'],-0x9cb+0x446*-0x5+-0x1f29*-0x1),this['_screenCor'+'ners'][0x16ed+0x4d3+-0x1*0x1bbe]['set'](this['_absRight'],this['_absTop'],-0x1258+0x1*0x3bc+0xe9c),this['_screenCor'+'ners'][0x20f9+0x29d*0x3+-0x28cd]['set'](this['_absLeft'],this['_absTop'],0x3f2*-0x1+0xfed+-0x1*0xbfb);const _0x472189=this['screen']['screen']['screenSpac'+'e'];for(let _0x13c54c=0x79*0x46+-0x1*-0x3cb+0x9*-0x419;_0x13c54c<0x97*0x1f+-0x3e0+0xe65*-0x1;_0x13c54c++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x13c54c],this['_screenCor'+'ners'][_0x13c54c]),_0x472189&&this['_screenCor'+'ners'][_0x13c54c]['mulScalar'](this['screen']['screen']['scale']),_0x57de0f&&this['_screenCor'+'ners'][_0x13c54c]['add'](_0x57de0f);return this['_cornersDi'+'rty']=!(0x1*-0x6af+-0x2102+0x13d9*0x2),this['_canvasCor'+'nersDirty']=!(0x11b*-0x1a+-0x1b8e*0x1+-0xe13*-0x4),this['_worldCorn'+'ersDirty']=!(0x26ef+0xbc5+-0x32b4),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0xa*0x7b+0x2540+0x2072*-0x1;}get['textHeight'](){return this['_text']?this['_text']['height']:0x65c+0x695+-0xcf1;}set['top'](_0x3099b4){this['_margin']['w']=_0x3099b4;const _0x628f21=this['entity']['getLocalPo'+'sition'](),_0x24417c=this['_absBottom'],_0x139a9e=this['_localAnch'+'or']['w']-_0x3099b4;this['_setHeight'](_0x139a9e-_0x24417c),_0x628f21['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x3099b4-this['_calculate'+'dHeight']*(-0x513*-0x2+-0x604+-0x421-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x628f21);}get['top'](){return this['_margin']['w'];}set['type'](_0x393edc){_0x393edc!==this['_type']&&(this['_type']=_0x393edc,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x393edc===lf?this['_image']=new gR(this):_0x393edc===tx&&(this['_text']=new OR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x4d7dad){this['_useInput']!==_0x4d7dad&&(this['_useInput']=_0x4d7dad,this['system']['app']['elementInp'+'ut']?_0x4d7dad?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0x1c82+0x1638+-0x23*-0x2e)&&b['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x4d7dad));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x47d64f){this['_fitMode']=_0x47d64f,this['_calculate'+'Size'](!(-0x7f5+0x1506+-0xd11),!(-0x101*0x1+-0x106+0x207)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x75d48e){this['_width']=_0x75d48e,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x75d48e,!(0xb*-0x23b+0xbb9+0x29*0x50)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x378f47=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){as['copy'](this['screen']['screen']['_screenMat'+'rix']),as['data'][0xe18+-0x1560+0x755]=-as['data'][-0x2055+-0x1bf9*0x1+0x3c5b*0x1],as['mul2'](this['screen']['getWorldTr'+'ansform'](),as);for(let _0x139f47=-0x1347+-0xd5c+0x20a3;_0x139f47<0x74a+-0x10c9+-0x983*-0x1;_0x139f47++)as['transformP'+'oint'](_0x378f47[_0x139f47],this['_worldCorn'+'ers'][_0x139f47]);}}else{const _0x5571f6=this['entity']['getLocalPo'+'sition']();as['setTransla'+'te'](-_0x5571f6['x'],-_0x5571f6['y'],-_0x5571f6['z']),eh['setTRS'](A['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),th['setTransla'+'te'](_0x5571f6['x'],_0x5571f6['y'],_0x5571f6['z']);const _0x473a22=this['entity']['parent']?this['entity']['parent']:this['entity'];Vn['copy'](_0x473a22['getWorldTr'+'ansform']()),Vn['mul'](th)['mul'](eh)['mul'](as),ci['set'](_0x5571f6['x']-this['pivot']['x']*this['calculated'+'Width'],_0x5571f6['y']-this['pivot']['y']*this['calculated'+'Height'],_0x5571f6['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0xe95+-0x1f4d+-0x2de2*-0x1]),ci['set'](_0x5571f6['x']+(0x2d8+0x25*-0xa+-0x165-this['pivot']['x'])*this['calculated'+'Width'],_0x5571f6['y']-this['pivot']['y']*this['calculated'+'Height'],_0x5571f6['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x197a+-0xd*0x61+0x7*0x458]),ci['set'](_0x5571f6['x']+(-0x53*0x49+0x886+-0x2*-0x793-this['pivot']['x'])*this['calculated'+'Width'],_0x5571f6['y']+(0x798+-0x1*0x8+0x9*-0xd7-this['pivot']['y'])*this['calculated'+'Height'],_0x5571f6['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x5*-0x479+0xd*0x193+0x723*-0x6]),ci['set'](_0x5571f6['x']-this['pivot']['x']*this['calculated'+'Width'],_0x5571f6['y']+(-0x1c*0x109+-0x49*-0x2e+-0xef*-0x11-this['pivot']['y'])*this['calculated'+'Height'],_0x5571f6['z']),Vn['transformP'+'oint'](ci,this['_worldCorn'+'ers'][-0x1eab*-0x1+0xc7c+-0x2b24]);}return this['_worldCorn'+'ersDirty']=!(-0x7*0x3f1+-0x20b9+0x1*0x3c51),this['_worldCorn'+'ers'];}set['fontSize'](_0x145b89){this['_setValue']('fontSize',_0x145b89);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x217d7){this['_setValue']('minFontSiz'+'e',_0x217d7);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x2b6d91){this['_setValue']('maxFontSiz'+'e',_0x2b6d91);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x9423bc){this['_setValue']('maxLines',_0x9423bc);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0xde8185){this['_setValue']('autoFitWid'+'th',_0xde8185);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4ec807){this['_setValue']('autoFitHei'+'ght',_0x4ec807);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x1b71b5){this['_setValue']('color',_0x1b71b5);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x169ba4){this['_setValue']('font',_0x169ba4);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x4429af){this['_setValue']('fontAsset',_0x4429af);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x2f9cd4){this['_setValue']('spacing',_0x2f9cd4);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0xe25d33){this['_setValue']('lineHeight',_0xe25d33);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x4c150e){this['_setValue']('wrapLines',_0x4c150e);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x52f440){this['_setValue']('lines',_0x52f440);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0xd3e992){this['_setValue']('alignment',_0xd3e992);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x431bee){this['_setValue']('autoWidth',_0x431bee);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x7b98c3){this['_setValue']('autoHeight',_0x7b98c3);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x55149a){this['_setValue']('rtlReorder',_0x55149a);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x4bae81){this['_setValue']('unicodeCon'+'verter',_0x4bae81);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x32f76f){this['_setValue']('text',_0x32f76f);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x3c5727){this['_setValue']('key',_0x3c5727);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x56e7ee){this['_setValue']('texture',_0x56e7ee);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x2f5410){this['_setValue']('textureAss'+'et',_0x2f5410);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x1c5250){this['_setValue']('material',_0x1c5250);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x1f8cfb){this['_setValue']('materialAs'+'set',_0x1f8cfb);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x2820f0){this['_setValue']('sprite',_0x2820f0);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x403635){this['_setValue']('spriteAsse'+'t',_0x403635);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x1ae1d7){this['_setValue']('spriteFram'+'e',_0x1ae1d7);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x2b27d0){this['_setValue']('pixelsPerU'+'nit',_0x2b27d0);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x18113f){this['_setValue']('opacity',_0x18113f);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x39c454){this['_setValue']('rect',_0x39c454);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x1ce870){this['_setValue']('mask',_0x1ce870);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x3d825f){this['_setValue']('outlineCol'+'or',_0x3d825f);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x3184c4){this['_setValue']('outlineThi'+'ckness',_0x3184c4);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x4c7c99){this['_setValue']('shadowColo'+'r',_0x4c7c99);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x573ca9){this['_setValue']('shadowOffs'+'et',_0x573ca9);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x5ab29a){this['_setValue']('enableMark'+'up',_0x5ab29a);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x570864){this['_setValue']('rangeStart',_0x570864);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x4b0441){this['_setValue']('rangeEnd',_0x4b0441);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x14616f,_0x35af90){this['_text']?(this['_text'][_0x14616f]!==_0x35af90&&this['_dirtyBatc'+'h'](),this['_text'][_0x14616f]=_0x35af90):this['_image']&&(this['_image'][_0x14616f]!==_0x35af90&&this['_dirtyBatc'+'h'](),this['_image'][_0x14616f]=_0x35af90);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=je['prototype']['_sync'],this['entity']['setPositio'+'n']=je['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=je['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x36c0d4,_0xb763b0,_0x5b7da8){if(!this['element']['screen']){je['prototype']['setPositio'+'n']['call'](this,_0x36c0d4,_0xb763b0,_0x5b7da8);return;}_0x36c0d4 instanceof A?eu['copy'](_0x36c0d4):eu['set'](_0x36c0d4,_0xb763b0,_0x5b7da8),this['getWorldTr'+'ansform'](),gg['copy'](this['element']['_screenToW'+'orld'])['invert'](),gg['transformP'+'oint'](eu,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x4ecbf3,_0x104bc2,_0x171055){_0x4ecbf3 instanceof A?this['localPosit'+'ion']['copy'](_0x4ecbf3):this['localPosit'+'ion']['set'](_0x4ecbf3,_0x104bc2,_0x171055);const _0x2149b4=this['element'],_0x5468f3=this['localPosit'+'ion'],_0x1e13a=_0x2149b4['_pivot'];_0x2149b4['_margin']['x']=_0x5468f3['x']-_0x2149b4['_calculate'+'dWidth']*_0x1e13a['x'],_0x2149b4['_margin']['z']=_0x2149b4['_localAnch'+'or']['z']-_0x2149b4['_localAnch'+'or']['x']-_0x2149b4['_calculate'+'dWidth']-_0x2149b4['_margin']['x'],_0x2149b4['_margin']['y']=_0x5468f3['y']-_0x2149b4['_calculate'+'dHeight']*_0x1e13a['y'],_0x2149b4['_margin']['w']=_0x2149b4['_localAnch'+'or']['w']-_0x2149b4['_localAnch'+'or']['y']-_0x2149b4['_calculate'+'dHeight']-_0x2149b4['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x4737e8=this['element'],_0x161aea=_0x4737e8['screen'];if(_0x161aea){if(_0x4737e8['_anchorDir'+'ty']){let _0x4f6fae=-0x1f7f*-0x1+0x6ce+-0x7a9*0x5,_0x4165d3=0x2571+-0x1a29*-0x1+-0x3f9a,_0x14e9df=0x2099+0x77b+-0x2814,_0x40d1c4=0x1*-0x23b1+-0x207d+0x442f;if(this['_parent']&&this['_parent']['element'])_0x4f6fae=this['_parent']['element']['calculated'+'Width'],_0x4165d3=this['_parent']['element']['calculated'+'Height'],_0x14e9df=this['_parent']['element']['pivot']['x'],_0x40d1c4=this['_parent']['element']['pivot']['y'];else{const _0x3d0f7f=_0x161aea['screen']['resolution'];_0x4f6fae=_0x3d0f7f['x']/_0x161aea['screen']['scale'],_0x4165d3=_0x3d0f7f['y']/_0x161aea['screen']['scale'];}_0x4737e8['_anchorTra'+'nsform']['setTransla'+'te'](_0x4f6fae*(_0x4737e8['anchor']['x']-_0x14e9df),-(_0x4165d3*(_0x40d1c4-_0x4737e8['anchor']['y'])),-0xcd6+0x2*-0xec3+-0x4*-0xa97),_0x4737e8['_anchorDir'+'ty']=!(0xfd5+0x1*0x1e6b+-0x2e3f),_0x4737e8['_calculate'+'LocalAncho'+'rs']();}_0x4737e8['_sizeDirty']&&_0x4737e8['_calculate'+'Size'](!(-0x17*-0xe5+-0x1*0x242b+-0xf99*-0x1),!(-0xbb9+0x2231*0x1+-0x1677));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x3be927=this['localPosit'+'ion'],_0x1ac596=_0x4737e8['_pivot'];_0x4737e8['_margin']['x']=_0x3be927['x']-_0x4737e8['_calculate'+'dWidth']*_0x1ac596['x'],_0x4737e8['_margin']['z']=_0x4737e8['_localAnch'+'or']['z']-_0x4737e8['_localAnch'+'or']['x']-_0x4737e8['_calculate'+'dWidth']-_0x4737e8['_margin']['x'],_0x4737e8['_margin']['y']=_0x3be927['y']-_0x4737e8['_calculate'+'dHeight']*_0x1ac596['y'],_0x4737e8['_margin']['w']=_0x4737e8['_localAnch'+'or']['w']-_0x4737e8['_localAnch'+'or']['y']-_0x4737e8['_calculate'+'dHeight']-_0x4737e8['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x1a8+0x1*-0x14e5+0x168e);}if(!_0x161aea){this['_dirtyWorl'+'d']&&(_0x4737e8['_cornersDi'+'rty']=!(0x1*-0xaab+-0x396+-0x59*-0x29),_0x4737e8['_canvasCor'+'nersDirty']=!(-0xf*-0x5f+-0x18b3+0x9e*0x1f),_0x4737e8['_worldCorn'+'ersDirty']=!(-0x1*-0x515+0x161*-0x5+0x1d0)),je['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x4737e8['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x4737e8['_anchorTra'+'nsform']):_0x4737e8['_screenToW'+'orld']['copy'](_0x4737e8['_anchorTra'+'nsform']),_0x4737e8['_modelTran'+'sform']['mul2'](_0x4737e8['_screenToW'+'orld'],this['localTrans'+'form']),_0x161aea){_0x4737e8['_screenToW'+'orld']['mul2'](_0x161aea['screen']['_screenMat'+'rix'],_0x4737e8['_screenToW'+'orld']),_0x161aea['screen']['screenSpac'+'e']||_0x4737e8['_screenToW'+'orld']['mul2'](_0x161aea['worldTrans'+'form'],_0x4737e8['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x4737e8['_screenToW'+'orld'],this['localTrans'+'form']);const _0x346520=_0x4737e8['_parentWor'+'ldTransfor'+'m'];_0x346520['setIdentit'+'y']();const _0x1fe6f2=this['_parent'];_0x1fe6f2&&_0x1fe6f2['element']&&_0x1fe6f2!==_0x161aea&&(as['setTRS'](A['ZERO'],_0x1fe6f2['getLocalRo'+'tation'](),_0x1fe6f2['getLocalSc'+'ale']()),_0x346520['mul2'](_0x1fe6f2['element']['_parentWor'+'ldTransfor'+'m'],as));const _0x26f132=ci;_0x26f132['set'](-0x1*-0x169b+-0x1ce+-0x429*0x5,0x1b5e+0x44*-0x5d+-0x2aa,this['localPosit'+'ion']['z']);const _0xfcca95=BR;_0xfcca95['set'](_0x4737e8['_absLeft']+_0x4737e8['_pivot']['x']*_0x4737e8['calculated'+'Width'],_0x4737e8['_absBottom']+_0x4737e8['_pivot']['y']*_0x4737e8['calculated'+'Height'],-0x2483+0x9c0+0x1ac3),as['setTransla'+'te'](-_0xfcca95['x'],-_0xfcca95['y'],-_0xfcca95['z']),eh['setTRS'](_0x26f132,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),th['setTransla'+'te'](_0xfcca95['x'],_0xfcca95['y'],_0xfcca95['z']),_0x4737e8['_screenTra'+'nsform']['mul2'](_0x4737e8['_parentWor'+'ldTransfor'+'m'],th)['mul'](eh)['mul'](as),_0x4737e8['_cornersDi'+'rty']=!(-0x10fb+-0x1664+0x275f),_0x4737e8['_canvasCor'+'nersDirty']=!(-0x307+-0x71*-0x33+0x1*-0x137c),_0x4737e8['_worldCorn'+'ersDirty']=!(0x710+-0x2401+-0x1*-0x1cf1);}else this['worldTrans'+'form']['copy'](_0x4737e8['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x7*-0x19a+0x2*0x1304+0x9d9*-0x5);}}['_onInsert'](_0x4985bb){const _0x3cdcf7=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x3cdcf7['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x27ebd1=this['entity'];for(;_0x27ebd1;){const _0x37ffa1=_0x27ebd1['parent'];if((_0x37ffa1===null||_0x37ffa1['screen'])&&_0x27ebd1['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),b['trace'](Es,'register\x20p'+'rerender'));const _0xbd5046=this['system']['_prerender']['indexOf'](this['entity']);_0xbd5046>=0x1546+0x1efc+-0x1a21*0x2&&this['system']['_prerender']['splice'](_0xbd5046,0x113d+0x8b*-0x32+0x9ea),this['system']['_prerender']['indexOf'](_0x27ebd1)<0x5*-0x4b1+0x2ff*-0x1+0x1a74&&this['system']['_prerender']['push'](_0x27ebd1),b['trace'](Es,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x27ebd1['name']);}_0x27ebd1=_0x37ffa1;}}['_onPrerend'+'er'](){for(let _0x47dce9=0xe5*0xe+-0x1b1e+0xe98;_0x47dce9<this['system']['_prerender']['length'];_0x47dce9++){const _0x534757=this['system']['_prerender'][_0x47dce9];b['trace'](Es,'prerender\x20'+'from:\x20'+_0x534757['name']),_0x534757['element']&&_0x534757['element']['syncMask'](-0xe55*-0x2+-0x107f*0x2+0x455*0x1);}this['system']['_prerender']['length']=0x24e7+-0x17bf+0x8*-0x1a5;}['_bindScree'+'n'](_0x2cab79){_0x2cab79['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x4ee205){_0x4ee205['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x1a1137){this['screen']&&this['screen']!==_0x1a1137&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x5ecd76=this['screen'];this['screen']=_0x1a1137,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x5ecd76),this['_anchorDir'+'ty']=!(0x1fc9+-0xb*0x6d+-0x1b1a);const _0x1f2a4c=this['entity']['children'];for(let _0x567fa1=-0x15e9+-0xe26*-0x2+-0x663,_0x44af2b=_0x1f2a4c['length'];_0x567fa1<_0x44af2b;_0x567fa1++)_0x1f2a4c[_0x567fa1]['element']&&_0x1f2a4c[_0x567fa1]['element']['_updateScr'+'een'](_0x1a1137);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0xdc093a){const _0x28ffb3=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x28ffb3['mask'],_0xdc093a);}['_setMasked'+'By'](_0x5f3aa1){const _0x11af93=this['_image']||this['_text'];if(_0x5f3aa1){const _0x1c1382=_0x5f3aa1['element']['_image']['_maskRef'];b['trace'](Es,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x1c1382),_0x11af93==null||_0x11af93['_setStenci'+'l'](new Zs({'ref':_0x1c1382,'func':Dh})),this['_maskedBy']=_0x5f3aa1;}else b['trace'](Es,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x11af93==null||_0x11af93['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x181ad1,_0x532181){var _0xa15571,_0xc9878e;if(_0x181ad1){if(this['_setMasked'+'By'](_0x181ad1),this['mask']){const _0x5aeecc=_0x181ad1['element']['_image']['_maskRef'],_0x25aace=new Zs({'ref':_0x5aeecc,'func':Dh,'zpass':HS});this['_image']['_setStenci'+'l'](_0x25aace),this['_image']['_maskRef']=_0x532181,_0x532181++,b['trace'](Es,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x25aace['ref']+(-0x797*0x5+0xcfa+-0xc7d*-0x2))),b['trace'](Es,'depth++\x20to'+':\x20',_0x532181),_0x181ad1=this['entity'];}const _0x276b1a=this['entity']['children'];for(let _0x56effb=-0x1415+-0x161+0xabb*0x2,_0x32a2d2=_0x276b1a['length'];_0x56effb<_0x32a2d2;_0x56effb++)(_0xa15571=_0x276b1a[_0x56effb]['element'])==null||_0xa15571['_updateMas'+'k'](_0x181ad1,_0x532181);this['mask']&&_0x532181--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x573a79=new Zs({'ref':_0x532181,'func':Ri,'zpass':GS});this['_image']['_setStenci'+'l'](_0x573a79),this['_image']['_maskRef']=_0x532181,_0x532181++,b['trace'](Es,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x573a79['ref']),b['trace'](Es,'depth++\x20to'+':\x20',_0x532181),_0x181ad1=this['entity'];}const _0x26e323=this['entity']['children'];for(let _0x372153=0xc*0x69+0x17c*0x1+-0x668,_0x55b5b9=_0x26e323['length'];_0x372153<_0x55b5b9;_0x372153++)(_0xc9878e=_0x26e323[_0x372153]['element'])==null||_0xc9878e['_updateMas'+'k'](_0x181ad1,_0x532181);this['mask']&&_0x532181--;}}['_parseUpTo'+'Screen'](){const _0x517b2c={'screen':null,'mask':null};let _0x392183=this['entity']['_parent'];for(;_0x392183&&!_0x392183['screen'];)_0x392183['element']&&_0x392183['element']['mask']&&(_0x517b2c['mask']||(_0x517b2c['mask']=_0x392183)),_0x392183=_0x392183['parent'];return _0x392183&&_0x392183['screen']&&(_0x517b2c['screen']=_0x392183),_0x517b2c;}['_onScreenR'+'esize'](_0x4cde2e){this['_anchorDir'+'ty']=!(-0x1f27+0x7d4+0x1753),this['_cornersDi'+'rty']=!(0x2305+-0x56*0xe+-0x3*0xa1b),this['_worldCorn'+'ersDirty']=!(-0x8b*-0x33+0x1*0x146d+-0x805*0x6),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x4cde2e);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x5656bd=-0x14c2+0x3d*0x9b+-0xc45,_0x2c90c7=0x8e5*-0x3+-0x3*-0xd+-0x10*-0x1e7;const _0x3564b3=this['entity']['_parent'];if(_0x3564b3&&_0x3564b3['element'])_0x5656bd=_0x3564b3['element']['calculated'+'Width'],_0x2c90c7=_0x3564b3['element']['calculated'+'Height'];else{if(this['screen']){const _0x2c0bbf=this['screen']['screen']['resolution'],_0x5a36bd=this['screen']['screen']['scale'];_0x5656bd=_0x2c0bbf['x']/_0x5a36bd,_0x2c90c7=_0x2c0bbf['y']/_0x5a36bd;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x5656bd,this['_anchor']['y']*_0x2c90c7,this['_anchor']['z']*_0x5656bd,this['_anchor']['w']*_0x2c90c7);}['getOffsetP'+'osition'](_0x1553f4,_0x3505d1){const _0x2ffc70=this['entity']['getLocalPo'+'sition']()['clone']();return _0x2ffc70['x']+=_0x1553f4,_0x2ffc70['y']+=_0x3505d1,this['_screenToW'+'orld']['transformP'+'oint'](_0x2ffc70,_0x2ffc70),_0x2ffc70;}['onLayersCh'+'anged'](_0x165f99,_0x15519d){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x165f99['off']('add',this['onLayerAdd'+'ed'],this),_0x165f99['off']('remove',this['onLayerRem'+'oved'],this),_0x15519d['on']('add',this['onLayerAdd'+'ed'],this),_0x15519d['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5a5cdb){this['layers']['indexOf'](_0x5a5cdb['id'])<-0x90f+-0x607*0x1+-0x2*-0x78b||(this['_image']?_0x5a5cdb['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x5a5cdb['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x3997fe){this['layers']['indexOf'](_0x3997fe['id'])<-0x418+-0x3b*-0xa7+-0x2265||(this['_image']?_0x3997fe['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x3997fe['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x3a28ab;const _0x5b8d66=this['system']['app']['scene'],_0x2e08e9=_0x5b8d66['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x5b8d66['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2e08e9&&(this['_evtLayerA'+'dded']=_0x2e08e9['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2e08e9['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x13a0+0xed0+-0x98*0x3a&&((_0x3a28ab=this['system']['app']['batcher'])==null||_0x3a28ab['insert'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x3dbdba,_0x3f0562,_0x4060d5,_0x49f2db;const _0xc75db8=this['system']['app']['scene']['layers'];(_0x3dbdba=this['_evtLayers'+'Changed'])==null||_0x3dbdba['off'](),this['_evtLayers'+'Changed']=null,_0xc75db8&&((_0x3f0562=this['_evtLayerA'+'dded'])==null||_0x3f0562['off'](),this['_evtLayerA'+'dded']=null,(_0x4060d5=this['_evtLayerR'+'emoved'])==null||_0x4060d5['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0xadc*0x1+-0x51d*0x1+-0x5bf&&((_0x49f2db=this['system']['app']['batcher'])==null||_0x49f2db['remove'](rt['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x95b364,_0x5de73c){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x5b135b=this['_absRight']-this['_absLeft'],_0x4c151a=this['_absTop']-this['_absBottom'];_0x95b364?this['_setWidth'](_0x5b135b):this['_setCalcul'+'atedWidth'](_0x5b135b,!(-0x1b9a+-0xe64+0x33b*0xd)),_0x5de73c?this['_setHeight'](_0x4c151a):this['_setCalcul'+'atedHeight'](_0x4c151a,!(0x27*0xf9+0xd*-0x1f+-0x245b));const _0x2d2cdf=this['entity']['getLocalPo'+'sition']();_0x2d2cdf['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x2d2cdf['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x2d2cdf),this['_sizeDirty']=!(0xa3*-0x2f+-0x17f8+-0x35e6*-0x1);}['_setWidth'](_0x31344b){this['_width']=_0x31344b,this['_setCalcul'+'atedWidth'](_0x31344b,!(0x1*-0x1c15+-0x1eaa*-0x1+-0x294)),this['fire']('set:width',this['_width']);}['_setHeight'](_0x177279){this['_height']=_0x177279,this['_setCalcul'+'atedHeight'](_0x177279,!(0xd08+0x1*0x1d7d+-0x2a84)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x38cb0d,_0x73e978){if(!(Math['abs'](_0x38cb0d-this['_calculate'+'dWidth'])<=0xa30*0x1+-0x1ca4+0x1274+0.0001)){if(this['_calculate'+'dWidth']=_0x38cb0d,this['entity']['_dirtifyLo'+'cal'](),_0x73e978){const _0x20c0b4=this['entity']['getLocalPo'+'sition'](),_0x568753=this['_pivot'];this['_margin']['x']=_0x20c0b4['x']-this['_calculate'+'dWidth']*_0x568753['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x2186e6,_0x3729b6){if(!(Math['abs'](_0x2186e6-this['_calculate'+'dHeight'])<=0x1f*-0xac+0x1ecb+0x9f7*-0x1+0.0001)){if(this['_calculate'+'dHeight']=_0x2186e6,this['entity']['_dirtifyLo'+'cal'](),_0x3729b6){const _0x35a423=this['entity']['getLocalPo'+'sition'](),_0x1c81a3=this['_pivot'];this['_margin']['y']=_0x35a423['y']-this['_calculate'+'dHeight']*_0x1c81a3['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x169a4d=this['entity']['_children'];for(let _0x238c04=0xbaa+-0x1039*-0x1+-0x1be3,_0x3fcc43=_0x169a4d['length'];_0x238c04<_0x3fcc43;_0x238c04++)_0x169a4d[_0x238c04]['element']&&(_0x169a4d[_0x238c04]['element']['_anchorDir'+'ty']=!(-0x111e+-0x21c7+0x32e5),_0x169a4d[_0x238c04]['element']['_sizeDirty']=!(0x6e3+0x264a+-0x1*0x2d2d));}['addModelTo'+'Layers'](_0xd1b9e){this['_addedMode'+'ls']['push'](_0xd1b9e);for(let _0x42f0c9=0xeb3*-0x1+-0x1140+0x1ff3;_0x42f0c9<this['layers']['length'];_0x42f0c9++){const _0x48d867=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x42f0c9]);_0x48d867&&_0x48d867['addMeshIns'+'tances'](_0xd1b9e['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x36c55a){const _0x2b410b=this['_addedMode'+'ls']['indexOf'](_0x36c55a);_0x2b410b>=-0x30f+-0x43*-0x65+-0x10*0x176&&this['_addedMode'+'ls']['splice'](_0x2b410b,-0xb02+0x1a15+-0xf12);for(let _0x47b5c2=-0x10*-0xa6+-0x1*-0x22a3+-0x17*0x1f5;_0x47b5c2<this['layers']['length'];_0x47b5c2++){const _0x497927=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x47b5c2]);_0x497927&&_0x497927['removeMesh'+'Instances'](_0x36c55a['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x13d631=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x13d631&&(this['_maskOffse'+'t']=-0x14c2+-0x7*-0x257+0x461+0.5,this['_offsetRea'+'dAt']=_0x13d631);const _0x401d96=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x576*-0x5+-0x4*-0x115+-0x1fa2+0.001,_0x401d96;}['isVisibleF'+'orCamera'](_0x28ed3f){let _0x567790,_0x59d42b,_0x16e810,_0x5d49c7;if(this['maskedBy']){const _0x365296=this['maskedBy']['element']['screenCorn'+'ers'];_0x567790=Math['min'](Math['min'](_0x365296[-0xde5+-0x3*-0xc0d+-0x1642]['x'],_0x365296[0x2c5*-0x8+-0x6ad*0x1+-0x1cd6*-0x1]['x']),Math['min'](_0x365296[0x1bbd+0x1fcc+-0x3b87]['x'],_0x365296[-0x1b34*0x1+-0x247f+0x3fb6]['x'])),_0x59d42b=Math['max'](Math['max'](_0x365296[-0x84f*0x3+0x1*0x2552+-0x13*0xa7]['x'],_0x365296[-0x1aeb+0x656*0x4+0xca*0x2]['x']),Math['max'](_0x365296[0x243d*-0x1+0x2376+0xc9]['x'],_0x365296[-0x20fb+-0x61c*0x2+0x283*0x12]['x'])),_0x5d49c7=Math['min'](Math['min'](_0x365296[0x41*0x57+0x1*-0x111e+-0x4f9]['y'],_0x365296[-0x108d*-0x2+-0x218d+0x74]['y']),Math['min'](_0x365296[0x19a1+0xb*0x219+-0x17*0x21e]['y'],_0x365296[-0x155a+0x20*-0xd9+0x1*0x307d]['y'])),_0x16e810=Math['max'](Math['max'](_0x365296[-0x1*-0xfb+-0x25bb*-0x1+-0xa*0x3df]['y'],_0x365296[0x15a9+0x2ee+-0x1896]['y']),Math['max'](_0x365296[-0x3b+-0x218*-0x1+-0x1db]['y'],_0x365296[0xd39*0x1+0x1f*-0xf9+0x1*0x10f1]['y']));}else{const _0x50e14e=this['system']['app']['graphicsDe'+'vice']['width'],_0x1879ec=this['system']['app']['graphicsDe'+'vice']['height'],_0x5bfce5=_0x28ed3f['_rect']['z']*_0x50e14e,_0x4c09ab=_0x28ed3f['_rect']['w']*_0x1879ec;_0x567790=_0x28ed3f['_rect']['x']*_0x50e14e,_0x59d42b=_0x567790+_0x5bfce5,_0x16e810=(0xf4e*0x1+0x6*0x64d+-0x351b-_0x28ed3f['_rect']['y'])*_0x1879ec,_0x5d49c7=_0x16e810-_0x4c09ab;}const _0x2d005c=this['screenCorn'+'ers'],_0x10a02f=Math['min'](Math['min'](_0x2d005c[-0x510+-0x35*0xa3+0x26cf]['x'],_0x2d005c[-0xf3f+0x1*0x175+0xdcb]['x']),Math['min'](_0x2d005c[-0x1bfd+0x1100+0xaff]['x'],_0x2d005c[0x167a*0x1+0xa34+-0x20ab*0x1]['x'])),_0x81bf67=Math['max'](Math['max'](_0x2d005c[0x4*-0x533+-0x1*-0xef+0x13dd]['x'],_0x2d005c[0x1ba0+-0x76*0x11+0x5*-0x3f5]['x']),Math['max'](_0x2d005c[0xcd9*0x1+-0x2fa*-0x7+-0x21ad]['x'],_0x2d005c[-0x350*-0x2+0x3*0x807+-0x1eb2]['x'])),_0x4a8cfa=Math['min'](Math['min'](_0x2d005c[-0x11bf+-0x3fb*0x1+0x9*0x26a]['y'],_0x2d005c[-0x102c+0x1192+-0x165]['y']),Math['min'](_0x2d005c[0x22b+0x1*0xb31+-0x6ad*0x2]['y'],_0x2d005c[-0x262a+-0x1d2*0x5+-0x3a3*-0xd]['y'])),_0x13a906=Math['max'](Math['max'](_0x2d005c[-0x11*-0x47+0x334+-0x7eb]['y'],_0x2d005c[0x166*-0xe+0x2332+-0xf9d]['y']),Math['max'](_0x2d005c[-0xf23+-0xc51+-0x5*-0x57e]['y'],_0x2d005c[-0x25+0x9*-0x12e+-0x7*-0x18a]['y']));return!(_0x81bf67<_0x567790||_0x10a02f>_0x59d42b||_0x4a8cfa>_0x16e810||_0x13a906<_0x5d49c7);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x829*-0x3+0x1*0xceb+-0x3f*-0x2f);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x254*-0x1+-0x1008+0xdb5);}['_dirtyBatc'+'h'](){var _0x110b5b;this['batchGroup'+'Id']!==-(0x2*0xafd+0x6*-0x269+0x783*-0x1)&&((_0x110b5b=this['system']['app']['batcher'])==null||_0x110b5b['markGroupD'+'irty'](this['batchGroup'+'Id']));}}c(Kt,'EVENT_MOUS'+'EDOWN','mousedown'),c(Kt,'EVENT_MOUS'+'EUP','mouseup'),c(Kt,'EVENT_MOUS'+'EENTER','mouseenter'),c(Kt,'EVENT_MOUS'+'ELEAVE','mouseleave'),c(Kt,'EVENT_MOUS'+'EMOVE','mousemove'),c(Kt,'EVENT_MOUS'+'EWHEEL','mousewheel'),c(Kt,'EVENT_CLIC'+'K','click'),c(Kt,'EVENT_TOUC'+'HSTART','touchstart'),c(Kt,'EVENT_TOUC'+'HEND','touchend'),c(Kt,'EVENT_TOUC'+'HMOVE','touchmove'),c(Kt,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class NR{constructor(){this['enabled']=!(-0xe51+0x807+-0x1*-0x64a);}}const zR=['enabled'];class UR extends Qe{constructor(_0x3f6c33){super(_0x3f6c33),this['id']='element',this['ComponentT'+'ype']=Kt,this['DataType']=NR,this['schema']=zR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new ce(_0x3f6c33['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':cs,'name':'element-sy'+'stem'});const _0x496415=this['_defaultTe'+'xture']['lock'](),_0x3215bb=new Uint8Array(0x7cc+-0x541+-0x287);_0x3215bb[0x2*0x62b+-0x145+-0xb11]=0x3*-0xb7+0x5*-0x231+0xe19,_0x3215bb[0xd64+-0x14*-0xa6+0x1*-0x1a5b]=0x1cde+0xdd7+0x2*-0x14db,_0x3215bb[0xa*0x2c9+-0x2e0*0xb+0x3c8]=0x2*0x10f+0x1511*0x1+0x8*-0x2c6,_0x3215bb[-0xf*-0x1bf+0x10ea+0x628*-0x7]=0x89b+-0x211c+0x110*0x18,_0x496415['set'](_0x3215bb),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x59b017,_0x51a7b1,_0xa01a16){_0x59b017['_beingInit'+'ialized']=!(0x2093*0x1+-0x29*0xb0+-0x1*0x463),_0x51a7b1['anchor']!==void(-0x865+-0x13d0+0x1c35)&&(_0x51a7b1['anchor']instanceof ee?_0x59b017['anchor']['copy'](_0x51a7b1['anchor']):_0x59b017['anchor']['set'](_0x51a7b1['anchor'][-0x740+-0x2*-0xe81+-0xa*0x22d],_0x51a7b1['anchor'][0x1*0x2009+0x2135+-0x413d],_0x51a7b1['anchor'][0x162c+-0x1ac9+0x49f],_0x51a7b1['anchor'][-0x146+-0x1*0x1011+0x1*0x115a])),_0x51a7b1['pivot']!==void(0x1f88+-0x1*-0x382+0x159*-0x1a)&&(_0x51a7b1['pivot']instanceof W?_0x59b017['pivot']['copy'](_0x51a7b1['pivot']):_0x59b017['pivot']['set'](_0x51a7b1['pivot'][0x1*0x14f3+-0x34a*-0xb+-0x3921],_0x51a7b1['pivot'][-0xb14+0x1fdc+-0x14c7]));const _0x43b27e=Math['abs'](_0x59b017['anchor']['x']-_0x59b017['anchor']['z'])>-0x14ce+0x1d75+-0x8a7+0.001,_0x37814f=Math['abs'](_0x59b017['anchor']['y']-_0x59b017['anchor']['w'])>-0x5ae+0x266a+-0x20bc+0.001;let _0x5c1f96=!(0x200a+0x5*-0x193+0x3*-0x80e),_0x448915;_0x51a7b1['margin']!==void(0xa*0x33+0x1a9b*0x1+0x1c99*-0x1)&&(_0x51a7b1['margin']instanceof ee?_0x59b017['margin']['copy'](_0x51a7b1['margin']):_0x59b017['_margin']['set'](_0x51a7b1['margin'][-0x1*-0x24ad+-0x25d9+0x12c],_0x51a7b1['margin'][-0x1*0x1433+0x26da+-0x2aa*0x7],_0x51a7b1['margin'][0x12a*-0x6+-0x1*0x1026+0xb92*0x2],_0x51a7b1['margin'][0x1f2e+-0x1a1b+0x51*-0x10]),_0x5c1f96=!(-0x1cca*0x1+-0x2252+0x3f1c)),_0x51a7b1['left']!==void(0x12e*0xb+-0x5*-0xc+0x59*-0x26)&&(_0x59b017['_margin']['x']=_0x51a7b1['left'],_0x5c1f96=!(0xa12+-0x4*-0x210+-0x1252)),_0x51a7b1['bottom']!==void(-0x1*-0x9b5+-0xcdb*-0x1+-0x10*0x169)&&(_0x59b017['_margin']['y']=_0x51a7b1['bottom'],_0x5c1f96=!(0x6*0x2de+-0x161*-0x11+0x1*-0x28a5)),_0x51a7b1['right']!==void(0x162e+0xad1+-0x20ff)&&(_0x59b017['_margin']['z']=_0x51a7b1['right'],_0x5c1f96=!(0x1d22+-0x9f7*0x3+0xc3)),_0x51a7b1['top']!==void(0x1160+-0xc43*-0x1+-0x1da3)&&(_0x59b017['_margin']['w']=_0x51a7b1['top'],_0x5c1f96=!(0x1a96+-0x1236+0x10c*-0x8)),_0x5c1f96&&(_0x59b017['margin']=_0x59b017['_margin']);let _0x994d33=!(-0x5d9*-0x6+0x26a0+-0x49b5);_0x51a7b1['width']!==void(-0x356+0x10d3+-0xd7d)&&!_0x43b27e?_0x59b017['width']=_0x51a7b1['width']:_0x43b27e&&(_0x994d33=!(0xbcf*0x1+-0x75e+0x17b*-0x3)),_0x51a7b1['height']!==void(0x57+-0x667+0x610*0x1)&&!_0x37814f?_0x59b017['height']=_0x51a7b1['height']:_0x37814f&&(_0x994d33=!(-0x191e+-0x1a46+-0xb*-0x4ac)),_0x994d33&&(_0x59b017['anchor']=_0x59b017['anchor']),_0x51a7b1['enabled']!==void(0x8b3+-0x3*0xc2f+0x5*0x592)&&(_0x59b017['enabled']=_0x51a7b1['enabled']),_0x51a7b1['useInput']!==void(0x1b1*-0x13+-0xc*0x103+0x2c47)&&(_0x59b017['useInput']=_0x51a7b1['useInput']),_0x51a7b1['fitMode']!==void(0x20b6+-0x13df*-0x1+-0x1*0x3495)&&(_0x59b017['fitMode']=_0x51a7b1['fitMode']),_0x59b017['batchGroup'+'Id']=_0x51a7b1['batchGroup'+'Id']===void(-0x1b91*0x1+-0xe6f+0x1*0x2a00)||_0x51a7b1['batchGroup'+'Id']===null?-(-0x1dcc+0x5*0x60+0x94f*0x3):_0x51a7b1['batchGroup'+'Id'],_0x51a7b1['layers']&&Array['isArray'](_0x51a7b1['layers'])&&(_0x59b017['layers']=_0x51a7b1['layers']['slice'](-0x397*-0x3+-0x1243+0x3bf*0x2)),_0x51a7b1['type']!==void(-0x97d+0x19*0xcf+-0x55d*0x2)&&(_0x59b017['type']=_0x51a7b1['type']),_0x59b017['type']===lf?(_0x51a7b1['rect']!==void(0x1bcd+0x22c4+-0x3e91)&&(_0x59b017['rect']=_0x51a7b1['rect']),_0x51a7b1['color']!==void(-0x21ce+-0x1006+-0x3*-0x109c)&&(_0x448915=_0x51a7b1['color'],_0x448915 instanceof Y||(_0x448915=new Y(_0x51a7b1['color'][0x1*-0x195d+-0xeed*0x1+0x284a],_0x51a7b1['color'][0x200e+-0x1*0x1315+0x28*-0x53],_0x51a7b1['color'][0x2*-0x74+-0x260a+0x115*0x24])),_0x59b017['color']=_0x448915),_0x51a7b1['opacity']!==void(-0x34c*-0x1+0x790+-0xadc*0x1)&&(_0x59b017['opacity']=_0x51a7b1['opacity']),_0x51a7b1['textureAss'+'et']!==void(0xfb*-0x15+-0xf57+0x291*0xe)&&(_0x59b017['textureAss'+'et']=_0x51a7b1['textureAss'+'et']),_0x51a7b1['texture']&&(_0x59b017['texture']=_0x51a7b1['texture']),_0x51a7b1['spriteAsse'+'t']!==void(0x1*-0x231a+0xa85*-0x2+0x3824)&&(_0x59b017['spriteAsse'+'t']=_0x51a7b1['spriteAsse'+'t']),_0x51a7b1['sprite']&&(_0x59b017['sprite']=_0x51a7b1['sprite']),_0x51a7b1['spriteFram'+'e']!==void(0xa07+-0xf9*-0x24+0x377*-0xd)&&(_0x59b017['spriteFram'+'e']=_0x51a7b1['spriteFram'+'e']),_0x51a7b1['pixelsPerU'+'nit']!==void(0x86d+0x223*0x2+0xcb3*-0x1)&&_0x51a7b1['pixelsPerU'+'nit']!==null&&(_0x59b017['pixelsPerU'+'nit']=_0x51a7b1['pixelsPerU'+'nit']),_0x51a7b1['materialAs'+'set']!==void(-0x25*-0x97+0xf74*0x1+-0x2547)&&(_0x59b017['materialAs'+'set']=_0x51a7b1['materialAs'+'set']),_0x51a7b1['material']&&(_0x59b017['material']=_0x51a7b1['material']),_0x51a7b1['mask']!==void(0x9*-0x202+0x42*-0x3a+0x581*0x6)&&(_0x59b017['mask']=_0x51a7b1['mask'])):_0x59b017['type']===tx&&(_0x51a7b1['autoWidth']!==void(-0x52d+0x12b9+-0x1*0xd8c)&&(_0x59b017['autoWidth']=_0x51a7b1['autoWidth']),_0x51a7b1['autoHeight']!==void(0x1*-0xd97+-0x1274+0x200b)&&(_0x59b017['autoHeight']=_0x51a7b1['autoHeight']),_0x51a7b1['rtlReorder']!==void(-0xa35+-0x9d*0x2f+-0x4e1*-0x8)&&(_0x59b017['rtlReorder']=_0x51a7b1['rtlReorder']),_0x51a7b1['unicodeCon'+'verter']!==void(0x33*0x27+0x1485+0x11*-0x1aa)&&(_0x59b017['unicodeCon'+'verter']=_0x51a7b1['unicodeCon'+'verter']),_0x51a7b1['text']!==null&&_0x51a7b1['text']!==void(0x1e72+-0x98+-0x1dda*0x1)?_0x59b017['text']=_0x51a7b1['text']:_0x51a7b1['key']!==null&&_0x51a7b1['key']!==void(-0x89e*-0x4+-0x1*0x236a+0x79*0x2)&&(_0x59b017['key']=_0x51a7b1['key']),_0x51a7b1['color']!==void(-0x1a8f+-0xff9+0x2a88)&&(_0x448915=_0x51a7b1['color'],_0x448915 instanceof Y||(_0x448915=new Y(_0x448915[0x17*-0xec+-0x625+0x1b59],_0x448915[0x24a9*0x1+0x2b6*0x7+0x37a2*-0x1],_0x448915[0x2*-0x86d+-0x247a+-0x1*-0x3556])),_0x59b017['color']=_0x448915),_0x51a7b1['opacity']!==void(0xfd9*0x2+-0x6*-0x31+-0x20d8)&&(_0x59b017['opacity']=_0x51a7b1['opacity']),_0x51a7b1['spacing']!==void(0x9b1*-0x3+-0x11c6+0x2ed9)&&(_0x59b017['spacing']=_0x51a7b1['spacing']),_0x51a7b1['fontSize']!==void(0x26ca+-0x3d*-0x6d+-0x40c3)&&(_0x59b017['fontSize']=_0x51a7b1['fontSize'],_0x51a7b1['lineHeight']||(_0x59b017['lineHeight']=_0x51a7b1['fontSize'])),_0x51a7b1['lineHeight']!==void(-0x1135+0x1b8d+-0xa58)&&(_0x59b017['lineHeight']=_0x51a7b1['lineHeight']),_0x51a7b1['maxLines']!==void(-0x1fb4+-0x15*0x26+0x22d2)&&(_0x59b017['maxLines']=_0x51a7b1['maxLines']),_0x51a7b1['wrapLines']!==void(0x8e6+0x1019*0x1+-0x1b*0xed)&&(_0x59b017['wrapLines']=_0x51a7b1['wrapLines']),_0x51a7b1['minFontSiz'+'e']!==void(0x1*0x19c1+-0x711+-0x12b0)&&(_0x59b017['minFontSiz'+'e']=_0x51a7b1['minFontSiz'+'e']),_0x51a7b1['maxFontSiz'+'e']!==void(-0x100e*0x1+-0xa4b*-0x3+-0xed3)&&(_0x59b017['maxFontSiz'+'e']=_0x51a7b1['maxFontSiz'+'e']),_0x51a7b1['autoFitWid'+'th']&&(_0x59b017['autoFitWid'+'th']=_0x51a7b1['autoFitWid'+'th']),_0x51a7b1['autoFitHei'+'ght']&&(_0x59b017['autoFitHei'+'ght']=_0x51a7b1['autoFitHei'+'ght']),_0x51a7b1['fontAsset']!==void(-0x168a+-0x1310+0x299a)&&(_0x59b017['fontAsset']=_0x51a7b1['fontAsset']),_0x51a7b1['font']!==void(0x8*0x90+0x1*-0x2656+0x21d6)&&(_0x59b017['font']=_0x51a7b1['font']),_0x51a7b1['alignment']!==void(-0xf95*0x1+0x270d+-0x8*0x2ef)&&(_0x59b017['alignment']=_0x51a7b1['alignment']),_0x51a7b1['outlineCol'+'or']!==void(0x1c*0xb5+-0xc5c*0x1+-0x88*0xe)&&(_0x59b017['outlineCol'+'or']=_0x51a7b1['outlineCol'+'or']),_0x51a7b1['outlineThi'+'ckness']!==void(0x26ba+0x2135*-0x1+-0x585)&&(_0x59b017['outlineThi'+'ckness']=_0x51a7b1['outlineThi'+'ckness']),_0x51a7b1['shadowColo'+'r']!==void(0x1bff+-0x1*0xb23+-0x10dc)&&(_0x59b017['shadowColo'+'r']=_0x51a7b1['shadowColo'+'r']),_0x51a7b1['shadowOffs'+'et']!==void(-0x4*-0x2f6+0x181+-0x473*0x3)&&(_0x59b017['shadowOffs'+'et']=_0x51a7b1['shadowOffs'+'et']),_0x51a7b1['enableMark'+'up']!==void(0x1*-0xf91+-0x13c6+-0x1*-0x2357)&&(_0x59b017['enableMark'+'up']=_0x51a7b1['enableMark'+'up']));const _0x1635a3=_0x59b017['_parseUpTo'+'Screen']();_0x1635a3['screen']&&_0x59b017['_updateScr'+'een'](_0x1635a3['screen']),super['initialize'+'ComponentD'+'ata'](_0x59b017,_0x51a7b1,_0xa01a16),_0x59b017['_beingInit'+'ialized']=!(-0x1*0x199+-0xe6a+0x1004),_0x59b017['type']===lf&&_0x59b017['_image']['_meshDirty']&&_0x59b017['_image']['_updateMes'+'h'](_0x59b017['_image']['mesh']);}['onAddCompo'+'nent'](_0xf3a1fe,_0x4a9fb0){_0xf3a1fe['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x237d4d,_0x288c97){_0x288c97['onRemove']();}['cloneCompo'+'nent'](_0x53fb26,_0x2088c0){const _0x3cfc5c=_0x53fb26['element'],_0x863988={'enabled':_0x3cfc5c['enabled'],'width':_0x3cfc5c['width'],'height':_0x3cfc5c['height'],'anchor':_0x3cfc5c['anchor']['clone'](),'pivot':_0x3cfc5c['pivot']['clone'](),'margin':_0x3cfc5c['margin']['clone'](),'alignment':_0x3cfc5c['alignment']&&_0x3cfc5c['alignment']['clone']()||_0x3cfc5c['alignment'],'autoWidth':_0x3cfc5c['autoWidth'],'autoHeight':_0x3cfc5c['autoHeight'],'type':_0x3cfc5c['type'],'rect':_0x3cfc5c['rect']&&_0x3cfc5c['rect']['clone']()||_0x3cfc5c['rect'],'rtlReorder':_0x3cfc5c['rtlReorder'],'unicodeConverter':_0x3cfc5c['unicodeCon'+'verter'],'materialAsset':_0x3cfc5c['materialAs'+'set'],'material':_0x3cfc5c['material'],'color':_0x3cfc5c['color']&&_0x3cfc5c['color']['clone']()||_0x3cfc5c['color'],'opacity':_0x3cfc5c['opacity'],'textureAsset':_0x3cfc5c['textureAss'+'et'],'texture':_0x3cfc5c['texture'],'spriteAsset':_0x3cfc5c['spriteAsse'+'t'],'sprite':_0x3cfc5c['sprite'],'spriteFrame':_0x3cfc5c['spriteFram'+'e'],'pixelsPerUnit':_0x3cfc5c['pixelsPerU'+'nit'],'spacing':_0x3cfc5c['spacing'],'lineHeight':_0x3cfc5c['lineHeight'],'wrapLines':_0x3cfc5c['wrapLines'],'layers':_0x3cfc5c['layers'],'fontSize':_0x3cfc5c['fontSize'],'minFontSize':_0x3cfc5c['minFontSiz'+'e'],'maxFontSize':_0x3cfc5c['maxFontSiz'+'e'],'autoFitWidth':_0x3cfc5c['autoFitWid'+'th'],'autoFitHeight':_0x3cfc5c['autoFitHei'+'ght'],'maxLines':_0x3cfc5c['maxLines'],'fontAsset':_0x3cfc5c['fontAsset'],'font':_0x3cfc5c['font'],'useInput':_0x3cfc5c['useInput'],'fitMode':_0x3cfc5c['fitMode'],'batchGroupId':_0x3cfc5c['batchGroup'+'Id'],'mask':_0x3cfc5c['mask'],'outlineColor':_0x3cfc5c['outlineCol'+'or']&&_0x3cfc5c['outlineCol'+'or']['clone']()||_0x3cfc5c['outlineCol'+'or'],'outlineThickness':_0x3cfc5c['outlineThi'+'ckness'],'shadowColor':_0x3cfc5c['shadowColo'+'r']&&_0x3cfc5c['shadowColo'+'r']['clone']()||_0x3cfc5c['shadowColo'+'r'],'shadowOffset':_0x3cfc5c['shadowOffs'+'et']&&_0x3cfc5c['shadowOffs'+'et']['clone']()||_0x3cfc5c['shadowOffs'+'et'],'enableMarkup':_0x3cfc5c['enableMark'+'up']};return _0x3cfc5c['key']!==void(-0x3e5+0x205c+0x15*-0x15b)&&_0x3cfc5c['key']!==null?_0x863988['key']=_0x3cfc5c['key']:_0x863988['text']=_0x3cfc5c['text'],this['addCompone'+'nt'](_0x2088c0,_0x863988);}['getTextEle'+'mentMateri'+'al'](_0x2b2b93,_0x488700,_0x2f47e1){const _0x45b532=(_0x2b2b93&&-0x13f2+-0x22f6+0x36e9)|(_0x488700&&0x30f+0x2*-0x509+0x257*0x3)|(_0x2f47e1&&-0x14a6+0x39*0x21+0xd51);let _0xb0072d=this['_defaultTe'+'xtMaterial'+'s'][_0x45b532];if(_0xb0072d)return _0xb0072d;let _0x3dc53d='TextMateri'+'al';return _0xb0072d=new _s(),_0x488700?(_0xb0072d['msdfMap']=this['_defaultTe'+'xture'],_0xb0072d['msdfTextAt'+'tribute']=_0x2f47e1,_0xb0072d['emissive']['set'](-0xe37*0x1+0x7*0x219+0x77*-0x1,0x5a7+0x1601+0x1*-0x1ba7,-0x20e+0x1331+-0x1122)):(_0x3dc53d='Bitmap'+_0x3dc53d,_0xb0072d['emissive']['set'](0x147b+0x2516+0x399*-0x10,-0x638+0x1*0x3f1+0x248,-0x1df7+0x4*-0x5f4+0x35c8),_0xb0072d['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0xb0072d['opacityMap']=this['_defaultTe'+'xture'],_0xb0072d['opacityMap'+'Channel']='a'),_0x2b2b93&&(_0x3dc53d='ScreenSpac'+'e'+_0x3dc53d,_0xb0072d['depthTest']=!(0xc0d*0x1+0x1718+0x34*-0xad)),_0xb0072d['name']='default'+_0x3dc53d,_0xb0072d['useLightin'+'g']=!(-0xe06+-0x82*-0x2d+-0x8d3),_0xb0072d['useTonemap']=!(-0x2015+-0x109b+0x30b1),_0xb0072d['useFog']=!(0x2*-0xe67+0x5*-0x721+0x64*0xa5),_0xb0072d['useSkybox']=!(0x742*-0x2+-0x7bb*0x2+0x1dfb),_0xb0072d['diffuse']['set'](-0x1e8e+0x1560+0xeb*0xa,-0x1*0x3ad+-0xf54+-0x23*-0x8b,-0x8f8*0x2+-0x183+-0x17f*-0xd),_0xb0072d['opacity']=0x1faf+0xe54+-0x2e03*0x1+0.5,_0xb0072d['blendType']=dn,_0xb0072d['depthWrite']=!(0x2080+0xe5e+-0x1*0x2edd),_0xb0072d['emissiveVe'+'rtexColor']=!(0xd*-0x1bb+0xd2b*0x2+-0x3d7),_0xb0072d['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x45b532]=_0xb0072d,_0xb0072d;}['_createBas'+'eImageMate'+'rial'](){const _0x45f007=new _s();return _0x45f007['diffuse']['set'](-0x1570+0x1411+0x15f,-0xa*0x15b+-0x259f+-0x3*-0x110f,-0x1ec8+0x270d+-0x845),_0x45f007['emissive']['set'](0x3e5+-0x1fea+-0x22*-0xd3,-0x37*0x1a+-0x1*-0x269e+-0x2107,-0x191f+-0x1840+0xa*0x4f0),_0x45f007['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x45f007['opacityMap']=this['_defaultTe'+'xture'],_0x45f007['opacityMap'+'Channel']='a',_0x45f007['useLightin'+'g']=!(-0x883*-0x4+-0x1e19+-0x3f2),_0x45f007['useTonemap']=!(-0x1d*-0x17+-0x1*-0x9d6+0x2*-0x638),_0x45f007['useFog']=!(-0x44*0x35+0x5*0x78e+-0x17b1),_0x45f007['useSkybox']=!(-0x7d1+-0x2*-0x482+-0x132),_0x45f007['blendType']=dn,_0x45f007['depthWrite']=!(0x107*0x26+0x1*0x1c5d+-0x2*0x21b3),_0x45f007;}['getImageEl'+'ementMater'+'ial'](_0x5df5be,_0x1c8ed7,_0x1ca9ff,_0x2c2bff){return _0x5df5be?_0x1c8ed7?_0x1ca9ff?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=ht,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0xf78+-0x22cf*-0x1+-0x10c2*0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0x511*0x1+-0x1687+-0x1177*-0x1,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x1*-0x2325+-0x1f38+-0x3ec),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x1334+0x1cdb+-0x2*0x1807),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(-0x6b*0x31+-0x12c*-0x7+0x418*0x3),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x1b25*0x1+0x43d+-0x1f61),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x2c2bff?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=st,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x1daf+0x1571+0x17*-0x239),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1*0x133+-0x4*-0x88+-0x4*0x3b,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x4c4+0x1*-0x694+0x1*0x1d1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0x1d9b*-0x1+0x123d+-0x2fd7),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x18*0x154+-0x8a5+-0x173a),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0x8be+0x371+0x54e),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(0x1b9a+0x2374+-0x1*0x3f0d),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0xd63+-0x1234+-0x1*-0x1f98,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x1e6e+-0x10bd*-0x2+-0x3fe7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0xad5+0x1*-0x12f1+-0x441*-0x7),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x1*-0x11d1+0x240b*-0x1+0x123b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x323*0x1+-0xbbb+0xedf),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x1ca9ff?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=ht,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x2529+-0x203e*0x1+0x4568),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x2c2bff?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=st,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x1*0xc85+-0x3b*-0x3b+0x7*-0x3bb),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0xb01+0x2*-0x855+0x1bac),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x1c8ed7?_0x1ca9ff?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=ht,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x867+0x1e8d+0x3b*-0xa9,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0x1690+-0x17c*-0x11+-0x2fcb),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(0x2006+-0x1240+-0xeb*0xf),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x446*0x1+0x180d+-0x13c6),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0x1822+0x13eb+-0x2*-0x21c),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x2c2bff?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=st,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0xdd2+-0x10eb+0x31a,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x1054+-0x7*0x2bb+0x2ca),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x4*0x851+0x8f0+-0x2a33),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x22b0+0x17*0x187+0x7*-0x10),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0x5*0x311+0x4*0x9a4+-0x173a),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=-0x83*0x44+-0xdb7+-0x26d*-0x14,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x36*-0x3f+-0x225+-0xb24),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x39b+0x234a+-0x1fae),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x16c1+0x247e+-0xdbc),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x1d11+0x15b6+-0x32c6),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x1ca9ff?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=ht,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x2c2bff?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=st,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x5bec4f){this['_unicodeCo'+'nverter']=_0x5bec4f;}['registerRt'+'lReorder'](_0x1d671d){this['_rtlReorde'+'r']=_0x1d671d;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Gn='free',Hn='limited',Wn='locked',VR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class Wp extends pe{constructor(_0x50c7b3,_0x231610){super(_0x50c7b3,_0x231610),b['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(-0x755+-0x2*-0xf92+-0x109*0x17),this['_linearMot'+'ionX']=Wn,this['_linearLim'+'itsX']=new W(-0xb*-0xd6+0x1*-0x1a49+-0x5*-0x36b,0x2029*0x1+-0x15ff+-0xa2a),this['_linearSpr'+'ingX']=!(0x16d+0x4*0x7a5+-0x2000),this['_linearSti'+'ffnessX']=-0x3*0x2b6+-0x2112+0x24a*0x12,this['_linearDam'+'pingX']=0xcd+0x1c3b+-0x1d07,this['_linearEqu'+'ilibriumX']=-0x3*0x99d+-0xd20+0x29f7,this['_linearMot'+'ionY']=Wn,this['_linearLim'+'itsY']=new W(0xe*-0x137+-0x8b*0x21+-0x1*-0x22ed,0x53*-0x4a+-0x107*-0xa+0x2*0x6dc),this['_linearSpr'+'ingY']=!(-0x268d+0x15c4+0x10ca),this['_linearSti'+'ffnessY']=0x1*-0xf2d+0x6*-0x31d+0x21db,this['_linearDam'+'pingY']=-0x10ca+-0x1d32+-0x3d*-0xc1,this['_linearEqu'+'ilibriumY']=-0x3*0x89b+-0xf*-0xdd+0xcde,this['_linearMot'+'ionZ']=Wn,this['_linearLim'+'itsZ']=new W(-0x4c5+-0x94e+0x4b1*0x3,-0x2543*0x1+0x18bd+0xc86),this['_linearSpr'+'ingZ']=!(-0x7*-0x347+-0xf81+-0x76f),this['_linearSti'+'ffnessZ']=-0x2a5*-0x2+-0x2*-0xd8b+0x1*-0x2060,this['_linearDam'+'pingZ']=-0x1*0x14d+0x2295+-0x2147*0x1,this['_linearEqu'+'ilibriumZ']=-0x2399+0x156f+-0x103*-0xe,this['_angularMo'+'tionX']=Wn,this['_angularLi'+'mitsX']=new W(-0xf67+-0x1b23+0x2a8a,-0x18ff+-0x266e+-0x1*-0x3f6d),this['_angularSp'+'ringX']=!(0x1*0x103d+0x189f+-0x28db*0x1),this['_angularSt'+'iffnessX']=0xca7+-0x1e9*-0x11+0x5a4*-0x8,this['_angularDa'+'mpingX']=0x791+-0x215b+-0xd5*-0x1f,this['_angularEq'+'uilibriumX']=-0xd*-0x22d+-0x1*-0x1eb0+-0x3af9,this['_angularMo'+'tionY']=Wn,this['_angularLi'+'mitsY']=new W(0x146d+0x1212*-0x1+-0x1*0x25b,0x598+-0x962*0x4+-0x1*-0x1ff0),this['_angularSp'+'ringY']=!(-0x1f30+0x756*-0x1+-0x2687*-0x1),this['_angularSt'+'iffnessY']=-0x1*-0x499+0x42f+-0x232*0x4,this['_angularDa'+'mpingY']=-0x14df+-0x4d9+0x19b9,this['_angularEq'+'uilibriumY']=0x2*-0x84b+-0x8*-0xf1+0x90e,this['_angularMo'+'tionZ']=Wn,this['_angularLi'+'mitsZ']=new W(-0x887+0x653*0x3+0x1*-0xa72,0x59*0x24+0x2d*-0x3a+-0x252),this['_angularSp'+'ringZ']=!(0xb*0x71+-0x15ab+0x10d1),this['_angularEq'+'uilibriumZ']=0x37*-0x5+0x2179+0xd*-0x27e,this['_angularDa'+'mpingZ']=0x6d3+-0x502*-0x5+0xfee*-0x2,this['_angularSt'+'iffnessZ']=-0x153c+0x1f39+0x9fd*-0x1,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x41504a){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x41504a,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x4d648c){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x4d648c,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x4ff04c){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x4ff04c&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x4ff04c),this['_breakForc'+'e']=_0x4ff04c);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x3ca533){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x3ca533,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x360c65){this['_angularLi'+'mitsX']['equals'](_0x360c65)||(this['_angularLi'+'mitsX']['copy'](_0x360c65),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x4eeb4){this['_angularMo'+'tionX']!==_0x4eeb4&&(this['_angularMo'+'tionX']=_0x4eeb4,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x3b5c79){this['_angularLi'+'mitsY']['equals'](_0x3b5c79)||(this['_angularLi'+'mitsY']['copy'](_0x3b5c79),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0xda885b){this['_angularMo'+'tionY']!==_0xda885b&&(this['_angularMo'+'tionY']=_0xda885b,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x410106){this['_angularLi'+'mitsZ']['equals'](_0x410106)||(this['_angularLi'+'mitsZ']['copy'](_0x410106),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x212919){this['_angularMo'+'tionZ']!==_0x212919&&(this['_angularMo'+'tionZ']=_0x212919,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x57288f){this['_linearLim'+'itsX']['equals'](_0x57288f)||(this['_linearLim'+'itsX']['copy'](_0x57288f),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x5c70d2){this['_linearMot'+'ionX']!==_0x5c70d2&&(this['_linearMot'+'ionX']=_0x5c70d2,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x2e1d26){this['_linearLim'+'itsY']['equals'](_0x2e1d26)||(this['_linearLim'+'itsY']['copy'](_0x2e1d26),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x499bbe){this['_linearMot'+'ionY']!==_0x499bbe&&(this['_linearMot'+'ionY']=_0x499bbe,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x345cdf){this['_linearLim'+'itsZ']['equals'](_0x345cdf)||(this['_linearLim'+'itsZ']['copy'](_0x345cdf),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x42305c){this['_linearMot'+'ionZ']!==_0x42305c&&(this['_linearMot'+'ionZ']=_0x42305c,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x2090e8,_0xa6f152){const _0x4eeb44=_0x2090e8['getTransla'+'tion'](),_0x559d35=new ie();_0x559d35['setFromMat'+'4'](_0x2090e8);const _0xfc2536=new Ammo['btVector3'](_0x4eeb44['x'],_0x4eeb44['y'],_0x4eeb44['z']),_0x4205cb=new Ammo['btQuaterni'+'on'](_0x559d35['x'],_0x559d35['y'],_0x559d35['z'],_0x559d35['w']);_0xa6f152['setOrigin'](_0xfc2536),_0xa6f152['setRotatio'+'n'](_0x4205cb),Ammo['destroy'](_0xfc2536),Ammo['destroy'](_0x4205cb);}['_updateAng'+'ularLimits'](){const _0x34d103=this['_constrain'+'t'];if(_0x34d103){let _0x2db3f9,_0x572d30,_0x3681d4,_0x22269f,_0x594777,_0x29c735;this['_angularMo'+'tionX']===Hn?(_0x2db3f9=this['_angularLi'+'mitsX']['x']*z['DEG_TO_RAD'],_0x22269f=this['_angularLi'+'mitsX']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionX']===Gn?(_0x2db3f9=0xa1d+-0x1330+-0x4*-0x245,_0x22269f=-0x1*0x15fd+-0x1*-0x53f+-0x85f*-0x2):_0x2db3f9=_0x22269f=-0x1a87+-0x59*0x16+0x222d,this['_angularMo'+'tionY']===Hn?(_0x572d30=this['_angularLi'+'mitsY']['x']*z['DEG_TO_RAD'],_0x594777=this['_angularLi'+'mitsY']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionY']===Gn?(_0x572d30=-0x2480+0x17*0x17+0x2270,_0x594777=-0x21d*-0x3+0x1*0x16d+-0x7c4):_0x572d30=_0x594777=-0x24df+0x11ba+-0x1*-0x1325,this['_angularMo'+'tionZ']===Hn?(_0x3681d4=this['_angularLi'+'mitsZ']['x']*z['DEG_TO_RAD'],_0x29c735=this['_angularLi'+'mitsZ']['y']*z['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Gn?(_0x3681d4=0xb*0x260+-0xf80+-0x1*0xa9f,_0x29c735=-0x255c+0x1*0x215e+0x3fe):_0x3681d4=_0x29c735=-0x10b*0x1f+0x1*0xcb+0x1f8a;const _0x133480=new Ammo['btVector3'](_0x2db3f9,_0x572d30,_0x3681d4);_0x34d103['setAngular'+'LowerLimit'](_0x133480),_0x133480['setValue'](_0x22269f,_0x594777,_0x29c735),_0x34d103['setAngular'+'UpperLimit'](_0x133480),Ammo['destroy'](_0x133480);}}['_updateLin'+'earLimits'](){const _0x462af7=this['_constrain'+'t'];if(_0x462af7){let _0x5835c9,_0x274ab5,_0x58270c,_0x22a6c3,_0x4746a3,_0x4198ec;this['_linearMot'+'ionX']===Hn?(_0x5835c9=this['_linearLim'+'itsX']['x'],_0x22a6c3=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Gn?(_0x5835c9=0x25da+0x385*0x1+-0x1*0x295e,_0x22a6c3=-0xeae*-0x1+0x184e+-0x26fc):_0x5835c9=_0x22a6c3=0x1134*0x1+0x2252+0x3386*-0x1,this['_linearMot'+'ionY']===Hn?(_0x274ab5=this['_linearLim'+'itsY']['x'],_0x4746a3=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Gn?(_0x274ab5=-0x1*0xe9+-0x6c5*-0x5+-0x1*0x20ef,_0x4746a3=-0x59*-0x70+-0x4*-0x436+-0x37c8):_0x274ab5=_0x4746a3=0x2377+-0x2a*-0xbe+-0x1*0x42a3,this['_linearMot'+'ionZ']===Hn?(_0x58270c=this['_linearLim'+'itsZ']['x'],_0x4198ec=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Gn?(_0x58270c=0x26bc+-0x1b97+0x4*-0x2c9,_0x4198ec=-0x16*0x103+-0xb3d*-0x3+-0x1a3*0x7):_0x58270c=_0x4198ec=0x201d+-0x1*0x2271+-0x4*-0x95;const _0x5b0729=new Ammo['btVector3'](_0x5835c9,_0x274ab5,_0x58270c);_0x462af7['setLinearL'+'owerLimit'](_0x5b0729),_0x5b0729['setValue'](_0x22a6c3,_0x4746a3,_0x4198ec),_0x462af7['setLinearU'+'pperLimit'](_0x5b0729),Ammo['destroy'](_0x5b0729);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x411bbf=new q(),_0x29d8d4=this['_entityA']['rigidbody']['body'];_0x29d8d4['activate']();const _0x25f814=this['entity']['getWorldTr'+'ansform'](),_0x274617=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x411bbf['mul2'](_0x274617,_0x25f814);const _0x578227=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x411bbf,_0x578227),this['_entityB']&&this['_entityB']['rigidbody']){const _0x57f999=this['_entityB']['rigidbody']['body'];_0x57f999['activate']();const _0xc8544=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x411bbf['mul2'](_0xc8544,_0x25f814);const _0x4bc63a=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x411bbf,_0x4bc63a),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x29d8d4,_0x57f999,_0x578227,_0x4bc63a,!this['_enableCol'+'lision']),Ammo['destroy'](_0x4bc63a);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x29d8d4,_0x578227,!this['_enableCol'+'lision']);Ammo['destroy'](_0x578227);const _0x287133=['X','Y','Z','X','Y','Z'];for(let _0x36045b=-0x24ef+-0xf9*0x11+0x3578;_0x36045b<-0x1d06+-0x2427+-0x4133*-0x1;_0x36045b++){const _0x33c719=_0x36045b<-0x1*-0x3d2+-0x2b3*-0x6+-0x239*0x9?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x36045b,this[_0x33c719+'Spring'+_0x287133[_0x36045b]]),this['_constrain'+'t']['setDamping'](_0x36045b,this[_0x33c719+'Damping'+_0x287133[_0x36045b]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x36045b,this[_0x33c719+('Equilibriu'+'m')+_0x287133[_0x36045b]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x36045b,this[_0x33c719+'Stiffness'+_0x287133[_0x36045b]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x13fdfd){for(const _0x48a281 of VR)_0x13fdfd['hasOwnProp'+'erty'](_0x48a281)&&(_0x13fdfd[_0x48a281]instanceof W?this['_'+_0x48a281]['copy'](_0x13fdfd[_0x48a281]):this['_'+_0x48a281]=_0x13fdfd[_0x48a281]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x3b6ff3,_0x5f2c40,_0x22cadf){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const GR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x317f60=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x5d8ee3=>{['X','Y','Z']['forEach'](_0x3a47c2=>{const _0x4b75a4=_0x317f60+_0x5d8ee3+_0x3a47c2,_0x44a6e7='_'+_0x4b75a4;let _0x16af55=_0x317f60==='linear'?-0x3*0x8f5+0x107f*0x2+-0x61f:-0x3*0x71b+-0x6*-0x317+0x2ca;_0x3a47c2==='Y'&&(_0x16af55+=-0x14a1*-0x1+0x1*0x21e5+-0x3685),_0x3a47c2==='Z'&&(_0x16af55+=-0x1e7e+-0x1*-0xbed+-0x1293*-0x1),Object['defineProp'+'erty'](Wp['prototype'],_0x4b75a4,{'get':function(){return this[_0x44a6e7];},'set':function(_0x53f8fc){this[_0x44a6e7]!==_0x53f8fc&&(this[_0x44a6e7]=_0x53f8fc,this['_constrain'+'t'][GR[_0x5d8ee3]](_0x16af55,_0x53f8fc));}});});});});class HR{constructor(){this['enabled']=!(0x2*-0x141+0x1*0x13b4+-0x1132);}}const _f=['enabled'];class WR extends Qe{constructor(_0x2a8f6c){super(_0x2a8f6c),this['id']='joint',this['app']=_0x2a8f6c,this['ComponentT'+'ype']=Wp,this['DataType']=HR,this['schema']=_f;}['initialize'+'ComponentD'+'ata'](_0x16402a,_0x5bc980,_0x2f31fb){_0x16402a['initFromDa'+'ta'](_0x5bc980),super['initialize'+'ComponentD'+'ata'](_0x16402a,_0x5bc980,_f);}}pe['_buildAcce'+'ssors'](Wp['prototype'],_f);class ax extends pe{constructor(){super(...arguments),c(this,'_minWidth',0xc11*-0x3+0x1d2c+0x707*0x1),c(this,'_minHeight',-0x1000+0x1*-0x1803+0x2803),c(this,'_maxWidth',null),c(this,'_maxHeight',null),c(this,'_fitWidthP'+'roportion',0x5cd*0x4+0x260+0xcca*-0x2),c(this,'_fitHeight'+'Proportion',-0x2*0x539+0xe54+0x3e2*-0x1),c(this,'_excludeFr'+'omLayout',!(-0x8bd+0x76*-0x4a+-0x156d*-0x2));}set['minWidth'](_0x53fb9d){_0x53fb9d!==this['_minWidth']&&(this['_minWidth']=_0x53fb9d,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x99393b){_0x99393b!==this['_minHeight']&&(this['_minHeight']=_0x99393b,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x345d8c){_0x345d8c!==this['_maxWidth']&&(this['_maxWidth']=_0x345d8c,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x15c387){_0x15c387!==this['_maxHeight']&&(this['_maxHeight']=_0x15c387,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x5f303e){_0x5f303e!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x5f303e,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x1e04a0){_0x1e04a0!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x1e04a0,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x44e019){_0x44e019!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x44e019,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class $R{constructor(){this['enabled']=!(-0xa*0x26+0x2c*0xd5+-0x20*0x119);}}const ox=['enabled'];class qR extends Qe{constructor(_0x120b95){super(_0x120b95),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=ax,this['DataType']=$R,this['schema']=ox;}['initialize'+'ComponentD'+'ata'](_0x171e76,_0x482470,_0x2becb8){_0x482470['enabled']!==void(-0xb3*-0x6+-0x10*-0xa9+-0x761*0x2)&&(_0x171e76['enabled']=_0x482470['enabled']),_0x482470['minWidth']!==void(0x1*0x1a33+0xd72*0x1+-0x27a5)&&(_0x171e76['minWidth']=_0x482470['minWidth']),_0x482470['minHeight']!==void(-0x2147+0x978*0x2+-0x1*-0xe57)&&(_0x171e76['minHeight']=_0x482470['minHeight']),_0x482470['maxWidth']!==void(0x801*0x1+-0x1*-0x1d99+-0x259a)&&(_0x171e76['maxWidth']=_0x482470['maxWidth']),_0x482470['maxHeight']!==void(-0x1be0+-0x1c66+0x15*0x2ae)&&(_0x171e76['maxHeight']=_0x482470['maxHeight']),_0x482470['fitWidthPr'+'oportion']!==void(-0x195+0xdcd*0x1+0x2e*-0x44)&&(_0x171e76['fitWidthPr'+'oportion']=_0x482470['fitWidthPr'+'oportion']),_0x482470['fitHeightP'+'roportion']!==void(0x6d*0x4a+-0x19d5*0x1+-0x5ad)&&(_0x171e76['fitHeightP'+'roportion']=_0x482470['fitHeightP'+'roportion']),_0x482470['excludeFro'+'mLayout']!==void(0x1bba+0x18f6+0x1*-0x34b0)&&(_0x171e76['excludeFro'+'mLayout']=_0x482470['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x171e76,_0x482470,_0x2becb8);}['cloneCompo'+'nent'](_0x46f692,_0x324632){const _0x170669=_0x46f692['layoutchil'+'d'];return this['addCompone'+'nt'](_0x324632,{'enabled':_0x170669['enabled'],'minWidth':_0x170669['minWidth'],'minHeight':_0x170669['minHeight'],'maxWidth':_0x170669['maxWidth'],'maxHeight':_0x170669['maxHeight'],'fitWidthProportion':_0x170669['fitWidthPr'+'oportion'],'fitHeightProportion':_0x170669['fitHeightP'+'roportion'],'excludeFromLayout':_0x170669['excludeFro'+'mLayout']});}}pe['_buildAcce'+'ssors'](ax['prototype'],ox);const gf=-0x24e6+0x15e9*-0x1+0x3acf*0x1,XR=0x1359+-0x8b*-0x2+-0x146e,yg=-0x2698+-0x18af+-0x3f49*-0x1,jR=0xac*0x8+0xe22+-0x137f,sc={};sc[ye]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},sc[Ve]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const $p={};$p[ye]=Ve,$p[Ve]=ye;const YR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},Xt={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},jt=new W();function lx(_0x5f2624){let _0x58302f;const _0x11031e=sc[_0x5f2624],_0x2bbbb8=sc[$p[_0x5f2624]];function _0x2c3c3d(_0x2ab7f9,_0x33b812){return-_0x33b812[_0x11031e['size']]*_0x2ab7f9['pivot'][_0x11031e['axis']];}function _0x31107e(_0x11eee0,_0x14a8e4){return-_0x14a8e4[_0x2bbbb8['size']]*_0x11eee0['pivot'][_0x2bbbb8['axis']];}function _0x1229d2(_0x326dba,_0x1498c8){return _0x1498c8[_0x11031e['size']]*(-0x13f9+0x58f+-0x1*-0xe6b-_0x326dba['pivot'][_0x11031e['axis']]);}function _0x1a7740(_0x2ab8cd,_0x2b98f0){_0x2ab8cd=_0x2ab8cd['filter'](_0x19f451),_0x58302f=_0x2b98f0,jt['x']=_0x58302f['containerS'+'ize']['x']-_0x58302f['padding']['x']-_0x58302f['padding']['z'],jt['y']=_0x58302f['containerS'+'ize']['y']-_0x58302f['padding']['y']-_0x58302f['padding']['w'],_0x2cf6db(_0x2ab8cd);const _0x4c9260=_0x5e6ff5(_0x40feca(_0x2ab8cd)),_0x252aed=_0x4c9f4b(_0x4c9260,_0x5cc34e(_0x4c9260)),_0x3f1a38=_0x5440ad(_0x4c9260,_0x252aed);return _0xdca28(_0x4c9260,_0x252aed,_0x3f1a38),_0x1eee71(_0x4c9260,_0x252aed,_0x3f1a38),_0x15432b(_0x4c9260);}function _0x19f451(_0x24bf0b){const _0x22be30=_0x24bf0b['entity']['layoutchil'+'d'];return!_0x22be30||!_0x22be30['enabled']||!_0x22be30['excludeFro'+'mLayout'];}function _0x2cf6db(_0x3894d5){for(let _0x33b793=-0x8d*-0x1f+-0x218+-0xefb;_0x33b793<_0x3894d5['length'];++_0x33b793){const _0x3325a4=_0x3894d5[_0x33b793],_0x15873b=_0x3325a4['anchor'];(_0x15873b['x']!==0x51c+0x218*0x7+-0x6e*0x2e||_0x15873b['y']!==-0xa4f+0x645+0x40a||_0x15873b['z']!==0x789*0x5+0x1*-0x2e6+-0x22c7||_0x15873b['w']!==-0x387*0xb+-0x3*-0xaed+0x1*0x606)&&(_0x3325a4['anchor']=ee['ZERO']);}}function _0x40feca(_0x177ff4){if(!_0x58302f['wrap'])return[_0x177ff4];const _0x4e2332=[[]],_0x1609f1=_0x42318d(_0x177ff4);let _0x223d89=0xe34+-0x29*-0xbe+0x1651*-0x2;const _0x13c0ef=_0x58302f[_0x11031e['fitting']]===yg;for(let _0x46f20c=-0x18e0+-0x1*-0xe08+0xad8;_0x46f20c<_0x177ff4['length'];++_0x46f20c){_0x4e2332[_0x4e2332['length']-(-0x1faa+-0x1098+-0x23*-0x161)]['length']>-0x4e*0x35+-0xcd9*0x1+-0x1*-0x1cff&&(_0x223d89+=_0x58302f['spacing'][_0x11031e['axis']]);const _0x41ee0b=_0x1609f1[_0x46f20c][_0x11031e['size']];_0x223d89+=_0x41ee0b,!_0x13c0ef&&_0x223d89>jt[_0x11031e['axis']]&&_0x4e2332[_0x4e2332['length']-(-0xe44*-0x1+0x1*0xe4b+0xe47*-0x2)]['length']!==-0x1105*-0x1+-0x440+0xcc5*-0x1&&(_0x223d89=_0x41ee0b,_0x4e2332['push']([])),_0x4e2332[_0x4e2332['length']-(0x352*0x6+-0xb66*-0x1+-0x1f51)]['push'](_0x177ff4[_0x46f20c]),_0x13c0ef&&_0x223d89>jt[_0x11031e['axis']]&&_0x46f20c!==_0x177ff4['length']-(-0x1*0x84b+-0x821+0x106d)&&(_0x223d89=-0x976+-0xe9b+0x1811,_0x4e2332['push']([]));}return _0x4e2332;}function _0x5e6ff5(_0x4f29e3){const _0x1a183a=_0x58302f['orientatio'+'n']===ye&&_0x58302f['reverseX']||_0x58302f['orientatio'+'n']===Ve&&_0x58302f['reverseY'],_0x3e9d5d=_0x58302f['orientatio'+'n']===ye&&_0x58302f['reverseY']||_0x58302f['orientatio'+'n']===Ve&&_0x58302f['reverseX'];if(_0x1a183a){for(let _0x50adcd=-0x196b+0x1d47+-0x3dc;_0x50adcd<_0x4f29e3['length'];++_0x50adcd)_0x1a183a&&_0x4f29e3[_0x50adcd]['reverse']();}return _0x3e9d5d&&_0x4f29e3['reverse'](),_0x4f29e3;}function _0x5cc34e(_0x438247){const _0xf7930b=[];for(let _0x4a96d8=-0x26e7+0xaf9*-0x1+0x214*0x18;_0x4a96d8<_0x438247['length'];++_0x4a96d8){const _0x5d4dcf=_0x438247[_0x4a96d8],_0x598948=_0x42318d(_0x5d4dcf),_0x41c080=_0x1258e0(_0x598948,_0x11031e),_0x3e4d4b=_0x5093f0(_0x58302f[_0x11031e['fitting']],_0x41c080,jt[_0x11031e['axis']]);_0x3e4d4b===Xt['APPLY_STRE'+'TCHING']?_0x563840(_0x598948,_0x41c080,_0x11031e):_0x3e4d4b===Xt['APPLY_SHRI'+'NKING']&&_0x4a87f3(_0x598948,_0x41c080,_0x11031e),_0xf7930b['push'](_0x598948);}return _0xf7930b;}function _0x4c9f4b(_0x2637d8,_0x1fc51a){const _0x2abb85=[],_0x5cb5dd=[];for(let _0x10712a=0x224f*0x1+-0x20b4+-0x19b;_0x10712a<_0x2637d8['length'];++_0x10712a){const _0x1c56ad=_0x2637d8[_0x10712a];_0x1c56ad['largestEle'+'ment']=null,_0x1c56ad['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x3c2402=-0x258a+-0x581*0x7+0x4c11;_0x3c2402<_0x1c56ad['length'];++_0x3c2402){const _0x1586a6=_0x1fc51a[_0x10712a][_0x3c2402];_0x1586a6[_0x2bbbb8['size']]>_0x1c56ad['largestSiz'+'e'][_0x2bbbb8['size']]&&(_0x1c56ad['largestEle'+'ment']=_0x1c56ad[_0x3c2402],_0x1c56ad['largestSiz'+'e']=_0x1586a6);}_0x2abb85['push'](_0x1c56ad['largestEle'+'ment']),_0x5cb5dd['push'](_0x1c56ad['largestSiz'+'e']);}const _0x4130bb=_0x1258e0(_0x5cb5dd,_0x2bbbb8),_0x3fbd4d=_0x5093f0(_0x58302f[_0x2bbbb8['fitting']],_0x4130bb,jt[_0x2bbbb8['axis']]);_0x3fbd4d===Xt['APPLY_STRE'+'TCHING']?_0x563840(_0x5cb5dd,_0x4130bb,_0x2bbbb8):_0x3fbd4d===Xt['APPLY_SHRI'+'NKING']&&_0x4a87f3(_0x5cb5dd,_0x4130bb,_0x2bbbb8);for(let _0x506a05=0x311*-0xa+-0x1a5*0x11+0x15d*0x2b;_0x506a05<_0x2637d8['length'];++_0x506a05){const _0x345fe0=_0x2637d8[_0x506a05];for(let _0x3c1f61=-0x3a2+0x20a9+-0x1d07;_0x3c1f61<_0x345fe0['length'];++_0x3c1f61){const _0xad3173=_0x1fc51a[_0x506a05][_0x3c1f61],_0x749d1c=_0xad3173[_0x2bbbb8['size']],_0x4fb073=_0x2637d8['length']===0x10*-0x26d+-0x9dd*-0x1+0x1cf4?jt[_0x2bbbb8['axis']]:_0x345fe0['largestSiz'+'e'][_0x2bbbb8['size']],_0x42c12c=_0x5093f0(_0x58302f[_0x2bbbb8['fitting']],_0x749d1c,_0x4fb073);_0x42c12c===Xt['APPLY_STRE'+'TCHING']?_0xad3173[_0x2bbbb8['size']]=Math['min'](_0x4fb073,_0xad3173[_0x2bbbb8['maxSize']]):_0x42c12c===Xt['APPLY_SHRI'+'NKING']&&(_0xad3173[_0x2bbbb8['size']]=Math['max'](_0x4fb073,_0xad3173[_0x2bbbb8['minSize']]));}}return _0x1fc51a;}function _0x5093f0(_0x18349e,_0x212b84,_0x11ef65){switch(_0x18349e){case gf:return Xt['NONE'];case XR:return _0x212b84<_0x11ef65?Xt['APPLY_STRE'+'TCHING']:Xt['NONE'];case yg:return _0x212b84>=_0x11ef65?Xt['APPLY_SHRI'+'NKING']:Xt['NONE'];case jR:return _0x212b84<_0x11ef65?Xt['APPLY_STRE'+'TCHING']:Xt['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x18349e);}}function _0x1258e0(_0x2ade58,_0x5982ad){const _0x4e348e=_0x4b6e2d(_0x2ade58,_0x5982ad['size']),_0x15b09e=(_0x2ade58['length']-(0x9c1+-0x1130+0x770))*_0x58302f['spacing'][_0x5982ad['axis']];return _0x4e348e+_0x15b09e;}function _0x563840(_0x15442a,_0xe4d07,_0x224a0d){const _0x51a47b=_0x433300(_0x15442a,_0x224a0d['maxSize']),_0x77953c=_0x443b58(_0x15442a,_0x224a0d['fittingPro'+'portion']),_0x4b0550=_0x4fd273(_0x77953c,_0x51a47b);let _0x54c47a=jt[_0x224a0d['axis']]-_0xe4d07;for(let _0x269443=-0x1e63+-0xeb3+-0xc7*-0x3a;_0x269443<_0x15442a['length'];++_0x269443){const _0x3bd7c3=_0x51a47b[_0x269443],_0x2902cf=_0x204c17(_0x3bd7c3,_0x54c47a,_0x77953c,_0x4b0550),_0x1aa0f8=_0x15442a[_0x3bd7c3][_0x224a0d['size']]+_0x2902cf,_0x3d79bd=_0x15442a[_0x3bd7c3][_0x224a0d['maxSize']],_0x3152c4=Math['min'](_0x1aa0f8,_0x3d79bd);_0x15442a[_0x3bd7c3][_0x224a0d['size']]=_0x3152c4;const _0x222ae0=Math['max'](_0x1aa0f8-_0x3152c4,-0x1a67+-0xf62+0x233*0x13),_0x24d52d=_0x2902cf-_0x222ae0;_0x54c47a-=_0x24d52d;}}function _0x4a87f3(_0x551da2,_0xef97e2,_0x31cdb6){const _0x577134=_0x433300(_0x551da2,_0x31cdb6['minSize'],!(0x1be3+0x3a1+0x4*-0x7e1)),_0x3299db=_0x443b58(_0x551da2,_0x31cdb6['fittingPro'+'portion']),_0x581584=_0x283b73(_0x3299db),_0x326ba8=_0x4fd273(_0x581584,_0x577134);let _0x168b8e=_0xef97e2-jt[_0x31cdb6['axis']];for(let _0xecb064=0x1c62+0xaaf+-0x2711;_0xecb064<_0x551da2['length'];++_0xecb064){const _0x33cf17=_0x577134[_0xecb064],_0x228965=_0x204c17(_0x33cf17,_0x168b8e,_0x581584,_0x326ba8),_0x13b105=_0x551da2[_0x33cf17][_0x31cdb6['size']]-_0x228965,_0x297350=_0x551da2[_0x33cf17][_0x31cdb6['minSize']],_0x4cf7c5=Math['max'](_0x13b105,_0x297350);_0x551da2[_0x33cf17][_0x31cdb6['size']]=_0x4cf7c5;const _0x5792fe=Math['max'](_0x4cf7c5-_0x13b105,0xc7*-0x11+-0x741*0x5+0x317c),_0x5d27e4=_0x228965-_0x5792fe;_0x168b8e-=_0x5d27e4;}}function _0x204c17(_0x30f0e0,_0x4b0abc,_0x372779,_0x26c392){const _0x3ae06c=_0x372779[_0x30f0e0],_0x1dae9e=_0x26c392[_0x30f0e0];return Math['abs'](_0x3ae06c)<0x25de+-0x1128+-0x14b6+0.00001&&Math['abs'](_0x1dae9e)<0x2638+-0x1951+-0xce7+0.00001?_0x4b0abc:_0x4b0abc*_0x3ae06c/_0x1dae9e;}function _0x5440ad(_0x11e84d,_0x4e3913){const _0x59ee87={};_0x59ee87[_0x11031e['axis']]=-0x5*-0x700+0x1bad+-0x5*0xc89,_0x59ee87[_0x2bbbb8['axis']]=0x35f*0x7+0x21a5+-0x393e,_0x11e84d[_0x11031e['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x10e95f=[];for(let _0x3baa92=-0x16d*-0xd+-0x2167+0xede;_0x3baa92<_0x11e84d['length'];++_0x3baa92){const _0x5de54c=_0x11e84d[_0x3baa92];if(_0x5de54c['length']===0x1a21+0xa7c+0xd*-0x2d1){_0x10e95f['push']([]);continue;}const _0x44ab74=[],_0x15161d=_0x4e3913[_0x3baa92];for(let _0x24fec6=0x2364+0xa4a+-0x2dae;_0x24fec6<_0x5de54c['length'];++_0x24fec6){const _0x397f4e=_0x5de54c[_0x24fec6],_0x1cec30=_0x15161d[_0x24fec6];_0x59ee87[_0x2bbbb8['axis']]-=_0x31107e(_0x397f4e,_0x1cec30),_0x59ee87[_0x11031e['axis']]-=_0x2c3c3d(_0x397f4e,_0x1cec30),_0x44ab74[_0x24fec6]={},_0x44ab74[_0x24fec6][_0x11031e['axis']]=_0x59ee87[_0x11031e['axis']],_0x44ab74[_0x24fec6][_0x2bbbb8['axis']]=_0x59ee87[_0x2bbbb8['axis']],_0x59ee87[_0x2bbbb8['axis']]+=_0x31107e(_0x397f4e,_0x1cec30),_0x59ee87[_0x11031e['axis']]+=_0x1229d2(_0x397f4e,_0x1cec30)+_0x58302f['spacing'][_0x11031e['axis']];}_0x5de54c[_0x11031e['size']]=_0x59ee87[_0x11031e['axis']]-_0x58302f['spacing'][_0x11031e['axis']],_0x5de54c[_0x2bbbb8['size']]=_0x5de54c['largestSiz'+'e'][_0x2bbbb8['size']],_0x11e84d[_0x11031e['size']]=Math['max'](_0x11e84d[_0x11031e['size']],_0x5de54c[_0x11031e['size']]),_0x59ee87[_0x11031e['axis']]=-0x3*-0xc42+-0x37a*0x2+0x1*-0x1dd2,_0x59ee87[_0x2bbbb8['axis']]+=_0x5de54c[_0x2bbbb8['size']]+_0x58302f['spacing'][_0x2bbbb8['axis']],_0x10e95f['push'](_0x44ab74);}return _0x11e84d[_0x2bbbb8['size']]=_0x59ee87[_0x2bbbb8['axis']]-_0x58302f['spacing'][_0x2bbbb8['axis']],_0x10e95f;}function _0xdca28(_0x4a7072,_0x54dee3,_0x383bed){const _0x505677=_0x58302f['alignment'][_0x11031e['axis']],_0x3abade=_0x58302f['alignment'][_0x2bbbb8['axis']],_0x272f94=_0x58302f['padding'][_0x11031e['axis']],_0x41f48d=_0x58302f['padding'][_0x2bbbb8['axis']];for(let _0x27b110=0x4a*0x7d+-0x1c6d+-0x7b5;_0x27b110<_0x4a7072['length'];++_0x27b110){const _0x5f2db8=_0x4a7072[_0x27b110],_0x5dbdda=_0x54dee3[_0x27b110],_0x248f8b=_0x383bed[_0x27b110],_0x2b564e=(jt[_0x11031e['axis']]-_0x5f2db8[_0x11031e['size']])*_0x505677+_0x272f94,_0x87214=(jt[_0x2bbbb8['axis']]-_0x4a7072[_0x2bbbb8['size']])*_0x3abade+_0x41f48d;for(let _0x455c16=-0x104e*0x2+0x1*0x1d66+0x336;_0x455c16<_0x5f2db8['length'];++_0x455c16){const _0x374214=(_0x5f2db8[_0x2bbbb8['size']]-_0x5dbdda[_0x455c16][_0x2bbbb8['size']])*_0x58302f['alignment'][_0x2bbbb8['axis']];_0x248f8b[_0x455c16][_0x11031e['axis']]+=_0x2b564e,_0x248f8b[_0x455c16][_0x2bbbb8['axis']]+=_0x87214+_0x374214;}}}function _0x1eee71(_0x4cb92c,_0x5cb629,_0x377c04){for(let _0x3759b1=-0x14d9*0x1+-0x103f*-0x1+0x49a;_0x3759b1<_0x4cb92c['length'];++_0x3759b1){const _0x3bd91c=_0x4cb92c[_0x3759b1],_0x3be51d=_0x5cb629[_0x3759b1],_0x5769d6=_0x377c04[_0x3759b1];for(let _0x1d14c5=0x3dd*0x5+-0xb2f*0x2+-0x30d*-0x1;_0x1d14c5<_0x3bd91c['length'];++_0x1d14c5){const _0x2b1aaf=_0x3bd91c[_0x1d14c5];_0x2b1aaf[_0x11031e['calculated'+'Size']]=_0x3be51d[_0x1d14c5][_0x11031e['size']],_0x2b1aaf[_0x2bbbb8['calculated'+'Size']]=_0x3be51d[_0x1d14c5][_0x2bbbb8['size']],_0x58302f['orientatio'+'n']===ye?_0x2b1aaf['entity']['setLocalPo'+'sition'](_0x5769d6[_0x1d14c5][_0x11031e['axis']],_0x5769d6[_0x1d14c5][_0x2bbbb8['axis']],_0x2b1aaf['entity']['getLocalPo'+'sition']()['z']):_0x2b1aaf['entity']['setLocalPo'+'sition'](_0x5769d6[_0x1d14c5][_0x2bbbb8['axis']],_0x5769d6[_0x1d14c5][_0x11031e['axis']],_0x2b1aaf['entity']['getLocalPo'+'sition']()['z']);}}}function _0x15432b(_0x4a1fd1){const _0xcbf7e3=_0x4a1fd1['width'],_0x22024c=_0x4a1fd1['height'],_0x4c1f5c=(jt['x']-_0xcbf7e3)*_0x58302f['alignment']['x']+_0x58302f['padding']['x'],_0x36befd=(jt['y']-_0x22024c)*_0x58302f['alignment']['y']+_0x58302f['padding']['y'];return{'bounds':new ee(_0x4c1f5c,_0x36befd,_0xcbf7e3,_0x22024c)};}function _0x42318d(_0x2e3506){const _0x208df2=[];for(let _0x530bf5=0x867+-0x205c+0x17f5;_0x530bf5<_0x2e3506['length'];++_0x530bf5){const _0x59e622=_0x2e3506[_0x530bf5],_0x296a2f=Math['max'](_0x34c05f(_0x59e622,'minWidth'),-0x535+-0x1*0x1725+0x1c5a),_0x67569c=Math['max'](_0x34c05f(_0x59e622,'minHeight'),0x22c0+0x5*0x4f7+0x3b93*-0x1),_0x5e4a5c=Math['max'](_0x34c05f(_0x59e622,'maxWidth'),_0x296a2f),_0x4905dc=Math['max'](_0x34c05f(_0x59e622,'maxHeight'),_0x67569c),_0x5abc21=_0x453cd3(_0x34c05f(_0x59e622,'width'),_0x296a2f,_0x5e4a5c),_0x13568b=_0x453cd3(_0x34c05f(_0x59e622,'height'),_0x67569c,_0x4905dc),_0x1c27bb=_0x34c05f(_0x59e622,'fitWidthPr'+'oportion'),_0x122b80=_0x34c05f(_0x59e622,'fitHeightP'+'roportion');_0x208df2['push']({'minWidth':_0x296a2f,'minHeight':_0x67569c,'maxWidth':_0x5e4a5c,'maxHeight':_0x4905dc,'width':_0x5abc21,'height':_0x13568b,'fitWidthProportion':_0x1c27bb,'fitHeightProportion':_0x122b80});}return _0x208df2;}function _0x34c05f(_0x3b05ce,_0x57610c){const _0x67c44d=_0x3b05ce['entity']['layoutchil'+'d'];return _0x67c44d&&_0x67c44d['enabled']&&_0x67c44d[_0x57610c]!==void(0x35*0x9c+-0xb*0x107+-0x14ff)&&_0x67c44d[_0x57610c]!==null?_0x67c44d[_0x57610c]:_0x3b05ce[_0x57610c]!==void(0x4*-0x153+0xfd3+-0xa87)?_0x3b05ce[_0x57610c]:YR[_0x57610c];}function _0x453cd3(_0xe88b9f,_0x55976a,_0x45caac){return Math['min'](Math['max'](_0xe88b9f,_0x55976a),_0x45caac);}function _0x4b6e2d(_0x143e0d,_0x44019d){return _0x143e0d['reduce']((_0x15d146,_0x237ce6)=>_0x15d146+_0x237ce6[_0x44019d],-0x2c3*0x2+0x11a3+0x1bb*-0x7);}function _0x443b58(_0x3efa3e,_0x2e4b24){const _0x1c48f3=_0x4b6e2d(_0x3efa3e,_0x2e4b24),_0x527eff=[],_0x39d7ea=_0x3efa3e['length'];if(_0x1c48f3===0xa66+-0x4*-0x8be+-0x2*0x16af){for(let _0x45a024=-0x1cb2+0x235a+-0x6a8;_0x45a024<_0x39d7ea;++_0x45a024)_0x527eff['push']((-0x234a+-0xd25+0x3070)/_0x39d7ea);}else{for(let _0x5738a2=0x2*-0x11f5+0x1bda+0x408*0x2;_0x5738a2<_0x39d7ea;++_0x5738a2)_0x527eff['push'](_0x3efa3e[_0x5738a2][_0x2e4b24]/_0x1c48f3);}return _0x527eff;}function _0x283b73(_0x5392ce){if(_0x5392ce['length']===0x1*0x2433+-0xcb5+-0x177d)return[-0xc24+-0x22ed*-0x1+-0x16c8];const _0x3ee262=[],_0xd935c3=_0x5392ce['length'];for(let _0x4c3aa3=0x785+0x1acd*0x1+-0x1*0x2252;_0x4c3aa3<_0xd935c3;++_0x4c3aa3)_0x3ee262['push']((0x1*0xc6d+0x2af*-0xa+-0x1e*-0x7b-_0x5392ce[_0x4c3aa3])/(_0xd935c3-(0x1c09*0x1+-0x4cc+0x1*-0x173c)));return _0x3ee262;}function _0x433300(_0x3a9f01,_0x2c91c1,_0x574814){return _0x3a9f01['forEach'](_0xfc7d39),_0x3a9f01['slice']()['sort']((_0x283b8e,_0x50da58)=>_0x574814?_0x50da58[_0x2c91c1]-_0x283b8e[_0x2c91c1]:_0x283b8e[_0x2c91c1]-_0x50da58[_0x2c91c1])['map'](_0x5b6e80);}function _0xfc7d39(_0x1171c9,_0x58809b){_0x1171c9['index']=_0x58809b;}function _0x5b6e80(_0x51d59d){return _0x51d59d['index'];}function _0x4fd273(_0x368792,_0xa2540){const _0x2e432=[];_0x2e432[_0xa2540[_0x368792['length']-(0x2480+-0x957+-0x1b28)]]=_0x368792[_0xa2540[_0x368792['length']-(-0x1b06+0x40b+-0x4*-0x5bf)]];for(let _0xe906cb=_0x368792['length']-(0x26b4+-0xf*-0x33+-0x29af);_0xe906cb>=-0x1d9*0x3+-0x2232*-0x1+0x9*-0x32f;--_0xe906cb)_0x2e432[_0xa2540[_0xe906cb]]=_0x2e432[_0xa2540[_0xe906cb+(0x188c+-0x1418+0x43*-0x11)]]+_0x368792[_0xa2540[_0xe906cb]];return _0x2e432;}return _0x1a7740;}const qp={};qp[ye]=lx(ye),qp[Ve]=lx(Ve);class KR{['calculateL'+'ayout'](_0x5479dc,_0x5951a4){const _0x2a4192=qp[_0x5951a4['orientatio'+'n']];if(_0x2a4192)return _0x2a4192(_0x5479dc,_0x5951a4);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x5951a4['orientatio'+'n']);}}function xg(_0x37ff64){return _0x37ff64['element'];}function ZR(_0x10d5c5){return _0x10d5c5['enabled']&&_0x10d5c5['element']&&_0x10d5c5['element']['enabled'];}class hx extends pe{constructor(_0x1b815e,_0x4a2f01){super(_0x1b815e,_0x4a2f01),c(this,'_orientati'+'on',ye),c(this,'_reverseX',!(-0x47*-0x88+-0x4*-0x99d+-0x4c2b*0x1)),c(this,'_reverseY',!(-0x2f9*-0xa+-0x3*0x6bb+0x989*-0x1)),c(this,'_alignment',new W(-0x1*-0x398+-0x245c+0x20c4,-0x9d8+0x794+0x245)),c(this,'_padding',new ee()),c(this,'_spacing',new W()),c(this,'_widthFitt'+'ing',gf),c(this,'_heightFit'+'ting',gf),c(this,'_wrap',!(0x29*-0x11+0x511*-0x3+0x11ed*0x1)),c(this,'_layoutCal'+'culator',new KR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x282d96=>{this['_listenFor'+'ReflowEven'+'ts'](_0x282d96,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),b['assert'](_0x1b815e['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x1b815e['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x1b815e['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),b['assert'](_0x1b815e['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x1b815e['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x1b815e['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x2eec9b){_0x2eec9b!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x2eec9b,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x38d174){_0x38d174!==this['_reverseX']&&(this['_reverseX']=_0x38d174,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x3a5c95){_0x3a5c95!==this['_reverseY']&&(this['_reverseY']=_0x3a5c95,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x412c56){_0x412c56['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x412c56),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x32a7e){_0x32a7e['equals'](this['_padding'])||(this['_padding']['copy'](_0x32a7e),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x4e4f19){_0x4e4f19['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x4e4f19),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x10af1e){_0x10af1e!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x10af1e,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x3a52ad){_0x3a52ad!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x3a52ad,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x57c176){_0x57c176!==this['_wrap']&&(this['_wrap']=_0x57c176,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x566ad8){return _0x566ad8===this['entity']||this['entity']['children']['indexOf'](_0x566ad8)!==-(0x32f+0xa10+-0xd3e);}['_listenFor'+'ReflowEven'+'ts'](_0x56205d,_0x443d89){_0x56205d['element']&&(_0x56205d['element'][_0x443d89]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x56205d['element'][_0x443d89]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x56205d['element'][_0x443d89]('resize',this['_scheduleR'+'eflow'],this),_0x56205d['element'][_0x443d89]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x56205d['layoutchil'+'d']&&(_0x56205d['layoutchil'+'d'][_0x443d89]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x56205d['layoutchil'+'d'][_0x443d89]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x1f62c5){this['_isSelfOrC'+'hild'](_0x1f62c5)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1f62c5,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x3f69de){this['_isSelfOrC'+'hild'](_0x3f69de)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x3f69de,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x291350){this['_listenFor'+'ReflowEven'+'ts'](_0x291350,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x2aa5dc){this['_listenFor'+'ReflowEven'+'ts'](_0x2aa5dc,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x1ec6df=xg(this['entity']),_0x31f7be=this['entity']['children']['filter'](ZR)['map'](xg);if(!_0x1ec6df||_0x31f7be['length']===0x9ac+0x25*-0x75+0x73d)return;const _0x30dd9f=Math['max'](_0x1ec6df['calculated'+'Width'],-0x1e96+-0x23*0xd5+0x3bb5),_0x3c39c9=Math['max'](_0x1ec6df['calculated'+'Height'],0x287+0x22e2+0x1*-0x2569),_0x513676={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new W(_0x30dd9f,_0x3c39c9)};this['_isPerform'+'ingReflow']=!(-0x17cb+0x60f+0x11bc);const _0x5ad1e6=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x31f7be,_0x513676);this['_isPerform'+'ingReflow']=!(0x1*-0x1ea3+0x581*-0x2+0x29a6),this['fire']('reflow',_0x5ad1e6);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x2c990f=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2c990f,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class QR{constructor(){this['enabled']=!(-0x1*-0x12b3+0x25*0xc1+-0x2e98*0x1);}}const cx=['enabled'],JR=-0x120+0xda*-0x22+0x1e78;class eI extends Qe{constructor(_0x32bbb3){super(_0x32bbb3),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=hx,this['DataType']=QR,this['schema']=cx,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x11cdf5,_0x59fe78,_0x1dda34){_0x59fe78['enabled']!==void(0x24b+0x1*-0x119b+0xf50)&&(_0x11cdf5['enabled']=_0x59fe78['enabled']),_0x59fe78['orientatio'+'n']!==void(0x2e6+-0x1f8a+0x6*0x4c6)&&(_0x11cdf5['orientatio'+'n']=_0x59fe78['orientatio'+'n']),_0x59fe78['reverseX']!==void(-0x1c7a+-0x5db+0x2255)&&(_0x11cdf5['reverseX']=_0x59fe78['reverseX']),_0x59fe78['reverseY']!==void(0xb3*-0x5+-0x1*-0xd51+0x9d2*-0x1)&&(_0x11cdf5['reverseY']=_0x59fe78['reverseY']),_0x59fe78['alignment']!==void(0x2*0x84a+0x3*0x6d3+-0x7*0x54b)&&(_0x11cdf5['alignment']=Array['isArray'](_0x59fe78['alignment'])?new W(_0x59fe78['alignment']):_0x59fe78['alignment']),_0x59fe78['padding']!==void(0x6*-0x36e+0x1058+0x43c)&&(_0x11cdf5['padding']=Array['isArray'](_0x59fe78['padding'])?new ee(_0x59fe78['padding']):_0x59fe78['padding']),_0x59fe78['spacing']!==void(-0x7*0x4e7+0x20ee+-0x47*-0x5)&&(_0x11cdf5['spacing']=Array['isArray'](_0x59fe78['spacing'])?new W(_0x59fe78['spacing']):_0x59fe78['spacing']),_0x59fe78['widthFitti'+'ng']!==void(0x3fe*-0x6+0x7*0x379+-0x5b)&&(_0x11cdf5['widthFitti'+'ng']=_0x59fe78['widthFitti'+'ng']),_0x59fe78['heightFitt'+'ing']!==void(-0xcf2*-0x2+0x8a6+-0x228a)&&(_0x11cdf5['heightFitt'+'ing']=_0x59fe78['heightFitt'+'ing']),_0x59fe78['wrap']!==void(-0x11cd+0xa7*0xe+0x8ab)&&(_0x11cdf5['wrap']=_0x59fe78['wrap']),super['initialize'+'ComponentD'+'ata'](_0x11cdf5,_0x59fe78,_0x1dda34);}['cloneCompo'+'nent'](_0x4a3763,_0x40c27d){const _0x15ad3c=_0x4a3763['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x40c27d,{'enabled':_0x15ad3c['enabled'],'orientation':_0x15ad3c['orientatio'+'n'],'reverseX':_0x15ad3c['reverseX'],'reverseY':_0x15ad3c['reverseY'],'alignment':_0x15ad3c['alignment'],'padding':_0x15ad3c['padding'],'spacing':_0x15ad3c['spacing'],'widthFitting':_0x15ad3c['widthFitti'+'ng'],'heightFitting':_0x15ad3c['heightFitt'+'ing'],'wrap':_0x15ad3c['wrap']});}['scheduleRe'+'flow'](_0xfa1b7){this['_reflowQue'+'ue']['indexOf'](_0xfa1b7)===-(-0x5d5+-0x19b*-0x16+-0x1d7c)&&this['_reflowQue'+'ue']['push'](_0xfa1b7);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0x2*0x1193+0x19fb+0x1*0x92b)return;let _0x3c1f6e=-0x4ab*-0x4+0xde*-0x2a+-0x8*-0x238;for(;this['_reflowQue'+'ue']['length']>-0x381*-0x7+0x8*-0x449+0x9c1;){const _0x318864=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0xd*-0x2+-0x81c+0x1*0x802,_0x318864['sort']((_0x5e8e3c,_0x3b00d8)=>_0x5e8e3c['entity']['graphDepth']-_0x3b00d8['entity']['graphDepth']);for(let _0x1ade68=0xf*-0x2a+0x1*-0x362+0x5d8;_0x1ade68<_0x318864['length'];++_0x1ade68)_0x318864[_0x1ade68]['reflow']();if(++_0x3c1f6e>=JR){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x330958,_0x58a66e){_0x58a66e['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}pe['_buildAcce'+'ssors'](hx['prototype'],cx);class tI{constructor(){c(this,'map',new Map());}['destroy'](_0x54d0f8){this['map']['forEach'](_0x25f1b8=>_0x25f1b8['mesh']['destroy']());}}const sI=new Ht(),dx=(_0x4a556f,_0xc306f4)=>{const _0x30c0dc=sI['get'](_0x4a556f,()=>new tI());let _0x3c0166=_0x30c0dc['map']['get'](_0xc306f4);if(!_0x3c0166){let _0x5a1fc0,_0x59eea3;switch(_0xc306f4){case'box':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new Yu()),_0x59eea3={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x1bb4+-0x10a*0x1a+-0x1e*-0x1d3)/(-0x1df6+0x1*-0x1a06+0x3d*0xeb)};break;case'capsule':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new M1({'radius':0.5,'height':0x2})),_0x59eea3={'x':Math['PI']*(-0x33b*-0x5+-0x1*0x25bd+-0x1*-0x1598),'y':Math['PI'],'z':Math['PI']*(0x128*0x1a+0x8e8+-0x26f6),'uv':(-0xd3c+0x186e+-0xb31)/(-0x1205+0xf09+0x2ff)+(0x1*-0xa65+0x570*-0x3+0x20e*0xd)/(0xd65+-0x42*-0x21+-0x74c*0x3)/(-0x338+0x1a1f+-0x16e4)*(0x1475+-0x1c4*-0x6+0xa59*-0x3)};break;case'cone':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new P1({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x59eea3={'x':2.54,'y':2.54,'z':2.54,'uv':(0xd28+-0x98*0x37+0x1381)/(0x26ce+-0x3*-0x544+0x145*-0x2b)+(0x5*0x6a2+0x4cf*0x1+0xd8*-0x2d)/(0x1*0x1bf5+0x15*-0x175+-0x7*-0x61)/(0xe0a+-0x1427+0x2*0x310)};break;case'cylinder':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new R1({'radius':0.5,'height':0x1})),_0x59eea3={'x':Math['PI'],'y':(0x259e+0x4a2+-0x2a40+0.79)*(-0x7*0x296+0x2*-0x31c+0x1854),'z':Math['PI'],'uv':(0x6c0*-0x1+0x2*-0xad+-0x81b*-0x1)/(-0xe6*-0x20+-0x1451*-0x1+-0x27*0x142)+(0x1*-0x40d+-0x2559+0x2967*0x1)/(0x16af+-0x1da8*0x1+0x6fc)/(-0x5*0x243+-0x1a2*0x4+0x11da)*(0x47c*-0x8+-0xe20*-0x1+0x45a*0x5)};break;case'plane':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new I1({'halfExtents':new W(0x15ac+-0x1*-0x1b64+0x5*-0x9d0+0.5,0x1d3*0x13+0x11b*0x1a+0x1*-0x3f67+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x59eea3={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new N0({'radius':0.5})),_0x59eea3={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x5a1fc0=ke['fromGeomet'+'ry'](_0x4a556f,new D1({'tubeRadius':0.2,'ringRadius':0.3})),_0x59eea3={'x':Math['PI']*(-0x499*-0x6+-0x3c5*0x4+-0xc82+0.5)*(-0x1817+0x2*0xe95+-0x513+0.5)-Math['PI']*(0x305+0x27c*-0x2+0x1f3*0x1+0.1)*(0x1054+-0x524+0xb3*-0x10+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0xc306f4);}_0x5a1fc0['incRefCoun'+'t'](),_0x3c0166={'mesh':_0x5a1fc0,'area':_0x59eea3},_0x30c0dc['map']['set'](_0xc306f4,_0x3c0166);}return _0x3c0166;};class ux extends pe{constructor(_0x33a9ed,_0xccb21d){super(_0x33a9ed,_0xccb21d),c(this,'_type','asset'),c(this,'_asset',null),c(this,'_model',null),c(this,'_mapping',{}),c(this,'_castShado'+'ws',!(-0xb*0xcb+0x24db+-0x1c22)),c(this,'_receiveSh'+'adows',!(-0x1*-0x243+-0x29d+0x5a)),c(this,'_materialA'+'sset',null),c(this,'_material'),c(this,'_castShado'+'wsLightmap',!(0x86d*0x2+-0x84c+0x1b6*-0x5)),c(this,'_lightmapp'+'ed',!(-0x3*-0x9d+0x4*0x991+0xb1*-0x3a)),c(this,'_lightmapS'+'izeMultipl'+'ier',0x8*0xd6+0x1fd*0x4+0x4e1*-0x3),c(this,'isStatic',!(0x4c*-0xa+0x1958+-0x165f)),c(this,'_layers',[zi]),c(this,'_batchGrou'+'pId',-(-0x1489+-0x25f6+0x3a80)),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_materialE'+'vents',null),c(this,'_clonedMod'+'el',!(0xa2b*0x3+-0x120+-0x1d60)),c(this,'_batchGrou'+'p',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x33a9ed['defaultMat'+'erial'],_0xccb21d['on']('remove',this['onRemoveCh'+'ild'],this),_0xccb21d['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0xccb21d['on']('insert',this['onInsertCh'+'ild'],this),_0xccb21d['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x3b7eb9){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x3b7eb9);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x50760e){if(this['_customAab'+'b']=_0x50760e,this['_model']){const _0x4cdbb0=this['_model']['meshInstan'+'ces'];if(_0x4cdbb0){for(let _0x2c83f9=-0x5*0x6cd+0x6f4+-0x115*-0x19;_0x2c83f9<_0x4cdbb0['length'];_0x2c83f9++)_0x4cdbb0[_0x2c83f9]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x4d6ed4){if(this['_type']!==_0x4d6ed4){if(this['_area']=null,this['_type']=_0x4d6ed4,_0x4d6ed4==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x2343ec=dx(this['system']['app']['graphicsDe'+'vice'],_0x4d6ed4);this['_area']=_0x2343ec['area'];const _0x2a31c0=_0x2343ec['mesh'],_0x3e0432=new Oe(),_0x594ade=new Ui();_0x594ade['graph']=_0x3e0432,_0x594ade['meshInstan'+'ces']=[new Be(_0x2a31c0,this['_material'],_0x3e0432)],this['model']=_0x594ade,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x5b8592){const _0x4f9db0=this['system']['app']['assets'];let _0xcd4dd5=_0x5b8592;if(_0x5b8592 instanceof he&&(_0xcd4dd5=_0x5b8592['id']),this['_asset']!==_0xcd4dd5){if(this['_asset']){_0x4f9db0['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x11f4c6=_0x4f9db0['get'](this['_asset']);_0x11f4c6&&this['_unbindMod'+'elAsset'](_0x11f4c6);}if(this['_asset']=_0xcd4dd5,this['_asset']){const _0x5c20a7=_0x4f9db0['get'](this['_asset']);_0x5c20a7?this['_bindModel'+'Asset'](_0x5c20a7):(this['model']=null,_0x4f9db0['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x3146a9){if(this['_model']!==_0x3146a9){if(_0x3146a9&&_0x3146a9['_immutable']){b['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x25*0xb+-0x1b76+-0x114*-0x18),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(-0x1e0*-0xa+0x3*0x91e+-0x2e19))),this['_model']=_0x3146a9,this['_model']){this['_model']['_immutable']=!(-0x1*-0xab1+0x9*-0x1a5+0x41c);const _0x20a6a9=this['_model']['meshInstan'+'ces'];for(let _0x3cc91a=-0x19*-0xe3+-0x1249*-0x1+-0x2874;_0x3cc91a<_0x20a6a9['length'];_0x3cc91a++)_0x20a6a9[_0x3cc91a]['castShadow']=this['_castShado'+'ws'],_0x20a6a9[_0x3cc91a]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x20a6a9[_0x3cc91a]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x301143){if(_0x301143!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x301143,this['_model'])){const _0x13f605=this['_model']['meshInstan'+'ces'];for(let _0x421c2c=0x3e3+0x114a+-0x152d*0x1;_0x421c2c<_0x13f605['length'];_0x421c2c++)_0x13f605[_0x421c2c]['setLightma'+'pped'](_0x301143);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x3958ca){if(this['_castShado'+'ws']===_0x3958ca)return;const _0x1169f4=this['_model'];if(_0x1169f4){const _0x1cf1ce=this['layers'],_0x54506a=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x3958ca)for(let _0x4840dc=-0x26b4+0x23e9+0x2cb;_0x4840dc<_0x1cf1ce['length'];_0x4840dc++){const _0x253cb8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4840dc]);_0x253cb8&&_0x253cb8['removeShad'+'owCasters'](_0x1169f4['meshInstan'+'ces']);}const _0x19b614=_0x1169f4['meshInstan'+'ces'];for(let _0x39fa0e=-0x3e*0x65+0x1c2b*0x1+-0xd*0x49;_0x39fa0e<_0x19b614['length'];_0x39fa0e++)_0x19b614[_0x39fa0e]['castShadow']=_0x3958ca;if(!this['_castShado'+'ws']&&_0x3958ca)for(let _0x17a6c5=-0x41e+0x1bb5+-0x1797;_0x17a6c5<_0x1cf1ce['length'];_0x17a6c5++){const _0x6a7189=_0x54506a['layers']['getLayerBy'+'Id'](_0x1cf1ce[_0x17a6c5]);_0x6a7189&&_0x6a7189['addShadowC'+'asters'](_0x1169f4['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x3958ca;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x3be3e1){if(this['_receiveSh'+'adows']!==_0x3be3e1&&(this['_receiveSh'+'adows']=_0x3be3e1,this['_model'])){const _0x9c699b=this['_model']['meshInstan'+'ces'];for(let _0x2b4120=0x158*0x10+0x1fa*-0xd+0xb3*0x6,_0x256c91=_0x9c699b['length'];_0x2b4120<_0x256c91;_0x2b4120++)_0x9c699b[_0x2b4120]['receiveSha'+'dow']=_0x3be3e1;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x241f77){this['_castShado'+'wsLightmap']=_0x241f77;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x29cb0b){this['_lightmapS'+'izeMultipl'+'ier']=_0x29cb0b;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x4ff97a){const _0x1673df=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x3c8de3=0x1319+-0x2277*0x1+0xe*0x119;_0x3c8de3<this['_layers']['length'];_0x3c8de3++){const _0xb5eef2=_0x1673df['getLayerBy'+'Id'](this['_layers'][_0x3c8de3]);_0xb5eef2&&_0xb5eef2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0x18b5+0x1603+-0x2eb8;for(let _0x4d356e=0x106*0x16+-0x1*0x1559+-0x12b;_0x4d356e<_0x4ff97a['length'];_0x4d356e++)this['_layers'][_0x4d356e]=_0x4ff97a[_0x4d356e];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x57924e=0xaa*0xf+-0xda5+0x1*0x3af;_0x57924e<this['_layers']['length'];_0x57924e++){const _0x562c09=_0x1673df['getLayerBy'+'Id'](this['_layers'][_0x57924e]);_0x562c09&&_0x562c09['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x460529){var _0x37c15f,_0x43d458;this['_batchGrou'+'pId']!==_0x460529&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1452+-0x3*0x7b1+0x3*0xeb&&((_0x37c15f=this['system']['app']['batcher'])==null||_0x37c15f['remove'](rt['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x460529>=-0x1b91+-0x13*-0xaf+0xe94&&((_0x43d458=this['system']['app']['batcher'])==null||_0x43d458['insert'](rt['MODEL'],_0x460529,this['entity'])),_0x460529<-0x1*-0x940+0x3aa*-0x5+0x6*0x183&&this['_batchGrou'+'pId']>=0xc26*-0x3+0x99*0x3+-0x1*-0x22a7&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x460529);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x2d99cb){let _0x2d09a0=_0x2d99cb;_0x2d99cb instanceof he&&(_0x2d09a0=_0x2d99cb['id']);const _0x17d921=this['system']['app']['assets'];if(_0x2d09a0!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x17d921['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x2176ed=_0x17d921['get'](this['_materialA'+'sset']);_0x2176ed&&this['_unbindMat'+'erialAsset'](_0x2176ed);}if(this['_materialA'+'sset']=_0x2d09a0,this['_materialA'+'sset']){const _0x74387e=_0x17d921['get'](this['_materialA'+'sset']);_0x74387e?this['_bindMater'+'ialAsset'](_0x74387e):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x17d921['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x5651d7){this['_material']!==_0x5651d7&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x5651d7));}get['material'](){return this['_material'];}set['mapping'](_0x9d8e7a){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x9d8e7a||(_0x9d8e7a={}),this['_mapping']=_0x9d8e7a,!this['_model']))return;const _0x46c539=this['_model']['meshInstan'+'ces'],_0x24aee3=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x1c98f3=_0x24aee3?_0x24aee3['data']['mapping']:null;let _0x3eef3d=null;for(let _0x23ec96=-0x2517+0x18f*0x1+0x18*0x17b,_0x2a296a=_0x46c539['length'];_0x23ec96<_0x2a296a;_0x23ec96++)if(_0x9d8e7a[_0x23ec96]!==void(-0x2629+-0x25bf+0x4be8))_0x9d8e7a[_0x23ec96]?(_0x3eef3d=this['system']['app']['assets']['get'](_0x9d8e7a[_0x23ec96]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3eef3d,_0x46c539[_0x23ec96],_0x23ec96)):_0x46c539[_0x23ec96]['material']=this['system']['defaultMat'+'erial'];else{if(_0x1c98f3){if(_0x1c98f3[_0x23ec96]&&(_0x1c98f3[_0x23ec96]['material']||_0x1c98f3[_0x23ec96]['path'])){if(_0x1c98f3[_0x23ec96]['material']!==void(-0x14fc+0x615+0xee7))_0x3eef3d=this['system']['app']['assets']['get'](_0x1c98f3[_0x23ec96]['material']);else{if(_0x1c98f3[_0x23ec96]['path']!==void(0x59*0x32+0x1b2e+-0x2c9*0x10)){const _0x454d93=this['_getMateri'+'alAssetUrl'](_0x1c98f3[_0x23ec96]['path']);_0x454d93&&(_0x3eef3d=this['system']['app']['assets']['getByUrl'](_0x454d93));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x3eef3d,_0x46c539[_0x23ec96],_0x23ec96);}else _0x46c539[_0x23ec96]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x3e9814=this['system']['app']['scene']['layers'];for(let _0x3d44f7=-0xd1f+-0x1a8c+0xf*0x2a5;_0x3d44f7<this['_layers']['length'];_0x3d44f7++){const _0x1257d5=_0x3e9814['getLayerBy'+'Id'](this['_layers'][_0x3d44f7]);_0x1257d5&&_0x1257d5['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x567661=this['system']['app']['scene']['layers'];for(let _0x565a40=0x11b3+-0xa31+-0x782*0x1;_0x565a40<this['_layers']['length'];_0x565a40++){const _0x14dba6=_0x567661['getLayerBy'+'Id'](this['_layers'][_0x565a40]);_0x14dba6&&_0x14dba6['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x595d22,_0x5f2810){this['addModelTo'+'Layers'](),_0x595d22['off']('add',this['onLayerAdd'+'ed'],this),_0x595d22['off']('remove',this['onLayerRem'+'oved'],this),_0x5f2810['on']('add',this['onLayerAdd'+'ed'],this),_0x5f2810['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x316ead){this['layers']['indexOf'](_0x316ead['id'])<0xe06+-0x1994+-0x5c7*-0x2||_0x316ead['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x58385b){this['layers']['indexOf'](_0x58385b['id'])<0x394+-0x21d1*0x1+-0x1*-0x1e3d||_0x58385b['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x13222e,_0x49d658,_0x236d5a,_0x351fe8){const _0x2b88f2=_0x49d658+':'+_0x236d5a;this['system']['app']['assets']['on'](_0x2b88f2,_0x351fe8,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x13222e]||(this['_materialE'+'vents'][_0x13222e]={}),this['_materialE'+'vents'][_0x13222e][_0x2b88f2]={'id':_0x236d5a,'handler':_0x351fe8};}['_unsetMate'+'rialEvents'](){const _0x3cd74e=this['system']['app']['assets'],_0x2822de=this['_materialE'+'vents'];if(_0x2822de){for(let _0x487dc7=-0x16*0x99+-0x11cb*-0x1+-0x1*0x4a5,_0x39a87f=_0x2822de['length'];_0x487dc7<_0x39a87f;_0x487dc7++){if(!_0x2822de[_0x487dc7])continue;const _0xa8ab21=_0x2822de[_0x487dc7];for(const _0xf60997 in _0xa8ab21)_0x3cd74e['off'](_0xf60997,_0xa8ab21[_0xf60997]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x10b3f2){let _0x5361eb=null;if(!isNaN(parseInt(_0x10b3f2,0x18db+0xe3f+0x7d*-0x50)))_0x5361eb=this['system']['app']['assets']['get'](_0x10b3f2);else{if(this['asset']){const _0x1bc94b=this['_getMateri'+'alAssetUrl'](_0x10b3f2);_0x1bc94b&&(_0x5361eb=this['system']['app']['assets']['getByUrl'](_0x1bc94b));}}return _0x5361eb;}['_getMateri'+'alAssetUrl'](_0x45dd98){if(!this['asset'])return null;const _0x412777=this['system']['app']['assets']['get'](this['asset']);return _0x412777?_0x412777['getAbsolut'+'eUrl'](_0x45dd98):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x47bb10,_0x374ed8,_0x754139){const _0x2a2802=this['system']['app']['assets'];_0x47bb10&&(_0x47bb10['resource']?(_0x374ed8['material']=_0x47bb10['resource'],this['_setMateri'+'alEvent'](_0x754139,'remove',_0x47bb10['id'],function(){_0x374ed8['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x754139,'load',_0x47bb10['id'],function(_0x5a57be){_0x374ed8['material']=_0x5a57be['resource'],this['_setMateri'+'alEvent'](_0x754139,'remove',_0x47bb10['id'],function(){_0x374ed8['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x2a2802['load'](_0x47bb10)));}['onEnable'](){var _0x55d55f;const _0xb036da=this['system']['app'],_0x11dfa0=_0xb036da['scene'],_0xaa779f=_0x11dfa0==null?void(0x1a53+0x1efd+-0x2*0x1ca8):_0x11dfa0['layers'];this['_evtLayers'+'Changed']=_0x11dfa0['on']('set:layers',this['onLayersCh'+'anged'],this),_0xaa779f&&(this['_evtLayerA'+'dded']=_0xaa779f['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xaa779f['on']('remove',this['onLayerRem'+'oved'],this));const _0x2144d2=this['_type']==='asset';let _0x1a1cc1;if(this['_model']?this['addModelTo'+'Layers']():_0x2144d2&&this['_asset']&&(_0x1a1cc1=_0xb036da['assets']['get'](this['_asset']),_0x1a1cc1&&_0x1a1cc1['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x1a1cc1)),this['_materialA'+'sset']&&(_0x1a1cc1=_0xb036da['assets']['get'](this['_materialA'+'sset']),_0x1a1cc1&&_0x1a1cc1['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x1a1cc1)),_0x2144d2&&this['_mapping']){for(const _0x552b95 in this['_mapping'])this['_mapping'][_0x552b95]&&(_0x1a1cc1=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x552b95]),_0x1a1cc1&&!_0x1a1cc1['resource']&&_0xb036da['assets']['load'](_0x1a1cc1));}this['_batchGrou'+'pId']>=0xbfc+0x1*-0x11ef+-0x5f3*-0x1&&((_0x55d55f=_0xb036da['batcher'])==null||_0x55d55f['insert'](rt['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x1d404c,_0xc10df3,_0x24103d,_0x29bc9c;const _0x17acbe=this['system']['app'],_0x5c458f=_0x17acbe['scene']['layers'];(_0x1d404c=this['_evtLayers'+'Changed'])==null||_0x1d404c['off'](),this['_evtLayers'+'Changed']=null,_0x5c458f&&((_0xc10df3=this['_evtLayerA'+'dded'])==null||_0xc10df3['off'](),this['_evtLayerA'+'dded']=null,(_0x24103d=this['_evtLayerR'+'emoved'])==null||_0x24103d['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x175*0x1+0x81*-0x2c+0x17a1&&((_0x29bc9c=_0x17acbe['batcher'])==null||_0x29bc9c['remove'](rt['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x4cef48=this['_model']['meshInstan'+'ces'];for(let _0x48acf5=0x33a+0x1af7+-0x83*0x3b,_0x15add4=_0x4cef48['length'];_0x48acf5<_0x15add4;_0x48acf5++)_0x4cef48[_0x48acf5]['visible']=!(-0x2*0xe5b+-0x18fb+0x35b2);}}['show'](){if(this['_model']){const _0x3587b7=this['_model']['meshInstan'+'ces'];for(let _0x1167b1=0x1a08+0x10*0x1e0+-0x701*0x8,_0x56a29a=_0x3587b7['length'];_0x1167b1<_0x56a29a;_0x1167b1++)_0x3587b7[_0x1167b1]['visible']=!(-0x146c+-0x17*-0x107+-0x335);}}['_bindMater'+'ialAsset'](_0x10f468){if(_0x10f468['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x10f468['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x10f468['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x10f468['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x10f468['resource'])this['_onMateria'+'lAssetLoad'](_0x10f468);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x10f468);}}['_unbindMat'+'erialAsset'](_0x4a0131){_0x4a0131['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4a0131['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4a0131['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4a0131['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x521d13){this['system']['app']['assets']['off']('add:'+_0x521d13['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x521d13['id']&&this['_bindMater'+'ialAsset'](_0x521d13);}['_onMateria'+'lAssetLoad'](_0x37e0fe){this['_setMateri'+'al'](_0x37e0fe['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x57fdd7){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x2e60c3){this['_onMateria'+'lAssetUnlo'+'ad'](_0x2e60c3);}['_onMateria'+'lAssetChan'+'ge'](_0x636da9){}['_bindModel'+'Asset'](_0x4295fa){if(this['_unbindMod'+'elAsset'](_0x4295fa),_0x4295fa['on']('load',this['_onModelAs'+'setLoad'],this),_0x4295fa['on']('unload',this['_onModelAs'+'setUnload'],this),_0x4295fa['on']('change',this['_onModelAs'+'setChange'],this),_0x4295fa['on']('remove',this['_onModelAs'+'setRemove'],this),_0x4295fa['resource'])this['_onModelAs'+'setLoad'](_0x4295fa);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4295fa);}}['_unbindMod'+'elAsset'](_0x2d986c){_0x2d986c['off']('load',this['_onModelAs'+'setLoad'],this),_0x2d986c['off']('unload',this['_onModelAs'+'setUnload'],this),_0x2d986c['off']('change',this['_onModelAs'+'setChange'],this),_0x2d986c['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x42d0b5){this['system']['app']['assets']['off']('add:'+_0x42d0b5['id'],this['_onModelAs'+'setAdded'],this),_0x42d0b5['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x42d0b5);}['_onModelAs'+'setLoad'](_0x196b5d){this['model']=_0x196b5d['resource']['clone'](),this['_clonedMod'+'el']=!(0x56*-0x13+0x1c17+-0x15b5);}['_onModelAs'+'setUnload'](_0x2aab6e){this['model']=null;}['_onModelAs'+'setChange'](_0x478692,_0x7eebcf,_0x25d498,_0x1a616b){_0x7eebcf==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0xb1b5de){this['model']=null;}['_setMateri'+'al'](_0x2d43c3){if(this['_material']===_0x2d43c3)return;this['_material']=_0x2d43c3;const _0x9a0566=this['_model'];if(_0x9a0566&&this['_type']!=='asset'){const _0xd98389=_0x9a0566['meshInstan'+'ces'];for(let _0xdd1d7c=0x1c9a+-0x1*0x1aab+-0x21*0xf,_0x4ac1ad=_0xd98389['length'];_0xdd1d7c<_0x4ac1ad;_0xdd1d7c++)_0xd98389[_0xdd1d7c]['material']=_0x2d43c3;}}}class iI{constructor(){this['enabled']=!(-0x11d+-0x872+0x98f*0x1);}}const fx=['enabled'];class rI extends Qe{constructor(_0x1a2a3a){super(_0x1a2a3a),this['id']='model',this['ComponentT'+'ype']=ux,this['DataType']=iI,this['schema']=fx,this['defaultMat'+'erial']=cl(_0x1a2a3a['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x59cd80,_0x57afbd,_0x44e3b5){_0x44e3b5=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x57afbd['batchGroup'+'Id']===null||_0x57afbd['batchGroup'+'Id']===void(-0x1c2*0x14+-0x26f5+-0x4a1d*-0x1))&&(_0x57afbd['batchGroup'+'Id']=-(-0xbf*0x6+-0x15*0x6e+0xd81)),_0x57afbd['layers']&&_0x57afbd['layers']['length']&&(_0x57afbd['layers']=_0x57afbd['layers']['slice'](0x1d9*0x5+0x1bda+-0x2517));for(let _0x362fbe=-0x1148+0xf1*-0x11+0x2149;_0x362fbe<_0x44e3b5['length'];_0x362fbe++)_0x57afbd['hasOwnProp'+'erty'](_0x44e3b5[_0x362fbe])&&(_0x59cd80[_0x44e3b5[_0x362fbe]]=_0x57afbd[_0x44e3b5[_0x362fbe]]);_0x57afbd['aabbCenter']&&_0x57afbd['aabbHalfEx'+'tents']&&(_0x59cd80['customAabb']=new ve(new A(_0x57afbd['aabbCenter']),new A(_0x57afbd['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x59cd80,_0x57afbd,['enabled']);}['cloneCompo'+'nent'](_0x1ee7fb,_0x178c5c){const _0x5226e1={'type':_0x1ee7fb['model']['type'],'asset':_0x1ee7fb['model']['asset'],'castShadows':_0x1ee7fb['model']['castShadow'+'s'],'receiveShadows':_0x1ee7fb['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x1ee7fb['model']['castShadow'+'sLightmap'],'lightmapped':_0x1ee7fb['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x1ee7fb['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x1ee7fb['model']['isStatic'],'enabled':_0x1ee7fb['model']['enabled'],'layers':_0x1ee7fb['model']['layers'],'batchGroupId':_0x1ee7fb['model']['batchGroup'+'Id'],'mapping':Eh({},_0x1ee7fb['model']['mapping'])};let _0x3ca4a2=_0x1ee7fb['model']['materialAs'+'set'];!(_0x3ca4a2 instanceof he)&&_0x3ca4a2!=null&&(_0x3ca4a2=this['app']['assets']['get'](_0x3ca4a2));const _0xbf6553=_0x1ee7fb['model']['material'];(!_0xbf6553||_0xbf6553===this['defaultMat'+'erial']||!_0x3ca4a2||_0xbf6553===_0x3ca4a2['resource'])&&(_0x5226e1['materialAs'+'set']=_0x3ca4a2);const _0x4ea207=this['addCompone'+'nt'](_0x178c5c,_0x5226e1);if(_0x1ee7fb['model']['model']&&_0x1ee7fb['model']['type']==='asset'&&!_0x1ee7fb['model']['asset']&&(_0x4ea207['model']=_0x1ee7fb['model']['model']['clone'](),_0x4ea207['_clonedMod'+'el']=!(-0x1*0x9c7+-0xf81+0x1948)),_0x5226e1['materialAs'+'set']||(_0x4ea207['material']=_0xbf6553),_0x1ee7fb['model']['model']){const _0x354079=_0x1ee7fb['model']['model']['meshInstan'+'ces'],_0x36c39a=_0x4ea207['model']['meshInstan'+'ces'];for(let _0x796508=-0x6a*-0xc+-0x1638+-0x40*-0x45;_0x796508<_0x354079['length'];_0x796508++)_0x36c39a[_0x796508]['mask']=_0x354079[_0x796508]['mask'],_0x36c39a[_0x796508]['material']=_0x354079[_0x796508]['material'],_0x36c39a[_0x796508]['layer']=_0x354079[_0x796508]['layer'],_0x36c39a[_0x796508]['receiveSha'+'dow']=_0x354079[_0x796508]['receiveSha'+'dow'];}return _0x1ee7fb['model']['customAabb']&&(_0x4ea207['customAabb']=_0x1ee7fb['model']['customAabb']['clone']()),_0x4ea207;}['onRemove'](_0x11de9d,_0x278f1f){_0x278f1f['onRemove']();}}pe['_buildAcce'+'ssors'](ux['prototype'],fx);const nI=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],aI=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],oI=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],sh=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let $n;class lI extends pe{constructor(_0x1281e0,_0x18ed74){super(_0x1281e0,_0x18ed74),c(this,'_requested'+'Depth',!(0x89f+0x1563+-0x1e01)),c(this,'_drawOrder',-0x1174+-0x69e+0x1812),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),nI['forEach'](_0x41b91d=>{this['on']('set_'+_0x41b91d,this['onSetSimpl'+'eProperty'],this);}),aI['forEach'](_0xc2c203=>{this['on']('set_'+_0xc2c203,this['onSetCompl'+'exProperty'],this);}),oI['forEach'](_0x2c4923=>{this['on']('set_'+_0x2c4923,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x30f6ec=this['system']['store'][this['entity']['getGuid']()];return _0x30f6ec?_0x30f6ec['data']:null;}set['enabled'](_0x26e4f1){this['_setValue']('enabled',_0x26e4f1);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x8bc8bd){this['_setValue']('autoPlay',_0x8bc8bd);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x30fa86){this['_setValue']('numParticl'+'es',_0x30fa86);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x3d60b5){this['_setValue']('lifetime',_0x3d60b5);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x3bea07){this['_setValue']('rate',_0x3bea07);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x17aa29){this['_setValue']('rate2',_0x17aa29);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x5ef576){this['_setValue']('startAngle',_0x5ef576);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x1487a7){this['_setValue']('startAngle'+'2',_0x1487a7);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x334275){this['_setValue']('loop',_0x334275);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x5efdd1){this['_setValue']('preWarm',_0x5efdd1);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x2faa4a){this['_setValue']('lighting',_0x2faa4a);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x5b8e64){this['_setValue']('halfLamber'+'t',_0x5b8e64);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x529aae){this['_setValue']('intensity',_0x529aae);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x1753a4){this['_setValue']('depthWrite',_0x1753a4);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x391a36){this['_setValue']('noFog',_0x391a36);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x58c1d3){this['_setValue']('depthSofte'+'ning',_0x58c1d3);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x30cf3c){this['_setValue']('sort',_0x30cf3c);}get['sort'](){return this['data']['sort'];}set['blendType'](_0xa9c25b){this['_setValue']('blendType',_0xa9c25b);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x545a9f){this['_setValue']('stretch',_0x545a9f);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x1b6025){this['_setValue']('alignToMot'+'ion',_0x1b6025);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x54654e){this['_setValue']('emitterSha'+'pe',_0x54654e);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x421fc1){this['_setValue']('emitterExt'+'ents',_0x421fc1);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x11a0bf){this['_setValue']('emitterExt'+'entsInner',_0x11a0bf);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x2b3557){this['_setValue']('emitterRad'+'ius',_0x2b3557);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x18acf7){this['_setValue']('emitterRad'+'iusInner',_0x18acf7);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x38b721){this['_setValue']('initialVel'+'ocity',_0x38b721);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x2e1003){this['_setValue']('wrap',_0x2e1003);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x1b4aff){this['_setValue']('wrapBounds',_0x1b4aff);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x227453){this['_setValue']('localSpace',_0x227453);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x2fde48){this['_setValue']('screenSpac'+'e',_0x2fde48);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x244dab){this['_setValue']('colorMapAs'+'set',_0x244dab);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x445d9a){this['_setValue']('normalMapA'+'sset',_0x445d9a);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x5c48b2){this['_setValue']('mesh',_0x5c48b2);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x225130){this['_setValue']('meshAsset',_0x225130);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x4c7db4){this['_setValue']('renderAsse'+'t',_0x4c7db4);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x20429f){this['_setValue']('orientatio'+'n',_0x20429f);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x205983){this['_setValue']('particleNo'+'rmal',_0x205983);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x571381){this['_setValue']('localVeloc'+'ityGraph',_0x571381);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x3fce94){this['_setValue']('localVeloc'+'ityGraph2',_0x3fce94);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x48496a){this['_setValue']('velocityGr'+'aph',_0x48496a);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x354b4e){this['_setValue']('velocityGr'+'aph2',_0x354b4e);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x349b43){this['_setValue']('rotationSp'+'eedGraph',_0x349b43);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x1fac21){this['_setValue']('rotationSp'+'eedGraph2',_0x1fac21);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0xd326b2){this['_setValue']('radialSpee'+'dGraph',_0xd326b2);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x2cdeae){this['_setValue']('radialSpee'+'dGraph2',_0x2cdeae);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x344826){this['_setValue']('scaleGraph',_0x344826);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x44765d){this['_setValue']('scaleGraph'+'2',_0x44765d);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x4d29bc){this['_setValue']('colorGraph',_0x4d29bc);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x1efff5){this['_setValue']('colorGraph'+'2',_0x1efff5);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x2700aa){this['_setValue']('alphaGraph',_0x2700aa);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x14fd29){this['_setValue']('alphaGraph'+'2',_0x14fd29);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0xb31eeb){this['_setValue']('colorMap',_0xb31eeb);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0xb59013){this['_setValue']('normalMap',_0xb59013);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x164a08){this['_setValue']('animTilesX',_0x164a08);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x5bfde4){this['_setValue']('animTilesY',_0x5bfde4);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x3ea3e1){this['_setValue']('animStartF'+'rame',_0x3ea3e1);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x390005){this['_setValue']('animNumFra'+'mes',_0x390005);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x23d3bc){this['_setValue']('animNumAni'+'mations',_0x23d3bc);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x420290){this['_setValue']('animIndex',_0x420290);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x3d3e07){this['_setValue']('randomizeA'+'nimIndex',_0x3d3e07);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x267163){this['_setValue']('animSpeed',_0x267163);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x2c0aef){this['_setValue']('animLoop',_0x2c0aef);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x5f18ac){this['_setValue']('layers',_0x5f18ac);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x18afc5){this['_drawOrder']=_0x18afc5,this['emitter']&&(this['emitter']['drawOrder']=_0x18afc5);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2556d0,_0xebeaf5){const _0x5482ce=this['data'],_0x548ba3=_0x5482ce[_0x2556d0];_0x5482ce[_0x2556d0]=_0xebeaf5,this['fire']('set',_0x2556d0,_0x548ba3,_0xebeaf5);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x48d48c=-0xa8d+-0x256b+0x28*0x133;_0x48d48c<this['layers']['length'];_0x48d48c++){const _0x5436e1=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x48d48c]);_0x5436e1&&(_0x5436e1['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x5436e1);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x43d11e=0x2415+-0xf91+0xd*-0x194;_0x43d11e<this['layers']['length'];_0x43d11e++){const _0x217040=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x43d11e]);_0x217040&&_0x217040['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x3fc5a3,_0x4acb9e,_0x15fb60){if(this['emitter']){for(let _0x5505a6=-0xcc3+0x275+-0x527*-0x2;_0x5505a6<_0x4acb9e['length'];_0x5505a6++){const _0x5b1f70=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4acb9e[_0x5505a6]);_0x5b1f70&&_0x5b1f70['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x57f583=0xeb0+-0x13d5*-0x1+0x2285*-0x1;_0x57f583<_0x15fb60['length'];_0x57f583++){const _0x25c561=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x15fb60[_0x57f583]);_0x25c561&&_0x25c561['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x9d9cd9,_0xfc40ce){this['addMeshIns'+'tanceToLay'+'ers'](),_0x9d9cd9['off']('add',this['onLayerAdd'+'ed'],this),_0x9d9cd9['off']('remove',this['onLayerRem'+'oved'],this),_0xfc40ce['on']('add',this['onLayerAdd'+'ed'],this),_0xfc40ce['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5e5fcf){!this['emitter']||this['layers']['indexOf'](_0x5e5fcf['id'])<0x2*0x335+0xa5e+-0x6*0x2cc||_0x5e5fcf['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x5e2805){!this['emitter']||this['layers']['indexOf'](_0x5e2805['id'])<0x1*0x593+0x1*0xd75+-0x1308||_0x5e2805['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x55be37){if(_0x55be37['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x55be37['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x55be37['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x55be37['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x55be37['resource'])this['_onColorMa'+'pAssetLoad'](_0x55be37);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x55be37);}}['_unbindCol'+'orMapAsset'](_0x40531e){_0x40531e['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x40531e['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x40531e['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x40531e['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x2411fc){this['colorMap']=_0x2411fc['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x1a661a){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x14677a){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x14677a);}['_onColorMa'+'pAssetChan'+'ge'](_0x38413a){}['onSetColor'+'MapAsset'](_0x4c031b,_0x168eae,_0x5328df){const _0x3e68b3=this['system']['app']['assets'];if(_0x168eae){const _0x29625d=_0x3e68b3['get'](_0x168eae);_0x29625d&&this['_unbindCol'+'orMapAsset'](_0x29625d);}if(_0x5328df){_0x5328df instanceof he&&(this['data']['colorMapAs'+'set']=_0x5328df['id'],_0x5328df=_0x5328df['id']);const _0x12a1d4=_0x3e68b3['get'](_0x5328df);_0x12a1d4?this['_bindColor'+'MapAsset'](_0x12a1d4):_0x3e68b3['once']('add:'+_0x5328df,_0x306b85=>{this['_bindColor'+'MapAsset'](_0x306b85);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x46bed5){if(_0x46bed5['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x46bed5['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x46bed5['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x46bed5['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x46bed5['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x46bed5);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x46bed5);}}['_unbindNor'+'malMapAsse'+'t'](_0x463c4c){_0x463c4c['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x463c4c['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x463c4c['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x463c4c['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x9aa41){this['normalMap']=_0x9aa41['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0xe261f7){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x1b9224){this['_onNormalM'+'apAssetUnl'+'oad'](_0x1b9224);}['_onNormalM'+'apAssetCha'+'nge'](_0x147f8f){}['onSetNorma'+'lMapAsset'](_0x351d95,_0x2699f5,_0x5a95df){const _0x18fcbc=this['system']['app']['assets'];if(_0x2699f5){const _0x347eac=_0x18fcbc['get'](_0x2699f5);_0x347eac&&this['_unbindNor'+'malMapAsse'+'t'](_0x347eac);}if(_0x5a95df){_0x5a95df instanceof he&&(this['data']['normalMapA'+'sset']=_0x5a95df['id'],_0x5a95df=_0x5a95df['id']);const _0x3f78d1=_0x18fcbc['get'](_0x5a95df);_0x3f78d1?this['_bindNorma'+'lMapAsset'](_0x3f78d1):_0x18fcbc['once']('add:'+_0x5a95df,_0x475ea5=>{this['_bindNorma'+'lMapAsset'](_0x475ea5);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x861d3f){if(_0x861d3f['on']('load',this['_onMeshAss'+'etLoad'],this),_0x861d3f['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x861d3f['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x861d3f['on']('change',this['_onMeshAss'+'etChange'],this),_0x861d3f['resource'])this['_onMeshAss'+'etLoad'](_0x861d3f);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x861d3f);}}['_unbindMes'+'hAsset'](_0x423c12){_0x423c12['off']('load',this['_onMeshAss'+'etLoad'],this),_0x423c12['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x423c12['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x423c12['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x16ce30){this['_onMeshCha'+'nged'](_0x16ce30['resource']);}['_onMeshAss'+'etUnload'](_0x36aaa3){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x26c5f3){this['_onMeshAss'+'etUnload'](_0x26c5f3);}['_onMeshAss'+'etChange'](_0x2ea5f4){}['onSetMeshA'+'sset'](_0xfa9b89,_0x153f36,_0x186a64){const _0x3512d4=this['system']['app']['assets'];if(_0x153f36){const _0x5ec17c=_0x3512d4['get'](_0x153f36);_0x5ec17c&&this['_unbindMes'+'hAsset'](_0x5ec17c);}if(_0x186a64){_0x186a64 instanceof he&&(this['data']['meshAsset']=_0x186a64['id'],_0x186a64=_0x186a64['id']);const _0x21fa86=_0x3512d4['get'](_0x186a64);_0x21fa86&&this['_bindMeshA'+'sset'](_0x21fa86);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x512eb5,_0x319a65,_0x1e18bd){!_0x1e18bd||_0x1e18bd instanceof he||typeof _0x1e18bd=='number'?this['meshAsset']=_0x1e18bd:this['_onMeshCha'+'nged'](_0x1e18bd);}['_onMeshCha'+'nged'](_0x65be68){_0x65be68&&!(_0x65be68 instanceof ke)&&(_0x65be68['meshInstan'+'ces'][-0x199d+-0x5*0x4fb+0x3d*0xd4]?_0x65be68=_0x65be68['meshInstan'+'ces'][-0x1*-0x172b+0x70d*0x2+-0x1*0x2545]['mesh']:_0x65be68=null),this['data']['mesh']=_0x65be68,this['emitter']&&(this['emitter']['mesh']=_0x65be68,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x2b2932,_0x44ead3,_0x46cee6){const _0x48fa92=this['system']['app']['assets'];if(_0x44ead3){const _0xf3ea5=_0x48fa92['get'](_0x44ead3);_0xf3ea5&&this['_unbindRen'+'derAsset'](_0xf3ea5);}if(_0x46cee6){_0x46cee6 instanceof he&&(this['data']['renderAsse'+'t']=_0x46cee6['id'],_0x46cee6=_0x46cee6['id']);const _0x363ab8=_0x48fa92['get'](_0x46cee6);_0x363ab8&&this['_bindRende'+'rAsset'](_0x363ab8);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x29722d){if(_0x29722d['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x29722d['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x29722d['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x29722d['resource'])this['_onRenderA'+'ssetLoad'](_0x29722d);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x29722d);}}['_unbindRen'+'derAsset'](_0x264c0e){var _0x285b19;_0x264c0e['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x264c0e['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x264c0e['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x285b19=this['_evtSetMes'+'hes'])==null||_0x285b19['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0xa4267f){this['_onRenderC'+'hanged'](_0xa4267f['resource']);}['_onRenderA'+'ssetUnload'](_0x34d0d5){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x206676){this['_onRenderA'+'ssetUnload'](_0x206676);}['_onRenderC'+'hanged'](_0x21dadd){var _0x40d048;if(!_0x21dadd){this['_onMeshCha'+'nged'](null);return;}(_0x40d048=this['_evtSetMes'+'hes'])==null||_0x40d048['off'](),this['_evtSetMes'+'hes']=_0x21dadd['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x21dadd['meshes']&&this['_onRenderS'+'etMeshes'](_0x21dadd['meshes']);}['_onRenderS'+'etMeshes'](_0x331040){this['_onMeshCha'+'nged'](_0x331040&&_0x331040[-0x1698+-0x2206+-0x1c4f*-0x2]);}['onSetLoop'](_0x187151,_0x393f8d,_0x3774dd){this['emitter']&&(this['emitter'][_0x187151]=_0x3774dd,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x533c6a,_0x3614d1,_0xdc55b3){this['emitter']&&(this['emitter'][_0x533c6a]=_0xdc55b3,this['emitter']['material']['blendType']=_0xdc55b3,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||($n||($n=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](es)),$n&&($n['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x1*-0x3d2+-0x2068*-0x1+0x243a*-0x1)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&$n&&($n['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x452+0x325+0x2*0x97));}['onSetDepth'+'Softening'](_0x1e4a02,_0x484123,_0x47fcd9){_0x484123!==_0x47fcd9&&(_0x47fcd9?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1e4a02]=_0x47fcd9)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x1e4a02]=_0x47fcd9)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x2f8678,_0x3a19bd,_0x41bc72){this['emitter']&&(this['emitter'][_0x2f8678]=_0x41bc72,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x344a7c,_0x2b815e,_0x1c2a40){this['emitter']&&(this['emitter'][_0x344a7c]=_0x1c2a40,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x3c27a0,_0x27d29f,_0x5dfd07){this['emitter']&&(this['emitter'][_0x3c27a0]=_0x5dfd07,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x58252e=this['system']['app']['scene'],_0xfff411=_0x58252e['layers'],_0x56b613=this['data'];for(let _0x340d8e=0x1*-0x1274+0x1e2b*0x1+0x1*-0xbb7,_0x91a437=sh['length'];_0x340d8e<_0x91a437;_0x340d8e++){let _0x2c6842=_0x56b613[sh[_0x340d8e]];if(_0x2c6842){if(!(_0x2c6842 instanceof he)){if(parseInt(_0x2c6842,0x1966*-0x1+-0xc8a+0x2*0x12fd)>=0x1*-0xfbf+0x17b9+-0x7fa)_0x2c6842=this['system']['app']['assets']['get'](_0x2c6842);else continue;}_0x2c6842&&!_0x2c6842['resource']&&this['system']['app']['assets']['load'](_0x2c6842);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x5c90c4=_0x56b613['mesh'];_0x5c90c4 instanceof ke||(_0x5c90c4=null),this['emitter']=new u1(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x56b613['numParticl'+'es'],'emitterExtents':_0x56b613['emitterExt'+'ents'],'emitterExtentsInner':_0x56b613['emitterExt'+'entsInner'],'emitterRadius':_0x56b613['emitterRad'+'ius'],'emitterRadiusInner':_0x56b613['emitterRad'+'iusInner'],'emitterShape':_0x56b613['emitterSha'+'pe'],'initialVelocity':_0x56b613['initialVel'+'ocity'],'wrap':_0x56b613['wrap'],'localSpace':_0x56b613['localSpace'],'screenSpace':_0x56b613['screenSpac'+'e'],'wrapBounds':_0x56b613['wrapBounds'],'lifetime':_0x56b613['lifetime'],'rate':_0x56b613['rate'],'rate2':_0x56b613['rate2'],'orientation':_0x56b613['orientatio'+'n'],'particleNormal':_0x56b613['particleNo'+'rmal'],'animTilesX':_0x56b613['animTilesX'],'animTilesY':_0x56b613['animTilesY'],'animStartFrame':_0x56b613['animStartF'+'rame'],'animNumFrames':_0x56b613['animNumFra'+'mes'],'animNumAnimations':_0x56b613['animNumAni'+'mations'],'animIndex':_0x56b613['animIndex'],'randomizeAnimIndex':_0x56b613['randomizeA'+'nimIndex'],'animSpeed':_0x56b613['animSpeed'],'animLoop':_0x56b613['animLoop'],'startAngle':_0x56b613['startAngle'],'startAngle2':_0x56b613['startAngle'+'2'],'scaleGraph':_0x56b613['scaleGraph'],'scaleGraph2':_0x56b613['scaleGraph'+'2'],'colorGraph':_0x56b613['colorGraph'],'colorGraph2':_0x56b613['colorGraph'+'2'],'alphaGraph':_0x56b613['alphaGraph'],'alphaGraph2':_0x56b613['alphaGraph'+'2'],'localVelocityGraph':_0x56b613['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x56b613['localVeloc'+'ityGraph2'],'velocityGraph':_0x56b613['velocityGr'+'aph'],'velocityGraph2':_0x56b613['velocityGr'+'aph2'],'rotationSpeedGraph':_0x56b613['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x56b613['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x56b613['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x56b613['radialSpee'+'dGraph2'],'colorMap':_0x56b613['colorMap'],'normalMap':_0x56b613['normalMap'],'loop':_0x56b613['loop'],'preWarm':_0x56b613['preWarm'],'sort':_0x56b613['sort'],'stretch':_0x56b613['stretch'],'alignToMotion':_0x56b613['alignToMot'+'ion'],'lighting':_0x56b613['lighting'],'halfLambert':_0x56b613['halfLamber'+'t'],'intensity':_0x56b613['intensity'],'depthSoftening':_0x56b613['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x5c90c4,'depthWrite':_0x56b613['depthWrite'],'noFog':_0x56b613['noFog'],'node':this['entity'],'blendType':_0x56b613['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x56b613['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x171d+0x2286+0x5b4*-0x2));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x58252e['on']('set:layers',this['onLayersCh'+'anged'],this),_0xfff411&&(this['_evtLayerA'+'dded']=_0xfff411['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xfff411['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x56b613['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x4a7026,_0x5c464a,_0x1034ad;const _0x3669b6=this['system']['app']['scene']['layers'];(_0x4a7026=this['_evtLayers'+'Changed'])==null||_0x4a7026['off'](),this['_evtLayers'+'Changed']=null,_0x3669b6&&((_0x5c464a=this['_evtLayerA'+'dded'])==null||_0x5c464a['off'](),this['_evtLayerA'+'dded']=null,(_0x1034ad=this['_evtLayerR'+'emoved'])==null||_0x1034ad['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(0x1bf7+0x566+-0x7*0x4c4)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x5c4d89=-0x5c5+-0x2696+0x2c5b;_0x5c4d89<sh['length'];_0x5c4d89++){const _0x2fbf17=sh[_0x5c4d89];this['data'][_0x2fbf17]&&(this[_0x2fbf17]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x1*0x4af+0x1f8d+-0x243b),this['emitter']['resetTime'](),this['emitter']['addTime'](0x26d6+-0x2001+-0x9f*0xb,!(-0x1351+-0x15cc+0x291d)));}['pause'](){this['data']['paused']=!(0x22b8+0x1*-0x101c+-0x129c);}['unpause'](){this['data']['paused']=!(0xcd+-0xb07*0x2+0x1542);}['play'](){this['data']['paused']=!(-0x4df+0x371+0x1*0x16f),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x16f4+0x1107*-0x1+-0x1*0x5ed),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0xad1+-0x2250+0x2d22):this['emitter']&&this['emitter']['loop']?!(-0x6*-0x44d+0x56*-0xd+-0x188*0xe):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x485368}=this;_0x485368&&!_0x485368['inTools']&&(_0x485368['inTools']=!(0x25c3+-0xf3*-0xa+-0x1*0x2f41),this['rebuild']());}['rebuild'](){const _0x14d6bf=this['enabled'];this['enabled']=!(-0x923*0x2+0x8b1+0x1*0x996),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x14d6bf;}}class hI{constructor(){this['numParticl'+'es']=-0x2*0x3a9+-0x11ce+0x1921,this['rate']=-0x71a+0x9*-0x333+0x397*0xa,this['rate2']=null,this['startAngle']=-0x6a0+-0x1e41*-0x1+-0x17a1,this['startAngle'+'2']=null,this['lifetime']=-0x19*-0x140+-0x2*0xb0f+-0x2c*0x34,this['emitterExt'+'ents']=new A(),this['emitterExt'+'entsInner']=new A(),this['emitterRad'+'ius']=0x3*-0x1de+0x1c5*-0xb+0x1911,this['emitterRad'+'iusInner']=0x2*-0x1189+0x2b2*-0x7+-0x8*-0x6be,this['emitterSha'+'pe']=qs,this['initialVel'+'ocity']=-0x21*-0x80+-0x837+-0x849*0x1,this['wrap']=!(0x1b*0x16c+0x1401+-0x3a64),this['wrapBounds']=new A(),this['localSpace']=!(-0x10*-0xba+0x430+-0x545*0x3),this['screenSpac'+'e']=!(-0x10f7*-0x2+0xd05+-0x2ef2),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x1b+0x71d*-0x1+0x702),this['preWarm']=!(0x82d+-0x4*-0x6ed+-0x23e0),this['sort']=0x3*-0x6b9+0x6b*0x43+0x3eb*-0x2,this['mode']=u0,this['scene']=null,this['lighting']=!(0xba4+-0xace+-0xd5),this['halfLamber'+'t']=!(-0x11cd*0x1+-0x149*0x3+-0x455*-0x5),this['intensity']=-0x215a+-0x2*0x884+0x3263*0x1,this['stretch']=-0xfde+0x1251+-0x273,this['alignToMot'+'ion']=!(0x66*-0x7+0x795*0x5+-0x231e),this['depthSofte'+'ning']=0xd*0x10d+0x8*-0xba+-0x29*0x31,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x2671*-0x1+-0x1992+0x9*-0x16e),this['noFog']=!(-0x429+-0x2da+0x704),this['orientatio'+'n']=$h,this['particleNo'+'rmal']=new A(-0x2565*0x1+0x1b53+0xa12,-0x18ec+0x862+0x108b,0xc53+-0x2590+0x193d),this['animTilesX']=0x104c+0x11*-0x21d+0x13a2,this['animTilesY']=0x16db+-0x1*0x2396+0xcbc,this['animStartF'+'rame']=-0x2*0x4b1+-0x1861+0x21c3,this['animNumFra'+'mes']=0x16*-0x9a+-0x8b*0x47+0x33ca,this['animNumAni'+'mations']=-0x704+-0x1afa+-0x21ff*-0x1,this['animIndex']=0x26*-0x60+0x1ba*-0xf+0x1*0x2826,this['randomizeA'+'nimIndex']=!(0x47*0x2+0x3c6+-0x7b*0x9),this['animSpeed']=-0xd07+0x1f94*-0x1+0x14*0x23b,this['animLoop']=!(-0x1322+-0x1b55+0x2e77),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Gt,this['enabled']=!(0x24d4+-0x203b+-0x499),this['paused']=!(0x1779*0x1+0x7*-0x142+0xeaa*-0x1),this['autoPlay']=!(-0x5e9+0x305+0x25*0x14),this['layers']=[zi];}}const cI=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class dI extends Qe{constructor(_0x2e9a15){super(_0x2e9a15),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=lI,this['DataType']=hI,this['schema']=cI,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2ab2cf,_0x3a56ef,_0x490511){const _0x322974={};_0x490511=[];const _0x845b41=this['propertyTy'+'pes'];(_0x3a56ef['mesh']instanceof he||typeof _0x3a56ef['mesh']=='number')&&(_0x3a56ef['meshAsset']=_0x3a56ef['mesh'],delete _0x3a56ef['mesh']);for(const _0x4107de in _0x3a56ef){if(_0x3a56ef['hasOwnProp'+'erty'](_0x4107de)&&(_0x490511['push'](_0x4107de),_0x322974[_0x4107de]=_0x3a56ef[_0x4107de]),_0x845b41[_0x4107de]==='vec3')Array['isArray'](_0x322974[_0x4107de])&&(_0x322974[_0x4107de]=new A(_0x322974[_0x4107de][-0x16c8+-0x1*-0x115a+0x56e],_0x322974[_0x4107de][-0x713*0x1+0xf3*0x24+-0x1b18],_0x322974[_0x4107de][0x2082+0x30b+-0x238b]));else{if(_0x845b41[_0x4107de]==='curve'){if(!(_0x322974[_0x4107de]instanceof Ls)){const _0x6f8be8=_0x322974[_0x4107de]['type'];_0x322974[_0x4107de]=new Ls(_0x322974[_0x4107de]['keys']),_0x322974[_0x4107de]['type']=_0x6f8be8;}}else{if(_0x845b41[_0x4107de]==='curveset'&&!(_0x322974[_0x4107de]instanceof Yr)){const _0x25ce30=_0x322974[_0x4107de]['type'];_0x322974[_0x4107de]=new Yr(_0x322974[_0x4107de]['keys']),_0x322974[_0x4107de]['type']=_0x25ce30;}}}_0x322974['layers']&&Array['isArray'](_0x322974['layers'])&&(_0x322974['layers']=_0x322974['layers']['slice'](-0x2f5+0x4*0xe3+-0x97));}super['initialize'+'ComponentD'+'ata'](_0x2ab2cf,_0x322974,_0x490511);}['cloneCompo'+'nent'](_0x291432,_0x412ea0){const _0x380114=_0x291432['particlesy'+'stem']['data'],_0x56019e=this['schema'],_0x44723e={};for(let _0x4aba9a=0x6d*0x4a+0x43d+-0x1*0x23bf,_0xb01135=_0x56019e['length'];_0x4aba9a<_0xb01135;_0x4aba9a++){const _0x508f85=_0x56019e[_0x4aba9a];let _0x8dc083=_0x380114[_0x508f85];_0x8dc083 instanceof A||_0x8dc083 instanceof Ls||_0x8dc083 instanceof Yr?(_0x8dc083=_0x8dc083['clone'](),_0x44723e[_0x508f85]=_0x8dc083):_0x508f85==='layers'?_0x44723e['layers']=_0x380114['layers']['slice'](-0x2191+0x1*0x22c6+-0x67*0x3):_0x8dc083!=null&&(_0x44723e[_0x508f85]=_0x8dc083);}return this['addCompone'+'nt'](_0x412ea0,_0x44723e);}['onUpdate'](_0x3a9e55){const _0x112755=this['store'];let _0x29d937;const _0x5a9f67=this['app']['stats']['particles'],_0x2364cf=this['app']['scene']['layers'];for(let _0x1987a0=-0xc8c+-0xa65+0x16f1;_0x1987a0<_0x2364cf['layerList']['length'];_0x1987a0++)_0x2364cf['layerList'][_0x1987a0]['requiresLi'+'ghtCube']=!(-0xda6+-0x19bf+0x2766);for(const _0x80c0eb in _0x112755)if(_0x112755['hasOwnProp'+'erty'](_0x80c0eb)){const _0x38e60a=_0x112755[_0x80c0eb],_0x6e621=_0x38e60a['entity'],_0x46c439=_0x38e60a['data'];if(_0x46c439['enabled']&&_0x6e621['enabled']){const _0x1cec52=_0x6e621['particlesy'+'stem']['emitter'];if(!(_0x1cec52!=null&&_0x1cec52['meshInstan'+'ce']['visible']))continue;if(_0x1cec52['lighting']){const _0x3e4388=_0x46c439['layers'];for(let _0x1a8e30=-0x259d*0x1+-0x1*0x731+0x136*0x25;_0x1a8e30<_0x3e4388['length'];_0x1a8e30++){const _0x53027b=_0x2364cf['getLayerBy'+'Id'](_0x3e4388[_0x1a8e30]);_0x53027b&&(_0x53027b['requiresLi'+'ghtCube']=!(0xa4f+0xb8c+-0x749*0x3));}}if(!_0x46c439['paused']){if(_0x1cec52['simTime']+=_0x3a9e55,_0x1cec52['simTime']>_0x1cec52['fixedTimeS'+'tep']&&(_0x29d937=Math['floor'](_0x1cec52['simTime']/_0x1cec52['fixedTimeS'+'tep']),_0x1cec52['simTime']-=_0x29d937*_0x1cec52['fixedTimeS'+'tep']),_0x29d937){_0x29d937=Math['min'](_0x29d937,_0x1cec52['maxSubStep'+'s']);for(let _0x4d7237=0xa04*-0x2+0x739*-0x1+0x1b41;_0x4d7237<_0x29d937;_0x4d7237++)_0x1cec52['addTime'](_0x1cec52['fixedTimeS'+'tep'],!(-0x1c10+0x1f7*-0x9+0x2dc0));_0x5a9f67['_updatesPe'+'rFrame']+=_0x29d937,_0x5a9f67['_frameTime']+=_0x1cec52['_addTimeTi'+'me'],_0x1cec52['_addTimeTi'+'me']=0x1e1b+0x535+-0x2350*0x1;}_0x1cec52['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x28aa0f,_0x539d13){_0x539d13['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class uI extends qc{constructor(_0x12b0c2,_0x5b8e66){super(),this['skin']=_0x12b0c2,this['skinInstan'+'ce']=_0x5b8e66;}}const Ms=class Ms{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Ms['_skinInsta'+'nceCache']['forEach']((_0x28d9ef,_0x57b96d)=>{console['log'](_0x57b96d['name']+':\x20Array('+_0x28d9ef['length']+')');for(let _0x3424f8=0x1*-0x1705+-0xd40+0x2445;_0x3424f8<_0x28d9ef['length'];_0x3424f8++)console['log']('\x20\x20'+_0x3424f8+(':\x20RefCount'+'\x20')+_0x28d9ef[_0x3424f8]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x4630d3,_0x18b613,_0x1a5969){let _0x17e7cd=Ms['getCachedS'+'kinInstanc'+'e'](_0x4630d3,_0x18b613);return _0x17e7cd||(_0x17e7cd=new hl(_0x4630d3),_0x17e7cd['resolve'](_0x18b613,_0x1a5969),Ms['addCachedS'+'kinInstanc'+'e'](_0x4630d3,_0x18b613,_0x17e7cd)),_0x17e7cd;}static['getCachedS'+'kinInstanc'+'e'](_0x369edc,_0x33f6ae){let _0x5e99f0=null;const _0x294c6c=Ms['_skinInsta'+'nceCache']['get'](_0x33f6ae);if(_0x294c6c){const _0xb33155=_0x294c6c['find'](_0x4471b6=>_0x4471b6['skin']===_0x369edc);_0xb33155&&(_0xb33155['incRefCoun'+'t'](),_0x5e99f0=_0xb33155['skinInstan'+'ce']);}return _0x5e99f0;}static['addCachedS'+'kinInstanc'+'e'](_0x21f782,_0x5cf570,_0x2056a5){let _0x2ffdb5=Ms['_skinInsta'+'nceCache']['get'](_0x5cf570);_0x2ffdb5||(_0x2ffdb5=[],Ms['_skinInsta'+'nceCache']['set'](_0x5cf570,_0x2ffdb5));let _0x2f05d9=_0x2ffdb5['find'](_0x1529f7=>_0x1529f7['skin']===_0x21f782);_0x2f05d9||(_0x2f05d9=new uI(_0x21f782,_0x2056a5),_0x2ffdb5['push'](_0x2f05d9)),_0x2f05d9['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x1f21a1){if(_0x1f21a1){const _0x59bc4e=_0x1f21a1['rootBone'];if(_0x59bc4e){const _0x48620d=Ms['_skinInsta'+'nceCache']['get'](_0x59bc4e);if(_0x48620d){const _0xdb4ab2=_0x48620d['findIndex'](_0xf11663=>_0xf11663['skinInstan'+'ce']===_0x1f21a1);if(_0xdb4ab2>=0x1d*0x75+0x19d1+-0x2712){const _0x1f6519=_0x48620d[_0xdb4ab2];_0x1f6519['decRefCoun'+'t'](),_0x1f6519['refCount']===-0x156c+0xdf3*0x1+0x779&&(_0x48620d['splice'](_0xdb4ab2,0x2642+-0x151*0x6+-0x1e5b),_0x48620d['length']||Ms['_skinInsta'+'nceCache']['delete'](_0x59bc4e),_0x1f21a1&&(_0x1f21a1['destroy'](),_0x1f6519['skinInstan'+'ce']=null));}}}}}};c(Ms,'_skinInsta'+'nceCache',new Map());let $o=Ms;class qo{constructor(_0x9c9bc8,_0xa722aa,_0x34603b,_0x309a04,_0x306616){c(this,'_evtLoadBy'+'Id',null),c(this,'_evtUnload'+'ById',null),c(this,'_evtAddByI'+'d',null),c(this,'_evtRemove'+'ById',null),c(this,'_evtLoadBy'+'Url',null),c(this,'_evtAddByU'+'rl',null),c(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x9c9bc8,this['parent']=_0xa722aa,this['_scope']=_0x306616,this['_registry']=_0x34603b,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x309a04['load'],this['_onAssetAd'+'d']=_0x309a04['add'],this['_onAssetRe'+'move']=_0x309a04['remove'],this['_onAssetUn'+'load']=_0x309a04['unload']);}set['id'](_0x24b84e){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x24b84e,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x4b7355){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x4b7355,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x5c244a,_0x3efe33,_0x13f990,_0x4ed065,_0x1a157c,_0x3ad4ca,_0x33e56d;this['id']&&((_0x5c244a=this['_evtLoadBy'+'Id'])==null||_0x5c244a['off'](),this['_evtLoadBy'+'Id']=null,(_0x3efe33=this['_evtAddByI'+'d'])==null||_0x3efe33['off'](),this['_evtAddByI'+'d']=null,(_0x13f990=this['_evtRemove'+'ById'])==null||_0x13f990['off'](),this['_evtRemove'+'ById']=null,(_0x4ed065=this['_evtUnload'+'ById'])==null||_0x4ed065['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x1a157c=this['_evtLoadBy'+'Url'])==null||_0x1a157c['off'](),this['_evtLoadBy'+'Url']=null,(_0x3ad4ca=this['_evtAddByU'+'rl'])==null||_0x3ad4ca['off'](),this['_evtAddByU'+'rl']=null,(_0x33e56d=this['_evtRemove'+'ByUrl'])==null||_0x33e56d['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x1b8390){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1b8390);}['_onAdd'](_0x28bba2){this['asset']=_0x28bba2,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x28bba2);}['_onRemove'](_0x533055){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x533055),this['asset']=null;}['_onUnload'](_0x23a3c7){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x23a3c7);}}class px extends pe{constructor(_0x5f3685,_0x2a7e6d){super(_0x5f3685,_0x2a7e6d),c(this,'_type','asset'),c(this,'_castShado'+'ws',!(-0x2*0x614+0x1642+-0xa1a)),c(this,'_receiveSh'+'adows',!(0x1*-0x156e+0x562+0x100c)),c(this,'_castShado'+'wsLightmap',!(0x268c*-0x1+-0x2*0xe8b+-0xb*-0x626)),c(this,'_lightmapp'+'ed',!(-0xa11+-0x185a+-0x4*-0x89b)),c(this,'_lightmapS'+'izeMultipl'+'ier',-0x2360+0x2e+0x1*0x2333),c(this,'isStatic',!(-0xa6d*-0x3+0x1a2+0x51*-0x68)),c(this,'_batchGrou'+'pId',-(0xad*0x6+0x927+-0x152*0xa)),c(this,'_layers',[zi]),c(this,'_renderSty'+'le',bo),c(this,'_meshInsta'+'nces',[]),c(this,'_customAab'+'b',null),c(this,'_area',null),c(this,'_assetRefe'+'rence'),c(this,'_materialR'+'eferences',[]),c(this,'_material'),c(this,'_rootBone',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new qo('asset',this,_0x5f3685['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x5f3685['defaultMat'+'erial'],_0x2a7e6d['on']('remove',this['onRemoveCh'+'ild'],this),_0x2a7e6d['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x2a7e6d['on']('insert',this['onInsertCh'+'ild'],this),_0x2a7e6d['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x2ac912){this['_renderSty'+'le']!==_0x2ac912&&(this['_renderSty'+'le']=_0x2ac912,Be['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x2ac912));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x103981){this['_customAab'+'b']=_0x103981;const _0x486d42=this['_meshInsta'+'nces'];if(_0x486d42){for(let _0x282450=0x1dd2+0x2566*-0x1+0x794;_0x282450<_0x486d42['length'];_0x282450++)_0x486d42[_0x282450]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x22e909){if(this['_type']!==_0x22e909&&(this['_area']=null,this['_type']=_0x22e909,this['destroyMes'+'hInstances'](),_0x22e909!=='asset')){let _0x192efd=this['_material'];(!_0x192efd||_0x192efd===this['system']['defaultMat'+'erial'])&&(_0x192efd=this['_materialR'+'eferences'][-0x21a6+-0xad2+0x8*0x58f]&&this['_materialR'+'eferences'][0xeab+0x35+0x770*-0x2]['asset']&&this['_materialR'+'eferences'][-0x8e6+-0x19ba+0x22a0]['asset']['resource']);const _0x305d94=dx(this['system']['app']['graphicsDe'+'vice'],_0x22e909);this['_area']=_0x305d94['area'],this['meshInstan'+'ces']=[new Be(_0x305d94['mesh'],_0x192efd||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x26966c){if(b['assert'](Array['isArray'](_0x26966c),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x26966c,this['_meshInsta'+'nces']){const _0xc2cdbb=this['_meshInsta'+'nces'];for(let _0x23f909=-0x80c+-0x3*0x5e7+0x19c1;_0x23f909<_0xc2cdbb['length'];_0x23f909++)_0xc2cdbb[_0x23f909]['node']||(_0xc2cdbb[_0x23f909]['node']=this['entity']),_0xc2cdbb[_0x23f909]['castShadow']=this['_castShado'+'ws'],_0xc2cdbb[_0x23f909]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0xc2cdbb[_0x23f909]['renderStyl'+'e']=this['_renderSty'+'le'],_0xc2cdbb[_0x23f909]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0xc2cdbb[_0x23f909]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x67ecf0){if(_0x67ecf0!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x67ecf0;const _0x13feb2=this['_meshInsta'+'nces'];if(_0x13feb2){for(let _0x5a13a4=-0x665+-0xa7f*-0x3+-0x1918;_0x5a13a4<_0x13feb2['length'];_0x5a13a4++)_0x13feb2[_0x5a13a4]['setLightma'+'pped'](_0x67ecf0);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x27e01a){if(this['_castShado'+'ws']!==_0x27e01a){const _0x44566b=this['_meshInsta'+'nces'];if(_0x44566b){const _0x4d4d84=this['layers'],_0xdfe708=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x27e01a)for(let _0xea6bc5=0x73d*0x1+-0x1d1*-0x11+-0x261e;_0xea6bc5<_0x4d4d84['length'];_0xea6bc5++){const _0x14d3df=_0xdfe708['layers']['getLayerBy'+'Id'](this['layers'][_0xea6bc5]);_0x14d3df&&_0x14d3df['removeShad'+'owCasters'](_0x44566b);}for(let _0x95b8a9=0x22d9+-0x1312+-0xfc7;_0x95b8a9<_0x44566b['length'];_0x95b8a9++)_0x44566b[_0x95b8a9]['castShadow']=_0x27e01a;if(!this['_castShado'+'ws']&&_0x27e01a)for(let _0x57421b=0x1439+-0xe8e+-0x5ab*0x1;_0x57421b<_0x4d4d84['length'];_0x57421b++){const _0x1f9f9e=_0xdfe708['layers']['getLayerBy'+'Id'](_0x4d4d84[_0x57421b]);_0x1f9f9e&&_0x1f9f9e['addShadowC'+'asters'](_0x44566b);}}this['_castShado'+'ws']=_0x27e01a;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x4ac150){if(this['_receiveSh'+'adows']!==_0x4ac150){this['_receiveSh'+'adows']=_0x4ac150;const _0x4300b1=this['_meshInsta'+'nces'];if(_0x4300b1){for(let _0x3d3e57=-0x475*0x2+-0x25f3+0x2edd;_0x3d3e57<_0x4300b1['length'];_0x3d3e57++)_0x4300b1[_0x3d3e57]['receiveSha'+'dow']=_0x4ac150;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1870c8){this['_castShado'+'wsLightmap']=_0x1870c8;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x494856){this['_lightmapS'+'izeMultipl'+'ier']=_0x494856;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x5a2a0a){const _0x563bc4=this['system']['app']['scene']['layers'];let _0x4eaed8;if(this['_meshInsta'+'nces']){for(let _0x56fd08=0x1d57+-0x1048+-0xd0f;_0x56fd08<this['_layers']['length'];_0x56fd08++)_0x4eaed8=_0x563bc4['getLayerBy'+'Id'](this['_layers'][_0x56fd08]),_0x4eaed8&&_0x4eaed8['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x5*0x107+-0x1f63+0x8*0x348;for(let _0xc41205=0x2400+0x203b+0x443b*-0x1;_0xc41205<_0x5a2a0a['length'];_0xc41205++)this['_layers'][_0xc41205]=_0x5a2a0a[_0xc41205];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x20bd81=-0xdb7*0x1+0x148+0xc6f;_0x20bd81<this['_layers']['length'];_0x20bd81++)_0x4eaed8=_0x563bc4['getLayerBy'+'Id'](this['_layers'][_0x20bd81]),_0x4eaed8&&_0x4eaed8['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x26ebae){var _0x5c3633,_0x361074;this['_batchGrou'+'pId']!==_0x26ebae&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x16fd*-0x1+-0x277*-0x1+-0x1974&&((_0x5c3633=this['system']['app']['batcher'])==null||_0x5c3633['remove'](rt['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x26ebae>=0x2*0xd8a+0x1bfe+-0x3ef*0xe&&((_0x361074=this['system']['app']['batcher'])==null||_0x361074['insert'](rt['RENDER'],_0x26ebae,this['entity'])),_0x26ebae<-0x12cb*0x2+0x180b+-0x1*-0xd8b&&this['_batchGrou'+'pId']>=-0x4ed*-0x7+-0x1281+-0xffa&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x26ebae);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x8ef9e1){if(this['_material']!==_0x8ef9e1&&(this['_material']=_0x8ef9e1,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x52652f=-0x19e6+-0x17bf*-0x1+0x227;_0x52652f<this['_meshInsta'+'nces']['length'];_0x52652f++)this['_meshInsta'+'nces'][_0x52652f]['material']=_0x8ef9e1;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x44fb36=[]){if(this['_materialR'+'eferences']['length']>_0x44fb36['length']){for(let _0x14c287=_0x44fb36['length'];_0x14c287<this['_materialR'+'eferences']['length'];_0x14c287++)this['_materialR'+'eferences'][_0x14c287]['id']=null;this['_materialR'+'eferences']['length']=_0x44fb36['length'];}for(let _0x53c082=-0x145+0x1*-0x1963+0x1aa8*0x1;_0x53c082<_0x44fb36['length'];_0x53c082++)if(this['_materialR'+'eferences'][_0x53c082]||this['_materialR'+'eferences']['push'](new qo(_0x53c082,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x44fb36[_0x53c082]){const _0x29be44=_0x44fb36[_0x53c082]instanceof he?_0x44fb36[_0x53c082]['id']:_0x44fb36[_0x53c082];this['_materialR'+'eferences'][_0x53c082]['id']!==_0x29be44&&(this['_materialR'+'eferences'][_0x53c082]['id']=_0x29be44),this['_materialR'+'eferences'][_0x53c082]['asset']&&this['_onMateria'+'lAdded'](_0x53c082,this,this['_materialR'+'eferences'][_0x53c082]['asset']);}else this['_materialR'+'eferences'][_0x53c082]['id']=null,this['_meshInsta'+'nces'][_0x53c082]&&(this['_meshInsta'+'nces'][_0x53c082]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x3d59ac=>_0x3d59ac['id']);}set['asset'](_0x30d1de){const _0x50bb1e=_0x30d1de instanceof he?_0x30d1de['id']:_0x30d1de;this['_assetRefe'+'rence']['id']!==_0x50bb1e&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x50bb1e,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x5df299){const _0x1c1b71=_0x5df299 instanceof he?_0x5df299['id']:_0x5df299;this['_assetRefe'+'rence']['id']=_0x1c1b71;}set['rootBone'](_0x22c3d3){if(this['_rootBone']!==_0x22c3d3){const _0x5cc425=typeof _0x22c3d3=='string';if(this['_rootBone']&&_0x5cc425&&this['_rootBone']['getGuid']()===_0x22c3d3)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x22c3d3 instanceof Oe?this['_rootBone']=_0x22c3d3:_0x5cc425?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x22c3d3)||null,this['_rootBone']||b['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x5a5bc3=this['_meshInsta'+'nces'];if(_0x5a5bc3){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x373d36=-0x14*0xc1+-0x1c1e+0x2b32;_0x373d36<_0x5a5bc3['length'];_0x373d36++)_0x5a5bc3[_0x373d36]['destroy']();this['_meshInsta'+'nces']['length']=0x8*-0x95+0xc4d+-0x67*0x13;}}['addToLayer'+'s'](){const _0x39a0e2=this['system']['app']['scene']['layers'];for(let _0x2ec54e=0x1f1a+-0x2405+-0x4eb*-0x1;_0x2ec54e<this['_layers']['length'];_0x2ec54e++){const _0x5ebd03=_0x39a0e2['getLayerBy'+'Id'](this['_layers'][_0x2ec54e]);_0x5ebd03&&_0x5ebd03['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x433147=this['system']['app']['scene']['layers'];for(let _0x57ee01=0x10a1+0x8df+-0xc0*0x22;_0x57ee01<this['_layers']['length'];_0x57ee01++){const _0x49cf27=_0x433147['getLayerBy'+'Id'](this['_layers'][_0x57ee01]);_0x49cf27&&_0x49cf27['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x4f7400=0xf*-0xf+0xb*0x2d5+-0x1e46;_0x4f7400<this['_materialR'+'eferences']['length'];_0x4f7400++)this['_materialR'+'eferences'][_0x4f7400]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2260e1,_0x4157d2){this['addToLayer'+'s'](),_0x2260e1['off']('add',this['onLayerAdd'+'ed'],this),_0x2260e1['off']('remove',this['onLayerRem'+'oved'],this),_0x4157d2['on']('add',this['onLayerAdd'+'ed'],this),_0x4157d2['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x1d5757){this['layers']['indexOf'](_0x1d5757['id'])<-0x60a+0x1dbd+0x17b3*-0x1||_0x1d5757['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x5a3fc9){this['layers']['indexOf'](_0x5a3fc9['id'])<-0x207a*-0x1+-0x1*0x214a+0xd0||_0x5a3fc9['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x449a83;const _0x4e7204=this['system']['app'],_0x3de359=_0x4e7204['scene'],_0x481185=_0x3de359['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x3de359['on']('set:layers',this['onLayersCh'+'anged'],this),_0x481185&&(this['_evtLayerA'+'dded']=_0x481185['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x481185['on']('remove',this['onLayerRem'+'oved'],this));const _0x4d7934=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x4d7934&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x12d625=-0x1368+0x6c5*0x2+-0x5de*-0x1;_0x12d625<this['_materialR'+'eferences']['length'];_0x12d625++)this['_materialR'+'eferences'][_0x12d625]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x12d625]['asset']);this['_batchGrou'+'pId']>=-0x873+-0x4c9+-0x4*-0x34f&&((_0x449a83=_0x4e7204['batcher'])==null||_0x449a83['insert'](rt['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x195b40,_0x4d0ec1,_0x49f89a,_0x350bc9;const _0x45ba7e=this['system']['app'],_0x542fbf=_0x45ba7e['scene']['layers'];(_0x195b40=this['_evtLayers'+'Changed'])==null||_0x195b40['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x542fbf&&((_0x4d0ec1=this['_evtLayerA'+'dded'])==null||_0x4d0ec1['off'](),this['_evtLayerA'+'dded']=null,(_0x49f89a=this['_evtLayerR'+'emoved'])==null||_0x49f89a['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0xe2*0xf+-0x47*-0x29+0x1df&&((_0x350bc9=_0x45ba7e['batcher'])==null||_0x350bc9['remove'](rt['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x247f91=0x1*0x17b3+-0x247c+0xcc9;_0x247f91<this['_meshInsta'+'nces']['length'];_0x247f91++)this['_meshInsta'+'nces'][_0x247f91]['visible']=!(0x1c84+0xb9b+0x316*-0xd);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x53a9e4=0x22e*-0xd+-0x1af2+0x3748;_0x53a9e4<this['_meshInsta'+'nces']['length'];_0x53a9e4++)this['_meshInsta'+'nces'][_0x53a9e4]['visible']=!(-0x48b*0x1+-0x125b+0x16e6);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x5b6b7e;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x307397=this['_assetRefe'+'rence']['asset']['resource'];(_0x5b6b7e=this['_evtSetMes'+'hes'])==null||_0x5b6b7e['off'](),this['_evtSetMes'+'hes']=_0x307397['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x307397['meshes']&&this['_onSetMesh'+'es'](_0x307397['meshes']);}}['_onSetMesh'+'es'](_0x35e451){this['_cloneMesh'+'es'](_0x35e451);}['_clearSkin'+'Instances'](){for(let _0x4a02b2=0x5b0+-0x1726*0x1+-0x5d2*-0x3;_0x4a02b2<this['_meshInsta'+'nces']['length'];_0x4a02b2++){const _0x48b76b=this['_meshInsta'+'nces'][_0x4a02b2];$o['removeCach'+'edSkinInst'+'ance'](_0x48b76b['skinInstan'+'ce']),_0x48b76b['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Oe)for(let _0x54d6de=0xe24+0x1bb5*-0x1+-0x1*-0xd91;_0x54d6de<this['_meshInsta'+'nces']['length'];_0x54d6de++){const _0x3b8ed2=this['_meshInsta'+'nces'][_0x54d6de],_0x509710=_0x3b8ed2['mesh'];_0x509710['skin']&&!_0x3b8ed2['skinInstan'+'ce']&&(_0x3b8ed2['skinInstan'+'ce']=$o['createCach'+'edSkinInst'+'ance'](_0x509710['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x569444){if(_0x569444&&_0x569444['length']){const _0x273d52=[];for(let _0x333451=-0x79d+-0x1a51+0x21ee;_0x333451<_0x569444['length'];_0x333451++){const _0x390f15=_0x569444[_0x333451],_0xa714e=this['_materialR'+'eferences'][_0x333451]&&this['_materialR'+'eferences'][_0x333451]['asset']&&this['_materialR'+'eferences'][_0x333451]['asset']['resource'],_0x384eda=new Be(_0x390f15,_0xa714e||this['system']['defaultMat'+'erial'],this['entity']);_0x273d52['push'](_0x384eda),_0x390f15['morph']&&(_0x384eda['morphInsta'+'nce']=new mn(_0x390f15['morph']));}this['meshInstan'+'ces']=_0x273d52,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x4ea9b1;(_0x4ea9b1=this['_evtSetMes'+'hes'])==null||_0x4ea9b1['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x3d80a2,_0x5d1022,_0xf94e65){_0xf94e65['resource']?this['_onMateria'+'lLoad'](_0x3d80a2,_0x5d1022,_0xf94e65):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0xf94e65);}['_updateMai'+'nMaterial'](_0x40fbd2,_0x460601){_0x40fbd2===-0xacd+0x971+0x15c&&(this['material']=_0x460601);}['_onMateria'+'lLoad'](_0x4148cd,_0x3c38e3,_0x1394d2){this['_meshInsta'+'nces'][_0x4148cd]&&(this['_meshInsta'+'nces'][_0x4148cd]['material']=_0x1394d2['resource']),this['_updateMai'+'nMaterial'](_0x4148cd,_0x1394d2['resource']);}['_onMateria'+'lRemove'](_0x29c8a5,_0x1e8055,_0xfb0e11){this['_meshInsta'+'nces'][_0x29c8a5]&&(this['_meshInsta'+'nces'][_0x29c8a5]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x29c8a5,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x5c3ff8,_0x4d2804,_0x33b35c){this['_meshInsta'+'nces'][_0x5c3ff8]&&(this['_meshInsta'+'nces'][_0x5c3ff8]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x5c3ff8,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x50f531,_0x27a6f6){_0x50f531['rootBone']&&(this['rootBone']=_0x27a6f6[_0x50f531['rootBone']['getGuid']()]);}}class fI{constructor(){this['enabled']=!(-0x16ac+0x13d4+0x2d8);}}const yf=['enabled'],Pr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class pI extends Qe{constructor(_0x5bd4de){super(_0x5bd4de),this['id']='render',this['ComponentT'+'ype']=px,this['DataType']=fI,this['schema']=yf,this['defaultMat'+'erial']=cl(_0x5bd4de['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x5f48e2,_0x2f8d85,_0x152058){(_0x2f8d85['batchGroup'+'Id']===null||_0x2f8d85['batchGroup'+'Id']===void(0xa42*0x3+0x19*-0x12e+-0x2*0xa4))&&(_0x2f8d85['batchGroup'+'Id']=-(-0xd81*-0x1+-0x18ab*-0x1+-0x262b)),_0x2f8d85['layers']&&_0x2f8d85['layers']['length']&&(_0x2f8d85['layers']=_0x2f8d85['layers']['slice'](0x1259+0x2352+-0x35ab));for(let _0x15de07=0x1b7a+0x1f4d+-0x3ac7;_0x15de07<Pr['length'];_0x15de07++)_0x2f8d85['hasOwnProp'+'erty'](Pr[_0x15de07])&&(_0x5f48e2[Pr[_0x15de07]]=_0x2f8d85[Pr[_0x15de07]]);_0x2f8d85['aabbCenter']&&_0x2f8d85['aabbHalfEx'+'tents']&&(_0x5f48e2['customAabb']=new ve(new A(_0x2f8d85['aabbCenter']),new A(_0x2f8d85['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x5f48e2,_0x2f8d85,yf);}['cloneCompo'+'nent'](_0x33a5f1,_0x5a789e){const _0x3ee679={};for(let _0x178ed6=0x505+-0x4*-0x5+0x3*-0x1b3;_0x178ed6<Pr['length'];_0x178ed6++)_0x3ee679[Pr[_0x178ed6]]=_0x33a5f1['render'][Pr[_0x178ed6]];_0x3ee679['enabled']=_0x33a5f1['render']['enabled'],delete _0x3ee679['meshInstan'+'ces'];const _0x42cf7b=this['addCompone'+'nt'](_0x5a789e,_0x3ee679),_0x444aca=_0x33a5f1['render']['meshInstan'+'ces'],_0x20669e=_0x444aca['map'](_0x43a99d=>_0x43a99d['mesh']);_0x42cf7b['_onSetMesh'+'es'](_0x20669e);for(let _0x1ce44a=0x2e*-0x79+0x19*-0x5+0x163b;_0x1ce44a<_0x444aca['length'];_0x1ce44a++)_0x42cf7b['meshInstan'+'ces'][_0x1ce44a]['material']=_0x444aca[_0x1ce44a]['material'];return _0x33a5f1['render']['customAabb']&&(_0x42cf7b['customAabb']=_0x33a5f1['render']['customAabb']['clone']()),_0x42cf7b;}['onRemove'](_0x5a0a11,_0x28dee6){_0x28dee6['onRemove']();}}pe['_buildAcce'+'ssors'](px['prototype'],yf);class tu{constructor(_0x25583f,_0x45cb63){c(this,'_construct'+'or'),c(this,'_pool',[]),c(this,'_count',0x199+0xc95*-0x3+-0x2*-0x1213),(this['_construct'+'or']=_0x25583f,this['_resize'](_0x45cb63));}['_resize'](_0xacc75f){if(_0xacc75f>this['_pool']['length']){for(let _0x2295a9=this['_pool']['length'];_0x2295a9<_0xacc75f;_0x2295a9++)this['_pool'][_0x2295a9]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x1d2+-0x1995+0x1*0x17c5)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x1d5a+-0x2*0x419+0x258c;}}let Yt,we,ws,qn;const mI=new ie(),_I=new ie(),ih=new A();class Ys extends pe{constructor(){super(...arguments),c(this,'_angularDa'+'mping',0x8be+-0x24ef+0x1*0x1c31),c(this,'_angularFa'+'ctor',new A(0x1f54+-0x1413+-0xb40,-0x2e4+0x1211*0x1+-0xf2c,0x1*-0x165a+0x863+-0x18*-0x95)),c(this,'_angularVe'+'locity',new A()),c(this,'_body',null),c(this,'_friction',0xf42+-0x1330+0x1*0x3ee+0.5),c(this,'_group',lg),c(this,'_linearDam'+'ping',0x1495*0x1+-0x1cfb+0x866*0x1),c(this,'_linearFac'+'tor',new A(-0x2263+0x17*0x16+-0x2*-0x1035,-0x114d+0x1617+-0x4c9,0x24bb+-0x2e9+-0x21d1)),c(this,'_linearVel'+'ocity',new A()),c(this,'_mask',cf),c(this,'_mass',-0x6*-0x425+0x1*-0x753+-0x118a*0x1),c(this,'_restituti'+'on',0x1319*-0x1+-0x49*0x4d+-0x1487*-0x2),c(this,'_rollingFr'+'iction',0x51*0x65+-0xd*0x287+0xe6),c(this,'_simulatio'+'nEnabled',!(-0x11*-0x171+0x3f9+0xc5*-0x25)),c(this,'_type',ao);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(Yt=new Ammo['btTransfor'+'m'](),we=new Ammo['btVector3'](),ws=new Ammo['btVector3'](),qn=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](Yt),Ammo['destroy'](we),Ammo['destroy'](ws),Ammo['destroy'](qn),Yt=null,we=null,ws=null,qn=null;}set['angularDam'+'ping'](_0x47c647){this['_angularDa'+'mping']!==_0x47c647&&(this['_angularDa'+'mping']=_0x47c647,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x47c647));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x54f56c){this['_angularFa'+'ctor']['equals'](_0x54f56c)||(this['_angularFa'+'ctor']['copy'](_0x54f56c),this['_body']&&this['_type']===vs&&(we['setValue'](_0x54f56c['x'],_0x54f56c['y'],_0x54f56c['z']),this['_body']['setAngular'+'Factor'](we)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x31ce0){this['_body']&&this['_type']===vs&&(this['_body']['activate'](),we['setValue'](_0x31ce0['x'],_0x31ce0['y'],_0x31ce0['z']),this['_body']['setAngular'+'Velocity'](we),this['_angularVe'+'locity']['copy'](_0x31ce0));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===vs){const _0xe994c=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0xe994c['x'](),_0xe994c['y'](),_0xe994c['z']());}return this['_angularVe'+'locity'];}set['body'](_0x26d205){this['_body']!==_0x26d205&&(this['_body']=_0x26d205,_0x26d205&&this['_simulatio'+'nEnabled']&&_0x26d205['activate']());}get['body'](){return this['_body'];}set['friction'](_0x9f6940){this['_friction']!==_0x9f6940&&(this['_friction']=_0x9f6940,this['_body']&&this['_body']['setFrictio'+'n'](_0x9f6940));}get['friction'](){return this['_friction'];}set['group'](_0x3068d6){this['_group']!==_0x3068d6&&(this['_group']=_0x3068d6,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x3bf995){this['_linearDam'+'ping']!==_0x3bf995&&(this['_linearDam'+'ping']=_0x3bf995,this['_body']&&this['_body']['setDamping'](_0x3bf995,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x2f2cf6){this['_linearFac'+'tor']['equals'](_0x2f2cf6)||(this['_linearFac'+'tor']['copy'](_0x2f2cf6),this['_body']&&this['_type']===vs&&(we['setValue'](_0x2f2cf6['x'],_0x2f2cf6['y'],_0x2f2cf6['z']),this['_body']['setLinearF'+'actor'](we)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0xca0db3){this['_body']&&this['_type']===vs&&(this['_body']['activate'](),we['setValue'](_0xca0db3['x'],_0xca0db3['y'],_0xca0db3['z']),this['_body']['setLinearV'+'elocity'](we),this['_linearVel'+'ocity']['copy'](_0xca0db3));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===vs){const _0x5934dd=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x5934dd['x'](),_0x5934dd['y'](),_0x5934dd['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x3adc24){this['_mask']!==_0x3adc24&&(this['_mask']=_0x3adc24,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x2d23e6){if(this['_mass']!==_0x2d23e6&&(this['_mass']=_0x2d23e6,this['_body']&&this['_type']===vs)){const _0x71b5a9=this['enabled']&&this['entity']['enabled'];_0x71b5a9&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x2d23e6,we),this['_body']['setMassPro'+'ps'](_0x2d23e6,we),this['_body']['updateIner'+'tiaTensor'](),_0x71b5a9&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x35a9fe){this['_restituti'+'on']!==_0x35a9fe&&(this['_restituti'+'on']=_0x35a9fe,this['_body']&&this['_body']['setRestitu'+'tion'](_0x35a9fe));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x20e08d){this['_rollingFr'+'iction']!==_0x20e08d&&(this['_rollingFr'+'iction']=_0x20e08d,this['_body']&&this['_body']['setRolling'+'Friction'](_0x20e08d));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x31c5bd){if(this['_type']!==_0x31c5bd){switch(this['_type']=_0x31c5bd,this['disableSim'+'ulation'](),_0x31c5bd){case vs:this['_group']=sR,this['_mask']=cg;break;case zn:this['_group']=iR,this['_mask']=cg;break;case ao:default:this['_group']=lg,this['_mask']=cf;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x7448ca=this['entity'];let _0x14a180;if(_0x7448ca['collision']&&(_0x14a180=_0x7448ca['collision']['shape'],_0x7448ca['trigger']&&(_0x7448ca['trigger']['destroy'](),delete _0x7448ca['trigger'])),_0x14a180){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x46bee2=this['_type']===vs?this['_mass']:-0x7*-0x95+0xe9d+-0x12b0;this['_getEntity'+'Transform'](Yt);const _0x11c334=this['system']['createBody'](_0x46bee2,_0x14a180,Yt);if(_0x11c334['setRestitu'+'tion'](this['_restituti'+'on']),_0x11c334['setFrictio'+'n'](this['_friction']),_0x11c334['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x11c334['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===vs){const _0x512109=this['_linearFac'+'tor'];we['setValue'](_0x512109['x'],_0x512109['y'],_0x512109['z']),_0x11c334['setLinearF'+'actor'](we);const _0x5b16f2=this['_angularFa'+'ctor'];we['setValue'](_0x5b16f2['x'],_0x5b16f2['y'],_0x5b16f2['z']),_0x11c334['setAngular'+'Factor'](we);}else this['_type']===zn&&(_0x11c334['setCollisi'+'onFlags'](_0x11c334['getCollisi'+'onFlags']()|tR),_0x11c334['setActivat'+'ionState'](og));_0x11c334['entity']=_0x7448ca,this['body']=_0x11c334,this['enabled']&&_0x7448ca['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0xc9*0x11+-0x23b0+0x1658);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x3ee883=this['entity'];if(_0x3ee883['collision']&&_0x3ee883['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x398379=this['_body'];if(_0x398379){switch(this['system']['addBody'](_0x398379,this['_group'],this['_mask']),this['_type']){case vs:this['system']['_dynamic']['push'](this),_0x398379['forceActiv'+'ationState'](hf),this['syncEntity'+'ToBody']();break;case zn:this['system']['_kinematic']['push'](this),_0x398379['forceActiv'+'ationState'](og);break;case ao:_0x398379['forceActiv'+'ationState'](hf),this['syncEntity'+'ToBody']();break;}_0x3ee883['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x3ee883['collision']),_0x398379['activate'](),this['_simulatio'+'nEnabled']=!(-0x1eb5+0xf51+0xf64);}}}['disableSim'+'ulation'](){const _0xcb8199=this['_body'];if(_0xcb8199&&this['_simulatio'+'nEnabled']){const _0x3bfe37=this['system'];let _0x20e597=_0x3bfe37['_compounds']['indexOf'](this['entity']['collision']);_0x20e597>-(-0xa8*-0x1+-0x1*-0x128+-0x1cf)&&_0x3bfe37['_compounds']['splice'](_0x20e597,-0x2438+-0x1136+0x356f),_0x20e597=_0x3bfe37['_dynamic']['indexOf'](this),_0x20e597>-(0x5*0x2de+-0x131*-0x4+0x1319*-0x1)&&_0x3bfe37['_dynamic']['splice'](_0x20e597,0x392*-0x5+-0xaca*-0x3+-0x5*0x2e7),_0x20e597=_0x3bfe37['_kinematic']['indexOf'](this),_0x20e597>-(0x32d+-0x17f0+0x2*0xa62)&&_0x3bfe37['_kinematic']['splice'](_0x20e597,-0x1*-0xa4+0x1*0x733+-0x7d6),_0x3bfe37['removeBody'](_0xcb8199),_0xcb8199['forceActiv'+'ationState'](sx),this['_simulatio'+'nEnabled']=!(0x1cd4+-0x3a9*0x9+0x2*0x20f);}}['applyForce'](_0x9594fb,_0x3b9e65,_0x4e83c0,_0x1084d4,_0xc6284b,_0x418bb3){const _0x3872eb=this['_body'];_0x3872eb&&(_0x3872eb['activate'](),_0x9594fb instanceof A?we['setValue'](_0x9594fb['x'],_0x9594fb['y'],_0x9594fb['z']):we['setValue'](_0x9594fb,_0x3b9e65,_0x4e83c0),_0x3b9e65 instanceof A?ws['setValue'](_0x3b9e65['x'],_0x3b9e65['y'],_0x3b9e65['z']):_0x1084d4!==void(0x35*0x3d+0x331+-0x195*0xa)?ws['setValue'](_0x1084d4,_0xc6284b,_0x418bb3):ws['setValue'](-0x1cd9+0x878+0x1461,0x1bcb+0x1f8+-0x1dc3,0x23e5+-0x185f*0x1+0xa*-0x127),_0x3872eb['applyForce'](we,ws));}['applyTorqu'+'e'](_0x378bd2,_0x2a62aa,_0x1080d4){const _0x403554=this['_body'];_0x403554&&(_0x403554['activate'](),_0x378bd2 instanceof A?we['setValue'](_0x378bd2['x'],_0x378bd2['y'],_0x378bd2['z']):we['setValue'](_0x378bd2,_0x2a62aa,_0x1080d4),_0x403554['applyTorqu'+'e'](we));}['applyImpul'+'se'](_0xd18818,_0x1d2596,_0x4a539b,_0x4b2cc6,_0x2389f6,_0x1ef2fe){const _0x31e3a7=this['_body'];_0x31e3a7&&(_0x31e3a7['activate'](),_0xd18818 instanceof A?we['setValue'](_0xd18818['x'],_0xd18818['y'],_0xd18818['z']):we['setValue'](_0xd18818,_0x1d2596,_0x4a539b),_0x1d2596 instanceof A?ws['setValue'](_0x1d2596['x'],_0x1d2596['y'],_0x1d2596['z']):_0x4b2cc6!==void(0x18e5+-0x1f8a+0x6a5)?ws['setValue'](_0x4b2cc6,_0x2389f6,_0x1ef2fe):ws['setValue'](-0x1f8*0x8+0x1f37*0x1+-0x1*0xf77,-0x7e9+-0x1eab+-0xcdc*-0x3,0x1fc1+-0x2*0x985+0x1*-0xcb7),_0x31e3a7['applyImpul'+'se'](we,ws));}['applyTorqu'+'eImpulse'](_0x3433e2,_0xf392e,_0x2cc25c){const _0x5159ae=this['_body'];_0x5159ae&&(_0x5159ae['activate'](),_0x3433e2 instanceof A?we['setValue'](_0x3433e2['x'],_0x3433e2['y'],_0x3433e2['z']):we['setValue'](_0x3433e2,_0xf392e,_0x2cc25c),_0x5159ae['applyTorqu'+'eImpulse'](we));}['isStatic'](){return this['_type']===ao;}['isStaticOr'+'Kinematic'](){return this['_type']===ao||this['_type']===zn;}['isKinemati'+'c'](){return this['_type']===zn;}['_getEntity'+'Transform'](_0x245f6b){const _0x53427a=this['entity'],_0x19275a=_0x53427a['collision'];if(_0x19275a){const _0x43fba4=_0x19275a['getShapePo'+'sition'](),_0x145650=_0x19275a['getShapeRo'+'tation']();we['setValue'](_0x43fba4['x'],_0x43fba4['y'],_0x43fba4['z']),qn['setValue'](_0x145650['x'],_0x145650['y'],_0x145650['z'],_0x145650['w']);}else{const _0xb20f47=_0x53427a['getPositio'+'n'](),_0xf25af4=_0x53427a['getRotatio'+'n']();we['setValue'](_0xb20f47['x'],_0xb20f47['y'],_0xb20f47['z']),qn['setValue'](_0xf25af4['x'],_0xf25af4['y'],_0xf25af4['z'],_0xf25af4['w']);}_0x245f6b['setOrigin'](we),_0x245f6b['setRotatio'+'n'](qn);}['syncEntity'+'ToBody'](){const _0x1f2e4a=this['_body'];if(_0x1f2e4a){if(this['_getEntity'+'Transform'](Yt),_0x1f2e4a['setWorldTr'+'ansform'](Yt),this['_type']===zn){const _0x160bf8=_0x1f2e4a['getMotionS'+'tate']();_0x160bf8&&_0x160bf8['setWorldTr'+'ansform'](Yt);}_0x1f2e4a['activate']();}}['_updateDyn'+'amic'](){const _0x50a08f=this['_body'];if(_0x50a08f['isActive']()){const _0xa167b4=_0x50a08f['getMotionS'+'tate']();if(_0xa167b4){const _0x5bd00c=this['entity'];_0xa167b4['getWorldTr'+'ansform'](Yt);const _0x4ccefe=Yt['getOrigin'](),_0x276100=Yt['getRotatio'+'n'](),_0x5bbdfd=_0x5bd00c['collision'];if(_0x5bbdfd&&_0x5bbdfd['_hasOffset']){const _0x1d11da=_0x5bbdfd['data']['linearOffs'+'et'],_0x3bf93f=_0x5bbdfd['data']['angularOff'+'set'],_0x10d475=_I['copy'](_0x3bf93f)['invert'](),_0x3c7bca=mI['set'](_0x276100['x'](),_0x276100['y'](),_0x276100['z'](),_0x276100['w']())['mul'](_0x10d475);_0x3c7bca['transformV'+'ector'](_0x1d11da,ih),_0x5bd00c['setPositio'+'n'](_0x4ccefe['x']()-ih['x'],_0x4ccefe['y']()-ih['y'],_0x4ccefe['z']()-ih['z']),_0x5bd00c['setRotatio'+'n'](_0x3c7bca);}else _0x5bd00c['setPositio'+'n'](_0x4ccefe['x'](),_0x4ccefe['y'](),_0x4ccefe['z']()),_0x5bd00c['setRotatio'+'n'](_0x276100['x'](),_0x276100['y'](),_0x276100['z'](),_0x276100['w']());}}}['_updateKin'+'ematic'](){const _0xc24399=this['_body']['getMotionS'+'tate']();_0xc24399&&(this['_getEntity'+'Transform'](Yt),_0xc24399['setWorldTr'+'ansform'](Yt));}['teleport'](_0x154b31,_0x1680f9,_0x304148,_0x19540a,_0xbdab79,_0x5cc3c0){_0x154b31 instanceof A?this['entity']['setPositio'+'n'](_0x154b31):this['entity']['setPositio'+'n'](_0x154b31,_0x1680f9,_0x304148),_0x1680f9 instanceof ie?this['entity']['setRotatio'+'n'](_0x1680f9):_0x1680f9 instanceof A?this['entity']['setEulerAn'+'gles'](_0x1680f9):_0x19540a!==void(0xc2*0x2b+0x2*-0xce2+0x3*-0x246)&&this['entity']['setEulerAn'+'gles'](_0x19540a,_0xbdab79,_0x5cc3c0),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}c(Ys,'EVENT_CONT'+'ACT','contact'),c(Ys,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),c(Ys,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),c(Ys,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),c(Ys,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),c(Ys,'order',-(0x1456*-0x1+0x1*0x4df+0xf78));class gI{constructor(){this['enabled']=!(0xb89+0x3af*-0x5+-0x6e2*-0x1);}}let di,ui;class Sg{constructor(_0x1b0924,_0x47ee46,_0x470674,_0x40f063){c(this,'entity'),c(this,'point'),c(this,'normal'),c(this,'hitFractio'+'n'),(this['entity']=_0x1b0924,this['point']=_0x47ee46,this['normal']=_0x470674,this['hitFractio'+'n']=_0x40f063);}}class yI{constructor(_0x465b44,_0x4627e0,_0x2942e8){c(this,'a'),c(this,'b'),c(this,'impulse'),c(this,'localPoint'+'A'),c(this,'localPoint'+'B'),c(this,'pointA'),c(this,'pointB'),c(this,'normal'),arguments['length']!==-0x1079*-0x1+-0x3b0+0x443*-0x3?(this['a']=_0x465b44,this['b']=_0x4627e0,this['impulse']=_0x2942e8['impulse'],this['localPoint'+'A']=_0x2942e8['localPoint'],this['localPoint'+'B']=_0x2942e8['localPoint'+'Other'],this['pointA']=_0x2942e8['point'],this['pointB']=_0x2942e8['pointOther'],this['normal']=_0x2942e8['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x22b2+-0x803+0xd*0x349,this['localPoint'+'A']=new A(),this['localPoint'+'B']=new A(),this['pointA']=new A(),this['pointB']=new A(),this['normal']=new A());}}class xI{constructor(_0x2fa264=new A(),_0x1f250f=new A(),_0x7a4485=new A(),_0x279df2=new A(),_0x3975cd=new A(),_0x313640=0x4a3+0x219*0x2+-0x85*0x11){c(this,'localPoint'),c(this,'localPoint'+'Other'),c(this,'point'),c(this,'pointOther'),c(this,'normal'),c(this,'impulse'),(this['localPoint']=_0x2fa264,this['localPoint'+'Other']=_0x1f250f,this['point']=_0x7a4485,this['pointOther']=_0x279df2,this['normal']=_0x3975cd,this['impulse']=_0x313640);}}class SI{constructor(_0x1c5795,_0x4f3897){c(this,'other'),c(this,'contacts'),(this['other']=_0x1c5795,this['contacts']=_0x4f3897);}}const mx=['enabled'];class _x extends Qe{constructor(_0x155602){super(_0x155602),c(this,'maxSubStep'+'s',0x15f4*0x1+-0xf*-0x38+-0x1932),c(this,'fixedTimeS'+'tep',(0x207*0x1+-0x8e8+-0x1*-0x6e2)/(-0x6d*0x41+-0x1501+0x30ea)),c(this,'gravity',new A(-0xe34+-0x3b*-0x73+0x1*-0xc4d,-(0x17f9+0x2545+-0x3d35+0.8100000000000005),0x189c+-0x339+-0x1563)),c(this,'_gravityFl'+'oat32',new Float32Array(-0x182*-0x5+-0xad*0xf+-0x1*-0x29c)),c(this,'_dynamic',[]),c(this,'_kinematic',[]),c(this,'_triggers',[]),c(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x155602['stats']['frame'],this['ComponentT'+'ype']=Ys,this['DataType']=gI,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=mx,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x5294a2=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x5294a2);}else b['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');di=new Ammo['btVector3'](),ui=new Ammo['btVector3'](),Ys['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new tu(xI,-0x7*0x515+0x1*-0x1594+0x3928),this['contactRes'+'ultPool']=new tu(SI,-0x14d5*-0x1+0x18d*-0x5+0xd13*-0x1),this['singleCont'+'actResultP'+'ool']=new tu(yI,-0x1c71+-0x5*-0x239+0x1155),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x51e253,_0x2c6ff4,_0x45d93f){const _0x57c949=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x1e58e4 of _0x57c949)if(_0x2c6ff4['hasOwnProp'+'erty'](_0x1e58e4)){const _0x27a35d=_0x2c6ff4[_0x1e58e4];Array['isArray'](_0x27a35d)?_0x51e253[_0x1e58e4]=new A(_0x27a35d[0x2614+-0x1226*0x2+-0x1c8],_0x27a35d[-0x2204+-0x22f*0xd+0x4*0xf9a],_0x27a35d[0x976+-0x1fa3+0x162f]):_0x51e253[_0x1e58e4]=_0x27a35d;}super['initialize'+'ComponentD'+'ata'](_0x51e253,_0x2c6ff4,['enabled']);}['cloneCompo'+'nent'](_0x479f5c,_0x3cd6b3){const _0x243bed=_0x479f5c['rigidbody'],_0xd3fe4f={'enabled':_0x243bed['enabled'],'mass':_0x243bed['mass'],'linearDamping':_0x243bed['linearDamp'+'ing'],'angularDamping':_0x243bed['angularDam'+'ping'],'linearFactor':[_0x243bed['linearFact'+'or']['x'],_0x243bed['linearFact'+'or']['y'],_0x243bed['linearFact'+'or']['z']],'angularFactor':[_0x243bed['angularFac'+'tor']['x'],_0x243bed['angularFac'+'tor']['y'],_0x243bed['angularFac'+'tor']['z']],'friction':_0x243bed['friction'],'rollingFriction':_0x243bed['rollingFri'+'ction'],'restitution':_0x243bed['restitutio'+'n'],'type':_0x243bed['type'],'group':_0x243bed['group'],'mask':_0x243bed['mask']};return this['addCompone'+'nt'](_0x3cd6b3,_0xd3fe4f);}['onBeforeRe'+'move'](_0x1de09a,_0x3d41e4){_0x3d41e4['enabled']&&(_0x3d41e4['enabled']=!(-0x1*0x7e9+-0x1b3e+0x2328)),_0x3d41e4['body']&&(this['destroyBod'+'y'](_0x3d41e4['body']),_0x3d41e4['body']=null);}['addBody'](_0x32ac45,_0x353b2a,_0x282eec){_0x353b2a!==void(0x62d*-0x6+0x1f83+0x58b)&&_0x282eec!==void(-0x3f1*-0x7+0xfd8+-0x2b6f*0x1)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32ac45,_0x353b2a,_0x282eec):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x32ac45);}['removeBody'](_0x3c85de){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x3c85de);}['createBody'](_0x11e24b,_0x3e5bc0,_0x24b48f){const _0xecbfaf=new Ammo['btVector3'](0x157*-0x13+-0x1a03+0x1e8*0x1b,0x1d49+0x5*0x48d+-0x1*0x340a,0xd26*-0x1+-0xbb4+0x18da);_0x11e24b!==-0xda8+0x17d+0x26f*0x5&&_0x3e5bc0['calculateL'+'ocalInerti'+'a'](_0x11e24b,_0xecbfaf);const _0xc94979=new Ammo['btDefaultM'+'otionState'](_0x24b48f),_0x55a41e=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x11e24b,_0xc94979,_0x3e5bc0,_0xecbfaf),_0x53692b=new Ammo['btRigidBod'+'y'](_0x55a41e);return Ammo['destroy'](_0x55a41e),Ammo['destroy'](_0xecbfaf),_0x53692b;}['destroyBod'+'y'](_0x45e488){const _0x3907ee=_0x45e488['getMotionS'+'tate']();_0x3907ee&&Ammo['destroy'](_0x3907ee),Ammo['destroy'](_0x45e488);}['raycastFir'+'st'](_0x2fbf48,_0xada54c,_0x3af044={}){if(_0x3af044['filterTags']||_0x3af044['filterCall'+'back'])return _0x3af044['sort']=!(0x1*-0x24c5+0x2238+0x1*0x28d),this['raycastAll'](_0x2fbf48,_0xada54c,_0x3af044)[-0x86a+0x2c5*0xb+-0x160d]||null;let _0x3aaa44=null;di['setValue'](_0x2fbf48['x'],_0x2fbf48['y'],_0x2fbf48['z']),ui['setValue'](_0xada54c['x'],_0xada54c['y'],_0xada54c['z']);const _0x234155=new Ammo['ClosestRay'+'ResultCall'+'back'](di,ui);if(typeof _0x3af044['filterColl'+'isionGroup']=='number'&&_0x234155['set_m_coll'+'isionFilte'+'rGroup'](_0x3af044['filterColl'+'isionGroup']),typeof _0x3af044['filterColl'+'isionMask']=='number'&&_0x234155['set_m_coll'+'isionFilte'+'rMask'](_0x3af044['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](di,ui,_0x234155),_0x234155['hasHit']()){const _0x54f1b5=_0x234155['get_m_coll'+'isionObjec'+'t'](),_0x21e3bf=Ammo['castObject'](_0x54f1b5,Ammo['btRigidBod'+'y']);if(_0x21e3bf){const _0x7954ee=_0x234155['get_m_hitP'+'ointWorld'](),_0x54c84c=_0x234155['get_m_hitN'+'ormalWorld']();_0x3aaa44=new Sg(_0x21e3bf['entity'],new A(_0x7954ee['x'](),_0x7954ee['y'](),_0x7954ee['z']()),new A(_0x54c84c['x'](),_0x54c84c['y'](),_0x54c84c['z']()),_0x234155['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x234155),_0x3aaa44;}['raycastAll'](_0x5cfcfa,_0x42105c,_0x10e414={}){b['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x504efb=[];di['setValue'](_0x5cfcfa['x'],_0x5cfcfa['y'],_0x5cfcfa['z']),ui['setValue'](_0x42105c['x'],_0x42105c['y'],_0x42105c['z']);const _0xa319a5=new Ammo['AllHitsRay'+'ResultCall'+'back'](di,ui);if(typeof _0x10e414['filterColl'+'isionGroup']=='number'&&_0xa319a5['set_m_coll'+'isionFilte'+'rGroup'](_0x10e414['filterColl'+'isionGroup']),typeof _0x10e414['filterColl'+'isionMask']=='number'&&_0xa319a5['set_m_coll'+'isionFilte'+'rMask'](_0x10e414['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](di,ui,_0xa319a5),_0xa319a5['hasHit']()){const _0x4dde78=_0xa319a5['get_m_coll'+'isionObjec'+'ts'](),_0x59a8e4=_0xa319a5['get_m_hitP'+'ointWorld'](),_0x4bc220=_0xa319a5['get_m_hitN'+'ormalWorld'](),_0x210b54=_0xa319a5['get_m_hitF'+'ractions'](),_0x3f7fdd=_0x4dde78['size']();for(let _0x33c524=0x188*0x4+0x1a5b+-0x207b;_0x33c524<_0x3f7fdd;_0x33c524++){const _0x1a5693=Ammo['castObject'](_0x4dde78['at'](_0x33c524),Ammo['btRigidBod'+'y']);if(_0x1a5693&&_0x1a5693['entity']){if(_0x10e414['filterTags']&&!_0x1a5693['entity']['tags']['has'](..._0x10e414['filterTags'])||_0x10e414['filterCall'+'back']&&!_0x10e414['filterCall'+'back'](_0x1a5693['entity']))continue;const _0x16c00d=_0x59a8e4['at'](_0x33c524),_0x4ce6ff=_0x4bc220['at'](_0x33c524),_0x2790ce=new Sg(_0x1a5693['entity'],new A(_0x16c00d['x'](),_0x16c00d['y'](),_0x16c00d['z']()),new A(_0x4ce6ff['x'](),_0x4ce6ff['y'](),_0x4ce6ff['z']()),_0x210b54['at'](_0x33c524));_0x504efb['push'](_0x2790ce);}}_0x10e414['sort']&&_0x504efb['sort']((_0x20d9f6,_0x18b476)=>_0x20d9f6['hitFractio'+'n']-_0x18b476['hitFractio'+'n']);}return Ammo['destroy'](_0xa319a5),_0x504efb;}['_storeColl'+'ision'](_0x2e0dd2,_0x386e01){let _0x289d20=!(0xcc4*-0x1+-0x47*-0x6d+-0x1176);const _0x4250bd=_0x2e0dd2['getGuid']();return this['collisions'][_0x4250bd]=this['collisions'][_0x4250bd]||{'others':[],'entity':_0x2e0dd2},this['collisions'][_0x4250bd]['others']['indexOf'](_0x386e01)<0x1*-0xd5d+0x26b3*0x1+-0x1956&&(this['collisions'][_0x4250bd]['others']['push'](_0x386e01),_0x289d20=!(0x3b+-0x66a*0x3+0x1303)),this['frameColli'+'sions'][_0x4250bd]=this['frameColli'+'sions'][_0x4250bd]||{'others':[],'entity':_0x2e0dd2},this['frameColli'+'sions'][_0x4250bd]['others']['push'](_0x386e01),_0x289d20;}['_createCon'+'tactPointF'+'romAmmo'](_0x1b1354){const _0x33c08b=_0x1b1354['get_m_loca'+'lPointA'](),_0x1aede5=_0x1b1354['get_m_loca'+'lPointB'](),_0x234144=_0x1b1354['getPositio'+'nWorldOnA'](),_0x5111fa=_0x1b1354['getPositio'+'nWorldOnB'](),_0x3088b3=_0x1b1354['get_m_norm'+'alWorldOnB'](),_0x2af486=this['contactPoi'+'ntPool']['allocate']();return _0x2af486['localPoint']['set'](_0x33c08b['x'](),_0x33c08b['y'](),_0x33c08b['z']()),_0x2af486['localPoint'+'Other']['set'](_0x1aede5['x'](),_0x1aede5['y'](),_0x1aede5['z']()),_0x2af486['point']['set'](_0x234144['x'](),_0x234144['y'](),_0x234144['z']()),_0x2af486['pointOther']['set'](_0x5111fa['x'](),_0x5111fa['y'](),_0x5111fa['z']()),_0x2af486['normal']['set'](_0x3088b3['x'](),_0x3088b3['y'](),_0x3088b3['z']()),_0x2af486['impulse']=_0x1b1354['getApplied'+'Impulse'](),_0x2af486;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x28fbee){const _0x58bdc7=_0x28fbee['get_m_loca'+'lPointA'](),_0x3698f9=_0x28fbee['get_m_loca'+'lPointB'](),_0xc55faa=_0x28fbee['getPositio'+'nWorldOnA'](),_0x17e5b9=_0x28fbee['getPositio'+'nWorldOnB'](),_0x246aee=_0x28fbee['get_m_norm'+'alWorldOnB'](),_0x37c467=this['contactPoi'+'ntPool']['allocate']();return _0x37c467['localPoint'+'Other']['set'](_0x58bdc7['x'](),_0x58bdc7['y'](),_0x58bdc7['z']()),_0x37c467['localPoint']['set'](_0x3698f9['x'](),_0x3698f9['y'](),_0x3698f9['z']()),_0x37c467['pointOther']['set'](_0xc55faa['x'](),_0xc55faa['y'](),_0xc55faa['z']()),_0x37c467['point']['set'](_0x17e5b9['x'](),_0x17e5b9['y'](),_0x17e5b9['z']()),_0x37c467['normal']['set'](_0x246aee['x'](),_0x246aee['y'](),_0x246aee['z']()),_0x37c467['impulse']=_0x28fbee['getApplied'+'Impulse'](),_0x37c467;}['_createSin'+'gleContact'+'Result'](_0x2fbd18,_0x4895f4,_0x8cb402){const _0x44f0bf=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x44f0bf['a']=_0x2fbd18,_0x44f0bf['b']=_0x4895f4,_0x44f0bf['localPoint'+'A']=_0x8cb402['localPoint'],_0x44f0bf['localPoint'+'B']=_0x8cb402['localPoint'+'Other'],_0x44f0bf['pointA']=_0x8cb402['point'],_0x44f0bf['pointB']=_0x8cb402['pointOther'],_0x44f0bf['normal']=_0x8cb402['normal'],_0x44f0bf['impulse']=_0x8cb402['impulse'],_0x44f0bf;}['_createCon'+'tactResult'](_0x4023df,_0x16a279){const _0x19bdf3=this['contactRes'+'ultPool']['allocate']();return _0x19bdf3['other']=_0x4023df,_0x19bdf3['contacts']=_0x16a279,_0x19bdf3;}['_cleanOldC'+'ollisions'](){for(const _0x1ecd0a in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x1ecd0a)){const _0x4fe78d=this['frameColli'+'sions'][_0x1ecd0a],_0xc70af3=this['collisions'][_0x1ecd0a],_0x20fb74=_0xc70af3['entity'],_0x1cfe72=_0x20fb74['collision'],_0xf60a35=_0x20fb74['rigidbody'],_0x3fcc0a=_0xc70af3['others'];let _0x837984=_0x3fcc0a['length'];for(;_0x837984--;){const _0x3c4561=_0x3fcc0a[_0x837984];(!_0x4fe78d||_0x4fe78d['others']['indexOf'](_0x3c4561)<-0x1530+0x4*-0x2d1+0x7c*0x43)&&(_0x3fcc0a['splice'](_0x837984,-0x1d67+-0x16e+0x1ed6),_0x20fb74['trigger']?(_0x1cfe72&&_0x1cfe72['fire']('triggerlea'+'ve',_0x3c4561),_0x3c4561['rigidbody']&&_0x3c4561['rigidbody']['fire']('triggerlea'+'ve',_0x20fb74)):_0x3c4561['trigger']||(_0xf60a35&&_0xf60a35['fire']('collisione'+'nd',_0x3c4561),_0x1cfe72&&_0x1cfe72['fire']('collisione'+'nd',_0x3c4561)));}_0x3fcc0a['length']===0x1*-0x1087+0x1ad7+-0xa50&&delete this['collisions'][_0x1ecd0a];}}['_hasContac'+'tEvent'](_0x1af300){const _0xc7bb9f=_0x1af300['collision'];if(_0xc7bb9f&&(_0xc7bb9f['hasEvent']('collisions'+'tart')||_0xc7bb9f['hasEvent']('collisione'+'nd')||_0xc7bb9f['hasEvent']('contact')))return!(-0x11bc*0x2+-0x1983+0x3cfb);const _0x14fece=_0x1af300['rigidbody'];return _0x14fece&&(_0x14fece['hasEvent']('collisions'+'tart')||_0x14fece['hasEvent']('collisione'+'nd')||_0x14fece['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x41228f,_0x56b3fe){const _0xd34c10=Ammo['wrapPointe'+'r'](_0x41228f,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x1e3b87=_0xd34c10['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x48bc04=0xb*0x298+0x1545+-0x31cd;_0x48bc04<_0x1e3b87;_0x48bc04++){const _0x39c0fe=_0xd34c10['getManifol'+'dByIndexIn'+'ternal'](_0x48bc04),_0x2c3940=_0x39c0fe['getBody0'](),_0x5f290b=_0x39c0fe['getBody1'](),_0x2eaf4d=Ammo['castObject'](_0x2c3940,Ammo['btRigidBod'+'y']),_0x22613c=Ammo['castObject'](_0x5f290b,Ammo['btRigidBod'+'y']),_0x1b6d60=_0x2eaf4d['entity'],_0x5153f4=_0x22613c['entity'];if(!_0x1b6d60||!_0x5153f4)continue;const _0x5d7939=_0x2eaf4d['getCollisi'+'onFlags'](),_0x13062c=_0x22613c['getCollisi'+'onFlags'](),_0x4c5bf2=_0x39c0fe['getNumCont'+'acts'](),_0x4b39d3=[],_0x5c6f2f=[];let _0x5e8739;if(_0x4c5bf2>-0x545+-0xba4*-0x2+-0x601*0x3){if(_0x5d7939&fo||_0x13062c&fo){const _0x21bde9=_0x1b6d60['collision']&&(_0x1b6d60['collision']['hasEvent']('triggerent'+'er')||_0x1b6d60['collision']['hasEvent']('triggerlea'+'ve')),_0x57d86d=_0x5153f4['collision']&&(_0x5153f4['collision']['hasEvent']('triggerent'+'er')||_0x5153f4['collision']['hasEvent']('triggerlea'+'ve')),_0x4ba529=_0x1b6d60['rigidbody']&&(_0x1b6d60['rigidbody']['hasEvent']('triggerent'+'er')||_0x1b6d60['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x2b09cd=_0x5153f4['rigidbody']&&(_0x5153f4['rigidbody']['hasEvent']('triggerent'+'er')||_0x5153f4['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x21bde9&&(_0x5e8739=this['_storeColl'+'ision'](_0x1b6d60,_0x5153f4),_0x5e8739&&!(_0x13062c&fo)&&_0x1b6d60['collision']['fire']('triggerent'+'er',_0x5153f4)),_0x57d86d&&(_0x5e8739=this['_storeColl'+'ision'](_0x5153f4,_0x1b6d60),_0x5e8739&&!(_0x5d7939&fo)&&_0x5153f4['collision']['fire']('triggerent'+'er',_0x1b6d60)),_0x4ba529&&(_0x5e8739||(_0x5e8739=this['_storeColl'+'ision'](_0x5153f4,_0x1b6d60)),_0x5e8739&&_0x1b6d60['rigidbody']['fire']('triggerent'+'er',_0x5153f4)),_0x2b09cd&&(_0x5e8739||(_0x5e8739=this['_storeColl'+'ision'](_0x1b6d60,_0x5153f4)),_0x5e8739&&_0x5153f4['rigidbody']['fire']('triggerent'+'er',_0x1b6d60));}else{const _0xf6cb88=this['_hasContac'+'tEvent'](_0x1b6d60),_0xe8136d=this['_hasContac'+'tEvent'](_0x5153f4),_0x500fc8=this['hasEvent']('contact');if(_0x500fc8||_0xf6cb88||_0xe8136d){for(let _0x534ffa=-0x3*0xb73+0x43*-0x83+0x44a2;_0x534ffa<_0x4c5bf2;_0x534ffa++){const _0xca146f=_0x39c0fe['getContact'+'Point'](_0x534ffa),_0x1dcf8d=this['_createCon'+'tactPointF'+'romAmmo'](_0xca146f);if(_0xf6cb88||_0xe8136d){_0x4b39d3['push'](_0x1dcf8d);const _0x47fd9e=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0xca146f);_0x5c6f2f['push'](_0x47fd9e);}if(_0x500fc8){const _0x2e644c=this['_createSin'+'gleContact'+'Result'](_0x1b6d60,_0x5153f4,_0x1dcf8d);this['fire']('contact',_0x2e644c);}}if(_0xf6cb88){const _0x1e2a9d=this['_createCon'+'tactResult'](_0x5153f4,_0x4b39d3);_0x5e8739=this['_storeColl'+'ision'](_0x1b6d60,_0x5153f4),_0x1b6d60['collision']&&(_0x1b6d60['collision']['fire']('contact',_0x1e2a9d),_0x5e8739&&_0x1b6d60['collision']['fire']('collisions'+'tart',_0x1e2a9d)),_0x1b6d60['rigidbody']&&(_0x1b6d60['rigidbody']['fire']('contact',_0x1e2a9d),_0x5e8739&&_0x1b6d60['rigidbody']['fire']('collisions'+'tart',_0x1e2a9d));}if(_0xe8136d){const _0xc1fe13=this['_createCon'+'tactResult'](_0x1b6d60,_0x5c6f2f);_0x5e8739=this['_storeColl'+'ision'](_0x5153f4,_0x1b6d60),_0x5153f4['collision']&&(_0x5153f4['collision']['fire']('contact',_0xc1fe13),_0x5e8739&&_0x5153f4['collision']['fire']('collisions'+'tart',_0xc1fe13)),_0x5153f4['rigidbody']&&(_0x5153f4['rigidbody']['fire']('contact',_0xc1fe13),_0x5e8739&&_0x5153f4['rigidbody']['fire']('collisions'+'tart',_0xc1fe13));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x216688){let _0x4904a9,_0x529799;this['_stats']['physicsSta'+'rt']=ae(),this['_gravityFl'+'oat32'][-0x10c9+-0x1*-0x26d+-0x1*-0xe5c]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x52*-0x5+0x2*-0xb47+-0x5*-0x4d5]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x133b+-0x952*-0x4+-0x3881]=this['gravity']['z'];const _0x13557a=this['dynamicsWo'+'rld']['getGravity']();(_0x13557a['x']()!==this['_gravityFl'+'oat32'][-0x1a45+0x2*0x39+0x19d3]||_0x13557a['y']()!==this['_gravityFl'+'oat32'][0x1*0x1c0f+0x1fa5+-0x3bb3]||_0x13557a['z']()!==this['_gravityFl'+'oat32'][-0xe5*-0x8+-0x1c3*0x9+0x8b5])&&(_0x13557a['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x13557a));const _0xf443a5=this['_triggers'];for(_0x4904a9=0x167*-0xc+-0x1b*-0x17+0xe67,_0x529799=_0xf443a5['length'];_0x4904a9<_0x529799;_0x4904a9++)_0xf443a5[_0x4904a9]['updateTran'+'sform']();const _0x24988b=this['_compounds'];for(_0x4904a9=0x25*0xef+0x1817+0x316*-0x13,_0x529799=_0x24988b['length'];_0x4904a9<_0x529799;_0x4904a9++)_0x24988b[_0x4904a9]['_updateCom'+'pound']();const _0x49bee3=this['_kinematic'];for(_0x4904a9=-0x4*0x223+0x5a3+0x95*0x5,_0x529799=_0x49bee3['length'];_0x4904a9<_0x529799;_0x4904a9++)_0x49bee3[_0x4904a9]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x216688,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x334d9a=this['_dynamic'];for(_0x4904a9=0x1cb*0xd+0x1673+-0x1*0x2dc2,_0x529799=_0x334d9a['length'];_0x4904a9<_0x529799;_0x4904a9++)_0x334d9a[_0x4904a9]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x216688),this['_stats']['physicsTim'+'e']=ae()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](di),Ammo['destroy'](ui),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,di=null,ui=null,Ys['onAppDestr'+'oy']());}}c(_x,'EVENT_CONT'+'ACT','contact'),pe['_buildAcce'+'ssors'](Ys['prototype'],mx);const Xn='none',vI='blend',vg=new q();class gx extends pe{constructor(_0x4553e3,_0x2e52e6){super(_0x4553e3,_0x2e52e6),this['_resolutio'+'n']=new W(0x1*0x479+-0x3*0xb0e+0x1f31,-0xd5*-0x7+0x1882+-0x1d15),this['_reference'+'Resolution']=new W(0x831+0x1f72+0x1*-0x2523,-0x3*-0x71b+0x4*0x449+0x3*-0xc67),this['_scaleMode']=Xn,this['scale']=0x9c*-0x3d+0x166*-0x17+0x4557,this['_scaleBlen'+'d']=-0x200+0x7*-0x3c0+0x1c40+0.5,this['_priority']=-0xc8f+0x4*-0x3ad+0x1b43,this['_screenSpa'+'ce']=!(-0xf+-0x2237+-0xb6d*-0x3),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new q(),this['_elements']=new Set(),_0x4553e3['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0xeccd16,_0x10e793){var _0x414ec1;if(!(_0xeccd16 instanceof je))return _0x10e793;if(_0xeccd16['element']){const _0x5c7666=_0xeccd16['element']['drawOrder'];_0xeccd16['element']['drawOrder']=_0x10e793++,_0xeccd16['element']['_batchGrou'+'pId']>=0x8fe+0x1e1*-0xb+-0x1ab*-0x7&&_0x5c7666!==_0xeccd16['element']['drawOrder']&&((_0x414ec1=this['system']['app']['batcher'])==null||_0x414ec1['markGroupD'+'irty'](_0xeccd16['element']['_batchGrou'+'pId']));}_0xeccd16['particlesy'+'stem']&&(_0xeccd16['particlesy'+'stem']['drawOrder']=_0x10e793++);const _0x2b93dc=_0xeccd16['children'];for(let _0x1dbf91=0x12cd+-0x23fd+0xb0*0x19;_0x1dbf91<_0x2b93dc['length'];_0x1dbf91++)_0x10e793=this['_recurseDr'+'awOrderSyn'+'c'](_0x2b93dc[_0x1dbf91],_0x10e793);return _0x10e793;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x139+0x10a*-0x23+0x2598),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x1d832a=this['_resolutio'+'n']['x']/this['scale'],_0x3a9ef6=this['_resolutio'+'n']['y']/this['scale'],_0x1f3ca1=-0x10*0x84+0x1*0x17cf+-0xf8f,_0x5ab16d=_0x1d832a,_0x52e000=-_0x3a9ef6;this['_screenMat'+'rix']['setOrtho'](_0x1f3ca1,_0x5ab16d,_0x52e000,-0x107e+0x3*-0x99e+-0x2d58*-0x1,0x2660+0x1728*0x1+-0x3d87,-(-0x3c1+-0x1*-0x2f9+0xc9)),this['_screenSpa'+'ce']||(vg['setScale']((-0x5*0x3a7+0x7dc*-0x3+0x29d7+0.5)*_0x1d832a,(-0x2*-0xd1b+-0x1fca+0x165*0x4+0.5)*_0x3a9ef6,0x68c*-0x4+0x18de+0x153),this['_screenMat'+'rix']['mul2'](vg,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0xa91765,_0x2406d7){const _0x44bbab=Math['log2']((_0xa91765['x']||-0xf7e*0x1+-0x1d14+0x2c93)/_0x2406d7['x']),_0x4ec13c=Math['log2']((_0xa91765['y']||0x1*-0x1873+-0x245e+0x3cd2)/_0x2406d7['y']);return Math['pow'](0x2f0+0x149d+-0x178b,_0x44bbab*(0x1083*0x2+-0x121c+-0xee9-this['_scaleBlen'+'d'])+_0x4ec13c*this['_scaleBlen'+'d']);}['_onResize'](_0x495373,_0x24c7a4){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x495373,_0x24c7a4),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x319650){this['_elements']['add'](_0x319650);}['_unbindEle'+'ment'](_0x5ed60){this['_elements']['delete'](_0x5ed60);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x275c28=>_0x275c28['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x218de1){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x218de1['x'],_0x218de1['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x58a9dd=>_0x58a9dd['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0xf4f180){this['_reference'+'Resolution']['set'](_0xf4f180['x'],_0xf4f180['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x4512ad=>_0x4512ad['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Xn?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x520c09){this['_screenSpa'+'ce']=_0x520c09,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x2f0899=>_0x2f0899['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x38f75c){_0x38f75c!==Xn&&_0x38f75c!==vI&&(_0x38f75c=Xn),!this['_screenSpa'+'ce']&&_0x38f75c!==Xn&&(_0x38f75c=Xn),this['_scaleMode']=_0x38f75c,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x161ec1){this['_scaleBlen'+'d']=_0x161ec1,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x49d2d0=>_0x49d2d0['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x1cc34f){_0x1cc34f>0x10*0x17b+-0x13f0+-0x2c1&&(b['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x1cc34f+'\x20to\x20255'),_0x1cc34f=0x15*0xfd+0xe6*-0x17+0xe8),this['_priority']!==_0x1cc34f&&(this['_priority']=_0x1cc34f,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class bI{constructor(){this['enabled']=!(0xc1*0x2f+0x5c4*-0x4+-0x1*0xc5f);}}const xf=['enabled'];class wI extends Qe{constructor(_0x3f7885){super(_0x3f7885),this['id']='screen',this['ComponentT'+'ype']=gx,this['DataType']=bI,this['schema']=xf,this['windowReso'+'lution']=new W(),this['_drawOrder'+'SyncQueue']=new _S(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3ff06a,_0x3c57e6,_0x4e1696){_0x3c57e6['priority']!==void(-0x2*-0xf97+-0x86*0xd+-0x1860)&&(_0x3ff06a['priority']=_0x3c57e6['priority']),_0x3c57e6['screenSpac'+'e']!==void(-0xb48+0xb8+0x4*0x2a4)&&(_0x3ff06a['screenSpac'+'e']=_0x3c57e6['screenSpac'+'e']),_0x3ff06a['cull']=_0x3ff06a['screenSpac'+'e'],_0x3c57e6['scaleMode']!==void(0xbbf+0x1222+-0x1*0x1de1)&&(_0x3ff06a['scaleMode']=_0x3c57e6['scaleMode']),_0x3c57e6['scaleBlend']!==void(0x1539+0x30*-0x86+0x3e7)&&(_0x3ff06a['scaleBlend']=_0x3c57e6['scaleBlend']),_0x3c57e6['resolution']!==void(-0x1f0*-0x5+-0x1*0x106d+-0x17*-0x4b)&&(_0x3c57e6['resolution']instanceof W?_0x3ff06a['_resolutio'+'n']['copy'](_0x3c57e6['resolution']):_0x3ff06a['_resolutio'+'n']['set'](_0x3c57e6['resolution'][0xd3*-0x1+-0x39*-0x45+-0xe8a],_0x3c57e6['resolution'][0x57f+0x2f1*0x7+0xb*-0x25f]),_0x3ff06a['resolution']=_0x3ff06a['_resolutio'+'n']),_0x3c57e6['referenceR'+'esolution']!==void(-0x9*-0x95+-0x1957+0x141a)&&(_0x3c57e6['referenceR'+'esolution']instanceof W?_0x3ff06a['_reference'+'Resolution']['copy'](_0x3c57e6['referenceR'+'esolution']):_0x3ff06a['_reference'+'Resolution']['set'](_0x3c57e6['referenceR'+'esolution'][-0x2b*0x37+-0x9e*0x15+0x1633*0x1],_0x3c57e6['referenceR'+'esolution'][0x1f*0xcb+-0x2*-0xff6+-0x3880]),_0x3ff06a['referenceR'+'esolution']=_0x3ff06a['_reference'+'Resolution']),_0x3ff06a['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x3ff06a,_0x3c57e6,xf);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x2a2294){const _0x3e43d4=this['store'];for(const _0x3c8de8 in _0x3e43d4)_0x3e43d4[_0x3c8de8]['entity']['screen']['update']&&_0x3e43d4[_0x3c8de8]['entity']['screen']['update'](_0x2a2294);}['_onResize'](_0x1756ab,_0x24ef42){this['windowReso'+'lution']['x']=_0x1756ab,this['windowReso'+'lution']['y']=_0x24ef42;}['cloneCompo'+'nent'](_0x51a657,_0x288a22){const _0x849b39=_0x51a657['screen'];return this['addCompone'+'nt'](_0x288a22,{'enabled':_0x849b39['enabled'],'screenSpace':_0x849b39['screenSpac'+'e'],'scaleMode':_0x849b39['scaleMode'],'resolution':_0x849b39['resolution']['clone'](),'referenceResolution':_0x849b39['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0xcb7d9b,_0x41da9f){_0x41da9f['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x524b03=this['_drawOrder'+'SyncQueue']['list']();for(let _0x54d29b=-0x1*0x1e76+-0x1*-0x864+0x1612;_0x54d29b<_0x524b03['length'];_0x54d29b++){const _0x3b0175=_0x524b03[_0x54d29b];_0x3b0175['callback']['call'](_0x3b0175['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x355f02,_0x21a4b4,_0x7056b2){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x355f02)||this['_drawOrder'+'SyncQueue']['push'](_0x355f02,{'callback':_0x21a4b4,'scope':_0x7056b2});}}pe['_buildAcce'+'ssors'](gx['prototype'],xf);const ji=new W(),bg=new A(),Rr=new _u(),wg=new cy(),Tg=new A(),oo=new A(),TI=new ie(),AI={'x':'y','y':'x'};class Co extends de{constructor(_0x2ecc01,_0x4a31a6){if(super(),!_0x2ecc01||!(_0x2ecc01 instanceof Kt))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x4a31a6&&_0x4a31a6!=='x'&&_0x4a31a6!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x4a31a6);this['_element']=_0x2ecc01,this['_app']=_0x2ecc01['system']['app'],this['_axis']=_0x4a31a6||null,this['_enabled']=!(0x323+-0x1293+0x13*0xd0),this['_dragScale']=new A(),this['_dragStart'+'MousePosit'+'ion']=new A(),this['_dragStart'+'HandlePosi'+'tion']=new A(),this['_deltaMous'+'ePosition']=new A(),this['_deltaHand'+'lePosition']=new A(),this['_isDraggin'+'g']=!(0x1e8a+-0xb89+-0x40*0x4c),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x449b26){this['_element'][_0x449b26]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x449b26]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x449b26]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x4c61b1){const _0xa3c511=_0x4c61b1==='on';this['_hasDragLi'+'steners']&&_0xa3c511||(this['_app']['mouse']&&(this['_element'][_0x4c61b1]('mousemove',this['_onMove'],this),this['_element'][_0x4c61b1]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),be['touch']&&(this['_element'][_0x4c61b1]('touchmove',this['_onMove'],this),this['_element'][_0x4c61b1]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x4c61b1]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x4c61b1]('selectmove',this['_onMove'],this),this['_element'][_0x4c61b1]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0xa3c511);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x31784c){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x31784c['camera'],this['_calculate'+'DragScale']();const _0x55c69a=this['_screenToL'+'ocal'](_0x31784c);_0x55c69a&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x172e+0x25a0+-0xe72),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x55c69a),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x1aa4+-0x12d6+0x2d7b),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0xa184f5){return _0xa184f5['inputSourc'+'e']?Rr['set'](_0xa184f5['inputSourc'+'e']['getOrigin'](),_0xa184f5['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0xa184f5),this['_chooseRay'+'OriginAndD'+'irection']()),Tg['copy'](this['_element']['entity']['forward'])['mulScalar'](-(-0x268c+0xf25+0x1768)),wg['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),Tg),wg['intersects'+'Ray'](Rr,oo)?(TI['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](oo,oo),oo['mul'](this['_dragScale']),oo):null;}['_determine'+'InputPosit'+'ion'](_0xee540b){const _0x3d7f68=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0xee540b['x']<'u'&&typeof _0xee540b['y']<'u'?(ji['x']=_0xee540b['x']*_0x3d7f68,ji['y']=_0xee540b['y']*_0x3d7f68):_0xee540b['changedTou'+'ches']?(ji['x']=_0xee540b['changedTou'+'ches'][0x20*0x91+0x20ff+-0x1*0x331f]['x']*_0x3d7f68,ji['y']=_0xee540b['changedTou'+'ches'][-0x55d+-0x5*-0x251+0x4*-0x18e]['y']*_0x3d7f68):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Rr['origin']['set'](ji['x'],-ji['y'],-0x2ad*0x7+-0x5f3*0x1+-0x9*-0x2be),Rr['direction']['copy'](A['FORWARD'])):(bg['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](ji['x'],ji['y'],0xb*0x386+-0x2e7*-0x7+0x1d89*-0x2)),Rr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Rr['direction']['copy'](bg)['sub'](Rr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x404f9c=this['_element']['entity']['parent'];const _0x15d1bc=this['_element']['screen']&&this['_element']['screen']['screen'],_0x12b5ff=_0x15d1bc&&_0x15d1bc['screenSpac'+'e'],_0x19b794=_0x12b5ff?_0x15d1bc['scale']:-0xb*-0x258+-0x31+0x83*-0x32,_0x3f87cc=this['_dragScale'];for(_0x3f87cc['set'](_0x19b794,_0x19b794,_0x19b794);_0x404f9c&&(_0x3f87cc['mul'](_0x404f9c['getLocalSc'+'ale']()),_0x404f9c=_0x404f9c['parent'],!(_0x12b5ff&&_0x404f9c['screen'])););_0x3f87cc['x']=(0x9bc+-0x1*0x25cf+0x4ae*0x6)/_0x3f87cc['x'],_0x3f87cc['y']=(0x204f+0x2*0x188+-0x235e)/_0x3f87cc['y'],_0x3f87cc['z']=-0x3*0x22a+0x92a+-0x26*0x12;}['_onMove'](_0xf58aba){const {_element:_0x29be93,_deltaMousePosition:_0x587702,_deltaHandlePosition:_0x2f1cc4,_axis:_0x42a1ac}=this;if(_0x29be93&&this['_isDraggin'+'g']&&this['enabled']&&_0x29be93['enabled']&&_0x29be93['entity']['enabled']){const _0xcfbaa1=this['_screenToL'+'ocal'](_0xf58aba);if(_0xcfbaa1){if(_0x587702['sub2'](_0xcfbaa1,this['_dragStart'+'MousePosit'+'ion']),_0x2f1cc4['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x587702),_0x42a1ac){const _0x458e8c=_0x29be93['entity']['getLocalPo'+'sition'](),_0x430e79=AI[_0x42a1ac];_0x2f1cc4[_0x430e79]=_0x458e8c[_0x430e79];}_0x29be93['entity']['setLocalPo'+'sition'](_0x2f1cc4),this['fire']('drag:move',_0x2f1cc4);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x1ad454){this['_enabled']=_0x1ad454;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}c(Co,'EVENT_DRAG'+'START','drag:start'),c(Co,'EVENT_DRAG'+'END','drag:end'),c(Co,'EVENT_DRAG'+'MOVE','drag:move');const EI=0x1675+0x1af6+-0x1079*0x3,Ag=-0x20*0x72+-0x4*0x9d+0x10b5,CI=-0x228b+-0x1222+-0x1*-0x34af,MI=0x1675*0x1+-0x3*0x1cf+-0x1108,PI=0x17*0xc4+0x2b*-0x25+-0x9*0x144,lo=new W();class yx extends pe{constructor(_0x2e7ac9,_0xadb8c5){super(_0x2e7ac9,_0xadb8c5),c(this,'_viewportE'+'ntity',null),c(this,'_contentEn'+'tity',null),c(this,'_horizonta'+'lScrollbar'+'Entity',null),c(this,'_verticalS'+'crollbarEn'+'tity',null),c(this,'_evtElemen'+'tRemove',null),c(this,'_evtViewpo'+'rtElementR'+'emove',null),c(this,'_evtViewpo'+'rtResize',null),c(this,'_evtConten'+'tEntityEle'+'mentAdd',null),c(this,'_evtConten'+'tElementRe'+'move',null),c(this,'_evtConten'+'tResize',null),c(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),c(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),c(this,'_evtHorizo'+'ntalScroll'+'barValue',null),c(this,'_evtVertic'+'alScrollba'+'rAdd',null),c(this,'_evtVertic'+'alScrollba'+'rRemove',null),c(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][ye]=null,this['_prevConte'+'ntSizes'][Ve]=null,this['_scroll']=new W(),this['_velocity']=new A(),this['_dragStart'+'Position']=new A(),this['_disabledC'+'ontentInpu'+'t']=!(-0x1*-0x515+-0x1*-0x18e+0x236*-0x3),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x4857d6=this['system']['store'][this['entity']['getGuid']()];return _0x4857d6?_0x4857d6['data']:null;}set['enabled'](_0x3dd355){this['_setValue']('enabled',_0x3dd355);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x558d34){this['_setValue']('horizontal',_0x558d34);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x28237d){this['_setValue']('vertical',_0x28237d);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x53cae0){this['_setValue']('scrollMode',_0x53cae0);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x16a79a){this['_setValue']('bounceAmou'+'nt',_0x16a79a);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0xcb6de5){this['_setValue']('friction',_0xcb6de5);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x1f4328){this['_setValue']('dragThresh'+'old',_0x1f4328);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x31526b){this['_setValue']('useMouseWh'+'eel',_0x31526b);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x3fb181){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x3fb181);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x166b71){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x166b71);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x858afd){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x858afd);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x3a2476){if(this['_viewportE'+'ntity']===_0x3a2476)return;const _0x1b6511=typeof _0x3a2476=='string';this['_viewportE'+'ntity']&&_0x1b6511&&this['_viewportE'+'ntity']['getGuid']()===_0x3a2476||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x3a2476 instanceof Oe?this['_viewportE'+'ntity']=_0x3a2476:_0x1b6511?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x3a2476)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x1b6511&&_0x3a2476&&(this['data']['viewportEn'+'tity']=_0x3a2476));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x3ee72e){if(this['_contentEn'+'tity']===_0x3ee72e)return;const _0x1ac0b2=typeof _0x3ee72e=='string';this['_contentEn'+'tity']&&_0x1ac0b2&&this['_contentEn'+'tity']['getGuid']()===_0x3ee72e||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x3ee72e instanceof Oe?this['_contentEn'+'tity']=_0x3ee72e:_0x1ac0b2?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x3ee72e)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x1ac0b2&&_0x3ee72e&&(this['data']['contentEnt'+'ity']=_0x3ee72e));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x4fb4d8){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x4fb4d8)return;const _0x3dbb59=typeof _0x4fb4d8=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x3dbb59&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x4fb4d8||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x4fb4d8 instanceof Oe?this['_horizonta'+'lScrollbar'+'Entity']=_0x4fb4d8:_0x3dbb59?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x4fb4d8)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][ye]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x3dbb59&&_0x4fb4d8&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x4fb4d8));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x485651){if(this['_verticalS'+'crollbarEn'+'tity']===_0x485651)return;const _0x3fa61d=typeof _0x485651=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x3fa61d&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x485651||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x485651 instanceof Oe?this['_verticalS'+'crollbarEn'+'tity']=_0x485651:_0x3fa61d?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x485651)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][Ve]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x3fa61d&&_0x485651&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x485651));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x25013c){this['_onSetScro'+'ll'](_0x25013c['x'],_0x25013c['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x187d4a,_0x3b8157){const _0x2cb1b8=this['data'],_0xddf579=_0x2cb1b8[_0x187d4a];_0x2cb1b8[_0x187d4a]=_0x3b8157,this['fire']('set',_0x187d4a,_0xddf579,_0x3b8157);}['_toggleLif'+'ecycleList'+'eners'](_0x449efc){this[_0x449efc]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x449efc]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x449efc]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x55ae5f){if(this['entity']['element']){if(_0x55ae5f==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x55ae5f]('resize',this['_syncAll'],this),this['entity']['element'][_0x55ae5f](Du,this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x55ae5f==='on';}}['_onElement'+'ComponentA'+'dd'](_0x28f71d){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x336fbc){var _0x23ca45;(_0x23ca45=this['_evtElemen'+'tRemove'])==null||_0x23ca45['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x449705,_0x35f022;(_0x449705=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x449705['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x35f022=this['_viewportE'+'ntity'])!=null&&_0x35f022['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x164cce=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x164cce['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x164cce['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x174fc5,_0x3fd399;(_0x174fc5=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x174fc5['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x3fd399=this['_evtViewpo'+'rtResize'])==null||_0x3fd399['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x46eb51,_0x2fc147;(_0x46eb51=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x46eb51['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x2fc147=this['_contentEn'+'tity'])!=null&&_0x2fc147['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x2f3207=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x2f3207['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x2f3207['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x426742,_0x3dacf9;(_0x426742=this['_evtConten'+'tElementRe'+'move'])==null||_0x426742['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x3dacf9=this['_evtConten'+'tResize'])==null||_0x3dacf9['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Co(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][ye]=null,this['_prevConte'+'ntSizes'][Ve]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x17f5d8){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(0xf79+0x1f*-0x3a+-0x873*0x1),this['_setScroll'+'FromConten'+'tPosition'](_0x17f5d8),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x17f5d8),!this['_disabledC'+'ontentInpu'+'t'])){const _0x137c40=_0x17f5d8['x']-this['_dragStart'+'Position']['x'],_0x54bac5=_0x17f5d8['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x137c40)>this['dragThresh'+'old']||Math['abs'](_0x54bac5)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0xb26dab;(_0xb26dab=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0xb26dab['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x4afb89;(_0x4afb89=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x4afb89['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x9c68fa){!this['_scrollbar'+'UpdateFlag'+'s'][ye]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x9c68fa,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x509bfd){!this['_scrollbar'+'UpdateFlag'+'s'][Ve]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x509bfd);}['_onHorizon'+'talScrollb'+'arGain'](){var _0xd5fa7a;const _0x30dfe8=(_0xd5fa7a=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(-0x2*0xfd9+0x9f3+0x15bf):_0xd5fa7a['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x30dfe8['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x30dfe8['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarPositi'+'on'](ye);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x480c70;const _0x492eb8=(_0x480c70=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x268f*-0x1+0x8f*0x2a+-0x5*-0x305):_0x480c70['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x492eb8['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x492eb8['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ve),this['_syncScrol'+'lbarPositi'+'on'](Ve);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x275885,_0x1bf7ea;(_0x275885=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x275885['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x1bf7ea=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x1bf7ea['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x9891ac,_0x37ae52;(_0x9891ac=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x9891ac['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x37ae52=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x37ae52['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](ye);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](Ve);}['_onSetScro'+'ll'](_0x5ee670,_0x50b282,_0x1dce91){_0x1dce91!==!(-0xb49*0x3+0x3*0x963+0x5b3)&&this['_velocity']['set'](0x2675+0x163d+0x1e59*-0x2,0x24c+-0x10d*-0xa+-0xcce,-0xd4b+0x5ac+-0x1*-0x79f);const _0x2bce69=this['_updateAxi'+'s'](_0x5ee670,'x',ye),_0x529375=this['_updateAxi'+'s'](_0x50b282,'y',Ve);(_0x2bce69||_0x529375)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x5a8dda,_0x1b513d,_0x3bf312){const _0xfefc90=_0x5a8dda!==null&&Math['abs'](_0x5a8dda-this['_scroll'][_0x1b513d])>0x2423+-0x121*-0x17+0x1f0d*-0x2+0.00001;return(_0xfefc90||this['_isDraggin'+'g']()||_0x5a8dda===0x2*0x263+-0x871+0x3ab)&&(this['_scroll'][_0x1b513d]=this['_determine'+'NewScrollV'+'alue'](_0x5a8dda,_0x1b513d,_0x3bf312),this['_syncConte'+'ntPosition'](_0x3bf312),this['_syncScrol'+'lbarPositi'+'on'](_0x3bf312)),_0xfefc90;}['_determine'+'NewScrollV'+'alue'](_0x12bc48,_0xdeb9f2,_0xc03c32){if(!this['_getScroll'+'ingEnabled'](_0xc03c32))return this['_scroll'][_0xdeb9f2];switch(this['scrollMode']){case EI:return z['clamp'](_0x12bc48,-0x3*0x26f+0x20cf+-0x1982,this['_getMaxScr'+'ollValue'](_0xc03c32));case Ag:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x12bc48,_0xdeb9f2,_0xc03c32),_0x12bc48;case CI:return _0x12bc48;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x12bc48;}}['_syncAll'](){this['_syncConte'+'ntPosition'](ye),this['_syncConte'+'ntPosition'](Ve),this['_syncScrol'+'lbarPositi'+'on'](ye),this['_syncScrol'+'lbarPositi'+'on'](Ve),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarEnable'+'dState'](Ve);}['_syncConte'+'ntPosition'](_0xa4768){if(!this['_contentEn'+'tity'])return;const _0x3350da=this['_getAxis'](_0xa4768),_0x4c74fb=this['_getSign'](_0xa4768),_0x4d4a56=this['_prevConte'+'ntSizes'][_0xa4768],_0x2b3615=this['_getConten'+'tSize'](_0xa4768);if(_0x4d4a56!==null&&Math['abs'](_0x4d4a56-_0x2b3615)>-0x2363+-0x16f*0x2+-0x1*-0x2641+0.0001){const _0xbd8312=this['_getMaxOff'+'set'](_0xa4768,_0x4d4a56),_0x3decfa=this['_getMaxOff'+'set'](_0xa4768,_0x2b3615);_0x3decfa===-0x1*-0xd46+-0x543+0x7*-0x125?this['_scroll'][_0x3350da]=-0xf31+0x697+0x89b:this['_scroll'][_0x3350da]=z['clamp'](this['_scroll'][_0x3350da]*_0xbd8312/_0x3decfa,-0x9ec+0x21e9+-0x17fd,0x1454+-0x15d1*-0x1+-0x6*0x706);}const _0x5d0076=this['_scroll'][_0x3350da]*this['_getMaxOff'+'set'](_0xa4768),_0x92684f=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x92684f[_0x3350da]=_0x5d0076*_0x4c74fb,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x92684f),this['_prevConte'+'ntSizes'][_0xa4768]=_0x2b3615;}['_syncScrol'+'lbarPositi'+'on'](_0x7a9a94){const _0x1b911b=this['_scrollbar'+'Entities'][_0x7a9a94];if(!(_0x1b911b!=null&&_0x1b911b['scrollbar']))return;const _0x2f9641=this['_getAxis'](_0x7a9a94);this['_scrollbar'+'UpdateFlag'+'s'][_0x7a9a94]=!(-0x1df*0x2+-0x668+-0x6*-0x1b1),_0x1b911b['scrollbar']['value']=this['_scroll'][_0x2f9641],_0x1b911b['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x2f9641,_0x7a9a94),this['_scrollbar'+'UpdateFlag'+'s'][_0x7a9a94]=!(-0x9ee+-0x260b+-0x216*-0x17);}['_syncScrol'+'lbarEnable'+'dState'](_0x20c8ca){const _0x615d4c=this['_scrollbar'+'Entities'][_0x20c8ca];if(!_0x615d4c)return;const _0x2cf6fc=this['_getScroll'+'ingEnabled'](_0x20c8ca),_0x3e820c=this['_getScroll'+'barVisibil'+'ity'](_0x20c8ca);switch(_0x3e820c){case MI:_0x615d4c['enabled']=_0x2cf6fc;return;case PI:_0x615d4c['enabled']=_0x2cf6fc&&this['_contentIs'+'LargerThan'+'Viewport'](_0x20c8ca);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x3e820c),_0x615d4c['enabled']=_0x2cf6fc;}}['_contentIs'+'LargerThan'+'Viewport'](_0x2041df){return this['_getConten'+'tSize'](_0x2041df)>this['_getViewpo'+'rtSize'](_0x2041df);}['_contentPo'+'sitionToSc'+'rollValue'](_0x2710a2){const _0x4a8e3a=this['_getMaxOff'+'set'](ye),_0x3d3c31=this['_getMaxOff'+'set'](Ve);return _0x4a8e3a===-0xbbe+-0x9d*0x2d+0x2757?lo['x']=0x1b1*0xb+0xc3b+-0x1*0x1ed6:lo['x']=_0x2710a2['x']/_0x4a8e3a,_0x3d3c31===0x13ec+-0xe9a+-0x552?lo['y']=0x1832+-0x1d*0x14d+0xd87:lo['y']=_0x2710a2['y']/-_0x3d3c31,lo;}['_getMaxOff'+'set'](_0x1381b3,_0x42c564){_0x42c564=_0x42c564===void(-0x16fa*0x1+0x1*-0x21f1+0x38eb)?this['_getConten'+'tSize'](_0x1381b3):_0x42c564;const _0x3cd7a7=this['_getViewpo'+'rtSize'](_0x1381b3);return _0x42c564<_0x3cd7a7?-this['_getViewpo'+'rtSize'](_0x1381b3):_0x3cd7a7-_0x42c564;}['_getMaxScr'+'ollValue'](_0x4244ad){return this['_contentIs'+'LargerThan'+'Viewport'](_0x4244ad)?-0x14db+0x1f0+0x12ec:0x1e49+0x4*0x7f6+-0x3e21;}['_getScroll'+'barHandleS'+'ize'](_0x40f295,_0x32a2d8){const _0x2f43dd=this['_getViewpo'+'rtSize'](_0x32a2d8),_0x2f163d=this['_getConten'+'tSize'](_0x32a2d8);if(Math['abs'](_0x2f163d)<-0x1c1f+-0x1c6f+0x388e+0.001)return 0x649*-0x3+-0x3*0xb3d+-0x139*-0x2b;const _0x15b4b3=Math['min'](_0x2f43dd/_0x2f163d,0x5*0xa1+0x234c+-0x2670),_0x3516fb=this['_toOversho'+'ot'](this['_scroll'][_0x40f295],_0x32a2d8);return _0x3516fb===-0x8*-0x37c+-0x1*-0x7fa+-0xd*0x2c2?_0x15b4b3:_0x15b4b3/(0x2*0x938+-0xa22*-0x3+-0x30d5+Math['abs'](_0x3516fb));}['_getViewpo'+'rtSize'](_0x2b8a53){return this['_getSize'](_0x2b8a53,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x308f74){return this['_getSize'](_0x308f74,this['_contentEn'+'tity']);}['_getSize'](_0x37e282,_0x358a9b){return _0x358a9b!=null&&_0x358a9b['element']?_0x358a9b['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x37e282)]:0x5*-0x2b+-0xc*-0x1+0xcb;}['_getScroll'+'ingEnabled'](_0x2ac29e){if(_0x2ac29e===ye)return this['horizontal'];if(_0x2ac29e===Ve)return this['vertical'];b['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x2ac29e);}['_getScroll'+'barVisibil'+'ity'](_0x304fea){if(_0x304fea===ye)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x304fea===Ve)return this['verticalSc'+'rollbarVis'+'ibility'];b['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x304fea);}['_getSign'](_0x287ee3){return _0x287ee3===ye?0x1b*-0x3e+-0x458+0xae3:-(-0x3*-0x372+-0x1*-0x3ce+-0xe23);}['_getAxis'](_0x5b5710){return _0x5b5710===ye?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x50922d){return _0x50922d===ye?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](ye),this['_syncScrol'+'lbarEnable'+'dState'](Ve));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===Ag&&(this['_hasOversh'+'oot']('x',ye)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',ye),this['_hasOversh'+'oot']('y',Ve)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',Ve)),Math['abs'](this['_velocity']['x'])>-0x20df+0x61a+-0x1*-0x1ac5+0.0001||Math['abs'](this['_velocity']['y'])>-0xa94*-0x1+-0x1c5b+0x11c7+0.0001){const _0x4cd5c5=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4cd5c5['x']+=this['_velocity']['x'],_0x4cd5c5['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4cd5c5),this['_setScroll'+'FromConten'+'tPosition'](_0x4cd5c5);}this['_velocity']['x']*=0x9*-0x2ed+-0x116f+0x8c1*0x5-this['friction'],this['_velocity']['y']*=-0xb72+-0xebb+-0x6*-0x45d-this['friction'];}}['_hasOversh'+'oot'](_0x4da36a,_0x3ee236){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x4da36a],_0x3ee236))>0x24fd*0x1+0x1*-0xfdc+-0x1521+0.001;}['_toOversho'+'ot'](_0x514332,_0x2075c8){const _0x4b30f4=this['_getMaxScr'+'ollValue'](_0x2075c8);return _0x514332<-0x7bf*-0x4+-0x5b2+0x194a*-0x1?_0x514332:_0x514332>_0x4b30f4?_0x514332-_0x4b30f4:-0x40f+0x2395*0x1+-0x3*0xa82;}['_setVeloci'+'tyFromOver'+'shoot'](_0x1c7ac7,_0xe6ecde,_0x549d15){const _0x65465a=this['_toOversho'+'ot'](_0x1c7ac7,_0x549d15)*this['_getMaxOff'+'set'](_0x549d15)*this['_getSign'](_0x549d15);Math['abs'](_0x65465a)>-0x102+-0x20dd+0x29b*0xd&&(this['_velocity'][_0xe6ecde]=-_0x65465a/(this['bounceAmou'+'nt']*(-0xb03+0x6*-0x29d+0x1ae3)+(0x2b*0x5c+0xaec+-0x1*0x1a5f)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x109de6){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x109de6,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x109de6)):(this['_velocity']['set'](-0x3b7*-0x4+-0x19e4+0xb08,0x1c7a+-0x3*0x999+0x51,-0x646+-0x2616+0x2c5c),this['_prevConte'+'ntDragPosi'+'tion']=_0x109de6['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x297186){let _0x320831=this['_contentPo'+'sitionToSc'+'rollValue'](_0x297186);this['_isDraggin'+'g']()&&(_0x320831=this['_applyScro'+'llValueTen'+'sion'](_0x320831)),this['_onSetScro'+'ll'](_0x320831['x'],_0x320831['y'],!(-0xa*0x377+0x5*0x78+0x204f));}['_applyScro'+'llValueTen'+'sion'](_0x130f5e){let _0x220385=this['_getMaxScr'+'ollValue'](ye),_0x56d694=this['_toOversho'+'ot'](_0x130f5e['x'],ye);return _0x56d694>-0x86e*0x1+0x101b+-0x1*0x7ad?_0x130f5e['x']=_0x220385+(-0xe9*0x28+0x10a7+0x13c2)*Math['log10'](-0x12e6+0x193a+-0x653+_0x56d694):_0x56d694<-0x1*0x2b7+0x1*-0x488+0x73f&&(_0x130f5e['x']=-(0xa14+-0x3*0x523+0x556)*Math['log10'](0x28*0x25+-0x1d81+0x17ba-_0x56d694)),_0x220385=this['_getMaxScr'+'ollValue'](Ve),_0x56d694=this['_toOversho'+'ot'](_0x130f5e['y'],Ve),_0x56d694>-0x22fa+0x4*0x751+0x5b6?_0x130f5e['y']=_0x220385+(-0x1*-0x34+0xafd+-0xb30)*Math['log10'](-0xba5+-0x1ad1+0xe5*0x2b+_0x56d694):_0x56d694<-0xa18*0x2+-0x107f+-0x1*-0x24af&&(_0x130f5e['y']=-(-0x1*-0x18+-0x11*0x194+0x1abd*0x1)*Math['log10'](0x19e5*0x1+-0xc27+-0x1*0xdbd-_0x56d694)),_0x130f5e;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x328277){var _0x3170b8,_0x16e1c7;(_0x3170b8=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x3170b8['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x328277),(_0x16e1c7=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x16e1c7['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x328277);}['_setConten'+'tDraggingE'+'nabled'](_0x39b6c0){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x39b6c0);}['_onMouseWh'+'eel'](_0x18a2ce){var _0x583a5e;if(!this['useMouseWh'+'eel']||!((_0x583a5e=this['_contentEn'+'tity'])!=null&&_0x583a5e['element']))return;const _0x93df5a=_0x18a2ce['event'],_0x3da700=_0x93df5a['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x5c09d1=_0x93df5a['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x3d11f9=z['clamp'](this['_scroll']['x']+_0x3da700,-0xf4c+-0x4*0x981+-0x2*-0x1aa8,this['_getMaxScr'+'ollValue'](ye)),_0x1f514e=z['clamp'](this['_scroll']['y']+_0x5c09d1,0xa3*0x1f+-0x3f*0x22+-0xb5f*0x1,this['_getMaxScr'+'ollValue'](Ve));this['scroll']=new W(_0x3d11f9,_0x1f514e);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x3120a6=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x3120a6['element']&&(_0x3120a6['element']['useInput']=!(0xa69+-0x203a+0x1*0x15d1));}this['_disabledC'+'ontentInpu'+'t']=!(0x1759+-0x11*0x124+0x4*-0xfd);}['_disableCo'+'ntentInput'](){const _0x5dc35d=_0x51d94f=>{_0x51d94f['element']&&_0x51d94f['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x51d94f),_0x51d94f['element']['useInput']=!(-0x179+0x2*0x135d+-0x2540));const _0x1b5749=_0x51d94f['children'];for(let _0x591e66=0x6fb*-0x1+0x2639+-0x1f3e,_0x3d2521=_0x1b5749['length'];_0x591e66<_0x3d2521;_0x591e66++)_0x5dc35d(_0x1b5749[_0x591e66]);};if(this['_contentEn'+'tity']){const _0xa770df=this['_contentEn'+'tity']['children'];for(let _0x55144d=-0xc7+-0x28*0x56+-0x1*-0xe37,_0x4c7deb=_0xa770df['length'];_0x55144d<_0x4c7deb;_0x55144d++)_0x5dc35d(_0xa770df[_0x55144d]);}this['_disabledC'+'ontentInpu'+'t']=!(0x2641+0x26d*-0x7+-0x1546);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x215e+-0x1755*-0x1+-0x38b3)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x7fd+-0xb7+0x8b4)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x5*-0x9+-0x142c+0x412*0x5)),this['_setConten'+'tDraggingE'+'nabled'](!(0x93*0x3b+-0x20f6+-0xea));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x38d9ce,_0x36f7c9){_0x38d9ce['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x36f7c9[_0x38d9ce['viewportEn'+'tity']['getGuid']()]),_0x38d9ce['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x36f7c9[_0x38d9ce['contentEnt'+'ity']['getGuid']()]),_0x38d9ce['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x36f7c9[_0x38d9ce['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x38d9ce['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x36f7c9[_0x38d9ce['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}c(yx,'EVENT_SETS'+'CROLL','set:scroll');const RI=0x150+0x99f+-0xae5*0x1;class II{constructor(){c(this,'enabled',!(0x132a+-0xa3d*0x2+-0x3*-0x70)),c(this,'horizontal'),c(this,'vertical'),c(this,'scrollMode'),c(this,'bounceAmou'+'nt'),c(this,'friction'),c(this,'dragThresh'+'old',RI),c(this,'useMouseWh'+'eel',!(0x1d0c+0x402+-0x210e)),c(this,'mouseWheel'+'Sensitivit'+'y',new W(-0x1a6+-0x19b7+-0x2*-0xdaf,0x510+-0x809*0x1+0x2fa)),c(this,'horizontal'+'ScrollbarV'+'isibility',0x246c+0x19*-0x8b+-0x16d9),c(this,'verticalSc'+'rollbarVis'+'ibility',0x9+0xd7a+-0xd83),c(this,'viewportEn'+'tity',null),c(this,'contentEnt'+'ity',null),c(this,'horizontal'+'ScrollbarE'+'ntity',null),c(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const Eg=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],DI=-0x93d+0xe7e+0x10b*-0x5;class LI extends Qe{constructor(_0x31bd49){super(_0x31bd49),this['id']='scrollview',this['ComponentT'+'ype']=yx,this['DataType']=II,this['schema']=Eg,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2d2f8a,_0x4a829d,_0x303dfa){_0x4a829d['dragThresh'+'old']===void(-0xaf7+0x1eb7+-0x4*0x4f0)&&(_0x4a829d['dragThresh'+'old']=DI),_0x4a829d['useMouseWh'+'eel']===void(0xd9*0x3+-0x1bf4+0x1969)&&(_0x4a829d['useMouseWh'+'eel']=!(-0x1*-0x1115+-0x44a*-0x7+-0x2f1b)),_0x4a829d['mouseWheel'+'Sensitivit'+'y']===void(-0x1*-0x1c8d+0x15cd+-0x509*0xa)&&(_0x4a829d['mouseWheel'+'Sensitivit'+'y']=new W(0x100c+-0x1*-0x464+-0x146f,0x1*-0x134b+0x3e*-0x62+-0x33*-0xd8)),super['initialize'+'ComponentD'+'ata'](_0x2d2f8a,_0x4a829d,Eg),_0x2d2f8a['viewportEn'+'tity']=_0x4a829d['viewportEn'+'tity'],_0x2d2f8a['contentEnt'+'ity']=_0x4a829d['contentEnt'+'ity'],_0x2d2f8a['horizontal'+'ScrollbarE'+'ntity']=_0x4a829d['horizontal'+'ScrollbarE'+'ntity'],_0x2d2f8a['verticalSc'+'rollbarEnt'+'ity']=_0x4a829d['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x1c55c1){const _0x2896a7=this['store'];for(const _0x223733 in _0x2896a7){const _0x3ae805=_0x2896a7[_0x223733]['entity'],_0xb79fc7=_0x3ae805['scrollview'];_0xb79fc7['enabled']&&_0x3ae805['enabled']&&_0xb79fc7['onUpdate']();}}['_onRemoveC'+'omponent'](_0x2575c6,_0x3bff35){_0x3bff35['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class xx extends pe{constructor(_0x4b5219,_0x1e9e89){super(_0x4b5219,_0x1e9e89),c(this,'_handleEnt'+'ity',null),c(this,'_evtHandle'+'EntityElem'+'entAdd',null),c(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x7159ee=this['system']['store'][this['entity']['getGuid']()];return _0x7159ee?_0x7159ee['data']:null;}set['enabled'](_0x2a870e){this['_setValue']('enabled',_0x2a870e);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x4b201a){this['_setValue']('orientatio'+'n',_0x4b201a);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x574f4d){this['_setValue']('value',_0x574f4d);}get['value'](){return this['data']['value'];}set['handleSize'](_0x244b0c){this['_setValue']('handleSize',_0x244b0c);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x3a40e7){if(this['_handleEnt'+'ity']===_0x3a40e7)return;const _0x312c65=typeof _0x3a40e7=='string';this['_handleEnt'+'ity']&&_0x312c65&&this['_handleEnt'+'ity']['getGuid']()===_0x3a40e7||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x3a40e7 instanceof Oe?this['_handleEnt'+'ity']=_0x3a40e7:_0x312c65?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x3a40e7)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x312c65&&_0x3a40e7&&(this['data']['handleEnti'+'ty']=_0x3a40e7));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x5e5f3e,_0x37a0b5){const _0xf8eaa5=this['data'],_0x549272=_0xf8eaa5[_0x5e5f3e];_0xf8eaa5[_0x5e5f3e]=_0x37a0b5,this['fire']('set',_0x5e5f3e,_0x549272,_0x37a0b5);}['_toggleLif'+'ecycleList'+'eners'](_0x573909){this[_0x573909]('set_value',this['_onSetValu'+'e'],this),this[_0x573909]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x573909]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0xd22de9,_0x5955b3;(_0xd22de9=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0xd22de9['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x5955b3=this['_handleEnt'+'ity'])!=null&&_0x5955b3['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x1a213d=this['_handleEnt'+'ity']['element'],_0x159ea1=this['_evtHandle'+'EntityChan'+'ges'];_0x159ea1['push'](_0x1a213d['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x159ea1['push'](_0x1a213d['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x159ea1['push'](_0x1a213d['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x159ea1['push'](_0x1a213d['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x6898b5=0x137f+-0x1bcc+0x84d;_0x6898b5<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x6898b5++)this['_evtHandle'+'EntityChan'+'ges'][_0x6898b5]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x4c6+0x26ae+-0x2b74;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Co(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x27527a){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x27527a[this['_getAxis']()]));}['_onSetValu'+'e'](_0x3b1f08,_0x512f5d,_0x3d1214){Math['abs'](_0x3d1214-_0x512f5d)>0x4*0x431+-0x2189+-0x51*-0x35+0.00001&&(this['data']['value']=z['clamp'](_0x3d1214,-0xe*-0x47+0x1*-0x65+-0x13*0x2f,0xdc2+-0x1576+0x7b5),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x23b067,_0x24c38b,_0x28746d){Math['abs'](_0x28746d-_0x24c38b)>0x5*-0x21b+0x1b3c+0xd*-0x149+0.00001&&(this['data']['handleSize']=z['clamp'](_0x28746d,-0x212c+0xb5*0x1+0x2077*0x1,0x9e*-0xd+-0xc01*0x1+0x1408),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x36806a,_0x16af41,_0x5146a5){var _0x4f9cea;_0x5146a5!==_0x16af41&&((_0x4f9cea=this['_handleEnt'+'ity'])!=null&&_0x4f9cea['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x2*-0x836+-0x238f+0x33fb*0x1);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0xdce8e8=this['_handleEnt'+'ity'],_0x417597=_0xdce8e8==null?void(0xd66+-0x1*0x1ebf+0x1159*0x1):_0xdce8e8['element'];if(_0xdce8e8){const _0xe25e96=_0xdce8e8['getLocalPo'+'sition']();_0xe25e96[this['_getAxis']()]=this['_getHandle'+'Position'](),_0xdce8e8['setLocalPo'+'sition'](_0xe25e96);}_0x417597&&(_0x417597[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x5b80fa){return _0x5b80fa*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x238b2b){return _0x238b2b*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),0x4*-0x10d+0x5*-0x3fb+0x3*0x809+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===ye?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x1*-0x2129+0x139d*-0x1+-0xd8c;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===ye?-0x1*0x18b9+-0xa6+0x70*0x3a:-(-0x41f*-0x1+-0x121*0x14+0x8b*0x22);}['_getAxis'](){return this['orientatio'+'n']===ye?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===ye?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===ye?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x7e2a1e){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x7e2a1e);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x3*0x15b+0x1*0xf9b+-0x13ac));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x1*0x7d5+-0x1*-0x2201+0x7*-0x3bd));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x24b675,_0x920d8d){_0x24b675['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x920d8d[_0x24b675['handleEnti'+'ty']['getGuid']()]);}}c(xx,'EVENT_SETV'+'ALUE','set:value');class FI{constructor(){c(this,'enabled',!(0x17ae+-0x141*-0x7+-0x2075)),c(this,'orientatio'+'n',ye),c(this,'value',-0x686+0x1c84+-0x15fe),c(this,'handleSize',-0x19c9+-0x19ea*-0x1+-0x1*0x21),c(this,'handleEnti'+'ty',null);}}const Cg=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class kI extends Qe{constructor(_0x3c3b12){super(_0x3c3b12),this['id']='scrollbar',this['ComponentT'+'ype']=xx,this['DataType']=FI,this['schema']=Cg,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x12666a,_0x305f7d,_0x523e78){super['initialize'+'ComponentD'+'ata'](_0x12666a,_0x305f7d,Cg),_0x12666a['handleEnti'+'ty']=_0x305f7d['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x41ecf8){_0x41ecf8['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x20fb97,_0x317492){_0x317492['onRemove']();}}const OI={'volume':0x0,'pitch':0x0,'loop':!(-0x7*0x55c+0xd92+-0x1*-0x17f3),'startTime':0x0,'duration':0x0,'position':new A(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class sr extends de{constructor(_0x38a6d0,_0x4acb3d='Untitled',_0x692599={}){super(),c(this,'name'),c(this,'instances',[]),(this['_component']=_0x38a6d0,this['_assets']=_0x38a6d0['system']['app']['assets'],this['_manager']=_0x38a6d0['system']['manager'],this['name']=_0x4acb3d,this['_volume']=_0x692599['volume']!==void(0x1*0x9ed+-0x1*0x107f+0x692)?z['clamp'](Number(_0x692599['volume'])||-0x5*-0x689+0x5d7+-0x2684,-0x65f+-0x2bb*-0x2+0xe9*0x1,0x1ca*0xf+0x1503+0x5fb*-0x8):0xb03*-0x1+0x1*-0xb03+-0x1607*-0x1,this['_pitch']=_0x692599['pitch']!==void(-0xc1a+0xf4f+-0x1*0x335)?Math['max'](0x1*0x18df+0x24c2*0x1+0x9*-0x6d9+0.01,Number(_0x692599['pitch'])||0x8a5*0x1+0x531*-0x1+-0x1a*0x22):-0x1a17*-0x1+0x1f24+-0x5*0xb72,this['_loop']=!!(_0x692599['loop']!==void(-0xa*-0x1a8+0x29e+-0x132e)&&_0x692599['loop']),this['_duration']=_0x692599['duration']>0x351*0xb+0x1*-0x201a+-0x461?_0x692599['duration']:null,this['_startTime']=Math['max'](0x1fc1+-0x34b*-0x2+-0x2657,Number(_0x692599['startTime'])||-0x1276+-0x6*0x481+-0x2*-0x16be),this['_overlap']=!!_0x692599['overlap'],this['_autoPlay']=!!_0x692599['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x692599['asset'],this['_asset']instanceof he&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x456f6d){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){b['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x19ca2b=_0x456f6d;if(_0x19ca2b||(_0x19ca2b=this['_createIns'+'tance'](),this['instances']['push'](_0x19ca2b)),this['isLoaded'])_0x19ca2b['play']();else{const _0x37ff12=function(_0x4b72ab){const _0x64659a=_0x19ca2b['_playWhenL'+'oaded'];_0x19ca2b['sound']=_0x4b72ab,_0x64659a&&_0x19ca2b['play']();};this['off']('load',_0x37ff12),this['once']('load',_0x37ff12),this['load']();}return _0x19ca2b;}['pause'](){let _0x4d1abb=!(0x1ae3*-0x1+0x2611+-0xb2d);const _0x573978=this['instances'];for(let _0x1631a2=0x1*0x105d+0x2ee+-0x134b,_0x295aa7=_0x573978['length'];_0x1631a2<_0x295aa7;_0x1631a2++)_0x573978[_0x1631a2]['pause']()&&(_0x4d1abb=!(-0xa15*0x3+-0x1959+0x3798));return _0x4d1abb;}['resume'](){let _0x309a50=!(0x6b*-0x23+0x17be+-0x91c);const _0x294959=this['instances'];for(let _0x737fb3=-0x1304+-0xa*-0x54+0xd4*0x13,_0x425911=_0x294959['length'];_0x737fb3<_0x425911;_0x737fb3++)_0x294959[_0x737fb3]['resume']()&&(_0x309a50=!(-0x9*0x2e7+0x2505+0x5d*-0x1e));return _0x309a50;}['stop'](){let _0x3c2dc2=!(-0x2c9+0x77b+-0x4b1*0x1);const _0xbc6121=this['instances'];let _0xec6197=_0xbc6121['length'];for(;_0xec6197--;)_0xbc6121[_0xec6197]['stop'](),_0x3c2dc2=!(-0x26db+-0x864*0x2+0x37a3*0x1);return _0xbc6121['length']=-0x1282+0x997+0x8eb*0x1,_0x3c2dc2;}['load'](){if(!this['_hasAsset']())return;const _0x1cb708=this['_assets']['get'](this['_asset']);if(!_0x1cb708){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x1cb708['off']('remove',this['_onAssetRe'+'moved'],this),_0x1cb708['on']('remove',this['_onAssetRe'+'moved'],this),!_0x1cb708['resource']){_0x1cb708['off']('load',this['_onAssetLo'+'ad'],this),_0x1cb708['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x1cb708);return;}this['fire']('load',_0x1cb708['resource']);}['setExterna'+'lNodes'](_0x516c05,_0x3bee29){if(!_0x516c05){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x3bee29||(_0x3bee29=_0x516c05),this['_firstNode']=_0x516c05,this['_lastNode']=_0x3bee29,!this['_overlap']){const _0x204cd2=this['instances'];for(let _0x1263b2=-0x9b+-0x3*-0xbde+-0x1*0x22ff,_0xa57b80=_0x204cd2['length'];_0x1263b2<_0xa57b80;_0x1263b2++)_0x204cd2[_0x1263b2]['setExterna'+'lNodes'](_0x516c05,_0x3bee29);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x1beb54=this['instances'];for(let _0x1730bd=-0x16aa+-0x22f7+0x39a1,_0x2264c6=_0x1beb54['length'];_0x1730bd<_0x2264c6;_0x1730bd++)_0x1beb54[_0x1730bd]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x1f2d75=null;const _0x5703e2=this['_component'];let _0x3e3595=null;if(this['_hasAsset']()){const _0x530c43=this['_assets']['get'](this['_asset']);_0x530c43&&(_0x3e3595=_0x530c43['resource']);}const _0xe619e4=OI;return _0xe619e4['volume']=this['_volume']*_0x5703e2['volume'],_0xe619e4['pitch']=this['_pitch']*_0x5703e2['pitch'],_0xe619e4['loop']=this['_loop'],_0xe619e4['startTime']=this['_startTime'],_0xe619e4['duration']=this['_duration'],_0xe619e4['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0xe619e4['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0xe619e4['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0xe619e4['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0xe619e4['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x5703e2['positional']?(_0xe619e4['position']['copy'](_0x5703e2['entity']['getPositio'+'n']()),_0xe619e4['maxDistanc'+'e']=_0x5703e2['maxDistanc'+'e'],_0xe619e4['refDistanc'+'e']=_0x5703e2['refDistanc'+'e'],_0xe619e4['rollOffFac'+'tor']=_0x5703e2['rollOffFac'+'tor'],_0xe619e4['distanceMo'+'del']=_0x5703e2['distanceMo'+'del'],_0x1f2d75=new Kn(this['_manager'],_0x3e3595,_0xe619e4)):_0x1f2d75=new ls(this['_manager'],_0x3e3595,_0xe619e4),this['_firstNode']&&_0x1f2d75['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x1f2d75;}['_onInstanc'+'ePlay'](_0x4186b9){this['fire']('play',_0x4186b9),this['_component']['fire']('play',this,_0x4186b9);}['_onInstanc'+'ePause'](_0x2bde7e){this['fire']('pause',_0x2bde7e),this['_component']['fire']('pause',this,_0x2bde7e);}['_onInstanc'+'eResume'](_0x38bfbf){this['fire']('resume',_0x38bfbf),this['_component']['fire']('resume',this,_0x38bfbf);}['_onInstanc'+'eStop'](_0x134e31){const _0x6ae86d=this['instances']['indexOf'](_0x134e31);_0x6ae86d!==-(0x1*-0x2039+0x35*0x6d+0x9a9)&&this['instances']['splice'](_0x6ae86d,-0x78b*0x4+0x7f*0x24+0xc51),this['fire']('stop',_0x134e31),this['_component']['fire']('stop',this,_0x134e31);}['_onInstanc'+'eEnd'](_0x3a8d6e){const _0xe5b1e1=this['instances']['indexOf'](_0x3a8d6e);_0xe5b1e1!==-(-0x21f1*-0x1+-0x1d91*0x1+-0x45f)&&this['instances']['splice'](_0xe5b1e1,-0xe*0x28b+-0x219+0x4*0x96d),this['fire']('end',_0x3a8d6e),this['_component']['fire']('end',this,_0x3a8d6e);}['_onAssetAd'+'d'](_0x423072){this['load']();}['_onAssetLo'+'ad'](_0x4d51b9){this['load']();}['_onAssetRe'+'moved'](_0x3f9950){_0x3f9950['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x3f9950['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x4c8194){const _0x2b4d15=this['instances'];for(let _0x3caf69=0xab0+-0x1178+-0x4*-0x1b2,_0x49d1f4=_0x2b4d15['length'];_0x3caf69<_0x49d1f4;_0x3caf69++)_0x2b4d15[_0x3caf69]['position']=_0x4c8194;}set['asset'](_0x59b9f9){const _0x2edfcf=this['_asset'];if(_0x2edfcf){this['_assets']['off']('add:'+_0x2edfcf,this['_onAssetAd'+'d'],this);const _0x5302ff=this['_assets']['get'](_0x2edfcf);_0x5302ff&&_0x5302ff['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x59b9f9,this['_asset']instanceof he&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0xe49338){this['_autoPlay']=!!_0xe49338;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x32b7dd){if(this['_duration']=Math['max'](0x14d1*0x1+0x1*-0x1067+-0x46a,Number(_0x32b7dd)||-0xaf9+-0x21fb+0xc*0x3bf)||null,!this['_overlap']){const _0x419611=this['instances'];for(let _0x539b55=-0x1ffa+0x5*0x4cc+0x7fe,_0x3c409=_0x419611['length'];_0x539b55<_0x3c409;_0x539b55++)_0x419611[_0x539b55]['duration']=this['_duration'];}}get['duration'](){let _0x27cc05=0x1eef*0x1+-0xe45+0x58e*-0x3;if(this['_hasAsset']()){const _0x6568e0=this['_assets']['get'](this['_asset']);_0x27cc05=_0x6568e0!=null&&_0x6568e0['resource']?_0x6568e0['resource']['duration']:-0x3af*0x1+-0x3*0x19f+0x88c;}return this['_duration']!=null?this['_duration']%(_0x27cc05||0x207f+-0x16db+-0x9a3):_0x27cc05;}get['isLoaded'](){if(this['_hasAsset']()){const _0x3ec29f=this['_assets']['get'](this['_asset']);if(_0x3ec29f)return!!_0x3ec29f['resource'];}return!(0x1de3+0x1214+-0xe*0x36d);}get['isPaused'](){const _0x3722f4=this['instances'],_0x51dfd0=_0x3722f4['length'];if(_0x51dfd0===0xeab+-0x1b4f+0xca4)return!(0x4a*0x4c+-0x2421+0x715*0x2);for(let _0x1c862e=0x3*-0x323+0x1*0x62b+0x33e;_0x1c862e<_0x51dfd0;_0x1c862e++)if(!_0x3722f4[_0x1c862e]['isPaused'])return!(0x5d9*-0x2+0x12*0x21b+0x1a33*-0x1);return!(-0x1*-0xa99+0x1518+-0x1fb1);}get['isPlaying'](){const _0x4d8a23=this['instances'];for(let _0xbd70a1=0x1d1a+-0x3cb+0x155*-0x13,_0x3a8028=_0x4d8a23['length'];_0xbd70a1<_0x3a8028;_0xbd70a1++)if(_0x4d8a23[_0xbd70a1]['isPlaying'])return!(0x8*-0x23c+-0x16*-0xb+0x10ee);return!(-0x1190+-0x18f8+-0x2a89*-0x1);}get['isStopped'](){const _0x282e47=this['instances'];for(let _0x5e900b=-0xb*-0x21a+-0x151*-0x1+-0x825*0x3,_0x5a75df=_0x282e47['length'];_0x5e900b<_0x5a75df;_0x5e900b++)if(!_0x282e47[_0x5e900b]['isStopped'])return!(0x257*0x2+-0x44a+-0x21*0x3);return!(0x1*-0x130d+-0xec6+-0x7*-0x4d5);}set['loop'](_0x5d3ed2){this['_loop']=!!_0x5d3ed2;const _0x3d20c6=this['instances'];for(let _0x2a3954=-0x2*0x971+-0x33e*0x6+0x132b*0x2,_0x5d52e1=_0x3d20c6['length'];_0x2a3954<_0x5d52e1;_0x2a3954++)_0x3d20c6[_0x2a3954]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x25f11e){this['_overlap']=!!_0x25f11e;}get['overlap'](){return this['_overlap'];}set['pitch'](_0xb18828){if(this['_pitch']=Math['max'](Number(_0xb18828)||0x11a4+0x596+0x173a*-0x1,0x21a9+-0x187f+-0x33*0x2e+0.01),!this['_overlap']){const _0x398205=this['instances'];for(let _0x1c00ec=-0xc42+-0xaab+0x1*0x16ed,_0x198e69=_0x398205['length'];_0x1c00ec<_0x198e69;_0x1c00ec++)_0x398205[_0x1c00ec]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x1ec70d){if(this['_startTime']=Math['max'](-0x1d34+-0x197a*0x1+0x36ae*0x1,Number(_0x1ec70d)||0xe38+0x1*-0xf14+-0x5*-0x2c),!this['_overlap']){const _0x561581=this['instances'];for(let _0x51cf8e=0x7d1+0x11a3+-0x1974,_0x170d38=_0x561581['length'];_0x51cf8e<_0x170d38;_0x51cf8e++)_0x561581[_0x51cf8e]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x582737){if(this['_volume']=z['clamp'](Number(_0x582737)||0x1*-0x1479+-0xe14+0x1d*0x131,-0x5*0x636+-0x1178+0x1843*0x2,-0xf72+0x1ea3+-0xf30),!this['_overlap']){const _0x1fafcc=this['instances'];for(let _0x3389f7=0x821*-0x1+-0x1c7c+-0xd*-0x2d1,_0x39afec=_0x1fafcc['length'];_0x3389f7<_0x39afec;_0x3389f7++)_0x1fafcc[_0x3389f7]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}c(sr,'EVENT_PLAY','play'),c(sr,'EVENT_PAUS'+'E','pause'),c(sr,'EVENT_RESU'+'ME','resume'),c(sr,'EVENT_STOP','stop'),c(sr,'EVENT_LOAD','load');class zr extends pe{constructor(){super(...arguments),c(this,'_volume',0x246c+0x257e+0x49e9*-0x1),c(this,'_pitch',0x1bb3*0x1+-0x3*0x651+-0x8bf),c(this,'_positiona'+'l',!(-0x485+0x652*0x5+-0x3*0x907)),c(this,'_refDistan'+'ce',0x1*-0x211f+0x11*0x249+0x1*-0x5b9),c(this,'_maxDistan'+'ce',0x18*0x1ad+-0x3efd+0x3dd5),c(this,'_rollOffFa'+'ctor',-0x3*-0x455+0x13ff+-0x233*0xf),c(this,'_distanceM'+'odel',mc),c(this,'_slots',{}),c(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x49e184,_0x49127a,_0x1da276){const _0x4cdaef=this['_slots'];for(const _0x3cd887 in _0x4cdaef){const _0x3da2f3=_0x4cdaef[_0x3cd887];if(!_0x3da2f3['overlap']){const _0x42d6e2=_0x3da2f3['instances'];for(let _0x1e062f=0xe7a*0x1+0x8af+0x34f*-0x7,_0x4a10a7=_0x42d6e2['length'];_0x1e062f<_0x4a10a7;_0x1e062f++)_0x42d6e2[_0x1e062f][_0x49e184]=_0x1da276?_0x3da2f3[_0x49e184]*_0x49127a:_0x49127a;}}}set['distanceMo'+'del'](_0x50d3ef){this['_distanceM'+'odel']=_0x50d3ef,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x50d3ef,!(-0xe44+-0x994+0x5*0x4c5));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x1c30cc){this['_maxDistan'+'ce']=_0x1c30cc,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x1c30cc,!(0x1a51+-0x71f*-0x5+-0x3deb));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x3fab7c){this['_refDistan'+'ce']=_0x3fab7c,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x3fab7c,!(0x1*0x16bd+-0x1210+-0x4ac*0x1));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x3ed45c){this['_rollOffFa'+'ctor']=_0x3ed45c,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x3ed45c,!(-0x1*0x7cf+-0x1d79+0x2549));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x2676e7){this['_pitch']=_0x2676e7,this['_updateSou'+'ndInstance'+'s']('pitch',_0x2676e7,!(0x7a3+-0x16d3*-0x1+-0x1e76));}get['pitch'](){return this['_pitch'];}set['volume'](_0x4f1c6b){this['_volume']=_0x4f1c6b,this['_updateSou'+'ndInstance'+'s']('volume',_0x4f1c6b,!(0x971*-0x1+-0x1*0x807+0x1178));}get['volume'](){return this['_volume'];}set['positional'](_0x5e13cf){this['_positiona'+'l']=_0x5e13cf;const _0x40aab3=this['_slots'];for(const _0xd9f3fa in _0x40aab3){const _0x5bb0da=_0x40aab3[_0xd9f3fa];if(!_0x5bb0da['overlap']){const _0x59c134=_0x5bb0da['instances'],_0x4e5c08=_0x59c134['length'];for(let _0x451883=_0x4e5c08-(-0x1d49+0x1*0x106f+0xcdb*0x1);_0x451883>=-0x2*0x11a1+0x1414+0xf2e;_0x451883--){const _0x3c9753=_0x59c134[_0x451883]['isPlaying']||_0x59c134[_0x451883]['isSuspende'+'d'],_0x2358ea=_0x59c134[_0x451883]['currentTim'+'e'];_0x3c9753&&_0x59c134[_0x451883]['stop']();const _0x48f00b=_0x5bb0da['_createIns'+'tance']();_0x3c9753&&(_0x48f00b['play'](),_0x48f00b['currentTim'+'e']=_0x2358ea),_0x59c134['push'](_0x48f00b);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x34a121){const _0x319f36=this['_slots'];if(_0x319f36){for(const _0x1c6121 in _0x319f36)_0x319f36[_0x1c6121]['stop']();}const _0x407b37={};for(const _0x216095 in _0x34a121)_0x34a121[_0x216095]instanceof sr?_0x407b37[_0x34a121[_0x216095]['name']]=_0x34a121[_0x216095]:_0x34a121[_0x216095]['name']&&(_0x407b37[_0x34a121[_0x216095]['name']]=new sr(this,_0x34a121[_0x216095]['name'],_0x34a121[_0x216095]));this['_slots']=_0x407b37,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x512829=this['_slots'],_0x582300=this['_playingBe'+'foreDisabl'+'e'];for(const _0x48ad0b in _0x512829){const _0x4a341f=_0x512829[_0x48ad0b];_0x4a341f['autoPlay']&&_0x4a341f['isStopped']?_0x4a341f['play']():_0x582300[_0x48ad0b]?_0x4a341f['resume']():_0x4a341f['isLoaded']||_0x4a341f['load']();}}['onDisable'](){const _0x11d543=this['_slots'],_0x29f144={};for(const _0x1ab442 in _0x11d543)_0x11d543[_0x1ab442]['overlap']||_0x11d543[_0x1ab442]['isPlaying']&&(_0x11d543[_0x1ab442]['pause'](),_0x29f144[_0x1ab442]=!(0x47*0x9+0x1d39+-0x1fb8));this['_playingBe'+'foreDisabl'+'e']=_0x29f144;}['onRemove'](){this['off']();}['addSlot'](_0x9470b7,_0x1aa1be){const _0xe20f7=this['_slots'];if(_0xe20f7[_0x9470b7])return b['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x9470b7+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x198c9d=new sr(this,_0x9470b7,_0x1aa1be);return _0xe20f7[_0x9470b7]=_0x198c9d,_0x198c9d['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x198c9d['play'](),_0x198c9d;}['removeSlot'](_0x5a4809){const _0x209045=this['_slots'];_0x209045[_0x5a4809]&&(_0x209045[_0x5a4809]['stop'](),delete _0x209045[_0x5a4809]);}['slot'](_0x3511d7){return this['_slots'][_0x3511d7];}['_getSlotPr'+'operty'](_0x4ee307,_0x50a315){if(!this['enabled']||!this['entity']['enabled'])return;const _0x503497=this['_slots'][_0x4ee307];if(!_0x503497){b['warn']('Trying\x20to\x20'+'get\x20'+_0x50a315+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x4ee307+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x503497[_0x50a315];}['isPlaying'](_0x38463d){return this['_getSlotPr'+'operty'](_0x38463d,'isPlaying')||!(-0x3d*-0x89+-0xcef+-0x13b5*0x1);}['isLoaded'](_0x3ef6e5){return this['_getSlotPr'+'operty'](_0x3ef6e5,'isLoaded')||!(0x1264+0x1*-0x1425+0x1c2);}['isPaused'](_0x528c34){return this['_getSlotPr'+'operty'](_0x528c34,'isPaused')||!(0x98e*0x3+-0x281*0x8+0x1*-0x8a1);}['isStopped'](_0x495edb){return this['_getSlotPr'+'operty'](_0x495edb,'isStopped')||!(0xd4*0x29+-0x1*0xd+0x2*-0x10f3);}['play'](_0x5eb231){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x56f9da=this['_slots'][_0x5eb231];return _0x56f9da?_0x56f9da['play']():(b['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x5eb231+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x2cf676){const _0x283aba=this['_slots'];if(_0x2cf676){const _0x29a85b=_0x283aba[_0x2cf676];if(!_0x29a85b){b['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x2cf676+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x29a85b['pause']();}else{for(const _0x4e87ee in _0x283aba)_0x283aba[_0x4e87ee]['pause']();}}['resume'](_0x1380a4){const _0x537a6c=this['_slots'];if(_0x1380a4){const _0x184d52=_0x537a6c[_0x1380a4];if(!_0x184d52){b['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x1380a4+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x184d52['isPaused']&&_0x184d52['resume']();}else{for(const _0x5213f4 in _0x537a6c)_0x537a6c[_0x5213f4]['resume']();}}['stop'](_0x56978c){const _0x21ee2c=this['_slots'];if(_0x56978c){const _0x3e68ef=_0x21ee2c[_0x56978c];if(!_0x3e68ef){b['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x56978c+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x3e68ef['stop']();}else{for(const _0x21f121 in _0x21ee2c)_0x21ee2c[_0x21f121]['stop']();}}}c(zr,'EVENT_PLAY','play'),c(zr,'EVENT_PAUS'+'E','pause'),c(zr,'EVENT_RESU'+'ME','resume'),c(zr,'EVENT_STOP','stop'),c(zr,'EVENT_END','end');class BI{constructor(){this['enabled']=!(0x1842+-0x2268+0xa26*0x1);}}const Sx=['enabled'];class NI extends Qe{constructor(_0x5c1e88){super(_0x5c1e88),this['id']='sound',this['ComponentT'+'ype']=zr,this['DataType']=BI,this['schema']=Sx,this['manager']=_0x5c1e88['soundManag'+'er'],b['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x2ef818){this['manager']['volume']=_0x2ef818;}get['volume'](){return this['manager']['volume'];}get['context'](){return Ni()?this['manager']['context']:(b['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x462295,_0x3ff100,_0x556dcc){_0x556dcc=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x1a0d23=0x2092+0x2bb*-0x4+-0x15a6;_0x1a0d23<_0x556dcc['length'];_0x1a0d23++)_0x3ff100['hasOwnProp'+'erty'](_0x556dcc[_0x1a0d23])&&(_0x462295[_0x556dcc[_0x1a0d23]]=_0x3ff100[_0x556dcc[_0x1a0d23]]);super['initialize'+'ComponentD'+'ata'](_0x462295,_0x3ff100,['enabled']);}['cloneCompo'+'nent'](_0x310529,_0x1d03b8){const _0x14234d=_0x310529['sound'],_0x2b8609=_0x14234d['slots'],_0x434d43={};for(const _0x545fa3 in _0x2b8609){const _0x3bc821=_0x2b8609[_0x545fa3];_0x434d43[_0x545fa3]={'name':_0x3bc821['name'],'volume':_0x3bc821['volume'],'pitch':_0x3bc821['pitch'],'loop':_0x3bc821['loop'],'duration':_0x3bc821['duration'],'startTime':_0x3bc821['startTime'],'overlap':_0x3bc821['overlap'],'autoPlay':_0x3bc821['autoPlay'],'asset':_0x3bc821['asset']};}const _0x49f5ed={'distanceModel':_0x14234d['distanceMo'+'del'],'enabled':_0x14234d['enabled'],'maxDistance':_0x14234d['maxDistanc'+'e'],'pitch':_0x14234d['pitch'],'positional':_0x14234d['positional'],'refDistance':_0x14234d['refDistanc'+'e'],'rollOffFactor':_0x14234d['rollOffFac'+'tor'],'slots':_0x434d43,'volume':_0x14234d['volume']};return this['addCompone'+'nt'](_0x1d03b8,_0x49f5ed);}['onUpdate'](_0xa5ed52){const _0x4af1b0=this['store'];for(const _0x50ec2c in _0x4af1b0)if(_0x4af1b0['hasOwnProp'+'erty'](_0x50ec2c)){const _0x5d2ed1=_0x4af1b0[_0x50ec2c]['entity'];if(_0x5d2ed1['enabled']){const _0x4a856a=_0x5d2ed1['sound'];if(_0x4a856a['enabled']&&_0x4a856a['positional']){const _0x2d5a5a=_0x5d2ed1['getPositio'+'n'](),_0x54054b=_0x4a856a['slots'];for(const _0x193a3a in _0x54054b)_0x54054b[_0x193a3a]['updatePosi'+'tion'](_0x2d5a5a);}}}}['onBeforeRe'+'move'](_0x32dec7,_0x36a973){const _0x14a718=_0x36a973['slots'];for(const _0x2aca38 in _0x14a718)_0x14a718[_0x2aca38]['overlap']||_0x14a718[_0x2aca38]['stop']();_0x36a973['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}pe['_buildAcce'+'ssors'](zr['prototype'],Sx);const Mg='simple',Pg='animated';class Ci extends de{constructor(_0x3b0ceb,_0x639e1d){super(),c(this,'_evtSetMes'+'hes',null),(this['_component']=_0x3b0ceb,this['_frame']=-0xe77*-0x1+0x7*0x359+-0x25e6,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x639e1d['spriteAsse'+'t'],this['name']=_0x639e1d['name'],this['fps']=_0x639e1d['fps']||-0x3*-0x277+-0x303*0xc+-0x3*-0x995,this['loop']=_0x639e1d['loop']||!(0xc1d*0x1+-0x7b*-0x26+-0xf2f*0x2),this['_playing']=!(-0x6*0x45+0xf*0x15c+-0x12c5),this['_paused']=!(-0xbc3+0x36d*-0x7+0x23bf),this['_time']=0xb0+0xa*-0x2b2+0x1a44);}get['duration'](){if(this['_sprite']){const _0x25dc1f=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x25dc1f);}return 0x5*-0x4a2+0x8*0x283+0x312;}set['frame'](_0x2a5510){this['_setFrame'](_0x2a5510);const _0xe5146c=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0xe5146c);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x58e95c){var _0xd10830;if(this['_sprite']&&((_0xd10830=this['_evtSetMes'+'hes'])==null||_0xd10830['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x58e95c,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x5a019b;!_0x58e95c||!_0x58e95c['atlas']?(_0x5a019b=this['_component']['_meshInsta'+'nce'],_0x5a019b&&(_0x5a019b['deletePara'+'meter']('texture_em'+'issiveMap'),_0x5a019b['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x58e95c['atlas']['texture']&&(_0x5a019b=this['_component']['_meshInsta'+'nce'],_0x5a019b&&(_0x5a019b['setParamet'+'er']('texture_em'+'issiveMap',_0x58e95c['atlas']['texture']),_0x5a019b['setParamet'+'er']('texture_op'+'acityMap',_0x58e95c['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x5e58a9){const _0x2b8b0d=this['_component']['system']['app']['assets'];let _0x46629c=_0x5e58a9;if(_0x5e58a9 instanceof he&&(_0x46629c=_0x5e58a9['id']),this['_spriteAss'+'et']!==_0x46629c){if(this['_spriteAss'+'et']){const _0x11047a=_0x2b8b0d['get'](this['_spriteAss'+'et']);_0x11047a&&this['_unbindSpr'+'iteAsset'](_0x11047a);}if(this['_spriteAss'+'et']=_0x46629c,this['_spriteAss'+'et']){const _0x3f5115=_0x2b8b0d['get'](this['_spriteAss'+'et']);_0x3f5115?this['_bindSprit'+'eAsset'](_0x3f5115):(this['sprite']=null,_0x2b8b0d['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x3de95e){this['_setTime'](_0x3de95e),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x555+-0x2*-0x105d+-0x1b64),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x253e+0x1bb3+-0x85*0x7d;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0xab6f3e){this['_component']['system']['app']['assets']['off']('add:'+_0xab6f3e['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0xab6f3e['id']&&this['_bindSprit'+'eAsset'](_0xab6f3e);}['_bindSprit'+'eAsset'](_0x19f6ca){_0x19f6ca['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x19f6ca['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x19f6ca['resource']?this['_onSpriteA'+'ssetLoad'](_0x19f6ca):this['_component']['system']['app']['assets']['load'](_0x19f6ca);}['_unbindSpr'+'iteAsset'](_0x57174d){_0x57174d&&(_0x57174d['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x57174d['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x57174d['resource']&&!_0x57174d['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x57174d['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x39a126){if(!_0x39a126['resource'])this['sprite']=null;else{if(_0x39a126['resource']['atlas'])this['sprite']=_0x39a126['resource'];else{const _0xd94bf8=_0x39a126['data']['textureAtl'+'asAsset'],_0x1e4d59=this['_component']['system']['app']['assets'];_0x1e4d59['off']('load:'+_0xd94bf8,this['_onTexture'+'AtlasLoad'],this),_0x1e4d59['once']('load:'+_0xd94bf8,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x38b73b){const _0x59d303=this['_spriteAss'+'et'];_0x59d303 instanceof he?this['_onSpriteA'+'ssetLoad'](_0x59d303):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x59d303));}['_onSpriteA'+'ssetRemove'](_0x5ea303){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==Pi&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x570d78){if(this['fps']===0xa3*-0x5+-0x2de*0x2+0x8eb||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x2a2bd0=this['fps']<-0x24fa+0x23*0x1f+-0x11*-0x1ed?-(-0x1*0x2c2+-0x1*0x1815+0x1ad8):0xd71*-0x1+0x36*0x62+-0x73a,_0x4ff12e=this['_time']+_0x570d78*this['_component']['speed']*_0x2a2bd0,_0x30b016=this['duration'],_0x4c42ca=_0x4ff12e>_0x30b016||_0x4ff12e<0x1a4c+-0xd34+-0xd18;this['_setTime'](_0x4ff12e);let _0x4a7e28=this['frame'];this['_sprite']?_0x4a7e28=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x30b016):_0x4a7e28=-0xbbd*-0x1+-0x1f21*-0x1+-0x5d*0x76,_0x4a7e28!==this['_frame']&&this['_setFrame'](_0x4a7e28),_0x4c42ca&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x812+0x6*0x67d+-0x1*0x1edb),this['_paused']=!(0x10fd+0x1852+-0x294e),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x54b13d){this['_time']=_0x54b13d;const _0x1bc5fd=this['duration'];this['_time']<0xb71+0x45e*0x1+-0x545*0x3?this['loop']?this['_time']=this['_time']%_0x1bc5fd+_0x1bc5fd:this['_time']=0x977*-0x3+-0xd6a+0x29cf:this['_time']>_0x1bc5fd&&(this['loop']?this['_time']%=_0x1bc5fd:this['_time']=_0x1bc5fd);}['_setFrame'](_0x360369){this['_sprite']?this['_frame']=z['clamp'](_0x360369,-0x1df5+0x111d*-0x1+0x2f12,this['_sprite']['frameKeys']['length']-(0x17*0xef+-0xb11+-0xa67)):this['_frame']=_0x360369,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x181b31=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x181b31['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x1466+-0x49*-0x86+-0x11d0),this['_paused']=!(-0x5*-0x211+-0x267e+0xce*0x23),this['frame']=-0x2706+0xcac+-0x1a5a*-0x1,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x2*0x9fd+0x2030+0x1a15*-0x2),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x486*0x5+0x2524+0x4d7*-0x3),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1872+0x1*0x639+0x5*-0x622),this['_paused']=!(0x1ba8+-0x676*-0x4+-0x357f),this['_time']=0x1*0x2707+-0xc37+-0x1ad0,this['frame']=0x2*-0xcc2+0x38b+0x15f9,this['fire']('stop'),this['_component']['fire']('stop',this));}}c(Ci,'EVENT_PLAY','play'),c(Ci,'EVENT_PAUS'+'E','pause'),c(Ci,'EVENT_RESU'+'ME','resume'),c(Ci,'EVENT_STOP','stop'),c(Ci,'EVENT_END','end'),c(Ci,'EVENT_LOOP','loop');const Rg='texture_em'+'issiveMap',Ig='texture_op'+'acityMap',Dg='material_e'+'missive',Lg='material_o'+'pacity',zI='innerOffse'+'t',UI='outerScale',VI='atlasRect';class Ki extends pe{constructor(_0x27a901,_0xcf5b4d){super(_0x27a901,_0xcf5b4d),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_type']=Mg,this['_material']=_0x27a901['defaultMat'+'erial'],this['_color']=new Y(-0x1*-0x907+0x3ea+-0xcf0,0x1b12+0x1*0x1537+0x2*-0x1824,-0x2585*0x1+-0x1*-0x8d9+-0x98f*-0x3,0x1f*-0xa3+-0x6*0x15d+0x1bec),this['_colorUnif'+'orm']=new Float32Array(0x4ff*0x7+0x29*0x9d+-0x3c1b),this['_speed']=-0x1879+-0x792*-0x1+0x10e8,this['_flipX']=!(-0x3*0xa54+-0xe5b+-0x2d58*-0x1),this['_flipY']=!(-0x1647+0x1c*0xb2+0x18*0x1e),this['_width']=-0x6*0x117+-0x114d*-0x2+-0x1*0x1c0f,this['_height']=0x19de+-0x69f+0x133e*-0x1,this['_drawOrder']=0x1f24+0x265d+-0x4581,this['_layers']=[zi],this['_outerScal'+'e']=new W(-0x1d97+-0x3a2+0x213a,-0x192d+-0x40a+0x1d38),this['_outerScal'+'eUniform']=new Float32Array(-0x13f0+-0x3b*0x17+0x193f),this['_innerOffs'+'et']=new ee(),this['_innerOffs'+'etUniform']=new Float32Array(-0x9df+0x9a*-0x15+0x1685*0x1),this['_atlasRect']=new ee(),this['_atlasRect'+'Uniform']=new Float32Array(0x160e+-0xd*0x242+0x750),this['_batchGrou'+'pId']=-(-0x1bae+0x12e9+0x8c6),this['_batchGrou'+'p']=null,this['_node']=new Oe(),this['_model']=new Ui(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0xcf5b4d['addChild'](this['_model']['graph']),this['_model']['_entity']=_0xcf5b4d,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(-0x2*-0xf47+-0x7*0x311+-0x2*0x48b),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Ci(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1*0x109f+-0x1fb8+0x374*0xe),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x193b81){this['_type']!==_0x193b81&&(this['_type']=_0x193b81,this['_type']===Mg?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===Pg&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x23602e){this['_currentCl'+'ip']['frame']=_0x23602e;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x56f1dd){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x56f1dd;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x280da2){this['_currentCl'+'ip']['sprite']=_0x280da2;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x182600){this['_material']=_0x182600,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x182600);}get['material'](){return this['_material'];}set['color'](_0x29dc6a){this['_color']['r']=_0x29dc6a['r'],this['_color']['g']=_0x29dc6a['g'],this['_color']['b']=_0x29dc6a['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][-0x300*-0x5+0x25ae+-0x4ca*0xb]=this['_color']['r'],this['_colorUnif'+'orm'][-0x8ba+-0x26be+0x2f79]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1cb7+0x4*-0x1bd+0x1*0x23ad]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x23fbaa){this['_color']['a']=_0x23fbaa,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](Lg,_0x23fbaa);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x363ab2){if(!_0x363ab2){for(const _0x3aa881 in this['_clips'])this['removeClip'](_0x3aa881);return;}for(const _0x388a88 in this['_clips']){let _0xe1168b=!(-0x802+0x12cd+-0x2*0x565);for(const _0x3d202d in _0x363ab2)if(_0x363ab2[_0x3d202d]['name']===_0x388a88){_0xe1168b=!(-0x1376+-0x11c0+0x2536),this['_clips'][_0x388a88]['fps']=_0x363ab2[_0x3d202d]['fps'],this['_clips'][_0x388a88]['loop']=_0x363ab2[_0x3d202d]['loop'],_0x363ab2[_0x3d202d]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x388a88]['sprite']=_0x363ab2[_0x3d202d]['sprite']:_0x363ab2[_0x3d202d]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x388a88]['spriteAsse'+'t']=_0x363ab2[_0x3d202d]['spriteAsse'+'t']);break;}_0xe1168b||this['removeClip'](_0x388a88);}for(const _0x5de79c in _0x363ab2)this['_clips'][_0x363ab2[_0x5de79c]['name']]||this['addClip'](_0x363ab2[_0x5de79c]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x30d8dc){this['_speed']=_0x30d8dc;}get['speed'](){return this['_speed'];}set['flipX'](_0x15944b){this['_flipX']!==_0x15944b&&(this['_flipX']=_0x15944b,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x5ae30b){this['_flipY']!==_0x5ae30b&&(this['_flipY']=_0x5ae30b,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x1bf978){_0x1bf978!==this['_width']&&(this['_width']=_0x1bf978,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===st||this['sprite']['renderMode']===ht)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x103608){_0x103608!==this['_height']&&(this['_height']=_0x103608,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===st||this['sprite']['renderMode']===ht)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x12f304){var _0x108f8f,_0x2bc4e6;if(this['_batchGrou'+'pId']===_0x12f304)return;const _0x3605b3=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x12f304,this['entity']['enabled']&&_0x3605b3>=0x1*0x7af+0x1cd5*-0x1+0xa93*0x2&&((_0x108f8f=this['system']['app']['batcher'])==null||_0x108f8f['remove'](rt['SPRITE'],_0x3605b3,this['entity'])),this['entity']['enabled']&&_0x12f304>=-0x1d8+-0x73d+0x915?(_0x2bc4e6=this['system']['app']['batcher'])==null||_0x2bc4e6['insert'](rt['SPRITE'],_0x12f304,this['entity']):_0x3605b3>=0x121*0xd+-0x24d8+0x162b&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x33bb83){this['_autoPlayC'+'lip']=_0x33bb83 instanceof Ci?_0x33bb83['name']:_0x33bb83,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x4accb5){this['_drawOrder']=_0x4accb5,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x4accb5);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x4ab9d9){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x4ab9d9,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x32c0af;const _0x3b5e85=this['system']['app'],_0x1d51d3=_0x3b5e85['scene'],_0xbb9467=_0x1d51d3['layers'];this['_evtLayers'+'Changed']=_0x1d51d3['on']('set:layers',this['_onLayersC'+'hanged'],this),_0xbb9467&&(this['_evtLayerA'+'dded']=_0xbb9467['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0xbb9467['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x7f8+-0x92+0x1*0x88a&&((_0x32c0af=_0x3b5e85['batcher'])==null||_0x32c0af['insert'](rt['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x408fb0,_0x5ac769,_0x3cbd90,_0x1a3200;const _0x21ff44=this['system']['app'],_0x210cbd=_0x21ff44['scene']['layers'];(_0x408fb0=this['_evtLayers'+'Changed'])==null||_0x408fb0['off'](),this['_evtLayers'+'Changed']=null,_0x210cbd&&((_0x5ac769=this['_evtLayerA'+'dded'])==null||_0x5ac769['off'](),this['_evtLayerA'+'dded']=null,(_0x3cbd90=this['_evtLayerR'+'emoved'])==null||_0x3cbd90['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=-0x61f*-0x1+0x69+-0x688&&((_0x1a3200=_0x21ff44['batcher'])==null||_0x1a3200['remove'](rt['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x54537f;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x21a68b in this['_clips'])this['_clips'][_0x21a68b]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x54537f=this['_node'])==null||_0x54537f['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x1c5ce1=[this['_meshInsta'+'nce']];for(let _0x4d5aa0=0x12c9*-0x1+-0x1807+0xab4*0x4,_0x56b78c=this['_layers']['length'];_0x4d5aa0<_0x56b78c;_0x4d5aa0++){const _0x2e4015=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x4d5aa0]);_0x2e4015&&_0x2e4015['addMeshIns'+'tances'](_0x1c5ce1);}this['_addedMode'+'l']=!(0x6cb+0x1d4+-0x89f);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x57b899=[this['_meshInsta'+'nce']];for(let _0x2fccb0=0xb*-0x1c1+-0x1afc+0xf6d*0x3,_0x493172=this['_layers']['length'];_0x2fccb0<_0x493172;_0x2fccb0++){const _0x4c0f45=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x2fccb0]);_0x4c0f45&&_0x4c0f45['removeMesh'+'Instances'](_0x57b899);}this['_addedMode'+'l']=!(-0x6ed*0x1+-0x23ae+0x2a9c);}['_showFrame'](_0x2ffac1){if(!this['sprite'])return;const _0x189546=this['sprite']['meshes'][_0x2ffac1];if(!_0x189546){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0xe3d+0x104c+-0x1e88));return;}let _0x4f87ba;if(this['sprite']['renderMode']===ht?_0x4f87ba=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===st?_0x4f87ba=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x4f87ba=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new Be(_0x189546,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x40f+-0x2588+0x217a),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x1b1*0x16+-0x53*0x21+0x2fea),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x1e2b+-0x242b*-0x1+-0x4256]=this['_color']['r'],this['_colorUnif'+'orm'][0x2*0xf81+0x1*0x101+-0x2002]=this['_color']['g'],this['_colorUnif'+'orm'][0x25c+0x16bc+-0x1916]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](Dg,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](Lg,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x4f87ba&&(this['_meshInsta'+'nce']['material']=_0x4f87ba),this['_meshInsta'+'nce']['mesh']!==_0x189546&&(this['_meshInsta'+'nce']['mesh']=_0x189546,this['_meshInsta'+'nce']['visible']=!(-0x1ac+-0x321+0x4cd),this['_meshInsta'+'nce']['_aabbVer']=-(0x1763*-0x1+-0x3*0x9af+0x19*0x219)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](Rg,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](Ig,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](Rg),this['_meshInsta'+'nce']['deletePara'+'meter'](Ig)),this['sprite']['atlas']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x5107cc=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x2ffac1]];if(_0x5107cc){const _0x46c920=(0x1f08+0x50f+-0x2415)/_0x5107cc['rect']['z'],_0x10af2b=(0x1*-0x1ebb+-0x56f+-0x1*-0x242c)/_0x5107cc['rect']['w'];this['_innerOffs'+'et']['set'](_0x5107cc['border']['x']*_0x46c920,_0x5107cc['border']['y']*_0x10af2b,_0x5107cc['border']['z']*_0x46c920,_0x5107cc['border']['w']*_0x10af2b);const _0x138297=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x5107cc['rect']['x']/_0x138297['width'],_0x5107cc['rect']['y']/_0x138297['height'],_0x5107cc['rect']['z']/_0x138297['width'],_0x5107cc['rect']['w']/_0x138297['height']);}else this['_innerOffs'+'et']['set'](-0x1*-0x3ee+0x10d6+-0x14c4,0x161a+0x1796+-0x2db0,0x1*-0x194a+0x14d+0x17fd,0x8*-0x363+0x19*0x13+0x193d);this['_innerOffs'+'etUniform'][0x3*-0xae3+0x2172+-0xc9]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x8*0x79+0xa*0x316+0x22a3*-0x1]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x1cac*0x1+0x959*0x1+0x2c3*0x7]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x24*0xef+0x1132+-0x106d*-0x1]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](zI,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x1c9*-0x11+0x14e+0x1d0b]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1*-0xb61+-0x1*0xfb9+0x459]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x141a+0xa38+-0x184*0x14]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xc4f+0x17d8+-0xb86]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](VI,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x93a2bc=this['flipX']?-(0x1*0x84+-0x41c+0x3*0x133):-0x1b7e*0x1+0x2674+-0xaf5*0x1,_0x594700=this['flipY']?-(0x7f+0xeb*-0x12+0x1008):0xb30+0x35b*0x2+0x5f7*-0x3,_0x237bac=0x521*0x2+0x292*0x4+-0x148a,_0x537582=0xb7a+-0x1cac+0x1132;if(this['sprite']&&(this['sprite']['renderMode']===ht||this['sprite']['renderMode']===st)){let _0x5bdbd0=-0x13a7+-0xc6d*0x3+0x247*0x19,_0x20c3ec=-0x148*-0x3+-0x4e*-0x3b+-0x15d1;if(this['sprite']['atlas']){const _0x55b27c=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x55b27c&&(_0x5bdbd0=_0x55b27c['rect']['z'],_0x20c3ec=_0x55b27c['rect']['w'],_0x237bac=(0xd*0xbc+0x1*0x599+-0xf25+0.5-_0x55b27c['pivot']['x'])*this['_width'],_0x537582=(0x20bd+0x1*-0xead+-0x242*0x8+0.5-_0x55b27c['pivot']['y'])*this['_height']);}const _0x3ff562=_0x5bdbd0/this['sprite']['pixelsPerU'+'nit'],_0x1f8e22=_0x20c3ec/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x3ff562),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x1f8e22)),_0x93a2bc*=_0x3ff562,_0x594700*=_0x1f8e22,this['_outerScal'+'e']['x']/=_0x3ff562,this['_outerScal'+'e']['y']/=_0x1f8e22,_0x93a2bc*=z['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x3ff562),-0x1612+-0x101a+0x98b*0x4+0.0001,0x287*-0x8+-0x14af*0x1+0x28e8),_0x594700*=z['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x1f8e22),0xd5b+0x844+-0x159f+0.0001,-0x828+0x1a1e*-0x1+-0x6db*-0x5),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x7*0x64+0x1123+-0x13df]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0xb5a*-0x1+0x116f+-0x614]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](UI,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x93a2bc,_0x594700,0x240f*-0x1+0x1*-0x1f2a+0x433a),this['_node']['setLocalPo'+'sition'](_0x237bac,_0x537582,0x993+0x5*-0x3cc+-0x21*-0x49);}['_updateAab'+'b'](_0x451a52){return _0x451a52['center']['set'](0x1c25*-0x1+0x1*-0x26f+0x1e94,-0x47*0x1f+-0x37e+0xc17,0xc46+-0x20*-0xa0+-0x2046),_0x451a52['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x1ceb+0x24a5+0x4*-0x1064+0.5),this['_outerScal'+'e']['y']*(-0x255*-0xd+0x1*0x1d0b+-0x3b5c+0.5),-0x8*-0x259+0x9da*0x1+-0x1ca2+0.001),_0x451a52['setFromTra'+'nsformedAa'+'bb'](_0x451a52,this['_node']['getWorldTr'+'ansform']()),_0x451a52;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==Pg)return;const _0x1579cf=this['_clips'][this['_autoPlayC'+'lip']];_0x1579cf&&!_0x1579cf['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x1579cf['name']);}['_onLayersC'+'hanged'](_0xebf024,_0x2d4dc6){_0xebf024['off']('add',this['onLayerAdd'+'ed'],this),_0xebf024['off']('remove',this['onLayerRem'+'oved'],this),_0x2d4dc6['on']('add',this['onLayerAdd'+'ed'],this),_0x2d4dc6['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x350888){this['layers']['indexOf'](_0x350888['id'])<0x2701+-0x4e6+-0x221b*0x1||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x350888['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x96428c){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x96428c['id'])<0x1*0xdfa+0x2*-0x1365+0x18d0||_0x96428c['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x5c35fb=-0x482+-0x14b*-0x1+0x1*0x337;_0x5c35fb<this['layers']['length'];_0x5c35fb++){const _0x516955=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5c35fb]);_0x516955&&_0x516955['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x41cbc1){const _0x10ef79=new Ci(this,{'name':_0x41cbc1['name'],'fps':_0x41cbc1['fps'],'loop':_0x41cbc1['loop'],'spriteAsset':_0x41cbc1['spriteAsse'+'t']});return this['_clips'][_0x41cbc1['name']]=_0x10ef79,_0x10ef79['name']&&_0x10ef79['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x10ef79;}['removeClip'](_0x1bf1f7){delete this['_clips'][_0x1bf1f7];}['clip'](_0x579a90){return this['_clips'][_0x579a90];}['play'](_0x2f5763){const _0x12db97=this['_clips'][_0x2f5763],_0x27e09f=this['_currentCl'+'ip'];return _0x27e09f&&_0x27e09f!==_0x12db97&&(_0x27e09f['_playing']=!(-0x4b*0x5c+0x17*0xb5+-0x559*-0x2)),this['_currentCl'+'ip']=_0x12db97,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x12db97,this['_currentCl'+'ip']['play']()):b['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x2f5763+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x12db97;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}c(Ki,'EVENT_PLAY','play'),c(Ki,'EVENT_PAUS'+'E','pause'),c(Ki,'EVENT_RESU'+'ME','resume'),c(Ki,'EVENT_STOP','stop'),c(Ki,'EVENT_END','end'),c(Ki,'EVENT_LOOP','loop');class GI{constructor(){this['enabled']=!(0x2*0x766+0x2e1*-0xb+0x1*0x10df);}}const vx=['enabled'];class HI extends Qe{constructor(_0x69751){super(_0x69751),this['id']='sprite',this['ComponentT'+'ype']=Ki,this['DataType']=GI,this['schema']=vx,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x12862d){this['_defaultMa'+'terial']=_0x12862d;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x54d9ca=new ce(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':Te,'name':'sprite'}),_0x1e2393=new Uint8Array(_0x54d9ca['lock']());_0x1e2393[-0x2449+0x22eb+0x15e]=_0x1e2393[-0xaf9*0x1+0x33*0x38+-0x17*0x2]=_0x1e2393[-0x23cf*-0x1+-0x1*-0x5cc+-0x2999]=_0x1e2393[0x1073*0x1+0x1*0x1f3a+-0x2*0x17d5]=0x7bc+-0x16d8+-0x1f*-0x85,_0x54d9ca['unlock']();const _0x253ed5=new _s();_0x253ed5['diffuse']['set'](0x2e*-0xbd+-0x1*0x202b+0x4221,0x1*-0x156a+-0x9a9+0x1f13,0x3*-0x543+-0x36e*0xb+0x3583),_0x253ed5['emissive']['set'](-0x3*0x572+-0x4cf+0x1526,-0x1*0xde5+0x1*0xb19+0x2cd,-0xcb2+0xe57+-0x1a4*0x1),_0x253ed5['emissiveMa'+'p']=_0x54d9ca,_0x253ed5['opacityMap']=_0x54d9ca,_0x253ed5['opacityMap'+'Channel']='a',_0x253ed5['useLightin'+'g']=!(-0x453+-0x13*-0xe2+-0xc72),_0x253ed5['useTonemap']=!(-0x137c+0x1*0xa15+0x968),_0x253ed5['useFog']=!(-0x4*0x73c+0xd9*0x7+0x1702*0x1),_0x253ed5['useSkybox']=!(-0x20b0+0x18a2+0x1*0x80f),_0x253ed5['blendType']=dn,_0x253ed5['depthWrite']=!(0xed*-0x1c+0x2*-0x141+0x1c6f),_0x253ed5['pixelSnap']=!(0x1e1b+-0xb2*-0x20+-0x2*0x1a2d),_0x253ed5['cull']=vt,_0x253ed5['update'](),this['_defaultTe'+'xture']=_0x54d9ca,this['_defaultMa'+'terial']=_0x253ed5;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0xf23d31){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0xf23d31;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x329db4=this['defaultMat'+'erial']['clone']();_0x329db4['nineSliced'+'Mode']=ht,_0x329db4['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x329db4;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x247c7f){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x247c7f;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x1fcdc0=this['defaultMat'+'erial']['clone']();_0x1fcdc0['nineSliced'+'Mode']=st,_0x1fcdc0['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x1fcdc0;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x2daff1,_0x27ef58,_0x48045f){if(_0x27ef58['enabled']!==void(0x25a4+0x251e*-0x1+-0x2*0x43)&&(_0x2daff1['enabled']=_0x27ef58['enabled']),_0x2daff1['type']=_0x27ef58['type'],_0x27ef58['layers']&&Array['isArray'](_0x27ef58['layers'])&&(_0x2daff1['layers']=_0x27ef58['layers']['slice'](0x116a+0x1bbf*0x1+-0x2d29)),_0x27ef58['drawOrder']!==void(-0x1062*0x2+-0x5*-0x6c9+0x9*-0x21)&&(_0x2daff1['drawOrder']=_0x27ef58['drawOrder']),_0x27ef58['color']!==void(-0x157c+-0x1*-0x978+0xc04)&&(_0x27ef58['color']instanceof Y?_0x2daff1['color']['set'](_0x27ef58['color']['r'],_0x27ef58['color']['g'],_0x27ef58['color']['b'],_0x27ef58['opacity']??-0x77d+0xb*-0xec+0x11a2*0x1):_0x2daff1['color']['set'](_0x27ef58['color'][-0x118a+-0x1*-0x1544+-0x3ba],_0x27ef58['color'][0xb56+0xe80+-0x19d5],_0x27ef58['color'][0x107*0xa+0x138a*0x1+0xda*-0x23],_0x27ef58['opacity']??0x1114+0x2664+-0x3777),_0x2daff1['color']=_0x2daff1['color']),_0x27ef58['opacity']!==void(-0x2497+0x7*0x175+0xd32*0x2)&&(_0x2daff1['opacity']=_0x27ef58['opacity']),_0x27ef58['flipX']!==void(-0x573+-0x25c0+-0x2b33*-0x1)&&(_0x2daff1['flipX']=_0x27ef58['flipX']),_0x27ef58['flipY']!==void(0x2b*0x1+-0x1*0xa2b+0xa00)&&(_0x2daff1['flipY']=_0x27ef58['flipY']),_0x27ef58['width']!==void(-0x1eb8+-0xe68+-0x2d2*-0x10)&&(_0x2daff1['width']=_0x27ef58['width']),_0x27ef58['height']!==void(0x1f61+-0x53c+-0x17*0x123)&&(_0x2daff1['height']=_0x27ef58['height']),_0x27ef58['spriteAsse'+'t']!==void(-0xeb*-0x1d+-0x1358+0x3*-0x26d)&&(_0x2daff1['spriteAsse'+'t']=_0x27ef58['spriteAsse'+'t']),_0x27ef58['sprite']&&(_0x2daff1['sprite']=_0x27ef58['sprite']),_0x27ef58['frame']!==void(0x1*-0x2405+0x1c85+0x5*0x180)&&(_0x2daff1['frame']=_0x27ef58['frame']),_0x27ef58['clips']){for(const _0x458bca in _0x27ef58['clips'])_0x2daff1['addClip'](_0x27ef58['clips'][_0x458bca]);}_0x27ef58['speed']!==void(-0x1a9d+0x4*0x7fd+0x1*-0x557)&&(_0x2daff1['speed']=_0x27ef58['speed']),_0x27ef58['autoPlayCl'+'ip']&&(_0x2daff1['autoPlayCl'+'ip']=_0x27ef58['autoPlayCl'+'ip']),_0x2daff1['batchGroup'+'Id']=_0x27ef58['batchGroup'+'Id']===void(-0xcdc+-0x2526+-0xad*-0x4a)||_0x27ef58['batchGroup'+'Id']===null?-(-0x1*-0x1695+0x3*-0xb6a+0x1*0xbaa):_0x27ef58['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x2daff1,_0x27ef58,_0x48045f);}['cloneCompo'+'nent'](_0x262ada,_0x4bd641){const _0x2cb84b=_0x262ada['sprite'];return this['addCompone'+'nt'](_0x4bd641,{'enabled':_0x2cb84b['enabled'],'type':_0x2cb84b['type'],'spriteAsset':_0x2cb84b['spriteAsse'+'t'],'sprite':_0x2cb84b['sprite'],'width':_0x2cb84b['width'],'height':_0x2cb84b['height'],'frame':_0x2cb84b['frame'],'color':_0x2cb84b['color']['clone'](),'opacity':_0x2cb84b['opacity'],'flipX':_0x2cb84b['flipX'],'flipY':_0x2cb84b['flipY'],'speed':_0x2cb84b['speed'],'clips':_0x2cb84b['clips'],'autoPlayClip':_0x2cb84b['autoPlayCl'+'ip'],'batchGroupId':_0x2cb84b['batchGroup'+'Id'],'drawOrder':_0x2cb84b['drawOrder'],'layers':_0x2cb84b['layers']['slice'](0x445+-0x1*-0xad3+0x45*-0x38)});}['onUpdate'](_0x3c33e1){const _0x2b108f=this['store'];for(const _0x9fbccc in _0x2b108f)if(_0x2b108f['hasOwnProp'+'erty'](_0x9fbccc)){const _0x353594=_0x2b108f[_0x9fbccc];if(_0x353594['data']['enabled']&&_0x353594['entity']['enabled']){const _0x2312ad=_0x353594['entity']['sprite'];_0x2312ad['_currentCl'+'ip']&&_0x2312ad['_currentCl'+'ip']['_update'](_0x3c33e1);}}}['onBeforeRe'+'move'](_0x1324d1,_0x378463){_0x378463['onDestroy']();}}pe['_buildAcce'+'ssors'](Ki['prototype'],vx);class aa extends pe{constructor(_0x26fb32,_0x3056e6){super(_0x26fb32,_0x3056e6),this['_oldState']=!(-0x896*0x2+-0x67f+0x17ab),this['_size']=new A(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x2dd3da){_0x2dd3da instanceof A?this['_size']['copy'](_0x2dd3da):_0x2dd3da instanceof Array&&_0x2dd3da['length']>=-0x2238+0x8*-0x36f+-0x6db*-0x9&&this['size']['set'](_0x2dd3da[-0x61*0x4+0x4*-0x764+0x1f14],_0x2dd3da[0x80*-0x2f+0x14b4+0x2cd],_0x2dd3da[-0x12cd+0xe16*0x1+0x4b9]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x18749f,_0x11f25a,_0x35c066){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x3711c5=this['enabled']&&this['entity']['enabled'];_0x3711c5!==this['_oldState']&&(this['_oldState']=_0x3711c5,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}c(aa,'EVENT_ENAB'+'LE','enable'),c(aa,'EVENT_DISA'+'BLE','disable'),c(aa,'EVENT_STAT'+'E','state'),c(aa,'EVENT_REMO'+'VE','remove');class WI{constructor(){this['enabled']=!(0x1*-0x13ca+0x1af+0xf*0x135);}}const bx=['enabled'];class $I extends Qe{constructor(_0x4d7a0e){super(_0x4d7a0e),this['id']='zone',this['ComponentT'+'ype']=aa,this['DataType']=WI,this['schema']=bx,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x612fe9,_0x431f27,_0x3aa7d3){_0x612fe9['enabled']=_0x431f27['hasOwnProp'+'erty']('enabled')?!!_0x431f27['enabled']:!(0xcbc+0x1*-0xbfb+-0xc1),_0x431f27['size']&&(_0x431f27['size']instanceof A?_0x612fe9['size']['copy'](_0x431f27['size']):_0x431f27['size']instanceof Array&&_0x431f27['size']['length']>=-0x1c75+0x34*0x2b+0x1a5*0xc&&_0x612fe9['size']['set'](_0x431f27['size'][0x16*0x173+0x1*0xd8d+0x1*-0x2d6f],_0x431f27['size'][-0x1e3e+0x4fb+-0xc4*-0x21],_0x431f27['size'][-0x1*0x163f+-0x6af*0x4+0x30fd]));}['cloneCompo'+'nent'](_0x5c042c,_0x9523d6){const _0x2e3186={'enabled':_0x5c042c['zone']['enabled'],'size':_0x5c042c['zone']['size']};return this['addCompone'+'nt'](_0x9523d6,_0x2e3186);}['_onBeforeR'+'emove'](_0xd7789a,_0x3bc033){_0x3bc033['_onBeforeR'+'emove']();}}pe['_buildAcce'+'ssors'](aa['prototype'],bx);class qI{constructor(_0xd33015,_0x858f28){this['effect']=_0xd33015,this['inputTarge'+'t']=_0x858f28,this['outputTarg'+'et']=null,this['name']=_0xd33015['constructo'+'r']['name'];}}class XI{constructor(_0x29c507,_0x1b48da){this['app']=_0x29c507,this['camera']=_0x1b48da,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0x214f+0x1f15+-0x1*0x4063),this['depthTarge'+'t']=null,_0x1b48da['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x1c9924,_0x29c245){const _0x4e6222=this['camera']['rect'],_0x4f0336=this['destinatio'+'nRenderTar'+'get'],_0x576f88=this['app']['graphicsDe'+'vice'],_0x1c63d9=Math['floor'](_0x4e6222['z']*((_0x4f0336==null?void(0xad*0x20+0xb*0xcd+-0x1e6f):_0x4f0336['width'])??_0x576f88['width'])),_0xe64fc8=Math['floor'](_0x4e6222['w']*((_0x4f0336==null?void(0x214a+0x17*0x1+-0x2161):_0x4f0336['height'])??_0x576f88['height']));return new ce(_0x576f88,{'name':_0x29c245,'format':_0x1c9924,'width':_0x1c63d9,'height':_0xe64fc8,'mipmaps':!(0x2*-0xecf+0x1872+0x5*0x109),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe});}['_createOff'+'screenTarg'+'et'](_0x5e17ab,_0x4c1107){const _0xd75e69=this['app']['graphicsDe'+'vice'],_0x46fbb4=(this['destinatio'+'nRenderTar'+'get']??_0xd75e69['backBuffer'])['isColorBuf'+'ferSrgb'](-0xd9f+0xa*-0xd4+-0x74d*-0x3),_0x59b26c=(_0x4c1107&&_0xd75e69['getRendera'+'bleHdrForm'+'at']([it,et],!(-0x2683*-0x1+0x1*0x1537+-0x3bba)))??(_0x46fbb4?cs:Te),_0x68bd90=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x4b0771=this['_allocateC'+'olorBuffer'](_0x59b26c,_0x68bd90);return new St({'colorBuffer':_0x4b0771,'depth':_0x5e17ab,'stencil':_0x5e17ab&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x5e17ab?_0xd75e69['samples']:-0xa2e+0x18d8+-0xea9});}['_resizeOff'+'screenTarg'+'et'](_0x1227c0){const _0x4978e6=_0x1227c0['colorBuffe'+'r']['format'],_0x738dd9=_0x1227c0['colorBuffe'+'r']['name'];_0x1227c0['destroyFra'+'meBuffers'](),_0x1227c0['destroyTex'+'tureBuffer'+'s'](),_0x1227c0['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x4978e6,_0x738dd9),_0x1227c0['_colorBuff'+'ers']=[_0x1227c0['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x3764ab){_0x3764ab['destroyTex'+'tureBuffer'+'s'](),_0x3764ab['destroy']();}['addEffect'](_0x2353ce){const _0x3a5ce8=this['effects'],_0x5b89d1=_0x3a5ce8['length']===-0x18d6+-0x1c98+0x356e,_0x3bd395=this['_createOff'+'screenTarg'+'et'](_0x5b89d1,_0x2353ce['hdr']),_0xd047a8=new qI(_0x2353ce,_0x3bd395);_0x3a5ce8['push'](_0xd047a8),this['_sourceTar'+'get']=_0xd047a8['inputTarge'+'t'],_0x3a5ce8['length']>-0x4*0x971+0x63d*0x3+0x130e&&(_0x3a5ce8[_0x3a5ce8['length']-(0x32*0x79+-0x4a3*0x7+-0x7*-0x143)]['outputTarg'+'et']=_0xd047a8['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x2353ce,_0x2353ce['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x1bc4+-0x573+-0x1*0x1651);}['removeEffe'+'ct'](_0x5d4d10){let _0x871848=-(-0x1c3c+-0x249b+0x40d8);for(let _0x572b86=-0xd*0x1be+-0x1868+0x2f0e,_0x23e222=this['effects']['length'];_0x572b86<_0x23e222;_0x572b86++)if(this['effects'][_0x572b86]['effect']===_0x5d4d10){_0x871848=_0x572b86;break;}_0x871848>=-0x1a9+0x1*-0x1079+-0x2*-0x911&&(_0x871848>0x1769+0x25db+-0xf51*0x4?this['effects'][_0x871848-(0x1f12*0x1+0x3f5*-0x4+0x53*-0x2f)]['outputTarg'+'et']=_0x871848+(0x139f+-0xdf0+-0x5ae)<this['effects']['length']?this['effects'][_0x871848+(0x5*-0x595+0x2*-0xd1+0x1d8c*0x1)]['inputTarge'+'t']:null:this['effects']['length']>-0x1b87+0x1*0x8b7+0x1*0x12d1&&(this['effects'][0xe09+0x1ba4+-0x29ac]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x15e*-0x3+-0x1b57+0x1f72]['inputTarge'+'t']),this['effects'][-0x1*-0x109d+0x5f3+-0xe7*0x19]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x1e1d*0x1+-0x12e8+0x13*-0x97),this['effects'][-0x2*-0x679+-0x111+0x5f0*-0x2]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x3*0x811+-0x1*0x1e41+0x3675]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x1a21+-0x1a8d+0x34af]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x871848]['inputTarge'+'t']),this['effects']['splice'](_0x871848,0x1*0x2351+-0x142*-0x17+0x2*-0x201f)),this['enabled']&&_0x5d4d10['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x726+-0xe35*0x1+0x70f*0x1&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x35ce67=0xfaa+0x1*-0x21aa+0x1200,_0x466c7e=this['effects']['length'];_0x35ce67<_0x466c7e;_0x35ce67++){const _0x152c0a=this['effects'][_0x35ce67]['effect'];this['_newPostEf'+'fect']!==_0x152c0a&&_0x152c0a['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x494542=0x1599+0xa38+-0x1fd1,_0x1d9312=this['effects']['length'];_0x494542<_0x1d9312;_0x494542++)this['effects'][_0x494542]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x25e369=this['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x25e369&&(_0x25e369['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x5*-0x57e+-0x949*0x3+-0x65*-0x1)));}['_releaseDe'+'pthMap'](){const _0x2082a8=this['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x2082a8&&(_0x2082a8['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0x11*-0x119+0x151f+-0x27c7)));}['destroy'](){for(let _0x13c61e=-0x995+0x2*-0x1312+0x2fb9,_0x25f485=this['effects']['length'];_0x13c61e<_0x25f485;_0x13c61e++)this['effects'][_0x13c61e]['inputTarge'+'t']['destroy']();this['effects']['length']=0x1105+-0x11b5+0xb0,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x2f*0xd3+0x11ef+-0x38ac),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0xc5e+0x36e*-0xb+0x43a*0x6]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x3b61f1=null;const _0xc32891=this['effects']['length'];if(_0xc32891)for(let _0x3ccbf5=0xf43+0x14ed*-0x1+0x5aa;_0x3ccbf5<_0xc32891;_0x3ccbf5++){const _0x311d36=this['effects'][_0x3ccbf5];let _0x23c834=_0x311d36['outputTarg'+'et'];_0x3ccbf5===_0xc32891-(-0x19fe+0x2121+-0x2*0x391)&&(_0x3b61f1=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x23c834=this['destinatio'+'nRenderTar'+'get'])),G['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x311d36['name']),_0x311d36['effect']['render'](_0x311d36['inputTarge'+'t'],_0x23c834,_0x3b61f1),G['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0x1631*0x1+0xf*-0x52+0x1b00),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x5bc7d7,_0x238bf1){const _0x312af3=this['camera']['rect'],_0x318540=this['destinatio'+'nRenderTar'+'get'];_0x5bc7d7=(_0x318540==null?void(0x1c1a+-0x61f+-0x15fb):_0x318540['width'])??_0x5bc7d7,_0x238bf1=(_0x318540==null?void(-0x207e+0x1*-0x148d+-0x25*-0x16f):_0x318540['height'])??_0x238bf1,this['camera']['camera']['aspectRati'+'o']=_0x5bc7d7*_0x312af3['z']/(_0x238bf1*_0x312af3['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x7fb7c4=this['app']['graphicsDe'+'vice'],_0x502914=this['destinatio'+'nRenderTar'+'get'],_0x235224=(_0x502914==null?void(-0x2469+0x1525*0x1+-0x4*-0x3d1):_0x502914['width'])??_0x7fb7c4['width'],_0x179f56=(_0x502914==null?void(0x1177+-0x16a*0x10+0x529):_0x502914['height'])??_0x7fb7c4['height'],_0x586bce=this['camera']['rect'],_0x3a431e=Math['floor'](_0x586bce['z']*_0x235224),_0xc629fd=Math['floor'](_0x586bce['w']*_0x179f56),_0x1cf378=this['effects'];for(let _0x4d2f28=-0x1*0x14b0+-0x170c+0x2bbc,_0x507e8b=_0x1cf378['length'];_0x4d2f28<_0x507e8b;_0x4d2f28++){const _0x5596b7=_0x1cf378[_0x4d2f28];(_0x5596b7['inputTarge'+'t']['width']!==_0x3a431e||_0x5596b7['inputTarge'+'t']['height']!==_0xc629fd)&&this['_resizeOff'+'screenTarg'+'et'](_0x5596b7['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x3c1109,_0x2c158c,_0x2e561a){this['enabled']&&this['resizeRend'+'erTargets']();}}class wx extends pe{constructor(_0x17c379,_0x2eb280){super(_0x17c379,_0x2eb280),c(this,'onPostproc'+'essing',null),c(this,'_renderSce'+'neDepthMap',-0x8ab*-0x1+-0x161+-0x74a),c(this,'_renderSce'+'neColorMap',-0x1cc7+0x327*0xc+-0x14b*0x7),c(this,'_sceneDept'+'hMapReques'+'ted',!(0x501*-0x6+0x2*-0x85f+0x2ec5)),c(this,'_sceneColo'+'rMapReques'+'ted',!(0x19b2+0xcde+-0x268f*0x1)),c(this,'_priority',-0x13f6+0x12*-0x1e2+0x2*0x1aed),c(this,'_disablePo'+'stEffectsL'+'ayer',nl),c(this,'_camera',new dl()),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x2eb280,this['_postEffec'+'ts']=new XI(_0x17c379['app'],this));}['setShaderP'+'ass'](_0x3fb19b){const _0x50cc8f=ti['get'](this['system']['app']['graphicsDe'+'vice']),_0xd6b962=_0x3fb19b?_0x50cc8f['allocate'](_0x3fb19b,{'isForward':!(-0x122d+-0x836*0x3+0x2acf)}):null;return this['_camera']['shaderPass'+'Info']=_0xd6b962,_0xd6b962['index'];}['getShaderP'+'ass'](){var _0x4a17b9;return(_0x4a17b9=this['_camera']['shaderPass'+'Info'])==null?void(-0x139*0xf+0x247f+0x1c*-0xa6):_0x4a17b9['name'];}set['renderPass'+'es'](_0x563f89){this['_camera']['renderPass'+'es']=_0x563f89||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(0x85f*0x1+0x26fe+-0x1e5*0x19);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x21e88b){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x21e88b;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x1d6066){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x1d6066;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x47990e){this['_camera']['fogParams']=_0x47990e;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x858c7d){this['_camera']['aperture']=_0x858c7d;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x23b9e7){this['_camera']['aspectRati'+'o']=_0x23b9e7;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x3d0945){this['_camera']['aspectRati'+'oMode']=_0x3d0945;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x4318b4){this['_camera']['calculateP'+'rojection']=_0x4318b4;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x39bbc3){this['_camera']['calculateT'+'ransform']=_0x39bbc3;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x3136dc){this['_camera']['clearColor']=_0x3136dc;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x23360e){this['_camera']['clearColor'+'Buffer']=_0x23360e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x4a3f7f){this['_camera']['clearDepth'+'Buffer']=_0x4a3f7f,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x3f0245){this['_camera']['clearStenc'+'ilBuffer']=_0x3f0245,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x56e0d5){this['_camera']['cullFaces']=_0x56e0d5;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x298dd7){this['_disablePo'+'stEffectsL'+'ayer']=_0x298dd7,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x347868){this['_camera']['farClip']=_0x347868;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x5e2244){this['_camera']['flipFaces']=_0x5e2244;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x5f2151){this['_camera']['fov']=_0x5f2151;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x5e91f6){this['_camera']['frustumCul'+'ling']=_0x5e91f6;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x6f175c){this['_camera']['horizontal'+'Fov']=_0x6f175c;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x3ef882){const _0x139a4a=this['_camera']['layers'],_0x412486=this['system']['app']['scene'];_0x139a4a['forEach'](_0x12859d=>{const _0x48425d=_0x412486['layers']['getLayerBy'+'Id'](_0x12859d);_0x48425d==null||_0x48425d['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x3ef882,this['enabled']&&this['entity']['enabled']&&_0x3ef882['forEach'](_0xcccea3=>{const _0x37aece=_0x412486['layers']['getLayerBy'+'Id'](_0xcccea3);_0x37aece==null||_0x37aece['addCamera'](this);});}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0xaaa01b){this['_camera']['jitter']=_0xaaa01b;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x21ce54){this['_camera']['nearClip']=_0x21ce54;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x4d54a6){this['_camera']['orthoHeigh'+'t']=_0x4d54a6;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x92e89e){this['_priority']=_0x92e89e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x3d5969){this['_camera']['projection']=_0x3d5969;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x15e049){this['_camera']['rect']=_0x15e049,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x4e3876){_0x4e3876&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x189f+-0x7*0x94+0x1*-0x1493)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xd21*0x1+0x1*0xbff+-0x1*-0x122)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x1c5e+0x23cb+-0x4028)),this['_sceneColo'+'rMapReques'+'ted']=!(0x4c7*0x1+0x275+-0x73b));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0xd04*-0x1+0x1007+0x1d0b*-0x1;}set['renderScen'+'eDepthMap'](_0x4d0b78){_0x4d0b78&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x261a+0x67c+-0x2c96)),this['_sceneDept'+'hMapReques'+'ted']=!(-0x545+-0x21f*-0x11+-0x1eca)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x34+0x395*0x7+-0x18de)),this['_sceneDept'+'hMapReques'+'ted']=!(-0xb19*-0x3+-0x1151+0xff9*-0x1));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x17*0xf8+-0x1545+-0x103;}set['renderTarg'+'et'](_0xef67a){b['call'](()=>{this['_camera']['renderPass'+'es']['length']>0x252d+-0x16f3+-0xe3a&&b['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0xef67a,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x3f197b){this['_camera']['scissorRec'+'t']=_0x3f197b;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x5e283c){this['_camera']['sensitivit'+'y']=_0x5e283c;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x32f080){this['_camera']['shutter']=_0x32f080;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x576eaf){if(this['layers']['find'](_0x48387d=>_0x48387d===es)){const _0x31f165=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](es);_0x576eaf?_0x31f165==null||_0x31f165['incrementC'+'ounter']():_0x31f165==null||_0x31f165['decrementC'+'ounter']();}else{if(_0x576eaf)return!(-0xf1b+-0x1cc+-0x4*-0x43a);}return!(-0xb57+0xa*-0x2a9+-0x373*-0xb);}['requestSce'+'neColorMap'](_0x4096cc){this['_renderSce'+'neColorMap']+=_0x4096cc?0x77*-0x19+0x1e47*-0x1+0x29e7:-(-0x1*-0x1421+0x2623+-0x3a43),b['assert'](this['_renderSce'+'neColorMap']>=-0x1*-0x488+0xc37*-0x1+-0x119*-0x7),this['_enableDep'+'thLayer'](_0x4096cc)||b['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']);}['requestSce'+'neDepthMap'](_0x108886){this['_renderSce'+'neDepthMap']+=_0x108886?0x66e+0xb06+-0x1173:-(-0x1*-0x913+0x7*0x2b+-0xa3f),b['assert'](this['_renderSce'+'neDepthMap']>=-0x1*-0x152e+-0x7b5*-0x2+0x926*-0x4),this['_enableDep'+'thLayer'](_0x108886)||b['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']);}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x48ad07=this['system']['app']['scene']['layers'];_0x48ad07['_dirty']=!(0x2*0x76d+-0x124+-0xdb6);}['screenToWo'+'rld'](_0x24e001,_0x2e2878,_0x2ed9a1,_0x2b2780){const _0xdb2a56=this['system']['app']['graphicsDe'+'vice'],{width:_0x34d903,height:_0x49d652}=_0xdb2a56['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x24e001,_0x2e2878,_0x2ed9a1,_0x34d903,_0x49d652,_0x2b2780);}['worldToScr'+'een'](_0x6b290e,_0x2e0343){const _0x48f9a7=this['system']['app']['graphicsDe'+'vice'],{width:_0x5b0e3f,height:_0x3937bc}=_0x48f9a7['clientRect'];return this['_camera']['worldToScr'+'een'](_0x6b290e,_0x5b0e3f,_0x3937bc,_0x2e0343);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x1*0x2bf+-0x4cf*-0x1+0x1*-0x210),this['_camera']['_viewProjM'+'atDirty']=!(-0xbc1+-0x76+0x35*0x3b);}['addCameraT'+'oLayers'](){const _0x58e78f=this['layers'];for(let _0x3a2efc=0x1998+-0x1200+0x18*-0x51;_0x3a2efc<_0x58e78f['length'];_0x3a2efc++){const _0x587182=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x58e78f[_0x3a2efc]);_0x587182&&_0x587182['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x47b72e=this['layers'];for(let _0x10cf1f=0x2209+0x2682*-0x1+0x479;_0x10cf1f<_0x47b72e['length'];_0x10cf1f++){const _0x5731b7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x47b72e[_0x10cf1f]);_0x5731b7&&_0x5731b7['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x48b57d,_0x144a95){this['addCameraT'+'oLayers'](),_0x48b57d['off']('add',this['onLayerAdd'+'ed'],this),_0x48b57d['off']('remove',this['onLayerRem'+'oved'],this),_0x144a95['on']('add',this['onLayerAdd'+'ed'],this),_0x144a95['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x535df9){this['layers']['indexOf'](_0x535df9['id'])<-0x2206+-0x1*-0x2a9+-0x7*-0x47b||_0x535df9['addCamera'](this);}['onLayerRem'+'oved'](_0x44bf01){this['layers']['indexOf'](_0x44bf01['id'])<-0x1dc4+0x691+0x1733*0x1||_0x44bf01['removeCame'+'ra'](this);}['onEnable'](){var _0x29fb07,_0x5448e2,_0xa97765;const _0x5aa0ad=this['system']['app']['scene'],_0x139da2=_0x5aa0ad['layers'];this['system']['addCamera'](this),(_0x29fb07=this['_evtLayers'+'Changed'])==null||_0x29fb07['off'](),this['_evtLayers'+'Changed']=_0x5aa0ad['on']('set:layers',this['onLayersCh'+'anged'],this),_0x139da2&&((_0x5448e2=this['_evtLayerA'+'dded'])==null||_0x5448e2['off'](),this['_evtLayerA'+'dded']=_0x139da2['on']('add',this['onLayerAdd'+'ed'],this),(_0xa97765=this['_evtLayerR'+'emoved'])==null||_0xa97765['off'](),this['_evtLayerR'+'emoved']=_0x139da2['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x198ea7,_0x3e5e21,_0x193f8b;const _0x5a8c05=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x198ea7=this['_evtLayers'+'Changed'])==null||_0x198ea7['off'](),this['_evtLayers'+'Changed']=null,_0x5a8c05&&((_0x3e5e21=this['_evtLayerA'+'dded'])==null||_0x3e5e21['off'](),this['_evtLayerA'+'dded']=null,(_0x193f8b=this['_evtLayerR'+'emoved'])==null||_0x193f8b['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x42c97e){const _0x4a6cd9=this['system']['app']['graphicsDe'+'vice'],_0x218cb4=_0x42c97e?_0x42c97e['width']:_0x4a6cd9['width'],_0x1111b4=_0x42c97e?_0x42c97e['height']:_0x4a6cd9['height'];return _0x218cb4*this['rect']['z']/(_0x1111b4*this['rect']['w']);}['frameUpdat'+'e'](_0xb03343){this['aspectRati'+'oMode']===kp&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0xb03343));}['startXr'](_0x475548,_0x31137d,_0x210861){this['system']['app']['xr']['start'](this,_0x475548,_0x31137d,_0x210861);}['endXr'](_0x3286d0){if(!this['_camera']['xr']){_0x3286d0&&_0x3286d0(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x3286d0);}['copy'](_0x44feec){this['aperture']=_0x44feec['aperture'],this['aspectRati'+'o']=_0x44feec['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x44feec['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x44feec['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x44feec['calculateT'+'ransform'],this['clearColor']=_0x44feec['clearColor'],this['clearColor'+'Buffer']=_0x44feec['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x44feec['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x44feec['clearStenc'+'ilBuffer'],this['cullFaces']=_0x44feec['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x44feec['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x44feec['farClip'],this['flipFaces']=_0x44feec['flipFaces'],this['fov']=_0x44feec['fov'],this['frustumCul'+'ling']=_0x44feec['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x44feec['horizontal'+'Fov'],this['layers']=_0x44feec['layers'],this['nearClip']=_0x44feec['nearClip'],this['orthoHeigh'+'t']=_0x44feec['orthoHeigh'+'t'],this['priority']=_0x44feec['priority'],this['projection']=_0x44feec['projection'],this['rect']=_0x44feec['rect'],this['renderTarg'+'et']=_0x44feec['renderTarg'+'et'],this['scissorRec'+'t']=_0x44feec['scissorRec'+'t'],this['sensitivit'+'y']=_0x44feec['sensitivit'+'y'],this['shutter']=_0x44feec['shutter'];}}class jI{constructor(){this['enabled']=!(0x6*-0xef+-0x5*-0x1+0x595);}}const Tx=['enabled'];class YI extends Qe{constructor(_0x116b82){super(_0x116b82),c(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=wx,this['DataType']=jI,this['schema']=Tx,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x494b2b,_0x11303a,_0x24341e){_0x24341e=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x33badd=0x10eb+0x1f5*0xa+-0x1*0x247d;_0x33badd<_0x24341e['length'];_0x33badd++){const _0x151e90=_0x24341e[_0x33badd];if(_0x11303a['hasOwnProp'+'erty'](_0x151e90)){const _0x58cf04=_0x11303a[_0x151e90];switch(_0x151e90){case'rect':case'scissorRec'+'t':Array['isArray'](_0x58cf04)?_0x494b2b[_0x151e90]=new ee(_0x58cf04[-0x1*-0xbf+-0x21da+-0x3*-0xb09],_0x58cf04[0x1d47+-0x1*0x9ad+-0x1399],_0x58cf04[-0x1*-0x15a2+-0x11d7+0x143*-0x3],_0x58cf04[-0x1a*-0x11+0x6e9+-0x8a0]):_0x494b2b[_0x151e90]=_0x58cf04;break;case'clearColor':Array['isArray'](_0x58cf04)?_0x494b2b[_0x151e90]=new Y(_0x58cf04[0xf5b+-0x16b8+0x41*0x1d],_0x58cf04[0x239*-0xb+0x2346+-0xad2],_0x58cf04[-0x39*0x9d+0x7a*-0x4a+0x463b*0x1],_0x58cf04[0x1*-0x2e7+-0x3a*-0x5+0x1c8]):_0x494b2b[_0x151e90]=_0x58cf04;break;default:_0x494b2b[_0x151e90]=_0x58cf04;break;}}}super['initialize'+'ComponentD'+'ata'](_0x494b2b,_0x11303a,['enabled']);}['cloneCompo'+'nent'](_0x5d9e33,_0x6270e3){const _0x3998f5=_0x5d9e33['camera'];return this['addCompone'+'nt'](_0x6270e3,{'aspectRatio':_0x3998f5['aspectRati'+'o'],'aspectRatioMode':_0x3998f5['aspectRati'+'oMode'],'calculateProjection':_0x3998f5['calculateP'+'rojection'],'calculateTransform':_0x3998f5['calculateT'+'ransform'],'clearColor':_0x3998f5['clearColor'],'clearColorBuffer':_0x3998f5['clearColor'+'Buffer'],'clearDepthBuffer':_0x3998f5['clearDepth'+'Buffer'],'clearStencilBuffer':_0x3998f5['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x3998f5['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x3998f5['renderScen'+'eColorMap'],'cullFaces':_0x3998f5['cullFaces'],'enabled':_0x3998f5['enabled'],'farClip':_0x3998f5['farClip'],'flipFaces':_0x3998f5['flipFaces'],'fov':_0x3998f5['fov'],'frustumCulling':_0x3998f5['frustumCul'+'ling'],'horizontalFov':_0x3998f5['horizontal'+'Fov'],'layers':_0x3998f5['layers'],'renderTarget':_0x3998f5['renderTarg'+'et'],'nearClip':_0x3998f5['nearClip'],'orthoHeight':_0x3998f5['orthoHeigh'+'t'],'projection':_0x3998f5['projection'],'priority':_0x3998f5['priority'],'rect':_0x3998f5['rect'],'scissorRect':_0x3998f5['scissorRec'+'t'],'aperture':_0x3998f5['aperture'],'sensitivity':_0x3998f5['sensitivit'+'y'],'shutter':_0x3998f5['shutter'],'gammaCorrection':_0x3998f5['gammaCorre'+'ction'],'toneMapping':_0x3998f5['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x3407aa,_0x23d95b){this['removeCame'+'ra'](_0x23d95b),_0x23d95b['onRemove']();}['onAppPrere'+'nder'](){for(let _0x175e58=0x93d+0x15ea+-0x1f27,_0x16722b=this['cameras']['length'];_0x175e58<_0x16722b;_0x175e58++)this['cameras'][_0x175e58]['onAppPrere'+'nder']();}['addCamera'](_0x28e0d7){this['cameras']['push'](_0x28e0d7),Go(this['cameras']);}['removeCame'+'ra'](_0x1c9b50){const _0x110650=this['cameras']['indexOf'](_0x1c9b50);_0x110650>=0x16*-0xdf+0x2653*0x1+0x5*-0x3d5&&(this['cameras']['splice'](_0x110650,0x26c+-0x18cb+0x1660),Go(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}pe['_buildAcce'+'ssors'](wx['prototype'],Tx);class Ax{constructor(){c(this,'enabled',!(-0x9da+-0x1333*0x2+0x1820*0x2)),c(this,'light'),c(this,'type','directiona'+'l'),c(this,'color',new Y(0x24dc+0x7*0x58b+0x4ba8*-0x1,0x12bf*-0x1+0x29*0x9b+-0x1*0x613,0x79b*0x3+0xfdd*0x1+-0x1*0x26ad)),c(this,'intensity',-0x24c2+-0xde7*-0x2+-0x8f5*-0x1),c(this,'luminance',-0xe1c+0x26a3+-0x1887),c(this,'shape',Tt),c(this,'affectSpec'+'ularity',!(0x198f+-0x4*-0x11a+-0x1df7)),c(this,'castShadow'+'s',!(-0x1080+0x17d8+-0x757)),c(this,'shadowDist'+'ance',0x1e38+-0x21b*0x11+0x3*0x1e9),c(this,'shadowInte'+'nsity',0x2328+0x220d*-0x1+-0x11a),c(this,'shadowReso'+'lution',0x243e+0x1*-0xa11+-0x162d),c(this,'shadowBias',0x1*-0x10ab+0x2*-0x4de+0x8cd*0x3+0.05),c(this,'numCascade'+'s',-0x175*0x6+0xfdd+-0x38f*0x2),c(this,'cascadeBle'+'nd',0xa7b*-0x3+-0x2710+0x4681*0x1),c(this,'bakeNumSam'+'ples',-0xb5f*0x2+-0x107*0x1+0x22*0xb3),c(this,'bakeArea',-0x25ae+0x2181+0x42d),c(this,'cascadeDis'+'tribution',0x1b0d+0x11b3+-0x4*0xb30+0.5),c(this,'normalOffs'+'etBias',0x8a8+0x1de7+-0x268f*0x1),c(this,'range',-0x799*-0x1+0x1084+0x1*-0x1813),c(this,'innerConeA'+'ngle',-0xc7f+0x1b80+-0xed9),c(this,'outerConeA'+'ngle',-0x1b0d+-0x162c+0x3166),c(this,'falloffMod'+'e',Cp),c(this,'shadowType',zt),c(this,'vsmBlurSiz'+'e',-0x1*-0xb77+-0x2036+0x14ca),c(this,'vsmBlurMod'+'e',Mp),c(this,'vsmBias',(0x2a6*0xd+-0x8da+-0x1994+0.01)*(0x2*0xcf1+0x1d45+-0x3727+0.25)),c(this,'cookieAsse'+'t',null),c(this,'cookie',null),c(this,'cookieInte'+'nsity',-0x2104+-0xcd7+0x4*0xb77),c(this,'cookieFall'+'off',!(0x1479+0x2214+-0x368d)),c(this,'cookieChan'+'nel','rgb'),c(this,'cookieAngl'+'e',0x1*0x247f+0x1b6d+-0x1*0x3fec),c(this,'cookieScal'+'e',null),c(this,'cookieOffs'+'et',null),c(this,'shadowUpda'+'teMode',Lp),c(this,'mask',0x10eb+0x1b7*0xe+0x24*-0x123),c(this,'affectDyna'+'mic',!(0x1ef4+0x1a64*-0x1+-0x490)),c(this,'affectLigh'+'tmapped',!(0x150b*0x1+-0x1b5b*0x1+-0x31*-0x21)),c(this,'bake',!(0x1*0x143d+-0x2485+-0x17b*-0xb)),c(this,'bakeDir',!(0x10f7*0x2+0x2*0x6cd+-0x2f88)),c(this,'isStatic',!(-0x497*0x3+-0x1463+0x2229)),c(this,'layers',[zi]),c(this,'penumbraSi'+'ze',0x859+0x1187+-0x19df),c(this,'penumbraFa'+'lloff',0x1*0xb17+-0x1a7d*-0x1+-0x2593),c(this,'shadowSamp'+'les',-0x26f2*-0x1+-0x64*-0x27+-0x361e),c(this,'shadowBloc'+'kerSamples',0x1*-0x1947+0x1757+-0x40*-0x8);}}const Mo=Object['keys'](new Ax());class KI extends pe{constructor(){super(...arguments),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),c(this,'_cookieAss'+'et',null),c(this,'_cookieAss'+'etId',null),c(this,'_cookieAss'+'etAdd',!(-0xf91*-0x2+-0x1da*-0x11+-0x3e9b)),c(this,'_cookieMat'+'rix',null);}get['data'](){const _0x568a4f=this['system']['store'][this['entity']['getGuid']()];return _0x568a4f?_0x568a4f['data']:null;}set['enabled'](_0x273f15){this['_setValue']('enabled',_0x273f15,function(_0x480cf7,_0x1cc864){this['onSetEnabl'+'ed'](null,_0x1cc864,_0x480cf7);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x42b7a8){this['_setValue']('light',_0x42b7a8);}get['light'](){return this['data']['light'];}set['type'](_0x57c142){this['_setValue']('type',_0x57c142,function(_0x3dfb74,_0x4f0234){this['system']['changeType'](this,_0x4f0234,_0x3dfb74),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x26d941){this['_setValue']('color',_0x26d941,function(_0x3cf85f,_0x54c295){this['light']['setColor'](_0x3cf85f);},!(0x419+-0x558+0x13f));}get['color'](){return this['data']['color'];}set['intensity'](_0x3d15f1){this['_setValue']('intensity',_0x3d15f1,function(_0x395ac7,_0x1bb4f6){this['light']['intensity']=_0x395ac7;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x487801){this['_setValue']('luminance',_0x487801,function(_0x275fb8,_0x456f6c){this['light']['luminance']=_0x275fb8;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x41c29e){this['_setValue']('shape',_0x41c29e,function(_0x37a920,_0x126a74){this['light']['shape']=_0x37a920;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x20ac39){this['_setValue']('affectSpec'+'ularity',_0x20ac39,function(_0x229d67,_0x55e3d3){this['light']['affectSpec'+'ularity']=_0x229d67;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x5e50eb){this['_setValue']('castShadow'+'s',_0x5e50eb,function(_0x248488,_0x5f09b9){this['light']['castShadow'+'s']=_0x248488;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x2620a7){this['_setValue']('shadowDist'+'ance',_0x2620a7,function(_0x2182f2,_0x517b81){this['light']['shadowDist'+'ance']=_0x2182f2;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x3cabd){this['_setValue']('shadowInte'+'nsity',_0x3cabd,function(_0x24701e,_0x4fc8ae){this['light']['shadowInte'+'nsity']=_0x24701e;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x43665c){this['_setValue']('shadowReso'+'lution',_0x43665c,function(_0xb9b156,_0x1333df){this['light']['shadowReso'+'lution']=_0xb9b156;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x48093b){this['_setValue']('shadowBias',_0x48093b,function(_0x7a55c8,_0x129b38){this['light']['shadowBias']=-(-0x8ab+-0x1d3*0x8+-0xf*-0x18d+0.01)*z['clamp'](_0x7a55c8,0x2709+-0x1277+-0x1492,-0x96e+0x2*0x775+-0x57b);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x38fc7b){this['_setValue']('numCascade'+'s',_0x38fc7b,function(_0x2b98df,_0x57c158){this['light']['numCascade'+'s']=z['clamp'](Math['floor'](_0x2b98df),-0x1a97+-0x1*-0xeed+0xbab,-0x2c5*0x1+-0x1b9a+-0x3*-0xa21);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x3bc6aa){this['_setValue']('cascadeBle'+'nd',_0x3bc6aa,function(_0x579306,_0x39ca00){this['light']['cascadeBle'+'nd']=z['clamp'](_0x579306,0x6aa+-0x73*-0x4+-0x876,-0x8e1+-0x1cfb+0x25dd);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0xfdad45){this['_setValue']('bakeNumSam'+'ples',_0xfdad45,function(_0x4ee0c1,_0x403baf){this['light']['bakeNumSam'+'ples']=z['clamp'](Math['floor'](_0x4ee0c1),0x893+-0xcf6*-0x2+-0x227e,0x193+-0x1093+0x3f*0x41);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x1ff956){this['_setValue']('bakeArea',_0x1ff956,function(_0x329e3e,_0x1db83f){this['light']['bakeArea']=z['clamp'](_0x329e3e,-0xa94+-0x1770+0x2204,0xcb3*-0x1+-0xbf3*0x2+0x254d);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0xf90b06){this['_setValue']('cascadeDis'+'tribution',_0xf90b06,function(_0xb43882,_0x5a65bb){this['light']['cascadeDis'+'tribution']=z['clamp'](_0xb43882,0x8a*0xe+0x13fc*-0x1+0xc70,-0x2*0xd42+-0x466*-0x1+0x329*0x7);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x34789c){this['_setValue']('normalOffs'+'etBias',_0x34789c,function(_0x1aea9e,_0x28cab2){this['light']['normalOffs'+'etBias']=z['clamp'](_0x1aea9e,0x7*0x8+-0x2137+0x20ff,0xa61*-0x2+-0xb2+-0x1575*-0x1);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x3fab83){this['_setValue']('range',_0x3fab83,function(_0x57c630,_0x4a0dfe){this['light']['attenuatio'+'nEnd']=_0x57c630;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x18cbcb){this['_setValue']('innerConeA'+'ngle',_0x18cbcb,function(_0x367b36,_0x1944c3){this['light']['innerConeA'+'ngle']=_0x367b36;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x1d572a){this['_setValue']('outerConeA'+'ngle',_0x1d572a,function(_0x1d0034,_0x2ce1eb){this['light']['outerConeA'+'ngle']=_0x1d0034;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x413cac){this['_setValue']('falloffMod'+'e',_0x413cac,function(_0x156fd5,_0x41c8ba){this['light']['falloffMod'+'e']=_0x156fd5;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x441422){this['_setValue']('shadowType',_0x441422,function(_0x4fac3c,_0x168ece){this['light']['shadowType']=_0x4fac3c;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x434bc4){this['_setValue']('vsmBlurSiz'+'e',_0x434bc4,function(_0x3f5035,_0xc1a219){this['light']['vsmBlurSiz'+'e']=_0x3f5035;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0xd6ed77){this['_setValue']('vsmBlurMod'+'e',_0xd6ed77,function(_0x1dd723,_0x44bb49){this['light']['vsmBlurMod'+'e']=_0x1dd723;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x493f81){this['_setValue']('vsmBias',_0x493f81,function(_0x2b3089,_0xbbaf9e){this['light']['vsmBias']=z['clamp'](_0x2b3089,-0x529*-0x1+0x121c*-0x1+0xcf3,-0x1fd4+-0x361*-0x1+0x1c74);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x11db45){this['_setValue']('cookieAsse'+'t',_0x11db45,function(_0x4a779e,_0x29e965){if(!(this['_cookieAss'+'etId']&&(_0x4a779e instanceof he&&_0x4a779e['id']===this['_cookieAss'+'etId']||_0x4a779e===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x4a779e instanceof he)this['data']['cookieAsse'+'t']=_0x4a779e['id'],this['_cookieAss'+'etId']=_0x4a779e['id'],this['onCookieAs'+'setAdd'](_0x4a779e);else{if(typeof _0x4a779e=='number'){this['_cookieAss'+'etId']=_0x4a779e;const _0x530d9a=this['system']['app']['assets']['get'](_0x4a779e);_0x530d9a?this['onCookieAs'+'setAdd'](_0x530d9a):(this['_cookieAss'+'etAdd']=!(0x163c+0x9*0x38a+-0x2b*0x142),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x35146d){this['_setValue']('cookie',_0x35146d,function(_0x4ea768,_0x1d3e53){this['light']['cookie']=_0x4ea768;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x13f7a8){this['_setValue']('cookieInte'+'nsity',_0x13f7a8,function(_0x117f32,_0x4338ca){this['light']['cookieInte'+'nsity']=z['clamp'](_0x117f32,-0xe4a+0xde1+0x69,0xc4a+0x1*0x4e+-0xb*0x125);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x3216fe){this['_setValue']('cookieFall'+'off',_0x3216fe,function(_0x3e7998,_0x187c2e){this['light']['cookieFall'+'off']=_0x3e7998;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x439484){this['_setValue']('cookieChan'+'nel',_0x439484,function(_0x26839c,_0x3213dc){this['light']['cookieChan'+'nel']=_0x26839c;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x2ec9d2){this['_setValue']('cookieAngl'+'e',_0x2ec9d2,function(_0x420b86,_0x6cf83a){if(_0x420b86!==0x7f8+0x186d+0x1*-0x2065||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new ee());let _0x4e80fc=0x1a23+0x1b1+-0x1bd3,_0x1c64b8=-0x173f+0x3*-0x655+-0x67*-0x69;this['cookieScal'+'e']&&(_0x4e80fc=this['cookieScal'+'e']['x'],_0x1c64b8=this['cookieScal'+'e']['y']);const _0x3c84bf=Math['cos'](_0x420b86*z['DEG_TO_RAD']),_0xe995aa=Math['sin'](_0x420b86*z['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x3c84bf/_0x4e80fc,-_0xe995aa/_0x4e80fc,_0xe995aa/_0x1c64b8,_0x3c84bf/_0x1c64b8),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x4fdee2){this['_setValue']('cookieScal'+'e',_0x4fdee2,function(_0x1e823c,_0x57c476){if(_0x1e823c!==null||this['cookieAngl'+'e']!==0x37e*-0x6+0x161*-0x17+0x34ab){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new ee());const _0x2b6a65=_0x1e823c['x'],_0x291e5d=_0x1e823c['y'],_0xa731f2=Math['cos'](this['cookieAngl'+'e']*z['DEG_TO_RAD']),_0x1c8fe6=Math['sin'](this['cookieAngl'+'e']*z['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0xa731f2/_0x2b6a65,-_0x1c8fe6/_0x2b6a65,_0x1c8fe6/_0x291e5d,_0xa731f2/_0x291e5d),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x1c7b+-0x1da3+0x3a1e));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x177251){this['_setValue']('cookieOffs'+'et',_0x177251,function(_0x380cf2,_0x132bd2){this['light']['cookieOffs'+'et']=_0x380cf2;},!(-0x499*0x1+0x1*-0xa9+-0x542*-0x1));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x4e1af7){this['_setValue']('shadowUpda'+'teMode',_0x4e1af7,function(_0x31fb04,_0x312da1){this['light']['shadowUpda'+'teMode']=_0x31fb04;},!(-0x79*0x7+0xb92+-0x843));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x420e48){this['_setValue']('mask',_0x420e48,function(_0x59275f,_0x448517){this['light']['mask']=_0x59275f;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x5dc9b9){this['_setValue']('affectDyna'+'mic',_0x5dc9b9,function(_0x153926,_0x7bed68){_0x153926?this['light']['mask']|=ms:this['light']['mask']&=-(-0x10fe+0x16dc+-0x5dc),this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x1bd07d){this['_setValue']('affectLigh'+'tmapped',_0x1bd07d,function(_0x41f460,_0x1ada0a){_0x41f460?(this['light']['mask']|=dr,this['bake']&&(this['light']['mask']&=-(0x1a9f+-0x17*0xbb+-0x9cd*0x1))):(this['light']['mask']&=-(-0x2604+-0x89+-0x8*-0x4d2),this['bake']&&(this['light']['mask']|=ar));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x9abf7e){this['_setValue']('bake',_0x9abf7e,function(_0x560b82,_0x51650c){_0x560b82?(this['light']['mask']|=ar,this['affectLigh'+'tmapped']&&(this['light']['mask']&=-(0x2043+0xec5+-0x2f05))):(this['light']['mask']&=-(0x57*-0x4b+-0x2673+0x1*0x3ff5),this['affectLigh'+'tmapped']&&(this['light']['mask']|=dr)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x1cbde3){this['_setValue']('bakeDir',_0x1cbde3,function(_0x57e217,_0x29f0a8){this['light']['bakeDir']=_0x57e217;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x1a79a8){this['_setValue']('isStatic',_0x1a79a8,function(_0x423049,_0x187e50){this['light']['isStatic']=_0x423049;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x3d4a37){this['_setValue']('layers',_0x3d4a37,function(_0x17bc1e,_0x3e6d19){for(let _0x30eb82=0x81*0x1d+-0x1*-0x1cf4+0x13*-0x24b;_0x30eb82<_0x3e6d19['length'];_0x30eb82++){const _0x5af78d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3e6d19[_0x30eb82]);_0x5af78d&&(_0x5af78d['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x5af78d));}for(let _0x4c5407=-0x2295+-0x3*0xe5+0x2544;_0x4c5407<_0x17bc1e['length'];_0x4c5407++){const _0x14c9c7=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x17bc1e[_0x4c5407]);_0x14c9c7&&this['enabled']&&this['entity']['enabled']&&(_0x14c9c7['addLight'](this),this['light']['addLayer'](_0x14c9c7));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0xb970ec){this['light']['shadowUpda'+'teOverride'+'s']=_0xb970ec;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x6c950a){this['light']['shadowSamp'+'les']=_0x6c950a;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x179a36){this['light']['shadowBloc'+'kerSamples']=_0x179a36;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x5f2135){this['light']['penumbraSi'+'ze']=_0x5f2135;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x10558f){this['light']['penumbraFa'+'lloff']=_0x10558f;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x17e02b,_0x53c32f,_0x1a38a7,_0x8b0bba){const _0x28fcfb=this['data'],_0x552067=_0x28fcfb[_0x17e02b];!_0x8b0bba&&_0x552067===_0x53c32f||(_0x28fcfb[_0x17e02b]=_0x53c32f,_0x1a38a7&&_0x1a38a7['call'](this,_0x53c32f,_0x552067));}['addLightTo'+'Layers'](){for(let _0x17fd72=-0x1a9*-0x17+-0x18d2*0x1+0x1*-0xd5d;_0x17fd72<this['layers']['length'];_0x17fd72++){const _0x13b885=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x17fd72]);_0x13b885&&(_0x13b885['addLight'](this),this['light']['addLayer'](_0x13b885));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0xc451d2=-0x1*-0x1d71+0x1b2b+-0x1*0x389c;_0xc451d2<this['layers']['length'];_0xc451d2++){const _0x4dd84f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xc451d2]);_0x4dd84f&&(_0x4dd84f['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4dd84f));}}['onLayersCh'+'anged'](_0x1ceb4a,_0x1ab495){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x1ceb4a['off']('add',this['onLayerAdd'+'ed'],this),_0x1ceb4a['off']('remove',this['onLayerRem'+'oved'],this),_0x1ab495['on']('add',this['onLayerAdd'+'ed'],this),_0x1ab495['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x590869){this['layers']['indexOf'](_0x590869['id'])>=0x12a5+0x1c4*0x13+-0x1af*0x1f&&this['enabled']&&this['entity']['enabled']&&(_0x590869['addLight'](this),this['light']['addLayer'](_0x590869));}['onLayerRem'+'oved'](_0xbadaf1){this['layers']['indexOf'](_0xbadaf1['id'])>=0x1*-0xf98+0xb9d+0x3fb&&(_0xbadaf1['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0xbadaf1));}['refreshPro'+'perties'](){for(let _0x30faf9=-0x2629+0x1*-0x2222+-0x1819*-0x3;_0x30faf9<Mo['length'];_0x30faf9++){const _0x48ef0a=Mo[_0x30faf9];this[_0x48ef0a]=this[_0x48ef0a];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x57b8d2=!(0x165f+-0xb*0x15b+0x17*-0x53);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0xb75*0x1+0x1*-0x13f9+0x1f6e),_0x57b8d2=!(-0x2db*-0xb+0x5c9*-0x3+0x7*-0x202)),(!this['_cookieAss'+'et']['resource']||_0x57b8d2)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0xf4eee1){this['_cookieAss'+'etId']===_0xf4eee1['id']&&(this['_cookieAss'+'et']=_0xf4eee1,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x2a1*-0x1+0x301*-0x3+0x6d*0xf)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x3e52c2=this['system']['app']['scene'],_0x342a14=_0x3e52c2['layers'];this['light']['enabled']=!(0x20cc+0x694*-0x4+-0x67c),this['_evtLayers'+'Changed']=_0x3e52c2['on']('set:layers',this['onLayersCh'+'anged'],this),_0x342a14&&(this['_evtLayerA'+'dded']=_0x342a14['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x342a14['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x2a7dd7,_0x47bd8c,_0x4f3f71;const _0x5b37b7=this['system']['app']['scene']['layers'];this['light']['enabled']=!(0xa88+0x2618+-0x309f),(_0x2a7dd7=this['_evtLayers'+'Changed'])==null||_0x2a7dd7['off'](),this['_evtLayers'+'Changed']=null,_0x5b37b7&&((_0x47bd8c=this['_evtLayerA'+'dded'])==null||_0x47bd8c['off'](),this['_evtLayerA'+'dded']=null,(_0x4f3f71=this['_evtLayerR'+'emoved'])==null||_0x4f3f71['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class ZI extends Qe{constructor(_0x2168b6){super(_0x2168b6),this['id']='light',this['ComponentT'+'ype']=KI,this['DataType']=Ax,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x23cb9c,_0x50cac7){const _0x297571={..._0x50cac7};_0x297571['type']||(_0x297571['type']=_0x23cb9c['data']['type']),_0x23cb9c['data']['type']=_0x297571['type'],_0x297571['layers']&&Array['isArray'](_0x297571['layers'])&&(_0x297571['layers']=_0x297571['layers']['slice'](-0x1*-0x10e7+0x1606+-0x26ed)),_0x297571['color']&&Array['isArray'](_0x297571['color'])&&(_0x297571['color']=new Y(_0x297571['color'][0x54*0x47+0x7*0x1fd+-0x2537],_0x297571['color'][-0x19ed+-0x1*-0x1d75+-0x15*0x2b],_0x297571['color'][-0x1*0x267a+0xc9b+0x19e1])),_0x297571['cookieOffs'+'et']&&_0x297571['cookieOffs'+'et']instanceof Array&&(_0x297571['cookieOffs'+'et']=new W(_0x297571['cookieOffs'+'et'][0x1d*-0x13a+-0x15ed+-0x1*-0x397f],_0x297571['cookieOffs'+'et'][-0x2463+-0x4*0x463+0x35f0])),_0x297571['cookieScal'+'e']&&_0x297571['cookieScal'+'e']instanceof Array&&(_0x297571['cookieScal'+'e']=new W(_0x297571['cookieScal'+'e'][-0x20d7+-0x7*-0x4c1+0x1c*-0x4],_0x297571['cookieScal'+'e'][-0x233b+-0x3*-0xa1d+0x4e5])),_0x297571['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x297571['enabled']=_0x297571['enable']),_0x297571['shape']||(_0x297571['shape']=Tt);const _0x27c41c=new Ho(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x27c41c['type']=qu[_0x297571['type']],_0x27c41c['_node']=_0x23cb9c['entity'],_0x23cb9c['data']['light']=_0x27c41c,super['initialize'+'ComponentD'+'ata'](_0x23cb9c,_0x297571,Mo);}['_onRemoveC'+'omponent'](_0xb7a684,_0x5a61b5){_0x5a61b5['onRemove']();}['cloneCompo'+'nent'](_0x3178d0,_0x2b67a5){const _0x261d66=_0x3178d0['light'],_0x323e0a=[];let _0x223de4;for(let _0x47268f=-0x1*0x5e7+0x19a*0x8+-0x6e9;_0x47268f<Mo['length'];_0x47268f++)_0x223de4=Mo[_0x47268f],_0x223de4!=='light'&&(_0x261d66[_0x223de4]&&_0x261d66[_0x223de4]['clone']?_0x323e0a[_0x223de4]=_0x261d66[_0x223de4]['clone']():_0x323e0a[_0x223de4]=_0x261d66[_0x223de4]);return this['addCompone'+'nt'](_0x2b67a5,_0x323e0a);}['changeType'](_0x3190fa,_0x426d59,_0x1a26eb){_0x426d59!==_0x1a26eb&&(_0x3190fa['light']['type']=qu[_0x1a26eb]);}}const QI=['x','y','z','w'],JI=[void(0x3*0x19b+0x237+-0x708),void(0xfd9*-0x1+0x337+0x6*0x21b),W,A,ee];function Oa(_0x195f16,_0x418252,_0x4ac68a,_0x44797d){switch(_0x418252['type']){case'boolean':return!!_0x4ac68a;case'number':if(typeof _0x4ac68a=='number')return _0x4ac68a;if(typeof _0x4ac68a=='string'){const _0x401d69=parseInt(_0x4ac68a,0x7*0x141+-0x159+-0x2b*0x2c);return isNaN(_0x401d69)?null:_0x401d69;}else{if(typeof _0x4ac68a=='boolean')return-0x83*-0x3b+-0x1ffb+-0x1ca*-0x1+_0x4ac68a;}return null;case'json':{const _0x431fdc={};if(Array['isArray'](_0x418252['schema'])){(!_0x4ac68a||typeof _0x4ac68a!='object')&&(_0x4ac68a={});for(let _0x26b648=-0x1*0x1a3+0x2441+0x229e*-0x1;_0x26b648<_0x418252['schema']['length'];_0x26b648++){const _0x5795c4=_0x418252['schema'][_0x26b648];if(_0x5795c4['name']){if(_0x5795c4['array']){_0x431fdc[_0x5795c4['name']]=[];const _0x3c89b9=Array['isArray'](_0x4ac68a[_0x5795c4['name']])?_0x4ac68a[_0x5795c4['name']]:[];for(let _0x212a05=0x1*0x1850+0x57*-0x7+-0x15ef;_0x212a05<_0x3c89b9['length'];_0x212a05++)_0x431fdc[_0x5795c4['name']]['push'](Oa(_0x195f16,_0x5795c4,_0x3c89b9[_0x212a05]));}else{const _0x425153=_0x4ac68a['hasOwnProp'+'erty'](_0x5795c4['name'])?_0x4ac68a[_0x5795c4['name']]:_0x5795c4['default'];_0x431fdc[_0x5795c4['name']]=Oa(_0x195f16,_0x5795c4,_0x425153);}}}}return _0x431fdc;}case'asset':return _0x4ac68a instanceof he?_0x4ac68a:typeof _0x4ac68a=='number'?_0x195f16['assets']['get'](_0x4ac68a)||null:typeof _0x4ac68a=='string'&&_0x195f16['assets']['get'](parseInt(_0x4ac68a,-0x1*-0x153f+-0x1*-0x1c13+0x8*-0x629))||null;case'entity':return _0x4ac68a instanceof Oe?_0x4ac68a:typeof _0x4ac68a=='string'?_0x195f16['getEntityF'+'romIndex'](_0x4ac68a):null;case'rgb':case'rgba':if(_0x4ac68a instanceof Y)return _0x44797d instanceof Y?(_0x44797d['copy'](_0x4ac68a),_0x44797d):_0x4ac68a['clone']();if(_0x4ac68a instanceof Array&&_0x4ac68a['length']>=-0x1*-0xcc5+0xb4*-0x27+-0x2*-0x755&&_0x4ac68a['length']<=0x332*0xb+0x1*0x1b3b+-0x3e5d){for(let _0x3a8a4e=-0x6b1*-0x1+-0x8ad*0x4+0x1c03;_0x3a8a4e<_0x4ac68a['length'];_0x3a8a4e++)if(typeof _0x4ac68a[_0x3a8a4e]!='number')return null;return _0x44797d||(_0x44797d=new Y()),_0x44797d['r']=_0x4ac68a[-0x2540+0x257c+-0x3c],_0x44797d['g']=_0x4ac68a[0x29e+0x1963+-0x1c00],_0x44797d['b']=_0x4ac68a[0xfa3+-0x2080+0x10df],_0x44797d['a']=_0x4ac68a['length']===-0x23*0x47+-0x188*0x4+0xfd8?-0x12e*0xc+-0xc76+0x1a9f:_0x4ac68a[-0x119a+-0x77a+0x1917],_0x44797d;}else{if(typeof _0x4ac68a=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x4ac68a))return _0x44797d||(_0x44797d=new Y()),_0x44797d['fromString'](_0x4ac68a),_0x44797d;}return null;case'vec2':case'vec3':case'vec4':{const _0x3bd5f5=parseInt(_0x418252['type']['slice'](-0x8c6+-0x1*0x15b6+0x1e7f),0xe33*0x1+-0x1b+-0x7*0x202),_0x545243=JI[_0x3bd5f5];if(_0x4ac68a instanceof _0x545243)return _0x44797d instanceof _0x545243?(_0x44797d['copy'](_0x4ac68a),_0x44797d):_0x4ac68a['clone']();if(_0x4ac68a instanceof Array&&_0x4ac68a['length']===_0x3bd5f5){for(let _0xa641cc=-0x93d+-0x6*0x496+-0x24c1*-0x1;_0xa641cc<_0x4ac68a['length'];_0xa641cc++)if(typeof _0x4ac68a[_0xa641cc]!='number')return null;_0x44797d||(_0x44797d=new _0x545243());for(let _0x495978=0x1e7*0x10+0x1b00+-0x3970;_0x495978<_0x3bd5f5;_0x495978++)_0x44797d[QI[_0x495978]]=_0x4ac68a[_0x495978];return _0x44797d;}return null;}case'curve':if(_0x4ac68a){let _0x3d97de;if(_0x4ac68a instanceof Ls||_0x4ac68a instanceof Yr)_0x3d97de=_0x4ac68a['clone']();else{const _0x1c5d3e=_0x4ac68a['keys'][-0xab6+0xe85+-0x3cf]instanceof Array?Yr:Ls;_0x3d97de=new _0x1c5d3e(_0x4ac68a['keys']),_0x3d97de['type']=_0x4ac68a['type'];}return _0x3d97de;}break;}return _0x4ac68a;}function Ex(_0x4cb6a8,_0x4da018,_0x630919,_0x574b){return _0x4da018['array']?_0x630919['map']((_0xe04853,_0x461134)=>Oa(_0x4cb6a8,_0x4da018,_0xe04853,_0x574b?_0x574b[_0x461134]:null)):Oa(_0x4cb6a8,_0x4da018,_0x630919,_0x574b);}function Cx(_0x507ccd,_0x46e483,_0x43aa48,_0x569d57){if(_0x43aa48)for(const _0xd35066 in _0x46e483){const _0xa1bb8b=_0x46e483[_0xd35066],_0x5cd655=_0x43aa48[_0xd35066];_0x5cd655!==void(0x1b78+-0x22*0x106+0x3aa*0x2)&&(_0x569d57[_0xd35066]=Ex(_0x507ccd,_0xa1bb8b,_0x5cd655,_0x569d57[_0xd35066]));}}const ha=class ha{constructor(_0x3f5131){this['scriptType']=_0x3f5131,this['index']={};}['add'](_0x42f953,_0xc923ed){if(this['index'][_0x42f953]){b['warn']('attribute\x20'+'\x27'+_0x42f953+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(ha['reservedNa'+'mes']['has'](_0x42f953)){b['warn']('attribute\x20'+'\x27'+_0x42f953+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x42f953]=_0xc923ed,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x42f953,{'get':function(){return this['__attribut'+'es'][_0x42f953];},'set':function(_0x3fa93a){const _0x17a1dd='attr',_0x1c2f7e='attr:'+_0x42f953,_0x3ee2e4=this['__attribut'+'es'][_0x42f953];let _0x17ba8a=_0x3ee2e4;if(_0x3ee2e4&&_0xc923ed['type']!=='json'&&_0xc923ed['type']!=='entity'&&_0x3ee2e4['clone']&&(this['hasEvent'](_0x17a1dd)||this['hasEvent'](_0x1c2f7e))&&(_0x17ba8a=_0x3ee2e4['clone']()),_0xc923ed['array']){if(this['__attribut'+'es'][_0x42f953]=[],_0x3fa93a){for(let _0x2b9aff=-0x21c5+0xba*-0x1+-0x227f*-0x1,_0x6b5346=_0x3fa93a['length'];_0x2b9aff<_0x6b5346;_0x2b9aff++)this['__attribut'+'es'][_0x42f953]['push'](Oa(this['app'],_0xc923ed,_0x3fa93a[_0x2b9aff],_0x3ee2e4?_0x3ee2e4[_0x2b9aff]:null));}}else this['__attribut'+'es'][_0x42f953]=Oa(this['app'],_0xc923ed,_0x3fa93a,_0x3ee2e4);this['fire'](_0x17a1dd,_0x42f953,this['__attribut'+'es'][_0x42f953],_0x17ba8a),this['fire'](_0x1c2f7e,this['__attribut'+'es'][_0x42f953],_0x17ba8a);}});}['remove'](_0x3c0891){return this['index'][_0x3c0891]?(delete this['index'][_0x3c0891],delete this['scriptType']['prototype'][_0x3c0891],!(0x1*0x8a9+-0x9f2+0x149)):!(-0xd21+0x1*-0x1ba1+-0x1*-0x28c3);}['has'](_0x11d5f9){return!!this['index'][_0x11d5f9];}['get'](_0x76ba81){return this['index'][_0x76ba81]||null;}};c(ha,'assignAttr'+'ibutesToSc'+'ript',Cx),c(ha,'attributeT'+'oValue',Ex),c(ha,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Xo=ha;const Sf='initialize',vf='postInitia'+'lize',eD='update',tD='postUpdate',sD='swap';class Zt extends de{constructor(_0x160c7d){super(),c(this,'app'),c(this,'entity'),c(this,'_enabled'),c(this,'_enabledOl'+'d'),c(this,'_initializ'+'ed'),c(this,'_postIniti'+'alized'),c(this,'__destroye'+'d'),c(this,'__scriptTy'+'pe'),c(this,'__executio'+'nOrder'),this['initScript'](_0x160c7d);}set['enabled'](_0x6e282c){this['_enabled']=!!_0x6e282c,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(-0x1*0x1280+-0xde*-0x1d+-0x6a6),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Sf)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x60c+0x2*-0x119c+0x1d2c),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,vf)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x18f5ee){const _0x75f150=this['constructo'+'r'];b['assert'](_0x18f5ee&&_0x18f5ee['app']&&_0x18f5ee['entity'],'script\x20['+_0x75f150['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x18f5ee['app'],this['entity']=_0x18f5ee['entity'],this['_enabled']=typeof _0x18f5ee['enabled']=='boolean'?_0x18f5ee['enabled']:!(-0x11d0+-0x124d+0x1*0x241d),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(-0xa*-0x296+0x1*-0x9cb+-0x1010),this['__scriptTy'+'pe']=_0x75f150,this['__executio'+'nOrder']=-(0x12d1*0x1+0x8ad*0x1+-0x1f*0xe3);}static get['scriptName'](){return this['__name'];}}c(Zt,'EVENT_ENAB'+'LE','enable'),c(Zt,'EVENT_DISA'+'BLE','disable'),c(Zt,'EVENT_STAT'+'E','state'),c(Zt,'EVENT_DEST'+'ROY','destroy'),c(Zt,'EVENT_ATTR','attr'),c(Zt,'EVENT_ERRO'+'R','error'),c(Zt,'__name',null),c(Zt,'__getScrip'+'tName',Mx);const iD=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function Mx(_0x5166ec){if(typeof _0x5166ec!='function')return;if('name'in Function['prototype'])return _0x5166ec['name'];if(_0x5166ec===Function||_0x5166ec===Function['prototype']['constructo'+'r'])return'Function';const _0x1c7936=(''+_0x5166ec)['match'](iD);return _0x1c7936?_0x1c7936[-0xbb*0x29+0x2663+0x86f*-0x1]:void(-0x1863+0x1175+0x377*0x2);}class ic extends Zt{constructor(_0x2cb498){super(_0x2cb498),c(this,'__attribut'+'es'),c(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x2cb498);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Xo(this)),this['__attribut'+'es'];}['initScript'](_0x4c4a82){Zt['prototype']['initScript']['call'](this,_0x4c4a82),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x4c4a82['attributes']||{};}['initScript'+'Type'](_0xf362eb){this['initScript'](_0xf362eb);}['__initiali'+'zeAttribut'+'es'](_0x4d0dcf){if(!(!_0x4d0dcf&&!this['__attribut'+'esRaw'])){for(const _0x56d802 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x56d802)?this[_0x56d802]=this['__attribut'+'esRaw'][_0x56d802]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x56d802)||(this['__scriptTy'+'pe']['attributes']['index'][_0x56d802]['hasOwnProp'+'erty']('default')?this[_0x56d802]=this['__scriptTy'+'pe']['attributes']['index'][_0x56d802]['default']:this[_0x56d802]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0xc45865){for(const _0x3bc30a in _0xc45865)_0xc45865['hasOwnProp'+'erty'](_0x3bc30a)&&(this['prototype'][_0x3bc30a]=_0xc45865[_0x3bc30a]);}}const rD=_0x5ed02e=>_0x5ed02e[0x14dc+0x5ae*-0x4+0x1dc]['toLowerCas'+'e']()+_0x5ed02e['substring'](0xc1c+-0x4cf+-0x74c);class _i extends pe{constructor(_0x10b895,_0x462e44){super(_0x10b895,_0x462e44),c(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new Mh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new Mh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x2170+-0xee7+-0x1288),this['_scriptsDa'+'ta']=null,this['_oldState']=!(-0x1635+0x1*0xa7e+0xbb7),this['_enabled']=!(0x1931*-0x1+0x1917+-0x1*-0x1a),this['_beingEnab'+'led']=!(-0x8*-0x37c+0x1689+0x3268*-0x1),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x1c*0xce+-0x25c*-0x5+-0xabd*-0x1),this['_execution'+'Order']=-(-0x527*0x1+0xf22+-0x9fa),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x58501e){this['_scriptsDa'+'ta']=_0x58501e;for(const _0x18b35c in _0x58501e){if(!_0x58501e['hasOwnProp'+'erty'](_0x18b35c))continue;const _0x182105=this['_scriptsIn'+'dex'][_0x18b35c];if(_0x182105){if(typeof _0x58501e[_0x18b35c]['enabled']=='boolean'&&(_0x182105['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x182105);}),_0x182105['enabled']=!!_0x58501e[_0x18b35c]['enabled']),typeof _0x58501e[_0x18b35c]['attributes']=='object'){for(const _0x107ec2 in _0x58501e[_0x18b35c]['attributes'])if(!Xo['reservedNa'+'mes']['has'](_0x107ec2)){if(!_0x182105['__attribut'+'es']['hasOwnProp'+'erty'](_0x107ec2)){const _0xc8b0e4=this['system']['app']['scripts']['get'](_0x18b35c);_0xc8b0e4&&_0xc8b0e4['attributes']['add'](_0x107ec2,{});}_0x182105[_0x107ec2]=_0x58501e[_0x18b35c]['attributes'][_0x107ec2];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x169675){const _0xa235=this['_enabled'];this['_enabled']=_0x169675,this['fire']('set','enabled',_0xa235,_0x169675);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x17*0x4c+0x1*-0x1a37+0x210b),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x2*-0xb02+-0x20e4+0x36e9);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x3e7c83=this['_beginLoop'+'ing']();for(let _0xcf717=-0x1*-0x989+0x17e0+-0x3*0xb23,_0x510969=this['scripts']['length'];_0xcf717<_0x510969;_0xcf717++){const _0x15877b=this['scripts'][_0xcf717];_0x15877b['_initializ'+'ed']&&!_0x15877b['_postIniti'+'alized']&&_0x15877b['enabled']&&(_0x15877b['_postIniti'+'alized']=!(0x237+-0x2450+0x2219),_0x15877b['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x15877b,vf));}this['_endLoopin'+'g'](_0x3e7c83);}['_beginLoop'+'ing'](){const _0xd6e637=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x2*-0xfcd+-0xa*-0x327+-0x50*0xca),_0xd6e637;}['_endLoopin'+'g'](_0x1234cd){this['_isLooping'+'ThroughScr'+'ipts']=_0x1234cd,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x415ec6,_0x14cfdc,_0x2b1ca3){this['_beingEnab'+'led']=!(0x130d*-0x2+0x9a5*0x3+0x92b),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x9b9+-0x1375+0x1d2f);}['_checkStat'+'e'](){const _0x5cf3e1=this['enabled']&&this['entity']['enabled'];if(_0x5cf3e1===this['_oldState'])return;this['_oldState']=_0x5cf3e1,this['fire'](_0x5cf3e1?'enable':'disable'),this['fire']('state',_0x5cf3e1),_0x5cf3e1?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x3a16aa=this['_beginLoop'+'ing']();for(let _0x4c7c6e=0x2063+-0x2033+-0x30,_0x2cc9e7=this['scripts']['length'];_0x4c7c6e<_0x2cc9e7;_0x4c7c6e++){const _0x21ee6f=this['scripts'][_0x4c7c6e];_0x21ee6f['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x21ee6f);}),_0x21ee6f['enabled']=_0x21ee6f['_enabled'];}this['_endLoopin'+'g'](_0x3a16aa);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x25e8bd=this['_beginLoop'+'ing']();for(let _0x3850d3=0xf5+0x19d3+-0x1ac8;_0x3850d3<this['scripts']['length'];_0x3850d3++){const _0x4e9917=this['scripts'][_0x3850d3];_0x4e9917&&this['destroy'](_0x4e9917['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x25e8bd);}['_removeDes'+'troyedScri'+'pts'](){const _0x3dd3e2=this['_destroyed'+'Scripts']['length'];if(_0x3dd3e2){for(let _0x3cbec5=0x269b+0xd*0x134+-0x363f;_0x3cbec5<_0x3dd3e2;_0x3cbec5++){const _0x371a11=this['_destroyed'+'Scripts'][_0x3cbec5];this['_removeScr'+'iptInstanc'+'e'](_0x371a11);}this['_destroyed'+'Scripts']['length']=0x1215*0x1+-0xc03+-0x612,this['_resetExec'+'utionOrder'](-0x1*0x22d+-0x8*0x9+0x1*0x275,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0xc6f690=0x285+0x2434+-0x26b9,_0x3e2e13=this['scripts']['length'];_0xc6f690<_0x3e2e13;_0xc6f690++){const _0x1dd94f=this['scripts'][_0xc6f690];this['initialize'+'Attributes'](_0x1dd94f);}}['initialize'+'Attributes'](_0x1b080b){var _0x11206f;if(_0x1b080b instanceof ic)_0x1b080b['__initiali'+'zeAttribut'+'es']();else{const _0x4d7f53=_0x1b080b['__scriptTy'+'pe']['__name'],_0x6ce12b=this['_attribute'+'DataMap']['get'](_0x4d7f53);if(!_0x6ce12b)return;const _0x43303b=(_0x11206f=this['system']['app']['scripts'])==null?void(-0x2442+-0x2*0x1330+0x4aa2):_0x11206f['getSchema'](_0x4d7f53);_0x43303b||b['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x4d7f53+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),Cx(this['system']['app'],_0x43303b['attributes'],_0x6ce12b,_0x1b080b);}}['_scriptMet'+'hod'](_0xbc80d,_0x4ccb43,_0x5dbc70){try{_0xbc80d[_0x4ccb43](_0x5dbc70);}catch(_0x49b5b3){_0xbc80d['enabled']=!(0x1533+0x13*-0xfd+-0x1*0x26b),_0xbc80d['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x4ccb43+'\x22\x20for\x20\x22'+_0xbc80d['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x49b5b3),console['error'](_0x49b5b3)),_0xbc80d['fire']('error',_0x49b5b3,_0x4ccb43),this['fire']('error',_0xbc80d,_0x49b5b3,_0x4ccb43);}}['_onInitial'+'ize'](){const _0x1335b5=this['_scripts'],_0x1f9f8a=this['_beginLoop'+'ing']();for(let _0x348dde=-0x44*0xd+-0x6fe+-0xe*-0xbf,_0x515b6c=_0x1335b5['length'];_0x348dde<_0x515b6c;_0x348dde++){const _0x340da8=_0x1335b5[_0x348dde];!_0x340da8['_initializ'+'ed']&&_0x340da8['enabled']&&(_0x340da8['_initializ'+'ed']=!(0x1627+0x1738+-0x2d5f),_0x340da8['initialize']&&this['_scriptMet'+'hod'](_0x340da8,Sf));}this['_endLoopin'+'g'](_0x1f9f8a);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x3c6887){const _0x42d3ad=this['_updateLis'+'t'];if(!_0x42d3ad['length'])return;const _0x134787=this['_beginLoop'+'ing']();for(_0x42d3ad['loopIndex']=-0x1*-0x611+0x1f88+-0x2599;_0x42d3ad['loopIndex']<_0x42d3ad['length'];_0x42d3ad['loopIndex']++){const _0x2bcb59=_0x42d3ad['items'][_0x42d3ad['loopIndex']];_0x2bcb59['enabled']&&this['_scriptMet'+'hod'](_0x2bcb59,eD,_0x3c6887);}this['_endLoopin'+'g'](_0x134787);}['_onPostUpd'+'ate'](_0x54caed){const _0x288a4c=this['_postUpdat'+'eList'];if(!_0x288a4c['length'])return;const _0x225ff2=this['_beginLoop'+'ing']();for(_0x288a4c['loopIndex']=0xaca+0x919+-0x6a1*0x3;_0x288a4c['loopIndex']<_0x288a4c['length'];_0x288a4c['loopIndex']++){const _0x5b1b30=_0x288a4c['items'][_0x288a4c['loopIndex']];_0x5b1b30['enabled']&&this['_scriptMet'+'hod'](_0x5b1b30,tD,_0x54caed);}this['_endLoopin'+'g'](_0x225ff2);}['_insertScr'+'iptInstanc'+'e'](_0x551279,_0x5c8770,_0x31fce8){_0x5c8770===-(-0xa87+-0x58a*-0x4+0x174*-0x8)?(this['_scripts']['push'](_0x551279),_0x551279['__executio'+'nOrder']=_0x31fce8,_0x551279['update']&&this['_updateLis'+'t']['append'](_0x551279),_0x551279['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x551279)):(this['_scripts']['splice'](_0x5c8770,0x2*-0x891+0x1f*0x51+0xf*0x7d,_0x551279),_0x551279['__executio'+'nOrder']=_0x5c8770,this['_resetExec'+'utionOrder'](_0x5c8770+(-0x665+-0x39*-0x85+-0x1737),_0x31fce8+(0x140d+0x1b97+-0x2fa3)),_0x551279['update']&&this['_updateLis'+'t']['insert'](_0x551279),_0x551279['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x551279));}['_removeScr'+'iptInstanc'+'e'](_0x44388c){const _0x3aaf3e=this['_scripts']['indexOf'](_0x44388c);return _0x3aaf3e===-(-0x180d*-0x1+-0x54c+0x19*-0xc0)||(this['_scripts']['splice'](_0x3aaf3e,-0x229a+-0x1d2+-0x5*-0x749),_0x44388c['update']&&this['_updateLis'+'t']['remove'](_0x44388c),_0x44388c['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x44388c)),_0x3aaf3e;}['_resetExec'+'utionOrder'](_0x4ee4e6,_0x4f1142){for(let _0x1b07f2=_0x4ee4e6;_0x1b07f2<_0x4f1142;_0x1b07f2++)this['_scripts'][_0x1b07f2]['__executio'+'nOrder']=_0x1b07f2;}['_resolveEn'+'tityScript'+'Attribute'](_0x59ed0a,_0x2ab129,_0x411c4e,_0x24cc2b,_0x28d380,_0x34e84b){if(_0x59ed0a['array']){const _0x271ce8=_0x411c4e['length'];if(!_0x271ce8)return;const _0x187336=_0x411c4e['slice']();for(let _0x11e17e=0x15e6+-0x2*0x9af+-0x288;_0x11e17e<_0x271ce8;_0x11e17e++){const _0x3a9167=_0x187336[_0x11e17e]instanceof je?_0x187336[_0x11e17e]['getGuid']():_0x187336[_0x11e17e];_0x34e84b[_0x3a9167]&&(_0x187336[_0x11e17e]=_0x24cc2b?_0x34e84b[_0x3a9167]['getGuid']():_0x34e84b[_0x3a9167]);}_0x28d380[_0x2ab129]=_0x187336;}else{if(_0x411c4e instanceof je)_0x411c4e=_0x411c4e['getGuid']();else{if(typeof _0x411c4e!='string')return;}_0x34e84b[_0x411c4e]&&(_0x28d380[_0x2ab129]=_0x34e84b[_0x411c4e]);}}['has'](_0x57e2ba){if(typeof _0x57e2ba=='string')return!!this['_scriptsIn'+'dex'][_0x57e2ba];if(!_0x57e2ba)return!(-0x4c9+-0x305+0x7cf);const _0xbf8973=_0x57e2ba,_0x1b9a4c=_0xbf8973['__name'],_0x535ef5=this['_scriptsIn'+'dex'][_0x1b9a4c];return(_0x535ef5&&_0x535ef5['instance'])instanceof _0xbf8973;}['get'](_0x4406c3){if(typeof _0x4406c3=='string'){const _0x25eaab=this['_scriptsIn'+'dex'][_0x4406c3];return _0x25eaab?_0x25eaab['instance']:null;}if(!_0x4406c3)return null;const _0x4d3ca6=_0x4406c3,_0x4b085d=_0x4d3ca6['__name'],_0x436e2a=this['_scriptsIn'+'dex'][_0x4b085d],_0x2833e4=_0x436e2a&&_0x436e2a['instance'];return _0x2833e4 instanceof _0x4d3ca6?_0x2833e4:null;}['create'](_0x91038a,_0x379791={}){const _0x3fea5d=this;let _0x3da9cb=_0x91038a,_0x12f247=_0x91038a;if(typeof _0x3da9cb=='string'?_0x3da9cb=this['system']['app']['scripts']['get'](_0x3da9cb):_0x3da9cb&&(_0x12f247=_0x3da9cb['__name']??(_0x3da9cb['__name']=rD(Mx(_0x3da9cb)))),_0x3da9cb){if(!this['_scriptsIn'+'dex'][_0x12f247]||!this['_scriptsIn'+'dex'][_0x12f247]['instance']){const _0x272bf8=new _0x3da9cb({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x379791['hasOwnProp'+'erty']('enabled')?_0x379791['enabled']:!(-0x24b3+-0x1c7d+0x4130),'attributes':_0x379791['attributes']||{}});_0x379791['properties']&&typeof _0x379791['properties']=='object'&&Object['assign'](_0x272bf8,_0x379791['properties']),_0x272bf8 instanceof ic||this['_attribute'+'DataMap']['set'](_0x12f247,_0x379791['attributes']);const _0x4d1f49=this['_scripts']['length'];let _0x54d088=-(0x1*0x319+-0x551*-0x2+-0xdba);return typeof _0x379791['ind']=='number'&&_0x379791['ind']!==-(0xabe*0x3+0xf1a+-0x2f53)&&_0x4d1f49>_0x379791['ind']&&(_0x54d088=_0x379791['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x272bf8,_0x54d088,_0x4d1f49),this['_scriptsIn'+'dex'][_0x12f247]={'instance':_0x272bf8,'onSwap':function(){_0x3fea5d['swap'](_0x12f247);}},this[_0x12f247]=_0x272bf8,_0x379791['preloading']||this['initialize'+'Attributes'](_0x272bf8),this['fire']('create',_0x12f247,_0x272bf8),this['fire']('create:'+_0x12f247,_0x272bf8),this['system']['app']['scripts']['on']('swap:'+_0x12f247,this['_scriptsIn'+'dex'][_0x12f247]['onSwap']),_0x379791['preloading']||(_0x272bf8['enabled']&&!_0x272bf8['_initializ'+'ed']&&(_0x272bf8['_initializ'+'ed']=!(-0x17a6*-0x1+-0x2528+0x1*0xd82),_0x272bf8['initialize']&&this['_scriptMet'+'hod'](_0x272bf8,Sf)),_0x272bf8['enabled']&&!_0x272bf8['_postIniti'+'alized']&&(_0x272bf8['_postIniti'+'alized']=!(-0x1714+-0x1d1a+0x342e*0x1),_0x272bf8['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x272bf8,vf))),_0x272bf8;}b['warn']('script\x20\x27'+_0x12f247+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x12f247]={'awaiting':!(0xab5*0x1+-0x210c+0x1657),'ind':this['_scripts']['length']},b['warn']('script\x20\x27'+_0x12f247+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x124951){let _0x3ff73c=_0x124951,_0x5cf968=_0x124951;typeof _0x5cf968=='string'?_0x5cf968=this['system']['app']['scripts']['get'](_0x5cf968):_0x5cf968&&(_0x3ff73c=_0x5cf968['__name']);const _0x2c7751=this['_scriptsIn'+'dex'][_0x3ff73c];if(delete this['_scriptsIn'+'dex'][_0x3ff73c],!_0x2c7751)return!(0x1381*-0x1+0xbb*-0x22+0x2c58);this['_attribute'+'DataMap']['delete'](_0x3ff73c);const _0x5befa7=_0x2c7751['instance'];if(_0x5befa7&&!_0x5befa7['_destroyed']){if(_0x5befa7['enabled']=!(0x1fd0+-0x1*-0x1cc7+-0x3c96),_0x5befa7['_destroyed']=!(0x105*-0x1c+0x165b+-0x13d*-0x5),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x5befa7);else{const _0x5092ef=this['_removeScr'+'iptInstanc'+'e'](_0x5befa7);_0x5092ef>=0x1d99+0xcdb+-0x2a74&&this['_resetExec'+'utionOrder'](_0x5092ef,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3ff73c,_0x2c7751['onSwap']),delete this[_0x3ff73c],this['fire']('destroy',_0x3ff73c,_0x5befa7||null),this['fire']('destroy:'+_0x3ff73c,_0x5befa7||null),_0x5befa7&&_0x5befa7['fire']('destroy'),!(-0x1399*0x1+-0x18*-0x9+0x12c1*0x1);}['swap'](_0xbaf0a3){let _0x25c793=_0xbaf0a3,_0x33848e=_0xbaf0a3;typeof _0x33848e=='string'?_0x33848e=this['system']['app']['scripts']['get'](_0x33848e):_0x33848e&&(_0x25c793=_0x33848e['__name']);const _0x5c2f3d=this['_scriptsIn'+'dex'][_0x25c793];if(!_0x5c2f3d||!_0x5c2f3d['instance'])return!(0x1287+0x1e5f+-0x30e5);const _0x1dc846=_0x5c2f3d['instance'],_0x328d13=this['_scripts']['indexOf'](_0x1dc846),_0x1bd3fd=new _0x33848e({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x1dc846['enabled'],'attributes':_0x1dc846['__attribut'+'es']});return _0x1bd3fd['swap']?(this['initialize'+'Attributes'](_0x1bd3fd),this['_scripts'][_0x328d13]=_0x1bd3fd,this['_scriptsIn'+'dex'][_0x25c793]['instance']=_0x1bd3fd,this[_0x25c793]=_0x1bd3fd,_0x1bd3fd['__executio'+'nOrder']=_0x328d13,_0x1dc846['update']&&this['_updateLis'+'t']['remove'](_0x1dc846),_0x1dc846['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1dc846),_0x1bd3fd['update']&&this['_updateLis'+'t']['insert'](_0x1bd3fd),_0x1bd3fd['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x1bd3fd),this['_scriptMet'+'hod'](_0x1bd3fd,sD,_0x1dc846),this['fire']('swap',_0x25c793,_0x1bd3fd),this['fire']('swap:'+_0x25c793,_0x1bd3fd),!(0x487+0x3*0x28d+-0xc2e)):!(0x16be+-0x5b*-0x59+-0xe8*0x3c);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x236384,_0x49eb98){const _0x37f307=this['entity']['script'];for(const _0x36a09b in _0x236384['_scriptsIn'+'dex']){const _0x3884bf=this['system']['app']['scripts']['get'](_0x36a09b);if(!_0x3884bf)continue;const _0x3b7472=_0x236384['_scriptsIn'+'dex'][_0x36a09b];if(!_0x3b7472||!_0x3b7472['instance'])continue;const _0x40b71d=_0x37f307[_0x36a09b]['__attribut'+'esRaw'],_0x422829=_0x37f307[_0x36a09b]['__attribut'+'es'];if(!_0x40b71d&&!_0x422829)continue;const _0xf144c7=!!_0x40b71d,_0x4ba2dd=_0x3b7472['instance']['__attribut'+'es'];for(const _0x23bf91 in _0x4ba2dd){if(!_0x4ba2dd[_0x23bf91])continue;const _0x4e3c16=_0x3884bf['attributes']['get'](_0x23bf91);if(_0x4e3c16){if(_0x4e3c16['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x4e3c16,_0x23bf91,_0x4ba2dd[_0x23bf91],_0xf144c7,_0x40b71d||_0x422829,_0x49eb98);else{if(_0x4e3c16['type']==='json'&&Array['isArray'](_0x4e3c16['schema'])){const _0x513711=_0x4ba2dd[_0x23bf91],_0x12ecdd=_0x40b71d?_0x40b71d[_0x23bf91]:_0x422829[_0x23bf91];for(let _0x551585=0xd66+0x12f8+-0x205e;_0x551585<_0x4e3c16['schema']['length'];_0x551585++){const _0x246465=_0x4e3c16['schema'][_0x551585];if(_0x246465['type']==='entity'){if(_0x4e3c16['array']){for(let _0x401f92=0xa17+-0x21ee+0x17d7;_0x401f92<_0x513711['length'];_0x401f92++)this['_resolveEn'+'tityScript'+'Attribute'](_0x246465,_0x246465['name'],_0x513711[_0x401f92][_0x246465['name']],_0xf144c7,_0x12ecdd[_0x401f92],_0x49eb98);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x246465,_0x246465['name'],_0x513711[_0x246465['name']],_0xf144c7,_0x12ecdd,_0x49eb98);}}}}}}}}['move'](_0x5a258e,_0x1682bc){const _0x32e969=this['_scripts']['length'];if(_0x1682bc>=_0x32e969||_0x1682bc<0x1b75+-0x1cad+0x138)return!(0x571*0x4+-0xe55+-0x76e);let _0xc38e8c=_0x5a258e,_0x4d0460=_0x5a258e;typeof _0x4d0460!='string'?_0x4d0460=_0x5a258e['__name']:_0xc38e8c=null;const _0x575a80=this['_scriptsIn'+'dex'][_0x4d0460];if(!_0x575a80||!_0x575a80['instance'])return!(-0x1d*0x6d+-0x1*0x1335+0x1f8f);const _0xefaa0c=_0x575a80['instance'];if(_0xc38e8c&&!(_0xefaa0c instanceof _0xc38e8c))return!(-0x18c2+0x268a+0x1*-0xdc7);const _0x404fa1=this['_scripts']['indexOf'](_0xefaa0c);return _0x404fa1===-(-0x5ff*-0x2+0x45*0x6d+-0x295e)||_0x404fa1===_0x1682bc?!(-0x22ce+0x7df+0x2*0xd78):(this['_scripts']['splice'](_0x1682bc,0x1228+0x1057+-0x227f,this['_scripts']['splice'](_0x404fa1,-0x1cdf+-0x1*0x1dc1+0x3aa1)[0x39*-0x55+-0x81d+0xd85*0x2]),this['_resetExec'+'utionOrder'](-0x2b7+-0x1a81+0x1d38,_0x32e969),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x4d0460,_0xefaa0c,_0x1682bc,_0x404fa1),this['fire']('move:'+_0x4d0460,_0xefaa0c,_0x1682bc,_0x404fa1),!(0x1*-0x1994+-0x17b3+-0xf*-0x349));}}c(_i,'EVENT_CREA'+'TE','create'),c(_i,'EVENT_DEST'+'ROY','destroy'),c(_i,'EVENT_ENAB'+'LE','enable'),c(_i,'EVENT_DISA'+'BLE','disable'),c(_i,'EVENT_REMO'+'VE','remove'),c(_i,'EVENT_STAT'+'E','state'),c(_i,'EVENT_MOVE','move'),c(_i,'EVENT_ERRO'+'R','error');class nD{constructor(){this['enabled']=!(-0x2*0xdfb+-0x1*0x2681+0x5*0xd4b);}}const aD='_onInitial'+'izeAttribu'+'tes',oD='_onInitial'+'ize',lD='_onPostIni'+'tialize',hD='_onUpdate',cD='_onPostUpd'+'ate';let rh=-0x13a1+0x1*0x98e+-0xa13*-0x1;class dD extends Qe{constructor(_0x5af7d5){super(_0x5af7d5),this['id']='script',this['ComponentT'+'ype']=_i,this['DataType']=nD,this['_component'+'s']=new Mh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new Mh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0x1e7*0x3+0x75*0x21+0x258*-0x4),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x28aa88,_0xc6c8b4){if(_0x28aa88['_execution'+'Order']=rh++,this['_component'+'s']['append'](_0x28aa88),rh>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x28aa88['enabled']=_0xc6c8b4['hasOwnProp'+'erty']('enabled')?!!_0xc6c8b4['enabled']:!(-0x29*0x39+0xccb+-0x3aa),_0x28aa88['enabled']&&_0x28aa88['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x28aa88),_0xc6c8b4['hasOwnProp'+'erty']('order')&&_0xc6c8b4['hasOwnProp'+'erty']('scripts')){_0x28aa88['_scriptsDa'+'ta']=_0xc6c8b4['scripts'];for(let _0xe2603a=0x1113+-0xd*0xe9+0x53e*-0x1;_0xe2603a<_0xc6c8b4['order']['length'];_0xe2603a++)_0x28aa88['create'](_0xc6c8b4['order'][_0xe2603a],{'enabled':_0xc6c8b4['scripts'][_0xc6c8b4['order'][_0xe2603a]]['enabled'],'attributes':_0xc6c8b4['scripts'][_0xc6c8b4['order'][_0xe2603a]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x51a7bb,_0x7db2d){var _0x3a93a5;const _0xaa2112=[],_0x3417e5={};for(let _0x115ff8=0xa61*-0x1+-0x391+-0xdf2*-0x1;_0x115ff8<_0x51a7bb['script']['_scripts']['length'];_0x115ff8++){const _0x3bdd81=_0x51a7bb['script']['_scripts'][_0x115ff8],_0x542462=_0x3bdd81['__scriptTy'+'pe']['__name'];_0xaa2112['push'](_0x542462);const _0x39b706=((_0x3a93a5=_0x51a7bb['script']['_attribute'+'DataMap'])==null?void(0x2b*0x29+0x12a5+-0x1988*0x1):_0x3a93a5['get'](_0x542462))||{};for(const _0x26e99d in _0x3bdd81['__attribut'+'es'])_0x39b706[_0x26e99d]=_0x3bdd81['__attribut'+'es'][_0x26e99d];_0x3417e5[_0x542462]={'enabled':_0x3bdd81['_enabled'],'attributes':_0x39b706};}for(const _0x3d4cca in _0x51a7bb['script']['_scriptsIn'+'dex'])_0x3d4cca['awaiting']&&_0xaa2112['splice'](_0x3d4cca['ind'],0x262e+-0x66d+-0xb*0x2e3,_0x3d4cca);const _0x10627e={'enabled':_0x51a7bb['script']['enabled'],'order':_0xaa2112,'scripts':_0x3417e5};return this['addCompone'+'nt'](_0x7db2d,_0x10627e);}['_resetExec'+'utionOrder'](){rh=-0x1*-0x5cb+0x226+-0x7f1;for(let _0x3ac7dc=-0x2277+0x191*0xf+0xaf8,_0x1a2c87=this['_component'+'s']['length'];_0x3ac7dc<_0x1a2c87;_0x3ac7dc++)this['_component'+'s']['items'][_0x3ac7dc]['_execution'+'Order']=rh++;}['_callCompo'+'nentMethod'](_0xbfad94,_0x352cf0,_0x2a03d4){for(_0xbfad94['loopIndex']=0x1d98+0x11d5+0xd5*-0x39;_0xbfad94['loopIndex']<_0xbfad94['length'];_0xbfad94['loopIndex']++)_0xbfad94['items'][_0xbfad94['loopIndex']][_0x352cf0](_0x2a03d4);}['_onInitial'+'ize'](){this['preloading']=!(0x4*0x5d9+-0xd6f*-0x1+-0x24d2),this['_callCompo'+'nentMethod'](this['_component'+'s'],aD),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],oD);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],lD);}['_onUpdate'](_0x54c1a2){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],hD,_0x54c1a2);}['_onPostUpd'+'ate'](_0x4990f9){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],cD,_0x4990f9);}['_addCompon'+'entToEnabl'+'ed'](_0x110dac){this['_enabledCo'+'mponents']['insert'](_0x110dac);}['_removeCom'+'ponentFrom'+'Enabled'](_0x642f0c){this['_enabledCo'+'mponents']['remove'](_0x642f0c);}['_onBeforeR'+'emove'](_0x58b453,_0x1bfa05){this['_component'+'s']['items']['indexOf'](_0x1bfa05)>=-0x40e+0x474+-0x1*0x66&&_0x1bfa05['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x1bfa05),this['_component'+'s']['remove'](_0x1bfa05);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class Px extends pe{constructor(_0xff2823,_0x52e5e0){super(_0xff2823,_0x52e5e0),c(this,'_layers',[zi]),c(this,'_instance',null),c(this,'_customAab'+'b',null),c(this,'_assetRefe'+'rence'),c(this,'_materialO'+'ptions',null),c(this,'_evtLayers'+'Changed',null),c(this,'_evtLayerA'+'dded',null),c(this,'_evtLayerR'+'emoved',null),(this['_assetRefe'+'rence']=new qo('asset',this,_0xff2823['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x52e5e0['on']('remove',this['onRemoveCh'+'ild'],this),_0x52e5e0['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x52e5e0['on']('insert',this['onInsertCh'+'ild'],this),_0x52e5e0['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0xa0c38f){var _0x43b39f,_0xd83d;this['_customAab'+'b']=_0xa0c38f,(_0xd83d=(_0x43b39f=this['_instance'])==null?void(-0x1*-0x1d6b+-0xb4b+-0x3a*0x50):_0x43b39f['meshInstan'+'ce'])==null||_0xd83d['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x144765){var _0x37b24f;if(this['destroyIns'+'tance'](),this['_instance']=_0x144765,(_0x37b24f=this['_instance'])!=null&&_0x37b24f['meshInstan'+'ce']){const _0x2bfe53=this['_instance']['meshInstan'+'ce'];_0x2bfe53['node']||(_0x2bfe53['node']=this['entity']),_0x2bfe53['setCustomA'+'abb'](this['_customAab'+'b']),this['_materialO'+'ptions']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['materialOp'+'tions'](_0x45c150){this['_materialO'+'ptions']=Object['assign']({},_0x45c150),this['_instance']&&this['_instance']['createMate'+'rial'](this['_materialO'+'ptions']);}get['materialOp'+'tions'](){return this['_materialO'+'ptions'];}get['material'](){var _0xe73c54;return(_0xe73c54=this['_instance'])==null?void(-0x5*0x24d+-0x667+0x11e8):_0xe73c54['material'];}set['layers'](_0x3fb99c){this['removeFrom'+'Layers'](),this['_layers']['length']=0x227*-0x5+0x1*0x5de+0x4e5;for(let _0x283b18=0x1f0f*-0x1+0x107*0x5+0x19ec;_0x283b18<_0x3fb99c['length'];_0x283b18++)this['_layers'][_0x283b18]=_0x3fb99c[_0x283b18];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0x13c110){const _0x10fca1=_0x13c110 instanceof he?_0x13c110['id']:_0x13c110;this['_assetRefe'+'rence']['id']!==_0x10fca1&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x10fca1,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x53acf5){const _0x209f0a=_0x53acf5 instanceof he?_0x53acf5['id']:_0x53acf5;this['_assetRefe'+'rence']['id']=_0x209f0a;}['destroyIns'+'tance'](){var _0x5a2d3c;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5a2d3c=this['_instance'])==null||_0x5a2d3c['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x43c662,_0x3c2cb0;const _0x5935be=(_0x43c662=this['instance'])==null?void(-0x40*-0x67+-0x2173+0x1*0x7b3):_0x43c662['meshInstan'+'ce'];if(_0x5935be){const _0x2e666b=this['system']['app']['scene']['layers'];for(let _0x110413=-0x1acf+-0x6b0+0x217f;_0x110413<this['_layers']['length'];_0x110413++)(_0x3c2cb0=_0x2e666b['getLayerBy'+'Id'](this['_layers'][_0x110413]))==null||_0x3c2cb0['addMeshIns'+'tances']([_0x5935be]);}}['removeFrom'+'Layers'](){var _0x47f8fb,_0x2ddcf2;const _0x7bd237=(_0x47f8fb=this['instance'])==null?void(0x24d1*-0x1+-0x1e1e+0x42ef):_0x47f8fb['meshInstan'+'ce'];if(_0x7bd237){const _0x56febe=this['system']['app']['scene']['layers'];for(let _0x2dc865=0x6eb*0x1+0x2*-0xc74+0x11fd;_0x2dc865<this['_layers']['length'];_0x2dc865++)(_0x2ddcf2=_0x56febe['getLayerBy'+'Id'](this['_layers'][_0x2dc865]))==null||_0x2ddcf2['removeMesh'+'Instances']([_0x7bd237]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0xd85cfe,_0x281d48){this['addToLayer'+'s'](),_0xd85cfe['off']('add',this['onLayerAdd'+'ed'],this),_0xd85cfe['off']('remove',this['onLayerRem'+'oved'],this),_0x281d48['on']('add',this['onLayerAdd'+'ed'],this),_0x281d48['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x25738a){this['layers']['indexOf'](_0x25738a['id'])<-0x3*0xb6a+-0x9*-0x3e3+0x1*-0xbd||this['_instance']&&_0x25738a['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x5800a8){this['layers']['indexOf'](_0x5800a8['id'])<-0x707+0x16a*0x7+0x15*-0x23||this['_instance']&&_0x5800a8['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x1ecbbd=this['system']['app']['scene'],_0x41a2cb=_0x1ecbbd['layers'];this['_evtLayers'+'Changed']=_0x1ecbbd['on']('set:layers',this['onLayersCh'+'anged'],this),_0x41a2cb&&(this['_evtLayerA'+'dded']=_0x41a2cb['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x41a2cb['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x2922b6,_0x204104,_0x215168;const _0x4f3c49=this['system']['app']['scene']['layers'];(_0x2922b6=this['_evtLayers'+'Changed'])==null||_0x2922b6['off'](),this['_evtLayers'+'Changed']=null,_0x4f3c49&&((_0x204104=this['_evtLayerA'+'dded'])==null||_0x204104['off'](),this['_evtLayerA'+'dded']=null,(_0x215168=this['_evtLayerR'+'emoved'])==null||_0x215168['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1*0x1dc5+-0x21*-0x3c+-0x2580));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1201+-0x26d5+0x3e*0x56));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x114705=this['_assetRefe'+'rence']['asset'];_0x114705&&(this['instance']=_0x114705['resource']['createInst'+'ance']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class uD{constructor(){this['enabled']=!(0x107*-0x2+0x1*-0x1c52+0x3*0xa20);}}const bf=['enabled'],Ir=['instance','asset','layers'];class fD extends Qe{constructor(_0x5833ef){super(_0x5833ef),this['id']='gsplat',this['ComponentT'+'ype']=Px,this['DataType']=uD,this['schema']=bf,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x33afe6,_0x36fd10,_0x91d52f){_0x36fd10['layers']&&_0x36fd10['layers']['length']&&(_0x36fd10['layers']=_0x36fd10['layers']['slice'](0x1951+0x4f*-0x38+0xbb*-0xb));for(let _0x3b4583=0xed*-0x17+-0x763*0x1+0xe57*0x2;_0x3b4583<Ir['length'];_0x3b4583++)_0x36fd10['hasOwnProp'+'erty'](Ir[_0x3b4583])&&(_0x33afe6[Ir[_0x3b4583]]=_0x36fd10[Ir[_0x3b4583]]);_0x36fd10['aabbCenter']&&_0x36fd10['aabbHalfEx'+'tents']&&(_0x33afe6['customAabb']=new ve(new A(_0x36fd10['aabbCenter']),new A(_0x36fd10['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x33afe6,_0x36fd10,bf);}['cloneCompo'+'nent'](_0x5b647a,_0x1a77f5){const _0x4f3899=_0x5b647a['gsplat'],_0x3aa388={};for(let _0x2e0eb9=0x1be3+-0x1ae0+-0x103;_0x2e0eb9<Ir['length'];_0x2e0eb9++)_0x3aa388[Ir[_0x2e0eb9]]=_0x4f3899[Ir[_0x2e0eb9]];_0x3aa388['enabled']=_0x4f3899['enabled'],delete _0x3aa388['instance'];const _0x27899a=this['addCompone'+'nt'](_0x1a77f5,_0x3aa388);return _0x27899a['instance']=_0x4f3899['instance']['clone'](),_0x4f3899['customAabb']&&(_0x27899a['customAabb']=_0x4f3899['customAabb']['clone']()),_0x27899a;}['onRemove'](_0xa7b3ed,_0x2b8b89){_0x2b8b89['onRemove']();}}pe['_buildAcce'+'ssors'](Px['prototype'],bf);class Xp extends de{constructor(){super(...arguments),c(this,'_meshes',null);}set['meshes'](_0x2645dc){this['decRefMesh'+'es'](),this['_meshes']=_0x2645dc,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x2645dc);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x5880df;(_0x5880df=this['_meshes'])==null||_0x5880df['forEach']((_0x1c8096,_0x3865cf)=>{_0x1c8096&&(_0x1c8096['decRefCoun'+'t'](),_0x1c8096['refCount']<0x10+0x4*0x43e+-0x1107&&(_0x1c8096['destroy'](),this['_meshes'][_0x3865cf]=null));});}['incRefMesh'+'es'](){var _0x344a9b;(_0x344a9b=this['_meshes'])==null||_0x344a9b['forEach'](_0x9e090e=>{_0x9e090e==null||_0x9e090e['incRefCoun'+'t']();});}}c(Xp,'EVENT_SETM'+'ESHES','set:meshes');function wh(_0x3aa810){const _0x12710b=this;if(!_0x12710b['resource'])return;const _0x3e2ce3=_0x3aa810['resource'],_0x349d02=_0x3e2ce3['renders']&&_0x3e2ce3['renders'][_0x12710b['data']['renderInde'+'x']];_0x349d02&&(_0x12710b['resource']['meshes']=_0x349d02['resource']['meshes']);}function Fg(_0x261c44){const _0x4133aa=this;_0x4133aa['registry']['off']('load:'+_0x261c44['id'],wh,_0x4133aa),_0x4133aa['registry']['on']('load:'+_0x261c44['id'],wh,_0x4133aa),_0x4133aa['registry']['off']('remove:'+_0x261c44['id'],kg,_0x4133aa),_0x4133aa['registry']['once']('remove:'+_0x261c44['id'],kg,_0x4133aa),_0x261c44['resource']?wh['call'](_0x4133aa,_0x261c44):_0x4133aa['registry']['load'](_0x261c44);}function kg(_0x258a7b){const _0x47c48f=this;_0x47c48f['registry']['off']('load:'+_0x258a7b['id'],wh,_0x47c48f),_0x47c48f['resource']&&_0x47c48f['resource']['destroy']();}class pD extends Ge{constructor(_0x262a0b){super(_0x262a0b,'render'),this['_registry']=_0x262a0b['assets'];}['open'](_0x3f891c,_0x991de6){return new Xp();}['patch'](_0x295f86,_0x45dd12){if(!_0x295f86['data']['containerA'+'sset'])return;const _0x28f4d5=_0x45dd12['get'](_0x295f86['data']['containerA'+'sset']);if(!_0x28f4d5){_0x45dd12['once']('add:'+_0x295f86['data']['containerA'+'sset'],Fg,_0x295f86);return;}Fg['call'](_0x295f86,_0x28f4d5);}}class Rx{constructor(_0x46f103,_0x2a6982,_0x2cb04c,_0xe9189b){this['_paths']=_0x46f103,this['_input']=_0x2a6982,this['_output']=_0x2cb04c,this['_interpola'+'tion']=_0xe9189b;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class rc{constructor(_0x51d0f9,_0x24c217){this['_component'+'s']=_0x51d0f9,this['_data']=_0x24c217;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function mD(_0x5afa03,_0x2c631a){let _0x51d06a;const _0x54fdc0=(_0x53c316,_0x192117)=>{switch(_0x192117){case _0x51d06a['DT_INT8']:return new Int8Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']);case _0x51d06a['DT_INT16']:return new Int16Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']/(0x1f87+-0x4bd*-0x1+-0x2442*0x1));case _0x51d06a['DT_INT32']:return new Int32Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']/(0xf68*0x1+-0x1*-0xc4c+-0x1bb0));case _0x51d06a['DT_UINT8']:return new Uint8Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']);case _0x51d06a['DT_UINT16']:return new Uint16Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']/(0x4e0+-0x1d28+0x2*0xc25));case _0x51d06a['DT_UINT32']:return new Uint32Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']/(-0x2383*0x1+-0xf00+0x3287));case _0x51d06a['DT_FLOAT32']:return new Float32Array(_0x53c316['buffer'],_0x53c316['byteOffset'],_0x53c316['byteLength']/(-0x253+-0x1cce+0x11*0x1d5));}return null;},_0x545965=_0x17da24=>{switch(_0x17da24){case _0x51d06a['DT_INT8']:return 0xd39*-0x1+0x277*0x5+-0x3*-0x4d;case _0x51d06a['DT_INT16']:return 0xa*-0xeb+0x427*0x5+0x1*-0xb93;case _0x51d06a['DT_INT32']:return-0x1bd6+-0x2*0x8d7+0x2d88;case _0x51d06a['DT_UINT8']:return 0x8b*0x25+-0x2*-0x8b0+0x12bb*-0x2;case _0x51d06a['DT_UINT16']:return 0x5ea+-0x192a+0x2*0x9a1;case _0x51d06a['DT_UINT32']:return 0x122f+-0x1a02+0x7d7;case _0x51d06a['DT_FLOAT32']:return 0x6fd*0x3+0x1f7f+-0x31*0x112;}return-0x1*0x2065+0x203e+0x28;},_0x23635e=_0x423242=>_0x423242['num_compon'+'ents']()*_0x545965(_0x423242['data_type']()),_0x338f00={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x51c87a=(_0x443173,_0xb00941)=>{const _0x416ad4=(_0x15b75c,_0x48647d,_0x3800ff)=>{_0x15b75c[-0x22c1+0x23*0xa8+-0x7*-0x1af]=_0x48647d[0x1147*0x1+0xd*0x1c1+-0x2814]-_0x3800ff[0x4f4*-0x4+-0x1914+0x2ce4],_0x15b75c[0x1a70+-0x607*-0x3+-0x2c84]=_0x48647d[0x126e*0x1+0x1*0x64e+-0xd*0x1e7]-_0x3800ff[0x1*0x1a7d+0x1e32+-0x38ae],_0x15b75c[-0x121*-0xa+-0x19ef+0x155*0xb]=_0x48647d[-0xe25+-0x11*0x2b+0x1102]-_0x3800ff[0x3*-0x6c7+-0x82*-0x46+0xe5*-0x11];},_0x3e2d7a=(_0x6a52f4,_0x5bcd56,_0x4da9d9)=>{_0x6a52f4[-0x1f9b+0x30f+-0x20a*-0xe]=_0x5bcd56[-0x99f+-0x6*0x328+-0x1c90*-0x1]*_0x4da9d9[0x11b6+-0x67*0x19+-0x7a5]-_0x4da9d9[0x23e3+-0x1*-0x3ed+-0x27cf]*_0x5bcd56[-0x1050+0x26fd+-0x16ab],_0x6a52f4[0x1ee7+-0x152+-0xeca*0x2]=_0x5bcd56[0x1*-0x97c+0x21fd+-0x187f]*_0x4da9d9[-0x2b0*0x8+-0x21*-0x83+-0x1*-0x49d]-_0x4da9d9[0x1d59+0xdcb+-0x1*0x2b22]*_0x5bcd56[0x11d*0x1+-0x1d42+-0x5*-0x5a1],_0x6a52f4[0x4ce+-0x141*-0x1a+-0x12b3*0x2]=_0x5bcd56[0xa*-0xbf+0x1*0x61+0x1*0x715]*_0x4da9d9[-0x706+0x557*-0x5+-0x1*-0x21ba]-_0x4da9d9[0x2*-0x78d+0x6*0x1b9+0x4c4]*_0x5bcd56[-0x421+0x553*-0x1+0x3*0x327];},_0x3e6a3a=(_0x271d3b,_0x292321)=>{const _0x37fffb=_0x271d3b[_0x292321+(-0x1847+-0x1ceb+-0x1a99*-0x2)],_0x29c2e5=_0x271d3b[_0x292321+(-0x1f63+-0x265f+0x45c3)],_0x29b181=_0x271d3b[_0x292321+(0x621+-0x8af+-0x148*-0x2)],_0x3179b3=(-0x1a36+0x20b9*0x1+0x682*-0x1)/Math['sqrt'](_0x37fffb*_0x37fffb+_0x29c2e5*_0x29c2e5+_0x29b181*_0x29b181);_0x271d3b[_0x292321+(0x2e+-0x8*0x36d+0x1b3a)]*=_0x3179b3,_0x271d3b[_0x292321+(-0x1*0x7d3+0x1*0x32a+0x3*0x18e)]*=_0x3179b3,_0x271d3b[_0x292321+(0xbb*0x22+0x5b9+-0x3*0xa2f)]*=_0x3179b3;},_0x299617=(_0x52a716,_0x58e16f,_0x155ac9)=>{for(let _0x6b28cb=0x2262+0x20c0+-0x4322;_0x6b28cb<0x1a77+0x737*0x5+-0x3e87;++_0x6b28cb)_0x52a716[_0x6b28cb]=_0x58e16f[_0x155ac9+_0x6b28cb];},_0x3d4814=_0xb00941['length']/(-0x1*0x58f+0x1e8*-0xb+0x1a8a),_0x3971bf=_0x443173['length']/(-0x10ce+-0x1f*0x55+0x1b1c),_0x5e2bbf=new Float32Array(_0x443173['length']),_0x1019dc=[0x54f*-0x4+0x1523*0x1+0x19,-0x16a7+0x992*0x4+-0x1*0xfa1,-0x35f*-0x3+-0x1*-0xd13+-0x1730],_0x23297d=[0xa8b+-0x11a4+0x719,0x2*0x6bd+0xa1*0x4+0x17*-0xb2,-0x1*-0x525+0x557*0x3+0x12d*-0x12],_0x108be7=[-0x12bf+-0x2f8+0x15b7,0x1251+0x1a9e+0x2cef*-0x1,-0x26*0x98+-0x1a72+-0x82b*-0x6],_0x30cf88=[-0x5*-0x737+0x188+0xc89*-0x3,0x7*-0x17e+-0x5*-0x34f+-0x619*0x1,-0xd*-0x9a+0x19*0xcd+-0x1*0x1bd7],_0x1a8213=[0x1dd+-0xea7+0x665*0x2,-0x2*-0x6f4+0x315*0x3+0x1*-0x1727,0x27a+-0x24ce+0x112a*0x2],_0x5b18fa=[-0x6a3+0x2*0x10a7+0x1aab*-0x1,0x136d+0xae9+-0x1e56,0xf7b*0x2+-0x2239*0x1+0x1*0x343];for(let _0x296d02=-0x1d*-0x138+0xa5f+-0x2db7;_0x296d02<_0x3d4814;++_0x296d02){const _0xeae39b=_0xb00941[_0x296d02*(0x812*0x2+-0x1523*0x1+-0x1*-0x502)+(0xd8+-0xb13+-0x9*-0x123)]*(0x650+0x122e+-0x187b*0x1),_0x60f0b6=_0xb00941[_0x296d02*(0x3*0x5d1+-0x6de*0x2+-0x3b4*0x1)+(-0x1*-0x527+-0x9*0x282+0x1*0x116c)]*(-0x4aa*-0x5+-0x21ab+0x6*0x1ba),_0x57ee0a=_0xb00941[_0x296d02*(0x1e*-0xd8+-0x2448+0x3d9b)+(-0x7*0x3+0x469+-0x229*0x2)]*(0xd*-0x11d+0x1716*0x1+-0x89a);_0x299617(_0x1019dc,_0x443173,_0xeae39b),_0x299617(_0x23297d,_0x443173,_0x60f0b6),_0x299617(_0x108be7,_0x443173,_0x57ee0a),_0x416ad4(_0x30cf88,_0x23297d,_0x1019dc),_0x416ad4(_0x1a8213,_0x108be7,_0x1019dc),_0x3e2d7a(_0x5b18fa,_0x30cf88,_0x1a8213),_0x3e6a3a(_0x5b18fa,0x188d+-0x1998+0x10b);for(let _0x3644d9=0xade+-0x11e2+0x704;_0x3644d9<-0x12a*0x8+0x21cd+-0x1a*0xf1;++_0x3644d9)_0x5e2bbf[_0xeae39b+_0x3644d9]+=_0x5b18fa[_0x3644d9],_0x5e2bbf[_0x60f0b6+_0x3644d9]+=_0x5b18fa[_0x3644d9],_0x5e2bbf[_0x57ee0a+_0x3644d9]+=_0x5b18fa[_0x3644d9];}for(let _0xc47ab8=-0x1bfc+-0xad5+0x26d1*0x1;_0xc47ab8<_0x3971bf;++_0xc47ab8)_0x3e6a3a(_0x5e2bbf,_0xc47ab8*(0xf31+-0x1*-0x214a+-0x3078));return new Uint8Array(_0x5e2bbf['buffer']);},_0x424654=_0x2c641a=>{const _0x555caa={},_0x208f7a=new _0x51d06a['DecoderBuf'+'fer']();_0x208f7a['Init'](_0x2c641a,_0x2c641a['length']);const _0x3e3827=new _0x51d06a['Decoder']();if(_0x3e3827['GetEncoded'+'GeometryTy'+'pe'](_0x208f7a)!==_0x51d06a['TRIANGULAR'+'_MESH'])return _0x555caa['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x555caa;const _0x52f202=new _0x51d06a['Mesh'](),_0x4d684c=_0x3e3827['DecodeBuff'+'erToMesh'](_0x208f7a,_0x52f202);if(!_0x4d684c||!_0x4d684c['ok']()||_0x51d06a['getPointer'](_0x52f202)===-0x1a22+-0x70f+0x125*0x1d)return _0x555caa['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x555caa;const _0x39e975=_0x52f202['num_faces']()*(0x845+0x3e8*-0x3+0x1*0x376),_0x399b55=_0x52f202['num_points']()<=0x8a1a+0x10557+0x7a*-0x12d,_0x5944ac=_0x39e975*(_0x399b55?0x1*0x727+-0x581*-0x1+-0xca6:-0x53d+0x1*0x47f+-0x1*-0xc2),_0x3085f6=_0x51d06a['_malloc'](_0x5944ac);_0x399b55?(_0x3e3827['GetTriangl'+'esUInt16Ar'+'ray'](_0x52f202,_0x5944ac,_0x3085f6),_0x555caa['indices']=new Uint16Array(_0x51d06a['HEAPU16']['buffer'],_0x3085f6,_0x39e975)['slice']()['buffer']):(_0x3e3827['GetTriangl'+'esUInt32Ar'+'ray'](_0x52f202,_0x5944ac,_0x3085f6),_0x555caa['indices']=new Uint32Array(_0x51d06a['HEAPU32']['buffer'],_0x3085f6,_0x39e975)['slice']()['buffer']),_0x51d06a['_free'](_0x3085f6);const _0x390e12=[];for(let _0xe7af1b=0x24*0xe9+0x32*0x78+-0x16*0x28e;_0xe7af1b<_0x52f202['num_attrib'+'utes']();++_0xe7af1b)_0x390e12['push'](_0x3e3827['GetAttribu'+'te'](_0x52f202,_0xe7af1b));_0x390e12['sort']((_0x37198a,_0x5c30dc)=>(_0x338f00[_0x37198a['attribute_'+'type']()]??_0x338f00['length'])-(_0x338f00[_0x5c30dc['attribute_'+'type']()]??_0x338f00['length'])),_0x555caa['attributes']=_0x390e12['map'](_0x2fb7a6=>_0x2fb7a6['unique_id']());let _0x1fa1b2=0x1828+-0x1ce6+0x4be;const _0x4f05cb=_0x390e12['map'](_0x49ec6a=>{const _0xc5eda2=_0x1fa1b2;return _0x1fa1b2+=Math['ceil'](_0x23635e(_0x49ec6a)/(0x58f*0x2+-0x2306+-0x1*-0x17ec))*(0xb7d+0x1f32+-0x2aab),_0xc5eda2;}),_0x5ad7df=_0x390e12['some'](_0x3b61c7=>_0x3b61c7['attribute_'+'type']()===-0x3*0x7de+0x3d9+0x13c2),_0x3d4464=_0x4f05cb[-0x2*-0x205+-0x90f+0x506];if(!_0x5ad7df){for(let _0x3d7477=0x19*-0x19+-0x16e7+0x7*0x39f;_0x3d7477<_0x4f05cb['length'];++_0x3d7477)_0x4f05cb[_0x3d7477]+=-0x45*-0x81+0x5d4+-0x288d;_0x1fa1b2+=0x580*0x7+-0x175d*0x1+-0xf17;}_0x555caa['vertices']=new ArrayBuffer(_0x52f202['num_points']()*_0x1fa1b2);const _0x3b82c3=new Uint8Array(_0x555caa['vertices']);for(let _0x113e76=-0x101d+0xcde+-0x3*-0x115;_0x113e76<_0x52f202['num_attrib'+'utes']();++_0x113e76){const _0xb9167=_0x390e12[_0x113e76],_0x38de81=_0x23635e(_0xb9167),_0x1fc7cb=_0x52f202['num_points']()*_0x38de81,_0x50f60e=_0x51d06a['_malloc'](_0x1fc7cb);_0x3e3827['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x52f202,_0xb9167,_0xb9167['data_type'](),_0x1fc7cb,_0x50f60e);const _0x635215=new Uint8Array(_0x51d06a['HEAPU8']['buffer'],_0x50f60e,_0x1fc7cb);for(let _0x5acd2b=0x1b4*0x14+-0x681*0x6+-0x4f6*-0x1;_0x5acd2b<_0x52f202['num_points']();++_0x5acd2b)for(let _0x58cd8e=0x14c1+0x9b7+-0x1e78;_0x58cd8e<_0x38de81;++_0x58cd8e)_0x3b82c3[_0x5acd2b*_0x1fa1b2+_0x4f05cb[_0x113e76]+_0x58cd8e]=_0x635215[_0x5acd2b*_0x38de81+_0x58cd8e];if(!_0x5ad7df&&_0xb9167['attribute_'+'type']()===0x174c+-0x218+0x17*-0xec){const _0x234a32=_0x51c87a(_0x54fdc0(_0x635215,_0xb9167['data_type']()),_0x399b55?new Uint16Array(_0x555caa['indices']):new Uint32Array(_0x555caa['indices']));for(let _0x116bc4=0x18*0x71+0x26a+0x6*-0x22b;_0x116bc4<_0x52f202['num_points']();++_0x116bc4)for(let _0x2a7f7c=0x38f*-0x7+-0x241*-0x1+0x16a8;_0x2a7f7c<-0x2107+0x1362*-0x1+0xd*0x409;++_0x2a7f7c)_0x3b82c3[_0x116bc4*_0x1fa1b2+_0x3d4464+_0x2a7f7c]=_0x234a32[_0x116bc4*(0x935*-0x1+0x426*0x9+-0x1c15)+_0x2a7f7c];}_0x51d06a['_free'](_0x50f60e);}return _0x51d06a['destroy'](_0x52f202),_0x51d06a['destroy'](_0x3e3827),_0x51d06a['destroy'](_0x208f7a),_0x555caa;},_0x477e98=_0x30db30=>{const _0x101efc=_0x424654(new Uint8Array(_0x30db30['buffer']));self['postMessag'+'e']({'jobId':_0x30db30['jobId'],'error':_0x101efc['error'],'indices':_0x101efc['indices'],'vertices':_0x101efc['vertices'],'attributes':_0x101efc['attributes']},[_0x101efc['indices'],_0x101efc['vertices']]['filter'](_0x1ad015=>_0x1ad015!=null));},_0x466c1d=[];self['onmessage']=_0x23aa2a=>{const _0x37ef7f=_0x23aa2a['data'];switch(_0x37ef7f['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x13eb5e,_0x268c41)=>(WebAssembly['instantiat'+'e'](_0x37ef7f['module'],_0x13eb5e)['then'](_0x407d01=>_0x268c41(_0x407d01))['catch'](_0x2a1b2b=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x2a1b2b)),{})})['then'](_0x3aee4d=>{_0x51d06a=_0x3aee4d,_0x466c1d['forEach'](_0x54b7ff=>_0x477e98(_0x54b7ff));});break;case'decodeMesh':_0x51d06a?_0x477e98(_0x37ef7f):_0x466c1d['push'](_0x37ef7f);break;}};}const Og=-0x1a65*-0x1+-0xa93+-0xfcf;class _D{constructor(){this['workers']=[[],[],[]],this['jobId']=0x21ad+0xadf+-0x2c8c,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x5a78d5,_0x177e0c)=>{_0x5a78d5['postMessag'+'e']({'type':'decodeMesh','jobId':_0x177e0c['jobId'],'buffer':_0x177e0c['buffer']},[_0x177e0c['buffer']]);};}['init'](_0x213377){for(_0x213377['forEach'](_0x31ca8c=>{_0x31ca8c['addEventLi'+'stener']('message',_0x2bf7d3=>{const _0x58f341=_0x2bf7d3['data'],_0x29d165=this['jobCallbac'+'ks']['get'](_0x58f341['jobId']);if(_0x29d165&&_0x29d165(_0x58f341['error'],{'indices':_0x58f341['indices'],'vertices':_0x58f341['vertices'],'attributes':_0x58f341['attributes']}),this['jobCallbac'+'ks']['delete'](_0x58f341['jobId']),this['jobQueue']['length']>0x6*-0x3c3+0x378+0x131a){const _0x73006=this['jobQueue']['shift']();this['run'](_0x31ca8c,_0x73006);}else{const _0x40c5f7=this['workers'][-0x1*-0xd3b+0x1*0x1ba5+-0x28de]['indexOf'](_0x31ca8c);if(_0x40c5f7!==-(-0x3*0x67f+0x397*0x6+-0x20c))this['workers'][0x366*0x1+-0xbea+0x1*0x886]['splice'](_0x40c5f7,0x2f*0xaa+-0x1ecc+0x7*-0xf),this['workers'][-0xfc*-0x19+-0x8a8*-0x2+-0x31*0xdb]['push'](_0x31ca8c);else{const _0x10f0d3=this['workers'][0x1*0x1145+0x380*0x5+0x4*-0x8b1]['indexOf'](_0x31ca8c);_0x10f0d3!==-(0x1723+-0x2008+0x8e6)?(this['workers'][0x21ef+-0x1*0x11c+-0x20d2]['splice'](_0x10f0d3,0x20e0+-0x43*0x56+-0xa5d*0x1),this['workers'][0x1*-0x1d9f+0x463+0x193c]['push'](_0x31ca8c)):b['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x22f0+0xc*0x32+0x2098]=_0x213377;this['jobQueue']['length']&&(this['workers'][-0xa8a+0x10*-0x19e+0x246a]['length']||this['workers'][0x607+-0x1a93+-0x148d*-0x1]['length']);){const _0x4e6214=this['jobQueue']['shift']();if(this['workers'][0x1d89+0x14*-0x17f+0x63]['length']>-0x1*-0x138b+0x1b46+-0x3*0xf9b){const _0x1744bf=this['workers'][0x1b14*-0x1+0x6f*-0xd+0x19*0x14f]['shift']();this['workers'][-0x1*-0x1f99+0x2405+-0x439d]['push'](_0x1744bf),this['run'](_0x1744bf,_0x4e6214);}else{const _0x3c06f1=this['workers'][-0x1ed8+0xf*-0x1bd+0x38ec]['shift']();this['workers'][-0x8*-0x260+0x1fa7+-0x32a5]['push'](_0x3c06f1),this['run'](_0x3c06f1,_0x4e6214);}}}['enqueueJob'](_0xa76de1,_0x24477f){const _0x3fa680={'jobId':this['jobId']++,'buffer':_0xa76de1};if(this['jobCallbac'+'ks']['set'](_0x3fa680['jobId'],_0x24477f),this['workers'][-0x1848+0x2214+-0xc*0xd1]['length']>-0xcc6*0x1+-0x2078+-0x169f*-0x2){const _0x170acc=this['workers'][-0x1695+0x1d8*0x12+0xb5*-0xf]['shift']();this['workers'][0x25a4+-0xaf4+-0x63*0x45]['push'](_0x170acc),this['run'](_0x170acc,_0x3fa680);}else{if(this['workers'][-0x1*0x369+-0x157*-0x1d+-0x2371]['length']>-0x95d+-0x138f+-0x3*-0x9a4){const _0x287c85=this['workers'][0x40+0x235*0x11+-0x25c4]['shift']();this['workers'][0x30*-0x3a+0x1*-0x2587+0x3069]['push'](_0x287c85),this['run'](_0x287c85,_0x3fa680);}else this['jobQueue']['push'](_0x3fa680);}}}const gD=_0xdffd4d=>new Promise((_0x499d2b,_0x45b585)=>{const _0x4307b1={'cache':!(-0x2644+0xb78+0x1acc),'responseType':'text','retry':Og>-0x11e6+0x4f2+0xcf4,'maxRetries':Og};Ye['get'](_0xdffd4d,_0x4307b1,(_0x4dd586,_0x1f08e5)=>{_0x4dd586?_0x45b585(_0x4dd586):_0x499d2b(_0x1f08e5);});}),yD=_0x5e9a59=>{const _0x8e8e9c=()=>fetch(_0x5e9a59)['then'](_0x250a2e=>_0x250a2e['arrayBuffe'+'r']())['then'](_0x489649=>WebAssembly['compile'](_0x489649)),_0x28487b=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x5e9a59))['catch'](_0x310e36=>(b['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x5e9a59+'\x20('+_0x310e36+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x8e8e9c()));return WebAssembly['compileStr'+'eaming']?_0x28487b():_0x8e8e9c();},Bg=0x225*-0x1+-0x10ed+0x13*0x101;let Th;const xD=_0x374575=>{if(Th)return!(-0x2148+-0x1dda*0x1+-0x2*-0x1f91);if(!_0x374575){const _0x13aa1a=oy['getConfig']('DracoDecod'+'erModule');_0x13aa1a?_0x374575={'jsUrl':_0x13aa1a['glueUrl'],'wasmUrl':_0x13aa1a['wasmUrl'],'numWorkers':_0x13aa1a['numWorkers']}:_0x374575={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':Bg};}return!_0x374575['jsUrl']||!_0x374575['wasmUrl']?!(0x24c1*-0x1+-0x14d+0x260f):(Th=new _D(),Promise['all']([gD(_0x374575['jsUrl']),yD(_0x374575['wasmUrl'])])['then'](([_0x34a8d7,_0x523daa])=>{const _0x2ddd28=['/*\x20draco\x20*'+'/',_0x34a8d7,'/*\x20worker\x20'+'*/','(\x0a'+mD['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x151522=new Blob([_0x2ddd28],{'type':'applicatio'+'n/javascri'+'pt'}),_0x412298=URL['createObje'+'ctURL'](_0x151522),_0x5d8976=Math['max'](-0x1cbe+-0x1179+-0x2e38*-0x1,Math['min'](-0x80e*-0x2+0x7cd*-0x1+-0x83f*0x1,_0x374575['numWorkers']||Bg)),_0x587b07=[];for(let _0x21b140=0x3*0x4a3+-0x169e+0x8b5;_0x21b140<_0x5d8976;++_0x21b140){const _0x52d605=new Worker(_0x412298);_0x52d605['postMessag'+'e']({'type':'init','module':_0x523daa}),_0x587b07['push'](_0x52d605);}Th['init'](_0x587b07);}),!(0x2a1*-0xe+0x121+0x23ad*0x1));},SD=(_0x55c114,_0x5f6297)=>xD()?(Th['enqueueJob'](_0x55c114,_0x5f6297),!(-0x2*-0x10bb+0x2*-0x1227+0x2d8)):!(0x797+0x17*-0x66+0x65*0x4);class vD{constructor(){c(this,'gltf'),c(this,'nodes'),c(this,'scenes'),c(this,'animations'),c(this,'textures'),c(this,'materials'),c(this,'variants'),c(this,'meshVarian'+'ts'),c(this,'meshDefaul'+'tMaterials'),c(this,'renders'),c(this,'skins'),c(this,'lights'),c(this,'cameras'),c(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x23892d=>{_0x23892d['meshes']=null;});}}const Ix=_0x44f5bd=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x44f5bd),bD=_0xe0cdc6=>_0xe0cdc6['substring'](_0xe0cdc6['indexOf'](':')+(0x1224+-0x9*0x41+-0xfda),_0xe0cdc6['indexOf'](';')),jo=_0x4812dd=>{switch(_0x4812dd){case'SCALAR':return 0x1*-0x2bd+-0x4*-0x40+0x1be;case'VEC2':return 0x6*-0x350+-0x581*-0x1+0x199*0x9;case'VEC3':return-0x1*-0x21bf+0x1*-0xd52+-0x146a;case'VEC4':return 0x1c47+-0x1*-0x1cbd+0x80*-0x72;case'MAT2':return-0x1*-0xd76+-0x13d*-0x5+-0x13a3;case'MAT3':return-0xe*0x160+0x2167+0x8b*-0x1a;case'MAT4':return 0x26da+-0x1d*0x41+-0x5*0x649;default:return 0x1290+0x2033+-0x7*0x740;}},id=_0x1a3cc1=>{switch(_0x1a3cc1){case-0x3*-0x739+-0x2*0xa89+0x1*0x1367:return Fc;case 0x1*-0xdf+-0x63*-0x9+-0x3d*-0x49:return Zr;case 0x36a*-0x4+0x4a9*-0x5+0x38f7:return kc;case 0x1dbe+0x7c0*-0x4+0x717*0x3:return rl;case 0x600+0x1ae7*-0x1+0x28eb*0x1:return Ny;case 0x1f2*0x8+-0x3*0x30b+-0x4a*-0x2f:return Oo;case-0x3fb+0x1495+0x36c:return Re;default:return-0x1404+0x14aa+0x53*-0x2;}},wD=_0xe58c95=>{switch(_0xe58c95){case 0x1c1b+0x1*0xad+-0x8c8:return 0xaf6+0x16ed*0x1+0x10f1*-0x2;case 0xa7*-0x26+0x5b6+0x2715:return 0xa*-0x65+-0x2419*0x1+0x280c;case-0x14e*0xc+-0x124+-0x1*-0x24ce:return 0x1*-0x1f01+0x18dc+0x7*0xe1;case 0x77*0x2b+0x2039*0x1+-0x2033*0x1:return 0x250b+0x1710+-0x1*0x3c19;case 0x161*-0x16+0xb1*-0x30+0x4ea*0x11:return-0x201d+-0x424+0x2445;case 0x1871*-0x1+-0x1787+0x43fd:return-0x233b*-0x1+-0x1c66+-0x6d1;case-0x192a+-0x33+0xf21*0x3:return 0x2*-0x134+-0x2696+0x2902;default:return 0x1494+-0x9*0x3ad+0x61*0x21;}},TD=_0x2797ec=>{switch(_0x2797ec){case-0x2*-0xcf2+0xef*-0x1d+0x152f:return Int8Array;case-0x1de2+0xc2f*-0x2+0x4a41:return Uint8Array;case-0x67d+-0x71*-0x44+0x1*-0x385:return Int16Array;case-0x1*-0x15ce+-0x3fb*0x2+0x62b*0x1:return Uint16Array;case 0x1*0x4ee+-0x9ad+-0x18c3*-0x1:return Int32Array;case-0x2*-0xa16+0x143d+0x24*-0x91:return Uint32Array;case 0x898+-0x1513+0x2081:return Float32Array;default:return null;}},nc={'POSITION':Xe,'NORMAL':ss,'TANGENT':si,'COLOR_0':It,'JOINTS_0':Jt,'WEIGHTS_0':ei,'TEXCOORD_0':ds,'TEXCOORD_1':yn,'TEXCOORD_2':Qo,'TEXCOORD_3':Jo,'TEXCOORD_4':el,'TEXCOORD_5':tl,'TEXCOORD_6':sl,'TEXCOORD_7':il},Ng={[Xe]:-0x72+-0x25a7+0xcb3*0x3,[ss]:-0xbc9+-0x2*0xfe6+-0x1*-0x2b96,[si]:-0x10e3+-0x1*-0x5f+-0x6*-0x2c1,[It]:0xf3*0x5+-0x5*-0x25f+0x1*-0x1097,[Jt]:0x1*-0x24a2+-0x3*-0x973+0x84d,[ei]:0x22ad+0x13cb*-0x1+0x1*-0xedd,[ds]:0x16d*0x13+0x3*0x9e8+0x38c9*-0x1,[yn]:0x37*0x6b+0x1b53+-0x3249*0x1,[Qo]:0x13e2+0x1833+-0x2c0d,[Jo]:0xa2d+-0xbc7+0x1a3*0x1,[el]:-0x1*-0x2176+-0x2f*-0x4+-0x2228,[tl]:-0x33c+0x1*0x13af+0x19*-0xa8,[sl]:0x26b1+0x640+-0x1*0x2ce5,[il]:-0x846+0xc6d*0x1+-0x1*0x41a},AD=_0x9af8fd=>{switch(_0x9af8fd){case Fc:return _0x1f9019=>Math['max'](_0x1f9019/(-0xe29+-0x791*-0x2+-0x7a),-(0x3*-0x400+0x3*-0xb60+0x31*0xf1));case Zr:return _0x2385ad=>_0x2385ad/(0x608+0xfd8+-0x1*0x14e1);case kc:return _0xc3ad5=>Math['max'](_0xc3ad5/(-0x39*-0x289+-0xf643+0xe5c1),-(-0x6*0x50e+0x18c7*0x1+0x58e));case rl:return _0x2b3d19=>_0x2b3d19/(0x1ce20+0x4*0x1f94+-0x14c71);default:return _0x5a1837=>_0x5a1837;}},wf=(_0x433727,_0x59b7f8,_0x1a1771)=>{const _0x55c1f2=AD(_0x1a1771),_0x2858b7=_0x59b7f8['length'];for(let _0x2df48c=0x14f7+0x1*-0x206b+0xb74;_0x2df48c<_0x2858b7;++_0x2df48c)_0x433727[_0x2df48c]=_0x55c1f2(_0x59b7f8[_0x2df48c]);return _0x433727;},rn=(_0x4ec827,_0x311423,_0x4cc3a0=!(-0x9eb+-0x2589+-0x2f75*-0x1))=>{const _0x36f9d5=jo(_0x4ec827['type']),_0x33ea19=TD(_0x4ec827['componentT'+'ype']);if(!_0x33ea19)return null;let _0xc8997c;if(_0x4ec827['sparse']){const _0x5752e9=_0x4ec827['sparse'],_0x45f683={'count':_0x5752e9['count'],'type':'SCALAR'},_0x1cb47e=rn(Object['assign'](_0x45f683,_0x5752e9['indices']),_0x311423,!(0x5*0x432+-0x8ce+-0xc2c)),_0x334c1b={'count':_0x5752e9['count'],'type':_0x4ec827['type'],'componentType':_0x4ec827['componentT'+'ype']},_0x3dbaf5=rn(Object['assign'](_0x334c1b,_0x5752e9['values']),_0x311423,!(0x2*0x6f5+0x25cf+0x33b9*-0x1));if(_0x4ec827['hasOwnProp'+'erty']('bufferView')){const _0x897f78={'bufferView':_0x4ec827['bufferView'],'byteOffset':_0x4ec827['byteOffset'],'componentType':_0x4ec827['componentT'+'ype'],'count':_0x4ec827['count'],'type':_0x4ec827['type']};_0xc8997c=rn(_0x897f78,_0x311423,!(0xb96*-0x3+-0x47*0x36+0x31bc))['slice']();}else _0xc8997c=new _0x33ea19(_0x4ec827['count']*_0x36f9d5);for(let _0xb5f3b9=-0x1*-0x11ea+0x1782+-0x14b6*0x2;_0xb5f3b9<_0x5752e9['count'];++_0xb5f3b9){const _0x918350=_0x1cb47e[_0xb5f3b9];for(let _0x2b6f6f=-0x20c0+-0x12*0x101+0x32d2;_0x2b6f6f<_0x36f9d5;++_0x2b6f6f)_0xc8997c[_0x918350*_0x36f9d5+_0x2b6f6f]=_0x3dbaf5[_0xb5f3b9*_0x36f9d5+_0x2b6f6f];}}else{if(_0x4ec827['hasOwnProp'+'erty']('bufferView')){const _0x1e5ac6=_0x311423[_0x4ec827['bufferView']];if(_0x4cc3a0&&_0x1e5ac6['hasOwnProp'+'erty']('byteStride')){const _0x4ac6f2=_0x36f9d5*_0x33ea19['BYTES_PER_'+'ELEMENT'],_0x207015=new ArrayBuffer(_0x4ec827['count']*_0x4ac6f2),_0x3eccb7=new Uint8Array(_0x207015);let _0x54564a=0xcd*0xf+0x1*0x37d+-0xf80;for(let _0x485a82=0x1*-0x10cd+-0x5e7*0x3+0x2282;_0x485a82<_0x4ec827['count'];++_0x485a82){let _0x2b1e70=(_0x4ec827['byteOffset']||-0x5*-0x58b+0x2159+-0x3d10)+_0x485a82*_0x1e5ac6['byteStride'];for(let _0x35b15d=0x117a*-0x1+0x1a60+-0x8e6;_0x35b15d<_0x4ac6f2;++_0x35b15d)_0x3eccb7[_0x54564a++]=_0x1e5ac6[_0x2b1e70++];}_0xc8997c=new _0x33ea19(_0x207015);}else _0xc8997c=new _0x33ea19(_0x1e5ac6['buffer'],_0x1e5ac6['byteOffset']+(_0x4ec827['byteOffset']||-0x5f1*0x3+-0x1*0x23f8+0x125*0x2f),_0x4ec827['count']*_0x36f9d5);}else _0xc8997c=new _0x33ea19(_0x4ec827['count']*_0x36f9d5);}return _0xc8997c;},ga=(_0x1e2c11,_0x5b1480)=>{const _0x59a444=rn(_0x1e2c11,_0x5b1480,!(0x1*0x223f+0x1f*-0x15+-0x1fb4));if(_0x59a444 instanceof Float32Array||!_0x1e2c11['normalized'])return _0x59a444;const _0x333569=new Float32Array(_0x59a444['length']);return wf(_0x333569,_0x59a444,id(_0x1e2c11['componentT'+'ype'])),_0x333569;},Tf=_0x46a739=>{let _0x336fc7=_0x46a739['min'],_0x45b2ed=_0x46a739['max'];if(!_0x336fc7||!_0x45b2ed)return null;if(_0x46a739['normalized']){const _0x4a2b83=id(_0x46a739['componentT'+'ype']);_0x336fc7=wf([],_0x336fc7,_0x4a2b83),_0x45b2ed=wf([],_0x45b2ed,_0x4a2b83);}return new ve(new A((_0x45b2ed[0x18f2+0x198f*0x1+0x737*-0x7]+_0x336fc7[0x125c+-0x1359*-0x1+-0x563*0x7])*(-0x1bb*-0x14+-0x25e7+0x34b+0.5),(_0x45b2ed[-0x8*0xce+-0x1*-0x698+-0x27]+_0x336fc7[0x154f+0x1da4+-0x2*0x1979])*(0x2206+-0xfcb*0x2+-0x270+0.5),(_0x45b2ed[-0x6a9+0x39*0x21+-0xae]+_0x336fc7[0x2068+-0x3*-0x713+-0x359f])*(0x1*-0x2513+-0x2*-0xc9e+0x1b1*0x7+0.5)),new A((_0x45b2ed[0x47d+-0xbe7*0x1+-0x1a*-0x49]-_0x336fc7[-0x19*-0xe5+-0x11c*-0x9+-0x2059])*(0x2380+-0x29*0xe5+0x12d+0.5),(_0x45b2ed[0x1d*0x56+-0x1dc1+0x7a*0x2a]-_0x336fc7[0x1f*0xa4+0x1b1e+-0xd*0x39d])*(0x513+-0x1a81+0x156e*0x1+0.5),(_0x45b2ed[0x1117+-0x1*-0x1501+-0x177*0x1a]-_0x336fc7[0x263e+-0x1*-0xe71+-0x1d*0x1d1])*(-0x1*-0x13f7+0x1a8f+-0x2e86+0.5)));},Dx=_0x51ea5c=>{if(!_0x51ea5c['hasOwnProp'+'erty']('mode'))return Fs;switch(_0x51ea5c['mode']){case 0x24ad+-0xc15*-0x3+-0x48ec:return Dc;case 0x1096+-0x6c6+-0x9cf:return Lc;case 0x5d+-0x1749+0x16ee:return Py;case 0x113+-0x2150+0x40*0x81:return Ry;case-0xf61*0x1+0x22e4+-0x2c9*0x7:return Fs;case 0x1c4d+-0x14d7*0x1+-0x771:return lr;case-0x240+-0x3*-0x399+-0x885:return Kr;default:return Fs;}},ED=_0x13ea8b=>{const _0x594c29=new Uint16Array(_0x13ea8b);for(let _0x3c0318=-0x99*-0x6+0x1cb5*-0x1+0x191f;_0x3c0318<_0x13ea8b;_0x3c0318++)_0x594c29[_0x3c0318]=_0x3c0318;return _0x594c29;},CD=(_0x5b3b90,_0x4d80e3)=>{const _0x258cba=_0x5b3b90[Xe];if(!_0x258cba||_0x258cba['components']!==0x3d*-0x7c+-0x1*-0x236b+-0x12c*0x5)return;let _0x16ed8c;if(_0x258cba['size']!==_0x258cba['stride']){const _0x49e860=_0x258cba['stride']/So[_0x258cba['type']],_0x27e020=new fa[_0x258cba['type']](_0x258cba['buffer'],_0x258cba['offset'],_0x258cba['count']*_0x49e860);_0x16ed8c=new fa[_0x258cba['type']](_0x258cba['count']*(-0x641+-0x21*-0x95+-0xcf1));for(let _0x40a5de=-0x2*0x327+-0x1*-0x19fd+0x1*-0x13af;_0x40a5de<_0x258cba['count'];++_0x40a5de)_0x16ed8c[_0x40a5de*(-0x134b*-0x1+0x1*0x2f7+-0x163f)+(0x1357+0x1bd2+0x1*-0x2f29)]=_0x27e020[_0x40a5de*_0x49e860+(0x84f+0x1a53+-0x22a2)],_0x16ed8c[_0x40a5de*(0x1*-0x132e+-0x1980+0x2cb1)+(-0xb*0x95+-0x1a7+0x1*0x80f)]=_0x27e020[_0x40a5de*_0x49e860+(-0x937+-0xa2+-0xc2*-0xd)],_0x16ed8c[_0x40a5de*(-0x1ab9+-0x79c*-0x1+-0x20*-0x99)+(0x2527+0x1b70+-0x4095)]=_0x27e020[_0x40a5de*_0x49e860+(0x3*-0x6e0+0x607*-0x5+-0x29*-0x13d)];}else _0x16ed8c=new fa[_0x258cba['type']](_0x258cba['buffer'],_0x258cba['offset'],_0x258cba['count']*(-0xf89+0x13*-0x97+0x8eb*0x3));const _0x21df69=_0x258cba['count'];_0x4d80e3||(_0x4d80e3=ED(_0x21df69));const _0x19f500=B0(_0x16ed8c,_0x4d80e3),_0x1de243=new Float32Array(_0x19f500['length']);_0x1de243['set'](_0x19f500),_0x5b3b90[ss]={'buffer':_0x1de243['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x21df69,'components':0x3,'type':Re};},MD=_0x482e67=>{const _0x3dc0bb=_0xaeca30=>{const _0x4e4fa9=[];for(let _0x3bcdee=-0x1*0xf4d+0x1d3f+-0xee*0xf;_0x3bcdee<_0xaeca30['_levels']['length'];++_0x3bcdee){let _0x119226=[];if(_0xaeca30['cubemap']){for(let _0x10d45c=-0x2365*-0x1+-0x2097*0x1+0x2ce*-0x1;_0x10d45c<-0x25c5+0x1*-0x2631+-0x12ff*-0x4;++_0x10d45c)_0x119226['push'](_0xaeca30['_levels'][_0x3bcdee][_0x10d45c]);}else _0x119226=_0xaeca30['_levels'][_0x3bcdee];_0x4e4fa9['push'](_0x119226);}return _0x4e4fa9;},_0x107911=new ce(_0x482e67['device'],_0x482e67);return _0x107911['_levels']=_0x3dc0bb(_0x482e67),_0x107911;},PD=_0x456237=>{const _0x229416=new he(_0x456237['name']+'_clone',_0x456237['type'],_0x456237['file'],_0x456237['data'],_0x456237['options']);return _0x229416['loaded']=!(0x1*0xdb1+0x15b4+-0x2365),_0x229416['resource']=MD(_0x456237['resource']),_0x456237['registry']['add'](_0x229416),_0x229416;},RD=(_0x38b93e,_0x4d8503)=>{const _0x109dce=_0x4d8503[Xe];if(!_0x109dce)return null;const _0x930265=_0x109dce['count'],_0x185443=[];for(const _0x18c8e2 in _0x4d8503)if(_0x4d8503['hasOwnProp'+'erty'](_0x18c8e2)){const _0x17d8bf={'semantic':_0x18c8e2,'components':_0x4d8503[_0x18c8e2]['components'],'type':_0x4d8503[_0x18c8e2]['type'],'normalize':!!_0x4d8503[_0x18c8e2]['normalize']};Dt['isElementV'+'alid'](_0x38b93e,_0x17d8bf)||_0x17d8bf['components']++,_0x185443['push'](_0x17d8bf);}_0x185443['sort']((_0x6ab7cc,_0x1217c9)=>Ng[_0x6ab7cc['semantic']]-Ng[_0x1217c9['semantic']]);let _0x158336,_0x27d438,_0x517a4e,_0x71fa3c,_0x5e7f26,_0xd295f3;const _0x10d34b=new Dt(_0x38b93e,_0x185443);let _0x70b0a8=!(-0x604+0x1*0x93e+-0x19d*0x2);for(_0x158336=-0x985+-0x260+0xbe5;_0x158336<_0x10d34b['elements']['length'];++_0x158336)if(_0x5e7f26=_0x10d34b['elements'][_0x158336],_0x71fa3c=_0x4d8503[_0x5e7f26['name']],_0xd295f3=_0x71fa3c['offset']-_0x109dce['offset'],_0x71fa3c['buffer']!==_0x109dce['buffer']||_0x71fa3c['stride']!==_0x5e7f26['stride']||_0x71fa3c['size']!==_0x5e7f26['size']||_0xd295f3!==_0x5e7f26['offset']){_0x70b0a8=!(0x1*-0xa3+0x95c*-0x3+-0xe5c*-0x2);break;}const _0x3037b5=new fs(_0x38b93e,_0x10d34b,_0x930265),_0x3b23bd=_0x3037b5['lock'](),_0x2552d8=new Uint32Array(_0x3b23bd);let _0x4123dc;if(_0x70b0a8)_0x4123dc=new Uint32Array(_0x109dce['buffer'],_0x109dce['offset'],_0x930265*_0x3037b5['format']['size']/(-0xc19*-0x1+0x2347+-0x2f5c)),_0x2552d8['set'](_0x4123dc);else{let _0x310169,_0x28ad0d;for(_0x158336=-0x33*-0xb9+0x34e+-0x2829;_0x158336<_0x3037b5['format']['elements']['length'];++_0x158336){_0x5e7f26=_0x3037b5['format']['elements'][_0x158336],_0x310169=_0x5e7f26['stride']/(-0xf*0x7e+-0x1e9a+0x2600),_0x71fa3c=_0x4d8503[_0x5e7f26['name']],_0x28ad0d=_0x71fa3c['stride']/(0xa22+0xf75+0x1993*-0x1),_0x4123dc=new Uint32Array(_0x71fa3c['buffer'],_0x71fa3c['offset'],(_0x71fa3c['count']-(-0x2*0x897+-0x185+0x12b4))*_0x28ad0d+(_0x71fa3c['size']+(-0x15a0+0x35*0xad+0xe2e*-0x1))/(0x218f+-0x1*0x146b+0xe*-0xf0));let _0xc1e3=0xfef+0xe36+-0x1e25,_0x467c65=_0x5e7f26['offset']/(0x616+0x6*0x378+-0x1ae2);const _0x36413a=Math['floor']((_0x71fa3c['size']+(0x1*0x255d+-0x1*-0x1442+-0x399c))/(0x254f+0x21e4+-0x472f));for(_0x27d438=0x83*-0x3d+0x2*-0xbdd+0x36f1;_0x27d438<_0x930265;++_0x27d438){for(_0x517a4e=0x0+0x44a+-0x44a;_0x517a4e<_0x36413a;++_0x517a4e)_0x2552d8[_0x467c65+_0x517a4e]=_0x4123dc[_0xc1e3+_0x517a4e];_0xc1e3+=_0x28ad0d,_0x467c65+=_0x310169;}}}return _0x3037b5['unlock'](),_0x3037b5;},ID=(_0x4fa5df,_0x58762a,_0x15439c,_0x3c7781,_0x2083ce,_0x16d59e)=>{const _0x5a3c9f={},_0x17922d=[];for(const _0x566784 in _0x58762a)_0x58762a['hasOwnProp'+'erty'](_0x566784)&&nc['hasOwnProp'+'erty'](_0x566784)&&(_0x5a3c9f[_0x566784]=_0x58762a[_0x566784],_0x17922d['push'](_0x566784+':'+_0x58762a[_0x566784]));_0x17922d['sort']();const _0x486a99=_0x17922d['join']();let _0x355639=_0x16d59e[_0x486a99];if(!_0x355639){const _0x275987={};for(const _0x2f7f17 in _0x5a3c9f){const _0x5b506a=_0x3c7781[_0x58762a[_0x2f7f17]],_0xeee546=rn(_0x5b506a,_0x2083ce),_0x406347=_0x2083ce[_0x5b506a['bufferView']],_0x9776da=nc[_0x2f7f17],_0x1b5aa8=jo(_0x5b506a['type'])*wD(_0x5b506a['componentT'+'ype']),_0x2d1ccc=_0x406347&&_0x406347['hasOwnProp'+'erty']('byteStride')?_0x406347['byteStride']:_0x1b5aa8;_0x275987[_0x9776da]={'buffer':_0xeee546['buffer'],'size':_0x1b5aa8,'offset':_0xeee546['byteOffset'],'stride':_0x2d1ccc,'count':_0x5b506a['count'],'components':jo(_0x5b506a['type']),'type':id(_0x5b506a['componentT'+'ype']),'normalize':_0x5b506a['normalized']};}_0x275987['hasOwnProp'+'erty'](ss)||CD(_0x275987,_0x15439c),_0x355639=RD(_0x4fa5df,_0x275987),_0x16d59e[_0x486a99]=_0x355639;}return _0x355639;},DD=(_0x5dd1a6,_0x4ce4e7,_0x226dd6,_0x5404e3,_0x34eeb5,_0x1c731b)=>{let _0x3cf73e,_0x49b677,_0x324cd8;const _0x357f02=_0x4ce4e7['joints'],_0x48c272=_0x357f02['length'],_0x450a6b=[];if(_0x4ce4e7['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x1c28a0=_0x4ce4e7['inverseBin'+'dMatrices'],_0x2e5613=rn(_0x226dd6[_0x1c28a0],_0x5404e3,!(-0x383*-0x3+0x3*-0x9f1+-0x1*-0x134a)),_0x48c2bd=[];for(_0x3cf73e=-0x1*-0x1da+-0x20*-0xce+-0x1b9a;_0x3cf73e<_0x48c272;_0x3cf73e++){for(_0x49b677=0x1*-0x1fcb+-0x161b+0x35e6*0x1;_0x49b677<-0x5*0x44f+0x77*-0x1c+-0x229f*-0x1;_0x49b677++)_0x48c2bd[_0x49b677]=_0x2e5613[_0x3cf73e*(0x3*0xb9e+-0x192b+-0x99f)+_0x49b677];_0x324cd8=new q(),_0x324cd8['set'](_0x48c2bd),_0x450a6b['push'](_0x324cd8);}}else{for(_0x3cf73e=-0x60d+-0xc08+0x1*0x1215;_0x3cf73e<_0x48c272;_0x3cf73e++)_0x324cd8=new q(),_0x450a6b['push'](_0x324cd8);}const _0x3279ad=[];for(_0x3cf73e=0x1*0x2278+0x1910+-0x7f*0x78;_0x3cf73e<_0x48c272;_0x3cf73e++)_0x3279ad[_0x3cf73e]=_0x34eeb5[_0x357f02[_0x3cf73e]]['name'];const _0x17f6a1=_0x3279ad['join']('#');let _0x5de31f=_0x1c731b['get'](_0x17f6a1);return _0x5de31f||(_0x5de31f=new z0(_0x5dd1a6,_0x450a6b,_0x3279ad),_0x1c731b['set'](_0x17f6a1,_0x5de31f)),_0x5de31f;},LD=(_0x296e8e,_0x5692fc,_0x357849,_0x502709,_0x5f0506,_0x4f6b64,_0x3252ec)=>{var _0x1b7bac;const _0x17de72=new ke(_0x296e8e);_0x17de72['aabb']=Tf(_0x357849[_0x5692fc['attributes']['POSITION']]);const _0x2b9956=[];for(const [_0x5d8295,_0x352044]of Object['entries'](_0x5692fc['attributes'])){const _0x5aa266=_0x357849[_0x352044],_0x2f7f7d=nc[_0x5d8295],_0x4585f4=id(_0x5aa266['componentT'+'ype']);_0x2b9956['push']({'semantic':_0x2f7f7d,'components':jo(_0x5aa266['type']),'type':_0x4585f4,'normalize':_0x5aa266['normalized']??(_0x2f7f7d===It&&(_0x4585f4===Zr||_0x4585f4===rl))});}if(_0x3252ec['push'](new Promise((_0x3096b4,_0xe9c10)=>{const _0x1e36ae=_0x5692fc['extensions']['KHR_draco_'+'mesh_compr'+'ession'];SD(_0x502709[_0x1e36ae['bufferView']]['slice']()['buffer'],(_0x5bc73a,_0x39e478)=>{var _0x3627bd;if(_0x5bc73a)console['log'](_0x5bc73a),_0xe9c10(_0x5bc73a);else{const _0xdb45cc={};for(const [_0x5289b5,_0xd5c823]of Object['entries'](_0x1e36ae['attributes']))_0xdb45cc[nc[_0x5289b5]]=_0x39e478['attributes']['indexOf'](_0xd5c823);_0x2b9956['sort']((_0x5720bf,_0x5d5a7e)=>_0xdb45cc[_0x5720bf['semantic']]-_0xdb45cc[_0x5d5a7e['semantic']]),(_0x3627bd=_0x5692fc['attributes'])!=null&&_0x3627bd['NORMAL']||_0x2b9956['splice'](-0x26aa+0x2bb+-0x170*-0x19,-0x1563+-0x3b*0x60+0x2b83,{'semantic':'NORMAL','components':0x3,'type':Re});const _0x3a1453=new Dt(_0x296e8e,_0x2b9956),_0x5b35f2=_0x39e478['vertices']['byteLength']/_0x3a1453['size'],_0x31b3d1=_0x5b35f2<=0x1a515+-0x7a9+-0x9d6d?Fi:or,_0x475ad3=_0x39e478['indices']['byteLength']/(_0x5b35f2<=0x3c*-0x710+-0x40a2*-0x4+0x11*0x18c7?0x15*0xe5+0xa3+-0x136a:-0x1ba0+0x2489*0x1+-0x8e5);b['call'](()=>{_0x5b35f2!==_0x357849[_0x5692fc['attributes']['POSITION']]['count']&&b['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x475ad3!==_0x357849[_0x5692fc['indices']]['count']&&b['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x249c96=new fs(_0x296e8e,_0x3a1453,_0x5b35f2,{'data':_0x39e478['vertices']}),_0x36d9f8=new cr(_0x296e8e,_0x31b3d1,_0x475ad3,ts,_0x39e478['indices']);_0x17de72['vertexBuff'+'er']=_0x249c96,_0x17de72['indexBuffe'+'r'][0x18b9*0x1+0x3ac*-0x8+0x4a7]=_0x36d9f8,_0x17de72['primitive'][0x1276+-0x1*0x459+-0xe1d]['type']=Dx(_0x5692fc),_0x17de72['primitive'][0x1470+-0xaf*0x31+0xd0f]['base']=-0x24f8+-0x150+0x2648,_0x17de72['primitive'][0x693+-0xb18+-0x59*-0xd]['count']=_0x36d9f8?_0x475ad3:_0x5b35f2,_0x17de72['primitive'][0x4e5+0x16*0xc7+0x3*-0x755]['indexed']=!!_0x36d9f8,_0x3096b4();}});})),(_0x1b7bac=_0x5692fc==null?void(0x1caf+0xa0e+-0x26bd):_0x5692fc['extensions'])!=null&&_0x1b7bac['KHR_materi'+'als_varian'+'ts']){const _0x37443b=_0x5692fc['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1b202a={};_0x37443b['mappings']['forEach'](_0xd88414=>{_0xd88414['variants']['forEach'](_0x339b89=>{_0x1b202a[_0x339b89]=_0xd88414['material'];});}),_0x5f0506[_0x17de72['id']]=_0x1b202a;}return _0x4f6b64[_0x17de72['id']]=_0x5692fc['material'],_0x17de72;},FD=(_0x3d6f61,_0x470ce7,_0x57c5f3,_0x477877,_0x3bb114,_0xa18716,_0x561ffb,_0x44c48b,_0x2e864c)=>{const _0xa952cd=[];return _0x470ce7['primitives']['forEach'](_0x36b7f8=>{var _0x186044;if((_0x186044=_0x36b7f8['extensions'])!=null&&_0x186044['KHR_draco_'+'mesh_compr'+'ession'])_0xa952cd['push'](LD(_0x3d6f61,_0x36b7f8,_0x57c5f3,_0x477877,_0xa18716,_0x561ffb,_0x2e864c));else{let _0x4c8b1e=_0x36b7f8['hasOwnProp'+'erty']('indices')?rn(_0x57c5f3[_0x36b7f8['indices']],_0x477877,!(-0x329*-0x5+-0x6*0x1c9+-0x517)):null;const _0x58ee6f=ID(_0x3d6f61,_0x36b7f8['attributes'],_0x4c8b1e,_0x57c5f3,_0x477877,_0x3bb114),_0x2e08b6=Dx(_0x36b7f8),_0x5d2683=new ke(_0x3d6f61);if(_0x5d2683['vertexBuff'+'er']=_0x58ee6f,_0x5d2683['primitive'][-0x3*-0x875+0x175e+0x1*-0x30bd]['type']=_0x2e08b6,_0x5d2683['primitive'][0x1*0x1cad+-0xa*0x30f+-0xa3*-0x3]['base']=-0x2273+-0x9*0x27f+-0x1d6*-0x1f,_0x5d2683['primitive'][-0xd38*0x2+-0x3*0x673+0x2dc9]['indexed']=_0x4c8b1e!==null,_0x4c8b1e!==null){let _0x54b5df;_0x4c8b1e instanceof Uint8Array?_0x54b5df=yu:_0x4c8b1e instanceof Uint16Array?_0x54b5df=Fi:_0x54b5df=or,_0x54b5df===yu&&_0x3d6f61['isWebGPU']&&(_0x54b5df=Fi,_0x4c8b1e=new Uint16Array(_0x4c8b1e));const _0x30b441=new cr(_0x3d6f61,_0x54b5df,_0x4c8b1e['length'],ts,_0x4c8b1e);_0x5d2683['indexBuffe'+'r'][0xe5f*-0x1+0x2*-0xf5b+-0x3*-0xf07]=_0x30b441,_0x5d2683['primitive'][-0x1ae2+0x4aa+0x1638]['count']=_0x4c8b1e['length'];}else _0x5d2683['primitive'][-0x3ef*-0x9+-0x18ba+-0xaad]['count']=_0x58ee6f['numVertice'+'s'];if(_0x36b7f8['hasOwnProp'+'erty']('extensions')&&_0x36b7f8['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x339555=_0x36b7f8['extensions']['KHR_materi'+'als_varian'+'ts'],_0x34b875={};_0x339555['mappings']['forEach'](_0x5580d0=>{_0x5580d0['variants']['forEach'](_0x5e8368=>{_0x34b875[_0x5e8368]=_0x5580d0['material'];});}),_0xa18716[_0x5d2683['id']]=_0x34b875;}_0x561ffb[_0x5d2683['id']]=_0x36b7f8['material'];let _0x3b62c2=_0x57c5f3[_0x36b7f8['attributes']['POSITION']];if(_0x5d2683['aabb']=Tf(_0x3b62c2),_0x36b7f8['hasOwnProp'+'erty']('targets')){const _0x2161c6=[];_0x36b7f8['targets']['forEach']((_0x3e70fd,_0x487e95)=>{const _0x1cdb80={};_0x3e70fd['hasOwnProp'+'erty']('POSITION')&&(_0x3b62c2=_0x57c5f3[_0x3e70fd['POSITION']],_0x1cdb80['deltaPosit'+'ions']=ga(_0x3b62c2,_0x477877),_0x1cdb80['aabb']=Tf(_0x3b62c2)),_0x3e70fd['hasOwnProp'+'erty']('NORMAL')&&(_0x3b62c2=_0x57c5f3[_0x3e70fd['NORMAL']],_0x1cdb80['deltaNorma'+'ls']=ga(_0x3b62c2,_0x477877)),_0x470ce7['hasOwnProp'+'erty']('extras')&&_0x470ce7['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x1cdb80['name']=_0x470ce7['extras']['targetName'+'s'][_0x487e95]:_0x1cdb80['name']=_0x487e95['toString'](-0x3a*-0x52+0x1067+-0x22f1),_0x470ce7['hasOwnProp'+'erty']('weights')&&(_0x1cdb80['defaultWei'+'ght']=_0x470ce7['weights'][_0x487e95]),_0x1cdb80['preserveDa'+'ta']=_0x44c48b['morphPrese'+'rveData'],_0x2161c6['push'](new sd(_0x1cdb80));}),_0x5d2683['morph']=new k0(_0x2161c6,_0x3d6f61,{'preferHighPrecision':_0x44c48b['morphPrefe'+'rHighPreci'+'sion']});}_0xa952cd['push'](_0x5d2683);}}),_0xa952cd;},xt=(_0x1cb551,_0x40df97,_0x2626fe)=>{var _0x365c57;let _0x2125fe;const _0x442433=_0x1cb551['texCoord'];if(_0x442433){for(_0x2125fe=0x1391+-0x493*-0x1+0x19c*-0xf;_0x2125fe<_0x2626fe['length'];++_0x2125fe)_0x40df97[_0x2626fe[_0x2125fe]+'MapUv']=_0x442433;}const _0x34c828=[-0x1ed5+-0xf28+0x3d*0xc1,0x1064+0x15b1+-0x2615*0x1],_0x2041f6=[-0x18d0+-0xa*-0x3bf+-0x1*0xca5,-0x1d3*-0x7+-0xbb9+0x1*-0x10b],_0x26cc2e=(_0x365c57=_0x1cb551['extensions'])==null?void(0xf27+0xdb*-0x3+-0x12*0xb3):_0x365c57['KHR_textur'+'e_transfor'+'m'];if(_0x26cc2e){const _0x12329f=_0x26cc2e['offset']||_0x34c828,_0x406c1d=_0x26cc2e['scale']||_0x2041f6,_0x1521fd=_0x26cc2e['rotation']?-_0x26cc2e['rotation']*z['RAD_TO_DEG']:-0x494*-0x7+-0x6*-0x55d+-0x201d*0x2,_0x3b002b=new W(_0x406c1d[0x4*-0x391+-0x5a7*-0x1+0x89d],_0x406c1d[0x83*-0x40+-0x2150+0x515*0xd]),_0x3130ba=new W(_0x12329f[-0xd*0x29e+-0x606+-0x4*-0xa03],0x128f+-0x1e7e+0xbf0-_0x406c1d[-0x1a18+-0x14c4+0x2edd]-_0x12329f[0x7e5*0x4+0x515*-0x2+0x1*-0x1569]);for(_0x2125fe=-0x283+-0x15b6*-0x1+-0x5*0x3d7;_0x2125fe<_0x2626fe['length'];++_0x2125fe)_0x40df97[_0x2626fe[_0x2125fe]+'MapTiling']=_0x3b002b,_0x40df97[_0x2626fe[_0x2125fe]+'MapOffset']=_0x3130ba,_0x40df97[_0x2626fe[_0x2125fe]+('MapRotatio'+'n')]=_0x1521fd;}},kD=(_0x5ee3d0,_0x2e7944,_0x1a286c)=>{let _0x327341,_0x6511fd;if(_0x5ee3d0['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x327341=_0x5ee3d0['diffuseFac'+'tor'],_0x2e7944['diffuse']['set'](Math['pow'](_0x327341[0x1851+-0x536*-0x5+0x1*-0x325f],(-0xbac+-0xd*-0x95+0x41c)/(0x15*0x1a6+-0x1aa4+-0xa*0xcc+0.20000000000000018)),Math['pow'](_0x327341[0x201e+0x15da+-0x5*0xacb],(0x17fc+0x491*-0x1+-0x8e*0x23)/(0x7fb+-0x1d0d+0x1514+0.20000000000000018)),Math['pow'](_0x327341[0x5c5+-0x576*0x5+0x158b*0x1],(0x748+-0x232b+0x1be4)/(0x66e*-0x3+0xe28+0x524+0.20000000000000018))),_0x2e7944['opacity']=_0x327341[-0x1*0xb03+-0x1f90+0x2a96]):(_0x2e7944['diffuse']['set'](-0x1*0x23f3+0xa*-0x2c4+0xec*0x45,0x90c*-0x4+-0x1fd*0xd+0x3e0a,-0x19ed+-0x32*-0xa7+-0x8*0xd6),_0x2e7944['opacity']=0xd*-0x1b7+0xa*0x2b3+0x1*-0x4b2),_0x5ee3d0['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x4343a2=_0x5ee3d0['diffuseTex'+'ture'];_0x6511fd=_0x1a286c[_0x4343a2['index']],_0x2e7944['diffuseMap']=_0x6511fd,_0x2e7944['diffuseMap'+'Channel']='rgb',_0x2e7944['opacityMap']=_0x6511fd,_0x2e7944['opacityMap'+'Channel']='a',xt(_0x4343a2,_0x2e7944,['diffuse','opacity']);}if(_0x2e7944['useMetalne'+'ss']=!(0x1*-0x1421+-0x2047*0x1+0x3469),_0x5ee3d0['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x327341=_0x5ee3d0['specularFa'+'ctor'],_0x2e7944['specular']['set'](Math['pow'](_0x327341[0x5f2*-0x3+0x1dfe+-0xc28],(-0x2601+-0x1e8*0x1+0x6*0x6a7)/(0x114*-0x3+-0xb3*0x19+0x14b9+0.20000000000000018)),Math['pow'](_0x327341[-0x43*-0x94+0x197+-0x2852],(-0x1581+0x1c16+-0x694*0x1)/(-0x1f1+-0xcfe+0xef1+0.20000000000000018)),Math['pow'](_0x327341[0xb99*0x1+0x1e33+-0x29ca],(-0x1*0x2cb+0x2167+-0x1e9b*0x1)/(0x49c+-0x14a7+0x100d*0x1+0.20000000000000018)))):_0x2e7944['specular']['set'](-0x124a*0x2+-0xbb*0x1b+-0x1*-0x384e,0x216a+-0x1*-0xca1+-0x2e0a,-0x1a36+-0x1974+0x1*0x33ab),_0x5ee3d0['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x2e7944['gloss']=_0x5ee3d0['glossiness'+'Factor']:_0x2e7944['gloss']=-0x9bc+0x22f4+-0x50b*0x5,_0x5ee3d0['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x39f96f=_0x5ee3d0['specularGl'+'ossinessTe'+'xture'];_0x2e7944['specularEn'+'coding']='srgb',_0x2e7944['specularMa'+'p']=_0x2e7944['glossMap']=_0x1a286c[_0x39f96f['index']],_0x2e7944['specularMa'+'pChannel']='rgb',_0x2e7944['glossMapCh'+'annel']='a',xt(_0x39f96f,_0x2e7944,['gloss','metalness']);}},OD=(_0x29effc,_0x53319a,_0x40f47c)=>{if(_0x29effc['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x53319a['clearCoat']=_0x29effc['clearcoatF'+'actor']*(0x2b*-0x41+0x1*-0x1c63+0x274e*0x1+0.25):_0x53319a['clearCoat']=0x1*0xdfd+0x48c+0xd*-0x16d,_0x29effc['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x4f4597=_0x29effc['clearcoatT'+'exture'];_0x53319a['clearCoatM'+'ap']=_0x40f47c[_0x4f4597['index']],_0x53319a['clearCoatM'+'apChannel']='r',xt(_0x4f4597,_0x53319a,['clearCoat']);}if(_0x29effc['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x53319a['clearCoatG'+'loss']=_0x29effc['clearcoatR'+'oughnessFa'+'ctor']:_0x53319a['clearCoatG'+'loss']=-0x273+0x2252+-0xc7*0x29,_0x29effc['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0xb93ec7=_0x29effc['clearcoatR'+'oughnessTe'+'xture'];_0x53319a['clearCoatG'+'lossMap']=_0x40f47c[_0xb93ec7['index']],_0x53319a['clearCoatG'+'lossMapCha'+'nnel']='g',xt(_0xb93ec7,_0x53319a,['clearCoatG'+'loss']);}if(_0x29effc['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x392786=_0x29effc['clearcoatN'+'ormalTextu'+'re'];_0x53319a['clearCoatN'+'ormalMap']=_0x40f47c[_0x392786['index']],xt(_0x392786,_0x53319a,['clearCoatN'+'ormal']),_0x392786['hasOwnProp'+'erty']('scale')&&(_0x53319a['clearCoatB'+'umpiness']=_0x392786['scale']);}_0x53319a['clearCoatG'+'lossInvert']=!(-0x1e*-0x4b+0x6dd+0xfa7*-0x1);},BD=(_0x2bacf0,_0x1a67d9,_0x356e83)=>{_0x1a67d9['useLightin'+'g']=!(0x1631+0x1*-0x8ae+0x5b*-0x26),_0x1a67d9['emissive']['copy'](_0x1a67d9['diffuse']),_0x1a67d9['emissiveMa'+'p']=_0x1a67d9['diffuseMap'],_0x1a67d9['emissiveMa'+'pUv']=_0x1a67d9['diffuseMap'+'Uv'],_0x1a67d9['emissiveMa'+'pTiling']['copy'](_0x1a67d9['diffuseMap'+'Tiling']),_0x1a67d9['emissiveMa'+'pOffset']['copy'](_0x1a67d9['diffuseMap'+'Offset']),_0x1a67d9['emissiveMa'+'pRotation']=_0x1a67d9['diffuseMap'+'Rotation'],_0x1a67d9['emissiveMa'+'pChannel']=_0x1a67d9['diffuseMap'+'Channel'],_0x1a67d9['emissiveVe'+'rtexColor']=_0x1a67d9['diffuseVer'+'texColor'],_0x1a67d9['emissiveVe'+'rtexColorC'+'hannel']=_0x1a67d9['diffuseVer'+'texColorCh'+'annel'],_0x1a67d9['useLightin'+'g']=!(0xeb7*-0x1+0x53*0x17+-0x743*-0x1),_0x1a67d9['useSkybox']=!(0x26*0x1f+0x1d04+0x6b9*-0x5),_0x1a67d9['diffuse']['set'](0x1*-0x6fe+-0x7*0x81+0xa86,-0x419*0x2+0x1*0x16f9+-0xec6,0xd91+-0x1*-0x244c+-0x31dc),_0x1a67d9['diffuseMap']=null,_0x1a67d9['diffuseVer'+'texColor']=!(0xd*-0x28d+0x22e4+-0x2*0xdd);},ND=(_0x5daf32,_0x3d41c9,_0x5855c5)=>{if(_0x3d41c9['useMetalne'+'ssSpecular'+'Color']=!(-0x1002+0x1994*0x1+-0xf5*0xa),_0x5daf32['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x3d41c9['specularEn'+'coding']='srgb',_0x3d41c9['specularMa'+'p']=_0x5855c5[_0x5daf32['specularCo'+'lorTexture']['index']],_0x3d41c9['specularMa'+'pChannel']='rgb',xt(_0x5daf32['specularCo'+'lorTexture'],_0x3d41c9,['specular'])),_0x5daf32['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x11ea67=_0x5daf32['specularCo'+'lorFactor'];_0x3d41c9['specular']['set'](Math['pow'](_0x11ea67[0x102a*-0x2+0x16fb+-0x959*-0x1],(0xf52+0x7ee+-0x173f)/(-0x3d1*0x4+0x21c2+-0x1c*0xa9+0.20000000000000018)),Math['pow'](_0x11ea67[0x632+-0x326*-0x5+-0x15ef],(0x1*0x1051+-0x2e8+-0x4e*0x2c)/(0x1*0x2416+0x57a*0x4+-0x39fc+0.20000000000000018)),Math['pow'](_0x11ea67[-0x11*0xec+-0x17d2+0x2780],(0x532+0x7*-0x2e7+0x790*0x2)/(-0x2f0*-0x8+0xb6+-0x1834+0.20000000000000018)));}else _0x3d41c9['specular']['set'](-0x2299+0x5*-0x5c3+-0x1*-0x3f69,-0x3*-0x749+0x11a1*0x2+0x1ae*-0x22,0x62*0x10+-0x41d+-0x202);_0x5daf32['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x3d41c9['specularit'+'yFactor']=_0x5daf32['specularFa'+'ctor']:_0x3d41c9['specularit'+'yFactor']=0xf03+-0x502+-0xa00,_0x5daf32['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x3d41c9['specularit'+'yFactorMap'+'Channel']='a',_0x3d41c9['specularit'+'yFactorMap']=_0x5855c5[_0x5daf32['specularTe'+'xture']['index']],xt(_0x5daf32['specularTe'+'xture'],_0x3d41c9,['specularit'+'yFactor']));},zD=(_0x2c190a,_0x565e35,_0xf9fb35)=>{_0x2c190a['hasOwnProp'+'erty']('ior')&&(_0x565e35['refraction'+'Index']=(0x7*0x475+-0x661+-0x18d1)/_0x2c190a['ior']);},UD=(_0x475251,_0x110e93,_0x1f540a)=>{_0x475251['hasOwnProp'+'erty']('dispersion')&&(_0x110e93['dispersion']=_0x475251['dispersion']);},VD=(_0x6c0687,_0x4b588c,_0x3dd354)=>{_0x4b588c['blendType']=Gt,_0x4b588c['useDynamic'+'Refraction']=!(0x221a+0x14f*-0x1d+0xc5*0x5),_0x6c0687['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x4b588c['refraction']=_0x6c0687['transmissi'+'onFactor']),_0x6c0687['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x4b588c['refraction'+'MapChannel']='r',_0x4b588c['refraction'+'Map']=_0x3dd354[_0x6c0687['transmissi'+'onTexture']['index']],xt(_0x6c0687['transmissi'+'onTexture'],_0x4b588c,['refraction']));},GD=(_0x539019,_0x2a1b87,_0x21294f)=>{if(_0x2a1b87['useSheen']=!(-0x1*0xc34+0x1*-0x797+0x13cb),_0x539019['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x48dc2a=_0x539019['sheenColor'+'Factor'];_0x2a1b87['sheen']['set'](Math['pow'](_0x48dc2a[0xdc7+-0xa7*-0x5+0x110a*-0x1],(0x2c3*0x2+-0xb85+-0x180*-0x4)/(0x2*0xc2b+-0x824*0x1+0x94*-0x1c+0.20000000000000018)),Math['pow'](_0x48dc2a[0x1b73+-0x1d99+0x227],(-0x1*0x190d+0x6e*-0x2b+-0x571*-0x8)/(0x14dc+0x269c*0x1+-0x3b76+0.20000000000000018)),Math['pow'](_0x48dc2a[0x1087*-0x1+0x982+-0x707*-0x1],(-0x1*0x170b+-0x1*-0x1cbb+-0x5af)/(-0x1468+-0x3ad*0x1+0x1817*0x1+0.20000000000000018)));}else _0x2a1b87['sheen']['set'](-0x11d1+-0x190e+-0x1*-0x2ae0,-0x1a04+0x860+-0x11a5*-0x1,0x14a1+-0x7*-0x341+-0x2b67*0x1);_0x539019['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x2a1b87['sheenMap']=_0x21294f[_0x539019['sheenColor'+'Texture']['index']],_0x2a1b87['sheenEncod'+'ing']='srgb',xt(_0x539019['sheenColor'+'Texture'],_0x2a1b87,['sheen'])),_0x2a1b87['sheenGloss']=_0x539019['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x539019['sheenRough'+'nessFactor']:0xfe*-0x16+0x141*-0x1f+0x3cb3,_0x539019['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x2a1b87['sheenGloss'+'Map']=_0x21294f[_0x539019['sheenRough'+'nessTextur'+'e']['index']],_0x2a1b87['sheenGloss'+'MapChannel']='a',xt(_0x539019['sheenRough'+'nessTextur'+'e'],_0x2a1b87,['sheenGloss'])),_0x2a1b87['sheenGloss'+'Invert']=!(0x15cd+-0xb5*-0x31+-0x3872);},HD=(_0x43365b,_0x413cd7,_0x56a3e7)=>{if(_0x413cd7['blendType']=Gt,_0x413cd7['useDynamic'+'Refraction']=!(-0x3*0x85a+-0x287*0x1+0x1b95*0x1),_0x43365b['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x413cd7['thickness']=_0x43365b['thicknessF'+'actor']),_0x43365b['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x413cd7['thicknessM'+'ap']=_0x56a3e7[_0x43365b['thicknessT'+'exture']['index']],_0x413cd7['thicknessM'+'apChannel']='g',xt(_0x43365b['thicknessT'+'exture'],_0x413cd7,['thickness'])),_0x43365b['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x413cd7['attenuatio'+'nDistance']=_0x43365b['attenuatio'+'nDistance']),_0x43365b['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x4cfc64=_0x43365b['attenuatio'+'nColor'];_0x413cd7['attenuatio'+'n']['set'](Math['pow'](_0x4cfc64[0x12e9+0x1*0x20b1+-0x339a],(0x714+0x97f+-0x586*0x3)/(0x1a45+-0x17ac+0xdd*-0x3+0.20000000000000018)),Math['pow'](_0x4cfc64[-0x22ab+-0x13c0+0x366c],(0x11*0x215+0x2495+-0x47f9)/(-0x1904+-0x1f3a+0x6*0x960+0.20000000000000018)),Math['pow'](_0x4cfc64[0xab*0x1f+0x1314+-0x27c7],(-0x17f+0x23de+-0x225e)/(-0x52e+0x7b*0x7+0x1*0x1d3+0.20000000000000018)));}},WD=(_0x341207,_0x46ad70,_0x94e314)=>{_0x341207['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x46ad70['emissiveIn'+'tensity']=_0x341207['emissiveSt'+'rength']);},$D=(_0x3259b2,_0x800e32,_0x6a00bf)=>{_0x800e32['useIridesc'+'ence']=!(0x1*-0x17d5+0x1a80+-0x1*0x2ab),_0x3259b2['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x800e32['iridescenc'+'e']=_0x3259b2['iridescenc'+'eFactor']),_0x3259b2['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x800e32['iridescenc'+'eMapChanne'+'l']='r',_0x800e32['iridescenc'+'eMap']=_0x6a00bf[_0x3259b2['iridescenc'+'eTexture']['index']],xt(_0x3259b2['iridescenc'+'eTexture'],_0x800e32,['iridescenc'+'e'])),_0x3259b2['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x800e32['iridescenc'+'eRefractio'+'nIndex']=_0x3259b2['iridescenc'+'eIor']),_0x3259b2['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x800e32['iridescenc'+'eThickness'+'Min']=_0x3259b2['iridescenc'+'eThickness'+'Minimum']),_0x3259b2['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x800e32['iridescenc'+'eThickness'+'Max']=_0x3259b2['iridescenc'+'eThickness'+'Maximum']),_0x3259b2['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x800e32['iridescenc'+'eThickness'+'MapChannel']='g',_0x800e32['iridescenc'+'eThickness'+'Map']=_0x6a00bf[_0x3259b2['iridescenc'+'eThickness'+'Texture']['index']],xt(_0x3259b2['iridescenc'+'eThickness'+'Texture'],_0x800e32,['iridescenc'+'eThickness']));},Lx=(_0x552730,_0x40c3d6)=>{const _0x304c0a=new _s();_0x552730['hasOwnProp'+'erty']('name')&&(_0x304c0a['name']=_0x552730['name']),_0x304c0a['occludeSpe'+'cular']=Vo,_0x304c0a['diffuseVer'+'texColor']=!(0x3*-0xbe3+0x11f*-0xd+0x323c),_0x304c0a['specularTi'+'nt']=!(-0x2fb*-0x6+0x2*-0xf71+0xd00),_0x304c0a['specularVe'+'rtexColor']=!(-0x14*0xf7+-0x19db+-0xf0d*-0x3),_0x304c0a['specular']['set'](-0x2453*0x1+0x259e+-0x14a,0x11*-0x1a5+-0x1*-0x17d3+0x423,-0xd2b+-0x806+0x1532),_0x304c0a['gloss']=0x2503+0x1925*0x1+-0x3e27,_0x304c0a['glossInver'+'t']=!(0x8*-0x18e+0x125*-0x1f+0x2feb),_0x304c0a['useMetalne'+'ss']=!(0xf4e*0x1+-0x1*0x1065+0x117);let _0x3aee6e,_0x43eb9a;if(_0x552730['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x411494=_0x552730['pbrMetalli'+'cRoughness'];if(_0x411494['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x3aee6e=_0x411494['baseColorF'+'actor'],_0x304c0a['diffuse']['set'](Math['pow'](_0x3aee6e[0x2690+0xb7c+-0x320c],(0x34a+0x1371+0x2*-0xb5d)/(-0xc9*0x4+-0x29d*0x1+0x5c3+0.20000000000000018)),Math['pow'](_0x3aee6e[0x1*-0x63e+-0x1*0xb03+-0x2f*-0x5e],(-0x315*-0x9+-0x9b7*0x3+0x169)/(0x239*0x1+0x1*-0x19eb+-0x17b4*-0x1+0.20000000000000018)),Math['pow'](_0x3aee6e[0x18c9+-0x1f97+-0x6d*-0x10],(0x8*-0x134+-0x96b*-0x1+0x36)/(-0xf8*0x9+-0x1864+0x211e+0.20000000000000018))),_0x304c0a['opacity']=_0x3aee6e[0x27*0x82+-0x1*-0x469+-0x1834]),_0x411494['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x415cc1=_0x411494['baseColorT'+'exture'];_0x43eb9a=_0x40c3d6[_0x415cc1['index']],_0x304c0a['diffuseMap']=_0x43eb9a,_0x304c0a['diffuseMap'+'Channel']='rgb',_0x304c0a['opacityMap']=_0x43eb9a,_0x304c0a['opacityMap'+'Channel']='a',xt(_0x415cc1,_0x304c0a,['diffuse','opacity']);}if(_0x411494['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x304c0a['metalness']=_0x411494['metallicFa'+'ctor']),_0x411494['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x304c0a['gloss']=_0x411494['roughnessF'+'actor']),_0x411494['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x30e668=_0x411494['metallicRo'+'ughnessTex'+'ture'];_0x304c0a['metalnessM'+'ap']=_0x304c0a['glossMap']=_0x40c3d6[_0x30e668['index']],_0x304c0a['metalnessM'+'apChannel']='b',_0x304c0a['glossMapCh'+'annel']='g',xt(_0x30e668,_0x304c0a,['gloss','metalness']);}}if(_0x552730['hasOwnProp'+'erty']('normalText'+'ure')){const _0xd92033=_0x552730['normalText'+'ure'];_0x304c0a['normalMap']=_0x40c3d6[_0xd92033['index']],xt(_0xd92033,_0x304c0a,['normal']),_0xd92033['hasOwnProp'+'erty']('scale')&&(_0x304c0a['bumpiness']=_0xd92033['scale']);}if(_0x552730['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x5949a8=_0x552730['occlusionT'+'exture'];_0x304c0a['aoMap']=_0x40c3d6[_0x5949a8['index']],_0x304c0a['aoMapChann'+'el']='r',xt(_0x5949a8,_0x304c0a,['ao']);}if(_0x552730['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x3aee6e=_0x552730['emissiveFa'+'ctor'],_0x304c0a['emissive']['set'](Math['pow'](_0x3aee6e[-0x2006+0x177f+-0x1*-0x887],(-0x9e6+0xa98*-0x3+-0xde5*-0x3)/(0x2564+-0x204+-0x235e+0.20000000000000018)),Math['pow'](_0x3aee6e[0x1947+0x5*0x115+-0x1eaf],(0xed*-0xb+0x1dea+-0x13ba)/(0x7f*0x3b+-0x196f+-0x23*0x1c+0.20000000000000018)),Math['pow'](_0x3aee6e[0x1*-0x123+0xd79+0x3*-0x41c],(-0xa49+-0x1*0x23ad+0x2df7)/(-0xafb+0x62a+-0x4d3*-0x1+0.20000000000000018)))),_0x552730['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x28212c=_0x552730['emissiveTe'+'xture'];_0x304c0a['emissiveMa'+'p']=_0x40c3d6[_0x28212c['index']],xt(_0x28212c,_0x304c0a,['emissive']);}if(_0x552730['hasOwnProp'+'erty']('alphaMode'))switch(_0x552730['alphaMode']){case'MASK':_0x304c0a['blendType']=hs,_0x552730['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x304c0a['alphaTest']=_0x552730['alphaCutof'+'f']:_0x304c0a['alphaTest']=-0x3*0xab1+-0xcc7*-0x1+-0x2*-0x9a6+0.5;break;case'BLEND':_0x304c0a['blendType']=Gt,_0x304c0a['depthWrite']=!(0x1463+-0xb8e+0x235*-0x4);break;default:case'OPAQUE':_0x304c0a['blendType']=hs;break;}else _0x304c0a['blendType']=hs;_0x552730['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x304c0a['twoSidedLi'+'ghting']=_0x552730['doubleSide'+'d'],_0x304c0a['cull']=_0x552730['doubleSide'+'d']?vt:nn):(_0x304c0a['twoSidedLi'+'ghting']=!(0x24c5+0x1c8e+0x12*-0x3a1),_0x304c0a['cull']=nn);const _0x140afd={'KHR_materials_clearcoat':OD,'KHR_materials_emissive_strength':WD,'KHR_materials_ior':zD,'KHR_materials_dispersion':UD,'KHR_materials_iridescence':$D,'KHR_materials_pbrSpecularGlossiness':kD,'KHR_materials_sheen':GD,'KHR_materials_specular':ND,'KHR_materials_transmission':VD,'KHR_materials_unlit':BD,'KHR_materials_volume':HD};if(_0x552730['hasOwnProp'+'erty']('extensions'))for(const _0x4c2428 in _0x552730['extensions']){const _0x44cc3f=_0x140afd[_0x4c2428];_0x44cc3f!==void(-0x9e4+-0x2*0xfa1+0x2926)&&_0x44cc3f(_0x552730['extensions'][_0x4c2428],_0x304c0a,_0x40c3d6);}return _0x304c0a['update'](),_0x304c0a;},qD=(_0xf32d15,_0x34ec0c,_0x4d0e6d,_0x270312,_0x2a5498,_0x22f075,_0x1b1715)=>{const _0x350833=_0xb68b11=>new rc(jo(_0xb68b11['type']),ga(_0xb68b11,_0x270312)),_0x5aff59={'STEP':q0,'LINEAR':Qu,'CUBICSPLINE':Ju},_0x1bba65={},_0x4bfa82={},_0x257b5b={};let _0x5047ed=0x7*-0xc7+0x8e7+-0x375,_0x1619cf;for(_0x1619cf=-0x7e3+-0xbf1+-0x1*-0x13d4;_0x1619cf<_0xf32d15['samplers']['length'];++_0x1619cf){const _0x1f8cd4=_0xf32d15['samplers'][_0x1619cf];_0x1bba65['hasOwnProp'+'erty'](_0x1f8cd4['input'])||(_0x1bba65[_0x1f8cd4['input']]=_0x350833(_0x4d0e6d[_0x1f8cd4['input']])),_0x4bfa82['hasOwnProp'+'erty'](_0x1f8cd4['output'])||(_0x4bfa82[_0x1f8cd4['output']]=_0x350833(_0x4d0e6d[_0x1f8cd4['output']]));const _0x13b6a3=_0x1f8cd4['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x5aff59['hasOwnProp'+'erty'](_0x1f8cd4['interpolat'+'ion'])?_0x5aff59[_0x1f8cd4['interpolat'+'ion']]:Qu,_0x127808={'paths':[],'input':_0x1f8cd4['input'],'output':_0x1f8cd4['output'],'interpolation':_0x13b6a3};_0x257b5b[_0x1619cf]=_0x127808;}const _0x598246=[],_0x329998={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x4056b1=_0x8e579=>{const _0xdd4a17=[];for(;_0x8e579;)_0xdd4a17['unshift'](_0x8e579['name']),_0x8e579=_0x8e579['parent'];return _0xdd4a17;},_0x345b72=(_0x28c3f9,_0x2d5dcb,_0x2d6dc6)=>{const _0x22bbaa=_0x4bfa82[_0x28c3f9['output']];if(!_0x22bbaa){b['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x2d6dc6+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x273fab;if(_0x22f075&&_0x22f075[_0x2d5dcb['mesh']]){const _0xa99f99=_0x22f075[_0x2d5dcb['mesh']];_0xa99f99['hasOwnProp'+'erty']('extras')&&_0xa99f99['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x273fab=_0xa99f99['extras']['targetName'+'s']);}const _0x2200fb=_0x22bbaa['data'],_0x5ab54c=_0x2200fb['length']/_0x1bba65[_0x28c3f9['input']]['data']['length'],_0x13d088=_0x2200fb['length']/_0x5ab54c,_0xc4176=_0x13d088*(0x1244+0x22ba+-0x34fa*0x1),_0x29c3fd=new ArrayBuffer(_0xc4176*_0x5ab54c);for(let _0x4914cc=-0x1f21*0x1+0x4*0x18c+0x5*0x4fd;_0x4914cc<_0x5ab54c;_0x4914cc++){const _0x1ecd18=new Float32Array(_0x29c3fd,_0xc4176*_0x4914cc,_0x13d088);for(let _0x2894d1=0x1a65*0x1+-0x18a6+-0x1bf;_0x2894d1<_0x13d088;_0x2894d1++)_0x1ecd18[_0x2894d1]=_0x2200fb[_0x2894d1*_0x5ab54c+_0x4914cc];const _0x1cd94d=new rc(-0x1*0x592+0x1*-0x1d4b+0x22de,_0x1ecd18),_0x3302df=_0x273fab!=null&&_0x273fab[_0x4914cc]?'name.'+_0x273fab[_0x4914cc]:_0x4914cc;_0x4bfa82[-_0x5047ed]=_0x1cd94d;const _0x435780={'paths':[{'entityPath':_0x2d6dc6,'component':'graph','propertyPath':['weight.'+_0x3302df]}],'input':_0x28c3f9['input'],'output':-_0x5047ed,'interpolation':_0x28c3f9['interpolat'+'ion']};_0x5047ed++,_0x257b5b['morphCurve'+'-'+_0x1619cf+'-'+_0x4914cc]=_0x435780;}};for(_0x1619cf=-0x2b*0xe+0x95e+0x1*-0x704;_0x1619cf<_0xf32d15['channels']['length'];++_0x1619cf){const _0x366983=_0xf32d15['channels'][_0x1619cf],_0x337eae=_0x366983['target'],_0x218fad=_0x257b5b[_0x366983['sampler']],_0x348c5d=_0x2a5498[_0x337eae['node']],_0x20ecda=_0x1b1715[_0x337eae['node']],_0x263766=_0x4056b1(_0x348c5d);_0x337eae['path']['startsWith']('weights')?(_0x345b72(_0x218fad,_0x20ecda,_0x263766),_0x257b5b[_0x366983['sampler']]['morphCurve']=!(0x17b9+0x187b+0x181a*-0x2)):_0x218fad['paths']['push']({'entityPath':_0x263766,'component':'graph','propertyPath':[_0x329998[_0x337eae['path']]]});}const _0x4966a3=[],_0x370661=[],_0x44daa9=[];for(const _0x42a19c in _0x1bba65)_0x4966a3['push'](_0x1bba65[_0x42a19c]),_0x1bba65[_0x42a19c]=_0x4966a3['length']-(-0x2300+-0x273+0x2574);for(const _0x21f138 in _0x4bfa82)_0x370661['push'](_0x4bfa82[_0x21f138]),_0x4bfa82[_0x21f138]=_0x370661['length']-(0x6*-0x3ba+0x1c06+-0xcf*0x7);for(const _0xe1675f in _0x257b5b){const _0x5ca4b3=_0x257b5b[_0xe1675f];_0x5ca4b3['morphCurve']||(_0x44daa9['push'](new Rx(_0x5ca4b3['paths'],_0x1bba65[_0x5ca4b3['input']],_0x4bfa82[_0x5ca4b3['output']],_0x5ca4b3['interpolat'+'ion'])),_0x5ca4b3['paths']['length']>-0x124d+-0x24d5*0x1+-0x1b91*-0x2&&_0x5ca4b3['paths'][-0x1013+-0x198+-0x1*-0x11ab]['propertyPa'+'th'][-0xee*-0x1c+0x1ab8+-0x34c0]==='localRotat'+'ion'&&_0x5ca4b3['interpolat'+'ion']!==Ju&&_0x598246['push'](_0x44daa9[_0x44daa9['length']-(0x2c5*-0x8+-0x4*0x95+0x187d)]['output']));}_0x598246['sort']();let _0xc6b115=null,_0x26df7f;for(_0x1619cf=-0x2092+-0x1a3d+0x3acf;_0x1619cf<_0x598246['length'];++_0x1619cf){const _0x50dfd9=_0x598246[_0x1619cf];if(_0x1619cf===-0x26d*0x1+-0x766*-0x4+-0x1b2b||_0x50dfd9!==_0xc6b115){if(_0x26df7f=_0x370661[_0x50dfd9],_0x26df7f['components']===0x2552+-0x2389+-0x1c5){const _0x5c9ef=_0x26df7f['data'],_0x3abd46=_0x5c9ef['length']-(-0xa22+-0x33f+0xd65);for(let _0x2f5aa8=0x1717+0x1ba2+-0x32b9;_0x2f5aa8<_0x3abd46;_0x2f5aa8+=0xf99+0x1*-0x1d25+0xd90)_0x5c9ef[_0x2f5aa8+(0x1*-0xb39+0xea+0xa4f)]*_0x5c9ef[_0x2f5aa8+(-0x236*0xe+0x1af0+0x204*0x2)]+_0x5c9ef[_0x2f5aa8+(-0x49f*-0x1+0x2070*-0x1+0x1bd2*0x1)]*_0x5c9ef[_0x2f5aa8+(-0xd03+0x265c+-0x1954)]+_0x5c9ef[_0x2f5aa8+(-0x1*-0x757+0x1164+-0x18b9)]*_0x5c9ef[_0x2f5aa8+(0xcbd*0x3+0x3e9+0x2*-0x150d)]+_0x5c9ef[_0x2f5aa8+(0x6ae+0x1a57+-0x2102)]*_0x5c9ef[_0x2f5aa8+(0x85a+0x1e7f+0x26d2*-0x1)]<0x425+-0x1*0x2605+0x21e0&&(_0x5c9ef[_0x2f5aa8+(0x1*0x228a+-0x1*0x1723+0x1*-0xb63)]*=-(0xb5a+-0x1d5c+-0x9f*-0x1d),_0x5c9ef[_0x2f5aa8+(-0x3b*-0x7c+0x1*-0x189d+0x1f9*-0x2)]*=-(0xd*0x2dd+-0x2*0xad2+-0xf94),_0x5c9ef[_0x2f5aa8+(-0x72*0x22+0x842+-0x68*-0x11)]*=-(-0x15fa+0xf1e+0x6dd),_0x5c9ef[_0x2f5aa8+(-0x8a1*0x1+0xd3*-0x8+0xf40)]*=-(0x43*0x6d+-0x15b5+-0x15d*0x5));}_0xc6b115=_0x50dfd9;}}let _0x1ee061=-0x6*-0x213+-0x2*0xf46+0x2*0x90d;for(_0x1619cf=0x259*-0x2+0x2125+-0x1*0x1c73;_0x1619cf<_0x4966a3['length'];_0x1619cf++)_0x26df7f=_0x4966a3[_0x1619cf]['_data'],_0x1ee061=Math['max'](_0x1ee061,_0x26df7f['length']===0x706+0xf56+-0x3ba*0x6?0x416+0x8b3*0x2+-0x157c:_0x26df7f[_0x26df7f['length']-(-0x2433*0x1+0x16d2+0xd62)]);return new ki(_0xf32d15['hasOwnProp'+'erty']('name')?_0xf32d15['name']:'animation_'+_0x34ec0c,_0x1ee061,_0x4966a3,_0x370661,_0x44daa9);},nh=new q(),jn=new A(),XD=(_0x110751,_0x27edda,_0x2296e5)=>{const _0x174950=new Oe();if(_0x110751['hasOwnProp'+'erty']('name')&&_0x110751['name']['length']>-0x117f*0x1+-0x1*0x16f+0x2*0x977?_0x174950['name']=_0x110751['name']:_0x174950['name']='node_'+_0x27edda,_0x110751['hasOwnProp'+'erty']('matrix')&&(nh['data']['set'](_0x110751['matrix']),nh['getTransla'+'tion'](jn),_0x174950['setLocalPo'+'sition'](jn),nh['getEulerAn'+'gles'](jn),_0x174950['setLocalEu'+'lerAngles'](jn),nh['getScale'](jn),_0x174950['setLocalSc'+'ale'](jn)),_0x110751['hasOwnProp'+'erty']('rotation')){const _0xd1d9a=_0x110751['rotation'];_0x174950['setLocalRo'+'tation'](_0xd1d9a[0x1*0xc15+0xd*-0xcd+-0x1ac],_0xd1d9a[0xf53*-0x1+-0x1*0x23bc+-0x158*-0x26],_0xd1d9a[0x1241+-0x23a2+0x1163],_0xd1d9a[0x3*0x265+0x2*-0x499+0x206*0x1]);}if(_0x110751['hasOwnProp'+'erty']('translatio'+'n')){const _0x383770=_0x110751['translatio'+'n'];_0x174950['setLocalPo'+'sition'](_0x383770[-0x239*-0xb+-0x1*0xbcb+0xca8*-0x1],_0x383770[0x5c*0x5+-0x85f+0x694],_0x383770[0x21e0+-0x13*0xbe+-0x1cc*0xb]);}if(_0x110751['hasOwnProp'+'erty']('scale')){const _0x1e5bc6=_0x110751['scale'];_0x174950['setLocalSc'+'ale'](_0x1e5bc6[0x1*-0x1ea9+-0x13ae+0x3257],_0x1e5bc6[-0x6*0x542+-0x1035*-0x1+0xf58],_0x1e5bc6[0x3fd*0x7+0x1e5*0xd+-0x541*0xa]);}return _0x110751['hasOwnProp'+'erty']('extensions')&&_0x110751['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x2296e5['set'](_0x110751,{'ext':_0x110751['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x174950;},jD=(_0x530c0c,_0x32576c)=>{const _0x32007e=_0x530c0c['type']==='orthograph'+'ic'?pa:Xs,_0x3fdd6b=_0x32007e===pa?_0x530c0c['orthograph'+'ic']:_0x530c0c['perspectiv'+'e'],_0x19aba8={'enabled':!(-0x231c+0x1513+-0x257*-0x6),'projection':_0x32007e,'nearClip':_0x3fdd6b['znear'],'aspectRatioMode':kp};_0x3fdd6b['zfar']&&(_0x19aba8['farClip']=_0x3fdd6b['zfar']),_0x32007e===pa?(_0x19aba8['orthoHeigh'+'t']=(0x266c+-0x1a86+-0xbe6+0.5)*_0x3fdd6b['ymag'],_0x3fdd6b['ymag']&&(_0x19aba8['aspectRati'+'oMode']=Vu,_0x19aba8['aspectRati'+'o']=_0x3fdd6b['xmag']/_0x3fdd6b['ymag'])):(_0x19aba8['fov']=_0x3fdd6b['yfov']*z['RAD_TO_DEG'],_0x3fdd6b['aspectRati'+'o']&&(_0x19aba8['aspectRati'+'oMode']=Vu,_0x19aba8['aspectRati'+'o']=_0x3fdd6b['aspectRati'+'o']));const _0x55d7f1=new je(_0x530c0c['name']);return _0x55d7f1['addCompone'+'nt']('camera',_0x19aba8),_0x55d7f1;},YD=(_0x3d8ed7,_0x303ac0)=>{const _0x14c80f={'enabled':!(0x1*-0x26be+-0x18aa+0x3f69),'type':_0x3d8ed7['type']==='point'?'omni':_0x3d8ed7['type'],'color':_0x3d8ed7['hasOwnProp'+'erty']('color')?new Y(_0x3d8ed7['color']):Y['WHITE'],'range':_0x3d8ed7['hasOwnProp'+'erty']('range')?_0x3d8ed7['range']:-0x15c5*0x1+-0xb1*0x7+0x41ab,'falloffMode':$b,'intensity':_0x3d8ed7['hasOwnProp'+'erty']('intensity')?z['clamp'](_0x3d8ed7['intensity'],-0x1*0x8d7+0x1e95*0x1+0x17*-0xf2,-0x8a*-0x12+0x1*-0x1691+0xcdf):0x170b+0x126b+-0x2975};_0x3d8ed7['hasOwnProp'+'erty']('spot')&&(_0x14c80f['innerConeA'+'ngle']=_0x3d8ed7['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x3d8ed7['spot']['innerConeA'+'ngle']*z['RAD_TO_DEG']:-0xdc8+0x1*-0x1ccf+-0x2a97*-0x1,_0x14c80f['outerConeA'+'ngle']=_0x3d8ed7['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x3d8ed7['spot']['outerConeA'+'ngle']*z['RAD_TO_DEG']:Math['PI']/(0x222e+-0x9*0x37b+-0x2d7*0x1)),_0x3d8ed7['hasOwnProp'+'erty']('intensity')&&(_0x14c80f['luminance']=_0x3d8ed7['intensity']*Ho['getLightUn'+'itConversi'+'on'](qu[_0x14c80f['type']],_0x14c80f['outerConeA'+'ngle'],_0x14c80f['innerConeA'+'ngle']));const _0x40104b=new je(_0x303ac0['name']);return _0x40104b['rotateLoca'+'l'](-0x17*0xe5+0xe11+0x6dc,-0x1*0xaca+-0x1221+0x1*0x1ceb,-0x1*-0x172+0x99f+0x1*-0xb11),_0x40104b['addCompone'+'nt']('light',_0x14c80f),_0x40104b;},KD=(_0x9309c9,_0x527164,_0xbe9715,_0x243aec)=>{if(!_0x527164['hasOwnProp'+'erty']('skins')||_0x527164['skins']['length']===-0x1ffd*0x1+0x2f5+-0x742*-0x4)return[];const _0x30994c=new Map();return _0x527164['skins']['map'](_0x2dacfa=>DD(_0x9309c9,_0x2dacfa,_0x527164['accessors'],_0x243aec,_0xbe9715,_0x30994c));},ZD=(_0xf4c008,_0x5bbf14,_0x14eb9e,_0x396dcc)=>{var _0x50e426,_0x45bd81,_0x1ca323;const _0x2e2688={},_0xc33d4f={},_0x34cbaf={},_0x5b514c=[];return{'meshes':!_0x396dcc['skipMeshes']&&((_0x50e426=_0x5bbf14==null?void(0x162+-0x25b2+0x2450):_0x5bbf14['meshes'])==null?void(0xe9+-0x152d*-0x1+0xb0b*-0x2):_0x50e426['length'])&&((_0x45bd81=_0x5bbf14==null?void(-0x8b5+0xb*-0x1fd+-0x4c*-0x67):_0x5bbf14['accessors'])==null?void(0x250f+0x4b3+-0x29c2):_0x45bd81['length'])&&((_0x1ca323=_0x5bbf14==null?void(0x2670+0x4c9+0x1*-0x2b39):_0x5bbf14['bufferView'+'s'])==null?void(-0x2d7+-0x80f*0x2+0x12f5):_0x1ca323['length'])?_0x5bbf14['meshes']['map'](_0x3876ab=>FD(_0xf4c008,_0x3876ab,_0x5bbf14['accessors'],_0x14eb9e,_0x2e2688,_0xc33d4f,_0x34cbaf,_0x396dcc,_0x5b514c)):[],'meshVariants':_0xc33d4f,'meshDefaultMaterials':_0x34cbaf,'promises':_0x5b514c};},QD=(_0x1ade36,_0x1e7caf,_0xbe20fd)=>{var _0x232d94,_0xc143c8,_0x2cf77b;if(!_0x1ade36['hasOwnProp'+'erty']('materials')||_0x1ade36['materials']['length']===-0x8*0x25f+-0x1c4c+0x4*0xbd1)return[];const _0xcb6a4a=(_0x232d94=_0xbe20fd==null?void(0x2*-0x34c+-0x473*-0x1+0x225):_0xbe20fd['material'])==null?void(0x22c*0x5+0x397*0x1+-0x4d1*0x3):_0x232d94['preprocess'],_0x77ca95=((_0xc143c8=_0xbe20fd==null?void(0x3ad*-0x4+0x10*-0x1d2+0x2bd4):_0xbe20fd['material'])==null?void(0x12*0xf+0xc2d*0x1+0x1*-0xd3b):_0xc143c8['process'])??Lx,_0x309f3f=(_0x2cf77b=_0xbe20fd==null?void(-0x21d*-0x11+0x1af5*-0x1+0x1*-0x8f8):_0xbe20fd['material'])==null?void(0x2*0x183+-0x45+0x3*-0xeb):_0x2cf77b['postproces'+'s'];return _0x1ade36['materials']['map'](_0x3f1f31=>{_0xcb6a4a&&_0xcb6a4a(_0x3f1f31);const _0x2a312d=_0x77ca95(_0x3f1f31,_0x1e7caf);return _0x309f3f&&_0x309f3f(_0x3f1f31,_0x2a312d),_0x2a312d;});},JD=_0x4e9f7a=>{if(!_0x4e9f7a['hasOwnProp'+'erty']('extensions')||!_0x4e9f7a['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x135861=_0x4e9f7a['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x31fd3d={};for(let _0x3aa57a=0x1b25*0x1+0x1*0xe7d+-0x1*0x29a2;_0x3aa57a<_0x135861['length'];_0x3aa57a++)_0x31fd3d[_0x135861[_0x3aa57a]['name']]=_0x3aa57a;return _0x31fd3d;},e2=(_0x548908,_0x8d9dc9,_0x71eea8,_0x35a472)=>{var _0x5954a8,_0x1a96b7;if(!_0x548908['hasOwnProp'+'erty']('animations')||_0x548908['animations']['length']===-0x1*0x1b7e+-0x134c+0x2eca)return[];const _0x4c9d4c=(_0x5954a8=_0x35a472==null?void(-0xd*-0x1d5+0x137*-0x13+0x2f*-0x4):_0x35a472['animation'])==null?void(0x8a7+0x262d+-0x2ed4):_0x5954a8['preprocess'],_0x1b0fc9=(_0x1a96b7=_0x35a472==null?void(-0x1*-0x4c+-0x3fb*-0x2+-0x842):_0x35a472['animation'])==null?void(-0x7*-0x242+0x1407+-0x23d5):_0x1a96b7['postproces'+'s'];return _0x548908['animations']['map']((_0x255024,_0x2588eb)=>{_0x4c9d4c&&_0x4c9d4c(_0x255024);const _0x78c69f=qD(_0x255024,_0x2588eb,_0x548908['accessors'],_0x71eea8,_0x8d9dc9,_0x548908['meshes'],_0x548908['nodes']);return _0x1b0fc9&&_0x1b0fc9(_0x255024,_0x78c69f),_0x78c69f;});},t2=(_0x5e9d60,_0xa60266,_0x2f326e,_0x47c464)=>{const _0x50e56f=_0xa60266['accessors'];_0x2f326e['forEach']((_0x43b013,_0x442768)=>{const _0x300e1c=_0x43b013['ext']['attributes'];let _0x57868c;if(_0x300e1c['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x373092=_0x50e56f[_0x300e1c['TRANSLATIO'+'N']];_0x57868c=ga(_0x373092,_0x47c464);}let _0x5b735e;if(_0x300e1c['hasOwnProp'+'erty']('ROTATION')){const _0x2e9043=_0x50e56f[_0x300e1c['ROTATION']];_0x5b735e=ga(_0x2e9043,_0x47c464);}let _0x28350e;if(_0x300e1c['hasOwnProp'+'erty']('SCALE')){const _0x287855=_0x50e56f[_0x300e1c['SCALE']];_0x28350e=ga(_0x287855,_0x47c464);}const _0x1ccd6e=(_0x57868c?_0x57868c['length']/(-0x2631+0x7*0x43f+-0xa7*-0xd):-0x123c+-0x821+0x18d*0x11)||(_0x5b735e?_0x5b735e['length']/(0x1cda+-0x13d+0x1d7*-0xf):0x8ce+0x1*0x175+-0x25*0x47)||(_0x28350e?_0x28350e['length']/(-0x812+0x2*0x5ad+0x5d*-0x9):-0x102*0xa+0x181d+-0xe09);if(_0x1ccd6e){const _0xbb1b49=new Float32Array(_0x1ccd6e*(0x5*0x29+0x15b3+0x4*-0x59c)),_0x9b7ec8=new A(),_0x306f51=new ie(),_0x21ab94=new A(-0x1940+-0x1b45+-0x12*-0x2eb,-0x21b3*-0x1+0x4f2*-0x7+0xec,-0xbf*0x1f+0x7dd*0x1+0xf45),_0x12472d=new q();let _0x46a989=0x859+0x22e3+-0x2b3c;for(let _0x4078b8=0x1504+0xc4*0x1d+-0x2b38;_0x4078b8<_0x1ccd6e;_0x4078b8++){const _0x39e8a9=_0x4078b8*(0x2ed*0x4+0x22e2+-0x2e93);if(_0x57868c&&_0x9b7ec8['set'](_0x57868c[_0x39e8a9],_0x57868c[_0x39e8a9+(0x1c6f+0x1c*-0x1f+-0x190a*0x1)],_0x57868c[_0x39e8a9+(0x6*-0x3ce+-0x1422+0x2af8)]),_0x5b735e){const _0x24f01c=_0x4078b8*(0xcfd+-0x23e0+-0x16e7*-0x1);_0x306f51['set'](_0x5b735e[_0x24f01c],_0x5b735e[_0x24f01c+(0x1*0x60e+0x152f+0x54*-0x53)],_0x5b735e[_0x24f01c+(0x143a+-0xcb+-0x136d)],_0x5b735e[_0x24f01c+(0x1a18+0x67*-0xe+-0x1*0x1473)]);}_0x28350e&&_0x21ab94['set'](_0x28350e[_0x39e8a9],_0x28350e[_0x39e8a9+(0x1c10*-0x1+-0x194b+0x355c*0x1)],_0x28350e[_0x39e8a9+(-0x2*0x1d3+0x241+0x167)]),_0x12472d['setTRS'](_0x9b7ec8,_0x306f51,_0x21ab94);for(let _0x3a29a0=0x11d7*-0x2+-0x565+0x2913;_0x3a29a0<0x2*-0x457+-0x2*-0x86+0xa*0xc5;_0x3a29a0++)_0xbb1b49[_0x46a989++]=_0x12472d['data'][_0x3a29a0];}_0x43b013['matrices']=_0xbb1b49;}});},s2=(_0x49994e,_0x5b1ec2,_0x2514a1)=>{var _0x599602,_0x2f67c1,_0x222b51;if(!_0x49994e['hasOwnProp'+'erty']('nodes')||_0x49994e['nodes']['length']===-0x6ba+0x4a3+0x217)return[];const _0x304ff0=(_0x599602=_0x5b1ec2==null?void(-0x22b4+-0x76*-0x16+0x1890):_0x5b1ec2['node'])==null?void(-0x185f+0xcf9+0x5b3*0x2):_0x599602['preprocess'],_0x1cf3ca=((_0x2f67c1=_0x5b1ec2==null?void(0x8be+0x34*0x1b+0x1*-0xe3a):_0x5b1ec2['node'])==null?void(-0x3*-0x1aa+0x33*0x36+-0xfc0):_0x2f67c1['process'])??XD,_0x1f5e9e=(_0x222b51=_0x5b1ec2==null?void(-0x18a4+-0xd8a*0x2+0x33b8):_0x5b1ec2['node'])==null?void(0x18de+-0xfd2+-0x90c):_0x222b51['postproces'+'s'],_0x3f14bd=_0x49994e['nodes']['map']((_0x206f37,_0x57cf3e)=>{_0x304ff0&&_0x304ff0(_0x206f37);const _0xa22c3b=_0x1cf3ca(_0x206f37,_0x57cf3e,_0x2514a1);return _0x1f5e9e&&_0x1f5e9e(_0x206f37,_0xa22c3b),_0xa22c3b;});for(let _0x4cbec1=-0xb*-0xf9+-0x17ae*0x1+-0xcfb*-0x1;_0x4cbec1<_0x49994e['nodes']['length'];++_0x4cbec1){const _0x3ffdf0=_0x49994e['nodes'][_0x4cbec1];if(_0x3ffdf0['hasOwnProp'+'erty']('children')){const _0xea74d5=_0x3f14bd[_0x4cbec1],_0x5afc99={};for(let _0x118a7f=-0x3*0x7b3+-0x2029+0x3742;_0x118a7f<_0x3ffdf0['children']['length'];++_0x118a7f){const _0x3ee8b1=_0x3f14bd[_0x3ffdf0['children'][_0x118a7f]];_0x3ee8b1['parent']||(_0x5afc99['hasOwnProp'+'erty'](_0x3ee8b1['name'])?_0x3ee8b1['name']+=_0x5afc99[_0x3ee8b1['name']]++:_0x5afc99[_0x3ee8b1['name']]=0x2506+-0x3*0x66e+-0x11bb,_0xea74d5['addChild'](_0x3ee8b1));}}}return _0x3f14bd;},i2=(_0x5ea4e7,_0x403371)=>{var _0x2db931;const _0x255576=[],_0x2e8245=_0x5ea4e7['scenes']['length'];if(_0x2e8245===-0xfde+0x372*0x9+-0xf23&&((_0x2db931=_0x5ea4e7['scenes'][0x8*-0x1b5+-0x1*0x84e+-0x3*-0x752]['nodes'])==null?void(-0x240b+-0xe1a+0x1*0x3225):_0x2db931['length'])===0x16*-0x9e+0x1*0x137b+-0x5e6){const _0x40cc2e=_0x5ea4e7['scenes'][0xdd*-0x13+-0x2099+0x3100]['nodes'][0x59*-0x8+0x20c4+-0x65*0x4c];_0x255576['push'](_0x403371[_0x40cc2e]);}else for(let _0x409c81=0x4*-0x1c1+-0x1c5a+-0xbca*-0x3;_0x409c81<_0x2e8245;_0x409c81++){const _0x2666b8=_0x5ea4e7['scenes'][_0x409c81];if(_0x2666b8['nodes']){const _0x44e990=new Oe(_0x2666b8['name']);for(let _0x5c3596=0x11c5*-0x1+-0x1358+0x3*0xc5f;_0x5c3596<_0x2666b8['nodes']['length'];_0x5c3596++){const _0xded4ac=_0x403371[_0x2666b8['nodes'][_0x5c3596]];_0x44e990['addChild'](_0xded4ac);}_0x255576['push'](_0x44e990);}}return _0x255576;},r2=(_0x3fdcd8,_0x12378c,_0x16ddca)=>{var _0x15a3e2,_0x460635,_0xfa174f;let _0x30e3ec=null;if(_0x3fdcd8['hasOwnProp'+'erty']('nodes')&&_0x3fdcd8['hasOwnProp'+'erty']('cameras')&&_0x3fdcd8['cameras']['length']>-0x185e+-0x80d+0x2b*0xc1){const _0x3c757d=(_0x15a3e2=_0x16ddca==null?void(0x21ee+0x39*0x59+-0x35bf):_0x16ddca['camera'])==null?void(-0x19d1*0x1+-0x80b+-0xc5*-0x2c):_0x15a3e2['preprocess'],_0x3b9a16=((_0x460635=_0x16ddca==null?void(0x2a*0x74+0x1eb+-0x14f3):_0x16ddca['camera'])==null?void(-0x1*0x260+0x2405+-0x21a5):_0x460635['process'])??jD,_0x290750=(_0xfa174f=_0x16ddca==null?void(-0x1*0xc97+-0x1f7c+0x2c13):_0x16ddca['camera'])==null?void(-0xcb9*-0x3+0x33b*0x1+-0x2966):_0xfa174f['postproces'+'s'];_0x3fdcd8['nodes']['forEach']((_0x21792b,_0x24ad3e)=>{if(_0x21792b['hasOwnProp'+'erty']('camera')){const _0x56ca47=_0x3fdcd8['cameras'][_0x21792b['camera']];if(_0x56ca47){_0x3c757d&&_0x3c757d(_0x56ca47);const _0x4e2241=_0x3b9a16(_0x56ca47,_0x12378c[_0x24ad3e]);_0x290750&&_0x290750(_0x56ca47,_0x4e2241),_0x4e2241&&(_0x30e3ec||(_0x30e3ec=new Map()),_0x30e3ec['set'](_0x21792b,_0x4e2241));}}});}return _0x30e3ec;},n2=(_0x127590,_0x5befeb,_0x31c69f)=>{var _0x2c1818,_0xca8d36,_0x31d79a;let _0x51656c=null;if(_0x127590['hasOwnProp'+'erty']('nodes')&&_0x127590['hasOwnProp'+'erty']('extensions')&&_0x127590['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x127590['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x25ee78=_0x127590['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x25ee78['length']){const _0x1025de=(_0x2c1818=_0x31c69f==null?void(0x15b+-0x2040+0x1ee5*0x1):_0x31c69f['light'])==null?void(-0xa*0x137+-0x1461+-0x2087*-0x1):_0x2c1818['preprocess'],_0x31f615=((_0xca8d36=_0x31c69f==null?void(0x2*-0x21d+-0x1e3c+0x2276):_0x31c69f['light'])==null?void(0xd*-0x28c+0x19a1+0x77b*0x1):_0xca8d36['process'])??YD,_0x5038a3=(_0x31d79a=_0x31c69f==null?void(0x12e0*-0x2+0xd30*0x2+0xb60):_0x31c69f['light'])==null?void(-0x98a*-0x1+-0x633*0x4+0xf42):_0x31d79a['postproces'+'s'];_0x127590['nodes']['forEach']((_0x1ef74f,_0x4326d0)=>{if(_0x1ef74f['hasOwnProp'+'erty']('extensions')&&_0x1ef74f['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x1ef74f['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x22da70=_0x1ef74f['extensions']['KHR_lights'+'_punctual']['light'],_0x4934cc=_0x25ee78[_0x22da70];if(_0x4934cc){_0x1025de&&_0x1025de(_0x4934cc);const _0xca4145=_0x31f615(_0x4934cc,_0x5befeb[_0x4326d0]);_0x5038a3&&_0x5038a3(_0x4934cc,_0xca4145),_0xca4145&&(_0x51656c||(_0x51656c=new Map()),_0x51656c['set'](_0x1ef74f,_0xca4145));}}});}}return _0x51656c;},a2=(_0x269a4b,_0xcbedd3,_0x2f3667)=>{_0x269a4b['nodes']['forEach'](_0x3d8e59=>{_0x3d8e59['hasOwnProp'+'erty']('mesh')&&_0x3d8e59['hasOwnProp'+'erty']('skin')&&_0xcbedd3[_0x3d8e59['mesh']]['meshes']['forEach'](_0x25ae06=>{_0x25ae06['skin']=_0x2f3667[_0x3d8e59['skin']];});});},o2=async(_0x2d21d8,_0x20a28c,_0xc53287,_0x231da7,_0x11ac1b)=>{var _0xeb050,_0x2ad382;const _0x14af80=(_0xeb050=_0x11ac1b==null?void(0x1b55*-0x1+0xacf+0x1086):_0x11ac1b['global'])==null?void(0xeaf+0xe38+-0x421*0x7):_0xeb050['preprocess'],_0x425564=(_0x2ad382=_0x11ac1b==null?void(-0xc53+0x1706+-0xab3):_0x11ac1b['global'])==null?void(0x7*-0x499+-0x2*-0x707+0x1221):_0x2ad382['postproces'+'s'];_0x14af80&&_0x14af80(_0x20a28c),_0x20a28c['asset']&&_0x20a28c['asset']['generator']==='PlayCanvas'&&b['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x4486e5=new Map(),_0x52f140=s2(_0x20a28c,_0x11ac1b,_0x4486e5),_0x54ddea=i2(_0x20a28c,_0x52f140),_0x150cbb=n2(_0x20a28c,_0x52f140,_0x11ac1b),_0x3ffe51=r2(_0x20a28c,_0x52f140,_0x11ac1b),_0x1a40b4=JD(_0x20a28c),_0x4fa79d=await Promise['all'](_0xc53287),{meshes:_0x430abc,meshVariants:_0x1f527c,meshDefaultMaterials:_0x46cda8,promises:_0x17a0f0}=ZD(_0x2d21d8,_0x20a28c,_0x4fa79d,_0x11ac1b),_0x52796f=e2(_0x20a28c,_0x52f140,_0x4fa79d,_0x11ac1b);t2(_0x2d21d8,_0x20a28c,_0x4486e5,_0x4fa79d);const _0x401634=await Promise['all'](_0x231da7),_0x467178=_0x401634['map'](_0x5c0ae4=>_0x5c0ae4['resource']),_0x535faa=QD(_0x20a28c,_0x467178,_0x11ac1b),_0x3059ab=KD(_0x2d21d8,_0x20a28c,_0x52f140,_0x4fa79d),_0x535d37=[];for(let _0x3946ea=-0x2c7*-0x3+0x14*0x41+-0xd69;_0x3946ea<_0x430abc['length'];_0x3946ea++)_0x535d37[_0x3946ea]=new Xp(),_0x535d37[_0x3946ea]['meshes']=_0x430abc[_0x3946ea];a2(_0x20a28c,_0x535d37,_0x3059ab);const _0x376cf0=new vD();return _0x376cf0['gltf']=_0x20a28c,_0x376cf0['nodes']=_0x52f140,_0x376cf0['scenes']=_0x54ddea,_0x376cf0['animations']=_0x52796f,_0x376cf0['textures']=_0x401634,_0x376cf0['materials']=_0x535faa,_0x376cf0['variants']=_0x1a40b4,_0x376cf0['meshVarian'+'ts']=_0x1f527c,_0x376cf0['meshDefaul'+'tMaterials']=_0x46cda8,_0x376cf0['renders']=_0x535d37,_0x376cf0['skins']=_0x3059ab,_0x376cf0['lights']=_0x150cbb,_0x376cf0['cameras']=_0x3ffe51,_0x376cf0['nodeInstan'+'cingMap']=_0x4486e5,_0x425564&&_0x425564(_0x20a28c,_0x376cf0),await Promise['all'](_0x17a0f0),_0x376cf0;},l2=(_0x2ea9c3,_0x29d190)=>{const _0x35da0b=(_0x31dcfa,_0x114dbe)=>{switch(_0x31dcfa){case-0x29a0+-0x3a*-0x13d+-0x3e7*-0x2:return fe;case-0xabe+0x18d*-0x29+0x7054:return at;case 0x47f+0x4c81+0x4*-0xa80:return yc;case 0xb9b*-0x3+0x2099*-0x2+0x8b04:return Sc;case 0x1*0xb13+-0x4*-0xb4+0x3b*0x6d:return xc;case 0x2*-0x50+-0x2a55*-0x1+0xf*-0x2e:return an;default:return _0x114dbe;}},_0x50599c=(_0x5bde22,_0x5e6546)=>{switch(_0x5bde22){case 0x30bd+-0x4ca1+0x9d13:return oe;case 0x3d7a+-0xe*0xcbb+-0x344*-0x4c:return zf;case-0x4*0xc91+-0x445*-0x8+0x1*0x391d:return nt;default:return _0x5e6546;}};_0x2ea9c3&&(_0x29d190=_0x29d190??{},_0x2ea9c3['minFilter']=_0x35da0b(_0x29d190['minFilter'],an),_0x2ea9c3['magFilter']=_0x35da0b(_0x29d190['magFilter'],at),_0x2ea9c3['addressU']=_0x50599c(_0x29d190['wrapS'],nt),_0x2ea9c3['addressV']=_0x50599c(_0x29d190['wrapT'],nt));};let h2=0x1fd3+0x22ea+0x5*-0xd59;const Af=_0x43881c=>{var _0x4fbca9,_0x700041,_0x1301dd,_0x3e79ff;return((_0x700041=(_0x4fbca9=_0x43881c['extensions'])==null?void(-0x149*-0x5+-0x1bcf+0x30e*0x7):_0x4fbca9['KHR_textur'+'e_basisu'])==null?void(0x2370+0x2cf*-0x2+-0x1dd2):_0x700041['source'])??((_0x3e79ff=(_0x1301dd=_0x43881c['extensions'])==null?void(0x59*-0xa+-0x18*-0x11c+0xb93*-0x2):_0x1301dd['EXT_textur'+'e_webp'])==null?void(-0x343*0x3+-0x1e32*0x1+0x27fb):_0x3e79ff['source'])??_0x43881c['source'];},c2=(_0x5ef33d,_0x2c3cb1,_0x39d976,_0x4dcdeb,_0xada0f9)=>{var _0x1ee860,_0x44429f,_0x90fe0b;if(!_0x5ef33d['images']||_0x5ef33d['images']['length']===0x8*-0xc4+-0x12f6*0x2+0x2*0x1606)return[];const _0x3f5adb=(_0x1ee860=_0xada0f9==null?void(0x1*-0x20d2+0x69*-0x4d+0x4067):_0xada0f9['image'])==null?void(0x3*0x40f+0x1638+-0x2265*0x1):_0x1ee860['preprocess'],_0x5aba1a=(_0x44429f=_0xada0f9==null?void(-0x1333*-0x1+0x2709+-0x3a3c):_0xada0f9['image'])==null?void(0x8b1+0x1d85+-0x2636):_0x44429f['processAsy'+'nc'],_0x5f464d=(_0x90fe0b=_0xada0f9==null?void(-0x4c*0x74+-0x3*-0x6a1+0xe8d):_0xada0f9['image'])==null?void(-0x2623*0x1+-0x470+0x2a93):_0x90fe0b['postproces'+'s'],_0x40d428={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x1f6200=_0x5cd77d=>{const _0x2a48a2=new Set();return _0x5cd77d['hasOwnProp'+'erty']('materials')&&_0x5cd77d['materials']['forEach'](_0x2bf060=>{if(_0x2bf060['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x59555e=_0x2bf060['pbrMetalli'+'cRoughness'];if(_0x59555e['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x2fc010=_0x5cd77d['textures'][_0x59555e['baseColorT'+'exture']['index']];_0x2a48a2['add'](Af(_0x2fc010));}}if(_0x2bf060['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x36936a=_0x5cd77d['textures'][_0x2bf060['emissiveTe'+'xture']['index']];_0x2a48a2['add'](Af(_0x36936a));}}),_0x2a48a2;},_0x538b77=(_0x25cb80,_0x117cdc,_0x27b1db,_0x367939,_0x5d87f2,_0x5a59c0)=>new Promise((_0x3ffbcf,_0x935e1f)=>{const _0x3573ed=_0x493321=>{const _0xe56816=(_0x25cb80['name']||'gltf-textu'+'re')+'-'+h2++,_0x390b69={'url':_0x117cdc||_0xe56816};if(_0x493321&&(_0x390b69['contents']=_0x493321['slice'](0x2707+0x23fc+-0x4b03)['buffer']),_0x367939){const _0x262fa6=_0x40d428[_0x367939];_0x262fa6&&(_0x390b69['filename']=_0x390b69['url']+'.'+_0x262fa6);}const _0x419e21={'srgb':_0x5a59c0},_0x54cb43=new he(_0xe56816,'texture',_0x390b69,_0x419e21,_0x5d87f2);_0x54cb43['on']('load',_0x121216=>_0x3ffbcf(_0x121216)),_0x54cb43['on']('error',_0x409316=>_0x935e1f(_0x409316)),_0x4dcdeb['add'](_0x54cb43),_0x4dcdeb['load'](_0x54cb43);};_0x27b1db?_0x27b1db['then'](_0x36cf83=>_0x3573ed(_0x36cf83)):_0x3573ed(null);}),_0x4d4d37=_0x1f6200(_0x5ef33d);return _0x5ef33d['images']['map']((_0x33df28,_0x42c8a0)=>{_0x3f5adb&&_0x3f5adb(_0x33df28);let _0x383b89;return _0x5aba1a?_0x383b89=new Promise((_0x30c522,_0x4e5168)=>{_0x5aba1a(_0x33df28,(_0x571765,_0x41f517)=>{_0x571765?_0x4e5168(_0x571765):_0x30c522(_0x41f517);});}):_0x383b89=new Promise(_0x37a537=>{_0x37a537(null);}),_0x383b89=_0x383b89['then'](_0x4fcfc0=>{const _0x2755a5=_0x4d4d37['has'](_0x42c8a0);return _0x4fcfc0||(_0x33df28['hasOwnProp'+'erty']('uri')?Ix(_0x33df28['uri'])?_0x538b77(_0x33df28,_0x33df28['uri'],null,bD(_0x33df28['uri']),null,_0x2755a5):_0x538b77(_0x33df28,ka['test'](_0x33df28['uri'])?_0x33df28['uri']:me['join'](_0x39d976,_0x33df28['uri']),null,null,{'crossOrigin':'anonymous'},_0x2755a5):_0x33df28['hasOwnProp'+'erty']('bufferView')&&_0x33df28['hasOwnProp'+'erty']('mimeType')?_0x538b77(_0x33df28,null,_0x2c3cb1[_0x33df28['bufferView']],_0x33df28['mimeType'],null,_0x2755a5):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x42c8a0)));}),_0x5f464d&&(_0x383b89=_0x383b89['then'](_0x27a122=>(_0x5f464d(_0x33df28,_0x27a122),_0x27a122))),_0x383b89;});},d2=(_0x2b69a8,_0x5b23f2,_0x17740e)=>{var _0x25a7e0,_0x1419ed,_0x5b7f3d,_0x28683a,_0x27549b;if(!((_0x25a7e0=_0x2b69a8==null?void(-0xf9+0x166b*0x1+-0x1572):_0x2b69a8['images'])!=null&&_0x25a7e0['length'])||!((_0x1419ed=_0x2b69a8==null?void(-0x3e*-0x16+0x27d*0x2+-0x2*0x527):_0x2b69a8['textures'])!=null&&_0x1419ed['length']))return[];const _0x4db9f3=(_0x5b7f3d=_0x17740e==null?void(0x327+0x16a1+-0xf*0x1b8):_0x17740e['texture'])==null?void(0x181d+0x1024*0x2+0x1*-0x3865):_0x5b7f3d['preprocess'],_0x10e883=(_0x28683a=_0x17740e==null?void(-0x87a+0xc24+0x1*-0x3aa):_0x17740e['texture'])==null?void(0x2*-0x37c+0x44a+0x2ae):_0x28683a['processAsy'+'nc'],_0xca71a0=(_0x27549b=_0x17740e==null?void(0xe3f*-0x2+-0x12b7+0x971*0x5):_0x17740e['texture'])==null?void(-0x14b*0x14+0x693+0x1349*0x1):_0x27549b['postproces'+'s'],_0x4359a9=new Set();return _0x2b69a8['textures']['map'](_0x57809b=>{_0x4db9f3&&_0x4db9f3(_0x57809b);let _0x54fd5a;return _0x10e883?_0x54fd5a=new Promise((_0x3893e4,_0x36de58)=>{_0x10e883(_0x57809b,_0x2b69a8['images'],(_0x52531d,_0x2056d2)=>{_0x52531d?_0x36de58(_0x52531d):_0x3893e4(_0x2056d2);});}):_0x54fd5a=new Promise(_0x5172b6=>{_0x5172b6(null);}),_0x54fd5a=_0x54fd5a['then'](_0xc2adfc=>{_0xc2adfc=_0xc2adfc??Af(_0x57809b);const _0x42111a=_0x4359a9['has'](_0xc2adfc);return _0x4359a9['add'](_0xc2adfc),_0x5b23f2[_0xc2adfc]['then'](_0x4c63cb=>{const _0x2f7801=_0x42111a?PD(_0x4c63cb):_0x4c63cb;return l2(_0x2f7801['resource'],(_0x2b69a8['samplers']??[])[_0x57809b['sampler']]),_0x2f7801;});}),_0xca71a0&&(_0x54fd5a=_0x54fd5a['then'](_0x59e808=>(_0xca71a0(_0x57809b,_0x59e808),_0x59e808))),_0x54fd5a;});},u2=(_0x16b970,_0xa9bd1e,_0x2930e7,_0xa63000)=>{var _0x2b52dd,_0x358e68,_0x3544fc;if(!_0x16b970['buffers']||_0x16b970['buffers']['length']===-0x254+-0x649+0x89d)return[];const _0x360e8a=(_0x2b52dd=_0xa63000==null?void(-0x1558+-0x1fc0+-0x4*-0xd46):_0xa63000['buffer'])==null?void(-0x2191+0x1ec2+0x2cf):_0x2b52dd['preprocess'],_0x1cb5ef=(_0x358e68=_0xa63000==null?void(-0x1a48+-0x165*0x17+0x3a5b):_0xa63000['buffer'])==null?void(-0x24d+0x121f+-0xfd2):_0x358e68['processAsy'+'nc'],_0x249645=(_0x3544fc=_0xa63000==null?void(-0x1*-0x1b4+0x7*0xce+-0x756):_0xa63000['buffer'])==null?void(-0x1*-0xacd+0x1*-0x122+-0x63*0x19):_0x3544fc['postproces'+'s'];return _0x16b970['buffers']['map']((_0x10eee3,_0x36aefd)=>{_0x360e8a&&_0x360e8a(_0x10eee3);let _0x1da107;return _0x1cb5ef?_0x1da107=new Promise((_0x2b0f6e,_0x5b96ca)=>{_0x1cb5ef(_0x10eee3,(_0x4bd066,_0x558989)=>{_0x4bd066?_0x5b96ca(_0x4bd066):_0x2b0f6e(_0x558989);});}):_0x1da107=new Promise(_0x5540f1=>{_0x5540f1(null);}),_0x1da107=_0x1da107['then'](_0x2f0570=>{if(_0x2f0570)return _0x2f0570;if(_0x10eee3['hasOwnProp'+'erty']('uri')){if(Ix(_0x10eee3['uri'])){const _0x283bf3=atob(_0x10eee3['uri']['split'](',')[-0x89c*0x4+-0x1fe8+-0x4259*-0x1]),_0x18a109=new Uint8Array(_0x283bf3['length']);for(let _0x3dd782=-0x9*-0x313+-0x2*0x448+-0x131b;_0x3dd782<_0x283bf3['length'];_0x3dd782++)_0x18a109[_0x3dd782]=_0x283bf3['charCodeAt'](_0x3dd782);return _0x18a109;}return new Promise((_0x96d5d,_0x2735cb)=>{Ye['get'](ka['test'](_0x10eee3['uri'])?_0x10eee3['uri']:me['join'](_0x2930e7,_0x10eee3['uri']),{'cache':!(-0x74f+0x2*0x5d1+-0x171*0x3),'responseType':'arraybuffe'+'r','retry':!(0x12*-0x1d2+0x23ea+-0x325)},(_0x37059c,_0x1f0234)=>{_0x37059c?_0x2735cb(_0x37059c):_0x96d5d(new Uint8Array(_0x1f0234));});});}return _0xa9bd1e;}),_0x249645&&(_0x1da107=_0x1da107['then'](_0x264889=>(_0x249645(_0x16b970['buffers'][_0x36aefd],_0x264889),_0x264889))),_0x1da107;});},f2=(_0x4f8e76,_0x595fd9)=>{const _0x54194e=JSON['parse']((_0x3d20f6=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x3d20f6);let _0x3ad1c7='';for(let _0x31ecdb=0x144c+-0x2d1*-0xb+-0x3347;_0x31ecdb<_0x3d20f6['length'];_0x31ecdb++)_0x3ad1c7+=String['fromCharCo'+'de'](_0x3d20f6[_0x31ecdb]);return decodeURIComponent(escape(_0x3ad1c7));})(_0x4f8e76));if(_0x54194e['asset']&&_0x54194e['asset']['version']&&parseFloat(_0x54194e['asset']['version'])<0xb1*-0x14+-0x1*0xe3+0xeb9*0x1){_0x595fd9('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x54194e['asset']['version']+'\x27.');return;}_0x595fd9(null,_0x54194e);},p2=(_0x37a306,_0x2e2326)=>{const _0x2a91fc=_0x37a306 instanceof ArrayBuffer?new DataView(_0x37a306):new DataView(_0x37a306['buffer'],_0x37a306['byteOffset'],_0x37a306['byteLength']),_0x3254db=_0x2a91fc['getUint32'](-0x15b5*0x1+-0x1713+-0xb32*-0x4,!(-0xc43*-0x1+-0x3*0xc85+0x194c)),_0x22b1ea=_0x2a91fc['getUint32'](-0x65b*0x1+0xf4b+-0x1*0x8ec,!(0x1*-0x595+0x3*0xc02+-0x1e71)),_0x490aee=_0x2a91fc['getUint32'](-0x4a7+-0x465+0x914,!(0xa5e*-0x1+0x124e+0xfe*-0x8));if(_0x3254db!==0x11194d*0x4cf+-0x1*-0x79d471f9+-0xb15f15*0xc1){_0x2e2326('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x3254db['toString'](-0x239*-0x7+0x18a6+-0x2825));return;}if(_0x22b1ea!==-0x1c0b+0x1fa*0x11+-0x7*0xcb){_0x2e2326('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x22b1ea);return;}if(_0x490aee<=0x2119*0x1+-0x3*-0x7a7+-0x380e||_0x490aee>_0x2a91fc['byteLength']){_0x2e2326('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x490aee);return;}const _0x4dce38=[];let _0x2b4f3e=0x1aea+-0x1*-0x521+-0x1fff;for(;_0x2b4f3e<_0x490aee;){const _0x53a8d9=_0x2a91fc['getUint32'](_0x2b4f3e,!(0x166f+0x1139*0x1+-0x69c*0x6));_0x2b4f3e+_0x53a8d9+(0x65b*0x3+-0x2*-0x21+-0x134b)>_0x2a91fc['byteLength']&&_0x2e2326('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x53a8d9);const _0x1431b2=_0x2a91fc['getUint32'](_0x2b4f3e+(-0x162c+-0x133f+-0x1*-0x296f),!(-0xeda+-0x26bb+0x13f*0x2b)),_0x1b663f=new Uint8Array(_0x2a91fc['buffer'],_0x2a91fc['byteOffset']+_0x2b4f3e+(0x1*0x16b9+-0x156b+-0x146),_0x53a8d9);_0x4dce38['push']({'length':_0x53a8d9,'type':_0x1431b2,'data':_0x1b663f}),_0x2b4f3e+=_0x53a8d9+(-0x4*0x64d+-0x227f+0x3bbb);}if(_0x4dce38['length']!==0x7*0x22d+-0xe35+-0x105&&_0x4dce38['length']!==0x1d1d+-0x1*0xc69+-0x10b2){_0x2e2326('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x4dce38[-0xaa2*-0x2+-0x39a+-0x11aa]['type']!==-0x49*0x150ff5+0x84356052+-0x2fe4802b*0x1){_0x2e2326('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x4dce38[0xa76+0x1562+0x1fd8*-0x1]['type']['toString'](-0x20b3+0x4a*-0x3d+0x3265));return;}if(_0x4dce38['length']>-0x1*0x136f+0x5*-0x517+0x2ce3&&_0x4dce38[-0x1b8b+0x240d+-0x881]['type']!==0x6cc22e+-0x27ee6d+0x5a5*0x1ad){_0x2e2326('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x4dce38[0x5*-0x310+0x217*-0x10+0x30c1]['type']['toString'](0x1cf*-0xb+-0x10b7*-0x1+0xa6*0x5));return;}_0x2e2326(null,{'gltfChunk':_0x4dce38[-0x3*-0xb91+-0x13e*0x6+-0x1b3f]['data'],'binaryChunk':_0x4dce38['length']===-0x1f3*-0x1+0x1a*-0x8b+-0x40f*-0x3?_0x4dce38[-0x935*-0x1+-0x26cc+0x1d98*0x1]['data']:null});},m2=(_0x481241,_0x1a8caa,_0x372001)=>{const _0x518223=()=>{const _0x10d666=new Uint8Array(_0x1a8caa);return _0x10d666[-0x2*0x119d+0x835+0x1b05]===0x15c+-0xb*0x23+0x1c*0x5&&_0x10d666[0x1c*0x21+-0xc44+-0x1*-0x8a9]===0x19c*-0x8+-0x1c3e+0x298a*0x1&&_0x10d666[-0x16f*0x7+-0x1cbb+0x26c6]===0x1f61+0x23d8+-0x42e5&&_0x10d666[0x1*-0xcaf+-0xdbc*-0x1+-0x10a]===0x1*0x1bbf+0x1*0xa3b+-0x25b4;};_0x481241&&_0x481241['toLowerCas'+'e']()['endsWith']('.glb')||_0x518223()?p2(_0x1a8caa,_0x372001):_0x372001(null,{'gltfChunk':_0x1a8caa,'binaryChunk':null});},_2=(_0x2867f9,_0xec5915,_0x2a2980)=>{var _0x412b17,_0x3d47ce,_0x102944,_0x268fe7;const _0x4d2940=[],_0x1e9f30=(_0x412b17=_0x2a2980==null?void(-0xd9f+-0x1491+0x4*0x88c):_0x2a2980['bufferView'])==null?void(0x4*-0x807+0x1722+0x8fa):_0x412b17['preprocess'],_0x3c3c03=(_0x3d47ce=_0x2a2980==null?void(0x1b9*-0x7+0x13d*-0x17+0x288a):_0x2a2980['bufferView'])==null?void(-0x2366+-0xbea+0x1*0x2f50):_0x3d47ce['processAsy'+'nc'],_0x25122e=(_0x102944=_0x2a2980==null?void(-0x197f+0xf40+-0x1*-0xa3f):_0x2a2980['bufferView'])==null?void(0x914+-0x2f*-0x33+0x1*-0x1271):_0x102944['postproces'+'s'];if(!((_0x268fe7=_0x2867f9['bufferView'+'s'])!=null&&_0x268fe7['length']))return _0x4d2940;for(let _0x113ad9=-0x229+0x2610+-0x521*0x7;_0x113ad9<_0x2867f9['bufferView'+'s']['length'];++_0x113ad9){const _0x23917f=_0x2867f9['bufferView'+'s'][_0x113ad9];_0x1e9f30&&_0x1e9f30(_0x23917f);let _0x367a0c;_0x3c3c03?_0x367a0c=new Promise((_0x86e50b,_0x32868f)=>{_0x3c3c03(_0x23917f,_0xec5915,(_0x2b021a,_0x3c7b65)=>{_0x2b021a?_0x32868f(_0x2b021a):_0x86e50b(_0x3c7b65);});}):_0x367a0c=new Promise(_0x255c41=>{_0x255c41(null);}),_0x367a0c=_0x367a0c['then'](_0x33238a=>_0x33238a||_0xec5915[_0x23917f['buffer']]['then'](_0x10d74a=>new Uint8Array(_0x10d74a['buffer'],_0x10d74a['byteOffset']+(_0x23917f['byteOffset']||-0x37c*0x8+-0x8*0x36e+0x3750),_0x23917f['byteLength']))),_0x23917f['hasOwnProp'+'erty']('byteStride')&&(_0x367a0c=_0x367a0c['then'](_0x49eb86=>(_0x49eb86['byteStride']=_0x23917f['byteStride'],_0x49eb86))),_0x25122e&&(_0x367a0c=_0x367a0c['then'](_0x34a74e=>(_0x25122e(_0x23917f,_0x34a74e),_0x34a74e))),_0x4d2940['push'](_0x367a0c);}return _0x4d2940;};class ac{static['parse'](_0xec6bcf,_0x526cf3,_0x121744,_0x241eef,_0x2d052f,_0x3cb3b4,_0x500269){m2(_0xec6bcf,_0x121744,(_0x585fd3,_0x78c52b)=>{if(_0x585fd3){_0x500269(_0x585fd3);return;}f2(_0x78c52b['gltfChunk'],(_0xa38f71,_0x4242f7)=>{if(_0xa38f71){_0x500269(_0xa38f71);return;}const _0x6265b1=u2(_0x4242f7,_0x78c52b['binaryChun'+'k'],_0x526cf3,_0x3cb3b4),_0x13ed9f=_2(_0x4242f7,_0x6265b1,_0x3cb3b4),_0x26d990=c2(_0x4242f7,_0x13ed9f,_0x526cf3,_0x2d052f,_0x3cb3b4),_0x3e1b88=d2(_0x4242f7,_0x26d990,_0x3cb3b4);o2(_0x241eef,_0x4242f7,_0x13ed9f,_0x3e1b88,_0x3cb3b4)['then'](_0x1c6ba9=>_0x500269(null,_0x1c6ba9))['catch'](_0x324809=>_0x500269(_0x324809));});});}static['createDefa'+'ultMateria'+'l'](){return Lx({'name':'defaultGlb'+'Material'},[]);}}class g2 extends Ge{constructor(_0x122984){super(_0x122984,'animation'),this['device']=_0x122984['graphicsDe'+'vice'],this['assets']=_0x122984['assets'];}['load'](_0x252990,_0x52ca93,_0x2ed371){typeof _0x252990=='string'&&(_0x252990={'load':_0x252990,'original':_0x252990});const _0x2a3d1d={'retry':this['maxRetries']>-0x1629+-0x73e+0x1d67,'maxRetries':this['maxRetries']};(_0x252990['load']['startsWith']('blob:')||_0x252990['load']['startsWith']('data:'))&&(me['getExtensi'+'on'](_0x252990['original'])['toLowerCas'+'e']()==='.glb'?_0x2a3d1d['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x2a3d1d['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x252990['load'],_0x2a3d1d,(_0x3e0976,_0x1308fc)=>{_0x3e0976?_0x52ca93('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x252990['original']+'\x20['+_0x3e0976+']'):me['getExtensi'+'on'](_0x252990['original'])['toLowerCas'+'e']()==='.glb'?ac['parse']('filename.g'+'lb','',_0x1308fc,this['device'],this['assets'],(_0x2ed371==null?void(0x1*-0x897+-0x2*0xbdd+0x2051):_0x2ed371['options'])??{},(_0x56d78e,_0x328fe2)=>{var _0x4e6406;if(_0x56d78e)_0x52ca93(_0x56d78e);else{const _0x4f495f=_0x328fe2['animations'];if((_0x4e6406=_0x2ed371==null?void(0x3d*-0x49+0x1e23+-0xe9*0xe):_0x2ed371['data'])!=null&&_0x4e6406['events']){for(let _0x892c3=-0x189d*0x1+-0x1*0x43d+0xe6d*0x2;_0x892c3<_0x4f495f['length'];_0x892c3++)_0x4f495f[_0x892c3]['events']=new K0(Object['values'](_0x2ed371['data']['events']));}_0x328fe2['destroy'](),_0x52ca93(null,_0x4f495f);}}):_0x52ca93(null,this['_parseAnim'+'ationV'+_0x1308fc['animation']['version']](_0x1308fc));});}['open'](_0x555390,_0x7c7631,_0xf1a05d){return _0x7c7631;}['_parseAnim'+'ationV3'](_0x3faf60){const _0xa335e3=_0x3faf60['animation'],_0x35f65c=new B_();_0x35f65c['name']=_0xa335e3['name'],_0x35f65c['duration']=_0xa335e3['duration'];for(let _0x58c4e8=-0x37*0x9+0xfe7+0x3*-0x4a8;_0x58c4e8<_0xa335e3['nodes']['length'];_0x58c4e8++){const _0x589c99=new O_(),_0x4cbf66=_0xa335e3['nodes'][_0x58c4e8];_0x589c99['_name']=_0x4cbf66['name'];for(let _0x2f267f=-0x3d*0x78+0x25be+-0x926*0x1;_0x2f267f<_0x4cbf66['keys']['length'];_0x2f267f++){const _0x7c498d=_0x4cbf66['keys'][_0x2f267f],_0x5e7f1b=_0x7c498d['time'],_0x1602f0=_0x7c498d['pos'],_0x158076=_0x7c498d['rot'],_0x3592a0=_0x7c498d['scale'],_0x41cd9f=new A(_0x1602f0[-0x745+-0x23*0x43+0x106e],_0x1602f0[0x135*-0x9+0x133*-0x6+0x1210],_0x1602f0[0x1*0xe55+-0x8d*0x3+-0x4*0x32b]),_0x137764=new ie()['setFromEul'+'erAngles'](_0x158076[0xb82+0xf*0x21f+-0x2b53],_0x158076[0xfb6+-0x1153+-0x6*-0x45],_0x158076[0x10b3+0x1e*0x29+-0x157f]),_0x177a78=new A(_0x3592a0[-0x1*-0xa47+-0x1ca2+-0x125b*-0x1],_0x3592a0[0x1f9a+0x7*-0x1d5+-0x9*0x216],_0x3592a0[-0x1db3*0x1+-0xe82+0x15*0x21b]),_0x42193b=new k_(_0x5e7f1b,_0x41cd9f,_0x137764,_0x177a78);_0x589c99['_keys']['push'](_0x42193b);}_0x35f65c['addNode'](_0x589c99);}return _0x35f65c;}['_parseAnim'+'ationV4'](_0x548105){const _0x39f75f=_0x548105['animation'],_0x522202=new B_();_0x522202['name']=_0x39f75f['name'],_0x522202['duration']=_0x39f75f['duration'];for(let _0x19cd7f=-0xb*0xae+0x67*-0x5+-0x97d*-0x1;_0x19cd7f<_0x39f75f['nodes']['length'];_0x19cd7f++){const _0x546bc3=new O_(),_0x59a779=_0x39f75f['nodes'][_0x19cd7f];_0x546bc3['_name']=_0x59a779['name'];const _0xf8ac56=_0x59a779['defaults']['p'],_0x5c177e=_0x59a779['defaults']['r'],_0x522490=_0x59a779['defaults']['s'];for(let _0x1744a0=0x5*0x3c7+-0x7c9+0x2*-0x58d;_0x1744a0<_0x59a779['keys']['length'];_0x1744a0++){const _0x4b83a0=_0x59a779['keys'][_0x1744a0],_0x4c6a38=_0x4b83a0['t'],_0x31017d=_0xf8ac56||_0x4b83a0['p'],_0x10beb6=_0x5c177e||_0x4b83a0['r'],_0xb81426=_0x522490||_0x4b83a0['s'],_0x22b227=new A(_0x31017d[-0x1*-0x9d7+0x1f60+-0x2937*0x1],_0x31017d[-0x2*-0xae6+-0x10e1*0x1+0x4a*-0x11],_0x31017d[0x22fc+0x61*-0xc+-0x1e6e]),_0x2c80f3=new ie()['setFromEul'+'erAngles'](_0x10beb6[-0x230*0x2+0xadc+-0x67c],_0x10beb6[-0x115*0x12+0x1404+0x89*-0x1],_0x10beb6[0xcb*0x1d+-0x1579+-0x184]),_0x554f50=new A(_0xb81426[0x1*-0x907+-0x745+0x104c],_0xb81426[-0xc77+0xb74*0x2+-0x2*0x538],_0xb81426[0x3f7*0x1+-0x79*-0x2+0x5*-0xfb]),_0x57e26a=new k_(_0x4c6a38,_0x22b227,_0x2c80f3,_0x554f50);_0x546bc3['_keys']['push'](_0x57e26a);}_0x522202['addNode'](_0x546bc3);}return _0x522202;}}class y2 extends Ge{constructor(_0x56b03c){super(_0x56b03c,'animclip');}['load'](_0x42c928,_0x4cad45){typeof _0x42c928=='string'&&(_0x42c928={'load':_0x42c928,'original':_0x42c928});const _0x46115e={'retry':this['maxRetries']>0x1580+0x4*0xbc+-0x1870,'maxRetries':this['maxRetries']};_0x42c928['load']['startsWith']('blob:')&&(_0x46115e['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x42c928['load'],_0x46115e,(_0x272483,_0x3e5c75)=>{_0x272483?_0x4cad45('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x42c928['original']+'\x20['+_0x272483+']'):_0x4cad45(null,_0x3e5c75);});}['open'](_0x304e4f,_0x319f0e){const _0x67d246=_0x319f0e['name'],_0x1ae3c5=_0x319f0e['duration'],_0x18be55=_0x319f0e['inputs']['map'](_0x4e35c6=>new rc(0x15da+-0xb92+0x1*-0xa47,_0x4e35c6)),_0x55ecbc=_0x319f0e['outputs']['map'](_0x238787=>new rc(_0x238787['components'],_0x238787['data'])),_0x522f50=_0x319f0e['curves']['map'](_0x3772d0=>new Rx([_0x3772d0['path']],_0x3772d0['inputIndex'],_0x3772d0['outputInde'+'x'],_0x3772d0['interpolat'+'ion']));return new ki(_0x67d246,_0x1ae3c5,_0x18be55,_0x55ecbc,_0x522f50);}}class x2 extends Ge{constructor(_0x2205e6){super(_0x2205e6,'animstateg'+'raph');}['load'](_0x4768bf,_0x3b49e3){typeof _0x4768bf=='string'&&(_0x4768bf={'load':_0x4768bf,'original':_0x4768bf});const _0x5890a5={'retry':this['maxRetries']>0xc54+0x1bf5+-0x2849,'maxRetries':this['maxRetries']};_0x4768bf['load']['startsWith']('blob:')&&(_0x5890a5['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x4768bf['load'],_0x5890a5,(_0x14570d,_0x35143b)=>{_0x14570d?_0x3b49e3('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x4768bf['original']+'\x20['+_0x14570d+']'):_0x3b49e3(null,_0x35143b);});}['open'](_0x25249d,_0x422a76){return new Sh(_0x422a76);}}const su=(function(){if(typeof window>'u')return!(-0x2*0x1181+0x236e+0x1*-0x6b);const _0x163b22=window['navigator']['userAgent'],_0x408d94=_0x163b22['indexOf']('MSIE\x20');if(_0x408d94>0x1*-0x27d+-0x83a+0xab7)return parseInt(_0x163b22['substring'](_0x408d94+(0x5*-0x49+0x12e5+-0x1173),_0x163b22['indexOf']('.',_0x408d94)),-0x12ee+0x8b7*0x2+0x18a);if(_0x163b22['indexOf']('Trident/')>0x12a6+-0x3*-0x869+0x2f*-0xef){const _0x5c41a3=_0x163b22['indexOf']('rv:');return parseInt(_0x163b22['substring'](_0x5c41a3+(0x2b*0x22+-0x2*-0x10c0+-0x2733),_0x163b22['indexOf']('.',_0x5c41a3)),0x1e*-0xa3+0x7ac+0xb78);}return!(0x26a4+-0x1*-0x1af3+0x5*-0xd1e);}()),S2=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class v2 extends Ge{constructor(_0x386e46){super(_0x386e46,'audio'),this['manager']=_0x386e46['soundManag'+'er'],b['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0xcdb18a){const _0x4c8bda=me['getExtensi'+'on'](_0xcdb18a);return S2['indexOf'](_0x4c8bda)>-(-0x1*-0xa39+-0x24e4+0x1aac)||_0xcdb18a['startsWith']('blob:');}['load'](_0x547e2f,_0x4fc2db){typeof _0x547e2f=='string'&&(_0x547e2f={'load':_0x547e2f,'original':_0x547e2f});const _0x35736d=function(_0x1f849f){_0x4fc2db(null,new Bb(_0x1f849f));},_0x2b8067=function(_0x2cb539){let _0x5cfa6e='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x547e2f['original'];_0x2cb539&&(_0x5cfa6e+=':\x20'+(_0x2cb539['message']||_0x2cb539)),console['warn'](_0x5cfa6e),_0x4fc2db(_0x5cfa6e);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x547e2f['original'])){_0x2b8067('Audio\x20form'+'at\x20for\x20'+_0x547e2f['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x547e2f['load'],_0x35736d,_0x2b8067);}else _0x2b8067(null);}['_createSou'+'nd'](_0x3e20a8,_0x4ba687,_0x1bb73d){if(Ni()){const _0x50d16a=this['manager'];if(!_0x50d16a['context']){_0x1bb73d('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x5da7b4={'retry':this['maxRetries']>0x423+-0x18ea+-0x1b*-0xc5,'maxRetries':this['maxRetries']};(_0x3e20a8['startsWith']('blob:')||_0x3e20a8['startsWith']('data:'))&&(_0x5da7b4['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),Ye['get'](_0x3e20a8,_0x5da7b4,(_0x291bad,_0xf008a7)=>{if(_0x291bad){_0x1bb73d(_0x291bad);return;}_0x50d16a['context']['decodeAudi'+'oData'](_0xf008a7,_0x4ba687,_0x1bb73d);});}else{let _0x3a3953=null;try{_0x3a3953=new Audio();}catch{_0x1bb73d('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}su&&document['body']['appendChil'+'d'](_0x3a3953);const _0x39d1c9=function(){_0x3a3953['removeEven'+'tListener']('canplaythr'+'ough',_0x39d1c9),su&&document['body']['removeChil'+'d'](_0x3a3953),_0x4ba687(_0x3a3953);};_0x3a3953['onerror']=function(){_0x3a3953['onerror']=null,su&&document['body']['removeChil'+'d'](_0x3a3953),_0x1bb73d();},_0x3a3953['addEventLi'+'stener']('canplaythr'+'ough',_0x39d1c9),_0x3a3953['src']=_0x3e20a8;}}}class b2 extends Ge{constructor(_0x4c2561){super(_0x4c2561,'binary');}['load'](_0x2d07e0,_0x41eae2){typeof _0x2d07e0=='string'&&(_0x2d07e0={'load':_0x2d07e0,'original':_0x2d07e0}),Ye['get'](_0x2d07e0['load'],{'responseType':ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x1*0x1ca3+0xf43*0x1+-0x10*-0xd6,'maxRetries':this['maxRetries']},(_0x453736,_0x1a2e98)=>{_0x453736?_0x41eae2('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x2d07e0['original']+'\x20['+_0x453736+']'):_0x41eae2(null,_0x1a2e98);});}['openBinary'](_0xc980de){return _0xc980de['buffer'];}}class ir{constructor(_0x37e004,_0x18d372,_0x50e242,_0x45e876){const _0x5ee129=function(_0x38730c,_0x2a29ed,_0x23e5dd){const _0x175a82=ir['createAsse'+'t'](_0x18d372['name'],_0x38730c,_0x2a29ed,_0x23e5dd);return _0x50e242['add'](_0x175a82),_0x175a82;},_0x5d9e38=[];for(let _0x14d1f5=-0xe79+0x124d+-0x14*0x31;_0x14d1f5<_0x37e004['renders']['length'];++_0x14d1f5)_0x5d9e38['push'](_0x5ee129('render',_0x37e004['renders'][_0x14d1f5],_0x14d1f5));const _0x507a93=[];for(let _0x27d44b=0xf18+-0xdd5+-0x143*0x1;_0x27d44b<_0x37e004['materials']['length'];++_0x27d44b)_0x507a93['push'](_0x5ee129('material',_0x37e004['materials'][_0x27d44b],_0x27d44b));const _0x113c2c=[];for(let _0xeae091=0x26d2+0x1722+-0xf7d*0x4;_0xeae091<_0x37e004['animations']['length'];++_0xeae091)_0x113c2c['push'](_0x5ee129('animation',_0x37e004['animations'][_0xeae091],_0xeae091));this['data']=_0x37e004,this['_model']=null,this['_assetName']=_0x18d372['name'],this['_assets']=_0x50e242,this['_defaultMa'+'terial']=_0x45e876,this['renders']=_0x5d9e38,this['materials']=_0x507a93,this['textures']=_0x37e004['textures'],this['animations']=_0x113c2c;}get['model'](){if(!this['_model']){const _0x47a12a=ir['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x8ed9db=ir['createAsse'+'t'](this['_assetName'],'model',_0x47a12a,-0x1*0x2bd+0x13c*-0x2+0x1f*0x2b);this['_assets']['add'](_0x8ed9db),this['_model']=_0x8ed9db;}return this['_model'];}static['createAsse'+'t'](_0x1f15ad,_0x292b7c,_0x10c5b6,_0x20ac64){const _0x402c54=new he(_0x1f15ad+'/'+_0x292b7c+'/'+_0x20ac64,_0x292b7c,{'url':''});return _0x402c54['resource']=_0x10c5b6,_0x402c54['loaded']=!(0x8fe+0x9e8*0x1+-0x12e6),_0x402c54;}['instantiat'+'eModelEnti'+'ty'](_0x3a6560){const _0x3d500e=new je();return _0x3d500e['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x3a6560)),_0x3d500e;}['instantiat'+'eRenderEnt'+'ity'](_0x182dcc){const _0x22580a=this['_defaultMa'+'terial'],_0x1da89c=[],_0x184a48=function(_0x4ef8b5,_0x4ec6f5,_0x2778b0,_0x2ab094,_0x47161a,_0x101bee,_0x13d426,_0x287fbc){const _0x4def4f=_0x47161a[_0x2778b0['id']],_0x4f98c6=_0x4def4f===void(0x576+-0x244f+-0x1*-0x1ed9)?_0x22580a:_0x2ab094[_0x4def4f],_0x5408ce=new Be(_0x2778b0,_0x4f98c6);_0x2778b0['morph']&&(_0x5408ce['morphInsta'+'nce']=new mn(_0x2778b0['morph'])),_0x13d426['hasOwnProp'+'erty']('skin')&&_0x1da89c['push']({'meshInstance':_0x5408ce,'rootBone':_0x4ef8b5,'entity':_0x4ec6f5});const _0x251100=_0x287fbc['get'](_0x13d426);if(_0x251100){const _0x556df8=_0x251100['matrices'],_0x16ff18=Dt['getDefault'+'Instancing'+'Format'](_0x2778b0['device']),_0x1f73d7=new fs(_0x2778b0['device'],_0x16ff18,_0x556df8['length']/(-0x56*0x70+0x99a*0x4+-0xb8),{'data':_0x556df8});_0x5408ce['setInstanc'+'ing'](_0x1f73d7),_0x5408ce['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x1690+-0xec4+-0x7cc);}return _0x5408ce;},_0xa5d1c=(_0x15deb4,_0x487bd7,_0x36b910)=>{const _0x233736=new je();_0x487bd7['_cloneInte'+'rnal'](_0x233736),_0x15deb4||(_0x15deb4=_0x233736);let _0x34a435=null,_0x37c090=null;for(let _0x62d9c9=-0x1*0x2376+0x1e09+-0x1cf*-0x3;_0x62d9c9<_0x36b910['nodes']['length'];_0x62d9c9++)if(_0x36b910['nodes'][_0x62d9c9]===_0x487bd7){const _0x3cb203=_0x36b910['gltf']['nodes'][_0x62d9c9];if(_0x3cb203['hasOwnProp'+'erty']('mesh')){const _0x5c9443=_0x36b910['renders'][_0x3cb203['mesh']]['meshes'];_0x37c090=this['renders'][_0x3cb203['mesh']];for(let _0x59dfca=0xcd6+0x2*0x8aa+-0x1e2a;_0x59dfca<_0x5c9443['length'];_0x59dfca++){const _0x18c961=_0x5c9443[_0x59dfca];if(_0x18c961){const _0xb283a5=_0x184a48(_0x15deb4,_0x233736,_0x18c961,_0x36b910['materials'],_0x36b910['meshDefaul'+'tMaterials'],_0x36b910['skins'],_0x3cb203,_0x36b910['nodeInstan'+'cingMap']);_0x34a435||(_0x34a435=[]),_0x34a435['push'](_0xb283a5);}}}if(_0x36b910['lights']){const _0x298b65=_0x36b910['lights']['get'](_0x3cb203);_0x298b65&&_0x233736['addChild'](_0x298b65['clone']());}if(_0x36b910['cameras']){const _0x36d47a=_0x36b910['cameras']['get'](_0x3cb203);_0x36d47a&&_0x36d47a['camera']['system']['cloneCompo'+'nent'](_0x36d47a,_0x233736);}}_0x34a435&&(_0x233736['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x34a435},_0x182dcc)),_0x233736['render']['assignAsse'+'t'](_0x37c090));const _0xc22d4b=_0x487bd7['children'];for(let _0x4e394b=0xd45+-0x23b+-0xb0a;_0x4e394b<_0xc22d4b['length'];_0x4e394b++){const _0x599b46=_0xa5d1c(_0x15deb4,_0xc22d4b[_0x4e394b],_0x36b910);_0x233736['addChild'](_0x599b46);}return _0x233736;},_0x51d2a5=[];for(const _0x2949a4 of this['data']['scenes'])_0x51d2a5['push'](_0xa5d1c(null,_0x2949a4,this['data']));return _0x1da89c['forEach'](_0x3a8964=>{_0x3a8964['meshInstan'+'ce']['skinInstan'+'ce']=$o['createCach'+'edSkinInst'+'ance'](_0x3a8964['meshInstan'+'ce']['mesh']['skin'],_0x3a8964['rootBone'],_0x3a8964['entity']),_0x3a8964['meshInstan'+'ce']['node']['render']['rootBone']=_0x3a8964['rootBone'];}),ir['createScen'+'eHierarchy'](_0x51d2a5,je);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x3b92e8,_0xf8900e){const _0x2fb231=_0xf8900e?this['data']['variants'][_0xf8900e]:null;if(_0x2fb231===void(-0x579+-0xe3e+0x13b7)){b['warn']('No\x20variant'+'\x20named\x20'+_0xf8900e+('\x20exists\x20in'+'\x20resource'));return;}const _0x28a088=_0x3b92e8['findCompon'+'ents']('render');for(let _0x47b6b7=-0x1*0x107+-0x1f2d*0x1+0x2034;_0x47b6b7<_0x28a088['length'];_0x47b6b7++){const _0x6652d1=_0x28a088[_0x47b6b7];this['_applyMate'+'rialVarian'+'t'](_0x2fb231,_0x6652d1['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x1956ca,_0x2e2d77){const _0x2348d9=_0x2e2d77?this['data']['variants'][_0x2e2d77]:null;if(_0x2348d9===void(-0x2290+-0x7*-0x1ac+0x16dc)){b['warn']('No\x20variant'+'\x20named\x20'+_0x2e2d77+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x2348d9,_0x1956ca);}['_applyMate'+'rialVarian'+'t'](_0x240176,_0x2142fb){_0x2142fb['forEach'](_0x1793b8=>{if(_0x240176===null)_0x1793b8['material']=this['_defaultMa'+'terial'];else{const _0x13e206=this['data']['meshVarian'+'ts'][_0x1793b8['mesh']['id']];_0x13e206&&(_0x1793b8['material']=this['data']['materials'][_0x13e206[_0x240176]]);}b['assert'](_0x1793b8['material']);});}static['createScen'+'eHierarchy'](_0x41e2d7,_0x382362){let _0x9da873=null;if(_0x41e2d7['length']===0x1949+0x8dc+-0x2224)_0x9da873=_0x41e2d7[-0x10f2+0x13c6+-0x2d4];else{_0x9da873=new _0x382362('SceneGroup');for(const _0x3fc2a4 of _0x41e2d7)_0x9da873['addChild'](_0x3fc2a4);}return _0x9da873;}static['createMode'+'l'](_0x37eb83,_0x2d561c){const _0x244917=function(_0x4c2e6d,_0x326d8c,_0x58df15,_0x220c42,_0xc9fc32,_0x5f1a14,_0x4561bc){const _0x3cee90=_0x37eb83['meshDefaul'+'tMaterials'][_0x326d8c['id']],_0x3b775e=_0x3cee90===void(-0x2*0xdd5+-0x1*-0x1b25+0x85)?_0x2d561c:_0xc9fc32[_0x3cee90],_0x536c5f=new Be(_0x326d8c,_0x3b775e,_0x5f1a14);if(_0x326d8c['morph']){const _0x5e66f3=new mn(_0x326d8c['morph']);_0x536c5f['morphInsta'+'nce']=_0x5e66f3,_0x4c2e6d['morphInsta'+'nces']['push'](_0x5e66f3);}if(_0x4561bc['hasOwnProp'+'erty']('skin')){const _0x1fa111=_0x4561bc['skin'],_0x439ff0=_0x58df15[_0x1fa111];_0x326d8c['skin']=_0x439ff0;const _0x50c0bd=_0x220c42[_0x1fa111];_0x536c5f['skinInstan'+'ce']=_0x50c0bd,_0x4c2e6d['skinInstan'+'ces']['push'](_0x50c0bd);}_0x4c2e6d['meshInstan'+'ces']['push'](_0x536c5f);},_0xa9a123=new Ui(),_0xd1eee4=[];for(const _0x1f7653 of _0x37eb83['skins']){const _0x19b203=new hl(_0x1f7653);_0x19b203['bones']=_0x1f7653['bones'],_0xd1eee4['push'](_0x19b203);}_0xa9a123['graph']=ir['createScen'+'eHierarchy'](_0x37eb83['scenes'],Oe);for(let _0x48fb3a=-0x1d8a*-0x1+0x1*-0x1b5+-0x1bd5;_0x48fb3a<_0x37eb83['nodes']['length'];_0x48fb3a++){const _0x5cb7c9=_0x37eb83['nodes'][_0x48fb3a];if(_0x5cb7c9['root']===_0xa9a123['graph']){const _0x12b36d=_0x37eb83['gltf']['nodes'][_0x48fb3a];if(_0x12b36d['hasOwnProp'+'erty']('mesh')){const _0x58de4e=_0x37eb83['renders'][_0x12b36d['mesh']]['meshes'];for(let _0x4c91e7=-0x109d*0x1+0x47*-0x1+0x439*0x4;_0x4c91e7<_0x58de4e['length'];_0x4c91e7++){const _0x3dff0d=_0x58de4e[_0x4c91e7];_0x3dff0d&&_0x244917(_0xa9a123,_0x3dff0d,_0x37eb83['skins'],_0xd1eee4,_0x37eb83['materials'],_0x5cb7c9,_0x12b36d);}}}}return _0xa9a123;}['destroy'](){const _0x244d30=this['_assets'],_0x5688a8=function(_0x5a1dbc){_0x244d30['remove'](_0x5a1dbc),_0x5a1dbc['unload']();},_0x3b8bad=function(_0xe689ed){_0xe689ed['forEach'](_0xe2fd71=>{_0x5688a8(_0xe2fd71);});};this['animations']&&(_0x3b8bad(this['animations']),this['animations']=null),this['textures']&&(_0x3b8bad(this['textures']),this['textures']=null),this['materials']&&(_0x3b8bad(this['materials']),this['materials']=null),this['renders']&&(_0x3b8bad(this['renders']),this['renders']=null),this['_model']&&(_0x5688a8(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class w2{constructor(_0x3a360e,_0x286444,_0x476c7a){this['_device']=_0x3a360e,this['_assets']=_0x286444,this['_defaultMa'+'terial']=ac['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x476c7a;}['_getUrlWit'+'houtParams'](_0x14cded){return _0x14cded['indexOf']('?')>=0xb*0x274+-0x11e6+-0x916?_0x14cded['split']('?')[-0x1*-0xc53+-0x4cc+-0x787]:_0x14cded;}['load'](_0x3618ae,_0x792bef,_0x3bb7cd){he['fetchArray'+'Buffer'](_0x3618ae['load'],(_0x58d10f,_0x3bf41a)=>{_0x58d10f?_0x792bef(_0x58d10f):ac['parse'](this['_getUrlWit'+'houtParams'](_0x3618ae['original']),me['extractPat'+'h'](_0x3618ae['load']),_0x3bf41a,this['_device'],_0x3bb7cd['registry'],_0x3bb7cd['options'],(_0x5e0210,_0x36a49e)=>{_0x5e0210?_0x792bef(_0x5e0210):_0x792bef(null,new ir(_0x36a49e,_0x3bb7cd,this['_assets'],this['_defaultMa'+'terial']));});},_0x3bb7cd,this['maxRetries']);}['open'](_0x1f68c3,_0x1efa1c,_0x20d4e0){return _0x1efa1c;}['patch'](_0x17245c,_0x4122cd){}}class T2 extends Ge{constructor(_0x4f0be7){super(_0x4f0be7,'container'),this['glbContain'+'erParser']=new w2(_0x4f0be7['graphicsDe'+'vice'],_0x4f0be7['assets'],0x19*-0xa1+0x1fd5+0x80e*-0x2),this['parsers']={};}set['maxRetries'](_0x3cba7d){this['glbContain'+'erParser']['maxRetries']=_0x3cba7d;for(const _0x505c22 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x505c22)&&(this['parsers'][_0x505c22]['maxRetries']=_0x3cba7d);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x17ad04){return _0x17ad04['indexOf']('?')>=0xe4b*0x1+0x268c+0x3*-0x119d?_0x17ad04['split']('?')[-0x2232+0x22*0xf1+0x118*0x2]:_0x17ad04;}['_getParser'](_0x1f2cfe){const _0x43383d=_0x1f2cfe?me['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x1f2cfe))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x43383d]||this['glbContain'+'erParser'];}['load'](_0x56d628,_0x6722b9,_0x14b3d4){typeof _0x56d628=='string'&&(_0x56d628={'load':_0x56d628,'original':_0x56d628}),this['_getParser'](_0x56d628['original'])['load'](_0x56d628,_0x6722b9,_0x14b3d4);}['open'](_0xc20011,_0x39157e,_0x4d5853){return this['_getParser'](_0xc20011)['open'](_0xc20011,_0x39157e,_0x4d5853);}}class A2 extends Ge{constructor(_0x337750){super(_0x337750,'css'),c(this,'decoder',null);}['load'](_0x44b5d4,_0x48c968){typeof _0x44b5d4=='string'&&(_0x44b5d4={'load':_0x44b5d4,'original':_0x44b5d4}),Ye['get'](_0x44b5d4['load'],{'retry':this['maxRetries']>-0x155d+0x1096+-0x4c7*-0x1,'maxRetries':this['maxRetries']},(_0x350599,_0x4b7c61)=>{_0x350599?_0x48c968('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x44b5d4['original']+'\x20['+_0x350599+']'):_0x48c968(null,_0x4b7c61);});}['openBinary'](_0x161fa2){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x161fa2);}}class E2 extends Ge{constructor(_0x216b08){super(_0x216b08,'cubemap'),this['_device']=_0x216b08['graphicsDe'+'vice'],this['_registry']=_0x216b08['assets'],this['_loader']=_0x216b08['loader'];}['load'](_0x576325,_0x100b6c,_0x42aa5b){this['loadAssets'](_0x42aa5b,_0x100b6c);}['open'](_0x1011c5,_0x252b6b,_0x14fa9f){return _0x14fa9f?_0x14fa9f['resource']:null;}['patch'](_0x15929f,_0xad9124){this['loadAssets'](_0x15929f,(_0x35ac62,_0x1703ee)=>{_0x35ac62&&(_0xad9124['fire']('error',_0x15929f),_0xad9124['fire']('error:'+_0x15929f['id'],_0x35ac62,_0x15929f),_0x15929f['fire']('error',_0x15929f));});}['getAssetId'+'s'](_0x3fcbde){const _0x63e621=[];if(_0x63e621[-0x26c7+-0x4d*-0x43+-0x4*-0x4a8]=_0x3fcbde['file'],(_0x3fcbde['loadFaces']||!_0x3fcbde['file'])&&_0x3fcbde['data']&&_0x3fcbde['data']['textures']){for(let _0x255e3b=0xde4+-0x236e+0x158a;_0x255e3b<0x237*0x1+0x1f6f+0x10d*-0x20;++_0x255e3b)_0x63e621[_0x255e3b+(0x1932+-0x1407*0x1+0x2*-0x295)]=_0x3fcbde['data']['textures'][_0x255e3b];}else _0x63e621[0x93b+-0xbfa+0x16*0x20]=_0x63e621[0x1a3d+0x47b+-0x2*0xf5b]=_0x63e621[0x16b5+0xd62+-0x2414]=_0x63e621[0x24b*-0x5+-0x851*-0x1+0xf*0x36]=_0x63e621[-0xbf1+0xe53+0x5*-0x79]=_0x63e621[-0x13a*-0x3+-0x1009+0xc61]=null;return _0x63e621;}['compareAss'+'etIds'](_0x3c8b5f,_0x30c58a){return _0x3c8b5f&&_0x30c58a?parseInt(_0x3c8b5f,0x176*-0x9+-0x7dd+0x150d*0x1)===_0x3c8b5f||typeof _0x3c8b5f=='string'?_0x3c8b5f===_0x30c58a:_0x3c8b5f['url']===_0x30c58a['url']:_0x3c8b5f!==null==(_0x30c58a!==null);}['update'](_0xaaefe6,_0x2bdb6b,_0x497ebb){const _0x732a13=_0xaaefe6['data']||{},_0x1fad27=_0xaaefe6['_handlerSt'+'ate']['assets'],_0x4b895a=_0xaaefe6['_resources'];let _0x390ed6,_0x40bb5c,_0x442f36;const _0x33bbde=[null,null,null,null,null,null,null],_0x29e5a2=function(){return _0x732a13['hasOwnProp'+'erty']('type')?_0x732a13['type']:_0x732a13['hasOwnProp'+'erty']('rgbm')?_0x732a13['rgbm']?ln:Bi:null;};if(!_0xaaefe6['loaded']||_0x497ebb[-0x1faf*0x1+-0xace+-0x95*-0x49]!==_0x1fad27[-0x2173+-0xf2f+0xa*0x4dd]){if(_0x497ebb[-0xa9b+-0x1341+-0x9c*-0x31]){if(_0x390ed6=_0x497ebb[0x2042+0x1692+-0x36d4]['resource'],_0x390ed6['cubemap']){for(_0x442f36=-0x24da+0x2ef*0x8+0x23b*0x6;_0x442f36<-0xc7c+-0x198b+0xcaf*0x3;++_0x442f36)_0x33bbde[_0x442f36+(-0x18a+-0x9d5+0xb60)]=new ce(this['_device'],{'name':_0xaaefe6['name']+('_prelitCub'+'emap')+(_0x390ed6['width']>>_0x442f36),'cubemap':!(-0x11a6+-0x2*0x752+0x1025*0x2),'type':_0x29e5a2()||_0x390ed6['type'],'width':_0x390ed6['width']>>_0x442f36,'height':_0x390ed6['height']>>_0x442f36,'format':_0x390ed6['format'],'levels':[_0x390ed6['_levels'][_0x442f36]],'addressU':oe,'addressV':oe,'mipmaps':_0x442f36===0x199b+-0x366+-0x1635});}else _0x33bbde[0x58f*-0x6+0x170*0x6+0x18bb]=_0x390ed6;}}else _0x33bbde[-0xef4+-0x2b6*0xe+0x5e1*0x9]=_0x4b895a[-0x22fb+-0x6a7*0x2+0x304a]||null,_0x33bbde[0x2a8+-0x2f*-0x3+-0x111*0x3]=_0x4b895a[0x19*0xfe+0x1*0x19f5+0x47*-0xb7]||null,_0x33bbde[-0x10*-0xc2+0x2*0xfea+-0x2bf1]=_0x4b895a[0x1e49*-0x1+0x23cb+-0x57f*0x1]||null,_0x33bbde[0x8*-0x1e1+0x116+-0x6fb*-0x2]=_0x4b895a[0x895+-0x1*-0xdfd+-0xb47*0x2]||null,_0x33bbde[-0x2*-0x829+0x11b*0x22+0x5*-0xac7]=_0x4b895a[-0x20bd+-0x105d+-0x5*-0x9d3]||null,_0x33bbde[-0x1a96+0x2a7*0x5+0xd59]=_0x4b895a[0x851+-0x10b7+-0xe*-0x9a]||null;const _0x3470e7=_0x497ebb['slice'](0x24ea+0xa53*0x1+-0x2f3c);if(!_0xaaefe6['loaded']||!this['cmpArrays'](_0x3470e7,_0x1fad27['slice'](0x1*-0x1a23+0x376+-0x2*-0xb57))){if(_0x3470e7['indexOf'](null)===-(-0x1e53*0x1+0x10*0xbc+-0x1*-0x1294)){const _0x1b4bae=_0x3470e7['map'](_0x4656fb=>_0x4656fb['resource']),_0x3ac5b6=[];for(_0x40bb5c=-0x15cb+0x2005+-0xa3a;_0x40bb5c<_0x1b4bae[0xfab+-0xab*-0x18+-0x1fb3]['_levels']['length'];++_0x40bb5c)_0x3ac5b6['push'](_0x1b4bae['map'](_0x2d7c55=>_0x2d7c55['_levels'][_0x40bb5c]));const _0x34863e=_0x1b4bae[-0x54f*0x1+-0x1f1*0x5+0xf04]['format'],_0x386f74=new ce(this['_device'],{'name':_0xaaefe6['name']+'_faces','cubemap':!(0x2429+0x7*-0x129+-0x1c0a),'type':_0x29e5a2()||_0x1b4bae[-0x1dba+0x2688+0xe*-0xa1]['type'],'width':_0x1b4bae[-0xc2+0x175d*-0x1+-0xd*-0x1db]['width'],'height':_0x1b4bae[-0x1b3e+0x11d4*0x1+-0x2*-0x4b5]['height'],'format':_0x34863e===ur?Te:_0x34863e,'mipmaps':_0x732a13['mipmaps']??!(-0x33+0x1e0+-0x1ad),'levels':_0x3ac5b6,'minFilter':_0x732a13['hasOwnProp'+'erty']('minFilter')?_0x732a13['minFilter']:_0x1b4bae[-0x1d96+-0x209d+0x3e33]['minFilter'],'magFilter':_0x732a13['hasOwnProp'+'erty']('magFilter')?_0x732a13['magFilter']:_0x1b4bae[0xe8f*-0x2+-0xcab+-0x233*-0x13]['magFilter'],'anisotropy':_0x732a13['hasOwnProp'+'erty']('anisotropy')?_0x732a13['anisotropy']:-0x2*-0x12c3+-0x123c+-0x1349*0x1,'addressU':oe,'addressV':oe});_0x33bbde[-0x1d*-0x14f+0x11b5+-0x37a8]=_0x386f74;}}else _0x33bbde[0x15f8+0x35e+-0x5e*0x45]=_0x4b895a[0x4f*0x2c+0x22*0x101+-0xc5*0x3e]||null;if(!this['cmpArrays'](_0x33bbde,_0x4b895a)){for(_0xaaefe6['resources']=_0x33bbde,_0xaaefe6['_handlerSt'+'ate']['assetIds']=_0x2bdb6b,_0xaaefe6['_handlerSt'+'ate']['assets']=_0x497ebb,_0x442f36=0x4cd*0x1+-0xa7e+0x5b1;_0x442f36<_0x4b895a['length'];++_0x442f36)_0x4b895a[_0x442f36]!==null&&_0x33bbde['indexOf'](_0x4b895a[_0x442f36])===-(-0x3*-0x363+0xc7d+-0x16a5)&&_0x4b895a[_0x442f36]['destroy']();}for(_0x442f36=0xd61+0x2648+-0x33a9;_0x442f36<_0x1fad27['length'];++_0x442f36)_0x1fad27[_0x442f36]!==null&&_0x497ebb['indexOf'](_0x1fad27[_0x442f36])===-(0x4*0x494+0x2038+-0x1*0x3287)&&_0x1fad27[_0x442f36]['unload']();}['cmpArrays'](_0x36337e,_0x26ff21){if(_0x36337e['length']!==_0x26ff21['length'])return!(-0xf*0x32+0x7*0x3fd+-0x18fc);for(let _0x459c17=-0xf89+-0x1b8e+-0x3*-0xe5d;_0x459c17<_0x36337e['length'];++_0x459c17)if(_0x36337e[_0x459c17]!==_0x26ff21[_0x459c17])return!(0x3a8+-0x206+0x1a1*-0x1);return!(-0x54f+0x781*-0x4+-0x1*-0x2353);}['resolveId'](_0x516cc6){const _0x186e4e=parseInt(_0x516cc6,0xf6c+-0x6*0x291+0x4);return _0x186e4e===_0x516cc6||_0x186e4e['toString']()===_0x516cc6?_0x186e4e:_0x516cc6;}['loadAssets'](_0x38f1b5,_0x175abb){_0x38f1b5['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x38f1b5['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x5183b0=this,_0x102bfc=_0x5183b0['getAssetId'+'s'](_0x38f1b5),_0x3999bf=[null,null,null,null,null,null,null],_0x179ca6=_0x38f1b5['_handlerSt'+'ate']['assetIds'],_0x45bb5d=_0x38f1b5['_handlerSt'+'ate']['assets'],_0x4bc4d1=_0x5183b0['_registry'];let _0x1aa745=-0x61*0x3d+0x265*-0xb+0x317b;const _0x165420=function(_0x45e918,_0x1dc200){_0x3999bf[_0x45e918]=_0x1dc200,_0x1aa745--,_0x1aa745===-0xc7d+-0x22*-0xb0+-0xae3&&(_0x5183b0['update'](_0x38f1b5,_0x102bfc,_0x3999bf),_0x175abb(null,_0x38f1b5['resources']));},_0x5608d5=function(_0x477f58,_0x5124e6,_0x4a6dc4){_0x175abb(_0x5124e6);},_0xae90ad=function(_0x298726,_0x1849a8){_0x1849a8['loaded']?_0x165420(_0x298726,_0x1849a8):(_0x4bc4d1['once']('load:'+_0x1849a8['id'],_0x165420['bind'](_0x5183b0,_0x298726)),_0x4bc4d1['once']('error:'+_0x1849a8['id'],_0x5608d5['bind'](_0x5183b0,_0x298726)),_0x1849a8['loading']||_0x4bc4d1['load'](_0x1849a8));};let _0x204844;for(let _0x12b131=0x2493+-0x98*0xa+-0x17*0x155;_0x12b131<-0x220+0xc11+0x4f5*-0x2;++_0x12b131){const _0x54a6b1=this['resolveId'](_0x102bfc[_0x12b131]);if(!_0x54a6b1)_0x165420(_0x12b131,null);else{if(_0x5183b0['compareAss'+'etIds'](_0x54a6b1,_0x179ca6[_0x12b131]))_0xae90ad(_0x12b131,_0x45bb5d[_0x12b131]);else{if(parseInt(_0x54a6b1,0x1a9*0xd+-0x7*0x560+0x1015)===_0x54a6b1)_0x204844=_0x4bc4d1['get'](_0x54a6b1),_0x204844?_0xae90ad(_0x12b131,_0x204844):setTimeout(((_0x552e7d,_0x5afeba)=>{const _0x4af668=_0x4bc4d1['get'](_0x5afeba);_0x4af668?_0xae90ad(_0x552e7d,_0x4af668):_0x5608d5(_0x552e7d,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x5afeba);})['bind'](null,_0x12b131,_0x54a6b1));else{const _0x439498=typeof _0x54a6b1=='string'?{'url':_0x54a6b1,'filename':_0x54a6b1}:_0x54a6b1,_0x4f6b7f=_0x439498['url']['search']('.dds')===-(-0xc71+0x41c+0x856)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(0x328*0x5+0xb2b*-0x3+-0x1*-0x11ba)}:null;_0x204844=new he(_0x38f1b5['name']+'_part_'+_0x12b131,'texture',_0x439498,_0x4f6b7f),_0x4bc4d1['add'](_0x204844),_0xae90ad(_0x12b131,_0x204844);}}}}}}class C2 extends Ge{constructor(_0x2bf78c){super(_0x2bf78c,'folder');}['load'](_0x576e05,_0xf6b02a){_0xf6b02a(null,null);}}class zg{constructor(_0x11d615,_0x3baa49){this['type']=_0x3baa49&&_0x3baa49['type']||tc,this['em']=-0x1*0x142d+-0x85d*-0x1+-0x37*-0x37,this['textures']=_0x11d615,this['intensity']=-0x2*-0x167+-0x1ee2+0x2*0xe0a,this['_data']=null,this['data']=_0x3baa49;}set['data'](_0x22dee7){if(this['_data']=_0x22dee7,!!_0x22dee7&&(this['_data']['intensity']!==void(-0x2432+0x1cf7*-0x1+-0x4129*-0x1)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0xc*0x179+-0x2*-0xaee+-0x42e)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x471723 in this['_data']['chars'])this['_data']['chars'][_0x471723]['map']=0x1f26+0xe*0x242+0x115*-0x3a;}}get['data'](){return this['_data'];}}function iu(_0x50955c){return _0x50955c['version']<-0x7f4+0xe3d+-0x646&&(_0x50955c['version']<-0x1010*0x1+0x1*-0x593+0x15a5&&(_0x50955c['info']['maps']=_0x50955c['info']['maps']||[{'width':_0x50955c['info']['width'],'height':_0x50955c['info']['height']}]),_0x50955c['chars']=Object['keys'](_0x50955c['chars']||{})['reduce']((_0x242124,_0x2088cb)=>{const _0x2910f8=_0x50955c['chars'][_0x2088cb],_0x3852f2=_0x2910f8['letter']!==void(-0x8e5+0x5*-0x214+0x1349)?_0x2910f8['letter']:dh['fromCodePo'+'int'](_0x2088cb);return _0x50955c['version']<-0x2d6+0x1*-0x1a7d+0x1d55&&(_0x2910f8['map']=_0x2910f8['map']||0x20a8+0x1358+-0x68*0x80),_0x242124[_0x3852f2]=_0x2910f8,_0x242124;},{}),_0x50955c['version']=-0x1793+-0xb29*0x1+0x22bf),_0x50955c;}class M2 extends Ge{constructor(_0x2cf965){super(_0x2cf965,'font'),this['_loader']=_0x2cf965['loader'],this['maxRetries']=0x1296+0x1be3+-0x2e79;}['load'](_0x2d3886,_0xce293c,_0x50f95c){typeof _0x2d3886=='string'&&(_0x2d3886={'load':_0x2d3886,'original':_0x2d3886});const _0x109cfd=this;me['getExtensi'+'on'](_0x2d3886['original'])==='.json'?Ye['get'](_0x2d3886['load'],{'retry':this['maxRetries']>-0x2f*0x51+0x385+-0xb5a*-0x1,'maxRetries':this['maxRetries']},(_0x3e6494,_0x5d0b70)=>{if(_0x3e6494)_0xce293c('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x2d3886['original']+'\x20['+_0x3e6494+']');else{const _0x2ba5b8=iu(_0x5d0b70);_0x109cfd['_loadTextu'+'res'](_0x2d3886['load']['replace']('.json','.png'),_0x2ba5b8,(_0x5b5389,_0xa9d4d9)=>{_0x5b5389?_0xce293c(_0x5b5389):_0xce293c(null,{'data':_0x2ba5b8,'textures':_0xa9d4d9});});}}):(_0x50f95c&&_0x50f95c['data']&&(_0x50f95c['data']=iu(_0x50f95c['data'])),this['_loadTextu'+'res'](_0x2d3886['load'],_0x50f95c&&_0x50f95c['data'],_0xce293c));}['_loadTextu'+'res'](_0x434529,_0x217368,_0x26261b){const _0x452220=_0x217368['info']['maps']['length'];let _0x3aaeb3=-0x972+0x1a*-0x84+-0x3cf*-0x6,_0x32ca0f=null;const _0x5a422b=new Array(_0x452220),_0x2e9642=this['_loader'],_0x4f225a=function(_0x3c295a){const _0x19d04f=function(_0x677f50,_0x1111a6){if(!_0x32ca0f){if(_0x677f50){_0x32ca0f=_0x677f50,_0x26261b(_0x677f50);return;}_0x1111a6['upload'](),_0x5a422b[_0x3c295a]=_0x1111a6,_0x3aaeb3++,_0x3aaeb3===_0x452220&&_0x26261b(null,_0x5a422b);}};_0x3c295a===0x5*-0x48f+0x2*-0x1a5+0x1a15?_0x2e9642['load'](_0x434529,'texture',_0x19d04f):_0x2e9642['load'](_0x434529['replace']('.png',_0x3c295a+'.png'),'texture',_0x19d04f);};for(let _0x1b1e91=-0x172b+-0x6*0x17+0x17b5*0x1;_0x1b1e91<_0x452220;_0x1b1e91++)_0x4f225a(_0x1b1e91);}['open'](_0x6bd9e0,_0x3fcad7,_0x4c1529){let _0x558f03;return _0x3fcad7['textures']?_0x558f03=new zg(_0x3fcad7['textures'],_0x3fcad7['data']):_0x558f03=new zg(_0x3fcad7,null),_0x558f03;}['patch'](_0x4ac2e9,_0x2e368c){const _0x8b1a67=_0x4ac2e9['resource'];!_0x8b1a67['data']&&_0x4ac2e9['data']?_0x8b1a67['data']=_0x4ac2e9['data']:!_0x4ac2e9['data']&&_0x8b1a67['data']&&(_0x4ac2e9['data']=_0x8b1a67['data']),_0x4ac2e9['data']&&(_0x4ac2e9['data']=iu(_0x4ac2e9['data']));}}async function P2(){const _0x3c0a91=0x3e*0x3b+-0xe1*-0x21+-0x2b4b*0x1+0.28209479177387814;class _0x446e95{constructor(_0x229bc0,_0x31123a,_0x4a7bd0){this['x']=_0x229bc0,this['y']=_0x31123a,this['z']=_0x4a7bd0;}}class _0x28e615{constructor(_0x3e34dc,_0x507676,_0x181dd2,_0x54ef8d){this['x']=_0x3e34dc,this['y']=_0x507676,this['z']=_0x181dd2,this['w']=_0x54ef8d;}}class _0x362a47{constructor(_0x5577a6,_0x3f9280,_0x593de8,_0x259dae){this['x']=_0x5577a6,this['y']=_0x3f9280,this['z']=_0x593de8,this['w']=_0x259dae;}['set'](_0x5ef629,_0x13cf60,_0x289dd2,_0x25c5dc){this['x']=_0x5ef629,this['y']=_0x13cf60,this['z']=_0x289dd2,this['w']=_0x25c5dc;}}class _0x406c84{constructor(_0x46f112,_0x52abdc,_0x421690,_0x32746b,_0x10a1a9,_0x38314c,_0x8a485a,_0x952c17,_0xa0d1ee,_0x5c1221,_0x3427c7,_0x1909c7){const _0x4b0e20=(_0x514e79,_0x1d8016)=>{const _0x59388d=(-0x116*0x7+-0x1ed1+0x266c<<_0x1d8016)-(-0x5b1*-0x5+-0x25f7+0x983);return(_0x514e79&_0x59388d)/_0x59388d;},_0x520622=(_0x35d39c,_0x3f4f51)=>{_0x35d39c['x']=_0x4b0e20(_0x3f4f51>>>0x8*-0xc+-0x28d*-0x8+-0x13f3*0x1,0x154*-0x6+-0x2db*0x1+-0xade*-0x1),_0x35d39c['y']=_0x4b0e20(_0x3f4f51>>>-0x2362+0xe2*-0x18+0x12df*0x3,-0x2461*-0x1+-0xc86*-0x2+0x8c5*-0x7),_0x35d39c['z']=_0x4b0e20(_0x3f4f51,0x2*-0x205+-0x7*-0xd3+-0x1b0);},_0x3e71ce=(_0x5df72b,_0x3d8983)=>{_0x5df72b['x']=_0x4b0e20(_0x3d8983>>>0x1bb3+-0xd*-0x17b+-0x2eda,-0x3*0xcdd+0x647+-0x3c*-0x8a),_0x5df72b['y']=_0x4b0e20(_0x3d8983>>>0xbf2+-0x3e4+-0x7fe,0xfcf+-0x1a96+0xacf*0x1),_0x5df72b['z']=_0x4b0e20(_0x3d8983>>>-0x46*-0x5b+-0xd9a+-0xb40,-0x4*-0x80f+-0xc81+-0x13b3),_0x5df72b['w']=_0x4b0e20(_0x3d8983,0xdcc*0x1+-0x1*0x19b8+0xb4*0x11);},_0xc18f0d=(_0x509000,_0x2f7ba7)=>{const _0x1ee497=(0xcc8+0x1e38+0x3*-0xe55)/(Math['sqrt'](-0x2*0xa7b+-0x75*0x29+0x13*0x217)*(0xceb*0x1+0x4*0x328+0x1*-0x198b+0.5)),_0x3918b3=(_0x4b0e20(_0x2f7ba7>>>0x3b*-0x6d+0x1e0a+-0x4d7,0x21fa+-0x5f3+-0x1bfd)-(0x1696+0xa2b+0xaeb*-0x3+0.5))*_0x1ee497,_0x555bd3=(_0x4b0e20(_0x2f7ba7>>>0x19*0x35+-0x2*-0xeae+-0x227f,-0x170d*0x1+0x2103+0x1fc*-0x5)-(0x2360+-0x2*-0xd8a+0x4*-0xf9d+0.5))*_0x1ee497,_0x4f7eb1=(_0x4b0e20(_0x2f7ba7,-0x1*-0x371+-0x2333*0x1+0x1fcc)-(0x1384+0x1948+-0x2ccc+0.5))*_0x1ee497,_0x4a6cc3=Math['sqrt'](0x508*-0x2+0x1*-0x755+0x1166-(_0x3918b3*_0x3918b3+_0x555bd3*_0x555bd3+_0x4f7eb1*_0x4f7eb1));switch(_0x2f7ba7>>>-0x6a1*0x1+-0x64c+-0x3f*-0x35){case-0x18df+0xeb+0x17f4:_0x509000['set'](_0x3918b3,_0x555bd3,_0x4f7eb1,_0x4a6cc3);break;case-0x1*0x469+0x133e+-0xed4:_0x509000['set'](_0x4a6cc3,_0x555bd3,_0x4f7eb1,_0x3918b3);break;case-0xde3+-0xf9e+0x1d83:_0x509000['set'](_0x555bd3,_0x4a6cc3,_0x4f7eb1,_0x3918b3);break;case-0x135e+0x262+-0x13*-0xe5:_0x509000['set'](_0x555bd3,_0x4f7eb1,_0x4a6cc3,_0x3918b3);break;}},_0x5af83a=(_0x53cadf,_0x2941cf,_0x449856)=>_0x53cadf*(-0x1992+-0xe86+0x5*0x805-_0x449856)+_0x2941cf*_0x449856,_0x4630e1=[0x41d+-0x1568+-0x5*-0x376,0xccf*0x1+-0xac3+-0x204,0x17cc*-0x1+0x24b0+0x2d*-0x49][_0x10a1a9-(-0xb77+-0x32e+0xea6)],_0x117259=0x1e53+0x1beb+-0x3a38;this['read']=_0x5c67b5=>{const _0x401e8c=Math['floor'](_0x5c67b5/(-0x174c+-0x159e+-0x7a7*-0x6))*_0x52abdc;if(_0x38314c&&(_0x520622(_0x38314c,_0x421690[_0x5c67b5*_0x117259+(0x133a+0x21f6+0x10*-0x353)]),_0x38314c['x']=_0x5af83a(_0x46f112[_0x401e8c+(0x2eb*-0x1+-0xa93+0x9d*0x16)],_0x46f112[_0x401e8c+(-0x1*0x12dd+0x877+0xa69)],_0x38314c['x']),_0x38314c['y']=_0x5af83a(_0x46f112[_0x401e8c+(0x1*-0x1f59+-0x123a+0x14e*0x26)],_0x46f112[_0x401e8c+(0x61*0x5+-0x132e+-0x1*-0x114d)],_0x38314c['y']),_0x38314c['z']=_0x5af83a(_0x46f112[_0x401e8c+(-0x5fa+0x1*-0x15fb+0x1bf7)],_0x46f112[_0x401e8c+(-0x2*-0x8cc+-0x1ad+-0xfe6)],_0x38314c['z'])),_0x8a485a&&_0xc18f0d(_0x8a485a,_0x421690[_0x5c67b5*_0x117259+(-0x22b6+-0x122c*0x2+-0x470f*-0x1)]),_0x952c17&&(_0x520622(_0x952c17,_0x421690[_0x5c67b5*_0x117259+(-0x152e+-0x535+0x1a65)]),_0x952c17['x']=_0x5af83a(_0x46f112[_0x401e8c+(0x1*-0x1145+-0x2*0x897+-0x5*-0x6e5)],_0x46f112[_0x401e8c+(0x93a+0x12f9*0x2+-0x2f23)],_0x952c17['x']),_0x952c17['y']=_0x5af83a(_0x46f112[_0x401e8c+(-0xa9f*-0x3+-0x1488+0x1*-0xb4e)],_0x46f112[_0x401e8c+(0x10*-0x115+0x2bb+-0x13*-0xc5)],_0x952c17['y']),_0x952c17['z']=_0x5af83a(_0x46f112[_0x401e8c+(0x9*0xd+0x712*0x4+-0x1*0x1cb5)],_0x46f112[_0x401e8c+(0x1*0x1a69+-0x95f*-0x2+-0x2d1c)],_0x952c17['z'])),_0xa0d1ee&&(_0x3e71ce(_0xa0d1ee,_0x421690[_0x5c67b5*_0x117259+(0x2*0x650+-0xc53+-0x4a)]),_0x52abdc>0xef2+0x2185*0x1+-0x5*0x9af&&(_0xa0d1ee['x']=_0x5af83a(_0x46f112[_0x401e8c+(-0x1*-0x218f+-0x95f+-0x1*0x1824)],_0x46f112[_0x401e8c+(-0x14e3+-0x37*0x1d+0x1b2d)],_0xa0d1ee['x']),_0xa0d1ee['y']=_0x5af83a(_0x46f112[_0x401e8c+(0x1*0x1651+0x120+-0x1764)],_0x46f112[_0x401e8c+(0x8c7*-0x1+0x8bc*0x4+-0x1a19)],_0xa0d1ee['y']),_0xa0d1ee['z']=_0x5af83a(_0x46f112[_0x401e8c+(-0x1*0x6ad+-0x1fd*0xa+0x1a9d)],_0x46f112[_0x401e8c+(0x1f4f+0x269*-0xd+0x17*0x1)],_0xa0d1ee['z']))),_0x5c1221&&(_0x520622(_0x5c1221,_0x421690[_0x5c67b5*_0x117259+(-0x13*0x128+0x1458+0x1a4)]),_0x5c1221['x']=_0x5af83a(_0x46f112[_0x401e8c+(0x1*0x2cf+-0xdce+-0xb11*-0x1)],_0x46f112[_0x401e8c+(-0x3*0xb5e+-0x1*-0x10aa+-0x17*-0xc3)],_0x5c1221['x']),_0x5c1221['y']=_0x5af83a(_0x46f112[_0x401e8c+(0x40b+-0x1025*0x1+0xc2d)],_0x46f112[_0x401e8c+(-0x1*0x233f+-0x54*-0x10+-0x1c5*-0x11)],_0x5c1221['y']),_0x5c1221['z']=_0x5af83a(_0x46f112[_0x401e8c+(-0x16ab*0x1+-0xc07+-0x1163*-0x2)],_0x46f112[_0x401e8c+(-0x4bb*0x1+-0x2*-0xb7e+0x1d1*-0xa)],_0x5c1221['z'])),_0x3427c7&&(_0x520622(_0x3427c7,_0x421690[_0x5c67b5*_0x117259+(0x1c10+0xb75+0x8*-0x4f0)]),_0x3427c7['x']=_0x5af83a(_0x46f112[_0x401e8c+(-0x301*0x5+0x13a8+-0x48b)],_0x46f112[_0x401e8c+(0x1e50+0x1*0x133+-0x1f6a)],_0x3427c7['x']),_0x3427c7['y']=_0x5af83a(_0x46f112[_0x401e8c+(0x959*-0x3+-0x210f+0x3d34)],_0x46f112[_0x401e8c+(-0x1*-0x16e+-0x1*0xb5a+0xa07)],_0x3427c7['y'])),_0x1909c7&&_0x10a1a9>0x242+0x1*0x22ca+-0x250c){for(let _0x37230f=-0x65*-0x1b+0x40f*0x5+0x1ef2*-0x1;_0x37230f<-0x93*0x1f+0x8*-0x2cf+0x2848;++_0x37230f)for(let _0x113d3b=-0x2*0x133+0x1*0x1bec+-0x1986;_0x113d3b<-0x37b+-0xbd4*0x1+0x232*0x7;++_0x113d3b)_0x1909c7[_0x37230f*(-0x120f+-0x1915+0x2b33*0x1)+_0x113d3b]=_0x113d3b<_0x4630e1?_0x32746b[(_0x5c67b5*(-0x6e4+0xbdc+-0x4f5)+_0x37230f)*_0x4630e1+_0x113d3b]*((-0x73a+0x1*0xdc9+-0x687)/(0x151f*0x1+0x10*0x143+0x1428*-0x2))-(0x26*-0xdd+-0x265c+0x472e):0x1e0e+0x1b57*-0x1+-0x2b7;}};}}self['onmessage']=async _0x1f019b=>{const {data:_0x21dbea}=_0x1f019b;switch(_0x21dbea['type']){case'initWorker':break;case'decompress':_0x3bd876(_0x21dbea['numSplats'],_0x21dbea['chunkData'],_0x21dbea['chunkSize'],_0x21dbea['vertexData'],_0x21dbea['shData'],_0x21dbea['shBands']);break;}};const _0x3bd876=(_0x723adc,_0x4ef12a,_0x3c37ba,_0x2c0ca4,_0x1ea575,_0x476bc9)=>{const _0x4d2b76=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x476bc9>-0x9e9+0x128*-0x8+0x1329){const _0x309222=[];for(let _0x5197ea=-0x2270+0xb7*-0x26+0x1*0x3d9a;_0x5197ea<0x1e*-0x3c+0x20ce+-0x1*0x1999;++_0x5197ea)_0x309222['push']('f_rest_'+_0x5197ea);_0x4d2b76['splice'](_0x4d2b76['indexOf']('f_dc_0')+(0xb9+0x1*-0x1d42+0x1c8a),0xaf3+0x40+-0xb33*0x1,..._0x309222);}const _0x2371a3={};_0x4d2b76['forEach'](_0x46abf7=>{_0x2371a3[_0x46abf7]=new Float32Array(_0x723adc);}),console['log']('decompress');const _0x413651=new _0x446e95(),_0x1f13f6=new _0x362a47(),_0x1de845=new _0x446e95(),_0x58fb33=new _0x28e615(),_0x15a8c7=new _0x446e95(),_0x1945cd=new _0x446e95(),_0x502148=_0x476bc9>0x5*0x416+0x1*0xbe7+-0x2055?new Float32Array(0x1*0x1ff3+0x5d1+-0x2597*0x1):null,_0xdc4dd4=new _0x406c84(_0x4ef12a,_0x3c37ba,_0x2c0ca4,_0x1ea575,_0x476bc9,_0x413651,_0x1f13f6,_0x1de845,_0x58fb33,_0x15a8c7,_0x1945cd,_0x502148);for(let _0x343cda=0x1e64+0x12a0+-0x3104;_0x343cda<_0x723adc;++_0x343cda)if(_0xdc4dd4['read'](_0x343cda),_0x2371a3['x'][_0x343cda]=_0x413651['x'],_0x2371a3['y'][_0x343cda]=_0x413651['y'],_0x2371a3['z'][_0x343cda]=_0x413651['z'],_0x2371a3['rot_1'][_0x343cda]=_0x1f13f6['x'],_0x2371a3['rot_2'][_0x343cda]=_0x1f13f6['y'],_0x2371a3['rot_3'][_0x343cda]=_0x1f13f6['z'],_0x2371a3['rot_0'][_0x343cda]=_0x1f13f6['w'],_0x2371a3['scale_0'][_0x343cda]=_0x1de845['x'],_0x2371a3['scale_1'][_0x343cda]=_0x1de845['y'],_0x2371a3['scale_2'][_0x343cda]=_0x1de845['z'],_0x2371a3['motion_0'][_0x343cda]=_0x15a8c7['x'],_0x2371a3['motion_1'][_0x343cda]=_0x15a8c7['y'],_0x2371a3['motion_2'][_0x343cda]=_0x15a8c7['z'],_0x2371a3['t_scale'][_0x343cda]=_0x1945cd['x'],_0x2371a3['t'][_0x343cda]=_0x1945cd['y'],_0x2371a3['f_dc_0'][_0x343cda]=(_0x58fb33['x']-(-0xd6*-0x1f+-0x22ea+0x24*0x40+0.5))/_0x3c0a91,_0x2371a3['f_dc_1'][_0x343cda]=(_0x58fb33['y']-(-0x518*-0x7+-0x18a6*0x1+0x2*-0x581+0.5))/_0x3c0a91,_0x2371a3['f_dc_2'][_0x343cda]=(_0x58fb33['z']-(-0xfa3*-0x1+-0xf14+-0x8f*0x1+0.5))/_0x3c0a91,_0x2371a3['opacity'][_0x343cda]=_0x58fb33['w']<=0x2288+0x64*0x35+-0x373c?-(-0x1*0x1505+0x23b*-0x7+0x24ca*0x1):_0x58fb33['w']>=-0x958+0x2*-0x6da+-0x7af*-0x3?-0x2083+-0x23f*-0x10+-0x345:-Math['log']((0x2d0+0x13*0x199+-0xb0e*0x3)/_0x58fb33['w']-(0x80*-0x1c+-0x1cc+0x1*0xfcd)),_0x502148){for(let _0x40d30f=0xc38+-0x1234+0x5fc;_0x40d30f<0x1*-0x14e3+-0x4*0x4e6+0x28a8;++_0x40d30f)_0x2371a3['f_rest_'+_0x40d30f][_0x343cda]=_0x502148[_0x40d30f];}self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x2371a3});};}class R2 extends de{constructor(){super(),c(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+P2['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x3d9fdd=>{if(!this['worker'])return;const {data:_0x28157d}=_0x3d9fdd;switch(_0x28157d['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x28157d['data']);break;}};}['decompress'](_0x53be8c,_0x4432b0,_0x105df3,_0x57ecbb,_0x4e23ae,_0x4dde33,_0x276b19){this['chunkData']=new Float32Array(_0x4432b0)['slice'](),this['vertexData']=new Uint32Array(_0x57ecbb)['slice'](),this['shData']=new Uint8Array(_0x4e23ae)['slice'](),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x53be8c,'chunkData':this['chunkData'],'chunkSize':_0x105df3,'vertexData':this['vertexData'],'shData':this['shData'],'shBands':_0x4dde33});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class I2{constructor(_0x19584c,_0x13ba2f,_0x17598b,_0x3e6ac6,_0x3193db,_0x5a5da3,_0x1af583,_0x2e4150){const _0x3e755a=(_0x135cc6,_0x1bedc1)=>{const _0x32e2d9=(0x25b2+-0x137*0x1f+-0x8<<_0x1bedc1)-(-0xa9*-0x3b+0x9bc+-0x30ae);return(_0x135cc6&_0x32e2d9)/_0x32e2d9;},_0x33bd2f=(_0x4c1c58,_0x1e52b0)=>{_0x4c1c58['x']=_0x3e755a(_0x1e52b0>>>0x1792+-0x1f1d+0x7a0,-0x4*0x5f4+-0x5*-0x24f+-0x8*-0x18a),_0x4c1c58['y']=_0x3e755a(_0x1e52b0>>>-0x2302+-0x1aa5+0x3db2,-0x1723*-0x1+-0x1*-0x269b+0x2*-0x1eda),_0x4c1c58['z']=_0x3e755a(_0x1e52b0,-0x1941+0x25f3+-0xca7);},_0x180d2f=(_0x131713,_0x345664)=>{_0x131713['x']=_0x3e755a(_0x345664>>>-0x35f*0x1+0xcd9+0x1*-0x962,-0x1*0x266b+-0xb96+0x3209),_0x131713['y']=_0x3e755a(_0x345664>>>-0x4ef*-0x1+0x1*-0xa31+0x6*0xe3,0x19f2+0x2b*0xc8+-0x3b82),_0x131713['z']=_0x3e755a(_0x345664>>>-0xa*0x1fb+0x9b7+0xa1f,0x2*0x89+0x17b4+-0x18be),_0x131713['w']=_0x3e755a(_0x345664,0x1*0x1593+0x1b84+-0x1*0x310f);},_0x435f58=(_0x376cca,_0x2c6967)=>{const _0x224c0f=(0x2*0x3c8+0xa07+0x8cb*-0x2)/(Math['sqrt'](0x2*-0x24e+0x12c0*0x2+-0x16e*0x17)*(0x2043+0xb84+-0x2bc7+0.5)),_0x38137e=(_0x3e755a(_0x2c6967>>>-0x1bb5+0xd*-0x47+0x2*0xfb2,0x904+0x1108+0x2*-0xd01)-(0x15db+0x2061*0x1+-0x164*0x27+0.5))*_0x224c0f,_0x19ca43=(_0x3e755a(_0x2c6967>>>0x1c6*0x2+0x595*0x6+-0x2500,-0x7*-0x1+-0x1*0x24bc+-0x17*-0x199)-(0x1*0x1cec+0xb12+-0x27fe+0.5))*_0x224c0f,_0x2d3c52=(_0x3e755a(_0x2c6967,0x1854+-0xff*-0x11+0x1*-0x2939)-(0x3*-0x50f+-0x26c3+0x35f0+0.5))*_0x224c0f,_0x33b64b=Math['sqrt'](0x10*-0x241+-0x1a3c+0x3e4d-(_0x38137e*_0x38137e+_0x19ca43*_0x19ca43+_0x2d3c52*_0x2d3c52));switch(_0x2c6967>>>0x6d*-0x41+-0xa46+0x79d*0x5){case 0x2d*0x2f+0x1*-0x1d5d+0x151a:_0x376cca['set'](_0x38137e,_0x19ca43,_0x2d3c52,_0x33b64b);break;case 0xf*0x18b+-0x59a+-0xa*0x1c1:_0x376cca['set'](_0x33b64b,_0x19ca43,_0x2d3c52,_0x38137e);break;case 0xcf8+-0x1d10+0x101a:_0x376cca['set'](_0x19ca43,_0x33b64b,_0x2d3c52,_0x38137e);break;case 0x241+0x2*-0x14b+-0xb*-0x8:_0x376cca['set'](_0x19ca43,_0x2d3c52,_0x33b64b,_0x38137e);break;}},_0x4ab4be=(_0x2be8ca,_0x535525,_0x8f3c85)=>_0x2be8ca*(-0x8b3+-0x266e+0x2f22-_0x8f3c85)+_0x535525*_0x8f3c85,{chunkData:_0x3bc6ac,chunkSize:_0x4ed8d5,vertexData:_0x5396eb,shData:_0x4c7092,shBands:_0x3c850a}=_0x19584c,_0x3ca7a2=[0x181b*0x1+0x3*0xb+-0x1839,0x647*0x6+0xc*-0x4+0x2*-0x12b9,-0x1ec1+0x19db+0x4f5][_0x3c850a-(0xdaf*0x1+0x2028+0x1*-0x2dd6)],_0x113aec=0xb2*-0x2+-0x8f*-0x41+0x1*-0x22e5;this['read']=_0x577c26=>{const _0x4be73d=Math['floor'](_0x577c26/(-0x43a+-0x24*-0x29+-0x8a))*_0x4ed8d5;if(_0x13ba2f&&(_0x33bd2f(_0x13ba2f,_0x5396eb[_0x577c26*_0x113aec+(-0x1876+-0x12ab+0x2b21)]),_0x13ba2f['x']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x223e+-0x451*-0x1+0x1ded)],_0x3bc6ac[_0x4be73d+(-0x1894+-0x23b+0x1ad2)],_0x13ba2f['x']),_0x13ba2f['y']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(0x157f+0x2*-0x71+-0x1*0x149c)],_0x3bc6ac[_0x4be73d+(-0x1*0x24f8+0x905+0x1*0x1bf7)],_0x13ba2f['y']),_0x13ba2f['z']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(0xb13*0x1+0x13fe+0x1f0f*-0x1)],_0x3bc6ac[_0x4be73d+(0x65c+-0x1741+0x10ea)],_0x13ba2f['z'])),_0x17598b&&_0x435f58(_0x17598b,_0x5396eb[_0x577c26*_0x113aec+(0x35f*0x8+0x89b+-0x2392)]),_0x3e6ac6&&(_0x33bd2f(_0x3e6ac6,_0x5396eb[_0x577c26*_0x113aec+(-0x5*0x43e+0xd*0x231+-0x745)]),_0x3e6ac6['x']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x1a25+0x8e*0x2+0x1*0x190f)],_0x3bc6ac[_0x4be73d+(-0x244d+-0x1*-0x1acc+0x98a)],_0x3e6ac6['x']),_0x3e6ac6['y']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x161e+-0x3d*0x2d+-0x4b2*-0x7)],_0x3bc6ac[_0x4be73d+(0x8*0x1a6+-0x1d6e+0x1048)],_0x3e6ac6['y']),_0x3e6ac6['z']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x2434+0x2*0x935+0x8e9*0x2)],_0x3bc6ac[_0x4be73d+(0x2f1+0x7a1+-0xa87)],_0x3e6ac6['z'])),_0x3193db&&(_0x180d2f(_0x3193db,_0x5396eb[_0x577c26*_0x113aec+(-0x21*-0x62+-0x2326+-0x4f*-0x49)]),_0x4ed8d5>0x41*0x46+0x3*-0x26d+-0xa73&&(_0x3193db['x']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x2*0x12b+-0x1*0x1f86+0x21e8)],_0x3bc6ac[_0x4be73d+(0x40e*-0x5+0x930+-0x3*-0x3b7)],_0x3193db['x']),_0x3193db['y']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(0x80b+-0x240c+0x7*0x402)],_0x3bc6ac[_0x4be73d+(0x1a48+0xc8*-0x30+0xb48)],_0x3193db['y']),_0x3193db['z']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x234b+-0x19cc+0x3d25)],_0x3bc6ac[_0x4be73d+(-0x4*0xbf+-0x276*-0x6+-0xbb7)],_0x3193db['z']))),_0x5a5da3&&(_0x33bd2f(_0x5a5da3,_0x5396eb[_0x577c26*_0x113aec+(0x1*-0x130c+-0x22cf+0x11f5*0x3)]),_0x5a5da3['x']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x1169*0x2+0x16ea*-0x1+0x1*0x39ce)],_0x3bc6ac[_0x4be73d+(-0x2587+0x1*0x623+0x1f79)],_0x5a5da3['x']),_0x5a5da3['y']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x2052+0x9*-0xd6+-0x3a1*-0xb)],_0x3bc6ac[_0x4be73d+(0x1*-0x167a+-0xcd*-0x5+0x128f)],_0x5a5da3['y']),_0x5a5da3['z']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(0x3ed*-0x6+0xe06+0x99c)],_0x3bc6ac[_0x4be73d+(-0x6c*0x33+0x84*0x47+-0xf01)],_0x5a5da3['z'])),_0x1af583&&(_0x33bd2f(_0x1af583,_0x5396eb[_0x577c26*_0x113aec+(0x421+-0x258e+0x10b9*0x2)]),_0x1af583['x']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x300*-0x4+-0x25*0x2e+-0x2a1*0x2)],_0x3bc6ac[_0x4be73d+(0x1503+-0x1*-0x517+-0x1a01)],_0x1af583['x']),_0x1af583['y']=_0x4ab4be(_0x3bc6ac[_0x4be73d+(-0x25*0x95+-0x8b1+0x1e54)],_0x3bc6ac[_0x4be73d+(0x21*-0x81+0x17*-0x17b+0x32c9*0x1)],_0x1af583['y'])),_0x2e4150&&_0x3c850a>0x86c+-0x270c+0x1ea0){for(let _0x447d23=-0x8cc+0x1d9f+-0x14d3;_0x447d23<0xfe8+0x67*-0x59+0x1*0x13ea;++_0x447d23)for(let _0x1553a7=-0x17b1*-0x1+0x1de3*-0x1+0x1*0x632;_0x1553a7<0x487*-0x4+-0xe57*-0x1+0x3d4;++_0x1553a7)_0x2e4150[_0x447d23*(-0x20cb+-0x1*-0x1c5d+0x17f*0x3)+_0x1553a7]=_0x1553a7<_0x3ca7a2?_0x4c7092[(_0x577c26*(-0x1829+0xea3+0x989)+_0x447d23)*_0x3ca7a2+_0x1553a7]*((-0x252c+0x1bac+0x3d*0x28)/(0x1*0x1111+-0x2*-0x865+-0x20dc*0x1))-(-0x1543+0x9f4+0xb53):0x9*0x9d+0x1*0xc77+0x11fc*-0x1;}};}}class D2{constructor(){c(this,'numSplats'),c(this,'chunkData'),c(this,'vertexData'),c(this,'is4D'),c(this,'shData');}['createIter'](_0x531f27,_0x526bca,_0x5ace43,_0x319d33,_0x397163,_0x2b50df,_0x48510){return new I2(this,_0x531f27,_0x526bca,_0x5ace43,_0x319d33,_0x397163,_0x2b50df,_0x48510);}['calcAabb'](_0x16a185){const {chunkData:_0x1738e4,numChunks:_0x1356c3,chunkSize:_0x406d27}=this;let _0x7598d6=Math['exp'](Math['max'](_0x1738e4[0x1*-0x203f+-0x21c6+-0x13*-0x37a],_0x1738e4[0x9d8+0x1*0x21b5+0x2b83*-0x1],_0x1738e4[-0x1e*0x25+0x489+-0x28])),_0xdaad75=_0x1738e4[0x1edc+-0x1a40+-0x49c]-_0x7598d6,_0x32f070=_0x1738e4[0x7f1+0x349*-0x9+-0x15a1*-0x1]-_0x7598d6,_0xd83a4a=_0x1738e4[0x2*0x69a+0xbb+0x2c9*-0x5]-_0x7598d6,_0x434284=_0x1738e4[-0x2322+-0x607*0x1+0x292c]+_0x7598d6,_0x3406fb=_0x1738e4[0x8*-0x6+-0x1461+0x1495]+_0x7598d6,_0x3b19ca=_0x1738e4[0x3*-0x20b+0x4bb+0x16b]+_0x7598d6;for(let _0x1576b4=-0x66d+-0x490*0x5+0x1d3e;_0x1576b4<_0x1356c3;++_0x1576b4){const _0x293499=_0x1576b4*_0x406d27;_0x7598d6=Math['exp'](Math['max'](_0x1738e4[_0x293499+(0x1c16+-0xe99+0xd74*-0x1)],_0x1738e4[_0x293499+(0x77*-0x3d+0x15*-0x170+0x3a95)],_0x1738e4[_0x293499+(-0xbb7*-0x3+-0x16b2+-0xc68)])),_0xdaad75=Math['min'](_0xdaad75,_0x1738e4[_0x293499+(-0x1*-0xbd5+-0x631*-0x5+0x1565*-0x2)]-_0x7598d6),_0x32f070=Math['min'](_0x32f070,_0x1738e4[_0x293499+(0x22cf+0x43*0x81+-0x4491*0x1)]-_0x7598d6),_0xd83a4a=Math['min'](_0xd83a4a,_0x1738e4[_0x293499+(0x1*0x191f+0x142f+-0x2d4c)]-_0x7598d6),_0x434284=Math['max'](_0x434284,_0x1738e4[_0x293499+(0xdf4+0xb66+-0x1957)]+_0x7598d6),_0x3406fb=Math['max'](_0x3406fb,_0x1738e4[_0x293499+(0x156f*0x1+0xf4e+-0x24b9)]+_0x7598d6),_0x3b19ca=Math['max'](_0x3b19ca,_0x1738e4[_0x293499+(0xed3+0x406+0x14*-0xf1)]+_0x7598d6);}return _0x16a185['center']['set']((_0xdaad75+_0x434284)*(0x23*-0x5d+-0x18ac+-0x11*-0x233+0.5),(_0x32f070+_0x3406fb)*(0x168f+-0x857+-0xe38+0.5),(_0xd83a4a+_0x3b19ca)*(0x1159+-0x2339+0x11e0+0.5)),_0x16a185['halfExtent'+'s']['set']((_0x434284-_0xdaad75)*(0x836+-0x63b*0x2+0x440+0.5),(_0x3406fb-_0x32f070)*(-0x1918+-0x10a6+0x29be+0.5),(_0x3b19ca-_0xd83a4a)*(0x13c1+-0x5*-0xc5+-0x179a+0.5)),!(0xcdb*-0x2+-0x977+0x232d);}['getCenters'](_0x39ad83){const {vertexData:_0x1a28c7,chunkData:_0x48dae8,numChunks:_0x42be25,chunkSize:_0x3dd74f}=this;let _0x57b4c5,_0xb8b560,_0x594806,_0x44073d,_0xbd47a1,_0x49cb5c;for(let _0x37f715=-0xc6f*0x3+0x892+0x5*0x5bf;_0x37f715<_0x42be25;++_0x37f715){const _0x29d06d=_0x37f715*_0x3dd74f;_0x57b4c5=_0x48dae8[_0x29d06d+(-0x12d7+-0x2439+-0x1*-0x3710)],_0xb8b560=_0x48dae8[_0x29d06d+(0x84d+0x1*0x269f+-0x2eeb)],_0x594806=_0x48dae8[_0x29d06d+(0x253f+0x121f*0x2+-0x497b)],_0x44073d=_0x48dae8[_0x29d06d+(-0xd*-0xb8+0x216f+-0x1c*0x187)],_0xbd47a1=_0x48dae8[_0x29d06d+(-0x909+0x1469+-0xb5c)],_0x49cb5c=_0x48dae8[_0x29d06d+(-0x1fe6+0x53*0x27+0x1346)];const _0xfe0f1a=Math['min'](this['numSplats'],(_0x37f715+(0x1994+-0xa44*0x1+-0xf4f*0x1))*(0x55b+-0x8a3+-0x4*-0x112));for(let _0x926aee=_0x37f715*(0x1040+0x1d7a+-0x2cba);_0x926aee<_0xfe0f1a;++_0x926aee){const _0x3dad72=_0x1a28c7[_0x926aee*(-0xaa*-0x20+0x2110+-0x364c)],_0x1450fb=(_0x3dad72>>>-0x2b5+0x215f+0x1e95*-0x1)/(-0x267b*0x1+0x7d1+0x3*0xce3),_0xae7b82=(_0x3dad72>>>0x1*-0x897+-0x31f+0x1*0xbc1&0x13*0x109+0xa00+-0x19ac)/(0xeda+-0x1d0f*-0x1+0x106*-0x27),_0x458dcb=(_0x3dad72&-0xb96+0x2216+-0xe81)/(-0x14*-0xaa+-0x1861+0x1318);_0x39ad83[_0x926aee*(-0x1c3d*0x1+0x1*0xd10+0xf30)+(0x174c+-0x11+-0x173b)]=(0x9d0*0x3+-0x2142+0x3d3-_0x1450fb)*_0x57b4c5+_0x1450fb*_0x44073d,_0x39ad83[_0x926aee*(-0x16d*-0x1+-0x19*-0x187+-0x2799)+(0xfd*0x11+-0x1c28+-0x2*-0x5ae)]=(0x1*0x62b+0x1301+-0x192b-_0xae7b82)*_0xb8b560+_0xae7b82*_0xbd47a1,_0x39ad83[_0x926aee*(-0x53a+0x1*-0x96d+0xeaa)+(-0x1*-0x5d5+0x1*-0xc71+-0x7*-0xf2)]=(-0x1216+-0x2384+0x359b-_0x458dcb)*_0x594806+_0x458dcb*_0x49cb5c;}}}['calcFocalP'+'oint'](_0x203329){const {chunkData:_0x9c646a,numChunks:_0x22e2fa,chunkSize:_0x39b188}=this;_0x203329['x']=-0x223*-0x1+0x546+-0x769,_0x203329['y']=-0x27*-0x31+0x342*-0x6+0x407*0x3,_0x203329['z']=-0x20e3+-0x26aa+0x478d*0x1;for(let _0x4a4c15=-0x6*-0x272+0x3d+-0x1*0xee9;_0x4a4c15<_0x22e2fa;++_0x4a4c15){const _0x1283f7=_0x4a4c15*_0x39b188;_0x203329['x']+=_0x9c646a[_0x1283f7+(-0xb00+-0x5*-0x238+-0x3*0x8)]+_0x9c646a[_0x1283f7+(-0x107f+-0x2670+0x36f2)],_0x203329['y']+=_0x9c646a[_0x1283f7+(0x1fe7+-0x88+-0x1f5e)]+_0x9c646a[_0x1283f7+(0x1667+0x11aa+0x1*-0x280d)],_0x203329['z']+=_0x9c646a[_0x1283f7+(0x233e+-0x1792*0x1+-0xbaa)]+_0x9c646a[_0x1283f7+(0x125*0xe+0xcf7*-0x1+0x185*-0x2)];}_0x203329['mulScalar']((-0x23bf*0x1+0x1718+0x1*0xca7+0.5)/_0x22e2fa);}get['isCompress'+'ed'](){return!(-0x2*0x109d+0x2*0x592+-0x1616*-0x1);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x1f00+-0x2178+-0x14*-0x346));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}get['shBands'](){var _0x103523;return{0x3:0x1,0x8:0x2,0xf:0x3}[((_0x103523=this['shData'])==null?void(-0x1654+0x7*0x209+0x815):_0x103523['length'])/this['numSplats']/(0x1*0x26c5+-0x2287*-0x1+-0x4949)]??0x16*-0x5+-0x482*0x2+-0x4e*-0x1f;}async['decompress'](){const _0x2169d1=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x3f1b48}=this;if(_0x3f1b48>0xd87+0x1*0x101c+-0x1*0x1da3){const _0x4c60a0=[];for(let _0x56676e=0x15f4+-0xb8+-0x153c;_0x56676e<0x1234+0x2439+-0x3640;++_0x56676e)_0x4c60a0['push']('f_rest_'+_0x56676e);_0x2169d1['splice'](_0x2169d1['indexOf']('f_dc_0')+(0x1c87+-0x212a+-0x252*-0x2),-0x12f*-0x3+-0x27d*0xa+0x1555,..._0x4c60a0);}const _0x2736ae={};_0x2169d1['forEach'](_0x53fb7f=>{_0x2736ae[_0x53fb7f]=new Float32Array(this['numSplats']);});const _0x46ae8a=new R2();return _0x46ae8a['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData'],this['shBands'],_0x2736ae),new Promise((_0x598203,_0x10119a)=>{_0x46ae8a['on']('decompress'+'ed',_0x3f8c30=>{_0x46ae8a['destroy'](),_0x598203(new Fa([{'name':'vertex','count':this['numSplats'],'properties':_0x2169d1['map'](_0x2b2101=>({'name':_0x2b2101,'type':'float','byteSize':0x4,'storage':_0x3f8c30[_0x2b2101]}))}]));});});}}const L2=(_0xb128e0,_0x25663a,_0x585d78,_0x4646cc,_0x2a0bdd)=>{for(let _0x3361cc=-0x5*-0x338+0xb56+-0x2*0xdb7;_0x3361cc<_0x2a0bdd;++_0x3361cc)for(let _0x251a3a=-0x1*-0x4df+0x523*-0x5+-0x25*-0x90;_0x251a3a<_0x4646cc;++_0x251a3a)_0xb128e0[_0x3361cc*_0x25663a+_0x251a3a]=_0x585d78[_0x3361cc*_0x4646cc+_0x251a3a];},Ug=(_0x5af0a4,_0x40c82e,_0x11afe7,_0x4130ac,_0x265aec,_0x1518bc)=>{for(let _0x59d7c1=-0x1*0x25f1+0x2*0x40f+0x1dd3;_0x59d7c1<_0x265aec;++_0x59d7c1)for(let _0x63984a=0x7bd+-0x3*0x770+0xe93;_0x63984a<_0x4130ac;++_0x63984a)_0x5af0a4[_0x59d7c1*_0x40c82e+_0x63984a]=_0x11afe7[_0x59d7c1*_0x4130ac+_0x63984a+_0x1518bc];};class F2{constructor(_0x36bb17,_0x1ebbef){c(this,'device'),c(this,'numSplats'),c(this,'numSplatsV'+'isible'),c(this,'aabb'),c(this,'is4D'),c(this,'centers'),c(this,'packedText'+'ure'),c(this,'packedTime'+'Texture'),c(this,'chunkTextu'+'re'),c(this,'shTexture0'),c(this,'shTexture1'),c(this,'shTexture2');const {chunkData:_0xa376c6,chunkSize:_0x1d2fc1,numChunks:_0x4363d4,numSplats:_0x5b1570,vertexData:_0x15225b,shBands:_0x4896ca,is4D:_0x222bb1}=_0x1ebbef;this['device']=_0x36bb17,this['numSplats']=_0x5b1570,this['numVisible'+'Splats']=_0x5b1570,this['is4D']=_0x222bb1,this['aabb']=new ve(),_0x1ebbef['calcAabb'](this['aabb']),this['centers']=new Float32Array(_0x5b1570*(0x1a5*0x5+-0x209d+0x1867)),_0x1ebbef['getCenters'](this['centers']),this['packedText'+'ure']=this['createText'+'ure']('packedText'+'ure',yt,this['evalTextur'+'eSize'](_0x5b1570));const _0x386ea6=this['packedText'+'ure']['lock']();Ug(_0x386ea6,0xbc9*-0x2+0xb0f+-0xc87*-0x1,_0x15225b,0x47c+0x6c3*0x3+-0xb5*0x23,_0x5b1570,-0x14d2+-0x1*-0x102c+0xaa*0x7),this['packedTime'+'Texture']=this['createText'+'ure']('packedTime'+'Texture',yt,this['evalTextur'+'eSize'](_0x5b1570));const _0x1a0ced=this['packedTime'+'Texture']['lock']();Ug(_0x1a0ced,0x722+0x2*-0x6ef+0x6be,_0x15225b,0x103c+-0x1*0x153d+0x507,_0x5b1570,-0x961+-0x3*0x4d5+0x17e4);const _0x504225=this['evalTextur'+'eSize'](_0x4363d4);_0x504225['x']*=0xd8+0x874+-0x1*0x945,this['chunkTextu'+'re']=this['createText'+'ure']('chunkData',et,_0x504225);const _0x18fea4=this['chunkTextu'+'re']['lock']();if(L2(_0x18fea4,(-0x107*0x5+0xa81*0x2+-0xfdb)*(0x1bbe+-0xc9e+-0xf19),_0xa376c6,_0x1d2fc1,_0x4363d4),_0x1d2fc1===0xc1*0x2f+0x1*-0xac1+-0x41b*0x6){for(let _0x48b396=0x1d4d+0x14c7+-0x3214;_0x48b396<_0x4363d4;++_0x48b396)_0x18fea4[_0x48b396*(-0xb55*0x1+-0x1305+-0x26*-0xcd)+(0x131a+0x1d*-0x9b+-0x17c)]=0x1aca+-0x15*-0xb9+-0x1*0x29f6,_0x18fea4[_0x48b396*(0x159+-0xa62+-0x91d*-0x1)+(0x47f*0x7+0x2041+-0x1*0x3faa)]=0x1*0x2c9+0x1*0x1721+0xc9*-0x21,_0x18fea4[_0x48b396*(-0x21e*-0x10+-0x9*-0x447+-0x484b)+(0xb5*-0x37+-0x11f9+0x38ed)]=0x2*0xa3d+0x2*-0xf5f+0x1*0xa45;}if(this['chunkTextu'+'re']['unlock'](),_0x4896ca>0x194*-0x1+-0x155*-0xa+-0xbbe){const {shData:_0x2a0090}=_0x1ebbef,_0x5d208f=this['evalTextur'+'eSize'](_0x5b1570),_0x3ffb5a=this['createText'+'ure']('shTexture0',yt,_0x5d208f),_0x5b7c36=this['createText'+'ure']('shTexture1',yt,_0x5d208f),_0x40d700=this['createText'+'ure']('shTexture2',yt,_0x5d208f),_0x3a4635=_0x3ffb5a['lock'](),_0x255967=_0x5b7c36['lock'](),_0x1b3bf4=_0x40d700['lock'](),_0x29082e=new Uint8Array(_0x3a4635['buffer']),_0x5e9311=new Uint8Array(_0x255967['buffer']),_0x141e0e=new Uint8Array(_0x1b3bf4['buffer']),_0x44efa8=[0x9aa+-0x3e7*0x3+-0x107*-0x2,0x1305+-0x150b+0x20e,0x1*-0xc87+0x2380+-0x16ea][_0x4896ca-(-0x1a8*-0x4+0x1b8f+-0x222e*0x1)];for(let _0x58503d=0x25ac+-0x1ee0+-0x6cc;_0x58503d<_0x5b1570;++_0x58503d)for(let _0x5d75a6=0x2529+-0xc1*-0x33+-0x4b9c;_0x5d75a6<0x13ae+-0x43*0x7+0x16*-0xcf;++_0x5d75a6)_0x29082e[_0x58503d*(-0x1*0x2191+-0x724*0x4+-0x14bb*-0x3)+_0x5d75a6]=_0x5d75a6<_0x44efa8?_0x2a0090[(_0x58503d*(0xa9a+-0x1cbb+0x1224)+(-0x2600+-0x161e+-0x5a*-0xab))*_0x44efa8+_0x5d75a6]:0x1*-0x16d+0x269b+-0x24af,_0x5e9311[_0x58503d*(0x1*-0x673+-0x2103+-0x2*-0x13c3)+_0x5d75a6]=_0x5d75a6<_0x44efa8?_0x2a0090[(_0x58503d*(0x7*0x190+-0x8c5+-0x228)+(-0x1*-0x14d7+0x4e8+-0x19be))*_0x44efa8+_0x5d75a6]:0x842*-0x1+-0x1*-0xc29+-0x368,_0x141e0e[_0x58503d*(-0x83b*0x1+0x395*-0x3+0x130a)+_0x5d75a6]=_0x5d75a6<_0x44efa8?_0x2a0090[(_0x58503d*(0x216b+0x1d24+-0x3e8c*0x1)+(0xae7*-0x1+-0x6af+0x1198))*_0x44efa8+_0x5d75a6]:-0x182e+0x1c83+-0x3d6;_0x3ffb5a['unlock'](),_0x5b7c36['unlock'](),_0x40d700['unlock'](),this['shTexture0']=_0x3ffb5a,this['shTexture1']=_0x5b7c36,this['shTexture2']=_0x40d700;}else this['shTexture0']=null,this['shTexture1']=null,this['shTexture2']=null;}['destroy'](){var _0x191faf,_0x609af3,_0x58dd5d,_0x322fe3,_0x227656,_0x1975b4;(_0x191faf=this['packedText'+'ure'])==null||_0x191faf['destroy'](),(_0x609af3=this['packedTime'+'Texture'])==null||_0x609af3['destroy'](),(_0x58dd5d=this['chunkTextu'+'re'])==null||_0x58dd5d['destroy'](),(_0x322fe3=this['shTexture0'])==null||_0x322fe3['destroy'](),(_0x227656=this['shTexture1'])==null||_0x227656['destroy'](),(_0x1975b4=this['shTexture2'])==null||_0x1975b4['destroy']();}['createMate'+'rial'](_0x15bc7b){const _0x2df7c9=U0(_0x15bc7b);return _0x2df7c9['setDefine']('GSPLAT_COM'+'PRESSED_DA'+'TA',!(-0xb23*-0x3+0x6c7+-0x10*0x283)),_0x2df7c9['setParamet'+'er']('packedText'+'ure',this['packedText'+'ure']),_0x2df7c9['setParamet'+'er']('packedTime'+'Texture',this['packedTime'+'Texture']),_0x2df7c9['setParamet'+'er']('chunkTextu'+'re',this['chunkTextu'+'re']),_0x2df7c9['setParamet'+'er']('numSplats',this['numSplatsV'+'isible']),_0x2df7c9['setParamet'+'er']('IS_4D',this['is4D']),this['shTexture0']?(_0x2df7c9['setDefine']('SH_BANDS',0x72d+0x1906*-0x1+0x11dc),_0x2df7c9['setParamet'+'er']('shTexture0',this['shTexture0']),_0x2df7c9['setParamet'+'er']('shTexture1',this['shTexture1']),_0x2df7c9['setParamet'+'er']('shTexture2',this['shTexture2'])):_0x2df7c9['setDefine']('SH_BANDS',-0x1*0x1ba+0x1aaa*-0x1+0x1c64),_0x2df7c9;}['evalTextur'+'eSize'](_0xec6bec){const _0x15b59a=Math['ceil'](Math['sqrt'](_0xec6bec)),_0xf7c8eb=Math['ceil'](_0xec6bec/_0x15b59a);return new W(_0x15b59a,_0xf7c8eb);}['createText'+'ure'](_0x411e3b,_0x532a14,_0x5ef0fb,_0x55ebaa){return new ce(this['device'],{'name':_0x411e3b,'width':_0x5ef0fb['x'],'height':_0x5ef0fb['y'],'format':_0x532a14,'cubemap':!(0xea0+0x8*0x332+-0x282f),'mipmaps':!(-0x1293+-0x95f+-0x597*-0x5),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,..._0x55ebaa?{'levels':[_0x55ebaa]}:{}});}}class k2{constructor(_0x4f10aa,_0x338075,_0x48b440){c(this,'device'),c(this,'splatData'),c(this,'splat',null),c(this,'comments',null),c(this,'splatInsta'+'nce',null),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['device']=_0x4f10aa,this['splatData']=_0x338075,this['comments']=_0x48b440);}['destroy'](){var _0x5d0dc7;this['device']=null,this['splatData']=null,(_0x5d0dc7=this['splat'])==null||_0x5d0dc7['destroy'](),this['splat']=null,this['splatInsta'+'nce']=null;}['createSpla'+'t'](){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eSplat'),this['splat']||(this['splat']=this['splatData']['isCompress'+'ed']?new F2(this['device'],this['splatData']):new G1(this['device'],this['splatData'])),this['splat'];}['appendGSpl'+'atData'](_0x2a4e50,_0x235909,_0x26f8e2){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatDat'+'a'),this['splat']['timeOption']=_0x235909,this['splatData']['appendGSpl'+'atData'](_0x2a4e50,_0x26f8e2,_0x235909),this['splat']['updateData'](this['splatData']),this['splatInsta'+'nce']['updateData'](this['splat']);}['instantiat'+'e'](_0x5e49ba={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.insta'+'ntiate'),this['splatInsta'+'nce']=this['createInst'+'ance'](_0x5e49ba);const _0x259312=new je(),_0x212503=_0x259312['addCompone'+'nt']('gsplat',{'instance':this['splatInsta'+'nce']});return _0x259312['setLocalEu'+'lerAngles'](0x1*-0x1051+0xba*0x1a+-0x293,0x1*-0x11bd+-0x1f*0x6b+0x1eb2,-0x78+-0x11b8+-0x6*-0x308),_0x212503['customAabb']=this['splatInsta'+'nce']['splat']['aabb']['clone'](),_0x259312;}['createInst'+'ance'](_0x2d3ff7={}){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.creat'+'eInstance');const _0x10d769=this['createSpla'+'t']();return new Gp(_0x10d769,_0x2d3ff7);}}const O2='super4d-ca'+'che-v1',B2={'maxAge':(-0x1*-0x195c+-0x48b+0x1*-0x14b3)*(0xd90+-0x2216+0x149e)*(0x1a05+0x11*0x10c+0x3*-0xe87)*(0x1768+0x227*-0xc+0x2a8)*(0x41f+0x266*-0x5+0xbc7),'maxSize':(0x1a0d*-0x1+0x63*0x4+0x188b)*(-0x20b*-0xb+0x1987+-0x160*0x20)*(0x42e*-0x5+-0x1*0x20bf+0x39a5)*(0x1e09+-0x1481+-0x1*0x588)};class N2{constructor(_0x154e41={}){this['options']={...B2,..._0x154e41},this['cache']=null,this['init']();}async['init'](){try{this['cache']=await caches['open'](O2);}catch(_0x10980c){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x10980c);}}async['get'](_0xdb19dc){if(!this['cache'])return null;try{const _0x222ec8=await this['cache']['match'](_0xdb19dc);if(!_0x222ec8)return null;const _0x52e91f=_0x222ec8['headers']['get']('x-cache-ti'+'me');return _0x52e91f&&Date['now']()-parseInt(_0x52e91f)>this['options']['maxAge']?(await this['delete'](_0xdb19dc),null):(console['log']('____\x20ENGIN'+'E\x20IVAN','cache\x20hit',_0xdb19dc),_0x222ec8);}catch(_0x2630f0){return console['error']('Cache\x20get\x20'+'error:',_0x2630f0),null;}}async['set'](_0x28b7fc,_0x37c549){if(!(!this['cache']||_0x28b7fc['startsWith']('blob:')))try{const _0x2f9a7c=_0x37c549['clone'](),_0xf03f67=new Headers(_0x2f9a7c['headers']);_0xf03f67['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x1e7fac=new Response(await _0x2f9a7c['blob'](),{'status':_0x2f9a7c['status'],'statusText':_0x2f9a7c['statusText'],'headers':_0xf03f67});await this['cache']['put'](_0x28b7fc,_0x1e7fac);}catch(_0x239374){console['error']('Cache\x20set\x20'+'error:',_0x239374);}}async['delete'](_0x32eb5e){if(this['cache'])try{await this['cache']['delete'](_0x32eb5e);}catch(_0x1513d0){console['error']('Cache\x20dele'+'te\x20error:',_0x1513d0);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x409644=>Promise['all'](_0x409644['map'](_0x5cf758=>this['cache']['delete'](_0x5cf758))));}catch(_0x26d2fe){console['error']('Cache\x20clea'+'r\x20error:',_0x26d2fe);}}}class z2{constructor(_0x370579={}){this['cacheManag'+'er']=new N2(_0x370579['cache']),this['retryCount']=_0x370579['retryCount']||0x769+-0x4*0xb7+-0x7*0xa6,this['retryDelay']=_0x370579['retryDelay']||-0xb*0x36d+0x2127+0x870;}async['fetch'](_0x304a20,_0xb73cb3={}){const {useCache:_0xbd2fe3=!(0x1056+0x14e9+-0x253f),forceRefresh:_0x1d7e33=!(-0x7b9*-0x1+-0xf9b+0x7e3),..._0x30c974}=_0xb73cb3;if(_0x1d7e33&&await this['cacheManag'+'er']['delete'](_0x304a20),_0xbd2fe3){const _0x1160e5=await this['cacheManag'+'er']['get'](_0x304a20);if(_0x1160e5)return _0x1160e5;}let _0x1bded0;for(let _0x2189aa=-0x1*0xe55+0x1b04+0xbf*-0x11;_0x2189aa<this['retryCount'];_0x2189aa++)try{const _0xd7a6e=await fetch(_0x304a20,_0x30c974);if(!_0xd7a6e['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0xd7a6e['status']);return _0xbd2fe3&&await this['cacheManag'+'er']['set'](_0x304a20,_0xd7a6e['clone']()),_0xd7a6e;}catch(_0x3149ea){_0x1bded0=_0x3149ea,_0x2189aa<this['retryCount']-(0x1*-0x1c13+0x4cf*0x2+0x1276)&&await new Promise(_0x5ddefa=>setTimeout(_0x5ddefa,this['retryDelay']*(_0x2189aa+(0x18a0+-0x1215+-0x68a))));}throw _0x1bded0;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}}const U2=new z2(),Vg=new Uint8Array([-0x9*-0x3c2+-0x1*-0x1e42+-0x1*0x3fa4,-0x251b+-0x1*0x74c+0x2cd3,-0x1*0x2232+0x1cfa+0x1f*0x2f,0x10*-0xae+0x2*0x835+-0x580]),Gg=new Uint8Array([-0x1455+-0xd8d+0x21ec,-0x17f*0x8+0xa45+0x218,0x1*-0x22f4+-0x2589+-0x48eb*-0x1,-0x15bf+-0x152+0x1775,0x10cf*0x1+-0x1f39+0xec9,0x1928+-0x6b7*0x5+0x8d3,-0xd7*0x2e+-0x4a*-0x4f+0x5*0x33d,0xa*0x3d3+-0x146c*-0x1+-0x15b*0x2b,-0x199*0x17+0x1819+0xd0a,0xb9+-0x1*0x1ab9+-0x1a65*-0x1,-0x4ab+0x2048+-0x1b2b,-0x1208+-0x619+-0x17*-0x10d]),Ef=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class V2{constructor(_0x4c470d,_0x55610b){c(this,'reader'),c(this,'progressFu'+'nc'),c(this,'data'),c(this,'view'),c(this,'head',-0x647+0x13*-0x1b5+0xa*0x3df),c(this,'tail',-0x20ba+-0x96*-0x32+-0x36e*-0x1),(this['reader']=_0x4c470d,this['progressFu'+'nc']=_0x55610b);}async['read'](){var _0x12d6b7;const {value:_0x3ea329,done:_0x413e07}=await this['reader']['read']();if(_0x413e07)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x3ea329),(_0x12d6b7=this['progressFu'+'nc'])==null||_0x12d6b7['call'](this,_0x3ea329['byteLength']);}['push'](_0x2b97d0){if(!this['data'])this['data']=_0x2b97d0,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x2b97d0['length'];else{const _0x6dcda2=this['tail']-this['head'],_0x51edd6=_0x6dcda2+_0x2b97d0['length'];if(this['data']['length']>=_0x51edd6)this['head']>-0xbd*-0x7+-0x1735+0x2*0x905?(this['data']['copyWithin'](-0x1b85+0x252c+0x9a7*-0x1,this['head'],this['tail']),this['data']['set'](_0x2b97d0,_0x6dcda2),this['head']=-0x12fb*-0x1+0x22b4+0x1b*-0x1fd,this['tail']=_0x51edd6):(this['data']['set'](_0x2b97d0,this['tail']),this['tail']+=_0x2b97d0['length']);else{const _0x31b854=new Uint8Array(_0x51edd6);this['head']>-0x38f*-0x3+-0x9ac+-0x101||this['tail']<this['data']['length']?_0x31b854['set'](this['data']['subarray'](this['head'],this['tail']),0xcb7+-0x1a8d+0xa1*0x16):_0x31b854['set'](this['data'],0x2*-0x807+0x1ac1+-0x391*0x3),_0x31b854['set'](_0x2b97d0,_0x6dcda2),this['data']=_0x31b854,this['view']=new DataView(this['data']['buffer']),this['head']=-0x2436+-0x5*-0x371+0x1301,this['tail']=_0x51edd6;}}}['compact'](){this['head']>-0x14a3+0x1fea+-0xb47*0x1&&(this['data']['copyWithin'](0x1b52+-0x719*0x3+-0x607,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x80f+0x1*-0x1d3+0x9e2);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x2121ac=this['view']['getInt8'](this['head']);return this['head']++,_0x2121ac;}['getUint8'](){const _0x5bfb1d=this['view']['getUint8'](this['head']);return this['head']++,_0x5bfb1d;}['getInt16'](){const _0xd00322=this['view']['getInt16'](this['head'],!(0x6b*-0x22+0x2653+-0x181d));return this['head']+=0x976+-0x228a*0x1+0xd*0x1ee,_0xd00322;}['getUint16'](){const _0x5e5987=this['view']['getUint16'](this['head'],!(-0x1c7b+-0xbce*-0x3+0x6ef*-0x1));return this['head']+=-0x1911+0x61*0x2+0x1851,_0x5e5987;}['getInt32'](){const _0x2a2c13=this['view']['getInt32'](this['head'],!(0x305*-0x5+0x10*-0x1c2+-0x5*-0x8a5));return this['head']+=-0x1*0x1232+0x1433+-0x1fd,_0x2a2c13;}['getUint32'](){const _0x4b6e74=this['view']['getUint32'](this['head'],!(-0x15e3+-0xc*0x253+0x31c7));return this['head']+=-0x1fee+-0x15fd+-0x1*-0x35ef,_0x4b6e74;}['getFloat32'](){const _0x2e8008=this['view']['getFloat32'](this['head'],!(0x3d1*-0x4+-0x2063+-0x2fa7*-0x1));return this['head']+=0x38a*-0x9+-0x2a4+0x2282,_0x2e8008;}['getFloat64'](){const _0x1f31a9=this['view']['getFloat64'](this['head'],!(0x1dc1+-0x1083+-0x3*0x46a));return this['head']+=0x162b+0x2179+-0x379c,_0x1f31a9;}}const G2=_0x29bc5d=>{console['log']('____\x20ENGIN'+'E\x20IVAN','parse\x20ply\x20'+'Header');const _0x239911=[],_0x3e8dbb=[];let _0x1242b4;for(let _0x2f5ff1=-0x2e7*-0xd+-0x1f7c+-0x5e*0x11;_0x2f5ff1<_0x29bc5d['length'];++_0x2f5ff1){const _0x1d238c=_0x29bc5d[_0x2f5ff1]['split']('\x20');switch(_0x1d238c[-0x202b+0x2494*-0x1+-0x1*-0x44bf]){case'comment':_0x3e8dbb['push'](_0x1d238c['slice'](0x60d+-0xcdb*-0x2+-0x1fc2)['join']('\x20'));break;case'format':_0x1242b4=_0x1d238c[-0x24b9+0x1249+0x1271];break;case'element':_0x239911['push']({'name':_0x1d238c[-0x1*0x189+0x1c9d+-0x1*0x1b13],'count':parseInt(_0x1d238c[0x27*0x43+0x22*-0xa6+0x9*0x151],0x1543+-0xf29*-0x2+0x5*-0xa4f),'properties':[]});break;case'property':{if(!Ef['has'](_0x1d238c[-0x181b+0x3bf*-0x1+0x949*0x3]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x1d238c[-0xf16+0x16d9+-0x3*0x296]+('\x27\x20in\x20ply\x20h'+'eader'));_0x239911[_0x239911['length']-(0x2f*-0x98+-0x21df+0x3dc8)]['properties']['push']({'type':_0x1d238c[0x1*0x1715+0x1c*-0xca+-0xfc],'name':_0x1d238c[-0x201d+0x4b1*0x7+0x2*-0x5c],'storage':null,'byteSize':Ef['get'](_0x1d238c[0x14b5+-0xad*0x2b+0x85b])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x1d238c[-0x61c+-0x1bd6+-0x6ca*-0x5]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x239911,'format':_0x1242b4,'comments':_0x3e8dbb};},H2=_0x3df872=>{const _0x53a93b=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x32b107=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x3082f6=new Array(-0x268f+0x1089+-0x1*-0x1633)['fill']('')['map']((_0xbacdd2,_0x263b5d)=>'f_rest_'+_0x263b5d),_0xba96d8=()=>_0x3df872[-0x1870+-0x46*0x1f+-0x1*-0x20ea]['name']==='chunk'&&_0x3df872[0x1d7e+-0x3*0xc51+0x775]['properties']['every']((_0xf5b9a4,_0x1187b1)=>_0xf5b9a4['name']===_0x53a93b[_0x1187b1]&&_0xf5b9a4['type']==='float')&&_0x3df872[0x1*0x57b+0x67*0x3f+-0x1ed3]['name']==='vertex'&&_0x3df872[0x256f*-0x1+-0x2d8+0x2848]['properties']['every']((_0x35aade,_0x11cb4c)=>_0x35aade['name']===_0x32b107[_0x11cb4c]&&_0x35aade['type']==='uint'),_0x272213=()=>_0x3df872[-0x6d*0x18+-0x31d*0x5+-0x1f*-0xd5]['name']==='sh'&&[-0xaa5+0x123c+-0x78e,-0x23fb*-0x1+0x37d*0xb+0xeda*-0x5,-0x2442+-0x2040+0x44af]['indexOf'](_0x3df872[0x1*0x3b+-0x1*0x1a65+0x1a2c]['properties']['length'])!==-(0x3c*-0x56+0x1a*-0xa9+-0x7*-0x555)&&_0x3df872[0x63*0x2b+0x7*-0x4c3+0x10b6]['properties']['every']((_0x3d9d52,_0xb4359c)=>_0x3d9d52['name']===_0x3082f6[_0xb4359c]&&_0x3d9d52['type']==='uchar');return _0x3df872['length']===-0xde*0x6+0xe7*-0xf+-0x12bf*-0x1&&_0xba96d8()||_0x3df872['length']===0x15d0+-0x1a65+0x498&&_0xba96d8()&&_0x272213();},W2=_0x245ff3=>_0x245ff3['length']===-0x11*0xd+0x25*0xd1+-0x1d57&&_0x245ff3[0x23fa+-0x10*-0xa7+-0x2e6a]['name']==='vertex'&&_0x245ff3[0x1*-0x20b2+-0x757*-0x1+-0x1*-0x195b]['properties']['every'](_0x583dbd=>_0x583dbd['type']==='float'),$2=async(_0x5a819a,_0x104367)=>{const _0x34e144=new D2(),_0x2206b1=_0x104367[0xfa+0x1*-0x249a+0x720*0x5]['count'],_0x5dfab1=_0x104367[0x1c1b+0x406+-0x2021]['properties']['length'],_0x273262=_0x104367[-0x137*0x19+0x13e2+-0x22*-0x4f]['count'],_0x26a3fd=_0x104367[-0x4*-0xcf+-0x478+0x1*0x13d]['properties']['some'](_0x48aa8a=>_0x48aa8a['name']==='packed_tim'+'e'),_0x299940=_0x5fa8dd=>{const _0x45ad67=Math['ceil'](Math['sqrt'](_0x5fa8dd)),_0x34db7b=Math['ceil'](_0x5fa8dd/_0x45ad67);return _0x45ad67*_0x34db7b;};_0x34e144['numSplats']=_0x273262,_0x34e144['is4D']=_0x26a3fd,_0x34e144['chunkData']=new Float32Array(_0x2206b1*_0x5dfab1),_0x34e144['vertexData']=new Uint32Array(_0x299940(_0x273262)*(-0x221+-0x25f+0x486));const _0x2d9fb7=async(_0x3ab365,_0xed73a1)=>{const _0x47d62b=new Uint8Array(_0x3ab365);let _0x5e1062=-0x1cc8+0x1146+0xb82;for(;_0x5e1062<_0xed73a1;){for(;_0x5a819a['remaining']===-0x115*-0x23+0x4*0x5fb+-0x3dcb;)await _0x5a819a['read']();const _0x40a29d=Math['min'](_0xed73a1-_0x5e1062,_0x5a819a['remaining']),_0x377852=_0x5a819a['data'];for(let _0x6dd89b=-0x3*0xa7d+-0x58*-0x53+0x2ef;_0x6dd89b<_0x40a29d;++_0x6dd89b)_0x47d62b[_0x5e1062++]=_0x377852[_0x5a819a['head']++];}};return await _0x2d9fb7(_0x34e144['chunkData']['buffer'],_0x2206b1*_0x5dfab1*(0x1edd*-0x1+0x147e+0xa63*0x1)),await _0x2d9fb7(_0x34e144['vertexData']['buffer'],_0x273262*(-0xcf7*-0x1+-0xf34*0x1+0x243)*(0x3*-0xc89+-0x2*-0x11df+0x1e1)),_0x104367['length']===-0x1abe+-0x1a8f+0x10*0x355&&(_0x34e144['shData']=new Uint8Array(_0x104367[-0x2*0x73b+-0xe2d+-0x1*-0x1ca5]['count']*_0x104367[-0x921+-0x1b3*-0x14+0x1*-0x18d9]['properties']['length']),await _0x2d9fb7(_0x34e144['shData']['buffer'],_0x34e144['shData']['byteLength'])),_0x34e144;},q2=async(_0x2cb4ff,_0x26bee1)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readFloatP'+'ly');const _0x239a3c=_0x26bee1[0x1151*-0x2+0x1850+-0x529*-0x2],_0x12d908=_0x239a3c['properties'],_0x11c3df=_0x12d908['length'],_0x5e3745=_0x12d908['map'](_0x5a7b67=>_0x5a7b67['storage']),_0x3d23f0=_0x12d908['reduce']((_0x5e2df6,_0xf695e2)=>_0x5e2df6+_0xf695e2['byteSize'],0x1b99+0x4*-0x7b1+0x32b);let _0x19cb3d=0x1eb9+0x17aa*0x1+-0x3663,_0x26b3b1;const _0x5cb988=()=>{const _0x216959=_0x2cb4ff['data']['buffer'];(_0x26b3b1==null?void(-0x2d*-0x14+-0xfb1+0x40f*0x3):_0x26b3b1['buffer'])!==_0x216959&&(_0x26b3b1=new Float32Array(_0x216959,-0xa*0x53+-0x3*0x9e9+0x16f*0x17,_0x216959['byteLength']/(-0x29d+-0x485+0x726)));};for(_0x5cb988();_0x19cb3d<_0x239a3c['count'];){for(;_0x2cb4ff['remaining']<_0x3d23f0;)await _0x2cb4ff['read'](),_0x5cb988();const _0x42691b=Math['min'](_0x239a3c['count']-_0x19cb3d,Math['floor'](_0x2cb4ff['remaining']/_0x3d23f0));for(let _0x2f6944=0x2545+-0x572*-0x1+-0x2ab7;_0x2f6944<_0x11c3df;++_0x2f6944){const _0x4ccce1=_0x5e3745[_0x2f6944];for(let _0x5663b6=-0x189d+0xa1*0x17+0x362*0x3;_0x5663b6<_0x42691b;++_0x5663b6)_0x4ccce1[_0x5663b6+_0x19cb3d]=_0x26b3b1[_0x5663b6*_0x11c3df+_0x2f6944];}_0x19cb3d+=_0x42691b,_0x2cb4ff['head']+=_0x42691b*_0x3d23f0;}return new Fa(_0x26bee1);},X2=async(_0x24dd86,_0xbda5a4)=>{for(let _0x20160a=0x994*0x3+-0x1adf+-0x1dd;_0x20160a<_0xbda5a4['length'];++_0x20160a){const _0x8d3097=_0xbda5a4[_0x20160a],_0x2805f6=_0x8d3097['properties']['reduce']((_0x30f37a,_0x3ea549)=>_0x30f37a+_0x3ea549['byteSize'],-0xdb0+0x1be*0x13+0x9b5*-0x2),_0x1521d8=_0x8d3097['properties']['map'](_0x482151=>{if(_0x482151['storage'])switch(_0x482151['type']){case'char':return(_0x1e3372,_0x202db2)=>{_0x482151['storage'][_0x202db2]=_0x1e3372['getInt8']();};case'uchar':return(_0x1bc110,_0x3f02ec)=>{_0x482151['storage'][_0x3f02ec]=_0x1bc110['getUint8']();};case'short':return(_0x352eb0,_0x7d5493)=>{_0x482151['storage'][_0x7d5493]=_0x352eb0['getInt16']();};case'ushort':return(_0x40f107,_0x5b749c)=>{_0x482151['storage'][_0x5b749c]=_0x40f107['getUint16']();};case'int':return(_0x3eaa26,_0x4f95f0)=>{_0x482151['storage'][_0x4f95f0]=_0x3eaa26['getInt32']();};case'uint':return(_0x38ffae,_0x5f3c03)=>{_0x482151['storage'][_0x5f3c03]=_0x38ffae['getUint32']();};case'float':return(_0xe384f7,_0x1ef729)=>{_0x482151['storage'][_0x1ef729]=_0xe384f7['getFloat32']();};case'double':return(_0x1f19be,_0x1f727d)=>{_0x482151['storage'][_0x1f727d]=_0x1f19be['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x482151['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0xd0587f=>{_0xd0587f['head']+=_0x482151['byteSize'];};});let _0xd480b9=0x44*-0x8+0xff5+-0xdd5;for(;_0xd480b9<_0x8d3097['count'];){for(;_0x24dd86['remaining']<_0x2805f6;)await _0x24dd86['read']();const _0x5437e9=Math['min'](_0x8d3097['count']-_0xd480b9,Math['floor'](_0x24dd86['remaining']/_0x2805f6));for(let _0x4bef8b=0x1676+-0x1ec3+-0x19*-0x55;_0x4bef8b<_0x5437e9;++_0x4bef8b){for(let _0x25e00c=-0xd76+0xd87*0x2+-0xd98;_0x25e00c<_0x8d3097['properties']['length'];++_0x25e00c)_0x1521d8[_0x25e00c](_0x24dd86,_0xd480b9);_0xd480b9++;}}}return new Fa(_0xbda5a4);},j2=async(_0x21f59d,_0x2c2675=null,_0xfb3c14=null)=>{console['log']('____\x20ENGIN'+'E\x20IVAN','readPly');const _0x2cc3b9=(_0xaf7d3a,_0x2fb747)=>{const _0x4e4a21=_0xaf7d3a['length']-_0x2fb747['length'];let _0x24ffd7,_0x184095;for(_0x24ffd7=0x6e4+0xc32+0x7*-0x2ba;_0x24ffd7<=_0x4e4a21;++_0x24ffd7){for(_0x184095=-0x37*-0x85+0x15bd+-0x3250;_0x184095<_0x2fb747['length']&&_0xaf7d3a[_0x24ffd7+_0x184095]===_0x2fb747[_0x184095];++_0x184095);if(_0x184095===_0x2fb747['length'])return _0x24ffd7;}return-(0xbbd+0x2640+0x1c*-0x1c9);},_0xf7fb36=(_0x18de58,_0x39d3aa)=>{if(_0x18de58['length']<_0x39d3aa['length'])return!(0x101+0x98+0x3*-0x88);for(let _0x17f26a=-0xba4+-0x7*0x3bd+0x25cf;_0x17f26a<_0x39d3aa['length'];++_0x17f26a)if(_0x18de58[_0x17f26a]!==_0x39d3aa[_0x17f26a])return!(0x17d8+-0xd*0x161+0x2f5*-0x2);return!(-0x2*-0xa+-0x25f4+0x18*0x194);},_0x315eed=new V2(_0x21f59d,_0xfb3c14);let _0x181dc6;for(;;){if(await _0x315eed['read'](),_0x315eed['tail']>=Vg['length']&&!_0xf7fb36(_0x315eed['data'],Vg))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x181dc6=_0x2cc3b9(_0x315eed['data'],Gg),_0x181dc6!==-(-0x2521+-0x2*-0x1120+0x2e2))break;}const _0x587974=new TextDecoder('ascii')['decode'](_0x315eed['data']['subarray'](0x113f+0x4*-0x3dd+-0x1cb,_0x181dc6))['split']('\x0a'),{elements:_0x7b8620,format:_0x48a084,comments:_0x3df44c}=G2(_0x587974);if(_0x48a084!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x315eed['head']=_0x181dc6+Gg['length'],_0x315eed['compact'](),{'data':await((async()=>H2(_0x7b8620)?await $2(_0x315eed,_0x7b8620):(_0x7b8620['forEach'](_0x166f90=>{_0x166f90['properties']['forEach'](_0x57c83d=>{const _0x5c6240=Ef['get'](_0x57c83d['type']);if(_0x5c6240){const _0x974f20=!_0x2c2675||_0x2c2675(_0x57c83d['name'])?new _0x5c6240(_0x166f90['count']):null;_0x57c83d['storage']=_0x974f20;}});}),W2(_0x7b8620)?await q2(_0x315eed,_0x7b8620):await X2(_0x315eed,_0x7b8620)))()),'comments':_0x3df44c};},Y2=_0x17ae2b=>!(-0x15c+-0x2188+0x2*0x1172);class K2{constructor(_0x334b4a,_0x2cfc8a,_0x1bb2e0){c(this,'urlList'),c(this,'device'),c(this,'assets'),c(this,'maxRetries'),c(this,'gsplatReso'+'urce'),(console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20P'+'lyParser.c'+'onstructor'),this['device']=_0x334b4a,this['assets']=_0x2cfc8a,this['maxRetries']=_0x1bb2e0,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0xb*-0x16f+-0x4d9*-0x7+0x31b4*-0x1);}async['load'](_0x527cc5,_0x92a501,_0x33e06d){this['urlList']=[],console['log']('____\x20ENGIN'+'E\x20IVAN','PlyParser.'+'load'),_0x527cc5['load']['includes'](',')?this['urlList']=_0x527cc5['load']['split'](','):this['urlList']['push'](_0x527cc5['load']);const _0x524657=_0x33e06d['data']['loadAllSeq']?this['urlList']['length']:-0x167*-0x17+-0xa18+0x58a*-0x4,_0x13a0cc=_0x33e06d['data']['timeOption'],_0x478577=_0x33e06d['data']['events'];for(let _0x358693=-0x24d4+-0x1d58+0x422c;_0x358693<_0x524657;_0x358693++)await this['loadGsplat'+'Data'](this['urlList'],_0x92a501,_0x33e06d,_0x358693,_0x13a0cc,_0x478577,_0x524657);_0x478577['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x356bac,_0x948498,_0x24e588,_0x5b776e,_0x25292e,_0x438041,_0x1a70e2){var _0x33df23;const _0x4aaffc=_0x356bac[_0x5b776e]['trim']();try{const _0x555069=await U2['fetch'](_0x4aaffc);if(!_0x555069||!_0x555069['body'])_0x948498('Error\x20load'+'ing\x20resour'+'ce',null);else{const _0x4572d7=parseInt(_0x555069['headers']['get']('content-le'+'ngth')??'0',-0x96*-0x1e+-0xe*0x2a1+0x1344),{data:_0x365ead,comments:_0x3a8116}=await j2(_0x555069['body']['getReader'](),_0x24e588['data']['elementFil'+'ter']??Y2,_0x44a5c7=>{this['totalRecei'+'ved']+=_0x44a5c7,_0x24e588&&_0x438041['fire']('progress',this['totalRecei'+'ved'],_0x4572d7*_0x1a70e2);});_0x365ead['isCompress'+'ed']||_0x24e588['data']['reorder'],this['gsplatReso'+'urce']&&((_0x33df23=this['gsplatReso'+'urce'])!=null&&_0x33df23['splatData'])?this['gsplatReso'+'urce']['appendGSpl'+'atData'](_0x365ead['isCompress'+'ed']&&_0x24e588['data']['decompress']?await _0x365ead['decompress']():_0x365ead,_0x25292e,_0x5b776e):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new k2(this['device'],_0x365ead['isCompress'+'ed']&&_0x24e588['data']['decompress']?await _0x365ead['decompress']():_0x365ead,_0x3a8116),this['gsplatReso'+'urce']['timeOption']=_0x25292e),_0x948498(null,this['gsplatReso'+'urce']);}}catch(_0x263078){_0x948498(_0x263078,null);}}['open'](_0x26fdea,_0x5f21b8){return _0x5f21b8;}}class Z2 extends Ge{constructor(_0x149e76){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x149e76,'gsplat'),this['parser']=new K2(_0x149e76['graphicsDe'+'vice'],_0x149e76['assets'],-0x43c*0x7+0x1817*-0x1+0x3*0x11ea);}['load'](_0x35fd3f,_0x2e24dc,_0x505401){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x35fd3f=='string'&&(_0x35fd3f={'load':_0x35fd3f,'original':_0x35fd3f}),this['parser']['load'](_0x35fd3f,_0x2e24dc,_0x505401);}['open'](_0x37a0dd,_0x9f986d,_0x8d3103){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),this['parser']['open'](_0x37a0dd,_0x9f986d,_0x8d3103);}}class Cf{static['setCompres'+'sedPRS'](_0x37817c,_0x5de97d,_0x1e07cd){const _0x172c42=_0x1e07cd['singleVecs'];let _0x18e328,_0x332847;const _0x47669a=_0x5de97d['___1'];_0x47669a||(_0x18e328=_0x1e07cd['tripleVecs'],_0x332847=_0x5de97d['___2']);let _0xa89fea=_0x47669a?_0x47669a[0x1ed9+-0x6*-0x409+0xb03*-0x5]:_0x18e328[_0x332847];_0x37817c['setLocalPo'+'sition'](_0x172c42[_0xa89fea],_0x172c42[_0xa89fea+(0xf14+0x487*0x2+-0x57*0x47)],_0x172c42[_0xa89fea+(0x238c+0x4be*-0x1+-0x1ecc)]),_0xa89fea=_0x47669a?_0x47669a[0x139*-0xe+0x24b3+-0x1394]:_0x18e328[_0x332847+(0x1509+0x527+0x1a2f*-0x1)],_0x37817c['setLocalEu'+'lerAngles'](_0x172c42[_0xa89fea],_0x172c42[_0xa89fea+(-0x4*0x6d+-0x1*-0x1a50+0x189b*-0x1)],_0x172c42[_0xa89fea+(0x423+-0x1e3e*0x1+0x1a1d)]),_0xa89fea=_0x47669a?_0x47669a[0x2016+-0x21bd+0x1*0x1a9]:_0x18e328[_0x332847+(-0xbed+0x1a20+0x7*-0x207)],_0x37817c['setLocalSc'+'ale'](_0x172c42[_0xa89fea],_0x172c42[_0xa89fea+(0x1505+0x1aec+-0x2ff0)],_0x172c42[_0xa89fea+(-0x1f94+0x1b27+0x46f)]);}static['oneCharToK'+'ey'](_0x199391,_0x331d91){const _0x47313c=_0x199391['charCodeAt'](-0xd50+-0xc49+0x1999)-_0x331d91['fieldFirst'+'Code'];return _0x331d91['fieldArray'][_0x47313c];}static['multCharTo'+'Key'](_0x12eef6,_0x5ae1cd){let _0x10a767=0x1*-0x133e+-0x13a5+0xb5*0x37;for(let _0x3b72a0=0x1*0x2596+0x1a5e+-0xffd*0x4;_0x3b72a0<_0x12eef6['length'];_0x3b72a0++)_0x10a767=_0x10a767*_0x5ae1cd['fieldCodeB'+'ase']+_0x12eef6['charCodeAt'](_0x3b72a0)-_0x5ae1cd['fieldFirst'+'Code'];return _0x5ae1cd['fieldArray'][_0x10a767];}}class oc{constructor(_0x4b179a,_0x465eb4){this['_node']=_0x4b179a,this['_data']=_0x465eb4;}['run'](){const _0x4a87fc=Object['prototype']['toString']['call'](this['_node']);return _0x4a87fc==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x4a87fc==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x3ae8b8){let _0x460b8a=_0x3ae8b8;const _0x102d92=_0x3ae8b8['length'];_0x102d92===0x140b+-0x8*-0x397+-0x30c2?_0x460b8a=Cf['oneCharToK'+'ey'](_0x3ae8b8,this['_data']):_0x102d92===-0xf1*0x13+0x1*0xf21+0x2c4&&(_0x460b8a=Cf['multCharTo'+'Key'](_0x3ae8b8,this['_data'])),this['_result'][_0x460b8a]=new oc(this['_node'][_0x3ae8b8],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x1d3a07){const _0x1372e0=new oc(_0x1d3a07,this['_data'])['run']();this['_result']['push'](_0x1372e0);}}class jp{constructor(_0x574534,_0x453e8b){this['_app']=_0x574534,this['_isTemplat'+'e']=_0x453e8b;}['parse'](_0x552825){const _0x3849a0={};let _0x449db4=null;const _0xb93fc8=_0x552825['compressed'+'Format'];_0xb93fc8&&!_0x552825['entDecompr'+'essed']&&(_0x552825['entDecompr'+'essed']=!(0x216c+-0x1089+0x3*-0x5a1),_0x552825['entities']=new oc(_0x552825['entities'],_0xb93fc8)['run']());for(const _0x2947b7 in _0x552825['entities']){const _0x46b7cb=_0x552825['entities'][_0x2947b7],_0x5e226d=this['_createEnt'+'ity'](_0x46b7cb,_0xb93fc8);_0x3849a0[_0x2947b7]=_0x5e226d,_0x46b7cb['parent']===null&&(_0x449db4=_0x5e226d);}for(const _0x59b2c6 in _0x552825['entities']){const _0x527bef=_0x3849a0[_0x59b2c6],_0x40c7ab=_0x552825['entities'][_0x59b2c6]['children'],_0x3effc9=_0x40c7ab['length'];for(let _0x3c75ee=-0x1d3a+0x58d+0x17ad;_0x3c75ee<_0x3effc9;_0x3c75ee++){const _0x413da3=_0x3849a0[_0x40c7ab[_0x3c75ee]];_0x413da3&&_0x527bef['addChild'](_0x413da3);}}return this['_openCompo'+'nentData'](_0x449db4,_0x552825['entities']),_0x449db4;}['_createEnt'+'ity'](_0xf83b7f,_0x5261a9){const _0x4a58e8=new je(_0xf83b7f['name'],this['_app']);if(_0x4a58e8['setGuid'](_0xf83b7f['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x4a58e8,_0xf83b7f,_0x5261a9),_0x4a58e8['_enabled']=_0xf83b7f['enabled']??!(-0x1*-0x1b25+-0x1c9*-0x14+-0x1f*0x207),this['_isTemplat'+'e']?_0x4a58e8['_template']=!(-0x21e1+0x1ef7*-0x1+-0x14c*-0x32):_0x4a58e8['_enabledIn'+'Hierarchy']=_0x4a58e8['_enabled'],_0x4a58e8['template']=_0xf83b7f['template'],_0xf83b7f['tags']){for(let _0x104888=-0x1730+-0xddd+0x250d;_0x104888<_0xf83b7f['tags']['length'];_0x104888++)_0x4a58e8['tags']['add'](_0xf83b7f['tags'][_0x104888]);}return _0x4a58e8;}['_setPosRot'+'Scale'](_0x5dd4d6,_0x56e522,_0x5ea223){if(_0x5ea223)Cf['setCompres'+'sedPRS'](_0x5dd4d6,_0x56e522,_0x5ea223);else{const _0x519506=_0x56e522['position'],_0x32315c=_0x56e522['rotation'],_0x4085fb=_0x56e522['scale'];_0x5dd4d6['setLocalPo'+'sition'](_0x519506[0x1*-0x1d1f+0x26a1*-0x1+0x43c0],_0x519506[-0x2565+-0x649+-0xd3*-0x35],_0x519506[0xeed+0x128f+0x2*-0x10bd]),_0x5dd4d6['setLocalEu'+'lerAngles'](_0x32315c[0x1fd*-0x6+0x134a+-0x75c],_0x32315c[-0x21a3+-0x1b23*-0x1+0x681],_0x32315c[0x24af+0x1eec+-0xd85*0x5]),_0x5dd4d6['setLocalSc'+'ale'](_0x4085fb[-0x1*0x892+-0x1b1+0xa43],_0x4085fb[-0x3*-0xce3+-0x88d+-0x1e1b],_0x4085fb[-0x151c+-0x1*0x626+0x1b44]);}}['_openCompo'+'nentData'](_0x3e16f8,_0xafb01c){const _0x1ec859=this['_app']['systems']['list'];let _0x3d5e92=_0x1ec859['length'];const _0x596977=_0xafb01c[_0x3e16f8['getGuid']()];for(let _0x2287ad=-0x3a7+-0x184a*-0x1+0x9*-0x24b;_0x2287ad<_0x3d5e92;_0x2287ad++){const _0xfa7c53=_0x1ec859[_0x2287ad],_0x44ae89=_0x596977['components'][_0xfa7c53['id']];_0x44ae89&&_0xfa7c53['addCompone'+'nt'](_0x3e16f8,_0x44ae89);}_0x3d5e92=_0x596977['children']['length'];const _0x36aa04=_0x3e16f8['_children'];for(let _0xe0d239=0x179b+-0x43+-0x9*0x298;_0xe0d239<_0x3d5e92;_0xe0d239++)_0x36aa04[_0xe0d239]?_0x36aa04[_0xe0d239]=this['_openCompo'+'nentData'](_0x36aa04[_0xe0d239],_0xafb01c):b['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x3e16f8['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x3e16f8;}}class Fx{static['load'](_0xbcfc63,_0x4dbdd1,_0x1e5998){typeof _0xbcfc63=='string'&&(_0xbcfc63={'load':_0xbcfc63,'original':_0xbcfc63}),Ye['get'](_0xbcfc63['load'],{'retry':_0x4dbdd1>0x3*0xd4+-0x12*-0x145+-0x1956,'maxRetries':_0x4dbdd1},(_0x893ba9,_0x18b4ca)=>{if(!_0x893ba9)_0x1e5998(_0x893ba9,_0x18b4ca);else{let _0x22a25c='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0xbcfc63['original'];_0x893ba9['message']?(_0x22a25c+=':\x20'+_0x893ba9['message'],_0x893ba9['stack']&&(_0x22a25c+='\x0a'+_0x893ba9['stack'])):_0x22a25c+=':\x20'+_0x893ba9,_0x1e5998(_0x22a25c);}});}}class Q2 extends Ge{constructor(_0x50082a){super(_0x50082a,'hierarchy');}['load'](_0x15f5fe,_0x5372fd){Fx['load'](_0x15f5fe,this['maxRetries'],_0x5372fd);}['open'](_0xb3cb09,_0x2ef05e){this['_app']['systems']['script']['preloading']=!(0x5*-0x43c+-0x18c7+0x2df3);const _0x2984b9=new jp(this['_app'],!(0xe13*0x1+-0x2*0x105e+0x12aa*0x1))['parse'](_0x2ef05e);return this['_app']['systems']['script']['preloading']=!(0x6*0x571+-0x43+-0x2062),_0x2984b9;}}class J2 extends Ge{constructor(_0x336f0f){super(_0x336f0f,'html'),c(this,'decoder',null);}['load'](_0xb7607a,_0x4fa624){typeof _0xb7607a=='string'&&(_0xb7607a={'load':_0xb7607a,'original':_0xb7607a}),Ye['get'](_0xb7607a['load'],{'retry':this['maxRetries']>0x12f0+-0x2*0x29+-0x129e,'maxRetries':this['maxRetries']},(_0x47f850,_0x36ea4b)=>{_0x47f850?_0x4fa624('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0xb7607a['original']+'\x20['+_0x47f850+']'):_0x4fa624(null,_0x36ea4b);});}['openBinary'](_0x43df31){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x43df31);}}class eL extends Ge{constructor(_0x283200){super(_0x283200,'json'),c(this,'decoder',null);}['load'](_0x1ab596,_0x479410){typeof _0x1ab596=='string'&&(_0x1ab596={'load':_0x1ab596,'original':_0x1ab596});const _0x3a1cf8={'retry':this['maxRetries']>-0x122f+0x141*-0x12+0x1*0x28c1,'maxRetries':this['maxRetries']};_0x1ab596['load']['startsWith']('blob:')&&(_0x3a1cf8['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x1ab596['load'],_0x3a1cf8,(_0xc2f99e,_0x48540c)=>{_0xc2f99e?_0x479410('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x1ab596['original']+'\x20['+_0xc2f99e+']'):_0x479410(null,_0x48540c);});}['openBinary'](_0x5936c4){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x5936c4));}}class tL{constructor(){this['removeInva'+'lid']=!(-0x6*0x37b+0x2*-0x7+0x14f0),this['valid']=!(0x3*-0xae3+-0x2*-0x38b+0x1993),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([Kb,Vo,Bu]),'cull':this['_createEnu'+'mValidator']([vt,nn,xo,RS]),'blendType':this['_createEnu'+'mValidator']([a0,bp,Gt,hs,dn,wp,Xc,o0,l0,h0,c0]),'depthFunc':this['_createEnu'+'mValidator']([IS,Ih,Dh,gu,DS,LS,FS,Ri])};}['setInvalid'](_0x48e093,_0x11ede8){this['valid']=!(0x9aa+0x17*-0x11+-0x822),b['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x48e093,_0x11ede8[_0x48e093]),this['removeInva'+'lid']&&delete _0x11ede8[_0x48e093];}['validate'](_0x451398){const _0x2b1441=Da,_0x29122c=JC,_0x5a286f=_0x451398['mappingFor'+'mat']==='path';for(const _0x7c0c2f in _0x451398){const _0x10aed5=_0x2b1441[_0x7c0c2f];if(!_0x10aed5){_0x29122c[_0x7c0c2f]?delete _0x451398[_0x7c0c2f]:(b['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x7c0c2f),this['valid']=!(0x11*0xd1+0xadc+-0x18bc));continue;}if(_0x10aed5['startsWith']('enum')){const _0x464b58=_0x10aed5['split'](':')[0x1ab*-0x1+-0x2*0x3be+-0x24a*-0x4];this['enumValida'+'tors'][_0x464b58]&&(this['enumValida'+'tors'][_0x464b58](_0x451398[_0x7c0c2f])||this['setInvalid'](_0x7c0c2f,_0x451398));}else{if(_0x10aed5==='number')typeof _0x451398[_0x7c0c2f]!='number'&&this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='boolean')typeof _0x451398[_0x7c0c2f]!='boolean'&&this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='string')typeof _0x451398[_0x7c0c2f]!='string'&&this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='vec2')_0x451398[_0x7c0c2f]instanceof Array&&_0x451398[_0x7c0c2f]['length']===0x11bb+-0x2*-0x693+-0x7*0x469||this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='rgb')_0x451398[_0x7c0c2f]instanceof Array&&_0x451398[_0x7c0c2f]['length']===0x117c+-0xd44+0x1*-0x435||this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='texture')_0x5a286f?typeof _0x451398[_0x7c0c2f]=='string'||_0x451398[_0x7c0c2f]===null||_0x451398[_0x7c0c2f]instanceof ce||this['setInvalid'](_0x7c0c2f,_0x451398):typeof _0x451398[_0x7c0c2f]=='number'||_0x451398[_0x7c0c2f]===null||_0x451398[_0x7c0c2f]instanceof ce||this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='boundingbo'+'x')_0x451398[_0x7c0c2f]['center']&&_0x451398[_0x7c0c2f]['center']instanceof Array&&_0x451398[_0x7c0c2f]['center']['length']===-0x41*-0x6c+0x1104+-0xdf*0x33||this['setInvalid'](_0x7c0c2f,_0x451398),_0x451398[_0x7c0c2f]['halfExtent'+'s']&&_0x451398[_0x7c0c2f]['halfExtent'+'s']instanceof Array&&_0x451398[_0x7c0c2f]['halfExtent'+'s']['length']===-0x184c+-0x1d2*-0x1+0x167d||this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='cubemap')typeof _0x451398[_0x7c0c2f]=='number'||_0x451398[_0x7c0c2f]===null||_0x451398[_0x7c0c2f]===void(0x215*-0x5+0x1012+-0xcf*0x7)||_0x451398[_0x7c0c2f]instanceof ce&&_0x451398[_0x7c0c2f]['cubemap']||this['setInvalid'](_0x7c0c2f,_0x451398);else{if(_0x10aed5==='chunks'){const _0x2c76fa=Object['keys'](_0x451398[_0x7c0c2f]);for(let _0xff6168=0x6*-0x2a1+-0x1*0x1a39+-0x29ff*-0x1;_0xff6168<_0x2c76fa['length'];_0xff6168++)typeof _0x451398[_0x7c0c2f][_0x2c76fa[_0xff6168]]!='string'&&this['setInvalid'](_0x2c76fa[_0xff6168],_0x451398[_0x7c0c2f]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x10aed5);}}}}}}}}}}return _0x451398['validated']=!(-0x44*-0x3d+0x5*0x28f+-0x1cff*0x1),this['valid'];}['_createEnu'+'mValidator'](_0x72e086){return function(_0x1f6a4f){return _0x72e086['indexOf'](_0x1f6a4f)>=-0x840+-0x143a+0x1c7a;};}}class sL{constructor(){this['_validator']=null;}['parse'](_0x2c3209){const _0x24cbac=this['migrate'](_0x2c3209),_0x1ff02e=this['_validate'](_0x24cbac),_0x191668=new _s();return this['initialize'](_0x191668,_0x1ff02e),_0x191668;}['initialize'](_0x2662f7,_0x4e2dd0){_0x4e2dd0['validated']||(_0x4e2dd0=this['_validate'](_0x4e2dd0)),_0x4e2dd0['chunks']&&(_0x2662f7['chunks']={..._0x4e2dd0['chunks']});for(const _0x29035f in _0x4e2dd0){const _0x394a60=Da[_0x29035f],_0x9a8ace=_0x4e2dd0[_0x29035f];if(_0x394a60==='vec2')_0x2662f7[_0x29035f]=new W(_0x9a8ace[0x2454+-0x29*-0x35+-0x2cd1],_0x9a8ace[-0xa2f*-0x2+0x1*0x1cc5+-0x296*0x13]);else{if(_0x394a60==='rgb')_0x2662f7[_0x29035f]=new Y(_0x9a8ace[-0x25eb+-0x1*0xc73+-0x133*-0x2a],_0x9a8ace[0x4fb*-0x1+0x6*-0x5dd+-0x6a*-0x61],_0x9a8ace[-0x7d*-0x44+-0x2251+0x11f]);else{if(_0x394a60==='texture')_0x9a8ace instanceof ce?_0x2662f7[_0x29035f]=_0x9a8ace:_0x2662f7[_0x29035f]instanceof ce&&typeof _0x9a8ace=='number'&&_0x9a8ace>0x345*-0x3+0x1ce6+-0x65d*0x3||(_0x2662f7[_0x29035f]=null);else{if(_0x394a60==='cubemap')_0x9a8ace instanceof ce?_0x2662f7[_0x29035f]=_0x9a8ace:_0x2662f7[_0x29035f]instanceof ce&&typeof _0x9a8ace=='number'&&_0x9a8ace>0x219b*0x1+0xb*-0x223+-0xa1a||(_0x2662f7[_0x29035f]=null),_0x29035f==='cubeMap'&&!_0x9a8ace&&(_0x2662f7['prefiltere'+'dCubemaps']=null);else{if(_0x394a60==='boundingbo'+'x'){const _0x333cdb=new A(_0x9a8ace['center'][0x33d*0xa+0x1*0x118d+-0x31ef],_0x9a8ace['center'][0x1fde+0xa07*0x3+-0x3df2],_0x9a8ace['center'][0x72*0x25+0x240f+-0x3487*0x1]),_0xfc216b=new A(_0x9a8ace['halfExtent'+'s'][-0x11b3+0x1735*-0x1+0x8*0x51d],_0x9a8ace['halfExtent'+'s'][0x5*0x652+-0x15*0x10e+-0x973],_0x9a8ace['halfExtent'+'s'][-0x1c7*0xf+-0x1483+0xb*0x44a]);_0x2662f7[_0x29035f]=new ve(_0x333cdb,_0xfc216b);}else _0x2662f7[_0x29035f]=_0x4e2dd0[_0x29035f];}}}}}_0x2662f7['update']();}['migrate'](_0x4a4b1a){_0x4a4b1a['shader']&&delete _0x4a4b1a['shader'],_0x4a4b1a['mapping_fo'+'rmat']&&(_0x4a4b1a['mappingFor'+'mat']=_0x4a4b1a['mapping_fo'+'rmat'],delete _0x4a4b1a['mapping_fo'+'rmat']);let _0x4997b8;const _0xb69cd7=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x4997b8=-0x2199+0x1f81+0x218;_0x4997b8<_0xb69cd7['length'];_0x4997b8++){const _0x389771=_0xb69cd7[_0x4997b8][0xc4*-0xd+0x18ea+0xa*-0x17f],_0x2751f3=_0xb69cd7[_0x4997b8][0x1*-0x263c+-0x1*0xbcb+-0xc82*-0x4];_0x4a4b1a[_0x389771]!==void(0x16e7+-0x25*-0x89+0x6*-0x71e)&&(_0x4a4b1a[_0x2751f3]===void(-0x1da3+-0x12b9*0x2+0x4315)&&(_0x4a4b1a[_0x2751f3]=_0x4a4b1a[_0x389771]),delete _0x4a4b1a[_0x389771]);}const _0x30ef1a=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x4997b8=0x4d*-0x79+-0x5*0x2a7+0xe3*0x38;_0x4997b8<_0x30ef1a['length'];_0x4997b8++){const _0x37fa09=_0x30ef1a[_0x4997b8];_0x4a4b1a['hasOwnProp'+'erty'](_0x37fa09)&&delete _0x4a4b1a[_0x37fa09];}return _0x4a4b1a;}['_validate'](_0x1c0b28){return _0x1c0b28['validated']||(this['_validator']||(this['_validator']=new tL()),this['_validator']['validate'](_0x1c0b28)),_0x1c0b28;}}const iL={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black'};class rL extends Ge{constructor(_0x97d267){super(_0x97d267,'material'),this['_assets']=_0x97d267['assets'],this['_device']=_0x97d267['graphicsDe'+'vice'],this['_parser']=new sL();}['load'](_0x6b7903,_0xd6f5ed){typeof _0x6b7903=='string'&&(_0x6b7903={'load':_0x6b7903,'original':_0x6b7903}),Ye['get'](_0x6b7903['load'],{'retry':this['maxRetries']>0xde7+0x42*0x15+-0x1351,'maxRetries':this['maxRetries']},(_0x171283,_0x109058)=>{_0x171283?_0xd6f5ed&&_0xd6f5ed('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x6b7903['original']+'\x20['+_0x171283+']'):_0xd6f5ed&&(_0x109058['_engine']=!(0x885+-0x1fd*-0x13+-0x2e4c*0x1),_0xd6f5ed(null,_0x109058));});}['open'](_0x2377a0,_0x3357fb){const _0x34ff50=this['_parser']['parse'](_0x3357fb);return _0x3357fb['_engine']&&(_0x34ff50['_data']=_0x3357fb,delete _0x3357fb['_engine']),_0x34ff50;}['patch'](_0x710602,_0x583a16){_0x710602['resource']['_data']&&(_0x710602['_data']=_0x710602['resource']['_data'],delete _0x710602['resource']['_data']),_0x710602['data']['name']=_0x710602['name'],_0x710602['resource']['name']=_0x710602['name'],this['_bindAndAs'+'signAssets'](_0x710602,_0x583a16),_0x710602['off']('unload',this['_onAssetUn'+'load'],this),_0x710602['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x67129f){delete _0x67129f['data']['parameters'],delete _0x67129f['data']['chunks'],delete _0x67129f['data']['name'];}['_assignTex'+'ture'](_0x141e7d,_0x2cbc3f,_0x182bdb){_0x2cbc3f['resource'][_0x141e7d]=_0x182bdb;}['_getPlaceh'+'olderTextu'+'re'](_0x4f341c){const _0xb7e6b6=iL[_0x4f341c];return b['assert'](_0xb7e6b6,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x4f341c),tn(this['_device'],_0xb7e6b6);}['_assignPla'+'ceholderTe'+'xture'](_0x5d5b3b,_0x2116dd){_0x2116dd['resource'][_0x5d5b3b]=this['_getPlaceh'+'olderTextu'+'re'](_0x5d5b3b);}['_onTexture'+'Load'](_0x52f613,_0x1f6a0b,_0x1a31dc){this['_assignTex'+'ture'](_0x52f613,_0x1f6a0b,_0x1a31dc['resource']),_0x1f6a0b['resource']['update']();}['_onTexture'+'Add'](_0x16df43,_0x5da11d,_0xc2c345){this['_assets']['load'](_0xc2c345);}['_onTexture'+'RemoveOrUn'+'load'](_0x103171,_0x37442a,_0x2e8c8c){const _0x4b8b22=_0x37442a['resource'];_0x4b8b22&&_0x37442a['resource'][_0x103171]===_0x2e8c8c['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x103171,_0x37442a),_0x4b8b22['update']());}['_assignCub'+'emap'](_0xabb01e,_0x422688,_0x528a0b){if(_0x422688['resource'][_0xabb01e]=_0x528a0b[0x1505+0xc89*-0x3+-0x2*-0x84b],_0xabb01e==='cubeMap'){const _0x42b046=_0x528a0b['slice'](0x6b*-0x25+-0x132b+0x22a3);_0x42b046['every'](_0x339df8=>_0x339df8)?_0x422688['resource']['prefiltere'+'dCubemaps']=_0x42b046:_0x42b046[0xe1d+0x1806+-0x2623]&&(_0x422688['resource']['envAtlas']=_0x42b046[-0x14c8+-0x2230*-0x1+-0xd68]);}}['_onCubemap'+'Load'](_0x32a648,_0x402bf4,_0x4bef30){this['_assignCub'+'emap'](_0x32a648,_0x402bf4,_0x4bef30['resources']),this['_parser']['initialize'](_0x402bf4['resource'],_0x402bf4['data']);}['_onCubemap'+'Add'](_0x3f09bf,_0x26d882,_0x31ae59){this['_assets']['load'](_0x31ae59);}['_onCubemap'+'RemoveOrUn'+'load'](_0x3abe6,_0x175089,_0x22a1fe){const _0x1a0b35=_0x175089['resource'];_0x175089['data']['prefiltere'+'dCubeMap12'+'8']===_0x22a1fe['resources'][-0x823*0x1+-0x82a*-0x3+-0x105a]&&(this['_assignCub'+'emap'](_0x3abe6,_0x175089,[null,null,null,null,null,null,null]),_0x1a0b35['update']());}['_bindAndAs'+'signAssets'](_0x3f227c,_0x463123){const _0x37c318=this['_parser']['migrate'](_0x3f227c['data']),_0xdca20f=_0x3f227c['resource'],_0x1800c8=_0x37c318['mappingFor'+'mat']==='path',_0x3922aa=ed;let _0x45ce4b,_0x5c6467,_0x18e0ef;for(_0x45ce4b=0xd81+0x1*0x95c+-0x79f*0x3;_0x45ce4b<_0x3922aa['length'];_0x45ce4b++){_0x5c6467=_0x3922aa[_0x45ce4b],_0x18e0ef=_0xdca20f['_assetRefe'+'rences'][_0x5c6467];const _0x2bd959=_0x37c318[_0x5c6467],_0x54c884=_0xdca20f[_0x5c6467],_0x57aaae=_0x54c884===this['_getPlaceh'+'olderTextu'+'re'](_0x5c6467),_0x3adf2c=_0x37c318['validated'];_0x2bd959&&(!_0x54c884||!_0x3adf2c||_0x57aaae)?(_0x18e0ef||(_0x18e0ef=new qo(_0x5c6467,_0x3f227c,_0x463123,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0xdca20f['_assetRefe'+'rences'][_0x5c6467]=_0x18e0ef),_0x1800c8?_0x18e0ef['url']=_0x3f227c['getAbsolut'+'eUrl'](_0x2bd959):_0x18e0ef['id']=_0x2bd959,_0x18e0ef['asset']&&(_0x18e0ef['asset']['resource']?this['_assignTex'+'ture'](_0x5c6467,_0x3f227c,_0x18e0ef['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x5c6467,_0x3f227c),_0x463123['load'](_0x18e0ef['asset']))):_0x18e0ef&&(_0x1800c8?_0x18e0ef['url']=null:_0x18e0ef['id']=null);}const _0x5cb402=Np;for(_0x45ce4b=0x184b+-0x501+-0x134a;_0x45ce4b<_0x5cb402['length'];_0x45ce4b++)_0x5c6467=_0x5cb402[_0x45ce4b],_0x18e0ef=_0xdca20f['_assetRefe'+'rences'][_0x5c6467],_0x37c318[_0x5c6467]&&!_0x3f227c['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x18e0ef||(_0x18e0ef=new qo(_0x5c6467,_0x3f227c,_0x463123,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0xdca20f['_assetRefe'+'rences'][_0x5c6467]=_0x18e0ef),_0x1800c8?_0x18e0ef['url']=_0x37c318[_0x5c6467]:_0x18e0ef['id']=_0x37c318[_0x5c6467],_0x18e0ef['asset']&&(_0x18e0ef['asset']['loaded']&&this['_assignCub'+'emap'](_0x5c6467,_0x3f227c,_0x18e0ef['asset']['resources']),_0x463123['load'](_0x18e0ef['asset'])));this['_parser']['initialize'](_0xdca20f,_0x37c318);}}class nL{constructor(_0x303d79){this['_device']=_0x303d79['device'],this['_defaultMa'+'terial']=_0x303d79['defaultMat'+'erial'],this['_assets']=_0x303d79['assets'];}['parse'](_0x48caef,_0x175039,_0x456893){ac['parse']('filename.g'+'lb','',_0x48caef,this['_device'],this['_assets'],(_0x456893==null?void(0x109+-0xfd8+-0xdf*-0x11):_0x456893['options'])??{},(_0x463ca1,_0x3d06e1)=>{if(_0x463ca1)_0x175039(_0x463ca1);else{const _0x332afe=ir['createMode'+'l'](_0x3d06e1,this['_defaultMa'+'terial']);_0x3d06e1['destroy'](),_0x175039(null,_0x332afe);}});}}const aL={'points':Dc,'lines':Lc,'lineloop':Py,'linestrip':Ry,'triangles':Fs,'trianglestrip':lr,'trianglefan':Kr},oL={'int8':Fc,'uint8':Zr,'int16':kc,'uint16':rl,'int32':Ny,'uint32':Oo,'float32':Re};class lL{constructor(_0x555811){this['_device']=_0x555811['device'],this['_defaultMa'+'terial']=_0x555811['defaultMat'+'erial'];}['parse'](_0x3fd11b,_0x3dfcfd){const _0x39322d=_0x3fd11b['model'];if(!_0x39322d){_0x3dfcfd(null,null);return;}if(_0x39322d['version']<=0x6*0x5b5+0x1250*-0x1+-0xfed){_0x3dfcfd('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x5cde00=this['_parseNode'+'s'](_0x3fd11b),_0x524111=this['_parseSkin'+'s'](_0x3fd11b,_0x5cde00),_0x342191=this['_parseVert'+'exBuffers'](_0x3fd11b),_0x27a509=this['_parseInde'+'xBuffers'](_0x3fd11b,_0x342191),_0x3202f4=this['_parseMorp'+'hs'](_0x3fd11b,_0x5cde00,_0x342191),_0x25a939=this['_parseMesh'+'es'](_0x3fd11b,_0x524111['skins'],_0x3202f4['morphs'],_0x342191,_0x27a509['buffer'],_0x27a509['data']),_0x4b2255=this['_parseMesh'+'Instances'](_0x3fd11b,_0x5cde00,_0x25a939,_0x524111['skins'],_0x524111['instances'],_0x3202f4['morphs'],_0x3202f4['instances']),_0x879fac=new Ui();_0x879fac['graph']=_0x5cde00[-0x1052+-0x13c0+0x13*0x1e6],_0x879fac['meshInstan'+'ces']=_0x4b2255,_0x879fac['skinInstan'+'ces']=_0x524111['instances'],_0x879fac['morphInsta'+'nces']=_0x3202f4['instances'],_0x879fac['getGraph']()['syncHierar'+'chy'](),_0x3dfcfd(null,_0x879fac);}['_parseNode'+'s'](_0x829a2a){const _0x2503fe=_0x829a2a['model'],_0x4cac6a=[];let _0x4a532f;for(_0x4a532f=0x1*-0x168a+-0x2397+0x3a21;_0x4a532f<_0x2503fe['nodes']['length'];_0x4a532f++){const _0x4672cd=_0x2503fe['nodes'][_0x4a532f],_0xd35d85=new Oe(_0x4672cd['name']);_0xd35d85['setLocalPo'+'sition'](_0x4672cd['position'][0x26e5+-0x1993*0x1+-0xd52],_0x4672cd['position'][-0x2*0xbe1+-0x90e+0x20d1*0x1],_0x4672cd['position'][-0xb*-0xd6+0x1e3b+0x276b*-0x1]),_0xd35d85['setLocalEu'+'lerAngles'](_0x4672cd['rotation'][-0x265e+-0x1c8*-0xd+0x289*0x6],_0x4672cd['rotation'][-0x1596+-0x1*0x10f3+0x268a*0x1],_0x4672cd['rotation'][-0x22ee+0x3f9+-0x1ef7*-0x1]),_0xd35d85['setLocalSc'+'ale'](_0x4672cd['scale'][-0xeab*-0x1+-0x1760+0x8b5],_0x4672cd['scale'][0x1028+0x54c+0x1*-0x1573],_0x4672cd['scale'][0x7de+-0xa2d+0x251]),_0xd35d85['scaleCompe'+'nsation']=!!_0x4672cd['scaleCompe'+'nsation'],_0x4cac6a['push'](_0xd35d85);}for(_0x4a532f=0x13e4+0x18be+0x5*-0x8ed;_0x4a532f<_0x2503fe['parents']['length'];_0x4a532f++)_0x4cac6a[_0x2503fe['parents'][_0x4a532f]]['addChild'](_0x4cac6a[_0x4a532f]);return _0x4cac6a;}['_parseSkin'+'s'](_0x4a5b2b,_0x5f1d2c){const _0x33d1e0=_0x4a5b2b['model'],_0x16c3cd=[],_0x20bb63=[];let _0x35ba7f,_0x34a843;for(_0x35ba7f=-0x34*0x6b+0x5*-0x37f+0x1*0x2737;_0x35ba7f<_0x33d1e0['skins']['length'];_0x35ba7f++){const _0x3100f1=_0x33d1e0['skins'][_0x35ba7f],_0x16f189=[];for(_0x34a843=-0x2*-0xfd7+-0x124d*-0x1+-0x3*0x10a9;_0x34a843<_0x3100f1['inverseBin'+'dMatrices']['length'];_0x34a843++){const _0x32e302=_0x3100f1['inverseBin'+'dMatrices'][_0x34a843];_0x16f189[_0x34a843]=new q()['set'](_0x32e302);}const _0x3b2171=new z0(this['_device'],_0x16f189,_0x3100f1['boneNames']);_0x16c3cd['push'](_0x3b2171);const _0x25eb90=new hl(_0x3b2171),_0x5e4ad3=[];for(_0x34a843=0xa13*0x3+0x1*0x6df+-0x2518;_0x34a843<_0x3b2171['boneNames']['length'];_0x34a843++){const _0x2bf4cd=_0x3b2171['boneNames'][_0x34a843],_0x1a8f31=_0x5f1d2c[0x3*0xba3+0x1adf+-0x3dc8]['findByName'](_0x2bf4cd);_0x5e4ad3['push'](_0x1a8f31);}_0x25eb90['bones']=_0x5e4ad3,_0x20bb63['push'](_0x25eb90);}return{'skins':_0x16c3cd,'instances':_0x20bb63};}['_getMorphV'+'ertexCount'](_0x12ea38,_0x1ee5ba,_0x14abec){for(let _0x4212cd=0x20*-0xad+0x36d+0x1233*0x1;_0x4212cd<_0x12ea38['meshes']['length'];_0x4212cd++){const _0x2753b4=_0x12ea38['meshes'][_0x4212cd];if(_0x2753b4['morph']===_0x1ee5ba)return _0x14abec[_0x2753b4['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x49e47e,_0x386874,_0x59d256){const _0x4c96fb=_0x49e47e['model'],_0x41ea38=[],_0x8b177c=[];let _0x58ba16,_0x5d2716,_0x2bef5f,_0x1780de,_0x5661a4,_0x3dbabb;if(_0x4c96fb['morphs']){const _0x42c6f6=function(_0x40df98,_0x18cf92,_0x3b91df){const _0x3d3214=new Float32Array(_0x3b91df*(0x5e7*0x4+0x1*0x722+0x1*-0x1ebb));for(let _0x21650c=-0x64*-0x43+-0x1fd*0x5+-0x103b;_0x21650c<_0x18cf92['length'];_0x21650c++){const _0x4dd51a=_0x18cf92[_0x21650c]*(-0x11*-0x67+0x1f9f*-0x1+-0x18cb*-0x1);_0x3d3214[_0x4dd51a]=_0x40df98[_0x21650c*(-0x1f88+0x11d8+0x491*0x3)],_0x3d3214[_0x4dd51a+(0x17f*-0x1a+0x1543*0x1+0x11a4)]=_0x40df98[_0x21650c*(-0x8d5+0x23*-0x89+-0x1*-0x1b93)+(-0x1b58+-0x62*0x62+-0xcd*-0x51)],_0x3d3214[_0x4dd51a+(0x216c+0x2195*0x1+-0x42ff)]=_0x40df98[_0x21650c*(-0x1dca+-0xe04+0x2bd1)+(-0x2*0x69c+0xbee+0x14c)];}return _0x3d3214;};for(_0x58ba16=-0x25cf*0x1+-0x4*-0x5dd+0x93*0x19;_0x58ba16<_0x4c96fb['morphs']['length'];_0x58ba16++){for(_0x1780de=_0x4c96fb['morphs'][_0x58ba16]['targets'],_0x3dbabb=[],_0x2bef5f=this['_getMorphV'+'ertexCount'](_0x4c96fb,_0x58ba16,_0x59d256),_0x5d2716=-0x3d7*0x5+0x6*0x32e+-0x1f*-0x1;_0x5d2716<_0x1780de['length'];_0x5d2716++){const _0x307d85=_0x1780de[_0x5d2716]['aabb'],_0x5a366f=_0x307d85['min'],_0x265377=_0x307d85['max'],_0x357281=new ve(new A((_0x265377[-0xfb*-0x19+-0x2468+-0x3*-0x3f7]+_0x5a366f[0x4f0+0x29*-0x38+0x408])*(0x1*0x3f5+-0x4f9*0x1+0x104+0.5),(_0x265377[0x73f+0x1*0xe5+-0x823]+_0x5a366f[0xe*-0x4d+0xc38+0x2ab*-0x3])*(-0x13aa+0x7d*-0x1b+-0x1*-0x20d9+0.5),(_0x265377[-0x19e9+0x1740+0x2ab]+_0x5a366f[0x1*-0x427+0x195e+-0x1535])*(-0x7d3*0x1+0x2aa+0x529+0.5)),new A((_0x265377[-0x1b*-0xe2+0x19cf*-0x1+0x1f9]-_0x5a366f[-0x521+0xe*0x266+-0x1c73])*(0xe68*0x1+0x89d*-0x1+-0x5cb+0.5),(_0x265377[-0x18*-0x184+-0x241c+-0x43]-_0x5a366f[0x2*0x995+0x1*0x704+-0x1a2d])*(0x3*-0x25+0x1cca+-0x1c5b+0.5),(_0x265377[-0x25c5+0x2*-0x10f+0x5b3*0x7]-_0x5a366f[0x164*0x10+-0x1*0x17a6+0x168])*(0x1*0x1539+0x1c96+-0x31cf+0.5))),_0x56dc8a=_0x1780de[_0x5d2716]['indices'];let _0x1eeab2=_0x1780de[_0x5d2716]['deltaPosit'+'ions'],_0x10f8c1=_0x1780de[_0x5d2716]['deltaNorma'+'ls'];_0x56dc8a&&(_0x1eeab2=_0x42c6f6(_0x1eeab2,_0x56dc8a,_0x2bef5f),_0x10f8c1=_0x42c6f6(_0x10f8c1,_0x56dc8a,_0x2bef5f)),_0x5661a4=new sd({'deltaPositions':_0x1eeab2,'deltaNormals':_0x10f8c1,'name':_0x1780de[_0x5d2716]['name'],'aabb':_0x357281}),_0x3dbabb['push'](_0x5661a4);}const _0xd263fa=new k0(_0x3dbabb,this['_device']);_0x41ea38['push'](_0xd263fa);const _0x57b5cb=new mn(_0xd263fa);_0x8b177c['push'](_0x57b5cb);}}return{'morphs':_0x41ea38,'instances':_0x8b177c};}['_parseVert'+'exBuffers'](_0x33bbe2){const _0x149b46=_0x33bbe2['model'],_0x181ba0=[],_0x9df73b={'position':Xe,'normal':ss,'tangent':si,'blendWeight':ei,'blendIndices':Jt,'color':It,'texCoord0':ds,'texCoord1':yn,'texCoord2':Qo,'texCoord3':Jo,'texCoord4':el,'texCoord5':tl,'texCoord6':sl,'texCoord7':il};for(let _0x5783ac=-0x116b*-0x1+0x2618+-0x3783;_0x5783ac<_0x149b46['vertices']['length'];_0x5783ac++){const _0x7fc1fd=_0x149b46['vertices'][_0x5783ac],_0x47618c=[];for(const _0x149977 in _0x7fc1fd){const _0x1dc3d2=_0x7fc1fd[_0x149977];_0x47618c['push']({'semantic':_0x9df73b[_0x149977],'components':_0x1dc3d2['components'],'type':oL[_0x1dc3d2['type']],'normalize':_0x9df73b[_0x149977]===It});}const _0x7055ca=new Dt(this['_device'],_0x47618c),_0x674a0f=_0x7fc1fd['position']['data']['length']/_0x7fc1fd['position']['components'],_0x381f2e=new fs(this['_device'],_0x7055ca,_0x674a0f),_0x25f1d4=new vo(_0x381f2e);for(let _0x3ba4c1=-0x142*-0xf+0x1aea+0xb72*-0x4;_0x3ba4c1<_0x674a0f;_0x3ba4c1++){for(const _0x24da04 in _0x7fc1fd){const _0x251453=_0x7fc1fd[_0x24da04];switch(_0x251453['components']){case 0x1*0x1e6d+0x2a9+-0x2115:_0x25f1d4['element'][_0x9df73b[_0x24da04]]['set'](_0x251453['data'][_0x3ba4c1]);break;case-0x11ee+0xb*-0x3f+0x14a5:_0x25f1d4['element'][_0x9df73b[_0x24da04]]['set'](_0x251453['data'][_0x3ba4c1*(0x22*0x29+-0x148d+0xf1d)],0xd8f+0x17d4+-0x2562-_0x251453['data'][_0x3ba4c1*(-0x227f*-0x1+0x23ca+0x7cf*-0x9)+(0x16cf*0x1+-0xfb*0xb+-0xc05)]);break;case 0x1816*-0x1+-0xb*0x6d+-0x4*-0x732:_0x25f1d4['element'][_0x9df73b[_0x24da04]]['set'](_0x251453['data'][_0x3ba4c1*(0x1519+-0x1f38+0xa22)],_0x251453['data'][_0x3ba4c1*(0x1*-0x2311+-0x2456+-0x33f*-0x16)+(-0x21df+-0x1aeb*0x1+0x3ccb)],_0x251453['data'][_0x3ba4c1*(-0xa6*-0x35+0x4*0x705+-0x3e6f)+(-0x6*-0x509+0xe6c+-0x2ca0)]);break;case 0x2396+-0x88d+-0x1*0x1b05:_0x25f1d4['element'][_0x9df73b[_0x24da04]]['set'](_0x251453['data'][_0x3ba4c1*(0x3a*-0x4a+-0x87f+0x1947)],_0x251453['data'][_0x3ba4c1*(0x22f*0x9+-0x27*-0x6b+0x5c*-0x64)+(-0x3*-0x996+-0x2e1+-0x2e0*0x9)],_0x251453['data'][_0x3ba4c1*(-0x177a+0xd09*0x2+-0x294)+(-0x19f*0x18+0x6bc+0x202e)],_0x251453['data'][_0x3ba4c1*(-0x16*0xd7+-0x5c*-0x4+0x1*0x110e)+(-0x208d*0x1+-0x14d1+0x3561)]);break;}}_0x25f1d4['next']();}_0x25f1d4['end'](),_0x181ba0['push'](_0x381f2e);}return _0x181ba0;}['_parseInde'+'xBuffers'](_0x6fbe91,_0x20b6e9){const _0xa30138=_0x6fbe91['model'];let _0x1b5aef=null,_0x88139e=null,_0x41ea43,_0x2bf91a=0x11*0xdf+-0x47*-0x2f+-0x1bd8;for(_0x41ea43=0x54a*0x7+-0x16f5+-0xe11*0x1;_0x41ea43<_0xa30138['meshes']['length'];_0x41ea43++){const _0x4b0d0b=_0xa30138['meshes'][_0x41ea43];_0x4b0d0b['indices']!==void(0x10b7+0x16ff+-0x27b6)&&(_0x2bf91a+=_0x4b0d0b['indices']['length']);}let _0x59f0dc=0x1af3+-0x15*0x7f+0x1088*-0x1;for(_0x41ea43=0xe5d+-0xb3*-0x29+0x72c*-0x6;_0x41ea43<_0x20b6e9['length'];_0x41ea43++)_0x59f0dc=Math['max'](_0x59f0dc,_0x20b6e9[_0x41ea43]['numVertice'+'s']);return _0x2bf91a>0xf48+0x128+-0x1070&&(_0x59f0dc>0x8073+-0xb6a9+-0x1*-0x13635?(_0x1b5aef=new cr(this['_device'],or,_0x2bf91a),_0x88139e=new Uint32Array(_0x1b5aef['lock']())):(_0x1b5aef=new cr(this['_device'],Fi,_0x2bf91a),_0x88139e=new Uint16Array(_0x1b5aef['lock']()))),{'buffer':_0x1b5aef,'data':_0x88139e};}['_parseMesh'+'es'](_0x254dbe,_0x115de6,_0x2509ee,_0x5a6de2,_0x483174,_0x18e5e5){const _0x29fa89=_0x254dbe['model'],_0x3062b0=[];let _0x2b35fa=-0xb7+-0x99+0xc*0x1c;for(let _0x4f0bf4=0x601+0x25b4+-0x2bb5;_0x4f0bf4<_0x29fa89['meshes']['length'];_0x4f0bf4++){const _0x5c5023=_0x29fa89['meshes'][_0x4f0bf4],_0x5e4587=_0x5c5023['aabb'],_0x1f996f=_0x5e4587['min'],_0x3d582b=_0x5e4587['max'],_0x45608e=new ve(new A((_0x3d582b[0x1ef7*0x1+0x26e4+-0x3*0x1749]+_0x1f996f[-0x1*0x16cb+-0x1*-0xc97+0xa34])*(0x1*-0x1ce4+0x1*-0x24d+0x1f31+0.5),(_0x3d582b[-0x3*0xd5+-0x9d3+-0x277*-0x5]+_0x1f996f[-0x1*-0x1859+0x253e+-0x3d96])*(-0xb8d*-0x2+0x8a*0xb+-0x1d08+0.5),(_0x3d582b[0x14a8*0x1+-0xf8+0x9d7*-0x2]+_0x1f996f[0x1d4b+0x55*0xb+-0x20f0])*(-0x5db+0x17c4+-0x11e9+0.5)),new A((_0x3d582b[-0x25bf*-0x1+-0x653*0x2+-0x1919]-_0x1f996f[0x4*-0x7d9+-0x2fa+-0x35*-0xa6])*(-0xd5*0x2a+0x1786+-0x2db*-0x4+0.5),(_0x3d582b[-0x94d+-0x1e9a+-0x1*-0x27e8]-_0x1f996f[0x1545+0xb*0x1e9+-0x89*0x4f])*(-0x7*0x38e+0x1908+-0x26+0.5),(_0x3d582b[0x13*0x25+0xa*0xcd+-0x15*0x83]-_0x1f996f[-0x3*-0xcab+-0x266f+0x70])*(0xef*-0x13+0x196c+-0x7af+0.5))),_0x150e9e=_0x5c5023['indices']!==void(0x2*0x1037+-0x1*-0xb9c+-0x6*0x757),_0x5b16c6=new ke(this['_device']);_0x5b16c6['vertexBuff'+'er']=_0x5a6de2[_0x5c5023['vertices']],_0x5b16c6['indexBuffe'+'r'][0x1*0x621+-0x216b+-0x1b4a*-0x1]=_0x150e9e?_0x483174:null,_0x5b16c6['primitive'][0xc7*0x2f+-0x1f40+-0x549]['type']=aL[_0x5c5023['type']],_0x5b16c6['primitive'][0x2236+-0x1e33+-0x403]['base']=_0x150e9e?_0x5c5023['base']+_0x2b35fa:_0x5c5023['base'],_0x5b16c6['primitive'][-0x1cf1+-0x33d*0x6+0x305f]['count']=_0x5c5023['count'],_0x5b16c6['primitive'][-0x1721+-0x1b2f*-0x1+-0x40e]['indexed']=_0x150e9e,_0x5b16c6['skin']=_0x5c5023['skin']!==void(0x3c1*0x9+0x203c+-0x4205)?_0x115de6[_0x5c5023['skin']]:null,_0x5b16c6['morph']=_0x5c5023['morph']!==void(0xf33+0x1efa+0x1*-0x2e2d)?_0x2509ee[_0x5c5023['morph']]:null,_0x5b16c6['aabb']=_0x45608e,_0x150e9e&&(_0x18e5e5['set'](_0x5c5023['indices'],_0x2b35fa),_0x2b35fa+=_0x5c5023['indices']['length']),_0x3062b0['push'](_0x5b16c6);}return _0x483174!==null&&_0x483174['unlock'](),_0x3062b0;}['_parseMesh'+'Instances'](_0x518eea,_0x5a6d06,_0x411341,_0x39b00a,_0x332302,_0x2acc70,_0x37bb4e){const _0x3179c3=_0x518eea['model'],_0x5452d8=[];let _0x48c929;for(_0x48c929=0xe4b*-0x1+-0x20*-0xd6+-0xc75;_0x48c929<_0x3179c3['meshInstan'+'ces']['length'];_0x48c929++){const _0x2434af=_0x3179c3['meshInstan'+'ces'][_0x48c929],_0x30bcaa=_0x5a6d06[_0x2434af['node']],_0x55f3cb=_0x411341[_0x2434af['mesh']],_0x4bb21d=new Be(_0x55f3cb,this['_defaultMa'+'terial'],_0x30bcaa);if(_0x55f3cb['skin']){const _0x25b7c4=_0x39b00a['indexOf'](_0x55f3cb['skin']);if(_0x25b7c4===-(-0x3*-0x6ed+-0xbaa+-0x91c))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x4bb21d['skinInstan'+'ce']=_0x332302[_0x25b7c4];}if(_0x55f3cb['morph']){const _0x4ca071=_0x2acc70['indexOf'](_0x55f3cb['morph']);if(_0x4ca071===-(0x1bfb+0x2181+-0x3d7b))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x4bb21d['morphInsta'+'nce']=_0x37bb4e[_0x4ca071];}_0x5452d8['push'](_0x4bb21d);}return _0x5452d8;}}class hL extends Ge{constructor(_0x135794){super(_0x135794,'model'),this['_parsers']=[],this['device']=_0x135794['graphicsDe'+'vice'],this['assets']=_0x135794['assets'],this['defaultMat'+'erial']=cl(this['device']),this['addParser'](new lL(this),(_0x44c8bb,_0x5270b2)=>me['getExtensi'+'on'](_0x44c8bb)==='.json'),this['addParser'](new nL(this),(_0x13fff4,_0x1d2e48)=>me['getExtensi'+'on'](_0x13fff4)==='.glb');}['load'](_0x5ad5e1,_0x10711a,_0x1762ef){typeof _0x5ad5e1=='string'&&(_0x5ad5e1={'load':_0x5ad5e1,'original':_0x5ad5e1});const _0x24ccd9={'retry':this['maxRetries']>-0xaf7*0x1+-0x20f+0x2*0x683,'maxRetries':this['maxRetries']};(_0x5ad5e1['load']['startsWith']('blob:')||_0x5ad5e1['load']['startsWith']('data:'))&&(me['getExtensi'+'on'](_0x5ad5e1['original'])['toLowerCas'+'e']()==='.glb'?_0x24ccd9['responseTy'+'pe']=ps['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x24ccd9['responseTy'+'pe']=ps['ResponseTy'+'pe']['JSON']),Ye['get'](_0x5ad5e1['load'],_0x24ccd9,(_0x2bb094,_0x38b101)=>{if(_0x10711a){if(_0x2bb094)_0x10711a('Error\x20load'+'ing\x20model:'+'\x20'+_0x5ad5e1['original']+'\x20['+_0x2bb094+']');else{for(let _0x36e70a=-0x767*-0x3+0x1310+-0x2945*0x1;_0x36e70a<this['_parsers']['length'];_0x36e70a++){const _0x2460ca=this['_parsers'][_0x36e70a];if(_0x2460ca['decider'](_0x5ad5e1['original'],_0x38b101)){_0x2460ca['parser']['parse'](_0x38b101,(_0x1bbc54,_0x8800bb)=>{_0x1bbc54?_0x10711a(_0x1bbc54):_0x10711a(null,_0x8800bb);},_0x1762ef);return;}}_0x10711a('No\x20parsers'+'\x20found');}}});}['open'](_0x1233a9,_0x444d59){return _0x444d59;}['patch'](_0x2d615a,_0x112ea0){if(!_0x2d615a['resource'])return;const _0x1d6691=_0x2d615a['data'],_0xaaad2c=this;_0x2d615a['resource']['meshInstan'+'ces']['forEach']((_0x20e4d3,_0x14e74a)=>{if(_0x1d6691['mapping']){const _0xf8c8fd=function(_0x1366cd){_0x1366cd['resource']?_0x20e4d3['material']=_0x1366cd['resource']:(_0x1366cd['once']('load',_0xf8c8fd),_0x112ea0['load'](_0x1366cd)),_0x1366cd['once']('remove',_0x1fd42d=>{_0x20e4d3['material']===_0x1fd42d['resource']&&(_0x20e4d3['material']=_0xaaad2c['defaultMat'+'erial']);});};if(!_0x1d6691['mapping'][_0x14e74a]){_0x20e4d3['material']=_0xaaad2c['defaultMat'+'erial'];return;}const _0x225115=_0x1d6691['mapping'][_0x14e74a]['material'],_0x260206=_0x1d6691['mapping'][_0x14e74a]['path'];let _0x2aa4b0;if(_0x225115!==void(0x4*0x4c7+0x64*0x13+-0x1a88))_0x225115?(_0x2aa4b0=_0x112ea0['get'](_0x225115),_0x2aa4b0?_0xf8c8fd(_0x2aa4b0):_0x112ea0['once']('add:'+_0x225115,_0xf8c8fd)):_0x20e4d3['material']=_0xaaad2c['defaultMat'+'erial'];else{if(_0x260206){const _0x27eedf=_0x2d615a['getAbsolut'+'eUrl'](_0x1d6691['mapping'][_0x14e74a]['path']);_0x2aa4b0=_0x112ea0['getByUrl'](_0x27eedf),_0x2aa4b0?_0xf8c8fd(_0x2aa4b0):_0x112ea0['once']('add:url:'+_0x27eedf,_0xf8c8fd);}}}});}['addParser'](_0x44350c,_0xefdaea){this['_parsers']['push']({'parser':_0x44350c,'decider':_0xefdaea});}}class cL extends Ge{constructor(_0x41daac){super(_0x41daac,'scene');}['load'](_0x4ea61e,_0x20e8fe){Fx['load'](_0x4ea61e,this['maxRetries'],_0x20e8fe);}['open'](_0x31d23d,_0x53daaa){this['_app']['systems']['script']['preloading']=!(-0x268+-0x41*-0x2b+-0x883);const _0x4e4a35=new jp(this['_app'],!(-0xae0+0x4df*0x2+0x123))['parse'](_0x53daaa),_0x14bbea=this['_app']['scene'];return _0x14bbea['root']=_0x4e4a35,this['_app']['applyScene'+'Settings'](_0x53daaa['settings']),this['_app']['systems']['script']['preloading']=!(-0x9a2+-0x24cb+0x2e6e),_0x14bbea;}}const pc=class pc{static['push'](_0x51e316){pc['_types']['push'](_0x51e316);}};c(pc,'_types',[]);let jr=pc;const dL=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),uL={};Xo['reservedNa'+'mes']['forEach']((_0x57d3c9,_0x40725c,_0x53daae)=>{uL[_0x57d3c9]=0x190a+0x2563+-0x44*0xeb;});function fL(_0xa50cd,_0x4b8b3a,_0x24afa5){if(typeof _0xa50cd!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0xa50cd+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0xa50cd['prototype']instanceof Zt))throw new Error('script\x20cla'+'ss:\x20\x27'+ic['__getScrip'+'tName'](_0xa50cd)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x4b8b3a=_0x4b8b3a||_0xa50cd['__name']||ic['__getScrip'+'tName'](_0xa50cd),dL['has'](_0x4b8b3a))throw new Error('script\x20nam'+'e:\x20\x27'+_0x4b8b3a+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0xa50cd['__name']=_0x4b8b3a,Zh['getApplica'+'tion']()['scripts']['add'](_0xa50cd),jr['push'](_0xa50cd);}const pL=_0x55911c=>_0x55911c[0x1d18+-0x2089+0x371*0x1]['toLowerCas'+'e']()+_0x55911c['substring'](0x14b7+0x1ec1+-0x3377);class mL extends Ge{constructor(_0x3d555b){super(_0x3d555b,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x5abc1c in this['_cache']){const _0x1e8d6f=this['_cache'][_0x5abc1c],_0x2c697c=_0x1e8d6f['parentNode'];_0x2c697c&&_0x2c697c['removeChil'+'d'](_0x1e8d6f);}this['_cache']={};}['load'](_0x82d58f,_0x6230c4){typeof _0x82d58f=='string'&&(_0x82d58f={'load':_0x82d58f,'original':_0x82d58f});const _0x2052e9=this;this['_app'];const _0x354cc9=(_0x82d58f['load'],(_0x5a5a35,_0x2ca848,_0x4b7d7c)=>{if(_0x5a5a35)_0x6230c4(_0x5a5a35);else{const _0x4832b5={};for(let _0x3748f1=-0x3*-0xc25+0x1faa+-0x16b3*0x3;_0x3748f1<jr['_types']['length'];_0x3748f1++)_0x4832b5[jr['_types'][_0x3748f1]['name']]=jr['_types'][_0x3748f1];jr['_types']['length']=-0x2ef*-0x9+0x19b0*0x1+-0x69*0x7f,_0x6230c4(null,_0x4832b5,_0x4b7d7c);const _0x13c0d8=_0x2ca848['split']('&hash=')[-0x1*0x1c27+0x4*-0x919+-0xd*-0x4f7];delete _0x2052e9['_loader']['_cache'][_a['makeKey'](_0x13c0d8,'script')];}}),[_0xa7fbc2]=_0x82d58f['load']['split']('?');_0xa7fbc2['endsWith']('.mjs')?this['_loadModul'+'e'](_0xa7fbc2,_0x354cc9):this['_loadScrip'+'t'](_0x82d58f['load'],_0x354cc9);}['open'](_0x1bf2c0,_0x180440){return _0x180440;}['patch'](_0x23dfa3,_0x19ed4e){}['_loadScrip'+'t'](_0x1d5a50,_0x558a19){const _0x30d729=document['head'],_0x37433e=document['createElem'+'ent']('script');this['_cache'][_0x1d5a50]=_0x37433e,_0x37433e['async']=!(0xeef+0x4b8+-0x1*0x13a6),_0x37433e['addEventLi'+'stener']('error',_0x6f9f2=>{_0x558a19('Script:\x20'+_0x6f9f2['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x61f+-0x282*0xe+-0xe7f*-0x2));let _0xd683a3=!(0x2f1+0x5fd*-0x3+0xf07);_0x37433e['onload']=_0x37433e['onreadysta'+'techange']=function(){!_0xd683a3&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0xd683a3=!(0x1be9+0xd7d+-0x2966),_0x558a19(null,_0x1d5a50,_0x37433e));},_0x37433e['src']=_0x1d5a50,_0x30d729['appendChil'+'d'](_0x37433e);}['_loadModul'+'e'](_0x4704dc,_0x1d7c6b){const _0x38ec89=be['browser']?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x3f4545=new URL(_0x4704dc,_0x38ec89);import(_0x3f4545['toString']())['then'](_0x5f675e=>{var _0x24cdde,_0x114a1e;const _0x7370ae=_0x3f4545['pathname']['split']('/')['pop'](),_0x111a70=(_0x114a1e=(_0x24cdde=this['_app']['assets']['find'](_0x7370ae,'script'))==null?void(-0x4*0x680+-0x19d6+0x33d6):_0x24cdde['data'])==null?void(0x1c9d+0x13*0x19b+0x142*-0x2f):_0x114a1e['scripts'];for(const _0x43b49c in _0x5f675e){const _0x1fdb82=_0x5f675e[_0x43b49c];if(_0x1fdb82['prototype']instanceof Zt){const _0x38814a=pL(_0x1fdb82['name']);fL(_0x1fdb82,_0x38814a),_0x111a70&&this['_app']['scripts']['addSchema'](_0x38814a,_0x111a70[_0x38814a]);}}_0x1d7c6b(null,_0x4704dc,null);})['catch'](_0x6cd24f=>{_0x1d7c6b(_0x6cd24f);});}}class _L extends Ge{constructor(_0x527976){super(_0x527976,'shader'),c(this,'decoder',null);}['load'](_0x38ea84,_0x4a872b){typeof _0x38ea84=='string'&&(_0x38ea84={'load':_0x38ea84,'original':_0x38ea84}),Ye['get'](_0x38ea84['load'],{'retry':this['maxRetries']>-0x39d*0x4+-0x1fbc+0x2*0x1718,'maxRetries':this['maxRetries']},(_0x5b83fd,_0x4aed92)=>{_0x5b83fd?_0x4a872b('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x38ea84['original']+'\x20['+_0x5b83fd+']'):_0x4a872b(null,_0x4aed92);});}['openBinary'](_0x2c7c1e){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x2c7c1e);}}function ru(_0x220af4){const _0x119f1e=this;_0x119f1e['resource']&&(_0x119f1e['resource']['atlas']=_0x220af4['resource']);}function nu(_0x1090f6){this['registry']['load'](_0x1090f6);}class gL extends Ge{constructor(_0x25b8a9){super(_0x25b8a9,'sprite'),this['_assets']=_0x25b8a9['assets'],this['_device']=_0x25b8a9['graphicsDe'+'vice'];}['load'](_0x18bc9c,_0x332798){typeof _0x18bc9c=='string'&&(_0x18bc9c={'load':_0x18bc9c,'original':_0x18bc9c}),me['getExtensi'+'on'](_0x18bc9c['original'])==='.json'&&Ye['get'](_0x18bc9c['load'],{'retry':this['maxRetries']>-0x1eb1+0x2*-0x727+-0x2cff*-0x1,'maxRetries':this['maxRetries']},(_0x2217aa,_0x251020)=>{_0x2217aa?_0x332798(_0x2217aa):_0x332798(null,_0x251020);});}['open'](_0x2d930b,_0x5f32e1){const _0x57f531=new A1(this['_device']);return _0x2d930b&&(_0x57f531['__data']=_0x5f32e1),_0x57f531;}['patch'](_0x48f8a4,_0x4703e3){const _0x436958=_0x48f8a4['resource'];if(_0x436958['__data']&&(_0x48f8a4['data']['pixelsPerU'+'nit']=_0x436958['__data']['pixelsPerU'+'nit'],_0x48f8a4['data']['renderMode']=_0x436958['__data']['renderMode'],_0x48f8a4['data']['frameKeys']=_0x436958['__data']['frameKeys'],_0x436958['__data']['textureAtl'+'asAsset'])){const _0xb798d3=_0x4703e3['getByUrl'](_0x436958['__data']['textureAtl'+'asAsset']);_0xb798d3?_0x48f8a4['data']['textureAtl'+'asAsset']=_0xb798d3['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x436958['__data']['textureAtl'+'asAsset']);}_0x436958['startUpdat'+'e'](),_0x436958['renderMode']=_0x48f8a4['data']['renderMode'],_0x436958['pixelsPerU'+'nit']=_0x48f8a4['data']['pixelsPerU'+'nit'],_0x436958['frameKeys']=_0x48f8a4['data']['frameKeys'],this['_updateAtl'+'as'](_0x48f8a4),_0x436958['endUpdate'](),_0x48f8a4['off']('change',this['_onAssetCh'+'ange'],this),_0x48f8a4['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x232c37){const _0x5ccc06=_0x232c37['resource'];if(!_0x232c37['data']['textureAtl'+'asAsset']){_0x5ccc06['atlas']=null;return;}this['_assets']['off']('load:'+_0x232c37['data']['textureAtl'+'asAsset'],ru,_0x232c37),this['_assets']['on']('load:'+_0x232c37['data']['textureAtl'+'asAsset'],ru,_0x232c37);const _0x4332c0=this['_assets']['get'](_0x232c37['data']['textureAtl'+'asAsset']);_0x4332c0&&_0x4332c0['resource']?_0x5ccc06['atlas']=_0x4332c0['resource']:_0x4332c0?this['_assets']['load'](_0x4332c0):(this['_assets']['off']('add:'+_0x232c37['data']['textureAtl'+'asAsset'],nu,_0x232c37),this['_assets']['on']('add:'+_0x232c37['data']['textureAtl'+'asAsset'],nu,_0x232c37));}['_onAssetCh'+'ange'](_0x287f7f,_0x4f77d1,_0x59f1bb,_0x5c4e7a){_0x4f77d1==='data'&&_0x59f1bb&&_0x59f1bb['textureAtl'+'asAsset']&&_0x5c4e7a&&_0x59f1bb['textureAtl'+'asAsset']!==_0x5c4e7a['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x5c4e7a['textureAtl'+'asAsset'],ru,_0x287f7f),this['_assets']['off']('add:'+_0x5c4e7a['textureAtl'+'asAsset'],nu,_0x287f7f));}}class Hg{constructor(_0x298d98,_0x1b6cdb){c(this,'_app'),c(this,'_data'),c(this,'_templateR'+'oot',null),(this['_app']=_0x298d98,this['_data']=_0x1b6cdb);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x529bd5=new jp(this['_app'],!(-0x5e9+-0x9*0x75+-0xa06*-0x1));this['_templateR'+'oot']=_0x529bd5['parse'](this['_data']);}}class yL extends Ge{constructor(_0x534a94){super(_0x534a94,'template'),c(this,'decoder',null);}['load'](_0x1c9cd9,_0xa4f48e){typeof _0x1c9cd9=='string'&&(_0x1c9cd9={'load':_0x1c9cd9,'original':_0x1c9cd9});const _0x12d37f={'retry':this['maxRetries']>-0x2*-0x134f+0x1f81*0x1+-0x461f,'maxRetries':this['maxRetries']};Ye['get'](_0x1c9cd9['load'],_0x12d37f,(_0x221898,_0x570eb6)=>{_0x221898?_0xa4f48e('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x1c9cd9['original']):_0xa4f48e(_0x221898,_0x570eb6);});}['open'](_0x25b6de,_0x14dff3){return new Hg(this['_app'],_0x14dff3);}['openBinary'](_0x226596){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new Hg(this['_app'],JSON['parse'](this['decoder']['decode'](_0x226596)));}}class xL extends Ge{constructor(_0x4b6513){super(_0x4b6513,'text'),c(this,'decoder',null);}['load'](_0x35e068,_0x1dc8c3){typeof _0x35e068=='string'&&(_0x35e068={'load':_0x35e068,'original':_0x35e068}),Ye['get'](_0x35e068['load'],{'retry':this['maxRetries']>-0x2*0xa4c+-0x7b*-0xf+-0x95*-0x17,'maxRetries':this['maxRetries']},(_0x1e69c1,_0x3af78b)=>{_0x1e69c1?_0x1dc8c3('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x35e068['original']+'\x20['+_0x1e69c1+']'):_0x1dc8c3(null,_0x3af78b);});}['openBinary'](_0x5f455d){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5f455d);}}const ah={'repeat':nt,'clamp':oe,'mirror':zf},oh={'nearest':fe,'linear':at,'nearest_mip_nearest':yc,'linear_mip_nearest':Sc,'nearest_mip_linear':xc,'linear_mip_linear':an},SL=/^data\.frames\.(\d+)$/;class vL extends Ge{constructor(_0x116d22){super(_0x116d22,'textureatl'+'as'),this['_loader']=_0x116d22['loader'];}['load'](_0x41a47c,_0xa94a40){typeof _0x41a47c=='string'&&(_0x41a47c={'load':_0x41a47c,'original':_0x41a47c});const _0x4a5a12=this,_0x21dfb3=this['_loader']['getHandler']('texture');me['getExtensi'+'on'](_0x41a47c['original'])==='.json'?Ye['get'](_0x41a47c['load'],{'retry':this['maxRetries']>-0x330+-0x13*0x16e+0x5*0x612,'maxRetries':this['maxRetries']},(_0x4a94ba,_0x3af585)=>{if(_0x4a94ba)_0xa94a40(_0x4a94ba);else{const _0x38f732=_0x41a47c['original']['replace']('.json','.png');_0x4a5a12['_loader']['load'](_0x38f732,'texture',(_0x7485c2,_0x5ff1ef)=>{_0x7485c2?_0xa94a40(_0x7485c2):_0xa94a40(null,{'data':_0x3af585,'texture':_0x5ff1ef});});}}):_0x21dfb3['load'](_0x41a47c,_0xa94a40);}['open'](_0x2f0be2,_0x58f743,_0x257429){const _0x5920c1=new E1();if(_0x58f743['texture']&&_0x58f743['data'])_0x5920c1['texture']=_0x58f743['texture'],_0x5920c1['__data']=_0x58f743['data'];else{const _0x1c6d18=this['_loader']['getHandler']('texture')['open'](_0x2f0be2,_0x58f743,_0x257429);if(!_0x1c6d18)return null;_0x5920c1['texture']=_0x1c6d18;}return _0x5920c1;}['patch'](_0x266193,_0x284976){if(!_0x266193['resource'])return;_0x266193['resource']['__data']&&(_0x266193['resource']['__data']['minfilter']!==void(0x0+-0x208f+-0x208f*-0x1)&&(_0x266193['data']['minfilter']=_0x266193['resource']['__data']['minfilter']),_0x266193['resource']['__data']['magfilter']!==void(0x12e+0x7e*-0x4c+0x243a)&&(_0x266193['data']['magfilter']=_0x266193['resource']['__data']['magfilter']),_0x266193['resource']['__data']['addressu']!==void(0x2f+-0x10ff*-0x2+0x2a1*-0xd)&&(_0x266193['data']['addressu']=_0x266193['resource']['__data']['addressu']),_0x266193['resource']['__data']['addressv']!==void(-0x1cb6+-0xc08+0x28be)&&(_0x266193['data']['addressv']=_0x266193['resource']['__data']['addressv']),_0x266193['resource']['__data']['mipmaps']!==void(-0x32e+-0x10a6+0x13d4)&&(_0x266193['data']['mipmaps']=_0x266193['resource']['__data']['mipmaps']),_0x266193['resource']['__data']['anisotropy']!==void(0xaf+-0x2262+-0x1*-0x21b3)&&(_0x266193['data']['anisotropy']=_0x266193['resource']['__data']['anisotropy']),_0x266193['resource']['__data']['rgbm']!==void(-0x1ce9*-0x1+-0x161f*0x1+-0x6ca)&&(_0x266193['data']['rgbm']=!!_0x266193['resource']['__data']['rgbm']),_0x266193['data']['frames']=_0x266193['resource']['__data']['frames'],delete _0x266193['resource']['__data']);const _0x554ddb=_0x266193['resource']['texture'];if(_0x554ddb&&(_0x554ddb['name']=_0x266193['name'],_0x266193['data']['hasOwnProp'+'erty']('minfilter')&&_0x554ddb['minFilter']!==oh[_0x266193['data']['minfilter']]&&(_0x554ddb['minFilter']=oh[_0x266193['data']['minfilter']]),_0x266193['data']['hasOwnProp'+'erty']('magfilter')&&_0x554ddb['magFilter']!==oh[_0x266193['data']['magfilter']]&&(_0x554ddb['magFilter']=oh[_0x266193['data']['magfilter']]),_0x266193['data']['hasOwnProp'+'erty']('addressu')&&_0x554ddb['addressU']!==ah[_0x266193['data']['addressu']]&&(_0x554ddb['addressU']=ah[_0x266193['data']['addressu']]),_0x266193['data']['hasOwnProp'+'erty']('addressv')&&_0x554ddb['addressV']!==ah[_0x266193['data']['addressv']]&&(_0x554ddb['addressV']=ah[_0x266193['data']['addressv']]),_0x266193['data']['hasOwnProp'+'erty']('mipmaps')&&_0x554ddb['mipmaps']!==_0x266193['data']['mipmaps']&&(_0x554ddb['mipmaps']=_0x266193['data']['mipmaps']),_0x266193['data']['hasOwnProp'+'erty']('anisotropy')&&_0x554ddb['anisotropy']!==_0x266193['data']['anisotropy']&&(_0x554ddb['anisotropy']=_0x266193['data']['anisotropy']),_0x266193['data']['hasOwnProp'+'erty']('rgbm'))){const _0x127b8e=_0x266193['data']['rgbm']?ln:Bi;_0x554ddb['type']!==_0x127b8e&&(_0x554ddb['type']=_0x127b8e);}_0x266193['resource']['texture']=_0x554ddb;const _0x3d526b={};for(const _0x45ec18 in _0x266193['data']['frames']){const _0x1acd97=_0x266193['data']['frames'][_0x45ec18];_0x3d526b[_0x45ec18]={'rect':new ee(_0x1acd97['rect']),'pivot':new W(_0x1acd97['pivot']),'border':new ee(_0x1acd97['border'])};}_0x266193['resource']['frames']=_0x3d526b,_0x266193['off']('change',this['_onAssetCh'+'ange'],this),_0x266193['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x2ea921,_0x507507,_0x15b7de){let _0x32a252;if(_0x507507==='data'||_0x507507==='data.frame'+'s'){const _0x4db55d={};for(const _0xea371f in _0x15b7de['frames'])_0x32a252=_0x15b7de['frames'][_0xea371f],_0x4db55d[_0xea371f]={'rect':new ee(_0x32a252['rect']),'pivot':new W(_0x32a252['pivot']),'border':new ee(_0x32a252['border'])};_0x2ea921['resource']['frames']=_0x4db55d;}else{const _0x438a78=_0x507507['match'](SL);if(_0x438a78){const _0xd60807=_0x438a78[0x9*0x418+0x2*-0x200+-0x7*0x4b1];_0x15b7de?(_0x2ea921['resource']['frames'][_0xd60807]?(_0x32a252=_0x2ea921['resource']['frames'][_0xd60807],_0x32a252['rect']['set'](_0x15b7de['rect'][0x35*-0xbb+-0x22c6+0x3*0x187f],_0x15b7de['rect'][0x1*-0x4eb+-0x1b7b+-0x18b*-0x15],_0x15b7de['rect'][0x1f5a+0x260d+-0x4565],_0x15b7de['rect'][0x17c2+-0x1225+0x6*-0xef]),_0x32a252['pivot']['set'](_0x15b7de['pivot'][-0x1e55+0x1c64+0x1f1],_0x15b7de['pivot'][-0x4af+-0xcf5+0x11a5]),_0x32a252['border']['set'](_0x15b7de['border'][0x7d7+-0x752+-0x85],_0x15b7de['border'][-0x1615+0x1a1a+-0x404],_0x15b7de['border'][0x2410+-0x26aa+0x29c],_0x15b7de['border'][0x33a+0x1*-0x1e9c+0x1b65*0x1])):_0x2ea921['resource']['frames'][_0xd60807]={'rect':new ee(_0x15b7de['rect']),'pivot':new W(_0x15b7de['pivot']),'border':new ee(_0x15b7de['border'])},_0x2ea921['resource']['fire']('set:frame',_0xd60807,_0x2ea921['resource']['frames'][_0xd60807])):_0x2ea921['resource']['frames'][_0xd60807]&&(delete _0x2ea921['resource']['frames'][_0xd60807],_0x2ea921['resource']['fire']('remove:fra'+'me',_0xd60807));}}}}function bL(){const _0x1dfae1={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x2faf1b={'astc':_0x1dfae1['cTFASTC_4x'+'4'],'dxt':_0x1dfae1['cTFBC1'],'etc1':_0x1dfae1['cTFETC1'],'etc2':_0x1dfae1['cTFETC1'],'pvr':_0x1dfae1['cTFPVRTC1_'+'4_RGB'],'atc':_0x1dfae1['cTFATC_RGB'],'none':_0x1dfae1['cTFRGB565']},_0x59b807={'astc':_0x1dfae1['cTFASTC_4x'+'4'],'dxt':_0x1dfae1['cTFBC3'],'etc1':_0x1dfae1['cTFRGBA444'+'4'],'etc2':_0x1dfae1['cTFETC2'],'pvr':_0x1dfae1['cTFPVRTC1_'+'4_RGBA'],'atc':_0x1dfae1['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x1dfae1['cTFRGBA444'+'4']},_0x24366a={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x23b820=(_0x3eb339,_0x30277c)=>{switch(_0x3eb339){case _0x1dfae1['cTFETC1']:return _0x30277c['formats']['etc2']?_0x24366a['ETC2_RGB']:_0x24366a['ETC1'];case _0x1dfae1['cTFETC2']:return _0x24366a['ETC2_RGBA'];case _0x1dfae1['cTFBC1']:return _0x24366a['DXT1'];case _0x1dfae1['cTFBC3']:return _0x24366a['DXT5'];case _0x1dfae1['cTFPVRTC1_'+'4_RGB']:return _0x24366a['PVRTC_4BPP'+'_RGB_1'];case _0x1dfae1['cTFPVRTC1_'+'4_RGBA']:return _0x24366a['PVRTC_4BPP'+'_RGBA_1'];case _0x1dfae1['cTFASTC_4x'+'4']:return _0x24366a['ASTC_4x4'];case _0x1dfae1['cTFATC_RGB']:return _0x24366a['ATC_RGB'];case _0x1dfae1['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x24366a['ATC_RGBA'];case _0x1dfae1['cTFRGBA32']:return _0x24366a['R8_G8_B8_A'+'8'];case _0x1dfae1['cTFRGB565']:return _0x24366a['R5_G6_B5'];case _0x1dfae1['cTFRGBA444'+'4']:return _0x24366a['R4_G4_B4_A'+'4'];}},_0x1d2533=_0x33527b=>{const _0x3374e2=function(_0x458e54,_0x126a49){const _0x87815f=_0x458e54*(0xd9a+-0x2*0x135b+0x191c+0.00784313725490196)-(0x61*-0x63+-0x1*-0x6e6+0x1e9e),_0x4c46c0=_0x126a49*((0x92*-0x11+0x30b*-0x8+0x220c)/(0x32e+0x955*-0x4+0x2325))-(-0x434*0x2+0x1*-0xbf2+0x1*0x145b),_0x53c296=Math['sqrt'](-0xbbc+0x53*-0x29+0x1908-Math['min'](-0x1d3f*0x1+-0x382+0x257*0xe,_0x87815f*_0x87815f+_0x4c46c0*_0x4c46c0));return Math['max'](-0x9d9+0x198b+-0x11f*0xe,Math['min'](-0x2aa+-0x1e6*0x2+0x775,Math['floor']((_0x53c296+(0x9*-0x131+-0x1d35*-0x1+-0x127b))*(-0x7*0x196+-0xd*0xce+0x1590+0.5)*(-0x228f+0x15*0x17b+-0x7f*-0x9))));};for(let _0x27ddec=-0xc86+-0xfba+0x40*0x71;_0x27ddec<_0x33527b['length'];_0x27ddec+=-0x431*0x2+0x7*0x337+-0x9d*0x17){const _0x17a3ce=_0x33527b[_0x27ddec+(0x8b+0x26ef+-0x2777*0x1)],_0x101f66=_0x33527b[_0x27ddec+(0x16fe+0x841*0x3+-0x2fc0)];_0x33527b[_0x27ddec+(0x7b6+-0xd5b+0x5a5*0x1)]=_0x17a3ce,_0x33527b[_0x27ddec+(0x31*0x45+0x1758+-0x74f*0x5)]=_0x3374e2(_0x17a3ce,_0x101f66),_0x33527b[_0x27ddec+(0x7cf+-0x11*-0x211+-0x2aed)]=-0x8*0x366+-0xe1b+0x1525*0x2;}return _0x33527b;},_0x38b986=_0x532d1f=>{const _0x38cd4f=new Uint16Array(_0x532d1f['length']/(-0x2*-0xcf7+-0xbb4+0xd6*-0x11));for(let _0x19384e=0x2*0x1246+0x1859+-0x3ce5;_0x19384e<_0x532d1f['length'];_0x19384e+=0x6*0x1b3+-0x8*0x38f+0x124a){const _0x188e41=_0x532d1f[_0x19384e+(0x1*-0x17b+0x236e+-0xb51*0x3)],_0x42de27=_0x532d1f[_0x19384e+(-0x16db+0x1*-0x6f1+-0x1dcd*-0x1)],_0x27f2b0=_0x532d1f[_0x19384e+(-0xde0+-0x1431+0x2213*0x1)];_0x38cd4f[_0x19384e/(0x2558+-0x5f*0x7+-0x22bb)]=(_0x188e41&-0xa44+0xdc3+0x1*-0x287)<<0x2381*-0x1+-0x19a4+0x1*0x3d2d|(_0x42de27&0x1*-0x3ad+-0xbaa+0x1053)<<-0x74b+0x13*-0x5b+0xe0f|_0x27f2b0>>-0x263d+0x7*0x5d+0x23b5;}return _0x38cd4f;},_0x1b8b98=(_0x571724,_0x1d55c5)=>(_0x571724&_0x571724-(0x1278+0x1695+-0x290c))===-0x1190+-0x79b+0x11*0x17b&&(_0x1d55c5&_0x1d55c5-(0x248a+-0x75a+-0x1f*0xf1))===-0x1d48+0x13da+0x4b7*0x2,_0x2a3825=()=>typeof performance<'u'?performance['now']():0xbcf*0x3+-0x3*-0xf1+-0x2640;let _0x2f99f6,_0x3d9c48,_0x305db4;const _0x1e0fc7=(_0x1a1876,_0x261732,_0x17687d)=>{if(_0x17687d){if(_0x1a1876['formats']['astc'])return'astc';}else{if(_0x261732){if(_0x1a1876['formats']['etc2'])return'etc2';}else{if(_0x1a1876['formats']['etc2'])return'etc2';if(_0x1a1876['formats']['etc1'])return'etc1';}}return(_0x3524bf=>{for(let _0x3a9b75=-0xef1+0x165f+-0x76e;_0x3a9b75<_0x3524bf['length'];++_0x3a9b75){const _0x1c976a=_0x3524bf[_0x3a9b75];if(_0x1a1876['formats'][_0x1c976a])return _0x1c976a;}return'none';})(_0x261732?_0x305db4:_0x3d9c48);},_0x57c3d2=(_0x37abf9,_0x417c97,_0x281446)=>{switch(_0x281446){case _0x1dfae1['cTFETC1']:case _0x1dfae1['cTFETC2']:return!(0xf5*0x1+-0xdb*-0xb+0xa5e*-0x1);case _0x1dfae1['cTFBC1']:case _0x1dfae1['cTFBC3']:return(_0x37abf9&0x1f47+-0x1*0x8b9+0x168b*-0x1)===0x7*0x517+-0x125*0x2+-0x2157&&(_0x417c97&-0x1*-0xc10+-0x1ec9+0x12bc)===0x522+0x2499+-0x29bb;case _0x1dfae1['cTFPVRTC1_'+'4_RGB']:case _0x1dfae1['cTFPVRTC1_'+'4_RGBA']:return _0x1b8b98(_0x37abf9,_0x417c97);case _0x1dfae1['cTFASTC_4x'+'4']:return!(-0x7*-0x531+-0x523+-0x2*0xf9a);case _0x1dfae1['cTFATC_RGB']:case _0x1dfae1['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0x2d7*0x7+0x195a+-0x579);}return!(-0x18*-0x16a+0xc94+-0x2e83);},_0x5d538c=(_0x57bafc,_0x44ba1a,_0x4ff303)=>{if(!_0x2f99f6['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x3fae6a=_0x2a3825(),_0x24e801=new _0x2f99f6['KTX2File'](new Uint8Array(_0x44ba1a)),_0x270138=_0x24e801['getWidth'](),_0x4b4f31=_0x24e801['getHeight'](),_0x9ed459=_0x24e801['getLevels'](),_0x395359=!!_0x24e801['getHasAlph'+'a'](),_0xc4862a=_0x24e801['isUASTC']&&_0x24e801['isUASTC']();if(!_0x270138||!_0x4b4f31||!_0x9ed459)throw _0x24e801['close'](),_0x24e801['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x57bafc+'\x20width='+_0x270138+'\x20height='+_0x4b4f31+'\x20levels='+_0x9ed459);const _0x561119=_0x1e0fc7(_0x4ff303['deviceDeta'+'ils'],_0x395359,_0xc4862a),_0x30956b=!!_0x4ff303['isGGGR']&&_0x561119==='pvr';let _0x33ad63;if(_0x30956b?_0x33ad63=_0x1dfae1['cTFRGBA32']:(_0x33ad63=_0x395359?_0x59b807[_0x561119]:_0x2faf1b[_0x561119],_0x57c3d2(_0x270138,_0x4b4f31,_0x33ad63)||(_0x33ad63=_0x395359?_0x1dfae1['cTFRGBA32']:_0x1dfae1['cTFRGB565'])),!_0x24e801['startTrans'+'coding']())throw _0x24e801['close'](),_0x24e801['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x57bafc);let _0x20705d;const _0x4a3b0a=[];for(let _0x3c94c6=0x2*-0x4e9+-0x71*-0x2f+-0xaed;_0x3c94c6<_0x9ed459;++_0x3c94c6){const _0xc549f6=_0x24e801['getImageTr'+'anscodedSi'+'zeInBytes'](_0x3c94c6,0x8df+0xe68+-0x1747*0x1,0x1*-0x20f8+0x23*0x75+0x18b*0xb,_0x33ad63),_0x2e7f82=new Uint8Array(_0xc549f6);if(!_0x24e801['transcodeI'+'mage'](_0x2e7f82,_0x3c94c6,0x1ed*0x1+0x2*0x65d+-0xea7,-0x1*-0x709+-0x1fae+0x18a5*0x1,_0x33ad63,-0x241e+0x173b+0xce3,-(0x3*0x971+-0x8ad*-0x1+-0x7b*0x4d),-(-0x4bb+-0x566*-0x4+0x2*-0x86e)))throw _0x24e801['close'](),_0x24e801['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x57bafc);const _0x4316ff=_0x33ad63===_0x1dfae1['cTFRGB565']||_0x33ad63===_0x1dfae1['cTFRGBA444'+'4'];_0x4a3b0a['push'](_0x4316ff?new Uint16Array(_0x2e7f82['buffer']):_0x2e7f82);}if(_0x24e801['close'](),_0x24e801['delete'](),_0x30956b){for(_0x33ad63=_0x1dfae1['cTFRGB565'],_0x20705d=0x5*0x422+0x241*0xa+-0x2b34;_0x20705d<_0x4a3b0a['length'];++_0x20705d)_0x4a3b0a[_0x20705d]=_0x38b986(_0x1d2533(_0x4a3b0a[_0x20705d]));}return{'format':_0x23b820(_0x33ad63,_0x4ff303['deviceDeta'+'ils']),'width':_0x270138,'height':_0x4b4f31,'levels':_0x4a3b0a,'cubemap':!(0x68f*-0x3+-0x5*0x733+0x37ad*0x1),'transcodeTime':_0x2a3825()-_0x3fae6a,'url':_0x57bafc,'unswizzledGGGR':_0x30956b};},_0x216e7f=(_0x285305,_0x1aff06,_0x662e3a)=>{const _0x595e2c=_0x2a3825(),_0x3d9724=new _0x2f99f6['BasisFile'](new Uint8Array(_0x1aff06)),_0x105844=_0x3d9724['getImageWi'+'dth'](-0x782+0x26f+-0x513*-0x1,-0x61*0x52+0x203d+-0x12b),_0x2b4d9f=_0x3d9724['getImageHe'+'ight'](0x1ae0+0x830+-0x2310,-0x53*0x26+-0x1a2d*0x1+-0x87*-0x49),_0x1b1217=_0x3d9724['getNumImag'+'es'](),_0x5237e1=_0x3d9724['getNumLeve'+'ls'](-0x15c6+-0x10f*-0x1a+-0x5c0),_0x7a21d6=!!_0x3d9724['getHasAlph'+'a'](),_0x29458b=_0x3d9724['isUASTC']&&_0x3d9724['isUASTC']();if(!_0x105844||!_0x2b4d9f||!_0x1b1217||!_0x5237e1)throw _0x3d9724['close'](),_0x3d9724['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x285305+'\x20width='+_0x105844+'\x20height='+_0x2b4d9f+'\x20images='+_0x1b1217+'\x20levels='+_0x5237e1);const _0x3e259a=_0x1e0fc7(_0x662e3a['deviceDeta'+'ils'],_0x7a21d6,_0x29458b),_0x129731=!!_0x662e3a['isGGGR']&&_0x3e259a==='pvr';let _0xe7897e;if(_0x129731?_0xe7897e=_0x1dfae1['cTFRGBA32']:(_0xe7897e=_0x7a21d6?_0x59b807[_0x3e259a]:_0x2faf1b[_0x3e259a],_0x57c3d2(_0x105844,_0x2b4d9f,_0xe7897e)||(_0xe7897e=_0x7a21d6?_0x1dfae1['cTFRGBA32']:_0x1dfae1['cTFRGB565'])),!_0x3d9724['startTrans'+'coding']())throw _0x3d9724['close'](),_0x3d9724['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x285305);let _0x1a15f0;const _0xe16ff8=[];for(let _0x2cc225=0x2020+0x5*-0x748+-0x448*-0x1;_0x2cc225<_0x5237e1;++_0x2cc225){const _0x30ed5c=_0x3d9724['getImageTr'+'anscodedSi'+'zeInBytes'](-0x908+0x9da+-0xe*0xf,_0x2cc225,_0xe7897e),_0x2aaa20=new Uint8Array(_0x30ed5c);if(!_0x3d9724['transcodeI'+'mage'](_0x2aaa20,0xed0+0xb57*-0x1+0x7*-0x7f,_0x2cc225,_0xe7897e,-0x1*0x13bb+-0x1e27+0x2*0x18f1,-0x268b+-0x139f*0x1+0x2*0x1d15)){if(_0x2cc225===_0x5237e1-(-0x110d+0x2*-0x957+0x23bc)&&_0x30ed5c===_0xe16ff8[_0x2cc225-(0x14c2+-0x732+-0xd8f)]['buffer']['byteLength'])_0x2aaa20['set'](new Uint8Array(_0xe16ff8[_0x2cc225-(-0x1*-0x1da5+0xe66+-0x2c0a)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x285305);else throw _0x3d9724['close'](),_0x3d9724['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x285305);}const _0x391e93=_0xe7897e===_0x1dfae1['cTFRGB565']||_0xe7897e===_0x1dfae1['cTFRGBA444'+'4'];_0xe16ff8['push'](_0x391e93?new Uint16Array(_0x2aaa20['buffer']):_0x2aaa20);}if(_0x3d9724['close'](),_0x3d9724['delete'](),_0x129731){for(_0xe7897e=_0x1dfae1['cTFRGB565'],_0x1a15f0=-0xf2*0x23+-0x79e*-0x3+0x51e*0x2;_0x1a15f0<_0xe16ff8['length'];++_0x1a15f0)_0xe16ff8[_0x1a15f0]=_0x38b986(_0x1d2533(_0xe16ff8[_0x1a15f0]));}return{'format':_0x23b820(_0xe7897e,_0x662e3a['deviceDeta'+'ils']),'width':_0x105844,'height':_0x2b4d9f,'levels':_0xe16ff8,'cubemap':!(-0x812*0x1+0x18a3+-0x1090),'transcodeTime':_0x2a3825()-_0x595e2c,'url':_0x285305,'unswizzledGGGR':_0x129731};},_0x2e6219=(_0x59cd7a,_0x25c7a3,_0x457812)=>_0x457812['isKTX2']?_0x5d538c(_0x59cd7a,_0x25c7a3,_0x457812):_0x216e7f(_0x59cd7a,_0x25c7a3,_0x457812),_0x1ab58d=(_0x2e72d4,_0x4f4611,_0x2a4810)=>{try{const _0x456f1c=_0x2e6219(_0x2e72d4,_0x4f4611,_0x2a4810);_0x456f1c['levels']=_0x456f1c['levels']['map'](_0x5d0bac=>_0x5d0bac['buffer']),self['postMessag'+'e']({'url':_0x2e72d4,'data':_0x456f1c},_0x456f1c['levels']);}catch(_0x13bcfb){self['postMessag'+'e']({'url':_0x2e72d4,'err':_0x13bcfb},null);}},_0x9c5a4a=(_0x29d7b8,_0x225997)=>{const _0x35bdf4=(_0x5ac24d,_0x79540)=>(WebAssembly['instantiat'+'e'](_0x29d7b8['module'],_0x5ac24d)['then'](_0x1798c8=>{_0x79540(_0x1798c8);})['catch'](_0x160ddb=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x160ddb);}),{});self['BASIS'](_0x29d7b8['module']?{'instantiateWasm':_0x35bdf4}:null)['then'](_0x3c4716=>{_0x3c4716['initialize'+'Basis'](),_0x2f99f6=_0x3c4716,_0x3d9c48=_0x29d7b8['rgbPriorit'+'y'],_0x305db4=_0x29d7b8['rgbaPriori'+'ty'],_0x225997(null);});},_0x4dab92=[];self['onmessage']=_0x45472=>{const _0x2f336a=_0x45472['data'];switch(_0x2f336a['type']){case'init':_0x9c5a4a(_0x2f336a['config'],()=>{for(let _0x4e0bfa=0x206+-0x83*0x9+0x295*0x1;_0x4e0bfa<_0x4dab92['length'];++_0x4e0bfa)_0x1ab58d(_0x4dab92[_0x4e0bfa]['url'],_0x4dab92[_0x4e0bfa]['data'],_0x4dab92[_0x4e0bfa]['options']);_0x4dab92['length']=0x9c4+0x2164+-0x2b28;});break;case'transcode':_0x2f99f6?_0x1ab58d(_0x2f336a['url'],_0x2f336a['data'],_0x2f336a['options']):_0x4dab92['push'](_0x2f336a);break;}};}const wL=_0x2e5e8e=>({'astc':!!_0x2e5e8e['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x2e5e8e['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x2e5e8e['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x2e5e8e['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x2e5e8e['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x2e5e8e['extCompres'+'sedTexture'+'PVRTC']}),TL=(_0x766279,_0x19fd0b)=>{const _0x430176=_0x3faf87=>{const _0x32bc74=['/*\x20basis\x20*'+'/',_0x3faf87,'','('+bL['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x32bc74],{'type':'applicatio'+'n/javascri'+'pt'});},_0x4ebebe=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x39550e=new WebAssembly['Module'](Uint8Array['of'](-0x2*-0x50+0x1007+-0x10a7,0x1c3*0x14+-0x1*-0x1b88+-0x3e63,-0x67*-0x7+-0x174a+0x14ec,-0x11f4+0x2*-0xfa1+-0x61*-0x83,-0x7*0x397+0x1*0x1f22+0x80*-0xc,0x5*0x463+-0x2*0x4f4+-0x1*0xc07,0x66*-0x59+-0xa3+0x2419*0x1,0x1599+0x10bd+-0x57a*0x7));if(_0x39550e instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x39550e)instanceof WebAssembly['Instance'];}}catch{}return!(0x2ae*-0x7+0x7*0x261+0x21c);},_0x590f51=(_0x5d6bde,_0x430eb5)=>{_0x19fd0b(null,{'workerUrl':URL['createObje'+'ctURL'](_0x430176(_0x5d6bde)),'module':_0x430eb5,'rgbPriority':_0x766279['rgbPriorit'+'y'],'rgbaPriority':_0x766279['rgbaPriori'+'ty']});},_0x3e9a97={'cache':!(-0x1ddc+-0x3a*0xa9+-0xd*-0x53e),'responseType':'text','retry':_0x766279['maxRetries']>0xd6b+0x11ef+0x1*-0x1f5a,'maxRetries':_0x766279['maxRetries']};if(_0x766279['glueUrl']&&_0x766279['wasmUrl']&&_0x4ebebe()){let _0x575baf=null,_0x34f67a=null;Ye['get'](_0x766279['glueUrl'],_0x3e9a97,(_0x5a4dae,_0x3d06a6)=>{_0x5a4dae?_0x19fd0b(_0x5a4dae):_0x34f67a?_0x590f51(_0x3d06a6,_0x34f67a):_0x575baf=_0x3d06a6;});const _0x51e80f=fetch(_0x766279['wasmUrl']),_0x32413a=()=>{_0x51e80f['then'](_0x552c88=>_0x552c88['arrayBuffe'+'r']())['then'](_0x4f5200=>WebAssembly['compile'](_0x4f5200))['then'](_0xd7c85a=>{_0x575baf?_0x590f51(_0x575baf,_0xd7c85a):_0x34f67a=_0xd7c85a;})['catch'](_0x16e019=>{_0x19fd0b(_0x16e019,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x51e80f)['then'](_0x27896b=>{_0x575baf?_0x590f51(_0x575baf,_0x27896b):_0x34f67a=_0x27896b;})['catch'](_0x396590=>{b['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x766279['wasmUrl']+'\x20('+_0x396590+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x32413a();}):_0x32413a();}else Ye['get'](_0x766279['fallbackUr'+'l'],_0x3e9a97,(_0x37d41e,_0xf51b09)=>{_0x37d41e?_0x19fd0b(_0x37d41e,null):_0x590f51(_0xf51b09,null);});};class AL{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x5ef085,_0x54ac2b,_0x33dd8d,_0x3c8710){if(this['callbacks']['hasOwnProp'+'erty'](_0x5ef085))this['callbacks'][_0x5ef085]['push'](_0x33dd8d);else{this['callbacks'][_0x5ef085]=[_0x33dd8d];const _0xbb330f={'url':_0x5ef085,'data':_0x54ac2b,'options':_0x3c8710};this['clients']['length']>0x1858+-0x3b*0x87+0x6c5?this['clients']['shift']()['run'](_0xbb330f):this['queue']['push'](_0xbb330f);}}['enqueueCli'+'ent'](_0x12eeba){this['queue']['length']>0x2096+0x2e*-0xad+-0x180?_0x12eeba['run'](this['queue']['shift']()):this['clients']['push'](_0x12eeba);}['handleResp'+'onse'](_0x150938,_0x1675f1,_0x19d499){const _0x7f832d=this['callbacks'][_0x150938];if(_0x1675f1){for(let _0x3c4624=0xe*-0x239+0xa1*0x2b+0x1*0x413;_0x3c4624<_0x7f832d['length'];++_0x3c4624)_0x7f832d[_0x3c4624](_0x1675f1);}else{_0x19d499['format']===vc||_0x19d499['format']===bc?_0x19d499['levels']=_0x19d499['levels']['map'](_0x3215d5=>new Uint16Array(_0x3215d5)):_0x19d499['levels']=_0x19d499['levels']['map'](_0x1f7d14=>new Uint8Array(_0x1f7d14));for(let _0x25f7f8=-0x8*-0x35b+0x134f+0x2e27*-0x1;_0x25f7f8<_0x7f832d['length'];++_0x25f7f8)_0x7f832d[_0x25f7f8](null,_0x19d499);}delete this['callbacks'][_0x150938];}}class EL{constructor(_0x4d75d7,_0x5240d6,_0x1ee122){this['queue']=_0x4d75d7,this['worker']=new Worker(_0x5240d6['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x54ae14=>{const _0x1f7f26=_0x54ae14['data'];this['queue']['handleResp'+'onse'](_0x1f7f26['url'],_0x1f7f26['err'],_0x1f7f26['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5240d6}),this['eager']=_0x1ee122;}['run'](_0x52ad70){const _0x30d55f=[];_0x52ad70['data']instanceof ArrayBuffer&&_0x30d55f['push'](_0x52ad70['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x52ad70['url'],'format':_0x52ad70['format'],'data':_0x52ad70['data'],'options':_0x52ad70['options']},_0x30d55f),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const CL=0x1*-0x24be+-0x7d+-0x4*-0x94f,ML=['etc2','etc1','astc','dxt','pvr','atc'],PL=['astc','dxt','etc2','pvr','atc'],RL=-0x1*-0x162f+0xc1*-0x18+-0x412,Mf=new AL();let Wg=null,Pf=!(0x9d*-0x31+0xdd+-0x1*-0x1d31);function IL(_0x59f49a){if(!Pf){if(!_0x59f49a)_0x59f49a=Wg||{};else{if(_0x59f49a['lazyInit']){Wg=_0x59f49a;return;}}if(!_0x59f49a['glueUrl']||!_0x59f49a['wasmUrl']||!_0x59f49a['fallbackUr'+'l']){const _0x336367=oy['getConfig']('BASIS');_0x336367&&(_0x59f49a={'glueUrl':_0x336367['glueUrl'],'wasmUrl':_0x336367['wasmUrl'],'fallbackUrl':_0x336367['fallbackUr'+'l'],'numWorkers':_0x336367['numWorkers']});}if(_0x59f49a['glueUrl']||_0x59f49a['wasmUrl']||_0x59f49a['fallbackUr'+'l']){Pf=!(-0x1c80+-0x3*0x924+0x37ec);const _0x4e0047=Math['max'](-0x2399+-0xd30+0x1*0x30ca,Math['min'](0x1348+-0x437*0x1+0x17*-0xa7,_0x59f49a['numWorkers']||CL)),_0xf4385d=_0x59f49a['numWorkers']===0x215e+0x2*-0xc8b+0x847*-0x1||(_0x59f49a['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x59f49a['eagerWorke'+'rs']:!(-0x1*0x26a7+0x138c+0x131b*0x1));_0x59f49a['rgbPriorit'+'y']=_0x59f49a['rgbPriorit'+'y']||ML,_0x59f49a['rgbaPriori'+'ty']=_0x59f49a['rgbaPriori'+'ty']||PL,_0x59f49a['maxRetries']=_0x59f49a['hasOwnProp'+'erty']('maxRetries')?_0x59f49a['maxRetries']:RL,TL(_0x59f49a,(_0x3db4eb,_0x4d5988)=>{if(_0x3db4eb)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x3db4eb);else{for(let _0x361300=0x2*-0x2+-0x1742+-0x14b*-0x12;_0x361300<_0x4e0047;++_0x361300)Mf['enqueueCli'+'ent'](new EL(Mf,_0x4d5988,_0xf4385d));}});}}}let au=null;function kx(_0x54a63f,_0xdcbcfe,_0x4d0430,_0x1b29ac,_0x52a2c1){return IL(),au||(au={'formats':wL(_0x54a63f)}),Mf['enqueueJob'](_0xdcbcfe,_0x4d0430,_0x1b29ac,{'deviceDetails':au,'isGGGR':!!(_0x52a2c1!=null&&_0x52a2c1['isGGGR']),'isKTX2':!!(_0x52a2c1!=null&&_0x52a2c1['isKTX2'])}),Pf;}class Va{['load'](_0x230d87,_0xa90629,_0x1b65b6){throw new Error('not\x20implem'+'ented');}['open'](_0x4e45af,_0x59452f,_0x348062){throw new Error('not\x20implem'+'ented');}}class DL extends Va{constructor(_0x7fd35c,_0x2fea72){super(),this['device']=_0x2fea72,this['maxRetries']=-0x1105+0x1*0x471+0xc94;}['load'](_0xe261c3,_0x4419b7,_0x79a66){const _0x3c722e=this['device'],_0x328125=_0x32d725=>{var _0x5d75a3,_0x5a24a0,_0x3ef665;kx(_0x3c722e,_0xe261c3['load'],_0x32d725,_0x4419b7,{'isGGGR':(((_0x3ef665=(_0x5a24a0=(_0x5d75a3=_0x79a66==null?void(0x3d2*-0x6+-0x161*-0x1+0x158b):_0x79a66['file'])==null?void(-0x1f*0xc4+0x1*0xeb7+0x905):_0x5d75a3['variants'])==null?void(-0x161e*0x1+0x1247+0x3d7):_0x5a24a0['basis'])==null?void(0x90*0x24+-0xe*0x51+0x10e*-0xf):_0x3ef665['opt'])&0x1bf0+0x389*0x9+-0x1*0x3bb9)!==-0x262b+-0x6cd*0x5+0x482c})||_0x4419b7('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x79a66['name']+']('+_0x79a66['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};he['fetchArray'+'Buffer'](_0xe261c3['load'],(_0x5bb70e,_0x444d9e)=>{_0x5bb70e?_0x4419b7(_0x5bb70e):_0x328125(_0x444d9e);},_0x79a66,this['maxRetries']);}['open'](_0x48aee5,_0x5994a8,_0x135fd1,_0x5f04a6={}){const _0x1c4659=_0x5f04a6['srgb']?Ic(_0x5994a8['format']):_0x5994a8['format'],_0x5b043e=new ce(_0x135fd1,{'name':_0x48aee5,'profilerHint':fr,'addressU':_0x5994a8['cubemap']?oe:nt,'addressV':_0x5994a8['cubemap']?oe:nt,'width':_0x5994a8['width'],'height':_0x5994a8['height'],'format':_0x1c4659,'cubemap':_0x5994a8['cubemap'],'levels':_0x5994a8['levels'],..._0x5f04a6});return _0x5b043e['upload'](),_0x5b043e;}}const Ox=new Uint8Array([-0x722+0xeb9*0x1+0x387*-0x2,0x1a45+-0x2e9*-0x1+-0x5*0x5c6,0x9*0x26b+-0x3*0x44d+-0x88e,0x7*-0x9e+-0x173d+0x1bd6,0xe5*-0x1b+-0x1ee2+-0x281*-0x16,-0xce5+-0x1*-0x21f5+-0x1506,0x131b+-0x1d62*0x1+0xa61,-0x134b+0x1*0x17f5+-0x4a0,-0x26f1*0x1+0x4b3*-0x6+-0x4323*-0x1,0x2268+-0xecb*-0x2+-0x1fff*0x2,0x115b+-0x10e4+-0x77*0x1,0x5*-0x62b+0x16f*0xb+0xf1f,-0x2*-0x1f3+-0x447*0x7+0x1a54,0x1b0d+0x73c+-0x2201,0x134*0x19+-0x1*-0xe9f+0x23*-0x145,0x7*-0x191+0x1*0x38a+-0x3*-0x295,0x1*-0xa1d+-0x31f+0xd3c,0xa46+0x2026+0x2d4*-0xf,-0x5*-0x650+0x119e+0x5*-0x9d6,-0x13*0x1af+0x143e*-0x1+-0x1a1e*-0x2,0xf2b+-0x1c66+0x469*0x3,-0x1*0x18d1+0x200f+-0x2*0x39f,0x1bde+0x1ce6+0x207*-0x1c,-0x203d+-0x613+0x2651,0xa31+0x20a6+-0x34b*0xd,0x1c26+-0x242*0x10+0x100*0x8,-0x339+0x1c3e+-0x1905,-0x6*0x535+0x155f+0x9df,-0x1*-0x893+0xa3b*0x1+-0x12ce,0x2c4*0x1+0x1*0x572+-0x1*0x817,0x10*0x5e+0x9b8+-0xf83,0x1df2+0x16*-0x43+-0x176c,0x23d2*0x1+0x18d8+-0x3c21,0x2*-0x2+0x186f+-0x7*0x37d,0x1f18+-0xbb1+-0x1367,-0x27*0xf1+-0x59+0x2510,-0x86*0x17+-0x19cf+0x1*0x25e6,-0xbb*0xa+-0x2c*-0x26+0x10f*0x1,-0xad9+0x46*0x6d+-0xf*0x13f,-0x9e*0x33+-0x1d*-0x70+0x130b,0xae2+0x47*-0x8b+-0x3*-0x955,-0x7d3*0x3+0xf3a*-0x2+-0x1*-0x3665,-0x173c*-0x1+-0xd37+-0x92b,-0xb*0x14e+0xaee+0x3cf,-0x2601+0x25*0x18+-0x1*-0x22ed,-0x1704+0x2*-0x7be+0x26e4,0x146*0x11+-0x768+-0xddc,-0x9*0x2a2+0x189c+-0x1a*0x2,0xd*0x236+0x387+-0x203e,-0x2342+-0x1a2+0x24e4,-0x2339+0xe33*0x2+-0x1*-0x6d3,-0x61b+-0x2*0x106a+0x2748,-0x5e5*-0x4+-0x169c+-0x1f*0x8,0x3*-0x201+-0x2*0xd34+0x20b2,0x1*0x757+0x2396+0x2aaa*-0x1,-0xffb*-0x2+0x10b9*0x1+-0x89*0x5a,-0x1de6+-0x1bd2+0x3a4c,0xd67+-0x480+-0x7fa,0x1f5+0x446*-0x9+0x537*0x7,0x1ad8+0xb4a+0x2622*-0x1,-0x25*0x19+0x2*-0x941+0x161f,0x11d9+0x169*0xc+-0xb97*0x3,0x13aa+-0x201e+0xcbd,0xf07*-0x1+-0x17bb+0x2707,0x5*-0x13f+-0x679+-0xb9*-0x12,0x2*-0x484+0x1bbf+0x1*-0x1273,-0x2*-0x899+0x29f+-0x1323,-0x731*0x2+0x1*-0x422+-0x59*-0x36,-0x149*-0x13+-0x1de7*-0x1+0x565*-0xa,0x1435+-0x4e*-0x3c+0x1cf*-0x15]),Bx=(_0x4cfd1c,_0x870fb6)=>{const _0x531d12=new ce(_0x4cfd1c,{'width':0x1,'height':0x1,'format':Te,'mipmaps':!(-0x722*0x5+-0x1f32+0x42dd),'levels':[_0x870fb6]}),_0x1f520d=new St({'colorBuffer':_0x531d12,'depth':!(0x2*0x872+-0x3*0x9d3+-0x64b*-0x2)});_0x4cfd1c['setFramebu'+'ffer'](_0x1f520d['impl']['_glFrameBu'+'ffer']),_0x4cfd1c['initRender'+'Target'](_0x1f520d);const _0x493c7f=new Uint8ClampedArray(-0x23e8+0x1*-0x21be+0x45aa);return _0x4cfd1c['gl']['readPixels'](0x2307+-0x1e9f*0x1+-0x6*0xbc,-0x3ca+0x1b*-0xf2+0x38*0x86,0x6c*0x3+0x593*0x1+-0x2*0x36b,0x374+0x4f0*-0x7+0x375*0x9,_0x4cfd1c['gl']['RGBA'],_0x4cfd1c['gl']['UNSIGNED_B'+'YTE'],_0x493c7f),_0x1f520d['destroy'](),_0x531d12['destroy'](),_0x493c7f[-0x3e1+-0x1128+0x1509]===0x1*0x19+0x1485+-0x3*0x6df&&_0x493c7f[-0x8d*0xb+-0x224d+0x285d]===-0x1c43+0x4*-0x263+0x25d1&&_0x493c7f[0x3+-0x1*0x1373+0x1372]===-0x1*0x1939+0x25*-0x3c+-0x28*-0xd9&&_0x493c7f[0x196*0x1+0x192f+-0x1ac2]===-0x129b+0x1ae3*0x1+0x11*-0x79;},LL=_0x2d30fc=>createImageBitmap(new Blob([Ox],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x24e8cd=>Bx(_0x2d30fc,_0x24e8cd))['catch'](_0x4d4add=>!(0x1a*-0x11a+-0x1*-0x21e6+-0x5*0x10d)),FL=_0x6ce2a8=>new Promise((_0x5021d7,_0x4e2471)=>{const _0x154136=new Image();_0x154136['src']=URL['createObje'+'ctURL'](new Blob([Ox])),_0x154136['onload']=()=>{_0x5021d7(Bx(_0x6ce2a8,_0x154136));};});class kL{static['run'](_0x390684){LL(_0x390684)['then'](_0x27bf05=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x27bf05);}),FL(_0x390684)['then'](_0x379c1e=>{console['log']('imgElement'+'IsCorrect='+_0x379c1e);});}}class OL extends Va{constructor(_0x454861,_0x51fb9b){super(),this['crossOrigi'+'n']=_0x454861['prefix']?'anonymous':null,this['maxRetries']=-0xd*-0x89+-0xe84+0x78f,this['device']=_0x51fb9b,Qs['get']('IMG_ALPHA_'+'TEST')&&kL['run'](this['device']);}['load'](_0x158709,_0x523910,_0x3ee22e){var _0x5e3f93;const _0x13ec1f=!!((_0x5e3f93=_0x3ee22e==null?void(-0x122a+-0xb6*0x26+-0x2d2e*-0x1):_0x3ee22e['file'])!=null&&_0x5e3f93['contents']);if(_0x13ec1f){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x3ee22e['file']['contents']]),_0x523910);return;}_0x158709={'load':URL['createObje'+'ctURL'](new Blob([_0x3ee22e['file']['contents']])),'original':_0x158709['original']};}const _0x190144=(_0x5b7667,_0x1f54da)=>{_0x13ec1f&&URL['revokeObje'+'ctURL'](_0x158709['load']),_0x523910(_0x5b7667,_0x1f54da);};let _0x5aeff2;_0x3ee22e&&_0x3ee22e['options']&&_0x3ee22e['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x5aeff2=_0x3ee22e['options']['crossOrigi'+'n']:ka['test'](_0x158709['load'])&&(_0x5aeff2=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x158709['load'],_0x158709['original'],_0x5aeff2,_0x190144):this['_loadImage'](_0x158709['load'],_0x158709['original'],_0x5aeff2,_0x190144);}['open'](_0x47186f,_0x5100ba,_0x2beb94,_0x40af7a={}){const _0x1401b9=new ce(_0x2beb94,{'name':_0x47186f,'profilerHint':fr,'width':_0x5100ba['width'],'height':_0x5100ba['height'],'format':_0x40af7a['srgb']?cs:Te,..._0x40af7a});return _0x1401b9['setSource'](_0x5100ba),_0x1401b9;}['_loadImage'](_0x721aa5,_0x17ad7f,_0x34239e,_0x34587f){const _0x52275a=new Image();_0x34239e&&(_0x52275a['crossOrigi'+'n']=_0x34239e);let _0x2c6ea6=-0xc*0x17c+-0x2*-0x263+0xd0a;const _0x32af84=this['maxRetries'];let _0x25f5ce;_0x52275a['onload']=function(){_0x34587f(null,_0x52275a);},_0x52275a['onerror']=function(){if(!_0x25f5ce){if(_0x32af84>-0x6*-0x427+-0x2f*0xd3+0xdd3&&++_0x2c6ea6<=_0x32af84){const _0x25806c=Math['pow'](-0x494*0x5+0x1ec5*0x1+-0x7df,_0x2c6ea6)*(0x2476*0x1+0x833*-0x3+-0xb79);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x17ad7f+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x25806c+'ms...');const _0x3a9aca=_0x721aa5['indexOf']('?')>=-0x1ad3+-0x5db*-0x1+0x14f8?'&':'?';_0x25f5ce=setTimeout(()=>{_0x52275a['src']=_0x721aa5+_0x3a9aca+'retry='+Date['now'](),_0x25f5ce=null;},_0x25806c);}else _0x34587f('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x17ad7f+'\x27');}},_0x52275a['src']=_0x721aa5;}['_loadImage'+'Bitmap'](_0x294102,_0x4c6dcb,_0x29df94,_0x15f93a){const _0x3dee18={'cache':!(0x18c9+0x4*-0x7d4+0x22d*0x3),'responseType':'blob','retry':this['maxRetries']>-0x127c+0x1124*-0x1+0x23a0,'maxRetries':this['maxRetries']};Ye['get'](_0x294102,_0x3dee18,(_0x371203,_0x21e604)=>{_0x371203?_0x15f93a(_0x371203):this['_loadImage'+'BitmapFrom'+'Blob'](_0x21e604,_0x15f93a);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x8cb137,_0x52d61a){createImageBitmap(_0x8cb137,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x5e70e2=>_0x52d61a(null,_0x5e70e2))['catch'](_0x44d1f5=>_0x52d61a(_0x44d1f5));}}const ou=[-0xac119597+0x1a2f005*-0x5d+0x19c971313*0x1,0xd21f10bd+-0x14d72e39*-0x2+-0x409c3c0f,-0xdeb7b21+0xc92596b+0xb732bc3],BL={0x83f0:wc,0x83f2:Hf,0x83f3:Yo,0x8d64:Cc,0x9274:$f,0x9278:qf,0x8c00:Mc,0x8c01:Ko,0x8c02:Pc,0x8c03:Zo,0x8051:ur,0x8058:Te,0x8c41:Wf,0x8c43:cs,0x8c3a:ya,0x881b:Tc,0x881a:it};function NL(_0x303634,_0x3dd622,_0x42a863,_0x3e2690){return _0x303634===ya?new Uint32Array(_0x3dd622,_0x42a863,_0x3e2690/(0x8*0x3f3+0x1bb1+-0x3b45)):new Uint8Array(_0x3dd622,_0x42a863,_0x3e2690);}class zL extends Va{constructor(_0x3b1797){super(),this['maxRetries']=-0x2*-0x2fc+-0x189a+0x12a2;}['load'](_0x3b41e3,_0x20c0b1,_0x4e1071){he['fetchArray'+'Buffer'](_0x3b41e3['load'],_0x20c0b1,_0x4e1071,this['maxRetries']);}['open'](_0x5ab420,_0x4432dc,_0x14ec30,_0x12520b={}){const _0x5229c5=this['parse'](_0x4432dc);if(!_0x5229c5)return null;const _0x4eb4a7=_0x12520b['srgb']?Ic(_0x5229c5['format']):_0x5229c5['format'],_0x1e4369=new ce(_0x14ec30,{'name':_0x5ab420,'profilerHint':fr,'addressU':_0x5229c5['cubemap']?oe:nt,'addressV':_0x5229c5['cubemap']?oe:nt,'width':_0x5229c5['width'],'height':_0x5229c5['height'],'format':_0x4eb4a7,'cubemap':_0x5229c5['cubemap'],'levels':_0x5229c5['levels'],..._0x12520b});return _0x1e4369['upload'](),_0x1e4369;}['parse'](_0x17b377){const _0x2ba4cf=new Uint32Array(_0x17b377);if(ou[-0x2096+-0x5ce*0x3+-0x28*-0x140]!==_0x2ba4cf[0x3*0x3f5+0x1*0x20d9+0x3*-0xee8]||ou[0x1bb9+0xb5f*-0x1+-0x1d1*0x9]!==_0x2ba4cf[-0x32d+-0x40d+-0x3*-0x269]||ou[-0xdc+0x67*0x55+0x1*-0x2155]!==_0x2ba4cf[0x783+0x2*0x11b+-0x3*0x33d])return b['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x309126={'endianness':_0x2ba4cf[-0x1eb2+-0x17be+0x3673],'glType':_0x2ba4cf[0x34*-0x9a+-0x396*0x1+-0x5f*-0x5e],'glTypeSize':_0x2ba4cf[-0x97*-0x1+0x15b0+-0x1642],'glFormat':_0x2ba4cf[0xf91+-0x1736*-0x1+-0xceb*0x3],'glInternalFormat':_0x2ba4cf[0x1b2b+-0x1f1d+0x3f9],'glBaseInternalFormat':_0x2ba4cf[0xd*0x21e+-0x1d88+-0x12*-0x1d],'pixelWidth':_0x2ba4cf[-0x6d7+0x3*0x32+-0x142*-0x5],'pixelHeight':_0x2ba4cf[0x511+-0x1*-0x21e6+-0x26ed],'pixelDepth':_0x2ba4cf[-0x1*0x16ed+-0x5ed*-0x4+-0xbc],'numberOfArrayElements':_0x2ba4cf[-0x851+-0x1*-0xc2d+-0x7a*0x8],'numberOfFaces':_0x2ba4cf[-0x7d3+-0x1*0xa12+0x8f9*0x2],'numberOfMipmapLevels':_0x2ba4cf[0x56*-0x43+0x20c8+-0xa38],'bytesOfKeyValueData':_0x2ba4cf[-0x2045+0x167*0x1+-0x27*-0xcb]};if(_0x309126['pixelDepth']>-0x1*-0x2513+0x3*0xa47+0x1*-0x43e7)return b['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x309126['numberOfAr'+'rayElement'+'s']!==-0x7d*-0x3d+0x1*-0x1837+0x1f*-0x2e)return b['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x450134=BL[_0x309126['glInternal'+'Format']];if(_0x450134===void(0x131*-0x17+-0x989*-0x1+0x11de))return b['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x309126['glInternal'+'Format']),null;let _0xda40de=0x1*-0xa35+0x1a61+0x80e*-0x2+_0x309126['bytesOfKey'+'ValueData']/(-0xdab+-0x756+0x1505);const _0x473cf8=_0x309126['numberOfFa'+'ces']>0x16e3+-0x369*0x5+-0x5d5,_0x3d2341=[];for(let _0x5f121b=0x205+0xe16+-0x101b;_0x5f121b<(_0x309126['numberOfMi'+'pmapLevels']||0x1d*0x13a+-0x2*-0xe9a+-0x40c5);_0x5f121b++){const _0x3b2763=_0x2ba4cf[_0xda40de++];_0x473cf8&&_0x3d2341['push']([]);const _0x5a7101=_0x473cf8?_0x3d2341[_0x5f121b]:_0x3d2341;for(let _0x5611fc=-0x8b9+0xf4d*-0x1+0x1806;_0x5611fc<(_0x473cf8?-0x7*0x39c+-0x9*-0x4b+0x16a7:0x328+0xd96*0x2+-0x1e53);++_0x5611fc)_0x5a7101['push'](NL(_0x450134,_0x17b377,_0xda40de*(-0x8b*0xa+-0x1308+0x187a),_0x3b2763)),_0xda40de+=_0x3b2763+(0x1*-0xbe8+0x55f*-0x1+0x8a5*0x2)>>0x9*0x341+0x74e+0x751*-0x5;}return{'format':_0x450134,'width':_0x309126['pixelWidth'],'height':_0x309126['pixelHeigh'+'t'],'levels':_0x3d2341,'cubemap':_0x473cf8};}}const UL={'KHR_DF_MODEL_UASTC':0xa6};class VL extends Va{constructor(_0x2669c8,_0x36306a){super(),this['maxRetries']=-0x1*0xedb+0x16ac+-0x29b*0x3,this['device']=_0x36306a;}['load'](_0x2c278e,_0x3a6759,_0xc98f76){he['fetchArray'+'Buffer'](_0x2c278e['load'],(_0x1885ba,_0x368ec4)=>{_0x1885ba?_0x3a6759(_0x1885ba,_0x368ec4):this['parse'](_0x368ec4,_0x2c278e,_0x3a6759,_0xc98f76);},_0xc98f76,this['maxRetries']);}['open'](_0x6396df,_0x45a9b9,_0x5edd18,_0x2ad2f8={}){const _0x69e9d6=_0x2ad2f8['srgb']?Ic(_0x45a9b9['format']):_0x45a9b9['format'],_0x45f962=new ce(_0x5edd18,{'name':_0x6396df,'profilerHint':fr,'addressU':_0x45a9b9['cubemap']?oe:nt,'addressV':_0x45a9b9['cubemap']?oe:nt,'width':_0x45a9b9['width'],'height':_0x45a9b9['height'],'format':_0x69e9d6,'cubemap':_0x45a9b9['cubemap'],'levels':_0x45a9b9['levels'],..._0x2ad2f8});return _0x45f962['upload'](),_0x45f962;}['parse'](_0x5c9b54,_0x660977,_0xd1947e,_0x5336d4){var _0x338b2b,_0x5ac39a,_0x164606;const _0x502023=new ly(_0x5c9b54),_0x45e900=[_0x502023['readU32be'](),_0x502023['readU32be'](),_0x502023['readU32be']()];if(_0x45e900[-0xe*-0x1c2+-0x2325*-0x1+0x3*-0x13eb]!==0x2090d*-0x3e05+-0x1457d5ce8+0x26f040481||_0x45e900[0x1a91*-0x1+0x1f3a+-0x95*0x8]!==-0x3f1*-0x6de72+-0x254ba*-0x135b+0x1*-0x27fe7ab5||_0x45e900[-0x2*-0x135e+0x422+-0x2adc]!==-0x19be7427+0x1*-0xb062211+0x31ceb042)return b['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x55fa07={'vkFormat':_0x502023['readU32'](),'typeSize':_0x502023['readU32'](),'pixelWidth':_0x502023['readU32'](),'pixelHeight':_0x502023['readU32'](),'pixelDepth':_0x502023['readU32'](),'layerCount':_0x502023['readU32'](),'faceCount':_0x502023['readU32'](),'levelCount':_0x502023['readU32'](),'supercompressionScheme':_0x502023['readU32']()},_0x5d5a00={'dfdByteOffset':_0x502023['readU32'](),'dfdByteLength':_0x502023['readU32'](),'kvdByteOffset':_0x502023['readU32'](),'kvdByteLength':_0x502023['readU32'](),'sgdByteOffset':_0x502023['readU64'](),'sgdByteLength':_0x502023['readU64']()},_0x492e45=[];for(let _0x1f8533=0x2*0x118c+0x2ba*0x6+-0x3374;_0x1f8533<Math['max'](0xb27+0x910+-0x1436,_0x55fa07['levelCount']);++_0x1f8533)_0x492e45['push']({'byteOffset':_0x502023['readU64'](),'byteLength':_0x502023['readU64'](),'uncompressedByteLength':_0x502023['readU64']()});if(_0x502023['readU32']()!==_0x5d5a00['kvdByteOff'+'set']-_0x5d5a00['dfdByteOff'+'set'])return b['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x502023['skip'](-0x4*0x20e+-0x6c+0x8ac);const _0x35accb=_0x502023['readU8']();_0x502023['skip'](_0x5d5a00['dfdByteLen'+'gth']-(-0x1c4f*-0x1+-0x1*-0x2327+-0x3f6d)),_0x502023['skip'](_0x5d5a00['kvdByteLen'+'gth']),_0x55fa07['supercompr'+'essionSche'+'me']===-0x2*0xa69+-0x3d*0x86+-0x49*-0xb9||_0x35accb===UL['KHR_DF_MOD'+'EL_UASTC']?kx(this['device'],_0x660977['load'],_0x5c9b54,_0xd1947e,{'isGGGR':(((_0x164606=(_0x5ac39a=(_0x338b2b=_0x5336d4==null?void(-0x3c5+0x1*-0x9d2+-0x31*-0x47):_0x5336d4['file'])==null?void(0x1*0x232c+0xb60+-0x2e8c):_0x338b2b['variants'])==null?void(-0x2*-0xc77+0xaee+-0x23dc):_0x5ac39a['basis'])==null?void(0x4ed+0x9d*-0x1d+0xcdc):_0x164606['opt'])&-0x315*0x2+0x2406+-0x4*0x775)!==0x762+-0x2*-0xf5d+-0x261c,'isKTX2':!(-0x1b6f*-0x1+0x1931+-0x34a0)})||_0xd1947e('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x5336d4['name']+']('+_0x5336d4['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0xd1947e('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class GL extends Va{constructor(_0x4d8c02){super(),this['maxRetries']=-0x1d*-0xdd+-0x84*-0x32+-0x32d1;}['load'](_0x15f166,_0x388833,_0x56c894){he['fetchArray'+'Buffer'](_0x15f166['load'],_0x388833,_0x56c894,this['maxRetries']);}['open'](_0x129353,_0x1a36e3,_0x1e1d83,_0x22a3a6={}){const _0x2906c2=new Uint32Array(_0x1a36e3,-0x2161+0x500+-0x5ad*-0x5,0x6*-0x2a5+-0x26eb+0x36e9),_0x46f7e3=_0x2906c2[-0x1423+0xd7a+-0x6ad*-0x1],_0x500ee3=_0x2906c2[-0x3*-0x3f5+0x65f+0xd*-0x167],_0x52ab93=Math['max'](_0x2906c2[0x1713*0x1+-0xe*0x36+-0x1*0x1418],0x3*-0x5bd+0x13*0x20d+-0x15bf*0x1),_0x546986=_0x2906c2[-0xa8a+-0x7*-0x542+-0x1a30]===-0x437+-0xbae+-0xfe9*-0x1,_0x143c8f=_0x2906c2[0x315*-0x3+-0x8dc+-0x246*-0x8],_0x552164=_0x2906c2[-0x451+-0x2469+0x28d0],_0x574827=_0x2906c2[-0xbbc+0x193e+-0xd66]===-0x1b5f7*-0x1+-0x2c*-0x4d3+-0x5*0x4f3f,_0x59304a=0x45d8a6*-0xc2+0x1ff1973*-0x27+-0x1*-0xb41f6695,_0x40020a=-0x6c84f1*-0xd+0x10afc1*-0x525+-0x4*-0x216a70fb,_0x241a3e=-0x1*0x7ed+0xeb5+-0x657*0x1,_0x77e613=-0x8c*0x35+-0x1327*-0x1+0xa49,_0x8b7e8c=-0x27a7*0x6c1a+0x4b02f1*-0xda+0x81e25075*0x1,_0x592997=0x1dbcf*0x15c5+0x591dac06*0x1+-0x1*0x50609b01,_0x399630=0x1dc400b5+0x484f207f+-0x34deeee4,_0x317ab3=0xc52c561+0x44cedd69+0x20027*-0xff6,_0x352379=0x34026ba2+0x2b5*-0x172cef+-0x1*-0x3bee6ba9;let _0xb61635=!(0x2069*0x1+-0x1*-0x1fe9+-0x4051),_0x17a40d=!(0x79d+-0x21d3+-0x1a37*-0x1),_0xc38433=!(0xa*0x182+-0x7eb+-0x728),_0x3e9c03=!(-0x2185+0x8e8+0x189e),_0x297e30=null,_0x2d3884=0x430+-0x1f21+0x1af2,_0x18d1b2;if(_0x546986?_0x143c8f===_0x59304a?(_0x297e30=wc,_0xb61635=!(-0x1*0x161+0x171b+-0x36*0x67)):_0x143c8f===_0x40020a?(_0x297e30=Yo,_0xb61635=!(-0x18*-0x83+0x3*-0x2bc+-0x105*0x4)):_0x143c8f===_0x241a3e?(_0x297e30=it,_0x2d3884=0x15a8+-0x117b*-0x1+-0x35*0xbd):_0x143c8f===_0x77e613?(_0x297e30=et,_0x2d3884=0x1910+0x45*-0x1d+-0x113b):_0x143c8f===_0x8b7e8c?(_0x297e30=Cc,_0xb61635=!(-0x214b+-0x47f+-0xe*-0x2b3),_0x17a40d=!(0x1*-0x204f+0x157*-0x1+0x21a6)):_0x143c8f===_0x592997||_0x143c8f===_0x399630?(_0x297e30=_0x143c8f===_0x592997?Ko:Zo,_0xb61635=!(-0x9c4+0xe88+-0x4c4),_0xc38433=!(0xf3*0xb+-0x5*0x7c5+0x1c68)):(_0x143c8f===_0x317ab3||_0x143c8f===_0x352379)&&(_0x297e30=_0x143c8f===_0x317ab3?Mc:Pc,_0xb61635=!(0x12da*0x2+-0x102d+-0x1587),_0x3e9c03=!(0x115a+-0x39*-0x16+-0x1640)):_0x552164===-0x1bfd+-0xae0+0x455*0x9&&(_0x297e30=Te),!_0x297e30)return b['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x129353+'.'),_0x18d1b2=new ce(_0x1e1d83,{'width':0x4,'height':0x4,'format':ur,'name':'dds-legacy'+'-empty'}),_0x18d1b2;_0x18d1b2=new ce(_0x1e1d83,{'name':_0x129353,'profilerHint':fr,'addressU':_0x574827?oe:nt,'addressV':_0x574827?oe:nt,'width':_0x46f7e3,'height':_0x500ee3,'format':_0x297e30,'cubemap':_0x574827,'mipmaps':_0x52ab93>-0xd*0x2e7+-0xd*-0x1a+0x1235*0x2,..._0x22a3a6});let _0x1d5ee2=-0x1073+0x1*0x1803+-0x710;const _0x5ed396=_0x574827?-0xc3a+0x2540+-0x1900:-0x1f62+0x9*0x1d2+0xf01;let _0x5a1e5b;const _0x2ecde0=0x1916+0x1*0x1f4b+-0x385d,_0x250c9e=0xb9c*0x3+0x46b+-0x273b,_0x16d8a5=_0x143c8f===_0x59304a?0x18b8+-0x2696+-0x3*-0x4a2:0xcb5*-0x2+-0x119b+-0x1*-0x2b15;let _0x2021b8,_0x1249bb,_0x53a7b7;for(let _0x5f5734=0xf6c+0x1450+-0x4*0x8ef;_0x5f5734<_0x5ed396;_0x5f5734++){let _0x4a7677=_0x46f7e3,_0x28c04f=_0x500ee3;for(let _0x2fd84e=-0x583+-0x72a+0xcad;_0x2fd84e<_0x52ab93;_0x2fd84e++){_0xb61635?_0x17a40d?_0x5a1e5b=Math['floor']((_0x4a7677+(-0x113*-0xd+-0x2*0xa2a+0x66*0x10))/(-0x2269+-0x1*-0x15a7+-0x2*-0x663))*Math['floor']((_0x28c04f+(-0x1be1+0x22f6+-0x2*0x389))/(-0x1992+0x4*0x6ab+0x2*-0x8b))*(-0x184a*-0x1+0x2340+0x6*-0x9eb):_0xc38433?_0x5a1e5b=Math['max'](_0x4a7677,0x589+0x15d0+-0x1b49)*Math['max'](_0x28c04f,-0x55c+-0x1505+0x1a69)/(0x6bc+0x6e3*0x1+0x489*-0x3):_0x3e9c03?_0x5a1e5b=Math['max'](_0x4a7677,0xb5a+0x15e0+0xe*-0x25f)*Math['max'](_0x28c04f,0x412+0x1a27+0x3b*-0x83)/(0x1*0x13e1+0x1675*0x1+-0x2a54):(_0x2021b8=Math['floor']((_0x4a7677+_0x2ecde0-(-0x745*-0x2+-0x228*-0x7+-0x1da1))/_0x2ecde0),_0x1249bb=Math['floor']((_0x28c04f+_0x250c9e-(-0xc6*0x2e+0x411*-0x7+0x400c))/_0x250c9e),_0x53a7b7=_0x2021b8*_0x1249bb,_0x5a1e5b=_0x53a7b7*_0x16d8a5):_0x5a1e5b=_0x4a7677*_0x28c04f*(0xa*0x239+0x33e*0x4+-0x232e);const _0x49d338=_0x297e30===et?new Float32Array(_0x1a36e3,_0x1d5ee2,_0x5a1e5b):_0x297e30===it?new Uint16Array(_0x1a36e3,_0x1d5ee2,_0x5a1e5b):new Uint8Array(_0x1a36e3,_0x1d5ee2,_0x5a1e5b);_0x574827?(_0x18d1b2['_levels'][_0x2fd84e]||(_0x18d1b2['_levels'][_0x2fd84e]=[]),_0x18d1b2['_levels'][_0x2fd84e][_0x5f5734]=_0x49d338):_0x18d1b2['_levels'][_0x2fd84e]=_0x49d338,_0x1d5ee2+=_0x5a1e5b*_0x2d3884,_0x4a7677=Math['max'](_0x4a7677*(0x1*-0x7b1+-0x7ae+-0x5*-0x313+0.5),0x324+0x24fa+-0x281d),_0x28c04f=Math['max'](_0x28c04f*(-0x188a+0x311*-0x1+0x1b9b+0.5),-0x359*0x1+0xbc0+0xa*-0xd7);}}return _0x18d1b2['upload'](),_0x18d1b2;}}class HL extends Va{constructor(_0x70c3ec){super(),this['maxRetries']=-0x2195*0x1+0x6e9+-0x3*-0x8e4;}['load'](_0xa50256,_0x111fe9,_0x4a4229){he['fetchArray'+'Buffer'](_0xa50256['load'],_0x111fe9,_0x4a4229,this['maxRetries']);}['open'](_0x318d82,_0x3c77d0,_0x14d45a,_0x225208={}){const _0x5e2d9c=this['parse'](_0x3c77d0);if(!_0x5e2d9c)return null;const _0x15faf0=new ce(_0x14d45a,{'name':_0x318d82,'profilerHint':fr,'addressU':nt,'addressV':oe,'minFilter':fe,'magFilter':fe,'width':_0x5e2d9c['width'],'height':_0x5e2d9c['height'],'levels':_0x5e2d9c['levels'],'format':Te,'type':cp,'mipmaps':!(0xe21*-0x1+-0x164d*-0x1+-0x82b),..._0x225208});return _0x15faf0['upload'](),_0x15faf0;}['parse'](_0x2cd4e6){const _0x7ed42=new ly(_0x2cd4e6);if(!_0x7ed42['readLine']()['startsWith']('#?RADIANCE'))return b['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x4affe5={};for(;;){const _0xf7e5fb=_0x7ed42['readLine']();if(_0xf7e5fb['length']===0x3*0x129+0xc96+-0x1c9*0x9)break;{const _0x416072=_0xf7e5fb['split']('=');_0x416072['length']===0xeb+0x551+-0x63a&&(_0x4affe5[_0x416072[0x21a4+-0x101a*0x1+0x382*-0x5]]=_0x416072[-0x168b+-0x128+0x52*0x4a]);}}if(!_0x4affe5['hasOwnProp'+'erty']('FORMAT'))return b['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0xe6ffd3=_0x7ed42['readLine']()['split']('\x20');if(_0xe6ffd3['length']!==-0x4b*0x39+-0x18c9+-0x4*-0xa60)return b['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x379a9a=parseInt(_0xe6ffd3[0x148f+-0x18c1+-0x2b*-0x19],-0x208a+-0x1843*-0x1+0x851),_0x22f142=parseInt(_0xe6ffd3[0x1*0x261d+0x19c+-0x27b6],-0x7eb*0x4+0x20c1+-0x10b),_0x48bbc7=this['_readPixel'+'s'](_0x7ed42,_0x22f142,_0x379a9a,_0xe6ffd3[-0x5a2+0x33*0x4f+-0xa1b]==='-Y');return _0x48bbc7?{'width':_0x22f142,'height':_0x379a9a,'levels':[_0x48bbc7]}:null;}['_readPixel'+'s'](_0x33515b,_0x4a4b00,_0x5cbea,_0xb26d47){if(_0x4a4b00<0x3d*0x86+-0x24fb*0x1+0x515||_0x4a4b00>-0x1*0xb199+-0x4fb8+-0x50*-0x4d1)return this['_readPixel'+'sFlat'](_0x33515b,_0x4a4b00,_0x5cbea);const _0x58878f=[-0x68d+-0xe5*-0x1d+-0x1364,-0x264*0xb+-0x1be7+0xad7*0x5,0x13bb+-0x79f*0x3+0x1*0x322,-0x83e+0x3*0x2f3+-0x9b];if(_0x33515b['readArray'](_0x58878f),_0x58878f[0x4*-0x2bf+-0x1797+0x2293*0x1]!==-0x39*0x5b+0x207c+-0xc37||_0x58878f[0x209c+0xb48+-0x23*0x141]!==-0x1*0x3d1+-0x2141*-0x1+-0x1d6e||(_0x58878f[-0x499+0xf5b*-0x1+0xa*0x1ff]&0x1*0xd64+-0x39*0xa5+0x17d9)!==0x13*0xb9+-0x1*0x72d+0x68e*-0x1)return _0x33515b['skip'](-(0x1db3+0x157f+-0x332e)),this['_readPixel'+'sFlat'](_0x33515b,_0x4a4b00,_0x5cbea);const _0x283aab=new ArrayBuffer(_0x4a4b00*_0x5cbea*(-0xd85*0x2+0x2b9*0x2+0x159c)),_0x51d091=new Uint8Array(_0x283aab);let _0x573a37=_0xb26d47?0x1*0x16f7+0x1*-0x2417+0x54*0x28:_0x4a4b00*(-0x7ed*0x3+-0x2394+0x3b5f)*(_0x5cbea-(0x19e4+-0x17*-0xf4+-0x2fcf)),_0x119deb,_0x2093ef,_0x345954,_0x2b9a36,_0x504ff6,_0x2074ee;for(_0x2093ef=0x1*0x1fca+0x100d*0x1+-0x2fd7;_0x2093ef<_0x5cbea;++_0x2093ef){if(_0x2093ef&&_0x33515b['readArray'](_0x58878f),(_0x58878f[-0x2206+-0x5ea*-0x1+0x1c1e]<<-0x21*-0xa3+0x1843+-0x2d3e)+_0x58878f[0x4*0x824+0x2360+-0x43ed*0x1]!==_0x4a4b00)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x2b9a36=0x4*0x349+0x18c2*0x1+-0x25e6;_0x2b9a36<-0x5*-0x133+0x21f8+-0x27f3;++_0x2b9a36)for(_0x119deb=0x1*-0x1a07+-0x17eb+-0x10a6*-0x3;_0x119deb<_0x4a4b00;)if(_0x504ff6=_0x33515b['readU8'](),_0x504ff6>0x2db+0x11d0+-0x142b){if(_0x504ff6-=0x2602+-0x2a6*-0xc+-0x1*0x454a,_0x119deb+_0x504ff6>_0x4a4b00)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x2074ee=_0x33515b['readU8'](),_0x345954=-0x1345*0x2+0x1481*0x1+0x1209;_0x345954<_0x504ff6;++_0x345954)_0x51d091[_0x573a37+_0x2b9a36+(0x16a8+-0x1*0x234d+0xca9)*_0x119deb++]=_0x2074ee;}else{if(_0x504ff6===-0x1*-0x2519+-0x8b7+-0x6*0x4bb||_0x119deb+_0x504ff6>_0x4a4b00)return b['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x345954=0x20e8+0x616*0x2+-0x2d14;_0x345954<_0x504ff6;++_0x345954)_0x51d091[_0x573a37+_0x2b9a36+(-0x8d1*-0x1+-0x80b*0x2+0x749*0x1)*_0x119deb++]=_0x33515b['readU8']();}_0x573a37+=_0x4a4b00*(0xdc7*-0x2+-0x129e+0x2e30)*(_0xb26d47?0x1489+0x7df*-0x2+-0x4ca:-(-0x197b*-0x1+-0x127+0xd*-0x1df));}return _0x51d091;}['_readPixel'+'sFlat'](_0x17ad42,_0x4b5c2a,_0x310549){return _0x17ad42['remainingB'+'ytes']===_0x4b5c2a*_0x310549*(-0x254b+0x2585+-0x36)?new Uint8Array(_0x17ad42['arraybuffe'+'r'],_0x17ad42['offset']):null;}}const $g={'repeat':nt,'clamp':oe,'mirror':zf},qg={'nearest':fe,'linear':at,'nearest_mip_nearest':yc,'linear_mip_nearest':Sc,'nearest_mip_linear':xc,'linear_mip_linear':an},WL={'default':Bi,'rgbm':ln,'rgbe':cp,'rgbp':ko,'swizzleGGGR':dp},$L=function(_0x12c798){const _0x4c6506=Li['calcMipLev'+'elsCount'](_0x12c798['_width'],_0x12c798['_height']),_0x21b036=function(_0xf1e1f6){return _0xf1e1f6 instanceof HTMLCanvasElement||_0xf1e1f6 instanceof HTMLImageElement||_0xf1e1f6 instanceof HTMLVideoElement;};if(!(_0x12c798['_format']===Te||_0x12c798['_format']===et)||_0x12c798['_volume']||_0x12c798['_compresse'+'d']||_0x12c798['_levels']['length']===-0x1255+-0xcda*-0x1+-0x1*-0x57c||_0x12c798['_levels']['length']===_0x4c6506||_0x21b036(_0x12c798['_cubemap']?_0x12c798['_levels'][-0x4d5+0x5*0x11c+0xb7*-0x1][0x1e6b+-0x298*0xa+-0x47b]:_0x12c798['_levels'][0x3*-0xae4+0x25dd+-0x531]))return;const _0x27f046=function(_0x4855ac,_0x39d50f,_0xbf3aa7){const _0x14b7c6=Math['max'](-0x247e+-0x596+0x2a15,_0x4855ac>>0x5*-0x61b+-0x1*-0x50b+0x197d),_0x18852d=Math['max'](0xb56+0x1399+-0x6b*0x4a,_0x39d50f>>-0xfb*-0x1d+0xfb*-0x7+-0x1591*0x1),_0xdd0ac9=new _0xbf3aa7['constructo'+'r'](_0x14b7c6*_0x18852d*(0x1*0xd65+-0x548*0x2+-0x2d1)),_0x273904=Math['floor'](_0x4855ac/_0x14b7c6),_0x561083=Math['floor'](_0x39d50f/_0x18852d),_0x17406b=_0x273904*_0x561083;for(let _0x4439f0=-0x1*-0x92b+-0xb12+0x1e7*0x1;_0x4439f0<_0x18852d;++_0x4439f0)for(let _0x145c7c=-0xffb+0x1bd8+-0xbdd;_0x145c7c<_0x14b7c6;++_0x145c7c)for(let _0x1533dd=-0x6*-0x449+0x1d3e+-0x36f4;_0x1533dd<-0x244+0x4f8+-0x2b0;++_0x1533dd){let _0x23dd6e=-0x1*0x897+-0x15ad+0xf22*0x2;for(let _0x47361f=-0x13+-0xa4*-0xb+-0x6f9;_0x47361f<_0x561083;++_0x47361f)for(let _0x46eec8=0x3e5+-0x1e69+-0x6a1*-0x4;_0x46eec8<_0x273904;++_0x46eec8)_0x23dd6e+=_0xbf3aa7[(_0x145c7c*_0x273904+_0x46eec8+(_0x4439f0*_0x561083+_0x47361f)*_0x4855ac)*(0x26a+0xbf9+-0xe5f)+_0x1533dd];_0xdd0ac9[(_0x145c7c+_0x4439f0*_0x14b7c6)*(0xa40+-0x1f98+0xaae*0x2)+_0x1533dd]=_0x23dd6e/_0x17406b;}return _0xdd0ac9;};for(let _0x54e546=_0x12c798['_levels']['length'];_0x54e546<_0x4c6506;++_0x54e546){const _0x241398=Math['max'](-0x11aa+0x14eb+-0x340,_0x12c798['_width']>>_0x54e546-(0x427+0x1213+-0x1*0x1639)),_0x3d9623=Math['max'](0x1139+-0x490+0x21c*-0x6,_0x12c798['_height']>>_0x54e546-(-0xd7b+0x211*0x1+0xb6b));if(_0x12c798['_cubemap']){const _0x1d3a3c=[];for(let _0x5f42a5=-0x26*-0x6b+-0x75e*0x5+0x14f4;_0x5f42a5<-0x111*-0xc+-0x1641+-0x97b*-0x1;++_0x5f42a5)_0x1d3a3c['push'](_0x27f046(_0x241398,_0x3d9623,_0x12c798['_levels'][_0x54e546-(-0x322*0x2+0x1*-0xb51+0x1196)][_0x5f42a5]));_0x12c798['_levels']['push'](_0x1d3a3c);}else _0x12c798['_levels']['push'](_0x27f046(_0x241398,_0x3d9623,_0x12c798['_levels'][_0x54e546-(-0xb11*-0x3+-0x14*-0x106+-0x2*0x1ad5)]));}_0x12c798['_levelsUpd'+'ated']=_0x12c798['_cubemap']?[[!(-0x1202+0xcf6+-0x11*-0x4c),!(-0xd83+0x1bc7+-0xa6*0x16),!(0x1592+-0x2533*-0x1+-0x33*0x127),!(0x627+0x239b+-0x1*0x29c2),!(0xb*-0x283+0x1bd*-0x7+-0xc*-0x351),!(-0x2203+-0x53*0x5d+-0x17e*-0x2b)]]:[!(-0xe7*0x7+0x2699+0x2*-0x1024)];};class qL extends Ge{constructor(_0x5e5104){super(_0x5e5104,'texture');const _0xb7640d=_0x5e5104['assets'],_0x4fb00f=_0x5e5104['graphicsDe'+'vice'];this['_device']=_0x4fb00f,this['_assets']=_0xb7640d,this['imgParser']=new OL(_0xb7640d,_0x4fb00f),this['parsers']={'dds':new GL(_0xb7640d),'ktx':new zL(_0xb7640d),'ktx2':new VL(_0xb7640d,_0x4fb00f),'basis':new DL(_0xb7640d,_0x4fb00f),'hdr':new HL(_0xb7640d)};}set['crossOrigi'+'n'](_0x5cc059){this['imgParser']['crossOrigi'+'n']=_0x5cc059;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x1f0b96){this['imgParser']['maxRetries']=_0x1f0b96;for(const _0x4408fa in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x4408fa)&&(this['parsers'][_0x4408fa]['maxRetries']=_0x1f0b96);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x3e6b22){return _0x3e6b22['indexOf']('?')>=0x2414+-0x628+-0x17f*0x14?_0x3e6b22['split']('?')[0x1cd9+0x1*0x19f2+-0xd*0x437]:_0x3e6b22;}['_getParser'](_0x56159d){const _0x539cb9=me['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x56159d))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x539cb9]||this['imgParser'];}['_getTextur'+'eOptions'](_0x2b90b6){var _0x242d83;const _0x208b00={'profilerHint':fr};if(_0x2b90b6){((_0x242d83=_0x2b90b6['name'])==null?void(-0x227c+0xc31+0x164b):_0x242d83['length'])>0x1*0xc48+0x2*-0x2b9+-0x6d6&&(_0x208b00['name']=_0x2b90b6['name']);const _0x4f298d=_0x2b90b6['data'];_0x4f298d['hasOwnProp'+'erty']('minfilter')&&(_0x208b00['minFilter']=qg[_0x4f298d['minfilter']]),_0x4f298d['hasOwnProp'+'erty']('magfilter')&&(_0x208b00['magFilter']=qg[_0x4f298d['magfilter']]),_0x4f298d['hasOwnProp'+'erty']('addressu')&&(_0x208b00['addressU']=$g[_0x4f298d['addressu']]),_0x4f298d['hasOwnProp'+'erty']('addressv')&&(_0x208b00['addressV']=$g[_0x4f298d['addressv']]),_0x4f298d['hasOwnProp'+'erty']('mipmaps')&&(_0x208b00['mipmaps']=_0x4f298d['mipmaps']),_0x4f298d['hasOwnProp'+'erty']('anisotropy')&&(_0x208b00['anisotropy']=_0x4f298d['anisotropy']),_0x4f298d['hasOwnProp'+'erty']('flipY')&&(_0x208b00['flipY']=!!_0x4f298d['flipY']),_0x4f298d['hasOwnProp'+'erty']('srgb')&&(_0x208b00['srgb']=!!_0x4f298d['srgb']),_0x4f298d['hasOwnProp'+'erty']('type')?_0x208b00['type']=WL[_0x4f298d['type']]:_0x4f298d['hasOwnProp'+'erty']('rgbm')&&_0x4f298d['rgbm']?_0x208b00['type']=ln:_0x2b90b6['file']&&(_0x2b90b6['file']['opt']&-0x7dc*0x1+-0x202*-0xb+-0x17*0x9e)!==-0x65*0x62+0x1c17+0xa93&&(_0x208b00['type']=dp);}return _0x208b00;}['load'](_0x127218,_0x1e802f,_0x5ab735){typeof _0x127218=='string'&&(_0x127218={'load':_0x127218,'original':_0x127218}),this['_getParser'](_0x127218['original'])['load'](_0x127218,_0x1e802f,_0x5ab735);}['open'](_0x39eb2c,_0x74843c,_0x54a660){if(!_0x39eb2c)return;const _0x4c6fc5=this['_getTextur'+'eOptions'](_0x54a660);let _0x5972b4=this['_getParser'](_0x39eb2c)['open'](_0x39eb2c,_0x74843c,this['_device'],_0x4c6fc5);return _0x5972b4===null?_0x5972b4=new ce(this['_device'],{'width':0x4,'height':0x4,'format':ur}):($L(_0x5972b4),_0x74843c['unswizzled'+'GGGR']&&(_0x54a660['file']['variants']['basis']['opt']&=-(-0xa6c*0x2+0x1390+-0x151*-0x1))),_0x5972b4;}['patch'](_0x57dca9,_0x2fb584){const _0x41367f=_0x57dca9['resource'];if(!_0x41367f)return;const _0x44b5bf=this['_getTextur'+'eOptions'](_0x57dca9);for(const _0x35d98a of Object['keys'](_0x44b5bf))_0x41367f[_0x35d98a]=_0x44b5bf[_0x35d98a];}}const XL='inline',jL='immersive-'+'vr',Po='immersive-'+'ar',Xg='viewer',YL='left',KL='cpu-optimi'+'zed',Nx='gpu-optimi'+'zed',zx='luminance-'+'alpha',Ux='unsigned-s'+'hort',Vx='float32';class ZL{constructor(_0xd8ba36){c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRDOMOverl'+'ayState']),c(this,'_root',null),this['_manager']=_0xd8ba36;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0xcdfb0){!this['_supported']||this['_manager']['active']||(this['_root']=_0xcdfb0);}get['root'](){return this['_root'];}}const lh=[],jg=[];class Rf extends de{constructor(_0x3433f9,_0x37d812,_0xe79aa6,_0x2cb17d=null){super(),c(this,'manager'),c(this,'_xrHitTest'+'Source'),c(this,'_transient'),c(this,'_inputSour'+'ce'),(this['manager']=_0x3433f9,this['_xrHitTest'+'Source']=_0x37d812,this['_transient']=_0xe79aa6,this['_inputSour'+'ce']=_0x2cb17d);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0xfff666=this['manager']['hitTest']['sources'],_0x13e172=_0xfff666['indexOf'](this);_0x13e172!==-(-0x1d54+0x33d*0x2+0x16db)&&_0xfff666['splice'](_0x13e172,0x1*0x12a1+-0x92b+-0x975),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x445f11){if(this['_transient']){const _0x564267=_0x445f11['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x5a8ea7=-0x124*-0x1d+-0x1*-0xe3+-0x21f7;_0x5a8ea7<_0x564267['length'];_0x5a8ea7++){const _0x2f8097=_0x564267[_0x5a8ea7];if(!_0x2f8097['results']['length'])continue;let _0x1b96e7;_0x2f8097['inputSourc'+'e']&&(_0x1b96e7=this['manager']['input']['_getByInpu'+'tSource'](_0x2f8097['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x2f8097['results'],_0x1b96e7);}}else{const _0x4d6c66=_0x445f11['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x4d6c66['length'])return;this['updateHitR'+'esults'](_0x4d6c66);}}['updateHitR'+'esults'](_0x3ef483,_0x553a78){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x553a78)return;const _0x239abc=lh['pop']()??new A();_0x553a78?_0x239abc['copy'](_0x553a78['getOrigin']()):_0x239abc['copy'](this['manager']['camera']['getPositio'+'n']());let _0x177298=(0x1*-0x1675+0x2c*0x19+0x122a)/(-0x1*0x1c87+0xda*0x1d+0x3d5),_0x32557b=null;const _0x2ddb94=lh['pop']()??new A(),_0x6ea021=jg['pop']()??new ie();for(let _0xdffa44=0x705*0x3+0x1591*0x1+-0x3e*0xb0;_0xdffa44<_0x3ef483['length'];_0xdffa44++){const _0x5a39a9=_0x3ef483[_0xdffa44]['getPose'](this['manager']['_reference'+'Space']),_0x24c08a=_0x239abc['distance'](_0x5a39a9['transform']['position']);_0x24c08a>=_0x177298||(_0x177298=_0x24c08a,_0x32557b=_0x3ef483[_0xdffa44],_0x2ddb94['copy'](_0x5a39a9['transform']['position']),_0x6ea021['copy'](_0x5a39a9['transform']['orientatio'+'n']));}this['fire']('result',_0x2ddb94,_0x6ea021,_0x553a78||this['_inputSour'+'ce'],_0x32557b),this['manager']['hitTest']['fire']('result',this,_0x2ddb94,_0x6ea021,_0x553a78||this['_inputSour'+'ce'],_0x32557b),lh['push'](_0x239abc),lh['push'](_0x2ddb94),jg['push'](_0x6ea021);}}c(Rf,'EVENT_REMO'+'VE','remove'),c(Rf,'EVENT_RESU'+'LT','result');class Br extends de{constructor(_0x4765c6){super(),c(this,'manager'),c(this,'_supported',be['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),c(this,'_available',!(0x221+0x1367+0xb*-0x1f5)),c(this,'_checkingA'+'vailabilit'+'y',!(-0x59*-0x4+0x14+-0x19*0xf)),c(this,'sources',[]),(this['manager']=_0x4765c6,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x46da20=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0xad*-0xa+-0x1751+0x6a*0x28);if(!_0x46da20)return;this['_available']=_0x46da20,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x5a7*-0x4+0x176a+0x89*-0x56),this['manager']['session']['requestRef'+'erenceSpac'+'e'](Xg)['then'](_0x54b082=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x54b082})['then'](_0x4b0eaf=>{_0x4b0eaf['cancel'](),this['manager']['active']&&(this['_available']=!(-0xa98+0x1a*0xc5+-0x96a),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x3b7+-0x1dcc+0x2184);for(let _0x2aeced=0xef7+-0x855+0x6a2*-0x1;_0x2aeced<this['sources']['length'];_0x2aeced++)this['sources'][_0x2aeced]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x133fa8={}){var _0x58679e,_0x465cbc;if(!this['_supported']){(_0x58679e=_0x133fa8['callback'])==null||_0x58679e['call'](_0x133fa8,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x465cbc=_0x133fa8['callback'])==null||_0x465cbc['call'](_0x133fa8,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x133fa8['profile']&&!_0x133fa8['spaceType']&&(_0x133fa8['spaceType']=Xg);let _0x1de533;const _0x56e51f=_0x133fa8['offsetRay'];if(_0x56e51f){const _0x33f262=new DOMPoint(_0x56e51f['origin']['x'],_0x56e51f['origin']['y'],_0x56e51f['origin']['z'],0x14d7+0x1bb0+-0x3086),_0x33c917=new DOMPoint(_0x56e51f['direction']['x'],_0x56e51f['direction']['y'],_0x56e51f['direction']['z'],0x2c*0xae+-0x21*0x1f+-0x19e9);_0x1de533=new XRRay(_0x33f262,_0x33c917);}const _0x400efe=_0x133fa8['callback'];_0x133fa8['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x133fa8['spaceType'])['then'](_0x4f195d=>{if(!this['manager']['session']){const _0x6e375=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x400efe&&_0x400efe(_0x6e375),this['fire']('error',_0x6e375);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x4f195d,'entityTypes':_0x133fa8['entityType'+'s']||void(-0x389*-0x3+-0xc99+0x1fe),'offsetRay':_0x1de533})['then'](_0x18b9f9=>{this['_onHitTest'+'Source'](_0x18b9f9,!(-0xa13+0x1252+-0x83e),_0x133fa8['inputSourc'+'e'],_0x400efe);})['catch'](_0x4fbe95=>{_0x400efe&&_0x400efe(_0x4fbe95),this['fire']('error',_0x4fbe95);});})['catch'](_0xc53b01=>{_0x400efe&&_0x400efe(_0xc53b01),this['fire']('error',_0xc53b01);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x133fa8['profile'],'entityTypes':_0x133fa8['entityType'+'s']||void(0xf1*0x3+0x9f*0x3+-0x4b0),'offsetRay':_0x1de533})['then'](_0x16275e=>{this['_onHitTest'+'Source'](_0x16275e,!(0x1874+-0xa76+-0xdfe),_0x133fa8['inputSourc'+'e'],_0x400efe);})['catch'](_0x5f1575=>{_0x400efe&&_0x400efe(_0x5f1575),this['fire']('error',_0x5f1575);});}['_onHitTest'+'Source'](_0x2582da,_0xf4f2a,_0x18089e,_0x2c504f){if(!this['manager']['session']){_0x2582da['cancel']();const _0x3bc553=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x2c504f&&_0x2c504f(_0x3bc553),this['fire']('error',_0x3bc553);return;}const _0x2eea5f=new Rf(this['manager'],_0x2582da,_0xf4f2a,_0x18089e??null);this['sources']['push'](_0x2eea5f),_0x2c504f&&_0x2c504f(null,_0x2eea5f),this['fire']('add',_0x2eea5f);}['update'](_0x3143e5){if(this['_available']){for(let _0x28e226=-0x1dd+-0x2245+-0x73a*-0x5;_0x28e226<this['sources']['length'];_0x28e226++)this['sources'][_0x28e226]['update'](_0x3143e5);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}c(Br,'EVENT_AVAI'+'LABLE','available'),c(Br,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Br,'EVENT_ADD','add'),c(Br,'EVENT_REMO'+'VE','remove'),c(Br,'EVENT_RESU'+'LT','result'),c(Br,'EVENT_ERRO'+'R','error');class If extends de{constructor(_0x44ad87,_0x1f20ad){super(),c(this,'_image'),c(this,'_width'),c(this,'_bitmap',null),c(this,'_measuredW'+'idth',0x2*-0x4d2+-0x77f+-0x1123*-0x1),c(this,'_trackable',!(-0x1b3a+0x1470+-0x2f*-0x25)),c(this,'_tracking',!(0x1726+-0x1ee1+-0x6e*-0x12)),c(this,'_emulated',!(-0x2*-0x5c+-0x291+0x2*0xed)),c(this,'_pose',null),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_image']=_0x44ad87,this['_width']=_0x1f20ad);}get['image'](){return this['_image'];}set['width'](_0x181cd1){this['_width']=_0x181cd1;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x454058=>(this['_bitmap']=_0x454058,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}c(If,'EVENT_TRAC'+'KED','tracked'),c(If,'EVENT_UNTR'+'ACKED','untracked');class Gx extends de{constructor(_0x5ec2cd){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),c(this,'_available',!(-0x1e2*-0x1+-0xa92+0x1bd*0x5)),c(this,'_images',[]),(this['_manager']=_0x5ec2cd,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x59012a,_0x26b421){if(!this['_supported']||this['_manager']['active'])return null;const _0x5d40d4=new If(_0x59012a,_0x26b421);return this['_images']['push'](_0x5d40d4),_0x5d40d4;}['remove'](_0x51a4e4){if(this['_manager']['active'])return;const _0x471f62=this['_images']['indexOf'](_0x51a4e4);_0x471f62!==-(0x12ee*-0x1+-0x1319+0x4c1*0x8)&&(_0x51a4e4['destroy'](),this['_images']['splice'](_0x471f62,-0x26*-0xa3+0x1*-0x1e01+0x5d0));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0xb59520=>{this['_available']=!(0x2076+0x548+-0x25be);for(let _0xe8a3=0x99*-0x1b+-0xbeb*-0x2+-0x7b3;_0xe8a3<_0xb59520['length'];_0xe8a3++)this['_images'][_0xe8a3]['_trackable']=_0xb59520[_0xe8a3]==='trackable';})['catch'](_0x33e433=>{this['_available']=!(-0x143c+-0x3*-0x2f1+-0x5b5*-0x2),this['fire']('error',_0x33e433);});}['_onSession'+'End'](){this['_available']=!(0xcef+0x1e1*-0x2+-0x1*0x92c);for(let _0x7dab24=0x1b*-0xe5+0x2535+-0xd0e;_0x7dab24<this['_images']['length'];_0x7dab24++){const _0x86803c=this['_images'][_0x7dab24];_0x86803c['_pose']=null,_0x86803c['_measuredW'+'idth']=-0xf91+0x3*0x423+-0x4*-0xca,_0x86803c['_tracking']&&(_0x86803c['_tracking']=!(0xf41+-0x5c9*0x5+0xdad),_0x86803c['fire']('untracked'));}}['prepareIma'+'ges'](_0x5815c0){this['_images']['length']?Promise['all'](this['_images']['map'](_0xc44ae=>_0xc44ae['prepare']()))['then'](_0x670b53=>{_0x5815c0(null,_0x670b53);})['catch'](_0x3e003b=>{_0x5815c0(_0x3e003b,null);}):_0x5815c0(null,null);}['update'](_0x26a5d6){if(!this['_available'])return;const _0x5c48b0=_0x26a5d6['getImageTr'+'ackingResu'+'lts'](),_0x4d6a91={};for(let _0x4ebe93=0xb69+-0x1135*-0x2+0x2dd3*-0x1;_0x4ebe93<_0x5c48b0['length'];_0x4ebe93++){_0x4d6a91[_0x5c48b0[_0x4ebe93]['index']]=_0x5c48b0[_0x4ebe93];const _0x372bc5=this['_images'][_0x5c48b0[_0x4ebe93]['index']];_0x372bc5['_emulated']=_0x5c48b0[_0x4ebe93]['trackingSt'+'ate']==='emulated',_0x372bc5['_measuredW'+'idth']=_0x5c48b0[_0x4ebe93]['measuredWi'+'dthInMeter'+'s'],_0x372bc5['_pose']=_0x26a5d6['getPose'](_0x5c48b0[_0x4ebe93]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x4cb927=0x191c+-0x1656+-0x2c6;_0x4cb927<this['_images']['length'];_0x4cb927++)this['_images'][_0x4cb927]['_tracking']&&!_0x4d6a91[_0x4cb927]?(this['_images'][_0x4cb927]['_tracking']=!(-0x993+-0xc1b*0x1+0x15af),this['_images'][_0x4cb927]['fire']('untracked')):!this['_images'][_0x4cb927]['_tracking']&&_0x4d6a91[_0x4cb927]&&(this['_images'][_0x4cb927]['_tracking']=!(0x204a+-0x2483+-0x2f*-0x17),this['_images'][_0x4cb927]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}c(Gx,'EVENT_ERRO'+'R','error');class QL{constructor(_0x220d3f,_0x44ba66){c(this,'_index'),c(this,'_hand'),c(this,'_joints',[]),c(this,'_tip',null),(this['_index']=_0x220d3f,this['_hand']=_0x44ba66,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const Yg=be['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],Hx={};for(let l=-0x386*0x9+-0x3*0xef+0x2283;l<Yg['length'];l++)Hx[Yg[l]]=!(0x567+0x265a*0x1+-0x2bc1);class Kg{constructor(_0x104733,_0x3dd4fa,_0xe5f188,_0x3afe98=null){c(this,'_index'),c(this,'_id'),c(this,'_hand'),c(this,'_finger'),c(this,'_wrist'),c(this,'_tip'),c(this,'_radius',null),c(this,'_localTran'+'sform',new q()),c(this,'_worldTran'+'sform',new q()),c(this,'_localPosi'+'tion',new A()),c(this,'_localRota'+'tion',new ie()),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_dirtyLoca'+'l',!(0x15d7+0x10d5*0x2+-0x3781)),(this['_index']=_0x104733,this['_id']=_0x3dd4fa,this['_hand']=_0xe5f188,this['_finger']=_0x3afe98,this['_wrist']=_0x3dd4fa==='wrist',this['_tip']=this['_finger']&&!!Hx[_0x3dd4fa]);}['update'](_0x69bb86){this['_dirtyLoca'+'l']=!(-0x4f3+0x412+0xe1),this['_radius']=_0x69bb86['radius'],this['_localPosi'+'tion']['copy'](_0x69bb86['transform']['position']),this['_localRota'+'tion']['copy'](_0x69bb86['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x1b21+-0x99*0x36+0x526),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],A['ONE']));const _0x586eb9=this['_hand']['_manager']['camera']['parent'];_0x586eb9?this['_worldTran'+'sform']['mul2'](_0x586eb9['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x545+0x91*0x34+-0x182f+0.005;}}let Ah=[];const Dr=new A(),hh=new A(),Zg=new A();be['browser']&&window['XRHand']&&(Ah=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Df extends de{constructor(_0x405181){super(),c(this,'_manager'),c(this,'_inputSour'+'ce'),c(this,'_tracking',!(0x154d+-0x43*0x7a+-0x1*-0xaa2)),c(this,'_fingers',[]),c(this,'_joints',[]),c(this,'_jointsByI'+'d',{}),c(this,'_tips',[]),c(this,'_wrist',null);const _0x3f14a3=_0x405181['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x405181['_manager'],this['_inputSour'+'ce']=_0x405181,_0x3f14a3['get']('wrist')){const _0x17340c=new Kg(-0x228*0x7+0x13dd+-0x4c5,'wrist',this,null);this['_wrist']=_0x17340c,this['_joints']['push'](_0x17340c),this['_jointsByI'+'d']['wrist']=_0x17340c;}for(let _0xd01ee=-0x261e+0x177a+0xea4;_0xd01ee<Ah['length'];_0xd01ee++){const _0x29fb06=new QL(_0xd01ee,this);for(let _0x930ae3=0x1*0x511+0x632+-0xb43;_0x930ae3<Ah[_0xd01ee]['length'];_0x930ae3++){const _0x40989f=Ah[_0xd01ee][_0x930ae3];if(!_0x3f14a3['get'](_0x40989f))continue;const _0x2a8bea=new Kg(_0x930ae3,_0x40989f,this,_0x29fb06);this['_joints']['push'](_0x2a8bea),this['_jointsByI'+'d'][_0x40989f]=_0x2a8bea,_0x2a8bea['tip']&&(this['_tips']['push'](_0x2a8bea),_0x29fb06['_tip']=_0x2a8bea),_0x29fb06['_joints']['push'](_0x2a8bea);}}}['update'](_0x21bc99){const _0x1628c5=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x4a1fb6=-0x87d*0x3+0x9fc+0x1*0xf7b;_0x4a1fb6<this['_joints']['length'];_0x4a1fb6++){const _0x248dcb=this['_joints'][_0x4a1fb6],_0x304993=_0x1628c5['hand']['get'](_0x248dcb['_id']);if(_0x304993){let _0x313ced;if(_0x21bc99['session']['visibility'+'State']!=='hidden'&&(_0x313ced=_0x21bc99['getJointPo'+'se'](_0x304993,this['_manager']['_reference'+'Space'])),_0x313ced)_0x248dcb['update'](_0x313ced),_0x248dcb['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x1*0x54f+0x3b*-0x3a+0x80f),this['fire']('tracking'));else{if(_0x248dcb['wrist']){this['_tracking']&&(this['_tracking']=!(0xee+-0x115*-0x1f+0x44f*-0x8),this['fire']('trackinglo'+'st'));break;}}}}const _0x1538ea=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x2f6398=this['_jointsByI'+'d']['thumb-tip'],_0x10529b=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x10e74f=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x35aa4e=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x547c99=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x1538ea&&_0x2f6398&&_0x10529b&&_0x10e74f&&_0x35aa4e&&_0x547c99){this['_inputSour'+'ce']['_dirtyRay']=!(-0x1b6b+-0x10d+0x4*0x71e),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x2f6398['_localPosi'+'tion'],_0x10e74f['_localPosi'+'tion'],-0x216a+0x1389+0xde1+0.5);let _0xed6c17=_0x1538ea,_0x4ae6ad=_0x547c99;if(this['_inputSour'+'ce']['handedness']===YL){const _0x11adc9=_0xed6c17;_0xed6c17=_0x4ae6ad,_0x4ae6ad=_0x11adc9;}Dr['sub2'](_0xed6c17['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),hh['sub2'](_0x4ae6ad['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Zg['cross'](Dr,hh)['normalize'](),Dr['lerp'](_0x10529b['_localPosi'+'tion'],_0x35aa4e['_localPosi'+'tion'],-0x9*-0x368+-0x1fc5+0x11d+0.5),Dr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](Zg,Dr,-0x67*-0x3+-0x284+-0x5*-0x43+0.5)['normalize']();}this['_fingerIsC'+'losed'](0xe76+0x25f9+-0x346e)&&this['_fingerIsC'+'losed'](-0x1aff+-0x7d8+-0x1*-0x22d9)&&this['_fingerIsC'+'losed'](0x511+-0x16de*-0x1+0x2*-0xdf6)&&this['_fingerIsC'+'losed'](0x22e7+0x1c6a*-0x1+-0x679)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(0x1fe9+0x25f+-0x2248),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x1*-0x23e3+-0xe37+-0x15ab),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x2d3b99){const _0x1f6828=this['_fingers'][_0x2d3b99];return Dr['sub2'](_0x1f6828['joints'][0x242*0x3+-0x1a5e+0x1398]['_localPosi'+'tion'],_0x1f6828['joints'][0x84d+-0x2*0x833+0x81a*0x1]['_localPosi'+'tion'])['normalize'](),hh['sub2'](_0x1f6828['joints'][-0x15b3+-0x1272+0x2827]['_localPosi'+'tion'],_0x1f6828['joints'][-0x3a*-0x61+0x184e+-0x2e45]['_localPosi'+'tion'])['normalize'](),Dr['dot'](hh)<-(-0x1e1b+0x2516+-0x1*0x6fb+0.8);}['getJointBy'+'Id'](_0x385cdf){return this['_jointsByI'+'d'][_0x385cdf]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}c(Df,'EVENT_TRAC'+'KING','tracking'),c(Df,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const Qg=new A(),Jg=new ie();let JL=0x14ff+-0x11c3+-0x33c;class As extends de{constructor(_0x375233,_0x5a45a8){super(),c(this,'_id'),c(this,'_manager'),c(this,'_xrInputSo'+'urce'),c(this,'_ray',new _u()),c(this,'_rayLocal',new _u()),c(this,'_grip',!(-0x151+-0xd54*-0x1+-0x6a*0x1d)),c(this,'_hand',null),c(this,'_velocitie'+'sAvailable',!(0x19d4+0x472*0x3+-0x2729)),c(this,'_velocitie'+'sTimestamp',ae()),c(this,'_localTran'+'sform',null),c(this,'_worldTran'+'sform',null),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_localPosi'+'tion',null),c(this,'_localPosi'+'tionLast',null),c(this,'_localRota'+'tion',null),c(this,'_linearVel'+'ocity',null),c(this,'_dirtyLoca'+'l',!(-0x1*0x22fe+-0x1c1b+0x3f19)),c(this,'_dirtyRay',!(-0x10d2+0x5e*0x29+-0x97*-0x3)),c(this,'_selecting',!(0xcd*0xd+0x63*-0x35+-0x7*-0x171)),c(this,'_squeezing',!(-0x1c0e+-0x3b1*0x9+0x94*0x6a)),c(this,'_elementIn'+'put',!(0x206c+0x678+-0x26e4)),c(this,'_elementEn'+'tity',null),c(this,'_hitTestSo'+'urces',[]),(this['_id']=++JL,this['_manager']=_0x375233,this['_xrInputSo'+'urce']=_0x5a45a8,_0x5a45a8['hand']&&(this['_hand']=new Df(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x2757e4){this['_elementIn'+'put']!==_0x2757e4&&(this['_elementIn'+'put']=_0x2757e4,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x37eebd){if(this['_hand'])this['_hand']['update'](_0x37eebd);else{const _0x44e532=this['_xrInputSo'+'urce']['gripSpace'];if(_0x44e532){const _0x31d73f=_0x37eebd['getPose'](_0x44e532,this['_manager']['_reference'+'Space']);if(_0x31d73f){this['_grip']||(this['_grip']=!(0x1d24+0x1*-0x241d+0x6f9),this['_localTran'+'sform']=new q(),this['_worldTran'+'sform']=new q(),this['_localPosi'+'tionLast']=new A(),this['_localPosi'+'tion']=new A(),this['_localRota'+'tion']=new ie(),this['_linearVel'+'ocity']=new A());const _0x5d590c=ae(),_0x21fe4a=(_0x5d590c-this['_velocitie'+'sTimestamp'])/(0x1f4a+-0x224d+0x6eb*0x1);this['_velocitie'+'sTimestamp']=_0x5d590c,this['_dirtyLoca'+'l']=!(-0x5*0xd7+-0x1aaa+0x1edd*0x1),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x31d73f['transform']['position']),this['_localRota'+'tion']['copy'](_0x31d73f['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(0x1712+0x1b24+0x3236*-0x1),this['_manager']['input']['velocities'+'Supported']&&_0x31d73f['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x31d73f['linearVelo'+'city']):_0x21fe4a>-0x2a0+0x1617+-0x1377&&(Qg['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x21fe4a),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],Qg,-0x384+-0x1*-0x9a8+0x2*-0x312+0.15));}else this['_velocitie'+'sAvailable']=!(-0x39*-0x51+0x207a+-0x3282);}const _0x144337=_0x37eebd['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x144337&&(this['_dirtyRay']=!(0x161f+-0xfec+0x1*-0x633),this['_rayLocal']['origin']['copy'](_0x144337['transform']['position']),this['_rayLocal']['direction']['set'](0x2427+0x1e4f+-0x4276,-0xa7*0x1d+-0x989+0x1c74,-(-0x2501+0x105*-0x13+0x351*0x11)),Jg['copy'](_0x144337['transform']['orientatio'+'n']),Jg['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x2*-0x64e+-0x658+-0x643),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],A['ONE']));const _0x3eaef4=this['_manager']['camera']['parent'];_0x3eaef4?this['_worldTran'+'sform']['mul2'](_0x3eaef4['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x569fc3=this['_dirtyRay'];if(this['_dirtyRay']=!(0x5*0x401+0x2*-0xad7+0x1aa),this['_manager']['camera']['parent']){const _0x8a5657=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x8a5657['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x8a5657),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x569fc3&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x19698f={}){_0x19698f['inputSourc'+'e']=this,_0x19698f['profile']=this['_xrInputSo'+'urce']['profiles'][0x147b+0xb5*-0x1+-0x13c6];const _0x2c8f1d=_0x19698f['callback'];_0x19698f['callback']=(_0x4d101e,_0x5d8278)=>{_0x5d8278&&this['onHitTestS'+'ourceAdd'](_0x5d8278),_0x2c8f1d&&_0x2c8f1d(_0x4d101e,_0x5d8278);},this['_manager']['hitTest']['start'](_0x19698f);}['onHitTestS'+'ourceAdd'](_0x299482){this['_hitTestSo'+'urces']['push'](_0x299482),this['fire']('hittest:ad'+'d',_0x299482),_0x299482['on']('result',(_0x41077a,_0x5953ca,_0x3813e8,_0x190a21)=>{_0x3813e8===this&&this['fire']('hittest:re'+'sult',_0x299482,_0x41077a,_0x5953ca,_0x190a21);}),_0x299482['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x299482),this['fire']('hittest:re'+'move',_0x299482);});}['onHitTestS'+'ourceRemov'+'e'](_0x621619){const _0xf29091=this['_hitTestSo'+'urces']['indexOf'](_0x621619);_0xf29091!==-(-0x1294+0x1ad7+-0x842)&&this['_hitTestSo'+'urces']['splice'](_0xf29091,-0xbc7+0x63c+0x58c);}}c(As,'EVENT_REMO'+'VE','remove'),c(As,'EVENT_SELE'+'CT','select'),c(As,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(As,'EVENT_SELE'+'CTEND','selectend'),c(As,'EVENT_SQUE'+'EZE','squeeze'),c(As,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(As,'EVENT_SQUE'+'EZEEND','squeezeend'),c(As,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),c(As,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),c(As,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class gi extends de{constructor(_0x564493){var _0x52b324,_0x289768;super(),c(this,'manager'),c(this,'_inputSour'+'ces',[]),c(this,'_onInputSo'+'urcesChang'+'eEvt'),c(this,'velocities'+'Supported',!(0x248e+-0x17de+0xbf*-0x11)),(this['manager']=_0x564493,this['velocities'+'Supported']=!!(be['browser']&&((_0x289768=(_0x52b324=window['XRPose'])==null?void(-0x301*-0x7+0xc77+0x6*-0x595):_0x52b324['prototype'])!=null&&_0x289768['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x34d31c=>{this['_onInputSo'+'urcesChang'+'e'](_0x34d31c);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x318054=this['manager']['session'];_0x318054['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x318054['addEventLi'+'stener']('select',_0x1aa715=>{const _0x56b123=this['_getByInpu'+'tSource'](_0x1aa715['inputSourc'+'e']);_0x56b123['update'](_0x1aa715['frame']),_0x56b123['fire']('select',_0x1aa715),this['fire']('select',_0x56b123,_0x1aa715);}),_0x318054['addEventLi'+'stener']('selectstar'+'t',_0x13c3a6=>{const _0x1c329b=this['_getByInpu'+'tSource'](_0x13c3a6['inputSourc'+'e']);_0x1c329b['_selecting']||(_0x1c329b['update'](_0x13c3a6['frame']),_0x1c329b['_selecting']=!(-0x207*0x13+0x362+0x2323),_0x1c329b['fire']('selectstar'+'t',_0x13c3a6),this['fire']('selectstar'+'t',_0x1c329b,_0x13c3a6));}),_0x318054['addEventLi'+'stener']('selectend',_0x1943d7=>{const _0x3fd225=this['_getByInpu'+'tSource'](_0x1943d7['inputSourc'+'e']);_0x3fd225['update'](_0x1943d7['frame']),_0x3fd225['_selecting']=!(-0x1ecf+-0x16a9+0x3579),_0x3fd225['fire']('selectend',_0x1943d7),this['fire']('selectend',_0x3fd225,_0x1943d7);}),_0x318054['addEventLi'+'stener']('squeeze',_0x41dc39=>{const _0x3c1034=this['_getByInpu'+'tSource'](_0x41dc39['inputSourc'+'e']);_0x3c1034['update'](_0x41dc39['frame']),_0x3c1034['fire']('squeeze',_0x41dc39),this['fire']('squeeze',_0x3c1034,_0x41dc39);}),_0x318054['addEventLi'+'stener']('squeezesta'+'rt',_0xcb6eeb=>{const _0x5d8c58=this['_getByInpu'+'tSource'](_0xcb6eeb['inputSourc'+'e']);_0x5d8c58['update'](_0xcb6eeb['frame']),_0x5d8c58['_squeezing']=!(-0x2*0xc8f+0x1d92+0x72*-0xa),_0x5d8c58['fire']('squeezesta'+'rt',_0xcb6eeb),this['fire']('squeezesta'+'rt',_0x5d8c58,_0xcb6eeb);}),_0x318054['addEventLi'+'stener']('squeezeend',_0x32e00d=>{const _0x500b06=this['_getByInpu'+'tSource'](_0x32e00d['inputSourc'+'e']);_0x500b06['update'](_0x32e00d['frame']),_0x500b06['_squeezing']=!(-0x1b68+0x19fd*-0x1+0x3566*0x1),_0x500b06['fire']('squeezeend',_0x32e00d),this['fire']('squeezeend',_0x500b06,_0x32e00d);});const _0xd169f1=_0x318054['inputSourc'+'es'];for(let _0x1ed145=0x39*0x24+-0x9*-0x21f+-0x303*0x9;_0x1ed145<_0xd169f1['length'];_0x1ed145++)this['_addInputS'+'ource'](_0xd169f1[_0x1ed145]);}['_onSession'+'End'](){let _0x12b6c7=this['_inputSour'+'ces']['length'];for(;_0x12b6c7--;){const _0x3bf717=this['_inputSour'+'ces'][_0x12b6c7];this['_inputSour'+'ces']['splice'](_0x12b6c7,-0x2a*0x74+0x1742+-0x2f*0x17),_0x3bf717['fire']('remove'),this['fire']('remove',_0x3bf717);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x2d5cb2){for(let _0x31b2d1=0x113d+0x26a8+0x1*-0x37e5;_0x31b2d1<_0x2d5cb2['removed']['length'];_0x31b2d1++)this['_removeInp'+'utSource'](_0x2d5cb2['removed'][_0x31b2d1]);for(let _0x568596=0xe91+-0x2*-0x1c8+0x165*-0xd;_0x568596<_0x2d5cb2['added']['length'];_0x568596++)this['_addInputS'+'ource'](_0x2d5cb2['added'][_0x568596]);}['_getByInpu'+'tSource'](_0x1c2a8a){for(let _0x574fb3=-0x86d+0xee1*-0x1+0x174e;_0x574fb3<this['_inputSour'+'ces']['length'];_0x574fb3++)if(this['_inputSour'+'ces'][_0x574fb3]['inputSourc'+'e']===_0x1c2a8a)return this['_inputSour'+'ces'][_0x574fb3];return null;}['_removeApp'+'Entity'](_0x5ddccc){const _0x261cb2=this['manager']['app']['root']['findByName']('Armature_'+_0x5ddccc);_0x261cb2&&this['manager']['app']['root']['removeChil'+'d'](_0x261cb2);}['_addInputS'+'ource'](_0x74a3c9){if(this['_removeApp'+'Entity'](_0x74a3c9['handedness']),this['_getByInpu'+'tSource'](_0x74a3c9))return;const _0x547dc8=new As(this['manager'],_0x74a3c9);this['_inputSour'+'ces']['push'](_0x547dc8),this['fire']('add',_0x547dc8);}['_removeInp'+'utSource'](_0xaa3e76){for(let _0x3f99f4=-0x2*-0xb9e+-0x4b*0x67+0x6f1;_0x3f99f4<this['_inputSour'+'ces']['length'];_0x3f99f4++){if(this['_inputSour'+'ces'][_0x3f99f4]['inputSourc'+'e']!==_0xaa3e76)continue;const _0x59dca1=this['_inputSour'+'ces'][_0x3f99f4];this['_inputSour'+'ces']['splice'](_0x3f99f4,-0x2379+-0xba*-0x4+-0x2092*-0x1);let _0x116d88=_0x59dca1['hitTestSou'+'rces']['length'];for(;_0x116d88--;)_0x59dca1['hitTestSou'+'rces'][_0x116d88]['remove']();this['_removeApp'+'Entity'](_0x59dca1['handedness']),_0x59dca1['fire']('remove'),this['fire']('remove',_0x59dca1);return;}}['update'](_0xc3a55d){for(let _0x1cfe8e=0x1f*-0x61+0x202*0xb+-0xa57;_0x1cfe8e<this['_inputSour'+'ces']['length'];_0x1cfe8e++)this['_inputSour'+'ces'][_0x1cfe8e]['update'](_0xc3a55d);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}c(gi,'EVENT_ADD','add'),c(gi,'EVENT_REMO'+'VE','remove'),c(gi,'EVENT_SELE'+'CT','select'),c(gi,'EVENT_SELE'+'CTSTART','selectstar'+'t'),c(gi,'EVENT_SELE'+'CTEND','selectend'),c(gi,'EVENT_SQUE'+'EZE','squeeze'),c(gi,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),c(gi,'EVENT_SQUE'+'EZEEND','squeezeend');const Yn=new A(),ey=new A(),lu=new q(),ty=new q();class Lf extends de{constructor(_0x2628f){super(),c(this,'_manager'),c(this,'_supported',!(-0x8fe+-0xa28*0x1+0x1327)),c(this,'_available',!(-0x1*0x3f2+0x2608+0x5*-0x6d1)),c(this,'_lightProb'+'eRequested',!(0x15*0x14d+0x181e+-0x336e)),c(this,'_lightProb'+'e',null),c(this,'_intensity',0x229d+-0x267b*-0x1+0x923*-0x8),c(this,'_rotation',new ie()),c(this,'_color',new Y()),c(this,'_spherical'+'Harmonics',new Float32Array(-0x22c2*-0x1+-0xdb0+-0x14f7)),(this['_manager']=_0x2628f,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0x2f3+0x1*0x1882+-0x27f*0xb));}['_onSession'+'End'](){this['_supported']=!(0xeb4*0x1+0xd13+-0x1bc6),this['_available']=!(-0x1*0x1aad+0x1b34+0x1*-0x86),this['_lightProb'+'eRequested']=!(-0x19dd+0x20de*0x1+0x20*-0x38),this['_lightProb'+'e']=null;}['start'](){let _0x587084;if(this['_manager']['session']||(_0x587084=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x587084&&this['_manager']['type']!==Po&&(_0x587084=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x587084&&!this['_supported']&&(_0x587084=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x587084&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x587084=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x587084){this['fire']('error',_0x587084);return;}this['_lightProb'+'eRequested']=!(0x664*-0x2+-0x212d+-0x5*-0x931),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x5ae88a=>{const _0x2d334=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x2151+0x2017+0x15cd*-0x3),this['_manager']['active']?_0x2d334&&(this['_lightProb'+'e']=_0x5ae88a):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x1658a1=>{this['_lightProb'+'eRequested']=!(-0x26c2+0x201*0x4+0x1ebf),this['fire']('error',_0x1658a1);});}['end'](){this['_lightProb'+'eRequested']=!(0x21e4+0x2*-0x1277+0x30b*0x1),this['_lightProb'+'e']=null,this['_available']=!(-0x23e3*-0x1+0x16a1+-0x1381*0x3);}['update'](_0x1716f3){if(!this['_lightProb'+'e'])return;const _0x101a6c=_0x1716f3['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x101a6c)return;this['_available']||(this['_available']=!(-0x3e6*-0x7+-0x5*-0x3f1+-0x2eff),this['fire']('available'));const _0x175a40=_0x101a6c['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x436+0x5f*-0x4+0x5b3,Math['max'](_0x175a40['x'],Math['max'](_0x175a40['y'],_0x175a40['z']))),Yn['copy'](_0x175a40)['mulScalar']((-0x4a5*-0x3+-0x127*-0x1f+-0x31a7)/this['_intensity']),this['_color']['set'](Yn['x'],Yn['y'],Yn['z']),Yn['set'](-0x4f*-0x3e+-0x14ae+0x16*0x12,0x1d*-0x13+0x10ff+-0x1db*0x8,0x1d97+-0x1274+-0xb23),ey['copy'](_0x101a6c['primaryLig'+'htDirectio'+'n']),lu['setLookAt'](ey,Yn,A['UP']),ty['setFromAxi'+'sAngle'](A['RIGHT'],0x347+-0x34f*-0x5+-0x26f*0x8),lu['mul'](ty),this['_rotation']['setFromMat'+'4'](lu),this['_spherical'+'Harmonics']['set'](_0x101a6c['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}c(Lf,'EVENT_AVAI'+'LABLE','available'),c(Lf,'EVENT_ERRO'+'R','error');let eF=0x7d2*-0x1+-0x1515+0x1ce7;class Ff extends de{constructor(_0x12d9ed,_0x13f69e){super(),c(this,'_id'),c(this,'_planeDete'+'ction'),c(this,'_xrPlane'),c(this,'_lastChang'+'edTime'),c(this,'_orientati'+'on'),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_id']=++eF,this['_planeDete'+'ction']=_0x12d9ed,this['_xrPlane']=_0x13f69e,this['_lastChang'+'edTime']=_0x13f69e['lastChange'+'dTime'],this['_orientati'+'on']=_0x13f69e['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x4d4b3b){const _0x3ea089=this['_planeDete'+'ction']['_manager'],_0x458d0e=_0x4d4b3b['getPose'](this['_xrPlane']['planeSpace'],_0x3ea089['_reference'+'Space']);_0x458d0e&&(this['_position']['copy'](_0x458d0e['transform']['position']),this['_rotation']['copy'](_0x458d0e['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}c(Ff,'EVENT_REMO'+'VE','remove'),c(Ff,'EVENT_CHAN'+'GE','change');class mo extends de{constructor(_0x1ceb88){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRPlane']),c(this,'_available',!(0x2*-0x15a+0xe25+-0xb70)),c(this,'_planesInd'+'ex',new Map()),c(this,'_planes',[]),(this['_manager']=_0x1ceb88,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0xdd7*0x2+-0xe8b+0xd22*-0x1)&&(this['_available']=!(-0x1e0+-0x2472+-0x2652*-0x1),this['fire']('available'));}['_onSession'+'End'](){for(let _0x3db4a2=-0x2130+-0x213b+0x426b;_0x3db4a2<this['_planes']['length'];_0x3db4a2++)this['_planes'][_0x3db4a2]['destroy'](),this['fire']('remove',this['_planes'][_0x3db4a2]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0x1*-0x1972+0xb*-0x161+-0x289d*-0x1,this['_available']&&(this['_available']=!(-0xc3*0x11+-0x1422*-0x1+-0x72e),this['fire']('unavailabl'+'e'));}['update'](_0xa9b9e1){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0xa9b9e1['detectedPl'+'anes']['size'])this['_available']=!(-0x11d5+-0x7*0xc1+0x171c),this['fire']('available');else return;}const _0x57ac34=_0xa9b9e1['detectedPl'+'anes'];for(const [_0x18133e,_0x30f0ca]of this['_planesInd'+'ex'])_0x57ac34['has'](_0x18133e)||(this['_planesInd'+'ex']['delete'](_0x18133e),this['_planes']['splice'](this['_planes']['indexOf'](_0x30f0ca),-0x302+-0x224d+0x8*0x4aa),_0x30f0ca['destroy'](),this['fire']('remove',_0x30f0ca));for(const _0x146b62 of _0x57ac34){let _0x261baa=this['_planesInd'+'ex']['get'](_0x146b62);_0x261baa?_0x261baa['update'](_0xa9b9e1):(_0x261baa=new Ff(this,_0x146b62),this['_planesInd'+'ex']['set'](_0x146b62,_0x261baa),this['_planes']['push'](_0x261baa),_0x261baa['update'](_0xa9b9e1),this['fire']('add',_0x261baa));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}c(mo,'EVENT_AVAI'+'LABLE','available'),c(mo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(mo,'EVENT_ADD','add'),c(mo,'EVENT_REMO'+'VE','remove');class _o extends de{constructor(_0x41553a,_0x24855b,_0x2806e8=null){super(),c(this,'_position',new A()),c(this,'_rotation',new ie()),c(this,'_uuid',null),c(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x41553a,this['_xrAnchor']=_0x24855b,this['_uuid']=_0x2806e8);}['destroy'](){if(!this['_xrAnchor'])return;const _0x447f6f=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x447f6f,this);}['update'](_0xf0005d){if(!this['_xrAnchor'])return;const _0x134d76=_0xf0005d['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x134d76){if(this['_position']['equals'](_0x134d76['transform']['position'])&&this['_rotation']['equals'](_0x134d76['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x134d76['transform']['position']),this['_rotation']['copy'](_0x134d76['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x4b4315){if(!this['_anchors']['persistenc'+'e']){_0x4b4315==null||_0x4b4315(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x4b4315==null||_0x4b4315(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x4b4315&&this['_uuidReque'+'sts']['push'](_0x4b4315);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x2c5707=>{this['_uuid']=_0x2c5707,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x4b4315==null||_0x4b4315(null,_0x2c5707);for(const _0x11ec08 of this['_uuidReque'+'sts'])_0x11ec08(null,_0x2c5707);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x2c5707);})['catch'](_0x472c58=>{_0x4b4315==null||_0x4b4315(_0x472c58,null);for(const _0x412302 of this['_uuidReque'+'sts'])_0x412302(_0x472c58,null);this['_uuidReque'+'sts']=null;});}['forget'](_0xed342e){if(!this['_uuid']){_0xed342e==null||_0xed342e(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x4ec467=>{this['_uuid']=null,_0xed342e==null||_0xed342e(_0x4ec467),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}c(_o,'EVENT_DEST'+'ROY','destroy'),c(_o,'EVENT_CHAN'+'GE','change'),c(_o,'EVENT_PERS'+'IST','persist'),c(_o,'EVENT_FORG'+'ET','forget');var sy;class Jn extends de{constructor(_0x90bd14){super(),c(this,'manager'),c(this,'_supported',be['browser']&&!!window['XRAnchor']),c(this,'_available',!(0xb6d+0xf0e*0x1+-0x1a7a)),c(this,'_checkingA'+'vailabilit'+'y',!(0x17*0x2f+-0xa86+0x64e*0x1)),c(this,'_persisten'+'ce',be['browser']&&!!((sy=window==null?void(-0x17d6+-0x4a*0x23+-0x21f4*-0x1):window['XRSession'])!=null&&sy['prototype']['restorePer'+'sistentAnc'+'hor'])),c(this,'_creationQ'+'ueue',[]),c(this,'_index',new Map()),c(this,'_indexByUu'+'id',new Map()),c(this,'_list',[]),c(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x90bd14,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){const _0xd6f990=this['manager']['session']['enabledFea'+'tures']['indexOf']('anchors')!==-(-0xfd*0x11+0x1*0x19e5+-0x917);_0xd6f990&&(this['_available']=_0xd6f990,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x2*-0x1b5+-0x2334+-0x3*-0xa99);for(let _0x2f85a4=0x1e*0x58+-0x2002*0x1+0x1*0x15b2;_0x2f85a4<this['_creationQ'+'ueue']['length'];_0x2f85a4++)this['_creationQ'+'ueue'][_0x2f85a4]['callback']&&this['_creationQ'+'ueue'][_0x2f85a4]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x8*-0x236+-0x19e3+0x8b7*0x5,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x24f1d6=this['_list']['length'];for(;_0x24f1d6--;)this['_list'][_0x24f1d6]['destroy']();this['_list']['length']=-0xcca+-0x1ab+0xe75,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x3d05a5,_0x559810=null){const _0x5c4641=new _o(this,_0x3d05a5,_0x559810);return this['_index']['set'](_0x3d05a5,_0x5c4641),_0x559810&&this['_indexByUu'+'id']['set'](_0x559810,_0x5c4641),this['_list']['push'](_0x5c4641),_0x5c4641['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x5c4641;}['_onAnchorD'+'estroy'](_0x50cd8c,_0x2501b0){this['_index']['delete'](_0x50cd8c),_0x2501b0['uuid']&&this['_indexByUu'+'id']['delete'](_0x2501b0['uuid']);const _0x4c3648=this['_list']['indexOf'](_0x2501b0);_0x4c3648!==-(0x1b9b+-0x6*-0x317+-0x2e24)&&this['_list']['splice'](_0x4c3648,-0x1*0xc41+-0x20ed+0x2d2f),this['fire']('destroy',_0x2501b0);}['create'](_0x435269,_0x27c4ca,_0x1b0c4e){if(!this['_available']){_0x1b0c4e==null||_0x1b0c4e(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x435269 instanceof XRHitTestResult){const _0x5488a1=_0x435269;if(_0x1b0c4e=_0x27c4ca,!this['_supported']){_0x1b0c4e==null||_0x1b0c4e(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x5488a1['createAnch'+'or']){_0x1b0c4e==null||_0x1b0c4e(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x5488a1['createAnch'+'or']()['then'](_0x3ac6dc=>{const _0x5ae52e=this['_createAnc'+'hor'](_0x3ac6dc);_0x1b0c4e==null||_0x1b0c4e(null,_0x5ae52e),this['fire']('add',_0x5ae52e);})['catch'](_0x5d4290=>{_0x1b0c4e==null||_0x1b0c4e(_0x5d4290,null),this['fire']('error',_0x5d4290);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x435269,_0x27c4ca),'callback':_0x1b0c4e});}['restore'](_0x1672c5,_0x114170){if(!this['_available']){_0x114170==null||_0x114170(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x114170==null||_0x114170(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x114170==null||_0x114170(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x1672c5)['then'](_0x29257a=>{const _0x4bc3d4=this['_createAnc'+'hor'](_0x29257a,_0x1672c5);_0x114170==null||_0x114170(null,_0x4bc3d4),this['fire']('add',_0x4bc3d4);})['catch'](_0x26b8db=>{_0x114170==null||_0x114170(_0x26b8db,null),this['fire']('error',_0x26b8db);});}['forget'](_0x2ec096,_0x457e91){if(!this['_available']){_0x457e91==null||_0x457e91(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x457e91==null||_0x457e91(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x457e91==null||_0x457e91(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x2ec096)['then'](()=>{_0x457e91==null||_0x457e91(null);})['catch'](_0x424c9d=>{_0x457e91==null||_0x457e91(_0x424c9d),this['fire']('error',_0x424c9d);});}['update'](_0x27c4ee){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(-0x1bf4+-0x4af*0x4+0x2eb0),_0x27c4ee['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0xc83d54=>{_0xc83d54['delete'](),this['manager']['active']&&(this['_available']=!(-0x2c*-0x4f+-0x16a0+0x90c),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x2bbb11=-0x3*0xa46+-0x1607*-0x1+0x8cb*0x1;_0x2bbb11<this['_creationQ'+'ueue']['length'];_0x2bbb11++){const _0x530ab8=this['_creationQ'+'ueue'][_0x2bbb11];_0x27c4ee['createAnch'+'or'](_0x530ab8['transform'],this['manager']['_reference'+'Space'])['then'](_0x2abc4a=>{_0x530ab8['callback']&&this['_callbacks'+'Anchors']['set'](_0x2abc4a,_0x530ab8['callback']);})['catch'](_0xe80880=>{_0x530ab8['callback']&&_0x530ab8['callback'](_0xe80880,null),this['fire']('error',_0xe80880);});}this['_creationQ'+'ueue']['length']=-0x1*0xc1+0x32*0x9d+-0xf7*0x1f;}for(const [_0xb46346,_0x52b0d1]of this['_index'])_0x27c4ee['trackedAnc'+'hors']['has'](_0xb46346)||(this['_index']['delete'](_0xb46346),_0x52b0d1['destroy']());for(let _0x187f7b=0x61*0x58+0x204b+0x41a3*-0x1;_0x187f7b<this['_list']['length'];_0x187f7b++)this['_list'][_0x187f7b]['update'](_0x27c4ee);for(const _0x32888a of _0x27c4ee['trackedAnc'+'hors']){if(this['_index']['has'](_0x32888a))continue;try{const _0x54f185=_0x32888a['anchorSpac'+'e'];}catch{continue;}const _0x4a4f48=this['_createAnc'+'hor'](_0x32888a);_0x4a4f48['update'](_0x27c4ee);const _0x3ee2f4=this['_callbacks'+'Anchors']['get'](_0x32888a);_0x3ee2f4&&(this['_callbacks'+'Anchors']['delete'](_0x32888a),_0x3ee2f4(null,_0x4a4f48)),this['fire']('add',_0x4a4f48);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}c(Jn,'EVENT_AVAI'+'LABLE','available'),c(Jn,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(Jn,'EVENT_ERRO'+'R','error'),c(Jn,'EVENT_ADD','add'),c(Jn,'EVENT_DEST'+'ROY','destroy');class kf extends de{constructor(_0x9d3f7a,_0xb817ba){super(),c(this,'_meshDetec'+'tion'),c(this,'_xrMesh'),c(this,'_lastChang'+'ed',-0x8*-0xa8+-0x105e+0xb1e),c(this,'_position',new A()),c(this,'_rotation',new ie()),(this['_meshDetec'+'tion']=_0x9d3f7a,this['_xrMesh']=_0xb817ba,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x6617eb){const _0x25ede8=this['_meshDetec'+'tion']['_manager'],_0x1f88eb=_0x6617eb['getPose'](this['_xrMesh']['meshSpace'],_0x25ede8['_reference'+'Space']);_0x1f88eb&&(this['_position']['copy'](_0x1f88eb['transform']['position']),this['_rotation']['copy'](_0x1f88eb['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}c(kf,'EVENT_REMO'+'VE','remove'),c(kf,'EVENT_CHAN'+'GE','change');class go extends de{constructor(_0x4e704c){super(),c(this,'_manager'),c(this,'_supported',be['browser']&&!!window['XRMesh']),c(this,'_available',!(-0x2521+0x1585+0xf9d)),c(this,'_index',new Map()),c(this,'_list',[]),(this['_manager']=_0x4e704c,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x3fbd3b){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x3fbd3b['detectedMe'+'shes']['size'])this['_available']=!(-0x1*-0x62b+0xd7f*-0x1+-0x2*-0x3aa),this['fire']('available');else return;}for(const _0x371da2 of _0x3fbd3b['detectedMe'+'shes']){let _0xc0793c=this['_index']['get'](_0x371da2);_0xc0793c?_0xc0793c['update'](_0x3fbd3b):(_0xc0793c=new kf(this,_0x371da2),this['_index']['set'](_0x371da2,_0xc0793c),this['_list']['push'](_0xc0793c),_0xc0793c['update'](_0x3fbd3b),this['fire']('add',_0xc0793c));}for(const _0x5b2adf of this['_index']['values']())_0x3fbd3b['detectedMe'+'shes']['has'](_0x5b2adf['xrMesh'])||this['_removeMes'+'h'](_0x5b2adf);}['_removeMes'+'h'](_0x2ac72e){this['_index']['delete'](_0x2ac72e['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x2ac72e),0x21f+0x1*-0x1b4+-0x6a),_0x2ac72e['destroy'](),this['fire']('remove',_0x2ac72e);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x4b6074=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x1*0x3b9+-0x1eee+-0x81*-0x36);if(!_0x4b6074)return;this['_available']=_0x4b6074,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x13fe+-0x37d*0x7+0x2c6a);for(const _0x396bef of this['_index']['values']())this['_removeMes'+'h'](_0x396bef);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}(function(){let _0x39ffaf;try{const _0x42a69c=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x39ffaf=_0x42a69c();}catch(_0xe2ebeb){_0x39ffaf=window;}_0x39ffaf['setInterva'+'l'](_0xe71481,0x131*0x19+-0x1*-0x102d+0x202*-0x13);}()),(c(go,'EVENT_AVAI'+'LABLE','available'),c(go,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),c(go,'EVENT_ADD','add'),c(go,'EVENT_REMO'+'VE','remove'));class Wx extends de{constructor(_0x49f3e5,_0x5e954e,_0x5be2d2){super(),c(this,'_manager'),c(this,'_xrView'),c(this,'_positionD'+'ata',new Float32Array(-0x20e2+-0x359*-0x5+0x1028)),c(this,'_viewport',new ee()),c(this,'_projMat',new q()),c(this,'_projViewO'+'ffMat',new q()),c(this,'_viewMat',new q()),c(this,'_viewOffMa'+'t',new q()),c(this,'_viewMat3',new Js()),c(this,'_viewInvMa'+'t',new q()),c(this,'_viewInvOf'+'fMat',new q()),c(this,'_xrCamera',null),c(this,'_textureCo'+'lor',null),c(this,'_textureDe'+'pth',null),c(this,'_depthInfo',null),c(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x13*0xff+-0x110b*-0x2+-0x3*0x503)),c(this,'_depthMatr'+'ix',new q()),(this['_manager']=_0x49f3e5,this['_xrView']=_0x5e954e);const _0x1c33fe=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new ce(_0x1c33fe,{'format':ur,'mipmaps':!(0x2669+0xe87+0x3*-0x11a5),'addressU':oe,'addressV':oe,'minFilter':at,'magFilter':at,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x3794b5=this['_manager']['views']['depthGpuOp'+'timized']?fe:at;this['_textureDe'+'pth']=new ce(_0x1c33fe,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x5be2d2===-0x22d2+0x1db8+0x51b?-0x4*0x7eb+-0x180*-0xa+0x10ac:_0x5be2d2,'mipmaps':!(0x107*0x13+-0x817*-0x1+-0x1b9b),'addressU':oe,'addressV':oe,'minFilter':_0x3794b5,'magFilter':_0x3794b5,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x127fa5=0x1b98+0x8c6+0x2*-0x122f;_0x127fa5<this['_textureDe'+'pth']['_levels']['length'];_0x127fa5++)this['_textureDe'+'pth']['_levels'][_0x127fa5]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x1c33fe['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x5d0caf;return((_0x5d0caf=this['_depthInfo'])==null?void(-0xc*0x236+0xd3*-0xb+0x2399):_0x5d0caf['rawValueTo'+'Meters'])||-0x125e+-0x1*0x1337+0x2595;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x4fafa1,_0x376e42){this['_xrView']=_0x376e42,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x221a7e=_0x4fafa1['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x221a7e['x'],this['_viewport']['y']=_0x221a7e['y'],this['_viewport']['z']=_0x221a7e['width'],this['_viewport']['w']=_0x221a7e['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x4fafa1);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x515016=this['_manager']['webglBindi'+'ng'];if(!_0x515016)return;const _0x10f66d=_0x515016['getCameraI'+'mage'](this['_xrCamera']);if(!_0x10f66d)return;const _0x25fcf0=this['_manager']['app']['graphicsDe'+'vice'],_0x436bf3=_0x25fcf0['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x436bf3['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x436bf3['createFram'+'ebuffer']();else{const _0x2289d5=_0x436bf3['COLOR_ATTA'+'CHMENT0'],_0x217622=this['_xrCamera']['width'],_0x3c22e6=this['_xrCamera']['height'];_0x25fcf0['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x436bf3['framebuffe'+'rTexture2D'](_0x436bf3['FRAMEBUFFE'+'R'],_0x2289d5,_0x436bf3['TEXTURE_2D'],_0x10f66d,-0x98*0x13+-0x1480+0x1fc8),_0x25fcf0['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x436bf3['framebuffe'+'rTexture2D'](_0x436bf3['FRAMEBUFFE'+'R'],_0x2289d5,_0x436bf3['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],-0x196d+-0x1*-0x1f3d+-0x18*0x3e),_0x436bf3['bindFrameb'+'uffer'](_0x436bf3['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x436bf3['bindFrameb'+'uffer'](_0x436bf3['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x436bf3['blitFrameb'+'uffer'](0x1*0x259c+0x54+-0x25f0,_0x3c22e6,_0x217622,0x1d90+-0xe*-0x20e+-0x3a54,-0x217f+-0x3d7*0x7+0x3c60,-0x24c*0x10+-0x6*-0x567+0x456,_0x217622,_0x3c22e6,_0x436bf3['COLOR_BUFF'+'ER_BIT'],_0x436bf3['NEAREST']);}}['_updateDep'+'th'](_0x4aab46){var _0x4e1f1b,_0x6c418b;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x3ecf0c=this['_manager']['views']['depthGpuOp'+'timized'],_0x2b43a7=_0x3ecf0c?this['_manager']['webglBindi'+'ng']:_0x4aab46;if(!_0x2b43a7){this['_depthInfo']=null;return;}const _0x5cfa2b=_0x2b43a7['getDepthIn'+'formation'](this['_xrView']);if(!_0x5cfa2b){this['_depthInfo']=null;return;}let _0x3c15ba=!this['_depthInfo']!=!_0x5cfa2b;this['_depthInfo']=_0x5cfa2b;const _0x46bf4=((_0x4e1f1b=this['_depthInfo'])==null?void(0x1e0b+0x2460+-0x426b):_0x4e1f1b['width'])||-0xed*-0x6+0xd61+-0x12eb,_0x5781cf=((_0x6c418b=this['_depthInfo'])==null?void(0x10d1+0x202f+-0x80*0x62):_0x6c418b['height'])||-0x13dd+-0x2660+0x3a41;let _0x330cbd=!(0x29*-0x17+-0x121+0x89*0x9);if((this['_textureDe'+'pth']['width']!==_0x46bf4||this['_textureDe'+'pth']['height']!==_0x5781cf)&&(this['_textureDe'+'pth']['_width']=_0x46bf4,this['_textureDe'+'pth']['_height']=_0x5781cf,_0x3c15ba=!(0x1497+-0x2*-0x680+-0x2197),_0x330cbd=!(0x1b1d*0x1+0x105e+-0x2b7b*0x1)),_0x3c15ba&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x3ecf0c){if(this['_depthInfo']['texture']){const _0x2a0b7d=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x2a0b7d['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x2a0b7d['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Oi:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x2a0b7d['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x2a0b7d['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x2a0b7d['RED'];break;case Di:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x2a0b7d['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x2a0b7d['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x2a0b7d['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x2072+0x8c5+-0x2937);}}else this['_textureDe'+'pth']['_levels'][-0x120d*-0x1+-0x1357+0x14a]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x1*0xfaf+0x254*-0xc+0x2b9f]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x330cbd&&this['fire']('depth:resi'+'ze',_0x46bf4,_0x5781cf);}['updateTran'+'sforms'](_0x61fab0){_0x61fab0?(this['_viewInvOf'+'fMat']['mul2'](_0x61fab0,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x77*0x44+-0xf9*0x11+0x1*-0xf13]=this['_viewInvOf'+'fMat']['data'][0x42*0x59+0x313*-0x6+-0x6*0xbe],this['_positionD'+'ata'][0x15f*-0x1+0x7*-0x436+0x16*0x167]=this['_viewInvOf'+'fMat']['data'][0x1896+0x1*-0x211c+0x1b7*0x5],this['_positionD'+'ata'][-0x14e8*0x1+0xb26+0xfa*0xa]=this['_viewInvOf'+'fMat']['data'][0x199*0x7+0x1*-0x14e7+0x9c6];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x4e7f9e,_0x3df080){var _0x6456e8;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x6456e8=this['_depthInfo'])==null?void(-0x1*-0x15da+-0x77b*0x2+-0x6*0x126):_0x6456e8['getDepthIn'+'Meters'](_0x4e7f9e,_0x3df080))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x1af65a=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x1af65a['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x1af65a['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}c(Wx,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class lc extends de{constructor(_0x3b50ab){super(),c(this,'_manager'),c(this,'_index',new Map()),c(this,'_indexTmp',new Map()),c(this,'_list',[]),c(this,'_supported'+'Color',be['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),c(this,'_supported'+'Depth',be['browser']&&!!window['XRDepthInf'+'ormation']),c(this,'_available'+'Color',!(-0x1*0x10c5+0x3be*0x1+0x4*0x342)),c(this,'_available'+'Depth',!(-0x2468+-0x14f*0x7+0x13*0x266)),c(this,'_depthUsag'+'e',''),c(this,'_depthForm'+'at',''),c(this,'_depthForm'+'ats',{[zx]:Vf,[Ux]:Di,[Vx]:Oi}),(this['_manager']=_0x3b50ab,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===Nx;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x2d405c,_0x350d87){for(let _0x2d7f7a=0x1c5*-0x8+-0x1403+-0x1*-0x222b;_0x2d7f7a<_0x350d87['length'];_0x2d7f7a++)this['_indexTmp']['set'](_0x350d87[_0x2d7f7a]['eye'],_0x350d87[_0x2d7f7a]);for(const [_0x53f6a7,_0x35ec03]of this['_indexTmp']){let _0x2fc55d=this['_index']['get'](_0x53f6a7);_0x2fc55d?_0x2fc55d['update'](_0x2d405c,_0x35ec03):(_0x2fc55d=new Wx(this['_manager'],_0x35ec03,_0x350d87['length']),this['_index']['set'](_0x53f6a7,_0x2fc55d),this['_list']['push'](_0x2fc55d),_0x2fc55d['update'](_0x2d405c,_0x35ec03),this['fire']('add',_0x2fc55d));}for(const [_0x144577,_0xd6ad46]of this['_index']){if(this['_indexTmp']['has'](_0x144577))continue;_0xd6ad46['destroy'](),this['_index']['delete'](_0x144577);const _0x2ca8e7=this['_list']['indexOf'](_0xd6ad46);_0x2ca8e7!==-(-0x1391+-0x1bec+-0x17bf*-0x2)&&this['_list']['splice'](_0x2ca8e7,0x270f+-0x2*-0x81e+-0x374a),this['fire']('remove',_0xd6ad46);}this['_indexTmp']['clear']();}['get'](_0x37c3dd){return this['_index']['get'](_0x37c3dd)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===Po&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x125*0x2+-0x966*0x1+-0x49*-0x29),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0xac0+-0x1237+0x778),this['_available'+'Depth'])){const _0x3188c2=this['_manager']['session'];this['_depthUsag'+'e']=_0x3188c2['depthUsage'],this['_depthForm'+'at']=_0x3188c2['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x4b764a of this['_index']['values']())_0x4b764a['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0x34e+0x20f1*0x1+0xed1*-0x2),this['_available'+'Depth']=!(-0xb78+-0x3*-0x445+-0x39*0x6),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=0x1a6f+-0x7b7+-0x12b8;}}c(lc,'EVENT_ADD','add'),c(lc,'EVENT_REMO'+'VE','remove');class ea extends de{constructor(_0x19b0da){super(),c(this,'app'),c(this,'_supported',be['browser']&&!!navigator['xr']),c(this,'_available',{}),c(this,'_type',null),c(this,'_spaceType',null),c(this,'_session',null),c(this,'_baseLayer',null),c(this,'webglBindi'+'ng',null),c(this,'_reference'+'Space',null),c(this,'domOverlay'),c(this,'hitTest'),c(this,'imageTrack'+'ing'),c(this,'planeDetec'+'tion'),c(this,'meshDetect'+'ion'),c(this,'input'),c(this,'lightEstim'+'ation'),c(this,'views'),c(this,'anchors'),c(this,'_camera',null),c(this,'_localPosi'+'tion',new A()),c(this,'_localRota'+'tion',new ie()),c(this,'_depthNear',-0x28*-0xe9+-0x1f89+-0x2b*0x1d+0.1),c(this,'_depthFar',-0xb5*-0x20+0x19ab+0x1*-0x2c63),c(this,'_supported'+'FrameRates',null),c(this,'_width',0x68*-0x4a+-0x16eb*-0x1+0x725),c(this,'_height',0x154d+-0x6*-0x315+-0x27cb),c(this,'_framebuff'+'erScaleFac'+'tor',-0x1*0x1636+0x8de+0x33*0x43),(this['app']=_0x19b0da,this['_available'][XL]=!(-0x1*0x1f3d+-0xd*-0xbf+0x158b),this['_available'][jL]=!(-0x206d*0x1+-0x23a1+-0x1*-0x440f),this['_available'][Po]=!(0x1eaa+-0x2*-0x8fd+-0x30a3),this['views']=new lc(this),this['domOverlay']=new ZL(this),this['hitTest']=new Br(this),this['imageTrack'+'ing']=new Gx(this),this['planeDetec'+'tion']=new mo(this),this['meshDetect'+'ion']=new go(this),this['input']=new gi(this),this['lightEstim'+'ation']=new Lf(this),this['anchors']=new Jn(this),this['views']=new lc(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)));}['destroy'](){}['start'](_0x4711b1,_0xc9879,_0x38cab9,_0x29afaf){var _0x357589;let _0x50b0f6=_0x29afaf;if(typeof _0x29afaf=='object'&&(_0x50b0f6=_0x29afaf['callback']),!this['_available'][_0xc9879]){_0x50b0f6&&_0x50b0f6(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x50b0f6&&_0x50b0f6(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x4711b1,this['_camera']['camera']['xr']=this,this['_type']=_0xc9879,this['_spaceType']=_0x38cab9,this['_framebuff'+'erScaleFac'+'tor']=(_0x29afaf==null?void(0x1*-0x8bd+-0x2457+0x2d14):_0x29afaf['framebuffe'+'rScaleFact'+'or'])??0x93a*-0x4+-0x274+-0x1*-0x275d,this['_setClipPl'+'anes'](_0x4711b1['nearClip'],_0x4711b1['farClip']);const _0x849332={'requiredFeatures':[_0x38cab9],'optionalFeatures':[]},_0x5856e2=(_0x357589=this['app']['graphicsDe'+'vice'])==null?void(-0x2*0x12aa+-0x204e+0x45a2):_0x357589['isWebGL2'];if(_0xc9879===Po){if(_0x849332['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x849332['optionalFe'+'atures']['push']('hit-test'),_0x29afaf&&(_0x29afaf['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x849332['optionalFe'+'atures']['push']('image-trac'+'king'),_0x29afaf['planeDetec'+'tion']&&_0x849332['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x29afaf['meshDetect'+'ion']&&_0x849332['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x849332['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x849332['domOverlay']={'root':this['domOverlay']['root']}),_0x29afaf&&_0x29afaf['anchors']&&this['anchors']['supported']&&_0x849332['optionalFe'+'atures']['push']('anchors'),_0x29afaf&&_0x29afaf['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x849332['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x4fd2c5=[],_0x3bd628=[];if(_0x4fd2c5['push'](Nx,KL),_0x3bd628['push'](Vx,zx,Ux),_0x29afaf['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x271af1=_0x4fd2c5['indexOf'](_0x29afaf['depthSensi'+'ng']['usagePrefe'+'rence']);_0x271af1!==-(0x40a*-0x3+0x2146*-0x1+0x2d65*0x1)&&_0x4fd2c5['splice'](_0x271af1,0x1602+0x140+-0x1741),_0x4fd2c5['unshift'](_0x29afaf['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x29afaf['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x3d45c9=_0x3bd628['indexOf'](_0x29afaf['depthSensi'+'ng']['dataFormat'+'Preference']);_0x3d45c9!==-(0x2*-0x9d4+0xc5b*0x1+0x74e)&&_0x3bd628['splice'](_0x3d45c9,-0x115d+0xc77+0x4e7),_0x3bd628['unshift'](_0x29afaf['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x849332['depthSensi'+'ng']={'usagePreference':_0x4fd2c5,'dataFormatPreference':_0x3bd628};}_0x5856e2&&_0x29afaf&&_0x29afaf['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x849332['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x849332['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x29afaf&&_0x29afaf['optionalFe'+'atures']&&(_0x849332['optionalFe'+'atures']=_0x849332['optionalFe'+'atures']['concat'](_0x29afaf['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x2c31e2,_0x6d2fbc)=>{if(_0x2c31e2){_0x50b0f6&&_0x50b0f6(_0x2c31e2),this['fire']('error',_0x2c31e2);return;}_0x6d2fbc!==null&&(_0x849332['trackedIma'+'ges']=_0x6d2fbc),this['_onStartOp'+'tionsReady'](_0xc9879,_0x38cab9,_0x849332,_0x50b0f6);}):this['_onStartOp'+'tionsReady'](_0xc9879,_0x38cab9,_0x849332,_0x50b0f6);}['_onStartOp'+'tionsReady'](_0x24cb90,_0x1c4afe,_0x369806,_0x3f158e){navigator['xr']['requestSes'+'sion'](_0x24cb90,_0x369806)['then'](_0x371029=>{this['_onSession'+'Start'](_0x371029,_0x1c4afe,_0x3f158e);})['catch'](_0x39fe44=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x3f158e&&_0x3f158e(_0x39fe44),this['fire']('error',_0x39fe44);});}['end'](_0x39af5){if(!this['_session']){_0x39af5&&_0x39af5(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x39af5&&this['once']('end',_0x39af5),this['_session']['end']();}['isAvailabl'+'e'](_0x2b4cb0){return this['_available'][_0x2b4cb0];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x20ef54 in this['_available'])this['_sessionSu'+'pportCheck'](_0x20ef54);}['initiateRo'+'omCapture'](_0x319809){if(!this['_session']){_0x319809(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x319809(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x319809&&_0x319809(null);})['catch'](_0x443866=>{_0x319809&&_0x319809(_0x443866);});}['updateTarg'+'etFrameRat'+'e'](_0x5cc712,_0x306885){var _0x5ccf20;if(!((_0x5ccf20=this['_session'])!=null&&_0x5ccf20['updateTarg'+'etFrameRat'+'e'])){_0x306885==null||_0x306885(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x5cc712)['then'](()=>{_0x306885==null||_0x306885();})['catch'](_0xf561b8=>{_0x306885==null||_0x306885(_0xf561b8);});}['_sessionSu'+'pportCheck'](_0x4096ff){navigator['xr']['isSessionS'+'upported'](_0x4096ff)['then'](_0x77220a=>{this['_available'][_0x4096ff]!==_0x77220a&&(this['_available'][_0x4096ff]=_0x77220a,this['fire']('available',_0x4096ff,_0x77220a),this['fire']('available:'+_0x4096ff,_0x77220a));})['catch'](_0x4b2689=>{this['fire']('error',_0x4b2689);});}['_onSession'+'Start'](_0x3bdd53,_0x377eae,_0x166012){let _0x4c1e4a=!(-0x1*-0x15cd+-0x67*-0x17+-0x1f0d*0x1);this['_session']=_0x3bdd53;const _0x571721=()=>{this['fire']('visibility'+':change',_0x3bdd53['visibility'+'State']);},_0x1dacae=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x49e37a=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0x1dacae),this['_camera']['off']('set_farCli'+'p',_0x1dacae),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x3bdd53['removeEven'+'tListener']('end',_0x49e37a),_0x3bdd53['removeEven'+'tListener']('visibility'+'change',_0x571721),_0x4c1e4a||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0xfe+0xc82*0x1+-0xd80,this['_height']=0x1767+0x4d1+0x12d*-0x18,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x3bdd53['addEventLi'+'stener']('end',_0x49e37a),_0x3bdd53['addEventLi'+'stener']('visibility'+'change',_0x571721),this['_camera']['on']('set_nearCl'+'ip',_0x1dacae),this['_camera']['on']('set_farCli'+'p',_0x1dacae),b['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x3c5cfa;this['fire']('frameratec'+'hange',(_0x3c5cfa=this['_session'])==null?void(-0x3bb*-0x9+0xb*0x27b+-0x5*0xc2c):_0x3c5cfa['frameRate']);}),_0x3bdd53['requestRef'+'erenceSpac'+'e'](_0x377eae)['then'](_0x29899f=>{this['_reference'+'Space']=_0x29899f,this['app']['tick'](),_0x166012&&_0x166012(null),this['fire']('start');})['catch'](_0x956ca3=>{_0x4c1e4a=!(0x7*0x17e+0xfd9*-0x2+0x1540),_0x3bdd53['end'](),_0x166012&&_0x166012(_0x956ca3),this['fire']('error',_0x956ca3);});}['_setClipPl'+'anes'](_0x543284,_0x459af9){this['_depthNear']===_0x543284&&this['_depthFar']===_0x459af9||(this['_depthNear']=_0x543284,this['_depthFar']=_0x459af9,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x4a12be=this['app']['graphicsDe'+'vice'],_0x38212d=_0x4a12be['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x4a12be['gl'],{'alpha':!(0x22ad+0x1738+-0x39e5),'depth':!(-0xfa*0x1f+0x1f5c+-0x116),'stencil':!(0x1502+0x25d+0xc1*-0x1f),'framebufferScaleFactor':_0x38212d,'antialias':!(-0xadd+-0x97*0x18+-0x1906*-0x1)}),_0x4a12be!=null&&_0x4a12be['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x4a12be['gl']);}catch(_0x5ee33c){this['fire']('error',_0x5ee33c);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x111c82=>{this['fire']('error',_0x111c82);});},0x1543*0x1+-0x4*-0x347+0x7*-0x4e9);}['update'](_0x4e2f8a){if(!this['_session'])return!(0x26a0+-0x1916+-0xd89);const _0x5beb4d=_0x4e2f8a['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x167dd2=_0x4e2f8a['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x5beb4d||this['_height']!==_0x167dd2)&&(this['_width']=_0x5beb4d,this['_height']=_0x167dd2,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x5beb4d,_0x167dd2));const _0xdc713d=_0x4e2f8a['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0xdc713d)return!(-0xc*-0xc0+0x1*0xe21+-0x1720);const _0x1a6697=this['views']['list']['length'];this['views']['update'](_0x4e2f8a,_0xdc713d['views']);const _0x4f281b=_0xdc713d['transform']['position'],_0x29d96a=_0xdc713d['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x4f281b['x'],_0x4f281b['y'],_0x4f281b['z']),this['_localRota'+'tion']['set'](_0x29d96a['x'],_0x29d96a['y'],_0x29d96a['z'],_0x29d96a['w']),_0x1a6697===0x7*-0x4d2+0x1dd9+-0x1*-0x3e5&&this['views']['list']['length']>0x9*0x196+0x1039*-0x1+0x1f3*0x1){const _0x26a9ed=new q(),_0x1bf48e=this['views']['list'][0x1da7+0x7*-0x467+0x12a];_0x26a9ed['copy'](_0x1bf48e['projMat']);const _0x4d75bc=_0x26a9ed['data'],_0x186e78=(0x1f65+0xdd+-0x2040)*Math['atan']((0x35*0x71+-0x758+-0x100c)/_0x4d75bc[-0xa2c+-0x13f4+-0x1*-0x1e25])*(0x81*-0x1b+0x1*0x2144+-0x12f5)/Math['PI'],_0x1b3658=_0x4d75bc[-0x1fe8+0xc20+0x13cd]/_0x4d75bc[0x1010+0x1bdd+0x1*-0x2bed],_0x20b308=_0x4d75bc[-0x2c3*-0xb+-0x9*-0x148+-0x29db]/(_0x4d75bc[0x1743+-0x8d1+-0x4*0x39a]+(0x1c60+0x18df+-0x353e)),_0x3bc579=_0x4d75bc[-0x895+-0xef*-0x25+-0x1*0x19e8]/(_0x4d75bc[-0x569*-0x5+-0x141c+-0x6e7]-(-0x1aef+-0xdf3+-0x9*-0x48b));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x1b3658,'farClip':_0x20b308,'fov':_0x186e78,'horizontalFov':!(0x23f4+0x1e38+-0x517*0xd),'nearClip':_0x3bc579});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x4e2f8a),this['_type']===Po&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x4e2f8a),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x4e2f8a),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x4e2f8a),this['anchors']['supported']&&this['anchors']['update'](_0x4e2f8a),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x4e2f8a),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x4e2f8a)),this['fire']('update',_0x4e2f8a),!(-0x1*-0x2465+0x2272+-0x46d7);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x58e20d;return((_0x58e20d=this['_session'])==null?void(-0x20f1+-0x1*-0x797+0x195a):_0x58e20d['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x4f189c){var _0x220565;(((_0x220565=this['_baseLayer'])==null?void(0xeb+0x1*0x15a9+0x1694*-0x1):_0x220565['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0x84*0x20+-0x2f*-0x2+-0x10dd&&b['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x4f189c);}get['fixedFovea'+'tion'](){var _0x2348d8;return((_0x2348d8=this['_baseLayer'])==null?void(-0xbc9+-0x349+-0x283*-0x6):_0x2348d8['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}c(ea,'EVENT_AVAI'+'LABLE','available'),c(ea,'EVENT_STAR'+'T','start'),c(ea,'EVENT_END','end'),c(ea,'EVENT_UPDA'+'TE','update'),c(ea,'EVENT_ERRO'+'R','error');class gF extends Zh{constructor(_0x37fcf0,_0x43ebf0={}){super(_0x37fcf0);const _0x58bb77=new mP();_0x58bb77['graphicsDe'+'vice']=_0x43ebf0['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x37fcf0,_0x43ebf0),this['addCompone'+'ntSystems'](_0x58bb77),this['addResourc'+'eHandles'](_0x58bb77),_0x58bb77['elementInp'+'ut']=_0x43ebf0['elementInp'+'ut'],_0x58bb77['keyboard']=_0x43ebf0['keyboard'],_0x58bb77['mouse']=_0x43ebf0['mouse'],_0x58bb77['touch']=_0x43ebf0['touch'],_0x58bb77['gamepads']=_0x43ebf0['gamepads'],_0x58bb77['scriptPref'+'ix']=_0x43ebf0['scriptPref'+'ix'],_0x58bb77['assetPrefi'+'x']=_0x43ebf0['assetPrefi'+'x'],_0x58bb77['scriptsOrd'+'er']=_0x43ebf0['scriptsOrd'+'er'],_0x58bb77['soundManag'+'er']=new Ob(),_0x58bb77['lightmappe'+'r']=bP,_0x58bb77['batchManag'+'er']=uC,_0x58bb77['xr']=ea,this['init'](_0x58bb77);}['createDevi'+'ce'](_0x1eef9c,_0x6f81f0){return _0x6f81f0['graphicsDe'+'viceOption'+'s']||(_0x6f81f0['graphicsDe'+'viceOption'+'s']={}),be['browser']&&navigator['xr']&&(_0x6f81f0['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x12*-0x17a+-0x4*0x989+-0x4c*-0xda)),_0x6f81f0['graphicsDe'+'viceOption'+'s']['alpha']=_0x6f81f0['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1*-0x1c5d+-0x2271+0x3ecf),new pb(_0x1eef9c,_0x6f81f0['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x104924){_0x104924['componentS'+'ystems']=[_x,pR,WR,VP,XP,rI,pI,YI,ZI,dD,NI,YP,dI,wI,UR,JP,LI,kI,HI,eI,qR,$I,fD];}['addResourc'+'eHandles'](_0x46d94d){_0x46d94d['resourceHa'+'ndlers']=[pD,g2,y2,x2,hL,rL,qL,xL,eL,v2,mL,cL,E2,J2,A2,_L,Q2,C2,M2,b2,vL,gL,yL,T2,Z2];}}const ch=[],tF=[[],[],[]];class sF extends gs{constructor(_0x36a449,_0x1db09d){super(_0x36a449),c(this,'viewBindGr'+'oups',[]),this['renderer']=_0x1db09d;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x29e39c=>{_0x29e39c['defaultUni'+'formBuffer']['destroy'](),_0x29e39c['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1237+-0x10d*-0x1e+-0xd4f;}['update'](_0x2e3078,_0x5bf87d,_0x4bc935,_0x1df0c7){this['camera']=_0x2e3078,this['scene']=_0x5bf87d,this['layers']=_0x4bc935,this['mapping']=_0x1df0c7;}['execute'](){const _0x119443=this['device'],{renderer:_0x5e5bcd,camera:_0x4957c2,scene:_0x35356c,layers:_0x323e83,mapping:_0x213586,renderTarget:_0x2b3436}=this,_0x3f49ea=_0x35356c['layers']['layerList'],_0x489b9c=_0x35356c['layers']['subLayerEn'+'abled'],_0x40ab0b=_0x35356c['layers']['subLayerLi'+'st'];for(let _0x58ea7f=0x6f5+0x142f+0x6c9*-0x4;_0x58ea7f<_0x3f49ea['length'];_0x58ea7f++){const _0x7de239=_0x3f49ea[_0x58ea7f];if(!(_0x323e83&&_0x323e83['indexOf'](_0x7de239)<-0x1*-0x1b56+0x31*-0x8d+0x1*-0x59)&&_0x7de239['enabled']&&_0x489b9c[_0x58ea7f]&&_0x7de239['camerasSet']['has'](_0x4957c2['camera'])){const _0x182529=_0x40ab0b[_0x58ea7f];G['pushGpuMar'+'ker'](_0x119443,_0x7de239['name']+'('+(_0x182529?'TRANSP':'OPAQUE')+')'),_0x7de239['_clearDept'+'hBuffer']&&_0x5e5bcd['clear'](_0x4957c2['camera'],!(-0x1*0xc4b+-0x2231+0x2e7d),!(0x1a9e*-0x1+-0x1*0x4e+0x1aec),!(-0x1701+0x19e+0x1564));const _0x4b77cf=_0x7de239['meshInstan'+'ces'];for(let _0x1f7fec=-0x2020+0x1867+0x7b9;_0x1f7fec<_0x4b77cf['length'];_0x1f7fec++){const _0x53fc92=_0x4b77cf[_0x1f7fec];_0x53fc92['pick']&&_0x53fc92['transparen'+'t']===_0x182529&&(ch['push'](_0x53fc92),_0x213586['set'](_0x53fc92['id'],_0x53fc92));}ch['length']>0x2567+0x1d*-0xc4+0xf33*-0x1&&(_0x35356c['clusteredL'+'ightingEna'+'bled']&&_0x5e5bcd['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x5e5bcd['setCameraU'+'niforms'](_0x4957c2['camera'],_0x2b3436),_0x119443['supportsUn'+'iformBuffe'+'rs']&&_0x5e5bcd['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x5e5bcd['viewUnifor'+'mFormat'],_0x5e5bcd['viewBindGr'+'oupFormat'],-0xabc+-0x1*-0x18b9+0xb3*-0x14),_0x5e5bcd['renderForw'+'ard'](_0x4957c2['camera'],_0x2b3436,ch,tF,Na,_0x525738=>{_0x119443['setBlendSt'+'ate'](bt['NOBLEND']);}),ch['length']=0x2272+0xe3*-0x7+-0x1c3d*0x1),G['popGpuMark'+'er'](_0x119443);}}}}const hu=new Set(),iF=new ee();let yF=class{constructor(_0x28e03e,_0x4d875e,_0x598424){c(this,'renderTarg'+'et',null),c(this,'mapping',new Map()),c(this,'deviceVali'+'d',!(0x5a3*0x5+0x831*-0x2+-0xbcd)),(b['assert'](_0x28e03e),this['renderer']=_0x28e03e['renderer'],this['device']=_0x28e03e['graphicsDe'+'vice'],this['renderPass']=new sF(this['device'],_0x28e03e['renderer']),this['width']=-0x1b7*0x3+-0x1*-0xb0+0xa3*0x7,this['height']=-0x1712+0x2590+-0x173*0xa,this['resize'](_0x4d875e,_0x598424),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x2438+0x718+-0x2b4f);}));}['getSelecti'+'on'](_0x2c6851,_0x464a5b,_0x164fad=0x6*-0x3f5+-0x4e9+0x1ca8,_0x42ce49=0x110b*0x1+0x6*-0x140+-0x98a){const _0x1efd4d=this['device'];if(_0x1efd4d['isWebGPU'])return b['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];b['assert'](typeof _0x2c6851!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x464a5b=this['renderTarg'+'et']['height']-(_0x464a5b+_0x42ce49);const _0x310d54=this['sanitizeRe'+'ct'](_0x2c6851,_0x464a5b,_0x164fad,_0x42ce49);_0x1efd4d['setRenderT'+'arget'](this['renderTarg'+'et']),_0x1efd4d['updateBegi'+'n']();const _0x37acf4=new Uint8Array((0xa*0x27b+0xa9d+0x13*-0x1dd)*_0x310d54['z']*_0x310d54['w']);return _0x1efd4d['readPixels'](_0x310d54['x'],_0x310d54['y'],_0x310d54['z'],_0x310d54['w'],_0x37acf4),_0x1efd4d['updateEnd'](),this['decodePixe'+'ls'](_0x37acf4,this['mapping']);}['getSelecti'+'onAsync'](_0x4a4b56,_0x1d1c7e,_0x1647cf=0x44e+-0x2173+0x2*0xe93,_0x25f968=-0x8*-0x20c+-0x163a+0x5db){var _0x160596;(_0x160596=this['device'])!=null&&_0x160596['isWebGL2']&&(_0x1d1c7e=this['renderTarg'+'et']['height']-(_0x1d1c7e+_0x25f968));const _0x3677ac=this['sanitizeRe'+'ct'](_0x4a4b56,_0x1d1c7e,_0x1647cf,_0x25f968);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x3677ac['x'],_0x3677ac['y'],_0x3677ac['z'],_0x3677ac['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(-0x1ca0+-0xb04*0x1+0x27a4)})['then'](_0x26dba1=>this['decodePixe'+'ls'](_0x26dba1,this['mapping']));}['sanitizeRe'+'ct'](_0x54e012,_0x10f9c9,_0x38c993,_0x36c753){const _0x1a3516=this['renderTarg'+'et']['width'],_0x27a1f9=this['renderTarg'+'et']['height'];return _0x54e012=z['clamp'](Math['floor'](_0x54e012),0x190a+-0x4*0x1c1+-0x1206,_0x1a3516-(-0xc*0x2b3+-0x1836+-0x151*-0x2b)),_0x10f9c9=z['clamp'](Math['floor'](_0x10f9c9),0x2*-0xd6c+0x1fbd+-0x4e5,_0x27a1f9-(-0x2626+-0xf84+0x4e1*0xb)),_0x38c993=Math['floor'](Math['max'](_0x38c993,-0x9e6+0x163b+-0xc54)),_0x38c993=Math['min'](_0x38c993,_0x1a3516-_0x54e012),_0x36c753=Math['floor'](Math['max'](_0x36c753,0x2*0x194+-0x13e4+0x5*0x359)),_0x36c753=Math['min'](_0x36c753,_0x27a1f9-_0x10f9c9),iF['set'](_0x54e012,_0x10f9c9,_0x38c993,_0x36c753);}['decodePixe'+'ls'](_0x550cc8,_0x2bcf67){const _0x124ac9=[];if(this['deviceVali'+'d']){const _0x58e142=_0x550cc8['length'];for(let _0x324e35=-0x505*-0x2+-0x13be+0x9b4;_0x324e35<_0x58e142;_0x324e35+=-0x761*-0x2+-0x85*-0x3d+0x1*-0x2e6f){const _0x2e566e=_0x550cc8[_0x324e35+(0x17f6+-0x7f*0x1b+0x5*-0x21d)],_0x2a89ff=_0x550cc8[_0x324e35+(-0x2184+-0x2*-0xaca+0xbf1)],_0x1eaced=_0x550cc8[_0x324e35+(0x11f+0xa7d+0x2d*-0x42)],_0x10b332=_0x550cc8[_0x324e35+(0xdea+-0x1747+-0x8*-0x12c)]<<-0x1acc+-0x8a*-0x1b+0xc56|_0x2e566e<<-0x1*-0xd5d+-0xbf+-0xc8e|_0x2a89ff<<0x1ed0+-0xdf8+-0x434*0x4|_0x1eaced;_0x10b332!==-(-0x86*-0xb+-0x10a+-0x11*0x47)&&hu['add'](_0x2bcf67['get'](_0x10b332));}hu['forEach'](_0x405f06=>{_0x405f06&&_0x124ac9['push'](_0x405f06);}),hu['clear']();}return _0x124ac9;}['allocateRe'+'nderTarget'](){const _0x43ce3a=new ce(this['device'],{'format':Te,'width':this['width'],'height':this['height'],'mipmaps':!(-0x1119+0xe3c+0x2de),'minFilter':fe,'magFilter':fe,'addressU':oe,'addressV':oe,'name':'pick'});this['renderTarg'+'et']=new St({'colorBuffer':_0x43ce3a,'depth':!(0x1405+0x62f+-0x1a34)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x578c02,_0x2ad156,_0x178459){_0x178459 instanceof Fr&&(_0x178459=[_0x178459]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0xa256b2=this['renderPass'];_0xa256b2['init'](this['renderTarg'+'et']),_0xa256b2['colorOps']['clearValue']=Y['WHITE'],_0xa256b2['colorOps']['clear']=!(-0x1383+0x1*0x1331+0x29*0x2),_0xa256b2['depthStenc'+'ilOps']['clearDepth']=!(-0x13*0x1e9+0x187*-0x17+-0x51a*-0xe),_0xa256b2['update'](_0x578c02,_0x2ad156,_0x178459,this['mapping']),_0xa256b2['render']();}['resize'](_0x1c92a7,_0x4d24d4){this['width']=Math['floor'](_0x1c92a7),this['height']=Math['floor'](_0x4d24d4);}};class rF{constructor(_0x4ffe0f){this['_frameInde'+'x']=-0x1d64+0x1*-0x8ad+-0x2611*-0x1,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x7*0x469+0x1de8+-0x3cc6,this['enabled']=!(-0x1a9b+-0xf8e+-0x2a29*-0x1),_0x4ffe0f['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x4ffe0f['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x4ffe0f['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x529483){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x24775a=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x24775a,this['_frameInde'+'x']=-0x49*0x2+-0x216f+0x2201,this['mark'](_0x529483);}['mark'](_0x4d1660){if(!this['enabled'])return;const _0x41bd56=ae();if(this['_frameInde'+'x']>0x53*0x71+0x1*0x1449+-0x38ec){const _0x30dc54=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0x22f5+0x1a85+0x1*-0x3d79)];_0x30dc54[-0x2165+0xe9f+-0xb*-0x1b5]=_0x41bd56-_0x30dc54[-0x1414+0x1b47*0x1+0x732*-0x1];}else{if(this['_timings']['length']>0xa47+0x2048+-0x2a8f){const _0x40d813=this['_timings'][this['_timings']['length']-(0x1fbe+0x1*0x1531+0x54b*-0xa)];_0x40d813[-0x21*0x10d+0x1de4+0x1*0x4ca]=_0x41bd56-_0x40d813[-0x1703+-0xca9+0x23ad];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x4d1660,_0x41bd56]);else{const _0x4cdf02=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x4cdf02[-0x6f*0xd+0x2*-0x127f+-0x617*-0x7]=_0x4d1660,_0x4cdf02[0x164a+0x235*0x9+0x5*-0x86e]=_0x41bd56;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x21d6+-0x11b9+-0xc5*-0x43,-(-0x1362+-0x20c6+0x3429))['map'](_0x4df12d=>_0x4df12d[0x1ea5+-0x43f+-0x1a65]);}}class nF{constructor(_0x3ddb22){this['device']=_0x3ddb22,_0x3ddb22['gpuProfile'+'r']['enabled']=!(-0xf1c*-0x1+0x25d8+-0x2*0x1a7a),this['enabled']=!(-0x685+0x995*0x2+-0xca5),this['unitsName']='ms',this['decimalPla'+'ces']=0x121*-0x3+-0x83b+0x1*0xb9f,this['_timings']=[];}get['timings'](){return this['_timings'][0x1086+0x23da+-0x3460]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class aF{constructor(_0x5b52a7,_0x1f88a2,_0x418450,_0x19ba81,_0x2cd8d7){this['app']=_0x5b52a7,this['values']=[],this['statNames']=_0x1f88a2,this['statNames']['length']>0x7*-0x1c3+-0x2336+0x2f8e&&(this['statNames']['length']=-0x3e*0x9c+0xe3*0xe+0x49*0x59),this['unitsName']=_0x19ba81,this['decimalPla'+'ces']=_0x418450,this['multiplier']=_0x2cd8d7||-0xf72+0xed3*0x1+0x4*0x28;const _0x1cde43=(_0x2db409,_0x515f01)=>_0x2db409['split']('.')['reduce']((_0x55e4fb,_0x51e7c8)=>_0x55e4fb?_0x55e4fb[_0x51e7c8]:null,_0x515f01||this);_0x5b52a7['on']('frameupdat'+'e',_0xa3fc7a=>{for(let _0x40e982=0x455*-0x1+-0x2f*0x3d+0xf88;_0x40e982<this['statNames']['length'];_0x40e982++)this['values'][_0x40e982]=_0x1cde43(this['statNames'][_0x40e982],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class cu{constructor(_0x50893c,_0x89246b,_0x3ab330,_0x23851b,_0x1c2fef){this['app']=_0x89246b,this['name']=_0x50893c,this['device']=_0x89246b['graphicsDe'+'vice'],this['timer']=_0x1c2fef,this['watermark']=_0x3ab330,this['enabled']=!(-0x1c93+0x15c5*0x1+-0xf9*-0x7),this['textRefres'+'hRate']=_0x23851b,this['avgTotal']=-0x1d+0xaed+0x15a*-0x8,this['avgTimer']=-0x101a+0x8a5+0x775,this['avgCount']=-0x1*-0x263c+0x18e2+-0x3f1e,this['timingText']='',this['texture']=null,this['yOffset']=0x656*-0x6+0x2533+0xd1,this['cursor']=0x1*-0x14ae+0x10ec+0x3c2,this['sample']=new Uint8ClampedArray(-0x26ea+0xc2d+0x1ac1),this['sample']['set']([0x1b43*-0x1+0x1b0d+0x1*0x36,0x2408+-0x2209*0x1+-0x1ff,-0xf73*-0x1+0x17*0x135+-0x2b36,-0x7e1*0x2+0x26ce+-0x160d]),this['counter']=0x1*-0xfdf+-0x10e4+0x20c3,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x23f7a9){const _0x4119af=this['timer']['timings'],_0x1f790c=_0x4119af['reduce']((_0x18d6a8,_0x22d4d2)=>_0x18d6a8+_0x22d4d2,0x212d+-0xc00+-0x1*0x152d);if(this['avgTotal']+=_0x1f790c,this['avgTimer']+=_0x23f7a9,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=0x26db+-0x18af*0x1+-0x4*0x38b,this['avgTotal']=-0x1*0x1853+-0x15ff+0xb*0x436,this['avgCount']=-0xc7*0x21+-0x1*0x82d+0x21d4),this['enabled']){let _0x39f744=0x23e5*-0x1+-0x3*-0xd0+0x5*0x6b1;const _0x54ad66=(-0x1597+0x1*-0xb92+0x6a2*0x5+0.5)*this['watermark'];for(let _0x3b4f62=-0x13c7*0x1+0x2558+-0x1191;_0x3b4f62<_0x4119af['length'];++_0x3b4f62)_0x39f744+=Math['floor'](_0x4119af[_0x3b4f62]/_0x54ad66*(0x185*-0xe+0x10a2*-0x2+0x7ef*0x7)),this['sample'][_0x3b4f62]=_0x39f744;this['sample'][-0x18f9*0x1+-0x2365+0x3c61]=this['watermark']/_0x54ad66*(-0x26c6+-0x4*0x728+0x1*0x4465),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0xd*0xc5+0xdfc+0x1*-0x17f9)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x1f89+-0xd*-0xf4+0x1325);}}['render'](_0x2d22f1,_0x507160,_0x1b051b,_0x184963,_0x23dc58){_0x2d22f1['quad'](_0x507160+_0x184963,_0x1b051b,-_0x184963,_0x23dc58,this['enabled']?this['cursor']:-0x6ef+0x71f*0x2+-0x74f,this['enabled']?0x1*0x13f+-0x1d89+0x1c4a+0.5+this['yOffset']:this['texture']['height']-(-0x156*0x2+0x4bb+-0x20e),-_0x184963,0x1659+0x207+-0xf*0x1a0,this['texture'],0x2295+0x477*0x1+-0x270c);}}class oF{constructor(_0x273b60,_0x51e2ec){const _0x182486=_0x27d202=>{_0x27d202['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x27d202['textAlign']='left',_0x27d202['textBaseli'+'ne']='alphabetic';},_0x1833d6=_0x48f777=>_0x48f777==='.'||_0x48f777['length']===0x16c1+-0x186e+0x1ae&&_0x48f777['charCodeAt'](0xe3*-0x1f+-0x23*-0x19+0x1812)>=0x74+0x19*-0x3a+-0x2*-0x2b3&&_0x48f777['charCodeAt'](0xb*-0x281+-0x16f4+0x10d5*0x3)<=0x1dc3*0x1+0x5*-0x7a5+0x8af,_0x4243a4=document['createElem'+'ent']('canvas'),_0x2a84ea=_0x4243a4['getContext']('2d',{'alpha':!(0x8a5+-0x628+-0x27d)});_0x182486(_0x2a84ea);const _0x5decdc=new Map(),_0x502524=-0x1*-0xa45+-0x31*-0xd+-0xcbd,_0x4c59ca=0x22ab+0x2d7*-0x9+-0x71c;let _0x45163e=_0x502524,_0x279e80=_0x502524;_0x51e2ec['forEach'](_0x31a731=>{const _0x262bb0=_0x2a84ea['measureTex'+'t'](_0x31a731),_0x518472=Math['ceil'](-_0x262bb0['actualBoun'+'dingBoxLef'+'t']),_0x20a213=Math['ceil'](_0x262bb0['actualBoun'+'dingBoxRig'+'ht']),_0x160819=Math['ceil'](_0x262bb0['actualBoun'+'dingBoxAsc'+'ent']),_0x26968b=Math['ceil'](_0x262bb0['actualBoun'+'dingBoxDes'+'cent']),_0x43ecd7=_0x518472+_0x20a213,_0x39fa58=_0x160819+_0x26968b;_0x45163e+_0x43ecd7+_0x502524>=_0x4c59ca&&(_0x45163e=_0x502524,_0x279e80+=0x13b0+-0xdf5+-0x5ab*0x1),_0x5decdc['set'](_0x31a731,{'l':_0x518472,'r':_0x20a213,'a':_0x160819,'d':_0x26968b,'w':_0x43ecd7,'h':_0x39fa58,'x':_0x45163e,'y':_0x279e80}),_0x45163e+=_0x43ecd7+_0x502524;}),_0x4243a4['width']=0x962+-0x11+-0x751,_0x4243a4['height']=z['nextPowerO'+'fTwo'](_0x279e80+(-0x1df*-0x13+0x5ad+-0x292a*0x1)+_0x502524),_0x182486(_0x2a84ea),_0x2a84ea['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x2a84ea['fillRect'](0x26ee+-0x1a*0x1d+-0x23fc,0x1bc2+-0xb*-0x49+-0x2cf*0xb,_0x4243a4['width'],_0x4243a4['height']),_0x5decdc['forEach']((_0x29885d,_0x3a6d1f)=>{_0x2a84ea['fillStyle']=_0x1833d6(_0x3a6d1f)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x2a84ea['fillText'](_0x3a6d1f,_0x29885d['x']-_0x29885d['l'],_0x29885d['y']+_0x29885d['a']);}),this['placements']=_0x5decdc;const _0x35b70f=_0x2a84ea['getImageDa'+'ta'](0x2490+0x12cd*0x1+0x375d*-0x1,-0x1*-0x24cf+0x8*-0x2fb+-0x1*0xcf7,_0x4243a4['width'],_0x4243a4['height'])['data'];for(let _0x11491f=-0x115*-0x5+0x284+-0x7ed;_0x11491f<_0x35b70f['length'];_0x11491f+=0xfe8+0x2*0x5c9+-0x1b76)_0x35b70f[_0x11491f+(0x547*0x3+0x494+-0xe*0x175)]=_0x35b70f[_0x11491f+(0x7db+0x1*0x16ad+-0x1e88)],_0x35b70f[_0x11491f+(0x2*-0xdd3+-0x7c5+0x236b)]=-0x24a4+-0x12c+0x26cf,_0x35b70f[_0x11491f+(0xf59*-0x1+0x147a+-0x20*0x29)]=0x1d03+0xaa9*0x2+-0x2*0x18ab,_0x35b70f[_0x11491f+(-0x6*0x459+0x131b+-0x1*-0x6fd)]=0xa77+-0x17e*-0x14+-0x2750;this['texture']=new ce(_0x273b60,{'name':'mini-stats'+'-word-atla'+'s','width':_0x4243a4['width'],'height':_0x4243a4['height'],'mipmaps':!(0x714+0x8*0x154+-0x11b3),'minFilter':fe,'magFilter':fe,'levels':[_0x35b70f]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x10bcf3,_0x55117e,_0xd8e20c,_0x461d71){const _0xc67c60=this['placements']['get'](_0x55117e);return _0xc67c60?(_0x10bcf3['quad'](_0xd8e20c+_0xc67c60['l']-(-0x1*0x397+0x22da+-0x1f42),_0x461d71-_0xc67c60['d']+(0x41*0xc+0x13ed+-0x16f8),_0xc67c60['w']+(-0x1*-0x71d+-0x9b4+0x298)*(0x967+-0x19c+-0x7c9),_0xc67c60['h']+(0x1d7e+-0x17cb*0x1+0x1e6*-0x3)*(0x169+0x2*0x283+-0x66d),_0xc67c60['x']-(-0x1a+0x79d*-0x3+0x16f2),this['texture']['height']-_0xc67c60['y']-_0xc67c60['h']-(-0x381+-0x3dd*-0x6+-0x13ac),void(0x1c1a+0x6ed*-0x2+-0xe40),void(0x1ef6+-0x1c6a+0x4*-0xa3),this['texture'],-0x205e+-0x1*0xee5+0x2f44),_0xc67c60['w']):-0x1*-0x18fd+0x20f0+-0x3*0x134f;}}const lF='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20xy,'+'\x20word\x20flag'+'\x0aattribute'+'\x20vec4\x20vert'+'ex_texCoor'+'d0;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20unnorm'+'alized\x20tex'+'ture\x20space'+'\x20uv,\x20norma'+'lized\x20uv\x0a\x0a'+'varying\x20ve'+'c4\x20uv0;\x0ava'+'rying\x20floa'+'t\x20wordFlag'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position.'+'xy\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20uv0\x20=\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20w'+'ordFlag\x20=\x20'+'vertex_pos'+'ition.z;\x0a}',hF='\x0avarying\x20v'+'ec4\x20uv0;\x0av'+'arying\x20flo'+'at\x20wordFla'+'g;\x0a\x0aunifor'+'m\x20vec4\x20clr'+';\x0auniform\x20'+'sampler2D\x20'+'graphTex;\x0a'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0av'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20gra'+'phSample\x20='+'\x20texture2D'+'(graphTex,'+'\x20uv0.xy);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'graph;\x0a\x20\x20\x20'+'\x20if\x20(uv0.w'+'\x20<\x20graphSa'+'mple.r)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.g)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4(0.2'+',\x200.7,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20else\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.b)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.2,\x200.7,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4(0.0,'+'\x200.0,\x200.0,'+'\x201.0\x20-\x200.2'+'5\x20*\x20sin(uv'+'0.w\x20*\x203.14'+'159));\x0a\x0a\x20\x20'+'\x20\x20vec4\x20wor'+'ds\x20=\x20textu'+'re2D(words'+'Tex,\x20vec2('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'wordFlag)\x20'+'*\x20clr;\x0a}';class cF{constructor(_0xa13b0c,_0x5e2a63=-0x4*0x58+0xf3a*0x2+-0x1b14){const _0x3a7dd2=new Dt(_0xa13b0c,[{'semantic':Xe,'components':0x3,'type':Re},{'semantic':ds,'components':0x4,'type':Re}]),_0x4f6e2a=new Uint16Array(_0x5e2a63*(0x1275+0x67a+-0x38f*0x7));for(let _0x4d9ef1=-0x1c51*-0x1+0x1912*0x1+-0x3563;_0x4d9ef1<_0x5e2a63;++_0x4d9ef1)_0x4f6e2a[_0x4d9ef1*(0x14d3+-0x5e4*-0x6+-0x3825)+(-0x2*-0x1361+0x1e97+-0x4559)]=_0x4d9ef1*(-0x1c36+-0xee9*-0x1+0xd51),_0x4f6e2a[_0x4d9ef1*(-0xef6+-0x9a8+0x26*0xa6)+(0x1ea1+0x1e30+-0x3cd0)]=_0x4d9ef1*(0x1db4+-0x64*0x12+-0x16a8)+(0x3bd*-0x1+0x6*0x3c4+-0x12da),_0x4f6e2a[_0x4d9ef1*(-0x1*0x1966+0x6db*0x2+0xbb6)+(0x20a2+0x103*-0x3+-0x1d97)]=_0x4d9ef1*(-0x194f+0x5*0x4d1+0x13e)+(-0x9e*0x12+-0xe6e+0x198c),_0x4f6e2a[_0x4d9ef1*(-0x1d8b+0x2f*0x76+0x7e7)+(0x21b4+-0x7*-0x407+-0x3de2)]=_0x4d9ef1*(-0x243f+-0xef0+0x101*0x33),_0x4f6e2a[_0x4d9ef1*(-0xaa7+0x1173+-0x6c6)+(0x1161*-0x1+-0x216*-0xb+-0x58d)]=_0x4d9ef1*(0x1*-0x156d+-0x1227+0x1*0x2798)+(0x2ad*0x5+-0xdcf+0x7*0x10),_0x4f6e2a[_0x4d9ef1*(-0x7f*-0x31+0xf95*0x2+0x55*-0xa7)+(0x16fb+-0x1eca+0x3ea*0x2)]=_0x4d9ef1*(-0x20b1+0x1*-0x225f+0xa2*0x6a)+(0x1227*0x1+-0x1*0x1552+0x1*0x32e);this['device']=_0xa13b0c,this['buffer']=new fs(_0xa13b0c,_0x3a7dd2,_0x5e2a63*(-0xe7f*-0x1+-0x6c*0x1b+-0x317),{'usage':fy}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0xcc3*-0x1+-0x1893+-0x1*-0xbd4)),this['indexBuffe'+'r']=new cr(_0xa13b0c,Fi,_0x5e2a63*(0x10dc*0x2+0x21a8+-0x435a),ts,_0x4f6e2a),this['prim']={'type':Fs,'indexed':!(-0xbe9+-0x2*0x80f+0x1c07),'base':0x0,'count':0x0},this['quads']=0x6*-0x3ed+-0xde+0x186c,this['mesh']=new ke(_0xa13b0c),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][0xba4+0x1b3+-0xd57]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x36009a=new La({'uniqueName':'MiniStats','vertexCode':lF,'fragmentCode':hF});this['material']=_0x36009a,_0x36009a['cull']=vt,_0x36009a['depthState']=us['NODEPTH'],_0x36009a['blendState']=new bt(!(-0x113+0x1416+-0x1303),Ut,_c,gc,Ut,ct,ct),_0x36009a['update'](),this['meshInstan'+'ce']=new Be(this['mesh'],_0x36009a,new Oe('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x3*-0x66b+0x1e*-0x146+0x5*0x3cb)},this['targetSize']={'width':_0xa13b0c['width'],'height':_0xa13b0c['height']};}['quad'](_0x55616d,_0x33606a,_0x5cdb31,_0x147ca4,_0x3ef590,_0x869d05,_0xec04bb,_0x1b8b1a,_0x400698,_0x31912b=0x1b94+-0x1*0x196f+0x1*-0x225){const _0x137910=this['targetSize']['width'],_0x1c3875=this['targetSize']['height'],_0x28a49c=_0x55616d/_0x137910,_0x108e4a=_0x33606a/_0x1c3875,_0x3a3ee0=(_0x55616d+_0x5cdb31)/_0x137910,_0x273764=(_0x33606a+_0x147ca4)/_0x1c3875,_0x2f784d=_0x400698['width'],_0x29fb93=_0x400698['height'],_0x2fc764=_0x3ef590/_0x2f784d,_0x5e0ac2=_0x869d05/_0x29fb93,_0x186453=(_0x3ef590+(_0xec04bb??_0x5cdb31))/_0x2f784d,_0x71e7be=(_0x869d05+(_0x1b8b1a??_0x147ca4))/_0x29fb93;this['data']['set']([_0x28a49c,_0x108e4a,_0x31912b,_0x2fc764,_0x5e0ac2,-0x2*-0xe2f+-0x770+-0x39*0x5e,0x3*0x112+-0x3c8+0x92,_0x3a3ee0,_0x108e4a,_0x31912b,_0x186453,_0x5e0ac2,0x10*-0xb3+-0xcb*-0x15+0x6*-0xe9,0xbdb+0x13*-0x3d+-0x4*0x1d5,_0x3a3ee0,_0x273764,_0x31912b,_0x186453,_0x71e7be,0x2575+-0x66b+-0x635*0x5,-0x142*0x9+-0x192*0x9+0x1975*0x1,_0x28a49c,_0x273764,_0x31912b,_0x2fc764,_0x71e7be,0x7*-0x40f+0x1ce5*0x1+0x1*-0x7c,-0x1*-0xb03+0xcb3+-0x17b5],(-0x2436+0x3e4+0x2056)*(-0x2342+0x1*-0x1607+0x3950)*this['quads']),this['quads']++,this['prim']['count']+=0x245d*-0x1+0x1009+0x145a;}['startFrame'](){this['quads']=0x710+-0x45*0x13+-0x1f1,this['prim']['count']=-0x5*-0x3ab+0x26b3*-0x1+0x145c,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x1e124a,_0x1f9443,_0x508ccc,_0x3101c3,_0xbb2bec,_0x45a30a){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0xbb2bec,0x2638+-0x34*-0x69+-0x3b8c),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x508ccc),this['material']['setParamet'+'er']('wordsTex',_0x3101c3),_0x1e124a['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x1f9443);}}class $x{constructor(_0x11d3b1,_0x4a111b){const _0x5f5579=_0x11d3b1['graphicsDe'+'vice'];_0x4a111b=_0x4a111b||$x['getDefault'+'Options'](),this['initGraphs'](_0x11d3b1,_0x5f5579,_0x4a111b);const _0x26217b=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x245c9f=>_0x245c9f['name']))['concat'](_0x4a111b['stats']?_0x4a111b['stats']['map'](_0x52d1f5=>_0x52d1f5['unitsName']):[])['filter'](_0x293379=>!!_0x293379));this['wordAtlas']=new oF(_0x5f5579,_0x26217b),this['sizes']=_0x4a111b['sizes'],this['_activeSiz'+'eIndex']=_0x4a111b['startSizeI'+'ndex'];const _0x2de0f5=document['createElem'+'ent']('div');_0x2de0f5['setAttribu'+'te']('id','mini-stats'),_0x2de0f5['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',document['body']['appendChil'+'d'](_0x2de0f5),_0x2de0f5['addEventLi'+'stener']('mouseenter',_0x1c9e62=>{this['opacity']=-0x5*0x3fd+0x13eb+0x7;}),_0x2de0f5['addEventLi'+'stener']('mouseleave',_0x1ded68=>{this['opacity']=0xb0*-0x14+0x10e0+-0x64*0x8+0.7;}),_0x2de0f5['addEventLi'+'stener']('click',_0x5a08f0=>{_0x5a08f0['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(-0x1*0xe21+-0xd*-0x25d+-0x1097))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x5f5579['on']('resizecanv'+'as',this['updateDiv'],this),_0x5f5579['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x11d3b1['on']('postrender',this['postRender'],this),this['app']=_0x11d3b1,this['drawLayer']=_0x11d3b1['scene']['layers']['getLayerBy'+'Id'](nl),this['device']=_0x5f5579,this['render2d']=new cF(_0x5f5579),this['div']=_0x2de0f5,this['width']=0x404+-0x1*0x677+0x273,this['height']=0x14bd+-0x25c6+0x1109,this['gspacing']=0x2*0x24b+-0x1*0x2de+-0x3*0x92,this['clr']=[-0x22ac+-0x26c8+0x4975,0x810+0x1aa5+-0x22b4,0xd*0x107+-0x1*0x179e+-0xdb*-0xc,-0x3e6+-0xd80+0x11*0x106+0.5],this['_enabled']=!(-0x481*-0x1+-0x398+0x1*-0xe9),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x58a5a3=>_0x58a5a3['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x24e8+0x1c57+-0x413e)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(-0x8d*0x11+0x256e+0x3*-0x95b)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x1*-0x577+0x206a+0x1*-0x25e1)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0xa*0x32a+0x1*-0xb3+-0x1ef1),'watermark':0x21},'gpu':{'enabled':!(-0x2078+-0x1288*0x1+0x3300),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x3c8f27){this['_activeSiz'+'eIndex']=_0x3c8f27,this['gspacing']=this['sizes'][_0x3c8f27]['spacing'],this['resize'](this['sizes'][_0x3c8f27]['width'],this['sizes'][_0x3c8f27]['height'],this['sizes'][_0x3c8f27]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x39f61e){this['clr'][-0x17ab+-0x1635+-0x1*-0x2de3]=_0x39f61e;}get['opacity'](){return this['clr'][-0xb*-0x202+0x223b+-0x384e];}get['overallHei'+'ght'](){const _0x2bc563=this['graphs'],_0x24b538=this['gspacing'];return this['height']*_0x2bc563['length']+_0x24b538*(_0x2bc563['length']-(-0x14a7+0x48a+-0x101e*-0x1));}set['enabled'](_0x354f66){if(_0x354f66!==this['_enabled']){this['_enabled']=_0x354f66;for(let _0x17fa26=0x100+0x685*0x3+-0x148f;_0x17fa26<this['graphs']['length'];++_0x17fa26)this['graphs'][_0x17fa26]['enabled']=_0x354f66,this['graphs'][_0x17fa26]['timer']['enabled']=_0x354f66;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x3c03a3,_0x2d3ea8,_0x241449){if(this['graphs']=[],_0x241449['cpu']['enabled']){const _0x59898a=new rF(_0x3c03a3),_0x5c898e=new cu('CPU',_0x3c03a3,_0x241449['cpu']['watermark'],_0x241449['textRefres'+'hRate'],_0x59898a);this['graphs']['push'](_0x5c898e);}if(_0x241449['gpu']['enabled']){const _0x26b0a3=new nF(_0x2d3ea8),_0x540fe1=new cu('GPU',_0x3c03a3,_0x241449['gpu']['watermark'],_0x241449['textRefres'+'hRate'],_0x26b0a3);this['graphs']['push'](_0x540fe1);}_0x241449['stats']&&_0x241449['stats']['forEach'](_0x5ce642=>{const _0x44ca98=new aF(_0x3c03a3,_0x5ce642['stats'],_0x5ce642['decimalPla'+'ces'],_0x5ce642['unitsName'],_0x5ce642['multiplier']),_0x3cb1cb=new cu(_0x5ce642['name'],_0x3c03a3,_0x5ce642['watermark'],_0x241449['textRefres'+'hRate'],_0x44ca98);this['graphs']['push'](_0x3cb1cb);});const _0x2f0bc5=_0x241449['sizes']['reduce']((_0x320ef8,_0x581872)=>_0x581872['width']>_0x320ef8?_0x581872['width']:_0x320ef8,-0x8*0x1b1+0x23c7+0x5*-0x473);this['texture']=new ce(_0x2d3ea8,{'name':'mini-stats'+'-graph-tex'+'ture','width':z['nextPowerO'+'fTwo'](_0x2f0bc5),'height':z['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x1d0d+0x9b+0x1c73),'minFilter':fe,'magFilter':fe,'addressU':nt,'addressV':nt}),this['graphs']['forEach']((_0x398947,_0x318003)=>{_0x398947['texture']=this['texture'],_0x398947['yOffset']=_0x318003;});}['render'](){const _0x3733ff=this['graphs'],_0x15a2bd=this['wordAtlas'],_0x3dc4e1=this['render2d'],_0x265cbb=this['width'],_0x15e200=this['height'],_0x16921f=this['gspacing'];_0x3dc4e1['startFrame']();for(let _0x21d7c5=0x183a+0x1*0x9ca+-0x2204;_0x21d7c5<_0x3733ff['length'];++_0x21d7c5){const _0xf79eae=_0x3733ff[_0x21d7c5];let _0x19defe=_0x21d7c5*(_0x15e200+_0x16921f);_0xf79eae['render'](_0x3dc4e1,-0xe13+0x1824+-0xa11,_0x19defe,_0x265cbb,_0x15e200);let _0x4b0a0d=0x3e*0x42+-0x1c7+-0x194*0x9;_0x19defe+=_0x15e200-(-0x3*-0x973+-0x1f93*0x1+0x347),_0x4b0a0d+=_0x15a2bd['render'](_0x3dc4e1,_0xf79eae['name'],_0x4b0a0d,_0x19defe)+(-0x27*0x21+0x1*-0x5db+-0x3*-0x3a4);const _0x25b059=_0xf79eae['timingText'];for(let _0x5914de=0x64b+-0x136f*-0x1+-0x19ba;_0x5914de<_0x25b059['length'];++_0x5914de)_0x4b0a0d+=_0x15a2bd['render'](_0x3dc4e1,_0x25b059[_0x5914de],_0x4b0a0d,_0x19defe);_0xf79eae['timer']['unitsName']&&(_0x4b0a0d+=0x1*-0x16a+0x26*-0x42+-0xdd*-0xd,_0x15a2bd['render'](_0x3dc4e1,_0xf79eae['timer']['unitsName'],_0x4b0a0d,_0x19defe));}_0x3dc4e1['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x15e200);}['resize'](_0x1ea7ca,_0x156e28,_0x1e98ce){const _0x2f1c1b=this['graphs'];for(let _0x5038a0=0x1*-0x18a7+-0x23d1+0x3c78;_0x5038a0<_0x2f1c1b['length'];++_0x5038a0)_0x2f1c1b[_0x5038a0]['enabled']=_0x1e98ce;this['width']=_0x1ea7ca,this['height']=_0x156e28,this['updateDiv']();}['updateDiv'](){const _0x33f9e4=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x33f9e4['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x33f9e4['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px';}['loseContex'+'t'](){this['graphs']['forEach'](_0x1f3d72=>_0x1f3d72['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}class SF extends Zt{constructor(){super(...arguments),c(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),c(this,'controller'+'s',new Map()),c(this,'preEntitie'+'s',new Map()),c(this,'eventsList',[]),c(this,'addEvents',(_0x448a4a,_0x1539f0,_0x5b9aa9)=>{_0x448a4a['on'](_0x1539f0,_0x5b9aa9),this['eventsList']=this['eventsList']['concat']({'e':_0x448a4a,'ty':_0x1539f0,'fn':_0x5b9aa9});}),c(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x45d103,ty:_0x447b0e,fn:_0x48418e})=>{_0x45d103['off'](_0x447b0e,_0x48418e);}),this['eventsList']=[];}),c(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x2e4072=>{var _0x2cd273;if(console['log']('add\x20xr\x20inp'+'ut',_0x2e4072['handedness']),!((_0x2cd273=_0x2e4072['profiles'])!=null&&_0x2cd273['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x1958c8=_0x2e4072['profiles']['map'](async _0x514495=>{var _0x2a24b0;const _0x4216c5=this['basePath']+'/'+_0x514495+('/profile.j'+'son');try{const _0x1abbf5=await fetch(_0x4216c5);if(!_0x1abbf5['ok'])return null;const _0x32fc53=await _0x1abbf5['json'](),_0x3a4a37=((_0x2a24b0=_0x32fc53['layouts'][_0x2e4072['handedness']])==null?void(0xda*0x10+0x9bb*0x2+-0x2116):_0x2a24b0['assetPath'])||'',_0x301540=this['basePath']+'/'+_0x32fc53['profileId']+'/'+_0x2e4072['handedness']+_0x3a4a37['replace'](/^\/?(left|right)/,''),_0x9b9e99=await new Promise((_0x3cbed3,_0xf1ef)=>{this['app']['assets']['loadFromUr'+'l'](_0x301540,'container',(_0x14fba7,_0x131d1e)=>{_0x14fba7?_0xf1ef(_0x14fba7):_0x3cbed3(_0x131d1e);});});return{'profileId':_0x514495,'asset':_0x9b9e99};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x514495),null;}}),_0x2d33fa=(await Promise['all'](_0x1958c8))['find'](_0x2d264d=>_0x2d264d!==null);if(_0x2d33fa){const {asset:_0x5202c3}=_0x2d33fa,_0x112858=_0x5202c3['resource']['instantiat'+'eRenderEnt'+'ity']();_0x112858['name']='Armature_'+_0x2e4072['handedness'],this['app']['root']['addChild'](_0x112858),this['preEntitie'+'s']['set'](_0x2e4072,_0x112858);const _0x3f0823=new Map();if(_0x2e4072['hand'])for(const _0x419288 of _0x2e4072['hand']['joints']){const _0x56580c=_0x112858['findByName'](_0x419288['id']);_0x56580c&&_0x3f0823['set'](_0x419288,_0x56580c);}this['controller'+'s']['set'](_0x2e4072,{'entity':_0x112858,'jointMap':_0x3f0823});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x390d85=>{var _0x482432;const _0x5237c1=this['controller'+'s']['get'](_0x390d85);_0x5237c1&&((_0x482432=_0x5237c1['entity'])==null||_0x482432['destroy'](),this['app']['root']['removeChil'+'d'](_0x5237c1==null?void(-0x8b*-0x1+-0x158+0xcd):_0x5237c1['entity']),this['controller'+'s']['delete'](_0x390d85));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),c(this,'destroy',()=>{var _0x30310c,_0x248f41,_0x40b045;const _0x4e5715=this['app'];(_0x30310c=this['controller'+'s'])==null||_0x30310c['forEach'](_0x176eb3=>{var _0x21b1eb;_0x4e5715['root']['removeChil'+'d'](_0x176eb3==null?void(0x5e0*0x2+0x125b*-0x2+-0x3*-0x852):_0x176eb3['entity']),(_0x21b1eb=_0x176eb3['entity'])==null||_0x21b1eb['destroy']();}),(_0x248f41=this['controller'+'s'])==null||_0x248f41['clear'](),(_0x40b045=this['preEntitie'+'s'])==null||_0x40b045['forEach'](_0x5323c2=>{_0x4e5715['root']['removeChil'+'d'](_0x5323c2),_0x5323c2==null||_0x5323c2['destroy']();});const _0x409564=()=>{const _0x58c70e=_0x4e5715['root']['findByName']('Armature_l'+'eft'),_0x5969b1=_0x4e5715['root']['findByName']('Armature_r'+'ight');for(_0x58c70e&&_0x4e5715['root']['removeChil'+'d'](_0x58c70e),_0x5969b1&&_0x4e5715['root']['removeChil'+'d'](_0x5969b1);_0x4e5715['root']['findByName']('Armature_l'+'eft')||_0x4e5715['root']['findByName']('Armature_r'+'ight');)_0x409564();};_0x409564();});}['update'](_0xee88ab){var _0x4d7448;if((_0x4d7448=this['app']['xr'])!=null&&_0x4d7448['active']){for(const [_0x120f5b,{entity:_0x2afe0b,jointMap:_0x88ea2c}]of this['controller'+'s'])if(_0x120f5b['hand']){for(const [_0x5efb5b,_0x373fa0]of _0x88ea2c)_0x373fa0['setPositio'+'n'](_0x5efb5b['getPositio'+'n']()),_0x373fa0['setRotatio'+'n'](_0x5efb5b['getRotatio'+'n']());}else _0x2afe0b['setPositio'+'n'](_0x120f5b['getPositio'+'n']()),_0x2afe0b['setRotatio'+'n'](_0x120f5b['getRotatio'+'n']());}}}export{gF as A,ve as B,Y as C,SF as D,je as E,q1 as F,ph as G,tx as H,de as I,$x as J,km as K,Ap as L,Cl as M,j as N,yF as P,ie as Q,H_ as R,zt as S,p0 as T,A as V,oy as W,jL as X,ee as a,IL as b,W as c,he as d,al as e,pa as f,Xs as g,Pp as h,uF as i,fF as j,pF as k,mF as l,_F as m,Hh as n,Gh as o,Wh as p,ku as q,fh as r,Wr as s,$r as t,Rs as u,_s as v,vI as w,Xn as x,P0 as y,q as z};function _0xe71481(_0x3b007f){function _0x11620d(_0x3cabd3){if(typeof _0x3cabd3==='string')return function(_0x4a5400){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x3cabd3/_0x3cabd3)['length']!==-0x1292*-0x1+0x2669+-0x38fa||_0x3cabd3%(-0x749+0x1e2a+-0x1*0x16cd)===0x4a8+-0x14f*-0xd+-0x15ab?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x11620d(++_0x3cabd3);}try{if(_0x3b007f)return _0x11620d;else _0x11620d(-0x2d*-0x5b+-0x756+0x3*-0x2e3);}catch(_0x231854){}}